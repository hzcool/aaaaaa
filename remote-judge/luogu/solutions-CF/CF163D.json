[
    {
        "content": "\u4e0d\u96be\u53d1\u73b0\u6b64\u9898\u53ef\u4ee5\u7206\u641c\u3002\n\n\u7531\u9898\u610f $abc = V$\u3002\n\n\u53d8\u5f62\u5f97\u5230 $bc = \\frac{V}{a}$\u3002\n\n\u6240\u4ee5\u6709 $\\frac{1}{2}S = ab+bc+ac = a(b+c) + \\frac{V}{a}$\u3002\n\n\u8003\u8651\u4e0d\u7b49\u5f0f\uff1a $a+b \\geq 2\\sqrt{ab}, a,b\\geq 0$\u3002\n\n\u6240\u4ee5 $a(b+c) \\geq 2a\\sqrt{bc} = 2a\\sqrt{\\frac{V}{a}}$\u3002\n\n\u6240\u4ee5 $\\frac{1}{2}S \\geq 2a\\sqrt{\\frac{V}{a}} + \\frac{V}{a}$\u3002\n\n\u4e0a\u9762\u7684\u8fd9\u6761\u5f0f\u5b50\u89c4\u5b9a\u4e86 $a$ \u7684\u8303\u56f4\u3002\n\n\u8003\u8651\u526a\u679d\uff1a\u6211\u4eec\u53ef\u4ee5\u5047\u8bbe $a \\leq b \\leq c$\uff0c\u90a3\u4e48\u663e\u7136\u6709 $a \\leq \\sqrt[3]{V}, b \\leq \\sqrt{\\frac{V}{a}}$\uff0c\u8fd9\u4f7f\u5f97\u5f97\u5230\u4e00\u4e2a\u5408\u6cd5\u7684 $a$ \u540e\u5c31\u80fd\u5f97\u5230\u5bf9\u5e94\u7684\u5408\u6cd5 $b$ \u7684\u8303\u56f4\u3002\u6240\u4ee5\u7206\u641c\u7684\u601d\u8def\u5c31\u5f88\u7b80\u5355\uff1a\u5148\u5bf9 $a$ \u8fdb\u884c\u7206\u641c\uff0c\u5f97\u5230\u4e00\u4e2a\u5408\u6cd5 $a$ \u540e\uff0c\u7206\u641c $b$\uff0c\u5f97\u5230 $c = \\frac{V}{ab}$\uff0c\u66f4\u65b0\u7b54\u6848\u5373\u53ef\n\n\u8bf7\u6ce8\u610f\u6839\u53f7\u64cd\u4f5c\u7684\u7cbe\u5ea6\u95ee\u9898\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nint t,k;\nll p[105];\nint q[105];\nll V,ans,ansa,ansb,ansc,a,b,c;\nll MAXA,MAXB;\ninline void bfs(int dep,ll sum){//\u7206\u641cb\uff0c\u641c\u5230\u7b2cdep\u4e2a\u56e0\u5b50\uff0c\u6b64\u65f6\u7684b\u7684\u503c\u4e3asum \n\tif(sum > MAXB) return ;\n\tif(dep > k){\n\t\tif(sum < a) return ;\n\t\tb = sum,c = V/a/b;\n\t\tif(a*b+b*c+a*c < ans) ans = a*b+b*c+a*c,ansa = a,ansb = b,ansc = c;\t\n\t\treturn ;\n\t}\n\tif(q[dep]) q[dep]--,bfs(dep,sum*p[dep]),q[dep]++;\n\tbfs(dep+1,sum);\n}\n\ninline void dfs(int dep,ll sum){\n\tif(sum > MAXA) return ;\n\tif(dep > k){\n\t\ta = sum;\n\t\tif(V/a + 2*a*sqrt(V/a) < ans) MAXB = sqrt(V/a)+1e-8,bfs(1,1);//\u8fd9\u4e2a+(1e-8)\u662f\u4e3a\u4e86\u8c03\u6574\u4e0a\u9650\u7684\u7cbe\u5ea6 \n\t\treturn ;\n\t}\n\tif(q[dep]) q[dep]--,dfs(dep,sum*p[dep]),q[dep]++;\n\tdfs(dep+1,sum);\n}\nint main(){\n\tscanf(\"%d\",&t);\n\twhile(t--){\n\t\tscanf(\"%d\",&k);\n\t\tV = 1;\n\t\tfor(int i = 1;i<=k;++i){\n\t\t\tscanf(\"%lld%d\",p+i,q+i);\n\t\t\tfor(int j = 1;j<=q[i];++j) V *= 1ll*p[i];\n\t\t}\n\t\tMAXA = pow(V,1.0/3)+1e-8,ansa = ansb = ansc = 0,ans = 9223372036854775800;\n\t\tdfs(1,1);\n\t\tprintf(\"%lld %lld %lld %lld\\n\",2*ans,ansa,ansc,ansb);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1601991826,
        "uid": 114173,
        "name": "Computer1828",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF163D \u3010Large Refrigerator\u3011"
    },
    {
        "content": "## Start\n\u7b80\u5355\u601d\u7ef4 + \u7206\u641c\n\n\u5173\u4e8e\u6570\u636e\u8303\u56f4\uff0c\u4e0d\u4f1a\u7206 `long long`\uff0c$k\\leqslant 20$\n\n\u76ee\u524d\u6700\u4f18\u89e3\u3002\n\n\u53e6\u5916\uff0c[$\\operatorname{CF}$](https://codeforces.com/problemset/problem/163/D) \u6709 $\\operatorname{SPJ}$\u3002  \n&nbsp;  \n## \u7b80\u5355\u6570\u5b66\u77e5\u8bc6\n\n$b+c\\geqslant 2\\sqrt{bc}$\n\n\u6d45\u663e\u6613\u61c2\uff0c\u4eba\u4eba\u90fd\u4f1a\uff0c\u4e8e\u662f\uff1a\n\n$\n\\begin{aligned}\n\\frac{1}{2}S&=ab+bc+ca=a(b+c)+bc\\\\\n&\\geqslant 2a\\sqrt{bc}+bc=2a\\sqrt\\frac{V}{a}+\\frac{V}{a}\n\\end{aligned}\n$\n\n\u4e0b\u9762\u4f1a\u7528\u5230\u3002  \n&nbsp;\n## \u7206\u641c\n\n\u7531\u4e8e\u6570\u636e\u8303\u56f4\u5f88\u5c0f\uff0c\u60f3\u5230\u7206\u641c\u3002\n\n\u5047\u8bbe $a\\leqslant b\\leqslant c$\uff0c\u5219 $a\\leqslant \\sqrt[3]{V},b\\leqslant\\sqrt{\\frac{V}{a}}$\u3002\n\n\u80af\u5b9a\u5148\u641c\u7d22 $a$\u3002\n\n\u6211\u4eec\u5148\u8bbe\u7b54\u6848 $S$ \u662f\u4e00\u4e2a\u6781\u5927\u503c\uff0c\u90a3\u4e48\u641c\u7d22\u7b54\u6848\u7684\u8fc7\u7a0b\u662f\u4e00\u4e2a $S$ **\u9010\u6e10\u51cf\u5c0f** \u7684\u8fc7\u7a0b\u3002\n\n\u7531\u4e8e $\\frac{1}{2}S\\geqslant2a\\sqrt\\frac{V}{a}+\\frac{V}{a}$ \uff0c\u90a3\u4e48\u53ef\u4ee5\u5728\u641c\u7d22\u65f6\u5c06 $\\frac{1}{2}S<2a\\sqrt\\frac{V}{a}+\\frac{V}{a}$ \u7684\u60c5\u51b5\u76f4\u63a5\u526a\u6389\uff08\u526a\u679d\uff09\u3002\n\n\u786e\u5b9a\u4e86 $a$ \u4ee5\u540e\u641c\u7d22 $b$\uff0c\u5927\u6982\u5c31\u662f\u8fd9\u6837\u3002\n\n&nbsp;\n## \u641c\u7d22 $a$\n\u663e\u7136\u7684\uff0c$a=\\prod^{k}_{i=1}p_i^{q_i}$\uff0c\u5176\u4e2d $q_i$ \u662f\u6211\u4eec\u9700\u8981\u7206\u641c\u7684\uff0c\u5e76\u4e14 $q_i\\leqslant a_i$\u3002\n```cpp\ninline void dfs_a(int i, ll a, ll max)\n{\n\tif (a > max) return;\n\tif (i > k) // a \u641c\u7d22\u5b8c\u4e86\n\t{\n\t\tif (v / a + (a << 1) * sqrt(v / a) < S) dfs_b(1, a, 1, sqrt(v / a)); // \u526a\u679d\n\t\treturn;\n\t}\n\tif (e[i]) --e[i], dfs_a(i, a * p[i], max), ++e[i];\n\tdfs_a(i + 1, a, max);\n}\n```\n\u5176\u4e2d $i$ \u8868\u793a\u641c\u7d20\u8fdb\u884c\u5230\u7b2c $i$ \u4f4d\uff08\u4e0a\u9762\u7684\u8fde\u4e58\u5f0f\u5b50\uff09\uff0c$\\max$ \u8868\u793a $a$ \u7684\u4e0a\u9650\uff0c$\\max=\\sqrt[3]{V}$\u3002\n\n$a$ \u6570\u7ec4\u548c $a$ \u91cd\u540d\uff0c\u7528 $e$ \u6570\u7ec4\u4ee3\u66ff\u3002\n\n`dfs_b` \u662f\u641c\u7d22 $b$\uff0c\u5982\u4e0b\u3002  \n&nbsp;\n## \u641c\u7d22 $b$\n\n\u8fc7\u7a0b\u4e0e `dfs_a` \u5dee\u4e0d\u591a\u3002\n```cpp\ninline void dfs_b(int i, ll a, ll b, ll max)\n{\n\tif (b > max) return;\n\tif (i > k) // b \u641c\u7d22\u5b8c\u6210\n\t{\n\t\tif (b >= a)\n\t\t{\n\t\t\tll c = v / a / b;\n\t\t\tif (a * b + b * c + c * a < S) S = (_a = a) * b + (_b = b) * c + (_c = c) * a;\n\t\t\t// \u7edf\u8ba1\u7b54\u6848\n\t\t} \n\t\treturn;\n\t}\n\tif (e[i]) --e[i], dfs_b(i, a, b * p[i], max), ++e[i];\n\tdfs_b(i + 1, a, b, max);\n}\n```\n`S,_a,_b,_c` \u8bb0\u5f55\u7b54\u6848\u3002  \n&nbsp;\n## End\n\n$v$ \u76f4\u63a5\u66b4\u529b\u8ba1\u7b97\u5373\u53ef\u3002$\\sqrt[3]{V}$ \u8ba1\u7b97\u65f6\u6709\u53ef\u80fd\u4f1a\u56e0\u4e3a\u5411\u4e0b\u53d6\u6574\u5931\u53bb\u6b63\u786e\u7b54\u6848\uff0c\u4e8e\u662f $+1$\u3002\n\n\u5177\u4f53\u5730\uff0c`dfs_a(1, 1, pow(v, 1.0 / 3) + 1);`\n\n",
        "postTime": 1653707400,
        "uid": 282929,
        "name": "\u67f3\u6613\u8fb0",
        "ccfLevel": 0,
        "title": "CF163D \u9898\u89e3"
    },
    {
        "content": "\u5176\u5b9e\u8fd9\u662f\u4e00\u9053\u6c34\u9ed1\u3002\n\n## \u601d\u8def\n$\\because a\\times b\\times c=V$\n\n$\\therefore b\\times c=\\dfrac{V}{a}$\n\n$\\therefore \\dfrac{1}{2}S=a\\times b+a\\times c+b\\times c$\n\n$\\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ =a\\times (b+c)+\\dfrac{V}{a}$\n\n$\\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ge 2\\cdot a\\cdot \\sqrt{b\\times c}+\\dfrac{V}{a}$\n\n$\\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ =2\\cdot a\\cdot \\sqrt{\\dfrac{V}{a}}+\\dfrac{V}{a} $\n\n\u8fd9\u4e2a\u5f0f\u5b50\u540e\u9762\u4f1a\u7528\u3002\n\n\u6211\u4eec\u4e0d\u59a8\u4ee4 $a\\le b\\le c$\uff0c\u5219 $a\\le \\sqrt[3]{V}$\uff0c$b\\le \\sqrt{\\dfrac{V}{a}}$\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5728\u8fd9\u4e2a\u8303\u56f4\u5185\u679a\u4e3e $a$\uff0c\u518d\u679a\u4e3e $b$\u3002\n\n\u8003\u8651\u526a\u679d\uff0c\u5f53 $\\dfrac{1}{2}S<2\\cdot a\\cdot \\sqrt{\\dfrac{V}{a}}+\\dfrac{V}{a}$ \u65f6\uff0c\u9000\u51fa\u5faa\u73af\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nll t;\nll k,v,maxa,maxb,ans,ansa,ansb,ansc,p[1000],a[1000];\nvoid dfsb(ll numa,ll l,ll sum)\n{\n\tif(sum>maxb)\n\t{\n\t\treturn;\n\t}\n\tif(l>k)\n\t{\n\t\tll numc=v/numa/sum;\n\t\tif(numc*sum+sum*numa+numa*numc<ans)\n\t\t{\n\t\t\tans=numc*sum+sum*numa+numa*numc;\n\t\t\tansa=numa;\n\t\t\tansb=sum;\n\t\t\tansc=numc;\n\t\t}\n\t\treturn;\n\t}\n\tif(a[l]>0)\n\t{\n\t\ta[l]--;\n\t\tdfsb(numa,l,sum*p[l]);\n\t\ta[l]++;\n\t}\n\tdfsb(numa,l+1,sum);\n}\nvoid dfsa(ll l,ll sum)\n{\n\tif(sum>maxa)\n\t{\n\t\treturn;\n\t}\n\tif(l>k)\n\t{\n\t\tif(v/sum+2*sum*sqrt(v/sum)<ans)\n\t\t{\n\t\t\tmaxb=sqrt(v/sum);\n\t\t\tdfsb(sum,1,1);\n\t\t}\n\t\treturn;\n\t}\n\tif(a[l]>0)\n\t{\n\t\ta[l]--;\n\t\tdfsa(l,sum*p[l]);\n\t\ta[l]++;\n\t}\n\tdfsa(l+1,sum);\n}\nint main()\n{\n\tcin>>t;\n\twhile(t--)\n\t{\n\t\tcin>>k;\n\t\tv=1;\n\t\tfor(int i=1;i<=k;i++)\n\t\t{\n\t\t\tcin>>p[i]>>a[i];\n\t\t\tfor(int j=1;j<=a[i];j++)\n\t\t\t{\n\t\t\t\tv*=p[i];\n\t\t\t}\n\t\t}\n\t\tmaxa=cbrt(v);\n\t\tans=2e18;\n\t\tdfsa(1,1);\n\t\tcout<<ans*2<<\" \"<<ansa<<\" \"<<ansb<<\" \"<<ansc<<endl;\n\t}\n}\n```\n",
        "postTime": 1683554253,
        "uid": 310581,
        "name": "ethan090328",
        "ccfLevel": 5,
        "title": "CF163D\u9898\u89e3"
    },
    {
        "content": "\u9996\u5148\u9898\u9762\u770b\u8d77\u6765\u6050\u6016\uff0c\u5176\u5b9e\u7206\u641c\u89e3\u51b3\u4e00\u5207\u3002\n\n\u4f46\u662f\u592a\u7eaf\u7684\u7206\u641c\u5e94\u8be5\u662f\u4f1a\u6b7b\u7684\u5f88\u60e8\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651\u526a\u679d:\n\n\u9996\u5148\uff0c\u6bd4\u8f83\u5bb9\u6613\u60f3\u7684\u526a\u679d:\n\n\u4fdd\u8bc1 $a \\geqslant b \\geqslant c$,\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u4e00\u4e9b\u91cd\u590d\u7684\u641c\u7d22\u91cf(\u4e0b\u9762\u6ca1\u7528)\u3002\n\n\u63a5\u4e0b\u6765\u8003\u8651\u6700\u4f18\u5316\u526a\u679d:\n\n$bc = \\frac{V}{a}\\leftarrow V = abc \\rightarrow a = \\frac{V}{bc}$\n\n$ab+bc+ac = a(b+c)+bc = a(b+c)+\\frac{V}{a} \\geqslant 2a\\sqrt{bc}+\\frac{V}{a} = 2a\\sqrt{\\frac{V}{a}}+\\frac{V}{a}$\n\n\u5982\u4e0a\u8ff0\u5f0f\u5b50:\n\n\u82e5\u5b58\u5728 $ans \\leqslant 2a\\sqrt{\\frac{V}{a}}+\\frac{V}{a}$\uff0c\n\u5c31\u53ef\u4ee5\u526a\u6389\u3002\n\n\u518d\u5c31\u662f\u5f88\u57fa\u672c\u7684\u53ef\u884c\u6027\u526a\u679d:\n\n$a^3 < V,ab^2 < V$\n\n\u7efc\u4e0a\u8fd9\u9053\u6c34\u9898\u5c31\u88ab\u89e3\u51b3\u4e86\u3002\n\n~~~\n# include <ctime>\n# include <cmath>\n# include <cstdio>\n# include <cstdlib>\n# include <cstring>\n# include <algorithm>\n# include <queue>\n# include <iostream>\n# define LL long long\n\nLL ansa,ansb,ansc,ans,S,p[105][65],V = 1;\nint sp[105],n;\n\nvoid dfs_bc(const int cur,const LL a,const LL b)\n{\n    if((double)b*b > V/a) return;\n    else if(cur > n)\n    {\n        const LL c = V/a/b;\n        if(a*(b+c)+b*c < ans)\n        {\n            ans = a*(b+c)+b*c;\n            ansa = a;\n            ansb = b;\n            ansc = c;\n        }\n    }\n    else \n    {\n        for(int j = sp[cur]; j >= 0 ; --j)\n        {\n            sp[cur] -= j;\n            dfs_bc(cur+1,a,b*p[cur][j]);\n            sp[cur] += j;\n        }\n    }\n}\n\nvoid dfs_a(int cur,const LL a)\n{\n    if((double)a*a > V/a) return;\n    else if(cur > n)\n    {\n        const int x = V/a;\n        if(ans <= 2*a*sqrt(x)+x) return;\n        dfs_bc(1,a,1);\n    }\n    else \n    {\n        for(int j = sp[cur]; j >= 0 ; --j)\n        {\n            sp[cur] -= j;\n            dfs_a(cur+1,a*p[cur][j]);\n            sp[cur] += j;\n        }\n    }\n}\n\nint main()\n{\n    int T;\n    for(scanf(\"%d\",&T); T ; T--)\n    {\n        scanf(\"%d\",&n);V = 1;\n        for(int i = 1; i <= n ; ++i) scanf(\"%lld%d\",&p[i][1],sp+i);\n        for(int i = 1; i <= n ; ++i)\n        {\n            p[i][0] = 1;\n            for(int j = 2; j <= sp[i] ; ++j) p[i][j] = p[i][j-1]*p[i][1];\n            V *= p[i][sp[i]];\n        }\n        ans = ((1LL)<<(62LL));\n        dfs_a(1,1);\n        printf(\"%lld %lld %lld %lld\\n\",ans*2,ansa,ansb,ansc);\n    }\n    return 0;\n}\n\n~~~",
        "postTime": 1601905566,
        "uid": 222127,
        "name": "\u4e91\u5c81\u6708\u4e66",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF163D \u3010Large Refrigerator\u3011"
    }
]