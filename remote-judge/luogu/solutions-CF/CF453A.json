[
    {
        "content": "\u4e00\u9053\u671f\u671bDP\n\n\u5982\u679c\u6295$n$\u6b21\uff0c\u6700\u5927\u70b9\u6570\u662f$k$\uff0c\u90a3\u4e48\u60c5\u51b5\u5171\u6709$k^n-(k-1)^n$\u79cd\u3002\n\n\u82e5$n$\u6b21\u6295\u63b7\u7684\u70b9\u6570\u90fd\u5728$1$\u5230$k$\u5185\uff0c\u5171\u6709$k^n$\u79cd\u60c5\u51b5\u3002\n\n\u82e5$n$\u6b21\u6295\u63b7\u7684\u70b9\u6570\u90fd\u5728$1$\u5230$k-1$\u5185\uff0c\u5171\u6709$(k-1)^n$\u79cd\u60c5\u51b5\u3002\n\n\u8fd9\u4e24\u4e2a\u6570\u503c\u76f8\u51cf\u5373\u53ef\u5f97\u5230\u6700\u5927\u503c\u662f$k$\u7684\u60c5\u51b5\u3002\n\n\u6240\u4ee5\u6211\u4eec\u7684\u671f\u671b$ans=\\frac{\\sum_{i=1}^mi\\times (i^n-(i-1)^n)}{m^n}=\\sum_{i=1}^mi\\times((\\frac{i}{m})^n-(\\frac{i-1}{m})^n).$\n\n\n```\n#include<cstdio>\n#include<cmath>\nusing namespace std;\ndouble n,m,ans;\nint main(){\n\tscanf(\"%lf%lf\",&m,&n);\n\tfor(double i=1;i<=m;i++)\n\tans+=i*(pow(i/m,n)-pow((i-1)/m,n));\n\tprintf(\"%.12lf\\n\",ans);\n}\n```",
        "postTime": 1536757691,
        "uid": 50092,
        "name": "da32s1da",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF453A \u3010Little Pony and Expected Maximum\u3011"
    },
    {
        "content": "### \u9898\u610f\n\n\u9898\u76ee\u7684\u610f\u601d\u53ef\u4ee5\u8f6c\u5316\u4e3a\u6709 $n$ \u4e2a\u968f\u673a\u53d8\u91cf $X_1,X_2,X_3,\\dots{X_n}$\uff0c\u6bcf\u4e2a\u968f\u673a\u53d8\u91cf\u7684\u53d6\u503c\u8303\u56f4\u90fd\u4e3a $[1,m]$ \uff0c\u6c42\u51fa $\\max\\{X_1,X_2,X_3,\\dots{X_n}\\}$ \u7684\u671f\u671b\u3002\n\n### \u601d\u8def\n\n\u5bf9\u4e8e\u79bb\u6563\u53d8\u91cf\u7684\u6982\u7387\uff0c\u6709\u4ee5\u4e0b\u7684\u524d\u7f00\u548c\u6027\u8d28\uff1a\n\n> $P(X=K)=P(X\\le{K})-P(X\\le{K-1})$\n\n\u6211\u4eec\u8003\u8651\u7528\u4e0a\u5f0f\u5bf9\u672c\u9898\u8fdb\u884c\u5316\u7b80\uff1a\n\n> $\\begin{aligned}E(\\max)&=\\sum\\limits_{i=1}^{m}P(\\max=i)\\times{i}\\\\\n&=\\sum\\limits_{i=1}^{m}(P(\\max\\le{i})-P(\\max\\le{i-1}))\\times{i}\\\\\n&=\\sum\\limits_{i=1}^{m}(\\frac{i^n}{m^n}-\\frac{(i-1)^n}{m^n})\\times{i}\\\\\n&=\\sum\\limits_{i=1}^{m}((\\frac{i}{m})^n-(\\frac{i-1}{m})^n)\\times{i}\\end{aligned}$\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <vector>\n#include <queue>\n#include <ctime>\n#include <algorithm>\nusing namespace std;\ntypedef long long ll;\n\ninline ll read()\n{\n\tll a=0,f=1;\n\tchar ch=getchar();\n\tfor(;!isdigit(ch);ch=getchar())\n\t\tif(ch=='-')f=-1;\n\tfor(;isdigit(ch);ch=getchar())\n\t\ta=(a<<3)+(a<<1)+ch-'0';\n\treturn a*f;\n}\n\nvoid write(ll x)\n{\n\tif(x<0)x=-x;putchar('-');\n\tif(x>9)write(x/10);\n\tputchar((x%10)^48);\n}\n\nconst int mod=1e9+7;\nconst int N=1e6+5;\ndouble ans;\n\ninline double qpow(double a,ll n)\n{\n\tdouble ans=1.00;\n\tfor(;n;n>>=1,a=a*a)\n\t\tif(n&1)ans=ans*a;\n\treturn ans;\n}\n\nsigned main()\n{\n\tll m=read(),n=read();\n\tfor(int i=1;i<=m;i++)\n\t\tans+=(qpow((double)i/m,n)-qpow((double)(i-1)/m,n))*i;\n\tprintf(\"%lf\\n\",ans);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1619266568,
        "uid": 213841,
        "name": "Steadywelkin",
        "ccfLevel": 7,
        "title": "CF453A Little Pony and Expected Maximum \u9898\u89e3"
    },
    {
        "content": "\n## \u9898\u89e3\uff1a\n\n\u5bf9\u4e8e\u8fd9\u79cd\u6570\u5b66\u671f\u671b\u7c7b\u7684\u9898\u76ee\uff0c\u601d\u8def\u5f80\u4e24\u4e2a\u65b9\u5411\u53bb\uff1a\u7b2c\u4e00\u79cd\u601d\u8003\u53ef\u4e0d\u53ef\u4ee5\u9012\u63a8\u5730DP\u8f6c\u79fb\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u5e38\u8bf4\u7684\u671f\u671bDP\u3002\u7b2c\u4e8c\u79cd\u5c31\u662f\u76f4\u63a5\u4ece\u671f\u671b\u7684\u5b9a\u4e49\u8fdb\u884c\u63a2\u7a76\uff0c\u7528\u6570\u5b66\u65b9\u6cd5\u63a8\u5bfc\u4e00\u4e2a\u516c\u5f0f\u7136\u540e\u6c42\u89e3\u3002\n\n\u8fd9\u9053\u9898\u9996\u5148\u60f3\u5230\u671f\u671bDP\uff0c\u4f46\u662f\u6ca1\u6709\u8bbe\u7f6e\u51fa\u4e00\u4e2a\u6bd4\u8f83\u597d\u7684\u72b6\u6001\u6765\u8fdb\u884c\u8f6c\u79fb\u3002\n\n\u90a3\u4e48\u76f4\u63a5\u8003\u8651\u53ef\u4e0d\u53ef\u4ee5\u63a8\u5bfc\u3002\n\n\u671f\u671b\u7684\u5b9a\u4e49\uff1a\u6982\u7387\u4e58\u6743\u503c\u3002\n\n\u90a3\u4e48\u73b0\u5728\u6743\u503c\u5df2\u77e5\uff0c\u6211\u4eec\u53ea\u9700\u8981\u627e\u6bcf\u4e2a\u6743\u503c\u7684\u6982\u7387\u5373\u53ef\u3002\n\n\u9996\u5148\u603b\u4e8b\u4ef6\u6570\u4e3a$m^n$\uff0c\u5f88\u597d\u7406\u89e3\u3002\n\n\u5047\u8bbe\u6254\u4e86n\u6b21\u4e4b\u540e\uff0c\u6254\u5230\u7684\u6700\u5927\u503c\u662fk\u3002\u90a3\u4e48\u5728\u8fd9$m^n$\u79cd\u60c5\u51b5\u4e2d\uff0c\u7b26\u5408\u8981\u6c42\u7684\u60c5\u51b5\u5c31\u662f$k^n-(k-1)^n$\u79cd\u3002\n\n\u4e3a\u4ec0\u4e48\u5462\uff1f\n\n\u6254\u52301-k\u7684\u60c5\u51b5\u662f$k^n$\uff0c\u6254\u52301-(k-1)\u7684\u60c5\u51b5\u662f$(k-1)^n$\uff0c\u5bb9\u65a5\u53ef\u5f97\u3002\n\n\u6240\u4ee5\u671f\u671b\u5c31\u662f\uff1a\n$$\n\\sum_{i=1}^m\\frac{i\\times (i^n-(i-1)^n)}{m^n}\n$$\n\u5316\u7b80\u53ef\u5f97\u4ee3\u7801\uff1a\n\n\u6ce8\u610f\uff0c\u4e0d\u8981\u7528long double\n\n```cpp\n#include<cstdio>\n#include<cmath>\nusing namespace std;\ndouble n,m,ans;\nint main()\n{\n\tscanf(\"%lf%lf\",&m,&n);\n\tfor(double i=1;i<=m;i++)\n\t    ans+=i*(pow(i/m,n)-pow((i-1)/m,n));\n\tprintf(\"%.12lf\\n\",ans);\n    return 0;\n}\n```",
        "postTime": 1603334601,
        "uid": 175131,
        "name": "\u5085\u601d\u7ef4666",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF453A \u3010Little Pony and Expected Maximum\u3011"
    },
    {
        "content": "[\u9898\u9762](https://www.luogu.com.cn/problem/CF453A)\n\n$upd$:2020-8-1 21:07:41 \u66f4\u6b63\u4e86\u6700\u540e\u7b54\u6848\u5f0f\u5b50\u7684\u9519\u8bef\n\n~~\u9ebb\u9ebb\u6211\u4f1a\u505a\u671f\u671b\u7684\u9898\u4e86~~\n\n\u601d\u8def\uff1a\n\n\u9996\u5148\u60f3\u671f\u671b$DP$\n\n\u7136\u540e\u53d1\u73b0\u6211\u4eec\u7ecf\u5e38\u89c1\u5230\u7684\u671f\u671b$DP$\u65b9\u7a0b\u5f62\u5982\u8fd9\u6837\uff1a\n\n$f(i)=\\sum p(j)*f(j)$\uff0c$p(i)$\u4e3a\u6982\u7387\n\n\u4f46\u662f\u8fd9\u4e2a\u9898\u4f3c\u4e4e\u4e0d\u592a\u597d\u5957\u7528\u8fd9\u4e2a\u4e1c\u897f\n\n\u7136\u540e\u6211\u4eec\u56de\u5230\u671f\u671b\u6700\u6734\u7d20\u7684\u8ba1\u7b97\u5f0f\uff1a\n\n$E(x)=\\sum p(i)*a(i)$\uff0c$p(i)$\u4e3a\u6982\u7387\uff0c$a(i)$\u4e3a\u4e8b\u4ef6\u7684\u503c\n\n\u5bf9\u4e8e$n$\u6b21\u6295\u9ab0\u5b50\uff0c\u603b\u5171\u6709$m^n$\u79cd\u60c5\u51b5\uff0c\u5219\u6bcf\u4e00\u79cd\u60c5\u51b5\u7684\u6982\u7387\u4e3a$\\frac{1}{m^n}$\n\n\u73b0\u5728\u8003\u8651\u8ba1\u7b97\u6bcf\u4e00\u79cd\u60c5\u51b5\u4e0b\u7684\u6700\u5927\u503c\n\n\u6211\u4eec\u4e0d\u59a8\u624b\u819c$m=6$\uff0c$n=2$\u7684\u6570\u636e\uff0c\u7136\u540e\u5f97\u5230\u8fd9\u6837\u7684\u8868\u683c\uff1a\n\n![aGnu4g.png](https://s1.ax1x.com/2020/08/01/aGnu4g.png)\n\n\u5176\u4e2d\u5f69\u8272\u683c\u5b50\u5185\u4e3a\u4e24\u6b21\u6254\u9ab0\u5b50\u4e4b\u540e\u5f97\u5230\u7684\u6700\u5927\u503c\n\n\u53d1\u73b0\u6700\u5927\u503c\u4e3a$i$\u7684\u60c5\u51b5\u6570\u4e3a$i^2-(i-1)^2$\n\n\u4ee4$n=3$\uff0c\u76f8\u4f3c\u5730\uff0c\u4e5f\u80fd\u5f97\u5230\u6700\u5927\u503c\u4e3a$i$\u7684\u60c5\u51b5\u6570\u4e3a$i^3-(i-1)^3$\n\n\u628a\u8fd9\u4e2a\u7ed3\u8bba\u63a8\u5e7f\u5230$n$\u4e3a\u4efb\u610f\u503c\u7684\u60c5\u51b5\uff0c\u5c31\u662f\u6700\u5927\u503c\u4e3a$i$\u7684\u60c5\u51b5\u6570\u4e3a$i^n-(i-1)^n$\n\n\u4e0b\u9762\u6765\u8bc1\u660e\u4e00\u4e0b\uff1a\n\n\u4e0d\u59a8\u628a\u67d0\u79cd\u6254\u9ab0\u5b50\u7684\u7ed3\u679c\u8bbe\u4e3a$n$\u7ef4\u5750\u6807\u7cfb\u4e2d\u7684\u5750\u6807\uff0c\u8bbe\u4e3a$(a,b,c,\u2026,z)$\n\n\u663e\u7136\uff0c\u5750\u6807\u5bf9\u5e94\u7684\u7ed3\u679c\u4e3a\u5750\u6807\u4e2d\u8fd9\u4e9b\u6570\u7684\u6700\u5927\u503c\uff0c\u800c\u4e14\u6bcf\u4e00\u7ef4\u7684\u5750\u6807\u90fd\u4e3a\u6b63\u6574\u6570\n\n\u8bbe\u5f53\u524d\u8981\u6c42\u7684\u662f\u6700\u5927\u503c\u4e3a$i$\u7684\u60c5\u51b5\u6570\n\n\u4e0d\u59a8\u4ee4\u5404\u7ef4\u5750\u6807\u7684\u4e0a\u9650\u4e3a$i-1$\n\n\u90a3\u4e48\u663e\u7136\u5750\u6807\u7cfb\u91cc\u6709$(i-1)^n$\u4e2a\u70b9\n\n\u73b0\u5728\u628a\u5404\u7ef4\u7684\u4e0a\u9650\u589e\u52a0\u4e3a$i$\n\n\u5219\u5750\u6807\u7cfb\u91cc\u6709$i^n$\u4e2a\u70b9\n\n\u65b0\u589e\u4e86$i^n-(i-1)^n$\u4e2a\u70b9\n\n\u663e\u7136\u65b0\u589e\u7684\u8fd9\u4e9b\u70b9\u4e0d\u91cd\u4e0d\u6f0f\u5730\u5305\u542b\u4e86\u81f3\u5c111\u7ef4\u5750\u6807\u4e3a$i$\u7684\u70b9\n\n\u8bc1\u660e\u6bd5\n\n\u90a3\u4e48\u7b54\u6848\u5c31\u662f\uff1a\n\n$\\frac{\\sum^{m}_{i=1} i*(i^n-(i-1)^n)}{m^n}$\n\n\u5316\u7b80\u4e00\u4e0b\uff0c\u53ef\u4ee5\u5f97\u5230\uff1a\n\n$m-\\sum^{m-1}_{i}(\\frac{m-i}{m})^n$\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ndouble n,m,ans=0;\ndouble qpow(double x,int y){\n\tdouble ans=1.00;\n\twhile(y){\n\t\tif(y&1) ans=ans*x;\n\t\tx=x*x;\n\t\ty>>=1;\n\t}\n\treturn ans;\n}\nint main(){\n\tcin>>m>>n;\n\tans=m;\n\tfor(int i=1;i<=m-1;i++){\n\t\tans-=pow((m-i)/m,n);\n\t}\n\tprintf(\"%.12lf\",ans);\n\treturn 0;\n}\n\n```",
        "postTime": 1596286820,
        "uid": 247540,
        "name": "tongyf",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF453A \u3010Little Pony and Expected Maximum\u3011"
    },
    {
        "content": "\u8bbe\u6700\u5927\u7684\u6570\u4e3a $i$ \u7684\u6982\u7387\u4e3a $f(i)$\uff0c \u8003\u8651\u8fd9\u4e2a\u6700\u5927\u6570\u662f\u7b2c\u51e0\u4e2a\u51fa\u73b0\u7684\uff0c\u53ef\u4ee5\u5f97\u5230\uff1a\n\n\n$$\nf(i)=\\frac{1\\cdot i^{n-1}+(i-1)\\cdot 1\\cdot i^{n-2}+(i-1)^2\\cdot 1\\cdot i^{n-3}+...}{m^n}\n$$\n\u7b54\u6848\uff1a\n$$\n\\sum_{i=1}^mif(i)\n$$\n\u65f6\u95f4\u590d\u6742\u5ea6\u662f\uff1a $\\Theta(nm)$\uff0c \u9700\u8981\u4f18\u5316\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\u6765 $f(i)$ \u7684\u5206\u5b50\u90e8\u5206\u662f\u4e00\u4e2a\u7b49\u6bd4\u6570\u5217\uff0c \u7528\u516c\u5f0f\u5316\u7b80\u53ef\u4ee5\u5f97\u5230\uff1a\n\n$$\nf(i)=\\frac{i^n-(i-1)^n}{m^n}\n$$\n\n\n\u8fd9\u6837\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u662f $\\Theta(m)$\u3002\n\n\u8003\u8651\u540e\u9762\u5f97\u5230\u7684\u8fd9\u4e2a\u5f0f\u5b50\u7684\u7b80\u5355\u7406\u89e3\u65b9\u5f0f\uff1a\n\n\u5728 $[1,i]$ \u7684\u8303\u56f4\u65b9\u4f4d\u5185\u4efb\u610f\u9009 $n$ \u4e2a\u6709 $i^n$ \u79cd\u60c5\u51b5\uff0c\u5728 $[1,i-1]$ \u7684\u8303\u56f4\u65b9\u4f4d\u5185\u4efb\u610f\u9009 $n$ \u4e2a\u6709 $(i-1)^n$ \u79cd\u60c5\u51b5\uff0c \u76f8\u51cf\u5c31\u662f\u4f7f\u5f97 $f(i)$ \u6210\u7acb\u7684\u603b\u65b9\u6848\u6570\u3002\n\n## Code:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m;\ndouble ans;\nint main()\n{\n\tscanf(\"%d%d\",&m,&n);\n\tfor(int i=1; i<=m; i++) ans+=1.0*i*(pow(1.0*i/m,1.0*n)-pow(1.0*(i-1)/m,1.0*n));\n\tprintf(\"%.5f\",ans);\n\treturn 0;\n}\n\n",
        "postTime": 1634299498,
        "uid": 225370,
        "name": "loverintime",
        "ccfLevel": 8,
        "title": "CF453A"
    },
    {
        "content": "\u5f88\u663e\u7136\u6709\uff1a\n$$ \\mathbb{E} = \\sum_{i=1}^{m} p_i $$\n$p_i$ \u8868\u793a\u7ecf\u8fc7 $n$ \u8f6e\u540e\u6700\u5927\u503c\u5927\u4e8e\u7b49\u4e8e $i$ \u7684\u6982\u7387\u3002\n\n\u53c8\u6709 \n$$ p_i = 1 - (\\frac{i-1}{m})^n $$\n\n\u5373 $1$ \u51cf\u53bb\u5f97\u5230\u70b9\u6570\u90fd\u5c0f\u4e8e $i$ \u7684\u6982\u7387\u3002  \n\u90a3\u4e48\u8fd9\u9053\u9898\u5c31\u505a\u5b8c\u4e86\u3002\n\n```cpp\nint main () {\n    io >> m >> n;\n    for(double i = 0; i <= m-1; i += 1.0) {\n        ans = ans + (1.0 - pow(i / m, n));\n    }\n    io << ans;\n}\n```",
        "postTime": 1649232109,
        "uid": 361432,
        "name": "Froranzen",
        "ccfLevel": 7,
        "title": "CF453A"
    },
    {
        "content": "# \u89e3\u9898\u601d\u8def\n\n\u6c34\u4e00\u53d1\u9898\u89e3\uff0c\u8f9b\u82e6\u7ba1\u7406\u5927\u5927\u5ba1\u6838\u5566~\n\n\u7531\u7ed3\u8bba $[1,x]$ \u5171\u6709 $x^n$ \u79cd\u65b9\u6848\u53ef\u77e5\uff1a\n\n\u82e5\u6211\u4eec\u53d6\u7684 $n$ \u6b21\u4e2d\u6700\u5927\u503c\u4e3a $x$\uff0c\u5171\u6709 $\\frac{x^n-(x-1)^n}{m^n}$ \u79cd,\n\n\u5219\u603b\u65b9\u6848\u6570\u4e3a\uff1a\n\n$\\sum_{i=1}^m{\\frac{i^n-(i-1)^n}{m^n} \\times i} = \\sum_{i=1}^m \\left [{\\left ( \\frac{i}{m} \\right)^n- \\left (i-1 \\right )^n} \\right ] \\times i$\t\n\n\n\u8fd9\u9053~~\u6c34~~\u9898\u8fd0\u7528\u4e86\u7b80\u5355\u7684\u6982\u7387 DP \u601d\u60f3\uff0c\u52a0\u4e0a\u4e00\u70b9\u70b9\u7684\u6570\u5b66\u63a8\u5230\u5373\u53ef\uff0c\u4f5c\u4e3a\u84dd\u9898\u8fd8\u662f~~\u5f88\u6c34~~\u4e0d\u592a\u96be\u54d2~\n\n# \u4ee3\u7801\u5b9e\u73b0\n\n\u7b80\u6d01\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n\tios :: sync_with_stdio(0);\n\tint n, m;\n\tcin >> m >> n;\n\tdouble res = 0;\n\tfor (int i = 1; i <= m; ++i) {\n\t\tres += (pow(1.0 * i / m, n) - pow(1.0 * (i - 1) / m, n)) * i;\n\t}\n\tcout << fixed << setprecision(4) << res << '\\n';\n\treturn 0;\n}\n```\n\nGood Good \u8d3a\u9898\uff0cDay Day Up\uff01\uff01\n",
        "postTime": 1644234946,
        "uid": 308106,
        "name": "_rockyyue_",
        "ccfLevel": 0,
        "title": "\u849f\u84bb\u541b\u7684\u5237\u9898\u65e5\u8bb0\u4e4bDP\u4e13\u9898T1\uff1aCF453A Little Pony and Expected Maximum"
    },
    {
        "content": "\u592d\u5bff\u5566 brony \u5165\u4fb5\u4f60\u8c37\u5566\uff01\n\n### \u9898\u610f\n\n\u63b7 $n$ \u6b21 $m$ \u9762\u7684\u9ab0\u5b50\uff0c\u6c42\u70b9\u6570\u6700\u5927\u503c\u7684\u671f\u671b\u3002\n\n### \u5206\u6790\n\n\u8bb0\u6700\u5927\u503c\u4e3a $X$\uff0c\u5219 $X$ \u7684\u671f\u671b $E \\left[ X\\right] = \\Sigma_{i=1}^{m}i\\times P(X=i)$\u3002\n\n\u53d1\u73b0 $P(X=i)$ \u4e0d\u597d\u76f4\u63a5\u7b97\uff0c\u4f46\u662f $P(X\\leq i) = (\\frac{i}{m})^{n}$ \u662f\u663e\u7136\u7684\u3002\n\n\u6211\u4eec\u53c8\u6709 $P(X\\leq i) = \\Sigma_{j=1}^i P(X=j)$\uff0c\u5dee\u5206\u4e00\u4e0b\u5c31\u5f97\u5230 $P(X=i)=P(X\\leq i)-P(X\\leq i-1) = (\\frac{i}{m})^{n}-(\\frac{i-1}{m})^{n}$\u3002\n\n\u90a3\u4e48\u53ef\u4ee5 $O(mlogn)$ \u8ba1\u7b97\u3002\n\n```cpp\n#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\nconst int MAXN = 100005;\ntypedef long double db;\nint n, m;\ndb ans;\n\ndb ksm(db x, int a) {\n\tdb res = 1;\n\twhile (a) {\n\t\tif (a&1) res *= x;\n\t\tx *= x;\n\t\ta >>= 1;\n\t}\n\treturn res;\n}\n\ndb P(int x) {\n\treturn ksm((db)x/m, n)-ksm((db)(x-1)/m, n);\n}\n\nint main() {\n\tscanf(\"%d %d\", &m, &n);\n\tfor (int i = 1; i <= m; i++) ans += i*P(i);\n\tprintf(\"%Lf\\n\", ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1633760634,
        "uid": 189044,
        "name": "Celebrimbor",
        "ccfLevel": 7,
        "title": "CF453A \u9898\u89e3"
    },
    {
        "content": "# CF453A\n\n[\u94fe\u63a5](https://www.luogu.com.cn/problem/CF453A)\n\n\u8fd9\u4e2a\u9898\u6bd4\u8f83\u6c34\u3002~~\u8fde\u6211\u90fd\u80fd\u505a\u51fa\u6765~~\n\n\u8fd9\u4e2a\u9898\u6211\u4eec\u76f4\u63a5\u8003\u8651\u6700\u5927\u503c\u4e3a $k$ \u65f6\u7684\u6982\u7387\u662f\u591a\u5c11\u3002\n\n\u6211\u4eec\u8bbe $p_k$ \u4e3a\u6700\u5927\u503c\u4e3a $k$ \u65f6\u7684\u6982\u7387\u3002\u4ee4 $f_k$ \u8868\u793a $m$ \u5230 $k$ \u7684\u6240\u6709\u503c\u4e00\u4e2a\u4e5f\u6ca1\u6709\u51fa\u73b0\u7684\u6982\u7387\u3002\n\n\u5982\u679c\u6700\u5927\u503c\u4e3a $k$ \uff0c\u90a3\u4e48\u8bf4\u660e\u6bd4 $k$ \u5927\u7684\u6570\u4e00\u4e2a\u4e5f\u6ca1\u6709\u51fa\u73b0\uff0c\u800c $k$ \u81f3\u5c11\u51fa\u73b0\u4e00\u6b21\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c$f_{k+1}$ \u8fd9\u4e2a\u6982\u7387\u91cc\u5305\u542b\u4e24\u4e2a\u90e8\u5206\uff0c\u5176\u4e2d\u4e00\u4e2a\u90e8\u5206\u662f $f_k$ \uff0c\u4e5f\u5c31\u662f $k$ \u6ca1\u6709\u51fa\u73b0\uff0c\u53e6\u4e00\u4e2a\u90e8\u5206\u662f $k$ \u81f3\u5c11\u51fa\u73b0\u4e00\u6b21\u3002\u4e5f\u5c31\u662f\u8bf4 $f_{k+1}-f_{k}$ \u5c31\u662f $k$ \u4e3a\u6700\u5927\u503c\u7684\u6982\u7387\u3002\n\n\u6211\u4eec\u7528\u5feb\u901f\u5e42\u4e00\u7b97\u5c31\u53ef\u4ee5\u3002\n\n\u4ee3\u7801\uff1a\n\n```c++\n#include<bits/stdc++.h>\n#define dd double\n#define ld long double\n#define ll long long\n#define uint unsigned int\n#define ull unsigned long long\n#define N 100010\n#define M number\nusing namespace std;\n\nconst int INF=0x3f3f3f3f;\n\ntemplate<typename T> inline void read(T &x) {\n    x=0; int f=1;\n    char c=getchar();\n    for(;!isdigit(c);c=getchar()) if(c == '-') f=-f;\n    for(;isdigit(c);c=getchar()) x=x*10+c-'0';\n    x*=f;\n}\n\nint m,n;\ndd p[N],ans;\n\ninline dd ksm(dd a,int b){\n    dd res=1.0;\n    while(b){\n        if(b&1) res*=a;\n        a=a*a;\n        b>>=1;\n    }\n    return res;\n}\n\nint main(){\n    read(m);read(n);\n    p[m+1]=1;\n    for(int i=m;i>=1;i--){\n        p[i]=ksm((dd)(i-1)/(dd)m,n);\n        ans+=(p[i+1]-p[i])*i;\n    }\n    printf(\"%lf\\n\",ans);\n    return 0;\n}\n```\n",
        "postTime": 1625885593,
        "uid": 194093,
        "name": "\u5929\u68a6",
        "ccfLevel": 6,
        "title": "CF453A"
    },
    {
        "content": "\u5047\u8bbe\u6254\u5230m\u9762\u7684\u6982\u7387\u5747\u4e3a$\\frac{1}{m}$\uff0c\u6254n\u6b21\u5c31\u4f1a\u6709$m^n$\u79cd\u60c5\u51b5\uff0c\u6bcf\u79cd\u60c5\u51b5\u51fa\u73b0\u6982\u7387\u5747\u7b49\uff0c\u9700\u8981\u6c42\u6bcf\u4e00\u8f6e\u6254\u5230\u7684\u6700\u5927\u503c\u4e58\u4e0a$\\frac{1}{m^n}$\uff0c\u4f46\u663e\u7136\u662f\u4e0d\u80fd\u679a\u4e3e\u6240\u6709\u60c5\u51b5\u7684\u3002\n\n\u6b63\u96be\u5219\u53cd\uff0c\u90a3\u4e48\u6211\u4eec\u8003\u8651\u6bcf\u8f6e\u6700\u5927\u503c\u7684\u60c5\u51b5\u3002\n\n\u5148\u5047\u8bbe\u6bcf\u8f6e\u7684\u6700\u5927\u503c\u90fd\u662f$m$\uff0c\u7136\u540e\u51cf\u53bb\u5b9e\u9645\u6700\u5927\u503c\u5c0f\u4e8e$m$\u7684\u60c5\u51b5\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u8003\u8651$n$\u6b21\u90fd\u53ea\u6254\u51fa$[1,m-1]$\u7684\u6982\u7387\uff0c\u663e\u7136\u662f$(\\frac{m-1}{m})^n$\uff0c\u5bf9\u5e94\u9700\u8981\u51cf\u53bb\u7684\u6743\u503c\u662f1\u3002\u540c\u7406\uff0c$n$\u6b21\u90fd\u53ea\u6254\u51fa$[1,m-i],i\\le m-1$\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u5c31\u662f$-(\\frac{m-i}{m})^n$\uff0ci\u4ece1\u5230m-1\u679a\u4e3e\uff0c\u4f46\u662f\u8981\u8003\u8651i\u65f6\u7684\u60c5\u51b5\u90fd\u88abi-1\u65f6\u7684\u5305\u62ec\uff0c\u6240\u4ee5\u6743\u503c\u7701\u53bb\u5373\u53ef\uff0c\u539f\u56e0\u53ef\u4ee5\u81ea\u884c\u4e3e\u4f8b\u7406\u89e3\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint m,n;\n\tscanf(\"%d%d\",&m,&n);\n\tdouble res=m;\n\tfor(int i=1;i<m;i++){\n\t\tres-=pow((m-i*1.0)/m,n);\n\t}\n\tprintf(\"%.8lf\",res);\n\treturn 0;\n}\n```",
        "postTime": 1612603049,
        "uid": 173685,
        "name": "\u6478\u9c7c\u9171",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF453A \u3010Little Pony and Expected Maximum\u3011"
    },
    {
        "content": "\u8003\u8651\u6700\u5927\u503c\u4e3a $i$ \u65f6\u7684\u6982\u7387 $f_i$\u3002\u663e\u7136\u7b54\u6848\u4e3a $\\sum\\limits_{i=1}^nf_i\\times i$\u3002\n\n\u4f46\u662f\u76f4\u63a5\u8003\u8651\u6700\u5927\u503c\u975e\u5e38\u9ebb\u70e6\uff0c\u6211\u4eec\u8003\u8651\u6700\u5927\u503c $\\le i$ \u7684\u51e0\u7387 $g_i$\uff0c\u90a3\u4e48 $g_i$ \u4e3a\u6bcf\u4e2a\u6570\u90fd $\\le i$ \u7684\u60c5\u51b5\uff0c\u5bf9\u4e8e\u4e00\u6b21\u6295\u63b7\uff0c\u663e\u7136\u7b54\u6848\u4e3a $\\frac{i}{m}$\uff0c\u90a3\u4e48\u4fbf\u6709 $g_i = (\\frac{i}{m})^n$\u3002\n\n\u7136\u540e\u6839\u636e\u5dee\u5206\u6211\u4eec\u5f97\u5230\uff1a$f_i=g_i-g_{i-1}$\uff0c\u76f4\u63a5\u8ba1\u7b97\u5373\u53ef\u3002\n\ncode\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int M=1e5+10;\nint n,m;\ndouble f[M],ans;\n\ndouble poww(double a,int b)\n{\n\tdouble res=1;\n\twhile(b)\n\t{\n\t\tif (b&1)res*=a;\n\t\ta*=a;b>>=1;\n\t}return res;\n}\n\nint main()\n{\n\tcin>>n>>m;\n\tfor (int i=1;i<=n;i++)\n\t\tf[i]=poww(i*1.0/n,m);\n\tfor (int i=1;i<=n;i++)\n\t\tans+=(f[i]-f[i-1])*i;\n\tprintf(\"%.12lf\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1612001840,
        "uid": 141179,
        "name": "pigstd",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF453A \u3010Little Pony and Expected Maximum\u3011"
    },
    {
        "content": "#### \u601d\u8def\n\n\u8bb0\u968f\u673a\u53d8\u91cf $X$ \u4e3a\u9ab0\u5b50\u7684\u70b9\u6570 , \u6709 :   \n$$\nE(X) = \\sum_k kP(X = k)\n$$\n\u8003\u8651\u8ba1\u7b97 $P(X = K)$ :  \n\n\u6839\u636e\u53e4\u5178\u6982\u578b\u6613\u6709 : \n$$\nP(X \\leqslant k) = \\frac{k^n}{m^n}\n$$\n\u6839\u636e\u7ecf\u5178\u548c\u5dee\u539f\u7406 :   \n$$\nP(X = k) = P(X \\leqslant k) - P(X \\leqslant k-1)\n=\\frac{ k^n - k^{n - 1} }{ m^n }\n$$\n\u6545 :   \n$$\nE(X) = \\sum_k kP(X = k)\n=\\sum_k k \\frac{ k^n - k^{n - 1} }{ m^n }\n$$\n\n#### \u4e8b\u9879\n\n1. \u6ce8\u610f\u7cbe\u5ea6\u95ee\u9898\n\n$m^n$ \u663e\u7136\u4f1a\u7206\u6389 `double` , \u8003\u8651\u628a\u5206\u6bcd\u5e76\u5230\u5206\u5b50\u4e2d : \n$$\nE(x) = \\sum_k k \\frac{ k^n - (k - 1)^n}{ m^n }\n= \\sum_k k((\\frac{k}{m})^n - ((\\frac{k-1}{m})^n)\n$$\n\n2. \u4e0d\u8981\u7528 `int` \u9664 `int` : \n\n    `ans += k * (pow(k / m, n) - pow((k - 1) / m, n))`  $\\times$\n\n    `ans += k * (pow((double)k / m, n) - pow((double)(k - 1) / m, n))`  $\\sqrt{}$\n\n#### code\n\n```cpp\n#include <bits/stdc++.h>\n\nint main() {\n\tcout.setf(ios::fixed);\n\tcout.precision(13);\n\tint m, n;\n\tdouble ans = 0, mn = 0;\n\tcin >> m >> n;\n\tfor(int k = 1; k <= m; ++k)\n\t\tans += k * (pow((double)k / m, n) - pow((double)(k - 1) / m, n));\n\tcout << ans << endl;\n\treturn 0;\n}\n```\n\n",
        "postTime": 1597029133,
        "uid": 88735,
        "name": "\u5bd2\u9e3d\u513f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF453A \u3010Little Pony and Expected Maximum\u3011"
    },
    {
        "content": "\u5177\u4f53\u5206\u6790\u63b7\u51fa\u6700\u5927\u503c\u7684\u53ef\u80fd\uff1a  \n\u5f53\u63b7\u51fa\u7684\u6570\u5b57\u5728 $[1,k]$ \u65f6\uff0c\u4e22 $n$ \u6b21\u6709 $k^n$ \u79cd\u53ef\u80fd\uff1b  \n\u5f53\u63b7\u51fa\u7684\u6570\u5b57\u5728 $[1,k-1]$ \u65f6\uff0c\u4e22 $n$ \u6b21\u6709 $(k-1)^n$ \u79cd\u53ef\u80fd\uff1b  \n\u90a3\u4e48\u5c31\u6709 $k^n-(k-1)^n$ \u79cd\u53ef\u80fd\u63b7\u51fa\u7684\u70b9\u6570\u6709 $k$ \uff0c\u6b64\u65f6\u6700\u5927\u503c\u5373\u4e3a $k$ \u3002  \n\u800c\u603b\u5171 $m^n$ \u79cd\u53ef\u80fd\u3002  \n\u5f97\u5230\u6709 $\\dfrac{i^n-(i-1)^n}{m^n}$ \u7684\u6982\u7387\u6700\u5927\u503c\u4e3a $i$\u3002  \n\u6240\u4ee5\u5f53\u6700\u5927\u503c\u4e3a $i$ \u65f6\uff0c\u5bf9\u671f\u671b\u7684\u8d21\u732e\u4e3a $\\dfrac{i\\times(i^n-(i-1)^n)}{m^n}$ \uff0c\u5176\u4e2d $i$ \u80fd\u53d6\u5f97\u7684\u6700\u5927\u503c\u4e3a $m$;  \n\u7efc\u4e0a\uff0c\u672c\u9898\u7b54\u6848\u5c31\u662f  \n\n$\\sum^{m}_{i=1} \\dfrac{i\\times[i^n-(i-1)^n]}{m^n}=\\sum^{m}_{i=1} i\\times [(\\dfrac{i}{m})^n- (\\dfrac{i-1}{m})^n]$  \n\n\u6ce8\u610f\u6700\u540e\u7684\u5316\u7b80\uff0c\u5426\u5219\u4f1a\u56e0\u4e3a\u7cbe\u5ea6\u95ee\u9898 WA \u6389\u3002   \n\n$$\\mathcal{CODE}$$  \n```cpp\n#include <cmath>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\nint main() {\n\tdouble n,m;\n\tscanf(\"%lf %lf\",&m,&n);\n\tdouble ans=0;\n\tfor(double i=1;i<=m;i++) ans+=i*(pow(i/m,n)-pow((i-1)/m,n));\n\tprintf(\"%.12lf\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1588250799,
        "uid": 160701,
        "name": "Azaz\u0435l",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF453A \u3010Little Pony and Expected Maximum\u3011"
    }
]