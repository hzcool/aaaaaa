[
    {
        "content": "#### \u7b97\u6cd5\u5206\u6790\n\n\n\u53ef\u4ee5\u8003\u8651\u6bcf\u4e00\u884c\u5c3d\u53ef\u80fd\u653e\u5bbd\u5ea6\u5927\u7684\u77e9\u5f62\u3002\n\n\u5177\u4f53\u5b9e\u73b0\uff1a\n\n- \u5148\u5bf9\u6240\u7ed9\u7684\u77e9\u5f62\u6309\u5176\u5bbd\u5ea6\u4ece\u5927\u5230\u5c0f\u7684\u987a\u5e8f\u6392\u5e8f\uff1b\n- \u5f00\u4e00\u4e2a\u5e26\u6709\u5927\u9876\u5806\u7684\u4f18\u5148\u961f\u5217\u6765\u5b58\u6bcf\u4e00\u884c\u5269\u4f59\u7a7a\u95f4\u7684\u5bbd\u5ea6\uff0c\u8fd9\u4e00\u90e8\u5206\u4ee5\u540e\u53ef\u80fd\u8fd8\u4f1a\u7528\u5230\uff1b\n- \u521d\u59cb\u65f6\u5148\u628a $0$ \u538b\u5165\u5927\u9876\u5806\uff0c\u8868\u793a\u5f53\u524d\u6ca1\u6709\u5269\u4f59\u7a7a\u95f4\uff1b\n- \u7136\u540e\u626b\u63cf\u4e00\u4e0b\u6240\u6709\u7684\u77e9\u5f62\u5bbd\u5ea6\uff0c\u540c\u65f6\u53d6\u51fa\u5927\u9876\u5806\u7684\u961f\u5934\u5143\u7d20 $x$ \uff08\u5373\u5269\u4f59\u7a7a\u95f4\u6700\u5927\u7684\u90a3\u4e00\u884c\u7684\u6240\u5269\u7a7a\u95f4\uff09 \u5e76\u5f39\u51fa\u3002\u5982\u679c\u5f53\u524d\u77e9\u5f62\u5bbd\u5ea6\u6bd4 $x$ \u5927\u7684\u8bdd\uff0c\u8bf4\u660e\u8fd8\u9700\u8981\u4e00\u884c\uff0c\u5bf9\u7b54\u6848 `+1` \u8df3\u5230\u4e0b\u4e00\u884c\u5373\u53ef\uff0c\u5e76\u628a $x$ \u548c $w - a_i$ \u90fd\u538b\u5165\u5927\u9876\u5806\uff08\u628a $x$ \u91cd\u65b0\u538b\u5165\u5927\u9876\u5806\u6307\u7684\u662f\u4e4b\u524d\u5269\u4f59\u7a7a\u95f4\u6700\u5927\u7684\u90a3\u4e00\u884c\u5269\u4f59\u7684 $x$ \u7684\u7a7a\u95f4\u6ca1\u6709\u4f7f\u7528\uff0c\u628a $w - a_i$ \u538b\u5165\u5927\u9876\u5806\u8868\u793a\u5f53\u524d\u5269\u4f59\u7a7a\u95f4\u6700\u5927\u7684\u90a3\u4e00\u884c\u8fd8\u6709 $w - a_i$ \u7684\u5269\u4f59\u7a7a\u95f4\u53ef\u4ee5\u4f7f\u7528\uff09\uff1b\u5426\u5219\u7684\u8bdd\u5c31\u628a $x - a_i$ \u538b\u5165\u5927\u9876\u5806\uff08\u8868\u793a\u5f53\u524d\u5269\u4f59\u7a7a\u95f4\u6700\u5927\u7684\u90a3\u4e00\u884c\u8fd8\u5269 $x - a_i$ \u7684\u7a7a\u95f4\u53ef\u5229\u7528\uff09\u3002\n\n\n#### C++ \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n#define rep(i, n) for (int i = 0; i < (n); ++i)\n\nusing std::cin;\nusing std::cout;\nusing std::vector;\nusing std::priority_queue;\n\nint main() {\n\tstd::ios::sync_with_stdio(false);\n\tstd::cin.tie(nullptr);\n\t\n\tint t;\n\tcin >> t;\n\t\n\twhile (t--) {\n\t\tpriority_queue<int> q;\n\t\tq.push(0);\n\t\tint n, w;\n\t\tcin >> n >> w;\n\t\tvector<int> a(n);\n\t\trep(i, n) cin >> a[i];\n\t\tsort(a.rbegin(), a.rend());\n\t\tint ans = 0;\n\t\trep(i, n) {\n\t\t\tint x = q.top(); q.pop();\n\t\t\tif (x < a[i]) {\n\t\t\t\tq.push(x);\n\t\t\t\tq.push(w - a[i]);\n\t\t\t\tans++;\n\t\t\t}\n\t\t\telse q.push(x - a[i]);\n\t\t}\n\t\tcout << ans << '\\n';\n\t}\n\t\n\treturn 0;\n}\n```\n",
        "postTime": 1617121644,
        "uid": 28397,
        "name": "\u5bd2\u70df\u51b7\u6d45\u66ae\u6b87",
        "ccfLevel": 0,
        "title": "CF1498B Box Fitting"
    },
    {
        "content": "\u8981\u60f3\u5c42\u6570\u6700\u5c11\uff0c\u6bcf\u4e00\u5c42\u5c31\u5f97\u5c3d\u91cf\u586b\u6ee1\u3002\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u91c7\u7528\u8d2a\u5fc3\u7684\u7b56\u7565\uff0c\u6309\u957f\u5ea6\u4ece\u5927\u5230\u5c0f\u586b\u3002\u5982\u679c\u5f53\u524d\u8fd9\u4e00\u5c42\u5df2\u7ecf\u65e0\u6cd5\u518d\u586b\u4e86\uff0c\u5c31\u628a\u7b54\u6848\u52a0 $1$\uff0c\u8fdb\u5165\u4e0b\u4e00\u5c42\u3002\u6734\u7d20\u7684\u5b9e\u73b0\u662f $O(n^2)$ \u7684\u3002\u800c\u7531\u4e8e\u957f\u6761\u7684\u957f\u5ea6\u4e00\u5b9a\u80fd\u8868\u793a\u6210 $2^p$ \u7684\u5f62\u5f0f\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u53ea\u8bb0\u5f55\u8fd9\u4e2a\u6307\u6570 $p$\uff0c\u901a\u8fc7\u6876\u6392\u5e8f\u628a\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u5230 $O(\\log(w)n)=O(20n)$\uff0c\u80fd\u591f\u901a\u8fc7\u672c\u9898\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#define ll long long\n#define fo(i,x,y) for(register int i=x;i<=y;++i)\n#define go(i,x,y) for(register int i=x;i>=y;--i)\nusing namespace std;\n\ninline int read(){\n\tint x=0,fh=1;\n\tchar ch=getchar();\n\twhile(!isdigit(ch)){\n\t\tif(ch=='-') fh=-1;\n\t\tch=getchar();\n\t}\n\twhile(isdigit(ch)){\n\t\tx=(x<<1)+(x<<3)+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn x*fh;\n}\n\nconst int N=2e6+5,lim=20;\nint a[N],n,w,c[N],rp[N];\n\nvoid work(){\n\tn=read(),w=read();\n\tfo(i,0,lim) rp[i]=0;\n\tfo(i,1,n) a[i]=read(),rp[c[a[i]]]++;\n\tint ans=0;\n\twhile(1){\n\t\tans++;\n\t\tint t=w;\n\t\tgo(i,lim,0){\n\t\t\tint k=min(t/(1<<i),rp[i]);\n\t\t\trp[i]-=k;\n\t\t\tt-=k*(1<<i);\n\t\t}\n\t\tbool fl=1;\n\t\tfo(i,0,lim) if(rp[i]) fl=0;\n\t\tif(fl) break;\n\t}\n\tcout<<ans;\n\tputs(\"\");\n}\n\nint main(){\n\tfo(i,0,lim) c[1<<i]=i;\n\tint T=read();\n\twhile(T--) work(); \n\treturn 0;\n}\n```\n",
        "postTime": 1617154504,
        "uid": 238408,
        "name": "vectorwyx",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1498B Box Fitting"
    },
    {
        "content": "### [\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/CF1498B)\n\n\u8fd9\u4e2a\u9898\u8003\u8bd5\u7684\u65f6\u5019 $+4$\uff0c\u539f\u56e0\u662f $multiset$ \u4e0d\u4f1a\u7528\u2026\u2026\n\n\u5f88\u5bb9\u6613\u60f3\u5230\u4e00\u79cd\u8d2a\u5fc3\u7b56\u7565\uff0c\u5c31\u662f\u628a\u6bcf\u4e00\u5c42\u5269\u4e0b\u7684\u957f\u5ea6\u90fd\u653e\u5230\u4e00\u4e2a $multiset$ \u91cc\uff0c\u6bcf\u6b21\u5bf9\u4e8e\u4e00\u4e2a\u957f\u5ea6 $a_i$\uff0c\u627e\u51fa\u6700\u5c0f\u7684\u5927\u4e8e\u7b49\u4e8e $a_i$ \u7684\u90a3\u4e00\u5c42\u5373\u53ef\u3002\n\n\u4e00\u5b9a\u8981\u6ce8\u610f\uff0c\u5728 `multiset` \u91cc\u4e8c\u5206\uff0c\u4e0d\u80fd\u7528 `lower_bound(t.begin(),t.end(),a[i])`\uff0c\u8981\u7528 `t.lower_bound(a[i])`\uff01\n\n\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<set>\nusing namespace std;\ninline int rd(){\n\tint res=0;char c=getchar();\n\twhile(!isdigit(c)) c=getchar();\n\twhile(isdigit(c)) res=(res<<1)+(res<<3)+(c-'0'),c=getchar();\n\treturn res;\n}\nconst int N=1e5+13;\nint n,w,a[N];\ninline void solve(){\n\tint cnt=0;\n\tmultiset<int> t;\n\tmultiset<int>::iterator it;\t\n\tfor(int i=1;i<=n;++i){\n\t\tif(t.empty()){//\u6ce8\u610f\u5bf9t\u662f\u5426\u4e3a\u7a7a\u7684\u5224\u65ad\uff01\n\t\t\t++cnt;\n\t\t\tif(w!=a[i]) t.insert(w-a[i]);\n\t\t\tcontinue;\n\t\t}\n\t\tit=t.lower_bound(a[i]);//\u8fd9\u4e2a\u5730\u65b9\uff0c\u5403\u4e00\u5811\u957f\u4e00\u667a\uff01\n\t\tif(it==t.end()){\n\t\t\t++cnt;\n\t\t\tif(w!=a[i]) t.insert(w-a[i]);//\u5982\u679c\u4e0d\u5269\u4e0b\uff0c\u90a3\u4e48\u5c31\u4e0d\u7528\u52a0\u8fdb\u53bb\u4e86\n\t\t}\n\t\telse{\n\t\t\tint p=(*it);\n\t\t\tt.erase(it);\n\t\t\tif(p!=a[i]) t.insert(p-a[i]);\n\t\t}\n\t}\n\tprintf(\"%d\\n\",cnt);\n}\nint main(){\n\tint T;\n\tscanf(\"%d\",&T);\n\twhile(T--){\n\t\tn=rd(),w=rd();\n\t\tfor(int i=1;i<=n;++i) a[i]=rd();\n\t\tsort(a+1,a+n+1,greater<int>());\n\t\tsolve();\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1617184698,
        "uid": 160484,
        "name": "cunzai_zsy0531",
        "ccfLevel": 7,
        "title": "CF1498B\u9898\u89e3"
    },
    {
        "content": "\u601d\u8def\uff1a\u52a8\u6001\u8d2a\u5fc3\u3002\n\n\u6613\u77e5\u5148\u653e\u5927\u7269\u54c1\u53ef\u4f7f\u51b3\u7b56\u66f4\u4f18\uff0c\u6545\u5148\u5c06\u7269\u54c1\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff1b\u6bcf\u653e\u4e00\u4e2a\u7269\u54c1\uff0c\u6311\u9009\u5269\u4e0b\u957f\u5ea6\u6700\u957f\u7684\u884c\uff0c\u53ef\u4ee5\u7528\u5927\u9876\u5806\u7ef4\u62a4\u6bcf\u884c\u5269\u4f59\u957f\u5ea6\u3002\n\n\u7528\u4f18\u5148\u961f\u5217\u8bb0\u5f55\u7b54\u6848\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u81ea\u52a8\u6392\u5e8f\uff0c\u8282\u7701\u65f6\u95f4\u590d\u6742\u5ea6\u3002\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint t;cin>>t;\n\twhile (t--){\n\t\tint n,w;\n\t\tcin>>n>>w;\n\t\tint a[n+1];\n\t\tfor(int i=1;i<=n;i++)cin>>a[i];\n\t\tsort(a+1,a+1+n,greater<int>()); //\u8d2a\u5fc3 \n\t\tpriority_queue<int>q; //\u4f18\u5148\u961f\u5217\u662f\u4e2a\u597d\u4e1c\u897f \n\t\tfor(int i=1;i<=n;i++){\n\t\t\tif(q.empty())q.push(w-a[i]);\n\t\t\telse{\n\t\t\t\tif(q.top()<a[i])q.push(w-a[i]);\n\t\t\t\telse{\n\t\t\t\t\tint t=q.top();\n                    q.pop();\n\t\t\t\t\tt-=a[i];\n\t\t\t\t\tq.push(t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<q.size()<<endl;\n\t}\n}\n```",
        "postTime": 1655608453,
        "uid": 564964,
        "name": "xuorange",
        "ccfLevel": 0,
        "title": "CF1498D \u9898\u89e3"
    }
]