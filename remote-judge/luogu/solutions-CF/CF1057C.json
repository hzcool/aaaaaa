[
    {
        "content": "[\u6d1b\u8c37\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1057C)\t[CF\u4f20\u9001\u95e8](http://codeforces.com/problemset/problem/1057/C)\n\n### Description\n\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217\uff0c\u7b2c $i$ \u4e2a\u70b9\u7684\u4ef7\u503c\u4e3a $r_i$ \uff0c\u989c\u8272\u4e3aR\uff0cB\uff0cG\u5176\u4e2d\u7684\u4e00\u79cd\u3002\n\n\u4f60\u7684\u521d\u59cb\u4f4d\u7f6e\u662f $s$ \uff0c\u5411\u5de6\u6216\u53f3\u79fb\u52a8\u4e00\u6b65\u9700\u8981\u82b1\u8d39 $1$ \u7684\u65f6\u95f4\uff0c\u4f46\u662f\u6536\u96c6\u67d0\u4e2a\u70b9\u7684\u4ef7\u503c\u4e0d\u9700\u8981\u65f6\u95f4\u3002\n\n\u8981\u6c42\u662f\u6536\u96c6\u70b9\u7684\u65f6\u5019\u524d\u540e\u4e24\u4e2a\u70b9\u7684\u989c\u8272\u4e0d\u4e00\u6837\uff0c\u5e76\u4e14\u5f53\u524d\u70b9\u7684\u4ef7\u503c\u8981\u5927\u4e8e\u4e0a\u4e00\u4e2a\u70b9\u3002\n\n\u8bf7\u95ee\u6536\u96c6\u4ef7\u503c\u81f3\u5c11\u4e3a $k$ \u7684\u6700\u5c0f\u65f6\u95f4\u3002\n\n### Solution\n\n\u53d1\u73b0 $n\\leq 50$ \uff0c\u90a3\u4e48\u53ef\u4ee5~~\u778e\u641e~~\u8bbe\u8ba1\u4e00\u4e2aDP\u3002\n\n\u8bbe $f_{i,j}$ \u8868\u793a\u5230\u7b2c $i$ \u4e2a\u4f4d\u7f6e\u6536\u96c6\u4e86 $j$ \u7684\u6700\u5c0f\u65f6\u95f4\u3002\n\n\u90a3\u4e48\uff0c\u521d\u59cb\u72b6\u6001\u4e3a $f_{i,r_i}=|i-s|$ \uff0c\u8f6c\u79fb\u65b9\u7a0b\u4e3a\uff1a\n$$\nf_{k,j+r_k}=\\min_i^{col_i\\not =col_k,r_i<r_k}(f_{k,j+r_k},f_{i,j}+|i-k|)\n$$\n\u6ce8\u610f\uff1a\u56e0\u4e3a\u662f\u81f3\u5c11 $k$ \u7684\u4ef7\u503c\uff0c\u800c $r_i\\leq 50$ \uff0c\u6240\u4ee5\u8981\u679a\u4e3e $1$ \u5230 $k+50$ \u3002\n\n### Code\n\n```c++\n#include<bits/stdc++.h>\n\nusing namespace std;\nconst int N=110,INF=0x3f3f3f3f;\nint n,s,m,ans=INF,r[N],f[N][3010];\nchar col[N];\n\nint main(){\n    scanf(\"%d%d%d\",&n,&s,&m);\n    for(int i=1;i<=n;i++)\n        scanf(\"%d\",&r[i]);\n    scanf(\"%s\",ch+1);\n    memset(f,0x3f,sizeof(f));\n    for(int i=1;i<=n;i++)   \n        f[i][r[i]]=abs(i-s);\n    for(int j=1;j<=m+50;j++)\n        for(int i=1;i<=n;i++)\n            for(int k=1;k<=n;k++)\n                if(col[i]!=col[k]&&r[i]<r[k]) f[k][j+r[k]]=min(f[k][j+r[k]],f[i][j]+abs(i-k));\n    for(int i=1;i<=n;i++)\n        for(int j=m;j<=m+50;j++)\n            ans=min(ans,f[i][j]);\n    if(ans==INF) puts(\"-1\");\n    else printf(\"%d\\n\",ans);\n    return 0;\n}\n```\n\n",
        "postTime": 1604570190,
        "uid": 272143,
        "name": "\u662f\u4e2a\u6c49\u5b50",
        "ccfLevel": 4,
        "title": "CF1057C Tanya and Colored Candies"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1057C)\n## \u601d\u8def\n\u8fd9\u4e2a\u9898\u4e4d\u4e00\u770b\u50cf\u662f\u4e00\u4e2a\u72b6\u538b $\\verb!DP!$\uff0c\u4f46\u662f\uff0c$n \\le 50$ \u7684\u6570\u636e\u8303\u56f4\u4e0d\u5141\u8bb8\u6211\u4eec\u8fd9\u4e48\u505a\uff0c\u7a0d\u52a0\u5206\u6790\uff0c\u53d1\u73b0\u7a7f\u8863\u670d\u662f\u6709\u89c4\u5f8b\u7684\u3002\n\n\u8981\u4e48\u662f\u76f4\u63a5\u4ece $s$ \u5f00\u59cb\u5f80\u53f3\u7a7f\uff0c\u8981\u4e48\u662f\u4ece $s$ \u5148\u5f80\u5de6\u5230\u67d0\u4e2a\u70b9 $i$\uff0c\u7136\u540e\u4ece $i$ \u5f00\u59cb\u5f80\u53f3\u7a7f\u3002\n\n$s$ \u5148\u5f80\u5de6\u7684\u60c5\u51b5\u53ef\u4ee5\u9884\u5904\u7406\u51fa\u6765\uff0c\u63a5\u4e0b\u6765\u7684\u95ee\u9898\u5c31\u53d8\u6210\u4ece\u67d0\u4e2a\u70b9 $i$ \u5f00\u59cb\u5f80\u53f3\u7a7f\u7684\u6700\u5c0f\u65f6\u95f4\u3002\n\n\u4e0d\u59a8\u8bbe $f_{i,j}$ \u8868\u793a\u7a7f\u5230\u7b2c $i$ \u4e2a\u8282\u70b9\uff0c\u7a7f\u4e86 $j$ \u4ef6\u8863\u670d\u7684\u6700\u5c0f\u65f6\u95f4\uff0c\u8f6c\u79fb $f_{k,j+r[i]}=\\min (f_{k,j+r[i]},f_{i,j})$\uff0c\u80fd\u8f6c\u79fb\u7684\u6761\u4ef6\u9898\u76ee\u91cc\u8bf4\u660e\u4e86\u3002\n\n\u8fd9\u6837\u5c31\u505a\u5b8c\u4e86\u3002\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nint const N=5e3+10;\nint r[N],f[N][N],ans=9e18;\nsigned main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0),cout.tie(0);\n    int n,s,k;cin>>n>>s>>k;\n    memset(f,0x3f,sizeof(f));\n    int maxn=f[0][0];\n    for (int i=1;i<=n;++i) cin>>r[i],f[i][r[i]]=abs(i-s);\n    string co;cin>>co;\n    for (int j=0;j<=k+50;++j)\n         for (int i=1;i<=n;i++){\n            for (int k=1;k<=n;k++)\n                if (co[i-1]!=co[k-1] && r[i]<r[k]) f[k][j+r[k]]=min(f[k][j+r[k]],f[i][j]+abs(i-k));\n            if (j>=k) ans=min(ans,f[i][j]);\n        }\n    ans=(ans==maxn)?-1:ans;\n    cout<<ans<<'\\n';\n    return 0;\n}\n```\n",
        "postTime": 1664151202,
        "uid": 253608,
        "name": "Tx_Lcy",
        "ccfLevel": 7,
        "title": "CF1057C Tanya and Colored Candies"
    },
    {
        "content": "## \u524d\u8a00\n\u9ed1\u9898\uff08\u8feb\u771f\uff09\n## \u601d\u8def\n\u8bbe $dp_{i,j}$ \u4e3a\u6700\u540e\u4e00\u4e2a\u9009\u62e9\u7b2c $i$ \u5806\u540e\u5171\u7a7f\u4e86 $j$ \u4ef6\u5c0f\u88d9\u5b50\u7684\u65b9\u6848\u6570\u3002\n\n\u663e\u7136 $dp_{i,j}=\\min\\limits_{a_k<a_i,s_k\\neq s_i}dp_{k,j-a_j}+|i-k|$\u3002\n\n\u76f4\u63a5\u66b4\u529b $dp$ \u5373\u53ef\uff0c\u8bb0\u5f97\u51b3\u7b56 $a_i$ \u4ece\u5c0f\u5230\u5927\u505a\uff08\u5982\u4ee3\u7801\u4e2d\u6392\u5e8f\u90e8\u5206\uff09\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2k)$\u3002\n## \u4ee3\u7801\n```\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read(){\n   int s=0,w=1;\n   char ch=getchar();\n   while(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n   while(ch>='0'&&ch<='9') s=s*10+ch-'0',ch=getchar();\n   return s*w;\n}\nint ans[53][2003],a[53],b[53];\nchar s[53];\nbool cmp(int x,int y){return a[x]<a[y];}\nsigned main()\n{\n    int n=read(),sdt=read(),k=read(),Ans=7872754;\n    memset(ans,0x3f,sizeof(ans));\n    for(int i=1; i<=n; i++) a[i]=read(),b[i]=i;\n    scanf(\"%s\",s+1),sort(b+1,b+n+1,cmp);\n    for(int i=1; i<=n; i++) \n\t{\n\t\tfor(int j=0,x=b[i]; j<=a[x]; j++) ans[x][j]=abs(x-sdt);\n\t\tfor(int j=1,x=b[i]; j<=n; j++) \n\t\tif(a[j]<a[x]&&s[j]!=s[x]) for(int dis=abs(x-j),g=k; g>=a[x]; g--) ans[x][g]=min(ans[x][g],ans[j][g-a[x]]+dis);\n\t}\n    for(int i=1; i<=n; i++) Ans=min(Ans,ans[i][k]);\n    if(Ans==7872754) Ans=-1;\n    printf(\"%d\\n\",Ans);\n    return 0;\n}\n```",
        "postTime": 1607949479,
        "uid": 111055,
        "name": "dead_X",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1057C \u3010Tanya and Colored Candies\u3011"
    }
]