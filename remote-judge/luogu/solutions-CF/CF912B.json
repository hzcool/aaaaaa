[
    {
        "content": "\u6b64\u9898\u6570\u636e\u8fd8\u662f\u5f88\u5927\u7684\uff08$ 1<=k<=n<=10^{18} $\uff09\n\n~~\u6ce8\u610f\u5f00long long~~\n\n\u4ee5\u4e0b\u8f6c\u8f7d\u4e8e[https://www.cnblogs.com/siuginhung/p/8207658.html](https://www.cnblogs.com/siuginhung/p/8207658.html)\n\n```\n  \u7ed9\u5b9a\u4e24\u4e2a\u6574\u6570n\u3001k\uff1a\u57281~n\u4e2d\u9009\u62e9\u81f3\u591ak\u4e2a\u6574\u6570\uff0c\u4f7f\u5f97\u5176\u5f02\u6216\u548c\u6700\u5927\u3002\u6c42\u89e3\u8fd9\u4e2a\u6700\u5927\u503c\u3002\n\n  \u663e\u7136\uff0c\u5f53k=1\u65f6\uff0c\u53ea\u9009\u62e9\u4e00\u4e2a\u6574\u6570n\uff0c\u4e8e\u662f\u7b54\u6848\u4e3an\uff1b\n\n  \u5f53k>1\u65f6\uff0c\u53ef\u4ee5\u8003\u8651\u5f02\u6216\u548c\u53ef\u80fd\u8fbe\u5230\u7684\u6700\u5927\u503c\uff1a\u5c06n\u7684\u6240\u6709\u53ef\u6539\u53d8\u7684\u4e8c\u8fdb\u5236\u4f4d\uff08\u5373\u6700\u9ad8\u7684\u20181\u2019\u4f4d\u4ee5\u4e0b\u7684\u4e8c\u8fdb\u5236\u4f4d\uff09\u5747\u53d8\u4e3a\u20181\u2019\uff0c\u8fd9\u4e2a\u503c\u5c31\u662f\u5f02\u6216\u548c\u53ef\u80fd\u8fbe\u5230\u7684\u6700\u5927\u503c\u3002\n\n  \u8bbeS=2b-1\uff0c\u5219\u5bf9\u4e8e\u4efb\u610f\u81ea\u7136\u6570a\uff0c\u82e5a<S\uff0c\u5219\u4e00\u5b9a\u6709a\u00c5(S-a)=S\u3002\u7531\u4e8eS\u7684\u4e8c\u8fdb\u5236\u4f4d\uff0c0~b-1\u4f4d\u5747\u4e3a\u20181\u2019\uff0c\u4e8e\u662f\u6839\u636e\u4f4d\u8fd0\u7b97\u7684\u57fa\u672c\u89c4\u5219\uff0c\u7b49\u5f0f\u663e\u7136\u6210\u7acb\u3002\n\n  \u4e8e\u662f\uff0c\u5f53k>1\u65f6\uff0c\u8bben\u7684\u6700\u9ad8\u20181\u2019\u4f4d\u4e3ab-1\u4f4d\uff0cS=2b-1\uff0c\u5219\u53ef\u9009\u62e9\u4e24\u4e2a\u6574\u6570\uff1an\u548cS-n\uff08\u6ce8\u610f\uff0c\u8fd9\u91ccn\u22652b-1\uff0c\u4e8e\u662fS-n<2b-1\u2264n\uff09\uff1b\u7279\u522b\u5730\uff0c\u5f53n=S\u65f6\uff0c\u53ea\u9009\u62e9\u4e00\u4e2a\u6574\u6570n\u3002\u4e8e\u662f\u7b54\u6848\u4e3aS\u3002\n```\n\n\u901a\u4fd7\u5730\u8bf4\uff0c\u5c31\u662f\u5c3d\u91cf\u51d1\u6210\u4e8c\u8fdb\u5236\u4e3a111111...\u7684\u6570\n\n\u9644\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n    long long int n,k;\n    cin>>n>>k;\n    if(k==1)  //\u7279\u5224\n    {\n        cout<<n;\n        return 0;\n    }\n    long long int b=0;\n    for(;n>>b;b++)  //b\u4e3a(n)2\u7684\u4f4d\u6570\uff08\u9632\u6284\u88ad\uff09\n    cout<<(1LL<<b)-1;  //1LL\u610f\u4e3along long\u76841\n    return 0;\n}\n```",
        "postTime": 1540131639,
        "uid": 78860,
        "name": "BB2655",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF912B \u3010New Year's Eve\u3011"
    },
    {
        "content": "\u53d1\u73b0\u6b64\u9898\u6570\u636e\u6709\u95ee\u9898\n\n\u53ea\u7528\u7279\u76d8\u4e00\u4e0bk=1\u7684\u60c5\u51b5\uff0c\u5176\u4f59\u60c5\u51b5\u76f4\u63a5\u628an\u5206\u89e3\u6389\u5c31\u597d\u4e86\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$\\Theta(\\log n)$\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n\tlong long n,k;\n\tscanf(\"%lld%lld\",&n,&k);\n\tif(k==1)\n\t{\n\t\tcout<<n<<endl;\n\t\treturn 0;\n\t}\n\tlong long ans=0;\n\tfor(long long i=0;n>>i;i++)\n\t\tans+=(1LL<<i);\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```\nrp++",
        "postTime": 1565591930,
        "uid": 93488,
        "name": "Porsche",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF912B \u3010New Year's Eve\u3011"
    },
    {
        "content": "\u4e00\u4e2a\u7ed3\u8bba\uff1a\n$$ans=\\begin{cases} n,&k=1\\\\2^{\\left\\lceil\\log_{2}n\\right\\rceil}-1,&k>1\\end{cases}$$\n\n\u7ed9\u51fa\u8bc1\u660e\uff1a\n\n\u5982\u679c $k=1$\uff0c\u9009\u53d6\u6700\u5927\u7684 $n$ \u4e3a\u7b54\u6848\uff1b\n\n\u5982\u679c $k>1$\uff0c\u540c\u6837\u5148\u9009\u53d6 $n$\uff0c\u8bb0 $cnt=\\left\\lceil\\log_{2}n\\right\\rceil$\uff0c\u56e0\u4e3a\u6700\u5927\u7684 $n$ \u4e8c\u8fdb\u5236\u5171 $cnt+1$ \u4f4d\uff0c\u4e14\u6700\u9ad8\u4f4d\u4e0a\u4e3a $1$\uff0c\u6240\u4ee5\u5728 $[1,n-1]$ \u4e2d\u4e00\u5b9a\u5b58\u5728\u4e00\u4e2a $i$\uff0c\u4f7f\u5f97 $i \\oplus n=2^{\\left\\lceil\\log_{2}n\\right\\rceil}-1$\uff0c\u539f\u56e0\u662f $i$ \u7684\u7b2c $cnt+1$ \u4f4d\u4e3a $0$\uff0c\u6240\u4ee5  $1\\le i\\le2^{cnt}-1 \\le n-1$\u3002\n\n\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff1a\u8bbe $n$ \u7684\u4e8c\u8fdb\u5236\u6700\u9ad8\u4f4d $p$\uff0c\u90a3\u4e48\u6211\u4eec\u9009\u53d6 $n$\uff0c\u8bbe $m=n \\oplus (2^p-1)$\uff0c\u56e0\u4e3a $n$ \u7684\u7b2c $p$ \u4f4d\u4e3a $1$\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u53bb\u6389\u6700\u9ad8\u4f4d\u540e $m=n \\oplus (2^p-1) = (n-2^p) \\oplus (2^{p-1}-1)$\uff0c\u800c $m$ \u4e00\u5b9a\u5728 $[1,2^{p-1}-1]$ \u4e2d\uff0c\u4e00\u5b9a\u53ef\u4ee5\u9009\u53d6\uff0c\u6240\u4ee5\u7b54\u6848\u4e3a $2^{p}-1$\u3002\n\n# \u4ee3\u7801\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\ntypedef double db;\ninline ll read(){\n    ll x=0,w=1;char c=getchar();\n    while(c<'0'||c>'9'){if(c=='-')w=-1;c=getchar();}\n    while(c<='9'&&c>='0'){x=(x<<3)+(x<<1)+c-'0';c=getchar();}\n    return x*w;\n}\nll n,k;\ninline ll q_pow(ll x,ll p){\n    ll ans=1;\n    while(p){\n        if(p&1){\n            ans*=x;\n        }\n        x*=x;\n        p>>=1;\n    }\n    return ans;\n}\nint main(){\n    n=read(),k=read();\n    if(k==1) printf(\"%lld\\n\",n);\n    else{\n        ll cnt=0,num=1;\n        while(1){\n            num<<=1;\n            cnt++;\n            if(num>n){\n                break;\n            }\n        }\n        printf(\"%lld\\n\",q_pow(2,cnt)-1);\n    }\n    return 0;\n}\n```",
        "postTime": 1635673188,
        "uid": 321177,
        "name": "SoyTony",
        "ccfLevel": 6,
        "title": "CF\u9898\u89e3\u2014\u2014CF912B New Year's Eve"
    },
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n\u7ed9\u5b9a\u4e24\u4e2a\u6574\u6570 $n$\uff0c$k$\uff0c\u5728 1 \u5230 $n$ \u4e2d\u9009\u62e9\u81f3\u591a $k$ \u4e2a\u6574\u6570\uff0c\u4f7f\u5f97\u5176\u5f02\u6216\u548c\u6700\u5927\uff0c\u6c42\u89e3\u8fd9\u4e2a\u6700\u5927\u503c\u3002\n\n### \u5177\u4f53\u601d\u8def\n\n- \u5982\u679c $k$ \u7684\u503c\u4e3a 1\uff0c\u90a3\u4e48\u5176\u5f02\u6216\u548c\u6700\u5927\u7684\u6570\u5c31\u662f $n$ \u672c\u8eab\uff1b\n\n- \u5982\u679c $k$ \u7684\u503c\u4e0d\u4e3a 1\uff0c\u90a3\u4e48\u5c31\u5c3d\u91cf\u628a\u6570\u51d1\u6210\u4e8c\u8fdb\u5236\u7684 111111\u3002\u5c31\u53ef\u4ee5\u4fdd\u8bc1\u5176\u5f02\u6216\u548c\u6700\u5927\uff1b\n\n\u4e0a\u4ee3\u7801\uff1a\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long n, k, num = 1;//\u4e0d\u5f00 long long \u89c1\u7956\u5b97\nint main(){\n\tcin >> n >> k;\n\tif(k == 1){\n\t\tcout << n << endl;\n\t} else {\n\t\twhile(n){//\u5206\u89e3\n\t\t\tnum = num << 1;\n\t\t\tn = n >> 1;\n\t\t}\n\t\tcout << (num * 1ll) - 1 << endl;//\u53d6\u6700\u5927\u503c\n\t}\n\treturn 0;\n}\n```\n$O(logn)$ \u7684\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u76f4\u63a5\u5207\u6389\uff01\uff01",
        "postTime": 1647067653,
        "uid": 519573,
        "name": "Daniel_yao",
        "ccfLevel": 0,
        "title": "CF912B New Year's Eve \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u662f\u4e00\u9053\u5927\u6c34\u9898\u3002\n\n\u9996\u5148\u8003\u8651\u4e00\u4e0b $k=1$ \u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u53ea\u80fd\u9009\u4e00\u4e2a\u6570\uff0c\u6700\u5927\u7684\u5c31\u662f $n$ ,\u76f4\u63a5\u8f93\u51fa\u5373\u53ef\u3002\n\n\u518d\u8003\u8651\u4e00\u4e0b $k<1$ \u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u5f02\u6216\u548c\u6700\u591a\u53ea\u80fd\u4e3a $n$ \u7684\u4e8c\u8fdb\u5236\u4f4d\u6570\u91cc\u6700\u5927\u7684\uff0c\u5373\u4e3a\u4e8c\u8fdb\u5236\u5168\u4e3a\u4e00\u7684\u60c5\u51b5\uff0c\u7136\u540e\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u53ef\u4ee5\u548c $n$ \u5f02\u6216\u6210\u6700\u5927\u503c\u7684\u6570\u4e00\u5b9a\u6bd4 $n$ \u5c0f\uff0c\u5219\u5b83\u4e00\u5b9a\u4f1a\u5728\u8303\u56f4\u4e4b\u5185\uff0c\u53ef\u4ee5\u9009\u3002\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u9009\u4e24\u4e2a\u6570\u5373\u53ef\u5f97\u51fa\u6700\u5927\u503c\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include <bits/stdc++.h> \nusing namespace std;\nlong long n,k;\nint main(){\n\tcin>>n>>k;\n\tif(k==1) cout<<n;\n\telse{\n\t\tlong long ans=1;\n\t\tfor( ;n;ans*=2,n>>=1);\n\t\tcout<<ans-1;\n\t}\n}\n```\n",
        "postTime": 1631598874,
        "uid": 262354,
        "name": "GZY007",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF912B \u3010New Year's Eve\u3011"
    },
    {
        "content": "#### [CF912B New Year's Eve](https://www.luogu.com.cn/problem/CF912B)\n\n\n------------\n- \u5206\u6790\uff1a\u8fd9\u9053\u9898\u975e\u5e38\u7684\u6c34\u554a\uff0c\u53ea\u7528\u7279\u5224\u4e00\u4e0b $k=1$ \u7684\u60c5\u51b5\uff0c\u5176\u4f59\u60c5\u51b5\u76f4\u63a5\u628a $n$ \u5206\u89e3\u6389\u5c31\u597d\u4e86.\n\n\n------------\n- \u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n\tlong long n,k,ans=0;\n\tcin>>n>>k; \n\tif(k==1){\n\t\tcout<<n<<endl;\n\t\treturn 0;\n\t}\n\tfor(long long i=0;n>>i;i++) ans+=(1LL<<i);\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```\n\n\n------------\n\u5b8c\u7ed3\u6492\u82b1\uff01",
        "postTime": 1612318636,
        "uid": 255199,
        "name": "\u5c0f\u5766\u514b",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 CF912B \u3010New Year's Eve\u3011"
    },
    {
        "content": "## \u9898\u610f\uff1a\n\n\u5728`1 ~ n`\u4e2d\u9009\u4e0d\u8d85\u8fc7$m$\u4e2a\u6570\uff0c\u6c42\u5176\u5f02\u6216\u6700\u5927\u503c \n\n## \u9898\u89e3\uff1a\n\u7ecf\u8fc7\u627e\u89c4\u5f8b\u53d1\u73b0\u5982\u679c$m$\u4e3a$1$\uff0c\u8f93\u51fa$n$\uff0c\u4e0d\u7136\u8f93\u51fa\u6700\u5c0f\u7684\u4e0d\u8d85\u8fc7$n$\u7684$2^k-1$\n\n## Code\n```cpp\n#include<cstdio>\n#include<cstring>  \nusing namespace std; \ninline long long read() {\n\tlong long x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch>'9'||ch<'0') {\n\t\tif(ch=='-') f=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9') {\n\t\tx=(x<<1)+(x<<3)+(ch^48);\n\t\tch=getchar();\n\t}\n\treturn x*f;\n}\n \nlong long n,k,ans=1;  \nint main(){  \n    n=read(),k=read();\n    if(k==1){\n\t\tprintf(\"%lld\\n\",n);\n    }else{\n    \twhile(n>>=1) ans<<=1;\n\t    printf(\"%lld\\n\",(ans<<1)-1);  \n\t}\n    return 0;  \n}\n```",
        "postTime": 1604046990,
        "uid": 283083,
        "name": "fisheep",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 CF912B \u3010New Year's Eve\u3011"
    }
]