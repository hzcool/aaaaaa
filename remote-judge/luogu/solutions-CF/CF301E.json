[
    {
        "content": "\u8003\u8651$dp$\uff0c\u7531\u4e8e$n,m,k\\le 100$\uff0c\u4e0d\u59a8\u591a\u8bbe\u51e0\u7ef4\u72b6\u6001\u3002\n\n\u60f3\u8c61\u4e00\u4e0b\uff0c\u6784\u9020$\\text{good array}$\u7684\u8fc7\u7a0b\u5b9e\u9645\u4e0a\u5c31\u662f\u628a\u6700\u5927\u7684\u5f80\u6b21\u5927\u7684\u4e2d\u95f4\u63d2\u7a7a\u3002\n\n\u8bbe$dp[i][j][k][l]$\u4ee3\u8868\u6700\u5927\u6570\u4e3a$i$\uff0c\u7528\u4e86$j$\u4e2a\u6570\uff0c\u6b21\u5927\u6570\u6709$k$\u4e2a\u7a7a\u9699\uff0c\u5df2\u7ecf\u6709$l$\u79cd\u65b9\u6cd5\u3002\n\n\u679a\u4e3e$i+1$\u7684\u4e2a\u6570$t$\uff0c$k\\le t$\uff0c\u4e0d\u59a8\u8003\u8651\u6b21\u5927\u6570\u5f80\u6700\u5927\u6570\u4e2d\u63d2\u7a7a\u3002\n\n\u6bcf\u4e2a\u7a7a\u4f4d\u53ea\u80fd\u52a0\u5165\u4e00\u4e2a\u6b21\u5927\u6570\uff0c\u6545\u5269\u4f59$t-k$\u4e2a\u7a7a\uff0c\u65b9\u6848\u6570\u4e3a$C_{t-1}^{k-1}$\n\n\u6545$dp[i][j][k][l]\\rightarrow dp[i+1][j+t][t-k][l*C_{t-1}^{k-1}]$\n\n\u65b9\u4fbf\u8d77\u89c1\uff0c\u65ad\u73af\u4e3a\u94fe\uff0c\u8bbe$a[n+1]=a[1]$\uff0c\u4e0d\u59a8\u8bbe$a[1]=1$\uff0c\u7ed3\u679c\u4e58\u4ee5$m-i+1$\u5373\u53ef\u3002\n\n\u521d\u59cb\u6761\u4ef6\uff1a$dp[0][0][1][1]=1$\n\n```\n#include <bits/stdc++.h>\n#define ll long long\n#define mod 1000000007\n#define N 109\nusing namespace std;\nint c[N][N],n,m,K,dp[2][N][N][N],ans;\nvoid add(int &x,int y){x=(x+y>=mod)?x+y-mod:x+y;}\nint main(){\n\tcin>>n>>m>>K;n++;\n\tc[0][0]=1;\n\tfor(int i=1;i<=K;i++)\n\t\tfor(int j=0;j<=i;j++){\n\t\t\tc[i][j]=(j?c[i-1][j-1]:0)+c[i-1][j];\n\t\t\tif(c[i][j]>K)c[i][j]=K+1;\n\t\t}\n\tint now=1,las=0;\n\tdp[now][0][1][1]=1;\n\tfor(int i=1;i<=m;i++){\n\t\tlas=now,now^=1;\n\t\tmemset(dp[now],0,sizeof(dp[now]));\n\t\tfor(int j=0;j<=n;j++)\n\t\t\tfor(int k=1;k<=n;k++)\n\t\t\t\tfor(int l=1;l<=K;l++)\n\t\t\t\t\tif(dp[las][j][k][l])\n\t\t\t\t\t\tfor(int t=k;t<=n-j;t++)\n\t\t\t\t\t\t\tif(l*c[t-1][k-1]<=K)\n\t\t\t\t\t\t\t\tadd(dp[now][j+t][t-k][l*c[t-1][k-1]],dp[las][j][k][l]);\n\t\tint tmp=0;\n\t\tfor(int j=2;j<=n;j++)\n\t\t\tfor(int l=1;l<=K;l++)add(tmp,dp[now][j][0][l]);\n\t\tadd(ans,(ll)tmp*(m-i+1)%mod);\n\t}\n\tcout<<ans<<'\\n';\n\treturn 0;\n}\n```\n\n\u601d\u8def&\u4ee3\u7801\u501f\u9274[\u6b64\u535a\u5ba2](https://blog.csdn.net/wzf_2000/article/details/78856259)\n\n\u6df1\u6df1\u5730\u611f\u5230\u81ea\u5df1\u7684\u5f31\u5c0f\u3002",
        "postTime": 1619702699,
        "uid": 140876,
        "name": "syzf2222",
        "ccfLevel": 9,
        "title": "CF301E Yaroslav and Arrangements"
    }
]