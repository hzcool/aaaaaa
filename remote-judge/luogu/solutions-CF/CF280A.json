[
    {
        "content": "\u521a\u5b66\u8ba1\u7b97\u51e0\u4f55\uff0c\u65b9\u6cd5\u504f\u66b4\u529b\u3002\n\n## \u524d\u7f6e\u77e5\u8bc6\n\n### 1.\u5411\u91cf\u9006\u65f6\u9488\u65cb\u8f6c $\\theta$\n\u8bbe\u539f\u5411\u91cf\u4e3a $(x,y)$\u3002\u5219\u65cb\u8f6c\u540e\u7684\u5411\u91cf\u4e3a $(x\\cos\\theta - y\\sin\\theta,x\\sin\\theta+y\\cos\\theta)$\n\n\u89e3\u91ca\uff1a\u53ef\u4ee5\u628a $(x,y)$ \u5206\u89e3\u6210 $(x,0)$ \u548c $(y,0)$ \u5206\u522b\u65cb\u8f6c\u3002\n\n### 2.\u53c9\u79ef\u6c42\u4e09\u89d2\u5f62\u9762\u79ef\n\n$$S=\\frac{1}{2}\\left|\\overrightarrow{AB} \\times \\overrightarrow{AC}\\right|$$\n\n### 3.\u5224\u65ad\u7ebf\u6bb5\u76f8\u4ea4\n\u6bcf\u6761\u7ebf\u6bb5\u7684\u4e24\u7aef\u90fd\u8de8\u8fc7\u53e6\u4e00\u6761\u7ebf\u6bb5\u3002\n\n\u5373\u5224\u65ad\u7ebf\u6bb5 $AB$ \u548c $CD$ \u662f\u5426\u6ee1\u8db3 $\\overrightarrow{AB} \\times \\overrightarrow{AC}$ \u4e0e $\\overrightarrow{AB} \\times \\overrightarrow{AD}$ \u6b63\u8d1f\u76f8\u53cd\uff0c\u4e14 $\\overrightarrow{CD} \\times \\overrightarrow{CA}$ \u4e0e $\\overrightarrow{CD} \\times \\overrightarrow{CB}$ \u6b63\u8d1f\u4e5f\u76f8\u53cd\u3002\n\n## \u9898\u89e3\n\u9996\u5148\u662f\u4e00\u4e9b\u5904\u7406\u3002\n\n- \u5982\u679c $w<h$\uff0c\u5c06\u4e24\u8fb9\u4ea4\u6362\u3002\n- \u5982\u679c\u65cb\u8f6c\u89d2\u5927\u4e8e $180$\uff0c\u5148\u51cf\u53bb $180$\u3002\n- \u51cf\u5b8c\u540e\u5982\u679c\u4e3a $0$ \uff0c\u76f4\u63a5\u8f93\u51fa\u77e9\u5f62\u9762\u79ef\u3002\n- \u5426\u5219\uff0c\u5982\u679c\u5927\u4e8e $90$ \uff0c\u7528 $180$ \u51cf\u53bb\u65cb\u8f6c\u89d2\u3002\n\n\u63a5\u7740\u5c06 $\\overrightarrow{OA},\\overrightarrow{OB},\\overrightarrow{OC},\\overrightarrow{OD}$ \u5206\u522b\u65cb\u8f6c\uff0c\u5f97\u5230 $EFGH$ \u7684\u9876\u70b9\u5750\u6807\u3002\n\n\u6b64\u65f6\u4f1a\u51fa\u73b0\u4e24\u79cd\u60c5\u51b5\u3002\n### \u60c5\u51b5 1\n**\u5f53\u7ebf\u6bb5 $AB$ \u548c $HE$ \u4e0d\u76f8\u4ea4\u65f6**\uff0c\u4e24\u4e2a\u77e9\u5f62\u6709 $4$ \u4e2a\u4ea4\u70b9\uff0c\u5982\u56fe\u3002\n![](https://cdn.luogu.com.cn/upload/image_hosting/8w74f5lj.png)\n\n\u6b64\u65f6\u53ea\u9700\u8981\u6c42\u51fa\u4ea4\u70b9 $I_1$ \u548c $I_2$\uff0c\u6c42\u51fa\u5e73\u884c\u56db\u8fb9\u5f62\u7684\u9762\u79ef\u3002\n\n### \u60c5\u51b5 2\n\n**\u5f53\u7ebf\u6bb5 $AB$ \u548c $HE$ \u76f8\u4ea4\u65f6**\uff0c\u4e24\u4e2a\u77e9\u5f62\u6709 $8$ \u4e2a\u4ea4\u70b9\uff0c\u5982\u56fe\u3002\n![](https://cdn.luogu.com.cn/upload/image_hosting/ytg1d1yj.png)\n\n\u5206\u522b\u8bb0\u4f5c $I_1$ \u81f3 $I_8$\uff0c\u91cd\u53e0\u9762\u79ef\u5c31\u662f\u8fd9 $8$ \u4e2a\u70b9\u56f4\u6210\u7684\u591a\u8fb9\u5f62\u9762\u79ef\u3002\n\n$$S=\\frac{1}{2}(\\left|\\overrightarrow{OI_1} \\times \\overrightarrow{OI_2}\\right|+\\left|\\overrightarrow{OI_2} \\times \\overrightarrow{OI_3}+\\right|+...+\\left||\\overrightarrow{OI_7} \\times \\overrightarrow{OI_8}\\right|+\\left||\\overrightarrow{OI_8} \\times \\overrightarrow{OI_1}\\right|)$$\n\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst long double eps=1e-8;\nconst long double PI=acos(-1.0);\n\nlong double ans;\nlong double w,h,a;\n\nint sgn(double x){ return (fabs(x)<eps)?0:(x<0?-1:1); }\nstruct Point{\n    long double x,y;\n    Point(long double x=0.0,long double y=0.0):x(x),y(y){}\n};\ntypedef Point Vector;\n//\u5411\u91cf\u56db\u5219\u8fd0\u7b97\nVector operator + (Vector A,Vector B){ return Vector(A.x+B.x,A.y+B.y); }\nVector operator - (Vector A,Vector B){ return Vector(A.x-B.x,A.y-B.y); }\nVector operator * (Vector A,long double p){ return Vector(A.x*p,A.y*p); }\nVector operator / (Vector A,long double p){ return Vector(A.x/p,A.y/p); }\n\n//cross\u4e3a\u53c9\u79ef\uff0crotate\u4e3a\u5411\u91cf\u65cb\u8f6c\uff08rad\u4e3a\u5f27\u5ea6\u5236\u8868\u793a\uff09\uff0cbool\u578b\u51fd\u6570\u5224\u6bb5\u7ebf\u6bb5\u662f\u5426\u76f8\u4ea4\nlong double cross(Vector A,Vector B){ return A.x*B.y-A.y*B.x; }\nVector rotate(Vector A,long double rad){\n\treturn Vector(A.x*cos(rad)-A.y*sin(rad),A.x*sin(rad)+A.y*cos(rad));\n}\nbool Properintersection(Point A,Point B,Point P,Point Q){\n\treturn sgn(cross(B-A,P-A))*sgn(cross(B-A,Q-A))<0\n\t\t &&sgn(cross(Q-P,A-P))*sgn(cross(Q-P,B-P))<0;\n}\n\n//\u4e24\u6761\u76f4\u7ebf\u6c42\u4ea4\u70b9\uff0c\u7528P+t*v\u8868\u793a\u4e00\u6761\u76f4\u7ebf\uff08P\u4e3a\u4e00\u4e2a\u70b9\uff0cv\u4e3a\u8868\u793a\u76f4\u7ebf\u65b9\u5411\u7684\u5411\u91cf\uff0ct\u4e3a\u5b9e\u6570\uff09\nPoint intersection(Point P,Vector v,Point Q,Vector w)\n{\n    Vector u=P-Q;\n    long double t=cross(w,u)/cross(v,w);\n    return P+v*t;\n}\n//\u5c06\u4e24\u4e2a\u5750\u6807\u8868\u793a\u7684\u76f4\u7ebf\uff0c\u8f6c\u5316\u4e3aP+t*v\u7684\u8868\u793a\uff0c\u6254\u8fdbintersection\u51fd\u6570\u3002\nPoint pre_itsc(Point X,Point Y,Point M,Point N){\n\treturn intersection(X,Y-X,M,N-M);\n}\n\nsigned main()\n{\n\tcin>>w>>h>>a;\n    if(w<h) swap(w,h);//\u4e0d\u52a0WA on 13\n\n\tif(a>=180.0) a-=180.0;\n\tif(a==0){\n\t\tcout<<fixed<<setprecision(8)<<w*h<<endl;\n\t\treturn 0;\n\t}\n\tif(a>90) a=180-a;//\u8fd9\u53e5\u4e0d\u52a0WA on 6\n\ta=a/180.0*PI;//\u89d2\u5ea6\u503c\u8f6c\u5f27\u5ea6\u5236\n\n\t//\u6c42\u51fa\u65cb\u8f6c\u524d\u540e\u77e9\u5f62\u9876\u70b9\u5750\u6807\n\tPoint A(-w/2.0,h/2.0),B(-w/2.0,-h/2.0),C(w/2.0,-h/2.0),D(w/2.0,h/2.0);\n\tPoint E=rotate(A,a),F=rotate(B,a),G=rotate(C,a),H=rotate(D,a);\n\n\t//\u5224\u65ad EH \u548c AB \u662f\u5426\u76f8\u4ea4\uff0c\u5206\u7c7b\u8ba8\u8bba\uff08\u5426\u5219 WA on 7\uff09\n\tif(Properintersection(E,H,A,B))\n\t{//\u5bf9\u5e94\u60c5\u51b5 2\n\t\tPoint I1=pre_itsc(A,D,E,H),I2=pre_itsc(A,B,E,H),\n\t\t\t  I3=pre_itsc(A,B,E,F),I4=pre_itsc(B,C,E,F),\n\t\t\t  I5=pre_itsc(B,C,F,G),I6=pre_itsc(C,D,F,G),\n\t\t\t  I7=pre_itsc(C,D,H,G),I8=pre_itsc(A,D,H,G);\n\n\t\tans=fabs(cross(I1,I2))/2.0+fabs(cross(I2,I3))/2.0+\n\t\t\tfabs(cross(I3,I4))/2.0+fabs(cross(I4,I5))/2.0+\n\t\t\tfabs(cross(I5,I6))/2.0+fabs(cross(I6,I7))/2.0+\n\t\t\tfabs(cross(I7,I8))/2.0+fabs(cross(I8,I1))/2.0;\n\t}else{//\u5bf9\u5e94\u9898\u89e3\u60c5\u51b5 1\n\t\tPoint I1=pre_itsc(E,H,B,C),I2=pre_itsc(F,G,B,C);\n\t\tans=fabs(I1.x-I2.x)*h;\n\t}\n\tcout<<fixed<<setprecision(8)<<ans<<endl;\n    return 0;\n}\n```",
        "postTime": 1681265886,
        "uid": 252664,
        "name": "wanggk",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011CF280A  Rectangle Puzzle"
    },
    {
        "content": "\u8ba1\u7b97\u51e0\u4f55\u7684\u597d\u9898\n\n\u601d\u8def\u5f88\u5e38\u89c4\uff1a\u76f4\u63a5\u505a\u9ad8\u6cd5+\u6b63\u5f26\u5b9a\u7406\u6c42\u9ad8\u3002\n\n\u5c31\u662f\u6ce8\u610f\u4e00\u4e9b\u5751\u7684\u70b9\uff1a\n\n1.\u8f93\u5165\u89d2\u53ef\u80fd>90\u5ea6\n\n2.C++<cmath>\u4e2dsin\u7b49\u4e09\u89d2\u51fd\u6570\u4e2d\u4f20\u5165\u7684\u503c\u91c7\u7528\u5f27\u5ea6\u5236\n\n3.C++<cmath>\u4e2darcsin\u7b49\u51fd\u6570\u5199\u4f5casin\n  \n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#include<iostream>\n#include<cstdio>\nusing namespace std;\n\ninline double sqr(double v){return v*v;}\n\ndouble a,w,h;\n\nint main(){\n    cin>>w>>h>>a;\n    double ans=w*h;\n    if(a>90) a=180-a;//\u786e\u4fdd\u8f93\u5165\u89d2\u5c0f\u4e8e90\u5ea6\n    a=a/180.0*acos(-1);//\u5c06a\u8f6c\u5316\u4f4d\u5f27\u5ea6\u5236\n    if(w<h) swap(w,h);//\u786e\u4fddw\u4e0eh\u4e4b\u95f4\u7684\u5927\u5c0f\u5173\u7cfb\n    double h1=w/2*sin(a)+h/2*cos(a)-h/2,\n    h2=w/2*cos(a)+h/2*sin(a)-w/2,\n    b=2*atan(h/w);\n    //\u6c42\u51fa\u9ad8\u7684\u957f\u5ea6\n    if(a<b){\n        if(a>0) ans-=(sqr(h1)+sqr(h2))/(sin(a)*cos(a));//\u51cf\u53bb\u591a\u7b97\u7684\u9762\u79ef\n        printf(\"%.10lf\\n\",ans);\n    }\n    else printf(\"%.10lf\\n\",sqr(h)/sin(a));\n    return 0;\n}\n```",
        "postTime": 1553054840,
        "uid": 27924,
        "name": "xukuan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF280A \u3010Rectangle Puzzle\u3011"
    },
    {
        "content": "\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u8ba1\u7b97\u51e0\u4f55\u9898\u89e3\uff0c\u6709\u4e0d\u5bf9\u7684\u5730\u65b9\u656c\u8bf7\u8c05\u89e3 + \u8bc4\u8bba\u533a\u6307\u51fa\u3002\n\n## \u9898\u610f\n\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u4e3a $w$\uff0c\u5bbd\u4e3a $h$ \u7684\u957f\u65b9\u5f62 $a$\uff0c\u7ed5\u5176\u4e2d\u5fc3\u9006\u65f6\u9488\u65cb\u8f6c $\\alpha$ \u5ea6\u5f97\u5230\u957f\u65b9\u5f62 $b$\uff0c\u6c42 $a$ \u4e0e $b$ \u7684\u91cd\u53e0\u9762\u79ef $S$\u3002\n\n\u6570\u636e\u8303\u56f4\uff1a$1\\le w,h\\le 10^6, 0 \\le \\alpha \\le 180$\u3002\n\n## \u5206\u6790\n\n\u5f53 $\\alpha=0$ \u6216 $180$ \u65f6\uff0c$S=wh$\u3002\n\n\u663e\u7136\uff0c\u9006\u65f6\u9488\u65cb\u8f6c $\\alpha\\left(\\alpha>90\\right)$ \u5ea6\uff0c\u7b49\u4ef7\u4e8e\u987a\u65f6\u9488\u65cb\u8f6c $180-\\alpha$ \u5ea6\u3002\u56e0\u4e3a\u957f\u65b9\u5f62\u662f\u8f74\u5bf9\u79f0\u56fe\u5f62\uff0c\u6240\u4ee5\u987a\u65f6\u9488\u65cb\u8f6c\u7b49\u4ef7\u4e8e\u9006\u65f6\u9488\u65cb\u8f6c\uff0c\u5373\u9006\u65f6\u9488\u65cb\u8f6c $\\alpha\\left(\\alpha>90\\right)$ \u5ea6\u7b49\u4ef7\u4e8e\u9006\u65f6\u9488\u65cb\u8f6c $180-\\alpha$ \u5ea6\u3002\n\n\u90a3\u4e48\u73b0\u5728\u6211\u4eec\u53ea\u9700\u8981\u89e3\u51b3 $0< \\alpha \\le 90$ \u7684\u60c5\u51b5\u5373\u53ef\u3002\n\n### I.\u65cb\u8f6c\n\n\u66f4\u591a\u76f8\u5173\u8bc1\u660e\u548c\u8865\u5145\u5185\u5bb9\uff1a[link](https://oi.wiki/math/linear-algebra/vector/)\u3002\n\n\u8bbe\u5411\u91cf $s=(x,y)$\uff0c\u5219\u5176\u9006\u65f6\u9488\u65cb\u8f6c $\\theta$ \u5ea6\u89d2\u5f97\u5230\u7684\u5411\u91cf $t=(x\\cos\\theta-y\\sin\\theta,y\\cos\\theta+x\\sin\\theta)$\u3002\n\n\u90a3\u4e48\u5c31\u53ef\u4ee5\u7528\u4e0a\u8ff0\u516c\u5f0f\u8ba1\u7b97\u51fa\u957f\u65b9\u5f62 $b$ \u7684\u56db\u4e2a\u9876\u70b9\u3002\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\npdd rotate(pdd a,double w){\n\treturn {a.x*cos(w)-a.y*sin(w),a.y*cos(w)+a.x*sin(w)};\n}\n```\n\n### II.\u5224\u65ad\u76f8\u4ea4\n\n\u66f4\u591a\u76f8\u5173\u8bc1\u660e\u548c\u8865\u5145\u5185\u5bb9\uff1a[link](https://oi.wiki/geometry/2d/)\u3002\n\n\u81ea\u5df1\u591a\u9020\u51e0\u7ec4\u6570\u636e\u53ef\u4ee5\u53d1\u73b0\uff0c\u5728 $0<\\alpha\\le 90$ \u65f6\uff0c$a$ \u548c $b$ \u7684\u4ea4\u70b9\u53ea\u6709\u4e24\u79cd\u53ef\u80fd\uff0c$4$ \u4e2a\u6216 $8$ \u4e2a\u3002\u5f53 $a$ \u548c $b$ \u53ea\u6709 $4$ \u4e2a\u4ea4\u70b9\u65f6\uff0c$AC$ \u4e0e $EG$ \u6ca1\u6709\u4ea4\u70b9\uff08\u5982\u4e0b\u56fe $2$\uff09\uff0c\u800c\u5f53 $a$ \u548c $b$ \u4e4b\u95f4\u6709 $8$ \u4e2a\u4ea4\u70b9\u65f6\uff0c $AC$ \u548c $EG$ \u4f1a\u76f8\u4ea4\u4e8e\u4e00\u70b9\uff08\u5982\u4e0b\u56fe $1$\uff09\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u901a\u8fc7\u5224\u65ad\u7ebf\u6bb5 $AC$ \u548c\u7ebf\u6bb5 $EG$ \u662f\u5426\u76f8\u4ea4\u5c31\u53ef\u4ee5\u786e\u5b9a\u9898\u76ee\u662f\u5c5e\u4e8e\u54ea\u4e00\u79cd\u60c5\u51b5\u4e86\u3002\n\n\u5224\u65ad\u76f8\u4ea4\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u5c31\u662f\u5411\u91cf\u79ef\uff0c\u901a\u8fc7\u5224\u65ad\u4e00\u6761\u7ebf\u6bb5\u7684\u4e24\u4e2a\u7aef\u70b9\u662f\u5426\u5728\u53e6\u4e00\u6761\u7ebf\u6bb5\u7684\u4e24\u4fa7\u6765\u5224\u65ad\u8fd9\u4e24\u6761\u7ebf\u6bb5\u662f\u5426\u76f8\u4ea4\u3002\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\nbool collide(pdd a,pdd b,pdd c,pdd d){\n\tif (signbit((b-a)*(c-a))^signbit((b-a)*(d-a)))\n\t\tif (signbit((d-c)*(c-a))^signbit((d-c)*(c-b))) return true;\n\treturn false;\n}\n```\n\n\u6ce8\uff1a`cmath` \u5e93\u4e2d\u7684 `signbit` \u51fd\u6570\u53ef\u4ee5\u5224\u65ad\u4e00\u4e2a\u6d6e\u70b9\u6570\u662f\u5426\u4e3a\u8d1f\u6570\uff0c\u662f\u8fd4\u56de `true`\uff0c\u5426\u5219\u8fd4\u56de `false`\u3002\n\n### III.$a$ \u4e0e $b$ \u6709 $8$ \u4e2a\u4ea4\u70b9\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3xq71vv7.png)\n\n$$\\texttt{\u56fe }1$$\n\n\u5982\u56fe $1$\uff0c$\\begin{cases}S=AB\\times AC-S_{\\Delta FMN}-S_{\\Delta EPQ}-S_{\\Delta SGT}-S_{\\Delta XHY}\\\\S_{\\Delta FMN}=S_{\\Delta SGT}\\\\S_{\\Delta EPQ}=S_{\\Delta XHY}\\end{cases}$\u3002\n\n\u8bbe $F=(x1,y1)$\uff0c$E=(x2,y2)$\uff0c\u5219 $S_{\\Delta FMN}=\\dfrac{1}{2}MN\\times\\left(\\ y1-\\dfrac{h}{2}\\right)$\uff0c$S_{\\Delta EPQ}=\\dfrac{1}{2}PQ\\times\\left(\\ -\\dfrac{w}{2}-x2\\right)$\u3002\n\n\u90a3\u4e48\u53ea\u9700\u8981\u6c42\u51fa $MN$ \u548c $PQ$ \u7684\u957f\u5ea6\u5373\u53ef\u3002\u8981\u6c42\u51fa $MN$ \u548c $PQ$ \u7684\u957f\uff0c\u6211\u4eec\u53ef\u4ee5\u66b4\u529b\u6c42\u51fa\u6bcf\u4e00\u4e2a\u70b9\u7684\u5750\u6807\uff0c\u7136\u540e\u76f8\u51cf\u5373\u53ef\u3002\u8fd9\u6837\uff0c\u6c42\u9634\u5f71\u9762\u79ef\u5c31\u53d8\u6210\u4e86\u6c42 $M,N,P,Q$ \u56db\u70b9\u7684\u5750\u6807\uff0c\u800c\u8fd9 $4$ \u70b9\u90fd\u5206\u522b\u662f\u4e24\u6761\u5df2\u77e5\u7ebf\u6bb5\u7684\u4ea4\u70b9\u3002\n\n### IV.$a$ \u4e0e $b$ \u6709 $4$ \u4e2a\u4ea4\u70b9\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hs95lzsw.png)\n\n$$\\texttt{\u56fe }2$$\n\n\u5982\u56fe $2$\uff0c$S=PQ\\times AC=PQ\\times h$\u3002\n\n\u6240\u4ee5\u53ea\u9700\u8981\u6c42\u51fa $P,Q$ \u4e24\u70b9\u7684\u5750\u6807\u5373\u53ef\u3002\n\n### V.\u6c42\u4ea4\u70b9\u5750\u6807\n\n\u66f4\u591a\u76f8\u5173\u8bc1\u660e\u548c\u8865\u5145\u5185\u5bb9\uff1a[link](https://oi.wiki/geometry/2d/)\u3002\n\n\u7efc\u4e0a\uff0c\u65e0\u8bba\u662f $a$ \u548c $b$ \u7684\u4ea4\u70b9\u6570\u662f $4$ \u4e2a\u8fd8\u662f $8$ \u4e2a\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u5c06\u5176\u5316\u5f52\u4e3a\u6c42\u4e24\u6761\u7ebf\u6bb5\u4ea4\u70b9\u7684\u95ee\u9898\u3002\u6c42\u4ea4\u70b9\u4ee3\u7801\u5982\u4e0b ~~\uff08\u4e0d\u592a\u4f1a\u89e3\u91ca\uff0c\u53cd\u6b63\u662f\u677f\u5b50\uff0c\u80cc\u4e0b\u6765\u5c31\u884c\uff09~~\uff1a\n\n```cpp\npdd point(pdd a,pdd b,pdd c,pdd d){\n\treturn a+b*((d*(a-c))/(b*d));\n}\n```\n\n## \u4ee3\u7801\n\n\u90e8\u5206\u4ee3\u7801\u5df2\u7ecf\u7ed9\u51fa\uff0c\u5b8c\u6574\u4ee3\u7801\u89c1 [link](https://codeforces.com/contest/280/submission/201939464)\u3002",
        "postTime": 1681380485,
        "uid": 674721,
        "name": "yanhao40340",
        "ccfLevel": 7,
        "title": "CF280A\u9898\u89e3"
    }
]