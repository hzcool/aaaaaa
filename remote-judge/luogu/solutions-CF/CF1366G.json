[
    {
        "content": "## \u601d\u8def:\n\n\u9996\u5148\u6709\u4e00\u4e2a\u5f88\u663e\u7136\u7684\u601d\u8def\uff0c$dp_{i,j}$ \u8868\u793a $s_{1\\cdots i}$ \u5339\u914d$t_{1\\cdots j}$\u8981\u5220\u6389\u7684\u5b57\u7b26\u7684\u6700\u5c0f\u503c\u3002\n$$dp_{i,j}=min\\begin{cases}dp_{i-1,j}+1\\\\dp_{i-1,j-1}& & s_i=t_j\\\\dp_{i-1,j}& & si='.'&\\end{cases}$$\n\n\u7136\u540e\u6211\u4eec\u53d1\u73b0\u5b83\u662f\u5047\u7684\uff0c\u56e0\u4e3a\u6709\u53ef\u80fd\u5b58\u5728\u5148\u6709\u4e00\u6bb5\u5b57\u7b26\uff0c\u4e4b\u540e\u53c8\u4f1a\u51fa\u73b0\u4e00\u6bb5\u5220\u9664\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7edf\u8ba1\u4e00\u4e2a nxt \u8868\u793a\u4e0a\u4e00\u4e2a\u6e05\u7a7a\u7684\u4f4d\u7f6e\u5373\u53ef\n\u73b0\u5728\u5f0f\u5b50\u53d8\u6210\n$$dp_{i,j}=min\\begin{cases}dp_{nxt_i,j}+1\\\\dp_{i-1,j-1}& & s_i=t_j\\\\dp_{i-1,j}& & si='.'&\\end{cases}$$\n\n\u6ce8\u610f\u7a0b\u5e8f\u4e2d\u7684 nxt \u8868\u793a\u4e0b\u4e00\u4e2a\u6e05\u7a7a\u7684\u4f4d\u7f6e\u3002\n\n## \u5b9e\u73b0:\n\n```cpp\n#include <bits/stdc++.h>\n\n#ifndef use_ios11\n#define use_ios11\nusing namespace std;\nstruct ins\n{\n    int ans;\n    ins()\n    {\n        ans = 1;\n    }\n#define endl '\\n'\n    void read()\n    {\n    }\n    void read1(char &s)\n    {\n        char c = getchar();\n        for (; !isprint(c) || c == ' ' || c == '\\n' || c == '\\t'; c = getchar())\n            ;\n        s = c;\n        if (c == EOF)\n            ans = 0;\n    }\n    void read1(string &s)\n    {\n        s = \"\";\n        char c = getchar();\n        for (; !isprint(c) || c == ' ' || c == '\\n' || c == '\\t'; c = getchar())\n            ;\n        for (; isprint(c) && c != ' ' && c != '\\n' && c != '\\t'; c = getchar())\n            s += c;\n        if (c == EOF)\n            ans = 0;\n    }\n    template <typename T>\n    void read1(T &n)\n    {\n        T x = 0;\n        int f = 1;\n        char c = getchar();\n        for (; !isdigit(c); c = getchar())\n        {\n            if (c == '-')\n                f = -1;\n            if (c == EOF)\n            {\n                ans = 0;\n                return;\n            }\n        }\n        for (; isdigit(c); c = getchar())\n            x = x * 10 + c - 48;\n        n = x * f;\n        if (c == EOF)\n            ans = 0;\n        if (c != '.')\n            return;\n        T l = 0.1;\n        while ((c = getchar()) <= '9' && c >= '0')\n            x = x + (c & 15) * l, l *= 0.1;\n        n = x * f;\n        if (c == EOF)\n            ans = 0;\n    }\n    void write() {}\n    void write1(string s)\n    {\n        int n = s.size();\n        for (int i = 0; i < n; i++)\n            putchar(s[i]);\n    }\n    void write1(const char *s)\n    {\n        int n = strlen(s);\n        for (int i = 0; i < n; i++)\n            putchar(s[i]);\n    }\n    void write1(char s)\n    {\n        putchar(s);\n    }\n    void write1(float s, int x = 6)\n    {\n        char y[10001];\n        sprintf(y, \"%%.%df\", x);\n        printf(y, s);\n    }\n    void write1(double s, int x = 6)\n    {\n        char y[10001];\n        sprintf(y, \"%%.%dlf\", x);\n        printf(y, s);\n    }\n    void write1(long double s, int x = 6)\n    {\n        char y[10001];\n        sprintf(y, \"%%.%dLf\", x);\n        printf(y, s);\n    }\n    template <typename T>\n    void write1(T n)\n    {\n        if (n < 0)\n            n = -n, putchar('-');\n        if (n > 9)\n            write1(n / 10);\n        putchar('0' + n % 10);\n    }\n    template <typename T>\n    friend ins operator>>(ins x, T &n);\n    template <typename T>\n    friend ins operator<<(ins x, T n);\n    operator bool()\n    {\n        return ans;\n    }\n};\ntemplate <typename T>\nins operator>>(ins x, T &n)\n{\n    if (!x.ans)\n        return x;\n    x.read1(n);\n    return x;\n}\ntemplate <typename T>\nins operator<<(ins x, T n)\n{\n    x.write1(n);\n    return x;\n}\nins yin;\nins yout;\n#endif\nusing namespace std;\nstring s, t;\nconst int maxn = 1e4 + 10;\nint dp[maxn][maxn];\nint nxt[maxn];\n\nint main()\n{\n    yin >> s >> t;\n    for (int i = 0; i < s.size(); i++)\n    {\n        nxt[i] = -1;\n        int bal = 0;\n        if (s[i] != '.')\n            for (int j = i; j < s.size();j++)\n            {\n                if (s[j] == '.')\n                    --bal;\n                else\n                    ++bal;\n                if (!bal)\n                {\n                    nxt[i] = j;\n                    break;\n                }\n            }\n    }\n    memset(dp, 0x7f7f7f7f, sizeof(dp));\n    dp[0][0] = 0;\n    for (int i = 0; i < s.size(); i++)\n    {\n        for (int j = 0; j <= t.size(); j++)\n        {\n            dp[i + 1][j] = min(dp[i + 1][j], dp[i][j] + 1);\n            if (j < t.size() && s[i] == t[j])\n                dp[i + 1][j + 1] = min(dp[i + 1][j + 1], dp[i][j]);\n            if (s[i] != '.' && nxt[i] != -1)\n                dp[nxt[i] + 1][j] = min(dp[nxt[i] + 1][j], dp[i][j]);\n        }\n    }\n    yout << dp[s.size()][t.size()] << endl;\n    return 0;\n}\n\n```\n",
        "postTime": 1595765673,
        "uid": 74346,
        "name": "ybw051114",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1366G \u3010Construct the String\u3011"
    }
]