[
    {
        "content": "\u8003\u8651\u5982\u679c\u53ea\u6709\u4e00\u884c\uff0c\u5c31\u662f\u4e00\u4e2a\u663e\u7136\u7684\u8d2a\u5fc3\uff0c\u7528 $d_i$ \u8868\u793a\u524d $i$ \u4e2a\u4f4d\u7f6e\u7684 $a-b$ \u7684\u524d\u7f00\u548c\uff0c\u7b54\u6848\u5c31\u662f $\\sum |d_i|$\n\n\u5230\u8fd9\u4e2a\u9898\u91cc\uff0c\u56e0\u4e3a\u4ea4\u6362\u64cd\u4f5c\u53ef\u4ee5\u4efb\u610f\u6253\u4e71\uff0c\u6240\u4ee5\u6211\u4eec\u5047\u8bbe\u6240\u6709\u4e0a\u4e0b\u64cd\u4f5c\u90fd\u5728\u5f00\u5934\u8fdb\u884c\uff0c\u8bbe\u8fdb\u884c\u4e86 $x$ \u6b21\uff0c$d_{i,j}$ \u8868\u793a\u7b2c $i$ \u884c\uff0c$j$ \u5904\u7684 $a-b$ \u7684\u524d\u7f00\u548c\uff0c\u7b54\u6848\u5373\u4e3a $x+\\sum |d_{0,i}|+|d_{1,i}|$\n\n\u4e0d\u59a8\u8bbe $(0,i)$ \u7684 `1` \u632a\u4e86\u4e0b\u53bb\uff0c\u90a3\u4e48 $d_{0,j}(j\\geq i)$ \u51cf\u5c11 1\uff0c$d_{1,j}(j\\geq i)$ \u589e\u52a0 1\n\n\u90a3\u4e48\u5728 $d_{0,i}$ \u548c $d_{1,i}$ \u540c\u53f7\u7684\u65f6\u5019\uff0c\u4ea4\u6362\u80af\u5b9a\u662f\u4e0d\u4f18\u7684\uff0c\u56e0\u4e3a\u5982\u679c\u540e\u7f00\u9700\u8981\u4ea4\u6362\u653e\u5230 $i+1$ \u4ea4\u6362\u7b54\u6848\u4e0d\u4f1a\u53d8\u5dee\n\n\u5f02\u53f7\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4ea4\u6362 $k=\\min(|d_{0,i}|,|d_{1,i}|)$ \u6b21\uff0c\u56e0\u4e3a\u5728 $i$ \u5904\u6211\u4eec\u8282\u7701\u4e86 $k$ \u6b21\uff0c\u5373\u4f7f\u6211\u4eec\u8ba9\u540e\u9762\u66f4\u5dee\u4e86\uff0c\u4ed6\u4e5f\u53ef\u4ee5\u518d\u901a\u8fc7 $k$ \u6b21\u4ea4\u6362\u53d8\u56de\u6765\uff0c\u7b54\u6848\u6ca1\u6709\u53d8\u5dee\n\n\u56e0\u6b64\u8fd9\u6837\u8d2a\u5fc3\u5c31\u53ef\u4ee5\u5728 $O(n)$ \u7684\u65f6\u95f4\u5185\u6c42\u89e3\u4e86\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\n# define Rep(i,a,b) for(int i=a;i<=b;i++)\n# define _Rep(i,a,b) for(int i=a;i>=b;i--)\n# define RepG(i,u) for(int i=head[u];~i;i=e[i].next)\n\nconst int N=2e5+5;\n\ntypedef long long ll;\ntypedef double db;\n\n# define chkmax(a,b) a=max(a,b)\n# define chkmin(a,b) a=min(a,b)\n# define PII pair<int,int>\n# define mkp make_pair\n\ntemplate<typename T> void read(T &x){\n    x=0;int f=1;\n    char c=getchar();\n    for(;!isdigit(c);c=getchar())if(c=='-')f=-1;\n    for(;isdigit(c);c=getchar())x=(x<<1)+(x<<3)+c-'0';\n    x*=f;\n}\n\nint n;\nint a[2][N],b[2][N];\nll ans;\n\nint main()\n{\n    # ifndef ONLINE_JUDGE\n    freopen(\"testdata.in\",\"r\",stdin);\n    //freopen(\"test1.out\",\"w\",stdout);\n    # endif\n    read(n);\n    int one=0;\n    Rep(i,0,1)Rep(j,1,n)read(a[i][j]),one+=a[i][j];\n    Rep(i,0,1)Rep(j,1,n)read(b[i][j]),one-=b[i][j];\n    if(one)return puts(\"-1\"),0;\n    int O=0,I=0;\n    Rep(i,1,n){\n        O+=a[0][i]-b[0][i];\n        I+=a[1][i]-b[1][i];\n        if(O<0&&I>0){\n            int k=min(-O,I);\n            ans+=k;\n            O+=k,I-=k;\n        }\n        else if(O>0&&I<0){\n            int k=min(O,-I);\n            ans+=k;\n            O-=k,I+=k;\n        }\n        ans+=abs(O)+abs(I);\n    }\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n```",
        "postTime": 1655804285,
        "uid": 97344,
        "name": "devout",
        "ccfLevel": 9,
        "title": "CF1700F Puzzle"
    },
    {
        "content": "## Description\n\n[Luogu\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1700F)\n\n\u9898\u610f\uff1a\n\n\u7ed9\u4f60\u4e24\u4e2a\u53ea\u5305\u542b $0, 1$ \u7684 $2 \\times n$ \u7684\u6570\u7ec4 $a, b$\uff0c\u6bcf\u6b21\u53ef\u4ee5\u4ea4\u6362\u76f8\u90bb\u4e24\u4e2a\u6570\uff0c\u95ee\u4ece $a$ \u53d8\u6210 $b$ \u6700\u5c11\u9700\u8981\u4ea4\u6362\u591a\u5c11\u6b21\u3002\n\n## Solution\n\n\u5148\u770b\u53ea\u6709\u4e00\u884c\u7684\u60c5\u51b5\uff1a\n\n\u6211\u4eec\u8003\u8651\u6bcf\u4e24\u4e2a\u76f8\u90bb\u7684\u70b9\u5bf9\u7b54\u6848\u7684\u8d21\u732e\uff0c\u5373\u4ea4\u6362\u7684\u6b21\u6570\u3002\n\n\u8bb0\u4e24\u4e2a\u6570\u7ec4 $a, b$ \u7684\u524d\u7f00\u548c\u5206\u522b\u4e3a $sa, sb$\uff0c\u679a\u4e3e\u6bcf\u4e00\u4f4d $ans$ \u52a0\u4e0a $|sa_i - sb_i|$ \u5373\u4e3a\u7b54\u6848\u3002\u8fd9\u4e2a\u5e94\u8be5\u6bd4\u8f83\u597d\u7406\u89e3\u5427\u3002\n\n\u73b0\u5728\u6765\u770b\u5982\u679c\u6709\u4e24\u884c\u5982\u4f55\u5904\u7406\uff1a\n\n\u4e24\u884c\u6bd4\u4e00\u884c\u5c31\u591a\u4e86\u4e00\u4e2a\u4e0a\u4e0b\u4ea4\u6362\u7684\u64cd\u4f5c\u3002\n\n\u6211\u4eec\u8fd8\u662f\u8bbe $sa_{0/1, i}$ \u8868\u793a $a$ \u7684\u7b2c\u4e00\uff0c\u7b2c\u4e8c\u884c\u7684\u524d\u7f00\u548c\uff0c$sb_{0/1, i}$ \u540c\u7406\u3002\n\n\u679a\u4e3e\u6bcf\u4e00\u4f4d\u5982\u679c $sa_{0, i} > sb_{0, i}$ \u4e14 $sa_{1, i} < sb_{1, i}$ \u6216\u8005 $sa_{0, i} < sb_{1, i}$ \u4e14 $sa_{1, i} > sb_{1, i}$\u90a3\u4e48\u6211\u4eec\u4e0a\u4e0b\u4ea4\u6362\uff0c\u8fd9\u6837\u5c31\u4ece\u539f\u672c\u4e24\u6b21\u7684\u5de6\u53f3\u4ea4\u6362\u53d8\u6210\u4e86\u4e00\u6b21\u4e0a\u4e0b\u4ea4\u6362\uff0c\u8282\u7701\u4e86\u4e00\u6b21\u64cd\u4f5c\u3002\n\n\u5f53\u7136\u8fd8\u8981\u52a0\u4e0a $|sa_{0, i} - sb_{0, i}| + |sa_{1, i} - sb_{1, i}|$\u3002\n\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c$sa$ \u662f\u5728\u5b9e\u65f6\u53d8\u5316\u7684\uff0c\u6240\u4ee5\u5f00\u4e24\u4e2a\u53d8\u91cf\u6765\u8bb0 $a$ \u7684\u524d\u7f00\u548c\u3002\n\n\u6700\u540e\u522b\u5fd8\u4e86\u5224\u65e0\u89e3\uff1a\u5982\u679c $a, b$ \u4e2d 1 \u7684\u4e2a\u6570\u4e0d\u76f8\u540c\u90a3\u4e48\u4e00\u5b9a\u65e0\u89e3\u3002\n\n## Code\n\n```cpp\n#include <bits/stdc++.h>\n#define pb push_back\n#define int long long\n\nusing namespace std;\n\nnamespace IO{\n    inline int read(){\n        int x = 0, f = 1;\n        char ch = getchar();\n        while(!isdigit(ch)) {if(ch == '-') f = -1; ch = getchar();}\n        while(isdigit(ch)) x = (x << 3) + (x << 1) + ch - '0', ch = getchar();\n        return x * f;\n    }\n\n    template <typename T> inline void write(T x){\n        if(x < 0) putchar('-'), x = -x;\n        if(x > 9) write(x / 10);\n        putchar(x % 10 + '0');\n    }\n}\nusing namespace IO;\n\nconst int N = 2e5 + 10;\nint n, suma, sumb;\nint a[2][N], b[2][N], s[2][N];\n\nsigned main(){\n#ifndef ONLINE_JUDGE\n    freopen(\"test.in\", \"r\", stdin);\n    freopen(\"test.out\", \"w\", stdout);\n#endif\n    n = read();\n    for(int i = 1; i <= n; ++i) suma += (a[0][i] = read());\n    for(int i = 1; i <= n; ++i) suma += (a[1][i] = read());\n    for(int i = 1; i <= n; ++i){\n        sumb += (b[0][i] = read());\n        s[0][i] = s[0][i - 1] + b[0][i];\n    }\n    for(int i = 1; i <= n; ++i){\n        sumb += (b[1][i] = read());\n        s[1][i] = s[1][i - 1] + b[1][i];\n    }\n    if(suma != sumb) return puts(\"-1\"), 0;\n    int s0 = 0, s1 = 0, ans = 0;\n    for(int i = 1; i <= n; ++i){\n        s0 += a[0][i], s1 += a[1][i];\n        while(s0 > s[0][i] && s1 < s[1][i]) s0--, s1++, ans++;\n        while(s0 < s[0][i] && s1 > s[1][i]) s0++, s1--, ans++;\n        ans += abs(s0 - s[0][i]) + abs(s1 - s[1][i]);\n    }\n    write(ans), puts(\"\");\n}\n```\n\n",
        "postTime": 1655784025,
        "uid": 158846,
        "name": "xixike",
        "ccfLevel": 0,
        "title": "CF1700F Puzzle \u9898\u89e3"
    },
    {
        "content": "# Description\n\n\u7ed9\u51fa\u4e24\u4e2a $2 \\times n$ \u7684 01 \u77e9\u9635 $A,B$\uff0c\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u4ea4\u6362 $A$ \u4e2d\u4efb\u610f\u4e24\u4e2a\u76f8\u90bb\u4f4d\u7f6e\u7684\u503c\uff0c\u6c42\u4f7f\u5f97 $A = B$ \u7684\u6700\u5c0f\u64cd\u4f5c\u6b21\u6570\u3002\n\n$n \\le 2 \\times 10^5$\uff0c\u65f6\u9650 1s\u3002\n\n# Solution\n\n\u6211\u4eec\u9996\u5148\u8003\u8651 $1 \\times n$ \u77e9\u9635\u7684\u60c5\u51b5\u3002\n\n\u89c2\u5bdf\u6837\u4f8b\uff0c\u4e0d\u96be\u53d1\u73b0\u7ed3\u8bba\uff1a\u6b64\u65f6\u4f7f\u5f97 $1 \\times n$ \u77e9\u9635 $A=B$ \u7684\u6700\u5c0f\u64cd\u4f5c\u6b21\u6570\u5373\u4e3a\n\n$$\\sum_{i=1}^n |{\\rm sum}A_i-{\\rm sum}B_i|$$\n\n\u5176\u4e2d ${\\rm sum}A_i= \\sum\\limits_{j=1}^i A_j$\uff0c${\\rm sum}B_i$ \u540c\u7406\uff0c\u5bf9\u4e8e\u4e0a\u5f0f\u7684\u8bc1\u660e\u7559\u4f5c\u8bfb\u8005\u7ec3\u4e60\u3002\n\n\u63a5\u4e0b\u6765\u8003\u8651\u62d3\u5c55\u5230 $2 \\times n$ \u77e9\u9635\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u53d1\u73b0\uff0c\u65e0\u975e\u5c31\u662f\u5bf9\u4e8e\u539f\u6765\u5355\u72ec\u7684\u4e24\u884c\uff0c\u589e\u52a0\u4e86\u4e00\u4e2a\u4e0a\u4e0b\u4ea4\u6362\u64cd\u4f5c\u3002\n\n\u6211\u4eec\u4ee5\u5c06\u7b2c\u4e00\u884c\u7684 $1$ \u8f6c\u79fb\u4e0b\u53bb\u7684\u4e0a\u4e0b\u4ea4\u6362\u64cd\u4f5c\u4e3a\u4f8b\uff0c\u6ce8\u610f\u5230\uff0c\u8fd9\u4f1a\u4f7f\u7b2c\u4e00\u884c $A-B$ \u7684\u524d\u7f00\u548c\u51cf $1$\uff0c\u800c\u7b2c\u4e8c\u884c\u5219\u4f1a\u52a0 $1$\u3002\n\n\u7531\u4e8e\u7b54\u6848\u53d6\u7edd\u5bf9\u503c\uff0c\u4e0d\u96be\u60f3\u5230\uff0c\u82e5\u4e24\u884c $A-B$ \u7684\u524d\u7f00\u548c\u540c\u53f7\uff0c\u90a3\u4e48\u4ea4\u6362\u64cd\u4f5c\u4e00\u5b9a\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff0c\u4e0d\u4f1a\u4f7f\u7b54\u6848\u53d8\u4f18\u3002\n\n\u4f46\u662f\uff0c\u82e5\u5b83\u4eec\u5f02\u53f7\uff0c\u6211\u4eec\u5219\u53ef\u4ee5\u79fb\u52a8 $\\min\\{|{\\rm sum}A_{i,1}-{\\rm sum}B_{i,1}|,|{\\rm sum}A_{i,2}-{\\rm sum}B_{i,2}\\}|$ \u4e2a $1$\uff0c\u4f7f\u5f97\u5176\u4e2d\u4e4b\u4e00\u53d8\u4e3a $0$\u3002\u8fd9\u6837\u53ef\u4ee5\u5c06\u539f\u6765 $2$ \u6b21\u7684\u5de6\u53f3\u4ea4\u6362\u64cd\u4f5c\uff0c\u4f18\u5316\u4e3a $1$ \u6b21\u7684\u4e0a\u4e0b\u4ea4\u6362\u64cd\u4f5c\u3002\n\n\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5c3d\u7ba1\u8fd9\u6837\u7684\u79fb\u52a8\u5177\u6709\u540e\u6548\u6027\uff0c\u4f46\u53ef\u4ee5\u5206\u6790\u51fa\u6765\uff0c\u5b83\u5e76\u4e0d\u4f1a\u4f7f\u6211\u4eec\u7684\u7b54\u6848\u53d8\u52a3\uff0c\u56e0\u6b64\u8fd9\u662f\u5408\u6cd5\u7684\u8d2a\u5fc3\u505a\u6cd5\u3002\n\n\u81f3\u6b64\u6211\u4eec\u5c31\u5728 $\\mathcal O(n)$ \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e0b\u5b8c\u6210\u4e86\u672c\u9898\u3002\n\n# Code\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\nconst int N=2e5+5;\nint n,a[2][N],b[2][N];\nLL sum,Ans;\nint main() {\n\tscanf(\"%d\",&n);\n\tfor (int i=1;i<=n;i++) scanf(\"%d\",&a[0][i]),sum+=a[0][i];\n\tfor (int i=1;i<=n;i++) scanf(\"%d\",&a[1][i]),sum+=a[1][i];\n\tfor (int i=1;i<=n;i++) scanf(\"%d\",&b[0][i]),sum-=b[0][i];\n\tfor (int i=1;i<=n;i++) scanf(\"%d\",&b[1][i]),sum-=b[1][i];\n\tif (sum) {\n\t\tprintf(\"-1\");\n\t\treturn 0;\n\t}\n\tLL s0=0,s1=0;\n\tfor (int i=1;i<=n;i++) {\n\t\ts0+=a[0][i]-b[0][i],s1+=a[1][i]-b[1][i];\n\t\tif (s0<0 && s1>0) {\n\t\t\tint nm=min(-s0,s1);Ans+=nm;s0+=nm,s1-=nm;\n\t\t}\n\t\telse if (s0>0 && s1<0) {\n\t\t\tint nm=min(s0,-s1);Ans+=nm;s0-=nm,s1+=nm;\n\t\t}\n\t\tAns+=abs(s0)+abs(s1);\n\t}\n\tprintf(\"%lld\",Ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1657774922,
        "uid": 283913,
        "name": "ZillionX",
        "ccfLevel": 6,
        "title": "\u3010\u8d2a\u5fc3\uff0c\u601d\u7ef4\u3011CF1700F Puzzle"
    }
]