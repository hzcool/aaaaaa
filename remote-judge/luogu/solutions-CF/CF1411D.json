[
    {
        "content": "\n### CF 1411D Grime Zoo\n\n\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5b57\u7b26\u4e32\u4e2d\u7684\u4efb\u610f\u4e24\u4e2a\u95ee\u53f7 `? \u00b7\u00b7\u00b7 ?` \u3002\n\n\u8bbe\u4e24\u4e2a\u95ee\u53f7\u4e4b\u95f4\u6709$c0$\u4e2a$0$\uff0c$c1$\u4e2a$1$\uff0c\u8003\u8651\u4e24\u4e2a\u95ee\u53f7\u7684\u586b\u6cd5\u3002\n\n\u5982\u679c\u586b `0 \u00b7\u00b7\u00b7 1` \uff0c\u90a3\u4e48\u6b64\u533a\u95f4\u7684\u603b\u4ef7\u503c\u4e3a\uff1a\n\n$$c0*x+c1*x+x$$\n\n\u5982\u679c\u586b `1 \u00b7\u00b7\u00b7 0` \uff0c\u90a3\u4e48\u6b64\u533a\u95f4\u7684\u603b\u4ef7\u503c\u4e3a\uff1a\n\n$$c0*y+c1*y+y$$\n\n\u6bd4\u8f83\u4e24\u4e2a\u5f0f\u5b50\u7684\u5927\u5c0f\uff0c\u5373\u4e24\u5f0f\u76f8\u51cf\uff1a\n\n$$(c0*x+c1*x+x)-(c0*y+c1*y+y)$$\n\n\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u5f0f\u5b50\uff1a\n\n$$(c0+c1+1)(x-y)$$\n\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff1a\n\n\u82e5 `x>y` \uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u628a\u6240\u6709\u7684 `0 1` \u6362\u6210 `1 0` \u3002\n\n\u82e5 `x<y` \uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u628a\u6240\u6709\u7684 `1 0` \u6362\u6210 `0 1` \u3002\n\n\u63a5\u4e0b\u6765\u628a\u6240\u6709\u7684\u95ee\u53f7\u968f\u673a\u586b\u4e0a `0,1` \u3002\n\n\u90a3\u4e48\u901a\u8fc7\u4ee5\u4e0a\u7684\u7ed3\u8bba\u5c06\u6240\u6709\u53ef\u66ff\u6362\u7684\u95ee\u53f7\u7ec4\u66ff\u6362\u6210\u66f4\u4f18\u89e3\u3002\n\n\u5982\u679c\u662f\u628a\u6240\u6709\u7684 `0 1` \u6362\u6210 `1 0`\uff0c\u6613\u8bc1\u6240\u6709\u7684 `1` \u4f1a\u79fb\u5230\u6700\u5de6\u8fb9\u3002\n\n\u6240\u4ee5\u53ef\u77e5\u7b54\u6848\u4e00\u5b9a\u662f\u5168\u586b `0`\uff0c\u5168\u586b `1`\uff0c\u6216\u8005\u5b58\u5728\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5de6\u8fb9\u95ee\u53f7\u5168\u586b`1`\uff0c\u53f3\u8fb9\u5168\u586b`0` \uff0c\u53cd\u4e4b\u540c\u7406\u3002\n\n\u53ef\u4ee5\u901a\u8fc7\u5148\u628a\u6240\u6709\u7684\u95ee\u53f7\u6539\u4e3a`0`\u6216`1`\uff0c\u518d\u53cd\u5411\u8fdb\u884c\u66ff\u6362\u5e76\u66f4\u65b0\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\ntypedef long long ll;\nconst ll inf=(1ll<<60);\nchar s[100005];\nll x,y;\nll c0,c1,d0,d1,ans,len;\n//c0\u548cc1\u8868\u793a\u6b63\u5411\u641c\u7d220\u548c1\u7684\u6570\u91cf\n//d0\u548cd1\u8868\u793a\u53cd\u5411\u641c\u7d220\u548c1\u7684\u6570\u91cf \nvoid big()//\u82e5x>y \n{\n\tll mans=inf;\n\tfor(int i=0;i<len;i++)\n\t\tif(s[i]=='0') c0++,ans+=y*c1;\n\t\telse c1++,ans+=x*c0;\n\tmans=ans;\n\tfor(int i=len-1;i>=0;i--)\n\t\tif(s[i]=='0') d0++,c0--;\n\t\telse if(s[i]=='1') d1++,c1--;\n\t\telse if(s[i]=='?')\n\t\t{\n\t\t\tc1--;\n\t\t\tans=ans-c0*x-d0*y+c1*y+d1*x;\n\t\t\tmans=min(mans,ans);\n\t\t\td0++;\n\t\t\t//\u6ce8\u610f\u8981\u5148\u66f4\u65b0ans\u518d\u66f4\u65b0d0\u7684\u503c\n\t\t\t//small\u64cd\u4f5c\u540c\u7406 \n\t\t}\n\tprintf(\"%lld\\n\",mans);\n}\nvoid small()//\u82e5x<y\n{\n\tll mans=inf;\n\tfor(int i=0;i<len;i++)\n\t\tif(s[i]=='1') c1++,ans+=x*c0;\n\t\telse c0++,ans+=y*c1;\n\tmans=ans;\n\tfor(int i=len-1;i>=0;i--)\n\t\tif(s[i]=='0') d0++,c0--;\n\t\telse if(s[i]=='1') d1++,c1--;\n\t\telse if(s[i]=='?')\n\t\t{\n\t\t\tc0--;\n\t\t\tans=ans-c1*y-d1*x+c0*x+d0*y;\n\t\t\tmans=min(mans,ans);\n\t\t\td1++;\n\t\t}\n\tprintf(\"%lld\\n\",mans);\n}\nint main()\n{\n\tscanf(\"%s%lld%lld\",s,&x,&y);\n\tlen=strlen(s);\n\tif(x>y) big();\n\telse small();\n\treturn 0;\n}\n```\n",
        "postTime": 1614825608,
        "uid": 60159,
        "name": "moqizhu2005",
        "ccfLevel": 0,
        "title": "CF1411D\u9898\u89e3"
    },
    {
        "content": "\u8bbe `?` \u5c06 `01` \u4e32\u5206\u6210\u4e86 $k$ \u6bb5\uff0c\u8bbe $b_i$ \u8868\u793a\u7b2c $i$ \u6bb5\u5185\u90e8\u81ea\u8eab\u6240\u4ea7\u751f\u7684\u8d21\u732e\uff0c $f_i,g_i$ \u5206\u522b\u8868\u793a\u7b2c $i$ \u6bb5\u6570\u5b57\u4e3a `0` \u548c `1` \u7684\u4e2a\u6570\u3002\n\n\u4e0b\u9762\u8bbe\u5728\u4e00\u6bb5\u5de6\u8fb9\u7684\uff0c\u79bb\u8fd9\u4e00\u6bb5\u6700\u8fd1\u7684 `?` \u5c5e\u4e8e\u8fd9\u4e00\u6bb5\u4e2d\u3002\n\n\u90a3\u4e48\u7b54\u6848\u4e3a\uff1a\n$$\n\\sum_{i = 1} ^ k b_i + y\\cdot f_i \\sum_{j = 1} ^ {i - 1} g_j + x\\cdot g_i\\sum_{j=1} ^ {i - 1} f_{j}\n$$\n\u8981\u4f7f\u5f97\u7b54\u6848\u6700\u5c0f\uff0c\u5c31\u8981\u8ba9 $y\\cdot f_i \\sum_{j = 1} ^ {i - 1} g_j + x\\cdot g_i\\sum_{j=1} ^ {i - 1} f_{j}$ \u6700\u5c0f\u3002\n\n\u8003\u8651\u6bcf\u4e00\u4e2a `?` \u7684\u8d21\u732e\uff0c\u82e5\u586b\u4e00\u4e2a `0` \u8fdb\u53bb\uff0c\u5c31\u662f $y\\cdot \\sum_{j = 1} ^ {i - 1} g_j + x\\cdot \\sum_{j = i + 1} ^ k g_j$ \uff0c\u82e5\u586b\u4e2a `1` \u8fdb\u53bb\uff0c\u5c31\u662f $y\\cdot \\sum_{j = i + 1} ^ k f_j + x\\cdot \\sum_{j = 1} ^ {i - 1} f_j$ \u3002\n\n\u4f46\u662f\u64cd\u4f5c\u4e4b\u95f4\u4f1a\u4e92\u76f8\u5f71\u54cd\uff0c\u8003\u8651\u679a\u4e3e `1` \u6216 `0` \u7684\u4e2a\u6570\uff0c\u8fd9\u6837\u6bcf\u4e2a\u64cd\u4f5c\u5bf9\u4e8e\u4e0a\u8ff0\u7684\u539f\u5c40\u9762\u8d21\u732e\u662f\u4e00\u6837\u7684\uff0c\u4e14\u89c4\u6a21\u662f $\\mathcal{O}(n)$ \u7684\u3002\n\n\u8003\u8651\u8ba9\u76f8\u4e92\u5f71\u54cd\u7684\u8d21\u732e\u8fbe\u5230\u6700\u5c0f\u503c\uff0c\u53d1\u73b0\u586b\u4e00\u4e2a `0` \u8fdb\u53bb\uff0c\u5bf9\u540e\u9762\u586b\u7684 `1` \u90fd\u6709 $x$ \u7684\u8d21\u732e\uff0c\u53cd\u4e4b\uff0c\u5bf9\u53f3\u9762\u7684 `0` \u90fd\u6709 $y$ \u7684\u8d21\u732e\u3002\n\n\u8d21\u732e\u5c31\u662f $\\sum_{i = 1} ^ k x\\cdot[a_i = 1] \\sum_{j = 1} ^ {i - 1} f_j + y\\cdot[a_i = 0]\\sum_{j  = 1} ^ {i - 1} g_j$ \uff0c\u53d1\u73b0\u628a\u5f0f\u5b50\u4e2d\u7684 $x,y$ \u53bb\u6389\u540e\uff0c\u8be5\u5f0f\u5b50\u7684\u503c\u662f\u4e0d\u53d8\u7684\uff0c\u56e0\u4e3a\u82e5\u5c06\u539f\u5e8f\u5217\u4e2d\u4f4d\u7f6e\u76f8\u90bb\u7684 `0` \u548c `1` \u4e92\u76f8\u6362\u4f4d\u540e\uff0c\u53ea\u4e0d\u8fc7\u662f\u4e00\u79cd\u8d21\u732e\u52a0\u4e00\uff0c\u53e6\u4e00\u79cd\u5c11\u4e00\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u63a8\u5e7f\u5230\u4efb\u610f\u4e24\u4e2a\u4e0d\u540c\u6570\u5b57\u4ea4\u6362\u7684\u60c5\u51b5\u4e86\u3002\n\n\u540e\u9762\u5c31\u8003\u8651\u8d2a\u5fc3\uff0c\u6bd4\u8f83 $x$ \u548c $y$ \u7684\u5927\u5c0f\uff0c\u4f7f\u5f97\u8f83\u5c0f\u7684\u4e00\u79cd\u51fa\u73b0\uff0c\u53e6\u4e00\u79cd\u4e0d\u51fa\u73b0\uff0c\u5f88\u660e\u663e\uff0c\u53ea\u8981\u8ba9 `1` \u5168\u90e8\u9760\u5de6\u6216 `0` \u5168\u90e8\u9760\u5de6\u653e\u5c31\u884c\u4e86\uff0c\u7b54\u6848\u8d21\u732e\u8fd8\u662f\u6bd4\u8f83\u597d\u63a8\u7684\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal{O}(n)$ \u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define forn(i,s,t) for(register int i=(s); i<=(t); ++i)\n#define form(i,s,t) for(register int i=(s); i>=(t); --i)\nusing namespace std;\ntypedef long long LL;\nconst int N = 1e5 + 3;\nint n; char s[N]; LL x, y;\nint main() {\n\tscanf(\"%s\", s + 1), n = strlen(s + 1);\n\tscanf(\"%lld%lld\", &x, &y);\n\tif(x < y) {\n\t\tswap(x, y);\n\t\tforn(i,1,n) s[i] ^= isdigit(s[i]);\n\t}\n\tstatic LL f[N], g[N], Pre[N], Suf[N];\n\tforn(i,1,n) {\n\t\tif(s[i] == '0') f[i] = f[i - 1] + y * Pre[i - 1];\n\t\telse f[i] = f[i - 1] + x * (i - 1 - Pre[i - 1]);\n\t\tPre[i] = Pre[i - 1] + (s[i] != '0');\n\t}\n\tform(i,n,1) {\n\t\tif(s[i] == '1') g[i] = g[i + 1] + y * Suf[i + 1];\n\t\telse g[i] = g[i + 1] + x * (n - i - Suf[i + 1]);\n\t\tSuf[i] = Suf[i + 1] + (s[i] != '1');\n\t}\n\tLL res = 1e18;\n\tforn(i,0,n) res = min(res, f[i] + g[i + 1] + x * (i - Pre[i]) * (n - i - Suf[i + 1]) + y * Pre[i] * Suf[i + 1]);\n\tprintf(\"%lld\\n\", res);\n\treturn 0;\n} \n```\n\n",
        "postTime": 1621152939,
        "uid": 223884,
        "name": "AxDea",
        "ccfLevel": 7,
        "title": "\u9898\u89e3\uff1aCF1411D Grime Zoo"
    }
]