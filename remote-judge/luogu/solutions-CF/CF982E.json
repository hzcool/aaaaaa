[
    {
        "content": "### Solution\n\n\u5c06\u56fe\u7ecf\u8fc7~~\u5c0f\u5b66\u5c31\u5b66\u4e86\u7684~~\u53cd\u8f6c\u8f6c\u5316\u6210\u4e00\u6761\u659c\u7387\u4e3a $1$ \u7684\u76f4\u7ebf\uff0c\u90a3\u4e48\u6709\u89e3\u5c31\u662f\u7ecf\u8fc7\u4e86 $a$ \u4e2a $n$ \u7684\u540c\u65f6\u7ecf\u8fc7\u4e86 $b$ \u4e2a $m$ \uff0c\u53c8\u56e0\u4e3a\u8d77\u70b9 $S(x,y)$ \u4e5f\u7ecf\u8fc7\u8fd9\u6761\u76f4\u7ebf\uff0c\u6240\u4ee5 $y$ \u8f74\u4ea4\u70b9\u4e3a $(0,y-x)$ \u3002\n\n\u7136\u540e\u5c31\u53ef\u5f97\u5230\uff1a\n$$\nan+(y-x)=bm\\Rightarrow an-bm=x-y\\Rightarrow an+b(-m)=x-y\n$$\n\u7528\u6269\u5c55\u6b27\u51e0\u91cc\u5f97\u6c42\u89e3\u5b8c\uff0c\u518d $\\%$ \u51fa\u4e2a\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n### \u4ee3\u7801\n\n```c++\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#define ll long long\n\nusing namespace std;\nint n,m,x,y,vx,vy;\nint rex,rey;\n\ninline int read(){\n    int x=0,f=1;\n    char ch=getchar();\n    while(!isdigit(ch)){if(ch=='-') f=-1;ch=getchar();}\n    while(isdigit(ch)){x=x*10+(ch^48);ch=getchar();}\n    return x*f;\n}\n\nll exgcd(ll a,ll b,ll &x1, ll &y1){\n    if(!b){\n        x1=1;\n        y1=0;\n        return a;\n    }\n    ll ans=exgcd(b,a%b,x1,y1);\n    ll t=x1;\n    x1=y1;\n    y1=t-a/b*y1;\n    return ans;\n}\n\nint main(){\n    n=read();m=read();x=read();y=read();vx=read();vy=read();\n    //\u5224\u65ad\u5e73\u884c\u60c5\u51b5\n    if(vx==0){\n        if(x==0||x==n){\n            if(vy==1) printf(\"%d %d\\n\",x,m);\n            else printf(\"%d %d\\n\",x,0);\n        }\n        else puts(\"-1\");\n        return 0;\n    }\n    if(vy==0){\n        if(y==0||y==m){\n            if(vx==1) printf(\"%d %d\\n\",n,y);\n            else printf(\"%d %d\\n\",0,y);\n        }\n        else puts(\"-1\");\n        return 0;\n    }\n    if(vx==-1) rex=1,x=n-x;\n    if(vy==-1) rey=1,y=m-y;\n    //\u8fd9\u91cc\u5c31\u662f\u5c06\u901f\u5ea6\u53cd\u8f6c\u8fc7\u6765\u4e86\n    ll a,b,gcd;\n    gcd=exgcd(n,m,a,b);\n    if((x-y)%gcd){//\u5224\u65ad\u65e0\u89e3\n        puts(\"-1\");return 0;\n    }\n    a*=(x-y)/gcd,b*=(x-y)/gcd;//\u89e3\u51fa\u6765\u7684\u771f\u6b63\u7684a,b\n    int n1=n/gcd,m1=m/gcd;\n    ll a1=(a%m1+m1-1)%m1+1,b1=-((x-y)-a1*n)/m,ansx=n,ansy=m;//\u6700\u5c0f\u89e3\n    if(a1%2==0) ansx=n-ansx;//\u7ecf\u8fc7\u5076\u6570\u4e2an,\u6b64\u65f6\u5e94\u8be5\u662f0\n    if(b1%2==0) ansy=m-ansy;//\u7ecf\u8fc7\u5076\u6570\u4e2am,\u6b64\u65f6\u5e94\u8be5\u662f0\n    if(rex) ansx=n-ansx;//\u53cd\u8f6c\n    if(rey) ansy=m-ansy;//\u53cd\u8f6c\n    printf(\"%lld %lld\\n\",ansx,ansy);\n    return 0;\n}\n```\n\n",
        "postTime": 1601023990,
        "uid": 272143,
        "name": "\u662f\u4e2a\u6c49\u5b50",
        "ccfLevel": 4,
        "title": "CF982E Billiard"
    },
    {
        "content": "### Descripton.\n\u53f0\u7403\u684c\u4e0a\u56db\u89d2\u662f\u6d1e\uff0c\u544a\u8bc9\u4f60\u7403\u684c\u5927\u5c0f\uff0c\u521d\u59cb\u5750\u6807\uff0c\u521d\u59cb\u901f\u5ea6\u5206\u91cf\u3002  \n\u6c42\u7403\u80fd\u5426\u843d\u5165\u67d0\u4e2a\u6d1e\u3002  \n\n### Solution.\n\u5982\u679c\u901f\u5ea6\u5206\u91cf\u6c34\u5e73/\u5782\u76f4\uff0c\u76f4\u63a5\u7279\u5224\u3002  \n\u7136\u540e\u5982\u679c\u901f\u5ea6\u5206\u91cf\u4e3a $-$ \u76f4\u63a5\u7ffb\u8f6c\u7403\u684c\u3002  \n\u8fd9\u6837\u6211\u4eec\u5c31\u628a\u901f\u5ea6\u5206\u91cf\u53d8\u6210\u4e86 $\\vec{v}=(1,1)$  \n\n\u7136\u540e\u6839\u636e\u5c0f\u5b66\u5965\u6570\uff0c\u8fd9\u4e2a\u649e\u51fb\u5f88\u96be\u5904\u7406\u3002  \n\u6211\u4eec\u4e0d\u59a8\u628a\u53f0\u7403\u684c\u7ffb\u6298\u51fa\u53bb\uff0c\u8fd9\u6837\u7403\u8fd0\u52a8\u8f68\u8ff9\u5c31\u662f\u76f4\u7ebf\u3002  \n\u7136\u540e\u6211\u4eec\u5c31\u9700\u8981\u89e3\u65b9\u7a0b\n$$\n\\begin{cases}\nx+Z=A\\times n\\\\\ny+Z=B\\times m\\\\\n\\end{cases}\n$$\n$$\\therefore x-y=A\\times n-B\\times m$$\n\u89e3\u51fa\u6700\u5c0f\u7684 $A\\ge0$ \u548c $B\\ge 0$\u5c31\u597d\u4e86\u3002  \n\u7136\u540e\u5224\u65ad\u7ffb\u6298\u4e86\u591a\u5c11\u6b21\u3002  \n\n\u5982\u679c\u662f\u5947\u6570\uff0c\u6700\u540e\u5b83\u662f\u7ecf\u8fc7\u955c\u50cf\u7ffb\u6298\u8fc7\u7684\u3002  \n\n### Coding.\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;typedef long long ll;\ntemplate<typename T>inline void read(T &x)\n{\n\tx=0;char c=getchar(),f=0;\n\tfor(;c<'0'||c>'9';c=getchar()) if(c=='-') f=1;\n\tfor(;c>='0'&&c<='9';c=getchar()) x=(x<<1)+(x<<3)+(c^48);\n\tif(f) x=-x;\n}\nint n,m,x,y,u,v;\ninline int gcd(int x,int y) {return y?gcd(y,x%y):x;}\ninline void exgcd(ll a,ll b,ll &x,ll &y) {if(!b) x=1,y=0;else exgcd(b,a%b,y,x),y-=a/b*x;}\nint main()\n{\n\tread(n),read(m),read(x),read(y),read(u),read(v);\n\tif(u==0) return x==0||x==n?printf(\"%d %d\\n\",x,(v>0)*m):puts(\"-1\"),0;\n\tif(v==0) return y==0||y==m?printf(\"%d %d\\n\",(u>0)*n,y):puts(\"-1\"),0;\n\tif(u<0) u=1,x=n-x;else u=0;\n\tif(v<0) v=1,y=m-y;else v=0;\n\tif((x-y)%gcd(n,m)) return puts(\"-1\");\n\t//printf(\"%d %d %d %d %d %d\\n\",n,m,x,y,u,v);\n\tll A,B,g=gcd(n,m),aa=m/g;exgcd(n,-m,A,B),A*=(x-y)/g,B*=(x-y)/g;\n\tif(x-y!=A*n-B*m) A=-A,B=-B;\n\tll ra=((A+aa-1)%aa+aa)%aa+1,rb=(ra*n-x+y)/m;u^=ra&1,v^=rb&1;\n\t//printf(\"%lld , %lld ; %lld , %lld\\n\",A,B,ra,rb);\n\treturn printf(\"%d %d\\n\",u?n:0,v?m:0),0;\n}\n```",
        "postTime": 1614583729,
        "uid": 44805,
        "name": "Leap_Frog",
        "ccfLevel": 7,
        "title": "CF982E Billiard\uff08\u9898\u89e3\uff09"
    }
]