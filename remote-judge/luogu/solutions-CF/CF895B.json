[
    {
        "content": "\u86ee\u6709\u8da3\u7684\u4e00\u9053\u9898\u3002\n\n\u5148\u6765\u8bf4\u8bf4\u9898\u610f\uff0c\u5927\u6982\u662f\uff1a\u5bf9\u4e00\u4e2a\u6570\u7ec4a\uff0c\u5b9a\u4e49\u7b26\u5408\u6761\u4ef6\u7684\u4e8c\u5143\u7ec4$(i, j)$\u8868\u793a\u6070\u597d\u5b58\u5728$k$\u4e2a\u6574\u6570\uff0c\u6ee1\u8db3$a_i \\leq y \\leq a_j$\u4e14$y$\u4e3a$x$\u7684\u500d\u6570\uff0c\u6c42\u7b26\u5408\u6761\u4ef6\u7684\u4e8c\u5143\u7ec4\u6570\u91cf\u3002\n\n\u6ce8\u610f\u4e8c\u5143\u7ec4\u662f\u4e92\u5f02\u5e76\u4e14\u8003\u8651\u987a\u5e8f\u7684\u3002\n\n\n---\n\n\u4e00\u4e0a\u6765\u6709\u4e9b\u61f5\u903c\uff0c\u4e0d\u59a8\u5148\u627e\u627e\u89c4\u5f8b\u3002\n\n\u6211\u4eec\u77e5\u9053\uff0c\u5047\u5b9a\u5b58\u5728$k$\u4e2a\u8fd9\u6837\u7684\u6574\u6570\uff0c\u90a3\u4e48\u9996\u5148$[L, L + (k - 1) \\* x]$\u4e00\u5b9a\u662f\u7b26\u5408\u6761\u4ef6\u7684\u4e00\u4e2a\u533a\u95f4\uff0c\u7136\u540e\u8003\u8651\u62d3\u5c55\uff0c\u53f3\u7aef\u70b9\u8303\u56f4\u5e94\u5f53\u662f$[L + (k - 1) \\* x, L + k \\* x - 1]$\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u65f6\u5019\u4e00\u5b9a\u80fd\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684$k$\u4e2a\u6574\u6570\u3002\n\n\u63a5\u4e0b\u6765\u7684\u95ee\u9898\u5c31\u662f\u5982\u4f55\u627e\u5230$L$\u3002\u5047\u5982$a[i]$\u4e0d\u662f$x$\u7684\u500d\u6570\uff0c\u90a3\u4e48$a[i]$\u672c\u8eab\u4e0d\u4f1a\u7b97\u5230$k$\u4e2a\u6570\u4e2d\u95f4\u53bb\uff0c\u6240\u4ee5\u6b64\u65f6$L = (a[i] / x + 1) \\* x$\uff1b\u5426\u5219\uff0c$a[i]$\u4e5f\u662f$k$\u7684\u4e00\u4efd\u5b50\uff0c\u6240\u4ee5$L = a[i]$\u3002\n\n\u5bf9\u6570\u7ec4\u6392\u5e8f\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u904d\u5386\u4e00\u904d\u6574\u4e2a\u6570\u7ec4\uff0c\u7136\u540e\u5bf9\u6bcf\u4e00\u4e2a\u6570\u6c42\u4e00\u4e0b\u5728$[L + (k - 1) \\* x, L + k \\* x - 1]$\u8303\u56f4\u5185\u6709\u591a\u5c11\u6570\u5373\u53ef\u3002\n\n\u6700\u540e\u8003\u8651\u5982\u4f55\u5b9e\u73b0\u3002\u7531\u4e8e\u6211\u4eec\u53ea\u662f\u7edf\u8ba1\u4e2a\u6570\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4e8c\u5206\u67e5\u627e\u51fa$l = L + (k - 1) \\* x$\uff0c$r =  L + k \\* x $\u7b2c\u4e00\u4e2a\u5927\u4e8e\u7b49\u4e8e\u8fd9\u4e24\u4e2a\u6570\u7684\u6570\u6240\u5728\u7684\u4f4d\u7f6e\u76f8\u51cf\u5373\u53ef\u3002\u53ef\u4ee5\u91c7\u7528algorithm\u5e93\u7684lower\\_bound\u5b9e\u73b0\u3002\n\n\u5f53\u7136\u8fd9\u6837\u6709\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u5bf9k = 0\u7684\u60c5\u51b5\u5e94\u5f53\u6709\u4e00\u4e9b\u7279\u5224\uff0c\u6b64\u65f6\u6211\u4eec\u53d1\u73b0\u5982\u679c$a[i]$\u662f$x$\u7684\u500d\u6570\uff0c\u533a\u95f4\u5c31\u662f$a[i], a[i]$\u90a3\u4e48\u7ed3\u679c\u4e3a0\uff0c\u800c\u6b64\u65f6$L = a[i]$\uff1b\u5426\u5219\u533a\u95f4\u5e94\u5f53\u662f$a[i], L$\uff0c\u6b64\u65f6\u7531\u4e8e$k = 0$\u6240\u4ee5$L = r$\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u5bf9$l$\u52a0\u4e00\u4e2a\u7279\u5224\u5373\u53ef\u3002\n\n\n---\n\nAC\u4ee3\u7801\uff1a\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\ntypedef long long LL;\nLL a[100003], ans;\nint main() {\n    ios::sync_with_stdio(0);\n    cin.tie(0); cout.tie(0);\n    LL n, x, k;\n    cin>>n>>x>>k;\n    for(int i = 1; i <= n; ++i) cin>>a[i];\n    sort(a + 1, a + n + 1);\n    for(int i = 1; i <= n; ++i) {\n        LL L = (a[i] % x) ? ((a[i] / x + 1) * x) : a[i];\n        LL l = L + (k - 1) * x, r = L + k * x;\n        if(!k) l = a[i];\n        ans += lower_bound(a + 1, a + n + 1, r) - lower_bound(a + 1, a + n + 1, l);\n    }\n    cout<<ans<<endl;\n    return 0;\n} \n```",
        "postTime": 1513349067,
        "uid": 37956,
        "name": "LiRewriter",
        "ccfLevel": 0,
        "title": "codeforces895B XK segments"
    }
]