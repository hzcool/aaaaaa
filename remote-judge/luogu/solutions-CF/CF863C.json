[
    {
        "content": "### \u5206\u6790\n\u6211\u4eec\u628a $(i,j)$ \u770b\u4f5c\u4e00\u4e2a\u72b6\u6001\uff0c\u8868\u793a Alice \u9009\u62e9\u4e86 $i$ \u800c Bob \u9009\u62e9\u4e86 $j$\u3002\u53ef\u4ee5\u53d1\u73b0\u6574\u4e2a\u6e38\u620f\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7684\u72b6\u6001\u6700\u591a\u53ea\u6709 9 \u79cd\uff0c\u4e14\u72b6\u6001\u4e4b\u95f4\u7684\u8f6c\u79fb\u662f\u786e\u5b9a\u7684\u3002\u56e0\u6b64\uff0c\u6e38\u620f\u4e00\u5b9a\u662f\u4e0d\u65ad\u5faa\u73af\u7684\uff0c\u6211\u4eec\u53ea\u9700\u8981\u627e\u5230\u5faa\u73af\u8282\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u6c42\u51fa\u7b54\u6848\u3002\n\n### \u8fdb\u4e00\u6b65\u5206\u6790\n\u6211\u4eec\u867d\u7136\u5df2\u7ecf\u77e5\u9053\u600e\u4e48\u505a\u8fd9\u9053\u9898\u4e86\uff0c\u4f46\u5bf9\u4e8e\u8fd9\u9053\u9898\u7684\u7406\u89e3\u8fd8\u4e0d\u591f\u900f\u5f7b\u3002  \n\u672c\u9898\u7684\u5faa\u73af\u8282\u7a76\u7adf\u662f\u600e\u6837\u7684\uff1f\u6211\u4eec\u53ef\u4ee5\u5c06\u5b83\u53d8\u6210\u4e00\u4e2a\u56fe\uff0c\u628a\u72b6\u6001\u4f5c\u4e3a\u8282\u70b9\uff0c\u8f6c\u79fb\u4f5c\u4e3a\u8fb9\u3002\u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u8fd9\u4e2a\u56fe\u7684\u5f62\u72b6\u3002  \n![](https://cdn.luogu.com.cn/upload/image_hosting/p1wcehfo.png)  \n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5728\u8fd9\u4e2a\u56fe\u4e2d\uff0c\u6bcf\u4e2a\u8282\u70b9\u6709\u4e14\u53ea\u6709\u4e00\u6761\u51fa\u5ea6\uff0c\u4e14\u4ece\u4efb\u4f55\u4e00\u4e2a\u8282\u70b9\u51fa\u53d1\uff0c\u6700\u540e\u90fd\u4f1a\u8d70\u5230\u4e2d\u95f4\u7684\u73af\u4e0a\u3002\u867d\u7136\u5e76\u4e0d\u662f\u6811\uff0c\u4f46\u6211\u4eec\u628a\u8fd9\u79cd\u56fe\u79f0\u4e3a**\u57fa\u73af\u5185\u5411\u6811**\u3002  \n\u540c\u7406\uff0c\u82e5\u6bcf\u4e2a\u8282\u70b9\u6709\u4e14\u53ea\u6709\u4e00\u6761\u5165\u5ea6\uff0c\u5219\u79f0\u4e3a**\u57fa\u73af\u5916\u5411\u6811**\uff1b\u82e5\u662f\u4e00\u4e2a\u65e0\u5411\u56fe\uff0c\u5219\u79f0\u4e3a**\u57fa\u73af\u6811**\u3002  \n\u57fa\u73af\u6811\u7684\u9898\u76ee\uff0c\u5927\u591a\u90fd\u8981\u5148\u628a\u73af\u627e\u51fa\u6765\u3002\u4f46\u627e\u73af\u5176\u5b9e\u5e76\u4e0d\u50cf\u60f3\u8c61\u7684\u90a3\u6837\u7b80\u5355\uff0c\u53ea\u6709\u505a\u8fc7\u4e00\u904d\u76f8\u5173\u9898\u76ee\u540e\u624d\u80fd\u9886\u7565\u5230\u5173\u952e\u4e4b\u5904\u3002\u8fd9\u91cc\u63a8\u8350\u4e24\u9053\u5173\u4e8e\u57fa\u73af\u6811\u7684\u9898\u76ee\uff1a\n1. [P2661 [NOIP2015 \u63d0\u9ad8\u7ec4] \u4fe1\u606f\u4f20\u9012](https://www.luogu.com.cn/problem/P2661)  \u8f83\u6613\n2. [CF1607F Robot on the Board 2](https://www.luogu.com.cn/problem/CF1607F)  \u8f83\u96be\n\n### \u4ee3\u7801\n\u6700\u540e\u9644\u4e0a\u672c\u9898\u4ee3\u7801\u3002\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nll k,ansa,ansb;\nint sta,stb,rs,re,rssa,rssb,resa,resb;\nstruct state{\n\tint nea,neb,sa,sb,dfn;\n}s[5][5];\nvoid dfs(int nowa,int nowb,int nowsa,int nowsb,int depth){\n\ts[nowa][nowb].dfn=depth;\n\tint nea=s[nowa][nowb].nea,neb=s[nowa][nowb].neb;\n\tif(nowa-nowb==1||nowa-nowb==-2){\n\t\tnowsa++;\n\t}else if(nowa-nowb==2||nowa-nowb==-1){\n\t\tnowsb++;\n\t}\n\ts[nowa][nowb].sa=nowsa;\n\ts[nowa][nowb].sb=nowsb;\n\tif(s[nea][neb].dfn){\n\t\trs=s[nea][neb].dfn;\n\t\tre=depth;\n\t}else{\n\t\tdfs(nea,neb,nowsa,nowsb,depth+1);\n\t}\n}//dfs\u627e\u5468\u671f\nint main(){\n\tscanf(\"%lld%d%d\",&k,&sta,&stb);\n\tfor(int i=1;i<=3;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tscanf(\"%d\",&s[i][j].nea);\n\t\t}\n\t}\n\tfor(int i=1;i<=3;i++){\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tscanf(\"%d\",&s[i][j].neb);\n\t\t}\n\t}\n\tdfs(sta,stb,0,0,1);\n\tif(k<=re){\n\t\tfor(int i=1;i<=3;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tif(s[i][j].dfn==k){\n\t\t\t\t\tansa=s[i][j].sa;\n\t\t\t\t\tansb=s[i][j].sb;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tfor(int i=1;i<=3;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tif(s[i][j].dfn==rs-1){\n\t\t\t\t\tansa=s[i][j].sa;\n\t\t\t\t\tansb=s[i][j].sb;\n\t\t\t\t\trssa=s[i][j].sa;\n\t\t\t\t\trssb=s[i][j].sb;\n\t\t\t\t}\n\t\t\t\tif(s[i][j].dfn==re){\n\t\t\t\t\tresa=s[i][j].sa;\n\t\t\t\t\tresb=s[i][j].sb;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tk-=rs-1;\n\t\tansa+=k/(re-rs+1)*(resa-rssa);\n\t\tansb+=k/(re-rs+1)*(resb-rssb);\n\t\tk%=(re-rs+1);\n\t\tfor(int i=1;i<=3;i++){\n\t\t\tfor(int j=1;j<=3;j++){\n\t\t\t\tif(s[i][j].dfn==rs+k-1){\n\t\t\t\t\tansa+=s[i][j].sa-rssa;\n\t\t\t\t\tansb+=s[i][j].sb-rssb;\n\t\t\t\t}\n\t\t\t}\n\t\t}//\u4e0a\u9762\u8fd9\u4e00\u90e8\u5206\u7684\u7ec6\u8282\u5f88\u591a\uff0c\u53ef\u4ee5\u81ea\u5df1\u9020\u4e00\u4e9b\u6570\u636e\u6a21\u62df\u4e00\u4e0b\n\t}\n\tprintf(\"%lld %lld\",ansa,ansb);\n\treturn 0;\n}\n```\n",
        "postTime": 1648891647,
        "uid": 344354,
        "name": "yanghanyv",
        "ccfLevel": 0,
        "title": "CF863C 1-2-3 \u9898\u89e3"
    },
    {
        "content": "$\\large \\text{Solution CF863C}$\n\n\u8fd9\u79cd\u9898\u600e\u4e48\u80fd\u5c11\u4e86\u500d\u589e\u9898\u89e3\u2026\u2026\n\n\u5bf9\u4e8e\u8fd9\u79cd**\u8fdb\u884c\u591a\u6b21\u53d8\u6362\uff0c\u5e76\u4e14\u4e0b\u4e00\u6b21\u53d8\u6362\u6839\u636e\u4e0a\u4e00\u6b21\u53d8\u6362\u7ed3\u679c\u7684**\u9898\uff0c\u5982\u679c\u53d8\u6362\u6b21\u6570\u8f83\u591a\uff0c\u4e00\u822c\u90fd\u80fd\u7528**\u500d\u589e**\u3002\u6bd4\u5982\uff0c[P5151 HKE \u7684\u5c0f\u670b\u53cb](https://www.luogu.com.cn/problem/P5151)\u3002\n\n\u4e0d\u4e86\u89e3\u500d\u589e\u7684\u540c\u5b66\u4e5f\u53ef\u4ee5\u5f80\u4e0b\u770b\u3002\n\n----\n\n\u5b9a\u4e49 $(i,j)$ \u8868\u793a\u4e00\u4e2a\u5f53\u524d\u72b6\u6001\uff08Alice \u51c6\u5907\u51fa $i$\uff0cBob \u51c6\u5907\u51fa $j$\uff09\u3002\n\n\u6211\u4eec\u8bbe\u56db\u4e2a\u500d\u589e\u6570\u7ec4\u8bb0\u5f55\uff1a\n\n1. $f_{i,j,k}$ \u8868\u793a\u5f53\u524d\u72b6\u6001\u4e3a $(i,j)$\uff0c\u8fdb\u884c $2^k$ \u8f6e\u6bd4\u8d5b\u540e\uff0cAlice \u4e0b\u4e00\u5c40\u51c6\u5907\u51fa\u7684\u503c\u3002\n2. $g_{i,j,k}$ \u8868\u793a\u5f53\u524d\u72b6\u6001\u4e3a $(i,j)$\uff0c\u8fdb\u884c $2^k$ \u8f6e\u6bd4\u8d5b\u540e\uff0cBob \u4e0b\u4e00\u5c40\u51c6\u5907\u51fa\u7684\u503c\u3002\n3. $s1_{i,j,k}$ \u8868\u793a\u5f53\u524d\u72b6\u6001\u4e3a $(i,j)$\uff0cAlice \u5728\u63a5\u4e0b\u6765 $2^k$ \u8f6e\u4e2d\u7684\u5f97\u5206\u3002\n4. $s2_{i,j,k}$ \u8868\u793a\u5f53\u524d\u72b6\u6001\u4e3a $(i,j)$\uff0cBob \u5728\u63a5\u4e0b\u6765 $2^k$ \u8f6e\u4e2d\u7684\u5f97\u5206\u3002\n\n-----\n\n\u4f60\u53ef\u80fd\u4f1a\u95ee\uff0c\u8bbe\u5b83\u4eec\u5e72\u5565\u5462\uff1f\u4e0d\u6025\uff0c\u5148\u89e3\u51b3**\u521d\u59cb\u5316**\uff0c\u4e5f\u5c31\u662f\u6c42 $k=0$ \u65f6\uff08\u8fdb\u884c $2^0=1$ \u8f6e\u6bd4\u8d5b\uff09\uff0c\u56db\u4e2a\u6570\u7ec4\u7684\u503c\u3002\n\n1. $f_{i,j,0}=a_{i,j}$\n2. $g_{i,j,0}=b_{i,j}$ \uff08\u4ee5\u4e0a\u6839\u636e\u9898\u610f\uff09\n3. \u5982\u679c\u5728 $(i,j)$ \u72b6\u6001\u4e0b\uff0cAlice \u8d62\u4e86\uff0c\u5219 $s1_{i,j,0}=1$\uff1bBob \u8d62\u4e86\uff0c\u5219 $s2_{i,j,0}=1$\uff1b\u5e73\u5c40\u5747\u4e3a $0$\u3002\n\n---\n\n\u77e5\u9053\u4e86 $k=0$ \u65f6\u56db\u4e2a\u6570\u7ec4\u7684\u503c\uff0c\u4e5f\u53ef\u4ee5\u6309\u7167 $k=1,2,...$ \u7684\u987a\u5e8f\u5f80\u4e0b\u63a8\uff01\n\uff08\u7531\u4e8e\u5f0f\u5b50\u592a\u8fc7\u590d\u6742\uff0c\u6362\u4e00\u79cd $\\LaTeX$ \u4e66\u5199\u65b9\u5f0f\uff09\n\n1. $f(i,j,k)=f(f(i,j,k-1),g(i,j,k-1),k-1)$\n\n\u662f\u4e0d\u662f\u770b\u5230\u8fd9\u4e2a\u5c31\u4e00\u5934\u96fe\u6c34\u4e86\uff1f\n\n\u9996\u5148\u6211\u4eec\u77e5\u9053\uff0c$2^{k-1}$ \u8f6e\u6bd4\u8d5b\u540e\uff0c\u72b6\u6001 $(i,j)$ \u53d8\u6210\u4e86\u72b6\u6001 $(f(i,j,k-1),g(i,j,k-1))$\uff0c**\u5728\u8fd9\u4e2a\u72b6\u6001\u7684\u57fa\u7840\u4e0a**\u518d\u8fdb\u884c $2^{k-1}$ \u8f6e\u6bd4\u8d5b\uff0c\u90a3\u4e48 $2^{k-1}+2^{k-1}=2^k$\uff0c\u4e0a\u9762\u7684\u90a3\u4e2a\u5f0f\u5b50\u5c31\u6210\u529f\u6c42\u51fa\u4e86 $f(i,j,k)$\uff01\n\n2. $g(i,j,k)=g(f(i,j,k-1),g(i,j,k-1),k-1)$\n\n\u548c\u4e0a\u9762\u7684\u4e00\u6837\u7684\u9053\u7406\u3002\n\n3. $s1(i,j,k)=s1(i,j,k-1)+s1(f(i,j,k-1),g(i,j,k-1),k-1)$\n\n\u8fd9\u4e2a\u5f0f\u5b50\u6211\u5c31\u4e0d\u8bf4\u660e\u5566\uff0c\u7ed9\u8bfb\u8005\u4e00\u70b9\u601d\u8003\u7684\u7a7a\u95f4\uff08\u53ef\u4ee5\u7ed3\u5408\u4e0a\u9762\u7684\u7406\u89e3\uff09\u3002\n\n4. $s2(i,j,k)=s2(i,j,k-1)+s2(f(i,j,k-1),g(i,j,k-1),k-1)$\n\n-----\n\n\n\u54ce\u5440\uff0c\u8ba1\u7b97\u4e86\u8fd9\u4e48\u591a\uff0c\u5230\u5e95\u6709\u4ec0\u4e48\u7528\uff1f**\u6572\u91cd\u70b9\u4e86\u3002**\n\n\u6211\u4eec\u8bbe\u4e00\u5171\u8fdb\u884c\u4e86 $K$ \u573a\u6bd4\u8d5b\uff0c\u5bf9 $K$ \u8fdb\u884c\u4e8c\u8fdb\u5236\u62c6\u5206\uff0c\u62c6\u6210 $K=2^{a_1}+2^{a_2}+2^{a_3}+...+2^{a_n}$ \u7684\u5f62\u5f0f\u3002\n\n\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u53ef\u4ee5\u901a\u8fc7\u4e0a\u9762\u7684\u9884\u5904\u7406\uff0c\u5feb\u901f\u6a21\u62df $2^x$ \u573a\u6bd4\u8d5b\u4e86\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9\u4e0a\u9762\u591a\u9879\u5f0f\u53f3\u8fb9\u7684\u6bcf\u4e00\u9879\u4f9d\u6b21\u6a21\u62df\uff01\n\n\u73b0\u5728\u518d\u5206\u6790\u4e00\u4e0b\uff0c\u7531\u4e8e $K\\le10^{18}$\uff0c\u9884\u5904\u7406\u500d\u589e\u6570\u7ec4\u7684\u65f6\u5019\uff0c$k$ \u6700\u5927\u53d6\u5230 $\\log_2(10^{18}) \\approx 62$ \u591f\u4e86\u3002\n\n\u4e3a\u4e86\u66f4\u597d\u5730\u8ba9\u8bfb\u8005\u7406\u89e3\uff0c\u4e0a\u90e8\u5206\u4ee3\u7801\u3002\n\n```cpp\nfor(ll k=62;k>=0;k--){\n\tif(K&(1ll<<k)){ // \u5982\u679c k \u7684\u4e8c\u8fdb\u5236\u4f4d\u4e0a\u8fd9\u4e00\u4f4d\u662f 1\n\t\tans1+=s1[u][v][k], ans2+=s2[u][v][k]; // \u7d2f\u8ba1\u7b54\u6848\n\t\tll TMPU=u,TMPV=v; // \u4e4b\u524d\u7684\u72b6\u6001\n\t\tu=f[TMPU][TMPV][k], v=g[TMPU][TMPV][k]; // \u500d\u589e\u6a21\u62df\n\t}\n}\n```\n\u7b54\u6848\u5c31\u8fd9\u6837\u88ab\u7edf\u8ba1\u51fa\u6765\u4e86\u3002\n\n------\n\n\u770b\u4f3c\u500d\u589e\u505a\u6cd5\u6bd4\u8f83\u590d\u6742\uff0c\u4f46\u8fd9\u9898\u8fd8\u7b97\u662f\u5957\u8def\u9898\uff0c\u5f88\u591a\u7c7b\u4f3c\u9898\u76ee\u4e5f\u53ef\u4ee5\u6309\u7167\u60f3\u500d\u589e\u6570\u7ec4\u3001\u5b8c\u6210\u521d\u59cb\u5316\u3001\u60f3\u9012\u63a8\u7684\u65b9\u6cd5\u3001\u60f3\u7edf\u8ba1\u7684\u65b9\u6cd5\u7684\u987a\u5e8f\u5b8c\u6210\uff0c\u6211\u8ba4\u4e3a\u5f88\u6709\u6bd4\u8981\u5b66\u4f1a\u3002\n\n$\\large \\text{Sample Code(C++)}$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> P;\ntypedef pair<ll,ll> PL;\nll K,u,v,a[5][5],b[5][5],ans1,ans2;\nll f[5][5][63],g[5][5][63],s1[5][5][63],s2[5][5][63];\nll pd(ll a,ll b){\n    if(a==b) return 0;\n    if((a==3 && b==2)||(a==2 && b==1)||(a==1 && b==3)) return 1;\n    else return -1;\n}\nint main(){\n    scanf(\"%lld%lld%lld\",&K,&u,&v);\n    for(ll i=1;i<=3;i++)\n        for(ll j=1;j<=3;j++)\n            scanf(\"%lld\",&a[i][j]);\n    for(ll i=1;i<=3;i++)\n        for(ll j=1;j<=3;j++)\n            scanf(\"%lld\",&b[i][j]);\n    for(ll i=1;i<=3;i++)\n        for(ll j=1;j<=3;j++){\n            f[i][j][0]=a[i][j],g[i][j][0]=b[i][j];\n            if(pd(i,j)==1) s1[i][j][0]=1,s2[i][j][0]=0;\n            else if(pd(i,j)==-1) s2[i][j][0]=1,s1[i][j][0]=0;\n            else s1[i][j][0]=0,s2[i][j][0]=0;\n        }\n    for(ll k=1;k<=62;k++)\n        for(ll i=1;i<=3;i++)\n            for(ll j=1;j<=3;j++){\n                f[i][j][k]=f[f[i][j][k-1]][g[i][j][k-1]][k-1];\n                g[i][j][k]=g[f[i][j][k-1]][g[i][j][k-1]][k-1];\n                s1[i][j][k]=s1[i][j][k-1]+s1[f[i][j][k-1]][g[i][j][k-1]][k-1];\n                s2[i][j][k]=s2[i][j][k-1]+s2[f[i][j][k-1]][g[i][j][k-1]][k-1];\n            }\n    for(ll k=62;k>=0;k--){\n        if(K&(1ll<<k)){\n            ans1+=s1[u][v][k], ans2+=s2[u][v][k];\n            ll TMPU=u,TMPV=v;\n            u=f[TMPU][TMPV][k], v=g[TMPU][TMPV][k];\n        }\n    }\n    printf(\"%lld %lld\\n\",ans1,ans2);\n    return 0;\n}\n```",
        "postTime": 1638012579,
        "uid": 334727,
        "name": "BreakPlus",
        "ccfLevel": 0,
        "title": "Solution CF863C"
    },
    {
        "content": "\u8fd9\u7247\u9898\u89e3\u5199\u7684\u771f\u7684\u4e11 \u4e3b\u8981\u662f \u53d8\u91cf\u540d\u7528\u7684\u633a\u4e71\n\n\u81f3\u4e8e\u601d\u8def\uff1a \u4e00\u770b\u5c31\u662f\u6709\u5faa\u73af\u7684\u9898\uff0c\u7136\u540e\u627e\u51fa\u5faa\u73af\u8282\u76f4\u63a5\u8ba1\u7b97\u5c31\u884c\u4e86\n\n\u8fd9\u91cc\u7528 pair \u5b58\u4e24\u4e2a\u4eba\u9009\u62e9\u7684 \u201c\u5bf9\u201d\uff0c map \u5b58\u8c01\u80dc\u51fa\uff0c vector \u5b58\u8fc7\u7a0b\n```\n#include<bits/stdc++.h>\n#define PI acos(-1.0)\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 7;\nll n, ans1, ans2;\nint i_, j_;\nint a[maxn][maxn], b[maxn][maxn];\n \npair<int,int> t;\nmap<pair<int,int>, char> mp;\nvector<pair<int,int> > vec;\n \nvoid init() {\n    cin>>n>>i_>>j_;\n    for(int i=1;i<=3;++i)\n    {\n        for(int j=1;j<=3;++j)\n        cin>>a[i][j];\n    }\n    for(int i=1;i<=3; ++i) \n    {\n        for(int j=1;j<=3;++j)\n            cin>>b[i][j];\n    }\n}\nvoid solve() \n{\n    ans1=0,ans2=0;\n    int ti=i_,tj=j_;\n    ll ccc=0;\n    while(1)\n    {\n        t=make_pair(ti,tj);\n        if(mp.count(t)) \n            break;\n        if(ti==1&&tj==3) \n            mp[t] = 1;\n        else \n        if(ti==3&&tj==1)\n            mp[t] = 2;\n        else \n        {\n            if(ti==tj)\n                mp[t]=0;\n            else \n            if(ti>tj) \n                mp[t]=1;\n            else mp[t]=2;\n        }\n        vec.push_back(t);\n        int tt=ti;\n        ti=a[ti][tj];\n        tj=b[tt][tj];\n        ccc++;\n        if(ccc==n) \n            break;\n    }\n    int i;\n    for(i=0;i<vec.size();++i) \n    {\n        if(vec[i].first==t.first&&vec[i].second==t.second) \n            break;\n        if(mp[vec[i]]==1) \n            ans1++;\n        else \n            if(mp[vec[i]]==2) \n                ans2++;\n    }\n    n-=i;\n    ll len=(ll)(vec.size()-i);\n    ll cnt=(n/len),mod=(n%len);\n    ll t1=0,t2=0;\n    for(;i<vec.size()&& mod; ++i) \n    {\n        if(mp[vec[i]]==1) \n        { \n            ans1++; \n            t1++;\n        }\n        else \n        if(mp[vec[i]]==2) \n        { \n            ans2++;\n            t2++;\n        }\n        mod--;\n    }\n    for(;i<vec.size();++i) \n    {\n        if(mp[vec[i]]==1) \n        t1++;\n        else \n        if(mp[vec[i]]==2) \n        t2++;\n    }\n    t1*=cnt;t2*=cnt;\n    ans1+=t1,ans2+=t2;\n    cout<<ans1<<\" \"<<ans2<<endl;\n}\nint main() \n{\n    init();\n    solve();\n    return 0;\n}```",
        "postTime": 1535249571,
        "uid": 98856,
        "name": "\u61a8\u8c46Beng",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF863C \u30101-2-3\u3011"
    },
    {
        "content": "### \u8fd9\u9053\u9898\u76ee\u5c0f\u5fc3\u7ec6\u8282\u554a\uff01\uff01\n\n#### \u5199\u5728\u524d\u9762\u7684\u8bdd:\n\n\u6211\u63d0\u4ea4\u4e86\u5927\u6982\uff11\uff16\u6b21\u624d\uff21\u6389\u8fd9\u4e2a\u9898\uff0c\u524d1\uff12\u6b21\u662f\u56e0\u4e3a\u6ca1\u6709\u7279\u5224\u5faa\u73af\u8282\u957f\u5ea6\u4e3a0(\u76f8\u4fe1\u6709\u4e0d\u5c11\u4eba\uff32\uff25\u662f\u56e0\u4e3a\u8fd9\u4e2a\u539f\u56e0),\u4e5f\u5c31\u662f\u6ca1\u6709\u627e\u5230\u5faa\u73af\u8282\uff0c\u7136\u540e\u6211\u7528k\u53bb\u9664\u4ee5\u5faa\u73af\u8282\u7684\u957f\u5ea6\uff0c\u5c31\u75af\u72c2\uff32\uff25.\n\u540e\u9762\u51e0\u6b21\u662f\u56e0\u4e3a\u4e0d\u5c0f\u5fc3\u5199\u6302\u4e86\u4e00\u4e2a\u5730\u65b9\uff0c\u5bfc\u81f4\u6b7b\u5faa\u73af\u4e86\u3002\n#### \u8fd9\u9053\u9898\u7684\u89e3\u9898\u601d\u8def:\n\u89c2\u5bdf\u5230\u7ed9\u51fa\u7684\u4e24\u4e2a\u77e9\u9635\u7684\u5927\u5c0f\u4ec5\u6709$3*3$,\u800c\u4e14k\u7684\u5927\u5c0f\u5230\u4e86\u3000$10^{18}$\uff0c\u5f53\u7136\u662f\u627e\u5faa\u73af\u8282\u4e86\uff01\u5f88\u663e\u7136\uff0c\u51fa\u73b0\u7684\u60c5\u51b5\u65e0\u975e\u5c31\u662f\uff19\u79cd:\n```plain\n1 1\n1 2\n1 3\n2 1\n2 2\n2 3\n3 1 \n3 2\n3 3\n```\n\u8003\u8651\u7528\u4e00\u4e2a\u6570\u7ec4\u8bb0\u5f55\u4e00\u4e0b\u6bcf\u79cd\u60c5\u51b5\u662f\u5426\u51fa\u73b0\u8fc7\uff0c\u5982\u679c\u51fa\u73b0\u8fc7\uff0c\u80af\u5b9a\u662f\u6709\u5faa\u73af\u8282\uff0c\u5bf9\u4e8e\u5faa\u73af\u5230\u7684\u6bcf\u4e00\u79cd\u60c5\u51b5\u91c7\u7528\u4e00\u4e2a\u6808\u50a8\u5b58\u8d77\u6765\uff0c\u7136\u540e\u627e\u5faa\u73af\u8282\u5c31\u662f\u4e0d\u65ad\u9000\u6808.\n\n\u627e\u5230\u5faa\u73af\u8282\u628a\u6bcf\u4e2a\u5faa\u73af\u8282(\u4e0d\u8d85\u8fc79)\u7684\u8f93\u8d62\u60c5\u51b5\u8bb0\u5f55\u4e0b\u6765\uff0c\u7136\u540e\u76f4\u63a5\u6839\u636e\u5faa\u73af\u8282\u957f\u5ea6\u8ba1\u7b97\u5c31\u884c\u4e86\n\n\u6ce8\u610f\u7279\u5224\u5faa\u73af\u8282\u957f\u5ea6\u4e3a$0$!!!\uff32\uff25\uff11\uff12\u6b21\u8840\u7684\u6559\u8bad,\u8ba9\u4eba\u60f3\u54ed\u3002\n\n### Code\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long//\u8fd9\u662f\u4e00\u4e2a\u574f\u4e60\u60ef\uff0c\u4f46\u662f\u6211\u61d2....\nint a[5][5];//\u8bb0\u5f55\u77e9\u9635A\nint b[5][5];//\u8bb0\u5f55\u77e9\u9635B\nint k;\nint A,B;\nbool book[5][5];//\u7528\u6765\u8bb0\u5f55\u6bcf\u79cd\u60c5\u51b5\u662f\u5426\u51fa\u73b0\nshort tackA[25],tackB[25];//\u7528\u6765\u8bb0\u5f55\u5faa\u73af\u8282\nint tail = 0;\nint sorceA = 0,sorceB = 0,len = 0,addA = 0,addB = 0;\nint pd(int x,int y)\n{\n\tif(x == 3 && y == 2)return 1;\n\tif(x == 2 && y == 1)return 1;\n\tif(x == 1 && y == 3)return 1;\n\tif(x == y)return -1;\n\treturn 0;\n}//\u5224\u65ad\u8f93\u8d62,\u7528\u4e86\u7528\u5f02\u6216\u7684\u5c0f\u6280\u5de7\nsigned main()\n{\n\tcin >> k >> A >> B;\n\tfor(int i = 1 ;  i <= 3 ; i ++)\n\t\tfor(int j = 1 ; j <= 3 ; j ++)\n\t\tcin >> a[i][j];\n\tfor(int i = 1 ;  i <= 3 ; i ++)\n\t\tfor(int j = 1 ; j <= 3 ; j ++)\n\t\tcin >> b[i][j];\n\tbook[A][B] = 1;\n\tint z = pd(A,B);\n\tif(z != -1)sorceA += z , sorceB += z^1;\n\tk --;tail ++ , tackA[tail] = A,tackB[tail] = B;//\u5148\u628a\u521d\u59cb\u60c5\u51b5\u5165\u961f\n\twhile(k)//\u8fd9\u91cc\u662f\u627e\u5faa\u73af\u8282\u3000\n\t{\n\t\tint x = a[A][B] , y = b[A][B];\n\t\ttail ++ , tackA[tail] = x, tackB[tail] = y;\n\t\tif(book[x][y] == 1)break;//\u5982\u679c\u51fa\u73b0\u4e86\u91cd\u590d\u7684\u60c5\u51b5\u663e\u7136\u5c31\u51fa\u73b0\u4e86\u5faa\u73af\n\t\tbook[x][y] = 1;\n\t\tint z = pd(x,y);\n\t\tif(z != -1)sorceA += z , sorceB += z^1;//\u6bcf\u6b21\u5224\u65ad\u8f93\u8d62\n\t\tA = x , B = y;//\u8bb0\u5f55\u4e0a\u4e00\u6b21\u7684\u7ed3\u679c\n\t\tk --;\n\t}\n\tint X = tackA[tail],Y = tackB[tail];\n\ttail --;\n\twhile(tail)// \u9000\u6808\n\t{\n\t\tlen ++;\n\t\tint z = pd(tackA[tail],tackB[tail]);\n\t\tif(z != -1)addA += z , addB += z^1;\n\t\tif(tackA[tail] == X && tackB[tail] == Y)break;\n\t\ttail --;//\u627e\u5faa\u73af\u8282\n\t}\n\tif(len != 0){\n\t\tsorceA += (k/len)*addA , sorceB += (k/len)*addB;\n\t\tk %= len;\n\t}\n\twhile(k > 0)//\u6b64\u65f6\u7684\uff4b\u4e00\u5b9a\u5c0f\u4e8e\u5faa\u73af\u8282\n\t{\n\t\tint X = tackA[tail] , Y = tackB[tail];\n\t\tint z = pd(X,Y);\n\t\tif(z != -1)sorceA += z , sorceB += z^1;\n\t\tk --;\n\t\ttail ++;//\u6211\u9000\u4e86\u6808\uff0c\u5b9e\u9645\u4e0a\u5143\u7d20\u8fd8\u5f85\u5728\u6808\u91cc\u9762\uff0c\u6211\u56de\u6eaf\u627e\u56de\u5143\u7d20\u6765\u8ba1\u7b97\n\t}\n\tcout << sorceA << \" \" << sorceB;\n\treturn 0;\n}\n```\n",
        "postTime": 1603418306,
        "uid": 67817,
        "name": "MuYC",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF863C \u30101-2-3\u3011"
    }
]