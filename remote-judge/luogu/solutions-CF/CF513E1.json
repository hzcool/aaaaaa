[
    {
        "content": "\u8fd9\u9898\u6574\u6574\u8c03\u4e86\u6211\u4e00\u665a\u4e0a\u2026\u2026\n\n\u9996\u5148\uff0c\u6211\u4eec\u770b\u5230\u8fd9\u4e2a\u5f0f\u5b50\uff1a\n\n$|s_1-s_2|+|s_2-s_3|+|s_3-s_4|+\\dots+|s_{k-1}-s_k|$\n\n\u6211\u4eec\u4e0d\u5982\u968f\u4fbf\u628a\u90a3\u4e9b\u7edd\u5bf9\u503c\u7b26\u53f7\u62c6\u6389\uff0c\u6362\u6210\u6b63\u6216\u8d1f\u53f7\uff0c\u8fd9\u6837\u539f\u5f0f\u7684\u6700\u5927\u503c\u5c31\u662f\u6240\u6709\u62c6\u7edd\u5bf9\u503c\u7684\u65b9\u6848\u4e2d\u6700\u4f18\u7684\u90a3\u79cd\u3002\n\n\u4f8b\u5982\u8fd9\u5c31\u662f\u4e00\u79cd\u5408\u6cd5\u7684\u65b9\u6848\uff1a\n\n$-(s_1-s_2)+(s_2-s_3)-(s_3-s_4)-\\dots+(s_{k-1}-s_k)$\n\n\u6211\u4eec\u518d\u628a\u62ec\u53f7\u5220\u6389\uff0c\u89c2\u5bdf\u6bcf\u4e00\u9879\u7684\u7cfb\u6570\uff1a\n\n$-s_1+2s_2-2s_3+0s_4-\\dots+0s_{k-1}-s_k$\n\n\u53d1\u73b0\u4e86\u4ec0\u4e48\uff1f\n\n\u7b2c\u4e00\u9879\u548c\u6700\u540e\u4e00\u9879\u7684\u7cfb\u6570\u5fc5\u5b9a\u662f$\\pm1$\uff0c\u5176\u5b83\u9879\u7684\u6b21\u6570\u5fc5\u5b9a\u662f$\\pm2$\u6216$0$\u3002\u4e14\u6b63\u8d1f\u53f7\u7684\u65b9\u6848\u5fc5\u5b9a\u662f$+,0,\\dots,0,-,0,\\dots,0,+,0,\\dots,0,-,\\dots$\n\n\u5373\uff0c\u4e00\u4e2a\u6b63\u6570\uff0c\u540e\u9762\u8ddf\u4e00\u5806$0$\uff0c\u7136\u540e\u518d\u6765\u4e00\u4e2a\u8d1f\u6570\uff0c\u7136\u540e\u53c8\u662f\u4e00\u5806$0$\u2026\u2026\u6216\u8005\u662f\u6b63\u8d1f\u98a0\u5012\u7684\u60c5\u51b5\u3002\n\n\u7136\u540e\u5c31\u8003\u8651DP\u3002\n\n\u8bbe$f[i][j][0/1/2][0/1]$\u8868\u793a\uff1a\n\n\u524d$i$\u4f4d\uff0c\u5206\u6210$j$\u6bb5\uff0c\u7b2c$i$\u4e2a\u6570\u7684\u7b26\u53f7\u662f\uff1a$0\\rightarrow-$\uff0c$1\\rightarrow+$\uff0c$2\\rightarrow0$\uff0c\u5e76\u4e14\u4e0a\u4e00\u4e2a\u975e$0$\u6570\u7684\u7b26\u53f7\u662f$0/1$\u3002\n\n\u5219\u6709\uff1a\n\n$\\begin{cases}f[i][j][0][0]=max\\{f[i-1][j][0][0],f[i-1][j-1][1][1],f[i-1][j-1][2][1]\\}-2*num[i]\\\\f[i][j][1][1]=max\\{f[i-1][j][1][1],f[i-1][j-1][0][0],f[i-1][j-1][2][0]\\}+2*num[i]\\\\f[i][j][2][0]=max\\{f[i-1][j][2][0],f[i-1][j-1][2][0],f[i-1][j-1][0][0],f[i-1][j][0][0]\\}\\\\f[i][j][2][1]=max\\{f[i-1][j][2][1],f[i-1][j-1][2][1],f[i-1][j-1][1][1],f[i-1][j][1][1]\\}\\end{cases}$\n\n\n\u6ce8\u610f\uff0c\u5e8f\u5217\u4e2d\u662f\u53ef\u4ee5\u6709\u4f4d\u7f6e\u4e0d\u9009\u7684\u3002\u56e0\u6b64\uff0c\u76f8\u90bb\u7684\u4e24\u4e2a$2$\uff0c\u53ef\u4ee5\u5206\u6210\u4e24\u6bb5\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5206\u3002\u5e76\u4e14\uff0c\u4e00\u6bb5\u8fde\u7eed\u7684$2$\uff0c\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u4e00\u6bb5$0$\uff0c\u4e5f\u53ef\u4ee5\u88ab\u770b\u4f5c\u662f\u4e00\u6bb5\u4e0d\u9009\u7684\u4f4d\u7f6e\uff0c\n\n\u7136\u540e\uff0c\u8fb9\u754c\u6761\u4ef6\u4e3a\uff1a$f[i][1][0][0]$\u4e0e$f[i][1][1][1]$\u662f\u524d\u7f00\u6700\u5927\u5b50\u4e32\u548c\u3002\u6700\u7ec8\u7ed3\u679c\u662f$f[i][m-1][0][0]$\u4e0e$f[i][m-1][1][1]$\u52a0\u4e0a\u540e\u7f00\u6700\u5927\u5b50\u4e32\u548c\u7684\u6700\u5927\u503c\u3002\u56e0\u4e3a\u53ea\u6709$s_1$\u548c$s_m$\u662f$\\pm1$\uff0c\u6240\u4ee5\u8981\u7279\u5224\u6389\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,f[30100][210][3][2],num[30100],sum[30100],s[2][30100][2],res=0x80808080,ass[30100][2];//0- 1+ 20\nint main(){\n\tscanf(\"%d%d\",&n,&m),memset(f,0x80,sizeof(f));\n\tfor(int i=1;i<=n;i++)scanf(\"%d\",&num[i]);\n\tfor(int i=1;i<=n;i++)f[i][1][0][0]=max(f[i-1][1][0][0],0)-num[i],f[i][1][1][1]=max(f[i-1][1][1][1],0)+num[i];\n\tfor(int i=1;i<=n;i++)f[i][1][2][0]=max(f[i-1][1][2][0],f[i][1][0][0]),f[i][1][2][1]=max(f[i-1][1][2][1],f[i][1][1][1]);\n\tfor(int i=1;i<=n;i++)for(int j=2;j<m;j++){\n\t\tf[i][j][0][0]=max({f[i-1][j][0][0],f[i-1][j-1][1][1],f[i-1][j-1][2][1]})-2*num[i];\n\t\tf[i][j][1][1]=max({f[i-1][j][1][1],f[i-1][j-1][0][0],f[i-1][j-1][2][0]})+2*num[i];\n\t\tf[i][j][2][0]=max({f[i-1][j][2][0],f[i-1][j-1][2][0],f[i-1][j-1][0][0],f[i-1][j][0][0]});\n\t\tf[i][j][2][1]=max({f[i-1][j][2][1],f[i-1][j-1][2][1],f[i-1][j-1][1][1],f[i-1][j][1][1]});\n\t}\n\tfor(int i=n;i>=1;i--)ass[i][0]=max(ass[i+1][0],0)-num[i],ass[i][1]=max(ass[i+1][1],0)+num[i];\n\tfor(int i=m-1;i<n;i++){\n\t\tres=max(res,max(f[i][m-1][0][0],f[i][m-1][2][0])+ass[i+1][1]);\n\t\tres=max(res,max(f[i][m-1][1][1],f[i][m-1][2][1])+ass[i+1][0]);\n\t}\n\tprintf(\"%d\\n\",res);\n\treturn 0;\n}\n```\n",
        "postTime": 1586180431,
        "uid": 123369,
        "name": "xtx1092515503",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF513E1 \u3010Subarray Cuts\u3011"
    }
]