[
    {
        "content": "#### \u5176\u5b9e\u6700\u4f18\u7684\u65b9\u6cd5\u5176\u4ed6\u7684\u9898\u89e3\u5df2\u7ecf\u8bb2\u5f97\u5f88\u597d\u4e86\uff0c\u672c\u9898\u89e3\u4ec5\u7528\u4e8e\u8bb0\u5f55\u548c\u5206\u4eab\u4e00\u4e2a\u65b0\u7684\u601d\u8def\u3002\n\u8fd9\u9053\u9898\u662f\u8ba9\u4f60\u8f93\u51fa\u7b26\u5408\u6761\u4ef6\u7684\u5e8f\u5217\uff0c\u800c\u5e8f\u5217\u7684\u6bcf\u4e2a\u6570\u4e4b\u95f4\u5177\u6709\u4e00\u5b9a\u7684**\u903b\u8f91\u5173\u7cfb**\uff0c\u5f88\u5bb9\u6613\u60f3\u5230\u62d3\u6251\u6392\u5e8f\uff0c\u4e8e\u662f\u6b64\u9898\u5c31\u53d8\u4e3a\uff0c\u5982\u4f55\u627e\u51fa\u6ee1\u8db3\u6761\u4ef6\u7684\u903b\u8f91\u5173\u7cfb\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u5148\u770b\u4e00\u4e0b\u64cd\u4f5c\u6b21\u6570\u6700\u591a\u7684\u5e8f\u5217\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/26j5lfcl.png)\n\n\uff08\u6bcf\u4e00\u6761\u7ea2\u7ebf\u90fd\u662f\u4e00\u6b21\u64cd\u4f5c\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u5220\u9664\u4e00\u6b21\u64cd\u4f5c\uff0c\u5f53\u4e14\u4ec5\u5f53\u5de6\u534a\u8fb9\u4e0e\u53f3\u534a\u8fb9\u90fd\u6392\u597d\u5e8f\u7684\u60c5\u51b5\u4e0b\uff0c\u5373\u5220\u9664\u4e86\u6240\u6709\u5b50\u64cd\u4f5c\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u5f97\u5de6\u534a\u8fb9\u4e0e\u53f3\u534a\u8fb9\u4e2d\u95f4\u5efa\u4e00\u6761\u8fb9\uff0c\u5982\u56fe\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yqoz7wk7.png)\n\n\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728$1$\u4e0e$2$\u4e4b\u95f4**\u5efa\u4e00\u6761\u8fb9**\u6765\u5220\u9664$1$\u4e0e$2$\u4e24\u8005\u7684\u64cd\u4f5c\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9km1xbi5.png)\n\n\u6211\u4eec\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5728$2$\u4e0e$3$\u4e4b\u95f4\u5efa\u4e00\u6761\u8fb9\u6765\u5220\u9664$1$\u4e0e$2$\u4e4b\u95f4\uff0c$3$\u4e0e$4$\u4e4b\u95f4\u7684\u64cd\u4f5c\uff0c\u4f46\u6b64\u65f6$1$\u4e0e$2$\uff0c$3$\u4e0e$4$\u4e4b\u95f4\u5fc5\u987b**\u5df2\u7ecf\u5efa\u8fb9**\u3002\n\n\u4e0a\u8ff0\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u9012\u5f52\u5b8c\u6210\uff0c\u6700\u540e\u518d\u8dd1\u4e00\u8fb9\u62d3\u6251\u6392\u5e8f\uff0c\u590d\u6742\u5ea6$O(nlogn)$\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<queue>\nusing namespace std;\nint n,k;\nstruct Edge\n{\n\tint to,nxt;\n}e[100005];\nint fir[100005],size;\nint d[100005];\nvoid add(int u,int v)\n{\n\te[++size].to=v;\n\te[size].nxt=fir[u];\n\tfir[u]=size;\n\t++d[v];\n}\nint cnt;\nvoid merge(int l,int r)\n{\n\tif(l==r-1)\n\t{\n\t\treturn ;\n\t}\n\tint mid=(l+r)/2;\n\tmerge(l,mid);\n\tmerge(mid,r);\n\tif(cnt>k)\n\t{\n\t\tadd(mid-1,mid);\n\t\tcnt-=2;\n\t}\n}\nqueue <int> q;\nint ans[100005];\nvoid top()\n{\n\tfor(int i=n-1;i>=0;--i)\n\t{\n\t\tif(d[i]==0)\n\t\tq.push(i);\n\t}//\u4e00\u5b9a\u8981\u53cd\u5411\u585e\u5165\uff0c\u62d3\u6251\u6392\u5e8f\u4ec5\u80fd\u4fdd\u8bc1\u903b\u8f91\u5173\u7cfb\uff0c\u672c\u9898\u987a\u5e8f\u975e\u6b63\u5373\u53cd\uff0c\u6240\u4ee5\u672a\u5efa\u8fb9\u7684\u4f4d\u7f6e\u5c31\u662f\u53cd\u7684\n\tcnt=0;\n\twhile(q.size())\n\t{\n\t\tint tmp=q.front();\n\t\tq.pop();\n\t\tans[tmp+1]=++cnt;//\u6211\u4eec\u5efa\u8fb9\u548c\u62d3\u6251\u7684\u662f\u70b9\u7684\u4f4d\u7f6e\uff0c\u6839\u636e\u51fa\u961f\u987a\u5e8f\u51b3\u5b9a\u6570\u5b57\u987a\u5e8f\n\t\tfor(int i=fir[tmp];i;i=e[i].nxt)\n\t\t{\n\t\t\t--d[e[i].to];\n\t\t\tif(d[e[i].to]==0)\n\t\t\tq.push(e[i].to);\n\t\t}\n\t}\n}\nint main()\n{\n\tcin>>n>>k;\n\tif(k%2==0||k>2*n-1)\n\t{\n\t\tprintf(\"-1\\n\");\n\t\treturn 0;\n\t}\n\tcnt=2*n-1;\n\tmerge(0,n);\n\ttop();\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tprintf(\"%d \",ans[i]);\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n```\n",
        "postTime": 1594363045,
        "uid": 72468,
        "name": "\u300c\u3000\u300d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF873D \u3010Merge Sort\u3011"
    },
    {
        "content": "\u4e00\u9053\u6784\u9020\u9898\u3002\n\n\u8003\u8651\u5230\u6bcf\u6b21\u8c03\u7528$\\mathrm{mergesort}$\u90fd\u662f$2$\u6b21\uff0c\u52a0\u4e0a\u521d\u59cb\u7684\u4e00\u6b21\uff0c\u603b\u6b21\u6570\u4e00\u5b9a\u662f**\u5947\u6570**\u3002\n\n\u6240\u4ee5**\u5076\u6570\u4e00\u5b9a**\u662f$-1$\u3002\n\n\u8003\u8651\u600e\u4e48\u8ba9\u8c03\u7528\u6b21\u6570$+2$\uff0c\u5047\u8bbe\u5df2\u7ecf\u5230\u533a\u95f4$\\mathrm{[l,r)}$\uff0c\u6b64\u65f6$\\mathrm{[l,r)}$\u662f\u9012\u589e\u7684\uff0c\u53ea\u9700$\\mathrm{swap(a[mid-1],a[mid])}$\u3002\u8fd9\u6837\u65e2\u80fd\u4fdd\u8bc1$\\mathrm{[l,r)}$\u4e0d\u9012\u589e\uff0c\u53c8\u4fdd\u8bc1\u4e86$\\mathrm{[l,mid),[mid,r)}$\u9012\u589e\u3002\n\n```cpp\n#include<cstdio>\nconst int N=1e5+50;\nint n,k,a[N];\ninline void swap(int &u,int &v){int o=u;u=v;v=o;}\nvoid dfs(int l,int r){\n\tif(l+1>=r||!k)return;//\u5355\u72ec\u5143\u7d20\u6216\u6ca1\u6709\u5fc5\u8981\u4ea4\u6362\u5c31\u8fd4\u56de\n\tk-=2;//\u8c03\u7528\u6b21\u6570-2\n\tint mid=l+r>>1;\n\tswap(a[mid-1],a[mid]);\n\tdfs(l,mid);dfs(mid,r);\n}\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tif(k&1^1){puts(\"-1\");return 0;}//\u5076\u6570\u5224\u6389\n\tfor(int i=0;i<n;i++)a[i]=i+1;\n\tk--;//\u521d\u59cb\u8c03\u7528\u4e00\u6b21\n\tdfs(0,n);\n\tif(k)puts(\"-1\");//\u8fd8\u6709\u8c03\u7528\u6b21\u6570\uff0c\u4e3a-1\n\telse for(int i=0;i<n;i++)printf(\"%d \",a[i]);\n}\n```",
        "postTime": 1552464445,
        "uid": 50092,
        "name": "da32s1da",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF873D \u3010Merge Sort\u3011"
    },
    {
        "content": "\u6784\u9020\u6c34\u84dd\u4e00\u9053\u3002\n\n\u5148\u8bc1\u660e\u4e00\u4e2a\u4e1c\u897f\uff1a\u65e0\u8bba\u5e8f\u5217\u662f\u5426\u6709\u5e8f\uff0c\u6700\u5f00\u59cb\u4e00\u5b9a\u9700\u8981\u9012\u5f52 mergesort \u8fd9\u4e2a\u51fd\u6570\uff0c\u800c\u6bcf\u4e2a\u51fd\u6570\u5185\u90e8\u53c8\u4f1a\u8c03\u7528\u96f6\u6216\u4e8c\u6b21 mergesort \u51fd\u6570\uff0c\u6240\u4ee5\u5408\u6cd5\u7684 $k$ \u4e00\u5b9a\u662f\u5076\u6570\u3002\n\n~~\u90a3\u5c31\u53ef\u4ee5\u6109\u5feb\u5730\u7279\u5224\u4e86\u3002~~\n\n\u8003\u8651\u8fdb\u884c\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u3002\n\n\u82e5 $k$ \u662f\u5947\u6570\uff0c\u76f4\u63a5\u8fdb\u884c\u641c\u7d22\uff0c\u627e\u51fa\u5408\u6cd5\u89e3\u3002\u5982\u679c\u641c\u7d22\u7ed3\u675f $k$ \u8fd8\u4e0d\u4e3a $0$\uff0c\u8bf4\u660e\u65e0\u6cd5\u6784\u9020\uff0c\u8f93\u51fa`-1`\u3002\n\n\u8be6\u89c1\u6ce8\u91ca\u3002\n``` cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=1e5+5;\nint n,k,a[maxn];\nvoid solve_merge(int l,int r){\n\tif(l+1==r||k<=0) return;\n\tint mid=l+r>>1;\n\tswap(a[mid],a[mid-1]);//\u4ea4\u6362\n\tk-=2;//\u6bcf\u4e2a\u51fd\u6570\u8c03\u75280\u62162\u6b21\uff0c\u8fd9\u91cc\u7684k>0\uff0c\u7531\u4e8e\u4e0d\u662f\u5947\u6570\uff0c\u4ecd\u80fd\u591f\u51cf2\n\tsolve_merge(l,mid);solve_merge(mid,r);//\u641c\u7d22\n}\nsigned main(){\n\tscanf(\"%d%d\",&n,&k);\n\tif(!(k&1)){//\u662f\u5076\u6570\u5c31\u7279\u5224\u6389\n\t\tprintf(\"-1\");\n\t\treturn 0;\n\t}\n\tfor(int i=0;i<n;++i)//\u521d\u59cb\u5316\n\t\ta[i]=i+1;\n\t--k;\n\tsolve_merge(0,n);\n\tif(k){\n\t\tprintf(\"-1\");\n\t\treturn 0;\n\t}\n\tfor(int i=0;i<n;++i)//\u8f93\u51fa\n\t\tprintf(\"%d%c\",a[i],\" \\0\"[i==n-1]);\n\treturn 0;\n}\n```",
        "postTime": 1661599439,
        "uid": 541069,
        "name": "_CowHorse_",
        "ccfLevel": 0,
        "title": "CF873D\u9898\u89e3"
    },
    {
        "content": "[CF873D](https://codeforces.com/problemset/problem/873/D)\n\n\u6211\u7684\u601d\u8def\u5c31\u662f\u76f4\u63a5\u6a21\u62df\n\n\u8bbe\u5f53\u524d\u505a\u5230\u533a\u95f4 $[l,r)$ \uff0c\u8fd8\u8981\u64cd\u4f5c $k$ \u6b21\uff08\u5df2\u7ecf\u51cf\u53bb\u8c03\u7528 $[l,r)$ \u7684\u8fd9\u4e00\u6b21\uff09\n\n\u5982\u679c $k$ \u7b49\u4e8e0\uff0c\u5c31\u76f4\u63a5\u6309\u987a\u5e8f\u8d4b\u503c\n\n\u5426\u5219\u5c31\u8bf4\u660e\u533a\u95f4 $[l,r)$ \u4e0d\u6709\u5e8f\n\n\u90a3\u4e48\u5c31\u5148\u9012\u5f52\u53f3\u533a\u95f4\uff0c\u518d\u9012\u5f52\u5de6\u533a\u95f4\uff0c\u80fd\u4fdd\u8bc1\u53f3\u8fb9\u8d4b\u7684\u503c\u5168\u90e8\u5c0f\u4e8e\u5de6\u8fb9\n\n\u8bbe\u4e2d\u95f4\u65ad\u70b9\u4e3a $mid$\n\n\u4e0a\u8ff0\u90a3\u53e5\u8bdd\u7684\u610f\u601d\u5c31\u662f\u5bf9\u4e8e\u4efb\u610f $x\\in [l,mid),y\\in [mid,r)$ \u6ee1\u8db3 $a[x]>a[y]$\n\n\n1.\u9898\u76ee\u7ed9\u7684\u64cd\u4f5c\u65b9\u6848\u5c31\u662f\u5de6\u95ed\u53f3\u5f00\u533a\u95f4\uff0c\u4e0d\u8981\u5199\u81ea\u5df1\u4e60\u60ef\u7684\u5de6\u95ed\u53f3\u95ed\n\n2.\u53ef\u4ee5\u4ece\u6700\u540e\u7ed3\u679c\u5f80\u56de\u4e00\u6b65\u63a8\u51fa\u5bf9\u4e8e\u6bcf\u4e2a\u533a\u95f4\uff0c\u5206\u5230\u7684\u64cd\u4f5c\u6570k\u5fc5\u987b\u662f\u5947\u6570\n\n3.\u7531\u9898\u76ee\u7ed9\u7684\u64cd\u4f5c\u77e5\u9053\u53ea\u6709\u53f3\u8fb9\u7684\u533a\u95f4\u53ef\u80fd\u66f4\u5927\uff0c\u6240\u4ee5\u5f53\u5206\u4e0d\u5747\u65f6\u9700\u53f3\u8fb9\u5206\u5230\u7684\u591a\n\n```\n#include <bits/stdc++.h>\n#define LL long long\nusing namespace std;\nconst int MAX=1e5+3;\nint a[MAX];\nint nam=0; \nbool b=false;\ninline void dfs(int l,int r,int k)\n{\n\tif(l==r-1&&k!=1){b=true;return;}\n\tif(k==1){for(int i=l;i<r;i++)a[i]=++nam;return;}\n\tk--;\n\tint k_r=k>>1;\n\tif(k_r%2==0)k_r++;\n\tint mid=(l+r)>>1;\n\tdfs(mid,r,k_r);\n\tdfs(l,mid,k-k_r);\n}\nLL rin()\n{\n\tLL s=0;\n\tchar c=getchar();\n\tbool bj=0;\n\tfor(;(c>'9'||c<'0')&&c!='-';c=getchar());\n\tif(c=='-')bj=true,c=getchar();\n\tfor(;c>='0'&&c<='9';c=getchar())s=(s<<1)+(s<<3)+(c^'0');\n\tif(bj)return -s;\n\treturn s;\n}\nint main() \n{\n    int i,j;\n    int n,k;\n    n=rin();k=rin();\n    if(k%2==0){printf(\"-1\");return 0;}\n    dfs(1,n+1,k);\n    if(b)printf(\"-1\");\n    else for(i=1;i<=n;i++)printf(\"%d \",a[i]);\n\treturn 0;\n}\n```",
        "postTime": 1594290686,
        "uid": 73551,
        "name": "zjjws",
        "ccfLevel": 7,
        "title": "XJ_Day_3\u9012\u5f52\uff0c\u5206\u6cbb_F - \u5f52\u5e76\u6392\u5e8f"
    }
]