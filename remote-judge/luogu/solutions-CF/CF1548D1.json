[
    {
        "content": "D1 \u8fd9\u4e48\u7b80\u5355\uff0c\u600e\u4e48\u90fd `*2300` \u2026\u2026\n\n\u9996\u5148\u6211\u4eec\u90fd\u77e5\u9053 Pick \u5b9a\u7406\uff0c\u5bf9\u4efb\u610f\u7b80\u5355\u6574\u70b9\u591a\u8fb9\u5f62\u90fd\u6709\n\n$$\nS=A+\\frac{B}{2}-1\n$$\n\n\u5176\u4e2d $A$ \u8868\u793a\u5185\u90e8\u6574\u70b9\u6570\uff0c$B$ \u8868\u793a\u8fb9\u4e0a\u6574\u70b9\u6570\uff0c $S$ \u8868\u793a\u9762\u79ef\u3002\n\nD1 \u4e2d\u9650\u5236\u4e86\u6240\u6709\u70b9\u7684\u5750\u6807\u90fd\u662f\u5076\u6570\uff0c\u90a3\u4e48\u6613\u5f97 $S$ \u4e00\u5b9a\u662f\u5076\u6570\u3002\n\n\u9898\u76ee\u8981\u6c42 $A$ \u662f\u5947\u6570\uff0c\u7531\u6b64\u53ef\u5f97 $\\frac B2$ \u5fc5\u7136\u662f\u5076\u6570\uff0c\u90a3\u4e48\u5f97\u5230 $B \\equiv 0 \\pmod 4$\u3002\n\n\u53c8\u56e0\u4e3a\u70b9 $(x_1,y_1)$ \u4e0e \u70b9 $(x_2,y_2)$ \u4e4b\u95f4\uff08\u542b\u4e00\u4e2a\u7aef\u70b9\uff09\u7684\u6574\u70b9\u6570\u662f $\\gcd(|x_1-x_2|,|y_1-y_2|)$\uff0c\u6211\u4eec\u5c31\u53ea\u9700\u8981\u4fdd\u8bc1\u9009\u51fa\u7684\u4e09\u89d2\u5f62\u4e09\u4e2a\u70b9\u7684\u5750\u6807\u6ee1\u8db3\n\n$$\n\\gcd(x_1-x_2,y_1-y_2)+\\gcd(x_1-x_3,y_1-y_3)+\\gcd(x_2-x_3,y_2-y_3)\\equiv 0\\pmod 4\n$$\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u53ef\u4ee5\u628a\u70b9 $(x,y)$ \u5316\u4f5c\u70b9 $(x\\bmod 4,y\\bmod 4)$\uff0c\u76f4\u63a5\u5f00\u4e2a\u6876\u7edf\u8ba1\u4e00\u4e0b\u5373\u53ef\u3002\n\n\u6ce8\u610f\u7edf\u8ba1\u65b9\u5f0f\uff0c\u8981\u4e0d\u91cd\u4e0d\u6f0f\u3002\n\n\u603b\u590d\u6742\u5ea6 $O(n+(4^2)^3)$\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nnamespace Acc{\n\tint cnt[4][4],p[4][4],n,i,j,x1,y1,x,y;\n\tlong long r,z;\n\t//S=A+B/2-1\n\t//A odd\n\t//S even\n\t//B/2 even\n\t//4|B\n\t//gcd(x,y)=2 gcd(x/2,y/2) \n\tint gcd(int x,int y){return __gcd(abs(x),abs(y));}\n\tvoid work(){\n\t\tfor(cin>>n,i=0;i<n;++i)cin>>x>>y,++cnt[x%4][y%4];\n\t\tfor(i=0;i<4;++i)for(j=0;j<4;++j)\n\t\t\tfor(x1=0;x1<4;++x1)for(y1=0;y1<4;++y1)\n\t\t\t\tfor(x=0;x<4;++x)for(y=0;y<4;++y)\n\t\t\t\t\tif((n=gcd(i-x,j-y)+gcd(x1-x,y1-y)+gcd(i-x1,j-y1))%4==0){\n\t\t\t\t\t\tmemcpy(p,cnt,sizeof p),z=1;\n\t\t\t\t\t\tz*=p[i][j],--p[i][j],z*=p[x1][y1],--p[x1][y1],z*=p[x][y],--p[x][y];\n                        //\u5982\u679c\u51fa\u73b0\u4e0d\u8db3\u7684\u60c5\u51b5\uff0cz\u5c31\u4f1a\u4e580\u800c\u53d8\u62100\n\t\t\t\t\t\tr+=z;\n\t\t\t\t\t}\n\t\tcout<<r/6<<'\\n';//\u4e00\u4e2a\u4e09\u89d2\u5f62\u88ab\u7edf\u8ba1\u4e86 6 \u6b21\n\t}\n}\nint main(){return Acc::work(),0;}\n```",
        "postTime": 1628423014,
        "uid": 383079,
        "name": "Acc_Robin",
        "ccfLevel": 6,
        "title": "CF1548D1 Gregor and the Odd Cows (Easy) \u9898\u89e3"
    },
    {
        "content": "Pick \u5b9a\u7406\uff1a\n\n\u5728\u4e00\u4e2a\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\u5185\uff0c\u5982\u679c\u4e00\u4e2a\u591a\u8fb9\u5f62\u7684\u9876\u70b9\u5168\u90fd\u5728\u683c\u70b9\u4e0a\uff0c\u90a3\u4e48\u8fd9\u4e2a\u56fe\u5f62\u7684\u9762\u79ef\u6070\u597d\u5c31\u7b49\u4e8e\u8fb9\u754c\u4e0a\u7ecf\u8fc7\u7684\u683c\u70b9\u6570\u7684\u4e00\u534a\u52a0\u4e0a\u5185\u90e8\u6240\u542b\u683c\u70b9\u6570\u518d\u51cf\u4e00\u3002\n\n\u5373 $A=i+\\dfrac{b}{2}-1$\uff0c\u5176\u4e2d $A$ \u4e3a\u9762\u79ef\uff0c$i$ \u4e3a\u5185\u70b9\u6570\uff0c$b$ \u4e3a\u8fb9\u70b9\u6570\u3002\n\n\u6211\u4eec\u8981\u6c42\u7684\u5f88\u660e\u663e\u662f\u5185\u90e8\u683c\u70b9\u6570\u4e3a\u5947\u6570\u3002\n\n\u5728 Easy Version \u4e2d\uff0c\u6211\u4eec\u77e5\u9053\uff0c\u4e09\u4e2a\u5750\u6807\u90fd\u4e3a\u5076\u6570\uff0c\u5199\u6210\u5411\u91cf\u53c9\u79ef\u7684\u5f62\u5f0f\u53ef\u4ee5\u660e\u663e\u53d1\u73b0\u53c9\u79ef\u662f $4$ \u7684\u500d\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\u9762\u79ef\u662f\u5076\u6570\uff0c\u90a3\u53ea\u7528\u7ba1\u8fb9\u70b9\u6570\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\u4e00\u6761\u65ad\u70b9\u4e3a $(0,0)$ \u548c $(x,y)$ \u7684\u7ebf\u6bb5\u4ea4\u51fa\u7684\u6574\u70b9\u4e2a\u6570\u4e3a $\\gcd(x,y)$ \u4e2a\uff0c\u6b64\u65f6\u6211\u4eec\u53ea\u7528\u7ba1\u8fd9\u4e2a $\\gcd \\mod 4$ \u610f\u4e49\u4e0b\u7684\u503c\uff0c\u56e0\u4e3a\u53ea\u7528\u7ba1 $/ 2$ \u540e\u7684\u5947\u5076\u6027\u3002\n\n\u7531\u4e8e\u4e0d\u5b58\u5728\u4e09\u70b9\u5171\u7ebf\uff0c\u53ef\u4ee5\u5c06\u6240\u6709\u70b9\u5750\u6807 $/2$ \u540e\u6309 $\\mod 2$ \u5206\u7c7b\uff0c\u7136\u540e\u76f4\u63a5\u679a\u4e3e\u4e09\u89d2\u5f62\u4e09\u4e2a\u70b9\u6240\u5c5e\u7684\u7c7b\u522b\uff0c\u6839\u636e\u5199\u6cd5\u53ef\u80fd\u9700\u8981\u5e26\u7cfb\u6570\uff0c\u53ef\u4ee5\u770b\u505a\u4e00\u4e2a\u7b80\u5355\u7684 Burnside\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define re register\n#define int long long\nusing namespace std;\ninline int read(){\n\tre int t=0;re char v=getchar();\n\twhile(v<'0')v=getchar();\n\twhile(v>='0')t=(t<<3)+(t<<1)+v-48,v=getchar();\n\treturn t;\n}\nconst int M=998244353;\ninline void add(re int &x,re int y){(x+=y)>=M?x-=M:x;}\ninline int ksm(re int x,re int y){\n\tre int s=1;\n\twhile(y){\n\t\tif(y&1)s=1ll*s*x%M;\n\t\tx=1ll*x*x%M,y>>=1;\n\t}\n\treturn s;\n}\nstruct edge{int to,next;}e[2000002];\nint n,a[6002],b[6002],c[6002],d[6002],f[4][4],ans,g[4][4];\ninline int C3(re int x){return x*(x-1)*(x-2)/6;};\ninline int C2(re int x){return x*(x-1)/2;}\ninline int calc(re int A,re int B,re int C,re int D){\n\tC^=A,D^=B;\n\tif(C==0&&D==0)return 0;\n\treturn 1;\n}\nsigned main(){\n\tn=read();\n\tfor(re int i=1;i<=n;++i)a[i]=read()>>1,b[i]=read()>>1,a[i]&=1,b[i]&=1,++f[a[i]][b[i]];\n\tfor(re int A=0;A<=1;++A)\n\t\tfor(re int B=0;B<=1;++B)\n\t\t\tfor(re int C=0;C<=1;++C)\n\t\t\t\tfor(re int D=0;D<=1;++D)\n\t\t\t\t\tfor(re int E=0;E<=1;++E)\n\t\t\t\t\t\tfor(re int F=0;F<=1;++F){\n\t\t\t\t\t\t\tmemset(g,0,sizeof(g));\n\t\t\t\t\t\t\tre int ss=1;\n\t\t\t\t\t\t\tre int s=calc(A,B,C,D)+calc(A,B,E,F)+calc(C,D,E,F);\n\t\t\t\t\t\t\tif(s%2==0){\n\t\t\t\t\t\t\t\t++g[A][B],++g[C][D],++g[E][F];\n\t\t\t\t\t\t\t\tfor(re int i=0;i<=1;++i)for(re int j=0;j<=1;++j)\n\t\t\t\t\t\t\t\tif(g[i][j]==1)ss*=f[i][j];\n\t\t\t\t\t\t\t\telse if(g[i][j]==2)ss*=C2(f[i][j]),ss*=2;\n\t\t\t\t\t\t\t\telse if(g[i][j]==3)ss*=C3(f[i][j]),ss*=6;\n\t\t\t\t\t\t\t\tans+=ss; \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\tassert(ans%6==0);\n\tprintf(\"%lld\",ans/6);\n}\n```\n",
        "postTime": 1628347504,
        "uid": 41476,
        "name": "gyh20",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF1548D1"
    }
]