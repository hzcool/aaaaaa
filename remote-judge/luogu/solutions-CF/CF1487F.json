[
    {
        "content": "## \u9898\u610f\n\n\u7ed9\u5b9a\u4e00\u4e2a\u6b63\u6574\u6570 $n$\uff0c\u8981\u6c42\u7528\u53ea\u7531 $1$ \u7ec4\u6210\u7684\u6570\u5b57\u7684\u548c\u6216\u5dee\u8868\u793a $n$\uff0c\u4e14\u4f7f\u7528 $1$ \u4e2a\u6570\u6700\u5c11\u3002\n\n\u4f8b\u5982\uff0c$24 = 11 + 11 + 1 + 1$\uff0c$102 = 111 - 11 + 1 + 1$ \u662f\u4e24\u79cd\u4f7f\u7528 $1$ \u4e2a\u6570\u6700\u5c11\u7684\u65b9\u6848\u3002\n\n## \u89e3\u6cd5\n\n\u9898\u76ee\u7b49\u4ef7\u4e8e\u7528\u53ea\u7531 $1$ \u7ec4\u6210\u7684\u6570\u5b57\u6765\u62b5\u6d88 $n$\uff0c\u6700\u7ec8\u4f7f $n$ \u53d8\u4e3a $0$\u3002\u6ce8\u610f\u5230 $n$ \u7684\u8303\u56f4\u53ea\u6709 $50$ \u4f4d\uff0c\u4e0d\u96be\u60f3\u5230\u7528\u4e00\u4e2a\u6734\u7d20\u7684 DP \u6765\u89e3\u51b3\u3002\n\n\u8bbe $n$ \u6709 $l$ \u4f4d\uff0c\u6700\u9ad8\u4f4d\u4e3a\u7b2c $1$ \u4f4d\uff0c\u6700\u4f4e\u4f4d\u4e3a\u7b2c $l$ \u4f4d\uff0c\u5219\u5728\u7b2c $i$ \u4f4d\u65f6\u60f3\u8981 $-1$ \u6216 $+1$\uff0c\u7b2c $i+1 \\sim l$ \u4f4d\u4e5f\u90fd\u8981\u76f8\u5e94\u5730 $-1$ \u6216 $+1$\u3002\n\n\u540c\u65f6\uff0c\u5728\u7b2c $i$ \u4f4d\u4e0a\u7684\u53d8\u5316\u4e0d\u53ef\u80fd\u65e2\u6709 $-1$ \u53c8\u6709 $+1$\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8bb0\u5f55\u7b2c $i$ \u4f4d\u7684\u53d8\u5316\u662f $-1$ \u8fd8\u662f $+1$\u3002\n\n\u8bb0 $f[pos][c][x][delta(0/1)]$ \u8868\u793a\u5f53\u524d\u4ece\u9ad8\u4f4d\u5f80\u4f4e\u4f4d\u8003\u8651\u5230\u7b2c $pos$ \u4f4d\uff0c\u524d $pos$ \u4f4d\u8fd8\u672a\u62b5\u6d88\u7684\u548c\u4e3a $c$\uff0c\u540e $l-pos$ \u4f4d\u90fd\u8981\u51cf\u53bb\u4e00\u4e2a\u6570 $x$\uff0c\u5f53\u524d\u53d8\u5316\u662f $delta$\uff08$-1$ \u6216 $+1$\uff09\u65f6\u6700\u5c11\u8981\u7528\u7684 $1$ \u7684\u4e2a\u6570\u3002\n\n\u90a3\u4e48\uff0c$f[pos][c][x][delta]=min(f[pos][c][x+(delta? 1:-1)][delta]+l-pos,f[pos+1][c*10+ch[pos+1]-'0'-x][x][1],f[pos+1][c*10+ch[pos+1]-'0'-x][x][0]))$\u3002\n\n- \u7531 $f[pos][c][x+(delta? 1:-1)][delta]+l-pos$ \u8f6c\u79fb\u6765\u662f\u4fdd\u6301\u5f53\u524d\u4f4d $pos$ \u548c\u53d8\u5316\u91cf $delta$ \u4e0d\u53d8\uff0c\u5728\u7b2c $pos$ \u4f4d\u4e4b\u540e\u5168\u52a0\u4e0a $delta$\u3002\n\n- \u7531 $f[pos+1][c*10+ch[pos+1]-'0'-x][x][1]$ \u548c $f[pos+1][c*10+ch[pos+1]-'0'-x][x][0]$ \u8f6c\u79fb\u6765\u662f\u8ba9\u5f53\u524d\u4f4d $pos$ \u540e\u79fb\u4e00\u4f4d\uff0c\u679a\u4e3e\u53d8\u5316\u91cf $delta$\u3002\n\n\u540c\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u786e\u5b9a $c$ \u548c $x$ \u7684\u4e0a\u4e0b\u754c\u3002\n\n\u7531\u4e8e\u5728\u7b2c $i$ \u4f4d\u65f6\u52a0 $6$ \u4e2a $1$ \u8981 $6 \\times (l-i+1)$ \u4e2a $1$\uff0c\u800c\u5728\u7b2c $i-1$ \u4f4d\u52a0 $1$ \u4e2a $1$\uff0c\u5728\u7b2c $i$ \u4f4d\u51cf $4$ \u4e2a $1$\uff0c\u518d\u5728\u7b2c $l$ \u4f4d\u51cf $1$ \u4e2a $1$ \u8981 $5 \\times (l-i)+2$ \u4e2a $1$\uff0c\u6548\u679c\u76f8\u540c\u4e14\u524d\u8005\u7528\u7684 $1$ \u4e00\u5b9a\u6bd4\u540e\u8005\u591a\uff0c\u6545\u6ca1\u6709\u4f4d\u4e0a\u7528\u7684 $1$ \u4f1a\u5927\u4e8e\u7b49\u4e8e $6$ \u4e2a\u3002\n\n\u6211\u4eec\u9700\u8981\u5728 $l$ \u4f4d\u7684\u57fa\u7840\u4e0a\u518d\u5f80\u524d\u8003\u8651 $1$ \u4f4d\uff0c\u56e0\u6b64\u6bcf\u4f4d\u7528\u7684 $1$ \u4e0d\u8d85\u8fc7 $5 \\times (l+1)$\uff0c\u5373 $x \\le 5 \\times (l+1)$\u3002\n\n\u518d\u7531\u8f6c\u79fb\u65b9\u7a0b\u77e5 $c \\times 10-x \\le \\dfrac{5 \\times \\sum_{i=1}^{l} \\underbrace{1 \\cdots 1}_{i}}{10^{l-1}} \\le \\dfrac{500}{81}$\uff0c\u6545 $c \\le \\dfrac{x}{10}+1$\u3002\n\n\u7528\u8bb0\u5fc6\u5316 DP \u5373\u53ef\u3002\n\n## Code\n```\n#include<cstdio>\n#include<cstring>\n#define inf 0x7f7f7f7f\nint l,Test_num,mxc,mxx;\nchar ch[53];\nint f[53][53][511][2];\ninline int min(int a,int b)\n{\n\treturn a<b? a:b;\n}\ninline int dp(int pos,int c,int x,int delta)\n{\n\tif(pos==l)return c? inf:0;if(c>mxc || c<-mxc || x>mxx || x<-mxx)return inf;\n\tif(!(~f[pos][c+mxc][x+mxx][(delta==1)]))f[pos][c+mxc][x+mxx][(delta==1)]=min(dp(pos,c,x+delta,delta)+l-pos,min(dp(pos+1,c*10+ch[pos+1]-x,x,1),dp(pos+1,c*10+ch[pos+1]-x,x,-1)));\n\treturn f[pos][c+mxc][x+mxx][(delta==1)];\n}\nint main()\n{\n\tscanf(\"%s\",ch+2),l=strlen(ch+2)+1,ch[1]=0,mxx=5*l,mxc=mxx/10+1;\n\tfor(int i=2;i<=l;++i)ch[i]^=48;\n\tmemset(f,-1,sizeof(f)),printf(\"%d\",dp(0,0,0,1));\n\treturn 0;\n}\n```\n\n",
        "postTime": 1613556245,
        "uid": 121216,
        "name": "18Michael",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1487F Ones"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u4e2a\u548c\u51fa\u9898\u4eba\u6807\u89e3\u4e0d\u592a\u4e00\u6837\u7684\u505a\u6cd5\uff0c\u5e76\u4e14\u597d\u50cf\u590d\u6742\u5ea6\u66f4\u4f18\uff1f\n\n\n\u4ee4$m_i=111...1$($i$\u4f4d)\uff0c$|n|$\u662f$n$\u7684\u4f4d\u6570.\u6b64\u95ee\u9898\u53ef\u4ee5\u7406\u89e3\u6210\uff1a\u8ba9$x=x+m_i/ x-m_i$\u82b1\u8d39$i$\u7684\u4ee3\u4ef7\uff0c\u4ee4$x=0$\u82b1\u8d39\u6700\u5c0f\u7684\u4ee3\u4ef7\u3002\n\n\u8bb0$dp_{y,x}$\u4ee3\u8868\u4f60\u52a0\u51cf\u5b8c\u6240\u6709$m_i (i > y)$\u5e76\u4e14\u5f53\u524d\u503c\u4e3a$x$\u7684\u6700\u5c0f\u4ee3\u4ef7. \u4f7f\u7528```map/unordered_map```\u548c\u9ad8\u7cbe\u5ea6\u6574\u6570\u6765\u5b9e\u73b0$dp_y$. \u521d\u59cb\u65f6$dp_{|n|+1,n}=0$\n\n\u5bf9\u6bcf\u4e2a\u72b6\u6001$x$\u5728$dp_{y}$\u4e2d\uff0c\u5bf9$dp_{y-1}$\u7684\u8f6c\u79fb\u53ea\u6709\u4e24\u79cd\u9009\u62e9\u3002 \u4e0d\u59a8\u8bbe$x$\u975e\u8d1f\u90a3\u4e48\u53ef\u80fd\u7684\u8f6c\u79fb\u53ea\u6709$x-km_y$\u548c$x-(k+1)m_y$\uff0c\u6b64\u5904$x-km_y$\u975e\u8d1f\u800c$x-(k+1)m_y$\u4e3a\u8d1f\u3002\u5373\u5728\u505a\u5b8c$m_y$\u7684\u52a0\u51cf\u4e4b\u540e\u5fc5\u7136\u6709$|x|<m_y$\uff0c\u5176\u4ed6\u60c5\u51b5\u5747\u4e0d\u4f18\uff0c\u8bc1\u660e\u5982\u4e0b\uff1a\n\n\u6bcf\u4e2a$m_y$\u90fd\u4e0d\u5e94\u8be5\u88ab\u4f7f\u7528\u8d85\u8fc7$10$\u6b21(\u5b9e\u9645\u4e0a\u8fd9\u4e2a\u754c\u5f88\u677e\uff0c\u53ef\u4ee5\u7ee7\u7eed\u4e0b\u653e),\u5426\u5219\u4f60\u603b\u662f\u53ef\u4ee5\u628a$10m_y$($10y$\u4e2a$1$)\u53d8\u6210$m_{y+1}-m_1$($y+2$\u4e2a$1$).\u5982\u679c$|x| \\geq m_y$\u800c\u4e0d\u4f7f\u7528$m_y$\u6765\u51cf\u5c11\u5b83, \u8003\u8651\u5230$\\sum_{i=1}^{y-1} 9m_i < \\sum_{i=1}^{y-1}10^{i+1} = m_y$, \u5fc5\u7136\u5b58\u5728$m_i(i<y)$\u88ab\u4f7f\u7528\u8d85\u8fc7$10$\u6b21\u5426\u5219\u4f60\u65e0\u6cd5\u5c06$x$\u5f52\u96f6\u3002\u6b64\u65f6\u5fc5\u7136\u5b58\u5728\u66f4\u4f18\u89e3\u3002\n\n\n\u56de\u5230\u6b63\u9898\uff0c\u770b\u4e0a\u53bb\u72b6\u6001\u6570\u6700\u591a\u80fd\u5230$2^{50}$\u4f46\u5b9e\u9645\u4e0a\u6700\u591a\u53ea\u6709$O(|n|)$\u4e2a\uff0c\u8bc1\u660e\u5982\u4e0b\uff1a\n\n\n\u6211\u65ad\u8a00\u5bf9$dp_y$\u7684\u6240\u6709\u72b6\u6001$x$\u6240\u6709$x \\mod m_{y}$\u7684\u503c\u6070\u597d\u53ea\u843d\u5728\u4e00\u4e2a\u957f\u5ea6\u4e3a$O(|n|)$\u7684\u533a\u95f4$[a,b]$. (\u9274\u4e8e\u662f\u6a21\u610f\u4e49\u4e0b\uff0c$[a,m_{y}-1] \\cup [0,b]$\u4e5f\u8ba4\u4e3a\u662f\u4e00\u4e2a\u533a\u95f4\uff09\n\n\u521d\u59cb\u65f6\u523b$x$\u53ea\u6709\u4e00\u79cd\u53ef\u80fd\uff0c\u663e\u7136\u662f\u6ee1\u8db3\u7684\u3002\n\n\u65e2\u7136\u5bf9$x\\pm km_{y}$\u4e0d\u5f71\u54cd$x \\mod m_{y}$,\u90a3\u4e48\u5bf9$dp_{y-1}$\u7684\u72b6\u6001$x$\uff0c\u6240\u6709$x \\mod m_{y}$\u4e5f\u843d\u5728$[a,b]$.\n\n\u53c8\u56e0\u4e3a\u5982\u6211\u4eec\u4e4b\u524d\u6240\u8bf4$dp_{y-1}$\u7684\u72b6\u6001$x$\u90fd\u662f\u6ee1\u8db3$|x|<m_y$, \u8fd9\u610f\u5473\u7740$x$\u7684\u53ef\u80fd\u53d6\u503c\u8303\u56f4\u53ea\u6709\u4e24\u4e2a\u533a\u95f4\u7684\u5e76\uff1a$[a-m_y,b-m_y] \\cup [a,b]$. \n\n\u6ce8\u610f\u5230$a-m_y=a-10m_{y-1}-1\\equiv a-1 (\\mod m_{y-1})$. \u6240\u4ee5$x \\mod m_{y-1}$\u7684\u8303\u56f4\u5b9e\u9645\u4e0a\u5c31\u662f$[a-1,b-1] \\cup [a,b] =[a-1,b]$, \u6bd4$[a,b]$\u957f\u5ea6\u53ea\u589e\u5927\u4e86$1$.\u6240\u4ee5\u53ef\u4ee5\u5f97\u51fa\u7ed3\u8bba$[a,b]$\u7684\u957f\u5ea6\u662f$O(|n|)$\u7684.\u65e2\u7136\u5982\u6b64$x$\u7684\u53ef\u80fd\u53d6\u503c\u8303\u56f4$[a-m_y,b-m_y] \\cup [a,b]$\u4e5f\u53ea\u6709$O(|n|)$\u4e2a\u6570\u3002\n\n\u90a3\u4e48\u6211\u4eec\u7684\u7b97\u6cd5\u4e5f\u5c31\u51fa\u6765\u4e86\uff0c\u4ece$|x|+1$\u5230$1$\u679a\u4e3e$y$($O(|n|)$\u6b21), \u679a\u4e3e$dp_y$\u91cc\u7684\u72b6\u6001$x$\u5e76\u4e14\u66f4\u65b0$dp_{y-1}$ (\u6700\u591a$O(|n|)$\u4e2a), \u9ad8\u7cbe\u5ea6\u8fd0\u7b97$O(|n|)$\u548c```map```\u590d\u6742\u5ea6$O(log|n|)$,\u603b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f$O(|n|^3log|n|)$.\n\n\n[my code](https://codeforces.com/contest/1487/submission/107625296)",
        "postTime": 1613750823,
        "uid": 56267,
        "name": "Rhodoks",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 CF1487F \u3010Ones\u3011"
    }
]