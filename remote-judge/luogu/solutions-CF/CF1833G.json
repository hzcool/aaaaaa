[
    {
        "content": "### \u5206\u6790\n\n\u9996\u5148\u5f53 $n=3$ \u65f6\u4e00\u5b9a\u53ef\u4ee5\uff0c\u76f4\u63a5\u8f93\u51fa `0` \u548c\u4e00\u4e2a\u7a7a\u884c\u5373\u53ef\u3002\n\n\u5176\u6b21\u5f53 $n\\bmod 3\\neq 0$ \u7684\u65f6\u5019\uff0c\u5207\u5272\u540e\u4e00\u5b9a\u4f1a\u5269\u4e0b\u4e00\u90e8\u5206\u5185\u5bb9\uff0c\u8f93\u51fa `-1`\u3002\n\n\u5bf9\u4e8e\u5269\u4f59\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u8bbe $siz_i$ \u8868\u793a\u4ee5 $i$ \u4e3a\u6839\u7684\u5b50\u6811\u7684\u5927\u5c0f\u3002\n\n\u5bf9\u4e8e\u67d0\u4e2a\u975e\u6839\u8282\u70b9 $u$\uff1a\n\n- \u82e5 $siz_u=3$\uff0c\u5219\u5207\u65ad $u$ \u4e0e\u5176\u7236\u4eb2\u8282\u70b9\u4e4b\u95f4\u7684\u8fde\u8fb9\uff0c\u540c\u65f6\u5c06 $siz_u$ \u8bbe\u4e3a $0$\uff1b\n\n- \u82e5 $siz_u>3$\uff0c\u5219\u65e0\u6cd5\u5207\u5272\uff0c\u4fee\u6539\u6807\u8bb0\u7b54\u6848\u7684\u53d8\u91cf\u3002\n\n\u7531\u4e8e $siz_u$ \u7684\u503c\u4f1a\u4fee\u6539\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5728\u6c42\u51fa\u6240\u6709\u513f\u5b50\u8282\u70b9\u7684 $siz$ \u503c\u540e\u518d\u6839\u636e\u65b0\u7684 $siz$ \u6c42 $siz_u$ \u7684\u503c\u3002\n\n\u522b\u5fd8\u4e86\u591a\u6d4b\u8981\u6e05\u7a7a\u3002\n\n### \u4ee3\u7801\n\n```c++\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nnamespace IO{\n\tchar ibuf[(1<<20)+1],*iS,*iT;\n\t#if ONLINE_JUDGE\n\t#define gh() (iS==iT?iT=(iS=ibuf)+fread(ibuf,1,(1<<20)+1,stdin),(iS==iT?EOF:*iS++):*iS++)\n\t#else\n\t#define gh() getchar()\n\t#endif\n\t#define reg register\n\tinline long long read(){\n\t\treg char ch=gh();\n\t\treg long long x=0;\n\t\treg char t=0;\n\t\twhile(ch<'0'||ch>'9')   t|=ch=='-',ch=gh();\n\t\twhile(ch>='0'&&ch<='9') x=x*10+(ch^48),ch=gh();\n\t\treturn t?-x:x;\n\t}\n}\nusing IO::read;\nconst int N=4e5+5;\nstruct Edge{\n\tint to,nxt,id;\n}edge[N<<1];\nint cnt,head[N],n,ans[N],pos,siz[N];\nvoid add(int u,int v,int id){\n\tedge[++cnt].to=v;\n\tedge[cnt].nxt=head[u];\n\tedge[cnt].id=id;\n\thead[u]=cnt;\n}\nbool init(int u,int f){\n\tint v,e;\n\tsiz[u]=1;\n\tfor(int i=head[u];i;i=edge[i].nxt){\n\t\tv=edge[i].to;\n\t\tif(v==f){\n\t\t\te=i;\n\t\t\tcontinue;\n\t\t}\n\t\tinit(v,u);\n\t\tsiz[u]=siz[u]+siz[v];\n\t}\n\tif(f==0) return 1;\n\tif(siz[u]==3){\n\t\tsiz[u]=0;\n\t\tans[++pos]=edge[e].id;\n\t}\n\telse if(siz[u]>3){\n\t\treturn 0;\n\t}\n\treturn 1;\n}\nvoid solve(){\n\tint u,v;\n\tpos=0;\n\tn=read();\n\tfor(int i=1;i<n;i++){\n\t\tu=read(),v=read();\n\t\tadd(u,v,i),add(v,u,i);\n\t}\n\tif(n==3){\n\t\tprintf(\"0\\n\\n\");\n\t\tfor(int i=1;i<=n;i++) head[i]=0,ans[i]=0;\n\t\treturn;\n\t}\n\tif(n%3!=0){\n\t\tprintf(\"-1\\n\");\n\t\tfor(int i=1;i<=n;i++) head[i]=0,ans[i]=0;\n\t\treturn;\n\t}\n\tif(init(1,0)&&ans[n/3-1]){\n\t\tcout<<pos<<endl;\n\t\tfor(int i=1;i<=pos;i++) cout<<ans[i]<<' ';\n\t\tcout<<endl;\n\t}\n\telse{\n\t\tcout<<\"-1\\n\";\n\t}\n\tfor(int i=1;i<=n;i++) head[i]=0,ans[i]=0;\n}\nsigned main(){\n\tint T=read();\n\twhile(T--) solve();\n\treturn 0;\n}\n```",
        "postTime": 1684632284,
        "uid": 744687,
        "name": "Coffee_zzz",
        "ccfLevel": 0,
        "title": "CF1833G Ksyusha and Chinchilla \u9898\u89e3"
    }
]