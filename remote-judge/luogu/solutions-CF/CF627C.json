[
    {
        "content": "## \u9898\u610f\n- \u4f60\u8981\u5f00\u8f66\u5230\u4e00\u4e2a\u57ce\u5e02\uff0c\u5230\u8fd9\u4e2a\u57ce\u5e02\u7684\u8ddd\u79bb\u4e3a $d$ \u4e2a\u5355\u4f4d\u957f\u5ea6\uff0c\u4f60\u7684\u8f66\u5b50\u6709\u4e00\u4e2a\u6cb9\u7bb1\uff0c\u6700\u591a\u88c5 $n$ \u5347\u6cb9\uff0c\u6bcf\u5f00\u4e00\u4e2a\u5355\u4f4d\u957f\u5ea6\u8981\u7528\u4e00\u5347\u6cb9\uff0c\u8def\u9014\u4e2d\u6709 $m$ \u4e2a\u52a0\u6cb9\u7ad9\uff0c\u7b2c $i$ \u4e2a\u52a0\u6cb9\u7ad9\u8ddd\u79bb\u4e3a $x_i$\uff0c\u6cb9\u4ef7\u4e3a $p_i$ \u5143\uff0c\u6c42\u6700\u5c11\u82b1\u591a\u5c11\u94b1\u624d\u80fd\u5230\u7ec8\u70b9\u3002\n- $1\\le m \\le 2\\times10^5,1\\le n \\le d\\le10^9$\n## \u5206\u6790\n- \u8003\u8651\u8d2a\u5fc3\u6c42\u51fa\u6700\u5c0f\u4ee3\u4ef7\uff0c\u6211\u4eec\u5148\u5c06\u52a0\u6cb9\u7ad9\u6309\u7167\u8ddd\u79bb\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u52a0\u6cb9\u7ad9\uff0c\u6211\u4eec\u7528\u5355\u8c03\u6808\u9884\u5904\u7406\u51fa\u5b83\u4e4b\u540e\u7684\u52a0\u6cb9\u7ad9\u4e2d\uff0c\u6cb9\u4ef7\u6bd4\u5b83\u5c0f\u7684\u6700\u8fd1\u7684\u52a0\u6cb9\u7ad9\uff0c\u6211\u4eec\u79f0\u8fd9\u4e2a\u52a0\u6cb9\u7ad9\u4e3a\u76ee\u6807\u52a0\u6cb9\u7ad9\u3002\u5bf9\u4e8e\u8fd9\u4e2a\u52a0\u6cb9\u7ad9\uff0c\u5982\u679c\u5b83\u80fd\u8d70\u5230\u5b83\u7684\u76ee\u6807\u52a0\u6cb9\u7ad9\uff0c\u5219\u76f4\u63a5\u52a0\u6cb9\u52a0\u5230\u6070\u597d\u80fd\u8d70\u5230\u76ee\u6807\u52a0\u6cb9\u7ad9\uff0c\u5426\u5219\u5c31\u628a\u6cb9\u52a0\u6ee1\u3002\n\n\u8bc1\u660e\uff1a\u8bbe\u6211\u4eec\u5f53\u524d\u7684\u52a0\u6cb9\u7ad9\u4e3a $i$\uff0c\u5b83\u7684\u76ee\u6807\u52a0\u6cb9\u7ad9\u4e3a $j$\u3002\n1. \u5f53\u524d\u6cb9\u91cf\u591f\u8d70\u5230 $j$ \u65f6\uff0c\u56e0\u4e3a $\\forall k\\in(i,j)\\ p_k>p_i$ \uff0c\u6240\u4ee5\u53ea\u52a0 $p_i$ \u4ef7\u683c\u7684\u6cb9\u6700\u4f18\uff0c\u4e14\u8d70\u5230 $j$ \u540e\u53ef\u4ee5\u52a0\u66f4\u4f18\u7684\u4ef7\u683c $p_j$ \u7684\u6cb9\uff0c\u6240\u4ee5\u53ea\u52a0\u6070\u597d\u5230 $j$ \u7684\u6cb9\u3002\n\n2. \u5f53\u524d\u6cb9\u91cf\u8d70\u4e0d\u5230 $j$ \u65f6\uff0c\u540c\u6837 $\\forall k\\in(i,j)\\ p_k>p_i$\uff0c\u6240\u4ee5\u53ea\u52a0 $p_i$ \u4ef7\u683c\u7684\u6cb9\u6700\u4f18\uff0c\u4e14\u8d8a\u591a\u8d8a\u597d\uff0c\u6240\u4ee5\u52a0\u6ee1\u6cb9\u3002\n\n\u8bc1\u6bd5\u3002\n\n- \u6240\u4ee5\u603b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u4e3a\u6392\u5e8f\u7684\u590d\u6742\u5ea6 $O(m\\ log \\ m)$\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b64\u9898\u3002\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;char c=getchar();\n\twhile(c<'0'||c>'9') {if(c=='-') f=-1;c=getchar();}\n\twhile(c>='0'&&c<='9') x=(x<<3)+(x<<1)+(c^'0'),c=getchar();\n\treturn x*f;\n}\nconst int N=2e5+5;\nint d,n,m;\nstruct node{\n\tint x,p;\n}a[N];\ninline int cmp(node x,node y) { return x.x<y.x; }\nint st[N],top;\nint nxt[N];\nll ans;\nint main()\n{\n\td=read(),n=read(),m=read();\n\tfor(int i=1;i<=m;i++) a[i]=(node){read(),read()};\n\tsort(a+1,a+m+1,cmp);\n\t//\u5c06\u7ec8\u70b9\u8bb0\u4e3a\u7b2cm+1\u4e2a\u52a0\u6cb9\u7ad9\uff0c\u65b9\u4fbf\u5b9e\u73b0\n\ta[m+1]=(node){d,-1};\n\tst[++top]=m+1;\n\tfor(int i=m;i>=0;i--)\n\t{\n\t\twhile(top&&a[st[top]].p>a[i].p) top--;\n\t\tnxt[i]=st[top];\n\t\tst[++top]=i;\n\t}\n\tint res=n;//res\u4e3a\u5269\u4f59\u6cb9\u91cf\n\tfor(int i=0;i<=m;i++)\n\t{\n\t\t//dis\u4e3a\u9700\u8981\u52a0\u7684\u6cb9\uff0c\n\t\tint dis=max(0,min(a[nxt[i]].x-a[i].x,n)-res);\n\t\tans+=1ll*dis*a[i].p;\n\t\tres-=a[i+1].x-a[i].x-dis;\n\t\tif(res<0) return puts(\"-1\"),0;\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1603891998,
        "uid": 72043,
        "name": "jdsb",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF627C \u3010Package Delivery\u3011"
    }
]