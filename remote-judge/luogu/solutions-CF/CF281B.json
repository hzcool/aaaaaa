[
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c\uff1f](https://zhuanlan.zhihu.com/p/613991705)\n\n# \u9898\u610f\u63cf\u8ff0\n\n\u7ed9\u4f60\u4e00\u4e2a\u5206\u6570\uff0c\u4f60\u9700\u8981\u7ed9\u51fa\u4f60\u4e2a\u5206\u6570\u6ee1\u8db3\u4f60\u6240\u7ed9\u51fa\u7684\u5206\u6570\u4e0e\u9898\u76ee\u6240\u7ed9\u7684\u5206\u6570\u7684\u5dee\u6700\u5c0f\u3002\n\n\u7136\u540e\u5206\u6bcd\u6ee1\u8db3\u5c0f\u4e8e\u7b49\u4e8e\u67d0\u4e00\u4e2a\u6570\uff0c\u82e5\u6709\u591a\u4e2a\u8f93\u51fa\u6700\u5c0f\u3002\n\n# \u7b80\u8981\u5206\u6790\n\n\u8bbe\u9898\u76ee\u6240\u7ed9\u5206\u6570\u4e3a $\\frac x y$\uff0c\u5206\u6bcd\u4e0d\u8d85\u8fc7 $n$\uff0c\u82e5 $y \\leq n$ \u5219\u7b54\u6848\u4e3a $\\frac x y$\u3002\n\n\u5426\u5219\u8003\u8651\u679a\u4e3e\u5206\u6bcd\u7684\u53d6\u503c\uff0c\u968f\u540e\u4e8c\u5206\u5206\u5b50\u3002\n\n\u8fd9\u91cc\u627e\u5230\u6700\u5927\u7684\u5c0f\u4e8e\u7b49\u4e8e $\\frac{x} {y}$ \u7684\u5206\u6570\u3002\n\n\u4e3a\u4e86\u65b9\u4fbf\u8fd9\u91cc\u94a6\u5b9a $x < y$\uff0c\u82e5 $x \\ge y$ \u5219\u5148\u8f6c\u5316\u4e3a $x \\le y$ \u6c42\u51fa\u5206\u5b50\u540e\u518d\u52a0\u4e0a $k \\times y$ \u5373\u53ef\u3002 \n\n\u4f46\u4e0d\u8981\u5fd8\u8bb0\u8003\u8651 $\\frac{x+1} y$ \u5bf9\u7b54\u6848\u7684\u8d21\u732e\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n \\log n)$\n\n# \u4ee3\u7801\u5b9e\u73b0\n\n```cpp\nll y, n;\n\nbool check(ll b, ll a, ll x) {\n    if (1LL * b * x >= 1LL * a * y)\n        return true;\n    return false;\n}\n\npair<ll, ll> fun(ll x1) {\n    long double min = float(x1) / y;\n    ll num = 0;\n    ll denom = 1;\n    for (ll i = 1; i <= n; i++) {\n        ll l = 0, r = i - 1;\n        ll ans = 0;\n        while (l <= r) {\n            ll mid = (l + r) / 2;\n            if (check(i, mid, x1))\n                ans = mid, l = mid + 1;\n            else\n                r = mid - 1;\n        }\n        ll tnum = ans;\n        ll tdenom = i;\n        ldb tmin = abs((double(x1) / y) - (double(tnum) / tdenom));\n        ldb temp = abs((double(x1) / y) - ((double(tnum + 1)) / tdenom));\n        if (temp < tmin)\n            tmin = temp, tnum = ans + 1;\n        if (tmin < min)\n            min = tmin, denom = tdenom, num = tnum;\n    }\n    return {num, denom};\n}\n\nsigned main() {\n    ll x;\n    cin >> x >> y >> n;\n    if (n >= y) {\n        ll g = gcd(x, y);\n        cout << x / g << \"/\" << y / g;\n    } else {\n        ll i = x / y, x1 = x - y * i;\n        pair<ll, ll> f = fun(x1);\n        ll num, denom = f.second;\n        num = denom * i + f.first;\n        ll g = gcd(num, denom);\n        cout << num / g << \"/\" << denom / g;\n    }\n    return 0;\n}\n```\n\n",
        "postTime": 1678794089,
        "uid": 378222,
        "name": "fakestd",
        "ccfLevel": 0,
        "title": "[CF281B] Nearest Fraction Solution"
    }
]