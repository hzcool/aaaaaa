[
    {
        "content": ">Can you solve this problem in $O(n^2)$ time? Maybe even faster?\n\n\u8bdd\u8bf4\u8fd9\u6b21 CF \u6211\u4e0d\u77e5\u9053\u5728\u60f3\u5565\u5c31\u5199\u4e86\u4e2a $O(n)$ \u7684\u505a\u6cd5\uff0c\u7ed3\u679c\u6bd4\u8d5b\u7ed3\u675f\u4e86\u8fd8\u6ca1\u8c03\u51fa\u6765\uff0c\u8d5b\u540e\u53c8\u8c03\u4e86\u597d\u957f\u65f6\u95f4\uff0c\u524d\u540e\u4ea4\u4e86 15 \u53d1\u624d A \u3002\u3002\n\n\u6b63\u6587\n-\n\u601d\u8def\u4e3b\u8981\u5c31\u662f\u679a\u4e3e\u5728\u54ea\u91cc\u6389\u5934\uff0c\u7136\u540e\u5224\u65ad\u3002\n\n\u9996\u5148\uff0c\u65ad\u70b9\uff08\u8bbe\u5b83\u662f $p$\uff0c\u4e0b\u540c\uff09\u4e24\u8fb9\u5e94\u8be5\u662f\u56de\u6587\u7684\uff0c\u8fd9\u4e2a\u7528 manacher \u7b97\u6cd5\u5c31\u53ef\u4ee5\u89e3\u51b3\uff08\u6ce8\u610f\u53ea\u5904\u7406\u957f\u5ea6\u4e3a\u5947\u6570\u7684\uff09\u3002\u5224\u65ad\u6761\u4ef6\u5c31\u662f\u4ee5\u70b9 $p$ \u4e3a\u4e2d\u5fc3\u7684\u6700\u957f\u56de\u6587\u5b50\u4e32\u5ef6\u4f38\u5230\u8fb9\u754c\u3002\n\n\u4e0a\u9762\u90a3\u4e2a\u6761\u4ef6\u6ee1\u8db3\u540e\uff0c\u95ee\u9898\u5c31\u8f6c\u6362\u6210\u4e86\u5224\u65ad $t$ \u7684\u4e00\u4e2a\u5b50\u4e32\u662f\u5426\u5728 $s$ \u4e2d\u51fa\u73b0\uff0c\u5e76\u4e14\u8fd9\u4e2a $t$ \u7684\u5b50\u4e32\u7684\u4e00\u4e2a\u7aef\u70b9\u5728\u8fb9\u754c\u4e0a\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528 KMP \u89e3\u51b3~~\u5c31\u662f\u8fd9\u4e2a KMP \u8c03\u7684\u65f6\u95f4\u6700\u957f~~\u3002\n\n\u5982\u4f55\u5339\u914d\u8981\u5206\u4e24\u79cd\u60c5\u51b5\uff1a\n\n1. $p$ \u5728 $t$ \u7684\u5de6\u534a\u6bb5\uff0c\u6b64\u65f6\u8981\u5224\u65ad\u7684\u662f $p$ \u53f3\u8fb9\u7684\u540e\u7f00\u7ffb\u8f6c\u540e\u7684\uff0c\u8fd9\u4e2a\u9700\u8981\u5c06 $s$ \u5728\u7ffb\u8f6c\u540e\u7684 $t$ \u4e0a\u5339\u914d\uff0c\u7528\u4e00\u4e2a\u5e03\u5c14\u6570\u7ec4\u6765\u5b58\u50a8\u6bcf\u4e2a\u7ffb\u8f6c\u540e\u7684 $t$ \u7684\u6bcf\u4e2a\u957f\u5ea6\u7684\u524d\u7f00\u5728 $s$ \u4e2d\u6709\u6ca1\u6709\u5339\u914d\u3002\n1. $p$ \u5728 $t$ \u7684\u53f3\u534a\u6bb5\uff0c\u6b64\u65f6\u8981\u5224\u65ad\u7684\u662f $p$ \u5de6\u8fb9\u7684\u524d\u7f00\uff0c\u8fd9\u540c\u6837\u53ef\u4ee5\u7528\u4e00\u4e2a\u5e03\u5c14\u6570\u7ec4\u6765\u5b58\u50a8\u6240\u6709\u957f\u5ea6\u7684 $t$ \u7684\u524d\u7f00\u3002\n\n\u5bf9\u4e8e\u4ee3\u7801\u7684\u4e00\u4e9b\u8bf4\u660e\uff1a\n\n- \u8fd9\u91cc\u7684 KMP \u4e00\u822c\u7684\u5957\u8def\u662f\u628a\u5339\u914d\u4e32\u548c\u88ab\u5339\u914d\u4e32\u5408\u5e76\uff0c\u5339\u914d\u4e32\u5728\u524d\uff0c\u4e2d\u95f4\u52a0\u4e00\u4e9b\u5206\u9694\u7b26\u7136\u540e\u8dd1\u6b63\u5e38 KMP \u7684\uff0c\u4f46\u6211\u662f\u5206\u5f00\u8dd1\u7684\uff0c\u6240\u4ee5\u8f6c\u79fb\u7684\u6570\u7ec4\u8fd8\u8981\u53e6\u5916\u5728\u88ab\u5339\u914d\u4e32\u4e0a\u8dd1\u4e00\u904d\u6b63\u5e38 KMP\uff0c\u5199\u8d77\u6765\u5f88\u590d\u6742\uff0c\u8fd9\u662f\u6211\u7684\u5931\u8bef\u3002\n- \u672c\u6765\u5bf9\u4e8e\u6bcf\u4e2a $i$\uff0c\u5e94\u8be5\u628a\u5b83\u7684 KMP \u503c\uff0c\u5b83\u7684 KMP \u7684 KMP \u503c\uff0c\u4ee5\u6b64\u7c7b\u63a8\u7684\u6240\u6709\u76f8\u5e94\u5e03\u5c14\u6570\u7ec4\u7684\u4f4d\u7f6e\u90fd\u53d8\u6210\u771f\uff0c\u4f46\u662f\u7531\u4e8e\u662f\u5c06\u6240\u6709\u503c\u90fd\u8fdb\u884c\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u3002\n\nCode\n-\n```cpp\n#include<cstdio>\n#define MAXN 502\nusing namespace std;\nint minn(int a,int b){return a<b?a:b;}\nint qr(){\n\tchar ch=getchar();int s=0;\n\twhile(ch<'0'||ch>'9')ch=getchar();\n\twhile(ch>='0'&&ch<='9'){\n\t\ts=s*10+ch-'0';ch=getchar();\n\t}return s;\n}int T,sl,tl,man[MAXN<<1],r,kmps1[MAXN<<1],kmps2[MAXN<<1],kmp1[MAXN],kmp2[MAXN],tmp;\nchar s[MAXN],t[MAXN<<1];bool flag,can[MAXN<<1],can2[MAXN<<1];\nint main(){\n\tT=qr();\n\twhile(T--){\n\t\tfor(int i=1;i<=tl;i++)man[i]=can[i]=can2[i]=0;\n\t\tscanf(\"%s%s\",s+1,t+1);r=1;flag=false;\n\t\tfor(sl=0;s[sl+1]!='\\0';sl++);\n\t\tfor(tl=0;t[tl+1]!='\\0';tl++);kmps2[tl]=0;\n\t\tfor(int i=2;i<=tl;i++){//manacher\n\t\t\tif(i<r+man[r])man[i]=minn(man[(r<<1)-i],r+man[r]-i);\n\t\t\twhile(i-man[i]>1&&t[i-man[i]-1]==t[i+man[i]+1])man[i]++;\n\t\t\tif(i+man[i]>r+man[r])r=i;\n\t\t}for(int i=2;i<=tl;i++){//\u524d\u7f00\u7684KMP\u5339\u914d\u9884\u5904\u7406\n\t\t\ttmp=kmps1[i-1];\n\t\t\twhile(tmp&&t[tmp+1]!=t[i])tmp=kmps1[tmp];\n\t\t\tif(t[tmp+1]==t[i])tmp++;kmps1[i]=tmp;\n\t\t}for(int i=tl-1;i>0;i--){//\u7ffb\u8f6c\u540e\u7684\u540e\u7f00\u7684KMP\u5339\u914d\u9884\u5904\u7406\n\t\t\ttmp=kmps2[i+1];\n\t\t\twhile(tmp&&t[tl-tmp]!=t[i])tmp=kmps2[tl-tmp+1];\n\t\t\tif(t[tl-tmp]==t[i])tmp++;kmps2[i]=tmp;\n\t\t}for(int i=1;i<=sl;i++){//\u524d\u7f00\u7684KMP\u5339\u914d\n\t\t\ttmp=kmp1[i-1];\n\t\t\twhile(tmp&&t[tmp+1]!=s[i])tmp=kmps1[tmp];\n\t\t\tif(tmp<tl&&t[tmp+1]==s[i])tmp++;\n\t\t\tkmp1[i]=tmp;can[kmp1[i]]=true;\n\t\t}for(int i=1;i<=sl;i++){//\u7ffb\u8f6c\u540e\u7684\u540e\u7f00\u7684KMP\u5339\u914d\n\t\t\ttmp=kmp2[i-1];\n\t\t\twhile(tmp&&t[tl-tmp]!=s[i])tmp=kmps2[tl-tmp+1];\n\t\t\tif(tmp<tl&&t[tl-tmp]==s[i])tmp++;\n\t\t\tkmp2[i]=tmp;can2[kmp2[i]]=true;\n\t\t}for(int i=1;i<=tl;i++){\n\t\t\tif(man[i]==i-1)flag|=can2[tl-i+1];//\u5728\u524d\u534a\u6bb5\n\t\t\tif(man[i]==tl-i)flag|=can[i];//\u5728\u540e\u534a\u6bb5\n\t\t}if(flag)printf(\"YES\\n\");\n\t\telse printf(\"NO\\n\");\n\t}return 0;\n}\n```",
        "postTime": 1627122983,
        "uid": 184168,
        "name": "xuanxuan001",
        "ccfLevel": 8,
        "title": "\u9898\u89e3CF1553B\u3010Reverse String\u3011"
    },
    {
        "content": "## CF1553B\u9898\u89e3-by cunzai_zsy0531\n\n[\u9898\u9762](https://www.luogu.com.cn/problem/CF1553B)\n\n\u6ce8\u610f\u5230 $|s|\\leq 500$\uff0c\u53ef\u4ee5\u76f4\u63a5 $O(n^3)$ \u505a\uff1a\u679a\u4e3e\u4e00\u4e2a\u5f00\u5934\u4f4d\u7f6e\u3001\u4e00\u4e2a\u8f6c\u5f2f\u4f4d\u7f6e\u3001\u4e00\u4e2a\u7ed3\u675f\u4f4d\u7f6e\uff0c\u5224\u65ad\u80fd\u4e0d\u80fd\u5339\u914d\u4e0a $t$ \u7684\u6574\u4e2a\u5b57\u7b26\u4e32\u5373\u53ef\u3002\u5177\u4f53\u7ec6\u8282\u53ef\u4ee5\u53c2\u8003\u4ee3\u7801\u3002\n\ncode\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nconst int N=1000+13;//\u6570\u7ec4\u4e00\u5b9a\u4e0d\u80fd\u5f00\u5c0f\uff01\u6ce8\u610f\u9898\u4e2d\u7279\u6b8a\u7684\u6570\u636e\u8303\u56f4\u9650\u5236\uff01\nchar s[N],t[N];\nint n,m;\ninline void solve(){\n\tscanf(\"%s%s\",s+1,t+1);n=strlen(s+1),m=strlen(t+1);\n\tfor(int i=1;i<=n;++i){//\u679a\u4e3es\u4e2d\u7684\u8d77\u59cb\u4f4d\u7f6e\uff0c\u5148\u5411\u53f3\u8d70\n\t\tif(s[i]!=t[1]) continue;\n\t\tint r=1;\n\t\twhile(r+1<=m&&i+r<=n&&s[i+r]==t[r+1]) ++r;//\u9996\u5148\u627e\u5230\u80fd\u8d70\u5230\u7684\u6700\u53f3\u8fb9\u7684\u4f4d\u7f6e\n\t\tif(r==m) return void(puts(\"YES\"));\n\t\tfor(int j=1;j<=r;++j){//\u679a\u4e3e\u4ece\u54ea\u91cc\u5f00\u59cb\u8f6c\u5f2f\u5411\u5de6\u8d70\n\t\t\tint l=0;\n\t\t\twhile(l+1+j<=m&&i+j-l-2>=1&&s[i+j-l-2]==t[l+1+j]) ++l;//\u8fd9\u4e2a\u5730\u65b9\u4e0b\u6807\u7684\u52a0\u4e00\u51cf\u4e00\u8981\u6ce8\u610f\uff0c\u53ef\u4ee5\u624b\u753b\u4e00\u4e0b\u52a0\u6df1\u7406\u89e3\n\t\t\tif(l==m-j) return void(puts(\"YES\"));\n\t\t}\n\t}\n\tputs(\"NO\");\n}\nint main(){\n\tint T;scanf(\"%d\",&T);\n\twhile(T--) solve();\n\treturn 0;\n}\n//B\n```\n",
        "postTime": 1627102011,
        "uid": 160484,
        "name": "cunzai_zsy0531",
        "ccfLevel": 7,
        "title": "CF1553B\u9898\u89e3"
    },
    {
        "content": "\u6570\u636e\u8303\u56f4\u8f83\u5c0f\u3002\n\n- \u8003\u8651\u5148\u67e5\u627e\u5230\u8d77\u70b9\u3002\n\n- \u518d\u4ece\u8d77\u70b9\u5230\u7ed3\u5c3e\u679a\u4e3e\u65ad\u70b9\u3002\n\n- \u6700\u540e\u6a21\u62df\u4ece\u8d77\u70b9\u5230\u65ad\u70b9\u518d\u5f80\u56de\u8d70\u7684\u8def\u5f84\u5224\u65ad\u662f\u5426\u53ef\u884c\u5373\u53ef\u3002\n\n\u6ce8\u610f\uff1a\u5f53\u4ece\u65ad\u70b9\u5f80\u56de\u8d70\u7684\u8def\u5f84\u957f\u5ea6\u8d85\u8fc7\u65ad\u70b9\u5230\u8d77\u70b9\u957f\u5ea6\u65f6\u8981\u7279\u5224\u3002\n\n\u4ee3\u7801\u5982\u4e0b:\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint t,n,m,num,cnt;\nstring a,b;\nbool f=0;\nsigned main(){\n\tcin>>t;\n\twhile(t--){\n\t\tcin>>a>>b;\n\t\tn=a.length();\n\t\tm=b.length();\n\t\ta=' '+a;\n\t\tb=' '+b;\n\t\tf=0;\n\t\tfor(int i=1;i<=n;++i){\n\t\t\tif(a[i]==b[1]){\n\t\t\t\tfor(int j=i;j<=n;++j){\n\t\t\t\t\tf=1;\n\t\t\t\t\tfor(int k=i;k<=j;++k){\n\t\t\t\t\t\tif(a[k]!=b[k-i+1])f=0;\n\t\t\t\t\t}\n\t\t\t\t\tnum=m-j+i-1;\n\t\t\t\t\tif(num>=j){\n\t\t\t\t\t\tf=0;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tfor(int k=j-1;k>=j-num;--k){\n\t\t\t\t\t\tif(a[k]!=b[j-i+1+j-k])f=0;\n\t\t\t\t\t}\n\t\t\t\t\tif(f){\n\t\t\t\t\t\tputs(\"YES\");\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}if(f)break;\n\t\t}\n\t\tif(!f)puts(\"NO\");\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1627267407,
        "uid": 271736,
        "name": "Daidly",
        "ccfLevel": 6,
        "title": "CF1553B Reverse String \u9898\u89e3"
    },
    {
        "content": "\u6765\u4e00\u7bc7\u7eaf\u6b63\u7684 KMP \u9898\u89e3\uff0c\u4e0d\u9700\u8981\u8003\u8651\u4efb\u4f55\u56de\u6587\u7684\u6027\u8d28\uff0c\u6309\u7406\u8bf4\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n^2)$\uff0c\u4f46\u662f\u4e0d\u77e5\u9053\u4e3a\u5565\u6709\u4e2a $O(n^3)$ \u7684\u9898\u89e3\u8dd1\u7684\u6bd4\u6211\u5feb\u3002\u3002\n\n### \u9898\u76ee\u5927\u610f\n\n\u5bf9\u4e8e\u7ed9\u5b9a\u7684\u6587\u672c\u4e32 $s$\uff0c\u5224\u65ad\u53e6\u4e00\u4e2a\u5b57\u7b26\u4e32 $a$ \u662f\u5426\u53ef\u4ee5\u8868\u793a\u6210**\u4ece $s$ \u67d0\u4e00\u4f4d\u7f6e\u5f00\u59cb\uff0c\u5148\u5411\u53f3\u79fb\u518d\u5411\u5de6\u79fb\u7684\u8def\u5f84**\uff08\u6211\u4eec\u4e0d\u59a8\u79f0\u5176\u4e3a\u201c\u8def\u5f84\u4e32\u201d\uff09\u3002\n\n### \u89e3\u6790\n\n\u4e0d\u9700\u8981\u8003\u8651\u8d77\u59cb\u70b9\u4e0e\u7ec8\u6b62\u70b9\uff0c\u6211\u4eec\u53ea\u9700\u8981\u901a\u8fc7\u679a\u4e3e\u8def\u5f84\u7684\u65ad\u70b9 $i$\uff0c\u4fbf\u53ef\u5c06 $a$ \u5206\u4e3a\u4e24\u90e8\u5206\uff1a \u4e00\u90e8\u5206\u662f\u7531\u8d77\u59cb\u70b9\u81f3\u65ad\u70b9\u7684\u8def\u5f84 $a_1$\uff0c\u4ee5\u53ca\u7531\u65ad\u70b9\u81f3\u7ec8\u6b62\u70b9\u7684\u8def\u5f84 $a_2$\u3002\n\n\u6211\u4eec\u6ce8\u610f\u5230 $a_2$ \u662f\u5728\u6587\u672c\u4e32\u4e0a\u5012\u9000\u8d70\u800c\u5f62\u6210\u7684\u7684\u8def\u5f84\u4e32\uff0c\u90a3\u6211\u4eec\u8981\u5728\u6587\u672c\u4e32\u5012\u9000\u7740\u5339\u914d\uff0c\u5f88\u4e0d\u8212\u670d\uff0c\u4e8e\u662f\u6211\u4eec\u5e72\u8106\u5b58\u4e00\u4e2a $s$ **\u7684\u53cd\u8f6c\u4e32** $s_r$\uff0c\u8fd9\u6837\u4fbf\u53ef\u505a\u5230\u4e86\u5728 $s_r$\u4e0a\u8dd1\u5173\u4e8e$a_2$\u7684 KMP\uff0c\u4ece\u800c\u77e5\u9053\u662f\u5426\u6709\u8be5\u5b50\u4e32\u4e86\u3002\n\n\u82e5 $s_r$ \u5b58\u5728\u5339\u914d\u4e8e $pos$\uff0c\u6211\u4eec\u4fbf\u5c06 $pos$ \u5f80\u540e\u957f\u4e3a $a_1$\u7684\u4e32\u622a\u51fa\u6765\uff0c\u4e0e $a_1$\u7684**\u53cd\u8f6c\u4e32**\u8fdb\u884c\u6bd4\u5bf9\uff08\u6ce8\u610f\u5230\u6211\u4eec\u6b64\u65f6\u5df2\u7ecf\u5728 $s_r$ \u4e0a\u505a\u5339\u914d\uff09\uff0c\u82e5\u76f8\u7b49\uff0c\u90a3\u4e48\u5c31\u6210\u529f\u4e86\u3002\n\n\u6700\u540e\u5728\u7279\u5224\u4e00\u4e0b\u5b8c\u5168\u5305\u542b\u7684\u60c5\u51b5\uff0c\u5c31\u5b8c\u4e86\u3002\n\n\u4e0a\u6211\u4e11\u964b\u7684\u4ee3\u7801\uff1a\n```cpp\n#include <bits/stdc++.h>\n#define inf 2147483647\n#define maxn 5000\n#define ck cout<<\"OK\"<<endl\nusing namespace std;\n\nstring s,a,rs,ra;\n\nvector<int> check(string a)\n{\n\tint n=a.size(),p=0; vector<int> pr(n); \n\tfor (int i=1;i<n;i++) {\n\t\twhile (p && a[p]!=a[i]) p=pr[p-1];\n\t\tif (a[p] == a[i]) ++p; pr[i]=p;\n\t}\n\treturn pr;\n}\n\nvector<int> kmp(string a,string s)\n{\n\tvector<int> pr;\n\tvector<int> nex=check(a); \n\tint n=a.size(),p=0;\n\tfor (int i=0;i<s.size();i++) {\n\t\twhile (p && a[p]!=s[i]) p=nex[p-1];\n\t\tif (a[p] == s[i]) ++p;\n\t\tif (p == n)  pr.push_back(i-n+1);\n\t}\n\treturn pr;\n}\n\nbool fc(string s,vector<int> pos)\n{\n\tint l=s.size();\n\tfor (int i=0;i<pos.size();i++)\n\tif (pos[i]+l<=rs.size()) {\n\t\tstring a=rs.substr(pos[i],l);\n\t\tif (a==s) return 1;\n\t}\n\treturn 0;\n}\n\nint main()\n{\nint t; cin>>t;\nwhile (t--)\n{\tbool flag=0;\n\tcin>>s; rs=s; reverse(rs.begin(),rs.end());\n\tcin>>a; ra=a; reverse(ra.begin(),ra.end());\n\tfor (int i=0;!flag && i<a.size();i++)\n\t{\n\t\tstring rig=a.substr(i,a.size()-i);\n\t\tvector<int> pos = kmp(rig,rs);\n\t\tif ( !pos.empty() ) {\n\t\t\tstring raa=a.substr(0,i+1); reverse(raa.begin(),raa.end());\n\t\t\tif (fc(raa,pos)) flag=1;\n\t\t}\n\t}\n\tvector<int> ind=kmp(a,s); if (!ind.empty()) flag=1;\n\tind=kmp(ra,s); if (!ind.empty()) flag=1;\n\tcout<<(flag? \"YES\":\"NO\")<<endl; \n}\n\treturn 0;\n}\n\n```\n",
        "postTime": 1627142509,
        "uid": 15984,
        "name": "\u5929\u6cfd\u9f9f",
        "ccfLevel": 6,
        "title": "CF1553B Reverse String\u3010\u9898\u89e3\u3011\u3010KMP\u3011"
    },
    {
        "content": "\u9898\u610f\uff1a\n- \u7ed9\u4f60\u4e24\u4e2a\u5b57\u7b26\u4e32\u3002\n- \u73b0\u5728\u6709\u4e00\u4e2a\u5c0f\u7247\uff0c\u4f60\u53ef\u4ee5\u5c06\u5b83\u653e\u5728\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684**\u4efb\u610f\u4e00\u4e2a\u4f4d\u7f6e\u4e0a**\uff0c\u5f80\u53f3\u79fb\u52a8\u82e5\u5e72\u683c\uff08\u53ef\u4ee5\u4e3a $0$ \u683c\uff09\uff0c\u518d\u5f80\u5de6\u79fb\u52a8\u82e5\u5e72\u683c\uff08\u53ef\u4ee5\u4e3a $0$ \u683c\uff09\uff0c\u95ee\u5c0f\u7247**\u4ece\u7b2c\u4e00\u6b21\u5f00\u59cb\u8986\u76d6\u5230\u7684\u5b57\u7b26**\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\u53ef\u4e0d\u53ef\u4ee5\u4e3a\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e32\u3002\n- \u6bd4\u5982\u5b57\u7b26\u4e32\u4e3a `IAKIOI`\uff0c\u5982\u679c\u5c06\u5c0f\u7247\u653e\u5230\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e0a\uff0c\u5373 `A`\uff0c\u7136\u540e\u5411\u53f3\u79fb\u52a8 $2$ \u683c\uff0c\u518d\u5411\u5de6\u79fb\u52a8 $1$ \u683c\uff0c\u6700\u540e\u7684\u5b57\u7b26\u4e32\u5373\u4e3a `AKIK`\u3002\n\n****\n\n\u8fd9\u9053\u9898\u6211\u4eec\u53ef\u4ee5\u66b4\u529b\u3002\u6211\u4eec\u77e5\u9053\uff0c\u5c0f\u7247\u7684\u79fb\u52a8\u8fc7\u7a0b\u4e3a**\u5148\u53f3\u518d\u5de6**\uff0c\u4e0d\u53ef\u80fd\u5de6\u53f3\u4ea4\u53c9\u6216\u8005\u5148\u5de6\u518d\u53f3\u3002\u4e8e\u662f\uff0c\u6211\u4eec\u679a\u4e3e\u7684\u5c31\u662f**\u4ece\u5411\u53f3\u79fb\u52a8\u5230\u5411\u5de6\u79fb\u52a8\u7684\u5206\u754c\u7ebf**\u3002\u6700\u540e\uff0c\u5224\u65ad\u65f6\uff0c\u6211\u4eec\u9700\u8981\u66b4\u529b\u679a\u4e3e\u6bcf\u4e2a\u5f00\u59cb\u5904\uff0c**\u6309\u7740\u9898\u4e2d\u7ed9\u51fa\u7684\u65b9\u5411\u6a21\u62df\u4e00\u904d**\uff0c\u5982\u679c\u6b63\u597d\u7b26\u5408\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e32\uff0c\u8f93\u51fa `YES` \u5e76\u505c\u6b62\u3002\u5982\u679c\u4e00\u76f4\u6ca1\u6709\u7b26\u5408\u6761\u4ef6\u7684\uff0c\u8f93\u51fa `NO`\u3002\n\n\u5982\u679c\u8bbe\u7b2c\u4e00\u4e2a\u4e32\u7684\u957f\u5ea6\u4e3a $n$\uff0c\u7b2c\u4e8c\u4e2a\u7684\u957f\u5ea6\u4e3a $m$\uff0c\u5219\u590d\u6742\u5ea6\u7ea6\u4e3a $O(n\\times m^2)$\uff0c\u56e0\u4e3a\u66b4\u529b\u627e\u5206\u754c\u7ebf\u4e3a $O(m)$\uff0c\u5bfb\u627e\u5f00\u59cb\u5904 $O(n)$\uff0c\u6700\u540e\u7684\u5b57\u7b26\u4e32\u548c\u539f\u4e32\u4e00\u4e2a\u4e2a\u6bd4\u5bf9\u4e3a $O(m)$\u3002\u56e0\u4e3a\u9898\u76ee\u65f6\u95f4\u4e3a $3$ \u79d2\uff0c\u6240\u4ee5\u662f\u53ef\u4ee5\u7684\u3002\n\n### Code:\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nbool check(int c, string n, string m){\n    string p1 = m.substr(0, c + 1);\n    string p2 = m.substr(c + 1, m.length() - c);\n    if(p1.length() > n.length() || p2.length() > n.length()){\n    \treturn false;\n    }\n    for(int i = max(0, int(p2.length() - p1.length() + 1));i <= n.length() - p1.length();i++){\n        bool flag = false;\n        //\u6a21\u62df\uff0c\u6bd4\u5bf9\n        for(int j = 0;j < p1.length();j++){\n            if(n[i + j] != m[j]){\n                flag = true;\n                break;\n            }\n        }\n        for(int j = 0;j < p2.length();j++){\n            if(n[p1.length() + i - j - 2] != p2[j]){\n            \tflag = true;\n            \tbreak;\n\t        } \n        }\n        if(!flag){\n            return true; //\u7b26\u5408\u8981\u6c42\n        }\n    }\n    return false;\n}\nint main(){\n    int t;\n    cin >> t;\n    while(t--){\n        string s, p;\n        cin >> s >> p;\n        bool flag = false;\n        for(int i = 0;i < p.length();i++){\n            if(check(i, s, p)){\n            \tcout << \"YES\" << endl;\n            \tflag = true;\n            \tbreak;\n\t        }\n        }\n        if(!flag){ //\u5982\u679c\u4e00\u76f4\u6ca1\u6709\u7b26\u5408\u8981\u6c42\u7684\u8f93\u51fa NO\u3002\n            cout << \"NO\" << endl;\n\t    }\n    }\n    return 0;\n}\n```",
        "postTime": 1627012235,
        "uid": 302356,
        "name": "Eric_Cui",
        "ccfLevel": 0,
        "title": "CF1553B\u9898\u89e3"
    },
    {
        "content": "## \u601d\u8def\u5206\u6790\n\n\u7531\u4e8e\u6570\u636e\u5de8\u6c34\uff0c$O(n^3)$ \u80af\u5b9a\u80fd\u8fc7\uff0c~~\u6240\u4ee5\u50cf\u6211\u8fd9\u6837\u53ea\u4f1a\u66b4\u529b\u7684\u849f\u84bb\u5f00\u5fc3\u6781\u4e86~~\u3002\u5bf9\u4e8e KMP \u7684\u795e\u4ed9\uff0c\u849f\u84bb\u8ba4\u4e3a\u5927\u53ef\u4e0d\u5fc5\uff0c\u6bd5\u7adf\u4e5f\u6ca1\u53eb\u4f60\u627e\u5927\u91cf\u5b50\u4e32\u3002\n\n\u7b2c\u4e00\u6b65\uff1a\u5728\u5b57\u7b26\u4e32 $s$ \u4e2d\u679a\u4e3e $t[0]$ \u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u76f4\u63a5\u9000\u51fa\uff0c\u540c\u65f6\u8f93\u51fa \u201cNO\u201d\uff0c\u5982\u679c\u5fc3\u60c5\u597d\u7684\u8bdd\uff0c\u53ef\u4ee5\u679a\u4e3e\u4e00\u4e0b $t[x-1]$\uff0c\u5176\u4e2d\u8bbe $x=$`strlen(t)` \u3002\n\n\u7b2c\u4e8c\u6b65\uff1a\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u679a\u4e3e\u51fa\u7684 $t[0]$ \u4e00\u4e2a\u4e00\u4e2a\u5411\u524d\u5411\u540e\u679a\u4e3e\uff0c\u5982\u679c\u51fa\u73b0\u4e0d\u5b58\u5728\u7684\u60c5\u51b5\uff0c\u9000\uff0c\u8f93\u51fa \u201cNO\u201d\uff0c\u82e5\u627e\u5230\u6b63\u89e3\uff0c\u8f93\u51fa \u201cYES\u201d\u3002 \n\n~~\u4ee3\u7801\u5c31\u4e0d\u8d34\u4e86~~",
        "postTime": 1628417680,
        "uid": 314280,
        "name": "\u5f20\u8bed\u8bdaZYC",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 CF1553B \u3010Reverse String\u3011"
    },
    {
        "content": "\u672c\u9898\u5982\u679c\u7528\u7eaf\u66b4\u529b\u505a\u7684\u8bdd\uff08\u5373\u679a\u4e3e\u8d77\u70b9\u4e0e\u8f6c\u6298\u70b9\uff0c\u5411\u5de6\u5224\u65ad\u662f\u5426\u53ef\u884c\uff09\uff0c\u7406\u8bba\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(q|s|^2|t|)$\uff0c\u4f46\u662f\u5176\u5e38\u6570\u53ca\u5176\u4e4b\u5c0f\uff0c\u52a0\u4e0a\u526a\u679d\u540e\uff0c$|s|^2$ \u90a3\u4e24\u5c42\u5faa\u73af\u51e0\u4e4e\u662f\u4e00\u4e2a\u4e0d\u5927\u7684\u5e38\u6570\uff0c\u6240\u4ee5\u66b4\u529b\u5b8c\u5168\u80fd\u8fc7\u3002\n\n\u66b4\u529bCode\uff1a(\u7eaf\u66b4\u529b+\u57fa\u7840\u526a\u679d\uff0c15ms)\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint T;string s,t;int n,m;\nbool chk(int x,int y){\n\tint N=m-y+x;\n\tfor(int j=0;j<N;j++){\n\t\tint i=y-j;\n\t\tif(s[i]!=t[y-i+y-x])return false;\n\t\tif(y-i+y-x==m-1)return true;\n\t}\n\treturn true;\n}\nint main(){\n\tcin>>T;\n\twhile(T--){\n\t\tcin>>s>>t;\n\t\tn=(int)s.size(),m=(int)t.size();\n\t\tbool fl=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tif(s[i]!=t[0])continue;\n\t\t\tfor(int j=i;j<n;j++){\n\t\t\t\tif(s[j]!=t[j-i])break;\n\t\t\t\tif(chk(i,j)){\n\t\t\t\t\tcout<<\"YES\\n\";\n\t\t\t\t\tfl=1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(fl)break;\n\t\t}\n\t\tif(!fl)cout<<\"NO\\n\";\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1627283898,
        "uid": 351740,
        "name": "Sai_t",
        "ccfLevel": 7,
        "title": "CF1553B \u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1553B)\n\n\u4e00\u53e5\u8bdd\u9898\u610f\uff1a\u5728\u7ed9\u5b9a\u5b57\u7b26\u4e32 $s$ \u4e2d\uff0c\u53ef\u4ee5\u4ee5\u4efb\u610f\u70b9\u4e3a\u8d77\u70b9\uff0c\u5148\u5411\u53f3\u4efb\u610f\u683c\uff0c\u518d\u5411\u5de6\u4efb\u610f\u683c\uff0c\u5c31\u4f1a\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u5b57\u7b26\u4e32\uff0c\u6c42\u80fd\u5426\u5f97\u5230\u7ed9\u5b9a\u7684\u5b57\u7b26\u4e32 $t$\u3002\n\n\u663e\u7136\uff0c\u8d77\u70b9 $i$ \u5fc5\u987b\u6ee1\u8db3 $s_i=t_0$\u3002\u56e0\u6b64\u53ef\u4ee5\u679a\u4e3e\u51fa\u6240\u6709\u53ef\u80fd\u7684\u8d77\u70b9 $i$\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u53ef\u80fd\u7684\u8d77\u70b9 $i$\uff0c\u66b4\u529b\u5411\u4e0b\u679a\u4e3e\u6240\u6709\u53ef\u80fd\u7684\u62d0\u70b9 $j$\uff0c\u7136\u540e\u6839\u636e\u62d0\u70b9 $j$ \u7684\u4f4d\u7f6e\u5904\u7406\u51fa\u4e00\u4e2a\u957f\u5ea6\u4e0e $t$ \u76f8\u540c\u7684\u5b57\u7b26\u4e32\uff0c\u76f4\u63a5\u5224\u65ad\u8fd9\u4e2a\u5b57\u7b26\u4e32\u662f\u5426\u4e0e $t$ \u5b8c\u5168\u76f8\u540c\u5373\u53ef\u3002\u5982\u679c\u627e\u4e0d\u5230\u8fd9\u6837\u7684\u5b57\u7b26\u4e32\uff0c\u5219\u8bf4\u660e\u65e0\u89e3\u3002\n\n\u7ec6\u8282\uff1a\u591a\u6d4b\u4e00\u5b9a\u8981\u6e05\u7a7a\uff01\u6bcf\u6b21\u5904\u7406\u65b0\u5b57\u7b26\u4e32\u65f6\u8981\u6e05\u7a7a\u539f\u5b57\u7b26\u4e32\uff01\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(q|s|^2)$\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define back return\n#define ri register int\n#define ull unsigned long long\nusing namespace std;\nint read()\n{\n    int x=0,f=1;\n\tchar ch=getchar();\n    while(ch<'0'||ch>'9')\n    {\n      \tif(ch=='-')\n      \t\tf=-1;\n      \tch=getchar();\n    }\n    while(ch>='0'&&ch<='9')\n    {\n      \tx=x*10+ch-'0';\n      \tch=getchar();\n    }\n    back x*f;\n}\nchar s[10001],t[10001],s1[10001];\nint q,n;\nint main()\n{\n\tcin>>q;\n\twhile(q--)\n\t{\n\t\tmemset(s1,0,sizeof(s1));\n\t\tbool flag=0;\n\t\tcin>>s>>t;\n\t\tint ls=strlen(s),lt=strlen(t);\n\t\tfor(ri i=0;i<ls;i++)\n\t\t{\n\t\t\tif(s[i]==t[0])\n\t\t\t{\n\t\t\t\tmemset(s1,0,sizeof(s1));\n\t\t\t\tfor(ri j=i;j<=ls;j++)\n\t\t\t\t{\n\t\t\t\t\tint lsbl=-1;\n\t\t\t\t\tfor(ri k=i;k<=j;k++)\n\t\t\t\t\t\ts1[++lsbl]=s[k];\n\t\t\t\t\tfor(ri k=j-1;k>=0&&lsbl<lt-1;k--)\n\t\t\t\t\t\ts1[++lsbl]=s[k];\n\t\t\t\t\tif(strcmp(s1,t)==0)\n\t\t\t\t\t{\n\t\t\t\t\t\tcout<<\"YES\"<<endl;\n\t\t\t\t\t\tflag=1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\t\t\tif(flag==1)\n\t\t\t\tbreak;\n\t\t\t\n\t\t}\n\t\tif(flag==0)\n\t\t\tcout<<\"NO\"<<endl;\n\t}\n    back 0;\n}\n```\n",
        "postTime": 1627141746,
        "uid": 93266,
        "name": "\u65ad\u6e05\u79cb",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011CF1553B Reverse String"
    },
    {
        "content": "\u770b\u5927\u5bb6\u53c8\u662f~~\u770b\u6bdb\u7247~~KMP\u53c8\u662f\u56de\u6587\u4e32\u7684\uff0c\u5176\u5b9e\u4e0d\u81f3\u4e8e\u3002\u8d5b\u65f6\u968f\u624b\u7cca\u4e86\u4e00\u4e2a\u5c0f\u7684\u66b4\u529b\uff0c\u4e00\u4e0d\u5c0f\u5fc3\u5c31\u8fc7\u4e86\uff0c\u8d5b\u540e\u4e5f\u6ca1\u6709FST\u3002\n\n\u4ed4\u7ec6\u89c2\u5bdf\u76ee\u6807\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u53d1\u73b0\u6211\u4eec\u5fc5\u7136\u8981\u628a\u9009\u62e9\u4e00\u4e2a\u65ad\u70b9\uff0c\u5c06\u76ee\u6807\u5b57\u7b26\u4e32\u5206\u6210\u4e24\u6bb5\uff0c\u5206\u522b\u5728\u539f\u5b57\u7b26\u4e32\u5185\u8fdb\u884c\u5339\u914d\uff0c\u5f88\u663e\u7136\uff0c\u65ad\u70b9\u524d\u7684\u90a3\u4e00\u6bb5\u9700\u8981\u6b63\u5411\u5339\u914d\uff0c\u800c\u65ad\u70b9\u540e\u7684\u4e00\u6bb5\u5219\u9700\u8981\u9006\u5411\u5339\u914d\u3002\n\n\u90a3\u4e48\u4e24\u6bb5\u5339\u914d\u65f6\u5728\u539f\u5b57\u7b26\u4e32\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\u5462\uff1f\u55ef\uff0c\u6ca1\u9519\uff0c\u7b2c\u4e00\u6bb5\u7684\u8d77\u70b9\u53ef\u4ee5\u9009\u62e9\uff0c\u800c\u7b2c\u4e8c\u6bb5\u7684\u8d77\u70b9\u5fc5\u7136\u4e3a\u7b2c\u4e00\u6bb5\u7684\u7ec8\u70b9\u7684**\u524d\u4e00\u4e2a\u5b57\u7b26**\uff08\u6ce8\u610f\u7b2c\u4e8c\u6bb5\u662f**\u9006\u5411\u5339\u914d**\uff09\u3002\u81f3\u4e8e\u600e\u4e48**\u9006\u5411\u5339\u914d**\uff0c\u5176\u5b9e\u53ea\u9700\u8981\u5c06\u76ee\u6807\u5b57\u7b26\u4e32\u7ffb\u8f6c\u4e00\u4e0b\u5c31\u597d\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5f53\u505a**\u6b63\u5411\u5339\u914d**\u6765\u505a\u3002\n\n\u90a3\u4e48\u601d\u8def\u5c31\u5f88\u660e\u786e\u4e86\uff0c\u679a\u4e3e\u65ad\u70b9\uff0c\u679a\u4e3e\u4ee5\u7b2c\u4e00\u6bb5\u7684\u8d77\u70b9\uff0c\u7efc\u5408\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal{O}\\left(\\sum\\limits_{i=1}^q t_i^3 \\right)$\uff0c\u6216\u8005\u53ef\u4ee5\u5199\u6210 $\\mathcal{O}\\left(\\texttt{3s\u53ef\u4ee5\u8fc7} \\right)$.\n\n\n\u8d34\u4e2a\u4ee3\u7801\uff0c\u611f\u89c9\u5199\u7684\u86ee\u6e05\u695a\u7684\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std ;\nint ans = 2147483647 , T ;\nstring s , t ;\nbool flag ;\nint main()\n{\n\tcin >> T ;\n\twhile(T --)\n\t{\n\t\tcin >> s >> t ;\n\t\tflag = 0 ;\n\t\tstring s1 = s ;\n\t\treverse(s1.begin() , s1.end()) ;\n\t\t//cout << s << endl << s1 << endl ;\n\t\tint lens = s.size() ;\n\t\tint lent = t.size() ;\n\t\tfor(int i = 1 ; i <= lent ; i ++)\n\t\t{\n\t\t\tfor(int j = 0 ; j <= lens - i ; j ++)\n\t\t\t\tif(t.substr(0 , i) == s.substr(j , i) && t.substr(i , lent - i) == s1.substr(lens - j - i + 1, lent - i)) flag = 1 ;\n\t\t}\n\t\tif(flag) cout << \"Yes\" << endl ;\n\t\telse cout << \"No\" << endl ;\n\t}\n\treturn 0 ;\n}\n```",
        "postTime": 1627049652,
        "uid": 183026,
        "name": "Cocoly1990",
        "ccfLevel": 0,
        "title": "CF1553B Reverse String"
    },
    {
        "content": "# \u5b57\u7b26\u4e32\u677f\u5b50\n\n\u8003\u8651\u5982\u679c\u4e00\u4e2a  $t$   \u4e32\u662f\u5408\u6cd5\u7684\uff0c\u5206  $2$  \u79cd\u60c5\u51b5\u8ba8\u8bba\uff1a\n\n-   $t$  \u4e32\u88ab\u5b8c\u5168\u5305\u542b\u5728  $s$  \u4e32\u4e2d\u3002\n\n-   $t$  \u4e32\u7531\u6307\u9488\u6298\u8fd4\u4e86\u4e00\u6b21\u5f97\u5230\u3002\n\n\u7b2c\u4e00\u79cd\u60c5\u51b5\u76f4\u63a5\u66b4\u529b\u8dd1\u4e00\u904d  KMP  \u5c31\u884c\u4e86\u3002\n\n\u5bf9\u4e8e\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u8003\u8651\u7531\u4e8e\u6709\u6298\u8fd4\uff0c\u90a3\u4e48  $t$  \u957f\u5ea6\u4e3a\u5947\u6570\u7684\u56de\u6587\u4e32\u3002\n\n\u66b4\u529b\u5904\u7406\u4e00\u904d  $t$  \u5f97\u51fa\u56de\u6587\u4e32\u5373\u53ef\u3002\n\n\u679a\u4e3e\u6bcf\u4e00\u4e2a\u4f5c\u4e3a\u56de\u6587\u4e32\u7684\u524d\u7f00\u6216\u540e\u7f00\uff0c\u7531\u4e8e\u5148\u5411\u53f3\u518d\u5411\u505a\u8d70\uff0c\u7528\u56de\u6587\u4e32\u7684\u540e\u4e00\u534a\u8dd1  KMP  \uff0c\u5982\u679c\u5339\u914d\u4e0a\u4e86\uff0c\u66b4\u529b\u518d\u5339\u914d\u4e00\u4e0b\u5269\u4e0b\u7684\u5b57\u7b26\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u5177\u4f53\u6765\u8bf4\u5c31\u662f\uff1a\n\n- \u524d\u7f00\u4e3a\u56de\u6587\u4e32\uff1a\u6316\u6389\u56de\u6587\u524d\u7f00\u540e\u6b63\u7740\u8bb0\u5f55\u5269\u4e0b\u7684\u4e32\u3002\u5728\u5339\u914d\u6210\u529f\u4f4d\u7f6e\u5de6\u7aef\u70b9\u7684\u524d\u9762\u5012\u5e8f\u5339\u914d\u4e00\u4e0b\u8bb0\u5f55\u4e0b\u7684\u4e32\uff0c\u5982\u679c\u90fd\u80fd\u5339\u914d\u8bc1\u660e\u53ef\u4ee5\u3002\n\n- \u540e\u7f00\u4e3a\u56de\u6587\u4e32\uff1a\u6316\u6389\u56de\u6587\u540e\u7f00\u540e\u5012\u5e8f\u8bb0\u5f55\u5269\u4f59\u7684\u4e32\uff0c\u5982\u4e0a\u5728  KMP  \u4e2d\u5339\u914d\u3002\n\n\u6700\u5dee\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^3)$\uff0c\u5361\u7684\u8fc7\u53bb\u3002\n\n\uff08\u665a\u4e0a\u6253CF\u964d\u667a\u4e86\u7528\u4e86\u9a6c\u62c9\u8f66\u7b97\u56de\u6587\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u88ab\u8986\u76d6\u4e86\u8fd8\u8c03\u4e86\u597d\u4e45\uff09\n\n\u4ee3\u7801\n\n```\n#include<bits/stdc++.h>\n#define rep(a,b,c) for(register int c=(a);c<=(b);++c)\n#define drep(a,b,c) for(register int c=(a);c>=(b);--c)\n#define Clear(a)  memset(a,0,sizeof(a))\nusing namespace std;\ninline int read()\n{\n\tint res=0;char ch=getchar();bool flag=0;\n\twhile(ch<'0'||ch>'9')flag^=(ch=='-'),ch=getchar();\n\twhile(ch<='9'&&ch>='0')res=res*10+(ch^48),ch=getchar();\n\treturn flag ? -res : res ;\n}\nconst int N=2010;int ans[N];char s[N],t[N],s2[N];\nstruct Manacher\n{\n\tchar s[N<<1];\n\tinline void mnc(char *a,int *ans)\n\t{\n\t\tint A=strlen(a);int r=0,mid=0;rep(1,A-1,i)\n\t\t{\n\t\t\tif(i<=r){ans[i]=min(ans[(mid<<1)-i],r-i+1);}\n\t\t\twhile(a[i+ans[i]]==a[i-ans[i]])++ans[i];\n\t\t\tif(ans[i]+i>r)r=ans[i]+i,mid=i;\n\t\t}\n\t}\n\tinline int qry(char *q,int *res)\n\t{\n\t\tint Q=strlen(q),len=1;s[0]='$';s[1]='|';\n\t\trep(0,Q-1,i)s[++len]=q[i],s[++len]='|';\n\t\tmnc(s,res);return len;\n\t}\n}M;\nint nxt[N];inline bool kmp(char *a,char *b,char *c)\n{\n\tnxt[0]=nxt[1]=0;int A=strlen(a+1),B=strlen(b+1),C=strlen(c+1),j=0;\n\trep(2,B,i){while(j&&b[j+1]^b[i])j=nxt[j];j+=(b[i]==b[j+1]);nxt[i]=j;}\n\tj=0;rep(1,A,i)\n\t{\n\t\twhile(j&&b[j+1]^a[i])j=nxt[j];\n\t\tif((j+=(a[i]==b[j+1]))==B)\n\t\t{\n\t\t\tint st=i-j+1;bool flag1=1;\n\t\t\trep(1,C,k){--st;if(a[st]^c[k]||!st){flag1=0;break;}}\n\t\t\tif(flag1){return 1;}\n\t\t}\n\t}\n\treturn 0;\n}\n\nchar q[N],g[N];inline void Solve()\n{\n\tClear(g);Clear(q);\n\tscanf(\"%s%s\",s+1,t);int T=strlen(t);\n\trep(1,T,i)q[i]=t[i-1];if(kmp(s,q,g)){puts(\"Yes\");return;}\n\tint L=M.qry(t,ans);\n\trep(1,L,i)\n\t{\n\t\tif(ans[i]==i&&M.s[i]<='z'&&M.s[i]>='a')\n\t\t{\n\t\t\tmemset(g,0,sizeof(g));memset(q,0,sizeof(q));\n\t\t\tint l=i>>1;rep(1,l,j)q[j]=t[j-1];\n\t\t\tint tmp=0;rep(l<<1,T,j)g[++tmp]=t[j-1];\n//\t\t\tif(i==6){rep(1,tmp,k)putchar(g[k]);puts(\"\");rep(1,l,k)putchar(q[k]);puts(\"\");}\n\t\t\tif(kmp(s,q,g)){puts(\"Yes\");return;}\n\t\t}\n\t\tif(ans[i]==L-i+1&&M.s[i]<='z'&&M.s[i]>='a')\n\t\t{\n\t\t\tmemset(g,0,sizeof(g));memset(q,0,sizeof(q));\n\t\t\tint l=ans[i]>>1;int tmp=0;drep(T,T-l+1,j)q[++tmp]=t[j-1];\n\t\t\tint tmp2=0;int st=T-l+1-l;drep(st,1,j)g[++tmp2]=t[j-1];\n//\t\t\tif(ans[i]==4){rep(1,tmp2,k)putchar(g[k]);puts(\"\");rep(1,tmp,k)putchar(q[k]);puts(\"\");}\n\t\t\tif(kmp(s,q,g)){puts(\"Yes\");return;}\n\t\t}\n\t}\n\tputs(\"No\");\n}\nint main(){int T=read();while(T--)Solve();return 0;}\n```",
        "postTime": 1627013115,
        "uid": 191281,
        "name": "Jr_Zlw",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1553B Reverse String"
    }
]