[
    {
        "content": "\u6765\u4e00\u4e2a\u8d85\u7ea7\u597d\u60f3\u7684\u89e3\u6cd5\u3002\n\n\u8fd9\u9053\u9898\u7ed9\u4e86\u4e00\u68f5 $n$ \u4e2a\u70b9\u7684\u6811\uff0c\u8981\u6c42\u6211\u4eec\u6784\u9020 $n$ \u4e2a\u533a\u95f4\uff0c\u4f7f\u5f97\u5bf9\u4e8e\u4efb\u610f\u4e24\u4e2a\u533a\u95f4 $i,j$\uff0c\u5982\u679c\u5b83\u4eec\u4e4b\u95f4\u76f8\u4ea4\u4f46\u662f\u6ca1\u6709\u5305\u542b\u5173\u7cfb\uff0c\u5219 $i,j$ \u4e4b\u95f4\u6709\u8fb9\uff1b\u53cd\u4e4b\u5219\u65e0\u8fb9\u3002\n\n\u663e\u7136\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u70b9 $u$\uff0c\u53d6\u4efb\u610f\u4e24\u4e2a\u4e0e\u4e4b\u76f8\u8fde\u7684\u70b9 $v_1,v_2$\uff0c\u5219\u7b2c $v_1$ \u4e2a\u533a\u95f4\u548c\u7b2c $v_2$ \u4e2a\u533a\u95f4\u4e00\u5b9a\u4e0d\u76f8\u4ea4\u6216\u8005\u5305\u542b\u3002\n\n\u4e0d\u59a8\u6211\u4eec\u53ea\u8ba9\u4e00\u4e2a\u90bb\u63a5\u7684\u70b9\u5728\u5de6\u8fb9\u4e0e $u$ \u76f8\u4ea4\uff0c\u5269\u4e0b\u7684\u90fd\u5728\u53f3\u8fb9\u548c $u$ \u76f8\u4ea4\uff0c\u5e76\u4e92\u76f8\u5305\u542b\u3002\n\n\u4e8e\u662f\u6211\u4eec\u6574\u7406\u4e00\u4e0b\u601d\u8def\uff0c\u5c31\u6709\u65b9\u6cd5\u4e86\uff1a\n\n- \u4ece $1$ \u5f00\u59cb dfs\uff0c`dfs(u)` \u4e4b\u524d $u$ \u7684\u5de6\u7aef\u70b9\u5df2\u7ecf\u786e\u5b9a\u4e3a $l_u$\u3002\n- \u4fdd\u5b58\u4e00\u4e2a\u5168\u5c40 $R$\uff0c\u521d\u59cb $R=1$\u3002\n- \u6bcf\u6b21\u8fdb\u5165 $u$ \u8282\u70b9\u65f6\uff0c\u5982\u679c $u$ \u6709 $k$ \u4e2a\u513f\u5b50\uff0c$R$ \u589e\u52a0 $k+1$\u3002\n- \u4f9d\u6b21\u904d\u5386\u6240\u6709\u513f\u5b50\uff0c\u5bf9\u4e8e\u7b2c $i$ \u4e2a\u513f\u5b50 $v_i$\uff0c\u786e\u5b9a $l_{v_i}=r_u-i$\uff0c\u5e76\u9012\u5f52 $v_i$\u3002\n\n\u5177\u4f53\u770b\u4ee3\u7801\u3002\n\n```cpp\n#include <iostream>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\nusing namespace std;\n\n#define getchar() (p1==p2&&(p2=(p1=buf)+fread(buf,1,1<<21,stdin),p1==p2)?EOF:*p1++)\nchar buf[1 << 21], *p1 = buf, *p2 = buf;\n\ninline int qread() {\n\tregister char c = getchar();\n\tregister int x = 0, f = 1;\n\twhile (c < '0' || c > '9') {\n\t\tif (c == '-') f = -1;\n\t\tc = getchar();\n\t}\n\twhile (c >= '0' && c <= '9') {\n\t\tx = (x << 3) + (x << 1) + c - 48;\n\t\tc = getchar();\n\t}\n\treturn x * f;\n}\n\ninline int Abs(const int& x) {return (x > 0 ? x : -x);}\ninline int Max(const int& x, const int& y) {return (x > y ? x : y);}\ninline int Min(const int& x, const int& y) {return (x < y ? x : y);}\n\nstruct Edge {\n\tint to, nxt;\n\tEdge() {\n\t\tnxt = -1;\n\t}\n};\nint n, hd[500005], pnt, ansl[500005], ansr[500005], rpnt, dgr[500005];\nEdge e[1000005];\n\ninline void AddEdge(int u, int v) {\n\te[++pnt].to = v;\n\te[pnt].nxt = hd[u];\n\thd[u] = pnt;\n}\n\ninline void Read() {\n\tn = qread();\n\tfor (register int i = 1;i < n;i++) {\n\t\tregister int u = qread(), v = qread();\n\t\tAddEdge(u, v);\n\t\tAddEdge(v, u);\n\t\tdgr[u]++; dgr[v]++;\n\t}\n}\n\ninline void Dfs(int u, int fa) {\n\tregister int cnt = 1;\n\tif (fa != -1) rpnt += dgr[u];\n\telse rpnt += dgr[u] + 1;\n\tansr[u] = rpnt;\n\tfor (register int i = hd[u];~i;i = e[i].nxt) {\n\t\tif (e[i].to != fa) {\n\t\t\tansl[e[i].to] = ansr[u] - cnt;\n\t\t\tcnt++;\n\t\t\tDfs(e[i].to, u);\n\t\t}\n\t}\n}\n\ninline void Solve() {\n\tansl[1] = 1;\n\trpnt = 1;\n\tDfs(1, -1);\n\tfor (register int i = 1;i <= n;i++) printf(\"%d %d\\n\", ansl[i], ansr[i]);\n}\n\nint main() {\n\tmemset(hd, -1, sizeof(hd));\n\tRead();\n\tSolve();\n\t#ifndef ONLINE_JUDGE\n\twhile (1);\n\t#endif\n\treturn 0;\n}\n\n```",
        "postTime": 1595678655,
        "uid": 61088,
        "name": "Solystic",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1278E \u3010Tests for problem D\u3011"
    },
    {
        "content": "@\u571f\u7530\u5171\u6208 \u7684\u9898\u89e3\u8bf4\u5f97\u5f88\u597d\uff0c\u4f46\u662f\u6b64\u9898\u4e0d\u9700\u8981\u4ec0\u4e48\u542f\u53d1\u5f0f\u5408\u5e76\u3002\n\n\u6784\u9020\u7b56\u7565\uff1a\n\n- \u904d\u5386\u8282\u70b9 $x$ \u7684\u6bcf\u4e2a\u513f\u5b50\uff0c\u5206\u522b\u5904\u7406\u8fd9\u4e9b\u513f\u5b50\u5bf9\u5e94\u7684\u5b50\u6811\u3002\u6b64\u65f6\u8fd9\u4e9b\u513f\u5b50\u7684\u53f3\u7aef\u70b9\u5c1a\u672a\u786e\u5b9a\u3002\n\n- \u65b0\u5b89\u6392\u4e00\u4e2a\u4f4d\u7f6e\uff08``idx++``\uff09\uff0c\u5b83\u662f $x$ \u7684\u5de6\u7aef\u70b9\u3002\n\n- \u9006\u5e8f\u904d\u5386 $x$ \u7684\u6bcf\u4e2a\u513f\u5b50\uff0c\u4f9d\u6b21\u5411\u53f3\u5b89\u6392\u5b83\u4eec\u7684\u53f3\u7aef\u70b9\uff08``idx++``\uff09\u3002\n\n\u5177\u4f53\u89c1\u4ee3\u7801\u3002\n\n~~\u4e5f\u63a8\u8350\u770b@\u571f\u7530\u5171\u6208 \u7684\u56fe\u89e3\u3002~~\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nint N;\nint lnk[500005];\nint pre[1000005],tgt[1000005],cnt;\nvoid add_E(int u,int v){\n\tpre[++cnt]=lnk[u],tgt[cnt]=v,lnk[u]=cnt;\n}\n\nint idx;\nint ANSL[500005],ANSR[500005];\nint stk[500005],len;\nvoid DFS(int x,int f){\n\tfor(int e=lnk[x];e;e=pre[e]) if(tgt[e]!=f)\n\t\tDFS(tgt[e],x);\n\tfor(int e=lnk[x];e;e=pre[e]) if(tgt[e]!=f)\n\t\tstk[++len]=tgt[e];\n\tANSL[x]=++idx;\n\twhile(len)\n\t\tANSR[stk[len]]=++idx,len--;\n}\n\nint main(){\n\tscanf(\"%d\",&N);\n\tfor(int i=1;i<N;i++){\n\t\tint u,v;scanf(\"%d%d\",&u,&v);\n\t\tadd_E(u,v);add_E(v,u);\n\t}\n\tDFS(1,0);\n\tANSR[1]=++idx;\n\tfor(int i=1;i<=N;i++)\n\t\tprintf(\"%d %d\\n\",ANSL[i],ANSR[i]);\n}\n```",
        "postTime": 1578917185,
        "uid": 58567,
        "name": "x\u4e49x",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1278E \u3010Tests for problem D\u3011"
    },
    {
        "content": "### Preface\n\n\u81ea\u8ba4\u4e3a\u8fd9\u662f\u76ee\u524d\u6700\u77ed\u4ee3\u7801\u3002\n\n### Analysis\n\n\u4ee5 $1$ \u4e3a\u6839\uff0cDFS \u6574\u68f5\u6811\u3002\u6bcf\u4e2a\u8282\u70b9\u5982\u56fe\u6784\u9020\uff0c\u6bcf\u4e2a\u5b50\u6811\u9012\u5f52\u4e0b\u53bb\u3002\u7531\u4e8e\u4e0b\u4e00\u4e2a\u5b50\u6811\u7684\u8d77\u59cb\u4f4d\u7f6e\u7531\u4e0a\u4e00\u4e2a\u5b50\u6811\u7684\u5927\u5c0f\u51b3\u5b9a\uff0c\u6211\u4eec DFS \u65f6\u4f20\u56de\u7ed3\u675f\u4f4d\u7f6e\u5373\u53ef\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/f62cuqs9.png)\n\n\uff08\u56fe\u4e2d\u865a\u7ebf\u6846\u8868\u793a\u5b50\u6811\u9012\u5f52\uff09\n\n\u65f6\u95f4 $O(n)$\n\n### Code\n\n[Link](https://codeforces.com/contest/1278/submission/150411285)\n\n```cpp\n//Said no more counting dollars. We'll be counting stars.\n#pragma GCC optimize(\"Ofast\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define IOS ios::sync_with_stdio(0);cin.tie(0);cout.tie(0)\n#define pb emplace_back\n#define fir first\n#define sec second\n#define For(i,j,k) for(int i=j;i<=k;i++)\n#define N 500010\n#define endl '\\n'\nint n;\npair<int,int> a[N];\nvector<int> e[N];\nint dfs(int rt,int fa,int le){\n\ta[rt].sec=le+e[rt].size();//e.size=cnt_son+1\n\tint L=a[rt].sec,R=a[rt].sec;\n\tfor(int i:e[rt]){\n\t\tif(i==fa) continue;\n\t\ta[i].fir=--L;\n\t\tR=dfs(i,rt,R);\n\t}\n\treturn R;\n}\nsigned main(){IOS;\n\tcin>>n;\n\tint x,y;\n\tFor(i,1,n-1){\n\t\tcin>>x>>y;\n\t\te[x].pb(y);e[y].pb(x);\n\t}\n\te[1].pb(0);\n\ta[1].fir=1;\n\tdfs(1,0,1);\n\tFor(i,1,n) cout<<a[i].fir<<\" \"<<a[i].sec<<endl;\nreturn 0;}\n```",
        "postTime": 1647915350,
        "uid": 101868,
        "name": "I_am_Accepted",
        "ccfLevel": 0,
        "title": "CF1278E Tests for problem D"
    },
    {
        "content": "\u7ec8\u4e8e\u505a\u51fa\u6765\u4e86\uff0c\u6211\u89c9\u5f97\u6211\u628a\u6784\u9020\u4e0d\u51fa\u6765\u7684\u60f3\u6cd5\u90fd\u8bd5\u4e86\u4e2a\u904d\uff08\n\n\u9996\u5148\u8fd9\u68f5\u6811\u53ef\u80fd\u662f\u591a\u53c9\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u4f60\u4e0d\u53ef\u80fd\u901a\u8fc7\u628a\u4e00\u4e2a\u70b9\u548c\u5b83\u7684\u513f\u5b50\u901a\u8fc7\u4e0d\u540c\u7684\u76f8\u4ea4\u65b9\u5f0f\u8fde\u5728\u4e00\u8d77\uff0c\u5373\u4f60\u4e0d\u80fd\u5bf9\u4e8e\u4e00\u4e2a\u513f\u5b50\u628a\u5b83\u7684\u53f3\u7aef\u70b9\u653e\u5728\u81ea\u5df1\u7684\u533a\u95f4\u91cc\uff0c\u800c\u5bf9\u53e6\u4e00\u4e2a\u513f\u5b50\u5219\u662f\u5de6\u7aef\u70b9\u3002\u6240\u4ee5\u5fc5\u987b\u662f\u8986\u76d6\uff0c\u6bd4\u5982\u5bf9\u4e8e\u7b80\u5355\u7684 $1 \\to 2, 1 \\to 3$ \u7684\u6811\u5f97\u662f \n\n![](https://s4.ax1x.com/2022/01/26/7qZSaQ.png)\n\n\u90a3\u4e48\u5982\u4f55\u518d\u8fde\u4e0a\u5176\u5b83\u7684\u5b50\u6811\u5462\uff1f\u76f4\u63a5\u518d\u628a\u524d\u9762\u90fd\u76d6\u6389\u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a\u8fd9\u6837\u8981\u628a\u51e0\u4e2a\u5b50\u6811\u5408\u5e76\u5728\u4e00\u8d77\u7684\u65f6\u5019\u4f1a\u4f7f\u5b83\u548c\u5b83\u7684\u5b50\u5b50\u5b59\u5b59\u90fd\u8fde\u4e0a\u8fb9\u3002\u800c\u524d\u9762\u6211\u4eec\u77e5\u9053\u4e0d\u80fd\u901a\u8fc7\u4e0d\u540c\u7684\u65b9\u5f0f\u76f8\u4ea4\uff0c\u6240\u4ee5\u5fc5\u987b\u5728\u524d\u9762\u90a3\u4e2a\u5b50\u6811\u7684\u53e6\u4e00\u4e2a\u65b9\u5411\u7ee7\u7eed\u52a0\u70b9\u5e76\u4fdd\u8bc1\u5b8c\u5168\u4e0d\u4ea4\uff0c\u5373\u8fd9\u6837\n\n![](https://s4.ax1x.com/2022/01/26/7quum6.png)\n\n\u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u8981\u4e48\u8986\u76d6\u8981\u4e48\u5b8c\u5168\u6ca1\u6709\u4ea4\u3002\u6700\u540e\u628a\u6700\u53f3\u8fb9\u7684\uff08\u7ea2\u8272\uff09\u8fde\u8d77\u6765\u5c31\u662f\u628a\u5b50\u6811\u5408\u5e76\u4e86\u3002\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u6709\u4e86\u4e00\u4e2a\u5927\u6982\u7684\u6784\u9020\u60f3\u6cd5\uff0c\u53ef\u662f\u5982\u4f55\u53bb\u5b9e\u73b0\u8fd9\u6837\u7684\u4e00\u4e2a\u60f3\u6cd5\u5462\uff1f\u8fd9\u4e5f\u662f\u8fd9\u9898\u5f88\u6709\u8da3\u7684\u4e00\u4e2a\u5730\u65b9\u3002\u6211\u4eec\u5e76\u4e0d\u80fd\u4e00\u4e0b\u5b50\u901a\u8fc7\u4e00\u79cd\u987a\u5e8f\u5f97\u51fa\u6bcf\u6761\u7ebf\u6bb5\u7684\u5de6\u53f3\u7aef\u70b9\uff0c\u56e0\u4e3a\u4e00\u4e2a\u70b9\u7684\u53f3\u7aef\u70b9\u8981\u5f80\u53f3\u62d3\u5c55\u662f\u6536\u5230\u5b83\u5b50\u6811\u7684\u9650\u5236\u7684\uff0c\u800c\u5b83\u5b50\u6811\u7684\u5de6\u7aef\u70b9\u5411\u5de6\u62d3\u5c55\u4e0a\u662f\u53d7\u5230\u5b83\u9650\u5236\u7684\uff0c\u4e14\u6709\u7684\u60c5\u51b5\u4e0b\u8fd8\u8981\u7a7a\u51fa\u4e00\u4e2a\u70b9\u6765\u4e00\u8fb9\u5b83\u7684\u7236\u4eb2\u8fde\u5411\u5b83\u3002\n\n\u4e3a\u4e86\u89e3\u51b3\u987a\u5e8f\u4e0d\u540c\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u5148\u53cd\u5411\u786e\u5b9a\u4e0b\u6765\u53f3\u7aef\u70b9\uff0c\u56e0\u4e3a\u4e00\u4e2a\u70b9\u76f4\u63a5\u76f8\u8fde\u7684\u5b50\u8282\u70b9\u7684\u53f3\u7aef\u70b9\u662f\u4e0d\u9700\u8981\u9012\u5f52\u5c31\u53ef\u4ee5\u76f4\u63a5\u786e\u5b9a\u7684\u3002\u7136\u540e\u518d\u8bbe\u7f6e\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u4f5c\u4e3a\u5de6\u8fb9\u7684\u8fb9\u754c\uff0c\u5728\u5f80\u4e0b\u9012\u5f52\u7684\u65f6\u5019\u6839\u636e\u662f\u5426\u9700\u8981\u9884\u7559\u4e00\u4e2a\u8282\u70b9\uff08\u7b2c\u4e00\u4e2a\u5b50\u6811\u9700\u8981\uff09\u51b3\u5b9a\u662f\u5426\u591a\u62d3\u5bbd\u4e00\u4e2a\u5de6\u8fb9\u754c\uff0c\u518d\u9012\u5f52\u4e0b\u53bb\u5373\u53ef\u3002\u6700\u540e\u628a\u5f53\u524d\u70b9\u7684\u5de6\u7aef\u70b9\u653e\u5230\u4e0b\u9762\u9884\u7559\u51fa\u6765\u7684\u90a3\u4e2a\u70b9\u4e0a\uff08\u513f\u5b50\u5c31\u591a\u62d3\u5c55\u4e00\u4e2a\uff09\u3002\n\n\u5b9e\u73b0\u6211\u4f7f\u7528\u4e86\u5de6\u95ed\u53f3\u95ed\u533a\u95f4\u5e76\u901a\u8fc7\u8fd4\u56de\u503c\u4f20\u9012\u7a7a\u51fa\u7684\u8282\u70b9\u3002\n\n```cpp\nint dfs(int u, int fa, int rb, int op) {\n    int an = 0;\n    if (op) an = --rb;\n    for (int i = (int)g[u].size()-1; i >= 0; i--) {\n        int v = g[u][i];\n        if (v == fa) continue;\n        R[v] = --rb;\n    }\n    lb = rb;\n    int flag = 0, sp = 0;\n    for (int v : g[u]) if (v != fa) {\n        if (!flag) sp = dfs(v, u, lb, 1), flag = 1;\n        else dfs(v, u, lb, 0);\n    }\n    if (flag) L[u] = sp;\n    else L[u] = --lb;\n    return an;\n}\nvoid main() {\n\tstd::cin >> n;\n\tfor (int i = 1, x, y; i < n; i++) {\n\t    std::cin >> x >> y;\n\t    g[x].push_back(y), g[y].push_back(x);\n\t} \n\tlb = 1;\n\tdfs(1, 0, 0, 0);\n\tint min = std::min(*std::min_element(L + 1, L + 1 + n),\n\t                   *std::min_element(R + 1, R + 1 + n));\n\tfor (int i = 1; i <= n; i++)\n\t    L[i] -= min - 1, R[i] -= min - 1;\n\tfor (int i = 1; i <= n; i++) std::cout << L[i] << ' ' << R[i] << '\\n';\n}\n```",
        "postTime": 1643162386,
        "uid": 499996,
        "name": "Qiaoqia",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1278E Tests for problem D"
    }
]