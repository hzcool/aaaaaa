[
    {
        "content": "###### \u91cd\u65b0\u7528latex\u6e32\u67d3\u4e86\u4e00\u4e0b\n\n# \u76ee\u524d\u6700\u5feb\u7684\u65b9\u6cd5\n## \u601d\u8def\uff1a\n\u5f00\u4e24\u4e2a\u6570\u7ec4\uff0c\u7c7b\u4f3c\u524d\u7f00\u548c\u4e0e\u540e\u7f00\u548c $(\\text {sumf,sumb})$\uff0c\u4e00\u4e2a\u8bb0\u5f55\u524d $i$ \u4e2a\u8282\u70b9\u5230\u7b2c $i$ \u8282\u70b9\u6700\u5c0f\u8ddd\u79bb\u7684\u8282\u70b9\uff08\u524d\u7f00\u6700\u4f18\u70b9\uff09\uff0c\u4e00\u4e2a\u8bb0\u5f55\u4ece $n+m$ \u5230\u7b2c $i$ \u8282\u70b9\u7684\u6700\u5c0f\u8ddd\u79bb\u7684\u8282\u70b9\uff08\u540e\u7f00\u6700\u4f18\u70b9\uff09\u3002\n\n\u904d\u5386\u6bcf\u4e00\u4e2a $i$\uff0c\u6bd4\u8f83 $\\text {sumf}$ \u4e0e $\\text {sumb}$ \u5927\u5c0f\u5373\u53ef\u3002$\\text {sumf}_0,\\text {sumb}_{n+m+1}$\u9644\u65e0\u7a77\u5927\u8868\u793a $0$ \u8282\u70b9\u4e4b\u524d\u65e0\u53f8\u673a\u548c $n+m+1$ \u8282\u70b9\u540e\u65e0\u53f8\u673a\u3002\n\n\u6ce8\u610f\uff1a\u56e0\u4e3a\u6700\u540e\u8f93\u51fa\u7684\u662f\u6570\u7ec4\uff0c\u6240\u4ee5\u8981\u5728\u8282\u70b9\u65e0\u7a77\u5927\u7684\u5730\u65b9\u7279\u5224\u3002\n\n### $\\text {Code}$\n\n```cpp\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nconst int N = 1e5 + 5;\n\nint sumf[N * 2], sumb[N * 2];\nint ans[N * 2];\n\nstruct Node {\n\tint z, s;\n} a[N * 2];\n\nint main() {\n\tint n, m;\n\tscanf(\"%d %d\", &n, &m);\n\tfor (int i = 1; i <= n + m; i++) \n\t\tscanf(\"%d\", &a[i].z);\n\tfor (int i = 1; i <= n + m; i++)\n\t\tscanf(\"%d\", &a[i].s);//\u6309\u4ece\u5c0f\u5230\u5927\u7ed9\u7684\u6570\u636e\uff0c\u4e0d\u7528sort \n\t\n\tsumf[0] = sumb[n + m + 1] = 214748364;//\u65e0\u7a77\u5927\u8868\u793a\u6ca1\u6709\u53f8\u673a \n\t\n\tfor (int i = 1; i <= n + m; i++) {//\u524d\u7f00\u6700\u4f18 \n\t\tif (a[i].s == 1)\n\t\t\tsumf[i] = i;\n\t\telse\n\t\t\tsumf[i] = sumf[i - 1];\n\t}\n\t\n\tfor (int i = n + m; i >= 1; i--) {//\u540e\u7f00\u6700\u4f18 \n\t\tif (a[i].s == 1)\n\t\t\tsumb[i] = i;\n\t\telse\n\t\t\tsumb[i] = sumb[i + 1];\n\t}\n\t\n\tfor (int i = 1; i <= n + m; i++) {\n\t\tif (a[i].s == 0) {\n\t\t\tif (sumf[i] == 214748364 && sumb[i] < 214748364) {//\u7279\u5224\uff0c\u4e0d\u7136\u4f1a\u4e0b\u6807\u8d8a\u754c \n\t\t\t\tans[sumb[i]]++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ((sumb[i] == 214748364 && sumf[i] < 214748364)) {//\u540c\u4e0a \n\t\t\t\tans[sumf[i]]++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (a[i].z - a[sumf[i]].z <= a[sumb[i]].z - a[i].z) {\n\t\t\t\tans[sumf[i]]++;\n\t\t\t} else {\n\t\t\t\tans[sumb[i]]++;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfor (int i = 1; i <= n + m; i++) {\n\t\tif (a[i].s == 1)//\u662f\u53f8\u673a\u5c31\u8f93\u51fa \n\t\t\tprintf(\"%d \", ans[i]);\n\t}\n\treturn 0;\n}\n```\n\n#### \u8bc4\u6d4b\u7ed3\u679c\uff1a\n![\u975eO2](https://cdn.luogu.com.cn/upload/image_hosting/eogystt0.png)\nPS\uff1a\u5f53\u7136\uff0c\u8fd9\u4e5f\u53ea\u662f\u76ee\u524d\u6700\u5feb\u7684\uff0c\u539f\u56e0\u662f\u505a\u7684\u4eba\u4e0d\u591a\u3002\u611f\u8c22@[\u505a\u68a6\u60f3Peach](https://www.luogu.com.cn/user/239030)\u63d0\u4f9b\u7684latex\u6e32\u67d3\u3002",
        "postTime": 1603721345,
        "uid": 247992,
        "name": "_Cloud_",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 CF1075B \u3010Taxi drivers and Lyft\u3011"
    },
    {
        "content": "## \u601d\u8def\n\n### \u4e8c\u5206\u67e5\u627e\n\n##### \u5bf9\u4e8e\u6bcf\u4e2a\u4e58\u5ba2\uff0c\u67e5\u627e\u4ed6\u5728\u54ea\u4e24\u4e2a\u53f8\u673a\u4e2d\u95f4\uff0c\u5224\u65ad\u54ea\u4e2a\u66f4\u8fd1\u5c31\u53ef\u4ee5\u4e86\n\n## \u4ee3\u7801\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint n,m,driver[100001],a[200001],rider[100001],d,rr,p,s[100001];//s\u4e3a\u8ba1\u6570\u6570\u7ec4\nint find(int x){//\u4e8c\u5206\u67e5\u627e\u5728driver[]\u4e2d\u6700\u540e\u4e00\u4e2a\u5c0f\u4e8e\u7b49\u4e8ex\u7684\u6570\n\tint l=1,r=m;\n\twhile(l<=r){\n\t\tint mid=(l+r)>>1;\n\t\tif(x<driver[mid]) r=mid-1;\n\t\telse l=mid+1;\n\t}\n\treturn r;\n}\nint main()\n{\n\tcin>>n>>m;\n\tfor(int i=1;i<=n+m;i++) cin>>a[i];\n\tfor(int i=1;i<=n+m;i++){//\u8f93\u5165\uff0c\u50a8\u5b58\n\t\tcin>>p;\n\t\tif(p) driver[++d]=a[i];\n\t\telse rider[++rr]=a[i];\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tint k=find(rider[i]);\n\t\tif(k==m) s[m]++;//\u7279\u5224\n\t\telse{\n\t\t\tif(!k) s[1]++;\n\t\t\telse\n\t\t\tif(driver[k+1]-rider[i]<rider[i]-driver[k]) s[k+1]++;\n\t\t\telse s[k]++;\n\t\t}\n\t}\n\tfor(int i=1;i<=m;i++) cout<<s[i]<<' ';\n} \n```\n",
        "postTime": 1580299614,
        "uid": 75137,
        "name": "Weak_Konjak",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1075B \u3010Taxi drivers and Lyft\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cd O(n) \u7684\u89e3\u6cd5\u3002\n\n\u5f88\u660e\u663e\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u7684\u74f6\u9888\u5728\u4e8e\u67e5\u627e\u6700\u8fd1\u7684\u53f8\u673a\u3002\n\n\u6ce8\u610f\u5230 $x_i$ \u5355\u8c03\u9012\u589e\uff0c\u8003\u8651\u7528\u4e00\u4e2a\u6307\u9488 l \u4f9d\u6b21\u904d\u5386\u5224\u65ad\u3002\n\n~~\u5176\u4ed6\u7684\u5177\u4f53\u770b\u4ee3\u7801\u3002~~\n\n### Code:\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n,m,x[200001],a[100001],b[100001],t,cnt1,cnt2,l,ans[100001];\nsigned main()\n{\n\tcin>>n>>m;\n\tfor(int i=1;i<=n+m;i++)cin>>x[i];\n\tfor(int i=1;i<=n+m;i++)\n\t{\n\t\tcin>>t;\n\t\tif(!t)a[++cnt1]=x[i];\n\t\telse b[++cnt2]=x[i];\n\t}\n\tl=1;\n\tb[m+1]=1e15;//\u5c06\u53f3\u8fb9\u754c\u8bbe\u4e3a\u6781\u5927\u503c\n\tb[0]=-1e15;//\u5c06\u5de6\u8fb9\u754c\u8bbe\u4e3a\u6781\u5c0f\u503c\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\twhile(l<=m&&b[l]<a[i])l++;l--;\n\t\tif(a[i]-b[l]<=b[l+1]-a[i])ans[l]++;\n\t\telse ans[l+1]++;\n\t}\n\tfor(int i=1;i<=m;i++)cout<<ans[i]<<' ';\n}\n```\n",
        "postTime": 1649600042,
        "uid": 495053,
        "name": "Frost2008",
        "ccfLevel": 0,
        "title": "CF1075B Taxi drivers and Lyft \u9898\u89e3"
    },
    {
        "content": "\u539f\u6bd4\u8d5b\u9898\u89e3\uff1a[https://www.cnblogs.com/nblyz2003/p/9907114.html](https://www.cnblogs.com/nblyz2003/p/9907114.html) \n\n\u9898\u610f\uff1a\u4e00\u6761\u8def\u4e0a\u6709n\u4e2a\u4e58\u5ba2\u548cm\u4e2a\u51fa\u79df\u8f66\u53f8\u673a\uff0c\u7ed9\u4f60\u4ed6\u4eec\u7684\u5750\u6807\uff08\u589e\u5e8f\u4e14\u4fdd\u8bc1\u6ca1\u6709\u5750\u6807\u76f8\u540c\uff09\uff0c\u6bcf\u4e2a\u4e58\u5ba2\u4f1a\u5411\u6700\u8fd1\u7684\u4e00\u4e2a\u53f8\u673a\u53d1\u9001\u8ba2\u5355\uff0c\u5047\u5982\u6709\u4e24\u4e2a\u6700\u8fd1\u7684\u53f8\u673a\uff0c\u53d1\u7ed9\u5750\u6807\u5c0f\u7684\u3002\u6c42\u6bcf\u4e2a\u53f8\u673a\u4f1a\u6536\u5230\u591a\u5c11\u4e2a\u8ba2\u5355\u3002\n\n\u7528\u6570\u7ec4res[i].first\u8bb0\u5f55\u7b2ci\u4e2a\u4eba\uff08\u4e58\u5ba2\uff09\u6700\u8fd1\u7684\u53f8\u673a\u8ddd\u79bb\uff0cres[i].second\u8bb0\u5f55\u4e0b\u6807\uff08\u56e0\u4e3a\u6709\u5e8f\uff0c\u53ea\u8981\u4e0b\u6807\u5c0f\u5750\u6807\u4e5f\u4e00\u5b9a\u5c0f\uff09\uff0c\u5373\u4f1a\u6536\u5230\u8ba2\u5355\u7684\u53f8\u673a\u3002\n\n\u53ea\u8981\u5bf9\u4e8e\u6bcf\u4e2a\u53f8\u673a\uff0c\u5411\u524d\u540e\u5206\u522b\u627e\u6240\u6709\u7684\u4e58\u5ba2j\uff0c\u66f4\u65b0res[j]\uff0c\u9047\u5230\u522b\u7684\u53f8\u673a\u5c31\u505c\u6b62\u3002\u6700\u540e\u518d\u8bb0\u5f55\u6bcf\u4e2a\u53f8\u673a\u6536\u5230\u7684\u8ba2\u5355\u3002\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <vector>\n#define rep(x, l, r) for(int x = (int)l; x <= (int)r; x++)\n#define repd(x, r, l) for(int x = (int)r; x >= (int)l; x--)\n#define clr(x,y) memset(x, y, sizeof(x))\n#define all(x) begin(x), end(x)\n#define pb push_back\n#define mp make_pair\n#define MAXN 200005\n#define fi first\n#define se second\n#define SZ(x) ((int)x.size())\nusing namespace std;\ntypedef long long LL;\ntypedef vector<int> vi;\ntypedef pair<int, int> pii;\nconst int INF = 1 << 30;\nconst int p = 10000007;\n//head by DYH\n\npii res[MAXN];\nint a[MAXN], ans[MAXN];\nbool flag[MAXN];\n\nint main(){\n    int n, m;\n    scanf(\"%d%d\", &n, &m);\n    rep(i, 1, n + m){\n        scanf(\"%d\", &a[i]);\n        res[i] = mp(INF, INF);\n    }\n    rep(i, 1, n + m) scanf(\"%d\", &flag[i]);\n    rep(i, 1, n + m){\n        if(flag[i]){\n            repd(j, i - 1, 1){\n                if(flag[j]) break;\n                res[j] = min(res[j], mp(a[i] - a[j], i));\n            }\n            rep(j, i + 1, n + m){\n                if(flag[j]) break;\n                res[j] = min(res[j], mp(a[j] - a[i], i));\n            }\n        }\n    }\n    rep(i, 1, n + m)\n        if(!flag[i]) ans[res[i].se]++;\n    rep(i, 1, n + m)\n        if(flag[i]) printf(\"%d \", ans[i]);\n    puts(\"\");\n    return 0;\n}\n```",
        "postTime": 1541639648,
        "uid": 149312,
        "name": "wze\u63cd\u6241\u4e86nm",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1075B \u3010Taxi drivers and Lyft\u3011"
    },
    {
        "content": "**[\u9898\u89e3 \u3010CF1075B Taxi drivers and Lyft\u3011](https://www.luogu.com.cn/problem/CF1075B)**    \n# Solution  \n\n\u89c2\u5bdf\u6570\u636e\u8303\u56f4\uff0c\u53d1\u73b0 $\\mathcal{O(nm)}$ \u7684\u7b97\u6cd5\u662f\u8dd1\u4e0d\u8fc7\u53bb\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u4e0d\u80fd\u901a\u8fc7\u679a\u4e3e $a_i$ \u6765\u89e3\u51b3\u95ee\u9898\u3002  \n\u53d1\u73b0\u6240\u6709\u7684\u5750\u6807\u90fd\u662f\u5355\u8c03\u7684\uff0c\u800c\u4e14\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4e58\u5ba2\u6765\u8bf4\uff0c\u63a5\u5979\u7684\u8f66\u53ea\u4f1a\u662f\u5728\u79bb\u5979**\u6700\u8fd1\u7684\u5de6\u8fb9\u7684\u4e00\u8f86\u548c\u79bb\u5979\u6700\u8fd1\u7684\u53f3\u8fb9\u7684\u4e00\u8f86\u4e2d\u9009\u6700\u5c0f\u503c**\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u4e8c\u5206\u6765\u8ba1\u7b97\u51fa\u8fd9\u4e24\u8f86\u8f66\u7684\u5750\u6807\u6700\u540e\u5f97\u5230\u89e3\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal{O(n\\log m)}$\u3002  \n~~\u6700\u540e\u8d34\u4e00\u4e0b\u6700\u4f18\u89e3\u4ee3\u7801\u3002~~  \n# Code  \n```cpp\n#include <cstdio>\n#include <cctype>\n#include <algorithm>\nusing namespace std;\n\n#define gc getchar\ninline int read() {\n\tint c = gc(), t = 1, n = 0;\n\twhile(isspace(c)) { c = gc(); }\n\tif(c == '-') { t = -1, c = gc(); }\n\twhile(isdigit(c)) { n = n * 10 + c - '0', c = gc(); }\n\treturn n * t;\n}\n#undef gc\n\nconst int N = 2e5 + 9;\n\nint a[N],b[N],p[N],d[N],ans[N];\nint n,m,np,nd,id;\n\nint main() {\n\tn = read(); m = read();\n\tfor(int i = 1;i <= n + m;i++) a[i] = read();\n\tfor(int i = 1;i <= n + m;i++) b[i] = read();\n\tfor(int i = 1;i <= n + m;i++) {\n\t\tif(b[i] == 0) p[++np] = a[i];\n\t\telse d[++nd] = a[i];\n\t}\n\tsort(d + 1,d + m + 1);\n\td[0] = -1e9;\t//\u6ce8\u610f\uff0c\u8fd9\u91cc\u4e00\u5b9a\u8981\u8bbe\u7acb\u6781\u9650\u503c\uff0c\u4e0d\u7136\u6709\u53ef\u80fd\u4f1a\u6709\u4e58\u5ba2\u4e0a\u4e86 0 \u53f7\u9ed1\u8f66\uff08\u9003\n\tfor(int i = 1;i <= n;i++) {\n\t\tif(p[i] >= d[m]) { ans[m]++; continue; }\t//\u90fd\u6bd4\u6700\u8868\u6700\u5927\u7684\u5927\u4e86\uff0c\u90a3\u4e48\u53ea\u80fd\u6709\u6700\u540e\u4e00\u8f86\u8f66\u6765\u63a5\u4ed6\n\t\tid = lower_bound(d + 1,d + m + 1,p[i]) - d;\t//\u5426\u5219\u8ba1\u7b97\u7b2c\u4e00\u4e2a\u5927\u4e8e\u7b49\u4e8e\u4ed6\u7684\u5750\u6807\u7684\u8f66\uff08\u53f3\u8fb9\u79bb\u4ed6\u6700\u8fd1\u7684\uff09\n\t\tif(d[id] - p[i] >= p[i] - d[id - 1]) ++ans[id - 1];\n\t\telse ++ans[id];\n\t}\n\tfor(int i = 1;i <= m;i++) printf(\"%d \",ans[i]);\n\treturn 0;\n}\n\n```",
        "postTime": 1619763681,
        "uid": 86971,
        "name": "TRZ_2007",
        "ccfLevel": 5,
        "title": "CF1075B Taxi drivers and Lyft"
    }
]