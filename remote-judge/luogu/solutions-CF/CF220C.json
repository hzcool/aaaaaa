[
    {
        "content": "\u53e6\u4e00\u7bc7\u592a\u795e\u4ed9\u4e86\u6ca1\u770b\u61c2\uff0c\u5199\u4e00\u4e2a\u4eba\u80fd\u770b\u7684\u61c2\u7684\u3002\n\n\u89c2\u5bdf\u5230\u5bf9\u4e8e\u4e00\u6b21\u5faa\u73af\u79fb\u52a8\uff0c\u4e00\u4e2a\u5143\u7d20\u8981\u4e48\u8ddd\u79bb $ -1 $\uff0c\u8981\u4e48\u88ab\u5faa\u73af\u79fb\u52a8\u5230\u5e8f\u5217\u7684\u6700\u540e\uff0c\u4e8e\u662f\u53ef\u4ee5\u8003\u8651\u5f00\u4e00\u4e2a\u96c6\u5408\u7ef4\u62a4\u5f53\u524d\u7684\u8ddd\u79bb\uff0c\u5148\u628a\u8be2\u95ee\u79bb\u7ebf\u4e0b\u6765\uff0c\u7136\u540e\u6309\u987a\u5e8f\u56de\u7b54\u8be2\u95ee\uff0c\u6bcf\u6b21\u4e8c\u5206\u5f53\u524d\u7684\u6700\u77ed\u8ddd\u79bb\uff0c\u7136\u540e\u5012\u7740\u904d\u5386\u4e00\u904d\uff0c\u8003\u8651\u4e4b\u524d\u7684\u6700\u5c0f\u503c\u80fd\u66f4\u65b0\u5f53\u524d\u8ddd\u79bb\u7684\u60c5\u51b5\uff0c\u6b63\u53cd\u904d\u5386\u4e00\u904d\u5373\u53ef\u3002\n\n\u56e0\u4e3a\u6d89\u53ca\u5230\u4e8c\u5206\u4ee5\u53ca\u6307\u9488\u7684\u79fb\u52a8\u3002\u4e8e\u662f\u8003\u8651\u7528\u5230 set \u5b9e\u73b0\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $ \\mathcal{O}(n\\log{n}) $\uff0c\u53ef\u4ee5\u901a\u8fc7\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#import <bits/stdc++.h>\nusing namespace std;\nint to[101000];\nint dif[101000];\nint ans[101000];\nint main()\n{\n    int n,i,j;\n    scanf(\"%d\",&n);\n    for(i=1;i<=n;i++)\n    {\n        int a;\n        scanf(\"%d\",&a);\n        to[a]=i;\n    }\n    for(i=1;i<=n;i++)\n    {\n        int a;\n        scanf(\"%d\",&a);\n        dif[i]=to[a]-i;\n        ans[i]=101000;\n    }\n    ans[0]=101000;\n    set<int> XD;\n    for(i=1;i<=n;i++)\n    {\n        XD.insert(dif[i]);\n        auto it=XD.lower_bound(n-i);\n        if(it!=XD.end())\n        ans[i]=min(ans[i],abs(*it-(n-i)));\n        if(it!=XD.begin())\n        {\n            it--;\n            ans[i]=min(ans[i],abs(*it-(n-i)));\n        }\n    }\n    XD.clear();\n    for(i=n;i>=1;i--)\n    {\n        XD.insert(dif[i]);\n        auto it=XD.lower_bound(-(i-1));\n        if(it!=XD.end())\n        ans[i-1]=min(ans[i-1],abs(*it+(i-1)));\n        if(it!=XD.begin())\n        {\n            it--;\n            ans[i-1]=min(ans[i-1],abs(*it+(i-1)));\n        }\n    }\n    ans[0]=min(ans[0],ans[n]);\n    for(i=0;i<n;i++)\n    printf(\"%d\\n\",ans[i]);\n}\n```\n",
        "postTime": 1670625862,
        "uid": 714821,
        "name": "loser_seele",
        "ccfLevel": 4,
        "title": "CF220C\u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\n\u5728\u6392\u5217 $b$ \u7684\u6eda\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u7ef4\u62a4\u6392\u5217 $a$ \u4e0e $b$ \u6bcf\u4e2a\u76f8\u540c\u7684\u6570\u7684\u8ddd\u79bb\u7684\u6700\u5c0f\u503c\u3002\n### \u601d\u8def\n\u53ef\u4ee5\u53d1\u73b0\u5bf9\u4e8e\u6bcf\u4e2a\u6570\uff0c\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u662f\u4e00\u4e2a\u4e09\u6761\u4ee5\u5185\u7ebf\u6bb5\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u76f4\u63a5\u628a\u7ebf\u6bb5\u622a\u8ddd\u4e0e\u5b9a\u4e49\u57df\u9884\u5904\u7406\uff0c\u7528\u626b\u63cf\u7ebf\u52a0\u4f18\u5148\u961f\u5217\u5206\u522b\u7ef4\u62a4\u6eda\u52a8\u8fc7\u7a0b\u659c\u7387 $\\pm1$ \u76f4\u7ebf\u7684\u622a\u8ddd\u3002  \n\u5177\u4f53\u7ec6\u8282\u770b\u4ee3\u7801\u3002\n### \u4ee3\u7801\n```\n#include<cstdio>\n#include<vector>\n#include<algorithm>\n#include<queue>\nint n;\nint a[100009],A[100009],b[100009];\nstruct T\n{\n\tint b,l,r;\n\tbool operator<(const T&aa)const\n\t{\n\t\treturn this->b>aa.b;\n\t}\n};\nstd::priority_queue<T>qu1;//up\uff0c\u659c\u7387 +1\nstd::vector<T>q1;\nstd::priority_queue<T>qu2;//down\uff0c\u659c\u7387 -1\nstd::vector<T>q2;\nbool CC(T aa,T bb)\n{\n\treturn aa.l<bb.l;\n}\nint min(int u,int v)\n{\n\treturn (u<v)?u:v;\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i(1);i<=n;++i)scanf(\"%d\",a+i),A[a[i]]=i;\n\tfor(int i(1);i<=n;++i)\n\t{\n\t\tscanf(\"%d\",b+i);\n\t\t//\u9884\u5904\u7406\u51fa\u4e09\u6761\u7ebf\u6bb5\u7684\u622a\u8ddd\u4e0e\u5b9a\u4e49\u57df\n\t\tif(A[b[i]]>i)\n\t\t{\n\t\t\tq1.push_back((T){A[b[i]]-i,0,i-1});\n\t\t\tq2.push_back((T){i+n-A[b[i]],i,i+n-A[b[i]]});\n\t\t\tif(A[b[i]]!=i+1)q1.push_back((T){A[b[i]]-i-n,i+n-A[b[i]]+1,n-1});\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(A[b[i]]<i)\n\t\t\t{\n\t\t\t\tq2.push_back((T){i-A[b[i]],0,i-A[b[i]]});\n\t\t\t\tif(A[b[i]]!=1)q1.push_back((T){A[b[i]]-i,i-A[b[i]]+1,i-1});\n\t\t\t\tif(i!=n)q2.push_back((T){n-A[b[i]]+i,i,n-1});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tq1.push_back((T){0,0,i-1});\n\t\t\t\tif(i!=1)q2.push_back((T){n,i,n-1});\n\t\t\t}\n\t\t}\n\t}\n\tstd::sort(q1.begin(),q1.end(),CC);\n\tstd::sort(q2.begin(),q2.end(),CC);\n\tfor(int i(0),j(0),k(0);i<n;++i)\n\t{\n\t\twhile(j<q1.size()&&q1[j].l<=i)\n\t\t{\n\t\t\tqu1.push(q1[j]);\n\t\t\t++j;\n\t\t}\n\t\twhile(k<q2.size()&&q2[k].l<=i)\n\t\t{\n\t\t\tqu2.push(q2[k]);\n\t\t\t++k;\n\t\t}\n\t\t//\u8d85\u8fc7\u5b9a\u4e49\u57df\u7684\u5220\u9664\n\t\twhile(!qu1.empty()&&qu1.top().r<i)qu1.pop();\n\t\twhile(!qu2.empty()&&qu2.top().r<i)qu2.pop();\n\t\tint ans(0x7f7f7f7f);\n\t\tif(!qu1.empty())ans=min(ans,qu1.top().b+i);\n\t\tif(!qu2.empty())ans=min(ans,qu2.top().b-i);\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn (0-0)/1.;\n}\n```",
        "postTime": 1657025889,
        "uid": 145017,
        "name": "2018ty43",
        "ccfLevel": 7,
        "title": "CF220C Little Elephant and Shifts\u9898\u89e3"
    }
]