[
    {
        "content": "\u7528$ruo_i$\u5b58\u6bd4\u7b2c$i$\u4e2a\u7a0b\u5e8f\u5458\u5f31\u7684\u4eba\u6570\n\n\u7528$h_i$\u5b58\u548c\u7b2c$i$\u4e2a\u7a0b\u5e8f\u5458\u6709\u51b2\u7a81\u4e14\u6bd4\u4ed6\u5f31\u7684\u4eba\u6570\n\n\u7b54\u6848\u662f$ruo_i-h_i$\n\n\u8f93\u5165\u65f6\u5373\u53ef\u6c42$h$\uff0c\u7528\u6392\u5e8f\u6c42$ruo$\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nint n,m,r[200001],s[200001],ruo[200001],h[200001];\nbool cmp(int a,int b){\n\treturn r[a]<r[b];\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;++i)scanf(\"%d\",&r[i]),s[i]=i;\n\tfor(int i=1;i<=m;++i){\n\t\tint x,y;\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tif(r[x]>r[y])++h[x];\n\t\tif(r[x]<r[y])++h[y];\n\t}\n\tsort(s+1,s+n+1,cmp); //\u4f7f\u7528\u4e0b\u6807\u6392\u5e8f\uff0cs\u5b58\u4e0b\u6807\n\tfor(int i=2;i<=n;++i){\n\t\tif(r[s[i]]>r[s[i-1]])ruo[s[i]]=i-1; //\u9012\u63a8\u6c42ruo\n\t\telse ruo[s[i]]=ruo[s[i-1]];\n\t}\n\tfor(int i=1;i<=n;++i)printf(\"%d \",ruo[i]-h[i]);\n}\n```",
        "postTime": 1526643131,
        "uid": 35406,
        "name": "\u300c\u5df2\u6ce8\u9500\u300d",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF978F \u3010Mentors\u3011"
    },
    {
        "content": "\u5148\u5047\u8bbe\u6ca1\u6709\u4eba\u53d1\u751f\u53e3\u89d2\u3002\n\n\u90a3\u4e48\u6bcf\u4e2a\u4eba\u7684\u7b54\u6848\u5c31\u662f\u539f\u6570\u7ec4\u4e2d**\u4e25\u683c\u5c0f\u4e8e**\u81ea\u5df1\u80fd\u529b\u503c\u7684\u4eba\u6570\u3002\n\n\u5bf9\u4e8e\u8fd9\u90e8\u5206\uff0c\u53e6\u5f00\u4e00\u4e2a\u6570\u7ec4\uff0c```sort+lower_bound```\u53ef\u4ee5\u5904\u7406\u3002\n\n\u6ce8\u610f ```sort+lower_bound``` \u662f\u6c42\u539f\u6570\u7ec4\u4e2d**\u7b2c\u4e00\u4e2a**\u5927\u4e8e\u7b49\u4e8e\u67d0\u4e2a\u6570\u7684\u6570\u7684\u4e0b\u6807\uff0c\u5982\u679c\u76f4\u63a5\u7528\u4e8c\u5206\u67e5\u627e\uff0c\u5c31\u53ef\u80fd\u591a\u7b97\u7b54\u6848\u3002\n\n\u90a3\u4e48\u6709\u4eba\u53d1\u751f\u53e3\u89d2\u5462\uff1f\n\n\u60f3\u8c61\u4e00\u4e0b\uff0c\u5982\u679c\u6709\u4e2a\u4eba\u539f\u6765\u53ef\u4ee5\u5f53\u5bf9\u65b9\u7684\u5bfc\u5e08\uff0c\u4f46\u662f\u7531\u4e8e\u53d1\u751f\u4e86\u53e3\u89d2\uff0c\u635f\u5931\u7684\u5c31\u53ea\u6709\u4ed6\u4e00\u4e2a\u4eba\u3002\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5c06\u80fd\u529b\u5927\u7684\u90a3\u4e2a\u4eba\u627e\u51fa\u6765\uff0c\u5c06\u5176\u7b54\u6848\u51cf$1$\u5373\u53ef\u3002\n\n\u90a3\u4e48\u5982\u679c\u4e24\u4e2a\u4eba\u80fd\u529b\u503c\u76f8\u7b49\u5462\uff1f\n\n\u663e\u7136\uff0c\u672c\u6765\u53cc\u65b9\u90fd\u4e0d\u80fd\u505a\u5bf9\u65b9\u7684\u5bfc\u5e08\uff0c~~\u53d1\u751f\u53e3\u89d2\u4e5f\u6ca1\u4ec0\u4e48\u5173\u7cfb~~\n\n\u90a3\u4e48\u8fd9\u79cd\u60c5\u51b5\u5c31\u8df3\u8fc7\u5c31\u884c\u5566~ \n\n## code:\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read()\n{\n\tchar ch=getchar();int x=0,r=1;\n\twhile(ch<'0'||ch>'9'){if(ch=='-')r=0;ch=getchar();}\n\twhile(ch>='0'&&ch<='9')x=(x<<3)+(x<<1)+ch-'0',ch=getchar();\n\treturn r?x:-x;\n}//\u5feb\u8bfb \nint n,m,a[200100],b[200100],ans[200100],x,y;\nsigned main()\n{\n\tn=read();m=read();\n\tfor(int i=1;i<=n;++i)a[i]=b[i]=read();\n\tsort(b+1,b+n+1);\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tint l=lower_bound(b+1,b+n+1,a[i])-b;//\u7b2c\u4e00\u4e2a\u7b49\u4e8ea[i]\u7684\u6570\u7684\u4f4d\u7f6e\uff0c\u5373\u524d\u9762\u90fd\u5c0f\u4e8ea[i]\n\t\tans[i]=l-1;//\u5373\u6709\u591a\u5c11\u4eba\u6bd4\u4ed6\u5f31 \n\t}\n\twhile(m--)\n\t{\n\t\tx=read();y=read();\n\t\tif(a[x]<a[y])ans[y]--;\n\t\tif(a[y]<a[x])ans[x]--;//\u5c06\u53d1\u751f\u53e3\u89d2\u7684\u4e24\u4eba\u5173\u7cfb\u6392\u9664 \n\t}\n\tfor(int i=1;i<=n;++i)printf(\"%d \",ans[i]); \n\treturn 0;//\u517b\u6210\u597d\u4e60\u60ef \n}\n```\n",
        "postTime": 1636962861,
        "uid": 217233,
        "name": "SqrtSecond",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011CF978F"
    },
    {
        "content": "### \u9898\u76ee\u63cf\u8ff0\n\n[\u767e\u5ea6\u7ffb\u8bd1\uff08\u4ec5\u4f9b\u53c2\u8003\uff09](https://www.luogu.com.cn/paste/85d7rkbu)\n\n### \u7b97\u6cd5\uff1a\u4e8c\u5206\uff0c\u6392\u5e8f\n\n\u9996\u5148\u9884\u5148\u5904\u7406\u597d\u5435\u67b6\u7684\u4e8b\uff0c\u7136\u540e\u6309\u4ed6\u4eec\u5404\u81ea\u7684\u5b9e\u529b\u503c\u6392\u5e8f\uff0c\u63a5\u7740\u5c31\u662f\u9700\u8981\u67e5\u627e\u6700\u540e\u4e00\u4e2a\u5c0f\u4e8e $r_i$ \u80fd\u529b\u503c\u7684\u4eba\u662f\u5728\u6392\u5e8f\u4e2d\u7684\u7b2c\u51e0\u4f4d\uff0c\u5c31\u8bf4\u660e TA \u5c31\u53ef\u4ee5\u5f53\u51e0\u4e2a\u4eba\u7684\u5bfc\u5e08\u3002\n\n\u8fd9\u4e2a\u67e5\u627e\uff0c\u6211\u7b2c\u4e00\u65f6\u95f4\u60f3\u5230\u7684\u662f\u4e8c\u5206\u67e5\u627e\uff0c\u56e0\u4e3a\u5b83\u5feb\u3002\u5f53\u7136\u4f60\u7528 STL \u4e5f\u662f\u6ca1\u95ee\u9898\u7684\u3002\u6700\u540e\uff0c\u518d\u6309\u539f\u6765\u7684\u8f93\u5165\u7684\u987a\u5e8f\u8f93\u51fa\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n \\log n)$\u3002\n#### C++ \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n//#include<algorithm>\n//#include<iostream>\u4e0d\u4e60\u60ef\u7528\u4e07\u80fd\u5934\u7684\u7528\u8fd9\u4e2a\u3002\nusing namespace std;\nint n, k, x, y, l, r, mid;\nstruct Pro {\n    int r, id, app;//r \u662f\u80fd\u529b\u503c\uff0c id \u8868\u793a\u4ed6\u7684\u521d\u59cb\u4f4d\u7f6e\uff0c app \u8868\u793a TA \u53ef\u4ee5\u5f53\u51e0\u4e2a\u4eba\u7684\u5bfc\u5e08\u3002\n}a[200005];\nbool cmp1(Pro x, Pro y) {\n    return x.r < y.r;\n}\nbool cmp2(Pro x, Pro y) {\n    return x.id < y.id;\n}\nint main() {\n    ios::sync_with_stdio(NULL);\n    cin.tie(0);\n    cout.tie(0);//cin,cout \u7684\u4e00\u4e2a\u4f18\u5316\n\n    cin >> n >> k;\n    for (int i = 1; i <= n; i++) {\n        cin >> a[i].r;\n        a[i].id = i;//\u5b58\u4e0b\u521d\u59cb\u4f4d\u7f6e\n    }\n    for (int i = 1; i <= k; i++) {\n        cin >> x >> y;\n        if (a[x].r > a[y].r) a[x].app--;\n        else if (a[x].r < a[y].r) a[y].app--;//\u54ea\u4e00\u4e2a\u80fd\u529b\u503c\u5927\u5c31\u8bf4\u660e TA \u7684\u201c\u5f92\u5f1f\u201d\u5c31\u5c11\u4e00\u4e2a\n    }\n    sort(a + 1, a + n + 1, cmp1);//\u6309\u5b9e\u529b\u6392\u5e8f\n    for (int i = 2; i <= n; i++) {//\u91cd\u70b9\uff1a\u4e8c\u5206\n        //\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u7edd\u5bf9\u4e0d\u53ef\u80fd\u6709\u201c\u5f92\u5f1f\u201d\uff0c\u6240\u4ee5 i \u4ece2\u5f00\u59cb\n        l = 1; r = i;\n        while (l <= r) {\n            mid = (l + r) / 2;\n            if (a[mid].r < a[i].r) l = mid + 1;//\u8bf4\u660e\u7b54\u6848\u5728\u53f3\u8fb9\n            else r = mid - 1;//\u8bf4\u660e\u7b54\u6848\u5728\u5de6\u8fb9\n        }\n        a[i].app += r;//\u2235r \u662f\u7b54\u6848\u2234\u52a0\u4e0a r\n    }\n    sort(a + 1, a + n + 1, cmp2);//\u6309\u539f\u8f93\u5165\u987a\u5e8f\u6392\u5e8f\n    for (int i = 1; i <= n; i++)\n        cout << a[i].app << ' ';\n    return 0;\n}\n```",
        "postTime": 1675332676,
        "uid": 749715,
        "name": "jiangyushen",
        "ccfLevel": 0,
        "title": "CF978F\u9898\u89e3"
    },
    {
        "content": "### \u4e3b\u8981\u601d\u8def\n- \u628a\u6bcf\u4e00\u4e2a\u4eba\u4f1a\u4e0e\u591a\u5c11\u4e2a\u6bd4\u4ed6\u80fd\u529b\u5c0f\u7684\u4eba\u53d1\u751f\u53e3\u89d2\u7684\u4e2a\u6570\u7528\u4e00\u4e2a\u6570\u7ec4\u5b58\u8d77\u6765\u3002\u7b97\u7b54\u6848\u7684\u65f6\u5019\uff0c\u53ea\u9700\u8981\u5c06**\u6bd4\u4ed6\u80fd\u529b\u5c0f\u7684\u4eba**\u7684\u4e2a\u6570\u51cf\u53bb**\u6bd4\u4ed6\u80fd\u529b\u5c0f\u4e14\u4f1a\u53d1\u751f\u53e3\u89d2\u7684\u4eba**\u7684\u4e2a\u6570\u5c31\u884c\u4e86\n\n- \u56e0\u6b64\u6211\u4eec\u53ea\u9700\u8981\u5c06\u4eba\u7684\u80fd\u529b\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u4e00\u904d\uff0c\u5c31\u53ef\u4ee5\u6c42\u51fa\u6bcf\u4e2a\u4eba\u6bd4\u4ed6\u80fd\u529b\u5c0f\u7684\u4eba\u7684\u4e2a\u6570\u4e86\u3002\n\n- **\u4f46\u662f\u6709\u591a\u4e2a\u4eba\u80fd\u529b\u503c\u76f8\u7b49\u7684\u60c5\u51b5**\uff0c\u6240\u4ee5\u8981\u51cf\u53bb\u524d\u9762\u7684\u4eba\u7684\u80fd\u529b\u503c\u4e0e\u8fd9\u4e2a\u4eba\u7684\u80fd\u529b\u503c\u76f8\u7b49\u7684\u4e2a\u6570\u3002\n\n- \u6240\u4ee5\u7b2c $i$ \u4e2a\u4eba\u7684\u7b54\u6848\u5c31\u662f**\u6392\u5e8f\u540e\u7684\u4e0b\u6807** \u51cf\u53bb **\u6bd4\u7b2c $i$ \u4e2a\u4eba\u80fd\u529b\u5c0f\u4e14\u4f1a\u53d1\u751f\u53e3\u89d2\u7684\u4eba\u7684\u4e2a\u6570** \u518d\u51cf\u53bb **\u524d\u9762\u7684\u4eba\u7684\u80fd\u529b\u503c\u4e0e\u8fd9\u4e2a\u4eba\u7684\u80fd\u529b\u503c\u76f8\u7b49\u7684\u4e2a\u6570**\n### \u4ee3\u7801\u90e8\u5206\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAXN = 2e5;\nstruct Node{ //\u6bcf\u4e2a\u4eba\u7684\u80fd\u529b\u503c\u4e0e\u6392\u5e8f\u524d\u7684\u4e0b\u6807\uff0c\u5b58\u6392\u5e8f\u524d\u7684\u4e0b\u6807\u4e3b\u8981\u662f\u4e3a\u4e86\u65b9\u4fbf\u8f93\u51fa\u7b54\u6848\n  int x, i;\n}a[MAXN];\nint ans[MAXN];//\u5b58\u7b54\u6848\u7684\u6570\u7ec4\nbool cmp(Node x,Node y) {\n  return x.x < y.x;\n}\nint f[MAXN];//\u7528\u6765\u5b58\u6bcf\u4e2a\u4eba\u4f1a\u4e0e\u591a\u5c11\u4e2a\u6bd4\u4ed6\u80fd\u529b\u5c0f\u7684\u4eba\u53d1\u751f\u53e3\u89d2\nint main() {\n  int n, k;\n  cin >> n >> k;\n  for(int i = 1; i <= n; i++) {\n    cin >> a[i].x;\n    a[i].i = i;\n  }\n  for(int i = 1; i <= k; i++) {\n    int x, y;\n    cin >> x >> y;\n    if(a[x].x > a[y].x) { \t// \u7b2cx\u4e2a\u4eba\u7684\u80fd\u529b\u503c\u6bd4\u7b2cy\u4e2a\u4eba\u5927\u7684\u60c5\u51b5\n      f[x]++;\n    } else if(a[x].x < a[y].x){\t// \u7b2cy\u4e2a\u4eba\u7684\u80fd\u529b\u503c\u6bd4\u7b2cx\u4e2a\u4eba\u5927\u7684\u60c5\u51b5\n      f[y]++;\n    }\n  }\n  int x = 0; //\u524d\u9762\u7684\u4eba\u7684\u80fd\u529b\u503c\u4e0e\u7b2ci\u4e2a\u4eba\u7684\u80fd\u529b\u503c\u76f8\u7b49\u7684\u4e2a\u6570\n  sort(a + 1, a + n + 1, cmp); //\u6392\u5e8f\n  for(int i = 1; i <= n; i++) {\n    if(a[i].x != a[i - 1].x) {\n      x = 0;\n    }\n    ans[a[i].i] = (i - 1) - f[a[i].i] - x;\n    x++;\n  }\n  for(int i = 1; i <= n; i++) {\n    cout << ans[i] << \" \";\n  }\n  return 0;\n}\n```\n",
        "postTime": 1604652507,
        "uid": 156353,
        "name": "Big_Caibi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF978F \u3010Mentors\u3011"
    }
]