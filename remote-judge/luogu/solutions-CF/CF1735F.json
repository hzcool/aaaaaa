[
    {
        "content": "\u8d5b\u65f6\u6ca1\u65f6\u95f4\u5f00\u8fd9\u4e2a\u9898\uff0c\u5927\u60b2\u3002\n\n\u9996\u5148\u6ce8\u610f\u5230\u8fd9\u9898\u662f\u4e24\u79cd\u7269\u54c1\u4e2a\u6570\u4e4b\u95f4\u7684\u8f6c\u6362\uff0c\u5f88\u81ea\u7136\u7684\u628a\u6bcf\u4e00\u4e2a\u72b6\u6001\u6620\u5c04\u5230\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e2d\u7684\u70b9\u4e0a\uff0c\u6a2a\u5750\u6807\u8868\u793a\u7b2c\u4e00\u79cd\u7269\u54c1\u4e2a\u6570\uff0c\u7eb5\u5750\u6807\u8868\u793a\u7b2c\u4e8c\u79cd\u7269\u54c1\u7684\u4e2a\u6570\u3002\u4e8e\u662f\u6211\u4eec\u4fbf\u662f\u9700\u8981\u7ef4\u62a4\u7b2c\u4e00\u8c61\u9650\u4e2d\u7684\u51f8\u58f3\uff0c\u6bcf\u6b21\u628a\u8fd9\u4e2a\u51f8\u58f3\u5411\u4e00\u4e2a\u65b9\u5411\u79fb\u52a8 $\\sqrt{p^2+q^2}$\uff0c\u4e5f\u5411\u53cd\u65b9\u5411\u79fb\u52a8 $\\sqrt{p^2+q^2}$\uff0c\u4e0b\u4e00\u6b21\u53ef\u4ee5\u53d6\u5230\u7684\u72b6\u6001\u5c31\u662f\u8fd9\u4e2a\u51f8\u58f3\u6ed1\u52a8\u8fc7\u7a0b\u4e2d\u8986\u76d6\u5230\u8fc7\u7684\u6240\u6709\u9762\u79ef\uff0c\u6bcf\u6b21\u7684\u7b54\u6848\u5373\u4e3a\u51f8\u58f3\u4e0e $x$ \u8f74\u7684\u4ea4\u70b9\u7684\u6a2a\u5750\u6807\u3002\u5f00\u59cb\u7684\u51f8\u58f3\u662f\u9876\u70b9\u4e3a $(0,0),(0,q),(p,0),(p,q)$ \u7684\u957f\u65b9\u5f62\u3002\n\n\u4e00\u773c\u95f5\u53ef\u592b\u65af\u57fa\u548c\u4f46\u662f\u8fd9\u91cc\u5b8c\u5168\u4e0d\u9700\u8981\uff0c\u5f00\u4e00\u4e2a $\\operatorname{multiset}$ \u6254\u8fdb\u53bb\u659c\u7387\u548c\u957f\u5ea6\u8868\u793a\u51f8\u58f3\u4e0a\u7684\u6bcf\u4e00\u6761\u8fb9\uff0c\u56e0\u4e3a\u662f\u51f8\u58f3\u6240\u6709\u8fb9\u7684\u987a\u5e8f\u5c31\u662f\u659c\u7387\u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u3002\u5982\u4f55\u505a\u5230\u53ea\u7ef4\u62a4\u7b2c\u4e00\u8c61\u9650\u5462\uff1f\u8bb0\u5f55\u4f60\u5f53\u524d\u7b2c\u4e00\u8c61\u9650\u51f8\u58f3\u4e2d\u7684\u4e24\u4e2a\u4ea4\u70b9\uff1a\u4e0e $x$ \u8f74\u7684\u548c\u4e0e $y$ \u8f74\u7684\u3002\u6bcf\u6b21\u52a0\u5165\u4e00\u6761\u8fb9\u4e24\u4e2a\u70b9\u4f1a\u76f8\u5e94\u7684\u79fb\u52a8\uff1a\u79fb\u52a8\u5230\u7b2c\u4e8c\u8c61\u9650\u548c\u7b2c\u56db\u8c61\u9650\u3002\u4ece\u4e24\u4e2a\u5934\u5f00\u59cb\u4e00\u6761\u4e00\u6761\u5220\u8fb9\u4f7f\u6700\u540e\u7559\u4e0b\u7684\u4e24\u6bb5\u7684\u4e24\u6761\u8fb9\u4e0e $x$ \u8f74 $y$ \u8f74\u6709\u4ea4\u70b9\u3002\u622a\u65ad\u4e4b\uff0c\u8fd8\u662f\u4f7f\u4e24\u4e2a\u9876\u70b9\u56de\u5230 $x$ \u8f74\u548c $y$ \u8f74\u4e0a\u3002\u603b\u590d\u6742\u5ea6 $O(n\\log n)$\u3002\n\n\u8fd8\u6709\u4e0d\u61c2\u7684\u53ef\u4ee5\u770b\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define ld long double\n#define Eps 1e-9\n#define fi first\n#define se second\nusing namespace std;\nconst int M=3e5+7;\nmultiset<pair<ld,ld> > ms;\nld sx,sy,tx,ty;\nint n,x,y,p[M],q[M];\nint main(){\n\tint T; scanf(\"%d\",&T);\n\twhile(T--){\n\t\tscanf(\"%d%d%d\",&n,&x,&y);\n\t\tsx=tx=x,sy=ty=y,ms.clear();\n\t\tfor(int i=1;i<=n;i++) scanf(\"%d\",&p[i]);\n\t\tfor(int i=1;i<=n;i++) scanf(\"%d\",&q[i]);\n\t\tif(x==0 && y==0){\n\t\t\tfor(int i=1;i<=n;i++) puts(\"0\");\n\t\t\tcontinue;\n\t\t}\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tld np=p[i],nq=q[i];\n\t\t\tsx-=np,sy+=nq,tx+=np,ty-=nq;\n\t\t\tms.insert({nq/np,np*2});\n\t\t\twhile(sx<-Eps){\n\t\t\t\tauto it=ms.begin();\n\t\t\t\tms.erase(it);\n\t\t\t\tld k=it->fi,xx=it->se;\n\t\t\t\tif(sx+xx>0){\n\t\t\t\t\tld X=sx+xx; xx-=X;\n\t\t\t\t\tms.insert({k,X});\n\t\t\t\t}\n\t\t\t\tsx+=xx,sy-=xx*k;\n\t\t\t}\n\t\t\twhile(ty<-Eps){\n\t\t\t\tauto it=ms.end();\n\t\t\t\tit--,ms.erase(it);\n\t\t\t\tld k=it->fi,xx=it->se;\n\t\t\t\tif(ty+xx*k>0){\n\t\t\t\t\tld X=ty/k+xx; xx-=X;\n\t\t\t\t\tms.insert({k,X});\n\t\t\t\t}\n\t\t\t\ttx-=xx,ty+=xx*k;\n\t\t\t}\n\t\t\tprintf(\"%.9Lf\\n\",tx);\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1667654255,
        "uid": 295367,
        "name": "djwj223",
        "ccfLevel": 7,
        "title": "CF1735F \u9898\u89e3"
    }
]