[
    {
        "content": "\u6709\u89e3\u5f53\u4e14\u4ec5\u5f53 $k$ \u662f $n$ \u7684\u56e0\u6570\u3002\n\n\u9996\u5148\u5224\u65ad $s$ \u672c\u8eab\u662f\u5426\u53ef\u884c\u3002 \n\n\u5426\u5219\u4e3a\u4e86\u6700\u5c0f\u5316\u7b54\u6848 $t$ \u5b57\u5178\u5e8f\uff0c\u5012\u5e8f\u679a\u4e3e $i \\in [1,n]$ \u8868\u793a\u524d $i-1$ \u4f4d\u5747\u76f8\u540c\uff0c$t$ \u5728\u7b2c $i$ \u4f4d\u6bd4 $s$ \u5927\uff0c\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u8fd9\u4e00\u4f4d\u586b\u7684\u5b57\u7b26\uff0c\u770b\u4e00\u4e0b\u540e\u9762\u7684\u7a7a\u4f4d\u662f\u5426\u8db3\u4ee5\u8865\u8db3\u6240\u6709\u5b57\u6bcd\u7684\u9700\u6c42\u3002\n\n\u5355\u7ec4\u65f6\u95f4\u590d\u6742\u5ea6 $O(n |\\Sigma|)$\uff0c\u8fd9\u91cc $|\\Sigma|=26$\uff0c\u8868\u793a\u5b57\u7b26\u96c6\u5927\u5c0f\u3002 \n\n```cpp\nint T,n,k,c[26];\nchar s[100005];\n\nvoid fakemain(){\n    Read(T);\n    while(T--){\n        Read(n),Read(k),Read(s+1);\n        if(n%k){\n            puts(\"-1\");\n            continue;\n        }\n        memset(c,0,26<<2);\n        for(int i=1;i<=n;++i)\n            if((++c[s[i]-'a'])>=k)\n                c[s[i]-'a']-=k;\n        int o=0;\n        for(int i=0;i<26;++i)\n            if(c[i])\n                o+=k-c[i];\n        if(!o){\n            puts(s+1);\n            continue;\n        }\n        int flg=0;\n        for(int i=n;i;--i){\n            if(c[s[i]-'a'])\n                o-=k-c[s[i]-'a'];\n            if((--c[s[i]-'a'])<0)\n                c[s[i]-'a']+=k;\n            if(c[s[i]-'a'])\n                o+=k-c[s[i]-'a'];\n            for(int w=s[i]-'a'+1;w<26;++w){\n                if(c[w])\n                    o-=k-c[w];\n                if((++c[w])>=k)\n                    c[w]-=k;\n                if(c[w])\n                    o+=k-c[w];\n                if(o<=n-i){\n                    flg=1;\n                    for(int j=1;j<i;++j)\n                        putchar(s[j]);\n                    putchar(w+'a');\n                    vector<char> v;\n                    for(int t=0;t<26;++t)\n                        if(c[t])\n                            for(int j=c[t];j<k;++j)\n                                v.push_back('a'+t);\n                    for(int j=v.size();j<n-i;++j)\n                        putchar('a');\n                    for(char j:v)\n                        putchar(j);\n                    break;\n                }\n                if(c[w])\n                    o-=k-c[w];\n                if((--c[w])<0)\n                    c[w]+=k;\n                if(c[w])\n                    o+=k-c[w];\n            }\n            if(flg)\n                break;\n        }\n        putchar(10);\n    }\n}\n```",
        "postTime": 1615104690,
        "uid": 105110,
        "name": "xuezhe",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1493C \u3010K-beautiful Strings\u3011"
    },
    {
        "content": "### \u9898\u76ee\u5927\u610f\n\n\u7ed9\u5b9a\u4e24\u4e2a\u6574\u6570 $n$ \u548c $k$\uff0c\u548c\u4e00\u4e2a\u5b57\u7b26\u4e32 $s$\uff0c\u4f60\u9700\u8981\u6c42\u51fa\u5b57\u5178\u5e8f\u6700\u5c0f\u4e14\u5927\u4e8e $s$ \u7684\u6ee1\u8db3\u4efb\u610f\u5b57\u7b26\u90fd\u51fa\u73b0\u4e86 $k$ \u7684\u500d\u6570\u6b21\u7684\u5b57\u7b26\u4e32 $t$\u3002\n\n\u591a\u7ec4\u6570\u636e\uff0c $n,k \\leq 10^5$ \u3002\n\n### \u9898\u76ee\u5206\u6790\n\n\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u7279\u5224\u6389 $ n \\not\\equiv 0 \\pmod k $ \u7684\u60c5\u51b5\uff0c\u90a3\u63a5\u4e0b\u6765\u6240\u6709\u60c5\u51b5\u90fd\u662f\u6709\u89e3\u7684\u3002\n\n\u56e0\u4e3a\u8981\u6c42\u5b57\u5178\u5e8f\u6700\u5c0f\uff0c\u6545\u6211\u4eec\u5c1d\u8bd5\u4ece\u540e\u5f80\u524d\u679a\u4e3e $t$ \u7b2c\u4e00\u6b21\u5927\u4e8e $s$ \u7684\u4f4d\u7f6e $p$\uff0c\u5e76\u6c42\u51fa $p$ \u4f4d\u7f6e\u4e0a\u53d6\u4ec0\u4e48\u5b57\u7b26\u80fd\u591f\u6ee1\u8db3\u6761\u4ef6\uff0c\u8fd9\u53ef\u4ee5\u5728 $ O(26n)$ \u7684\u65f6\u95f4\u5185\u6c42\u51fa\u3002\n\n\u5728\u6c42\u51fa\u4e86 $p$ \u4e4b\u540e\uff0c\u7531\u4e8e$p$ \u4e4b\u540e\u7684\u4f4d\u7f6e\u53ef\u4ee5\u4efb\u610f\u653e\u7f6e\uff0c\u4e8e\u662f\u6211\u4eec\u7ed3\u5408 $p$ \u4e4b\u524d\u5b57\u7b26\u7684\u51fa\u73b0\u60c5\u51b5\uff0c\u8ba1\u7b97$[p+1,n]$\u7684\u7b54\u6848\u5373\u53ef\u3002\n\n### \u4ee3\u7801\n\n``` cpp\n#include <bits/stdc++.h>\n \n#define R register\n#define ll long long\n#define sum(a, b, mod) (((a) + (b)) % mod)\n#define meow(cat...) fprintf(stderr, cat)\n \nconst int MaxN = 1e5 + 10;\n \nint n, k, cnt[27];\nchar s[MaxN], t[MaxN];\n \nsigned main()\n{\n    int T;\n    scanf(\"%d\", &T);\n    while (T--)\n    {\n        int ans = 0, spos = 0;\n        scanf(\"%d%d%s\", &n, &k, s + 1);\n        if (n % k)\n        {\n            printf(\"-1\\n\");\n            continue;\n        }\n        memset(cnt, 0, sizeof(cnt));\n        for (int i = 1; i <= n; i++)\n            cnt[s[i] - 'a']++, t[i] = 0;\n        memset(t, 0, n + 10);\n        for (int i = 0; i < 26; i++)\n            if (cnt[i] % k) ans = -1;\n        if (~ans)\n        {\n            printf(\"%s\\n\", s + 1);\n            continue;\n        }\n        ans = 1, spos = s[1] + 1;\n        for (int i = n; i; i--)\n        {\n            int num = 0;\n            cnt[s[i] - 'a']--;            \n            if (s[i] == 'z') continue;\n            for (int l = s[i] - 'a' + 1; l < 26; l++)\n            {\n                cnt[l]++, num = 0;\n                for (int j = 0; j < 26; j++)\n                   num += k * ((cnt[j] / k) + ((cnt[j] % k) != 0)) - cnt[j];\n                if (num <= n - i)\n                {\n                    ans = i, spos = l;\n                    break;\n                }\n                cnt[l]--;\n            }\n            if (ans == i) break;\n        }\n        memset(cnt, 0, sizeof(cnt));\n        for (int i = 1; i < ans; i++)\n            t[i] = s[i], cnt[t[i] - 'a']++;\n        t[ans] = spos + 'a', cnt[t[ans] - 'a']++;\n        int pos = ans + 1, sum = 0;\n        for (int i = 0; i < 26; i++)\n            cnt[i] = k * ((cnt[i] / k) + ((cnt[i] % k) != 0)) - cnt[i], sum += cnt[i];\n        while (sum + ans < n)\n            sum += k, cnt[0] += k;\n        for (int i = 0; i < 26; i++)\n            for (int j = 0; j < cnt[i]; j++)\n                t[pos] = i + 'a', ++pos;\n        printf(\"%s\\n\", t + 1);\n    }\n    return 0;\n} \n```",
        "postTime": 1615089585,
        "uid": 61966,
        "name": "little_sun",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1493C \u3010K-beautiful Strings\u3011"
    },
    {
        "content": "\u5982\u679c$k|n$\uff0c\u5219\u4e00\u5b9a\u6709\u89e3\uff0c\u5426\u5219\u4e00\u5b9a\u65e0\u89e3\u3002\u524d\u8005\uff0c\u6211\u4eec\u53ef\u4ee5\u6784\u9020\u4e00\u4e2a\u5168 $\\texttt{z}$ \u7684\u4e32\uff1b\u540e\u8005\uff0c\u6240\u6709\u5b57\u6bcd\u51fa\u73b0\u6b21\u6570\u4e3a $k$ \u7684\u500d\u6570\u5219 $n$ \u4e5f\u4e00\u5b9a\u4e3a $k$ \u7684\u500d\u6570\u3002\n\n\u9996\u5148\u6211\u4eec\u5224\u65ad\u539f\u4e32\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\uff0c\u5982\u679c\u662f\u5219\u76f4\u63a5\u8f93\u51fa\u539f\u4e32\u3002\n\n\u5982\u679c\u4e0d\u662f\uff0c\u5219\u7b54\u6848\u4e00\u5b9a\u4e0e\u539f\u4e32\u4e0d\u540c\uff0c\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u7b2c\u4e00\u4e2a\u4e0e\u539f\u4e32\u4e0d\u540c\u4f4d\u7f6e\u3002\u663e\u7136\u8fd9\u4e2a\u4f4d\u7f6e\u8d8a\u540e\u7b54\u6848\u8d8a\u4f18\uff0c\u6240\u4ee5\u6211\u4eec\u5012\u53d9\u679a\u4e3e\u3002\n\n\u5bf9\u4e8e\u679a\u4e3e\u5f53\u524d\u4f4d $i$ \uff0c\u6211\u4eec\u518d\u679a\u4e3e\u7b2c $i$ \u4f4d\u4e0a\u4fee\u6539\u540e\u7684\u5b57\u7b26\uff0c\u6ce8\u610f\u4e0d\u80fd\u4e0e\u539f\u4e32\u76f8\u540c\u3002\u90a3\u4e48\u7b2c $i$ \u4f4d\u4e4b\u540e\u53ef\u4ee5\u4efb\u610f\u586b\uff0c\u6211\u4eec\u53ea\u7528 $\\texttt{check}$ \u4e00\u4e0b\u540e\u9762\u7684\u4f4d\u6570\u662f\u5426\u8db3\u591f\u5c06\u524d $i$ \u4f4d\u51fa\u73b0\u6b21\u6570\u4e0d\u662f $k$ \u7684\u500d\u6570\u7684\u5b57\u6bcd\u8865\u9f50\u3002\n\n\u5982\u679c\u80fd\u591f\u8865\u9f50\uff0c\u5219\u6309$a\\to z$ \u7684\u987a\u5e8f\u987a\u6b21\u586b\u5145\uff0c\u5982\u679c\u8fd8\u6709\u591a\u4f59\u4f4d\u6570\uff0c\u5219\u5728\u7b2c$i$\u4f4d\u4e4b\u540e\u7528$\\texttt{a}$\u8865\u9f50\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6$\\rm O(26N) $ \u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define pre(i,a,b) for(int i=a;i>=b;i--)\n#define N 100005\nusing namespace std;\nint n,k,c[30];char s[N];\nvoid calc(int x,int y){\n\tmemset(c,0,sizeof(c));\n\ts[x]=y+'a';\n\trep(i,1,x)c[s[i]-'a']++;\n\tint sum=n-x;\n\trep(i,0,25)sum-=(k-c[i]%k)%k;\n\trep(i,1,x)putchar(s[i]);\n\trep(i,1,sum)putchar('a');\n\trep(i,0,25)rep(j,1,(k-c[i]%k)%k)putchar('a'+i);\n\tputchar('\\n');\n}\nvoid solve(){\n\tmemset(c,0,sizeof(c));\n\tscanf(\"%d%d\",&n,&k);\n\tscanf(\"%s\",s+1);if(n%k){puts(\"-1\");return ;}\n\trep(i,1,n)c[s[i]-'a']++;\n\tint sum=0;\n\trep(i,0,25)sum+=(k-c[i]%k)%k;\n\tif(!sum){\n\t\tputs(s+1);return ;\n\t}\n\tpre(i,n,1){\n\t\tsum-=(k-c[s[i]-'a']%k)%k;\n\t\tc[s[i]-'a']--;\n\t\tsum+=(k-c[s[i]-'a']%k)%k;\n\t\trep(j,s[i]-'a'+1,25){\n\t\t\tint cur=sum;\n\t\t\tcur-=(k-c[j]%k)%k;\n\t\t\tc[j]++;\n\t\t\tcur+=(k-c[j]%k)%k;\n\t\t\tc[j]--;\n\t\t\t//cout<<i<<\" \"<<j<<\" \"<<cur<<endl;\n\t\t\tif(cur<=n-i){calc(i,j);return ;}\n\t\t}\n\t}\n}\nint main(){\n\tint T;scanf(\"%d\",&T);\n\twhile(T--)solve();\n\treturn 0;\n}\n```",
        "postTime": 1615078776,
        "uid": 119261,
        "name": "7KByte",
        "ccfLevel": 0,
        "title": "CF1493C K-beautiful Strings\u9898\u89e3"
    },
    {
        "content": "# CF1493C \u9898\u89e3\n\n\n\n## \u601d\u8def\u5206\u6790\n\n\u5b57\u7b26\u4e32\u4e0b\u6807\u4ece $0$ \u5f00\u59cb\uff0c\u8bb0 $S[l\\cdots r]$ \u8868\u793a\u5b57\u7b26 $S_l\\sim S_r$ \u6784\u6210\u7684\u5b50\u4e32\u3002\n\n\u89c2\u5bdf\u5230 $k\\nmid n$ \u65f6\u6ee1\u8db3\u6761\u4ef6\u7684\u5b57\u7b26\u4e32\u4e00\u5b9a\u4e0d\u5b58\u5728\uff0c\u800c\u5bf9\u4e8e $k\\mid n$ \u7684\u60c5\u51b5\u5b57\u7b26\u4e32 $\\texttt{zzzzz}\\cdots$ \u4e00\u5b9a\u6ee1\u8db3\u6761\u4ef6\u3002\n\n\u82e5 $S$ \u5df2\u7ecf\u6ee1\u8db3\u6761\u4ef6\uff0c\u76f4\u63a5\u8f93\u51fa $S$ \u5373\u53ef\u3002\n\n\u4e3a\u4e86\u8ba9\u5b57\u5178\u5e8f\u5c3d\u91cf\u5c0f\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u5927\u5230\u5c0f\u679a\u4e3e $\\operatorname{lcp}(S,T)$ \u7684\u957f\u5ea6\uff08$\\operatorname{lcp}(S,T)$ \u8868\u793a $S,T$ \u7684\u6700\u957f\u516c\u5171\u524d\u7f00\uff09\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u524d\u7f00 $S[0\\cdots i-1]$\uff0c\u6211\u4eec\u53ef\u4ee5\u7ef4\u62a4\u6bcf\u4e2a\u5b57\u7b26\u51fa\u73b0\u7684\u6b21\u6570\uff0c\u7531\u4e8e\u6bcf\u6b21\u53ea\u51cf\u5c11\u4e00\u4e2a\u5b57\u7b26\uff0c\u56e0\u6b64\u5355\u6b21\u66f4\u65b0\u662f $\\Theta(1)$ \u7684\u3002\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u679a\u4e3e $T_i$ \u7684\u503c\uff0c\u663e\u7136 $T_i>S_i$ \u56e0\u6b64\u4ece $S_i+1$ \u679a\u4e3e\u5230 $\\texttt z$\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u786e\u5b9a\u4e86 $T[0\\cdots i]$ \u7684\u503c\uff0c\u800c $T[i+1\\cdots n-1]$ \u4e2d\u7684\u6bcf\u4e2a\u4f4d\u7f6e\u5c31\u90fd\u53ef\u4ee5\u968f\u4fbf\u586b\u4e86\u3002\n\n\u6839\u636e\u9898\u610f\u80fd\u591f\u8ba1\u7b97\u51fa $T[i+1\\cdots n-1]$ \u4e2d\u6bcf\u4e2a\u5b57\u7b26\u51fa\u73b0\u6b21\u6570 $\\bmod k$ \u7684\u4f59\u6570\uff0c\u56e0\u6b64\u6211\u4eec\u80fd\u5f97\u5230\u6700\u5c11\u9700\u8981\u591a\u5c11\u4e2a\u5b57\u7b26\u624d\u80fd\u8ba9\u6bcf\u79cd\u5b57\u7b26\u7684\u51fa\u73b0\u6b21\u6570\u90fd\u662f $k$ \u7684\u500d\u6570\uff0c\u800c\u5269\u4e0b\u7684\u4f4d\u7f6e\u5168\u586b $\\texttt{a}$\uff0c\u7136\u540e\u4ece\u5c0f\u5230\u5927\u6392\u5217\u5b57\u7b26\uff0c\u5982\u679c\u7206\u957f\u5ea6\u4e86\u8fd4\u56de\u65e0\u89e3\u3002\n\n\u8bb0 $\\alpha(S)$ \u8868\u793a $S$ \u7684\u5b57\u7b26\u96c6\u5927\u5c0f\uff0c\u6211\u4eec\u5224\u65ad $T[i+1\\cdots n-1]$ \u662f\u5426\u6709\u89e3\u662f $\\Theta(\\alpha (S))$ \u7684\uff0c\u800c\u5bf9\u4e8e\u6bcf\u4e2a\u524d\u7f00\uff0c\u6709 $\\alpha(S)$ \u4e2a\u53ef\u80fd\u7684 $T[0\\cdots i]$ \u9700\u8981\u5224\u65ad $T[i+1\\cdots n-1]$ \u662f\u5426\u6709\u89e3\uff0c\u56e0\u6b64\u5224\u65ad\u89e3\u7684\u603b\u590d\u6742\u5ea6\u4e3a $\\Theta(n\\alpha^2(S))$\u3002\n\n\u867d\u7136\u6784\u9020\u4e00\u4e2a $T[i+1\\cdots n-1]$ \u7684\u590d\u6742\u5ea6\u662f $\\Theta(n)$ \u7684\uff0c\u4f46\u662f\u53ea\u6709\u6709\u89e3\u7684\u65f6\u5019\u4f1a\u8fdb\u884c\u6784\u9020\uff0c\u56e0\u6b64\u5f97\u5230\u5408\u6cd5\u7684 $T[i+1\\cdots n-1]$ \u53ea\u4f1a\u8fdb\u884c\u4e00\u6b21\u3002\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $\\Theta(n\\alpha^2(S))$\u3002\n\n## \u4ee3\u7801\u5448\u73b0\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,k;\ninline bool check(vector<int> cnt) {\n\tfor(int i=0;i<26;++i) if(cnt[i]!=0) return false;\n\treturn true;\n}\ninline string construct(vector<int> cnt,int n) {\n\tint sum=0;\n\tfor(int i=0;i<26;++i) sum+=cnt[i];\n\tif(sum>n) return \"! Construction Failed\";\n\tassert((n-sum)%k==0);\n\tcnt[0]+=n-sum;\n\tstring ret;\n\tfor(char ch='a';ch<='z';++ch) {\n\t\tfor(int i=1;i<=cnt[ch-'a'];++i) ret.push_back(ch);\n\t}\n\treturn ret;\n}\ninline void solve() {\n\tstring S;\n\tcin>>n>>k>>S;\n\tif(n%k!=0) {\n\t\tputs(\"-1\");\n\t\treturn ;\n\t}\n\tvector <int> cnt(26);\n\tfor(int i=0;i<n;++i) cnt[S[i]-'a']=(cnt[S[i]-'a']+1)%k;\n\tif(check(cnt)) {\n\t\tcout<<S<<\"\\n\";\n\t\treturn ;\n\t}\n\tfor(int i=n-1;i>=0;--i) {\n\t\tcnt[S[i]-'a']=(cnt[S[i]-'a']+k-1)%k;\n\t\tvector <int> tmp(26);\n\t\tfor(int i=0;i<26;++i) tmp[i]=(k-cnt[i])%k;\n\t\tfor(char ch=S[i]+1;ch<='z';++ch) {\n\t\t\ttmp[ch-'a']=(tmp[ch-'a']+k-1)%k;\n\t\t\tstring ret=construct(tmp,n-i-1);\n\t\t\tif(ret==\"! Construction Failed\") {\n\t\t\t\ttmp[ch-'a']=(tmp[ch-'a']+1)%k;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tstring T;\n\t\t\tT=S.substr(0,i)+ch+ret;\n\t\t\tcout<<T<<\"\\n\";\n\t\t\treturn ;\n\t\t}\n\t}\n\tputs(\"-1\");\n}\nsigned main() {\n\tint T;\n\tcin>>T;\n\twhile(T--) solve();\n\treturn 0;\n}\n```\n\n",
        "postTime": 1673254237,
        "uid": 539618,
        "name": "DaiRuiChen007",
        "ccfLevel": 6,
        "title": "CF1493C \u9898\u89e3"
    },
    {
        "content": "### Description\n\n- \u7ed9\u5b9a\u4e24\u4e2a\u6b63\u6574\u6570 $n$ \u548c $k$\uff0c\u548c\u4e00\u4e2a\u5b57\u7b26\u4e32 $s$\uff0c\u5176\u4e2d $n$ \u4e3a\u5b57\u7b26\u4e32 $s$ \u7684\u957f\u5ea6\u3002\n- \u7ed9\u5b9a K-beautiful \u7684\u542b\u4e49\uff1a\u5b57\u7b26\u4e32 $s$ \u4e2d\u6bcf\u4e2a\u5c0f\u5199\u5b57\u6bcd\u51fa\u73b0\u7684\u6b21\u6570\u90fd\u80fd\u88ab $k$ \u6574\u9664\u3002\n- \u6c42\u6ee1\u8db3 K-beautiful \u7684\u5b57\u5178\u5e8f\u6700\u5c0f\u7684\u5b57\u7b26\u4e32 $t$\uff0c\u4e14 $t$ \u7684\u5b57\u5178\u5e8f\u8981\u5927\u4e8e\u7b49\u4e8e $s$ \u7684\u5b57\u5178\u5e8f\u3002\n- \u591a\u7ec4\u8f93\u5165\uff0c$1 \\le k \\le n  \\le 10^5$\u3002\n\n### Solution\n\n\u5982\u679c $k$ \u65e0\u6cd5\u6574\u9664 $n$\uff0c\u663e\u7136\u89e3\u662f\u4e0d\u5b58\u5728\u7684\uff0c\u8f93\u51fa $-1$\u3002\n\n\u8bbe $cnt[i]$ \u8868\u793a\u6bcf\u4e2a\u5c0f\u5199\u5b57\u6bcd\u5728 $s$ \u4e2d\u51fa\u73b0\u7684\u6b21\u6570\uff0c\u5176\u4e2d $0 \\le i <26$\u3002\u5982\u679c\u5f53\u524d\u6bcf\u4e2a $cnt[i]$ \u4e3a $0$ \u6216\u8005\u53ef\u4ee5\u88ab $k$ \u6574\u9664\uff0c\u5373 $s$ \u7b26\u5408\u6761\u4ef6\uff0c\u6545\u76f4\u63a5\u8f93\u51fa $s$ \u5373\u53ef\u3002\n\n\u5982\u679c\u4e0a\u8ff0\u6761\u4ef6\u5747\u4e0d\u7b26\u5408\uff0c\u90a3\u4e48\u5c31\u5f00\u59cb\u9010\u5b57\u7b26\u4fee\u6539 $s$\uff0c\u76f4\u5230\u5176\u53ef\u4ee5\u6ee1\u8db3\u6761\u4ef6\u4e14\u4e00\u5b9a\u53ef\u4ee5\u4fee\u6539\u5230\u6ee1\u8db3\u6761\u4ef6\u7684\u72b6\u6001\u3002\u56e0\u4e3a\u8981\u6c42\u5b57\u5178\u5e8f\u5728\u5927\u4e8e\u7b49\u4e8e $s$ \u7684\u524d\u63d0\u4e0b\u6700\u5c0f\uff0c\u6240\u4ee5\u5c31\u9700\u8981\u5012\u5e8f\u679a\u4e3e $s$ \u7684\u6bcf\u4e2a\u5b57\u7b26\u3002\n\n\u8bbe\u5f53\u524d\u679a\u4e3e\u7684\u5b57\u7b26\u7684\u4f4d\u7f6e\u4e3a $pos$\uff08$0 \\le pos \\le n-1$\uff09\uff0c\u8981\u9010\u6e10\u589e\u5927 $pos$ \u4f4d\u7f6e\u7684\u5b57\u7b26\uff0c\u524d\u9762\u7684\u5b57\u7b26\u4e0d\u80fd\u53d8\uff0c\u540e\u9762\u7684\u5b57\u7b26\u5df2\u7ecf\u6682\u65f6\u88ab\u5220\u9664\u4e86\uff0c\u5373\u53ef\u4ee5\u4efb\u610f\u653e\u7f6e\u5b57\u7b26\u3002\u73b0\u5728\u8981\u8ba1\u7b97 $pos$ \u53ca\u4ee5\u524d\u7684\u5b57\u7b26\u8981\u8fbe\u5230 K-beautiful \u8fd8\u9700\u8981\u540e\u9762\u63d0\u4f9b\u591a\u5c11\u4e2a\u4f4d\u7f6e\uff08\u8bbe\u4e3a $sum$\uff09\uff0c\u5982\u679c $sum \\le n-pos-1$\uff0c\u5219\u53ef\u4ee5\u6ee1\u8db3\u6761\u4ef6\uff0c\u628a\u8fd8\u9700\u8981\u7684\u5b57\u7b26\u8f93\u51fa\u5373\u53ef\u3002\n\n\u6ce8\u610f\u5982\u679c $pos$ \u53ca\u5176\u524d\u9762\u7684\u5b57\u7b26\u51fa\u73b0\u7684\u6b21\u6570\u5df2\u7ecf\u662f $k$ \u7684\u500d\u6570\uff0c\u5219\u9700\u8981\u628a $pos$ \u540e\u9762\u7684\u4f4d\u7f6e\u6309\u9700\u6c42\u8f93\u51fa\u5b57\u7b26 $a$ \u5373\u53ef\u3002\n\n### Code\n\n```c++\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nint cnt[30];\n\nint main()\n{\n\tint t; cin>>t;\n\twhile(t--)\n\t{\n\t\tint n, k; cin>>n>>k;\n\t\tstring s;\n\t\tcin>>s;\n\t\tif(n%k){\n\t\t\tcout<<-1<<endl;\n\t\t\tcontinue;\n\t\t}\t\n\t\tmemset(cnt,0,sizeof(cnt));\n\t\tfor(int i=0;i<n;i++)\n\t\t\tcnt[s[i]-'a']++;\n\t\t\n\t\tbool p = 1;\n\t\tfor(int i=0;i<26;i++)\n\t\t\tif(cnt[i]%k!=0){\n\t\t\t\tp = 0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tif(p){\n\t\t\tcout<<s<<endl;\n\t\t\tcontinue;\n\t\t}\t\n\t\t\n// \u524d\u9762\u7684\u5b57\u7b26\u4e0d\u80fd\u4fee\u6539, pos\u4f4d\u7f6e\u4e4b\u540e\u7684\u53ef\u4ee5\u4efb\u610f\u53d8\u52a8\uff0c\u56e0\u4e3a\u5df2\u7ecf\u628a\u5b83\u4eec\u90fd\u5220\u9664\u6389\u4e86 \n\t\tint pos = 0, ch = -1;\n\t\tfor(int i=n-1;i>=0;i--)\n\t\t{\n\t\t\tcnt[s[i]-'a']--;\n\t\t\tif(s[i]=='z') continue; //\u5982\u679c\u662f'z',\u663e\u7136\u65e0\u6cd5\u7ee7\u7eed\u53d8\u5927\u4e86 \n\t\t\tint now = s[i]-'a';\n\t\t\tfor(int j=now+1;j<=26;j++)\n\t\t\t{\n\t\t\t\tcnt[j]++; \n\t\t\t\tint num = 0;\n\t\t\t\tfor(int t=0;t<26;t++)\n\t\t\t\t{\n\t\t\t\t\tif(cnt[t]%k==0)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tnum = num + (cnt[t]/k+1)*k-cnt[t];\n\t\t\t\t}\n\t\t\t\tif(num<=n-i-1)\n\t\t\t\t{\n\t\t\t\t\tpos = i;\n\t\t\t\t\tch = j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcnt[j]--;\n\t\t\t}\n\t\t\tif(pos==i)\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tfor(int i=0;i<pos;i++)\n\t\t\tcout<<s[i];\n\t\tcout<<char(ch+'a');\n\t\tint sum = 0;\n\t\tfor(int i=0;i<26;i++)\n\t\t{\n\t\t\tif(cnt[i]%k==0)\n\t\t\t\tcnt[i] = 0;\n\t\t\telse \n\t\t\t\tcnt[i] = (cnt[i]/k+1)*k-cnt[i];\n\t\t\t\t\n\t\t\tsum+=cnt[i];\n\t\t}\n\t\twhile(sum<n-pos-1)\n\t\t{ \n\t\t\tsum += k;\n\t\t\tcnt[0]+=k;\n\t\t}\n\t\tfor(int i=0;i<26;i++)\n\t\t\tfor(int j=0;j<cnt[i];j++)\n\t\t\t\tcout<<char(i+'a');\n\t\tcout<<endl;\n\t} \n\treturn 0;\n}\n```\n\n",
        "postTime": 1618305942,
        "uid": 214455,
        "name": "snnu_lgw",
        "ccfLevel": 0,
        "title": "\u9898\u89e3\uff1acf1493C"
    }
]