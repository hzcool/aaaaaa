[
    {
        "content": "\u8bbe $f(a,b)$ \u4e3a $1$ \u65f6\u5148\u624b\u5fc5\u80dc\uff0c\u4e3a $0$ \u65f6\u5148\u624b\u5fc5\u8d25\u3002\u5047\u8bbe $a<b$\u3002\n\n1. $a=0,f(a,b)=0$\n2. $a=1,f(a,b)=1$\n\n\u7136\u540e\u6839\u636e $b\\leftarrow b \\bmod a$ \u8fd9\u4e2a\u64cd\u4f5c\uff0c\u5f88\u81ea\u7136\u7684\u60f3\u5230\u5982\u679c $f(a,b \\bmod a)=0$ \uff0c\u90a3\u4e48 $f(a,b)=1$\n\n\u5426\u5219\u7684\u8bdd\u5c31\u8981\u8003\u8651 $b \\leftarrow b-a^k$ \u8fd9\u4e2a\u64cd\u4f5c\u4e86\uff0c\n\n\u8003\u8651\u5230 $b \\bmod a$ \u5176\u5b9e\u4e0a\u662f $b-ga$ \uff0c\u8fd9\u4e2a $g=\\lfloor \\dfrac{b}{a} \\rfloor$\uff0c\u7136\u540e\u628a\u4e0a\u9762\u90a3\u4e2a\u64cd\u4f5c\u4e00\u6539 $b-a(a^{k-1})$\uff0c\u5bf9\u6bd4\u4e00\u4e0b\uff1a\n\n$b\\leftarrow b-(a^{k-1})a$\uff0c$b\\leftarrow b-ga$\uff0c\u53d1\u73b0\u4e0d\u7ba1\u600e\u4e48\u6267\u884c $b\\leftarrow b-a^k$ \uff0c\u6700\u540e\u4e00\u5b9a\u4f1a\u7ecf\u8fc7 $(a,b-ga)$\n\n\u56e0\u4e3a $f(a,b \\bmod a)=1$ \uff0c\u6240\u4ee5\u53d6\u5230\u8fd9\u4e2a\u7684\u5c31\u5fc5\u8d25\u4e86\u3002\n\n\u68b3\u7406\u4e00\u4e0b\uff0c\u73b0\u5728\u95ee\u9898\u53d8\u6210\u4e86\u6709 $g$ \u4e2a\u77f3\u5b50\uff0c\u73b0\u5728\u6bcf\u4e2a\u4eba\u4e00\u8f6e\u53ef\u4ee5\u53d6 $1,a,a^2,\\cdots$ \u4e2a\u77f3\u5b50\uff0c\u53d6\u5230\u6700\u540e\u4e00\u4e2a\u77f3\u5b50\u7684\u4eba\u8f93\uff0c\u95ee\u662f\u5426\u5148\u624b\u5fc5\u80dc\u3002\n\n\u611f\u89c9\u5f88\u50cf\u5df4\u4ec0\u535a\u5f08\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u6765\u8fbe\u5230\u5df4\u4ec0\u535a\u5f08\u7684\u6548\u679c\uff1a$h(g)=g \\bmod (a+1)$\n\n\u53d1\u73b0 $h(a^0)=1,h(a^1)=a,h(a^2)=1,h(a^3)=a,\\cdots$\n\n\u6240\u4ee5\u5b9e\u9645\u4e0a\u5728 $\\bmod (a+1)$ \u610f\u4e49\u4e0b\u5c31\u5f52\u7ed3\u4e3a $-1$ \u548c $-a$ \u4e24\u79cd\u64cd\u4f5c\uff0c\u7136\u540e\u7531\u4e8e $(a+1) \\bmod (a+1)=0$ \uff0c\u6240\u4ee5\u5fc5\u80dc\u4e00\u65b9\u53ef\u4ee5\u6a21\u4eff\u64cd\u4f5c\u3002\n\n\u7136\u540e\u5230\u4e86\u53ea\u5269 $a$ \u4e2a\u7684\u65f6\u5019\u6ca1\u4eba\u4f1a\u50bb\u5230\u76f4\u63a5\u556a\u7684\u4e00\u4e0b\u53d6 $a$ \u4e2a\u7136\u540e\u767d\u7ed9 lose\uff0c\u6240\u4ee5\u80af\u5b9a\u662f\u4e00\u4e2a\u4e00\u4e2a\u53d6\uff0c\n\n\u6240\u4ee5\u5c31\u662f $(g \\bmod (a+1))\\bmod 2=0$ \u7684\u65f6\u5019 $f(a,b)=1$\uff0c\u5426\u5219 $f(a,b)=0$l\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(T\\log \\max(a,b))$\n\n```cpp\n// This code wrote by chtholly_micromaker(MicroMaker)\n#include <bits/stdc++.h>\n#define reg register\n#define int long long\ntemplate <class t> inline void read(t &s){s=0;\nreg int f=1;reg char c=getchar();while(!isdigit(c)){if(c=='-')f=-1;c=getchar();}\nwhile(isdigit(c))s=(s<<3)+(s<<1)+(c^48),c=getchar();s*=f;return;}\ntemplate<class t,class ...A> inline void read(t &x,A &...a){read(x);read(a...);}\ntemplate <class t> inline void write(t x){if(x<0)putchar('-'),x=-x;\nint buf[21],top=0;while(x)buf[++top]=x%10,x/=10;if(!top)buf[++top]=0;\nwhile(top)putchar(buf[top--]^'0');return;}\ninline int f(int x,int y) // 0 lose   1 win\n{\n\tif(x>y)std::swap(x,y);\n\tif(!x)return 0;\n\tif(x==1)return 1;\n\tif(!f(x,y%x))return 1;\n\treturn (((y/x)%(x+1))&1)^1;\n}\ninline void work()\n{\n\tint x,y;read(x,y);\n\tstd::puts(f(x,y)?\"First\":\"Second\");\n}\nsigned main(void)\n{\n\tint t;read(t);\n\twhile(t--)\n\t\twork();\n\treturn 0;\n}\n```\n\n",
        "postTime": 1619012922,
        "uid": 51376,
        "name": "MyukiyoMekya",
        "ccfLevel": 9,
        "title": "CF167C Wizards and Numbers \u9898\u89e3"
    },
    {
        "content": "# \u9898\u76ee\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[\u70b9\u8fd9\u91cc](https://www.luogu.org/problem/CF167C)\u770b\u9898\u76ee\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u9898\u76ee\u5927\u610f\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u7565\n# \u5206\u6790  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u627e\u89c4\u5f8b\u7684\u795e\u9898\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~~\u5176\u5b9e\u5c31\u662f\u5199\u4e0d\u6765\u8bc1\u660e\u3002~~  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u9996\u5148\uff0c\u5982\u679c\u5728\u6e38\u620f\u7684\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86$a>b$\u7684\u60c5\u51b5\uff0c\u9ebb\u70e6\u624b\u52a8\u8c03\u6362\u6210$a<b$\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u8bbe$f(a,b)$\u8868\u793a\u5f53\u73a9\u5bb6\u624b\u4e2d\u7684\u72b6\u6001\u4e3a$(a,b)$\u65f6\u662f\u5426\u6709\u5fc5\u80dc\u7b56\u7565\uff0c\u8f93\u51fa\u503c\u4e3a\u5e03\u5c14\u3002$T$\u4ee3\u8868\u6709\uff0c$F$\u4ee3\u8868\u6ca1\u6709\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u4e0b\u9762\u6839\u636e\u9898\u610f\u5206\u6790\u3002\n### Part1\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$f(0,k)=F$\uff08$k\\not=0$\uff09  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~~\u51c9\u90fd\u51c9\u4e86\u8fd8\u60f3\u7ffb\u8eab\uff1f~~  \n### Part2\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u82e5$f(b\\%a,a)=F$\uff0c\u5219$f(a,b)=T$\uff08$a,b\\not=0$\uff09  \n### Part3\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u672c\u9898\u4e3b\u8981\u7684~~\u627e\u89c4\u5f8b~~\u8fc7\u7a0b\u8981\u5f00\u59cb\u4e86\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u8bbe$k=\\lfloor\\frac{b}{a}\\rfloor$\uff1b  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u5f53$a=1$\u65f6\uff0c\u6b64\u65f6\u53ef\u4ee5\u53d1\u73b0\uff0c\u5f53$k$\u4e3a\u5947\u6570\u65f6\uff0c$f(a,b)=F$\uff0c\u53cd\u4e4b$f(a,b)=T$\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u5f53$a=2$\u65f6\uff0c\u6b64\u65f6\u53ef\u4ee5\u53d1\u73b0\uff0c$f$\u7684\u503c\u5b58\u5728\u4e00\u4e2a\u957f\u5ea6\u4e3a$3$\u7684\u6700\u5c0f\u5faa\u73af\u8282\u3002\u8bbe$k'=k\\mod 3$\uff0c\u82e5$k'$\u4e3a\u5947\u6570\uff0c\u5219$f(a,b)=F$\uff0c\u53cd\u4e4b$f(a,b)=T$\uff1b  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u5f53$a=3$\u65f6\uff0c\u53ef\u4ee5\u53d1\u73b0\u7c7b\u4f3c\u4e8e$a=1$\u7684\u89c4\u5f8b\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u5f53$a=4$\u65f6\uff0c$f$\u7684\u503c\u5b58\u5728\u4e00\u4e2a\u957f\u5ea6\u4e3a$5$\u7684\u6700\u5c0f\u5faa\u73af\u8282\u3002\u8bbe$k''=k\\mod 5$\uff0c\u82e5$k''$\u4e3a\u5947\u6570\uff0c\u5219$f(a,b)=F$\uff0c\u53cd\u4e4b$f(a,b)=T$\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;......   \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u603b\u7ed3\u4e00\u4e0b\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u8bbe$g(x)$\u8868\u793a\u5f53$a=x$\u65f6$f(a,b)$\u7684\u503c\u7684\u6700\u5c0f\u5faa\u73af\u8282\u957f\u5ea6\u3002\u5219\u53ef\u4ee5\u77e5\u9053\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$g(x)=\\begin{cases}2&x\\equiv1\\mod 2\\\\a+1&x\\equiv0\\mod 2\\end{cases}$  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u8bbe$k'=k\\mod g(x)$\u3002\u5728\u5faa\u73af\u8282\u4e2d\uff0c\u5b58\u5728\u5982\u4e0b\u89c4\u5f8b\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$f(x,b)=\\begin{cases}T&x\\equiv0\\mod2\\\\F&x\\equiv1\\mod2\\end{cases}$  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u8bc1\u660e\u9700\u8981\u5206\u7c7b\u8ba8\u8bba\u52a0\u6570\u5b66\u5f52\u7eb3\u6cd5\u3002~~\u6211\u53c8\u61d2\u53c8\u7b28\uff0c\u4e0d\u5199\u4e86\u3002~~  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u7528\u8fd9\u4e2a\u89c4\u5f8b\u6765\u5feb\u901f\u5224\u65ad\u80dc\u8d1f\u60c5\u51b5\u5373\u53ef\u3002\u65f6\u95f4$O(\\log_2(\\max\\{a,b\\}))$  \n# \u4ee3\u7801\n```cpp\n#include <cstdio>\n#include <cstdlib>\n\ntypedef long long LL;\n\nconst int MAXA = 5005, MAXB = 5005;\n\ntemplate<typename _T>\nvoid read( _T &x )\n{\n    x = 0;char s = getchar();int f = 1;\n    while( s < '0' || '9' < s ){ if( s == '-' ) f = -1; s = getchar(); }\n    while( '0' <= s && s <= '9' ){ x = ( x << 3 ) + ( x << 1 ) + ( s - '0' ), s = getchar(); }\n    x *= f;\n}\n\ntemplate<typename _T>\nvoid write( _T x )\n{\n    if( x < 0 ){ putchar( '-' ), x = -x; }\n    if( 9 < x ){ write( x / 10 ); }\n    putchar( x % 10 + '0' );\n}\n\ntemplate<typename _T>\n_T MIN( const _T a, const _T b )\n{\n\treturn a < b ? a : b;\n}\n\ntemplate<typename _T>\n_T MAX( const _T a, const _T b )\n{\n\treturn a > b ? a : b;\n}\n\nLL A, B;\n\nbool check( LL a, LL b )\n{\n\tif( a > b ) a ^= b, b ^= a, a ^= b;\n\tif( ! a ) return false;\n\tLL times = b / a;\n\tbool last = check( b % a, a );\n\tif( ! last ) return true;\n\tif( a & 1 )\n\t{\n\t\tif( last ) return  ! ( times & 1 );\n\t\telse return times & 1;\n\t}\n\telse\n\t{\n\t\ttimes %= ( a + 1 );\n\t\tif( last ) return ! ( times & 1 );\n\t\telse return times & 1;\n\t}\n}\n\nint main()\n{\n//\tfreopen( \"game.in\", \"r\", stdin );\n//\tfreopen( \"game.out\", \"w\", stdout );\n\tint T;\n\tread( T );\n\twhile( T -- )\n\t{\n\t\tread( A ), read( B );\n\t\tif( check( A, B ) ) puts( \"First\" );\n\t\telse puts( \"Second\" );\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1564146165,
        "uid": 123809,
        "name": "crashed",
        "ccfLevel": 0,
        "title": "19\u5e74\u9ad8\u4e8c\u6691\u5047\u7b2c\u5341\u56db\u573a\u2014\u2014game"
    },
    {
        "content": "( \u672c\u6587\u4e5f\u4f5c7.26\u8003\u8bd5\u9898\u89e3, \u9644[\u9898\u76ee\u94fe\u63a5](https://www.luogu.org/problem/CF167C) ).  \n\u8fd9\u662f\u4e00\u9053\u535a\u5f08\u9898, \u800c\u5176\u7cbe\u9ad3\u5462, \u5728\u4e8e\u627e\u89c4\u5f8b. \u8bbe\u73b0\u6709\u6570\u5b57$(a,b),a<b$, \u6211\u4eec\u6709\u4e24\u79cd\u64cd\u4f5c:  \n- \u5c06$b$\u5bf9$a$\u53d6\u6a21, \u5373$b$\u53d8\u4e3a$b\\,mod\\,a$;  \n\n- \u4ece$b$\u4e2d\u51cf\u53bb$a$\u7684\u5e42, \u4e0d\u80fd\u51cf\u6210\u8d1f\u6570, \u5373$b$\u53d8\u4e3a$b-a^k$ ( $b-a^k\\ge0,k\\in N_+$ ).  \n\n\u6211\u4eec\u7528\u51fd\u6570$Solve(a,b)$\u6765\u8868\u793a\u8be5\u72b6\u6001\u4e0b\u7684\u80dc\u8d1f, $Solve(a,b)=true$\u4e3a\u5148\u624b\u80dc, \u5426\u5219\u4e3a\u540e\u624b\u80dc. \u7b2c\u4e00\u79cd\u64cd\u4f5c\u662f\u80fd\u591f\u5355\u6b21\u9012\u5f52\u5b9e\u73b0\u7684, \u5373:  \n$$\nSolve(b\\%a,a)=false\\Rightarrow Solve(a,b)=true\n$$\n\u82e5\u6ee1\u8db3\u6b64\u60c5\u51b5, \u76f4\u63a5\u8fd4\u56de$true$.  \n\u5426\u5219, \u6709$Solve(b\\%a,a)=true$, $(b\\%a,a)$\u6210\u4e3a\u4e86\u5148\u624b\u5fc5\u80dc\u6001, \u501f\u6b64, \u6211\u4eec\u6765\u8ba8\u8bba\u64cd\u4f5c\u4e8c\u7684\u5f97\u5931. \u8bbe$b=ka+b\\%a$, \u6211\u4eec\u624b\u73a9\u4e00\u6ce2:  \n\n| \u662f\u5426\u4e3a\u5fc5\u80dc\u6001 | $a=1$ | $a=2$ | $a=3$ | $a=4$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: |\n| $k=0$ | $T$ | $T$ | $T$ | $T$ |\n| $k=1$ | $F$ | $F$ | $F$ | $F$ |\n| $k=2$ | $T$ | $T$ | $T$ | $T$ |\n| $k=3$ | $F$ | $T$ | $F$ | $F$ |\n| $k=4$ | $T$ | $F$ | $T$ | $T$ |\n| $k=5$ | $F$ | $T$ | $F$ | $T$ |\n\u662f\u5426\u53d1\u73b0, $a=x$\u65f6, \u6709\u957f\u5ea6\u4e3a$x+1$\u7684\u72b6\u6001\u5faa\u73af\u8282?~~\u4e0d\u8981\u7838\u7535\u8111/\u6ed1\u7a3d~~.  \n\u90a3\u4e48\u5728\u5faa\u73af\u8282\u4e2d, \u7b2c\u5076\u6570\u4e2a\u72b6\u6001\u4e3a\u5fc5\u80dc\u6001, \u5426\u5219\u4e3a\u5fc5\u8d25\u6001. \u5373:\n$$\n2|k\\%(a+1)\\Rightarrow Solve(a,b)=true\n$$\n\u8be5\u7ed3\u8bba\u53ef\u4ee5\u6570\u5b66\u5f52\u7eb3\u8bc1\u660e ( \u67d0\u673a\u623f$dalao$: \u6709\u89c4\u5f8b\u5c31\u76d8, \u8bc1\u5b83\u5e72\u5417 ).  \n\u8be5\u4e0b\u7ed3\u8bba\u5566:\n$$\nSolve(a,b)=!Solve(b\\%a,a)\\,or\\,2|k\\%(a+1)\n$$\n\u4e0a\u4ee3\u7801:\n```cpp\n#include <cstdio>\n\n#define Int register int\n\ntypedef long long int LL;\n\ninline bool Solve ( const LL a, const LL b ) {\n\tif ( ! a || ! b ) return false;\n\tif ( ! Solve ( b % a, a ) ) return true;\n\tLL k = ( b / a - 1 ) % ( a + 1 );\n\treturn k & 1 || k == a;\n}\n\ninline void Work () {\n\tint T;\n\tLL a, b;\n\tscanf ( \"%d\", &T );\n\twhile ( T -- ) {\n\t\tscanf ( \"%lld %lld\", &a, &b );\n\t\tif ( a > b ) a ^= b, b ^= a, a ^= b;\n\t\tputs ( Solve ( a, b ) ? \"First\" : \"Second\" );\n\t}\n}\n\nint main () {\n//\tfreopen ( \"game.in\", \"r\", stdin );\n//\tfreopen ( \"game.out\", \"w\", stdout );\n\tWork ();\n\treturn 0;\n}\n```",
        "postTime": 1564144458,
        "uid": 123807,
        "name": "Rainybunny",
        "ccfLevel": 9,
        "title": "Jul. 26th, 2019---Game\u9898\u89e3"
    }
]