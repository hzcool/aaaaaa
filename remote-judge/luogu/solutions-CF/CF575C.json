[
    {
        "content": "### CF575C Party\n\n\u9898\u610f\uff1a\u6709 $n$ \u4e2a\u4eba\u548c $n$ \u4e2a\u4ff1\u4e50\u90e8\uff0c\u5206\u4e24\u5929\u53bb\u4ff1\u4e50\u90e8\uff0c\u6bcf\u5929\u6070\u597d\u6709\u4e00\u534a\u4eba\u53bb\uff0c\u5e76\u4e14\u540c\u4e00\u5929\u6bcf\u4eba\u53bb\u7684\u4e0d\u76f8\u540c\n\n\u6bcf\u4eba\u6bcf\u5929\u4f1a\u5bf9\u6bcf\u4e2a\u4ff1\u4e50\u90e8\u6709\u7740\u4e0d\u540c\u7684\u6ee1\u610f\u5ea6\uff0c\u8bf7\u4f60\u786e\u5b9a\u4e00\u79cd\u65b9\u6848\u4f7f\u5f97\u6ee1\u610f\u5ea6\u4e4b\u548c\u6700\u5927\n\n\u53d1\u73b0\u5982\u679c\u6211\u4eec\u80fd\u591f\u786e\u5b9a\u6bcf\u5929\u90fd\u6709\u8c01\u53bb\uff0c\u7136\u540e\u4eba\u5411\u4ff1\u4e50\u90e8\u8fde\u8fb9\uff0c\u5c31\u662f\u4e00\u4e2a\u6700\u5927\u6743\u5b8c\u7f8e\u5339\u914d\u7684\u95ee\u9898\u4e86\n\n\u800c\u679a\u4e3e\u6bcf\u5929\u8c01\u53bb\u52a0\u4e0a\u4e00\u904dKM\u590d\u6742\u5ea6\u4e3a $O(2^nn^3)$ \u770b\u8d77\u6765\u5f88\u5927\uff0c\u4e0d\u8fc7\u5176\u5b9e\u8dd1\u4e0d\u6ee1\uff08\u4e5f\u8bb8\u9012\u5f52\u7684KM\u4f1a\u88ab\u5361\uff09\n\n\n```cpp\n#include <cstring>\n#include <iostream>\nusing namespace std;\nconst int N = 25;\nint A[N][N], B[N][N];\nint lx[N], ly[N], p[N], slack[N], linky[N];\nbool visy[N];\nint n;\nint G[N][N];\nint ans;\nvoid bfs(int u) {\n    int x, v = 0, vl = 0, mmin;\n    for (int i = 1; i <= n; i++) {\n        p[i]     = 0;\n        slack[i] = 0x7f7f7f7f;\n    }\n    linky[v] = u;\n    do {\n        x = linky[v], mmin = 0x7f7f7f7f, visy[v] = 1;\n        for (int y = 1; y <= n; y++) {\n            if (!visy[y]) {\n                if (slack[y] > lx[x] + ly[y] - G[x][y]) {\n                    slack[y] = lx[x] + ly[y] - G[x][y];\n                    p[y]     = v;\n                }\n                if (slack[y] < mmin) {\n                    mmin = slack[y];\n                    vl   = y;\n                }\n            }\n        }\n        for (int y = 0; y <= n; y++) {\n            if (visy[y]) {\n                lx[linky[y]] -= mmin;\n                ly[y] += mmin;\n            } else {\n                slack[y] -= mmin;\n            }\n        }\n        v = vl;\n    } while (linky[v]);\n    while (v) {\n        linky[v] = linky[p[v]];\n        v        = p[v];\n    }\n}\nint KM(int s) {\n    for (int i = 1; i <= n; i++) {\n        memset(visy, 0, sizeof(visy));\n        for (int j = 1; j <= n; j++) {\n            G[i][j] = ((1 << i - 1) & s) ? A[i][j] : B[i][j];\n        }\n        bfs(i);\n    }\n    int res = 0;\n    for (int y = 1; y <= n; y++) {\n        res += G[linky[y]][y];\n    }\n    return res;\n}\nint main() {\n    cin >> n;\n    for (int i = 1; i <= n; i++) {\n        for (int j = 1; j <= n; j++) {\n            cin >> A[i][j];\n            A[i][0] = max(A[i][0], A[i][j]);\n        }\n    }\n    for (int i = 1; i <= n; i++) {\n        for (int j = 1; j <= n; j++) {\n            cin >> B[i][j];\n            B[i][0] = max(B[i][0], B[i][j]);\n        }\n    }\n    int S = (1 << n) - 1;\n    for (int s = 0; s <= S; s++) {\n        if (__builtin_popcount(s) != n / 2) {\n            continue;\n        }\n        for (int i = 1; i <= n; i++) {\n            lx[i] = ((1 << (i - 1)) & s) ? A[i][0] : B[i][0];\n            ly[i] = visy[i] = linky[i] = 0;\n        }\n        ans = max(ans, KM(s));\n    }\n    cout << ans;\n    return 0;\n}\n```\n**Asusetic eru quionours**",
        "postTime": 1618666063,
        "uid": 46099,
        "name": "YCS_GG",
        "ccfLevel": 0,
        "title": "CF575C Party"
    }
]