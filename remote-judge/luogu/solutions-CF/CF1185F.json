[
    {
        "content": "\u56e0\u4e3a\u6750\u6599\u53ea\u6709 $9$ \u79cd\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u6bcf\u4e00\u79cd\u7c7b\u578b\u72b6\u6001\u538b\u7f29\u6210\u4e00\u4e2a\u6570\uff0c\u6240\u4ee5\u603b\u5171\u7684\u79cd\u7c7b\u6570\u53ea\u6709 $2^9=512$ \u79cd\u3002\u5bf9\u4e8e\u6bcf\u4e00\u79cd\u7c7b\u7684\u62ab\u8428\uff0c\u5373\u72b6\u538b\u540e\u7f16\u53f7\u4e3a $0-511$ \u7684\u62ab\u8428\uff0c\u6211\u4eec\u7edf\u8ba1\u4e70\u5b83\u4f1a\u4f7f\u591a\u5c11\u4eba\u6ee1\u610f\u3002\n\n\u7136\u540e\u6211\u4eec\u5bf9\u4e8e $m$ \u4e2a\u62ab\u8428\uff0c\u6211\u4eec\u679a\u4e3e\u4e70\u4e24\u4e2a\u7684\u7f16\u53f7\u6216\u7684\u503c\uff0c\u5224\u65ad\u662f\u5426\u53ef\u884c\u5e76\u4e14\u662f\u5426\u6700\u4f18\uff08\u8fd9\u6837\u5c31\u53ef\u4ee5\u6392\u9664\u67d0\u4e9b\u679a\u4e3e\u65b9\u5f0f\u4e0b\u9700\u8981\u53bb\u91cd\u7684\u95ee\u9898\uff09\u3002\u8fd9\u6837\u663e\u7136\u662f $O(m^2)$ \u7684\uff0c\u8fc7 $10^5$ \u663e\u7136\u4e0d\u73b0\u5b9e\uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651\u4f18\u5316\u3002\n\n\u6211\u4eec\u5728\u505a\u7684\u65f6\u5019\uff0c\u987a\u4fbf\u7ef4\u62a4\u4e00\u4e0b\u6ee1\u8db3\u7f16\u53f7 $i$ \u7684\u62ab\u8428\u7684\u82b1\u8d39\u7684\u6700\u5c0f\u503c\u4ee5\u53ca\u5b83\u7684\u7f16\u53f7\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u505a\u5230\u5728\u5224\u65ad\u65f6\u679a\u4e3e\u4e00\u4e2a\u62ab\u8428\uff0c$O(1)$ \u627e\u5230\u53e6\u4e00\u4e2a\u62ab\u8428\u3002\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(512(n+m))$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n,m,res=-1,ans,A,B,vis[600],cnt[600],v[600];\n//\u6ce8\u610f\u6700\u5927\u4eba\u6570\u7684\u521d\u59cb\u503c\u8981\u8d4b\u8d1f\u503c\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u6ca1\u6709\u4e00\u4e2a\u6ee1\u8db3\u7684\u60c5\u51b5\nsigned main(){\n\tscanf(\"%lld%lld\",&n,&m);\n\tfor(int i=1,k,s;i<=n;i++){\n\t\tscanf(\"%lld\",&k);\n\t\ts=0;\n\t\tfor(int j=1,x;j<=k;j++)\n\t\tscanf(\"%lld\",&x),s|=1<<(x-1);\n\t\tfor(int j=0;j<512;j++)\n\t\tif((s|j)==j)cnt[j]++;//\u7edf\u8ba1\u4eba\u6570\n\t}\n\tfor(int i=1,k,s,c;i<=m;i++){\n\t\tscanf(\"%lld\",&c);\n\t\tscanf(\"%lld\",&k);\n\t\ts=0;\n\t\tfor(int j=1,x;j<=k;j++)\n\t\tscanf(\"%lld\",&x),s|=1<<(x-1);\n\t\tfor(int j=0;j<512;j++){//\u679a\u4e3e\u7f16\u53f7\u6216\u548c\n\t\t\tif((s|j)!=j)continue;\n\t\t\tif(cnt[j]<res)continue;\n\t\t\tint o=j^s;//\u53e6\u5916\u4e00\u4e2a\u62ab\u8428\u7684\u7f16\u53f7\n\t\t\tif(!vis[o])continue;\n\t\t\tif(cnt[j]>res||(cnt[j]==res&&v[o]+c<ans)){\n\t\t\t\tres=cnt[j],ans=v[o]+c;\n\t\t\t\tA=i,B=vis[o];\n\t\t\t}\n\t\t}\n\t\tfor(int j=0;j<512;j++)if((s|j)==s)if(!vis[j]||c<v[j])vis[j]=i,v[j]=c;//\u7ef4\u62a4\n\t\tif(!vis[0]||c<v[0])vis[0]=i,v[0]=c;\n\t}\n\tprintf(\"%lld %lld\",A,B);\n\treturn 0;\n}\n```\n",
        "postTime": 1644460066,
        "uid": 120010,
        "name": "CaiXY06",
        "ccfLevel": 6,
        "title": "solution-cf1185f"
    },
    {
        "content": "\u9898\u9762\u7ffb\u8bd1\u597d\u8bc4\u3002\n\n\u9996\u5148\u6211\u4eec\u53d1\u73b0\u98df\u6750\u53ea\u6709$9$\u79cd\uff0c\u6240\u4ee5\u6bcf\u4e00\u4e2a\u96c6\u5408\u90fd\u53ef\u4ee5\u7528\u4e8c\u8fdb\u5236\u6765\u8868\u793a\u3002\n\n\u6211\u4eec\u8bb0\u5f55$min[s]$\u8868\u793a\u7528\u4e86$s$\u8fd9\u4e2a\u96c6\u5408\u7684\u6240\u6709\u7684\u62ab\u8428\u4e2d\u6700\u5c0f\u7684\u82b1\u8d39\uff0c$num[s]$\u8868\u793a\u9700\u6c42\u4e3a$s$\u7684\u7ba1\u7406\u5458\u4eba\u6570\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u4e24\u4e2a\u96c6\u5408$s_1,s_2$\u8868\u793a\u4f60\u9009\u51fa\u6765\u7684\u62ab\u8428\uff0c\u8fd9\u6837\u80fd\u591f\u6ee1\u8db3\u7684\u4eba\u6570\u5c31\u662f$\\sum_{s'\\in(s_1\\cup s_2)num[s']}$\uff0c\u76f4\u63a5\u679a\u4e3e\u5b50\u96c6\u5373\u53ef\u3002\n\n\u7136\u800c\u8fd9\u4e24\u4e2a\u96c6\u5408\u662f\u53ef\u4ee5\u76f8\u7b49\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u9700\u8981\u5bf9\u6bcf\u4e00\u4e2a\u96c6\u5408\u8bb0\u5f55\u4e00\u4e0b\u7b2c\u4e8c\u5c0f\u7684\u82b1\u8d39\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nint n,m,a[100005],c[100005],s[100005],minc[1<<9],minc2[1<<9],ans[1<<9],num[1<<9];\nint kind[1<<9],k2[1<<9],x[1<<9],y[1<<9];\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++)\n    {\n        int k;\n        scanf(\"%d\",&k);\n        while(k--)\n        {\n            int x;\n            scanf(\"%d\",&x);\n            a[i]|=1<<(x-1);\n        }\n        num[a[i]]++;\n    }\n    memset(minc,0x3f,sizeof(minc));\n    memset(minc2,0x3f,sizeof(minc2));\n    memset(ans,0x7f,sizeof(ans));\n    for(int i=1;i<=m;i++)\n    {\n        scanf(\"%d\",&c[i]);\n        int k;\n        scanf(\"%d\",&k);\n        while(k--)\n        {\n            int x;\n            scanf(\"%d\",&x);\n            s[i]|=1<<(x-1);\n        }\n        if(c[i]<minc[s[i]])\n        {\n            minc2[s[i]]=minc[s[i]];\n            minc[s[i]]=c[i];\n            k2[s[i]]=kind[s[i]];\n            kind[s[i]]=i;\n        }\n        else if(c[i]<minc2[s[i]])\n        {\n            minc2[s[i]]=c[i];\n            k2[s[i]]=i;\n        }\n    }\n    for(int i=0;i<(1<<9);i++)\n    {\n        if(kind[i]&&k2[i])\n        {\n            ans[i]=minc[i]+minc2[i];\n            x[i]=k2[i],y[i]=kind[i];\n        }\n    }\n    for(int i=0;i<(1<<9);i++)\n    for(int j=i+1;j<(1<<9);j++)\n    {\n        if(minc[i]>1000000000||minc[j]>1000000000)continue;\n        ans[i|j]=min(ans[i|j],minc[i]+minc[j]);\n        if(ans[i|j]==minc[i]+minc[j])\n        {\n            x[i|j]=kind[i];\n            y[i|j]=kind[j];\n        }\n    }\n    int res=0,maxx=-1,val=2147483647;\n    for(int i=0;i<(1<<9);i++)\n    {\n        if(ans[i]>2000000000)continue;\n        int now=0;\n        for(int j=0;j<(1<<9);j++)\n        {\n            if((j&i)==j)\n              now+=num[j];\n        }\n        if(now>maxx)res=i,maxx=now,val=ans[i];\n        else if(now==maxx&&ans[i]<val)res=i,val=ans[i];\n    }\n    printf(\"%d %d\\n\",x[res],y[res]);\n    return 0;\n}\n```",
        "postTime": 1561275146,
        "uid": 54214,
        "name": "wucstdio",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF1185F \u3010Two Pizzas\u3011"
    },
    {
        "content": "\n## \u9898\u89e3\uff1a\n\n[\u9898\u89e3\u535a\u5ba2\u4f20\u9001\u95e8](https://www.cnblogs.com/fusiwei/p/11822348.html)\n\n~~2019.11.8\u6a21\u62df\u8d5bT2 30\u5206\u573a~~\n\n\u524d\u4e00\u5929\u521a\u5b66\u72b6\u538b\u5c31\u6765\u4e00\u9053\u72b6\u538b\u7684\u9898\uff0c\u867d\u7136\u6ca1\u573a\u4e0a\u5207\u4f46\u8fd8\u662f\u611f\u8c22\u51fa\u9898\u4eba@ysy20021208\uff0c\u5438\u4e00\u53e3\u5927\u4f6c\u6b27\u6c14\u3002\n\n\u4e00\u5f00\u59cb\u770b\u5230\u6570\u636e\u8303\u56f4\u679c\u65ad\u9009\u62e9\u4e86\u72b6\u538b\uff0c\u4e00\u770b\u5c31\u662f\u8fd99\u79cd\u4e1c\u897f\u9009\u8fd8\u662f\u6ca1\u9009\uff0c\u7136\u540e\u89c9\u5f97\u53ef\u4ee5\u4f9d\u6b21\u679a\u4e3e\u8fd9$m$\u5f20\u62ab\u8428\u4e24\u4e24\u642d\u914d\u5408\u5e76\u4e4b\u540e\u80fd\u6ee1\u8db3\u591a\u5c11\u4eba\u7684\u6b32\u671b\u3002\u8fdb\u884c\u66f4\u65b0\u3002\u4e00\u770b\u8fd9\u590d\u6742\u5ea6\u662f$O(N*M*M)$\u7684\uff0c\u80af\u5b9a\u662f\u5e9f\u53ea\u80fd\u62ff30\u5206\u3002\u540e\u6765\u4e00\u60f3\uff1a\u867d\u7136$n$\u662f$10^5$\u7ea7\u522b\u7684\uff0c\u4f46\u662f\u8fd9$9$\u4f4d\u7684\u72b6\u6001\u65e0\u8bba\u5982\u4f55\u53ea\u80fd\u642d\u914d\u51fa$512(2^9)$\u79cd\u53ef\u80fd\uff0c\u6240\u4ee5$N$\u5c31\u88ab\u6211\u4eec\u4f18\u5316\u5230\u4e86$512$\uff0c\u7136\u540e\u4e00\u987f\u4e71\u641e\uff0c\u6700\u540e\u8fd8\u662f\u62ff\u4e8630\u5206\uff08\u6ed1\u7a3d\uff09\n\n\uff08\u66b4\u529b\u8003\u573a\u4ee3\u7801\u4f7f\u7528\u4e86\u5404\u79cd$C++STL$...\uff09\n\n```cpp\n#include<cstdio>\n#include<bitset>\n#include<vector>\n#include<algorithm>\n#include<iostream>\nusing namespace std;\nconst int maxn=1e5+10;\nconst int INF=2147483645;\nint n,m,maxx,minn=INF,ansx,ansy,tot;\nbitset<10> t;\nbitset<10> s[1<<9+1];\nvector<pair<int,bitset<10> > >vec;\nstruct node\n{\n    int v,id;\n    bitset<10> x;\n}p[maxn];\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++)\n    {\n        int a,f;\n        bitset<10> tt;\n        scanf(\"%d\",&a);\n        for(int j=1;j<=a;j++)\n        {\n            int k;\n            scanf(\"%d\",&k);\n            tt.set(k);\n        }\n        for(int j=0;j<vec.size();j++)\n            if(vec[j].second==tt)\n            {\n                vec[j].first++;\n                break;\n            }\n        vec.push_back(make_pair(1,tt));\n    }\n    for(int i=1;i<=m;i++)\n    {\n        int a;\n        scanf(\"%d%d\",&p[i].v,&a);\n        for(int j=1;j<=a;j++)\n        {\n            int k;\n            scanf(\"%d\",&k);\n            p[i].x.set(k);\n        }\n        p[i].id=i;\n    }\n    maxx=-1;\n    for(int i=1;i<=m;i++)\n        for(int j=i;j<=m;j++)\n        {\n            tot=0;\n            if(i==j)\n                continue;\n            t=(p[i].x|p[j].x);\n            for(int k=0;k<vec.size();k++)\n                if((vec[k].second&t)==vec[k].second)\n                    tot+=vec[k].first;   \n            if(tot>=maxx)\n            {\n                if(tot>maxx)\n                    minn=INF;\n                maxx=tot;\n                if((p[i].v+p[j].v)<minn)\n                {\n                    ansx=i,ansy=j;\n                    minn=p[i].v+p[j].v;\n                }\n            }\n        }\n    printf(\"%d %d\",ansx,ansy);\n    return 0;\n}\n```\n\n\u7136\u540e\u6211\u8be6\u7ec6\u4ecb\u7ecd\u4e00\u4e0b\u770b\u5b8c\u9898\u89e3\u4e4b\u540e\u81ea\u5df1\u634b\u987a\u7684\u6ee1\u5206\u601d\u8def\uff1a\n\n\u5176\u5b9e\u66b4\u529b\u60f3\u7684\u65f6\u5019\u5df2\u7ecf\u79bb\u6b63\u89e3\u597d\u8fd1\u4e86\uff08\u771f\u662f\u9057\u61be\uff09\u3002\n\n\u6211\u60f3\u5230\u4e86\u628a$n$\u4e2a\u4eba\u7684\u72b6\u6001\u8fdb\u884c\u5305\u542b\u6027\u8d28\u7684\u679a\u4e3e\uff0c\u4f46\u662f\u5c31\u662f\u6ca1\u60f3\u5230$m$\u5f20\u62ab\u8428\u4e5f\u53ef\u4ee5\u8fd9\u4e48\u5e72\uff08\u7b80\u76f4\u532a\u5937\u6240\u601d\uff09\u3002\n\n\u770b\u4e00\u4e0b\u9898\uff1a\u6211\u4eec\u53d1\u73b0\uff1a\u5bf9\u4e8e\u4e24\u5f20\u62ab\u8428\uff0c\u5b83\u4eec\u6709\u53ef\u80fd\u80fd\u6ee1\u8db3\u540c\u4e00\u4e2a\u4eba\u7684\u9700\u6c42\uff0c\u8fd9\u65f6\uff0c\u8fd9\u4e24\u5f20\u62ab\u8428\u4e4b\u95f4\u80af\u5b9a\u662f\u5b50\u96c6\u6216\u771f\u5b50\u96c6\u7684\u5173\u7cfb\u3002\u90a3\u4e48\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u628a$m$\u5f20\u62ab\u8428\u4e5f\u201c\u9700\u6c42\u5316\u201d\u3002\u4ec0\u4e48\u610f\u601d\u5462\uff1f\u65e2\u7136\u679a\u4e3e\u6240\u6709\u7684$n,m$\u590d\u6742\u5ea6\u8fc7\u9ad8\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u201c\u8981\u4ec0\u4e48\u62ff\u4ec0\u4e48\u201d\uff0c\u8bbe\u7f6e$minn[st]$\u6570\u7ec4\u6765\u5b58\u80fd\u6ee1\u8db3\u9700\u6c42\u4e3a$st$\u7684\u4eba\u7684\u6240\u6709\u62ab\u8428\u4e2d\u4ef7\u503c\u6700\u5c0f\u7684\u90a3\u5f20\u7684\u82b1\u8d39\u3002\u5e76\u4e14\uff0c\u5b58\u50a8$num[st]$\u8868\u793a\u9700\u6c42\u4e3a$st$\u7684\u4eba\u7684\u4eba\u6570\u3002**\u540c\u65f6**\uff0c\u56e0\u4e3a\u6211\u4eec\u9700\u8981\u9009\u62e9\u6700\u4f18\u79c0\u7684\u4e24\u5f20\u62ab\u8428\uff0c\u6240\u4ee5\u8fd8\u9700\u8981\u8bb0\u5f55\u4e00\u4e0b\u6ee1\u8db3\u9700\u6c42\u4e3a$st$\u7684\u4eba\u7684\u6240\u6709\u62ab\u8428\u4e2d\u4ef7\u503c**\u7b2c\u4e8c\u5c0f**\u7684\u82b1\u8d39\u4e3a$minn2[st]$\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5728\u5bf9\u62ab\u8428\u4eec\u8fdb\u884c\u9884\u5904\u7406\u7684\u65f6\u5019\uff0c\u5c31\u53ef\u4ee5\u987a\u9053\u628a\u8fd9\u4e24\u4e2a\u6570\u7ec4\u5904\u7406\u51fa\u6765\u3002\u5e76\u4e14\uff0c\u56e0\u4e3a\u6211\u4eec\u6700\u7ec8\u8981\u8f93\u51fa\u62ab\u8428\u7684\u7f16\u53f7\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u9700\u8981\u53e6\u5f00\u6570\u7ec4$k,k2$\u6765\u5b58\u5f53\u524d\u72b6\u6001\u6700\u5c0f\u4ef7\u503c\u62ab\u8428\u7684\u7f16\u53f7\u3001\u6b21\u5c0f\u4ef7\u503c\u62ab\u8428\u7684\u7f16\u53f7\u3002\n\n\u7136\u540e\u6211\u4eec\u5c31\u5b8c\u6210\u4e86\u66b4\u529b\u7684\u4f18\u5316\u3002\u7531\u539f\u6765\u7684$O(m^2)$\u7ea7\u522b\u7684\u590d\u6742\u5ea6\u6210\u529f\u964d\u4f4e\u5230\u4e86$O(512\\times 512)$\u7684\u590d\u6742\u5ea6\u3002\u6240\u4ee5\uff0c\u5728\u6211\u4eec\u72b6\u6001\u538b\u7f29\u7684\u65f6\u5019\uff0c\u61c2\u5f97\u4f18\u5316\u590d\u6742\u5ea6\uff0c\u4e00\u5b9a\u8981\u4ece\u72b6\u6001\u5165\u624b\uff0c\u770b\u679a\u4e3e\u7684\u4e1c\u897f\u80fd\u4e0d\u80fd\u6309\u72b6\u6001\u8fdb\u4e00\u6b65\u538b\u7f29\u800c\u53d8\u5f97\u66f4\u5feb\u3002\n\nAC\u4ee3\u7801:\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nconst int maxn=1e5+10;\nconst int maxs=1<<9;\nint n,m;\nint a[maxn],b[maxn],v[maxn],num[maxs];\nint minn[maxs],minn2[maxs],k[maxs],k2[maxs];\nint ans[maxs],ansx[maxs],ansy[maxs];\nint main()\n{\n    memset(minn,0x3f,sizeof(minn));\n    memset(minn2,0x3f,sizeof(minn2));\n    memset(ans,0x7f,sizeof(ans));\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++)\n    {\n        int p;\n        scanf(\"%d\",&p);\n        for(int j=1;j<=p;j++)\n        {\n            int k;\n            scanf(\"%d\",&k);\n            a[i]|=1<<(k-1);\n        }\n        num[a[i]]++;\n    }\n    for(int i=1;i<=m;i++)\n    {\n        int p;\n        scanf(\"%d%d\",&v[i],&p);\n        for(int j=1;j<=p;j++)\n        {\n            int k;\n            scanf(\"%d\",&k);\n            b[i]|=1<<(k-1);\n        }\n        if(v[i]<minn[b[i]])\n        {\n            minn2[b[i]]=minn[b[i]];\n            minn[b[i]]=v[i];\n            k2[b[i]]=k[b[i]];\n            k[b[i]]=i;\n        }\n        else if(v[i]<minn2[b[i]])\n        {\n            minn2[b[i]]=v[i];\n            k2[b[i]]=i;\n        }\n    }\n    for(int i=0;i<maxs;i++)\n        if(k[i]&&k2[i])\n        {\n            ans[i]=minn[i]+minn2[i];\n            ansx[i]=k2[i],ansy[i]=k[i];\n        }\n    for(int i=0;i<maxs;i++)\n        for(int j=i+1;j<maxs;j++)\n        {\n            if(minn[i]>1000000000 || minn[j]>1000000000)\n                continue;\n            ans[i|j]=min(ans[i|j],minn[i]+minn[j]);\n            if(ans[i|j]==minn[i]+minn[j])\n            {\n                ansx[i|j]=k[i];\n                ansy[i|j]=k[j];\n            }\n        }\n    for(int i=0;i<maxs;i++)\n        printf(\"%d\\n\",ans[i]);\n    int target=0,maxx=-1,mi=2100000000;\n    for(int i=0;i<maxs;i++)\n    {\n        if(ans[i]>2000000000)\n            continue;\n        int tmp=0;\n        for(int j=0;j<maxs;j++)\n            if((j&i)==j)\n                tmp+=num[j];\n        if(tmp>maxx)\n            target=i,maxx=tmp,mi=ans[i];\n        else if(tmp==maxx && ans[i]<mi)\n            target=i,mi=ans[i];\n    }\n    printf(\"%d %d\\n\",ansx[target],ansy[target]);\n    return 0;\n}\n```\n\n",
        "postTime": 1573210571,
        "uid": 175131,
        "name": "\u5085\u601d\u7ef4666",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1185F \u3010Two Pizzas\u3011"
    }
]