[
    {
        "content": "\u7b2c $1$ \u6b65\uff0c\u8f93\u5165\uff0c\u7136\u540e\u5efa\u6811\u3002\n\n\u7b2c $2$ \u6b65\uff0c$dfs$ \uff0c\u628a\u6bcf\u4e2a\u8282\u70b9\u67d3\u8272\u3002\u7b2c\u4e00\u4e2a\u70b9\u5f00\u59cb\uff0c\u627e\u5230\u548c\u8fd9\u4e2a\u8282\u70b9\u6709\u76f8\u540c\u51b0\u6fc0\u51cc\u7684\u8282\u70b9\u7ee7\u7eed\u62d3\u5c55\uff0c\u67d3\u7684\u989c\u8272\u5c31\u662f\u6ca1\u6709\u51fa\u73b0\u8fc7\u4e14\u7f16\u53f7\u6700\u5c0f\u7684\u989c\u8272\uff0c\u540c\u6837\u7684\u51b0\u6fc0\u51cc\u67d3\u7684\u989c\u8272\u4e5f\u4e00\u6837\u3002\n\n\u7b2c $3$ \u6b65\uff0c\u8f93\u51fa\uff0c\u989c\u8272\u79cd\u7c7b\u6570\u5c31\u662f $max(s_i)$ \u3002\u7136\u540e\u8f93\u51fa\u6bcf\u4e2a\u8282\u70b9\u7684\u989c\u8272\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u8f93\u51fa $1$ \u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read() //\u5feb\u8bfb\n{\n   int s=0,w=1;\n   char ch=getchar();\n   while(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n   while(ch>='0'&&ch<='9') s=s*10+ch-'0',ch=getchar();\n   return s*w;\n}\ninline void write(int x) //\u5feb\u51fa\n{\n    if(x<0)\n\t{\n    \tputchar('-');\n\t\tx=-x;\n\t}\n    if(x>9)\n\t\twrite(x/10);\n    putchar(x%10+'0');\n}\nvector<int> a[300005]; //\u5b9a\u4e49\nvector<int> b[300005];\nmap<int, int> v;\nint c[300005];\nvoid dfs(int x, int y) { //\u67d3\u8272\n\tv.clear();\n\tfor(int i = 0; i < a[x].size(); i++){\n\t\tif(c[a[x][i]]){ //\u524d\u9762\u67d3\u8fc7\u540c\u6837\u7684\u51b0\u6fc0\u51cc\n\t\t\tv[c[a[x][i]]] = 1;\n\t\t}\n\t}\n\tint l = 0;\n\tfor(int i = 0; i < a[x].size(); i++){\n\t\tif(!c[a[x][i]]){\n\t\t\twhile(1){ //\u627e\u6ca1\u6709\u51fa\u73b0\u8fc7\u4e14\u7f16\u53f7\u6700\u5c0f\u7684\u989c\u8272\n\t\t\t\tif(!v[++l]){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tc[a[x][i]] = l; //\u67d3\u8272\n\t\t}\n\t}\n    for(int i = 0; i < b[x].size(); i++)\n        if(b[x][i] != y)\n        \tdfs(b[x][i], x); //\u7ee7\u7eed\u62d3\u5c55\n    return ;\n}\nint main() {\n\tint n, m, s = 1; //s\u8868\u793a\u989c\u8272\u79cd\u7c7b\u6570\n\tn = read(); //\u8f93\u5165\n\tm = read();\n\tfor(int i = 1; i <= n; i++){\n\t\tint x;\n\t\tx = read();\n\t\ts = max(s, x);\n\t\tfor(int j = 1; j <= x; j++){\n\t\t\ta[i].push_back(read());\n\t\t}\n\t}\n\tfor(int i = 1; i < n; i++){\n\t\tint x, y;\n\t\tx = read();\n\t\ty = read();\n\t\tb[x].push_back(y);\n\t\tb[y].push_back(x);\n\t}\n   dfs(1, -1); //\u67d3\u8272\n   write(s); //\u8f93\u51fa\n   puts(\"\");\n\tfor(int i = 1; i <= m; i++){\n\t\twrite(c[i] == 0 ? 1 : c[i]);\n\t\tputchar(' ');\n\t}\n\tputs(\"\");\n\treturn 0;\n} \n```\n",
        "postTime": 1602334213,
        "uid": 200429,
        "name": "chufuzhe",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF804C \u3010Ice cream coloring\u3011"
    }
]