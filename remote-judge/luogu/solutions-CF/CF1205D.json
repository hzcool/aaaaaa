[
    {
        "content": "\n\u795e\u4ed9\u9898\n\n\u9996\u5148\u9009\u4e00\u4e2a\u70b9\u4f5c\u6811\u6839\uff0c\u53ea\u8003\u8651\u7ecf\u8fc7\u6839\u7684\u8def\u5f84\n\n\u90a3\u4e48\u5148\u8003\u8651\u4e00\u4e2a\u95ee\u9898\uff0c\u5728\u4e00\u4e2a\u5927\u5c0f\u4e3a$n$\u7684\u5b50\u6811\u4e2d\uff0c\u8ba9\u6bcf\u4e2a\u70b9\u5230\u6839\u7684\u8def\u5f84\u957f\u5ea6\u51d1\u51fa$a,2a,\\ldots,(n-1)a$\n\n\u8fd9\u4e2a\u5f88\u597d\u6784\u9020\u3002\u5148\u627e\u51fa\u6240\u6709\u513f\u5b50\uff0c\u5206\u522b\u4e3a$son_1,\\ldots,son_m$\uff0c\u5b50\u6811\u5927\u5c0f\u4e3a$siz_1,\\ldots,siz_m$\u3002\u6839\u5230\u7b2c$i$\u4e2a\u513f\u5b50\u7684\u8fb9\u6743\u662f$(1+\\sum_{j<i}siz_j)a$\uff0c\u7136\u540e\u5bf9\u6bcf\u4e2a\u513f\u5b50\u9012\u5f52\u4e0b\u53bb\u505a\u3002\n\n\u73b0\u5728\u5047\u8bbe\u9009\u4e86\u4e00\u4e2a\u6839\u8282\u70b9$rt$\uff0c\u5c06\u513f\u5b50\u5206\u4e3a\u4e24\u7ec4$A,B$\uff0c\u5206\u522b\u505a\u4e0a\u9762\u7684\u7b97\u6cd5\uff0c\u5176\u4e2d$A$\u6743\u503c\u662f$1,2,\\ldots,siz_A$\uff0c$B$\u6743\u503c\u662f$siz_A+1,2(siz_A+1),\\ldots,siz_B(siz_A+1)$\n\n\u90a3\u4e48\u4ece$A$\u5230\u6839\u8282\u70b9\u5230$B$\u7684\u8def\u5f84\u53ef\u4ee5\u51d1\u51fa\u6765$1$\u5230$(siz_A+1)(siz_B+1)-1$\u4e2d\u6240\u6709\u6570\n\n\u8003\u8651\u600e\u4e48\u5c06\u513f\u5b50\u5206\u7ec4\uff0c$(siz_A+1)(siz_B+1)-1$\u53ef\u4ee5\u5230\u8fbe$\\lfloor\\frac{2n^2}{9}\\rfloor$\n\n\u663e\u7136\u4e24\u8fb9\u5c3d\u91cf\u63a5\u8fd1\u624d\u80fd\u8ba9\u7ed3\u679c\u66f4\u4f18\n\n\u5982\u679c$siz_A,siz_B$\u90fd\u4e0d\u5c0f\u4e8e$\\lceil\\frac{n-1}{3}\\rceil$\uff0c\u90a3\u4e48\u6700\u6781\u7aef\u7684\u60c5\u51b5\u5c31\u662f$siz_A=\\frac{n-1}{3}$\uff0c\u7ed3\u679c$\\ge (\\frac{n+2}{3})(\\frac{2n+1}{3})-1=\\frac{2n^2+5n-7}{9}$\n\n\u9700\u8981\u7684\u662f$\\frac{2n^2}{9}$\u3002\u7ed3\u679c\u5728$n>1$\u65f6\u6b63\u786e\uff0c$n=1$\u65e0\u9700\u8003\u8651\u3002\n\n\u90a3\u4e48\u9700\u8981\u9009\u4e00\u4e2a\u6839\u548c\u5212\u5206\u8ba9$siz_A,siz_B\\geq \\lceil\\frac{n-1}{3}\\rceil$\n\n\u5982\u679c\u5b50\u6811\u6570\u91cf$\\ge 4$\uff0c\u4e00\u5b9a\u6709\u4e24\u4e2a\u5b50\u6811\u5927\u5c0f\u4e4b\u548c$\\le \\frac n2$\u53ef\u4ee5\u4e0d\u65ad\u5408\u5e76\u3002\n\n\u5982\u679c\u5b50\u6811\u6570\u91cf$\\ge 3$\uff0c\u5408\u5e76\u6700\u5c0f\u7684\u4e24\u4e2a\u5b50\u6811\uff0c\u5269\u4e0b\u90a3\u4e2a\u5927\u5c0f\u4e00\u5b9a$\\geq\\frac{n-1}{3}$\uff0c\u90a3\u4e48\u53e6\u4e00\u4e2a\u5927\u5c0f\u4e5f\u4f1a$\\leq 2\\frac{n-1}{3}$\u3002\n\n\u5b50\u6811\u6570\u91cf\u4e3a$1$\u53ea\u53ef\u80fd\u662f$n=2$\uff0c\u65e0\u9700\u8003\u8651\n\n\u5408\u5e76\u5b8c\u4e4b\u540e\u5b50\u6811\u6570\u91cf\u53ea\u53ef\u80fd\u4e3a$2$\uff0c\u8fd9\u65f6\u5982\u679c\u6709\u4e00\u4e2a\u5b50\u6811\u5927\u5c0f$\\ge \\frac{2}{3}(n-1)$\u5c31\u4e0d\u5408\u6cd5\u3002\n\n\u9009\u91cd\u5fc3\u505a\u6839\uff0c\u6700\u5927\u7684\u5b50\u6811\u5927\u5c0f\u5c0f\u4e8e\u7b49\u4e8e$\\frac{n}{2}$\uff0c\u5c31\u5408\u6cd5\u4e86\u3002\n\nhttps://codeforces.com/contest/1205/submission/59208736\n\n",
        "postTime": 1566375831,
        "uid": 23118,
        "name": "\u03bb\u1d09\u028d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1205D \u3010Almost All\u3011"
    },
    {
        "content": "[CF1205D Almost All](https://www.luogu.com.cn/problem/CF1205D)\n\n\u591a\u4e2a\u5b50\u6811\u4e4b\u95f4\u4ea7\u751f\u8d21\u732e\u4e0d\u65b9\u4fbf\u5904\u7406\u3002\u6ce8\u610f\u5230 $\\dfrac 2 9$ \u53ef\u4ee5\u62c6\u6210 $\\dfrac 1 3\\times \\dfrac 2 3$\uff0c\u4e14 $\\dfrac 1 3 + \\dfrac 2 3 = 1$\uff0c\u8fd9\u542f\u53d1\u6211\u4eec\u5c06\u539f\u6811\u4ee5\u67d0\u4e2a\u70b9\u4e3a\u4e2d\u5fc3\u5206\u6210\u4e24\u68f5\u5b50\u6811 $T_1, T_2$\uff0c\u8bbe\u91cd\u5408\u70b9\u4e3a $r$\uff0c\u5219\u6211\u4eec\u5bb9\u6613\u901a\u8fc7\u6807\u8fb9\u6743\u4f7f\u5f97 $T_1$ \u6bcf\u4e2a\u70b9\u5230 $r$ \u7684\u8ddd\u79bb\u4e3a $0\\sim |T_1| - 1$\uff0c$T_2$ \u6bcf\u4e2a\u70b9\u5230 $r$ \u7684\u8ddd\u79bb\u4e3a $(0\\sim |T_2| - 1) |T_1|$\uff0c\u505a\u5230\u4f7f\u5f97\u8ddd\u79bb $1\\sim |T_1||T_2| - 1$ \u5747\u51fa\u73b0\u3002\n\n\u5c06 $r$ \u4ece $|T_1|$ \u548c $|T_2|$ \u4e2d\u53bb\u6389\uff0c\u5219 $|T_1| + |T_2| = n - 1$\u3002$|T_1|$ \u548c $|T_2|$ \u53ea\u9700\u5747\u4e0d\u5c0f\u4e8e $\\dfrac {n - 1} 3$ \u5373\u53ef\u7b26\u5408\u9898\u76ee\u8981\u6c42\u3002\n\n\u50cf\u8fd9\u79cd\u5b50\u6811\u5927\u5c0f\u76f8\u5173\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u4ece\u6700\u6709\u6027\u8d28\u7684\u91cd\u5fc3\u5165\u624b\u3002\u56e0\u4e3a\u91cd\u5fc3\u6ca1\u6709\u5927\u5c0f\u5927\u4e8e $\\dfrac n 2$ \u7684\u5b50\u6811\uff0c\u6240\u4ee5\u82e5\u5b58\u5728\u5927\u5c0f\u4e0d\u5c0f\u4e8e $\\dfrac {n - 1} 3$ \u7684\u5b50\u6811\uff0c\u5219\u76f4\u63a5\u5c06\u5176\u5212\u5206\u81f3 $T_1$\uff0c\u5426\u5219\u4e0d\u65ad\u9009\u5b50\u6811\u76f4\u5230\u5927\u5c0f\u4e0d\u5c0f\u4e8e $\\dfrac {n - 1} 3$\uff0c\u5219\u56e0\u6240\u6709\u5b50\u6811\u5927\u5c0f\u5747\u5c0f\u4e8e $\\dfrac {n - 1} 3$\uff0c\u6240\u4ee5\u6700\u7ec8 $|T_1| \\leq \\dfrac {2n - 3} 3$\uff0c\u6545 $|T_2| \\geq \\dfrac {n - 1} 3$\u3002[\u4ee3\u7801](https://codeforces.com/contest/1205/submission/182301441)\u3002",
        "postTime": 1669247558,
        "uid": 123294,
        "name": "Alex_Wei",
        "ccfLevel": 10,
        "title": "CF1205D Almost All"
    },
    {
        "content": "[CF1205D Almost All](https://www.luogu.com.cn/problem/CF1205D) \u89e3\u9898\u62a5\u544a\uff1a\n\n[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/xiaoziyao/p/15679743.html)\n\n## \u9898\u610f\n\n\u7ed9\u5b9a\u4e00\u9897 $n$ \u4e2a\u70b9\u7684\u6811\uff0c\u6784\u9020\u6811\u7684\u8fb9\u6743\u4f7f\u5f97\u5bf9\u4e8e $x\\in[1,\\lfloor\\frac{2n^2}{9}\\rfloor]$ \u90fd\u5b58\u5728\u4e00\u6761\u8def\u5f84\u4f7f\u5f97\u8def\u5f84\u8fb9\u6743\u548c\u4e3a $x$\u3002\n\n$1\\leqslant n\\leqslant 1000$\u3002\n\n## \u5206\u6790\n\nnb \u9898\u3002\n\n\u9996\u5148\u5bb9\u6613\u6784\u9020\u51fa\u4e00\u79cd\u57fa\u672c\u64cd\u4f5c\uff1a\u5bf9\u4e8e\u4e00\u9897 $n$ \u4e2a\u70b9\u7684\u6811\uff0c\u6839\u5230\u6bcf\u4e2a\u70b9\u7684\u8def\u5f84\u957f\u5ea6\u53d6\u904d $1,2,3,\\cdots,n-1$\uff0c\u53ea\u9700\u8981\u8dd1\u51fa dfn \u5e8f\u7136\u540e\u8fb9\u6743\u7b49\u4e8e\u76f8\u90bb\u70b9 dfn \u5e8f\u4e4b\u5dee\u5373\u53ef\u3002\n\n\u8003\u8651\u9009\u62e9\u4e00\u4e2a\u6839\uff0c\u5c06\u513f\u5b50\u5206\u6210\u4e24\u4e2a\u90e8\u5206 A \u548c B\uff08\u5927\u5c0f\u5206\u522b\u4e3a $p,q$\uff09\uff0cA \u90e8\u5206\u4f7f\u7528\u4e0a\u9762\u7684\u65b9\u6cd5\u505a\u51fa $1,2,\\cdots,p$ \u7684\u8def\u5f84\u957f\u5ea6\uff0cB \u90e8\u5206\u505a\u51fa $1,2,\\cdots,q$ \u7684\u8def\u5f84\u957f\u5ea6\uff0c\u7136\u540e\u5c06\u6240\u6709\u8fb9\u6743\u4e58 $(p+1)$\uff0c\u5bb9\u6613\u53d1\u73b0\u8fd9\u6837\u53ef\u4ee5\u62fc\u51d1\u51fa $(p+1)(q+1)-1$ \u7684\u6240\u6709\u957f\u5ea6\u3002\n\n\u90a3\u4e48\u6211\u4eec\u8981\u9009\u62e9\u51fa\u4e00\u7ec4\u6bd4\u8f83\u5747\u8861\u7684 $p,q$ \u6ee1\u8db3 $(p+1)(q+1)-1\\geqslant \\lfloor\\frac{2n^2}{9}\\rfloor$\u3002\n\n\u8003\u8651\u600e\u4e48\u8ba9 $p,q$ \u5747\u8861\uff1a\n\n\u9996\u5148\u9009\u62e9\u91cd\u5fc3\u4e3a\u6839\uff0c\u90a3\u4e48\u6240\u6709\u5b50\u6811\u5927\u5c0f\u5c0f\u4e8e\u7b49\u4e8e $\\lfloor\\frac{n}{2}\\rfloor$\u3002\n\n\u6211\u4eec\u53ea\u9700\u8981\u5c06\u5b50\u6811\u6309\u7167\u5927\u5c0f\u6392\u5e8f\uff0c\u9009\u62e9\u4e00\u6bb5\u524d\u7f00\u4f7f\u5f97\u5176\u6070\u597d\u5927\u4e8e\u7b49\u4e8e $\\lfloor\\frac{n}{3}\\rfloor$ \u5373\u53ef\uff0c\u5bb9\u6613\u53d1\u73b0\u8fd9\u4e9b\u5b50\u6811\u7684\u5927\u5c0f\u4e4b\u548c\u4e0d\u8d85\u8fc7 $2\\lfloor\\frac{n}{3}\\rfloor$\u3002\n\n\u8ba1\u7b97\u53ef\u5f97\u4e0a\u8ff0\u6784\u9020\u7b26\u5408\u6761\u4ef6\uff0c\u4e8e\u662f\u76f4\u63a5\u505a\u5373\u53ef\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log n)$\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<stdio.h>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nconst int maxn=1005;\nint n,p,ids,dfns;\nint sz[maxn],val[maxn],id[maxn],ok[maxn],fa[maxn],dfn[maxn];\nvector<int>v[maxn];\nvoid dfs(int x,int last,int f){\n\tsz[x]=1;\n\tfor(int i=0;i<v[x].size();i++)\n\t\tif(v[x][i]!=last)\n\t\t\tdfs(v[x][i],x,f),sz[x]+=sz[v[x][i]],val[x]=max(val[x],sz[v[x][i]]);\n\tval[x]=max(val[x],n-sz[x]);\n\tif(f==0&&(p==0||val[p]>val[x]))\n\t\tp=x;\n}\ninline int cmp(int a,int b){\n\treturn sz[a]<sz[b];\n}\nvoid get(int x,int last,int val){\n\tfa[x]=last,dfn[x]=(++dfns)*val;\n\tfor(int i=0;i<v[x].size();i++)\n\t\tif(v[x][i]!=last)\n\t\t\tget(v[x][i],x,val);\n}\nint main(){\n\tscanf(\"%d\",&n); \n\tfor(int i=1,x,y;i<n;i++)\n\t\tscanf(\"%d%d\",&x,&y),v[x].push_back(y),v[y].push_back(x);\n\tdfs(1,0,0),dfs(p,0,1);\n\tfor(int i=0;i<v[p].size();i++)\n\t\tid[++ids]=v[p][i];\n\tsort(id+1,id+1+ids,cmp);\n\tint sum=0,k;\n\tfor(int i=1;i<=ids;i++){\n\t\tok[id[i]]=1,sum+=sz[id[i]],get(id[i],p,1);\n\t\tif(sum>=n/3){\n\t\t\tk=i;\n\t\t\tbreak;\n\t\t}\n\t}\n\tdfns=0;\n\tfor(int i=k+1;i<=ids;i++)\n\t\tget(id[i],p,sum+1);\n\tfor(int i=1;i<=n;i++)\n\t\tif(i!=p)\n\t\t\tprintf(\"%d %d %d\\n\",i,fa[i],dfn[i]-dfn[fa[i]]);\n\treturn 0;\n}\n```",
        "postTime": 1639300933,
        "uid": 35754,
        "name": "Verdandi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1205D\u3010Almost All\u3011"
    }
]