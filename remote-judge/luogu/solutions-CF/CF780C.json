[
    {
        "content": "## Solution\n\u9996\u5148\u660e\u786e\u4e00\u4e0b\u6811\u4e0a\u7684\u8ddd\u79bb\uff0c\u5bf9\u4e8e\u4efb\u4e00\u7ed3\u70b9\uff1a\n1. \u5b83\u5230\u5b83\u7236\u4eb2\u7684\u8ddd\u79bb\u4e3a $1$\u3002\n1. \u5b83\u5230\u5b83\u4efb\u610f\u513f\u5b50\u7684\u8ddd\u79bb\u4e3a $1$\u3002\n1. \u5b83\u5230\u5b83\u7236\u4eb2\u7684\u7236\u4eb2\u7684\u8ddd\u79bb\u4e3a $2$\u3002\n1. \u5b83\u5230\u5b83\u7684\u5144\u5f1f\u8ddd\u79bb\u4e3a $2$\u3002\n\n\u8003\u8651\u4ee5 $1$ \u4e3a\u6839\u8282\u70b9\u8fdb\u884c\u641c\u7d22\uff0c\u5f53\u5bf9\u67d0\u4e00\u8282\u70b9\u67d3\u8272\u540e\uff0c\u4e0d\u59a8\u5bf9\u5b83\u7684\u6240\u6709\u513f\u5b50\u8fdb\u884c\u67d3\u8272\uff0c\u7531\u4e8e\u5b83\u7684\u7236\u4eb2\u4e00\u5b9a\u5df2\u7ecf\u88ab\u67d3\u8272\uff0c\u5b83\u7684\u513f\u5b50\u4ee5\u4e0b\u7684\u8282\u70b9\u90fd\u6ca1\u6709\u88ab\u67d3\u8272\uff0c\u6240\u4ee5\u53ea\u9700\u8ba9\u5b83\u7684\u513f\u5b50\u4e0e\u5b83\u548c\u5b83\u7236\u4eb2\u7684\u989c\u8272\u4e0d\u540c\u5373\u53ef\u3002\u5f53\u7136\u4e3a\u4e86\u9632\u6b62\u5b83\u5df2\u67d3\u8272\u7684\u5144\u5f1f\u7684\u5e72\u6270\uff0c\u5728\u67d3\u4e00\u4e2a\u8282\u70b9\u65f6\u5c06\u989c\u8272\u503c\u8bbe\u4e3a\u4e0a\u4e00\u4e2a\u88ab\u67d3\u8272\u5144\u5f1f\u7684\u989c\u8272\u503c\u52a0 $1$\uff08\u5982\u679c\u6ca1\u6709\u5219\u4e3a $1$\uff09\uff0c\u518d\u5224\u65ad\u662f\u5426\u7b26\u5408\u6761\u4ef6\u5373\u53ef\u3002\u603b\u989c\u8272\u6570\u4e3a\u6240\u6709\u8282\u70b9\u989c\u8272\u7684\u6700\u5927\u503c\u3002\n## code\n\u4e0b\u9762\u7ed9\u51faDFS\u5b9e\u73b0\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,x,y,ans,col[200005],fa[200005];\nvector <int> G[200005];\nvoid input()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i = 1;i < n;i++)\n\t\tscanf(\"%d%d\",&x,&y),G[x].push_back(y),G[y].push_back(x);\n}\nvoid dfs(int k)\n{\n\tint x = 1;//\u521d\u59cb\u989c\u8272\u503c \n\tfor(int i = 0;i < G[k].size();i++)//\u5bf9\u5b83\u7684\u6240\u6709\u513f\u5b50\u8fdb\u884c\u67d3\u8272\n\t{\n\t\tif(G[k][i] == fa[k])\n\t\t\tcontinue;\n\t\twhile(x == col[k]||x == col[fa[k]])//\u4e0e\u5b83\u548c\u5b83\u7236\u4eb2\u7684\u989c\u8272\u76f8\u540c\uff0c\u5219\u5c06\u989c\u8272\u503c++ \n\t\t\tx++;\n\t\tcol[G[k][i]] = x,x++;\n\t\tfa[G[k][i]] = k;//\u8bb0\u5f55\u7236\u8282\u70b9 \t\n\t}\n\tans = max(ans,x - 1);\n\tfor(int i = 0;i < G[k].size();i++)\n\t\tif(G[k][i] != fa[k])\n\t\t\tdfs(G[k][i]);\n}\nvoid output()\n{\n\tprintf(\"%d\\n\",ans);\n\tfor(int i = 1;i <= n;i++)\n\t\tprintf(\"%d \",col[i]);\n}\nint main()\n{\n\tinput();\n\tcol[1] = 1;\n\tdfs(1);\n\toutput();\n\treturn 0;\n}\n```",
        "postTime": 1628320250,
        "uid": 302636,
        "name": "zhaoyp",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF780C \u3010Andryusha and Colored Balloons\u3011"
    },
    {
        "content": "# \u8fd9\u662f\u4e00\u9053DFS/BFS\u7684\u9898\u76ee\n\u5c31\u662f\u5148\u5efa\u56fe\uff0c\u7136\u540e\u518d\u6839\u636e\u5176\u4ed6\u8282\u70b9\u6765\u5224\u65ad\u7684\u9898\u76ee\uff0c\u5177\u4f53\u4ee3\u7801\u91cc\u8bf4\n\n## \u4e0b\u9762\u76f4\u63a5\u653e\u4e0a\u4ee3\u7801\n```\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<cmath>\nusing namespace std;\nconst int N=200005;\nint n,tot,ans;\nint d[N],head[N],Next[N*2],ver[N*2],c[N];\ninline int read()\n{\n    int x=0;\n    char c=getchar();\n    bool flag=0;\n    while(c<'0'||c>'9'){if(c=='-')flag=1;   c=getchar();}\n    while(c>='0'&&c<='9'){x=(x<<3)+(x<<1)+c-'0';c=getchar();}\n    return flag?-x:x;\n}\nvoid add(int x,int y)\n{\n   ++tot;Next[tot]=head[x]; head[x]=tot; ver[tot]=y;\n}//\u94fe\u5f0f\u524d\u5411\u661f\u5efa\u56fe\nvoid dfs(int x,int fa)//x\u8868\u793a\u5f53\u524d\u8282\u70b9\uff0cfa\u8868\u793a\u7236\u4eb2\u8282\u70b9\n{\n\tint now=0;\n\tfor(int i=head[x];i;i=Next[i])\n\t{\n\t\tif(ver[i]!=fa)//\u628a\u6240\u4ee5\u76f8\u90bb\u7684\u8fb9\u6d82\u8272\n\t\t{\n\t\t\t++now;\n\t\t\twhile(now==c[fa]||now==c[x]) ++now;\n\t\t\tc[ver[i]]=now;\n\t\t}\n\t}\n\tfor(int i=head[x];i;i=Next[i])\n\tif(ver[i]!=fa) dfs(ver[i],x);//\u4e00\u79cd\u5206\u5c42\u7684\u601d\u60f3\uff1f\uff1f\uff1f\n}\nint main()\n{\n\tn=read();\n\tfor(int i=1;i<n;++i)\n\t{\n\t\tint x=read(),y=read();\n\t\tadd(x,y),add(y,x);\n\t\t++d[x],++d[y];\n\t\tans=max(ans,d[x]),ans=max(ans,d[y]);//\u56e0\u4e3a\u8fde\u63a5\u8fb9\u6570\u6700\u5927\u7684\u8fb9\u7684\u513f\u5b50\u4e5f\u5fc5\u5b9a\u6700\u591a\uff0c\u800c\u4e00\u4e2a\u8282\u70b9\u7684\u513f\u5b50\u4e92\u4e0d\u76f8\u540c\uff0c\u6240\u4ee5\u6bcf\u4e2a\u513f\u5b50\u90fd\u8981\u4e00\u79cd\u989c\u8272\uff0c\u6700\u540e\u52a0\u4e0a\u81ea\u5df1\u989c\u8272\n\t}\n\tcout<<ans+1<<endl;\n\tc[1]=1;\n\tdfs(1,0);\n\tfor (int i=1;i<=n;++i) printf(\"%d%c\",c[i],\" \\n\"[i==n]);//\u6700\u540e\u90a3\u4e2a\u662f\u6765\u81ea\u8001\u5e08\u7684\u7279\u5224\u5199\u6cd5\n}\n```\n\u501f\u9274\u4e8eYWHS\u5b98\u65b9\u5237\u9898\u7f51\u7ad9\uff0c\u601d\u60f3\u6765\u81ea\u4e8eHJF\u8001\u5e08",
        "postTime": 1531625815,
        "uid": 41887,
        "name": "Shikita",
        "ccfLevel": 0,
        "title": "CF780C Andryusha and Colored Balloons\u9898\u89e3"
    },
    {
        "content": "# \u9898\u89e3 CF780C\n\u9898\u610f\u5df2\u7ecf\u5f88\u660e\u786e\u4e86\uff0c\u6211\u5c31\u4e0d\u518d\u8bf4\u4e86\u3002\n\n\u6211\u4eec\u6839\u636e\u9898\u610f\u76f4\u63a5\u5165\u624b\u672c\u9898\uff1a\n\n## $\\texttt{Part one}$\n\u56e0\u4e3a\u4e09\u4e2a\u76f8\u90bb\u7684\u70b9\u7684\u989c\u8272\u4e92\u4e0d\u76f8\u540c\uff0c\u6240\u4ee5\u4ee5\u4e00\u4e2a\u70b9\u4e3a\u4e2d\u5fc3\u5411\u5916\u6269\u6563\u7684\u83ca\u82b1\u56fe\u91cc\u7684\u70b9\u7684\u989c\u8272\u4e00\u5b9a\u662f\u4e92\u4e0d\u76f8\u540c\u7684\uff0c\u4e8e\u662f\u6211\u4eec\u5c31\u53ef\u4ee5\u53bb\u627e\u8fd9\u68f5\u6811\u4e2d\u83ca\u82b1\u56fe\u7684\u6700\u5927\u5927\u5c0f\uff0c\u6765\u89e3\u51b3\u6700\u5c11\u8981\u67d3\u51e0\u79cd\u989c\u8272\u3002\n\n## $\\texttt{Part two}$\n\u56e0\u4e3a\u4e00\u4e2a\u83ca\u82b1\u56fe\u4e2d\u5fc3\u67d3\u4ec0\u4e48\u989c\u8272\uff0c\u5bf9\u8fd9\u4e2a\u83ca\u82b1\u56fe\u5916\u7684\u70b9\u662f\u6ca1\u6709\u5f71\u54cd\u7684\uff08\u524d\u63d0\u662f\u6700\u5927\u83ca\u82b1\u56fe\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u53ef\u4ee5\u4ece\u6839\u8282\u70b9\u5f80\u4e0b\u9012\u63a8\uff0c\u7136\u540e\u67d3\u8272\u3002\u67d3\u8272\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u53ea\u8981\u5224\u65ad\u8fd9\u4e2a\u70b9\u548c\u4ed6\u7684\u7236\u4eb2\u548c\u7237\u7237\u7684\u989c\u8272\u4e00\u4e0d\u4e00\u6837\u5c31\u884c\u4e86\u3002\u5177\u4f53\u8be6\u89c1\u4ee3\u7801\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntemplate <typename T>\ninline void rd(T &x)\n{\n\tx=0;bool f=0;char c=getchar();\n\twhile(!isdigit(c)) {if(c=='-') f=1;c=getchar();}\n\twhile(isdigit(c)) x=(x<<1)+(x<<3)+(c^48),c=getchar();\n\tif(f) x=-x;\n}\nconst int N=2e5+5; \nint n,ver[N<<1],nxt[N<<1],h[N],tot,ans,col[N<<1];\ninline void add(int x,int y) {ver[++tot]=y,nxt[tot]=h[x],h[x]=tot;}\nvoid dfs(int u,int fa)\n{\n\tint cnt=0;\n\tfor(int i=h[u];i;i=nxt[i])\n\t\tif(ver[i]!=fa) \n\t\t{\n\t\t\tcnt++; //\u53f6\u5b50\u7ed3\u70b9\u4e2a\u6570 \n\t\t\twhile(cnt==col[u] || cnt==col[fa]) cnt++; //\u548c\u7236\u4eb2\u6216\u7237\u7237\u4e00\u6837\u7684\u989c\u8272\u5c31\u8df3\u8fc7 \n\t\t\tcol[ver[i]]=cnt; //\u7ed9\u5f53\u524d\u8282\u70b9\u67d3\u4e0a\u8272 \n\t\t}\n\tans=max(ans,cnt);\n\tfor(int i=h[u];i;i=nxt[i])\n\t\tif(ver[i]!=fa) dfs(ver[i],u); //\u5411\u4e0b\u67d3\u8272 \n}\n\nint main()\n{\n\trd(n);\n\tfor(int i=1;i<n;i++)\n\t{\n\t\tint x,y;rd(x),rd(y);\n\t\tadd(x,y),add(y,x);\n\t}\n\tcol[1]=1;dfs(1,0);\n\tprintf(\"%d\\n\",ans);\n\tfor(int i=1;i<=n;i++) printf(\"%d \",col[i]);\n\treturn 0;\n}\n```\n### $\\color{skyblue}\\texttt{Thanks for wathcing}$",
        "postTime": 1594195524,
        "uid": 108610,
        "name": "Dzhao",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF780C \u3010Andryusha and Colored Balloons\u3011"
    },
    {
        "content": "### \u6765\u5f39\u4e00\u53d1\u9898\u89e3\u5566 ~~\uff08\u597d\u4e45\u6ca1\u5199\uff0c\u6ca1\u611f\u89c9\u4e86$qwq$\uff09~~\n\n\u9898\u610f\u88c5\u6362\uff1a\u7ed9\u4f60\u51e0\u4e2a\u8fde\u901a\u7684\u8282\u70b9\uff0c\u73b0\u5728\u60f3\u8ba9\u4f60\u67d3\u8272\uff0c\u4e14\u6bcf\u4e2a\u8282\u70b9\u7684\u989c\u8272\u4e0e\u548c\u8fd9\u4e2a\u8282\u70b9\u7684\u7236\u8282\u70b9\u548c\u7237\u7237\u8282\u70b9\u7684\u989c\u8272\u4e0d\u540c\uff0c\u60f3\u8ba9\u4f60\u8ba1\u7b97\u6700\u5c11\u9700\u8981\u7528\u5230\u51e0\u4e2a\u989c\u8272\u3002\n\n\u56e0\u4e3a\u662f\u8fde\u901a\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u7528\u5230$vector$\u5bb9\u5668\uff0c\u7528$push$_$back()$\u538b\u5165\uff0c\u7136\u540e\u56e0\u4e3a\u5bf9\u8282\u70b9\u7684\u989c\u8272\u6709\u8981\u6c42\uff0c\u6240\u4ee5\u7528$bfs$\uff0c\u4ece\u8282\u70b9$1$\u5f00\u59cb\uff0c\u67d3\u8272\u6bcf\u6b21\u90fd\u4ece\u989c\u8272$1$\u5f00\u59cb\u641c\u7d22\u5e76\u4e14\u5224\u65ad\u5176\u7236\u8282\u70b9\u548c\u7237\u7237\u8282\u70b9\u7684\u989c\u8272\u662f\u5426\u76f8\u540c\uff0c\u82e5\u76f8\u540c\u5219\u989c\u8272$+1$\u7ee7\u7eed\u5224\u65ad\uff0c\u76f4\u5230\u4e0d\u76f8\u540c\u4e3a\u6b62\uff0c\u7531\u6b64\u53ef\u4ee5\u5f97\u5230\u6700\u5c11\u9700\u8981\u7528\u5230\u51e0\u4e2a\u989c\u8272\uff0c\u5e76\u4e14\u8bb0\u5f55\u6bcf\u4e2a\u989c\u8272\u5bf9\u5e94\u7684\u8282\u70b9\u3002\n\n\u8f93\u51fa\u65f6\u8bb0\u5f97\u8981\u8fb9\u8f93\u51fa\u8fb9\u6e05\u7a7a$vector$\u54e6$awa$\n\n\u63a5\u4e0b\u6765\u653e\u4ee3\u7801\uff1a~~\uff08\u601d\u8def\u633a\u597d\u7406\u89e3\u7684\uff0c\u4e0d\u660e\u767d\u7684\u5eb7\u5eb7\u4ee3\u7801\u5c31\u5927\u6982\u61c2\u4e86\uff09~~\n\n```cpp\n#include<iostream>\n#include<sstream>\n#include<fstream>\n#include<vector>\n#include<list>\n#include<deque>\n#include<queue>\n#include<stack>\n#include<map>\n#include<set>\n#include<bitset>\n#include<algorithm>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cctype>\n#include<cmath>\n#include<ctime>\n#include<iomanip>\n#include<complex>\n#include<climits>\n#define re register\n#define in inline\n#define pi acos(-1.0)\n#define inf 2147483640\n#define cd complex<double>\nusing namespace std;\nin int read()\n{\n    int sum=0,negative=1;\n    char ch=getchar();\n    while(ch<'0'||ch>'9')\n    {\n        if(ch=='-')negative=-1;\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9')\n    {\n        sum=sum*10+ch-'0';\n        ch=getchar();\n    }\n    return sum*negative;\n}\nin void write(int X)\n{\n    if(X<0)putchar('-'),X=-X;\n    if(X>=10)write(X/10);\n    putchar(X%10+'0');\n}\nconst int maxn=2e5+10;\nvector<int>mapp[maxn];\nint n,c[maxn],c1[maxn],ans,m,now,noww;\nvoid solve(){\n\tmemset(c,0,sizeof(c));\n\tans=1;\n\tqueue<int>q;\n\tq.push(ans);\n\tc[1]=c1[1]=1;\n\twhile(!q.empty()){\n\t\tm=1;\n\t\tnow=q.front();\n\t\tq.pop();\n\t\tfor(re int i=0;i<mapp[now].size();i++){\n\t\t\tnoww=mapp[now][i];\n\t\t\tif(!c[noww]){\n\t\t\t\tc1[noww]=c[now];\n\t\t\t\twhile(c[now]==m||c1[now]==m){\n\t\t\t\t\t++m;\n\t\t\t\t}\n\t\t\t\tc[noww]=m++;\n\t\t\t\tq.push(noww);\n\t\t\t}\n\t\t}\n\t\tans=max(ans,m-1);\n\t}\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(re int i=0;i<n-1;i++){\n\t\tint u,v;\n\t\tu=read();\n\t\tv=read();\n\t\tmapp[u].push_back(v);\n\t\tmapp[v].push_back(u);\n\t}\n\tsolve();\n\twrite(ans);\n\tprintf(\"\\n\");\n\tfor(re int i=1;i<n;i++){\n\t\tmapp[i].clear();\n\t\twrite(c[i]);\n\t\tprintf(\" \");\n\t}\n\twrite(c[n]);\n\tputs(\"\");\n    return 0;\n}\n```\n\n>Thanks For Watching!",
        "postTime": 1586419683,
        "uid": 115291,
        "name": "\u8fc7\u5f80\u68a6\u9b47\u4e4b\u6b87",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF780C \u3010Andryusha and Colored Balloons\u3011"
    },
    {
        "content": "### \u524d\u8a00\n\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c\uff1f**[\u6211\u7684\u535a\u5ba2](https://www.cnblogs.com/linzhengmin/p/11298270.html)**\n### \u9898\u610f\u7b80\u8ff0\n\u7ed9\u76f8\u90bb\u7684\u4e09\u4e2a\u8282\u70b9\u989c\u8272\u4e0d\u80fd\u76f8\u540c\u7684\u6811\u67d3\u8272\u6240\u9700\u7684\u6700\u5c0f\u989c\u8272\u6570\u3002\n### \u9898\u89e3\n\u8fd9\u9053\u9898\u76ee\u5f88\u663e\u7136\u53ef\u4ee5\u7528\u6df1\u641c\u3002  \n\u8003\u8651\u9898\u76ee\u7684\u9650\u5236\uff0c\u5982\u679c\u5f53\u524d\u641c\u7d22\u5230\u7684\u70b9\u4e3au\uff0c  \n\u663e\u7136u\u7684\u7236\u4eb2\u8282\u70b9\uff0cu\u672c\u8eab\u548cu\u7684\u6240\u6709\u513f\u5b50\u4e0d\u80fd\u540c\u8272(\u56e0\u4e3a\u5144\u5f1f\u4e4b\u95f4\u76f8\u5dee\u4e3a2)\u3002  \n\u7531\u4e8eDFS\u89e3\u9898\uff0c\u6240\u4ee5\u641c\u7d22\u5230u\u65f6\uff0cu\u672c\u8eab\u548cu\u7684\u7236\u4eb2\u80af\u5b9a\u5df2\u7ecf\u6709\u989c\u8272\u4e86\uff0c\u90a3\u4e48\u73b0\u5728\u8981\u7ed3\u5c40\u7684\u4f7fu\u7684\u6240\u6709\u513f\u5b50\u7684\u989c\u8272\uff0c\u90a3\u4e48\u6839\u636e\u8d2a\u5fc3\u7684\u601d\u60f3\u5bf9\u4e8e\u6bcf\u4e2au\u7684\u513f\u5b50\uff0c\u989c\u8272\u80fd\u5f80\u5c0f\u53d6\u5c31\u5f80\u5c0f\u53d6\uff0c\u5728\u9009\u53d6\u989c\u8272\u7684\u65f6\u5019\u5e94\u5f53\u6ce8\u610f\uff0c\u9009\u53d6\u7684\u989c\u8272\u4e0d\u80fd\u4e0eu\u548cu\u7684\u7236\u4eb2\u8282\u70b9\u7684\u989c\u8272\u76f8\u540c\u3002  \n\u6700\u540e\u7684\u7b54\u6848\u5c31\u662fDFS\u4e2d\u4f7f\u7528\u8fc7\u7684\u6700\u5927\u7684\u989c\u8272\u3002\n### \u4ee3\u7801\n~~\u53bb\u6389fread\u5feb\u8bfb\u5176\u5b9e\u5f88\u77ed~~  \n```cpp\n#include <cstdio>\n#include <algorithm>\n\nusing namespace std; \n\nnamespace fast_IO{\n    const int IN_LEN = 10000000, OUT_LEN = 10000000;\n    char ibuf[IN_LEN], obuf[OUT_LEN], *ih = ibuf + IN_LEN, *oh = obuf, *lastin = ibuf + IN_LEN, *lastout = obuf + OUT_LEN - 1;\n    inline char getchar_(){return (ih == lastin) && (lastin = (ih = ibuf) + fread(ibuf, 1, IN_LEN, stdin), ih == lastin) ? EOF : *ih++;}\n    inline void putchar_(const char x){if(oh == lastout) fwrite(obuf, 1, oh - obuf, stdout), oh = obuf; *oh ++= x;}\n    inline void flush(){fwrite(obuf, 1, oh - obuf, stdout);}\n    int read(){\n        int x = 0; int zf = 1; char ch = ' ';\n        while (ch != '-' && (ch < '0' || ch > '9')) ch = getchar_();\n        if (ch == '-') zf = -1, ch = getchar_();\n        while (ch >= '0' && ch <= '9') x = x * 10 + ch - '0', ch = getchar_(); return x * zf;\n    }\n    void write(int x){\n        if (x < 0) putchar_('-'), x = -x;\n        if (x > 9) write(x / 10);\n        putchar_(x % 10 + '0');\n    }\n}\n\nusing namespace fast_IO;\n\nstruct Edge{\n    int to, next;\n} edges[400005];\n\nint head[200005], edge_num = 0;\n\ninline void addEdge(int u, int v){\n    edges[++edge_num] = (Edge){v, head[u]};\n    head[u] = edge_num;\n}\n\nint clr[200005];\nint ans = 0;\n\nvoid DFS(int u, int fa){\n\tint v, cnt = 1;\n\tfor (int c_e = head[u]; c_e; c_e = edges[c_e].next){\n\t\tv = edges[c_e].to;\n\t\tif (v != fa){\n\t\t\twhile (cnt == clr[u] || cnt == clr[fa])\n\t\t\t\t++cnt;\n\t\t\tclr[v] = cnt++;\n\t\t\tDFS(v, u);\n\t\t}\n\t}\n\tans = max(ans, cnt - 1);\n}\n\nint main(){\n\tint n = read();\n\tfor (int i = 1; i < n; ++i){\n\t\tint u = read(), v = read();\n\t\taddEdge(u, v), addEdge(v, u);\n\t}\n\tclr[1] = 1; DFS(1, 1);\n\twrite(ans); putchar_('\\n');\n\tfor (int i = 1; i <= n; ++i)\n\t\twrite(clr[i]), putchar_(' ');\n\tflush(); return 0;\n} \n```",
        "postTime": 1564902260,
        "uid": 20462,
        "name": "lukelin",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF780C \u3010Andryusha and Colored Balloons\u3011"
    },
    {
        "content": "~~\u4f17\u6240\u5468\u77e5CF\u7684\u9898\u76ee\u4e00\u822c\u90fd\u4f1a\u88ab\u6076\u610f\u8bc4\u5206~~\n\n### \u9898\u610f\n\n\u67d3\u8272\uff0c\u6bcf\u76f8\u90bb\u4e09\u70b9\u989c\u8272\u4e0d\u540c\n\n\u95ee\uff1a\u65e0\u4e86\u5417\uff1f\n\n\u7b54\uff1a\u65e0\u4e86\n\n### \u601d\u8def\n\n\u4e00\u770b\uff0c\u66b4\u529b\n\n\u4e0d\u4fe1\uff0c\u518d\u770b\uff0c\u66b4\u529b\n\n\u8fd8\u4e0d\u4fe1\uff0c\u8fd8\u770b\uff0c\u8fd8\u662f\u66b4\u529b\n\n\u5bf9\uff0c\u5c31\u662f\u66b4\u529b\n\n### \u6838\u5fc3\u7b97\u6cd5\n\n$dfs$\u7684\u65f6\u5019\u5224\u65ad\uff0c\u7136\u540e\u987a\u6b21\u8f93\u51fa\u5c31\u53ef\u4ee5\u4e86\n\n```cpp\n//\u5728\u641c\u5f53\u524d\u8282\u70b9\u7684\u65f6\u5019\uff0c\u8bb0\u5f55\u7236\u4eb2\u8282\u70b9\u7684\u989c\u8272\u548c\u81ea\u5df1\u7684\u989c\u8272\n//\u7136\u540e\u4e00\u4e2a\u4e2a\u641c\u513f\u5b50\u7684\u989c\u8272\u5e76\u8bb0\u5f55\u5f80\u4e0b\u641c\u5c31\u53ef\u4ee5\u4e86\nvoid dfs(int now,int fa){\n\tint i;\n\tint son = fir[now];\t\t//\u524d\u5411\u661f\n\tif(to[son] == fa) son = nxt[son];\n\tfor(i = 1;son;i++){  //\u81ea\u8ba4\u4e3a\u5de7\u5999\u7684\u5faa\u574f\uff0c\u6211\u8d76\u811a\u8fd8\u4e0d\u9519\n\t\tif(i == tmp[now] || i == tmp[fa]) continue;\n\t\ttmp[to[son]] = i;\n\t\tdfs(to[son],now);\n\t\tson = nxt[son];\n\t\tAns = max(Ans,i); \t//Ans\u8bb0\u5f55\u6700\u591a\u7684\u989c\u8272\n\t\tif(to[son] == fa) son = nxt[son];\n\t}\n}\n```\n\n\u597d\u50cf\uff0c\u5c31\u8fd9\u4e48\u8bb2\u5b8c\u4e86\uff1f\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O(N)$\u221a\n\n\u5e0c\u671b\u8fd9\u7bc7\u9898\u89e3\u80fd\u5bf9\u60a8\u6709\u5e2e\u52a9\uff0c\u5982\u679c\u8fd9\u4e9a\u5b50\u7684\u8bdd\uff0c\u5c31\u4e0d\u8981\u541d\u556c\u60a8\u514d\u8d39\u7684\u8d5e\u4e86\u5466\n\n\u6211\u7684$Blog$\u4f20\u9001\u95e8[Lu_Ming\u306e\u5b85](https://www.luogu.org/blog/Lu-Ming/)\n\n### CF62ms\u7b97\u6cd5\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int MAX = 200020;\nint n,fir[MAX],to[MAX << 1],nxt[MAX << 1],num,tmp[MAX],Ans;\n\nvoid read(int &x);\nvoid add(int u,int v);\nvoid init();\nvoid dfs(int now,int fa);\n\nint main(void){\n\tinit();\n\ttmp[1] = 1;\n\tdfs(1,0);\n\tprintf(\"%d\\n\",Ans);\n\tfor(int i = 1;i <= n;i++){\n\t\tprintf(\"%d \",tmp[i]);\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n\nvoid read(int &x){\n\tx = 0;\n\tbool flag = false;\n\tchar ch = getchar();\n\twhile(ch > '9' || ch < '0'){\n\t\tif(ch == '-') flag = true;\n\t\tch = getchar();\n\t}\n\twhile(ch >= '0' && ch <= '9'){\n\t\tx = (x << 3) + (x << 1) + ch - '0';\n\t\tch = getchar();\n\t}\n\tif(flag) x = -x;\n}\nvoid add(int u,int v){\n\tnxt[++num] = fir[u];\n\tto[num] = v;\n\tfir[u] = num;\n}\nvoid init(){\n\tread(n);\n\tint x,y;\n\tfor(int i = 1;i < n;i++){\n\t\tread(x);\n\t\tread(y);\n\t\tadd(x,y);\n\t\tadd(y,x);\n\t}\n}\nvoid dfs(int now,int fa){\n\tint i;\n\tint son = fir[now];\n\tif(to[son] == fa) son = nxt[son];\n\tfor(i = 1;son;i++){\n\t\tif(i == tmp[now] || i == tmp[fa]) continue;\n\t\ttmp[to[son]] = i;\n\t\tdfs(to[son],now);\n\t\tson = nxt[son];\n\t\tAns = max(Ans,i);\n\t\tif(to[son] == fa) son = nxt[son];\n\t}\n}\n```\n",
        "postTime": 1572856556,
        "uid": 153665,
        "name": "\u9646\u5df7\u5317NorthAlley",
        "ccfLevel": 4,
        "title": "CF780C Andryusha and Colored Balloons \u9898\u89e3"
    },
    {
        "content": "\u62ff\u5230\u8fd9\u9898\uff0c\u4e00\u8138\u56fe\u67d3\u8272....\n\u7136\u540e\u60f3\u8d77\u66fe\u7ecf\u4e00\u9053\u9898$O(3^n)$ \u72b6\u538b\n\n\u7136\u540e\u770b\u4e00\u4e0b\u6570\u636e $ n \\leq 2 \\cdot 10^5 $\n\n~~\u4e0d\u53ef\u505a\u4e0d\u53ef\u505a~~\n\n\u6211\u5728\u8349\u7a3f\u672c\u4e0a\u753b\u4e86\u4e00\u68f5\u6811\uff0c\u89c2\u5bdf\u53d1\u73b0\uff1a\n\n1. \u83ca\u82b1\u56fe\u7b54\u6848\u5fc5\u5b9a\u4e3a n\n2. \u53ef\u4ee5\u9012\u5f52\u5904\u7406 , \u5b50\u6811\u548c\u5b50\u6811\u4e4b\u95f4\u4e0d\u76f8\u4e92\u5f71\u54cd\uff0c\u53ea\u9700\u8981\u6839\u7684\u989c\u8272\u4e0d\u540c\u5c31\u884c\u4e86\n\n\n\u6240\u4ee5\u5c31\u5f97\u5230\u8fd9\u9898\u7684\u89e3\u4e86\uff0c\u5bf9\u6811\u8fdb\u884cdfs \uff0c \u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8282\u70b9\uff0c\u4fdd\u5b58\u5176\u7236\u4eb2\u7684\u989c\u8272\uff0c\u548c\u81ea\u5df1\u7684\u989c\u8272\u3002 \u7136\u540e\u628a\u989c\u8272\u5206\u914d\u7ed9\u513f\u5b50\u8282\u70b9\uff0c\u7136\u540e\u9012\u5f52\u5904\u7406\n\n~~\u597d\u7b80\u5355\u554a~~\n\n\u601d\u8def\u81ea\u7136\uff0c\u5199\u6cd5\u81ea\u7136\uff0c\u4e0d\u662f\u5f88\u6bd2\u7624\n\n\nAC\u4ee3\u7801\uff1a\n\n```C++\n#include<cstdio>\n#include<cctype>\n#include<algorithm>\n#define debug(...) fprintf(stderr,__VA_ARGS__)\nusing namespace std;\n\ninline char nc(){ static char buf[100000] , *p1,*p2; return p1 == p2 && (p2 = (p1 = buf) + fread(buf,1,100000,stdin),p1 == p2) ? EOF : *p1++;}\ntemplate<class T>inline void rd(T & x) { x = 0;char ch = nc(); for(;!isdigit(ch);ch = nc()); for(;isdigit(ch);ch = nc()) x = x * 10 + ch - 48;}\n\nconst int inf = 0x3f3f3f3f;\nconst int maxn = 3e5 + 7;\n\n\nstruct edge{\n\tint v,next;\n\tedge(int v = 0,int next = 0) : v(v) , next(next) {} \n} e[maxn * 2];\nint hd[maxn] , ek = 1;\ninline void adde(int u,int v){\n\te[ek] = edge(v,hd[u]);\n\thd[u] = ek++;\n}\nint ans  = 0;\nint col[maxn];\nvoid dfs(int u,int fa,int curc,int fac){\n\tcol[u] = curc;\n\tint alc = 0; \n\tfor(int i = hd[u];i;i = e[i].next){\n\t\t\n\t\tint v = e[i].v;\n\t\tif(v == fa) continue;\n\t\t++alc;\n\t\twhile(alc == curc || alc == fac) {\n\t\t\t++alc;\n\t\t}\n\t\tif(alc > ans) ans = alc;\n\t\tdfs(v,u,alc,curc);\n\t}\n}\n\nint main(){\n\tint n;\n\trd(n);\n\tfor(int i = 1;i < n;i++){\n\t\tint u,v; rd(u); rd(v);\n\t\tadde(u,v);\n\t\tadde(v,u);\n\t}\n\tdfs(1,-1,1,inf);\n\tprintf(\"%d\\n\",ans);\n\tfor(int i = 1;i <= n;i++){\n\t\tprintf(\"%d \",col[i]);\n\t}\n} \n```\n\n\u8fd9\u4efd\u4ee3\u7801\u5168CF\u6700\u5feb(62ms)\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u7384\u5b66\u8bfb\u4f18\u7684\u539f\u56e0\u5427\uff0c~~\u4e0d\u52a0\u8bfb\u4f18\u8dd1400ms~~",
        "postTime": 1537418551,
        "uid": 64829,
        "name": "Enzyme125",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF780C \u3010Andryusha and Colored Balloons\u3011"
    }
]