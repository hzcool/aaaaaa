[
    {
        "content": "\u8fd9\u9053\u9898\u4e5f\u662fCF\u4e0a\u6bd4\u8f83\u4e0d\u9519\u7684\u4e00\u9053\u9898\u4e86,\u6bd4\u8d5b\u7684\u65f6\u5019\u6211\u82b1\u4e86\u4e24\u4e2a\u5c0f\u65f6\u624d\u63a8\u51fa\u4e86\u6807\u7b97,\u7136\u540e\u75286\u5206\u949f\u7684\u65f6\u95f4\u6253\u8dea\u4e86.\n\u9996\u5148\u5224\u65ad'.',\u53ef\u4ee5\u63a8\u51faf[i].size()=f[i-1].size()\u00d72+68,\u2235k<=1e18,\u53ef\u4ee5\u770b\u51fa\u5f53n>=55(\u5dee\u4e0d\u591a\u8fd9\u4e2a\u6570\u5b57)\u65f6\u5c31\u4e0d\u53ef\u80fd\u51fa\u73b0'.'\u4e86.\n\u7136\u540e\u5c06\u6bcf\u4e00\u4e2a\u5b57\u7b26\u4e32\u5206\u4e3a\u4e94\u6bb5,\u901a\u8fc7\u4e0d\u65ad\u9012\u5f52\u5f80\u4e0b\u5bfb\u627e\u7b2ck\u4e2a\u5b57\u7b26\u7a76\u7adf\u662f\u5728\u524d\u9762\u7684\u54ea\u4e00\u4e2a\u5b57\u7b26\u4e32\u91cc.\n```cpp\n#include<bits/stdc++.h>\n#define boss 100000\n#define r1 34 //a1.size()\n#define r2 32 //a2.size()\n#define r3 2  //a3.size()\n#define da 9223372036854775807 //max_long long\nusing namespace std;\ntypedef long long ll;\n\nint t,n;ll k;\nchar f0[]={\"What are you doing at the end of the world? Are you busy? Will you save us?\"},//f0\n     f1[]={\"What are you doing while sending ?Are you busy? Will you send ?\"},\n     f2[]={\"What are you doing while sending \\\"What are you doing at the end of the world? Are you busy? Will you save us?\\\"? Are you busy? Will you send \\\"What are you doing at the end of the world? Are you busy? Will you save us?\\\"?\"};\nstring f[boss+10]={f0,f2},\n       a1=\"What are you doing while sending \\\"\",//\u9012\u5f52\u6240\u7528\u7684\u4e09\u4e2a\u5b57\u7b26\u4e32\n       a2=\"\\\"? Are you busy? Will you send \\\"\",//\u5728\u5b57\u7b26\u4e32\u91cc\u8981\u60f3\u51fa\u73b0\u53cc\u5f15\u53f7\u8981\u5148\u6253\u4e00\u4e2a\u53cd\u659c\u6760\n       a3=\"\\\"?\";\nll changdu[boss+10]={75};//\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\n\nchar work(int n,ll k)\n{\nif (k>changdu[n]) return '.';\nif (n==0) return f0[k];//n=0,\u76f4\u63a5\u8f93\u51fa\nif (k<r1) return a1[k];//\u589e\u52a0\u7684\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u6bb5\nk-=r1;\nif (k<changdu[n-1]) return work(n-1,k);//\u8bf4\u660e\u5728f[i-1]\u4e2d\nk-=changdu[n-1];\nif (k<r2) return a2[k];//\u7b2c\u4e8c\u6bb5\nk-=r2;\nif (k<changdu[n-1]) return work(n-1,k);//\u4e5f\u8bf4\u660e\u5728f[i-1]\u4e2d\nk-=changdu[n-1];\nif (k<r3) return a3[k];//\u7b2c\u4e09\u6bb5\nreturn '.';\n}\n\nint main()\n{\nint i;string ans=\"\";\nfor (i=1;i<=55;++i) changdu[i]=2*changdu[i-1]+68;\nfor (i=56;i<=boss;++i) changdu[i]=da;//\u540e\u9762\u5168\u90e8\u8d4b\u6210max_long long\nfor (scanf(\"%d\",&t);t--;) \n  {\n  scanf(\"%d%lld\",&n,&k);\n  ans.push_back(work(n,k-1));\n  }\ncout<<ans;\n}\n```\n\u54e6\u5bf9\u4e86\u6211\u535a\u5ba2\u4e0a\u6709\u8fd9\u4e2a\u9898\u7684\u9898\u89e3.\nhttp://blog.csdn.net/qq_31908675/article/details/78704537",
        "postTime": 1517822505,
        "uid": 49371,
        "name": "Fuko_Ibuki",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF896A \u3010Nephren gives a riddle\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF896A)\n\n# \u9898\u76ee\u5927\u610f\n\n\u6709\u4e00\u4e2a\u5b57\u7b26\u4e32\u6570\u7ec4\uff0c\u5b9a\u4e49\u5982\u4e0b\uff1a\n\n- $n=0$\uff1a`What are you doing at the end of the world? Are you busy? Will you save us?`\uff1b\n- $n \\neq 0$\uff1a`What are you doing while sending \"` $+f_{n-1}+$ `\"? Are you busy? Will you send \"` $+f_{n-1}+$ `\"?`\n\n\u7ed9\u51fa $q$ \u6b21\u8be2\u95ee\uff0c\u6bcf\u6b21\u8be2\u95ee\u7ed9\u51fa\u4e24\u4e2a\u6574\u6570 $n,k$\uff0c\u8f93\u51fa $f_n$ \u7684\u7b2c $k$ \u4e2a\u5b57\u7b26\u3002\u5982\u679c $f_n$ \u7684\u7b2c $k$ \u4e2a\u5b57\u7b26\u4e0d\u5b58\u5728\uff0c\u5219\u8f93\u51fa `.`\u3002\n\n\u6570\u636e\u8303\u56f4\uff1a$1 \\leq q \\leq 10,0 \\leq n \\leq 10^5,1 \\leq k \\leq 10^{18}$\n\n# \u601d\u8def\n\n\u6570\u636e\u8303\u56f4\u597d\u5927...\n\n\u5982\u679c\u8bd5\u56fe\u6309\u9898\u610f\u6a21\u62df\uff0c\u90a3\u4e48\u662f\u5b58\u4e0d\u4e0b\u5b57\u7b26\u4e32\u7684\u3002\n\n\u4e8e\u662f\u6211\u4eec\u8981\u5206\u60c5\u51b5\u6765\u770b\u3002\n\n\u5148\u6765\u4ece $f_n$ \u5165\u624b\uff0c\u5b83\u662f\u8fd9\u6837\u7684\uff1a\n\n`What are you doing while sending \"` +$f_{n-1}$+ `\"? Are you busy? Will you send \"` +$f_{n-1}$+ `\"?`\n\n\u6211\u4eec\u628a\u5b83\u5206\u6210\u591a\u90e8\u5206\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g7pvxv65.png)\n\n\u6211\u4eec\u5199\u4e00\u4e2a dfs \u51fd\u6570\uff0c\u6bcf\u6b21\u5bfb\u627e $f_n$ \u7684\u7b2c $k$ \u4e2a\u5b57\u7b26\u3002\u51fd\u6570\u5185\u5206\u522b\u5bf9\u5404\u79cd\u60c5\u51b5\u505a\u4e86\u5904\u7406\uff0c\u5305\u62ec $n=0$\u3002\u9996\u5148\u8981\u521d\u59cb\u5316\u4e00\u4e2a\u957f\u5ea6\u6570\u7ec4\uff0c\u80fd\u591f\u901a\u8fc7 $f_0$ \u7684\u957f\u5ea6\u63a8\u51fa\u6765\uff0c\u7136\u540e\u6bcf\u6b21 dfs \u65f6\u90fd\u6709\u5f88\u5927\u7528\u5904\u3002\n\n\u5177\u4f53\u89c1\u4ee3\u7801\uff0c\u6ce8\u91ca\u5e94\u8be5\u591f\u8be6\u7ec6\u4e86\u5427\uff1f\n\n**\u8bb0\u5f97\u5f00 long long\uff01**\n\n# \u4ee3\u7801\n\n```cpp\n#include <iostream>\nusing namespace std;\ntypedef long long ll;\nint q,n;\nll k;\n// f\u5c31\u662ff0\uff0c\u7167\u642c\uff1bfn\u8868\u793a\u540e\u9762\u7528\u6765\u9012\u5f52\u7684\u539f\u4e32\uff0c\u4e0d\u5305\u542b\u9012\u5f52\u4e32\u3002\nstring f=\" What are you doing at the end of the world? Are you busy? Will you save us?\";\nstring fn=\" What are you doing while sending \\\"\\\"? Are you busy? Will you send \\\"\\\"?\";\n// len[i]\u8868\u793af[i]\u9879\u7684\u957f\u5ea6\uff0c\u5148\u521d\u59cb\u5316\u597d\u957f\u5ea6\u518d\u8fdb\u884c\u64cd\u4f5c\u3002\nll len[100005]; // \u6ce8\u610f\u5f00long long\n\ninline ll read(){\n\tll X=0; bool flag=1; char ch=getchar();\n\twhile(ch<'0' || ch>'9'){if(ch=='-') flag=0; ch=getchar();}\n\twhile(ch>='0' && ch<='9') X=(X<<1)+(X<<3)+ch-'0',ch=getchar();\n\tif(flag) return X;\n\treturn ~(X-1);\n}\n\nvoid init(){ // \u521d\u59cb\u5316\u957f\u5ea6\n\tlen[0]=75; // \u7b2c\u4e00\u9879\u7684\u957f\u5ea6\u901a\u8fc7\u8ba1\u7b97\u662f75\n\tfor(int i=1; i<=100000; i++){\n\t\tlen[i]=len[i-1]*2+68; // \u5305\u542b\u4e24\u4e2a\u524d\u4e00\u9879\u7684\u957f\u5ea6\uff0c68\u662f\u5176\u4ed6\u7684\u5b57\u7b26\u603b\u957f\u5ea6\n\t\tif(len[i-1]<0 || len[i]>1e18){\n\t\t\tlen[i]=-1;\n\t\t}\n\t}\n}\n\nvoid dfs(int n,ll k){\n\tif(n==0){ // f[0]\u7684\u60c5\u51b5\n\t\tputchar(f[k]);\n\t\t// \u76f4\u63a5\u8f93\u51fa\uff0c\u5c31\u5b8c\u4e8b\u4e86\n\t\treturn;\n\t}\n\tif(k<35){ // \u5728\u7b2c\u4e00\u4e2a\u533a\u95f4\uff0c\u4e5f\u5c31\u662f\u7ea2\u8272\u533a\u95f4\n\t\tputchar(fn[k]);\n\t\t// \u53ef\u76f4\u63a5\u8f93\u51fa\n\t\treturn;\n\t}\n\t/*\n\t\u6a59\u8272\u533a\u95f4\u60c5\u51b5\uff0c\u5982\u679c\u5728\u7ea2\u8272\u533a\u95f4\u5916\u800c\u4e14\u6a59\u8272\u533a\u95f4\u957f\u5ea6\uff0c\u4e5f\u5c31\u662ff[n-1]\u7684\u957f\u5ea6\uff0c\u6bd41e18\u5927\u90a3\u5c31\u662f\u6a59\u8272\u533a\u95f4\n\t\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\uff0c\u4e5f\u5c31\u662f\u521a\u597d\u5728\u6a59\u8272\u533a\u95f4\u4e2d\uff0ck\u6bd434\u5927\uff0c\u4e14\u5c0f\u4e8e\u4e0a\u4e00\u4e2a\u957f\u5ea6\u52a0\u4e0a35(\u56e0\u4e3a\u6709\u5f15\u53f7)\uff0c\u4e5f\u662f\u6a59\u8272\u533a\u95f4\n\t*/\n\tif(len[n-1]==-1 || k>34 && k<len[n-1]+35){\n\t\tdfs(n-1,k-34);\n\t\t// \u5f88\u597d\u7406\u89e3\uff0c\u4e0d\u662f\u7ea2\u8272\u533a\u95f4\u7684\u60c5\u51b5\uff0ck\u8981\u51cf\u53bb\u524d\u9762\u7684\u5b57\u7b26\u4e2a\u6570\uff0c\u518d\u9012\u5f52\u3002\n\t\t// \u7eff\u8272\u533a\u95f4\u60c5\u51b5\u4e5f\u4e00\u6837\n\t\treturn;\n\t}\n\t// \u9ec4\u8272\u533a\u95f4\u60c5\u51b5\n\t// \u5728\u6a59\u8272\u533a\u95f4\u540e\u9762\u4e14\u5728\u7eff\u8272\u533a\u95f4\u524d\u9762\n\tif(k>len[n-1]+34 && k<len[n-1]+67){\n\t\tputchar(fn[k-len[n-1]]);\n\t\treturn;\n\t}\n\t// \u7eff\u8272\u533a\u95f4\n\tif(k>len[n-1]+66 && k<len[n-1]*2+67){\n\t\tdfs(n-1,k-len[n-1]-66);\n\t\treturn;\n\t}\n\t// \u5426\u5219\u5c31\u662f\u84dd\u8272\u533a\u95f4\n\tputchar(fn[k-len[n-1]*2]);\n}\n\nint main(){\n\tinit();\n\tq=read();\n\twhile(q--){\n\t\tn=read(),k=read();\n\t\tif(k>len[n] && len[n]!=-1){ // k\u8d85\u51fa\u957f\u5ea6\uff0c\u8f93\u51fa'.'\n\t\t\tputchar('.');\n\t\t\tcontinue;\n\t\t}\n\t\tdfs(n,k); // \u5426\u5219\u5c31\u53bb\u627e\uff01\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1640326168,
        "uid": 399116,
        "name": "LYqwq",
        "ccfLevel": 0,
        "title": "\u300e\u9898\u89e3\u300fCodeForces CF896A Nephren gives a riddle"
    },
    {
        "content": "$Update 2020/7/16$\n- \u6539\u4e86\u4e00\u4e2a\u9519\u522b\u5b57\u3002\n- \u4fee\u4e86 $\\LaTeX$ \u7684\u9505\u3002\n\n\u4e0a\u4e00\u7bc7\u9898\u89e3\u548b\u6ca1\u6709\u770b\u61c2\u634f/fad\uff0c\u6211\u6765\u8bb2\u4e00\u4e2a\u6bd4\u8f83\u901a\u4fd7\u6613\u61c2\u7684\u89e3\u6cd5\u5427\u3002\n\n\u9996\u5148\u7b80\u8ff0\u4e00\u4e0b\u9898\u9762\u7684\u610f\u601d\uff1a\n\n$f_0=\\text{What are you doing at the end of the world? Are you busy? Will you save us?}$\n\n$f_i=\\text{What are you doing while sending \"}f_{i-1}\\text{\"? Are you busy? Will you send \"}f_{i-1}\"?$\n\n\u7ed9\u51fa $n,k$\uff0c\u6c42 $f_n$ \u7684\u7b2c $k$ \u4e2a\u5b57\u7b26\u3002\n\n\u89e3\u6cd5 $1$:\n\n\u76f4\u63a5\u8ba1\u7b97\u5c31\u597d\u5566\uff0c\u7528 $\\text{string}$ \u6c42\u51fa\u6bcf\u4e2a$f_i$\u3002\n\n\u4ee3\u7801\uff1a\n```\nstring f[10010];\nchar ans[11];\nint q=read(),tot=0;\nf[0]=\"What are you doing at the end of the world? Are you busy? Will you save us?\";\nfor(int i=1;i<=10;i++){\n    f[i]+=\"What are you doing while sending \";\n    f[i]+='\\\"';\n    f[i]+=f[i-1];\n    f[i]+='\\\"';\n    f[i]+=\"? Are you busy? Will you send \";\n    f[i]+='\\\"';\n    f[i]+=f[i-1];\n\tf[i]+='\\\"';\n\tf[i]+='?';\n}\nfor(int i=1;i<=q;i++){\n\tint n=read(),k=read();\n\tif(f[n].size()<=k-1) ans[++tot]='.';\n\telse ans[++tot]=f[n][k-1];\n}\nfor(int i=1;i<=q;i++) cout<<ans[i];\n```\n\n\u7136\u9e45\uff0c\u8fd9\u53ea\u5bf9\u5c0f\u8303\u56f4\u7684 $n$ \u594f\u6548\uff0c\u539f\u56e0\u663e\u7136\uff1a $f_i$ \u7684\u957f\u5ea6\u5448\u6307\u6570\u7ea7\u589e\u957f\uff0c\u5bf9\u4e8e $n\\le10^5$ \u7684\u6570\u636e\u663e\u7136 $\\text{string}$ \u5b58\u4e0d\u4e0b\u3002\n\n\u89e3\u6cd5 $2$:\n\n\u8003\u8651\u4f18\u5316\u3002\u6211\u4eec\u53d1\u73b0\u7b97\u6cd5 $1$ \u4e2d\u5c06 $f_n$ \u7684\u6bcf\u4e00\u4e2a\u5b57\u7b26\u90fd\u6c42\u4e86\u51fa\u6765\uff0c\u4f46\u9898\u76ee\u53ea\u6c42\u7b2c $k$ \u4e2a\u5b57\u7b26\uff0c\u6240\u4ee5\u7b97\u6cd5\u4e00\u4e0d\u4f18\u3002\n\n\u53d1\u73b0 $f_i$ \u7531\u8fd9\u4e48\u51e0\u90e8\u5206\u7ec4\u6210\uff1a\n\n- $part\\ 1:\\text{What are you doing while sending \"}$\n- $part\\ 2:f_{i-1}$\n- $part\\ 3:\\text{\"? Are you busy? Will you send \"}$\n- $part\\ 4:f_{i-1}$\n- $part\\ 5:\"?$\n\n\u4e8e\u662f\u9012\u5f52\u6c42\u89e3\u5373\u53ef\u3002\n\n\u603b\u4f53\u6765\u8bf4\uff0c\u7a0b\u5e8f\u5206\u4e3a\u4ee5\u4e0b\u51e0\u6b65\uff1a\n- \u6c42\u51fa $f_i$ \u7684\u957f\u5ea6\uff08\u6ce8\u610f\u53ea\u9700\u6c42\u5230 $f_{53}$ \u5373\u53ef\uff0c\u56e0\u4e3a $f_{53}$ \u7684\u957f\u5ea6\u5df2\u7ecf\u5927\u4e8e $k$ \u4e86\uff09\n- \u7b97\u51fa $f_n$ \u7684\u7b2c $k$ \u4e2a\u5b57\u7b26\u5728\u7b2c\u51e0\u90e8\u5206\u3002\n- \u9012\u5f52\u6c42\u89e3\u3002\n\n\u4e0b\u9762\u662f\u9012\u5f52\u7684\u4ee3\u7801\uff1a\n```\nchar a[110]=\" What are you doing at the end of the world? Are you busy? Will you save us?\";  \nchar b[110]=\" What are you doing while sending !!? Are you busy? Will you send !!?\";\nchar dfs(int n,long long k){\n    if(n>53){\n        if(k<=34) return b[k];  \n        else return dfs(n-1,k-34); \t\t\n    }\n    if(n==0) return a[(int)k];\n    if(k<=34) return b[(int)k];\n    else if(k<=34+len[n-1]) return dfs(n-1,k-34);\n    else if(k<=66+len[n-1]) return b[(int)(k-len[n-1])];\n    else if(k<=66+2*len[n-1]) return dfs(n-1,k-66-len[n-1]);\n    else return b[(int)(k-len[n-1]*2)];\n}\n```",
        "postTime": 1594821471,
        "uid": 238000,
        "name": "GossWandering",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF896A \u3010Nephren gives a riddle\u3011"
    },
    {
        "content": "### P.S.\n![](https://cdn.luogu.com.cn/upload/image_hosting/1pfui5kg.png)  \n\u6211\u5948\u8299\u83b2\u6c38\u8fdc\u6ef4\u795e\uff01  \n\u6709Nephren\u767b\u573a\u7684\u9898\u76ee\u90fd\u662f\u597d\u9898\uff01  \n\u4e0d\u63a5\u53d7\u4efb\u4f55\u53cd\u9a73\uff01\uff08\u7834\u97f3  \n\n\u8fd9\u9898\u5c01\u9876\u9ec4\u9898\uff0c\u5e94\u8be5\u6ca1\u6709\u7eff\u9898\u5427\u3002  \n\n### Description.\n\u7ed9\u5b9a\u4e00\u4e2a\u6784\u9020\u4e00\u8fde\u4e32\u5b57\u7b26\u4e32\u7684\u65b9\u6cd5\uff08\u89c1\u7ffb\u8bd1\uff09\uff0c\u6c42\u7b2c $n$ \u4e2a\u5b57\u7b26\u4e32\u7684\u7b2c $k$ \u4e2a\u5b57\u7b26\u662f\u591a\u5c11\uff0c\u591a\u7ec4\u8be2\u95ee\u3002  \n\n### Solution.\n\u5176\u5b9e\u8fd8\u662f\u633a\u597d\u60f3\u7684\u5427\u3002  \n\u8bbe\u7b2c $i$ \u4e2a\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u4e3a $f(i)$\u3002  \n\u5219\u6839\u636e\u5b57\u7b26\u4e32\u6784\u9020\u65b9\u5f0f\uff0c\u6211\u4eec\u6709 $f(i)=f(i-1)\\times2+z$\uff0c\u5176\u4e2d $z$ \u662f\u4e00\u6bb5\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u3002  \n\u6211\u4eec\u5c31\u53ef\u4ee5 $O(n)$ \u9012\u63a8\u51fa\u6240\u6709\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u4e86\u3002  \n\n\u7136\u540e\uff0c\u6211\u4eec\u53d1\u73b0\u6bcf\u4e2a\u5b57\u7b26\u4e32\u53ef\u4ee5\u7531\u4e94\u90e8\u5206\u7ec4\u6210\u3002\u5206\u522b\u4e3a\uff1a  \n1. `What are you doing while sending \"`\n2. \u7b2c $i-1$ \u9879\n3. `\"? Are you busy? Will you send \"`\n4. \u7b2c $i-1$ \u9879\n5. `\"?`\n\n\u6211\u4eec\u76f4\u63a5\u5bf9\u5f53\u524d\u6240\u8981\u67e5\u8be2\u7684\u8fd9\u4e2a\u5b57\u7b26\u627e\u5230\u5b83\u5c5e\u4e8e\u54ea\u90e8\u5206\u3002  \n\u5982\u679c\u662f 1\u30013\u30015 \u90e8\u5206\u7684\u8bdd\u76f4\u63a5\u8f93\u51fa\u7b54\u6848\uff0c\u5426\u5219\u9012\u5f52\u5904\u7406\u3002  \n\u8fd9\u6837\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u5bf9\u7684\uff0c\u5e94\u8be5\u662f $O(\\min(\\log_2K,N))$ \u7ea7\u522b\u7684\u3002  \n\n### Code.\n```cpp\n//\u4e00\u5b9a\uff0c\u6bcf\u4e2a\u4eba\u90fd\u6ca1\u6709\u8d23\u4efb\uff0c\u90fd\u6ca1\u6709\u9519\uff0c\u6bcf\u4e2a\u4eba\u90fd\u62fc\u5c3d\u4e86\u5168\u529b\u3002\u2014\u2014Nephren\n#include<bits/stdc++.h>\nusing namespace std;\nconst string A=\"What are you doing at the end of the world? Are you busy? Will you save us?\";//\u6253\u51fa\u6765\u7684\u8868\nconst string Z1=\"What are you doing while sending \\\"\",Z2=\"\\\"? Are you busy? Will you send \\\"\",Z3=\"\\\"?\";\nconst int deta=Z1.size()+Z2.size()+Z3.size();long long f[100005],k;int Q,n;\ninline char dfs(int n,long long k)//\u9012\u5f52\u5904\u7406\n{//\u6ce8\u610f\uff0c\u5982\u679cn=0\u7684\u8bdd\u9700\u8981\u76f4\u63a5\u8fd4\u56de\u7b54\u6848\uff0c\u56e0\u4e3a\u5df2\u7ecf\u65e0\u6cd5\u9012\u5f52\u4e86\u3002\n\tif(k>f[n]) return '.';else if(n==0) return A[k];\n\tif(k<(int)Z1.size()) return Z1[k];else k-=Z1.size();\n\tif(k<f[n-1]) return dfs(n-1,k);else k-=f[n-1];\n\tif(k<(int)Z2.size()) return Z2[k];else k-=Z2.size();\n\tif(k<f[n-1]) return dfs(n-1,k);else k-=f[n-1];\n\tif(k<(int)Z3.size()) return Z3[k];else k-=Z3.size();\n\treturn '.';//\u66b4\u529b\u679a\u4e3e\u662f\u90a3\u4e00\u90e8\u5206\n}\nint main()\n{\n\tmemset(f,0x3f,sizeof(f)),f[0]=A.size();for(int i=1;i<=55;i++) f[i]=(f[i-1]<<1)+deta;//\u4e0a\u9762\u7684\u9012\u63a8\u5f0f\n\tfor(scanf(\"%d\",&Q);Q--;) scanf(\"%d%lld\",&n,&k),k--,putchar(dfs(n,k));\n\treturn 0;\n}\n```\n\u5b8c\u7ed3\u6492\u82b1",
        "postTime": 1598708240,
        "uid": 44805,
        "name": "Leap_Frog",
        "ccfLevel": 7,
        "title": "CF896A Nephren gives a riddle\uff08\u9898\u89e3\uff09"
    },
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF896A)\n\n\u9898\u76ee\u5927\u6982\u610f\u601d\u662f\uff1a\n\n- \u5bf9\u4e8e\u4ee5\u4e0b\u751f\u6210\u5b57\u7b26\u4e32\u89c4\u5219\uff1a\n\n1. $ f_0 = \\texttt{What are you doing at the end of the world? Are you busy? Will you save us?}$\n\n2. $ f_n = \\texttt{What are you doing while sending \"} f_{n - 1} \\texttt{\"? Are you busy? Will you send \"} f_{n - 1}? \\texttt{\"?}$ \u6ce8\u610f\uff1a$n \\geq 1$\n\n- \u8f93\u51fa\u7b2c $n$ \u4e2a\u5b57\u7b26\u4e32\u4e2d\u7684\u7b2c $k$ \u4e2a\u5b57\u7b26\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c$f_n$ \u7684\u5b57\u7b26\u4e32\u65e0\u975e\u7531\u56db\u4e2a\u90e8\u5206\u6309\u7279\u5b9a\u987a\u5e8f\u7ec4\u6210\uff1a\n\n- $s_0$ = $f_0$\n\n- $s_1$ = $\\texttt{What are you doing while sending \"}$\n\n- $s_2$ = $\\texttt{\"? Are you busy? Will you send \"}$\n\n- $s_3$ = $\\texttt{\"?}$\n\n\u901a\u8fc7\u5b57\u7b26\u4e32\u751f\u6210\u89c4\u5219\u53ef\u77e5\uff1a $f_n$ \u7684\u957f\u5ea6\u4e3a $f_{n - 1}$ \u7684\u957f\u5ea6\u4e58\u4e0a $2$ \u518d\u52a0\u4e0a $s_1$\uff0c $s_2$\uff0c $s_3$ \u7684\u957f\u5ea6\u3002\n\n\u4e0b\u9762\u5c31\u6709\u4e86\u4e00\u4e2a\u601d\u8def\uff1a\n\n- \u5f53 $n = 0$ \u65f6\uff0c\u53ef\u76f4\u63a5\u5224\u65ad\u7b2c $k$ \u4e2a\u5b57\u7b26\u3002\n\n- \u5bf9\u4e8e\u5176\u4f59\u7684 $n$\uff08$n \\geq 1$\uff09\uff0c\u5f53 $k \\leq s_1$ \u7684\u957f\u5ea6\u65f6\uff0c$f_n$ \u7684\u7b2c $k$ \u4e2a\u5b57\u7b26\u4e3a $s_1[k - 1]$\n\n- \u5bf9\u4e8e\u5269\u4e0b\u7684\u60c5\u51b5\uff0c\u5c31\u9700\u8981\u7528\u5230\u9012\u5f52\u4e86\u3002\u4f46\u662f\u6211\u4eec\u53d1\u73b0\u672c\u9898 $n \\leq 10^5$\uff0c\u6570\u636e\u8303\u56f4\u5de8\u5927\uff0c\u4ec0\u4e48\u6570\u636e\u7ed3\u6784\u4e5f\u5b58\u4e0d\u4e0b\u6574\u4e2a\u5b57\u7b26\u4e32\uff0c\u548b\u529e\uff1f\n\n- \u6211\u4eec\u6ce8\u610f\u5230 $k$ \u7684\u6700\u5927\u503c\u4e3a $10^{18}$\uff0c\u800c\u6211\u4eec\u53d1\u73b0 $f_{53}$ \u7684\u957f\u5ea6 \u5df2\u7ecf\u5927\u4e8e\u4e86 $10^{18}$\uff0c\u8fd9\u5c31\u8bf4\u660e $n \\geq 54$ \u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u51cf\u5c0f\u5230 $53$ \u518d\u5904\u7406\uff0c\u7136\u540e\u518d\u4e0d\u65ad\u51cf\u5c0f\u95ee\u9898\u89c4\u6a21\uff0c\u5177\u4f53\u60c5\u51b5\u53ef\u770b\u4ee3\u7801\uff1a\n\n```cpp\n\n\n#include <iostream>\n \nusing namespace std;\n\nint q, n;\nlong long k, l[59];\nstring res;\n\nstring s[] = {\n\t\"What are you doing at the end of the world? Are you busy? Will you save us?\", \n\t\"What are you doing while sending \\\"\",\n\t\"\\\"? Are you busy? Will you send \\\"\",\n\t\"\\\"?\"\n};\n\nchar F (int cn, long long ck) {\n\tlong long e1, e2, e3;\n\t\n\tif (!cn) {\n\t\tif (ck <= s[0].size()) {\n\t\t\treturn s[0][ck - 1];\n\t\t}\n\t\t\n\t\treturn '.';\n\t}\n\t\n\tif (ck <= s[1].size()) {\n\t\treturn s[1][ck - 1];\n\t}\n\t\n\tif (cn >= 54) {\n\t\treturn F(cn - 1, ck - s[1].size());\n\t}\n\t\n\te1 = s[1].size() + l[cn - 1];\n\te2 = e1 + s[2].size();\n\te3 = e2 + l[cn - 1];//\u5c06\u6574\u4e2a\u5b57\u7b26\u4e32\u5206\u6210 5 \u4e2a\u90e8\u5206\uff0c\u770b\u7b2c k \u4e2a\u5b57\u7b26\u5c5e\u4e8e\u54ea\u4e00\u90e8\u5206\u3002\n\t\n\tif (ck <= e1) {\n\t\treturn F(cn - 1, ck - s[1].size());\n\t}\n\t\n\tif (ck <= e2) {\n\t\treturn s[2][ck - e1 - 1];\n\t}\n\t\n\tif (ck <= e3) {\n\t\treturn F(cn - 1, ck - e2);\n\t}\n\t\n\tif (ck - e3 <= s[3].size()) {\n\t\treturn s[3][ck - e3 - 1];\n\t}\n\t\n\treturn '.';\n}\n\nint main () {\n\tl[0] = s[0].size();\n\t\n\tfor (int i = 1; i <= 54; i++) {\n\t\tl[i] = 2 * l[i - 1] + s[1].size() + s[2].size() + s[3].size();\n\t}\n\t\n\tcin >> q;\n\t\n\twhile (q--) {\n\t\tcin >> n >> k;\n\t\tres += F(n, k);\n\t}\n\t\n\tcout << res << endl;\n\t\n\treturn 0;\n}\n```\n",
        "postTime": 1622624240,
        "uid": 299086,
        "name": "Mistybranch",
        "ccfLevel": 5,
        "title": "CF896A Nephren gives a riddle"
    },
    {
        "content": "### \u9898\u610f\n\u8fd9\u9053\u9898\u7684\u9898\u4e49\u662f\u8bf4\uff0c\u6709\u4e00\u4e2a\u975e\u5e38\u957f\u7684\u5b57\u7b26\u4e32\u6570\u7ec4 $f$\uff0c\u5b57\u7b26\u4e32\u6570\u7ec4\u7684\u9012\u63a8\u516c\u5f0f\u662f\uff1a\n\n- $f_0= \\texttt{What are you doing at the end of the world? Are you busy? Will you save us?}$\n- $f_n= \\texttt{What are you doing while sending \"}+f_{n-1}+ \\texttt{\"? Are you busy? Will you send \"}+f_{n-1}+\\texttt{\"?}$\n\n\u73b0\u5728\u7ed9\u51fa $q$ \u6b21\u8be2\u95ee\uff0c\u6bcf\u4e2a\u8be2\u95ee\u5f62\u5982 ```n k```\uff0c\u8981\u6c42\u8f93\u51fa $f_n$ \u7684\u7b2c $k$ \u4e2a\u5b57\u7b26\uff0c\u5982\u679c $f_n$ \u4e0d\u5b58\u5728\u7b2c $k$ \u4e2a\u5b57\u7b26\u5219\u8f93\u51fa\u5b57\u7b26 $\\texttt{.}$\u3002\n\n\u6570\u636e\u8303\u56f4\uff1a$1\\le q \\le 10,\\ 0 \\le n \\le 10^5,\\ 1 \\le k \\le 10^{18}$\n\n------------\n### \u7b97\u6cd5\n\n\u62ff\u5230\u8fd9\u9898\u540e\uff0c\u770b\u5230 $k$ \u7684\u6570\u636e\u8303\u56f4\u6781\u5927\uff0c$n$ \u4e5f\u8fbe\u5230 $1e5$\uff0c\u80af\u5b9a\u4e0d\u80fd\u6a21\u62df\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u91c7\u7528\u6c42 [\u6c49\u8bfa\u5854\u7b2c k \u6b65](https://www.luogu.com.cn/problem/U156054) \u7684\u601d\u60f3\u6765\u505a\u3002\n\n\u9996\u5148\u6765\u753b\u56fe\u5217\u4e3e\u4e00\u4e0b\u5728 $f_n$ \u4e2d\uff0c$k$ \u7684\u4f4d\u7f6e\u53ef\u80fd\u6709\u54ea\u51e0\u79cd\u60c5\u51b5\u3002\n![\u60c5\u51b5](https://cdn.luogu.com.cn/upload/image_hosting/0d24u17t.png)\n\u5982\u56fe\uff0c$k$ \u6240\u5728\u7684\u4f4d\u7f6e\u53ef\u4ee5\u5c5e\u4e8e\u7ea2\u8272\u3001\u6a59\u8272\u3001\u9ec4\u8272\u3001\u7eff\u8272\u3001\u84dd\u8272 $5$ \u4e2a\u533a\u95f4\u3002\n\n\u4e8e\u662f\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u9012\u5f52\u7684\u65b9\u5f0f\u6c42\u51fa\u7b54\u6848\u3002\u4f46\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u76f4\u63a5\u7528\u9012\u63a8\u7684\u65b9\u5f0f\u8ba1\u7b97 $f_n$ \u7684\u957f\u5ea6\uff0c$n$ \u53ea\u8981\u7a0d\u5fae\u5927\u4e00\u70b9\u5c31\u4f1a\u7206 long long\u3002\u4e0d\u8fc7\u8fd9\u9898\u51fa\u9898\u4eba\u6bd4\u8f83\u826f\u5fc3\uff0c\u867d\u7136\u957f\u5ea6\u6709\u53ef\u80fd\u4f1a\u7206\uff0c\u4f46\u662f\u8981\u6c42\u7684\u4f4d\u7f6e $k$ \u6700\u5927\u53ea\u6709 $10^{18}$\uff0c\u53ef\u4ee5\u5224\u65ad\u53ea\u8981\u5f53\u524d\u9012\u5f52\u4e2d\u7684\u4f4d\u7f6e\u5904\u5728\u7ea2\u8272\u533a\u95f4\u5916\uff0c\u4e14 $f_{n-1}$ \u7684\u957f\u5ea6 $>10^{18}$ \u5c31\u80af\u5b9a\u5904\u5728\u6a59\u8272\u533a\u95f4\u5185\uff0c\u5177\u4f53\u89c1\u4ee3\u7801\u3002\n\n------------\n### \u4ee3\u7801\n###### \u4ee3\u7801\u91cc\u6709\u6ce8\u91ca\n\n```cpp\n\n\n#include <iostream>\n#define ll long long\n\nusing namespace std;\n\nint Q;\nint N;\nll K;\nstring f0 = \" What are you doing at the end of the world? Are you busy? Will you save us?\";\nstring fn = \" What are you doing while sending \\\"\\\"? Are you busy? Will you send \\\"\\\"?\";\nll f[100009];  //\u9898\u76ee\u4e2d f[n] \u7684\u957f\u5ea6\n\nvoid Gen () {  //\u8ba1\u7b97\u957f\u5ea6\n  f[0] = 75;\n\n  for (int i = 1; i < 100001; i++) {\n    f[i] = 2 * f[i - 1] + 68;\n\n    if (f[i - 1] < 0 || f[i] > 1e18) {  //\u5982\u679c\u957f\u5ea6>10^18\uff0c\u5c31\u628a\u503c\u8bbe\u4e3a-1\n      f[i] = -1;\n    }\n  }\n}\n\nvoid Dfs (int n, ll k) {  //\u6c42 f[n] \u7684\u7b2c k \u4f4d\u662f\u90a3\u4e2a\u5b57\u7b26\n  if (n == 0) {  //f[0]\n    cout << f0[k];\n    return;\n  }\n\n  if (k < 35) {  //\u7ea2\u8272\u533a\u95f4\n    cout << fn[k];\n    return;\n  }\n  \n  if (f[n - 1] < 0) {  //\u4f4d\u7f6e\u5904\u5728\u7ea2\u8272\u533a\u95f4\u5916\uff0c\u4e14 f[n-1]>1e18 \u5c31\u80af\u5b9a\u5904\u5728\u6a59\u8272\u533a\u95f4\u5185\n    Dfs(n - 1, k - 34);\n    return;\n  }\n\n  if (k > 34 && k < 35 + f[n - 1]) {  //\u6b63\u5e38\u6a59\u8272\u533a\u95f4\uff0c\u7ee7\u7eed\u9012\u5f52\uff0ck \u7684\u4f4d\u7f6e\u51cf\u53bb\u5728\u524d\u9762\u7684\u5b57\u7b26\u6570\n    Dfs(n - 1, k - 34);\n    return;\n  }\n\n  if (k > 34 + f[n - 1] && k < 67 + f[n - 1]) {  //\u9ec4\u8272\u533a\u95f4\u5df2\u77e5\n    cout << fn[k - f[n - 1]];\n    return;\n  }\n\n  if (k > 66 + f[n - 1] && k < 67 + 2 * f[n - 1]) {  //\u7eff\u8272\u533a\u95f4\uff0c\u7ee7\u7eed\u9012\u5f52\uff0ck \u7684\u4f4d\u7f6e\u51cf\u53bb\u5728\u524d\u9762\u7684\u5b57\u7b26\u6570\n    Dfs(n - 1, k - 66 - f[n - 1]);\n    return;\n  }\n\n  cout << fn[k - 2 * f[n - 1]];  //\u84dd\u8272\u533a\u95f4\u5df2\u77e5\n}\n\nvoid In_Solve_Out () {\n  Gen();\n\n  cin >> Q;\n\n  while (Q--) {\n    cin >> N >> K;\n    \n    if (K > f[N] && f[N] != -1) {  //\u4e0d\u5b58\u5728\u7b2c K \u4e2a\u5b57\u7b26\n      cout << \".\";\n      continue;\n    }\n    \n    Dfs(N, K);\n  }\n\n  cout << endl;\n}\n\nint main () {\n  \n  In_Solve_Out();\n  \n  return 0;\n}\n```",
        "postTime": 1616839343,
        "uid": 224532,
        "name": "lyxeason",
        "ccfLevel": 5,
        "title": "CF896A Nephren gives a riddle \u9898\u89e3"
    }
]