[
    {
        "content": "\u8fd9\u9898\u5728 CF rating \u662f 3100+\uff0c\u542c\u4e86\u8bb2\u8bc4\u4e4b\u540e\u611f\u89c9\u918d\u9190\u704c\u9876\u3002\n\n\u5982\u679c\u60a8\u4e0d\u770b\u9898\u89e3\u5c31 AC\uff0c\u90a3\u60a8\u662f\u771f\u7684\u5f3a\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u9ed1\u4e0d\u53ef\u80fd\u8d62\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u8003\u8651\u4e00\u79cd\u7b80\u5355\u7684\u60c5\u51b5\uff1a\u6ca1\u6709\u4efb\u4f55\u70b9\u521d\u59cb\u65f6\u6709\u989c\u8272\u3002\n\n\u60c5\u51b5 1\uff1a\u6811\u4e2d\u6709\u4e00\u4e2a\u70b9 $A$ \u7684\u5ea6\u5927\u4e8e\u7b49\u4e8e $4$\u3002\n\n\u6211\u4eec\u5047\u8bbe\u5b83\u8fde\u7740 $B,C,D,E$ \u7b49\u70b9\u3002\u90a3\u4e48\uff0c\u767d\u65b9\u4e0b $A$\uff0c\u4e0d\u59a8\u4ee4\u9ed1\u4e0b\u5728 $B$\uff0c\u767d\u4e0b $C$,\u6b64\u65f6\u767d\u6709\u4e24\u4e2a\u672a\u88ab\u963b\u6321\u4e14\u8fde\u8d77\u6765\u7684\u70b9\uff0c\u767d\u80dc\u3002\n\n\u5269\u4e0b\u7684\u60c5\u51b5\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u70b9\u7684\u5ea6\u90fd\u5c0f\u4e8e\u7b49\u4e8e $3$\u3002\n\n\u60c5\u51b52\uff1a\u6811\u4e2d\u6709\u4e00\u4e2a\u70b9\u5ea6\u4e3a $3$ \uff0c\u4e14\u4ece\u8fd9\u4e2a\u70b9\u4f38\u51fa\u81f3\u5c11\u4e24\u4e2a\u957f\u5ea6\u81f3\u5c11\u4e3a $2$ \u7684\u94fe\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4rtj5lvx.png)\n\n\u767d\u4e0b $2$\uff0c\u4e0d\u59a8\u53e6\u9ed1\u4e0b $3$\uff0c\u5219\u767d\u4e0b $4$\uff0c\u6b64\u65f6\u767d\u6709\u4e24\u4e2a\u672a\u88ab\u963b\u6321\u4e14\u8fde\u8d77\u6765\u7684\u70b9\uff0c\u767d\u80dc\u3002\n\n\u5269\u4e0b\u7684\u60c5\u51b5\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u70b9\u6700\u591a\u4f38\u51fa\u4e00\u6761\u957f\u5ea6\u5927\u4e8e\u7b49\u4e8e $2$ \u7684\u94fe\uff0c\u5e76\u4e14\u5bb9\u6613\u53d1\u73b0\uff0c\u6b64\u65f6\u81f3\u591a\u6709 $3$ \u4e2a\u5ea6\u4e3a $3$ \u7684\u70b9\u3002\u5426\u5219\uff0c\u53ef\u4ee5\u653e\u5165\u60c5\u51b5 2 \u4e2d\u3002\n\n\u6b64\u65f6\u4efb\u9009\u5176\u4e2d\u7684\u4e24\u4e2a\u70b9\u505a\u8ba8\u8bba\u3002\u6b64\u65f6\uff0c\u5b83\u4eec\u4f1a\u51fa\u73b0\u56fe\u793a\u7684 $\\text{H}$ \u5f62\u7ed3\u6784\u3002\n\n\u4e00\u3001\u4e24\u6761\u7ad6\u6746\u4e2d\u95f4\u5939\u7740\u5076\u6570\u4e2a\u70b9\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ujqipy0w.png)\n\n\u767d\u4e0b $4$\uff0c\u9ed1\u53ea\u80fd\u4e0b $2$\uff1b\u767d\u4e0b $5$\uff0c\u9ed1\u4e0b $7$\uff0c\u5e73\u3002\n\n\u4e8c\u3001\u4e24\u6761\u7ad6\u6746\u4e4b\u95f4\u5939\u7740\u5947\u6570\u4e2a\u70b9\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/peq98zlr.png)\n\n\u767d\u4e0b $4$\uff0c\u4e0d\u59a8\u53e6\u9ed1\u4e0b $2$\uff1b\u767d\u4e0b $7$\uff0c\u4e0d\u7ba1\u9ed1\u5835\u4f4f\u54ea\u4e00\u8fb9\uff0c\u767d\u90fd\u80fd\u8d70\u53e6\u5916\u4e00\u8fb9\u8fde\u6210 $3$ \u4e2a\u5b50\u3002\n\n\n\u6211\u4eec\u8f6c\u5316\u4e3a\u4e00\u822c\u7684\u60c5\u51b5\u3002\u5047\u8bbe\u4e2d\u95f4\u88ab\u5939\u7740\u7684\u70b9\u662f $1$ \u81f3 $n$\u3002\u767d\u6700\u4f18\u89e3\u5c31\u662f\u4e0b $1$ \u548c $n$\uff0c\u90a3\u4e48\u9ed1\u5c31\u4f1a\u5835\u4f4f\u53e6\u5916\u4e24\u8fb9\u7684\u70b9\uff08$1$ \u524d\u9762\u7684\uff0c$n$ \u540e\u9762\u7684\uff09\uff1b\u7136\u540e\u767d\u5c31\u4f1a\u9694\u4e00\u4e2a\u4f4d\u7f6e\u4e0b\u4e00\u4e2a\u5b50\uff0c\u7136\u540e\u9ed1\u4e3a\u4e86\u9632\u6b62\u767d\u8fde\u6210\u4e09\u4e2a\u5b50\uff0c\u5c31\u4f1a\u4e0b\u5728\u767d\u4e2d\u95f4\u7684\u7a7a\u4f4d\u3002\u5c31\u8fd9\u6837\u4e00\u76f4\u5f80\u4e2d\u95f4\u4e0b\uff0c\u5982\u679c\u6700\u540e\u767d\u6700\u4e2d\u95f4\u7684\u4e24\u4e2a\u5b50\u6709\u4e00\u4e2a\u7a7a\u4f4d\uff0c\u5219\u767d\u80dc\uff08\u56e0\u4e3a\u6b64\u65f6\u4f1a\u7559\u4e0b\u4e24\u4e2a\u7a7a\uff0c\u65e0\u8bba\u9ed1\u5360\u6389\u54ea\u4e00\u4e2a\uff0c\u767d\u90fd\u53ef\u4ee5\u4e0b\uff1b\u53e6\u4e00\u4e2a\u7a7a\u800c\u80dc\u5229\uff09\u3002\n\n\u5bb9\u6613\u53d1\u73b0\uff0c\u4e0a\u9762\u8fd9\u6bb5\u7b49\u4ef7\u4e8e\uff1a$n$ \u4e3a\u5947\u6570\u5219\u767d\u80dc\uff0c\u5426\u5219\u5e73\u3002\n\n\u5269\u4e0b\u7684\u60c5\u51b5\u5c31\u662f\u4e00\u6761\u94fe\u4e86\u3002\u8fd9\u662f\u9ed1\u548c\u767d\u4f1a\u4e00\u76f4\u7ea0\u7f20\uff0c\u6700\u7ec8\u5e73\u3002\u4e0a\u9762\u5c31\u662f\u6240\u6709\u60c5\u51b5\u3002\n\n\u5982\u679c\u6700\u5f00\u59cb\u6709\u767d\u8272\u7684\u70b9\u5462\uff1f\u6211\u4eec\u4f7f\u7528\u5316\u5f52\u7684\u601d\u60f3\uff0c\u628a\u5de6\u4fa7\u7684 $A$ \u8f6c\u5316\u4e3a\u53f3\u4fa7\u7684 $A'$\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hlhp77ab.png)\n\n\u5176\u4e2d\uff0c\u53f3\u4fa7\u6240\u6709\u70b9\u672a\u67d3\u8272\uff0c\u4e14 $B,C,D$ \u662f\u65b0\u6dfb\u52a0\u7684\u3002\n\n\u601d\u8003\u4e00\u4e0b\u610f\u4e49\uff1a\u5982\u679c $A'$ \u6b64\u65f6\u88ab\u767d\u4e0b\uff0c\u9ed1\u4e3a\u4e86\u4e0d\u8d1f\u5fc5\u5b9a\u4e0b $D$\uff0c\u6b64\u65f6 $C,B$ \u5c31\u88ab\u6d6a\u8d39\u6389\u4e86\uff08\u5982\u679c\u5728\u8fd9\u91cc\u9ed1\u5b50\u60f3\u8fde\u6210\u4e09\u4e2a\uff0c\u7531\u4e8e\u767d\u5148\u4e0b\uff0c\u90a3\u4e48\u9ed1\u4e5f\u6bd4\u767d\u6162\uff0c\u5fc5\u987b\u4e0e\u767d\u7275\u5236\uff09\uff0c\u76f8\u5f53\u4e8e\u8ba9\u767d\u591a\u4e0b\u4e86\u3002\n\n\u6ca1\u4e86\u3002\u6ce8\u610f\u6bcf\u6b21\u6e05\u96f6\u7684\u65f6\u5019\u522b\u7528 ```memset```\uff0c\u76f4\u63a5\u5faa\u73af\u8d4b $0$\uff0c\u5426\u5219 T \u98de\u7b2c\u4e8c\u4e2a\u70b9\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,b) for(register int i=(a);i<=(b);++i)\n#define Rep(i,a,b) for(register int i=(a);i>=(b);--i)\n#define read() Read<int>()\n#define write Write<int>\n#define writesp Writesp<int>\n#define writeln Writeln<int>\ntemplate<typename T>\ninline T Read()\n{\n\tbool f=0;T x=0;char ch;\n\tdo{ch=getchar();f|=(ch=='-');}while(!isdigit(ch));\n\tdo{x=(x<<1)+(x<<3)+(ch^48);ch=getchar();}while(isdigit(ch));\n\treturn f?-x:x;\n}\ntemplate<typename T>\ninline void Write(T x)\n{\n\tif(x<0){putchar('-');write(-x);return;}\n\tif(x>9)write(x/10);\n\tputchar(x%10+48);\n}\ntemplate<typename T> inline void Writeln(T x){Write(x);puts(\"\");}\ntemplate<typename T> inline void Writesp(T x){Write(x);putchar(' ');}\nconst int maxn=2e6+5;\nint nxt[maxn<<1|1],to[maxn<<1|1],head[maxn],tot=0;\nint n;\nvoid addedge(int u,int v)\n{\n\tnxt[++tot]=head[u];\n\thead[u]=tot;\n\tto[tot]=v;\n}\nint deg[maxn];\nbool judge1()//\u5224\u65ad\u662f\u5426\u6709\u5ea6>=4\u7684\u70b9 \n{\n\trep(i,1,n)if(deg[i]>3)return 1;\n\treturn 0;\n}\n//\u63a5\u4e0b\u6765\u7684\u60c5\u51b5\u4e2d\uff0c\u6240\u6709\u70b9\u7684\u5ea6\u90fd<=3 \nbool judge2()//\u5224\u65ad\u662f\u5426\u6709\u6302\u7740\u4e24\u6761\u957f\u5ea6>=2\u7684\u94fe\u7684\u70b9 \n{\n\trep(u,1,n)\n\t{\n\t\tint count=0;\n\t\tif(deg[u]!=3)continue;\n\t\tfor(register int i=head[u];i;i=nxt[i])\n\t\t{\n\t\t\tint v=to[i];\n\t\t\tif(deg[v]>1)++count;\n\t\t}\n\t\tif(count>1)return 1;\n\t}\n\treturn 0;\n}\nint dis[maxn];\nvoid dfs(int u,int fa)\n{\n\tdis[u]=dis[fa]+1;\n\tfor(register int i=head[u];i;i=nxt[i])\n\t{\n\t\tint v=to[i];\n\t\tif(fa==v)continue;\n\t\tdfs(v,u);\n\t}\n}\n//\u63a5\u4e0b\u6765\uff0c\u6bcf\u4e00\u4e2a\u70b9\u53ea\u6709\u53ef\u80fd\u6302\u7740\u4e00\u6761\u957f\u94fe\uff0c\u5269\u4e0b\u7684\u5730\u65b9\u90fd\u53ea\u8fde\u63a5\u7740\u4e00\u4e2a\u70b9\nbool judge3()//\u5224\u65ad\u201cH\u201d\u5f62\u60c5\u51b5\n{\n\tint a=0,b=0,c=0;\n\trep(i,1,n)\n\t{\n\t\tif(deg[i]>=3)\n\t\t{\n\t\t\tif(a&&b){c=i;break;}\n\t\t\tif(a){b=i;}\n\t\t\telse a=i;\n\t\t}\n\t}\n\tif(!b&&!c)return 0;\n\tmemset(dis,0,sizeof dis);dfs(a,0);\n\tint len=dis[b];\n\tif(len&1)return 1;\n\tif(!c)return 0;\n\tlen=dis[c];\n\tif(len&1)return 1;\n\tmemset(dis,0,sizeof dis);dfs(b,0);\n\tlen=dis[c];\n\tif(len&1)return 1;\n\treturn 0;\n} \nint main(){\n\tint t=read();\n\twhile(t--)\n\t{\n\t\tn=read();\n\t\trep(i,1,n-1)\n\t\t{\n\t\t\tint u=read(),v=read();\n\t\t\taddedge(u,v);\n\t\t\taddedge(v,u);\n\t\t\t++deg[u];++deg[v];\n\t\t}\n\t\tint cur=n;\n\t\trep(i,1,n){\n\t\t\tchar ch;cin>>ch;\n\t\t\tif(ch=='W')\n\t\t\t{\n\t\t\t\tcur+=3;\n\t\t\t\taddedge(i,cur-2);addedge(cur-2,i);\n\t\t\t\taddedge(cur-1,cur-2);addedge(cur-2,cur-1);\n\t\t\t\taddedge(cur,cur-2);addedge(cur-2,cur);\n\t\t\t\tdeg[i]++;deg[cur-2]=3;\n\t\t\t\tdeg[cur-1]=deg[cur]=1;\n\t\t\t}//\u62c6\u70b9 \n\t\t}\n\t\tn=cur;\n\t\tif(judge1()){puts(\"White\");}\n\t\telse if(judge2()){puts(\"White\");}\n\t\telse if(judge3()){puts(\"White\");}\n\t\telse puts(\"Draw\");\n\t\trep(i,1,n)deg[i]=head[i]=0;\n\t\ttot=0;\n\t}\n\treturn 0;\n} \n```",
        "postTime": 1619359194,
        "uid": 440535,
        "name": "John_Smith",
        "ccfLevel": 0,
        "title": "CF1100G \u9898\u89e3"
    },
    {
        "content": "\u6233[\u8fd9\u91cc](https://www.luogu.com.cn/blog/zym20070228/ti-xie-cf1110gtree-tac-toe-post#)\u98df\u7528\u66f4\u4f73\u3002\n\n\u3010\u9898\u76ee\u5927\u610f\u3011\n\n\u5728\u4e00\u68f5\u539f\u6709\u4e00\u4e9b\u767d\u70b9\u548c\u672a\u67d3\u8272\u7684\u70b9\u7684\u6811\u4e0a\u8fdb\u884c\u8f6e\u6d41\u67d3\u8272\u6e38\u620f\uff0c\u767d\u8272\u5148\u67d3\uff0c\u7387\u5148\u5c06\u4e09\u4e2a\u76f8\u90bb\u8282\u70b9\u67d3\u8272\u7684\u4e00\u65b9\u80dc\uff0c\u6c42\u83b7\u80dc\u7684\u4e00\u65b9\u3002\n\n\u8fd9\u9053\u9898\u7b2c\u4e00\u773c\u770b\u4e0a\u53bb\u5e94\u8be5\u5c31\u662f\u535a\u5f08\u8bba\uff0c\u4f46\u662f\u9898\u76ee\u4e2d\u7684\u6e38\u620f\u660e\u663e\u662f\u4e0d\u516c\u5e73\u7684\uff0c\u6240\u4ee5\u4e0d\u4fbf\u4e8e\u6c42\u89e3\uff0c\u6240\u4ee5\u6211\u4eec\u5148\u6765\u8003\u8651\u539f\u6811\u4e0a\u6ca1\u6709\u767d\u8272\u70b9\u7684\u60c5\u51b5\u3002\n\n\u8003\u8651\u5bf9\u4e8e\u4e00\u4e2a\u5168\u4e3a\u7a7a\u8282\u70b9\u7684\u56fe\uff08\u6811\uff09\uff0c\u6709\u54ea\u4e9b\u53ef\u80fd\u7684\u5c40\u9762\u662f\u5148\u624b\u5fc5\u80dc\u7684\u3002\n\n1. \n\n\u5f88\u660e\u663e\uff0c\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u8fde\u4e0a\u4e86\u81f3\u5c11 4 \u4e2a\u70b9\uff08\u5373\u5ea6\u5927\u4e8e 4 \uff09\uff0c\u90a3\u4e48\u5148\u624b\u4e0b\u5728\u8fd9\u4e2a\u8282\u70b9\u4e0a\uff0c\u65e0\u8bba\u540e\u624b\u600e\u4e48\u4e0b\u5148\u624b\u90fd\u5fc5\u80dc\u3002\n\n2. \n\n\u5982\u679c\u56fe\u4e2d\u7684\u70b9\u7684\u5ea6\u6570\u90fd\u5c0f\u4e8e\u7b49\u4e8e 2 \uff0c\u5219\u6b64\u56fe\u4e3a\u4e00\u6761\u94fe\uff0c\u5fc5\u7136\u4e3a\u5e73\u5c40\u3002\n\n3. \n\n\u63a5\u4e0b\u6765\u6211\u4eec\u53ea\u8981\u5173\u6ce8\u5ea6\u4e3a 3 \u7684\u70b9\u3002\u5982\u679c\u6211\u4eec\u4e0b\u5728\u4e00\u4e2a\u5ea6\u4e3a 3 \u7684\u70b9\uff0c\u5bf9\u624b\u4f1a\u5835\u4f4f\u4e00\u8fb9\uff0c\u6b64\u65f6\u6211\u4eec\u5982\u679c\u8981\u548c\u5f53\u524d\u8fd9\u4e2a\u70b9\u8fde\u4e0a\uff0c\u8fd8\u6709\u4e24\u4e2a\u70b9\u53ef\u4ee5\u4e0b\uff0c\u5373\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/9meey16u.png?x-oss-process=image/resize,m_lfit,h_270,w_345)\n\n\u8fd9\u6837\u539f\u56fe\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a\u6709\u4e00\u4e2a\u767d\u70b9\u7684\u94fe\uff0c\u4e14\u6b64\u65f6\u767d\u70b9\u5148\u624b\u3002\u4e3a\u4e86\u8ba9\u5148\u624b\u5fc5\u80dc\uff0c\u8fd9\u4e2a\u94fe\u7684\u957f\u5ea6\u81f3\u5c11\u4e3a 4 \uff0c\u5373\u81f3\u5c11\u6709\u4e00\u4e2a\u5b50\u8282\u70b9\u8fd8\u63a5\u7740\u4e00\u4e2a\u8282\u70b9\uff0c\u5373\u5ea6\u6570\u81f3\u5c11\u4e3a 2 \u3002\u4e0d\u8fc7\u8fd9\u8fd8\u6ca1\u5b8c\uff0c\u7531\u4e8e\u4f60\u7684\u5bf9\u624b\u8db3\u591f\u806a\u660e\uff0c\u4ed6\u4f1a\u65ad\u6389\u4f60\u6700\u957f\u7684\u4e00\u4e2a\u94fe\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4ed6\u6240\u65ad\u6389\u7684\u8282\u70b9\u5ea6\u6570\u4e5f\u81f3\u5c11\u4e3a 2 \u3002\n\n\u8fd9\u4e00\u6bb5\u5bf9\u5e94\u7740\u5148\u624b\u5fc5\u80dc\u7684\u4e00\u4e2a\u5c40\u9762\uff1a\u5bf9\u4e8e\u4e00\u4e2a\u5ea6\u6570\u4e3a 3 \u7684\u70b9\uff0c\u81f3\u5c11\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\u5ea6\u6570\u5927\u4e8e 2 \u3002\n\n4.\n\n\u4f46\u5982\u679c\u6bcf\u4e2a\u5ea6\u6570\u4e3a 3 \u7684\u70b9\u90fd\u4e0d\u6ee1\u8db3\u4e0a\u9762\u7684\u60c5\u51b5\u5462\uff1f\u6211\u4eec\u6765\u8003\u8651\u6700\u540e\u7684\u60c5\u51b5\u3002\u5173\u4e8e\u4e24\u4e2a\u5ea6\u6570\u4e3a 3 \u7684\u70b9\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u5047\u8bbe\u4e24\u4e2a\u5ea6\u6570\u4e3a 3 \u7684\u70b9\u957f\u8fd9\u6837\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xrismtlt.png?x-oss-process=image/resize,m_lfit,h_270,w_325)\n\n\u6211\u4eec\u4ece\u5de6\u8fb9\u4e0b\u8d77\uff0c\u76ee\u6807\u662f\u5c3d\u53ef\u80fd\u7684\u5bf9\u53f3\u8fb9\u9020\u6210\u8d21\u732e\u3002\u5728\u6b64\u524d\u63d0\u4e0b\uff0c\u6211\u4eec\u7684\u7b2c\u4e00\u6b65\u4e0b\u5728 4 \uff08\u4e0d\u5728 1 \uff0c\u56e0\u4e3a\u5bf9\u624b\u4f1a\u5835\u5728 4 \uff0c\u8fd9\u6837\u6ca1\u6709\u5bf9\u540e\u9762\u7684\u8d21\u732e\uff09\uff0c\u5bf9\u624b\u5fc5\u987b\u5835\u5728 1 \uff0c\u6211\u4eec\u8df3\u8fc7\u4e00\u4e2a\u70b9\uff0c\u4e0b\u5728\u79bb 4 \u8ddd\u79bb\u4e3a 2 \u7684 \u4f4d\u7f6e\uff0c\u5bf9\u624b\u4f1a\u5835\u5728 4 \u7684\u53f3\u8fb9\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u6700\u540e\u6211\u4eec\u8981\u4e48\u4f1a\u4e0b\u5230 8 \uff0c\u8981\u4e48\u4e0b\u5230 4 \u3002\u5177\u4f53\u4e3a\uff1a\u5f53\u4e2d\u95f4\uff08\u6307 1 \u5230 5 \u4e2d\u95f4\uff09\u8ddd\u79bb\u4e3a\u5076\u6570\u65f6\uff0c\u6700\u540e\u4f1a\u4e0b\u5230 8 \uff0c\u4e3a\u5947\u6570\u5219\u5230 5 \u3002\u6700\u540e\u4e00\u6b65\u4e0b\u5230 8 \u65f6\uff0c\u5bf9\u624b\u4f1a\u5835\u5728 8 \u4e4b\u524d\u7684\u70b9\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4e0b\u5728 5 \uff0c\u6b64\u65f6\u5148\u624b\u5fc5\u80dc\u3002\u82e5\u5728 5 \u5219\u5e73\u5c40\u3002\n\n\u8fd9\u662f\u5148\u624b\u5fc5\u80dc\u7684\u53e6\u4e00\u4e2a\u5c40\u9762\uff1a\u5b58\u5728\u4e24\u4e2a\u5ea6\u6570\u4e3a 3 \u7684\u70b9\uff0c\u6ee1\u8db3\u4ed6\u4eec\u4e4b\u95f4\u7684\u8def\u5f84\u957f\u4e3a\u5076\u6570\u3002\n\n\u4f46\u5982\u679c\u5ea6\u6570\u4e3a 3 \u7684\u70b9\u5f88\u591a\uff0c\u90a3\u590d\u6742\u5ea6\u5c82\u4e0d\u7206\u70b8\uff1f\u4e0d\u7528\u62c5\u5fc3\uff0c\u6211\u4eec\u8003\u8651\uff1a\u5982\u679c\u5ea6\u6570\u4e3a 3 \u7684\u70b9\u5927\u4e8e\u7b49\u4e8e 3 \u4e2a\uff0c\u7531\u4e8e\u539f\u56fe\u662f\u4e00\u68f5\u6811\uff0c\u5219\u4e00\u5b9a\u6709\u4e00\u4e2a\u70b9\u5728\u53e6\u5916\u4e24\u4e2a\u70b9\u7684\u8def\u5f84\u4e0a\uff0c\u5047\u8bbe\u8fd9\u4e09\u4e2a\u8ddd\u79bb\u4e3a $l_1,l_2,l_3$ \uff0c\u5219 $l_1+l_2=l_3$ \uff0c\u7528\u5947\u5076\u6027\u5224\u65ad\uff0c\u8fd9\u4e09\u4e2a\u6570\u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u5076\u6570\u3002\u6545\u5f53\u5ea6\u6570\u4e3a 3 \u7684\u70b9\u7684\u4e2a\u6570\u5927\u4e8e 2 \u65f6\uff0c\u5148\u624b\u5fc5\u80dc\u3002\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c\u5148\u624b\u5fc5\u80dc\u7684\u5c40\u9762\u6709 3 \u4e2a\uff1a\n\n- \u4e00\u4e2a\u8282\u70b9\u5ea6\u5927\u4e8e 4 \u3002\n\n- \u4e00\u4e2a\u5ea6\u6570\u4e3a 3 \u7684\u70b9\uff0c\u81f3\u5c11\u6709\u4e24\u4e2a\u5b50\u8282\u70b9\u5ea6\u6570\u5927\u4e8e 2 \u3002\n\n- \u5b58\u5728\u4e24\u4e2a\u5ea6\u6570\u4e3a 3 \u7684\u70b9\uff0c\u6ee1\u8db3\u4ed6\u4eec\u4e4b\u95f4\u7684\u8def\u5f84\u957f\u4e3a\u5076\u6570\u3002\uff08\u5305\u62ec\u5ea6\u6570\u4e3a 3 \u7684\u70b9\u7684\u4e2a\u6570\u5927\u4e8e 2 \uff09\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u8fd8\u8981\u60f3\u60f3\uff0c\u5b58\u4e0d\u5b58\u5728\u540e\u624b\u5fc5\u80dc\u7684\u60c5\u51b5\u3002\u7b54\u6848\u662f\u5426\u5b9a\u7684\u3002\u5982\u679c\u6ee1\u8db3\u4ee5\u4e0a\u60c5\u51b5\uff0c\u5148\u624b\u5c31\u5df2\u7ecf\u5fc5\u80dc\u4e86\uff1b\u5982\u679c\u4e0d\u6ee1\u8db3\uff0c\u90a3\u4e5f\u4e0d\u53ef\u80fd\u518d\u51fa\u73b0\u4ee5\u4e0a\u60c5\u51b5\u4e86\uff0c\u6240\u4ee5\u540e\u624b\u4e0d\u53ef\u80fd\u5fc5\u80dc\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u9664\u4e86\u5148\u624b\u5fc5\u80dc\u7684\u60c5\u51b5\uff0c\u5269\u4e0b\u7684\u90fd\u4e3a\u5e73\u5c40\u3002\n\n\u8bf4\u5b8c\u4e0a\u9762\uff0c\u6211\u4eec\u56de\u5230\u6b64\u9898\u3002\n\n\u5bf9\u4e8e\u8fd9\u4e2a\u6709\u7279\u6b8a\u9650\u5236\u7684\u56fe\uff0c\u6211\u4eec\u8981\u60f3\u529e\u6cd5\u628a\u4ed6\u8f6c\u53d8\u4e3a\u6211\u4eec\u521a\u521a\u8bb2\u7684\u4e00\u822c\u5f62\u5f0f\u3002\u5982\u679c\u4e00\u4e2a\u70b9\u521d\u59cb\u5373\u4e3a\u767d\u8272\uff0c\u6211\u4eec\u53ef\u628a\u5b83\u770b\u505a\u662f\u539f\u6765\u7a7a\u7684\u4e00\u4e2a\u70b9\uff0c\u767d\u8272\u5148\u624b\u4e0b\u5728\u4e86\u8fd9\u4e2a\u70b9\uff0c\u800c\u9ed1\u8272\u4e0b\u5728\u4e86\u539f\u56fe\u4e4b\u5916\u7684\u70b9\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u4ece\u8fd9\u4e2a\u70b9\u5f15\u51fa\u4e00\u4e2a\u70b9\uff0c\u628a\u9ed1\u8272\u4e0b\u5728\u5f15\u51fa\u7684\u70b9\u4e0a\u3002\n\n\u4e0d\u8fc7\u5c0f\u9ed1\uff08\\doge\uff09\u4ed6\u5f88\u806a\u660e\uff0c\u4f60\u9700\u8981\u7ed9\u4ed6\u4e00\u4e2a\u7406\u7531\u8ba9\u4ed6\u4e0b\u5728\u8fd9\u4e2a\u70b9\u4e0a\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u9700\u8981\u8bbe\u8ba1\u4e00\u79cd\u60c5\u51b5\uff0c\u5982\u679c\u9ed1\u8272\u4e0d\u4e0b\u5728\u8fd9\u767d\u8272\u5c31\u5fc5\u80dc\uff0c\u6bd4\u5982\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4ewydpdq.png?x-oss-process=image/resize,m_lfit,h_230,w_325)\n\n\u5176\u4e2d 4 \u662f\u539f\u56fe\u4e2d\u7684\u70b9\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9ed1\u8272\u5fc5\u987b\u4e0b\u5728 1 \u4e0a\uff0c\u4e5f\u5c31\u6ee1\u8db3\u4e86\u6211\u4eec\u7684\u76ee\u6807\u3002\n\n\u90a3\u4e48\u6211\u4eec\u7684\u95ee\u9898\u89e3\u51b3\u5c31\u5b8c\u6210\u4e86\u3002\u6700\u540e\u6709\u4e24\u4e2a\u6ce8\u610f\u70b9\uff1a\n\n1. \u7531\u4e8e\u4e00\u4e2a\u70b9\u4f1a\u88ab\u62c6\u6210\u56db\u4e2a\u70b9\uff0c\u6240\u4ee5\u6700\u591a\u6709 $4 \\times N$ \u4e2a\u70b9\uff0c\u6ce8\u610f\u7a7a\u95f4\u3002\n\n2. \u591a\u7ec4\u6570\u636e\u6ce8\u610f\u6e05\u7a7a\uff0c\u4f46\u662f\u4e0d\u8981\u7528 memset \uff01\uff01\u56e0\u4e3a $\\sum n=\\operatorname{max} n$ \uff0c\u6240\u4ee5\u7528 memset \u4f1a\u6d6a\u8d39\u5f88\u591a\u65f6\u95f4\uff0c\u7136\u540e\u4f60\u4f1a\u5728\u7b2c\u4e8c\u4e2a\u70b9 TLE \uff0c\u8bf7\u7528\u5faa\u73af\u6e05\u7a7a\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=2e6+5;\nint t,n,tot;\nint head[N],du[N],nxt[N<<1],to[N<<1];\nchar s[N];\nvoid add(int u,int v)\n{\n\tnxt[++tot]=head[u];\n\thead[u]=tot;\n\tto[tot]=v;\n\tdu[u]++;\n}\nvoid ins(int u,int v) {add(u,v);add(v,u);}\nvoid make_son(int x)//\u52a0\u5efa\u8282\u70b9\n{\n\tdu[n+1]=du[n+2]=du[n+3]=head[n+1]=head[n+2]=head[n+3]=0;\n\tins(n+1,x);ins(n+1,n+2);ins(n+1,n+3);\n\tn+=3;\n}\nbool dfs(int u,int fa,int len)// dfs \u4ece\u4e00\u4e2a\u5ea6\u6570\u4e3a 3 \u7684\u70b9\u627e\u53e6\u4e00\u4e2a\u5ea6\u6570\u4e3a 3 \u7684\u70b9\n{\n\tif(du[u]==3 && len!=0 && !(len%2)) return true;\n\tfor(int i=head[u];i;i=nxt[i])\n\t{\n\t\tif(to[i]==fa) continue;\n\t\tif(dfs(to[i],u,len+1)) return true;\n\t}\n\treturn false;\n}\nbool calc()\n{\n\tfor(int i=1;i<=n;i++)\n\t\tif(du[i]>=4) return true;// 1\n\tint now,sum=0,p;// sum \u8bb0\u5f55\u5ea6\u6570\u5927\u4e8e\u7b49\u4e8e 3 \u7684\u8282\u70b9\u6570\uff0c now \u8bb0\u5f55\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\u4e2d\u5ea6\u6570\u5927\u4e8e\u7b49\u4e8e 2 \u7684\u8282\u70b9\u6570\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tnow=0;\n\t\tif(du[i]<3) continue;\n\t\tsum++,p=i;\n\t\tfor(int j=head[i];j;j=nxt[j])\n\t\t\tif(du[to[j]]>=2) now++;\n\t\tif(now>=2) return true;// 2\n\t}\n\tif(sum>=3) return true;// 3\n\tif(sum==2) return dfs(p,0,0);\n\treturn false;\n}\nint main()\n{\n\tscanf(\"%d\",&t);\n\twhile(t--)\n\t{\n\t\ttot=1;\n\t\tscanf(\"%d\",&n);\n\t\tfor(int i=1;i<=n;i++)\n\t\t\thead[i]=0,du[i]=0;\n\t\tint x,y;\n\t\tfor(int i=1;i<n;i++)\n\t\t{\n\t\t\tscanf(\"%d%d\",&x,&y);\n\t\t\tins(x,y);\n\t\t}\n\t\tscanf(\"%s\",s+1);\n\t\tint nn=n;\n\t\tfor(int i=1;i<=nn;i++)\n\t\t\tif(s[i]=='W') make_son(i);\n\t\tif(calc()) puts(\"White\");\n\t\telse puts(\"Draw\");\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1619359449,
        "uid": 151241,
        "name": "Ink_Render",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1110G\u3010Tree-Tac-Toe \u3011"
    },
    {
        "content": "[\u4f20\u9001\u95e8](http://codeforces.com/contest/1110/problem/G)\n\nUPD\uff1a\u4e4b\u524d\u53ef\u80fd\u5bf9\u767d\u8272\u53d8\u65e0\u8272\u7684\u8fc7\u7a0b\u8bb2\u7684\u4e0d\u662f\u5f88\u6e05\u695a\uff0c\u5df2\u7ecf\u8865\u5145\n\n\u5982\u679c\u6709\u4efb\u4f55\u95ee\u9898\u53ef\u4ee5\u53bb\u6211\u7684[Blog](https://www.cnblogs.com/Itst/p/10356243.html)\u95ee\uff0c\u5728Luogu\u535a\u5ba2\u4e0b\u56de\u590d\u53ef\u80fd\u65e0\u6cd5\u53ca\u65f6\u770b\u5230\n\n---\n\n\u663e\u7136\u5728\u53cc\u65b9\u7edd\u9876\u806a\u660e\u7684\u60c5\u51b5\u4e0b\uff0c\u9ed1\u8272\u4e0d\u53ef\u80fd\u8d62\n\n\u9996\u5148\u8003\u8651\u6811\u4e0a\u4e00\u4e2a\u767d\u8272\u7684\u70b9\u90fd\u6ca1\u6709\u7684\u60c5\u51b5\uff1a\n\n1\u3001\u5982\u679c\u6811\u4e0a\u6709\u4e00\u4e2a\u70b9\u7684\u5ea6\u6570$\\geq 4$\uff0c\u767d\u8272\u5fc5\u8d62\uff0c\u53ea\u9700\u8981\u7b2c\u4e00\u6b21\u5c06\u8fd9\u4e00\u4e2a\u70b9\u67d3\u6210\u767d\u8272\uff0c\u63a5\u7740\u968f\u4fbf\u67d3\u5b83\u7684\u4e24\u4e2a\u90bb\u5c45\u5c31\u53ef\u4ee5\u8fbe\u6210\u76ee\u6807\n\n2\u3001\u5982\u679c\u6811\u4e0a\u6709\u4e00\u4e2a\u70b9\u7684\u5ea6\u6570$=3$\uff0c\u4e14\u5b83\u6240\u8fde\u7684$3$\u4e2a\u70b9\u4e4b\u95f4\u81f3\u5c11\u6709$2$\u4e2a\u70b9\u4e0d\u662f\u53f6\u5b50\u8282\u70b9\uff0c\u767d\u8272\u5fc5\u8d62\uff0c\u53ea\u9700\u8981\u7b2c\u4e00\u6b21\u67d3\u8fd9\u4e00\u4e2a\u70b9\uff0c\u7b2c\u4e8c\u6b21\u67d3\u5b83\u7684\u4e00\u4e2a\u975e\u53f6\u5b50\u90bb\u5c45\uff0c\u7b2c\u4e09\u6b21\u5c31\u4e00\u5b9a\u81f3\u5c11\u5b58\u5728\u4e00\u4e2a\u672a\u88ab\u67d3\u8272\u7684\u70b9\u4e0e\u8fd9\u4e24\u4e2a\u76f8\u90bb\u3002\n\n\u90a3\u4e48\u5269\u4e0b\u7684\u60c5\u51b5\uff0c\u6811\u7684\u5f62\u6001\u53ea\u4f1a\u662f\u4e0b\u56fe\u4e2d\u7684\u4e09\u79cd\n\n![](https://img2018.cnblogs.com/blog/1504072/201902/1504072-20190208152603205-904098959.png)\n\n\u4f46\u662f\u8fd8\u6ca1\u5b8c~~\uff08\u6211\u4ee5\u4e3a\u5230\u8fd9\u91cc\u5c31\u5b8c\u4e86\u7ed3\u679cWA2\u88abTutorial\u70b9\u540d\uff09~~\n\n**\u6700\u91cd\u8981\u76843\u3001\u5982\u679c\u6811\u7684\u5f62\u6001\u662f\u4e0a\u9762\u7684\u56fe\u4e2d\u6700\u4e0b\u9762\u7684\u90a3\u4e00\u79cd\uff0c\u800c\u4e14\u603b\u70b9\u6570\u4e3a\u5947\u6570\uff0c\u90a3\u4e48\u767d\u8272\u5fc5\u8d62**\n\n\u56fe\u957f\u4e0b\u9762\u8fd9\u6837\uff0c\u4e2d\u95f4\u7684\u2026\u2026\u7701\u7565\u7684\u662f\u4e00\u6761\u94fe\uff0c\u7f16\u53f7\u4ece\u5de6\u5f80\u53f3\u9012\u589e\u3002\n\n![](https://img2018.cnblogs.com/blog/1504072/201902/1504072-20190208153044567-1850717860.png)\n\n\u767d\u8272\u6700\u5f00\u59cb\u67d3$2$\u53f7\u70b9\uff0c\u9ed1\u8272\u5982\u679c\u67d3$3$\u53f7\u70b9\u767d\u8272\u76f4\u63a5\u67d3$1$\u53f7\u70b9\uff0c\u6240\u4ee5\u9ed1\u8272\u5fc5\u987b\u67d3$1$\u53f7\u70b9\u3002\u6b64\u65f6\u767d\u8272\u67d3$4$\u53f7\u70b9\uff0c\u9ed1\u8272\u53c8\u53ea\u80fd\u67d3$3$\u53f7\u70b9\u2026\u2026\u5982\u662f\u767d\u8272\u67d3\u5230$2N$\u53f7\u70b9\uff0c\u9ed1\u8272\u67d3$2N-1$\u53f7\u70b9\u4e4b\u540e\uff0c\u767d\u8272\u67d3$2N+1$\u53f7\u70b9\uff0c\u90a3\u4e48\u6700\u53f3\u8fb9\u5c31\u4f1a\u6709\u4e24\u4e2a\u672a\u88ab\u67d3\u7684\u70b9\uff0c\u767d\u8272\u5c31\u8d62\u4e86\n\n\u5176\u4f59\u7684\u60c5\u51b5\u663e\u7136\u90fd\u662fDraw\u7684\n\n\u7136\u540e\u8003\u8651\u5df2\u7ecf\u88ab\u67d3\u6210\u767d\u8272\u7684\u70b9\u7684\u5f71\u54cd\uff0c~~\u6700\u5f00\u59cb\u5929\u771f\u7684\u6211\u60f3\u76f4\u63a5\u5404\u79cd\u7279\u5224\u8fc7\u6389\uff0c\u7ed3\u679cWA14\u4e0d\u6653\u5f97\u600e\u4e48\u56de\u4e8b~~\n\n\u6211\u4eec\u5df2\u7ecf\u8003\u8651\u4e86\u6811\u4e0a\u6ca1\u6709\u88ab\u67d3\u6210\u767d\u8272\u7684\u70b9\u7684\u6240\u6709\u60c5\u51b5\uff0c\u90a3\u4e48\u80fd\u5426\u5c06\u4e00\u4e2a\u5df2\u7ecf\u88ab\u67d3\u6210\u767d\u8272\u7684\u70b9\u7b49\u4ef7\u4e3a\u82e5\u5e72\u672a\u88ab\u67d3\u6210\u767d\u8272\u7684\u70b9\uff1f\u5b9e\u9645\u4e0a\u662f\u53ef\u4ee5\u7684\n\n\u5047\u8bbe\u4e0b\u56fe\u4e2d$1$\u53f7\u70b9\u5728\u539f\u6811\u4e0a\u662f\u4e00\u4e2a\u767d\u8272\u70b9\uff0c\u90a3\u5c31\u5728\u4fdd\u7559\u5b83\u539f\u6765\u7684\u90bb\u5c45\u7684\u57fa\u7840\u4e0a\u7ed9\u5b83\u989d\u5916\u8fde\u4e0a$3$\u4e2a\u70b9\uff0c\u8fde\u6210\u4e0b\u9762\u7684$ABCD$\u7ed3\u6784\n\n![](https://img2018.cnblogs.com/blog/1504072/201902/1504072-20190208154044755-1585040542.png)\n\n\u539f\u56fe$1$\u53f7\u70b9\u5bf9\u5e94\u65b0\u56fe\u7684$A$\u53f7\u70b9\uff0c\u539f\u56fe\u4e0a$1$\u53f7\u70b9\u8ddf\u54ea\u4e9b\u70b9\u8fde\u4e86\u8fb9\uff0c\u65b0\u56fe\u4e0a$A$\u53f7\u70b9\u4e5f\u548c\u5b83\u4eec\u8fde\u8fb9\uff0c\u7136\u540e\u5728\u4e0b\u9762\u6302\u4e0a$BCD$\u4e09\u4e2a\u70b9\n\n\u5bf9\u4e8e\u6267\u767d\u8272\u7684\u4eba\u6765\u8bf4\uff0c\u5982\u679cTA\u5728\u67d0\u4e00\u56de\u5408\u6d82\u767d\u4e86$A$\u53f7\u70b9\uff0c\u8fd9\u4e2a\u65f6\u5019\u5982\u679c\u6267\u9ed1\u8272\u8005\u4e0d\u6d82\u9ed1$B$\u53f7\u70b9\uff0c\u90a3\u4e48\u6267\u767d\u8272\u8005\u5c06\u4f1a\u5728\u4e0b\u4e00\u56de\u5408\u6d82\u767d$B$\u53f7\u70b9\uff0c\u5bf9\u4e8e$CD$\u4e24\u4e2a\u70b9\uff0c\u767d\u8272\u5c31\u4e00\u5b9a\u53ef\u4ee5\u6d82\u767d\u5176\u4e2d\u4e00\u4e2a\uff0c\u767d\u8272\u5c31\u8d62\u4e86\n\n\u6240\u4ee5\u6267\u9ed1\u8272\u8005\u53ea\u80fd\u6d82\u9ed1$B$\u53f7\u70b9\u3002\u800c\u8fd9\u4e2a\u65f6\u5019$BCD$\u4e09\u4e2a\u70b9\u5bf9\u4e8e\u80dc\u8d1f\u5df2\u7ecf\u6ca1\u6709\u5f71\u54cd\u4e86\uff0c\u53ef\u4ee5\u76f4\u63a5\u780d\u6389\u8fd9\u4e09\u4e2a\u70b9\uff0c\u5c31\u76f8\u5f53\u4e8e\u767d\u8272\u76f4\u63a5\u6d82\u767d\u4e86$A$\u53f7\u70b9\uff0c\u4e5f\u5c31\u662f\u6d82\u767d\u4e86\u539f\u56fe\u7684$1$\u53f7\u70b9\uff0c\u7136\u540e\u53c8\u6765\u5230\u767d\u8272\u7684\u56de\u5408\u3002\n\n```\n#include<bits/stdc++.h>\n//This code is written by Itst\nusing namespace std;\n\ninline int read(){\n    int a = 0;\n    char c = getchar();\n    bool f = 0;\n    while(!isdigit(c)){\n\t    if(c == '-')\n\t\t\tf = 1;\n        c = getchar();\n    }\n    while(isdigit(c)){\n\t\ta = (a << 3) + (a << 1) + (c ^ '0');\n\t\tc = getchar();\n\t}\n\treturn f ? -a : a;\n}\n\nconst int MAXN = 1e6 + 9;\nstruct Edge{\n\tint end , upEd;\n}Ed[MAXN << 1];\nint head[MAXN] , in[MAXN] , N , cntEd , cnt;\nchar s[MAXN];\n\ninline void addEd(int a , int b){\n\tEd[++cntEd].end = b;\n\tEd[cntEd].upEd = head[a];\n\thead[a] = cntEd;\n\t++in[a];\n}\n\nint main(){\n\tfor(int T = read() ; T ; --T){\n\t\tN = read();\n\t\tcntEd = 0;\n\t\tmemset(head , 0 , sizeof(int) * (N + 1));\n\t\tmemset(in , 0 , sizeof(int) * (N + 1));\n\t\tfor(int i = 1 ; i < N ; ++i){\n\t\t\tint a = read() , b = read();\n\t\t\taddEd(a , b);\n\t\t\taddEd(b , a);\n\t\t}\n\t\tscanf(\"%s\" , s + 1);\n\t\tif(N < 3){\n\t\t    puts(\"Draw\");\n\t\t    continue;\n\t\t}\n\t\tif(N == 3){\n\t\t    int cnt = 0;\n\t\t    for(int i = 1 ; i <= N ; ++i)\n\t\t        cnt += s[i] == 'W';\n\t\t    puts(cnt >= 2 ? \"White\" : \"Draw\");\n\t\t    continue;\n\t\t}\n\t\tbool ifans = 0;\n\t\tint cnt1 = 0;\n\t\tfor(int i = 1 ; i <= N ; ++i)\n\t\t    if(s[i] == 'W'){\n\t\t        addEd(i , ++N);\n\t\t        head[N] = 0;\n\t\t        addEd(N , i);\n\t\t        in[N] = 3;\n\t\t    }\n\t\tfor(int i = 1 ; !ifans && i <= N ; ++i)\n\t\t\tif(in[i] > 3)\n\t\t\t\tifans = 1;\n\t\t\telse\n\t\t\t\tif(in[i] == 3){\n\t\t\t\t\tint cnt = 0; \n\t\t\t\t\tfor(int j = head[i] ; j ; j = Ed[j].upEd)\n\t\t\t\t\t\tcnt += in[Ed[j].end] >= 2;\n\t\t\t\t\tifans = cnt >= 2;\n\t\t\t\t\t++cnt1;\n\t\t\t}\n\t\tif(cnt1 == 2 && (N & 1))\n\t\t    ifans = 1;\n\t\tputs(ifans ? \"White\" : \"Draw\");\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1549611860,
        "uid": 96296,
        "name": "Itst",
        "ccfLevel": 0,
        "title": "CF1110G Tree-Tac-Toe"
    },
    {
        "content": "\u6a21\u62df\u8d5b\u8003\u573a\u5dee\u70b9\u5207\u6389\uff0c\u8f93\u9ebb\u4e86/ll\n\n\u9996\u5148\uff0c\u9ed1\u662f\u4e0d\u53ef\u80fd\u8d62\u7684\uff0c\u8003\u8651\u5982\u679c\u5b58\u5728\u4e00\u79cd\u9ed1\u80fd\u8d62\u7684\u7b56\u7565\uff0c\u767d\u53ea\u9700\u8981\u5148\u8d70\u5b83\u5373\u53ef\u3002\n\n\u53e6\u5916\u6570\u636e\u8f83\u5c0f\u7684\u65f6\u5019\u5206\u7c7b\u8ba8\u8bba\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5728 $n\\le 5$ \u65f6\u7206\u641c\uff0c\u6765\u51cf\u5c11\u8ba8\u8bba\u3002\n\n\u4ee5\u4e0b\u5747\u57fa\u4e8e $n>5$\u3002\n\n\u7136\u540e\u4f60\u53d1\u73b0\uff0c\u767d\u662f\u5f88\u5bb9\u6613\u8d62\u7684\uff0c\u5148\u8003\u8651\u6ca1\u6709\u767d\u70b9\u7684\u60c5\u51b5\uff1a\n\n1.\u5982\u679c\u6709\u5ea6\u6570\u5927\u4e8e 3 \u7684\u70b9\uff0c\u767d\u53ea\u9700\u8981\u5148\u5360\u4e0a\u5b83\u5c31\u53ef\u4ee5\u8d62\u3002\n\n2.\u5982\u679c\u6709\u5ea6\u6570\u7b49\u4e8e 3 \u4e14\u80fd\u5ef6\u7533\u51fa\u6765\u4e24\u6761\u957f\u5ea6\u5927\u4e8e 1 \u7684\u94fe\uff0c\u5360\u4f4f\u5b83\u4e5f\u53ef\u4ee5\u8d62\u3002\n\n\u8fd9\u4e24\u79cd\u60c5\u51b5\u53ef\u4ee5\u7b80\u5355\u624b\u73a9\u4e00\u4e0b\u3002\n\n\u8fd9\u6837\u6765\u770b\uff0c\u5269\u4e0b\u60c5\u51b5\u5c31\u51e0\u4e4e\u662f\u94fe\uff0c\u6700\u591a\u4e24\u8fb9\u4f38\u51fa\u6765\u4e24\u4e2a\u53c9\u3002\n\n3.\u8003\u8651\u6709\u767d\u70b9\u7684\u60c5\u51b5\uff0c\u5982\u679c\u6709 1 \u4e2a\u767d\u70b9\u4e0d\u5728\u8fb9\u4e0a\uff0c\u53ea\u9700\u8981\u5360\u4f4f\u65c1\u8fb9\u7684\u5c31\u53ef\u4ee5\u8d62\u4e86\u3002\n\n4.\u8003\u8651\u6709\u4e24\u4e2a\u767d\u70b9\u5728\u8fb9\u4e0a\uff0c\u5982\u679c\u8ddd\u79bb\u662f\u5947\u6570\uff0c\u4e5f\u53ef\u4ee5\u8d62\u3002\u8003\u8651\u6781\u7aef\u60c5\u51b5\u4e00\u6761\u94fe\uff0c\u4e0d\u65ad\u6784\u9020\"\u767d\u7a7a\u767d\"\uff0c\u6700\u540e\u548c\u53e6\u4e00\u8fb9\u7684\u767d\u63a5\u4e0a\u5373\u53ef\u3002\n\n5.\u5982\u679c\u5927\u4e8e\u4e24\u4e2a\u767d\u70b9\uff0c\u4e00\u5b9a\u5b58\u5728\u8ddd\u79bb\u4e3a\u5947\u6570\u7684\u4e24\u4e2a\u70b9\uff0c\u4e00\u5b9a\u8d62\u3002\u8bc1\u660e\u8003\u8651\u5728\u4e24\u4e2a\u767d\u70b9\u7ec4\u6210\u7684\u94fe\u4e0a\u63a5\u4e00\u6bb5\uff0c\u5206\u94fe\u79cd\u548c\u94fe\u8fb9\u63a5\u4e0a\uff0c\u53ef\u4ee5\u53d1\u73b0\u8fd9\u4e2a\u7ed3\u8bba\u3002\n\n\u7136\u540e\u4f60\u53d1\u73b0\uff0c\u6392\u9664\u4e0a\u9762\u51e0\u79cd\u60c5\u51b5\uff0c\u5269\u4e0b\u7684\u6811\u53ea\u6709\u4e24\u79cd\uff1a\u4e00\u79cd\u662f\u4e00\u6761\u94fe\uff0c\u4e24\u8fb9\u5404\u5206\u53c9\uff0c\u4e00\u79cd\u662f\u5206\u4e00\u4e2a\u53c9\uff0c\u4e14\u4e0d\u7ba1\u54ea\u79cd\u767d\u70b9\u5ea6\u6570\u4e00\u5b9a\u4e3a 1\u3002\n\n\u8003\u8651\u6709\u767d\u70b9\u7684\u60c5\u51b5\uff1a\n\n6.\u5982\u679c\u6709\u767d\u70b9\u4e14\u5ea6\u6570 3 \u7684\u70b9\u8ddd\u79bb\u767d\u70b9\u662f\u5947\u6570\uff0c\u90a3\u4e48\u5148\u624b\u4e5f\u53ef\u4ee5\u8d62\u3002\u8bc1\u660e\u8fd8\u662f\u4e0d\u65ad\u6784\u9020\"\u767d\u7a7a\u767d\"\uff0c\u6700\u540e\u662f\"\u7a7a\u767d\u767d\u7a7a\"\u7684\u60c5\u51b5\u3002\n\n\u8003\u8651\u6ca1\u6709\u767d\u70b9\u7684\u60c5\u51b5\uff0c\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u53c9\u5fc5\u7136\u65e0\u89e3\uff0c\u4e24\u4e2a\u53c9\u624b\u73a9\u53ef\u4ee5\u53d1\u73b0 $n=7$ \u6709\u89e3\uff0c\u53ea\u9700\u8981\u5360\u4e2d\u95f4\u7684\u70b9\uff0c\u4e8e\u662f\u53ef\u4ee5\u5229\u7528\u6784\u9020\u201c\u767d\u7a7a\u767d\u201d\u7684\u601d\u60f3\uff0c\u5f97\u5230\uff1a\n\n7.\u5982\u679c\u6709\u4e24\u4e2a\u5ea6\u6570\u4e3a 3 \u7684\u70b9\uff0c\u4e14 $n$ \u662f\u5947\u6570\uff0c\u4e00\u5b9a\u8d62\u3002\n\n\u4f9d\u6b21\u5224\u65ad\u5b8c\u8fd9\u4e9b\uff0c\u5269\u4e0b\u7684\u5c31\u662f\u5e73\u5c40\u4e86\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<vector>\n#include<algorithm>\nusing namespace std;\ninline int read()\n{\n    char c=getchar();int x=0;bool f=0;\n    for(;!isdigit(c);c=getchar())f^=!(c^45);\n    for(;isdigit(c);c=getchar())x=(x<<1)+(x<<3)+(c^48);\n    if(f)x=-x;return x;\n}\nchar readchar()\n{\n\tchar ch=getchar();\n\twhile(!isalpha(ch)) ch=getchar();\n\treturn ch;\n}\nconst int N=5e5+5;\nstruct edge\n{\n\tint to,nxt;\n}e[N*2];\nint head[N],d[N],cnt,n;\nvoid add(int u,int v)\n{\n\te[++cnt].to=v;\n\te[cnt].nxt=head[u];\n\thead[u]=cnt;\n\td[v]++;\n}\nint a[N];\nint DIS;\nvoid dfs(int now,int fa,int dep,int to)\n{\n\tif(now==to) DIS=dep;\n\telse\n\t{\n\t\tfor(int i=head[now];i;i=e[i].nxt)\n\t\tif(e[i].to!=fa)\n\t\tdfs(e[i].to,now,dep+1,to);\n\t}\n}\nint dfs2(int now,int fa)\n{\n\tfor(int i=head[now];i;i=e[i].nxt)\n\tif(e[i].to!=fa) return 1;\n\treturn 0;\n}\nbool FLAG;\nvoid dfs3(int now,int fa,int dep)\n{\n\tif(dep%2==1&&d[now]==3) FLAG=1;\n\tfor(int i=head[now];i;i=e[i].nxt)\n\tif(e[i].to!=fa)\n\tdfs3(e[i].to,now,dep+1);\n}\nint E[10][10];\nbool check(int x)\n{\n\tfor(int i=1;i<=n;i++)\n\tif(a[i]==x)\n\tfor(int j=1;j<=n;j++)\n\tif(a[j]==x&&E[i][j])\n\tfor(int k=1;k<=n;k++)\n\tif(a[k]==x&&E[j][k]&&k!=i)\n\treturn 1;\n\treturn 0;\n}\nbool check1();\nbool check0()//1 bai ying\n{\n\tif(check(1)) return 1;\n\tif(check(-1)) return 0;\n\tbool flg=0;\n\tfor(int i=1;i<=n;i++)\n\tif(a[i]==0)\n\t{\n\t\tflg=1;\n\t\ta[i]=1;\n\t\tif(!check1())\n\t\t{\n\t\t\ta[i]=0;\n\t\t\treturn 1;\n\t\t}\n\t\ta[i]=0;\n\t}\n\tif(flg==0)\n\treturn check(1);\n\treturn 0;\n}\nbool check1()//1 hei ying\n{\n\tif(check(1)) return 0;\n\tif(check(-1)) return 1;\n\tbool flg=0;\n\tfor(int i=1;i<=n;i++)\n\tif(a[i]==0)\n\t{\n\t\tflg=1;\n\t\ta[i]=-1;\n\t\tif(!check0())\n\t\t{\n\t\t\ta[i]=0;\n\t\t\treturn 1;\n\t\t}\n\t\ta[i]=0;\n\t}\n\tif(flg==0)\n\treturn !check(1);\n\treturn 0;\n}\nvoid bf()\n{\n\tif(check0()) cout<<\"White\\n\";\n\telse cout<<\"Draw\\n\";\n}\nint main()\n{\n\tfreopen(\"game.in\",\"r\",stdin);\n\tfreopen(\"game.out\",\"w\",stdout);\n\tint T=read();\n\twhile(T--)\n\t{\n\t\tn=read();\n\t\tif(n<=5)\n\t\t{\n\t\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(int j=1;j<=n;j++)\n\t\t\tE[i][j]=0;\n\t\t}\n\t\tfor(int i=1;i<=n;i++)\n\t\td[i]=head[i]=0;\n\t\tcnt=0;\n\t\tfor(int i=1;i<n;i++)\n\t\t{\n\t\t\tint x=read(),y=read();\n\t\t\tadd(x,y);\n\t\t\tadd(y,x);\n\t\t\tif(n<=5)\n\t\t\tE[x][y]=E[y][x]=1;\n\t\t}\n\t\tint sum=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tchar op=readchar();\n\t\t\tif(op=='N') a[i]=0;\n\t\t\telse a[i]=1,sum++;\n\t\t}\n\t\tif(n<=5)\n\t\t{\n\t\t\tbf();\n\t\t\tcontinue;\n\t\t}\n\t\tif(sum>=3)\n\t\t{\n\t\t\tcout<<\"White\\n\";\n\t\t\tcontinue;\n\t\t}\n\t\tif(sum==2)\n\t\t{\n\t\t\tint id0=0,id1=0;\n\t\t\tfor(int i=1;i<=n;i++)\n\t\t\tif(a[i]==1)\n\t\t\t{\n\t\t\t\tif(id0==0) id0=i;\n\t\t\t\telse id1=i;\n\t\t\t}\n\t\t\tdfs(id0,0,0,id1);\n\t\t\tif(DIS==1||DIS%2==0)\n\t\t\t{\n\t\t\t\tcout<<\"White\\n\";\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif(sum)\n\t\t{\n\t\t\tbool flg=0;\n\t\t\tfor(int i=1;i<=n;i++)\n\t\t\tif(a[i]==1&&d[i]>1) flg=1;\n\t\t\tif(flg)\n\t\t\t{\n\t\t\t\tcout<<\"White\\n\";\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tint flg=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\tif(d[i]>=4) flg=1;\n\t\tif(flg)\n\t\t{\n\t\t\tcout<<\"White\\n\";\n\t\t\tcontinue;\n\t\t}\n\t\tint fuk=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\tif(d[i]==3)\n\t\t{\n\t\t\tflg=0;\n\t\t\tfor(int j=head[i];j;j=e[j].nxt)\n\t\t\tflg+=dfs2(e[j].to,i);\n\t\t\tif(flg>=2)\n\t\t\tfuk=1;\n\t\t}\n\t\tif(fuk)\n\t\t{\n\t\t\tcout<<\"White\\n\";\n\t\t\tcontinue;\n\t\t}\n\t\tif(sum)\n\t\t{\n\t\t\tFLAG=0;\n\t\t\tfor(int i=1;i<=n;i++)\n\t\t\tif(a[i]==1)\n\t\t\tdfs3(i,0,0);\n\t\t\tif(FLAG)\n\t\t\t{\n\t\t\t\tcout<<\"White\\n\";\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif(n%2==1)\n\t\t{\n\t\t\tint d3=0;\n\t\t\tfor(int i=1;i<=n;i++)\n\t\t\tif(d[i]==3) d3++;\n\t\t\tif(d3==2)\n\t\t\t{\n\t\t\t\tcout<<\"White\\n\";\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tcout<<\"Draw\\n\";\n\t}\n \treturn 0;\n}\n/*\n\n*/\n\n```\n",
        "postTime": 1652429982,
        "uid": 196899,
        "name": "lndjy",
        "ccfLevel": 9,
        "title": "CF1110G \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u505a\u4e86\u6211\u4e24\u5e74\u534a\u624d\u505a\u51fa\u6765...\u7ec6\u8282\u662f\u771f\u7684\u591a......\n\n\u6ce8:\u6b64\u9898\u9ed1\u767d\u7684\u5148\u540e\u987a\u5e8f\u597d\u50cf\u4e0d\u7b26\u5408\u5e38\u7406\u3002\u6240\u4ee5\u5c06\u6b64\u9898\u9ed1\u767d\u4ea4\u6362,\u5373\u9ed1\u5148\u3002\n\n\u5b9a\u4e49:**\u5ea6**\u8868\u793a\u4e00\u4e2a\u7ed3\u70b9\u4e0e\u51e0\u4e2a\u7ed3\u70b9\u76f8\u8fde\u3002\n\n\u80dc\u5229\u6761\u4ef60:\u9047\u5230\u4e0b\u56fe\u7684\u60c5\u51b5,\u5219\u5fc5\u80dc\u3002(```@```\u8868\u793a\u68cb\u5b50\u3002```?```\u8868\u793a\u7a7a)\n```\n@-@-?\n  |\n  ?\n```\n\u80dc\u5229\u6761\u4ef61:\u5982\u4e0b\u56fe,**\u51fa\u73b0\u4e86\u5ea6>=4\u7684\u7ed3\u70b9\u3002**\n```\n  5\n  |\n2-1-3\n  |\n  4\n```\n\u9ed1\u7b2c\u4e00\u6b65\u8d701\u7ed3\u70b9\u3002\u90a3\u4e48\u5269\u4e0b4\u4e2a\u8282\u70b9\u53ea\u8981\u5360\u6ee12\u4e2a\u5c31\u53ef\u4ee5\u80dc\u5229\u3002\u6700\u540e\u4e00\u4e2a\u4e0b\u7684\u4e00\u5b9a\u662f\u9ed1\u68cb,\u6b64\u65f6\u9ed1\u80dc\u3002\n\n\u80dc\u5229\u6761\u4ef62:**\u51fa\u73b0\u4e86\u5ea6>=3\u7684\u7ed3\u70b9\u3002\u4e14\u81f3\u5c11\u67092\u4e2a\u679d\u6761\u5927\u5c0f\u81f3\u5c11\u4e3a2\u3002**\n```\n6-2-1-3-5\n    |\n    4\n```\n\u9ed1\u8d701\u3002\u82e5\u767d\u8d702\u62164\u62166,\u9ed1\u8d703\u3002\u767d\u8d703\u62165,\u9ed1\u8d702\u3002\u7136\u540e\u5c31\u6784\u6210\u4e86\u80dc\u5229\u60c5\u51b50\u3002\u9ed1\u80dc\u3002\n\n\u6ce8:\u4ee5\u4e0b\u60c5\u51b5\u65e0\u6cd5\u8fde3\u5b50\u3002\u4e3a\u65b9\u4fbf\u79f0\u4f5c T\u5f62\u3002\n```\n2\n|\n1-4-5-6-7-8-9-...-\n|\n3\n```\n\u56e0\u4e3a\u9ed1\u8d701,\u5219\u767d\u8d704.\u9ed1\u65e0\u6cd5\u80dc\u5229\u3002\n\n\n\n\u9996\u5148\u770b\u4e00\u4e2a\u60c5\u51b5\u3002\u5ea6\u4e3a3\u7684\u7ed3\u70b9\u3002\n```\n1\n|\n2-4\n|\n3\n```\n\u5982\u679c\u9ed1\u4e0b4,\u90a3\u4e48\u767d\u5fc5\u987b\u8d701,2,3\u4e2d\u7684\u4efb\u610f\u4e00\u5b50\u3002\u663e\u7136\u4e0b2\u662f\u6700\u4f18\u60c5\u51b5\u3002\u6240\u4ee5\u8fd9\u79cd\u60c5\u51b5\u53ef\u8f6c\u6362\u4e3a\u57284\u4e0b\u4e00\u5b50\u3002\u7136\u540e\u628a1,2,3\u5220\u6389\u3002\n\n\u80dc\u5229\u6761\u4ef63:\u94fe\n```\n@-2-3-4-5-6-@\n```\n\u5982\u679c\u9ed1\u8d703,\u5219\u767d\u5fc5\u987b\u8d702\u3002\u9ed1\u8d705\u3002\u5219\u767d\u5fc5\u987b\u8d704\u3002\u6b64\u523b\u9ed1\u8d706,\u80dc\u3002\u89c2\u5bdf\u89c4\u5f8b\u3002\u9ed1\u6bcf\u6b21\u8d70\u7684\u68cb\u90fd\u662f\u8df3\u7740\u6765\u7684\u3002\u6240\u4ee5\u5982\u679c\u4e24\u4e2a\u68cb\u5b50\u7684\u8ddd\u79bb\u4e3a\u5076,\u5219\u9ed1\u5fc5\u80dc,\u5426\u5219\u548c\u68cb\u3002\n\n\u80dc\u5229\u6761\u4ef64:**\u51fa\u73b0\u4e86\u4e24\u4e2a\u5ea6\u4e3a3\u7684\u70b9\u3002\u4e14\u8ddd\u79bb\u4e3a\u5076\u3002** \u79f0\u4f5cH\u5f62\u3002\n```\n1                 12\n|                 |\n2-4-5-6-7-8-9-10-11\n|                 |\n3                 13\n```\n\u6b64\u65f6\u53ef\u8f6c\u6362\u4e3a4,10\u6709\u4e00\u9ed1\u5b50\u3002\n\n\u80dc\u5229\u6761\u4ef65:**\u521d\u59cb\u5c40\u9762\u7684\u9ed1\u5b50\u51fa\u73b0\u5728\u5ea6>=2\u7684\u70b9\u4e0a\u4e14n>=4\u3002**\n```\n2-@-3-4      2-@-3\n               |\n               4\n (\u60c5\u51b50)     (\u60c5\u51b51)\n```\n\u9ed1\u6b64\u65f6\u8d703\u3002\u5219\u8f6c\u6362\u6210\u4e86\u5f00\u5934\u8bb2\u7684\u80dc\u5229\u60c5\u51b50\u3002\n\n\u80dc\u5229\u60c5\u51b56:**\u521d\u59cb\u5c40\u9762\u51fa\u73b0\u4e86\u81f3\u5c113\u9897\u68cb\u5b50\u3002**\n```\n@\n|              \n1-4-5-6-7-8-...-@    @-2-3-4-5-6-@         @-2-3-@-5-6-@\n|                          |\n@                          @\n(\u60c5\u51b50)                  (\u60c5\u51b51)                (\u60c5\u51b52)     \n```\n\u5bf9\u4e8e\u94fe,\u4e00\u5b9a\u4e2d\u95f4\u4f1a\u6709\u4e00\u9897\u68cb\u5b50,\u5c31\u662f\u80dc\u5229\u6761\u4ef65\u3002\u5bf9\u4e8eT\u5f62,\u8981\u4e48\u51fa\u73b0\u5728\u4e2d\u95f4\u6ee1\u8db3\u80dc\u5229\u6761\u4ef65,\u8981\u4e48\u51fa\u73b0\u57283\u4e2a\u53f6\u8282\u70b9\u4e0a,\u6b64\u65f6\u5982\u60c5\u51b50,\u76f4\u63a5\u4e0b\u57281\u5c31\u8d62\u4e86\u3002\u5bf9\u4e8e\u60c5\u51b51,\u5c31\u76f4\u63a5\u662f\u80dc\u5229\u6761\u4ef62\u3002\n\n\u4e3a\u65b9\u4fbf,\u9047\u5230T\u5f62\u5c31\u8f6c\u6362\u6210\u4e00\u9897\u68cb\u5b50\u3002\u7136\u540e\u5c31\u5224\u65ad\u80dc\u5229\u6761\u4ef63,5,6\u3002\u4ee3\u7801\u7565\u3002",
        "postTime": 1621127931,
        "uid": 87799,
        "name": "xh39",
        "ccfLevel": 0,
        "title": "\u9898\u89e3"
    },
    {
        "content": "## \u9898\u610f\n\u7ed9\u4e00\u4e2a $n$ \u4e2a\u70b9\u7684\u6811\uff0c\u4e00\u5f00\u59cb\u6811\u4e0a\u7684\u70b9\u67d3\u4e86\u4e00\u4e9b\u989c\u8272\uff0c\u6709 `N`\uff0c`W` \u4e24\u79cd\u60c5\u51b5\uff0c`N` \u4ee3\u8868\u672a\u88ab\u67d3\u8272\uff0c`W` \u4ee3\u8868\u88ab\u67d3\u4e86\u767d\u8272\u3002\n\n$Alice$ \u548c $Bob$ \u8f6e\u6d41\u64cd\u4f5c\uff1a\n\n+ $Alice$ \u5148\u9009\u4e00\u4e2a\u70b9\u67d3\u6210\u767d\u8272\uff1b\n\n+ $Bob$ \u518d\u9009\u4e00\u4e2a\u70b9\u67d3\u6210\u9ed1\u8272\uff1b\n\n\u4f9d\u6b21\u5faa\u73af\u3002\n\n\u82e5\u6811\u4e0a\u51fa\u73b0\u4e00\u4e2a\u4e09\u70b9\u94fe\u4e3a\u767d\u8272\uff0c\u5219 $Alice$ \u83b7\u80dc\uff0c\u8f93\u51fa `White`, \u505c\u6b62\u6e38\u620f\uff1b\n\n\u82e5\u6811\u4e0a\u51fa\u73b0\u4e00\u4e2a\u4e09\u70b9\u94fe\u4e3a\u9ed1\u8272\uff0c\u5219 $Bob$ \u83b7\u80dc\uff0c\u8f93\u51fa `Black`\uff0c\u505c\u6b62\u6e38\u620f\uff1b\n\n\u82e5\u6240\u6709\u70b9\u90fd\u67d3\u5b8c\u8272\u5e76\u4e14\u6ca1\u4eba\u83b7\u80dc\uff0c\u5219\u8f93\u51fa `Draw`\u3002\n\n## \u5206\u6790\n\n\u521d\u59cb\u767d\u8272\u70b9\u5148\u4e0d\u8003\u8651\uff0c\u5148\u8003\u8651\u65e0\u767d\u8272\u70b9\u7684\u60c5\u51b5\uff1a\n1. \u5b58\u5728\u5ea6\u6570\u4e3a $4$ \u7684\u70b9\u65f6\u5148\u624b\u5fc5\u80dc\n\n2. \u5982\u679c\u6240\u6709\u7684\u70b9\u5ea6\u6570\u90fd\u5728 $2$ \u4ee5\u5185\u5c31\u5fc5\u5b9a\u5e73\u5c40\n\n3. \u5982\u679c\u4e0b\u5728\u5ea6\u6570\u4e3a $3$ \u7684\u70b9\u4e0a\uff0c\u5219\u5bf9\u624b\u4e00\u5b9a\u4f1a\u5835\u4f4f\u4e00\u8fb9\uff0c\u8fd8\u6709\u4e24\u4e2a\u4f4d\u7f6e\u53ef\u4ee5\u4e0b\u3002\u6b64\u65f6\u5c31\u53d8\u6210\u4e86\u4e00\u6761\u6709\u4e00\u4e2a\u767d\u70b9\u7684\u94fe\uff08\u9ed1\u70b9\u6321\u4f4f\u7684\u5ffd\u7565\u4e0d\u8ba1\uff09\u3002\u6b64\u65f6\u5982\u679c\u767d\u65b9\u80dc\uff0c\u5219\u94fe\u957f\u5ea6\u81f3\u5c11\u4e3a $4$\uff0c\u76f8\u5f53\u4e8e\u6709\u4e00\u4e2a\u5b50\u8282\u70b9\u5ea6\u6570\u81f3\u5c11\u4e3a $2$\uff0c\u5e76\u4e14\u5bf9\u65b9\u6240\u65ad\u6389\u7684\u9876\u70b9\u5ea6\u6570\u4e5f\u81f3\u5c11\u4e3a $2$\u3002\u6240\u4ee5\u4e00\u4e2a\u5ea6\u6570\u4e3a $3$ \u7684\u7ed3\u70b9\u548c\u4e24\u4e2a\u5ea6\u6570\u4e3a $2$ \u7684\u5b50\u8282\u70b9\u5148\u624b\u5fc5\u80dc\u3002\n\n4. \u8003\u8651\u591a\u4e2a\u5ea6\u6570\u4e3a3\u8282\u70b9\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u6a21\u62df\u4e00\u4e0b\u4e0d\u96be\u53d1\u73b0\u4e24\u4e2a\u5ea6\u6570\u4e3a3\u5e76\u4e14\u8ddd\u79bb\u4e3a\u5076\u6570\u7684\u8282\u70b9\u5fc5\u80dc\u3002\u800c\u5f53\u51fa\u73b0\u591a\u4e2a\u5ea6\u6570\u4e3a3\u7684\u8282\u70b9\u65f6\uff0c\u5148\u624b\u76f4\u63a5\u5fc5\u80dc\u7684\u3002\n\n\u8fd9\u65f6\u5019\u518d\u8003\u8651\u6709\u767d\u8272\u70b9\u7684\u60c5\u51b5\u3002\n\n\u5c1d\u8bd5\u628a\u6bcf\u4e00\u4e2a\u67d3\u6210\u767d\u8272\u7684\u70b9\u62c6\u6210\u591a\u4e2a\u70b9\uff0c\u8f6c\u5316\u4e3a\u4e0a\u9762\u7684\u60c5\u51b5\u3002\u5982\u679c\u4e00\u4e2a\u70b9\u521d\u59cb\u5373\u4e3a\u767d\u8272\uff0c\u53ef\u4ee5\u628a\u5b83\u770b\u505a\u662f\u539f\u6765\u7a7a\u7684\u4e00\u4e2a\u70b9\uff0c\u767d\u8272\u4e0b\u5728\u4e86\u8fd9\u4e2a\u70b9\uff0c\u800c\u9ed1\u8272\u4e0b\u5728\u4e86\u539f\u56fe\u4e4b\u5916\u7684\u70b9\u3002\u4e5f\u5c31\u662f\u6211\u4eec\u4ece\u8fd9\u4e2a\u70b9\u62c6\u51fa\u4e00\u4e2a\u70b9\uff0c\u628a\u9ed1\u8272\u4e0b\u5728\u62c6\u51fa\u7684\u70b9\u4e0a\u3002\u800c\u56e0\u4e3a\u767d\u68cb\u5148\u624b\uff0c\u6240\u4ee5\u76f8\u5f53\u4e8e\u5728\u6ca1\u6709\u989d\u5916\u70b9\u7684\u60c5\u51b5\u4e0b\u591a\u4e0b\u4e86\u4e00\u9897\u767d\u68cb\u3002\u800c\u8fd9\u4e2a\u6784\u9020\uff0c\u662f\u8fd9\u6837\u7684\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/20uctx0w.png)\n\n\u4e8e\u662f\u5c31\u505a\u5b8c\u4e86\u3002\n\n## \u4ee3\u7801\n\n```cpp\n/*\n\u5148\u8003\u8651\u65e0\u767d\u8272\u70b9\u7684\u60c5\u51b5\n\u53d1\u73b0\u5b58\u5728\u5ea6\u6570\u4e3a4\u7684\u70b9\u65f6\u5148\u624b\u5fc5\u80dc\n\u5982\u679c\u6240\u6709\u7684\u70b9\u5ea6\u6570\u90fd\u57282\u4ee5\u5185\u5c31\u5fc5\u5b9a\u5e73\u5c40\n\u800c\u5982\u679c\u4e0b\u5728\u5ea6\u6570\u4e3a3\u7684\u70b9\u4e0a\uff0c\u5219\u5bf9\u624b\u4e00\u5b9a\u4f1a\u5835\u4f4f\u4e00\u8fb9\uff0c\u8fd8\u6709\u4e24\u4e2a\u4f4d\u7f6e\u53ef\u4ee5\u4e0b\u3002\n\u6b64\u65f6\u5c31\u53d8\u6210\u4e86\u4e00\u6761\u6709\u4e00\u4e2a\u767d\u70b9\u7684\u94fe\uff08\u9ed1\u70b9\u6321\u4f4f\u7684\u5ffd\u7565\u4e0d\u8ba1\uff09\u3002\u6b64\u65f6\u5982\u679c\u767d\u65b9\u80dc\uff0c\u5219\u94fe\u957f\u5ea6\u81f3\u5c11\u4e3a4\uff0c\n\u76f8\u5f53\u4e8e\u6709\u4e00\u4e2a\u5b50\u8282\u70b9\u5ea6\u6570\u81f3\u5c11\u4e3a2\uff0c\u5e76\u4e14\u5bf9\u65b9\u6240\u65ad\u6389\u7684\u9876\u70b9\u5ea6\u6570\u4e5f\u81f3\u5c11\u4e3a2\n\u6240\u4ee5\u4e00\u4e2a\u5ea6\u6570\u4e3a3\u7684\u7ed3\u70b9\u548c\u4e24\u4e2a\u5ea6\u6570\u4e3a2\u7684\u5b50\u8282\u70b9\u5148\u624b\u5fc5\u80dc\n\u6700\u540e\u5c31\u8003\u8651\u591a\u4e2a\u5ea6\u6570\u4e3a3\u8282\u70b9\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u6a21\u62df\u4e00\u4e0b\u4e0d\u96be\u53d1\u73b0\u4e24\u4e2a\u5ea6\u6570\u4e3a3\u5e76\u4e14\u8ddd\u79bb\u4e3a\u5076\u6570\u7684\u8282\u70b9\u4e5f\u662f\u5fc5\u80dc\u7684\u3002\n\u800c\u5f53\u51fa\u73b0\u591a\u4e2a\u5ea6\u6570\u4e3a3\u7684\u8282\u70b9\u65f6\uff0c\u5148\u624b\u4e5f\u662f\u5fc5\u80dc\u7684\u3002\n\u5c1d\u8bd5\u628a\u6bcf\u4e00\u4e2a\u67d3\u6210\u767d\u8272\u7684\u70b9\u62c6\u6210\u591a\u4e2a\u70b9\uff0c\u8f6c\u5316\u4e3a\u4e0a\u9762\u7684\u60c5\u51b5\u3002\n\u5982\u679c\u4e00\u4e2a\u70b9\u521d\u59cb\u5373\u4e3a\u767d\u8272\uff0c\u53ef\u4ee5\u628a\u5b83\u770b\u505a\u662f\u539f\u6765\u7a7a\u7684\u4e00\u4e2a\u70b9\uff0c\u767d\u8272\u4e0b\u5728\u4e86\u8fd9\u4e2a\u70b9\uff0c\n\u800c\u9ed1\u8272\u4e0b\u5728\u4e86\u539f\u56fe\u4e4b\u5916\u7684\u70b9\u3002\u4e5f\u5c31\u662f\u6211\u4eec\u4ece\u8fd9\u4e2a\u70b9\u62c6\u51fa\u4e00\u4e2a\u70b9\uff0c\u628a\u9ed1\u8272\u4e0b\u5728\u62c6\u51fa\u7684\u70b9\u4e0a\u3002\n\u6240\u4ee5\u6211\u4eec\u9700\u8981\u8bbe\u8ba1\u4e00\u79cd\u60c5\u51b5\u4f7f\u9ed1\u8272\u5fc5\u5b9a\u4e0b\u5728\u8fd9\u4e2a\u70b9\u4e0a\uff0c\u5982\u4ee3\u7801\u6240\u793a\u3002\n\u4e8e\u662f\u5c31\u505a\u5b8c\u4e86\u3002\n*/\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n#define lld long long\nconst int N = 2000010;\nstruct edge {\n\tint to, nxt;\n} es[N << 1];\nint head[N], ecnt;\nint deg[N];\ninline void addedge(int u, int v) {\n\tes[++ ecnt] = (edge){v, head[u]};\n\thead[u] = ecnt;\n\t++ deg[u];\n}\ninline void addedge2(int u, int v) {\n\taddedge(u, v);\n\taddedge(v, u);\n}\nint T, n;\nchar str[N];\ninline void white(int u) {\n\tdeg[n + 1] = deg[n + 2] = deg[n + 3] = 0;\n\thead[n + 1] = head[n + 2] = head[n + 3] = 0;\n\taddedge2(n + 1, u);\n\taddedge2(n + 2, n + 1);\n\taddedge2(n + 3, n + 1);\n\tn += 3;\n}\ninline bool dfs(int u, int fa, int len) {\n\tif (deg[u] == 3 && len && !(len % 2)) return 1;\n\tfor (int e = head[u], v; v = es[e].to, e; e = es[e].nxt)\n\t\tif (v != fa && dfs(v, u, len + 1)) return 1;\n\treturn 0;\n}\ninline bool calc() {\n\tfor (int i = 1; i <= n; ++ i)\n\t\tif (deg[i] >= 4) return 1;\n\tint sum2, sum = 0, p;\n\tfor (int i = 1; i <= n; ++ i) {\n\t\tsum2 = 0;\n\t\tif (deg[i] <= 2) continue;\n\t\t++ sum, p = i;\n\t\tfor (int e = head[i], v; v = es[e].to, e; e = es[e].nxt)\n\t\t\tif (deg[v] >= 2) ++ sum2;\n\t\tif (sum2 >= 2) return 1;\n\t}\n\tif (sum >= 3) return 1;\n\tif (sum == 2) return dfs(p, 0, 0);\n\treturn 0;\n}\nint main() {\n\tscanf(\"%d\", &T);\n\tfor (; T --; ) {\n\t\tscanf(\"%d\", &n);\n\t\tecnt = 1;\n\t\tfor (int i = 1; i <= n; ++ i)\n\t\t\thead[i] = deg[i] = 0;\n\t\tfor (int u, v, i = 1; i < n; ++ i) {\n\t\t\tscanf(\"%d%d\", &u, &v);\n\t\t\taddedge2(u, v);\n\t\t}\n\t\tscanf(\"%s\", str + 1);\n\t\tint m = n;\n\t\tfor (int i = 1; i <= m; ++ i)\n\t\t\tif (str[i] == 'W') white(i);\n\t\tif (calc()) puts(\"White\");\n\t\telse puts(\"Draw\");\t\n\t}\n}\n```",
        "postTime": 1660036477,
        "uid": 228486,
        "name": "SunsetSamsara",
        "ccfLevel": 7,
        "title": "CF1110G Tree-Tac-Toe \u9898\u89e3"
    }
]