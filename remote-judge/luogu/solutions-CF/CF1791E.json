[
    {
        "content": "## [\u9898\u76ee\u4f20\u9001\u5668](https://www.luogu.com.cn/problem/CF1791E)\n## [\u66f4\u723d\u7684\u9605\u8bfb\u4f53\u9a8c](https://yaohaoyou.blog.luogu.org/CF1791E-negatives-and-positives-solution)\n\n# \u9898\u610f\n\u7ed9\u5b9a\u4e00\u4e2a $n$ \u548c\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u6570\u7ec4 $a$\uff0c\u6bcf\u6b21\u53ef\u4ee5\u5c06\u76f8\u90bb\u7684\u4e24\u4e2a\u6570\u53d6\u76f8\u53cd\u6570\uff08\u5373\u5c06 $x$ \u53d8\u6210 $-x$\uff09\uff0c\u95ee\u6570\u7ec4\u548c\u7684\u6700\u5927\u503c\uff0c\u5373 $\\max{\\{\\sum_{i=1}^{n} a_i\\}}$\uff0c\u5171\u6709 $t$ \u6b21\u8be2\u95ee\u3002\n# \u601d\u8def\n\u6211\u4eec\u5148\u8bc1\u660e**\u53ef\u4ee5\u5c06\u4efb\u610f\u4e24\u4e2a\u6570\u90fd\u8fdb\u884c\u53d6\u76f8\u53cd\u6570**\uff1a\n\n\u82e5\u7ed9\u4e24\u4e2a\u4f4d\u7f6e $i,j(1 \\le i < j \\le n)$\uff0c\u60f3\u8981\u4f7f $a_i,a_j$ \u90fd\u53d6\u76f8\u53cd\u6570\uff0c\u5219\u53ef\u4ee5\u5148\u5c06 $a_i$ \u548c $a_{i+1}$ \u8fdb\u884c\u53d6\u76f8\u53cd\u6570\uff0c\u7136\u540e\u518d\u5c06 $a_{i+1}$ \u548c $a_{i+2}$ \u8fdb\u884c\u53d6\u76f8\u53cd\u6570\uff0c\u4e00\u76f4\u64cd\u4f5c\u76f4\u5230\u5c06 $a_{j-1}$ \u548c $a_j$ \u4e3a\u6b62\u3002\u6b64\u65f6 $a_i$ \u548c $a_j$ \u521a\u597d\u53d6\u4e86 $1$ \u6b21\u76f8\u53cd\u6570\uff0c\u800c $a_k (k \\in (i,j))$ \u521a\u597d\u53d6\u4e86 $2$ \u6b21\u76f8\u53cd\u6570\uff0c\u4e5f\u5c31\u662f\u6ca1\u6709\u53d6\u76f8\u53cd\u6570\u3002\n\n\u7efc\u4e0a\uff0c\u6bcf\u6b21\u53ef\u4ee5\u627e\u4e24\u4e2a\u6570\u8fdb\u884c\u53d6\u76f8\u53cd\u6570\uff0c\u90a3\u6211\u4eec\u6bcf\u6b21\u770b\u5f53\u524d\u6700\u5c0f\u7684\u4e24\u4e2a\u6570\u7684\u548c\u662f\u5426\u4e3a\u8d1f\u6570\uff0c\u5982\u679c\u662f\u5c31\u5c06\u8fd9\u4e24\u4e2a\u6570\u53d6\u76f8\u53cd\u6570\uff0c\u5426\u5219\u7ed3\u675f\u7a0b\u5e8f\uff0c\u8f93\u51fa\u7b54\u6848\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u662f $O(t \\times n \\times \\log_2n)$\u3002\n\n\u6ce8\uff1a\u6ca1\u5f00 ```long long``` \u89c1\u7956\u5b97\uff0c\u6709\u591a\u7ec4\u6570\u636e\u3002\n## AC Code\n```cpp\n#include <bits/stdc++.h>  // \u5f00\u59cb\u4e86\n#define int long long\nusing namespace std;\nconst int maxn=2e5+10,inf=1e9+10;\nint t,n,a[maxn],ans=0;\nvoid solve(){\n    ans=0;\n    scanf(\"%lld\",&n);\n    for(int i=1;i<=n;i++){\n        scanf(\"%lld\",&a[i]);\n        ans+=a[i];  // \u5f53\u524d\u6570\u7ec4\u603b\u548c\n    }\n    sort(a+1,a+n+1);   // \u6392\u5e8f\n    for(int i=1;i<n;i+=2){\n        if(a[i]+a[i+1]<0){  // \u5c06\u8fd9\u4e24\u4e2a\u6570\u8fdb\u884c\u64cd\u4f5c\n            ans-=(a[i]*2);\n            ans-=(a[i+1]*2);\n        }\n    }\n    printf(\"%lld\\n\",ans);  // \u8f93\u51fa\u3002\n}\nsigned main(){\n    scanf(\"%lld\",&t);\n    while(t--)  solve();\n}\n```",
        "postTime": 1675829409,
        "uid": 739274,
        "name": "yaohaoyou",
        "ccfLevel": 5,
        "title": "CF1791E Negatives and Positives \u9898\u89e3"
    },
    {
        "content": "~~/yun\uff0c\u5c3d\u7136\u8fd8\u6709\u4e00\u53d1\u7f5a\u65f6\u3002~~\n\n- \u9898\u610f\n\n\u7ed9\u5b9a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217 $\\{a_n\\}$\uff0c\u6bcf\u6b21\u53ef\u4ee5\u5c06\u5e8f\u5217\u76f8\u90bb\u4e24\u4e2a\u6570\u53d6\u53cd\uff0c\u95ee\u8fdb\u884c\u82e5\u5e72\u6b21\u64cd\u4f5c\u540e\u5e8f\u5217\u548c\u7684\u6700\u5c0f\u503c\u3002\n\n- \u5206\u6790\n\n\u9996\u5148\u8003\u8651\uff0c\u6bcf\u4e2a\u533a\u95f4\u6700\u591a\u88ab\u64cd\u4f5c $1$ \u6b21\uff0c\u5047\u8bbe\u533a\u95f4 $[l,r-1]$ \u5747\u88ab\u64cd\u4f5c\u5219\u7b49\u4ef7\u4e8e $a_l,a_r$ \u53d6\u53cd\uff0c\u4e8e\u662f\u95ee\u9898\u8f6c\u6362\u6210\u4e86\u9009\u62e9\u5e8f\u5217\u4e2d\u5076\u6570\u4e2a\u6570\u53d6\u53cd\uff0c\u95ee\u548c\u7684\u6700\u5c0f\u503c\u3002\n\n\u8003\u8651\u5230\u8fd9\u4e00\u6b65\u5df2\u7ecf\u975e\u5e38\u7b80\u5355\u4e86\uff0c\u5982\u679c\u8d1f\u6570\u7684\u6570\u91cf\u662f\u5076\u6570\uff0c\u663e\u7136\u76f4\u63a5\u5c06\u8d1f\u6570\u5168\u90e8\u53d6\u53cd\u5373\u53ef\uff0c\u5426\u5219\u4e0d\u59a8\u5047\u8bbe\u5269\u4e0b\u6570 $a_p$\uff0c\u90a3\u4e48\u53ea\u8981\u6c42\u51fa $a_p+\\min\\limits_{1\\le i \\le n,i \\not = p}a_i$\uff0c\u5c06\u5176\u53d6\u53cd\uff0c\u4e0e\u539f\u7b54\u6848\u53d6 $\\max$ \u5373\u53ef\u3002\n\n- code\n\n```cpp\n#include <bits/stdc++.h>\n#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,avx2\")\n#define LL long long\nusing namespace std;\n\nnamespace IO {\n    char ibuf[(1 << 20) + 1], *iS, *iT;\n#if ONLINE_JUDGE\n#define gh() (iS == iT ? iT = (iS = ibuf) + fread(ibuf, 1, (1 << 20) + 1, stdin), (iS == iT ? EOF : *iS++) : *iS++)\n#else\n#define gh() getchar()\n#endif\n#define reg register\n    inline long long read () {\n        reg char ch = gh();\n        reg long long x = 0;\n        reg char t = 0;\n        while (ch < '0' || ch > '9') t |= ch == '-', ch = gh();\n        while (ch >= '0' && ch <= '9') x = (x << 1) + (x << 3) + (ch ^ 48), ch = gh();\n        return t ? ~(x - 1) : x;\n    }\n    inline void write(long long x) {\n        if (x < 0) {\n            x = ~(x - 1);\n            putchar('-');\n        }\n        if (x > 9)\n            write(x / 10);\n        putchar(x % 10 + '0');\n    }\n}\n\nusing IO::read;\nusing IO::write;\n\nconst int maxn(2e5 + 500);\nint T, n, a[maxn];\nLL ans;\n\nint main() {\n    T = read();\n    while (T--) {\n        n = read();\n        for (int i = 1; i <= n; i++) a[i] = read();\n        int cnt = 0;\n        for (int i = 1; i <= n; i++) cnt += (a[i] < 0);\n        cnt = cnt - (cnt & 1);\n        for (int i = 1; i <= n && cnt; i++) \n            if (a[i] < 0) a[i] = -a[i], --cnt;\n        LL res = 0;\n        for (int i = 1; i <= n; i++) res += a[i];\n        ans = res;\n        int pos = 0;\n        for (int i = 1; i <= n; i++) if (a[i] < 0) { pos = i; break; }\n        if (!pos) {\n            write(ans), puts(\"\");\n            continue;\n        }\n        int mn = 1000000000;\n        for (int i = 1; i <= n; i++) if (a[i] >= 0) mn = min(mn, a[i]);\n        res -= 2 * (mn + a[pos]);\n        ans = max(ans, res);\n        write(ans), puts(\"\");\n    }\n}\n```",
        "postTime": 1675690794,
        "uid": 317495,
        "name": "JWRuixi",
        "ccfLevel": 7,
        "title": "Solution CF1791E Negatives and Positives"
    },
    {
        "content": "\u89c2\u5bdf\u5230\u4e00\u6b21\u64cd\u4f5c\u4e0d\u4f1a\u5f71\u54cd\u8d1f\u6570\u4e2a\u6570\u7684\u5947\u5076\u6027\uff0c\u4e8e\u662f\u6211\u4eec\u901a\u8fc7\u82e5\u5e72\u6b21\u64cd\u4f5c\u663e\u7136\u53ef\u4ee5\u5c06\u8d1f\u6570\u7684\u4e2a\u6570\u53d8\u4e3a $ 0,1 $\uff0c\u53d6\u51b3\u4e8e\u521d\u59cb\u7684\u5947\u5076\u6027\u3002\n\n\u5982\u679c\u521d\u59cb\u4e2a\u6570\u662f\u5076\u6570\u5219\u53ef\u4ee5\u5168\u90e8\u53d8\u4e3a\u975e\u8d1f\u6570\uff0c\u7b54\u6848\u4e3a\u6240\u6709\u6570\u7edd\u5bf9\u503c\u4e4b\u548c\u3002\n\n\u5426\u5219\u6211\u4eec\u5fc5\u987b\u9009\u4e00\u4e2a\u6570\u53d8\u4e3a\u8d1f\u6570\uff0c\u53ef\u4ee5\u53d1\u73b0\u9009\u7edd\u5bf9\u503c\u6700\u5c0f\u7684\u6570\u603b\u662f\u6700\u4f18\uff0c\u4e8e\u662f\u7b54\u6848\u4e3a\u5176\u5b83\u6240\u6709\u6570\u7edd\u5bf9\u503c\u4e4b\u548c\u51cf\u53bb\u8fd9\u4e2a\u6570\u7684\u7edd\u5bf9\u503c\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $ \\mathcal{O}(n) $\uff0c\u53ef\u4ee5\u901a\u8fc7\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile (ch<'0'||ch>'9'){if (ch=='-') f=-1;ch=getchar();}\n\twhile (ch>='0'&&ch<='9'){x=x*10+ch-48;ch=getchar();}\n\treturn x*f;\n}\nint a[2000020],ans=0;\nvoid gen(int n)\n{\nint f[2000020];\nfor(int i=1;i<=n;i++)\nf[i]=i;\ndo\n{\nif(0)//add something here.\nans++;\n}while(next_permutation(f+1,f+n+1));\n}\n#define Y cout<<\"Yes\"<<'\\n'\n#define N cout<<\"No\"<<'\\n'\nint cnt[26],p[26];\nsigned main()\n{\nint T;\ncin>>T;\nwhile(T--)\n{\n    int n,minn=2e9,cnt=0,sum=0;  \n    cin>>n;\n    for(int i=1;i<=n;i++)\n    cin>>a[i],cnt+=(a[i]<0),a[i]=abs(a[i]),minn=min(minn,a[i]),sum+=a[i];\n    if(cnt%2)\n    cout<<sum-2*minn<<'\\n';\n    else\n    cout<<sum<<'\\n';\n}\n}\n```\n",
        "postTime": 1675554977,
        "uid": 714821,
        "name": "loser_seele",
        "ccfLevel": 4,
        "title": "CF1791E\u9898\u89e3"
    },
    {
        "content": "# \u9898\u610f\r\n\r\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217 $a$\uff0c\u4f60\u53ef\u4ee5\u9009\u5b9a\u4e00\u4e2a\u6570 $i(1 \\leq i < n)$\uff0c\u4f7f\u5f97 $a_i = -a_i$\uff0c$a_{i + 1} = -a_{i + 1}$\u3002\r\n\r\n\u95ee\uff1a\u8fdb\u884c\u82e5\u5e72\u6b21\u64cd\u4f5c\u540e\uff0c\u7b97\u51fa $\\max(\\sum_{i = 1}^{n}a_i)$\u3002\r\n\r\n# \u601d\u8def\r\n\r\n\u9996\u5148\uff0c\u6211\u4eec\u80fd\u5f97\u51fa\u4e00\u4e2a\u7ed3\u8bba\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $a_i$ \u548c $a_j$\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u4f7f $a_i = -a_i$\uff0c$a_j = -a_j$\u3002\r\n\r\n\u6211\u4eec\u9700\u8981\u5c3d\u53ef\u80fd\u7684\u4f7f $a$ \u4e2d\u7684\u8d1f\u6570\u5168\u90e8\u53d6\u53cd\u3002\r\n\r\n\u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5206\u7c7b\u8ba8\u8bba\uff1a\r\n\r\n1. \u8d1f\u6570\u4e2a\u6570\u4e3a\u5076\u6570\uff0c\u90a3\u4e48\u7ed3\u679c\u4e3a $\\sum_{i = 1}^{n}|a_i|$\u3002\r\n\r\n2. \u8d1f\u6570\u4e2a\u6570\u4e3a\u8d1f\u6570\uff0c\u90a3\u4e48\u9700\u8981\u5224\u65ad\u8d1f\u6570\u6700\u5927\u503c\u7684\u7edd\u5bf9\u503c\u548c\u6b63\u6570\u6700\u5c0f\u503c \u7684\u5927\u5c0f\u5173\u7cfb\u3002\r\n\r\n# code\r\n\r\n```cpp\r\n#include <bits/stdc++.h>\r\n#define int long long\r\n#define re register\r\n\r\nusing namespace std;\r\n\r\nconst int N = 2e5 + 10,inf = 1e9 + 10;\r\nint T,n;\r\nint arr[N];\r\n\r\ninline int read(){\r\n\tint r = 0,w = 1;\r\n\tchar c = getchar();\r\n\twhile (c < '0' || c > '9'){\r\n\t\tif (c == '-') w = -1;\r\n\t\tc = getchar();\r\n\t}\r\n\twhile (c >= '0' && c <= '9'){\r\n\t\tr = (r << 3) + (r << 1) + (c ^ 48);\r\n\t\tc = getchar();\r\n\t}\r\n\treturn r * w;\r\n}\r\n\r\nsigned main(){\r\n\tT = read();\r\n\twhile (T--){\r\n\t\tint Mina = inf,Maxb = -inf;\r\n\t\tint sum = 0,len = 0;\r\n\t\tn = read();\r\n\t\tfor (re int i = 1;i <= n;i++){\r\n\t\t\tarr[i] = read();\r\n\t\t\tsum += abs(arr[i]);//\u9996\u5148\u5148\u628a\u603b\u548c\u8bbe\u4e3a abs(arr) \r\n\t\t\tif (arr[i] < 0){\r\n\t\t\t\tlen++;\r\n\t\t\t\tMaxb = max(Maxb,arr[i]);\r\n\t\t\t}\r\n\t\t\telse Mina = min(Mina,arr[i]);\r\n\t\t}\r\n\t\t//\u5982\u679c len \u4e3a\u5076\u6570 max(sum(arr)) \u5c31\u4e3a sum \r\n\t\tif (len & 1){\r\n\t\t\tif (Maxb == -inf);//\u5224\u65ad\u7279\u5224\u6ca1\u6709\u6b63\u6570\u548c\u6ca1\u6709\u8d1f\u6570\u7684\u60c5\u51b5 \r\n\t\t\telse if (Mina == inf) sum += 2 * Maxb;\r\n\t\t\telse if (abs(Maxb) < abs(Mina)) sum -= 2 * abs(Maxb);//\u4f7f\u8d1f\u6570\u4e0d\u53d8 \r\n\t\t\telse sum -= 2 * abs(Mina);//\u4f7f\u6b63\u6570\u4e0d\u53d8 \r\n\t\t}\r\n\t\tprintf(\"%lld\\n\",sum);\r\n\t}\r\n\treturn 0;\r\n}\r\n```",
        "postTime": 1675778180,
        "uid": 383395,
        "name": "WaterSun",
        "ccfLevel": 5,
        "title": "[\u9898\u89e3]CF1791E Negatives and Positives"
    },
    {
        "content": "\u5b58\u5728\u7b56\u7565\u901a\u8fc7\u82e5\u5e72\u6b21\u64cd\u4f5c\u53d6\u53cd\u4efb\u610f\u5076\u6570\u4e2a\u6570\u3002\n\n\u5177\u4f53\u5730\uff0c\u6309\u5982\u4e0b\u7b56\u7565\u53d6\u53cd $a_x,a_y$\uff1a\n\n- \u8fdb\u884c $y-x$ \u6b21\u64cd\u4f5c\uff0c\u7b2c $i$ \u6b21\u64cd\u4f5c\u53d6\u53cd $a_{x+i-1},a_{x+i}$\u3002\n\n\u5c06\u6240\u6709\u8d1f\u6570\u4e24\u4e24\u53d6\u53cd\u3002\n\n\u82e5\u65e0\u5269\u4f59\uff0c\u6b64\u65f6 $\\sum a_i$ \u5373\u4e3a\u7b54\u6848\u3002\n\n\u82e5\u5269\u4f59 $a_k$\uff0c\u6b64\u65f6\u7684 $\\sum a_i$ \u4e0e\u53d6\u53cd $a_k,\\min\\limits_{i\\neq k}a_i$ \u540e\u7684 $\\sum a_i$ \u7684\u6700\u5927\u503c\u5373\u4e3a\u7b54\u6848\u3002\n\n```cpp\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\nint T, n, m, c, p, a[200050];\nlong long q;\nint main()\n{\n    scanf(\"%d\", &T);\n    while (T--)\n    {\n        scanf(\"%d\", &n);\n        for (int i = c = q = 0; i < n; ++i)\n        {\n            scanf(\"%d\", a + i);\n            if (a[i] < 0)\n                ++c, p = i;\n            q += a[i] = abs(a[i]);\n        }\n        if (c & 1)\n        {\n            m = a[p];\n            for (int i = 0; i < n; ++i)\n                if (i != p)\n                    m = min(m, a[i]);\n            printf(\"%lld\\n\", q - (m << 1));\n        }\n        else\n            printf(\"%lld\\n\", q);\n    }\n    return 0;\n}\n```\n",
        "postTime": 1675772967,
        "uid": 388651,
        "name": "5k_sync_closer",
        "ccfLevel": 7,
        "title": "CF1791E Negatives and Positives \u9898\u89e3"
    },
    {
        "content": "\u672c\u9898\u6709\u51e0\u4e2a\u5173\u952e\u7684\u6027\u8d28\uff1a\n\n$1.$ \u6bcf\u4e2a\u6570\u81f3\u591a\u88ab\u9009\u62e9 $1$ \u6b21\u3002\n\n$2.$ \u82e5\u5bf9\u4e00\u6bb5\u8fde\u7eed\u7684\u533a\u95f4 $[l,r]$ \u8fdb\u884c\u64cd\u4f5c\uff0c\u90a3\u4e48\u6700\u7ec8\u7ed3\u679c\u662f $a_l=-a_l$\uff0c$a_{r+1}=-a_{r+1}$\uff0c\u5e76\u4e14\u5176\u4ed6\u4f4d\u7f6e\u5747\u4e0d\u6539\u53d8\u3002\n\n\u8fd9\u6837\u4e00\u6765\uff0c\u5bf9\u4e8e\u5e8f\u5217\u4e2d\u7684\u4efb\u610f\u4e24\u4e2a\u6570\uff0c\u6211\u4eec\u90fd\u80fd\u4f7f\u4ed6\u4eec\u540c\u65f6\u53d6\u53cd\u3002\n\n\u7edf\u8ba1\u5e8f\u5217\u4e2d\u8d1f\u6570\u7684\u6570\u91cf\uff0c\u8bbe\u4e3a $cnt$\u3002\n\n\u82e5 $cnt$ \u4e3a\u5076\u6570\uff0c\u5219\u76f4\u63a5\u5c06\u5e8f\u5217\u4e2d\u6240\u6709\u8d1f\u6570\u53d6\u53cd\u3002\n\n\u82e5 $cnt$ \u4e3a\u5947\u6570\uff0c\u4e14\u5e8f\u5217\u4e2d\u6700\u5c0f\u7684\u975e\u8d1f\u6574\u6570\u7edd\u5bf9\u503c\u5c0f\u4e8e\u5e8f\u5217\u4e2d\u6700\u5927\u7684\u8d1f\u6570\u7684\u7edd\u5bf9\u503c\uff0c\u5219\u5c06\u5e8f\u5217\u4e2d\u6240\u6709\u8d1f\u6570\u53d6\u53cd\uff0c\u5e76\u5c06\u6700\u5c0f\u7684\u975e\u8d1f\u6574\u6570\u53d6\u53cd\u3002\n\n\u5426\u5219\uff0c\u5c06\u9664\u6700\u5927\u8d1f\u6570\u7684\u6240\u6709\u8d1f\u6570\u53d6\u53cd\u3002\n\n\u8fd9\u6837\u505a\u80fd\u4fdd\u8bc1\u7b54\u6848\u6700\u4f18\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal{O}(T n \\log n)$\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6 $\\mathcal{O}(n)$\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u8f83\u52a3\u7684\u539f\u56e0\u662f\u56e0\u4e3a\u6211\u4f7f\u7528\u4e86\u6392\u5e8f\u3002\n\n[AC Code](https://codeforces.com/contest/1791/submission/191997324)",
        "postTime": 1675654035,
        "uid": 486484,
        "name": "Gaode_Sean",
        "ccfLevel": 6,
        "title": "CF1791E \u9898\u89e3"
    },
    {
        "content": "## \u601d\u8def\n\n\u4ee5\u4e0b\u5b9a\u4e49 $x_p$ \u548c $x_n$ \u5206\u522b\u4e3a\u6570\u5217\u4e2d\u6b63\u6570\u548c\u8d1f\u6570\u7684\u4e2a\u6570\u3002\uff08$0$ \u653e\u5728\u54ea\u4e2a\u91cc\u90fd\u53ef\u4ee5\uff0c\u968f\u4fbf\u9009\u4e00\u4e2a\u5c31\u53ef\u4ee5\u4e86\uff09\n\n\u6839\u636e $a_i$ \u548c $a_{i+1}$ \u7684\u7b26\u53f7\u60c5\u51b5\uff0c\u64cd\u4f5c\u5e26\u6765\u7684\u53d8\u5316\u4f1a\u5206\u4e3a\u4ee5\u4e0b\u4e09\u79cd\uff1a\n\n1. $x_p$ \u589e\u957f $2$\uff0c$x_n$ \u51cf\u5c11 $2$\u3002\uff08$a_i,a_{i+1}<0$\uff09\n2. \u4e0d\u53d8\u3002\uff08$a_i<0,a_{i+1}>0$ \u6216 $a_i>0,a_{i+1}<0$\uff09\n3. $x_p$ \u51cf\u5c11 $2$\uff0c$x_n$ \u589e\u52a0 $2$\u3002\uff08$a_i,a_{i+1}>0$\uff09\n\n\u53ef\u4ee5\u53d1\u73b0 $\\left\\vert x_p-x_n\\right\\vert$ \u7684\u5947\u5076\u6027\u662f\u4e00\u5b9a\u7684\u3002\u56e0\u4e3a\u8981\u4e48\u4e0d\u53d8\uff0c\u8981\u4e48\u589e\u51cf\u4e00\u4e2a\u5076\u6570\u3002\n\n\u90a3\u4e48\u628a $x_n$ \u6700\u5c0f\u5316\u65f6\uff0c\u548c\u5c31\u80fd\u53d6\u5230\u6700\u5927\u503c\u3002\n\n\u6240\u4ee5\u5f97\u5230\u601d\u8def\uff1a\u9996\u5148\u8ba1\u7b97 $x_n$ \u6700\u5c0f\u503c\uff08\u521d\u59cb\u65f6\uff0c$\\left\\vert x_p-x_n\\right\\vert$ \u662f\u5947\u6570\u5219\u6700\u5c0f\u503c\u4e3a $1$\uff0c$\\left\\vert x_p-x_n\\right\\vert$ \u4e3a\u5076\u6570\u5219\u4e3a $0$\uff09\uff0c\u63a5\u4e0b\u6765\u5c06\u539f\u6570\u7ec4\u6240\u6709\u5143\u7d20\u53d6\u7edd\u5bf9\u503c\u7136\u540e\u7531\u5c0f\u5230\u5927\u6392\u5e8f\uff08\u663e\u7136\uff0c\u8d1f\u6570\u7684\u7edd\u5bf9\u503c\u8d8a\u5c0f\u5bf9\u7ed3\u679c\u5f71\u54cd\u8d8a\u5c0f\uff09\uff0c\u6700\u540e\u6839\u636e\u8ba1\u7b97\u51fa\u7684 $x_p$ \u6700\u5c0f\u503c\uff0c\u9009\u524d $x_p$ \u4e2a\u6570\u4f5c\u4e3a\u8d1f\u6570\uff0c\u540e\u9762\u7684\u7684\u4f5c\u4e3a\u6b63\u6570\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(n\\log n)$\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<vector>\n#include<algorithm>\nusing namespace std;\n#define ll long long\n#define il inline\nil ll read() {\n\tll x=0,f=1;char c=getchar();\n\twhile(c<'0'||c>'9') {if(c=='-') {f=-1;} c=getchar();}\n\twhile(c>='0'&&c<='9') {x=(x<<3)+(x<<1)+(c^48);c=getchar();}\n\treturn x*f;\n}\nint t,n,a[200005];\nil int abs(int x) {\n\treturn x>=0?x:-x;\n}\nint main() {\n\tt=read();\n\twhile(t--) {\n\t\tn=read();\n\t\tint po=0,ne=0;\n\t\tfor(int i=1;i<=n;i++) {\n\t\t\ta[i]=read();\n\t\t\tif(a[i]<0) ne++;\n\t\t\telse po++;\n\t\t\ta[i]=abs(a[i]);\n\t\t}\n\t\tsort(a+1,a+n+1);\n\t\tpo+=int(ne/2)*2;\n\t\tne%=2;\n\t\tll sum=0;\n\t\tfor(int i=1;i<=ne;i++) sum+=-a[i];\n\t\tfor(int i=ne+1;i<=n;i++) sum+=a[i];\n\t\tprintf(\"%lld\\n\",sum);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1675596460,
        "uid": 536743,
        "name": "\u79e6\u5c4e\u7687",
        "ccfLevel": 0,
        "title": "CF1791E Negatives and Positives \u9898\u89e3"
    },
    {
        "content": "\u76ee\u7684\u663e\u7136\u662f\u5c3d\u53ef\u80fd\u51cf\u5c11\u8d1f\u6570\u7684\u6570\u91cf\uff0c\u4ee5\u53ca\u6700\u5c0f\u5316\u4e0d\u80fd\u6d88\u53bb\u7684\u8d1f\u6570\u7684\u7edd\u5bf9\u503c\u3002\n\n\u5148\u8003\u8651\u5c3d\u53ef\u80fd\u51cf\u5c11\u8d1f\u6570\u7684\u6570\u91cf\u3002\n\n\u663e\u7136\uff0c\u53ea\u6709\u4e24\u4e2a\u8d1f\u6570\u76f8\u90bb\u65f6\uff0c\u64cd\u4f5c\u624d\u80fd\u51cf\u5c11\u8d1f\u6570\u7684\u6570\u91cf\u3002\n\n\u6240\u4ee5\u9700\u8981\u627e\u5230\u201c\u79fb\u52a8\u201d\u8d1f\u6570\u7684\u529e\u6cd5\u3002\n\n\u4f8b\uff1a\n\n| $a_1$ | $a_2$ | $a_3$ | $a_4$ |\n| -----------: | -----------: | -----------: | -----------: |\n| $1$ | $2$ | $3$ | $-4$ |\n\n\n\n\u8003\u8651\u8fdb\u884c\u4e00\u6b21\u64cd\u4f5c\uff0c$i$ \u53d6 $3$\uff0c\u6309\u7167\u5b9a\u4e49\uff0c$a_3\\gets -a_3$\uff0c$a_4\\gets -a_4$\uff0c\u64cd\u4f5c\u540e\u7684\u7ed3\u679c\u5982\u4e0b\u3002\n\n| $a_1$ | $a_2$ | $a_3$ | $a_4$ |\n| -----------: | -----------: | -----------: | -----------: |\n| $1$ | $2$ | $-3$ | $4$ |\n\n\u53ef\u4ee5\u53d1\u73b0\u8d1f\u6570\u201c\u79fb\u52a8\u201d\u5230\u4e86 $a_3$\u3002\n\n\u7c7b\u4f3c\u7684\uff0c\u4e00\u6b21\u64cd\u4f5c\u53ef\u4ee5\u628a\u8d1f\u6570\u79fb\u52a8\u5230\u5b83\u7684\u5f53\u524d\u4f4d\u7f6e\u51cf\u4e00\u6216\u5f53\u524d\u4f4d\u7f6e\u52a0\u4e00\u3002\n\n\u56e0\u4e3a\u64cd\u4f5c\u6b21\u6570\u4e0d\u9650\uff0c\u6240\u4ee5\u53ef\u4ee5\u5c06\u6240\u6709\u8d1f\u6570\u79fb\u52a8\u5230\u6570\u7ec4\u7684\u5f00\u5934\u3002\n\n\u8fd9\u91cc\u5206 $2$ \u79cd\u60c5\u51b5\u3002\n\n\u7b2c\u4e00\u79cd\u60c5\u51b5\uff1a\u8d1f\u6570\u7684\u6570\u91cf\u662f\u5076\u6570\u3002\n\n\u53ea\u9700\u8981\u4e24\u4e24\u6d88\u53bb\u5df2\u7ecf\u5168\u90e8\u76f8\u90bb\u7684\u8d1f\u6570\uff0c\u5c31\u53ef\u4ee5\u4f7f\u6570\u7ec4\u4e2d\u6bcf\u4e00\u4e2a\u6570\u6210\u4e3a\u975e\u8d1f\u6570\uff0c\u7b54\u6848\u4e3a $\\sum_{i=1}^{n}{|a_i|}$\u3002\n\n\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff1a\u8d1f\u6570\u7684\u6570\u91cf\u662f\u5947\u6570\u3002\n\n\u8fd9\u65f6\uff0c\u4e24\u4e24\u6d88\u53bb\u76f8\u90bb\u7684\u8d1f\u6570\u540e\u4f1a\u5269\u4e0b\u4e00\u4e2a\u8d1f\u6570\u3002\n\n\u663e\u7136\uff0c\u5355\u4e2a\u8d1f\u6570\u662f\u4e0d\u80fd\u6d88\u53bb\u7684\uff0c\u53c8\u56e0\u4e3a\u8981\u6700\u5c0f\u5316\u4e0d\u80fd\u6d88\u53bb\u7684\u8d1f\u6570\u7684\u7edd\u5bf9\u503c\uff0c\u6240\u4ee5\u8981\u6700\u5c0f\u5316\u8fd9\u4e2a\u5269\u4e0b\u7684\u8d1f\u6570\u7684\u7edd\u5bf9\u503c\u3002\n\n\u56e0\u4e3a\u8fd9\u4e2a\u8d1f\u6570\u4e5f\u53ef\u4ee5\u968f\u610f\u79fb\u52a8\uff0c\u90a3\u4e48\u4e3a\u4e86\u6700\u5c0f\u5316\u8fd9\u4e2a\u8d1f\u6570\u7684\u7edd\u5bf9\u503c\uff0c\u5c06\u5b83\u79fb\u52a8\u5230\u7edd\u5bf9\u503c\u6700\u5c0f\u7684\u4e00\u9879\u4e0a\u3002\n\n\u6240\u4ee5\u6b64\u65f6\u7b54\u6848\u662f $\\sum_{i=1}^{n}{|a_i|}-2\\min\\{\\operatorname{abs}(a_i)\\mid i\\in [1,n]\\}$\u3002\n\n\u603b\u7ed3\uff1a\n\n$$\\mathrm{ans}=\\begin{cases}\\sum\\limits_{i=1}^{n}{|a_i|}&2\\mid\\sum\\limits_{i=1}^n{[a_i<0]}\\\\\\sum\\limits_{i=1}^{n}{|a_i|}-2\\min\\{\\operatorname{abs}(a_i)\\mid i\\in [1,n]\\}&2\\nmid\\sum\\limits_{i=1}^n{[a_i<0]}\\end{cases}$$\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#define endl '\\n'\nusing namespace std;\ntypedef long long ll;\nll arr[200005];\nll read()\n{\n\tll res=0;\n\tint flag=1;\n\tchar c=0;\n\twhile((c>'9' || c<'0') && c!='-')\n\t{\n\t\tc=getchar();\n\t}\n\tif(c=='-')\n\t{\n\t\tflag=-1;\n\t\tc=getchar();\n\t}\n\twhile(c<='9' && c>='0')\n\t{\n\t\tres*=10;\n\t\tres+=(ll)(c-'0');\n\t\tc=getchar();\n\t}\n\treturn res*flag;\n}\nint main()\n{\n\tll t;\n\tcin>>t;\n\twhile(t--)\n\t{\n\t\tll n;\n\t\tcin>>n;\n\t\tll nega=0;\n\t\tll mi=1000000001;\n\t\tll sum=0;\n\t\tfor(int i=1;i<=n;++i)\n\t\t{\n\t\t\tcin>>arr[i];\n\t\t\tif(arr[i]<0) nega++;\n\t\t\tmi=min(abs(arr[i]),mi);\n\t\t\tsum+=abs(arr[i]);\n\t\t}\n\t\tif(nega%2==1)\n\t\t{\n\t\t\tsum-=(2*mi);\n\t\t}\n\t\tcout<<sum<<endl;\n\t } \n\treturn 0;\n}\n\n```\n",
        "postTime": 1675570897,
        "uid": 490744,
        "name": "LincW",
        "ccfLevel": 0,
        "title": "CF1791E Negatives and Positives \u9898\u89e3"
    },
    {
        "content": "[![pS6iWNR.png](https://s1.ax1x.com/2023/02/05/pS6iWNR.png)](https://imgse.com/i/pS6iWNR) \u5410\u8840\u3002\n\n\u5bf9\u4e8e\u4e24\u4e2a $<0$ \u7684\u4f4d\u7f6e\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u5c06\u4ed6\u4eec\u548c\u76f8\u90bb\u7684\u4f4d\u7f6e\u6267\u884c\u64cd\u4f5c\uff0c\u76f4\u5230\u4e24\u4e2a\u6570\u76f8\u90bb\u4e3a\u6b62\u3002\n\n\u7136\u540e\u5bf9\u8fd9\u4e24\u4e2a\u6570\u6267\u884c\u64cd\u4f5c\u5373\u53ef\u3002\n\n\u4e8e\u662f\u5e8f\u5217\u5230\u6700\u540e\u6700\u591a\u6709 $1$ \u4e2a $<0$ \u7684\u6570\u3002\n\n\u7136\u540e\u5224\u65ad\uff1a\u5982\u679c\u4e00\u5f00\u59cb $<0$ \u7684\u6570\u7684\u4e2a\u6570\u662f\u5076\u6570\uff0c\u90a3\u4e48\u5230\u6700\u540e\u53ef\u4ee5\u6ca1\u6709 $<0$ \u7684\u6570\u3002\n\n\u5426\u5219\uff0c\u53ea\u9700\u8981\u627e\u5230\u7edd\u5bf9\u503c\u6700\u5c0f\u7684\u90a3\u4e00\u4e2a\u6570\uff0c\u8ba9\u5979\u53d8\u6210\u8d1f\u6570\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(\\sum n)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int N=2e5+10;\nint a[N],f[N][2];\nsigned main(){\n  int T;\n  cin>>T;\n  while(T--){\n    int n;\n    cin>>n;\n    for(int i=1;i<=n;i++)cin>>a[i];\n    vector<int>pos;\n    for(int i=1;i<=n;i++){\n      if(a[i]<0)pos.push_back(i);\n    }\n    for(int i=1;i<=n;i++)a[i]=abs(a[i]);\n    if(pos.size()%2==0){\n      cout<<accumulate(a+1,a+n+1,0ll)<<'\\n';\n    }\n    else{\n      int id=-1,mi=1e18;\n      for(int i=1;i<=n;i++){\n        if(mi>a[i]){\n          mi=a[i];\n          id=i;\n        }\n      }\n      assert(id!=-1);\n      int sum=accumulate(a+1,a+n+1,0ll);\n      sum-=2*a[id];\n      cout<<sum<<'\\n';\n    }\n    // for(int i=1;i<=n;i++)f[i][0]=f[i][1]=-1e18;\n    // f[1][0]=f[1][1]=a[1];\n    // for(int i=2;i<=n;i++){\n    //   f[i][0]=max({f[i-2][0]+a[i]+a[i-1],f[i-2][1]+a[i-1]+a[i],f[i-1][0]+a[i],f[i-1][1]+a[i]});\n    //   f[i][1]=max({f[i-2][0]-a[i-1]-a[i],f[i-2][1]-a[i]-a[i-1]});\n    // }\n    // for(int i=1;i<=n;i++)cout<<f[i][0]<<' '<<f[i][1]<<'\\n';\n    // cout<<max(f[n][0],f[n][1])<<'\\n';\n    // for(int i=1;i<n;i++){\n    //   if(a[i]+a[i+1]<0)a[i]=-a[i],a[i+1]=-a[i+1];\n    //   else if(a[i]+a[i+1]==0){\n    //     if(a[i]<a[i+1])swap(a[i],a[i+1]);\n    //   }\n    // }\n    // cout<<accumulate(a+1,a+n+1,0ll)<<'\\n';\n  }\n  return 0;\n}\n```",
        "postTime": 1675559118,
        "uid": 378467,
        "name": "willem248",
        "ccfLevel": 5,
        "title": "CF1791E"
    }
]