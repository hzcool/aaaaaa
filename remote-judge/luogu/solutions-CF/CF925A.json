[
    {
        "content": "### \u9898\u53f7\uff1aCF967C/CF925A\n\n### \u9898\u76ee\u5927\u610f\uff1a\n\u6709\u4e00\u5e62\u5927\u697c\u53ef\u4ee5\u89c6\u4e3a $n \\times m$ \u7684\u77e9\u5f62\uff0c\u5728 $ce$ \u5217\u4e0a\u6709\u7535\u68af\u8fde\u901a $1-n$ \u884c\uff0c\u4f7f\u5f97\u4efb\u610f\u4e24\u884c\u4e24\u4e24\u53ef\u8fbe\uff0c\u8fd9\u4e9b\u5217\u4e3a $e[1...n]$ \uff1b\u5728 $cl$ \u5217\u4e0a\u6709\u697c\u68af\u8fde\u901a $1-n$ \u884c\u4f7f\u4efb\u610f\u4e24\u884c\u4e24\u4e24\u53ef\u8fbe\uff0c\u8fd9\u4e9b\u5217\u4e3a $l[1...n]$\uff0c\u8d70\u4e00\u5c42\u697c\u697c\u68af\u82b1\u8d39 $1$ \u7684\u65f6\u95f4\uff0c\u4e58\u5750 $v$ \u5c42\u697c\u7535\u68af\u82b1\u8d39 $1$ \u7684\u65f6\u95f4\uff0c\u73b0\u5728\u6709 $Q$ \u7ec4\u8be2\u95ee\uff0c\u6bcf\u7ec4\u8be2\u95ee\u95ee $(x_a,y_a)$ \u5230 $(x_b,y_b)$ \u9700\u8981\u82b1\u8d39\u591a\u5c11\u65f6\u95f4\u3002\n$2\\le n,m\\le 10^8$ , $1\\le cl+ce \\le n-1$ ,$1\\le v\\le n-1 $,$0\\le cl,ce\\le 10^5,Q\\le 10^5$\n\n\n### \u7b97\u6cd5\uff1a\n\n\u7b80\u5355\u9898\u3002\n\n\u8fd9\u9053\u9898\u9996\u5148\u9700\u8981\u5206\u6790\u7684\u662f\u697c\u68af\u548c\u7535\u68af\u4e24\u4e2a\u64cd\u4f5c\u5206\u522b\u5177\u6709\u4ec0\u4e48\u529f\u80fd\u3002\n\n\u9996\u5148\uff0c\u611f\u6027\u7406\u89e3\u53ef\u4ee5\u53d1\u73b0\u6211\u80fd\u5750\u7535\u68af\u4e00\u5b9a\u4e0d\u4f1a\u8d70\u697c\u68af\u3002\n\n\u4f46\u662f\u8fd9\u91cc\u8fd8\u6709\u4e00\u4e9b\u60c5\u51b5\uff0c\u6bd4\u5982\u50cf\u5982\u679c\u5750\u7535\u68af\u9700\u8981\u5728\u8d77\u70b9\u548c\u7ec8\u70b9\u7684\u4e24\u5c42\u697c\u4e0a\u540c\u5c42\u7ed5\u5f88\u8fdc\u7684\u8def\uff0c\u53cd\u800c\u6ca1\u6709\u8d70\u697c\u68af\u6765\u7684\u76f4\u63a5\uff1b\u6216\u8005\u662f\u4e24\u5c42\u697c\u4e4b\u95f4\u6ca1\u6709\u7535\u68af\u7b49\u7b49\u3002\u8fd9\u6837\u600e\u4e48\u529e\u5462\uff1f\u6700\u66b4\u529b\u4e5f\u662f\u6700\u9760\u8c31\u7684\u60f3\u6cd5\u662f\u5c06\u697c\u68af\u4e0e\u7535\u68af\u7684\u6700\u4f18\u60c5\u51b5\u90fd\u5904\u7406\u51fa\u6765\u7136\u540e\u53d6 $\\min$\uff0c\u90a3\u4f1a\u4e0d\u4f1a\u6f0f\u6389\u8d70\u4e00\u90e8\u5206\u697c\u68af\u518d\u5750\u4e00\u90e8\u5206\u7535\u68af\u8fd9\u79cd\u60c5\u51b5\u5462\uff1f\u7b54\u6848\u662f\u4e0d\u4f1a\uff0c\u56e0\u4e3a\u8fd9\u6837\u8d70\u697c\u68af\u7684\u90e8\u5206\u4e5f\u53ef\u4ee5\u66ff\u6362\u4e3a\u5750\u7535\u68af\uff0c\u7b54\u6848\u4e0d\u52a3\u3002\n\n\u63a5\u4e0b\u6765\u5c31\u975e\u5e38\u597d\u4e86\uff0c\u76f4\u63a5\u4e8c\u5206\u51fa\u7b2c\u4e00\u4e2a $<y_a$ \u548c $>y_b$ \u7684\u697c\u68af/\u7535\u68af\u8ba1\u7b97\u7b54\u6848\u5e76\u5224\u65ad\u6709\u6ca1\u6709\u697c\u68af/\u7535\u68af\u5728 $y_a$ \u4e0e $y_b$ \u4e2d\u95f4\u66f4\u65b0\u7b54\u6848\uff0c\u8fd9\u91cc\u6709\u4e2a\u975e\u5e38\u5bb9\u6613\u5ffd\u7565\u7684\u5730\u65b9\u5c31\u662f\u5f53 $x_a=x_b$ \u65f6\u6211\u4eec\u9700\u8981\u7279\u5224\uff0c\u4e0d\u7136\u8bf8\u5982 $(y_a-l_i)+(y_b-l_i)$ \u8fd9\u79cd\u8bed\u53e5\u4f1a\u5c06\u7b54\u6848\u7b97\u91cd\uff0c\u8fd9\u5c31\u662f\u8d5b\u65f6\u90a3\u4e48\u591a\u4eba fst \u7684\u539f\u56e0\u3002\n\n\u4ee3\u7801\uff1a\n```cpp        #include<bits/stdc++.h>\n    #define MAXN 1000000\n    #define int long long\n    using namespace std;\n    int n,m,Q,cl,ce,v,l[MAXN+5],e[MAXN+5];\n    signed main(){\n    \tscanf(\"%lld%lld%lld%lld%lld\",&n,&m,&cl,&ce,&v);\n    \tfor(int i=1;i<=cl;i++) scanf(\"%lld\",&l[i]);\n    \tfor(int i=1;i<=ce;i++) scanf(\"%lld\",&e[i]);\n    \tscanf(\"%lld\",&Q);\n    \twhile(Q--){\n    \t\tint x1,x2,y1,y2,ret=1e13;\n    \t\tscanf(\"%lld%lld%lld%lld\",&x1,&y1,&x2,&y2);\n    \t\tif(x1==x2){printf(\"%lld\\n\",abs(y1-y2)); continue;}\n    \t\tif(y1>y2) swap(x1,x2),swap(y1,y2);\n    \t\tint u1=lower_bound(l+1,l+cl+1,y1)-l-1;\n    \t\tint u2=upper_bound(l+1,l+cl+1,y2)-l;\n    \t\tif(u1+1<u2) ret=min(ret,abs(x1-x2)+abs(y1-y2));\n    \t\tif(u1) ret=min(ret,(y1-l[u1])+(y2-l[u1])+abs(x2-x1));\n    \t\tif(u2<=cl) ret=min(ret,(l[u2]-y1)+(l[u2]-y2)+abs(x2-x1));\n    \t\tu1=lower_bound(e+1,e+ce+1,y1)-e-1;\n    \t\tu2=upper_bound(e+1,e+ce+1,y2)-e;\n    \t\tif(u1+1<u2) ret=min(ret,(abs(x1-x2)+v-1)/v+(abs(y1-y2)));\n    \t\tif(u1) ret=min(ret,(y1-e[u1])+(y2-e[u1])+(abs(x2-x1)+v-1)/v);\n    \t\tif(u2<=ce) ret=min(ret,(e[u2]-y1)+e[u2]-y2+(abs(x2-x1)+v-1)/v);\n    \t\tprintf(\"%lld\\n\",ret);\n    \t}\n    \treturn 0;\n    }\n\n\n```\n",
        "postTime": 1644422017,
        "uid": 132040,
        "name": "S00021",
        "ccfLevel": 0,
        "title": "CF925A"
    }
]