[
    {
        "content": "\u7b2c3\u9053\u9ed1\u9898\u7eaa\u5ff5\u3002\n\n\u524d\u7f6e\u7b97\u6cd5:\u4e8c\u5206\u56fe\u6700\u5927\u5339\u914d\u3002(\u5982\u679c\u4f60\u5b9e\u5728\u4e0d\u60f3\u5b66,\u8bf7\u8df3\u8fc7\u8fd9\u7bc7\u9898\u89e3\u3002)\u3002\n\n---\n\n\u9996\u5148,\u8d2a\u5fc3,\u6211\u4eec\u5e94\u8be5\u4ece $0$ \u5f00\u59cb,\u80fd\u9009\u5c31\u9009\u3002(\u5982\u679c\u4e0d\u9009\u90a3\u4e48 $mex$ \u5c31\u662f\u8fd9\u4e2a\u503c\u4e86,\u6240\u4ee5\u9009\u66f4\u597d\u3002)\n\n\u9898\u76ee\u4e2d\u6709\u4e00\u53e5\u8bdd\u5f88\u5173\u952e,\u63d0\u793a\u4e86\u7b97\u6cd5(\u91cd\u70b9\u90e8\u5206\u5df2\u52a0\u7c97)\n\n>select **one** student from **each** club.\n\n\u610f\u601d\u662f\u6bcf\u4e2a $club$ \u91cc\u53ea\u80fd\u9009 $1$ \u4e2a\u5b66\u751f\u3002\n\n\u4e8e\u662f\u6211\u4eec\u60f3\u5230\u4e86\u56fe\u7684\u5339\u914d(\u9996\u5148\u786e\u5b9a\u4e86\u793e\u56e2\u4e3a\u4e00\u90e8\u5206\u8282\u70b9)\u3002\n\n\u4f46\u662f\u6211\u4eec\u8981\u60f3\u6210\u4e3a\u4e00\u4e2a\u56fe,\u6211\u4eec\u8fd8\u9700\u8981\u4e00\u90e8\u5206\u8282\u70b9\u3002\n\n~~\u8c14\u5206\u56fe~~\u4e8c\u5206\u56fe\u5339\u914d\u6bd4\u8f83\u7b80\u5355,\u6240\u4ee5\u6211\u4eec\u5c3d\u91cf\u5f80\u4e8c\u5206\u56fe\u5339\u914d\u53bb\u60f3\u3002\n\n\u628a\u5b66\u751f\u4f5c\u4e3a\u8282\u70b9?\u663e\u7136\u4e0d\u59a5,\u9898\u76ee\u8981\u6c42\u7684\u662f $mex$,\u628a\u5b66\u751f\u4f5c\u4e3a\u8282\u70b9\u4e0d\u597d\u6c42 $mex$(\u65e0\u6cd5\u6839\u636e\u5339\u914d\u7b54\u6848\u6c42\u5f97 $mex$)\u3002\n\n\u6211\u4eec\u8981\u53e6\u8f9f\u8e4a\u5f84,\u9009\u62e9\u80fd\u529b\u503c\u4f5c\u4e3a\u53e6\u5916\u4e00\u90e8\u5206\u8282\u70b9\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u679a\u4e3e\u6240\u6709\u80fd\u529b\u503c\u770b\u80fd\u5426\u5339\u914d\u5230\u4e0d\u540c\u7684 $club$\u3002\n\n\u4e0d\u597d\u5220\u8fb9,\u4e8e\u662f\u6211\u4eec\u5c31\u4ece\u7b2c $d$ \u5929\u5f00\u59cb,\u4e0d\u65ad\u52a0\u8fb9\u3002(\u5982\u679c\u4f60\u5b9e\u5728\u60f3\u5220\u8fb9\u6216\u8005\u9898\u76ee\u8981\u6c42\u5f3a\u5236\u5728\u7ebf,\u7528\u90bb\u63a5\u77e9\u9635\u5b58\u56fe\u4e5f\u53ef\u4ee5\u3002)\n\n\u6ce8:\u5982\u679c\u76f4\u63a5\u679a\u4e3e,\u4f1a\u663e\u793a[$\\color{#00a}\\text{Time limit exceeded on test 10}$](https://codeforces.com/contest/1139/submission/72737994)\u3002\n\n\u4f18\u5316:\u7531\u4e8e\u7b54\u6848\u5177\u6709\u5355\u8c03\u6027(**\u4ece\u540e\u5f80\u524d**\u5355\u8c03\u9012\u589e(\u975e\u4e25\u683c)),\u6240\u4ee5\u6211\u4eec\u4e0d\u7528\u6bcf\u6b21\u90fd\u4ece1\u5f00\u59cb\u679a\u4e3e,\u4ece**\u4e0a\u4e00\u6b21\u7684\u7b54\u6848**\u5f00\u59cb\u679a\u4e3e\u5373\u53ef\u3002\n\n\u5355\u8c03\u7406\u7531:\u52a0\u5165\u4e00\u4e2a student \u7ed3\u679c\u80af\u5b9a\u4e0d\u4f1a\u66f4\u5dee,\u56e0\u4e3a\u6211\u4eec\u53ef\u4ee5\u9009\u539f\u6765\u7684\u96c6\u5408\u6216\u9009\u8fd9\u4e2a student,\u7ed3\u679c\u5982\u679c\u66f4\u5dee\u5c31\u53ef\u4ee5\u9009\u539f\u6765\u7684\u96c6\u5408,\u4fdd\u8bc1\u4e86\u7ed3\u679c\u4e0d\u4f1a\u66f4\u5dee\u3002\n\n\u611f\u89c9\u5927\u5bb6\u542c\u4e0d\u61c2,\u5c31\u62ff\u6837\u4f8b\u6765\u8bb2\u4e00\u4e0b\u5427\u3002\n\n\u6837\u4f8b1:\n```cpp\n5 3\n0 1 2 2 0\n1 2 2 3 2\n5\n3\n2\n4\n5\n1\n```\n![](https://cdn.luogu.com.cn/upload/image_hosting/hl55otaj.png)\n\n\u5efa\u8bae\u81ea\u5df1\u753b\u56fe\u7406\u89e3\u3002\n\n\u7ec6\u8282\u90e8\u5206\u90fd\u5728\u4ee3\u7801\u2193\u91cc\u4e86\u3002\n```cpp\n#include<iostream>\nusing namespace std;\nint a[1000005],b[1000005],zyl[1000005],ans[1000005]; //a\u80fd\u529bb\u7ec4zyl\u79bb\u5f00\u3002 \nstruct xyq{ //\u9759\u6001\u90bb\u63a5\u8868(\u94fe\u5f0f\u524d\u5411\u661f)\u3002\n\tint v,next;\n}_[1000005];\nint head[1000005],tot=1;\nvoid add(int u,int v){ //\u52a0\u8fb9\u3002\n\t_[tot].v=v;\n\t_[tot].next=head[u];\n\thead[u]=tot;\n\t++tot;\n}\nint kkksc03[1000005]; //\u5339\u914d\u3002\nbool mark[1000005]; //\u6807\u8bb0\u6570\u7ec4\u3002\u9632\u6b62\u91cd\u590d\u8d70\u8fc7\u4e00\u4e2a\u70b9\u800c\u6b7b\u5faa\u73af\u3002\nbool dfs(int iakioi){ //\u4e8c\u5206\u56fe\u6700\u5927\u5339\u914d\u3002\n\tint i;\n\tfor(i=head[iakioi];i;i=_[i].next){\n\t\tif(!mark[_[i].v]){\n\t\t\tmark[_[i].v]=1;\n\t\t\tif(kkksc03[_[i].v]<0||dfs(kkksc03[_[i].v])){ //\u6ce8:\u662f<0,\u56e0\u4e3a0\u662f\u8868\u793a\u4e3a\u5339\u914d\u52300\u53f7\u8282\u70b9\u3002\n\t\t\t\tkkksc03[_[i].v]=iakioi;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\nint n,m;\nint Main(int l){ //\u4e3b\u51fd\u6570\u526f\u672c\u3002\u5904\u7406\u6bcf\u4e00\u4e2a\u8be2\u95ee\u3002\n//\tfor(i=0;i<=5555;++i){ \u6ce8:\u6211\u7279\u610f\u628a\u8fd9\u4e00\u6bb5\u653e\u4e0a\u6765\u5e76\u6253\u4e0a\u6ce8\u91ca\u7b26\u53f7\u3002\u56e0\u4e3a\u6211\u4eec\u662f\u4ece\u4e0a\u4e00\u6b21\u5f00\u59cb\u679a\u4e3e\u7684,\u8fd9\u91cc\u4e0d\u53ef\u4ee5\u6e05\u7a7a\u3002\n//\t\tkkksc03[i]=-1;\n//\t}\n\tint i,j;\n\tfor(i=l;i<=5001;++i){\n\t\tfor(j=0;j<=m;++j){ //\u4e00\u5b9a\u8bb0\u5f97\u6e05\u7a7a\u6807\u8bb0\u3002\n\t\t\tmark[j]=0;\n\t\t}\n\t\tif(!dfs(i)){ //\u5982\u679c\u5339\u914d\u4e0d\u4e0a\u4e86,\u8bf4\u660e\u8fd9\u4e2a\u80fd\u529b\u503c\u4e0d\u53ef\u80fd\u8fbe\u5230\u3002\n\t\t\treturn i;\n\t\t}\n\t}\n}\nbool hyy[1000005]; //hyy\u6807\u8bb0student\u6709\u6ca1\u6709\u79bb\u5f00\u8fc7\u3002\nint main(){\n\tint d,i,ykb;\n\tfor(i=0;i<=5555;++i){ //\u5728\u4e4b\u524d\u6e05\u7a7a\u3002\n\t\tkkksc03[i]=-1; //\u4e3a\u4ec0\u4e48\u662f-1?\u56e0\u4e3a\u6211\u4eec\u7684\u8282\u70b9\u53ef\u80fd\u662f0\u53f7\u3002\u6240\u4ee5\u53ea\u80fd\u6e05\u7a7a\u4e3a-1\u3002\n\t}\n\tcin>>n>>m;\n\tfor(i=0;i<n;++i){\n\t\tcin>>a[i];\n\t}\n\tfor(i=0;i<n;++i){\n\t\tcin>>b[i];\n\t}\n\tcin>>d;\n\tfor(i=0;i<d;++i){\n\t\tcin>>zyl[i];\n\t\thyy[zyl[i]]=1; //\u79bb\u5f00\u8fc7,\u6807\u8bb0\u3002\n\t}\n\tfor(i=1;i<=n;++i){\n\t\tif(!hyy[i]){ //\u5982\u679c\u8fd9\u4e2astudent\u6839\u672c\u6ca1\u79bb\u5f00\u8fc7,\u6240\u4ee5\u5c31\u52a0\u5165\u3002\n\t\t\tadd(a[i-1],b[i-1]);\n\t\t}\n\t}\n\tans[d]=Main(0); //\u4e3a\u4ec0\u4e48\u8981\u5728\u5faa\u73af\u5916\u5355\u72ec\u8d4b\u503c?\u56e0\u4e3a\u6211\u4eec\u679a\u4e3e\u8303\u56f4\u9700\u8981\u7528\u5230\u4e0a\u4e00\u4e2a\u7b54\u6848\u3002\n\tfor(i=d-1;i>=0;--i){ //\u5012\u5e8f\u679a\u4e3e\n\t\tadd(a[zyl[i]-1],b[zyl[i]-1]); //\u52a0\u5165student\u3002\n\t\tans[i]=Main(ans[i+1]);\n\t}\n\tfor(i=1;i<=d;++i){ //\u8f93\u51fa\u5b58\u597d\u4e86\u7684\u7b54\u6848\u3002\n\t\tcout<<ans[i]<<endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1583809854,
        "uid": 87799,
        "name": "xh39",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1139E \u3010Maximize Mex\u3011"
    },
    {
        "content": "## \u524d\u8a00\n\n\u6211\u53d1\u73b0\u6211\u6709\u9053\u53eb[[SCOI2010]\u8fde\u7eed\u653b\u51fb\u6e38\u620f](https://www.luogu.org/problemnew/show/P1640)\u7684\u9898\u767d\u5199\u4e86..\u4e8b\u5b9e\u4e0a\u5927\u5bb6\u5199\u5b8c\u90a3\u9053\u9898\u5c31\u53ef\u80fd\u6709\u8fd9\u9053\u9898\u7684\u601d\u8def\u4e86\u3002\n\n[**\u535a\u5ba2\u4f20\u9001\u95e8**](http://www.wjyyy.top/3419.html)\n\n## \u9898\u610f\n\n\u6709 $n$ \u4e2a\u5b66\u751f\uff0c$m$ \u4e2a\u793e\u56e2\u3002\u6bcf\u4e2a\u5b66\u751f\u5c5e\u4e8e\u4e00\u4e2a\u793e\u56e2\u3002\u5728\u63a5\u4e0b\u6765\u7684 $d$ \u5929\u91cc\uff0c\u6bcf\u5929\u4f1a\u6709\u4e00\u4e2a\u4eba\u9000\u56e2\u3002\u6bcf\u5929\u4ece\u6bcf\u4e2a\u793e\u56e2\u4e2d\u6700\u591a\u9009\u51fa\u4e00\u4e2a\u4eba\uff0c\u4f7f\u5f97\u9009\u51fa\u7684\u4eba\u7684\u80fd\u529b\u503c\u96c6\u5408 $\\{p_i\\}$ \u7684 $\\mathrm{mex}$ \u503c\u6700\u5927\u3002\u6c42\u51fa\u6bcf\u5929\u7684\u6700\u5927 $\\mathrm{mex}$ \u503c\u3002\n\n## \u9898\u89e3\n\n\u53ef\u80fd\u5efa\u7acb\u4e8c\u5206\u56fe\u6a21\u578b\u662f\u6c42 $\\mathrm{mex}$ \u7684\u4e00\u4e2a\u5957\u8def/\u6280\u5de7\u5427\u3002\u53cd\u6b63\u662f\u5fd8\u4e86\u2026\u4f46\u662f\u505a\u9898\u7684\u65f6\u5019\u4e5f\u4e0d\u77e5\u9053\u54ea\u4e9b\u662f\u7ecf\u5178\uff0c\u5e72\u8106\u4ee5\u540e\u5168\u90e8\u597d\u597d\u843d\u5b9e\u3002\n\n\u56e0\u4e3a\u6bcf\u4e2a\u80fd\u529b\u503c**\u81f3\u5c11**\u88ab\u4e00\u4e2a\u793e\u56e2\u63d0\u4f9b\uff0c\u800c\u4e00\u4e2a\u793e\u56e2**\u6700\u591a**\u63d0\u4f9b\u4e00\u4e2a\u80fd\u529b\u503c\uff0c\u7531\u6b64\u6784\u9020\u4e8c\u5206\u56fe\u3002\u5de6\u4fa7\u662f\u80fd\u529b\u503c\uff0c\u53f3\u4fa7\u662f\u793e\u56e2\u3002\u5f53\u5b58\u5728\u4e00\u4e2a\u5b66\u751f\u80fd\u529b\u503c\u4e3a $p_i$\uff0c\u793e\u56e2\u4e3a $c_i$ \u65f6\uff0c\u4ece $p_i$ \u5411 $c_i$ \u8fde\u8fb9\u3002\n\n\u4f46\u662f\u5b66\u751f\u662f\u5728\u52a8\u6001\u53d8\u5316\u7684\uff0c\u800c\u4e14\u53ea\u4f1a\u51cf\u5c11\u4eba\uff0c\u7531\u6b64\u6bcf\u6b21\u8be2\u95ee\u7684\u7b54\u6848\u4e00\u5b9a\u975e\u4e25\u683c\u9012\u51cf\u3002\n\n\u4f46\u662f\u4e8c\u5206\u56fe\u6700\u5927\u5339\u914d\u7684\u5308\u7259\u5229\u7b97\u6cd5\u662f\u4e0d\u652f\u6301\u5220\u8fb9\u7684\uff0c\u800c\u4e00\u6b21\u5339\u914d\uff08\u6307\u5de6\u8fb9\u7684\u4e00\u4e2a\u70b9\uff09\u7684\u590d\u6742\u5ea6\u5c31\u662f $O(m)$\uff0c\u6bcf\u6b21\u8fdb\u884c\u590d\u6742\u5ea6\u9ad8\u8fbe $O(nmd)$\uff0c\u663e\u7136\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684\u3002\n\n\u8003\u8651\u53cd\u8fc7\u6765\uff0c\u4ece\u6700\u7ec8\u72b6\u6001\u52a0\u5b66\u751f\uff0c\u6bcf\u6b21\u7684\u7b54\u6848\u4e00\u5b9a\u4e0d\u4f1a\u51cf\u5c11\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u5047\u8bbe\u52a0\u5b8c\u524d $i$ \u4e2a\u5b66\u751f\u540e\uff0c\u6b64\u65f6\u7684 $\\mathrm{mex}$ \u662f $t$\u3002\u5728\u4e8c\u5206\u56fe\u5de6\u4fa7 `Find(t)`\uff0c\u6b64\u65f6\u5982\u679c\u66ff\u6362\uff0c\u53ea\u4f1a\u66ff\u6362\u6bd4 $t$ \u5c0f\u7684\u70b9\uff0c\u4e0d\u4f1a\u9020\u6210\u66f4\u52a3\u7b54\u6848\uff1b\u6700\u7ec8\u4f1a\u627e\u5230\u4e00\u4e2a\u6ca1\u6709\u5339\u914d\u8fc7\u7684\u793e\u56e2\uff0c\u4ee4\u7b54\u6848 $+1$\u3002\n\n\u91cd\u65b0\u52a0\u8fb9\u4e0d\u4f1a\u5f71\u54cd\u539f\u6765\u7b97\u597d\u7684\u7b54\u6848\u3002\u6700\u7ec8\u53cd\u5e8f\u8f93\u51fa\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(nm+qm)$\u3002\n\n## Code\uff1a\n\n\u5199\u5308\u7259\u5229\u4e00\u5b9a\u8981\u5728\u6bcf\u6b21 `Find()` \u51fd\u6570\u5916\u8c03\u7528 `Find()` \u65f6\u6e05\u7a7a `used[]` \u554a\u554a\u554a\u554a\u554a\u554a~~\u5426\u5219\u4f1a FST~~\n\n```cpp\n#include<cstdio>\n#include<cstring>\nstruct edge\n{\n    int n,nxt;\n    edge(int n,int nxt)\n    {\n        this->n=n;\n        this->nxt=nxt;\n    }\n    edge(){}\n}e[5050];\nint head[5050],ecnt=-1;\nvoid add(int from,int to)\n{\n    e[++ecnt]=edge(to,head[from]);\n    head[from]=ecnt;\n}\nint s[5050];\nbool used[5050];\nbool Find(int x)\n{\n    if(used[x])\n        return false;\n    used[x]=1;\n    for(int i=head[x];~i;i=e[i].nxt)\n        if(s[e[i].n]==-1||Find(s[e[i].n]))\n        {\n            s[e[i].n]=x;\n            return true;\n        }\n    return false;\n}\nint a[5050],b[5050],c[5050];\nint ans[5050];\nint main()\n{\n    memset(head,-1,sizeof(head));\n    memset(s,-1,sizeof(s));\n    int n,m,q;\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;++i)\n        scanf(\"%d\",&a[i]);\n    for(int i=1;i<=n;++i)\n        scanf(\"%d\",&b[i]);\n    scanf(\"%d\",&q);\n    for(int i=1;i<=q;++i)\n    {\n        scanf(\"%d\",&c[i]);\n        used[c[i]]=1;\n    }\n    for(int i=1;i<=n;++i)\n        if(!used[i])\n            add(a[i],b[i]);\n    int t=0;\n    for(int i=q;i>=1;--i)\n    {\n        memset(used,0,sizeof(used));\n        while(Find(t))\n        {\n            ++t;\n            memset(used,0,sizeof(used));\n        }\n        ans[i]=t;\n        add(a[c[i]],b[c[i]]);\n    }\n    for(int i=1;i<=q;++i)\n        printf(\"%d\\n\",ans[i]);\n    return 0;\n}\n```\n\n",
        "postTime": 1553694896,
        "uid": 63539,
        "name": "wjyyy",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1139E \u3010Maximize Mex\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1139E)\n\n\u7ffb\u8bd1\u4e2d\u6709\u4e00\u53e5\u8bdd\uff1a\u6821\u957f\u5c06\u4f1a\u4ece\u6bcf\u4e2a\u793e\u56e2\u4e2d**\u5404**\u9009\u51fa\u4e00\u4e2a\u4eba\u3002\n\n\u5c31\u662f\u4e00\u4e9b\u4eba\u88ab\u5206\u4e3a\u4e00\u7ec4\uff0c\u4ece\u6bcf\u7ec4\u4e2d\u9009\u4e00\u4e9b\u4eba\u51fa\u6765\u3002\n\n\u8fd9\u5c31\u5f88\u5bb9\u6613\u60f3\u5230\u901a\u8fc7\u4e8c\u5206\u56fe\u7684\u5339\u914d\u3002\n\n$\\operatorname{mex}$ \u8fd0\u7b97\u6709\u4e00\u4e2a\u663e\u800c\u6613\u89c1\u7684\u8d2a\u5fc3\uff1a\u679a\u4e3e\u6bcf\u4e2a\u503c\u80fd\u5426\u88ab\u5339\u914d\uff0c\u7b2c\u4e00\u4e2a\u627e\u4e0d\u5230\u7684\u503c\u5c31\u662f\u7b54\u6848\u3002\n\n\u7531\u4e8e $\\operatorname{mex}$ \u8fd0\u7b97\u7684\u503c\u57df\u4e0e $n$ \u540c\u7ea7\uff0c\u5c31\u53ef\u4ee5\u4ece\u8fd9\u65b9\u9762\u5165\u624b\u3002\n\n\u6211\u4eec\u4ece\u6bcf\u4e2a\u80fd\u529b\u503c $p_i$ \u5411\u793e\u56e2 $c_i$ \u5efa\u8fb9\u3002\n\n\u5047\u5982\u679a\u4e3e\u7684\u503c\u4e3a $i$\uff0c\u4e0e\u589e\u5e7f\u8def\u7b97\u6cd5\u76f8\u4f3c\uff0c\u5982\u679c $i$ \u80fd\u518d\u627e\u5230\u5339\u914d\uff0c\u90a3\u4e48 $\\operatorname{mex}$ \u7684\u503c\u4e00\u5b9a\u4f1a\u5927\u4e8e $i$\uff0c\u5426\u5219\u5c31\u627e\u5230\u4e86 $\\operatorname{mex}$ \u8fd0\u7b97\u7684\u7b54\u6848\u3002\n\n\u4f46\u5982\u679c\u662f\u8fd9\u6837\u7684\u8bdd\uff0c\u5916\u5c42\u9700\u8981\u679a\u4e3e\u5230 $d$\uff0c\u5185\u5c42\u8981\u679a\u4e3e\u5230\u6700\u5927\u503c $W$\uff0c\u518d\u52a0\u4e0a\u5308\u7259\u5229\u7b97\u6cd5\u7684\u5355\u6b21\u7684\u65f6\u95f4\u590d\u6742\u5ea6 ${\\mathrm{O}}(m)$\uff0c\u5c31\u4f1a\u4f7f\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u9ad8\u8fbe ${\\mathrm{O}}(dmW)$\uff0c\u5f53\u7136\u4f1a TLE\u3002\n\n\u8003\u8651\u4f18\u5316\u3002\n\n\u7a81\u7136\u611f\u89c9\u4e0e[\u8fd9\u9053\u9898](https://www.luogu.com.cn/problem/P1640)\u5f88\u50cf\uff0c\u90fd\u662f\u679a\u4e3e\u503c\u57df\uff0c\u7136\u540e\u5339\u914d\u3002\n\n\u4e8e\u662f\u5c31\u60f3\u5230\u4e86\u4e00\u4e2a\u7384\u5b66\u4f18\u5316\uff1a\u7528\u65f6\u95f4\u6233\u6765\u4f18\u5316\u5e38\u6570\u3002\n\n\u5728 CF \u4e0a\u4ea4\u4e86\u4e00\u6b21\uff0c\u5e94\u8be5\u662f\u6570\u636e\u592a\u6c34\uff0c\u8fd8\u8fc7\u4e86\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nconst int N = 5e3, inf = 1e9 + 7;\nint n, m, now, D, T;\nint c[N + 5], p[N + 5], d[N + 5];\nint mat[N + 5], vis[N + 5];\nint cnt, head[N + 5];\nstruct Edge {\n\tint v, ti, nxt;\n} e[N + 5];\nint read() {\n\tint ret = 0, sgn = 0;\n\tchar ch = getchar();\n\twhile (!isdigit(ch)) sgn |= ch == '-', ch = getchar();\n\twhile (isdigit(ch)) ret = ret * 10 + ch - '0', ch = getchar();\n\treturn sgn? -ret: ret;\n}\nvoid add(int u, int v, int ti) {\n\te[++cnt].nxt = head[u];\n\te[cnt].v = v;\n\te[cnt].ti = ti;\n\thead[u] = cnt;\n}\nbool dfs(int x) {\n\tfor (int i = head[x]; i; i = e[i].nxt)\n\t\tif (e[i].ti > T && vis[e[i].v] != now) {\n\t\t\tvis[e[i].v] = now;\n\t\t\tif (mat[e[i].v] == -1 || dfs(mat[e[i].v])) { mat[e[i].v] = x; return 1; }\n\t\t}\n\treturn 0;\n}\nint main() {\n\tn = read(), m = read();\n\tint W = 0;\n\tfor (int i = 1; i <= n; i++) p[i] = read(), W = max(W, p[i]);\n\tfor (int i = 1; i <= n; i++) c[i] = read();\n\tD = read();\n\tfor (int i = 0; i <= n; i++) d[i] = inf; // \u521d\u59cb\u5316\u5230 n\u3002\n\tfor (int i = 1; i <= D; i++) d[read()] = i;\n\tfor (int i = 1; i <= n; i++) add(p[i], c[i], d[i]);\n\tfor (int i = 1; i <= D; i++) {\n\t\tT = i;\n\t\tfor (int j = 0; j <= m; j++) vis[j] = mat[j] = -1; // mat[j] \u7684\u503c\u53ef\u80fd\u4e3a 0 (p[i] == 0)\n\t\tbool flag = 0;\n\t\tfor (int j = 0; j <= W; j++) {\n\t\t\tnow = j;\n\t\t\tif (!dfs(j)) {\n\t\t\t\tprintf(\"%d\\n\", j);\n\t\t\t\tflag = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!flag) printf(\"%d\\n\", W + 1);\n\t}\n\treturn 0;\n}\n```\n\n\n\u8fd9\u6837\u5361\u4e00\u4e0b\u5e94\u8be5\u8fd8\u662f\u4e0d\u80fd\u8fc7\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u8fd8\u662f\u6ca1\u6709\u53d8\u3002\n\n\u53d1\u73b0\u7b54\u6848\u80af\u5b9a\u662f**\u5355\u8c03\u4e0d\u589e**\u7684\uff0c\u4e8e\u662f\u5012\u5e8f\u679a\u4e3e\uff0c\u5c31\u7528\u4e00\u4e2a $ans$ \u6570\u7ec4\u8bb0\u5f55\u4e00\u4e0b\u7b54\u6848\uff0c\u8f93\u51fa\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 ${\\mathrm{O}}(md)$\n\n[\u8bc4\u6d4b\u8bb0\u5f55](https://www.luogu.com.cn/record/101937678)",
        "postTime": 1669729159,
        "uid": 678877,
        "name": "Pengzt",
        "ccfLevel": 0,
        "title": "CF1139E Maximize Mex \u9898\u89e3"
    },
    {
        "content": "\u9898\u76ee\u5730\u5740\uff1a[CF1139E Maximize Mex](https://www.luogu.org/problemnew/show/CF1139E)\n\n\u8fd9\u5176\u5b9e\u662f\u4e00\u4e2a\u4e8c\u5206\u56fe\u5339\u914d\u5308\u7259\u5229\u7b97\u6cd5\u7684\u5de7\u5999\u8fd0\u7528\n\n\u8003\u8651\u5012\u5e8f\u56de\u7b54\n\n\u5219\u7531\u539f\u6765\u7684\u5220\u9664\u6539\u4e3a\u6dfb\u52a0\n\n\u628a **potential** \u503c\u4f5c\u4e3a\u5de6\u90e8\uff0c\u5219\u4e00\u5171\u6709\u7f16\u53f7\u4e3a $0~m$ \u5171 $m+1$ \u4e2a\u5de6\u90e8\u70b9\n\n\u628a **club** \u4f5c\u4e3a\u53f3\u90e8\u70b9\n\n\u5bf9\u6bcf\u4e00\u4e2a\u5f53\u524d\u5b58\u5728\u7684\u5bf9\u5e94\u5173\u7cfb\u6dfb\u52a0\u4e00\u6761\u5bf9\u5e94\u7684\u65e0\u5411\u8fb9\n\n\u6bcf\u6b21\u56de\u7b54\u76f8\u5f53\u4e8e\u4ece\u5c0f\u5230\u5927\u5bf9\u6bcf\u4e00\u4e2a\u5de6\u90e8\u70b9\u8fdb\u884c\u5339\u914d\uff0c\u76f4\u5230\u65e0\u6cd5\u5339\u914d\uff0c\u6b64\u65f6\u65e0\u6cd5\u5339\u914d\u7684\u5373\u4e3a\u5f53\u524d\u7b54\u6848\n\n\u4e4b\u540e\u6bcf\u6dfb\u52a0\u4e00\u6761\u8fb9\u5728\u4e0a\u6b21\u5339\u914d\u540e\u7684\u56fe\u4e0a\u7ee7\u7eed\u5339\u914d\u5373\u53ef\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 1e4 + 6;\nint n, m, d, a[N], b[N], c[N], ans[N], v[N], w[N], f[N];\nvector<int> e[N];\n\nbool dfs(int x) {\n    for (unsigned int i = 0; i < e[x].size(); i++) {\n        int y = e[x][i];\n        if (v[y]) continue;\n        v[y] = 1;\n        if (!~f[y] || dfs(f[y])) {\n            f[y] = x;\n            return 1;\n        }\n    }\n    return 0;\n}\n\nint main() {\n    cin >> n >> m;\n    for (int i = 1; i <= n; i++) scanf(\"%d\", &a[i]);\n    for (int i = 1; i <= n; i++) scanf(\"%d\", &b[i]);\n    cin >> d;\n    for (int i = 1; i <= d; i++) scanf(\"%d\", &c[i]);\n    for (int i = 1; i <= d; i++) w[c[i]] = 1;\n    for (int i = 1; i <= n; i++)\n        if (!w[i]) {\n            if (a[i] > m) continue;\n            e[a[i]].push_back(b[i] + m);\n            e[b[i]+m].push_back(a[i]);\n        }\n    memset(f, -1, sizeof(f));\n    for (int i = d; i; i--) {\n        for (int j = ans[i+1]; j <= m; j++) {\n            memset(v, 0, sizeof(v));\n            if (!dfs(j)) {\n                ans[i] = j;\n                break;\n            }\n        }\n        if (a[c[i]] > m) continue;\n        e[a[c[i]]].push_back(b[c[i]] + m);\n        e[b[c[i]]+m].push_back(a[c[i]]);\n    }\n    for (int i = 1; i <= d; i++) printf(\"%d\\n\", ans[i]);\n    return 0;\n}\n```",
        "postTime": 1553503337,
        "uid": 100544,
        "name": "xht",
        "ccfLevel": 9,
        "title": "CF1139E Maximize Mex"
    },
    {
        "content": "## Description\n$n$ \u4e2a\u5b66\u751f\uff0c $m$ \u4e2a\u793e\u56e2\u3002\u6bcf\u4e2a\u5b66\u751f\u6709\u4e00\u4e2a\u80fd\u529b\u503c\uff0c\u4e14\u4ec5\u5c5e\u4e8e\u4e00\u4e2a\u793e\u56e2\u3002\u8fd9 $d$ \u5929\u5185\uff0c\u6bcf\u5929\u4ece $m$ \u4e2a\u793e\u56e2\u4e2d\u9009\u4eba\uff0c\u4f7f\u5f97\u9009\u51fa\u7684\u4eba\u7684\u80fd\u529b\u503c\u7684 $\\text{mex}$ \u6700\u5927\u3002\u6bcf\u5929\u4f1a\u6709\u4e00\u4e2a\u4eba\u5728\u9009\u4eba\u4e4b\u524d\u9000\u56e2\u3002\n\n$d,m \\leq n \\leq 5000$\n## Solution\n\u5de7\u5999\u5efa\u56fe\u9898\u3002\n\n* \u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u5f88\u663e\u7136\u7684\u77e5\u9053\u8981\u60f3\u4f7f\u5f97 $\\text{mex}$ \u503c\u6700\u5927\uff0c\u6211\u4eec\u5e94\u8be5\u8d2a\u5fc3\u5730\u5148\u9009\u80fd\u529b\u503c\u5c0f\u7684\u4eba\uff0c\u76f4\u5230\u6709\u4e00\u4e2a\u80fd\u529b\u503c\u4e0d\u80fd\u88ab\u8868\u793a\u3002\n\n* \u518d\u6b21\uff0c\u6211\u4eec\u8003\u8651\u4e00\u4e2a\u793e\u56e2\u53ea\u80fd\u9009\u4e00\u4e2a\u4eba\u8fdb\u884c\u5339\u914d\u3001\u4e00\u4e2a\u4eba\u548c\u4e00\u4e2a\u80fd\u529b\u503c\u76f8\u5bf9\u5e94\u3002\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u4e2a\u9898\u62bd\u8c61\u6210\u4e00\u4e2a\u4e8c\u5206\u56fe\u7684\u95ee\u9898\uff1a\u5c06\u80fd\u529b\u503c\u5f53\u6210\u5de6\u90e8\u70b9\uff0c\u56e2\u4f53\u5f53\u6210\u53f3\u90e8\u70b9\u3002\u5c06\u4e00\u4e2a\u793e\u56e2\u91cc\u6bcf\u4e2a\u4eba\u7684\u80fd\u529b\u503c\u548c\u8fd9\u4e2a\u793e\u56e2\u8fde\u8fb9\uff0c\u8dd1\u6700\u5927\u56fe\u5339\u914d\u5373\u53ef\u3002\n\n* \u5230\u4e86\u8fd9\u4e00\u6b65\uff0c\u6211\u4eec\u53d1\u73b0\u8fd9\u4e48\u505a\u7684\u590d\u6742\u5ea6\u662f $O(nmd)$ \u7684\uff0c\u4e0d\u8db3\u4ee5\u89e3\u51b3\u6b64\u9898\uff0c\u9700\u8981\u8fdb\u4e00\u6b65\u4f18\u5316\u3002\u6211\u4eec\u53d1\u73b0\uff0c\u591a\u4e00\u4e2a\u4eba\u7684\u60c5\u51b5\u80af\u5b9a\u4e0d\u6bd4\u5c11\u4e00\u4e2a\u4eba\u7684\u60c5\u51b5\u5dee\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u60f3\u51fa\u4ece\u6700\u540e\u4e00\u5929\u5012\u5e8f\u8003\u8651\uff0c\u4ece\u4eba\u5458\u9000\u51fa\u8f6c\u5316\u6210\u4eba\u5458\u52a0\u5165\uff0c\u8fd9\u6837\u4ee5\u540e\u679a\u4e3e\u80fd\u529b\u503c\u7684\u65f6\u5019\u5c31\u4e0d\u9700\u8981\u6bcf\u6b21\u4ece $0$ \u5f00\u59cb\u679a\u4e3e\u4e86\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u4e3a $O(dm)$ \uff0c\u53ef\u4ee5\u901a\u8fc7\u3002\n\n\u9700\u8981\u6ce8\u610f\u7684\u4e00\u4e9b\u5751\u70b9\uff1a\n\n\uff081\uff09\uff1a\u56e0\u4e3a $0$ \u4e5f\u53ef\u80fd\u662f\u7b54\u6848\uff0c\u6240\u4ee5 $match$ \u6570\u7ec4\u6bcf\u6b21\u8981\u521d\u59cb\u5316\u6210 $-1$ \u800c\u975e $0$ \uff1b\n\n\uff082\uff09\uff1a\u9898\u76ee\u7ed9\u51fa\u7684\u662f\u5b66\u751f\u5148\u79bb\u5f00\u793e\u56e2\u6821\u957f\u518d\u9009\u4eba\uff0c\u6240\u4ee5\u5012\u8fc7\u6765\u7684\u8bdd\u5c31\u662f\u5148\u9009\u4eba\u518d\u628a\u5b66\u751f\u52a0\u5165\u8fdb\u53bb\u3002\n\n## Code\n```cpp\n#include<bits/stdc++.h>\n//#define int long long\n#define ll long long\n#define next nxt\n#define re register\n#define il inline\nconst int N = 5e4 + 5;\nusing namespace std;\nint max(int x,int y){return x > y ? x : y;}\nint min(int x,int y){return x < y ? x : y;}\n\nint match[N],vis[N],k[N],use[N];\nint n,m,d,ans;\nstack <int> st;\nstruct Node{\n\tint p,c;\n}a[N];\nstruct node{\n\tint u,v,next;\n}edge[N<<1]; int head[N],num_edge;\n\n\nil int read()\n{\n\tint f=0,s=0;\n\tchar ch=getchar();\n\tfor(;!isdigit(ch);ch=getchar()) f |= (ch=='-');\n\tfor(; isdigit(ch);ch=getchar()) s = (s<<1) + (s<<3) + (ch^48);\n\treturn f ? -s : s;\n}\n\nil void add(int from,int to)\n{\n\tedge[++num_edge] = (node){from,to,head[from]};\n\thead[from] = num_edge;\n}\n\nil bool dfs(int x)\n{\n\tfor(re int i=head[x];i;i=edge[i].next)\n\t{\n\t\tint y = edge[i].v;\n\t\tif(vis[y]) continue;\n\t\tvis[y] = 1;\n\t\tif(match[y] == -1 || dfs(match[y]))\n\t\t{\n\t\t\tmatch[y] = x;\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nil void Main(int id)\n{\n\tmemset(vis , 0 , sizeof vis);\n\twhile(dfs(ans)) { ans++; memset(vis , 0 , sizeof vis);}\n\tst.push(ans);\n\tadd(a[k[id]].p,a[k[id]].c);\n}\n\nsigned main()\n{\n\tmemset(match , -1 , sizeof match);\n\tn = read() , m = read();\n\tfor(re int i=1;i<=n;i++) a[i].p = read();\n\tfor(re int i=1;i<=n;i++) a[i].c = read();\n\td = read();\n\tfor(re int i=1;i<=d;i++) k[i] = read() , use[k[i]] = 1;\n\tfor(re int i=1;i<=n;i++) if(!use[i]) add(a[i].p,a[i].c);\n\tfor(re int i=d;i>=1;i--) Main(i);\n\twhile(!st.empty()) cout << st.top() << \"\\n\" , st.pop();\n\treturn 0;\n}\n```\n\n\u6b64\u5916\uff0c\u7531\u4e8e\u6b64\u9898\u6570\u636e\u8fc7\u6c34\uff0c\u76f4\u63a5\u6b63\u7740\u6765\uff0c\u7ecf\u8fc7\u4e00\u4e9b\u5e38\u6570\u4f18\u5316\u4e5f\u80fd\u8fc7\u3002[\u4ee3\u7801\u5728\u8fd9](https://www.luogu.com.cn/paste/zc70gl5c)\uff0c\u4ec5\u4f9b\u53c2\u8003\u3002",
        "postTime": 1678274744,
        "uid": 231543,
        "name": "bloodstalk",
        "ccfLevel": 4,
        "title": "CF1139E Maximize Mex \u9898\u89e3"
    },
    {
        "content": "## \u601d\u8def\u5206\u4eab\n\n\u6211\u4eec\u8003\u8651\uff0c\u4e00\u4e2a\u793e\u56e2\u4ec5\u80fd\u6d3e\u51fa\u4e00\u540d\u5b66\u751f\uff0c\u4e3a\u4e86\u8ba9\u9898\u76ee\u66f4\u52a0\u597d\u505a\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u518d\u52a0\u5165\u4e00\u4e2a\u9650\u5236\u6761\u4ef6\uff0c\u6211\u4eec\u9650\u5236\u6bcf\u4e2a\u80fd\u529b\u503c\u4ec5\u80fd\u6d3e\u51fa\u4e00\u540d\u5b66\u751f\u3002\n\n\u90a3\u4e48\u4e3a\u4ec0\u4e48\u8981\u52a0\u5165\u8fd9\u4e00\u4e2a\u9650\u5236\u6761\u4ef6\u5462\uff1f\n\n\u9996\u5148\u5bf9\u6b63\u786e\u6027\u8003\u8651\uff0c\u4e00\u4e2a\u80fd\u529b\u503c\u6d3e\u51fa\u66f4\u591a\u7684\u5b66\u751f\u5176\u5b9e\u662f\u5bf9\u7b54\u6848\u6ca1\u6709\u5f71\u54cd\u7684\uff0c\u6240\u4ee5\u5728\u6b63\u786e\u6027\u65b9\u9762\u6ca1\u6709\u95ee\u9898\u3002\n\n\u90a3\u4e48\u518d\u8003\u8651\u4e3a\u4ec0\u4e48\u8981\u52a0\u4e0a\u8fd9\u4e2a\u9650\u5236\u3002\u601d\u8003\uff0c\u4e00\u4e2a\u793e\u56e2\u4ec5\u80fd\u6d3e\u51fa\u4e00\u540d\u5b66\u751f\uff0c\u6bcf\u4e2a\u80fd\u529b\u503c\u9876\u591a\u6709\u4e00\u540d\u5b66\u751f\uff0c\u4e00\u540d\u5b66\u751f\u6709\u4e00\u4e2a\u80fd\u529b\u503c\uff0c\u5c5e\u4e8e\u4e00\u4e2a\u793e\u56e2\u3002\n\n\u4f60\u60f3\u5230\u4e86\u4ec0\u4e48\uff1f\u4e8c\u5206\u56fe\u7684\u6700\u5927\u5339\u914d\uff01\n\n\u6211\u4eec\u5c06\u6bcf\u4e2a\u5b66\u751f $i$ \u770b\u4f5c\u4e00\u6761\u4ece\u5de6\u534a\u8fb9\u56fe\u7684 $p_i$ \u8fde\u5411\u53f3\u534a\u8fb9\u56fe\u7684 $c_i$ \u7684\u8fb9\uff0c\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6743\u503c\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u5339\u914d\uff0c\u82e5\u5339\u914d\u6210\u529f\uff0c\u5219\u8fdb\u5165\u4e0b\u4e00\u4e2a\u6743\u503c\uff0c\u82e5\u4e0d\u6210\u529f\uff0c\u5219\u8fd9\u4e2a\u6743\u503c\u5c31\u662f\u8fd9\u4e2a\u72b6\u6001\u7684\u7b54\u6848\u3002\n\n\u95ee\u9898\u6765\u4e86\uff0c\u8fd9\u6837\u9700\u8981\u8dd1 $d$ \u6b21\u5308\u7259\u5229\uff0c\u4f1a\u8d85\u65f6\u3002\n\n\u6240\u4ee5\u6211\u4eec\u600e\u4e48\u529e\u5462\uff1f\n\n\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5012\u8bb8\u5904\u7406\uff0c\u56e0\u4e3a\u8fd9\u6837\u5c31\u53ef\u4ee5\u53ea\u6709\u589e\u52a0\u64cd\u4f5c\u800c\u6ca1\u6709\u5220\u9664\u64cd\u4f5c\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ece\u4e0a\u6b21\u7684\u5339\u914d\u5f00\u59cb\u7ee7\u7eed\u5339\u914d\u3002\n\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u4e86\u3002\n\n## \u4ee3\u7801\u5c55\u793a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=50100,maxm=maxn;\nint n,m,d,vis[maxn],pd[maxn],ans[maxn];\nint cnt,bg[maxn],ne[maxm],to[maxm];\nint p[maxn],c[maxn],k[maxn];\nvoid add(int x,int y){\n\tcnt++;\n\tne[cnt]=bg[x];\n\tto[cnt]=y;\n\tbg[x]=cnt;\n}\nbool dfs(int x){\n\tfor(int i=bg[x];i;i=ne[i]){\n\t\tint y=to[i];\n\t\tif(vis[y]==0){\n\t\t\tvis[y]=1;\n\t\t\tif(pd[y]==-1||dfs(pd[y])){\n\t\t\t\tpd[y]=x;\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\nint main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%d\",&p[i]);\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%d\",&c[i]);\n\t}\n\tcin>>d;\n\tfor(int i=1;i<=d;i++){\n\t\tscanf(\"%d\",&k[i]);\n\t\tvis[k[i]]=1;\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tif(vis[i]==0){\n\t\t\tadd(p[i],c[i]);\n\t\t}\n\t}\n\tmemset(pd,-1,sizeof(pd));\n\tint sum=0;\n\tfor(int i=d;i>=1;i--){\n\t\tmemset(vis,0,sizeof(vis));\n\t\twhile(dfs(sum)==1){\n\t\t\tsum++;\n\t\t\tmemset(vis,0,sizeof(vis));\n\t\t}\n\t\tans[i]=sum;\n\t\tadd(p[k[i]],c[k[i]]);\n\t}\n\tfor(int i=1;i<=d;i++){\n\t\tprintf(\"%d\\n\",ans[i]);\n\t}\n\treturn 0;\n}\n\n```\n",
        "postTime": 1604106462,
        "uid": 90176,
        "name": "xixiup",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1139E \u3010Maximize Mex\u3011"
    },
    {
        "content": "[CF1139E Maximize Mex](https://www.luogu.com.cn/problem/CF1139E)\u89e3\u9898\u62a5\u544a\uff1a\n\n[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://zybuluo.com/xiaoziyao/note/1750106)\n\n## \u9898\u610f\n\n- $n$\u540d\u5b66\u751f\uff0c$m$\u4e2a\u793e\u56e2\uff0c\u6bcf\u4e2a\u5b66\u751f$i$\u5c5e\u4e8e\u793e\u56e2$c_i$\uff0c\u80fd\u529b\u503c\u4e3a$p_i$\uff1b\n- \u5b66\u6821\u6709\u4e00\u4e2a\u4e3a\u671f\u4e3a$d$\u5929\u7684\u6d3b\u52a8\uff0c\u7b2c$i$\u5929\uff0c\u5b66\u751f$k_i$\u4f1a\u63a8\u51fa\u793e\u56e2\uff1b\n- \u5b9a\u4e49\u4e00\u4e2a\u961f\u4f0d\u7684\u80fd\u529b\u503c\u4e3a\u6240\u6709\u5b66\u751f\u7684\u80fd\u529b\u503c\u7684$mex$\uff0c\u5373\u6240\u6709\u5b66\u751f\u80fd\u529b\u503c\u7ec4\u6210\u7684\u96c6\u5408\u4e2d\u6ca1\u6709\u51fa\u73b0\u7684\u6700\u5c0f\u975e\u8d1f\u6574\u6570\uff1b\n- \u6bcf\u4e00\u5929\u5b66\u6821\u90fd\u8981\u4ece\u5404\u793e\u56e2\u9009\u51fa\u4e00\u4e2a\u4eba\u7ec4\u6210\u961f\u4f0d\u4f7f\u961f\u4f0d\u7684\u80fd\u529b\u503c\u6700\u5927\uff0c\u6c42\u6bcf\u4e00\u5929\u7684\u80fd\u529b\u503c\u3002\n- \u6570\u636e\u8303\u56f4\uff1a$1\\leqslant n,m\\leqslant 5\\cdot 10^3,0\\leqslant p_i\\leqslant 5\\cdot 10^3$\u3002\n\n## \u5206\u6790\n\n\u8003\u8651\u5c06\u6bcf\u4e2a\u793e\u56e2\u62bd\u8c61\u4e3a\u4e00\u4e2a\u70b9\uff0c\u6bcf\u4e2a\u80fd\u529b\u503c\u62bd\u8c61\u4e3a\u4e00\u4e2a\u70b9\uff0c\u793e\u56e2\u4e0e\u6240\u6709\u5b83\u6210\u5458\u7684\u80fd\u529b\u503c\u8fde\u8fb9\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u7528\u5308\u7259\u5229\u7b97\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e2a$mex$\uff1a\u6bcf\u4e00\u6b21\u591a\u53d6\u4e00\u4e2a\u80fd\u529b\u503c\uff0c\u5982\u679c\u53ef\u4ee5\u90a3\u4e48$mex$\u52a0\u4e00\uff0c\u5426\u5219\u5f53\u524d$mex$\u5c31\u662f\u6700\u7ec8\u7b54\u6848\u3002\n\n\u53ef\u4ee5\u4e0d\u65ad\u5220\u8fb9\uff08\u6807\u8bb0\u6bcf\u4e00\u6761\u8fb9\u5220\u6389\u5c31\u597d\u4e86\uff09\uff0c\u7136\u540e\u7528\u5308\u7259\u5229\u505a\u5230$O((maxp\\cdot n+m)\\cdot d)$\uff0c\u4f46\u662f\u4ecd\u7136\u65e0\u6cd5\u901a\u8fc7\u3002\n\n\u8003\u8651\u5c06\u5220\u8fb9\u8f6c\u5316\u4e3a\u52a0\u8fb9\uff08\u65f6\u95f4\u5012\u6d41\uff09\uff0c\u7136\u540e\u4e0d\u96be\u53d1\u73b0$mex$\u662f\u9012\u589e\u7684\u3002\n\n\u56e0\u4e3a$mex$\u662f\u9012\u589e\u7684\uff0c\u6240\u4ee5\u6bcf\u4e00\u6b21\u5308\u7259\u5229\u90fd\u53ef\u4ee5\u4ece\u4e0a\u4e00\u6b21\u7ed3\u675f\u7684\u4f4d\u7f6e\u5f00\u59cb\uff0c\u8fd9\u6837\u6211\u4eec\u7684\u590d\u6742\u5ea6\u5c31\u4f18\u5316\u6210\u4e86$O(maxp\\cdot d+maxp\\cdot n)$\u3002\n\n## \u4ee3\u7801\n```\n#include<stdio.h>\n#include<string.h>\nconst int maxn=5005,maxm=5005,maxd=5005;\nint n,m,d,e,stp,ans;\nint start[maxn],to[maxm],then[maxm],c[maxn],p[maxn],k[maxd],vis[maxn],match[maxn],flg[maxn],res[maxd];\ninline void add(int x,int y){\n\tthen[++e]=start[x],start[x]=e,to[e]=y;\n}\nint dfs(int x){\n\tfor(int i=start[x];i;i=then[i]){\n\t\tint y=to[i];\n\t\tif(vis[y]==stp)\n\t\t\tcontinue;\n\t\tvis[y]=stp;\n\t\tif(match[y]==-1||dfs(match[y])){\n\t\t\tmatch[y]=x;\n\t\t\treturn 1;\n\t\t}\n\t}\n\treturn 0;\n}\nint main(){\n\tmemset(match,-1,sizeof(match));\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%d\",&p[i]);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%d\",&c[i]);\n\tscanf(\"%d\",&d);\n\tfor(int i=1;i<=d;i++){\n\t\tscanf(\"%d\",&k[i]);\n\t\tflg[k[i]]=1;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tif(flg[i]==0)\n\t\t\tadd(p[i],c[i]);\n\tfor(int i=d;i>=1;i--){\n\t\tfor(int j=ans;;j++){\n\t\t\tstp++;\n\t\t\tif(dfs(j)==0){\n\t\t\t\tans=j;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tres[i]=ans;\n\t\tadd(p[k[i]],c[k[i]]);\n\t} \n\tfor(int i=1;i<=d;i++)\n\t\tprintf(\"%d\\n\",res[i]);\n \treturn 0;\n}\n```",
        "postTime": 1603103668,
        "uid": 35754,
        "name": "Verdandi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1139E \u3010Maximize Mex\u3011"
    },
    {
        "content": "\u5b64\u7acb\u5730\u53bb\u770b\u6bcf\u4e00\u4e2a\u8be2\u95ee\uff0c\u53d1\u73b0\u95ee\u9898\u53ef\u4ee5\u8fd9\u6837\u8f6c\u5316\uff1a\n\n\u6709\u4e00\u4e9b\u96c6\u5408\uff0c\u53d6\u51fa\u4e00\u4e2a\u6570\u5219\u96c6\u5408\u5360\u7528\uff0c\u6c42\u6700\u591a\u53ef\u4ee5\u53d6\u591a\u5c11\u4e2a\u4ece0\u5f00\u59cb\u7684\u8fde\u7eed\u81ea\u7136\u6570\u3002\n\n\u5148\u624b\u73a9\u4e00\u7ec4\u6570\u636e\uff1a\n\n$\\{0,1,2\\},\\{1,2,3\\},\\{1,3\\}$\n\n\u8003\u86510\uff1a\u5360\u7528$\\{0,1,2\\}$\n\n\u8003\u86511\uff1a\u5360\u7528$\\{1,2,3\\}$\n\n\u8003\u86512\uff1a\u53d1\u73b0\u67092\u7684$\\{1,2,3\\}$\u5df2\u7ecf\u88ab\u5360\u7528\uff0c\u4e14\u5360\u7528\u6b64\u96c6\u5408\u76841\u4e5f\u53ef\u4ee5\u9009\u62e9$\\{1,3\\}$\uff0c\u52192\u62a2\u8fc7$\\{1,2,3\\}$\uff0c\u628a$\\{1,3\\}$\u7ed91\n\n\u8003\u86513\uff1a\u65e0\u6cd5\u5339\u914d\n\n\u53d1\u73b0\u6b64\u8fc7\u7a0b\u7c7b\u4f3c\u4e8e\u4e8c\u5206\u56fe\u5339\u914d\u3002\n\n\u5c06$\\{0,1,2,3...\\}$\u53bb\u5339\u914d\u6bcf\u4e00\u4e2a\u96c6\u5408\uff0c\u96c6\u5408\u4e2d\u5305\u542b\u6b64\u6570\u5219\u8fde\u8fb9\u3002\n\n\u90a3\u4e48\u8fd9\u6837\u5f97\u5230\u4e00\u4e2a$\\Theta(dnm)$\u7684\u4f18\u79c0\u7b97\u6cd5\uff0c$TLE$\u5728\u7b2c\u5341\u4e2a\u70b9\u3002\n\n\u8003\u8651\u4f18\u5316\u3002\n\n\u56e0\u4e3a\u4e00\u4e2a\u4eba\u8d70\u4e4b\u540e\u5c31\u4e0d\u4f1a\u518d\u56de\u6765\uff0c\u8003\u8651\u5012\u5e8f\u5904\u7406\u3002\n\n\u52a0\u5165\u4e00\u4e2a\u4eba\u4e4b\u540e\uff0c\u6613\u77e5\u7b54\u6848\u53ea\u589e\u4e0d\u51cf\uff0c\u6545\u590d\u6742\u5ea6\u964d\u4f4e\u4e3a$\\Theta(dm)$\u3002\n\n\u4ee3\u7801\u4ec5\u4f9b\u53c2\u8003\uff1a\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=1e4+10;\ninline int read(){\n\tint x=0,f=1;char c=getchar();\n\twhile(c<'0'||c>'9'){if(c=='-')f=-1;c=getchar();}\n\twhile(c>='0'&&c<='9'){x=(x<<1)+(x<<3)+c-'0';c=getchar();}\n\treturn x*f;\n}\nint n,m,d,p[maxn],c[maxn],ans[maxn];\nint beg[maxn],nex[maxn],to[maxn],e;\ninline void add(int x,int y){\n\te++;nex[e]=beg[x];\n\tbeg[x]=e;to[e]=y;\n}\nint mat[maxn],vis[maxn],pro[maxn],out[maxn];\ninline int dfs(int x){\n\tfor(int i=beg[x];i;i=nex[i]){\n\t\tint t=to[i];\n\t\tif(vis[c[t]]||out[t])continue;\n\t\tvis[c[t]]=1;\n\t\tif(mat[c[t]]==-1||dfs(mat[c[t]])){\n\t\t\tmat[c[t]]=x;\n\t\t\treturn 1;\n\t\t}\n\t}\n\treturn 0;\n}\nint main(){\n\tn=read(),m=read();\n\tfor(int i=1;i<=n;i++){\n\t\tp[i]=read();\n\t\tadd(p[i],i);\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tc[i]=read();\n\td=read();\n\tfor(int i=1;i<=d;i++){\n\t\tpro[i]=read();\n\t\tout[pro[i]]=1;\n\t}\n\tmemset(mat,-1,sizeof(mat));\n\tfor(int i=d;i>=1;i--){\n\t\tfor(int j=ans[i+1];;j++){\n\t\t\tmemset(vis,0,sizeof(vis));\n\t\t\tif(!dfs(j)){ans[i]=j;break;}\n\t\t}\n\t\tout[pro[i]]=0;\n\t}\n\tfor(int i=1;i<=d;i++)\n\t\tprintf(\"%d\\n\",ans[i]);\n\treturn 0;\n}\n```\n",
        "postTime": 1602927213,
        "uid": 140876,
        "name": "syzf2222",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1139E \u3010Maximize Mex\u3011"
    },
    {
        "content": "[\u9898\u76ee\uff1aCF1139E](https://www.luogu.com.cn/problem/CF1139E)\n\n\u503c\u5f97\u4e00\u505a\u7684\u4e8c\u5206\u56fe\u597d\u9898\n\n##  \u9898\u610f\n\n\u7ed9\u5b9a $n$ \u4e2a\u5b66\u751f\u548c $m$ \u4e2a\u793e\u56e2\uff0c\u6bcf\u4e2a\u5b66\u751f\u6709\u4e00\u4e2a\u80fd\u529b\u503c\uff0c\u5e76\u4e14\u6bcf\u4e2a\u5b66\u751f\u53ea\u5c5e\u4e8e\u4e00\u4e2a\u793e\u56e2\uff0c\u4ece\u6bcf\u4e2a\u793e\u56e2\u4e2d\u9009\u51fa\u4e00\u540d\u5b66\u751f\uff0c\u4ed6\u4eec\u7684\u80fd\u529b\u503c\u96c6\u5408\u4e3a $S$\u3002\u4e00\u5171\u6709 $d$ \u5929\uff0c\u6bcf\u5929\u90fd\u4f1a\u6709\u4e00\u4e2a\u5b66\u751f\u9000\u51fa\u793e\u56e2\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u5929\uff0c\u6c42\u51fa\u6700\u5927\u7684 $mex(S)$\u3002\n\n##  \u6570\u636e\u8303\u56f4\n\n$1\u2264m\u2264n\u22645000$ \n\n$0\u2264p_i<5000$\n\n$1\u2264c_i\u2264m$\n\n$1\u2264d\u2264n$\n\n##  \u601d\u8def\n\n\u89c2\u5bdf\u5230**\u6bcf\u4e2a\u5b66\u751f\u53ea\u5c5e\u4e8e\u4e00\u4e2a\u793e\u56e2**\uff0c\u800c\u9898\u76ee\u6c42\u7684\u96c6\u5408S\u53c8\u662f\u80fd\u529b\u503c $p_i$ \u7684\u96c6\u5408\uff0c\u90a3\u4e48\u6211\u4eec\u8003\u8651\u4ee5\u80fd\u529b\u503c\u548c\u793e\u56e2\u4e3a\u4e24\u4e2a\u70b9\u96c6\u5efa\u4e8c\u5206\u56fe\u8dd1\u6700\u5927\u5339\u914d\u3002\u6bcf\u4e00\u4e2a\u5b66\u751f\u76f8\u5f53\u4e8e\u4e00\u6761\u8fb9\uff0c\u8fde\u63a5\u4e86\u4e00\u4e2a\u80fd\u529b\u503c\u4e0e\u4e00\u4e2a\u793e\u56e2\u3002\u6bcf\u4e00\u4e2a\u9000\u51fa\u793e\u56e2\u7684\u5b66\u751f\u76f8\u5f53\u4e8e\u4e00\u6b21\u5220\u8fb9\u64cd\u4f5c\u3002\n\n\u6211\u4eec\u53d1\u73b0\u5220\u8fb9\u64cd\u4f5c\u6bd4\u8f83\u96be\u641e\uff0c\u90a3\u4e48\u8fd9\u91cc\u5c31\u8981\u7528\u5230\u4e00\u4e2a\u6bd4\u8f83\u7ecf\u5178\u7684\u505a\u6cd5\uff1a**\u5012\u7740\u5904\u7406\u5220\u8fb9\u64cd\u4f5c**\uff0c\u8fd9\u6837\u4e00\u6765\u5220\u8fb9\u5c31\u53d8\u6210\u4e86\u52a0\u8fb9\uff0c\u9000\u51fa\u7684\u5b66\u751f\u76f8\u5f53\u4e8e\u540e\u6765\u52a0\u5165\u7684\u5b66\u751f\u3002\n\n\u5177\u4f53\u505a\u6cd5\u5c31\u662f\u4ece $0$ \u5f00\u59cb\u679a\u4e3e\uff0c\u7b2c\u4e00\u4e2a\u65e0\u6cd5\u5339\u914d\u7684\u8282\u70b9\u5c31\u662f\u6211\u4eec\u5f53\u5929\u7684\u7b54\u6848\u3002\n\n##  \u4f18\u5316 \n\n\u5728\u8fd9\u6837\u7684\u6570\u636e\u8303\u56f4\u7684\u9650\u5236\u4e0b\uff0c\u5982\u679c\u6211\u4eec\u5bf9\u4e8e\u6bcf\u6b21\u52a0\u8fb9\u64cd\u4f5c\u90fd\u8dd1\u4e00\u6b21\u5308\u7259\u5229\u7b97\u6cd5\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u4e0d\u5bf9\u7684\uff0c\u4e0b\u9762\u6211\u4eec\u8003\u8651\u4f18\u5316\uff1a\n\n**\u663e\u7136\uff0c\u5728\u4e00\u6b21\u52a0\u8fb9\u64cd\u4f5c\u4e4b\u540e\u80fd\u5339\u914d\u7684\u8282\u70b9\u4f9d\u7136\u80fd\u591f\u5339\u914d\uff0c\u6240\u4ee5\u7b54\u6848\u662f\u5355\u8c03\u9012\u589e\u7684**\uff0c\u90a3\u4e48\u6bcf\u6b21\u52a0\u8fb9\u4e4b\u540e\u6211\u4eec\u5728\u539f\u6765\u7684\u57fa\u7840\u4e0a\u627e\u589e\u5e7f\u8def\uff0c\u518d\u52a0\u4e0a\u524d\u4e00\u6b21\u7684\u7b54\u6848\u5c31\u597d\u3002\n\n##  code\n\n```cpp\n#include<bits/stdc++.h>\n#define N 5010\nusing namespace std;\ninline int read(){\n\tint s=0,w=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){\n\t\tif(ch=='-')w=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch<='9'&&ch>='0')s=s*10+ch-'0',ch=getchar();\n\treturn s*w;\n}\nint n,m,d;\nint u[N],v[N]; \n//\u94fe\u5f0f\u524d\u5411\u661f\u5b58\u56fe \nstruct node{\n\tint nxt;\n\tint to;\n}edge[N];\nint head[N],tot=0;\nvoid add(int x,int y)\n{\n\tedge[++tot].nxt=head[x];\n\tedge[tot].to=y;\n\thead[x]=tot;\n}\nint c[N],vis[N];\nint ans[N],match[N];\nbool dfs(int x)\n{\n\tfor(int i=head[x];i;i=edge[i].nxt){\n\t\tint y=edge[i].to;\n\t\tif(!vis[y]){\n\t\t\tvis[y]=1;\n\t\t\tif(match[y]<0||dfs(match[y])){\n\t\t\t\tmatch[y]=x;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\nint main(){\n\tn=read();\n\tm=read();\n\tfor(int i=1;i<=n;i++)\n\t\tu[i]=read();\n\tfor(int i=1;i<=n;i++)\n\t\tv[i]=read();\n\td=read();\n\tfor(int i=1;i<=d;i++){\n\t\tc[i]=read();\n\t\tvis[c[i]]=1;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tif(!vis[i])\n\t\t\tadd(u[i],v[i]);\n\tint j=0;\n\tmemset(match,-1,sizeof(match));//\u8fd9\u91cc\u6709\u4e00\u4e2a\u7ec6\u8282\uff0c\u56e0\u4e3a 0 \u4e5f\u662f\u4e00\u4e2a\u8282\u70b9\uff0c\u6240\u4ee5match\u6570\u7ec4\u5e94\u521d\u59cb\u5316\u4e3a\u4e00\u4e2a\u8d1f\u6570 \n\tfor(int i=d;i>=1;i--){\n\t\tfor(;j<=5000;j++){\n\t\t\tmemset(vis,0,sizeof(vis));\n\t\t\tif(dfs(j))\n\t\t\t\tans[i]++;\n\t\t\telse\n\t\t\t\tbreak;\n\t\t}\n\t\tadd(u[c[i]],v[c[i]]);//\u52a0\u8fb9 \n\t\tans[i]+=ans[i+1];\n\t}\n\tfor(int i=1;i<=d;i++)\n\t\tcout<<ans[i]<<endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1661392226,
        "uid": 439831,
        "name": "WeiFanbo",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 CF1139E"
    },
    {
        "content": "\u4e00\u6b65\u6b65\u62c6\u89e3\uff0c\u5148\u8003\u8651\u5f53\u786e\u5b9a\u4e86\u591a\u5c11\u4eba\u8fd8\u5728\uff08\u5373\u7b2c\u51e0\u5929\uff09\u7684\u65f6\u5019\uff0c\u600e\u4e48\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e00\u79cd\u9009\u4eba\u65b9\u6848\uff0c\u4f7f\u5f97\u80fd\u529b\u503c\u96c6\u5408 $S$ \u4e2d\u5b58\u5728\u6570\u5b57 $x$\u3002\n\n\u770b\u4e00\u4e0b\u9650\u5236\u548c\u6761\u4ef6\uff1a\n\n- \u6bcf\u4e2a\u4eba\u90fd\u6070\u597d\u5c5e\u4e8e\u4e00\u4e2a\u793e\u56e2\u3002\n\n- \u6bcf\u4e2a\u793e\u56e2\u9009\u4e00\u4e2a\u4eba\u3002\n\n- \u4e00\u4e2a\u663e\u7136\u7684\u7ed3\u8bba\u662f\uff0c\u6700\u4f18\u9009\u62e9\u4e0b\uff0c\u4e00\u79cd\u80fd\u529b\u503c\u6700\u597d\u53ea\u4e0e\u4e00\u4e2a\u4eba\u5bf9\u5e94\uff0c\u4e14\u8d8a\u591a\u7684\u4eba\u53c2\u8d5b\u5c31\u6709\u8d8a\u5927\u7684\u6982\u7387\u5f97\u5230\u6700\u5927\u7684 $mex$ \u503c\u3002\n\n- \u5982\u679c\u6ca1\u6709\u601d\u8def\u7684\u8bdd\uff0c\u8bf7\u56de\u5230\u7b2c\u4e00\u6761\u3002\n\n\u601d\u8def\u6e10\u6e10\u51fa\u6765\u4e86\u3002\n\n\u7ec4\u961f\u7684\u5b66\u751f\u4e2d\u51fa\u73b0\u4e86\u4e00\u4e2a\u65b0\u7684\u80fd\u529b\u503c\u4e0d\u4f1a\u5bf9\u5176\u5b83\u5df2\u5b58\u5728\u80fd\u529b\u503c\u4ea7\u751f\u5f71\u54cd\uff0c\u4e00\u4e2a\u793e\u56e2\u6d3e\u51fa\u4e86\u4e00\u4e2a\u4eba\u4e0d\u4f1a\u5bf9\u5176\u5b83\u793e\u56e2\u9009\u4eba\u7b56\u7565\u4ea7\u751f\u5f71\u54cd\u3002\u8fd9\u662f $0$ \u8981\u7d20\u3002\u6bcf\u4e2a\u793e\u56e2\u53ea\u80fd\u9009\u4e00\u4e2a\u4eba\uff0c\u793e\u56e2\u91cc\u5176\u5b83\u4eba\u4e0d\u80fd\u9009\uff0c\u8fd9\u662f $1$ \u8981\u7d20\u3002\n\n\u6545\uff0c\u6b64\u9898\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u4e8c\u5206\u56fe\u6700\u5927\u5339\u914d\u3002\n\n\u628a $p_i$ \u770b\u505a\u5de6\u90e8\u70b9\uff0c$c_i$ \u770b\u505a\u53f3\u90e8\u70b9\uff0c\u5bf9\u4e8e $i \\in[1,n]$ \u7ed9 $p_i$ \u548c $c_i$ \u8fde\u4e00\u6761\u8fb9\u3002\u6839\u636e\u521a\u624d\u7684\u5206\u6790\uff0c\u53ea\u9700\u8981\u4ece $0$ \u5f00\u59cb\u679a\u4e3e\u6bcf\u4e00\u4e2a\u80fd\u529b\u503c\u5e76\u5c1d\u8bd5\u5339\u914d\uff0c\u7b2c\u4e00\u4e2a\u5931\u914d\u7684\u80fd\u529b\u503c\u5c31\u662f $mex$ \u503c\u3002\n\n\u5220\u6389\u4e00\u4e2a\u4eba\uff0c\u5c31\u8981\u5220\u8fb9\uff0c\u501f\u9274\u661f\u7403\u5927\u6218\u90a3\u9053\u9898\u7684\u601d\u8def\uff0c\u4ece\u6700\u540e\u4e00\u5929\u5f00\u59cb\u8003\u8651\uff0c\u53d8\u6210\u6bcf\u4e00\u5929\u65b0\u52a0\u5165\u4e00\u4e2a\u4eba\uff0c\u540c\u65f6\u5bb9\u6613\u53d1\u73b0\u4e00\u4e2a\u4eba\u7684\u52a0\u5165\u4e0d\u4f1a\u4f7f\u7b54\u6848\u53d8\u5f97\u66f4\u5dee\uff0c\u6240\u4ee5\u679a\u4e3e\u80fd\u529b\u503c\u7684\u65f6\u5019\u4e0d\u9700\u8981\u6bcf\u4e00\u5929\u90fd\u4ece $0$ \u5f00\u59cb\u679a\u4e3e\u3002\n\n\u5176\u4f59\u7ec6\u8282\u770b\u4ee3\u7801\u3002\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#include <vector>\n#include <cstring>\nusing namespace std;\nconst int maxn = 5001;\nint n, m, d, L;\nint p[maxn], c[maxn], k[maxn], match[maxn], ans[maxn];\nbool used[maxn], vis[maxn];\nvector <int> G[maxn];\nbool dfs(int u){\n\tfor (int i = 0; i < G[u].size(); i++){\n\t\tint v = G[u][i];\n\t\tif (!vis[v]){\n\t\t\tvis[v] = true;\n\t\t\tif (match[v] == -1 || dfs(match[v])){\n\t\t\t\tmatch[v] = u;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\nint main(){\n\tscanf(\"%d%d\", &n, &m);\n\tfor (int i = 1; i <= n; i++){\n\t\tscanf(\"%d\", &p[i]);\n\t}\n\tfor (int i = 1; i <= n; i++){\n\t\tscanf(\"%d\", &c[i]);\n\t}\n\tscanf(\"%d\", &d);\n\tfor (int i = 1; i <= d; i++){\n\t\tscanf(\"%d\", &k[i]);\n\t\tused[k[i]] = true;\n\t}\n\tfor (int i = 1; i <= n; i++){\n\t\tif (!used[i]){\n\t\t\tG[p[i]].push_back(c[i]);\n\t\t}\n\t}\n    memset(match, -1, sizeof(match));\n\tfor (int i = d; i >= 1; i--){\n\t\twhile (true){\n\t\t\tmemset(vis, 0, sizeof(vis));\n\t\t\tif (dfs(L))L++;\n\t\t\telse break;\n\t\t}\n\t\tans[i] = L;\n\t\tG[p[k[i]]].push_back(c[k[i]]);\n\t}\n\tfor (int i = 1; i <= d; i++){\n\t\tprintf(\"%d\\n\", ans[i]);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1645855933,
        "uid": 347839,
        "name": "Daniel_001",
        "ccfLevel": 0,
        "title": "CF1139E Maximize Mex"
    },
    {
        "content": "### \u9898\u610f\n\n\u6709 $n$ \u4e2a\u5b66\u751f\u548c $m$ \u4e2a\u793e\u56e2\uff0c\u7b2c $i$ \u4e2a\u5b66\u751f\u7684\u80fd\u529b\u503c\u4e3a $p_i$\uff0c\u5c5e\u4e8e\u793e\u56e2 $c_i$\u3002\n\n\u73b0\u5728\u6709 $d$ \u4e2a\u64cd\u4f5c\uff0c\u6bcf\u4e00\u4e2a\u64cd\u4f5c\u5f62\u5982\u7b2c $i$ \u4e2a\u5b66\u751f\u79bb\u5f00 $c_i$ \u793e\u56e2\uff0c\u5728\u6bcf\u4e00\u6b21\u64cd\u4f5c\u4e4b\u540e\u9700\u8981\u6c42\u4ece\u6bcf\u4e2a\u793e\u56e2\u4e2d\u9009\u4e00\u4e2a\u4eba\uff08\u793e\u56e2\u6ca1\u4eba\u5c31\u4e0d\u9009\uff09\u7ec4\u6210\u96c6\u5408\u7684 $\\text{mex}$ \u7684\u6700\u5927\u503c\u3002\n\n$\\texttt{Data Range:}d,m\\leq n\\leq 5000$\n\n### \u9898\u89e3\n\n\u770b\u5230\u8fd9\u79cd\u9898\u53d1\u73b0\u5220\u9664\u64cd\u4f5c\u5b9e\u9645\u4e0a\u662f\u4e0d\u597d\u505a\u7684\uff0c\u5e76\u4e14\u5012\u7740\u8003\u8651\u7b54\u6848\u5177\u6709\u5355\u8c03\u6027\uff0c\u4e8e\u662f\u65f6\u95f4\u5012\u6d41\u53d8\u6210\u52a0\u5165\u64cd\u4f5c\u3002\n\n\u4e8e\u662f\u53ea\u9700\u8981\u8003\u8651\u6bcf\u4e00\u6b21\u52a0\u5165\u4e00\u4e2a\u503c\u7136\u540e\u6c42\u6700\u5927\u7684 $\\text{mex}$\uff0c\u6709\u4e00\u4e2a\u5f88\u5999\u7684 trick \u662f\u5efa\u4e8c\u5206\u56fe\u6c42\u6700\u5927\u5339\u914d\u3002\n\n\u5c06\u6bcf\u4e2a\u80fd\u529b\u503c\u770b\u6210\u5de6\u90e8\u70b9\uff0c\u6bcf\u4e2a\u793e\u56e2\u770b\u6210\u53f3\u90e8\u70b9\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u4eba $(p_i,c_i)$ \u6765\u8bf4\uff0c\u4ece $p_i$ \u5411 $c_i$ \u8fde\u8fb9\uff0c\u7531\u4e8e\u4e00\u4e2a\u793e\u56e2\u6700\u591a\u53ea\u80fd\u4e0e\u4e00\u4e2a\u80fd\u529b\u503c\u5339\u914d\uff0c\u5c31\u53ef\u4ee5\u4fdd\u8bc1\u6b63\u786e\u6027\u3002\n\n\u63a5\u4e0b\u6765\u8003\u8651\u589e\u5e7f\u3002\u6bcf\u4e00\u6b21\u4ece\u80fd\u529b\u503c\u4e3a $0$ \u7684\u70b9\u5f00\u59cb\u627e\u589e\u5e7f\u8def\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5c31\u76f4\u63a5\u8fd4\u56de\u8fd9\u4e2a\u5c31\u597d\u4e86\u3002\n\n\u7531\u4e8e\u65f6\u95f4\u5012\u6d41\u4e4b\u540e\u7b54\u6848\u5177\u6709\u5355\u8c03\u6027\uff0c\u800c\u4e14\u56e0\u4e3a\u662f\u52a0\u8fb9\u64cd\u4f5c\uff0c\u539f\u6765\u7684\u5339\u914d\u4e0d\u4f1a\u66f4\u6539\uff0c\u6240\u4ee5\u5e76\u4e0d\u7528\u4ece $0$ \u5f00\u59cb\u4ece\u4e0a\u4e00\u6b21\u7684\u7b54\u6848\u5f00\u59cb\u5c31\u884c\u4e86\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef int ll;\ntypedef long long int li;\nconst ll MAXN=1e4+51;\nstruct Edge{\n\tll to,prev;\n};\nEdge ed[MAXN<<1];\nll n,m,d,tot;\nll last[MAXN],p[MAXN],c[MAXN],x[MAXN],vis[MAXN],visr[MAXN];\nll match[MAXN],res[MAXN];\ninline ll read()\n{\n    register ll num=0,neg=1;\n    register char ch=getchar();\n    while(!isdigit(ch)&&ch!='-')\n    {\n        ch=getchar();\n    }\n    if(ch=='-')\n    {\n        neg=-1;\n        ch=getchar();\n    }\n    while(isdigit(ch))\n    {\n        num=(num<<3)+(num<<1)+(ch-'0');\n        ch=getchar();\n    }\n    return num*neg;\n}\ninline void addEdge(ll from,ll to)\n{\n\ted[++tot].prev=last[from];\n\ted[tot].to=to;\n\tlast[from]=tot;\n}\ninline ll dfs(ll x)\n{\n\tfor(register int i=last[x];i;i=ed[i].prev)\n\t{\n\t\tif(!visr[ed[i].to])\n\t\t{\n\t\t\tvisr[ed[i].to]=1;\n\t\t\tif(match[ed[i].to]==-1||dfs(match[ed[i].to]))\n\t\t\t{\n\t\t\t\treturn match[ed[i].to]=x,1;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\nint main()\n{\n\tn=read(),m=read();\n\tfor(register int i=1;i<=n;i++)\n\t{\n\t\tp[i]=read();\n\t}\n\tfor(register int i=1;i<=n;i++)\n\t{\n\t\tc[i]=read();\n\t}\n\td=read(),memset(match,-1,sizeof(match));\n\tfor(register int i=1;i<=d;i++)\n\t{\n\t\tvis[x[i]=read()]=1;\n\t}\n\tfor(register int i=1;i<=n;i++)\n\t{\n\t\tif(!vis[i])\n\t\t{\n\t\t\taddEdge(p[i],5000+c[i]),addEdge(5000+c[i],p[i]);\n\t\t}\n\t}\n\tfor(register int i=d;i;i--)\n\t{\n\t\tfor(register int j=res[i+1];j<=m;j++)\n\t\t{\n\t\t\tmemset(visr,0,sizeof(visr));\n\t\t\tif(!dfs(j))\n\t\t\t{\n\t\t\t\tres[i]=j;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\taddEdge(p[x[i]],5000+c[x[i]]),addEdge(5000+c[x[i]],p[x[i]]);\n\t}\n\tfor(register int i=1;i<=d;i++)\n\t{\n\t\tprintf(\"%d\\n\",res[i]);\n\t}\n}\n```",
        "postTime": 1606571286,
        "uid": 60990,
        "name": "Karry5307",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1139E \u3010Maximize Mex\u3011"
    }
]