[
    {
        "content": "\u6839\u636e\u9898\u610f\u5f97\u51fa\u5f53$c_i$\u4e3a$0$\u65f6\uff1a  \n1. $a_i\\ne 0$\u65f6\uff0c$d=-\\frac{b_i}{a_i}$  \n2. $a_i = b_i = 0$\u65f6\uff0c$d=0$  \n\n\u6240\u4ee5\u6211\u4eec\u9700\u8981\u7edf\u8ba1\u6ee1\u8db3\u7b2c2\u79cd\u60c5\u51b5\u7684\u4e2a\u6570\u4ee5\u53ca\u7b2c1\u79cd\u60c5\u51b5\u4e2d\u51fa\u73b0\u6700\u591a\u7684$d$\u51fa\u73b0\u7684\u6b21\u6570\u3002\n\u5224\u65ad$d$\u51fa\u73b0\u7684\u4e2a\u6570\u53ef\u4ee5\u7528$map$\u6765\u5b9e\u73b0\uff0c\u9996\u5148\u7528$gcd$\u7ea6\u5206\uff0c\u7136\u540e\u7edf\u4e00\u8d1f\u53f7\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u628a\u8fd9\u4e2a\u5206\u6570\u51fa\u73b0\u7684\u6b21\u6570++\uff0c\u5e76\u540c\u65f6\u8ba1\u7b97$ans$\uff0c\u6700\u540e\u628a\u6ee1\u8db3\u7b2c$2$\u79cd\u60c5\u51b5\u7684\u4e2a\u6570\u4e0e$ans$\u76f8\u52a0\u4fbf\u662f\u6700\u7ec8\u7684\u7b54\u6848\u3002  \n\u4ee3\u7801\u5982\u4e0b\uff1a  \n```cpp\n#include <cstdio>\n#include <map>\n#include <numeric>\nusing namespace std;\nconst int maxn = 200005;\n\nint A[maxn];\nint main()\n{\n    int n;\n    scanf(\"%d\", &n);\n    for (int i = 0; i < n; i++)\n        scanf(\"%d\", &A[i]);\n    int sum = 0, ans = 0;\n    map<pair<int, int>, int> mp;\n    for (int i = 0; i < n; i++) {\n        int a = A[i], b;\n        scanf(\"%d\", &b);\n        if (!a && !b)\n            sum++; // \u7b2c2\u79cd\u60c5\u51b5\n\t\telse if(!a) continue; // a=0\u65f6-b/0\u4e0d\u5408\u6cd5\n\t\telse{\n\t\t\tif (1LL * a * b < 0) // \u5982\u679ca, b\u5f02\u53f7\uff0c\u6ce8\u610f\u4f7f\u7528long long\u5224\u65ad\n            \ta = -abs(a), b = abs(b);\n\t\t\telse // a, b\u540c\u53f7\n\t\t\t\ta = abs(a), b = abs(b);\n\t\t\tint t = gcd(a, b); // C++17\u4e2dnumeric\u5934\u6587\u4ef6\u91cc\u5305\u542bgcd\u51fd\u6570\uff0c\u4e0d\u9700\u8981\u8003\u8651\u6b63\u8d1f\n\t\t\tans = max(ans, ++mp[pair(b / t, a / t)]);\n\t\t}\n    }\n    printf(\"%d\\n\", sum + ans);\n    return 0;\n}\n```",
        "postTime": 1565670730,
        "uid": 84282,
        "name": "andyli",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1133D \u3010Zero Quantity Maximization\u3011"
    },
    {
        "content": "## map+pair\u6c34\u8fc7\n\u63a8\u5f97\u8981\u7edf\u8ba1 -b[i]/a[i] \u76f8\u540c\u7684\u4e2a\u6570,\u4f46\u597d\u50cf\u4e0e\u6b63\u8d1f\u65e0\u5173\uff0c\u53ea\u9700\u5206\u522b\u9664\u4ee5gcd(a[i],b[i]),\u7528pair\u5b58\u5c31\u597d\u4e86\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<map>\nusing namespace std;\nnamespace io{\n    #define re register\n    #define ll long long\n    #define inf 0x3f3f3f3f\n    #define il inline \n    #define in1(a) read(a)\n    #define in2(a,b) in1(a),in1(b)\n    #define in3(a,b,c) in2(a,b),in1(c)\n    #define in4(a,b,c,d) in2(a,b),in2(c,d)\n    il void readl(ll &x){\n        x=0;ll f=1;char c=getchar();\n        while(c<'0'||c>'9'){if(c=='-')f=-f;c=getchar();}\n        while(c>='0'&&c<='9'){x=x*10+c-'0';c=getchar();}\n        x*=f;\n    }\n    il void read(int &x){\n        x=0;int f=1;char c=getchar();\n        while(c<'0'||c>'9'){if(c=='-')f=-f;c=getchar();}\n        while(c>='0'&&c<='9'){x=x*10+c-'0';c=getchar();}\n        x*=f;\n    }\n}using namespace io;\n#define N 200005\nint n;\nint a[N],b[N];\nmap <pair<int,int>,int> cnt;\nint main(){\n\tint ans=0,res=0;\n\tread(n);\n\tfor(re int i=1;i<=n;i++) read(a[i]);\n\tfor(re int i=1;i<=n;i++){\n\t\tread(b[i]);\n\t\tif(a[i]==0){\n        //\u7279\u5224\uff1aa[i]==0\u65f6\uff0c\u65e0\u8bbad\u53d6\u591a\u5c11c\u90fd\u53ea\u4e0eb[i]\u6709\u5173\n\t\t\tif(b[i]==0) res++;\n\t\t\tcontinue;\n\t\t}\n\t\tint gcd=__gcd(a[i],b[i]);\n\t\tans=max(ans,++cnt[make_pair(a[i]/gcd,b[i]/gcd)]);\n\t}\n\tprintf(\"%d\",ans+res);\n\treturn 0;\n}\n```",
        "postTime": 1552312688,
        "uid": 60972,
        "name": "AndyMo",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1133D \u3010Zero Quantity Maximization\u3011"
    },
    {
        "content": "## \u9898\u610f\n\n\u7ed9\u5b9a $n$ \u4e2a\u6570\u7684\u5e8f\u5217 $a$ \u548c $b$\uff0c\u4f60\u9700\u8981\u8ba1\u7b97\u51fa $c$ \u5e8f\u5217\uff0c\u5176\u4e2d $c_i = d \\cdot a_i + b_i(1 \\leq i \\leq n)$\uff0c\u4f60\u53ef\u4ee5\u6307\u5b9a\u4efb\u610f $d$\uff0c\u6700\u5927\u5316 $c$ \u5e8f\u5217 $0$ \u7684\u6570\u91cf\u3002\n\n## \u89e3\u6cd5\n\n\u8003\u8651\u82e5 $c_i=0$\uff0c\u90a3\u4e48 $d = \\dfrac{-b_i}{a_i}$\u3002\u82e5 $a_i=0$\uff0c\u90a3\u4e48 $d$ \u53d6\u4efb\u610f\u6570\u5747\u53ef\u3002\u8003\u8651\u5c06 $\\dfrac{-b_i}{a_i}$ \u5b58\u5165 `map` \u7edf\u8ba1\u51fa\u73b0\u6b21\u6570\u3002\n\n\u4f46\u662f\u8fd9\u6837\u505a\u7528 `double` \u5b58\u7cbe\u5ea6\u4e0d\u591f\uff0c\u5b9e\u6d4b WA on test 37\uff0c\u53ef\u4ee5\u8003\u8651\u7528\u5206\u6570\uff0c\u4f46\u5176\u5b9e `long double` \u53ef\u8fc7\u3002\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <map>\n#include <algorithm>\n#include <cmath>\n#include <cstring>\nusing namespace std;\n\nconst int N = 2e5 + 5;\n\nint n, a[N], b[N], c = 0, ans = 0;\n\nmap<long double, int> mp;\n\nint main()\n{\n\tscanf(\"%d\", &n);\n\tfor (int i = 1; i <= n; i++) scanf(\"%d\", &a[i]);\n\tfor (int i = 1; i <= n; i++) scanf(\"%d\", &b[i]);\n\tfor (int i = 1; i <= n; i++)\n\t{\n\t\tif (a[i] == 0)\n\t\t{\n\t\t\tc += (b[i] == 0);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmp[(long double)-b[i] / a[i]]++;\n\t\t}\n\t}\n\tfor (auto i : mp)\n\t{\n\t\tans = max(ans, i.second);\n\t}\n\tprintf(\"%d\\n\", ans + c);\n\treturn 0;\n}\n```\n",
        "postTime": 1661345576,
        "uid": 332914,
        "name": "happybob",
        "ccfLevel": 6,
        "title": "CF1133D Zero Quantity Maximization"
    }
]