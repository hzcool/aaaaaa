[
    {
        "content": "[in Blog](//milk-lemon.blog.luogu.org/solution-CF1638D) & [Problem](//www.luogu.com.cn/problem/CF1638D)\n\n## \u9898\u76ee\u5927\u610f\n\u7ed9\u5b9a\u4e00\u4e2a\u5927\u5c0f\u4e3a $n\\times m$ \u7684\u753b\u677f\uff0c\u521d\u59cb\u753b\u677f\u4e0a\u6ca1\u6709\u4efb\u4f55\u989c\u8272\uff0c\u6bcf\u6b21\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a $2\\times 2$ \u7684\u76f8\u90bb\u7530\u5b57\u683c\u8fdb\u884c\u989c\u8272\u586b\u5145\u3002\u7ed9\u5b9a\u753b\u677f\u7684\u6700\u7ec8\u5f62\u6001\uff0c\u5224\u65ad\u662f\u5426\u53ef\u4ee5\u7ed8\u5236\u51fa\u8fd9\u6837\u7684\u5f62\u6001\uff0c\u5982\u679c\u53ef\u4ee5\uff0c\u7ed9\u51fa\u4efb\u610f\u4e00\u79cd\u53ef\u884c\u7684\u7ed8\u5236\u65b9\u6848\u3002\n\n## \u89e3\u9898\u601d\u8def\n\u91c7\u53d6\u5012\u63a8\u7684\u89e3\u9898\u7b56\u7565\uff0c\u5148\u627e\u51fa\u6700\u540e\u4e00\u6b65\u586b\u5145\u7684\u7530\u5b57\u683c\u3002  \n\u628a\u6240\u6709\u53ef\u9009\u7530\u5b57\u683c\u626b\u63cf\u4e00\u904d\uff0c\u627e\u51fa\u989c\u8272\u76f8\u540c\u7684\u7530\u5b57\u683c\uff0c\u5e76\u5c06\u5176\u8bbe\u4e3a\u7b54\u6848\u5e8f\u5217\u7684\u6700\u540e\u51e0\u6b65\u3002  \n\u63a5\u7740\u628a\u5df2\u52a0\u5165\u7b54\u6848\u5e8f\u5217\u7684\u7530\u5b57\u683c\u66ff\u6362\u6210\u7279\u6b8a\u6807\u8bb0\u3002  \n\u6bcf\u5f53\u786e\u5b9a\u4e00\u4e2a\u7530\u5b57\u683c\u52a0\u5165\u7b54\u6848\u5e8f\u5217\u65f6\uff0c\u5224\u65ad\u5b83\u5468\u56f4\u7684\u7530\u5b57\u683c\uff0c\u662f\u5426\u4e5f\u662f\u5168\u4e3a\u4e00\u79cd\u989c\u8272\u7684\uff0c\u4ed6\u5468\u56f4\u7684\u7530\u5b57\u683c\u6700\u591a\u53ea\u6709 $9$ \u79cd\uff0c\u627e\u5230\u53ef\u884c\u7684\uff0c\u5c31\u52a0\u5165\u7b54\u6848\u5e8f\u5217\u3002  \n\u6700\u540e\uff0c\u5224\u65ad\u753b\u677f\u4e0a\u662f\u5426\u5168\u662f\u7279\u6b8a\u6807\u8bb0\uff0c\u5982\u679c\u8fd8\u6709\u666e\u901a\u989c\u8272\uff0c\u90a3\u4e48\u5373\u4e3a\u65e0\u6cd5\u8fbe\u5230\u3002  \n\u65f6\u95f4\u590d\u6742\u5ea6 $\\Theta(nm)$\u3002\n\n## AC \u4ee3\u7801\n```\n#include <bits/stdc++.h>\nusing namespace std;\nint n,m,a[1001][1001];\nstruct Answer{\n\tint x,y,col;\n}ans[1000001];//\u7b54\u6848\u5e8f\u5217\nint anslen;\nbool p[1001][1001];//\u6807\u8bb0\ninline void work(int x,int y){\n\tif(x<1||x>n-1||y<1||y>m-1||p[x][y])return;\n\tbool flag=true; int col=-1;\n\tfor(int i=0;i<=1;i++)\n\t\tfor(int j=0;j<=1;j++){\n\t\t\tif(a[x+i][y+j]==-1)continue;\n\t\t\tif(col==-1)col=a[x+i][y+j];\n\t\t\tflag&=a[x+i][y+j]==col;\n\t\t}\n\tif(col==-1)return;\n\tif(flag)ans[++anslen]={x,y,col},p[x][y]=true;\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tscanf(\"%d\",&a[i][j]);\n\tfor(int i=1;i<n;i++)\n\t\tfor(int j=1;j<m;j++)work(i,j);//\u5224\u65ad\u662f\u5426\u662f2*2\u7684\u540c\u8272\u7530\u5b57\u683c\uff0c\u662f\u7684\u8bdd\u52a0\u5165\u7b54\u6848\n\tfor(int i=1;i<=anslen;i++){\n\t\tfor(int j=0;j<=1;j++)\n\t\t\tfor(int jj=0;jj<=1;jj++)\n\t\t\t\ta[ans[i].x+j][ans[i].y+jj]=-1;//\u6807\u8bb0\n\t\tfor(int j=-1;j<=1;j++)\n\t\t\tfor(int jj=-1;jj<=1;jj++)\n\t\t\t\twork(ans[i].x+j,ans[i].y+jj);\n\t}\n\tbool flag=true;\n\tfor(int i=1;i<=n&&flag;i++)\n\t\tfor(int j=1;j<=m&&flag;j++)\n\t\t\tflag=a[i][j]==-1;\n\tif(!flag)printf(\"-1\\n\");//\u8fd8\u6709\u6ca1\u7ed8\u5236\u7684\u7530\u5b57\u683c\n\telse{\n\t\tprintf(\"%d\\n\",anslen);\n\t\tfor(int i=anslen;i>=1;i--)\n\t\t\tprintf(\"%d %d %d\\n\",ans[i].x,ans[i].y,ans[i].col);\n\t}\n\treturn 0;\n} \n```",
        "postTime": 1644897371,
        "uid": 234641,
        "name": "Milmon",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1638D - Big Brush"
    },
    {
        "content": "## Preface\n\n\u8003\u573a\u4e0a\u8fd9\u9898\u6ca1\u60f3\u51fa\u6765\uff0c\u786e\u5b9e\u662f\u60f3\u6b6a\u4e86\uff0c\u5657\uff0c\u6389\u5927\u5206 /kk\u3002\n\n## Analysis\n\n\u6b63\u5411\u6784\u9020\u6bd4\u8f83\u96be\u60f3\uff0c\u4e0d\u59a8\u53cd\u5411\u601d\u8003\u3002\n\n\u6700\u540e\u4e00\u7b14\u4e00\u5b9a\u4f1a\u5c06\u4e00\u4e2a $2\\times 2$ \u7684\u5757\u6d82\u6210\u4e00\u6837\u7684\u989c\u8272\uff0c\u56e0\u6b64\u6bcf\u6b21\u627e\u4e00\u4e2a $2\\times 2$ \u4e14 $4$ \u4e2a\u683c\u5b50\u4e2d \u672a\u88ab\u5904\u7406\u7684\u6240\u6709\u683c\u5b50 **\u989c\u8272\u76f8\u540c** \u7684\u5757\u67d3\u8272\u5373\u53ef\u3002\u82e5\u4e00\u4e2a\u683c\u5b50\u5df2\u7ecf\u88ab\u67d3\u8272\uff0c\u5219\u5c06\u5b83\u7684\u503c\u8bbe\u4e3a $0$\uff0c\u5373\u8868\u793a\u5df2\u7ecf\u5904\u7406\u8be5\u683c\u5b50\u3002\n\n\u6700\u540e\u5c06\u7b54\u6848\u5e8f\u5217\u53cd\u8f6c\u8f93\u51fa\u5373\u53ef\u3002\u5177\u4f53\u7ec6\u8282\u95f4\u4ee3\u7801\u3002\n\n## Code\n\n**Talk is cheap, show me the code.**\n\n[Codeforces Status](https://codeforces.com/contest/1638/submission/146465726)\n\n```cpp\nint n,m,a[1010][1010];\nstruct node{int x,y,val;};\nvector<node> ans;\nvoid paint(int x,int y){\n\tif(x==0||x==n||y==0||y==m) return;//\u8d8a\u754c\u5224\u65ad\n\tint val[]={a[x][y],a[x+1][y],a[x][y+1],a[x+1][y+1]};\n\tsort(val,val+4);\n\tif(val[3]==0) return;//\u683c\u5b50\u5168\u90e8\u88ab\u5904\u7406\u5219\u8fd4\u56de\n\tbool flag=true;\n\tFor(i,0,2) if(val[i]!=0&&val[i]!=val[3]) flag=false;\n\tif(!flag) return;//\u6709\u672a\u88ab\u5904\u7406\u7684\u683c\u5b50\u989c\u8272\u4e0d\u76f8\u7b49\uff0c\u4e0d\u80fd\u5904\u7406\u65392*2\u5757\n\tans.pb((node){x,y,val[3]});//\u5bf9\u8fd9\u4e2a2*2\u7684\u5757\u8fdb\u884c\u67d3\u8272\n\tFor(i,x,x+1) For(j,y,y+1) a[i][j]=0;//\u6807\u8bb0\u5904\u7406\n\tFor(i,x-1,x+1) For(j,y-1,y+1) paint(i,j);//\u5468\u56f48\u4e2a\u5757\u90fd\u53ef\u80fd\u53ef\u4ee5\u67d3\u8272\n}\nsigned main(){\n\tread(n,m);\n\tFor(i,1,n) For(j,1,m) read(a[i][j]);\n\tFor(i,1,n-1) For(j,1,m-1) paint(i,j);\n\treverse(ans.begin(),ans.end());//\u53cd\u8f6c\u7b54\u6848\u5e8f\u5217\n\tFor(i,1,n) For(j,1,m) if(a[i][j]!=0){write(-1,'\\n');return 0;}//\u5224\u65ad\u65e0\u89e3\n\twrite(ans.size(),'\\n');\n\tfor(auto p:ans) write(p.x,' ',p.y,' ',p.val,'\\n');\n}\n```",
        "postTime": 1644894105,
        "uid": 169574,
        "name": "Enucai",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1638D \u3010Big Brush\u3011"
    },
    {
        "content": "## Content\n\u5c0f A \u6709\u4e00\u4e2a $n\\times m$ \u7684\u7f51\u683c\u56fe\u3002\u8bbe\u7b2c $i$ \u884c\u7b2c $j$ \u5217\u7684\u683c\u5b50\u4e3a $(i,j)$\uff0c\u989c\u8272\u4e3a $c_{i,j}$\u3002\u521d\u59cb\u65f6\u6240\u6709\u683c\u5b50\u5747\u672a\u6d82\u8272\u3002\u5c0f A \u544a\u8bc9\u4f60\u4ed6\u5c06\u5bf9\u6b64\u7f51\u683c\u56fe\u8fdb\u884c\u82e5\u5e72\u6b21\u5982\u4e0b\u64cd\u4f5c\uff1a\n\n- \u9009\u5b9a\u4e00\u4e2a\u683c\u5b50 $(x,y)$ \u548c\u4e00\u4e2a\u989c\u8272 $C$\uff0c\u9700\u8981\u4fdd\u8bc1 $1\\leqslant x\\leqslant n$\uff0c$1\\leqslant y\\leqslant m$\uff0c$1\\leqslant C\\leqslant nm$\u3002\n- \u5c06 $(x,y)$\uff0c$(x+1,y)$\uff0c$(x,y+1)$\uff0c$(x+1,y+1)$ \u8fd9\u56db\u4e2a\u683c\u5b50\u5747\u6d82\u4e0a\u989c\u8272 $C$\u3002\u5982\u679c\u67d0\u4e2a\u683c\u5b50\u4e4b\u524d\u5df2\u88ab\u6d82\u8272\uff0c\u90a3\u4e48\u539f\u6765\u7684\u989c\u8272\u5c06\u4f1a\u88ab\u8986\u76d6\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5c06 $c_{x,y}$\uff0c$c_{x,y+1}$\uff0c$c_{x+1,y}$\uff0c$c_{x+1,y+1}$ \u7684\u503c\u66ff\u6362\u4e3a $C$\u3002\n\n\u4e0d\u4e45\u4e4b\u540e\uff0c\u5c0f A \u628a\u6d82\u597d\u4e86\u7684\u7f51\u683c\u56fe\u62ff\u7ed9\u4f60\u770b\uff0c\u8fd9\u4e2a\u7f51\u683c\u56fe\u4e0a\u7684\u6240\u6709\u683c\u5b50\u90fd\u6d82\u4e0a\u4e86\u4e00\u79cd\u989c\u8272\u3002\u8bf7\u4f60\u6784\u9020\u51fa\u4e00\u4e2a\u6700\u591a\u5305\u542b $nm$ \u6b21\u64cd\u4f5c\u7684\u65b9\u6848\u3002\u8f93\u51fa\u683c\u5f0f\u5982\u4e0b\uff1a\n\n\u5982\u679c\u5b58\u5728\u6700\u591a $nm$ \u6b21\u64cd\u4f5c\u7684\u65b9\u6848\uff0c\u9996\u5148\u5148\u8f93\u51fa\u4e00\u884c\u4e00\u4e2a\u6574\u6570 $k$ \u8868\u793a\u64cd\u4f5c\u6b21\u6570\uff0c\u63a5\u4e0b\u6765 $k$ \u884c\u6bcf\u884c\u4e09\u4e2a\u6574\u6570\uff0c\u5206\u522b\u8868\u793a\u7b2c $i$ \u6b21\u64cd\u4f5c\u9009\u5b9a\u7684\u683c\u5b50\u7684\u6a2a\u5750\u6807\u3001\u7eb5\u5750\u6807\u548c\u9009\u5b9a\u7684\u989c\u8272\u3002\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u8f93\u51fa\u4e00\u884c `-1`\u3002\n\n**\u6570\u636e\u8303\u56f4\uff1a$2\\leqslant n,m\\leqslant 1000$\uff0c$1\\leqslant c_{i,j}\\leqslant nm$\u3002**\n## Solution\n\u8fd9\u9898\u8003\u573a\u4e0a\u60f3\u5230\u4e86\u601d\u8def\uff0c\u4f46\u662f\u7531\u4e8e\u5199\u7684\u8fc7\u4e8e\u590d\u6742\u800c\u5199\u6302\u4e86\uff0c\u7ed3\u675f\u524d\u4e5f\u6ca1\u8c03\u51fa\u6765\uff0c\u518d\u52a0\u4e0a\u8d5b\u65f6 ABC \u5207\u7684\u592a\u6162\u4ece\u800c\u5bfc\u81f4\u8fd9\u4e00\u573a\u72c2\u6389\u5206 /kk\n\n\u9996\u5148\uff0c\u5982\u679c\u6b63\u7740\u8003\u8651\u7684\u8bdd\u4f1a\u53d1\u73b0\u6839\u672c\u6ca1\u529e\u6cd5\u4e0b\u624b\uff0c\u90a3\u4e48\u6b63\u96be\u5219\u53cd\uff0c\u6211\u4eec\u6765\u8003\u8651\u5012\u8fc7\u6765\u600e\u4e48\u505a\u3002\n\n\u5f88\u5bb9\u6613\u53d1\u73b0\uff0c\u6700\u540e\u4e00\u6b21\u6d82\u8272\u4e4b\u540e\uff0c\u4e00\u5b9a\u4f1a\u6709\u989c\u8272\u76f8\u540c $2\\times 2$ \u7684\u4e00\u5757\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u4e00\u5b9a\u5b58\u5728\u4e00\u4e2a\u683c\u5b50 $(x,y)$\uff0c\u4f7f\u5f97 $c_{x,y}=c_{x,y+1}=c_{x+1,y}=c_{x+1,y+1}$\u3002\u6211\u4eec\u4e0d\u59a8\u5c31\u4ece\u8fd9\u91cc\u4e0b\u624b\uff0c\u5012\u8fc7\u53bb\u63a8\uff0c\u628a\u6574\u4e2a\u7f51\u683c\u56fe\u53d8\u6210\u521d\u59cb\u72b6\u6001\uff0c\u5373\u6240\u6709\u683c\u5b50\u90fd\u672a\u6d82\u8272\u7684\u72b6\u6001\uff0c\u6bcf\u6b21\u63a8\u4e4b\u524d\u8bb0\u5f55\u4e00\u4e0b\u6574\u4e2a\u64cd\u4f5c\u5e8f\u5217\uff0c\u6574\u4e2a\u63a8\u5b8c\u540e\uff0c\u64cd\u4f5c\u5e8f\u5217\u4e5f\u5c31\u51fa\u6765\u4e86\u3002\n\n\u611f\u89c9\u8fd9\u4e2a\u60f3\u6cd5\u975e\u5e38\u7684\u6709\u9053\u7406\uff0c\u7ee7\u7eed\u5f80\u4e0b\u60f3\u3002\u7136\u540e\u6211\u4eec\u53d1\u73b0\u65e0\u89e3\u7684\u72b6\u6001\u4e5f\u5c31\u547c\u4e4b\u6b32\u51fa\u4e86\uff1a**\u5728\u628a\u80fd\u5012\u63a8\u8fc7\u53bb\u7684\u5168\u90e8\u5012\u63a8\u5b8c\u4ee5\u540e\uff0c\u683c\u5b50\u4e0a\u8fd8\u6709\u683c\u5b50\u7684\u989c\u8272\u6ca1\u88ab\u64e6\u9664**\u3002\u6211\u4eec\u53ea\u9700\u8981\u5728\u5012\u63a8\u5b8c\u4ee5\u540e\uff0c\u626b\u4e00\u904d\u8fd9\u4e2a\u7f51\u683c\u56fe\u8fdb\u884c\u5224\u65ad\u5373\u53ef\u3002\n\n\u63a5\u4e0b\u6765\u7684\u5173\u952e\u5c31\u662f\u5982\u4f55\u628a\u989c\u8272\u6309\u7167\u6b21\u5e8f\u64e6\u9664\u3002\u6211\u4eec\u4e0d\u59a8\u8003\u8651\u7528\u6700\u6734\u7d20\u7684 DFS\uff0c\u5373\u4ece\u67d0\u4e2a\u6ee1\u8db3 $c_{x,y}=c_{x+1,y}=c_{x,y+1}=c_{x+1,y+1}$ \u7684 $(x,y)$ \u4e0b\u624b\u3002\u7136\u540e\u53d1\u73b0\u5728\u64e6\u9664\u8fd9\u56db\u4e2a\u683c\u5b50\u7684\u989c\u8272\u4e4b\u540e\uff0c\u53ea\u4f1a\u5f71\u54cd\u4e0e $(x,y)$ \u516b\u8054\u901a\u7684\u6240\u6709\u683c\u5b50\u3002\u7136\u540e\u8003\u8651\u5de6\u4e0a\u89d2\u4e3a\u8fd9\u4e9b\u516b\u8054\u901a\u7684\u683c\u5b50\u7684 $2\\times 2$ \u7684\u4e00\u5757\u7684\u5f53\u524d\u6d82\u8272\u60c5\u51b5\uff0c\u5982\u679c\u6240\u6709\u683c\u5b50\u90fd\u5df2\u7ecf\u88ab\u64e6\u9664\u4e86\uff0c\u90a3\u4e48\u5c31\u4e0d\u7528\u8003\u8651\u8fd9\u4e2a\u683c\u5b50\u4e86\uff0c\u76f4\u63a5\u8df3\u8fc7\u3002\u5426\u5219\uff0c\u518d\u770b\u662f\u5426\u4ec5\u6709\u90e8\u5206\u683c\u5b50\u672a\u6d82\u8272\uff0c\u800c\u5269\u4f59\u6d82\u4e86\u8272\u7684\u683c\u5b50\u989c\u8272\u53c8\u76f8\u540c\u5373\u53ef\uff0c\u5c06\u5176\u8fd8\u539f\u6210\u76f8\u540c\u989c\u8272\u7684 $2\\times 2$ \u7684\u683c\u5b50\u4e4b\u540e\u518d\u7ee7\u7eed\u5f80\u4e0b\u641c\u7d22\uff0c\u4e00\u76f4\u641c\u5230\u6240\u6709\u683c\u5b50\u7684\u989c\u8272\u90fd\u88ab\u64e6\u9664\u4e86\uff0c\u641c\u7d22\u4e5f\u5c31\u7ed3\u675f\u4e86\u3002\n\n\u8fd9\u79cd\u641c\u7d22\u7684\u6700\u574f\u60c5\u51b5\u662f\u5bf9\u6240\u6709\u6ee1\u8db3 $1\\leqslant i<n$\uff0c$1\\leqslant j<m$ \u7684\u683c\u5b50 $(i,j)$ \u90fd\u8fdb\u884c\u4e86\u4e00\u6b21\u64cd\u4f5c\uff0c\u603b\u64cd\u4f5c\u6b21\u6570\u4e5f\u4e0d\u8fc7 $(n-1)(m-1)=nm-n-m-1<nm$\uff0c\u56e0\u6b64\u53ef\u4ee5\u8bf4\u660e\u6211\u4eec\u641c\u7d22\u7684\u6b63\u786e\u6027\u3002\n\n\u6ce8\u610f\uff0c\u7531\u4e8e\u6211\u4eec\u662f\u5012\u63a8\u5230\u521d\u59cb\u72b6\u6001\u7684\uff0c\u800c\u6211\u4eec\u60f3\u5f97\u5230\u7684\u64cd\u4f5c\u5e8f\u5217\u662f\u8981\u4ece\u521d\u59cb\u72b6\u6001\u6b63\u63a8\u8fc7\u53bb\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u5e94\u5f53\u5012\u7740\u628a\u6574\u4e2a\u64cd\u4f5c\u5e8f\u5217\u8f93\u51fa\u4e00\u904d\u3002\n## Code\n```cpp\nnamespace Solution {\n    const int N = 1007;\n    const int dx[] = {1, -1, 0, 0, 1, -1, 1, -1};\n    const int dy[] = {0, 0, 1, -1, 1, -1, -1, 1};\n    int n;\n    int m;\n    int col[N][N];\n    struct qry {\n\t\tint x;\n\t\tint y;\n\t\tint c;\n\t};\n\tvector<qry> res;\n\t\n\tint get_col(int x, int y) {\n\t\tif(!col[x][y]\n\t\t&& !col[x][y + 1]\n\t\t&& !col[x + 1][y]\n\t\t&& !col[x + 1][y + 1])\n\t\t\treturn 0;\n\t\tint ans;\n\t\tif(col[x][y])\n\t\t\tans = col[x][y];\n\t\telse if(col[x][y + 1])\n\t\t\tans = col[x][y + 1];\n\t\telse if(col[x + 1][y])\n\t\t\tans = col[x + 1][y];\n\t\telse if(col[x + 1][y + 1])\n\t\t\tans = col[x + 1][y + 1];\n\t\tif((col[x][y] && ans != col[x][y])\n\t\t|| (col[x + 1][y] && ans != col[x + 1][y])\n\t\t|| (col[x][y + 1] && ans != col[x][y + 1])\n\t\t|| (col[x + 1][y + 1] && ans != col[x + 1][y + 1]))\n\t\t\treturn 0;\n\t\treturn ans;\n\t}\n\tvoid dfs(int x, int y) {\n\t\tint c = get_col(x, y);\n\t\tif(!c)\n\t\t\treturn;\n\t\tres.push_back((qry){x, y, c});\n\t\tcol[x][y] =\n\t\tcol[x][y + 1] = \n\t\tcol[x + 1][y] = \n\t\tcol[x + 1][y + 1] = 0;\n\t\tfor(int i = 0; i <= 7; ++i) {\n\t\t\tif(x + dx[i] < 1 || x + dx[i] >= n || y + dy[i] < 1 || y + dy[i] >= m)\n\t\t\t\tcontinue;\n\t\t\tdfs(x + dx[i], y + dy[i]);\n\t\t}\n\t}\n\n\tvoid Main() {\n        read(n, m);\n        for(int i = 1; i <= n; ++i)\n            for(int j = 1; j <= m; ++j)\n                read(col[i][j]);\n        for(int i = 1; i < n; ++i)\n        \tfor(int j = 1; j < m; ++j)\n        \t\tif(col[i][j] == col[i][j + 1]\n\t\t\t\t&& col[i][j] == col[i + 1][j]\n\t\t\t\t&& col[i][j] == col[i + 1][j + 1])\n\t\t\t\t\tdfs(i, j);\n\t\tfor(int i = 1; i <= n; ++i)\n\t\t\tfor(int j = 1; j <= m; ++j)\n\t\t\t\tif(col[i][j]) {\n\t\t\t\t\tputs(\"-1\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\twrite(res.size());\n\t\tputs(\"\");\n\t\treverse(res.begin(), res.end());\n\t\tfor(auto i : res)\n\t\t\tprintf(\"%d %d %d\\n\", i.x, i.y, i.c);\n\t\treturn;\n\t}\n}\n```",
        "postTime": 1644984558,
        "uid": 112917,
        "name": "Eason_AC",
        "ccfLevel": 6,
        "title": "CF1638D Big Brush"
    },
    {
        "content": "\u8003\u573a\u4e0a\u60f3\u51fa\u6765\u4e86\uff0c\u53ef\u60dc\u88ab\u6293\u53bb\u7761\u89c9\u4e86\u3002\n\n\u9996\u5148\u5982\u679c\u6211\u4eec\u8981\u6b63\u7740\u6784\u9020\u7684\u8bdd\u4e0d\u592a\u597d\u6784\u9020\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u89c2\u5bdf\u5230\u4e00\u4e2a\u7279\u70b9\uff1a\u5728\u6700\u540e\u4e00\u6b65\u64cd\u4f5c\u540e\u4e00\u5b9a\u4f1a\u7559\u4e0b\u4e00\u4e2a $2 \\times 2$ \u7684\u540c\u8272\u65b9\u683c\uff0c\u8fd9\u5c31\u5f15\u5bfc\u6211\u4eec\u5f80\u6784\u9020\u9898\u7684\u5e38\u89c1\u5957\u8def\u2014\u2014\u53cd\u5411\u6784\u9020\u6765\u60f3\u3002\n\n\u8003\u8651\u5c06\u4e00\u4e2a $2 \\times 2$ \u65b9\u5757\u67d3\u6210\u540c\u8272\u7684\u53cd\u64cd\u4f5c\uff1a\u5c06\u4e00\u4e2a $2 \\times 2$ \u7684\u540c\u8272\u65b9\u5757\u66ff\u6362\u6210\u4efb\u610f\u989c\u8272\u3002\u5c06\u65e0\u8272\u65b9\u5757\u770b\u6210\u53ef\u4ee5\u53d8\u4f5c\u4efb\u610f\u989c\u8272\u7684\u65b9\u5757\uff0c\u64cd\u4f5c\u53d8\u4e3a\u5c06 $2 \\times 2$ \u7684\u540c\u8272\u65b9\u5757\u53d8\u4e3a\u65e0\u8272\uff0c\u4e4b\u540e\u7531\u4e8e\u65e0\u8272\u65b9\u5757\u53ef\u4ee5\u53d8\u4f5c\u4efb\u4f55\u989c\u8272\uff0c\u56e0\u6b64\u5982\u679c\u6709\u4e00\u4e2a\u6b8b\u7f3a\u7684 $2 \\times 2$ \u540c\u8272\u65b9\u5757\u4f46\u5176\u6240\u7f3a\u5c11\u7684\u90e8\u5206\u662f\u65e0\u8272\u65b9\u5757\uff0c\u90a3\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u5c06\u65e0\u8272\u65b9\u5757\u770b\u505a\u8fd9\u79cd\u989c\u8272\uff0c\u76f4\u63a5\u5c06\u5176\u6d88\u6389\u3002\n\n\u8003\u8651\u6d88\u6389\u4e00\u4e2a $2 \\times 2$ \u65b9\u5757\u540e\u5f71\u54cd\u7684\u6700\u591a\u662f\u4ee5\u5176\u4e3a\u4e2d\u5fc3\u7684 $4 \\times 4$ \u65b9\u5757\uff0c\u5176\u5de6\u4e0a\u89d2\u6700\u591a\u5728\u539f\u672c\u5de6\u4e0a\u89d2\u7684\u516b\u8fde\u901a\u5757\u4f4d\u7f6e\uff0c\u56e0\u6b64\u5f80\u539f\u672c\u5de6\u4e0a\u89d2\u7684\u516b\u8fde\u901a\u5757\u641c\u7d22\u5373\u53ef\uff0c\u4ee3\u7801\u7b80\u5355\uff0c\u53ef\u4ee5\u81ea\u884c\u5199\u51fa\u3002\n\n\u6389\u5927\u5206.jpg",
        "postTime": 1645526110,
        "uid": 124918,
        "name": "LinkyChristian",
        "ccfLevel": 6,
        "title": "\u3010\u9898\u89e3\u3011CF1638D Big Brush"
    },
    {
        "content": "# CF1638D \u9898\u89e3\n\n\n\n## \u601d\u8def\u5206\u6790\n\n\u8003\u8651\u4ece\u7ed3\u679c\u5165\u624b\uff0c\u6bcf\u6b21\u9009\u62e9\u4e00\u4e2a $2\\times2$ \u7684\u540c\u8272\u65b9\u683c\u6e05\u7a7a\uff0c\u6700\u540e\u5012\u5e8f\u64cd\u4f5c\u5373\u53ef\u3002\n\n\u7531\u4e8e\u6bcf\u4e2a\u4f4d\u7f6e\u53ea\u4f1a\u88ab\u6700\u540e\u4e00\u4e2a\u64cd\u4f5c\u8986\u76d6\uff0c\u90a3\u4e48\u5012\u5e8f\u64cd\u4f5c\u65f6\u5df2\u7ecf\u88ab\u64cd\u4f5c\u7684\u683c\u5b50\u53ef\u4ee5\u91cd\u590d\u64cd\u4f5c\u3002\n\n\u56e0\u6b64\u6bcf\u6b21\u9009\u62e9\u4e00\u4e2a\u5408\u6cd5\u7684\u540c\u8272\u65b9\u683c\u6e05\u7a7a\u4e00\u5b9a\u6ca1\u6709\u540e\u6548\u6027\uff0c\u6ce8\u610f\u5230\u6bcf\u4e2a\u683c\u5b50\u81f3\u591a\u88ab\u6e05\u7a7a\u4e00\u6b21\uff0c\u6240\u4ee5\u64cd\u4f5c\u6b21\u6570\u4e00\u5b9a\u5728 $n\\times m$ \u4ee5\u5185\u3002\n\n\u4e0d\u8fc7\u5982\u679c\u66b4\u529b\u627e\u64cd\u4f5c\u4f4d\u7f6e\u662f $\\Theta(nm)$ \u7684\uff0c\u91cd\u590d $n\\times m$ \u6b21\u4f1a\u8d85\u65f6\u3002\n\n\u6ce8\u610f\u5230\u6e05\u7a7a\u4e00\u4e2a\u65b9\u683c\u540e\uff0c\u53ea\u6709\u53ef\u80fd\u5f71\u54cd\u4e0e\u5176\u76f8\u4ea4\u7684 $9$ \u4e2a\u65b9\u683c\uff0c\u4f7f\u5f97\u8fd9\u4e9b\u65b9\u683c\u53ef\u4ee5\u88ab\u64cd\u4f5c\uff0c\u56e0\u6b64\u505a\u4e00\u904d BFS \u5373\u53ef\u3002\n\n\u5982\u679c BFS \u7ed3\u675f\u540e\u8fd8\u6709\u4f4d\u7f6e\u6ca1\u88ab\u6e05\u7a7a\u5219\u8f93\u51fa\u65e0\u89e3\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\Theta(nm)$\u3002\n\n## \u4ee3\u7801\u5448\u73b0\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAXN=1001;\nconst int dx[]={-1,-1,-1,0,0,1,1,1};\nconst int dy[]={-1,0,1,-1,1,-1,0,1};\nstruct node {\n\tint x,y,c;\n};\nint a[MAXN][MAXN];\ninline bool valid(int x,int y) {\n\tint col=max(max(a[x][y],a[x+1][y+1]),max(a[x][y+1],a[x+1][y]));\n\tif(!col) return false;\n\treturn (a[x][y]==col||a[x][y]==0)&&(a[x+1][y+1]==col||a[x+1][y+1]==0)&&\n\t\t   (a[x+1][y]==col||a[x+1][y]==0)&&(a[x][y+1]==col||a[x][y+1]==0);\n}\ninline int color(int x,int y) {\n\treturn max(max(a[x][y],a[x+1][y+1]),max(a[x][y+1],a[x+1][y]));\n}\nsigned main() {\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tvector <node> op; queue <node> q;\n\tfor(int i=1;i<=n;++i) {\n\t\tfor(int j=1;j<=m;++j) {\n\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t}\n\t}\n\tfor(int i=1;i<n;++i) {\n\t\tfor(int j=1;j<m;++j) {\n\t\t\tif(valid(i,j)) q.push((node){i,j,0});\n\t\t}\n\t}\n\twhile(!q.empty()) {\n\t\tint x=q.front().x,y=q.front().y; q.pop();\n\t\tif(color(x,y)==0) continue;\n\t\top.push_back((node){x,y,color(x,y)});\n\t\ta[x][y]=a[x+1][y]=a[x][y+1]=a[x+1][y+1]=0;\n\t\tfor(int k=0;k<8;++k) {\n\t\t\tint tx=x+dx[k],ty=y+dy[k];\n\t\t\tif(tx<1||ty<1||tx>=n||ty>=m) continue;\n\t\t\tif(valid(tx,ty)) q.push((node){tx,ty,0});\n\t\t}\n\t}\n\tfor(int i=1;i<=n;++i) {\n\t\tfor(int j=1;j<=m;++j) {\n\t\t\tif(a[i][j]!=0) {\n\t\t\t\tputs(\"-1\");\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",(int)op.size());\n\treverse(op.begin(),op.end());\n\tfor(auto u:op) printf(\"%d %d %d\\n\",u.x,u.y,u.c);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1672624839,
        "uid": 539618,
        "name": "DaiRuiChen007",
        "ccfLevel": 6,
        "title": "CF1638D \u9898\u89e3"
    },
    {
        "content": "# \u9898\u76ee\u5927\u610f\n\u7ed9\u5b9a\u4e00\u4e2a\u5927\u5c0f\u4e3a $n\\times m$ \u7684\u753b\u677f\uff0c\u521d\u59cb\u753b\u677f\u4e0a\u6ca1\u6709\u4efb\u4f55\u989c\u8272\uff0c\u6bcf\u6b21\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a $2\\times 2$ \u7684\u5c0f\u6b63\u65b9\u5f62\u8fdb\u884c\u989c\u8272\u586b\u5145\u3002\u7ed9\u5b9a\u753b\u677f\u7684\u6700\u7ec8\u5f62\u6001\uff0c\u5224\u65ad\u662f\u5426\u53ef\u4ee5\u5728 $nm$ \u6b65\u5185\u7ed8\u5236\u51fa\u8fd9\u6837\u7684\u5f62\u6001\uff0c\u5982\u679c\u53ef\u4ee5\uff0c\u7ed9\u51fa**\u4efb\u610f\u4e00\u79cd**\u53ef\u884c\u7684\u7ed8\u5236\u65b9\u6848\uff0c\u5426\u5219\u8f93\u51fa $-1$ \u3002\n\n# \u89e3\u9898\u601d\u8def\n\u8003\u8651 **\u5012\u63a8** \u6700\u540e\u753b\u4e0a\u7684\u4e00\u7b14\u80af\u5b9a\u662f\u7ed9\u51fa\u753b\u677f\u4e0a\u7684\u4e00\u4e2a\u5927\u5c0f\u4e3a $2\\times 2$ \u7684\u989c\u8272\u76f8\u540c\u7684\u5c0f\u6b63\u65b9\u5f62\u3002\u5c06\u5b83\u627e\u51fa\u6765\u540e\uff0c\u5b58\u5165\u7b54\u6848\uff0c\u518d\u505a\u597d\u7279\u6b8a\u6807\u8bb0\u3002\u63a5\u4e0b\u6765\u518d\u7ee7\u7eed\u5bfb\u627e\uff0c\u8981\u627e\u7684\u662f **\u53ea\u542b\u6709\u4e00\u79cd\u989c\u8272\uff08\u5fc5\u987b\u542b\u6709\uff09 \u548c\u7279\u6b8a\u6807\u8bb0\u7684 $2\\times 2$ \u7684\u5c0f\u6b63\u65b9\u5f62** \uff0c\u53ef\u4ee5\u8fd9\u6837\u4e00\u76f4\u91cd\u590d\u4e0b\u53bb\uff0c\u76f4\u5230\u8fd9\u79cd\u5c0f\u6b63\u65b9\u5f62\u627e\u4e0d\u51fa\u6765\u3002\u6700\u540e\u518d\u68c0\u67e5\u4e00\u904d\u753b\u677f\uff0c\u5982\u679c\u8fd8\u6709\u683c\u5b50\u6709\u989c\u8272\uff0c\u5219\u65e0\u6cd5\u6d82\u6210\u7ed9\u5b9a\u7684\u6837\u5f0f\u3002\n\n\u53e6\u5916\u6cbb\u7406\u6709\u4e00\u4e2a\u5751\u70b9\uff1a\u9898\u76ee\u8981\u6c42\u8f93\u51fa\u7684\u662f\uff1a\n\n> \u5982\u679c\u53ef\u4ee5\uff0c\u7ed9\u51fa**\u4efb\u610f\u4e00\u79cd**\u53ef\u884c\u7684\u7ed8\u5236\u65b9\u6848\u3002\n\n\u800c\u4e0d\u662f\uff1a\n\n> \u5982\u679c\u53ef\u4ee5\uff0c\u7ed9\u51fa**\u6b65\u6570\u6700\u5c11\u7684\u4e00\u79cd**\u53ef\u884c\u7684\u7ed8\u5236\u65b9\u6848\u3002\n\n\u6240\u4ee5\u53ea\u9700\u8981\u627e\u5230\u53ef\u884c\u65b9\u6848\uff0c\u4e0d\u9700\u8981\u4fdd\u8bc1\u81ea\u5df1\u7684\u65b9\u6848\u548c\u6837\u4f8b\u4e2d\u7684\u6b65\u6570\u4e00\u6837\u3002\n\n\u6ce8\uff1a\u6b65\u6570\u6bd4\u6837\u4f8b\u591a\u662f\u56e0\u4e3a\u6709\u65f6\u6837\u4f8b\u4e2d\u7ed9\u51fa\u7684\u65b9\u6848\u6d82\u7684\u662f\u65b9\u6846\u4e00\uff0c\u800c\u6211\u4eec\u7684\u4ee3\u7801\u4f1a\u5148\u641c\u5230\u65b9\u6846\u4e8c\u3002\n\n![\u54ce\u5440\uff0c\u56fe\u7247\u52a0\u8f7d\u5931\u8d25\u4e86\u5462](https://cdn.luogu.com.cn/upload/image_hosting/oq53f4eb.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n# AC Code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,a[1005][1005],k,sum;//sum\u8868\u793a\u6253\u4e0a\u7279\u6b8a\u6807\u8bb0\u7684\u683c\u5b50\u6570\nstruct xxx\n{\n    int x;\n    int y;\n    int color;\n}ans[1000005];\nvoid p(int x,int y)\n{\n    if(!x||!y||x==n||y==m)return ;\n    //31~35\u884c\u53c2\u8003\u4e86\u5176\u5b83\u9898\u89e3\u7684\u505a\u6cd5\u3002\n    int v[]={a[x][y],a[x][y+1],a[x+1][y],a[x+1][y+1]};\n    sort(v,v+4);\n    if(!v[3])return ;//\u6ca1\u6709\u989c\u8272\uff0c\u4e0d\u7528\u518d\u5237\u4e00\u6b21\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u6b65\u6570\u5c0f\u4e8enm\n    for(int i=0;i<=2;i++)if(v[i]&&v[i]!=v[3])return ;//\u989c\u8272\u76f8\u540c\n    ans[++k].x=x;ans[k].y=y;ans[k].color=v[3];\n    //38~41\u884c\u4e3a\u6253\u7279\u6b8a\u6807\u8bb0\uff0c\u8fd9\u91cc\u6211\u75280\u4f5c\u4e3a\u7279\u6b8a\u6807\u8bb0\n    if(a[x][y])a[x][y]=0,sum++;\n    if(a[x][y+1])a[x][y+1]=0,sum++;\n    if(a[x+1][y])a[x+1][y]=0,sum++;\n    if(a[x+1][y+1])a[x+1][y+1]=0,sum++;\n    p(x-1,y-1);p(x-1,y);p(x-1,y+1);p(x,y-1);\n    p(x,y+1);p(x+1,y-1);p(x+1,y);p(x+1,y+1);\n    return ;\n}\nsigned main()\n{\n    ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);\n    cin>>n>>m;\n    for(int i=1;i<=n;i++)for(int j=1;j<=m;j++)cin>>a[i][j];\n    for(int i=1;i<n;i++)for(int j=1;j<m;j++)p(i,j);\n    if(sum!=m*n)\n    {\n        cout<<\"-1\";\n        return 0;\n    }\n    cout<<k<<\"\\n\";\n    for(int i=k;i;i--)cout<<ans[i].x<<\" \"<<ans[i].y<<\" \"<<ans[i].color<<\"\\n\";\n    return 0;\n}\n```\n",
        "postTime": 1672409314,
        "uid": 612070,
        "name": "yaoyuchen2021",
        "ccfLevel": 0,
        "title": "CF1638D \u9898\u89e3"
    },
    {
        "content": "### $\\text{Difficulty : 2000}$\n---\n### \u89e3\u9898\u601d\u8def\uff1a\n\n\u6b63\u96be\u5219\u53cd\uff0c\u8003\u8651\u5012\u63a8\u3002\n\n\u4efb\u610f\u4e00\u4e2a\u56db\u4e2a\u6574\u5757\u7684\u4f4d\u7f6e\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u6700\u540e\u4e00\u753b\uff0c\u5148\u5c06\u8fd9\u4e9b\u4f4d\u7f6e\u5165\u961f\uff0c\u7136\u540e\u66b4\u529b $\\text{BFS}$ \u5411\u56db\u5468\u62d3\u5c55\u5c31\u884c\u4e86\u3002\n\n\u603b\u590d\u6742\u5ea6 $O(mn)$\u3002\n\n---\n\u6ce8\u610f\u4e0d\u8981\u628a $n$ \u548c $m$ \u5199\u53cd\u3002\n\n---\n### \u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<queue>\nusing namespace std;\nint n,m,a[1005][1005],ax[1005*1005],cnt,nx,ny;\nint x,ay[1005*1005],ac[1005*1005];\nqueue <int> qx,qy;\nint _check(int x1,int y1,int x2,int y2,int x3,int y3,int x4,int y4){\n\tint flag=0;\n\tif(a[x1][y1]!=0)flag=a[x1][y1];\n\tif(a[x2][y2]!=0){\n\t\tif(flag!=0&&flag!=a[x2][y2])return 0;\n\t\tflag=a[x2][y2];\n\t}\n\tif(a[x3][y3]!=0){\n\t\tif(flag!=0&&flag!=a[x3][y3])return 0;\n\t\tflag=a[x3][y3];\n\t}\n\tif(a[x4][y4]!=0){\n\t\tif(flag!=0&&flag!=a[x4][y4])return 0;\n\t\tflag=a[x4][y4];\n\t}\n\treturn flag;\n}\nint check(int x,int y){\n\tif(x+1>n||y+1>m||x<=0||y<=0)return 0;\n\treturn _check(x,y,x+1,y,x,y+1,x+1,y+1);\n}\nvoid clear(int x,int y){\n\ta[x][y]=0;\n\ta[x+1][y+1]=0;\n\ta[x+1][y]=0;\n\ta[x][y+1]=0;\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=m;j++)\n\tscanf(\"%d\",&a[i][j]);\n\tfor(int i=1;i<n;i++)\n\tfor(int j=1;j<m;j++)\n\tif(x=check(i,j)){\n\t\tqx.push(i);qy.push(j);\n\t\tcnt++;ax[cnt]=i;ay[cnt]=j;ac[cnt]=x;\n\t\tclear(i,j);\n\t}\n\twhile(!qx.empty()){\n\t\tnx=qx.front();\n\t\tny=qy.front();\n\t\tqx.pop();qy.pop();\n\t\tfor(int i=-1;i<=1;i++)\n\t\tfor(int j=-1;j<=1;j++)\n\t\tif(x=check(nx+i,ny+j)){\n\t\t\tqx.push(nx+i);qy.push(ny+j);\n\t\t\tcnt++;ax[cnt]=nx+i;ay[cnt]=ny+j;ac[cnt]=x;\n\t\t\tclear(nx+i,ny+j);\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=m;j++)\n\tif(a[i][j]!=0){\n\t\tprintf(\"-1\\n\");\n\t\treturn 0;\n\t}\n\tprintf(\"%d\\n\",cnt);\n\tfor(int i=cnt;i>=1;i--)\n\tprintf(\"%d %d %d\\n\",ax[i],ay[i],ac[i]);\n\treturn 0;\n}\n```\n",
        "postTime": 1648124903,
        "uid": 223559,
        "name": "qxp101",
        "ccfLevel": 6,
        "title": "CF1638D Big Brush \u9898\u89e3"
    },
    {
        "content": "\u8003\u8651\u5012\u63a8\u3002\n\n\u8bbe\u5f53\u524d\u53ef\u80fd\u6ca1\u6709\u989c\u8272\u7684\u533a\u5757\u7684\u989c\u8272\u4e3a $-1$\u3002\n\n\u82e5\u5f53\u524d\u7684\u56fe\u542b\u6709\u4e00\u4e2a\u53ea\u7531 $-1$ \u548c\u67d0\u4e00\u79cd\u989c\u8272\u7684 $2\\times 2$ \u77e9\u5f62\uff0c\u5219\u5c06\u8fd9\u4e2a\u77e9\u5f62\u7684\u989c\u8272\u5168\u90e8\u8bbe\u4e3a $-1$\uff0c\u5e76\u7edf\u8ba1\u589e\u52a0\u7684 $-1$ \u4e2a\u6570\u3002\n\n\u82e5 $-1$ \u7684\u4e2a\u6570\u7b49\u4e8e\u56fe\u7684\u5927\u5c0f\uff08\u5373 $n\\times m$\uff09\uff0c\u5219\u6709\u89e3\u3002\u89e3\u53ef\u4ee5\u5728 dfs \u65f6\u987a\u4fbf\u6c42\u51fa\u3002\n\n\u5426\u5219\uff0c\u8f93\u51fa\u65e0\u89e3\u5373\u53ef\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstack<int>s,ss,sss;\nint n,m,qaq,qwq[1005][1005],mp[1005][1005],dx[4]={0,0,1,1},dy[4]={0,1,0,1},ddx[8]={-1,-1,-1,0,0,1,1,1},ddy[8]={-1,0,1,-1,1,-1,0,1};\nvoid dfs(int x,int y){\n\ts.push(x);\n\tss.push(y);\n\tqwq[x][y]=1;\n\tint col=-1;\n\tfor(int j=0;j<4;j++)\n\t\tif(mp[x+dx[j]][y+dy[j]]!=-1)\n\t\t\tcol=mp[x+dx[j]][y+dy[j]],mp[x+dx[j]][y+dy[j]]=-1,qaq++;\n\tsss.push(col);\n\tmp[x][y]=mp[x+1][y]=mp[x][y+1]=mp[x+1][y+1]=-1;\n\tfor(int i=0;i<8;i++)\n\t\tif(x+ddx[i]>=1&&x+ddx[i]<n&&y+ddy[i]>=1&&y+ddy[i]<m&&qwq[x+ddx[i]][y+ddy[i]]==0){\n\t\t\tint ans=-1;\n\t\t\tfor(int j=0;j<4;j++)\n\t\t\t\tif(mp[x+ddx[i]+dx[j]][y+ddy[i]+dy[j]]!=-1){\n\t\t\t\t\tif(ans!=-1&&ans!=mp[x+ddx[i]+dx[j]][y+ddy[i]+dy[j]]){\n\t\t\t\t\t\tans=-2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif(ans==-1)ans=mp[x+ddx[i]+dx[j]][y+ddy[i]+dy[j]];\n\t\t\t\t}\n\t\t\tif(ans>=0)dfs(x+ddx[i],y+ddy[i]);\n\t\t}\n\tif(qaq==n*m){\n\t\tprintf(\"%d\\n\",s.size());\n\t\twhile(!s.empty()){\n\t\t\tprintf(\"%d %d %d\\n\",s.top(),ss.top(),sss.top());\n\t\t\ts.pop();\n\t\t\tss.pop();\n\t\t\tsss.pop();\n\t\t}\n\t\texit(0);\n\t}\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tscanf(\"%d\",&mp[i][j]);\n\tfor(int i=1;i<n;i++)\n\t\tfor(int j=1;j<m;j++)\n\t\t\tif(mp[i][j]==mp[i][j+1]&&mp[i][j]==mp[i+1][j]&&mp[i][j]==mp[i+1][j+1]&&mp[i][j]!=-1)\n\t\t\t\tdfs(i,j);\n\tputs(\"-1\");\n\treturn 0;\n} \n```",
        "postTime": 1645229065,
        "uid": 104662,
        "name": "PrincessQi",
        "ccfLevel": 0,
        "title": "CF1638D"
    },
    {
        "content": "#### \u601d\u8def\n\u9006\u5411\u601d\u7ef4\u3002\n\n\u627e\u51fa\u6700\u540e\u4e00\u4e2a\u586b\u5145\u7684 $2*2$ \u7684\u65b9\u683c\uff0c\u7136\u540e\u64a4\u9500\u67d3\u8272\u64cd\u4f5c\uff0c\u518d\u4ee5\u8fd9\u4e2a\u65b9\u683c\u4e3a\u8d77\u70b9\u7ee7\u7eed\u6269\u5c55\uff0c\u76f4\u5230\u628a\u6574\u4e2a\u56fe\u6269\u5c55\u5230\u6ca1\u6709\u67d3\u8272\u4e3a\u6b62\u3002\u5982\u679c\u65e0\u6cd5\u7ee7\u7eed\u6269\u5c55\uff0c\u5219\u8f93\u51fa $-1$\u3002\n\n#### \u7ec6\u8282\n1. \u5f00\u59cb\u65f6\u627e\u51fa\u7684\u65b9\u683c\u53ca\u5f00\u59cb\u540e\u6269\u5c55\u7684\u65b9\u683c\u7528\u961f\u5217\u5168\u90e8\u50a8\u5b58\uff0c\u9010\u4e00\u5904\u7406\u3002\n2. \u6269\u5c55\u65f6\u8bb0\u5f55\u64cd\u4f5c\u7528\u6808\u8bb0\u5f55\uff0c\u6700\u540e\u5012\u5e8f\u8f93\u51fa\u5373\u53ef\u3002\n3. \u6269\u5c55\u65f6\u5206\u4e24\u79cd\u60c5\u51b5\uff0c\u4e09\u7f3a\u4e00\u548c\u4e24\u4e2a\u8fde\u7740\uff0c\u6837\u4f8b $1$ \u4e2d\u6700\u540e\u4e00\u6b65\u64a4\u9500\u540e\u5373\u4e3a\u4e24\u4e2a\u8fde\u7740\u7684\u60c5\u51b5\uff0c\u8fd9\u4e2a\u9700\u8981\u5206\u60c5\u51b5\u8ba8\u8bba\u4e00\u4e0b\u3002\n\n#### Code\n\u4e2a\u4eba\u611f\u89c9\u6211\u7684\u4ee3\u7801\u76f8\u6bd4\u5176\u4ed6\u9898\u89e3\u6765\u8bf4\u8fd8\u662f\u6bd4\u8f83\u6e05\u6670\u7684\uff0c\u66f4\u52a0\u4fbf\u4e8e\u7406\u89e3\uff0c~~\u5c31\u662f\u8003\u573a\u6ca1\u8c03\u51fa\u6765\u3002~~\n\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\n#define forever return\nusing namespace std;\n\nnamespace IO\n{\n\ttemplate < typename T > inline void write( T x )\n\t{\n\t    if(x < 0)\n\t        putchar('-') , x = - x;\n\t    if(x == 0)\n\t    {\n\t        putchar('0') ;\n\t        return ;\n\t    }\n\t    if(x > 9)\n\t        write(x / 10) ;\n\t    putchar(x % 10 + '0') ;\n\t    return ;\n\t}\n\ttemplate < typename T > inline void read( T &x )\n\t{\n\t    x = 0 ; int w = 1 ; char ch = getchar() ;\n\t    while( !isdigit( ch ) ) { if(ch == '-') w = -1 ; ch = getchar() ; }\n\t    while( isdigit( ch ) ) x = (x << 1) + (x << 3) + (ch ^ 48) , ch = getchar() ;\n\t    x *= w;\n\t}\n}\n\n#define writeln(x) write(x) , putchar('\\n')\n#define writesp(x) write(x) , putchar(' ')\nusing namespace IO ;\n\n//#define writeln(x) write(x),pc('\\n')\n//#define writesp(x) write(x),pc(' ')\n//using namespace FastIO ;\n\n/* ------------------------------------------------------------------------------------------------------------------------ */\nint n , m ;\nint a[2020][2020] ;\nstruct node\n{\n\tint x , y ;\n\tint c ;\n} ;\nqueue < pair < int , int > > q ;\nstack < node > op ; \nsigned main()\n{\n\tread( n ) , read( m ) ;\n\tfor( int i = 1 ; i <= n ; ++ i )\n\t\tfor( int j = 1 ; j <= m ; ++ j )\n\t\t\tread( a[i][j] ) ;\n\tfor( int i = 1 ; i <= n ; ++ i )\n\t{\n\t\tfor( int j = 1 ; j <= m ; ++ j )\n\t\t{\n\t\t\tif( a[i][j] == a[i][j + 1] && a[i + 1][j] == a[i][j] && a[i + 1][j + 1] == a[i][j])\n\t\t\t\tq.push(make_pair(i,j));\n\t\t}\n\t}\n\twhile( q.size() ) \n\t{\n\t\tpair<int,int> fr = q.front() ;\n\t\ta[fr.first][fr.second]=0;\n\t\ta[fr.first+1][fr.second+1]=0;\n\t\ta[fr.first+1][fr.second]=0;\n\t\ta[fr.first][fr.second+1]=0;\n\t\t//\u4fe9\u8fde\u7740\u7684\n\t\tif(fr.first!=1&&a[fr.first-1][fr.second]==a[fr.first-1][fr.second+1])\n\t\t{\n\t\t\tq.push(make_pair(fr.first-1,fr.second));\n\t\t\top.push(node{fr.first-1 ,  fr.second , a[fr.first-1][fr.second] } ) ;\t\n\t\t} //\u6b63\u4e0a\n\t\tif(fr.first!=n-1&&a[fr.first+2][fr.second]==a[fr.first+2][fr.second+1])\n\t\t{\n\t\t\tq.push(make_pair(fr.first+2,fr.second));\n\t\t\top.push(node{fr.first+2 ,  fr.second , a[fr.first+2][fr.second] } ) ;\n\t\t} //\u6b63\u4e0b \n\t\tif(fr.second!=1&&a[fr.first][fr.second-1]==a[fr.first+1][fr.second-1])\n\t\t{\n\t\t\tq.push(make_pair(fr.first,fr.second-1));\n\t\t\top.push(node{fr.first ,  fr.second-1 , a[fr.first][fr.second-1] } ) ;\n\t\t} //\u6b63\u5de6 \n\t\tif(fr.second!=n-1&&a[fr.first][fr.second+2]==a[fr.first+1][fr.second+2])\n\t\t{\n\t\t\tq.push(make_pair(fr.first,fr.second+2));\n\t\t\top.push(node{fr.first ,  fr.second+2 , a[fr.first][fr.second+2] } ) ;\n\t\t} //\u6b63\u5de6 \n\t\t//\u4e09\u7f3a\u4e00\n\t\tif(fr.first!=1&&fr.second!=n&&a[fr.first-1][fr.second+1]==a[fr.first-1][fr.second+2]&&a[fr.first-1][fr.second+2]==a[fr.first][fr.second+2])\n\t\t{\n\t\t\tq.push(make_pair(fr.first-1,fr.second+1));\n\t\t\top.push(node{fr.first-1 ,  fr.second+1 , a[fr.first-1][fr.second+1] } ) ;\n\t\t }//\u53f3\u4e0a\n\t\tif(fr.first!=1&&fr.second!=1&&a[fr.first-1][fr.second]==a[fr.first-1][fr.second-1]&&a[fr.first-1][fr.second-1]==a[fr.first][fr.second-1])\n\t\t{\n\t\t\tq.push(make_pair(fr.first-1,fr.second+1));\n\t\t\top.push(node{fr.first-1 ,  fr.second-1 , a[fr.first-1][fr.second-1] } ) ;\n\t\t } //\u5de6\u4e0a\n\t\t  if(fr.first!=1&&fr.second!=n&&a[fr.first+1][fr.second+2]==a[fr.first+2][fr.second+1]&&a[fr.first+2][fr.second+2]==a[fr.first+1][fr.second+2])\n\t\t{\n\t\t\tq.push(make_pair(fr.first+1,fr.second+1));\n\t\t\top.push(node{fr.first+1 ,  fr.second+1 , a[fr.first+1][fr.second+1] } ) ;\n\t\t }//\u53f3\u4e0b \n\t\t if(fr.first!=1&&fr.second!=n&&a[fr.first+1][fr.second-1]==a[fr.first+2][fr.second-1]&&a[fr.first+2][fr.second]==a[fr.first+2][fr.second-1])\n\t\t{\n\t\t\tq.push(make_pair(fr.first+1,fr.second+1));\n\t\t\top.push(node{fr.first+1 ,  fr.second-1 , a[fr.first+1][fr.second-1] } ) ;\n\t\t }//\u5de6\u4e0b \n\t\tq.pop() ;\n\t}\n\twhile(op.size())\n\t{\n\t\tnode fr = op.top();\n\t\tcout<<fr.x<<\" \"<<fr.y<<\" \" <<fr.c<< \" \" << endl;\n\t\top.pop();\n\t}\n\tforever 0 ;\n}\n\n\n```",
        "postTime": 1644923019,
        "uid": 90510,
        "name": "Hywel",
        "ccfLevel": 5,
        "title": "CF1638D"
    }
]