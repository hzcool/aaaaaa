[
    {
        "content": "~~\u8fd9\u5c31\u662f CF \u8bc4\u5206 2700 \u7684\u9898\u5417\uff0c\u8fd8\u771f\u662f\u6709\u591f\u597d\u7b11\u7684\u5462~~\n\n\u9898\u610f\uff1a\n\n\u5bf9\u4e00\u4e2a\u6570\u8fdb\u884c\u64cd\u4f5c\u628a\u8fd9\u4e2a\u6570\u5b57\u6309\u7167\u4e0d\u964d\u5e8f\u8fdb\u884c\u6392\u5217\uff0c\u4e4b\u540e\u628a\u6240\u6709\u7684\u524d\u5bfc\u96f6\u53bb\u6389\u3002\n\n\u5bf9 $[L,R]$ \u91cc\u7684\u6570\u90fd\u8fdb\u884c\u64cd\u4f5c\uff0c\u6700\u540e\u80fd\u5f97\u5230\u591a\u5c11\u4e0d\u540c\u7684\u6570\u3002\n\n$1\\leq L,R\\leq 10^{18}$\n\n---\n\n\u6a21\u62df\u8d5b\u4e0a\u9047\u5230\u4e86\uff0c\u79d2\u4e86\uff0c\u6ca1\u53d1\u73b0\u662f\u4e4b\u524d\u505a\u8fc7\u7684\u9898\uff0c\u8fd9\u4e2a\u9898\u4e5f\u6ca1\u52a0\u5165\u6211\u7684[\u5237\u9898\u7eaa\u5f55](https://www.luogu.com.cn/blog/xzggzh/hao-ti-ji-lu)\u91cc\uff0c\u770b\u5230\u4e86\u8fd8\u6ca1\u6709\u9898\u89e3\u5c31\u6765\u5199\u4e00\u7bc7\u3002\n\n\u9996\u5148\u770b\u5230\u5bf9 $[L,R]$ \u91cc\u6240\u6709\u6570\u8ba1\u6570\u53ef\u4ee5\u76f4\u63a5\u60f3\u5230\u6570\u4f4d $\\rm dp$ \uff0c\u4f46\u662f\u8fd9\u4e2a\u9898\u6700\u540e\u7684\u8ba1\u6570\u8981\u91cd\u6392\u8fc7\u5e76\u4e14\u4e0d\u80fd\u53ea\u662f\u5355\u7eaf\u7684 $work(R)-work(L-1)$ \u8fd9\u6837\u51cf\u53bb\u8d21\u732e\uff0c\u8981\u8ba1\u7b97\u7684\u662f\u53bb\u91cd\u540e\u7684\u6570\u91cf\u3002\n\n\u518d\u6765\u601d\u8003\u4e00\u4e0b\u64cd\u4f5c\u8fc7\u540e\u4f1a\u5f97\u5230\u7684\u6570\u5b57\uff0c\u662f\u4e00\u4e2a\u5355\u8c03\u4e0d\u964d\u6ca1\u6709\u524d\u5bfc\u96f6\u7684\u6570\uff0c\u8fd9\u6837\u7684\u6570\u5728 $[1,10^{18}] $ \u4e2d\u6709\u591a\u5c11\u5462\uff1f\n\n\u66b4\u529b $dfs$ \u4e00\u4e0b\u5c31\u53ef\u4ee5\u77e5\u9053 \uff0c\u5927\u6982\u5728 $10^6$ \u91cf\u7ea7\u5185\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u8981\u904d\u5386\u6240\u6709\u7684\u53ef\u884c\u7684\u7b54\u6848\u7136\u540e\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u53ef\u4ee5\u91cd\u6392\u5f97\u5230\u4e00\u4e2a\u5728 $[l,r]$ \uff0c\u8fd9\u4e2a\u662f $O(\\log n)$ \u7684\u6a21\u62df\u4e00\u4e0b\u5c31\u597d\u4e86\u3002\n\n---\n\n\u4ee3\u7801\uff1a\uff08\u6bd4\u8d5b\u65f6\u5199\u7684\u53c8\u81ed\u53c8\u957f\uff09\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long \ninline int R()\n{\n\tchar c;int res,sign=1;\n\twhile((c=getchar())>'9'||c<'0')if(c=='-')sign=-1;res=c-'0';\n\twhile((c=getchar())>='0'&&c<='9') res=res*10+c-'0';\n\treturn res*sign;\n}\nconst int a[]={1e0,1e1,1e2,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18};\nint num,l,r,mem[20],ll[20],rr[20],tmp[20],SSS;\nbool ddd(int i,bool _l,bool _r)\n{\n\tif(i==0) return 1;\n\tif(_l&&_r&&ll[i]==rr[i])\n\t{\n\t\tif(tmp[ll[i]]==0) return 0;\n\t\ttmp[ll[i]]--; \n\t\tbool res=ddd(i-1,1,1);\n\t\ttmp[ll[i]]++;\n\t\treturn res;\n\t}\n\tif(_l)\n\t{\n\t\tif(_r) \n\t\t{\n\t\t\tfor(int j=rr[i]-1;j>ll[i];j--)\n\t\t\t{\n\t\t\t\tif(tmp[j])\n\t\t\t\t{\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(tmp[ll[i]])\n\t\t\t{\n\t\t\t\ttmp[ll[i]]--;\n\t\t\t\tbool res=ddd(i-1,1,0);\n\t\t\t\ttmp[ll[i]]++;\n\t\t\t\tif(res) return 1;\n\t\t\t}\n\t\t\tif(tmp[rr[i]])\n\t\t\t{\n\t\t\t\ttmp[rr[i]]--;\n\t\t\t\tbool res=ddd(i-1,0,1);\n\t\t\t\ttmp[rr[i]]++;\n\t\t\t\tif(res) return 1;\n\t\t\t}\n\t\t}\n\t\telse \n\t\t{\n\t\t\tfor(int j=ll[i]+1;j<=9;j++)\n\t\t\t{\n\t\t\t\tif(tmp[j])\n\t\t\t\t{\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(tmp[ll[i]])\n\t\t\t{\n\t\t\t\ttmp[ll[i]]--;\n\t\t\t\tbool res=ddd(i-1,1,0);\n\t\t\t\ttmp[ll[i]]++;\n\t\t\t\tif(res) return 1;\n\t\t\t}\n\t\t}\n\t}\n\telse \n\t{\n\t\tfor(int j=rr[i]-1;j>=0;j--)\n\t\t{\n\t\t\tif(tmp[j])\n\t\t\t{\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t\tif(tmp[rr[i]])\n\t\t\t{\n\t\t\t\ttmp[rr[i]]--;\n\t\t\t\tbool res=ddd(i-1,0,1);\n\t\t\t\ttmp[rr[i]]++;\n\t\t\t\tif(res) return 1;\n\t\t\t}\n\t}\n\treturn 0;\n}\ninline void ck()\n{\n\tif(mem[0]==18) return;\n\tfor(int i=0;i<10;i++) tmp[i]=mem[i];\n\tif(ddd(18,1,1))++num;\n\t/*bool _l=1,_r=1;\n\tfor(int i=18;i>=1;i--)\n\t{\n\t\tif(_l&&_r&&ll[i]==rr[i])\n\t\t{\n\t\t\tif(tmp[ll[i]]==0) return;\n\t\t\ttmp[ll[i]]--; \n\t\t}\n\t\telse \n\t\t{\n\t\t\tif(_l)\n\t\t\t{\n\t\t\t\tif(_r) \n\t\t\t\t{\n\t\t\t\t\tfor(int j=rr[i]-1;j>ll[i];j--)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(tmp[j])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t++num;return;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse for()\n\t\t\t}\t\n\t\t}\n\t}*/\n}\nvoid dfs(int n,int st)\n{\n\tck();\n\tif(a[n-1]>SSS)return;\n\tif(n>18) return;\n\tfor(int i=st;i<=9;i++)\n\t{\n\t\tmem[0]--;\n\t\tmem[i]++;\n\t\tdfs(n+1,i);\n\t\tmem[i]--;\n\t\tmem[0]++;\n\t}\n}\nsigned main()\n{\n\tfreopen(\"greed.in\",\"r\",stdin);\n\tfreopen(\"greed.out\",\"w\",stdout);\n\tl=R();r=R();\n\tif(r==1e18)\n\t{\n\t\tif(l>r/10)\n\t\t{\n\t\t\t++num;\n\t\t}\n\t\tr--;\n\t}\n\tmem[0]=18;SSS=r;\n\tfor(int i=1;i<=20;i++)\n\t{\n\t\tll[i]=l%10;\n\t\trr[i]=r%10;\n\t\tl/=10;\n\t\tr/=10;\n\t}\n\tdfs(1,1);\n\tprintf(\"%d\\n\",num);\n//\treturn clock();\n}\n```\n\n",
        "postTime": 1614058899,
        "uid": 288460,
        "name": "xzggzh1",
        "ccfLevel": 0,
        "title": "CF833C 2700"
    }
]