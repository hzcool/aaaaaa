[
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF167B)\n\n## \u89e3\u9898\u601d\u8def\uff1adp\n\n\u5f88\u7ecf\u5178\u4e14\u6807\u51c6\u7684\u4e00\u9053\u6982\u7387 `dp`\u3002\n\n\u770b\u5230\u9898\u76ee\u91cc\u8bf4\u4ec0\u4e48\u7684\u5bb9\u91cf\uff0c\u8054\u60f3\u5230\u80cc\u5305\uff0c\u6240\u4ee5\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u72b6\u6001\uff1a$dp_{i,j,k}$ \u8868\u793a\u524d $i$ \u573a\u6bd4\u8d5b\u8d62\u4e86 $j$ \u5c40\uff0c\u5f53\u524d\u80cc\u5305\u5bb9\u91cf\u4e3a $k$ \u7684\u6982\u7387\u3002\u5217\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a$dp_{i,j,k}=dp_{i-1,j-1,k-a_i}\\times p_i\\times 0.01+dp_{i-1,j,k}\\times(1-p_i)\\times 0.01$\u3002\n\n\u4f46\u8fd9\u4e48\u505a\u4f1a\u65f6\u65f6\u95f4\u590d\u6742\u5ea6\u6765\u5230 $1.6\\times 10^9$ \u7684\u7ea7\u522b\u3002\u8003\u8651\u5982\u4f55\u4f18\u5316\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u6bd4\u8d5b\u518d\u591a\uff0c\u83b7\u5f97\u7684\u7269\u54c1\u603b\u4f53\u79ef\u90fd\u4e0d\u4f1a\u8d85\u8fc7 $n$\u3002\u6240\u4ee5\u5c06 $k\\ge n$ \u7684\u72b6\u6001\u5f52\u5165 $k=n$ \u7684\u72b6\u6001\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u4e00\u4e2a\u65f6\u7a7a\u590d\u6742\u5ea6 $O(n^3)$ \u7684\u505a\u6cd5\u3002\n\n\u4f46\u662f\u73b0\u5728\u518d\u7528\u4e0a\u9762\u90a3\u6761\u72b6\u8f6c\u65b9\u7a0b\u5c31\u4f1a\u6bd4\u8f83\u9ebb\u70e6\uff0c\u4e8e\u662f\u6539\u6210 $dp_{i,j+1,\\min(k+a_i,n)}+=dp_{i-1,j,k}\\times p_i\\times 0.01,dp_{i,j,k}+=dp_{i-1,j,k}\\times p_i\\times 0.01$\u3002\n\n\u521d\u59cb\u503c\u4e3a $dp_{0,0,min(n,k)}=1$\u3002\u6700\u540e\u7b54\u6848\u5373\u4e3a $\\sum\\limits_{i=l}^n\\sum\\limits_{j=0}^n dp_{n,i,j}$\u3002\n\n\u6700\u540e\u8fd8\u53ef\u4ee5\u7528\u6eda\u52a8\u6570\u7ec4\u5c06\u7a7a\u95f4\u590d\u6742\u5ea6\u4f18\u5316\u5230 $O(n^2)$\u3002\n\ncode\uff1a\n\n```cpp\nint n,m,k;\ndouble dp[2][N][N];\nstruct node{\n\tint p,val;\n\tbool operator<(const node &tmp)const{return val>tmp.val;}\n}e[N];\nvoid solve(){\n\tscanf(\"%d%d%d\",&n,&m,&k);\n\tfor(int i=1;i<=n;i++)scanf(\"%d\",&e[i].p);\n\tfor(int i=1;i<=n;i++)scanf(\"%d\",&e[i].val);\n\tstd::sort(e+1,e+n+1);\n\tint cur=0;\n\tdp[0][0][min(n,k)]=1;\n\tfor(int i=1;i<=n;i++){\n\t\tcur^=1;\n\t\tfor(int j=0;j<=i;j++){\n\t\t\tfor(int p=0;p<=n;p++)dp[cur][j][p]=0;//\u522b\u5fd8\u4e86\u6bcf\u6b21\u5faa\u73af\u8981\u521d\u59cb\u5316\uff08\u56e0\u4e3a\u7528\u7684\u662f+=\uff09\n\t\t}\n\t\tfor(int j=0;j<i;j++){\n\t\t\tfor(int p=0;p<=n;p++){\n\t\t\t\tif(~e[i].val)dp[cur][j+1][min(p+e[i].val,n)]+=dp[cur^1][j][p]*e[i].p*0.01;\n\t\t\t\telse if(p)dp[cur][j+1][p-1]+=dp[cur^1][j][p]*e[i].p*0.01;\n\t\t\t\tdp[cur][j][p]+=dp[cur^1][j][p]*(100.0-e[i].p)*0.01;\n\t\t\t}\n\t\t}\n\t}\n\tdouble ans=0;\n\tfor(int i=m;i<=n;i++){\n\t\tfor(int j=0;j<=n;j++)ans+=dp[cur][i][j];\n\t}\n\tprintf(\"%.6lf\\n\",ans);\n}\nsigned main(){\n\tint t=1;\n//\tscanf(\"%d\",&t);\n\twhile(t--)solve();\n}\n```",
        "postTime": 1672916593,
        "uid": 578590,
        "name": "yinhee",
        "ccfLevel": 0,
        "title": "CF167B\u9898\u89e3"
    },
    {
        "content": "## $ \\texttt{CF167B} $  \n\n---\n\n### \u9898\u610f\uff1a  \n\n$ n $ \u4e2a\u4e8b\u4ef6\uff0c\u6bcf\u4e2a\u4e8b\u4ef6\u6709\u6210\u529f\u548c\u5931\u8d25\u4e24\u79cd\u7ed3\u679c\uff0c\u5176\u6982\u7387\u5206\u522b\u4e3a $ p_i*0.01 $ \u548c $ (1-p_i*0.01) $\uff0c\u82e5\u6210\u529f\u5219\u4f1a\u83b7\u5f97 $ a_i $ \u7684\u5206\u6570  \n\n\u521d\u59cb\u5206\u6570\u4e3a $ k $\uff0c\u95ee\u4efb\u610f\u65f6\u523b\u5206\u6570\u5747\u975e\u8d1f\u4e14\u603b\u6210\u529f\u6b21\u6570\u4e0d\u5c0f\u4e8e $ l $ \u7684\u6982\u7387  \n\n---\n\n### \u601d\u8def\uff1a  \n\n\u9898\u76ee\u6709\u8981\u6c42\u6210\u529f $ l $ \u6b21\u4e14\u5206\u6570\u975e\u8d1f\uff0c\u53ef\u4ee5\u8003\u8651\u5bf9\u5e94\u5730\u8bbe\u7f6e $ dp $ \u6570\u7ec4\uff0c$ dp[i][j][k] $ \u8868\u793a\u524d $ i $ \u4e2a\u4e8b\u4ef6\uff0c\u6210\u529f\u4e86 $ j $ \u6b21\uff0c\u4e14\u83b7\u5f97\u7684\u5206\u6570\u4e3a $ k $ \u7684\u6982\u7387  \n\n\u63a5\u7740\u662f\u8f6c\u79fb\uff0c\u9996\u5148\u5f53\u4e0b\u4e00\u4e8b\u4ef6\u5931\u8d25\u4e86\u4e00\u5b9a\u662f\u53ef\u884c\u7684\uff08\u56e0\u4e3a\u5206\u6570\u4e0d\u4f1a\u51cf\u5c11\uff09\uff0c\u6240\u4ee5\u6709\uff1a  \n\n$ dp[i+1][j][k]+=dp[i][j][k]*(1-p_{i+1}*0.01) $  \n\n\u5f53\u7136\uff0c\u82e5\u5f53\u524d\u5206\u6570\u52a0\u4e0a $ a_{i+1} $ \u4ecd\u7136\u975e\u8d1f\u65f6\uff0c\u4e0b\u4e00\u4e8b\u4ef6\u53ef\u4ee5\u6210\u529f\uff0c\u5373\u6709\uff1a  \n\n$ dp[i+1][j+1][min(k+a_i,n)]+=dp[i][j][k]*(p_{i+1}*0.01) $  \n\n\u8fd9\u91cc\u4e4b\u6240\u4ee5\u8981\u548c $ n $ \u53d6 $ min $\uff0c\u662f\u56e0\u4e3a $ a_i\\ge -1 $\uff0c\u6240\u4ee5\u65e2\u7136\u6709 $ n $ \u7684\u5206\u6570\uff0c\u4f60\u600e\u4e48\u51cf\u90fd\u51cf\u4e0d\u5230\u8d1f\u6570\u4e86  \n\n\u8f6c\u79fb\u5b8c\u6bd5\u540e\u5c06\u7b26\u5408\u8981\u6c42\u7684\u60c5\u51b5\u6982\u7387\u76f8\u52a0\u5373\u53ef\uff0c\u5373\uff1a  \n\n$ ans=\\sum\\limits_{i=l}^n\\sum\\limits_{j=0}^n dp[n][i][j] $  \n\n---\n\n### \u4ee3\u7801\uff1a  \n\n```cpp\n#include<bits/stdc++.h>\n#define Hu_Tao namespace std\nusing Hu_Tao;\nconst int N = 201;\nstruct HT {\n\tint Val;\n\tdouble Pi;\n} s1[N];\nint n, l, k;\ndouble dp[N][N][N], ans;\nbool cmp1(HT x, HT y);\nint main() {\n\tscanf(\"%d%d%d\", &n, &l, &k);\n\tfor (int i = 1; i <= n; i++) {\n\t\tscanf(\"%lf\", &s1[i].Pi);\n\t\ts1[i].Pi *= 0.01;//\u8f6c\u6362\u4e3a\u771f\u5b9e\u6982\u7387\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tscanf(\"%d\", &s1[i].Val);\n\t}\n\tsort(s1 + 1, s1 + n + 1, cmp1);//\u5148\u8d70\u5927\u7684\u80af\u5b9a\u6700\u4f18\n\tdp[0][0][min(n, k)] = 1.0;\n\tfor (int i = 0; i < n; i++) {\n\t\tfor (int j = 0; j <= i; j++) {\n\t\t\tfor (int g = 0; g <= n; g++) {\n\t\t\t\tdp[i + 1][j][g] += dp[i][j][g] * (1 - s1[i + 1].Pi);\n\t\t\t\tif (g + s1[i + 1].Val >= 0) {\n\t\t\t\t\tdp[i + 1][j + 1][min(g + s1[i + 1].Val, n)] += dp[i][j][g] * s1[i + 1].Pi;\n\t\t\t\t}\n\t\t\t\t//\u8f6c\u79fb\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = l; i <= n; i++) {\n\t\tfor (int j = 0; j <= n; j++) {\n\t\t\tans += dp[n][i][j];//\u7edf\u8ba1\u7b54\u6848\n\t\t}\n\t}\n\tprintf(\"%0.10lf\", ans);\n\treturn 0;\n}\nbool cmp1(HT x, HT y) {\n\treturn x.Val > y.Val;\n}\n```\n",
        "postTime": 1629792553,
        "uid": 365118,
        "name": "Raphtaria_",
        "ccfLevel": 7,
        "title": "Solution_CF167B"
    },
    {
        "content": "# \u9898\u76ee\u7684\u5751\n\u6211\u4eec\u53ef\u4ee5\u5148\u6bd4\u5b8c\u6240\u6709\u6bd4\u8d5b\uff0c\u6700\u540e\u518d\u88c5\u4e1c\u897f\uff0c\u53ea\u8981\u7269\u54c1\u6570\u5c0f\u4e8e\u80cc\u5305\u4f53\u79ef\u5c31\u884c\u4e86\u3002\u6240\u4ee5\u6211\u4eec\u5148\u6309\u7167 $a_i$ \u964d\u5e8f\u6392\u5e8f\uff0c\u4e00\u5b9a\u6700\u4f18\u3002\n# solution\n\u9996\u5148\u662f\u6700\u66b4\u529b\u7684 dp\uff0c\u8bbe $f_{i,j,k}$ \u8868\u793a\u524d $i$ \u8f6e\u6e38\u620f\u8d62\u4e86 $j$ \u6b21\uff0c\u5f53\u524d\u80cc\u5305\u4f53\u79ef\u4e3a $k$ \u7684\u6982\u7387\u3002\n\n\u8f6c\u79fb\u5f88\u65e0\u8111\uff0c$f_{i,j,k} = f_{i-1,j,k}\\times (1-\\frac{p_i}{100}) +f_{i-1,j-1,k-a_i}\\times \\frac{p_i}{100} $\u3002\n\n\u4f46\u662f\u8fd9\u4e2a dp \u662f $O(n^4)$ \u7684\uff0c\u5f88\u660e\u663e\u9700\u8981\u4f18\u5316\u3002\n\n\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u7269\u54c1\u6570\u91cf\u6700\u591a\u4e3a $n$\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u4f53\u79ef\u5927\u4e8e $n$ \u7684\u72b6\u6001\u5f52\u5165\u4f53\u79ef\u7b49\u4e8e $n$ \u7684\u5bf9\u5e94\u72b6\u6001\u5373\u53ef\u3002\u5373\u5bf9\u4e8e\u6240\u6709 $f_{i,j,k}$\uff0c\u5982\u679c $k>n$ \u5c31\u8ba9 $f_{i,j,n}\\gets f_{i,j,n}+f_{i,j,k}$\uff0c\u7136\u540e\u6211\u4eec\u5c31\u4e0d\u9700\u8981\u8fd9\u4e2a\u72b6\u6001\u4e86\u3002\n\n\u8fd9\u6837\u6211\u4eec\u7684 dp \u5c31\u53d8\u6210 $O(n^3)$ \u4e86\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b64\u9898\u3002\n\n# Code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nnamespace my_IO{\n\t#define ll long long\n\t#define ull unsigned long long \n\t#define ld long double\n\ttemplate<class T>\n\tvoid read(T &num){\n\t\tT x=0,f=1;\n\t\tchar c=getchar();\n\t\twhile(!isdigit(c)){\n\t\t\tif(c=='-') f=-1;\n\t\t\tc=getchar();\n\t\t}\n\t\twhile(isdigit(c)){\n\t\t\tx=(x<<3)+(x<<1)+c-48;\n\t\t\tc=getchar();\n\t\t}\n\t\tnum=f*x;\n\t}\n\ttemplate<class T>\n\tvoid write(T x){\n\t\tstatic char buf[40];\n\t\tT len=-1;\n\t\tif(x<0) x=-x,putchar('-');\n\t\tdo{\n\t\t\tbuf[++len]=x%10+48;\n\t\t\tx/=10;\n\t\t}while(x);\n\t\twhile(len>=0) putchar(buf[len--]);\n\t}\n}\nusing namespace my_IO;\nconst ll maxn=210;\nll k,n,l;\nstruct nd{\n\tll p,a;\n}a[maxn];\nbool cmp(nd x,nd y){\n\treturn x.a>y.a;\n}\ndouble f[maxn][maxn][maxn],ans;\nvoid solve(){\n\tread(n),read(l),read(k);\n\tfor(ll i=1;i<=n;i++) read(a[i].p);\n\tfor(ll i=1;i<=n;i++) read(a[i].a);\n\tsort(a+1,a+n+1,cmp);\n\tf[0][0][min(n,k)]=1;\n\tfor(ll i=1;i<=n;i++){\n\t\tfor(ll j=0;j<=i;j++){\n\t\t\tfor(ll l=0;l<n;l++){\n\t\t\t\tf[i][j][l]=f[i-1][j][l]*(100-a[i].p)*0.01;\n\t\t\t\tif(j&&l>=a[i].a) f[i][j][l]+=f[i-1][j-1][l-a[i].a]*a[i].p*0.01;\n\t\t\t}\n\t\t\tf[i][j][n]=f[i-1][j][n]*(100-a[i].p)*0.01;\n\t\t\tif(j) for(ll l=max(0ll,n-a[i].a);l<=n;l++) f[i][j][n]+=f[i-1][j-1][l]*a[i].p*0.01;\n\t\t}\n\t}\n\tfor(ll i=l;i<=n;i++) for(ll j=0;j<=n;j++) ans+=f[n][i][j];\n\tprintf(\"%.7lf\",ans);\n}\nint main(){\n\tint t=1;\n\twhile(t--) solve();\n}\n```\n",
        "postTime": 1679292191,
        "uid": 685993,
        "name": "Dian_xin_zha_pian",
        "ccfLevel": 6,
        "title": "CF167B\u9898\u89e3"
    },
    {
        "content": "\u8bf4\u5b9e\u8bdd\uff0c\u4e0d\u662f\u5f88\u660e\u767d\u5176\u4ed6\u9898\u89e3\u4e3a\u4ec0\u4e48\u8981`sort`\u4e00\u904d\uff0c\u4e8e\u662f\u6211\u5c31\u5199\u4e86\u4e00\u4e2a\u4e0d\u9700\u8981`sort`\u7684\u9898\u89e3\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u5047\u8bbe\uff0c$a[i]=-1$ \u5c31\u662f\u4e00\u4e2a\u5bb9\u79ef\u4e3a$-1$\u7684\u7269\u54c1\u3002\n\n\u663e\u7136DP\uff0c\u4ee4 $dp[i][j][k]$ \u8868\u793a\u524d $i$ \u5c40\uff0c\u8d62\u4e86 $j$ \u5c40\uff0c\u4e14\u80cc\u5305\u5bb9\u79ef\u4e3a $k$ \u65f6\u7684\u6982\u7387\u3002\n\n\u663e\u7136\u6709 DP \u8f6c\u79fb\u72b6\u6001\uff08\u5237\u8868\u6cd5\uff09\uff1a\n\n$$\ndp[i+1][j][k]+=(1-p[i+1])dp[i][j][k]\n\n\\\\\n\ndp[i+1][j+1][k+a[i+1]]+=p[i+1]\\times dp[i][j][k]\n$$\n\n\u5206\u522b\u5bf9\u5e94\u7740\u7b2c $i+1$ \u5c40\u8d62\u548c\u8f93\u4e24\u79cd\u60c5\u51b5\u3002\n\n\u4e3a\u4f55\u8981\u5237\u8868\uff1f\u662f\u56e0\u4e3a\u6211\u4eec\u53d1\u73b0\uff0c\u5f53 $k+a[i]>200$ \u65f6\uff0c\u5c31\u53ea\u80fd\u591f\u53d6 $200$\u3002\u800c\u586b\u8868\u6cd5\u4e0d\u80fd\u5f88\u597d\u5730\u4ece $200$ \u8fd9\u4e2a\u72b6\u6001\u8f6c\u79fb\u56de\u53bb\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nnamespace Acc{\n\tconst int N = 2e2+10;\n#define db double\n\tdb dp[N][N][N*2],p[N],ans;\n\tint a[N],n,l,k,m;\n\tvoid work(){\n\t\tcin>>n>>l>>m;\n\t\tfor(int i=1;i<=n;i++)cin>>p[i],p[i]/=100;\n\t\tfor(int i=1;i<=n;i++)cin>>a[i];\n\t\tdp[0][0][m+200]=1;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<=i;j++){\n\t\t\t\tfor(int k=0;k<=400;k++){\n\t\t\t\t\tint t=min(400,k+a[i+1]);\n\t\t\t\t\tdp[i+1][j][k]+=dp[i][j][k]*(1-p[i+1]);\n\t\t\t\t\tif(t>=0)dp[i+1][j+1][t]+=dp[i][j][k]*p[i+1];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=l;i<=n;i++)for(int j=200;j<=400;j++)ans+=dp[n][i][j];\n\t\tcout<<fixed<<setprecision(10)<<ans;\n\t}\n#undef db\n}\nint main(){\n\treturn Acc::work(),0;\n}\n```",
        "postTime": 1621473254,
        "uid": 383079,
        "name": "Acc_Robin",
        "ccfLevel": 6,
        "title": "CF167B Wizards and Huge Prize \u9898\u89e3"
    },
    {
        "content": "\n\n\u4e0d\u9519\u7684\u4e00\u9053\u671f\u671bDP\uff0c\u6821\u5185\u6a21\u62df\u8d5b\u8003\u5230\u4e86\uff0c\u53d1\u73b0\u8fd9\u91cc\u7adf\u7136\u8fd8\u6ca1\u6709\u9898\u89e3\uff0c\u5c31\u8d76\u6765\u53d1\u4e00\u4e0b\u3002\n\n\u6211\u4eec\u8bbe\u72b6\u6001\uff1a$dp[i][j][k]$\u8868\u793a$i$\u8f6e\u6e38\u620f\uff0c\u8d62\u4e86$j$\u6b21\uff0c\u80cc\u5305\u5bb9\u79ef\u4e3a$k$\n\n\u90a3\u4e48\u5f53\u80cc\u5305\u5bb9\u79ef\u52a0\u4e0a\u5c5e\u6027\u503c\u4e0d\u8d85\u9650\u5236\u65f6\uff0c\u6211\u4eec\u53ef\u8d62\u53ef\u8f93\uff0c\u5426\u5219\uff0c\u6211\u4eec\u4e0d\u80fd\u8d62\u53ea\u80fd\u8f93\u3002\n\n\u7531\u6b64\u53ef\u4ee5\u5f97\u5230\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5f0f\uff1a\n\n$dp[i+1][j+1][k]+=dp[i][j][k]*p$($win$)\n\n$dp[i+1][j][k+val]+=dp[i][j][k]*(1-p)$($lose$)\n\n\u6ce8\u610f$k+val>n$\u65f6\u6211\u4eec\u6700\u591a\u53ea\u80fd\u5f97\u5230$n$\u4e2a\u7269\u54c1\u5956\u52b1\u3002\n\n\u6700\u540e\u6211\u4eec\u679a\u4e3e\u6c42$dp[n][l\\to n][0\\to n]$\u7684\u52a0\u548c\u5373\u53ef\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define fint register int\n#define H 205\n#define N 30001\n#define AK cout<<\"LYFX and ZGW AK IOI\"<<endl\nusing namespace std;\nstruct node\n{\n\tdouble p;\n\tint val;\n}\na[N];\ndouble dp[H][H][H];//i\u8f6e\u6e38\u620f\uff0c\u8d62\u4e86j\u6b21\uff0c\u80cc\u5305\u5bb9\u79ef\u4e3ak \ninline int read();\ninline bool cmp(node aa,node bb);\nint main()\n{\n\tint n,L,k;\n\tn=read(),L=read(),k=read();\n\tfor(fint i=1;i<=n;i++)\n\ta[i].p=read(),a[i].p/=(double)100;\n\tfor(fint i=1;i<=n;i++)\n\ta[i].val=read();\n\tdp[0][0][min(k,n)]=1;\n\tsort(a+1,a+n+1,cmp);\n\tfor(fint i=0;i<n;i++)\n\tfor(fint j=0;j<=i;j++)\n\tfor(fint l=0;l<=n;l++)\n\t{\n\t\tif(l+a[i+1].val>=0)\n\t\tdp[i+1][j+1][l+a[i+1].val>n?n:l+a[i+1].val]+=dp[i][j][l]*a[i+1].p;\n\t\tdp[i+1][j][l]+=dp[i][j][l]*(1-a[i+1].p);\n\t}\n\tdouble ans=0;\n\tfor(fint i=L;i<=n;i++)//\u81f3\u5c11\u6210\u529fl\u6b21 \n\tfor(fint j=0;j<=n;j++)\n\tans+=dp[n][i][j];\n\tprintf(\"%.8lf\",ans);\n\treturn 0;\n}\n\ninline int read()\n{\n\tint x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9')\n\t{\n\t\tif(ch=='-')\n\t\tf=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t\tx=(x<<1)+(x<<3)+(ch^48);\n\t\tch=getchar();\n\t}\n\treturn x*f;\n}\n\ninline void print(int x)\n{\n\tif(x<0)\n\tputchar('-'),x=-x;\n\tif(x>9)\n\tprint(x/10);\n\tputchar(x%10+'0');\n\treturn ;\n}\n\ninline bool cmp(node aa,node bb)\n{\n\treturn aa.val>bb.val;\n}\n```\n\n",
        "postTime": 1606205369,
        "uid": 244059,
        "name": "king_xbz",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF167B \u3010Wizards and Huge Prize\u3011"
    },
    {
        "content": "## \u9898\u89e3\uff1a\n\n\u671f\u671bDP\u597d\u9898\u3002\n\n\u9898\u76ee\u5927\u610f\u4ed6\u6982\u62ec\u7684\u4e0d\u6e05\u6670\uff0c\u6211\u91cd\u65b0\u8bf4\u4e00\u4e0b\uff1a\n\n\u6700\u5f00\u59cb\u4f60\u6709k\u7684\u5bb9\u79ef\uff0c\u6709n\u8f6e\u6bd4\u8d5b\uff0c**\u6bcf\u8f6e\u6bd4\u8d5b\u7684\u80dc\u7387\u4e3api**\uff0c\u6bd4\u8d5b\u5206\u4e3a\u4e24\u79cd(\u5177\u4f53\u79cd\u7c7b\u7531\u8f93\u5165\u7ed9\u51fa\uff0c**\u7ed9\u51faai>=1\u662f\u7b2c\u4e00\u79cd\uff0c\u7ed9\u51fa-1\u4e3a\u7b2c\u4e8c\u79cd**)\uff0c\u7b2c\u4e00\u79cd\u7684\u5956\u54c1\u662f\u589e\u52a0ai\u5bb9\u79ef\uff0c\u53e6\u4e00\u79cd\u589e\u52a0\u4e00\u4e2a\u7269\u54c1\uff0c**\u4f53\u79ef\u4e3a1**\uff0c\u53ea\u6709\u5230\u6700\u540e\u7684\u5bb9\u79ef\u88c5\u5f97\u4e0b\u6240\u6709\u8d62\u5f97\u7684\u7269\u54c1\u624d\u7b97\u5408\u6cd5\u7684\u65b9\u6848\uff0c\u95ee\u8d62\u5f97\u7684\u6bd4\u8d5b\u603b\u573a\u6570>=l\u7684\u5408\u6cd5\u65b9\u6848\u7684\u6982\u7387\u3002\n\n\u90a3\u4e48\u8bbe\u7f6e\u72b6\u6001\u4e3a\uff1a$dp[i][j][k]$\u8868\u793a\u5f53\u524d$i$\u8f6e\u6e38\u620f\uff0c\u8d62\u4e86$j$\u6b21\uff0c\u80cc\u5305\u5bb9\u79ef\u4e3a$k$\u65f6\u7684\u5408\u6cd5\u6982\u7387\u3002\n\n\u90a3\u4e48\u7b54\u6848\u5c31\u662f\n$$\n\\sum_{i=l}^{n}\\sum_{j=0}^{n}dp[n][i][j]\n$$\n\u8f6c\u79fb\u7684\u65f6\u5019\u4e5f\u6bd4\u8f83\u597d\u60f3\uff1a\u80cc\u5305\u5bb9\u79ef\u52a0\u4e0a\u8fd9\u4e2a\u503c\u4e4b\u540e\uff0c\u5982\u679c\u4e0d\u8d85\u8fc7\u9650\u5236\uff0c\u90a3\u4e48\u8f93\u8d62\u65e0\u6240\u8c13\uff0c\u5426\u5219\uff0c\u5c31\u5fc5\u987b\u8981\u8f93\uff0c\u5426\u5219\u5c31\u548c\u5408\u6cd5\u7684\u72b6\u6001\u76f8\u6096\u3002\n\n\u90a3\u4e48\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nconst int maxh=210;\nconst int maxn=3e4+4;\nstruct node\n{\n\tdouble p;\n\tint val;\n}a[maxn];\nint n,L,k;\ndouble dp[maxh][maxh][maxh];//i\u8f6e\u6e38\u620f\uff0c\u8d62\u4e86j\u6b21\uff0c\u80cc\u5305\u5bb9\u79ef\u4e3ak \nbool cmp(node a,node b)\n{\n\treturn a.val>b.val;\n}\nint main()\n{\n\tscanf(\"%d%d%d\",&n,&L,&k);\n\tfor(int i=1;i<=n;i++)\n    {\n\t    scanf(\"%lf\",&a[i].p);\n        a[i].p/=1.0*100;\n    }\n\tfor(int i=1;i<=n;i++)\n\t    scanf(\"%d\",&a[i].val);\n\tdp[0][0][min(k,n)]=1;\n\tsort(a+1,a+n+1,cmp);\n\tfor(int i=0;i<n;i++)\n\t    for(int j=0;j<=i;j++)\n\t        for(int l=0;l<=n;l++)\n\t        {\n\t\t        if(l+a[i+1].val>=0)\n\t\t            dp[i+1][j+1][l+a[i+1].val>n?n:l+a[i+1].val]+=dp[i][j][l]*a[i+1].p;\n\t\t        dp[i+1][j][l]+=dp[i][j][l]*(1-a[i+1].p);\n\t        }\n\tdouble ans=0;\n\tfor(int i=L;i<=n;i++)\n\t    for(int j=0;j<=n;j++)\n\t        ans+=dp[n][i][j];\n\tprintf(\"%.8lf\",ans);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1606654469,
        "uid": 175131,
        "name": "\u5085\u601d\u7ef4666",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF167B \u3010Wizards and Huge Prize\u3011"
    }
]