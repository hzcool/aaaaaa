[
    {
        "content": "\u6bcf\u4e00\u4e2a\u533a\u95f4\u7684\u8d21\u732e\u5177\u6709\u6761\u4ef6\u9650\u5236\uff0c\u770b\u4e0a\u53bb\u6bd4\u8f83\u9ebb\u70e6\u3002\u867d\u7136\u505a\u5230\u8fd9\u9898\u7684\u4e0d\u53ef\u80fd\u770b\u4e0d\u51fa\u6765\u8fd9\u4fe9\u4e1c\u897f\u53ef\u4ee5\u62c6\u5f00\uff0c\u591a\u5c11\u8fd8\u662f\u8bc1\u4e00\u4e0b\u3002\u9996\u5148\u5982\u679c $[s,t]$ \u662f\u533a\u95f4\u7684\u6700\u5927\u5b50\u6bb5\u548c\uff0c\u5982\u679c $q \\in [s,t)$\uff0c\u90a3\u4e48 $q'=t$ \u4e00\u5b9a\u6bd4\u5f53\u524d\u7684 $q$ \u66f4\u4f18\u3002\u56e0\u6b64\u4e00\u4e2a\u533a\u95f4\u7684\u8d21\u732e\u76f8\u5f53\u4e8e\u533a\u95f4\u7684\u6700\u5927\u524d\u7f00\u548c\u52a0\u4e0a\u533a\u95f4\u7684\u6700\u5927\u5b50\u6bb5\u548c\u3002\n\n\u8fd9\u663e\u7136\u662f\u4e24\u4e2a\u72ec\u7acb\u7684\u95ee\u9898\uff0c\u8003\u8651\u5206\u522b\u8ba1\u7b97\u3002\n\n\u9996\u5148\u8003\u8651\u8ba1\u7b97\u533a\u95f4\u7684\u6700\u5927\u524d\u7f00\u548c\u4e4b\u548c\u3002\u5148\u8ba1\u7b97\u5e8f\u5217\u7684\u524d\u7f00\u548c\uff0c\u4e00\u6bb5\u533a\u95f4\u7684\u548c\u4e3a $s_r-s_{l-1}$\u3002\u56fa\u5b9a\u5de6\u7aef\u70b9\uff0c\u9700\u8981\u8ba1\u7b97 $\\displaystyle \\sum_{r=l}^n \\max(0,s[l,r]-s_{l-1})$\uff08\u5176\u4e2d $s[l,r]$ \u4e3a\u533a\u95f4 $[l,r]$ \u5185 $s$ \u7684\u6700\u5927\u503c\uff09\u3002\u8fd9\u6837\u7ef4\u62a4\u4e00\u4e2a\u5355\u8c03\u4e0d\u589e\u7684\u5355\u8c03\u6808\uff0c\u53ef\u4ee5\u7ef4\u62a4\u5f53\u524d\u5de6\u7aef\u70b9\u53f3\u8fb9\u7684\u6bcf\u4e2a\u70b9\u9009\u53d6\u7684 $s$ \u503c\u3002\u5c06\u4e0a\u9762\u5408\u5f0f\u7684\u5f62\u5f0f\u5199\u6210\u6240\u6709\u5927\u4e8e $s_{l-1}$ \u7684 $s[l,r]$ \u4e4b\u548c $p$\uff0c\u5e76\u8ba1\u7b97\u5927\u4e8e $s_{l-1}$ \u7684 $s[l,r]$ \u7684 $r$ \u7684\u4e2a\u6570 $q$\uff0c\u5de6\u7aef\u70b9\u4e3a $l$ \u7684\u533a\u95f4\u7684\u603b\u8d21\u732e\u5373\u4e3a $p-qs_{l-1}$\u3002\n\n\u6ce8\u610f\u5230\u6211\u4eec\u5df2\u7ecf\u7ef4\u62a4\u5355\u8c03\u6808\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u5355\u8c03\u6808\u4e0a\u4e8c\u5206\u5c31\u884c\u3002\n\n\u63a5\u4e0b\u6765\u662f\u6bcf\u4e2a\u533a\u95f4\u7684\u6700\u5927\u5b50\u6bb5\u548c\u95ee\u9898\u3002\u76f4\u63a5\u8003\u8651\u5bf9\u5e8f\u5217\u5206\u6cbb\uff0c\u5206\u8de8\u8fc7\u4e2d\u70b9\uff0c\u5168\u5728\u5de6\u533a\u95f4\uff0c\u5168\u5728\u53f3\u533a\u95f4\u8ba1\u7b97\u3002\u5bf9\u4e8e\u540e\u9762\u4e24\u79cd\u5b9e\u9645\u4e0a\u662f\u5b50\u95ee\u9898\uff0c\u53ea\u8003\u8651\u8de8\u8fc7\u4e2d\u70b9\u7684\u533a\u95f4\u7684\u8d21\u732e\u3002\u8bb0\u4e2d\u70b9\u4e3a $p$\u3002\u9884\u5904\u7406 $f$\uff0c$f_i(i \\leq p)$ \u8868\u793a $[i,p]$ \u8fd9\u4e00\u6bb5\u7684\u6700\u5927\u5b50\u6bb5\u548c\uff0c$f_i(i > p)$ \u8868\u793a $[p+1,i]$ \u8fd9\u4e00\u6bb5\u7684\u6700\u5927\u5b50\u6bb5\u548c\uff1b\u9884\u5904\u7406 $g_i(i \\leq p)$ \u8868\u793a $[i,p]$ \u8fd9\u4e00\u6bb5\u6700\u5927\u7684\u540e\u7f00\u548c\uff0c$g_i(i > p)$ \u8868\u793a $[p+1,i]$ \u8fd9\u4e00\u6bb5\u7684\u6700\u5927\u524d\u7f00\u548c\u3002\u90a3\u4e48\u533a\u95f4 $[l,r]$ \u7684\u6700\u5927\u5b50\u6bb5\u548c\u5c31\u662f $\\max(f_l,f_r,g_l+g_r)$\u3002\n\n\u6ce8\u610f\u5230 $f,g$ \u5728\u4e24\u8fb9\u5747\u6709\u5355\u8c03\u6027\u3002\u679a\u4e3e\u5de6\u7aef\u70b9\uff0c\u7528\u4e24\u4e2a\u6307\u9488\u7ef4\u62a4\u9009\u53d6 $f_l,g_l+g_r,f_r$ \u7684\u8303\u56f4\u5373\u53ef\u3002\n\n[\u8bc4\u6d4b\u94fe\u63a5](https://codeforces.com/problemset/submission/1787/193128878)",
        "postTime": 1676076111,
        "uid": 340163,
        "name": "OotoriEmu",
        "ccfLevel": 0,
        "title": "CF1787I \u9898\u89e3"
    }
]