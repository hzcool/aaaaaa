[
    {
        "content": "\u6211\u4eec\u5148\u5c06\u8fd9\u4e2a\u5b57\u7b26\u4e32\u5206\u6210\u51e0\u6bb5\uff0c\u5176\u4e2d\u6bcf\u7aef\u662f\u4e00\u4e32\u76f8\u540c\u7684\u5b57\u7b26\u3002\n\n\u6bd4\u5982\u5b57\u7b26\u4e32$aaabddd$\uff0c\u6211\u4eec\u5c06\u5176\u5206\u4e3a$aaa$\uff0c$b$\uff0c$ddd$\u4e09\u6bb5\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e00\u6bb5\uff0c\u6709\u4ee5\u4e0b\u4e24\u79cd\u53ef\u80fd\uff1a\n\n$1.$\u5982\u679c\u8fd9\u4e00\u6bb5\u957f\u5ea6$<=k$\uff0c\u90a3\u4e48\u662f\u5408\u6cd5\u7684\uff0c\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u5c31\u662f$\\sum_{i=left}^{right}w[i]$\uff0c\u5176\u4e2d$left$\u548c$right$\u662f\u6307\u8fd9\u6bb5\u533a\u95f4\u7684\u5de6\u7aef\u70b9\u548c\u53f3\u7aef\u70b9.\n\n$2.$\u5982\u679c\u8fd9\u4e00\u6bb5\u957f\u5ea6$>k$\uff0c\u90a3\u4e48\u6211\u4eec\u9700\u8981\u6311\u51fa$w[i],left<=i<=right$\u4e2d\u7684\u6700\u5927\u7684$k$\u4e2a$w[i]$\uff0c\u81ea\u7136\u60f3\u5230\u7528\u5806\u53bb\u7ef4\u62a4\u6700\u5927\u7684k\u4e2aw[i]\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u7528STL\u91cc\u7684$priority \\space queue$\u5361\u8fc7\u53bb.\n\n\u6700\u540e\u5949\u4e0a\u672c\u849f\u84bb\u7684\u4ee3\u7801\uff1a\n\n$Code:$\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define rep(i, l, r) for (int i = l; i <= r; i++)\n\nconst int N = 200005;\nchar a[N];\nint w[N], heap[N], n, k, cnt;\nlong long ans;\n\nvoid read(int &x) {\n\tx = 0; int f = 1;\n\tchar op = getchar();\n\twhile (!isdigit(op)) {\n\t\tif (op == '-') f = -1;\n\t\top = getchar();\n\t}\n\twhile (isdigit(op)) {\n\t\tx = 10 * x + op - '0';\n\t\top = getchar();\n\t}\n\tx *= f;\n}\n\nvoid read(char &x) {\n\tx = getchar();\n\twhile (x < 'a' || x > 'z') x = getchar();\n}\n\n// \u5927\u6839\u5806 \nvoid up(int u) {\n\tint fa = u >> 1;\n\tif (fa > 0 && heap[fa] < heap[u]) {\n\t\tswap(heap[fa], heap[u]);\n\t\tup(fa);\n\t}\n}\n\nvoid down(int u) {\n\tint son = u << 1;\n\tif (son <= cnt) {\n\t\tif (son < cnt && heap[son] < heap[son + 1]) son++;\n\t\tif (heap[u] < heap[son]) {\n\t\t\tswap(heap[u], heap[son]);\n\t\t\tdown(son);\n\t\t}\n\t}\n}\n\nint main() {\n\tread(n), read(k);\n\trep(i, 1, n) read(w[i]);\n\trep(i, 1, n) read(a[i]);\n\trep(i, 1, n) {\n\t\tint j = i;\n\t\twhile (j < n && a[j + 1] == a[i]) j++;\n\t\t// [i, j]\n\t\tif (j - i + 1 <= k) {\n\t\t\trep(_, i, j) ans += w[_];\n\t\t\ti = j;\n\t\t\tcontinue;\n\t\t}\n\t\tcnt = 0;\n\t\trep(_, i, j) {\n\t\t\theap[++cnt] = w[_];\n\t\t\tup(cnt);\n\t\t}\n\t\trep(_, 1, k) {\n\t\t\tans += heap[1];\n\t\t\theap[1] = heap[cnt--];\n\t\t\tdown(1);\n\t\t}\n\t\ti = j;\n\t}\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n} \n```",
        "postTime": 1553000022,
        "uid": 112381,
        "name": "wlzhouzhuan",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1107C \u3010Brutality\u3011"
    },
    {
        "content": "### \u9898\u76ee\u5206\u6790\uff1a\n\n\u539f\u9898\u7ffb\u8bd1\u4e2d\u8bf4\u8981\u6c42\u5bf9\u4e8e $i$ \u4e2a\u952e\u5fc5\u987b\u6309\uff0c\u5176\u5b9e\u662f\u6ca1\u6709\u4ec0\u4e48\u7528\u5904\u7684\uff0c\u7531\u4e8e\u6bcf\u4e00\u4e2a\u6309\u952e\u7684\u4ef7\u503c\u90fd\u662f\u5927\u4e8e\u4e00\u7684\uff0c\u6240\u4ee5\u4e00\u5b9a\u4e0d\u4f1a\u51fa\u73b0\u4e0d\u6309\u8981\u6bd4\u6309\u7684\u4ef7\u503c\u9ad8\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u76f4\u63a5\u6c42\u51fa\u6700\u5927\u7684\u4ef7\u503c\u5c31\u884c\u4e86\u3002\n\n\u7531\u4e8e\u6bcf\u4e00\u4e2a\u76f8\u540c\u6309\u952e\u8fde\u7eed\u6309 $k$ \u6b21\u5c31\u4f1a\u574f\uff0c\u90a3\u4e48\u4e3a\u4e86\u65b9\u4fbf\u5904\u7406\uff0c\u53ef\u4ee5\u8003\u8651\u5c06\u6240\u6709\u7684\u76f8\u540c\u952e\u7684\u64cd\u4f5c\u90fd\u6539\u6210\u4e00\u6bb5\u533a\u95f4\uff0c\u5982\u679c\u8fd9\u4e2a\u533a\u95f4\u7684\u957f\u5ea6\u6ca1\u6709 $k$ \u5927\uff0c\u90a3\u4e48\u6839\u672c\u4e0d\u4f1a\u6709\u5f71\u54cd\uff0c\u5426\u5219\u5c31\u8981\u8003\u8651\u6309\u4ec0\u4e48\u952e\u4e86\u3002\n\n\u53d1\u73b0\u5bf9\u4e8e\u4e00\u6bb5\u957f\u4e8e $k$ \u7684\u64cd\u4f5c\uff0c\u6441\u9020\u6210\u4f24\u5bb3\u6700\u9ad8\u7684 $k$ \u4e2a\u952e\u4e00\u5b9a\u80fd\u4f7f\u5f97\u603b\u4f24\u5bb3\u6700\u9ad8\uff0c\u5426\u5219\u5c06\u67d0\u4e00\u4e2a\u4f24\u5bb3\u4f4e\u7684\u6309\u952e\u66ff\u6362\u6210\u67d0\u4e00\u4e2a\u4f24\u5bb3\u66f4\u9ad8\u7684\u6309\u952e\u5c31\u53ef\u4ee5\u5728\u4ee3\u4ef7\u4e0d\u53d8\u7684\u524d\u63d0\u4e0b\u4f7f\u5f97\u4ef7\u503c\u66f4\u4f18\uff0c\u90a3\u4e48\u5c31\u8003\u8651\u628a\u4f24\u5bb3\u6700\u9ad8\u7684 $k$ \u4e2a\u64cd\u4f5c\u53d6\u51fa\u6765\u3002\n\n\u5b9e\u73b0\u4e0a\uff0c\u7528\u4e00\u4e2a\u5806\u6765\u7ef4\u62a4\u5728\u952e\u4f4d\u4e00\u6837\u7684\u64cd\u4f5c\u5e8f\u5217\u4e2d\u7684\u4f24\u5bb3\u503c\uff0c\u5728\u8fd9\u6837\u7684\u4e00\u4e2a\u5e8f\u5217\u7ed3\u675f\u7684\u65f6\u5019\uff0c\u5c06\u6700\u5927\u7684 $k$ \u4e2a\u5143\u7d20\u63d0\u53d6\u51fa\u6765\uff0c\u7d2f\u52a0\u5373\u53ef\u3002\n\n---------\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<queue>\nusing namespace std;\npriority_queue <long long> atk;\nlong long n,k,a[200005],ans;\nchar s[200005];\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tfor(int i=1;i<=n;i++)scanf(\"%d\",&a[i]);\n\tfor(int i=1;i<=n;i++){\n\t\ts[i]=getchar();\n\t\twhile(s[i]>'z'||s[i]<'a')s[i]=getchar();\n\t}\n\ts[0]=s[1];\n\tfor(int i=1;i<=n;i++){\n\t\tif(s[i]!=s[i-1]){\n\t\t\tfor(int j=1;j<=k;j++){\n\t\t\t\tif(atk.empty())break;\n\t\t\t\tans+=atk.top();\n\t\t\t\tatk.pop();\n\t\t\t}\n\t\t\twhile(!atk.empty())atk.pop();\n\t\t}\n\t\tatk.push(a[i]);\n\t}\n\tfor(int j=1;j<=k;j++){\n\t\tif(atk.empty())break;\n\t\tans+=atk.top();\n\t\tatk.pop();\n\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1629554515,
        "uid": 223559,
        "name": "qxp101",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1107C Brutality"
    },
    {
        "content": "\u8bfb\u5b8c\u9898\u4ee5\u540e\u4f1a\u53d1\u73b0\u8fd9\u662f\u4e00\u4e2a\u5f88\u663e\u7136\u7684\u8d2a\u5fc3  \n\u5bf9\u4e8e\u8fde\u7eed\u7684\u5b57\u6bcd\u6211\u4eec\u81ea\u7136\u662f\u8981\u53d6\u5176\u4e2d\u524dk\u5927\u7684  \n\u7136\u540e\u7528priority_queue\u641e\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\n```\n#include <algorithm>\n#include <cctype>\n#include <climits>\n#include <cmath>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <queue>\n#include <stack>\n#include <vector>\n#define LL long long\n#define P pair<int,int>\nusing namespace std;\ntemplate <typename T>\ninline void read(T &t)\n{\n    int f = 0, c = getchar();\n    t = 0;\n    while (!isdigit(c))\n        f |= c == '-', c = getchar();\n    while (isdigit(c))\n        t = t * 10 + c - 48, c = getchar();\n    if (f)\n        t = -t;\n}\ntemplate <typename T, typename... Args>\ninline void read(T &t, Args &... args)\n{\n    read(t);\n    read(args...);\n}\nconst int maxn = 2e5 + 5;\nint a[maxn];\npriority_queue<LL> q;\nint main(){\n    int n,k;\n    read(n, k);\n    for (int i = 1;i<=n;i++) read(a[i]);\n    LL ans = 0;\n    int last = 0;\n    for (int i = 1;i<=n;i++) {\n        int ch=getchar()-'a';\n        if(ch!=last){\n            int cnt=k;\n            while(cnt>0 && !q.empty()){\n                ans+=q.top();\n                q.pop();\n                cnt--;\n            }\n            while(!q.empty())\n                q.pop();\n            last = ch;\n        }\n        q.push(a[i]);\n    }\n    int cnt=k;\n    while(cnt>0 && !q.empty()){\n        ans+=q.top();\n        q.pop();\n        cnt--;\n    }\n    while(!q.empty())\n        q.pop();\n    cout << ans;\n}\n```",
        "postTime": 1548526166,
        "uid": 31228,
        "name": "ciwomuli",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1107C \u3010Brutality\u3011"
    }
]