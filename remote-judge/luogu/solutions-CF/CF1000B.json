[
    {
        "content": "\u6a21\u62df\u3002  \n\u8f6c\u6362\u4e00\u4e0b\u6a21\u578b\uff1a\u82e5\u5e72\u6761\u7ebf\u6bb5\uff0c\u53ea\u80fd\u53d6\u5176\u4e2d\u7f16\u53f7\u4e3a\u5947\u6570\u7684\uff0c\u800c\u6211\u4eec\u53ef\u4ee5\u5207\u6389\u5176\u4e2d\u4e00\u6761\u6539\u53d8\u7f16\u53f7\u3002  \n\u518d\u8f6c\u6362\u4e00\u4e0b\uff1a\u82e5\u5e72\u6761\u7ebf\u6bb5\uff0c\u6211\u4eec\u53ef\u4ee5\u4e0d\u64cd\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u94a6\u5b9a\u5176\u4e2d\u7684\u4e00\u6761\uff0c\u8fd9\u6761\u524d\u9762\u7684\u53d6\u5947\u6570\u7f16\u53f7\uff0c\u540e\u9762\u7684\u53d6\u5076\u6570\u7f16\u53f7\uff0c\u7136\u540e\u5bf9\u94a6\u5b9a\u7684\u8fd9\u4e00\u6761\uff0c\u53d6\u5b83\u7684 $\\text{len}-1$\uff0c\u81f3\u6b64\u53ea\u9700\u8981\u679a\u4e3e\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\u3002\n```cpp\n#include<bits/stdc++.h>\n#define MAXN 100005\n#define reg register\n#define inl inline\nusing namespace std;\nint n,m,a[MAXN],b[MAXN],len[MAXN],sum1[MAXN],sum2[MAXN],ans;\nint main()\n{\n\tios::sync_with_stdio(0);\n\tcin>>n>>m;\n\tfor(reg int i=1;i<=n;i++) cin>>a[i];\n\ta[0]=0,a[n+1]=m;\n\tsort(a,a+n+2);\n\tfor(reg int i=1;i<=n+1;i++)\n\t{\n\t\tlen[i]=a[i]-a[i-1];\n\t\tif(i%2) ans+=len[i];\n\t}\n\tfor(reg int i=1;i<=n+1;i++)\n\t{\n\t\tsum1[i]=sum1[i-1]+((i%2)?len[i]:0);\n\t\tsum2[i]=sum2[i-1]+((!(i%2))?len[i]:0);\n\t}\n\tfor(reg int i=1;i<=n+1;i++)\n\t{\n\t\tif(len[i]==1) continue;\n\t\treg int cnt=sum1[i-1]+len[i]-1+sum2[n+1]-sum2[i];\n\t\tans=max(ans,cnt);\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1587888037,
        "uid": 23243,
        "name": "VenusM1nT",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1000B \u3010Light It Up\u3011"
    },
    {
        "content": "#### 1 \u9898\u76ee\u63cf\u8ff0\uff08[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1000B)\uff09\n\n#### 2 \u89e3\u9898\u601d\u8def\n\n\u9898\u76ee\u901a\u4fd7\u4e00\u70b9\u7406\u89e3\u5c31\u662f\u6709\u4e00\u6761 $0\\sim M$ \u7684\u7ebf\u6bb5\uff0c\u7528 $n$ \u4e2a\u70b9\u5206\u6210 $n+1$ \u6761\u7ebf\u6bb5\u3002\u4ece\u5de6\u5230\u53f3\u7f16\u53f7\uff0c\u53d6\u5176\u4e2d\u6240\u6709\u7f16\u53f7\u4e3a\u5947\u6570\u7684\u7ebf\u6bb5\u957f\u5ea6\u3002\u64cd\u4f5c\u5c31\u662f\u63d2\u5165\u4e00\u4e2a\u70b9\u4f7f\u540e\u9762\u7ebf\u6bb5\u7684\u5947\u5076\u6027\u6539\u53d8\u3002\n\n\u8003\u8651\u63d2\u5165\u4e00\u4e2a\u70b9\uff0c\u4f1a\u5c06\u4e00\u4e2a\u7ebf\u6bb5\u5206\u6210\u4e24\u90e8\u5206\uff0c\u53d6\u5176\u4e2d\u4e00\u90e8\u5206\u3002\u90a3\u4e48\uff0c\u4e00\u5b9a\u662f\u5c06\u7ebf\u6bb5\u5206\u4e3a $1$ \u548c $a_i-1$ \uff0c\u7136\u540e\u53d6 $a_i-1$ \u7684\u6536\u76ca\u6700\u5927\u3002\n\n\u56e0\u6b64\uff0c\u6211\u4eec\u7684\u601d\u8def\u5c31\u662f\uff0c\u679a\u4e3e\u6bcf\u4e00\u6bb5\u7ebf\u6bb5\uff0c\u53d6\u8be5\u7ebf\u6bb5\u524d\u7684\u6240\u6709\u7f16\u53f7\u4e3a\u5947\u6570\u7684\u7ebf\u6bb5\uff0c\u8be5\u7ebf\u6bb5\u540e\u7684\u6240\u6709\u7f16\u53f7\u4e3a\u5076\u6570\u7684\u7ebf\u6bb5\uff0c\u548c\u8be5\u7ebf\u6bb5\u7684\u957f\u5ea6\u51cf\u4e00\uff0c\u4e09\u8005\u52a0\u548c\u3002\u6700\u540e\u53d6\u6240\u6709\u679a\u4e3e\u51fa\u7684\u548c\u7684\u6700\u5927\u503c\uff08\u6ce8\u610f\u8fd8\u53ef\u4ee5\u4e0d\u63d2\u70b9\uff09\u3002\n\n\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u7ef4\u62a4\u5947\u6570\u7ebf\u6bb5\u548c\u548c\u5076\u6570\u7ebf\u6bb5\u548c\uff0c $O(1)$ \u8c03\u7528\u5373\u53ef\u3002\n\n#### 3 \u89e3\u9898\u4ee3\u7801\n\n```cpp\n#include <iostream>\nusing namespace std;\nint n,m;\nint a[100100],len[100100];\nint ans=0;\nint sum1[100100],sum2[100100];\n//sum1[i]\u8868\u793a\u7ebf\u6bb5i\u524d\u6240\u6709\u7f16\u53f7\u4e3a\u5947\u6570\u7684\u7ebf\u6bb5\u7684\u957f\u5ea6\u548c\uff0csum2[i]\u8868\u793a\u7ebf\u6bb5i\u524d\u6240\u6709\u7f16\u53f7\u4e3a\u5076\u6570\u7684\u7ebf\u6bb5\u7684\u957f\u5ea6\u548c\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    a[0]=0;a[n+1]=m;\n    for(int i=1;i<=n;i++)scanf(\"%d\",&a[i]);\n    for(int i=1;i<=n+1;i++)\n    {\n        len[i]=a[i]-a[i-1];\n        if(i%2)\n        {\n            ans+=len[i];\n            sum1[i]=sum1[i-1]+len[i];\n            sum2[i]=sum2[i-1];\n        }\n        else\n        {\n            sum1[i]=sum1[i-1];\n            sum2[i]=sum2[i-1]+len[i];\n        }\n    }\n    for(int i=1;i<=n+1;i++)\n        ans=max(ans,sum1[i-1]+len[i]-1+sum2[n+1]-sum2[i]);\n    printf(\"%d\\n\",ans);\n    return 0;\n}\n```\n\n#### 4 \u89e3\u9898\u5fc3\u5f97\n\n\u672c\u9898\u6700\u5f00\u59cb\u7406\u89e3\u9519\u9898\u610f\uff0c\u5bfc\u81f4\u6beb\u65e0\u5934\u7eea\u3002\u5148\u53bb\u505a\u4e86\u540e\u9762\u7684\u4e2d\u6587\u9898\u518d\u56de\u6765\u9605\u8bfb\uff0c\u8c41\u7136\u5f00\u6717\u3002\n\n\u524d\u7f00\u548c\u7ef4\u62a4/\u5dee\u5206\u7ef4\u62a4\u53ef\u4ee5 $O(1)$ \u67e5\u8be2/\u4fee\u6539\uff0c\u8fd8\u662f\u5f88\u6709\u7528\u7684\u4f18\u5316\u65b9\u6cd5\u3002",
        "postTime": 1644909868,
        "uid": 74352,
        "name": "lsr1409111459",
        "ccfLevel": 4,
        "title": "CF1000B Light It Up"
    },
    {
        "content": "## Solution\n\u6a21\u62df\u3002\n\n\u663e\u7136\u6700\u4f18\u65b9\u6848\u4e00\u5b9a\u662f\u5728\u67d0\u6b21\u5df2\u6709\u64cd\u4f5c\u7684\u65f6\u523b\u52a0$1$\u6216\u51cf$1$\u7684\u65f6\u523b\u6539\u53d8\u72b6\u6001\uff08\u611f\u6027\u7406\u89e3\u5373\u53ef\uff09\u3002\u6240\u4ee5\u6211\u4eec\u679a\u4e3e\u6bcf\u4e2a\u5df2\u6709\u64cd\u4f5c\uff0c\u5982\u679c\u5728\u8be5\u65f6\u523b\u52a0$1$\u6216\u51cf$1$\u7684\u65f6\u523b\u6539\u53d8\u72b6\u6001\u603b\u4eae\u706f\u65f6\u95f4\u66f4\u957f\uff0c\u5219\u4fee\u6539\u7b54\u6848\u3002\n\n\u4f7f\u7528\u524d\u7f00\u548c\u53ef\u4ee5\u505a\u5230$O(1)$\u8ba1\u7b97\u5728\u67d0\u4e2a\u65f6\u523b\u6539\u53d8\u72b6\u6001\u7684\u603b\u4eae\u706f\u65f6\u95f4\u3002\n## Tips\n- \u53ef\u4ee5\u4e0d\u6539\u53d8\u72b6\u6001\n\n## Code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAXN = 100000 + 5;\nint n, m, a[MAXN], sum[MAXN], ans; //sum[i]\u8868\u793a0\u5230a[i]\u65f6\u523b\u7684\u603b\u4eae\u706f\u65f6\u95f4 \nint calc(int x, int y) { //a[x]\u5230a[y]\u65f6\u523b\u7684\u603b\u4eae\u706f\u65f6\u95f4 \n\treturn sum[y] - sum[x];\n}\nint main() {\n\tscanf(\"%d%d\", &n, &m);\n\tfor(int i = 1; i <= n; i++) {\n\t\tscanf(\"%d\", &a[i]);\n\t\tif(i % 2 == 1) sum[i] = sum[i-2] + a[i] - a[i-1];\n\t\telse sum[i] = sum[i-1];\n\t}\n\ta[n+1] = m;\n\tif(n % 2 == 1) sum[n+1] = sum[n];\n\telse sum[n+1] = sum[n] + m - a[n];\n\tfor(int i = 0; i <= n + 1; i++) {\n\t\tif(a[i] - 1 >= 0 && a[i] - 1 != a[i-1]) {\n\t\t\tans = max(ans, sum[i] + (m - a[i] - calc(i, n+1)) + (i % 2 == 0 ? 1 : -1)); //\u5728a[i]-1\u65f6\u523b\u6539\u53d8\u72b6\u6001 \n\t\t}\n\t\tif(a[i] + 1 <= m && a[i] + 1 != a[i+1]) {\n\t\t\tans = max(ans, sum[i] + (m - a[i] - calc(i, n+1)) + (i % 2 == 0 ? 1 : -1)); //\u5728a[i]+1\u65f6\u523b\u6539\u53d8\u72b6\u6001 \n\t\t}\n\t}\n\tans = max(ans, sum[n+1]); //\u53ef\u4ee5\u4e0d\u6539\u53d8\u72b6\u6001 \n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1590919278,
        "uid": 91819,
        "name": "LJC00175",
        "ccfLevel": 7,
        "title": "\u3010\u9898\u89e3\u3011CF1000B Light It Up"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1000B)\n\n\u8fd9\u9053\u9898\u662f\u9053**\u6a21\u62df**\u9898\uff0c\u4f46\u7a7f\u63d2\u7740\u4e00\u70b9\u70b9**\u8d2a\u5fc3**\u3002\n\n\u6211\u4eec\u5148\u8ba1\u7b97\u603b\u65f6\u95f4\uff1a$n$ \u6b21\u6539\u53d8\u706f\u7684\u5f00\u5173\uff0c\u5c06\u4ece 0 \u5230 $m$ \u8fd9\u4e00\u5927\u6bb5\u65f6\u95f4\u5206\u6210\u4e86 $n + 1$ \u5c0f\u6bb5\uff0c\u6709\u4e9b\u5c0f\u6bb5\u7684\u65f6\u95f4\u7531\u4e8e\u706f\u662f\u5173\u7740\u7684\u6240\u4ee5\u4e0d\u8ba1\u7b97\u5728\u603b\u65f6\u95f4\u5185\u3002\n\n\u800c\u6211\u4eec\u80fd\u591f\u65b0\u6dfb\u52a0\u7684\u8ba9\u706f\u6539\u53d8\u4e00\u6b21\u7684\u673a\u4f1a\uff0c\u65e0\u975e\u5c31\u662f\u5728\u8fd9 $n + 1$ \u6bb5\u4e2d\u9009\u62e9**\u957f\u5ea6\u5927\u4e8e 1** \u7684\u4e00\u6bb5\u5e76\u63d2\u5165\uff0c\u6211\u4eec\u9700\u8981\u627e\u51fa\u6240\u6709\u63d2\u5165\u7684\u65b9\u6848\u4e2d\u9009\u62e9**\u6700\u4f18**\u7684\u4e00\u4e2a\u3002\n\n\u8bbe $len_i$ \u8868\u793a\u7b2c $i$ \u5c0f\u6bb5\u7684\u957f\u5ea6\u3002\n\n\u6211\u4eec\u5148\u8ba8\u8bba\u8fd9\u4e2a\u673a\u4f1a\u5e94\u8be5\u63d2\u5165\u5728\u6bcf\u4e2a\u5c0f\u6bb5\u4e2d\u7684\u4ec0\u4e48\u4f4d\u7f6e\uff1a\n\n\u7b2c\u4e00\u79cd\u60c5\u51b5\uff1a\u5982\u679c\u8fd9\u4e00\u5c0f\u6bb5\u706f\u662f**\u5f00**\u7740\u7684\uff0c\u90a3\u4e48\u5728\u8fd9\u4e2a\u673a\u4f1a\u63d2\u5165\u7684\u4f4d\u7f6e\u4e00\u76f4\u5230\u8fd9\u4e00\u5c0f\u6bb5\u7ed3\u675f\u8fd9\u6bb5\u65f6\u95f4\uff0c\u706f\u662f\u5173\u7740\u7684\uff0c\u6211\u4eec\u5f53\u7136\u5e0c\u671b\u5173\u706f\u7684\u8fd9\u4e00\u6bb5\u5c3d\u53ef\u80fd**\u77ed**\uff0c\u6240\u4ee5\u8fd9\u4e2a\u4f4d\u7f6e\u5e94\u8be5\u5c3d\u53ef\u80fd\u9760**\u540e**\uff0c\u5c31\u5728\u7ed3\u675f\u524d\u7684\u4e00\u65f6\uff0c\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u4e3a -1\u3002\n\n\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff1a\u5982\u679c\u8fd9\u4e00\u5c0f\u6bb5\u706f\u662f**\u5173**\u7740\u7684\uff0c\u90a3\u4e48\u5728\u8fd9\u4e00\u5c0f\u6bb5\u5f00\u59cb\u4e00\u76f4\u5230\u8fd9\u4e2a\u673a\u4f1a\u63d2\u5165\u7684\u4f4d\u7f6e\u8fd9\u6bb5\u65f6\u95f4\uff0c\u706f\u662f\u5f00\u7740\u7684\uff0c\u6211\u4eec\u5f53\u7136\u5e0c\u671b\u5f00\u706f\u7684\u8fd9\u4e00\u6bb5\u5c3d\u53ef\u80fd**\u957f**\uff0c\u6240\u4ee5\u8fd9\u4e2a\u4f4d\u7f6e\u5e94\u8be5\u5c3d\u53ef\u80fd\u9760**\u524d**\uff0c\u5c31\u5728\u5f00\u59cb\u540e\u7684\u4e00\u65f6\uff0c\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u4e3a $len_i - 1$\u3002\n\n\u663e\u7136\uff0c\u5728\u4e00\u4e2a\u5c0f\u6bb5\u4e2d\u63d2\u5165\u7684\u4f4d\u7f6e\u4e0d\u540c\u5e76\u4e0d\u4f1a\u4ea7\u751f\u9664\u4e0a\u8ff0\u8ba8\u8bba\u5916\u7684**\u989d\u5916\u5f71\u54cd**\uff0c\u6240\u4ee5\u8d2a\u5fc3\u6210\u7acb\u3002\n\n\u63a5\u7740\u6211\u4eec\u8ba8\u8bba\u8fd9\u4e2a\u5c0f\u6bb5\u63d2\u5165\u673a\u4f1a\u540e\u5bf9\u5176\u4ed6\u5c0f\u6bb5\u7684\u5f71\u54cd\uff1a\n\n\u8bbe\u8fd9\u4e2a\u5c0f\u6bb5\u662f\u7b2c $i$ \u4e2a\u5c0f\u6bb5\uff0c\u7b2c $i + 1$ \u5c0f\u6bb5\u5230\u7b2c $n$ \u5c0f\u6bb5\u7684\u5f00\u5173\u90fd\u4f1a**\u98a0\u5012**\uff0c\u9700\u8981\u91cd\u65b0\u8ba1\u7b97\u3002\n\n\u5982\u679c\u6211\u4eec\u6bcf\u4e00\u5c0f\u6bb5\u90fd\u8981\u91cd\u65b0\u8ba1\u7b97\uff0c\u90a3\u4e48\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n^2)$\uff0c\u800c\u6570\u636e\u8303\u56f4\u662f $n \\leq 10^5$\uff0c\u4e0d\u80fd\u901a\u8fc7\u3002\u8fd9\u662f\u6211\u4eec\u9700\u8981\u58f0\u660e\u4e00\u4e2a**\u540e\u7f00**\u6570\u7ec4 $suf$\uff0c$suf_i$ \u8868\u793a\u7b2c $i$ \u6bb5\u5230\u7b2c $n + 1$ \u6bb5\u5f00\u5173\u98a0\u5012\u540e\u7684\u8d21\u732e\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728 $O(1)$ \u7684\u65f6\u95f4\u5185\u91cd\u65b0\u8ba1\u7b97\u98a0\u5012\u540e\u7684\u8d21\u732e\u3002\n\n\u4e0a\u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nconst int maxn = 100015;\n\ninline int simple_read() {\n\tint s = 0;\n\tchar ch = getchar();\n\twhile (ch < 48 || ch > 57) {\n\t\tch = getchar();\n\t}\n\twhile (ch > 47 && ch < 58) {\n\t\ts = (s << 3) + (s << 1) + ch - 48;\n\t\tch = getchar();\n\t}\n\treturn s;\n}\n\nint n, m, sum, chan, arr1[maxn], arr2[maxn], suf[maxn];\n\nint main() {\n\tn = simple_read();\n\tm = simple_read();\n\tint last = 0, tmp;\n\tfor (register int i = 0; i < n; i++) {\n\t\ttmp = simple_read();\n\t\tif (i & 1) {\n\t\t\tarr1[i] = 0;\n\t\t\tarr2[i] = tmp - last;\n\t\t}\n\t\telse {\n\t\t\tarr1[i] = tmp - last;\n\t\t\tarr2[i] = 0;\n\t\t}\n\t\tlast = tmp;\n\t\tsum += arr1[i];\n\t}\n\tif (n & 1) {\n\t\tarr1[n] = 0;\n\t\tarr2[n] = m - last;\n\t}\n\telse {\n\t\tarr1[n] = m - last;\n\t\tarr2[n] = 0;\n\t}\n\tsum += arr1[n];\n\tfor (register int i = n; i > -1; i--) {\n\t\tsuf[i] = suf[i + 1] + arr2[i] - arr1[i];\n\t}\n\tfor (register int i = 0; i <= n; i++) {\n\t\tif (i & 1) {\n\t\t\tif (arr2[i] > 1) {\n\t\t\t\tchan = max(chan, arr2[i] - 1 + suf[i + 1]);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (arr1[i] > 1) {\n\t\t\t\tchan = max(chan, suf[i + 1] - 1);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\", sum + chan);\n\treturn 0;\n}\n```\n\n\u5b8c\u7ed3\u6492\u82b1~",
        "postTime": 1638354558,
        "uid": 280233,
        "name": "Lee666666",
        "ccfLevel": 5,
        "title": "CF1000B \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9053\u9898\u5141\u8bb8\u5728(a[i]),a[i+1])\u4e4b\u5185\u653e\u5165\u4e00\u4e2a\u503c\uff0c\u4f7f\u5f97\u5176\u540e\u9762\u6240\u6709\u7684\u5f00\u5173\u72b6\u6001\u8f6c\u6362\uff0c\u4ece\u800c\u8fbe\u5230\u5149\u4eae\u7684\u65f6\u95f4\u6700\u957f\u3002\n\n\u7ecf\u8fc7\u601d\u8003\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u5c06\u8f6c\u6362\u7684\u4f4d\u7f6ex\u79fb\u5230a[i]\u6216\u8005a[i+1]\u662f\u6700\u4f18\u7684\u3002\u800c\u8fd9\u65f6\u6211\u4eec\u4e0d\u96be\u53d1\u73b0\uff0c\u5f53\u706f\u539f\u672c\u5c31\u662f\u4eae\u7740\u7684\u65f6\u5019\u5728\u5b83\u524d\u9762\u4e00\u4e2a\u8f6c\u6362\u4e00\u6b21\u72b6\u6001\u6bd4\u5728\u5b83\u540e\u9762\u597d\uff1b\u800c\u5f53\u706f\u539f\u672c\u5c31\u662f\u706d\u7740\u7684\u65f6\u5019\u5728\u5b83\u540e\u9762\u4e00\u4e2a\u653e\u4e00\u4e2a\u8f6c\u6362\u72b6\u6001\u6bd4\u5728\u4ed6\u524d\u9762\u653e\u597d\u3002\n\n\u5f00b\uff0cc\u6570\u7ec4\u5b58\u50a8\u4eae\u6697\u7684\u65f6\u95f4\uff0c\u6700\u540e\u8ba1\u7b97\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u6240\u4ee5\u4ee3\u7801\u5982\u4e0b\uff1a\n```c\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define ll long long\nusing namespace std;\nll n,m,a[100005];\nll b[100005],c[100005];\nint main()\n{\n\tcin>>n>>m;\n\ta[1]=0;\n\ta[n+2]=m;\n\tfor(int i=2;i<=n+1;i++)\n\t{\n\t\tcin>>a[i];\n\t}\n\tll ans=0,cur=0;\n\tfor(int i=1;i<=n+2;i++)\n\t{\n\t\tb[i]=b[i-1];\n\t\tc[i]=c[i-1];\n\t\tif(i%2==0)\n\t\t{\n\t\t\tans+=a[i]-a[i-1];\n\t\t\tb[i]+=a[i]-a[i-1];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tc[i]+=a[i]-a[i-1];\n\t\t}\n\t\n\tfor(int i=1;i<n+2;i++)\n\t{\n\t\tif(i%2)\n\t\t{\n\t\t\tif(a[i+1]-1>a[i])\n\t\t\t{\n\t\t\t\tll cur=b[i]+a[i+1]-1-a[i]+c[n+2]-c[i+1];\n                //\u4e0d\u8981\u5fd8\u4e86-1\n\t\t\t\tans=max(ans,cur);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(a[i]+1<a[i+1])\n\t\t\t{\n\t\t\t\tll cur=b[i]+a[i+1]-a[i]-1+c[n+2]-c[i+1];\n                //\u4e0d\u8981\u5fd8\u4e86-1\n\t\t\t\tans=max(ans,cur);\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1530375878,
        "uid": 107488,
        "name": "\u98ce\u6d54\u51cc",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1000B \u3010Light It Up\u3011"
    },
    {
        "content": "\u849f\u84bb\u7b2c\u4e8c\u7bc7\u9898\u89e3\u3002\u3002\u3002\n\n\u6bd4\u8d5b\u7684\u65f6\u5019\u5199\u8fd9\u9053\u9898MLE\u4e86qwq\u3002\u3002\u6839\u636eCF\u7684\u8d5b\u5236\u6211\u4e5f\u6ca1\u6562\u518d\u4ea4\u7b2c\u4e8c\u6b21\u3002\u3002\n\n\u7b80\u5355\u8bb2\u4e00\u4e0b\u601d\u8def\u597d\u4e86~~(\u5047\u88c5\u662fdalao)~~\u3002\u3002\u6839\u636e\u9898\u610f\u8981\u52a0\u4e00\u4e2a\u6216\u8005\u4e0d\u52a0\u65b0\u7684\u70b9\u3002\u3002\u5982\u679c\u52a0\u4e00\u4e2a\u65b0\u7684\u70b9\u610f\u5473\u7740\u4ece\u8fd9\u4e2a\u70b9\u5f80\u540e\u7684\u65f6\u95f4\u91cc\u72b6\u6001\u90fd\u4f1a\u53cd\u8f6c(\u4eae->\u706d&&\u706d->\u4eae)\u3002\u3002\u5219\u52a0\u5165\u70b9\u540e\u7684\u4eae\u706f\u65f6\u95f4=(\u70b9\u540e\u603b\u65f6\u95f4-\u70b9\u540e\u539f\u672c\u4eae\u706f\u65f6\u95f4)\u3002\u3002\u6839\u636e\u4e09\u4e2a\u6837\u4f8b\u4e0d\u96be\u53d1\u73b0\u52a0\u7684\u70b9\u4f4d\u7f6e\u5728\u539f\u6709\u70b9\u7684\u4e24\u4fa7\u5e76\u4e14\u4e24\u4fa7\u4f4d\u7f6e\u7b49\u4ef7~~(\u8fd9\u4e00\u70b9\u611f\u6027\u7406\u89e3\u4e00\u4e0b\u5c31\u597d)~~\u3002\u3002\u7136\u540e\u5c31\u8981\u5728\u52a0\u70b9\u7684\u65f6\u5019\u5224\u65ad\u4e00\u4e0b\u5df2\u6709\u70b9\u4e24\u4fa7\u662f\u5426\u80fd\u52a0\u70b9(\u4e00\u5f00\u59cb\u6ca1\u770bm\u6700\u59271e9\u3002\u3002\u7528vis\u6570\u7ec4\u5224\u65ad\u76f4\u63a5MLE\u4e86\u3002\u3002\u3002STL\u771f\u597d\u7528)\u3002\u3002\u7136\u540e\u6bcf\u4e2a\u70b9\u9ed8\u8ba4\u6309\u7167\u53f3\u7aef\u52a0\u70b9\u8ba1\u7b97\u65b0\u7684\u4eae\u706f\u65f6\u95f4(\u6bd5\u7adf\u5de6\u53f3\u7b49\u4ef7)\u3002\u3002\u548cANS\u53d6max\u66f4\u65b0\u7ed3\u679c(\u6ca1\u9519\u5c31\u662f\u8fd9\u6837)\u3002\u3002\n\n\u770b\u8d77\u6765\u6ca1\u4ec0\u4e48\u95ee\u9898\u3002\u3002\u4f46\u662f\u65b0\u7684\u4eae\u706f\u65f6\u95f4\u662f(\u539f\u524d+\u73b0\u540e)\u3002\u3002\u800c\u8ba1\u7b97\u539f\u540e\u4e5f\u8981\u7528\u5230\u539f\u524d**(\u8fd9\u662f\u91cd\u70b9)** \u3002\u3002\u6839\u636e\u9898\u610f\u5947\u6570\u4e2a\u70b9\u662f\u5173\u95ed\u7684\u5076\u6570\u70b9\u662f\u5f00\u542f\u7684\u3002\u3002\u4e8e\u662f\u4e00\u6bb5\u4e00\u6bb5\u7684\u52a0\u5c31\u5f97\u5230\u603b\u65f6\u95f4(\u8fc7\u7a0b\u4e2d\u628a\u622a\u81f3\u6bcf\u4e2a\u70b9\u53f3\u4fa7\u662f\u7684\u4eae\u706f\u65f6\u95f4\u90fd\u653e\u5165vector)\u3002\u3002\u4e8e\u662f\u5927\u529f\u544a\u6210\u3002\u3002\n\n\u4e0b\u9762\u8d34\u4ee3\u7801\u2193\u2193\n```cpp\n#include<cstdio>//CF1000B\n#include<iostream>\n#include<algorithm>\n#include<set>\n#include<vector>\n#include<queue>\n#include<string>\n#include<cstring>\n#include<cstdlib>\n#include<cmath>\n\nusing namespace std;\n\nint n,m,ANS,sm,N;\n\nvector<int>a,c;\n\nset<int>s;\n\nint main(){\n\tint flag=0,re,u,v;\n\tscanf(\"%d%d\",&n,&m);\n\tN=n+1;\n\ta.push_back(0);\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%d\",&re);\n\t\ta.push_back(re);\n\t\ts.insert(re);\n\t}\n\tif(n%2==0){\n\t\ta.push_back(m);\n\t\tN++;\n\t\tflag=1;\n\t}\n\tfor(int i=0,j=i+1;i<N;i+=2,j=i+1){\n\t\tu=a[i];\n\t\tv=a[j];\n\t\tsm-=(u-v);\n\t\tc.push_back(sm);\n\t\tc.push_back(sm+1);\n\t}\n\tANS=sm;\n\tfor(int i=0;i<n;i++){\n\t\tif(s.count(a[i+1]+1)&&s.count(a[i+1]-1)){\n\t\t\tcontinue;\n\t\t}\n\t\tint now=c[i],ex=sm-now,et=m-a[i+1]-1;\n\t\tANS=max(ANS,now+et-ex);\n\t}\n\tprintf(\"%d\\n\",ANS);\n\treturn 0;\n}\n```",
        "postTime": 1530427029,
        "uid": 88006,
        "name": "BLUESKY007",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1000B \u3010Light It Up\u3011"
    }
]