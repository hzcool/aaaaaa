[
    {
        "content": "## \u9898\u76ee\u5206\u6790\n\u9996\u5148\u627e\u5230\u9519\u8bef\u7684\u90e8\u5206\uff0c\u5982$123$\u4e2d$23$\u4e4b\u95f4\u6709\u4e00\u4e2a\u9519\u8bef\u3002**\u56e0\u4e3a\u53ea\u80fd\u6362\u4e00\u6b21\uff0c\u6240\u4ee5\u6700\u591a\u6709\u56db\u4e2a\u9519\u8bef\uff0c\u8fd9\u91cc\u6211\u4eec\u5206\u7c7b\u8ba8\u8bba\u3002**\n\n\u56db\u4e2a\u65f6\u4ee5\u4e0a\uff1a\n**\u7edd\u5bf9\u6ca1\u6709\u53ef\u80fd\u3002**\n\n\u56db\u4e2a\u65f6\uff1a\n1.\u4e24\u4e24\u76f8\u90bb\uff1a\u53ea\u80fd\u4ea4\u6362\u4e24\u4e2a\u9519\u8bef\u7684\u4e4b\u95f4\u70b9\u70b9\u624d\u6709\u53ef\u80fd\u6539\u6b63\u6240\u6709\u9519\u8bef\uff0c\u5373$2123343$\u4e2d$21$\uff0c$12$\uff0c$34$\uff0c$43$\u4e2d\u90fd\u6709\u9519\u8bef\uff0c\u53ea\u6709\u4ea4\u6362$1$\u4e0e$4$\u624d\u6709\u53ef\u80fd\u3002\n\n2.\u5176\u4ed6\u90fd\u4e0d\u53ef\u80fd\n\n\u4e09\u4e2a\u65f6\uff1a1.\u6709\u4e00\u5bf9\u4e24\u4e24\u76f8\u90bb:\u4e24\u4e2a\u8fde\u7eed\u9519\u8bef\u5904\u53ea\u80fd\u4e2d\u95f4\u90a3\u4e2a\u4ea4\u6362\u624d\u6709\u53ef\u80fd\uff0c\u53e6\u4e00\u5904\u524d\u540e\u7686\u53ef\u30022.\u5176\u4ed6\u4e0d\u53ef\u80fd\n\n\u4e24\u4e2a\u65f6\uff1a1.\u9519\u8bef\u4e0d\u76f8\u4e34\u9519\u8bef\u524d\u540e\u8c03\u6574\u90fd\u6709\u53ef\u80fd\u30022.\u9519\u8bef\u76f8\u90bb\uff1a\u641c\u7d22\u6574\u4e2a\u6570\u7ec4\u4e0e\u4e2d\u95f4\u70b9\u4ea4\u6362\n\n\u4e00\u4e2a\u65f6\uff1a\u9519\u8bef\u524d\u540e\u641c\u7d22\u6574\u4e2a\u6570\u7ec4\u4e0e\u4e4b\u66ff\u6362\n\n\u6ca1\u6709\u65f6\uff1a$O$($n^2$)\uff0c\u65e0\u6cd5\u5904\u7406\uff0c~~\u601d\u8003\u4e86\u534a\u5929\u6ca1\u6709\u60f3\u5230\uff0c\u53d1\u73b0\u6839\u672c\u65e0\u6b64\u7c7b\u6d4b\u8bd5\u70b9~~\u3002\n\n# Code\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nint a[1500010], n;\n\nbool ok(int i){\n    if(i < 1 || i >= n)\treturn 1;\n    if((i&1) && a[i] >= a[i+1])\treturn 0;\n    if(!(i&1) && a[i] <= a[i+1])\treturn 0;\n    return 1;\n}\n\nvector<int> w;\n\nbool check(int x, int y){\n    bool flag = 1;\n    swap(a[x], a[y]);\n    for(int i = 0; i < w.size(); i++)\tif(!ok(w[i]))\tflag = 0;\n    if(!ok(x) || !ok(x-1) || !ok(y) || !ok(y-1))\tflag = 0;\n    swap(a[x], a[y]);\n    return flag;\n}\n\nint main(){\n    scanf(\"%d\", &n);\n    for(int i = 1; i <= n; i++)\tscanf(\"%d\", &a[i]);\n    for(int i = 1; i < n; i++)\tif(!ok(i))\tw.push_back(i);\n    if(w.size() > 4){\n        printf(\"0\\n\");\n\t\treturn 0;\n    }\n    int x = w[0];\n    int ans = 0;\n    for(int i = 1; i <= n; i++)\tif(check(i, x))\tans++;\n\tfor(int i = 1; i <= n; i++)\tif(check(i, x+1))\tans++;\n\tif(check(x, x+1))\tans--;\n    printf(\"%d\\n\", ans);\n    return 0;\n}\n```\n",
        "postTime": 1612150027,
        "uid": 128817,
        "name": "Zzzzzzzm",
        "ccfLevel": 6,
        "title": "CF653C Bear and Up-Down \u9898\u89e3"
    },
    {
        "content": "#### CF653C Bear and Up-Down\n\n~~\u6709\u4e00\u8bf4\u4e00\u8fd9\u9898\u5c31\u662f\u4e2a\u5439**~~\n\n\u62ff\u5230\u8fd9\u9898\u7684\u65f6\u5019\u8fd8\u633a\u61f5\u7684\uff0c\u4ee5\u4e3a\u662f\u6ca1\u89c1\u8fc7\u7684\u7384\u5b66\u8ba1\u6570\uff0c\u518d\u4ed4\u7ec6\u4e00\u60f3\u53d1\u73b0\u4e0d\u5bf9\u52b2\uff0c\u56e0\u4e3a\u5982\u679c\u672c\u6765\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u4f4d\u7f6e\u592a\u591a\u90a3\u5c31\u6839\u672c\u4e0d\u53ef\u80fd\u6709\u89e3\u3002\n\n\u6539\u53d8$i$\u4f4d\u7f6e\u4e0a\u7684\u8fd9\u4e2a\u6570\u53ea\u4f1a\u5f71\u54cd\u4e24\u4e2a\u6570\uff0c$i-1$\u548c$i$\u3002\u56e0\u6b64\u5982\u679c\u60f3\u8ba9\u4e00\u4e2a\u672c\u6765\u4e0d\u6ee1\u8db3\u6761\u4ef6\u7684$i$\u4f4d\u7f6e\u6ee1\u8db3\u6761\u4ef6\uff0c\u8981\u4e48\u628a$i$\u8c03\u8d70\uff0c\u8981\u4e48\u628a$i+1$\u8c03\u8d70\u3002\n\n\u628a\u4e0d\u6ee1\u8db3\u4f4d\u7f6e>4\u7684\u5224\u6389\u4e4b\u540e\u66b4\u529b\u5373\u53ef\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<vector>\n#define pb push_back\n#define N 200005\nusing namespace std;\nint read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=(x<<3)+(x<<1)+(ch^48);ch=getchar();}\n\treturn x*f;\n}\nint n,a[N];\nvector<int>G;\nint check(int x)\n{\n\tif(x<=0||x>=n)return 1;\n\tif(x%2==1&&a[x]>=a[x+1])return 0;\n\tif(x%2==0&&a[x]<=a[x+1])return 0;\n\treturn 1;\n}\nint Swp(int x,int y)\n{\n\tswap(a[x],a[y]);\n\tint res=1;\n\tfor(int i=0;i<G.size();i++)if(!check(G[i]))res=0;\n\tif(!check(x)||!check(x+1)||!check(x-1)||!check(y)||!check(y+1)||!check(y-1))res=0;\n\tswap(a[x],a[y]);\n\treturn res;\n}\nint main()\n{\n\tn=read();\n\tfor(int i=1;i<=n;i++)a[i]=read();\n\tfor(int i=1;i<n;i++)if(!check(i))G.pb(i);\n\tif(G.size()>4)return puts(\"0\"),0;\n\t//cout<<\"~~~~~~~~~~~\"<<endl;\n\t//cout<<G.size()<<endl;\n\t//for(int i=0;i<G.size();i++)cout<<G[i]<<\" \";\n\tint ans=0;\n\tfor(int i=1;i<=n;i++)ans+=Swp(i,G[0]);\n\tfor(int i=1;i<=n;i++)ans+=Swp(i,G[0]+1);\n\tans-=Swp(G[0],G[0]+1);\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1612359401,
        "uid": 179600,
        "name": "shao0320",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF653C \u3010Bear and Up-Down\u3011"
    }
]