[
    {
        "content": "\u9ad8\u5999\u8d2a\u5fc3\u9898\u3002\n\n\u5148\u8003\u8651\u7ed9\u5b9a $p$ \u65f6\u600e\u4e48\u6c42\u51fa $m$\u3002\u5148\u5168\u90e8\u90fd\u9760\u5de6\u653e\uff0c\u7136\u540e\u5168\u90e8\u9760\u53f3\u653e\u3002\u53d1\u73b0\u5bf9\u4e8e $p_i$\uff0c\u5728\u9760\u5de6\u653e\u548c\u9760\u53f3\u653e\u90fd\u88ab\u67d3\u8272\u7684\u683c\u5b50\u5c31\u662f\u5fc5\u987b\u67d3\u8272\u7684\u683c\u5b50\u3002\n\n\u5047\u8bbe\u5168\u90e8\u90fd\u9760\u5de6\u653e\u65f6\uff0c\u672b\u5c3e\u5269\u6709 $k$ \u4e2a\u7a7a\u683c\u5b50\uff0c\u90a3\u4e48\u5fc5\u987b\u67d3\u8272\u7684\u683c\u5b50\u5c31\u662f\u5168\u90fd\u9760\u5de6\u653e\u65f6\u5bf9\u4e8e $p_i$ \u53bb\u6389\u524d $k$ \u4e2a\u3002\uff08\u4e0d\u8db3 $k$ \u4e2a\u5219\u5168\u53bb\u6389\uff09\n\n\u90a3\u4e48\u8003\u8651\u7ed9\u5b9a $m$ \u65f6\u5982\u4f55\u6c42 $p$\uff0c\u679a\u4e3e $k$\uff0c\u5148\u5728\u6bcf\u4e2a\u6781\u957f\u9ed1\u8272\u8fde\u7eed\u6bb5\u524d\u52a0\u4e0a $k$ \u4e2a\uff0c\u5982\u679c\u4e0d\u662f\u7b2c\u4e00\u6bb5\u9700\u8981\u7a7a\u4e00\u683c\uff0c\u6700\u540e\u4e00\u6bb5\u7a7a\u767d\u6bb5\u51cf\u53bb $k$ \u4e2a\u3002\u8003\u8651\u5269\u4e0b\u7684\u7a7a\u767d\u5982\u4f55\u5904\u7406\uff0c\u53d1\u73b0\u6211\u4eec\u9700\u8981\u5728\u5176\u4e2d\u586b\u5165\u957f\u5ea6\u5c0f\u4e8e\u7b49\u4e8e $k$ \u7684\u8fde\u7eed\u6bb5\uff0c\u800c\u6211\u4eec\u6700\u591a\u53ea\u9700\u8981\u957f\u5ea6\u4e3a $2$ \u6216 $3$ \u7684\u8fde\u7eed\u6bb5\u5c31\u53ef\u4ee5\u5904\u7406\u6240\u6709\u7a7a\u767d\u957f\u5ea6\u5927\u4e8e $2$ \u7684\u6bb5\uff0c\u90a3\u4e48 $k$ \u53ea\u8981\u679a\u4e3e\u5230 $4$\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(n)$\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define maxn 100009\ninline int read(){\n\tint sum=0,fh=1;\n\tchar c=getchar();\n\twhile(c>'9'||c<'0'){\n\t\tif(c=='-')fh=-1;\n\t\tc=getchar();\n\t}\n\twhile(c>='0'&&c<='9'){\n\t\tsum*=10;\n\t\tsum+=c-'0';\n\t\tc=getchar();\n\t}\n\treturn sum*fh;\n}\nint n,l[maxn],r[maxn],tot=0;\nchar s[maxn];\nbool flag=false;\nvoid check(int m){\n\tint top=0,p[maxn];\n\tfor(int i=1;i<=tot;i++){\n\t\tint qwq=l[i]-r[i-1]-1-m-1;\n\t\tif(qwq<0)return ;\n\t\tif(qwq==1)return ;\n\t\tif(qwq>0){\n\t\t\tif(m){\n\t\t\tfor(int j=1;j<=qwq/2;j++){\n\t\t\t\tp[++top]=1;\n\t\t\t}\n\t\t\tif(qwq%2){\n\t\t\t\tif(m>1)top--,p[++top]=2;\n\t\t\t\telse return ;\n\t\t\t}\n\t\t\t}\n\t\t\telse return ;\n\t\t}\n\t\tp[++top]=r[i]-l[i]+1+m;\n\t}\n//\tcout<<top<<endl;\n//\tfor(int i=1;i<=top;i++){\n//\t\tcout<<p[i]<<\" \";\n//\t}\n//\tcout<<endl;\n\tint qwq=n-r[tot]-m;\n\tif(qwq<0)return ;\n\tif(qwq==1)return ;\n\tif(qwq>0){\n\t\tif(m){\n\t\tfor(int j=1;j<=qwq/2;j++){\n\t\t\tp[++top]=1;\n\t\t}\n\t\tif(qwq%2){\n\t\t\tif(m>1)top--,p[++top]=2;\n\t\t\telse return ;\n\t\t}\n\t\t}\n\t\telse return ;\n\t}\n\tflag=true;\n\tcout<<top<<endl;\n\tfor(int i=1;i<=top;i++){\n\t\tcout<<p[i]<<\" \";\n\t}\n\tcout<<endl;\n\treturn ;\n}\nint main(){\n//    freopen(\".in\",\"r\",stdin);\n//    freopen(\".out\",\"w\",stdout);\n\tcin>>s+1;n=strlen(s+1);\n\tint m=n;\n\tr[0]=-1;\n\tfor(int i=1;i<=n;i++){\n\t\tif(s[i]=='#'){\n\t\t\tl[++tot]=i;r[tot]=i;\n\t\t\twhile(s[r[tot]+1]=='#'){\n\t\t\t\tr[tot]++;\n\t\t\t}\n\t\t\ti=r[tot]+1;\n\t\t\tm=min(m,l[tot]-r[tot-1]);\n//\t\t\tcout<<l[tot]<<\" \"<<r[tot]<<endl; \n\t\t}\n\t}\n\tif(tot==0){puts(\"0\");return 0;} \n\tm=min(m,n-r[tot]);\n\tm=min(m,4);\t\n\tfor(int i=0;i<=m;i++){\n\t\tcheck(i);\n\t\tif(flag){\n\t\t\treturn 0;\n\t\t}\n\t} \n\tputs(\"-1\");\n//\t  fclose(stdin);\n//    fclose(stdout);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1663073142,
        "uid": 142068,
        "name": "QAQQWQ",
        "ccfLevel": 0,
        "title": "CF1510J Japanese Game"
    }
]