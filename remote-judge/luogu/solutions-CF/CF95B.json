[
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF95B)\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u6574\u9053\u9898\u5206\u6210\u4e24\u79cd\u60c5\u51b5\u6765\u505a\u3002\n___\n\n### Part 1 \u5f53\u6570\u5b57\u7684\u957f\u5ea6\u4e3a\u5947\u6570\n\n\u5047\u8bbe\u6570\u5b57\u957f\u5ea6\u4e3a $len$ \u3002\n\n\u56e0\u4e3a\u4e0d\u5b58\u5728\u957f\u5ea6\u4e3a\u5947\u6570\u7684**\u8d85\u7ea7\u5e78\u8fd0\u6570\u5b57**\uff0c\u6240\u4ee5\u7b54\u6848\u5c31\u4e3a\u957f\u5ea6\u4e3a $len + 1$ \u7684\u6700\u5c0f\u7684**\u8d85\u7ea7\u5e78\u8fd0\u6570\u5b57**\uff0c\u4e5f\u5c31\u662f\u8f93\u51fa $\\frac{( len + 1 )}{2}$ \u4e2a $4$ \u548c $\\frac{( len + 1 )}{2}$ \u4e2a $7$ \u3002\n\n\u7ed9\u51fa\u4ee3\u7801\uff1a\n```cpp\n//\u5b57\u7b26\u4e32s\u5728\u524d\u9762\u5df2\u5b9a\u4e49\u8fc7\uff08string s\uff09\ncin>>s;\nif(s.size()%2==1)//\u5982\u679c\u957f\u5ea6\u4e3a\u5947\u6570\n{\n\tfor(int i=0;i<(s.size()+1)/2;i++) cout<<4;\n\tfor(int i=0;i<(s.size()+1)/2;i++) cout<<7;\n\treturn 0;\n}\n```\n___\n### Part 2 \u5f53\u6570\u5b57\u7684\u957f\u5ea6\u4e3a\u5076\u6570\n\n\u6211\u4eec\u77e5\u9053\uff0c\u957f\u5ea6\u4e3a $n$ \u7684**\u8d85\u7ea7\u5e78\u8fd0\u6570\u5b57**\u7684\u6700\u5927\u503c\u4e3a $\\frac{n}{2}$ \u4e2a $7$ \u548c $\\frac{n}{2}$ \u4e2a $4$\u7ec4\u5408\u5728\u4e00\u8d77\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5224\u65ad\u8f93\u5165\u7684\u6570\u5b57\u662f\u5426\u5927\u4e8e\u8fd9\u4e2a\u6700\u5927\u503c\u3002\n\n\u5982\u679c\u5927\u4e8e\u8fd9\u4e2a\u6700\u5927\u503c\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8f93\u51fa  $( \\frac{n}{2} + 1 ) $ \u4e2a $4$ \u548c $ ( \\frac{n}{2} + 1 ) $ \u4e2a $7$ \u3002\n\n\u7ed9\u51fa\u8fd9\u4e00\u90e8\u5206\u7684\u4ee3\u7801\uff1a\n```cpp\nstring maxs;//maxs\u4e3a\u957f\u5ea6\u4e3as.size()\u7684\u8d85\u7ea7\u5e78\u8fd0\u6570\u5b57\u7684\u6700\u5927\u503c\nfor(int i=0;i<s.size()/2;i++) maxs+='7';\nfor(int i=0;i<s.size()/2;i++) maxs+='4';\nif(maxs<s)//\u7531\u4e8emaxs\u548cs\u4e3astring\u7c7b\u578b\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\"<\"\u3002\n{\n\tfor(int i=0;i<s.size()/2+1;i++) cout<<4;\n\tfor(int i=0;i<s.size()/2+1;i++) cout<<7;\n\treturn 0;\n}\n```\n\n___\n\n\u63a5\u4e0b\u6765\u5c31\u662f\u666e\u901a\u60c5\u51b5\u4e86\u3002\u8fd9\u91cc\u6211\u5199\u4e86\u4e00\u4e2aDFS\u3002\n\n```cpp\nstring ans;\nvoid dfs(int p,int cnt_4,int cnt_7)\n{\n\tif(ans<s) return;\n\tif(p==s.size())\n\t{\n\t\tcout<<ans;\n\t\texit(0);\n\t}\n\tif(cnt_4<s.size()/2)\n\t{\n\t\tans[p]='4';\n\t\tdfs(p+1,cnt_4+1,cnt_7);\n\t}\n\tif(cnt_7<s.size()/2)\n\t{\n\t\tans[p]='7';\n\t\tdfs(p+1,cnt_4,cnt_7+1);\n\t}\n}\n```\n\n\u5176\u4e2d\uff0c $p$ \u8868\u793a\u5f53\u524d\u586b\u5199\u6570\u5b57\u7684\u4f4d\u7f6e\uff0c $cnt\\_4$ \u8868\u793a\u5f53\u524d\u6570\u5b574\u7684\u6570\u91cf\uff0c$cnt\\_7$ \u8868\u793a\u5f53\u524d\u6570\u5b577\u7684\u6570\u91cf\u3002\n\n\u5f53 $ans$ \u6bd4 $s$ \u8fd8\u5c0f\uff0c\u4e0d\u7ba1\u63a5\u4e0b\u6765\u600e\u4e48\u586b\uff0c$ans$ \u90fd\u6bd4 $s$ \u5c0f\uff0c\u6240\u4ee5\u76f4\u63a5`return;`\u3002\n\n\u7136\u540e\uff0c\u5224\u65ad\u662f\u5426\u5df2\u7ecf\u586b\u5b8c\u6570\u5b57\u3002\u5982\u679c\u586b\u5b8c\u6570\u5b57\uff0c\u53ef\u4ee5\u76f4\u63a5\u8f93\u51fa\u3002\u56e0\u4e3aDFS\u4e2d\u6211\u4eec\u5148\u7684\u586b $4$ ,\u518d\u586b\u7684 $7$ \u3002\n\n\u6700\u540e\uff0c\u5982\u679c\u80fd\u586b4\u62167\uff0c\u5c31\u586b\u6570\u3002\n\n\u5728\u4e3b\u51fd\u6570\u91cc\u8fd9\u6837\u8c03\u7528\uff1a\n```cpp\nfor(int i=0;i<s.size();i++) ans+='9';//\u5148\u628aans\u8bbe\u4e3a999999\u2026\uff0c\u907f\u514d\u586b\u8fc7\u7684\u6570\u4e0e\u8f93\u5165\u6570\u5b57\u524d\u534a\u90e8\u5206\u4e00\u6837\uff0c\u5374\u8fd4\u56de\u4e86\u3002\ndfs(0,0,0);\n```\n___\n\u4e0b\u9762\u7ed9\u51fa\u5b8c\u6574\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstring s,ans;\nvoid dfs(int p,int cnt_4,int cnt_7)\n{\n\tif(ans<s) return;\n\tif(p==s.size())\n\t{\n\t\tcout<<ans;\n\t\texit(0);\n\t}\n\tif(cnt_4<s.size()/2)\n\t{\n\t\tans[p]='4';\n\t\tdfs(p+1,cnt_4+1,cnt_7);\n\t}\n\tif(cnt_7<s.size()/2)\n\t{\n\t\tans[p]='7';\n\t\tdfs(p+1,cnt_4,cnt_7+1);\n\t}\n}\nint main()\n{\n\tios::sync_with_stdio(0);\n\tcin.tie(0);cout.tie(0);\n\tcin>>s;\n\tif(s.size()%2==1)\n\t{\n\t\tfor(int i=0;i<(s.size()+1)/2;i++) cout<<4;\n\t\tfor(int i=0;i<(s.size()+1)/2;i++) cout<<7;\n\t\treturn 0;\n\t}\n\tstring maxs;\n\tfor(int i=0;i<s.size()/2;i++) maxs+='7';\n\tfor(int i=0;i<s.size()/2;i++) maxs+='4';\n\tif(maxs<s)\n\t{\n\t\tfor(int i=0;i<s.size()/2+1;i++) cout<<4;\n\t\tfor(int i=0;i<s.size()/2+1;i++) cout<<7;\n\t\treturn 0;\n\t}\n\tfor(int i=0;i<s.size();i++) ans+='9';\n\tdfs(0,0,0);\n\treturn 0;\n}\n```",
        "postTime": 1652886310,
        "uid": 559919,
        "name": "FQR_",
        "ccfLevel": 5,
        "title": "CF95B Lucky Numbers \u9898\u89e3"
    },
    {
        "content": "\u9898\u610f\u6c42\u5927\u4e8e\u7b49\u4e8en\u7684\u6700\u5c0f\u5e78\u8fd0\u6570\uff0c\uff08\u5e78\u8fd0\u6570\u662f\u53ea\u75314\u548c7\u6784\u6210\uff0c\u4e144\u548c7\u7684\u6570\u91cf\u76f8\u7b49\u7684\u6570\uff09\u3002\n\n\u9996\u5148\u53ef\u4ee5\u77e5\u9053\u5e78\u8fd0\u6570\u7684\u4f4d\u6570\u4e00\u5b9a\u662f\u5076\u6570\u4f4d\u7684\uff0c\u5982\u679cn\u662f\u5947\u6570\u4f4d\u7684\uff0c\u76f4\u63a5\u8f93\u51fa(n+1)/2\u4e2a4\u548c(n+1)/2\u4e2a7\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u4ecen\u7684\u6700\u9ad8\u4f4d\u5f00\u59cb\u904d\u5386\uff1a1. \u5982\u679cn\u7684\u8fd9\u4f4d\u6570\u5b57\uff08\u8bb0\u4e3aa[i])\u5c0f\u4e8e\u7b49\u4e8e4, 4\u7684\u4e2a\u6570\uff08\u8bb0\u4e3ac4\uff09\u5c31\u52a01\u3002\n\n\uff081\uff09\u5982\u679cc4\u5df2\u7ecf\u8d85\u8fc7\u4e86n\u7684\u603b\u4f4d\u6570\u7684\u4e00\u534a\uff08\u8bb0\u4e3ah\uff09\uff0c\u628a\u5e78\u8fd0\u6570\u7684\u8fd9\u4f4d\u6570(\u8bb0\u4e3ab[i])\u8bbe\u62107\uff0c\u505c\u6b62\u904d\u5386\u3002\n    \n\uff082\uff09 \u5426\u5219\u5f53a[i]\u5c0f\u4e8e4\uff0c\u505c\u6b62\u904d\u5386\u3002\u5f53a[i]\u7b49\u4e8e4\uff0c\u8bb0\u5f55\u4f4d\u7f6e(\u8bb0\u4e3ap4[c4])\u4ee5\u53ca\u5f53\u524db[i]\u7b49\u4e8e7\u6709\u591a\u5c11\u4e2a\uff08\u8bb0\u4e3ac[c4])\uff0c\u7ee7\u7eed\u904d\u5386\u3002\n    \n    \n    \n2.\u5982\u679ca[i]\u5c0f\u4e8e\u7b49\u4e8e7\uff0c7\u7684\u4e2a\u6570\uff08\u8bb0\u4e3ac7\uff09\u5c31\u52a01\u3002\n\n\uff081\uff09\u5982\u679cc7\u5df2\u7ecf\u8d85\u8fc7\u4e86h\uff0c\u627e\u79bb\u5b83\u6700\u8fd1\u4e14c[c4]\u5c0f\u4e8eh\u76844\u7684\u4f4d\u7f6e\uff0c\u628a4\u6539\u62107\uff0c\u505c\u6b62\u904d\u5386\u3002\n    \u5982\u679c\u6ca1\u6709\u8fd9\u6837\u76844\u7684\u4f4d\u7f6e\uff0c\u505a\u4e2a\u6807\u8bb0\uff0c\u4f4d\u6570\u548cn\u76f8\u7b49\u7684\u5e78\u8fd0\u6570\u4e0d\u5b58\u5728\u3002\n    \n\uff082\uff09\u5426\u5219\u5f53a[i]\u5c0f\u4e8e7\uff0c\u505c\u6b62\u904d\u5386\u3002\u5f53a[i]\u7b49\u4e8e7\uff0c\u7ee7\u7eed\u904d\u5386\u3002\n    \n    \n3.\u5982\u679ca[i]\u5927\u4e8e7\uff0c\u627e\u79bb\u5b83\u6700\u8fd1\u4e14c[c4]\u5c0f\u4e8eh\u76844\u7684\u4f4d\u7f6e\uff0c\u628a4\u6539\u62107\uff0c\u505c\u6b62\u904d\u5386\u3002\n\u5982\u679c\u6ca1\u6709\u8fd9\u6837\u76844\u7684\u4f4d\u7f6e\uff0c\u505a\u4e2a\u6807\u8bb0\uff0c\u4f4d\u6570\u548cn\u76f8\u7b49\u7684\u5e78\u8fd0\u6570\u4e0d\u5b58\u5728\u3002\n    \n\u6700\u540e\uff0c\u8f93\u51fa\u7b26\u5408\u8981\u6c42\u7ed3\u679c\u5373\u53ef\u3002\n\u7a0b\u5e8f\u7684\u590d\u6742\u5ea6\u662f\u7ebf\u6027\u7684\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a\n    \n  ```\n#include <stdio.h>\n#include <string.h>\n#define N 100005\n\nchar a[N], b[N];\nint p4[N], c[N];\n\nint main() \n{\n\tint i, j, c4 = 0, l, h, c7 = 0, f = 0;\n\t\n\tscanf(\"%s\", a);\n\tl = strlen(a);\n\tif(l & 1){\n\t\th = (l + 1) >> 1;\n\t\tfor(i = 0; i < h; i++) putchar(52);\n\t\tfor(i = 0; i < h; i++) putchar(55);\n\t\treturn 0;\n\t}\n\telse{\n\t\th = l >> 1;\n\t\tfor(i = 0; i < l; i++){\n\t\t\tif(a[i] <= 52){\n\t\t\t\tc4++;\n\t\t\t\tif(c4 > h){\n\t\t\t\t\tb[i] = 55;\n\t\t\t\t\tc4--, c7++;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tb[i] = 52;\n\t\t\t\t\tif(a[i] < 52) break;\n\t\t\t\t\tp4[c4] = i;\n\t\t\t\t\tc[c4] = c7;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(a[i] <= 55){\n\t\t\t\tc7++;\n\t\t\t\tif(c7 > h){\n\t\t\t\t\twhile(c4 > 0 && c[c4] >= h) c4--;\n\t\t\t\t\tif(c4 == 0){\n\t\t\t\t\t\tf = 1;\n\t\t\t\t\t \tbreak;\t\n\t\t\t\t\t}\n\t\t\t\t\tb[i = p4[c4]] = 55;\n\t\t\t\t\tc7 = c[c4] + 1;\n\t\t\t\t\tc4--;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tb[i] = 55;\n\t\t\t\t\tif(a[i] < 55) break;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\twhile(c4 > 0 && c[c4] >= h) c4--;\n\t\t\t\tif(c4 == 0){\n\t\t\t\t\tf = 1;\n\t\t\t\t\tbreak;\t\n\t\t\t\t}\n\t\t\t\tb[i = p4[c4]] = 55;\n\t\t\t\tc7 = c[c4] + 1;\n\t\t\t\tc4--;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tif(f){\n\t\ti = h + 1;\n\t\twhile(i--) putchar(52);\n\t\ti = h + 1;\n\t\twhile(i--) putchar(55);\n\t}\n\telse{\n\t\tif(i == l) i--;\n\t\tfor(j = 0; j <= i; j++) putchar(b[j]);\n\t\ti = h - c4;\n\t\twhile(i--) putchar(52);\n\t\ti = h - c7;\n\t\twhile(i--) putchar(55);\n\t}\n\t\n\treturn 0;\n}\n```\n    ",
        "postTime": 1531302694,
        "uid": 7419,
        "name": "sheepsun",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF95B \u3010Lucky Numbers\u3011"
    },
    {
        "content": "# ~~\u67d0\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\u3002\u3002\u3002~~\n\n\u5148\u8bf4\u4e00\u4e0b\u9898\u76ee\u610f\u601d.\n\n\u4e00\u4e2a\u4eba~~\u5403\u9971\u4e86\u6491\u7740~~\u5b9a\u4e49\u4e86\u4e00\u79cd\u6570(\u4e0b\u9762\u7b80\u79f0\"\u5e78\u8fd0\u6570\"),\u8fd9\u79cd\u6570\u7684\u6570\u4f4d\u53ea\u5305\u542b4\u548c7(0\u4e5f\u4e0d\u884c),\u4e144\u548c7\u6570\u91cf\u76f8\u7b49.\n\u6bd4\u5982:4477,47,4774\u90fd\u662f\u5e78\u8fd0\u6570,\u800c1,4777,474745\u90fd\u4e0d\u662f.\n\u4e0b\u9762\u8ba9\u4f60\u6c42\u2265n\u7684\u6700\u5c0f\u5e78\u8fd0\u6570.\n\n\u4e0b\u9762\u662f\u9898\u89e3\u90e8\u5206:\n\n\u6211\u4eec\u5047\u8bben\u7684\u4f4d\u6570\u4e3an0.\n\n\u5f88\u663e\u7136,\u5148\u7279\u5224\u4e24\u79cd\u60c5\u51b5:\n\n\u60c5\u51b5\u4e00,n0\u4e3a\u5947\u6570,\u5f88\u663e\u7136\u5728n0\u4f4d\u7684\u6570\u4e2d,\u80af\u5b9a\u4e0d\u4f1a\u6709\u522b\u7684\u5e78\u8fd0\u6570\u4e86,\u6b64\u65f6\u8f93\u51fa(n0+1)\u4f4d\u7684\u6700\u5c0f\u5e78\u8fd0\u6570.\n\n\u60c5\u51b5\u4e8c,n\u8fd9\u4e2a\u6570\u5927\u4e8en0\u4f4d\u4e2d\u6700\u5927\u7684\u90a3\u4e2a\u5e78\u8fd0\u6570(\u76f8\u4fe1\u5404\u4f4ddalao\u90fd\u4f1a\u6c42),\u6b64\u65f6\u8f93\u51fa(n0+1)\u4f4d\u7684\u6700\u5c0f\u5e78\u8fd0\u6570.\n\n\u73b0\u5728\u5148\u628a\u8fd9\u4e24\u4e2a\u7279\u5224\u7684\u4ee3\u7801\u5199\u51fa\u6765:\n```\n\tcin>>s;\n\t\n\tfor(int i=0;i<s.size()/2;i++)t+='7';\n\tfor(int i=0;i<s.size()/2;i++)t+='4';\n\t\n\tif(s.size()%2||s>t)\n\t{\n\t\tt=\"\";\n\t\t\n\t\tfor(int i=0;i<s.size()/2+1;i++)t+='4';\n\t\tfor(int i=0;i<s.size()/2+1;i++)t+='7';\n\t\t\n\t\tcout<<t;return 0;\n\t}\n```\n\n\uff08\u4e0a\u8ff0\u7247\u6bb5\u4e2d,\u5b57\u7b26\u4e32s\u8868\u793an,t\u8868\u793an0\u4f4d\u4e2d\u6700\u5927\u7684\u5e78\u8fd0\u6570\uff09\n\nOK,\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u4fdd\u8bc1\u7b54\u6848\u5c31\u5728n0\u4f4d\u7684\u6570\u4e2d.\n\n\u4e0b\u9762\u5c31\u662fDFS.\n\n\u6211\u4eec\u7ed9DFS\u8bbe\u7f6e4\u4e2a\u53d8\u91cf:\n```\nvoid DFS(int lvl,int x,int y,bool flag)\n```\nlvl:\u5f53\u524d\u679a\u4e3e\u5230\u4e86\u7b2c\u51e0\u4f4d\n\nx,y:\u7edf\u8ba1\u5f53\u524d4\u548c7\u7684\u4e2a\u6570\n\nflag:\u526a\u679d\u7528\u7684,\u8fd9\u91cc\u8868\u793a\u679a\u4e3e\u7684\u6570\u662f\u5426\u5df2\u7ecf\u5927\u4e8en(\u5177\u4f53\u5e72\u4ec0\u4e48\u7684\u6211\u4e00\u4f1a\u518d\u8bf4)\n\n\u4e0b\u9762\u8d34DFS\u7684\u7a0b\u5e8f,\u5177\u4f53\u64cd\u4f5c\u6b65\u9aa4\u5728\u6ce8\u91ca\u91cc.\n\n```cpp\nvoid DFS(int lvl,int x,int y,bool flag)\n{\t\n\tif(x>s.size()/2||y>s.size()/2)return;  //\u5f53\u524d\u679a\u4e3e\u51fa\u7684\u6570\u4e2d4\u548c7\u5982\u679c\u5df2\u7ecf\u8d85\u8fc7\u4e86n0/2,\u5c31\u6ca1\u6709\u5fc5\u8981\u518d\u7ee7\u7eed\u641c\u7d22\u4e0b\u53bb\u4e86 \n\t\n\tif(lvl==s.size()){ans=t;return;}  //\u5230\u7ec8\u70b9\u54af!\u628a\u7b54\u6848\u9644\u4e0a. \n\t\n\tif(flag)  //\u5982\u679c\u5f53\u524d\u6570\u5df2\u7ecf\u6bd4n\u5927\u4e86,\u90a3\u4e48\u540e\u9762\u80af\u5b9a\u5148\u653e4\u518d\u653e7\u4fdd\u8bc1\u6700\u5c0f \n\t{\n\t\tt[lvl]='4';  //\u653e4 \n\t\t\n\t\tDFS(lvl+1,x+1,y,1);  //\u7ee7\u7eed\u5f80\u4e0b\u641c \n\t\t\n\t\tif(ans!=\"\")return;   //\u5982\u679c\u6709\u4e86\u7b54\u6848\u4e86\u5c31\u8fd4\u56de \n\t\t\n\t\tt[lvl]='7';   //\u653e7(\u6b64\u65f6\u662f\u56e0\u4e3a4\u653e\u7684\u4e2a\u6570\u8d85\u8fc7\u4e00\u534a\u4e86,\u53ea\u80fd\u653e7)\n\t\t\n\t\tDFS(lvl+1,x,y+1,1);   //\u7ee7\u7eed\u5f80\u4e0b\u641c \n\t}\n\telse\n\t{\n\t\tif('4'>=s[lvl]) //\u5982\u679c\u5f53\u524d\u586b\u7684\u4f4d4\u5927\u4e8e\u7b49\u4e8en\u7684\u5f53\u524d\u4f4d,\u5219\u53ef\u4ee5\u586b \n\t\t{\n\t\t\tt[lvl]='4';\n\t\t\t\n\t\t\tDFS(lvl+1,x+1,y,'4'>s[lvl]); //\u5982\u679c\u6211\u80fd\u4fdd\u8bc1\u5728\u8fd9\u4e00\u4f4d\u4e0a\u586b\u7684\u6570\u5927\u4e8en\u5728\u8fd9\u4e00\u4f4d\u4e0a\u7684\u6570,\u90a3\u6211\u4e0d\u7ba1\u540e\u9762\u600e\u4e48\u586b\u90fd\u4f1a\u6bd4n\u5927,\u6240\u4ee5\u540e\u9762\u4f1a\u628aflag\u53d8\u4e3a1 \n\t\t\t\n\t\t\tif(ans!=\"\")return;  //\u6709\u7b54\u6848\u4e86,\u8fd4\u56de \n\t\t}\n\t\t\n\t\tif('7'>=s[lvl])\n\t\t{\n\t\t\tt[lvl]='7';\n\t\t\t\n\t\t\tDFS(lvl+1,x,y+1,'7'>s[lvl]);\n\t\t}//\u610f\u601d\u548c\u4e0a\u9762\u4e00\u6837,\u53ea\u4e0d\u8fc7\u628a4\u6362\u6210\u4e867 \n\t}\n}\n```\n\n\u73b0\u5728\u6765\u89e3\u91ca\u4e00\u4e0bflag:\n\n\u7531\u4e8e\u6211\u662f\u4ece\u7b2c\u4e00\u4f4d\u5f80\u6700\u540e\u4e00\u4f4d\u641c\u7684,\u90a3\u4e48\u5982\u679c\u6211\u5f53\u524d\u7684\u8fd9\u4e00\u4f4d\u5927\u4e8en\u7684\u8fd9\u4e00\u4f4d,\u5219\u4e0d\u7ba1\u540e\u9762\u600e\u4e48\u586b,\u586b\u7684\u6570\u90fd\u80af\u5b9a\u6bd4n\u5927.\u6240\u4ee5flag\u53ef\u4ee5\u526a\u679d.\n\n\u6700\u540e\u8d34\u5b8c\u6574AC\u4ee3\u7801:\n\n```cpp\n#include<bits/stdc++.h>\n\n#define all(x) x.begin(),x.end()\n#define pb push_back\n#define mp make_pair\n#define Unique(x) x.erase(unique(all(x)),x.end());\n\nusing namespace std;\n\nconst int dx[]={-1,0,1,0};\nconst int dy[]={0,-1,0,1};\n\nconst int Days[]={-1,31,28,31,30,31,30,31,31,30,31,30,31};\n\ninline int read()\n{\n\t#define gc getchar\n\tint ans=0;\n\tbool f=1;\n\tchar ch=gc();\n\t\n\twhile(!isdigit(ch))f^=ch=='-',ch=gc();\n\t\n\twhile(isdigit(ch))ans=((ans<<2)+ans<<1)+(ch^48),ch=gc();\n\t\n\treturn f?ans:-ans;\n\t\n\t#undef gc\n}\n\ntypedef long long ll;\n\nstring s,t;\nstring ans;\n\nvoid DFS(int lvl,int x,int y,bool flag)\n{\t\n\tif(x>s.size()/2||y>s.size()/2)return;\n\t\n\tif(lvl==s.size()){ans=t;return;}\n\t\n\tif(flag)\n\t{\n\t\tt[lvl]='4';\n\t\t\n\t\tDFS(lvl+1,x+1,y,1);\n\t\t\n\t\tif(ans!=\"\")return;\n\t\t\n\t\tt[lvl]='7';\n\t\t\n\t\tDFS(lvl+1,x,y+1,1);\n\t}\n\telse\n\t{\n\t\tif('4'>=s[lvl])\n\t\t{\n\t\t\tt[lvl]='4';\n\t\t\t\n\t\t\tDFS(lvl+1,x+1,y,'4'>s[lvl]);\n\t\t\t\n\t\t\tif(ans!=\"\")return;\n\t\t}\n\t\t\n\t\tif('7'>=s[lvl])\n\t\t{\n\t\t\tt[lvl]='7';\n\t\t\t\n\t\t\tDFS(lvl+1,x,y+1,'7'>s[lvl]);\n\t\t}\n\t}\n}\n\nint main(int argc, char const *argv[])\n{\n\tios::sync_with_stdio(false);\n\t\n\tcin>>s;\n\t\n\tfor(int i=0;i<s.size()/2;i++)t+='7';\n\tfor(int i=0;i<s.size()/2;i++)t+='4';\n\t\n\tif(s.size()%2||s>t)\n\t{\n\t\tt=\"\";\n\t\t\n\t\tfor(int i=0;i<s.size()/2+1;i++)t+='4';\n\t\tfor(int i=0;i<s.size()/2+1;i++)t+='7';\n\t\t\n\t\tcout<<t;return 0;\n\t}\n\t\n\tt=s;\n\t\n\tDFS(0,0,0,0);\n\t\n\tcout<<ans;\n\t\n\t//printf(\"Time used = %.12f\",(double)(clock())/CLOCKS_PER_SEC);\n\treturn 0;\n}\n```\n\n\u6c42\u8fc7\uff01\u6c42\u70b9\u8d5e\uff01\u8c22\u8c22\uff01",
        "postTime": 1599570306,
        "uid": 23113,
        "name": "Hu_Tao",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF95B \u3010Lucky Numbers\u3011"
    },
    {
        "content": "## \u601d\u8def\n\n\u5f53 $n$ \u6709\u5947\u6570\u4f4d\u65f6\uff0c\u56e0\u4e3a\u4e00\u4e2a Lucky Number \u4e00\u5b9a\u6709\u5076\u6570\u4f4d\uff0c\u6240\u4ee5\u7b54\u6848\u6bd4 $n$ \u591a\u4e00\u4f4d\uff0c\u90a3\u4e48\u4efb\u4f55\u6bd4 $n$ \u591a\u4e00\u4f4d\u7684 Lucky Number \u90fd\u6bd4 $n$ \u5927\uff0c\u6240\u4ee5\u7b54\u6848\u5f62\u5982 $4\\cdots47\\cdots7$\uff0c\u603b\u957f\u4e3a $n$ \u7684\u4f4d\u6570\u52a0\u4e00\uff0c$4$ \u548c $7$ \u7684\u6570\u91cf\u540c\u6837\u591a\u3002\n\n\u63a5\u4e0b\u6765\u8ba8\u8bba $n$ \u6709\u5076\u6570\u4f4d\u65f6\uff1a\n\n\u5982\u679c $n$ \u5927\u4e8e\u548c $n$ \u4f4d\u6570\u76f8\u540c\u7684\u6700\u5927\u7684 Lucky Number\uff08\u5f62\u5982 $7\\cdots74\\cdots4$\uff09\uff0c\u5219\u7b54\u6848\u7684\u4f4d\u6570\u4e00\u5b9a\u6bd4 $n$ \u591a\u3002\u56e0\u4e3a $n$ \u6709\u5076\u6570\u4f4d\uff0c\u7b54\u6848\u4e5f\u662f\u5076\u6570\u4f4d\uff0c\u6240\u4ee5\u7b54\u6848\u6709 $n+2$ \u4f4d\u3002\u7b54\u6848\u4f4d\u6570\u6bd4 $n$ \u591a\uff0c\u663e\u7136\u8981\u5c3d\u91cf\u5c0f\u3002\u5f62\u5982 $4\\cdots47\\cdots7$\u3002\n\n\u5176\u5b83\u60c5\u51b5\u4e0b\uff0c\u5c31\u8981\u4e00\u4f4d\u4e00\u4f4d\u5224\u65ad\u586b $4$ \u8fd8\u662f $7$\u3002\u7ee7\u7eed\u5206\u7c7b\uff1a\n\n\u5982\u679c\u4e4b\u524d\u6709\u4e00\u4f4d\u5df2\u7ecf\u5927\u4e8e $n$ \u90a3\u4e00\u4f4d\uff0c\u90a3\u8fd9\u4e2a Lucky Number \u5df2\u7ecf\u6bd4 $n$ \u5927\u4e86\u3002\u90a3\u4e48\u4e4b\u540e\u8d8a\u5c0f\u8d8a\u597d\uff0c\u5148\u628a $4$ \u7528\u5b8c\uff0c\u5269\u4e0b\u7528 $7$\u3002\n\n\u5982\u679c\u4e4b\u524d\u6240\u6709\u4f4d\u548c $n$ \u90fd\u4e00\u6837\uff0c\u7ee7\u7eed\u5206\u7c7b\uff1a\n\n\u5f53\u524d\u4f4d\u5982\u679c\u662f $4$\uff0c\u90a3\u8981\u68c0\u67e5\u5982\u679c\u76f4\u63a5\u586b $4$\uff0c\u540e\u9762\u7684\u5982\u679c\u586b\u6210 $7...74...4$ \u662f\u5426\u6bd4 $n$ \u7684\u540e\u9762\u90e8\u5206\u5927\u6216\u4e00\u6837\uff0c\u90a3\u4e48\u586b $4$\uff0c\u5426\u5219\u586b $7$\u3002\n\n\u5426\u5219\uff0c\u4f18\u5148\u586b $4$\uff0c\u5982\u679c\u5f53\u524d\u4f4d\u6bd4 $4$ \u5927\u6216\u6ca1\u6709 $4$ \u4e86\u5c31\u586b $7$\u3002\n\n\u4ee3\u7801\u4e0d\u96be\u5199\uff0c\u4f46\u53ef\u80fd\u6bd4\u8f83\u957f\uff0c\u6ce8\u610f\u7ec6\u8282\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nbool les(string a,string b){\n    if(a.length()!=b.length()) return a.length()<b.length();\n    return a<b;\n}\nsigned main(){\n    string n;\n    cin>>n;\n    int s4=n.length();\n    s4++,s4/=2;\n    int s7=s4;\n    //cout<<s4<<' '<<s7<<'\\n';\n    string pre=\"\";\n    int ss4=s4,ss7=s7;\n    while(s4--) pre+='4';\n    while(s7--) pre+='7';\n    if((int)n.length()&1){//\u5076\u6570\u4f4d\n        cout<<pre;\n        return 0;\n    }\n    s4=ss4,s7=ss7;\n    reverse(pre.begin(),pre.end());\n    if(les(pre,n)){\n        reverse(pre.begin(),pre.end());\n        pre=\"4\"+pre+\"7\";//\u518d\u52a0\u4e24\u4f4d\n        cout<<pre;\n        return 0;\n    }\n    else{\n        string tmp=n;\n        bool f=false;//\u4e4b\u524d\u662f\u5426\u6709\u67d0\u4e00\u4f4d\u6bd4n\u7684\u90a3\u4e00\u4f4d\u5927\n        for(int i=0;i<(int)n.length();i++){\n            //cout<<'['<<s4<<' '<<s7<<']'<<'\\n';\n            if(f){//\u4e4b\u524d\u6709\u67d0\u4e00\u4f4d\u6bd4n\u7684\u90a3\u4e00\u4f4d\u5927\n                if(s4){//\u4f18\u5148\u586b4\n                    s4--;\n                    cout<<4;\n                }\n                else{\n                    s7--;\n                    cout<<7;\n                }\n            }\n            else if(n[i]!='4'&&n[i]!='7'){\n                f=true;\n                if(n[i]<'4'){//\u6bd44\u5c0f\n                    if(s4){//4\u4f18\u5148\n                        s4--;\n                        cout<<4;\n                        pre.erase(pre.begin()+pre.length()-1);\n                        tmp.erase(tmp.begin());\n                    }\n                    else{\n                        s7--;\n                        cout<<7;\n                        pre.erase(pre.begin());\n                        tmp.erase(tmp.begin());\n                    }\n                }\n                else if(n[i]<'7'){//\u6bd44\u5927\uff0c\u6bd47\u5c0f\uff0c\u586b4\n                    s7--;\n                    cout<<7;\n                    pre.erase(pre.begin());\n                    tmp.erase(tmp.begin());\n                }\n                else{\n                    //\u8fd0\u884c\u4e0d\u5230\u8fd9\u91cc\u7684\uff0c\u8fd0\u884c\u5230\u8fd9\u91cc\u4f60\u5c31\u5199\u6302\u4e86\n                    cout<<\"Something happend... by FReQuenter,do not copy it!\";\n                    exit(1);\n                }\n            }\n            else{\n                if(n[i]=='4'){//\u5982\u679c\u662f4\n                    if(s4&&pre.substr(0,pre.length()-1)>=tmp.substr(1,tmp.length()-1)){\n                        s4--;//\u68c0\u67e5\u662f\u5426\u5408\u6cd5\uff0c\u4f18\u5148\u586b4\n                        cout<<4;\n                        pre.erase(pre.begin()+pre.length()-1);\n                        tmp.erase(tmp.begin());\n                    }\n                    else{\n                        f=true;//7\u6bd44\u5927\n                        s7--;\n                        cout<<7;\n                        pre.erase(pre.begin());\n                        tmp.erase(tmp.begin());\n                    }\n                }\n                else{\n                    s7--;\n                    cout<<7;\n                    pre.erase(pre.begin());\n                    tmp.erase(tmp.begin());\n                }\n            }\n            //cout<<'['<<s4<<' '<<s7<<']'<<'\\n'<<'\\n';\n        }\n    }\n    return 0;\n}\n```",
        "postTime": 1672117762,
        "uid": 527598,
        "name": "FReQuenter",
        "ccfLevel": 0,
        "title": "CF95B Lucky Numbers \u9898\u89e3"
    },
    {
        "content": "\u7ed9\u4e00\u4e2a\u5f53\u524d\u6211\u8ba4\u4e3a\u6700\u7b80\u5355\u7684\u5199\u6cd5\u3002\n\n\u9996\u5148\u6211\u4eec\u60f3\u5230\u5f53\u4e00\u4e2a\u6570\u662f\u5355\u6570\u4f4d\u65f6\uff0c\u5728\u5f53\u524d\u6570\u4f4d\u7684\u60c5\u51b5\u4e0b\u5fc5\u5b9a\u6ca1\u6709\u89e3\u3002\n\n\u4f8b:$44777$ \u65e0\u8bba\u5982\u4f55\u4e5f\u4e0d\u80fd\u8ba9\u8fd9\u4e2a\u6570\u6ee1\u8db3\u9898\u610f\uff0c\u6240\u4ee5\u6700\u5c0f\u7684\u7b54\u6848\u5fc5\u5b9a\u662f$444777$\u4e5f\u5c31\u662f\u4f4d\u6570\u52a0$1$,\u8d2a\u5fc3\u7684\u5148\u653e4\u3002\u518d\u653e7\u3002\n\n\u8fd8\u53ef\u4ee5\u60f3\u5230\u82e5\u662f\u6700\u524d\u9762\u7684\u4e00\u4f4d\u6570$>7$,\u4e0d\u5c31\u4e00\u5b9a\u6ca1\u6709\u5728\u5f53\u524d\u4f4d\u6570\u7684\u89e3\u4e86\u5417?\n\n\u4f8b\uff1a$778444$ \u7b54\u6848\u662f$44447777$\n\n\u6240\u4ee5\u5bf9\u4e8e\u9700\u8981\u589e\u52a0\u4f4d\u6570\u7684\u60c5\u51b5\u6211\u4eec\u53ea\u9700\u8981\u5224\u4e00\u4e0b\u5355\u590d\u6570\uff0c\u548c\u6709\u6ca1\u6709\u8d85\u8fc7\u5f53\u524d\u4f4d\u6570\u7684\u6700\u5927\u7b54\u6848\uff08\u6ce8\uff1a\u6700\u5927\u7b54\u6848\u662f\u5148\u653e\u4e03\uff09\n\n\u63a5\u4e0b\u6765\u5bf9\u4e8e\u5f53\u524d\u4f4d\u6570\u4e00\u5b9a\u6709\u7b54\u6848\u7684\u60c5\u51b5\u6765\u8bf4\u5462? \u9996\u5148\u53ef\u4ee5\u60f3\u5230\u6211\u4eec\u8fdb\u884c\u4e00\u6b21$O(n)$\u7684\u904d\u5386($n = strlen (ch)$) \u82e5\u5f53\u524d\u4f4d\u6570\u51fa\u73b0\u4e86\u975e$4/7$\u7684\u6570\uff0c\u76f4\u63a5\u628a\u4ed6\u53d8\u6210$4/7$\uff08\u5927\u4e8e\u4e03\u7684\u8bdd\uff0c\u4e5f\u4ec5\u4ec5\u53ea\u662f\u9700\u8981\u627e\u5230\u524d\u9762\u7684\u4e00\u4e2a\u56db\u53d8\u6210\u4e03\uff0c\u7136\u540ereturn\u6389\uff09\uff0c\u53e6\u4e00\u79cd\u60c5\u51b5\u4fbf\u662f\u5f53\u524d\u542b\u6709\u7684$4/7$\u5df2\u7ecf\u8d85\u8fc7\u4e86$n/2$ \uff0c\u5bf9\u4e8e4\u8d85\u8fc7\u7684\u60c5\u51b5\u53ea\u9700\u8981\u628a\u4ed6\u4ee5\u53ca\u540e\u9762\u7684\u6570\u5b57\u90fd\u53d8\u62107\u5c31\u53ef\uff0c\u5bf9\u4e8e$7$\u8d85\u8fc7\u7684\u60c5\u51b5\u5c31\u662f\u627e\u5230\u524d\u9762\u7684\u4e00\u4e2a$4$\u6362\u6210$7$\u5373\u53ef\u3002\uff08\u53cb\u60c5\u63d0\u793a\uff1a\u4e00\u5b9a\u8981\u662f$num(7) == n / 2$ \u4e4b\u524d\u7684$4$,\u4e0d\u7136\u4f60\u4f1a\u5728\u7b2c52\u4e2a\u70b9\u75af\u72c2WA\uff09\n\n$emmmm$, \u8fd9\u9053\u9898\u662f\u4e00\u9053\u975e\u5e38\u6ce8\u610f\u7ec6\u8282\u7684\u9898\uff0c\u601d\u8def\u5012\u662f\u4e0d\u96be\u60f3\uff0c\u96be\u70b9\u5728\u4e8e\u5982\u4f55\u4fdd\u8bc1\u6b63\u786e\u7684\u60c5\u51b5\u4e0b\u5199\u51fa\u7b80\u77ed\u7684\u4ee3\u7801\u3002\n\n\u7ed9\u51fa\u4ee3\u7801\n```cpp\n\n#include <bits/stdc++.h>\nusing namespace std ;\nconst int N = 100024 ;\nchar ch[N] ;\nint ans[N] , c[10] , newwpos ;\nbool found ;\nbool check (int Nn) {\n\tfor (int i = 1 ; i <= Nn ; i ++) {\n\t\tint nownum = ch[i] - '0' , nowmost = i <= Nn / 2 ? 7 : 4 ;\n\t\tif (nownum == nowmost) continue ;\n\t\telse if (nownum > nowmost) return false ;\n\t\telse return true ;\n\t}\n\treturn true ;\n}\nint main () {\n\tscanf (\"%s\" , ch + 1) ;\n\tint n = strlen (ch + 1) ;\n\tif (n % 2 == 1 || !check (n)) {\n\t\tn += n % 2 ? 1 : 2 ;\n\t\tfor (int i = 1 ; i <= n ; i ++) cout << (i <= n / 2 ? 4 : 7) ;\t\n\t\treturn 0 ;\n\t}\n\tint bef = -1 , newwpos = n ;\n\tfor (int i = 1 ; i <= n ; i ++) {\n\t\tint nownum = ch[i] - '0' ;\n\t\tif (nownum == 7 || nownum == 4) c[ans[i] = nownum]++ , bef = (ans[i] == 4 && !found ? i : bef) ;\n\t\telse if (nownum < 7 && nownum != 4) ans[i] = nownum < 4 ? 4 : 7 , c[ans[i]] ++ , newwpos = i , bef = (ans[i] == 4 && found ? i : bef) ;\n\t\tif (c[4] > n / 2) newwpos = i , ans[newwpos] = 7 ;\n\t\telse if (c[7] == n / 2) found = 1 ;\n\t\telse if (c[7] > n / 2 || nownum > 7) newwpos = bef , ans[newwpos] = 7 ;\n\t\tif (newwpos != n) break ;\n\t}\n\tc[4] = 0 , c[7] = 0 ;\n\tfor (int i = 1 ; i <= newwpos ; i ++) {cout << ans[i] ; c[ans[i]] ++ ;}\n\tfor (int i = 1 ; i <= (n / 2) - c[4] ; i ++) cout << 4 ;\n\tfor (int i = 1 ; i <= (n / 2) - c[7] ; i ++) cout << 7 ; \n\treturn 0 ;\n}\n\n\n\n\n```\n",
        "postTime": 1613178388,
        "uid": 483012,
        "name": "Herowin",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF95B \u3010Lucky Numbers\u3011"
    }
]