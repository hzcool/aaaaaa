[
    {
        "content": "## Description\n\n[\u9898\u5e93\u94fe\u63a5](http://codeforces.com/problemset/problem/933/B)\n\n\u7ed9\u4f60\u4e24\u4e2a\u6b63\u6574\u6570 $p,k$ \uff0c\u8be2\u95ee\u662f\u5426\u80fd\u591f\u6784\u9020\u591a\u9879\u5f0f $f(x)=\\sum\\limits_{i=0}^{d-1}a_ix^i$ \uff0c\u4f7f\u5f97\u5b58\u5728\u591a\u9879\u5f0f $q(x)$ \uff0c\u6ee1\u8db3 $f(x)=q(x)\\cdot(x+k)+p$ \u3002\u4e14 $a_i\\in[0,k),i\\in [0,d)$ \u3002\n\n$1\\leq p\\leq 10^{18},2\\leq k\\leq 2000$\n\n## Solution\n\n\u6211\u4eec\u5047\u8bbe $q(x)=\\sum\\limits_{i=0}^{d-2}b_ix^i$ \uff0c\u90a3\u4e48\u5b58\u5728 $$\\begin{aligned}a_0&=kb_0+p\\\\a_1&=kb_1+b_0\\\\&\\vdots\\\\a_{d-2}&=kb_{d-2}+b_{d-3}\\\\a_{d-1}&=b_{d-2}\\end{aligned}$$\n\n\u9010\u6b65\u4ece\u4e0b\u5f80\u4e0a\u9012\u63a8\uff0c\u6700\u7ec8\u6211\u4eec\u53ef\u4ee5\u5f97\u5230 $p=\\sum\\limits_{i=0}^{d-1} (-k)^ia_i$ \u3002\u663e\u7136 $p_{(10)}=\\overline{a_{d-1}\\cdots a_1a_0}_{(-k)}$ \uff0c\u505a\u4e00\u904d\u8fdb\u5236\u8f6c\u6362\u5c31\u597d\u4e86\u3002\n\n## Code\n\n```cpp\n//It is made by Awson on 2018.2.17\n#include <bits/stdc++.h>\n#define LL long long\n#define dob complex<double>\n#define Abs(a) ((a) < 0 ? (-(a)) : (a))\n#define Max(a, b) ((a) > (b) ? (a) : (b))\n#define Min(a, b) ((a) < (b) ? (a) : (b))\n#define Swap(a, b) ((a) ^= (b), (b) ^= (a), (a) ^= (b))\n#define writeln(x) (write(x), putchar('\\n'))\n#define lowbit(x) ((x)&(-(x)))\nusing namespace std;\nvoid read(LL &x) {\n    char ch; bool flag = 0;\n    for (ch = getchar(); !isdigit(ch) && ((flag |= (ch == '-')) || 1); ch = getchar());\n    for (x = 0; isdigit(ch); x = (x<<1)+(x<<3)+ch-48, ch = getchar());\n    x *= 1-2*flag;\n}\nvoid print(LL x) {if (x > 9) print(x/10); putchar(x%10+48); }\nvoid write(LL x) {if (x < 0) putchar('-'); print(Abs(x)); }\n\nLL p, k, a[10005], d;\n\nvoid work() {\n\tread(p), read(k); k = -k;\n\twhile (p) {\n\t\ta[++d] = p%k, p /= k; \n\t\tif (a[d] < 0) a[d] = -k+a[d], p++;\n\t}\n\twriteln(d);\n\tfor (int i = 1; i <= d; i++) write(a[i]), putchar(' ');\n}\nint main() {\n\twork(); return 0;\n}\n```",
        "postTime": 1519305147,
        "uid": 11773,
        "name": "NaVi_Awson",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF933B \u3010A Determined Cleanup\u3011"
    },
    {
        "content": "### $\\text{Difficulty : 2000}$\n---\n### \u89e3\u9898\u601d\u8def\uff1a\n\n\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u5f0f\u5b50\u7684\u63a8\u3002\n\n\u9996\u5148\u5199\u51fa $f(x)$ \u548c $q(x)$\uff0c\u6709\uff1a$f(x)=\\sum_{i=0}^na_ix^i$\uff0c$q(x)=\\sum_{i=0}^nb_ix^n$\u3002\n\n\u7136\u540e\u6709\uff1a$xq(x)=\\sum_{i=0}^nb_ix^{i+1}=\\sum_{i=1}^{n+1}b_{i-1}x^i$\uff0c\u800c\u4e14 $kq(x)=\\sum_{i=0}^nkb_ix^i$\u3002\n\n\u5e26\u5165\u5230\u6761\u4ef6\u5f0f\u5b50\uff1a$\\sum_{i=0}^na_ix^i=\\sum_{i=1}^n[(kb_i+b_{i-1})x^i]+kb_0+p+b_nx^{n+1}$\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\uff1a\n\n$\\begin{cases}\na_0=kb_0+p\n\\\\a_i=kb_i+b_{i-1}(i\\in[1,n])\n\\\\b_n=0\n\\end{cases}$\n\n\u6052\u7b49\u53d8\u5f62\uff1a\n\n$\\begin{cases}\na_0-kb_0=p\n\\\\a_i-kb_i=b_{i-1}(i\\in[1,n])\n\\\\b_n=0\n\\end{cases}$\n\n\n\u6bcf\u4e00\u5c42\u4f9d\u6b21\u5e26\u5165\u5c31\u5f97\u5230\u4e86\uff1a$p=\\sum_{i=0}^na_i(-k)^i$\u3002\n\u505a\u4e00\u4e2a\u57fa\u7840\u7684\u8fdb\u5236\u8f6c\u5316\u5c31\u597d\u4e86\uff0c\u4e0d\u6e05\u695a\u7684\u53ef\u4ee5\u53c2\u7167 [$\\text{P1017}$](https://www.luogu.com.cn/blog/JSYZCHTHOLLY/p1017-noip2000-ti-gao-zu-jin-zhi-zhuai-huan)\u3002\n\n---\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\nusing namespace std;\nlong long p,k,cnt,num[100005];\nint main(){\n\tscanf(\"%I64d%I64d\",&p,&k);\n\tk=-k;\n\twhile(p){\n\t\tnum[++cnt]=p%k;\n\t\tif(num[cnt]<0)num[cnt]-=k,p+=k;\n\t\tp/=k;\n\t}\n\tprintf(\"%I64d\\n\",cnt);\n\tfor(int i=1;i<=cnt;i++)\n\tprintf(\"%I64d \",num[i]);\n\tprintf(\"\\n\");\n\treturn 0;\n}\n```\n\n",
        "postTime": 1648436659,
        "uid": 223559,
        "name": "qxp101",
        "ccfLevel": 6,
        "title": "CF933B A Determined Cleanup"
    }
]