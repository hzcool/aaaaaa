[
    {
        "content": "### [\u66f4\u597d\u7684\u9605\u8bfb](https://www.cnblogs.com/yzhang-rp-inf/p/10994323.html)\n\n### [\u539f\u9898\u4f20\u9001\u95e8](https://www.luogu.org/problemnew/show/CF1172B)\n\n#### \u9898\u610f\uff1a\u5728\u5706\u4e0a\u6709n\u4e2a\u8282\u70b9\uff08\u73c2\u4ee5\u6784\u6210\u51f8\u591a\u8fb9\u5f62\uff09\uff0c\u8ba9\u4f60\u7ed9\u8282\u70b9\u7f16\u53f7\uff0c\u4f7f\u5f97\u5c06\u9898\u76ee\u7ed9\u4f60\u7684\u8fb9\uff08\u4e00\u68f5\u6811\uff09\u6ca1\u6709\u4ea4\u53c9\n\n#### \u6211\u4eec\u94a6\u5b9a1\u4e3a\u8fd9\u4e2a\u6811\u7684\u6839\u8282\u70b9\u3002\u6613\u77e5\u4efb\u610f\u8282\u70b9$x$\u7684\u4e00\u9897\u5b50\u6811\u7684\u70b9\u5e94\u8be5\u662f\u5706\u5f27\u4e0a\u8fde\u7eed\u7684\u4e00\u6bb5\uff08~~\u6211\u4e5f\u4e0d\u77e5\u9053\u6211\u5f53\u65f6\u600e\u4e48\u5c31\u4eceHNOI2019d1t3\u591a\u8fb9\u5f62yy\u5230\u8fd9\u9053\u9898\u4e86~~\uff09\uff0c\u6240\u4ee5\u5c31\u662f\u8981\u5c06\u4e00\u6bb5\u5e8f\u5217\u5212\u5206\u6210$siz[x]+1$\u6bb5\uff0c\u8fd9\u4e2a\u8282\u70b9\u7684\u8d21\u732e\u5c31\u662f$A_{siz[x]+1}^{siz[x]+1}$\u3002\u56e0\u4e3a\u7236\u5b50\u4e4b\u95f4\u6392\u5e8f\u65b9\u6848\u6570\u4e92\u4e0d\u5e72\u6270\uff0c\u6240\u4ee5\u6700\u540e\u7b54\u6848\u5c31\u662f\u6240\u6709\u8282\u70b9\u8d21\u732e\u7684\u4e58\u79ef\uff08\u6839\u8282\u70b9\u8981\u7279\u5224\uff0c\u56e0\u4e3a\u5728\u4e00\u4e2a\u73af\u4e0a\uff0c\u4e0d\u80fd\u76f4\u63a5\u6392\u5217\u6570\uff09\n\n#### ~~\u8003\u573a\u4e0a\u5199\u7684\u4ee3\u7801\u6bd4\u8f83\u4e11~~\n\n```cpp\n#include <bits/stdc++.h>\n#define N 200005\n#define mod 998244353\n#define getchar nc\nusing namespace std;\ninline char nc(){\n    static char buf[100000],*p1=buf,*p2=buf;\n    return p1==p2&&(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)?EOF:*p1++;\n}\ninline int read()\n{\n    register int x=0,f=1;register char ch=getchar();\n    while(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n    while(ch>='0'&&ch<='9')x=(x<<3)+(x<<1)+ch-'0',ch=getchar();\n    return x*f;\n}\ninline void write(register int x)\n{\n    if(!x)putchar('0');if(x<0)x=-x,putchar('-');\n    static int sta[20];register int tot=0;\n    while(x)sta[tot++]=x%10,x/=10;\n    while(tot)putchar(sta[--tot]+48);\n}\nstruct edge{\n\tint to,next;\n}e[N<<1];\nint head[N],cnt;\ninline void add(register int u,register int v)\n{\n\te[++cnt]=(edge){v,head[u]};\n\thead[u]=cnt;\n}\nint n,siz[N],sizs[N],fa[N],f[N],fac[N];\ninline void dfs1(register int x)\n{\n\tsiz[x]=1;\n\tif(x!=1)\n\t\tsizs[x]=1;\n\tfor(register int i=head[x];i;i=e[i].next)\n\t{\n\t\tint v=e[i].to;\n\t\tif(v==fa[x])\n\t\t\tcontinue;\n\t\tfa[v]=x;\n\t\tdfs1(v);\n\t\tsiz[x]+=siz[v];\n\t\t++sizs[x];\n\t}\n}\ninline void dfs2(register int x)\n{\n\tf[x]=fac[sizs[x]];\n\tfor(register int i=head[x];i;i=e[i].next)\n\t{\n\t\tint v=e[i].to;\n\t\tif(v==fa[x])\n\t\t\tcontinue;\n\t\tdfs2(v);\n\t\tf[x]=1ll*f[x]*f[v]%mod;\n\t}\n}\nint main()\n{\n\tfac[0]=1;\n\tfor(register int i=1;i<N;++i)\n\t\tfac[i]=1ll*i*fac[i-1]%mod;\n\tn=read();\n\tfor(register int i=1;i<n;++i)\n\t{\n\t\tint u=read(),v=read();\n\t\tadd(u,v),add(v,u);\n\t}\n\tdfs1(1);\n\tdfs2(1);\n\twrite(1ll*f[1]*n%mod);\n\treturn 0;\n}\n```",
        "postTime": 1560076728,
        "uid": 37881,
        "name": "yzhang",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1172B \u3010Nauuo and Circle\u3011"
    },
    {
        "content": "## [\u5728\u8fd9\u91cc\u770b\u6548\u679c\u66f4\u4f73](https://www.cnblogs.com/AThousandMoons/p/10989460.html)\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u5bf9\u4e8e\u8282\u70b9$x$\u7684\u5b50\u6811\uff0c\u5b83\u5728\u6392\u5217\u4e2d\u5fc5\u5b9a\u662f\u4e00\u6bb5\u8fde\u7eed\u7684\u533a\u95f4\uff0c\u5426\u5219\u5c31\u4f1a\u8ddf\u5176\u4ed6\u7684\u5b50\u6811\u5bfc\u81f4\u8fb9\u76f8\u4ea4\u3002\n\n\u8fd9\u4e2a\u6392\u5217\u662f\u53ef\u4ee5\u65cb\u8f6c\u7684\uff0c\u6240\u4ee5\u94a6\u5b9a$p_1=1$\u3002\n\n\u8bbe\u8282\u70b9$i$\u7684\u5ea6\u6570\u4e3a$deg_i$\u3002\n\n\u6211\u4eec\u4f7f\u7528\u6346\u7ed1\u6cd5\uff0c\u5c06\u5fc5\u987b\u8981\u8fde\u5728\u4e00\u8d77\u7684\u5148\u6346\u7ed1\u8d77\u6765\uff0c\u4e4b\u540e\u518d\u5bf9\u5b50\u6811\u8fdb\u884c\u9012\u5f52\u3002\n\n\u4f8b\u5982\u6837\u4f8b1,2\u5c31\u662f\u8fd9\u6837\u7684\uff1a\n$$(1,(2,4),3)$$\n$$(1,2,3,4)$$\n\uff08\u540c\u4e2a\u62ec\u53f7\u91cc\u7684\u8868\u793a\u5fc5\u987b\u8981\u8fde\u7eed\uff09\n\n\u5bf9\u4e8e\u8282\u70b9$1$\uff0c\u6211\u4eec\u53ef\u4ee5\u4efb\u610f\u6392\u5217\u5b83\u7684$deg_1$\u68f5\u5b50\u6811\uff0c\u5bf9\u4e8e\u5176\u4ed6\u8282\u70b9$x$\uff0c\u6211\u4eec\u53ef\u4ee5\u6392\u5217\u5b83\u81ea\u5df1\u548c$deg_x-1$\u68f5\u5b50\u6811\u3002\n\n$$Ans=n\\prod_{i=1}^ndeg_i!$$\n```cpp\n#include<bits/stdc++.h>\n#define Rint register int\nusing namespace std;\ntypedef long long LL;\nconst int N = 200003, mod = 998244353;\nint n, fac[N], deg[N], ans;\nint main(){\n\tscanf(\"%d\", &n);\n\tfor(Rint i = 1;i < n;i ++){\n\t\tint a, b;\n\t\tscanf(\"%d%d\", &a, &b);\n\t\tdeg[a] ++; deg[b] ++;\n\t}\n\tfac[0] = ans = 1;\n\tfor(Rint i = 1;i <= n;i ++) fac[i] = (LL) i * fac[i - 1] % mod;\n\tfor(Rint i = 1;i <= n;i ++) ans = (LL) ans * fac[deg[i]] % mod;\n\tprintf(\"%d\\n\", (LL) ans * n % mod);\n}\n```",
        "postTime": 1559953922,
        "uid": 68148,
        "name": "watermoon",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF1172B \u3010Nauuo and Circle\u3011"
    },
    {
        "content": "\u8bbe $f_x$ \u4e3a\u4ee5 $x$ \u4e3a\u6839\u7684\u5b50\u6811\u7684\u65b9\u6848\u6570\uff0c$d_x$ \u4e3a\u8282\u70b9 $x$ \u7684\u5ea6\u6570\u3002\u53e6\u5916\u4e3a\u4e86\u65b9\u4fbf\u8d77\u89c1\uff0c\u94a6\u70b9 $1$ \u53f7\u70b9\u4e3a\u6839\u3002\n\n\u9996\u5148\u5bb9\u6613\u53d1\u73b0\u4e3a\u4e86\u4e0d\u51fa\u73b0\u76f8\u4ea4\u7684\u60c5\u51b5\uff0c\u5404\u5b50\u6811\u4e00\u5b9a\u5bf9\u5e94\u4e00\u4e2a\u8fde\u7eed\u7684\u533a\u95f4\u3002\n\n\u4e8e\u662f\u5f97\u5230\u5982\u4e0b\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$$\nf_u=(d_v+[u \\neq 1])!\\prod_{v \\in son(u)} f_v\n$$\n\n\u4e0a\u9762\u8fd9\u4e2a\u5f0f\u5b50\u7684\u542b\u4e49\u6bd4\u8f83\u663e\u7136\uff1a\u5bf9\u4e8e\u6839\u8282\u70b9\uff0c\u5176 $d_1$ \u68f5\u5b50\u6811\u53ef\u4ee5\u4efb\u610f\u6392\u5217\uff0c\u5bf9\u4e8e\u975e\u6839\u8282\u70b9\uff0c\u9664\u4e86\u6392\u5217\u5176\u6240\u6709\u5b50\u6811\u4e4b\u5916\uff0c\u5b83\u81ea\u5df1\u7684\u4f4d\u7f6e\u4e5f\u8981\u53c2\u4e0e\u6392\u5e8f\u3002\n\n\u6700\u7ec8\u7b54\u6848\u4e3a $n f_1$\u3002\n\n\u7a0d\u5fae\u5316\u7b80\u4e00\u4e0b\u4e0a\u9762\u7684\u5f0f\u5b50\uff0c\u5c31\u4f1a\u53d1\u73b0\u7b54\u6848\u4e3a\u6bcf\u4e2a\u8282\u70b9\u5ea6\u6570\u9636\u4e58\u4e4b\u79ef\u518d\u4e58 $n$\u3002\n\n```cpp\n#include <iostream>\n#include <algorithm>\n#define MOD 998244353\nusing namespace std;\nint t[200005];\nint main()\n{\n int n;\n cin>>n;\n long long ans=n;\n for(int i=1;i<n;i++)\n {\n  int u,v;\n  cin>>u>>v;\n  t[u]++,t[v]++;\n  ans=ans*t[u]%MOD*t[v]%MOD;\n }\n cout<<ans<<endl;\n return 0;\n}\n```\n",
        "postTime": 1559932577,
        "uid": 22030,
        "name": "StudyingFather",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1172B \u3010Nauuo and Circle\u3011"
    },
    {
        "content": "\u4ee3\u7801\u5199\u8d77\u6765\u548c SF \u7684\u662f\u5dee\u4e0d\u591a\u7684\uff0c\u4e0d\u8fc7\u7406\u89e3\u7684\u89d2\u5ea6\u7565\u6709\u4e0d\u540c\u3002\n\n\u9996\u5148\uff0c\u56e0\u4e3a\u5b83\u5728\u4e00\u4e2a\u73af\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u56fa\u5b9a\u4efb\u4f55\u65b9\u6848\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u70b9\u4f5c\u4e3a\u73af\u7684\u8d77\u70b9\uff0c\u6240\u4ee5\u6700\u540e\u65b9\u6848\u6570\u8981 $\\times n$\u3002\n\n\u7136\u540e\u6211\u4eec\u8003\u8651\u4f9d\u6b21\u53bb\u52a0\u8fb9\u3002\n\n\u8003\u8651\u52a0\u4e00\u6761\u8fb9 $(u,v)$\uff0c\u8bb0 $du_i$ \u8868\u793a $i$ \u8fd9\u4e2a\u70b9\u7684\u5ea6\u6570\u3002\n\n\u8003\u8651 $u$ \u8fd9\u4e2a\u70b9\u8fde\u51fa\u53bb\u7684 $v$ \u653e\u5728\u54ea\u3002\n\n\u5c31\u6bd4\u5982\u4e0b\u9762\u8fd9\u5f20\u56fe\uff0c\u5f53\u524d\u5df2\u7ecf\u8fde\u4e86\u4e09\u6761\u8fb9\uff0c$v$ \u53ef\u4ee5\u653e\u7684\u533a\u57df\u6709 $4$ \u4e2a\uff0c\u6240\u4ee5\u65b9\u6848\u6570\u5c31 $\\times 4$\u3002\n\n\u7136\u540e\u518d\u4ece $v$ \u7684\u89d2\u5ea6\u8003\u8651\u4e5f\u662f\u5982\u6b64\uff0c\u6240\u4ee5\u8fd8\u8981\u4e58\u4e00\u4e2a $(du_v + 1)$ \u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/6el5ot6q.png)\n\n\u6700\u540e\u653e\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define orz cout<<\"tyy YYDS!!!\\n\"\n\nusing namespace std;\nconst int MAXN = 2e5+5;\nconst int mod = 998244353;\n\nint n, ans = 1;\nint du[MAXN];\n\nsigned main()\n{\n    n = read();\n    for(int i = 1; i <= n; ++i) du[i] = 1;\n    for(int i = 1, u, v; i < n; ++i) {\n        u = read(), v = read();\n        ans = ans * du[u] % mod * du[v] % mod;\n        du[u] ++, du[v] ++;\n    }\n    printf(\"%lld\\n\", ans * n % mod);\n    return 0;\n}\n```",
        "postTime": 1646055357,
        "uid": 230580,
        "name": "Suzt_ilymtics",
        "ccfLevel": 6,
        "title": "CF1172B \u9898\u89e3"
    }
]