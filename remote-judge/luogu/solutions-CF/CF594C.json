[
    {
        "content": "\u5728\u5f00\u59cb\u4e4b\u524d\uff0c\u6211\u4eec\u5c06\u7ef4\u62a4\u77e9\u5f62\u53d8\u6210\u7ef4\u62a4\u6bcf\u4e2a\u77e9\u5f62\u7684\u4e2d\u5fc3\u3002\n\n\u9996\u5148\uff0c\u6709\u4e00\u4e2a\u5f88\u663e\u7136\u7684\u7ed3\u8bba\uff1a\u5220\u9664\u6389\u7684\u70b9\u90fd\u662f\u6a2a\u7eb5\u5750\u6807\u5206\u522b\u6700\u5c0f\u6216\u6700\u5927\u7684\uff0c\u56e0\u4e3a\u8fd9\u6837\u624d\u80fd\u51cf\u5c0f\u7b54\u6848\uff08\u4f7f\u77e9\u5f62\u7684\u957f\u6216\u9ad8\u51cf\u5c0f\uff09\u3002\n\n\u89c2\u5bdf\u5230 $k\\leq 10$ \u8fd9\u4e2a\u6761\u4ef6\uff0c\u4e0d\u96be\u60f3\u51fa\u53ef\u4ee5\u679a\u4e3e\u9009\u53d6\u7684 $k$ \u4e2a\u70b9\u5206\u522b\u6765\u81ea\u54ea\u4e00\u4e2a\u65b9\u5411\uff0c\u641c\u7d22\u5373\u53ef\u3002\n\n\u5728\u641c\u7d22\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4f7f\u7528\u56db\u4e2a ```std::multiset ``` \u6765\u7ef4\u62a4\u6a2a\u7eb5\u5750\u6807\u6700\u5927\u6216\u6700\u5c0f\u7684\u70b9\uff0c\u6bcf\u6b21\u5220\u9664\u64cd\u4f5c\u5c31\u662f\u5220\u9664\u4efb\u610f\u4e00\u4e2a ```multiset``` \u7684 ```begin()```\u3002\n\n\u4f46\u662f\u8fd9\u6837\u7684\u590d\u6742\u5ea6\u662f $O(4^k\\times \\log_2(4^k))=O(4^k\\times 2k)$ \u7684\uff0c\u800c\u672c\u9898\u7684\u65f6\u9650\u53ea\u67091s\uff0cSTL\u7684\u5e38\u6570\u4ee4\u5f53\u524d\u505a\u6cd5\u5f88\u96be\u901a\u8fc7\uff0c\u6211\u4eec\u8003\u8651\u4f18\u5316\u3002\n\n\u53ef\u4ee5\u89c2\u5bdf\u5230\uff0c\u5728\u56db\u4e2a ```multiset``` \u4e2d\uff0c\u6bcf\u4e00\u4e2a\u90fd\u50a8\u5b58\u4e86 $n$ \u4e2a\u70b9\uff0c\u800c\u771f\u6b63\u4f1a\u7528\u5230\u7684\u6700\u591a\u53ea\u6709 10 \u4e2a\uff0c\u4e3a\u4e86\u9632\u6b62\u5f53\u524d\u8fd9\u4e2a\u65b9\u5411\u7684\u524d\u51e0\u4e2a\u70b9\u88ab\u5176\u4ed6\u65b9\u5411\u53d6\u8fc7\uff0c\u5bfc\u81f4\u5f53\u524d\u65e0\u70b9\u53ef\u53d6\uff0c\u6211\u4eec\u8ba9\u6bcf\u4e00\u4e2a ```multiset``` \u53ea\u5b58\u5206\u522b\u6392\u5e8f\u540e\u7684\u524d 20 \u4e2a\u70b9\u5c31\u53ef\u4ee5\u4e86\u3002\u90a3\u4e48\uff0c\u73b0\u5728\u6211\u4eec\u7684\u590d\u6742\u5ea6\u5c31\u6765\u5230\u4e86 $O(4^k\\times \\log_2(20))\\approx O(4.32\\times 4^k)$\u3002\n\n\u5173\u4e8e\u5b9e\u73b0\u65b9\u9762\u7684\u95ee\u9898\u8be6\u89c1\u4ee3\u7801\uff1a\n\n```cpp\n//Linkwish's code\n#include<bits/stdc++.h>\n#pragma GCC optimize(3)\nusing namespace std;\nstruct T1{\n\tdouble x,y;\n\tbool operator < (const T1 &b)const{return x==b.x?y<b.y:x<b.x;}\n}A[100005];\nstruct T2{\n\tdouble x,y;\n\tbool operator < (const T2 &b)const{return x==b.x?y>b.y:x>b.x;}\n}B[100005];\nstruct T3{\n\tdouble x,y;\n\tbool operator < (const T3 &b)const{return y==b.y?x<b.x:y<b.y;}\n}C[100005];\nstruct T4{\n\tdouble x,y;\n\tbool operator < (const T4 &b)const{return y==b.y?x>b.x:y>b.y;}\n}D[100005];\nstruct pnt{double x,y;};\nint n,k;\nlong double ans=1e18;\nmultiset<T1> q1;\nmultiset<T2> q2;\nmultiset<T3> q3;\nmultiset<T4> q4;\nvoid dfs(int num,multiset<T1> &a,multiset<T2> &b,multiset<T3> &c,multiset<T4> &d);\ninline void nxt(pnt x,int num,multiset<T1> &a,multiset<T2> &b,multiset<T3> &c,multiset<T4> &d){\n\tT1 tmp1={x.x,x.y};\n\tT2 tmp2={x.x,x.y};\n\tT3 tmp3={x.x,x.y};\n\tT4 tmp4={x.x,x.y};\n\tmultiset<T1>::iterator it1=a.find(tmp1);\n\tmultiset<T2>::iterator it2=b.find(tmp2);\n\tmultiset<T3>::iterator it3=c.find(tmp3);\n\tmultiset<T4>::iterator it4=d.find(tmp4);\n\tint flag1=0,flag2=0,flag3=0,flag4=0;\n\tif(it1!=a.end())flag1=1,a.erase(it1);\n\tif(it2!=b.end())flag2=1,b.erase(it2);\n\tif(it3!=c.end())flag3=1,c.erase(it3);\n\tif(it4!=d.end())flag4=1,d.erase(it4);\n\tdfs(num-1,a,b,c,d);\n\tif(flag1)a.insert(tmp1);\n\tif(flag2)b.insert(tmp2);\n\tif(flag3)c.insert(tmp3);\n\tif(flag4)d.insert(tmp4);\n}\nconst double one=1.0;\nvoid dfs(int num,multiset<T1> &a,multiset<T2> &b,multiset<T3> &c,multiset<T4> &d){\n\tT1 tmp1=*a.begin();\n\tT2 tmp2=*b.begin();\n\tT3 tmp3=*c.begin();\n\tT4 tmp4=*d.begin();\t\n\tif(!num){\n\t\tans=min(ans,(long double)max(one,tmp2.x-tmp1.x)*max(one,tmp4.y-tmp3.y));\n\t\treturn ;\n\t}\n\tnxt({tmp1.x,tmp1.y},num,a,b,c,d);\n\tnxt({tmp2.x,tmp2.y},num,a,b,c,d);\n\tnxt({tmp3.x,tmp3.y},num,a,b,c,d);\n\tnxt({tmp4.x,tmp4.y},num,a,b,c,d);\n}\nsigned main(){\n\tios::sync_with_stdio(0);\n\tcin.tie(0),cout.tie(0);\n\tcin>>n>>k;\n\tint x,y,_x,_y;\n\tdouble ix,iy;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>x>>y>>_x>>_y;\n\t\tix=1.0*(x+_x)/2.0,iy=1.0*(y+_y)/2.0;\n\t\tA[i]={ix,iy};\n\t\tB[i]={ix,iy};\n\t\tC[i]={ix,iy};\n\t\tD[i]={ix,iy};\n\t}\n\tsort(A+1,A+1+n),sort(B+1,B+1+n),sort(C+1,C+1+n),sort(D+1,D+1+n);\n\tfor(int i=1;i<=min(n,20);i++)\n\t\tq1.insert(A[i]),q2.insert(B[i]),q3.insert(C[i]),q4.insert(D[i]);\n\tdfs(k,q1,q2,q3,q4);\n\tcout<<fixed<<setprecision(0)<<ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1663221965,
        "uid": 408180,
        "name": "LinkWish",
        "ccfLevel": 7,
        "title": "CF594C \u9898\u89e3"
    },
    {
        "content": "### P.S.\n\u76f4\u63a5\u505a\uff0c\u505a\u5b8c\u4e86\u3002  \n*2300 \u5c31\u8fd9 ![](//xn--9zr.tk/jy)  \n\n\n### Description.\n\u7565\n\n### Solution.\n\u9996\u5148\u4e00\u4e2a\u6b63\u65b9\u5f62\u91cd\u5fc3\u627e\u5230\uff0c\u90a3\u8fd9\u4e2a\u91cd\u5fc3\u88ab\u5305\u542b\u5373\u53ef\u3002  \n\u7136\u540e\u5c31\u76f8\u5f53\u4e8e\u6709\u5f88\u591a\u70b9\uff0c\u5220\u6389 $K$ \u4e2a\u540e\u5305\u56f4\u4ed6\u4eec\u7684\u6700\u5c0f\u77e9\u5f62\u5927\u5c0f\u6700\u5c0f\u3002  \n\u8003\u8651\u6700\u4f18\u5220\u9664\u65b9\u5f0f\uff0c\u663e\u7136\u662f\u4e0d\u65ad\u5220\u8fb9\u754c\u3002  \n\u7136\u540e\u6211\u4eec\u628a\u6700\u4e0a\u9762 $K+1$ \u4e2a\u3001\u6700\u4e0b\u9762 $K+1$ \u4e2a\u3001\u6700\u5de6\u8fb9 $K+1$ \u4e2a\u3001\u6700\u53f3\u8fb9 $K+1$ \u4e2a\u62ff\u51fa\u6765\u3002  \n\u7136\u540e $O(K^4)$ \u679a\u4e3e\u5206\u522b\u9009\u51e0\u4e2a\uff0c$O(K)$ \u67e5\u8be2\u5373\u53ef\u3002  \n\u4e0b\u9762\u5b9e\u73b0\u662f $O(K^3)$ \u679a\u4e3e\u524d\u4e09\u4e2a\uff0c$O(K)$ \u627e\u5230\u7b2c\u56db\u4e2a\u6700\u591a\u80fd\u9009\u591a\u5c11\u7684\u5199\u6cd5\u3002  \n\u7531\u4e8e\u539f\u9898\u9650\u5236\uff0c\u8fd8\u9700\u8981\u4e00\u4e9b\u8fb9\u754c\u5224\u65ad\u3002  \n\n### Coding.\n```cpp\n//\u662f\u554a\uff0c\u4f60\u5c31\u662f\u90a3\u53ea\u9b3c\u4e86\uff0c\u6240\u4ee5\u88ab\u4f60\u78b0\u5230\u4ee5\u540e\uff0c\u5c31\u8f6e\u5230\u6211\u53d8\u6210\u9b3c\u4e86{{{\n#include<bits/stdc++.h>\nusing namespace std;typedef long long ll;\ntemplate<typename T>inline void read(T &x)\n{\n\tx=0;char c=getchar(),f=0;\n\tfor(;c<48||c>57;c=getchar()) if(!(c^45)) f=1;\n\tfor(;c>=48&&c<=57;c=getchar()) x=(x<<1)+(x<<3)+(c^48);\n\tf?x=-x:x;\n}\ntemplate<typename T,typename...L>inline void read(T &x,L&...l) {read(x),read(l...);}//}}}\nconst int N=100005,M=15;int cnt=0,vs[N];ll rs=1e18;\nint n,K,d1[M],d2[M],d3[M],d4[M];struct node{int x,y,id;}a[N];\nint main()\n{\n\tread(n,K);for(int i=1,c,d,e,f;i<=n;i++) read(c,d,e,f),a[i]=(node){c+e,d+f,i};\n\t//for(int i=1;i<=n;i++) printf(\"%d %d\\n\",a[i].x,a[i].y);\n\tsort(a+1,a+n+1,[](node a,node b){return a.x<b.x;});\n\tfor(int i=1;i<=K+1;i++) d1[i]=a[i].id,d2[i]=a[n-i+1].id;\n\tsort(a+1,a+n+1,[](node a,node b){return a.y<b.y;});\n\tfor(int i=1;i<=K+1;i++) d3[i]=a[i].id,d4[i]=a[n-i+1].id;\n\tsort(a+1,a+n+1,[](node a,node b){return a.id<b.id;});\n\tfor(int i=0;i<=K;i++) for(int j=0;j<=K;j++) for(int k=0;k<=K;k++)\n\t{\n\t\tfor(int z=1;z<=i;z++) cnt+=!vs[d1[z]]++;\n\t\tfor(int z=1;z<=j;z++) cnt+=!vs[d2[z]]++;\n\t\tfor(int z=1;z<=k;z++) cnt+=!vs[d3[z]]++;\n\t\tint l=0;while(cnt<=K&&l<=K) cnt+=!vs[d4[++l]]++;\n\t\tif(cnt>K&&l) cnt-=!--vs[d4[l--]];\n\t\tfor(int z=1;z<=i;z++) vs[d1[z]]=0;\n\t\tfor(int z=1;z<=j;z++) vs[d2[z]]=0;\n\t\tfor(int z=1;z<=k;z++) vs[d3[z]]=0;\n\t\tfor(int z=1;z<=l;z++) vs[d4[z]]=0;\n\t\tif(cnt>K) {cnt=0;continue;}else cnt=0;\n\t\t//printf(\"%d %d %d %d\\n\",i,j,k,l);\n\t\t//printf(\"? %d %d %d %d\\n\",d2[j+1],d1[i+1],d3[l+1],d3[k+1]);\n\t\t//printf(\"? %d %d %d %d\\n\",a[d1[i+1]].x,a[d2[j+1]].x,a[d3[k+1]].y,a[d4[l+1]].y);\n\t\tint x1=max(a[d2[j+1]].x-a[d1[i+1]].x,1);x1++,x1/=2;\n\t\tint y1=max(a[d4[l+1]].y-a[d3[k+1]].y,1);y1++,y1/=2;\n\t\trs=min(rs,1ll*x1*y1);\n\t}\n\treturn printf(\"%lld\\n\",rs),0;\n}\n```",
        "postTime": 1630564146,
        "uid": 44805,
        "name": "Leap_Frog",
        "ccfLevel": 7,
        "title": "CF594C Edo and Magnets\uff08\u9898\u89e3\uff09"
    },
    {
        "content": "\u4e2a\u4eba\u8ba4\u4e3a\u4e0d\u5230 $2300$ \u7684\u7b80\u5355\u9898\u3002\n\n\u7406\u6e05\u695a\u9898\u76ee\uff0c\u9898\u76ee\u91cc\u9762\u7ed9\u4f60\u7684\u77e9\u5f62\u4e00\u70b9\u7528\u5904\u90fd\u6ca1\u6709\uff0c\u53ea\u548c\u4ed6\u7684\u4e2d\u5fc3\u6709\u5173\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u9700\u8981\u53bb\u4fdd\u7559\u77e9\u5f62\uff0c\u4f7f\u5f97 $(\\max(x_i)-\\min(x_i)) \\times (\\max(y_i)-\\min(y_i))$ \u8fd9\u4e2a\u4e1c\u897f\u6700\u5c0f\u3002\n\n\u4e00\u79cd\u66b4\u529b\u7684\u60f3\u6cd5\u5c31\u662f\u53bb\u679a\u4e3e\u8fd9\u56db\u4e2a\u503c\uff0c\u7136\u540e\u5927\u529b\u5224\u65ad\u54ea\u4e9b\u70b9\u4e0d\u5408\u6cd5\uff0c\u770b\u770b\u4e0d\u5408\u6cd5\u662f\u5426\u8d85\u8fc7\u4e86 $k$ \u4e2a\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53d1\u73b0\uff0c\u5177\u4f53\u6709\u7528\u7684\u503c\u53ea\u6709 $k$ \u4e2a\uff0c\u4e5f\u5c31\u662f\u8bf4\u679a\u4e3e\u56db\u4e2a\u503c\u7136\u540e\u518d check \u662f $O(k^4 \\times n)$\u3002\n\n\u601d\u8003\u8fd9\u6837\u4e00\u4e2a\u95ee\u9898\uff0c\u5982\u679c\u4e00\u4e2a\u70b9\u5728\u6700\u5c0f\u7684\u77e9\u5f62\u91cc\u9762\uff0c\u90a3\u4e48\u4ed6\u5fc5\u7136\u4e00\u70b9\u7528\u5904\u90fd\u6ca1\u6709\u4e86\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u6254\u6389\u3002\n\n\u8fd9\u6837\u6254\u6389\u7684\u70b9\u4f1a\u975e\u5e38\u591a\uff0c\u57fa\u672c\u4e0a\u4f1a\u53d8\u6210\u53ea\u7559\u4e0b\u4e0d\u5230 $k^2$ \u4e2a\u70b9\u3002\n\n\u90a3\u4e48\u8fd9\u65f6\u5019\u518d\u66b4\u529b\u505a\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u53ef\u4ee5\u4e86\u3002\n\n```cpp\n// LUOGU_RID: 96739697\n#include <bits/stdc++.h>\n#define int long long \n#define pb push_back\nusing namespace std;\nconst int INF=1e6+5;\nint n,m,ax[INF],ay[INF],bx[INF],by[INF],tot;\nlong double cx[INF],cy[INF],dx[INF],dy[INF];\nvector <long double> vx,vy;\nsigned main()\n{\n\tios::sync_with_stdio(false);\n\tcin>>n>>m;\n\tfor (int i=1;i<=n;i++) {\n\t\tcin>>ax[i]>>ay[i]>>bx[i]>>by[i];\n\t\tcx[i]=(ax[i]+bx[i])*0.5;\n\t\tcy[i]=(by[i]+ay[i])*0.5;\n\t\tvx.pb(cx[i]);\n\t\tvy.pb(cy[i]);\n\t}\n//\tif (ax[1]==419744163) {cout<<\"999809572959567776\\n\";return 0;}\n//\tif (ax[1]==471403992) {cout<<\"999713029160927070\\n\";return 0;}\n\tsort(vx.begin(),vx.end());\n\tsort(vy.begin(),vy.end());\n\tvx.erase(unique(vx.begin(),vx.end()),vx.end());\n\tvy.erase(unique(vy.begin(),vy.end()),vy.end());\n\tint len=vx.size()-1,leny=vy.size()-1;\n\tint res=1e18;\n\t\n\tint i=min(10ll,len),j=max(0ll,len-10);\n\tint k=min(10ll,leny),l=max(0ll,leny-10);\n\tfor (int p=1;p<=n;p++) {\n\t\tif (cx[p]<=vx[i] || cx[p]>=vx[j]) ;\n\t\telse if (cy[p]<=vy[k] || cy[p]>=vy[l]) ;\n\t\telse continue;\n\t\t++tot;\n\t\tdx[tot]=cx[p];\n\t\tdy[tot]=cy[p];\n\t}\n//\tcout<<tot<<\" \"<<vx[i]<<\" \"<<vx[j]<<\" kel\\n\";\n\tfor (int i=0;i<=min(10ll,len);i++)\n\t\tfor (int j=max(i,len-10);j<=len;j++)\t\n\t\t\tfor (int k=0;k<=min(10ll,leny);k++)\n\t\t\t\tfor (int l=max(k,leny-10);l<=leny;l++) {\n\t\t\t\t\tint ans=0;\n\t\t\t\t\tfor (int p=1;p<=tot;p++) {\n\t\t\t\t\t\tif (dx[p]<vx[i] || dx[p]>vx[j]) ans++;\n\t\t\t\t\t\telse if (dy[p]<vy[k] || dy[p]>vy[l]) ans++;\n\t\t\t\t\t\tif (ans>m) break;\n\t\t\t\t\t}\n\t\t\t\t\tif (ans>m) continue;\n\t\t\t\t\tlong double xx=(vx[j]-vx[i]);\n\t\t\t\t\tlong double yy=(vy[l]-vy[k]);\n\t\t\t\t\tif (fabs(xx)<=1e-12) xx=1;\n\t\t\t\t\tif (fabs(yy)<=1e-12) yy=1;\n\t\t\t\t\tint yye=ceil(xx*yy);\n\t\t\t\t\tres=min(res,yye);\n\t\t\t\t}\n\tcout<<res<<\"\\n\";\n\treturn 0;\n}\n```\n",
        "postTime": 1670383777,
        "uid": 208653,
        "name": "_edge_",
        "ccfLevel": 0,
        "title": "CF594C"
    }
]