[
    {
        "content": "~~\u8fd9\u9898\u80fd\u6709 2200 CF \u7684\u4eba\u5747\u535a\u5f08\u8bba\u6c34\u5e73\u582a\u5fe7~~\n\n\u4e00\u9053\u7b80\u5355 SG \u5b9a\u7406\u9898\u3002\n\n\u8003\u8651\u8ba1\u7b97 SG \u51fd\u6570\uff1a\n\n\u5f53 $x$ \u4e3a\u5076\u6570\u65f6\n\n$$\\operatorname{SG}(x)=\\operatorname{mex}(\\{(\\operatorname{SG}(x/2))^{k\\oplus},\\operatorname{SG}(x-1)\\})$$\n\n\u5176\u4e2d $a^{k\\oplus}$ \u8868\u793a $k$ \u4e2a $a$ \u7684\u5f02\u6216\u548c\u3002\u5f88\u5bb9\u6613\u53d1\u73b0\n\n$$\na^{k\\oplus}=\n\\begin{cases}\na, & k \\equiv 1 \\pmod{2} \\\\\n0, & k \\equiv 0 \\pmod{2} \\\\\n\\end{cases}\n$$\n\n\u5f53 $x$ \u4e3a\u5947\u6570\u65f6\n\n$$\\operatorname{SG}(x)=\\operatorname{mex}(\\{\\operatorname{SG}(x-1)\\})$$\n\n\u4e8e\u662f\u6211\u4eec\u5206 $k$ \u7684\u5947\u5076\u8ba8\u8bba\u3002\n\n\u5f53 $k$ \u4e3a\u5076\u6570\u65f6\u6211\u4eec\u5f88\u5bb9\u6613\u53d1\u73b0\n\n$$\n\\operatorname{SG}(x)=\n\\begin{cases}\n0, & k=0 \\lor (k \\equiv 1 \\pmod{2} \\land k>1) \\\\\n1, & k=1 \\lor (k \\equiv 0 \\pmod{2} \\land k>2) \\\\\n2, & k=2 \\\\\n\\end{cases}\n$$\n\n\u5f53 $k$ \u4e3a\u5947\u6570\u65f6\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u9012\u5f52\u5904\u7406\uff0c\u7531\u4e8e\u5f88\u5bb9\u6613\u63a8\u51fa\u5927\u4e8e $3$ \u7684\u5947\u6570\u7684 SG \u503c\u90fd\u4e3a $0$\uff0c\u6240\u4ee5\u5bf9\u4e8e\u5076\u6570\u53ea\u8981\u9012\u5f52\u8ba1\u7b97 $\\operatorname{SG}(x/2)$ \u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log{\\max\\{a_i\\}})$\u3002\n\nCode:\n```cpp\n#include<cstdio>\nint n,k,a,r;\nint sg(int x)\n{\n    if(x&1)\n    {\n        if(x==1||x==3)return 1;\n        else return 0;\n    }\n    if(x==0||x==2)return 0;\n    if(x==4)return 2;\n    else return (sg(x/2)==1)?2:1;\n}\nint main()\n{\n    scanf(\" %d %d\",&n,&k);\n    if(k&1)\n    {\n        while(n--)\n        {\n            scanf(\" %d\",&a);\n            r^=sg(a);\n        }\n        printf(\"%s\\n\",r?\"Kevin\":\"Nicky\");\n    }\n    else\n    {\n        while(n--)\n        {\n            scanf(\" %d\",&a);\n            if(a==0)continue;\n            if(a==1){r^=1;continue;}\n            if(a==2){r^=2;continue;}\n            r^=(a&1^1);\n        }\n        printf(\"%s\\n\",r?\"Kevin\":\"Nicky\");\n    }\n    return 0;\n}\n```",
        "postTime": 1594721171,
        "uid": 59388,
        "name": "VinstaG173",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF603C \u3010Lieges of Legendre\u3011"
    },
    {
        "content": "SG\u5b9a\u7406\u5f88\u5bb9\u6613\u89e3\u51b3\n\n\u5bf9\u4e8e\u4e00\u4e2a\u6e38\u620f\uff0c\u5176SG\u51fd\u6570\u503c\u4e3a\u6240\u6709\u5b50\u6e38\u620f\u7684SG\u51fd\u6570\u503c\u5f02\u6216\n\n$0$\u81f3$4$\u7684SG\u51fd\u6570\u503c\u53ef\u4ee5\u624b\u7b97\n\n\u5bf9\u4e8e\u5176\u4ed6\u60c5\u51b5\uff1a\n\n\u82e5$k$\u4e3a\u5076\u6570\uff0c$x$\u4e3a\u5947\u6570\uff0c$SG(x)=mex\\{SG(x-1)\\}=0$\n\n\u82e5$k$\u4e3a\u5076\u6570\uff0c$x$\u4e3a\u5076\u6570\uff0c$SG(x)=mex\\{SG(x-1),0\\}=1$\n\n\u82e5$k$\u4e3a\u5947\u6570\uff0c$x$\u4e3a\u5947\u6570\uff0c$SG(x)=mex\\{SG(x-1)\\}=0$\n\n\u82e5$k$\u4e3a\u5947\u6570\uff0c$x$\u4e3a\u5076\u6570\uff0c$SG(x)=mex\\{SG(x-1),SG\\left(\\dfrac{x}{2}\\right)\\}=mex\\{0,SG\\left(\\dfrac{x}{2}\\right)\\}$\uff0c\u53ef\u4ee5\u9012\u5f52\u6c42\u89e3\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O(n\\log a)$\n```cpp\n#include<cstdio>\nusing namespace std;\nint n,k,a,ans;\nint sg(int x){\n    if(x<2)return x;//\u7279\u5224\n    if(k){\n        if(x<5)return x-2;//\u7279\u5224\n        if(x&1)return 0;\n        int t=sg(x>>1);\n        return t>1?1:t+1;\n    }\n    if(x==2)return 2;//\u7279\u5224\n    return !(x&1);\n}\nint main(){\n    scanf(\"%d%d\",&n,&k);\n    k&=1;\n    for(int i=1;i<=n;++i){\n        scanf(\"%d\",&a);\n        ans^=sg(a);\n    }\n    puts(ans?\"Kevin\":\"Nicky\");\n}\n```",
        "postTime": 1551600941,
        "uid": 35406,
        "name": "\u300c\u5df2\u6ce8\u9500\u300d",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF603C \u3010Lieges of Legendre\u3011"
    }
]