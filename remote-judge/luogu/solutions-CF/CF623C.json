[
    {
        "content": "\u4e8c\u5206\u7b54\u6848,\u90a3\u4e48\u95ee\u9898\u8f6c\u5316\u4e3a\u662f\u5426\u5b58\u5728\u4e00\u4e2a\u5212\u5206\u65b9\u6848\u4f7f\u5f97\n$$\\left\\{\\begin{aligned}\\max_{i\\in X}\\{x_i^2\\}+\\max_{i\\in Y}\\{y_i^2\\}\\leq mid\\\\\\max_{i,j\\in X}\\{x_i-x_j\\}\\leq \\sqrt{mid}\\\\\\max_{i,j\\in Y}\\{y_i-y_j\\}\\leq \\sqrt{mid}\\end{aligned}\\right.$$\n\n\u5176\u4e2d $X$ \u4e3a\u6620\u5c04\u5728 $x$ \u8f74\u4e0a\u7684\u70b9\u7684\u96c6\u5408, $Y$ \u4e3a\u6620\u5c04\u5728 $y$ \u8f74\u4e0a\u7684\u70b9\u7684\u96c6\u5408\n\n\u5c06\u70b9\u6309 $x$ \u6392\u5e8f\n\n\u663e\u7136,\u5982\u679c\u5b58\u5728\u65b9\u6848,\u4e00\u5b9a\u5b58\u5728\u4f7f\u5f97 $X$ \u4e2d\u7684\u70b9\u7f16\u53f7\u8fde\u7eed\u7684\u5212\u5206\u65b9\u6848\n\n\u679a\u4e3e\u94a6\u5b9a\u4e00\u4e2a\u70b9\u4f5c\u4e3a $X$ \u4e2d\u4ea7\u751f\u8d21\u732e\u7684\u90a3\u4e2a\u70b9,\u5c06\u5c3d\u53ef\u80fd\u591a\u7684\u70b9\u5212\u5206\u8fdb $X$ \u4e2d,\u5c06\u5269\u4e0b\u7684\u70b9\u5212\u5206\u8fdb $ Y$,\u901a\u8fc7\u9884\u5904\u7406\u524d\u7f00 $\\min$,\u524d\u7f00 $\\max$,\u540e\u7f00 $\\min$,\u540e\u7f00 $\\max$\u53ef\u4ee5 $O(1)$ \u8ba1\u7b97\u8fd9\u90e8\u5206\u7684\u8d21\u732e\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\n#define Ri register\ntemplate<typename T>inline T read(Ri T&t)\n{Ri T f=1;Ri char ch=getchar();t=0;\nwhile(ch<'0'||ch>'9'){if(ch=='-')f=-f;ch=getchar();}\nwhile(ch>='0'&&ch<='9')t=t*10+ch-'0',ch=getchar();t*=f;return t;}\ntemplate<typename T,typename...Args>\ninline void read(T&t,Args&...args)\n{read(t);read(args...);}\nconst long long p=998244353;\ninline long long power(Ri long long x,Ri long long k=p-2)\n{Ri long long re=1;for(;k;k>>=1,x=x*x%p)if(k&1)re=re*x%p;return re;}\nstruct node{long long x,y;}v[100005];\nint n;\nlong long l_min[100005],l_max[100005];\nlong long r_min[100005],r_max[100005];\n#define squ(X) ((X)*(X))\nbool check(long long mid)\n{\n\tint r=1;\n\tfor(int l=1;l<=n;l++)//\u94a6\u5b9a\u5de6\u7aef\u70b9\u4ea7\u751f\u8d21\u732e \n\t{\n\t\tif(v[l].x>0)break;\n\t\twhile(abs(v[r+1].x)<=abs(v[l].x)&&squ(v[r+1].x-v[l].x)<=mid&&r+1<=n)r++;\n\t\twhile(abs(v[r].x)>abs(v[l].x))r--;\n//\t\tprintf(\"l=%d r=%d\\n\");\n\t\tlong long X=max(squ(v[l].x),squ(v[r].x));\n\t\tif(squ(v[l].x-v[r].x)>mid||X>mid)\n\t\t\tcontinue;\n\t\tif(l==1&&r==n)\n\t\t\treturn 1;\n\t\tif(l==1&&r!=n)\n\t\t\tif(X+max(squ(r_max[r+1]),squ(r_min[r+1]))<=mid&&squ(r_max[r+1]-r_min[r+1])<=mid)\n\t\t\t\treturn 1;\n\t\tif(l!=1&&r==n)\n\t\t\tif(X+max(squ(l_max[l-1]),squ(l_min[l-1]))<=mid&&squ(l_max[l-1]-l_min[l-1])<=mid)\n\t\t\t\treturn 1;\n\t\tif(l!=1&&r!=n)\n\t\t{\n\t\t\tlong long low=min(l_min[l-1],r_min[r+1]);\n\t\t\tlong long high=max(l_max[l-1],r_max[r+1]);\n\t\t\tif(X+max(squ(low),squ(high))<=mid&&squ(low-high)<=mid)\n\t\t\t\treturn 1;\n\t\t}\n\t}\n\tint l=n;\n\tfor(int r=n;r>=1;r--)\n\t{\n\t\tif(v[r].x<0)break;\n\t\twhile(abs(v[l-1].x)<=abs(v[r].x)&&squ(v[r].x-v[l-1].x)<=mid&&l-1>=1)l--;\n\t\twhile(abs(v[l].x)>abs(v[r].x))l++;\n//\t\tprintf(\"l=%d r=%d\\n\",l,r);\n\t\tlong long X=max(squ(v[l].x),squ(v[r].x));\n\t\tif(squ(v[l].x-v[r].x)>mid||X>mid)\n\t\t\tcontinue;\n\t\tif(l==1&&r==n)\n\t\t\treturn 1;\n\t\tif(l==1&&r!=n)\n\t\t\tif(X+max(squ(r_max[r+1]),squ(r_min[r+1]))<=mid&&squ(r_max[r+1]-r_min[r+1])<=mid)\n\t\t\t\treturn 1;\n\t\tif(l!=1&&r==n)\n\t\t\tif(X+max(squ(l_max[l-1]),squ(l_min[l-1]))<=mid&&squ(l_max[l-1]-l_min[l-1])<=mid)\n\t\t\t\treturn 1;\n\t\tif(l!=1&&r!=n)\n\t\t{\n\t\t\tlong long low=min(l_min[l-1],r_min[r+1]);\n\t\t\tlong long high=max(l_max[l-1],r_max[r+1]);\n\t\t\tif(X+max(squ(low),squ(high))<=mid&&squ(low-high)<=mid)\n\t\t\t\treturn 1;\n\t\t}\n\t}\n\treturn 0;\n}\nint main()\n{\n\tread(n);\n\tif(n==1)return printf(\"0\"),0;\n\tfor(int i=1;i<=n;i++)\n\t\tread(v[i].x,v[i].y);\n\tsort(v+1,v+n+1,[](node a,node b){return a.x<b.x;});\n\tlong long ans=squ(v[1].x-v[n].x);\n//\treturn printf(\"%lld\\n\",ans);\n\tl_min[1]=l_max[1]=v[1].y;\n\tfor(int i=2;i<=n;i++)\n\t\tl_min[i]=min(l_min[i-1],v[i].y),\n\t\tl_max[i]=max(l_max[i-1],v[i].y);\n\tr_min[n]=r_max[n]=v[n].y;\n\tfor(int i=n-1;i>=1;i--)\n\t\tr_min[i]=min(r_min[i+1],v[i].y),\n\t\tr_max[i]=max(r_max[i+1],v[i].y);\n\tans=min(ans,squ(r_max[1]-r_min[1]));\n\tlong long l=0,r=4e16;\n//\treturn printf(\"check 0=%d\\n\",check(0));\n\twhile(l<r)\n\t{\n\t\tlong long mid=((l+r)>>1);\n\t\tif(check(mid))r=mid;\n\t\telse l=mid+1;\n\t}\n\tprintf(\"%lld\\n\",min(l,ans));\n\treturn 0;\n}\n\n```",
        "postTime": 1599787157,
        "uid": 114409,
        "name": "9AC8E2",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF623C \u3010Electric Charges\u3011"
    }
]