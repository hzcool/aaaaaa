[
    {
        "content": "\u9996\u5148\uff0c\u6709\u4e00\u4e2a\u5f88\u663e\u7136\u7684\u7ed3\u8bba\uff1a\u628a\u6240\u6709\u7684\u751f\u547d\u503c\u4e58\u4e8c\u7684\u673a\u4f1a\u90fd\u7ed9\u4e00\u4e2a\u4eba\u662f\u6700\u4f18\u7684\u3002\n\n\u4e0b\u9762\u662f\u8bc1\u660e\uff1a\n\n\u6211\u4eec\u8003\u8651\u5047\u5982\u8fd9\u91cc\u6709\u4e24\u4e2a\u4eba\uff0c\u4ed6\u4eec\u7684\u751f\u547d\u503c\u5206\u522b\u4e3a $h_1,h_2$ \uff0c\u4ed6\u4eec\u7684\u653b\u51fb\u503c\u5747\u5c0f\u4e8e\u4ed6\u4eec\u81ea\u5df1\u7684\u751f\u547d\u503c\u3002\u8fd9\u91cc\u8fd8\u6709 $n$ \u6b21\u751f\u547d\u4e58\u4e8c\u7684\u673a\u4f1a\u548c\u53ef\u4ee5\u89c6\u4e3a\u65e0\u9650\u6b21\u7684\u628a\u751f\u547d\u503c\u8d4b\u4e3a\u653b\u51fb\u503c\u7684\u673a\u4f1a\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5047\u8bbe\u6211\u4eec\u628a $x$ \u6b21\u751f\u547d\u4e58\u4e8c\u7684\u673a\u4f1a\u5206\u7ed9\u7b2c\u4e00\u4e2a\u4eba\uff0c\u90a3\u4e48\u5b83\u4eec\u7684\u6218\u6597\u529b\u4e4b\u548c\u53ef\u4ee5\u8868\u793a\u4e3a \n\n$$f(x)=2^xh_1 + 2^{n-x}h_2$$\n\n\u8ba9\u6211\u4eec\u5047\u8bbe\u5b58\u5728\u4e00\u4e2a $a\\in[1,n]$ \uff0c\u4f7f\u5f97 $f(a)>f(0)$ \u4e14 $f(a)>f(n)$ \uff0c\u90a3\u4e48\u5219\u6709 \n\n$$\n\\begin{aligned}&\n\\begin{cases}\n2^ah_1 + 2^{n-a}h_2 > h_1 +2^nh_2\\\\\n2^ah_1 + 2^{n-a}h_2 > 2^nh_1 + h_2\n\\end{cases}\n\\\\\\\\\n\\to&\n\\begin{cases}\n(2^a-1)h_1 > (2^n-2^{n-a})h_2\\\\\n(2^n-2^a)h_1 < (2^{n-a}-1)h_2\n\\end{cases}\n\\\\\\\\\n\\to&\n\\begin{cases}\n\\dfrac{h1}{h2} > \\dfrac{2^n-2^{n-a}}{2^a-1} = \\dfrac{(2^a-1)\\cdot2^{n-a}}{2^a-1}=2^{n-a}\\\\ \\\\\n\\dfrac{h1}{h2} < \\dfrac{2^{n-a}-1}{2^n-2^a} = \\dfrac{2^{n-a}-1}{(2^{n-a}-1)\\cdot 2^a} = \\dfrac{1}{2^a}\n\\end{cases}\n\\\\\\\\\n\\to&\n\\begin{cases}\n\\dfrac{h1}{h2} > 2^{n-a}\\\\\\\\\n\\dfrac{h1}{h2} < \\dfrac{1}{2^a}\n\\end{cases}\n\\end{aligned}\n$$\n\n\u56e0\u4e3a $2^{n-a} > \\frac{1}{2^a}$ \uff0c\u6240\u4ee5\u4e0d\u53ef\u80fd\u627e\u5230\u4e00\u4e2a $a$ \u6ee1\u8db3 $f(a)>f(0)$ \u4e14 $f(a)>f(n)$ \uff0c\u6240\u4ee5\u5728\u53ea\u6709\u4e24\u4e2a\u4eba\u5e76\u4e14\u4e24\u4e2a\u4eba\u7684\u521d\u59cb\u653b\u51fb\u503c\u90fd\u4f4e\u4e8e\u751f\u547d\u503c\u7684\u60c5\u51b5\u4e0b\uff0c\u628a\u673a\u4f1a\u90fd\u7ed9\u4e00\u4e2a\u4eba\u6700\u4f18\u3002\n\n\u6709\u4e00\u4e2a\u4eba\u7684\u521d\u59cb\u653b\u51fb\u503c $d_i$ \u9ad8\u4e8e\u4ed6\u7684\u521d\u59cb\u751f\u547d\u503c $h_i$ \u7684\u60c5\u51b5\u662f\u5927\u540c\u5c0f\u5f02\u7684\uff0c\u4e8e\u662f\u6211\u4eec\u5f97\u5230\u7ed3\u8bba\uff1a\n\n**\u4e24\u4e2a\u4eba\uff0c\u65e0\u8bba\u4ed6\u4eec\u7684\u751f\u547d\u503c\u548c\u653b\u51fb\u503c\u4e4b\u95f4\u7684\u5173\u7cfb\u662f\u600e\u6837\u7684\uff0c\u628a\u751f\u547d\u4e58\u4e8c\u7ed9\u5176\u4e2d\u4e00\u4e2a\u4eba\u603b\u662f\u4f1a\u66f4\u4f18\u3002**\n\n\u5bf9\u4e8e\u7b2c\u4e00\u6b21\u64cd\u4f5c\u5206\u5e03\u5230\u4e86\u4e09\u4e2a\u6216\u8005\u66f4\u591a\u4eba\u7684\u60c5\u51b5\uff0c\u540c\u6837\u9002\u7528\u672c\u7ed3\u8bba\u3002\u5bf9\u4e8e\u4efb\u610f\u4e24\u4e2a\u88ab\u5206\u5e03\u7684\u4eba\uff0c\u5fc5\u7136\u628a\u4e24\u4e2a\u4eba\u7684\u751f\u547d\u503c\u4e58\u4e8c\u673a\u4f1a\u653e\u5230\u67d0\u4e00\u4e2a\u4eba\u8eab\u4e0a\u4f1a\u6bd4\u8fd9\u4e2a\u66f4\u4f18\uff0c\u4e8e\u662f\u6ca1\u6709\u4e00\u4e2a\u5206\u5e03\u5230\u4e86\u4e09\u4e2a\u6216\u4e09\u4e2a\u4ee5\u4e0a\u7684\u4eba\u7684\u65b9\u6848\u662f\u6700\u4f18\u7684\u3002\n\n\u4e8e\u662f\u6211\u4eec\u6269\u5c55\u4e86\u7ed3\u8bba\uff1a\n\n**\u5728\u591a\u4e2a\u4eba\u4e2d\uff0c\u65e0\u8bba\u4ed6\u4eec\u7684\u751f\u547d\u503c\u548c\u653b\u51fb\u503c\u4e4b\u95f4\u7684\u5173\u7cfb\u662f\u600e\u6837\u7684\uff0c\u628a\u751f\u547d\u4e58\u4e8c\u7ed9\u5176\u4e2d\u4e00\u4e2a\u4eba\u603b\u662f\u4f1a\u66f4\u4f18\u3002**\n\n\u8d2a\u5fc3\u8bc1\u660e\u5b8c\u6210\u4e4b\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u7b80\u5355\u7684\u65b9\u6cd5\u6765\u628a\u7b54\u6848\u6c42\u51fa\u6765\u5566\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<string>\n#include<cstdio>\n#include<algorithm>\n#define int long long\nusing namespace std;\nconst int N=1e6;\n#define ll long long\n#define PII pair<int,int>\nPII s[N];\nint delta[N];\nint n,a,b;\nsigned main(){\n    cin>>n>>a>>b;\n    int sum=0;\n    for(int i=1;i<=n;i++)\n        cin>>s[i].first>>s[i].second,sum+=s[i].second;\n    if(b==0){\n        cout<<sum<<endl;\n        return 0;\n    }\n    sort(s+1,s+1+n,[](PII a,PII b){\n        return a.first-a.second>b.first-b.second;\n    });\n    int cont=0;\n    int lst=0;\n    for(int now=1;now<=min(b,n);now++){\n        if(s[now].first>s[now].second){\n            cont+=s[now].first-s[now].second;\n            lst=now;\n        }else break;\n    }\n    for(int i=1;i<=n;i++)\n        if(i<=lst)\n            delta[i]=cont-(s[i].first-s[i].second);\n        else delta[i]=(lst==b)?(cont-(s[lst].first-s[lst].second)):cont;\n    int ans=0;\n    for(int i=1;i<=n;i++)\n        delta[i]=delta[i]+(1ll<<a)*s[i].first-s[i].second,ans=max(ans,delta[i]);\n    cout<<max(ans+sum,sum)<<endl;\n}\n```",
        "postTime": 1630574233,
        "uid": 82284,
        "name": "Echidna",
        "ccfLevel": 7,
        "title": "CF976E \u9898\u89e3"
    },
    {
        "content": "~~\u8fd9\u9898\u7adf\u7136\u6709 $2100$\uff01~~\n\n- \u9898\u610f\n\n\u7ed9\u5b9a $n$ \u53ea\u7cbe\u7075\uff0c\u5305\u542b\u4e24\u4e2a\u53c2\u6570 $hp$ \u548c $d$\u3002\u80fd\u5bf9\u5176\u8fdb\u884c\u4e24\u79cd\u64cd\u4f5c\uff1a\n\n1. $hp \\leftarrow hp \\times 2$\uff0c\u53ef\u4ee5\u8fdb\u884c $a$ \u6b21\u3002\n2. $d \\leftarrow hp$\uff0c\u53ef\u4ee5\u8fdb\u884c $b$ \u6b21\u3002\n\n\u6c42 $\\sum\\limits_{i=1}^n d_i$ \u7684\u6700\u5927\u503c\u3002\n\n- \u5206\u6790\n\n\u867d\u7136\u663e\u7136\u53ef\u4ee5\u770b\u51fa\u4e00\u64cd\u4f5c\u5168\u7528\u5728\u4e00\u4e2a\u7cbe\u7075\u8eab\u4e0a\u6700\u4f18\uff0c\u4f46\u8fd8\u662f\u8bc1\u4e00\u4e0b\uff1a\n\n\u4ee4 $hp^\\prime_{i,x} = hp_i \\times 2^x$\uff0c\u4e0d\u59a8\u5047\u8bbe $hp^\\prime_{i,x} \\ge hp^\\prime_{j,y}$ \u5219 $hp^\\prime_{i,x} + hp^\\prime_{j,y} \\le hp^\\prime_{i,x+1} + hp^\\prime_{j,y-1}$\uff0c\u79fb\u9879\u5373\u53ef\u3002\n\n\u8003\u8651\u6bcf\u6b21\u4f7f\u7528\u4e8c\u64cd\u4f5c\u80fd\u4f7f\u7b54\u6848\u7684\u8d21\u732e\u589e\u52a0 $hp-d$ \u6240\u4ee5\u53ef\u4ee5\u6309\u5176\u4e3a\u5173\u952e\u5b57\u964d\u5e8f\u6392\u5e8f\uff0c\u53d6\u524d $b$ \u4e2a\u3002\n\n\u8ba9\u540e\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4e66\u8003\u8651\u5982\u679c\u5c06\u5176 $hp \\leftarrow hp\\times2^a$ \u4e4b\u540e\u7684\u7b54\u6848\uff0c\u6ce8\u610f\u5bf9\u4e8e\u540e $n-b$ \u4e2a\u6570\uff0c\u8981\u4ece\u524d\u9762\u51cf\u6389\u7b2c $b$ \u4e2a\u6570\u7684\u8d21\u732e\u624d\u80fd\u591a\u51fa\u4e00\u4e2a\u4e8c\u64cd\u4f5c\u3002\n\n- code\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\n#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,avx2\")\nusing namespace std;\n\nnamespace IO{\n\tchar ibuf[(1 << 20) + 1], *iS, *iT;\n\t#if ONLINE_JUDGE\n\t#define gh() (iS == iT ? iT = (iS = ibuf) + fread(ibuf, 1, (1 << 20) + 1, stdin), (iS == iT ? EOF : *iS++) : *iS++)\n\t#else\n\t#define gh() getchar()\n\t#endif\n\t#define reg register\n\tinline long long read () {\n\t\treg char ch = gh();\n\t\treg long long x = 0;\n\t\treg char t = 0;\n\t\twhile (ch < '0' || ch > '9') t |= ch == '-', ch = gh();\n\t\twhile (ch >= '0' && ch <= '9') x = (x << 1) + (x << 3) + (ch ^ 48), ch = gh();\n\t\treturn t ? -x : x;\n\t}\n\tinline void write(long long x) {\n\t\tif (x < 0) {\n\t\t\tx = ~(x - 1);\n\t\t\tputchar('-');\n\t\t}\n\t\tif (x > 9)\n\t\t\twrite(x / 10);\n\t\tputchar(x % 10 + '0');\n\t}\n}\n\nusing IO::read;\nusing IO::write;\n\nconst int maxn(2e5 + 500);\nint n, a, b, ans;\n\nstruct Node {\n\tint hp, d;\n\tinline int mx () {\n\t\treturn max(hp, d);\n\t}\n\tinline bool operator < (const Node &rhs) const {\n\t\treturn hp - d > rhs.hp - rhs.d;\n\t}\n} q[maxn];\n\nsigned main () {\n\tn = read(), a = read(), b = min(read(), n);\n\tfor (int i = 1; i <= n; i++) q[i] = {read(), read()};\n\tsort(q + 1, q + n + 1);\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (i <= b) ans += q[i].mx();\n\t\telse ans += q[i].d;\n\t}\n\tif (!b) return write(ans), 0;\n\tconst int x = (1 << a), sum = q[b].d - q[b].mx(), tmp = ans;\n\tfor (int i = 1; i <= n; i++) {\n\t\tif (i <= b) {\n\t\t\tint res = tmp - q[i].mx() + q[i].hp * x;\n\t\t\tans = max(ans, res);\n\t\t} else {\n\t\t\tint res = tmp - q[i].d + q[i].hp * x + sum;\n\t\t\tans = max(ans, res);\n\t\t}\n\t}\n\twrite(ans);\n}\n```",
        "postTime": 1666573188,
        "uid": 317495,
        "name": "JWRuixi",
        "ccfLevel": 7,
        "title": "Solution CF976E"
    },
    {
        "content": "\u663e\u7136\u7684\u8d2a\u5fc3\u7ed3\u8bba\uff1a\u5982\u679c\u8981\u4e58\u7684\u8bdd\uff0c\u90a3\u4e48\u4e58\u5230\u4e00\u4e2a\u6570\u4e0a\u662f\u6700\u597d\u7684\u3002\n\n\u7528\u6570\u5b66\u65b9\u5f0f\u63a8\u5f0f\u5b50\u80af\u5b9a\u80fd\u51fa\uff0c\u4f46\u662f\u8fd9\u91cc\u7ed9\u4e2a\u53e3\u80e1\u8bc1\u660e\uff1a\n\n\u5047\u8bbe\u4f60\u73b0\u5728\u679a\u4e3e\u4e86\u4e58\u4e24\u4e2a\u6570\uff0c\u90a3\u4e48\u4f60\u603b\u5f97\u5148\u5c06\u8fd9\u4e2a\u4e24\u4e2a\u6570\u4e58\u8fc7\u4ed6\u7684 $ dmg $ \u3002\u6240\u4ee5\u73b0\u5728\u518d\u4e58\u7684\u8bdd\uff0c\u4f60\u4f1a\u53d1\u73b0\uff0c\u59cb\u7ec8\u4e58\u90a3\u4e2a $ hp $ \u5927\u7684\u4e00\u5b9a\u597d\uff0c\u90a3\u4e48\u5bf9\u4e8e\u53e6\u4e00\u4e2a\u6570\uff0c\u6211\u4eec\u8fd8\u5c06\u4ed6\u4e58\u8fc7 $ dmg $ \u5e72\u4ec0\u4e48?\n\n\u6240\u4ee5\u679a\u4e3e\u4e58\u54ea\u4e2a\u6570\uff0c\u6ce8\u610f\u4e00\u4e9b\u8fb9\u754c\u60c5\u51b5\u5c31\u597d\u4e86\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int maxn=2e5+10;\nint sum,n,a,b,maxx,pw=1,trm=0;\nstruct wwh\n{\n\tint hp,dp,id;\n\tbool operator < (wwh r)\n\t{return hp-dp>r.hp-r.dp;}\n}w[maxn];\nsigned main()\n{\n\tscanf(\"%lld%lld%lld\",&n,&a,&b);\n\tfor(int i=1;i<=a;i++)pw*=2;\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%lld%lld\",&w[i].hp,&w[i].dp);\n\tsort(w+1,w+1+n);\n\tfor(int i=1;i<=n;i++)\n\t\tif(w[i].hp-w[i].dp>0&&i<=b)\n\t\t{ \n\t\t\tsum+=w[i].hp;\n\t\t\tif(i==b)trm=-w[i].hp+w[i].dp;\n\t\t} \n\t\telse \n\t\t\tsum+=w[i].dp;\n\tmaxx=sum;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint thp=w[i].hp*pw;\n\t\tif(w[i].hp-w[i].dp>0&&i<=b)maxx=max(sum-w[i].hp+thp,maxx);\n\t\telse if(b)maxx=max(maxx,sum-w[i].dp+thp+trm);//\u5982\u679c\u524d\u9762\u628a\u6b21\u6570\u7528\u5b8c\u4e86\uff0c\u90a3\u4e48\u4f60\u5c31\u5f97\u727a\u7272\u4e00\u4e2a\n\t}\n\tprintf(\"%lld\\n\",maxx);\n}\n```\n",
        "postTime": 1666184779,
        "uid": 343060,
        "name": "kkio",
        "ccfLevel": 7,
        "title": "CF976E\u9898\u89e3"
    },
    {
        "content": "a\u64cd\u4f5c\u663e\u7136\u52a0\u5230\u4e00\u4e2a\u4eba\u8eab\u4e0a\u6700\u4f18\u3002 \u679a\u4e3ea\u64cd\u4f5c\n\nb\u64cd\u4f5c\u663e\u800c\u6613\u89c1\uff0c\u6539\u53d8\u91cf\u8d8a\u5927\u8d8a\u4f18\n\n\u7ec6\u8282\u6ce8\u610f\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\nconst int N=2e5+5;\nstruct node{\n\tll x,y;\n}A[N];\nint n,a,b;\nll sum;\ninline void init(){\n\tscanf(\"%d%d%d\",&n,&a,&b);\n\tfor (int i=1;i<=n;i++) {\n\t\tscanf(\"%I64d%I64d\",&A[i].x,&A[i].y);\n\t}\n}\ninline bool cmp(node A,node B){\n\treturn A.x-A.y>B.x-B.y;\n}\ninline void solve(){\n\tsort(A+1,A+1+n,cmp);\n\tfor (int i=1;i<=b;i++) sum+=max(A[i].x,A[i].y);\n\tfor (int i=b+1;i<=n;i++) sum+=A[i].y;\n\tll ans=sum;\n\tfor (int i=1;i<=b;i++) ans=max(ans,sum-max(A[i].x,A[i].y)+(A[i].x<<a));\n\tsum=sum-max(A[b].x,A[b].y)+A[b].y;\n\tfor (int i=b+1;i<=n&&b;i++) ans=max(ans,sum-A[i].y+(A[i].x<<a));\n\tprintf(\"%I64d\\n\",ans); \n}\nint main(){\n\tinit();\n\tsolve();\n\treturn 0;\n}\n```",
        "postTime": 1534642701,
        "uid": 34444,
        "name": "\u5927\u83dc\u9e21fks",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF976E \u3010Well played!\u3011"
    }
]