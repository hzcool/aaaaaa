[
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n\u6709 $n\\times k$ \u5ea7\u57ce\u5e02\uff0c\u6392\u5217\u6210\u4e00\u4e2a\u73af\u5f62 $1-2-...-n\\times k-1$ \uff0c\u6309\u987a\u5e8f\u7f16\u53f7\u4e3a $1,2,...,n\\times k$ \uff0c\u5176\u4e2d\u7b2c $1,k+1,2\\times k+1,...,(n-1)\\times k+1$ \u5ea7\u57ce\u5e02\u4e2d\u6709\u5feb\u9910\u5e97\u3002\n\n\u4e00\u4e2a\u4eba\u5728\u67d0\u5ea7\u57ce\u5e02\u4e2d\uff0c\u6bcf\u6b21\u884c\u8d70\u4ed6\u4f1a\u4ece\u4e00\u5ea7\u57ce\u5e02\u51fa\u53d1\uff0c\u5411\u56fa\u5b9a\u65b9\u5411\u7ecf\u8fc7 $l$ \u5ea7\u57ce\u5e02\uff08\u65b9\u5411\u548c $l$ \u4e8b\u5148\u4e0d\u77e5\u9053\uff09\uff0c\u4f60\u53ea\u77e5\u9053\u51fa\u53d1\u57ce\u5e02\u5230\u6700\u8fd1\u5feb\u9910\u5e97\u7684\u8ddd\u79bb $a$ \u548c\u7b2c\u4e00\u6b21\u884c\u8d70\u5230\u8fbe\u7684\u57ce\u5e02\u5230\u6700\u8fd1\u5feb\u9910\u5e97\u7684\u8ddd\u79bb $b$ \u3002\n\n\u4f60\u9700\u8981\u5728\u6240\u6709\u53ef\u80fd\u7684\u60c5\u51b5\u4e2d\uff0c\u627e\u5230\u7b2c\u4e00\u6b21\u8d70\u56de\u51fa\u53d1\u57ce\u5e02\u7684\u6700\u5c11\u884c\u8d70\u6b21\u6570\u548c\u6700\u591a\u884c\u8d70\u6b21\u6570\u3002\n\n$1\\le n,k\\le 100000,0\\le a,b\\le \\frac k 2$\n\n## \u89e3\u9898\u601d\u8def\n\n\u6211\u4eec\u5c06\u7f16\u53f7 $-1$ \u6539\u4e3a $0,1,...,n\\times k-1$ \uff0c\u5219\u73af\u5f62\u4e3a $0-1-...-n\\times k-1-0$ \uff0c\u5176\u4e2d\u7f16\u53f7\u4e3a $0,k,2\\times k,...,(n-1)\\times k$ \u7684\u57ce\u5e02\u4e2d\u6709\u5feb\u9910\u5e97\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u57ce\u5e02\u7f16\u53f7\u4e3a $bk+t$ \u65f6\uff0c $b$ \u7684\u53d6\u503c\u5bf9\u9898\u76ee\u4e2d\u7ed9\u51fa\u7684\u4fe1\u606f\u6ca1\u6709\u4f5c\u7528\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u59a8\u8bbe $b=0$ \u3002\n\n\u8f6c\u6362\u9898\u76ee\u4e2d\u7684\u6761\u4ef6\uff0c\u5f97\n\n$city\\equiv \\pm a~(mod\n~k)$\n\n$city\\pm l\\equiv \\pm b~(mod\n~k)$\n\n$l\\le n\\times k$\n\n\u7531\u4e8e $city$ \u7684\u503c\u4e0d\u662f\u6211\u4eec\u5173\u5fc3\u7684\u503c\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u8003\u5bdf $l$ \u7684\u503c\uff0c\u53d1\u73b0 $l$ \u7684\u53d6\u503c\u4e3a\uff1a\n\n$l\\equiv \\pm a\\pm b~(mod~k)$ \u4e14 $l\\le n\\times k$\n\n$l$ \u5728 $mod~k$ \u610f\u4e49\u4e0b\u53ea\u6709 $4$ \u79cd\u53d6\u503c\uff0c\u7531\u4e8e $l\\le n\\times k$ \u6240\u4ee5\u4e00\u5171\u53ea\u6709 $4\\times n$ \u79cd\u53d6\u503c\uff0c\u679a\u4e3e\u5373\u53ef\u3002\n\n\u73b0\u5728\u7684\u95ee\u9898\u662f\uff0c\u77e5\u9053 $l$ \uff0c\u627e\u5230\u7b2c\u4e00\u6b21\u8d70\u56de\u51fa\u53d1\u57ce\u5e02\u7684\u884c\u8d70\u6b21\u6570\u3002\n\n\u8bbe $\\frac {n\\times k} l=\\frac p q(\\gcd(p,q)=1)$ \uff0c\u5219\u7b2c\u4e00\u6b21\u8d70\u56de\u51fa\u53d1\u57ce\u5e02\u7684\u884c\u8d70\u6b21\u6570\u4e3a $p=\\frac{n\\times k}{\\gcd(l,n\\times k)}$ \u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log_2 (n\\times k))$ \u3002\n\n## \u4ee3\u7801\u5c55\u793a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\nconst ll inf=10000000010ll;\nll n,k,a,b,l,minn=inf,maxx=-inf;\nll gcd(ll x,ll y){return (x%y)?gcd(y,x%y):y;}\nint main()\n{\n\tscanf(\"%lld%lld%lld%lld\",&n,&k,&a,&b);\n\tfor(l=(a+b)%k;l<=n*k;l+=k)if(l)minn=min(minn,n*k/gcd(l,n*k)),maxx=max(maxx,n*k/gcd(l,n*k));\n\tfor(l=(a-b+k)%k;l<=n*k;l+=k)if(l)minn=min(minn,n*k/gcd(l,n*k)),maxx=max(maxx,n*k/gcd(l,n*k));\n\tfor(l=(-a+b+k)%k;l<=n*k;l+=k)if(l)minn=min(minn,n*k/gcd(l,n*k)),maxx=max(maxx,n*k/gcd(l,n*k));\n\tfor(l=(-a-b+k+k)%k;l<=n*k;l+=k)if(l)minn=min(minn,n*k/gcd(l,n*k)),maxx=max(maxx,n*k/gcd(l,n*k));\n\tprintf(\"%lld %lld\\n\",minn,maxx);\n\treturn 0;\n}\n```",
        "postTime": 1554389208,
        "uid": 43486,
        "name": "hsfzLZH1",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1142A \u3010The Beatles\u3011"
    },
    {
        "content": "\u5982\u679c\u56fe\u88c2\u4e86\u53ef\u4ee5\u770b[\u8fd9\u91cc](https://www.cnblogs.com/Tenshi/p/15425741.html)\n\n## \u5206\u6790\n\n\u5206\u7c7b\u8ba8\u8bba\u3002\n\n\u6211\u4eec\u8bb0\u51fa\u53d1\u70b9\u4e3a $s$\uff0c\u8d70\u4e00\u6b65\u540e\uff08\u8ddd\u79bb\u4e3a $L$\uff09\u5230\u8fbe\u7684\u70b9\u4e3a $t$\u3002\n\n\u6211\u4eec\u6839\u636e $s,t$ \u7684\u4f4d\u7f6e\u5206\u6210\u56db\u79cd\uff08$2\\times2$\uff09\u60c5\u51b5\uff1a\n\n![](https://img2020.cnblogs.com/blog/2185228/202110/2185228-20211019172915373-1122739308.png)\n\n+ $s,t$ \u5206\u522b\u5728 \u2460\uff0c\u2460\uff0c\u6b64\u65f6 $L = b-a+ik$\u3002\n\n+ $s,t$ \u5206\u522b\u5728 \u2460\uff0c\u2461\uff0c\u6b64\u65f6 $L = (k-b)-a+ik$\u3002\n\n+ $s,t$ \u5206\u522b\u5728 \u2461\uff0c\u2460\uff0c\u6b64\u65f6 $L = b-(k-a)+ik$\u3002\n\n+ $s,t$ \u5206\u522b\u5728 \u2461\uff0c\u2461\uff0c\u6b64\u65f6 $L = (k-b)-(k-a)+ik$\u3002\n\n\u6c42\u51fa $L$ \u540e\uff0c\u6211\u4eec\u53ea\u9700\u6c42\u51fa\u5f53\u524d $L$ \u6240\u5bf9\u5e94\u7684\u5708\u6570 $res$\uff0c\u7528 $res$ \u66f4\u65b0 $x,y$ \u5373\u53ef\u3002\n\n\u4e5f\u5c31\u662f\u5bf9\u4e8e $uL = vnk$\uff0c\u6211\u4eec\u8981\u627e\u5230\u6700\u5c0f\u7684 $u$\uff0c\u8fd9\u4e2a $u$ \u4fbf\u662f $res$\u3002\n\n\u8fd9\u662f\u7ecf\u5178\u7684 $AX = BY$ \u5f62\u5f0f\u7684\u5f0f\u5b50\uff0c\u6709 $X = \\frac{B}{gcd(A, B)}$\uff0c\u6545 $res = \\frac{nk}{gcd(L, nk)}$\n\n```cpp\n#pragma GCC optimize(\"O3\")\n#include<bits/stdc++.h>\nusing namespace std;\n\n#define endl '\\n'\n#define debug(x) cerr << #x << \": \" << x << endl\n#define pb push_back\n#define eb emplace_back\n#define set0(a) memset(a,0,sizeof(a))\n#define rep(i,a,b) for(int i=(a);i<=(b);i++)\n\ninline void read(int &x) {\n    int s=0;x=1;\n    char ch=getchar();\n    while(ch<'0'||ch>'9') {if(ch=='-')x=-1;ch=getchar();}\n    while(ch>='0'&&ch<='9') s=(s<<3)+(s<<1)+ch-'0',ch=getchar();\n    x*=s;\n}\n\n#define int long long\n\nint x, y;\nint n, k, a, b;\n\nint gcd(int a, int b){\n\treturn b? gcd(b, a%b): a;\n}\n\nvoid get(int L){\n\tif(L<0) L+=n*k;\n\tint res=n*k/gcd(L, n*k);\n\tx=max(x, res), y=min(y, res);\n}\n\nsigned main(){\n\tcin>>n>>k>>a>>b;\n\tx=0, y=ll_INF;\n\trep(i,0,n-1){\n\t\tint L;\n\t\tL=b-a+i*k;\n\t\tget(L);\n\t\tL=(k-b)-a+i*k;\n\t\tget(L);\n\t\tL=b-(k-a)+i*k;\n\t\tget(L);\n\t\tL=(k-b)-(k-a)+i*k;\n\t\tget(L);\n\t} \t\n\t\n\tcout<<y<<' '<<x<<endl;\n\t\n\treturn 0;\n}\n```\n\n",
        "postTime": 1634636467,
        "uid": 138960,
        "name": "Tenshi",
        "ccfLevel": 0,
        "title": "CF1142A \u5206\u7c7b\u8ba8\u8bba"
    },
    {
        "content": "\u5199\u8fd9\u9053\u9898\u65f6\u5f80 exgcd \u65b9\u5411\u63a8\u4e86\u597d\u4e45...\u7ed3\u679c\u5b9e\u9645\u4e0a\u548c exgcd \u6ca1\u5565\u5173\u7cfb\uff08\u6570\u8bba\u5feb\u5fd8\u5149\u4e86 \\kk\uff09\n\n## \u9898\u610f\n\n\u6709 $n\\cdot k$ \u4e2a\u57ce\u5e02\u56f4\u6210\u4e00\u4e2a\u73af\uff0c\u76f8\u90bb\u57ce\u5e02\u95f4\u7684\u8def\u7a0b\uff08\u8fb9\u6743\uff09\u4e3a $1$ km\n\n\u5728\u7b2c $1,1+k,1+2k,\\cdots, 1+(n-1)k$ \u4e2a\u57ce\u5e02\u5904\u6709\u5173\u952e\u70b9\n\n\u4e00\u5f00\u59cb\u4ece\u7f16\u53f7\u4e3a $s$ \u7684\u57ce\u5e02\u51fa\u53d1\uff0c\u6bcf\u6b21\u5411\u53f3\u8d70 $l$ km\uff0c\u76f4\u5230\u91cd\u65b0\u8d70\u56de $s$\n\n\u73b0\u4e0d\u7ed9\u51fa $s, l$\uff0c\u800c\u662f\u7ed9\u51fa $s$ \u548c $s+l$ \u5206\u522b\u8ddd\u79bb\u6700\u8fd1\u7684\u5173\u952e\u70b9\u7684\u8ddd\u79bb $a, b$\n\n\u95ee\u6700\u5c11\u3001\u6700\u591a\u8d70\u51e0\u6b21\u624d\u80fd\u56de\u5230 $s$\n\n\uff08luogu \u7ffb\u8bd1\u91cc\u90a3\u4e2a $l\\leq n\\cdot k$ \u9898\u9762\u4e2d\u8c8c\u4f3c\u5e76\u6ca1\u7ed9\u51fa\uff09\n\n## \u89e3\u6790\n\n\u663e\u7136 $a, b$ \u53ea\u53ef\u80fd\u6709\u56db\u79cd\u60c5\u51b5\uff1a\n\n![ab](https://cdn.luogu.com.cn/upload/image_hosting/vrsvkwt6.png)\n\n\uff08\u6ce8\u610f `\u60c5\u51b5\u4e00` $a, b$ \u4e4b\u524d\u53ef\u80fd\u53ea\u9694**\u4e00\u4e2a**\u5173\u952e\u70b9\uff1b`\u60c5\u51b5\u4e8c`\u3001`\u60c5\u51b5\u4e09`\u3001`\u60c5\u51b5\u56db` $a, b$ \u4e4b\u95f4\u4e5f\u53ef\u80fd**\u4e0d\u9694**\u5173\u952e\u70b9\uff09\n\n\u6211\u4eec\u5148\u53ea\u8003\u8651 `\u60c5\u51b5\u4e00`\uff08\u5176\u5b83\u60c5\u51b5\u662f\u5dee\u4e0d\u591a\u7684\uff09\n\n\u663e\u7136\u53ea\u9700\u627e\u5230\u6700\u5c0f\u7684\uff08\u6b63\u6574\u6570\uff09$x$ \u6ee1\u8db3 $x(a+tk+b)\\equiv 0\\pmod {nk}$\uff08\u5176\u4e2d $(a+tk+b)$ \u5c31\u662f $l$\uff09\n\n\u6211\u4eec\u628a\u8fd9\u4e2a\u5f0f\u5b50\u5199\u4e3a $x(a+tk+b)=y(nk)$\uff0c\u5176\u4e2d $y$ \u662f\u4e00\u4e2a\u6b63\u6574\u6570\n\n\u5148\u4e0d\u7ba1 $t$\u3002\u56fa\u5b9a $t$\uff08$l$\uff09\uff0c\u8003\u8651\u600e\u4e48\u6c42\u51fa\u6700\u5c0f\u7684 $x$ \u503c\n\n\u9996\u5148\u5e94\u5f53\u6709 $\\gcd(x, y)=1$\uff0c\u5426\u5219\u6211\u4eec\u53ef\u4ee5\u5c06 $x, y$ \u5747\u9664 gcd\uff0c\u4ece\u800c\u5f97\u5230\u66f4\u5c0f\u7684 $y$\n\n\u518d\u89c2\u5bdf\u5f0f\u5b50\uff0c\u53ef\u4ee5\u53d1\u73b0\u5176\u5b9e\u5c31\u6709 $x(a+tk+b)=y(nk)=\\text{lcm}(x(a+tk+b), y(nk))$\n\n\u8bc1\u660e\u53ef\u4ee5\u8003\u8651 lcm \u7684\u5b9a\u4e49\uff08\u5176\u5b9e\u662f\u6211\u4e0d\u592a\u4f1a\u89e3\u91ca \\kk\uff09\u3002\u4e14\u6b64\u65f6 $x, y$ **\u90fd\u662f**\u6ee1\u8db3\u7b49\u5f0f\u6700\u5c0f\u7684\u6b63\u6574\u6570 $x, y$\n\n\u63a5\u7740\u53ef\u4ee5\u53d1\u73b0\u5927\u4e8e $nk$ \u7684 $(a+tk+b)$ \u6ca1\u6709\u610f\u4e49\uff1b\u56e0\u4e3a\u6b64\u65f6\u7684 $l$ \u5b9e\u9645\u4e0a\u5c31\u662f $(a+tk+b)\\mod {nk}=((a+(t-n)k+b)+nk)\\mod {nk}$\uff0c\u800c\u8fd9\u4e2a\u503c\u4e4b\u524d\u5df2\u7ecf\u904d\u5386\u8fc7\u4e86\n\n\u4e8e\u662f\u53ea\u9700\u679a\u4e3e $t$\uff08$l$\uff09\uff0c\u904d\u5386\u6240\u6709\u60c5\u51b5\u5373\u53ef\u3002\u603b\u590d\u6742\u5ea6\u7ea6 $O(n\\log n)$\n\n## CODE\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#define ll long long\nusing std::min;\nusing std::max;\n\nll gcd(ll a, ll b){\n//\tif(a == 0 || b == 0)\n//\t\treturn 1;\n\twhile(b ^=a ^=b ^=a %=b) ;\n\treturn a;\n}\n\nint main(){\n\tll n, k, a, b;\n\tscanf(\"%lld%lld%lld%lld\", &n, &k, &a, &b);\n\tll mn =0x7f7f7f7f7f7f7f7f, mx =-0x7f7f7f7f7f7f7f7f;\n\tll start_l[4];\n\tstart_l[0] =a+b, start_l[1] =(k-b)-a;/*\u60c5\u51b5\u4e00\uff0c\u60c5\u51b5\u4e8c*/\n\tstart_l[2] =(-a)+b, start_l[3] =a+(-b);/*\u60c5\u51b5\u4e09\uff0c\u60c5\u51b5\u56db*/\n\tfor(int i =0; i < 4; ++i)\n\t\tfor(ll l =start_l[i]; l <= n*k; l +=k){/*\u56e0\u4e3a\u6bcf\u6b21\u52a0 k\uff0cl \u8d85\u8fc7 n*k \u540e\u53d6\u503c\u4e00\u5b9a\u5faa\u73af*/\n\t\t\tif(l <= 0)\n\t\t\t\tcontinue;\n\t\t\t/*xl = y(nk)*/\n\t\t//\tll Lcm =l/gcd(l, n*k)*n*k;/*\u70b8 ll*/\n\t\t//\tll x =Lcm/l;\n\t\t\tll x =n*k/gcd(l, n*k);\n\t\t\tmn =min(mn, x);\n\t\t\tmx =max(mx, x);\n\t\t}\n\tprintf(\"%lld %lld\", mn, mx);\n}\n```",
        "postTime": 1602764898,
        "uid": 105254,
        "name": "Piwry",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1142A \u3010The Beatles\u3011"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://xiaohuang888.github.io/2019/09/02/%E3%80%8E%E9%A2%98%E8%A7%A3%E3%80%8FCodeforces1142A%20The%20Beatles/)\n\n### Solution\n\n\u6211\u4eec\u6839\u636e\u9898\u76ee\u7684$a, b, k$\u8ba1\u7b97\u51fa$l$\u7684$4$\u79cd\u53ef\u80fd\uff1a\n\n1. $a + b$\n\n2. $k - a + b$\n\n3. $k + a - b$\n\n4. $k - a - b$\n\n\u6bcf\u8d70\u4e00\u6b65\u7684\u7b54\u6848\u5c31\u662f$\\frac{n \\times k}{\\gcd(n \\times k, step)}$\u3002\n\n\u7136\u540e\u679a\u4e3e\u627e\u4e2a\u6700\u5927\u7684\u4e0e\u6700\u5c0f\u7684\u5c31\u53ef\u4ee5\u4e86\u3002\n\n### Code\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n\nusing namespace std;\n\ntypedef long long LL;\nconst LL INF = 1e18;\nLL n, k, a, b, step;\nint main() {\n    scanf(\"%lld%lld%lld%lld\", &n, &k, &a, &b);\n    LL Max = -INF, Min = INF;\n    step = fabs(a + b);//\u7b2c1\u79cd\u60c5\u51b5\n    while (step <= n * k) {//\u679a\u4e3e\u6b65\u6570\n        if (step) {\n            Max = max(Max, n * k / __gcd(n * k, step));\n            Min = min(Min, n * k / __gcd(n * k, step));\n        }\n        step += k;\n    }\n    step = fabs(k - a + b);//\u7b2c2\u79cd\u60c5\u51b5\n    while (step <= n * k) {//\u679a\u4e3e\u6b65\u6570\n        if (step) {\n            Max = max(Max, n * k / __gcd(n * k, step));\n            Min = min(Min, n * k / __gcd(n * k, step));\n        }\n        step += k;\n    }\n    step = fabs(k - b + a);//\u7b2c3\u79cd\u60c5\u51b5\n    while (step <= n * k) {//\u679a\u4e3e\u6b65\u6570\n        if (step) {\n            Max = max(Max, n * k / __gcd(n * k, step));\n            Min = min(Min, n * k / __gcd(n * k, step));\n        }\n        step += k;\n    }\n    step = fabs(k - a - b);//\u7b2c4\u79cd\u60c5\u51b5\n    while (step <= n * k) {//\u679a\u4e3e\u6b65\u6570\n        if (step) {\n            Max = max(Max, n * k / __gcd(n * k, step));\n            Min = min(Min, n * k / __gcd(n * k, step));\n        }\n        step += k;\n    }\n    printf(\"%lld %lld\\n\", Min, Max);\n    return 0;\n}\n```",
        "postTime": 1567430371,
        "uid": 19729,
        "name": "xiaohuang",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 CF1142A \u3010The Beatles\u3011"
    }
]