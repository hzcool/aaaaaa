[
    {
        "content": "\u5b89\u5229\u4e00\u4e0b\u81ea\u5df1\u7684[\u535a\u5ba2](https://wbybl.github.io/)  \n\u5176\u5b9e\u8fd9\u9898\u7684F1\uff0cF2\uff0cF3\u6211\u90fd\u662f\u4e00\u4efd\u4ee3\u7801\u8fc7\u5f97\u3002 \n\u603b\u4f53\u601d\u8def\u90fd\u662f\u4e00\u6837\u7684\uff0c\u4e0d\u53d7\u9898\u76ee\u4e2d\u692d\u5706\u3001\u65cb\u8f6c\u7684\u5f71\u54cd  \n\u8fd9\u9898\u96be\u70b9\u5728\u4e8e\u5982\u4f55\u5206\u79bb\u51fa\u592a\u9633\u7684\u5149\u8292\u548c\u4e3b\u4f53\uff0c\u60f3\u4e86\u534a\u5929\u540e\u5728\u7f51\u4e0a\u770b\u5230\u4e00\u4e2a\u795e\u5947\u7684\u601d\u8def\n![\u5f00\u59cb\u662f\u8fd9\u6837\u7684](https://cdn.luogu.com.cn/upload/image_hosting/fe4a498z.png)  \n\u7136\u540e\u6211\u4eec\u5148\u201c\u7f29\u5c0f\u201d\uff0c\u5c31\u662f\u5982\u679c\u4e00\u4e2a\u9ed1\u8272\u65c1\u8fb9\u6709\u767d\u8272\uff0c\u5c31\u628a\u4ed6\u53d8\u6210\u767d\u8272\uff0c\u5f53\u7136\u4e00\u6b21\u53ea\u80fd\u53d8\u4e00\u5c42\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5148\u62ff\u4e00\u4e2a\u6570\u7ec4\u5b58\u4e0b\u6765\uff0c\u7136\u540e\u679a\u4e3e\u4e00\u904d\uff0c\u518d\u653e\u56de\u6570\u7ec4\u91cc\u3002  \n\u5f53\u7136\u4e00\u904d\u7f29\u70b9\u4e0d\u591f\uff0c\u6211\u4eec\u9700\u8981\u8fdb\u884c4\u6b21\u7f29\u5c0f\uff0c\u7136\u540e\u592a\u9633\u5c31\u4f1a\u53d8\u6210\u8fd9\u4e2a\u56fe\u4e2d\u9ec4\u8272\u7684\u90e8\u5206\uff0c\u5f53\u7136\u8981\u5b58\u5728\u4e24\u4e2a\u6570\u7ec4\u91cc\uff0c\u6211\u53ea\u662f\u653e\u5728\u4e00\u8d77\uff0c\u65b9\u4fbf\u5bf9\u6bd4  \n![](https://cdn.luogu.com.cn/upload/image_hosting/ix2whzga.png)  \n\n\u4f46\u662f\u8fd9\u6837\uff0c\u6211\u4eec\u5982\u679c\u9ec4\u8272\u548c\u9ed1\u8272\u76f8\u51cf\uff0c\u5f97\u51fa\u6765\u7684\u5e76\u4e0d\u662f\u5206\u79bb\u597d\u7684\u5149\u8292\uff0c\u800c\u662f\u5149\u8292\u548c\u4e00\u5708\u9ed1\u8272\uff0c\u8fd8\u662f\u65e0\u6cd5\u5224\u65ad\n\n\u6240\u4ee5\u6211\u4eec\u8981\u7528\u7f29\u5c0f\u7684\u9006\u64cd\u4f5c\uff0c\u201c\u5c55\u5f00\u201d\n\n\u5728\u7f29\u70b9\u540e\u7684\u6570\u7ec4\u4e2d\u64cd\u4f5c\uff0c\u5982\u679c\u4e00\u4e2a\u70b9\u5468\u56f4\u6709\u9ec4\u8272\uff0c\u5c31\u628a\u5b83\u53d8\u6210\u9ec4\u8272\uff0c\u8fd9\u6837\u5c55\u5f008\u6b21\uff0c\u5c31\u4f1a\u53d8\u6210\u5de6\u8fb9\u7684\u4e24\u5f20\u56fe\uff0c\u4e0b\u9762\u7684\u662f\u5c55\u5f00\u540e\u7684\uff0c\u4e0a\u9762\u7684\u662f\u539f\u56fe\n![](https://cdn.luogu.com.cn/upload/image_hosting/vkb6ebhi.png)\n\n\u628a\u8fd9\u4e24\u5f20\u56fe\u76f8\u51cf\uff0c\u5c31\u5f97\u5230\u4e86\u53f3\u8fb9\u7684\u56fe\uff0c\u76f8\u51cf\u7684\u539f\u5219\uff1a\u53ea\u8981\u9ed1\u8272\u548c\u9ec4\u8272\u91cd\u5408\uff0c\u5c31\u53d8\u6210\u767d\u8272\uff0c\u8fd9\u6837\u5728\u7ed3\u5408\u539f\u56fe\uff0c\u7528\u51e0\u6b21flood fill\u904d\u5386\u4e00\u4e0b\uff0c\u5c31\u53ef\u4ee5\u89e3\u51b3\u8fd9\u9053\u9898\u4e86\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nbool a[2000][2000],b[2000][2000],c[2000][2000];\nint n,m;\nvoid jian(){//\u7f29\u5c0f\n\tmemcpy(c,b,sizeof(b));\n\tfor(int i=1;i<=n-2;i++){\n\t\tfor(int j=1;j<=m-2;j++){\n\t\t\tif(!b[i+1][j]||!b[i][j+1]||!b[i-1][j]||!b[i][j-1])\n\t\t\tc[i][j]=0; \n\t\t} \n\t}\n\tmemcpy(b,c,sizeof(b));\n}\nvoid jia(){//\u5c55\u5f00\n\tmemcpy(c,b,sizeof(b));\n\tfor(int i=1;i<=n-2;i++){\n\t\tfor(int j=1;j<=m-2;j++){\n\t\t\tif(b[i+1][j]||b[i][j+1]||b[i-1][j]||b[i][j-1]){\n\t\t\t\tc[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\tmemcpy(b,c,sizeof(b));\n}\nbool vis[2000][2000];\nint d[4][2]={{0,1},{1,0},{0,-1},{-1,0}};\nint cnt,ans[20000];\npair<int,int> q1[6000000],q2[6000000];\nint h1,t1,h2,t2;\nbool count(int x,int y){//\u5224\u65ad\u5149\u8292\n\th1=1;\n\tt1=1;\n\tq1[t1++]=make_pair(x,y);\n\ta[x][y]=0;\n\tint cnt=0;\n\twhile(h1<t1){\n\t\tx=q1[h1].first;\n\t\ty=q1[h1].second;\n\t\th1++;\n\t\tfor(int i=0;i<4;i++){\n\t\t\tint tx=x+d[i][0],ty=y+d[i][1];\n\t\t\tif(tx>n||tx<0||ty>m||ty<0)continue;\n\t\t\tif(a[tx][ty]){\n\t\t\t\ta[tx][ty]=0;\n\t\t\t\tcnt++;\n\t\t\t\tq1[t1++]=make_pair(tx,ty);\n\t\t\t}\n\t\t}\n\t}\n\tif(cnt>5)return 1;\n\telse return 0;\n}\nint bfs(int x,int y){//\u4e0e\u4e0a\u9762\u7684count\uff0c\u4e0b\u9762\u7684\u6570\u592a\u9633\uff0c\u4e0a\u9762\u7684\u5224\u65ad\u5149\u8292\n\th2=1;\n\tt2=1;\n\tq2[t2++]=make_pair(x,y);\n\tb[x][y]=0;\n\tint an=0;\n\twhile(h2<t2){\n\t\tx=q2[h2].first;\n\t\ty=q2[h2].second;\n\t\th2++;\n\t\tfor(int i=0;i<4;i++){\n\t\t\tint tx=x+d[i][0],ty=y+d[i][1];\n\t\t\tif(a[tx][ty]){\n\t\t\t\tan+=count(tx,ty);\n\t\t\t}\n\t\t\tif(b[tx][ty]){\n\t\t\t\tb[tx][ty]=0;\n\t\t\t\tq2[t2++]=make_pair(tx,ty);\n\t\t\t}\n\t\t}\n\t} \n\treturn an;\n}\ninline int read()\n{\n    int x=0;\n    char c=getchar();\n    bool flag=0;\n    while(c<'0'||c>'9')\n\t{\n\t\tif(c=='-')\n\t\t\tflag=1;\n\t\tc=getchar();\n\t}\n    while(c>='0'&&c<='9'){\n\t\tx=(x<<3)+(x<<1)+c-'0';\n\t\tc=getchar();\n\t}\n    return flag?-x:x;\n}\nint main(){\n\t//freopen(\"1.in\",\"r\",stdin);\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tint C=read();\n\t\t\ta[i][j]=b[i][j]=C;\n\t\t}\n\t}\n\tn+=2;\n\tm+=2;//\u907f\u514d\u8d8a\u754c\n\tfor(int i=1;i<=4;i++)jian();//\u7f29\u5c0f\n//\tfor(int i=1;i<=n;i++){\n//\t\tfor(int j=1;j<=m;j++)cout<<b[i][j];\n//\t\tcout<<endl;\n//\t}\n\tfor(int i=1;i<=8;i++)jia();//\u5c55\u5f00\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=0;j<m;j++){\n\t\t\tif(b[i][j])a[i][j]=0;//\u76f8\u51cf\uff0c\u5f97\u51fa\u5355\u72ec\u7684\u5149\u8292\n\t\t}\n\t} \n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=0;j<m;j++){\n\t\t\tif(b[i][j]){\n\t\t\t\tans[++cnt]=bfs(i,j);//\u5206\u522b\u904d\u5386\n\t\t\t}\n\t\t}\n\t}\n\tsort(ans+1,ans+cnt+1);//\u6309\u8981\u6c42\u6392\u5e8f\u8f93\u51fa\u7b54\u6848\n\tcout<<cnt<<endl;\n\tfor(int i=1;i<=cnt;i++){\n\t\tcout<<ans[i]<<\" \";\n\t} \n\tcout<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1581471816,
        "uid": 99931,
        "name": "liumuxin",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF316F3 \u3010Suns and Rays\u3011"
    }
]