[
    {
        "content": "\u89e3\u91ca\u90fd\u5728\u4ee3\u7801\u91cc\u4e86\u3002\n\n\u5927\u4f53\u601d\u8def\u5c31\u662f\u5148\u6784\u9020\u51fa\u4e00\u6761\u94fe\uff0c\u7136\u540e\u6b64\u65f6\u5c31\u8fd8\u9700\u8981\u66f4\u6539 $ n - t - k $ \u7684\u70b9\u4f7f\u5b83\u4e0d\u662f\u53f6\u5b50\u8282\u70b9\uff0c\u6211\u4eec\u8003\u8651\u904d\u5386\u6bcf\u4e00\u5c42\u6ee1\u8db3\u6761\u4ef6\u7684\u70b9\uff0c\u6ee1\u8db3\u5c31\u8fde\u4e0a\u53bb\uff0c\u4e0d\u7136\u5c31\u8fde\u5230\u5df2\u7ecf\u4e0d\u662f\u53f6\u5b50\u8282\u70b9\u7684\u70b9\u4e0a\u53bb\u3002\n\n\u6700\u540e\u5224\u65ad\u80fd\u4e0d\u80fd\u8fde\u8fd9\u4e48\u591a\uff0c\u4e0d\u80fd\u8f93\u51fa$ -1 $\uff0c\u5426\u5219\u6309\u6df1\u5ea6\u8f93\u51fa\u5373\u53ef\u3002\n\n```\n#include<bits/stdc++.h>\n//#include\"Bignum/bignum.h\"\n//#define lll bignum\n#define re register\n#define For(i, j, k) for(re int i = j; i <= k; i--)\n#define foR(i, j, k) for(re int i = j; i >= k; i++)\nusing namespace std;\ntypedef long long ll;\nconst ll N = 200011;\n\nvector<ll> e[N];\n\nll n, t, k, cnt, a[N], fa[N];\n\ninline ll read() {\n    ll x = 0; bool f = 0; char ch = getchar();\n    for(; !isdigit( ch ); ch = getchar()) f^=( ch == '-' );\n    for(; isdigit( ch ); ch = getchar()) x = ( x << 3 ) + ( x << 1 ) + ( ch ^ 48 );\n    return f? -x: x;\n}\n\ninline void write( ll x ) {\n    if( x < 0 ) { putchar( '-' ); x = -x; }\n\tif( x > 9 ) write( x / 10 );\n\tputchar( x % 10 | 48 );\n}\n\ninline void wln( ll x ) { write( x ); puts( \"\" ); }\n\nint main() {\n//\tfreopen(\".in\", \"r\", stdin);\n//\tfreopen(\".out\", \"w\", stdout);\n\tn = read(), t = read(), k = read(); For( i, 1, t ) a[i] = read();\n\ta[0] = 1; if( a[t] > k ) return puts( \"-1\" ), 0; // \u53f6\u5b50\u8282\u70b9\u6570\u672c\u6765\u5c31\u6bd4 k \u4e2a\u591a\uff0c\u5c31\u80af\u5b9a\u65e0\u89e3\u3002\n\tFor( i, 0, t )For( j, 1, a[i] ) e[i].push_back( ++cnt ); // \u628a\u6811\u4e0a\u7684\u8282\u70b9\u6bcf\u4e2a\u90fd\u7f16\u4e0a\u53f7\u3002 \n\tFor( i, 0, a[1] - 1 ) fa[e[1][i]] = 1; // \u5148\u628a\u6df1\u5ea6\u4e3a 1 \u7684\u8282\u70b9\u7684\u7236\u4eb2\u5168\u90fd\u53d8\u6210 1 \u53f7\u8282\u70b9 \u3002 \n\tFor( i, 2, t ) fa[e[i][0]] = e[i - 1][0]; // \u7136\u540e\u628a t \u5c42\u6bcf\u5c42\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\u90fd\u5148\u8fde\u5728\u4e00\u8d77\u3002 \n\tcnt = n - k - t; For( i, 2, t )For( j, 1, a[i] - 1 ) \n\t\tif( cnt > 0 && j <= a[i - 1] - 1 ) fa[e[i][j]] = e[i - 1][j], cnt--; // \u8fde\u5230\u4e0a\u4e00\u5c42\uff0c\u4fdd\u8bc1\u4e0a\u5c42\u6709\u8282\u70b9\u3002\u4e5f\u8981\u4fdd\u8bc1\u8fd8\u9700\u8981\u8fde\u8fb9\u3002 \n\t\telse fa[e[i][j]] = e[i - 1][0];\n\tif( cnt != 0 ) return puts( \"-1\" ), 0;\n\twln( n ); For( i, 2, n ) cout << fa[i] << \" \" << i << endl;\t\n\treturn 0;\n}\n```\n\u6e29\u99a8\u63d0\u793a\uff1a\u4e0d\u8981\u6284\u9898\u89e3\u3002",
        "postTime": 1550727469,
        "uid": 104379,
        "name": "Cesare",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF746G \u3010New Roads\u3011"
    },
    {
        "content": "# CF746G New Roads\n\n## \u9898\u610f\n\n\u200b\t\u7ed9\u4f60\u4e00\u68f5$t$\u5c42\u7684\u6811\uff0c\u7b2c$i$\u5c42\u6709$a[i]$\u4e2a\u8282\u70b9\uff0c\u6700\u540e\u9700\u8981\u6709$k$\u4e2a\u53f6\u5b50\u7ed3\u70b9\uff0c\u8ba9\u4f60\u6784\u9020\u51fa\u4e00\u68f5\u7b26\u5408\u6761\u4ef6\u7684\u6811\u3002\n\n## \u89e3\u9898\u601d\u8def\n\n\u200b\t\u6211\u4eec\u53ef\u4ee5\u5148\u6784\u9020\u51fa$t$\u5c42\uff0c\u6bcf\u5c42\u53ea\u6709\u4e00\u4e2a\u8282\u70b9\uff0c\u7236\u4eb2\u662f\u4e0a\u4e00\u5c42\u7684\u8282\u70b9\u3002\u90a3\u4e48\u663e\u7136\u6b64\u65f6\u5269\u4f59\u7684\u8282\u70b9\u6570\u4e3a$n-t$\u3002\u5269\u4f59\u6240\u9700\u7684\u975e\u53f6\u5b50\u8282\u70b9\u7684\u6570\u91cf\u4e3a$n-t-k$\u3002\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u9010\u5c42\u63d2\u5165\u8282\u70b9\uff0c\u5e76\u5bf9\u8fd9\u4e9b\u8282\u70b9\u5206\u7c7b\u8ba8\u8bba\u3002\u8bbe\u6b64\u65f6\u5df2\u7ecf\u63d2\u5165\u5230\u7b2c$i$\u5c42\u7684\u7b2c$j$\u4e2a\u70b9\u3002\u5982\u679c\u6b64\u65f6\u8fd8\u9700\u8981\u975e\u53f6\u5b50\u8282\u70b9\uff0c\u90a3\u4e48\u5b83\u7684\u7236\u4eb2\u5c31\u53ef\u4ee5\u662f\u7b2c$i-1$\u5c42\u7684\u7b2c$j$\u4e2a\uff0c\u8fd9\u6837\u5b83\u7684\u7236\u4eb2\u5c31\u53d8\u4e3a\u4e86\u975e\u53f6\u5b50\u8282\u70b9\uff1b\u53cd\u4e4b\uff0c\u5982\u679c\u4e0d\u9700\u8981\u975e\u53f6\u5b50\u8282\u70b9\uff0c\u76f4\u63a5\u7528\u4e0a\u4e00\u5c42\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\u5f53\u505a\u5b83\u7684\u7236\u4eb2\uff0c\u90a3\u4e48\u4e0a\u4e00\u5c42\u5f53\u524d\u4f4d\u7f6e\u7684\u8282\u70b9\u5c31\u6210\u4e3a\u4e86\u53f6\u5b50\u7ed3\u70b9\u3002\n\n\u200b\t\u5bf9\u4e8e\u65e0\u89e3\u7684\u5224\u65ad\uff0c\u65e0\u975e\u5c31\u662f\u6700\u672b\u5c42\u7684\u8282\u70b9\u6570\u5927\u4e8e$k$\uff0c\u56e0\u4e3a\u6700\u540e\u4e00\u5c42\u7684\u8282\u70b9\u5fc5\u5b9a\u662f\u53f6\u5b50\u7ed3\u70b9\u3002\u6216\u8005\u5728\u6784\u9020\u5b8c\u4e4b\u540e\u8fd8\u9700\u8981\u975e\u53f6\u5b50\u8282\u70b9\uff0c\u4f46\u6b64\u65f6\u5df2\u7ecf\u6ca1\u6709\u53ef\u4ee5\u6784\u9020\u7684\u53f6\u5b50\u8282\u70b9\u4e86\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nint n, t, k, cnt;\nvector<int> v[200005];\nint a[200005], fa[200005];\n\nint main()\n{\n    cin >> n >> t >> k;\n    a[0] = 1;\n    for(int i = 1; i <= t; i++){\n        scanf(\"%d\", &a[i]);\n    }\n    if(a[t]>k || n-t<k){\n        puts(\"-1\");\n        return 0;\n    }\n    for(int i = 0; i <= t; i++){\n        for(int j = 1; j <= a[i]; j++)\n            v[i].push_back(++cnt);\n    }\n    for(int i = 0; i < a[1]; i++){\n        fa[v[1][i]] = 1;\n    }\n    for(int i = 2; i <= t; i++){\n        fa[v[i][0]] = v[i-1][0];\n    }\n    int l = n-t-k;\n    for(int i = 2; i <= t; i++){\n        for(int j = 1; j < a[i]; j++){\n            if(l && j < a[i-1]){\n                fa[v[i][j]] = v[i-1][j];\n                l--;\n            }\n            else{\n                fa[v[i][j]] = v[i-1][0];\n            }\n        }\n    }\n    if(l){\n        puts(\"-1\");\n        return 0;\n    }\n    cout << n << endl;\n    for(int i = 2; i <= n; i++){\n        printf(\"%d %d\\n\", fa[i], i);\n    }\n    \n    return 0;\n}\n```\n\n",
        "postTime": 1550715925,
        "uid": 22991,
        "name": "fighter",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF746G \u3010New Roads\u3011"
    },
    {
        "content": "## \u9898\u610f\n\n\u6709 $n$ \u4e2a\u70b9\uff0c\u8981\u5728\u70b9\u4e4b\u95f4\u52a0 $n-1$ \u6761\u8fb9\u4f7f\u4e4b\u6210\u4e3a\u4e00\u68f5\u6839\u4e3a $1$ \u6df1\u5ea6\u4e3a $t$ \u7684\u6811\uff0c\u7ed9\u51fa\u6811\u6bcf\u5c42\u7684\u7ed3\u70b9\u6570 $a_i$ \u548c\u53f6\u5b50\u7ed3\u70b9\u7684\u6570\u91cf $k$\uff0c\u6784\u9020\u4e00\u79cd\u52a0\u8fb9\u65b9\u6848\uff0c\u4e0d\u5b58\u5728\u8f93\u51fa $-1$\u3002\n\n## \u89e3\n\n\u7ed9\u51fa\u4e86\u6bcf\u5c42\u7684\u7ed3\u70b9\u6570\u548c\u53f6\u5b50\u6570\u91cf\uff0c\u8003\u8651\u6bcf\u5c42\u80fd\u591f\u8d21\u732e\u591a\u5c11\u53f6\u5b50\u7ed3\u70b9\uff0c\u7b2c $i$ \u5c42\u6709 $a_i$ \u4e2a\u7ed3\u70b9\uff0c\u90a3\u4e48\u7b2c $i$ \u5c42($i\\not = t$)\u80fd\u8d21\u732e\u7684\u53f6\u5b50\u6570\u91cf\u7684\u8303\u56f4\u662f $[\\max(0,a_i-a_{i+1}),a_i-1]$\uff0c\u8bc1\u660e\uff1a\u82e5\u8981\u8be5\u5c42\u7684\u53f6\u5b50\u6700\u5c11\uff0c\u5c31\u8ba9\u4e0b\u4e00\u5c42\u7684\u7ed3\u70b9\u5c3d\u53ef\u80fd\u5206\u6563\u5728\u8fd9\u4e00\u5c42\u7684\u6bcf\u4e2a\u7ed3\u70b9\u4e0a\uff0c\u6700\u591a\u5c31\u8ba9\u4e0b\u4e00\u5c42\u7684\u7ed3\u70b9\u90fd\u63a5\u5230\u8be5\u5c42\u7684\u4e00\u4e2a\u70b9\u4e0a\u3002\n\n\u7136\u540e\u5c31\u53bb\u6ee1\u8db3\u6bcf\u5c42\u53f6\u5b50\u6570\u91cf\u548c\u4e3a $k$\uff0c\u6bcf\u5c42\u4ece\u6700\u5c0f\u503c\u5f00\u59cb\u5f80\u4e0a\u8c03\u6574\u5373\u53ef\uff0c\u90fd\u53d6\u6700\u5c0f\u503c\u8fd8\u6bd4 $k$ \u5927\u5c31\u65e0\u89e3\uff0c\u90fd\u8c03\u6574\u5230\u6700\u5927\u503c\u4e86\u8fd8\u4e0d\u6ee1\u8db3 $k$ \u4e5f\u65e0\u89e3\n\n\u6700\u540e\u5c31\u662f\u6784\u9020\u8fb9\uff0c\u8fd9\u4e2a\u597d\u8bf4\uff0c\u5728\u5f53\u524d\u5c42\u91cc\u53ea\u9700\u8981\u8003\u8651\u975e\u53f6\u5b50\u7ed3\u70b9\u5f80\u4e0b\u8fde\u8fb9\uff0c\u8bbe\u975e\u53f6\u5b50\u7ed3\u70b9\u6709 $s$ \u4e2a\uff0c\u5c31\u5728\u524d $s-1$ \u4e2a\u70b9\u90fd\u63a5 $1$ \u4e2a\u513f\u5b50\uff0c\u7b2c $s$ \u4e2a\u70b9\u63a5\u5269\u4e0b\u7684\u513f\u5b50\u5c31\u884c\u4e86\n\n## \u7801\n\n```c++\n//\u5934\u6587\u4ef6\n\nint n,t,k;\nint a[N];\nint l[N],r[N];\nint pos[N];\nint sum=0;\npii ans[N];\nint cnt=0,tot=1;\n\nsigned main(){\n\n    read(n),read(t),read(k);\n    for(int i=1;i<=t;i++) read(a[i]);\n    \n    for(int i=1;i<=t;i++){\n        l[i]=max(0ll,a[i]-a[i+1]);\n        sum+=l[i];\n        pos[i]=l[i];\n        r[i]=i==t?a[i]:a[i]-1;\n        if(l[i]>r[i]) printf(\"-1\\n\"),exit(0);\n    }\n\n    if(sum>k) printf(\"-1\\n\"),exit(0);\n\n    for(int i=1;i<=t;i++){\n        if(sum<k){\n            pos[i]+=min(k-sum,r[i]-l[i]);\n            sum+=min(k-sum,r[i]-l[i]);\n        }else break;\n    }\n\n    if(sum<k) printf(\"-1\\n\"),exit(0);\n    sum=1;\n\n    for(int i=1;i<=a[1];i++) ans[++cnt]={1,++tot};\n    for(int i=1;i<t;i++){\n        for(int j=1;j<=a[i]-pos[i]-1;j++) ans[++cnt]={sum+j,++tot};\n        for(int j=1;j<=a[i+1]-(a[i]-pos[i]-1);j++) ans[++cnt]={sum+a[i]-pos[i],++tot};\n        sum+=a[i];\n    }\n\n    printf(\"%lld\\n\",cnt+1);\n    for(int i=1;i<=cnt;i++){\n        printf(\"%lld %lld\\n\",ans[i].first,ans[i].second);\n    }\n    \n    return 0;\n}\n```\n\n",
        "postTime": 1636535677,
        "uid": 81736,
        "name": "wsy_jim",
        "ccfLevel": 3,
        "title": "CF746G New Roads"
    },
    {
        "content": "# \u9898\u76ee\u5206\u6790\n\u663e\u7136\uff0c\u4e00\u4e2a\u57ce\u5e02\u662f\u6b7b\u80e1\u540c\u7b49\u4ef7\u4e8e\u5b83\u662f\u53f6\u5b50\u7ed3\u70b9\u3002  \n\u6211\u4eec\u5148\u8003\u8651\u8fd9\u4e2a\u56fe\u4e0a\u6700\u5c11\u4f1a\u6709\u51e0\u4e2a\u53f6\u5b50\u7ed3\u70b9\u3002\u663e\u7136\u6bcf\u4e00\u5c42\u7684\u57ce\u5e02\u53ea\u80fd\u5f80\u4e0a\u4e00\u5c42\u7684\u57ce\u5e02\u8fde\u8fb9\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u5982\u679c\u8fd9\u4e00\u5c42\u7684\u57ce\u5e02\u6570\u6bd4\u4e0a\u4e00\u5c42\u7684\u57ce\u5e02\u6570\u591a\u4e86 $x$ \u4e2a\uff0c\u90a3\u4e48\u8fd9\u5f20\u56fe\u7684\u53f6\u5b50\u7ed3\u70b9\u7684\u4e2a\u6570\u5c31\u589e\u52a0\u4e86 $x$ \u4e2a\uff0c\u5426\u5219\u4e0d\u53d8\u3002\u4e5f\u5c31\u662f\u8fd9\u5f20\u56fe\u4e0a\u6700\u5c11\u4f1a\u6709 $\\sum_{i=1}^{t}\\max(a_i-a_{i-1},0)$ \u4e2a\u53f6\u5b50\u7ed3\u70b9\uff0c\u4ee4\u8fd9\u4e2a\u6570\u7b49\u4e8e $ma$\u3002  \n\u6240\u4ee5\u5982\u679c $k$ \u5c0f\u4e8e\u6700\u5c0f\u7684\u53f6\u5b50\u7ed3\u70b9\u6570\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u76f4\u63a5\u8f93\u51fa-1\u4e86\u3002\u63a5\u4e0b\u6765\u8003\u8651\u600e\u4e48\u6784\u9020\u3002  \n\u663e\u7136\u6211\u4eec\u53ea\u9700\u8981\u8ba9\u6784\u9020\u51fa\u7684\u56fe\u591a\u51fa $k-ma$ \u4e2a\u53f6\u5b50\u7ed3\u70b9\u5373\u53ef\u3002\u6211\u4eec\u5c31\u53ea\u9700\u8981\u5728\u6bcf\u4e00\u5c42\u5f80\u4e0a\u4e00\u5c42\u8fde\u8fb9\u7684\u65f6\u5019\u5206\u7c7b\u8ba8\u8bba\u4e00\u4e0b\uff0c\u5982\u679c $a_i$ \u5927\u4e8e $a_{i-1}$\uff0c\u5c31\u53ea\u5f80\u4e0a\u4e00\u5c42\u4e2d $a_{i-1}-\\min(a_{i-1}-1,k)$ \u4e2a\u57ce\u5e02\u8fde\u8fb9\uff0c\u7136\u540e\u628a $k$ \u51cf\u53bb $\\min(a_{i-1}-1,k)$\uff1b\u5982\u679c $a_i$ \u5c0f\u4e8e $a_{i-1}$\uff0c\u5c31\u53ea\u5f80\u4e0a\u4e00\u5c42\u4e2d $a_i-\\min(a_i-1,k)$ \u4e2a\u57ce\u5e02\u8fde\u8fb9\uff0c\u7136\u540e\u628a $k$ \u51cf\u53bb $\\min(a_i-1,k)$\u3002\u6700\u540e\u5982\u679c $k$ \u521a\u597d\u7b49\u4e8e0\u5c31\u8bf4\u660e\u53ef\u4ee5\uff0c\u5426\u5219\u5c31\u8f93\u51fa-1\u3002\n\n``` cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define N 200001\nint n,t,k,a[N],ma,las,cnt,tot;\nstruct sb\n{\n\tint a,b;\n}ans[N];\nsigned main()\n{\n\tscanf(\"%d%d%d\",&n,&t,&k);\n\tlas=0,cnt=1;\n\tfor(register int i=1;i<=t;i++)\n\t{\n\t\tscanf(\"%d\",&a[i]);\n\t\tma+=max(0,a[i]-a[i-1]);//\u8ba1\u7b97\u6700\u5c11\u7684\u53f6\u5b50\u7ed3\u70b9\u6570\n\t\tlas=cnt,cnt+=a[i];\n\t}\n\tif(ma>k){printf(\"-1\");return 0;}//\u4e0d\u884c\u7684\u60c5\u51b5\n\tk-=ma;\n\tlas=0,cnt=1;\n\tfor(register int i=1;i<=t;i++)\n\t{\n\t\tfor(register int j=1;j<=a[i];j++)\n\t\t{\n\t\t\tans[++tot].a=cnt+j;//\u8fd9\u6761\u8fb9\u7684\u4e00\u4e2a\u7aef\u70b9\u4e3a\u8be5\u70b9\n\t\t\tif(a[i]>=cnt-las)//\u5f80\u4e0a\u4e00\u5c42\u8fde\u8fb9\n\t\t\t{\n\t\t\t\tans[tot].b=las+(j-1)%(cnt-las-min(cnt-las-1,k))+1;\n\t\t\t}else\n\t\t\t{\n\t\t\t\tans[tot].b=las+(j-1)%(a[i]-min(a[i]-1,k))+1;\n\t\t\t}\n\t\t}\n\t\tif(a[i]>=cnt-las)\n\t\t{\n\t\t\tk-=min(cnt-las-1,k);\n\t\t}else\n\t\t{\n\t\t\tk-=min(a[i]-1,k);\n\t\t}\n\t\tlas=cnt,cnt+=a[i];\n\t}\n\tif(k==0)\n\t{\n\t\tprintf(\"%d\\n\",n);\n\t\tfor(register int i=1;i<=tot;i++)printf(\"%d %d\\n\",ans[i].a,ans[i].b);\n\t}else printf(\"-1\");\n\treturn 0;\n}\n```",
        "postTime": 1590321153,
        "uid": 60075,
        "name": "pzc2004",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF746G \u3010New Roads\u3011"
    },
    {
        "content": "\u5148\u6784\u9020\u51fa\u4e00\u6761\u94fe\uff0c\u66f4\u6539$n-k-t$\u7684\u70b9\u4f7f\u4ed6\u4e0d\u662f\u53f6\u5b50\u8282\u70b9\uff0c\u904d\u5386\u6bcf\u4e2a\u70b9\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\uff0c\u4e0d\u6ee1\u8db3\u5c31\u8fde\u5230\u5df2\u7ecf\u4e0d\u662f\u53f6\u5b50\u8282\u70b9\u7684\u70b9\u4e0a\uff0c\u6700\u540e\u6309\u6df1\u5ea6\u8f93\u51fa\u3002\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 2e5 + 10;\nint a[N], f[N];\nint n, t, k, p, dis;\nint main() {\n\tscanf(\"%d%d%d\", &n, &t, &k);\n\tfor (int i = 1; i <= t; i++) scanf(\"%d\", &a[i]);\n\ta[0] = ((k > n - t) ? 2 : 1);\n\tfor (int i = 0; i <= t; i++)\n\t\tf[i] = std::min(a[i], a[i + 1]), k -= a[i] - f[i];\n\tif (k < 0 || a[0] > 1) return printf(\"-1\"), 0;\n\tfor (int i = t - 1; i > 0; i--)\n\t\tp = std::min(f[i] - 1, k), k -= p, f[i] -= p;\n\tprintf(\"%d\\n\", n);\n\tdis = 1;\n\tfor (int i = 1; i <= t; i ++) {\n\t\tfor (int j = 0; j < a[i]; j ++)\n\t\t\tprintf(\"%d %d\\n\", dis + j % f[i - 1], dis + a[i - 1] + j);//\u6309\u6df1\u5ea6\u8f93\u51fa\n\t\tdis += a[i - 1];\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1556854495,
        "uid": 13746,
        "name": "Trimsteanima",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF746G \u3010New Roads\u3011"
    },
    {
        "content": "# \u9898\u76ee\u7b80\u8ff0\n\n\u7ed9\u4f60\u6811\u7684\u8282\u70b9\u4e2a\u6570 n \uff0c\u53f6\u5b50\u7684\u8282\u70b9\u4e2a\u6570 k \uff0c\u6811\u7684\u6df1\u5ea6 t \uff0c\u53ca\u5404\u6df1\u5ea6\u8282\u70b9\u4e2a\u6570 a \uff0c\u8ba9\u4f60\u6784\u9020\u4e00\u68f5\u4ee5 1 \u4e3a\u6839\u6811\n\n# \u505a\u6cd5\u7b80\u8ff0\n\n\u53ef\u4ee5\u5f97\u5230\uff0c\u6bcf\u5c42\u8282\u70b9\u6240\u62e5\u6709\u7684\u53f6\u5b50\u8282\u70b9\u6709\u4e0a\u754c\u548c\u4e0b\u754c\u3002\n\n\u6211\u4eec\u8bbe\u7b2c i \u5c42\u6709 ```a[i]``` \u4e2a\u8282\u70b9\uff0c\u5219\u4e0b\u754c\u4e3a ``` min(a[i]-a[i-1],0) ```\uff0c\u4e0a\u754c\u4e3a``` a[i]-1``` \u3002\u5f53\u7136\uff0c\u6700\u540e\u4e00\u5c42\u53ea\u80fd\u4e3a ```a[t]``` \u3002\n\n\u5bb9\u6613\u60f3\u5230\uff0c\u4e0b\u754c\u6784\u9020\u65b9\u5f0f\u4e3a\u5c06\u4e0b\u4e00\u5c42\u8282\u70b9\u4e00\u4e2a\u5bf9\u4e00\u4e2a\u8fde\u5230\u8fd9\u5c42\u8282\u70b9\u4e0a\uff08\u82e5\u4e0b\u4e00\u5c42\u8282\u70b9\u6709\u591a\u5219\u968f\u4fbf\u627e\u8282\u70b9\u8fde\uff09\uff0c\u4e0a\u754c\u4e3a\u4e0b\u4e00\u5c42\u6240\u6709\u8282\u70b9\u8fde\u5728\u4e00\u4e2a\u70b9\u4e0a\u3002\n\n\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\uff0c\u5982\u679c k \u6bd4\u4e0b\u754c\u4e4b\u548c\u8fd8\u8981\u5c0f\uff0c\u6216\u8005\u6bd4\u4e0a\u754c\u4e4b\u548c\u8fd8\u8981\u5927\uff0c\u90a3\u4e48\u5c31\u65e0\u89e3\u3002\n\n\u5426\u5219\u7684\u8bdd\u5c31\u53ef\u4ee5\u968f\u4fbf\u6784\u9020\uff0c\u53ea\u8981\u4fdd\u8bc1\u6bcf\u4e00\u5c42\u53f6\u5b50\u8282\u70b9\u5728\u4e0a\u4e0b\u754c\u4e4b\u95f4\u5373\u53ef\u3002\n\n\u8fd9\u91cc\u63d0\u4f9b\u6211\u7684\u601d\u8def\uff1a\u9996\u5148\u5c06 k \u51cf\u53bb\u6bcf\u5c42\u4e0b\u754c\u8282\u70b9\u548c\uff0c\u7136\u540e\u4ece\u5012\u6570\u7b2c\u4e8c\u5c42\u5f00\u59cb\u627e\uff0c\u6709\u6ca1\u6709\u80fd\u6210\u4e3a\u53f6\u5b50\u7ed3\u70b9\u7684\u8282\u70b9\uff08\u5728\u4e0b\u754c\u7684\u8282\u70b9\u4e4b\u5916\uff09\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u7edf\u8ba1\u51fa\u6bcf\u4e00\u5c42\u53f6\u5b50\u8282\u70b9\u4e2a\u6570 ```cen[i]``` \u3002\n\n\u8f93\u51fa\u65f6\u6211\u4eec\u628a\u7b2c i \u5c42\u524d ```cen[i]``` \u4e2a\u6570\u8df3\u8fc7\uff0c\u4e4b\u540e\u4e00\u4e2a\u70b9\u4e00\u4e2a\u70b9\u7684\u5339\u914d\u4e0b\u4e00\u5c42\u8282\u70b9\u3002\u6700\u540e\u628a\u4e0b\u4e00\u5c42\u591a\u51fa\u6765\u7684\u8282\u70b9\u5168\u8fde\u5728\u8fd9\u4e00\u5c42\u6700\u540e\u4e00\u4e2a\u8282\u70b9\u5373\u53ef\u3002\n\n```cpp\n//\u9664\u4e86\u6700\u540e\u4e00\u5c42\u5168\u8981\u4f5c\u4e3a\u5b64\u513f\u57ce\u5e02\uff0c\u6bcf\u5c42\u57ce\u5e02\u6709\u5176\u5b64\u513f\u57ce\u5e02\u7684\u4e0a\u754c\u548c\u4e0b\u754c\n//\u4e0b\u754c\u4e3amax(\u8fd9\u4e00\u5c42\u57ce\u5e02\u6570-\u4e0b\u4e00\u5c42\u57ce\u5e02\u6570,0)\uff0c\u4e0a\u754c\u4e3a\u8fd9\u4e00\u5c42\u57ce\u5e02\u6570-1\n//\u65e0\u89e3\u60c5\u51b5\u6709\u4e24\u79cd\uff1a\n//1. \u6240\u6709\u57ce\u5e02\u4e0a\u754c\u548c<k\n//2.\u6240\u6709\u5c42\u5b64\u513f\u5c42\u6570\u4e0b\u754c\u4e4b\u548c>k\n//\u628a\u6700\u540e\u4e00\u5c42\u770b\u505a\u4e0b\u754c\u4e0a\u754c\u90fd\u4e3a\u8fd9\u5c42\u57ce\u5e02\u6570\n//\u7136\u540e\u5411\u4e0a\u627e\u6bcf\u4e00\u5c42\u9664\u4e86\u4e0b\u754c\u8fd8\u8981\u6709\u591a\u5c11\u65b0\u589e\u5b64\u513f\u57ce\u5e02\n//\u5982\u679c\u6709\u89e3\uff0c\u8bb0\u5f55\u6bcf\u5c42\u5b64\u513f\u57ce\u5e02\u4e2a\u6570\uff0c\u5176\u4ed6\u7684\u8282\u70b9\u4e00\u4e2a\u70b9\u5bf9\u4e0b\u4e00\u5c42\u4e00\u4e2a\u70b9\uff0c\u4e0b\u4e00\u5c42\u591a\u7684\u70b9\u653e\u5728\u6700\u540e\u4e00\u4e2a\u70b9\u8f93\u51fa\n//\u903b\u8f91\u641e\u6e05\u695a\u4e86\u5f88\u7b80\u5355\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nconst int maxn = 2e5 + 5;\nint n, k, t;\nint a[maxn], cen[maxn], mx[maxn], mn[maxn];\nint main(){\n\tfreopen(\"text.in\", \"r\", stdin);\n\t// freopen(\"dice.out\", \"w\", stdout);\n\tscanf(\"%d%d%d\", &n, &t ,&k);\n\t// cout << t << endl;\n\tfor(int i = 1;i <= t;i ++) scanf(\"%d\", &a[i]);\n\tmx[t] = mn[t] = a[t];\n\t// cout << a[t] << endl;\n\tmx[t] --;\n\tfor(int i = 1;i < t;i ++) mx[i] = a[i] - 1, mn[i] = max(0, a[i] - a[i + 1]);\n\tif(n - t < k) //\u4e0a\u754c\u65e0\u89e3\n\t{\n\t\tprintf(\"-1\\n\");\n\t\treturn 0;\n\t}\n\tint he = 0;\n\tfor(int i = 1;i <= t;i ++)\n\t{\n\t\the += mn[i];\n\t\tcen[i] += mn[i];\n\t\tif(he > k)//\u4e0b\u754c\u65e0\u89e3\n\t\t{\n\t\t\tcout << -1 << endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n\tfor(int i = 1;i <= t;i ++) a[i] -= mn[i], k -= mn[i];\n\tif(k != 0)\n\t{\n\t\tfor(int i = t - 1;i >= 1;i --)\n\t\t{\n\t\t\tif(a[i] > k){ cen[i] += k;break; }\n\t\t\tk -= (mx[i] - cen[i]);\n\t\t\tcen[i] = mx[i];\n\t\t}\n\t}\n\tint p = 1;\n\tprintf(\"%d\\n\", n);\n\tfor(int i = 1;i <= mx[1] + 1;i ++) printf(\"1 %d\\n\", i + 1);\n\tmx[t + 1] = -1;\n\tfor(int i = 1;i < t;i ++)\n\t{\n\t\tint q = 0;\n\t\tfor(int j = cen[i] + 1;j <= mx[i] + 1;j ++) printf(\"%d %d\\n\", (p + j), (p + mx[i] + 1 + (++ q)));//\u7531\u4e8e a \u6570\u7ec4\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u7528 mx + 1 \u4ee3\u66ff a \u6570\u7ec4\n\t\twhile(q < mx[i + 1] + 1) printf(\"%d %d\\n\", (p + mx[i] + 1), (p + mx[i] + 1 + (++ q))); // \u5168\u8fde\u5728\u6700\u540e\u4e00\u4e2a\u70b9\u4e0a\n\t\tp += (mx[i] + 1);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1666526163,
        "uid": 149219,
        "name": "_maze",
        "ccfLevel": 6,
        "title": "CF746G \u9898\u89e3"
    },
    {
        "content": "\n\u9996\u5148\u8003\u8651\u5224\u65e0\u89e3\uff1a\u82e5\u5bf9\u4e8e\u6bcf\u4e2a\u6df1\u5ea6\u5c3d\u91cf\u4f7f\u5176\u53f6\u5b50\u8282\u70b9\u5c11\u7684\u60c5\u51b5\u4e0b\uff0c\u53f6\u5b50\u8282\u70b9\u8fd8\u662f $> k$ \u4e2a\uff0c\u65e0\u89e3\u3002\u82e5\u5bf9\u4e8e\u6bcf\u4e2a\u6df1\u5ea6\u5c3d\u91cf\u4f7f\u5176\u53f6\u5b50\u8282\u70b9\u591a\uff0c\u53f6\u5b50\u8282\u70b9\u8fd8\u662f $<k$ \u4e2a\uff0c\u65e0\u89e3\u3002\u5c3d\u91cf\u5c11\u5373\u5c3d\u91cf\u4f7f\u672c\u6df1\u5ea6\u7684\u70b9\u53ea\u6709\u4e00\u4e2a\u513f\u5b50\uff1b\u5c3d\u91cf\u591a\u5373\u4f7f\u672c\u6df1\u5ea6\u7684\u4e00\u4e2a\u70b9\u8fde\u51fa\u6240\u6709\u5411\u6df1\u5ea6 $+1$ \u7684\u8fb9\u3002\n\n\u5426\u5219\u8003\u8651\u600e\u6837\u6784\u9020\u3002\u5148\u8ba1\u7b97\u51fa\u5bf9\u4e8e\u6bcf\u4e2a\u6df1\u5ea6\uff0c\u5c3d\u91cf\u4f7f\u5176\u53f6\u5b50\u8282\u70b9\u5c11\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd8\u5dee\u51e0\u4e2a\u53f6\u5b50\u8282\u70b9\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a\u6df1\u5ea6\uff0c\u5148\u5c3d\u91cf\u4f7f\u5176\u53f6\u5b50\u8282\u70b9\u591a\uff0c\u5982\u679c\u8d85\u4e86\u5c31\u5f80\u4e0b\u51cf\u3002\n\n\u4e4b\u540e\u6309\u7167\u8fd9\u4e2a\u6784\u9020\u5373\u53ef\u3002\u6211\u7684\u65b9\u6cd5\u662f\u4f7f\u8fd9\u68f5\u6811\u7684\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\u5e8f\u5217\u4e3a $1 \\sim n$\uff0c\u7136\u540e\u53ef\u4ee5\u6c42\u51fa\u4e0a\u4e00\u6df1\u5ea6\u7684\u8282\u70b9\u7f16\u53f7\u533a\u95f4\u3002\u8fde\u8fb9\u5c31\u4f7f\u7b2c\u4e00\u4e2a\u8282\u70b9\u8fde\u51fa\u6700\u591a\u7684\u8fb9\uff0c\u5269\u4e0b\u9700\u8981\u8fde\u7684\uff08\u82e5\u6709\uff09\u6bcf\u4e2a\u8282\u70b9\u53ea\u8fde\u4e00\u6761\u3002\n\n$\\text{Code}$\uff1a\n\n```cpp\nint n, t, k;\nint a[N];\nint lst[N];\n\nint main() {\n\tqread(n, t, k);\n\trep(i, 1, t) qread(a[i]);\n\tint sum = a[t];\n\trep(i, 1, t - 1) sum += max(0, a[i] - a[i + 1]);\n\tif(sum > k) {\n\t\tputs(\"-1\");\n\t\treturn 0;\n\t}\n\tsum = a[t];\n\trep(i, 1, t - 1) sum += a[i] - 1;\n\tif(sum < k) {\n\t\tputs(\"-1\");\n\t\treturn 0;\n\t}\n\tsum = a[t];\n\trep(i, 1, t - 1) sum += (lst[i] = max(0, a[i] - a[i + 1]));\n\tint nw = k - sum;\n\trep(i, 1, t - 1) {\n\t\tif(!nw) break;\n\t\tif(nw > a[i] - 1 - lst[i]) {\n\t\t\tnw -= a[i] - 1 - lst[i];\n\t\t\tlst[i] = a[i] - 1;\n\t\t}\n\t\telse {\n\t\t\tlst[i] += nw;\n\t\t\tnw = 0;\n\t\t}\n\t}\n\tprintf(\"%d\\n\", n);\n\tnw = 2;\n\trep(i, 1, a[1]) {\n\t\tprintf(\"%d %d\\n\", 1, nw);\n\t\t++nw;\n\t}\n\trep(i, 1, t - 1) {\n\t\tint l = nw - a[i], r = l + a[i] - lst[i] - 1;\n\t\tint nd = a[i + 1] - r + l;\n\t\twhile(nd--) {\n\t\t\tprintf(\"%d %d\\n\", l, nw);\n\t\t\t++nw;\n\t\t}\n\t\trep(j, l + 1, r) {\n\t\t\tprintf(\"%d %d\\n\", j, nw);\n\t\t\t++nw;\n\t\t}\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1636801686,
        "uid": 242543,
        "name": "BreezeEnder",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF746G New Roads"
    }
]