[
    {
        "content": "\u7ed9\u51fa\u4e00\u79cd\u975e\u5e38\u7b80\u6d01\u7684\u505a\u6cd5\u3002\n\n\u8003\u8651\u5bf9\u4e8e\u4e00\u4e2a\u70b9 $x$\uff0c\u6211\u4eec\u80fd\u627e\u5230\u4e24\u4e2a\u70b9 $y,z$\uff0c\u6ee1\u8db3\u5b83\u4eec\u4e4b\u95f4\u7684\u8fde\u8fb9\u5982\u4e0b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nvu9zvpi.png)\n\n\u90a3\u4e48 $x\\to z$ \u8fd9\u6761\u8fb9\u4e00\u5b9a\u662f\u6ca1\u7528\u7684\uff0c\u4e5f\u5c31\u662f\u5982\u679c\u6211\u4eec\u80fd\u627e\u5230\u4e00\u4e2a\u5927\u5c0f\u4e3a $3$ \u7684\u73af\u5305\u542b $x\\to z$ \u8fd9\u6761\u8fb9\uff0c\u90a3\u4e48\u6211\u4eec\u4e00\u5b9a\u53ef\u4ee5\u627e\u51fa\u53e6\u4e00\u4e2a\u4e0d\u5305\u542b $x\\to z$ \u8fd9\u6761\u8fb9\u7684\u5927\u5c0f\u4e3a $3$ \u7684\u73af\u3002\u5982\u4e0b\u56fe\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tgjkzyk2.png)\n\n\u5047\u8bbe $z,a,x$ \u4e09\u4e2a\u70b9\u5f62\u6210\u4e86\u4e00\u4e2a\u5927\u5c0f\u4e3a $3$ \u7684\u73af\uff0c\u90a3\u4e48\u8003\u8651 $a$ \u548c $y$ \u4e4b\u95f4\u7684\u8fde\u8fb9\uff0c\u5982\u679c\u662f $a\\to y$\uff0c\u90a3\u4e48 $a,y,z$ \u4e09\u4e2a\u70b9\u53ef\u4ee5\u5f62\u6210\u53e6\u4e00\u4e2a\u73af\uff1b\u5982\u679c\u662f $y\\to a$\uff0c\u90a3\u4e48 $a,x,y$ \u4e09\u4e2a\u70b9\u53ef\u4ee5\u5f62\u6210\u53e6\u4e00\u4e2a\u73af\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u628a $x\\to z$ \u8fd9\u6761\u8fb9\u5ffd\u7565\u6389\u3002\n\n\u8fd9\u6837\u7684\u8bdd\u628a\u82e5\u5e72\u6761\u8fb9\u5ffd\u7565\u540e\uff0c\u6bcf\u4e00\u4e2a\u70b9\u6700\u591a\u53ea\u6709\u4e00\u6761\u51fa\u8fb9\u3002\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u679a\u4e3e\u4e24\u4e2a\u70b9 $i,j$\uff0c\u518d\u5224\u65ad $i,\\text{to}_i,j$ \u4e09\u70b9\u662f\u5426\u5f62\u6210\u73af\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$\uff0c\u4ee3\u7801\u4ec5\u6709 459B\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N=5010;\nint n,to[N];\nchar a[N][N];\n\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor (int i=1;i<=n;i++)\n\t\tscanf(\"%s\",a[i]+1);\n\tfor (int i=1;i<=n;i++)\n\t\tfor (int j=1;j<=n;j++)\n\t\t\tif (a[i][j]==49 && (!to[i] || a[j][to[i]]==49)) to[i]=j;\n\tfor (int i=1;i<=n;i++)\n\t\tfor (int j=1;j<=n;j++)\n\t\t\tif (a[to[i]][j]==49 && a[j][i]==49)\n\t\t\t\treturn printf(\"%d %d %d\\n\",i,to[i],j),0;\n\tprintf(\"-1\");\n\treturn 0;\n}\n```",
        "postTime": 1620803928,
        "uid": 53962,
        "name": "stoorz",
        "ccfLevel": 7,
        "title": "CF117C Cycle \u9898\u89e3"
    },
    {
        "content": "\n\u9996\u5148\u4f5c\u4e3a\u4e00\u4e2a\u6709\u56fe\u8bba\u5e38\u8bc6\u7684\u4eba\uff0c\u6211\u4eec\u53ef\u4ee5\u8f7b\u6613\u770b\u51fa\u6240\u8c13** tournament **\u5c31\u662f **\u7ade\u8d5b\u56fe\uff08\u6709\u5411\u5b8c\u5168\u56fe\uff09**\n\n\u4f5c\u4e3a\u4e00\u4e2a\u6709\u56fe\u8bba\u5e38\u8bc6\u7684\u4eba\uff0c\u6211\u4eec\u53ef\u4ee5\u8f7b\u6613\u56de\u60f3\u8d77\u7ade\u8d5b\u56fe\u7684\u91cd\u8981\u6027\u8d28\uff1a\n\n**\u7ade\u8d5b\u56fe\u6ca1\u6709\u81ea\u73af\uff0c\u6ca1\u6709\u4e8c\u5143\u73af\uff1b\u82e5\u7ade\u8d5b\u56fe\u5b58\u5728\u73af\uff0c\u5219\u4e00\u5b9a\u5b58\u5728\u4e09\u5143\u73af\u3002**\n\n\u524d\u534a\u53e5\u8bdd\u6d45\u663e\u6613\u61c2\uff0c\u540e\u534a\u53e5\u8bdd\u7684\u610f\u601d\u5c31\u662f\u8bf4\uff1a\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u73af\u5927\u4e8e\u4e09\u5143\uff0c\u90a3\u4e48\u4e00\u5b9a\u5b58\u5728\u53e6\u4e00\u4e2a\u4e09\u5143\u7684\u5c0f\u73af\u3002\n\n### \u7b80\u5355\u8bc1\u660e\uff1a\n\n\u5047\u8bbe\u4e00\u4e2a\u7ade\u8d5b\u56fe\u5b58\u5728\u4e00\u4e2a N \u5143\u73af\uff08\u5927\u4e8e\u4e09\u5143\uff09\uff0c\u73af\u4e0a\u6709\u8fde\u7eed\u4e09\u70b9 A , B , C \uff08 \u5b58\u5728\u6709\u5411\u8fb9 AB , BC \uff09\n\n\u6839\u636e\u7ade\u8d5b\u56fe\u7684\u5b9a\u4e49\uff0c\u4e00\u5b9a\u5b58\u5728\u6709\u5411\u8fb9 CA \u6216 AC \u4e2d\u7684\u4e00\u8005\u3002\n\n\u60c5\u51b5 1 \uff1a\u82e5\u5b58\u5728 CA \uff0c\u5219 A , B , C \u6784\u6210\u4e09\u5143\u73af\uff1b\n\n\u60c5\u51b5 2 \uff1a\u82e5\u5b58\u5728 AC \uff0c\u4e0d\u8003\u8651 B \u70b9\uff0c\u5269\u4e0b\u7684\u70b9\u6784\u6210\u4e00\u4e2a (N-1) \u5143\u73af\u3002\u663e\u7136\uff0c\u5982\u679c\u4e00\u76f4\u4e0d\u5b58\u5728\u60c5\u51b5 1 \u7684\u8bdd\uff0c\u6700\u7ec8\u4e5f\u4f1a\u5f62\u6210\u4e00\u4e2a\u4e09\u5143\u73af\u3002\n\n### \u8bc1\u660e\u5b8c\u6bd5\u3002\n\n\u90a3\u4e48\u8fd9\u5c31\u6210\u4e86\u4e00\u9053\u6709\u5411\u56fe\u627e\u73af\u7684\u88f8\u9898\uff0c\u4e0b\u8ff0\u4ee3\u7801\u4f7f\u7528 Tarjan \u7b97\u6cd5\u627e\u5230\u4e00\u4e2a\u73af\uff0c\u7136\u540e**\u6a21\u62df\u4e0a\u9762\u7684\u8bc1\u660e\u8fc7\u7a0b**\u627e\u5230\u76ee\u6807\u4e09\u5143\u73af\uff1a\n\n```cpp\n#include <cstdio>\n\nusing namespace std ;\n\ninline bool Bool() {\n\t\n\tfor(register char C = getchar() ; ; C = getchar() )\n\t\tif( C == '0' or C == '1' ) return C - '0' ;\n\t\n}\n\ninline int Readin() {\n\t\n\tregister int K = 0 ;\n\tregister char C = getchar() ;\n\tfor( ; C < '0' or C > '9' ; C = getchar() ) ;\n\tfor( ; C <= '9' and C >= '0' ; C = getchar() )\n\t\tK = ( K << 1 ) + ( K << 3 ) + C - '0' ;\n\treturn K ;\n\t\n}\n\nint N ;\n\nbool Map[5005][5005] ; \nbool Finish ;\nbool Vis[5005] ;\nbool Instack[5005] ;\nint Stack[5005] , Top ;\nint Ring[5005] , Rtop ;\n\nvoid Dfs( int Nod ) {\n\t\n\tif( Finish ) return ;\n\t\n\tif( Instack[Nod] ) {\n\t\tFinish = true ;\n\t\twhile( Stack[Top] != Nod )\n\t\t\tRing[++Rtop] = Stack[Top--] ;\n\t\t\tRing[++Rtop] = Nod ;\n\t\treturn ;\n\t}\n\t\n\tif( Vis[Nod] ) return ;\n\t\n\tInstack[Nod] = Vis[Nod] = true ;\n\tStack[++Top] = Nod ;\n\t\n\tfor(register int i = 1 ; i <= N ; i++ )\n\t\tif( Map[Nod][i] ) Dfs(i) ;\n\t\n\tTop-- ;\n\tInstack[Nod] = false ;\n\treturn ;\n\t\n}\n \nint main() {\n\t\n\tN = Readin() ;\n\tfor(register int i = 1 , j ; i <= N ; i++ )\n\t\tfor( j = 1 ; j <= N ; j++ ) Map[i][j] = Bool() ;\n\t\n\tfor(register int i = 1 ; i <= N ; i++ )\n\t\tif( not Vis[i] ) Dfs(i) ;\n\t\n\tif( not Finish )\n\t\treturn not printf( \"-1\\n\" ) ;\n\t\n\tfor(register int i = 1 , T ; i <= Rtop >> 1 ; i++ ) {\n\t\tT = Ring[i] ;\n\t\tRing[i] = Ring[Rtop-i+1] ;\n\t\tRing[Rtop-i+1] = T ;\n\t}\n\t\n\tfor(register int i = 3 ; i <= Rtop ; i++ )\n\t\tif( Map[Ring[i]][Ring[1]] )\n\t\t\treturn not printf( \"%d %d %d\\n\" , Ring[1] , Ring[i-1] , Ring[i] ) ;\n\treturn not printf( \"%d %d %d\\n\" , Ring[1] , Ring[Rtop-1] , Ring[Rtop] ) ;\n\t\n}\n```",
        "postTime": 1539010856,
        "uid": 23323,
        "name": "\u7528\u6237\u5df2\u6ce8\u9500",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF117C \u3010Cycle\u3011"
    },
    {
        "content": "\u9996\u5148\u6ce8\u610f\u5230\u6bcf\u4e24\u4e2a\u70b9\u4e4b\u95f4\u5fc5\u7136\u6709\u4e00\u6761\u8fb9\u3002\n\n\u7136\u540e\u8003\u8651\u679a\u4e3e\u4e09\u5143\u73af\u7684\u4e00\u4e2a\u70b9 $u$\u3002\n\n\u679a\u4e3e\u5b8c\u540e\u53ef\u4ee5\u53d1\u73b0\u5bf9\u4e8e\u8fd9\u4e2a\u70b9\u4ee5\u5916\u7684\u4e00\u4e2a\u70b9 $v$\uff0c\u8981\u4e48\u6709 $u -> v$ \u8981\u4e48\u6709 $v -> u$\u3002\n\n\u6211\u4eec\u4ee5\u6b64\u628a\u5176\u4ed6\u70b9\u5206\u4e3a\u4e24\u4e2a\u989c\u8272\uff0c\u5982\u679c\u5bf9\u4e8e\u4e00\u4e2a\u70b9 $v$\uff0c\u82e5 $u->v$ \u5219\u67d3\u9ed1\uff0c$v->u$ \u5219\u67d3\u767d\u3002\n\n\u90a3\u4e48\u5982\u679c\u6709\u4e00\u4e2a\u9ed1\u70b9\u5230\u4e00\u4e2a\u767d\u70b9\u8fd9\u4e48\u4e00\u6761\u8fb9\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u627e\u5230\u4e00\u4e2a\u4e09\u5143\u73af\u4e86\u3002\n\n\u5982\u679c\u6ca1\u6709\uff0c\u90a3\u4e48 $u$\uff0c\u767d\u70b9\uff0c\u9ed1\u70b9\u4e4b\u95f4\u5fc5\u7136\u4e0d\u53ef\u80fd\u518d\u4ea7\u751f\u4e09\u5143\u73af\uff0c\u90a3\u4e48\u518d\u7ee7\u7eed dfs \u767d\u70b9\uff0c\u9ed1\u70b9\uff0c\u7528 vector \u5b58\u597d\u540e\u904d\u5386\u65b9\u6cd5\u540c\u4e0a\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\u56e0\u4e3a\u6240\u6709\u8fb9\u90fd\u53ea\u4f1a\u88ab\u904d\u5386\u4e00\u904d\uff0c\u56e0\u6b64\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n^2)$ \u7684\u3002\u540c\u65f6\u4e5f\u53ef\u4ee5\u8bc1\u660e\u7a7a\u95f4\u590d\u6742\u5ea6\u4e0d\u8d85\u8fc7 $O(n^2)$\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u70b9\u90fd\u53ea\u4f1a\u5b58\u5728\u4e8e\u6700\u591a $n$ \u4e2a vector \u4e2d\u3002\n\n\u5177\u4f53\u7ec6\u8282\u89c1\u4ee3\u7801\u5427\u3002\n\n```cpp\n\n//#pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,avx2,tune=native\")\n#include <bits/stdc++.h>\nusing namespace std;\n//#define int long long\ninline int read()\n{\n\tint sum = 0, nega = 1;\n\tchar ch = getchar();\n\twhile (ch > '9'||ch < '0')\n\t{\n\t    if (ch == '-') nega = -1;\n\t\tch = getchar();\n\t}\n\twhile (ch <= '9'&&ch >= '0') sum = sum * 10 + ch - '0', ch = getchar ();\n\treturn sum * nega;\n}\nconst int N = 5009, M = 1e6 + 9;\n//int a[N][N];\nchar s[N][N];\t\nint n, cnt;\nvector<int> G[M];\ninline void dfs(int col)\n{\n\tint bla = cnt + 1, whi = cnt + 2; //\u7ed9\u9ed1\u767d\u5206\u522b\u7f16\u53f7 \n\tif(G[col].size() <= 1) return ; //\u82e5\u5927\u5c0f\u5c0f\u4e8e 1 \u5219\u8fd9\u4e2a vector \u5c31\u6ca1\u7528\u4e86 \n\tfor (int i = 1; i < G[col].size(); i++)\n\t\tif(s[G[col][0]][G[col][i]] == '1') G[bla].push_back(G[col][i]); //\u9ed1\u70b9 \n\t\telse G[whi].push_back(G[col][i]); // \u767d\u70b9 \n\tfor (int i = 0; i < G[bla].size(); i++)\n\t\tfor (int j = 0; j < G[whi].size(); j++)\n\t\t\tif(s[G[bla][i]][G[whi][j]] == '1') //\u6709\u9ed1\u8fde\u5411\u767d \n\t\t\t{\n\t\t\t\tprintf(\"%d %d %d\\n\", G[col][0], G[bla][i], G[whi][j]); //\u627e\u5230\u4e00\u4e2a\u7b54\u6848 \n\t\t\t\texit(0);\n\t\t\t}\n\tcnt += 2; //\u591a\u4e86\u4e24\u5757 \n\tdfs(bla);//\u904d\u5386\u9ed1\u7684 \n\tdfs(whi);//\u904d\u5386\u767d\u7684 \n\treturn ;\n}\nsigned main()\n{\n\tn = read();\n\tfor (int i = 1; i <= n; i++) scanf(\"%s\", s[i] + 1);//\u8bfb\u5165 \n\tcnt = 1;//\u7ed9\u5757\u7f16\u53f7 \n\tfor (int i = 1; i <= n; i++) G[cnt].push_back(i); //\u521d\u59cb\u5316\u7b2c\u4e00\u5757\t\n\tdfs(1);\n\tputs(\"-1\");\n\treturn 0;\n}\n\n```\n",
        "postTime": 1630390179,
        "uid": 97304,
        "name": "Mophie",
        "ccfLevel": 0,
        "title": "CF117C Cycle \u9898\u89e3"
    },
    {
        "content": "\u6b22\u8fce\u6765[\u535a\u5ba2](https://www.cnblogs.com/LanrTabe/p/10384524.html)\u73a9\u554a~\n\n~~\u9996\u5148\u4f5c\u4e3a\u4e00\u4e2a\u6ca1\u6709\u56fe\u8bba\u5e38\u8bc6\u7684\u4eba\uff0c\u6211\u5b8c\u5168\u4e0d\u77e5\u9053\u8fd9\u9898\u600e\u4e48\u7528\u56fe\u8bba\u77e5\u8bc6\u505a~~\n\n\u4f3c\u4e4e\u8fd9\u9898$DFS$\u53ef\u8fc7\u3002\u3002~~\u6211\u5c31\u662f\u997f\u6b7b\u4e5f\u4e0d\u4f1a\u7528DFS~~\n\n\u6211\u4eec\u8003\u8651\u6700\u66b4\u529b\u7684\u505a\u6cd5\uff1a\u679a\u4e3e$3$\u4e2a\u70b9\u5224\u65ad\u662f\u5426\u5f62\u6210\u73af\u3002\n\n\u4f46\u662f$O(n^3)$\u662f\u80af\u5b9a\u8fc7\u4e0d\u4e86\u7684\u3002\n\n\u90a3\u4e48\u5148\u679a\u4e3e\u524d$2$\u4e2a\u70b9\uff0c\u5c31\u8981\u5224\u65ad\u7b2c$2$\u4e2a\u70b9\u51fa\u53d1\u6709\u6ca1\u6709\u4e00\u4e2a\u70b9\u548c\u7b2c$1$\u4e2a\u70b9\u8054\u901a\u3002\n\n\u5148\u9884\u5904\u7406\u54ea\u4e9b\u70b9\u548c\u7b2c$1$\u4e2a\u70b9\u8054\u901a\uff0c\u90a3\u4e48\u5c31\u662f\u6c42\u7b2c$2$\u4e2a\u70b9\u80fd\u591f\u5230\u8fbe\u7684\u70b9\u96c6\u548c\u80fd\u591f\u5230\u8fbe\u7b2c$1$\u4e2a\u70b9\u7684\u70b9\u96c6\u6709\u6ca1\u6709\u4ea4\u96c6\u3002\n\n\u8fd9\u91cc\u7528```bitset```\u4f18\u5316\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(\\frac{n^3}{32})$\n\n```bitset``` \u8981\u624b\u5199\uff0c$STL$\u7684\u5e38\u6570\u592a\u5927\u4e86\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <cstdio>\n#include <cstring>\ntypedef unsigned long long ull;\n\nstruct Bitset\n{\n    ull a[80];\n\n    inline void Set(const int x){a[x>>6]|=1ull<<(x&63);}//\u5c06\u7b2cx\u4f4d\u8bbe\u4e3a1\n\n    inline bool Get(const int x){return a[x>>6]>>(x&63)&1;}//\u83b7\u53d6\u7b2cx\u4f4d\u7684\u503c\n\n    inline bool Match(const Bitset &b)//\u5224\u65ad\u548cb\u662f\u5426\u6709\u4ea4\u96c6\n    {\n        for(int i=0;i<80;++i)\n            if(a[i]&b.a[i])return true;\n        return false;\n    }\n\n    inline void Clear(){memset(a,0,sizeof a);}//\u6e05\u7a7a\n};\n\nint n;\nchar s[5005];\nBitset g[5005],a;\n\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;++i)\n    {\n        scanf(\"%s\",s+1);\n        for(int j=1;j<=n;++j)\n            if(s[j]&1)g[i].Set(j);\n    }\n    for(int i=1;i<=n;++i)\n    {\n        a.Clear();\n        for(int j=1;j<=n;++j)\n            if(g[j].Get(i))\n                a.Set(j);\n        for(int j=1;j<=n;++j)\n            if(g[i].Get(j))\n                if(g[j].Match(a))\n                    for(int k=1;k<=n;++k)//\u6709\u89e3\uff0c\u66b4\u529b\u627e\u89e3\u3002\n                        if(g[j].Get(k)&&g[k].Get(i))\n                            return printf(\"%d %d %d\\n\",i,j,k),0;\n    }\n    return puts(\"-1\"),0;\n}\n```",
        "postTime": 1550221186,
        "uid": 56677,
        "name": "LanrTabe",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF117C \u3010Cycle\u3011"
    },
    {
        "content": "\u5176\u5b9e\u4e4b\u524d\u5b66\u8fc7\u7ade\u8d5b\u56fe\u7684\uff0c\u90fd\u5e94\u8be5\u77e5\u9053\u4e00\u4e2a\u5b9a\u7406\uff0c\u5c31\u662f\u4e00\u4e2a\u7ade\u8d5b\u56fe\u5b58\u5728\u73af\u7684\u8bdd\uff0c\u90a3\u4e48\u4e00\u5b9a\u53c8\u4e00\u4e2a\u957f\u5ea6\u4e3a$3$\u7684\u73af\n\n\u8bc1\u660e\u4e5f\u597d\u8bc1\u660e\uff0c\u73af\u4e0a\u8fde\u7eed\u7684$a,b,c$\u4e09\u4e2a\u70b9\uff0c$AC$\u7684\u957f\u5ea6\u8981\u4e48\u662f1\uff08\u6b64\u65f6\u53ef\u4ee5\u628ab\u5ffd\u7565\uff09\u8981\u4e48\u662f2\uff08\u6b64\u65f6\u5b58\u5728\u73af\uff09\n\n\u7136\u540e\u6709\u4e00\u7bc7\u9898\u89e3\u662f\u627e\u5230\u4e00\u4e2a\u73af\u7136\u540e\u7f29\u6210\u957f\u5ea6\u4e3a$3$\u7684\u73af\u7684\uff0c\u7136\u800c\u6211tarjan\u5199\u70b8\u4e86\uff0c\u4e8e\u662f\u76f4\u63a5\u627e\u957f\u5ea6\u4e3a3\u7684\u73af\n\n\u600e\u4e48\u627e\u5462\uff0cdfs\u8bb0\u5f55\u5f53\u524d\u70b9\uff0c\u7236\u8282\u70b9\uff0c\u5b50\u8282\u70b9\uff0c\u5982\u679c\u4ed6\u4eec\u4e09\u4e2a\u6784\u6210\u4e86\u73af\uff0c\u90a3\u4e48\u5c31\u80fd\u591f\u8f93\u51fa\u7b54\u6848\u4e86\u3002\n\n\u4e0d\u8fc7\u8fd8\u8981\u6ce8\u610f\u76f4\u63a5\u66b4\u529b\u80af\u5b9a\u662f\u4e0d\u884c\u7684\uff0c\u6211\u4eec\u53d1\u73b0\u4f1a\u51fa\u73b0$abc$\u4e0e$cba$\u8fd9\u79cd\u7b49\u4ef7\u7684\u60c5\u51b5\uff08\u5b83\u4eec\u90fd\u4e0d\u662f\u7b54\u6848\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u91cd\u590d\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u6807\u8bb0\u626b\u8fc7\u7684\u70b9\uff0c\u590d\u6742\u5ea6\u5c31\u53d8\u6210\u4e86$O(N^2)$\n\n\u53e6\u5916\u6ce8\u610f\u4e00\u4e0b\u8bfb\u5165\uff0c\u6709\u53ef\u80fd\u4f1aT\u4e5f\u6709\u53ef\u80fd\u4f1a\u56e0\u4e3a\u6ca1\u5173\u540c\u6b65\u70b8\n\n```cpp\n#include<touwenjian.h>\n\nusing namespace std;\n\nconst int maxn=5050;\n\nbool f[maxn][maxn];\nint n,m,vis[maxn];\nint size;\nint sz[maxn],p[maxn],looker,bj;\nchar c[maxn];\n\nvoid dfs(int t,int fat)\n{\n\tif(bj) return ; \n\tint i,j;\n\tvis[t]=1;\n\tfor(i=1;i<=n;i++)\n\tif(f[t][i]){\n\t\tj=i;\n\t\tif(!bj&&f[j][fat])\n\t\t{\n\t\t\tcout<<fat<<\" \"<<t<<\" \"<<j;\n\t\t\tbj=1;\n\t\t\treturn ;\n\t\t}\n\t\tif(!vis[j]) dfs(j,t);\n\t}\n } \n\nint main()\n{\n\tregister int i,j;\n\tcin>>n;\n\tchar t;\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%s\",c+1);\n\t\tfor(j=1;j<=n;j++)\n\t\t{\n\t\tif(c[j]=='1') f[i][j]=1;\n\t\t}\n\t}\n\tfor(i=1;i<=n;i++)\n\tif(!vis[i]) dfs(i,0);\n\tif(!bj) cout<<-1;\n\treturn 0;\n\n}\n```\n",
        "postTime": 1591366406,
        "uid": 38636,
        "name": "\u5bd2\u51b0\u5927\u5927",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF117C \u3010Cycle\u3011"
    },
    {
        "content": "\u6709\u4eba\u8bf4\u8fd9\u9898\u7eaf$dfs$\u53ef\u8fc7\uff1f\u5b9e\u6d4b\u4f1a$WA/TLE$\u3002\u3002\u3002\n\n\u7136\u540e\u5c1d\u8bd5\u4e00\u4e0b\u6539\u6210$bfs$\uff0c\u8fd8\u662f$WA$\u4e86QwQ\n\n\u663e\u7136\u4e24\u79cd\u505a\u6cd5\u90fd\u6709\u4ebahack\u4e86\u3002\uff08\u6b64\u9898$O(n)$\u89e3\u6cd5\u90fd\u662f\u9519\u7684\uff09\n\n\u90a3\u4e48\u6211\u4eec\u628a\u4e24\u79cd\u65b9\u6cd5\u4e00\u8d77\u8dd1\u4e00\u904d\u3002\n\nA\u4e86\uff1f\uff1f\uff1fWTF\n\n\u7b80\u5355\u8bf4\u4e00\u4e0b\u505a\u6cd5\u3002\n\n\u7528$dfs$\u548c$bfs$\u5206\u522b\u6c42\u751f\u6210\u6811\u3002\u5982\u679c\u4e2d\u9014\u53d1\u73b0\u4e00\u4e2a\u70b9\u4e0e\u5b83\u7684\u7237\u7237\u6709\u8fb9\uff0c\u76f4\u63a5\u8f93\u51fa\u5e76`exit(0)`\u3002\u3002\u3002\n\n\u7136\u540e\u5982\u679c\u8fd8\u62c5\u5fc3\u88abhack\u53ef\u4ee5\u968f\u673a\u4e00\u4e0b\u8fb9\u8868\u3002\n\n\u8003\u8bd5\u7684\u65f6\u5019\u8fd9\u9898\u8981\u5361\u5e38\uff0c\u6240\u4ee5\u7528\u4e8c\u7ef4\u6570\u7ec4\u524d\u5411\u661f\u4e86\u3002\n\n```cpp\n#include<cstdio>\n#include<cstdlib>\n#include<queue>\nusing namespace std;\nchar gc()\n{\n    static char buf[1<<18],*p1=buf,*p2=buf;\n    if(p1==p2)\n    {\n        p2=(p1=buf)+fread(buf,1,1<<18,stdin);\n        if(p1==p2)\n        {\n            return EOF;\n        }\n    }\n    return *p1++;\n}\n//#define gc getchar\ntemplate<typename _Tp>\nvoid read(_Tp& x)\n{\n    x=0;\n    char c=gc();\n    while(c<'0'||c>'9')c=gc();\n    while(c>='0'&&c<='9')x=(x<<1)+(x<<3)+(c^48),c=gc();\n}\nint n;\nbool vis[5005];\nshort G[5005][5005];\nshort tot[5005];\nshort fa[5005];\nshort top=2;\nvoid dfs(int u)\n{\n    if(vis[u])return;\n    vis[u]=1;\n    for(int i=0;i<tot[u];++i)\n    {\n        int v=G[u][i];\n        if(vis[v])\n        {\n            if(fa[fa[u]]==v)\n            {\n                printf(\"%d %d %d\",fa[fa[u]],fa[u],u);\n                exit(0);\n            }\n            continue;\n        }\n        fa[v]=u;\n        dfs(v);\n    }\n}\nvoid bfs(int s)\n{\n    queue<int> q;\n    q.push(s);\n    vis[s]=1;\n    while(!q.empty())\n    {\n        int u=q.front();\n        for(int i=0;i<tot[u];++i)\n        {\n            int v=G[u][i];\n            if(vis[v])\n            {\n                if(fa[fa[u]]==v)\n                {\n                    printf(\"%d %d %d\",fa[fa[u]],fa[u],u);\n                    exit(0);\n                }\n                continue;\n            }\n            fa[v]=u;\n            vis[v]=1;\n            q.push(v);\n        }\n        q.pop();\n    }\n}\nint main()\n{\n    read(n);\n    for(int i=1;i<=n;++i)\n    {\n        for(int j=1;j<=n;++j)\n        {\n            char c=gc();\n            while(c!='0'&&c!='1')c=gc();\n            if(c&1)\n            {\n                G[i][tot[i]++]=j;\n            }\n        }\n    }\n    for(int i=1;i<=n;++i)dfs(i);\n    for(int i=1;i<=n;++i)vis[i]=0;\n    for(int i=1;i<=n;++i)bfs(i);\n    puts(\"-1\");\n}\n```\n\n\u6b64\u65b9\u6cd5\u9002\u7528\u4e8e\u4efb\u610f\u56fe\uff0c\u5f53\u5fc3\u88ab\u5361\u5c31\u662f\u4e86\u3002\u3002\u3002",
        "postTime": 1562585756,
        "uid": 60489,
        "name": "\u5c0f\u83dc\u9e1f",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF117C \u3010Cycle\u3011"
    }
]