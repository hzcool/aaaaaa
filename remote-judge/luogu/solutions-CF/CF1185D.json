[
    {
        "content": "## \u9898\u89e3 - $\\mathrm{CF1185D\\ Extra\\ Element}$\n\n### \u9898\u76ee\u610f\u601d\n\n* \u7ed9\u4f60\u4e00\u4e2a\u957f\u4e3a$n$\u7684\u5e8f\u5217$a$\uff0c\u95ee\u4f60\u80fd\u5426\u5220\u9664\u4e00\u4e2a\u6570\u540e\u5bf9\u6570\u5217\u91cd\u62cd\u5f62\u6210\u7b49\u5dee\u6570\u5217\u3002\u5982\u679c\u80fd\u8f93\u51fa\u5220\u9664\u7684\u4f4d\u7f6e\u3002\u5426\u5219\u8f93\u51fa$\\mathrm{-1}$\n\n* $n\\leq 2e5$\n\n### $\\mathrm{Sol}$\n\n* \u5c0f\u6e05\u65b0**\u8d2a\u5fc3**\u9898\n\n* \u6211\u4eec\u9996\u5148\u5bf9\u539f\u5e8f\u5217\u91cd\u6392\u300c\u5c31\u662f\u6392\u5e8f\u300d\u3002\u7136\u540e\u6211\u4eec\u601d\u8003\u5982\u4f55\u4f1a\u6784\u6210\u4e00\u4e2a\u7b49\u5dee\u6570\u5217\uff1a\u6253\u4e2a\u6bd4\u65b9\uff0c\u5982\u679c$a={2,4,6,7,8}$\u6211\u4eec\u5220\u9664\u7b2c$4$\u4e2a\u6570\uff0c\u90a3\u4e48\u5b83\u4e0e\u76f8\u90bb\u7684\u5dee\u5408\u5e76\u8d77\u6765\u5f62\u6210\u65b0\u7684\u4e00\u4e2a\u5dee\u503c$x$\u3002\u6211\u4eec\u53ea\u8981\u5224\u65ad$x$\u662f\u5426\u4e3a\u5e8f\u5217\u516c\u5dee\u5373\u53ef\u3002\n\n* \u5bf9\u4e8e\u8fd9\u4e2a\u64cd\u4f5c\u6211\u4eec$O(n)$\u679a\u4e3e\u53bb\u6389\u90a3\u4e2a\u6570\u3002\u5c31\u662f\u5047\u88c5\u5148\u5220\u6389\u8fd9\u4e2a\u6570\u7136\u540e\u5224\u65ad\u4e00\u4e0b\u518d\u628a\u503c\u6539\u56de\u6765\uff0c\u5982\u679c\u5408\u6cd5\u76f4\u63a5\u8f93\u51fa\u5c31\u597d\u4e86\u3002\n\n* \u65f6\u95f4\u590d\u6742\u5ea6$O(n \\log\\ mx)$\uff0c\u56e0\u4e3a\u8981\u5f00\u4e2a$MAP$\u8bb0\u5f55\u5dee\u503c\u6240\u4ee5\u4ee3\u53ea$\\log$\n\n### $\\mathrm{Code}$\n\n```cpp\n#include <bits/stdc++.h>\n#define For(i,a,b) for ( int i=(a);i<=(b);i++ )\n#define Dow(i,b,a) for ( int i=(b);i>=(a);i-- )\n#define GO(i,x) for ( int i=head[x];i;i=e[i].nex )\n#define mem(x,s) memset(x,s,sizeof(x))\n#define cpy(x,s) memcpy(x,s,sizeof(x))\n#define YES return puts(\"YES\"),0\n#define NO return puts(\"NO\"),0\n#define GG return puts(\"-1\"),0\n#define pb push_back\n#define int long long \nusing namespace std;\n\ninline int read()\n{\n\tint sum=0,ff=1; char ch=getchar();\n\twhile(!isdigit(ch))\n\t{\n\t\tif(ch=='-') ff=-1;\n\t\tch=getchar();\n\t}\n\twhile(isdigit(ch))\n\t\tsum=sum*10+(ch^48),ch=getchar();\n\treturn sum*ff;\n}\n\nconst int mod=1e9+7;\nconst int mo=998244353;\nconst int N=2e5+5;\n\nint n,m,sum[N],b[N],flg,gs;\nmap<int,int> lyx,wyy;\n\nstruct Node\n{\n\tint x,id;\n\tinline bool friend operator < (const Node&a,const Node&b)\n\t{\n\t\treturn a.x<b.x;\n\t}\n};\nNode a[N];\n\nsigned main()\n{\n\tn=read();\n\tFor(i,1,n) a[i]=(Node){read(),i};\n\tsort(a+1,a+n+1);\n\tFor(i,1,n-1) \n\t{\n\t\tb[i]=a[i+1].x-a[i].x;\n\t\tlyx[b[i]]++;\n\t}\n\tif(a[1].x==a[n].x||lyx[b[1]]==n-1) return printf(\"%d\\n\",a[1].id),0;\n\tlyx[b[1]]--;\n\tif(lyx[b[2]]==n-2) return printf(\"%d\\n\",a[1].id),0;\n\tlyx[b[1]]++;\n\t\n\tlyx[b[n-1]]--;\n\tif(lyx[b[n-2]]==n-2) return printf(\"%d\\n\",a[n].id),0;\n\tlyx[b[n-1]]++;\n\t\n\tFor(i,2,n-1) \n\t{\n\t\tint x=b[i];\n\t\tint nxt=a[i+1].x-a[i-1].x;\n\t\tint pre=b[i-1];\n\t\tlyx[x]--,lyx[pre]--,lyx[nxt]++;\n\t\tif(lyx[nxt]==n-2) \n\t\t\treturn printf(\"%d\\n\",a[i].id),0;\n\t\tlyx[x]++,lyx[pre]++,lyx[nxt]--;\n\t}\n\tGG;\n}\n\t\t\n\t\n```\n",
        "postTime": 1590414672,
        "uid": 308464,
        "name": "\u5947\u7c73",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1185D \u3010Extra Element\u3011"
    },
    {
        "content": "# $\\text{CF1185D - Extra Element}$  \u9898\u89e3\n\n\n\n## \u9898\u76ee\u5927\u610f\n\n \u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u6570\u7ec4 $a$\uff0c\u95ee\u4f60\u80fd\u4e0d\u80fd\u901a\u8fc7\u53bb\u6389\u5176\u4e2d\u7684\u67d0\u4e2a\u5143\u7d20 $a_x$ \u5e76\u4e14\u5bf9\u4e8e\u5269\u4f59\u7684\u6570\u5217 $a$ \u8fdb\u884c\u91cd\u6392\uff0c\u4f7f\u5f97 $a$ \u6210\u4e3a\u4e00\u4e2a\u7b49\u5dee\u6570\u5217\uff0c\u5982\u679c\u53ef\u4ee5\uff0c\u8f93\u51fa $x$\uff0c\u5426\u5219\u8f93\u51fa $-1$\u3002\n\n\u6570\u636e\u8303\u56f4\u4fdd\u8bc1 $n\\le2\\times10^5$\u3002\n\n## \u601d\u8def\u5206\u6790\n\n\u505a\u9898\u7684\u65f6\u5019\u5f88\u8f7b\u677e\u79d2\u4e86\uff0c\u770b\u4e86\u4e00\u5708\u9898\u89e3\u8c8c\u4f3c\u6ca1\u6709\u8fd9\u79cd\u7684\u5c0f\u6e05\u65b0\u89e3\u6cd5\uff0c\u6545\u6765\u4e00\u53d1\u9898\u89e3\n\n\u9996\u5148 $a$ \u6392\u5e8f\u4e4b\u540e\u5fc5\u662f\u5355\u8c03\u9012\u589e\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u5728\u5220\u9664\u4e4b\u524d\u5c31\u5bf9 $a$ \u5347\u5e8f\u6392\u5e8f\uff0c\u8003\u8651\u5220\u9664\u67d0\u4e2a\u5143\u7d20\u540e\u80fd\u5426\u4f7f\u5f97 $a$ \u662f\u7b49\u5dee\u6570\u5217\u3002\n\n\u56e0\u4e3a\u91cd\u6392\u540e\u7684\u7b49\u5dee\u6570\u5217\u53ef\u4ee5\u53ea\u901a\u8fc7\u524d\u4e24\u9879\u786e\u5b9a\u6574\u4e2a\u5e8f\u5217\u7684\u5f62\u6001\uff0c\u6240\u4ee5\u6709\u4ee5\u4e0b\u4e09\u79cd\u60c5\u51b5\uff1a\n\n1. \u5220\u9664 $a_1$\uff0c\u4ee5 $a_2,a_3$ \u4f5c\u4e3a\u7b49\u5dee\u6570\u5217\u7684\u524d\u4e24\u9879\uff0c\u68c0\u67e5\u5269\u4f59\u7684\u5e8f\u5217\u662f\u5426\u662f\u7b49\u5dee\u6570\u5217\u5373\u53ef\n2. \u5220\u9664 $a_2$\uff0c\u4ee5 $a_1,a_3$ \u4f5c\u4e3a\u7b49\u5dee\u6570\u5217\u7684\u524d\u4e24\u9879\uff0c\u68c0\u67e5\u5269\u4f59\u7684\u5e8f\u5217\u662f\u5426\u662f\u7b49\u5dee\u6570\u5217\u5373\u53ef\n3. \u540c\u65f6\u4fdd\u7559 $a_1,a_2$\uff0c\u5728\u5269\u4e0b\u7684\u6570\u5217\u4e2d\u627e\u5230\u7b2c\u4e00\u5bf9 $a_j,a_{j-1}$ \u4f7f\u5f97 $a_{j}-a_{j-1}\\neq a_2-a_1$\uff0c\u6b64\u65f6 $a_j,a_{j-1}$ \u4e0d\u53ef\u80fd\u540c\u65f6\u5b58\u5728\uff0c\u6240\u4ee5\u5206\u522b\u679a\u4e3e\u5220\u9664 $a_j,a_{j-1}$ \u4e4b\u540e\u6784\u4e0d\u6784\u6210\u7b49\u5dee\u6570\u5217\u5373\u53ef\n\n\u5982\u679c\u4ee5\u4e0a\u56db\u79cd\u5220\u6570\u60c5\u51b5\u5747\u4e0d\u6ee1\u8db3\u8981\u6c42\uff0c\u5219\u65e0\u89e3\n\n\u8fd9\u79cd\u505a\u6cd5\u6700\u591a\u679a\u4e3e\u56db\u6b21\u5220\u9664\u64cd\u4f5c\uff0c\u590d\u6742\u5ea6\u7684\u74f6\u9888\u5728\u6392\u5e8f\u4e0a\uff0c\u590d\u6742\u5ea6 $\\Theta(n\\log n)$\n\n## \u4ee3\u7801\u5206\u6790\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int MAXN=2e5+1;\nstruct node {\n\tint val,id;\n\tinline friend bool operator <(const node &x,const node &y) {\n\t\treturn x.val<y.val;\n\t}\n}\ta[MAXN];\nint n;\ninline bool judge(int k) {\n\t//\u68c0\u67e5\u5220\u9664k\u540e\u80fd\u4e0d\u80fd\u6784\u6210\u7b49\u5dee\u6570\u5217 \n\tvector <int> seq;\n\tfor(int i=1;i<=n;++i) if(i!=k) seq.push_back(a[i].val);\n\tint d=seq[1]-seq[0];\n\tfor(int i=1;i<seq.size();++i) {\n\t\tif(seq[i]-seq[i-1]!=d) return false;\n\t}\n\treturn true;\n}\nsigned main() {\n\tscanf(\"%lld\",&n);\n\tfor(int i=1;i<=n;++i) scanf(\"%lld\",&a[i].val),a[i].id=i;\n\tif(n<=3) {\n\t\tputs(\"1\");\n\t\treturn 0;\n\t}\n\tsort(a+1,a+n+1);\n\tif(judge(1)) {\n\t\t//\u5220\u9664\u7b2c\u4e00\u9879 \n\t\tprintf(\"%lld\\n\",a[1].id);\n\t\treturn 0;\n\t}\n\tif(judge(2)) {\n\t\t//\u5220\u9664\u7b2c\u4e8c\u9879 \n\t\tprintf(\"%lld\\n\",a[2].id);\n\t\treturn 0;\n\t}\n\tbool flg=true;\n\tint d=a[2].val-a[1].val,k=0;\n\tfor(int i=3;i<=n;++i) {\n\t\tif(a[i].val-a[i-1].val!=d) {\n\t\t\t//\u627e\u5230\u4e0d\u6ee1\u8db3\u7684\u4e24\u9879\u5220\u9664 \n\t\t\tif(judge(i)) {\n\t\t\t\tprintf(\"%lld\\n\",a[i].id);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(judge(i-1)) {\n\t\t\t\tprintf(\"%lld\\n\",a[i-1].id);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tputs(\"-1\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1657067995,
        "uid": 539618,
        "name": "DaiRuiChen007",
        "ccfLevel": 6,
        "title": "CF1185D\u9898\u89e3"
    },
    {
        "content": "#### \u9898\u610f\n\n\u4ece\u5e8f\u5217\u4e2d\u5220\u9664\u4e00\u4e2a\u6570\uff0c\u4f7f\u5f97\u5269\u4e0b\u7684\u6570\u80fd\u91cd\u6392\u6210\u7b49\u5dee\u6570\u5217\u3002\n\n---\n\n#### \u89e3\u9898\u601d\u8def\n\n\u9996\u5148\u7ed9\u5e8f\u5217\u6392\u5e8f\uff0c\u4ee5\u4ee3\u66ff\u5220\u6570\u4e4b\u540e\u7684\u91cd\u6392\u3002\n\n\u56e0\u4e3a\u53ea\u4fdd\u7559 $n - 1$ \u4e2a\u6570\uff0c\u663e\u7136\u5982\u679c\u8981\u662f\u7b49\u5dee\u6570\u5217\uff0c\u516c\u5dee\u5fc5\u987b\u5728\u6392\u5e8f\u540e\u7684\u5e8f\u5217 $n - 1$ \u4e2a\u76f8\u90bb\u6570\u7684\u5dee\u4e2d\u51fa\u73b0\u81f3\u5c11 $n - 3$ \u6b21\u3002\uff08\u4fdd\u7559\u7684 $n - 1$ \u4e2a\u6570\u76f8\u90bb\u6709 $n - 2$ \u4e2a\u5dee\uff0c\u5176\u4e2d\u4e00\u4e2a\u5dee\u53ef\u80fd\u5728\u6392\u5e8f\u540e\u7684\u5e8f\u5217\u4e2d\u62fc\u5408\u800c\u6210\uff09\n\n\u6839\u636e\u4ee5\u4e0a\u6027\u8d28\uff0c\u6211\u4eec\u628a\u6392\u5e8f\u540e\u5e8f\u5217\u7684 $n - 1$ \u4e2a\u5dee\u653e\u5230 $\\text{set}$ \u91cc\uff0c\u7136\u540e\u5176\u4e2d\u51fa\u73b0 $n - 3$ \u6b21\u7684\u5dee\u5f53\u4f5c\u516c\u5dee $\\text{check}$ \u4e00\u4e0b\u3002\uff08\u4e0d\u4f1a\u8d85\u65f6\uff0c\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u9876\u591a $\\lfloor \\dfrac{n}{n - 3}\\rfloor$ \u4e2a\uff09\n\n\u81f3\u4e8e\u600e\u4e48 $\\text{check}$ \uff0c\u6211\u4eec\u53ea\u80fd\u5220\u4e00\u4e2a\u6570\uff0c\u76f4\u63a5\u626b\u8fc7\u53bb\uff0c\u9047\u5230\u4e0d\u6ee1\u8db3\u516c\u5dee\u7684\u6570\u5220\u6389\uff0c\u5982\u679c\u5220\u5b8c\u8fd8\u4e0d\u884c\uff0c\u90a3\u5c31\u4e0d\u884c\u4e86\u3002\u5982\u679c\u4e0d\u7528\u5220\u5c31\u6ee1\u8db3\u6761\u4ef6\uff0c\u5220\u9996\u5c3e\u4efb\u610f\u4e00\u4e2a\u6570\u3002",
        "postTime": 1561529706,
        "uid": 26673,
        "name": "Sooke",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1185D \u3010Extra Element\u3011"
    },
    {
        "content": "\u697c\u4e0a[Sooke\u5927\u4f6c](https://www.luogu.org/blog/Sooke/solution-cf1185d)\u5199\u7684\u975e\u5e38\u597d\uff0c\u6211\u8fd9\u91cc\u5c31\u518d\u8865\u5145\u4e00\u4e9bSooke\u5927\u4f6c\u6ca1\u5199\u5230\u7684\u7ec6\u8282\u5e76\u9644\u4e0a\u4ee3\u7801\u5b9e\u73b0\u3002\n\n### 1. \n\n\u6ce8\u610f\u4e00\u7ec4\u6570\u636e\uff1a\n```\n5\n1 2 2 3 4\n```\n\u5176\u4e2d\u516c\u5dee\u51fa\u73b0\u7684\u6b21\u6570\u56e0\u4e3a\u91cd\u590d\u5143\u7d20\u5bfc\u81f4\u5e76\u4e0d\u662f$n-3$\u800c\u662f$n-2$\n\n\u89e3\u51b3\u65b9\u6cd5\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5728$check$\u6240\u6709\u516c\u5dee\u6b21\u6570\u4e3a$n-3$\u7684\u65f6\u5019\u518d$check$\u4e00\u4e0b\u6240\u6709\u516c\u5dee\u4e3a$n-2$\u7684\u60c5\u51b5\u5c31\u597d\u4e86\n\n### 2.\n\n\u518d\u6ce8\u610f\u4e24\u7ec4\u6570\u636e\uff1a\n```\n5\n1 3 4 5 6\n```\n```\n5\n1 2 3 4 6\n```\n\u5176\u4e2d\u516c\u5dee\u51fa\u73b0\u6b21\u6570\u56e0\u4e3a\u9996\u9879\u6216\u8005\u672b\u9879\u88ab\u5220\u9664\uff0c\u5bfc\u81f4\u6ca1\u6709\u5f62\u6210\u65b0\u7684\u516c\u5dee\uff0c\u800c\u53d8\u6210$n-2$.\n\n\u89e3\u51b3\u65b9\u6cd5\uff1a\u7279\u5224\u4e00\u4e0b\u5f00\u5934\u548c\u7ed3\u5c3e\u5c31\u597d\u4e86\n\n### \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n#define il inline\n#define ll long long\n#define Max 1000005\n#define int long long\nusing namespace std;\nil ll read()\n{\n\tchar c=getchar();\n\tll x=0,f=1;\n\twhile(c>'9'||c<'0')\n\t{\n\t\tif(c=='-') f=-1;\n\t\tc=getchar();\n\t}\n\twhile(c>='0'&&c<='9')\n\t{\n\t\tx=x*10+c-'0';\n\t\tc=getchar();\n\t}\n\treturn x*f;\n}\nint n;\nstruct node\n{\n\tint id,x;\n}e[Max];\nil bool cmp(node a,node b)\n{\n\treturn a.x<b.x;\n}\nmap<int,int> h,vst;\nil void check(int k)\n{\n\tint pos=0;\n\tfor(int i=2;i<=n;i++) \n\t\tif(e[i].x-e[i-1].x!=k)\n\t\t{\n\t\t\tif(!pos) pos=i,i++;\n\t\t\telse return;\n\t\t}\n\tif(e[pos+1].x-e[pos-1].x!=k) return;\n\telse cout<<e[pos].id<<endl,exit(0);\n}\nsigned main()\n{\n\tn=read();\n\tfor(int i=1;i<=n;i++) e[i].id=i,e[i].x=read();\n\tsort(e+1,e+1+n,cmp);\n\tfor(int i=1;i<n;i++) h[e[i+1].x-e[i].x]++;\n\tif(h[e[2].x-e[1].x]==n-1) cout<<e[1].id<<endl,exit(0); //\u7279\u5224\u4e0d\u7528\u5220\u7684\u60c5\u51b5\n\tif(h[e[2].x-e[1].x]==n-2&&e[n].x-e[n-1].x!=e[2].x-e[1].x) cout<<e[n].id<<endl,exit(0); //\u7279\u5224\u7ed3\u5c3e\u5220\u7684\u60c5\u51b5\n\tif(h[e[3].x-e[2].x]==n-2&&e[2].x-e[1].x!=e[3].x-e[2].x) cout<<e[1].id<<endl,exit(0); //\u7279\u5224\u5f00\u5934\u5220\u7684\u60c5\u51b5\n\tfor(int i=1;i<n;i++) if((h[e[i+1].x-e[i].x]==n-3||h[e[i+1].x-e[i].x]==n-2)&&!vst[e[i+1].x-e[i].x]) vst[e[i+1].x-e[i].x]=1,check(e[i+1].x-e[i].x); //check\u516c\u5dee\u6b21\u6570\u4e3an-3\u548cn-2\u7684\u60c5\u51b5\n\tputs(\"-1\");\n}\n\n```",
        "postTime": 1562503741,
        "uid": 19172,
        "name": "lyzqs",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1185D \u3010Extra Element\u3011"
    },
    {
        "content": "\u9898\u76ee\u4f20\u9001\u95e8\uff1a[LG](https://www.luogu.com.cn/problem/CF1185D)\uff0c[CF](http://codeforces.com/problemset/problem/1185/D)\n\n## CF1185D Extra Element\n\n### 1. \u9898\u610f\n\n- \u7ed9\u4f60\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u6570\u5217 $a$\uff0c\u95ee\u80fd\u5426\u4ece $a$ \u4e2d\u5220\u9664\u4e00\u4e2a\u6570\uff0c\u4f7f\u5269\u4e0b $(n-1)$ \u4e2a\u6570\u80fd\u91cd\u6392\u6210\u4e00\u4e2a\u7b49\u5dee\u6570\u5217\u3002\uff08\u597d\u50cf\u90fd\u6ca1\u6ce8\u610f\u5230\u539f\u9898\u4e2d\u6570\u5217\u53eb $b$\uff09\n\n- $n\\le2\\times10^5,\\left\\vert a_i\\right\\vert\\le10^9$\n\n### 2. \u89e3\u6cd5\n\n\u4e0d\u4f1a\u6709\u4eba\u8fde\u8981\u5148\u6392\u5e8f\u90fd\u60f3\u4e0d\u5230\u5427\u3002\n\n\u8fd9\u91cc\u7ed9\u51fa\u4e00\u79cd**\u9664\u53bb\u6392\u5e8f** $O(n)$ \u7684\u7b97\u6cd5\u3002\n\n---\n\n\u5982\u679c\u6211\u4eec\u80fd\u786e\u5b9a\u6570\u5217\u4e2d\u4e24\u4e2a\u6570\u7684\u503c\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6c42\u51fa\u516c\u5dee\uff0c\u8fdb\u800c\u6c42\u51fa\u6574\u4e2a\u6570\u5217\u3002\n\n\u4e8e\u662f\u6211\u4eec\u60f3\u5230~~\u5206\u8bba\u8ba8\u7c7b~~\u5206\u7c7b\u8ba8\u8bba\u3002\n\n- \u5982\u679c\u540c\u65f6\u4fdd\u7559 $a_1$ \u548c $a_2$\uff1a\n\n\u6b64\u65f6\uff0c\u516c\u5dee $d=a_2-a_1$\u3002\u6b64\u65f6\uff0c\u5bf9\u4e8e\u6bcf\u4e2a $2\\le i<n$\uff0c\u5e94\u6709 $a_{i+1}-a_i=d$\u3002\n\n\u5982\u679c\u4e0d\u6ee1\u8db3\uff0c\u5219\u8bf4\u660e\u5e94\u8be5\u5220\u9664 $a_{i+1}$\uff0c\u6b64\u65f6\u6709 $a_{i+2}-a_i=d$\u3002\n\n\u82e5\u4ecd\u4e0d\u6ee1\u8db3\uff0c\u6216\u5df2\u7ecf\u5220\u9664\u4e86\u4e00\u4e2a\u6570\uff0c\u5219\u8bf4\u660e\u6b64\u60c5\u51b5\u65e0\u89e3\u3002\n\n\u5426\u5219\uff0c\u8bb0\u5f55\u5220\u9664\u4f4d\u7f6e $pos=i+1$\u3002\n\n\u5982\u679c\u904d\u5386\u5230 $i=n-1$ \u90fd\u6ca1\u6709\u4ea7\u751f\u77db\u76fe\uff0c\u5219\u8bf4\u660e\u6b64\u60c5\u51b5\u6709\u89e3\u3002\u5982\u679c $pos$ \u88ab\u66f4\u65b0\u8fc7\uff0c\u76f4\u63a5\u8fd4\u56de $pos$\u3002\u5426\u5219\u8bf4\u660e $a$ \u672c\u8eab\u5c31\u662f\u7b49\u5dee\u6570\u5217\uff0c\u8fd4\u56de $1$ \u6216 $n$ \u90fd\u53ef\u4ee5\u3002\n\n- \u5982\u679c\u5220\u9664 $a_1$ \u6216 $a_2$\uff1a\n\n\u5982\u679c\u5220 $a_1$\uff0c\u5219 $d=a_3-a_2$\uff0c\u5982\u679c\u5220 $a_2$\uff0c\u5219 $d=a_3-a_1$\u3002\n\n\u6b64\u65f6\u76f4\u63a5\u66b4\u529b\u68c0\u67e5\uff0c\u4e0d\u9700\u8981\u8bb0\u5f55 $pos$\uff08\u56e0\u4e3a\u5df2\u7ecf\u5220\u6389\u4e00\u4e2a\u6570\u4e86\uff09\u3002\n\n---\n\n\u590d\u6742\u5ea6\u5206\u6790\uff1a\u5bf9\u4e8e\u8ba8\u8bba\u7684\u8fc7\u7a0b\uff0c\u524d\u4e00\u79cd\u60c5\u51b5\u53ea\u9700\u8981\u626b\u4e00\u904d\u6570\u7ec4\uff0c\u540e\u8005\u626b\u4e24\u904d\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n)$\u3002\u52a0\u4e0a\u6392\u5e8f\uff0c\u603b\u590d\u6742\u5ea6\u4e3a $O(n\\log n)$\u3002\n\n### 3. \u7ec6\u8282\n\n1. \u8f93\u5165\uff08\u7701\u7565 $n$\uff09\u4e3a `1 2 3 4 6`\uff0c\u7b54\u6848\u4e3a $5$\u3002\u6b64\u65f6\uff0c\u524d\u4e00\u79cd\u60c5\u51b5\u5728 $i=4$ \u65f6\uff0c$a_{i+1}-a_i\\ne d$\u3002\u6b64\u65f6 $a_{i+2}$ \u4e0d\u5b58\u5728\uff0c\u4e0d\u5e94\u8ba1\u7b97 $a_{i+2}-a_i$\uff0c\u5e94\u76f4\u63a5\u6309\u6ee1\u8db3\u5904\u7406\uff0c\u6216\u8ba9 $a_{n+1}$ \u7b49\u4e8e $a_{n-1}+d$\uff08\u60f3\u60f3\u4e3a\u5565\u53ef\u4ee5\u8fd9\u6837\uff09\u3002\n\n2. \u9898\u76ee\u8ba9\u4f60\u8f93\u51fa**\u539f\u6570\u5217\u4e2d\u7684\u4e0b\u6807**\uff0c\u4e0d\u662f\u5220\u9664\u7684\u6570\u503c\uff0c\u66f4\u4e0d\u662f\u6392\u5e8f\u540e\u6570\u5217\u7684\u4e0b\u6807\u3002\n\n### 4. Code\n\n> Talk is cheap, show me the code. ~~\u7801\u98ce\u5947\u4e11\u3002~~\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=200005;\nint n,a[N],pos,a_[N];\nint sol()\n{\n\tsort(a+1,a+n+1);\n\tint d=a[2]-a[1];//keep a[1] & a[2]\n\ta[n+1]=a[n-1]+d;//\u4e0a\u9762\u8bf4\u7684\n\tfor(int i=2;i<n;i++)\n\t\tif(a[i+1]-a[i]!=d)\n\t\t\tif(a[i+2]-a[i]==d&&!pos)pos=++i;\n\t\t\telse\n\t\t\t{\n\t\t\t\tint ok=1;\n\t\t\t\td=a[3]-a[2];//delete a[1]\n\t\t\t\tfor(int i=4;i<=n;i++)\n\t\t\t\t\tif(a[i]-a[i-1]!=d)\n\t\t\t\t\t{\n\t\t\t\t\t\tok=0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\tif(ok)return 1;\n\t\t\t\tok=1;\n\t\t\t\td=a[3]-a[1];//delete a[2]\n\t\t\t\tfor(int i=4;i<=n;i++)\n\t\t\t\t\tif(a[i]-a[i-1]!=d)\n\t\t\t\t\t{\n\t\t\t\t\t\tok=0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\tif(ok)return 2;\n\t\t\t\treturn 1919810;//no solution\n\t\t\t}\n\tif(pos)return pos;\n\telse return n;\n}\nint main()\n{\n\tios::sync_with_stdio(0),cin.tie(0),cout.tie(0);\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)cin>>a[i];\n\tmemcpy(a_,a,sizeof(a));\n\tint ans=sol();\n\tif(ans==1919810)puts(\"-1\");\n\telse\n\t{\n\t\tfor(int i=1;i<=n;i++)//\u8f93\u51fa\u539f\u6570\u7ec4\u4e0b\u6807\n\t\t\tif(a_[i]==a[ans])return cout<<i,0;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1673008658,
        "uid": 549499,
        "name": "Donotplaygame",
        "ccfLevel": 5,
        "title": "CF1185D \u9898\u89e3"
    }
]