[
    {
        "content": "\u5c0f\u6e05\u65b0\u4ea4\u4e92\u9898\u3002\n\n## \u9898\u89e3\n\n\u9996\u5148\u89c2\u5bdf\u9898\u76ee\u4e2d\u6240\u7ed9\u7684\u8be2\u95ee\u64cd\u4f5c\u5230\u5e95\u6709\u4ec0\u4e48\u7528\u5904\u3002\u53d1\u73b0\uff0c\u5982\u679c\u6574\u5f20\u56fe\u662f\u4e00\u4e2a\u8fde\u901a\u56fe\uff0c\u90a3\u4e48\u6bcf\u6b21\u8be2\u95ee\u7684\u7ed3\u679c\u5fc5\u5b9a\u662f $1$\uff1b\u5426\u5219\u53ef\u80fd\u662f $1$ \u4e5f\u53ef\u80fd\u662f $0$\uff08\u56e0\u4e3a\u603b\u662f\u6709\u6982\u7387\u4ece\u4f60\u9009\u5b9a\u7684 $s$ \u5904\u51fa\u53d1\uff0c\u8fd9\u6837\u5fc5\u7136\u80fd\u5230\u8fbe\uff09\u3002\n\n\u4e0b\u6587\u4e2d\u6240\u6709\u300c\u8fde\u901a\u300d\u3001\u300c\u4e0d\u8fde\u901a\u300d\u3001\u300c\u6865\u300d\u7684\u6982\u5ff5\u5168\u662f\u5728\u53ea\u8003\u8651\u56fe\u4e0a\u5173\u952e\u8fb9\u7684\u60c5\u51b5\u4e0b\u3002\n\n\u5047\u8bbe\u539f\u56fe\u672c\u6765\u662f\u4e00\u4e2a\u8fde\u901a\u56fe\uff0c\u6211\u4eec\u628a\u67d0\u6761\u8fb9 $\\langle u,v\\rangle$ \u5220\u9664\u540e\uff0c\u53d8\u6210\u4e86\u4e24\u4e2a\u8fde\u901a\u5757\uff0c$u, v$ \u6240\u5728\u7684\u8fde\u901a\u5757\u7684\u5927\u5c0f\u5206\u522b\u4e3a $a,b$\uff0c\u90a3\u4e48\u6211\u4eec\u8be2\u95ee $u$ \u65f6\u6709 $\\dfrac{a}{a+b}$ \u7684\u6982\u7387\u5f97\u5230 $1$\uff0c\u8be2\u95ee $v$ \u65f6\u6709 $\\dfrac{b}{a+b}$ \u7684\u6982\u7387\u5f97\u5230 $1$\u3002\u5206\u522b\u8be2\u95ee $k$ \u6b21\uff0c\u5f97\u5230\u7684\u8be2\u95ee\u4e2d\u5b58\u5728 $0$ \u7684\u6982\u7387\u662f $1-\\left(\\dfrac{a}{a+b}\\right)^k\\left(\\dfrac{b}{a+b}\\right)^k$\u3002\u56e0\u4e3a $a/(a+b)$ \u548c $b/(a+b)$ \u91cc\u80af\u5b9a\u6709\u4e00\u4e2a\u4e0d\u8d85\u8fc7 $1/2$\uff0c\u6240\u4ee5\u5f53 $k=20$ \u65f6\u8be2\u95ee\u51fa\u73b0 $0$ \u7684\u6982\u7387\u4e0d\u5c0f\u4e8e $99.9999\\%$\uff0c\u53ef\u4ee5\u8fd1\u4f3c\u4e3a\u4e00\u5b9a\u4f1a\u51fa\u73b0\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u901a\u8fc7 $2k+1$ \u6b21\u64cd\u4f5c\u5c31\u53ef\u4ee5\u5224\u5b9a $\\langle u,v\\rangle$ \u662f\u4e0d\u662f\u539f\u56fe\u7684\u6865\u3002\n\n\u7136\u800c\u65e0\u5411\u8fde\u901a\u56fe\u8fd8\u662f\u4e0d\u592a\u597d\u4e0b\u624b\u3002\u8003\u8651\u968f\u4fbf\u9009\u53d6\u5176\u4e2d\u4e00\u4e2a\u751f\u6210\u6811\u3002\u90a3\u4e48\u751f\u6210\u6811\u4e0a\u6bcf\u6761\u8fb9\u80af\u5b9a\u90fd\u662f\u6865\u3002\u73b0\u5728\u8981\u68c0\u67e5\u4e0d\u5728\u751f\u6210\u6811\u4e0a\u7684\u4e00\u6761\u8fb9 $\\langle s,t\\rangle$ \u662f\u4e0d\u662f\u5173\u952e\u8fb9\uff0c\u53ea\u8981\u968f\u4fbf\u628a\u751f\u6210\u6811\u4e0a $s,t$ \u4e4b\u95f4\u7684\u4efb\u610f\u4e00\u6761\u8fb9\u65ad\u5f00\uff0c\u628a $\\langle s,t\\rangle$ \u8fde\u4e0a\uff0c\u518d\u82b1 $2k$ \u6b21\u64cd\u4f5c\u68c0\u67e5 $s,t$ \u662f\u5426\u8fde\u901a\u5373\u53ef\u3002\u4e0d\u8fc7\u68c0\u67e5\u5b8c\u8bb0\u5f97\u6062\u590d\u6210\u539f\u6837\u3002\n\n\u4e0d\u8fc7\u600e\u4e48\u83b7\u5f97\u539f\u56fe\u7684\u4e00\u4e2a\u751f\u6210\u6811\u5462\uff1f\u53ef\u4ee5\u8003\u8651\u679a\u4e3e\u6bcf\u6761\u8fb9\uff0c\u5224\u65ad\u5b83\u662f\u4e0d\u662f\u6865\uff0c\u5982\u679c\u4e0d\u662f\u6865\u5c31\u628a\u5b83\u5220\u6389\uff0c\u8fd9\u6837\u5269\u4e0b\u6765\u7684\u8fb9\u80af\u5b9a\u80fd\u7ec4\u6210\u4e00\u4e2a\u751f\u6210\u6811\uff0c\u6b63\u786e\u6027\u6bd4\u8f83\u663e\u7136\u3002\u5f53\u7136\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u6709\u5173\u952e\u8fb9\u88ab\u5220\u6389\uff0c\u6240\u4ee5\u9700\u8981\u6309\u7167\u4e0a\u8ff0\u6b65\u9aa4\u5728\u627e\u5230\u751f\u6210\u6811\u540e\u68c0\u67e5\u88ab\u5220\u9664\u7684\u8fb9\u3002\n\n\u603b\u64cd\u4f5c\u6b21\u6570 $(4k+o)m$\u3002\u8fd9\u91cc\u53d6\u4e86 $k=20$\u3002\n\n## \u53c2\u8003\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define up(l, r, i) for(int i = l, END##i = r;i <= END##i;++ i)\n#define dn(r, l, i) for(int i = r, END##i = l;i >= END##i;-- i)\nusing namespace std;\ntypedef long long i64;\nconst int INF = 2147483647;\nconst int MAXN= 2e3 + 3;\nconst int MAXM= 2e3 + 3;\nint U[MAXM], V[MAXM], n, m, k = 20;\nbool check_cut(int x){\n    int u = U[x], v = V[x], t;\n    bool f = false;\n    up(1, k, i){\n        cout << \"? \" << u << endl; cin >> t; f |= (t == 0);\n        cout << \"? \" << v << endl; cin >> t; f |= (t == 0);\n        if(f == true) break;\n    }\n    return f;\n}\nvector <pair<int, int> > X[MAXN];\nint F[MAXN], D[MAXN]; bool E[MAXN], I[MAXN];\nvoid dfs(int u, int f){\n    for(auto &e : X[u]) if(e.second != f){\n        int v = e.second;\n        F[v] = e.first, D[v] = D[u] + 1, dfs(v, u);\n    }\n}\nint main(){\n    int T; cin >> T;\n    up(1, T, _){\n        cin >> n >> m;\n        up(1, n, i) F[i] = D[i] = 0, X[i].clear();\n        up(1, m, i) E[i] = I[i] = 0;\n        up(1, m, i){\n            cin >> U[i] >> V[i];\n        }\n        up(1, m, i){\n            int u = U[i], v = V[i];\n            cout << \"- \" << i << endl;\n            if(check_cut(i)){\n                X[u].push_back({i, v});\n                X[v].push_back({i, u});\n                cout << \"+ \" << i << endl;\n                I[i] = true;\n            } else E[i] = true;\n        }\n        dfs(1, 0);\n        // up(1, n, i) printf(\"%d \", F[i]); puts(\"\");\n        up(1, m, i) if(E[i]){\n            int u = U[i], v = V[i];\n            if(D[u] < D[v]) swap(u, v);\n            cout << \"- \" << F[u] << endl;\n            cout << \"+ \" <<   i  << endl;\n            if(!check_cut(i)) I[i] = true;\n            cout << \"- \" <<   i  << endl;\n            cout << \"+ \" << F[u] << endl;\n        }\n        cout << \"!\";\n        up(1, m, i) cout << \" \" << I[i];\n        cout << endl;\n        int f; cin >> f; if(f == 0) return 0;\n    }\n    return 0;\n}\n```",
        "postTime": 1682571401,
        "uid": 68344,
        "name": "\u79bb\u6563\u5c0f\u6ce2\u53d8\u6362\u00b0",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1819E \u3010Roads in E City\u3011"
    },
    {
        "content": "\u627e\u4e2a\u597d\u73a9\u9898\u590d\u5efa\u5927\u8111\u3002\n\n\u5148\u6218\u672f\u770b\u9519\u9898\uff0c\u770b\u6f0f\u771f\u8fb9\u8fde\u901a\u7684\u6761\u4ef6\uff0c\u5927\u529b\u77aa\u773c $114514$ \u5c0f\u65f6\u53d1\u73b0\u4e0d\u53ef\u505a\u3002\u8003\u8651\u6570\u636e\u662f\u4e00\u4e2a\u83ca\u82b1\uff0c$s$ \u968f\u673a\u9009\u62e9\u975e $1$ \u70b9\uff0c\u5219\u6709\u4e00\u6761\u771f\u8fb9\u548c\u6ca1\u6709\u771f\u8fb9\u7684\u60c5\u51b5\u5b8c\u5168\u4e00\u6837\uff0c\u6240\u4ee5\u4e0d\u53ef\u505a\u4e86\u3002\n\n\u4e8e\u662f\u53d1\u73b0\u8fde\u901a\u5f88\u91cd\u8981\uff0c\u4e8e\u662f\u8003\u8651\u627e\u51fa\u4e00\u4e2a\u771f\u8fb9\u751f\u6210\u6811\u3002\u5982\u679c\u65ad\u6389\u8fb9 $(u,v)$ \u540e\u56fe\u65e0\u6cd5\u901a\u8fc7\u771f\u8fb9\u8fde\u901a\uff0c\u5219 $(u,v)$ \u4e3a\u4e00\u6761\u6811\u8fb9\uff0c\u5e76\u5c06 $(u,v)$ \u91cd\u65b0\u8fde\u63a5\uff0c\u5426\u5219\u5c06 $(u,v)$ \u6c38\u4e45\u65ad\u6389\u3002\u6211\u4eec\u65ad\u6389 $(u,v)$\uff0c\u4ee5 $\\frac{1}{2}$ \u7684\u6982\u7387\u968f\u673a\u9009\u62e9 $u,v$ \u4e4b\u4e00\u8fdb\u884c\u8be2\u95ee\u3002\u5982\u679c $(u,v)$ \u662f\u771f\u6811\u8fb9\uff0c\u8bbe\u65ad\u6389 $(u,v)$ \u540e\u4e24\u4e2a\u8fde\u901a\u5757\u5927\u5c0f\u5206\u522b\u4e3a $a,b$\uff0c\u5219\u6bcf\u6b21\u8be2\u95ee\u6709 $\\frac{1}{2}(\\frac{a}{n}+\\frac{b}{n})=\\frac{1}{2}$ \u7684\u6982\u7387\u5f97\u5230\u5426\u5b9a\u56de\u7b54\u3002\u5982\u679c\u8be2\u95ee\u8db3\u591f\u591a\u6b21\u4ecd\u672a\u51fa\u73b0\u5426\u5b9a\u7b54\u6848\uff0c\u6211\u4eec\u8ba4\u4e3a\u65ad\u6389 $(u,v)$ \u540e\u56fe\u4f9d\u7136\u53ef\u4ee5\u901a\u8fc7\u771f\u8fb9\u8fde\u901a\u3002\n\n\u5bf9\u4e8e\u975e\u6811\u8fb9 $(u,v)$\uff0c\u6211\u4eec\u65ad\u6389 $u,v$ \u8def\u5f84\u4e0a\u7684\u4e00\u6761\u8fb9\u5e76\u8fde\u63a5 $(u,v)$\uff0c\u4ee5 $\\frac{1}{2}$ \u7684\u6982\u7387\u968f\u673a\u9009\u62e9 $u,v$ \u4e4b\u4e00\u8fdb\u884c\u8be2\u95ee\u3002\u5982\u679c $(u,v)$ \u662f\u771f\u8fb9\uff0c\u5219\u4e00\u5b9a\u4f1a\u5f97\u5230\u80af\u5b9a\u56de\u7b54\u3002\u5426\u5219\u8bbe\u4e24\u4e2a\u8fde\u901a\u5757\u5927\u5c0f\u5206\u522b\u4e3a $(a,b)$\uff0c\u5219\u6bcf\u6b21\u8be2\u95ee\u6709 $\\frac{1}{2}$ \u7684\u6982\u7387\u5f97\u5230\u5426\u5b9a\u56de\u7b54\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u786e\u5b9a\u4e86\u6240\u6709\u7684\u975e\u6811\u8fb9\u662f\u4e0d\u662f\u771f\u8fb9\u3002",
        "postTime": 1682084653,
        "uid": 414210,
        "name": "Iam1789",
        "ccfLevel": 0,
        "title": "CF1819E Roads in E City \u9898\u89e3"
    }
]