[
    {
        "content": "\u8fd0\u884c\u65f6\u95f4\uff1a$60ms$\u3002\n\n### \u9898\u610f\uff08\u81ea\u5df1\u7684\u7406\u89e3\uff09\uff1a\n\n\u9996\u5148\uff0c\u6709\u4e00\u4e2a\u6b63\u6574\u6570 $X \\in [1,m]$ \uff0c\u8868\u793a\u8fd9\u4e2a\u5854\u7684\u603b\u4f53\u79ef\u3002\u7136\u540e\uff0c\u4ed6\u6bcf\u6b21\u603b\u662f\u5c3d\u53ef\u80fd\u5730\u6dfb\u52a0\u6700\u5927\u7684\u6728\u5757\uff0c\u4e5f\u5c31\u662f\u7b2c\u4e00\u5c42\u8981\u653e\u4f53\u79ef\u6700\u5927\u4e0d\u8d85\u8fc7 $X$ \u7684\u6b63\u65b9\u4f53\u3002\u7136\u540e\u518d\u9009\u4e00\u4e2a\u5f53\u524d\u6700\u5927\u7684\u6b63\u65b9\u4f53\u505a\u7b2c\u4e8c\u5c42\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e2a\u6b63\u65b9\u4f53\u7684\u4f53\u79ef\u4e0d\u8d85\u8fc7 $(X-$ \u7b2c\u4e00\u5c42\u7684\u4f53\u79ef $)$\u3002\u7136\u540e\u518d\u9009\u4e00\u4e2a\u5f53\u524d\u6700\u5927\u7684\u6b63\u65b9\u4f53\u505a\u7b2c\u4e09\u5c42\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e2a\u6b63\u65b9\u4f53\u7684\u4f53\u79ef\u4e0d\u8d85\u8fc7 $(X-$ \u7b2c\u4e00\uff0c\u4e8c\u5c42\u7684\u603b\u4f53\u79ef $)$\u3002\n\n\u4f60\u6240\u505a\u7684\uff0c\u662f\u8981\u4f7f\u5757\u7684\u4e2a\u6570\u5c3d\u53ef\u80fd\u591a\uff0c\u5728\u8fd9\u4e2a\u6761\u4ef6\u4e0b\uff0c$X$ \u5c3d\u91cf\u5927\u3002\n\n---\n\n\u8fd9\u9053\u9898\u53ef\u4ee5\u5bf9\u64cd\u4f5c\u8fdb\u884c\u679a\u4e3e\uff0c\u6765\u6c42\u51fa\u6700\u5927\u7684 $h$\uff0c\u548c\u4e0e\u5176\u5bf9\u5e94\u7684\u6700\u5927\u7684 $X$\u3002\n\n\u6211\u4eec\u5b9a\u4e49\u5269\u4f59\u4f53\u79ef\u4e3a $X$ \u51cf\u53bb\u5df2\u642d\u5efa\u7684\u6b63\u65b9\u4f53\u7684\u603b\u4f53\u79ef\u3002\n\n1. \u6bcf\u6b21\u642d\u6b63\u65b9\u4f53\u53ef\u4ee5\u7528\u4e00\u4e2a\u5f53\u524d\u6700\u5927\u7684\u6b63\u65b9\u4f53\uff0c\u8bbe\u6b64\u8fb9\u957f\u4e3a $L$\u3002\n2. \u53e6\u5916\u4e00\u79cd\u662f\uff1a\u5c06\u5269\u4f59\u4f53\u79ef\u53d8\u4e3a $L^3-1$\uff0c\u518d\u7528\u4e00\u4e2a\u8fb9\u957f\u662f $L-1$ \u7684\u6b63\u65b9\u4f53\uff08\u5f53\u524d\u6700\u5927\u7684\u6b63\u65b9\u4f53\uff09\u3002\u539f\u7406\uff1a\u5b83\u8981\u6c42\u603b\u5757\u6570\u6700\u591a\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c3d\u53ef\u80fd\u653e\u5c0f\u6b63\u65b9\u4f53\uff0c\u4f7f\u5f97\u4f53\u79ef\u5206\u914d\u66f4\u591a\uff0c\u5757\u6570\u4e5f\u66f4\u591a\u3002\n3. \u5982\u679c\u5c06\u5269\u4f59\u4f53\u79ef\u53d8\u5f97\u66f4\u5c0f\uff0c\u7528\u4e00\u4e2a\u8fb9\u957f\u662f $L-2$ \u7684\u6b63\u65b9\u4f53\uff0c\u90a3\u6837\u5c31\u4f1a\u6d6a\u8d39\u5f88\u591a\u7684\u4f53\u79ef\uff0c\u4f7f\u5f97\u5757\u6570\u53d8\u5c11\u3002\u6240\u4ee5\u8fd9\u79cd\u65b9\u6cd5\u4e0d\u53ef\u884c\u3002\n4. \u56e0\u4e3a\u53ea\u6709\u4e24\u79cd\u64cd\u4f5c\u65b9\u6848\uff0c\u6240\u4ee5\u53ef\u4ee5dfs\u641c\u7d22\uff0c\u6bcf\u6b21\u66f4\u65b0\u7b54\u6848\uff08$24-31$ \u884c\uff0c\u8be6\u89c1\u6ce8\u91ca\uff09\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long m;\nlong long h,v;\nlong long fp(long long a,long long b){//\u5feb\u901f\u5e42\n\tlong long ans=1;\n\twhile(b>0){\n\t\tif(b&1){\n\t\t\tans=ans*a;\n\t\t}\n\t\ta=a*a;\n\t\tb>>=1;\n\t}\n\treturn ans;\n}\nvoid dfs(long long a/*\u5269\u4f59\u4f53\u79ef*/,long long nh/*\u5f53\u524d\u9ad8\u5ea6\uff08\u5757\u6570\uff09*/,long long nv/*\u5df2\u642d\u5efa\u7684\u6b63\u65b9\u4f53\u7684\u603b\u4f53\u79ef*/){\n    if(a<=0){//\u5982\u679c\u5269\u4f59\u4f53\u79ef<=0,\u90a3\u4e48\u8bf4\u660e\u642d\u5efa\u5b8c\u6210\u3002\n        if(nh>h){h=nh;v=nv;}\n        else if(nh==h){\n            if(nv>v){v=nv;}\n        }\n        //(\u66f4\u65b0\u6570\u636e)\n        return;\n    }\n    long long l=1,r=100001;//cbrt(10^15)=100000 \u4e8c\u5206\u67e5\u627e\u5f53\u524d\u4f53\u79ef\u4e0b\u6700\u5927\u53ef\u7528\u7684\u8fb9\u957f\u3002\n    while(l<=r){\n        long long mid=l+r>>1;\n        if(fp(mid,3)<=a)l=mid+1;\n        else r=mid-1;\n    }\n    long long L=l-1;//\u4e8c\u5206\u7b54\u6848-1\n    \n    ////1.\u642d\u5efa\u4e00\u4e2a\u6700\u5927\u6b63\u65b9\u4f53\uff1a\n    \n    dfs(a-fp(L,3),nh+1,nv+fp(L,3));\n    //\u5269\u4f59\u4f53\u79ef\uff1a\u539f\u5269\u4f59\u4f53\u79ef-L^3\n    //\u9ad8\u5ea6\uff1a\u539f\u9ad8\u5ea6+1\n    //\u603b\u4f53\u79ef\uff1a\u539f\u4f53\u79ef+L^3\n    \n    ////2.\u642d\u5efa\u4e00\u4e2a\u8fb9\u957f\u4e3aL-1\u7684\u6b63\u65b9\u4f53\n    if(!(L<=1)){//L==1\u65f6\uff0c\u6b63\u65b9\u4f53\u8fb9\u957f\u4e3a0\uff0c\u4e0d\u8ba1\u7b97\u3002\n        dfs(fp(L,3)-1-fp(L-1,3),nh+1,nv+fp(L-1,3));\n        //\u5269\u4f59\u4f53\u79ef\uff1a\u6700\u5927\u7684\u5269\u4f59\u4f53\u79ef\u5fc5\u987b\u5c0f\u4e8eL^3,\u4e0d\u7136\u4e0a\u9762\u8fd9\u4e00\u79cd\u65b9\u6cd5\u66f4\u4f18\uff0c\n        //\u4e3a\u4e86\u603b\u4f53\u79ef\u66f4\u5927\uff0c\u5269\u4f59\u4f53\u79ef\u5e94\u7b49\u4e8eL^3-1\u3002\n        //\u518d\u51cf\u53bb\u8fd9\u4e2a\u8fb9\u957f\u4e3a\uff08L-1)^3\u7684\u6b63\u65b9\u4f53\uff0c\u5f97\u5230\u5269\u4f59\u4f53\u79ef=fp(L,3)-1-fp(L-1,3)\u3002\n        //\u9ad8\u5ea6\uff1a\u539f\u9ad8\u5ea6+1\n    \t  //\u603b\u4f53\u79ef\uff1a\u539f\u4f53\u79ef+(L-1)^3\n    }\n}\nint main(){\n    cin>>m;\n    dfs(m,0,0);//\u641c\u7d22\uff0cm\u4e3a\u5269\u4f59\u4f53\u79ef\uff0c0\u4e3a\u5757\u6570\uff0c\u7b2c\u4e8c\u4e2a0\u4e3a\u5df2\u642d\u5efa\u7684\u4f53\u79ef\n    cout<<h<<' '<<v<<endl;\n}\n```\n",
        "postTime": 1663749075,
        "uid": 707914,
        "name": "Assicd145",
        "ccfLevel": 0,
        "title": "CF679B \u9898\u89e3"
    },
    {
        "content": "\u5bb9\u6613\u60f3\u5230\u8d2a\u5fc3\uff0c\u4f46\u662f\u8d2a\u5fc3\u6c42\u51fa\u7684 $x$ \u5e76\u4e0d\u662f\u6700\u5927\u7684\u3002\u4e0d\u8fc7\u6211\u4eec\u8f93\u5165 $10^{15}$ \u53ef\u4ee5\u77e5\u9053\u7b54\u6848\u6700\u5927\u4e5f\u53ea\u6709 $18$\u3002\n\n\u6253\u8868\u4e5f\u8bb8\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u725b\u903c\u7ed3\u8bba\uff0c\u6211\u4eec\u9009\u62e9\u7684\u6700\u5927\u7684\u6570\u8981\u4e48\u662f $a=\\lfloor\\sqrt[3]{m}\\rfloor$\uff0c\u8981\u4e48\u662f $a-1$\u3002\u5982\u4f55\u8bc1\u660e?\n\n\u8003\u8651\u5982\u679c\u9009\u4e86 $t$\uff0c\u90a3\u4e48 $x$ \u6700\u591a\u662f $(t+1)^3-1$\uff0c\u4e8e\u662f\u6700\u591a\u53ea\u5269\u4e0b $\\min(m-t^3,(t+1)^3-t^3-1)$ \u8fd8\u53ef\u4ee5\u7528\u3002\n\n\u5982\u679c\u6211\u4eec\u9009\u4e86 $a$\uff0c\u90a3\u4e48\u5269\u4e0b $m-a^3$\u3002\n\n\u5982\u679c\u6211\u4eec\u9009\u4e86 $a-1$\uff0c\u90a3\u4e48\u5269\u4e0b $\\min(m-(a-1)^3,a^3-(a-1)^3-1)$\u3002\n\n\u5982\u679c\u6211\u4eec\u9009\u4e86 $a-2$\uff0c\u90a3\u4e48\u5269\u4e0b $\\min(m-(a-2)^3,(a-1)^3-(a-2)^3-1)$\u3002\n\n\u6ce8\u610f\u5230 $m\\geq a^3$\uff0c\u4e8e\u662f\u5bf9\u4e8e\u540e\u4e24\u4e2a\uff0c$\\min$ \u603b\u662f\u5728\u540e\u8005\u53d6\u5f97\u3002\u6240\u4ee5\u5982\u679c\u9009\u4e86 $a-2$\uff0c\u5f97\u5230\u7684\u5c11\uff0c\u5269\u4e0b\u7684\u4e5f\u5c11\uff0c\u6240\u4ee5\u9009 $<a-1$ \u7684\u5fc5\u7136\u4e0d\u4f18\u3002\u4e8e\u662f\u7531\u4e8e\u7b54\u6848\u4e0d\u8d85\u8fc7 $18$\uff0c\u76f4\u63a5\u641c\u5c31\u884c\u4e86\u3002\n\n\u5443\u8fd9\u4e2a\u4e5f\u53ef\u4ee5\u5206\u6790\u590d\u6742\u5ea6\u3002\u6ce8\u610f\u5230 $m-(\\lfloor\\sqrt[3]{m}\\rfloor-1)^3$ \u770b\u8d77\u6765\u5f88\u5c0f\uff0c\u80e1\u4e71\u4f30\u8ba1\u4e00\u4e0b\u5b83\u4e0d\u8d85\u8fc7 $6m^{\\frac{2}{3}}+1$\uff0c\u4e8e\u662f\u9012\u5f52\u5c42\u6570\u662f $O(\\log\\log m)=\\lg O(\\log^c m)$ \u7ea7\u522b\uff0c\u5176\u4e2d\u5e38\u6570 $c>1$ \u4f46\u662f\u5177\u4f53\u662f\u591a\u5c11\u6211\u6709\u70b9\u61d2\u5f97\u7b97\uff0c\u603b\u4e4b\u6211\u4eec\u7684\u590d\u6742\u5ea6\u5c31\u662f $O(\\log^c m)$\u3002\n\n```cpp\n#include<stdio.h>\n#include<math.h>\n\ninline long long min(long long x,long long y){ return x<y?x:y; }\n\nlong long m;\n\ninline long long cb(long long x){ return x*x*x; }\nstruct Pair{ int ans;long long c; };\n\nPair dfs(long long m)\n{\n    if(m<=0) return {0,0};\n    int a=cbrt(m);\n    Pair temp1=dfs(m-cb(a)),temp2=dfs(cb(a)-cb(a-1)-1);\n    temp1.c+=cb(a),temp2.c+=cb(a-1),temp1.ans++,temp2.ans++;\n    return temp1.ans==temp2.ans?temp1.c>temp2.c?temp1:temp2:temp1.ans>temp2.ans?temp1:temp2;\n}\n\nint main()\n{\n    scanf(\"%I64d\",&m);\n    Pair temp=dfs(m);\n    printf(\"%d %I64d\",temp.ans,temp.c);\n    return 0;\n}\n```",
        "postTime": 1649329975,
        "uid": 152213,
        "name": "\u534e\u5c71\u62a1\u5251",
        "ccfLevel": 9,
        "title": "CF679B Bear and Tower of Cubes \u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\r\n\u5bf9\u4e8e\u4e00\u4e2a\u6570 $x$\uff0c\u6bcf\u6b21\u8d2a\u5fc3\u5730\u627e\u5230\u4e0d\u5c0f\u4e8e\u5269\u4e0b\u7684\u6570\u7684\u6700\u5927\u7684\u6b63\u6574\u6570\u7684\u7acb\u65b9\uff0c\u51cf\u53bb\u8fd9\u4e2a\u6570\uff0c\u5e76\u91cd\u590d\u76f4\u81f3\u53d8\u6210 $0$\uff0c\u64cd\u4f5c\u6b21\u6570\u5373\u4e3a $x$ \u7684\u8d21\u732e\u3002\r\n\u5728 $[1,m]$ \u4e2d\u627e\u5230\u6700\u5927\u7684\u8d21\u732e\u53ca\u5bf9\u5e94\u7684\u6570\u6700\u5927\u503c\u3002\r\n### \u601d\u8def\r\n\u5176\u4ed6\u9898\u89e3\u7ed9\u51fa\u4e86\u4e8c\u5206/ dfs \u7684\u505a\u6cd5\uff0c\u8fd9\u91cc\u7ed9\u51fa\u4e00\u79cd DP \u7684\u505a\u6cd5\u3002\r\n\r\n\u5c06 $m$ \u5206\u89e3\u4e3a $\\sum{a_k^{3}t_k}$\uff0c\u5176\u5b9e\u603b\u5171\u5206\u89e3\u51fa\u6765\u7684\u6570\u4e0d\u591a\uff0c\u8003\u8651\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u8ba1\u7b97\u7b54\u6848\uff1a\u679a\u4e3e $k$\uff0c\u9009\u53d6 $a_k^3$ \u7684\u6700\u540e\u4e00\u4e2a\uff0c\u4e0d\u5c0f\u4e8e $a_k^3$ \u7684\u90fd\u4fdd\u7559\uff0c\u5c0f\u4e8e\u7684\u90fd\u5ffd\u89c6\uff0c\u5c06 $a_k^3$ \u5176\u62c6\u5f00\u6210\u6700\u4f18\u7684\u65b9\u6848\uff0c\u4e0e\u4e0d\u5c0f\u4e8e $a_k^3$ \u7684\u8d21\u732e\u5408\u8d77\u6765\u3002\r\n\r\n\u63a5\u4e0b\u6765\u5c31\u8003\u8651 $x^3$ \u7684\u8d21\u732e\uff1a\u5c06 $x^3-1$ \u5206\u89e3\uff0c\u6309\u7167\u4e0a\u9762\u7684\u65b9\u6cd5\u8ba1\u7b97\uff0c\u6700\u540e\u8003\u8651 $x^3$ \u672c\u8eab\u3002\r\n\r\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(\\sqrt[3]{m})$\uff0c\u7b54\u6848\u6700\u5927\u4e5f\u53ea\u6709 $18$\uff0c\u5e38\u6570\u53ef\u4ee5\u63a5\u53d7\u3002\r\n\r\n### Code\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\r\n#define mid ((l+r)>>1)\r\n#define hehe pair<long long,long long>\r\n#define fir first\r\n#define sec second\r\n#define pb push_back\r\n#define inf 1000000007\r\n#define N 100005\r\nusing namespace std;\r\nlong long read()\r\n{\r\n\tlong long x=0,f=1;char ch=getchar();\r\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\r\n\twhile(ch>='0'&&ch<='9')x=(x<<1ll)+(x<<3ll)+ch-48,ch=getchar();\r\n\treturn x*f;\r\n}\r\nvoid write(long long x)\r\n{\r\n\tif(x<0)putchar('-'),x=-x;\r\n\tif(x>9)write(x/10);\r\n\tputchar(x%10+'0');\r\n}\r\nlong long n,cb[N],lim;\r\nvector<hehe>v;\r\nhehe ans,f[N];\r\nlong long cube(long long x)\r\n{\r\n\treturn x*x*x;\r\n}\r\nlong long ncb(long long x)\r\n{\r\n\treturn (long long)pow((double)x,(double)1/(double)3);\r\n}\r\nvoid solve(long long x)\r\n{\r\n\tv.clear();\r\n\tfor(long long t,d;x;)\r\n\t{\r\n\t\tt=ncb(x);\r\n\t\twhile(cb[t]>x)t--;\r\n\t\twhile(t<lim&&cb[t+1]<=x)t++;\r\n\t\td=x/cb[t];\r\n\t\tv.pb({t,d});\r\n\t\tx-=d*cb[t];\r\n\t}\r\n}\r\nhehe dp(long long x)\r\n{\r\n\tlong long sum=0,total=0;\r\n\thehe ans={0,0};\r\n\tfor(auto &aut:v)\r\n\t{\r\n\t\tlong long t=aut.fir,d=aut.sec;\r\n\t\tlong long temp=sum+(d-1)+f[t].fir,size=total+cb[t]*(d-1)+f[t].sec;\r\n\t\tif(temp>ans.fir||(temp==ans.fir&&size>ans.sec))ans.fir=temp,ans.sec=size;\r\n\t\tsum+=d;\r\n\t\ttotal+=d*cb[t];\r\n\t}\r\n\treturn ans;\r\n}\r\nint main()\r\n{\r\n\tn=read();\r\n\tlim=ncb(n)+2;\r\n\tfor(long long i=1;i<=lim;i++)\r\n\t{\r\n\t\tcb[i]=cube(i);\r\n\t}\r\n\tfor(long long i=1;i<=lim;i++)\r\n\t{\r\n\t\tlong long temp=cb[i]-1;\r\n\t\tsolve(temp);\r\n\t\tf[i]=dp(temp);\r\n\t\tif(!f[i].fir)f[i].fir=i,f[i].sec=cb[i];\r\n\t}\r\n\tsolve(n);\r\n\tans=dp(n);\r\n\tprintf(\"%lld %lld\\n\",ans.fir,ans.sec);\r\n\treturn 0;\r\n}\r\n\r\n```\r\n",
        "postTime": 1669207227,
        "uid": 152375,
        "name": "\u6d1b\u8c37\u306e\u8001\u8c46",
        "ccfLevel": 0,
        "title": "CF679B Bear and Tower of Cubes"
    },
    {
        "content": "\u4e8c\u5206\u67e5\u627e\uff08STL\u4e4bupper_bound\uff09\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(n log n)\u5176\u4e2dn^3==m\n\n\n\u6ce8\u610f\uff1a\n\n1.long long\u53ef\u4ee5\u5b58\u4e0b10^15\uff0c\u4e0d\u7528string\n\n### 2.\u7528scanf\u548cprint\u65f6\u6ce8\u610f\u662f\"%lld\"\u8fd8\u662f\"%d\"\n\n3.\u6700\u540e\u6bd4\u8f83\u5927\u5c0f\u65f6\u53ef\u4ee5\u7528pair<long long,long long>\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<algorithm>\n#define ll long long\nusing namespace std;\n\nll n,m,v,h,maxh,maxv;\n\nll three[100010];\npair<ll,ll> ans;//\u7ed3\u679c\n\nvoid dfs(ll m,ll t,ll r){\n//m\u4ee3\u8868\u5269\u4f59\u9ad8\u5ea6\uff0ct\u4ee3\u8868\u9ad8\u5ea6\uff0cr\u4ee3\u8868\u4f53\u79ef\n    if(m==0){//\u5269\u4f59\u9ad8\u5ea6\u4e3a0\n        ans=max(ans,make_pair(t,r));//\u53d6\u6700\u5927\u503c\n        return;//\u8fd4\u56de\n    }\n    \n    ll Do=upper_bound(three+1,three+100002,m)-three;//\u4e8c\u5206\u67e5\u627e\u63a5\u4e0b\u6765\u7528\u54ea\u4e2a\u6728\u5934\n    Do--;//upper_bound\u7684\u8fd4\u56de\u503c\u5927\u4e8em\u6240\u4ee5\u503c\u8981-1\n    dfs(m-three[Do],t+1,r+three[Do]);//\u53d6\u8fd9\u4e2a\u6728\u5934\n    if(Do>1) dfs(three[Do]-1-three[Do-1],t+1,r+three[Do-1]);//\u53d6\u4e0b\u4e00\u4e2a\n}\n\nint main() {\n    cin>>m;\n    for(ll i=1; i<=100001; i++) {\n        three[i]=i*i*i;\n    }//\u7b97\u51fa1\u5230100001\u7684\u4e09\u6b21\u65b9\n\n    dfs(m,0,0);//\u6df1\u641c\n    \n    printf(\"%lld %lld\\n\",ans.first,ans.second);//\u8f93\u51fa\n\n    return 0;\n}\n```",
        "postTime": 1531372449,
        "uid": 27924,
        "name": "xukuan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF679B \u3010Bear and Tower of Cubes\u3011"
    }
]