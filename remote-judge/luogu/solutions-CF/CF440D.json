[
    {
        "content": "\u6811\u5f62DP\uff0c\n\n$f_{u,i}$ \u8868\u793a\u4ee5 $u$ \u4e3a\u6839\uff0c\u53d6\u51fa $i$ \u4e2a\u8282\u70b9\u5b50\u6811\u7684\u6700\u5c11\u5220\u8fb9\u6b21\u6570\u3002\n\n\u6709 \n$$f_{u,i}=\\min\\{f_{u,i-k}+f_{v,k}\\}$$\n\n\u8fc7\u7a0b\u7c7b\u4f3c\u5206\u7ec4\u80cc\u5305\u3002\u7279\u522b\u5730\uff0c\u5f53 $k=0$ \u65f6 $f_{u,i}$ \u5f3a\u5236\u52a0 $1$\u3002\n\n\u4f46\u9898\u76ee\u8981\u8f93\u51fa\u65b9\u6848\u600e\u4e48\u529e\u5462\uff1f\u53ef\u4ee5\u7528 $g_{u,i}$ \u8bb0\u5f55\u4e00\u4e0b  $f_{u,i}$ \u7684\u540e\u7ee7\u72b6\u6001\uff0c\u8f6c\u79fb\u65f6\u4ece $g_{u,i-k}$ \u590d\u5236\u3002\u540e\u7ee7\u72b6\u6001\u4e2d\u663e\u7136\u5f53 $i=0$ \u65f6 $u$ \u8981\u88ab\u5220\u53bb\u3002\n\n\u590d\u5236\u540e\u7ee7\u72b6\u6001\u770b\u4f3c\u7ed9\u590d\u6742\u5ea6\u52a0\u4e86\u4e00\u7ef4\uff0c\u4f46\u7531\u4e8e\u590d\u5236\u65f6\u95f4\u53ea\u4e0e\u8be5\u70b9\u7684\u5b50\u8282\u70b9\u6570\u51b3\u5b9a\uff0c\u800c\u5b50\u8282\u70b9\u6570\u662f\u5747\u644a\u7684\uff0c\u6240\u4ee5\u4e0d\u4f1a\u8d85\u65f6\u3002\n\n\u6ce8\u610f\uff0c\u5f53\u6839\u8282\u70b9\u4e0d\u4e3a $1$ \u65f6 ans++\u3002\n\nCode:\n```cpp\n#include <bits/stdc++.h>\n#define pii pair<int,int>\n#define mp make_pair\n#define pb push_back\nusing namespace std;\n\nconst int maxn=405;\nint n,k;\nint id[maxn][maxn];\nvector<pii> g[maxn][maxn];\n\nstruct node{\n\tint v,nxt;\n}edge[maxn*2];int head[maxn],cntE;\n\n\nvoid add(int u,int v){\n\tedge[++cntE]=(node){v,head[u]};\n\thead[u]=cntE;\n}\n\nint sz[maxn],fa[maxn];\nint f[maxn][maxn];\n\nvoid cpy(int u,int j,int t){\n\tg[u][j].clear();\n\tfor(int i=0;i<g[u][t].size();i++){\n\t\tg[u][j].pb(g[u][t][i]);\n\t}\n}\n\nvoid init(int u,int p){\n\tsz[u]=1;\n\tfa[u]=p;\n\tfor(int i=head[u];i;i=edge[i].nxt){\n\t\tint v=edge[i].v;\n\t\tif(v==p) continue;\n\t\tinit(v,u);\n\t\tsz[u]+=sz[v];\n\t}\n}\n\nvoid dfs(int u,int p){\n\tf[u][1]=f[u][sz[u]]=0;\n\tfor(int i=head[u];i;i=edge[i].nxt){\n\t\tint v=edge[i].v;\n\t\tif(v==p) continue;\n\t\tdfs(v,u);\n\t\tfor(int j=sz[u];j>=0;j--){\n\t\t\tfor(int k=0;k<=min(sz[v],j);k++){\n\t\t\t\tif(!k){\n\t\t\t\t\tf[u][j]++;\n\t\t\t\t\tg[u][j].pb(mp(v,0));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\tif(f[u][j-k]+f[v][k]<f[u][j]){\n\t\t\t\t\tf[u][j]=f[u][j-k]+f[v][k];\n\t\t\t\t\tcpy(u,j,j-k);\n\t\t\t\t\tg[u][j].pb(mp(v,k));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid get_ans(int u,int w){\n\tfor(int i=0;i<g[u][w].size();i++){\n\t\tif(g[u][w][i].second==0){\n\t\t\tif(g[u][w][i].first!=1) printf(\"%d \",id[u][g[u][w][i].first]);\n\t\t}else get_ans(g[u][w][i].first,g[u][w][i].second);\n\t}\n}\n\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tmemset(f,0x3f,sizeof f);\n\tfor(int i=1;i<=n-1;i++){\n\t\tint u,v;\n\t\tscanf(\"%d%d\",&u,&v);\n\t\tid[u][v]=id[v][u]=i;\n\t\tadd(u,v);add(v,u);\n\t}\n\tinit(1,1);\n\tdfs(1,1);\n\tint ans=f[1][k],rt=1;\n\tfor(int u=2;u<=n;u++){\n\t\tif(k>sz[u]) continue;\n\t\tif(f[u][k]+1<ans){\n\t\t\tans=f[u][k]+1;\n\t\t\trt=u;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\tif(rt!=1){\n\t\tprintf(\"%d \",id[fa[rt]][rt]);\n\t}\n\tif(k!=sz[rt])\n\tget_ans(rt,k);\n}\n```",
        "postTime": 1640861438,
        "uid": 134623,
        "name": "HyperSQ",
        "ccfLevel": 6,
        "title": "\u3010\u9898\u89e3\u3011CF440D Berland Federalization"
    }
]