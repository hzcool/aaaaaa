[
    {
        "content": "\u9898\u76ee\u5927\u610f\uff1a\uff08\u989d\u8fd9\u91cc\u4e0d\u592a\u597d\u63cf\u8ff0\uff0c\u89c1\u8c05\uff09\u7ed9\u4f60\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4e32\uff0c\u8bbe\u4e3as1,s2,s3\u2026\u2026sn\uff0c\u95ee\u5176\u4e2d\u6709\u591a\u5c11\u4e2a\u5b57\u4e32\u6ee1\u8db3i\uff0cj\uff08i<=j\uff09\u4f7f\u5f97si*2^(j-i)+si+1*2^(j-i-1)+\u2026\u2026+sj*2^1=j-i+1\u3002\n\n\u5927\u81f4\u601d\u8def\uff1a\u6bcf\u6b21\u6ee1\u8db3\u9898\u610f\u7684\u5b57\u4e32\u90fd\u662f\u4ee51\u5f00\u5934\u7684\uff0c\u6211\u4eec\u53ea\u9700\u6bcf\u6b21\u90fd\u4ece\u6bcf\u4e2a1\u5f80\u540e\u6765\u5224\u65ad\u6bcf\u4e2a\u5b50\u4e32\u662f\u5426\u6ee1\u8db3\u9898\u610f\u5373\u53ef\uff0c\u8fd9\u91cc\u6709\u4e00\u4e2a\u526a\u679d\u5c31\u662f\u5f53\u5f53\u524d\u7684\u5927\u5c0f\u5982\u679c\u5927\u4e8e\u4e86n\u90a3\u4e48\u5c31\u4e0d\u80af\u80fd\u4f1a\u6709\u7b54\u6848\u3002\u6700\u574f\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5728O(1000*(1000*log1000))\u5de6\u53f3\uff0c\u5c31\u662f\u5168\u4e3a1\u7684\u60c5\u51b5\u3002\n\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint t,a[200005];\nlong long ans;\nstring b;\n \nint main()\n{\tcin>>t;\n\twhile(t--)\n\t{\n\t\tcin>>b;\n\t\tint n=b.size(),now=n;\n        ans=0;\n        for(int i=n-1;i>=0;--i)\n\t\t{\n            if(b[i]=='1')\n\t\t\t\tnow=i;\n            a[i]=now;\n        }\n        for(int i=0;i<n;++i)\n\t\t{\n            int num=0;\n            for(int j=a[i];j<n;j++)\n\t\t\t{\n                num*=2;\n                if(b[j]=='1')\n\t\t\t\t\tnum++;\n                if(num==j-i+1)\t\n\t\t\t\t\tans++;\n                if(num>n)\n\t\t\t\t\tbreak;\n            }\n        }\n        cout<<ans<<endl;\n    }\n\treturn 0;\n}\n```\n",
        "postTime": 1569843651,
        "uid": 132290,
        "name": "\u5f00\u59cb\u65b0\u7684\u8bb0\u5fc6",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1217C \u3010The Number Of Good Substrings\u3011"
    },
    {
        "content": "\u901a\u8fc7\u8bfb\u9898,\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u4e1c\u897f:$\\sum_{i=1}^t len_i<=2*10^5$.\n\n\u901a\u8fc7\u8fd9\u4e2a\u6027\u8d28,\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0,\u6211\u4eec\u5728\u679a\u4e3e\u6bcf\u4e00\u6b21\u7684\u533a\u95f4\u65f6,\u8fd9\u4e2a\u533a\u95f4\u7684\u6700\u957f\u957f\u5ea6\u4e3a$log_2len$.  \n\n\u7136\u540e\u5c31\u505a\u5b8c\u4e86??  \n\n\u6211\u4eec\u679a\u4e3e\u4e00\u4e0b\u6bcf\u4e2a\u533a\u95f4\u7684\u5de6/\u53f3\u7aef\u70b9,\u7136\u540e\u76f4\u63a5\u66b4\u529b\u7edf\u8ba1\u7b54\u6848\u5c31\u597d\u4e86.  \n\n```cpp\n#include <iostream>\n#include <vector>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\ntypedef long long LL;\nconst int N = 200000 + 10;\nint t,nex[N];\nchar s[N];\nint main() {\n    scanf(\"%d\",&t);\n    while(t--) {\n        scanf(\"%s\",s+1);\n        int n=strlen(s+1);\n        nex[n+1]=n+1;\n        for(int i=n;i>=1;i--) {\n            if(s[i]=='0') nex[i]=nex[i+1];\n            else nex[i]=i;\n        }\n        int ans=0;\n        for(int i=1;i<=n;i++){\n            int now=0;\n            for(int j=nex[i];j<=min(n,nex[i]+20);j++){\n                now=now*2+s[j]-'0';\n                if(now==j-i+1) ans++;\n            }\n        }\n        printf(\"%d\\n\", ans);\n    }\n}\n```",
        "postTime": 1567772008,
        "uid": 54047,
        "name": "\u516e\u6c34XiShui\u4e36",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1217C \u3010The Number Of Good Substrings\u3011"
    },
    {
        "content": "\u9898\u610f:\u7ed9\u4f60\u4e00\u4e2a\u670901\u5b57\u7b26\u4e32\u7ec4\u6210\u7684\u4e8c\u8fdb\u5236\u4e32. \u73b0\u5728\u6211\u4eec\u8981\u6c42\u6ee1\u8db3\u6761\u4ef6\u7684\u5b50\u4e32\u4e2a\u6570. \u6761\u4ef6\u4e3a:r-l+1=\u8fd9\u4e2a\u5b50\u4e32\u6240\u5bf9\u5e94\u7684\u5341\u8fdb\u5236\u503c.\n\n\u5982$011_2$=$3_{10}$ \u957f\u5ea6\u4e5f\u4e3a3. \u5b83\u5c31\u6ee1\u8db3\u6761\u4ef6.\n\n\u601d\u8def:\u4e00\u770b\u5230\u6570\u636e\u8303\u56f4 $n$<=$2*10^5$\u5c31\u77e5\u9053\u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6\u662f$O(n)$\u6216\u8005$O(nlogn)$,\u4f46\u600e\u4e48\u505a\u5462?\u7531\u4e8e\u53ea\u67091\u624d\u80fd\u6539\u53d8\u5f0f\u5b50\u7684\u503c.\u6211\u4eec\u5c31\u5faa\u73af\u53bb\u626b.\u770b1\u53ca\u8ddd\u79bb\u4e0a\u4e2a1\u4e2d\u95f4\u9694\u4e86\u591a\u5c11\u4e2a0,\u7136\u540e\u518d\u5411\u540e\u626b.\u5982\u679c\u8fd9\u4e2a\u503c\u5728\u957f\u5ea6\u8303\u56f4\u5185,ans\u5c31++,\u5982\u679c\u4e0d\u5728\u5c31break\u6389.\u8fd9\u6837\u6700\u591a\u5411\u540e\u626blogn\u6b21\u6240\u4ee5\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$O(nlogn)$\n\n\u4ee3\u7801:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,len,ans,num;\nchar s[200005];\nint main()\n{\n\tint t;\n\tcin>>t;\n\twhile(t--)\n\t{\n\t\tans=0,len=0;\n\t \tscanf(\"%s\",s);\n\t \tint n=strlen(s);\n\t \tfor(int i=0;i<n;i++)\n\t \t{\n\t \t\tlen++;\n\t \t\tif(s[i]=='1')//\u5982\u679c\u662f\u4e00\u5c31\u5411\u540e\u626b\n\t \t\t{\n\t \t\t\tint len1=len;\n\t \t\t\tlen=0;//\u5c06\u8ddd\u79bb\u4e0a\u4e2a1\u6709\u591a\u5c11\u4e2a0\u6e05\u96f6\n\t \t\t\tans++;//\u5b83\u672c\u8eab\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u7b54\u6848\n\t \t\t\tnum=1;\n\t \t\t\tfor(int j=i+1;j<n;j++)\n\t \t\t\t{\n\t \t\t\t\tlen1++;\n\t \t\t\t\tif(s[j]=='0')\n\t \t\t\t\t{\n\t \t\t\t\t\tnum*=2;\n\t \t\t\t\t}\n\t \t\t\t\tif(s[j]=='1')\n\t \t\t\t\t{\n\t \t\t\t\t\tnum*=2;\n\t \t\t\t\t\tnum++;\n\t \t\t\t\t}\n\t \t\t\t\tif(num<=len1)//\u5982\u679c\u8fd9\u4e2a\u503c\u5728\u957f\u5ea6\u8303\u56f4\u5185\n\t \t\t\t\t{\n\t \t\t\t\t\tans++;\n\t \t\t\t\t}else\n\t \t\t\t\t{\n\t \t\t\t\t\tbreak;\n\t \t\t\t\t}\n\t \t\t\t}\n\t \t\t}\n\t \t}\n\t \tcout<<ans<<endl;//\u8f93\u51fa\u7b54\u6848\n\t}\n}\n```\n",
        "postTime": 1567738426,
        "uid": 53852,
        "name": "\u5f26\u5dfb\u3053\u3053\u308d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1217C \u3010The Number Of Good Substrings\u3011"
    }
]