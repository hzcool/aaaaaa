[
    {
        "content": "\u8d85\u7ea7\u6076\u5fc3\u4eba\u7684 BFS \u9898\u76ee\u3002\n\n~~\u8bdd\u8bf4\u4e3a\u4ec0\u4e48 CF \u7684\u9898\u8fd8\u8981\u7528 freopen \u554a~~\n\n[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF254D)\n\n## \u5047\u7684\u601d\u8def\n\n\u76f4\u63a5\u679a\u4e3e\u4e24\u4e2a\u70b8\u5f39\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u5bf9\u8fd9\u4e24\u4e2a\u4f4d\u7f6e\uff0c\u5206\u522b\u8fdb\u884c BFS\uff0c\u6c42\u51fa\u80fd\u70b8\u5230\u54ea\u4e9b\u70b9\uff0c\u5982\u679c\u8986\u76d6\u4e86\u6240\u6709\u8001\u9f20\u5c31\u8f93\u51fa\u8fd9\u4e2a\u65b9\u6848\u3002\n\n\u53d1\u73b0\u590d\u6742\u5ea6\u662f $O(n^4 d^2)$ \u7684\uff0cTLE \u4e86\u3002\n\n## \u771f\u7684\u601d\u8def\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u771f\u6b63\u6709\u7528\u7684\u4f4d\u7f6e\u5176\u5b9e\u6ca1\u6709\u591a\u5c11\u4e2a\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u968f\u4fbf\u9009\u4e00\u4e2a\u8001\u9f20\uff0c\u56e0\u4e3a\u5b83\u4e00\u5b9a\u8981\u88ab\u70b8\u5230\uff0c\u6240\u4ee5 BFS \u4e00\u904d\uff0c\u6c42\u51fa\u6240\u6709\u80fd\u70b8\u5230\u5b83\u7684\u4f4d\u7f6e\uff0c\u90a3\u4e48\u7b2c\u4e00\u4e2a\u70b8\u5f39\u4e00\u5b9a\u5728\u8fd9\u4e9b\u4f4d\u7f6e\u4e4b\u4e2d\uff0c\u6570\u91cf\u662f $O(d^2)$ \u7684\u3002\n\n\u6211\u4eec\u5c31\u53ef\u4ee5\u6109\u5feb\u5730\u679a\u4e3e\u7b2c\u4e00\u4e2a\u70b8\u5f39\u7684\u4f4d\u7f6e\u4e86\u3002\u7136\u540e\u6211\u4eec\u5728\u7b2c\u4e00\u4e2a\u70b8\u5f39\u7684\u4f4d\u7f6e BFS\uff0c\u6c42\u51fa\u5b83\u80fd\u70b8\u5230\u54ea\u4e9b\u4f4d\u7f6e\u3002\n\n\u4f46\u662f\uff0c\u4f1a\u6709\u4e00\u4e9b\u8001\u9f20\u662f\u7b2c\u4e00\u4e2a\u70b8\u5f39\u70b8\u4e0d\u5230\u7684\u3002\u6211\u4eec\u518d\u7528\u7c7b\u4f3c\u7684\u65b9\u6cd5\uff0c\u627e\u5230\u4e00\u4e2a\u8fd9\u6837\u7684\u8001\u9f20\uff0c\u518d BFS \u54ea\u4e9b\u4f4d\u7f6e\u80fd\u70b8\u5230\u5b83\uff0c\u518d\u679a\u4e3e\u7b2c\u4e8c\u4e2a\u70b8\u5f39\u7684\u4f4d\u7f6e\uff0c\u6700\u540e\u5224\u65ad\u662f\u4e0d\u662f\u80fd\u70b8\u5230\u6240\u6709\u8001\u9f20\u5373\u53ef\u3002\n\n\u6570\u4e00\u6570\uff0c\u53d1\u73b0\u4e00\u5171\u6709 **4 \u4e2a BFS**\u3002\n\n~~\u6076\u5fc3\u6b7b\u4e86~~\n\n\u8fd8\u6709\u4e00\u4e9b\u7ec6\u8282\uff0c\u6bd4\u5982\u8001\u9f20\u7684\u6570\u91cf\u5c0f\u4e8e 2\uff0c\u53ef\u4ee5\u653e\u70b8\u5f39\u7684\u4f4d\u7f6e\u6570\u5c0f\u4e8e 2 \u7b49\uff0c\u8003\u8651\u4e00\u4e0b\u5c31\u884c\u4e86\u3002\n\n\u56e0\u4e3a\u5982\u679c\u8001\u9f20\u7684\u6570\u91cf\u5927\u4e8e $8d^2$\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u5224\u65ad\u65e0\u89e3\u4e86\uff0c\u6240\u4ee5\u590d\u6742\u5ea6\u662f $O(d^6)$ \u7684\u3002\n\n## Code\n\n```cpp\n /*\n  * @Description: I want to be the weakest vegetable in the world!\n  * @Author: CGBoy\n  * @Date: 2022-01-27 21:00:58\n  */\n#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define forr(i,a,n) for(int i=a;i<=n;i++)\n#define rep(i,n) forr(i,0,n-1)\n#define repp(i,n) forr(i,1,n)\n#define pb push_back\n#define mp make_pair\n#define init(a,i) memset(a,i,sizeof(a))\n#define fi first\n#define se second\n#define mod 1000000007\n#define MOD 998244353\n#define MAXN 0x3f3f3f3f\nint T, case_;\nint n, m, d, emp = 0;\nchar c[1010][1010];\nvector<pair<int, int> >r;\npair<pair<int, int>, int>tmp;\nbool vis[1010][1010], vis2[1010][1010], vis3[1010][1010], vis4[1010][1010];\nvoid solve() {\n    scanf(\"%d%d%d\", &n, &m, &d);\n    rep(i, n) {\n        scanf(\"%s\", c[i]);\n        rep(j, m) {\n            if (c[i][j] == 'R')r.pb(mp(i, j)), emp++;\n            if (c[i][j] == '.')emp++;\n        }\n    }\n    if (r.size() > 8 * d * d || emp < 2) {\n        printf(\"-1\");\n        return;\n    }\n    if (r.size() == 0) {\n        emp = 0;\n        rep(i, n) {\n            rep(j, m) {\n                if (c[i][j] != 'X') {\n                    printf(\"%d %d \", i + 1, j + 1);\n                    emp++;\n                    if (emp == 2)return;\n                }\n            }\n        }\n    }\n    if (r.size() == 1) {\n        printf(\"%d %d \", r[0].fi + 1, r[0].se + 1);\n        rep(i, n) {\n            rep(j, m) {\n                if (c[i][j] != 'X') {\n                    if (i != r[0].fi || j != r[0].se) {\n                        printf(\"%d %d \", i + 1, j + 1);\n                        return;\n                    }\n                }\n            }\n        }\n    }\n    queue<pair<pair<int, int>, int > >q;\n    q.push(mp(mp(r[0].fi, r[0].se), 0));\n    while (!q.empty()) {\n        tmp = q.front();\n        q.pop();\n        if (tmp.se > d || c[tmp.fi.fi][tmp.fi.se] == 'X' || vis[tmp.fi.fi][tmp.fi.se])continue;\n        vis[tmp.fi.fi][tmp.fi.se] = 1;\n        q.push(mp(mp(tmp.fi.fi - 1, tmp.fi.se), tmp.se + 1));\n        q.push(mp(mp(tmp.fi.fi + 1, tmp.fi.se), tmp.se + 1));\n        q.push(mp(mp(tmp.fi.fi, tmp.fi.se - 1), tmp.se + 1));\n        q.push(mp(mp(tmp.fi.fi, tmp.fi.se + 1), tmp.se + 1));\n    }\n    rep(i, n) {\n        rep(j, m) {\n            // first bomb\n            if (!vis[i][j])continue;\n            init(vis2, 0);\n            queue<pair<pair<int, int>, int > >q2;\n            q2.push(mp(mp(i, j), 0));\n            while (!q2.empty()) {\n                tmp = q2.front();\n                q2.pop();\n                if (tmp.se > d || c[tmp.fi.fi][tmp.fi.se] == 'X' || vis2[tmp.fi.fi][tmp.fi.se])continue;\n                vis2[tmp.fi.fi][tmp.fi.se] = 1;\n                q2.push(mp(mp(tmp.fi.fi - 1, tmp.fi.se), tmp.se + 1));\n                q2.push(mp(mp(tmp.fi.fi + 1, tmp.fi.se), tmp.se + 1));\n                q2.push(mp(mp(tmp.fi.fi, tmp.fi.se - 1), tmp.se + 1));\n                q2.push(mp(mp(tmp.fi.fi, tmp.fi.se + 1), tmp.se + 1));\n            }\n            bool s = 1;\n            rep(k, r.size()) {\n                if (!vis2[r[k].fi][r[k].se]) {\n                    s = 0;\n                    init(vis3, 0);\n                    queue<pair<pair<int, int>, int > >q3;\n                    q3.push(mp(mp(r[k].fi, r[k].se), 0));\n                    while (!q3.empty()) {\n                        tmp = q3.front();\n                        q3.pop();\n                        if (tmp.se > d || c[tmp.fi.fi][tmp.fi.se] == 'X' || vis3[tmp.fi.fi][tmp.fi.se])continue;\n                        vis3[tmp.fi.fi][tmp.fi.se] = 1;\n                        q3.push(mp(mp(tmp.fi.fi - 1, tmp.fi.se), tmp.se + 1));\n                        q3.push(mp(mp(tmp.fi.fi + 1, tmp.fi.se), tmp.se + 1));\n                        q3.push(mp(mp(tmp.fi.fi, tmp.fi.se - 1), tmp.se + 1));\n                        q3.push(mp(mp(tmp.fi.fi, tmp.fi.se + 1), tmp.se + 1));\n                    }\n                    break;\n                }\n            }\n            if (s) {\n                printf(\"%d %d \", i + 1, j + 1);\n                rep(ii, n) {\n                    rep(jj, m) {\n                        if (ii != i || jj != j) {\n                            if (c[ii][jj] != 'X') {\n                                printf(\"%d %d \", ii + 1, jj + 1);\n                                return;\n                            }\n                        }\n                    }\n                }\n            }\n            rep(ii, n) {\n                rep(jj, m) {\n                    // second bomb\n                    if ((i == ii && j == jj) || !vis3[ii][jj])continue;\n                    init(vis4, 0);\n                    queue<pair<pair<int, int>, int > >q4;\n                    q4.push(mp(mp(ii, jj), 0));\n                    while (!q4.empty()) {\n                        tmp = q4.front();\n                        q4.pop();\n                        if (tmp.se > d || c[tmp.fi.fi][tmp.fi.se] == 'X' || vis4[tmp.fi.fi][tmp.fi.se])continue;\n                        vis4[tmp.fi.fi][tmp.fi.se] = 1;\n                        q4.push(mp(mp(tmp.fi.fi - 1, tmp.fi.se), tmp.se + 1));\n                        q4.push(mp(mp(tmp.fi.fi + 1, tmp.fi.se), tmp.se + 1));\n                        q4.push(mp(mp(tmp.fi.fi, tmp.fi.se - 1), tmp.se + 1));\n                        q4.push(mp(mp(tmp.fi.fi, tmp.fi.se + 1), tmp.se + 1));\n                    }\n                    bool suc = 1;\n                    rep(k, r.size()) {\n                        if (vis2[r[k].fi][r[k].se] == 0 && vis4[r[k].fi][r[k].se] == 0) {\n                            suc = 0;\n                        }\n                    }\n                    if (suc) {\n                        printf(\"%d %d %d %d\", i + 1, j + 1, ii + 1, jj + 1);\n                        return;\n                    }\n                }\n            }\n        }\n    }\n    printf(\"-1\");\n}\nint main() {\n    T = 1;\n    freopen(\"input.txt\", \"r\", stdin);\n    freopen(\"output.txt\", \"w\", stdout);\n    for (case_ = 1;case_ <= T;case_++)solve();\n    return 0;\n}\n```\n\n~~\u4e0d\u559d\uff0c\u4e0d\u559d\u662f\u5427\uff0c\u4e0d\u559d\uff0c\u6211\u5c31\u70b8\u6b7b\u4f60\uff01~~",
        "postTime": 1643336946,
        "uid": 407564,
        "name": "Rushroom",
        "ccfLevel": 7,
        "title": "CF254D Rats"
    },
    {
        "content": "## \u9898\u610f\n\u4e00\u4e2a $n\\times m$\u7684\u7f51\u683c\u56fe\u4e2d\uff0c\u6709\u4e00\u4e9b\u683c\u5b50\u662f\u5899\uff0c\u5176\u4f59\u683c\u5b50\u4e2d\uff0c\u6709\u4e00\u4e9b\u683c\u5b50\u4e2d\u6709\u8001\u9f20.\n\n\u73b0\u5728\u9700\u8981\u653e\u7f6e\u4e24\u9897\u624b\u69b4\u5f39\uff0c\u6bcf\u9897\u624b\u69b4\u5f39\u521d\u59cb\u5728\u683c\u5b50$(r_i,c_i)$ \u4e0a\uff0c\u5728 $1\\sim d$ \u79d2\u5185\uff0c\u6bcf\u8fc7 $1$ \u79d2\u5176\u4f24\u5bb3\u8303\u56f4\u4f1a\u4ece\u73b0\u6709\u7684\u6bcf\u4e2a\u4f24\u5bb3\u8303\u56f4\u7684\u683c\u5b50\u5411\u5916\u6269\u5c55\u4e00\u683c\u5e76\u70b8\u6b7b\u54ea\u4e00\u683c\u7684\u8001\u9f20\u3002\n\n\u4f60\u9700\u8981\u7ed9\u51fa\u80fd\u591f\u6740\u6b7b\u6240\u6709\u8001\u9f20\u7684\u4e24\u4e2a\u624b\u69b4\u5f39\u7684\u653e\u7f6e\u5750\u6807$(r_1,c_1)$ \u548c $(r_2,c_2)$ \uff0c\u5982\u679c\u65e0\u89e3\uff0c\u5219\u8f93\u51fa $-1$\n## \u9898\u89e3\n \u8003\u8651\u5982\u679c\u8001\u9f20\u7684\u6570\u91cf\u5927\u4e8e $290$ \u90a3\u4e48\u4e00\u5b9a\u4e0d\u80fd\u5168\u90e8\u70b8\u6b7b\u3002\u53ea\u9700\u8981\u8003\u8651\u8001\u9f20\u7684\u6570\u91cf $\\le 290$\u3002\u5148\u8ba1\u7b97\u51fa\u6bcf\u4e2a\u4f4d\u7f6e\u80fd\u70b8\u5230\u7684\u8001\u9f20\u5b58\u5728 $\\rm bitset$ \u91cc\uff0c\u5982\u679c\u70b8\u4e0d\u5230\u5c31\u4e0d\u7528\u7ba1\u4e86\u3002\u90a3\u4e48\u663e\u7136\u6700\u591a\u5c31 $145\\times 290$ \u4e2a\u8fd9\u6837\u7684\u70b9\u3002\u4e8e\u662f\u5148\u679a\u4e3e\u80fd\u70b8\u5230\u7b2c\u4e00\u4e2a\u8001\u9f20\u7684\u70b9\uff0c\u7b2c\u4e00\u4e2a\u70b8\u5f39\u53ea\u80fd\u5728\u8fd9\u4e9b\u4f4d\u7f6e\uff0c\u518d\u53bb\u679a\u4e3e\u7b2c\u4e8c\u4e2a\u4f4d\u7f6e\uff0c\u628a\u4e24\u4e2a\u4f4d\u7f6e\u80fd\u70b8\u5230\u7684\u8001\u9f20\u53d6\u4ea4\u96c6\uff0c\u4e5f\u5c31\u662f $\\rm bitset$ \u7684\u6216\u3002\n\n\u590d\u6742\u5ea6\u4e3b\u8981\u662f\u540e\u9762\u7684 $\\mathcal{O}(\\frac{290\\times145\\times290\\times290}w)$\u3002\n\n\u4e0d\u8981\u5fd8\u8bb0\u7279\u5224\u53ea\u6709\u4e00\u4e2a\u70b9\u5c31\u53ef\u4ee5\u5168\u90e8\u70b8\u5230\u7684\u60c5\u51b5\u3002\n## \u7447\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1e3+10,M=150;\nconst int dx[4]={0,0,1,-1},dy[4]={1,-1,0,0};\nint n,m,d;char mp[N][N];\nint id[N][N],cnt,xx[2*M*M],yy[2*M*M];\nbitset<2*M>flag[2*M*M];bool vis[N][N];\nvoid add(int x,int y,int id){\n\tint&a=::id[x][y];\n\tif(!a)a=++cnt,xx[a]=x,yy[a]=y;\n\tflag[a].set(id,1);\n}\n#define In(a,b) (1<=(a)&&(a)<=n&&1<=(b)&&(b)<=m)\nvoid bfs(int x,int y,int id){\n\tqueue<tuple<int,int,int>>q;q.push({x,y,0});\n\twhile(q.size()){\n\t\tauto [x,y,dp]=q.front();q.pop();\n\t\tadd(x,y,id);if(dp==d)continue;++dp;\n\t\tfor(int i=0;i<4;i++)if(In(x+dx[i],y+dy[i])&&mp[x+dx[i]][y+dy[i]]!='X')\n\t\t\tq.push({x+dx[i],y+dy[i],dp});\n\t}\n}\nsigned main(){\n\t//freopen(\"input.txt\",\"r\",stdin);\n\t//freopen(\"output.txt\",\"w\",stdout);\n\t\n\tint rats=0;\n\tscanf(\"%d%d%d\",&n,&m,&d);\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%s\",mp[i]+1);\n\t\tfor(int j=1;j<=m;j++)\n\t\t\trats+=mp[i][j]=='R';\n\t}\n\tif(rats>290)return puts(\"-1\"),0;\n\trats=0;\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tif(mp[i][j]=='R')bfs(i,j,++rats);\n\tfor(int i=1;i<=cnt;i++)\n\t\tif(flag[i].count()==rats){\n\t\t\tfor(int x=1;x<=n;x++)\n\t\t\t\tfor(int y=1;y<=m;y++)\n\t\t\t\t\tif((x!=xx[i]||y!=yy[i])&&mp[x][y]!='X')\n\t\t\t\t\t\treturn printf(\"%d %d %d %d\\n\",xx[i],yy[i],x,y),0;\n\t\t\treturn puts(\"-1\"),0;\n\t\t}\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tif(mp[i][j]=='R'){\n\t\t\t\tqueue<tuple<int,int,int>>q;q.push({i,j,0});\n\t\t\t\twhile(q.size()){\n\t\t\t\t\tauto [x,y,dp]=q.front();q.pop();\n\t\t\t\t\tvis[x][y]=1;\n\t\t\t\t\tfor(int k=1;k<=cnt;k++)\n\t\t\t\t\t\tif((flag[id[x][y]]|flag[k]).count()==rats)\n\t\t\t\t\t\t\treturn printf(\"%d %d %d %d\\n\",x,y,xx[k],yy[k]),0;\n\t\t\t\t\tif(dp==d)continue;++dp;\n\t\t\t\t\tfor(int i=0;i<4;i++)if(In(x+dx[i],y+dy[i])&&mp[x+dx[i]][y+dy[i]]!='X'&&!vis[x+dx[i]][y+dy[i]])\n\t\t\t\t\t\tq.push({x+dx[i],y+dy[i],dp});\n\t\t\t\t}\n\t\t\t\treturn puts(\"-1\"),0;\n\t\t\t}\n}\n```",
        "postTime": 1625049977,
        "uid": 174304,
        "name": "jun\u5934\u5409\u5409",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF254D\u3010Rats\u3011"
    },
    {
        "content": "\u6211\u4eec\u9996\u5148\u53ef\u4ee5\u77e5\u9053\uff0c$d$ \u7684\u8303\u56f4\u6bd4\u8f83\u5c0f\uff0c\u5f53\u8001\u9f20\u8fc7\u591a\u65f6\u5c31\u70b8\u4e0d\u5b8c\u4e86\uff0c\u6240\n\n\u4ee5\u5f53\u8001\u9f20\u4e2a\u6570\u5927\u4e8e $290$ \u65f6\u76f4\u63a5\u8f93\u51fa $-1$ \n\n\u6211\u4eec\u5bf9\u6bcf\u53ea\u8001\u9f20\u6240\u5728\u7684\u4f4d\u7f6e\u8fdb\u884c $bfs$ \u5411\u5916\u6269\u5c55 $d$ \u683c\uff0c\u5bf9\u4e8e\u641c\u5230\n\n\u7684\u6bcf\u4e2a\u70b9\u8fdb\u884c\u7f16\u53f7\uff0c\u5e76\u4e14\u8bb0\u5f55\u8fd9\u4e2a\u70b9\u80fd\u70b8\u5230\u54ea\u4e9b\u8001\u9f20\n\n\u5904\u7406\u5b8c\u8fc7\u540e\u76f4\u63a5\u679a\u4e3e\uff0c\u8f93\u51fa\u7b54\u6848\n\n\u5982\u4e0b\n\n`va[num][k]` \u6570\u7ec4\u7528\u4e8e\u8bb0\u5f55 $num$ \u53f7\u70b9\u80fd\u5426\u70b8\u5230\u7b2c $k$ \u53ea\u8001\u9f20\n\n`vx[num] vy[num]` \u5206\u522b\u7528\u4e8e\u8bb0\u5f55 $num$ \u53f7\u70b9\u7684\u5750\u6807\n\n`reach[x][y]` \u8868\u793a\u70b9 $(x,y)$ \u6709\u6ca1\u6709\u8fdb\u884c\u91cd\u65b0\u7f16\u53f7  \n\n\u6ce8\u610f\u8fd9\u9053\u9898\u5fc5\u987b\u8981\u52a0\u6587\u4ef6\u8f93\u5165\u8f93\u51fa\uff0c\u5982\u4e0b\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<vector>\n#include<queue>\nusing namespace std;\nconst int max_rats=290;\nconst int maxn=1000+10;\nstruct node\n{\n\tint x,y,d;\n\tnode(int xx=0,int yy=0,int dd=0){\n\t\tx=xx,y=yy,d=dd;\n\t};\n};\nvector<node>rats;\nint n,m,d,cnt_rats=0,size=0;\nint map[maxn][maxn];\nchar s[maxn][maxn];\nint reach[maxn][maxn];\nint vx[max_rats*max_rats],vy[max_rats*max_rats];\nbool va[max_rats*max_rats][max_rats];\nbool vis[maxn][maxn];\nconst int dx[4]={0,1,-1,0},dy[4]={1,0,0,-1};\nvoid put_set(int x,int y,int type)//(x,y)\u80fd\u70b8\u5230type\u53f7\u8001\u9f20\n{\n\tif(!reach[x][y])//\u672a\u7f16\u8fc7\u53f7\n\t{\n\t\tva[++size][type]=1;\n\t\tvx[size]=x;\n\t\tvy[size]=y;\n\t\treturn ;\n\t}\n\tfor(int i=1;i<=size;i++)\n\tif(vx[i]==x&&vy[i]==y){\n\t\tva[i][type]=1;\n\t\tbreak;\n\t}\n}\nvoid bfs(int type,node st)//\u5bf9\u6bcf\u53ea\u8001\u9f20\u8fdb\u884c\u5904\u7406\n{\n\tmemset(vis,0,sizeof(vis));\n\tqueue<node>q;\n\tq.push(st);\n\tvis[st.x][st.y]=1;\n\twhile(!q.empty())\n\t{\n\t\tnode u=q.front();\n\t\tq.pop();\n\t\tput_set(u.x,u.y,type);\n\t\treach[u.x][u.y]=1;\n\t\tif(u.d==d)continue;\n\t\tfor(int i=0;i<4;i++)\n\t\t{\n\t\t\tint x=u.x+dx[i],y=u.y+dy[i];\n\t\t\tif(x<1||x>n||y<1||y>m||vis[x][y]||map[x][y])continue;\n\t\t\tvis[x][y]=1;\n\t\t\tq.push(node(x,y,u.d+1));\n\t\t}\n\t}\t\n}\nint main()\n{\n\tfreopen(\"input.txt\",\"r\",stdin);\n\tfreopen(\"output.txt\",\"w\",stdout);\n\tint ans1,ans2,find_ans=0;\n\tscanf(\"%d%d%d\",&n,&m,&d);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%s\",s[i]+1);\n\t\tfor(int j=1;j<=m;j++)\n\t\tif(s[i][j]=='R')cnt_rats++;\n\t}\n\tif(cnt_rats>max_rats){printf(\"-1\\n\");return 0;}\n\tfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=m;j++)\n\t{\n\t\tmap[i][j]=0;\n\t\tif(s[i][j]=='X')map[i][j]=1;\n\t\tif(s[i][j]=='R')rats.push_back(node(i,j,0));\n\t}\n\tfor(int i=0;i<cnt_rats;i++)\n\tbfs(i,rats[i]);\n\tif(size==1)//\u53ea\u6709\u4e00\u4e2a\u70b9\u80fd\u70b8\u5230\u8001\u9f20\n\t{\n\t\tfor(int i=0;i<cnt_rats;i++)\n\t\tif(va[1][i]==0)\n\t\t{\n\t\t\tprintf(\"-1\\n\");\n\t\t\treturn 0;\n\t\t}\n\t\tprintf(\"%d %d \",vx[1],vy[1]);\n\t\tfor(int i=1;i<=n;i++)//\u5bfb\u627e\u4e00\u4e2a\u4e0e\u4e4b\u524d\u70b9\u4e0d\u540c\u7684\u70b9\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tif(map[i][j]||(i==vx[1]&&j==vy[1]))continue;\n\t\t\tprintf(\"%d %d\\n\",i,j);\n\t\t\treturn 0;\n\t\t}\n\t}\n\tfor(int i=1;i<size;i++)\n\t{\n\t\t\n\t\tfor(int j=i+1;j<=size;j++)//\u679a\u4e3e\u80fd\u70b8\u5230\u8001\u9f20\u7684\u4e24\u4e2a\u4e0d\u540c\u7684\u70b9\n\t\t{\n\t\t\tfind_ans=1;\n\t\t\tfor(int k=0;k<cnt_rats;k++)\n\t\t\tif(va[i][k]==0&&va[j][k]==0)//\u6709\u4e00\u53ea\u8001\u9f20\u4e0d\u80fd\u70b8\u5230\n\t\t\t{\n\t\t\t\tfind_ans=0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(find_ans){\n\t\t\t\tans1=i;\n\t\t\t\tans2=j;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\t\n\t\tif(find_ans)break;\n\t}\n\tif(find_ans)printf(\"%d %d %d %d\\n\",vx[ans1],vy[ans1],vx[ans2],vy[ans2]);\n\telse printf(\"-1\\n\");\n}\n```",
        "postTime": 1524057414,
        "uid": 19951,
        "name": "Reaepita",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF254D \u3010Rats\u3011"
    }
]