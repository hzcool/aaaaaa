[
    {
        "content": "\u9898\u76ee\u8bf4\u8981\u628a\u4e00\u68f5\u6811\u7ed9\u5206\u6210\u591a\u6761\u8def\u7ebf, \u6bcf\u6761\u8def\u7ebf\u90fd\u662f**\u4e0d\u80fd\u5206\u53c9\u7684**\uff0c\u4e5f\u5c31\u662f\u8bf4\u8def\u7684\u4e24\u7aef\u5ea6\u6570\u4e3a $ 1 $, \u5176\u4ed6\u7684\u70b9\u5ea6\u6570\u4e3a $ 2 $.\n\n\u56e0\u4e3a\u662f\u4e00\u68f5\u6811, \u6240\u4ee5\u5982\u679c\u8981\u6c42\u4efb\u610f\u4e24\u6761\u8def\u7ebf\u81f3\u5c11\u6709\u4e00\u4e2a\u516c\u5171\u70b9, \u5230\u6700\u540e, \u6240\u6709\u7684\u8def\u7ebf\u90fd\u4f1a\u6709\u552f\u4e00\u7684\u516c\u5171\u70b9. \u5982\u679c\u6709\u4e24\u4e2a\u516c\u5171\u70b9\u7684\u8bdd, \u5c31\u81f3\u5c11\u6709\u4e24\u6761\u8def\u7ebf\u53ea\u5305\u542b\u5176\u4e2d\u7684\u4e00\u6761\u8def\u7ebf, \u5426\u5219\u5c31\u4f1a\u6709\u73af, \u6709\u4e86\u73af\u5c31\u4e0d\u662f\u6811\u4e86.\n\n\u4e5f\u5c31\u662f\u8bf4, \u6240\u6709\u7684\u70b9, **\u9664\u4e86\u90a3\u4e2a\u552f\u4e00\u7684\u516c\u5171\u70b9,** \u5fc5\u987b\u5ea6\u6570\u5c0f\u4e8e $ 2 $.\n\n\u5728\u6240\u6709\u70b9\u4e4b\u4e2d:\n- \u5ea6\u6570\u4e3a $ 1 $ \u7684\u70b9\u662f\u8def\u7ebf\u7684\u4e00\u4e2a\u7aef\u70b9.\n- \u5ea6\u6570\u4e3a $ 2 $ \u7684\u662f\u4e00\u6761\u8def\u7ebf\u4e2d\u9664\u4e86\u4e24\u7aef\u4ee5\u5916\u7684\u70b9.\n- \u5ea6\u6570\u5927\u4e8e $ 2 $ \u7684\u662f\u8def\u7ebf\u7684\u516c\u5171\u70b9. \u5982\u679c\u6709\u4e24\u4e2a\u53ca\u4ee5\u4e0a\u7684\u70b9\u7684\u5ea6\u6570\u662f\u5927\u4e8e $ 2 $ \u7684, \u4ee3\u8868\u4e0d\u53ef\u80fd\u8def\u7ebf\u4e2d\u4efb\u610f\u4e24\u6761\u81f3\u5c11\u4ea4\u4e8e\u4e00\u70b9, \u8f93\u51fa `No`.\n- \u5982\u679c\u6ca1\u6709\u5ea6\u6570\u5927\u4e8e $ 2 $ \u7684\u70b9, \u4ee3\u8868\u53ea\u6709\u4e00\u6761\u8def\u7ebf.\n\n\u5982\u4f55\u8f93\u51fa\u8def\u7ebf:\n- \u5148\u8f93\u51fa `Yes`, \u4ee3\u8868\u53ef\u4ee5\u5c06\u6811\u5206\u89e3.\n- \u63a5\u7740\u8f93\u51fa\u8def\u7ebf\u7684\u4e2a\u6570, \u4e5f\u5c31\u662f\u5ea6\u6570\u4e3a $ 1 $ \u7684\u70b9\u7684\u4e2a\u6570.\n- \u63a5\u7740, \u5bf9\u4e8e\u6bcf\u6761\u8def\u7ebf, \u8f93\u51fa\u5176\u4e2d\u4e00\u4e2a\u5ea6\u6570\u4e3a $ 1 $ \u7684\u70b9\u548c **\u552f\u4e00\u7684** \u516c\u5171\u70b9.\n- **\u6ce8\u610f: \u5982\u679c\u6ca1\u6709\u5ea6\u6570\u5927\u4e8e $ 2 $ \u7684\u70b9, \u4ee3\u8868\u53ea\u6709\u4e00\u6761\u8def\u7ebf, \u6b64\u65f6\u8def\u7ebf\u4e2a\u6570\u5e76\u4e0d\u7b49\u4e8e\u5ea6\u6570\u4e3a $ 1 $ \u7684\u70b9\u7684\u4e2a\u6570, \u5e76\u4e14\u7aef\u70b9\u5c31\u662f\u4e24\u4e2a\u5ea6\u6570\u4e3a $ 1 $ \u7684\u70b9.**\n\n\u2193\u2193\u2193\u5177\u4f53\u89c1\u4ee3\u7801\u2193\u2193\u2193\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nint n;\nint deg[100005]; // \u6bcf\u4e2a\u70b9\u7684\u5ea6\u6570\nint leaves[100005], comv[100005]; // leaves \u5b58\u50a8\u5ea6\u6570\u4e3a 1 \u7684\u7aef\u70b9, comv \u5b58\u50a8\u516c\u5171\u70b9\nint nleaf = 0, ncomv = 0; // \u5b58\u50a8\u5ea6\u6570\u4e3a 1 \u7684\u70b9\u4e0e\u516c\u5171\u70b9\u7684\u6570\u91cf\n\nint main()\n{\n\tscanf(\"%d\", &n);\n\tfor (int i = 1; i < n; i++)\n\t{\n\t\tint v1, v2;\n\t\tscanf(\"%d%d\", &v1, &v2);\n\t\tdeg[v1]++, deg[v2]++;\n\t}\n\n\tfor (int i = 1; i <= n; i++)\n\t{\n\t\tif (deg[i] == 1) leaves[++nleaf] = i;\n\t\telse if (deg[i] > 2) comv[++ncomv] = i;\n\t}\n\n\tif (ncomv > 1) { printf(\"No\\n\"); exit(0); } // \u5982\u679c\u516c\u5171\u70b9\u4e0d\u552f\u4e00, \u5c31\u8f93\u51fa \"No\"\n\n\tprintf(\"Yes\\n\");\n\tif (ncomv == 0) printf(\"1\\n%d %d\\n\", leaves[1], leaves[2]);\n    // \u5982\u679c\u53ea\u6709\u4e00\u6761\u8def\u7ebf, \u5c31\u8f93\u51fa\u4e24\u7aef (\u5373\u4e24\u4e2a\u5ea6\u6570\u4e3a 1 \u7684\u70b9)\n\telse\n\t{\n\t\tprintf(\"%d\\n\", nleaf); // \u5ea6\u6570\u4e3a 1 \u7684\u70b9\u7684\u4e2a\u6570\n\t\tfor (int i = 1; i <= nleaf; i++) printf(\"%d %d\\n\", leaves[i], comv[1]);\n        // \u4e00\u4e2a\u5ea6\u6570\u4e3a 1 \u7684\u70b9\u4e0e\u516c\u5171\u70b9\n\t}\n\n\treturn 0;\n}\n```\n",
        "postTime": 1527477177,
        "uid": 22227,
        "name": "mraymes",
        "ccfLevel": 7,
        "title": "Solution for Codeforces Problem 981C - Useful Decomposition"
    }
]