[
    {
        "content": "\u770b\u5b8c\u9898\u76ee\u4e4b\u540e\u7684\u7b2c\u4e00\u53cd\u5e94\u4fbf\u662f\u66b4\u529b\uff0c\u8bfb\u5165\u4e00\u4e2a\u5b57\u7b26\u4fbf\u5728\u952e\u76d8\u5185\u5bfb\u627e\u4e00\u6b21\uff08\u5148\u627e\u4e00\u6b21\u5c0f\u5199\u5b57\u6bcd\uff0c\u7136\u540e\u627e$shift$\u952e\uff09\uff0c\u5982\u679c\u4e00\u53ea\u624b\u6309\u4e0d\u4e86$shift$\u4fbfans++\uff0c\u5982\u679c\u4e0d\u7b26\u5408\u6761\u4ef6\u4fbf\u8f93\u51fa$-1$\u3002  \n\u4f46\u662f\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff08$5 \\times 10^5$\uff09\u610f\u5473\u7740\u66b4\u529b\u662f\u4e0d\u53ef\u884c\u7684\u3002\uff08\u6781\u9650\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$5 \\times 10^5 \\times 30^4$\uff0c\u59a5\u59a5\u7684$TLE$\uff09  \n\u8fd9\u65f6\u5019\u4fbf\u9700\u8981\u8003\u8651\u4f18\u5316\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u9884\u5904\u7406\u3002\u5bf9\u4e8e\u4e00\u4e2a\u5c0f\u5199\u5b57\u6bcd\uff08\u4f8b\u5982$a$\uff09\uff0c\u6211\u4eec\u4fbf\u73b0\u5728\u952e\u76d8\u5185\u627e\u5b57\u6bcd$a$\uff0c\u627e\u5230\u4e00\u4e2a$a$\uff0c\u4fbf\u518d\u5bfb\u627e\u4e00\u6b21\u952e\u76d8\uff0c\u5bfb\u627e$shift$\uff0c\u8ba1\u7b97\u8ddd\u79bb\uff0c\u4ee5\u6b64\u6765\u5bfb\u627e\u6253\u51fa\u6765$A$\u7684\u6700\u4f18\u65b9\u6cd5\u3002  \n\u8fd9\u6837\u5b50\u7684\u8bdd\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$26 \\times 30^4$\uff0c\u4e0d\u4f1a\u6709\u95ee\u9898\u3002  \n$\\color{red}\\texttt{PS:\u4e00\u5b9a\u8981\u7559\u610f\u6ca1\u6709shift\u548c\u67d0\u4e2a\u5c0f\u5199\u5b57\u6bcd\u7684\u60c5\u51b5\u3002}$  \n\u76f4\u63a5\u8bb2\u7684\u8bdd\u96be\u4ee5\u7406\u89e3\uff0c\u76f4\u63a5\u9644\u4e0a\u4ee3\u7801\uff0c\u91cc\u9762\u6709\u6ce8\u91ca\uff0c\u65b9\u4fbf\u7406\u89e3\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<cstring>\nusing namespace std;\nint n,m,len,vis[27],ans;\ndouble dis[27],x;//\u4e00\u5b9a\u8981\u5b9a\u4e49\u4e3adouble\uff0c\u907f\u514d\u7cbe\u5ea6\u8bef\u5dee\nchar map[35][35];\ndouble diss(int x,int y,int xx,int yy){return sqrt((x-xx)*(x-xx)+(y-yy)*(y-yy));}//\u8ba1\u7b97\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb\u7684\u51fd\u6570\nstring a;\nint main()\n{\n    ios::sync_with_stdio(false);\n    cin>>n>>m>>x;\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            cin>>map[i][j];\n            if(map[i][j]>='a')vis[map[i][j]-'a'+1]=1;//\u91cd\u70b9\uff1a\u8bb0\u5f55\u8be5\u5c0f\u5199\u5b57\u6bcd\u662f\u5426\u51fa\u73b0\u8fc7\uff0c\u7528\u4e8e\u67e5\u770b\u662f\u5426\u4e3a-1\u7684\u60c5\u51b5\n        }\n    }\n    for(char g='a';g<='z';g++)//a\u5230z\u904d\u5386\u4e00\u904d\n    {\n        dis[g-'a'+1]=55;//\u521d\u59cb\u503c\uff0c\u907f\u514d\u6ca1\u6709shift\u7684\u60c5\u51b5\uff0c\u5c06\u7ed3\u679c\u8bbe\u4e3a\u4e00\u5b9a\u6bd4x\u5927\u7684\u6570\u5b57\n        for(int i=1;i<=n;i++)//\u904d\u5386\u4e00\u904d\u952e\u76d8\n            for(int j=1;j<=m;j++)\n                if(map[i][j]==g)//\u627e\u5230\u4e86g\n                    for(int k=1;k<=n;k++)//\u518d\u6b21\u904d\u5386\u4e00\u904d\u952e\u76d8\n                        for(int h=1;h<=m;h++)\n                            if(map[k][h]=='S')dis[g-'a'+1]=min(dis[g-'a'+1],diss(i,j,k,h));//\u5982\u679c\u627e\u5230\u4e86shift\u952e\uff0c\u66f4\u65b0\u6700\u5c0f\u503c\uff08\u8be5\u5b57\u7b26\u8ddd\u79bb\u67d0\u4e2ashift\u952e\u7684\u6700\u77ed\u8ddd\u79bb\uff09\n    }\n    cin>>len>>a;//\u5b57\u7b26\u4e32\n    for(int i=0;i<len;i++)\n    {\n        if((a[i]<='Z'&&dis[a[i]-'A'+1]==55)||(a[i]>='a'&&!vis[a[i]-'a'+1]))//\u4e0d\u5408\u6cd5\u7684\u5904\u7406\uff0c\u6ca1\u6709shift\u952e\u4f46\u662f\u8981\u5927\u5199\uff0c\u6216\u662f\u6ca1\u6709\u8fd9\u4e2a\u5c0f\u5199\u5b57\u7b26\n        {\n            cout<<-1;\n            return 0;//\u76f4\u63a5\u9000\u51fa\n        }\n        if(a[i]<='Z'&&dis[a[i]-'A'+1]>x)ans++;//\u624b\u77ed\uff0cans++\n    }\n    cout<<ans;\n    return 0;\n}\n```\n",
        "postTime": 1568383830,
        "uid": 112661,
        "name": "NKL\u4e36",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF88B \u3010Keyboard\u3011"
    }
]