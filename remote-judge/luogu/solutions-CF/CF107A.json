[
    {
        "content": "\u8ddfdalao\u4e0d\u4e00\u6837\uff0c\u840c\u65b0\u4e00\u770b\u672c\u9898\u5c31\u60f3\u5230\u4e86\u7c7b\u4f3c\u62d3\u6251\u7684\u601d\u60f3\n## \u89e3\u9898\u601d\u8def\n\u5728\u5efa\u8fb9\u65f6\u8bb0\u5f55\u6bcf\u4e2a\u70b9\u7684\u5165\u5ea6\u4e0e\u51fa\u5ea6\uff0c\u65b9\u4fbf\u5224\u65ad\u662f\u5426\u662f\u6c34\u9f99\u5934\uff0c\u679a\u4e3e\u6bcf\u4e2a\u70b9\uff0c\u82e5\u662f\u6c34\u9f99\u5934\uff0c\u5219\u5fc5\u6709\u4e00\u6c34\u7bb1\u4e0e\u5176\u5bf9\u5e94\u5f62\u6210\u4e00\u4e2a\u6c34\u5668\u7ec4\uff0c\u518d\u4ee5\u8fd9\u4e2a\u70b9\u4e00\u8def\u641c\u7d22\u5c31\u53ef\u4ee5\u8bb0\u5f55\u8def\u5f84\u4e0a\u7684\u6700\u5c0f\u8fb9\u548c\u5bf9\u5e94\u6c34\u7bb1\u4e86\u3002\n\n\u9009\u62e9\u7528\u524d\u5411\u661f\u5efa\u7acb\u5355\u5411\u8fb9\uff0c$dfs$ \u4e2d\u5b9a\u4e49\u4e24\u4e2a\u53d8\u91cf $minn$ \u4e0e $cnt$ \u8bb0\u5f55\u6700\u5c0f\u503c\u4e0e\u5f53\u524d\u8fb9\u6307\u5411\u7684\u70b9\uff0c\u5f53\u524d\u70b9\u6ca1\u6709\u8fb9\u65f6\u4fbf\u7ed3\u675f $dfs$\u3002\n\n\u9700\u8981\u6ce8\u610f:\u4e0d\u80fd\u4ec5\u5224\u65ad\u4e00\u70b9\u5165\u5ea6\u4e3a $0$ \u5c31\u8ba4\u4e3a\u662f\u6c34\u9f99\u5934\uff0c\u5b58\u5728\u4e00\u70b9\u5355\u72ec\u5b58\u5728\u6ca1\u6709\u8fde\u6210\u56fe\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u5f53\u5165\u5ea6\u4e3a $0$ \u4e14\u51fa\u5ea6\u4e0d\u4e3a $0$ \u65f6\u624d\u662f\u6c34\u9f99\u5934\u3002\n## \u4ee3\u7801\u5982\u4e0b\n```cpp\n#include<cstdio>\n#include<iostream>\n#define R register\nusing namespace std;\nstruct edge{\n\tint to,w;\n}e[1010];\nint head[1010],tot;\ninline void add(R int x,R int y,R int z){\n\te[++tot].to=y;\n\te[tot].w=z;\n\thead[x]=tot;\n}\nint in[1010],out[1010],minn,cnt;\ninline void dfs(int u){\n\tif(!head[u])return;\n\tminn=min(minn,e[head[u]].w);\n\tcnt=e[head[u]].to;\n\tdfs(e[head[u]].to);\n}\nint main(){\n\tR int n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(R int i=1;i<=m;i++){\n\t\tR int a,b,c;\n\t\tscanf(\"%d%d%d\",&a,&b,&c);\n\t\tadd(a,b,c);\n\t\tin[b]++;\n\t\tout[a]++;\n\t}\n\tR int ans=0;\n\tfor(R int i=1;i<=n;i++)\n\t\tif(!in[i]&&out[i])ans++;\n\tprintf(\"%d\\n\",ans);\n\tfor(R int i=1;i<=n;i++){\n\t\tminn=0x3f3f3f3f;\n\t\tif(!in[i]&&out[i]){\n\t\t\tdfs(i);\n\t\t\tprintf(\"%d %d %d\\n\",i,cnt,minn);\t\n\t\t}\n\t}\n\treturn 0;\n}\n```\n## $2020NOIP$ $rp++$",
        "postTime": 1607001694,
        "uid": 278605,
        "name": "\u68a8\u8863",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 CF107A \u3010Dorm Water Supply\u3011"
    },
    {
        "content": "\u9898\u76ee\u5927\u610f\uff1a\u7ed9\u4f60\u4e00\u5806\u70b9\uff0c\u6709\u5411\u56fe\uff0c\u4fdd\u8bc1\u6bcf\u4e2a\u70b9\u6700\u591a\u6709\u4e00\u4e2a\u51fa\u8fb9\u548c\u4e00\u4e2a\u5165\u8fb9\uff0c\u7ed9\u4f60\u6bcf\u6761\u8fb9\u7684\u6743\u503c\uff0c\u95ee\u4f60\u6bcf\u4e00\u5757\u8fde\u901a\u5757\u4e2d\u7684\u8d77\u70b9\u548c\u4e2d\u70b9\u8fd8\u6709\u8fd9\u6761\u8def\u5f84\u4e2d\u6700\u5c0f\u6743\u503c\u662f\u591a\u5c11\u3002\n\n\u5927\u81f4\u601d\u8def\uff1a\u56e0\u4e3a\u6bcf\u4e2a\u70b9\u90fd\u53ea\u6709\u4e00\u6761\u51fa\u8fb9\uff0c\u5165\u8fb9\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u904d\u5386\u51fa\u6bcf\u4e2a\u5757\u7684\u5934\uff0c\u7136\u540e\u4e00\u4e2a\u4e2a\u5f80\u540e\u626b\uff0c\u6bcf\u6b21\u90fd\u8bb0\u5f55\u5e76\u66f4\u65b0\u8fd9\u4e00\u6bb5\u7684\u6700\u5c0f\u503c\uff0c\u590d\u6742\u5ea6On\u5373\u53ef\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nstruct node{\n\tint fr,to,val;\n} ans[1010];\nint n,m,cnt=0,mixn=0x7fffffff,last[1010],ne[1010],co[1010];\nbool vis[1010];\n\nvoid dfs(int x)\n{\n\tvis[x]=1;\n\tif(ne[x]==0)\n\t{\n\t\tans[cnt].to=x;\n\t\tans[cnt].val=mixn;\n\t\treturn;\n\t}\n\tmixn=min(mixn,co[x]);\n\tdfs(ne[x]);\n} \n\nint main()\n{\tcin>>n>>m;\n    for(int i=1,x,y,z;i<=m;++i)\n    {\n    \tcin>>x>>y>>z;\n    \tlast[y]=x;\n    \tne[x]=y;\n    \tco[x]=z;\n\t}\n\tfor(int i=1;i<=n;++i)\n\t\tif(!vis[i] && last[i]==0 && co[i]!=0)\n\t\t{\n\t\t\tans[cnt].fr=i;\n\t\t\tmixn=co[i];\n\t\t\tdfs(i);\n\t\t\t++cnt;\n\t\t}\n\tcout<<cnt<<endl;\n\tfor(int i=0;i<cnt;++i)\n\t\tcout<<ans[i].fr<<' '<<ans[i].to<<' '<<ans[i].val<<endl;\n    return 0;\n}\n```\n",
        "postTime": 1574849304,
        "uid": 132290,
        "name": "\u5f00\u59cb\u65b0\u7684\u8bb0\u5fc6",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF107A \u3010Dorm Water Supply\u3011"
    },
    {
        "content": "\u770b\u5230\u4e00\u4e2a\u4e2a dalao \u90fd\u7528\u5565\u62d3\u6251\u6392\u5e8f\u554a\uff0cdfs \u554a\uff0c\u6211\u90fd\u6ca1\u60f3\u5230\uff0c\u672c\u849f\u84bb\u81ea\u6127\u4e0d\u5982\u3002~~\u5199\u4e86\u8001\u957f\u4e00\u5927\u4e32\u3002~~\n\n\u6211\u7684\u89e3\u6cd5\u7684\u6765\u6e90\u662f\u770b\u9519\u9898\u4e86\uff0c\u6ca1\u770b\u5230\u8fd9\u53e5\u8bdd\uff1a`\u4fdd\u8bc1\u6bcf\u4e2a\u70b9\u7684\u51fa\u5ea6\u548c\u5165\u5ea6\u6700\u591a\u4e3a 1`\u3002\n\n\u7136\u540e\u770b\u5230\u8fb9\u6743\u6700\u5c0f\uff0c\u5c31\u60f3\u5230\u4e86\u6700\u77ed\u8def\u3002\n\n\u5148\u4f7f\u7528 dijkstra \u6c42\u6700\u77ed\u8def\uff0c\u627e\u8def\u5f84\u6700\u5c0f\u503c\uff0c\u4e00\u4e2a\u4e2a\u6bd4\u8f83\u3001\u7edf\u8ba1\uff0c\u5bf9\u677f\u5b50\u4e00\u987f\u9b54\u6539\uff0c\u5c31\u884c\u4e86\u3002\n\n\u8be6\u89c1\u6ce8\u91ca\u3002\n``` cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define do double\n#define pb push_back\n#define il inline\n#define lowbit(x) (x&(-x))\n#define sqr(x) (x*x)\nusing namespace std;\nconst int maxn=1005;\nstruct Queue{\n\tint pos,dis;\n\tbool operator<(const Queue &u)const{return dis<u.dis;}//\u91cd\u8f7d\u8fd0\u7b97\u7b26\n};\nstruct edge{\n\tint v,w,next;\n}e[maxn];int cnt,head[maxn];\nstruct node{\n\tint u,v,w;\n}ans[maxn];int ret;\nint n,m,in[maxn],ou[maxn];\nint v[maxn],tot;\nvoid add(int u,int v,int w){//\u94fe\u5f0f\u524d\u5411\u661f\u5b58\u56fe\n\te[++cnt]=(edge){v,w,head[u]};\n\thead[u]=cnt;\n}\nint dis[maxn],fis[maxn];bool vis[maxn];//\u6ce8\uff1afis \u8868\u793a\u8def\u5f84\u4e0a\u7684\u6700\u5c0f\u503c\nnode dijkstra(int s){//\u8dd1 dijkstra\n\tpriority_queue<Queue>q;\n\tmemset(dis,0x3f,sizeof(dis));\n\tmemset(vis,0,sizeof(vis));\n\tmemset(fis,0x3f,sizeof(fis));\n\tdis[s]=0;vis[s]=0;\n\tq.push((Queue){s,0});\n\twhile(!q.empty()){\n\t\tQueue tmp=q.top();q.pop();\n\t\tint u=tmp.pos;\n\t\tif(vis[u]) continue;\n\t\tvis[u]=1;\n\t\tif(in[u]&&!ou[u])\n\t\t\treturn (node){s,u,fis[u]};\n\t\tfor(int i=head[u];i;i=e[i].next){\n\t\t\tint v=e[i].v;\n\t\t\tif(dis[v]>dis[u]+e[i].w){\n\t\t\t\tdis[v]=dis[u]+e[i].w;\n\t\t\t\tfis[v]=min(fis[u],e[i].w);//\u53d6\u6700\u5c0f\u503c\n\t\t\t\tq.push((Queue){v,dis[v]});\n\t\t\t}\n\t\t}\n\t}\n}\nsigned main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1,u,v,w;i<=m;++i){\n\t\tscanf(\"%d%d%d\",&u,&v,&w);\n\t\tadd(u,v,w);\n\t\t++in[v];++ou[u];//\u5229\u7528\u62d3\u6251\u7684\u601d\u60f3\uff1a\u5224\u65ad\u6c34\u7bb1\u548c\u6c34\u9f99\u5934\n\t}\n\tfor(int i=1;i<=n;++i)//\u5982\u679c\u662f\u6c34\u7bb1\u5c31\u8dd1 dijkstra\n\t\tif(!in[i]&&ou[i])\n\t\t\tv[++tot]=i;\n\tfor(int i=1;i<=tot;++i)\n\t\tans[++ret]=dijkstra(v[i]);//\u8dd1 dijkstra\n\tprintf(\"%d\\n\",ret);//\u6c34\u5668\u7ec4\u6570\u91cf\n\tfor(int i=1;i<=ret;++i)\n\t\tprintf(\"%d %d %d\\n\",ans[i].u,ans[i].v,ans[i].w);//\u8f93\u51fa\n\treturn 0;\n}\n```",
        "postTime": 1664671922,
        "uid": 541069,
        "name": "_CowHorse_",
        "ccfLevel": 0,
        "title": "CF107A\u9898\u89e3"
    },
    {
        "content": "## \u4e24\u904dDFS\n\u8bf4\u5b9e\u8bdd\u521a\u770b\u5230\u8fd9\u9898\uff0c\u672c\u849f\u84bb\u4ee5\u4e3a\u662f\u62d3\u6251\u6392\u5e8f\uff0c\u4f46\u4ed4\u7ec6\u4e00\u770b\u9898\u76ee\uff0c\u53c8\u4e00\u770b\u6570\u636e\u8303\u56f4\uff0c\u6216\u8bb8\u53ef\u4ee5DFS?\n\n\u6211\u7684\u601d\u8def\u5c31\u662f**\u5148\u8dd1\u4e00\u904dDFS\u8bb0\u5f55\u6709\u51e0\u6761\u8054\u901a\u8def**\n\n\u518d\u8dd1\u4e00\u6b21\u8f93\u51fa**\u521d\u65f6\u7684\u503c\u548cDFS\u56de\u6eaf\u65f6\u7684\u503c**\n\n\u7531\u4e8e $1\\le n\\le1000$ \n\n\u6240\u4ee5\u6211\u4eecDFS\u5e76\u4e0d\u4f1a\u8d85\u65f6\u95f4\n\n\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<vector>\nusing namespace std;\nint n,m,u,v,l,x,y,z,ji=0;\nint r[100004],c[100004];\nstruct node{\n\tint t,v;\n};\nvector<node>g[112211];\nvoid dfs(int x,int ans){\n\tif(c[x]==0)\n\t{\n\t\tcout<<x<<\" \";\n        cout<<ans;\n\t\treturn ;\n\t} \n\tfor(int i=0;i<g[x].size();i++){\n\t\tif(ans==0)\n\t\tans=g[x][i].v;\n\t\tif(ans!=0)\n\t\tans=min(ans,g[x][i].v);\n\t\tdfs(g[x][i].t,ans);\n\t}\n\t\n}\nvoid dfs2(int x){\n\tif(c[x]==0)\n\t{\n\t\tji++;\n\t\treturn ;\n\t} \n\tfor(int i=0;i<g[x].size();i++)\n\tdfs2(g[x][i].t);\n}\nint main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tcin>>x>>y>>z;\n\t\tg[x].push_back((node){y,z});\n\t\tr[y]=1;\n\t\tc[x]=1;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\t\n\tif(r[i]==0&&c[i]==1)\t\n\tdfs2(i);\n\t}\n\tcout<<ji;\n    cout<<\"\\n\";\n\tfor(int i=1;i<=n;i++)\n\t{\n\tif(r[i]==0&&c[i]==1)\t\n\t{\n        cout<<i<<\" \"; \n\t\tdfs(i,0);\n        cout<<\"\\n\";\n\t}\n\t}\n}\n```\n\u8c22\u8c22\u89c2\u770b\n\n",
        "postTime": 1606632556,
        "uid": 238419,
        "name": "Phoenix_chaser",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 CF107A \u3010Dorm Water Supply\u3011"
    },
    {
        "content": "\u8fd9\u9898\u4e0d\u662f\u5f88\u96be\uff0c\u4e0a\u4ee3\u7801:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct node\n{\n    int u,v,d;\n}a[1001];\nint cnt,n,m;\nint NE[1001],cost[1001],pre[1001];\nbool v[1001];\nvoid dfs(int i,int flow)\n{\n    v[i]=true;\n    if (NE[i]==0)\n    {\n        a[cnt].d=flow;\n        a[cnt].v=i;\n        return;\n    }\n    int j=NE[i];\n    if (cost[j]<flow&&cost[j]!=0)\n    {\n        dfs(j,cost[j]);\n    }\n    else\n    {\n        dfs(j,flow);\n    }\n}\nint main()\n{\n    cnt=0;\n    cin>>n>>m;\n    for (int i=1;i<=m;i++)\n    {\n        int a,b,k;\n        cin>>a>>b>>k;\n        NE[a]=b;\n        pre[b]=a;\n        cost[a]=k;\n    }\n    for (int i=1;i<=n;i++)\n    {\n        if (!v[i]&&pre[i]==0&&NE[i]!=0)\n        {\n            a[cnt].u=i;\n            dfs(i,cost[i]);\n            cnt++;\n        }\n    }\n    cout<<cnt<<endl;\n    for (int i=0;i<cnt;i++)\n    {\n        cout<<a[i].u<<\" \"<<a[i].v<<\" \"<<a[i].d<<endl;\n    }\n    return 0;\n}\n```",
        "postTime": 1545370302,
        "uid": 69036,
        "name": "\u8c26\u8c26\u541b\u5b50",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF107A \u3010Dorm Water Supply\u3011"
    }
]