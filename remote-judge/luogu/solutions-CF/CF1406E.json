[
    {
        "content": "\u51fa\u9898\u4eba\u9898\u89e3\uff1a\n\n\u5982\u679c\u6211\u4eec\u77e5\u9053 $x$ \u7684\u6240\u6709\u8d28\u56e0\u6570\uff0c\u53ef\u4ee5\u7528\u66b4\u529b\u679a\u4e3e\u5e42\u6b21\u627e\u5230\u7b54\u6848\u3002\n\n\u53ef\u4ee5\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8d28\u6570 $p$ \u505a\u4e00\u6b21\u8be2\u95ee $B~p$\uff0c\u82e5\u5f97\u5230\u7b54\u6848\u548c\u6ca1\u6709 $x$ \u7684\u7b54\u6848\u4e0d\u540c\uff0c\u5219\u8bf4\u660e $x$ \u6709 $p$ \u8fd9\u4e00\u4e2a\u8d28\u56e0\u5b50\u3002\n\n\u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u627e\u5230\u9664\u6700\u5c0f\u8d28\u56e0\u5b50\u4ee5\u5916\u7684\u8d28\u56e0\u5b50\u3002\n\n\u5bf9\u4e8e\u6700\u5c0f\u7684\u8d28\u56e0\u5b50\uff0c\u53ef\u4ee5\u91c7\u7528\u5206\u5757\uff0c\u4ee4 $m$ \u4e3a\u8d28\u6570\u4e2a\u6570\uff0c\u6bcf\u9694 $\\sqrt m$ \u6b21\u505a\u4e00\u6b21 $A~1$ \u8be2\u95ee\uff0c\u68c0\u67e5\u6700\u5c0f\u8d28\u56e0\u5b50\u662f\u5426\u5728\u533a\u95f4\u91cc\uff0c\u5982\u679c\u5728\uff0c\u5219\u626b\u63cf\u4e00\u904d\u533a\u95f4\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8d28\u56e0\u6570\u627e\u4e00\u6b21 $A~p$\uff0c\u5373\u53ef\u5f97\u5230\u6240\u6709\u8d28\u56e0\u6570\u3002\n\n\u603b\u64cd\u4f5c\u6b21\u6570\uff1a$m+2\\sqrt m+\\log n$\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(n\\log n)$\u3002\n\n\u81ea\u6211\u8bc4\u4ef7\uff1a\u662f\u4e00\u9053\u5f88\u4e0d\u9519\u7684\u9898\u76ee\uff01\n\n```\n#include<bits/stdc++.h>\n#define re register\n#define int long long\nusing namespace std;\nbool vis[100002];\nint pri[100002],tot,n,x,sum,ans,ia;\nsigned main(){\n\tsrand(19260817); \n\tscanf(\"%lld\",&n);\n\tfor(re int i=2; i<=n; ++i) {\n\t\tif(!vis[i]) {\n\t\t\tpri[++tot]=i;\n\t\t\tif(i<=sqrt(n))\n\t\t\tfor(re int j=i*i; j<=n; j+=i)vis[j]=1;\n\t\t\t}\n\t}\n\tmemset(vis,0,sizeof(vis));\n\tre int k=sqrt(tot);sum=n;ans=1;\n\tfor(re int i=1;i<=tot;++i){\n\t    if(i>=k&&ans*pri[i-k+1]>n)break;\n\t\tprintf(\"B %lld\",pri[i]);cout<<endl;\n\t\tre int num=0;\n\t\tfor(re int j=pri[i];j<=n;j+=pri[i]){\n\t\t\tif(!vis[j]){\n\t\t\t\t++num;--sum;\n\t\t\t\tvis[j]=1;\n\t\t\t}\n\t\t}\n\t\tscanf(\"%lld\",&x);\n\t\tif(x!=num){\n\t\t\tfor(re int kk=pri[i];kk<=n;kk*=pri[i]){\n\t\t\t\t\tprintf(\"A %lld\",kk);cout<<endl;\n\t\t\t\t\tscanf(\"%lld\",&x);\n\t\t\t\t\tif(x)ans*=pri[i];\n\t\t\t\t\telse break;\n\t\t\t}\n\t\t}\n\t\tif((i==tot||i%k==0)&&!ia){\n\t\t\tprintf(\"A 1\");cout<<endl;\n\t\t\tscanf(\"%lld\",&x);\n\t\t\tif(x!=sum){\n\t\t\t\tfor(re int j=i-k+1;j<=i;++j){\n\t\t\t\t\tfor(re int kk=pri[j];kk<=n;kk*=pri[j]){\n\t\t\t\t\t\tprintf(\"A %lld\",kk);cout<<endl;\n\t\t\t\t\t\tscanf(\"%lld\",&x);\n\t\t\t\t\t\tif(x)ans*=pri[j],ia=1;\n\t\t\t\t\t\telse break;\n\t\t\t\t\t}\n\t\t\t\t\tif(ia)break;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"C %lld\",ans);cout<<endl;\n}\n```\n",
        "postTime": 1600008544,
        "uid": 335422,
        "name": "\u9493\u9c7c\u738b\u5b50",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1406E \u3010Deleting Numbers\u3011"
    },
    {
        "content": "[\u565c\u5566\u565c\u5566\u54a7\u565c\u5566\u565c\u5566\u54a7\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/dysyn1314/p/13963433.html)\n\n# CF1406E Deleting Numbers\n\n## \u9898\u76ee\u5927\u610f\n\n\u4ea4\u4e92\u9898\u3002\n\n\u6709\u4e00\u4e2a\u672a\u77e5\u7684\u6574\u6570 $x$ ($1\\leq x\\leq n$)\uff0c\u4f60\u9700\u8981\u901a\u8fc7\u4ea4\u4e92\u627e\u51fa\u5b83\u3002\n\n\u521d\u59cb\u65f6\uff0c\u4ea4\u4e92\u5e93\u4f1a\u544a\u8bc9\u4f60 $n$\u3002\n\n\u6709\u4e00\u4e2a\u96c6\u5408 $\\{1,2,\\dots ,n\\}$\u3002\u4f60\u53ef\u4ee5\u8fdb\u884c\u4e0d\u8d85\u8fc7 $10^4$ \u6b21\u64cd\u4f5c\u3002\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u662f\u5982\u4e0b\u4e09\u79cd\u4e4b\u4e00\uff1a\n\n- $\\text{A }a$\uff1a\u5411\u4ea4\u4e92\u5e93\u8be2\u95ee\uff0c\u5f53\u524d\u96c6\u5408\u91cc\u6709\u591a\u5c11\u6570\u662f $a$ \u7684\u500d\u6570\u3002\n- $\\text{B }a$\uff1a\u5411\u4ea4\u4e92\u5e93\u8be2\u95ee\uff0c\u5f53\u524d\u96c6\u5408\u91cc\u6709\u591a\u5c11\u6570\u662f $a$ \u7684\u500d\u6570\u3002\u7136\u540e\u5c06\u6240\u6709 $a$ \u7684\u500d\u6570\u5220\u53bb\u3002\u7279\u522b\u5730\uff1a$x$ \u5c06\u4e0d\u4f1a\u88ab\u5220\u53bb\uff0c\u5373\u4f7f\u5b83\u662f $a$ \u7684\u500d\u6570\u3002\u6b64\u64cd\u4f5c\u5fc5\u987b\u4fdd\u8bc1 $a > 1$\u3002\n- $\\text{C }a$\uff1a\u5411\u4ea4\u4e92\u5e93\u62a5\u544a\u4f60\u627e\u51fa\u7684 $x$\u3002\n\n\u8bf7\u5728\u89c4\u5b9a\u64cd\u4f5c\u6b21\u6570\u5185\u6c42\u51fa $x$\u3002\n\n\u6570\u636e\u8303\u56f4\uff1a$1\\leq n\\leq 10^5$\u3002\n\n## \u672c\u9898\u9898\u89e3\n\n\u8003\u8651\u4e00\u79cd\u66b4\u529b\u505a\u6cd5\u3002\u679a\u4e3e $1\\dots n$ \u4e2d\u6bcf\u4e2a\u8d28\u6570 $p$\uff0c\u518d\u679a\u4e3e $p$ \u5728 $n$ \u4ee5\u4e0b\u7684\u6240\u6709\u6b21\u5e42 $p^k$\u3002\u5148\u7528 $\\text{B}$ \u64cd\u4f5c\u5220\u9664 $p^k$ \u7684\u500d\u6570\uff0c\u518d\u7528 $\\text{A}$ \u64cd\u4f5c\u67e5\u8be2\u96c6\u5408\u91cc\u662f\u5426\u4ecd\u6709 $p^k$ \u7684\u500d\u6570\u3002\u82e5\u6709\uff0c\u8bf4\u660e $x$ \u662f $p^k$ \u7684\u500d\u6570\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u6bcf\u4e2a\u8d28\u6570\u5728 $x$ \u91cc\u7684\u6700\u5927\u6b21\u5e42\u662f\u591a\u5c11\uff0c\u6839\u636e\u552f\u4e00\u5206\u89e3\u5b9a\u7406\uff0c\u6211\u4eec\u4e5f\u5c31\u786e\u5b9a\u4e86 $x$\u3002\n\n\u8bbe $\\pi(n)$ \u4e3a $1\\dots n$ \u4e2d\u7684\u8d28\u6570\u6570\u91cf\uff0c$\\tau(n)$ \u4e3a $1\\dots n$ \u4e2d\u7684\u8d28\u6570\u7684\u5e42\u7684\u6570\u91cf\u3002\u6253\u8868\u53d1\u73b0\uff0c$\\pi(10^5)=9592,\\tau(10^5)=9700$\u3002\u4e0a\u8ff0\u505a\u6cd5\uff0c\u9700\u8981 $2\\tau(n)+1$ \u6b21\u64cd\u4f5c\uff08\u6700\u540e\u4e00\u6b21\u64cd\u4f5c\u662f\u62a5\u544a\u7b54\u6848\uff09\uff0c\u65e0\u6cd5\u901a\u8fc7\u672c\u9898\u3002\n\n\u4e00\u4e2a\u5c0f\u4f18\u5316\u662f\uff0c\u5bf9\u6bcf\u4e2a\u8d28\u6570 $p$\uff0c\u5148\u7528 $\\text{B}$ \u64cd\u4f5c\u5220\u9664\u6240\u6709 $p$ \u7684\u500d\u6570\uff0c\u518d\u4f9d\u6b21\u8be2\u95ee\u6240\u6709\u6b21\u5e42\u3002\u64cd\u4f5c\u6b21\u6570\u4f18\u5316\u4e3a $\\pi(n)+\\tau(n)+1$\uff0c\u4f46\u4ecd\u65e0\u6cd5\u901a\u8fc7\u672c\u9898\u3002\n\n\u6709\u4e00\u4e2a\u7ecf\u5178\u7684\u6280\u5de7\u662f\uff0c\u628a\u8d28\u6570\u5206\u4e3a $\\leq \\sqrt{n}$ \u7684\u201c\u5c0f\u8d28\u6570\u201d\u548c $> \\sqrt{n}$ \u7684\u201c\u5927\u8d28\u6570\u201d\u3002\u5c0f\u8d28\u6570\u603b\u5171\u53ea\u6709 $\\pi(\\sqrt{n})$ \u4e2a\u3002\u800c\u5927\u8d28\u6570\u5728\u4efb\u4f55 $x$ \u91cc\u81f3\u591a\u53ea\u6709 $1$ \u4e2a\u3002\n\n\u5148\u7528 $\\pi(\\sqrt{n})+\\tau(\\sqrt{n})\\leq 238$ \u6b21\u64cd\u4f5c\uff0c\u6c42\u51fa $x$ \u4e2d\u6240\u6709\u5c0f\u8d28\u56e0\u5b50\u53ca\u5176\u6b21\u5e42\u3002\u8bbe $x$ \u7684\u5c0f\u8d28\u56e0\u5b50\u90e8\u5206\u4e3a $x_{\\text{small}}$\u3002\u6b64\u65f6\uff0c\u96c6\u5408\u91cc\u8fd8\u5269\u4e0b $1$\u3001$x$\u3001\u4ee5\u53ca\u6240\u6709\u5927\u8d28\u6570\u3002\u6211\u4eec\u8981\u786e\u5b9a $x$ \u91cc\u8fd8\u5269\u4e0b\u7684\u90a3 $1$ \u4e2a\u5927\u8d28\u56e0\u5b50\u662f\u8c01\uff08\u6216\u8005\u6839\u672c\u6ca1\u6709\u5927\u8d28\u56e0\u5b50\uff09\u3002\n\n\u5728\u524d\u9762\u7684\u6734\u7d20\u505a\u6cd5\u91cc\uff0c\u6211\u4eec\u5b9e\u9645\u5bf9\u6bcf\u4e2a\u5927\u8d28\u6570\u7528\u4e86 $2$ \u6b21\u8be2\u95ee\uff0c\u8fd9\u6837\u592a\u591a\u4e86\u3002\u8003\u8651\u51cf\u5c0f\u8fd9\u4e2a\u6b21\u6570\u3002\u5206\u4e24\u79cd\u60c5\u51b5\uff1a\n\n- \u5982\u679c $x_{\\text{small}} > 1$\uff1a\u6211\u4eec\u5bf9\u6bcf\u4e2a\u5927\u8d28\u6570 $p$\uff0c\u76f4\u63a5\u7528 $\\text{A}$ \u64cd\u4f5c\u8be2\u95ee $p\\times x_{\\text{small}}$\u3002\u5982\u679c\u7ed3\u679c\u4e3a $1$\uff0c\u8bf4\u660e $x$ \u5c31\u7b49\u4e8e $p\\times x_{\\text{small}}$\uff08\u4e0d\u7136\u7684\u8bdd\uff0c\u8fd9\u4e2a\u6570\u6b64\u65f6\u5e94\u8be5\u5df2\u7ecf\u88ab\u5220\u4e86\uff09\uff1b\u5982\u679c\u7ed3\u679c\u4e3a $0$\uff0c\u8bf4\u660e $p$ \u4e0d\u662f $x$ \u7684\u5927\u8d28\u56e0\u5b50\u3002\u8fd9\u6837\uff0c\u5bf9\u6bcf\u4e2a\u5927\u8d28\u56e0\u5b50\u53ea\u9700\u8981 $1$ \u6b21\u64cd\u4f5c\u3002\u627e\u51fa\u5927\u8d28\u56e0\u5b50\u6240\u9700\u7684\u64cd\u4f5c\u6b21\u6570\u7b49\u4e8e\u5927\u8d28\u56e0\u5b50\u7684\u6570\u91cf\uff0c\u4e3a\uff1a$\\pi(n)-\\pi(\\sqrt{n})$\u3002\u52a0\u4e0a\u5c0f\u8d28\u6570\u7684\u90e8\u5206\uff0c\u4ee5\u53ca\u62a5\u544a\u7b54\u6848\u7684\u64cd\u4f5c\uff0c\u603b\u6b21\u6570\u4e3a $\\pi(\\sqrt{n})+\\tau(\\sqrt{n})+(\\pi(n)-\\pi(\\sqrt{n}))+1=\\pi(n)+\\tau(\\sqrt{n})+1\\leq 9766$\u3002\n- \u5982\u679c $x_{\\text{small}}=1$\uff1a\u6b64\u65f6 $p\\times x_{\\text{small}}$ \u5c31\u662f\u5927\u8d28\u6570 $p$ \u672c\u8eab\uff0c\u5b83\u672c\u6765\u5c31\u5e94\u8be5\u5728\u96c6\u5408\u91cc\uff0c\u6240\u4ee5\u76f4\u63a5\u8be2\u95ee\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u96c6\u5408\u91cc\u53ea\u5269 $1$ \u548c\u5927\u8d28\u6570\uff08\u56e0\u4e3a $x$ \u672c\u8eab\u4e5f\u662f $1$ \u6216\u5927\u8d28\u6570\uff09\u3002\u8003\u8651\u5927\u8d28\u6570\u5e8f\u5217\u5206\u5757\u3002\u6bcf\u5757\u91cc\uff0c\u5148\u4f9d\u6b21\u7528 $\\text{B}$ \u64cd\u4f5c\u5c06\u672c\u5757\u7684\u5927\u8d28\u6570\u5168\u90e8\u5220\u9664\uff0c\u7136\u540e\u7528 $\\text{A}$ \u64cd\u4f5c\u5bf9 $1$ \u8fdb\u884c\u4e00\u6b21\u8be2\u95ee\uff08\u4e5f\u5c31\u662f\u8be2\u95ee\u6574\u4e2a\u96c6\u5408\u5269\u4f59\u7684\u6570\u7684\u6570\u91cf\uff09\u3002\u5982\u679c\u53d1\u73b0\u96c6\u5408\u5927\u5c0f\u51cf\u5c11\u7684\u91cf\uff0c\u5c11\u4e8e\u6211\u4eec\u5220\u9664\u7684\u91cf\uff0c\u8bf4\u660e $x$ \u5c31\u5728\u672c\u5757\u91cc\uff0c\u6211\u4eec\u679a\u4e3e\u672c\u5757\u4e2d\u7684\u6570\uff0c\u4f9d\u6b21\u8be2\u95ee\u3002\u8fd9\u6837\uff0c\u8bbe\u5757\u7684\u5927\u5c0f\u4e3a $S$\uff0c\u5219\u627e\u51fa\u5927\u8d28\u6570\u6240\u9700\u7684\u64cd\u4f5c\u6b21\u6570\u4e3a\uff1a$\\pi(n)-\\pi(\\sqrt{n})+\\lceil\\frac{\\pi(n)-\\pi(\\sqrt{n})}{B}\\rceil+B$\u3002\u53d6 $B = \\lfloor\\sqrt{\\pi(n)-\\pi(\\sqrt{n})}\\rfloor = 97$ \u65f6\uff0c\u8fd9\u90e8\u5206\u7684\u6700\u5927\u64cd\u4f5c\u6b21\u6570\u4e3a $9723$\u3002\u52a0\u4e0a\u5c0f\u8d28\u6570\u7684\u90e8\u5206\uff0c\u4ee5\u53ca\u62a5\u544a\u7b54\u6848\u7684\u64cd\u4f5c\uff0c\u6700\u5927\u603b\u6b21\u6570\u4e3a $9962$\u3002\u53ef\u4ee5\u901a\u8fc7\u672c\u9898\u3002\n\n## \u53c2\u8003\u4ee3\u7801\n\n[\u52c7\u6562\u5411\u524d\u8fdb\uff0c\u524d\u8fdb\u6709\u5956\u54c1\uff01\uff01\uff01](https://www.cnblogs.com/dysyn1314/p/13963433.html)\n\n",
        "postTime": 1605159821,
        "uid": 100674,
        "name": "duyi",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1406E \u3010Deleting Numbers\u3011"
    },
    {
        "content": "## \u9898\u610f\u7b80\u8ff0\n\u539f\u9898\u94fe\u63a5\uff1a[CF1406E](https://www.luogu.com.cn/problem/CF1406E)  \n\n\u4ea4\u4e92\u5e93\u7ed9\u5b9a\u4e00\u4e2a\u6b63\u6574\u6570 $n(n\\leq 10^5)$\u3002  \n  \n\u6211\u4eec\u6709\u4e00\u4e2a\u6b63\u6574\u6570\u96c6\u5408 $S=\\{a|a\\leq n\\}$, \u9700\u8981\u5728\u81f3\u591a $10^4$ \u6b21\u64cd\u4f5c\u540e\u627e\u51fa\u672a\u77e5\u6570 $x(x\\leq n)$ \u7684\u503c\u3002\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u4ee5\u4e0b\u7684\u51e0\u79cd\u64cd\u4f5c\u3002\n- \u8f93\u51fa $A\\ a:$ \u8be2\u95ee\u96c6\u5408 $S$ \u4e2d\u6709\u591a\u5c11\u4e2a\u6570\u662f $a$ \u7684\u500d\u6570\u3002\n\n- \u8f93\u51fa $B\\ a:$ \u8be2\u95ee\u96c6\u5408 $S$ \u4e2d\u6709\u591a\u5c11\u4e2a\u6570\u662f $a$ \u7684\u500d\u6570\uff0c\u5e76\u5728\u4e4b\u540e\u5220\u53bb\u6240\u6709 $a$ \u7684\u500d\u6570\u3002**\u6ce8\u610f\uff0c\u8981\u627e\u7684\u672a\u77e5\u6570\u4e0d\u4f1a\u88ab\u5220\u9664**\u3002\n\n- \u8f93\u51fa $C\\ a:$ \u7ed9\u51fa\u7b54\u6848 $x=a$ \u3002\n\n## \u9898\u76ee\u5206\u6790\n\u6ce8\u610f\u5230 $10^5$ \u4ee5\u5185\u7684\u8d28\u6570\u5171\u6709 $9592$ \u4e2a\uff0c\u4e0e\u6211\u4eec\u64cd\u4f5c\u6570\u7684\u4e0a\u9650\u5f88\u63a5\u8fd1\u3002\u4e8e\u662f\u5bf9\u4e8e\u6bcf\u4e2a\u8d28\u6570\u5148\u5220\u518d\u95ee\u7684\u66b4\u529b\u505a\u6cd5\u6700\u591a\u8981 $9592\\cdot 2+1=19185$ \u6b21\u64cd\u4f5c\uff0c\u4e0d\u6ee1\u8db3\u8981\u6c42\u3002\u6211\u4eec\u4e0b\u9762\u6765\u4f18\u5316\u8fd9\u4e2a\u505a\u6cd5\uff0c\u5c3d\u91cf\u8be6\u7ec6\u4e00\u4e9b\u3002\n\n------------\n\n\u6211\u4eec\u8003\u8651\u9996\u5148\u5224\u65ad\u672a\u77e5\u6570 $x$ \u662f\u5426\u4e3a\u8d28\u6570\u3002  \n  \n\u56e0\u4e3a\u4efb\u4f55\u4e00\u4e2a\u5408\u6570 $m$ \u5fc5\u7136\u542b\u6709\u4e00\u4e2a $\\leq\\sqrt m$ \u7684\u8d28\u56e0\u6570\uff0c\u6240\u4ee5\u6211\u4eec\u5148\u5904\u7406 $\\leq\\sqrt n$ \u7684\u8d28\u6570\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u8d28\u6570 $p$ \u5148\u8be2\u95ee $B\\ p$, \u518d\u8be2\u95ee $A\\ p$\u3002  \n  \n\u6b64\u65f6\u5982\u679c\u5f97\u5230\u7684\u7b54\u6848\u4e3a $1$ \u5219\u8bf4\u660e $p$ \u662f\u672a\u77e5\u6570 $x$ \u7684\u56e0\u6570\uff0c\u90a3\u4e48\u7ee7\u7eed\u8be2\u95ee $A\\ p^2$......$ A\\ p^k$ \u76f4\u5230\u7b54\u6848\u4e3a $0$ \u4e3a\u6b62\u3002\u8bb0\u5f55\u8fd9\u4e9b\u56e0\u6570\u3002  \n  \n\u4e4b\u540e\u5c31\u51fa\u73b0\u4e86\u4e24\u79cd\u60c5\u51b5\uff1a\n1. \u5728 $\\leq\\sqrt n$ \u7684\u8d28\u6570\u4e2d\u627e\u5230\u4e86 $x$ \u7684\u56e0\u6570\u3002\u8fd9\u8bf4\u660e $x$ \u8981\u4e48\u662f\u5df2\u7ecf\u88ab\u627e\u5230\u7684\u4e00\u4e2a\u8d28\u6570\uff0c\u8981\u4e48\u662f\u4e00\u4e2a\u5408\u6570  \n\n   \u8fd9\u65f6\u7684\u96c6\u5408 $S$ \u4e2d\u53ea\u5269\u4e0b\u4e86\u6240\u6709 $>\\sqrt n$ \u7684\u8d28\u6570\u4ee5\u53ca $x$, \u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u5bf9\u6bcf\u4e2a $>\\sqrt n$ \u7684\u8d28\u6570 $p$ \u8be2\u95ee $A\\ p$, \u5982\u679c\u5f97\u5230\u7684\u7b54\u6848\u4e3a $2$ \u5219\u8bf4\u660e $p$ \u662f $x$ \u7684\u56e0\u6570\uff0c\u800c\u53c8\u56e0\u4e3a $p^2>n$ \u6240\u4ee5\u53ea\u9700\u8bb0\u5f55 $p$\u3002  \n   \n   \u904d\u5386\u4e4b\u540e\u8f93\u51fa\u7b54\u6848\uff0c\u7ecf\u8fc7\u8ba1\u7b97\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u6211\u4eec\u6700\u591a\u53ea\u4f1a\u8fdb\u884c $65\\cdot2+9527+1=9658$ \u6b21\u64cd\u4f5c\uff0c\u7b26\u5408\u9898\u76ee\u8981\u6c42\u3002\n\n1. \u5728 $\\leq\\sqrt n$ \u7684\u8d28\u6570\u4e2d\u6ca1\u6709\u627e\u5230 $x$ \u7684\u56e0\u6570\u3002\u8fd9\u8bf4\u660e $x$ \u8981\u4e48\u662f $1$, \u8981\u4e48\u662f\u4e00\u4e2a $>n$ \u7684\u8d28\u6570\u3002  \n\n   \u8fd9\u65f6\u6211\u4eec\u6ce8\u610f\u5230\u9898\u76ee\u8981\u6c42\u7684\u7279\u6b8a\u5904\uff1a\u8fdb\u884c $A\\ a$ \u64cd\u4f5c\u65f6\uff0c$a$ \u7684\u503c**\u53ef\u4ee5\u4e3a $1$\u3002**  \n\n   \u9898\u89e3\u5927\u90e8\u5206\u90fd\u5728\u8fd9\u91cc\u7528\u4e86\u5206\u5757\u7684\u505a\u6cd5\uff0c\u4f46\u6211\u5e76\u6ca1\u6709\u60f3\u5230\uff0c\u800c\u4e14\u4e8c\u5206\u7684\u8be2\u95ee\u6570\u91cf\u7565\u4f18\u4e8e\u5206\u5757\uff0c\u6240\u4ee5\u4ecb\u7ecd\u8fd9\u4e2a\u7c7b\u4f3c\u4e8c\u5206\u7684\u505a\u6cd5\u3002  \n\n   \u6211\u4eec\u628a $>\\sqrt n$ \u7684\u8d28\u6570\u6807\u53f7\u4e3a $p_1,p_2,...,p_k$, \u53ea\u9700\u8981\u5148\u5220\u6389 $p_1...p_{k/2}$, \u4e4b\u540e\u8fdb\u884c\u64cd\u4f5c $A$ \u8be2\u95ee $A\\ 1$\u3002\u5982\u679c\u5f97\u5230\u7684\u7b54\u6848 $ans \\neq k-k/2+1$, \u5219\u8bf4\u660e\u672a\u77e5\u6570 $x$ \u5c31\u5728\u88ab\u5220\u6389\u7684 $p$ \u91cc\u9762\uff0c\u4e8e\u662f\u5bf9\u521a\u624d\u5220\u6389\u7684\u6bcf\u4e2a $p$ \u518d\u8fdb\u884c $B\\ p$ \u64cd\u4f5c\u5373\u53ef\u627e\u51fa\u7b54\u6848\uff1b\u5426\u5219\u5c31\u5bf9 $p_{k/2+1},...,p_k$ \u7ee7\u7eed\u8fdb\u884c\u4e8c\u5206\u3002  \n\n   \u7279\u6b8a\u5730\uff0c\u5982\u679c\u904d\u5386\u5b8c\u6240\u6709\u8d28\u6570\u540e\u4f9d\u7136\u6ca1\u6709\u627e\u5230 $x$ \u90a3\u4e48\u8bf4\u660e $x=1$, \u8f93\u51fa\u7b54\u6848\u5373\u53ef\u3002\u7ecf\u8fc7\u8ba1\u7b97\uff0c\u8fd9\u79cd\u60c5\u51b5\u91cc\u6211\u4eec\u6700\u591a\u4e5f\u53ea\u8fdb\u884c $65\\cdot 2+9527+\\log9527+1+1=9673$ \u6b21\u64cd\u4f5c\uff0c\u540c\u6837\u6ee1\u8db3\u9898\u76ee\u8981\u6c42\u3002\n\n---\n## \u4ee3\u7801\n```cpp\n#include <iostream>\n#include <cstring>\n#include <algorithm>\nusing namespace std;\nint n,ans,q,xnow=1,cntp,prime[10005];//xnow\u8868\u793a\u672a\u77e5\u6570\u7684\u7b54\u6848\uff0ccntp\u4e3a\u8d28\u6570\u4e2a\u6570 \nbool prm[100005];\nvoid ask(int tag,int x)//\u8be2\u95ee \n{\n\tcout<<(char)(tag+'A'-1)<<\" \"<<x<<endl;\n\tfflush(stdout);\n\tcin>>ans;\n}\nvoid init()//\u7ebf\u6027\u7b5b1~n\u7684\u8d28\u6570 \n{\n\tmemset(prm,1,sizeof(prm));\n\tprm[1]=0;\n\tfor(int i=2;i<=n;i++)\n\t{\n\t\tif(prm[i])\n\t\t{\n\t\t\tcntp++;\n\t\t\tprime[cntp]=i;\n\t\t}\n\t\tfor(int j=1;j<=cntp&&i*prime[j]<=n;j++)\n\t\t{\n\t\t\tprm[prime[j]*i]=0;\n\t\t\tif(!i%prime[j])\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n}\nvoid solve1()//\u5148\u5904\u7406\u5c0f\u4e8e\u7b49\u4e8e\u6839\u53f7n\u7684\u8d28\u6570 \n{\n\tfor(int i=1;i<=cntp;i++)\n\t{\n\t\tif(prime[i]*prime[i]>n)\n\t\t{\n\t\t\tq=i-1;\n\t\t\tbreak;\n\t\t}\n\t\tint nowask=prime[i];\n\t\task(2,nowask);\n\t\task(1,nowask); \n\t\twhile(ans==1)//\u5904\u7406\u5b83\u7684k\u6b21\u5e42 \n\t\t{\n\t\t\tnowask*=prime[i];\n\t\t\tif(nowask>n)\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\task(1,nowask);\n\t\t}\n\t\txnow*=nowask/prime[i];\n\t}\n}\nvoid solve2()//\u57281~\u6839\u53f7n\u4e2d\u627e\u5230\u4e86x\u7684\u56e0\u6570 \n{\n\tfor(int i=q+1;i<=cntp;i++)\n\t{\n\t\tif(xnow*prime[i]>n)//\u5f88\u663e\u7136\u7684\u5224\u65ad\uff0c\u4f18\u5316\u6548\u7387 \n\t\t{\n\t\t\tbreak;\n\t\t}\n\t\task(1,prime[i]);\n\t\tif(ans==2)\n\t\t{\n\t\t\txnow*=prime[i];\n\t\t}\n\t}\n}\nvoid solve3()//x\u4e3a1\u6216\u8005\u5927\u8d28\u6570 \n{\n\tint l=q+1;\n\twhile(l<=cntp)\n\t{\n\t\tint mid=(l+cntp)/2;\n\t\tfor(int i=l;i<=mid;i++)\n\t\t{\n\t\t\task(2,prime[i]);\n\t\t}\n\t\task(1,1);\n\t\tif(ans==cntp-mid+1)\n\t\t{\n\t\t\tl=mid+1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int i=l;i<=mid;i++)\n\t\t\t{\n\t\t\t\task(1,prime[i]);\n\t\t\t\tif(ans==1)//\u5224\u65ad\uff0c\u627e\u5230\u5927\u8d28\u6570\u540e\u7acb\u5373\u8fd4\u56de \n\t\t\t\t{\n\t\t\t\t\txnow*=prime[i];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nvoid solve()\n{\n\tsolve1();\n\tif(xnow!=1)\n\t{\n\t\tsolve2();\n\t}\n\telse\n\t{\n\t\tsolve3();\n\t}\n\tcout<<\"C \"<<xnow<<endl;\n}\nint main()\n{\n\tcin>>n;\n\tinit();\n\tsolve();\n}//\u76ee\u524d\u6700\u4f18\u89e3\n```\n\u5982\u6709\u95ee\u9898\uff0c\u6b22\u8fce\u6307\u51fa\u3002",
        "postTime": 1668775823,
        "uid": 529697,
        "name": "PEKKA_l",
        "ccfLevel": 6,
        "title": "CF1406E\u9898\u89e3"
    },
    {
        "content": "\u9898\u610f\uff1a  \n\u7ed9\u4f60\u4e00\u4e2a\u96c6\u5408\uff0c\u5176\u4e2d\u5143\u7d20\u4e3a $1$~$n$ \u4e2d\u6240\u6709\u7684\u6574\u6570\uff0c\u4f60\u53ef\u4ee5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\u4ee5\u5f97\u5230 $x$ \u7684\u503c\uff1a\n\n- `A a`\uff1a\u67e5\u8be2\u76ee\u524d\u96c6\u5408\u4e2d\u4e3a $a$ \u7684\u500d\u6570\u7684\u6570\u7684\u6570\u91cf\u3002\n- `B a`\uff1a\uff08$a>1$\uff09\u8f93\u51fa $A$ \u64cd\u4f5c\u7684\u7ed3\u679c\uff0c\u5e76\u5c06\u8fd9\u4e9b\u6570\u5220\u53bb\uff0c\u7279\u6b8a\u7684\uff0c$x$ \u4e0d\u4f1a\u88ab\u5220\u53bb\u3002\n- `C a`\uff1a\u63d0\u4ea4\u7b54\u6848\uff0c$x=a$\n\n\u4f60\u9700\u8981\u901a\u8fc7\u4e0d\u8d85\u8fc7 $10000$ \u6b21\u64cd\u4f5c\u5f97\u5230 $x$ \u7684\u503c\u3002\n___\n\u9996\u5148\u53ef\u4ee5\u60f3\u5230\u4e00\u4e2a\u6bd4\u8f83\u663e\u7136\u7684\u65b9\u6cd5\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u8d28\u6570 $p_i$ \u5220\u4e00\u904d\u518d\u67e5\u662f\u5426\u8fd8\u6709\uff0c\u5982\u679c\u6709\uff0c$p_i$ \u5c31\u662f $x$ \u7684\u8d28\u56e0\u5b50\uff0c\u518d\u67e5\u8be2 $p_i^2,p_i^3...,p_i^j$ \u76f4\u5230\u67e5\u8be2 $p_i^j$ \u7684\u7ed3\u679c\u4e3a $0$ \u65f6\u5c06\u7b54\u6848\u4e58 $p_i^{j-1}$\u3002\u4f46\u662f $10^5$ \u4ee5\u5185\u7684\u8d28\u6570\u5927\u6982\u6709 $9500$ \u4e2a\uff0c\u76f4\u63a5\u505a\u4f1a\u8d85\u8fc7\u64cd\u4f5c\u9650\u5236\uff0c\u8003\u8651\u5bf9\u5176\u8fdb\u884c\u4f18\u5316\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 $\\sqrt{n}$ \u4e4b\u5185\u7684\u6240\u6709\u8d28\u6570\u5c06\u6240\u6709\u5408\u6570\u5220\u53bb\uff0c\u5982\u679c $x$ \u6709\u8fd9\u4e9b\u8d28\u56e0\u5b50\u53ef\u4ee5\u987a\u4fbf\u5c06\u5176\u8ba1\u5165\u7b54\u6848\u3002\u5bf9\u4e8e $x$ \u4e0d\u5b58\u5728 $\\sqrt{n}$ \u4ee5\u5185\u7684\u8d28\u56e0\u5b50\u7684\u60c5\u51b5\uff0c\u5c06\u8d28\u6570\u8fdb\u884c\u5206\u5757\uff0c\u4e00\u6b21\u5220 $100$ \u4e2a\uff0c\u518d\u67e5\u8be2\u88ab\u5220\u53bb\u7684\u6570\u662f\u5426\u4e3a $100$ \u4e2a\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u4e48\u5176\u4e2d\u4e00\u5b9a\u6709 $x$ \u7684\u8d28\u56e0\u5b50\uff0c\u5c31\u53ef\u4ee5\u5728\u5176\u4e2d\u66b4\u529b\u67e5\u6bcf\u4e2a\u6570\uff0c\u67e5\u5230\u540e\u76f4\u63a5\u8ba1\u5165\u7b54\u6848\u8f93\u51fa\u5e76\u7ed3\u675f\uff1b\n\u5bf9\u4e8e $x$ \u5b58\u5728 $\\sqrt{n}$ \u4ee5\u5185\u7684\u8d28\u56e0\u5b50\u7684\u60c5\u51b5\u5c31\u5bf9\u4e8e\u6bcf\u4e2a\u8d28\u56e0\u5b50 $p_i$ \u67e5\u8be2\u662f\u5426\u6709 $p_i\\cdot ans$\uff0c\u5982\u679c\u6709\uff0c\u8fd9\u4e2a\u6570\u5c31\u662f\u7b54\u6848\u3002\n___\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n,p[10001],pn,ans=1;\nbitset<100001>p1;\nint qa(int i)//\u67e5\u8be2 A i\n{\n\tint tmp;\n\tprintf(\"A %lld\\n\",i);\n\tcout<<flush;\n\tscanf(\"%lld\",&tmp);\n\treturn tmp;\n}\nint qb(int i)//\u67e5\u8be2 B i\n{\n\tint tmp;\n\tprintf(\"B %lld\\n\",i);\n\tcout<<flush;\n\tscanf(\"%lld\",&tmp);\n\treturn tmp;\n}\nsigned main()\n{\n\tscanf(\"%lld\",&n);\n\tfor(int i=2;i<=n;i++)if(!p1[i])//\u7b5b\u8d28\u6570\n\t{\n\t\tp[++pn]=i;\n\t\tfor(int j=i*i;j<=n;j+=i)p1[j]=1;\n\t}\n\tif(pn<=4980)//\u66b4\u529b\n\t{\n\t\tfor(int i=1;i<=pn;i++)\n\t\t{\n\t\t\tint tmp,tmp1;\n\t\t\tqb(p[i]),tmp1=qa(p[i]);\n\t\t\ttmp=p[i];\n\t\t\twhile(tmp1&&(tmp*=p[i])<=n)tmp1=qa(tmp);\n\t\t\tans=ans*tmp/p[i];\n\t\t}\n\t\tprintf(\"C %lld\\n\",ans);\n\t\tcout<<flush;\n\t\treturn 0;\n\t}\n\telse\n\t{\n\t\tfor(int i=1;i<=100;i++)//sqrt(n)\u4ee5\u5185\u7684\u8d28\u6570\n\t\t{\n\t\t\tint tmp,tmp1;\n\t\t\tqb(p[i]);\n\t\t\ttmp1=qa(p[i]);\n\t\t\ttmp=p[i];\n\t\t\twhile(tmp1&&(tmp*=p[i])<=n)tmp1=qa(tmp);\n\t\t\tans=ans*tmp/p[i];\n\t\t}\n\t\tif(ans>1)//\u5b58\u5728 sqrt(n) \u4ee5\u5185\u7684\u8d28\u56e0\u5b50\u7684\u60c5\u51b5\n\t\t{\n\t\t\tfor(int j=101;j<=pn&&p[j]*ans<=n;j++)if(qb(p[j]*ans))ans*=p[j];\n\t\t\tprintf(\"C %lld\",ans);\n\t\t\tcout<<flush;\n\t\t\treturn 0;\n\t\t}\n\t\telse//\u4e0d\u5b58\u5728 sqrt(n) \u4ee5\u5185\u7684\u8d28\u56e0\u5b50\u7684\u60c5\u51b5\n\t\t{\n\t\t\tint tmp1,tmp2=qa(1);\n\t\t\tfor(int i=1;i<=(pn-1)/100+1;i++)//\u5206\u5757\n\t\t\t{\n\t\t\t\tfor(int j=1+i*100;j<=min(i*100+100,pn);j++)qb(p[j]);\n\t\t\t\ttmp1=qa(1);\n\t\t\t\tif(tmp2-tmp1!=100)\n\t\t\t\t{\n\t\t\t\t\tfor(int j=1+i*100;j<=min(i*100+100,pn);j++)if(qa(p[j])==1)\n\t\t\t\t\t{\n\t\t\t\t\t\tans*=p[j];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tprintf(\"C %lld\\n\",ans);\n\t\t\t\t\tcout<<flush;\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\ttmp2=tmp1;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"C %lld\\n\",ans);\n\tcout<<flush;\n\treturn 0;\n}\n```",
        "postTime": 1599963915,
        "uid": 44840,
        "name": "123456zmy",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1406E \u3010Deleting Numbers\u3011"
    },
    {
        "content": "\u4e0d\u7528\u5206\u5757\u7684\u4e00\u4e2a\u663e\u7136\u505a\u6cd5\u3002\n\n\u8003\u8651\u5230 $x=\\prod p_i^{c_i}$\u3002\n\n\u4e00\u4e2a\u5957\u8def\u662f\u628a $p_i$ \u6309\u7167 $\\sqrt n$ \u5206\u5f00\u6765\u3002\n\n\u5c0f\u7684\u90e8\u5206\u53ef\u4ee5\u76f4\u63a5\u66b4\u529b\u505a\uff0c\u5bf9\u4e8e\u6bcf\u4e2a $p_i\\le \\sqrt n$\uff0c\u4ece\u5927\u5230\u5c0f\u679a\u4e3e $c_i$\uff0c\u64cd\u4f5c\uff1a\uff08\u8bb0 $k=p_i^{c_i}$\uff09\n\n```\nB k\nA k\n```\n\n\u5982\u679c\u7b2c\u4e8c\u6b21\u64cd\u4f5c\u8fd4\u56de $1$ \u8bf4\u660e $k|x$\u3002\n\n\u505a\u5b8c\u4e4b\u540e\u987a\u4fbf\u628a\u96c6\u5408\u91cc $p_i$ \u7684\u500d\u6570\u5220\u5b8c\u3002\n\n\u90a3\u4e48\u63a5\u4e0b\u6765\u53ea\u5269\u4e0b\u6700\u591a\u4e00\u4e2a\u5927\u4e8e $\\sqrt n$ \u7684\u8d28\u56e0\u6570\uff0c\u4e14\u96c6\u5408\u91cc\u53ea\u6709 $1,p_i (p_i>\\sqrt n),x$\u3002\n\n\u5982\u679c $x$ \u6709 $\\le \\sqrt n$ \u7684\u56e0\u6570\uff0c\u663e\u7136\u8be2\u95ee $x$ \u7684\u6700\u540e\u4e00\u4e2a\u56e0\u6570\u7684\u65f6\u5019\u8fd4\u56de\u503c\u662f $2$\u3002\n\n\u5982\u679c\u6ca1\u6709\uff0c$x=1$ \u6216 $x\\in prime$\u3002\n\n\u8fd9\u4e2a\u65f6\u5019\u662f\u4e0d\u597d\u505a\u7684\uff0c\u56e0\u4e3a\u4f60\u5c31\u7b97\u8be2\u95ee\u5230 $x$\uff0c\u8fd4\u56de\u503c\u4e5f\u662f $1$\u3002\n\n\u8003\u8651\u4e8c\u5206\u3002\n\n\u628a\u6240\u6709\u8d28\u6570\u62c9\u51fa\u6765\uff0c\u5148\u628a\u524d\u4e00\u534a\u5220\u6389\uff0c\u7136\u540e\u7528 `A 1` \u6765\u8be2\u95ee\u5269\u4f59\u6570\u91cf\u3002\n\n\u5982\u679c\u6570\u91cf\u591a\u4e86\uff0c\u8bf4\u660e\u5220\u7684\u91cc\u9762\u6709 $x$\uff0c\u5728\u524d\u9762\u66b4\u529b\u627e\u3002\n\n\u5426\u5219\u5bf9\u4e8e\u53f3\u8fb9\u7ee7\u7eed\u4e8c\u5206\u3002\n\n\u6b21\u6570\u5728 $x\\log x + C$\uff0c$x$ \u662f\u8d28\u6570\u4e2a\u6570\uff0c$C$ \u5728 $100\\sim 300$ \u4e4b\u95f4\uff0c\u53ef\u8fc7\u3002",
        "postTime": 1639382686,
        "uid": 171487,
        "name": "cmll02",
        "ccfLevel": 8,
        "title": "qw"
    },
    {
        "content": "## \u849f\u84bb\u8bed\n\u849f\u84bb\u8fd9\u6b21 $CF$ \u53c8\u53cc\u53d2\u53d5\u6389\u5206\u4e86\uff0c$C$ \u90fd\u6ca1\u6709\u8c03\u51fa\u6765\u3002![/kk](https://cdn.luogu.com.cn/upload/pic/62227.png)\n\n\u8fd8\u597d\u518d\u6700\u540e $10$ \u79d2\u949f\u8c03\u4e86\u4e0b $E$ \u5757\u957f (\u5757\u957f $100$ => $98$),\u624d\u6ca1\u6709\u6389\u5f97\u90a3\u4e48\u60e8\u3002\n## \u849f\u84bb\u89e3\n$100000$ \u91cc\u603b\u5171\u6709 $9592$ \u4e2a\u8d28\u6570\u3002\n\n(\u4e0b\u6587 $p_i$ \u8868\u793a\u7b2c $i$ \u4e2a\u8d28\u6570)\n\n\u9996\u5148 $x$ \u5927\u4e8e $\\sqrt n$ \u7684\u8d28\u56e0\u6570\u6700\u591a\u4e00\u4e2a\u3002\n\n\u5bf9\u4e8e\u5927\u4e8e $\\sqrt n$ \u7684\u8d28\u6570\u6570\u53ef\u4ee5\u8fdb\u884c\u5206\u5757, \u5757\u957f\u4e3a $B$\u3002\n\n\u6bcf\u6b21\u628a\u4e00\u4e2a\u5757\u91cc\u9762\u7684\u8d28\u6570\u5220\u5b8c(`B p[i]`), \u7136\u540e\u5220\u5b8c\u4e4b\u540e\u770b\u770b\u5220\u6389\u7684\u6570\u7684\u603b\u6570\u662f\u5426\u7b49\u4e8e `A 1` \u7b54\u6848\u7684\u53d8\u5316\u91cf\u3002\u5982\u679c\u4e0d\u76f8\u7b49\uff0c\u90a3\u4e48\u8bf4\u660e $x$ \u4e00\u5b9a\u6709\u4e00\u4e2a\u8d28\u56e0\u6570\u5904\u4e8e\u8fd9\u4e2a\u5757\u5185\uff0c\u66b4\u529b `A p[i]` \u5224\u65ad\u662f\u5426\u4e3a $1$ \u5c31\u884c\u4e86\u3002\u5982\u679c `A p[i]` \u4e3a $1$, \u90a3\u4e48\u5c31\u8bf4\u660e $x$ \u5927\u4e0e $\\sqrt n$ \u7684\u8d28\u56e0\u6570\u5c31\u662f $p_i$\u3002\n\n\u90a3\u4e48\u5c0f\u4e8e $\\sqrt n$ \u7684\u8d28\u6570\u5c31\u5f88\u597d\u5f04\u4e86\uff0c \u76f4\u63a5\u5148\u5220\u8fd9\u4e2a\u8d28\u6570\u7684\u500d\u6570\uff0c\u7136\u540e\u4e00\u4e2a\u4e2a\u66b4\u529b\u5224 $x$ \u6700\u591a\u80fd\u6574\u9664\u8be5\u8d28\u6570\u7684\u51e0\u6b21\u65b9\u5c31\u597d\u4e86\u3002\n\n## \u849f\u84bb\u7801\n\n\u4e0d\u61c2\u7684\u770b\u4e11\u964b\u65e0\u6bd4\u7684\u4ee3\u7801\u5427\n\n```cpp\n#include<bits/stdc++.h>\n#define N 100010\n#define B 98\nusing namespace std;\nint Ans = 1;\nbool Prime[N];\nint tot, p[N];\nvoid xxs(int x) {\n\tfor(int i = 2; i <= x; i++) { \n\t\tif(!Prime[i]) p[++tot] = i;\n\t\tfor(int j = 1; p[j] * i <= x && j <= tot; j++) {\n\t\t\tPrime[p[j] * i] = 1;\n\t\t\tif(i % p[j] == 0) break;\n\t\t} \n\t} \n} \nint n, tt, maxn;\nvoid get(int x) {\n\tint now = 1;\n\tprintf(\"B %d\\n\", x);\n\tfflush(stdout);\n\tscanf(\"%d\", &tt);\n\twhile(1) {\n\t\tnow *= x;\n\t\tif(now > n) break;\n\t\tprintf(\"A %d\\n\", now);\n\t\tfflush(stdout);\n\t\tscanf(\"%d\", &tt);\n\t\tif(tt == 0) break;\n\t\tAns *= x;\n\t}\n}\nint main() {\n\tscanf(\"%d\", &n);\n\txxs(n);\n\tfor(int i = 1; i <= tot; i++) if(p[i] <= sqrt(n)) maxn = i;\n\tint ssss = n, L = maxn, R = tot;\n\tfor(int i = 1; i <= B; i++) { \n\t\tint L = (i - 1) * B + 1, R = min(i * B, tot);\n\t\tfor(int j = L; j <= R; j++) {\n\t\t\tif(j <= maxn) continue;\n\t\t\tprintf(\"B %d\\n\", p[j]);\n\t\t\tfflush(stdout);\n\t\t\tscanf(\"%d\", &tt);\n\t\t\tssss -= tt;\n\t\t}\n\t\tprintf(\"A 1\\n\");\n\t\tfflush(stdout);\n\t\tscanf(\"%d\", &tt);\n\t\tif(ssss != tt) {\n\t\t\tfor(int j = L; j <= R; j++) {\n\t\t\t\tif(j <= maxn) continue;\n\t\t\t\t\n\t\t\t\tprintf(\"A %d\\n\", p[j]);\n\t\t\t\tfflush(stdout);\n\t\t\t\tscanf(\"%d\", &tt);\n\t\t\t\t\n\t\t\t\tif(tt) {\n\t\t\t\t\tAns = p[j];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tif(R == tot) break;\n\t}\n\t\n\tfor(int i = 1; i <= maxn; i++) get(p[i]);\n\t\n\tprintf(\"C %d\\n\", Ans);\n\tfflush(stdout);\n\treturn 0;\n}\n```",
        "postTime": 1599966107,
        "uid": 173660,
        "name": "zhoukangyang",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1406E \u3010Deleting Numbers\u3011"
    },
    {
        "content": "\u9000\u5f79\u540e\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\u3002\n\n\u9996\u5148\u679a\u4e3e\u8d28\u6570\u80af\u5b9a\u662f\u9003\u4e0d\u6389\u7684\u4e86\uff0c\u8fd9\u5c31\u9700\u8981\u6700\u591a $9592$ \u6b21\u4ea4\u4e92\u3002\n\n\u6240\u4ee5\u5148\u9700\u8981\u7ebf\u6027\u7b5b\u9884\u5904\u7406\u51fa\u4e0d\u8d85\u8fc7 $n$ \u7684\u6240\u6709\u8d28\u6570\u3002\n\n\u5bf9\u4e8e $x$\uff0c\u9996\u5148\u9700\u8981\u627e\u51fa\u5b83\u7684\u8d28\u56e0\u5b50\u6709\u54ea\u4e9b\uff0c\u4f46\u5149\u4e00\u6b21\u5220\u9664\u4e00\u6b21\u5224\u65ad\u5c31\u9700\u8981\u5feb $20000$ \u6b21\u4e86\u3002\u6240\u4ee5\u80af\u5b9a\u8fc7\u4e0d\u4e86\u3002\n\n\u4f46\u662f\u6211\u4eec\u53d1\u73b0 $x$ \u6700\u591a\u6709 $6$ \u4e2a\u8d28\u56e0\u5b50\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5c3d\u91cf\u7684\u5c11\u679a\u4e3e\u65e0\u7528\u7684\u8d28\u6570\u3002\n\n\u4e0d\u59a8\u6211\u4eec\u5c06 $\\pi(n)$ \u4e2a\u8d28\u6570\u6309\u7167\u5757\u957f $\\sqrt{\\pi(n)}$ \u7684\u5927\u5c0f\u5206\u5757\u5904\u7406\uff0c\u8fd9\u6837\u8fd9\u4e9b\u8d28\u6570\u6700\u591a\u5206\u5e03\u5728 $2$ \u4e2a\u5757\u91cc\u3002\n\n\u56e0\u4e3a\u9664\u4e86\u7b2c\u4e00\u4e2a\u5757\u5b58\u5728 $<\\sqrt n$ \u7684\u8d28\u6570\uff0c\u5176\u4f59\u7684\u5757\u5168\u90e8\u90fd\u662f $>\\sqrt n$ \u7684\u8d28\u6570\uff0c\u7136\u800c $x$ \u6700\u591a\u6709 $1$ \u4e2a $>\\sqrt x$ \u7684\u8d28\u56e0\u5b50\uff0c\u6240\u4ee5\u6700\u591a\u5206\u5e03\u5728 $2$ \u4e2a\u5757\u91cc\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5176\u5b9e\u53ea\u9700\u8981\u627e\u51fa\u5e76\u679a\u4e3e\u8fd9 $2$ \u4e2a\u5757\u5185\u7684\u8d28\u6570\u5373\u53ef\u3002\n\n\u5224\u65ad\u662f\u5426\u5b58\u5728\u8d28\u56e0\u5b50\u5728\u8fd9\u4e2a\u5757\u91cc\uff0c\u53ea\u9700\u8981\u5c06\u8fd9\u4e9b\u8d28\u6570\u8fdb\u884c $\\text B$ \u8be2\u95ee\uff0c\u7136\u540e\u901a\u8fc7 $\\text{A 1}$ \u8be2\u95ee\u5224\u65ad\u5220\u9664\u7684\u6570\u4e2a\u6570\u662f\u5426\u4e3a\u7406\u8bba\u5220\u9664\u7684\u6570\u7684\u4e2a\u6570\u3002\n\n\u7531\u4e8e\u5224\u65ad\u8fd9 $2$ \u4e2a\u5757\u662f\u4ec0\u4e48\u8fd8\u5f97\u9700\u8981 $\\sqrt{\\pi(n)}$ \u6b21\u679a\u4e3e\uff0c\u6240\u4ee5\u4e00\u5171\u9700\u8981\u82b1\u8d39 $3\\sqrt{\\pi(n)}$ \u6b21\u8be2\u95ee\u3002\n\n\u8fd9\u4f9d\u65e7\u6ca1\u6709\u8fbe\u5230 $10000$ \u6b21\u4ea4\u4e92\uff0c\u90a3\u4e48\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u8981\u76f4\u63a5\u6c42\u51fa $x$ \u662f\u4ec0\u4e48\u3002\n\n\u56e0\u4e3a\u6211\u4eec\u5df2\u7ecf\u786e\u5b9a\u4e86 $x$ \u7684\u8d28\u56e0\u5b50\u6709\u54ea\u4e9b\uff0c\u6240\u4ee5\u63a5\u4e0b\u6765\u7684 $\\text A$ \u8be2\u95ee\u8f6c\u5316\u6210\u4e86 $a$ \u662f\u4e0d\u662f $x$ \u7684\u56e0\u5b50\u3002\n\n\u90a3\u5c31\u5f88\u597d\u529e\u4e86\uff0c\u53ea\u9700\u8981\u6bcf\u6b21\u4e58\u4e00\u4e2a\u8d28\u56e0\u5b50\u7136\u540e\u8be2\u95ee\uff0c\u5982\u679c\u662f\u5c31\u7ee7\u7eed\u4e58\uff0c\u5426\u5219\u6362\u4e0b\u4e00\u4e2a\u3002\u8fd9\u6837\u6700\u591a\u4e58 $\\log n$ \u6b21\u3002\n\n\u6700\u7ec8\u4ea4\u4e92\u6b21\u6570\u80af\u5b9a\u4e0d\u8d85\u8fc7 $10000$ \u6b21\u3002",
        "postTime": 1637835174,
        "uid": 80614,
        "name": "ZCPB",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1406E"
    },
    {
        "content": "# \u9898\u610f  \n\u4ea4\u4e92\u9898\u3002  \n\u4f60\u6709\u4e00\u4e2a\u542b\u6709 $1 \\sim n$ \u7684\u96c6\u5408\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u9009\u5b9a\u7684\u6570 $x$\uff0c\u4f60\u9700\u8981\u5728 $10000$ \u6b21\u8be2\u95ee\u5185\u5f97\u5230 $x$ \u7684\u503c\u3002  \n- A y \u67e5\u8be2\u96c6\u5408\u4e2d\u6709\u51e0\u4e2a $y$ \u7684\u500d\u6570\u3002  \n- B y \u67e5\u8be2\u96c6\u5408\u4e2d\u6709\u51e0\u4e2a $y$ \u7684\u500d\u6570\u5e76\u5220\u53bb\u5b83\u4eec\u3002\u7279\u522b\u7684\uff0c$x$ \u4e0d\u4f1a\u88ab\u5220\u53bb\u3002  \n- C y \u8868\u660e\u4f60\u5df2\u7ecf\u77e5\u9053\u4e86 $x$\uff0c\u8f93\u51fa\u5b83\u4ee5\u7ed3\u675f\u4ea4\u4e92\u3002   \n\n$n \\le 10^5$\n# \u9898\u89e3  \n$3$ \u4e2a\u6708\u524d\u7684\u6211\u8fd8\u53ea\u80fd\u77aa\u7740\u8fd9\u9053\u9898\u53d1\u5446\uff0c\u73b0\u5728\u6211\u5df2\u7ecf\u80fd\u72ec\u7acb\u505a\u51fa\u6765\u4e86\uff0c\u8fd9\u662f\u4e0d\u662f\u6211\u5b9e\u529b\u7684\u4e00\u70b9\u8fdb\u6b65\u5462\uff1f\n\n\u6ce8\u610f\u5230 $10^5$ \u4ee5\u5185\u7684\u8d28\u6570\u5171\u6709 $9592$ \u4e2a\u3002  \n\u4e0d\u59a8\u8bbe $n$ \u4ee5\u5185\u7684\u8d28\u6570\u6709 $m$ \u4e2a\u3002  \n\u5982\u679c\u5bf9 $317$\u4ee5\u5185\u7684\u8d28\u6570\u8fdb\u884c\u679a\u4e3e\uff0c\u5e76\u4e14\u628a\u76f4\u63a5\u628a $x$ \u5206\u89e3\u6389\uff0c\u9700\u8981\u7684\u6b21\u6570\u6bd4\u8f83\u5c11\uff0c\u5927\u6982\u5728 $200$ \u4ee5\u5185\u3002  \n\u679a\u4e3e\u65b9\u6cd5\uff1a  \n\u6bcf\u6b21\u5148 B p\uff0c\u518d A p\uff0c\u5982\u679c\u4e0d\u4e3a $0$\uff0c\u8bf4\u660e $p|x$\uff0c\u90a3\u4e48\u7ee7\u7eed\u770b $p^2$\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002  \n\n\u5269\u4e0b\u7684\u60c5\u51b5\u90fd\u662f\u5728 $x$ \u4e2d\u51fa\u73b0\u6b21\u6570\u4e0d\u8d85\u8fc7 $1$ \u7684\u8d28\u6570  \n\u5bf9\u4e8e\u5269\u4e0b\u7684\u60c5\u51b5\uff0c\u600e\u6837\u7528 $1$ \u6b21\u8be2\u95ee\u5224\u65ad\u4e00\u4e2a\u8d28\u6570\u662f\u5426\u5b58\u5728\uff1f  \n\u5206\u4e24\u79cd\u60c5\u51b5\u8ba8\u8bba\uff1a  \n- \u5982\u679c $x$ \u6ca1\u6709 $317$ \u4ee5\u5185\u8d28\u6570\uff0c\u8bf4\u660e\u81ea\u8eab\u662f\u4e2a\u8d28\u6570\u6216\u8005\u662f $1$\u3002   \n\u8003\u8651\u5229\u7528\u7c7b\u4f3c\u5206\u5757\u7684\u601d\u60f3  \n\u6bcf\u6b21\u628a $\\sqrt m$ \u4e2a\u8d28\u6570\u5220\u6389\uff0c\u7136\u540e\u8be2\u95ee\u4e00\u4e0b\u662f\u4e0d\u662f\u521a\u597d\u5220\u4e86 $\\sqrt m$ \u4e2a\u6570\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u4e48\u8bf4\u660e\u5269\u4e0b\u6709\u4e2a\u8d28\u6570\u662f\u8fd9 $\\sqrt m$ \u4e2a\u6570\u91cc\u9762\u7684\uff0c\u518d\u9010\u4e2a\u67e5\u8be2\u4e00\u904d\uff0c\u9700\u8981\u7684\u989d\u5916\u6b21\u6570\u4e3a $2\\sqrt m+O(1)$ \u7ea7\u522b\uff0c\u80fd\u8fc7\u3002    \n\n- \u5982\u679c\u6709 $317$ \u4ee5\u5185\u7684\u8d28\u6570\uff0c\u90a3\u4e48\u5bf9\u540e\u9762\u7684\u8d28\u6570\u6bcf\u6b21 A \u4e00\u4e0b\uff0c\u5982\u679c\u4e3a $2$ \u8bf4\u660e $x$ \u6709\u8fd9\u4e2a\u8d28\u6570  \n\n\u7ec6\u8282\u4e0a\u8fd8\u662f\u6709\u4e00\u70b9\u7684\u3002  \n- \u5bf9\u4e8e $x$ \u662f\u4e2a\u8d28\u6570\u6216 $1$ \u7684\u60c5\u51b5\uff0c\u5982\u679c\u679a\u4e3e\u5b8c\u4e86\u8d28\u6570\u4e5f\u8981\u518d\u67e5\u8be2\u4e00\u904d\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f $\\sqrt m$ \u7684\u500d\u6570\u3002  \n- \u5206\u89e3\u7684\u65f6\u5019 $p^k$ \u4e0d\u80fd\u8d85\u8fc7 $n$\uff0c\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u4e0d\u80fd\u8fdb\u884c\u67e5\u8be2\uff0c\u76f4\u63a5`break`\u6389\u3002  \n- \u5728\u4ee3\u7801\u4e2d\u6211\u76f4\u63a5\u5c06 $\\sqrt m$ \u66ff\u6362\u6210\u4e86 $100$\uff0c\u5173\u7cfb\u4e0d\u5927\u3002  \n\n\u4ee3\u7801\uff1a  \n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define rd(x) x=read()\nusing namespace std;\nconst int N=1e5+5;\nconst int M=5005;\nconst int mod=998244353;\ninline int read(){int x=0,f=1;char ch=getchar();while(ch>'9'||ch<'0'){if(ch=='-')f=-1;ch=getchar();}while(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}return x*f;}\nint ksm(int x,int y){int ret=1;while (y){if (y&1) ret=(ret*x)%mod;x=(x*x)%mod;y>>=1;}return ret;}\nint a[N];\nint n;\nint prim[N],vis[N],cnt;\nint ans;\nint YUE[N],CNT;\nint ANS=1;\nint A(int x){cout<<\"A \"<<x<<endl;cin>>ans;}\nint B(int x){cout<<\"B \"<<x<<endl;cin>>ans;}\nint C(int x){cout<<\"C \"<<x<<endl;exit(0);}\nsigned main()\n{\n\trd(n);\n\tfor (int i=2;i<=n;i++)\n\t{\n\t\tif (!vis[i]) prim[++cnt]=i;\n\t\tfor (int j=1;j<=cnt;j++)\n\t\t{\n\t\t\tif (i*prim[j]>n) break;\n\t\t\tvis[i*prim[j]]=1;\n\t\t\tif (i%prim[j]==0) break;\n\t\t}\n\t}\n\t//317\u662f\u7b2c67\u4e2a\u8d28\u6570\n\tfor (int i=1;i<=min(cnt,66LL);i++) \n\t{\n\t\tB(prim[i]);A(prim[i]);\n\t\tint tmp=prim[i];\n\t\twhile (ans==1)\n\t\t{\n\t\t\ttmp*=prim[i];\n\t\t\tYUE[++CNT]=prim[i];if (tmp>n) break;\n\t\t\tB(tmp);A(tmp);\n\t\t}\n\t}\n\tif (CNT!=0) for (int i=1;i<=CNT;i++) ANS*=YUE[i];\n\tif (ANS!=1)\n\t{\n\t\tfor (int i=67;i<=cnt;i++)\n\t\t{\n\t\t\tA(prim[i]);\n\t\t\tif (ans!=1) C(ANS*prim[i]);\n\t\t}\n\t} else \n\t{\n\t\tA(1);\n\t\tint tot=ans,K=0;\n\t\tfor (int i=67;i<=cnt;i++)\n\t\t{\n\t\t\tB(prim[i]);K++;\n\t\t\tif (K%100==0 || i==cnt)\n\t\t\t{\n\t\t\t\tA(1);\n\t\t\t\tif (ans==tot-K) tot=ans,K=0;\n\t\t\t\telse for (int j=i-K+1;j<=i;j++) {A(prim[j]);if (ans==1) C(prim[j]);}\n\t\t\t}\n\t\t}\n\t}\n\tC(ANS);\n}\n\n```",
        "postTime": 1607437194,
        "uid": 70132,
        "name": "AsunderSquall",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1406E \u3010Deleting Numbers\u3011"
    },
    {
        "content": "\u8fd9\u662f\u9493\u9c7c\u738b\u5b50\u51fa\u7684\u597d\u9898\u54e6~\n\n> ### [\u6d1b\u8c37\u9898\u76ee\u9875\u9762\u4f20\u9001\u95e8]( https://www.luogu.com.cn/problem/CF1406E ) & [CF \u9898\u76ee\u9875\u9762\u4f20\u9001\u95e8]( https://codeforces.com/contest/1406/problem/E )\n>\n> \u672c\u9898\u4e3a\u4ea4\u4e92\u9898\u3002\u7ed9\u5b9a $n$\uff0c\u521d\u59cb\u65f6\u6709 $A=[1,n]\\cap \\mathbb Z$\u3002\u4f60\u6709 $3$ \u79cd\u64cd\u4f5c\uff1a\n>\n> 1. \u67e5\u8be2 $A$ \u4e2d\u6709\u591a\u5c11\u4e2a $a$ \u7684\u500d\u6570\uff08$a\\in [1,n]$\uff09\uff1b\n> 2. \u67e5\u8be2 $A$ \u4e2d\u6709\u591a\u5c11\u4e2a $a$ \u7684\u500d\u6570\uff08$a\\in[2,n]$\uff09\uff0c\u5e76\u5c06 $A$ \u4e2d\u6240\u6709 $a$ \u7684\u500d\u6570\u5220\u53bb\uff0c\u7279\u6b8a\u5730\uff0c\u5982\u679c $x$ \u662f $a$ \u7684\u500d\u6570\u5219\u4e0d\u5220\uff1b\n> 3. \u5f97\u51fa\u7b54\u6848 $a$\uff0c\u64cd\u4f5c\u4e4b\u540e\u7acb\u5373\u7ed3\u675f\u3002\n>\n> \u4f60\u9700\u8981\u5728\u4e0d\u8d85\u8fc7 $10^4$ \u6b21\u64cd\u4f5c\u5185\u731c\u51fa\u67d0\u4e2a\u9884\u5148\u8bbe\u5b9a\u597d\u7684 $x\\in A$\u3002\n>\n> $n\\in\\left[2,10^5\\right]$\u3002\n\n\u601d\u8def\u5728\u4e8e\uff0c\u901a\u8fc7\u64cd\u4f5c $1$ \u548c\u64cd\u4f5c $2$ \u7684\u914d\u5408\uff0c\u5b9e\u73b0\u67e5\u8be2 $x$ \u662f\u5426\u662f $a$ \u7684\u500d\u6570\u3002\n\n\u4e0d\u96be\u60f3\u5230\u5c1d\u8bd5\u5c06 $x$ \u5206\u89e3\u8d28\u56e0\u6570~~\uff0c\u6839\u636e\u5f31\u667a\u7684\u552f\u4e00\u5206\u89e3\u5b9a\u7406\u53ef\u4ee5\u786e\u5b9a $x$~~\u3002\n\n\u6700 naive \u7684\u60f3\u6cd5\u662f\u6bcf\u4e2a\u8d28\u6570\u7684\u5e42\u90fd\u8bd5\u4e00\u904d\u3002\u6253\u4e2a\u8868\u53d1\u73b0 $\\pi(n)$ \u5927\u6982\u662f $9500+$\uff0c\u7136\u540e\u8d28\u6570\u7684\u5e42\u5927\u6982\u662f $9700$ \u5de6\u53f3\u4e2a\u3002\u4f60\u53ef\u80fd\u4f1a\u8bf4\uff0c\u566b\uff0c\u597d\uff0c\u8fd9\u573a div. 2 \u6211\u963f\u514b\u4e86\uff01\u54e6\u4e0a\u5e1d\uff0c\u77a7\u77a7\u8fd9\u5929\u771f\u7684\u58f0\u97f3\u3002\u6ce8\u610f\u5230\u64cd\u4f5c $2$ \u662f\u5148\u8fd4\u56de\u7ed3\u679c\u518d\u5220\u9664\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b83\u7684\u8fd4\u56de\u7ed3\u679c\u662f\u4e2a\u5e4c\u5b50\uff0c\u4f60\u60f3\u77e5\u9053 $[a\\mid x]$ \u5fc5\u987b\u8981\u5148 $2$ \u518d $1$\uff0c$2$ \u6b65\u8d70\u3002\n\n\u60f3\u5230\u5bff\u53f8\u665a\u5bb4\u90a3\u9898\u7684\u4e00\u4e2a\u7ed3\u8bba\uff1a\u5c06\u8d28\u6570\u5206\u6210\u5c0f\u8d28\u6570\u548c\u5927\u8d28\u6570\uff0c\u5219\u6bcf\u4e2a\u6570\u6700\u591a\u542b\u6709\u4e00\u4e2a\u5927\u8d28\u56e0\u5b50\u3002\n\n\u90a3\u4e48\u5148\u5c06\u5c0f\u8d28\u56e0\u5b50\u968f\u4fbf\u6bdb\u641e\u641e\uff0c\u6211\u4eec\u8bbe $\\tau(m)$ \u8868\u793a $m$ \u4ee5\u5185\u8d28\u6570\u7684\u5e42\u7684\u4e2a\u6570\uff0c\u90a3\u4e48\u662f $2\\tau(\\sqrt n)$ \u6b65\u7684\u3002\u5b9e\u9645\u4e0a\u53ef\u4ee5\u8fdb\u4e00\u6b65\u4f18\u5316\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u8d28\u6570\uff0c\u5148\u5c06\u5b83\u7ed9 $2$ \u4e86\uff0c\u7136\u540e\u6bcf\u4e2a\u5e42\u5c31\u53ef\u4ee5\u76f4\u63a5\u67e5\u4e86\u3002\u8fd9\u6837\u662f $\\pi(\\sqrt n)+\\tau(\\sqrt n)$ \u7684\u3002\u522b\u770b\u8fd9\u4e00\u6b65\u4f18\u5316\u5fae\u4e0d\u8db3\u9053\uff0c\u5176\u5b9e\u5979\u80fd\u51b3\u5b9a\u4f60\u662f\u5426 AC\u3002\n\n\u73b0\u5728\u628a\u8d28\u56e0\u6570\u5206\u89e3\u5f0f\u91cc\u7684\u5c0f\u8d28\u56e0\u5b50\u90e8\u5206\u5df2\u7ecf\u5206\u89e3\u51fa\u6765\u4e86\uff0c\u5e76\u4e14 $A$ \u91cc\u663e\u7136\u53ea\u5269\u4e0b $1$ \u548c $x$ \u548c\u6240\u6709\u5927\u8d28\u6570\u3002\u63a5\u4e0b\u6765\u7684\u4efb\u52a1\u5c31\u662f\u8981\u627e\u51fa $x$ \u662f\u5426\u6709\u5927\u8d28\u56e0\u5b50\uff0c\u5982\u679c\u6709\u7684\u8bdd\u662f\u8c01\u3002\n\n\u9700\u8981\u5206\u51fa\u4e24\u79cd\u60c5\u51b5\uff1a\n\n1. \u5c0f\u8d28\u56e0\u5b50\u90e8\u5206 $>1$\u3002\u90a3\u4e48\u663e\u7136 $x$ \u662f\u4e0d\u5c5e\u4e8e\u90a3\u4e2a\u5927\u8d28\u6570\u96c6\u7684\u3002\u90a3\u8fd8\u6015\u4e2a\u9b3c\u554a\uff0c\u76f4\u63a5\u68c0\u67e5\u6240\u6709\u7684\u5927\u8d28\u6570\u4e58\u4ee5\u5c0f\u8d28\u56e0\u5b50\u90e8\u5206\u662f\u5426\u5269\u4e00\u4e2a\u6570\uff0c\u5269\u7684\u8bdd\u5927\u8d28\u56e0\u5b50\u5c31\u662f\u4ed6\u4e86\u4e58\u4e0a\u53bb\uff0c\u5426\u5219\u6ca1\u6709\uff1b\n2. \u5c0f\u8d28\u56e0\u5b50\u90e8\u5206 $=1$\u3002\u6b64\u65f6\u5c31\u9700\u8981\u5bb3\u6015\u4e86\uff0c\u56e0\u4e3a\u4f60\u300c\u68c0\u67e5\u6240\u6709\u7684\u5927\u8d28\u6570\u4e58\u4ee5\u5c0f\u8d28\u56e0\u5b50\u90e8\u5206\u662f\u5426\u5269\u4e00\u4e2a\u6570\u300d\u7684\u8bdd\uff0c\u90a3\u4f60\u4efb\u4f55\u4e00\u6b21\u68c0\u67e5\u7ed3\u679c\u90fd\u662f\u300c\u662f\u300d\uff0c\u5c31\u65e0\u8bed\u4e86\u3002\u800c\u6b64\u65f6\u95ee\u9898\u53d8\u5f97\u66f4\u52a0\u7b80\u5355\uff0c\u5269\u4e0b\u6765\u7684\u96c6\u5408\u5c31\u662f $1$ \u548c\u6240\u6709\u5927\u8d28\u6570\uff0c\u800c\u4f60\u53ef\u4ee5\u786e\u5b9a $x$ \u5c31\u5728\u91cc\u9762\u3002\u8003\u8651\u5bf9\u5927\u8d28\u6570\u5e8f\u5217\u5206\u5757\u3002\u6bcf\u5757\u6574\u4f53\u5220\u4e00\u4e0b\uff0c\u7136\u540e\u5982\u679c\u96c6\u5408\u5927\u5c0f\u51cf\u5c11\u6570\u91cf\u4e0d\u5bf9\u52b2\u5c31\u8bf4\u660e $x$ \u4e00\u5b9a\u5728\u8fd9\u5757\u91cc\u9762\uff0c\u96c6\u4e2d\u7cbe\u529b\u641e\u3002\u7531\u4e8e\u5757\u5927\u5c0f\u4e0d\u5927\uff0c\u53ef\u4ee5\u76f4\u63a5\u9010\u4e2a\u7528\u64cd\u4f5c $1$ \u6392\u67e5\u3002\u603b\u64cd\u4f5c\u6b21\u6570\u5927\u7ea6\u4e3a $\\pi(\\sqrt n)+\\tau(\\sqrt n)+(\\pi(n)-\\pi(\\sqrt n))+2\\sqrt{\\pi(n)-\\pi(\\sqrt n)}=\\tau(\\sqrt n)+\\pi(n)+2\\sqrt{\\pi(n)-\\pi(\\sqrt n)}$\uff0c\u5361\u7684\u6b7b\u6b7b\u7684\uff0c\u51fa\u9898\u4eba\u771f\u662f\u6bd2\u7624\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define pb push_back\nbool ispr(int x){\n\tif(x<2)return false;\n\tfor(int i=2;i*i<=x;i++)if(x%i==0)return false;\n\treturn true;\n}\nint A(int x){\n\tprintf(\"A %d\\n\",x),fflush(stdout);\n\tcin>>x;return x;\n}\nint B(int x){\n\tprintf(\"B %d\\n\",x);fflush(stdout);\n\tcin>>x;return x;\n}\nvoid C(int x){printf(\"C %d\\n\",x);fflush(stdout);exit(0);}\nvoid mian(){\n\tint n;\n\tcin>>n;\n\tif(n==1)C(1);\n\tvector<int> pr;\n\tfor(int i=2;i<=n;i++)if(ispr(i))pr.pb(i);\n\tint x=1,lim=sqrt(n);\n\tfor(int i=0;pr[i]<=lim;i++){\n\t\tB(pr[i]);\n\t\tint now=1;\n\t\twhile(now*pr[i]<=n)now*=pr[i];\n\t\twhile(now>1){\n\t\t\tif(A(now)==1){x*=now;break;}\n\t\t\tnow/=pr[i];\n\t\t}\n\t}\n\tvector<int> v;\n\tfor(int i=0;i<pr.size();i++)if(pr[i]>lim)v.pb(pr[i]);\n\tif(x==1){\n\t\tint now=A(1);\n\t\tfor(int i=0;i<v.size();i+=100){\n\t\t\tfor(int j=i;j<i+100&&j<v.size();j++)B(v[j]);\n\t\t\tint res=A(1);\n\t\t\tif(now-res==min(i+100,int(v.size()))-i)now=res;\n\t\t\telse{\n\t\t\t\tfor(int j=i;j<i+100&&j<v.size();j++)if(A(v[j])==1){x=v[j];break;}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\telse{\n\t\tfor(int i=0;i<v.size();i++)if(1ll*x*v[i]<=n&&A(x*v[i])==1){x*=v[i];break;}\n\t}\n\tC(x);\n}\nint main(){\n\tint testnum=1;\n//\tcin>>testnum;\n\twhile(testnum--)mian();\n\treturn 0;\n}\n```",
        "postTime": 1600179561,
        "uid": 138400,
        "name": "chenxia25",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1406E \u3010Deleting Numbers\u3011"
    },
    {
        "content": "\u8003\u8651\u679a\u4e3e\u7d20\u6570\u5bf9 $x$ \u8fdb\u884c\u56e0\u6570\u5206\u89e3\n\n\u82e5 $p_i\\le\\sqrt x$\uff0c\u53ef\u4ee5\u7528 $B$ \u66b4\u529b\u679a\u4e3e $p_i$ \u53ca\u5176\u500d\u6570\u8fdb\u884c\u5206\u89e3\n\n\u82e5 $p_i>\\sqrt x$\uff0c\u4e00\u4e2a\u521d\u6b65\u601d\u8def\u662f\u7528\u4e24\u6b21 $B$ \u64cd\u4f5c\u5224\u65ad $x$ \u662f\u5426\u4e3a $p_i$ \u7684\u500d\u6570\uff0c\u4f46\u662f $10^5$ \u4ee5\u5185\u7684\u7d20\u6570\u6709\u8d85\u8fc7 $9600$ \u4e2a\uff0c\u663e\u7136\u4e0d\u53ef\u4ee5\n\n\u8fd9\u65f6\u6211\u4eec\u4f1a\u53d1\u73b0\u8fd8\u6ca1\u6709\u4f7f\u7528\u8fc7 $A$ \u64cd\u4f5c\uff0c\u8003\u8651\u5229\u7528 $A$ \u64cd\u4f5c\u5224\u65ad\u6570\u5b57\u662f\u5426\u88ab\u5220\u53bb\uff0c\u4e00\u4e2a\u5f88\u81ea\u7136\u7684\u601d\u8def\u662f\u8fde\u7eed $B$ \u4e00\u6bb5\u7d20\u6570\u4e4b\u540e\u7528 $A$ \u770b\u770b\u51cf\u5c11\u6b21\u6570\u662f\u5426\u7b49\u4e8e $B$ \u7684\u6b21\u6570\uff0c\u5c31\u53ef\u4ee5\u5224\u65ad\u8fde\u7eed $B$ \u7684\u7d20\u6570\u4e2d\u662f\u5426\u542b\u6709 $x$\n\n\u4f46\u662f\u8fd9\u5bf9\u4e8e $x$ \u4e0d\u662f\u7d20\u6570\u4f46\u56e0\u6570\u542b\u6709\u7b2c\u4e8c\u7c7b\u60c5\u51b5\u7d20\u6570\u7684\u60c5\u51b5\u4e0d\u9002\u7528\uff0c\u8fd9\u79cd\u60c5\u51b5\u53ea\u9700\u8981\u770b\u8fde\u7eed $B$ \u7684\u533a\u95f4\u5185\u662f\u5426\u6709\u8fd4\u56de\u503c\u5927\u4e8e $1$ \u7684\u5c31\u53ef\u4ee5\u4e86\n\n\u64cd\u4f5c\u6b21\u6570\u5927\u6982\u662f\u5361\u7740\u4e0a\u754c\u7684\uff0c\u53ef\u4ee5\u7528\u4e8c\u5206\u505a\u5230\u66f4\u4f18\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int N=1e5+2;\nint n,c,fh,i,x,y,j,m,ss[N],gs,ans=1,now,ksiz=100;\nbool ed[N];\ninline void read(int &x)\n{\n\tc=getchar();fh=1;\n\twhile ((c<48)||(c>57))\n\t{\n\t\tif (c=='-') {c=getchar();fh=-1;break;}\n\t\tc=getchar();\n\t}\n\tx=c^48;c=getchar();\n\twhile ((c>=48)&&(c<=57))\n\t{\n\t\tx=x*10+(c^48);\n\t\tc=getchar();\n\t}\n\tx*=fh;\n}\nint main()\n{\n\tread(n);m=sqrt(n);while ((m+1)*(m+1)<=n) ++m;\n\tfor (i=2;i<=m;i++)\n\t{\n\t\tif (!ed[i]) ss[++gs]=i;\n\t\tfor (j=1;(j<=gs)&&(ss[j]*i<=m);j++)\n\t\t{\n\t\t\ted[i*ss[j]]=1;\n\t\t\tif (i%ss[j]==0) break;\n\t\t}\n\t}\n\tfor (i=1;i<=gs;i++)\n\t{\n\t\tprintf(\"B %d\\n\",ss[i]);\n\t\tfflush(stdout);\n\t\tread(x);printf(\"B %d\\n\",ss[i]);\n\t\tfflush(stdout);\n\t\tread(x);y=ss[i];\n\t\twhile (x)\n\t\t{\n\t\t\ty*=ss[i];if (y>n) break;\n\t\t\tprintf(\"B %d\\n\",y);\n\t\t\tfflush(stdout);\n\t\t\tread(x);\n\t\t}\n\t\tans*=y/ss[i];\n\t}\n\tmemset(ed,0,sizeof(ed));x=gs;gs=0;\n\tfor (i=2;i<=n;i++)\n\t{\n\t\tif (!ed[i]) ss[++gs]=i;\n\t\tfor (j=1;(j<=gs)&&(ss[j]*i<=n);j++)\n\t\t{\n\t\t\ted[i*ss[j]]=1;\n\t\t\tif (i%ss[j]==0) break;\n\t\t}\n\t}\n\tprintf(\"A 1\\n\");\n\tfflush(stdout);\n\tgs-=ksiz;int now;read(now);\n\tfor (i=x+1;i<=gs;i+=ksiz)\n\t{\n\t\tfor (j=0;j<ksiz;j++)\n\t\t{\n\t\t\tprintf(\"B %d\\n\",ss[i+j]);\n\t\t\tfflush(stdout);read(x);\n\t\t\tif (x>1) {printf(\"C %d\",ans*ss[i+j]);fflush(stdout);return 0;}\n\t\t}\n\t\tprintf(\"A 1\\n\");\n\t\tfflush(stdout);\n\t\tread(x);\n\t\tif (x!=now-ksiz)\n\t\t{\n\t\t\tfor (j=i;j<i+ksiz;j++)\n\t\t\t{\n\t\t\t\tprintf(\"B %d\\n\",ss[j]);\n\t\t\t\tfflush(stdout);\n\t\t\t\tread(x);if (x) {ans*=ss[j];break;}\n\t\t\t}\n\t\t\tprintf(\"C %d\",ans);fflush(stdout);return 0;\n\t\t}now=x;\n\t}gs+=ksiz;\n\tfor (;i<=gs;i++)\n\t{\n\t\tprintf(\"B %d\\n\",ss[i]);\n\t\tfflush(stdout);\n\t\tread(x);printf(\"B %d\\n\",ss[i]);\n\t\tfflush(stdout);\n\t\tread(x);if (x) {ans*=ss[i];break;}\n\t}\n\tprintf(\"C %d\",ans);\n\tfflush(stdout);\n}\n```",
        "postTime": 1599967118,
        "uid": 29826,
        "name": "SSerxhs",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1406E \u3010Deleting Numbers\u3011"
    },
    {
        "content": "\u5ba3\u4f20\u535a\u5ba2 $\\to$ [link](https://www.cnblogs.com/Plozia/p/16246576.html)\n\n\u4e00\u9053 Idea \u9898\uff0c\u4f46\u662f\u505a\u8fc7\u4e24\u9053\u7c7b\u4f3c\u5bff\u53f8\u665a\u5bb4\u7684\u6211\u8fd8\u662f\u6ca1\u80fd\u60f3\u51fa\u8fd9\u9053\u9898\u2026\u2026\n\n\u4e00\u4e2a\u663e\u7136\u7684\u601d\u8def\u662f\u5148\u679a\u4e3e\u6240\u6709\u8d28\u6570\u7528 B \u64cd\u4f5c\u7b5b\u6389\u5408\u6570\uff0c\u7136\u540e\u7528 A \u64cd\u4f5c\u77e5\u9053\u6709\u54ea\u4e9b\u8d28\u56e0\u5b50\uff0c\u679a\u4e3e\u8fd9\u4e9b\u8d28\u56e0\u5b50\u7684\u6b21\u5e42\u5f97\u5230\u8fd9\u4e2a\u6570\uff0c\u4f46 100000 \u4ee5\u5185\u7684\u8d28\u6570\u4e2a\u6570\u662f 9592\uff0c\u5148\u7b5b\u5408\u6570\u518d\u7528 A \u64cd\u4f5c\u90fd\u5df2\u7ecf\u8d85\u51fa\u9650\u5236\u4e86\u3002\n\n\u8003\u8651\u6309\u7167 $\\sqrt{n}$ \u5212\u5206\uff0c\u9996\u5148\u7ebf\u7b5b\u51fa\u6240\u6709\u7684\u8d28\u6570\uff0c\u7136\u540e\u5229\u7528\u6240\u6709\u5c0f\u4e8e\u7b49\u4e8e $\\sqrt{n}$ \u7684\u8d28\u6570\u7b5b\u6389\u6240\u6709\u5408\u6570\uff0c\u540c\u65f6\u679a\u4e3e\u6b21\u5e42\u4ee5\u5f97\u77e5 $x$ \u5c0f\u4e8e\u7b49\u4e8e $\\sqrt{n}$ \u7684\u8d28\u56e0\u5b50\u53ca\u5176\u6b21\u5e42\uff0c\u5c06\u8fd9\u4e2a\u7ed3\u679c\u8bb0\u4f5c $s$\uff08$s$ \u521d\u59cb\u5316\u4e3a 1\uff09\u3002\n\n\u5982\u679c $s>1$ \u8bf4\u660e $x$ \u662f\u4e2a\u5408\u6570\u5e76\u4e14**\u53ef\u80fd**\u6709\u4e00\u4e2a\u5927\u4e8e $\\sqrt{n}$ \u7684\u8d28\u56e0\u6570\uff0c\u6b64\u65f6\u7528 A/B \u64cd\u4f5c\u679a\u4e3e\u8fd9\u4e9b\u8d28\u6570\u770b\u4e00\u773c\u54ea\u4e2a\u8fd4\u56de\u503c\u662f 2 \u5c31\u77e5\u9053\u6700\u5927\u8d28\u56e0\u6570\u4e86\u3002\n\n\u5982\u679c $s=1$ \u8bf4\u660e $x$ \u662f 1 \u6216\u8005\u662f\u5927\u4e8e $\\sqrt{n}$ \u7684\u8d28\u6570\uff0c\u8003\u8651\u5206\u5757\uff0c\u6bcf 100 \u4e2a\u8d28\u6570\u5206\u6210\u4e00\u5757\uff0c\u5bf9\u6bcf\u4e00\u5757\u9996\u5148\u5229\u7528 B \u64cd\u4f5c\u5220\u6389\u8d28\u6570\uff0c\u7136\u540e\u4f7f\u7528 `A 1` \u53ef\u4ee5\u5f97\u77e5\u8fd9\u4e00\u5757\u5220\u4e86\u591a\u5c11\u4e2a\u6570\uff0c\u4fbf\u53ef\u5f97\u77e5 $s$ \u662f\u4e0d\u662f\u5728\u8fd9\u4e00\u5757\u5185\uff0c\u5982\u679c\u5728\u5c31\u66b4\u529b\u7528 A/B \u64cd\u4f5c\u67e5\u8be2\u5373\u53ef\u3002\n\n\u51e0\u4e2a\u6ce8\u610f\u70b9\uff1a\n\n- \u6ce8\u610f $n=1,x=1$ \u8fd9\u6837\u7684\u8be2\u95ee\u3002\n- \u4efb\u610f\u65f6\u523b\u4f60\u5411\u4ea4\u4e92\u5e93\u8f93\u51fa\u7684\u6570\u4e0d\u80fd\u5927\u4e8e $n$\u3002\n\nGitHub\uff1a[CodeBase-of-Plozia](https://github.com/Plozia/CodeBase-of-Plozia/blob/main/%E6%9D%82%E9%A1%B9/%E6%80%9D%E7%BB%B4%E9%A2%98%2B%E4%BA%A4%E4%BA%92%E9%A2%98/CF1406E%20Deleting%20Numbers.cpp)\n\nCode:\n\n```cpp\n/*\n========= Plozia =========\n\tAuthor:Plozia\n\tProblem:CF1406E Deleting Numbers\n\tDate:2022/5/8\n========= Plozia =========\n*/\n\n#include <bits/stdc++.h>\n\ntypedef long long LL;\nconst int MAXN = 1e5 + 5;\nint n, Prime[MAXN], cntPrime, p, ans = 1;\nbool book[MAXN];\n\nint Read()\n{\n\tint sum = 0, fh = 1; char ch = getchar();\n\tfor (; ch < '0' || ch > '9'; ch = getchar()) fh -= (ch == '-') << 1;\n\tfor (; ch >= '0' && ch <= '9'; ch = getchar()) sum = sum * 10 + (ch ^ 48);\n\treturn sum * fh;\n}\nint Max(int fir, int sec) { return (fir > sec) ? fir : sec; }\nint Min(int fir, int sec) { return (fir < sec) ? fir : sec; }\n\nvoid init()\n{\n\tfor (int i = 2; i <= n; ++i)\n\t{\n\t\tif (!book[i]) Prime[++cntPrime] = i;\n\t\tfor (int j = 1; j <= cntPrime; ++j)\n\t\t{\n\t\t\tif (i * Prime[j] > n) break ;\n\t\t\tbook[i * Prime[j]] = 1;\n\t\t\tif (i % Prime[j] == 0) break ;\n\t\t}\n\t}\n}\n\nint optA(int x) { printf(\"A %d\\n\", x); fflush(stdout); return Read(); }\nint optB(int x) { printf(\"B %d\\n\", x); fflush(stdout); return Read(); }\n\nint main()\n{\n\tn = Read(); init(); for (p = 1; p * p <= n; ++p) ; --p; int i = 1;\n\tfor (i = 1; Prime[i] <= p && i <= cntPrime; ++i)\n\t{\n\t\toptB(Prime[i]);\n\t\tint tmp = Prime[i];\n\t\tif (optA(Prime[i]) == 0) continue ;\n\t\twhile (tmp * Prime[i] <= n) { if (optA(tmp * Prime[i]) == 0) break ; tmp *= Prime[i]; }\n\t\tans = ans * tmp;\n\t}\n\tif (ans != 1)\n\t{\n\t\tfor (; i <= cntPrime; ++i) \n\t\t\tif (optA(Prime[i]) == 2) { ans *= Prime[i]; break ; }\n\t}\n\telse\n\t{\n\t\tint Last = i, Remain = optA(1);\n\t\tfor(; i <= cntPrime; ++i)\n\t\t{\n\t\t\toptB(Prime[i]);\n\t\t\tif (i - Last + 1 == 100 || i == cntPrime)\n\t\t\t{\n\t\t\t\tint tmp = optA(1);\n\t\t\t\tif (Remain - tmp == i - Last + 1) { Last = i + 1; Remain = tmp; continue ; }\n\t\t\t\tfor (int j = Last; j <= i; ++j)\n\t\t\t\t{\n\t\t\t\t\tif (optA(Prime[j]) == 1) { ans = Prime[j]; break ; }\n\t\t\t\t}\n\t\t\t\tbreak ;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"C %d\\n\", ans); fflush(stdout); return 0;\n}\n```",
        "postTime": 1652010033,
        "uid": 134000,
        "name": "Plozia",
        "ccfLevel": 7,
        "title": "CF1406E Deleting Numbers \u9898\u89e3"
    },
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n\u8fd9\u662f\u4e00\u9053\u4ea4\u4e92\u9898\u3002\n\n\u5df2\u77e5 $n$\uff0c\u6709\u4e00\u4e2a\u672a\u77e5\u6570 $x$ \uff08$1 \\le x \\le n$ \uff09\uff0c\u4f60\u9700\u8981\u6c42\u51fa $x$ \u7684\u503c\u3002\n\n\u6709\u4e00\u4e2a\u96c6\u5408 $S = \\{1,2,\\dots ,n\\}$ \u3002\u4f60\u53ef\u4ee5\u8fdb\u884c\u4e0d\u8d85\u8fc7 $10^4$ \u6b21\u64cd\u4f5c\u3002\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u662f\u5982\u4e0b\u4e09\u79cd\u4e4b\u4e00\uff1a\n\n$\\texttt{A:A a}$\uff0c\u8868\u793a\u6c42\u51fa $S$ \u4e2d $a$ \u7684\u500d\u6570\u7684\u4e2a\u6570 \uff08$1\\le a\\le n$\uff09\u3002\n\n$\\texttt{B:B a}$\uff0c\u8868\u793a\u6c42\u51fa $S$ \u4e2d $a$ \u7684\u500d\u6570\u7684\u4e2a\u6570\u5e76\u5c06\u8fd9\u4e9b\u6570\u4ece $S$ \u4e2d\u5220\u53bb\uff08$x$ \u662f\u4e0d\u4f1a\u88ab\u5220\u6389\u7684\uff09 \uff08$2\\le a \\le n$\uff09\u3002\n\n$\\texttt{C:C a}$\uff0c\u8868\u793a\u4f60\u77e5\u9053\u4e86 $x = a$ \uff08$1\\le a \\le n$\uff09\u3002\n\n\u6240\u6709\u7684 $a$ \u5747\u4e3a\u6574\u6570\u3002\n\n## $\\texttt{solution}$\n\n\u4ea4\u4e92\u9898\u8003\u8651\u5206\u6790\u64cd\u4f5c\u548c\u89c4\u6a21\uff0c\u5bf9\u4e8e $\\texttt{B}$ \u64cd\u4f5c\uff0c\u6211\u4eec\u53d1\u73b0\u5982\u679c $a$ \u7684\u500d\u6570\u4e2d\u6709 $x$\uff0c\u90a3\u4e48\u6700\u540e\u5220\u9664\u7684\u65f6\u5019\u662f\u4e0d\u4f1a\u5220\u9664 $x$ \u7684\uff0c\u4f46\u662f\u6211\u4eec\u53c8\u53ef\u4ee5\u4f7f\u7528 $\\texttt{A}$ \u64cd\u4f5c\u6765\u5f97\u5230\u96c6\u5408\u4e2d $a$ \u7684\u500d\u6570\u3002\n\n\u5982\u679c $x$ \u4e0d\u662f $a$ \u7684\u500d\u6570\uff0c\u90a3\u4e48\u4f7f\u7528 $\\texttt{B}$ \u64cd\u4f5c\u4e4b\u540e\u518d\u4f7f\u7528\u4e00\u6b21 $\\texttt{A}$ \u64cd\u4f5c\u5f97\u5230\u7684\u56de\u590d\u5e94\u8be5\u662f $0$\uff0c\u5426\u5219\u4e3a $1$\u3002\n\n\u56e0\u6b64\uff0c\u6211\u4eec\u6709\u4e86\u4e00\u79cd\u66b4\u529b\u7684\u601d\u8def\uff0c\u6211\u4eec\u8003\u8651\u5bf9\u4e8e $10^5$ \u5185\u6240\u6709\u8d28\u6570\uff0c\u90fd\u6267\u884c\u4e00\u904d\u4e0a\u9762\u7684\u64cd\u4f5c\uff0c\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u786e\u5b9a\u51fa $x$ \u662f\u7531\u54ea\u4e9b\u8d28\u56e0\u5b50\u6784\u6210\u7684\uff0c\u7136\u540e\u6700\u540e\u6211\u4eec\u518d\u8be2\u95ee\u8fd9\u4e9b\u8d28\u56e0\u5b50\u7684\u6b21\u5e42\u5373\u53ef\u3002\n\n\u90a3\u4e48\uff0c\u8fd9\u4e48\u505a\u7684\u64cd\u4f5c\u6b21\u6570\u4e3a\u591a\u5c11\u5462\uff1f\n\n$10^5$ \u8303\u56f4\u5185\u7684\u8d28\u6570\u6709 $9592$ \u4e2a\uff0c\u6211\u4eec\u81f3\u5c11\u5bf9\u6bcf\u4e2a\u8d28\u6570\u90fd\u6267\u884c\u4e86\u4e24\u904d\u64cd\u4f5c\uff0c\u7136\u540e\u8fd8\u6709\u6700\u540e\u627e\u51fa\u6570 $x$ \u53c8\u9700\u8981\u4e00\u4e9b\u6b21\u6570\uff0c\u8d85\u51fa\u89c4\u5b9a\u7684 $10^4$ \u64cd\u4f5c\u6b21\u6570\u3002\n\n\u8003\u8651\u4f18\u5316\u6211\u4eec\u7684\u4ea4\u4e92\u7b56\u7565\uff0c\u5bf9\u8d28\u6570\u8fdb\u884c\u6839\u53f7\u5206\u6cbb\u3002\n\n\u5c06\u5927\u4e8e $316$ \u7684\u8d28\u6570\u548c\u5c0f\u4e8e $316$ \u7684\u8d28\u6570\u5206\u522b\u8fdb\u884c\u5904\u7406\u3002\n\n\u5bf9\u4e8e\u5927\u4e8e $316$ \u7684\u8d28\u6570\uff0c\u4efb\u4f55 $x$ \u90fd\u6700\u591a\u53ea\u4f1a\u6709\u4e00\u4e2a $1$ \u8fd9\u4e48\u7684\u8d28\u56e0\u6570\u51fa\u73b0\uff0c\u5426\u5219\u5c31\u8d85\u51fa\u4e86\u503c\u57df $10^5$\u3002\n\n\u5bf9\u4e8e\u5c0f\u4e8e $316$ \u7684\u8d28\u6570\uff0c\u53ea\u6709 $65$ \u4e2a\u8d28\u6570\u3002\n\n\u5bf9\u4e8e\u8fd9\u4e9b\u8d28\u6570\uff0c\u6211\u4eec\u5148\u8fdb\u884c\u4e4b\u524d\u7684\u7b56\u7565\uff0c\u5f97\u5230 $x$ \u7684\u5c0f\u8d28\u6570\u56e0\u5b50\uff0c\u5e76\u4e14\u8be2\u95ee\u51fa\u4ed6\u5e94\u6709\u7684\u6b21\u5e42\u3002\n\n\u53ef\u4ee5\u8ba1\u7b97\u51fa\uff0c\u8fd9\u90e8\u5206\u64cd\u4f5c\u6b21\u6570\u6700\u591a\u4e3a $238$ \u6b21\u3002\n\n\u7136\u540e\u6267\u884c\u5b8c\u4e4b\u540e\u53ea\u4f1a\u6709 $1,x$ \u548c $x$ \u7684\u5927\u8d28\u6570\u56e0\u5b50\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u5927\u8d28\u6570\uff0c\u8fd8\u62e5\u6709 $9527$ \u4e2a\u3002\n\n\u5047\u8bbe\u4e4b\u524d\u5f97\u5230\u7684\u5c0f\u8d28\u6570\u56e0\u5b50\u4e58\u79ef $d$ \u5927\u4e8e $1$\u3002\n\n\u90a3\u4e48\u8fd9\u4e2a\u6570\u662f\u4e2a\u5408\u6570\uff0c\u76f4\u63a5\u8be2\u95ee\u6240\u6709\u5927\u8d28\u6570 $p\\times d$ \u662f\u5426\u5b58\u5728\uff0c\u5982\u679c\u5b58\u5728\u90a3\u4e48 $x = p \\times d$ \u3002\n\n\u8fd9\u90e8\u5206\u7684\u64cd\u4f5c\u6b21\u6570\u6700\u591a\u4e3a $238+9527+1=9766$\u3002\n\n\u5982\u679c $d=1$ \u7684\u8bdd\uff0c\u90a3\u4e48\u8bc1\u660e\u6211\u4eec\u7684\u6570 $x$ \u662f\u4e2a\u8d28\u6570\u6216\u8005\u4e3a $1$\uff0c\u4ed6\u5c31\u5728\u540e\u9762\u7684\u5927\u8d28\u6570\u56e0\u5b50\u4e2d\u3002\n\n\u90a3\u4e48\u4e0d\u80fd\u7167\u642c\u4e0a\u9762\u7684\u505a\u6cd5\u4e86\uff0c\u800c\u76f4\u63a5\u66b4\u529b\u64cd\u4f5c\u6b21\u6570\u8981\u4e58\u4e8c\uff0c\u5c31\u8d85\u4e86\u3002\n\n\u4eba\u7c7b\u667a\u6167\uff0c\u63a5\u4e0b\u6765\u7684\u5e8f\u5217\u4e2d\u53ea\u6709 $1$ \u548c\u5927\u8d28\u6570\u3002\n\n\u5bf9\u5927\u8d28\u6570\u8fdb\u884c\u5206\u5757\uff0c\u6bcf $100$ \u4e2a\u5927\u8d28\u6570\u5206\u4e00\u5757\uff0c\u6bcf\u6b21\u8fde\u7eed\u5220 $100$ \u4e2a\u5927\u8d28\u6570\u3002\n\n\u7136\u540e\u8be2\u95ee $\\texttt{A 1}$ \u53ef\u4ee5\u5f97\u5230\u73b0\u5728\u5e8f\u5217\u4e2d\u6570\u91cf\uff0c\u6309\u7406\u6765\u8bf4\u5e94\u8be5\u662f\u6bcf\u6b21\u51cf\u5c11\u4e00\u5757\u957f\u5ea6\u4e2a\uff0c\u5982\u679c\u6709\u4e00\u6b21\u51cf\u5c11\u7684\u4e2a\u6570\u5c11\u4e86 $1$\uff0c\u8bc1\u660e $x$ \u5728\u8fd9\u4e00\u5757\u4e2d\uff0c\u7136\u540e\u66b4\u529b\u9012\u5f52\u627e\u5373\u53ef\u3002\n\n\u8fd9\u90e8\u5206\u7684\u64cd\u4f5c\u6b21\u6570\u6700\u7ec8\u4e5f\u4e0d\u4f1a\u8d85\u8fc7 $10^4$ \u3002\n\n\u5b9e\u9645\u4e0a\u6211\u8c03\u4e86\u4e00\u4e0b\u5757\u957f\u4e3a $86$\uff0c\u56e0\u4e3a\u6211\u5199\u4e11\u4e86\u3002\n\n```cpp\n// \u5fb7\u4e3d\u838e\u4f60\u597d\u53ef\u7231\u5fb7\u4e3d\u838e\u4f60\u597d\u53ef\u7231\u5fb7\u4e3d\u838e\u4f60\u597d\u53ef\u7231\u5fb7\u4e3d\u838e\u4f60\u597d\u53ef\u7231\u5fb7\u4e3d\u838e\u4f60\u597d\u53ef\u7231\n// \u5fb7\u4e3d\u838e\u7684\u53ef\u7231\u5728\u4e8e\u5fb7\u4e3d\u838e\u5f88\u53ef\u7231\uff0c\u5fb7\u4e3d\u838e\u4e3a\u4ec0\u4e48\u5f88\u53ef\u7231\u5462\uff0c\u8fd9\u662f\u56e0\u4e3a\u5fb7\u4e3d\u838e\u5f88\u53ef\u7231\uff01\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\n#define FOR(i, l, r) for(int i = (l); i <= r; ++i)\n#define REP(i, l, r) for(int i = (l); i <  r; ++i)\n#define DFR(i, l, r) for(int i = (l); i >= r; --i)\n#define DRP(i, l, r) for(int i = (l); i >  r; --i)\n#define FORV(i, ver) for(int i = 0; i < ver.size(); i++)\n#define FORP(i, ver) for(auto i : ver)\ntemplate<class T>T wmin(const T &a, const T &b) {return a < b ? a : b;}\ntemplate<class T>T wmax(const T &a, const T &b) {return a > b ? a : b;}\ntemplate<class T>bool chkmin(T &a, const T &b) {return a > b ? a = b, 1 : 0;}\ntemplate<class T>bool chkmax(T &a, const T &b) {return a < b ? a = b, 1 : 0;}\ninline int read() {\n  int x = 0, f = 1;  char ch = getchar();\n  while( !isdigit(ch) ) { if(ch == '-') f = -1;  ch = getchar();  }\n  while( isdigit(ch) ) {  x = (x << 1) + (x << 3) + (ch ^ 48);  ch = getchar();  }\n  return x * f;\n}\nconst int N = 2e6;\nint n, vis[N], pr[N], tot, c[N], num;\nvoid prime(int n) {\n  FOR (i, 2, n) {\n    if (vis[i]) continue;\n    pr[++tot] = i;\n    for (int j = i; j <= n; j += i) vis[j] = 1;\n  }\n}\nint A(int x) {\n  cout << \"A \" << x << \"\\n\";  cout.flush();\n  int qwq;  cin >> qwq;  return qwq;\n}\nvoid B(int x) {\n  cout << \"B \" << x << \"\\n\";  cout.flush();\n  int qwq;  cin >> qwq;\n}\nvoid C(int x) {\n  cout << \"C \" << x << \"\\n\";  cout.flush();  exit(0);\n}\nsigned main () {\n  ios::sync_with_stdio(0);\n  cin.tie(0), cout.tie(0);\n  n = read(); prime(n);\n  if (n == 1) { C(1); }\n  int now = 1;\n  FOR (i, 1, tot) {\n    if (pr[i] > 316) break;\n    int x = pr[i];\n    B(x);\n    if ( A(x) == 1 ) {\n      now = now * x;\n      int gtr = x;\n      while (1) {\n        gtr *= x;\n        if (gtr > n) break;\n        if ( A(gtr) == 1 ) now *= x;\n        else break;\n      }\n    }\n  }\n  if (now == 1) {\n    int ans = 1;\n    FOR (i, 1, tot) {\n      if (pr[i] < 316) continue;\n      c[++num] = pr[i];\n    }\n    int siz = 86, bel = (num - 1) / siz + 1;\n    int cnt = A(1);\n    FOR (i, 1, bel) {\n      int l = (i - 1) * siz + 1;\n      int r = wmin(num, i * siz);\n      int len = r - l + 1;\n      FOR (j, l, r) {\n        int x = c[j];\n        B(x);\n      }\n      int qaq = A(1);\n      if (qaq == cnt - len) { cnt -= len;  continue;  }\n      FOR (j, l, r) {\n        int x = c[j];\n        int qwq = A(x);\n        if (qwq) C(x);\n      }\n    }\n    C(1);\n  }\n  FOR (i, 1, tot) {\n    if (pr[i] < 316) continue;\n    int x = pr[i];\n    if (x * now > n) break;\n    if (A(x * now) == 1) C(x * now);\n  }\n  C(now);\n  return 0;\n}\n```",
        "postTime": 1648467449,
        "uid": 206021,
        "name": "Pitiless0514",
        "ccfLevel": 7,
        "title": "CF1406E \u9898\u89e3"
    },
    {
        "content": "#### Solution\n\n\u53ef\u4ee5\u53d1\u73b0\u7684\u6027\u8d28\uff1a\n\n+ $\\leq 10^5$ \u7684\u6570\u4e2d\u4e00\u5171\u6709 $9592$ \u4e2a\u8d28\u6570\u3002\n\n\u8fd9\u9053\u9898\u7684\u95ee\u9898\u5728\u4e8e\u6c42\u51fa $x$ \u7684\u6240\u6709\u8d28\u56e0\u5b50\u3002\n\n\u4e0d\u96be\u60f3\u5230\u6211\u4eec\u80af\u5b9a\u53ef\u4ee5\u5148\u67e5\u8be2\u51fa $x$ \u7684\u6240\u6709 $\\leq \\sqrt{n}$ \u7684\u8d28\u56e0\u5b50\u3002\n\n\u628a\u5c0f\u4e8e $\\sqrt{n}$ \u7684\u8d28\u56e0\u5b50\u7684\u6240\u6709\u500d\u6570\u5220\u6389\u4e4b\u540e\u5269\u4e0b\u6765\u5c31\u5168\u90fd\u662f\u8d28\u6570\u3002\n\n\u63a5\u4e0b\u6765\u8fd9\u91cc\u5206\u4e24\u79cd\u60c5\u51b5\u8ba8\u8bba\uff1a\n\n+ \u5982\u679c $x$ **\u4e0d\u5b58\u5728** $\\leq \\sqrt{n}$ \u7684\u8d28\u56e0\u5b50\uff0c\u8fd9\u610f\u5473\u7740 $x$ \u662f\u8d28\u6570\u3002\n\n\u5982\u679c\u4e00\u4e2a\u4e00\u4e2a\u5220\u6389\u5269\u4e0b\u7684\u6240\u6709\u8d28\u6570\u518d\u8c03\u7528 `A` \u64cd\u4f5c\u663e\u7136\u4f1a\u8d85\u51fa\u6b21\u6570\u9650\u5236\u3002\n\n\u4f46\u662f\u6211\u4eec\u6b64\u523b\u7684\u76ee\u7684\u662f\uff1a\u6c42\u51fa\u67d0\u4e00\u4e2a\u4f4d\u7f6e\u6ca1\u6709\u88ab\u5220\u6389\u3002\n\n\u90a3\u4e48\u53ef\u4ee5\u5f88\u81ea\u7136\u7684\u60f3\u5230\uff0c\u6211\u4eec\u5148\u5220\u6389 $B$ \u4e2a\u8d28\u6570\u4e4b\u540e\uff0c\u7528**\u4e00\u6b21** `A 1`\uff0c\u5224\u65ad\u8ddf\u4e0a\u4e00\u6b21\u8be2\u95ee `A 1` \u7684\u5dee\u662f\u4e0d\u662f $B$ \uff0c\u5982\u679c\u4e0d\u662f\u5219\u8bf4\u660e\u8fd9 $B$ \u4e2a\u8d28\u6570\u91cc\u9762\u5b58\u5728\u4e00\u4e2a\u6570\u662f $x$\uff0c\u7136\u540e\u6211\u4eec\u5c31\u76f4\u63a5\u4e00\u4e2a\u4e2a\u7528 `A` \u64cd\u4f5c\u6c42\u662f\u4e0d\u662f\u8fd9\u4e00\u4f4d\u5373\u53ef\u3002\n\n+ \u5982\u679c $x$ **\u5b58\u5728** $\\leq {\\sqrt{n}}$ \u7684\u8d28\u56e0\u5b50\uff0c\u90a3\u4e48 $x$ \u662f\u5408\u6570\u3002\n\n\u53ef\u4ee5\u76f4\u63a5\u67e5\u627e\u6240\u6709 $> \\sqrt{n}$ \u7684\u8d28\u6570 $p$ \u7136\u540e\u7528 `A` \u64cd\u4f5c\uff0c\u5982\u679c\u76ee\u524d $p$ \u500d\u6570\u6709 $1$ \u4e2a\u4ee5\u4e0a\u90a3\u4e48 $x$ \u542b\u6709\u7684\u5269\u4e0b\u7684\u4e00\u4e2a\u8d28\u56e0\u5b50\u5c31\u662f $p$\uff0c\u76f4\u63a5\u6c42\u5f97\u7b54\u6848\u3002\n\n#### \u67e5\u8be2\u6b21\u6570\u5206\u6790\uff1a\n\n\u4e3a\u4e86\u5728\u6c42\u5f97\u6240\u6709\u8d28\u56e0\u5b50\u540e\u6c42\u51fa\u8d28\u56e0\u5b50\u7684\u5e42\u6b21\uff0c\u9700\u8981\u9884\u7559 $30$ \u6b21\u7684\u8be2\u95ee\u3002\n\n\u5bf9\u4e8e\u524d\u9762\u6c42 $\\leq \\sqrt{n}$ \u7684\u8d28\u56e0\u5b50\u5927\u6982\u53ea\u4f1a\u6709 $260$ \u6b21\u8be2\u95ee\u3002\n\n\u6b64\u523b\u6211\u4eec\u8fd8\u5269\u4e0b\u5927\u6982 $9700$ \u6b21\u8be2\u95ee\u3002\n\n\u5bf9\u4e8e $x$ \u662f\u8d28\u6570\u7684\u60c5\u51b5\uff0c\u5f53 $B = 100$ \u7684\u65f6\u5019\uff0c\u53ea\u4f1a\u6d88\u8017 $9500$ \u6b21\u8be2\u95ee\u3002\n\n\u5bf9\u4e8e $x$ \u662f\u5408\u6570\u7684\u60c5\u51b5\uff0c\u663e\u7136\u6211\u4eec\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u8d28\u56e0\u5b50\u7684\u8bdd\uff0c\u8be2\u95ee\u6b21\u6570\u4e0d\u8d85\u8fc7 $5200$ \u6b21\u3002\n\n\u56e0\u6b64\uff0c\u6b64\u95ee\u9898\u5f97\u5230\u5b8c\u7f8e\u89e3\u51b3\uff0c\u540c\u65f6\u5982\u679c\u8c03\u8bd5\u9047\u5230\u56f0\u96be\u53ef\u4ee5\u7528\u8ba8\u8bba\u533a\u4e2d\u6211\u63d0\u4f9b\u7684 grader\u3002\n\n\n#### AC Code\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint n, P[50005], tot, Ans = 1;\nvoid Answer(int x) { cout << \"C \" << x, fflush(stdout); exit(0); }\nint Ask(int x) {\n    cout << \"A \" << x << \"\\n\", fflush(stdout);\n    int res; cin >> res;\n    return res;\n}\nint Del(int x) {\n    cout << \"B \" << x << \"\\n\", fflush(stdout);\n    int res; cin >> res;\n    return res;\n}\nvoid GetPrime() {\n    for(int i = 2, flag = 0; i <= 1e5 ; i ++, flag = 0) {\n        for(int j = 2 ; j <= sqrt(i) ; j ++)\n            if(i % j == 0) flag = 1;\n        if(!flag) P[++ tot] = i;\n    }\n    return ;\n}\n\nint main() {\n    cin >> n, GetPrime();\n    int cnt = 0, lst = 0;\n    for(int i = 1 ; i <= tot && P[i] <= n ; i ++) {\n        if(P[i] <= 317) {\n            Del(P[i]);\n            if(Ask(P[i]) == 1) {\n                int now = P[i]; Ans *= P[i];\n                while(1) {\n                    now *= P[i]; if(now > n) break; \n                    if(Ask(now)) Ans *= P[i]; else break;\n                }\n            }\n            continue;\n        }\n        if(Ans == 1) {\n            cnt ++; \n            if(cnt == 1) lst = Ask(1);\n            Del(P[i]);\n            if(i == tot || cnt == 100) {\n                int now = Ask(1);\n                if(lst - now != cnt) {\n                    for(int j = i ; j >= i - cnt + 1 ; j --) \n                        if(Ask(P[j]) == 1) { Ans *= P[j]; break; }\n                    break;\n                }\n                cnt = 0;\n            }\n        }\n        else if(Ask(P[i]) == 2) { Ans *= P[i]; break; }\n    } Answer(Ans);\n    return 0;\n}\n```",
        "postTime": 1635861342,
        "uid": 67817,
        "name": "MuYC",
        "ccfLevel": 6,
        "title": "CF 1406 E \u9898\u89e3"
    },
    {
        "content": "[Codeforces \u9898\u9762\u4f20\u9001\u95e8](https://codeforces.ml/contest/1406/problem/E) & [\u6d1b\u8c37\u9898\u9762\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1406E)\n\n\u4e00\u9053\u4e2a\u4eba\u611f\u89c9\u633a\u6709\u610f\u601d\u7684\u4ea4\u4e92\u9898\uff0c\u672c\u4eba\u4e00\u5f00\u59cb\u60f3\u4e86\u4e2a\u5947\u5947\u602a\u602a\u7684\u505a\u6cd5\uff0c\u8fd8\u4ee5\u4e3a\u5361\u4e0d\u8fdb\u53bb\uff0c\u7ed3\u679c\u53d1\u73b0\u7adf\u7136\u8fc7\u4e86\uff0c\u800c\u4e14\u8fd8\u662f\u6b63\u89e3\uff08\n\n\u9996\u5148\u770b\u5230\u8fd9\u7c7b\u9898\u76ee\u53ef\u4ee5\u8003\u8651\u6bcf\u6b21\u5220\u6389\u4e00\u4e2a\u8d28\u6570\u7684\u500d\u6570\uff0c\u5373\u5bf9\u67d0\u4e2a $pr_i$ \u6267\u884c B \u64cd\u4f5c\uff0c\u7136\u540e\u5bf9 $pr_i$ \u8fdb\u884c A \u8be2\u95ee\uff0c\u6839\u636e\u8be2\u95ee\u5f97\u5230\u7684\u503c\u662f\u5426\u7b49\u4e8e\u7406\u8bba\u4e0a\u5220\u53bb\u8fd9\u4e9b\u6570\u540e $pr_i$ \u7684\u500d\u6570\u4e2a\u6570\u6765\u5224\u65ad $pr_i$ \u662f\u5426\u662f $x$ \u7684\u56e0\u6570\uff0c\u5982\u679c\u662f\u90a3\u4e48\u5c31\u679a\u4e3e $pr_i$ \u7684 $2,3,4,\\cdots$ \u6b21\u65b9\uff0c\u518d\u5bf9\u8fd9\u4e9b\u6b21\u65b9\u6267\u884c A \u8be2\u95ee\uff0c\u4ee5\u6b64\u6765\u5224\u65ad $x$ \u8d28\u56e0\u6570\u5206\u89e3\u5f0f\u4e2d $pr_i$ \u7684\u6b21\u6570\u3002\n\n\u7b97\u4e0b\u8be2\u95ee\u6b21\u6570\uff0c\u8be2\u95ee $pr_i$ \u7684 $2,3,4,\\cdots$ \u7684\u6b21\u6570\u663e\u7136\u4e0e $x$ \u8d28\u56e0\u6570\u5206\u89e3\u5f0f\u4e2d $x$ \u6bcf\u4e2a\u8d28\u56e0\u6570\u7684\u6b21\u6570\u4e4b\u548c\u6709\u5173\uff0c\u662f $\\log$ \u7ea7\u522b\u7684\uff0c\u6700\u591a\u53ea\u6709 $20$ \u53ef\u4ee5\u5ffd\u7565\uff0c\u74f6\u9888\u5728\u4e8e\u6bcf\u4e2a\u8d28\u56e0\u6570\u90fd\u8981\u8fdb\u884c\u4e24\u6b21\u64cd\u4f5c\uff0c\u6253\u8868\u53ef\u4ee5\u53d1\u73b0 $10^5$ \u4ee5\u5185\u8d28\u56e0\u6570\u4e2a\u6570\u521a\u597d\u6bd4 $10^4$ \u5c0f\u4e2a\u51e0\u767e\uff0c\u56e0\u6b64 $2\\pi(n)$ \u662f $2\\times 10^4$ \u7ea7\u522b\u7684\uff0c\u8fc7\u4e0d\u53bb\u3002\n\n\u8003\u8651\u4f18\u5316\uff0c\u5f88\u660e\u663e\u5bf9\u4e8e B \u64cd\u4f5c\u800c\u8a00\uff0c\u6211\u4eec\u662f\u53ef\u4ee5\u5728\u64cd\u4f5c\u7684\u540c\u65f6\u95ee\u51fa $x$ \u7684\u500d\u6570\u7684\uff0c\u800c\u521a\u521a\u7684\u89e3\u6cd5\u4e2d\u5e76\u6ca1\u6709\u5229\u7528\u8fd9\u4e2a\u6027\u8d28\uff0c\u56e0\u6b64\u8003\u8651\u4ece\u8fd9\u4e2a\u6027\u8d28\u5165\u624b\u89e3\u9898\uff0c\u6211\u4eec\u8fd8\u662f\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u8d28\u56e0\u5b50\uff0c\u53ea\u4e0d\u8fc7\u4e0e\u521a\u624d\u4e0d\u540c\u7684\u4e00\u70b9\u662f\uff0c\u6211\u4eec\u4e0d\u6bcf\u8fdb\u884c\u4e00\u6b21 B \u8be2\u95ee\u90fd\u8ddf\u4e00\u4e2a A \u8be2\u95ee\uff0c\u6211\u4eec\u53ea\u505a B \u8be2\u95ee\uff0c\u90a3\u4e48\u5bf9\u4e8e\u5927\u591a\u6570\u8d28\u6570\uff0c\u6bcf\u6b21 B \u8be2\u95ee\u65f6\u4e5f\u53ef\u4ee5\u6839\u636e\u7ed3\u679c\u77e5\u9053\u8be5\u8d28\u6570\u662f\u5426\u662f $x$ \u7684\u56e0\u5b50\uff0c\u53ea\u6709\u4e00\u4e2a\u4f8b\u5916\u2014\u2014\u90a3\u5c31\u662f $x$ \u7684\u6700\u5c0f\u8d28\u56e0\u5b50\uff0c\u56e0\u6b64\u63a5\u4e0b\u6765\u6211\u4eec\u53ea\u7528\u627e\u5230 $x$ \u7684\u6700\u5c0f\u8d28\u56e0\u5b50\u53ca\u5b83\u7684\u6b21\u6570\u5373\u53ef\uff0c\u8fd9\u4e5f\u662f\u672c\u9898\u7684\u96be\u70b9\u6240\u5728\uff0c\u6211\u5c31\u5728\u8fd9\u4e2a\u5730\u65b9\u5361\u4e86 20+min \u540e\u60f3\u5230\u4e86\u8fd9\u4e2a\u89e3\u6cd5\u3002\n\n\u6ce8\u610f\u5230 A \u64cd\u4f5c\u8d77\u59cb\u4e0b\u6807\u662f\u53ef\u4ee5\u4ece $1$ \u5f00\u59cb\u7684\uff0c\u800c\u901a\u8fc7 $A\\ 1$ \u6211\u4eec\u5219\u53ef\u4ee5\u77e5\u9053\u521a\u624d\u8be2\u95ee\u7684\u6570\u4e2d\u662f\u5426\u51fa\u73b0\u4e86 $x$ \u7684\u8d28\u56e0\u5b50\uff0c\u56e0\u6b64\u6211\u4eec\u8003\u8651\u6839\u5206\uff0c\u6bcf 100 \u6b21 B \u8be2\u95ee\u6765\u4e00\u6b21 A 1\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u628a\u8d28\u56e0\u5b50\u6309\u5927\u5c0f\u5206\u4e3a $\\lceil\\dfrac{\\pi(n)}{100}\\rceil$\uff0c\u663e\u7136\u6700\u5c0f\u8d28\u56e0\u5b50\u5c31\u5728\u6700\u540e\u4e00\u4e2a A 1 \u7b49\u4e8e\u5269\u4f59\u6570\u4e2a\u6570\u4e0e\u7b2c\u4e00\u4e2a A 1 \u4e0d\u7b49\u4e8e\u5269\u4f59\u6570\u4e2a\u6570\u7684\u4f4d\u7f6e\u4e4b\u95f4\uff0c\u4e2d\u95f4\u90e8\u5206\u5c31\u66b4\u529b\u679a\u4e3e\u8d28\u56e0\u5b50\u7136\u540e\u7528 A \u8d28\u56e0\u5b50\u5224\u65ad\u5373\u53ef\uff0c\u8fd9\u6837\u603b\u64cd\u4f5c\u6b21\u6570\u4e3a $\\pi(n)+100+\\lceil\\dfrac{\\pi(n)}{100}\\rceil+\\log n$\uff0c\u5b9e\u6d4b\u8be2\u95ee\u6b21\u6570\u6700\u591a 9700+ \u6b21\uff0c\u521a\u597d\u5361\u8fc7\u3002\n\n```cpp\nconst int MAXN=1e5;\nint n,pr[MAXN/5+5],prcnt=0;\nbool vis[MAXN+5],is[MAXN+5],has[MAXN+5];\nvector<int> fac[MAXN+5];\nint cnt[MAXN+5];\nvoid sieve(){\n\tfor(int i=2;i<=n;i++){\n\t\tif(!vis[i]) pr[++prcnt]=i;\n\t\tfor(int j=1;j<=prcnt&&pr[j]*i<=n;j++){\n\t\t\tvis[pr[j]*i]=1;\n\t\t\tif(i%pr[j]==0) break;\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++) cnt[i]=n/i;\n\tfor(int i=1;i<=prcnt;i++) for(ll j=pr[i];j<=n;j*=pr[i]) is[j]=1;\n\tfor(int i=1;i<=n;i++) for(int j=i;j<=n;j+=i) fac[j].pb(i);\n}\nvoid del(int x){for(int y:fac[x]) cnt[y]--;has[x]=1;}\nvoid del_mul(int x){for(int i=x;i<=n;i+=x) if(!has[i]) del(i);}\nint qr1(int x){printf(\"A %d\\n\",x);fflush(stdout);int res;scanf(\"%d\",&res);return res;}\nint qr2(int x){printf(\"B %d\\n\",x);fflush(stdout);int res;scanf(\"%d\",&res);return res;}\nint main(){\n\tscanf(\"%d\",&n);sieve();\n\tint cur=1,mn=prcnt,cc=0,fst_blk=0;\n\tfor(int i=1;i<=prcnt;i++){\n\t\tint t=qr2(pr[i]);\n\t\tif(t!=cnt[pr[i]]){\n\t\t\tif(cur==1) mn=i;del_mul(pr[i]);\n\t\t\tcur*=pr[i];\n\t\t\tfor(ll x=1ll*pr[i]*pr[i];x<=n;x*=pr[i]){\n\t\t\t\tint num=qr1(x);//printf(\"%d %d\\n\",x,cnt[x]);\n\t\t\t\tif(num==cnt[x]) break;cur*=pr[i];\n\t\t\t}\n\t\t} else del_mul(pr[i]);\n\t\t++cc;\n\t\tif(cc==100&&!fst_blk){\n\t\t\tcc=0;int x=qr1(1);\n\t\t\tif(x!=cnt[1]) fst_blk=i;\n\t\t}\n\t} if(!fst_blk){int x=qr1(1);if(x!=cnt[1]) fst_blk=prcnt;}\n\tfor(int j=(fst_blk-1)/100*100+1;j<=min(fst_blk,mn);j++){\n\t\tint x=qr1(pr[j]);\n\t\tif(x!=cnt[pr[j]]){\n\t\t\tcur*=pr[j];\n\t\t\tfor(ll k=1ll*pr[j]*pr[j];k<=n;k*=pr[j]){\n\t\t\t\tint num=qr1(k);//printf(\"%d %d\\n\",x,cnt[x]);\n\t\t\t\tif(num==cnt[k]) break;cur*=pr[j];\n\t\t\t} break;\n\t\t}\n\t}\n\tprintf(\"C %d\\n\",cur);fflush(stdout);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1626348748,
        "uid": 115194,
        "name": "lTgMFePRoeZ",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1406E Deleting Numbers"
    },
    {
        "content": "\u9996\u5148\u8003\u8651$x$\u662f\u4e0d\u662f\u8d28\u6570\n\n$\\sqrt{100000}\\approx316$\n\n\u53ef\u4ee5\u901a\u8fc7\u7b5b\u9009\u5c0f\u4e8e$316$\u5f97\u77e5$x$\u6240\u6709\u5c0f\u4e8e$316$\u7684\u8d28\u56e0\u6570\u3002(part1\n\n\u7136\u540e\u8003\u8651\u662f\u5426\u7b5b\u51fa\u4e86\u8d28\u56e0\u6570\u3002\n\n\u5982\u679c\u7b5b\u51fa\u6765\u4e86\uff0c\u90a3\u4e48\u8fd8\u53ef\u80fd\u5b58\u5728\u67d0\u4e2a\u5927\u4e8e$316$\u7684\u8d28\u56e0\u6570\uff0c\u5bf9\u5e94part2\u68c0\u67e5\u5373\u53ef\n\n\u5982\u679c\u6ca1\u6709\u7b5b\u51fa\u6765\uff0c\u90a3\u5c31\u8bf4\u660e$x$\u662f\u4e00\u4e2a\u8d28\u6570\uff0c\u6bcf\u5c1d\u8bd5$100$\u4e2a\u8d28\u6570\u540e\u7528$A(1)$\u770b\u770b\u8fd9\u4e2a\u6570\u4e2d\u6709\u6ca1\u6709\u6570\u5b57\u5220\u6389\uff0c\u6ca1\u5220\u6389\u7684\u5c31\u662f\u8fd9\u4e2a\u6570\u4e86(part3\n\n```\n#pragma GCC optimize(\"Ofast\",\"-funroll-loops\",\"-fdelete-null-pointer-checks\")\n#pragma GCC target(\"ssse3\",\"sse3\",\"sse2\",\"sse\",\"avx2\",\"avx\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define pb push_back\n#define int long long\n#define getchar() (p1==p2&&(p2=(p1=buf)+fread(buf,1,1<<21,stdin),p1==p2)?EOF:*p1++)\nchar buf[1<<21], *p1 = buf, *p2 = buf;\ninline int read()\n{\n\tint x=0,f=1;\n\tchar c=getchar();\n\twhile(!isdigit(c)){if(c=='-')f=-1;c=getchar();}\n\twhile(isdigit(c)){x=(x<<3)+(x<<1)+(c^48);c=getchar();}\n\treturn x*f;\n}\nconst int N=1e5+10;\nvector<int>pre1,pre2;\nint n;\n\nint unprime[N];\nint prime[N/10],tot;\nvoid init()\n{\n\tunprime[1]=1;\n\tfor(int i=2;i<N;i++)\n\t{\n\t\tif(!unprime[i]) \n\t\t{\n\t\t\tprime[++tot]=i;\n\t\t}\n\t\tfor(int j=1;j<=tot&&i*prime[j]<N;j++)\n\t\t{\n\t\t\tunprime[i*prime[j]]=1;\n\t\t\tif(i%prime[j]==0) break;\n\t\t}\n\t}\n}\nint A(int x=1)\n{\n\tif(x>n) return 0;\n\tprintf(\"A %lld \\n\",x);\n\tfflush(stdout);\n\tint k;\n\tscanf(\"%lld\",&k);\n\treturn k;\n}\nint B(int x)\n{\n\tif(x>n) return 0;\n\tprintf(\"B %lld\\n\",x);\n\tfflush(stdout);\n\tint k;\n\tscanf(\"%lld\",&k);\n\treturn k;\n}\nint C(int x)\n{\n\tprintf(\"C %lld\\n\",x);\n\tfflush(stdout);\n\texit(0);\n}\n//sqrt(100000)=316\nsigned main()\n{\n\tinit();\n\tn=read();\n\tfor(int i=2;i<=n;i++)\n\t{\n\t\tif(!unprime[i])\n\t\t{\n\t\t\tif(i<=316) pre1.pb(i);\n\t\t\telse pre2.pb(i);\n\t\t}\n\t}\n\tint res=1;\n\tfor(int x:pre1)//part1\n\t{\n\t\tB(x);\n\t\tfor(int i=x;;i*=x)\n\t\t{\n\t\t\tif(A(i)) res*=x;\n\t\t\telse break;\n\t\t}\n\t}\n\tint tmp1=pre2.size();\n\tif(res!=1) //part2\n\t{\n\t\tfor(int i=0;i<tmp1;i+=100)\n\t\t{\n\t\t\tint tmp2=min(tmp1,i+100);\n\t\t\tfor(int j=i;j<tmp2;j++)\n\t\t\t{\n\t\t\t\tif(A(res*pre2[j])) C(res*pre2[j]);\n\t\t\t}\n\t\t}\t\t\t\n\t\tC(res);\n\n\t}\n\telse //part3\n\t{\n\t\tint cnt=tmp1+1;\n\t\tfor(int i=0;i<tmp1;i+=100)\n\t\t{\n\t\t\tint tmp2=min(tmp1,i+100);\n\t\t\tfor(int j=i;j<tmp2;j++)\n\t\t\t{\n\t\t\t\tB(pre2[j]);\n\t\t\t}\n\t\t\tcnt-=min(100ll,tmp1-i);\n\t\t\tif(A(1)!=cnt)\n\t\t\t{\n\t\t\t\tfor(int j=i;j<tmp2;j++)\n\t\t\t\t{\n\t\t\t\t\tif(A(pre2[j])) C(pre2[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tC(1);\n\t}\n}\n```\n",
        "postTime": 1600237995,
        "uid": 115779,
        "name": "\u6781\u5bd2\u795e\u51b0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1406E \u3010Deleting Numbers\u3011"
    },
    {
        "content": "## [\u9898\u9762](https://codeforces.com/contest/1406/problem/E)\n\n~~\u952e\u76d8\u574f\u4e86+\u624b\u901f\u6162\u4e86\u6ca1\u5199\u5b8c~~\n\n\u505a\u6cd5\u5f88\u52a3\uff0c~~9700+\u6b21\u73a9\u7684\u5c31\u662f\u523a\u6fc0~~\n\n10000\u6b21\u64cd\u4f5c\uff0c\u8003\u86511e5\u5185\u7684\u7d20\u6570\u4e2a\u6570\u3002\u6253\u4e2a\u8868\uff0c\u53d1\u73b0\u67099592\u4e2a\uff0c\u611f\u89c9\u5c31\u662f\u4ece\u8fd9\u91cc\u60f3\u4e86\u3002\u8003\u8651\u5148\u6c42x\u7684\u6700\u5927\u8d28\u56e0\u6570\u3002\u663e\u7136\u4e0d\u80fd\u628a\u7d20\u6570\u4ece\u5927\u5230\u5c0f\u6bcf\u4e2a\u90fdB\u4e00\u6b21\u518dA\u4e00\u6b21\uff0c\u8003\u8651\u5206\u5757\u3002\u4ece\u5927\u5230\u5c0f\u6bcf\u4e2a\u7d20\u6570B\u4e00\u6b21\uff0c\u540c\u65f6\u6bcf\u9694$\\sqrt{9592}$\u4e2a\u7d20\u6570\u5c31\u95ee\u4e00\u4e2aA 1\uff0c\u68c0\u67e5\u7b54\u6848\u8ddf\u4f60\u66b4\u529b\u6a21\u62df\u7684\u7ed3\u679c\u662f\u5426\u76f8\u540c\u3002\u5982\u679c\u4e0d\u76f8\u540c\uff0c\u8bf4\u660e\u6700\u5927\u8d28\u56e0\u6570\u5c31\u5728\u4e0a\u4e00\u4e2a\u5757\u5185\u4e86\u3002\u7136\u540e\u518d$\\sqrt{9592}$\u6b21\u8be2\u95ee\u628a\u4ed6\u627e\u5230\u5c31\u884c\u4e86\n\n\u6700\u5927\u8d28\u56e0\u6570\u5916\u7684\u5176\u4ed6\u56e0\u5b50\u76f4\u63a5\u66b4\u529b\u53bb\u8be2\u95eeA\uff0c\u770b\u8fd4\u56de\u7684\u7b54\u6848\u662f0\u8fd8\u662f1\u5c31\u884c\u4e86.\n\n\u8be2\u95ee\u590d\u6742\u5ea6$O(9592+2\\sqrt{9592}+log)$\n\n```cpp\n\n#include<stdio.h>\n#include<bits/stdc++.h>\n#define f(a,b,c) for(register int a=(b);a<=(c);++a)\n#define ff(a,b,c) for(register int a=(b);a>=(c);--a)\n#define ll long long\n//#define int long long\nchar pbuf[1<<20],*pp1=pbuf;\ninline void push(char c){*pp1=c;pp1=(pp1-pbuf==(1<<20)-1)?(fwrite(pbuf,1,1<<20,stdout),pbuf):(pp1+1);}\n#define pc push\n//#define pc putchar\n#define pe pc('\\n')\n#define ps pc(' ')\n#define wer rd()\nchar *p1,*p2,buf[1<<20];\n#define GC (p1==p2&&(p1=buf,p2=buf+fread(buf,1,1<<20,stdin),p1==p2)?0:(*(p1++)))\n//#define GC getchar()\nusing namespace std;\ninline ll wer{\n\tll ans;char t,k;\n\twhile(((t=GC)!='-')&&(t>'9'||t<'0'));\n\tk=(t=='-');\n\tans=k?0:(t-'0');\n\twhile((t=GC)>='0'&&t<='9')ans=ans*10+t-'0';\n\treturn k?-ans:ans;\n}\ninline void wt(ll k)\n{\n\tif(k<0)pc('-'),wt(-k);\n\telse\n\t{\n\t\tif(k<10)pc('0'+k);\n\t\telse wt(k/10),pc('0'+k%10);\n\t}\n\treturn;\n}\nconst int maxn=100010;\nint n;\nint tg[maxn],pr,tt,alr,dd,p[maxn],mp[maxn];\nmain()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=2;i<=n;i++){\n\t\tif(tg[i]==0){p[++pr]=i;\n\t\t\tfor(int j=i*2;j<=n;j+=i)\n\t\t\ttg[j]=1;\n\t\t}\n\t}\n\tint j=pr,k=0;tt=n;\n\tmemset(tg,0,sizeof tg);\n\tint timer=0\n\t,la=pr+1;\n\tfor(;j>0;j--){\n\t\t++timer;\n\t\tfor(int i=p[j];i<=n;i+=p[j])\n\t\ttt-=(tg[i]==0),tg[i]=1;\n\t\tprintf(\"B %d\\n\",p[j]);\n\t\tfflush(stdout);\n\t\tscanf(\"%d\",&dd);\n\t\tif(timer%(int)sqrt(pr)==0||j==1){\n\t\t\tprintf(\"A 1\\n\");\n\t\t\tfflush(stdout);\n\t\t\tscanf(\"%d\",&dd);\n\t\t\tif(dd!=tt){\n\t\t\t\tk=la-1;\n\t\t\t\twhile(1){\n\t\t\t\t\tprintf(\"A %d\\n\",p[k]);\n\t\t        \tfflush(stdout);\n\t\t        \tscanf(\"%d\",&dd);\n\t\t        \tif(dd)break;\n\t\t\t\t\tk--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tla=j;\n\t\t}\n\t\tif(k!=0)break;\n\t}\n\tif(j==0)return puts(\"C 1\"),0;\n\tll ans=p[k];\n\tfor(int i=1;i<=k;i++){\n\t\tll j;\n\t\tfor(j=ans*p[i];j<=n;j*=p[i]){\n\t\t\tprintf(\"A %d\\n\",j);\n\t\t\tfflush(stdout);\n\t\t\tscanf(\"%d\",&dd);\n\t\t\tif(dd==0)break;\n\t\t}\n\t\tans*=j/ans/p[i];\n\t}\n\tprintf(\"C %d\",ans);\n//\tcerr<<pr<<\"\\n\";\n\tfwrite(pbuf,1,pp1-pbuf,stdout);\n\treturn 0;\n}\n```\n\n## orzdeaf\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/y89hb7q2.png)\n\n\u6216\u8bb8\u8fd9\u5c31\u662f[deaf](http://deafakioi.tql.moe/)akioi\u5427",
        "postTime": 1599991198,
        "uid": 61502,
        "name": "Nerovix",
        "ccfLevel": 0,
        "title": "CF1406E\u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u4e00\u4e2a\u5f88\u76f4\u63a5\u7684\u601d\u8def\u5c31\u662f\u76f4\u63a5\u62ff\u8d28\u6570\u6765\u7b5b\u51fa $x$\uff0c\u5982\u679c\u628a $x$ \u7684\u6240\u6709\u8d28\u56e0\u5b50\u548c\u5bf9\u5e94\u6307\u6570\u627e\u5230\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u786e\u5b9a $x$\u3002\n\n\u53ef\u4ee5\u8bc1\u660e\u8fd9\u4e48\u505a\u5e73\u5747\u662f\u6700\u5feb\u7684\u3002\n\n\u90a3\u4e48\u5177\u4f53\u600e\u4e48\u505a\u5462\uff1f\u6211\u4eec\u8003\u8651\u628a\u4e00\u4e2a\u8d28\u6570 $p$ \u7684\u6240\u6709\u500d\u6570\u5220\u53bb\uff0c\u82e5\u6709\u4e00\u4e2a\u6570\u6ca1\u6709\u88ab\u5220\u9664\u6210\u529f\uff0c\u90a3\u5c31\u8bf4\u660e $x$ \u4e2d\u6709 $p$ \u8fd9\u4e2a\u56e0\u5b50\u3002\n\n\u4e00\u79cd\u6734\u7d20\u7684\u505a\u6cd5\u662f\u76f4\u63a5\u5220\u6389\u6240\u6709 $p$ \u7684\u500d\u6570\uff0c\u7136\u540e\u67e5\u8be2 $p$ \u7684\u500d\u6570\u6709\u51e0\u4e2a\uff0c\u5982\u679c\u662f $1$ \u7684\u8bdd\u5c31\u8bf4\u660e\u6709 $p$ \u8fd9\u4e2a\u56e0\u5b50\uff0c\u7136\u540e\u63a5\u7740\u4e8c\u5206 $p$ \u7684\u6307\u6570\u3002\n\n\u4f46\u662f\u8fd9\u6837\u7684\u64cd\u4f5c\u6b21\u6570\u662f\u4e0d\u5bf9\u7684\uff0c\u56e0\u4e3a $100000$ \u4ee5\u5185\u7684\u8d28\u6570\u5c31\u6709 $9592$ \u4e2a\uff0c\u4e00\u5220\u4e00\u67e5\u6b21\u6570\u5c31\u591a\u4e86\uff0c\u6240\u4ee5\u8003\u8651\u600e\u4e48\u4f18\u5316\u8fd9\u4e2a\u66b4\u529b\u3002\n\n\u5220\u8d28\u6570\u7684\u8fd9\u4e00\u6b21\u662f\u80af\u5b9a\u8981\u7559\u7740\u7684\uff0c\u4f46\u662f\u67e5\u8be2\u6709\u5927\u91cf\u7684\u5197\u4f59\u64cd\u4f5c\uff0c\u6240\u4ee5\u53ef\u4ee5\u8003\u8651\u5206\u6279\u67e5\u8be2\u3002\n\n\u8fd9\u5c31\u6709\u4e00\u4e9b\u5206\u5757\u7684\u601d\u60f3\u4e86\u3002\n\n\u4e3a\u4e86\u8ba9\u590d\u6742\u5ea6\u5c3d\u53ef\u80fd\u7a0d\u5fae\u5747\u644a\u4e00\u70b9\uff0c\u8bbe\u8d28\u6570\u7684\u4e2a\u6570\u4e3a $num$\uff0c\u5219\u5206\u6210 $\\sqrt {num}$ \u4e2a\u5757\uff0c\u5148\u5168\u90e8\u5220\u6389\u6240\u6709\u5757\u5185\u7684\u8d28\u6570\uff0c\u7136\u540e\u67e5\u8be2\u4e00\u4e2a`A 1`\uff0c\u5c31\u53ef\u4ee5\u67e5\u770b\u4e4b\u524d\u4e00\u5171\u5220\u4e86\u591a\u5c11\u4e2a\u6570\u5b57\u3002\n\n\u5982\u679c\u8fd9\u4e2a\u6570\u5b57\u548c\u4e4b\u524d\u5220\u8d28\u6570\u65f6\u5019\u67e5\u8be2\u4e2a\u6570\u7684\u548c\u4e00\u6837\uff0c\u5c31\u8bf4\u660e $x$ \u4e2d\u662f\u6ca1\u6709\u8fd9\u4e2a\u5757\u5185\u7684\u8d28\u56e0\u5b50\u7684\u3002\n\n\u5982\u679c\u4e0d\u4e00\u6837\uff0c\u8bf4\u660e\u6709\u8fd9\u4e2a\u8d28\u56e0\u5b50\uff0c\u4e00\u4e2a\u4e00\u4e2a\u8bd5\u67e5\u8be2\u5c31\u597d\u4e86\u3002\u82e5\u786e\u5b9a\u6709\u8fd9\u4e2a\u8d28\u56e0\u5b50\u5c31\u5bfb\u627e\u5176\u6307\u6570\uff0c\u7136\u800c\u6211\u4e8c\u5206\u5bb9\u6613\u5199\u9505\uff0c\u5c31\u76f4\u63a5\u4e00\u4e2a\u4e00\u4e2a\u4e58\u4e0a\u53bb\u67e5\u3002\n\n\u53ef\u4ee5\u7ed3\u5408\u4ee3\u7801\u7406\u89e3\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nnamespace STDquantum {\n\ntypedef long long ll;\nconst int N = 2e6 + 10;\nint num, prime[N];\nbool isprime[N];\ninline void Get(int n) { // \u7b5b\u8d28\u6570\n    memset(isprime, 1, sizeof(isprime));\n    isprime[1] = 0;\n    for (int i = 2; i <= n; ++i) {\n        if (isprime[i]) prime[++num] = i;\n        for (int j = 1; j <= num && i * prime[j] <= n; ++j) {\n            isprime[i * prime[j]] = 0;\n            if (i % prime[j] == 0) break;\n        }\n    }\n}\n\nint n, x;\nll ans = 1; // ans\u4ee3\u8868\u73b0\u5728\u627e\u5230\u7684\u6570\n\ninline void query(int type, int value) { // \u8be2\u95ee\u548c\u8bfb\u5165\n    if (type == 1) {\n        printf(\"A %d\\n\", value);\n    } else if (type == 2) {\n        printf(\"B %d\\n\", value);\n    } else {\n        printf(\"C %d\\n\", value);\n        fflush(stdout);\n        exit(0);\n    }\n    fflush(stdout);\n    scanf(\"%d\", &x);\n}\n\ninline void Find(int p) { // \u627e\u5230x\u4e2dp\u7684\u6307\u6570\n    while (ans * p <= n) {\n        query(1, ans * p);\n        if (x) {\n            ans *= p;\n        } else {\n            break;\n        }\n    }\n}\n\ninline void main() {\n    scanf(\"%d\", &n), Get(n);\n    int s = sqrt(num); // \u5206\u6210s\u4e2a\u5757\n    for (int i = 1, cur = n, sum; i <= num; i += s) { // \u679a\u4e3e\u5757\u7684\u5de6\u7aef\u70b9\n        sum = 0;\n        for (int j = 0; i + j <= num && j < s; ++j) { // \u679a\u4e3e\u5757\u5185\u7b2c\u51e0\u4e2a\u70b9\n            query(2, prime[i + j]), sum += x; // \u67e5\u8be2\u5e76\u52a0\u548c\n        }\n        query(1, 1);\n        int tmp = x; // \u4e34\u65f6\u8bb0\u5f55\u4e00\u4e0b\u73b0\u5728\u96c6\u5408\u5185\u8fd8\u5269\u591a\u5c11\u6570\n        if (sum > cur - x) { // \u5982\u679c\u8fd9\u6b21\u5220\u53bb\u7684\u6570\u7684\u603b\u6570\u5927\u4e8e\u5b9e\u9645\u51cf\u5c11\u7684\u603b\u6570\uff0c\u5c31\u8bf4\u660e\u8d28\u56e0\u5b50\u5728\u6b64\u5757\u5185\u51fa\u73b0\u8fc7\n            for (int j = 0; i + j <= num && j < s; ++j) {\n                Find(prime[i + j]);\n            }\n        }\n        cur = tmp; // \u66f4\u65b0\u4e00\u4e0b\u96c6\u5408\u91cc\u5f53\u524d\u6570\u5b57\u4e2a\u6570\n    }\n    query(3, ans); // \u8f93\u51fa\u7b54\u6848\uff0c\u56e0\u4e3aans\u521d\u59cb\u5316\u5c31\u662f1\u6240\u4ee5\u6ca1\u5fc5\u8981\u7279\u5224\u4e86\u3002\n}\n\n}   // namespace STDquantum\n\nint main() {\n    STDquantum::main();\n    return 0;\n}\n```\n\n",
        "postTime": 1599989095,
        "uid": 135631,
        "name": "STDquantum",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1406E \u3010Deleting Numbers\u3011"
    }
]