[
    {
        "content": "CF1545D AquaMoon and Wrong Coordinate *3000\n\n\u8fd9\u9898\u4ed6\u5988\u7684\u5c31\u4e0d\u662f\u4eba\u80fd\u60f3\u51fa\u6765\u7684\u3002\n\n\u6ce8\u610f\u4ee5\u4e0b\u9898\u89e3\u9ed8\u8ba4\u521d\u59cb\u4f4d\u7f6e\u662f $1$ \u65f6\u523b\u3002\n\n\u9996\u5148\u6211\u4eec\u786e\u5b9a\u54ea\u4e00\u884c\u51fa\u4e86\u95ee\u9898\u662f\u5e73\u51e1\u7684\u3002\n\n\n\u5728 $t$ \u65f6\u523b\u65f6\uff0c\u8fd9\u4e9b\u70b9\u7684\u5750\u6807\u548c\u5e94\u8be5\u662f $\\sum_{i=1}^n x_i+t\\times v_i$\u3002\n\n\u5728 $t+1$ \u65f6\u523b\u65f6\uff0c\u8fd9\u4e9b\u70b9\u7684\u5750\u6807\u548c\u5e94\u8be5\u662f $\\sum_{i=1}^n x_i+(t+1)\\times v_i$\u3002\n\n\u7136\u540e\u628a\u8fd9\u4e24\u4e2a\u5f0f\u5b50\u76f8\u51cf\u53d1\u73b0\u662f $\\sum{i=1}^n v_i$\uff0c\u81f3\u4e8e\u8fd9\u4e2a $v_i$ \u662f\u591a\u5c11\u5e76\u4e0d\u91cd\u8981\uff0c\u56e0\u4e3a $v_i$ \u4e0d\u4f1a\u53d8\uff0c\u6240\u4ee5\u6211\u4eec\u628a\u6bcf\u4e2a\u65f6\u523b\u7684\u5750\u6807\u548c\u76f8\u51cf\uff0c\u6211\u4eec\u627e\u5230 **\u7b2c\u4e00\u4e2a** $x$ \u4f7f\u5f97\u7b2c $x$ \u884c\u51cf\u53bb\u7b2c $x-1$ \u884c\u7684\u503c\u4e0e\u5176\u4ed6\u7684\u503c\u4e0d\u540c\uff0c\u90a3\u4e48\u95ee\u9898\u51fa\u5728\u7b2c $x$ \u884c\u4e0a\u3002\n\n\u786e\u5b9a\u54ea\u4e00\u884c\uff0c\u5982\u4f55\u786e\u5b9a\u5177\u4f53\u8be5\u6539\u591a\u5c11\u5462\u3002\u8fd9\u91cc\u5c31\u8981\u7528\u5230\u4eba\u7c7b\u667a\u6167\u4e86\u3002\n\n\u6211\u4eec\u8003\u8651\u8bb0\u51fd\u6570 $f(t)=\\sum_{i=1}^m(x_i+t\\times v_i)^2$ \u5373\u6bcf\u4e00\u884c\u4f4d\u79fb\u7684\u5e73\u65b9\u548c\u3002\n\n\u6211\u4eec\u5c55\u5f00\u4e00\u4e0b $f(t+1)$ \u4e0e $f(t-1)$\uff0c\u53d1\u73b0\u4e00\u4e2a\u5f0f\u5b50\u3002\n\n$f(t+1)+f(t-1)-2*f(t)=\\sum_{i=1}^m 2v_i$\u3002\n\n\u6240\u4ee5\u53ef\u4ee5\u5f97\u5230\uff0c\u4efb\u610f\u8fde\u7eed\u4e09\u4e2a\u65f6\u523b\u7684\u5750\u6807\u7684\u5e73\u65b9\u548c\u540c\u6837\u662f\u56fa\u5b9a\u7684\u3002\n\n\u800c\u6211\u4eec\u53c8\u77e5\u9053\u54ea\u4e00\u65f6\u523b\u51fa\u4e86\u95ee\u9898\uff0c\u6240\u4ee5\u6211\u4eec\u679a\u4e3e\u8fd9\u4e00\u65f6\u523b\u7684\u6bcf\u4e00\u4e2a\u5750\u6807\u628a\u4ed6\u6539\u6210 $k$ \uff0c\u5982\u679c\u54ea\u4e00\u6b21\u6539\u4e86\u4e4b\u540e\u4e0a\u5f0f\u7684\u503c\u4e0e\u6b63\u5e38\u7684\u503c\u76f8\u7b49\uff0c\u90a3\u4e48\u8fd9\u4e2a\u4f4d\u7f6e\u5c31\u8981\u6539\u6210 $k$ \uff0c\u8fd9\u9898\u5c31\u505a\u5b8c\u4e86\u3002\n\n\u8fd8\u6709\u51e0\u4e2a\u7ec6\u8282\uff0c\u7b2c\u4e00\u4e2a\u662f\u5e94\u8be5\u6539\u6210\u4ec0\u4e48\u3002\n\n\u6211\u4eec\u5047\u8bbe\u4e24\u4e2a\u65f6\u523b\u65f6\u95f4\u5e94\u8be5\u5dee $x$ \u4f46\u5b9e\u9645\u4e0a\u5dee\u4e86 $y$\uff0c\u90a3\u4e48\u56e0\u4e3a\u6211\u4eec\u5047\u8bbe\u4e86\u5176\u4ed6\u4f4d\u7f6e\u6ca1\u9519\uff0c\u6240\u4ee5\u4e00\u5b9a\u662f\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u8bf4\u5f53\u524d\u5750\u6807\u5e94\u8be5 $-y+x$ \u3002\n\n\u7136\u540e\u8fd8\u6709\u56e0\u4e3a\u6211\u4eec\u8fde\u7eed\u6700\u540e\u4e00\u6b65\u8981\u8fde\u7eed\u53d6\u4e09\u4e2a\u65f6\u523b\u5f53\u4f5c\u6807\u51c6\u503c\uff0c\u6240\u4ee5\u5982\u679c\u95ee\u9898\u51fa\u5728\u524d\u4e09\u4e2a\uff0c\u90a3\u4e48\u6807\u51c6\u503c\u5c31\u53d6 $t=5,6,7$ \u65f6\u523b\u7684 $f(t)$\uff0c\u5426\u5219\u5c31\u53d6\u524d\u4e09\u4e2a\u3002\n\n\u5177\u4f53\u770b\u4ee3\u7801\u3002\n\n```cpp\n\tfor(int i=2;i<=k;i++){\n\t\tif(mp[s[i]-s[i-1]]==1){\n\t\t\tflag=i;\n\t\t\tif(i<=3) flag2=5;\n\t\t\telse flag2=2;\n\t\t\tbreak;\n\t\t}\n\t}\n\tcout<<flag-1<<\" \";//\u8fd9\u91cc\u8981\u51cf\u4e00\u662f\u56e0\u4e3a\u9898\u76ee\u9ed8\u8ba4\u521d\u59cb\u65f6\u523b\u662f0\uff0c\u800c\u6211\u662f\u6309\u71671\u5904\u7406\u7684\n\tint tmp=s[flag2+1]-s[flag2];int tmp2=v[flag2+1]+v[flag2-1]-2*v[flag2];\n\tfor(int i=1;i<=n;i++){\n\t\tint ans=pos[flag][i]-(s[flag]-s[flag-1])+tmp;\n\t\t// cout<<ans<<\" \"<<tmp<<\" \"<<\" \"<<s[flag]-s[flag-1]<<endl;\n\t\tif(v[flag+1]+v[flag-1]-2*(v[flag]+ans*ans-pos[flag][i]*pos[flag][i])==tmp2){\n\t\t\tcout<<ans<<\"\\n\";\n\t\t\tcout.flush();\n\t\t\treturn 0;\n\t\t}\t\n\t}\n```",
        "postTime": 1677239919,
        "uid": 369904,
        "name": "zplqwq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3CF1545DAquaMoon and Wrong Coordinate"
    },
    {
        "content": "\u5f88\u795e\u7684\u6570\u5b66\u9898\u3002\n\n\u9996\u5148\u6c42\u51fa\u54ea\u4e00\u5929\u4fee\u6539\u7684\u975e\u5e38\u7b80\u5355\u3002\u7531\u4e8e\u6240\u6709\u4eba\u7684\u79fb\u52a8\u901f\u5ea6\u90fd\u662f\u5b9a\u503c\uff0c\u6240\u4ee5 $\\sum x_i$ \u662f\u4e00\u4e2a\u5173\u4e8e\u65f6\u95f4\u7684\u4e00\u6b21\u51fd\u6570\uff0c\u73b0\u5728\u90fd\u7ed9\u51fa\u4e86\u81f3\u5c11 $7$ \u5929\u7684\u4fe1\u606f\uff0c\u4e0d\u96be\u6c42\u51fa\u4e0d\u5728\u4e00\u6b21\u51fd\u6570\u4e0a\u7684\u70b9\u3002\n\n\u4f46\u662f\u8fd9\u4e0d\u8db3\u4ee5\u6c42\u51fa\u4fee\u6539\u4e86\u54ea\u4e2a\u4eba\uff0c\u5982\u679c\u6211\u4eec\u679a\u4e3e\u4fee\u6539\u7684\u662f\u7b2c $i$ \u4e2a\u4eba\uff0c\u53ef\u4ee5\u6839\u636e\u8fd9\u4e00\u5929\u7684 $\\sum x_i$ \u548c\u4e00\u6b21\u51fd\u6570\u4e0a\u7684\u53d6\u503c\u6c42\u51fa\u8fd9\u4e2a\u4eba\u4fee\u6539\u524d\u7684\u503c\u3002\n\n\u53ef\u662f\u8fd8\u8981\u68c0\u67e5\u8fd9\u4e2a\u4eba\u4fee\u6539\u540e\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\u3002\n\n\u73b0\u5728\u6211\u4eec\u6c42\u5f97 $\\sum x_i$ \uff0c\u8003\u8651 $\\sum x_i^2$ \u662f\u5426\u6709\u7528\uff08\u8bb2\u9053\u7406\u8fd9\u4e00\u6b65\u771f\u7684\u4e0d\u597d\u60f3\n\n\u5b9a\u4e49 $g_x$ \u4e3a\u7b2c $x$ \u5929\u7684 $\\sum x_i^2$\u3002\n\n\u5173\u952e\u7ed3\u8bba\n\n$$g_{i - 1}+g_{i + 1} = 2g_i  +2\\sum v_i^2$$ \n\n\u66b4\u529b\u5c55\u5f00\u4e0d\u96be\u9a8c\u8bc1\u8fd9\u662f\u6b63\u786e\u7684\uff0c\u5173\u952e\u662f\u6211\u4eec\u53ea\u7528\u77e5\u9053 $g_{i +1} + g_{i - 1} - 2g_i$ \u5b83\u662f\u4e2a\u5b9a\u503c\u5c31\u884c\u3002\n\n\u8fd9\u6837\u6211\u4eec\u76f4\u63a5\u9a8c\u8bc1\u4fee\u6539\u540e\u7684 $g$ \u662f\u5426\u6ee1\u8db3\u6761\u4ef6\u5373\u53ef\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal{O}(mk)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define pre(i,a,b) for(int i=a;i>=b;i--)\n#define N 1005\n#define int long long\nusing namespace std;\nint n, m, a[N][N], f[N], g[N];\nsigned main(){\n\tscanf(\"%lld%lld\", &m, &n);\n\trep(i, 1, n)rep(j, 1, m)\n\t\tscanf(\"%lld\", &a[i][j]), \n\t\tf[i] += a[i][j], \n\t\tg[i] += a[i][j] * a[i][j];\n\tint sp = 0, cen = 0;\n\trep(i, 1, n - 2)if(f[i] + f[i + 2] == 2 * f[i + 1])\n\t\t{sp = f[i + 1] - f[i], cen = i + 1; break;}\n\tint mom = 0, sig = 0;\n\trep(i, 1, n)if(f[i] - f[cen] != sp * (i - cen)){mom = i;break;}\n\tif(mom <= 3)sig = g[mom + 1] + g[mom + 3] - 2 * g[mom + 2];\n\telse sig = g[mom - 3] + g[mom - 1] - 2 * g[mom - 2];\n\tint dta = f[cen] + sp * (mom - cen) - f[mom], ed;\n\tif(mom <= 3)ed = 2 * g[mom + 1] - g[mom + 2] + sig;\n\telse ed = 2 * g[mom - 1] - g[mom - 2] + sig;\n\trep(i, 1, m){\n\t\tif(ed == g[mom] - a[mom][i] * a[mom][i] + (a[mom][i] + dta) * (a[mom][i] + dta)){\n\t\t\tcout<<mom - 1<<\" \"<<a[mom][i] + dta<<endl;;\n\t\t\treturn 0;\n\t\t}\n\t}\n\tputs(\"No Solution ! ! !\");\n\treturn 0;\n}\n```",
        "postTime": 1626076685,
        "uid": 119261,
        "name": "7KByte",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011CF1545D AquaMoon and Wrong Coordinate"
    },
    {
        "content": "\u53c2\u8003\u4e86\u5b98\u65b9\u9898\u89e3\n\n\u8003\u8651\u600e\u4e48\u80fd\u627e\u51fa\u6765\u88ab\u4fee\u6539\u7684\u4f4d\u7f6e\uff0c\u9700\u8981\u627e\u5230\u4e00\u4e9b\u4e0e\u987a\u5e8f\u65e0\u5173\u7684\u6027\u8d28\uff0c\u5bb9\u6613\u53d1\u73b0\u56e0\u4e3a\u65f6\u523b\u662f\u76f8\u90bb\u7684\uff0c\u6bcf\u4e2a\u76f8\u90bb\u65f6\u523b\u7684\u6240\u6709\u4eba\u5750\u6807\u603b\u548c\u4e4b\u5dee\u90fd\u662f $\\sum v_i$\n\n\u6240\u4ee5\u53ea\u8981\u627e\u5230\u5dee\u4e0d\u5bf9\u7684\u90a3\u4e00\u4e2a\u5c31\u662f\u9519\u8bef\u7684\u4f4d\u7f6e\n\n\u590d\u539f\u8fd9\u4e2a\u4f4d\u7f6e\u9700\u8981\u9760\u66f4\u201c\u7cbe\u7ec6\u201d\u7684\u6027\u8d28\uff0c\u8003\u8651\u8bb0\u5f55\u4f4d\u7f6e\u7684\u5e73\u65b9\u548c $S^2(t)$ \u4e3a $t$ \u65f6\u523b\u7684\u4f4d\u7f6e\u7684\u5e73\u65b9\u548c\uff0c\u539f\u56e0\u7c7b\u4f3c\u5e73\u5747\u6570\u548c\u65b9\u5dee\n\n\u63a8\u4e0b\u5f0f\u5b50\u80fd\u591f\u53d1\u73b0\uff1a\n\n\n$S^2(t)=\\sum\\limits_{i=1}^{m}(x_i+v_it)^2=\\sum\\limits_{i=1}^{m}x_i^2+2v_ix_it+v_i^2t^2$\n\n$S^2(t+1)=\\sum\\limits_{i=1}^{m}(x_i+v_i(t+1))^2=\\sum\\limits_{i=1}^{m}x_i^2+2v_ix_it+2v_ix_i+v_i^2t^2+2tv_i^2t+v_i^2$\n\n$S^2(t+2)=\\sum\\limits_{i=1}^{m}(x_i+v_i(t+2))^2=\\sum\\limits_{i=1}^{m}x_i^2+2v_ix_it+4v_ix_i+v_i^2t^2+4v_i^2t+4v_i^2$\n\n\u6240\u4ee5\uff1a\n\n$S^2(t+1)+S^2(t-1)-2S^2(t)=2\\sum v_i^2$\n\n\u6240\u4ee5\u53ea\u8981\u968f\u4fbf\u627e\u4e09\u4e2a\u4f4d\u7f6e\u5f97\u5230\u901f\u5ea6\u7684\u5e73\u65b9\u548c\n\n\u7136\u540e\u679a\u4e3e\u6bcf\u4e00\u4f4d\u5c31\u53ef\u4ee5\u627e\u5230\u539f\u59cb\u503c\u4e86\n\n```cpp\n#include <array>\n#include <iostream>\n#include <map>\n#include <vector>\nusing namespace std;\nusing ll = long long;\nint n, k;\nmap<int, int> cnt;\nint main() {\n    cin >> n >> k;\n    vector<vector<int>> record(k, vector<int>(n));\n    vector<ll> s(k), s2(k);\n    for (int i = 0; i < k; i++) {\n        for (int j = 0; j < n; j++) {\n            cin >> record[i][j];\n            s[i] += record[i][j];\n            s2[i] += record[i][j] * record[i][j];\n        }\n    }\n    for (int i = 0; i < k - 1; i++) {\n        cnt[s[i + 1] - s[i]]++;\n    }\n    int pos;\n    int cpos = 1;\n    for (int i = 0; i < k - 1; i++) {\n        if (cnt[s[i + 1] - s[i]] == 1) {\n            pos  = i + 1;\n            cpos = (pos < 3 ? 4 : 1); // FIX\n            break;\n        }\n    }\n    int d  = (s[cpos] - s[cpos - 1]);\n    int d2 = s2[cpos + 1] + s2[cpos - 1] - 2 * s2[cpos];\n    cout << pos << \" \";\n    for (int i = 0; i < n; i++) {\n        int now = record[pos][i];\n        int res = record[pos][i] + d - (s[pos] - s[pos - 1]);\n        int dif = res * res - now * now;\n        if (s2[pos + 1] + s2[pos - 1] - 2 * (s2[pos] + dif) == d2) {\n            cout << res;\n            cout.flush();\n            return 0;\n        }\n    }\n    return 0;\n}\n// Asusetic eru quionours\n```\n\n",
        "postTime": 1626079810,
        "uid": 46099,
        "name": "YCS_GG",
        "ccfLevel": 0,
        "title": "CF1545D AquaMoon and Wrong Coordinate"
    }
]