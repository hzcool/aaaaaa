[
    {
        "content": "\u9996\u5148\u53ef\u4ee5\u53d1\u73b0\u4e00\u5b9a\u6709\u4e00\u4e2a\u5408\u6cd5\u7684\u6392\u5217\u4e3a$p_i=i$\uff0c\u56e0\u6b64\u5982\u679c\u5bf9\u4e8e\u67d0\u4e2a$i$\u51fa\u73b0\u4e86$x_i<i$\uff0c\u663e\u7136\u6b64\u65f6\u4e00\u5b9a\u65e0\u89e3\u3002\u6b64\u5916\u8fd8\u53ef\u4ee5\u5f97\u51fa$b_i\\ge a_i+t$\u3002\n\n\u8003\u8651$x_i=c$\u4ee3\u8868\u4ec0\u4e48\uff0c\u8fd9\u610f\u5473\u7740\u5b58\u5728\u4e00\u4e2a\u6392\u5217$p$\uff0c\u5176\u4e2d\u7b2c$i$\u8f86\u516c\u4ea4\u8f66\u7684\u51fa\u73b0\u65f6\u523b\u4e3a$b_c$\uff0c\u800c\u6b64\u65f6$i+1\\sim c$\u7684\u516c\u4ea4\u8f66\u4f1a\u53bb\u54ea\u91cc\uff1f\u90a3\u4e48\u6b64\u65f6\u6709\u4e00\u79cd\u8d2a\u5fc3\u7684\u6784\u9020\u65b9\u5f0f\uff1a\n$$\ni\\to c,i+1\\to i,i+2\\to i-1,\\cdots,c\\to c-1\n$$\n\u663e\u7136\u8fd9\u5df2\u7ecf\u662f\u6700\u4f18\u7684\u4e86\u3002\n\n\u56e0\u6b64\u8003\u8651\u521d\u59cb\u5316$b_i=a_i+t$\u3002\n\n\u7136\u540e\u626b\u4e00\u904d\u8bb0\u5f55\u5f53\u524d$mx=\\max\\{a_i \\}$\uff0c\u82e5$mx>i$\uff0c\u5219\u8981$b_i=b_{i+1}$\u5e76\u4e14\u5c06$b_{i+1}$\u52a0$1$\u3002\n\n\u6700\u540e\u518d\u5224\u65ad\u4e00\u4e0b\u6bcf\u4e2a\u6570\u80fd\u5426\u5230\u8fbe\u5bf9\u5e94\u7684$x_i$\u5373\u53ef\u3002\n\n```\ninline void evil(){puts(\"No\");exit(0);}\nint n,t;\nint a[222222],x[222222];\nint b[222222];\nsigned main()\n{\n    n=read(),t=read();\n    R(i,1,n) a[i]=read();\n    R(i,1,n) \n    {\n        x[i]=read();\n        if(x[i]<i) evil();\n    }\n    R(i,1,n) b[i]=a[i]+t;\n    int mx=0;\n    R(i,1,n) \n    {\n        mx=max(mx,x[i]);\n        if(mx>i) b[i]=b[i+1],++b[i+1];\n    }\n    for(int L=1,R=1;L<=n;L++)\n    {\n        if(R<=L) R=L+1;\n        while(R<=n&&a[R]+t<=b[R-1]) ++R;\n        if(x[L]!=R-1) evil();\n    }\n    puts(\"Yes\");\n    R(i,1,n) printf(\"%lld \",b[i]); puts(\"\");\n}\n\n```",
        "postTime": 1624927163,
        "uid": 115779,
        "name": "\u6781\u5bd2\u795e\u51b0",
        "ccfLevel": 0,
        "title": "cf1039a"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1039A)\n\n## \u601d\u8def\n\n\u7ed9\u51fa\u4e00\u79cd\u975e\u5e38\u5f31\u667a\u7684\u7ebf\u6bb5\u6811\u89e3\u6cd5\u3002\n\n\u8bbe\u521d\u59cb\u7684 $ans_i=a_i+t$\uff0c\u5219\u5e8f\u5217\uff1a$p_i=i$ \u4e00\u5b9a\u6ee1\u8db3\u6761\u4ef6\uff0c\u5bb9\u6613\u53d1\u73b0\u82e5 $x_i<i$ \u80af\u5b9a\u65e0\u89e3\u3002\n\n\u5982\u679c\u6211\u4eec\u60f3\u8981\u8ba9 $x_i$ \u6ee1\u8db3\u6761\u4ef6\uff0c\u90a3\u4e48\u4e00\u79cd\u6784\u9020\u65b9\u5f0f\u5c31\u662f\u4ee4 $p_j=j-1\\ (i<j \\le x_i)$\uff0c\u6240\u4ee5\u5bf9\u4e8e\u6240\u6709\u7684 $ans_{j-1}$ \u90fd\u8981\u6ee1\u8db3 $ans_{j-1} \\ge a_{j}+t$\uff0c\u4e00\u79cd\u5f31\u667a\u7684\u60f3\u6cd5\u5c31\u662f\u76f4\u63a5\u7ebf\u6bb5\u6811\u533a\u95f4\u8986\u76d6\u3002\n\n\u6700\u540e\u6ce8\u610f\u5224\u65ad\u4e00\u4e0b\u65e0\u89e3\uff0c\u5982\u679c\u53d1\u73b0\u5f53\u524d\u7684 $x_i$ \u53ef\u4ee5\u53d6\u5230\u66f4\u5927\uff0c\u90a3\u4e48\u4e5f\u662f\u65e0\u89e3\u7684\u3002\n\n\u5982\u6b64\u6a21\u62df\u5373\u53ef\u3002\n\n## \u4ee3\u7801\n\n```cpp\n//A tree without skin will surely die.\n//A man without face will be alive\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define mid ((l+r)>>1)\n#define sqr(x) ((x)*(x))\n#define all(x) (x).begin(),(x).end()\n#define Tim ((double)clock()/CLOCKS_PER_SEC)\n#define lowbit(x) (x&-x)\nint const N=2e5+10;\nint a[N],x[N],ans[N];\nstruct Segment_Tree{\n\t#define ls (x<<1)\n\t#define rs (x<<1|1)\n\tint c[N<<2],lazy[N<<2];\n\tinline void pushdown(int x){\n\t\tlazy[ls]=lazy[rs]=1;\n\t\tc[ls]=c[rs]=1;\n\t\tlazy[x]=0;\n\t}\n\tinline void update(int x,int l,int r,int ll,int rr){\n\t\tif (ll<=l && r<=rr){lazy[x]=c[x]=1;return;}\n\t\tif (lazy[x]) pushdown(x);\n\t\tif (ll<=mid) update(ls,l,mid,ll,rr);\n\t\tif (mid<rr) update(rs,mid+1,r,ll,rr);\n\t}\n\tinline int query(int x,int l,int r,int p){\n\t\tif (l==r) return c[x];\n\t\tif (lazy[x]) pushdown(x);\n\t\tif (p<=mid) return query(ls,l,mid,p);\n\t\telse return query(rs,mid+1,r,p);\n\t}\n}T;\nsigned main(){\n\tios::sync_with_stdio(false);\n\tcin.tie(0),cout.tie(0);\n\tint n,t;cin>>n>>t;\n\tfor (int i=1;i<=n;++i) cin>>a[i];\n\tfor (int i=1;i<=n;++i) cin>>x[i];\n\tfor (int i=1;i<=n;++i){\n\t\tif (x[i]<i){cout<<\"No\\n\";return 0;}\n\t\tif (i==x[i]) continue;\n\t\tT.update(1,1,n,i,x[i]-1);\n\t}\n\tfor (int i=1;i<=n;++i){\n\t\tans[i]=a[i]+t;\n\t\tans[i]=max(ans[i-1]+1,ans[i]);\n\t\tif (T.query(1,1,n,i)) ans[i]=max(ans[i],a[i+1]+t);\n\t}\n\tfor (int i=1;i<=n;++i)\n\t\tif (x[i]!=n && ans[x[i]]>=a[x[i]+1]+t){cout<<\"No\\n\";return 0;}\n\tcout<<\"Yes\\n\";\n\tfor (int i=1;i<=n;++i) cout<<ans[i]<<' ';\n\tcout<<'\\n';\n\treturn 0;\n}\n```",
        "postTime": 1670487159,
        "uid": 253608,
        "name": "Tx_Lcy",
        "ccfLevel": 7,
        "title": "CF1039A Timetable"
    },
    {
        "content": "## \u4e00\u9053\u8f83\u7b80\u5355\u7684\u6784\u9020\u9898\n\n\u601d\u8def:\u5bf9\u4e8e\u6bcf\u4e00\u4e2ai(1<=i<=n),x[i]>=i,\u6240\u4ee5\u8bbe\u7b2ci\u4e2a\u8f66\u53ef\u4ee5\u505c\u5728x[i]\u5904,\u5219\u5bf9\u4e8ej(i<j<=x),\u4ee4\u8f66j\u505c\u5728j-1\u5904,\u5373b[j-1]>=a[j]+t.\u7136\u540e\u76f4\u63a5\u6784\u9020\u5373\u53ef,\u6784\u9020\u4e0d\u4e86\u5c31\u8f93\u51faNO.\n\ncode:\n```\n#include<bits/stdc++.h>\n#define ll long long//\u6ce8\u610f\u6570\u636e\u8303\u56f4,int\u4f1a\u70b8(\u540cNOIP2018\u666e\u53caT2) \n#define reg register//\u7384\u5b66\u52a0\u901f\u4f5c\u7528 \nusing namespace std;\nll a[200005],b[200005],x[200005],n,t,tmp;//long long\u8b66\u544a! \nint main()\n{\n\tscanf(\"%lld%lld\",&n,&t);//\u4e0d\u52a0lld\u4f1a\u542c\u53d6WA\u58f0\u4e00\u7247 \n\tfor(reg int i=1;i<=n;i++)scanf(\"%lld\",&a[i]);\n\tfor(reg int i=1;i<=n;i++)scanf(\"%lld\",&x[i]);//\u540c\u4e0a \n\tfor(reg int i=1;i<=n;i++)\n    if(x[i]<x[i-1]||x[i]<i)return puts(\"NO\"),0;//\u65e0\u6cd5\u6784\u9020,\u8f93\u51faNO \n    for(reg int i=1;i<=n-1;i++)b[i]=a[i+1]+t-!(x[i]==x[i+1]);\n    b[n]=a[n]+t+1;\n    tmp=n;//\u6784\u9020\u5b8c\u6210 \n    for(reg int i=n;i>=1;i--)\n    {\n        if(tmp!=x[i]||b[i]<=b[i-1])return puts(\"NO\"),0;//\u6784\u9020\u4e0d\u5bf9\u5c31\u8f93\u51faNO \n        if(b[i-1]-a[i]<t)tmp=i-1;\n    }//\u68c0\u9a8c\u6784\u9020 \n    puts(\"YES\");\n    for(reg int i=1;i<=n;i++)printf(\"%lld \",b[i]);//\u8f93\u51fa\u6784\u9020\u540e\u7684\u65b9\u6848 \n    return 0;\n}\n```\n## \u4e3a\u4e86\u4e0d\u53d8\u68d5,\u62d2\u7edd\u6284\u88ad",
        "postTime": 1543130162,
        "uid": 48993,
        "name": "liuyifan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1039A \u3010Timetable\u3011"
    }
]