[
    {
        "content": "\u8003\u8651\u533a\u95f4dp\n\n$dp_{i,j}$\u8868\u793a$i$\u70b9\u5230$j$\u70b9\u6240\u622a\u4e0b\u6765\u7684\u56fe\u5f62\u7684\u65b9\u6848\u6570\uff0c\u5982\u4e0b\u56fe\u4e2d\u9634\u5f71\u90e8\u5206\u7684\u5212\u5206\u65b9\u6848\u6570\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nmi0pddi.png)\n\n$dp_{i,j}=\\sum\\limits_{x=i+1}^{j-1}dp_{i,x}dp_{x,j},$\u8868\u793a\u5148\u4ee5$ij$\u4e3a$1$\u8fb9\u5256\u51fa\u4e00\u4e2a\u4e09\u89d2\u5f62\uff0c\u518d\u6309\u7167\u4e58\u6cd5\u539f\u7406\u4e0e\u52a0\u6cd5\u539f\u7406\u5f97\u5230\u7ed3\u679c,\u5982\u4e0b\u56fe\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/v2v2gid4.png)\n\n\u8f6c\u79fb\u6761\u4ef6\u4e3a$x$\u70b9\u5728$ji$\u7684\u53f3\u8fb9\uff0c\u5982\u4e0a\u56fe,\u7528\u53c9\u4e58\u5224\u65ad\n\n$\\overrightarrow{ij} \\times \\overrightarrow{ix}>0$\u65f6$x$\u5728$ji$\u53f3\u8fb9\n\n$\\mathfrak{Talk\\ is\\ cheap,show\\ you\\ the\\ code.}$\n\n```cpp\n#include<map>\n#include<queue>\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\n# define ll long long\n# define read read1<int>()\n# define Type template<class T>\nType T read1(){\n    T t=0;\n    bool vis=0;\n    char k;\n    do (k=getchar())=='-'&&(vis=1);while('0'>k||k>'9');\n    while('0'<=k&&k<='9')t=(t<<3)+(t<<1)+(k^'0'),k=getchar();\n    return vis?-t:t;\n}\nType void print(T arg1){cout<<arg1;}\nType void get(T arg1){cout<<arg1;}\ntemplate<typename T,typename... Ts>\n    void print(T arg1, Ts... arg_left){\n        cout<<arg1<<\" \";\n        print(arg_left...);\n    }\ntemplate<typename T,typename... Ts>\n    void get(T arg1, Ts... arg_left){\n        cout<<arg1<<\" \";\n        print(arg_left...);\n    }\n# define mod 1000000007\n# define A pair<int,int>\nA a[205];\nint s,dp[205][205];\nA operator -(const A &x,const A &y){return A(x.first-y.first,x.second-y.second);}\nll operator *(const A &x,const A &y){return 1ll*x.first*y.second-1ll*x.second*y.first;}\nint main(){\n    s=read;ll t=0;\n    for(int i=1;i<=s;++i){\n        a[i]=make_pair(read,read);\n        if(i!=1)t+=a[i-1]*a[i];\n    }\n    t+=a[s]*a[1];\n    for(int i=1;i<s;++i)\n        dp[i][i+1]=1;\n    if(t>0)reverse(a+1,a+s+1);\n    for(int i=s;--i;)\n        for(int j=i+2;j<=s;++j)\n            for(int k=i+1;k<j;++k)\n                if((a[j]-a[i])*(a[k]-a[i])>0)\n                    dp[i][j]=(dp[i][j]+1ll*dp[i][k]*dp[k][j])%mod;\n    printf(\"%d\",dp[1][s]);\n    return 0;\n}\n```",
        "postTime": 1595987827,
        "uid": 108067,
        "name": "\u4e1b\u96e8",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF437E \u3010The Child and Polygon\u3011"
    },
    {
        "content": "[\u4e5f\u53ef\u4ee5\u5728\u8fd9\u91cc\u770b\u5566](https://foreverlasting1202.github.io/2019/07/02/NOIP2019%E5%89%8D%E7%9A%84%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95/)\n\n\u52a8\u6001\u89c4\u5212\u3002\n\n\u8003\u8651\u8bbe\u8ba1$dp[l][r]$\u8868\u793a$l$\u5230$r$\u53f7\u70b9\u7684\u65b9\u6848\u6570\u3002\u5982\u679c\u8fd9$n$\u4e2a\u70b9\u5728\u4e00\u4e2a\u51f8\u5305\u4e0a\u7684\u8bdd\uff0c\u8003\u8651\u679a\u4e3e\u4e00\u6761\u8fb9\u7136\u540e\u5bf9\u5e94\u4efb\u610f\u7684\u4e09\u89d2\u5f62\u6765\u8f6c\u79fb\uff0c\u90a3\u4e48\u5c31\u662f$dp[l][r]=\\sum_{k=l}^{r} dp[l][k]\\ast dp[k][r]$\uff0c\u521d\u59cb\u5316\u662f$dp[i][i+1]=1$\u3002\u5982\u679c\u6709\u4e00\u5757\u5730\u65b9\u662f\u51f9\u8fdb\u53bb\u7684\u8bdd\uff0c\u5c31\u6784\u4e0d\u6210\u4e09\u89d2\u5f62\u4e86\uff0c\u65e0\u6cd5\u8f6c\u79fb\u3002\u6240\u4ee5\u53c9\u79ef\u5224\u4e00\u4e0b\u8f6c\u79fb\u6761\u4ef6\u5c31\u597d\u4e86\u3002\u590d\u6742\u5ea6$O(n^3)$\u3002\n\ncode:\n```cpp\n//2019.7.6 by ljz\n#include<bits/stdc++.h>\nusing namespace std;\n#define res register int\n#define LL long long\n#define inf 0x3f3f3f3f\n#define INF 0x3f3f3f3f3f3f3f\n#define eps 5.6e-8\n#define RG register\n#define db long double\n#define pc(x) __builtin_popcount(x)\ntypedef pair<int,int> Pair;\n#define mp make_pair\n#define fi first\n#define se second\n#define pi acos(-1.0)\n#define pb push_back\n#define gc getchar\n//inline char gc() {\n//    static char buf[100000],*p1,*p2;\n//    return p1==p2&&(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)?EOF:*p1++;\n//}\n//inline int read() {\n//    res s=0,ch=gc();\n//    while(ch<'0'||ch>'9')ch=gc();\n//    while(ch>='0'&&ch<='9')s=s*10+ch-'0',ch=gc();\n//    return s;\n//}\ninline int read() {\n    res s=0,ch=gc(),w=1;\n    while(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=gc();}\n    while(ch>='0'&&ch<='9')s=s*10+ch-'0',ch=gc();\n    return s*w;\n}\n//inline LL Read() {\n//    RG LL s=0;\n//    res ch=gc();\n//    while(ch<'0'||ch>'9')ch=gc();\n//    while(ch>='0'&&ch<='9')s=s*10+ch-'0',ch=gc();\n//    return s;\n//}\n//inline LL Read() {\n//    RG LL s=0;\n//    res ch=gc(),w=1;\n//    while(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=gc();}\n//    while(ch>='0'&&ch<='9')s=s*10+ch-'0',ch=gc();\n//    return s*w;\n//}\ninline void swap(res &x,res &y) {\n    x^=y^=x^=y;\n}\n//mt19937 rng(chrono::steady_clock::now().time_since_epoch().count());\nconst int kcz=1e9+7;\nconst int N=2e2+10;\nnamespace MAIN{\n    int n;\n    struct P{\n        int x,y;\n        P() {}\n        P(res x,res y):x(x),y(y) {}\n    }a[N];\n    inline LL operator * (const RG P &A,const RG P &B){\n        return 1LL*A.x*B.y-1LL*A.y*B.x;\n    }\n    inline P operator - (const RG P &A,const RG P &B){\n        return P(A.x-B.x,A.y-B.y);\n    }\n    inline void add(res &x,const res &y){\n        x+=y,x>=kcz?x-=kcz:1;\n    }\n    inline int Add(const res &x,const res &y){\n        return x+y>=kcz?x+y-kcz:x+y;\n    }\n    inline int mul(const res &x,const res &y){\n        return int(1LL*x*y%kcz);\n    }\n    int dp[N][N];\n    inline void MAIN(){\n        n=read();\n        for(res i=1;i<=n;i++){\n            res x=read(),y=read();\n            a[i]=P(x,y);\n        }\n        RG LL tmp=a[n]*a[1];\n        for(res i=1;i<n;i++)tmp+=a[i]*a[i+1];\n        if(tmp>0)reverse(a+1,a+n+1);\n        for(res i=1;i<n;i++)dp[i][i+1]=1;\n        for(res len=2;len<n;len++)\n            for(res l=1,r=l+len;r<=n;l++,r++)\n                for(res k=l;k<=r;k++)\n                    if((a[r]-a[l])*(a[k]-a[l])>0)add(dp[l][r],mul(dp[l][k],dp[k][r]));\n        printf(\"%d\\n\",dp[1][n]);\n    }\n}\nint main() {\n//    srand((unsigned)time(NULL));\n    // freopen(\"zao.in\",\"r\",stdin);\n    // freopen(\"std.out\",\"w\",stdout);\n    MAIN::MAIN();\n    return 0;\n}\n```",
        "postTime": 1562411227,
        "uid": 32878,
        "name": "foreverlasting",
        "ccfLevel": 7,
        "title": "\u3010CF437E\u3011The Child and Polygon"
    }
]