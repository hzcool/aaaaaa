[
    {
        "content": "$dp[i][j][k]$\u8868\u793a$1..i$\u8be5\u653e\u7684\u706b\u7403\u90fd\u653e\u4e86\n($1..i-1$\u90fd\u6b7b\u4e86),\n\u4e14\u7b2c$i-1$\u4e2a\u4eba\u653e\u4e86$j$\u4e2a,\u7b2c$i$\u4e2a\u4eba\u653e\u4e86$k$\u4e2a,\n$i..n$\u7684\u6700\u5c0f\u82b1\u8d39\n\n\u8f6c\u79fb\u5c31\u662f\u679a\u4e3e\u7b2c$i+1$\u4e2a\u4eba\u653e$l$\u4e2a,  \n\u5219$dp[i][j][k]=k+min(dp[i+1][k][l])$  \n\u5176\u4e2d$b*j+a*k+b*l>=h[i]$\n\n\u66b4\u529b\u8f6c\u79fb\u662f$O(n*u^3)$\u7684($u$\u4e3a\u8840\u91cf\u6700\u5927\u503c)  \n\u8bb0\u4e2a\u540e\u7f00$min$\u5c31\u662f$O(n*u^2)$\u7684\n\n```cpp\n//by kcz 1552920354@qq.com\n//if you find any bug in my code\n//please tell me\n#include<bits/stdc++.h>\nusing namespace std;\n\ntemplate <typename T> void chmin(T&x,const T &y)\n{\n    if(x>y)x=y;\n}\ntemplate <typename T> void chmax(T &x,const T &y)\n{\n    if(x<y)x=y;\n}\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef unsigned short us;\ntypedef unsigned int ui;\ntypedef pair<int,int> pii;\n#define rep(i,l,r) for(int i=l;i<=r;++i)\n#define per(i,r,l) for(int i=r;i>=l;--i)\n#define pb push_back\n#define mp make_pair\n#define gc (c=getchar())\nint read()\n{\n    char c;\n    while(gc<'-');\n    if(c=='-')\n    {\n        int x=gc-'0';\n        while(gc>='0')x=x*10+c-'0';\n        return -x;\n    }\n    int x=c-'0';\n    while(gc>='0')x=x*10+c-'0';\n    return x;\n}\n#undef gc\n\nconst int N=10+2,U=15+2;\nint dp[N][U][U],mn[N][U][U],need[U];\nint n,a,b,h[N];\n\nint main()\n{\n    //freopen(\"1.in\",\"r\",stdin);//freopen(\"1.out\",\"w\",stdout);\n    cin>>n>>a>>b;\n    rep(i,1,n)h[i]=read();\n    memset(dp,(1<<6)-1,sizeof(dp));\n    rep(i,0,U-1)\n    if(i*b>h[n])dp[n][i][0]=0;\n    rep(i,0,U-1)need[i]=i/b+1;\n    per(i,n,1)\n    {\n        if(i<n)\n        {\n            rep(j,0,U-1)\n            {\n                int v=h[i]-j*b;\n                rep(k,0,U-1)\n                {\n                    dp[i][j][k]=k+mn[i+1][k][v<0?0:need[v]];\n                    v-=a;\n                }\n            }\n        }\n        rep(j,0,U-1)\n        {\n            mn[i][j][U-1]=dp[i][j][U-1];\n            per(k,U-2,0)mn[i][j][k]=min(mn[i][j][k+1],dp[i][j][k]);\n        }\n    }\n    int i=1,j=0,k=0;\n    printf(\"%d\\n\",dp[i][j][k]);\n    while(++i<n)\n    {\n        int v=h[i-1]-j*b-k*a;\n        int l=v<0?0:need[v];\n        while(dp[i][k][l]!=dp[i-1][j][k]-k)++l;\n        j=k;k=l;\n        rep(o,1,l)printf(\"%d \",i);\n    }\n}\n\n\n```\n\n",
        "postTime": 1519050713,
        "uid": 9168,
        "name": "kczno1",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF6D \u3010Lizards and Basements 2\u3011"
    },
    {
        "content": "```cpp\n// \u770b\u8fd9\u9898\u7684\u6570\u636e\u91cf\u4f3c\u4e4e\u4e0d\u7b97\u592a\u5927\n// \u6240\u4ee5\u4e0d\u7528DP\u4e5f\u53ef\u4ee5\n// \u76f4\u63a5\u4e0aDFS\u4e5f\u4e0d\u4f1a\u8d85\u65f6\n// \u8fd9\u4e2a\u505a\u6cd5\u6bd4\u8f83\u66b4\u529b\u4f46\u662f\u5bb9\u6613\u60f3\u5230\n// \u5177\u4f53\u770b\u4ee3\u7801\n#include <iostream>\n#include <array>\n#include <algorithm>\n#include <vector>\n\nint n, a, b;\nstd::array<int, 100> h{ 0 };\nstd::vector<int> Vec, Temp;\n\nint Ans = INT_MAX;\n\nint Read()\n{\n    int n = 0, k = 1;\n    char ch = getchar();\n    while ((ch > '9' || ch < '0') && ch != '-')\n        ch = getchar();\n\n    if (ch == '-')\n    {\n        k = -1;\n        ch = getchar();\n    }\n\n    while (ch <= '9' && ch >= '0')\n    {\n        n = n * 10 + ch - '0';\n        ch = getchar();\n    }\n\n    return n * k;\n}\n\n// DFS(Now, Sum)\u8868\u793a\uff1a\n// \u80fd\u6253\u8d25\u524dNow - 1\u4e2a\u5f13\u7bad\u624b\u9700\u8981\u6700\u5c11\u6253Sum\u53d1\nvoid DFS(int Now, int Sum)\n{\n    if (Sum >= Ans) // \u526a\u679d\n    {\n        return;\n    }\n\n    if (Now == n - 1)   // \u641c\u5b8c\u4e86\uff0c\u56e0\u4e3a\u6700\u540e\u4e00\u4e2a\u4eba\u4e0d\u80fd\u76f4\u63a5\u6253\uff0c\u53ea\u80fd\u88ab\u95f4\u63a5\u6253\n    {\n        if (h[n - 1] < 0)   // \u5982\u679c\u6700\u540e\u4e00\u4e2a\u4e5f\u88ab\u6253\u6b7b\u4e86\uff0c\u90a3\u5c31\u53ef\u4ee5\u66f4\u65b0\u7b54\u6848\n        {\n            Ans = Sum;\n            Vec = Temp;\n        }\n\n        return;\n    }\n\n    // \u5426\u5219\u5c31\u53d6\u80af\u5b9a\u80fd\u6253\u8d25\u5176\u4e2d\u4e00\u4e2a\u7684\u65b9\u6848\u8fdb\u884cDFS\n    for (int i = 0;\n        i <= std::max({ (h[Now - 1] / b), (h[Now] / a), (h[Now + 1] / b) }) + 1;\n        ++i)\n    {\n        if (h[Now - 1] - b * i < 0) // \u5982\u679c\u80fd\u6253\u8d25\u6700\u5de6\u8fb9\u7684\u90a3\u4e00\u4e2a\uff0c\u6ee1\u8db3\u6211\u4eecDFS\u7684\u8981\u6c42\n        {\n            h[Now - 1] -= b * i;    // \u90a3\u5c31\u8bd5\u4e00\u4e0b\u91ca\u653e\u653b\u51fb\n            h[Now] -= a * i;        // \u6ce8\u610f\uff0c\u4e09\u4e2a\u4eba\u90fd\u4f1a\u53d7\u4f24\n            h[Now + 1] -= b * i;\n            for (int t = 0; t < i; ++t)\n            {\n                Temp.push_back(Now + 1);\n            }\n\n            DFS(Now + 1, Sum + i);  // \u5f80\u4e0b\u641c\u4e0b\u4e00\u4e2a\n\n            h[Now - 1] += b * i;    // \u56de\u6eaf\n            h[Now] += a * i;\n            h[Now + 1] += b * i;\n            for (int t = 0; t < i; ++t)\n            {\n                Temp.pop_back();\n            }\n        }\n    }\n\n    return;\n}\n\nint main()\n{\n    n = Read();\n    a = Read();\n    b = Read();\n    for (int i = 0; i < n; ++i)\n    {\n        h[i] = Read();\n    }\n\n    // \u6211\u4eec\u4ece0\u5f00\u59cb\u7f16\u53f7\uff0c\u6ce8\u610f\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a\u4eba\u4e0d\u80fd\u76f4\u63a5\u6253\n    DFS(1, 0);\n\n    std::cout << Ans << std::endl;\n    for (const auto &r : Vec)\n    {\n        std::cout << r << ' ';\n    }\n    std::putchar('\\n');\n\n    return 0;\n}\n```",
        "postTime": 1520008907,
        "uid": 59062,
        "name": "\u5c0f\u95f8\u87f9",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF6D \u3010Lizards and Basements 2\u3011"
    },
    {
        "content": "\u7b2c\u4e00\u53cd\u5e94\u5c31\u662f**dp**\n\n\u7136\u540e\u6362\u4e86\u597d\u591a\u601d\u8def\u7ec8\u4e8e$AC$\u4e86\n\n\u6700\u540e\u6253\u5f00\u9898\u89e3\u53d1\u73b0\u6211\u548c\u5b54\u7237\u7684\u601d\u8def\u975e\u5e38\u63a5\u8fd1\uff01\uff01\uff01\n\n\u6211\u5148\u8bbe$f[i][j]$\u8868\u793a$[1,i-1]$\u7684\u90fd\u6b7b\u4e86\uff0c\u7b2c$i$\u4e2a\u70b9\u4e86$j$\u53d1\u7684\u6700\u5c0f\u70b9\u6570\n\n\u7136\u540e\u53d1\u73b0\u6ca1\u6cd5\u8f6c\u79fb\uff0c\u56e0\u4e3a\u6709\u4e00\u79cd\u60c5\u51b5\uff1a\n\n\u7b2c$i$\u4e2a\u5f13\u7bad\u624b\u6ca1\u6709\u6b7b\uff0c\u4f46\u662f\u70b9\u7b2c$i+1$\u4e2a\u4eba\u7684\u65f6\u5019\u987a\u4fbf\u70b9\u6b7b\u4e86\u7b2c$i$\u4e2a\n\n\u8fd9\u5c31\u5f88\u6076\u5fc3\u4e86\u3002\u3002\u3002\n\n\u6240\u4ee5\u6211\u5c31\u6362\u4e86\u601d\u8def\n\n\u8bbe$f[i][j][k]$\u8868\u793a$[1,i-1]$\u7684\u90fd\u6b7b\u4e86\uff0c\u7b2c$i$\u4e2a\u70b9\u4e86$j$\u53d1\uff0c\u8fd8\u5269$k$\u70b9\u8840\u7684\u6700\u5c0f\u70b9\u6570\n\n\u7ed3\u679c\u5f88\u96be\u5904\u7406\uff0c\u4f60\u4eec\u53ef\u4ee5\u8bd5\u4e00\u4e0b\uff0c\u6bd4\u8f83\u6076\u5fc3\uff0c\u867d\u7136\u53ef\u4ee5\u505a\u51fa\u6765\u3002\n\n\u540e\u6765\u6211\u5e72\u8106\u5c31\u6362\u72b6\u6001\u4e86\u3002\u3002\u3002\n\n\u8bbe$f[i][j][k]$\u8868\u793a$[1,i-1]$\u7684\u90fd\u6b7b\u4e86\uff0c\u7b2c$i-1$\u4e2a\u70b9\u4e86$j$\u53d1\uff0c\u7b2c$i$\u4e2a\u70b9\u4e86$k$\u53d1\u7684\u6700\u5c0f\u70b9\u6570\n\n\u8fd9\u6837\u5b50\u6211\u4eec\u8f6c\u79fb\u7684\u65f6\u5019\u679a\u4e3e\u7b2c$i+1$\u4e2a\u70b9\u4e86$l$\u53d1\uff0c\n\n\u8bbe\u6b64\u65f6\u901a\u8fc7\u70b9\u7b2c$i+1$\u4e2a\u4eba\u6765\u70b9\u6b7b\u7b2c$i$\u4e2a\u4eba\u8fd8\u9700\u8981$rem$\u53d1\uff0c\u53ef\u77e5\n\n$$rem=(\\text{\u5269\u4f59\u8840\u91cf}\\geq0?\\text{\u5269\u4f59\u8840\u91cf}/b+1:0$$\n\n$$\u2234f[i+1][k][l]=min(l+f[i][j][k]),l\\geq rem$$\n\n\u7136\u540e\u5c31\u505a\u5b8c\u4e86\uff1f\n\n\u7b2c$n$\u4e2a\u6570\u5f88\u4e0d\u597d\u8f6c\u79fb\u3002\u6240\u4ee5\u6211\u4eec\u8f6c\u79fb\u5230$f[n-1]$\n\n\u6700\u540e\u679a\u4e3e\u6240\u6709\u7684$f[n-1][j][k],$\u7b97\u51fa\u70b9\u6b7b\u7b2c$n$\u4e2a\u4eba\u8fd8\u9700\u8981\u7684\u706b\u7403\u6570$rem$\uff0c\u7b54\u6848\u5c31\u662f\n\n$$min(f[n-1][j][k]+rem)$$\n\n\u8f93\u51fa\u65b9\u6848\u5c31\u968f\u4fbf\u8bb0\u5f55\u8f6c\u79fb\u4f4d\u7f6e\uff0c\u66b4\u529b\u8df3\u5c31\u597d\u5566\uff01\n\n\u6709\u4e00\u4e2a\u5c0f\u7ed3\u8bba\uff1a\u70b9\u706b\u7403\u7684\u65b9\u6848\u7ecf\u8fc7\u6253\u4e71\u540e\u4f9d\u7136\u53ef\u884c\u3002\n\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nll f[22][201][201],g[22][201][201][2],n,a,b;\n//g\u8bb0\u5f55\u8f6c\u79fb\u4f4d\u7f6e\nll x[22],mx[22];\ninline ll read(){\n    ll x=0;char ch=getchar();int f=1;\n    while (!isdigit(ch)){if (ch=='-') f=-1;ch=getchar();}\n    while (isdigit(ch)){x=(x<<1)+(x<<3)+ch-'0';ch=getchar();}\n    return x*f;\n}\n//f[i][j][k] 1~i-1 die,i-1 j fa,i k fa;\nint main(){\n    n=read(),a=read(),b=read();\n    for (int i=1;i<=n;i++) x[i]=read(),mx[i]=(x[i]/a)+1;\n    ll mini=x[1]/b+1;//\u70b9\u6b7b\u7b2c1\u4e2a\u4eba\u7684\u706b\u7403\u6570\n    memset(f,0x3f,sizeof(f));\n    for (int j=mini;j<=20;j++){\n        f[2][0][j]=j;//\u521d\u59cb\u5316\n    }\n    for (int i=2;i<=n-1;i++){\n        for (int j=0;j<=(i==2?0:16);j++){\n            for (int k=0;k<=16;k++){//\u70b9\u6b7b\u4e00\u4e2a\u4eba\u6700\u591a\u752816\u4e2a\n                if (f[i][j][k]>=0x3f3f3f3f-200) continue;//\u526a\u679d\n                ll rem=(x[i]-j*b-k*a)>=0?(x[i]-j*b-k*a)/b+1:0;//\u6c42rem\n                for (int l=max(0LL,rem);l<=16;l++){\n                    //f[i][j][k]->f[i+1][k][l]\n                    if (l+f[i][j][k]<f[i+1][k][l]){\n                        f[i+1][k][l]=l+f[i][j][k];\n                        g[i+1][k][l][0]=j,g[i+1][k][l][1]=k;//\u8bb0\u5f55\u8f6c\u79fb\u4f4d\u7f6e\n                    }\n                }\n            }\n        }\n    }\n    ll id0=0,id1=0,idrem=0,ans=0x3f3f3f3f;\n    for (int j=0;j<=16;j++){\n        for (int k=0;k<=16;k++){\n            if (f[n-1][j][k]>=0x3f3f3f3f-200) continue;\n            ll rem=(x[n-1]-j*b-k*a)>=0?(x[n-1]-j*b-k*a)/a+1:0;//\u6c42rem\n            if (k*b<=x[n]) rem=((x[n]-b*k)/b+1);\n            if (f[n-1][j][k]+rem<ans){\n                id0=j,id1=k,ans=f[n-1][j][k]+rem;idrem=rem;\n            }\n        }\n    }\n    cout<<ans<<endl;\n    //\u8f93\u51fa\u65b9\u6848\n    while (idrem--) cout<<n-1<<\" \";//\u8f93\u51fa\u70b9\u6b7b\u6700\u540e\u4e00\u4e2a\u4eba\u7684\u706b\u7403\n    ll T=n-1;\n    while (T!=1){\n    \tll idd0=id0,idd1=id1;\n    \t//cout<<idd0<<\" \"<<idd1<<endl;\n    \tid0=g[T][idd0][idd1][0];\n    \tid1=g[T][idd0][idd1][1];\n    \twhile (idd1--) cout<<T<<\" \";\n        T--;\n    }\n    return 0;\n}\n```\n\n$hack$\u6570\u636e\u597d\u591a\u554a\uff0c\u8c03\u4e86\u5f88\u4e45\u3002\u3002\u3002",
        "postTime": 1556707847,
        "uid": 20309,
        "name": "Fading",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF6D \u3010Lizards and Basements 2\u3011"
    },
    {
        "content": "[\u535a\u5ba2\u98df\u7528\u6548\u679c\u66f4\u4f73](https://www.cnblogs.com/lxy-2022/p/CF2600-zuo-ti-ji-lu.html)\n\n#### \u9898\u610f\n\n\u4e00\u6392\u4eba\uff0c\u8840\u91cf\u5206\u522b\u4e3a $h_i$\uff0c\u653b\u51fb\u67d0\u4e2a\u4eba\uff0c\u4f1a\u5bf9\u4ed6\u9020\u6210 $a$ \u70b9\u4f24\u5bb3\uff0c\u5bf9\u65c1\u8fb9\u7684\u4eba\u9020\u6210$b$ \u70b9\u4f24\u5bb3\u3002\u4e0d\u80fd\u6253 $1$ \u53f7\u548c $n$ \u53f7\uff0c\u6c42\u6700\u5c11\u591a\u5c11\u6b21\u4f7f\u6240\u6709\u4eba\u8840\u91cf\u5c0f\u4e8e $0$\u3002\n\n#### \u5206\u6790\n\n\u6570\u636e\u8303\u56f4\u5f88\u5c0f\uff0c\u7206\u641c\u5373\u53ef\u3002\u53d1\u73b0\u5bf9\u4e8e\u4e00\u4e2a\u4eba\u7684\u653b\u51fb\u4e0d\u4f1a\u5bf9\u4e0e\u5176\u8ddd\u79bb\u8d85\u8fc7 $1$ \u7684\u4eba\u6709\u5f71\u54cd\uff0c\u56e0\u6b64\u4ece\u5de6\u5411\u53f3\u679a\u4e3e\u6bcf\u4e00\u4f4d\u653b\u51fb\u7684\u6b21\u6570\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5927\u81f4\u4e3a $\\mathcal{O}((n-2)^{\\frac{h_i}{a}})$\uff0c\u6700\u5dee\u60c5\u51b5\u662f $(10-2)^{15}=8^{15} \\approx 3.5\\times 10^{13}$\uff0c\u4f1a TLE\uff0c\u8003\u8651\u526a\u679d\u3002\u5982\u679c\u679a\u4e3e\u5230\u4e00\u534a\u53d1\u73b0\u6b64\u65f6\u7528\u7684\u6b21\u6570\u5df2\u7ecf\u5927\u4e8e\u5f53\u524d\u7684\u6700\u4f18\u6b21\u6570\uff0c\u8bf4\u660e\u4e00\u5b9a\u4e0d\u53ef\u80fd\u66f4\u4f18\uff0c\u5c31\u76f4\u63a5 return\uff0c\u8fd9\u6837\u590d\u6742\u5ea6\u5927\u5927\u4f18\u5316\u3002\n\n#### \u6838\u5fc3\u4ee3\u7801\n\n```cpp\nint n,a,b,h[17],sum,ans=1e9,path[167],ansp[167],tmp;\nvoid dfs(int x,int step){\n    if(step>=ans) return;\n    if(x==n){\n        if(h[n]<0){\n            ans=step;\n            for(int i=0;i<=path[0];i++) ansp[i]=path[i];\n        }return;\n    }\n    for(int i=0;i<=qmax((h[x-1]/b),qmax((h[x]/a),(h[x+1]/b)))+1;i++){\n        if (h[x-1]<b*i){\n            h[x-1]-=b*i;h[x]-=a*i;h[x+1]-=b*i;\n            for(int j=1;j<=i;j++) path[++path[0]]=x;\n            dfs(x+1,step+i);\n            h[x-1]+=b*i;h[x]+=a*i;h[x+1]+=b*i;\n            for(int j=1;j<=i;j++) path[0]--;    \n        }\n    }\n}\nint main(){\n    qread(n,a,b);int i,j;for(i=1;i<=n;i++) qread(h[i]);dfs(2,0);\n    printf(\"%d\\n\",ans);for(i=1;i<=ansp[0];i++) printf(\"%d \",ansp[i]);\n    return 0;\n}\n```\n\n[record](https://codeforc.es/problemset/submission/6/171690420)",
        "postTime": 1662887749,
        "uid": 225991,
        "name": "_lxy_",
        "ccfLevel": 6,
        "title": "CF6D Lizards and Basements 2 \u9898\u89e3"
    },
    {
        "content": "### \u89e3\u9898\u601d\u8def\uff1a\n\n\u8003\u8651\u52a8\u6001\u89c4\u5212\u3002\n\n\u53d1\u73b0\u6bcf\u4e00\u4e2a\u4eba\u53d7\u5230\u7684\u4f24\u5bb3\u53ea\u548c\u81ea\u5df1\u548c\u4e24\u8fb9\u7684\u76f4\u63a5\u706b\u7403\u6709\u5173\uff0c\u8003\u8651\u7528\u987a\u63a8 DP \u6c42\u89e3\u3002\n\n\u8bbe $f_{i,j,k}$ \u8868\u793a\u5230\u8003\u8651\u7b2c $i$ \u4e2a\u4eba\uff0c\u524d $i-1$ \u4e2a\u4eba\u5df2\u7ecf\u5168\u88ab\u6253\u6b7b\uff0c\u5176\u4e2d\u7b2c $i-1$ \u4e2a\u4eba\u53d7\u5230\u4e86 $j$ \u4e2a\u706b\u7403\uff0c\u7b2c $i$ \u4e2a\u4eba\u53d7\u5230\u4e86 $k$ \u4e2a\u706b\u7403\u7684\u6700\u5c0f\u4f7f\u7528\u706b\u7403\u6570\u91cf\u3002\n\n\u7136\u540e\u679a\u4e3e\u7b2c $i+1$ \u4e2a\u4eba\u53d7\u5230\u7684\u706b\u7403\uff0c\u4e0d\u59a8\u8bbe\u5176\u4e3a $l$\uff0c\u5176\u4e2d\u9700\u8981\u6ee1\u8db3\u7b2c $i$ \u4e2a\u4eba\u6b7b\u4ea1\uff0c\u4e5f\u5c31\u662f $(j+l)\\times b+k\\times a>h_i$\u3002\n\n\u7136\u540e\u5728\u8fd9\u4e9b\u53ef\u884c\u89e3\u4e2d\u627e\u4e00\u4e2a\u6700\u5c0f\u7684\u5c31\u884c\u4e86\u3002\n\n\u53d1\u73b0\u6700\u540e\u4e00\u4e2a\u4eba\u7684\u60c5\u51b5\u4e0d\u597d\u5904\u7406\uff0c\u8003\u8651\u5355\u72ec\u62ce\u51fa\u6765\u5904\u7406\uff0c\u76f4\u63a5\u679a\u4e3e\u518d\u7ed9\u5012\u6570\u7b2c\u4e8c\u4e2a\u4eba\u8865\u591a\u5c11\u5200\u5c31\u884c\u4e86\u3002\n\n\u8fd8\u6709\u5c31\u662f\u6ce8\u610f\u8def\u5f84\u7684\u8bb0\u5f55\u3002\n\n---\n### \u8c03\u8bd5\u5efa\u8bae\uff1a\n\n\u770b\u6e05\u695a\u54ea\u91cc\u662f\u5c0f\u4e8e\uff0c\u54ea\u91cc\u662f\u5c0f\u4e8e\u7b49\u4e8e\uff0c\u672c\u9898\u4e2d\uff0c\u6b7b\u4ea1\u662f\u4e25\u683c\u5c0f\u4e8e\u96f6\u3002\n\n\n---\n### \u4ee3\u7801\uff1a \n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint f[15][20][20],n,hp[15],a,b,ans=2147483647,fr[20][20][20];\nint main(){\n\tscanf(\"%d%d%d\",&n,&a,&b);\n\tfor(int i=1;i<=n;i++)\n\tscanf(\"%d\",&hp[i]);\n\tmemset(f,63,sizeof(f));\n\tfor(int i=(hp[1]/b+1);i<=16;i++)\n\tf[2][0][i]=i;\n\tfor(int i=3;i<=n;i++)\n\tfor(int j=0;j<=16;j++)\n\tfor(int k=0;k<=16;k++)\n\tfor(int l=0;l<=16;l++)\n\tif((j+l)*b+k*a>hp[i-1]){\n\t\tif(f[i][k][l]>f[i-1][j][k]+l){\n\t\t\tf[i][k][l]=f[i-1][j][k]+l;\n\t\t\tfr[i][k][l]=j;\n\t\t}\n\t}\n\tint rec=2147483647,ans=2147483647,p1,p2;\n\tfor(int i=0;i<=16;i++){\n\t\tfor(int j=0;j<=16;j++){\n\t\t\tint now=hp[n-1]-i*b-j*a>=0?(hp[n-1]-i*b-j*a)/a+1:0;\n\t\t\tif(j*b<=hp[n])now=(hp[n]-b*j)/b+1;\n\t\t\tif(f[n-1][i][j]+now<ans){\n\t\t\t\tans=now+f[n-1][i][j];\n\t\t\t\trec=now;\n\t\t\t\tp1=i;\n\t\t\t\tp2=j;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\tfor(int i=1;i<=rec;i++)\n\tprintf(\"%d \",n-1);\n\tint now=n-1,rp1,rp2;\n\twhile((now-1)){\n\t\trp1=p1,rp2=p2;\n\t\tp1=fr[now][rp1][rp2];\n\t\tp2=rp1;\n\t\tfor(int i=1;i<=rp2;i++)\n\t\tprintf(\"%d \",now);\n\t\tnow--;\n\t}\n\tprintf(\"\\n\");\n\treturn 0;\n}\n```\n",
        "postTime": 1636071868,
        "uid": 223559,
        "name": "qxp101",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF6D Lizards and Basements 2"
    },
    {
        "content": "\u5f88\u597d\u7684\u641c\u7d22\u9898\uff0c\u4f46\u662f\u5c61\u6b21 UKE \u641e\u5f97\u6211\u53ea\u80fd\u4e0a CF \u7f51\u7ad9\u4ea4......\n\n# solution \u4e00\u7ef4 dfs\n\n- \u8fd9\u6837\u6211\u4eec\u8fd9\u4e00\u7ef4\u53ea\u8ba1\u6b21\u6570\uff0c\u6bcf\u4e00\u5c42\u679a\u4e3e\u5bf9\u51e0\u53f7\u9020\u6210\u4f24\u5bb3\uff0c\u7136\u540e\u6bcf\u5230\u4e00\u5c42\u5c31\u626b\u4e00\u904d\u6570\u7ec4\uff0c\u770b\u770b\u662f\u5426\u5168\u90e8\u6b7b\u4ea1\uff0c\u662f\u5c31\u66f4\u65b0\u3002\n\n- \u4f46\u662f\u8fd9\u6837\u5bb9\u6613\u6b7b\u5faa\u73af\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u9012\u5f52\u4e0b\u4e00\u5c42\u9700\u8981\u7279\u5224\u5f53\u524d\u679a\u4e3e\u7684\u4eba\u4ee5\u53ca\u4e0a\u4e00\u4e2a\u548c\u4e0b\u4e00\u4e2a\u4eba\u90fd\u4e0d\u80fd\u5c0f\u4e8e $0$\u3002\n\n```cpp\nvoid dfs(int p){\n\tif(p>=ans) return;\n\tint flag=0;\n\tfor(int i=1;i<=n;i++){\n\t\tif(s[i]>=0){\n\t\t\tflag=1;\n\t\t\tbreak;\n\t\t}\n\t}//\u6bcf\u6b21\u626b\u4e00\u904d\u6570\u7ec4\n\tif(flag==0){\n\t\tif(p<ans){\n\t\t\tans=p;\n\t\t\tfor(int i=1;i<=ans;i++) st[i]=c[i];\n\t\t}\n\t\treturn;\n\t}\n\tfor(int i=2;i<n;i++){\n\t\tif(s[i]<0 && s[i-1]<0 && s[i+1]<0) continue;//\u4fdd\u8bc1\u4e0d\u8981\u6b7b\u5faa\u73af\n\t\ts[i]-=a;\n\t\ts[i-1]-=b,s[i+1]-=b;\n\t\tc[p+1]=i;\n\t\tdfs(p+1);\n\t\ts[i]+=a;\n\t\ts[i-1]+=b,s[i+1]+=b;//\u56de\u6eaf\n\t}\n}\n```\n- \u4f46\u662f\u8fd9\u6837\u5b50\u590d\u6742\u5ea6\u5c31\u4f1a\u8d85\u7ea7\u9ad8\uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651\u4e8c\u7ef4 dfs \u4f18\u5316\u3002\n\n# solution\u4e8c\u7ef4 dfs\n\n- \u4e24\u4e2a\u7ef4\u5ea6\u5206\u522b\u662f\u5f53\u524d\u662f\u7b2c\u51e0\u4e2a\u4eba\u4ee5\u53ca\u4ee5\u53ca\u4f7f\u7528\u7684\u6b21\u6570\u3002\n\n- \u6bcf\u4e00\u5c42\u6211\u90fd\u679a\u4e3e\u6211\u5bf9\u5f53\u524d\u53f7\u7801\u4f7f\u7528\u51e0\u6b21\u4f24\u5bb3\uff0c\u7136\u540e\u52a0\u4e0a\u8fd9\u4e2a\u6b21\u6570\uff0c\u90a3\u4e48\u6700\u591a\u4f7f\u7528\u51e0\u6b21\u5462\uff1f\u8bbe $s_{i}$ \u8868\u793a\u7b2c $i$ \u4e2a\u4eba\u5f53\u524d\u8840\u91cf\uff0c\u5f53\u524d\u9012\u5f52\u5230\u7b2c $k$ \u5c42\uff0c\u5bf9\u5f53\u524d\u4eba\u9020\u6210\u4f24\u5bb3\u4e3a $a$\uff0c\u5bf9\u4e24\u8fb9\u9020\u6210\u7684\u4f24\u5bb3\u4e3a $b$\uff0c\u5219\u6700\u591a\u4f7f\u7528\u6b21\u6570\u4e3a\uff1a\n\n$$\\max(s_{k}\\div a + 1,\\max(s_{k-1} \\div b + 1,s_{k+1} \\div b + 1))$$\n\n- \u52a0 $1$ \u662f\u56e0\u4e3a\u8981\u4fdd\u8bc1\u6bcf\u4e2a\u4eba\u8840\u91cf\u90fd\u5e94\u5c0f\u4e8e $0$\u3002\n\n- \u8fd9\u6837\u5b50\u5f00\u59cb\u662f\u7b2c $2$ \u5c42\uff0c\u9012\u5f52\u8fb9\u754c\u662f $n-1$ \u5c42\uff0c\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a\u90fd\u4e0d\u80fd\u6253\u3002\n\n```cpp\nvoid dfs(int k,int p){\n\tif(p>=ans) return;\n\tif(k>=n){\n\t\tint flag=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tif(s[i]>=0){\n\t\t\t\tflag=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}//\u8fb9\u754c\u5224\u65ad\u662f\u5426\u90fd\u6b7b\u4ea1\n\t\tif(flag==0){\n\t\t\tans=p;\n\t\t\tfor(int i=1;i<=p;i++) st[i]=c[i];\n\t\t}\n\t\treturn;\n\t}\n\tfor(int i=0;i<=max(s[k]/a+1,max(s[k-1]/b+1,s[k+1]/b+1));i++){//\u53ef\u4ee5\u4e00\u6b21\u90fd\u4e0d\u6253\n\t\ts[k]-=i*a;\n\t\ts[k-1]-=i*b,s[k+1]-=i*b;\n\t\tfor(j=p+1;j<=p+i+1;j++) c[j]=k;//\u52a0\u4e0a\u6b21\u6570\n\t\tdfs(k+1,p+i);\n\t\ts[k]+=i*a;\n\t\ts[k-1]+=i*b,s[k+1]+=i*b;//\u56de\u6eaf\n\t}\n}\n```\n- \u4f46\u662f\u8fd9\u6837\u53d1\u73b0\u8fd8\u662f\u4f1a\u8d85\u65f6\uff0c\u7ee7\u7eed\u8003\u8651\u4f18\u5316\u3002\n\n# solution \u4f18\u5316\n- \u8d85\u65f6\u7684\u539f\u56e0\u663e\u800c\u6613\u89c1\uff1a\u6bcf\u6b21\u5230\u8fb9\u754c\u6211\u90fd\u8981\u904d\u5386\u4e00\u6b21\u6765\u5224\u65ad\u3002\n\n- \u6ce8\u610f\u5230\u6bcf\u4e2a\u4eba\u662f\u6700\u591a\u88ab\u4e09\u79cd\u4e0d\u540c\u60c5\u51b5\u4f24\u5bb3\u7684\uff0c\u5373\u7b2c $i$ \u4e2a\u4eba\u6700\u591a\u4f1a\u8fde\u5e26\u53d7\u5230\u7b2c $i-1$\uff0c$i$\uff0c$i+1$ \u4e09\u4e2a\u4eba\u7684\u4f24\u5bb3\uff0c\u4e4b\u540e\u5c31\u8ddf\u4ed6\u6ca1\u6709\u5173\u7cfb\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u5230\u7b2c $i+1$ \u4eba\u7684\u65f6\u5019\u5224\u65ad\u7b2c $i$ \u4eba\u662f\u5426\u6b7b\u4ea1\u4e86\uff0c\u8fd9\u6837\u5c31\u80fd\u4fdd\u8bc1\u6bcf\u4e2a\u4eba\u6700\u7ec8\u90fd\u7b26\u5408\u8981\u6c42\u3002\n\n- \u503c\u5f97\u63d0\u9192\u7684\u662f\uff0c\u6700\u540e\u5230\u8fb9\u754c\u7684\u65f6\u5019\u8981\u5224\u65ad\u7b2c $n-1$ \u548c \u7b2c $n$ \u4e2a\u4eba\u662f\u5426\u7b26\u5408\u8981\u6c42\u3002\n\n# code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,i,j,ans=1e9;\nint a,b,s[15],st[1000005],c[1000005];\nvoid dfs(int k,int p){\n\tif(p>=ans) return;\n\tif(k>=n){\n\t\tif(s[k]>=0 || s[n]>=0) return;//\u8fb9\u754c\u5224\u65ad\u540e\u4e24\u4e2a\u4eba\n\t\tans=p;\n\t\tfor(int i=1;i<=p;i++) st[i]=c[i];\n\t\treturn;\n\t}\n\tfor(int i=0;i<=max(s[k]/a+1,max(s[k-1]/b+1,s[k+1]/b+1));i++){\n\t\tif(s[k-1]-i*b>=0) continue; //\u5224\u65ad\u524d\u4e00\u4e2a\u662f\u5426\u7b26\u5408\u8981\u6c42\n\t\ts[k]-=i*a;\n\t\ts[k-1]-=i*b,s[k+1]-=i*b;\n\t\tfor(int j=p+1;j<=p+i+1;j++) c[j]=k;\n\t\tdfs(k+1,p+i);\n\t\ts[k]+=i*a;\n\t\ts[k-1]+=i*b,s[k+1]+=i*b;\n\t}\n}\nint main(){\n\tscanf(\"%d%d%d\",&n,&a,&b);\n\tfor(i=1;i<=n;i++) scanf(\"%d\",&s[i]);\n\tdfs(2,0);\n\tprintf(\"%d\\n\",ans);\n\tfor(i=1;i<=ans;i++) printf(\"%d \",st[i]);\n\treturn 0;\n}\n```\n\u8bdd\u8bf4\u6d1b\u8c37\u80fd\u4e0d\u80fd\u4f18\u5316\u4e00\u4e0b\u8fd9\u4e2a\u63d0\u4ea4\u95ee\u9898......\u6211\u81f3\u4eca\u63d0\u4ea4\u8fd8\u662f UKE\uff0c\u53ea\u80fd\u4e0a CF\u3002",
        "postTime": 1671769054,
        "uid": 664744,
        "name": "winds888",
        "ccfLevel": 0,
        "title": "Lizards and Basements 2"
    },
    {
        "content": "\u672c\u849f\u84bb\u7528\u7684\u662f\u8fed\u4ee3\u52a0\u6df1\u641c\u7d22\u3002\n\n\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a $md$ \u8868\u793a\u5f53\u524d\u6700\u591a\u6253\u591a\u5c11\u6b21\u3002\u6bcf\u4e2a\u4eba\u679a\u4e3e\u6253\u591a\u5c11\u6b21\uff0c\u7136\u540e\u5728\u679a\u4e3e\u7684\u8fc7\u7a0b\u4e2d\u6682\u65f6\u6539\u53d8\u4eba\u7684\u8840\u91cf\uff0c\u5e76\u8bb0\u5f55\u4e00\u4e2a $c$ \u6570\u7ec4\u8868\u793a\u8fd9\u4e2a\u4eba\u88ab\u6253\u4e86\u591a\u5c11\u6b21\uff08\u53ea\u7b97\u4ee5\u4ed6\u4e3a\u4e2d\u5fc3\u7684\u6b21\u6570\uff0c\u4e0d\u7b97\u65c1\u8fb9\u7684\u4eba\u7684\u6b21\u6570\uff09\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u505a\u4e00\u4e9b\u53ef\u884c\u6027\u526a\u679d\uff1a\n\n1. \u6bcf\u6b21\u679a\u4e3e\u8fd9\u4e2a\u4eba\u8981\u6253\u591a\u5c11\u6b21\uff0c\u6700\u591a\u679a\u4e3e\u5230\uff1a\u8fd9\u4e2a\u4eba\u8981\u6253\u7684\u6b21\u6570\u3001\u5de6\u8fb9\u8981\u6253\u7684\u6b21\u6570\u548c\u53f3\u8fb9\u8981\u6253\u7684\u6b21\u6570\u7684\u6700\u5927\u503c\u3002\u5982\u679c\u8fd9\u4e2a\u503c\u5927\u4e8e\u5269\u4f59\u53ef\u4ee5\u6253\u7684\u6b21\u6570\uff0c\u5c31\u4e3a\u5269\u4f59\u53ef\u4ee5\u6253\u7684\u6b21\u6570\u3002\uff08\u56e0\u4e3a\u5f0f\u5b50\u592a\u957f\u4e86\uff0c\u6240\u4ee5\u4e0d\u628a\u5f0f\u5b50\u6253\u51fa\u6765\u4e86\uff09\u3002\n1. \u5982\u679c\u4e00\u4e2a\u4eba\u6240\u6709\u88ab\u6253\u7684\u60c5\u51b5\u90fd\u88ab\u679a\u4e3e\u8fc7\u4e86\uff0c\u90a3\u5c31\u8d76\u7d27\u5224\u65ad\u8fd9\u4e2a\u4eba\u662f\u5426\u6253\u6b7b\u4e86\u3002\u5982\u679c\u6ca1\u6709\u5c31\u505c\u6b62\u679a\u4e3e\u8fd9\u79cd\u65b9\u6848\u4e86\u3002\n\n\u6b64\u9898\u601d\u8def\u4e0d\u96be\uff0c\u4ee3\u7801\u4e5f\u4e0d\u96be\u3002**\u552f\u4e00\u5751\u70b9\u5c31\u662f\u9898\u76ee\u4e2d\u6ca1\u8bf4\u8840\u91cf $<0$ \u624d\u7b97\u6b7b\u6389**\u3002AC \u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nint n,x,y,md;//x,y \u4e3a\u9898\u9762\u4e2d\u7684 a,b\u3002\nint a[15],b[15],c[15];//a \u6570\u7ec4\u662f\u8840\u91cf\uff0cb \u6570\u7ec4\u7528\u6765\u5907\u4efd a \u6570\u7ec4\u3002\nvoid dfs(int step,int cnt)//step \u8868\u793a\u4e0b\u6807\uff0ccnt \u8868\u793a\u5269\u4f59\u53ef\u4ee5\u6253\u7684\u6b21\u6570\u3002\n{\n    if(step>2&&a[step-2]>=0)return;\n    if(step==n)\n    {\n        if(a[n-1]>=0||a[n]>=0)return;\n        cout<<md<<endl;\n        for(int i=1;i<=n;i++)\n            for(int j=1;j<=c[i];j++)\n                cout<<i<<\" \";\n        cout<<endl;\n        exit(0);\n    }\n    int xx=min(max(int(ceil((a[step]+1)*1.0/x)),max(int(ceil((a[step-1]+1)*1.0/y)),int(ceil((a[step+1]+1)*1.0/y)))),cnt);//\u8fd9\u4e1c\u897f\u8981\u653e\u5728\u5916\u9762\u63d0\u524d\u7b97\u597d\uff0c\u4e0d\u7136\u6bcf\u6b21\u5faa\u73af\u4e2d\u90fd\u8fd8\u5f97\u7b97\u4e00\u6b21\uff0c\u4f1a TLE\uff08\u4eb2\u8eab\u7ecf\u5386\uff09\n    for(int i=0;i<=xx;i++)\n    {\n        c[step]=i;\n        a[step]-=i*x;\n        a[step-1]-=i*y;\n        a[step+1]-=i*y;\n        dfs(step+1,cnt-i);\n        c[step]=0;\n        a[step]+=i*x;\n        a[step-1]+=i*y;\n        a[step+1]+=i*y;\n    }\n}\nint main()\n{\n    cin>>n>>x>>y;\n    for(int i=1;i<=n;i++)cin>>a[i];\n    for(md=1;;md++)\n    {\n        memcpy(b,a,sizeof(b));\n        dfs(2,md);\n        memcpy(a,b,sizeof(a));\n    }\n    return 0;\n}\n```",
        "postTime": 1671115071,
        "uid": 554145,
        "name": "Netherite_sword_666",
        "ccfLevel": 5,
        "title": "CF6D \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u4e5f\u53ef\u4ee5\u7528 dp \u505a\uff0c\u4f46\u662f dfs \u6548\u7387\u4e5f\u4e0d\u5dee\uff0c\u4ea4\u4e86\u4e00\u53d1\u52a0\u4e86\u4e2a\u5feb\u8bfb\u4e4b\u540e\u5728 cf \u754c\u9762\u663e\u793a\u4ec5\u9700 124 ms\uff0c\u7a33\u7a33\u7684o(*\uffe3\u25bd\uffe3*)\u30d6\u3002  \n\n dfs \u4ec5\u6709\u4e24\u4e2a\u53c2\u6570 depth \u548c i\uff0cdepth \u8868\u793a\u9009\u4e86\u51e0\u4e2a\u6570\uff0ci \u8868\u793a\u4ece\u7b2c\u51e0\u4e2a\u6570\u5f00\u59cb\u9009\u3002   \n\n\u5177\u4f53\u601d\u8def\uff1a\u5bf9\u4e8e\u7b2c i \u4e2a\u6570\uff0c\u82e5\u5b83\u524d\u9762\u4e00\u4e2a\u751f\u547d\u503c\u5df2\u7ecf\u4e3a\u8d1f\u6570\u4e86\uff0c\u5219\u53ef\u4ee5\u9009\u62e9\u76f4\u63a5\u5bf9 $ i+1 $ \u4e2a\u4eba\u91ca\u653e\u706b\u7403\uff0c\u6216\u9009\u62e9\u5bf9\u5f53\u524d\u7684\u7b2c i \u4eba\u91ca\u653e\u706b\u7403\u3002  \n\n\u7531\u4e8e\u76f4\u63a5\u9009\u62e9\u653b\u51fb\u7b2c $ i+1 $ \u4e2a\u4eba\u65f6\uff0c\u6ca1\u6709\u4eba\u53d7\u4f24\uff0c\u56e0\u6b64\u4f20\u53c2\u7684\u65f6\u5019 depth \u65e0\u9700+1\uff0c\u4e5f\u4e0d\u9700\u8981\u6539\u53d8\u4efb\u4f55\u5176\u4ed6\u7684\u72b6\u6001\n\n```cpp\nif (hp[i - 1] < 0 && i + 1 < n)\n    dfs(depth, i + 1);\n```\n\n\u800c\u82e5\u9009\u62e9\u5bf9\u7b2c i \u4eba\u653e\u706b\u7403\u5219\u9700\u8981\u9009\u4e0a\uff0c\u6240\u4ee5\u4e0d\u4ec5 depth \u8981\u52a0\u4e00\uff0c\u8fd8\u8981\u6539\u53d8\u72b6\u6001\u5e76\u505a\u597d\u56de\u6eaf\u7684\u64cd\u4f5c\n\n\n```cpp\nif (hp[i] >= 0 || hp[i - 1] >= 0 || hp[i + 1] >= 0) {\n\thp[i] -= a, hp[i - 1] -= b, hp[i + 1] -= b, v.emplace_back(i);\n\tdfs(depth + 1, i);\n\thp[i] += a, hp[i - 1] += b, hp[i + 1] += b, v.pop_back();\n    }\n```\n\n\u6309\u8fd9\u79cd\u8ba1\u7b97\u65b9\u6cd5\uff0c\u82e5\u7b2c n \u4e2a\u4eba\u4ee5\u53ca\u4ed6\u524d\u9762\u7684\u4e8c\u4eba\u7684\u8840\u91cf\u90fd\u4e3a\u8d1f\u6570\uff0c\u90a3\u4e48\u518d\u5f80\u524d\u7684\u4eba\u4e00\u5b9a\u4e5f\u5df2\u7ecf\u6b7b\u4e86\uff08\u56e0\u4e3a\u53ea\u6709\u5f53 $ hp[i-1]<0 $ \u65f6\u624d\u4f1a\u5f80\u540e\u8258\uff09\uff0c\u8fd9\u65f6\u5019\u76f4\u63a5\u8bb0\u5f55\u7b54\u6848\u5373\u53ef  \n\n\n```cpp\nif (hp[n] < 0 && hp[n - 1] < 0 && hp[n-2] < 0) {\n\tif (minx > depth) {\n\t\tminx = depth;\n\t\tans.clear();\n\t\tfor (int i = 0; i < v.size(); ++i)\n\t\t\tans.emplace_back(v[i]);\n\t}\n\treturn;\n}\n```\n\n\u82e5\u9009\u62e9\u7684\u4e2a\u6570\u5df2\u7ecf\u8d85\u8fc7\u4e86\u6b64\u524d\u627e\u7684\u67d0\u4e2a\u7b54\u6848\u6570\u5219\u76f4\u63a5\u8fd4\u56de\n\n\n```cpp\nif (depth >= minx)\n\treturn;\n```\n\u4e0b\u9644\u5b8c\u6574\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\ntypedef long long ll;\ntypedef const int ci;\n\nint n, a, b, minx = INF;\nint hp[15];\nvector<int> ans, v;\n\nvoid dfs(ci& depth, ci& i) {\n    if (depth >= minx)\n        return;\n    if (hp[n] < 0 && hp[n - 1] < 0 && hp[n-2] < 0) {\n        if (minx > depth) {\n            minx = depth;\n            ans.clear();\n            for (int i = 0; i < v.size(); ++i)\n                ans.emplace_back(v[i]);\n        }\n        return;\n    }\n    if (hp[i - 1] < 0 && i + 1 < n)\n     dfs(depth, i + 1);\n    if (hp[i] >= 0 || hp[i - 1] >= 0 || hp[i + 1] >= 0) {\n        hp[i] -= a, hp[i - 1] -= b, hp[i + 1] -= b, v.emplace_back(i);\n        dfs(depth + 1, i);\n        hp[i] += a, hp[i - 1] += b, hp[i + 1] += b, v.pop_back();\n    }\n}\n\nint main() {\n    ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr);\n    cin >> n >> a >> b;\n    for (int i = 1; i <= n; ++i)\n        cin >> hp[i];\n    dfs(0, 2);\n    cout << minx << endl;\n    for (int i = 0; i < ans.size(); ++i)\n        cout << ans[i] << \" \";\n}\n```\n",
        "postTime": 1634518940,
        "uid": 267707,
        "name": "suolk",
        "ccfLevel": 0,
        "title": "DFS\u7206\u641c\u52a0\u4f18\u5316"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](http://zrzring.cn/index.php/archives/261)\n\n> \u4f60\u62e5\u6709\u4e00\u4e2a\u76f4\u63a5\u4f24\u5bb3\u4e3aa\uff0c\u6e85\u5c04\u4f24\u5bb3\u4e3ab\uff0c\u6e85\u5c04\u8303\u56f4\u4e3a1\u7684\u6280\u80fd\uff0c\u95ee\u81f3\u5c11\u591a\u5c11\u6b21\u6280\u80fd\u80fd\u6d88\u706d\u4e00\u6392\u968f\u4ece\n\n> \u9650\u5236\uff1a\u4e0d\u80fd\u62531\u53f7\u548cn\u53f7\u968f\u4ece\uff0c\u751f\u547d\u503c**\u5c0f\u4e8e**0\u624d\u7b97\u6b7b\u4ea1\n\n\u9650\u5236\u8c8c\u4f3c\u662f\u8ba9\u4f60\u505a\u7684\u66f4\u8212\u670d\u4e00\u4e9b\uff0c\u81f3\u5c11\u6211\u662f\u8fd9\u4e48\u8ba4\u4e3a\u7684\n\ndp\u6216\u8005dfs\u90fd\u53ef\u4ee5\uff0c\u5b9e\u73b0\u672c\u8d28\u662f\u4e00\u6837\u7684\uff0cdp\u505a\u6cd5\u56e0\u4e3a\u4e0a\u4e00\u4e2a\u4f1a\u5bf9\u5f53\u524d\u9020\u6210\u5f71\u54cd\uff0c\u8bb0\u5f55\u4e00\u4e0b\u4e0a\u4e00\u4e2a\u72b6\u6001\u5373\u53ef\n\n\u8fd9\u6837\u591a\u4e00\u7ef4\u53d8\u6210`f[i][j][k]`\u8868\u793a\u7b2ci\u4e2a\u968f\u4ece\u88ab\u6253k\u4e0b\uff0c\u7b2ci-1\u4e2a\u968f\u4ece\u88ab\u6253j\u4e0b\uff0c\u524di-2\u4e2a\u968f\u4ece\u90fd\u6b7b\u4e86\u7684\u6700\u5c11\u6280\u80fd\u6b21\u6570\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <cstring>\n#include <algorithm>\n#include <queue>\n\nusing namespace std;\n\nvoid file() {\n    freopen(\"std.in\", \"r\", stdin);\n    freopen(\"wa.out\", \"w\", stdout);\n}\n\nconst int N = 1e6 + 10, M = 2e6 + 10, inf = 0x3f3f3f3f;\n\ninline int read() {\n    bool sym = 0; int res = 0; char ch = getchar();\n    while (!isdigit(ch)) sym |= (ch == '-'), ch = getchar();\n    while (isdigit(ch)) res = (res << 3) + (res << 1) + (ch ^ 48), ch = getchar();\n    return sym ? -res : res;\n}\n\nint n, a, b, rem, f[21][201][201], pre[21][201][201][2], hp[100];\n\nint main() {\n    n = read(); a = read(); b = read();\n    for (int i = 1; i <= n; i++) hp[i] = read();\n    memset(f, 0x3f, sizeof(f));\n    for (int k = hp[1] / b + 1; k <= 20; k++) f[2][0][k] = k;\n    for (int i = 2; i <= n - 1; i++) {\n        for (int j = 0; j <= 20; j++) {\n            for (int k = 0; k <= 20; k++) {\n                if (f[i][j][k] == inf) continue;\n                rem = hp[i] - j * b - k * a;\n                rem < 0 ? rem = 0 : rem = rem / b + 1;\n                for (int l = rem; l <= 20; l++) {\n                    if (l + f[i][j][k] < f[i + 1][k][l]) {\n                        f[i + 1][k][l] = l + f[i][j][k];\n                        pre[i + 1][k][l][0] = j;\n                        pre[i + 1][k][l][1] = k;\n                    }\n                }\n            }\n        }\n    }\n    int x, y;\n    int ans = inf, j0, k0, r0;\n    for (int j = 0; j <= 20; j++) {\n        for (int k = 0; k <= 20; k++) {\n            if (f[n - 1][j][k] == inf) continue;\n            if (k * b <= hp[n]) rem = (hp[n] - b * k) / b + 1;\n            else {\n                rem = hp[n] - j * b - k * a;\n                if (rem < 0) rem = 0; else rem = rem / b + 1;\n            }\n            if (rem + f[n - 1][j][k] < ans) {\n                ans = rem + f[n - 1][j][k];\n                x = j; y = k; r0 = rem;\n            }\n        }\n    }\n    printf(\"%d\\n\", ans);\n    while (r0--) printf(\"%d \", n - 1);\n    for (int i = n - 1; i >= 2; i--) {\n        int tx = x, ty = y;\n        x = pre[i][tx][ty][0];\n        y = pre[i][tx][ty][1];\n        while (ty--) printf(\"%d \", i);\n    }\n    return 0;\n}\n```",
        "postTime": 1602070212,
        "uid": 28392,
        "name": "zrzring",
        "ccfLevel": 5,
        "title": "CF6D \u3010Lizards and Basements 2\u3011"
    },
    {
        "content": "$dfs$ \u597d\u554a\n\n### \u9898\u610f\n\n- \u6709\u4e00\u961f\u4eba\uff0c\u4f60\u53ef\u4ee5\u7528\u706b\u7403\u70b9\u67d0\u4e2a\u4eba\uff0c\u4f1a\u5bf9\u5f53\u524d\u4eba\u9020\u6210a\u70b9\u4f24\u5bb3\uff0c\u5bf9\u65c1\u8fb9\u7684\u4eba\u9020\u6210b\u70b9\u4f24\u5bb3\u3002\n\n- \u4e0d\u80fd\u62531\u53f7\u548cn\u53f7\uff0c\u6c42\u6700\u5c11\u591a\u5c11\u53d1\u70b9\u6b7b\u6240\u6709\u4eba\u3002\n\n### Note \n- \u4e00\u4e2a\u4eba\u88ab\u6253\u6b7b\u5f53\u4e14\u4ec5\u5f53\u5b83\u7684\u8840\u91cf$<0$\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<cstdlib>\n#include<algorithm>\n#include<string>\n#define ll long long\n#define maxn 100005\n#define inf 2147483647\n#define mod 10003\n#define eps 1e-6\n#define pi acos(-1.0)\n#define de(x) ((x)*(x))\nusing namespace std; \ninline int read(){\n    int x=0,f=1; char ch=getchar();\n    while(!isdigit(ch)) {if(ch=='-')f=-1;ch=getchar();}\n    while(isdigit(ch)) {x=x*10+ch-48;ch=getchar();}\n    return x*f;\n}\nint n,a,b,h[15],tot,ans;\nint p[155],val[155];\ninline void check(){\n\tint yu=max(h[n-1]/a+(h[n-1]>=0),h[n]/b+(h[n]>=0));\n\tfor(int i=1;i<=yu;i++) p[++tot]=n-1;\n\tif(ans>tot){\n\t\tfor(int i=1;i<=tot;i++) val[i]=p[i];\n\t\tans=tot;\n\t}\n\ttot-=yu;\n}\ninline void dfs(int now){//\u6807\u51c6\u7684dfs\n\tif(now>n-1) {check();return;}\n\tif(h[now-1]<0) dfs(now+1);\n\tint last=tot,A=h[now-1],B=h[now],C=h[now+1];\n    while(1){\n        h[now]-=a; h[now-1]-=b;\n\t\th[now+1]-=b; p[++tot]=now;\n        if(h[now-1]<0) dfs(now+1);\n        if((h[now-1]<0&&h[now]<0)||tot>=ans){\n            tot=last;\n            h[now-1]=A; h[now]=B; h[now+1]=C;\n            break;\n        }\n    }\n}\nsigned main(){\n\tn=read(); a=read(); b=read();\n\tfor(int i=1;i<=n;i++) h[i]=read();\n\tans=inf; tot=0;\n\tdfs(2);\n\tprintf(\"%d\\n\",ans);\n\tfor(int i=1;i<=ans;i++) printf(\"%d \",val[i]);\n    return 0;\n}\n```",
        "postTime": 1567255622,
        "uid": 126772,
        "name": "\u53f6\u67ab",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF6D \u3010Lizards and Basements 2\u3011"
    }
]