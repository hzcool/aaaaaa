[
    {
        "content": "[\u4f20\u9001\u95e8 to \u6d1b\u8c37](https://www.luogu.com.cn/problem/CF234D)\n\n[\u4f20\u9001\u95e8 to CF](http://codeforces.com/problemset/problem/234/D)\n\n\u8fd9\u662f\u4e00\u9053\u4e0d\u9519\u7684~~\u66b4\u529b~~\u6a21\u62df\u9898\uff0c\u601d\u8def\u5f88\u597d\u60f3\uff0c\u5224\u65ad\u559c\u6b22\u6f14\u5458\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\uff0c\u7136\u540e\u548c $n$ \u90e8\u7535\u5f71\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u8fdb\u884c\u6bd4\u8f83\u5373\u53ef\u3002\u672c\u9898\u8bfb\u5165\u91cf\u8f83\u5927\uff0c\u5efa\u8bae\u4f7f\u7528\u8f83\u5feb\u7684\u8bfb\u5165\u65b9\u5f0f\u3002\n\n\n- \u6ce8\u610f\uff1a\u672c\u9898\u8981\u6253\u6587\u4ef6\u8f93\u5165\u8f93\u51fa\uff01\uff01\uff01\n\n```cpp\n//Problem:CF234D\n//Time:2022.2.18 evening\n//Author:Leonador\n\n#include<cstdio>\n#include<bitset>\n\nusing namespace std;\n\ninline int read(){\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-') f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-48;ch=getchar();}\n\treturn x*f;\n}//\u5feb\u8bfb\u4f18\u5316 \n\n#define rd(x) x=read()\n\nstruct node{\n\tint d;\n\tint b[110];\n\tchar name[110];\n}str[110];\n\nint a[110];\nint imax[110],imin[110];\n\nbitset<110>vis;\n//bitset\u5728\u672c\u9898\u4e2d\u53ef\u770b\u6210bool\u6570\u7ec4\u7684\u4e00\u79cd\u4f18\u5316\uff0c\u7528\u6cd5\u548cbool\u6570\u7ec4\u4e00\u6837 \n\nint main(){\n\tfreopen(\"input.txt\",\"r\",stdin);\n\tfreopen(\"output.txt\",\"w\",stdout);\n\t//\u5341\u5e74OI\u4e00\u573a\u7a7a\uff0c\u4e0d\u6253freopen\u89c1\u7956\u5b97 \n\tint m,k;\n\trd(m);rd(k);\n\tfor(int i=1;i<=k;i++){\n\t\trd(a[i]);\n\t\tvis[a[i]]=true;\n\t}\n\tint n;\n\trd(n);\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%s\",str[i].name);\n\t\trd(str[i].d);\n\t\tfor(int j=1;j<=str[i].d;j++){\n\t\t\trd(str[i].b[j]);\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tint cnt1=k,cnt2=0,cnt3=m-k,cnt4=0;\n\t\tfor(int j=1;j<=str[i].d;j++){\n\t\t\tif(!str[i].b[j]) cnt2++;\n\t\t\telse if(!vis[str[i].b[j]]) cnt3--;\n\t\t\telse if(vis[str[i].b[j]]){\n\t\t\t\tcnt1--;\n\t\t\t\tcnt4++;\n\t\t\t}\n\t\t}\n\t\tif(cnt1>=cnt2) imax[i]=cnt4+cnt2;\n\t\telse imax[i]=cnt4+cnt1;\n\t\tif(cnt3>=cnt2) imin[i]=cnt4;\n\t\telse imin[i]=cnt4+cnt2-cnt3;\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tint cnt=1;\n\t\twhile(cnt<=n){\n\t\t\tif(cnt!=i&&imax[cnt]>imin[i]) break;\n\t\t\tcnt++;\n\t\t}\n\t\tif(cnt>n) puts(\"0\");\n\t\telse{\n\t\t\tint tmp=1;\n\t\t\twhile(tmp<=n){\n\t\t\t\tif(tmp!=i&&imax[i]<imin[tmp]) break;\n\t\t\t\ttmp++;\n\t\t\t}\n\t\t\tif(tmp<=n) puts(\"1\");\n\t\t\telse puts(\"2\");\n\t\t}\n\t}\n\treturn 0;//\u5927\u529f\u544a\u6210 \n}\n```\n",
        "postTime": 1645232050,
        "uid": 574886,
        "name": "Leonador",
        "ccfLevel": 0,
        "title": "CF234D Cinema \u9898\u89e3"
    },
    {
        "content": "#### \u9898\u610f\n\n\u6709 $m$ \u4e2a\u6f14\u5458\u7f16\u53f7\u5206\u522b\u4e3a $1$ \u81f3 $m$\u3002\u5176\u4e2d\uff0c\u7f16\u53f7\u5206\u522b\u4e3a $a_1$ \u81f3 $a_k$ \u7684 $k$ \u4e2a\u6f14\u5458\u662f\u5c0f V \u6240\u559c\u7231\u7684\u3002\n\n\u5f53\u4e14\u4ec5\u5f53\u4e0d\u5b58\u5728\u62e5\u6709\u66f4\u591a\u5c0f V \u559c\u6b22\u7684\u6f14\u5458\u7684\u7535\u5f71\u65f6\uff0c\u8fd9\u4e2a\u4e00\u4e2a\u7535\u5f71\u662f\u5c0f V \u559c\u7231\u7684\u7684\u7535\u5f71\u3002\n\n\u5c0f V \u8bb0\u5f55\u4e86\u4e0b\u4e2a\u6708 $n$ \u4e2a\u7535\u5f71\u7684\u5f71\u7247\u540d\u79f0  $s_i$\uff0c\u6f14\u5458\u4eba\u6570 $d_i$ \u548c\u6f14\u5458\u7f16\u53f7 $b_{ij}$\u3002\u7279\u6b8a\u5730\uff0c\u82e5\u7ed9\u5b9a\u7684\u6f14\u5458\u7f16\u53f7\u4e3a $0$ \u5219\u4ee3\u8868\u5c0f V \u5fd8\u8bb0\u4e86\u8fd9\u4e2a\u6f14\u5458\u7684\u7f16\u53f7\u3002\n\n\u8bd5\u6c42\u51fa\u6bcf\u4e2a\u7535\u5f71\u662f\u5426\u662f\u5c0f V \u559c\u7231\u7684\u7535\u5f71\u3002\u82e5\u80af\u5b9a\u662f\uff0c\u8f93\u51fa ``0``\uff1b\u82e5\u4e0d\u53ef\u80fd\u662f\uff0c\u8f93\u51fa``1``\uff0c\u82e5\u4e0d\u786e\u5b9a\uff0c\u8f93\u51fa``2``\u3002\n\n $1\\leq k \\leq m \\leq 100,1\\leq d_i\\leq m,0\\leq b_{ij}\\leq m,1\\leq |s_i|\\leq10$\n\n\u7535\u5f71\u540d\u79f0\u7531\u5c0f\u5199\u5b57\u6bcd\u7ec4\u6210\u3002\u540c\u4e00\u90e8\u7535\u5f71\u4e2d\u4e0d\u4f1a\u51fa\u73b0\u4e24\u4e2a\u76f8\u540c\u7684\u6f14\u5458\u7f16\u53f7\u3002\n\n\u6709\u76f8\u5f53\u591a\u7684\u591a\u4f59\u4fe1\u606f\u3002\u4f8b\u5982\u5f71\u7247\u7684\u540d\u5b57\uff0c\u6f14\u5458\u7684\u5177\u4f53\u7f16\u53f7\u7b49\u3002\u53bb\u6389\u591a\u4f59\u4fe1\u606f\u672c\u8d28\u4e0a\u662f\u7ed9\u5b9a\u6bcf\u4e2a $a_i$ \u7684\u8303\u56f4\uff0c\u6c42 $a_i$ \u662f\u5426\u53ef\u80fd\u6216\u662f\u5426\u4e00\u5b9a\u662f $a$ \u7684\u6700\u5927\u503c\u3002\n\n#### \u89e3\u6cd5\n\n\u9996\u5148\u53ef\u4ee5\u6ce8\u610f\u5230\u559c\u6b22\u7684\u6f14\u5458\u7684\u987a\u5e8f\u4e0d\u91cd\u8981\uff0c\u4f46\u662f\u540e\u9762\u53c8\u8981\u5feb\u901f\u77e5\u9053\u662f\u5426\u559c\u7231\u8fd9\u4e2a\u6f14\u5458\u3002\u6240\u4ee5\u6876\u6392\u4e4b\u3002\n\n```cpp\nreadln(m),readln(k);\n    for(rei i=1;i<=k;i++)readln(ai),like[ai]=1;\n```\n\n\u4e00\u4e2a\u5f71\u7247\u5177\u4f53\u6709\u90a3\u4e9b\u6f14\u5458\u4e5f\u4e0d\u91cd\u8981\uff0c\u53ea\u9700\u8981\u77e5\u9053\u559c\u6b22\u7684\u4eba\u6570\u548c\u4e0d\u786e\u5b9a\u7684\u4eba\u6570(0\u7684\u4e2a\u6570)\u5c31\u53ef\u4ee5\u3002\u6211\u4eec\u5206\u522b\u8bb0\u4e00\u5b9a\u62e5\u6709\u7684\u559c\u6b22\u7684\u6f14\u5458\u7684\u4eba\u6570\uff0c\u4e0d\u786e\u5b9a\u7684\u4eba\u6570\uff0c\u5b9e\u9645\u4e0a\u62e5\u6709\u7684\u559c\u6b22\u7684\u6f14\u5458\u7684\u4eba\u6570\u4e3a $u_i,v_i,a_i$\u3002\u663e\u7136 $a_i\\in[u_i,u_i+v_i]$\n\n```cpp\nfor(rei i=1;i<=n;i++){\n    cin>>si;\n    readln(di);\n    for(rei j=1;j<=di;j++){\n        readln(bij);\n        if(bij==0)u[i]++;\n        else if (like[bij])v[i]++;\n    }\n        ...\n}\n```\n\n\u4e00\u4e2a\u5f71\u7247 $i$ \u4e00\u5b9a\u662f\u559c\u6b22\u7684\uff0c\u5f53\u4e14\u4ec5\u5f53 $\\forall j\\ u_i\\geq u_j+v_j$ \u3002\u4e00\u5b9a\u4e0d\u662f\u559c\u6b22\u7684\uff0c\u5f53\u4e14\u4ec5\u5f53 $\\forall j\\ u_i+v_i\\le u_j$\u3002\n\n\u90a3\u4e48\u7edf\u8ba1 $\\max\\{u_i+v_i\\},\\min\\{u_j\\}$ \u3002\n\n```cpp\nif(v[i]>v[lf])lf=i;\nif(v[i]+u[i]>v[mf]+u[mf])mf=i;\n```\n\n\u5e76\u9010\u4e2a\u6bd4\u8f83\n\n```cpp\nfor(rei i=1;i<=n;i++){\n    if(v[i]>=v[mf]+u[mf])puts(\"0\");\n    else if (v[i]+u[i]<v[lf])puts(\"1\");\n    else puts(\"2\");\n}\n```\n\n\u7136\u540e\u4ea4\u4e0a\u53bb\uff0c\u4f1a\u53d1\u73b0\u6837\u4f8b\u90fd $\\color{red}\\texttt{WA}$ \u3002\n\n\u6ce8\u610f\u4ee5\u4e0b\u7ec6\u8282\uff1a\n\n\u53ef\u80fd\u591a\u4f59\u7684 $0$ \u4e2d\u6709\u51e0\u4e2a\u5fc5\u987b\u586b\u4e0a\u559c\u6b22\u7684\u6f14\u5458\u3002\n\n```cpp\nif(v[i]<k-(m-di)){\n    int cc=k-(m-di)-v[i];\n    v[i]+=cc,u[i]-=cc;\n}\n```\n\n$0$ \u53ef\u80fd\u6ca1\u6cd5\u5168\u90e8\u7528\u559c\u6b22\u7684\u6f14\u5458\u586b\u6ee1\u3002\n\n```cpp\nu[i]=min(u[i],k-v[i]);\n```\n\n\u6709\u53ef\u80fd $\\forall j\\not=i\\ \\min\\{a_i\\}>\\max\\{a_j\\}$ \u4f46\u662f $\\max\\{a_i\\}>\\min\\{a_i\\}$ \u3002\u8bd5\u7ef4\u62a4\u6b21\u5c0f\u7684 $\\max\\{a_i\\}$\u3002\n\n```cpp\nif(v[i]+u[i]>v[mf]+u[mf])mu=mf,mf=i;\n    else if (v[i]+u[i]>v[mu]+u[mu])mu=i;\n```\n\n```cpp\nif(v[i]>=v[mf]+u[mf] or (i==mf and v[i]>=v[mu]+u[mu]))puts(\"0\");\n```\n\n\u6700\u540e\u52a0\u4e0a\u6587\u4ef6\u8f93\u5165\u8f93\u51fa\u3002\n\n#### Code\n\n\u4ee3\u7801\u90fd\u5206\u6210\u4e00\u90e8\u5206\u4e00\u90e8\u5206\u653e\u4e86\uff0c\u5b8c\u6574\u7684\u53ef\u4ee5\u770b[\u8fd9\u91cc](https://codeforces.ml/contest/234/submission/166903933)\u3002\n\n\u9898\u89e3\u4e3b\u8981\u662f\u5199\u7ed9n\u5e74\u6ca1\u5199\u4ee3\u7801\u7684\u81ea\u5df1\u6574\u7406\u601d\u8def\u7684\u3002",
        "postTime": 1659610138,
        "uid": 217300,
        "name": "Error_Eric",
        "ccfLevel": 6,
        "title": "\u9898\u89e3  CF234D Cinema"
    },
    {
        "content": "\u601d\u8def\uff1a\u6b64\u9898\u9700\u8981\u4e00\u5b9a\u7684\u601d\u7ef4\u8fc7\u7a0b\uff0c\u5728\u6700\u540e\u786e\u5b9a\u8fd9\u90e8\u7535\u5f71\u662f\u5426\u53ef\u80fd\u6210\u4e3a\u6700\u559c\u6b22\u6216\u8005\u4e00\u5b9a\u4e0d\u53ef\u80fd\u6216\u8005\u4e00\u5b9a\u662f\uff0c\u6709\u4ee5\u4e0b\u51e0\u70b9\uff1a1.\u5982\u679c\u8fd9\u90e8\u7535\u5f71\u7684\u786e\u5b9a\u559c\u6b22\u4eba\u6570\uff0c\u5df2\u7ecf\u5927\u4e8e\u5176\u4ed6\u4efb\u610f\u4e00\u4e2a\u7535\u5f71\u7684\u559c\u6b22\u4eba\u6570\u52a0\u4e0d\u786e\u5b9a\u4eba\u6570\u4e4b\u548c\uff0c\u90a3\u4e48\u53ef\u4ee5\u786e\u5b9a\u5b83\u5c31\u662f\u6700\u559c\u6b22\u7684\u30022.\u5982\u679c\u8fd9\u90e8\u7535\u5f71\u7684\u559c\u6b22\u4eba\u6570\u52a0\u4e0a\u4e0d\u786e\u5b9a\u4eba\u6570\u5df2\u7ecf\u5c0f\u4e8e\u4e86\u6240\u6709\u7535\u5f71\u4e2d\u6700\u591a\u4e00\u90e8\u7684\u559c\u6b22\u4eba\u6570\uff0c\u90a3\u4e48\u8fd9\u90e8\u7535\u5f71\u80af\u5b9a\u662f\u4e0d\u559c\u6b22\u7684\u30023.\u5176\u4f59\u4e3a\u4e0d\u786e\u5b9a\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define N 107\nint zero[N],vis[N],a[N];\nint d[N][N];\nint like[N],mlike[N];\nmap<int,int> mp;\n\nint main()\n{\n    freopen(\"input.txt\",\"r\",stdin);\n    freopen(\"output.txt\",\"w\",stdout);\n    int m,k,chang,i,j,maxilike,ka,maximlike;\n    char ss[17];\n    while(scanf(\"%d%d\",&m,&k)!=EOF)\n    {\n        mp.clear();\n        for(i=0;i<k;i++)\n        {\n            scanf(\"%d\",&a[i]);\n            mp[a[i]] = 1; \n        }\n        memset(zero,0,sizeof(zero));\n        maxilike = maximlike = -10000;\n        scanf(\"%d\",&chang);\n        for(i=0;i<chang;i++)\n        {\n            scanf(\"%s\",ss);\n            scanf(\"%d\",&ka);\n            for(j=0;j<ka;j++)\n            {\n                scanf(\"%d\",&d[i][j]);\n                if(d[i][j] == 0)\n                    zero[i]++;\n            }\n            if(ka == m)\n            {\n                maxilike = max(maxilike,k);\n                maximlike = max(maximlike,k);\n                mlike[i] = k;\n                like[i] = k;\n            }\n            else\n            {\n                int ca = 0;\n                memset(vis,0,sizeof(vis));\n                for(j=0;j<k;j++)\n                    vis[a[j]] = 1;\n                for(j=0;j<ka;j++)\n                {\n                    if(mp[d[i][j]])\n                        ca++;\n                    vis[d[i][j]] = 1;\n                }\n                int unvis = 0;\n                for(j=1;j<=m;j++)\n                {\n                    if(!vis[j])\n                        unvis++;\n                }\n                if(unvis < zero[i])\n                {\n                    like[i] = ca + zero[i] - unvis;\n                    mlike[i] = ca + min(zero[i],k-ca);\n                }\n                else\n                {\n                    mlike[i] = ca + min(zero[i],k-ca);\n                    like[i] = ca;\n                }\n                maxilike = max(maxilike,like[i]);\n                maximlike = max(maximlike,mlike[i]);\n            }\n        }\n        for(i=0;i<chang;i++)\n        {\n            if(like[i] >= maximlike || (like[i] >= maxilike && mlike[i] == maximlike))\n            {\n                if(like[i] >= maximlike)\n                    printf(\"0\\n\");\n                else\n                {\n                    int flag = 1;\n                    for(j=0;j<chang;j++)\n                    {\n                        if(j!=i && like[i] < mlike[j])\n                        {\n                            flag = 0;\n                            break;\n                        }\n                    }\n                    if(flag)\n                        printf(\"0\\n\");\n                    else\n                        printf(\"2\\n\");\n                }\n            }\n            else if(mlike[i] < maxilike)\n                printf(\"1\\n\");\n            else\n                printf(\"2\\n\");\n        }\n    }\n    return 0;\n}\n```\n",
        "postTime": 1566273878,
        "uid": 132290,
        "name": "\u5f00\u59cb\u65b0\u7684\u8bb0\u5fc6",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF234D \u3010Cinema\u3011"
    }
]