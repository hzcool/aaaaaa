[
    {
        "content": "\u5bf9\u4e8e\u4e00\u4e2a\u6ca1\u6709\u73af\u7684\u8054\u901a\u5757,\u53ef\u4ee5\u7528\u62d3\u6251\u5e8f\u6392\u6210\u4e00\u4e2a\u94fe \u7528tot-1\u6761\u8fb9.\u56e0\u4e3a,\u8054\u901atot\u4e2a\u70b9\u81f3\u5c11\u9700\u8981tot-1\u6761\u8fb9,\u6240\u4ee5\u8fd9\u662f\u6700\u4f18\u7684\n\n\u5bf9\u4e8e\u4e00\u4e2a\u6709\u73af\u7684\u8fde\u901a\u5757,\u53ef\u4ee5\u6392\u6210\u4e00\u4e2a\u73af,\u7528tot\u6761\u8fb9.\u56e0\u4e3a,\u5bf9\u4e8e\u8fd9\u4e2a\u8fde\u901a\u5757\u4e2d\u7684\u73af,\u5df2\u7ecf\u4e0d\u80fd\u7528\u4e2a\u6570-1\u6761\u8fb9\u6ee1\u8db3\u6761\u4ef6,\u6240\u4ee5\u4e2a\u6570\u6761\u8fb9\u662f\u6700\u4f18\u7684\n\n\u5bf9\u4e8e\u5224\u73af,\u53ef\u4ee5\u91c7\u7528\u5e76\u67e5\u96c6\u548ctopsort\n\n```cpp\n#include<bits/stdc++.h>\n#define maxn 100005\n#define maxm 100005\nusing namespace std;\nstruct edge{int to,nxt;}e[maxm];\nint head[maxn],cnte,n,m;\nvoid adde(int u,int v){e[++cnte]=(edge){v,head[u]};head[u]=cnte;}\nint fa[maxn];\nint find(int x){return fa[x]==x?x:fa[x]=find(fa[x]);}\nvoid merge(int x,int y){if((x=find(x))^(y=find(y))) fa[x]=y;}\nqueue<int>q;\nint vis[maxn],in[maxn];\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++) fa[i]=i;\n\twhile(m--){\n\t\tint u,v;scanf(\"%d%d\",&u,&v);\n\t\tadde(u,v);merge(u,v);in[v]++;\n\t}int ans=n;\n\tfor(int i=1;i<=n;i++) fa[i]=find(i),ans-=vis[fa[i]]==0,vis[fa[i]]=1;\n\tfor(int i=1;i<=n;i++) if(!in[i]) q.push(i);\n\twhile(!q.empty()){\n\t\tint u=q.front();q.pop();\n\t\tfor(int i=head[u];i;i=e[i].nxt){\n\t\t\tint v=e[i].to;in[v]--;\n\t\t\tif(!in[v]) q.push(v);\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++) if(in[i]) ans+=vis[fa[i]],vis[fa[i]]=0;\n\treturn printf(\"%d\\n\",ans),0;\n}\n\n```\n",
        "postTime": 1579362669,
        "uid": 87691,
        "name": "Cheng_yf",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF505D \u3010Mr. Kitayuta's Technology\u3011"
    },
    {
        "content": "\u5148\u6309\u7167\u9898\u610f\u5efa\u6709\u5411\u56fe\u3002  \n\n\u663e\u7136\uff0c\u4e0d\u540c\u8054\u901a\u5757\u4e4b\u95f4\u4e0d\u9700\u8981\u8fde\u8fb9\u3002  \n\n\u8003\u8651\u540c\u4e00\u8054\u901a\u5757\u5185\uff0c\u53d1\u73b0\u6709\u4e24\u79cd\u60c5\u51b5\u3002  \n\n1. \u539f\u56fe\u662f\u4e00\u4e2a DAG   \n\t\u663e\u7136\u6211\u4eec\u53ef\u4ee5\u6309\u62d3\u6251\u5e8f\u8fde\u6210\u4e00\u6761\u94fe\uff0c\u8fd9\u6837\u6bcf\u4e2a\u70b9\u524d\u9762\u7684\u70b9\u4e00\u5b9a\u5728\u5b83\u524d\u9762\u3002\u9700\u8981 $n-1$ \u6761\u8fb9\u3002\u663e\u7136\u4e0d\u5b58\u5728\u66f4\u4f18\u89e3\uff08\u6ca1\u6709\u73af\uff0c$n-1$\uff09\u3002  \n    \n2. \u539f\u56fe\u5305\u542b\u5f3a\u8054\u901a\u5206\u91cf   \n\t\u6211\u4eec\u53ef\u4ee5\u628a\u6240\u6709\u70b9\u6309\u4efb\u610f\u987a\u5e8f\u8fde\u6210\u4e00\u4e2a\u73af\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u4efb\u610f\u4e24\u70b9\u4e24\u4e24\u53ef\u8fbe\u3002\u9700\u8981 $n$ \u6761\u8fb9\u3002\u663e\u7136\u4e0d\u5b58\u5728\u66f4\u4f18\u89e3\uff08\u8003\u8651\u81f3\u5c11\u9700\u8981\u6709\u73af\uff0c\u90a3\u4e48\u4e00\u5b9a\u6709\u5927\u4e8e $n-1$ \u6761\u8fb9\uff09\u3002   \n\n\u6240\u4ee5\u6211\u4eec\u7684\u7b54\u6848\u662f \u603b\u70b9\u6570-DAG\u6570=\u603b\u70b9\u6570-\u8054\u901a\u5feb\u6570+\u542b\u73af\u56fe\u6570\u3002   \n\n\u9996\u5148\u603b\u70b9\u6570\u9898\u76ee\u7ed9\u51fa\u4e86\uff0c\u662f $n$ \u4e2a\u3002   \n\n\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u5efa\u53cc\u5411\u8fb9 dfs \u67d3\u8272\u6c42\u51fa\u8fde\u901a\u5757\u6570\u3002   \n\n\u7136\u540e\u6211\u4eec\u5728\u6709\u5411\u56fe\u4e0a dfs \u5224\u8be5\u8fde\u901a\u5757\u662f\u5426\u542b\u73af\uff0c\u5177\u4f53\u5730\uff0c\u901a\u8fc7\u6807\u8bb0\uff0c\u5224\u65ad\u662f\u5426\u5728\u5230\u8fbe\u8be5\u70b9\u7684\u8def\u5f84\u4e0a\u7ecf\u8fc7\u8be5\u70b9\u6765\u5b9e\u73b0\u3002\u6bcf\u5230\u4e00\u4e2a\u70b9\u5c06\u5176\u6807\u8bb0\u7f6e\u4e3a 1\uff0c\u79bb\u5f00\u65f6\u7f6e\u4e3a 0\u3002  \n\n\u4ee3\u7801\uff08\u4e0d\u5230 20 \u884c\uff0c\u4e0d\u5230 600B\uff0c\u9002\u5408\u56fe\u8bba\u521d\u5b66\u8005\u7ec3\u4e60\uff09\uff1a    \n```cpp\n#include<bits/stdc++.h>\nconst int N=1e5+10;\nint n,m,col[N],cnt;\nbool flg[N],vis[N],isk[N];\nstd::vector<int>g[N],g1[N];\nvoid dfs1(int u){col[u]=cnt;for(auto v:g1[u])if(!col[v])dfs1(v);}\nvoid dfs(int u){vis[u]=isk[u]=1;for(auto v:g[u])if(!vis[v])dfs(v);else flg[col[v]]|=isk[v];isk[u]=0;}\nint main()\n{\n\tint i,x,y;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(i=1;i<=m;i++)scanf(\"%d%d\",&x,&y),g[x].push_back(y),\n\tg1[x].push_back(y),g1[y].push_back(x);\n\tfor(i=1;i<=n;i++)if(!col[i])++cnt,dfs1(i);\n\tfor(i=1;i<=n;i++)if(!vis[i])dfs(i);\n\tfor(i=1,y=n-cnt;i<=cnt;i++)y+=flg[i];\n\tprintf(\"%d\\n\",y);\n\treturn 0;\n}\n```",
        "postTime": 1604068644,
        "uid": 35137,
        "name": "a___",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF505D \u3010Mr. Kitayuta's Technology\u3011"
    }
]