[
    {
        "content": "[\u9898\u9762\u94fe\u63a5](https://www.luogu.com.cn/problem/CF1462D)\n\n## \u9898\u76ee\u5206\u6790\n\n\u5b9e\u9645\u4e0a\u9898\u76ee\u8bf4\u7684\u64cd\u4f5c\u6700\u7ec8\u5c31\u662f\u8981\u628a\u6574\u4e2a\u5e8f\u5217\u5206\u6210\u82e5\u5e72\u6bb5\uff0c\u4e14\u6bcf\u4e00\u6bb5\u7684\u548c\u76f8\u7b49\u3002\n\n\u5176\u5b9e\u53ef\u4ee5\u901a\u8fc7\u770b\u9898\u9762\u53d1\u73b0\u5f88\u591a\u6709\u7528\u7684\u4e1c\u897f\u3002\n\n> It is guaranteed that the sum of $n$ over all test cases does not exceed $3000$.\uff08\u53ef\u4ee5\u4fdd\u8bc1\uff0c\u6bcf\u7ec4\u6d4b\u8bd5\u6570\u636e\u4e2d $n$ \u7684\u548c\u4e0d\u4f1a\u8d85\u8fc7 $3000$\uff09\n\n\u56e0\u6b64 $\\mathcal{O}(n^2)$ \u7b97\u6cd5\u80af\u5b9a\u662f\u53ef\u4ee5\u8fc7\u7684\u3002\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u4ece $\\mathcal{O}(n^2)$ \u7684\u89d2\u5ea6\u60f3\u3002\u60f3\u5230 $n^2$\uff0c\u4e5f\u5c31\u4e0d\u96be\u60f3\u5230\u679a\u4e3e\u3002\u679a\u4e3e\u4ec0\u4e48\u5462\uff1f\u7b80\u5355\u60f3\u4e00\u60f3\u5c31\u80fd\u53d1\u73b0\uff0c\u53ef\u4ee5\u679a\u4e3e\u7b2c\u4e00\u6bb5\u5e8f\u5217\u7684\u957f\u5ea6\u3002\u56e0\u4e3a\u8fd9\u6bb5\u5e8f\u5217\u7684\u5de6\u7aef\u70b9\u662f $1$\uff0c\u6240\u4ee5\u53ea\u8981\u679a\u4e3e\u53f3\u7aef\u70b9\u5373\u53ef\u3002\n\n\u6bcf\u5f53\u679a\u4e3e\u51fa\u4e00\u4e2a\u7b2c\u4e00\u6bb5\u5e8f\u5217\u7684\u957f\u5ea6 $i$\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4ece $i+1$ \u5f00\u59cb\u5f80\u540e\u679a\u4e3e\uff0c\u5e76\u7ef4\u62a4\u4e00\u4e2a $sum$\uff0c\u5f53 $sum>$ \u7b2c\u4e00\u6bb5\u5e8f\u5217\u7684\u6570\u4e4b\u548c \u65f6\uff0c\u5c31\u8bf4\u660e\u7b54\u6848\u4e0d\u53ef\u884c\uff1b\u5f53 $sum=$ \u7b2c\u4e00\u6bb5\u5e8f\u5217\u7684\u6570\u4e4b\u548c \u65f6\uff0c\u5c31\u8bf4\u660e\u8fd9\u4e00\u6bb5\u5df2\u7ecf\u6ee1\u4e86\u3002\u8fd9\u65f6\u5c31\u53ef\u4ee5\u628a\u7ef4\u62a4\u7684 $sum$ \u5f52 $0$\uff0c\u7136\u540e\u5f00\u59cb\u4e0b\u4e00\u6bb5\u5e8f\u5217\u3002\n## \u4ee3\u7801\u5b9e\u73b0\n```cpp\n#include<algorithm>\n#include<cstdio>\nusing namespace std;\nint t,n,a[3001];\nint main(){\n\tscanf(\"%d\",&t);\n\twhile(t--){\n\t\tscanf(\"%d\",&n);\n\t\tfor(int i=1;i<=n;++i) scanf(\"%d\",&a[i]);\n\t\tint sum=0,acnt=0,cnt,res=0x3f3f3f3f;\n\t\tfor(int i=1;i<=n;++i){\n\t\t\tsum+=a[i];\n\t\t\tif(i>1) ++acnt;//\u6ce8\u610f\u5982\u679c\u662f\u4e00\u6bb5\u7684\u5f00\u5934\u7684\u8bdd\u4e0d\u7528\u589e\u52a0\u64cd\u4f5c\u6570\n\t\t\tcnt=acnt;\n\t\t\tint tmpsum=0;//\u7528\u6765\u5b58\u6bcf\u4e00\u6bb5\u7684\u548c\n\t\t\tbool flag=true;\n\t\t\tfor(int j=i+1;j<=n;++j){\n\t\t\t\tif(tmpsum) ++cnt;//\u540c\u4e0a\n\t\t\t\ttmpsum+=a[j];\n\t\t\t\tif(tmpsum==sum) tmpsum=0;\n\t\t\t\telse if(tmpsum>sum){//\u7b54\u6848\u4e0d\u53ef\u884c\n\t\t\t\t\tflag=false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(flag&&!tmpsum) res=min(cnt,res);//\u66f4\u65b0\u7b54\u6848\n\t\t}\n\t\tprintf(\"%d\\n\",res);\n\t}\n\treturn 0;\n}\n```\n## \u5199\u5728\u6700\u540e\n\u5e0c\u671b\u8fd9\u7bc7\u9898\u89e3\u80fd\u8ba9\u5927\u5bb6\u6709\u6240\u6536\u83b7\uff0c\u6709\u6240\u6536\u83b7\u7684\u540c\u65f6\u4e0d\u8981\u5fd8\u4e86\u7559\u4e0b\u4e00\u4e2a\u514d\u8d39\u7684\u8d5e\uff08",
        "postTime": 1657546949,
        "uid": 324350,
        "name": "xiaomuyun",
        "ccfLevel": 5,
        "title": "CF1462D Add to Neighbour and Remove \u9898\u89e3"
    },
    {
        "content": "### CF1462D Add to Neighbour and Remove \u9898\u89e3\n\n$\\color{green}\\textbf{\u9898\u76ee\u5927\u610f}$\n\n\u5c06\u4e24\u4e2a\u6570\u5408\u5e76\u6210\u4e00\u4e2a\u6570\uff0c\u8fdb\u884c\u82e5\u5e72\u6b21\u5408\u5e76\u540e\uff0c\u4f7f\u6570\u7ec4\u4e2d\u6240\u6709\u6570\u76f8\u7b49\u3002\n\n$\\color{red}\\textbf{\u6211\u7684\u601d\u8def}$\n\n**\u66b4\u529b\u679a\u4e3e\uff01**\n\n\u6211\u4eec\u5148\u770b\u6570\u636e\uff0c$n\\le3\\times10^3$\uff0c$O(n^2)$ \u6ca1\u6709\u4efb\u4f55\u7684\u95ee\u9898\u3002\n\n\u679a\u4e3e\u4ec0\u4e48\u5462\uff1f\u679a\u4e3e\u5408\u5e76\u7684\u6b21\u6570\u3002\n\n\u6211\u4eec\u679a\u4e3e\u5408\u5e76\u7684\u6b21\u6570\u4e3a $i$\u3002\n\n\u56e0\u4e3a\u5b83\u4eec\u662f\u4e0d\u65ad\u5408\u5e76\u7684\uff0c\u6240\u4ee5\u5b83\u4eec\u7684\u548c\u4e0d\u4f1a\u53d8\uff0c\u53c8\u56e0\u4e3a\u5408\u5e76\u540e\u6bcf\u4e2a\u6570\u76f8\u540c\uff0c\u6240\u4ee5\u77e5\u9053\u4e86 $i$ \u540e\uff0c\u5c31\u53ef\u4ee5\u77e5\u9053\u5408\u5e76\u540e\u7684\u6570\u4e86\u3002\n\n$\\color{blue}\\textbf{\u7a0b\u5e8f\u5b9e\u73b0}$\n\n\u6709\u4e86\u4e0a\u9762\u7684\u601d\u8def\u540e\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5224\u65ad\u4e24\u4e2a\uff1a\n\n- \u5b83\u4eec\u7684\u548c $sum$ \u662f\u5426\u80fd\u591f\u6574\u9664\u5269\u4e0b\u7684\u6570\u7684\u4e2a\u6570\u3002\n\n- \u8bbe\u6700\u540e\u5269\u4e0b\u7684\u6570\u5747\u4e3a $k$\uff0c\u5224\u65ad\u8fd9\u4e9b\u6570\u80fd\u5426\u521a\u597d\u5408\u6210 $(n-i)$ \u4e2a $k$\u3002\n\n```cpp\n#include<iostream>\n#include<fstream>\n#include<algorithm>\n\nusing namespace std;\nint t,n,a[100010],sum;\nbool pd(int k,int w)//k\u4ee3\u8868\u5269\u4e0b\u7684\u6570\uff0cw\u4ee3\u8868\u5269\u4e0b\u51e0\u4e2a\u6570\uff0c\u5373 n-i\n{\n\t int l=0,x=0;\n\t for(int i=1;i<=n;i++)\n\t {\n\t\t l+=a[i];//\u52a0\u4e0a\u5f53\u524d\u6570\n\t\t if(l>k)return false;//\u5927\u4e8e\u5219\u4e0d\u80fd\u5408\u6210\n\t\t if(l==k)\n\t\t\t l=0,x++;//\u76f8\u7b49\u5219\u53ef\u4ee5\u591a\u5408\u6210\u4e00\u4e2ak,\u4e2a\u6570\u52a0\u4e00\n\t }\n\t if(x==w)return true;//\u80fd\u521a\u597d\u5408\u6210 (n-i) \u4e2a k\n}\nint main()\n{\n     cin>>t;\n\t while(t)\n\t {\n\t\t t--;\n\t\t cin>>n;\n\t\t sum=0;\n\t\t for(int i=1;i<=n;i++)\n\t\t\t cin>>a[i],sum+=a[i];//\u6c42\u548c\n\t\t for(int i=0;i<n;i++)\n\t\t {\n\t\t\t if(sum%(n-i))continue;//\u5982\u679c\u4e0d\u80fd\u6574\u9664\u5c31\u8df3\u8fc7\n\t\t\t if(pd(sum/(n-i),n-i))//\u5224\u65ad\u662f\u5426\u80fd\u521a\u597d\u5408\u6210 (n-i) \u4e2a k\n\t\t\t {\n\t\t\t\t cout<<i<<endl;\n\t\t\t\t break;\n\t\t\t }\n\t\t }\n\t }\n    return 0;\n}\n```\n",
        "postTime": 1642502559,
        "uid": 347664,
        "name": "\u83f2\u65af\u65af\u592b\u65af\u57fa",
        "ccfLevel": 5,
        "title": "CF1462D Add to Neighbour and Remove \u9898\u89e3"
    },
    {
        "content": "# CF1462D Add to Neighbour and Remove \u9898\u89e3\n\n## [\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1462D)\n\n## \u601d\u8def\u5206\u6790\n\n\u7531\u4e8e\u5e8f\u5217\u6700\u540e\u8981\u53d8\u6210\u82e5\u5e72\u4e2a\u76f8\u540c\u7684\u6570\uff0c\u800c\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u5b83\u4eec\u7684\u548c\u662f\u4e0d\u4f1a\u53d1\u751f\u6539\u53d8\u7684\uff0c\u6240\u4ee5\uff1a**\u6700\u540e\u5e8f\u5217\u4e2d\u7684\u90a3\u4e2a\u6570\u4e00\u5b9a\u662f\u4e00\u5f00\u59cb\u5e8f\u5217\u548c\u7684\u56e0\u6570**\u3002\n\n\u5f53\u6211\u4eec\u77e5\u9053\u8fd9\u4e00\u70b9\u65f6\uff0c\u5927\u6982\u601d\u8def\u5c31\u6709\u4e86\uff1a\n\n1. \u6c42\u548c\uff1b\n\n2. \u5217\u51fa\u548c\u7684\u56e0\u6570\uff08\u8fd9\u91cc\u6211\u4eec\u8981\u7528 $\\mathcal{O(\\sqrt{sum})}$ \u7684\u65b9\u6cd5\u505a\uff0c\u5426\u5219 ${O(\\text T \\times sum)}$ \u7684\u603b\u590d\u6742\u5ea6\u4f1a\u8d85\u65f6\uff09\uff1b\n\n3. \u9a8c\u8bc1\uff08\u7ebf\u6027\u626b\u63cf\uff09\u3002\n\n\u5177\u4f53\u89c1\u6ce8\u91ca\uff1a\n\n```cpp\n#include<iostream>\n#include<vector>\nusing namespace std;\nint a[3005];\nvector<long long> y;//\u5b58\u56e0\u6570\nint n;\nint ck(int g){\n\tint cnt=0;\n\tint now=0;\n\tfor(int j=1;j<=n;j++){\n\t\tnow+=a[j];\n\t\tif(now==g){//\u5982\u679c\u7d2f\u8ba1\u7684\u4e00\u6bb5\u533a\u95f4\u548c\u4e0e\u9884\u671f\u7684\u4e00\u6837\uff0c\u5c31\u8ba1\u6570\u53d8\u91cf\u52a0\u4e00\n\t\t\tcnt++;\n\t\t\tnow=0;\n\t\t}\n\t\telse if(now>g){//\u80af\u5b9a\u4e0d\u5408\u6cd5\n\t\t\treturn 0;\n\t\t}\n\t}\n\treturn cnt;\n}\nint main(){\n\tint T;\n\tcin>>T;\n\twhile(T--){\n\t\ty.clear();\n\t\tcin>>n;\n\t\tlong long sum=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%d\",&a[i]);\n\t\t\tsum+=a[i];//\u6c42\u548c\n\t\t}\n\t\tfor(long long i=1;i*i<=sum;i++){//O(sqrt(n))\n\t\t\tif(sum%i==0){\n\t\t\t\ty.push_back(i);\n\t\t\t}\n\t\t}\n\t\tint si=y.size();\n\t\tfor(int i=si-1;i>=0;i--){//\u5012\u7740\u6765\u4e00\u904d\n\t\t\ty.push_back(sum/y[i]);\n\t\t}\n\t\tfor(int i=0;i<y.size();i++){\n\t\t\tint g=y[i];\n\t\t\tint ans=ck(g);\n\t\t\tif(ans){//\u5982\u679c\u80fd\u5408\u6cd5\u5206\u5b8c\n\t\t\t\tcout<<n-sum/g<<'\\n';//\u5408\u5e76\u6b21\u6570\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1682414867,
        "uid": 637180,
        "name": "ChrisWangZi",
        "ccfLevel": 3,
        "title": "CF1462D Add to Neighbour and Remove \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u4e00\u9898\u5176\u5b9e\u53ea\u8981\u66b4\u529b\u6c42\u89e3\u3002\n\n\u5982\u679c\u8981\u5408\u5e76\u6210\u51e0\u4e2a\u76f8\u540c\u7684\u6570\uff0c\u90a3\u4e48\u8fd9\u4e2a\u6570\u5fc5\u7136\u662f $\\sum_{i=1}^{n}a_i$ \u7684\u56e0\u6570\u3002\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u53ea\u8981\u7528 $O(n\\sqrt{sum})$\uff08\u4ee4 $sum=\\sum_{i=1}^{n}a_i$\uff09\u7684\u65f6\u95f4\u53bb\u679a\u4e3e\u56e0\u6570\uff0c\u7136\u540e\u6c42\u51fa\u662f\u5426\u53ef\u884c\u53ca\u6240\u9700\u6b65\u9aa4\u6570\u5373\u53ef\u3002\n\nAC Code\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nint n,a[100005],sum,ans;\n\nint main()\n{\n\tint t;\n\tcin>>t;\n\twhile(t--)\n\t{\n\t\tsum=0;\n\t\tans=1e9;//\u591a\u6d4b\u6ce8\u610f\u521d\u59cb\u503c\n\t\tint n;\n\t\tcin>>n;\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tcin>>a[i];\n\t\t\tsum+=a[i];//\u6c42\u548c\n\t\t}\n\t\tif(sum==0)//\u7279\u5224\n\t\t{\n\t\t\tcout<<0<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tfor(int i=1;i*i<=sum;i++)//\u6bcf\u6b21\u679a\u4e3e\u4e24\u4e2a\u56e0\u6570\n\t\t{\n\t\t\tif(sum%i) continue;\n\t\t\tint x=i,f=1,t=0;//\u679a\u4e3e\u56e0\u6570 i\n\t\t\tll s=0;\n\t\t\tfor(int j=1;j<=n;j++)\n\t\t\t{\n\t\t\t\ts+=a[j];\n\t\t\t\tif(s==x)//\u4e0e\u76ee\u6807\u6570\u76f8\u540c\n\t\t\t\t{\n\t\t\t\t\tt++;\n\t\t\t\t\ts=0;\n\t\t\t\t}\n\t\t\t\telse if(s>x)//\u4e0d\u80fd\u5408\u6210\u6570\n\t\t\t\t{\n\t\t\t\t\tf=0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(f) ans=min(ans,n-t);//\u53ef\u884c\u5219\u6c42\u503c\uff0c\u4e0b\u540c\n\t\t\tx=sum/i;//\u679a\u4e3e\u56e0\u6570 sum/i\n\t\t\tf=1;\n\t\t\tt=s=0;\n\t\t\tfor(int j=1;j<=n;j++)\n\t\t\t{\n\t\t\t\ts+=a[j];\n\t\t\t\tif(s==x)\n\t\t\t\t{\n\t\t\t\t\tt++;\n\t\t\t\t\ts=0;\n\t\t\t\t}\n\t\t\t\telse if(s>x)\n\t\t\t\t{\n\t\t\t\t\tf=0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(f) ans=min(ans,n-t);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n \treturn 0;\n}\n```",
        "postTime": 1646045593,
        "uid": 400269,
        "name": "_JYqwq_",
        "ccfLevel": 0,
        "title": "CF1462D Add to Neighbour and Remove\u3000\u9898\u89e3"
    },
    {
        "content": "\u9898\u610f\uff1a\u7ed9\u51fa\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217 $a_1,a_2,a_3\\dots a_n$\uff0c\u7528\u6700\u5c11\u7684\u5408\u5e76\u6b21\u6570\uff0c\u5c06\u6240\u6709\u6570\u53d8\u4e3a\u4e00\u4e2a\u76f8\u540c\u7684\u6570\u3002\n\n\u89c2\u5bdf\uff0c\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf $sum=\\sum_i a_i$\u3002\n\n\u90a3\u4e48\u6700\u540e\u7684\u7ed3\u679c\u5c06\u6240\u6709\u7684\u6570\u5b57\u53d8\u4e3a\u4e00\u4e2a\u6570\u5b57 $k$\uff0c\u5fc5\u987b\u6ee1\u8db3 $k | sum$\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528 $O(n)$ \u679a\u4e3e\u4e00\u4e2a\u6570\u5b57 $sum/k$\u3002\u4ee5\u6b64\uff0c\u53ef\u4ee5\u8ba1\u7b97\u51fa $k$ \u7684\u503c\u3002\u518d\u7528 $O(n)$ \u68c0\u67e5\u662f\u5426\u5408\u6cd5\uff0c\u5982\u679c\u5408\u6cd5\u5c31\u66f4\u65b0\u7b54\u6848\uff0c\u5426\u5219\u8df3\u8fc7\u3002\n\n\u603b\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define RI register int\nusing namespace std;\nint t;\nint n;\nconst int MAXN = 3005;\nint a[MAXN];\nint sum;\nint ans;\nint cnt;\nint now;\nint main(){\n        cin>>t;\n        while(t--){\n                sum=0;\n                cin>>n;\n                for(RI i=1;i<=n;++i){\n                        cin>>a[i];\n                        sum+=a[i];\n                }\n                ans=n;\n                for(RI j=1;j<=n;++j) {\n                        if(sum%j==0){\n                                cnt=0;\n                                now=0;\n                                for(RI i=1;i<=n;++i){\n                                        if(now==0) cnt--;\n                                        now+=a[i];\n                                        cnt++;\n                                        if(now<sum/j) continue;\n                                        if(now>sum/j){\n                                                cnt=2147483647;\n                                                break;\n                                        }\n                                        if(now==sum/j) now=0;\n                                }\n                                ans=min(ans,cnt);\n                        }\n                }\n                cout<<ans<<endl;\n        }\n}\n\n```",
        "postTime": 1608361782,
        "uid": 261914,
        "name": "Emy_Ycc",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1462D \u3010Add to Neighbour and Remove\u3011"
    },
    {
        "content": "\u56e0\u4e3a\u6bcf\u4e00\u6b21\u5408\u5e76\u53ea\u80fd\u9009\u4e24\u4e2a\u76f8\u90bb\u7684\u6570\u5b57\u5408\u5e76\uff0c\u6240\u4ee5\u6700\u7ec8\u7b54\u6848\u5e8f\u5217\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u5143\u7d20\u90fd\u662f\u539f\u5e8f\u5217\u4e2d\u8fde\u7eed\u7684\u4e00\u6bb5\u4e4b\u548c\uff0c\u800c\u4e14\u7b54\u6848\u5e8f\u5217\u7684\u6bcf\u4e2a\u5143\u7d20\u6240\u5bf9\u5e94\u7684\u539f\u5e8f\u5217\u7684\u8fde\u7eed\u6bb5\u4e0d\u4ec5\u6709\u5e8f\uff0c\u4e14\u4e0d\u91cd\u4e0d\u6f0f\u5730\u8986\u76d6\u539f\u5e8f\u5217\u3002\n\n\u56e0\u6b64\u5c31\u53ef\u4ee5\u628a\u95ee\u9898\u8f6c\u5316\u6210\uff1a\n\n\u628a\u5e8f\u5217\u5206\u6210\u82e5\u5e72\u8fde\u7eed\u7684\u6bb5\uff0c\u4f7f\u5f97\u6bcf\u4e00\u6bb5\u5185\u5305\u542b\u7684\u6570\u5b57\u548c\u76f8\u540c\uff0c\u6c42\u5206\u6bb5\u6570\u91cf\u7684**\u6700\u5927\u503c**\u3002\n\n\u56e0\u4e3a\u6bcf\u4e00\u6bb5\u6570\u5b57\u548c\u76f8\u540c\uff0c\u6240\u4ee5\u53ef\u4ee5\u679a\u4e3e\u7b2c\u4e00\u6bb5\u7684\u957f\u5ea6\uff0c\u6c42\u51fa\u7b2c\u4e00\u6bb5\u7684\u6570\u5b57\u548c\uff0c\u7136\u540e\u518d\u5224\u65ad\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=3020;\nint d[N],n,T,ans;\nint judge(int p){\n\tint res=1,sum=0,s1=0;\n\t//res\u662f\u5728\u6b64\u60c5\u51b5\u4e0b\u5206\u5757\u6570\u91cf\n\t//s1\u662f\u76ee\u524d\u8fd9\u4e00\u6bb5\u7684\u548c\n\t//sum\u662f\u7b2c\u4e00\u6bb5\u6240\u6709\u6570\u5b57\u4e4b\u548c \n\tfor(int i=1;i<=p;i++) sum+=d[i];\n\tfor(int i=p+1;i<=n;i++){\n\t\ts1+=d[i];\n\t\tif(s1>sum){return -32002;}//\u8fd9\u79cd\u60c5\u51b5\u65e0\u6cd5\u5206\u6bb5\uff0c\u8fd4\u56de -inf\t\n\t\tif(s1==sum){res++;s1=0;}\n\t}\n\tif(s1!=0){return -30020;}//\u6700\u540e\u4e00\u6bb5\u6570\u5b57\u548c\u4e0d\u591f\uff0c\u8fd4\u56de -inf \n\treturn res;\n}\nint main(){\n\tcin>>T;\n\twhile(T){\n\t\tT--;\t\n\t\tans=1e4+20;\n\t\tcin>>n;\n\t\tfor(int i=1;i<=n;i++) cin>>d[i];\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tint sav=judge(i);\n\t\t\tans=min(ans,n-sav); \n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}\n\n```\n",
        "postTime": 1608276491,
        "uid": 199139,
        "name": "devans",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1462D \u3010Add to Neighbour and Remove\u3011"
    },
    {
        "content": "## Description\n\n[Link](https://www.luogu.com.cn/problem/CF1462D)\n\n## Solution\n\n\u6570\u5b66\u52a0\u6a21\u62df\u9898\u3002\n\n\u8fd9\u4e2a\u9898\u76ee\u770b\u8d77\u6765\u65e0\u4ece\u4e0b\u624b\uff0c\u5b9e\u9645\u4e0a\u6211\u4eec\u53ef\u4ee5\u627e\u89c4\u5f8b\u3002\n\n\u624b\u73a9\u6837\u4f8b\u53d1\u73b0\uff0c\u5408\u5e76\u7684\u6bcf\u4e2a\u6570\u4e00\u5b9a\u662f\u8fd9\u51e0\u4e2a\u6570\u7684\u548c\u7684\u56e0\u6570\uff0c\u56e0\u4e3a\u6240\u6709\u6570\u5408\u5e76\u8d77\u6765\u4e5f\u662f\u548c\u7684\u56e0\u6570\uff0c\u6570\u7684\u548c\u4e5f\u4e00\u5b9a\u518d\u6570\u5217\u6700\u5927\u6570\u548c\u5b83\u4eec\u7684\u548c\u4e4b\u95f4\uff0c\u8003\u8651\u62c6\u89e3\u6570\u5217\u548c\u7684\u56e0\u6570\uff0c\u518d\u8fdb\u884c\u6784\u9020\u3002\n\n\u6211\u4eec\u79f0\u4e00\u4e2a\u6570\u7684\u5408\u6cd5\u56e0\u6570\u4e3a\u8fd9\u4e2a\u56e0\u6570\u6bd4\u5f53\u524d\u6570\u5217\u5c0f\u6216\u76f8\u7b49\uff0c\u5e76\u4e14\u6bd4\u6570\u5217\u4e2d\u6700\u5927\u7684\u6570\u8981\u5927\u6216\u76f8\u7b49\u3002\n\n\u5bf9\u4e8e\u5408\u6cd5\u7684\u6bcf\u4e2a\u56e0\u6570\uff0c\u8bbe\u4ece $a_i$ \u5230 $a_j$ \u7684\u548c\u4e3a $totalsum$\uff0c$g_i$ \u4e3a\u6570\u5217\uff0c\u548c\u7684\u5176\u4e2d\u4e00\u4e2a\u5408\u6cd5\u56e0\u6570\u3002\n\n\u9996\u5148\uff0c\u5148\u628a $a_{j+1}$ \u7684\u503c\u52a0\u5165 $totalsum$\u3002\n\n\u5982\u679c\u5f53\u524d\u533a\u95f4\u7684\u548c\u7b49\u4e8e $g_i$\uff0c\u8bf4\u660e\u5408\u6cd5\u7684\u5408\u5e76\u53c8\u591a\u4e86\u4e00\u4e2a\uff0c\u518d\u628a $totalsum$ \u5f52\u96f6\uff0c\u5224\u65ad\u4e0b\u4e00\u4e2a\u533a\u95f4\u548c\u662f\u5426\u5408\u6cd5\u3002\n\n\u5426\u5219\u5982\u679c\u533a\u95f4\u548c\u6bd4 $g_i$ \u5927\uff0c\u8bf4\u660e\u6570\u5217\u4e2d\u7684\u6240\u6709\u6570\u4e0d\u80fd\u88ab\u5168\u90e8\u5408\u5e76\u6210 $g_i$\uff0c\u5224\u65ad\u4e0b\u4e00\u4e2a\u56e0\u6570\u80fd\u5426\u88ab\u5168\u90e8\u5408\u5e76\u3002\n\n\u6700\u540e\u53d6\u6240\u6709\u60c5\u51b5\u4e2d\u6700\u5c0f\u7684 $n$ \u51cf\u53bb\u5408\u6cd5\u5408\u5e76\u6bb5\u6570\u5373\u53ef\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e00\u7ec4\u6570\u636e\uff0c\u6700\u574f\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(\\sqrt{sum} + n)$\u3002\n\n## Code\n\n```cpp\n// 2023/5/1 Accept__\n\n#include <iostream>\n#include <algorithm>\n#include <cmath>\n\nusing namespace std;\n\nconst int kMaxN = 3007;\n\nint t, n, a[kMaxN], maxn, sum, ans = 0x3f3f3f3f, gc[kMaxN], cnt, tots, j;\nbool flag = 1;\n\ninline int max(int a, int b) {\n    return a > b ? a : b;\n}\n\ninline int min(int a, int b) {\n    return a < b ? a : b;\n}\n\nint main() {\n    ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);\n    for (cin >> t; t; t--) {\n        cin >> n;\n        for (int i = 0; i < n; i++) {\n            cin >> a[i], maxn = max(a[i], maxn), sum += a[i];\n        }\n        for (int i = 1; i * i <= sum; i++) {\n            (!(sum % i)) && ((i >= maxn) && (gc[cnt++] = i), (sum / i >= maxn) && (gc[cnt++] = sum / i));\n        }\n        sort(gc, gc + cnt);\n        for (int i = 0, k = 0; i < cnt; i++) {\n            for (j = tots = 0; j < n && flag; j++)  {\n                tots += a[j], (tots == gc[i]) ? (tots = 0, k++) : ((tots > gc[i]) && (flag = 0));\n            }\n            (flag) && (ans = min(ans, n - k)), flag = 1, k = 0;\n        }\n        cout << ans << '\\n', sum = cnt = maxn = 0, ans = 0x3f3f3f3f;\n    }\n\n    return 0;\n}\n```\n",
        "postTime": 1682936633,
        "uid": 785796,
        "name": "Accept__",
        "ccfLevel": 4,
        "title": "CF1462D \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u8ddfP8183\u5b8c\u5168\u4e00\u81f4\uff0c\u4f46\u662f\u6570\u636e\u8303\u56f4\u6c34\u591a\u4e86\u3002\u3002\u3002\n### \u601d\u8def:\n\u6bcf\u6b21\u5408\u5e76\uff0c\u6570\u5b57\u4e2a\u6570\u5c31\u4f1a -1\uff0c\u90a3\u4e48\u6700\u7ec8\u7684\u6570\u5b57\u4e2a\u6570\u5c31\u662f $N-x$\uff0c\u5e76\u4e14\u6700\u7ec8\u5408\u5e76\u5b8c\u6210\u540e\uff0c\u6bcf\u4e00\u5806\u90fd\u662f $sum/(N-x)$\u3002\n\u4e8e\u662f\u5c31\u53ef\u4ee5\u679a\u4e3e $(N-x)$ \u4e86\u3002\u5982\u679c\u5408\u5e76\u540e\u6570\u76ee\u5927\u4e8e $sum/(N-x)$\uff0c\u8df3\u51fa\u3002\n### \u89e3\u6cd5\uff1a\n\u7531\u9898\u610f\u53ef\u5f97\uff0c\u6700\u7ec8\u6bcf\u4e00\u9879\u7684\u503c\uff08\u8fd9\u91cc\u8bbe\u4e3a $cnt$\uff09\u4e00\u5b9a\u662f $sum$ \u7684\u56e0\u6570\uff0c\u6240\u4ee5\u904d\u5386 $1-\\sqrt{sum}$, \u6c42\u51fa $sum$ \u7684\u56e0\u6570\u5e76\u52a0\u4ee5\u5224\u65ad\u5373\u53ef\u3002\n\n\u5224\u65ad\u65b9\u6cd5\uff1a\u9996\u5148\u8981\u80fd\u88ab\u5206\u6210\u5927\u5c0f\u4e3a $cnt$ \u7684\u82e5\u5e72\u5806\uff0c\u5176\u6b21\uff0c\u5206\u5b8c\u7684\u5806\u6570\u8981\u7b49\u4e8e $sum/cnt$ \u624d\u53ef\u4ee5\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint a[100010],n;\nbool check(int cnt){//\u5224\u65ad\u80fd\u5426\u5408\u5e76\n\tfor(int i=0,sum=0;i<n;i++){\n\t\tsum+=a[i];//\u52a0\u4e0a\u5f53\u524d\u4e00\u5806\n\t\tif(sum>cnt)return false;//\u65e0\u89e3\n\t\tif(sum==cnt)sum=0;//\u5f53\u524d\u8fd9\u4e00\u6bb5\u627e\u5230\u4e86\uff0c\u6e05\u7a7asum\u5e76\u679a\u4e3e\u4e0b\u4e00\u6bb5\n\t}\n\treturn true;\n}\nint main(){\n\tint T;cin>>T;\n\twhile(T--){\n\t\tcin>>n;\n\t\tint sum=0;\n\t\tfor(int i=0;i<n;i++){\n\t\t\tcin>>a[i];\n\t\t\tsum+=a[i];\n\t\t}\n\t\tfor(int i=n;i;i--)\n\t\tif(sum%i==0&&check(sum/i)){//\u662fsum\u7684\u56e0\u6570\uff0c\u5e76\u4e14\u5224\u65ad\u6210\u7acb\n\t\t\tcout<<n-i<<endl;//\u64cd\u4f5c\u6570\u5c31\u662fn-\u5806\u6570\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1672240035,
        "uid": 691532,
        "name": "Zaku",
        "ccfLevel": 0,
        "title": "CF1462D Add to Neighbour and Remove \u9898\u89e3"
    }
]