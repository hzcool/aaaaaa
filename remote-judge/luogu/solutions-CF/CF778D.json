[
    {
        "content": "\u53c8\u662f\u4e00\u9053\u795e\u4ed9\u6784\u9020\u9898\u2026\u2026\u6784\u9020\u9898\u4e3a\u4ec0\u4e48\u90fd\u90a3\u4e48\u795e\u554a\u2026\u2026\n\n\u73b0\u5728\u5047\u8bbe\u77e9\u5f62\u7684\u5bbd\u4e3a\u5076\u6570\uff08\u5982\u679c\u4e0d\u662f\u5076\u6570\u5c06\u77e9\u5f62\u7ffb\u8f6c\u5373\u53ef\uff09\u3002\u7136\u540e\u6211\u4eec\u8003\u8651\u4e00\u4e2a**\u4e2d\u95f4\u72b6\u6001**\uff1a\u56e0\u4e3a\u6240\u6709\u64cd\u4f5c\u90fd\u662f\u53ef\u9006\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u8003\u8651\u4e00\u4e2a\u4e2d\u95f4\u72b6\u6001\uff0c\u5c06\u8d77\u59cb\u72b6\u6001\u548c\u7ec8\u6b62\u72b6\u6001\u90fd\u65cb\u8f6c\u5230\u90a3\u4e2a\u72b6\u6001\u5373\u53ef\u3002\u6211\u4eec\u4e0d\u59a8\u8003\u8651\u4e2d\u95f4\u72b6\u6001\u4e3a\u6240\u6709\u77e9\u5f62\u90fd\u662f\u6a2a\u7740\u653e\u7684\uff08\u4e0e\u77e9\u5f62\u7684\u5bbd\u5e73\u884c\uff09\u3002\n\n\u73b0\u5728\u7684\u95ee\u9898\u662f\u600e\u4e48\u6784\u9020\u51fa\u8fd9\u6837\u7684\u72b6\u6001\u3002\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0a\u5230\u4e0b\uff0c\u4ece\u5de6\u5230\u53f3\u626b\u4e00\u904d\uff0c\u628a\u77e9\u5f62\u653e\u5728\u6b63\u786e\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u73b0\u5728\u9047\u5230\u4e00\u4e2a\u77e9\u5f62\u662f\u7ad6\u7740\u653e\u7f6e\u7684\uff0c\u90a3\u4e48\u4f1a\u6709\u4e09\u79cd\u60c5\u51b5\uff1a\n\n1.\u65c1\u8fb9\u7684\u77e9\u5f62\u4e0e\u5b83\u5e73\u884c\uff1a\n\n![1](https://cdn.luogu.com.cn/upload/image_hosting/h4l4x20z.png)\n\n\u8fd9\u79cd\u6211\u4eec\u76f4\u63a5\u65cb\u8f6c\u5c31\u597d\u3002\n\n2.\u65c1\u8fb9\u6709\u4e24\u4e2a\u77e9\u5f62\u4e0e\u5b83\u5782\u76f4\uff1a\n\n![2](https://cdn.luogu.com.cn/upload/image_hosting/dfjtnkh2.png)\n\n\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u628a\u53f3\u9762\u8fd9\u4e24\u4e2a\u77e9\u5f62\u65cb\u8f6c\uff0c\u7136\u540e\u518d\u65cb\u8f6c\u8fd9\u4e2a\u7ad6\u7740\u7684\u77e9\u5f62\u3002\n\n3.\u5982\u679c\u662f\u8fd9\u6837\u7684\u60c5\u51b5\uff1a\n\n![3](https://cdn.luogu.com.cn/upload/image_hosting/rm2weyab.png)\n\n\u6211\u4eec\u73b0\u5728\u5c31\u662f\u8981\u5c06\u8fd9\u4e2a\u6a2a\u7740\u7684\u77e9\u5f62\u7ad6\u8fc7\u6765\uff0c\u7136\u540e\u518d\u4e00\u8d77\u65cb\u8f6c\u3002\u8fd9\u663e\u7136\u662f\u4e00\u4e2a\u5b50\u95ee\u9898\uff0c\u53ef\u4ee5\u9012\u5f52\u89e3\u51b3\u3002\n\n\u603b\u64cd\u4f5c\u6b21\u6570\u662f$n^3$\u7ea7\u522b\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b64\u9898\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<vector>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#define pii pair<int,int>\nusing namespace std;\nint N,M;\nchar s[55][55],t[55][55];\nvector<pii> step;\nchar getc(){\n\tchar c=getchar();\n\twhile(c==' '||c =='\\n')\n\t\tc=getchar();\n\treturn c;\n}\ninline void rotate(int x,int y)\n{\n\tstep.push_back(pii(x,y));\n\tif (s[x][y]=='L')\n\t{\n\t\ts[x][y]=s[x][y+1]='U';\n\t\ts[x+1][y]=s[x+1][y+1]='D';\n\t}\n\telse\n\t{\n\t\ts[x][y]=s[x+1][y]='L';\n\t\ts[x][y+1]=s[x+1][y+1]='R';\n\t}\n}\ninline void dfs(int x,int y)\n{\n\tif (s[x][y]=='L') return;\n\tif (s[x][y+1]=='L'){\n\t\tdfs(x+1,y+1);\n\t\trotate(x,y+1);rotate(x,y);\n\t}else rotate(x,y);\n}\nvector<pii> change()\n{\n\tint n=N,m=M;\n\tif (M&1)\n\t{\n\t\tfor (int i=1;i<=N;i++)\n\t\t\tfor (int j=1;j<=M;j++)\n\t\t\t{\n\t\t\t\tif (s[i][j]=='U') t[j][i]='L';\n\t\t\t\tif (s[i][j]=='D') t[j][i]='R';\n\t\t\t\tif (s[i][j]=='L') t[j][i]='U';\n\t\t\t\tif (s[i][j]=='R') t[j][i]='D';\n\t\t\t}\n\t\tmemcpy(s,t,sizeof(s));\n\t\tswap(n,m);\n\t}\n\tstep.clear();\n\tfor (int i=1;i<=n;i++)\n\t\tfor (int j=1;j<=m;j++)\n\t\t\tif (s[i][j]=='U') dfs(i,j);\n\tif (M&1) \n\t\tfor (int i=0;i<step.size();i++)\n\t\t\tswap(step[i].first,step[i].second);\n\treturn step;\t\t\n}\nint main()\n{\n\tscanf(\"%d%d\",&N,&M);\n\tfor (int i=1;i<=N;i++)\n\t\tfor (int j=1;j<=M;j++)\n\t\t\ts[i][j]=getc();\n\tvector<pii> pre=change();\n\tfor (int i=1;i<=N;i++)\n\t\tfor (int j=1;j<=M;j++)\n\t\t\ts[i][j]=getc();\n\tvector<pii> nxt =change();\n\tprintf(\"%d\\n\",pre.size()+nxt.size());\n\tfor(auto t:pre) printf(\"%d %d\\n\",t.first,t.second);\n\treverse(nxt.begin(),nxt.end());\n\tfor(auto t:nxt) printf(\"%d %d\\n\",t.first,t.second);\n\treturn 0;\n}\n```",
        "postTime": 1604289293,
        "uid": 235013,
        "name": "OceanLiu",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF778D \u3010Parquet Re-laying\u3011"
    }
]