[
    {
        "content": ">**\u9898\u610f\u7b80\u8ff0\uff1a**\n>\n>\u8f93\u5165 $n\\ (1\u2264n\u226410^6)$ \u53ca $n$ \u4e2a\u6574\u6570 $a_1,a_2,...a_n\\ (1\u2264a_i\u226410^{12})$, \u8bf7\u4ece\u4e2d\u53d6\u51fa $\\lceil \\frac{n}{2} \\rceil$ \u4e2a\u6570\uff0c\u4f7f\u5f97\u5b83\u4eec\u7684 $gcd$ (\u6700\u5927\u516c\u7ea6\u6570) \u6700\u5927\uff0c\u8f93\u51fa\u6700\u5927\u7684 $gcd$\u3002\n\n\u672c\u9898\u7528\u5230\u8981\u968f\u673a\u5316\uff0c\u9700\u8981\u968f\u673a\u531610\u6b21\uff0c\u518d\u591a\u5c31\u6709\u53ef\u80fd $T$ \u4e86\uff0c\u8fd9\u6837\u51fa\u9519\u7684\u6982\u7387\u5c31\u662f $1-\\frac{1}{2^{10}}$\uff0c\u4e5f\u5c31\u662f $\\frac{1}{1024}$\uff0c\u4f46\u662f\u8bf4\u5b9e\u8bdd\u8fd9\u4e2a\u6982\u7387\u771f\u7684\u4e0d\u4f4e\uff0c\u6211\u7b2c\u4e00\u6b21\u63d0\u4ea4\u5c31 $WA$ \u4e86\u3002\n\n\u6bcf\u6b21\u968f\u673a\u5316\uff0c\u4ece\u8f93\u5165\u7684\u6570\u4e2d\u53d6\u51fa\u4e00\u4e2a\u6570 $x$\uff0c\u7136\u540e\u8fdb\u884c\u56e0\u6570\u5206\u89e3\uff0c\u7528 $d$ \u6570\u7ec4**\u4ece\u5c0f\u5230\u5927**\u5b58 $x$ \u7684\u56e0\u6570\uff0c\u518d\u7528 $cnt_i$ \u8868\u793a\u8f93\u5165\u7684 $n$ \u4e2a\u6570\u4e2d\u6709\u51e0\u4e2a\u6570\u542b\u6709\u56e0\u6570 $d_i$\uff0c\u6700\u540e\u76f4\u63a5**\u4ece\u5927\u5230\u5c0f**\u5224\u65ad\u6bcf\u4e2a $d_i$\uff0c\u5982\u679c $cnt_i\u00d72\u2265n$\uff0c\u4e5f\u5c31\u662f\u542b\u6709 $d_i$ \u8fd9\u4e2a\u56e0\u6570\u7684\u6570\u7684\u4e2a\u6570 $\u2265\\lceil \\frac{n}{2} \\rceil$ \u90a3\u4e48 $d_i$ \u5c31\u662f\u6700\u7ec8\u8981\u6c42\u7684\u7b54\u6848\u3002\n\n\u5728\u6c42 $cnt_i$ \u65f6\uff0c\u8981\u628a $n$ \u4e2a\u6570\u679a\u4e3e\u4e00\u904d\uff0c\u6bcf\u6b21\u627e\u5230 $gcd(x,a_i)$ \u5728 $d$ \u6570\u7ec4\u4e2d\u7684\u4f4d\u7f6e $pos$ \u7136\u540e $cnt_{pos}++$\u3002\n\n```cpp\nfor(int i=1; i<=n; i++)\n{\n\tint pos=lower_bound(d+1,d+1+siz,gcd(x,a[i]))-d;\t//\u627e\u5230d\u6570\u7ec4\u4e2d\u7b2c\u4e00\u4e2a>=gcd(x,a[i])\u7684\u6570\u7684\u4f4d\u7f6e\u3002\n\tcnt[pos]++;\n}\n```\n\n\u505a\u5b8c\u8fd9\u4e2a\u4e4b\u540e\uff0c\u8fd8\u8981\u77e5\u9053\u5982\u679c $d_j\\mod d_i=0$\uff0c\u90a3\u4e48 $cnt_i+=cnt_j$\uff0c\u56e0\u4e3a\u4e0a\u4e00\u6b65\u6211\u4eec\u53ea\u5bf9 $gcd$ \u8fdb\u884c\u4e86\u8ba1\u6570\uff0c\u7136\u800c\u6211\u4eec\u8981\u5bf9\u6bcf\u4e2a\u56e0\u6570\u8fdb\u884c\u8ba1\u6570\u3002\n\n\u6700\u540e\uff0c\u9898\u76ee\u4e0a\u63d0\u5230\u5efa\u8bae\u4f7f\u7528`%I64d`\uff0c\u6211\u4e5f\u4e0d\u592a\u6e05\u695a\u8fd9\u4e2a\uff0c\u5e94\u8be5\u662f\u53ea\u80fd\u5728`Windows`\u4e0a\u7528\uff0c\u4f46\u662f\u4e0d\u7528\u5e94\u8be5\u4e5f\u6ca1\u5173\u7cfb\uff0c\u7528 $long\\ long$ \u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u4ee3\u7801~~\u5e94\u8be5\u8fd8\u7b97\u7b80\u6d01~~\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<time.h>\n#include<stdlib.h>\n#include<cmath>\n#include<algorithm>\n#include<cstring> \n#define ll long long\n\nusing namespace std;\n\nconst int maxn=1e6+10;\nint n,siz;\nll d[maxn],a[maxn],cnt[maxn];\n\nll gcd(ll x,ll y)\t//\u6700\u5927\u516c\u56e0\u6570 \n{\n\treturn !y?x:gcd(y,x%y);\n}\n\nint random(int l,int r)\t//\u5728l~r\u7684\u8303\u56f4\u5185\u968f\u673a\u5316\u53d6\u6570 \n{\n\treturn (ll)rand()*rand()%(r-l+1)+1;\n}\n\nvoid divide(ll x)\t//\u5bf9x\u8fdb\u884c\u5206\u89e3\u56e0\u6570 \n{\n\tsiz=0;\n\tfor(ll i=1; i*i<=x; i++)\n\t\tif(x%i==0)\n\t\t{\n\t\t\td[++siz]=i;\n\t\t\tif(x/i!=i) d[++siz]=x/i;\n\t\t}\n}\n\nint main()\n{\n\tsrand(time(NULL));\t//\u968f\u673a\u5316\u79cd\u5b50 \n\tscanf(\"%d\",&n);\n\tfor(int i=1; i<=n; i++)\n\t\tscanf(\"%I64d\",&a[i]);\n\tll ans=0;\n\tfor(int cas=1; cas<=10; cas++)\n\t{\n\t\tll x=a[random(1,n)];\n\t\tdivide(x);\n\t\tsort(d+1,d+1+siz);\t//\u6392\u5e8f\uff0c\u8fd9\u6837\u624d\u80fd\u7528\u4e8c\u5206 \n\t\tmemset(cnt,0,sizeof(cnt));\n\t\tfor(int i=1; i<=n; i++)\n\t\t{\n\t\t\tint pos=lower_bound(d+1,d+1+siz,gcd(x,a[i]))-d;\t//\u627e\u5230d\u6570\u7ec4\u4e2d\u7b2c\u4e00\u4e2a>=gcd(x,a[i])\u7684\u6570\u7684\u4f4d\u7f6e\u3002\n\t\t\tcnt[pos]++;\n\t\t}\n\t\tfor(int i=1; i<=siz; i++)\n\t\t\tfor(int j=i+1; j<=siz; j++)\n\t\t\t\tif(d[j]%d[i]==0)\n\t\t\t\t\tcnt[i]+=cnt[j];\n\t\tfor(int i=siz; i>=1; i--)\n\t\t\tif(cnt[i]*2>=n)\t//\u7b2c\u4e00\u4e2a\u7b26\u5408\u9898\u610f\u7684\uff0c\u540c\u65f6\u4e5f\u662f\u6700\u5927\u7684 \n\t\t\t{\n\t\t\t\tans=max(ans,d[i]);\n\t\t\t\tbreak;\n\t\t\t}\n\t}\n\tprintf(\"%I64d\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1587914812,
        "uid": 211300,
        "name": "Acestar",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF364D \u3010Ghd\u3011"
    },
    {
        "content": "\u672c\u9898\u89e3\u540c\u6b65\u53d1\u5e03\u5728\u6211\u7684\u535a\u5ba2\uff1a[[CF364D]Ghd \u9898\u89e3 | KSkun's Blog](https://ksmeow.moe/ghd_cf364d_sol/)\uff0c\u6b22\u8fce\u6765\u901b~\n\n# \u9898\u89e3\n\u53c2\u8003\u8d44\u6599\uff1a[CFR 364 D. Ghd ( Random, Math ) - 0w1](http://h0rnet.hatenablog.com/entry/2017/04/28/CFR_364_D__Ghd_%28_Random%2C_Math_%29)\n\n\u968f\u673a\u5316\u7684\u9898\u76ee\uff0c\u76f4\u63a5\u6c42\u663e\u7136\u4e0d\u597d\u529e\uff0cn\u7684\u6570\u636e\u8303\u56f4\u770b\u7740\u5c31\u5413\u4eba\uff0c\u76f4\u89c2\u611f\u89c9\u50cf$O(n \\log n)$\u3002\n\n\u6211\u4eec\u77e5\u9053\u8fd9\u4e2a\u6570\u5b57\u4e00\u5b9a\u662f\u8fd9\u4e2a\u6570\u5217\u4e2d\u67d0\u4e2a\u6570\u7684\u56e0\u6570\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u6570\u6c42\u5b83\u4e0e\u5176\u4ed6\u6570\u7684\u6700\u5927\u516c\u56e0\u6570\u3002\u8fd9\u4e9b\u516c\u56e0\u6570\u4e2d\u7684\u4e00\u4e2a\u5c31\u662f\u7b54\u6848\u3002\u6c42\u4e00\u904d\u516c\u56e0\u6570\u662f$O(n \\log n)$\u7684\u3002\n\n\u5bf9\u4e8e\u6c42\u51fa\u6765\u7684\u516c\u56e0\u6570\uff0c\u6211\u4eec\u53bb\u4ece\u5927\u5230\u5c0f\u627e\u4e00\u4e2a\u4f1a\u6210\u4e3a\u8d85\u8fc7\u4e00\u534a\u6570\u7684\u56e0\u6570\u7684\u6570\u5b57\u3002\u5177\u4f53\u505a\u6cd5\u662f\uff0c\u9009\u62e9\u4e00\u4e2a\u56e0\u6570\uff0c\u53bb\u627e\u6bd4\u5b83\u5927\u7684\u56e0\u6570\uff0c\u5982\u679c\u5b83\u80fd\u6574\u9664\u5927\u56e0\u6570\uff0c\u8bf4\u660e\u5927\u56e0\u6570\u5bf9\u5e94\u7684\u6570\u5b57\u4e5f\u53ef\u4ee5\u88ab\u8fd9\u4e2a\u6570\u6574\u9664\uff0c\u5e94\u5f53\u628a\u52a0\u5230\u8fd9\u4e2a\u6570\u7684\u8ba1\u6570\u4e0a\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u76f4\u89c2\u770b\u4e0a\u53bb\u662f$O(n^2)$\u7684\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u6211\u4eec\u4e0d\u4f1a\u5bf9\u6bd4\u5f53\u524d\u6700\u4f18\u89e3\u8fd8\u5c0f\u7684\u56e0\u6570\u8ba1\u7b97\uff0c\u5e76\u4e14\u5f53\u8ba1\u6570\u8d85\u8fc7n\u7684\u4e00\u534a\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u505c\u6b62\u8ba1\u6570\u5e76\u8ba1\u5165\u7b54\u6848\uff0c\u5728\u8fd9\u6837\u7684\u5904\u7406\u4e0b\u6211\u4eec\u53ef\u4ee5\u8ba9\u8fd9\u4e2a\u8ba1\u6570\u7684\u65f6\u95f4\u53d8\u5f97\u53ef\u63a5\u53d7\u3002\n\n\u7b54\u6848\u80af\u5b9a\u662f\u8fd9\u4e9b\u6570\u5b57\u4e2d\u8d85\u8fc7\u4e00\u534a\u6570\u7684\u56e0\u6570\uff0c\u56e0\u6b64\u6bcf\u4e00\u6b21\u968f\u673a\u627e\u5230\u6b63\u786e\u89e3\u7684\u6982\u7387\u8d85\u8fc70.5\u3002\u6211\u4eec\u8003\u8651\u91cd\u590d\u627e\u89e3\u7684\u8fc7\u7a0b\u591a\u6b21\uff0c\u8fd9\u91cc\u6211\u4f7f\u752810\u6b21\uff08\u8d85\u8fc710\u6b21\u4f3c\u4e4e\u4f1aTLE 18\uff09\u3002\n\n# \u4ee3\u7801\n```cpp\n// Code by KSkun, 2018/3\n#include <cstdio>\n#include <ctime>\n#include <cstdlib>\n\n#include <map>\n\ntypedef long long LL;\n\ninline char fgc() {\n\tstatic char buf[100000], *p1 = buf, *p2 = buf;\n\treturn p1 == p2 && (p2 = (p1 = buf) + fread(buf, 1, 100000, stdin), p1 == p2) ? EOF : *p1++;\n}\n\ninline LL readint() {\n\tregister LL res = 0, neg = 1;\n\tchar c = fgc();\n\twhile(c < '0' || c > '9') {\n\t\tif(c == '-') neg = -1;\n\t\tc = fgc();\n\t}\n\twhile(c >= '0' && c <= '9') {\n\t\tres = res * 10 + c - '0';\n\t\tc = fgc();\n\t}\n\treturn res * neg;\n}\n\nconst int MAXN = 1000005;\n\ninline LL gcd(LL a, LL b) {\n\tLL t;\n\twhile(b) {\n\t\tt = a % b;\n\t\ta = b;\n\t\tb = t;\n\t}\n\treturn a;\n}\n\nint n;\nLL a[MAXN];\n\nint main() {\n\tsrand(time(NULL));\n\tn = readint();\n\tfor(int i = 1; i <= n; i++) {\n\t\ta[i] = readint();\n\t}\n\tLL ans = 1;\n\tfor(int rep = 1; rep <= 10; rep++) {\n\t\tint rnd = (rand() * RAND_MAX + rand()) % n + 1;\n        // \u4e0b\u9762\u6211\u4eec\u9700\u8981\u5904\u7406\u51faa[rnd]\u548c\u5176\u4ed6\u6570\u7684gcd\uff0c\u7b54\u6848\u53ef\u80fd\u5c31\u662f\u8fd9\u4e9bgcd\u4e2d\u7684\u4e00\u4e2a\uff0cmap\u91ccfirst\u5b58gcd\uff0csecond\u5b58\u8be5gcd\u7684\u51fa\u73b0\u6b21\u6570\n\t\tstd::map<LL, int> fact;\n\t\tfor(int i = 1; i <= n; i++) {\n\t\t\tLL t = gcd(a[i], a[rnd]);\n\t\t\tif(!fact.count(t)) fact[t] = 1;\n\t\t\telse fact[t]++;\n\t\t}\n        // \u4ece\u5927\u5230\u5c0f\u6765\u5224\u65ad\u6bcf\u4e2agcd\u662f\u5426\u80fd\u6210\u4e3a\u7b54\u6848\n\t\tstd::map<LL, int>::iterator it = fact.end();\n\t\tdo {\n\t\t\tit--;\n\t\t\tif((*it).first <= ans) continue;\n\t\t\tint cnt = 0;\n            // \u80fd\u88ab\u5f53\u524d\u7b54\u6848\u6574\u9664\u7684\u56e0\u6570\u5bf9\u5e94\u7684\u539f\u6570\u80af\u5b9a\u80fd\u591f\u88ab\u5f53\u524d\u7b54\u6848\u6574\u9664\uff0c\u7edf\u8ba1\u80fd\u88ab\u5f53\u524d\u7b54\u6848\u6574\u9664\u7684\u6570\u5b57\u4e2a\u6570\n\t\t\tfor(std::map<LL, int>::iterator it1 = it; it1 != fact.end() && cnt << 1 < n; it1++) {\n\t\t\t\tif(!((*it1).first % (*it).first)) {\n\t\t\t\t\tcnt += (*it1).second;\n\t\t\t\t}\n\t\t\t}\n            // \u5982\u679c\u80fd\u88ab\u5f53\u524d\u7b54\u6848\u6574\u9664\u7684\u6570\u5b57\u4e2a\u6570\u6bd4\u4e00\u534a\u591a\uff0c\u5f53\u524d\u7b54\u6848\u8fd8\u6bd4\u5df2\u7ecf\u5f97\u5230\u7684\u6700\u4f18\u89e3\u66f4\u4f18\uff0c\u90a3\u4e48\u66f4\u65b0\u6700\u4f18\u89e3\n\t\t\tif(cnt << 1 >= n) ans = (*it).first;\n\t\t} while(it != fact.begin());\n\t}\n    // CF\u63a8\u8350I64d\u8f93\u51falong long\n\tprintf(\"%I64d\", ans);\n\treturn 0;\n}\n```",
        "postTime": 1521968816,
        "uid": 35795,
        "name": "KSkun",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF364D \u3010Ghd\u3011"
    },
    {
        "content": "### [\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF364D)\n\n\u968f\u673a\u5316 ~~\uff08\u5165\u95e8\u9898\uff09~~\n\n**\u89e3\u9898\u601d\u8def\uff1a**\n\n\u968f\u673a\u4ece\u96c6\u5408\u4e2d\u62bd\u53d6\u5341\u6b21\uff08\u51fa\u9519\u6982\u7387\u4e3a$1/1024$\uff09\n\n\u6bcf\u6b21\u5c06\u62bd\u51fa\u6765\u7684\u6570\u8fdb\u884c\u56e0\u5f0f\u5206\u89e3\uff0c\u5c06\u7ea6\u6570\u4ece\u5c0f\u5230\u5927\u5b58\u50a8\u5165$num$\u6570\u7ec4\u4e2d\uff1b\n\n\u518d\u7528$cnt$\u6570\u7ec4\u5b58\u50a8\u6bcf\u4e2a\u7ea6\u6570\u51fa\u73b0\u4e2a\u6570\uff0c\u4ece\u5927\u5230\u5c0f\u770b\uff0c\u5982\u679c$cnt_i>=n/2$\uff0c\u90a3\u4e48$num_i$\u5c31\u662f\u8981\u6c42\u7684\u6700\u7ec8\u8981\u6c42\u7684\u7b54\u6848\u3002\n\n\u5176\u4ed6\u5177\u4f53\u7ec6\u8282\u770b\u4ee3\u7801\u5b9e\u73b0\u3002\n\n**\u4ee3\u7801\u5c55\u793a\uff1a**\n\n```cpp\n#include<iostream>\n#include<sstream>\n#include<fstream>\n#include<vector>\n#include<list>\n#include<deque>\n#include<queue>\n#include<stack>\n#include<map>\n#include<set>\n#include<bitset>\n#include<algorithm>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cctype>\n#include<cmath>\n#include<ctime>\n#include<iomanip>\n#include<complex>\n#include<climits>\n#define re register\n#define in inline\n#define pi acos(-1.0)\n#define inf 2147483640\n#define cd complexdouble\nusing namespace std;\nin int read()\n{\n    int sum=0,negative=1;\n    char ch=getchar();\n    while(ch<'0'||ch>'9')\n    {\n        if(ch=='-')negative=-1;\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9')\n    {\n        sum=sum*10+ch-'0';\n        ch=getchar();\n    }\n    return sum*negative;\n}\nin void write(int X)\n{\n    if(X<0)putchar('-'),X=-X;\n    if(X>=10)write(X/10);\n    putchar(X%10+'0');\n}\nconst int maxn=1e6+10;\nint n,a[maxn],ans,tot,num[maxn],cnt[maxn];\nint gcd(int x,int y){\n\tif(!y){\n\t\treturn x;\n\t}\n\treturn gcd(y,x%y);\n}\nvoid fenjie(int x){\n\ttot=0;\n\tfor(re int i=1;i*i<=x;++i){\n\t\tif(x%i==0){\n\t\t\tnum[++tot]=i;\n\t\t\tif(x/i!=i){\n\t\t\t\tnum[++tot]=x/i;\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tn=read();\n\tfor(re int i=1;i<=n;++i){\n\t\ta[i]=read();\n\t}\n\tfor(re int T=1;T<=10;++T){\n\t\tmemset(cnt,0,sizeof(cnt));\n\t\tint x=a[rand()%n+1];\n\t\tfenjie(x);\n\t\tsort(num+1,num+tot+1);\n\t\tfor(re int i=1;i<=n;++i){\n\t\t\tint qwq=lower_bound(num+1,num+tot+1,gcd(x,a[i]))-num;\n\t\t\t++cnt[qwq];\n\t\t}\n\t\tfor(re int i=1;i<=tot;++i){\n\t\t\tfor(re int j=i+1;j<=tot;++j){\n\t\t\t\tif(num[j]%num[i]==0){\n\t\t\t\t\tcnt[i]+=cnt[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(re int i=tot;i>=1;--i){\n\t\t\tif(2*cnt[i]>=n){\n\t\t\t\tans=max(ans,num[i]);\n\t\t\t}\n\t\t}\n\t}\n\twrite(ans);\n    return 0;\n}\n```\n\n> $Thanks$ $For$ $Watching!$",
        "postTime": 1595234448,
        "uid": 115291,
        "name": "\u8fc7\u5f80\u68a6\u9b47\u4e4b\u6b87",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF364D \u3010Ghd\u3011"
    },
    {
        "content": "[Milmon Page \u94fe\u63a5\uff1ahttps://molmin.github.io/problem?id=35#solution](https://molmin.github.io/problem?id=35#solution)\n\n\u8003\u8651\u4ee4\u4e00\u4e2a\u6570\u4e00\u5b9a\u9009\u62e9\uff0c\u90a3\u4e48\u6211\u4eec\u679a\u4e3e\u5b83\u7684\u56e0\u6570\uff0c\u5bf9\u6bcf\u4e2a\u662f\u56e0\u6570\u500d\u6570\u7684\u6570\u8fdb\u884c\u7edf\u8ba1\uff0c\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e00\u4e2a\u6570\u91cf $\\geq\\dfrac n2$ \u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u627e\u51fa\u6240\u6709\u56e0\u6570 $\\Theta(n)$\uff0c\u6392\u5e8f $\\Theta(n\\log n)$\uff0c\u7edf\u8ba1 $\\Theta(n+d^2(n))$\uff0c\u603b\u65f6\u95f4\u590d\u6742\u5ea6 $\\Theta(n\\log n+d^2(n))$\u3002\n\n\u90a3\u4e48\u968f\u673a\u9009\u53d6 $x$ \u4e2a\u6570\u5982\u4e0a\u8ba1\u7b97\uff0c\u7531\u4e8e\u6bcf\u4e2a\u6570\u4e0d\u88ab\u9009\u4e2d\u7684\u6982\u7387\u662f $\\dfrac 12$\uff0c\u6545\u8fd9\u6837\u7684\u968f\u673a\u5316\u7b97\u6cd5\u6709 $\\dfrac 1{2^x}$ \u7684\u6982\u7387\u51fa\u9519\u3002\u90a3\u4e48 $x$ \u53d6\u5230 $12$ \u5de6\u53f3\u5373\u53ef AC\u3002\n\n\u7531\u4e8e\u8fd9\u91cc $n$ \u6700\u5927\u5230 $10^6$\uff0c\u76f4\u63a5\u4f7f\u7528 `rand()` \u5bb9\u6613\u6302\uff0c\u6539\u4e3a `((long long)rand()<<31)|rand()` \u8f83\u4e3a\u4fdd\u9669\u3002\n\n[Code \u94fe\u63a5\uff1ahttps://molmin.github.io/problem?id=35#code](https://molmin.github.io/problem?id=35#code)",
        "postTime": 1660694531,
        "uid": 234641,
        "name": "Milmon",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF364D - Ghd"
    },
    {
        "content": "\u89c2\u770b\u9898\u76ee\u8303\u56f4\u3002\u6211\u4eec\u4f3c\u4e4e\u5e76\u6ca1\u6709\u4ec0\u4e48\u4f18\u79c0\u5e76\u4e14\u6b63\u786e\u7684\u7b97\u6cd5\u3002\u4ed4\u7ec6\u8bfb\u4e86\u4e00\u4e0b $\\operatorname{ghd}$ \u7684\u5b9a\u4e49\uff1a\n\n> \uff08\u7ffb\u8bd1\u540e\uff09\u5e8f\u5217\u4e2d\u6709**\u4e00\u534a**\u7684\u6570\u80fd\u591f\u6574\u9664\u7684\u6700\u5927\u7684\u6570\u3002\n\n\n\u8fd9\u4e2a\u4e00\u534a\u5927\u6709\u7528\u9014\u3002\u65e2\u7136\u662f\u4e00\u534a\uff0c\u6211\u4eec\u4efb\u9009\u4e00\u4e2a\u6570\u4e2d\u95f4\u7684\u67d0\u4e2a\u56e0\u5b50\u4f5c\u4e3a $\\operatorname{ghd}$\uff0c\u51fa\u73b0\u6b63\u786e\u7b54\u6848\u7684\u6982\u7387\u5c31\u662f $\\dfrac{1}{2}$\u3002\u591a\u505a\u51e0\u6b21\uff08\u6bd4\u5982 $10$ \u6b21\uff09\u5c31\u80fd\u4f7f\u9519\u8bef\u7387\u5927\u5e45\u5ea6\u964d\u4f4e\u3002\n\n\u4e8e\u662f\u6211\u4eec $O(\\sqrt n)$ \u53bb\u5206\u89e3\u56e0\u6570\uff0c\u7136\u540e\u901a\u8fc7 dp \u8f6c\u79fb\u80fd\u591f\u88ab\u8fd9\u4e2a\u6570\u7684\u56e0\u6570\u6574\u9664\u7684\u6570\u6709\u591a\u5c11\uff0c\u6211\u4eec\u5c31\u80fd\u591f\u8ba1\u7b97\u4e86\u3002\u8bbe\u8fd9\u4e2a\u6570\u6709 $k$ \u4e2a\u56e0\u6570\uff0cdp \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u662f $O(k^2)$ \u7684\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(p(\\sqrt n +k^2))$\uff0c\u5176\u4e2d $p$ \u662f\u4f60\u9009\u62e9\u7684\u6570\u7684\u4e2a\u6570\uff0c$k$ \u5b9a\u4e49\u5982\u4e0a\u3002\n\n\u6ce8\u610f\u5230\uff0c`rand()` \u662f\u975e\u5e38\u611a\u8822\u7684\u3002\u6211\u4eec\u91c7\u7528 C++11 \u7684 `random` \u5e93\u751f\u6210\u968f\u673a\u6570\u5373\u53ef\u3002\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nint read()\n{\n    int x=0,f=1;\n    char c=getchar();\n    while(c<'0' || c>'9')\n    {\n        if(c=='-')  f=-1;\n        c=getchar();\n    }\n    while(c>='0' && c<='9') x=(x<<1)+(x<<3)+(c^'0'),c=getchar();\n    return x*f;\n}\nvoid write(int x)\n{\n    if(x<0) putchar('-'),x=-x;\n    if(x>9) write(x/10);\n    putchar(x%10+'0');\n}\nint gcd(int a,int b){return !b?a:gcd(b,a%b);}\nint n,a[1000005],ghd=1;\nint fac[1000005],cnt,rear[1000005],cot[1000005];\nsigned main(){\n    srand(time(NULL));\n    default_random_engine e(rand());\n    n=read();\n    uniform_int_distribution<int> range(1,n);\n    for(int i=1;i<=n;++i)   a[i]=read();\n    for(int p=1;p<=min(10ll,n);++p)\n    {\n        memset(fac,0,sizeof fac);\n        memset(cot,0,sizeof cot);\n        cnt=0;\n        int tmp=a[range(e)];\n        for(int i=1;i*i<=tmp;++i)\n        {\n            if(tmp%i==0)\n            {\n                fac[++cnt]=i;\n                if(tmp/i!=i)    fac[++cnt]=tmp/i;\n            }\n        }\n        sort(fac+1,fac+1+cnt);\n        for(int i=1;i<=n;++i)\n        {\n            rear[i]=lower_bound(fac+1,fac+1+cnt,gcd(a[i],tmp))-fac;\n            ++cot[rear[i]];\n        }\n        for(int i=1;i<=cnt;++i)\tfor(int j=i+1;j<=cnt;++j)\tif(fac[j]%fac[i]==0)\tcot[i]+=cot[j];\n        for(int i=cnt;i;--i)\tif(2*cot[i]>=n)\tghd=max(ghd,fac[i]);\n    }\n    write(ghd);\n    return 0;\n}\n```",
        "postTime": 1596862631,
        "uid": 184977,
        "name": "pomelo_nene",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF364D \u3010Ghd\u3011"
    },
    {
        "content": "> #### Codeforces 364D\n\n> \u9898\u610f\uff1a\u7ed9\u51fa\u4e00\u4e2a\u5927\u5c0f\u4e3a $n$ \u7684\u53ef\u91cd\u96c6\u5408 $S$\uff0c\u5b9a\u4e49 $ghd(S)=\\max gcd(S')\\ (S' \\subset S,|S'| \\geq \\frac{n}{2})$\uff0c$gcd(S)$ \u4e3a $S$ \u4e2d\u6240\u6709\u6570\u7684\u6700\u5927\u516c\u7ea6\u6570\u3002\n\n> $1 \\leq n \\leq 10^6$\uff0c$1 \\leq a_i \\leq 10^{12}$\n\n\u4e00\u9053\u8c14\u9898\n\n\u9898\u76ee\u770b\u8d77\u6765\u4f3c\u4e4e\u65e0\u6cd5\u7528\u4e00\u822c\u7684\u65b9\u6cd5\u89e3\u51fa\u6765\u3002\u4e0d\u8fc7\u4ed4\u7ec6\u89c2\u5bdf\u53ef\u4ee5\u53d1\u73b0\uff0c\u6bcf\u4e2a\u6570\u6709 $\\frac{1}{2}$ \u7684\u6982\u7387\u88ab\u9009\u4e2d\u3002\u90a3\u4e48\u6211\u4eec\u4e0d\u96be\u60f3\u5230\u968f\u673a\u5316\u3002\u6211\u4eec\u968f\u673a\u5316 $10$ \u6b21\u5de6\u53f3\uff0c\u8fd9\u6837\u51fa\u9519\u7684\u6982\u7387\u5c31\u4f1a\u53d8\u6210 $1-\\frac{1}{2^{10}}$\uff0c\u5c31\u57fa\u672c\u4e0a\u53ef\u4ee5 AC \u4e86\u3002\n\n\u81f3\u4e8e\u6bcf\u6b21\u968f\u673a\u5316\u5c31\u968f\u4fbf\u6311\u9009\u51fa\u4e00\u4e2a\u6570\uff0c\u679a\u4e3e\u5b83\u7684\u6240\u6709\u56e0\u5b50 $x$\uff0c\u7136\u540e\u5224\u65ad\u6700\u591a\u80fd\u591f\u6311\u9009\u7684\u96c6\u5408\u7684\u5927\u5c0f\u662f\u5426\u8d85\u8fc7 $S$ \u7684\u4e00\u534a\uff0c\u5982\u679c\u8d85\u8fc7\u5c31\u66f4\u65b0\u7b54\u6848\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n//Coded by tzc_wk\n/*\n\u6570\u636e\u4e0d\u6e05\u7a7a\uff0c\u7206\u96f6\u4e24\u884c\u6cea\u3002\n\u591a\u6d4b\u4e0d\u8bfb\u5b8c\uff0c\u7206\u96f6\u4e24\u884c\u6cea\u3002\n\u8fb9\u754c\u4e0d\u7279\u5224\uff0c\u7206\u96f6\u4e24\u884c\u6cea\u3002\n\u8d2a\u5fc3\u4e0d\u8bc1\u660e\uff0c\u7206\u96f6\u4e24\u884c\u6cea\u3002\nD P \u987a\u5e8f\u9519\uff0c\u7206\u96f6\u4e24\u884c\u6cea\u3002\n\u5927\u5c0f\u5c11\u7b49\u53f7\uff0c\u7206\u96f6\u4e24\u884c\u6cea\u3002\n\u53d8\u91cf\u4e0d\u7edf\u4e00\uff0c\u7206\u96f6\u4e24\u884c\u6cea\u3002\n\u8d8a\u754c\u4e0d\u5224\u65ad\uff0c\u7206\u96f6\u4e24\u884c\u6cea\u3002\n\u8c03\u8bd5\u4e0d\u6ce8\u91ca\uff0c\u7206\u96f6\u4e24\u884c\u6cea\u3002\n\u6ea2\u51fa\u4e0d l l\uff0c\u7206\u96f6\u4e24\u884c\u6cea\u3002\n*/\n#include <bits/stdc++.h>\nusing namespace std;\n#define fi\t\t\tfirst\n#define se\t\t\tsecond\n#define fz(i,a,b)\tfor(int i=a;i<=b;i++)\n#define fd(i,a,b)\tfor(int i=a;i>=b;i--)\n#define foreach(it,v) for(__typeof(v.begin()) it=v.begin();it!=v.end();it++)\n#define all(a)\t\ta.begin(),a.end()\n#define giveup(...) return printf(__VA_ARGS__),0;\n#define fill0(a)\tmemset(a,0,sizeof(a))\n#define fill1(a)\tmemset(a,-1,sizeof(a))\n#define fillbig(a)\tmemset(a,0x3f,sizeof(a))\n#define fillsmall(a) memset(a,0xcf,sizeof(a))\n#define mask(a)\t\t(1ll<<(a))\n#define maskx(a,x)\t((a)<<(x))\n#define _bit(a,x)\t(((a)>>(x))&1)\n#define _sz(a)\t\t((int)(a).size())\n#define filei(a)\tfreopen(a,\"r\",stdin);\n#define fileo(a)\tfreopen(a,\"w\",stdout);\n#define fileio(a) \tfreopen(a\".in\",\"r\",stdin);freopen(a\".out\",\"w\",stdout)\n#define eprintf(...) fprintf(stderr,__VA_ARGS__)\n#define put(x)\t\tputchar(x)\n#define eoln        put('\\n')\n#define space\t\tput(' ')\n#define y1\t\t\ty_chenxiaoyan_1\n#define y0\t\t\ty_chenxiaoyan_0\n#define int long long\ntypedef pair<int,int> pii;\ninline int read(){\n\tint x=0,neg=1;char c=getchar();\n\twhile(!isdigit(c)){\n\t\tif(c=='-')\tneg=-1;\n\t\tc=getchar();\n\t}\n\twhile(isdigit(c))\tx=x*10+c-'0',c=getchar();\n\treturn x*neg;\n}\ninline void print(int x){\n\tif(x<0){\n\t\tputchar('-');\n\t\tprint(abs(x));\n\t\treturn;\n\t}\n\tif(x<=9)\tputchar(x+'0');\n\telse{\n\t\tprint(x/10);\n\t\tputchar(x%10+'0');\n\t}\n}\ninline int qpow(int x,int e,int _MOD){\n\tint ans=1;\n\twhile(e){\n\t\tif(e&1)\tans=ans*x%_MOD;\n\t\tx=x*x%_MOD;\n\t\te>>=1;\n\t}\n\treturn ans;\n}\nint n=read(),a[1000005],b[1000005],cnum,ans=0;\npii f[1000005];\ninline void solve(){\n\tcnum=0;\n\tint t=(rand()*RAND_MAX+rand())%n+1;\n\tfz(i,1,n)\tb[i]=__gcd(a[t],a[i]);\n\tsort(b+1,b+n+1);\n\tfz(i,1,n){\n\t\tif(b[i]!=b[i-1]){\n\t\t\tf[++cnum].fi=b[i];\n\t\t\tf[cnum].se=0;\n\t\t}\n\t\tf[cnum].se++;\n\t}\n\tfz(i,1,cnum){\n\t\tfz(j,1,i-1){\n\t\t\tif(f[i].fi%f[j].fi==0){\n\t\t\t\tf[j].se+=f[i].se;\n\t\t\t}\n\t\t}\n\t}\n\tfz(i,1,cnum){\n\t\tif(f[i].se>=(n+1)/2){\n\t\t\tans=max(ans,f[i].fi);\n\t\t}\n\t}\n}\nsigned main(){\n\tsrand(993244853);\n\tfz(i,1,n)\ta[i]=read();\n\tint M=11;\n\twhile(M--)\tsolve();\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1585109994,
        "uid": 115194,
        "name": "lTgMFePRoeZ",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF364D \u3010Ghd\u3011"
    },
    {
        "content": "# \u9898\u76ee\u5927\u610f\n\n\u8f93\u5165 $n\\ (1\u2264n\u226410^6)$ \u53ca $n$ \u4e2a\u6574\u6570 $a_1,a_2,...a_n\\ (1\u2264a_i\u226410^{12})$, \u8bf7\u4ece\u4e2d\u53d6\u51fa $\\lceil \\dfrac{n}{2} \\rceil$ \u4e2a\u6570\uff0c\u4f7f\u5f97\u5b83\u4eec\u7684 $\\gcd$ \u6700\u5927\uff0c\u8f93\u51fa\u6700\u5927\u7684 $\\gcd$\u3002\n\n# \u9898\u76ee\u5206\u6790\n\n\u968f\u673a\u5728 $a$ \u96c6\u5408\u4e2d\u9009\u53d6\u4e00\u4e2a\u6570 $x$\uff0c\u6c42\u51fa $x$ \u7684\u6240\u6709\u56e0\u6570\uff0c\u5347\u5e8f\u653e\u5728 $p$ \u6570\u7ec4\u4e2d\u3002\u4ee4 $cnt[i]$ \u8868\u793a $a$ \u96c6\u5408\u4e2d\u6709\u51e0\u4e2a\u6570\u7684\u56e0\u6570\u542b\u6709 $p[i]$\u3002\u6240\u4ee5\u5728\u96c6\u5408 $p$ \u4e2d\u4e8c\u5206\u9884\u5904\u7406\uff0c$\\mathcal{O(m^2)}$ \u8fed\u4ee3\u51fa\uff08$m$ \u662f\u56e0\u6570\u4e2a\u6570\uff09 $cnt$ \u6570\u7ec4\u4e0d\u96be\uff08\u4f46\u662f\u590d\u6742\u5ea6\u8f83\u9ad8\uff09\uff0c\u5904\u7406\u7ed3\u675f\u540e\uff0c\u82e5\u5b58\u5728 $cnt[i]*2\\ge n$ \u5219\u66f4\u65b0\u7b54\u6848\u5373\u53ef\u3002\n\n\u901a\u8fc7\u6d4b\u8bd5\u53ef\u4ee5\u53d1\u73b0\u968f\u673a $11$ \u6b21\u4e0d\u884c\u6700\u591a $10$ \u6b21\uff08\u5f53\u7136\u662f\u8d8a\u591a\u8d8a\u597d\uff09\u3002\n\n\u81f3\u4e8e\u968f\u673a\u5316\uff0c`rand` \u503c\u57df\u592a\u5c0f\uff0c\u867d\u7136\u53ef\u4ee5\u901a\u8fc7\u76f8\u4e58\u7684\u65b9\u5f0f\u5904\u7406\u4f46\u662f\u6211\u4eec\u6709\u66f4\u65b9\u4fbf\u7684\u5199\u6cd5\uff1a`mt19937` $\\&$ `uniform_int_distribution<int>`\u3002\u8bed\u6cd5\u89c1\u4ee3\u7801\u3002\n\n# \u4ee3\u7801\n\n```cpp\n//2022/4/17\n#define _CRT_SECURE_NO_WARNINGS\n#include <iostream>\n#include <cstdio>\n#include <climits>//need \"INT_MAX\",\"INT_MIN\"\n#include <cstring>//need \"memset\"\n#include <numeric>\n#include <algorithm>\n#include <random>\n#include <ctime>\n#define int long long\n#define Rand uniform_int_distribution<int>\n#define enter putchar(10)\n#define debug(c,que) cerr << #c << \" = \" << c << que\n#define cek(c) puts(c)\n#define blow(arr,st,ed,w) for(register int i = (st);i <= (ed); ++ i) cout << arr[i] << w;\n#define speed_up() ios::sync_with_stdio(false),cin.tie(0),cout.tie(0)\n#define mst(a,k) memset(a,k,sizeof(a))\n#define Abs(x) ((x) > 0 ? (x) : (-x))\n#define stop return(0)\nconst int mod = 1e9 + 7;\ninline int MOD(int x) {\n\tif (x < 0) x += mod;\n\treturn x % mod;\n}\nnamespace Newstd {\n\tchar buf[1 << 21],*p1 = buf,*p2 = buf;\n\tinline int getc() {\n\t\treturn p1 == p2 && (p2 = (p1 = buf) + fread(buf,1,1 << 21,stdin),p1 == p2) ? EOF : *p1 ++;\n\t}\n\tinline int read() {\n\t\tint ret = 0,f = 0;char ch = getc();\n\t\twhile (!isdigit(ch)) {\n\t\t\tif(ch == '-') f = 1;\n\t\t\tch = getc();\n\t\t}\n\t\twhile (isdigit(ch)) {\n\t\t\tret = (ret << 3) + (ret << 1) + ch - 48;\n\t\t\tch = getc();\n\t\t}\n\t\treturn f ? -ret : ret;\n\t}\n\tinline void write(int x) {\n\t\tif(x < 0) {\n\t\t\tputchar('-');\n\t\t\tx = -x;\n\t\t}\n\t\tif(x > 9) write(x / 10);\n\t\tputchar(x % 10 + '0');\n\t}\n}\nusing namespace Newstd;\nusing namespace std;\n\nconst int N = 1e6 + 5;\nint a[N],p[N],cnt[N];//cnt[i]:a \u96c6\u5408\u4e2d\u6709\u51e0\u4e2a\u6570\u7684\u56e0\u6570\u542b\u6709 p[i] \nint n,idx;\ninline int gcd(int a,int b) {\n\treturn b == 0 ? a : gcd(b,a % b);\n}\ninline void solve(int x) {\n\tidx = 0;\n\tfor (register int i = 1;i * i <= x; ++ i) {\n\t\tif (x % i == 0) {\n\t\t\tp[++ idx] = i;\n\t\t\tif (i * i != x) p[++ idx] = x / i;\n\t\t}\n\t}\n\tsort(p + 1,p + idx + 1); \n}\n#undef int\nint main(void) {\n#ifndef ONLINE_JUDGE\n\tfreopen(\"in.txt\",\"r\",stdin);\n#endif\n\t#define int long long\n\tmt19937 rand(time(0));\n\tn = read();\n\tfor (register int i = 1;i <= n; ++ i) a[i] = read();\n\tint ans = 0;\n\tfor (register int cas = 1;cas <= 10; ++ cas) {\n\t\tmst(cnt,0);\n\t\tRand now(1,n);\n\t\tint x = a[now(rand)];\n\t\tsolve(x);\n\t\tfor (register int i = 1;i <= n; ++ i) {\n\t\t\tint at = lower_bound(p + 1,p + idx + 1,gcd(x,a[i])) - p;\n\t\t\tcnt[at] ++;\n\t\t}\n\t\tfor (register int i = 1;i <= idx; ++ i) {\n\t\t\tfor (register int j = i + 1;j <= idx; ++ j) {\n\t\t\t\tif (p[j] % p[i] == 0) {\n\t\t\t\t\tcnt[i] += cnt[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (register int i = idx;i >= 1; -- i) {\n\t\t\tif (cnt[i] * 2 >= n) {\n\t\t\t\tans = max(ans,p[i]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",ans);\n\t\n\treturn 0;\n}\n```",
        "postTime": 1650169213,
        "uid": 430409,
        "name": "Coros_Trusds",
        "ccfLevel": 6,
        "title": "CF364D Ghd"
    },
    {
        "content": "\u7384\u5b66\u9898... ... ...~~\u6570\u8bba\u9898... ... ...~~\n\n\u9898\u9762\u7ed9\u51fa\u4e86Ghd\u7684\u5b9a\u4e49..\u5927\u6982\u5c31\u662f\u4e00\u4e2a\u6570\u5217\u4e2d\u8d85\u8fc7\u4e00\u534a\u7684\u6570\u7684gcd\u7684\u6700\u5927\u503c...\n\n\u770b\u8d77\u6765\u5c31\u50cf\u4e8c\u5206...\u4f46\u6ca1\u6709\u627e\u51fa\u5355\u8c03\u6027\n\n\u90a3\u5c31\u8981\u62ff\u51fa\u4e07\u80fd\u7684\u968f\u673a\u5316\u4e86\n\n\u5927\u6982\u968f\u673a\u4e2a10\u6b21,\u9519\u8bef\u7387\u5927\u6982\u5c31\u53ea\u67091/1000\u4e86QAQ\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int randomsum=10;//\u968f\u673a\u5341\u6b21\nunsigned long long seed1,seed2;\nvoid randomize(unsigned long long c,unsigned long long b)//\u81ea\u5df1\u5199\u7684\u968f\u673a\u5316\u6a21\u677f\n{\n    seed1=c+b;\n    seed2=b*c%468562482981;//\u819c\u4e00\u4e2a\u4e0d\u77e5\u9053\u662f\u5565\u7684\u6570\n}\nunsigned long long random()//\u67d0dalao\u7528\u7684\u968f\u673a\u6570\u65b9\u6cd5\n{\n    seed1^=seed2<<12;\n    seed2^=seed1>>9;\n    seed1^=seed2<<6;\n    seed2^=seed1<<12;\n    seed2^=seed1<<3;\n    seed1=~seed1;\n    seed2=~seed2;\n    seed1^=seed2^=seed1^=seed2;\n    return seed1;\n}\nlong long gcd(long long a,long long b)//gcd\n{\n    if(b==0)return a;\n    return gcd(b,a%b);\n}\nlong long llmax(long long a,long long b)//long long\u53d6max\n{\n    if(a>b)return a;else return b;\n}\nlong long num[1000005];\nint N;\nlong long a[1000005],b[1000005],c[1000005],answer=1,half;\nvoid solve()\n{\n    long long QAQ=num[(int)(random()%N+1)];//\u968f\u673a\u4e00\u4e2a\u5e8f\u5217\u4e2d\u7684\u6570\n    int i,j;\n    for(i=1;i<=N;i++)\n    a[i]=gcd(num[i],QAQ);//\u6240\u6709\u6570\u90fd\u548c\u8fd9\u4e2a\u6570\u53d6\u4e00\u6b21gcd\n    sort(a+1,a+N+1);//\u62cd\u4e00\u904d\u5e8f\n    int top=0;\n    for(i=1;i<=N;i++)//\u53bb\u91cd,\u5e76\u8bb0\u5f55\u4e2a\u6570\n    {\n        if(a[i]!=a[i-1])\n        {b[++top]=a[i];c[top]=0;}\n        c[top]++;\n    }\n    long long sum=0,now=-1;\n    for(i=1;i<=top;i++)//\u679a\u4e3eanswer\n    {\n        sum=0;\n        for(j=1;j<=top;j++)\n        if(b[j]%b[i]==0)sum+=c[j];\n        if(sum>=half)now=b[i];//\u5224\u65adanswer\u662f\u5426\u6210\u7acb\n    }\n    answer=llmax(answer,now);//\u4e0e\u6700\u7ec8\u7b54\u6848\u53d6\u5927\u503c\n}\nint main()\n{\n    randomize(time(0),time(0));//\u968f\u673a\u521d\u59cb\u5316\n    scanf(\"%d\",&N);\n    int i;\n    a[0]=-1;\n    half=(N+1)/2;//\u4e00\u534a\u7684\u5927\u5c0f\n    for(i=1;i<=N;i++)\n    scanf(\"%lld\",&num[i]);\n    for(i=1;i<=randomsum;i++)\n    solve();\n    printf(\"%lld\",answer);\n    return ~0;//QAQ\n}\n```\n//\u56e0\u4e3aCF\u7684\u6570\u636e\u6709\u4e00\u767e\u591a....1023^100/1024^100\u5927\u7ea60.9\n\u6240\u4ee5\u6709\u5927\u7ea610%\u7684\u6982\u7387\u4f1a\u9519...\u5982\u679c\u662fWA\u800c\u4e0d\u662fTLE\u53ef\u4ee5\u518d\u4ea4\u51e0\u6b21\u8bd5\u8bd5\n",
        "postTime": 1563531857,
        "uid": 86625,
        "name": "Limit",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF364D \u3010Ghd\u3011"
    },
    {
        "content": "#### ~~\u795e\u5947~~\u968f\u673a\u5316\n###### ~~\u9760\u8138\u8fc7\u9898~~\n\n##### Problem\n\u7ed9n\u4e2a\u6570($a[i]$)\uff0c\u8981\u4ece\u4e2d\u9009\u51fa$\\lceil {n \\over 2} \\rceil$\u4e2a\u6570,\u6c42\u5b83\u4eec\u7684gcd\u7684\u6700\u5927\u503c\n##### Soloution\n\u666e\u901a\u60f3\u6cd5\u5f88\u96be\u6709\u505a\u6cd5\uff0c\u56e0\u4e3a\u6700\u540e\u8981\u9009\u7684\u6570\u8f83\u591a\uff0c\u8003\u8651\u968f\u673a\u5316\n\n1. \u6211\u4eecrand\u4e00\u4e2a\u6570x\uff0c\u90a3\u4e48\u5b83\u5728\u6700\u7ec8\u7b54\u6848\u91cc\u7684\u6982\u7387$\\ge{1\\over2}$\u3002\n2. \u5c06x\u5206\u89e3\u56e0\u5f0f(\u56e0\u4e3a\u6700\u540e$\\lceil{n\\over2}\\rceil$\u4e2a\u6570\u7684\u7684gcd\u4e00\u5b9a\u662fx\u7684\u56e0\u5b50)\u8bb0\u5728num[ ]\u91cc\uff0c\u628anum[ ]\u5feb\u6392\u4e00\u4e0b\u4fdd\u8bc1\u5347\u5e8f\u3002\n3. \u5f00\u4e00\u4e2acnt[i]\u8868\u793ax\u7684\u7b2ci\u4e2a\u56e0\u5b50\u662f\u591a\u5c11\u4e2a\u6570\u7684\u56e0\u5b50\u3002\u6c42\u51fax\u4e0e$a_i$\u7684gcd\uff0c\u627e\u5230\u5bf9\u5e94\u7684$num_i$\uff0c\u5728$cnt_i+1$\n4. **\u6ce8\u610f\uff1a** num\u4e2d\u7684\u6570\u5e76\u4e0d\u4e00\u5b9a\u4e92\u8d28\uff0c\u76f8\u53cd\uff0c\u5408\u6570\u56e0\u5b50\u4e00\u5b9a\u662f\u7531\u5c0f\u5408\u6570\u56e0\u5b50\u548c\u8d28\u6570\u6784\u6210\u7684\u3002\u4f46\u6211\u4eec\u4e4b\u524d\u53ea\u5728\u6700\u5927\u516c\u56e0\u6570\u7684cnt\u4e2d\u52a0\u4e861\u3002\u6240\u4ee5\uff0c\u5982\u679c$nun_i$\u662f$num_j$\u7684\u56e0\u6570\uff0c\u90a3\u4e48$cnt_i$+=$cnt_j$;\n5. \u4ece\u5927\u5230\u5c0f\u679a\u4e3ex\u7684\u6bcf\u4e2a\u56e0\u5b50\u3002\u5982\u679c$cnt_i*2\\ge n$\uff0c\u90a3\u4e48$ans=max(ans,num_i)$\n6. \u518drand\u4e00\u6b21(\u603b\u5171rand\u5341\u6b21)\n\n**\u5f3a\u8c03\uff1a\u56e0\u4e3arand\u81ea\u8eab\u7f3a\u9677(\u6570\u636e\u8303\u56f4)\uff0c\u6700\u540e\u4e00\u4e2a\u70b9\u53ef\u4ee5\u88ab\u5361\u6389(\u5e26\u79cd\u5b50\u4e5f\u6ca1\u7528)\uff0c\u6240\u4ee5\u53d6rand\u7684\u65f6\u5019\u7528rand\u00d7rand%n+1**\n\n\u672c\u4eba\u88ab\u5361\u6389\u4e8610\u6b21\uff0c\u6539\u4e86\u540e\u8fc7\u4e86\u3002\u5982\u679c\u6709\u95ee\u9898\u6b22\u8fce\u6307\u51fa\n\n##### Code\n```cpp\n#include<bits/stdc++.h>\n#define ri register int\n#define ll long long\nusing namespace std;\nll n,a[1000005],num[1000005],cnt[1000005],tot=0;\ninline ll rd(){\n\tll res=0,f=0;\n\tchar ch=getchar();\n\tfor(;!isdigit(ch);ch=getchar()) if(ch=='-') f=1;\n\tfor(;isdigit(ch);ch=getchar()) res=(res<<3)+(res<<1)+ch-48;\n\treturn f?-res:res;\n}\ninline void work(ll x){\n\ttot=0;\n\tfor(ri i=1;i<=sqrt(x)+1;i++){\n\t\tif(x%i==0){\n\t\t\tnum[++tot]=i;\n\t\t\tif(i*i!=x) num[++tot]=x/i;\n\t\t}\n\t}\n}\nll gcd(ll a,ll b){\n\tif(!b) return a;\n\treturn gcd(b,a%b);\n}\nint main(){\n\tsrand(time(NULL));\n\tn=rd();\n\tfor(ri i=1;i<=n;i++) a[i]=rd();\n\tll ans=0;\n\tfor(ri j=1;j<=10;j++){\n\t\tmemset(cnt,0,sizeof(cnt));\n\t\tint p=rand()*rand()%n+1;\n\t\twork(a[p]);\n\t\tsort(num+1,num+tot+1);\n\t\tfor(ri i=1;i<=n;i++)\n\t\t\tcnt[lower_bound(num+1,num+tot+1,gcd(a[i],a[p]))-num]++;\n\t\tfor(ri i=1;i<=tot;i++)\n\t\t\tfor(ri j=i+1;j<=tot;j++)\n\t\t\t\tif(num[j]%num[i]==0) cnt[i]+=cnt[j];\n\t\tfor(ri i=tot;i>=1;i--)\n\t\t\tif(cnt[i]*2>=n){\n\t\t\t\tans=max(ans,num[i]);\n\t\t\t\tbreak;\n\t\t\t}\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n\n```\n\u5b8c\u7ed3\u6492\u82b1",
        "postTime": 1605342380,
        "uid": 108111,
        "name": "Lumos\u58f9\u7396\u8d30\u58f9",
        "ccfLevel": 0,
        "title": "CF364D Ghd"
    }
]