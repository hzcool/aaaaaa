[
    {
        "content": "## Solution\n\n\u6ce8\u610f\u5230\u5982\u679c\u5b58\u5728\u8fb9\u957f\u4e3a $mid$ \u7684\u7b26\u5408\u6761\u4ef6\u7684\u6b63\u65b9\u5f62\uff0c\u5219\u4e00\u5b9a\u5b58\u5728\u8fb9\u957f $<mid$ \u7684\u7b26\u5408\u6761\u4ef6\u7684\u6b63\u65b9\u5f62\uff0c\u53ef\u89c1\uff0c\u6b64\u9898\u5177\u6709\u5355\u8c03\u6027\uff0c\u8003\u8651\u4e8c\u5206\u7b54\u6848\u3002\n\n\u5982\u4f55\u5224\u65ad\u662f\u5426\u5b58\u5728\u957f\u5ea6\u4e3a $mid$ \u7684\u7b26\u5408\u6761\u4ef6\u7684\u6b63\u65b9\u5f62\uff1f\u5148\u6839\u636e\u6bcf\u4e2a\u4f4d\u7f6e\u7684\u6570\u503c\u5c06\u539f\u77e9\u9635\u8f6c\u6362\u4e3a $01$ \u77e9\u9635\uff0c\u7136\u540e\u505a\u524d\u7f00\u548c\uff0c\u7136\u540e\u679a\u4e3e\u662f\u5426\u5b58\u5728\u5168 $0$ \u7684\u6b63\u65b9\u5f62\u5373\u53ef\u3002\n\n\u6570\u636e\u8303\u56f4 $1\\le n \\cdot m\\le10^6$\uff0c\u6570\u7ec4\u5f00\u4e0d\u4e0b\uff0c\u4f7f\u7528 `vector`\u3002\n\n## Code\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N=1e6+5;\nint T,n,m,i,j,l,r,mid,ans;\nvector <int> a[N],b[N];\nbool check(int mid){\n\tint i,j;\n\tfor (i=1;i<=n;i++)\n\t\tfor (j=1;j<=m;j++)\n\t\t\tb[i][j]=(a[i][j]<mid);\n\tfor (i=1;i<=n;i++)\n\t\tfor (j=1;j<=m;j++)\n\t\t\tb[i][j]=b[i][j]+b[i-1][j]+b[i][j-1]-b[i-1][j-1];\n\tfor (i=1;i+mid-1<=n;i++)\n\t\tfor (j=1;j+mid-1<=m;j++)\n\t\t\tif (b[i+mid-1][j+mid-1]-b[i-1][j+mid-1]-b[i+mid-1][j-1]+b[i-1][j-1]==0)\n\t\t\t\treturn 1;\n\treturn 0;\n}\nint main(){\n\tios::sync_with_stdio(0),cin.tie(0),cout.tie(0);\n\tcin>>T;\n\twhile (T--) {\n\t\tcin>>n>>m;\n\t\tb[0].clear();\n\t\tfor (j=0;j<=m;j++) b[0].push_back(0);\n\t\tfor (i=1;i<=n;i++){\n\t\t\ta[i].clear(),a[i].push_back(0),b[i].clear(),b[i].push_back(0);\n\t\t\tfor (j=1;j<=m;j++)\n\t\t\t\tcin>>l,a[i].push_back(l),b[i].push_back(0);\n\t\t}\n\t\tl=1,r=n;\n\t\twhile (l<=r){\n\t\t\tmid=(l+r)>>1;\n\t\t\tif (check(mid)) l=(ans=mid)+1;\n\t\t\t\telse r=mid-1;\n\t\t}\n\t\tcout<<ans<<'\\n';\n\t}\n\treturn 0;\n}\n\n```\n",
        "postTime": 1672916328,
        "uid": 562686,
        "name": "yeshubo_qwq",
        "ccfLevel": 5,
        "title": "CF1731D Valiant's New Map \u9898\u89e3"
    },
    {
        "content": "\u663e\u7136\uff0c\u7b54\u6848\u5177\u6709\u5355\u8c03\u6027\uff0c\u6545\u8003\u8651\u4e8c\u5206\u7b54\u6848\u3002\n\n\u90a3\u4e48\u95ee\u9898\u8f6c\u5316\u4e3a\u5224\u5b9a\u6027\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u77e9\u9635\u4e2d\u5927\u4e8e\u7b49\u4e8e $mid$ \u7684\u8bbe\u7f6e\u4e3a `1`\uff0c\u5426\u5219\u8bbe\u7f6e\u4e3a `0`\uff0c\u89c2\u5bdf\u5230 $n\\times m\\leq 10^6$\uff0c\u6545\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u5de6\u4e0a\u7aef\u70b9\uff0c\u7531\u4e8e\u77e5\u9053\u77e9\u9635\u5927\u5c0f\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u4e8c\u7ef4\u524d\u7f00\u548c\u5f88\u5feb\u6c42\u51fa 01 \u77e9\u9635\u7684\u5b50\u77e9\u9635\u7684\u6570\u5b57\u548c\uff0c\u82e5\u5b58\u5728\u8fd9\u4e2a\u548c\u4e3a $mid^2$\uff0c\u4e5f\u5c31\u662f\u5168\u90e8\u4e3a `1` \u7684\uff0c\u4fbf\u662f\u4e00\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u5b50\u77e9\u9635\u3002\n\n\u590d\u6742\u5ea6\u4e3a $\\Theta\\left(nm\\log \\max\\{n,m\\}\\right)$ \u7684\uff0c\u8db3\u4ee5\u901a\u8fc7\u672c\u9898\u3002\n\n[Code](https://codeforces.com/contest/1731/submission/188818942)",
        "postTime": 1673681005,
        "uid": 482642,
        "name": "hank0402",
        "ccfLevel": 0,
        "title": "CF1731D Valiant's New Map"
    },
    {
        "content": "# Solution\n\n\u5bb9\u6613\u53d1\u73b0\uff0c\u7b54\u6848\u5177\u6709**\u5355\u8c03\u6027**\uff0c\u4e8e\u662f\u60f3\u5230**\u4e8c\u5206**\u3002\n\n\u56e0\u4e3a\u53ea\u77e5\u9053 $n\\times m\\le10^6$\uff0c\u6240\u4ee5\u7528\u4e00\u7ef4\u6570\u7ec4\u4ee3\u66ff\u4e8c\u7ef4\u6570\u7ec4\u3002\n\n\u5bf9\u4e8e\u6bcf\u6b21\u4e8c\u5206\uff0c\u53ef\u4ee5\u8bbe\u4e00\u4e2a $b$ \u6570\u7ec4\uff0c\u82e5 $a$ \u6570\u7ec4\u4e2d\u8fd9\u4e2a\u6570\u5c0f\u4e8e $mid$\uff0c$b$ \u6570\u7ec4\u5bf9\u5e94\u7684\u4f4d\u7f6e\u4e3a $\\mathbb{1}$\uff1b\u53cd\u4e4b\u4e3a $\\mathbb{0}$\u3002\n\n\u7136\u540e\u5bf9 $b$ \u6570\u7ec4\u8fdb\u884c\u4e8c\u7ef4\u524d\u7f00\u548c\uff0c\u8bb0\u4e3a $sum$ \u6570\u7ec4\u3002\u7136\u540e\u5bf9 $mid\\times mid$ \u7684\u5404\u4e2a\u533a\u95f4\u8fdb\u884c\u5224\u65ad\u662f\u5426\u5168\u4e3a $\\mathbb{0}$\u3002\u5982\u679c\u662f\uff0c$l=mid+1$\uff1b\u5426\u5219\uff0c$r=mid-1$\u3002\n\n\u8fd8\u8981\u6ce8\u610f\u4e00\u4e9b\u7ec6\u8282\uff0c\u5728\u524d\u7f00\u548c\u8bbf\u95ee\u65f6\u53ef\u80fd\u4f1a\u8bbf\u95ee\u5230\u8d1f\u6570\uff0c\u6240\u4ee5\u4e00\u5f8b\u52a0\u4e0a $10^6+5$ \u624d\u80fd\u4fdd\u8bc1\u4e0d\u4f1aRE\u3002\n\n------------\n# Code\n\n```cpp\n/*\nID:YuYihan\nLANG:C++11\nPROG:\n*/\n#include<bits/stdc++.h>\n#define IOS ios :: sync_with_stdio(false), cin.tie(0), cout.tie(0);\n#define int long long\nusing namespace std;\ninline int read(){\n    int s = 0, w = 0;\n    char ch = getchar();\n    while  (!isdigit(ch))   w |= (ch == '-'), ch = getchar();\n    while (isdigit(ch)) s = (s << 1) + (s << 3) + (ch ^ 48), ch = getchar();\n    if (w)  return ~(s - 1);\n    return s;\n}\nconst int N = 2e6 + 5;\nconst int NN = 1e6 + 5;\nint a[N], b[N], sum[N];\nint T, n, m;\nsigned main(){\n    //freopen(\".in\", \"r\", stdin), freopen(\".out\", \"w\", stdout);\n    //IOS\n    T = read();\n    while (T--){\n        n = read(), m = read();\n        for (int i = 1; i <= n * m; i++)    a[i + NN] = read();\n        int l = 1, r = min(n, m), ans;\n        while (l <= r){\n            int mid = (l + r) >> 1;\n            for (int i = 1; i <= n * m; i++)\n                if (a[i + NN] < mid)    b[i + NN] = 1;\n            \telse    b[i + NN] = 0;\n            for (int i = 1; i <= n; i++)\n            for (int j = 1; j <= m; j++)\n                sum[(i - 1) * m + j + NN] = sum[(i - 2) * m + j + NN] + sum[(i - 1) * m + j - 1 + NN] - sum[(i - 2) * m + j - 1 + NN] + b[(i - 1) * m + j + NN];\n            bool flag = 0;\n            for (int i = mid; i <= n; i++){\n                for (int j = mid; j <= m; j++)\n                    if (sum[(i - 1) * m + j + NN] - sum[(i - mid - 1) * m + j + NN] - sum[(i - 1) * m + j - mid + NN] + sum[(i - mid - 1) * m + j - mid + NN] == 0){\n                        l = mid + 1;\n                        flag = 1;\n                        ans = mid;\n                        break;\n                    }\n                if (flag)   break;\n            }\n            if (!flag)  r = mid - 1;\n        }\n        printf(\"%lld\\n\", ans);\n    }\n    return 0;\n}\n```",
        "postTime": 1673426149,
        "uid": 752343,
        "name": "slzx2022YuYihan",
        "ccfLevel": 4,
        "title": "CF1731D\u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://codeforces.com/contest/1731/problem/D)\n\n## \u89e3\u9898\u601d\u8def\uff1a\u4e8c\u5206+\u524d\u7f00\u548c\n\n\u5c3d\u7ba1\u9650\u5236\u4e86\u6b63\u65b9\u5f62\u8fb9\u957f\uff0c$l$ \u7684\u53d6\u503c\u8fd8\u662f\u6ee1\u8db3\u5355\u8c03\u6027\u7684\uff0c\u6545\u53ef\u4ee5\u4e8c\u5206\u3002\u6bcf\u6b21 check \u65f6\uff0c\u5c06 $\\geq mid$ \u7684\u4f4d\u7f6e\u8bbe\u4e3a $1$\uff0c\u53cd\u4e4b\u4e3a $0$\u3002\u8fd9\u6837\u95ee\u9898\u5c31\u8f6c\u6362\u4e3a\u4e86\u662f\u5426\u5b58\u5728\u4e00\u4e2a $mid\\times mid$ \u7684\u5168\u4e3a $1$ \u7684\u6b63\u65b9\u5f62\u3002\u4e8c\u7ef4\u524d\u7f00\u548c\u89e3\u51b3\u5373\u53ef\u3002\n\ncode\uff1a\n\n```cpp\nint n,m,h[N],sum[N];\ninline int get_id(int x,int y){return x*m+y+1;}\nbool check(int k){\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tsum[get_id(i,j)]=sum[get_id(i-1,j)]+sum[get_id(i,j-1)]-sum[get_id(i-1,j-1)]+(h[get_id(i,j)]>=k);\n\t\t}\n\t}\n\tfor(int i=k;i<=n;i++){\n\t\tfor(int j=k;j<=m;j++){\n\t\t\tif(sum[get_id(i,j)]+sum[get_id(i-k,j-k)]-sum[(get_id(i-k,j))]-sum[get_id(i,j-k)]==k*k)return true;\n\t\t}\n\t}\n\treturn false;\n}\nvoid solve(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tscanf(\"%d\",&h[get_id(i,j)]);\n\t\t}\n\t}\n\tint l=1,r=1e6,ans=1;\n\twhile(l<=r){\n\t\tint mid=(l+r)>>1;\n\t\tif(check(mid))l=mid+1,ans=mid;\n\t\telse r=mid-1;\n\t}\n\tprintf(\"%d\\n\",ans);\n}\nsigned main(){\n\tint t=1;\n\tscanf(\"%d\",&t);\n\twhile(t--)solve();\n}\n```",
        "postTime": 1672276148,
        "uid": 578590,
        "name": "yinhee",
        "ccfLevel": 0,
        "title": "CF1731D\u9898\u89e3"
    },
    {
        "content": "dp + \u4e8c\u5206\u7b54\u6848\u3002\n\n\u8003\u8651\u8f6c\u5316\u4e3a\u4e00\u4e2a\u7ecf\u5178\u95ee\u9898\uff1a\n\n> \u7ed9\u5b9a\u4e00\u4e2a\u53ea\u5305\u542b $0$ \u548c $1$ \u7684\u77e9\u9635\uff0c\u9009\u62e9\u4e00\u4e2a\u6b63\u65b9\u5f62\uff0c\u4f7f\u5f97\u6b63\u65b9\u5f62\u5185\u53ea\u542b\u6709 $1$\uff0c\u6c42\u6700\u5927\u8fb9\u957f\u3002\n\n\u8bbe $dp_{i, j}$ \u8868\u793a\u4ee5 $(i,j)$ \u4e3a\u53f3\u4e0b\u89d2\uff0c\u53ef\u6784\u6210\u7684\u6700\u5927\u6b63\u65b9\u5f62\u7684\u8fb9\u957f\uff0c\u4e0d\u96be\u5199\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$$dp_{i, j}=\\min\\{dp_{i-1,j-1},dp_{i-1,j},dp_{i,j-1}\\}+1 \\ (a_i = 1)$$\n\n\n\u7b54\u6848\u662f $dp$ \u6570\u7ec4\u7684\u6700\u5927\u503c\u3002\n\n\u663e\u7136\uff0c\u8fd9\u9053\u9898\u76ee\u7684\u8981\u6c42\u4e0e\u672c\u9898\u7c7b\u4f3c\uff0c\u5047\u8bbe\u6211\u4eec\u5df2\u77e5\u8981\u6c42\u7684\u6700\u4f4e\u9ad8\u5ea6\uff0c\u90a3\u4e48\u663e\u7136\u76f4\u63a5\u628a\u72b6\u6001\u8f6c\u79fb\u91cc\u7684\u9650\u5236 $a_i = 1$ \u6539\u4e3a $a_i \\ge one$\uff0c\u5176\u4e2d $one$ \u662f\u6211\u4eec\u5e0c\u671b\u7684\u6700\u4f4e\u9ad8\u5ea6\u3002\n\n\n\u5982\u4f55\u5f97\u5230 $one$ \u5462\uff1f\u8003\u8651\u4e8c\u5206\u7b54\u6848\uff0c\u628a\u4e0a\u9762\u8fd9\u4e2a $dp$ \u6254\u5230\u5224\u65ad\u662f\u5426\u662f\u5408\u6cd5\u89e3\u7684\u51fd\u6570\u91cc\uff0c\u82e5 $dp$ \u51fa\u6765\u7684\u7b54\u6848\u6ee1\u8db3 $ans\\ge one$\uff0c\u5219\u8fd4\u56de `true`\uff0c\u5426\u5219\u8fd4\u56de `false`\u3002\n\n\u8d5b\u65f6\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nint q;\n\nint n, m;\n\nbool check(int one, vector<vector<int>> a) {\n   int ans = 0;\n   vector<vector<int>> dp(n + 1, vector<int> (m + 1));\n   for (int i = 1; i <= n; ++i) {\n      for (int j = 1; j <= m; ++j) {\n         if (a[i][j] < one) continue;\n         dp[i][j] = min({dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1]}) + 1;\n      }\n   }\n   for (int i = 1; i <= n; ++i) {\n      for (int j = 1; j <= m; ++j) {\n         if (dp[i][j] > ans) ans = dp[i][j];\n      }\n   }\n   return (ans >= one);\n}\n\nvoid solve() {\n   cin >> n >> m;\n   vector<vector<int>> a(n + 1, vector<int> (m + 1));\n   for (int i = 1; i <= n; ++i) {\n      for (int j = 1; j <= m; ++j) {\n         cin >> a[i][j];\n      }\n   }\n   int l = 1, r = min(n, m), ans;\n   while (l <= r) {\n      int mid = (l + r) >> 1;\n      if (check(mid, a)) {\n         ans = mid, l = mid + 1;\n      } else {\n         r = mid - 1;\n      }\n   }\n   cout << ans << '\\n';\n}\n\nint main() {\n   cin >> q;\n   while (q--) {\n      solve();\n   }\n}\n```",
        "postTime": 1672186176,
        "uid": 219791,
        "name": "tZERO\u3061\u3083\u3093",
        "ccfLevel": 0,
        "title": "cf1731d"
    },
    {
        "content": "\u524d\u7f6e\u77e5\u8bc6\uff1a\u5355\u8c03\u961f\u5217\uff0c\u5efa\u8bae\u5148\u5b66\u4e60\u540e\u5b8c\u6210\u3002\u53e6\u5916\u4e8c\u7ef4 ST \u8868\u548c\u6734\u7d20 dp \u5e94\u8be5\u4e5f\u80fd\u8fc7\u3002\n\n\u4e0d\u96be\u53d1\u73b0\u7b54\u6848\u5177\u6709\u663e\u7136\u7684\u5355\u8c03\u6027\uff0c\u56e0\u4e3a\u5982\u679c\u533a\u95f4\u6269\u5927\u539f\u6765\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u533a\u95f4\u73b0\u5728\u4e00\u5b9a\u4ecd\u7136\u4e0d\u7b26\u5408\u6761\u4ef6\u3002\n\n\u4e8e\u662f\u8003\u8651\u4e8c\u5206\u7b54\u6848 $ l $\uff0c\u6bcf\u6b21\u5224\u65ad\u6bcf\u4e2a $ l \\times l $ \u7684\u533a\u95f4\u5185\u6700\u5c0f\u503c\u662f\u5426\u90fd $ \\geq l $ \u5373\u53ef\u3002\n\n\u95ee\u9898\u8f6c\u5316\u4e3a\uff1a\u7ed9\u5b9a $ n \\times m $ \u7684\u77e9\u9635\uff0c\u6c42\u6240\u6709 $ l \\times l $ \u7684\u77e9\u9635\u5185\u7684\u6700\u5c0f\u503c\u3002\u8fd9\u5c31\u662f\u4e00\u4e2a\u7ecf\u5178\u95ee\u9898\u4e86\uff0c\u7528\u5355\u8c03\u961f\u5217\u5b9e\u73b0\uff0c\u5177\u4f53\u89c1 [P2216](https://www.luogu.com.cn/problem/P2216)\u3002\n\n\u603b\u65f6\u95f4\u590d\u6742\u5ea6 $ \\mathcal{O}(nm\\log{\\min(n,m)}) $\uff0c\u53ef\u4ee5\u901a\u8fc7\u3002\u4ee3\u7801\u5c31\u4e0d\u8d34\u4e86\u3002",
        "postTime": 1672186097,
        "uid": 714821,
        "name": "loser_seele",
        "ccfLevel": 4,
        "title": "CF1731D\u9898\u89e3"
    },
    {
        "content": "\u770b\u5230\u201c\u4f7f\u8fb9\u957f\u6700\u5927\u201d\uff0c\u5f88\u5bb9\u6613\u60f3\u5230\u7528\u4e8c\u5206\u5224\u5b9a\u7684\u65b9\u5f0f\u6765\u89e3\u51b3\u6b64\u9898\u3002\r\n\r\n\u5f88\u663e\u7136\uff0c\u53ea\u7528\u4e8c\u5206\u662f\u884c\u4e0d\u901a\u7684\uff0c\u4e8e\u662f\u8003\u8651\u7528 dp \u4f5c\u4e3a\u4e8c\u5206\u5224\u5b9a\u7684\u5185\u5bb9\u3002\r\n\r\n\u8bbe $dp_{i,j}$ \u8868\u793a\u4ee5 $(i,j)$\u3002\u53f3\u4e0b\u89d2\uff0c\u53ef\u6784\u6210\u7684\u6700\u5927\u6b63\u65b9\u5f62\u7684\u8fb9\u957f\uff0c\u4e0d\u96be\u5199\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a$dp_{i,j}=\\min\\{dp_{i-1,j},dp_{i,j-1},dp_{i-1,j-1}\\}+1(mid \\leq a_{i,j})$\r\n\r\n\u82e5 dp \u6570\u7ec4\u4e2d\u7684\u6700\u5927\u503c\u5927\u4e8e\u7b49\u4e8e $mid$\uff0c\u8fd4\u56de ```true```\uff0c\u5426\u5219\u8fd4\u56de ``false``\u3002\r\n\r\n## AC Code\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\r\nusing namespace std;\r\nconst int N=1e6+5;\r\nvector<int> vec[N],f[N];\r\nint T,n,m;\r\nbool check(int len)\r\n{\r\n\tint ans=0;\r\n\tfor(int i=1;i<=n;i++)\r\n\t{\r\n\t\tfor(int j=1;j<=m;j++)\r\n\t\t{\r\n\t\t\tif(vec[i][j]>=len) f[i][j]=min(f[i-1][j],min(f[i-1][j-1],f[i][j-1]))+1;\r\n\t\t\telse f[i][j]=0; ans=max(ans,f[i][j]);\r\n\t\t}\r\n\t}\r\n\treturn ans>=len;\r\n}\r\nvoid solve()\r\n{\r\n\tscanf(\"%d%d\",&n,&m);\r\n\tfor(int i=0;i<=n;i++)\r\n\t{\r\n\t\tvec[i].resize(m+1),f[i].resize(m+1);\r\n\t\tif(!i) continue;\r\n\t\tfor(int j=1;j<=m;j++) scanf(\"%d\",&vec[i][j]);\r\n\t}\r\n\tint l=1,r=min(n,m);\r\n\twhile(l<r)\r\n\t{\r\n\t\tint mid=(1+l+r)>>1;\r\n\t\t//cout<<mid<<endl;\r\n\t\tif(check(mid)) l=mid;\r\n\t\telse r=mid-1;\r\n\t}\r\n\tprintf(\"%d\\n\",l);\r\n}\r\nint main()\r\n{\r\n\tscanf(\"%d\",&T);\r\n\twhile(T--) solve();\r\n\treturn 0;\r\n}\r\n```",
        "postTime": 1684682845,
        "uid": 486484,
        "name": "Gaode_Sean",
        "ccfLevel": 6,
        "title": "CF1731D \u9898\u89e3"
    },
    {
        "content": "\u9898\u610f\u7b80\u5316\uff1a\u5728\u4e00\u4e2a $n\u00d7m$ \u7684\u77e9\u9635\u4e2d\uff0c\u627e\u5230\u6700\u5927\u7684\u6b63\u77e9\u9635\uff0c\u4f7f\u5f97\u8be5\u6b63\u77e9\u9635\u4e2d\u6bcf\u4e2a\u5143\u7d20\u90fd\u4e0d\u5c0f\u4e8e\u8be5\u6b63\u77e9\u9635\u7684\u8fb9\u957f\u3002\n\n\u6700\u66b4\u529b\u7684\u505a\u6cd5\uff0c\u679a\u4e3e\u8fb9\u957f\uff0c\u679a\u4e3e\u5224\u65ad\u3002$O(n^2m^2\\min(n,m))$\u3002\n\n\u542f\u53d1\u6211\u4eec\u4f18\u5316\u679a\u4e3e\uff0c\u53d1\u73b0\u7b54\u6848\u6ee1\u8db3\u5355\u8c03\u6027\uff0c\u56e0\u4e3a\u5f88\u663e\u7136\u5927\u7684\u8fb9\u957f\u5408\u6cd5\uff0c\u90a3\u6b63\u77e9\u9635\u67d0\u4e2a\u9876\u70b9\u4e0d\u53d8\uff0c\u8fb9\u957f\u53d8\u5c0f\u80af\u5b9a\u4e5f\u5408\u6cd5\u3002\n\n\u6240\u4ee5\u8003\u8651\u4e8c\u5206\u7b54\u6848\u3002$O(n^2m^2\\log \\min(n,m))$\u3002\n\n\u518d\u4f18\u5316\u5224\u65ad\uff0c\u5b9a\u957f\u77e9\u9635\u6700\u5c0f\u503c\uff0c\u4e8c\u7ef4\u6ed1\u52a8\u7a97\u53e3\u3002\u5355\u8c03\u961f\u5217\u7ef4\u62a4\u5373\u53ef\u3002\n\n$O(nm\\log \\min(n,m))$\n\n\u53e6\u89e3\u4e00\u3001\n\n\u56e0\u4e3a\u5224\u65ad\u662f\u5426\u5408\u6cd5\u53ea\u4e0e\u6b63\u77e9\u9635\u5185\u6570\u548c\u8fb9\u957f\u7684\u5927\u5c0f\u5173\u7cfb\u6709\u5173\uff0c\u6240\u4ee5\u628a\u77e9\u9635\u4e2d\u5c0f\u4e8e\u8fb9\u957f\u7684\u5143\u7d20\u53d8\u4e3a $0$\uff0c\u53cd\u4e4b\u4e3a $1$\u3002\u518d\u5224\u65ad\u6b63\u77e9\u9635\u4e2d\u662f\u5426\u5168\u4e3a $1$ \u5373\u53ef\u3002\u4e8c\u7ef4\u524d\u7f00\u548c\u5b9e\u73b0\u3002\n\n$O(nm\\log \\min(n,m))$\n\n\u53e6\u89e3\u4e8c\u3001\n\n\u76f4\u63a5 $\\text{st}$ \u8868\u7ef4\u62a4\u884c\u533a\u95f4\u6700\u503c\uff0c\u7136\u540e\u5bf9 $\\text{st}$ \u8868\u6570\u7ec4\u7ef4\u62a4\u5217\u6700\u503c\u5373\u53ef\u3002\n\n$O(nm\\log \\max(n,m)\\log \\min(n,m)$\n\n\u5355\u8c03\u961f\u5217\u5199\u6cd5\uff1a\n\n$\\text{Code:}$\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define db double\n#define inf 2e18\n#define mp make_pair\n#define fi first\n#define se second\n#define pr printf\n#define ps puts\n#define pb push_back\n#define For(i,a,b) for(i=a;i<=b;i++)\n#define FOR(i,a,b) for(i=a;i>=b;i--)\nusing namespace std;\nconst int N=1e6+10;\nint n,m;\nvector<int> p[N],minnL[N],minnR[N];\nstruct node{\n    int a,b;\n};\ndeque<node> q;\nint read(){\n\tint x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){\n\t\tif(ch=='-') f=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9'){\n\t\tx=(x<<1)+(x<<3)+(ch^48);\n\t\tch=getchar();\n\t}\n\treturn x*f;\n}\nbool check(int x){\n\tint i,j;\n\tnode t;\n\tFor(i,1,n) minnL[i].clear();\n\tFor(i,1,n){\n\t\twhile(q.size()) q.pop_back();\n\t\tfor(j=0;j<m;j++){\n\t\t\twhile(q.size()&&q.front().b<=j-x) q.pop_front();\n\t\t\twhile(q.size()&&q.back().a>=p[i][j]) q.pop_back();\n\t\t\tt.a=p[i][j];\n\t\t\tt.b=j;\n\t\t\tq.push_back(t);\n\t\t\tif(j+1>=x) minnL[i].pb(q.front().a);\n\t\t}\n\t}\n//\tFor(i,1,n){for(j=0;j<minnL[i].size();j++) pr(\"%lld \",minnL[i][j]);ps(\"\");}\n\tFor(i,1,m-x+1) minnR[i].clear();\n\tFor(i,1,m-x+1){\n\t\twhile(q.size()) q.pop_back();\n\t\tfor(j=1;j<=n;j++){\n\t\t\twhile(q.size()&&q.front().b<=j-x) q.pop_front();\n\t\t\twhile(q.size()&&q.back().a>=minnL[j][i-1]) q.pop_back();\n\t\t\tt.a=minnL[j][i-1];\n\t\t\tt.b=j;\n\t\t\tq.push_back(t);\n\t\t\tif(j>=x) minnR[i].pb(q.front().a);\n\t\t}\n\t}\n\tFor(i,1,m-x+1)\n\t\tfor(j=0;j<minnR[i].size();j++) if(minnR[i][j]>=x) return 1;\n\treturn 0;\n}\nvoid solve(){\n\tint i,j,l,r,mid,ans;\n\tl=1;r=min(n,m);\n\twhile(r-l>=10){\n\t\tmid=l+r>>1;\n\t\tif(check(mid)) l=mid+1;\n\t\telse r=mid-1;\n\t}\n\tFOR(ans,r,l) if(check(ans)) break;\n\tpr(\"%lld\\n\",ans);\n}\nsigned main(){\n\tint t,i,j;\n\tt=read();\n\twhile(t--){\n\t\tn=read();m=read();\n\t\tFor(i,1,n) For(j,1,m) p[i].pb(read());\n\t\tsolve();\n\t\tFor(i,1,n) p[i].clear();\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1672917205,
        "uid": 225100,
        "name": "ice_in_sky",
        "ccfLevel": 0,
        "title": "CF1731D Valiant's New Map"
    },
    {
        "content": "~~\u849f\u84bb\u7b2c\u4e8c\u6b21\u505a\u51faD~~\n\n\u53ef\u4ee5\u53d1\u73b0\u6700\u540e\u7684\u7b54\u6848\u5177\u6709\u5355\u8c03\u6027\uff0c\u8003\u8651\u4e8c\u5206\n\n\u6bcf\u6b21\u4e8c\u5206\u9700\u8981\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e00\u4e2a\u8fb9\u957f\u4e3a $x$ \u7684\u6b63\u65b9\u5f62\u77e9\u9635\uff0c\u5176\u4e2d\u6240\u6709\u7684\u6570\u90fd\u5927\u4e8e $x$\n\n\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e8c\u7ef4st\u8868\u6765\u89e3\u51b3\uff0c\u679a\u4e3e\u77e9\u9635\u5de6\u4e0a\u89d2\uff0c\u7528st\u8868\u9884\u5904\u7406\u51fa $(i,j)$ \u5230  $(i+2^k-1,j+2^k-1)$ \u7684\u6700\u5c0f\u503c\uff0c\u7136\u540e\u67e5\u8be2\u65f6\u7c7b\u4f3c\u666e\u901ast\u8868\u5904\u7406\u3002\u65f6\u95f4\u590d\u6742\u5ea6 \n $ \\mathcal{O}(nm \\log \\max(n,m))$\n\ncode\uff1a\n```cpp\n\trd(n);\n    rd(m);\n    int g[n + 1][m + 1];\n    //rep(i,1,n) g[i].resize(m+10);\n    rep(i, 2, max(n, m)) Log2[i] = Log2[i / 2] + 1;\n    int f2[n + 1][m + 1][Log2[max(n, m)] + 2];\n    rep(i, 1, n) {\n        rep(j, 1, m) {\n            rd(g[i][j]);\n            f2[i][j][0] = g[i][j];\n        }\n    }\n\n    for (int k = 1; k <= Log2[max(m, n)]; k++) {\n        for (int i = 1; i + (1 << k) - 1 <= n; i++) {\n\n            for (int j = 1; j + (1 << k) - 1 <= m; j++) {\n                int d = 1 << (k - 1);\n                f2[i][j][k] = min(min(f2[i][j][k - 1], f2[i + d][j][k - 1]),\n                                  min(f2[i][j + d][k - 1], f2[i + d][j + d][k - 1]));\n            }\n        }\n    }\n\n    int l = 1, r = min(n, m);\n\n    while (l <= r) {\n        int mid = (l + r) / 2;\n        bool flg = 0;\n        int x = mid;\n        rep(i, 1, n - x + 1) {\n            rep(j, 1, m - x + 1) {\n                int k = Log2[x], d = x - (1 << k);\n\n                if (min(min(f2[i][j][k], f2[i][j + d][k]),\n                        min(f2[i + d][j][k], f2[i + d][j + d][k])) >= x) {\n                    flg = 1;\n                    break;\n                }\n            }\n\n            if (flg)\n                break;\n        }\n\n        if (flg)\n            l = mid + 1;\n        else\n            r = mid - 1;\n    }\n\n    cout << r << endl;\n```\n\n\n",
        "postTime": 1672187091,
        "uid": 481851,
        "name": "Withers",
        "ccfLevel": 5,
        "title": "CF1713D \u9898\u89e3"
    }
]