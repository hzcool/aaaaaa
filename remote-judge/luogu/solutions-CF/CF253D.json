[
    {
        "content": "\u8fd9\u9053\u9898\u76ee\u8fd8\u662f\u6709\u70b9\u610f\u601d\u7684\uff0c\u53ea\u53ef\u60dc\u6ca1\u4eba\u6765\u53d1\u4e00\u7bc7\u9898\u89e3\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u5148\u679a\u4e3e\u4e00\u4e0b\u77e9\u9635\u7684\u4e0a\u8fb9\u754c\uff0c\u4e0b\u8fb9\u754c\u548c\u5de6\u8fb9\u754c\uff0c\u8fd9\u6837\u5df2\u7ecf\u53ef\u4ee5\u786e\u5b9a\u4e24\u4e2a\u70b9\u7684\u4f4d\u7f6e\u4e86\uff0c\u663e\u7136\uff0c\u5982\u679c\u6211\u4eec\u9009\u62e9\u679a\u4e3e\u53f3\u8fb9\u754c\u80af\u5b9a\u4f1a TLE \u8d77\u98de\u3002\n\n\u90a3\u4e48\u6211\u4eec\u8003\u8651\u4f18\u5316\u6389\u8fd9\u4e2a\u53f3\u8fb9\u754c\uff0c\u76f8\u4fe1\u770b\u9898\u89e3\u7684\u5404\u4f4d\u90fd\u5e94\u8be5\u4f1a\u4e8c\u7ef4\u524d\u7f00\u548c\u6765\u5904\u7406\u8fd9\u4e2a `a`\uff0c\u5f88\u5bb9\u6613\u53d1\u73b0\u8fd9\u4e2a\u53f3\u8fb9\u754c\u5176\u5b9e\u5177\u6709\u5355\u8c03\u6027\uff0c\u5373\u968f\u7740\u8fd9\u4e2a\u5de6\u8fb9\u754c\u4e0d\u65ad\u53d8\u5927\uff0c\u53f3\u8fb9\u754c\u80af\u5b9a\u662f\u53ea\u589e\u4e0d\u51cf\u3002\n\n\u56e0\u6b64\u6211\u4eec\u8003\u8651\u7528\u53cc\u6307\u9488\u6765\u7ef4\u62a4\u8fd9\u4e2a\u4e1c\u897f\uff0c~~\u4f60\u4ee5\u4e3a\u8fd9\u6837\u5c31\u597d\u4e86\u4e48\uff1f\u4e0d\u6211\u4eec\u8fd8\u8981\u8003\u8651**\u6ee1\u8db3\u56db\u4e2a\u89d2\u7684\u5b57\u6bcd\u76f8\u7b49**\u3002~~\n\n\u8fd9\u4e2a\u4e1c\u897f\u6bd4\u8f83\u9ebb\u70e6\uff0c\u56e0\u4e3a\u6211\u4eec\u53cc\u6307\u9488\u4e0d\u4f1a\u4e00\u4e2a\u4e00\u4e2a\u626b\uff0c\u800c\u662f\u76f4\u63a5\u7edf\u8ba1\u7b54\u6848\u7684\u3002\n\n\u90a3\u4e48\u5982\u4f55\u6765\u7ef4\u62a4\uff1f\n\n\u6211\u4eec\u8003\u8651\u7ed9\u5b83\u8bb0\u5f55\u4e00\u4e2a\u6876\uff0c\u5f53\u524d\u6211\u7684\u5de6\u53f3\u6307\u9488\u5305\u542b\u7684\u533a\u57df\uff0c\u5982\u679c\u6ee1\u8db3\u4e24\u4e2a\u70b9\u76f8\u7b49\uff0c\u6211\u4eec\u628a\u8fd9\u4e24\u4e2a\u70b9\u7684\u503c\u6254\u8fdb\u6876\u91cc\u9762\uff0c\u5728\u8bb0\u5f55\u7b54\u6848\u7684\u65f6\u5019\uff0c\u5c06\u5de6\u8fb9\u754c\u7684\u90a3\u4e2a\u51cf\u5230\uff0c\u5c31\u7ef4\u62a4\u597d\u4e86\u3002\n\n\u53ea\u80fd\u8bf4\u591a\u505a\u9898\u624d\u80fd\u60f3\u5230\u8fd9\u79cd\u601d\u8def\u3002\n\n\u53e6\u5916\uff0c\u6ce8\u610f\u4e00\u4e0b long long \u4ee5\u53ca freopen\u3002\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <vector>\n#define int long long \n#define pb push_back\nusing namespace std;\nconst int INF=405;\nint n,m,a,ans,sum[INF][INF],aa[INF];\nchar Map[INF][INF];\nint f(int x,int y,int xx,int yy) {\n    swap(xx,x);swap(y,yy);\n    int ll=xx-1,rr=yy-1;\n    // if (ll<0) ll=0;if (rr<0) rr=0;\n    return sum[x][y]-sum[ll][y]-sum[x][rr]+sum[ll][rr];\n}\nsigned main()\n{\n    freopen(\"input.txt\",\"r\",stdin);\n    freopen(\"output.txt\",\"w\",stdout);\n    scanf(\"%lld %lld %lld\",&n,&m,&a);\n    for (int i=1;i<=n;i++)\n        for (int j=1;j<=m;j++) {\n            scanf(\" %c\",&Map[i][j]);\n            sum[i][j]=sum[i-1][j]+sum[i][j-1]-sum[i-1][j-1]+(Map[i][j]=='a');\n        }\n    // cout<<f(1,3,2,6)<<\"\\n\";\n    for (int i=1;i<=n;i++) {\n        for (int j=i+1;j<=n;j++) {\n            for (int k=0;k<=26;k++) aa[k]=0;\n            for (int l=1,p=1;l<=m;l++) {\n                if (Map[i][l]!=Map[j][l]) continue;\n                while (p<=m && f(i,l,j,p)<=a) {\n                    if (Map[j][p]==Map[i][p])\n                        aa[Map[j][p]-'a']++;\n                    p++;\n                }\n                aa[Map[i][l]-'a']--;\n                if (aa[Map[i][l]-'a']>0) \n                    ans+=aa[Map[i][l]-'a'];\n            }\n        }\n    }\n    cout<<ans<<\"\\n\";\n    return 0;\n}\n```\n",
        "postTime": 1643975578,
        "uid": 208653,
        "name": "_edge_",
        "ccfLevel": 0,
        "title": "CF253D"
    },
    {
        "content": "\u53d1\u73b0\u6570\u636e\u8303\u56f4\u53ea\u591f $\\mathcal O(n^3)$ \u7684\uff0c\u56e0\u6b64\u8003\u8651\u679a\u4e3e\u4e0a\u4e0b\u5de6\u8fb9\u754c\u3002\u53d1\u73b0\u201c\u5305\u542b\u4e0d\u8d85\u8fc7 $k$ \u4e2a `a`\u201d\u662f\u6709\u5355\u8c03\u6027\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u5904\u7406\u51fa\u5b57\u6bcd `a` \u7684\u4e8c\u7ef4\u524d\u7f00\u548c\uff0c\u4f7f\u7528\u53cc\u6307\u9488\u7ef4\u62a4\u5de6\u53f3\u8fb9\u754c\u3002\n\n\u5177\u4f53\u5730\uff0c\u6211\u4eec\u679a\u4e3e\u4e0a\u4e0b\u8fb9\u754c $u,d$\uff0c\u5728\u79fb\u52a8 $l,r$ \u6307\u9488\u7684\u65f6\u5019\u8bb0\u5f55\u6570\u7ec4 $buc$\uff0c$buc_i$ \u8868\u793a\u6709\u591a\u5c11\u4e2a $l\\le j\\le r$ \u6ee1\u8db3 $s_{u,j}=s_{d,j}=i$\u3002\u7136\u540e\u5728\u6ee1\u8db3\u201c\u957f\u5bbd\u5927\u4e8e\u4e00\u201d\u4e14\u5de6\u4e0a\u3001\u5de6\u4e0b\u5b57\u6bcd\u76f8\u7b49\u7684\u60c5\u51b5\u4e0b\u5229\u7528 $buc$ \u6570\u7ec4\u5373\u53ef\u7edf\u8ba1\u7b54\u6848\u3002\n\n\u6ce8\u610f\u672c\u9898\u9700\u8981\u6587\u4ef6\u8bfb\u5199\uff0c\u6587\u4ef6\u540d\u662f `input.txt` \u548c `output.txt`\u3002\n\n```cpp\n// Problem: CF253D Table with Letters - 2\n// Contest: Luogu\n// URL: https://www.luogu.com.cn/problem/CF253D\n// Memory Limit: 250 MB\n// Time Limit: 2000 ms\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n//By: OIer rui_er\n#include <bits/stdc++.h>\n#define rep(x,y,z) for(ll x=y;x<=z;x++)\n#define per(x,y,z) for(ll x=y;x>=z;x--)\n#define debug prllf(\"Running %s on line %d...\\n\",__FUNCTION__,__LINE__)\n#define fileIO(s) do{freopen(s\".in\",\"r\",stdin);freopen(s\".out\",\"w\",stdout);}while(false)\nusing namespace std;\ntypedef long long ll;\nconst ll N = 405;\n\nll n, m, k, sum[N][N], buc[26], ans;\nchar s[N][N];\ntemplate<typename T> void chkmin(T &x, T y) {if(x > y) x = y;}\ntemplate<typename T> void chkmax(T &x, T y) {if(x < y) x = y;}\n\nint main() {\n\tfreopen(\"input.txt\", \"r\", stdin);\n\tfreopen(\"output.txt\", \"w\", stdout);\n\tscanf(\"%lld%lld%lld\", &n, &m, &k);\n\trep(i, 1, n) scanf(\"%s\", s[i]+1);\n\trep(i, 1, n) rep(j, 1, m) sum[i][j] = sum[i-1][j] + sum[i][j-1] - sum[i-1][j-1] + (s[i][j] == 'a');\n\trep(u, 1, n) {\n\t\trep(d, u+1, n) {\n\t\t\tmemset(buc, 0, sizeof(buc));\n\t\t\tll l = 1, r = 1, now = 0;\n\t\t\twhile(l < m) {\n\t\t\t\twhile(r <= m && sum[d][r] - sum[u-1][r] - sum[d][l-1] + sum[u-1][l-1] <= k) {\n\t\t\t\t\tif(s[u][r] == s[d][r]) ++buc[s[u][r]-'a'];\n\t\t\t\t\t++r;\n\t\t\t\t}\n\t\t\t\tif(l < r && s[u][l] == s[d][l]) {\n\t\t\t\t\t--buc[s[u][l]-'a'];\n\t\t\t\t\tnow += buc[s[u][l]-'a'];\n\t\t\t\t}\n\t\t\t\t++l;\n\t\t\t}\n\t\t\tans += now;\n\t\t}\n\t}\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n}\n```",
        "postTime": 1653308881,
        "uid": 122461,
        "name": "rui_er",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF253D\u3010Table with Letters - 2\u3011"
    }
]