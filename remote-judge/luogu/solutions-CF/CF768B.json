[
    {
        "content": "\u6211\u6765\u4e00\u4e2a\u7279\u522b\u7279\u522b\u66b4\u529b\u7684\u9012\u5f52\u5427\uff0c\u6ca1\u6709\u4efb\u4f55\u9884\u5904\u7406\u6216\u8005\u4f18\u5316\uff0c\u76f4\u63a5\u66b4\u529b\u5e72\u7684\u90a3\u79cd\u3002\n\n### 1. \u66b4\u529b\u601d\u8def\u7684\u4ea7\u751f\n\n\u89c2\u5bdf\u9898\u76ee\u53ef\u4ee5\u53d1\u73b0 $0 \\le r-l \\le 10^5$\uff0c\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u904d\u5386 $l$ \u5230 $r$ \u4e2d\u7684\u6bcf\u4e00\u4e2a\u6570\uff0c\u6c42\u51fa\u5176\u662f\u4e0d\u662f $1$\uff0c\u7136\u540e\u628a\u7b54\u6848\u52a0\u8d77\u6765\u5373\u53ef\u3002\n\n### 2. \u9012\u5f52\u5b9e\u73b0\u66b4\u529b\u601d\u8def\n\n\u6211\u4eec\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u51fd\u6570 $f(x,p)$\uff0c\u8868\u793a\u521d\u59cb\u7684\u6570\u4e3a $x$ \u65f6\u5e8f\u5217\u4e2d\u7b2c $p$ \u4e2a\u6570\u662f\u5426\u662f $1$\u3002\u7531\n\n$x$ \u4ea7\u751f\u7684\u6570\u5217\u5206\u4e09\u90e8\u5206\uff1a\n\n- \u7531 $\\lfloor x/2 \\rfloor$ \u4ea7\u751f\u7684\u6570\u5217\uff1b\n- \u4e00\u4e2a\u6570\uff0c$x \\bmod 2$\uff1b\n- \u7531 $\\lfloor x/2 \\rfloor$ \u4ea7\u751f\u7684\u6570\u5217\uff1b\n\n\u5982\u679c $p$ \u6b63\u597d\u5728\u8fd9\u4e2a\u5e8f\u5217\u7684\u6b63\u4e2d\u95f4\uff0c\u90a3\u4e48 $x \\bmod 2$ \u5373\u4e3a\u6240\u6c42\u3002\n\n\u6b63\u4e2d\u95f4\u7684\u4f4d\u7f6e\u662f\u4ec0\u4e48\uff1f\u7531 $x$ \u4ea7\u751f\u7684\u6570\u5217\u6709\u591a\u957f\uff1f\u8bbe\u7531 $x$ \u4ea7\u751f\u7684\u6570\u5217\u957f\u5ea6\u4e3a $l(x)$\uff0c\u5219 $l(x)=2 \\times l(\\lfloor x/2 \\rfloor)+1$\uff0c\u89c2\u5bdf\u6216\u63a8\u5bfc\uff08\u8fd9\u5b9e\u9645\u4e0a\u662f\u4e2a\u7b80\u5355\u7684\u7b49\u6bd4\u6570\u5217\u6c42\u548c\uff09\u5373\u53ef\u53d1\u73b0 $l(x)=2^{k+1}-1$\uff0c\u5176\u4e2d $k=x$ \u5728\u4e8c\u8fdb\u5236\u4e0b\u7684\u4f4d\u6570\uff0c\u5373 $k=\\lfloor \\log_2 x \\rfloor$\u3002\u7531 $x$ \u4ea7\u751f\u7684\u6570\u5217\u4e2d\u95f4\u7684\u4f4d\u7f6e\u6b63\u597d\u4e3a $2^{k}$\u3002\n\n\u5982\u679c $p$ \u4e0d\u5728\u8fd9\u4e2a\u5e8f\u5217\u7684\u6b63\u4e2d\u95f4\uff0c\u90a3\u4e48\u5b83\u4e00\u5b9a\u662f\u7531 $\\lfloor x/2 \\rfloor$ \u4ea7\u751f\u7684\u6570\u5217\u4e2d\u7684\u67d0\u4e2a\u6570\uff0c\u9012\u5f52\u6c42\u89e3\u5373\u53ef\u3002\n\n\u7531\u4e8e\u5bf9\u6bcf\u4e2a $x$ \u90fd\u9700\u8981\u6c42\u51fa $k$\uff0c\u56e0\u6b64\u76f4\u63a5\u5b9e\u73b0\u66b4\u529b\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $N \\log ^2N$\u3002\u4e8b\u5b9e\u4e0a\u6211\u4eec\u4e0d\u96be\u5c06\u5176\u4f18\u5316\u4e3a $N log N$\uff0c\u53ea\u9700\u8981\u5148\u5904\u7406\u51fa $N$ \u7684 $k$ \u503c\uff0c\u7136\u540e\u5728\u9012\u5f52\u7684\u8fc7\u7a0b\u4e2d\u5e26\u4e0a\u8fd9\u4e00\u53c2\u6570\u5373\u53ef\u3002\n\n### 3. \u66b4\u529b\u7b97\u6cd5\u7684\u76f4\u63a5\u4ee3\u7801\u5b9e\u73b0\n\n```c++\n#include <iostream>\n#include <cstdio>\nusing namespace std;\nlong long n, l, r;\nlong long ans;\nlong long calc(long long x, long long p)\n{\n    long long y = x, mid = 1;\n    // \u76f4\u63a5\u8ba1\u7b97\u4e2d\u95f4\u7684\u6570\u7684\u4f4d\u7f6e\uff0c\u53732^k \n    while (y >> 1)\n        y >>= 1, mid <<= 1;\n    // \u5982\u679cp\u843d\u5728\u5de6\u534a\u90e8\u5206\uff0c\u9012\u5f52\u6c42\u89e3\u4e4b \n    if (p < mid)\n        return calc(x >> 1, p);\n    // \u53f3\u534a\u90e8\u5206\u540c\u7406 \n    else if (p > mid)\n        return calc(x >> 1, p - mid);\n    // \u5426\u5219\u5373\u4e3a\u4e2d\u95f4\u7684\u6570\uff0c\u8fd4\u56dex mod 2 \n    return x & 1;\n}\nint main()\n{\n    scanf(\"%lld %lld %lld\", &n, &l, &r);\n    // \u66b4\u529b\u904d\u5386\u6bcf\u4e00\u4e2a\u6570\uff0c\u8ba1\u7b97\u5176\u662f\u5426\u4e3a1 \n    for (long long i = l; i <= r; i++)\n        ans += calc(n, i);\n    printf(\"%lld\\n\", ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1599211093,
        "uid": 219978,
        "name": "SBofGaySchool",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF768B \u3010Code For 1\u3011"
    },
    {
        "content": "\u4e2a\u4eba vp \u6216\u8005\u6253\u4f11\u95f2\u573a\u7684\u4e60\u60ef\u90fd\u662f\u5148\u5f00 B \u62a2\u4e00\u8840~~\u4f46\u662f\u6ca1\u62a2\n\u5230\u8fc7~~\u7136\u540e\u518d\u505a\u522b\u7684\u3002\u53d1\u73b0\u8fd9\u9898\u6ca1\u9898\u89e3\u6b63\u597d\u6c34\u4e2a\u7ecf\u9a8c\u3002\n\n\u4e0d\u96be\u53d1\u73b0\u6700\u540e\u4f1a\u6784\u6210\u4e00\u68f5\u5171\u6709 $2^k$ \u4e2a\u8282\u70b9\u7684\u5206\u6cbb\u6811\uff0c\u5176\u4e2d $k=\\lceil\\log_2 n\\rceil$ \u3002\u4f46\u662f\u8fd9\u5176\u4e2d\u6709\u5f88\u591a\u90e8\u5206\u662f\u91cd\u590d\u7684\u3002\u968f\u4fbf\u753b\u4e00\u4e0b\u56fe\u53ef\u4ee5\u53d1\u73b0\u5bf9\u4e8e\u533a\u95f4\u5185\u6240\u6709\u7684\u5947\u6570\u4f4d\u7f6e\u90fd\u4f1a\u662f\u4e00\u6837\u7684\u7ed3\u679c\uff0c\u53d6\u51b3\u4e8e\u6700\u540e $n$ \u4e0d\u65ad\u9664\u4ee5 $2$ \u4e0b\u53d6\u6574\u662f $0$ \u8fd8\u662f $1$ \u3002\u800c\u5bf9\u4e8e\u5076\u6570\u4f4d\u7f6e\u5219\u662f\u67d0\u4e9b $n'\\mod 2$ \u3002\u53d1\u73b0\u8fd9\u4e9b\u5076\u6570\u4f4d\u7f6e\u7684\u6df1\u5ea6\u53ef\u80fd\u4f1a\u6709\u4e0d\u540c\uff0c\u540c\u4e00\u6df1\u5ea6\u7ed3\u679c\u76f8\u540c\u3002\u4e8e\u662f\u5c31\u53ef\u4ee5\u9884\u5904\u7406\u51fa\u6bcf\u4e2a\u6df1\u5ea6\u7684\u7b54\u6848\u3002\u6700\u7ec8\u590d\u6742\u5ea6 $O((r-l)\\log n)$ \u3002\n\n```cpp\n\nint cnt ;\nint ans ;\nint res1 ;\nint hmf[N] ;\nll posv[N] ;\nll base[N] ;\nll n, l, r ;\n \nint main(){\n    cin >> n >> l >> r ;\n    if (n == 1) return puts(\"1\"), 0 ;\n    ll m = n ; hmf[++ cnt] = m % 2 ;\n    while (m / 2 > 1)\n        m /= 2, hmf[++ cnt] = m % 2 ;\n//    debug(hmf, 1, cnt) ;\n    reverse(hmf + 1, hmf + cnt + 1) ;\n    for (int i = 0 ; i <= 60 ; ++ i)\n        posv[i] = 1ll << i ; res1 = m / 2 ;\n    for (ll i = l ; i <= r ; ++ i){\n        if (i & 1) ans += res1 ;\n        else\n            for (int j = cnt ; j ; -- j)\n                if (i % posv[j] == 0) { ans += hmf[j] ; break ; }\n//        debug(i, ' '), debug(ans) ;\n    }\n    cout << ans << '\\n' ;\n    return 0 ;\n}\n \n```",
        "postTime": 1590665257,
        "uid": 28313,
        "name": "\u768e\u6708\u534a\u6d12\u82b1",
        "ccfLevel": 7,
        "title": "\u300c\u6c34\u300dCF768B Code For 1"
    },
    {
        "content": "[\u4f20\u9001\u95e8\uff1aB. Code For 1](https://codeforces.com/contest/768/problem/B)\n\n\u50cf\u6211\u8fd9\u4e48\u83dc\u7684 Oier\uff0c\u8003\u573a\u4e0a\u53ea\u60f3\u7684\u51fa\u6765\u7c7b\u4f3c\u6a21\u62df\u7ebf\u6bb5\u6811\u7684\u505a\u6cd5\u5566\uff5e\n\n\u88ab\u66b4\u529b\u540a\u6253\uff08~~\u5927\u54ed~~\uff09\u3002\u6b64\u9898\u89e3\u63d0\u4f9b\u4e00\u79cd\u65b0\u505a\u6cd5\u505a\u53c2\u8003\u3002\n\n## Solution\n\n### 1\n\n\u9996\u5148\u6211\u4eec\u53d1\u73b0\u4e00\u4e2a\u7ed9\u5b9a\u7684 $n$\uff0c\u6211\u4eec\u662f\u53ef\u4ee5\u6c42\u51fa\u5b83\u6700\u7ec8\u5316\u4e3a\u7684 01 \u4e32\u7684\u957f\u5ea6\u3002\n\n\u8bbe $s_{lst}$ \u4e3a\u5f53\u524d\u5206\u89e3\u5f97\u5230\u7684\u4e32\u7684\u957f\u5ea6\uff0c$x$ \u4e3a\u5206\u89e3\u51fa\u7684\u3001\u7528\u4e8c\u8fdb\u5236\u8868\u793a\u7684 01 \u201c\u4e32\u201d\u957f\u5ea6\u6700\u5927\u7684\u4e00\u4e2a\u6570\uff0c$y$ \u4e3a\u957f\u5ea6\u6700\u5927\u7684\u6570\u7684\u4e2a\u6570\u3002\n\n\u4f8b\u5982\uff0c\u5f53\u8f93\u5165\u7684 $n$ \u4e3a 10 \u65f6\uff0c\u4e8c\u8fdb\u5236\u4e0b\u8868\u793a\u4e3a 1010\uff0c\u6b64\u65f6 $s_{lst}$ \u4e3a 4\uff0c$x$ \u4e3a 4, $y$ \u4e3a 1\u3002\n\n\u5c06 10 \u5206\u89e3\u6210 5\uff0c0\uff0c5\uff0c\u5373\u4e8c\u8fdb\u5236\u4e0b\u7684 101\uff0c0\uff0c101\uff0c\u6b64\u65f6 $s_{lst}$ \u4e3a 7\uff0c$x$ \u4e3a 3\uff0c$y$ \u4e3a 2\u3002\n\n\u8fdb\u4e00\u6b65\u5206\u89e3\uff0c2\uff0c1\uff0c2\uff0c0\uff0c2\uff0c1\uff0c2\uff0c\u5373\u4e8c\u8fdb\u5236\u4e0b\u7684 10\uff0c1\uff0c10\uff0c0\uff0c10\uff0c1\uff0c10\uff0c\u6b64\u65f6 $s_{lst}$ \u4e3a 11\uff0c$x$ \u4e3a 2\uff0c$y$ \u4e3a 4\u3002\n\n\u7efc\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\uff1a\u5047\u8bbe\u6211\u4eec\u5df2\u6709 $s_{lst},\\ x,\\ y$\uff0c\u60f3\u5f97\u5230\u5206\u89e3\u4e00\u6b21\u4e4b\u540e\u7684\u72b6\u6001\u7684 $s_{now},\\ x',\\ y'$\u3002\n\n\u6709\uff1a$s_{now}=((x-1)* 2+1) * y + (s_{lst}-x* y)$\n\n\u5176\u4e2d $((x-1)* 2+1)$ \u662f\u6bcf\u4e00\u4e2a\u957f\u5ea6\u4e3a $x$ \u7684\u6570\u5206\u89e3\u51fa\u6765\u7684\u65b0\u7684\u4e09\u4e2a\u6570 \u4e8c\u8fdb\u5236\u4e0b 01 \u4e32\u62fc\u8d77\u6765\u7684\u603b\u957f\u5ea6\u3002\u6bd4\u5982\u8bf4 5\uff08$(101)_2$\uff09\u5206\u89e3\u6210 2\uff0c1\uff0c2\uff0c\u8fd9\u4e09\u4e2a\u6570\u4e8c\u8fdb\u5236\u4e0b\u7684 01 \u4e32\u62fc\u8d77\u6765\u5c31\u662f 10110\uff0c\u957f\u5ea6\u4e3a 5\u3002\n\n$(s_{lst}-x* y)$ \u8868\u793a\u9664\u53bb\u90a3\u4e9b\u4e8c\u8fdb\u5236\u8868\u793a\u4e0b\u957f\u5ea6\u4e3a $x$ \u7684\u6570\uff0c\u5269\u4e0b\u7684\u3001\u503c\u4e3a 0 \u6216 1 \u7684\u6570\u7684\u4e2a\u6570\u3002\u56e0\u4e3a\u5b83\u4eec\u4e0d\u4f1a\u88ab\u518d\u6b21\u5206\u89e3\uff0c\u6240\u4ee5\u76f4\u63a5\u4fdd\u7559\u5373\u53ef\u3002\n\n\u5176\u4f59\u7684\uff1a$x' \\gets (x - 1),\\ y' \\gets (y * 2)$\u3002\u8fd9\u4e2a\u4e0d\u96be\u7406\u89e3\u3002\n\n\u4e00\u76f4\u8ba1\u7b97\u51fa\u65b0\u7684 $s$\uff0c\u76f4\u5230 $x = 1$\uff0c\u8bf4\u660e\u6b64\u65f6\u6bcf\u4e2a\u6570\u4e8c\u8fdb\u5236\u8868\u793a\u4e0b\u7684\u957f\u5ea6\u90fd\u662f 1 \u4e86\uff0c\u5373\u6bcf\u4e2a\u6570\u7684\u503c\u975e 0 \u5373 1\uff0c\u5206\u89e3\u7ed3\u675f\u3002\n\n\u4e00\u987f\u64cd\u4f5c\u4e0b\u6765\uff0c\u4e0d\u4f1a\u6d6a\u8d39\u591a\u5c11\u65f6\u95f4\uff08\u56e0\u4e3a $n$ \u672c\u8eab\u4e0d\u8d85\u8fc7 2 \u7684 50 \u6b21\u65b9\uff09\u3002\n\n### 2\n\n\u5efa\u6811\u90e8\u5206\u3002\n\n\u6211\u4eec\u73b0\u5728\u6709 $n=10$\uff0c\u628a\u5b83\u5206\u89e3\u540e\u7684\u72b6\u6001\u62c6\u6210\u4e00\u4e2a\u6811\uff1a\n\n\u8282\u70b9\u7f16\u53f7\uff1a\n\n````\n  1\n / \\\n2   3\n````\n\n\u6bcf\u4e2a\u8282\u70b9\u4ee3\u8868\u7684\u6743\u503c\uff1a\n\n````\n  0\n / \\\n5   5\n````\n\n\u6240\u4ee3\u8868\u7684\u4e8c\u8fdb\u5236\u4e0b\u7684\u6570\uff1a\n\n````\n   0\n /   \\\n101  101\n````\n\n\u6bcf\u4e2a\u8282\u70b9\u4ee3\u8868\u7684\uff08\u7ef4\u62a4\u7684\uff09\u6700\u7ec8\u7684 01 \u4e32\u7684\u533a\u95f4\uff1a\n\n\uff0810 \u5206\u89e3\u5230\u6700\u540e\uff0c01 \u4e32\u7684\u957f\u5ea6\u4e3a 15\u3002\uff09\n\n````\n     (1~15)\n    /       \\\n\uff081\uff5e7\uff09 \uff089\uff5e15\uff09\n````\n\n\uff088 \u53bb\u54ea\u91cc\u4e86\uff1f1 \u53f7\u8282\u70b9\u672c\u8eab\u5c31\u4ee3\u8868\u7740\u516b\u53f7\u8282\u70b9\u3002\uff09\n\n\u5728\u4e0a\u9762\u8fd9\u4e48\u591a\u56fe\u4e2d\uff0c\u6211\u4eec\u53d1\u73b0 2 \u53f7\u8282\u70b9\u548c 3 \u53f7\u8282\u70b9\u5176\u5b9e\u662f\u4e00\u6a21\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u5efa 2 \u53f7\u8282\u70b9\u4e00\u4e2a\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u4e0d\u96be\u53d1\u73b0\u8fd9\u9897\u6811\u6700\u540e\u7684\u6df1\u5ea6\u5c31\u662f $n$ \u5728\u4e8c\u8fdb\u5236\u8868\u8fbe\u4e0b\u7684 01 \u4e32\u7684\u957f\u5ea6\u3002\n\n### 3\n\n\u554a\u6211\u4eec\u53d1\u73b0\u67e5\u8be2\u7684\u6700\u540e\u7ed3\u679c\u5c31\u662f\u8be5\u533a\u95f4\u5305\u542b\u7684\u6570\u7684\u603b\u6570\u91cf\u51cf\u53bb\u503c\u4e3a 0 \u7684\u6570\u7684\u6570\u91cf\u3002\n\n\u6240\u4ee5\u6211\u4eec\u7684\u6811\u5c31\u662f\u7ef4\u62a4\u533a\u95f4\u5185\u503c\u4e3a 0 \u7684\u6570\u7684\u6570\u91cf\u3002\n\n\u67e5\u8be2\u7684\u65f6\u5019\u8981\u6ce8\u610f\u5982\u679c\u67e5\u8be2\u8303\u56f4\u5305\u62ec\u4e86\u6211\u4eec\u5b9e\u9645\u4e0a\u6ca1\u6709\u5efa\u7684\u53f3\u5b50\u6811\uff0c\u6211\u4eec\u8981\u628a\u5b83\u8f6c\u5316\u4e3a\u67e5\u8be2\u5de6\u5b50\u6811\u7684\u5bf9\u5e94\u533a\u95f4\u3002\n\n## Code\n\n\u6ce8\u610f\u7279\u5224 0\uff01\uff01\uff01\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\n#define int long long\n#define rep(i, a, b) for(register int i = a; i <= b; ++i)\nconst int maxn = 55;\nint n, tp;\nint n2[maxn], tot;\nint cnt;\nint ans;\nint x, y, s;\nint ql, qr;\nstruct node{\n\tint l, r, val, num;\n\tint sum;\n\tint ch;\n}t[10005];\n\ninline int rd()\n{\n\tint s = 0, x = 1;\n\tchar ch = getchar();\n\twhile(ch < '0' or ch > '9') {if(ch == '-') x = -1; ch = getchar();}\n\twhile(ch >= '0' and ch <= '9') s = s * 10 + ch - '0', ch = getchar();\n\treturn x * s;\n}\n\ninline int build(int l, int r)\n{\n\tif(cnt == tot or l > r) return 0;\n\tint u = ++cnt;\n\tt[u].l = l, t[u].r = r;\n\tt[u].val = (n2[u] ? 0 : 1), t[u].num = l + r >> 1;\n\tt[u].ch = build(l, (l + r >> 1) - 1);\n\tt[u].sum = t[t[u].ch].sum * 2 + t[u].val;\n\treturn u;\n}\n\ninline int query(int i, int l, int r)\n{\n\tif(t[i].l >= l and t[i].r <= r) return t[i].sum;\n\tif(l > r) return 0;\n\tint ts = 0;\n\tif(t[i].num >= l and t[i].num <= r) ts = t[i].val;\n\tif(l < t[i].num) ts += query(t[i].ch, l, min(t[i].num - 1, r));\n\tif(r > t[i].num) \n\t{\n\t\tint ll = max((long long)1, l - t[i].num), rr = r - t[i].num;\n\t\tts += query(t[i].ch, ll, rr);\n\t}\n\treturn ts;\n}\n\nsigned main()\n{\n//\tfreopen(\"E:/in49.txt\", \"r\", stdin);\n\ttp = n = rd();\n\tif(!n)\n\t{\n\t\tprintf(\"0\\n\");\n\t\treturn 0;\n\t}\n\twhile(tp > 0) {n2[++tot] = tp % 2, tp /= 2;}\n\ts = x = tot, y = 1;\n\twhile(x > 1) {s = ((x - 1) * 2 + 1) * y + s - x * y, x -= 1, y *= 2;}\n\tql = rd(), qr = rd();\n\tbuild(1, s);\n\tans = qr - ql + 1, ans -= query(1, ql, qr);\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n}\n/*1125899906842624*/\n```\n\n\n------------\n\u611f\u8c22\u9605\u8bfb\u3002\n\n\u8f9b\u82e6\u7ba1\u7406\u5458\u5ba1\u6838\uff0c\u5982\u6709\u95ee\u9898\u70e6\u8bf7\u6307\u51fa\u3002",
        "postTime": 1649517315,
        "uid": 469672,
        "name": "\u4f0d\u53c1\u58f9",
        "ccfLevel": 7,
        "title": "\u3010CF768B\u3011Code For 1 \u9898\u89e3"
    },
    {
        "content": "\u9898\u89e3\u597d\u5c11\u6211\u6765\u4e00\u7bc7\n\n\n\u8fd9\u662f\u4e00\u9053\u5206\u6cbb\u7684\u9898\uff0c\u5bf9\u4e8e\u7ed9\u51fa\u7684\u6570\u5462\uff0c\u5b83\u6240\u80fd\u7ec4\u6210\u7684\u957f\u5ea6\u662f\u4e00\u5b9a\u7684\uff0c\uff08\u4e0a\u4e00\u4f4d\u5df2\u7ecf\u8bf4\u7684\u5f88\u6e05\u695a\u4e86\uff09\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u9884\u5148\u7b97\u51fa\u6765\u540e\uff0c\u5728\u8fd9\u4e2a\u5e8f\u5217\u4e0a\u8fdb\u884c\u5206\u6cbb\uff08\u5206\u6210\u4e09\u90e8\u5206\uff09\u5904\u7406\u3002\u6211\u4eec\u53ea\u9700\u8981\u628a\u4ed6\u7684\u5de6\u53f3\u4e24\u90e8\u5206\u5206\u5f00\u9012\u5f52\u8ba1\u7b97\uff0c\u7136\u540e\u628a\u4e09\u90e8\u5206\u7684\u548c\u52a0\u8d77\u6765\u5c31\u884c\u4e86\n\n\n\uff08\u6211\u7684\u505a\u6cd5\u533a\u522b\u5728\u4e8e\u5e76\u6ca1\u6709\u9884\u5904\u7406\uff0c\u800c\u662f\u76f4\u63a5\u9012\u5f52\u505a\u7684\uff09\n\n```cpp\n#include<iostream>\n#include<cmath>\n#include<cstdio>\nusing namespace std;\nlong long n,ans,l,r,lenght=1,a;\nlong long fz(long long ll ,long long rr,long long n){\n\tif(ll==rr)\n\treturn n;\n\tlong long mid=(ll+rr)>>1;\n\tlong long anss=0;\n\tif(l<mid)\n\tanss+=fz(ll,mid-1,n>>1);\n\tif(r>mid)\n\tanss+=fz(mid+1,rr,n>>1);\n\tif(mid<=r&&mid>=l)\n\tanss+=(n%2);\n\treturn anss;\n}\nint main(){\n\tcin>>n>>l>>r;\n\tlong long k=log2(n)+1;\n\tlong long temp=2;\n\tif(n>1)\n\twhile(k){\n\t\tif(k%2)\n\t\tlenght*=temp;\n\t\ttemp*=temp;\n\t\tk/=2;\n\t}\n\telse\n\tlenght=2;\n\tlenght--;\n\tcout<<fz(1,lenght,n);\n\treturn 0;\n}\n```\n",
        "postTime": 1595247832,
        "uid": 133116,
        "name": "Xhesika_Frost",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF768B \u3010Code For 1\u3011"
    },
    {
        "content": "[$\\Large \\text{CF768B Code For 1}$](https://www.luogu.com.cn/problem/CF768B)\n\n### $\\text{Describe}$\n\n\u5bf9\u4e8e\u4e00\u4e2a\u5e8f\u5217\uff0c\u6bcf\u6b21\u5c06\u6bcf\u4e2a\u6570 $x$ \u5206\u88c2\u6210 $\\lfloor \\dfrac{x}{2} \\rfloor,x \\bmod 2 ,\\lfloor \\dfrac{x}{2} \\rfloor$ \u76f4\u5230\u5e8f\u5217\u4e2d\u6240\u6709\u975e\u8d1f\u6574\u6570 $\\le 1$\uff0c\u6c42 $l$ \u548c $r$ \u4e4b\u95f4\u7684 $1$ \u7684\u4e2a\u6570\uff08$r-l\\le10^5$\uff09\u3002\n\n### $\\text{Solution}$\n\n\u5199\u8fc7\u7ebf\u6bb5\u6811\u4e0a\u4e8c\u5206\u7684\u4eba\u90fd\u77e5\u9053\u600e\u4e48\u505a\u4e86\u5427\u2026\u2026\u4f7f\u7528\u9012\u5f52\u6c42\u89e3\u3002\n\n\u8bbe $f(n,x)$ \u8868\u793a\u7531 $n$ \u8fd9\u4e2a\u6570\u5206\u88c2\u540e\u4ea7\u751f\u7684\u7b2c $x$ \u4e2a\u6570\u662f\u591a\u5c11\u3002\n\n\u8bbe $siz(x)$ \u8868\u793a $x$ \u4f1a\u5206\u88c2\u6210\u591a\u5c11\u4e2a\u6570\uff0c\u5bb9\u6613\u77e5\u9053 $siz(x)=siz(\\lfloor \\dfrac{x}{2} \\rfloor)\\times 2+1$\uff0c\u5e76\u4e14 $x$ \u88ab\u5206\u88c2\u6210\u7684\u7b2c\u4e00\u4e2a\u6570\u548c\u7b2c\u4e09\u4e2a\u6570\u90fd\u4f1a\u88ab\u5206\u6210 $siz(\\lfloor \\dfrac{x}{2} \\rfloor)$ \u4e2a\u6570\u3002\n\n\u8ba8\u8bba $f(n,x)$\u3002\n\n1. \u5982\u679c $x \\le siz(\\lfloor \\dfrac{x}{2} \\rfloor)$ \u5219\u8bc1\u660e\u7b2c $x$ \u4e2a\u6570\u662f\u5728\u7b2c\u4e00\u4e2a $\\lfloor \\dfrac{x}{2} \\rfloor$ \u5206\u88c2\u800c\u6210\u7684\uff0c$f(n,x)=f(\\lfloor \\dfrac{x}{2} \\rfloor,x)$\u3002\n2. \u5982\u679c $x = siz(\\lfloor \\dfrac{x}{2} \\rfloor)+1$ \u5219\u8bc1\u660e\u7b2c $x$ \u4e2a\u5c31\u662f $n \\bmod 2$\uff0c\u56e0\u4e3a\u6b63\u597d\u5728\u5206\u88c2\u7684\u4e09\u4e2a\u6570\u7684\u4e2d\u95f4\u90a3\u4e2a\u6570\uff0c\u800c\u4e14 $\\le 1$ \u3002\n3. \u5982\u679c $x > siz(\\lfloor \\dfrac{x}{2} \\rfloor)+1$ \u5219\u8bc1\u660e\u7b2c $x$ \u4e2a\u6570\u662f\u5728\u7b2c\u4e09\u4e2a $\\lfloor \\dfrac{x}{2} \\rfloor$ \u5206\u88c2\u800c\u6210\u7684\uff0c$x$ \u9700\u8981\u51cf\u53bb\u524d\u9762 $x-siz(\\lfloor \\dfrac{x}{2} \\rfloor)-1$ \u4e2a\u6570\u3002 $f(n,x)=f(\\lfloor \\dfrac{x}{2} \\rfloor,x-siz(\\lfloor \\dfrac{x}{2} \\rfloor)-1)$\u3002\n\n\u7b54\u6848\u5c31\u662f $\\sum \\limits_{i=l}^r f(n,i)$ \u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a $\\texttt{O}(n \\log^2n)$\n\n",
        "postTime": 1628065209,
        "uid": 334727,
        "name": "BreakPlus",
        "ccfLevel": 0,
        "title": "Solution CF768B"
    }
]