[
    {
        "content": "\u6700\u8fd1\u505a\u7684\u4e00\u9053\u5341\u5206\u6709\u8da3\u7684\u9898\u76ee\u3002\n\n\u5b98\u65b9\u9898\u89e3\u662f\u7528\u6700\u5c0f\u751f\u6210\u6811 + \u904d\u5386\u9a8c\u8bc1\u6765\u505a\u7684\uff0c\u4f46\u5b9e\u9645\u4e0a\u5b8c\u5168\u4e0d\u9700\u8981\u8fd9\u4e9b\u77e5\u8bc6\uff0c\u53ea\u9700\u8981\u4e86\u89e3\u6811\u7684\u57fa\u672c\u5b9a\u4e49\u5c31\u53ef\u4ee5 AC\uff0c\u4e14\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2)$\u3002\n\n\u9996\u5148\u521d\u6b65\u5224\u65ad\u77e9\u9635\u662f\u5426\u5408\u6cd5\uff1a\u77e9\u9635\u662f\u5bf9\u79f0\u77e9\u9635\u4e14\u4e3b\u5bf9\u89d2\u7ebf\u4e0a\u7684\u6570\u90fd\u4e3a0\uff0c\u5176\u4f59\u6570\u4e3a\u6b63\u6570\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u56f4\u7ed5\u8282\u70b9 $1$\uff0c\u7528\u77e9\u9635\u7684\u7b2c\u4e00\u884c\u6765\u9010\u6e10\u6784\u9020\u8fd9\u68f5\u6811\u3002\n\n\u89c2\u5bdf\u53d1\u73b0\uff0c\u7b2c\u4e00\u884c\u6700\u5c0f\u7684\u6b63\u6570\u4e00\u5b9a\u662f\u6811\u7684\u4e00\u6761\u8fb9\uff0c\u8bbe $d_{1,v}$ \u4e3a\u8be5\u6700\u5c0f\u503c\u3002\n\n\u540c\u65f6\u6211\u4eec\u7528\u4e00\u4e2a\u6570\u7ec4 $vs$ \u8bb0\u5f55\u627e\u5230\u7684\u5408\u6cd5\u8282\u70b9\uff0c\u5f53\u524d\u6570\u7ec4\u5143\u7d20\u4e3a $\\{1,v\\}$\n\n\u7136\u540e\u89c2\u5bdf\u7b2c\u4e8c\u5c0f\u7684\u6b63\u6570 $d_{1,w}$\uff0c\u7528\u53cd\u8bc1\u6cd5\u6613\u5f97\u8282\u70b9 $w$ \u5fc5\u4e0e $vs$ \u4e2d\u7684\u67d0\u4e2a\u8282\u70b9\u76f8\u90bb\uff0c\u8bb0\u8be5\u8282\u70b9\u4e3a $x$\u3002\n\n\u5bf9\u4e8e $vs$ \u4e2d\u7684\u6240\u6709\u975e $1$ \u8282\u70b9 $x$\uff0c\u5bfb\u627e\u4f7f $d_{1,x} + d_{x,w} = d_{1,w}$ \u6210\u7acb\u7684\u6700\u5c0f $d_{x,w}$\uff08\u82e5\u672a\u627e\u5230\u5219 $x$ \u4e3a $1$\uff09\u3002\n\n\u82e5\u5bf9\u4e8e $vs$ \u4e2d\u7684\u6240\u6709\u8282\u70b9 $v_i$\uff0c\u90fd\u6709 $d_{v_i,x} + d_{x,w} = d_{v_i,w}$ \u6210\u7acb\uff0c\u5219\u53ef\u4ee5\u65ad\u5b9a\u8282\u70b9 $x$ \u662f\u65b0\u7684\u5408\u6cd5\u8282\u70b9\uff0c\u5c06\u5176\u52a0\u5165 $vs$ \u4e2d\u3002\u82e5\u67d0\u4e2a $v_i$ \u4f7f\u7b49\u5f0f\u4e0d\u6210\u7acb\uff0c\u5219\u8be5\u77e9\u9635\u4e0d\u5408\u6cd5\u3002\n\n\u91cd\u590d\u6b64\u8fc7\u7a0b\u76f4\u5230\u80fd\u751f\u6210\u8fd9\u68f5\u6811\uff0c\u5219\u8be5\u77e9\u9635\u5408\u6cd5\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\uff08Golang\uff09\n\n```go\npackage main\n\nimport (\n\t\"bufio\"\n\t. \"fmt\"\n\t\"io\"\n\t\"os\"\n\t\"sort\"\n)\n\nfunc solve(reader io.Reader, writer io.Writer) {\n\tin := bufio.NewScanner(reader)\n\tin.Split(bufio.ScanWords)\n\tout := bufio.NewWriter(writer)\n\tdefer out.Flush()\n\treadInt := func() (res int) {\n\t\tin.Scan()\n\t\tfor _, b := range in.Bytes() {\n\t\t\tres = res*10 + int(b-'0')\n\t\t}\n\t\treturn\n\t}\n\n\tn := readInt()\n\td := make([][]int, n)\n\tfor i := range d {\n\t\td[i] = make([]int, n)\n\t\tfor j := range d[i] {\n\t\t\td[i][j] = readInt()\n\t\t\tif (i == j) == (d[i][j] != 0) {\n\t\t\t\tFprint(out, \"NO\")\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t}\n\tfor i := range d {\n\t\tfor j := i + 1; j < n; j++ {\n\t\t\tif d[i][j] != d[j][i] {\n\t\t\t\tFprint(out, \"NO\")\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t}\n\tif n <= 2 {\n\t\tFprint(out, \"YES\")\n\t\treturn\n\t}\n\n\ttype pair struct{ d, idx int }\n\tps := make([]pair, n)\n\tfor i, dis := range d[0] {\n\t\tps[i] = pair{dis, i}\n\t}\n\tsort.Slice(ps, func(i, j int) bool { return ps[i].d < ps[j].d })\n\tchecked := make([]int, 2, n)\n\tchecked[1] = ps[1].idx\n\tfor i := 2; i < n; i++ {\n\t\tdis, newIdx := ps[i].d, ps[i].idx\n\t\toldIdx := 0\n\t\tminD2 := int(2e9)\n\t\tfor _, idx := range checked[1:] {\n\t\t\td2 := d[idx][newIdx]\n\t\t\tif d[0][idx]+d2 == dis && d2 < minD2 {\n\t\t\t\toldIdx = idx\n\t\t\t\tminD2 = d2\n\t\t\t}\n\t\t}\n\t\tfor _, idx := range checked {\n\t\t\tif d[idx][oldIdx]+d[oldIdx][newIdx] != d[idx][newIdx] {\n\t\t\t\tFprint(out, \"NO\")\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t\tchecked = append(checked, newIdx)\n\t}\n\tFprint(out, \"YES\")\n}\n\nfunc main() {\n\tsolve(os.Stdin, os.Stdout)\n}\n\n```\n\n",
        "postTime": 1571888938,
        "uid": 266651,
        "name": "\u7075\u8336\u5c71\u827e\u5e9c",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF472D \u3010Design Tutorial: Inverse the Problem\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u633a\u597d\u73a9\u7684\u3002\n\n\u5148\u6309\u7167\u9898\u76ee\u5efa\u4e00\u4e2a\u4ee5\u201c\u6811\u4e0a\u4e24\u70b9\u4e4b\u95f4\u8ddd\u79bb\u201d\u4e3a\u8fb9\u6743\u7684\u56fe\uff0c\u7136\u540e\u8dd1\u4e00\u904d\u6700\u5c0f\u751f\u6210\u6811\u3002\n\n\u7531\u4e8e\u8fd9\u5f20\u4ee5\u201c\u6811\u4e0a\u4e24\u70b9\u4e4b\u95f4\u8ddd\u79bb\u201d\u4e3a\u8fb9\u6743\u7684\u56fe\u5bf9\u5e94\u7684\u6811\uff08\u4e0d\u662f\u521a\u521a\u6c42\u7684\u751f\u6210\u6811\uff09\u4e0a\u4e24\u4e2a\u70b9\u4e4b\u95f4\u53ea\u6709\u4e00\u6761\u8def\u5f84\uff0c\u4e8e\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u751f\u6210\u6811\u4e0a\u4efb\u610f\u4e24\u4e2a\u70b9\u770b\u770b\u8fd9\u4e24\u4e2a\u70b9\u5728\u751f\u6210\u6811\u4e0a\u7684\u8ddd\u79bb\u548c\u5b83\u4eec\u4e24\u4e2a\u70b9\u5728\u4ee5\u201c\u6811\u4e0a\u4e24\u70b9\u4e4b\u95f4\u8ddd\u79bb\u201d\u56fe\uff08\u5c31\u662f\u9898\u76ee\u7ed9\u7684\u90a3\u4e2a\u90bb\u63a5\u77e9\u9635\uff09\u4e0a\u9762\u4e4b\u95f4\u7684\u8fb9\u6743\u4e00\u4e0d\u4e00\u6837\u3002\u5982\u679c\u4e0d\u4e00\u6837\u7684\u8bdd\u5c31\u4e0d\u80fd\u5bf9\u5e94\u4e00\u68f5\u6811\u3002\n\n\u53ef\u4ee5\u66b4\u529b\u6216\u8005 `LCA` \u505a\u3002\n\n\u6ce8\u610f\u7279\u5224\uff01\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define rep(i,a,b) for(int i=(a);i<=(b);++i)\n#define per(i,a,b) for(int i=(a);i>=(b);--i)\nusing namespace std;\nconst int N=2000005;\nint n,m;\nint mp[2005][2005];\nstruct edge{\n\tint u,v,w;\n}e[N];\nint fa[2005];\nint dis[2005][2005];\nint find(int x) {return fa[x]==x?fa[x]:fa[x]=find(fa[x]);}\nbool cmp(edge a,edge b) {\n\treturn a.w<b.w;\n}\nint target[4005],pre[4005],last[2005],w[4005],tot=0;\nvoid add(int u,int v,int ww) {\n\ttarget[++tot]=v;\n\tpre[tot]=last[u];\n\tlast[u]=tot;\n\tw[tot]=ww;\n}\nbool used[N];\nvoid dfs(int u,int fa,int fir) {\n\tfor(int ptr=last[u];ptr;ptr=pre[ptr]) {\n\t\tif(target[ptr]!=fa) {\n\t\t\tdis[fir][target[ptr]]=dis[fir][u]+w[ptr];\n\t\t\tdfs(target[ptr],u,fir);\n\t\t}\n\t}\n}\nint main() {\n\tscanf(\"%d\",&n);\n\tbool flg=1;\n\trep(i,1,n) rep(j,1,n) {\n\t\tint w;\n\t\tscanf(\"%d\",&w);\n\t\tif(w!=0) flg=0;\n\t\tif(i<j) e[++m].u=i,e[m].v=j,e[m].w=w,mp[i][j]=mp[j][i]=w;\n\t\telse if(i==j){\n\t\t\tif(w!=0) {puts(\"NO\");return 0;}\n\t\t}\n\t\telse {\n\t\t\tif(mp[i][j]!=w) {puts(\"NO\");return 0;}\n\t\t}\n\t}\n\tif(flg&&n!=1) {puts(\"NO\");return 0;}\n\trep(i,1,n) fa[i]=i;\n\tsort(e+1,e+m+1,cmp);\n\trep(i,1,m) {\n\t\tint u=find(e[i].u),v=find(e[i].v);\n\t\tif(u!=v) {\n\t\t\tadd(e[i].u,e[i].v,e[i].w);\n\t\t\tadd(e[i].v,e[i].u,e[i].w);\n\t\t\tfa[u]=v;\n\t\t\tused[i]=1;\n\t\t}\n\t}\n\trep(i,1,n) dfs(i,0,i);\n\trep(i,1,m) if(!used[i]) {\n\t\tint u=e[i].u,v=e[i].v;\n\t\tif(dis[u][v]!=e[i].w) {puts(\"NO\");return 0;}\n\t}\n\tputs(\"YES\");\n\treturn 0;\n}\n```",
        "postTime": 1601300607,
        "uid": 76156,
        "name": "henrytb",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF472D \u3010Design Tutorial: Inverse the Problem\u3011"
    },
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n\u8fd8\u7b97\u662f\u6bd4\u8f83\u6e05\u695a\uff0c\u8d34\u4e2a\u9898\u9762\u5427\u3002\n\n[\u70b9\u8fd9\u91cc](https://www.luogu.com.cn/problem/CF472D)\n\n\n## \u9898\u76ee\u5206\u6790\n\n\u4e00\u9053\u597d\u9898\u3002\n\n\u4e00\u773c\u770b\u4e0a\u53bb\uff0c\u5c31\u662f\u4e2a LCA\uff0c\u800c\u672c\u849f\u84bb\u4e0d\u592a\u4f1a LCA\uff0c\u53ea\u597d\u7528\u4e86 prim \u7b97\u6cd5\u3002\n\n\u9996\u5148\u8bfb\u5165\uff0c\u8fb9\u8bfb\u5165\u8fb9\u5224\u65ad\u662f\u5426\u6ee1\u8db3\u8981\u6c42\u3002\u5982\u679c $i, j$ \u4e0d\u76f8\u540c\u4e14 $a_{i,j}$ \u662f $0$\uff0c\u8bf4\u660e\u65e0\u6548\uff0c\u76f4\u63a5\u8f93\u51fa NO\uff0c\u5f53\u7136\uff0c\u5982\u679c $i, j$ \u76f8\u540c\u4e14 $a_{i,j}$ \u4e0d\u662f $0$\uff0c\u8bf4\u660e\u4e5f\u65e0\u6548\uff0c\u76f4\u63a5\u8f93\u51fa NO\uff0c\u540e\u9762\u7528 prim \u8fdb\u884c\u5904\u7406\u5373\u53ef\u3002\n\n\u4ee3\u7801\u4e2d\u7684 $e_i$ \u5b58\u90bb\u63a5\u8868\uff0c$dis_i$ \u5b58\u4ece\u8d77\u70b9\u5230 $i$ \u7684\u8ddd\u79bb\uff0c$vis_i$ \u5b58\u662f\u5426\u7ecf\u8fc7\u4e86\u70b9 $i$\uff0c$a_i$ \u662f\u90bb\u63a5\u8868\u3002\n\n\u5f53\u7136\u4e0d\u80fd\u76f4\u63a5\u5957\u6a21\u677f\uff0c\u800c\u9700\u8981\u5728\u6a21\u677f\u4e0a\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u5177\u4f53\u89c1\u4ee3\u7801\u5427\u3002\n\n------------\n\n\u4ee3\u7801\u6bd4\u8f83\u957f\uff0c\u8bf7\u4e0d\u8981\u4ecb\u610f\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nstruct edge\n{\n\tint nxt, to, value;\n}e[8005];\nint h[4005], dis[4005], last[4005];\nbool vis[4005];\nint a[4005][4005];\nint n, m, cnt = 0, ans = 0;\ninline void add(int a, int b, int c)\n{\n\te[++cnt].to = b;\n\te[cnt].value = c;\n\te[cnt].nxt = h[a];\n\th[a] = cnt;\n}\ninline void prim()\n{\n\tfor(int i = 0; i <= n; i++) dis[i] = 2147483647;\n\tdis[1] = 0;\n\tint tot = 0;\n\twhile(1)\n\t{\n\t\tint u = 0;\n\t\tfor(int i = 1; i <= n; i++)\n\t\t\tif(!vis[i] && dis[i] < dis[u])\n\t\t\t\tu = i;\n\t\tif(u == 0) break;\n\t\tvis[u] = 1;\n\t\tif(u != 1)\n\t\t{\n\t\t\tadd(u, last[u], dis[u]);\n\t\t\tadd(last[u], u, dis[u]);\n\t\t}\n\t\tfor(int i = 1; i <= n; i++)\n\t\t{\n\t\t\tif(vis[i]) continue;\n\t\t\tif(dis[i] > a[u][i])\n\t\t\t{\n\t\t\t\tdis[i] = a[u][i];\n\t\t\t\tlast[i] = u;\n\t\t\t}\n\t\t}\n\t}\n}\ninline void dfs(int u, int f)\n{\n\tfor(int i = h[u]; i; i = e[i].nxt)\n\t{\n\t\tint v = e[i].to;\n\t\tif(v == f) continue;\n\t\tdis[v] = dis[u] + e[i].value;\n\t\tdfs(v, u);\n\t}\n}\ninline int read()\n{\n\tint x = 0, f = 1;\n\tchar ch = getchar();\n\twhile(ch < '0' || ch > '9')\n\t{\n\t\tif(ch == '-') f = -1;\n\t\tch = getchar();\n\t}\n\twhile(ch >= '0' && ch <= '9')\n\t{\n\t\tx = (x << 1) + (x << 3) + (ch ^ 48);\n\t\tch = getchar();\n\t}\n\treturn x * f;\n}\nint main()\n{\n\tn = read();\n\tfor(int i = 1; i <= n; i++)\n\t\tfor(int j = 1; j <= n; j++)\n\t\t{\n\t\t\ta[i][j] = read();\n\t\t\tif(i != j && a[i][j] == 0)\n\t\t\t{\n\t\t\t\tprintf(\"NO\");\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(i == j && a[i][j] != 0)\n\t\t\t{\n\t\t\t\tprintf(\"NO\");\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\tprim();\n\tfor(int i = 1; i <= n; i++)\n\t{\n\t\tdis[i] = 0;\n\t\tdfs(i, 0);\n\t\tfor(int j = 1; j <= n; j++)\n\t\t\tif(dis[j] != a[i][j])\n\t\t\t{\n\t\t\t\tprintf(\"NO\");\n\t\t\t\treturn 0;\n\t\t\t}\n\t}\n\tprintf(\"YES\");\n\treturn 0;\n}\n```",
        "postTime": 1673498362,
        "uid": 494699,
        "name": "Wicked_Game",
        "ccfLevel": 4,
        "title": "CF472D \u7684\u9898\u89e3"
    },
    {
        "content": "## \u539f\u9898\n\n[CF472D Design Tutorial: Inverse the Problem](https://www.luogu.com.cn/problem/CF472D)\n\n---\n\n## \u601d\u8def\u6982\u8ff0\n\n### \u9898\u610f\u5206\u6790\n\n\u7ed9\u5b9a\u4e00\u4e2a $n$ \u70b9\u65e0\u5411\u56fe\u7684\u4e24\u4e24\u70b9\u5bf9\u4e4b\u95f4\u8ddd\u79bb\uff0c\u5373\u7ecf\u8fc7\u6700\u77ed\u8def\u7b97\u6cd5\u540e\u7684\u90bb\u63a5\u77e9\u9635\uff0c\u8981\u6c42\u5224\u65ad\u539f\u56fe\u662f\u5426\u4e3a\u4e00\u4e2a\u6811\u3002\n\n### \u601d\u8def\u7b80\u8ff0\n\n\u9996\u5148\u56de\u5230\u6700\u77ed\u8def\u7b97\u6cd5\u6700\u4e3a\u5173\u952e\u7684\u677e\u5f1b\u64cd\u4f5c\uff0c\u4ee5 $n$ \u70b9\u56fe\u4e2d\u7684 Floyd-Warshall \u7b97\u6cd5\u4e3a\u4f8b\uff0c\u5176\u6838\u5fc3\u90e8\u5206\u7684\u64cd\u4f5c\u53ef\u4ee5\u8868\u8fbe\u4e3a\uff1a\n\n$$dis_{i,j}=\\min\\{dis_{i,k}+dis_{k,j}\\},1\u2264k\u2264n\\text{\u4e14}k\u2260i,j$$\n\n\u7531\u6b64\u53ef\u77e5\uff0c\u5bf9\u4e8e\u6700\u77ed\u8def\u7b97\u6cd5\u540e\u7684\u4e00\u4e2a\u90bb\u63a5\u77e9\u9635\uff0c\u5176\u4e2d\u4efb\u610f\u6ca1\u6709\u8fde\u8fb9\u7684\u4e24\u70b9\u7684\u8ddd\u79bb\u5fc5\u7136\u662f\u901a\u8fc7\u501f\u52a9\u5176\u4ed6\u70b9\u8fdb\u884c\u677e\u5f1b\u64cd\u4f5c\u5f97\u5230\u3002\n\n\u53c8\u6839\u636e\u6811\u7684\u7279\u6b8a\u6027\u8d28\u53ef\u77e5\uff0c\u82e5\u539f\u56fe\u4e3a\u6811\u5f62\u7ed3\u6784\uff0c\u5219\u5176\u4e2d\u5b58\u5728\u8fde\u8fb9\u7684\u4e24\u70b9\u5728\u6700\u77ed\u8def\u64cd\u4f5c\u4e2d\u4e0d\u4f1a\u88ab\u677e\u5f1b\uff0c\u5373\u5bf9\u4e8e\u6700\u540e\u7684\u90bb\u63a5\u77e9\u9635\u4e2d\u7684\u6bcf\u4e2a\u70b9\u800c\u8a00\uff0c\u4e0e\u5176\u8ddd\u79bb\u6700\u5c0f\u7684\u70b9\u5fc5\u7136\u662f\u4e0e\u5176\u6709\u8fde\u8fb9\u70b9\u3002\u56e0\u6b64\uff0c\u672c\u9898\u7684\u7a81\u7834\u53e3\u5373\u4e3a\u90bb\u63a5\u77e9\u9635\u4e2d\u8ddd\u79bb\u6700\u5c0f\u7684\u70b9\u5bf9\u3002\n\n\u7531\u4e8e\u662f\u8ba8\u8bba\u8ddd\u79bb\u6700\u5c0f\u7684\u70b9\u5bf9\uff0c\u5219\u53ef\u4ee5\u5f15\u5165\u6700\u5c0f\u751f\u6210\u6811\uff08\u6b64\u5904\u7b14\u8005\u9009\u62e9\u7528\u6bd4\u8f83\u987a\u624b\u7684 Kruskal\uff09\u3002\u628a\u90bb\u63a5\u77e9\u9635\u4e2d\u6240\u6709\u70b9\u7684\u8ddd\u79bb\u90fd\u770b\u4f5c\u8fb9\uff0c\u5373\u5f97\u5230\u4e00\u4e2a\u5b8c\u5168\u56fe\u3002\u5f00\u4e00\u4e2a\u7a7a\u56fe\u6765\u4fdd\u5b58\u52a0\u5165\u7684\u8fb9\uff0c\u7528\u4e8e\u590d\u539f\u539f\u56fe\uff08\u4e0b\u6587\u79f0\u5176\u4e3a\u590d\u539f\u56fe\uff09\u3002\u7136\u540e\u628a\u56fe\u4e2d\u6240\u6709\u8fb9\u5347\u5e8f\u6392\u5e8f\u540e\uff0c\u6bcf\u6b21\u9009\u53d6\u6700\u5c0f\u7684\u8fb9\u5224\u5b9a\u4e24\u7aef\u70b9\u662f\u5426\u8054\u901a\uff0c\u82e5\u8054\u901a\u56fe\uff0c\u5c31\u5728\u590d\u539f\u56fe\u4e2d\u52a0\u4e0a\u8be5\u8fb9\uff0c\u7136\u540e\u91cd\u590d\u4ee5\u4e0a\u64cd\u4f5c\uff0c\u76f4\u5230\u6574\u4e2a\u56fe\u5b8c\u5168\u8fde\u901a\u3002\n\n\u6700\u540e\u901a\u8fc7\u6700\u77ed\u8def\u7b97\u6cd5\u5728\u590d\u539f\u56fe\u4e2d\u9a8c\u8bc1\u6811\u5f62\u7ed3\u6784\u7684\u5b58\u5728\u6027\u3002\u82e5\u6700\u77ed\u8def\u5f97\u5230\u7684\u7ed3\u679c\u4e0e\u7ed9\u51fa\u7684\u90bb\u63a5\u77e9\u9635\u4e0d\u7b26\uff0c\u5219\u8bf4\u660e\u539f\u56fe\u5fc5\u7136\u5b58\u5728\u73af\uff0c\u4e0d\u6ee1\u8db3\u6811\u5f62\u7ed3\u6784\u7684\u6761\u4ef6\u3002\n\n---\n\n## \u7b97\u6cd5\u5b9e\u73b0\n\n### \u5173\u4e8e\u90bb\u63a5\u77e9\u9635\u8bfb\u5165\n\n\u7531\u6837\u4f8b\u53ef\u89c1\uff0c\u672c\u9898\u8bfb\u5165\u7684\u90bb\u63a5\u77e9\u9635\u5b58\u5728\u5341\u4e07\u751a\u81f3\u4e5d\u4e07\u6761\u5947\u8469\u6570\u636e\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\u81ea\u5df1\u5230\u81ea\u5df1\u8ddd\u79bb\u4e3a $1$ \u7684\u70b9\u548c\u6743\u503c\u4e3a $0$ \u7684\u8fb9\u3002\n\n\u56e0\u6b64\uff0c\u5728\u8bfb\u5165\u65f6\u5c31\u8981\u6ce8\u610f\u5904\u7406\u8fd9\u4e9b\u6570\u636e\u5bf9\u7b97\u6cd5\u7684\u5e72\u6270\u3002\n\n### \u5173\u4e8e\u9a8c\u8bc1\n\n\u6700\u77ed\u8def\u53ef\u4ee5\u8dd1\u52a0\u5806\u4f18\u5316\u7684 Dijkstra\u3002\n\n\u4f46\u662f\u8003\u8651\u5230\u672c\u9898\u76f8\u5f53\u4e00\u90e8\u5206\u6570\u636e\u662f\u53ef\u4ee5\u5f62\u6210\u6811\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u8003\u8651\u76f4\u63a5 DFS\uff0c\u5728\u6811\u4e0a\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u6bd4\u8dd1\u5176\u4ed6\u6700\u77ed\u8def\u7b97\u6cd5\u66f4\u5feb\uff0c\u800c\u4e14\u5b9e\u73b0\u66f4\u7b80\u5355\u3002\n\n---\n\n## AC code\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<algorithm>\n#include<cmath>\n#include<cstring>\n#include<queue>\n#include<set>\n#include<ctime>\n#define RI register int\n#define RB register bool\nusing namespace std;\nconst int maxn=2e3+10;\ntypedef struct\n{\n\tint pre,dep;\n}node;\ntypedef struct\n{\n\tint u,v,w;\n}side;\ntypedef struct\n{\n\tint u,w,nex;\n}graph;\nnode e[maxn];\nside s[maxn*maxn];\ngraph g[maxn*maxn];\nint n,m,cnt,rec;\nint fir[maxn],gph[maxn][maxn];\nbool jdg=1;\nbool v[maxn];\ninline bool cmp(side x,side y);\ninline void init(int lim);\ninline int find(int x);\ninline void merge(int x,int y);\ninline void add(int x,int y,int w);\ninline void dfs(int st,int x,int sp);\nint main()\n{\n\tios::sync_with_stdio(0);cin.tie(0);cout.tie(0);\n\tcin >> n;init(n);\n\tfor(RI i=1,x;i<=n;++i)\n\t\tfor(RI j=1;j<=n;++j)\n\t\t{\n\t\t\tcin >> x;gph[i][j]=x;\n\t\t\tif(i!=j && x) s[++m]=(side){i,j,x};\n\t\t}\n\tsort(s+1,s+m+1,cmp);\n\tfor(RI i=1;i<=m;++i)\n\t\tif(find(s[i].u)!=find(s[i].v))\n\t\t{\n\t\t\tadd(s[i].u,s[i].v,s[i].w);\n\t\t\tmerge(s[i].u,s[i].v);\n\t\t}\n\tfor(RI i=1;i<=n;++i)\n\t{\n\t\tmemset(v,0,sizeof(v));rec=0;\n\t\tdfs(i,i,0);\n\t}\t\n\tif(jdg && rec==n) puts(\"YES\");\n\telse puts(\"NO\");\n\treturn 0;\n}\ninline bool cmp(side x,side y)\n{\n\treturn x.w<y.w;\n}\ninline void init(int lim)\n{\n\tfor(RI i=1;i<=lim;++i) e[i]=(node){i,1};\n\treturn;\n}\ninline int find(int x)\n{\n\treturn (e[x].pre==x)?x:(e[x].pre=find(e[x].pre));\n}\ninline void merge(int x,int y)\n{\n\tRI fx=find(x),fy=find(y);\n\tif(e[fx].dep<=e[fy].dep) e[fx].pre=fy;\n\telse e[fy].pre=fx;\n\tif(e[fx].dep==e[fy].dep && fx!=fy) ++e[fy].dep;\n\treturn;\n}\ninline void dfs(int st,int x,int sp)\n{\n\tif(!v[x])\n\t{\n\t\tv[x]=1;++rec;\n\t\tif(sp!=gph[st][x]) jdg=0;\n\t\tfor(RI i=fir[x];i;i=g[i].nex)\n\t\t\tdfs(st,g[i].u,sp+g[i].w);\t\n\t}\n\treturn;\n}\ninline void add(int x,int y,int w)\n{\n\tg[++cnt]=(graph){y,w,fir[x]};fir[x]=cnt;\n\tg[++cnt]=(graph){x,w,fir[y]};fir[y]=cnt;\n\treturn;\n}\n\n```",
        "postTime": 1665057411,
        "uid": 359751,
        "name": "Exiler",
        "ccfLevel": 6,
        "title": "CF472D\u9898\u89e3"
    },
    {
        "content": "## Solution\n\n\u9898\u89e3\u80cc\u666f : \u671f\u4e2d\u8003\u5b8c\u4e86 , \u671f\u4e2d\u8003\u5b8c\u4e86 .\n\n\u9898\u76ee\u7ed9\u4e86\u4e00\u4e2a\u7c7b\u4f3c\u90bb\u63a5\u77e9\u9635\u7684\u4e1c\u897f , \u90a3\u4e48\u53ef\u4ee5\u5efa\u56fe ( \u5f53\u7136\u6ca1\u5fc5\u8981\u771f\u5c31\u641e\u51fa\u6765 ) .\n\n\u8003\u8651\u4ece\u5c0f\u5f80\u5927\u679a\u4e3e\u8fb9 . \u65b0\u52a0\u5165\u4e00\u6761\u8fb9\u7684\u65f6\u5019 , \u5982\u679c\u8fd9\u4e24\u4e2a\u70b9\u5df2\u7ecf\u8054\u901a , \u8fd9\u65f6\u4e0d\u80fd\u52a0 , \u56e0\u4e3a\u8fd9\u6837\u5c31\u4f1a\u51fa\u73b0\u73af , \u4e0d\u662f\u6811\u4e86 ; \u5982\u679c\u672a\u8054\u901a , **\u90a3\u4e48\u8fd9\u6761\u8fb9\u4e00\u5b9a\u8981\u52a0** , \u4e0d\u7136\u80af\u5b9a\u8981\u8d70\u8fb9\u6743\u6bd4\u4ed6\u5927\u7684\u8fb9 , \u4f46\u53c8\u4e0d\u7ed9\u641e\u8d1f\u7684\u8fb9\u6743 , \u90a3\u4e0d\u5c31\u5bc4\u4e86\u5417 .\n\n\u8fd9\u4e0d\u5c31\u662f $\\text{Kruscal}$ \u7684\u8fc7\u7a0b\u5417  ? \n\n\u6240\u6c42\u7684\u6811\u4e00\u5b9a\u5f97\u662f\u8fd9\u4e2a\u56fe\u7684 MST \u6b38 ! \u90a3\u4e48\u628a MST \u8dd1\u51fa\u6765 .\n\n\u8dd1\u51fa MST \u4e4b\u540e , \u4f9d\u6b21\u68c0\u9a8c\u4e24\u4e24\u95f4\u7684\u8ddd\u79bb\u662f\u5426\u5408\u6cd5 .\n\n\u590d\u6742\u5ea6 : $\\text{O(n} ^ \\text{2} \\text{log n})$ . \u80fd\u8fc7 .\n\n\u4f3c\u4e4e CF \u7684\u722c\u866b\u6302\u4e86 ?\n\n[code](https://codeforces.com/contest/472/submission/156166703) .",
        "postTime": 1651907370,
        "uid": 120947,
        "name": "Purslane",
        "ccfLevel": 7,
        "title": "CF472D"
    }
]