[
    {
        "content": "\u849f\u84bb\u7b2c\u4e8c\u6b21\u53d1\u9898\u89e3 \u5982\u679c\u6709\u95ee\u9898\u53ef\u4ee5\u79c1\u4fe1\u6211 Yosoro~  \n~~\u4e4b\u524d\u4e00\u4e2a\u5927\u4f6c\u7684\u9898\u89e3\u4f3c\u4e4e\u51fa\u4e86\u95ee\u9898\uff0c\u4f1aT\u6389\u3002\u3002\u3002\u5e76\u4e14\u4e00\u4e2a\u5730\u65b9\u4f3c\u4e4e\u4e5f\u6253\u9519\u4e86~~  \n###### ~~\u8bdd\u8bf4\u8fd9\u9898\u6839\u672c\u6ca1\u6709\u84dd\u9898\u5427~~\n\n------------\n# \u9898\u76ee\u5206\u6790\n\u4e00\u9053\u633a\u6c34\u7684\u6a21\u62df\u9898\uff0c\u4f3c\u4e4e\u7528\u5230\u4e00\u70b9\u8d2a\u5fc3\u7684\u601d\u60f3\u3002  \n\u7528getfather\u5224\u73af\u5927\u5bb6\u5e94\u8be5\u90fd\u4f1a\u5427\uff0c  \n\u6ce8\u610f\u4e00\u4e0b\u5f00\u59cb\u65f6\u5019\u7684\u521d\u59cb\u6761\u4ef6\u5224\u5b9a\uff0c\u8fd9\u9898\u8fd8\u662f\u633a\u597d\u505a\u7684\u3002  \n\u89e3\u91ca\u4ec0\u4e48\u7684\u90fd\u5728\u6ce8\u91ca\u91cc\uff0c\u76f4\u63a5\u8d34\u4ee3\u7801\u5427\u3002\n# \u6e29\u99a8\u63d0\u793a\nnum=0;  \na[num++]=1;  \n\u8fd0\u884c\u7684\u7ed3\u679c\u662fa[0]=1\uff0c\u7136\u540enum\u518d+1\u3002  \n\u7ec6\u8282\u95ee\u9898\u4e00\u5b9a\u8981\u6ce8\u610f\uff01\n# ~~\u90aa\u6559~~ \u4ee3\u7801\n```cpp\n//\u30e9\u30d6\u30e9\u30a4\u30d6\uff01\u30b5\u30f3\u30b7\u30e3\u30a4\u30f3\uff01 //\u63d0\u4ea4\u524d\u5148\u7948\u7977\u4e00\u4e0b\n//CF9E\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m;\nint fa[55],e[55][55];//fa\u7528\u4e8e\u5224\u65ad\u73af\uff0ce\u8868\u793a\u6709\u6ca1\u6709\u8fb9 \nint deg[55];//\u8868\u793a\u5ea6\u6570 \npair<int,int> ans[55];//\u7528ans\u8868\u793a\u8fde\u8d77\u6765\u7684\u8fb9\uff0cpair\u50a8\u5b58\u66f4\u65b9\u4fbf\nint findfather(int x){//\u627e\u7238\u7238\uff08\u96fe\uff09\n\treturn fa[x]==x?x:fa[x]=findfather(fa[x]);\n}\nint main(){\n\tios::sync_with_stdio(false);//\u4f18\u5316\u52a0\u901f \n\tcin>>n>>m;\n\tif(n<m){\n\t\tcout<<\"NO\"<<endl;//\u5982\u679cm\u6bd4n\u5927\u663e\u7136\u4e0d\u884c \n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=n;i++) fa[i]=i;//\u66f4\u65b0\u7236\u8282\u70b9\n\t\n\tfor(int i=1;i<=m;i++){\n\t\tint a,b;\n\t\tcin>>a>>b;\n\t\te[a][b]=e[b][a]=1;\n\t\tdeg[a]++;\n\t\tdeg[b]++;\n\t\tif(deg[a]>2||deg[b]>2){\n\t\t\tcout<<\"NO\"<<endl;//\u8f93\u5165\u7684\u65f6\u5019\u5c31\u5224\u65ad \n            \t\t\t\t //\u5982\u679c\u5ea6\u8d85\u8fc7\u4e862\uff0c\u80af\u5b9a\u4e0d\u80fd\u6210\u4e00\u4e2a\u5927\u73af\n\t\t\treturn 0;\n\t\t}\n\t\tfa[findfather(a)]=fa[findfather(b)];\n\t}\n\tint num=0;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=i;j<=n;j++){\n\t\t\tif(findfather(i)!=findfather(j)&&deg[i]<2&&deg[j]<2){\n\t\t\t\tnum++;//\u6ce8\u610fnum\n\t\t\t\tans[num]=make_pair(i,j);\n\t\t\t\tdeg[i]++;\n\t\t\t\tdeg[j]++;\n\t\t\t\tfa[findfather(i)]=findfather(j);\n\t\t\t}\n\t\t} \n\t}\n\tif(m+num==n-1){//\u6700\u540e\u4e00\u4e2a\u70b9\u53ef\u80fd\u6ca1\u6709\u548c\u7b2c\u4e00\u4e2a\u70b9\u8fde\u8d77\u6765 \n\t\tnum++;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\twhile(deg[i]<2) { //\u8fd9\u91cc\u8981\u5199while \u5982\u679c\u53ea\u6709\u4fe9\u4e2a\u70b9 \u4f1a\u88abhack\u6389 \n\t\t\t\tdeg[i]++;\n\t\t\t\tif(!ans[num].first) ans[num].first=i;\n\t\t\t\telse ans[num].second=i;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tif(findfather(i)!=findfather(1)){\n\t\t\tcout<<\"NO\"<<endl;\n\t\t\treturn 0;\n\t\t}\n\t} \n\tcout<<\"YES\"<<endl<<num<<endl;\n\tfor(int i=1;i<=num;i++){\n\t\tcout<<ans[i].first<<\" \"<<ans[i].second<<endl;\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1562165344,
        "uid": 145596,
        "name": "AquaRio",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF9E \u3010Interesting Graph and Apples\u3011"
    },
    {
        "content": "#### \u9898\u76ee\u7b80\u8ff0\n\n\n------------\n\u7ed9\u4e00\u4e2a\u5b58\u5728 $n$ \u4e2a\u70b9\u548c $m$ \u6761\u8fb9\u7684\u65e0\u5411\u56fe\uff0c\u95ee\u80fd\u4e0d\u80fd\u518d\u6dfb\u52a0\u51e0\u6761\u8fb9\u4f7f\u5f97\u6574\u4e2a\u56fe\u521a\u597d\u5f62\u6210\u4e00\u4e2a\u73af\u3002\n\n#### \u9898\u76ee\u5206\u6790\n\n\n------------\n\u672c\u9898\u552f\u4e00\u7684\u96be\u70b9\u5728\u4e8e\u5982\u4f55\u5224\u65ad\u6b64\u56fe\u662f\u5426\u662f\u4e00\u4e2a\u73af\u3002\n\n\u8003\u8651\u4f7f\u7528\u5e76\u67e5\u96c6\u7ef4\u62a4\u6bcf\u4e00\u4e2a\u70b9\u7684\u7236\u8282\u70b9\uff0c\u53ea\u8981\u8be5\u56fe\u4e0a\u6bcf\u4e00\u4e2a\u70b9\u7684\u7236\u8282\u70b9\u90fd\u662f\u4e00\u4e2a\u70b9\u5c31\u53ef\u4ee5\u5224\u5b9a\u6b64\u56fe\u4e3a\u4e00\u4e2a\u73af\u3002\n\n\u540c\u65f6\u8fd8\u9700\u8981\u8003\u8651\u8f93\u51fa ```NO``` \u7684\u60c5\u51b5\n\n- \u6709\u4e00\u4e2a\u70b9\u7684\u5ea6\u5927\u4e8e $2$\u3002\n- \u4e0d\u80fd\u5f62\u6210\u4e00\u4e2a\u73af\n\n\u89e3\u51b3\u4e86\u4ee5\u4e0a\u95ee\u9898\uff0c\u672c\u9898\u5c31\u8fce\u5203\u800c\u89e3\u4e86\u3002\n\n#### \u4ee3\u7801\u5b9e\u73b0\n\n\n------------\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#define int long long \nusing namespace std;\nconst int N = 55;\ninline int read(){\n    int x=0,f=1;\n    char ch=getchar();\n    for(;!isdigit(ch);ch=getchar()) if(ch=='-') f=-1;\n    for(; isdigit(ch);ch=getchar()) x=(x<<3)+(x<<1)+(ch^48);\n    return x*f;\n}\nint n,m;\nint fa[N],edge[N][N];\nint du[N];\npair<int,int> ans[N];\nint find(int x){\n\tif(fa[x] == x)\n\t\treturn x;\n\telse \n\t\treturn fa[x] = find(fa[x]);\n}\nsigned main(){\n\tn = read() , m = read();\n\tif(n < m){\n\t\tprintf(\"NO\\n\");\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tfa[i] = i;\n\t}\n\tfor(int i=1;i<=m;i++){\n\t\tint a = read() , b = read();\n\t\tedge[a][b] = 1 , edge[b][a] = 1;\n\t\tdu[a]++ , du[b]++;\n\t\tif(du[a] > 2 || du[b] > 2){\n\t\t\tprintf(\"NO\\n\");\n\t\t\treturn 0;\n\t\t}\n\t\tfa[find(a)] = fa[find(b)];\n\t}\n\tint num = 0;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=i;j<=n;j++){\n\t\t\tif(find(i) != find(j) && du[i] < 2 && du[j] < 2){\n\t\t\t\tans[++num] = make_pair(i,j);\n\t\t\t\tdu[i]++;\n\t\t\t\tdu[j]++;\n\t\t\t\tfa[find(i)] = find(j);\n\t\t\t}\n\t\t}\n\t}\n\tif(m + num == n-1){\n\t\tnum++;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\twhile(du[i] < 2){\n\t\t\t\tdu[i]++;\n\t\t\t\tif(!ans[num].first)\n\t\t\t\t\tans[num].first = i;\n\t\t\t\telse ans[num].second = i;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tif(find(i) != find(1)){\n\t\t\tprintf(\"NO\\n\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\tprintf(\"YES\\n%lld\\n\",num);\n\tfor(int i=1;i<=num;i++){\n\t\tprintf(\"%lld %lld\\n\",ans[i].first,ans[i].second);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1645864355,
        "uid": 335615,
        "name": "0xFF",
        "ccfLevel": 0,
        "title": "CF9E"
    },
    {
        "content": "# CF9E Interesting Graph and Apples\n\n[\u8bf4\u70b9\u65e0\u5173\u7684\u8bdd](https://www.luogu.com.cn/paste/cn2vws3y)\n\n## \u9898\u76ee\u5927\u610f\n\n\u7ed9 $n$ \u4e2a\u70b9\uff0c$m$ \u6761\u8fb9\u3002\u95ee\u662f\u5426\u5b58\u5728\u4e00\u79cd\u65b9\u6848\u4f7f\u5f97\u52a0\u51e0\u6761\u8fb9\u80fd\u6784\u6210\u4ec5\u6709 $n$ \u4e2a\u70b9 $n$ \u6761\u8fb9\u7684\u5355\u4e2a\u7b80\u5355\u73af\u3002\u5982\u679c\u53ef\u4ee5\uff0c\u8f93\u51fa\u5b57\u5178\u5e8f\u6700\u5c0f\u7684\u65b9\u6848\u3002\n\n$n\\le50,m\\le2500$\n\n## \u505a\u6cd5\n\n\u8003\u8651\u4ec0\u4e48\u6837\u7684\u60c5\u51b5\u662f\u53ef\u80fd\u7684\u3002\n\n\u4e0d\u96be\u53d1\u73b0\u53ef\u80fd\u7684\u60c5\u51b5\u4e00\u5b9a\u662f\u82e5\u5e72\u94fe\u6216\u8005\u662f\u5355\u4e2a\u7684\u70b9\uff0c\u6211\u4eec\u53ea\u9700\u8981\u628a\u4ed6\u4eec\u987a\u6b21\u8fde\u63a5\u8d77\u6765\u5373\u53ef\u3002\n\n\u5bf9\u4e8e\u5b58\u5728\u8bb8\u591a\u70b9\u540c\u65f6\u5b58\u5728\uff0c\u4e0d\u5141\u8bb8\u51fa\u73b0\u81ea\u73af\u3002\n\n\u5bf9\u4e8e\u4e00\u4e2a\u8fde\u4e09\u6761\u53ca\u4ee5\u4e0a\u7684\u201c\u83ca\u82b1\u70b9\u201d\uff0c\u4e00\u5b9a\u662f\u4e0d\u53ef\u80fd\u7684\u3002\n\n\u539f\u56e0\u5c31\u5728\u4e8e\u5728\u4e00\u4e2a\u4ec5\u5b58\u5728 $n$ \u4e2a\u70b9 $n$ \u6761\u8fb9\u7684\u5355\u4e2a\u7b80\u5355\u73af\u4e0a\u6bcf\u4e2a\u70b9\u5ea6\u6570\u4e00\u5b9a\u90fd\u662f $2$\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u9996\u5148\u628a\u6240\u6709\u94fe\u90fd\u5408\u8d77\u6765\uff0c\u4e4b\u540e\u53ea\u53bb\u8003\u8651\u94fe\u9996\u548c\u94fe\u5c3e\u3002\n\n\u8fd9\u4e2a\u64cd\u4f5c\u53ef\u4ee5\u901a\u8fc7\u5e76\u67e5\u96c6\u8f7b\u677e\u5b9e\u73b0\u3002\n\n\u6211\u4eec\u6bcf\u6b21\u4ece\u5c0f\u5230\u5927\u6311\u9009\u4e24\u4e2a\u4e0d\u540c\u94fe\u7684\u7aef\u70b9\u8fdb\u884c\u94fe\u63a5\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u5b57\u5178\u5e8f\u6700\u5c0f\u3002\n\n\u7531\u4e8e\u6211\u795e\u5fd7\u4e0d\u592a\u6e05\u9192\uff0c\u6240\u4ee5\u6211\u4f7f\u7528\u4e86 `std::set`\n\n\u6700\u540e\u5982\u679c\u628a\u6240\u6709\u70b9\u8fde\u6210\u4e86\u4e00\u4e2a\u5927\u94fe\uff0c\u6211\u4eec\u53ea\u9700\u8981\u518d\u8fde\u63a5\u4e00\u4e0b\u5927\u94fe\u7684\u94fe\u9996\u548c\u94fe\u5c3e\u3002\n\n\u6700\u540e\u6211\u4eec\u68c0\u67e5\u4e00\u4e0b\u662f\u5426\u6240\u6709\u7684\u70b9\u90fd\u5df2\u94fe\u63a5\u5b8c\u6210\u5373\u53ef\u3002\n\n\u590d\u6742\u5ea6\uff0c\u5927\u6982\u662f $\\mathcal{O(n^2 \\text{log}n)}$ \u7684\u5427\u3002\n\n~~\u7531\u4e8e\u9000\u5f79\u592a\u4e45\u6240\u4ee5\u5982\u679c\u4ec0\u4e48\u5730\u65b9\u8bf4\u9519\u4e86\u8bf7\u5343\u4e07\u6307\u51fa\u3002~~\n\n[\u4ee3\u7801](https://www.luogu.com.cn/paste/0oqo3q1i)",
        "postTime": 1659262931,
        "uid": 375208,
        "name": "LawrenceSivan",
        "ccfLevel": 0,
        "title": "CF9E Interesting Graph and Apples"
    },
    {
        "content": "### $\\text{Difficulty : 2300}$\n---\n### \u89e3\u9898\u601d\u8def\uff1a\n\n\u4e00\u4e2a\u53ef\u80fd\u6ee1\u8db3\u6761\u4ef6\u7684\u56fe\u662f\u4e00\u4e9b\u94fe\u6216\u8005\u4e00\u4e2a\u73af\u3002\n\n\u76f4\u63a5\u5c06\u6240\u6709\u7684\u94fe\u94fe\u63a5\u5230\u4e00\u8d77\u53bb\uff0c\u7136\u540e\u5224\u65ad\u5373\u53ef\u3002\u5b9e\u73b0\u7684\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528\u5e76\u67e5\u96c6\u6765\u505a\u5408\u5e76\u64cd\u4f5c\u3002\n\n\u6ce8\u610f\u8fd9\u4e2a\u65b9\u6cd5\u4e0d\u80fd\u94fe\u63a5\u81ea\u73af\uff0c\u9700\u8981\u5bf9\u4e8e $n=1$\uff0c$m=0$ \u7684\u60c5\u51b5\u7279\u5224\u3002\n\n---\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\nusing namespace std;\nconst int MAXN=10000;\nint n,m,fa[MAXN],x,y,d[MAXN],cnt,ansx[MAXN],ansy[MAXN],flag;\nint find(int x){\n\tif(fa[x]==x)return x;\n\treturn find(fa[x]);\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tif(n==1&&m==0){\n\t\tprintf(\"YES\\n1\\n1 1\\n\");\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=n;i++)fa[i]=i;\n\tfor(int i=1;i<=m;i++){\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tfa[find(x)]=find(y);\n\t\td[x]++;d[y]++;\n\t}\n\tfor(int i=1;i<=n;i++)\n\tif(d[i]>=3){\n\t\tprintf(\"NO\\n\");\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(find(i)!=find(j)&&d[i]<2&&d[j]<2){\n\t\t\t\td[i]++;d[j]++;\n\t\t\t\tfa[find(i)]=find(j);\n\t\t\t\tansx[++cnt]=i;\n\t\t\t\tansy[cnt]=j;\n\t\t\t}\n\t\t}\n\t}\n\tx=find(1);\n\tfor(int i=1;i<=n;i++){\n\t\tif(find(i)!=x){\n\t\t\tprintf(\"NO\\n\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\tflag=0;\n\tfor(int i=1;i<=n;i++){\n\t\tif(d[i]==1){\n\t\t\tif(flag==0){\n\t\t\t\td[i]++;flag=1;\n\t\t\t\tansx[++cnt]=i;\n\t\t\t}\n\t\t\telse{\n\t\t\t\td[i]++;\n\t\t\t\tansy[cnt]=i;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"YES\\n%d\\n\",cnt);\n\tfor(int i=1;i<=cnt;i++)\n\tprintf(\"%d %d\\n\",ansx[i],ansy[i]);\n\treturn 0;\n}\n```\n",
        "postTime": 1649216721,
        "uid": 223559,
        "name": "qxp101",
        "ccfLevel": 6,
        "title": "CF9E Interesting Graph and Apples \u9898\u89e3"
    },
    {
        "content": "\u8d2a\u5fc3\u3002  \n\u4e00\u5f00\u59cb\u5c31\u4e0d\u5408\u6cd5\u6216\u5df2\u7ecf\u6210\u73af\u7684\u60c5\u51b5\u7279\u5224\u4e00\u4e0b\u3002  \n\u7136\u540e\u6309\u5b57\u5178\u5e8f\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u6bcf\u6761\u8fb9\uff0c  \n\u5982\u679c\u52a0\u4e86\u4e4b\u540e\u4e0d\u6210\u73af\u5c31\u52a0\uff0c   \n\u76f8\u5f53\u4e8e\u8fde\u63a5\u4e86\u4e24\u6761\u94fe\uff0c  \n\u6700\u540e\u52a0\u5165\u4e00\u6761\u8fb9\u628a\u6700\u540e\u4e00\u6761\u94fe\u7684\u4e24\u7aef\u8fde\u8d77\u6765\u3002\n\n```cpp\n//by kcz 1552920354@qq.com\n//if you find any bug in my code\n//please tell me\n#include<bits/stdc++.h>\nusing namespace std;\n\ntemplate <typename T> void chmin(T &x,const T &y)\n{\n\tif(x>y)x=y;\n}\ntemplate <typename T> void chmax(T &x,const T &y)\n{\n\tif(x<y)x=y;\n}\ntypedef long long ll;\ntypedef pair<int,int> pii;\n#define rep(i,l,r) for(int i=l;i<=r;++i)\n#define per(i,r,l) for(int i=r;i>=l;--i)\n#define pb push_back\n#define mp make_pair\n#define gc (c=getchar())\nint read()\n{\n    char c;\n    while(gc<'-');\n    if(c=='-')\n    {\n        int x=gc-'0';\n        while(gc>='0')x=x*10+c-'0';\n        return -x;\n    }\n    int x=c-'0';\n    while(gc>='0')x=x*10+c-'0';\n    return x;\n}\n#undef gc\n\nconst int N=50+5;\nint fa[N],du[N];\nint find(int x)\n{\n\treturn fa[x]==x?x:fa[x]=find(fa[x]);\n}\npii ans[N];\n\nint main()\n{\n\tfreopen(\"1.in\",\"r\",stdin);//freopen(\"1.out\",\"r\",stdin);\n\tint n=read(),m=read();\n\trep(i,1,n)fa[i]=i;\n\trep(i,1,m)\n\t{\n\t\tint x=read(),y=read();\n\t\t++du[x];++du[y];\n\t\tfa[find(x)]=find(y);\n\t}\n\trep(i,1,n)\n\tif(du[i]>2)\n\t{\n\t\tputs(\"NO\");\n\t\treturn 0;\n\t}\n\tint top=0;\n\trep(i,1,n)\n\trep(j,i,n)\n\tif(find(i)!=find(j)&&du[i]<2&&du[j]<2)\n\t{\n\t\tans[++top]=mp(i,j);\n\t\t++du[i];++du[j];\n\t\tfa[find(i)]=find(j);\n\t}\n\tif(m+top==n-1)\t\n\t{\t\n\t\t++top;\n\t\trep(i,1,n)\n\t\twhile(du[i]<2)\n\t\t{\n\t\t\t++du[i];\n\t\t\tif(!ans[top].first)ans[top].first=i;\n\t\t\telse ans[top].second=i;\n\t\t}\n\t}\n\trep(i,1,n)\n\tif(find(i)!=find(1))\n\t{\n\t\tputs(\"NO\");\n\t\treturn 0;\n\t}\n\tputs(\"YES\");\n\tprintf(\"%d\\n\",top);\n\trep(i,1,top)printf(\"%d %d\\n\",ans[i].first,ans[i].second);\n}\n\t\n```",
        "postTime": 1519643942,
        "uid": 9168,
        "name": "kczno1",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF9E \u3010Interesting Graph and Apples\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\uff0c\u7528**\u5e76\u67e5\u96c6**\u554a\n### \u9898\u610f $+Idea$\n\u5927\u81f4\u5c31\u662f\u7ed9\u4f60$n$\u4e2a\u70b9,\u8fd9$n$\u4e2a\u70b9\u4e4b\u95f4\u6709$m$\u6761\u8fb9\u76f8\u8fde,\u95ee\u80fd\u4e0d\u80fd\u518d\u6dfb\u52a0\u51e0\u6761\u8fb9\uff0c\u4f7f\u8fd9$n$\u4e2a\u70b9\u521a\u597d\u80fd\u56f4\u6210\u4e00\u4e2a\u5708.\n\n\u56e0\u4e3a\u662f\u65e0\u5411\u56fe\uff0c\u5224\u65ad\u80fd\u5426\u6210\u4e00\u4e2a\u5708\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a$father$\uff0c\u6240\u4ee5\u7528\u4e86\u5e76\u67e5\u96c6\u3002\n\n### $Code$\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<cstdlib>\n#include<algorithm>\n#include<string>\n#define ll long long\n#define maxn 105\n#define inf 2147483647\n#define mod 10003\n#define eps 1e-6\n#define pi acos(-1.0)\n#define de(x) ((x)*(x))\nusing namespace std; \ninline int read(){\n    int x=0,f=1; char ch=getchar();\n    while(!isdigit(ch)) {if(ch=='-')f=-1;ch=getchar();}\n    while(isdigit(ch)) {x=x*10+ch-48;ch=getchar();}\n    return x*f;\n}\nint deep[maxn],fa[maxn];//deep[]\u8bb0\u5f55\u5ea6\u6570 \nint n,m,ans;\nstruct Node{//\u8bb0\u5f55\u52a0\u8fb9\u60c5\u51b5 \n\tint u,v;\n}e[1100];\ninline void init(){for(int i=1;i<=n;i++) fa[i]=i;}\ninline int find(int x){\n\tif(x==fa[x]) return x;\n\treturn fa[x]=find(fa[x]);\n}\ninline void Union(int x,int y){\n\tint xx=find(x),yy=find(y);\n\tif(xx!=yy) fa[xx]=yy;\n}\ninline bool check(){\n    for(int i=1;i<=n;i++)\n    if(deep[i]<2){\n        for(int j=i+1;j<=n;j++)\n        if(deep[j]<2&&find(i)!=find(j)){\n            Union(i,j);\n            e[ans].u=i; e[ans].v=j;\n            ans++;\n            deep[i]++; deep[j]++;\n            break;\n        }\n        if(deep[i]<2)\n        for(int j=i+1;j<=n;j++)\n        if(deep[j]<2&&find(i)!=find(j)){\n            Union(i,j);\n            e[ans].u=i; e[ans].v=j;\n            ans++;\n            deep[i]++; deep[j]++;\n            break;\n        }\n    }\n    int cot=0;\n    for(int i=1;i<=n;i++){\n        if(deep[i]!=1&&deep[i]!=2) return false;\n        if(deep[i]==1) cot++;\n    }\n    if(cot==2) return true;\n    else return false;\n}\nbool flag,sign;\nsigned main(){\n\tn=read(); m=read();\n\tif(n==1&&m==0) return printf(\"YES\\n1\\n1 1\"),0;//\u7279\u5224\uff0c\u53ea\u6709\u4e00\u4e2a\u70b9\u548c0\u6761\u8fb9\uff1b \n\tint tmp=0; flag=sign=false;\n\tinit(); ans=0;\n\tfor(int i=1;i<=m;i++){\n\t\tint x=read(),y=read();\n\t\tdeep[x]++; deep[y]++;\n\t\tif(find(x)==find(y)) flag=true;//\u5982\u679c\u4e3a\u73af\uff0c\u6807\u8bb0\u4e3a\u4e00 \n\t\tUnion(x,y);\n\t}\n\tfor(int i=1;i<=n;i++) tmp=max(tmp,deep[i]);\n\tif(tmp>2) return puts(\"NO\"),0;//\u5982\u679c\u5ea6\u6570>2 \uff0c\u80af\u5b9a\u4e3a0\uff1b \n\tif(flag){/\u82e5\u539f\u56fe\u6709\u73af \n\t\tint t=find(1);\n\t\tfor(int i=2;i<=n;i++)\n\t\tif(t==find(i)&&deep[i]==2) continue;\n\t\telse{sign=true; break;}\n\t\tif(!sign) return printf(\"YES\\n0\"),0;\n\t\telse return puts(\"NO\");\n\t}\n\tif(check()){\n\t\tint p[2],cnt=0;\n\t\tfor(int i=1;i<=n;i++) if(deep[i]==1) p[cnt++]=i;\n\t\te[ans].u=p[0]; e[ans++].v=p[1];\n\t\tputs(\"YES\"); printf(\"%d\\n\",ans);\n\t\tfor(int i=0;i<ans;i++) printf(\"%d %d\\n\",e[i].u,e[i].v);\n\t}\n\telse return puts(\"NO\"),0;\n    return 0;\n}\n```\n$\\sout{bu~yao~chao~xi}$",
        "postTime": 1567388962,
        "uid": 126772,
        "name": "\u53f6\u67ab",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF9E \u3010Interesting Graph and Apples\u3011"
    }
]