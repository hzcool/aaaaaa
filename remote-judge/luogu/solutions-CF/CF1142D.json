[
    {
        "content": "\u5bf9\u7740$yyb$\u5de8\u5de8\u90a3\u957f\u8fbe$20$\u884c\u7684\u4ee3\u7801\u76ef\u4e86\u4e00\u4e2a\u4e0b\u5348\u2026\u2026\n\n\u9996\u5148\u9898\u76ee\u91cc\u8bf4\u7684\u592a\u9ebb\u70e6\u4e86\uff0c\u6211\u4eec\u628a\u5b83\u7528\u4ee3\u7801\u7684\u5f62\u5f0f\u5199\u51fa\u6765\uff0c\u5927\u6982\u662f\u8fd9\u6837\u7684\n\n```cpp\nfp(i,1,9)q[++t]=i;\nwhile(true){\n\tint u=q[h];\n\tfp(j,0,h%11-1)q[++t]=q[h]*10+j;\n\t++h;\n}\n```\n\n\u90a3\u4e48\u6211\u4eec\u53d1\u73b0\u8fd9\u4e2a\u6570\u5217\u663e\u7136\u662f\u9012\u589e\u7684\n\n\u6211\u4eec\u5148\u6765\u601d\u8003\u4e00\u4e2a\u95ee\u9898\uff0c\u5bf9\u4e8e\u6570\u5217\u4e2d\u7684\u7b2c$i$\u4e2a\u6570\uff0c\u5f80\u5b83\u540e\u9762\u603c\u4e00\u4e2a$c$\uff0c\u90a3\u4e48\u8fd9\u4e2a\u65b0\u7684\u6570\u5728\u6570\u5217\u4e2d\u7684\u6807\u53f7\u662f\u591a\u5c11\u5462\uff1f\n\n\u56e0\u4e3a\u8fd9\u4e2a\u6570\u5217\u662f\u9012\u589e\u7684\uff0c\u90a3\u4e48\u663e\u7136\u6211\u4eec\u53ea\u9700\u8981\u8ba1\u7b97\u51fa\u6709\u591a\u5c11\u6570\u6bd4\u5b83\u5c0f\u5c31\u53ef\u4ee5\u4e86\n\n\u5148\u7ed9\u51fa\u67ff\u5b50\uff0c$i$\u540e\u9762\u603c\u4e00\u4e2a$c$\uff0c\u65b0\u7684\u6570\u7684\u6807\u53f7\u4e3a\n\n$$9+\\sum_{k=1}^{i-1}k\\%11+c+1$$\n\n$9$\u4ee3\u8868\u521d\u59cb\u7684$9$\u4e2a\u6570\uff0c\u7136\u540e$1$\u5230$i-1$\u4e2d\u6bcf\u4e2a\u6570\u540e\u9762\u603c\u4e00\u4e2a\u6570\u4f4d\u663e\u7136\u90fd\u4f1a\u6bd4\u65b0\u6570\u5c0f\uff0c$c+1$\u5e94\u8be5\u4e0d\u7528\u89e3\u91ca\u4e86\n\n\u7136\u800c\u8fd9\u67ff\u5b50\u770b\u7740\u5c31\u5f88\u9ebb\u70e6\u2026\u2026\u6211\u4eec\u53d1\u73b0\u540e\u9762\u53ef\u4ee5\u603c\u7684\u6570\u5b57\u53ea\u4e0e\u6807\u53f7\u5bf9$11$\u53d6\u6a21\u7684\u503c\u6709\u5173\uff0c\u6211\u4eec\u5c1d\u8bd5\u628a\u6574\u4e2a\u67ff\u5b50\u90fd\u653e\u5230$\\bmod 11$\u7684\u610f\u4e49\u4e0b\uff0c\u8fd9\u6837\u5c31\u80fd\u628a\u4e2d\u95f4\u7684$k\\%11$\u53bb\u6389\u4e86\n\n$$9+\\sum_{k=1}^{i-1}k+c+1\\bmod 11$$\n\n$$9+{i(i-1)\\over 2}+c+1\\bmod 11$$\n\n\u5982\u6b64\u8fd9\u822c\u4e4b\u540e\uff0c\u6211\u4eec\u53d1\u73b0\u6570\u5b57\u7684\u6807\u53f7\uff0c\u5176\u5b9e\u53ea\u9700\u8981\u7ef4\u62a4$\\bmod 11$\u610f\u4e49\u4e0b\u7684\u503c\u5c31\u53ef\u4ee5\u4e86\n\n\u6211\u4eec\u8bbe$f_{i,j}$\u8868\u793a\u672b\u5c3e\u6570\u4f4d\u4e3a$s[i]$\uff0c\u6807\u53f7\u5728$\\bmod 11$\u610f\u4e49\u4e0b\u4e3a$j$\uff0c\u4e14\u80fd\u5339\u914d\u4e0a\u4ee5$i$\u4e3a\u7ed3\u5c3e\u7684\u5b50\u4e32\u7684\u6570\u7684\u4e2a\u6570\n\n\u6211\u4eec\u8bb0\u4e0a\u9762\u90a3\u4e2a\u503c\u4e3a$nxt(i,j)$\uff0c\u5c31\u662f\u6807\u53f7\u4e3a$i$\u7684\u540e\u9762\u603c\u4e2a$j$\u7684\u6570\u7684\u6807\u53f7\uff0c\u90a3\u4e48\u8f6c\u79fb\u5c31\u6709\n\n$$f_{i,nxt(j,s[i])}+=f_{i-1,j}$$\n\n\u8bb0\u5f97\u8fd9\u91cc\u8981\u6ee1\u8db3$j>s[i]$\n\n\u987a\u4fbf\u6ce8\u610f\u5982\u679c$s[i]>0$\u7684\u8bdd\u5355\u72ec\u4e00\u4e2a\u6570\u5b57\u4e5f\u662f\u53ef\u4ee5\u5339\u914d\u7684\n\n```cpp\n//minamoto\n#include<bits/stdc++.h>\n#define R register\n#define ll long long\n#define fp(i,a,b) for(R int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(R int i=(a),I=(b)-1;i>I;--i)\n#define go(u) for(int i=head[u],v=e[i].v;i;i=e[i].nx,v=e[i].v)\nusing namespace std;\nchar buf[1<<21],*p1=buf,*p2=buf;\ninline char getc(){return p1==p2&&(p2=(p1=buf)+fread(buf,1,1<<21,stdin),p1==p2)?EOF:*p1++;}\nint read(char *s){\n\tR int len=0;R char ch;while(((ch=getc())>'9'||ch<'0'));\n\tfor(s[++len]=ch;(ch=getc())>='0'&&ch<='9';s[++len]=ch);\n\treturn s[len+1]='\\0',len;\n}\nconst int N=1e5+5;\nchar s[N];int f[N][15],n;ll res;\ninline int nxt(R int x,R int c){return ((x*(x-1)>>1)+c+10)%11;}\nint main(){\n//\tfreopen(\"testdata.in\",\"r\",stdin);\n\tn=read(s);\n\tfp(i,1,n){\n\t\tfp(j,s[i]-'0'+1,10)f[i][nxt(j,s[i]-'0')]+=f[i-1][j];\n\t\tif(s[i]>'0')++f[i][s[i]-'0'];\n\t\tfp(j,0,10)res+=f[i][j];\n\t}\n\tprintf(\"%I64d\\n\",res);\n\treturn 0;\n}\n```",
        "postTime": 1554193276,
        "uid": 41781,
        "name": "bztMinamoto",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1142D \u3010Foreigner\u3011"
    },
    {
        "content": "## \u89e3\u6790\n\n\u6211\u4eec\u9996\u5148\u8003\u8651\u4e00\u4e2a \u201c\u4e0d\u5145\u5206\u201d\uff08 \u201cinadequate\u201d\uff09\u7684\u6570 $x$\uff0c\u6392\u540d\u4e3a $k$\uff0c\u5728\u5b83\u540e\u9762\u52a0\u4e00\u4e2a\u6570\u4f4d $c$\uff08\u4e14\u8fd9\u5408\u6cd5\uff09\uff0c\u5176 \u201c\u62d3\u5c55\u201d \u51fa\u7684\u6570\u5b57 $x'$ \u7684\u6392\u540d $k'$\n\n\u601d\u8003\u4e0b\u53ef\u53d1\u73b0 $k'=9+\\sum\\limits_{i=1}^{k-1}{(i\\mod 11)}+c+1$\u3002\u5176\u4e2d $9$ \u662f\u4e0d\u53ef\u88ab\u62d3\u5c55\u51fa\u7684 $9$ \u4e2a\u6570 $1$ ~ $9$\uff1b$\\sum\\limits_{i=1}^{k-1}{(i\\mod 11)}$ \u662f\u6240\u6709\u6bd4 $x$ \u5c0f\u7684\u6570\u62d3\u5c55\u51fa\u7684\u6570\uff0c\u53ef\u4ee5\u77e5\u9053\u5b83\u4eec\u4e00\u5b9a\u6bd4 $x'$ \u5c0f\uff1b\u800c $c$ \u5219\u662f\u540c\u7531 $x$ \u62d3\u5c55\u51fa\uff0c\u4f46\u6700\u540e\u4e00\u4f4d\u6570\u6bd4 $x'$ \u5c0f\u7684\u6570\n\n\u6211\u4eec\u53d1\u73b0\u4e00\u4e2a\u6570\u80fd\u62d3\u5c55\u51fa\u7684\u6570\u7684\u4e2a\u6570\u53ea\u4e0e\u5b83\u7684\u6392\u540d\u6a21 $11$ \u7684\u4f59\u6570\u6709\u5173\uff0c\u4e8e\u662f\u6211\u4eec\u5b9e\u9645\u4e0a\u5e76\u4e0d\u9700\u8981\u8bb0\u5f55\u5177\u4f53\u7684\u6392\u540d $k$\uff0c\u800c\u53ea\u9700\u8bb0\u5f55\u8fd9\u4e2a\u6392\u540d\u6a21 $11$ \u7684\u4f59\u6570 $k\\mod 11$\n\n\u73b0\u5728\u8003\u8651\u600e\u4e48\u8ba1\u7b97\u9898\u76ee\u6240\u9700\u7684\u7b54\u6848\u3002\u53ef\u4ee5\u8003\u8651\u6bcf \u201c\u589e\u52a0\u201d \u4e00\u4e2a\u5b57\u7b26\uff0c\u5c31\u7edf\u8ba1\u6240\u6709\u6700\u540e\u4e00\u4f4d\u4e3a\u8be5\u5b57\u7b26\u7684\u5b50\u4e32\u3002\u8bbe $dp(i, r)$ \u8868\u793a\u6240\u6709 $[l, i]$ \u7684\u5b50\u4e32\u4e2d\uff0c\u6392\u540d\u6a21 $11$ \u4f59\u6570\u4e3a $r$ \u7684\u4e3a \u201c\u4e0d\u5145\u5206\u201d \u7684\u6570\u5b57\u7684\u5b50\u4e32\u6570\u91cf\u3002\u90a3\u4e48\u7b54\u6848\u5c31\u4e3a $\\sum\\limits_{i=1}^n{\\sum\\limits_{r=0}^{10}dp(i, r)}$\n\n\u8003\u8651\u600e\u4e48\u4ece $i-1$ \u8f6c\u79fb\u5230 $i$\uff0c\u8fd9\u5176\u5b9e\u5f88\u7b80\u5355\u3002\u5177\u4f53\u6765\u8bf4\uff0c$dp(i-1, r)$ \u4e2d\u6240\u6709\u7684\u5b50\u4e32\uff0c\u5728\u52a0\u4e0a $s[i]$ \u540e\uff0c\u5176\u65b0\u7684\u6392\u540d\u6a21 $11$ \u7684\u503c\u5c31\u4e3a $(9+\\sum\\limits_{i=1}^{k-1}{(i\\mod 11)}+c+1)\\mod 11$\uff1b\u800c\u5176\u4e2d $\\sum\\limits_{i=1}^{k-1}{(i\\mod 11)}$ \u7684\u503c\u53ef\u4ee5\u9884\u5904\u7406\uff0c\u4e14\u4e5f\u6ca1\u5fc5\u8981\u771f\u7684\u7b97\u5230 $k-1$\uff0c\u7b97\u5230 $(k-1+11)\\mod 11$ \u5c31\u884c\u4e86\uff08\u8bc1\u660e\u8003\u8651\u6a21\u7684\u6027\u8d28\u5373\u53ef\uff09\n\n## CODE\n\n```cpp\n#include <cstdio>\n#define ll long long\n\nconst int MAXN =1e5+20;\n\nint sum[11];/*$\\sum\\limits_{i=1}^{n}{(i\\mod 11)}*/\n\ninline void pre(){\n\tfor(int i =1; i < 11; ++i)\n\t\tsum[i] =sum[i-1]+i;\n}\n\ninline int get_rank(const int &now_rank, const int &c){\n\treturn (9+sum[(now_rank-1+11)%11]+c+1)%11;\n}\n\n/*V- \u6240\u6709 [l, i] \u5b50\u4e32\u4e2d\uff0c\u6392\u540d\u4f59\u6570\u4e3a r \u7684\u5b50\u4e32\u6570\u91cf ( \u6ce8\u610f\u4ea4\u6362\u4e86\u4e0b\u6807 )*/\nll dp[11][MAXN];\nint s[MAXN];\n\nint main(){\n\tpre();\n\tint tot =0;\n\tfor(char c =getchar(); c >= '0' && c <= '9'; c =getchar())\n\t\ts[++tot] =c-'0';\n\tll ans =0;\n\tfor(int i =1; i <= tot; ++i){\n\t\tfor(int r =s[i]+1; r < 11; ++r)\n\t\t\tdp[get_rank(r, s[i])][i] +=dp[r][i-1];\n\t\tif(s[i] != 0)\n\t\t\t++dp[s[i]][i];\n\t\tfor(int r =0; r < 11; ++r)\n\t\t\tans +=dp[r][i];\n\t}\n\tprintf(\"%lld\", ans);\n}\n```",
        "postTime": 1603069682,
        "uid": 105254,
        "name": "Piwry",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1142D \u3010Foreigner\u3011"
    }
]