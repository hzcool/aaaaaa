[
    {
        "content": "\u8fd9\u9053\u9898\u4e00\u770b\u611f\u89c9\u6ca1\u4ec0\u4e48\u601d\u8def,\u53ef\u662f\u6211\u4eec\u518d\u770b\u4e00\u4e0b\u4f8b\u5b50\uff0c\n```\n f(1,2,4,8)\n=f(1\u22952,2\u22954,4\u22958)\n=f(3,6,12)\n=f(3\u22956,6\u229512)\n=f(5,10)\n=f(5\u229510)\n=f(15)\n=15\n```\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff1a\n\n\u8bbe$f[i][j]$\u4e3a\u7b2c$i$\u5c42\u7684\u7b2c$j$\u4e2a\u6570\uff0c\u53ef\u5f97\n$f[i][j]=f[i-1][j-1]\\ xor \\ f[i-1][j]$\n(\u8ddf\u6768\u8f89\u4e09\u89d2\u6709\u70b9\u50cf\u554a\u8fd9\u4e2a)\n\n\u90a3\u6211\u4eec\u5c31\u53ef\u4ee5\u9012\u63a8\u51fa$f[i][j]$,\u518d\u4f7f\u7528DP\u6c42\u51fa$max[i][j]$(\u8868\u793a\u4ece\u7b2c$i$\u4e2a\u6570\u5f00\u59cb\uff0c\u957f\u5ea6\u4e3a$j$\u7684\u6700\u5927\u503c)\u3002\u5c31\u53ef\u4ee5\u5feb\u901f\u7684\u6c42\u89e3\u4e86\u3002\n\n\t\n```\n//\u5728\u4ee3\u7801\u4e2d\uff0cmaxx[i][j]\u5b9e\u9645\u8868\u793a\u4ece\u7b2ci\u4e2a\u6570\u5f00\u59cb\uff0c\u957f\u5ea6\u4e3aj+1\u7684\u6700\u5927\u503c\n#include<bits/stdc++.h>\nusing namespace std;\nint n,q,l,r,f[5010][5010],maxx[5010][5010];\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor (int i=1;i<=n;i++)\n\t{\n\t  scanf(\"%d\",&f[i][0]);maxx[i][0]=f[i][0];//\u8bfb\u5165\u7684\u6570\u5373\u4e3af[i][0]\n    }\n\tfor (int i=1;i<n;i++)\n\t{\n\t\tfor (int j=1;j<=n-i;j++)\n\t\t{\n\t\t  f[j][i]=f[j][i-1]^f[j+1][i-1];\n\t\t  maxx[j][i]=max(f[j][i],max(maxx[j][i-1],maxx[j+1][i-1]));\n          //\u5904\u7406f[i][j]\u548cmaxx[i][j]\uff08\u610f\u4e49\u540c\u4e0a\uff09\n\t    }\n\t}\n\tscanf(\"%d\",&q);\n\tfor (int i=1;i<=q;i++)\n\t{\n\t\tscanf(\"%d%d\",&l,&r);\n\t\tif (l>r) swap(l,r);\n\t\tif (r>n) r=n;if (l<=0) l=1;\n\t\tprintf(\"%d\\n\",maxx[l][r-l]);//\u76f4\u63a5\u8f93\u51fa\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1533304473,
        "uid": 73990,
        "name": "fmj_123",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF983B \u3010XOR-pyramid\u3011"
    },
    {
        "content": "~~\u5927\u6c34\u9898~~\n\n#### \u5173\u4e8e\u6027\u8d28\n\n\u4e0d\u96be\u53d1\u73b0\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u6570\u7ec4 $a$\uff0c$f(a_{1,n})=f(a_{1,n-1} \\oplus f(a_{2,n}))$ \u3002\u5177\u4f53\u8bc1\u660e\u53ef\u4ee5\u81ea\u5df1\u753b\u4e00\u5f20\u56fe\uff0c\u5c31\u4f1a\u53d1\u73b0\u8fd9\u5f88\u5408\u7406\u3002\n\n#### \u89e3\u51b3\u65b9\u6848\n\n\u8fd9\u4e2a $f$ \u51fd\u6570\u503c\u7684\u6c42\u89e3\u662f\u53ef\u4ee5\u4f7f\u7528\u533a\u95f4dp\u7684\uff0c\u6211\u4eec\u5b9a\u4e49\u72b6\u6001 $dp_{l,r}$ \u8868\u793a $f(a_{l,r})$ \uff0c\u6839\u636e\u4e0a\u9762\u7684\u6027\u8d28\u8fdb\u884c\u8f6c\u79fb\u3002\n\n\u7b54\u6848\u9700\u8981\u6c42\u89e3 $\\max f(a_{l,r}) (L \\leqslant l \\leqslant r \\leqslant R)$\n\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5728\u539f\u6765\u7684 $dp$ \u6570\u7ec4\u4e0a\u5728\u8fdb\u884c\u4e00\u6b21\u533a\u95f4dp,\u8f6c\u79fb\u65b9\u7a0b\u5982\u4e0b\uff1a\n\n$$dp_{l,r}= \\max(dp_{l,r},\\max(dp_{l+1,r},dp_{l,r-1}))$$\n\n\u8fd9\u5408\u7406\u5417\uff0c\u8fd9\u5341\u5206\u5408\u7406\u3002\u8fd9\u4e2a\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n^2)$ \uff0c\u53ef\u4ee5\u901a\u8fc7\n\n#### \u4ee3\u7801\u65f6\u95f4\uff08\u5b9e\u5728\u4e0d\u4f1a\u5728\u770b\uff09\n\n```\n#include<bits/stdc++.h>\n#define int long long\n#define MAXN 5001\nusing namespace std;\ninline int read(){\n\tint x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){\n\t\tif(ch=='-')\n\t\t\tf=-f;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9'){\n\t\tx=x*10+ch-'0';\n\t\tch=getchar(); \n\t}\n\treturn x*f;\n}\nint n,a[MAXN],f[MAXN][MAXN];\nsigned main(){\n\tn=read();\n\tfor(int i=1;i<=n;i++)\n\t\ta[i]=read();\n\tfor(int i=1;i<=n;i++)\n\t\tf[i][i]=a[i];\n\tfor(int len=2;len<=n;len++)\n\t\tfor(int l=1,r=len;r<=n;l++,r++)\n\t\t\tf[l][r]=f[l][r-1]^f[l+1][r];\n\tfor(int len=2;len<=n;len++)\n\t\tfor(int l=1,r=len;r<=n;l++,r++)\n\t\t\tf[l][r]=max(f[l][r],max(f[l][r-1],f[l+1][r]));\n\tint T=read();\n\twhile(T--){\n\t\tint l=read(),r=read();\n\t\tcout<<f[l][r]<<endl;\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1679654191,
        "uid": 593595,
        "name": "Diavolo",
        "ccfLevel": 6,
        "title": "CF983B \u9898\u89e3"
    },
    {
        "content": "\u4e3b\u8981\u5c31\u662ff[l][r]=f[l][r-1]^f[l+1][r]\n\n\u7136\u540e\u5c31\u662f\u4e00\u4e2a\u524d\u7f00\u6700\u5927\u548c\u7684\u4e1c\u897f\u4e86\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nconst int N=5005;\nint a[N],n;\ninline void init(){\n\tscanf(\"%d\",&n);\n\tfor (int i=1;i<=n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n}\nint f[N][N],dp[N][N];\ninline void DP(){\n\tfor (int i=1;i<=n;i++){\n\t\tdp[i][i]=f[i][i]=a[i];\n\t}\n\tfor (int L=2;L<=n;L++){\n\t\tfor (int i=1;i+L-1<=n;i++){\n\t\t\tf[i][i+L-1]=f[i][i+L-2]^f[i+1][i+L-1];\n\t\t}\n\t}\n\tfor (int L=2;L<=n;L++){\n\t\tfor (int i=1;i+L-1<=n;i++){\n\t\t\tdp[i][i+L-1]=max(f[i][i+L-1],max(dp[i][i+L-2],dp[i+1][i+L-1]));\n\t\t}\n\t}\n}\nint q;\ninline void solve(){\n\tDP();\n\tscanf(\"%d\",&q);\n\tfor (int i=1;i<=q;i++){\n\t\tint l,r; scanf(\"%d%d\",&l,&r);\n\t\tprintf(\"%d\\n\",dp[l][r]);\n\t}\n}\nint main(){\n\tinit(); \n\tsolve();\n\treturn 0;\n} \n```\n\n",
        "postTime": 1533550188,
        "uid": 34444,
        "name": "\u5927\u83dc\u9e21fks",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF983B \u3010XOR-pyramid\u3011"
    },
    {
        "content": "---\ntitle: CF 983B XOR-pyramid    # \u6587\u7ae0\u6807\u9898\n\n## Problem\n\n[Luogu](https://www.luogu.com.cn/problem/CF983B)\n\n[Codeforces](https://codeforces.com/problemset/problem/983/B)\n\n## Solution\n\n\u7531\u4e8e\u5f02\u6216\u5141\u8bb8\u7ed3\u5408\u5f8b\uff0c\u6240\u4ee5\u6211\u4eec\u5bf9\u4e8e\u4e00\u6bb5\u6570\u5217\uff0c\u53ea\u9700\u8981\u9012\u63a8\u5f97\u5230\u5373\u53ef\u3002\n\n\u8bbe $f[i][j]$ \u4e3a \u7b2c $i$ \u5c42\u7684\u7b2c $j$ \u4e2a\u6570\uff0c\u4e5f\u53ef\u4ee5\u8bf4\u4e3a \u8fd9\u662f\u4ee5\u7b2c $j$ \u4e2a\u6570\u4e3a\u7ed3\u5c3e\uff0c\u957f\u5ea6\u4e3a $i$ \u7684\u5f02\u6216\u548c\u3002\n\n\u6240\u4ee5\u6211\u4eec\u9012\u63a8\u51fa $f$ \u7136\u540e\u5728\u7528 dp \u6c42\u51fa max \u6570\u7ec4\u5373\u53ef\u3002\n\n## Code\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define il inline\n#define INF 0x3f3f3f3f\n#define cl(a, b) memset(a, b, sizeof(a))\ntypedef long long ll;\ntypedef unsigned long long ull;\n\n#define N 5050\n\nint n, q, f[N][N], maxn[N][N];\n\nint main()\n{\n    scanf(\"%d\", &n);\n    for (int i = 1; i <= n; i++)\n    {\n        scanf(\"%d\", &f[i][0]);\n        maxn[i][0] = f[i][0];\n    }\n    for (int i = 1; i < n; i++)\n    {\n        for (int j = 1; j <= n - i; j++)\n        {\n            f[j][i] = f[j][i - 1] ^ f[j + 1][i - 1];\n            maxn[j][i] = max(f[j][i], max(maxn[j][i - 1], maxn[j + 1][i - 1]));\n        }\n    }\n    scanf(\"%d\", &q);\n    for (int i = 1, l, r; i <= q; i++)\n    {\n        scanf(\"%d%d\", &l, &r);\n        printf(\"%d\\n\", maxn[l][r - l]);\n    }\n    return 0;\n}\n```\n",
        "postTime": 1650582257,
        "uid": 146852,
        "name": "RocksonLee",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 CF983B \u3010XOR-pyramid\u3011"
    },
    {
        "content": "# <center>CF 983B \u5e8f\u5217\u51fd\u6570\n\n## \u9898\u610f:\n\u3000\u3000\u7ed9\u4f60\u4e00\u6bb5\u5e8f\u5217\uff0c\u6c42\u51fa\u5b83\u4eec\u7684\u6700\u5927\u5f02\u6216\u548c\u3002\n## \u89e3\u6cd5\uff1a\n#### \u5176\u5b9e\u8fd9\u9053\u9898\u5e76\u4e0d\u5f88\u96be\uff0c\u4f46\u8bfb\u9898\u4e0a\u53ef\u80fd\u4f1a\u6709\u56f0\u96be\u3002\n> \u5176\u5b9e\u6837\u4f8b\u6211\u662f\u7528**Python 3**\u624d\u770b\u61c2\u7684\u3002\u3002\u3002emmm\n\n\u9012\u5f52\u601d\u60f3\uff0c\u4ee4dp[0][i] = a[i]\uff0c\u4ee4dp[i][j] \u4e3a \u7b2ci\u5c42\u9012\u5f52\u7684\u7b2cj\u4e2a\u8fde\u7eed\uff08i+1\uff09\u4e2a\u6570\u7684 f() \u503c\uff0c\u5219\u518d\u5c06dp[i][j] \u66f4\u65b0\u4e3a dp[i][j], dp[i-1][j] \u3001dp[i-1][j-1] \u7684\u6700\u5927\u503c\u3002\u5219\u67e5\u627e l~r \u7684\u6700\u5927\u503c\u65f6\uff0c\u53ea\u9700\u8981\u8f93\u51fa dp[r-l][l-1] \u5373\u53ef\u3002\n\n## CODE :\n```\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n\nusing namespace std;\nconst int N = 5100;\n\nint m,n,a[N];\nint xor_sum[N][N];\n\nvoid work_first() {\n\tfor(int i = 2 ; i <= n ; i++) {\n\t\tfor(int j = i ; j <= n ; j++) {\n\t\t\txor_sum[i][j] = xor_sum[i - 1][j - 1] ^ xor_sum[i - 1][j];\n\t\t}\n\t}\n\tfor(int i = 1 ; i <= n ; i++) {\n\t\tfor(int j = i ; j <= n ; j++) {\n\t\t\tint xor_num = max(xor_sum[i - 1][j - 1] , xor_sum[i - 1][j]);\n\t\t\txor_sum[i][j] = max(xor_sum[i][j] , xor_num);\n\t\t}\n\t}\n}\nvoid check_them() {\n\tscanf(\"%d\",&m);\n\tfor(int i = 1 ; i <= m ; i++) {\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\tint ans = xor_sum[r - l + 1][r];\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n\nint main() {\n\tfreopen(\"function.in\",\"r\",stdin);\n\tfreopen(\"function.out\",\"w\",stdout);\n\tscanf(\"%d\",&n);\n\tfor(int i = 1 ; i <= n ; i++) {\n\t\tscanf(\"%d\",&a[i]);\n\t\txor_sum[1][i] = a[i];\n\t}\n\twork_first();//\u9884\u5904\u7406\n\tcheck_them();//\u67e5\u8be2\n\treturn 0;\n}\n\n```",
        "postTime": 1536239966,
        "uid": 54879,
        "name": "Law_Aias",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF983B \u3010XOR-pyramid\u3011"
    }
]