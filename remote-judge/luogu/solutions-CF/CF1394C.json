[
    {
        "content": "\u9996\u5148\uff0c\u6211\u4eec\u5173\u6ce8\u4e00\u4e0b\u201c\u76f8\u4f3c\u201d\u662f\u4ec0\u4e48\u610f\u601d\uff1a\u5b83\u7b49\u4ef7\u4e8e\uff0c\u4e24\u4e2a\u5b57\u7b26\u4e32\u4e2d `B` \u548c `N` \u7684\u6570\u91cf\u5206\u522b\u76f8\u540c\u3002\n\n\u663e\u7136\u5730\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u6bcf\u6b21\u64cd\u4f5c\uff0c\u76f8\u5f53\u4e8e\u7ed9\u5b57\u7b26\u4e32\u52a0\u6216\u51cf\u4e00\u4e2a `B` \u6216 `N` \u6216`BN`\u3002\n\n\u628a\u6bcf\u4e2a\u5b57\u7b26\u4e32\u4e2d `B` \u7684\u4e2a\u6570\u4f5c\u4e3a\u6a2a\u5750\u6807\uff0c`N` \u7684\u4e2a\u6570\u4f5c\u4e3a\u7eb5\u5750\u6807\uff0c\u627e\u5230\u5176\u5bf9\u5e94\u70b9\u3002\n\n\u90a3\u4e48\uff0c\u6bcf\u6b21\u64cd\u4f5c\uff0c\u5c31\u76f8\u5f53\u4e8e\u628a\u8fd9\u4e2a\u70b9\u7684\u4f4d\u7f6e\u5f80\u5de6\u6216\u53f3\u6216\u4e0a\u6216\u4e0b\u6216\u53f3\u4e0a\u6216\u5de6\u4e0b\u79fb\u52a8\u4e00\u6b65\uff0c\u5982\u4e0b\u56fe\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/72611aky.png)\n\n\u7531\u4e8e\u4e24\u4e2a\u70b9\u90fd\u64cd\u4f5c\u548c\u4ec5\u64cd\u4f5c\u4e00\u4e2a\u70b9\u6ca1\u6709\u533a\u522b\uff0c\u56e0\u6b64\uff0c\u7b49\u4ef7\u4e8e\u6211\u4eec\u8981\u627e\u5230\u4e00\u4e2a\u70b9 $T$\uff0c\u5176\u5230 $n$ \u4e2a\u70b9\u7684\u201c\u8ddd\u79bb\u201d\u7684\u6700\u5927\u503c\u6700\u5c0f\u3002\n\n\u663e\u7136\u60f3\u5230\u4e8c\u5206\uff0c\u56e0\u6b64\u53ea\u9700\u8981\u5224\u65ad\u8ddd\u79bb $n$ \u4e2a\u70b9 $l$ \u7684\u533a\u57df\u6709\u6ca1\u6709\u4ea4\u96c6\u5373\u53ef\u3002\n\n\u89c2\u5bdf\u53ef\u77e5\uff0c\u8fd9\u4e2a\u533a\u57df\u957f\u4e0b\u9762\u8fd9\u6837\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ral9cxsl.png)\n\n\u5982\u4f55\u9650\u5b9a\u8fd9\u4e2a\u533a\u57df\u5462\uff1f\u7531\u4e8e\u5b83\u662f\u51f8\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u7ebf\u6027\u89c4\u5212\u63cf\u8ff0\uff0c\u5982\u4e0b\u56fe\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/s6ctcmbz.png)\n\n\u5373\u53ef\u5f97\u5230\u516d\u4e2a\u9650\u5236\u6761\u4ef6\uff1a\n$$\\begin{cases}x\\le x_0+l\\\\x \\ge x_0-l\\\\y\\le y_0+l\\\\y\\ge y_0-l\\\\x-y \\le x_0-y_0+l\\\\x-y \\ge x_0-y_0-l\\end{cases}$$\n\n\u5c06 $n$ \u4e2a\u9650\u5236\u6761\u4ef6\u53d6\u4ea4\u96c6\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230 $x,y,x-y$ \u5206\u522b\u7684\u53d6\u503c\u8303\u56f4\u3002\n\n\u5047\u8bbe $x\\in[xi,xa],y\\in[yi,ya],x-y\\in[zi,za]$\uff08\u8fd9\u91cc $i,a$ \u5206\u522b\u662f $\\min,\\max$ \u7684\u7b80\u5199\uff09\uff0c\u90a3\u4e48\uff1a\n\n- \u4e09\u4e2a\u533a\u95f4\u5982\u679c\u6709\u4efb\u610f\u4e00\u4e2a\u4e3a\u7a7a\uff0c\u5219\u4e0d\u6210\u7acb\n- \u5047\u5982\u4e09\u4e2a\u90fd\u975e\u7a7a\uff0c\u5219\u82e5 $[xi-ya,xa-yi]$ \u4e0e $[zi,za]$ \u4e0d\u76f8\u4ea4\u5219\u4e0d\u6210\u7acb\uff0c\u5426\u5219\u6210\u7acb\u3002\n\n\u73b0\u5728\u53ea\u9700\u8981\u6784\u9020\u7b54\u6848\u4e86\u3002\n\n\u5047\u8bbe\u6211\u4eec\u5982\u4e0a\u6c42\u51fa\u4e86 $x,y,x-y$ \u7684\u8303\u56f4\uff0c\u90a3\u4e48\u663e\u7136\u6709 $x \\in[yi+zi,ya+za]$\uff0c\u4e0e $[xi,xa]$ \u53d6\u4ea4\u96c6\u540e\u6c42\u51fa $x$ \u7684\u4e00\u4e2a\u503c\uff0c\u7136\u540e\u4fbf\u6709 $y\\in[x-za,x-zi]$\uff0c\u4e0e $[yi,ya]$ \u53d6\u4ea4\u96c6\u540e\u6c42\u51fa  $y$ \u7684\u4e00\u4e2a\u503c\uff0c\u5373\u53ef\u3002\n\n\u4e8e\u662f\u8fd9\u9898\u5c31\u505a\u5b8c\u4e86\u3002\u4ee3\u7801\u89c1 [Codeforces submission 89750872](https://codeforces.com/contest/1394/submission/89750872)\uff08\u4e3b\u7ad9\u4e0a\u4e0d\u53bb\u8bf7\u6362\u6210\u955c\u50cf\u7ad9\u8bd5\u8bd5\uff09\u3002\n\n",
        "postTime": 1597288427,
        "uid": 130151,
        "name": "WYXkk",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1394C \u3010Boboniu and String\u3011"
    },
    {
        "content": "orz qyc\n\n\u4e24\u4e2a\u4e32\u76f8\u4f3c\u5b9e\u9645\u4e0a\u662f\u4e24\u4e2a\u5b57\u7b26\u4e32 'N' \u548c 'B' \u7684\u6570\u91cf\u4e00\u81f4\u3002\n\n\u8bbe $s_i$ \u6709 $x_i$ \u4e2a 'N'\uff0c$y_i$ \u4e2a 'B'\uff0c$t$ \u6709 $x$ \u4e2a 'N'\uff0c$y$ \u4e2a 'B'\u3002\n\n\u5206\u7c7b\u8ba8\u8bba\u4e00\u4e0b $dist(s,t)$ \u5728 $x,x_i$ \u4ee5\u53ca $y,y_i$ \u5927\u5c0f\u5173\u7cfb\u4e0d\u540c\u7684\u56db\u79cd\u60c5\u51b5\u4e0b\u7684\u53d6\u503c\u3002\n\n\u53d1\u73b0\u56db\u79cd\u60c5\u51b5\u5206\u522b\u4e3a\uff1a\n\n$x-y-x_i+y_i,-(x-y)+x_i-y_i,\\max(x_i-x,y_i-y),\\max(x-x_i,y-y_i)$\n\n\u5bf9\u51fa\u73b0\u7684\u516d\u4e2a\u5f0f\u5b50\u6c42 $\\max$ \u6070\u597d\u4e3a\u7b54\u6848\uff0c\u5177\u4f53\u4e3a\u4f55\u540c\u6837\u53ef\u4ee5\u5206\u7c7b\u8ba8\u8bba\u56db\u79cd\u60c5\u51b5\u3002\n\n\u4e8c\u5206\u7b54\u6848\u8f6c\u5224\u5b9a\uff0c\u5c31\u53d8\u6210\u8981\u6c42 $\\max$ \u91cc\u9762\u516d\u4e2a\u503c\u90fd $\\geq mid$\u3002\n\n\u53d1\u73b0\u5b9e\u9645\u4e0a\u662f\u5bf9 $x,y,x-y$ \u7684\u53d6\u503c\u8303\u56f4\u4f5c\u51fa\u9650\u5236\u3002\n\n\u540e\u9762\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u7b97\u51fa\u5404\u81ea\u7684\u53d6\u503c\u8303\u56f4\uff0c\u7136\u540e\u770b\u524d\u4e24\u9879\u4e0d\u7b49\u5f0f\u7684\u5dee\u51fa\u6765\u7684\u8303\u56f4\u662f\u5426\u548c\u540e\u4e00\u9879\u7684\u8303\u56f4\u6709\u4ea4\u5373\u53ef\uff0c\u6784\u9020\u65b9\u6848\u679a\u4e3e\u4e2a $x$ \u968f\u4fbf\u600e\u4e48\u6784\u9020\u90fd\u53ef\u3002\n\n\u5176\u5b9e\u5206\u7c7b\u8ba8\u8bba\u6709\u5f88\u591a\u7ec6\u8282\uff0c\u4f46\u662f\u8fd9\u91cc\u4ec5\u7ed9\u51fa\u4e3b\u8981\u601d\u8def\u4e0d\u5546\u8ba8\u7ec6\u8282\u90e8\u5206\u3002\n\n```cpp\n//Code by do_while_true\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<vector>\ntypedef long long ll;\ntemplate <typename T> T Max(T x, T y) { return x > y ? x : y; }\ntemplate <typename T> T Min(T x, T y) { return x < y ? x : y; }\ntemplate <typename T> T Abs(T x) { return x < 0 ? -x : x; }\ntemplate <typename T> T chkmax(T &x, T y) { return x = x > y ? x : y; }\ntemplate <typename T>\nT &read(T &r) {\n\tr = 0; bool w = 0; char ch = getchar();\n\twhile(ch < '0' || ch > '9') w = ch == '-' ? 1 : 0, ch = getchar();\n\twhile(ch >= '0' && ch <= '9') r = (r << 3) + (r <<1) + (ch ^ 48), ch = getchar();\n\treturn r = w ? -r : r;\n}\nconst int N = 300010;\nconst int INF = 100000000;\nint n, a[N], b[N];\n//a:N  b:B\nchar ch[N];\nbool check(int x) {\n\tint l1, r1, l2, r2, l3, r3;\n\tl1 = -INF, r1 = INF; l2 = 0, r2 = INF; l3 = 0; r3 = INF;\n\tfor(int i = 1; i <= n; ++i) {\n\t\tl1 = Max(l1, a[i]-b[i]-x);\n\t\tr1 = Min(r1, a[i]-b[i]+x);\n\t\tl2 = Max(l2, a[i]-x);\n\t\tr2 = Min(r2, a[i]+x);\n\t\tl3 = Max(l3, b[i]-x);\n\t\tr3 = Min(r3, b[i]+x);\n\t}\n\tif(l2 < 0 || l3 < 0) return 0;\n\tif(l1 > r1 || l2 > r2 || l3 > r3) return 0;\n\tint l4 = l2 - r3, r4 = r2 - l3;\n\treturn r1 >= l4 && l1 <= r4;\n}\nsigned main() { //freopen(\"in.txt\", \"r\", stdin);freopen(\"out.txt\", \"w\", stdout);\n\tread(n);\n\tif(n == 1) {\n\t\tscanf(\"%s\", ch+1);\n\t\tputs(\"0\");\n\t\tprintf(\"%s\\n\", ch+1);\n\t\treturn 0;\n\t}\n\tfor(int i = 1; i <= n; ++i) {\n\t\tscanf(\"%s\", ch+1);\n\t\tint len = std::strlen(ch+1);\n\t\tfor(int j = 1; j <= len; ++j)\n\t\t\tif(ch[j] == 'N') ++a[i];\n\t\t\telse ++b[i];\n\t}\n\tint l = 0, r = INF, mid, ans = 0;\n\twhile(l <= r) {\n\t\tmid = (l + r) >> 1;\n\t\tif(check(mid)) ans = mid, r = mid-1;\n\t\telse l = mid+1;\n\t}\n\tprintf(\"%d\\n\", ans);\n\tint l1, r1, l2, r2, l3, r3;\n\tl1 = -INF, r1 = INF; l2 = 0, r2 = INF; l3 = 0; r3 = INF;\n\tfor(int i = 1; i <= n; ++i) {\n\t\tl1 = Max(l1, a[i]-b[i]-ans);\n\t\tr1 = Min(r1, a[i]-b[i]+ans);\n\t\tl2 = Max(l2, a[i]-ans);\n\t\tr2 = Min(r2, a[i]+ans);\n\t\tl3 = Max(l3, b[i]-ans);\n\t\tr3 = Min(r3, b[i]+ans);\n\t}\n\tint l4 = l2 - r3, r4 = r2 - l3;\n\tl = Max(l1, l4); r = Min(r1, r4);\n\tfor(int i = l2; i <= r2; ++i) {\n\t\tint _l = i - r3, _r = i - l3;\n\t\tif(Max(_l, l) <= Min(r, _r)) {\n\t\t\tint p = Max(_l, l);\n\t\t\tif(i || (i-p)) {\n\t\t\t\tfor(int j = 1; j <= i-p; ++j) printf(\"B\");\n\t\t\t\tfor(int j = 1; j <= i; ++j) printf(\"N\");\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tp = Min(r, _r);\n\t\t\t\tif(i || (i-p)) {\n\t\t\t\t\tfor(int j = 1; j <= i-p; ++j) printf(\"B\");\n\t\t\t\t\tfor(int j = 1; j <= i; ++j) printf(\"N\");\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1626104015,
        "uid": 223298,
        "name": "do_while_true",
        "ccfLevel": 8,
        "title": "\u300c\u9898\u89e3\u300dCodeforces 1394C Boboniu and String"
    },
    {
        "content": "### \u524d\u8a00\n\u6709\u6bb5\u65f6\u95f4\u6ca1\u5199\u9898\u89e3\u4e86\u3002\n\n### \u5206\u6790\n\u6ce8\u610f\u5230\u76f8\u4f3c\u4e8b\u5b9e\u4e0a\u6307\u7684\u662f $\\texttt{N}$ \u7684\u4e2a\u6570\u4e0e $\\texttt{B}$ \u7684\u4e2a\u6570\u5206\u522b\u76f8\u7b49\uff0c\u4e0e\u5b57\u6bcd\u987a\u5e8f\u65e0\u5173\u3002\n\n\u53c8\u6ce8\u610f\u5230\u4efb\u610f\u65f6\u523b\u53ea\u8981\u5e8f\u5217\u4e2d\u540c\u65f6\u5b58\u5728 $\\texttt{N}$ \u548c $\\texttt{B}$\uff0c\u5c31\u53ef\u4ee5\u540c\u65f6\u5220\u53bb\u4e00\u4e2a $\\texttt{N}$ \u4e0e\u4e00\u4e2a $\\texttt{B}$\u3002\u4e8e\u662f\u64cd\u4f5c\u4e8b\u5b9e\u4e0a\u4e5f\u4e0e\u5b57\u6bcd\u987a\u5e8f\u65e0\u5173\u3002\n\n\u4e8e\u662f\u53ef\u4ee5\u628a\u4e00\u4e2a\u5e8f\u5217\u7528\u4e8c\u5143\u7ec4 $(x,y)$ \u8868\u793a\uff0c\u5176\u4e2d $x$ \u4e3a $\\texttt{N}$ \u7684\u4e2a\u6570\uff0c$y$ \u4e3a $\\texttt{B}$ \u7684\u4e2a\u6570\u3002\n\n\u5355\u8c03\u6027\u5f88\u660e\u6717\uff0c\u8003\u8651\u4e8c\u5206\u7b54\u6848 $ans$\u3002\n\n\u8003\u8651\u6c42\u51fa\u6bcf\u4e2a\u5e8f\u5217\u901a\u8fc7\u5728\u7b54\u6848\u8303\u56f4\u7684\u6b65\u6570\u5185\u53ef\u4ee5\u751f\u6210\u7684\u5e8f\u5217 $(x',y')$ \u7684\u96c6\u5408\uff0c\u518d\u6c42\u51fa\u6240\u6709\u5e8f\u5217\u751f\u6210\u96c6\u5408\u7684\u4ea4\u96c6\u4ee5\u5224\u65ad\u548c\u6784\u9020\u89e3\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e00\u7ef4\uff0c\u504f\u79fb\u91cf\u4e0d\u4f1a\u8d85\u8fc7 $ans$\u3002\u540c\u65f6\u7531\u4e8e\u4e24\u7ef4\u6bcf\u4e00\u6b65\u504f\u79fb\u65b9\u5411\u4e0d\u80fd\u76f8\u53cd\uff0c\u4e24\u7ef4\u7684\u5dee\u504f\u79fb\u91cf\u4e5f\u4e0d\u4f1a\u8d85\u8fc7 $ans$\u3002\u53ef\u4ee5\u53d1\u73b0\u6761\u4ef6\u662f\u5145\u8981\u7684\uff0c\u540c\u65f6\u7531\u4e8e\u662f\u7ebf\u6027\u89c4\u5212\u7684\u7ea6\u675f\u5f62\u5f0f\uff0c\u901a\u8fc7\u51e0\u4f55\u8868\u793a\u53ef\u4ee5\u76f4\u89c2\u7406\u89e3\u3002\n\n\u56e0\u6b64\u5c06\u6bcf\u4e00\u7ef4\u7684\u5408\u6cd5\u533a\u95f4\u6c42\u4ea4\uff0c\u5dee\u504f\u79fb\u91cf\u7684\u5408\u6cd5\u533a\u95f4\u6c42\u4ea4\uff0c\u518d\u5224\u65ad\u5728\u4e24\u7ef4\u5408\u6cd5\u7684\u60c5\u51b5\u4e0b\u662f\u5426\u5b58\u5728\u5408\u6cd5\u7684\u5dee\u504f\u79fb\u91cf\u3002\u82e5\u6089\u6570\u6ee1\u8db3\uff0c\u5219\u6839\u636e\u6761\u4ef6\u6784\u9020\u5408\u6cd5\u65b9\u6848\u3002\n\n### \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define loop(i,from,to) for(int i=(from);i<=(to);++i)\nusing namespace std;\nconst int maxn=5e5,inf=0x3f3f3f3f;\nint n,len,l,r,ans,ans0,ans1,cnt[maxn+1][2];\nchar s[maxn+1];\nbool check(int now){\n\tint lx=-inf,rx=inf,ly=-inf,ry=inf,lxy=-inf,rxy=inf;\n\tloop(i,1,n)\n\t\tlx=max(lx,cnt[i][0]-now),rx=min(rx,cnt[i][0]+now),ly=max(ly,cnt[i][1]-now),ry=min(ry,cnt[i][1]+now),\n\t\tlxy=max(lxy,cnt[i][0]-cnt[i][1]-now),rxy=min(rxy,cnt[i][0]-cnt[i][1]+now);\n\tif(rx<lx||ry<ly||rxy<lxy||min(rx-ly,rxy)<max(lx-ry,lxy))return false;\n\tans0=min(ry+rxy,rx),ans1=min(ans0-lxy,ry);\n\treturn true;\n}\nint main(){\n\tscanf(\"%d\",&n),r=n;\n\tloop(i,1,n){\n\t\tscanf(\"%s\",s+1),r+=len=strlen(s+1);\n\t\tloop(j,1,len)++cnt[i][s[j]=='B'];\n\t}\n\twhile(l<=r){\n\t\tint mid=(l+r)/2;\n\t\tif(check(mid))r=mid-1,ans=mid;\n\t\telse l=mid+1;\n\t}\n\tprintf(\"%d\\n\",ans);\n\tloop(i,1,ans0)putchar('N');\n\tloop(i,1,ans1)putchar('B');\n\treturn 0;\n}\n```",
        "postTime": 1636640894,
        "uid": 67952,
        "name": "\u767d\u9c9f",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1394C Boboniu and String"
    },
    {
        "content": "\u9996\u5148\uff0c\u76f8\u4f3c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u4e32 `B` \u5b57\u7b26\u7684\u6570\u91cf\u548c `N` \u5b57\u7b26\u6570\u91cf\u5747\u4e0e\u53e6\u4e00\u4e2a\u4e32\u76f8\u540c\u3002\n\n\u8bbe\u4e00\u4e2a\u4e32\u7684 `B` \u5b57\u7b26\u6570\u91cf\u662f $x$\uff0c`N` \u5b57\u7b26\u6570\u91cf\u662f $y$\u3002\n\n\u5219\u53ef\u4ee5\u8fdb\u884c\u5982\u4e0b $6$ \u79cd\u64cd\u4f5c\uff1a\n\n$1$\u3001$(x,y)\\rightarrow (x+1,y)$\n\n$2$\u3001$(x,y)\\rightarrow (x-1,y)$\n\n$3$\u3001$(x,y)\\rightarrow (x,y+1)$\n\n$4$\u3001$(x,y)\\rightarrow (x,y-1)$\n\n$5$\u3001$(x,y)\\rightarrow (x+1,y+1)$\n\n$6$\u3001$(x,y)\\rightarrow (x-1,y-1)$ \n\n\u6211\u4eec\u4e0d\u59a8\u4e8c\u5206\u7b54\u6848\uff0c\u5f97\u51fa\u4e00\u4e2a\u7b54\u6848 $len$\u3002\n\n\u90a3\u4e48\u6211\u4eec\u8bbe $t$ \u4e32\u6709 $x'$ \u4e2a `B` \u5b57\u7b26\uff0c$y'$ \u4e2a `N` \u5b57\u7b26\u3002\n\n\u90a3\u4e48\u663e\u7136\u6709\u4ee5\u4e0b\u4e0d\u7b49\u5f0f\u7ec4\uff1a\n\n$$x-len\\le x'\\le x+len$$\n$$y-len\\le y'\\le y+len$$\n$$x',y'\\ge 0$$\n$$x'>0\\text{ or } y'>0$$\n\n\u5176\u5b9e\u8fd8\u6709\u4e00\u4e2a\u4e0d\u7b49\u5f0f\u662f $x-y-len\\le x'-y'\\le x-y+len$\u3002\n\n\u8fd9\u4e2a\u5176\u5b9e\u4e5f\u5f88\u597d\u89e3\u91ca\uff0c\u56e0\u4e3a\u6ca1\u6709\u4e00\u52a0\u4e00\u51cf\u64cd\u4f5c\uff0c\u5bfc\u81f4\u4e8c\u8005\u53d8\u5316\u91cf\u6700\u591a\u53ea\u80fd\u76f8\u5dee $len$\u3002\n\n\u6211\u4eec\u5c06\u8fd9\u4e9b\u4e0d\u7b49\u5f0f\u53d6\u4ea4\u96c6\uff0c\u5e76\u5224\u65ad\u6709\u6ca1\u6709\u7a7a\u96c6\u3002\n\n\u5982\u679c\u6709\uff0c\u90a3\u4e48\u8bf4\u660e\u65e0\u89e3\u3002\n\n\u5982\u679c\u6ca1\u6709\uff0c\u90a3\u4e48\u8fd8\u6ca1\u6709\u7ed3\u675f\uff0c\u56e0\u4e3a $x-y$ \u7684\u53d6\u503c\u8303\u56f4\u4e5f\u4f1a\u5f71\u54cd\u7740 $x$ \u548c $y$ \u7684\u53d6\u503c\u3002\n\n\u663e\u7136\u6211\u4eec\u53ef\u4ee5\u8ba9 $x$ \u6216 $y$ \u53d6\u5230\u6700\u5de6\u8fb9\u7684\u8fb9\u754c\u3002\u7136\u540e\u5224\u65ad\u6709\u6ca1\u6709\u89e3\u3002\n\n\u5982\u679c\u90fd\u6ca1\u6709\uff0c\u8bf4\u660e\u786e\u5b9e\u65e0\u89e3\u3002\n\n\u7136\u540e\u5c31\u8f93\u51fa\u7b54\u6848\u548c\u65b9\u6848\u5c31\u884c\u4e86\u3002\n\n\u5173\u4e8e\u4e8c\u5206\u8fb9\u754c\uff1a\u7531\u4e8e\u6700\u574f\u7684\u60c5\u51b5\u4e0b\u80af\u5b9a\u662f\u5c06\u6574\u4e2a\u4e32\u5168\u5220\u9664\u7136\u540e\u518d\u52a0\u4e00\u4e2a\u5b57\u7b26\uff0c\u6240\u4ee5\u4e8c\u5206\u8fb9\u754c\u662f $\\max\\{|s_i|\\}+1$\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(n\\log \\max\\{|s_i|\\})$\u3002\n\n# AC code\n```cpp\nstruct point{\n\tint x,y;\n\tpoint(){\n\t\tx=y=0;\n\t}\n}p[300005];\nint n;\nbool check(int len,bool type,char ch){\n\tint lx=ch=='B',rx=inf,ly=ch=='N',ry=inf,ldiff=-inf,rdiff=inf,i;\n\tfor(i=1;i<=n;i++){\n\t\tlx=max(lx,p[i].x-len);\n\t\trx=min(rx,p[i].x+len);\n\t\tly=max(ly,p[i].y-len);\n\t\try=min(ry,p[i].y+len);\n\t\tldiff=max(ldiff,p[i].x-p[i].y-len);\n\t\trdiff=min(rdiff,p[i].x-p[i].y+len);\n\t}\n\tif(lx>rx||ly>ry||ldiff>rdiff) return 0;\n\tif(min(rx-ly,rdiff)<max(lx-ry,ldiff)) return 0;\n\tif(type){\n\t\tprint(len),enter;\n\t\tint diff=max(lx-ry,ldiff),y=max(ly,lx-diff),x=y+diff;\n\t\tfor(i=1;i<=x;i++) putchar('B');\n\t\tfor(i=1;i<=y;i++) putchar('N');\n\t}\n\treturn 1;\n}\nint main(){\n\tread(n);\n\tint i,j;\n\tfor(i=1;i<=n;i++){\n\t\tstring s;\n\t\tcin>>s;\n\t\tfor(j=0;j<sz(s);j++){\n\t\t\tif(s[j]=='B') p[i].x++;\n\t\t\telse p[i].y++;\n\t\t}\n\t}\n\tint l=0,r=500001,ans,ans1;\n\twhile(l<=r){\n\t\tint mid=l+r>>1;\n\t\tif(check(mid,0,'B')) ans=mid,r=mid-1;\n\t\telse l=mid+1;\n\t}\n\tl=0,r=500001;\n\twhile(l<=r){\n\t\tint mid=l+r>>1;\n\t\tif(check(mid,0,'N')) ans1=mid,r=mid-1;\n\t\telse l=mid+1;\n\t}\n\tif(ans<ans1) check(ans,1,'B');\n\telse check(ans1,1,'N');\n\treturn 0;\n}\n```",
        "postTime": 1633606173,
        "uid": 80614,
        "name": "ZCPB",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1394C"
    }
]