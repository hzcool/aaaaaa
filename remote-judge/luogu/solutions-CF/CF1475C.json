[
    {
        "content": "### \u9898\u610f\n\u6709 $a$ \u4e2a\u7537\u5b69\uff0c$b$ \u4e2a\u5973\u5b69\uff0c\u7ec4\u6210\u4e86 $k$ \u5bf9\u821e\u4f34\uff0c\u95ee\u9009\u51fa\u8fd9 $k$ \u5bf9\u821e\u4f34\u4e2d\u7684\u4e24\u5bf9\u4e14\u4e24\u5bf9\u821e\u4f34\u4e2d\u7684 $4$ \u4e2a\u4eba\u4e92\u4e0d\u76f8\u540c\u7684\u65b9\u6cd5\u6570\u3002\n### \u5206\u6790\n\u5047\u8bbe\u7b2c $i$ \u5bf9\u821e\u4f34\u7531\u7537\u5b69 $a[i]$ \u548c\u5973\u5b69 $b[i]$ \u7ec4\u6210\uff0c\u7528 $cnta[a[i]]$ \u548c $cntb[b[i]]$ \u5206\u522b\u8bb0\u5f55 $a[i]$ \u53f7\u7537\u751f\u51fa\u73b0\u7684\u6b21\u6570\u548c $b[i]$ \u53f7\u5973\u751f\u51fa\u73b0\u7684\u6b21\u6570\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1ibcm30v.png?x-oss-process=image/resize,m_lfit,h_425,w_562)\n\n\u6839\u636e\u4e0a\u56fe\uff0c\u4e0d\u96be\u53d1\u73b0\uff0c\u4e0e\u7b2c $i$ \u5bf9\u821e\u4f34\u80fd\u7ec4\u6210\u7b26\u5408\u8981\u6c42\u7684\u4e24\u5bf9\u821e\u4f34\u7684\u4e2a\u6570\u5c31\u662f\u603b\u821e\u4f34\u6570\u51cf\u53bb\u548c $a[i]$ \u91cd\u590d\u7684\u3001\u548c $b[i]$ \u91cd\u590d\u7684\uff0c\u518d\u52a0\u4e0a $a[i]$ , $b[i]$ \u90fd\u91cd\u590d\u7684\u4e00\u5bf9 $($ \u56e0\u4e3a\u91cd\u590d\u51cf\u4e86 $)$\uff0c\u5373 $k-cnta[a[i]]-cntb[b[i]]+1$\uff0c\u6700\u540e\u56e0\u4e3a\u6bcf\u5bf9\u821e\u4f34\u90fd\u91cd\u590d\u8ba1\u7b97\u4e86\u4e00\u904d\uff0c\u6240\u4ee5\u7b54\u6848\u8981\u9664\u4ee5 $2$\u3002\n\n### \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n#define mem(a,b) memset(a,b,sizeof(a))\nusing namespace std;\ntypedef long long ll;\nconst int inf=1e9+7;\nconst int MAXN=2e5+7;\nll T,n,m,k,a[MAXN],b[MAXN],cnta[MAXN],cntb[MAXN],ans;\nint main()\n{\n\t//freopen(\".in\",\"r\",stdin);\n\t//freopen(\".out\",\"w\",stdout);\n\tscanf(\"%lld\",&T);\n\twhile(T--)\n\t{\n\t\tmem(cnta,0);\n\t\tmem(cntb,0);\n\t\tans=0;\n\t\tscanf(\"%lld%lld%lld\",&n,&m,&k);\n\t\tll i;\n\t\tfor(i=0;i<k;i++)\n\t\t{\n\t\t\tscanf(\"%lld\",&a[i]);\n\t\t\tcnta[a[i]]++; //cnta[i]\u8868\u793ai\u53f7\u7537\u751f\u5728\u821e\u4f34\u4e2d\u51fa\u73b0\u7684\u6b21\u6570\n\t\t}\n\t\tfor(i=0;i<k;i++)\n\t\t{\n\t\t\tscanf(\"%lld\",&b[i]);\n\t\t\tcntb[b[i]]++; //cntb[i]\u8868\u793ai\u53f7\u5973\u751f\u5728\u821e\u4f34\u4e2d\u51fa\u73b0\u7684\u6b21\u6570\n\t\t}\n\t\tfor(i=0;i<k;i++)\n\t\t{\n\t\t\tans+=k-cnta[a[i]]-cntb[b[i]]+1; //\u8ba1\u7b97\u548c\u6bcf\u4e00\u5bf9\u821e\u4f34\u80fd\u7ec4\u62102\u5bf9\u821e\u4f34\u7684\u821e\u4f34\u6570\n\t\t}\n\t\tans/=2; //\u56e0\u4e3a\u6709\u91cd\u590d\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1620551811,
        "uid": 225991,
        "name": "_lxy_",
        "ccfLevel": 6,
        "title": "CF1475C Ball in Berland \u9898\u89e3"
    },
    {
        "content": "~~\u770b\u4e86\u5927\u69825\u904d\u624d\u770b\u61c2\u9898\u610f\u3002~~\n\n\u7b2c$i$\u4e2a\u7537\u751f\u7528$a[i].x$\u8868\u793a\uff0c\u7b2c$i$\u4e2a\u5973\u751f\u7528$a[i].y$\u8868\u793a\u3002\n\n\u7528$vis$_$a[i]$\u8868\u793a$i$\u524d\u9762\u51fa\u73b0\u8fc7\u591a\u5c11\u6b21$a[i].x$\n  \n\u7528$vis$_$b[i]$\u8868\u793a$i$\u524d\u9762\u51fa\u73b0\u8fc7\u591a\u5c11\u6b21$a[i].y$\n\n\u6211\u4eec\u80fd\u9009\u7684\u5c31\u662f\u4e0d\u91cd\u590d\u7684\uff0c\u5373$vis[a[i].x]$\u548c$vis[a[i].y]$\u4e3a$0$\u7684\u3002\n\n\u518d\u7528\u5bb9\u65a5\u539f\u7406\u3002\n```\nint p=vis_a[a[i].x];\nint q=vis_b[a[i].y];\nif(p+q==0) ans+=(i-1);\t\t\nelse ans=ans+(i-1)-(p+q)+tot;\n```\n\n$i-1$\u662f\u56e0\u4e3a\u524d\u9762\u7684\u6570\u90fd\u80fd\u9009\uff0c$p$\u548c$q$\u662f\u4e0d\u80fd\u9009\u7684\n\n$tot$\u8868\u793a\u7684\u662f\u91cd\u590d\u8ba1\u7b97\u7684\uff0c\u5373$p$\u548c$q$\u7684\u53ef\u80fd\u8868\u793a\u4e86\u540c\u6837\u7684\u9700\u8981\u53bb\u6389\u7684\u6570\uff0c\u90a3\u6837\u4f1a\u7b97\u4e24\u904d\uff0c\u6240\u4ee5\u8981\u52a0\u4e0a\u4e00\u4e2a\u503c\uff0c\u5904\u7406\u65b9\u5f0f\u53ef\u89c1\u4ee3\u7801\u3002\n\n\n\n```\n#include<bits/stdc++.h>\n#define MN 1000005\n#define ll long long\nusing namespace std;\nstruct node{\n\tint x,y;\n}a[MN];\nint vis_a[MN],vis_b[MN];\nint main(){\n\tint t;\n\tscanf(\"%d\",&t);\n\twhile(t--){\n\t\tint x,y,n;\n\t\tscanf(\"%d%d%d\",&x,&y,&n);\n\t\tfor(int i=1;i<=n;++i)\n\t\t\tscanf(\"%d\",&a[i].x);\n\t\tfor(int i=1;i<=n;++i)\n\t\t\tscanf(\"%d\",&a[i].y);\n\t\tfor(int i=1;i<=max(x,y);++i)\n\t\t\tvis_a[i]=vis_b[i]=0;\n\t\tll ans=0;\n\t\tint tot=0;\n\t\tfor(ll i=1;i<=n;++i){\n\t\t\tif(!(a[i].x==a[i-1].x&&a[i].y==a[i-1].y))\n\t\t\t\ttot=0;\n\t\t\tint p=vis_a[a[i].x];\n\t\t\tint q=vis_b[a[i].y];\n\t\t\tif(p+q==0) ans+=(i-1);\t\t\n\t\t\telse ans=ans+(i-1)-(p+q)+tot;\n\t\t\tvis_a[a[i].x]++;\n\t\t\tvis_b[a[i].y]++;\n\t\t\ttot++;\n\t\t}\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\t\n\treturn 0;\n}   \n```\n",
        "postTime": 1612776318,
        "uid": 191666,
        "name": "Cult_style",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1475C \u3010Ball in Berland\u3011"
    },
    {
        "content": "## \u9898\u89e3 CF1475C \u3010Ball in Berland\u3011\n\n### \u9898\u610f\n\n+ $k$ \u5bf9\u821e\u4f34\uff0c\u6bcf\u5bf9\u6709\u4e00\u4e2a\u7537\u5b69\u548c\u4e00\u4e2a\u5973\u5b69\uff0c\u7ed9\u51fa\u53cc\u65b9\u7684\u7f16\u53f7\uff1b\n+ \u9009\u51fa\u4e24\u5bf9\u821e\u4f34\uff0c\u8981\u6c42\u4efb\u4f55\u4eba\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0\u5728\u4e24\u5bf9\u821e\u4f34\u4e2d\uff1b\n+ \u6c42\u6709\u591a\u5c11\u79cd\u9009\u6cd5\uff1b\n+ \u591a\u7ec4\u6570\u636e\uff0c$k,\\text{\u7537\u5973\u7f16\u53f7}\\le2\\times10^5$\u3002\n\n### \u505a\u6cd5\n\n\u5bb9\u6613\u60f3\u5230\u5bf9\u4e8e\u6bcf\u5bf9\u821e\u4f34\uff0c\u5224\u65ad\u6709\u591a\u5c11\u5bf9\u821e\u4f34\u548c\u8fd9\u4e00\u5bf9\u6ca1\u6709\u91cd\u590d\u7684\u4eba\uff0c\u7edf\u8ba1\u7b54\u6848\uff0c\u6700\u540e\u9664\u4ee5 $2$\u3002\n\n\u8fd9\u4e2a\u64cd\u4f5c\u4e0d\u96be\uff0c\u53ef\u4ee5\u7528 $k$ \u51cf\u53bb\u8fd9\u4e2a\u7537\u5b69\u7684\u821e\u4f34\u4e2a\u6570\u548c\u8fd9\u4e2a\u5973\u5b69\u7684\u821e\u4f34\u4e2a\u6570\uff0c\u53ef\u4ee5\u6876\u6392\u7ef4\u62a4\uff0c\u6839\u636e\u5bb9\u65a5\u5b9a\u7406\uff0c\u5f53\u524d\u8fd9\u4e2a\u821e\u4f34\u4f1a\u88ab\u51cf\u53bb\u4e24\u6b21\uff0c\u9700\u8981\u52a0\u4e0a $1$\u3002 \n\n\u7136\u540e\u6ce8\u610f\u6700\u591a\u7684\u60c5\u51b5\u662f\u4efb\u610f\u4e24\u5bf9\u90fd\u6ca1\u6709\u91cd\u590d\uff0c\u7b54\u6848\u662f $k^2$ \u7ea7\u522b\u7684\uff0c\u4f1a\u7206 long long\uff0c\u6211 Virtual participation \u7684\u65f6\u5019\u5c31\u8fd9\u6837\u6ca1\u8c03\u51fa\u6765\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include <cstdio>\n#include <cstring>\n\nusing namespace std;\n\ntypedef long long ll;\n\nconst int N = 2e5 + 5;\n\nint boy[N], girl[N];\nint cnta[N], cntb[N];\n\nvoid run() {\n\tmemset(cnta, 0, sizeof cnta);\n\tmemset(cntb, 0, sizeof cntb);\n\tint a, b, k;\n\tscanf(\"%d%d%d\", &a, &b, &k);\n\tfor (int i = 1; i <= k; ++i) {\n\t\tscanf(\"%d\", &boy[i]);\n\t\t++cnta[boy[i]];\n\t}\n\tfor (int i = 1; i <= k; ++i) {\n\t\tscanf(\"%d\", &girl[i]);\n\t\t++cntb[girl[i]];\n\t}\n\tll ans = 0;\n\tfor (int i = 1; i <= k; ++i) {\n\t\tans += k - cnta[boy[i]] - cntb[girl[i]] + 1;\n\t}\n\tprintf(\"%lld\\n\", ans / 2);\n}\n\nint main() {\n\tint t;\n\tscanf(\"%d\", &t);\n\twhile (t--) {\n\t\trun();\n\t}\n}\n```",
        "postTime": 1612619861,
        "uid": 246014,
        "name": "Cutest_Junior",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1475C \u3010Ball in Berland\u3011"
    },
    {
        "content": "# 1.\u66b4\u529b\u679a\u4e3e $O(t \\times n^2)$ \u3002\n\u53cc\u91cd\u5faa\u73af\u679a\u4e3e\u5224\u65ad\u5373\u53ef\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nint t,n,ans,x,boy[200005],girl[200005];\nsigned main(){\n\tscanf(\"%lld\",&t);\n\twhile(t--){\n\t\tscanf(\"%lld\",&x);\n\t\tscanf(\"%lld%lld\",&x,&n);\n\t\tfor(int i=1;i<=n;i++)scanf(\"%lld\",&boy[i]);\n\t\tfor(int i=1;i<=n;i++)scanf(\"%lld\",&girl[i]);\n\t\tans=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=i+1;j<=n;j++){\n\t\t\t\tif(boy[i]!=boy[j]&&girl[i]!=girl[j])ans++;//\u679a\u4e3e\u6bcf\u4e00\u5bf9\n\t\t\t}\n\t\t}\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\treturn 0;\n}\n```\n# 2.\u6392\u5217\u7ec4\u5408+\u5bb9\u65a5\u539f\u7406 $O(t \\times n)$\u3002\n\u5148\u6c42\u51fa\u6bcf\u4e2a\u4eba\u91cd\u590d\u4e86\u51e0\u6b21\uff0c\u7136\u540e\u7528\u5c0f\u5965\u6392\u5217\u7ec4\u5408\uff0c\u6700\u540e\u51cf\u53bb\u91cd\u590d\u7684\u7ec4\u5408\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nint t,n,ans,a,b,x,boy[200005],girl[200005];\nint c(int x){               //\u6392\u5217\u7ec4\u5408\u51fd\u6570\n\treturn x*(x-1)/2;\n}\nsigned main(){\n\tscanf(\"%lld\",&t);\n\twhile(t--){\n\t\tmemset(boy,0,sizeof(boy));\n\t\tmemset(girl,0,sizeof(girl));\n\t\tscanf(\"%lld\",&a);\n\t\tscanf(\"%lld%lld\",&b,&n);\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%lld\",&x);\n\t\t\tboy[x]++;\n\t\t}\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%lld\",&x);\n\t\t\tgirl[x]++;\n\t\t}\n\t\tans=c(n);            //\u5982\u679c\u6ca1\u91cd\u590d\u7684\n\t\tfor(int i=1;i<=max(a,b);i++){\n\t\t\tif(boy[i]>=2)ans-=c(boy[i]);//\u51cf\u53bb\u91cd\u590d\u7684\n\t\t\tif(girl[i]>=2)ans-=c(girl[i]);\n\t\t}\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1612598941,
        "uid": 349824,
        "name": "WsW_",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 CF1475C \u3010Ball in Berland\u3011"
    },
    {
        "content": "### \u5ba3\u4f20\u4e00\u4e0b\u67d0\u849f\u84bb\u7684blog\n[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.bmyjacks.cn/2021/cf1475c/)\n\n# \u9898\u610f\u7406\u89e3\n\n* \u6570\u636e\u7ec4\u6570 $ T $\n* \u7537\u5b69 $ a $ \u4e2a\uff0c\u5973\u5b69 $ b $ \u4e2a\uff0c\u821e\u4f34 $ k $ \u5bf9\n\n# \u601d\u8def\n\n## \u5b58\u50a8\u6570\u636e\n\n```cpp\nvector<pair<int, int>> dancePair;\n```\n\n### \u8ba1\u7b97\u7b54\u6848\n\n#### \u65b9\u6cd5\u4e00\n\n\u671f\u671b\u5f97\u5206\uff1a20\n\n\u66b4\u529b\u679a\u4e3e\u6bcf\u4e00\u5bf9\u821e\u4f34 $ (boy_{i} - girl_{i}) $ \n\n```cpp\n register unsigned long long ans = 0;\n  for (register int i = 0; i < k - 1; ++i) {\n    for (register int j = i + 1; j < k; ++j) {\n      if ((dancePair[i].first != dancePair[j].first) and (dancePair[i].second != dancePair[j].second)) {\n        ++ans;\n      }\n    }\n  }\n  cout << ans << endl;\n```\n\n\u7ed3\u679c\u7b2c\u56db\u4e2a\u70b9 **TLE** \u4e86\uff0c\u4e00\u770b\u65f6\u95f4\u590d\u6742\u5ea6 $ O(k^{2} \\times T) $\uff0c\u96be\u9053 $ n^{2} $ \u8fc7\u767e\u4e07\u5df2\u7ecf\u4e0d\u7075\u9a8c\u4e86\uff1f\uff08\u597d\u5427\u9898\u76ee\u4e2d\u7684\u662f\u4e24\u767e\u4e07\uff09\n\n#### \u65b9\u6cd5\u4e8c\n\n\u671f\u671b\u5f97\u5206\uff1a100\n\n\u4ed4\u7ec6\u7814\u7a76\u53d1\u73b0\uff0c\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u6bcf\u4e00\u5bf9\u821e\u4f34\uff0c\u5e76\u5c06\u6240\u6709 $ k $ \u5bf9\u821e\u4f34\u4e2d\u9664\u4e86\u4e0e\u4ed6\u4eec\u6709\u76f8\u540c\u7684\u7ec4\u6210\u4ee5\u5916\u7684\u52a0\u5165\u7b54\u6848\u4e2d\u5373\u53ef\u3002\n\n\u8be6\u7ec6\u7248\uff1a \u5171 $ k $ \u5bf9\u821e\u4f34\uff0c\u9664\u53bb\u672c\u8eab\u540e\u6709 $ k - 1 $ \u5bf9\u821e\u4f34\uff0c\u5728\u5269\u4e0b\u7684 $ k - 1 $ \u5bf9\u821e\u4f34\u4e2d\uff0c\u4e0e\u9009\u62e9\u7684\u821e\u4f34\u4e2d\u7537\u751f\u76f8\u540c\u7684\u6709 $ aryBoy[boy_{choose}]  - 1 $ \u5bf9\uff0c\u4e0e\u5973\u751f\u76f8\u540c\u7684\u6709 $ aryGirl[girl_{choose}] - 1 $ \u5bf9\uff0c\u5219\u6bcf\u6b21\u679a\u4e3e\u9700\u8981\u589e\u52a0\u7684\u6570\u91cf\u4e3a\n$$\n(k - 1) - (aryBoy[boy_{choose}] - 1) - (aryGirl[girl_{choose}] - 1) \\\\\n= k - aryBoy[boy_{choose}] - aryGirl[girl_{choose}] + 1\n$$\n\n\u6b64\u65f6\u6211\u4eec\u5bf9\u6bcf\u4e00\u5bf9\u7537\u751f\u5973\u751f\u90fd\u91cd\u590d\u8ba1\u7b97\u4e86\u4e24\u6b21\uff0c\u5219\u6700\u540e\u7b54\u6848\u9700\u8981\u9664\u4ee5 $ 2 $\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $ O(k \\times T) $\n\n```cpp\nint aryBoy[MAX_K], aryGirl[MAX_K];\nfor (register int i = 0, tmp; i < k; ++i) {\n    cin >> tmp;\n    ++aryBoy[tmp];\n  }\n  for (register int i = 0, tmp; i < k; ++i) {\n    cin >> tmp;\n    ++aryGirl[tmp];\n  }\n\nregister unsigned long long ans = 0;\n  for (register int i = 0; i < k; ++i) {\n    ans += k - aryBoy[dancePair[i].first] - aryGirl[dancePair[i].second] + 1;\n  }\n  ans /= 2;\n  cout << ans << endl;\n```\n\n",
        "postTime": 1612096825,
        "uid": 384592,
        "name": "bmyjacks",
        "ccfLevel": 4,
        "title": "CF1475C-\u9898\u89e3"
    },
    {
        "content": "### \u9898\u76ee\u5730\u5740\n\n#### [CF\u539f\u9898](https://codeforces.com/contest/1475/problem/C)\n#### [\u6d1b\u8c37\u9898\u76ee](https://www.luogu.com.cn/problem/CF1475C)\n\n\n------------\n\n### \u601d\u8def\n~~$a$ \u548c $b$ \u90fd\u662f\u5e9f\u7684~~\n\n1. \u9996\u5148\u5224\u91cd\uff0c\u628a\u91cd\u590d\u7684\u90e8\u5206\u627e\u51fa\u6765\n1. \u7136\u540e\u5229\u7528\u5bb9\u65a5\u539f\u7406\uff0c\u5f97\u5230\n\n$\nsum=\\sum_{i=1}^n (k-(cnta_{ai}+cntb_{bi}-1))\n$\n\n\n\n------------\n\n### $Code$\n```cpp\n#include <cstring>\n#include <iostream>\n\nusing namespace std;\nusing ll = long long;\n\nconst int N = 2e5 + 5;\n\nint a, b, k, t;\nint a[N], b[N];\nint cnta[N], cntb[N];\nll sum;\n\nvoid in(int a[], int cnt[]) {\n  for (int i = 0; i < k; i++) {\n    cin >> a[i];\n    ++cnt[a[i]];\n  }\n}\n\nint main() {\n  cin.tie(NULL);\n  cout.tie(NULL);\n  ios_base::sync_with_stdio(NULL);\n  cin >> t;\n  while (t--) {\n    memset(cnta, 0, sizeof cnta);\n    memset(cntb, 0, sizeof cntb);\n    cin >> a >> b >> k;\n    sum = k;\n    in(a, cnta);\n    in(b, cntb);\n    for (int i = 0; i < k; i++) {\n      sum += k - cnta[a[i]] - cntb[b[i]];\n    }\n    cout << sum / 2 << endl;\n  }\n  return 0;\n}\n```\n",
        "postTime": 1611994498,
        "uid": 321290,
        "name": "un_def",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1475C \u3010Ball in Berland\u3011"
    },
    {
        "content": "# [C](https://codeforces.com/contest/1475/problem/C)\n\n### $\\mathcal{Translate}$\n\n\u5171\u6709 $a$ \u4e2a\u7537\u751f\uff0c$b$ \u4e2a\u5973\u751f\uff0c\u5176\u4e2d\u6709 $k$ \u7ec4\u7537\u5973\u613f\u610f\u7ec4\u6210\u4e00\u5bf9\u3002\u73b0\u5728\u8981\u4ece\u4e2d\u6311\u9009\u51fa\u4e24\u5bf9\u7537\u5973\uff08\u4e0d\u80fd\u91cd\u590d\uff09\uff0c\u6c42\u4e00\u5171\u6709\u591a\u5c11\u79cd\u6311\u9009\u65b9\u6cd5\u3002\n\n$a,b,k\\leq 2\\times 10^5$\n\n### $\\mathcal{Solution}$\n\n\u9996\u5148\u5148\u53bb\u91cd\u3002\u679a\u4e3e\u6bcf\u4e00\u5bf9\u4f5c\u4e3a\u7b2c\u4e00\u5bf9\uff0c\u7136\u540e\u5c31\u662f\u5269\u4e0b\u7684 $(k-1)$ \u7ec4\u4e2d\u6709\u591a\u5c11\u7ec4\u4e0d\u5305\u542b\u679a\u4e3e\u5230\u7684\u90a3\u4e00\u7ec4\u7684\u7537\u5973\u3002\u63d0\u524d\u8bb0\u5f55\u6bcf\u4e2a\u7537\u751f\u548c\u6bcf\u4e2a\u5973\u751f\u5339\u914d\u4e86\u591a\u5c11\u7ec4\uff0c\u5373\u53ef\u5feb\u901f\u6c42\u51fa\u8fd9\u4e2a\u7b54\u6848\u3002\n\n\u6700\u540e\u628a\u7b97\u51fa\u6765\u7684\u7b54\u6848\u9664\u4ee5 $2$ \u5373\u4e3a\u7b54\u6848\uff08\u56e0\u4e3a\u6bcf\u79cd\u5408\u6cd5\u7684\u5339\u914d\u88ab\u4e24\u7ec4\u7537\u5973\u5206\u522b\u8ba1\u7b97\u4e86\u4e00\u6b21\u3002\uff09\n\n### [$\\mathcal{Code}$](https://codeforces.com/contest/1475/submission/105834047)\n",
        "postTime": 1611970481,
        "uid": 223298,
        "name": "do_while_true",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1475C \u3010Ball in Berland\u3011"
    },
    {
        "content": "> \u7ed9\u51fa\u7537\u751f\u3001\u5973\u751f\u7684\u603b\u4e2a\u6570 $a,\\,b$ \u548c\u53ef\u80fd\u914d\u5bf9\u7684\u7ec4\u6570 $k$\u3002\u5176\u4e2d $(x,\\,y)$ \u4e3a\u4e00\u5bf9\uff0c$x$ \u5373\u5de6\u8fb9\u7684\u6570\u6c38\u8fdc\u8868\u793a\u7537\u751f\u7f16\u53f7\uff0c$y$ \u6c38\u8fdc\u8868\u793a\u5973\u751f\u7f16\u53f7\u3002\u8be2\u95ee\u627e\u51fa $2$ \u4e2a\u7ec4\u4e14\u5176\u4e2d\u7684\u7537\u751f\u5973\u751f\u4e0d\u91cd\u590d\u7684\u6311\u9009\u65b9\u6cd5\u6570\u3002\n\n\u5bb9\u65a5\u3002\u8bb0\u5f55\u7ec4\u4e2d\u7537\u751f\u662f $x$ \u7684\u4e2a\u6570 $cnta_x$\uff0c\u5973\u751f\u662f $y$ \u7684\u4e2a\u6570 $cntb_y$\uff0c\u4ee5\u53ca\u7ec4\u662f $(x,\\,y)$ \u7684\u4e2a\u6570 $cntt_{(x,\\,y)}$\u3002\u6bcf\u6b21\u8ba1\u7b97\u7684\u65f6\u5019\u9700\u8981\u51cf\u53bb\u7684\u503c\u5219\u4e3a $cnta_{a_i} + cntb_{b_i} - cntt_{(a_i,\\,b_i)}$\n\u3002\u522b\u5fd8\u4e86\u6700\u540e\u7684\u7b54\u6848\u9700\u8981\u9664\u4ee5 $2$\u3002\n\n\u800c\u4e14\u6211\u6ca1\u641e\u61c2\u8fd9\u4e2a $a,\\,b$ \u6709\u4ec0\u4e48\u7528\u3002\n\nupd\uff1a\u6ca1\u770b\u5230\u6bcf\u7ec4\u6700\u591a\u51fa\u73b0\u4e00\u6b21\u3002\u3002\u3002\u6240\u4ee5 $cntt_{(a_i,\\,b_i)}$ \u4e00\u5b9a\u4e3a $1$\u3002\u3002\u3002\n\n$\\text{Code}$\uff1a\n\n```cpp\n#define pii pair<int, int>\n#define W(M) while(M--)\n\nconst int N = 2e5 + 5;\n\nint x, y, k;\nint a[N], b[N], cnta[N], cntb[N];\nmap<pii, int> cntt;\nll sum;\n \nint main() {\n\tint T; cin >> T;\n\tW(T) {\n\t\tsum = 0;\n\t\tmemset(cnta, 0, sizeof cnta);\n\t\tmemset(cntb, 0, sizeof cntb);\n\t\tcntt.clear();\n\t\tqread(x, y, k);\n\t\trep(i, 1, k) {\n\t\t\tqread(a[i]);\n\t\t\t++cnta[a[i]];\n\t\t} \n\t\trep(i, 1, k) {\n\t\t\tqread(b[i]);\n\t\t\t++cntb[b[i]];\n\t\t\t++cntt[mp(a[i], b[i])];\n\t\t}\n\t\trep(i, 1, k) sum += k - 1 - (cnta[a[i]] + cntb[b[i]] - cntt[mp(a[i], b[i])] - 1);\n\t\tprintf(\"%lld\\n\", sum / 2);\n\t}\n \treturn 0;\n}\n```\n",
        "postTime": 1611622588,
        "uid": 242543,
        "name": "BreezeEnder",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1475C Ball in Berland"
    }
]