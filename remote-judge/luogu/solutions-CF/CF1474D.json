[
    {
        "content": "\u6709\u4e00\u4e2a\u66f4\u6613\u61c2\uff0c\u66f4\u5de7\u5999\u7684\u505a\u6cd5\uff1a\n\n\u5047\u5982\u4e0d\u80fd\u4f7f\u7528 ```superability```\uff0c\u5982\u4f55\u8fdb\u884c\u5224\u65ad\uff1f\n\n\u4ece\u5de6\u5f80\u53f3\u626b\u4e00\u904d\uff0c\u8fdb\u884c\u201c\u6a21\u62df\u64cd\u4f5c\u201d\uff0c\u5e76\u4e0d\u96be\u3002\n\n\u6ca1\u542c\u61c2\u7684\u670b\u53cb\u8bf7\u770b\u5982\u4e0b\u4f8b\u5b50\n\n\u6bd4\u5982\uff0c\u5bf9\u4e8e\u6570\u5217 $[1,4,6,1,2]$\uff1a\n- \u5bf9\u4e8e\u7b2c\u4e8c\u4e2a\u6570\uff0c\u524d\u9762\u5269\u4e0b $1$\uff0c\u6240\u4ee5\u5269\u4e0b $4-1=3$\n- \u5bf9\u4e8e\u7b2c\u4e09\u4e2a\u6570\uff0c\u524d\u9762\u5269\u4e0b $3$\uff0c\u6240\u4ee5\u5269\u4e0b $6-3=3$\n- \u5bf9\u4e8e\u7b2c\u56db\u4e2a\u6570\uff0c\u524d\u9762\u5269\u4e0b $3$\uff0c\u800c $1<3$\uff0c\u6240\u4ee5\u4e00\u5b9a\u4e0d\u884c\uff0c\u8bb0\u4e3a $-1$\n- \u5bf9\u4e8e\u7b2c\u4e94\u4e2a\u6570\uff0c\u524d\u9762\u5df2\u7ecf\u8bb0\u4e3a $-1$\uff0c\u6240\u4ee5\u63a5\u7740\u8bb0\u4e3a $-1$\n- \u6240\u4ee5\u8fd9\u4e2a\u6570\u5217\u65e0\u6cd5\u5168\u90e8\u88ab\u6d88\u53bb\n\n\u5982\u679c\u4f7f\u7528```superability```\uff0c\u4ea4\u6362\u76f8\u90bb\u4e24\u4e2a\uff0c\u8bbe\u4e3a\u7b2c $x$ \u4e2a\u548c\u7b2c $x+1$ \u4e2a\uff0c\u90a3\u4e48\u5bf9\u4e8e $[1,x-1]$ \u4e0e $[x+2,n]$ \uff0c\u8bbe\u4e24\u4e2a\u6570\u5217\u5206\u522b\u5269\u4e0b $p$ \u548c $q$ \uff0c\u5219 $p-a_y=q-a_x$\uff0c\u5373\u7ecf\u8fc7\u4ea4\u6362\u540e\u7684\u56db\u4e2a\u6570\u53ef\u4ee5\u88ab\u6d88\u53bb\u3002\n\n\u679a\u4e3e $x$\uff0c\u8fdb\u884c\u5224\u65ad\u5373\u53ef\u3002\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\ninline int read()\n{\n\tint x=0,flag=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9')\n\t{\n\t\tif(ch=='-')\n\t\t\tflag=0;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t\tx=(x<<1)+(x<<3)+ch-'0';\n\t\tch=getchar();\n\t}\n    return (flag?x:~(x-1));\n}\nint t,n,flag,a[200001],b[200001],c[200001];\nsigned main()\n{\n\tt=read();\n\twhile(t--)\n\t{\n\t\tflag=0;\n\t\tn=read();\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\ta[i]=read();\n\t\t\tb[i]=c[i]=0;\n\t\t}\n\t\tc[n+1]=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tb[i]=a[i]>=b[i-1]&&b[i-1]!=-1?a[i]-b[i-1]:-1;\n\t\tfor(int i=n;i>=1;i--)\n\t\t\tc[i]=a[i]>=c[i+1]&&c[i+1]!=-1?a[i]-c[i+1]:-1;\n\t\tif(!b[n])\n\t\t{\n\t\t\tputs(\"YES\");\n\t\t\tcontinue;\n\t\t} \n\t\tfor(int i=1;i<n;i++)\n\t\t\tif(b[i-1]!=-1&&c[i+2]!=-1&&b[i-1]<=a[i+1]&&c[i+2]<=a[i]&&a[i+1]-b[i-1]==a[i]-c[i+2])\n\t\t\t{\n\t\t\t\tputs(\"YES\");\n\t\t\t\tflag=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tif(!flag)\n\t\t\tputs(\"NO\");\n\t}\n\treturn 0;\n}\n\n```\n",
        "postTime": 1611832977,
        "uid": 240812,
        "name": "45dino",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1474D \u3010Cleaning\u3011"
    },
    {
        "content": "\u4ee4$a\\_times[i]$\u4e3a\u7b2c$i$\u5806\u4e0e\u7b2c$i-1$\u5806\u8fdb\u884c\u64cd\u4f5c\u7684\u6b21\u6570\uff0c$b\\_times[i]$\u4e3a\u7b2c$i$\u5806\u548c\u7b2c$i+1$\u5806\u8fdb\u884c\u7684\u64cd\u4f5c\u6b21\u6570\u3002\n\n\u56e0\u4e3a\u8981\u6ee1\u8db3\u6700\u540e\u6bcf\u5806\u4e2a\u6570\u5747\u4e3a$0$\uff0c\u56e0\u6b64$\\forall1\\le i\\le n,a\\_times[i]+b\\_times[i]=a[i]$\uff0c\u4e14$a\\_times[i]=b\\_times[i-1]$\u3002\n\n\u800c\u4e14\u6211\u4eec\u8981\u6ee1\u8db3$b\\_times[1]=a[1],a\\_times[n]=a[n]$\u3002\n\n\u8fd9\u6837\u4e00\u6765\uff0c\u6211\u4eec\u5408\u6cd5\u7684$a\\_times,b\\_times$\u90fd\u662f\u552f\u4e00\u786e\u5b9a\u7684\uff0c\u4e14\u8981\u6ee1\u8db3\u5bf9\u4e8e\u4efb\u4e00\u7684$a\\_times,b\\_times$\u5747\u8981\u5927\u4e8e\u7b49\u4e8e$0$\u3002\n\n\u800c\u5bf9\u4e8e\u5176$a\\_times,b\\_times$\u6211\u4eec\u53d1\u73b0\u6211\u4eec\u53ef\u4ee5\u4ece\u5de6\u5f80\u53f3\u9012\u63a8\u6216\u8005\u4ece\u53f3\u5f80\u5de6\u9012\u63a8\u3002\n\n\u800c\u4e14\u56e0\u4e3a$a\\_times[i]+b\\_times[i]=a[i],a\\_times[i]=b\\_times[i-1]$\uff0c\u56e0\u6b64\u5982\u679c\u786e\u5b9a\u4e86\u5176\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\uff0c\u53e6\u4e00\u4e2a\u4e00\u5b9a\u662f\u53ef\u4ee5\u552f\u4e00\u786e\u5b9a\u7684\u3002\u6211\u4eec\u4e0d\u59a8\u4ece\u5de6\u5f80\u53f3\u4f9d\u6b21\u786e\u5b9a$b\\_times[i]$\u8bb0\u4f5c$pre[i]$\uff0c\u4ece\u53f3\u5f80\u5de6\u4f9d\u6b21\u786e\u5b9a$a\\_times[i]$\u8bb0\u4f5c$suf[i]$\u3002\n\n\u6211\u4eec\u53d1\u73b0\u5982\u679c\u8981\u4ee4\u4e24\u6b21\u786e\u5b9a\u7684$a\\_times[i]$\u548c$b\\_times[i]$\u5747\u4e00\u81f4\uff0c\u5f53\u4e14\u4ec5\u5f53$\\forall 1\\le i\\le n,pre[i]=suf[i+1]$\u3002\n\n\u4e14\u6211\u4eec\u53d1\u73b0\u4e0a\u8ff0\u7b49\u5f0f\u662f\u5177\u6709\u4f20\u9012\u6027\u7684\uff0c\u5373\u5982\u679c\u6211\u4eec\u627e\u5230\u4e00\u4e2a\u4f4d\u7f6e\u6ee1\u8db3$pre[i]=suf[i+1]$\uff0c\u90a3\u4e48\u5176\u6240\u6709\u4f4d\u7f6e\u4e00\u5b9a\u6ee1\u8db3\u8fd9\u4e2a\u6027\u8d28\u3002\n\n\u4f46\u662f\u6211\u4eec\u53d1\u73b0\u6211\u4eec\u4ece\u5de6\u5f80\u53f3\u9012\u63a8\u7684\u7ed3\u679c\u548c\u4ece\u53f3\u5f80\u5de6\u9012\u63a8\u7684\u7ed3\u679c\u6709\u53ef\u80fd\u5e76\u4e0d\u662f\u552f\u4e00\u786e\u5b9a\u7684\uff0c\u5982\u679c\u4e0d\u5141\u8bb8\u4ea4\u6362\u90a3\u4e48\u5176\u5fc5\u7136\u662f\u4e0d\u5408\u6cd5\u7684\uff0c\u4f46\u662f\u6211\u4eec\u73b0\u5728\u5141\u8bb8\u4ea4\u6362\u90a3\u4e48\u6211\u4eec\u76f4\u63a5\u679a\u4e3e\u4ea4\u6362\u4f4d\u7f6e\u5373\u53ef\u3002\n\n```cpp\n#include <iostream>\n\nnamespace wxy{\n    #define int long long\n    const int N = 2e5 + 50,inf = 1e18;\n    int a[N],pre[N],suf[N];\n    void main(){\n        int t; std::cin >> t;\n        while (t--){\n            int n;std::cin >> n;\n            for (int i = 1; i <= n; i++) std::cin >> a[i];\n            suf[n + 1] = pre[0] = 0;\n            for (int i = 1; i <= n; i++){\n                if (a[i] - pre[i - 1] >= 0) pre[i] = a[i] - pre[i - 1];\n                else pre[i] = inf;\n            }\n            for (int i = n; i >= 1; i--){\n                if (a[i] - suf[i + 1] >= 0) suf[i] = a[i] - suf[i + 1];\n                else suf[i] = inf / 2;\n            }\n            bool check = false;\n            for (int i = 1; i <= n - 1; i++){\n                if (pre[i] == suf[i + 1]){\n                    check = true;\n                    break;\n                }else{\n                    int x = a[i],y = a[i + 1];\n                    if (y - pre[i - 1] >= 0 && x - suf[i + 2] >= 0){\n                        if (y - pre[i - 1] == x - suf[i + 2]){\n                            check = true;\n                            break;\n                        }\n                    }\n                }\n            }\n            if (check) std::cout << \"YES\" << std::endl;\n            else std::cout << \"NO\" << std::endl;\n        }\n    }\n}signed main(){wxy::main();return 0;}\n```\n",
        "postTime": 1611158962,
        "uid": 317459,
        "name": "RyexAwl",
        "ccfLevel": 6,
        "title": "CF1474D Cleaning \u601d\u7ef4"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.luogu.com.cn/paste/731uvea7)\n\n### \u601d\u8def\n\n\u5982\u679c $a$ \u6570\u7ec4\u53ef\u4ee5\u6e05\u7a7a\uff0c\u5219\u5fc5\u987b\u6ee1\u8db3\u4e0b\u9762\u7684 $n$ \u4e2a\u4e0d\u7b49\u5f0f\uff1a\n\n$$\n\\begin{matrix}\na_1\\ge 0 \\\\\na_2-a_1 \\ge 0 \\\\\na_3-a_2+a_1\\ge 0 \\\\\n\\cdots \\\\\na_n-a_{n-1}+a_{n-2}-\\cdots =0 \\\\\n\\end{matrix}\n$$\n\n\u63a5\u7740\uff0c\u6211\u4eec\u628a\u8fd9 $n$ \u4e2a\u5f0f\u5b50\u6309\u7167\u5947\u5076\u5206\u7c7b\uff1a\n\n$$\n\\begin{matrix}\na_1\\ge 0 \\\\\na_1-a_2+a_3\\ge 0 \\\\\na_1-a_2+a_3-a_4+a_5\\ge 0 \\\\\n\\cdots\n\\end{matrix}\n$$\n\n$$\n\\begin{matrix}\n-a_1+a_2\\ge 0 \\\\\n-a_1+a_2-a_3+a_4\\ge 0 \\\\\n-a_1+a_2-a_3+a_4-a_5+a_6\\ge 0 \\\\\n\\cdots\n\\end{matrix}\n$$\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u540c\u4e00\u7c7b\u7684\u6570\uff0c\u4e0b\u6807\u76f8\u540c\uff0c\u5bf9\u5e94\u7684\u7b26\u53f7\u4e5f\u76f8\u540c\u3002\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u7ebf\u6bb5\u6811 **\u6279\u91cf\u4fee\u6539\u4e00\u4e2a\u6570\u7684\u503c** \u4e86\u3002\u5728\u4e00\u7c7b\u4e0d\u7b49\u5f0f\u4e2d\uff0c\u533a\u95f4 $[l,r]$ \u6240\u8868\u793a\u7684\u7ebf\u6bb5\u6811\u7ed3\u70b9\u7ef4\u62a4\u90a3\u4e00\u7c7b\u4e0d\u7b49\u5f0f $[l,r]$ \u8303\u56f4\u4e2d\u4e0d\u7b49\u53f7\u5de6\u8fb9\u7684\u6700\u5c0f\u503c\u3002\u4e8e\u662f\uff0c\u6574\u4e2a\u95ee\u9898\u5c31\u53ef\u4ee5\u5316\u4e3a\u7ebf\u6bb5\u6811\u7684\u533a\u95f4\u4fee\u6539\u548c\u533a\u95f4\u67e5\u8be2\u64cd\u4f5c\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $O(n \\log n)$ \u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define ls(x) (x<<1)\n#define rs(x) (x<<1|1)\nusing namespace std;\nconst int Maxn=2e5;\n\ninline int read()\n{\n    char ch=getchar();\n    int f=1,x=0;\n    while(ch>'9' || ch<'0')\n    {\n        if(ch=='-') f=-1;\n        ch=getchar();\n    }\n    while(ch>='0' && ch<='9')\n    {\n        x=x*10+ch-'0';\n        ch=getchar();\n    }\n    return x*f;\n}\n\nint T,flag,n,s1,s2,num[Maxn+5];\nint a1[Maxn+5],a2[Maxn+5];\n\nstruct Node // \u7ebf\u6bb5\u6811\n{\n    int t[Maxn*4+5],tag[Maxn*4+5],num[Maxn+5];\n    inline void push_up(int p) {t[p]=min(t[ls(p)],t[rs(p)]);}\n    inline void push_down(int p)\n    {\n        t[ls(p)]+=tag[p],tag[ls(p)]+=tag[p];\n        t[rs(p)]+=tag[p],tag[rs(p)]+=tag[p];\n        tag[p]=0; return;\n    }\n    inline void Build(int l,int r,int p)\n    {\n        tag[p]=0;\n        if(l==r) {t[p]=num[l]; return;}\n        int mid=(l+r)>>1;\n        Build(l,mid,ls(p)),Build(mid+1,r,rs(p));\n        push_up(p);\n    }\n    inline void Update(int nl,int nr,int l,int r,int p,int k)\n    {\n        if(l<=nl && nr<=r) {t[p]+=k,tag[p]+=k; return;}\n        int mid=(nl+nr)>>1;\n        push_down(p);\n        if(l<=mid) Update(nl,mid,l,r,ls(p),k);\n        if(r>mid) Update(mid+1,nr,l,r,rs(p),k);\n        push_up(p);\n    }\n    inline int Count(int nl,int nr,int l,int r,int p)\n    {\n        if(l<=nl && nr<=r) return t[p];\n        int mid=(nl+nr)>>1,res=INT_MAX;\n        push_down(p);\n        if(l<=mid) res=min(res,Count(nl,mid,l,r,ls(p)));\n        if(r>mid) res=min(res,Count(mid+1,nr,l,r,rs(p)));\n        push_up(p);\n        return res;\n    }\n} tr1,tr2;\n\ninline int Check() // \u5224\u65ad\u662f\u5426\u80fd\u591f\u6e05\u7a7a\n{\n    int now=min(tr1.Count(1,s1,1,s1,1),tr2.Count(1,s2,1,s2,1));\n    if(now<0) return 0;\n    if(n%2==1 && tr1.Count(1,s1,s1,s1,1)) return 0;\n    if(n%2==0 && tr2.Count(1,s2,s2,s2,1)) return 0;\n    return 1;\n}\ninline void Change(int pos,int val) // \u5c06\u4f4d\u7f6e\u4e3a pos \u7684\u6570\u52a0\u4e0a val\n{\n    if(pos&1)\n    {\n        int p1=(pos+1)/2;\n        tr1.Update(1,s1,p1,s1,1,val);\n        if(pos!=n) tr2.Update(1,s2,p1,s2,1,-val);\n    }\n    else\n    {\n        int p1=pos/2;\n        if(pos!=n) tr1.Update(1,s1,p1+1,s1,1,-val);\n        tr2.Update(1,s2,p1,s2,1,val);\n    }\n}\n\nint main()\n{\n    T=read();\n    while(T--)\n    {\n        n=read(),flag=0;\n        for(int i=1;i<=n;++i) num[i]=read();\n        for(int i=1;i<=n;++i) // \u6c42\u51fa\u6bcf\u4e2a\u4e0d\u7b49\u5f0f\u7b49\u53f7\u5de6\u8fb9\u7684\u503c\n        {\n            if(i&1) a1[i/2+1]=num[i]-a2[i/2];\n            else a2[i/2]=num[i]-a1[i/2];\n        }\n        s1=(n+1)/2,s2=n/2;\n        for(int i=1;i<=s1;++i) tr1.num[i]=a1[i];\n        for(int i=1;i<=s2;++i) tr2.num[i]=a2[i];\n        tr1.Build(1,s1,1),tr2.Build(1,s2,1);\n        if(Check()) {printf(\"YES\\n\"); continue;}\n        for(int i=2;i<=n;++i)\n        {\n            Change(i,num[i-1]-num[i]),Change(i-1,num[i]-num[i-1]);\n            // \u76f8\u5f53\u4e8e\u4ea4\u6362\u4e24\u6570\n            if(Check()) {printf(\"YES\\n\"); flag=1; break;}\n            Change(i,num[i]-num[i-1]),Change(i-1,num[i-1]-num[i]);\n        }\n        if(!flag) printf(\"NO\\n\");\n    }\n    return 0;\n}\n```",
        "postTime": 1613278503,
        "uid": 148913,
        "name": "Graphcity",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1474D \u3010Cleaning\u3011"
    },
    {
        "content": "\u5f53\u65f6\u6bd4\u8d5b\u7684\u65f6\u5019\u5f88 naive\uff0c\u7801\u4e86\u5feb 30 \u5206\u949f\u7684\u7ebf\u6bb5\u6811\u53d1\u73b0\u53ef\u4ee5\u7ef4\u62a4\u524d\u540e\u7f00\u53bb\u505a\u3002\u3002\u601d\u7d22\u4e86\u4e00\u4e0b\u611f\u89c9\u7ebf\u6bb5\u6811\u7801\u91cf\u5f88\u5927\uff0c\u6211\u53ef\u80fd\u8c03\u4e0d\u51fa\u6765\u3002\u4e8e\u662f\u6211\u5220\u6389\u6253\u4e86\u4e00\u5927\u534a\u7684\u7ebf\u6bb5\u6811\uff0c10 \u5206\u949f\u60ca\u9669\u7801\u5b8c\u3002\n\n\u6211\u4eec\u8003\u8651\u5f00 2 \u4e2a\u6570\u7ec4\uff0c$b[i]$ \u8868\u793a $1\\to i-1$ \u7684\u6570\u5168\u6d88\u6389\u4e86\uff0ci \u8fd8\u5269\u4e0b\u591a\u5c11\u3002$c[i]$ \u8868\u793a $i+1\\to n$ \u7684\u6570\u5168\u6d88\u6389\u4e86\uff0ci \u8fd8\u5269\u4e0b\u591a\u5c11\u3002\n\n\u8fd8\u9700\u8981 2 \u4e2a\u8f85\u52a9\u6570\u7ec4 $f1$,$f2$\uff0c\u8868\u793a $1\\to i$($i \\to n$)\u4e4b\u95f4\u6709\u6ca1\u6709 $b[i]$($c[i]$)\u5c0f\u4e8e 0 \u7684\uff0c\u5982\u679c\u6709\u5c31\u8bbe\u4e3a 1\u3002\n\n\u7136\u540e\u4f9d\u6b21\u679a\u4e3e\u6bcf\u4e00\u4e2a i($1\\to n-1$)\uff0c\u7136\u540e\u679a\u4e3e\u4ea4\u6362\u6216\u4e0d\u4ea4\u6362\uff0c\u6ce8\u610f\uff0c\u8fd9\u91cc\u5982\u679c\u6709 $f1[i-1]=1$ \u6216 $f2[i+2]=1$ \u76f4\u63a5 continue\uff08\u4e0d\u53ef\u884c\uff09\n\n\u5224\u65ad\u4e5f\u975e\u5e38\u5bb9\u6613\uff0c$if(a[i]-b[i-1]==a[i+1]-c[i+2])$ \u6216\u8005$if(a[i+1]-b[i-1]==a[i]-c[i+2])$\uff0c\u5e76\u4e14\u7b49\u5f0f\u5de6\u53f3\u4e24\u8fb9\u90fd\u5927\u4e8e 0 \u7684\u65f6\u5019\uff0c\u5c31\u662f\u53ef\u884c\u7684\u89e3\u3002\n\n\u540e\u8bb0\uff1app \u540e 10 \u5206\u949f\u53d1\u73b0\u6211\u6ca1\u5f00 ll\uff0c\u6240\u4ee5 resub \u4e86\uff0c\u7136\u540e **System Testing\u7684\u65f6\u5019\u6211\u53d1\u73b0\u6211\u6570\u7ec4\u6ca1\u6e05\u7a7a\uff0c\u5fc3\u6001\u5f53\u573a\u7206\u70b8**\n\n~~\u6700\u540e\u53d1\u73b0\u6211\u6ca1 fst /cy/cy~~\n\n\u8d5b\u540e\u4ee3\u7801\uff08\u683c\u5f0f\u5316\u8fc7\u7684\uff09\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nint T;\nconst int maxn = 4e5 + 10;\nint n, m, a[maxn];\nint b[maxn], c[maxn];\nint f1[maxn], f2[maxn];\nsigned main()\n{\n    scanf(\"%lld\", &T);\n    while (T--)\n    {\n        scanf(\"%lld\", &n);\n        b[0] = b[n + 1] = c[0] = c[n + 1] = 0;\n        for (int i = 1; i <= n; ++i)\n        {\n            scanf(\"%lld\", &a[i]);\n            b[i] = a[i];\n            c[i] = a[i];\n            f1[i] = f2[i] = 0;\n        }\n        for (int i = 1; i <= n; ++i)\n        {\n            b[i + 1] -= b[i];\n            if (b[i] < 0)\n                f1[i] = 1;\n            f1[i + 1] |= f1[i];\n        }\n        if (f1[n] == 0 && b[n] == 0)\n        {\n            puts(\"YES\");\n            continue;\n        }\n        for (int i = n; i >= 1; --i)\n        {\n            c[i - 1] -= c[i];\n            if (c[i] < 0)\n                f2[i] = 1;\n            f2[i - 1] |= f2[i];\n        }\n        int ff = 0;\n        for (int pos = 1; pos < n; ++pos)\n        {\n            int pos2 = pos + 1;\n            int x1 = b[pos - 1], x2 = c[pos2 + 1];\n            //cout<<x1<<\" \"<<x2<<endl;\n            if (f1[pos - 1] == 1 || f2[pos2 + 1] == 1)\n            {\n                continue;\n            }\n            if (a[pos] - x1 == a[pos2] - x2)\n            {\n                //cout<<pos<<endl;\n                if (a[pos] - x1 >= 0)\n                {\n                    ff = 1;\n                    break;\n                }\n            }\n            if (a[pos2] - x1 == a[pos] - x2)\n            {\n                //cout<<pos<<endl;\n                if (a[pos2] - x1 >= 0)\n                {\n                    ff = 1;\n                    break;\n                }\n            }\n        }\n        if (ff)\n        {\n            puts(\"YES\");\n        }\n        else\n        {\n            puts(\"NO\");\n        }\n    }\n    return 0;\n}\n\n```\n",
        "postTime": 1618828636,
        "uid": 154101,
        "name": "fily",
        "ccfLevel": 0,
        "title": "CF1474D"
    },
    {
        "content": "\u770b\u4e86\u8d5b\u540e\u9898\u89e3\u534a\u664c\u6ca1\u61c2\uff0c\u5bfb\u601d\u90a3\u4e2a\u9898\u89e3\u7684\u601d\u8def\u4e0d\u5927\u9002\u5408\u6211\uff0c\u7136\u540e\u6211\u53c8\u81ea\u5df1\u63a8\u5bfc\u4e86\u4e00\u4e2a\u5c0f\u65f6\uff0c\u7ec8\u4e8e\u63a8\u51fa\u6765\u4e86\uff0c\u597d\u4e0d\u5bb9\u6613\u8c03\u597d\u4e86\u4ee3\u7801\u8003\u8651\u5b8c\u4e86\u6240\u6709\u7684\u758f\u6f0f\uff0c\u5199\u7bc7\u9898\u89e3\u5e86\u795d\u4e00\u4e0b\u3002\n\n# Editorial\n\n\u6765\u63a2\u7a76\u4e00\u4e0b\u8981\u6210\u529f\u7684\u8bdd $a_1,a_2,\\cdots,n$ \u5e94\u8be5\u6ee1\u8db3\u4ec0\u4e48\u6761\u4ef6\u3002\n\n1. $a_n-(a_{n-1}-(\\cdots-(a_2-a_1)))=0$\uff0c\u6240\u4ee5 $a_n-a_{n-1}+a_{n-2}-\\cdots=0$\uff0c\u6240\u4ee5 $a_1+a_3+\\cdots=a_2+a_4+\\cdots$\uff0c\u5373 $\\sum{a_{odd}}=\\sum a_{even}$\u3002\u5982\u679c $swap(a_x,a_y)(y=x+1)$\uff0c\u90a3\u4e48\u5f97\u5230 $\\begin{cases}\n\\sum{a_{odd}}+\\Delta=\\sum a_{even}-\\Delta(x\\ is\\ odd) \\\\\n\\sum{a_{even}}+\\Delta=\\sum a_{odd}-\\Delta(x\\ is\\ even) \n\\end{cases}$\uff0c\u5176\u4e2d\u8bb0 $\\Delta=a_y-a_x$\u3002\n2. \u4e0d\u7b49\u5f0f\u7ec4 $S=\\begin{cases}\na_2-a_1\\geq 0\\\\\na_3-(a_2-a_1)\\geq0\\\\\n\\cdots\\\\\na_n-(a_{n-1}-(\\cdots-(a_2-a_1)))\\geq0\\end{cases}$ $\\to S=\\begin{cases}\na_2\\geq a_1\\\\\na_1+a_3\\geq a_2\\\\\n\\cdots\\\\\\end{cases}$\u3002\u4e0b\u9762\u8003\u8651 $x$ \u4e3a\u5947\u6570\u7684\u60c5\u51b5\uff1a\u5982\u679c $swap(a_x,a_y)(y=x+1)$\uff0c\u90a3\u4e48 $ \\begin{cases}\na_1\\\\\na_1+a_3\\\\\n\\cdots\\\\\\end{cases}$ \u90fd\u8981 $+\\Delta$\uff0c$\\begin{cases}\na_2\\\\\na_2+a_4\\\\\n\\cdots\\\\\\end{cases}$ \u90fd\u8981 $-\\Delta$\uff0c\u56e0\u6b64 $S$ \u4e2d\u4e0d\u7b49\u5f0f $a_1+a_3+\\cdots a_x\\geq a_2+a_4+\\cdots+a_{y-2}(1)$ \u5de6\u8fb9 $+\\Delta$\uff0c\u5b83\u4ee5\u540e\u7684\u6240\u6709\u4e0d\u7b49\u5f0f\u5de6\u53f3\u4e24\u8fb9\uff0c\u5982\u679c\u662f\u5947\u6570\u9879\u548c\u7684\u5f0f\u5b50\u5219 $+\\Delta$\uff0c\u5982\u679c\u662f\u5076\u6570\u9879\u548c\u7684\u5f0f\u5b50\u5219 $-\\Delta$\uff0c\u5b83\u4e4b\u524d\u7684\u6240\u6709\u4e0d\u7b49\u5f0f\u4e0d\u4f5c\u53d8\u5316\u3002\u5982\u679c\u7528 $b_1,b_2,\\cdots,b_{k}$ \u4f9d\u6b21\u8868\u793a $S$ \u4e2d\u7684\u4e0d\u7b49\u5f0f\u5de6\u8fb9\u4e0e\u53f3\u8fb9\u7684\u5dee\uff0c\u90a3\u4e48\u5c11\u52a0\u601d\u8003\u5c31\u80fd\u53d1\u73b0\uff0c$k=n-1$\uff0c\u4e0d\u7b49\u5f0f $(1)$ \u5bf9\u5e94\u7684\u503c\u662f $b_{x-1}$\u3002\u5f53\u4e0d\u7b49\u5f0f\u7ec4\u6210\u7acb\u518d\u52a0\u63a8\u5bfc\uff0c\u5f97\u5230\uff1a\u5bf9\u4e8e $b_x,b_{x+2},\\cdots$\uff0c\u5e94\u6ee1\u8db3 $b\\geq 2\\Delta$\uff0c\u5373 $\\Delta\\leq\\dfrac{\\min\\{b_x,b_{x+2},\\cdots\\}}{2}$\uff1b\u5bf9\u4e8e $b_y,b_{y+2},\\cdots$\uff0c\u5e94\u6ee1\u8db3 $b\\geq-2\\Delta$\uff0c\u5373 $\\Delta\\geq-\\dfrac{min\\{b_y,b_{y+2},\\cdots\\}}{2}$\uff0c\u800c $(1)$ \u5e94\u6ee1\u8db3 $\\Delta\\geq-b_{x-1}$\uff0c\u53c8\u56e0\u4e3a $b_{1\\sim x-2}$ \u662f\u4e0d\u53d8\u7684\uff0c\u6240\u4ee5\u5b83\u4eec\u5e94\u8be5\u90fd $\\geq 0$\u3002\\\n\u5f53 $x$ \u4e3a\u5076\u6570\u65f6\uff0c\u540c\u7406\uff0c\u8fd9\u91cc\u4e0d\u52a0\u8d58\u8ff0\u4e86\u3002\n\n\u7efc\u5408\u4e0a\u8ff0\uff0c\u5f97\u51fa\u4ee3\u7801\u3002\n\n```\n#include <iostream>\n#include <cmath>\n#include <algorithm>\n#include <cstring>\nconst long long inf=1e17;\nusing namespace std;\nlong long a[200005],b[200005],minb[200005];\nbool solve(int n){\n\tif(n==1) return false;\n\tif(n==2) return a[1]==a[2];\n\tlong long sumodd=0,sumeven=0;\n\tfor(int i=1;i<=n;i+=2) sumodd+=a[i];\n\tfor(int i=2;i<=n;i+=2) sumeven+=a[i];\n\tb[1]=a[2]-a[1];\n\tint k=1;\n\tfor(int i=3,j=2;i<=n && j<=n;){\n\t\tif(k&1) b[k+1]=a[i]-b[k],k++,j+=2;\n\t\telse b[k+1]=a[j]-b[k],k++,i+=2;\n\t}\n\tminb[k]=b[k];\n\tfor(int i=k-2;i>=1;i-=2) minb[i]=min(b[i],minb[i+2]);\n\tminb[k-1]=b[k-1];\n\tfor(int i=k-3;i>=1;i-=2) minb[i]=min(b[i],minb[i+2]);\n\tif(sumodd==sumeven && minb[1]>=0 && minb[2]>=0) return true;\n\tb[0]=inf,minb[n]=inf;\n\tfor(int i=1;i<=n-1;i++){\n\t\tif(i>=3 && b[i-2]<0) break;\n\t\tif(1.0*(a[i+1]-a[i])<=minb[i]/2.0 && (a[i+1]-a[i])*1.0>=max(-b[i-1]*1.0,-minb[i+1]/2.0)){\n\t\t\t\n\t\t\tif((i&1) && sumodd+a[i+1]-a[i]==sumeven-a[i+1]+a[i]) return true;\n\t\t\tif(!(i&1) && sumeven+a[i+1]-a[i]==sumodd-a[i+1]+a[i]) return true;\n\t\t}\n\t}\n\treturn false;\n}\n\nint main()\n{\n\tint T,n;\n\tcin>>T;\n\twhile(T--){\n\t\tcin>>n;\n\t\tfor(int i=1;i<=n;i++) cin>>a[i];\n\t\tif(solve(n)) cout<<\"YES\"<<endl;\n\t\telse {\n\t\t\tfor(int i=1;i<=n/2;i++) swap(a[i],a[n-i+1]);\n\t\t\tif(solve(n)) cout<<\"YES\"<<endl;\n\t\t\telse cout<<\"NO\"<<endl;\n\t\t}\n\t}\n\treturn 0;\n} \n\n```",
        "postTime": 1611476656,
        "uid": 300078,
        "name": "pengyule",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1474D \u3010Cleaning\u3011"
    },
    {
        "content": "### [ CF1474D Cleaning](https://www.luogu.com.cn/problem/CF1474D)\n\n\u663e\u7136\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u6570\uff0c\u5b83\u53ea\u80fd\u548c\u524d\u4e00\u4e2a\u6570\u6216\u540e\u4e00\u4e2a\u6570\u8fdb\u884c\u6d88\u9664\u3002\u6211\u4eec\u8bb0 $pre_i$ \u8868\u793a $a_i$ \u548c $a_{i-1}$ \u8fdb\u884c\u7684\u6d88\u9664\u6b21\u6570\uff0c$suf_i$ \u8868\u793a $a_i$ \u548c $a_{i+1}$ \u8fdb\u884c\u7684\u6d88\u9664\u6b21\u6570\u3002\u5982\u679c\u4e0d\u8003\u8651\u4ea4\u6362\uff0c\u90a3\u4e48\u6ee1\u8db3 $\\forall 1\\leq i \\leq n$\uff0c\u4f7f\u5f97 $pre_i=suf_{i-1}$\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c\u4e0a\u9762\u7684\u5f0f\u5b50\u5177\u6709\u4f20\u9012\u6027\uff0c\u56e0\u6b64\u53ea\u8981 $\\exists i$\uff0c\u4f7f\u5f97 $pre_i=suf_{i-1}$ \u5c31\u53ef\u4ee5\u628a\u6574\u4e2a\u5e8f\u5217\u6d88\u9664\u3002\n\n\u8003\u8651\u600e\u4e48\u6c42\u8fd9\u4e24\u4e2a\u6570\u7ec4\u3002\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a\u6570\uff0c\u5b83\u4eec\u53ea\u80fd\u548c\u7b2c\u4e8c\u4e2a\u6216\u5012\u6570\u7b2c\u4e8c\u4e2a\u8fdb\u884c\u6d88\u9664\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u6b63\u5e8f\u6c42 $suf$\uff0c\u5012\u5e8f\u6c42 $pre$\u3002\n\n\u63a5\u4e0b\u6765\u8003\u8651\u4ea4\u6362 $a_i,a_{i+1}$\u3002\u5982\u679c\u6ee1\u8db3 $a_i-pre_{i+2} \\geq 0 $ \u5e76\u4e14 $a_{i+1}-suf_{i-1} \\geq 0$ \u5e76\u4e14 $a_i-pre_{i+2}=a_{i+1}-suf_{i-1}$\uff0c\u90a3\u4e48\u4ea4\u6362\u5b8c\u540e\u5e8f\u5217\u53ef\u4ee5\u88ab\u5220\u9664\u3002\n\ncode \n```\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long \nconst int N=200010;\nint T,n;\nint a[N],suf[N],pre[N];\nsigned main()\n{\n\tscanf(\"%lld\",&T);\n\twhile (T--)\n\t{\n\t\tscanf(\"%lld\",&n);\n\t\tfor (int i=1;i<=n;++i) scanf(\"%lld\",&a[i]);\n\t\tsuf[0]=pre[n+1]=0;\n\t\tfor (int i=1;i<=n;++i)\n\t\t{\n\t\t\tif (a[i]-suf[i-1]>=0) suf[i]=a[i]-suf[i-1];\n\t\t\telse suf[i]=LONG_LONG_MAX;\n\t\t}\n\t\tfor (int i=n;i>=1;--i)\n\t\t{\n\t\t\tif (a[i]-pre[i+1]>=0) pre[i]=a[i]-pre[i+1];\n\t\t\telse pre[i]=LONG_LONG_MAX-1;\n\t\t}\n\t\tbool flag=false;\n\t\tfor (int i=1;i<n;++i)\n\t\t{\n\t\t\tif (suf[i]==pre[i+1])\n\t\t\t{\n\t\t\t\tflag=true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tint x=a[i],y=a[i+1];\n\t\t\t\tif (x-pre[i+2]>=0&&y-suf[i-1]>=0)\n\t\t\t\t{\n\t\t\t\t\tif (x-pre[i+2]==y-suf[i-1])\n\t\t\t\t\t{\n\t\t\t\t\t\tflag=true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (flag) puts(\"YES\");\n\t\telse puts(\"NO\");\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1684940652,
        "uid": 767793,
        "name": "_ZSR_",
        "ccfLevel": 0,
        "title": "CF1474D Cleaning"
    }
]