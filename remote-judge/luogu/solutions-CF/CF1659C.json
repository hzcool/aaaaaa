[
    {
        "content": "\u5bb9\u6613\u53d1\u73b0\u6211\u4eec\u53ea\u80fd\u4ece\u539f\u70b9\u5f00\u59cb\u5f80\u53f3\u4e00\u4e2a\u4e00\u4e2a\u738b\u56fd\u653b\u5360\uff0c\u90a3\u4e48\u6211\u4eec\u5bf9\u4e8e\u5f53\u524d\u7684\u738b\u56fd $x_i$\uff0c\u9009\u62e9\u53ea\u6709\u4e24\u79cd\uff1a\n\n1. \u76f4\u63a5\u653b\u5360\u3002\n2. \u5360\u9886\u5e76\u8fc1\u90fd\u3002\n\n\u663e\u7136\u6211\u4eec\u8ba1\u7b97\u4e24\u79cd\u64cd\u4f5c\u7684\u8d21\u732e\u53d6\u4e2a\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u4e0d\u7ba1\u600e\u4e48\u64cd\u4f5c\uff0c\u90fd\u5fc5\u987b\u653b\u5360 $x_i$\uff0c\u6240\u4ee5\u64cd\u4f5c\u53d8\u6210\u4e86\u51b3\u5b9a **\u662f\u5426\u8fc1\u90fd**\u3002\n\n\u5047\u8bbe\u73b0\u5728\u5df2\u7ecf\u653b\u5360\u4e86 $x_i$\uff0c\u5f53\u524d\u9996\u90fd\u4e3a $cap$\uff1a\n\n- \u4e0d\u8fc1\u90fd\u7684\u8d21\u732e\uff1a$b \\cdot \\sum\\limits_{j = i + 1} ^ {n} x_j - cap$\u3002\n- \u8fc1\u90fd\u7684\u8d21\u732e\uff1a$a \\cdot (x_i - cap) + b \\cdot \\sum\\limits_{j = i + 1} ^ {n} x_j - x_i$\u3002\n\n\u82e5\u8fc1\u90fd\u9020\u6210\u7684\u8d21\u732e\u66f4\u5c0f\uff0c\u5c31\u8fc1\u79fb\u9996\u90fd\u3002\n\n\u56e0\u4e3a\u8fd9\u4e2a\u66f4\u65b0\u6ca1\u6709\u540e\u6548\u6027\uff0c\u5f53\u524d\u7684\u72b6\u6001\u8fc7\u4e86\u5c31\u4e0d\u4f1a\u518d\u7b97\uff0c\u6240\u4ee5\u4e0a\u9762\u7684\u8d2a\u5fc3\u662f\u6b63\u786e\u7684\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n\nconst int N = 2e5 + 5;\nint n, a, b;\nint x[N], sum[N];\n\ninline int query(int l, int r) {return sum[r] - sum[l - 1];}\n\nint so1ve()\n{\n\tfor (int i = 1; i <= n; i ++ ) sum[i] = 0;\n\tcin >> n >> a >> b;\n\tfor (int i = 1; i <= n; i ++ ) cin >> x[i], sum[i] = sum[i - 1] + x[i];\n\tint cap = 0, ans = 0;\n\tfor (int i = 1; i <= n; i ++ )\n\t{\n\t\tans += b * (x[i] - cap);\n\t\tint t1 = b * (query(i + 1, n) - cap * (n - i));\n\t\tint t2 = a * (x[i] - cap) + b * (query(i + 1, n) - x[i] * (n - i));\n\t\tif (t2 < t1) ans += a * (x[i] - cap), cap = x[i];\n\t}\n\treturn ans;\n}\n\nsigned main()\n{\n\tios_base::sync_with_stdio(false), cin.tie(nullptr);\n\tint T;\n\tcin >> T;\n\twhile (T -- ) cout << so1ve() << '\\n';\n\treturn 0;\n}\n```",
        "postTime": 1661258953,
        "uid": 482728,
        "name": "Engulf",
        "ccfLevel": 0,
        "title": "CF1659C Line Empire \u9898\u89e3"
    },
    {
        "content": "### \u601d\u8def\n\u89c2\u5bdf\u9898\u76ee\uff0c\u6211\u4eec\u80fd\u83b7\u5f97\u4e24\u4e2a\u4fe1\u606f\u70b9\uff1a\n\n1.\u4f60\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u5df2\u7ecf\u88ab\u5f81\u670d\u7684\u738b\u56fd\uff0c\u7136\u540e\u628a\u9996\u90fd\u8fc1\u5230\u90a3\u4e2a\u738b\u56fd\u3002  \n2.\u4f60\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u6ca1\u6709\u88ab\u5f81\u670d\u7684\u738b\u56fd\uff0c\u6ee1\u8db3\u4f60\u7684\u9996\u90fd\u4e0e\u5176\u4e4b\u95f4\u6ca1\u6709\u5176\u4ed6\u672a\u88ab\u5f81\u670d\u7684\u738b\u56fd\uff0c\u7136\u540e\u5f81\u670d\u90a3\u4e2a\u738b\u56fd\u3002\n\n\u8003\u8651\u5230\u6211\u4eec\u7684\u9996\u90fd\u4e00\u5f00\u59cb\u5728\u6700\u5de6\u8fb9\uff0c\u800c\u53bb\u653b\u5360\u5176\u4ed6\u56fd\u5bb6\u7684\u65f6\u5019\u4e2d\u95f4\u4e0d\u80fd\u6709\u5176\u4ed6\u56fd\u5bb6,\u90a3\u4e48\u663e\u7136\u6211\u4eec\u7684\u653b\u5360\u987a\u5e8f\u662f\u4ece\u5de6\u5230\u53f3\u3002\u65e2\u7136\u653b\u5360\u987a\u5e8f\u5df2\u7ecf\u786e\u5b9a\uff0c\u90a3\u4e48\u4e0d\u8003\u8651\u6362\u9996\u90fd\uff0c\u4ee5\u9996\u90fd $k$ \u53bb\u653b\u5360\u4ece $m$ \u5f00\u59cb\u7684\u5176\u4ed6\u56fd\u5bb6\u7684\u4ee3\u4ef7\u4e3a\uff08\u5176\u4e2d $c_i$ \u8868\u793a\u7b2c $i$ \u4e2a\u56fd\u5bb6\u7684\u5750\u6807\uff09\n\n$b\\times(c_m-c_k+c_{m+1}-c_k+c_{m+2}-c_k+\u2026+c_n-c_k)=b\\times(\\sum_{i=m}^nc_i-c_k\\times(n-m+1))$\n\n\u800c\u5f53\u6211\u4eec\u5c06\u9996\u90fd $k$ \u6362\u5230\u4e00\u4e2a\u65b0\u5730\u70b9 $j$ \u7684\u65f6\u5019\uff0c\u540e\u9762\u6240\u9700\u8981\u7684\u4ee3\u4ef7\u4e3a\n\n$b\\times(c_m-c_j+c_{m+1}-c_j+c_{m+2}-c_j+\u2026+c_n-c_j)+a\\times(c_j-c_k)=a\\times(c_j-c_k)+b\\times(\\sum_{i=m}^nc_i-c_j\\times(n-m+1))$\n\n\u663e\u7136\u5bf9\u4e8e\u4e00\u4e2a\u5df2\u7ecf\u653b\u5360\u7684\u4f4d\u7f6e $j$ \uff0c\u82e5\u6ee1\u8db3\n\n$a\\times(c_j-c_k)+b\\times(\\sum_{i=m}^nc_i-c_j\\times(n-m+1))<b\\times(\\sum_{i=m}^nc_i-c_k\\times(n-m+1))$\n\n\u90a3\u4e48\u6211\u4eec\u4fbf\u53ef\u4ee5\u8fdb\u884c\u8f6c\u79fb\u3002\u4f46\u662f\u8fd9\u4e2a\u5f0f\u5b50\u770b\u4e0a\u53bb\u662f\u4e0d\u662f\u590d\u6742\u4e86\u70b9\uff1f\n\n\u6211\u4eec\u901a\u8fc7\u5316\u7b80\uff0c\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u7b80\u5355\u7684\u5f0f\u5b50(\u76f8\u4fe1\u5927\u5bb6\u90fd\u4f1a\u5316\u7b80\u7684\u5566\uff09\uff1a\n\n$a<b\\times(n-m+1)$\n\n\u90a3\u4e48\u53ea\u8981\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\u5c31\u53ef\u4ee5\u6362\u9996\u90fd\u4e86\u3002\u6211\u4eec\u53d1\u73b0\u8fd9\u4e2a\u5f0f\u5b50\u53ea\u548c $m$ \u6709\u5173\uff0c\u6240\u4ee5\u6bcf\u6b21\u4e2a\u65b0\u5730\u70b9\u88ab\u653b\u5360\u4e0b\u6765\u7684\u65f6\u5019\u53ea\u7528\u8003\u8651\u4e00\u6b21\u9700\u4e0d\u9700\u8981\u6362\u9996\u90fd\u5c31\u884c\u4e86\u3002\n\u6240\u4ee5\u6bcf\u9488\u5bf9\u4e00\u4e2a\u65b0\u653b\u4e0b\u7684\u5730\u70b9\u8003\u8651\u4e00\u6b21\u662f\u5426\u9700\u8981\u8f6c\u79fb\u4fbf\u53ef\u4ee5\u6c42\u89e3\u3002\u8bb0\u5f55\u4e00\u4e2a $cap$ \u8868\u793a\u5f53\u524d\u9996\u90fd\u7684\u5750\u6807\u3002\n\n------------\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint t,a,n,b,dis;//\u5e76\u4e0d\u9700\u8981\u5f00\u6570\u7ec4\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u70b9\u7684\u8ddd\u79bb\u53ea\u4f1a\u8ba1\u7b97\u4e00\u6b21\uff0c\u7528\u4e00\u4e2adis\u5b58\u4e0b\u6765\u5c31\u884c\u4e86\nsigned main(){\n\tscanf(\"%d\",&t);\n\twhile(t--){\n\t\tscanf(\"%lld%lld%lld\",&n,&a,&b);\n\t\tint ans=0,cap=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%lld\",&dis);\n\t\t\tans+=b*(abs(dis-cap));\n\t\t\tif(b*(n-i)>a){//\u5224\u65ad\u662f\u5426\u8f6c\u79fb\uff0c\u516c\u5f0f\u89c1\u4e0a\u6587\n\t\t\t\tans+=a*(abs(dis-cap));\n\t\t\t\tcap=dis;\n\t\t\t}\n\t\t}\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\treturn 0;\n} \n```\n",
        "postTime": 1667486499,
        "uid": 261574,
        "name": "rmzls",
        "ccfLevel": 4,
        "title": "CF1659C Line Empire \u9898\u89e3"
    },
    {
        "content": "### 1 \u601d\u8def\n\n\u5f88\u660e\u663e\u7684\uff0c\u56fd\u738b\u7684\u6700\u4f18\u65b9\u6848\u4e00\u5b9a\u662f\u8fd9\u6837\u7684\uff1a\n\n\u4f9d\u6b21\u653b\u5360\u4e0b\u4e00\u4e2a\u56fd\u5bb6\uff0c\u7136\u540e\u6bcf\u6b21\u653b\u5360\u90fd\u8981\u7acb\u5373\u8fc1\u79fb\u9996\u90fd\u3002\u76f4\u5230\uff0c\u653b\u5360\u5b8c\u7b2c $k$ \u4e2a\u56fd\u5bb6\u4e4b\u540e\uff0c\u4e0d\u8fc1\u79fb\u9996\u90fd\uff0c\u800c\u662f\u4e00\u9f13\u4f5c\u6c14\u653b\u5360\u5b8c\u6240\u6709\u56fd\u5bb6\u3002\u6253\u5b8c\u540e\uff0c\u9996\u90fd\u5728\u7b2c $k-1$ \u4e2a\u56fd\u5bb6\u3002\n\n\u5f53\u7136\u4e86\uff0c\u9996\u90fd\u4e5f\u53ef\u4ee5\u5728 $0$ \u70b9\u3002\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u5c31\u8bbe $s[i]$ \u4e3a\u7b2c $i$ \u4e2a\u56fd\u5bb6\u548c\u7b2c $n$ \u4e2a\u56fd\u5bb6\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0c\u8bbe $s2[i]$ \u4e3a $\\sum_{j=i+1}^nx[j]-x[i]$\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u8bbe\u9996\u90fd\u4f4d\u4e8e $i$\uff0c\u90a3\u4e48\uff0c\u8fc1\u79fb\u9996\u90fd\u7684\u82b1\u8d39\u5c31\u662f $(s[0]-s[i])\\times a$\uff0c\u800c\u653b\u5360\u56fd\u5bb6\u7684\u82b1\u8d39\u5c31\u662f $(s[0]-s[i]+s2[i])\\times b$\u3002\n\n\u4f9d\u6b21\u679a\u4e3e\u9996\u90fd\u4f4d\u7f6e\uff0c\u53d6\u7b54\u6848\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n### 2 \u4ee3\u7801\u4e0e\u8bb0\u5f55\n\n```cpp\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n#define max_n 200000\n#define inf 200000000000000000\nint t;\nint n;\nlong long a,b;\nlong long x[max_n+2];\nlong long s[max_n+2];\nlong long s2[max_n+2];\nlong long ans;\nlong long mi(long long a,long long b){\n\treturn a<b?a:b;\n}\nint main(){\n\t#ifndef ONLINE_JUDGE\n\tfreopen(\"CF1659C_1.in\",\"r\",stdin);\n\tfreopen(\"CF1659C_1.out\",\"w\",stdout);\n\t#endif\n\tscanf(\"%d\",&t);\n\twhile(t--){\n\t\tscanf(\"%d%lld%lld\",&n,&a,&b);\n\t\tx[0]=0;\n\t\tfor(int i=1;i<=n;++i)scanf(\"%lld\",x+i);\n\t\ts[n]=0;\n\t\ts2[n]=0;\n\t\tfor(int i=n-1;i>=0;--i){\n\t\t\ts[i]=x[i+1]-x[i]+s[i+1];\n\t\t\ts2[i]=(x[i+1]-x[i])*(n-i)+s2[i+1];\n\t\t}\n\t\tans=inf;\n\t\tfor(int i=n-1;i>=0;--i)ans=mi(ans,(s[0]-s[i])*(a+b)+s2[i]*b);\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\treturn 0;\n}\n```\n\n[\u8bb0\u5f55\u4f20\u9001\u95e8](https://www.luogu.com.cn/record/74293761)\n\nBy **dengziyue**",
        "postTime": 1650451589,
        "uid": 387840,
        "name": "happy_dengziyue",
        "ccfLevel": 6,
        "title": "CF1659C\u9898\u89e3"
    },
    {
        "content": "### Solution\n\n\u5728\u5360\u9886\u4e86\u4e00\u4e2a\u738b\u56fd\u540e\uff0c\u6709\u8fc1\u90fd\u548c\u4e0d\u8fc1\u90fd\u4e24\u79cd\u9009\u62e9\uff0c\u90a3\u4e48\uff1a\n\n- \u4e0d\u8fc1\u90fd\u7684\u4ee3\u4ef7\u4e3a $b \\times \\sum\\limits_{j = i + 1} ^ {n} x_j - C$\u3002\n\n- \u8fc1\u90fd\u7684\u4ee3\u4ef7\u4e3a $b \\times \\sum\\limits_{j = i + 1} ^ {n} x_j + a \\times (x_i - C) - x_i$\u3002\n\n\u5176\u4e2d $i$ \u4e3a\u5f53\u524d\u653b\u5360\u7684\u738b\u56fd\uff0c$C$ \u4e3a\u9996\u90fd\u7684\u4f4d\u7f6e\uff0c\u5176\u4f59\u7684\u53d8\u91cf\u4e0e\u9898\u76ee\u610f\u4e49\u76f8\u540c\u3002\n\n\u6240\u4ee5\u5982\u679c\u8fc1\u90fd\u7684\u4ee3\u4ef7\u66f4\u5c11\uff0c\u90a3\u5c31\u8fc1\u90fd\uff0c\u5426\u5219\u76f4\u63a5\u653b\u5360\u5373\u53ef\u3002\n\n### code\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define N 200005\nusing namespace std;\nint t,n,a,b,x[N],sum[N],ans;\nsigned main(){\n    scanf(\"%lld\",&t);\n    while(t--){\n        memset(x,0,sizeof(x));\n        memset(sum,0,sizeof(0));\n        ans=1e18;\n        scanf(\"%lld%lld%lld\",&n,&a,&b);\n        for(int i=1;i<=n;++i){\n            scanf(\"%lld\",&x[i]);\n            sum[i]=sum[i-1]+x[i];\n        }\n        for(int i=0;i<=n;++i) ans=min(ans,x[i]*b+x[i]*a+(sum[n]-sum[i]-x[i]*(n-i))*b);\n        printf(\"%lld\\n\",ans);\n    }\n    system(\"pause\");\n    return 0;\n}\n```\n",
        "postTime": 1671769621,
        "uid": 491321,
        "name": "Erotate",
        "ccfLevel": 0,
        "title": "Line Empire \u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1659C)\n\n*1500 \u90fd\u4e0d\u4f1a\u4e86\uff0c\u8fd9\u6c34\u5e73\u3002\n\n\u9996\u5148\u8003\u8651\u4e00\u79cd\u7b80\u5355\u60c5\u51b5\u5c31\u662f $a \\le b$\uff0c\u663e\u7136\u8fd9\u65f6\u5019\u8fc1\u79fb\u80af\u5b9a\u6bd4\u4e0d\u8fc1\u79fb\u597d\uff0c\u6240\u4ee5\u6bcf\u6b21\u90fd\u8fc1\uff0c\u6700\u540e\u8fc1\u5230 $x_{n-1}$\uff0c\u6240\u4ee5\u7b54\u6848\u5c31\u662f $ax_{n-1}+bx_n$\u3002\n\n\u7136\u540e\u8003\u8651 $a>b$ \u600e\u4e48\u505a\u3002\u53d1\u73b0\u5f53\u524d\u5982\u679c\u4e0d\u8fc1\u79fb\uff0c\u4ee5\u540e\u8fc1\u79fb\u7684\u6536\u76ca\u4f1a\u66f4\u4f4e\uff08\u65e9\u8fc1\u79fb\u7684\u8bdd\uff0c\u8fc1\u79fb\u8d39\u5c11\u4e86\uff0c\u800c\u4e14\u653b\u6253\u7684\u8d39\u7528\u4e5f\u5c11\u4e86\uff09\uff0c\u6240\u4ee5\u5982\u679c\u5f53\u524d\u4e0d\u8fc1\u90a3\u4ee5\u540e\u66f4\u4e0d\u4f1a\u8fc1\u4e86\u3002\n\n\u4e8e\u662f\u6700\u4f73\u7b56\u7565\u4e00\u5b9a\u662f\u4e0d\u65ad\u8fc1\u79fb\u5230 $x_k$\uff0c\u7136\u540e\u4ece $x_{k+1} \\sim x_n$ \u53ea\u653b\u6253\u4e0d\u8fc1\u79fb\u3002\u8fd9\u6837\u7b54\u6848\u5c31\u662f $ax_k+bx_k+b[\\sum\\limits_{i=k+1}^nx_i-(n-k)x_k]$\uff0c\u8fd9\u4e2a\u5f0f\u5b50\u5904\u7406\u4e00\u4e0b\u524d\u7f00\u548c\u53ef\u4ee5\u76f4\u63a5 $O(1)$ \u6c42\u3002\n\n\u6240\u4ee5\u66b4\u529b\u679a\u4e3e $k$ \u7b97\u8d21\u732e\u53d6\u6700\u5c0f\u503c\uff0c\u590d\u6742\u5ea6 $O(n)$\u3002\n\n\u53ef\u4ee5\u770b\u51fa $a \\le b$ \u7684\u60c5\u51b5\u5c31\u662f $a>b$ \u65f6\uff0c$k=n-1$ \u7684\u7279\u6b8a\u60c5\u51b5\u3002",
        "postTime": 1655650815,
        "uid": 93266,
        "name": "\u65ad\u6e05\u79cb",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011CF1659C Line Empire"
    }
]