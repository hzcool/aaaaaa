[
    {
        "content": "## Problem\n\n[CF1685B](https://www.luogu.com.cn/problem/CF1685B)\n\n## Sol\n\n\u9996\u5148\u5bf9\u4e8e\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6211\u4eec\u8bbe\u5b83\u91cc\u9762A\u7684\u6570\u91cf\u4e3a $num_a$\uff0cB\u7684\u6570\u91cf\u4e3a $num_b$\uff0c\u82e5\u4e00\u4e2a\u5b57\u7b26\u4e32\u8981\u6ee1\u8db3\u7b54\u6848\uff0c\u5fc5\u5b9a\u4f1a\u6709 $a+c+d=num_a$ \u548c $b+c+d=num_b$\u3002\n\n\u7136\u540e\u8003\u8651\u82e5\u7b54\u6848\u6210\u7acb\uff0c\u5fc5\u5b9a\u4f1a\u6709AB\u548cBA\u90fd\u586b\u5b8c\uff0c\u7531\u4e8e\u4e0a\u9762\u6ee1\u8db3\u4e86 $a+c+d=num_a$ \u548c $b+c+d=num_b$\uff0c\u6240\u4ee5\u8bf4\u5c06AB\u548cBA\u586b\u5b8c\u5269\u4e0b\u7684\u5b57\u7b26\u5fc5\u5b9a\u80fd\u591f\u6ee1\u8db3\u7b54\u6848\u3002\n\n\u90a3\u4e48\u95ee\u9898\u5c31\u53d8\u6210\u4e86\u4ece $s$ \u4e2d\u627e\u4e0d\u76f8\u4ea4\u7684AB\u548cBA\uff0c\u4f7f\u5f97\u5176\u6ee1\u8db3AB\u7684\u4e2a\u6570\u4e3a $c$\uff0cBC\u7684\u4e2a\u6570\u4e3a $d$\u3002\n\n\u9996\u5148\uff0c\u5bf9\u4e8eAA\uff0cBB\u8fd9\u79cd\u4e32\u662f\u5bf9\u7b54\u6848\u6ca1\u6709\u8d21\u732e\u7684\u3002\n\n\u6362\u53e5\u8bdd\u8bf4\uff0c\u53ea\u6709ABAB...\u548cBABA...\u8fd9\u79cdAB\u4ea4\u66ff\u7684\u4e32\u5bf9\u7b54\u6848\u4f1a\u4ea7\u751f\u8d21\u732e\u3002\n\n\u8003\u8651\u5206\u7c7b\u3002\n\n$1.$ \u9996\u5c3e\u76f8\u540c\uff0c\u4e5f\u5c31\u662fABABA\uff0cBABAB\u8fd9\u79cd\uff0c\u90a3\u4e48\u5b83\u4eec\u5bf9AB\u548cBA\u7684\u8d21\u732e\u662f\u4e00\u6837\u7684\uff0c\u90fd\u662f $\\dfrac{len - 1}{2}$\u3002\n\n$2.$ \u9996\u5c3e\u4e0d\u540c\uff0c\u5f62\u5982ABAB\uff0cBABA\u3002\u5bf9\u4e8eA\u5f00\u5934\uff0c\u5b83\u5bf9AB\u7684\u8d21\u732e\u4e3a $\\dfrac{len}{2}$\uff0c\u5bf9BA\u7684\u8d21\u732e\u4e3a $\\dfrac{len}{2} - 1$\u3002B\u5f00\u5934\u540c\u7406\u3002\n\n\u90a3\u4ece\u8d2a\u5fc3\u7684\u89d2\u5ea6\uff0c\u6700\u597d\u662f\u5c06ABAB\uff0c\u62ff\u53bb\u7ed9AB\uff0cBABA\u62ff\u53bb\u7ed9BA\uff0c\u6700\u540eABABA\uff0cBABAB\u8fd9\u79cd\u53bb\u8865\u3002\n\n\u5047\u5982AB\u5df2\u7ecf\u627e\u5b8c\u4e86\uff0cBA\u8fd8\u6709\u5f88\u591a\uff0cABAB\u8fd9\u79cd\u4e32\u4e5f\u8fd8\u6709\u5f88\u591a\uff0c\u90a3\u4e48\u5c31\u5c06\u5269\u4e0b\u7684ABAB\u90fd\u7ed9BA\u505a\u8d21\u732e\u3002\n\n\u4f46\u8fd8\u6709\u4e00\u70b9\uff0cAB\u548cBA\u53ef\u4ee5\u5171\u7528\u4e00\u4e2a\u4e32\u3002\n\n\u8fd9\u662f\u4ec0\u4e48\u610f\u601d\u5462\uff1f\n\n\u5bf9\u4e8eABABABAB...\uff08\u9996\u5c3e\u76f8\u540c\u4e0d\u540c\u90fd\u53ef\uff09\n\n\u6211\u4eec\u53ef\u4ee5\u8ba9\u5b83\u5bf9AB\u7684\u8d21\u732e\u4e3a\u524d $4$ \u4e2a\uff0c\u5c06\u540e $4$ \u4e2a\u7ed9BA\u505a\u8d21\u732e\u3002\n\n## Code\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define pb push_back\nusing namespace std;\n\nconst int N = 2e5;\n\nint _1, _2, _3, _4, n, l, cnt, a[N], b[N], c[N], _a, _b, _c;\n\nstring s;\n\nvoid solve()\n{\n\t_a = _b = _c = 0;\n\tcin >> _1 >> _2 >> _3 >> _4;\n\tcin >> s;\n\tn = s.length();\n\ts = \" \" + s;\n\tint sum = 0;\n\tfor (int i = 1;i <= n;i++)\n\tif (s[i] == 'A')\n\t{\n\t\tsum ++;\n\t}\n\tif (_1 + _3 + _4 != sum || _2 + _3 + _4 != n - sum)\n\t{\n\t\tcout << \"NO\\n\";\n\t\treturn;\n\t}\n\tcnt = 0;\n\tl = 1;\n\tfor (int i = 2;i <= n;i++)\n\tif (s[i] == s[i - 1])\n\t{\n\t\tif (l != i - 1)\n\t\t{\n\t\t\tif (s[l] == s[i - 1])\n\t\t\t{\n\t\t\t\ta[++_a] = i - l >> 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tint k = i - l >> 1;\n\t\t\t\tif (s[l] == 'A')\n\t\t\t\tb[++_b] = k;\n\t\t\t\telse c[++_c] = k;\n\t\t\t}\n\t\t}\n\t\tl = i;\n\t}\n\tif (l != n)\n\t{\n\t\tif (s[l] == s[n])\n\t\t{\n\t\t\ta[++_a] = n - l + 1 >> 1;\n\t\t}\n\t\telse {\n\t\t\tint k = n - l + 1 >> 1;\n\t\t\tif (s[l] == 'A')\n\t\t\tb[++_b] = k;\n\t\t\telse c[++_c] = k;\n\t\t}\n\t}\n\tsort(a + 1, a + _a + 1);//\u9996\u5c3e\u76f8\u540c\n\tsort(b + 1, b + _b + 1);//\u9996\u5c3e\u4e0d\u540c\uff0c\u7b2c\u4e00\u4f4d\u4e3aA\n\tsort(c + 1, c + _c + 1);//\u9996\u5c3e\u4e0d\u540c\uff0c\u7b2c\u4e00\u4f4d\u4e3aB\n\tfor (int i = 1;i <= _b;i++){\n\t\tif (_3 < b[i])\n\t\t{\n\t\t\tb[i] -= _3;\n\t\t\t_3 = 0;\n\t\t\tfor (int j = i;j <= _b;j++)\n\t\t\t_4 -= (b[j] - 1);\n\t\t\tbreak;\n\t\t}//\u82e5AB\u6ca1\u4e86\uff0c\u5269\u4e0b\u90fd\u7ed9BA\n\t\t_3 -= b[i];\n\t}\n\tif (_4 < 0)\n\t{\n\t\tcout << \"YES\\n\";\n\t\treturn;\n\t}\n\tfor (int i = 1;i <= _c;i++)\n\t{\n\t\tif (_4 < c[i])\n\t\t{\n\t\t\tc[i] -= _4;\n\t\t\t_4 = 0;\n\t\t\tfor (int j = i;j <= _c;j++)\n\t\t\t_3 -= (c[j] - 1);\n\t\t\tbreak;\n\t\t}//\u82e5BA\u6ca1\u4e86\uff0c\u5269\u4e0b\u90fd\u7ed9AB\n\t\t_4 -= c[i];\n\t}\n\tif (_3 <= 0 && _4 <= 0)\n\t{\n\t\tcout << \"YES\\n\";\n\t\treturn;\n\t}\n\tsum = 0;\n\tfor (int i = 1;i <= _a;i++)\n\tsum += a[i];\n\tif (max(_3, 0ll) + max(_4, 0ll) > sum)\n\t{\n\t\tcout << \"NO\\n\";\n\t\treturn;\n\t}//\u6700\u540e\u62ff\u9996\u5c3e\u76f8\u540c\u7684\u53bb\u8865\n\telse cout << \"YES\\n\";\n}\n\nsigned main()\n{\n\tios::sync_with_stdio(0);\n\tcin.tie(0);\n\tcout.tie(0);\n\tint t = 1;\n\tcin >> t;\n\twhile (t--)\n\t{\n\t\tsolve();\n\t}\n}\n```",
        "postTime": 1660958797,
        "uid": 173424,
        "name": "Hovery",
        "ccfLevel": 6,
        "title": "CF1685B"
    },
    {
        "content": "# Linguistics-\u9898\u89e3\n\n### \u9898\u610f\n\n\u73b0\u6709 $4$ \u79cd\u788e\u7247 `A`\u3001`B`\u3001`AB`\u3001`BA`\uff0c\u6570\u91cf\u5206\u522b\u4e3a $a$\u3001$b$\u3001$c$\u3001$d$\u3002\u4f60\u53ef\u4ee5\u4ee5\u4efb\u610f\u987a\u5e8f\u62fc\u63a5\u8fd9\u4e9b\u788e\u7247\uff0c\u95ee\u80fd\u5426\u62fc\u6210\u5b57\u7b26\u4e32 $s$\u3002\n\n### \u89e3\u6cd5\n\n\u9996\u5148\u5224\u65e0\u89e3\uff0c\u975e\u5e38\u7b80\u5355\uff0c\u770b `A` \u4e0e `B` \u5404\u81ea\u7684\u4e2a\u6570\u662f\u5426\u5339\u914d\u3002\n\n`A` \u548c `B` \u8865\u4f4d\u5c31\u53ef\u4ee5\uff0c\u6211\u4eec\u4e3b\u8981\u627e `AB` \u548c `BA`\u3002\u90a3\u4e48\u95ee\u9898\u5c31\u53d8\u6210\u4e86\u4ece $s$ \u4e2d\u627e  $c$ \u4e2a`AB` \u548c $d$ \u4e2a `BA`\uff0c\u4e0d\u80fd\u6709\u91cd\u5408\u90e8\u5206\u3002\n\n\u663e\u7136\uff0c\u6211\u4eec\u901a\u8fc7\u62c6\u5206 `ABAB...` \u6216 `BABA...` \u6784\u9020\uff0c\u8003\u8651\u5206\u7c7b\uff1a\n\n1. \u9996\u5c3e\u76f8\u540c\uff0c\u90a3\u4e48\u8fd9\u4e2a\u4e32\u7528 `AB` \u586b\u6216 `BA` \u586b\u90fd\u6700\u591a\u586b $\\frac{length-1}{2}$ \u4e2a\u3002\n\n2. \u9996\u5c3e\u4e0d\u540c\uff0c\u4e0d\u59a8\u8bbe\u4ee5 `A` \u5f00\u5934\uff0c\u90a3\u4e48\u7528 `AB` \u586b\u6700\u591a\u586b $\\frac{length}{2}$ \u4e2a\uff0c\u800c `BA` \u53ea\u80fd\u586b $\\frac{length-2}{2}$ \u4e2a\u3002\u4ee5 `B` \u5f00\u5934\u540c\u7406\u3002\n\n\u8d2a\u5fc3\u5730\uff0c\u5148\u5c06\u7b2c\u4e8c\u79cd\u4e32\u89e3\u51b3\uff0c\u4ee5 `A` \u5f00\u5934\u7684\u586b `AB`\uff0c\u4ee5 `B` \u5f00\u5934\u7684\u586b `BA`\u3002\u5269\u4e0b\u7b2c\u4e00\u79cd\u60c5\u51b5\u7684\u4e32\u3001\u5168 `A` \u4e32\u3001\u5168 `B` \u4e32\u80fd\u586b\u4ec0\u4e48\u5c31\u586b\u4ec0\u4e48\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n\n#define  Int  long long int\n#define  Pub  public\n\nusing std::min;using std::max;\n\nint a,b,c,d,n;\nchar s[200005];\nbool check(){\n    int numa=0,numb=0;\n    for(int i=0;i<n;++i)\n        if(s[i]=='A')++numa;\n        else ++numb;\n    return numa==a+c+d&&numb==b+c+d;\n}\n\nvoid solve(int &A,int x,int &B){\n    if(A>=x){\n        A-=x;\n    }else{\n        x-=A+1; \n        A=0;\n        B-=min(B,x);\n    }\n}\nint main(){\n    int T;\n    scanf(\"%d\",&T);\n    while(~--T){\n        scanf(\"%d%d%d%d\",&a,&b,&c,&d);\n        scanf(\"%s\",s);\n        n=strlen(s);\n        if(!check()){\n            printf(\"No\\n\");\n            continue;\n        }\n        int cd=0;\n        std::vector<int> C,D;\n        for(int i=0;i<n;){\n            int j=i+1;\n            while(j<n&&s[j]!=s[j-1])++j;\n            int len=j-i;\n            if(len==1){\n                i=j;\n                continue;\n            }\n            if(len&1)\n                cd+=len/2;\n            else{\n                len/=2;\n                if(s[i]=='A')\n                    C.push_back(len);\n                else\n                    D.push_back(len);\n            }\n            i=j;\n        }\n        sort(C.begin(),C.end());\n        sort(D.begin(),D.end());\n        for(int i:C)\n            solve(c,i,d);\n        for(int i:D)\n            solve(d,i,c);\n        printf(cd>=c+d?\"Yes\\n\":\"No\\n\");\n    }\n}\n```\n",
        "postTime": 1666358935,
        "uid": 492662,
        "name": "Endt_or_endt",
        "ccfLevel": 5,
        "title": "Linguistics-\u9898\u89e3"
    },
    {
        "content": "## \u5206\u6790\uff1a\n\u8f6c\u5316\u9898\u610f\uff1a\u7ed9\u5b9a\u5b57\u7b26\u4e32 $s$\uff0c\u95ee\u5b83\u80fd\u5426\u7531 $a$ \u4e2a `A`\u3001$b$ \u4e2a `B`\u3001$c$ \u4e2a `AB`\u3001$d$ \u4e2a `BA` \u62fc\u6210\uff0c\u90a3\u4e48\u9996\u5148\u60f3\u5230\u7edf\u8ba1 $s$ \u4e2d\u7684 `A` \u548c `B` \u7684\u4e2a\u6570\u4e0e\u8981\u586b\u7684 `A` \u548c `B` \u4e2a\u6570\u662f\u5426\u76f8\u7b49\uff0c\u82e5\u4e0d\u7b49\u76f4\u63a5\u5224\u5426\u3002\n\n\u7136\u540e\u53d1\u73b0\uff0c`A` \u548c `B` \u4e00\u5b9a\u53ef\u4ee5\u5168\u90e8\u88ab\u586b\u5165 $s$ \u4e2d\uff0c\u90a3\u4e48\u5c31\u53ea\u9700\u5224\u65ad\u5f53\u524d\u5b57\u7b26\u4e32\u80fd\u5426\u586b\u5165 $c$ \u4e2a `AB` \u548c $d$ \u4e2a `BA` \u5373\u53ef\u3002\n\n\u5b57\u7b26\u4e32\u4e2d\u80fd\u653e `AB` \u6216 `BA`\uff0c\u5f53\u4e14\u4ec5\u5f53\u5904\u5728\u8fde\u7eed\u7684 `A` \u548c\u8fde\u7eed\u7684 `B` \u4ea4\u754c\u5904\uff0c\u5f62\u5982\uff1a`AB`\uff0c`ABA`\uff0c`BAB`\uff0c`ABAB` \u7b49\u3002\u8003\u8651\u4ed6\u4eec\u5bf9\u7b54\u6848\u7684\u8d21\u732e\uff0c\u8fd9\u4e9b\u80fd\u653e `AB` \u6216 `BA` \u7684\u5b57\u7b26\u4e32\u53c8\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\uff1a\u957f\u5ea6\u4e3a\u5947\u6570\u4e0e\u957f\u5ea6\u4e3a\u5076\u6570\u3002\n\n\u957f\u4e3a\u5947\u6570\uff1a\u5bf9 `AB` \u548c `BA` \u7684\u8d21\u732e\u76f8\u540c\uff0c\u5747\u4e3a $\\left\\lfloor\\dfrac{len}{2}\\right\\rfloor$\uff1b\n\n\u957f\u4e3a\u5076\u6570\uff1a\u4ee5 `A` \u5f00\u5934\u7684\u5bf9 `AB` \u7684\u8d21\u732e\u4e3a $\\left\\lfloor\\dfrac{len}{2}\\right\\rfloor$\uff0c\u5bf9 `BA` \u7684\u8d21\u732e\u4e3a$\\left\\lfloor\\dfrac{len}{2}\\right\\rfloor-1$\uff0c\u4ee5 `B` \u5f00\u5934\u540c\u7406\u3002\n\n\u586b\u5165 `AB` \u548c `BA` \u7684\u8fc7\u7a0b\u4e2d\uff0c\u8981\u8d2a\u5fc3\u5730\u4f7f\u80fd\u586b\u5165\u7684 `AB` \u548c `BA` \u6700\u591a\uff0c\u90a3\u4e48\u4e00\u5b9a\u4f18\u5148\u9009\u6ca1\u6709\u635f\u8017\u7684\uff0c\u5373 `AB` \u4f18\u5148\u586b\u5165\u4ee5 `A` \u5f00\u5934\u957f\u4e3a\u5076\u6570\u7684\u5b57\u7b26\u4e32\uff0c\u800c `BA` \u4f18\u5148\u586b\u5165\u4ee5 `B` \u5f00\u5934\u957f\u4e3a\u5076\u6570\u7684\u5b57\u7b26\u4e32\uff0c\u82e5\u586b\u5b8c\u540e $c$ \u548c $d$ \u4ecd\u5927\u4e8e $0$\uff0c\u518d\u53bb\u8003\u8651\u586b\u5165\u5176\u5b83\u3002\n\n\u8003\u8651\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff1a$c$ \u5f88\u5c0f\uff0c\u586b\u5b8c\u540e\u5f62\u5982 `ABAB` \u7684\u5b57\u7b26\u4e32\u4ecd\u6709\u5269\u4f59\uff0c\u800c $d$ \u5f88\u5927\uff0c\u9700\u8981\u53bb\u586b\u5165\u957f\u5ea6\u4e3a\u5947\u6570\u7684\u5b57\u7b26\u4e32\uff0c\u800c\u586b\u5b8c $d$ \u4ecd\u5927\u4e8e $0$\uff0c\u6b64\u65f6 `BA` \u4fbf\u9700\u8981\u586b\u5230\u5f62\u5982 `ABAB` \u7684\u5b57\u7b26\u4e32\u91cc\uff0c\u6b64\u65f6\u600e\u4e48\u6700\u5927\u7a0b\u5ea6\u7684\u51cf\u5c11\u635f\u8017\u5462\uff1f\u7531\u4e8e\u6bcf\u4e00\u6bb5\u586b\u5165 `BA` \u7684 `ABAB` \u90fd\u53ea\u635f\u8017 $1$\uff0c\u6545\u5f53\u586b\u5165 `BA` \u7684 `ABAB` \u4e32\u6700\u5c11\u7684\u65f6\u5019 $1$ \u635f\u8017\u6700\u5c0f\u3002\u4e8e\u662f\u5c06\u5f62\u5982 `ABAB` \u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u4f7f `AB` \u4f18\u5148\u586b\u5165\u957f\u5ea6\u5c0f\u7684\u5b57\u7b26\u4e32\uff0c\u8fd9\u6837\u5c31\u80fd\u4fdd\u8bc1\u540e\u9762\u586b\u7684 `BA` \u6700\u591a\u3002\n\n\u4ee3\u7801\u5b9e\u73b0\u5c31\uff0c\u4e0d\u624b\u6b8b\u4e07\u5c81\u5566\u3002\n```cpp\n#include<bits/stdc++.h>\n#define ff(i,s,e) for(int i(s);i<=(e);++i)\nusing namespace std;\ninline int read(){\n\tint x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch>'9'||ch<'0'){if(ch=='-') f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=(x<<1)+(x<<3)+(ch^48);ch=getchar();}\n\treturn x*f;\n}\nconst int N=2e5+5;\nint T,a,b,c,d,n;\nchar s[N];\nint aa[N],bb[N],cnt1,cnt2; \ninline void solve(){\n\ta=read(),b=read(),c=read(),d=read();\n\tscanf(\"%s\",s+1);\n\tn=strlen(s+1);\n\tint sum=0;\n\tint cnta=0,cntb=0; \n\tff(i,1,n){\n\t\tif(s[i]=='A') cnta++;\n\t\telse cntb++;\n\t}\n\tif(cntb-cnta!=b-a) return printf(\"NO\\n\"),void();\n\tcnt1=cnt2=0;\n\ts[n+1]=s[n];//\u9632\u6b62\u5224\u65ad\u51fabug \n\tff(i,1,n){ \n\t\tint cnt=0,st=i;\n\t\twhile(1){\n\t\t\tif(s[i]!=s[i+1]) ++cnt,++i;\n\t\t\telse break;\n\t\t\tif(i==n) break;\n\t\t}\n\t\tif(cnt) ++cnt;\n\t\tif(!cnt) continue;\n\t\tint k=cnt>>1;\n\t\tif(cnt&1) sum+=k;\n\t\telse{\n\t\t\tif(s[st]=='A') aa[++cnt1]=k;\n\t\t\telse bb[++cnt2]=k;\n\t\t}\n\t}\n\tsort(aa+1,aa+cnt1+1),sort(bb+1,bb+cnt2+1);\n\tint pos1=-1,pos2=-1;\n\tff(i,1,cnt1){\n\t\tif(c>=aa[i]) c-=aa[i];\n\t\telse{aa[i]-=c,c=0,pos1=i;break;}\n\t}\n\tff(i,1,cnt2){\n\t\tif(d>=bb[i]) d-=bb[i];\n\t\telse{bb[i]-=d,d=0,pos2=i;break;}\n\t}\n\tif(pos1!=-1&&pos2!=-1) return printf(\"YES\\n\"),void();\n\tif(pos1==-1&&pos2==-1){\n\t\tif(c+d<=sum) printf(\"YES\\n\");\n\t\telse printf(\"NO\\n\");\n\t\treturn;\n\t}\n\telse if(pos1==-1){\n\t\tff(i,pos2,cnt2){\n\t\t\tif(c>=bb[i]-1) c-=bb[i]-1;\n\t\t\telse{c=0;break;}\n\t\t}\n\t\tif(c<=sum) return printf(\"YES\\n\"),void();\n\t\telse return printf(\"NO\\n\"),void();\n\t}\n\telse{\n\t\tff(i,pos1,cnt1){\n\t\t\tif(d>=aa[i]-1) d-=aa[i]-1;\n\t\t\telse{d=0;break;}\n\t\t}\n\t\tif(d<=sum) return printf(\"YES\\n\"),void();\n\t\telse return printf(\"NO\\n\"),void();\n\t}\n}\nsigned main(){\n\tT=read();\n\twhile(T--) solve();\n\treturn 0;\n} \n```\n\u5b8c\u7ed3\u6492\u82b1",
        "postTime": 1658400636,
        "uid": 613616,
        "name": "zcxxn",
        "ccfLevel": 7,
        "title": "CF1685B Linguistics\u9898\u89e3"
    },
    {
        "content": "\u8d2a\u5fc3\u3002\n\n\u9898\u610f\u663e\u7136\u53ef\u4ee5\u8f6c\u5316\u4e3a**\u628a $a$ \u4e2a $\\texttt{A}$\u3001$b$ \u4e2a $\\texttt{B}$\u3001$c$ \u4e2a $\\texttt{A}\\texttt{B}$ \u548c $d$ \u4e2a $\\texttt{B}\\texttt{A}$ \u4e0d\u91cd\u53e0\u5730\u653e\u8fdb\u5b57\u7b26\u4e32 $s$ \u4e2d\uff0c\u4f7f\u5f97\u5bf9\u5e94\u4f4d\u76f8\u7b49**\u3002\n\n\u9996\u5148\u82e5\u653e\u7684 $\\texttt{\\texttt{A}}$\u3001$\\texttt{B}$ \u7684\u4e2a\u6570\u548c $s$ \u4e2d $\\texttt{A}$\u3001$\\texttt{B}$ \u7684\u4e2a\u6570\u4e0d\u540c\uff0c\u90a3\u4e48\u5c31\u662f\u4e0d\u884c\u7684\u3002\u63a5\u4e0b\u6765\u8003\u8651\u8ba9\u6240\u6709\u653e\u5355\u4e2a $\\texttt{A}$ \u548c $\\texttt{B}$ \u7684\u64cd\u4f5c\u90fd\u632a\u5230\u6700\u540e\u8fdb\u884c\uff0c\u90a3\u4e48\u95ee\u9898\u5c31\u8f6c\u5316\u4e3a\u5224\u65ad\u80fd\u5426\u628a $c$ \u4e2a $\\texttt{A}\\texttt{B}$ \u548c $d$ \u4e2a $\\texttt{B}\\texttt{A}$ \u90fd\u653e\u8fdb $s$ \u91cc\u9762\u3002\n\n\u8003\u8651\u4e00\u6bb5\u5f62\u5982 $\\texttt{A}\\texttt{B}\\texttt{A}\\texttt{B}\\texttt{A}\\texttt{B}\\texttt{A}\\texttt{B}$ \u8fd9\u6837 **$\\texttt{A}\\texttt{B}$ \u76f8\u95f4\u7684\u6781\u957f\u5b50\u4e32**\uff0c\u8bbe\u5b83\u7684\u957f\u5ea6\u4e3a $cnt$\uff0c\u90a3\u4e48\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n- \u82e5 $cnt$ \u662f\u5947\u6570\uff0c\u90a3\u4e48\u8fd9\u4e00\u6bb5\u53ef\u4ee5**\u653e $\\lfloor\\frac{cnt}{2}\\rfloor$ \u4e2a $\\texttt{A}\\texttt{B}$ \u6216 $\\texttt{B}\\texttt{A}$**\uff1b\n- \u82e5 $cnt$ \u662f\u5076\u6570\uff0c\u90a3\u4e48\uff1a\n  * \u82e5\u8fd9\u4e00\u6bb5\u4ee5 $\\texttt{B}$ \u7ed3\u5c3e\uff0c\u5373\u5f62\u5982 $\\texttt{A}\\texttt{B}\\texttt{A}\\texttt{B}$\uff0c\u90a3\u4e48\u53ef\u4ee5**\u653e $\\lfloor\\frac{cnt}{2}\\rfloor-1$ \u4e2a $\\texttt{A}\\texttt{B}$ \u6216 $\\texttt{B}\\texttt{A}$\uff0c\u6216\u8005\u53ef\u4ee5\u653e $\\lfloor\\frac{cnt}{2}\\rfloor$ \u4e2a $\\texttt{A}\\texttt{B}$**\uff1b\n  * \u82e5\u8fd9\u4e00\u6bb5\u4ee5 $\\texttt{A}$ \u7ed3\u5c3e\uff0c\u5373\u5f62\u5982 $\\texttt{B}\\texttt{A}\\texttt{B}\\texttt{A}$\uff0c\u90a3\u4e48\u53ef\u4ee5**\u653e $\\lfloor\\frac{cnt}{2}\\rfloor-1$ \u4e2a $\\texttt{A}\\texttt{B}$ \u6216 $\\texttt{B}\\texttt{A}$\uff0c\u6216\u8005\u53ef\u4ee5\u653e $\\lfloor\\frac{cnt}{2}\\rfloor$ \u4e2a $\\texttt{B}\\texttt{A}$**\uff1b\n\n\u4e0d\u96be\u53d1\u73b0\uff0c\u5f53 $cnt$ \u4e3a\u5947\u6570\u65f6\u8fd9\u4e00\u6bb5**\u5bf9 $\\texttt{A}\\texttt{B}$ \u548c $\\texttt{B}\\texttt{A}$ \u90fd\u662f\u516c\u5e73\u7684**\uff0c\u5373\u5b83\u4eec\u653e\u7684\u4e0a\u9650\u90fd\u662f $\\lfloor\\frac{cnt}{2}\\rfloor$\uff0c\u5e76\u4e14\u5bf9\u653e\u591a\u5c11\u4e2a $\\texttt{A}\\texttt{B}$ \u548c\u591a\u5c11\u4e2a $\\texttt{B}\\texttt{A}$ \u6ca1\u6709\u9650\u5236\uff0c\u53ea\u8981\u5b83\u4eec\u6570\u91cf\u52a0\u8d77\u6765\u4e0d\u8d85\u8fc7 $\\lfloor\\frac{cnt}{2}\\rfloor$ \u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u6240\u4ee5\u53ef\u4ee5\u4ee4 $bot=\\sum\\limits_{cnt\\operatorname{mod}2=1}\\lfloor\\frac{cnt}{2}\\rfloor$ \u5373**\u5947\u6570\u6bb5\u6700\u591a\u53ef\u4ee5\u653e\u7684 $\\texttt{A}\\texttt{B}$ \u548c $\\texttt{B}\\texttt{A}$ \u7684\u6570\u91cf**\u3002\n\n\u82e5 $cnt$ \u4e3a\u5076\u6570\uff0c\u90a3\u4e48\u8fd9\u4e00\u6bb5**\u5bf9 $\\texttt{A}\\texttt{B}$ \u548c $\\texttt{B}\\texttt{A}$ \u662f\u4e0d\u516c\u5e73\u7684**\uff0c\u5373\u5b83\u4eec\u653e\u7684\u4e0a\u9650\u4e00\u4e2a\u591a\uff0c\u4e00\u4e2a\u5c11\u3002\u4e3a\u4e86\u51cf\u5c11\u4f4d\u7f6e\u7684\u6d6a\u8d39\uff0c\u4e0d\u59a8**\u5148\u94a6\u5b9a\u8fd9\u4e00\u6bb5\u90fd\u653e\u4e0a\u9650\u591a\u7684\u90a3\u79cd\u5b57\u7b26\u4e32\uff0c\u518d\u7528\u4e24\u4e2a\u6570\u7ec4 $vala$ \u548c $valb$ \u5b58\u504f\u5fc3 $\\texttt{A}\\texttt{B}$ \u6216\u8005 $\\texttt{B}\\texttt{A}$ \u5373\u80fd\u653e\u66f4\u591a $\\texttt{A}\\texttt{B}$ \u6216 $\\texttt{B}\\texttt{A}$ \u7684\u5076\u6570\u6bb5\u4e2d\u4e24\u79cd\u5b57\u7b26\u4e32\u653e\u7f6e\u7684\u4e0a\u9650**\u3002\n\n\u6700\u540e**\u82e5\u6bcf\u4e00\u6bb5\u5076\u6570\u6bb5\u90fd\u653e\u4e0a\u9650\u591a\u7684\u5b57\u7b26\u4e32\u65f6 $c$ \u6216 $d$ \u8fd8\u662f\u5927\u4e8e $0$\uff0c\u90a3\u4e48\u5c31\u8ba9\u504f\u5fc3\u53e6\u4e00\u79cd\u5b57\u7b26\u4e32\u7684\u5076\u6570\u6bb5\u5206\u4e00\u4e9b\u4f4d\u7f6e\u653e\u8fd9\u79cd\u5b57\u7b26\u4e32**\u5373\u53ef\u3002\u4e0d\u96be\u53d1\u73b0\u7531\u4e8e\u6ca1\u5206\u4e4b\u524d\u5076\u6570\u6bb5\u603b\u5171\u80fd\u653e $\\lfloor\\frac{cnt}{2}\\rfloor$ \u4e2a\u5b57\u7b26\u4e32\uff0c\u5206\u4e86\u4e4b\u540e\u53ea\u80fd\u653e $\\lfloor\\frac{cnt}{2}\\rfloor-1$ \u4e2a\uff0c\u6240\u4ee5**\u5206\u7684\u6bb5\u6570\u80af\u5b9a\u662f\u8d8a\u5c11\u8d8a\u597d**\u3002\u90a3\u4e48\u6309\u6bb5\u7684\u957f\u5ea6\u4ece\u5927\u5230\u5c0f\u5206\u5373\u53ef\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n// Problem: D. Linguistics\n// Contest: Codeforces Round #794 (Div. 2)\n// URL: https://codeforces.com/contest/1686/problem/D\n// Memory Limit: 256 MB\n// Time Limit: 1000 ms\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <queue>\n#include <vector>\n#include <map>\n#include <set>\n\nusing namespace std;\n\nconst int S=1919810;\n\nstruct node\n{\n\tint x,y;\n}vala[S],valb[S];\n\nint n,a,b,c,d;\nchar str[S];\n\ninline bool cmp(node x,node y)\n{\n\treturn x.y>y.y;\n}\n\ninline void slove()\n{\n\tcin>>a>>b>>c>>d>>(str+1);\n\tn=strlen(str+1);\n\tint cnta=0,cntb=0;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcnta+=str[i]=='A';\n\t\tcntb+=str[i]=='B';\n\t}\n\tif(cnta-c-d!=a||cntb-c-d!=b) // A \u6216 B \u7684\u6570\u91cf\u4e0d\u7b26\u5408\u7684\u60c5\u51b5\n\t{\n\t\tcout<<\"NO\"<<endl;\n\t\treturn;\n\t}\n\tint m1=0,m2=0,bot=0;\n\tstr[n+1]=str[n];\n\tfor(int i=1,cnt=0;i<=n+1;i++)\n\t{\n\t\tif(str[i]!=str[i-1])\n\t\t{\n\t\t\tcnt++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(cnt>1)\n\t\t\t{\n\t\t\t\tif(cnt&1) // \u516c\u5e73\u7684\u5947\u6570\u6bb5\n\t\t\t\t{\n\t\t\t\t\tbot+=cnt/2;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(str[i-1]=='B')\n\t\t\t\t\t{\n\t\t\t\t\t\tvala[++m1]=(node){cnt/2,cnt/2-1}; // \u504f\u5fc3 AB\n\t\t\t\t\t\tc-=cnt/2;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tvalb[++m2]=(node){cnt/2,cnt/2-1}; // \u504f\u5fc3 BA\n\t\t\t\t\t\td-=cnt/2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tcnt=1;\n\t\t}\n\t}\n\tif(d>0)\n\t{\n\t\tsort(vala+1,vala+m1+1,cmp);\n\t\tfor(int i=1;i<=m1;i++)\n\t\t{\n\t\t\tif(c+vala[i].x<=0)\n\t\t\t{\n\t\t\t\tc+=vala[i].x;\n\t\t\t\td-=vala[i].y;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tint lft=vala[i].x+c;\n\t\t\t\tif(lft>vala[i].y)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\td-=vala[i].y-lft;\n\t\t\t\tc=0;\n\t\t\t}\n\t\t}\n\t}\n\telse\n\t{\n\t\tsort(valb+1,valb+m2+1,cmp);\n\t\tfor(int i=1;i<=m2;i++)\n\t\t{\n\t\t\tif(d+valb[i].x<=0)\n\t\t\t{\n\t\t\t\td+=valb[i].x;\n\t\t\t\tc-=valb[i].y;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tint lft=valb[i].x+d;\n\t\t\t\tif(lft>valb[i].y)\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tc-=valb[i].y-lft;\n\t\t\t\td=0;\n\t\t\t}\n\t\t}\n\t}\n\tc=max(c,0);\n\td=max(d,0);\n\tcout<<(c+d<=bot?\"YES\":\"NO\")<<endl;\n}\n\nint main()\n{\n\tios::sync_with_stdio(false);\n\tint _=1;\n\tcin>>_;\n\twhile(_--)\n\t{\n\t\tslove();\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1656486565,
        "uid": 251130,
        "name": "lovely_ckj",
        "ccfLevel": 0,
        "title": "CF1685B Linguistics \u9898\u89e3"
    }
]