[
    {
        "content": "# ~~\u7ee7\u7eed\u6c34\u6ca1\u4eba\u53d1\u7684\u9898\u89e3~~\n~~\u88f8dp~~\n\n\u6839\u636e\u9898\u610f\uff0c\u53ea\u9700\u679a\u4e3e\u4ea4\u70b9\u6c42\u51fa\u4ea4\u70b9\u5230\u56db\u4e2a\u89d2\u7684\u6700\u5927\u503c\uff0c\u518d\u51cf\u53bb\u4ea4\u70b9\u7684\u503c\u5373\u53ef\u3002\n\n\uff08~~\u501f\u7528cjq\u5927\u4ed9\u7684\u56fe~~\uff09 \n\n![](https://cdn.luogu.com.cn/upload/pic/32141.png)\n\n\n\u663e\u7136\uff0c\u8bbe\u4e24\u4eba\u5728O\u70b9\u76f8\u9047\uff0clahub\u53ea\u80fd\u4ece1\u6216\u80052\u8d70\u5230O\uff0c\u5982\u679c\u4ed6\u4ece1\u8d70\u5230O\uff0c\u90a3\u4ed6\u7684\u8def\u7ebf\u5c31\u662f1=>O=>3\uff0c\u5219Iahubina\u5c31\u662f4=>O=>2\uff0c\u540c\u7406\u53ef\u77e5\uff0c\u82e5lahub\u662f\u4ece2\u8d70\u5230O\uff0c\u4ed6\u7684\u8def\u7ebf\u4e00\u5b9a\u662f2=>O=>4,Iahubina\u5c31\u662f1=>O=>3\u3002\n\n\u6240\u4ee5\uff0c\u6613\u5f97\u51fa\u6700\u7ec8\u89e3\u4e3amax\uff08A\u52301\u6700\u5927\u503c+3\u5230C\u6700\u5927\u503c+D\u52304\u6700\u5927\n\u503c+2\u5230B\u7684\u6700\u5927\u503c\uff0cA\u52302\u6700\u5927\u503c+4\u5230C\u6700\u5927\n\u503c+D\u52301\u6700\u5927\u503c+3\u5230B\u6700\u5927\u503c\uff09\u3002\n\n\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include <algorithm>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\nint dp1[1010][1010],dp2[1010][1010],dp3[1010][1010],dp4[1010][1010];//\u7528\u56db\u4e2adp\u6570\u7ec4\u5b58\u653e\u6700\u5927\u503c\t\nint n,m;\nint a[1010][1010];\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n        scanf(\"%d \",&a[i][j]);\n    }\n}\nmemset(dp1,0,sizeof(dp1));\nmemset(dp2,0,sizeof(dp2));\nmemset(dp3,0,sizeof(dp3));\nmemset(dp4,0,sizeof(dp4));\n     for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n        dp1[i][j]=a[i][j]+max(dp1[i-1][j],dp1[i][j-1]);}}\n    for(int i=n;i>=1;i--){\n        for(int j=m;j>=1;j--){\n        dp2[i][j]=a[i][j]+max(dp2[i+1][j],dp2[i][j+1]);}}\n    for(int i=n;i>=1;i--){\n        for(int j=1;j<=m;j++){\n        dp3[i][j]=a[i][j]+max(dp3[i+1][j],dp3[i][j-1]);}}\n    for(int i=1;i<=n;i++){\n        for(int j=m;j>=1;j--){\n        dp4[i][j]=a[i][j]+max(dp4[i-1][j],dp4[i][j+1]);}}\n    int x=0;\n    for(int i=2;i<n;i++){\n        for(int j=2;j<m;j++)\n        {\n        x=max(x,dp1[i][j-1]+dp2[i][j+1]+dp3[i+1][j]+dp4[i-1][j]);\n        x=max(x,dp1[i-1][j]+dp2[i+1][j]+dp3[i][j-1]+dp4[i][j+1]);}\n    }\n    printf(\"%d\\n\",x);\n    return 0;\n}\n```",
        "postTime": 1534393070,
        "uid": 54722,
        "name": "Sakii",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF429B \u3010Working out\u3011"
    },
    {
        "content": "## \u601d\u8def\n\u8bbe\u4ece\u5de6\u4e0a\u89d2\u5230\u53f3\u4e0b\u89d2\u7684\u4eba\u53eb $A$ \uff0c\u4ece\u5de6\u4e0b\u89d2\u5230\u53f3\u4e0a\u89d2\u7684\u4eba\u53eb $B$ \u3002\u6839\u636e\u9898\u610f\uff0c\u4ed6\u4eec\u4e24\u4e2a\u4f1a\u5728\u4e00\u4e2a\u70b9\u76f8\u9047\uff0c\u800c $A$ \u53ea\u80fd\u5f80\u4e0b\u6216\u5f80\u53f3\u8d70\uff0c $B$ \u53ea\u80fd\u5f80\u4e0a\u6216\u5f80\u53f3\u8d70\uff0c\u6240\u4ee5\u5728\u7a7f\u8fc7\u7167\u76f8\u70b9\u65f6\u4ed6\u4eec\u4e00\u5b9a\u662f\u8d70\u5bf9\u8fb9\u3002\n\n\u679a\u4e3e\u8fc7\u7a0b\u53ef\u4ee5\u62c6\u5206\u6210\uff1a $A$ \u4ece\u51fa\u53d1\u70b9\u5230\u7167\u76f8\u70b9\uff0c\u518d\u4ece\u7167\u76f8\u70b9\u5230\u7ec8\u70b9\uff0c\u5728\u679a\u4e3e\u65f6\u8981\u4ece\u7ec8\u70b9\u5f80\u7167\u76f8\u70b9\u679a\u4e3e\uff1b $B$ \u4ece\u51fa\u53d1\u70b9\u5230\u7ec8\u70b9\uff0c\u518d\u4ece\u7167\u76f8\u70b9\u5230\u7ec8\u70b9\uff0c\u5728\u679a\u4e3e\u65f6\u4ece\u7ec8\u70b9\u5f80\u7167\u76f8\u70b9\u679a\u4e3e\u3002\n\n\u6240\u4ee5\uff0c\u5148\u9884\u5904\u7406\u51fa\u6765\u4ece\u51fa\u53d1\u70b9\u5230\u6bcf\u4e2a\u70b9\u548c\u4ece\u7ec8\u70b9\u5230\u6bcf\u4e2a\u70b9\u7684\u6700\u5927\u5361\u8def\u91cc\uff0c\u7136\u540e\u679a\u4e3e\u7167\u76f8\u70b9\uff0c\u6ce8\u610f\u7167\u76f8\u70b9\u4e0d\u53ef\u80fd\u5728\u8fb9\u4e0a\uff0c\u5982\u679c\u5728\u8fb9\u4e0a\u5c31\u4f1a\u51fa\u73b0\u4e24\u4e2a\u7167\u76f8\u70b9\u3002\n\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint dp1[1001][1001],dp2[1001][1001],dp3[1001][1001],dp4[1001][1001];\nint n,m;\nint a[1001][1001];\nint main()\n{\n    cin>>n>>m;\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n        \tcin>>a[i][j];\n    for(int i=1;i<=n;i++)//A\u4ece\u51fa\u53d1\u70b9\u5230\u7167\u76f8\u70b9 \n        for(int j=1;j<=m;j++)\n        \tdp1[i][j]=a[i][j]+max(dp1[i-1][j],dp1[i][j-1]);\n    for(int i=n;i>=1;i--)//A\u4ece\u7ec8\u70b9\u5230\u7167\u76f8\u70b9 \n        for(int j=m;j>=1;j--)\n        \tdp2[i][j]=a[i][j]+max(dp2[i+1][j],dp2[i][j+1]);\n    for(int i=n;i>=1;i--)//B\u4ece\u51fa\u53d1\u70b9\u5230\u7167\u76f8\u70b9 \n        for(int j=1;j<=m;j++)\n        \tdp3[i][j]=a[i][j]+max(dp3[i+1][j],dp3[i][j-1]);\n    for(int i=1;i<=n;i++)//B\u4ece\u7ec8\u70b9\u5230\u7167\u76f8\u70b9 \n        for(int j=m;j>=1;j--)\n        \tdp4[i][j]=a[i][j]+max(dp4[i-1][j],dp4[i][j+1]);\n    int x=0;//x\u8bb0\u5f55\u603b\u5361\u8def\u91cc\u6570 \n    for(int i=2;i<n;i++)//\u679a\u4e3e\u7167\u76f8\u70b9\n        for(int j=2;j<m;j++)\n\t        x=max(max(x,dp1[i][j-1]+dp2[i][j+1]+dp3[i+1][j]+dp4[i-1][j]),max(x,dp1[i-1][j]+dp2[i+1][j]+dp3[i][j-1]+dp4[i][j+1]));\n    cout<<x<<endl;\n    return 0;\n}\n```\n",
        "postTime": 1619927368,
        "uid": 406947,
        "name": "Allanljx",
        "ccfLevel": 5,
        "title": "CF429B\u9898\u89e3"
    },
    {
        "content": "~~\u8001\u5e08\u4eca\u5929\u4e0a\u8bfe\u8bb2\u7684\u9898\uff0c\u6ca1\u4ec0\u4e48\u9898\u89e3\u5c31\u6765\u6c34\u4e00\u53d1[doge]~~\n\n### \u601d\u8def\n\u6211\u4eec\u5148\u5047\u5b9a\u5de6\u4e0a\u89d2\u51fa\u53d1\u7684\u90a3\u4e2a\u4eba\u53eb$A$\uff0c\u5de6\u4e0b\u89d2\u51fa\u53d1\u7684\u90a3\u4e2a\u4eba\u53eb$B$\u3002\u90a3\u4e48\uff0c\u7531\u9898\u610f\u5f97\uff0c\u4ed6\u4eec\u4e24\u4e2a\u4e00\u5b9a\u4f1a\u5728\u5730\u56fe\u4e0a\u67d0\u4e00\u4e2a\u4e14**\u4ec5**\u4e00\u4e2a\u70b9\u76f8\u9047\uff0c\u6c42\u4ed6\u4eec\u8d70\u7684\u8def\u4e0a\u6240\u6709\u7ecf\u8fc7\u7684\u70b9\u7684\u6743\u503c\u548c\uff08\u4e0d\u5305\u62ec\u76f8\u9047\u7684\u70b9\uff09\u3002\n\n\u6240\u4ee5\u8bf4\u6211\u4eec\u5148\u7528\u56db\u4e2a\u6570\u7ec4\u5206\u522b\u9012\u63a8\u51fa\u4ece\u5de6\u4e0a\u3001\u53f3\u4e0a\u3001\u5de6\u4e0b\u3001\u53f3\u4e0b\u51fa\u53d1\uff0c\u5230\u6240\u6709\u70b9\u7684\u6700\u5c0f\u8ddd\u79bb\u3002\u9884\u5904\u7406\u597d\u4e86\u6211\u4eec\u5c31\u53ef\u4ee5\u5f00\u59cb~~\u6109\u5feb\u5730~~\u66b4\u529b\u679a\u4e3e\u4e86\uff01\u679a\u4e3e\u7684\u4e1c\u897f\u5c31\u662f$A$,$B$\u4e24\u4e2a\u4eba\u76f8\u9047\u7684\u70b9$(i,j)$\u3002\n\n~~\u663e\u7136~~\uff0c\u4ed6\u4eec\u6709\u4e24\u79cd\u8d70\u6cd5\uff1a\u7b2c\u4e00\u79cd\u662f$A$\u8d70\u5230$(i-1,j)$\uff0c\u7136\u540e\u4ece$(i+1,j)$\u51fa\u53d1\uff0c$B$\u8d70\u5230$(i,j-1)$\u4ece$(i,j+1)$\u51fa\u53d1\uff1b \u7b2c\u4e8c\u79cd\u662f$A$\u8d70\u5230$(i,j-1)$\u4ece$(i,j+1)$\u51fa\u53d1\uff0c$B$\u8d70\u5230$(i+1,j)$\u4ece$(i-1,j)$\u51fa\u53d1\u3002\uff08\u89c9\u5f97\u5570\u55e6\uff1f\u770b\u56fe\uff01\uff09\n\n\u7b2c\u4e00\u79cd\uff08\u7ea2\u8272\u4e3a$A$\uff0c\u7eff\u8272\u4e3a$B$\uff0c\u68d5\u8272\u662f\u76f8\u9047\u70b9\uff09\uff1a![1.png](https://i.loli.net/2020/07/29/QGirt1pZF4bsNOD.png)\n\n\u7b2c\u4e8c\u79cd\uff08\u7ea2\u8272\u4e3a$A$\uff0c\u7eff\u8272\u4e3a$B$\uff0c\u68d5\u8272\u662f\u76f8\u9047\u70b9\uff09\uff1a![2.png](https://i.loli.net/2020/07/29/A67LrQqdiYoIaHj.png)\n\n\u4e8e\u662f\u5c31\u653e$ACcode:$\n```\n#include<bits/stdc++.h>\n#define F(i,l,r) for(register int i=l;i<=r;i++)\n#define uF(i,l,r) for(register int i=l;i>=r;i--)\n#define ll long long\n#define mem(a,b) memset(a,b,sizeof(a))\n#define p_b push_back\n#define m_p make_pair\n#define il inline\nusing namespace std;\nconst int N=1005;\nint n,m;\nint mp[N][N];\nll ans,maxn,dp[N][N],dp1[N][N],dp2[N][N],dp3[N][N];\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\tF(i,1,n) F(j,1,m) scanf(\"%d\",&mp[i][j]);\n\tF(i,1,n) F(j,1,m) dp[i][j]=mp[i][j]+max(dp[i][j-1],dp[i-1][j]);//\u5de6\u4e0a\n\tF(i,1,n) uF(j,m,1) dp1[i][j]=mp[i][j]+max(dp1[i][j+1],dp1[i-1][j]);//\u53f3\u4e0a\n\tuF(i,n,1) F(j,1,m) dp2[i][j]=mp[i][j]+max(dp2[i+1][j],dp2[i][j-1]);//\u5de6\u4e0b\n\tuF(i,n,1) uF(j,m,1) dp3[i][j]=mp[i][j]+max(dp3[i+1][j],dp3[i][j+1]);//\u53f3\u4e0b\n\tF(i,2,n-1) F(j,2,m-1) /*\u679a\u4e3e\u51fa\u53d1\u70b9*/maxn=max({maxn,dp[i-1][j]+dp1[i][j+1]+dp2[i][j-1]+dp3[i+1][j],dp[i][j-1]+dp1[i-1][j]+dp2[i+1][j]+dp3[i][j+1]});//\u8ba1\u7b97\u4e24\u79cd\u8d70\u6cd5\n\tprintf(\"%lld\\n\",maxn);\n\treturn 0;\n}\n```\n\u5b8c\u7ed3\u6492\u82b1~~",
        "postTime": 1596003463,
        "uid": 117648,
        "name": "tuzhewen",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 CF429B \u3010Working out\u3011"
    },
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF429B)\n\n### \u9898\u76ee\u5206\u6790\n\n\u6839\u636e\u9898\u76ee\uff0c\u6211\u4eec\u4e0d\u96be\u53d1\u73b0\u4e24\u4eba\u4e00\u4eba\u8981\u4ece\u5de6\u4e0b\u89d2\u5230\u53f3\u4e0a\u89d2\uff0c\u4e00\u4eba\u4ece\u5de6\u4e0a\u89d2\uff0c\u5230\u53f3\u4e0b\u89d2\uff0c\u4e14\u4e2d\u95f4\u4f1a\u6709\u4e00\u6b21\u76f8\u9047\u3002\n\n\u5173\u952e\u5728\u4e8e\u90a3\u4e00\u6b21\u76f8\u9047\u7684\u5730\u70b9\u9009\u62e9\uff0c\u5e76\u4e14\u4ece\u76f8\u9047\u70b9\u5230\u7ec8\u70b9\u548c\u7ec8\u70b9\u8dd1\u5230\u76f8\u9047\u70b9\u7684\u6027\u8d28\u5176\u5b9e\u76f8\u540c\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8003\u8651\uff0c\u56db\u4e2a\u4eba\u4ece\u56db\u4e2a\u89d2\u8dd1\u5230\u4e00\u4e2a\u70b9\uff0c\u5de6\u4e0a\u89d2\u7684\u4eba\u53ea\u80fd\u5411\u53f3\u6216\u5411\u4e0b\uff1b\u5de6\u4e0b\u89d2\u7684\u4eba\u53ea\u80fd\u5411\u53f3\u6216\u5411\u4e0a\uff1b\u53f3\u4e0a\u89d2\u7684\u4eba\u53ea\u80fd\u5411\u5de6\u540e\u5411\u4e0b\uff1b\u53f3\u4e0b\u89d2\u7684\u4eba\u53ea\u80fd\u5411\u5de6\u6216\u5411\u4e0a\u3002\u56db\u4eba\u8dd1\u5230\u8fd9\u4e2a\u70b9\u8def\u5f84\u7684\u6743\u503c\u548c\u6700\u5927\u3002\n\n\u7531\u4e8e\u6211\u4eec\u4e0d\u77e5\u9053\u76f8\u9047\u7684\u5730\u65b9\u5728\u54ea\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u679a\u4e3e\u76f8\u9047\u7684\u70b9\u6765\u6bd4\u5bf9\u8fdb\u800c\u627e\u5230\u6700\u7ec8\u7684\u6700\u5927\u503c\u3002\n\n\u90a3\u4e48\u5982\u4f55\u4f7f\u8d77\u70b9\u5230\u8fd9\u4e2a\u70b9\u8def\u5f84\u7684\u6743\u503c\u548c\u6700\u5927\u5462\uff1f\n\n\u901a\u8fc7\u9012\u63a8\uff0c\u627e\u51fa\u8d77\u70b9\u5230\u5168\u56fe\u4e0a\u6240\u6709\u70b9\u7684\u6700\u5927\u6743\u503c\u3002\u4ee5\u5de6\u4e0a\u89d2\u4e3a\u4f8b\u3002\n\n```cpp\n//\u5de6\u4e0a\u89d2\u9012\u63a8 \nfor(int i=1;i<=n;i++)//\u679a\u4e3e\u6a2a\u5750\u6807\n    for(int j=1;j<=m;j++)//\u679a\u4e3e\u7eb5\u5750\u6807\n        z_s[i][j]=a[i][j]+max(z_s[i-1][j],z_s[i][j-1]);//\u53d6\u6700\u5927\u503c\n```\n\n### \u60c5\u51b5\u5206\u6790\n\n\u4f46\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u6bcf\u4e2a\u89d2\u5230\u4e00\u70b9\u56de\u5408\u65f6\uff0c\u8fdb\u5165\u70b9\u7684\u65b9\u5411\u4e5f\u53ef\u80fd\u4e0d\u540c\u3002\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5\uff08\u7531\u4e8e\u65b9\u5411\u7ea6\u675f\uff09\u3002\n\n```latex\n       \u5de6\u4e0a\u89d2\n \u5de6\u4e0b\u89d2 \u6c47\u5408 \u53f3\u4e0a\u89d2\n       \u53f3\u4e0b\u89d2\n\n       \u53f3\u4e0a\u89d2\n \u5de6\u4e0a\u89d2 \u6c47\u5408 \u53f3\u4e0b\u89d2\n       \u5de6\u4e0b\u89d2\n```\n### \u6ce8\u610f\n\n- \u5728\u8ba1\u7b97\u7ed3\u679c\u7684\u65f6\u5019\u8981\u5224\u4e00\u4e0b\u4e24\u79cd\u7ed3\u679c\u6700\u5927\u503c\u3002\n- \u6211\u4eec\u7684\u8ba8\u8bba\u7684\u70b9\u4e0a\u4e0b\u5de6\u53f3\u56db\u4e2a\u90fd\u53ef\u4ee5\u8fbe\u5230\uff0c\u6240\u4ee5\u8fd9\u4e2a\u76f8\u9047\u7684\u70b9\u4e0d\u5728\u8fb9\u7ebf\u4e0a\u3002\n- \u201c\u53e6\u5916\uff0c\u4ed6\u4eec\u7684\u5065\u8eab\u901f\u5ea6\u4e0d\u540c\uff0c\u6240\u4ee5\u53ef\u4ee5\u8d70\u8fc7\u7684\u8def\u7ebf\u957f\u5ea6\u4e5f\u4e0d\u540c\u3002\u201d\u6240\u4ee5\uff0c\u6211\u4eec\u4e0d\u7528\u7279\u5224\u4ed6\u4eec\u7684\u901f\u5ea6\u662f\u5426\u5408\u6cd5\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<string>\n#include<algorithm>\n#include<queue>\n#include<vector>\nusing namespace std;\nlong long r_r(){//\u5feb\u8bfb \n\tlong long x=0,f=1;\n\tchar c=getchar();\n\twhile(!isdigit(c)){\n\t\tif(c=='-')f=-1;\n\t\tc=getchar();\n\t}\n\twhile(isdigit(c)){\n\t\tx=(x<<1)+(x<<3)+(c^48);\n\t\tc=getchar();\n\t}\n\treturn x*f;\n}\nconst long long o_o=1e3+10;\nusing namespace std;\nlong long z_s[o_o][o_o];//\u5de6\u4e0a\u89d2\nlong long y_x[o_o][o_o];//\u53f3\u4e0b\u89d2\nlong long z_x[o_o][o_o];//\u5de6\u4e0b\u89d2\nlong long y_s[o_o][o_o];//\u53f3\u4e0a\u89d2\nint x,y;\nint a[o_o][o_o];\nint main(){\n    x=r_r(),y=r_r();\n    for(int i=1;i<=x;i++)//\u8bfb\u5165 \n        for(int j=1;j<=y;j++)a[i][j]=r_r();\n    for(int i=1;i<=x;i++)//\u5de6\u4e0a\u89d2\u9012\u63a8 \n        for(int j=1;j<=y;j++)\n        \tz_s[i][j]=a[i][j]+max(z_s[i-1][j],z_s[i][j-1]);\n    for(int i=x;i>=1;i--)//\u53f3\u4e0b\u89d2\u9012\u63a8 \n        for(int j=y;j>=1;j--)\n        \ty_x[i][j]=a[i][j]+max(y_x[i+1][j],y_x[i][j+1]);\n    for(int i=x;i>=1;i--)//\u5de6\u4e0b\u89d2\u9012\u63a8 \n        for(int j=1;j<=y;j++)\n        \tz_x[i][j]=a[i][j]+max(z_x[i+1][j],z_x[i][j-1]);\n    for(int i=1;i<=x;i++)//\u53f3\u4e0a\u89d2\u9012\u63a8 \n        for(int j=y;j>=1;j--)\n        \ty_s[i][j]=a[i][j]+max(y_s[i-1][j],y_s[i][j+1]);\n    long long m_a=0;\n    for(int i=2;i<x;i++)//\u627e\u6700\u5927\u503c \n        for(int j=2;j<y;j++)\n        \tm_a=max(max(m_a,z_s[i][j-1]+y_x[i][j+1]+z_x[i+1][j]+y_s[i-1][j]),max(m_a,z_s[i-1][j]+y_x[i+1][j]+z_x[i][j-1]+y_s[i][j+1]));        \n    printf(\"%lld\\n\",m_a);\n    return 0;\n}\n```\n",
        "postTime": 1631173349,
        "uid": 120012,
        "name": "\u738b\u5927\u795e\u2014\u2014A001",
        "ccfLevel": 0,
        "title": "CF429B Working out\u9898\u89e3"
    }
]