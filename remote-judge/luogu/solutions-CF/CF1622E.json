[
    {
        "content": "### Analysis\n\n\u521d\u4e2d\u6570\u5b66\u544a\u8bc9\u6211\u4eec\uff0c\u9047\u5230\u7edd\u5bf9\u503c\u8981\u5206\u7c7b\u3002\n\n\u8003\u8651\u6700\u7ec8\u7b54\u6848\u4e2d\u6bcf\u4e00\u4e2a\u4eba\u7684\u8d21\u732e\u662f $x_i-r_i$ \u8fd8\u662f $r_i-x_i$\uff0c\u53d1\u73b0\u8fd9\u53ef\u4ee5\u72b6\u538b\u89e3\u51b3\u3002\n\n\u5bf9\u4e8e\u4e00\u79cd\uff0c\u8bb0 $c_1,c_2,\\dots,c_n(c_i\\in\\{-1,1\\})$ \u8868\u793a\u7b2c $i$ \u540d\u5b66\u751f\u7684\u8d21\u732e\u4e3a $c_i(x_i-r_i)$\u3002\n\n\u5219\u60ca\u559c\u503c\u4e3a\uff08\u5176\u4e2d $a_1,\\dots,a_m$ \u8868\u793a\u6700\u7ec8\u6bcf\u9898\u7684\u5206\u503c\uff0c\u4e3a\u672a\u77e5\u91cf\uff09\uff1a\n\n$$\\begin{aligned}\nS&=\\sum\\limits_{i=1}^nc_i(x_i-r_i)\n\\\\&=\\sum\\limits_{i=1}^nc_ix_i-\\sum\\limits_{i=1}^nc_ir_i\n\\\\&=\\sum\\limits_{i=1}^nc_ix_i-\\sum\\limits_{i=1}^nc_i\\sum\\limits_{j=1}^ma_jp_{i.j}\n\\\\&=\\sum\\limits_{i=1}^nc_ix_i-\\sum\\limits_{i=1}^nc_i\\sum\\limits_{j=1}^ma_jp_{i.j}\n\\\\&=\\sum\\limits_{i=1}^nc_ix_i-\\sum\\limits_{j=1}^m\\left(\\sum\\limits_{i=1}^nc_ip_{i.j}\\right)a_j\n\\end{aligned}$$\n\n\u8bb0\uff08\u8868\u793a\u7b2c $j$ \u9898\u5728\u6700\u7ec8\u7b54\u6848\u4e2d\u7684\u7cfb\u6570\uff09\uff1a\n\n$$d_j=\\sum\\limits_{i=1}^nc_ip_{i.j}$$\n\n\u5f97\uff1a\n\n$$S=\\sum\\limits_{i=1}^nc_ix_i-\\sum\\limits_{i=1}^md_ia_i$$\n\n\u7531\u4e8e $\\{a\\}$ \u662f\u4e00\u4e2a $1\\to m$ \u7684\u6392\u5217\uff0c\u5c06 $d_i$ \u66f4\u5c0f\u7684 $a_i$ \u8d4b\u66f4\u5927\u7684\u503c\u5c06\u4f7f $S$ \u6700\u5927\u3002\uff08[\u6392\u5e8f\u4e0d\u7b49\u5f0f](https://baike.baidu.com/item/%E6%8E%92%E5%BA%8F%E4%B8%8D%E7%AD%89%E5%BC%8F/7775728)\uff09\n\n\u5bf9\u4e8e\u6bcf\u4e00\u79cd $\\{c\\}$\uff08\u72b6\u538b\uff09\uff0c\u6c42\u51fa\u7b54\u6848\u540e\u53d6 $\\max$ \u5373\u53ef\u3002\n\n### Detail\n\n\u7ec6\u5fc3\u7684\u5c0f\u53ef\u7231\u4eec\u80af\u5b9a\u53d1\u73b0\u4e86\u95ee\u9898\uff1a**\u4f1a\u628a\u9519\u89e3\u7b97\u8fdb\u53bb\u554a\u3002**\n\n\u5177\u4f53\u5730\uff0c\u6709\u53ef\u80fd\u6700\u7ec8\u67d0\u4e9b\u4eba\u7684\u8d21\u732e $c_i(x_i-r_i)<0$\uff08\u7c7b\u6bd4\u4e8e\u7edd\u5bf9\u503c $|x|$ \u5206\u7c7b $x>0$ \u540e\u89e3\u5f97 $x=-2$ \u4e00\u6837\u77db\u76fe\uff09\u3002\n\n\u4f46\u662f**\u4e00\u5b9a\u6709\u6b63\u89e3\u628a\u9519\u89e3\u5237\u6389**\u3002\n\n\u5177\u4f53\u5730\uff0c\u5bf9\u4e8e\u4e0b\u6807\u96c6\u5408 $W=\\{i\\ |\\ c_i(x_i-r_i)<0\\}$\uff0c\u6211\u4eec\u5728\u679a\u4e3e $\\{c\\}$ \u65f6\u679a\u4e3e\u5230 $W$ \u4e2d\u7684 $c_i$ \u5168\u90e8\u53d6\u53cd\uff08\u76f8\u53cd\u6570\uff09\u65f6\uff0c\u7b54\u6848\u4e00\u5b9a\u6bd4\u8fd9\u79cd\u60c5\u51b5\u8981\u4f18\u3002\n\n### Code\n\n\u65f6\u95f4 $O(nm2^n)$\u3002\uff08\u8dd1 $10^8$ \u80fd\u8fc7\uff0cCF \u673a\u5b50\u5feb)\n\n[Link](https://codeforces.com/contest/1622/submission/142377050)",
        "postTime": 1641912067,
        "uid": 101868,
        "name": "I_am_Accepted",
        "ccfLevel": 0,
        "title": "CF1622E Math Test"
    },
    {
        "content": "# CF1622E\n### \u9898\u610f\u7b80\u8ff0\n\u6709 $n$ \u4e2a\u4eba\u505a $m$ \u9053\u9898\uff0c\u77e5\u9053\u6bcf\u4e2a\u4eba\u505a\u9898\u7684\u5bf9\u9519\u60c5\u51b5\u3002\u6bcf\u4e2a\u4eba\u6709\u4e00\u4e2a\u9884\u671f\u5f97\u5206 $x_i$ \u548c\u5b9e\u9645\u5f97\u5206 $r_i$\u3002$x_i$ \u7ed9\u5b9a\uff0c\u800c $r_i$ \u662f\u8be5\u4eba\u505a\u5bf9\u9898\u76ee\u7684\u5206\u6570\u4e4b\u548c\u3002\u5b9a\u4e49 \u201c\u60ca\u559c\u5ea6\u201d \u4e3a $\\displaystyle\\sum_{i=1}^n|x_i-r_i|$\u3002\u8bf7\u4f60\u6784\u9020\u51fa\u4e00\u4e2a\u6bcf\u9053\u9898\u7684\u5206\u6570\u65b9\u6848\uff0c\u4f7f\u5f97\uff1a\n\n- \u5206\u6570\u662f\u4e00\u4e2a $1\\sim m$ \u7684\u6392\u5217\u3002\n- \u5728\u6240\u6709\u7684\u65b9\u6848\u4e2d\uff0c\u8be5\u65b9\u6848\u7684 \u201c\u60ca\u559c\u5ea6\u201d \u6700\u5927\u3002\n\n\u5982\u679c\u6709\u591a\u79cd\u53ef\u80fd\u7684\u7b54\u6848\uff0c\u4f60\u53ea\u8981\u8f93\u51fa\u5176\u4e2d\u4e00\u7ec4\u5373\u53ef\u3002\n\n$1\\leq n\\leq 10,1\\leq m\\leq 10^4,0\\leq x_i\\leq \\frac{m(m-1)}{2}$\u3002\n\n### \u9898\u76ee\u5206\u6790\n\u6ce8\u610f\u5230\u60ca\u559c\u5ea6\u662f\u4ee5\u7edd\u5bf9\u503c\u5b9a\u4e49\u7684\uff0c\u6211\u4eec\u8003\u8651\u5c06\u7edd\u5bf9\u503c\u62c6\u5f00\u3002\u56e0\u4e3a $n$ \u5f88\u5c0f\uff0c\u6211\u4eec\u8003\u8651\u72b6\u538b\u679a\u4e3e\u54ea\u4e9b\u4eba\u7684\u8d21\u732e\u662f $x_i-r_i$\uff0c\u54ea\u4e9b\u4eba\u7684\u8d21\u732e\u662f $r_i-x_i$\u3002\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6bcf\u9053\u9898\u7684\u5206\u6570\u5728\u7b54\u6848\u4e2d\u7684\u8d21\u732e\u4e86\u3002\u5177\u4f53\u5730\u8bf4\uff0c\u6211\u4eec\u8bb0\u5f55\u4e00\u4e2a\u6743\u503c\u6570\u7ec4\uff0c\u8868\u793a\u8be5\u9898\u5f97\u5206\u5728\u7b54\u6848\u4e2d\u7684**\u7cfb\u6570**\u662f\u591a\u5c11\uff0c\u5e76\u4e0e\u8be5\u9898\u7684\u7f16\u53f7\u7ed1\u5b9a\u3002\n\n\u53c8\u56e0\u4e3a\u6211\u4eec\u77e5\u9053\u6240\u6709\u7684 $x_i$ \u4e14\u679a\u4e3e\u4e86 $x_i$ \u7684\u6b63\u8d1f\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6240\u6709 $x_i$ \u5bf9\u7b54\u6848\u7684\u8d21\u732e\u3002\n\n\u63a5\u7740\uff0c\u56e0\u4e3a\u9898\u76ee\u7684\u5206\u6570\u662f\u4e00\u4e2a $1\\sim m$ \u7684\u6392\u5217\uff0c\u8bbe\u6211\u4eec\u7684\u6743\u503c\u6570\u7ec4\u4e3a $a$\uff0c\u5219\u6211\u4eec\u8981\u91cd\u6392 $a$ \u6570\u7ec4\uff0c\u4f7f $\\displaystyle\\sum_{i=1}^m i\\times a_i$ \u6700\u5927\u3002\n\n\u663e\u7136\uff0c\u6700\u4f18\u91cd\u6392\u65b9\u6848\u662f\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u3002\u8bc1\u660e\u7b80\u5355\uff0c\u8fd9\u91cc\u7565\u8fc7\u3002\n\n\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u8ba1\u7b97\u51fa\u4e86\u5bf9\u4e8e\u5f53\u524d\u7684\u6b63\u8d1f\u60c5\u51b5\uff0c\u6700\u5927\u7684\u60ca\u559c\u5ea6\u662f\u591a\u5c11\u3002\u6211\u4eec\u53ea\u8981\u62ff\u5f53\u524d\u7684\u7b54\u6848\u548c\u5176\u6bd4\u8f83\uff0c\u5c31\u53ef\u4ee5\u77e5\u9053\u54ea\u4e2a\u66f4\u4f18\uff0c\u5e76\u66f4\u65b0\u7b54\u6848\u4e86\u3002\n\nCode\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint t,n,m,x[20],res[10010];\nchar s[20][10010];\nstruct node\n{\n\tint v,id;\n\tbool operator < (node b) const\n\t{\n\t\treturn v<b.v;\n\t}\n}a[10010];\nint main()\n{\n\tscanf(\"%d\",&t);\n\twhile(t--)\n\t{\n\t\tint ans=-1;\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tfor(int i=1;i<=n;i++)scanf(\"%d\",&x[i]);\n\t\tfor(int i=1;i<=n;i++)scanf(\"%s\",s[i]+1);\n\t\tfor(int msk=0;msk<(1<<n);msk++)\n\t\t{\n\t\t\tint sum=0;\n\t\t\tfor(int i=1;i<=n;i++)sum+=(msk&(1<<i-1))?x[i]:-x[i];\n\t\t\tfor(int i=1;i<=m;i++)\n\t\t\t{\n\t\t\t\ta[i].id=i,a[i].v=0;\n\t\t\t\tfor(int j=1;j<=n;j++)\n\t\t\t\t\tif(s[j][i]=='1')a[i].v+=(msk&(1<<j-1))?-1:1;\n\t\t\t}\n\t\t\tsort(a+1,a+m+1);\n\t\t\tfor(int i=1;i<=m;i++)sum+=i*a[i].v;\n\t\t\tif(ans<sum)\n\t\t\t{\n\t\t\t\tans=sum;\n\t\t\t\tfor(int i=1;i<=m;i++)res[a[i].id]=i;\n\t\t\t}\n\t\t} \n\t\tfor(int i=1;i<=m;i++)printf(\"%d \",res[i]);\n\t\tputs(\"\");\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1640656508,
        "uid": 333574,
        "name": "Tyyyyyy",
        "ccfLevel": 7,
        "title": "CF1622E\u9898\u89e3"
    },
    {
        "content": "### $\\text{Difficulty : 2200}$\n---\n### \u89e3\u9898\u601d\u8def\uff1a\n\n\u76f4\u63a5\u7528\u7edd\u5bf9\u503c\u7684\u8bdd\u4e0d\u662f\u7279\u522b\u597d\u5904\u7406\uff0c\u53d1\u73b0\u4eba\u6570 $n$ \u5f88\u5c0f\uff0c\u8003\u8651\u76f4\u63a5\u66b4\u529b\u679a\u4e3e\u51fa\u6240\u6709\u7684\u4eba\u7684\u5b9e\u9645\u5206\u6570\u4e0e\u7406\u60f3\u5206\u6570\u7684\u5927\u5c0f\u5173\u7cfb\uff0c\u4ee5\u786e\u5b9a\u7edd\u5bf9\u503c $x_i$ \u8d21\u732e\u7684\u6b63\u8d1f\u60c5\u51b5\u3002\n\n\u5904\u7406\u5b8c\u4e4b\u540e\u76f4\u63a5\u5206\u644a\u5230\u6bcf\u4e00\u9053\u9898\u76ee\u7684\u8d21\u732e\uff0c\u6bcf\u9053\u9898\u7684\u5206\u6570\u662f\u4e00\u4e2a\u6392\u5217\uff0c\u76f4\u63a5\u6392\u5e8f\u8d2a\u5fc3\u5c31\u884c\u4e86\u3002\n\n\u5b9e\u9645\u5904\u7406\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u5e76\u4e0d\u9700\u8981\u68c0\u9a8c\u5230\u5e95\u662f\u4e0d\u662f\u7b26\u5408\u4e4b\u524d\u679a\u4e3e\u51fa\u6765\u7684\u5927\u5c0f\u5173\u7cfb\uff0c\u56e0\u4e3a\u6b63\u786e\u7684\u7b54\u6848\u4e00\u5b9a\u5728\u5176\u4e2d\uff0c\u4e0d\u6b63\u786e\u7684\u4e0d\u6392\u9664\u4e5f\u4e0d\u4f1a\u6709\u95ee\u9898\u3002\n\n\u603b\u590d\u6742\u5ea6\uff1a$O(2^nnm)$\u3002\n\n---\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nstruct str{\n\tint id,mark,cnt;\n\tbool operator <(str a){\n\t\treturn cnt<a.cnt;\n\t}\n}ans[10005],cur[10005];\nbool cmp(str a,str b){\n\treturn a.id<b.id;\n}\nint T,n,m,x[15],cor[15][10005],v[15],res,mark[15],flag,res_e;\nint main(){\n\tscanf(\"%d\",&T);\n\twhile(T--){\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tfor(int i=1;i<=n;i++)scanf(\"%d\",&x[i]);\n\t\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\tscanf(\"%1d\",&cor[i][j]);\n\t\tres_e=-1;\n\t\tfor(int i=0;i<=(1<<n);i++){\n\t\t\tfor(int j=0;j<n;j++){\n\t\t\t\tif(((i>>j)&1)==1)v[j+1]=1;\n\t\t\t\telse v[j+1]=-1;\n\t\t\t}\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tcur[j].id=j;\n\t\t\t\tcur[j].mark=0;\n\t\t\t\tcur[j].cnt=0;\n\t\t\t}\n\t\t\tfor(int j=1;j<=n;j++)\n\t\t\tfor(int k=1;k<=m;k++)\n\t\t\tif(cor[j][k]==1)cur[k].cnt+=v[j];\n\t\t\tsort(cur+1,cur+m+1);\n\t\t\tfor(int j=1;j<=m;j++)cur[j].mark=j;\n\t\t\tsort(cur+1,cur+m+1,cmp);\n\t\t\tfor(int j=1;j<=n;j++)mark[j]=0;\n\t\t\tfor(int j=1;j<=n;j++)\n\t\t\tfor(int k=1;k<=m;k++)\n\t\t\tif(cor[j][k]==1)mark[j]+=cur[k].mark;\n\t\t\tres=0;\n\t\t\tfor(int j=1;j<=n;j++)res+=abs(x[j]-mark[j]);\n\t\t\tif(res>res_e){\n\t\t\t\tres_e=res;\n\t\t\t\tfor(int j=1;j<=m;j++)\n\t\t\t\tans[j]=cur[j];\n\t\t\t}\n\t\t}\n//\t\tprintf(\"*%d\\n\",res_e);\n\t\tsort(ans+1,ans+m+1,cmp);\n\t\tfor(int i=1;i<=m;i++)\n\t\tprintf(\"%d \",ans[i].mark);\n\t\tprintf(\"\\n\");\n\t}\n\treturn 0;\n}\n/*\n1\n4 4\n6 2 0 10\n1001\n0010\n0110\n0101\n---\nans:2 3 4 1\n\n\n1\n4 5\n9 8 11 4\n01011\n10111\n10000\n10110\n---\nans:4 1 5 3 2\n\n*/\n```\n",
        "postTime": 1648884567,
        "uid": 223559,
        "name": "qxp101",
        "ccfLevel": 6,
        "title": "CF1622E Math Test \u9898\u89e3"
    }
]