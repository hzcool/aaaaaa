[
    {
        "content": "\u770b\u5230\u4efb\u610f\u4e24\u70b9\u4e4b\u95f4\u7684\u6700\u77ed\u8def\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u5c31\u53ef\u4ee5\u60f3\u5230floyd\uff0c\u6ca1\u6709\u9519\uff0c\u8fd9\u4e00\u9053\u9898\u5c31\u662ffloyd\uff0c\u4e00\u9053\u6700\u77ed\u8def\u9898\u3002\n\n\u4f46\u662f$O(n^4)$\u4f1a\u8d85\u65f6\u600e\u4e48\u529e\uff01\u8003\u8651\u5230\u6211\u4eec\u6bcf\u6b21\u53ea\u66f4\u65b0\u4e00\u6761\u8fb9\uff0c\u6240\u4ee5\u53ea\u9700\u8981floyd\u91cc\u9762\u7684\u5faa\u73af\u5373\u53ef\uff0c\u65f6\u95f4\u590d\u6742\u5ea6$O(n^3)$\uff0c\u53ef\u4ee5\u901a\u8fc7\u672c\u9898\u3002\n\n\u4e0b\u9762\u662f\u4ee3\u7801\uff1a\n```cpp\n#include <cstdio>\nint mp[305][305];\nint mn(int a,int b){\n\treturn a<b?a:b;\n}\nint main(){\n\tint n;\n\tint k;\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tscanf(\"%d\",&mp[i][j]);\n\t\t}\n\t}\n\tscanf(\"%d\",&k);\n\tint a,b,c;\n\tlong long sum;\n\twhile(k--){\n\t\tscanf(\"%d%d%d\",&a,&b,&c);\n\t\tsum=0;\n\t\tif(mp[a][b]>c){//\u5c0f\u4f18\u5316\uff0c\u5f53\u80fd\u591f\u66f4\u65b0\u65f6\u624d\u505a\n\t\t\tmp[a][b]=mp[b][a]=c;\n\t\t\tfor(int i=1;i<=n;i++){\n\t\t\t\tfor(int j=1;j<=n;j++){\n\t\t\t\t\tif(i==j){\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tmp[i][j]=mp[j][i]=mn(mp[i][j],mp[i][a]+mp[a][j]);\n\t\t\t\t\tmp[i][j]=mp[j][i]=mn(mp[i][j],mp[i][b]+mp[b][j]);\n\t\t\t\t}\n\t\t\t}//\u6807\u51c6\u7684floyd\n\t\t}\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=n;j++){\n\t\t\t\tsum+=mp[i][j];\n\t\t\t}\n\t\t}\n\t\tprintf(\"%I64d \",sum>>1);//\u7ed3\u679c\u8981\u7528long long\uff0c\u5e76\u4e14\u6211\u4eec\u5c06\u540c\u4e00\u6761\u8fb9\u8ba1\u7b97\u4e86\u4e24\u6b21\uff0c\u9700\u8981/2\n\t}\n\tputs(\"\");\n\treturn 0;\n}\n\n```",
        "postTime": 1519575360,
        "uid": 33362,
        "name": "Suiseiseki",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF25C \u3010Roads in Berland\u3011"
    },
    {
        "content": "\u7b2c\u4e00\u773c\u770b\u8fc7\u53bb\uff0c\u53cd\u5e94\u662f\uff1aFloyd\u7684\u677f\u5b50\u9898\uff1f\u6a21\u677f\uff1f\u6c34\u9898\uff1f\u5f53\u7136\u90fd\u4e0d\u662f\u3002\n\n# \u8fd9\u662f\u4e00\u9053NOIP\u771f\u9898\u3002\n\n\n\u4e0d\u77e5\u9053\u5404\u4f4d\u6709\u6ca1\u6709\u505a\u8fc7, \u8fd9\u4e2a [P1119 \u707e\u540e\u91cd\u5efa](https://www.luogu.org/problem/P1119)\n \n\u9996\u5148\uff0c floyd \u76f8\u5bf9\u4e8e spfa \u548c dijkstra\uff0c\u6709\u4e00\u4e2a\u5f88\u672c\u8d28\u4e0a\u7684\u533a\u522b\n\nfloyd\u6c42\u89e3\u7684\u662f\uff1a\n\n# \u591a\u6e90\u6700\u77ed\u8def\n\n\u800c dij \u548c ~~\u67d0\u5df2\u6b7b\u7b97\u6cd5~~\u6c42\u89e3\u7684\u662f\n\n### \u5355\u6e90\u6700\u77ed\u8def\n\n\u4f17\u6240\u5468\u77e5\uff0c\u591a\u6e90\u6700\u77ed\u8def\u7684\u610f\u4e49\u662f\u80fd\u591f\u6c42\u51fa\u6240\u6709\u70b9\u5230\u6240\u6709\u70b9\u7684\u6700\u77ed\u8def\u5f84\uff0c\u6211floyd\u80fd\u505a\u7684\u5230\u7684\u4e8b\u60c5\uff0c\u5b83 dijkstra \u80fd\u505a\u7684\u5230\u5417\uff1f\n\ndijkstra(\u5f31\u5f31)\uff1a\u53ef\u662f\u4e00\u65e6\u53d8\u6210\u7a00\u758f\u56fe\u4e86\u4f60\u5c31\u505a\u4e0d\u5230\u4e86\u554a\n\n\u5bf9\uff0cfloyd\u6709\u4e00\u4e2a\u81f4\u547d\u7684\u7f3a\u9677\uff0c\u5c31\u662f\u4e00\u65e6\u70b9\u975e\u5e38\u5927\uff0c\u6bd4\u5982\u50cf50000\u8fd9\u79cd\u6570\u91cf\u7684\u70b9\uff0c\u7528floyd\u53bb\u6c42\u89e3\u6700\u77ed\u8def\u660e\u663e\u662f\u4e0d\u53ef\u80fd\u7684\uff08\u4e8c\u7ef4\u6570\u7ec4\u90fd\u5bb9\u4e0d\u4e0b\uff09\uff0c\u53cd\u8fc7\u6765\u8bf4\uff1a\n\n# \u5982\u679c\u70b9\u6570\u5c11\uff0c\u90a3\u4e00\u5b9a\u4f18\u5148\u8003\u8651floyd\n\n\u8fd9\u9053\u9898\u76ee\u91cc\uff0c\u770b\u5230 n <= 300, \u57fa\u672c\u53ef\u4ee5\u786e\u5b9a\u662f\u7528floyd\u4e86\u3002\n\n\u7136\u540e\u6211\u4eec\u770b\u5230\u4e86\n\n**\u6bcf\u4e2a\u70b9\u4e4b\u95f4\u7684\u6700\u77ed\u8def**\n\n\u6211\u7b11\u4e86\u3002\n\nfloyd\u88f8\u9898\u554a\u3002\n\n# \u4e8c\uff0cfloyd\u7684\u6027\u8d28\n\n\u6beb\u65e0\u7591\u95ee\uff0c\u80fd\u591f\u627e\u5230\u8fd9\u9053\u9898\u76ee\u662f\u4f60\u7684\u5e78\u8fd0\uff0c\u901a\u8fc7\u8fd9\u9053\u9898\u76ee\uff0c\u4f60\u53ef\u4ee5\u5f7b\u5e95\u5f04\u6e05\u695afloyd\u600e\u4e48\u6c42\u89e3\u51fa\u6700\u77ed\u8def\u5f84\u7684\u3002\n\n\u9996\u5148\u6765\u770b\uff0cfloyd\u600e\u4e48\u901a\u8fc7\u5957\u4e09\u91cd\u5faa\u73af\u5f97\u51fa\u591a\u6e90\u70b9\u6700\u77ed\u8def\u7684\uff1f\n\n\u6211\u4eec\u4e00\u5c42\u4e00\u5c42\u6252\u5f00\u6765\u77a7\u77a7\u3002\n\n\u9996\u5148\u662f\u6700\u5916\u5c42\u5faa\u73af\uff0c\u5b83\u679a\u4e3e\u4e86\u4e2d\u95f4\u70b9 k\u3002\n\n\u7136\u540e\u662f\u91cc\u9762\u7684\u4e24\u5c42\uff0c\u679a\u4e3e\u4e86 1~N \u7684\u6bcf\u4e00\u4e2a\u70b9\u5bf9( i, j )\u3002\n\ndu\u00e0i \uff0c\u7136\u540e\u5462?\n\n\u7136\u540e\u5c31\u662f\u5bf9floyd\u7684\u7406\u89e3\u95ee\u9898\u4e86\uff0c\n\n\u6211\u4eec\u8ba4\u4e3a\uff0c**\u7b2c\u4e00\u5c42\u5faa\u73af\u8868\u793a\u53ea\u7ecf\u8fc7k\u70b9\u5f62\u6210\u7684\u6700\u77ed\u8def**\uff0c\u8fdb\u884c\u677e\u5f1b\u64cd\u4f5c\u3002\n\n\u53ef\u4ee5\u60f3\u8c61\u6210\u4e00\u6392\u6392\u8def\u706f\uff0c\u968f\u7740k\u7684\u679a\u4e3e\uff0c\u8def\u706f\u4e00\u76cf\u76cf\u88ab\u70b9\u4eae\uff0c\u70b9\u5bf9\u4e4b\u95f4\u7684\u6700\u77ed\u8def\u88ab\u4e0d\u65ad\u7684\uff0c\u800c\u5f53k\u6765\u5230\u7b2cN\u4e2a\u70b9\u7ed3\u675f\u540e\uff0c\u6700\u540e\u4e00\u76cf\u706f\u88ab\u70b9\u4eae\uff0c\u6700\u77ed\u8def\u88ab\u6c42\u51fa\u3002\n\n\u800c\u8fd9\u9053\u9898\u76ee\u5462\uff1f\n\n\u53ef\u4ee5\u8ba4\u4e3a \u52a0\u5165\u4e24\u6761\u8fb9\uff0c\u76f8\u5f53\u4e8e**\u7184\u706d\u4e24\u76cf\u706f**\uff08\u7ecf\u8fc7\u8fd9\u4e24\u4e2a\u8282\u70b9\u5f62\u6210\u7684\u6700\u77ed\u8def\u9700\u8981\u88ab\u66f4\u65b0\uff09\uff0c\u56e0\u6b64\u53ef\u4ee5**\u7565\u53bb\u4e00\u91cd\u5faa\u73af**\uff0c\u53ea\u9700\u8981\u679a\u4e3e\u4ee5 **\u4e24\u4e2a\u8282\u70b9\u4f5c\u4e3a\u4e2d\u95f4\u70b9\u7684\u6700\u77ed\u8def**\u5373\u53ef\n\n\u6700\u540e\u7ed9\u51fa\u4ee3\u7801:\n\n```cpp\n#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <cstring>\n#include <queue>\n#define int long long\nusing namespace std;\nint rd(){\n\tint x = 0, f = 1; char c = getchar();\n\twhile(c < '0' || c > '9'){if(c == '-'){f = -1;}c = getchar();}\n\twhile(c >= '0' && c <= '9'){x = x * 10 + c - '0'; c = getchar();} \n\treturn x * f;\n} \n\nconst int maxn = 350;\nint a[maxn][maxn], p[maxn], N, T, t1, t2, t3, ans;\n\nsigned main(){\n\t//freopen(\"CF25C Roads in Berland.in\", \"r\", stdin);\n\t//freopen(\"CF25C Roads in Berland.in\", \"w\", stdout);\n\tN = rd();\n\tfor(int i = 1; i <= N; i++){\n\t\tfor(int j = 1; j <= N; j++){\n\t\t\ta[i][j] = rd();\n\t\t}\n\t}\n\tT = rd();\n\t\n\tfor(int kkk = 1; kkk <= T; kkk++){\n\t\tt1 = rd(), t2 = rd(), t3 = rd();\n\t\tif(a[t1][t2] > t3){\n\t\t\tint k = t1;\n\t\t\ta[t1][t2] = t3;\n\t\t\ta[t2][t1] = t3;\n\t\t\tk = t1;\n\t\t\tfor(int i = 1; i <= N; i++){\n\t\t\t\tfor(int j = 1; j <= N; j++){\n\t\t\t\t\tif(i == j)continue;\n\t\t\t\t\ta[i][j] = min(a[i][j], a[i][k] + a[k][j]);\n\t\t\t\t\ta[j][i] = a[i][j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tk = t2;\n\t\t\tfor(int i = 1; i <= N; i++){\n\t\t\t\tfor(int j = 1; j <= N; j++){\n\t\t\t\t\tif(i == j)continue;\n\t\t\t\t\ta[i][j] = min(a[i][j], a[i][k] + a[k][j]);\n\t\t\t\t\ta[j][i] = a[i][j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tans = 0;\n\t\tfor(int i = 1; i <= N; i++){\n\t\t\tfor(int j = 1; j <= N; j++){\n\t\t\t\tans += a[i][j];\n\t\t\t//cout<<ans<<endl;\n\t\t\t}\n\t\t}\n\t\tp[kkk] = ans/2;\n\t}\n\tfor(int i = 1; i <= T; i++){\n\t\tcout<<p[i]<<endl;\t\n\t}\n\t//fclose(stdin);\n\t//fclose(stdout);\n}\n```\n\n# \u795d\u5404\u4f4d~~NOIP~~   CSP RP++",
        "postTime": 1573659081,
        "uid": 208273,
        "name": "dzz1537568241",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF25C \u3010Roads in Berland\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u8003Floyd\u7684\u597d\u9898\u76ee\n\n\u4e0e\u5176\u7c7b\u4f3c\u7684\u8fd8\u6709[P1119 \u707e\u540e\u91cd\u5efa](https://www.luogu.org/problem/P1119)\uff0c\u4e0d\u540c\u7684\u662f\u4e00\u4e2a\u662f\u52a0\u70b9\uff0c\u4e00\u4e2a\u662f\u52a0\u8fb9\u3002\n\n\u5982\u679c\u5e76\u4e0d\u4f1a\u6700\u77ed\u8def\u7b97\u6cd5\u7684[\u6b22\u8fce\u5230\u6211\u7684\u535a\u5ba2\u53c2\u89c2~](https://www.cnblogs.com/szbszb/p/11280672.html)\n\n\u8003\u8651\u6bcf\u52a0\u8fdb\u4e00\u6761\u8fb9\uff0c\u5982\u679c\u5b83\u672c\u6765\u5c31\u6bd4\u6700\u77ed\u8def\u957f\uff0c\u90a3\u5c31\u4e0d\u7528\u66f4\u65b0\u4e86\uff0c\u800c\u5982\u679c\u66f4\u77ed\u7684\u8bdd\uff0c\u6211\u4eec\u7528Floyd\u5bf9\u8be5\u8def\u5f84\u7684\u4e24\u4e2a\u7aef\u70b9\u8fdb\u884c\u91cd\u65b0\u5904\u7406\uff0c\u518d\u5bf9\u7b54\u6848\u8fdb\u884c\u66f4\u65b0\u5c31\u884c\u4e86\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long n,i,j,q,x,y,l,ans,p[301][301];\nint main()\n{\n\tscanf(\"%lld\",&n);\n\tfor (i=1;i<=n;i++)\n\t\tfor (j=1;j<=n;j++)\n\t\tscanf(\"%lld\",&p[i][j]);\n\tscanf(\"%lld\",&q);\n\tfor (i=1;i<=n;i++)\n\t\tfor (j=i+1;j<=n;j++)\n\t\tans+=p[i][j];//\u5148\u6c42\u4e00\u904d\u7b54\u6848\uff0c\u56e0\u4e3a\u5982\u679c\u7b2c\u4e00\u6761\u8981\u6539\u7684\u8def\u66f4\u957f\u4f1a\u76f4\u63a5\u8f93\u51faans\uff0c\u90a3\u5c31\u4f1a\u76f4\u63a5\u8f93\u51fa0,\uff0c\u6240\u4ee5\u5c31\u5148\u6c42\u4e00\u904d\u4e86\n\twhile(q--)\n\t{\n\t\tscanf(\"%lld%lld%lld\",&x,&y,&l);\n\t\tif (p[x][y]<=l)//\u5982\u679c\u65b0\u52a0\u8fdb\u53bb\u7684\u66f4\u957f\uff0c\u90a3\u5c31\u4e0d\u7528\u91cd\u65b0\u7b97\u4e86\n\t\t{\n\t\t\tprintf(\"%lld \",ans);\n\t\t\tcontinue;\n\t\t}\n\t\tp[x][y]=l;\n\t\tp[y][x]=l;\n\t\tfor (i=1;i<=n;i++)\n\t\t\tfor (j=1;j<=n;j++)\n\t\t\tif (i!=j)\n\t\t\t{\n\t\t\t\tp[i][j]=min(p[i][j],p[i][x]+p[x][j]);//\u5bf9\u4fee\u6539\u7684\u4e24\u4e2a\u7aef\u70b9\u8fdb\u884c\u66f4\u65b0\n\t\t\t\tp[i][j]=min(p[i][j],p[i][y]+p[y][j]);\n\t\t\t}\n\t\tans=0;\n\t\tfor (i=1;i<=n;i++)\n\t\t\tfor (j=i+1;j<=n;j++)//\u8fd9\u6837\u5b50\u7684\u8bdd\u5c31\u4e0d\u4f1a\u51fa\u73b0\u8fb9\u6c42\u4e86\u4e24\u6b21\u7684\u95ee\u9898\u4e86\n\t\t\tans+=p[i][j];\n\t\tprintf(\"%lld \",ans);\n\t}\n\treturn 0;\n}\n```\n\u4e0d\u5f97\u4e0d\u8bf4\uff0c\u5728\u6c42\u591a\u6e90\u6700\u77ed\u8def\u5f84\u4e0a\uff0cFloyd\u7684n3\u505a\u6cd5\u5df2\u7ecf\u662f\u8db3\u591f\u7684\u4e86\uff0c\u4f18\u5316\u662f\u6709\uff0c\u4f46\u4e5f\u76f8\u5dee\u4e0d\u5927\n\n\u5e0c\u671b\u8fd9\u7bc7\u9898\u89e3\u80fd\u8ba9\u4f60\u518d\u8fdb\u4e00\u6b65\uff01",
        "postTime": 1572611687,
        "uid": 33480,
        "name": "szbszb",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF25C \u3010Roads in Berland\u3011"
    },
    {
        "content": "\u9898\u89e3\u540c\u6b65\u53d1\u5e03\u4e8e[blog](https://www.cnblogs.com/wzzorz/articles/10367221.html)  \n\n------------\n[Codeforces](http://codeforces.com/contest/25/problem/C)  \n[luogu](https://www.luogu.org/problemnew/show/CF25C)  \n\u5176\u5b9e\u524d\u4e00\u7bc7\u9898\u89e3\u8bb2\u5f97\u5f88\u6e05\u695a\u4e86(\u53d1\u81ea\u5185\u5fc3)  \n\u6bcf\u6b21\u63d2\u8fb9\u66f4\u65b0\u4e00\u6b21  \n\u6700\u540e/=2  \n\u8fd9\u91cc\u8865\u5145[Floyd](https://www.cnblogs.com/GumpYan/p/5540549.html)\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u8fd9\u7bc7\u76ee\u6d4b\u53ef\u4ee5(\u4f1a\u6700\u77ed\u8def\u7684\u53ef\u4ee5\u5ffd\u7565)  \n~~\u5f00long long\u4fdd\u9669\u597d~~  \n\n------------\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long n,k,dist[1010][1010],ans;\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tcin>>dist[i][j];\n\t\t\tans+=dist[i][j];\n\t\t}\n\t}\n\tcin>>k;\n\tint a,b,c;\n\tfor(int js=1;js<=k;js++)\n\t{\n\t\tcin>>a>>b>>c;\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tfor(int j=1;j<=n;j++)\n\t\t\t{\n\t\t\t\tif(dist[i][a]+dist[b][j]+c<dist[i][j])\n\t\t\t\t{\n\t\t\t\t\tans-=dist[i][j]-(dist[i][a]+dist[b][j]+c);\n                    dist[i][j]=dist[i][a]+dist[b][j]+c;\n\t\t\t\t}\n\t\t\t\tif(dist[i][b]+dist[a][j]+c<dist[i][j])\n\t\t\t\t{\n\t\t\t\t\tans-=dist[i][j]-(dist[i][b]+dist[a][j]+c);\n                    dist[i][j]=dist[i][b]+dist[a][j]+c;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<ans/2<< \" \";\n\t}\n}\n```",
        "postTime": 1549979173,
        "uid": 97593,
        "name": "G_A_TS",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF25C \u3010Roads in Berland\u3011"
    },
    {
        "content": "> \u70b9\u548c\u65b0\u8fb9\u7684\u6570\u91cf\u5728`200`\u4ee5\u5185,\u7136\u540e\u6bcf\u6b21\u53ea\u66f4\u65b0\u4e00\u6761\u8fb9,\u5c31\u5f88\u5bb9\u6613\u60f3\u5230`flody`\uff0c\u6bcf\u6b21\u63d2\u8fb9\u90fd\u66f4\u65b0\u4e00\u6b21\u4e24\u70b9\u95f4\u7684\u6700\u77ed\u8ddd\u79bb\u5c31\u53ef\u4ee5\u4e86  \n> \u5b58\u503c\u8981\u7528 long long \u4e0d\u7136\u4f1a WA  \n> \u65b0\u8fb9\u662f\u53cc\u5411\u7684\uff0c\u6240\u4ee5$dp[i][a]+dp[b][j],dp[i][b]+dp[a][j]$ \u90fd\u8981\u8003\u8651\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\nconst int maxd = 300+10;\nlong long  arr[maxd][maxd],ans,c;\nint a,b,k,n;\nint main()\n{\n    // freopen(\"a.in\",\"r\",stdin);\n    // freopen(\"k.out\",\"w\",stdout);\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=n;j++)\n        {\n            cin >> arr[i][j];      \n            ans += arr[i][j];\n        }\n    // for(int i=1;i<=n;i++)\n    //     for(int j=1;j<=n;j++)\n    //         for(int k=1;k<=n;k++)\n    //             arr[i][j] = min(arr[i][k]+arr[k][j],arr[i][j]);\n    // for(int i=1;i<=n;i++)\n    //     for(int j=1;j<=n;j++)\n    //         ans += G[i][j];\n    scanf(\"%d\",&k);\n    while(k--)\n    {\n        cin >> a >> b >> c;\n        for(int i=1;i<=n;i++)\n            for(int j=1;j<=n;j++)\n            {\n                if(arr[i][j] > arr[i][a]+arr[b][j]+c)\n                {\n                    ans -= arr[i][j] - (arr[i][a] + arr[b][j] + c);\n                    arr[i][j] = arr[i][a] + arr[b][j] + c;\n                }\n                if(arr[i][j] > arr[i][b]+arr[a][j]+c)\n                {\n                    ans -= arr[i][j] - (arr[i][b] + arr[a][j] + c);\n                    arr[i][j] = arr[i][b] + arr[a][j] + c;\n                }\n            }\n        cout << ans / 2 << \" \";\n    }\n    return 0;\n}\n```",
        "postTime": 1547973919,
        "uid": 62401,
        "name": "DinnerHunt",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF25C \u3010Roads in Berland\u3011"
    },
    {
        "content": "~~Dij~~\uff08floyd\uff09\n\n\u4e00\u770b\u9053\u6807\u7b7e\u4e3a\u6700\u77ed\u8def\uff0c\u4e00\u8fdb\u6765\u6211\u5c31\u6253\u4e86Dij\uff0c\u6574\u6574\u5361\u4e86\u6211\u4e00\u4e2a\u5c0f\u65f6\u3002\n\n\u7ed3\u679c\u53d1\u73b0\u6b63\u89e3\u662ffloyd\uff0c\u6211\u592a\u96be\u4e86\u3002\n\n\u6765\u8bb2\u4e00\u4e0b\u8fd9\u9053\u9898\u4e3a\u4ec0\u4e48\u7528floyd\uff1a\n\n\u6211\u4eec\u90fd\u77e5\u9053Dij\u53ea\u80fd\u6c42\u5355\u6e90\u6700\u77ed\u8def\uff0c\u4e5f\u5c31\u662f\u4e8b\u5148\u5fc5\u987b\u786e\u5b9a\u8d77\u70b9\uff0c\u7136\u540e\u6c42\u5230\u6bcf\u4e2a\u70b9\u7684\u8ddd\u79bb\uff0c\u7136\u800c\u8fd9\u9053\u9898\u8ba9\u6c42\u6240\u6709\u8def\u5f84\u7684\u548c\uff0c\u4e5f\u5c31\u662f\u5168\u6e90\u6700\u77ed\u8def\uff0c\u800c\u4e14n<=300\uff0c\u6570\u636e\u8303\u56f4\u4e5f\u4e0d\u662f\u5f88\u5927,\u6240\u4ee5\u7528\u5230\u4e86floyd\u3002\n\n```\nfor(int k=1;k<=n;k++)\n{\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++)\n\t\tif(dis[i][j]>dis[i][k]+dis[k][j])\n\t\t{\n\t\t\tdis[i][j]=dis[i][k]+dis[k][j];\n\t\t}\n\t}\n}\n```\n\n\n\u8fd9\u662f\u4e00\u4e2a\u6807\u51c6\u7684floyd\uff0c\u800cfloyd\u6700\u540e\u6c42\u51fa\u6765\u7684\u7b54\u6848\u5b58\u50a8\u5728dis[i][j]\u4e2d\uff0c\u4e5f\u5c31\u662f\u4ee5i\u4e3a\u8d77\u70b9\uff0cj\u4e3a\u7ec8\u70b9\uff0c\u5462\u4e48\u8dd1floyd\u7684\u8bdd\uff0c\u53ea\u7528\u8dd1\u4e00\u904d,\u800cDij\u6700\u574f\u60c5\u51b5\u4e0b\u8981\u8dd1k*n\u904d\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\n#define si 305\ninline int read()\n{\n\tint x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9')\n\t{\n\t\tif(ch=='-')\n\t\tf=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t\tx=(x<<1)+(x<<3)+(ch^48);\n\t\tch=getchar();\n\t}\n\treturn x*f;\n}\ninline void write(int a){\n   if(a<0) putchar('-'),a/=-1;\n   if(a>9) write(a/10);\n   putchar(a%10+'0');\n}\nint n,dis[si][si],a,b,c,k,d;\nlong long ans;\nint main()\n{\n\tn=read();\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tcin>>a;\n\t\t\tdis[i][j]=a;\n\t\t}\n\t}\n\tk=read();\n\tfor(int w=1;w<=k;w++)\n\t{\n\t\tcin>>b>>c>>d;\n\t\tif(dis[b][c]>d)//\u5982\u679c\u4fee\u540e\u9053\u8def\u53d8\u5f97\u66f4\u957f\u4e86\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u4e0d\u9700\u8981\u66f4\u65b0\n\t\t{\n\t\t dis[b][c]=d;\n\t\t dis[c][b]=d;\n\t\t for(int k=1;k<=n;k++)\n\t\t {\n\t\t\tfor(int i=1;i<=n;i++)\n\t\t\t{\n\t\t\t\tif(k==i) continue;\n\t\t\t\telse\n\t\t\t\tdis[i][k]=dis[k][i]=min(dis[k][i],min(dis[k][b]+dis[b][i],dis[k][c]+dis[c][i]));//\u6838\u5fc3\u4ee3\u7801\n\t\t\t}\n\t\t }\n\t\t} \n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tfor(int j=i+1;j<=n;j++)\n\t\t\t{\n\t\t\t\tans+=dis[i][j];\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<endl;\n\t\tans=0;\n\t}\n\treturn 0;\n}\n \n```\n",
        "postTime": 1584859073,
        "uid": 183473,
        "name": "PrincessYR\u2728\uff5e",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 CF25C \u3010Roads in Berland\u3011"
    }
]