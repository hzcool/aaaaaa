[
    {
        "content": "\u8003\u8651\u6700\u540e\u7684\u56fe\u662f\u5565\u5f62\u6001\u7684\u3002\n\n\u4e0d\u96be\u53d1\u73b0\u6bcf\u4e2a\u70b9\u90fd\u4f1a\u53d8\u6210 $2^k$ \u4e2a\u70b9\uff0c\u8003\u8651\u5c06\u8fd9\u4e9b\u70b9\u6309\u6bcf\u6b21\u5206\u88c2\u4e3a $s_1$ \u8fd8\u662f $s_2$ \u8fdb\u884c\u4e8c\u8fdb\u5236\u7f16\u53f7\uff0c\u624b\u73a9\u4e00\u4e0b\u4f1a\u53d1\u73b0\uff1a\n\n- \u65b0\u56fe\u4e2d\u6709\u8fb9 $((u, s_1), (u, s_2))$ \u5f53\u4e14\u4ec5\u5f53 $s_1, s_2$ \u6070\u597d\u6709\u4e00\u4f4d\u4e0d\u540c\u3002\n\n\u8fd9\u4e2a\u4e1c\u897f\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a $k$ \u7ef4\u8d85\u7acb\u65b9\u4f53\u3002\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u8003\u8651\u539f\u56fe\u4e2d\u76f8\u90bb\u70b9\u76f4\u63a5\u7684\u8fde\u8fb9\u3002\u624b\u73a9\u4e00\u4e0b\u4f1a\u53d1\u73b0\uff1a\n\n- \u5f53 $c_u = c_v$\uff0c\u65b0\u56fe\u4e2d\u6709\u8fb9 $((u, s_1), (v, s_2))$ \u5f53\u4e14\u4ec5\u5f53 $s_1 = s_2$\u3002\n- \u5f53 $c_u \\neq c_v$\uff0c\u65b0\u56fe\u4e2d\u6709\u8fb9 $((u, s_1), (v, s_2))$ \u5f53\u4e14\u4ec5\u5f53 $s_1 = rev(s_2)$\u3002\n\n\u63a5\u4e0b\u6765\u8003\u8651\u5982\u4f55\u6c42\u4e24\u70b9\u95f4\u7684\u6700\u77ed\u8def\u3002\n\n\u611f\u6027\u7406\u89e3\u4e00\u4e0b\uff0c\u4e2d\u95f4\u4e0d\u5728\u4e00\u4e2a\u70b9\u4e0a\u7ed5\u5708\u800c\u53ea\u53ef\u80fd\u5728\u7ec8\u70b9\u7ed5\u5708\u663e\u7136\u662f\u4e0d\u52a3\u7684\u3002\n\n\u8bbe\u6211\u4eec\u73b0\u5728\u8ba8\u8bba $(u, s_1), (v, s_2)$\uff0c\u5219\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\n\n- \u4e2d\u95f4\u8d70\u8fc7\u4e86\u5076\u6570\u6761 $c_u \\neq c_v$ \u7684\u8fb9\uff0c\u6700\u540e\u5728 $v$ \u4e0a\u7ed5\u5708\u3002\n- \u4e2d\u95f4\u8d70\u8fc7\u4e86\u5947\u6570\u6761 $c_u \\neq c_v$ \u7684\u8fb9\uff0c\u6700\u540e\u5728 $v$ \u4e0a\u7ed5\u5708\u3002\n\nbfs \u6c42\u51fa\u8d70\u8fc7\u5076 / \u5947\u6570\u6761\u8fb9\u5230\u8fbe\u6307\u5b9a\u70b9\u7684\u6700\u77ed\u8def\uff0c\u6c42\u7b54\u6848\u65f6\u76f4\u63a5\u679a\u4e3e $s_1, s_2$ \u4e4b\u95f4\u4e0d\u540c\u5143\u7d20\u6570\u91cf\u5373\u53ef\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(nm + n^2 k)$\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <iostream>\n#include <queue>\n\nusing namespace std;\n\ntypedef struct {\n\tint nxt;\n\tint end;\n} Edge;\n\nint cnt = 0;\nint c[107], head[107], dis[107][7];\nEdge edge[9907];\nqueue<pair<int, int> > q;\n\ninline void init(int n){\n\tfor (int i = 1; i <= n; i++){\n\t\tdis[i][0] = dis[i][1] = 2e9;\n\t}\n}\n\ninline void add_edge(int start, int end){\n\tcnt++;\n\tedge[cnt].nxt = head[start];\n\thead[start] = cnt;\n\tedge[cnt].end = end;\n}\n\ninline void bfs(int start){\n\tdis[start][0] = 0;\n\tq.push(make_pair(start, 0));\n\twhile (!q.empty()){\n\t\tint dis_i;\n\t\tpair<int, int> pr = q.front();\n\t\tq.pop();\n\t\tdis_i = dis[pr.first][pr.second] + 1;\n\t\tfor (int i = head[pr.first]; i != 0; i = edge[i].nxt){\n\t\t\tint x = edge[i].end, y = pr.second ^ (c[pr.first] == c[x] ? 0 : 1);\n\t\t\tif (dis[x][y] == 2e9){\n\t\t\t\tdis[x][y] = dis_i;\n\t\t\t\tq.push(make_pair(x, y));\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main(){\n\tint n, m, k, ans = 0;\n\tcin >> n >> m >> k;\n\tfor (int i = 1; i <= n; i++){\n\t\tcin >> c[i];\n\t}\n\tfor (int i = 1; i <= m; i++){\n\t\tint s, t;\n\t\tcin >> s >> t;\n\t\tadd_edge(s, t);\n\t\tadd_edge(t, s);\n\t}\n\tfor (int i = 1; i <= n; i++){\n\t\tinit(n);\n\t\tbfs(i);\n\t\tfor (int j = 1; j <= n; j++){\n\t\t\tfor (int x = 0; x <= k; x++){\n\t\t\t\tans = max(ans, min(dis[j][0] + x, dis[j][1] + (k - x)));\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans;\n\treturn 0;\n}\n```",
        "postTime": 1679747295,
        "uid": 201007,
        "name": "Leasier",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1776J \u3010Italian Data Centers\u3011"
    },
    {
        "content": "\u6765\u5199\u4e00\u6ce2\u53e3\u80e1\u8fc7\u7a0b\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u5047\u8bbe\u56fe\u53ea\u6709\u4e00\u4e2a\u70b9\uff0c\u90a3\u4e48\u6211\u4eec\u53bb\u753b\u8fd9\u4e2a\u56fe\u7684 $k$ \u62d3\u5c55\u3002\u4e00\u5f00\u59cb\u662f\u4e00\u4e2a\u70b9\uff0c\u7136\u540e\u662f\u4e00\u6761\u8fb9\uff0c\u7136\u540e\u662f\u4e00\u4e2a\u65b9\u5f62\u7684\u5708\uff0c\u518d\u7136\u540e\u662f\u4e00\u4e2a\u7acb\u65b9\u4f53\u3002\u53ef\u4ee5\u89c2\u5bdf\u5230\uff0c\u4e00\u4e2a\u70b9\u7684 $k$ \u62d3\u5c55\u5b9e\u9645\u53ef\u4ee5\u770b\u505a\u4e00\u4e2a $k$ \u7ef4\u8d85\u7acb\u65b9\u4f53\u3002\u90a3\u4e48\u6211\u4eec\u5df2\u7ecf\u80fd\u5bf9\u4e00\u4e2a\u70b9\u6c42\u51fa\u7b54\u6848\u4e86\u2014\u2014\u4ece\u8d85\u7acb\u65b9\u4f53\u7684\u201c\u4e00\u89d2\u201d\uff08\u5373 $00\\dots0$\uff0c\u4ece\u4e8c\u8fdb\u5236\u89c6\u89d2\u770b\u7684\u8bdd\uff09\u8d70\u5230\u201c\u53e6\u4e00\u89d2\u201d\uff08\u5373 $11\\dots1$\uff0c\u4ece\u4e8c\u8fdb\u5236\u89c6\u89d2\u770b\u7684\u8bdd\uff09\uff0c\u7b54\u6848\u6070\u597d\u662f $k$\u3002\n\n\u518d\u60f3\u60f3\uff0c\u5982\u679c\u6240\u6709\u70b9\u90fd\u662f\u540c\u4e00\u4e2a\u989c\u8272\uff0c\u90a3\u4e48\u4e8b\u5b9e\u4e0a\u5bf9\u4e8e\u4efb\u610f\u4e24\u8d85\u7acb\u65b9\u4f53 $u,v$ \u7684\u4e24\u70b9 $p,q$ \u7684\u6700\u77ed\u8def\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u5728 $u$ \u4e2d\u76f4\u63a5\u4ece $p$ \u8d70\u5230 $q$\uff0c\u7136\u540e\u518d\u987a\u7740\u539f\u56fe\u7684\u8fb9\u4ece $u$ \u8d70\u5230 $v$\u3002\u7b54\u6848\u5c31\u662f $k$ \u52a0\u4e0a\u539f\u56fe\u7684\u76f4\u5f84\u3002\n\n\u7136\u540e\u63a5\u4e0b\u6765\u8003\u8651\u5f02\u8272\u600e\u4e48\u529e\u3002\u624b\u6478\u4e00\u4e0b\uff0c\u53d1\u73b0\u8d70\u4e24\u6b21\u5f02\u8272\uff0c\u6b63\u597d\u80fd\u56de\u5230\u539f\u70b9\uff0c\u8d70\u4e00\u6b21\u5f02\u8272\uff0c\u6b63\u597d\u80fd\u8d70\u5230\u5bf9\u89d2\uff08\u4e8b\u5b9e\u4e0a\u4ece\u4e8c\u8fdb\u5236\u89c6\u89d2\u6765\u8bf4\u5c31\u662f $01$ \u7ffb\u8f6c\uff0c\u6bd4\u5982 $010$ \u7684\u5bf9\u89d2\u5c31\u662f $101$\uff09\u3002\u90a3\u4e48\u6211\u4eec\u4f9d\u65e7\u8003\u8651\u5bf9\u4efb\u610f\u4e24\u8d85\u7acb\u65b9\u4f53 $u,v$ \u7684\u4e24\u70b9 $p,q$ \u7684\u6700\u77ed\u8def\u3002\u5982\u679c $u$ \u5230 $v$ \u540c\u65f6\u5b58\u5728\u8d70\u5947\u6570\u548c\u5076\u6570\u6b21\u7684\u8def\u5f84\uff0c\u90a3\u4e48\u4ece $p$ \u5230 $q$ \u5c31\u51fa\u73b0\u4e86\u4e24\u79cd\u65b9\u6848\uff1a\u4ece $p$ \u8d70\u5230 $q$\uff0c\u7136\u540e\u518d\u4ece $u$ \u5230 $v$\uff0c\u56fe\u4e2d\u7ecf\u8fc7\u5076\u6570\u6b21\u5f02\u8272\uff1b\u4ece $p$ \u8d70\u5230 $q$ \u7684\u5bf9\u89d2 $q'$\uff0c\u7136\u540e\u518d\u4ece $u$ \u5230 $v$\uff0c\u56fe\u4e2d\u7ecf\u8fc7\u5947\u6570\u6b21\u5f02\u8272\u3002\u4e00\u79cd\u7b80\u5355\u7684\u5b9e\u73b0\u65b9\u5f0f\u662f\u679a\u4e3e $p$ \u548c $q$ \u7684\u4e8c\u8fdb\u5236\u4f4d\u5b58\u5728\u51e0\u4f4d\u4e0d\u540c\uff08\u56e0\u4e3a\u6211\u4eec\u53ea\u9700\u8981\u5173\u5fc3\u8fd9\u4e2a\uff09\uff0c\u7136\u540e\u5bf9\u6240\u6709\u65b9\u6848\u6c42\u4e2a $\\min$ \u5c31\u884c\u3002\u5f53\u7136\uff0c\u5982\u679c\u53ea\u5b58\u5728\u4e00\u79cd\u7c7b\u578b\u7684\u8def\u5f84\u90a3\u6700\u77ed\u8def\u5c31\u662f $k+\\text{dis}(u,v)$\u3002",
        "postTime": 1684140885,
        "uid": 149196,
        "name": "\u516b\u4e91\u84dd",
        "ccfLevel": 8,
        "title": "\u56fe\u8bba\u592a\u56f0\u96be"
    }
]