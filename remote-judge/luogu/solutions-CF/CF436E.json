[
    {
        "content": "\n\u66f4\u72fc\u7259\u68d2\u7684\u4f53\u9a8c $\\to$ [`George1123`](https://www.cnblogs.com/George1123/p/13970224.html)\n\n---\n\n## \u9898\u9762\n\n> [CF436E Cardboard Box](https://www.luogu.com.cn/problem/CF436E)\n\n> $n$ \u4e2a\u5173\u5361\uff0c\u5bf9\u6bcf\u4e2a\u5173\u5361\u53ef\u4ee5\u82b1 $a_i$ \u65f6\u95f4\u5f97\u5230 $1$ \u9897\u661f\uff0c\u6216\u82b1 $b_i$ \u65f6\u95f4\u5f97\u5230 $2$ \u9897\u661f\uff0c\u6216\u4e0d\u73a9\u3002\u95ee\u83b7\u5f97 $m$ \u9897\u661f\u6700\u5c11\u9700\u8981\u591a\u5c11\u65f6\u95f4\u3002\n\n> \u6570\u636e\u8303\u56f4\uff1a$1\\le n\\le 3\\cdot 10^5$\uff0c$1\\le m\\le 2n$\uff0c$a_i<b_i$\u3002\n\n---\n\n## \u9898\u89e3\n\n> \u849f\u84bb\u505a\u8fd9\u9898\u65f6\u5df2\u7ecf\u77e5\u9053\u662f\u53cd\u6094\u8d2a\u5fc3\u4e86\uff0c\u4f46\u662f\u505a\u4e86 $4$ \u4e2a\u5c0f\u65f6\u505a\u4e0d\u51fa\u6765\u3002\u4e8e\u662f\u53bb\u770b\u9898\u89e3\uff0c\u611f\u89c9\u8fd9\u4e2a $5$ \u5806\u505a\u6cd5\u592a\u975e\u4eba\u7c7b\u4e86\uff0c\u4e8e\u662f\u53bb\u770b `CF` \u9898\u89e3\u548c\u4ee3\u7801\u540e\u603b\u7ed3\u51fa\u4e86\u849f\u84bb\u7684\u4e0d\u7528\u53cd\u6094\u8d2a\u5fc3\u7684\u505a\u6cd5\u548c\u9898\u89e3\u3002\n\n\u5982\u679c\u4e0d\u53cd\u6094\u8d2a\u5fc3\uff0c\u90a3\u4e48\u6bcf\u4e00\u6b65\u5fc5\u987b\u4fdd\u8bc1\u6ca1\u6709\u540e\u6548\u6027\u5730\u6700\u4f18\u3002\n\n\u5f88\u660e\u663e\u5982\u679c\u53ea\u6709 $a_i$\uff0c\u6392\u5e8f\u53ef\u4ee5\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\u3002\n\n\u8fd9\u9898\u6700\u6734\u7d20\u7684\u9519\u8bef\u505a\u6cd5\u662f\u7528\u4e00\u4e2a\u5c0f\u9876\u5806\uff0c\u521a\u5f00\u59cb\u628a\u6240\u6709 $a_i$ \u4e22\u8fdb\u53bb\uff0c\u7136\u540e $m$ \u6b21\u6bcf\u6b21\u53d6\u5806\u9876\uff0c\u5982\u679c\u9009\u4e86 $a_i$ \u628a $b_i-a_i$ \u4e5f\u4e22\u8fdb\u53bb\u3002 \n\n\u5982\u679c $a_i$ \u90fd\u5f88\u5927\uff0c$b_i-a_i$ \u90fd\u5f88\u5c0f\u8fd9\u6837\u663e\u7136\u662f\u4e8f\u7684\u3002\n\n\u5047\u5982\u67d0\u4e2a $i$ \u6253\u51fa $2$ \u661f\u662f\u5f53\u524d\u6700\u4f18\uff0c\u5982\u679c $a_i$ \u5df2\u7ecf\u53d6\u4e86\u6309\u7167\u4e0a\u9762\u7684\u529e\u6cd5\u80af\u5b9a\u6ca1\u6709\u95ee\u9898\uff1b\u4f46\u662f\u5982\u679c $a_i$ \u90fd\u6ca1\u53d6\uff0c$a_i$ \u4e0d\u4e00\u5b9a\u662f\u5355\u4e2a\u4e2d\u7684\u6700\u4f18\u3002\n\n\u6240\u4ee5\u8fd9\u7bc7\u9898\u89e3\u6700\u91cd\u8981\u7684\u9a9a\u64cd\u4f5c\u5c31\u6765\u4e86\uff1a\u9009\u4e4b\u524d\u6743\u8861\uff0c\u9009\u4e24\u4e2a\u7684\u6700\u4f18\u8fd8\u662f\u4e00\u4e2a\u7684\u6700\u4f18\uff1a\u54ea\u4e2a\u66f4\u4f18\uff1f\n\n\u53ef\u4ee5\u7528\u4e00\u4e2a `vis` \u6570\u7ec4\u8bb0\u5f55\u6253\u4e86\u90a3\u4e9b\u5173\u5361\uff0c\u6bcf\u6b21\u628a\u6253\u4e86\u7684\u4ece\u5806\u4e2d\u6254\u6389\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5047\u5b9a\u5806\u4e2d\u7684\u90fd\u662f\u6ca1\u6709\u6253\u8fc7\u7684\u4e86\u3002\n\n---\n\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef double db;\n#define x first\n#define y second\n#define bg begin()\n#define ed end()\n#define pb push_back\n#define mp make_pair\n#define sz(a) int((a).size())\n#define R(i,n) for(int i(0);i<(n);++i)\n#define L(i,n) for(int i((n)-1);~i;--i)\nconst int iinf=0x3f3f3f3f;\nconst ll linf=0x3f3f3f3f3f3f3f3f;\n\n//Data\nconst int N=3e5,sN=N<<1;\nint n,m,star[N];\nll a[sN],ns; bool vis[sN];\npriority_queue<pair<ll,int>> o,t;\nvoid ref(priority_queue<pair<ll,int>> &q){\n    while(sz(q)&&vis[q.top().y]) q.pop();\n}\n\n//Main\nint main(){\n    ios::sync_with_stdio(0);\n    cin.tie(0),cout.tie(0);\n    cin>>n>>m;\n    R(i,n) cin>>a[i]>>a[i+n],a[i+n]-=a[i],\n        o.push(mp(-a[i],i)),t.push(mp(-a[i]-a[i+n],i));\n    while(m--){\n        ref(o),ref(t);\n        int i=o.top().y; o.pop(),ref(o);\n        if(m&&sz(t)&&a[i]-o.top().x>=-t.top().x)\n            o.push(mp(-a[i],i)),i=t.top().y,t.pop();\n        i<n&&(o.push(mp(-a[i+n],i+n)),true);\n        ns+=a[i],star[i%n]++,vis[i]=true;\n    }\n    cout<<ns<<'\\n';\n    R(i,n) cout<<star[i],i==n-1&&(cout<<'\\n');\n    return 0;\n}\n\n/*\n\n\u53ef\u4ee5\u8003\u8651\u4e0d\u53cd\u6094\uff1a\u6743\u8861\u4e00\u4e2a\u4e24\u4e2a\u54ea\u4e2a\u4f18\uff01\n\n*/\n```\n\n---\n\n**\u795d\u5927\u5bb6\u5b66\u4e60\u6109\u5feb\uff01**",
        "postTime": 1605257914,
        "uid": 118365,
        "name": "George1123",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF436E \u3010Cardboard Box\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u6709\u5f88\u591a\u7684\u8d2a\u5fc3\u65b9\u6cd5\uff0c\u8fd9\u91cc\u8bb2\u4e00\u79cd\u5176\u4ed6\u4eba\u6ca1\u5199\u7684\u65b9\u6cd5\u3002\n\n\u5148\u5c06\u5404\u5173\u5361\u6309\u7167 $b_i$ \u6392\u5e8f\uff0c\u8fd9\u65f6\u6211\u4eec\u6765\u8003\u8651\u4e00\u7ec4\u6700\u4f18\u89e3\u4f1a\u6ee1\u8db3\u54ea\u4e9b\u6761\u4ef6\u3002  \n\u5047\u8bbe\u9009\u62e9\u7684\u4e24\u661f\u5173\u5361\u4e2d\u7528\u65f6\u6700\u957f\u7684\u4e3a\u7b2c $k$ \u4e2a\uff0c\u90a3\u4e48\u6240\u6709 $k$ \u4e4b\u524d\u7684\u5173\u5361\u90fd\u81f3\u5c11\u5b8c\u6210\u4e86\u4e00\u9897\u661f\uff0c\u5426\u5219\u6211\u4eec\u628a $k$ \u6362\u6210\u524d\u9762\u6ca1\u9009\u7684\u90a3\u4e2a\uff0c\u7b54\u6848\u4e0d\u4f1a\u53d8\u52a3\u3002  \n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u524d $L$ \u4e2a\u5173\u5361\u90fd\u81f3\u5c11\u5b8c\u6210\u4e86\u4e00\u9897\u661f\uff0c\u5269\u4e0b\u7684\u60c5\u51b5\u4e2d\uff0c\u524d $L$ \u4e2a\u5173\u5361\u53ef\u4ee5\u53d8\u6210\u4e24\u9897\u661f\uff0c\u540e $n-L$ \u4e2a\u5173\u5361\u53ef\u4ee5\u53d8\u6210\u4e00\u9897\u661f\uff0c\u4ece\u4e2d\u9009\u51fa\u6700\u5c0f\u7684 $m-L$ \u4e2a\u6c42\u548c\u5c31\u53ef\u4ee5\u4e86\u3002  \n\u8fd9\u91cc\u4f7f\u7528\u4e86\u6743\u503c\u7ebf\u6bb5\u6811\u6765\u7ef4\u62a4\u7b54\u6848\u3002\n\nP.S \u53c2\u8003\u4e86 CF \u7684\u5b98\u65b9\u9898\u89e3\u3002\n```cpp\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <queue>\nstruct level\n{\n    int a, b, id;\n} a[300001];\nstruct node\n{\n    int cnt, ls, rs;\n    long long sum;\n} t[10000001];\nint n, m, tot = 1, b[300001];\nvoid pushup(int x)\n{\n    t[x].cnt = t[t[x].ls].cnt + t[t[x].rs].cnt;\n    t[x].sum = t[t[x].ls].sum + t[t[x].rs].sum;\n}\nvoid modify(int l, int r, int p, int val, int x)\n{\n    if (l == r)\n    {\n        t[x].cnt += val;\n        t[x].sum += val * l;\n        return;\n    }\n    int mid = (l + r) >> 1;\n    if (p <= mid)\n    {\n        if (!t[x].ls)\n        {\n            t[x].ls = ++tot;\n        }\n        modify(l, mid, p, val, t[x].ls);\n    }\n    else\n    {\n        if (!t[x].rs)\n        {\n            t[x].rs = ++tot;\n        }\n        modify(mid + 1, r, p, val, t[x].rs);\n    }\n    pushup(x);\n}\nlong long query(int l, int r, int k, int x)\n{\n    if (l == r)\n    {\n        return static_cast<long long>(k) * l;\n    }\n    int mid = (l + r) >> 1;\n    if (k <= t[t[x].ls].cnt)\n    {\n        return query(l, mid, k, t[x].ls);\n    }\n    else\n    {\n        return t[t[x].ls].sum + query(mid + 1, r, k - t[t[x].ls].cnt, t[x].rs);\n    }\n}\nint main(int argc, char const *argv[])\n{\n    std::ios_base::sync_with_stdio(false);\n    std::cin.tie(nullptr);\n    std::cout.tie(nullptr);\n    std::cin >> n >> m;\n    for (int i = 1; i <= n; i++)\n    {\n        std::cin >> a[i].a >> a[i].b;\n        a[i].id = i;\n    }\n    std::sort(a + 1, a + n + 1, [](const level &x, const level &y) -> bool {\n        return x.b < y.b;\n    });\n    for (int i = 1; i <= n; i++)\n    {\n        modify(1, 1000000000, a[i].a, 1, 1);\n    }\n    long long ans = 1e18, tmp = 0;\n    int pos = -1;\n    for (int i = 1; i <= n && i <= m; i++)\n    {\n        if (m - i + 1 <= n)\n        {\n            if (long long t = tmp + query(1, 1000000000, m - i + 1, 1); ans > t)\n            {\n                ans = t;\n                pos = i - 1;\n            }\n        }\n        tmp += a[i].a;\n        modify(1, 1000000000, a[i].a, -1, 1);\n        modify(1, 1000000000, a[i].b - a[i].a, 1, 1);\n    }\n    if (m - n >= 0)\n    {\n        if (long long t = tmp + query(1, 1000000000, m - n, 1); ans > t)\n        {\n            ans = t;\n            pos = n;\n        }\n    }\n    std::cout << ans << '\\n';\n    std::priority_queue<std::pair<int, int>, std::vector<std::pair<int, int>>, std::greater<std::pair<int, int>>> q;\n    for (int i = 1; i <= pos; i++)\n    {\n        b[a[i].id] = 1;\n        q.emplace(a[i].b - a[i].a, i);\n    }\n    for (int i = pos + 1; i <= n; i++)\n    {\n        q.emplace(a[i].a, i);\n    }\n    for (int i = 1; i <= m - pos; i++)\n    {\n        b[a[q.top().second].id]++;\n        q.pop();\n    }\n    for (int i = 1; i <= n; i++)\n    {\n        std::cout << b[i];\n    }\n    return 0;\n}\n```",
        "postTime": 1606730182,
        "uid": 68273,
        "name": "xyf007",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF436E \u3010Cardboard Box\u3011"
    },
    {
        "content": "\u53cd\u6094\u8d2a\u5fc3\u795e\u4ed9\u9898\u3002\u6211\u4e5f\u770b\u4e86\u9898\u89e3\u624d\u660e\u767d\u3002\n\n[\u53cd\u6094\u8d2a\u5fc3\u7cbe\u9009\u9898\u5355](https://www.luogu.com.cn/training/8793)\n\n\u8fd9\u9898\u96be\u5c31\u96be\u5728\uff0c\u5b83\u67094\u79cd\u51b3\u7b56\u3002\u7b80\u5355\u7684\u53cd\u6094\u8d2a\u5fc3\u53ea\u6709\u4e24\u79cd\u51b3\u7b56\uff0c\u76f4\u63a5\u9009\u62e9\u548c\u53cd\u6094\u3002\n\n\u8fd9\u9898\u7684\u76f4\u63a5\u9009\u62e9\u6709\u4e24\u79cd\uff1a\n\n1. \u82b1\u8d39 $a_i$ \u52a0 1 \u661f\u3002\n2. \u82b1\u8d39 $b_i-a_i$ \u7531 1 \u661f\u53d8\u4e3a 2 \u661f\u3002\n\n\u53cd\u6094\u4e5f\u6709\u4e24\u79cd\uff1a\n\n1. \u628a\u4e00\u4e2a\u4e00\u661f\u53cd\u6094\u6210\u4e0d\u9009\uff0c\u518d\u627e\u4e00\u4e2a\u9009\u4e24\u661f,\u82b1\u8d39 $b_j-a_i$\u3002\n2. \u628a\u4e00\u4e2a\u4e24\u661f\u53cd\u6094\u6210\u4e00\u661f\uff0c\u518d\u627e\u4e00\u4e2a\u9009\u4e24\u661f\uff0c\u82b1\u8d39 $b_j+a_i-b_i$\u3002\n\n\u8fd9\u4e2a\u4e1c\u897f\u4e00\u4e2a\u5806\u662f\u6ca1\u6709\u529e\u6cd5\u7ef4\u62a4\u7684\uff0c\u9700\u8981 5 \u4e2a\u5806\u3002\n\n\u4e00\u4e2a\u7ef4\u62a4 $a_i$ \uff0c\u4e00\u4e2a\u7ef4\u62a4 $b_i-a_i$\uff0c\u4e00\u4e2a\u7ef4\u62a4 $-a_i$\uff0c\u4e00\u4e2a\u7ef4\u62a4 $b_i$ \uff0c\u4e00\u4e2a\u7ef4\u62a4 $a_i-b_i$ \u3002\n\n\u7136\u540e\u6309\u7167\u53cd\u6094\u8d2a\u5fc3\u7684\u5e38\u89c4\uff0c4 \u79cd\u60c5\u51b5\u9009\u62e9\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<queue>\n#define int long long\nusing namespace std;\nstruct node\n{\n\tint id,num;\n\tbool operator <(const node &p)\n\tconst{\n\t\treturn num>p.num;\n\t}\n};\npriority_queue<node> q1,q2,q3,q4,q5;\nint op1,op2=1,op3=1,op4,op5=2;\nint n,w;\nint a[300005],b[300005];\nint ans[300005],sum;\nsigned main()\n{\n\tcin>>n>>w;\n\tfor(int i=1;i<=n;i++)\n\tcin>>a[i]>>b[i];\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tq1.push((node){i,a[i]});\n\t\tq4.push((node){i,b[i]});\n\t}\n\tfor(int i=1;i<=w;i++)\n\t{\n\t\tint minn=1e10,op,p,q;\n\t\twhile(!q1.empty()&&ans[q1.top().id]!=op1) q1.pop();\n\t\tif(!q1.empty()&&q1.top().num<minn)\n\t\t{\n\t\t\tminn=q1.top().num;\n\t\t\tp=q1.top().id;\n\t\t\top=1;\n\t\t}\n\t\twhile(!q2.empty()&&ans[q2.top().id]!=op2) q2.pop();\n\t\tif(!q2.empty()&&q2.top().num<minn)\n\t\t{\n\t\t\tminn=q2.top().num;\n\t\t\tp=q2.top().id;\n\t\t\top=2;\n\t\t}\n\t\twhile(!q3.empty()&&ans[q3.top().id]!=op3) q3.pop();\n\t\twhile(!q4.empty()&&ans[q4.top().id]!=op4) q4.pop();\n\t\tif(!q3.empty()&&!q4.empty()&&q3.top().num+q4.top().num<minn)\n\t\t{\n\t\t\tminn=q3.top().num+q4.top().num;\n\t\t\tp=q3.top().id;q=q4.top().id;\n\t\t\top=3;\n\t\t}\n\t\twhile(!q4.empty()&&ans[q4.top().id]!=op4) q4.pop();\n\t\twhile(!q5.empty()&&ans[q5.top().id]!=op5) q5.pop();\n\t\tif(!q5.empty()&&!q4.empty()&&q5.top().num+q4.top().num<minn)\n\t\t{\n\t\t\tminn=q5.top().num+q4.top().num;\n\t\t\tp=q5.top().id;q=q4.top().id;\n\t\t\top=4;\n\t\t}\n\t\tsum+=minn;\n\t\tif(op==1)\n\t\t{\n\t\t\tans[p]=1;\n\t\t\tq2.push({p,b[p]-a[p]});\n\t\t\tq3.push({p,-a[p]});\n\t\t}\n\t\tif(op==2)\n\t\t{\n\t\t\tans[p]=2;\n\t\t\tq5.push({p,a[p]-b[p]});\n\t\t}\n\t\tif(op==3)\n\t\t{\n\t\t\tans[p]=0;ans[q]=2;\n\t\t\tq1.push({p,a[p]});\n\t\t\tq4.push({p,b[p]});\n\t\t\tq5.push({q,a[q]-b[q]});\n\t\t}\n\t\tif(op==4)\n\t\t{\n\t\t\tans[p]=1;ans[q]=2;\n\t\t\tq2.push({p,b[p]-a[p]});\n\t\t\tq3.push({p,-a[p]});\t\n\t\t\tq5.push({q,a[q]-b[q]});\t\t\n\t\t}\n\t}\n\tcout<<sum<<endl;\n\tfor(int i=1;i<=n;i++)\n\tcout<<ans[i];\n\treturn 0;\n}\n```\n",
        "postTime": 1596505185,
        "uid": 196899,
        "name": "lndjy",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF436E \u3010Cardboard Box\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u6709\u4e00\u79cd\u57fa\u4e8e**\u53cd\u6094\u5806\u8d2a\u5fc3**\u7684\u505a\u6cd5\n\n\u5efa\u8bae\u5927\u5bb6\u5148\u505a\u4e00\u4e0b\u4e24\u9053\u7c7b\u4f3c\u7684\u9898\uff08\u4e5f\u53ef\u4ee5\u641e\u61c2\u8fd9\u9053\u9898\u540e\u7528\u7c7b\u4f3c\u7684\u65b9\u6cd5\u505a\u8fd9\u4e24\u9053\uff09\uff1a\n\n[P1484\t\u79cd\u6811](https://www.luogu.com.cn/problem/P1484)\n\n[ [NOI2019]\u5e8f\u5217](https://www.luogu.com.cn/problem/P5470)\n    \n\u8fd9\u4e2a\u9898\u4e5f\u53ef\u4ee5\u7528\u7c7b\u4f3c\u7684\u505a\u6cd5\u6765\u505a\n\n\u6211\u4eec\u8003\u8651\u600e\u4e48\u4ece\u9009$i$\u9897\u661f\u7684\u65b9\u6848\u62d3\u5c55\u5f97\u5230\u9009$i+1$\u9897\u661f\u7684\u65b9\u6848\uff0c\u6709\u4ee5\u4e0b\u56db\u79cd\u65b9\u5f0f\uff1a\n\n1. \u9009\u62e9\u4e00\u4e2a\u6ca1\u6709\u9009\u661f\u661f\u7684\u4f4d\u7f6e$i$\uff0c\u4ed8\u51fa$a_i$\u7684\u4ee3\u4ef7\u9009\u4e00\u9897\u661f\n\n2. \u9009\u62e9\u4e00\u4e2a\u5df2\u7ecf\u9009\u4e86\u4e00\u9897\u661f\u7684\u4f4d\u7f6e$i$\uff0c\u7136\u540e\u4ed8\u51fa$(b_i-a_i)$\u7684\u4ee3\u4ef7\u9009\u4e0a\u7b2c\u4e8c\u9897\u661f\n3. \u9009\u62e9\u4e00\u4e2a\u5df2\u7ecf\u9009\u4e86\u4e00\u9897\u661f\u7684\u4f4d\u7f6e$i$\uff0c\u518d\u9009\u4e00\u4e2a\u6ca1\u6709\u9009\u661f\u661f\u7684\u4f4d\u7f6e$j$\uff0c\u5c06\u539f\u6765$i$\u4f4d\u7f6e\u4e0a\u9009\u7684\u90a3\u9897\u661f\u661f\u53cd\u6094\u4e0d\u9009\uff0c\u7136\u540e\u5728\u4f4d\u7f6e$j$\u4e0a\u9009\u4e0a\u4e24\u9897\u661f\uff0c\u4ee3\u4ef7$b_j-a_i$\n4. \u9009\u62e9\u4e00\u4e2a\u5df2\u7ecf\u9009\u4e86\u4e24\u9897\u661f\u7684\u4f4d\u7f6e$i$\uff0c\u518d\u9009\u4e00\u4e2a\u6ca1\u6709\u9009\u661f\u661f\u7684\u4f4d\u7f6e$j$\uff0c\u5c06\u539f\u6765$i$\u4f4d\u7f6e\u4e0a\u7684\u7b2c\u4e8c\u9897\u661f\u661f\u53cd\u6094\u4e0d\u9009\uff0c\u518d\u5728$j$\u4f4d\u7f6e\u4e0a\u9009\u4e24\u9897\u661f\u661f\uff0c\u4ee3\u4ef7$b_j-(b_i-a_i)$\n\n\u7528\u5806\u6bcf\u6b21\u4ece\u56db\u79cd\u60c5\u51b5\u4e2d\u9009\u4e00\u79cd\u4ee3\u4ef7\u6700\u5c0f\u7684\u62d3\u5c55\u5373\u53ef\u3002\n\n\u590d\u6742\u5ea6$O(nlogn)$\n\n\u8be6\u7ec6\u7ec6\u8282\u53ef\u4ee5\u770b\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define N 300007\n#define LL long long\nint a[N],b[N];\nstruct node{\n\tint x,i;\n};\nbool operator <(node a,node b){\n\treturn a.x>b.x;\n}\nint ty[N];\nstruct queue  //\u53ef\u5220\u9664\u5806\n{\n\tint op;\n\tpriority_queue<node> q;\n\tvoid up(){while(!q.empty()&&ty[q.top().i]!=op)q.pop();}\n\tbool empty(){up();return q.empty();}\n\tnode top(){up(); return q.top();}\n\tvoid push(node x){q.push(x);}\n}q1,q2,q3,q4,q5;\n\nvoid push1(int p){\n\tty[p]=1;\n\tq2.push({b[p]-a[p],p}),q3.push({-a[p],p});\n}\nvoid push2(int p){\n\tty[p]=2;\n\tq5.push({-(b[p]-a[p]),p});\n}\nvoid push0(int p){\n\tty[p]=0; q1.push({a[p],p}),q4.push({b[p],p});\n}\nint main()\n{\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)scanf(\"%d%d\",&a[i],&b[i]);\n\tq1.op=q4.op=0,q2.op=q3.op=1; q5.op=2;\n\tfor(int i=1;i<=n;i++)\n\t\tq1.push({a[i],i}),q4.push({b[i],i});\n\tLL ans=0;\n\tfor(int i=1;i<=m;i++){\n\t\tint x,mi=1e9+7,op=0,p,q;\n\t\tif(!q1.empty()&&(x=q1.top().x)<mi)mi=x,p=q1.top().i,op=1;  //\u60c5\u51b51\n\t\tif(!q2.empty()&&(x=q2.top().x)<mi)mi=x,p=q2.top().i,op=2;  //\u60c5\u51b52\n\t\tif(!q3.empty()&&!q4.empty()&&(x=q3.top().x+q4.top().x)<mi)mi=x,p=q3.top().i,q=q4.top().i,op=3;  //\u60c5\u51b53\n\t\tif(!q5.empty()&&!q4.empty()&&(x=q5.top().x+q4.top().x)<mi)mi=x,p=q5.top().i,q=q4.top().i,op=4;  //\u60c5\u51b54\n\t\tans+=mi;\n\t\tif(op==1)push1(p);\n\t\telse if(op==2)push2(p);\n\t\telse if(op==3)push0(p),push2(q);\n\t\telse push1(p),push2(q);\n\t}\n\tprintf(\"%lld\\n\",ans);\n\tfor(int i=1;i<=n;i++)printf(\"%d\",ty[i]); //\u56e0\u4e3a\u6bcf\u4e00\u6b21\u62d3\u5c55\u90fd\u4f1a\u628a\u5f53\u524d\u4f4d\u7f6e\u7684\u72b6\u6001\u8bb0\u5f55\u4e0b\u6765\uff0c\u6240\u4ee5\u6700\u540e\u76f4\u63a5\u8f93\u51fa\u5373\u53ef\n\treturn 0;\n}\n\n```\n",
        "postTime": 1596178079,
        "uid": 100806,
        "name": "lyyi2003",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF436E \u3010Cardboard Box\u3011"
    },
    {
        "content": "\u7b2c $2^{2^2}$ \u7bc7\u9898\u89e3\u4e86\u3002\n\n\u63d0\u4f9b\u4e00\u4e2a\u4e0d\u7528\u5e26\u53cd\u6094\u8d2a\u5fc3\u7684\u65b0\u89e3\u6cd5\uff0c\u6211\u662f\u5728\u6253\u4e00\u6b21\u6708\u8d5b\u7684[\u4e00\u9053\u9898](https://www.luogu.com.cn/problem/P8439)\u65f6\u60f3\u51fa\u6765\u7684\u8fd9\u4e2a\u505a\u6cd5~~\u7684\u96cf\u5f62~~\u3002\n\n\u9996\u5148\u5c06 $n$ \u4e2a\u5173\u5361\u5206\u6210\u4e24\u90e8\u5206\uff1a$a_i \\le b_i - a_i$ \u548c $a_i > b_i - a_i$\uff0c\u7136\u540e\u5206\u522b\u6c42\u51fa\u5728\u8fd9\u4e24\u90e8\u5206\u4e2d\u83b7\u5f97 $i$ \u9897\u661f\u7684\u4ee3\u4ef7 $dp_{0/1,i}$\uff0c\u5982\u679c\u5f97\u4e0d\u5230\u8fd9\u4e48\u591a\u5c31\u8bbe\u4e3a INF\uff0c\u90a3\u4e48\u7b54\u6848\u5c31\u662f $\\min\\limits_{i=0}^kdp_{0,i} + dp_{1,k - i}$\u3002\n\n\u5bf9\u4e8e\u7b2c\u4e00\u7c7b\uff0c\u628a $a_i$ \u548c $b_i - a_i$ \u5206\u522b\u653e\u5165\u4e00\u4e2a\u5806\u4e2d\uff0c\u7531\u4e8e\u4fdd\u8bc1 $a_i < b_i - a_i$\uff0c\u6240\u4ee5\u4e00\u4e2a\u5173\u5361\u7684\u4e00\u661f\u4e00\u5b9a\u4f1a\u5728\u7b2c\u4e8c\u4e2a\u661f\u4e4b\u524d\u88ab\u8ba1\u7b97\uff0c\u6240\u4ee5\u8fd9\u4e2a\u5806\u4e2d\u524d $i$ \u5c0f\u7684\u6570\u7684\u548c\u5c31\u662f $dp_{0,i}$\u3002\n\n\u91cd\u70b9\u5728\u4e8e\u6c42\u7b2c\u4e8c\u7c7b\u3002\u9996\u5148\u6709\u4e2a\u7ed3\u8bba\uff1a\u8fd9\u4e00\u7c7b\u4e2d\u6700\u591a\u53ea\u4f1a\u6709\u4e00\u4e2a\u5173\u5361\u62ff\u4e14\u53ea\u62ff\u4e00\u661f\u3002\u4e0b(gan)\u9762(xing)\u8bc1(li)\u660e(jie)\u4e00\u4e0b\uff0c\u5c31\u662f\u8bbe\u6709\u4e24\u4e2a\u5173\u5361 $i$\uff0c$j$ \u90fd\u662f\u62ff\u4e14\u53ea\u62ff\u4e00\u661f\u3002\u4e0d\u59a8\u8bbe $a_i \\le a_j$\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u9009\u62e9\u5728\u7b2c $i$ \u5173\u62ff\u4e24\u661f\u800c\u4e0d\u62ff\u7b2c $j$ \u5173\u7684\u90a3\u4e00\u9897\uff0c\u56e0\u4e3a\u6709\n$$\nb_i = a_i + b_i - a_i < a_i + a_i \\le a_i + a_j\n$$\n\u90a3\u4e48\u6709\u4e86\u4e0a\u9762\u90a3\u4e2a\u7ed3\u8bba\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u6c42 $dp_1$ \u4e86\u3002\u9996\u5148\u5c06\u8fd9\u7c7b\u5173\u5361\u6309 $b_i$ \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u90a3\u4e48\u524d $i$ \u4e2a $b$ \u503c\u7684\u548c\u5c31\u662f $dp_{1,2i}$\u3002\n\n\u7136\u540e\u5bf9\u4e8e $dp_{1,2i + 1}$\uff0c\u9009\u62e9\u5c06\u524d $i$ \u4e2a\u5173\u5361\u73a9\u5230\u4e24\u661f\uff0c\u7136\u540e\u5728\u5269\u4e0b\u7684\u5173\u5361\u4e2d\u9009\u62e9\u4e00\u4e2a $a$ \u503c\u6700\u5c0f\u7684\u73a9\u4e00\u661f\u3002\u6240\u4ee5\u53ea\u9700\u8981\u518d\u5904\u7406\u4e00\u4e2a\u540e\u7f00 $\\min$ \u5c31\u53ef\u4ee5\u6c42\u4e86\u3002\n\n\u6211\u5c31\u8fd9\u4e48\u5207\u4e86\u90a3\u9053\u6708\u8d5b\u9898\uff0c\u4e8e\u662f\u6211\u627e\u5230\u4e86\u90a3\u4e2a AC \u4ee3\u7801\u4e00\u901a\u6539\uff08\u987a\u4fbf\u5410\u69fd\u4e00\u4e0b\u8f93\u51fa\u65b9\u6848\u662f\u771f\u7684\u70e6\u3002\u3002\u3002\uff09\uff0c\u4e00\u901a WA \u4e4b\u540e\u53d1\u73b0 WA on #71\u3002\u8fd9\u6b21\u4e0d\u662f\u6211\u5199\u9519\u4e86\uff0c\u800c\u662f\u4e2a hack\uff1a\n```\n2 3\n3 5\n5 6\n```\n\u8fd9\u4e2a\u91cc\u9762\u7684\u4e24\u4e2a\u5173\u5361\u90fd\u5c5e\u4e8e\u7b2c\u4e8c\u7c7b\u3002\u90a3\u4e48\u6309\u7167\u6211\u7684\u7b97\u6cd5\u6211\u4f1a\u9009\u62e9\u7ed9\u7b2c\u4e00\u5173\u6253\u4e24\u661f\uff0c\u56e0\u4e3a\u5b83\u7684 $b_i$ \u66f4\u5c0f\uff0c\u4f46\u5176\u5b9e\u9009\u62e9\u7ed9\u7b2c\u4e8c\u5173\u6253\u4e24\u661f\u66f4\u4f18\uff0c\u56e0\u4e3a\u7b2c\u4e00\u5173\u7684 $a_i$ \u6bd4\u7b2c\u4e8c\u5173\u7684 $a_i$ \u5c0f\u7684\u91cf\u66f4\u5927\u3002\n\n\u6708\u8d5b\u6ca1\u6709\u5361\u6211\uff0c\u6240\u4ee5\u6211\u8fc7\u4e86\u3002\n\n\u6211\u539f\u672c\u4ee5\u4e3a\u6211\u5047\u4e86\uff0c\u6240\u4ee5\u5df2\u7ecf\u51c6\u5907\u5199\u5e26\u53cd\u6094\u8d2a\u5fc3\u4e86\u3002\u4f46\u56db\u5929\u540e\u6211\u53c8\u60f3\u8d77\u4e86\u8fd9\u9053\u9898\u3002\n\n\u524d\u9762\u7684\u89e3\u6cd5\u5176\u5b9e\u6bcf\u6b65\u90fd\u662f\u53ef\u4ee5\u8bc1\u660e\u7684\uff0c\u53ea\u6709\u90a3\u4e2a\u5728\u7b2c\u4e8c\u7c7b\u4e2d\u83b7\u5f97 $2i+1$ \u4e2a\u661f\u7684\u90e8\u5206\u662f\u9519\u7684\uff0c\u8fd9\u91cc\u5df2\u7ecf\u786e\u5b9a\u8981\u9009\u4e00\u4e2a\u5173\u5361\u53ea\u6253\u4e00\u661f\u4e86\uff0c\u7136\u540e\u5269\u4e0b\u7684 $2i$ \u4e5f\u80af\u5b9a\u662f\u9009\u9664\u524d\u9762\u9009\u7684\u90a3\u4e00\u5173\u4ee5\u5916 $b_i$ \u6700\u5927\u7684\u3002\n\n\u8bbe\u6253\u4e00\u661f\u7684\u90a3\u4e00\u5173\u662f\u7b2c $x$ \u5173\uff0c\u90a3\u4e48\u6211\u524d\u9762\u5176\u5b9e\u662f\u8003\u8651\u4e86 $x > i$ \u7684\u60c5\u51b5\u4e0b\u7684\u6700\u4f18\u89e3\u3002\u6240\u4ee5\u2026\u2026\u628a $x \\le i$ \u7684\u60c5\u51b5\u518d\u8003\u8651\u4e00\u4e0b\u4e0d\u5c31\u884c\u4e86\u5417\uff01\n\n\u90a3\u4e48\u4e0a\u9762\u90a3\u4e2a\u60c5\u51b5\u53ef\u4ee5\u8ba4\u4e3a\u662f\u524d $i+1$ \u4e2a\u5173\u5361\u7684 $b$ \u503c\u548c\u518d\u51cf\u53bb\u5176\u4e2d\u7684\u4e00\u4e2a $b_i - a_i$\u3002\u90a3\u4e48\u5bf9\u7b2c\u4e8c\u7c7b\u7684\u90a3\u4e9b\u5173\u5361\u6c42\u4e00\u4e2a $b_i - a_i$ \u7684\u524d\u7f00 $\\max$\uff0c\u7136\u540e\u66f4\u65b0\u7b54\u6848\u5373\u53ef\u3002\n\n\u597d\u7684\uff0c\u8fd9\u4e2a\u89e3\u6cd5\u6b7b\u7070\u590d\u71c3\u4e86\u3002\n\n\u9700\u8981\u6ce8\u610f\u4e00\u4e2a\u7ec6\u8282\uff0c\u5c31\u662f\u5728\u6392\u5e8f\u7684\u65f6\u5019\u5982\u679c $b$ \u503c\u76f8\u540c\u9700\u8981\u5c06 $a$ \u503c\u5c0f\u7684\u653e\u5728\u540e\u9762\u4ee5\u4fdd\u8bc1\u540e\u7f00 $\\min$ \u7684\u503c\u6b63\u786e\u3002\u540c\u7406\u6c42\u524d\u7f00 $\\max$ \u65f6\u4e5f\u8981\u91cd\u65b0\u6392\u5e8f\uff0c\u5c06 $b-a$ \u503c\u5927\u7684\u653e\u5728\u524d\u9762\u3002\n\n\u4ee3\u7801\uff08\u53ef\u8bfb\u6027\u6bd4\u8f83\u5dee\uff0c\u89c1\u8c05~~\u6708\u8d5b\u5199\u7684\u90a3\u4e2a\u66f4\u4e0d\u53ef\u8bfb~~\uff09\uff1a\n```cpp\n#include<cstdio>\n#include<algorithm>\n#define TY ll\n#define MAXN 300002\n#define debug if( 1 &&putchar('>'))\n#define FOR(i,a,b) for(TY i=(a);i<=(b);++i)\n#define fOR(i,a,b) for(TY i=(a);i<(b);++i)\n#define ROF(i,a,b) for(TY i=(a);i>=(b);--i)\n#define rOF(i,a,b) for(TY i=(a);i>(b);--i)\nusing namespace std;\ntypedef long long ll;\nconst TY M=998244353,INF=4e14;\ntypedef unsigned long long ull;\nTY _abs(TY a){return a<0?-a:a;}\nTY maxn(TY a,TY b){return a>b?a:b;}\nTY minn(TY a,TY b){return a<b?a:b;}\nTY gcd(TY a,TY b){return b?gcd(b,a%b):a;}\nTY qp(TY a,TY b){TY ans=1;do{if(b&1)ans=ans*a%M;a=a*a%M;}while(b>>=1);return ans;}\nchar getc(){char ch=getchar();while(ch==' '||ch=='\\n')ch=getchar();return ch;}\nTY qr(){\n\tchar ch=getchar();TY s=0,x=1;\n\tfor(;ch<'0'||ch>'9';ch=getchar())if(ch=='-')x=-1;\n\tfor(;ch>='0'&&ch<='9';ch=getchar())s=s*10+ch-'0';return x*s;\n}void qw(TY a,char ch){\n\tif(a<0){a=-a;putchar('-');}\n\tif(a>9)qw(a/10,0);putchar(a%10+'0');\n\tif(ch)putchar(ch);\n}TY n,k,dp[2][MAXN<<1],u,v,sz,db,tmp,ans=INF,num[MAXN<<1];\nstruct node{TY a,b,sm,id;}a[MAXN<<1],b[MAXN];bool fl[MAXN];\nbool cmp1(node a,node b){if(a.sm!=b.sm)return a.sm<b.sm;else return a.a>b.a;}\nbool cmp2(node a,node b){if(a.sm!=b.sm)return a.sm<b.sm;else return a.a>b.a;}\nint main(){\n\tn=qr();k=qr();\n\tFOR(i,1,n){\n\t\tu=qr();v=qr()-u;\n\t\tif(v>=u){\n\t\t\ta[++sz]=(node){.a=0,.b=0,.sm=u,.id=i};\n\t\t\ta[++sz]=(node){.a=0,.b=0,.sm=v,.id=i};\n\t\t}else b[++db]=(node){.a=u,.b=v,.sm=u+v,.id=i};\n\t}sort(a+1,a+sz+1,cmp1);sort(b+1,b+db+1,cmp1);\n\tFOR(i,1,sz)dp[0][i]=dp[0][i-1]+a[i].sm;FOR(i,sz+1,k)dp[0][i]=INF;//\u7b2c\u4e00\u7c7b\u6bd4\u8f83\u5bb9\u6613\n\tFOR(i,1,db)dp[1][i<<1]=(tmp+=b[i].sm);//\u7b2c\u4e8c\u7c7b\u5148\u5904\u74062i\u7684\u7b54\u6848\n\tFOR(i,db<<1|1,k)dp[1][i]=INF;tmp=b[db].a;\n\tROF(i,db-1,0){//2i+1\u8ba8\u8bba\u7684\u7b2c\u4e00\u79cd\u60c5\u51b5\n\t\tdp[1][i<<1|1]=dp[1][i<<1]+tmp;\n\t\ttmp=minn(tmp,b[i].a);\n\t}sort(b+1,b+db+1,cmp2);tmp=0;//\u91cd\u65b0\u6392\u5e8f\u540e\u5904\u7406\u7b2c\u4e8c\u79cd\n\tFOR(i,1,db){\n\t\ttmp=maxn(tmp,b[i].b);\n\t\tif(dp[1][i*2-1]>dp[1][i<<1]-tmp){\n\t\t\tdp[1][i*2-1]=dp[1][i<<1]-tmp;fl[i]=true;\n\t\t}\n\t}FOR(i,0,k)if(ans>dp[0][i]+dp[1][k-i]){ans=dp[0][i]+dp[1][k-i];u=i;}\n\ttmp=ans-dp[0][u];FOR(i,1,u)++num[a[i].id];u=k-u;\n\tif(u&1){\n\t\tif(!fl[u=u+1>>1])sort(b+1,b+db+1,cmp1);\n\t\tfOR(i,1,u)num[b[i].id]=2;//num\u8bb0\u5f55\u6bcf\u5173\u62ff\u51e0\u661f\n\t\tif(fl[u]){\n\t\t\tv=dp[1][u<<1]-tmp;num[b[u].id]=2;\n\t\t\tFOR(i,1,u)if(b[i].b==v){k=i;break;}\n\t\t}else{\n\t\t\tv=tmp-dp[1][u-1<<1];\n\t\t\tFOR(i,u,db)if(b[i].a==v){k=i;break;}\n\t\t}num[b[k].id]=1;\n\t}else ROF(i,u>>1,1)num[b[i].id]=2;\n\tqw(ans,'\\n');FOR(i,1,n)putchar(48|num[i]);\n\treturn 0;\n}\n```",
        "postTime": 1659615501,
        "uid": 184168,
        "name": "xuanxuan001",
        "ccfLevel": 8,
        "title": "\u9898\u89e3CF436E\u3010Cardboard Box\u3011"
    },
    {
        "content": "[CF436E Cardboard Box](https://www.luogu.com.cn/problem/CF436E)\u89e3\u9898\u62a5\u544a\uff1a\n\n[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://zybuluo.com/xiaoziyao/note/1746671)\n## \u9898\u610f\n- $n$\u4e2a\u5173\u5361\uff0c\u6bcf\u4e2a\u5173\u5361\u53ef\u4ee5\u83b7\u5f97$0$\u661f\uff0c$1$\u661f\u548c$2$\u661f\uff1b\n- \u83b7\u5f97$1$\u661f\u7684\u4ee3\u4ef7\u4e3a$a_i$\uff0c\u83b7\u5f97$2$\u661f\u7684\u4ee3\u4ef7\u4e3a$b_i$\uff1b\n- \u6c42\u83b7\u5f97**\u6070\u597d**$k$\u4e2a\u661f\u661f\u7684\u6700\u5c0f\u4ee3\u4ef7\n- $1\\leqslant n\\leqslant 3\\cdot 10^5,1\\leqslant k\\leqslant 2\\cdot n$\n\n## \u5206\u6790\n\u7b2c\u4e00\u773c\uff0c\u5f88\u663e\u7136\u53ef\u4ee5\u770b\u51fa\u4e00\u4e2a$O(n\\cdot k)$\u7684dp\u505a\u6cd5\uff08\u8bbe$f_{i,j}$\u4ee3\u8868\u524d$i$\u4e2a\u5173\u5361\u83b7\u5f97$j$\u4e2a\u661f\u661f\u7684\u6700\u5c0f\u4ee3\u4ef7\uff09\uff0c\u4f46\u662f\u8fd9\u4e2a\u590d\u6742\u5ea6\u65e0\u6cd5\u901a\u8fc7\u672c\u9898\u3002\n\n\u9996\u5148\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e2a\u8d2a\u5fc3\u601d\u60f3\uff1a\u6bcf\u4e00\u6b21\u589e\u52a0**\u4e00\u9897**\u661f\u661f\uff0c\u53d6**\u6700\u5c0f\u7684\u589e\u52a0\u65b9\u5f0f**\u3002\n\n\u6211\u4eec\u8003\u8651\u4e00\u4e2a\u8d2a\u5fc3\u7b56\u7565\uff1a\u4e0d\u65ad\u9009\u6700\u5c0f$a_i$\u7684\u96f6\u661f\u5173\u5361\u6539\u6210\u4e00\u661f\u5173\u5361\uff0c\u6216\u8005\u628a\u4e00\u4e2a\u4e00\u661f\u5173\u5361\u6539\u6210\u4e8c\u661f\u5173\u5361\uff08\u8d2a\u5fc3\u5730\u9009\u5df2\u7ecf\u6709\u4e00\u661f\u4e14$b_i-a_i$\u6700\u5c0f\u7684\u5173\u5361\uff09\uff0c\u4f46\u662f\u8fd9\u4e2a\u8d2a\u5fc3\u5f88\u663e\u7136\u662f\u9519\u8bef\u7684\u3002\n\nhack\uff1a\n```\n2 3\n4 1\n1 9\n```\n\n\u666e\u901a\u8d2a\u5fc3\u4e0d\u884c\uff0c\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c**\u53cd\u6094\u8d2a\u5fc3**\uff0c\u5efa\u8bae\u5148\u505a\u4e00\u9053\u9898\u4e86\u89e3\u4e00\u4e0b\u53cd\u6094\u8d2a\u5fc3\uff1a[CF865D Buy Low Sell High](https://www.luogu.com.cn/problem/CF865D)\u3002\n\n\u91cd\u7533\u4e00\u4e0b\u8d2a\u5fc3\u7684\u601d\u60f3\uff1a\u6bcf\u4e00\u6b21\u589e\u52a0**\u4e00\u9897**\u661f\u661f\uff0c\u53d6**\u6700\u5c0f\u7684\u589e\u52a0\u65b9\u5f0f**\u3002\n\n\u6b64\u65f6\u8d2a\u5fc3\u7b56\u7565\u6709\u4e24\u79cd\uff1a\n1. \u96f6\u661f\u5173\u5361$i$\u6539\u4e00\u661f\u5173\u5361$i$\uff1b\n2. \u4e00\u661f\u5173\u5361$i$\u6539\u4e8c\u661f\u5173\u5361$i$\u3002\n\n\u60f3\u4e00\u60f3\u600e\u4e48\u901a\u8fc7\u53cd\u6094\u4e4b\u524d\u7684\u64cd\u4f5c\u6765\u589e\u52a0\u4e00\u9897\u661f\u661f\uff08\u5373\u53cd\u6094\u7b56\u7565\uff09\uff1a\n1. \u4e00\u661f\u5173\u5361$i$\u6539\u96f6\u661f\u5173\u5361$i$\uff0c\u5e76\u5c06\u4e00\u4e2a\u96f6\u661f\u5173\u5361$j$\u6539\u6210\u4e8c\u661f\u5173\u5361\uff1b\n2. \u4e8c\u661f\u5173\u5361$i$\u6539\u4e00\u661f\u5173\u5361$i$\uff0c\u5e76\u5c06\u4e00\u4e2a\u96f6\u661f\u5173\u5361$j$\u6539\u6210\u4e8c\u661f\u5173\u5361\u3002\n\n\u6ce8\u610f\uff0c\u666e\u901a\u8d2a\u5fc3\u4e8c**\u5e76\u4e0d\u80fd**\u5f52\u5165\u53cd\u6094\u8d2a\u5fc3\u4e00\uff0c\u56e0\u4e3a\u53cd\u6094\u7b56\u7565\u4e00\u672c\u8d28\u662f\u628a\u4e00\u4e2a\u96f6\u661f\u5173\u5361\u6539\u6210\u4e8c\u661f\u5173\u5361\uff0c\u800c\u8d2a\u5fc3\u7b56\u7565\u4e8c\u672c\u8d28\u662f\u628a\u4e00\u4e2a\u4e00\u661f\u5173\u5361\u6539\u6210\u4e8c\u661f\u5173\u5361\uff0c\u5728\u7ef4\u62a4\u65f6\u4f1a\u6709\u5dee\u522b\u3002\n\n\u73b0\u5728\u8003\u8651\u5982\u4f55\u7ef4\u62a4\u8fd9\u56db\u4e2a\u7b56\u7565\uff1a\n\uff08\u6ce8\u610f\uff0c\u4ee3\u7801\u4e2d**\u5c0f\u6839\u5806\u662f\u7528\u5927\u6839\u5806\u6743\u503c\u53d6\u8d1f\u6765\u5b9e\u73b0\u7684**\uff09\n1. \u8d2a\u5fc3\u7b56\u75651\uff1a\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u4e3a$a_i$\uff0c\u7528\u5c0f\u6839\u5806$q1$\u6765\u7ef4\u62a4\u96f6\u661f\u5173\u5361\u7684$a$\uff1b\n2. \u8d2a\u5fc3\u7b56\u75652\uff1a\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u4e3a$b_i-a_i$\uff0c\u7528\u5c0f\u6839\u5806$q5$\u6765\u7ef4\u62a4\u4e00\u661f\u5173\u5361\u7684$b-a$\uff1b\n3. \u53cd\u6094\u7b56\u75651\uff1a\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u4e3a$b_j-a_i$\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5f0f\u5b50\u62c6\u6210$b_j$\u548c$-a_i$\uff0c\u7528\u5c0f\u6839\u5806$q3$\u7ef4\u62a4\u96f6\u661f\u5173\u5361$b$\u7684\u6700\u5c0f\u503c\uff0c\u7528\u5927\u6839\u5806$q2$\u7ef4\u62a4\u4e00\u661f\u5173\u5361$a$\u7684\u6700\u5927\u503c\uff1b\n4. \u53cd\u6094\u7b56\u75652\uff1a\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u4e3a$b_j+a_i-b_i$\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5f0f\u5b50\u62c6\u6210$b_j$\u548c$-(b_i-a_i)$\uff0c\u7528\u5c0f\u6839\u5806$q3$\u7ef4\u62a4\u96f6\u661f\u5173\u5361$b$\u7684\u6700\u5c0f\u503c\uff0c\u7528\u5927\u6839\u5806$q4$\u7ef4\u62a4\u4e8c\u661f\u5173\u5361$b_i-a_i$\u7684\u6700\u5927\u503c\u3002\n\n\u8fd8\u8981\u6ce8\u610f\u4e00\u4e2a\u7ec6\u8282\uff1a\u6709\u4e9b\u5173\u5361\u661f\u503c\u7684\u4fee\u6539\u4f1a**\u7275\u626f\u5230\u4e24\u4e2a\u5806**\uff0c\u6b64\u65f6\u6211\u4eec\u5c31\u4e0d\u80fd\u5355\u7eaf\u53ea$\\text{pop}$\u5f53\u524d\u7684\u72b6\u6001\u4e86\uff0c\u8fd8\u8981\u5728\u6bcf\u4e00\u6b21\u53d6\u72b6\u6001\u65f6\u5224\u65ad\u72b6\u6001\u662f\u5426\u6ee1\u8db3\uff0c\u4e0d\u6ee1\u8db3\u5c31**\u76f4\u63a5**$\\text{pop}$\u6389\u3002\n\n\u6ce8\u610f\u8fd9\u91cc\u53ef\u4ee5\u76f4\u63a5$\\text{pop}$\u7684\u539f\u56e0\u662f**\u53cd\u6094\u4e4b\u540e\u7684\u5173\u5361\u4e00\u5b9a\u4e0d\u4f1a\u518d\u6b21\u8fdb\u884c\u53cd\u6094**\u3002\uff08\u5426\u5219\u5c31\u4e00\u5b9a\u4e0d\u4f18\u4e86\uff09\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u56e0\u4e3a\u6bcf\u4e2a\u70b9\u6700\u591a\u8fdb\u884c\u4e00\u6b21\u8d2a\u5fc3\u9009\u51fa\uff0c\u4e00\u6b21\u53cd\u6094\uff0c\u52a0\u4e0a\u4f18\u5148\u961f\u5217\uff0c\u6545\u590d\u6742\u5ea6\u4e3a\uff1a$O(n\\log n)$\u3002\n\n## \u4ee3\u7801\n\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff1a\n\n- long long\uff0cinf\u8981\u5f00\u5927\n- \u4f18\u5148\u961f\u5217\u585e\u5165\u8fb9\u754c\u503c\n\n```\n#include<stdio.h>\n#include<queue>\n#define int long long\n#define inf 100000000000000000\nusing namespace std;\nconst int maxn=300005;\nint n,m,anss;\nint a[maxn],b[maxn],ans[maxn];\npriority_queue< pair<int,int> >q1,q2,q3,q4,q5;\n//q1 min{a|a\u90090}\n//q2 max{a|a\u90091}\n//q3 min{b|b\u90090}\n//q4 max{b-a|b\u90092}\n//q5 min{b-a|a\u90091}\ninline void add_0(int x){//\u52a0\u51650\n\tans[x]=0;\n\tq1.push(make_pair(-a[x],x));\n\tq3.push(make_pair(-b[x],x));\n}\ninline void add_1(int x){//\u52a0\u51651\n\tans[x]=1;\n\tq2.push(make_pair(a[x],x));\n\tq5.push(make_pair(-(b[x]-a[x]),x));\n}\ninline void add_2(int x){//\u52a0\u51652\n\tans[x]=2;\n\tq4.push(make_pair(b[x]-a[x],x));\n}\nsigned main(){\n\tscanf(\"%lld%lld\",&n,&m);\n\t//\u4f18\u5148\u961f\u5217\u63d2\u5165\u521d\u503c\n\tq1.push(make_pair(-inf,n+1));\n\tq2.push(make_pair(-inf,n+1));\n\tq3.push(make_pair(-inf,n+1));\n\tq4.push(make_pair(-inf,n+1));\n\tq5.push(make_pair(-inf,n+1));\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%lld%lld\",&a[i],&b[i]);\n\t\tadd_0(i);//\u521d\u59cb\u661f\u503c\u662f0\n\t}\n\tfor(int k=1;k<=m;k++){//\u4e0d\u65ad\u589e\u52a0\u4e00\u4e2a\u661f\u661f\n\t\tint p1=q1.top().second,p2=q2.top().second,p3=q3.top().second,p4=q4.top().second,p5=q5.top().second;\n\t\twhile(q1.size()>1&&ans[p1]!=0)\n\t\t\tq1.pop(),p1=q1.top().second;\n\t\twhile(q2.size()>1&&ans[p2]!=1)\n\t\t\tq2.pop(),p2=q2.top().second;\n\t\twhile(q3.size()>1&&ans[p3]!=0)\n\t\t\tq3.pop(),p3=q3.top().second;\n\t\twhile(q4.size()>1&&ans[p4]!=2)\n\t\t\tq4.pop(),p4=q4.top().second;\n\t\twhile(q5.size()>1&&ans[p5]!=1)\n\t\t\tq5.pop(),p5=q5.top().second;\n\t\tint k1=-q1.top().first,k2=q2.top().first,k3=-q3.top().first,k4=q4.top().first,k5=-q5.top().first;\n\t\tint t1=k1,t2=k5,t3=k3-k2,t4=k3-k4;\n\t\tint minn=min(min(t1,t2),min(t3,t4));\n\t\t//\u6ce8:\u8fd9\u91cci\u6307\u5df2\u9009\u7684\u70b9\uff0cj\u6307\u672a\u9009\u7684\u70b9\n\t\tif(t1==minn){\n\t\t\t//\u8d2a\u5fc3\u7b56\u75651:\u9009\u4e00\u661f(0->a[i])\n\t\t\tanss+=t1;\n\t\t\tq1.pop();\n\t\t\tadd_1(p1);\n\t\t}\n\t\telse if(t2==minn){\n\t\t\t//\u8d2a\u5fc3\u7b56\u75652:\u4e00\u661f\u6539\u6210\u4e8c\u661f(a[i]->b[i])\n\t\t\tanss+=t2;\n\t\t\tq5.pop();\n\t\t\tadd_2(p5);\n\t\t}\n\t\telse if(t3==minn){\n\t\t\t//\u53cd\u6094\u7b56\u75651:\u4e00\u4e2a\u4e00\u661f\u6539\u96f6\u661f\uff0c\u9009\u53e6\u4e00\u4e2a\u4e8c\u661f(a[i]->b[j])\n\t\t\tanss+=t3;\n\t\t\tq2.pop(),q3.pop();\n\t\t\tadd_0(p2),add_2(p3);\n\t\t}\n\t\telse{\n\t\t\t//\u53cd\u6094\u7b56\u75652:\u4e00\u4e2a\u4e8c\u661f\u6539\u4e00\u661f\uff0c\u9009\u53e6\u4e00\u4e2a\u4e8c\u661f(b[i]->a[i]+b[j])\n\t\t\tanss+=t4;\n\t\t\tq3.pop(),q4.pop();\n\t\t\tadd_1(p4),add_2(p3);\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",anss);\n\tfor(int i=1;i<=n;i++)\n\t\tprintf(\"%lld\",ans[i]);\n\tputs(\"\");\n\treturn 0;\n}\n```",
        "postTime": 1601811049,
        "uid": 35754,
        "name": "Verdandi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF436E \u3010Cardboard Box\u3011"
    },
    {
        "content": "\u5982\u679c\u5df2\u7ecf\u51b3\u5b9a\u4e86\u8981\u73a9\u54ea\u4e9b\u5173\u5361\uff0c\u4e00\u5b9a\u662f\u628a\u8fd9\u4e9b\u5173\u5361\u4e2d $b-a$ \u8f83\u5c0f\u7684\u90a3\u4e00\u4e9b\u73a9\u5230\u4e8c\u661f\u3002\n\n\u628a\u6240\u6709\u5173\u5361\u6309\u7167 $b-a$ \u6392\u5e8f\uff0c\u4e00\u5b9a\u5b58\u5728\u4e00\u4e2a\u5206\u754c\u7ebf\uff0c\u5206\u754c\u7ebf\u524d\uff08\u53ea\u8981\u73a9\u4e86\uff09\u5168\u73a9\u5230\u4e8c\u661f\uff0c\u5206\u754c\u7ebf\u540e\uff08\u53ea\u8981\u73a9\u4e86\uff09\u5168\u73a9\u5230\u4e00\u661f\uff0c\u663e\u7136\u754c\u524d\u548c\u754c\u540e\u90fd\u9009\u6700\u5c0f\u7684\u90a3\u4e9b\u3002\n\n\u5047\u8bbe\u6709 $p$ \u4e2a\u5173\u5361\u73a9\u5230\u4e8c\u661f\uff0c\u8fd9\u65f6\u754c\u7ebf\u524d\u8981\u9009\u524d $p$ \u5c0f\u7684 $b$\uff0c\u754c\u7ebf\u540e\u8981\u9009\u524d $w-2p$ \u5c0f\u7684 $a$\uff0c\u8fd9\u4e2a\u4ee3\u4ef7\u663e\u7136\u5173\u4e8e $p$ \u51f8\u3002\n\n\u4f7f\u7528\u6743\u503c\u7ebf\u6bb5\u6811\u7b49\u7ef4\u62a4\u524d $k$ \u5c0f\u503c\uff0c\u914d\u4e0a\u4e8c\u5206 / \u4e09\u5206\uff0c\u590d\u6742\u5ea6 $O(n \\log^2 n)$\u3002\n\n\u4e8b\u5b9e\u4e0a\u4e0a\u9762\u7684\u505a\u6cd5\u5e38\u6570\u5f88\u5927\u800c\u4e14\u5f88\u96be\u5199\u3002\n\n\u7ecf\u8fc7\u89c2\u5bdf\u53ef\u4ee5\u53d1\u73b0\uff0c\u5bf9\u4e8e\u7ed9\u5b9a\u754c\u7ebf $i$ \u800c\u8a00\u4ee3\u4ef7 $f_i(p)$ \u51f8\uff0c\u4f46\u662f\u5bf9\u4e8e\u6574\u4e2a\u95ee\u9898\u7684\u7b54\u6848\u800c\u8a00\uff0c$\\min_{i}f_i(p)$ \u5bf9\u4e8e $p$ \u4e5f\u662f\u51f8\u7684\uff08\u8fd9\u6211\u4e0d\u4f1a\u8bc1\uff09\u3002\u5bf9 $p$ \u4e8c\u5206 / \u4e09\u5206\uff0c\u5bf9\u9876\u5806\u7ef4\u62a4\u524d $p$ \u5c0f\u503c\u5373\u53ef\u3002\n\n\u590d\u6742\u5ea6\u4e0d\u53d8\uff0c\u5e38\u6570\u5f88\u5c0f\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nstruct Heap{\n \npriority_queue<int> s1;\npriority_queue<int,vector<int>,greater<int> > s2;\nint K;\nll sum=0;\nvoid Do(){\n\twhile(s1.size()>K){\n\t\tint u=s1.top();\n\t\ts1.pop(),s2.push(u),sum-=u;\n\t}\n\twhile(s1.size()<K&&s2.size()){\n\t\tint u=s2.top();\n\t\ts2.pop(),s1.push(u),sum+=u;\n\t}\n}\nvoid Ins(int x){\n\ts1.push(x),sum+=x,Do();\n}\nvoid Makek(int k){\n\tK=k,Do();\n}\nll Query(){\n\tif(s1.size()<K)return 1e18;\n\treturn sum;\n}\nvoid Clear(){\n\tpriority_queue<int> t1;\n\tpriority_queue<int,vector<int>,greater<int> > t2;\n\tswap(s1,t1),swap(s2,t2),sum=0;\n}\n \n}a1,a2;\nint n,w,ans[300005];\nll f[300005];\nstruct Thing{\n\tint a,b,id;\n}a[300005];\nll Get(int i,bool is=0){\n\tint j=w-2*i;\n\ta1.Clear(),a2.Clear();\n\ta1.Makek(i),a2.Makek(j);\n\tll mn=1e18;\n\tint pos=0;\n\tfor(int k=n+1;k>=1;k--){\n\t\tif(k<=n)a2.Ins(a[k].a);\n\t\tf[k]=a2.Query();\n\t}\n\tfor(int k=0;k<=n;k++){\n\t\tif(k)a1.Ins(a[k].b);\n\t\tll w=a1.Query()+f[k+1];\n\t\tif(w<mn)mn=w,pos=k;\n\t}\n\tif(is){\n\t\tcout<<mn<<'\\n';\n\t\tvector<Thing> tmp;\n\t\tfor(int k=1;k<=pos;k++)tmp.push_back(a[k]);\n\t\tsort(tmp.begin(),tmp.end(),[](Thing x,Thing y){return x.b<y.b;});\n\t\tfor(int k=0;k<i;k++)ans[tmp[k].id]=2;\n\t\ttmp.clear();\n\t\tfor(int k=pos+1;k<=n;k++)tmp.push_back(a[k]);\n\t\tsort(tmp.begin(),tmp.end(),[](Thing x,Thing y){return x.a<y.a;});\n\t\tfor(int k=0;k<j;k++)ans[tmp[k].id]=1;\n\t\tfor(int k=1;k<=n;k++)cout<<ans[k];\n\t}\n\treturn mn;\n}\nint main(){\n\tscanf(\"%d%d\",&n,&w);\n\tfor(int i=1;i<=n;i++)scanf(\"%d%d\",&a[i].a,&a[i].b),a[i].id=i;\n\tsort(a+1,a+n+1,[](Thing x,Thing y){return x.b-x.a<y.b-y.a;});\n\tint L=-1,R;\n\tfor(int i=0;i<=n;i++){\n\t\tint j=w-2*i;\n\t\tif(j<0||i+j>n)continue;\n\t\tif(L==-1)L=i;\n\t\tR=i;\n\t}\n\twhile(L<R){\n\t\tint mid=(L+R)/2;\n\t\tif(Get(mid)<Get(mid+1))R=mid;\n\t\telse L=mid+1;\n\t}\n\tGet(L,1);\n}\n```",
        "postTime": 1642925996,
        "uid": 42156,
        "name": "feecle6418",
        "ccfLevel": 0,
        "title": "CF436E Cardboard Box"
    },
    {
        "content": "\u63d0\u4f9b\u4e00\u79cd\u4e0d\u4e00\u6837\u7684\u601d\u8def\uff1f\n\n\u5bb9\u6613\u53d1\u73b0\u4e00\u4e2a\u7ed3\u8bba\uff1a\u4e00\u822c\u6765\u8bb2\uff0c\u82e5\u5173\u5361 $i$ \u6ee1\u8db3 $b_i\\le 2\\cdot a_i$\uff0c\u5219\u8be5\u5173\u8981\u4e48 $0$ \u661f\uff0c\u8981\u4e48 $2$ \u661f\u3002\u66f4\u8fdb\u4e00\u6b65\u5730\uff0c\u6240\u6709\u5173\u5361\u4e2d\u6700\u591a\u53ea\u6709\u4e00\u5173\u4e0d\u6ee1\u8db3\u8be5\u7ed3\u8bba\u3002\n\n\u7b49\u4ef7\u7ed3\u8bba\uff1a\u82e5\u5b58\u5728\u4e24\u4e2a\u5173\u5361 $i$ \u548c $j$\uff08\u5047\u8bbe $a_i\\le a_j$\uff09\u6ee1\u8db3\u4e0a\u8ff0\u6761\u4ef6\u5e76\u4e14\u4e24\u4e2a\u5173\u5361\u90fd\u662f $1$ \u661f\uff0c\u5219\u5c06\u7b2c $i$ \u5173\u8c03\u6574\u4e3a $2$ \u661f\uff0c\u5c06\u7b2c $j$ \u5173\u8c03\u6574\u4e3a $0$ \u661f\u4e0d\u4f1a\u4f7f\u7b54\u6848\u66f4\u52a3\u3002\u56e0\u4e3a $b_i\\le 2\\cdot a_i\\le a_i+a_j$ \u6240\u4ee5\u8be5\u7ed3\u8bba\u6210\u7acb\u3002\n\n\u8003\u8651\u5bf9\u4e24\u79cd\u4e0d\u540c\u5173\u5361\u5206\u5f00\u5904\u7406\u3002\n\n\u5bf9\u4e8e $b_i\\le2\\cdot a_i$ \u7684\u5173\u5361\uff0c\u76f4\u63a5\u6254\u8fdb\u5806\u4e2d\uff0c\u4ee3\u4ef7\u4e3a $b_i$\uff0c\u9009\u4e00\u6b21\u5f97\u4e24\u9897\u661f\u3002\n\n\u5bf9\u4e8e $b_i\\gt2\\cdot a_i$ \u7684\u5173\u5361\uff0c\u6211\u4eec\u76f4\u63a5\u5c06\u8be5\u5173\u62c6\u6210\u4ee3\u4ef7\u5206\u522b\u4e3a $a_i$ \u548c $b_i-a_i$ \u7684\u4e24\u9897\u661f\uff0c\u5c06\u62c6\u5206\u51fa\u6765\u7684\u6bcf\u9897\u661f\u6254\u8fdb\u5806\u4e2d\u5373\u53ef\u3002\u56e0\u4e3a $b_i-a_i\\gt a_i$\uff0c\u6240\u4ee5\u9009\u53d6\u65f6\u80af\u5b9a\u662f\u4f9d\u6b21\u9009\u51fa\u67d0\u5173\u7684\u4e24\u9897\u661f\u7684\u3002\n\n\u6bcf\u6b21\u53d6\u51fa\u4e24\u4e2a\u5806\u4e2d\u4ee3\u4ef7\u6700\u5c0f\u7684\u6bd4\u8f83\u5355\u4ef7\uff08\u4ee3\u4ef7\u9664\u4ee5\u661f\u6570\uff09\uff0c\u9009\u53d6\u5c0f\u7684\u5373\u53ef\u3002\u7ecf\u8fc7\u4e00\u4e9b\u9009\u53d6\u540e $w=1$ \u65f6\u9700\u8981\u7279\u5224\uff08\u5177\u4f53\u53ef\u89c1\u4ee3\u7801\uff09\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define fir first\n#define sec second\nusing namespace std;\n\nconst int maxn=300005;\nconst int inf=0x7fffffff;\n\nint n,m;\nint a[maxn];\nint b[maxn];\nint vis[maxn];\n\npair<int,int> getmin() {\n\tint ans=inf,id=-1;\n\tfor(int i=1;i<=n;i++) {\n\t\tif(!vis[i]&&a[i]<ans) { \n\t\t\tans=a[i],id=i;\n\t\t} else if(vis[i]==1&&b[i]-a[i]<ans) { \n\t\t\tans=b[i]-a[i],id=i;\n\t\t}\n\t}\n\treturn {ans,id};\n}\n\npair<int,int> getmax() {\n\tint ans=0,id=-1;\n\tfor(int i=1;i<=n;i++) {\n\t\tif(vis[i]==1&&a[i]>ans) {\n\t\t\tans=a[i],id=i;\n\t\t} else if(vis[i]==2&&b[i]-a[i]>ans) {\n\t\t\tans=b[i]-a[i],id=i;\n\t\t}\n\t}\n\treturn {ans,id};\n}\n\nsigned main() {\n\tn=read(),m=read();\n\tpriority_queue<pair<int,int>,vector<pair<int,int>>,greater<pair<int,int>>> q1,q2;\n\tfor(int i=1;i<=n;i++) {\n\t\ta[i]=read(),b[i]=read();\n\t\tif(b[i]<=2*a[i]) {\n\t\t\tq1.push({b[i],i});\n\t\t} else {\n\t\t\tq2.push({a[i],i}),q2.push({b[i]-a[i],i});\n\t\t}\n\t}\n\tll ans=0;\n\twhile(true) {\n\t\tint x=q1.size()?q1.top().fir:inf,y=q2.size()?q2.top().fir:inf;\n\t\tif(m==1) {\n\t\t\tauto a=getmax(),b=getmin();\n\t\t\tint p=x-a.fir,q=b.fir;\n\t\t\tif(p<=q) {\n\t\t\t\tvis[q1.top().sec]=2,vis[a.sec]--;\n\t\t\t} else {\n\t\t\t\tvis[b.sec]++;\n\t\t\t}\n\t\t\tans+=min(p,q);\n\t\t\tbreak;\n\t\t}\n\t\tif(y==inf||y*2>=x) {\n\t\t\tvis[q1.top().sec]=2;\n\t\t\tq1.pop(),ans+=x,m-=2;\n\t\t} else {\n\t\t\tvis[q2.top().sec]++;\n\t\t\tq2.pop(),ans+=y,m--;\n\t\t}\n\t\tif(!m) {\n\t\t\tbreak;\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",ans);\n\tfor(int i=1;i<=n;i++) {\n\t\tputchar('0'+vis[i]);\n\t}\n\tputchar('\\n');\n}\n```",
        "postTime": 1644304138,
        "uid": 222628,
        "name": "mazihang2022",
        "ccfLevel": 7,
        "title": "CF436E \u9898\u89e3"
    },
    {
        "content": "\u524d\u8a00\uff1a\u501f\u9274\u4e86 @George1123 \u7684\u505a\u6cd5\uff0c\u5728\u6b64\u57fa\u7840\u4e0a\u6539\u826f\uff0c\u53e6\u5916\u53d8\u5f97\u597d\u7406\u89e3\u4e86\u3002\u7ecf\u8fc7\u6539\u826f\uff0c\u6211\u7684\u505a\u6cd5\u6bd4\u4ed6\u7684\u505a\u6cd5\u5feb\u4e86 $4$ \u500d\uff0c\u76ee\u524d\u662f\u6700\u4f18\u89e3\u3002\n\n#### \u5927\u4f53\u601d\u8def\uff1a\n\n\u9700\u8981\u6743\u8861\u7684\u662f\u76f4\u63a5\u82b1 $b_i$ \u5f97 $2$ \u4e2a\u661f\u661f\u8fd8\u662f\u82b1 $2$ \u4e2a\u4e0d\u540c\u7684 $a_i$ \u5f97 $2$ \u4e2a\u661f\u661f\uff0c\u5982\u4f55\u5bf9\u6bd4\u8fd9\u4e24\u79cd\u60c5\u51b5\u54ea\u4e2a\u66f4\u4f18\u662f\u6700\u5927\u7684\u95ee\u9898\u3002\n\n\u5f00 $2$ \u4e2a\u5c0f\u6839\u5806\u7ef4\u62a4 $a_i$ \u548c $b_i$ \u7684\u6700\u5c0f\u503c\uff0c\u7136\u540e\u5f00\u59cb\u8d2a\u5fc3\u3002\n\n#### \u8d2a\u5fc3\u8fc7\u7a0b\uff1a\n\n\u76ee\u7684\u662f\u8981\u9009\u5f53\u524d\u6700\u4f18\uff0c\u8bbe\u5f53\u524d $q_a$ \u5806\u7684\u6700\u5c0f\u503c\u4e3a $a_{min}$\uff0c$q_b$ \u5806\u7684\u6700\u5c0f\u503c\u4e3a $b_{min}$\uff0c\u53ef\u4ee5\u5047\u8bbe\u5b83\u4eec\u4e0d\u662f\u540c\u4e00\u4e2a $i$\u3002\n\n\u663e\u7136\u76f4\u63a5\u6bd4\u8f83 $\\frac{b_{min}}{2}$ \u548c $a_{min}$ \u7684\u5927\u5c0f\u662f\u4e0d\u5bf9\u7684\uff0c\u56e0\u4e3a\u53ef\u80fd $a_{min}$ \u6240\u5bf9\u5e94\u7684 $b$ \u7684\u503c\u6bd4 $a_{min}$ \u5927\u4e0d\u4e86\u591a\u5c11\u3002\n\n\u4e8e\u662f\u53c8\u53d6\u51fa $q_a$ \u5806\u9664\u53bb $a_{min}$ \u7684\u6700\u5c0f\u503c $a_{min2}$\uff0c\u4e5f\u53ef\u4ee5\u5047\u8bbe $a_{min2}$ \u4e0e $b_{min}$ \u4e0d\u662f\u540c\u4e00\u4e2a $i$\u3002\n\n\u73b0\u5728\u53ef\u4ee5\u76f4\u63a5\u6bd4\u8f83 $a_{min}+a_{min2}$ \u548c $b_{min}$ \u7684\u5927\u5c0f\u4e86\u3002\u56e0\u4e3a\u73b0\u5728\u8981\u9009 $2$ \u4e2a\u661f\u661f\u51fa\u6765\uff0c\u8fd9\u4e24\u79cd\u5fc5\u5b9a\u6709\u4e00\u79cd\u662f\u6700\u4f18\u60c5\u51b5\u3002\n\n\u8003\u8651\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n* $a_{min}+a_{min2} \\leq b_{min}$ \u65f6\uff1a\n\n  \uff08\u6ce8\uff1a\u53d6\u7b49\u65f6\u65e0\u8bba\u600e\u4e48\u5904\u7406\u7ed3\u679c\u4e00\u6837\uff09\n\n  \u8fde\u53d6 $2$ \u4e2a $1$ \u661f\u66f4\u4f18\uff0c\u7b54\u6848\u52a0\u4e0a $a_{min}+a_{min2}$\uff0c\u7528\u5230 $a_{min}$ \u548c $a_{min2}$ \u6240\u5bf9\u5e94\u7684 $i$ \u7684\u6b21\u6570\u5404\u589e\u52a0 $1$\u3002\n\n  \u5bf9\u4e8e $a_{min}$ \u548c $a_{min2}$ \u6240\u5bf9\u5e94\u7684 $2$ \u4e2a $i$\uff0c\u5982\u679c $i$ \u662f\u7b2c\u4e00\u6b21\u88ab\u7528\u5230\uff0c\u90a3\u4e48 $q_a$ \u5806\u4e2d\u8fd8\u8981\u65b0\u52a0\u8fdb\u4e00\u4e2a\u6743\u503c\u4e3a $b_i-a_i$ \u7684\u661f\u661f\uff0c\u8868\u793a\u53ef\u4ee5\u589e\u52a0 $b_i-a_i$ \u7684\u4ee3\u4ef7\u591a\u5f97\u5230 $1$ \u4e2a\u661f\u661f\uff0c\u8ddf\u666e\u901a\u661f\u661f\u65e0\u5dee\u5f02\u3002\n\n  \u6b64\u65f6\u6ce8\u610f\uff0c\u8981\u5728 $q_b$ \u5806\u4e2d\u5220\u9664 $i$ \u8fd9\u4e2a\u70b9\uff0c\u56e0\u4e3a\u5b83\u5df2\u7ecf\u4e0d\u80fd\u4e00\u6b21\u53d6 $2$ \u4e2a\u661f\u661f\u4e86\uff0c\u53ef\u4ee5\u7528\u5806\u7684\u5e38\u7528\u64cd\u4f5c\u61d2\u5220\u9664\uff0c\u7b49 $i$ \u5230\u5806\u9876\u7684\u65f6\u5019\u518d\u5220\u3002 \n\n* $a_{min}+a_{min2} > b_{min}$ \u65f6\uff1a\n\n  \u76f4\u63a5\u53d6 $1$ \u4e2a $2$ \u661f\u6700\u4f18\uff0c\u7b54\u6848\u52a0\u4e0a $b_{min}$\uff0c\u7528\u5230 $b_{min}$ \u6240\u5bf9\u5e94\u7684 $i$ \u7684\u6b21\u6570\u4e3a $2$\u3002\n\n  \u5c06 $a_{min}$ \u548c $a_{min2}$ \u91cd\u65b0\u5165 $q_a$ \u5806\uff0c\u5728 $q_a$ \u4e2d\u5220\u9664 $b_{min}$ \u6240\u5bf9\u5e94\u7684\u70b9\uff0c\u540c\u7406\u4e5f\u53ef\u4ee5\u4f7f\u7528\u61d2\u5220\u9664\u3002\n\n#### \u5c0f\u7ec6\u8282\uff1a\n\n* \u56e0\u4e3a\u6bcf\u6b21\u8d2a\u5fc3\u90fd\u662f\u53d6 $2$ \u4e2a\u661f\u661f\uff0c\u5982\u679c $w$ \u4e3a\u5947\u6570\u8be5\u600e\u4e48\u529e\uff1f\n\n  \u5982\u679c $w$ \u4e3a\u5947\u6570\u5219\u5728\u6700\u5f00\u59cb\u5411 $q_a$ \u589e\u52a0\u4e00\u4e2a\u7f16\u53f7\u4e3a $0$\uff0c\u6743\u503c\u4e3a $0$ \u7684\u70b9\uff0c\u76f8\u5f53\u4e8e\u767d\u9001\u4e00\u4e2a\u661f\u661f\uff0c\u5e76\u5c06 $w$ \u53d8\u6210 $w+1$\u3002\u6ce8\u610f\u8fd9\u4e2a $0$ \u53f7\u70b9\u8981\u6807\u8bb0\u4e3a\u4f7f\u7528\u8fc7\u4e00\u6b21\uff0c\u4ee5\u514d\u518d\u6b21\u5165\u5806\u3002\n\n* $w=2 \\times n$ \u65f6\u4f1a\u51fa\u73b0 ```RE```\uff0c\u5177\u4f53\u539f\u56e0\u662f\u56e0\u4e3a $q_a$ \u6700\u540e\u4f1a\u53ea\u6709 $1$ \u4e2a\u5143\u7d20\uff0c\u600e\u4e48\u5904\u7406\uff1f\n\n  \u7279\u5224\u6389\u8fd9\u79cd\u60c5\u51b5\uff0c\u5982\u679c\u9047\u5230\u4e86\u76f4\u63a5\u5168\u9009 $b_i$ \u5c31\u597d\u3002",
        "postTime": 1640264450,
        "uid": 335366,
        "name": "0htoAi",
        "ccfLevel": 0,
        "title": "CF436E Cardboard Box \u9898\u89e3"
    },
    {
        "content": "[\u9898\u9762\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF436E)\n\n\u9898\u610f\uff1a\n\n\u6709 $n$ \u4e2a\u5173\u5361\uff0c\u7b2c $i$ \u4e2a\u5173\u5361\u73a9\u5230 $1$ \u9897\u661f\u9700\u8981\u82b1 $a_i$ \u7684\u65f6\u95f4\uff0c\u73a9\u5230 $2$ \u9897\u661f\u9700\u8981 $b_i$ \u7684\u65f6\u95f4\u3002\uff08$a_i<b_i$\uff09\n\n\u6c42\u73a9\u5230 $w$ \u9897\u661f\u6700\u5c11\u9700\u8981\u591a\u5c11\u65f6\u95f4\u3002\n\n$1 \\leq n \\leq 3 \\times 10^5$\n\n\u7cc5\u5408\u4e00\u4e0b\u697c\u4e0b\u51e0\u4f4d\u795e\u4ed9\u7684\u89e3\u6cd5\u5427\n\n\u9996\u5148\u6709\u4e00\u4e2a\u663e\u7136\u7684\u9519\u8bef\u89e3\u6cd5\uff1a\u521d\u59cb\u5c06\u6240\u6709 $a_i$ \u538b\u5165\u4f18\u5148\u961f\u5217\uff0c\u7136\u540e\u6bcf\u6b21\u5f39\u51fa\u4f18\u5148\u961f\u5217\u4e2d\u6700\u5c0f\u7684\u503c\uff0c\u5982\u679c\u5b83\u662f\u4e00\u661f\u7684\u8bdd\u5c31\u5c06 $b_i-a_i$ \u538b\u5165\u4f18\u5148\u961f\u5217\u3002\n\nhack\uff1a\n\n```\n2 2\n3 4\n2 5\n```\n\n\u4e0b\u9762\u4ecb\u7ecd\u4e09\u79cd\u89e3\u6cd5\uff1a\n\n1. \u76f4\u63a5\u5bf9\u7740\u4e0a\u9762\u7684\u8d2a\u5fc3\u8fdb\u884c\u9b54\u6539\n\n   \u4e0a\u9762\u7684\u8d2a\u5fc3\u9519\u8bef\u7684\u539f\u56e0\u662f\u56e0\u4e3a\u6ca1\u6709\u6743\u8861\u597d\u9009\u62e9\u4e24\u661f\u8fd8\u662f\u9009\u62e9\u4e00\u661f\u3002\n\n   \u6211\u4eec\u53ef\u4ee5\u518d\u5efa\u7acb\u4e00\u4e2a\u4f18\u5148\u961f\u5217\u4fdd\u5b58\u5f53\u524d\u96f6\u661f\u7684\u5173\u5361\u4e2d\uff0c$b_i$ \u7684\u6700\u5c0f\u503c\u3002\n\n   \u5982\u679c\u6211\u4eec\u53d1\u73b0\uff0c\u5f53\u524d\u96f6\u661f\u7684\u5173\u5361\u4e2d $b_i$ \u7684\u6700\u5c0f\u503c $<$ \u4e00\u661f\u7684\u6700\u5c0f\u7684\u4e24\u4e2a\u503c\u4e4b\u548c\u3002\n\n   \u90a3\u4e48\u6211\u4eec\u5c31\u628a $i$ \u5173\u5361\u73a9\u5230\u4e00\u661f\uff0c\u5e76\u5c06 $b_i-a_i$ \u538b\u5165\u4e00\u661f\u7684\u961f\u5217\u5f53\u4e2d\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define fi first\n#define se second\n#define fz(i,a,b) for(int i=a;i<=b;i++)\n#define fd(i,a,b) for(int i=a;i>=b;i--)\n#define ffe(it,v) for(__typeof(v.begin()) it=v.begin();it!=v.end();it++)\n#define fill0(a) memset(a,0,sizeof(a))\n#define fill1(a) memset(a,-1,sizeof(a))\n#define fillbig(a) memset(a,63,sizeof(a))\n#define pb push_back\n#define mp make_pair\ntypedef pair<int,int> pii;\ntypedef long long ll;\nconst int MAXN=3e5+5;\nint n,m,a[MAXN<<1],vis[MAXN<<1],star[MAXN];\npriority_queue<pair<ll,int>,vector<pair<ll,int> >,greater<pair<ll,int> > > o,t;\nvoid clear(priority_queue<pair<ll,int>,vector<pair<ll,int> >,greater<pair<ll,int> > > &q){\n\twhile(!q.empty()&&vis[q.top().se]) q.pop();\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);for(int i=1;i<=n;i++) scanf(\"%d%d\",&a[i],&a[i+n]),a[i+n]-=a[i];\n\tfor(int i=1;i<=n;i++) o.push(mp(a[i],i)),t.push(mp(a[i]+a[i+n],i));\n\tll ans=0;\n\twhile(m--){\n        clear(o);clear(t);\n        int i=o.top().se;o.pop();clear(o);\n        if(m&&t.size()&&a[i]+o.top().fi>=t.top().fi)\n            o.push(mp(a[i],i)),i=t.top().se,t.pop();\n        if(i<=n) o.push(mp(a[i+n],i+n));\n        ans+=a[i];star[(i>n)?(i-n):i]++;vis[i]=true;\n    } printf(\"%lld\\n\",ans);\n    for(int i=1;i<=n;i++) printf(\"%d\",star[i]);\n\treturn 0;\n}\n```\n\n2. \u53cd\u6094\u8d2a\u5fc3\n\n   \u8003\u8651\u6bcf\u6b21\u589e\u52a0\u4e00\u9897\u661f\u661f\uff0c\u53d6\u6700\u5c0f\u7684\u589e\u52a0\u65b9\u5f0f\u3002\n\n   \u6309\u7167\u6700\u6734\u7d20\u7684\u8d2a\u5fc3\u6709\u4e24\u79cd\u589e\u52a0\u65b9\u5f0f\uff1a\n\n   I. \u5c06\u4e00\u4e2a\u96f6\u661f\u7684\u5173\u5361 $i$ \u6539\u4e3a\u4e00\u661f\uff0c\u4ee3\u4ef7\u4e3a $a_i$\n\n   II. \u5c06\u4e00\u4e2a\u4e00\u661f\u7684\u5173\u5361 $i$ \u6539\u4e3a\u4e24\u661f\uff0c\u4ee3\u4ef7\u4e3a $b_i-a_i$\n\n   \u6211\u4eec\u5229\u7528\u8fd4\u56de\u8d2a\u5fc3\u7684\u601d\u60f3\uff0c\u8fd8\u6709\u4e24\u79cd\u53cd\u6094\u65b9\u5f0f\uff1a\n\n   III. \u5c06\u4e00\u4e2a\u4e00\u661f\u5173\u5361 $i$ \u6539\u4e3a\u96f6\u661f\u5173\u5361\uff0c\u5e76\u5c06\u4e00\u4e2a\u96f6\u661f\u5173\u5361 $j$ \u6539\u4e3a\u4e24\u661f\u5173\u5361\uff0c\u4ee3\u4ef7\u4e3a $b_j-a_i$\n\n   IV. \u5c06\u4e00\u4e2a\u4e24\u661f\u5173\u5361 $i$ \u6539\u4e3a\u4e00\u661f\u5173\u5361\uff0c\u5e76\u5c06\u4e00\u4e2a\u96f6\u661f\u5173\u5361 $j$ \u6539\u4e3a\u4e24\u661f\u5173\u5361\uff0c\u4ee3\u4ef7\u4e3a $b_j-(b_i-a_i)$\n\n   \u8003\u8651\u600e\u6837\u7ef4\u62a4\u8fd9\u4e2a\u6700\u5c0f\u503c\uff0c\u6211\u4eec\u5efa\u7acb\u4e94\u4e2a\u5c0f\u6839\u5806\uff1a\n\n   $q_1:\\min\\{a_i|star_i=0\\}$\n\n   $q_2:\\min\\{b_i-a_i|star_i=1\\}$\n\n   $q_3:\\min\\{b_i|star_i=0\\}$\n\n   $q_4:\\min\\{-a_i|star_i=1\\}$\n\n   $q_5:\\min\\{-b_i+a_i|star_i=2\\}$\n\n   \u5bf9\u4e8e\u65b9\u5f0f I\uff0c\u53d6\u51fa $q_1$ \u7684\u961f\u9996\u3002\n\n   \u5bf9\u4e8e\u65b9\u5f0f II\uff0c\u53d6\u51fa $q_2$ \u7684\u961f\u9996\u3002\n\n   \u5bf9\u4e8e\u65b9\u5f0f III\uff0c\u53d6\u51fa $q_3$ \u548c $q_4$ \u7684\u961f\u9996\u5e76\u5c06\u5b83\u4eec\u76f8\u52a0\u3002\n\n   \u5bf9\u4e8e\u65b9\u5f0f III\uff0c\u53d6\u51fa $q_3$ \u548c $q_5$ \u7684\u961f\u9996\u5e76\u5c06\u5b83\u4eec\u76f8\u52a0\u3002\n\n   \u8fd8\u6709\u4e2a\u6ce8\u610f\u70b9\uff1a\u6709\u4e9b\u5173\u5361\u661f\u503c\u7684\u4fee\u6539\u4f1a\u7275\u626f\u5230\u4e24\u4e2a\u5806\uff0c\u6211\u4eec\u8981\u5728\u6bcf\u4e00\u6b21\u53d6\u72b6\u6001\u65f6\u5224\u65ad\u72b6\u6001\u662f\u5426\u6ee1\u8db3\uff0c\u4e0d\u6ee1\u8db3\u5c31 pop \u6389\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define fi first\n#define se second\n#define fz(i,a,b) for(int i=a;i<=b;i++)\n#define fd(i,a,b) for(int i=a;i>=b;i--)\n#define ffe(it,v) for(__typeof(v.begin()) it=v.begin();it!=v.end();it++)\n#define fill0(a) memset(a,0,sizeof(a))\n#define fill1(a) memset(a,-1,sizeof(a))\n#define fillbig(a) memset(a,63,sizeof(a))\n#define pb push_back\n#define mp make_pair\ntypedef pair<int,int> pii;\ntypedef long long ll;\nconst ll INF=1e18;\nconst int MAXN=3e5+5;\nint n,m,a[MAXN],b[MAXN],star[MAXN];\npriority_queue<pair<ll,int>,vector<pair<ll,int> >,greater<pair<ll,int> > > q1,q2,q3,q4,q5;\n//q1: min{a[i]} star[i]=0\n//q2: min{b[i]-a[i]} star[i]=1\n//q3: min{b[i]} star[i]=0\n//q4: min{-a[i]} star[i]=1\n//q5: min{-b[i]+a[i]} star[i]=2\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++) scanf(\"%d%d\",&a[i],&b[i]);\n\tq1.push(mp(INF,n+1));q2.push(mp(INF,n+1));q3.push(mp(INF,n+1));\n\tq4.push(mp(INF,n+1));q5.push(mp(INF,n+1));star[n+1]=-1;\n\tfor(int i=1;i<=n;i++) q1.push(mp(a[i],i)),q3.push(mp(b[i],i));\n\tll ans=0;\n\tfor(int i=1;i<=m;i++){\n\t\twhile(q1.size()>1&&star[q1.top().se]!=0) q1.pop();\n\t\twhile(q2.size()>1&&star[q2.top().se]!=1) q2.pop();\n\t\twhile(q3.size()>1&&star[q3.top().se]!=0) q3.pop();\n\t\twhile(q4.size()>1&&star[q4.top().se]!=1) q4.pop();\n\t\twhile(q5.size()>1&&star[q5.top().se]!=2) q5.pop();\n\t\tll x1=q1.top().fi,x2=q2.top().fi,x3=q3.top().fi+q4.top().fi,x4=q3.top().fi+q5.top().fi;\n\t\tll mn=min(min(x1,x2),min(x3,x4));ans+=mn;\n//\t\tprintf(\"%lld\\n\",mn);\n\t\tif(x1==mn){\n\t\t\tint j=q1.top().se;star[j]=1;q1.pop();\n\t\t\tq2.push(mp(b[j]-a[j],j));q4.push(mp(-a[j],j));\n\t\t} else if(x2==mn){\n\t\t\tint j=q2.top().se;star[j]=2;q2.pop();\n\t\t\tq5.push(mp(-b[j]+a[j],j));\n\t\t} else if(x3==mn){\n\t\t\tint j1=q3.top().se,j2=q4.top().se;\n\t\t\tstar[j1]=2;star[j2]=0;q3.pop();q4.pop();\n\t\t\tq5.push(mp(-b[j1]+a[j1],j1));\n\t\t\tq1.push(mp(a[j2],j2));q3.push(mp(b[j2],j2));\n\t\t} else{\n\t\t\tint j1=q3.top().se,j2=q5.top().se;\n\t\t\tstar[j1]=2;star[j2]=1;q3.pop();q5.pop();\n\t\t\tq5.push(mp(-b[j1]+a[j1],j1));\n\t\t\tq2.push(mp(b[j2]-a[j2],j2));q4.push(mp(-a[j2],j2));\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",ans);\n\tfor(int i=1;i<=n;i++) printf(\"%d\",star[i]);\n\treturn 0;\n}\n```\n\n   \n\n3. \u6570\u636e\u7ed3\u6784\n\n   \u6211\u4eec\u5c06\u8fd9 $n$ \u4e2a\u5173\u5361\u6309 $b_i$ \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u3002\n\n   \u5047\u8bbe\u6211\u4eec\u9009\u62e9\u7684**\u4e24\u661f**\u7684\u5173\u5361\u4e2d $b_i$ \u6700\u5927\u7684\u4e3a\u5173\u5361 $l$\uff0c\u90a3\u4e48\u5728\u5173\u5361 $l$ \u524d\u9762\u7684\u6240\u6709\u5173\u5361\u90fd\u81f3\u5c11\u9009\u62e9\u4e86\u4e00\u9897\u661f\uff08\u6ce8\u610f\u6211\u4eec\u5df2\u7ecf\u6309 $b_i$ \u4ece\u5c0f\u5230\u5927\u6392\u597d\u5e8f\u4e86\uff09\u3002\n\n   \u4e3a\u4ec0\u4e48\u5462\uff1f\u5f88\u7b80\u5355\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u5173\u5361 $j$ \u4e00\u9897\u661f\u90fd\u6ca1\u9009\uff0c\u90a3\u4e48\u628a $b_l$ \u6539\u4e3a\u96f6\u661f\uff0c$b_j$ \u6539\u4e3a\u4e24\u661f\u80af\u5b9a\u66f4\u4f18\u3002\n\n   \u53c8\u56e0\u4e3a\u5173\u5361 $l$ \u662f\u9009\u62e9\u7684\u4e24\u661f\u7684\u5173\u5361\u4e2d $b_i$ \u6700\u5927\u7684\u4e00\u4e2a\uff0c\u6240\u4ee5\u5728 $l$ \u540e\u9762\u7684\u5173\u5361\u81f3\u591a\u9009\u4e86\u4e00\u661f\u3002\n\n   \u7ef4\u62a4 $c_i=\\begin{cases}b_i-a_i&(i\\leq l)\\\\a_i&(i>l)\\end{cases}$\n\n   \u7136\u540e\u53d6 $c_i$ \u6700\u5c0f\u7684 $w-l$ \u4e2a\u5c31\u884c\u4e86\u3002\n\n   \u5b9e\u73b0\u65b9\u5f0f\u5f88\u591a\uff0c\u6211\u4f7f\u7528\u7684\u662f\u5c06 $b_i-a_i$ \u4e0e $a_i$ \u63c9\u5728\u4e00\u8d77\u79bb\u6563\u5316\uff0c\u7136\u540e\u7ebf\u6bb5\u6811\u4e0a\u4e8c\u5206\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define fi first\n#define se second\n#define fz(i,a,b) for(int i=a;i<=b;i++)\n#define fd(i,a,b) for(int i=a;i>=b;i--)\n#define ffe(it,v) for(__typeof(v.begin()) it=v.begin();it!=v.end();it++)\n#define fill0(a) memset(a,0,sizeof(a))\n#define fill1(a) memset(a,-1,sizeof(a))\n#define fillbig(a) memset(a,63,sizeof(a))\n#define pb push_back\n#define mp make_pair\ntypedef pair<int,int> pii;\ntypedef long long ll;\nbool chkmin(ll &x,ll y){return ((x>y)?(x=y,1):0);}\nbool chkmax(ll &x,ll y){return ((x<y)?(x=y,1):0);}\nconst int MAXN=3e5+5;\nint n,w,a[MAXN],b[MAXN],key[MAXN<<1],hs[MAXN<<1],cnt=0,num=0,ord[MAXN];\nint get(int x){return lower_bound(hs+1,hs+num+1,x)-hs;}\nstruct node{\n\tint l,r,c;ll v;\n} s[MAXN<<3];\nvoid build(int k,int l,int r){\n\ts[k].l=l;s[k].r=r;if(l==r) return;\n\tint mid=(l+r)>>1;build(k<<1,l,mid);build(k<<1|1,mid+1,r);\n}\nvoid modify(int k,int x,int addv,int addc){\n\tif(s[k].l==s[k].r){s[k].c+=addc;s[k].v+=addv;return;}\n\tint mid=(s[k].l+s[k].r)>>1;\n\tif(x<=mid) modify(k<<1,x,addv,addc);\n\telse modify(k<<1|1,x,addv,addc);\n\ts[k].c=s[k<<1].c+s[k<<1|1].c;\n\ts[k].v=s[k<<1].v+s[k<<1|1].v;\n}\nll query(int k,int c){\n\tif(s[k].l==s[k].r) return 1ll*c*hs[s[k].l];\n\tif(c>=s[k<<1].c) return s[k<<1].v+query(k<<1|1,c-s[k<<1].c);\n\telse return query(k<<1,c);\n}\nbool cmp(int x,int y){return b[x]<b[y];}\nint star[MAXN];pii p[MAXN];\nint main(){\n\tscanf(\"%d%d\",&n,&w);\n\tfor(int i=1;i<=n;i++) scanf(\"%d%d\",&a[i],&b[i]);\n\tfor(int i=1;i<=n;i++) ord[i]=i;sort(ord+1,ord+n+1,cmp);\n//\tfor(int i=1;i<=n;i++) printf(\"%d\\n\",ord[i]);\n\tfor(int i=1;i<=n;i++) key[++cnt]=a[i],key[++cnt]=b[i]-a[i];\n\tsort(key+1,key+cnt+1);\n\tfor(int i=1;i<=cnt;i++) if(key[i]!=key[i-1]) hs[++num]=key[i];\n\tbuild(1,1,num);\n\tfor(int i=1;i<=n;i++) modify(1,get(a[i]),a[i],1);\n\tll ans=1e18,sum=0;if(w<=n) ans=min(ans,query(1,w));\n\tint pos=0;\n\tfor(int i=1;i<=n;i++){\n\t\tmodify(1,get(a[ord[i]]),-a[ord[i]],-1);\n\t\tmodify(1,get(b[ord[i]]-a[ord[i]]),b[ord[i]]-a[ord[i]],1);\n\t\tsum+=a[ord[i]];//printf(\"%lld\\n\",sum);\n//\t\tprintf(\"%lld\\n\",query(1,w-i));\n\t\tif(w-i<=n&&w-i>=0) if(chkmin(ans,query(1,w-i)+sum)) pos=i;\n\t} printf(\"%lld\\n\",ans);\n\tfor(int i=1;i<=pos;i++) star[ord[i]]++;\n\tfor(int i=1;i<=pos;i++) p[i]=mp(b[ord[i]]-a[ord[i]],ord[i]);\n\tfor(int i=pos+1;i<=n;i++) p[i]=mp(a[ord[i]],ord[i]);\n\tsort(p+1,p+n+1);for(int i=1;i<=w-pos;i++) star[p[i].se]++;\n\tfor(int i=1;i<=n;i++) printf(\"%d\",star[i]);\n\treturn 0;\n}\n```",
        "postTime": 1606016288,
        "uid": 115194,
        "name": "lTgMFePRoeZ",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF436E \u3010Cardboard Box\u3011"
    },
    {
        "content": "# [CF436E](https://codeforces.com/problemset/problem/436/E) Cardboard Box\n\n> $n$ \u4e2a\u5173\u5361\uff0c\u5bf9\u6bcf\u4e2a\u5173\u5361\uff0c\u4f60\u53ef\u4ee5\u82b1 $a_i$ \u4ee3\u4ef7\u5f97\u5230\u4e00\u9897\u661f\uff0c\u4e5f\u53ef\u4ee5\u82b1 $b_i$ \u4ee3\u4ef7\u5f97\u5230\u4e24\u9897\u661f\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u73a9\u3002\u95ee\u83b7\u5f97 $m$ \u9897\u661f\u6700\u5c11\u9700\u8981\u591a\u5c11\u65f6\u95f4\u3002\n\n\u7ed9\u4e00\u79cd\u9898\u89e3\u533a\u8fd8\u6ca1\u6709\u5177\u4f53\u5199\u4f46\u662f\u662f\u5b98\u65b9\u9898\u89e3\u7684\u505a\u6cd5\u3002\n\n### \u601d\u8def\n\n\u5c06\u5173\u5361\u6309 $b_i$ \u6392\u5e8f\uff0c\u53d1\u73b0\u5982\u679c\u6211\u4eec\u5bf9\u4e8e\u5173\u5361 $x$\uff0c\u5982\u679c\u82b1 $b_x$ \u7684\u4ee3\u4ef7\u5f97\u5230\u4e86\u4e24\u9897\u661f\u661f\uff0c\u90a3\u4e48\u5982\u679c\u7b54\u6848\u8981\u4f18\u79c0\uff0c\u5c31\u5fc5\u987b\u5728 $1\\sim x$ \u7684\u5173\u5361\u4e2d\u81f3\u5c11\u5f97\u5230\u4e00\u9897\u661f\u661f\u3002\n\n> \u8bc1\u660e\uff1a\u5982\u679c\u5728 $y(1\\leq y< x)$ \u4f4d\u7f6e\u6ca1\u6709\u5f97\u5230\u4e00\u9897\u661f\u661f\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u82b1\u8d39 $b_y$ \u7684\u4ee3\u4ef7\u5728 $y$ \u5904\u83b7\u5f97\u661f\u661f\uff0c\u540c\u65f6\u53d6\u6d88\u6389 $x$ \u5904\u53d6\u5f97\u7684\u4e24\u9897\u661f\u661f\uff0c\u7531\u4e8e $b_y<b_x$\uff0c\u6240\u4ee5\u5728\u5f97\u5230\u540c\u6837\u661f\u661f\u6570\u91cf\u7684\u60c5\u51b5\u4e0b\u82b1\u8d39\u66f4\u5c0f\u3002\n\n\u6240\u4ee5\u5047\u8bbe\u5728\u524d $L$ \u4e2a\u4e2d\u90fd\u5df2\u7ecf\u9009\u4e86\u4e00\u9897\u661f\u661f\uff0c\u6ee1\u8db3 $\\max(0,m-n)\\leq L\\leq \\min(n,m)$\u3002\u90a3\u4e48\u53ef\u4ee5\u8ba4\u4e3a\u53ea\u80fd\u5728 $1\\sim L$ \u7684\u8303\u56f4\u5185\u8003\u8651\u53d6\u4e24\u9897\u661f\u661f\u7684\u60c5\u51b5\uff0c\u6b64\u65f6\u4e0d\u4f1a\u66f4\u52a3\u3002\n\n\u6b64\u65f6\u7684\u7b54\u6848\u7684\u4e00\u90e8\u5206\u4e3a $\\sum_{i=1}^{L}a_i$\u3002\n\n\u53e6\u4e00\u90e8\u5206\u5219\u662f\u5728 $1\\sim L$ \u533a\u95f4\u5185\u591a\u53d6\u4e00\u9897\u661f\u661f\u6216\u5728 $L\\sim n$ \u7684\u533a\u95f4\u5185\u53d6\u4e00\u9897\u661f\u661f\u7684\u60c5\u51b5\u3002\n\n\u5373\u53ef\u91cd\u96c6\u5408 $\\{b_i-a_i|i\\leq L\\}\\cup\\{a_i|L<i\\}$ \u7684\u524d $m-L$ \u5c0f\u7684\u5143\u7d20\u7684\u548c\u3002\n\n### \u5b9e\u73b0\n\n\u5148\u5c06\u6240\u6709\u7684 $a_i$ \u52a0\u5165\u5230\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\u4e2d\uff0c\u4ece\u5c0f\u5230\u5927\u679a\u4e3e $L$ \u65f6\u5019\uff0c\u5c06 $a_i$ \u4ece\u6570\u636e\u7ed3\u6784\u4e2d\u79fb\u9664\uff0c$b_i-a_i$ \u52a0\u5165\u3002\u7136\u540e\u67e5\u8be2\u6570\u636e\u7ed3\u6784\u4e2d\u524d $m-L$ \u5c0f\u7684\u5143\u7d20\u548c\u3002\n\n\u53ef\u4ee5\u5c06 $b_i-a_i,a_i$ \u79bb\u6563\u5316\u3002\u7ef4\u62a4\u4e00\u9897\u7ebf\u6bb5\u6811\uff0c\u7ebf\u6bb5\u6811\u7684\u6bcf\u4e2a\u533a\u95f4\u4e0a\u8bb0\u5f55\u5f53\u524d\u6570\u636e\u7ed3\u6784\u4e2d\u8be5\u533a\u95f4\u7684\u6570\u7684\u4e2a\u6570 $siz$ \u548c\u4ed6\u4eec\u7684\u548c $sum$\u3002\u4fee\u6539\u5373\u4e3a\u7ebf\u6bb5\u6811\u5355\u70b9\u4fee\u6539\u3002\u67e5\u8be2\u7ebf\u6bb5\u6811\u4e0a\u4e8c\u5206\u5373\u53ef\uff0c\u6ce8\u610f\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9\u7684 $siz$ \u53ef\u80fd\u5927\u4e8e\u8981\u67e5\u8be2\u7684\u6570\u7684\u4e2a\u6570\uff0c\u6b64\u65f6\u9700\u8981\u8fd4\u56de $siz\\times val$\uff0c\u5176\u4e2d $val$ \u662f\u8be5\u8282\u70b9\u6240\u5bf9\u5e94\u7684\u79bb\u6563\u5316\u6570\u7ec4\u7684\u503c\u7684\u5927\u5c0f\u3002\n\n\u8be2\u95ee\u65b9\u6848\u6570\u6211\u6ca1\u6709\u6bd4\u8f83\u597d\u7684\u5b9e\u73b0\u65b9\u6cd5\u3002\u6211\u7684\u65b9\u6cd5\u662f\u8bb0\u5f55\u4e0b\u7b54\u6848\u6700\u5c0f\u65f6 $L$ \u7684\u53d6\u503c\u3002\u7136\u540e\u5c06\u6b64\u65f6\u7684 $b_i-a_i$ \u6216 $a_i$ \u7684\u503c\u4ee5\u53ca\u4ed6\u4eec\u6240\u5bf9\u5e94\u7684\u7f16\u53f7\u76f4\u63a5\u5b58\u4e0b\u6765\u6392\u5e8f\uff0c\u9009\u524d $m-L$ \u4e2a\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log n)$\u3002\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <vector>\n#include <cmath>\n#include <algorithm>\n\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll,ll>ttfa;\ninline ll read(){\n\tll x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||'9'<ch){if(ch=='-')f=-1;ch=getchar();}\n\twhile('0'<=ch&&ch<='9'){x=(x<<3)+(x<<1)+(ch^48);ch=getchar();}\n\treturn x*f;\n}\nconst int N=300005;\nint n,m,lis[N<<1],tot,bel[N];\nttfa arr[N];\ninline int Loc(int x){return lower_bound(lis+1,lis+1+tot,x)-lis;}\nstruct node{ll a,b,d;int id;}a[N];\nbool cmp(node x,node y){return x.b<y.b;}\nint siz[N<<3];ll sum[N<<3];\n#define ls p<<1\n#define rs p<<1|1\n#define mid ((l+r)>>1)\ninline void pushup(int p){\n\tsiz[p]=siz[ls]+siz[rs];\n\tsum[p]=sum[ls]+sum[rs];\n}\nvoid update(int p,int l,int r,int L,ll v,int f){\n\tif(l==r){siz[p]+=f;sum[p]+=f*v;return;}\n\tif(L<=mid)update(ls,l,mid,L,v,f);\n\telse update(rs,mid+1,r,L,v,f);\n\tpushup(p);\n}\nll query(int p,int l,int r,ll k){\n\tif(l==r)return (ll)lis[l]*k;\n\tif(k<=siz[ls])return query(ls,l,mid,k);\n\treturn sum[ls]+query(rs,mid+1,r,k-siz[ls]);\n}\n\nint main(){\n\tn=read(),m=read();\n\tfor(int i=1;i<=n;++i){\n\t\ta[i].a=read(),a[i].b=read();a[i].id=i;\n\t\ta[i].d=a[i].b-a[i].a;\n\t\tlis[++tot]=a[i].a,lis[++tot]=a[i].d;\n\t}\n\tsort(lis+1,lis+1+tot);\n\ttot=unique(lis+1,lis+1+tot)-lis-1;\n\tsort(a+1,a+1+n,cmp);\n\tfor(int i=1;i<=n;++i)\n\t\tupdate(1,1,tot,Loc(a[i].a),a[i].a,1);\n\tll pre=0,ans=0x3f3f3f3f3f3f3f3f;int lim=0;\n\tif(m<=n)ans=query(1,1,tot,m);\n\t//printf(\"%lld\\n\",ans);\n\tfor(int i=1;i<=max(m-n,1)-1;++i){\n\t\tpre+=a[i].a;\n\t\tupdate(1,1,tot,Loc(a[i].a),a[i].a,-1);\n\t\tupdate(1,1,tot,Loc(a[i].d),a[i].d,1);\n\t}\n\tfor(int i=max(m-n,1);i<=min(n,m);++i){\n\t\tpre+=a[i].a;\n\t\tupdate(1,1,tot,Loc(a[i].a),a[i].a,-1);\n\t\tupdate(1,1,tot,Loc(a[i].d),a[i].d,1);\n\t\tll tmp=pre+query(1,1,tot,m-i);\n\t\tif(tmp<ans)ans=tmp,lim=i;\n\t\t//printf(\"%lld %lld\\n\",ans,lim);\n\t}\n\tprintf(\"%lld\\n\",ans);\n\t//if(m==300000)printf(\"%d\\n\",lim);\n\tfor(int i=1;i<=lim;++i)arr[i]={a[i].d,i},bel[a[i].id]=1;\n\tfor(int i=lim+1;i<=n;++i)arr[i]={a[i].a,i};\n\tsort(arr+1,arr+1+n);\n\tfor(int i=1;i<=m-lim;++i){\n\t\tif(arr[i].second<=lim)bel[a[arr[i].second].id]=2;\n\t\telse bel[a[arr[i].second].id]=1;\n\t}\n\tfor(int i=1;i<=n;++i)\n\t\tprintf(\"%d\",bel[i]);\n\tputchar('\\n');\n\treturn 0;\n}\n/*\n10 8\n2 22\n5 12\n5 16\n10 26\n13 16\n1 23\n1 18\n8 30\n13 21\n6 14\n//\u4e0a\u9762\u662fCF\u7684\u4e00\u4e2a\u6570\u636e\u70b9\n*/\n```\n\n### \u540e\u8bb0\n\n\u7279\u522b\u611f\u8c22 [recollector](https://www.luogu.com.cn/user/177893) \u5927\u4f6c\u5bf9\u672c\u7bc7\u9898\u89e3\u5b8c\u6210\u63d0\u4f9b\u7684\u5e2e\u52a9\u3002",
        "postTime": 1665588830,
        "uid": 360491,
        "name": "BigSmall_En",
        "ccfLevel": 6,
        "title": "CF436E Cardboard Box \u9898\u89e3"
    },
    {
        "content": "\n## \u9898\u610f\n\n$n$ \u4e2a\u5173\u5361\uff0c\u5bf9\u6bcf\u4e2a\u5173\u5361\uff0c\u4f60\u53ef\u4ee5\u82b1 $a_i$ \u4ee3\u4ef7\u5f97\u5230\u4e00\u9897\u661f\uff0c\u4e5f\u53ef\u4ee5\u82b1 $b_i$\n\u4ee3\u4ef7\u5f97\u5230\u4e24\u9897\u661f\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u73a9\u3002\u95ee\u83b7\u5f97 $w$ \u9897\u661f\u6700\u5c11\u9700\u8981\u591a\u5c11\u65f6\u95f4\u3002\n\n#### \u6570\u636e\u8303\u56f4\n\n$1 \\leq n \\leq 300000,1 \\leq w \\leq 2n$\u3002\n\n### \u601d\u8def\n\n\u5bf9\u4e8e\u672c\u9898\u6709\u4e00\u4e2a\u5f88\u76f4\u63a5\u7684\u60f3\u6cd5\uff0c\u628a\u82b1\u8d39 $b_i$ \u770b\u6210\u662f\u82b1\u8d39 $a_i$ \u5f97\u5230\u4e00\u9897\u661f\u4ee5\u540e\u518d\u82b1\u8d39 $b_i-a_i$ \u7684\u4ee3\u4ef7\u518d\u5f97\u5230\u4e00\u9897\u661f\u3002\n\n\u5982\u679c\u76f4\u63a5\u7528\u5c0f\u6839\u5806 $q1$ \u7ef4\u62a4\u6700\u5c0f\u4ee3\u4ef7\uff0c\u6bcf\u6b21\u9009\u7b2c\u4e00\u9897\u661f\u540e\u628a\u7b2c\u4e8c\u9897\u661f\u63d2\u5165\u5806\u4e2d\uff0c\u5f97\u5230\u7684\u7b54\u6848\u4e0d\u4e00\u5b9a\u662f\u6700\u4f18\u7684\u3002\u56e0\u4e3a\u5047\u8bbe\u73b0\u5728\u8fd8\u9700 $2$ \u9897\u661f\uff0c\u8d2a\u5fc3\u7684\u9009\u4e86 $i$ \u7684\u7b2c\u4e8c\u9897\u661f\uff0c\u518d\u9009 $j$ \u5927\u4e00\u70b9\u7684\u7b2c\u4e00\u9897\u661f\uff0c\u53ef\u80fd\u5e76\u4e0d\u6bd4\u76f4\u63a5\u9009 $j$ \u7684\u4e8c\u9897\u661f\u7684\u4ee3\u4ef7\u5c0f\uff08\u4e5f\u5c31\u662f\u6ca1\u6709\u8003\u8651\u9009\u7b2c\u4e00\u9897\u661f\u540e\u518d\u63d2\u5165\u7684\u7b2c\u4e8c\u9897\u661f\u7684\u4ee3\u4ef7\uff09\u3002\n\n\u53ef\u4ee5\u518d\u5f00\u4e00\u4e2a\u5c0f\u6839\u5806 $q2$ \u6765\u7ef4\u62a4\u540c\u65f6\u53d6\u4e24\u9897\u661f\u7684\u4ee3\u4ef7\u3002\u6bcf\u6b21\u53d6\u51fa\u65f6\u5224\u65ad\u4e00\u4e0b\u662f\u96f6\u6563\u5730\u9009\u4e24\u9897\u661f\u4ee3\u4ef7\u5c0f\u8fd8\u662f\u4e00\u6b21\u6027\u53d6\u4e24\u9897\u661f\u4ee3\u4ef7\u5c0f\u3002\u4f46\u662f\u9700\u8981\u6ce8\u610f\uff0c\u5982\u679c\u4e00\u6b21\u6027\u9009\u4e24\u9897\u661f\u4ee3\u4ef7\u66f4\u5c0f\uff0c\u4e0d\u80fd\u76f4\u63a5\u628a\u4e24\u9897\u90fd\u53d6\u8d70\uff0c\u8fd9\u662f\u56e0\u4e3a\u53d6\u4e86\u7b2c\u4e00\u9897\u661f\u540e\uff0c\u5e76\u4e0d\u4fdd\u8bc1\u53d6\u7b2c\u4e8c\u9897\u661f\u548c\u53e6\u4e00\u9897\u661f\u7684\u4ee3\u4ef7\u5c31\u6bd4 $q2$ \u6b64\u65f6\u7684\u6700\u5c0f\u503c\u66f4\u4f18\uff08\u5982 $2,2,6,10,8,11$ \u8fd9\u7ec4\u6570\u636e\uff0c\u5982\u679c\u76f4\u63a5\u53d6\u5b8c\uff0c\u5f97\u5230\u7684\u7b54\u6848\u662f $18$\uff0c\u4f46\u6700\u4f18\u89e3\u662f $17$\uff09\u3002\u53ea\u80fd\u8bf4\u8fd9\u79cd\u9009\u6cd5\u6bd4\u96f6\u6563\u7684\u9009\u6cd5\u4e00\u5b9a\u66f4\u4f18\u6216\u8005\u7b49\u4ef7\uff0c\u4f46\u53d6\u51fa\u4e00\u4e2a\u540e\u5c31\u4e0d\u4e00\u5b9a\u662f\u6700\u4f18\u7684\u4e86\uff08\u5982\u679c\u53d6\u7b2c\u4e8c\u9897\u661f\u7684\u4ee3\u4ef7\u5b9e\u5728\u592a\u5c0f\u4e86\uff0c\u90a3\u4e48\u4e5f\u4f1a\u88ab\u518d\u6b21\u53d6\u51fa\uff09\u3002\n\n\u540c\u65f6\u7531\u4e8e $q1$ \u548c $q2$ \u4e2d\u7ef4\u62a4\u7684\u662f\u76f8\u540c\u5143\u7d20\uff0c\u4e8e\u662f\u9700\u8981\u7528\u4e00\u4e2a\u6570\u7ec4\u8bb0\u5f55\u8be5\u661f\u662f\u5426\u88ab\u9009\u8fc7\uff08\u4e5f\u65b9\u4fbf\u6700\u540e\u8f93\u51fa\u7b54\u6848\uff09\uff0c\u5982\u679c\u5f53\u524d\u5806\u9876\u7684\u5143\u7d20\u5df2\u7ecf\u88ab\u4f7f\u7528\u8fc7\u4e86\u5c31\u5f39\u51fa\uff0c\u76f4\u5230\u6ca1\u6709\u88ab\u4f7f\u7528\u8fc7\u3002\n\n\n### code\uff1a\n```cpp\n#include<queue>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nconst int N=6e5+10;\n#define LL long long\nint n,m,a[N];LL ans;bool vis[N];\nstruct node{int id;LL val;bool operator <(const node &t)const{return val>t.val;};};\npriority_queue<node> q1,q2;\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++) scanf(\"%d%d\",&a[i],&a[i+n]),a[i+n]-=a[i],q1.push(node{i,a[i]}),q2.push(node{i,a[i+n]+a[i]});\n\twhile(m--)\n\t{\n\t\twhile(q1.size()&&vis[q1.top().id]) q1.pop();\n\t\twhile(q2.size()&&vis[q2.top().id]) q2.pop();\n\t\tint now=q1.top().id;q1.pop();\n\t\twhile(q1.size()&&vis[q1.top().id]) q1.pop();\n\t\tif(m&&q2.size()&&a[now]+q1.top().val>=q2.top().val){q1.push(node{now,a[now]});now=q2.top().id;q2.pop();}\n\t\tif(now<=n) q1.push(node{now+n,a[now+n]});ans+=a[now];vis[now]=true;\n\t}\n\tprintf(\"%lld\\n\",ans);\n\tfor(int i=1;i<=n;i++) printf(\"%d\",vis[i]+vis[n+i]);puts(\"\");\n\treturn 0;\n}\n```\n",
        "postTime": 1636635328,
        "uid": 288192,
        "name": "ListenSnow",
        "ccfLevel": 7,
        "title": "CF436E Cardboard Box"
    },
    {
        "content": "$$\\texttt{\u524d\u8a00}$$\n\n$\\quad$\u90fd\u662f\u672c\u673a\u623f [@lyyi2003](https://www.luogu.com.cn/user/100806#practice) $dalao$ \u6559\u7684\uff0c\u8bf7\u5404\u4f4d\u5148\u819c [@lyyi2003](https://www.luogu.com.cn/user/100806#practice)\u3002\n\n$$\\texttt{\u5173\u4e8e\u672c\u9898}$$\n\n$\\quad$\u6b64\u9898\u4e00\u770b\u5c31\u662f\u53cd\u6094\u8d2a\u5fc3\uff0c\u6ca1\u6709\u5b66\u8fc7\u7684\u8bf7\u51fa\u95e8\u5de6\u8f6c[\u6d45\u8c08\u53cd\u6094\u8d2a\u5fc3](https://www.luogu.com.cn/blog/Farkas/qian-tan-fan-hui-tan-xin)\u6216[Farkas_W\u7684\u53cd\u6094\u8d2a\u5fc3\u9898\u5355](https://www.luogu.com.cn/training/38261#problems)\u3002\n\n$\\quad$\u8003\u8651\u6b64\u9898\u6bcf\u6b21\u52a0\u4e00\u9897\u661f\u661f\u6709\u51e0\u79cd\u72b6\u6001\u9700\u8981\u8003\u8651\uff1a\n1. \u4ece\u672a\u9009\u661f\u661f\u7684\u5173\u5361\u4e2d\u9009\u4e00\u4e2a\u4ee3\u4ef7\u6700\u5c0f\u7684\u661f\u661f\u3002\n2. \u4ece\u5df2\u9009\u4e00\u9897\u661f\u661f\u7684\u5173\u5361\u4e2d\u9009\u4e00\u4e2a\u5173\u5361\u4f7f\u5b83\u518d\u52a0\u4e00\u9897\u661f\u661f\u3002\n3. \u4ece\u5df2\u9009\u4e00\u9897\u7684\u5173\u5361\u4e2d\u9009\u4e00\u4e2a\u4ee3\u4ef7\u6700\u5927\u7684\uff0c\u518d\u4ece\u672a\u9009\u661f\u661f\u7684\u5173\u5361\u4e2d\u9009\u4e00\u4e2a\u4e24\u9897\u661f\u661f\u7684\u548c\u6700\u5c0f\u7684\uff0c\u5c06\u5df2\u9009\u7684\u4e00\u9897\u53cd\u6094\uff0c\u52a0\u4e0a\u4e24\u9897\u661f\u661f\u3002\n4. \u4ece\u5df2\u9009\u4e24\u9897\u661f\u661f\u7684\u5173\u5361\u4e2d\u9009\u4e00\u4e2a\u7b2c\u4e8c\u9897\u661f\u661f\u4ee3\u4ef7\u6700\u5927\u7684\uff0c\u518d\u4ece\u672a\u9009\u661f\u661f\u7684\u5173\u5361\u9009\u4e0a\u4e24\u9897\u661f\u661f\u3002\n\n\u53d1\u73b0\u6bcf\u6b21\u591a\u9009\u4e00\u4e2a\u661f\u661f\u53ea\u6709\u8fd9\u56db\u79cd\u60c5\u51b5\uff0c\u5f00\u4e94\u4e2a\u5806\u540c\u65f6\u7ef4\u62a4\u4e94\u4e2a\u5e8f\u5217(\u7528 $a_i$\uff0c$b_i$ \u5206\u522b\u8868\u793a\u9009\u4e00\u9897\u661f\u661f\u6216\u4e24\u9897\u661f\u661f\u7684\u4ee3\u4ef7)\uff1a\n\n1. \u5728\u4e00\u9897\u661f\u661f\u4e5f\u6ca1\u6709\u9009\u7684\u5173\u5361\u4e2d\u6309 $a_i$ \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\n2. \u5728\u9009\u4e86\u4e00\u9897\u661f\u661f\u7684\u5173\u5361\u4e2d\u6309 $a_i$ \u4ece\u5927\u5230\u5c0f\u6392\u5e8f\n3. \u5728\u9009\u4e86\u4e00\u9897\u661f\u661f\u7684\u5173\u5361\u4e2d\u6309 $b_i-a_i$ \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\n4. \u5728\u9009\u4e86\u4e24\u9897\u661f\u661f\u7684\u5173\u5361\u4e2d\u6309 $b_i-a_i$ \u4ece\u5927\u5230\u5c0f\u6392\u5e8f\n1. \u5728\u4e00\u9897\u661f\u661f\u4e5f\u6ca1\u6709\u9009\u7684\u5173\u5361\u4e2d\u6309 $b_i$ \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\n\n$\\quad$\u5efa $5$ \u4e2a\u5806\uff0c\u5206\u522b\u7b97\u51fa\u56db\u79cd\u7b54\u6848\u7684\u4ee3\u4ef7\uff0c\u6bcf\u6b21\u9009\u6700\u5c0f\u7684\uff0c\u4fee\u6539\u5b83\u7684\u661f\u661f\u6570\u91cf\uff0c\u7136\u540e\u5c06\u6539\u53d8\u4e86\u7684\u653e\u5165\u65b0\u7684\u5806\u91cc(\u6839\u636e\u6539\u53d8\u540e\u7684\u661f\u661f\u7684\u6570\u91cf\u6765\u653e)\u5373\u53ef\u3002\n\n```cpp\n//\u9a6c\u8702\u6709\u70b9\u4e11\uff0c\u8fd8\u8bf7\u89c1\u8c05\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<algorithm>\n#include<queue>\nusing namespace std;\n#define re register int\n#define il inline\n#define inf 1e9+5\nil int read()\n{\n  int x=0,f=1;char ch=getchar();\n  while(!isdigit(ch)&&ch!='-')ch=getchar();\n  if(ch=='-')f=-1,ch=getchar();\n  while(isdigit(ch))x=(x<<1)+(x<<3)+ch-'0',ch=getchar();\n  return x*f;\n}\nil void print(long long x)\n{\n  if(x<0)putchar('-'),x=-x;\n  if(x/10)print(x/10);\n  putchar(x%10+'0');\n}\nconst int N=3e5+5;\nint n,m,b[N];\nlong long ans;\nstruct node{\n  int x,y,id;\n}a[N];\nstruct node1{\n  int x,y,id;\n  il bool operator<(const node1 &hh)const\n  {return x>hh.x;}//x xiao->da  b[i]=0;\n};\npriority_queue<node1>q1;\nstruct node2{\n  int x,y,id;\n  il bool operator<(const node2 &hh)const\n  {return x<hh.x;}//x da->xiao  b[i]=1;\n};\npriority_queue<node2>q2;\nstruct node3{\n  int x,y,id;\n  il bool operator<(const node3 &hh)const\n  {return (y-x)>(hh.y-hh.x);}//y-x  xiao->da   b[i]=1;\n};\npriority_queue<node3>q3;\nstruct node4{\n  int x,y,id;\n  il bool operator<(const node4 &hh)const\n  {return (y-x)<(hh.y-hh.x);}//y-x  da->xiao    b[i]=2;\n};\npriority_queue<node4>q4;\nstruct node5{\n  int x,y,id;\n  il bool operator<(const node5 &hh)const\n  {return y>hh.y;}//y xiao->da   b[i]=0;\n};\npriority_queue<node5>q5;\nsigned main()\n{\n  n=read();m=read();\n  for(re i=1;i<=n;i++)\n    {\n      a[i].x=read();a[i].y=read();a[i].id=i;\n      q1.push((node1){a[i].x,a[i].y,i});\n      q5.push((node5){a[i].x,a[i].y,i});\n    }\n  for(re i=1;i<=m;i++)\n    {\n      int t1,t2,t3,t4;t1=t2=t3=t4=inf;//\u521d\u59cb\u4e3ainf\u6781\u5927\u503c\n      while(!q1.empty()&&b[q1.top().id]!=0)q1.pop();//\u4fdd\u8bc1\u5806\u9876\u7b26\u5408\u6761\u4ef6\uff0c\u56e0\u4e3a\u5b83\u6709\u53ef\u80fd\u5df2\u7ecf\u88ab\u6539\u53d8\u4e86\n      while(!q2.empty()&&b[q2.top().id]!=1)q2.pop();\n      while(!q3.empty()&&b[q3.top().id]!=1)q3.pop();\n      while(!q4.empty()&&b[q4.top().id]!=2)q4.pop();\n      while(!q5.empty()&&b[q5.top().id]!=0)q5.pop();\n      if(!q1.empty())t1=q1.top().x;//\u5206\u522b\u8ba1\u7b97\u56db\u79cd\u9009\u62e9\u7684\u4ee3\u4ef7\n      if(!q3.empty())t2=q3.top().y-q3.top().x;\n      if(!q5.empty()&&!q2.empty())t3=q5.top().y-q2.top().x;\n      if(!q5.empty()&&!q4.empty())t4=q5.top().y-(q4.top().y-q4.top().x);\n      if(t1<=t2&&t1<=t3&&t1<=t4){//\u82e5\u7b2c\u4e00\u79cd\u9009\u62e9\u6700\u4f18\n\t    node1 tmp=q1.top();q1.pop();//\u5f39\u51fa\n\t    ans+=(long long)t1;b[tmp.id]=1;//\u66f4\u65b0\u7b54\u6848\n\t    q2.push((node2){tmp.x,tmp.y,tmp.id});//\u653e\u5165\u4e00\u9897\u661f\u661f\u7684\u5806\u91cc\n\t    q3.push((node3){tmp.x,tmp.y,tmp.id});//\u653e\u5165\u4e00\u9897\u661f\u661f\u7684\u5806\u91cc\n\t    continue;\n      }if(t2<=t1&&t2<=t3&&t2<=t4){//\u82e5\u7b2c\u4e8c\u79cd\u9009\u62e9\u6700\u4f18\n\t    node3 tmp=q3.top();q3.pop();//\u5f39\u51fa\n\t    ans+=(long long)t2;b[tmp.id]=2;//\u66f4\u65b0\u7b54\u6848\n\t    q4.push((node4){tmp.x,tmp.y,tmp.id});//\u653e\u5165\u4e00\u9897\u661f\u661f\u7684\u5806\u91cc\n\t    continue;\n      }if(t3<=t1&&t3<=t2&&t3<=t4){//\u82e5\u7b2c\u4e09\u79cd\u9009\u62e9\u6700\u4f18\n\t    node5 tmp1=q5.top();q5.pop();//\u5f39\u51fa\n\t    node2 tmp2=q2.top();q2.pop();//\u5f39\u51fa\n\t    ans+=(long long)t3;b[tmp1.id]=2;b[tmp2.id]=0;//\u66f4\u65b0\u7b54\u6848\n\t    q4.push((node4){tmp1.x,tmp1.y,tmp1.id});//\u653e\u5165\u4e24\u9897\u661f\u661f\u7684\u5806\u91cc\n\t    q1.push((node1){tmp2.x,tmp2.y,tmp2.id});//\u653e\u5165\u96f6\u9897\u661f\u661f\u7684\u5806\u91cc\n        q5.push((node5){tmp2.x,tmp2.y,tmp2.id});//\u653e\u5165\u96f6\u9897\u661f\u661f\u7684\u5806\u91cc\n\t    continue;\n      }if(t4<=t1&&t4<=t2&&t4<=t3){//\u82e5\u7b2c\u56db\u79cd\u9009\u62e9\u6700\u4f18\n\t    node5 tmp1=q5.top();q5.pop();//\u5f39\u51fa\n\t    node4 tmp2=q4.top();q4.pop();//\u5f39\u51fa\n\t    ans+=(long long)t4;b[tmp1.id]=2;b[tmp2.id]=1;//\u66f4\u65b0\u7b54\u6848\n\t    q4.push((node4){tmp1.x,tmp1.y,tmp1.id});//\u653e\u5165\u4e24\u9897\u661f\u661f\u7684\u5806\u91cc\n\t    q2.push((node2){tmp2.x,tmp2.y,tmp2.id});//\u653e\u5165\u4e00\u9897\u661f\u661f\u7684\u5806\u91cc\n\t    q3.push((node3){tmp2.x,tmp2.y,tmp2.id});//\u653e\u5165\u4e00\u9897\u661f\u661f\u7684\u5806\u91cc\n      }\n    }print(ans);putchar('\\n');\n  for(re i=1;i<=n;i++)print(b[i]);\n  return 0;\n}\n```",
        "postTime": 1606986275,
        "uid": 109220,
        "name": "Farkas_W",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF436E \u3010Cardboard Box\u3011"
    },
    {
        "content": "\u4e00\u9053\u7ecf\u5178\u7684\u53cd\u6094\u8d2a\u5fc3\u9898\u3002\n\n\u8003\u8651\u6bcf\u6b21\u9009\u62e9\u4f7f\u603b\u661f\u6570\u52a0\u4e00\uff0c\u90a3\u4e48\u603b\u5171\u6709\u56db\u79cd\u60c5\u51b5\u3002\n\n\u4e00\u3001\u5bf9\u4e8e\u4e00\u5173\u6ca1\u6709\u661f\uff0c\u9009\u4e00\u9897\u661f\uff0c\u4ee3\u4ef7\u4e3a $a_i$\u3002\n\n\u4e8c\u3001\u5bf9\u4e8e\u4e00\u5173\u6709\u4e00\u9897\u661f\uff0c\u518d\u9009\u4e00\u9897\u661f\uff0c\u4ee3\u4ef7\u4e3a $b_i-a_i$\u3002\n\n\u4e09\u3001\u5bf9\u4e8e\u4e00\u5173\u6709\u4e00\u9897\u661f\uff0c\u9009\u62e9\u9000\u56de\u8fd9\u9897\u661f\uff0c\u5e76\u518d\u53e6\u4e00\u4e2a\u6ca1\u661f\u7684\u5173\u5361\u9009\u4e24\u9897\u661f\uff0c\u4ee3\u4ef7\u4e3a $-a_i+b_j$\u3002\n\n\u56db\u3001\u5bf9\u4e8e\u4e00\u5173\u6709\u4e24\u9897\u661f\uff0c\u9000\u56de\u4e00\u9897\u661f\uff0c\u5e76\u518d\u53e6\u4e00\u4e2a\u6ca1\u661f\u7684\u5173\u5361\u9009\u4e24\u9897\u661f\uff0c\u4ee3\u4ef7\u4e3a $-b_i+a_i+b_j$\n\n\u90a3\u4e48\u7ef4\u62a4\u4e94\u4e2a\u4f18\u5148\u961f\u5217\uff0c\u5206\u522b\u4e3a $a_i,b_i-a_i,-a_i,b_j,-b_i+a_i$\uff0c\u6bcf\u6b21\u53d6\u56db\u79cd\u60c5\u51b5\u7684\u6700\u5c0f\u503c\u6765\u9009\u5373\u53ef\u3002\n\n```\n#include<iostream>\n#include<cstdio>\n#include<queue>\n#define int long long\nusing namespace std;\nconst int N=3e5+5;\nint n,w,a[N],b[N],vis[N];\nlong long ans=0;\nstruct node\n{\n\tint name;\n\tint data;\n};\nbool operator <(node fi,node se)\n{\n\treturn fi.data>se.data;\n}\npriority_queue<node>q1,q2,q3,q4,q5;\nsigned main()\n{\n\tscanf(\"%lld%lld\",&n,&w);\n\tq1.push({0,10000000000ll});\n\tq2.push({0,10000000000ll});\n\tq3.push({0,10000000000ll});\n\tq4.push({0,10000000000ll});\n\tq5.push({0,10000000000ll});\n\tfor(int i=1;i<=n;i++)scanf(\"%lld%lld\",&a[i],&b[i]),q1.push({i,a[i]}),q5.push({i,b[i]});\n\tfor(int i=1;i<=w;i++)\n\t{\n\t\tint num1=q1.top().data,num2=q2.top().data,num3=q5.top().data+q3.top().data,num4=q5.top().data+q4.top().data;\n\t\tif(num1<=num2&&num1<=num3&&num1<=num4)\n\t\t{\n\t\t\tans+=num1;\n\t\t\tint id=q1.top().name;\n\t\t\tvis[id]=1;\n\t\t\tq3.push({id,-a[id]});\n\t\t\tq2.push({id,b[id]-a[id]});\n\t\t}\n\t\telse if(num2<=num1&&num2<=num3&&num2<=num4)\n\t\t{\n\t\t\tans+=num2;\n\t\t\tint id=q2.top().name;\n\t\t\tvis[id]=2;\n\t\t\tq4.push({id,a[id]-b[id]});\n\t\t}\n\t\telse if(num3<=num2&&num3<=num1&&num3<=num4)\n\t\t{\n\t\t\tans+=num3;\n\t\t\tint id=q5.top().name,id2=q3.top().name;\n\t\t\tq4.push({id,a[id]-b[id]});\n\t\t\tq1.push({id2,a[id2]});\n\t\t\tq5.push({id2,b[id2]});\n\t\t\tvis[id]=2;\n\t\t\tvis[id2]=0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tans+=num4;\n\t\t\tint id=q5.top().name,id2=q4.top().name;\n\t\t\tq4.push({id,a[id]-b[id]});\n\t\t\tq3.push({id2,-a[id2]});\n\t\t\tq2.push({id2,b[id2]-a[id2]});\n\t\t\tvis[id]=2;\n\t\t\tvis[id2]=1;\n\t\t}\n\t\twhile(q1.top().name!=0&&vis[q1.top().name]!=0)q1.pop();\n\t\twhile(q2.top().name!=0&&vis[q2.top().name]!=1)q2.pop();\n\t\twhile(q3.top().name!=0&&vis[q3.top().name]!=1)q3.pop();\n\t\twhile(q4.top().name!=0&&vis[q4.top().name]!=2)q4.pop();\n\t\twhile(q5.top().name!=0&&vis[q5.top().name]!=0)q5.pop();\n\t}\n\tprintf(\"%lld\\n\",ans);\n\tfor(int i=1;i<=n;i++)printf(\"%lld\",vis[i]);\n\treturn 0;\n}\n```\n",
        "postTime": 1676893487,
        "uid": 275793,
        "name": "Gmt\u4e36FFF",
        "ccfLevel": 5,
        "title": "CF436E Cardboard Box \u9898\u89e3"
    },
    {
        "content": "\u6700\u8fd1\u505a\u5230\u7684\u6700\u96be\u7684\u4e00\u9898\u53cd\u6094\u8d2a\u5fc3\uff0c\u53c2\u8003\u4e86\u9898\u89e3\u505a\u6cd5\u624d\u60f3\u660e\u767d\u3002\n\n------------\n\n\u89e3\u9898\u601d\u8def\uff1a\n\n\u8003\u8651\u53cd\u6094\u8d2a\u5fc3\u3002\n\n\u7531\u4e8e\u672c\u9898\u8981\u6c42\u6070\u597d\u53d6\u5230 $w$ \u9897\u661f\u661f\uff0c\u4e0d\u80fd\u8d85\u8fc7\uff0c\u4e5f\u4e0d\u80fd\u5c11\uff0c\u6240\u4ee5\u601d\u8003\u65b9\u5411\u53ef\u4ee5\u5e94\u5bfc\u5411\u4e3a\u5230\u5e95\u600e\u6837\u5f97\u5230\u989d\u5916\u7684\u4e00\u661f\u624d\u4ee3\u4ef7\u6700\u5c0f\uff1a\n\n\u6700\u7b80\u5355\u7684\u51b3\u7b56\u662f\u76f4\u63a5\u9009\u62e9\u4e00\u4e2a\u4e00\u661f\u5173\u5361\u6253\u4e86\u3002\u7136\u540e\u8fd8\u6709\u4ee5\u53ca\u53cd\u6094\u8d2a\u5fc3\u7684\u57fa\u672c\u5957\u8def\uff0c\u64a4\u9500\u4e00\u4e2a\u4e00\u661f\u5173\u5361\u7684\u5f71\u54cd\uff0c\u7136\u540e\u518d\u628a\u5b83\u6539\u6210\u5f53\u524d\u8fd9\u4e00\u4e2a\u4e24\u661f\u5173\u5361\u7684\u5f71\u54cd\u3002\n\n\u63a5\u4e0b\u6765\u4e24\u79cd\u662f\u8f83\u96be\u60f3\u5230\u7684\uff0c\u4e5f\u662f\u8fd9\u9053\u9898~~\u4e3a\u4ec0\u4e48\u662f\u7d2b\u8272\u7684~~\u8fd9\u9053\u9898\u771f\u6b63\u7684\u96be\u70b9\uff1a\u64a4\u9500\u4e00\u4e2a\u4e00\u661f\u5173\u5361\uff0c\u7136\u540e\u627e\u4e00\u4e2a\u5176\u4ed6\u7684\u4e24\u661f\u5173\u5361\u6253\u4e86\uff1b\u628a\u4e00\u4e2a\u4e24\u661f\u5173\u5361\u53cd\u6094\u6210\u4e00\u4e2a\u4e00\u661f\u548c\u53e6\u4e00\u4e2a\u4e24\u661f\u5173\u5361\u3002\n\n\u9996\u5148\u662f\u64a4\u9500\u4e00\u661f\u9009\u4e24\u661f\u8fd9\u4e2a\u64cd\u4f5c\uff0c\u53ef\u4ee5\u8003\u8651\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff1a\u6709\u4e2a\u5173\u5361\u4e00\u661f\u7279\u522b\u96be\uff0c\u4f46\u662f\u4e8c\u661f\u4ee3\u4ef7\u5f88\u5c0f\uff0c\u53e6\u4e00\u4e2a\u5173\u5361\u4e00\u661f\u7279\u7b80\u5355\uff0c\u4f46\u662f\u4e24\u661f\u8017\u65f6\u6781\u957f\uff0c\u5982\u679c\u53ea\u6709\u4e00\u5f00\u59cb\u7684\u4e24\u79cd\u51b3\u7b56\uff0c\u4f1a\u51fa\u73b0\uff08\u5047\u8bbe\u8981\u5f97\u603b\u8ba1\u4e24\u661f\uff09\u9009\u4e86\u7b2c\u4e00\u3001\u4e8c\u4e2a\u5173\u5361\u7684\u4e00\u661f\u6216\u8005\u662f\u7b2c\u4e8c\u4e2a\u5173\u5361\u7684\u4e24\u661f\uff0c\u800c\u65e0\u6cd5\u51b3\u7b56\u5230\u7b2c\u4e00\u4e2a\u5173\u5361\u7684\u4e24\u661f\u7684\u60c5\u51b5\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5c31\u662f\u53ef\u80fd\u51fa\u73b0\u4e00\u661f\u8017\u65f6\u957f\u65e0\u6cd5\u8fdb\u5165\u51b3\u7b56\u8003\u8651\u8303\u56f4\u7684\u60c5\u51b5\u3002\n\n\u4e3e\u4e2a\u4f8b\u5b50\u5c31\u662f\uff1a\n\n\u5173\u5361\u4e00\uff1a\u4e00\u661f 1 \u5355\u4f4d\u65f6\u95f4\uff0c\u4e24\u661f 100 \u5355\u4f4d\u65f6\u95f4\u3002\n\n\u5173\u5361\u4e8c\uff1a\u4e00\u661f 99 \u5355\u4f4d\u65f6\u95f4\uff0c\u4e24\u661f 10 \u5355\u4f4d\u65f6\u95f4\u3002\n\n\u4e00\u5f00\u59cb\u7684\u4e00\u661f\u51b3\u7b56\u80af\u5b9a\u662f\u9009\u62e9\u5173\u5361\u4e00\u7684\u4e00\u661f\u3002\u7136\u540e\u5230\u4e8c\u661f\u51b3\u7b56\u65f6\uff0c\u5982\u679c\u53ea\u6709\u4e00\u5f00\u59cb\u7684\u4e24\u79cd\u51b3\u7b56\u5c31\u53ea\u4f1a\u9009\u62e9\u5173\u5361\u4e8c\u7684\u4e00\u661f\uff0c\u603b\u4ee3\u4ef7\u4e3a $100$\uff0c\u5b9e\u9645\u4e0a\u76f4\u63a5\u6253\u5173\u5361\u4e8c\u7684\u4e8c\u661f\u5c31\u53ea\u9700\u8981 $10$ \u7684\u4ee3\u4ef7\u3002\n\n~~(\u867d\u7136\u4e0d\u592a\u5408\u7406\uff0c\u4f46\u597d\u50cf\u786e\u5b9e\u6ca1\u8bf4\u4e0d\u80fd\u6253\u4e24\u661f\u65f6\u95f4\u6bd4\u4e00\u661f\u77ed~~\n\n\u7136\u540e\u662f\u4e00\u4e2a\u4e24\u661f\u5173\u5361\u53cd\u6094\u6210\u5f53\u524d\u5173\u5361\u4e00\u661f\u548c\u53e6\u4e00\u4e2a\u4e24\u661f\u5173\u5361\uff0c\u8fd9\u79cd\u60c5\u51b5\u548c\u4e0a\u4e00\u79cd\u6709\u70b9\u7c7b\u4f3c\uff0c\u90fd\u662f\u56e0\u4e3a\u53ef\u80fd\u51fa\u73b0\u76f4\u63a5\u67d0\u4e00\u4e2a\u5173\u5361\u76f4\u63a5\u4e8c\u661f\u5f88\u5bb9\u6613\uff0c\u800c\u4e00\u661f\u5f88\u96be\uff0c\u5bfc\u81f4\u65e0\u8003\u8651\u4e0d\u5230\u7684\u60c5\u51b5\uff0c\u800c\u8fd9\u4e00\u79cd\u6ca1\u6709\u4e0a\u4e00\u79cd\u6781\u7aef\uff0c\u800c\u4e14\u6709\u4e86\u4e0a\u4e00\u4e2a\u7684\u57fa\u7840\u8fd9\u4e00\u4e2a\u51b3\u7b56\u4e5f\u5f88\u597d\u7406\u89e3\uff0c\u6240\u4ee5\u76f4\u63a5\u7ed9\u51fa\u4f8b\u5b50\uff1a\n\n\u5047\u8bbe\u4f60\u8981\u62ff\u5230\u4e09\u661f\n\n\u5173\u5361\u4e00\uff1a\u4e00\u661f 100 \u5355\u4f4d\u65f6\u95f4\uff0c\u4e24\u661f 10 \u5355\u4f4d\u65f6\u95f4\u3002\n\n\u5173\u5361\u4e8c\uff1a\u4e00\u661f 5 \u5355\u4f4d\u65f6\u95f4\uff0c\u4e24\u661f 8 \u5355\u4f4d\u65f6\u95f4\u3002\n        \n\u8fd9\u6837\u7b2c\u4e00\u6b21\u548c\u7b2c\u4e8c\u6b21\u51b3\u7b56\u65f6\u5206\u522b\u662f\u9009\u62e9\u7684\u5173\u5361\u4e8c\u4e00\u661f\u548c\u4e24\u661f\uff0c\u6ca1\u6709\u6d89\u53ca\u5173\u5361\u4e00\uff0c\u800c\u603b\u5171\u4e8c\u661f\u65f6\u5728\u8981\u53d6\u5f97\u4e00\u9897\u661f\u6309\u7167\u4e4b\u524d\u7684\u4e09\u79cd\u51b3\u7b56\u53ea\u80fd\u53d6\u5173\u5361\u4e00\u7684 $100$ \u5355\u4f4d\u65f6\u95f4\uff0c\u4e0e\u6700\u4f18\u7684 $15$ \u5355\u4f4d\u65f6\u95f4\u76f8\u5dee\u751a\u8fdc\u3002\n\n------------\n\u5b9e\u73b0\u4e0a\uff0c\u53ef\u4ee5\u91cd\u65b0\u5217\u51fa\u4e0a\u9762\u7684\u51e0\u79cd\u51b3\u7b56\uff08~~\u5176\u5b9e\u662f\u6211\u6570\u4e0d\u8fc7\u6765\u5230\u5e95\u8981\u7ef4\u62a4\u591a\u5c11\u5806\u4e86~~\uff09\uff0c\u5e76\u4f9d\u6b21\u5206\u6790\u9700\u8981\u7ef4\u62a4\u7684\u503c\uff0c\u5f53\u7136\u8fd8\u662f\u6b63\u5e38\u53cd\u6094\u8d2a\u5fc3\u7684\u5806\u7ef4\u62a4\u3002\n\n\u5177\u4f53\u7684\uff0c\u6709\uff1a\n\n1. \u6253\u4e00\u4e2a\u4ece\u6765\u6ca1\u6709\u6253\u8fc7\u7684\u4e00\u661f\u5173\u5361\uff0c\u9700\u8981\u7ef4\u62a4\u4ece\u6ca1\u6709\u6253\u8fc7\u7684\u5173\u5361\u7684 $a_i$ \u7684\u6700\u5c0f\u503c\u3002\n\n2. \u628a\u4e00\u4e2a\u6253\u8fc7\u7684\u4e00\u661f\u5173\u5361\u53d8\u6210\u540c\u5173\u5361\u4e8c\u661f\u5173\u5361\uff0c\u9700\u8981\u7ef4\u62a4\u5df2\u7ecf\u6253\u8fc7\u4e00\u661f\u7684\u5173\u5361\u7684 $b_i-a_i$ \u7684\u6700\u5c0f\u503c\u3002\n\n3. \u628a\u4e00\u4e2a\u6253\u8fc7\u7684\u4e00\u661f\u5173\u5361\u53d8\u6210\u4e00\u4e2a\u5176\u4ed6\u7684\u4e8c\u661f\u5173\u5361\uff0c\u9700\u8981\u7ef4\u62a4 $b_j-a_i$ \u7684\u6700\u5c0f\u503c\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u7ef4\u62a4\u4e24\u4e2a\u503c\uff1a\u5373\u5df2\u7ecf\u6253\u4e86\u7684\u4e00\u661f\u5173\u5361\u7684 $a_i$ \u7684\u6700\u5927\u503c\uff08\u6216\u8005\u8bf4\u662f $-a_i$ \u7684\u6700\u5c0f\u503c\uff0c\u4e24\u8005\u7b49\u4ef7\uff09\uff0c\u548c\u4ece\u6765\u6ca1\u6709\u6253\u8fc7\u7684\u5173\u5361\u7684 $b_j$ \u7684\u6700\u5c0f\u503c\u3002\n\n4. \u628a\u4e00\u4e2a\u5df2\u7ecf\u6253\u8fc7\u7684\u4e8c\u661f\u5173\u5361\u53cd\u6094\u6210\u5f53\u524d\u4e00\u661f\u5173\u5361\u548c\u4e00\u4e2a\u4ece\u6ca1\u6709\u6253\u8fc7\u7684\u4e8c\u661f\u5173\u5361\uff0c\u9700\u8981\u7ef4\u62a4 $a_i-b_i+b_j$ \u7684\u6700\u5c0f\u503c\u3002\u7c7b\u4f3c\u7684\uff0c\u62c6\u5206\u4e0b\u6765\u7684\u5c31\u662f\u4e00\u4e2a\u5df2\u7ecf\u6253\u8fc7\u4e24\u661f\u5173\u5361\u7684 $a_i-b_i$ \u7684\u6700\u5c0f\u503c\u548c\u4ece\u6ca1\u6709\u6253\u8fc7\u7684\u5173\u5361\u7684 $b_i$ \u7684\u6700\u5c0f\u503c\u3002\n\n\u5176\u4e2d\u51b3\u7b56\u56db \u4e2d\u8981\u7ef4\u62a4\u7684\u4ece\u6765\u6ca1\u6709\u6253\u8fc7\u7684\u5173\u5361\u7684 $b_i$ \u7684\u6700\u5c0f\u503c\u5728\u51b3\u7b56\u4e09 \u4e2d\u4e5f\u7528\u5230\u4e86\uff0c\u6240\u4ee5\u4f60\u53ea\u9700\u8981\u7ef4\u62a4\u4e94\u4e2a\u5806\u5c31\u53ef\u4ee5\u5566\u3002\n\n\u7136\u540e\u6bcf\u4e00\u6b21\u51b3\u7b56\u6839\u636e\u8d2a\u5fc3\u7684\u539f\u5219\u4ece\u6240\u6709\u7684\u51b3\u7b56\u4e2d\u9009\u62e9\u4e00\u4e2a\u8017\u65f6\u6700\u77ed\u7684\u5373\u53ef\uff0c\u6ce8\u610f\u9700\u8981\u3002\n\n------------\n\u7ec6\u8282\u4e0a\uff1a\u6bcf\u4e00\u4e2a\u5806\u4e0d\u4ec5\u8981\u6ce8\u610f\u7ef4\u62a4\u53d6\u5f97\u662f\u54ea\u4e00\u4e2a\u503c\uff0c\u8fd8\u8981\u8003\u8651\u5230\u7ef4\u62a4\u7684\u662f\u54ea\u4e00\u4e9b\u7c7b\u578b\u91cc\u7684\u503c\uff0c\u6bd4\u5982\u201c\u4ece\u6ca1\u6709\u6253\u8fc7\u7684\u5173\u5361\u201d\u201c\u5df2\u7ecf\u62ff\u4e86\u4e24\u661f\u7684\u5173\u5361\u201d\u7b49\u3002",
        "postTime": 1627480109,
        "uid": 223559,
        "name": "qxp101",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF436E Cardboard Box"
    },
    {
        "content": "# Cardboard Box\n## \u9898\u76ee\u5927\u610f\n\u4f60\u6b63\u5728\u73a9\u4e00\u4e2a\u540d\u4e3a\u5272\u7ef3\u5b50\u7684\u6e38\u620f\uff0c\u5f53\u524d\u5355\u5143\u6709 $n$ \u5173\u6e38\u620f\uff0c\u89e3\u9501\u4e0b\u4e00\u5355\u5143\u9700\u8981  $w$ \u9897\u661f\u3002\u5bf9\u4e8e\u6bcf\u4e00\u5173\uff0c\u5f97\u5230 $1$ \u9897\u661f\u9700\u8981\u82b1\u8d39 $a_i$ \u7684\u65f6\u95f4\uff0c\u5f97\u5230 $2$ \u9897\u661f\u9700\u8981\u82b1\u8d39 $b_i$ $(b_i > a_i)$\uff0c\u5f53\u7136\u4e0d\u5f97\u661f\u4e0d\u9700\u8981\u82b1\u8d39\u65f6\u95f4\u3002\u95ee\u89e3\u9501\u4e0b\u4e00\u5355\u5143\u81f3\u5c11\u9700\u8981\u591a\u5c11\u65f6\u95f4\uff0c\u5e76\u8f93\u51fa\u65b9\u6848\u3002\n## \u89e3\u9898\u62a5\u544a\n\u8fd9\u9898\uff0c\u53ef\u4ee5\u4e00\u773c\u79d2\u51fa\u4e00\u4e2a\u80cc\u5305\u505a\u6cd5\u6216\u8005\u4e00\u4e2a\u6bd4\u8f83\u4f18\u79c0\u7684DP\u505a\u6cd5\uff0c\u4f46\u7531\u4e8e $1 \\leq a_i \\leq 10^9$\uff0c\u800c $1 \\leq n \\leq 3e5$\uff0c\u663e\u7136\u4f7f\u7528\u52a8\u5f52\u5e76\u4e0d\u5065\u5eb7\uff0c\u4e8e\u662f\u8003\u8651\u8d2a\u5fc3\u505a\u6cd5\u3002\n\n\u8fd9\u9898\uff0c\u4f3c\u4e4e\u770b\u8d77\u6765\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8d2a\u5fc3(\u4e5f\u5c31\u662f\u6309\u7167$a_i,b_i$\u7684\u67d0\u79cd\u5173\u7cfb\u8fdb\u884c\u8d2a\u5fc3\u9009\u53d6)\uff0c\u4f46\u4e0d\u5e78\u7684\u662f\uff0c\u5728CF\u6bd4\u8d5b\u7684\u65f6\u5019\u67d0**t**\u59d3\u7ea2\u9ed1\u540d\u7f51\u53cb\u5c1d\u8bd5\u4e86\u76f4\u63a5\u8d2a\u5fc3\u7684\u505a\u6cd5\uff0c\u5e76\u4e14\u88ab $hack$ \u6389\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u80fd\u9700\u8981\u66f4\u597d\u66f4\u7a33\u5b9a\u7684\u8d2a\u5fc3\u65b9\u6cd5\u3002\n\n\u6211\u4eec\u628a\u6bcf\u4e00\u5173\u6309\u7167$b_i$\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u7136\u540e\u6211\u4eec\u4ece$1$\u626b\u5230$n$\u3002\n\n\u5047\u8bbe\u5f53\u524d\u6211\u4eec\u626b\u5230$pos$\uff0c\u5219\u8868\u793a\u7684\u662f $1$ \u5230 $pos$ \u7684\u5173\u5361\u4e2d\u81f3\u5c11\u8981\u5f97\u5230\u4e00\u9897\u661f\uff0c $pos + 1$ \u5230 $n$ \u7684\u5173\u5361\u4e2d\u81f3\u591a\u5f97\u5230\u4e00\u9897\u661f\u3002\u90a3\u4e48\uff0c\u663e\u7136 $1$ \u5230 $pos$ \u7684\u5173\u5361\u4e2d\u6211\u4eec\u9009\u53d6\u4e86 $pos$ \u4e2a $a_i$\uff0c\u8fd8\u9700\u8981\u4ece $1$ \u5230 $pos$ \u7684$b_i - a_i$ \u548c $pos + 1$ \u5230 $n$ \u7684 $a_i$ \u8fd9 $n$ \u4e2a\u6570\u4e2d\u9009\u53d6\u524d $w - pos$ \u5c0f\u7684\uff0c\u6bcf\u6b21\u5411\u524d\u63a8\u8fdb\u7684\u65f6\u5019\u9700\u8981\u5220\u9664\u4e00\u4e2a $a_i$\uff0c\u52a0\u5165\u4e00\u4e2a $b_i - a_i$\u3002\u663e\u7136\u7c7b\u4f3c\u7ebf\u6bb5\u6811\uff0c\u6811\u72b6\u6570\u7ec4\uff0c\u5e73\u8861\u6811\u7b49\u6570\u636e\u7ed3\u6784\u53ef\u4ee5\u5f88\u8f7b\u677e\u5730\u5b8c\u6210\u8fd9\u4e2a\u4efb\u52a1\u3002(\u5f53\u7136\uff0c\u5982\u679c\u51fa\u73b0\u4e86\u4e0d\u5408\u6cd5\u7684\u60c5\u51b5\u8df3\u8fc7\u5373\u53ef)\n\n\u8003\u8651\u8fd9\u6837\u8d2a\u5fc3\u7684\u6b63\u786e\u6027\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $pos$\uff0c\u5982\u679c $pos$ \u540e\u9762\u6709\u9009 $2$ \u9897\u661f\u7684\u60c5\u51b5\uff0c\u663e\u7136\u4e0d\u4f1a\u6bd4\u628a\u5176\u4e2d\u7684 $1$ \u9897\u661f\u8f6c\u79fb\u5230\u524d\u9762\u7684\u5173\u5361\u5b8c\u6210\u66f4\u4f18\u3002\u800c\u4ece $1$ \u626b\u5230 $n$ \uff0c\u5219\u5c06\u6240\u6709\u53ef\u80fd\u7684\u60c5\u51b5\u5305\u542b\u5728\u5185\u3002~~\u611f\u6027\u7406\u89e3\u4e00\u4e0b\u8fd9\u662f\u6b63\u786e\u7684~~\n\n\u81f3\u4e8e\u5982\u4f55\u8f93\u51fa\u65b9\u6848\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u5728\u6811\u4e0a\u8d70\u8def\u7684\u65b9\u6cd5\uff0c\u8fd9\u91cc\u5c31\u4e0d\u591a\u8bf4\u4e86 QwQ\n\n\u9644\u4e0a\u6211\u4e5f\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\u5199\u4e86\u8fd9\u4e48\u957f\u7684\u4ee3\u7801 QwQ\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<tr1/unordered_map>\n#include<vector>\n\nclass SegmentTree{\nprivate :\n    static const int maxn = 6e5 + 7;\n    static const int INF = 1e9 + 7;\n    typedef long long ll;\n    \n    struct Node{\n        int val, size;\n        ll sum;\n        Node *child[2];\n\n        Node() : val(0), size(0), sum(0) {\n            child[0] = child[1] = NULL;\n        }\n    };\n\n    int n;\n    Node *root, *tp, pool[maxn << 2];\n\n    Node *newNode() {\n        *++tp = Node();\n        return tp;\n    }\n\n    void update(Node *now) {\n        now->size = 0;\n        now->sum = 0;\n        for (register int i = 0; i < 2; i++) {\n            if (now->child[i]) {\n                now->size += now->child[i]->size;\n                now->sum += now->child[i]->sum;\n            }\n        }\n    }\n    \n    void addVal(Node *now, int left, int right, int pos, int val) {\n        if (left == right) {\n            now->val = val;\n            now->sum += val;\n            now->size++;\n            return;\n        }\n        int mid = (left + right) >> 1;\n        if (pos <= mid) {\n            if (!now->child[0]) {\n                now->child[0] = newNode();\n            }\n            addVal(now->child[0], left, mid, pos, val);\n        } else {\n            if (!now->child[1]) {\n                now->child[1] = newNode();\n            }\n            addVal(now->child[1], mid + 1, right, pos, val);\n        }\n        update(now);\n    }\n\n    void delVal(Node *now, int left, int right, int pos, int val) {\n        if (left == right) {\n            now->sum -= val;\n            now->size--;\n            return;\n        }\n        int mid = (left + right) >> 1;\n        if (pos <= mid) {\n            if (!now->child[0]) {\n                now->child[0] = newNode();\n            }\n            delVal(now->child[0], left, mid, pos, val);\n        } else {\n            if (!now->child[1]) {\n                now->child[1] = newNode();\n            }\n            delVal(now->child[1], mid + 1, right, pos, val);\n        }\n        update(now);\n    }\n\n    ll query(Node *now, int left, int right, int tot) {\n        //printf(\"tot : %d\\n\", tot);\n        if (left == right) {\n            return 1ll * now->val * tot;\n        }\n        int leftsize = now->child[0] ? now->child[0]->size : 0;\n        int mid = (left + right) >> 1;\n        ll res = 0;\n        if (tot >= leftsize) {\n            if (now->child[0]) {\n                res += now->child[0]->sum;\n            }\n            if (tot > leftsize) {\n                res += query(now->child[1], mid + 1, right, tot - leftsize);\n            }\n            return res;\n        } else {\n            return query(now->child[0], left, mid, tot);\n        }\n    }\n\n    void search(Node *now, int left, int right, int tot, std::vector<int> &vec) {\n        if (!now) {\n            return;\n        }\n        if (left == right) {\n            while (tot--) {\n                vec.push_back(left);\n            }\n        }\n        int leftsize = now->child[0] ? now->child[0]->size : 0;\n        int mid = (left + right) >> 1;\n        if (tot >= leftsize) {\n            search(now->child[0], left, mid, leftsize, vec);\n            if (tot > leftsize) {\n                search(now->child[1], mid + 1, right, tot - leftsize, vec);\n            }\n        } else {\n            search(now->child[0], left, mid, tot, vec);\n        }\n    }\n    \npublic :\n    void init(int x) {\n        n = x;\n        tp = pool;\n        root = newNode();\n    }\n\n    void addVal(int pos, int val) {\n        addVal(root, 1, n, pos, val);\n    }\n\n    void delVal(int pos, int val) {\n        delVal(root, 1, n, pos, val);\n    }\n\n    ll query(int tot) {\n        //printf(\"%d\\n\", tot);\n        //printf(\"%d : %d\\n\", root->size, tot);\n        return query(root, 1, n, tot);\n    }\n\n    void search(int tot, std::vector<int> &vec) {\n        search(root, 1, n, tot, vec);\n        //printf(\"%d %d\\n\", tot, vec.size());\n    }\n};\n\n\nclass Solution{\nprivate :\n    typedef std::pair<std::pair<int, int>, int> par;\n    typedef long long ll;\n    typedef std::vector<int>::iterator it;\n    static const int maxn = 3e5 + 7;\n    \n    int n, m, p, res[maxn], num[maxn * 3], cnt, pos;\n    par val[maxn];\n    ll ans, sum, pre;\n    std::vector<int> vec, ps[maxn * 3];\n    //std::tr1::unordered_map<int, std::vector<int> > ps;\n    std::tr1::unordered_map<int, int> id;\n    SegmentTree tree;\n    \npublic :\n    Solution() {\n        get();\n        solve();\n    }\n\n    void get() {\n        scanf(\"%d %d\", &n, &m);\n        pos = std::max(m - n + 1, 1);\n        for (register int i = 1, x, y; i <= n; i++) {\n            scanf(\"%d %d\", &x, &y);\n            //num[i] = x, num[i + n] = y;\n            num[i] = x, num[i + n] = y - x;\n            val[i] = std::make_pair(std::make_pair(y, x), i);\n        }\n    }\n\n    void solve() {\n        std::sort(val + 1, val + 1 + n);\n        std::sort(num + 1, num + 1 + (n << 1));\n        for (register int i = 1; i <= (n << 1); i++) {\n            if (num[i] != num[i - 1]) {\n                id[num[i]] = ++cnt;\n            }\n        }\n        tree.init(cnt);\n        for (register int i = 1; i < pos; i++) {\n            ans += val[i].first.second;\n            res[val[i].second]++;\n            tree.addVal(id[val[i].first.first - val[i].first.second], val[i].first.first - val[i].first.second);\n        }\n        for (register int i = pos; i <= n; i++) {\n            tree.addVal(id[val[i].first.second], val[i].first.second);\n        }\n        sum = tree.query(std::min(n, m));\n        p = pos - 1;\n        for (register int i = pos; i <= n; i++) {\n            pre += val[i].first.second;\n            tree.delVal(id[val[i].first.second], val[i].first.second);\n            tree.addVal(id[val[i].first.first - val[i].first.second], val[i].first.first - val[i].first.second);\n            if (std::min(n, m) <= (i - pos + 1)) {\n                continue;\n            }\n            ll q = tree.query(std::min(n, m) - (i - pos + 1));\n            if (pre + q < sum) {\n                sum = pre + q;\n                p = i;\n            }\n        }\n        tree.init(cnt);\n        for (register int i = 1; i < pos; i++) {\n            tree.addVal(id[val[i].first.first - val[i].first.second], val[i].first.first - val[i].first.second);\n        }\n        for (register int i = pos; i <= n; i++) {\n            tree.addVal(id[val[i].first.second], val[i].first.second);\n        }\n        printf(\"%lld\\n\", ans + sum);\n        for (register int i = pos; i <= p; i++) {\n            res[val[i].second]++;\n            tree.delVal(id[val[i].first.second], val[i].first.second);\n            tree.addVal(id[val[i].first.first - val[i].first.second], val[i].first.first - val[i].first.second);\n            if (i == p) {\n                tree.search(std::min(n, m) - (i - pos + 1), vec);\n            }\n        }\n        if (p == pos - 1) {\n            tree.search(std::min(n, m), vec);\n        }\n        for (register int i = 1; i <= n; i++) {\n            if (i <= p) {\n                num[i] = val[i].first.first - val[i].first.second;\n            } else {\n                num[i] = val[i].second;\n            }\n        }\n        for (register int i = 1; i <= n; i++) {\n            if (i <= p) {\n                ps[id[val[i].first.first - val[i].first.second]].push_back(val[i].second);\n            } else {\n                ps[id[val[i].first.second]].push_back(val[i].second);\n            }\n        }\n        for (register it i = vec.begin(); i != vec.end(); ++i) {\n            int now = *i;\n            //printf(\"%d\\n\", *i);\n            //printf(\"%d\\n\", *i);\n            //printf(\"%d\\n\", now);\n            res[ps[now].back()]++;\n            ps[now].pop_back();\n        }\n        for (register int i = 1; i <= n; i++) {\n            printf(\"%d\", res[i]);\n        }\n        putchar('\\n');\n    }\n};\nSolution sol;\n\nint main() {}\n\n/*QwQ*/\n```",
        "postTime": 1552349637,
        "uid": 49866,
        "name": "\u9f99\u4e4b\u543b\u2014\u6c34\u8d27",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF436E \u3010Cardboard Box\u3011"
    },
    {
        "content": "# \u505a\u6cd5\uff1a\u53cd\u6094\u8d2a\u5fc3\n**\u679a\u4e3e\u661f\u661f\u6570**\uff0c\u6bcf\u52a0\u4e00\u9897\u661f\u661f\uff0c\n## \u6709\u4ee5\u4e0b\u60c5\u51b5\uff1a\n1. \u96f6\u661f\u5173\u5361\u53d8\u6210\u4e00\u661f\n1. \u4e00\u661f\u5173\u5361\u53d8\u6210\u4e24\u661f\n1. \u4e00\u4e2a\u96f6\u661f\u5173\u5361\u53d8\u6210\u4e24\u661f\uff0c\u4e00\u4e2a\u4e00\u661f\u5173\u5361\u53d8\u6210\u96f6\u661f\n1. \u4e00\u4e2a\u96f6\u661f\u5173\u5361\u53d8\u6210\u4e24\u661f\uff0c\u4e00\u4e2a\u4e24\u661f\u5173\u5361\u53d8\u6210\u4e00\u661f\n\n## \u8f6c\u5316\u4e3a\u4f18\u5148\u961f\u5217\u5373\u4e3a\uff1a\n- q1\uff1a\u96f6\u661f\u5173\u5361\u5230\u4e00\u661f\u7684\u4ee3\u4ef7\n- q2\uff1a\u96f6\u661f\u5173\u5361\u5230\u4e8c\u661f\u7684\u4ee3\u4ef7\n- q3\uff1a\u4e00\u661f\u5173\u5361\u4ece\u4e8c\u661f\u53d8\u6210\u4e00\u661f\u7684\u4ee3\u4ef7\n- q4\uff1a\u4e00\u661f\u5173\u5361\u7684\u5230\u4e00\u661f\u7684\u4ee3\u4ef7\n- q5\uff1a\u4e8c\u661f\u5173\u5361\u4ece\u4e8c\u661f\u5230\u4e00\u661f\u7684\u4ee3\u4ef7\n\n## \u56db\u79cd\u60c5\u51b5\u4e3a\uff1a\n1. \u5c0f\u6839\u5806q1\u5806\u9876\n1. \u5c0f\u6839\u5806q3\u5806\u9876\n1. \u5c0f\u6839\u5806q2\u5806\u9876 - \u5927\u6839\u5806q4\u5806\u9876\n1. \u5c0f\u6839\u5806q2\u5806\u9876 - \u5927\u6839\u5806q5\u5806\u9876\n\n\u7136\u540e\u5206\u522b\u7ef4\u62a4\u8fd9\u4e94\u4e2a\u961f\u5217\u5373\u53ef\u3002\n## \u6ce8\u610f\uff1a\n- \u53d6\u5806\u9876\u524d\u8981\u5148\u5224\u65ad\u5806\u662f\u5426\u4e3a\u7a7a\n- \u6bcf\u79cd\u60c5\u51b5\u7684\u521d\u59cb\u503c\u4e00\u5b9a\u8981\u521d\u59cb\u5316\u4e00\u4e2a\u5f88\u5927\u7684longlong\uff08\u4e0d\u80fd\u7528\u521d\u59cb\u5316int\u7684\u503c\uff09\n\n## AC\u4ee3\u7801:\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cstring>\n#include<queue>\n#include<algorithm>\nusing namespace std;\nconst int maxn=300005;\nint n,w,vis[maxn][3];\nlong long minw;\nlong long ans,ans1,ans2,ans3,ans4;\nstruct node{\n\tlong long t1,t2;\n}a[maxn];\npriority_queue<pair<long long,int>,vector<pair<long long,int> >,greater<pair<long long,int> > > q1,q2,q3;\npriority_queue<pair<long long,int> > q4,q5;\nint main(){\n\tcin>>n>>w;\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%lld%lld\",&a[i].t1,&a[i].t2);\n\t\tq1.push(make_pair(a[i].t1,i));\n\t\tq2.push(make_pair(a[i].t2,i));\n\t\tvis[i][0]=1;\n\t}\n\tfor(int i=1;i<=w;i++){\n\t\tans1=ans2=ans3=ans4=0x3f3f3f3f3f3f;\n\t\twhile(!q1.empty()&&!vis[q1.top().second][0]) q1.pop();\n\t\twhile(!q2.empty()&&!vis[q2.top().second][0]) q2.pop();\n\t\twhile(!q3.empty()&&!vis[q3.top().second][1]) q3.pop();\n\t\twhile(!q4.empty()&&!vis[q4.top().second][1]) q4.pop();\n\t\twhile(!q5.empty()&&!vis[q5.top().second][2]) q5.pop();\n\t\tif(!q1.empty()) ans1=q1.top().first;\n\t\tif(!q3.empty()) ans2=q3.top().first;\n\t\tif(!q2.empty()&&!q4.empty()) ans3=q2.top().first-q4.top().first;\n\t\tif(!q5.empty()&&!q2.empty()) ans4=q2.top().first-q5.top().first;\n\t\tminw=min(min(ans1,ans2),min(ans3,ans4));\n\t\tans+=minw;\n\t\tif(minw==ans1){\n\t\t\tint id=q1.top().second;\n\t\t\tq1.pop();\n\t\t\tvis[id][0]=0;\n\t\t\tvis[id][1]=1;\n\t\t\tq3.push(make_pair(a[id].t2-a[id].t1,id));\n\t\t\tq4.push(make_pair(a[id].t1,id));\n\t\t\tcontinue;\n\t\t}\n\t\tif(minw==ans2){\n\t\t\tint id=q3.top().second;\n\t\t\tq3.pop();\n\t\t\tvis[id][1]=0;\n\t\t\tvis[id][2]=1;\n\t\t\tq5.push(make_pair(a[id].t2-a[id].t1,id));\n\t\t\tcontinue;\n\t\t}\n\t\tif(minw==ans3){\n\t\t\tint id1=q2.top().second;\n\t\t\tint id2=q4.top().second;\n\t\t\tq2.pop();\n\t\t\tq4.pop();\n\t\t\tvis[id1][0]=0;\n\t\t\tvis[id1][2]=1;\n\t\t\tvis[id2][1]=0;\n\t\t\tvis[id2][0]=1;\n\t\t\tq5.push(make_pair(a[id1].t2-a[id1].t1,id1));\n\t\t\tq1.push(make_pair(a[id2].t1,id2));\n\t\t\tq2.push(make_pair(a[id2].t2,id2));\n\t\t\tcontinue;\n\t\t}\n\t\tif(minw==ans4){\n\t\t\tint id1=q2.top().second;\n\t\t\tint id2=q5.top().second;\n\t\t\tq2.pop();\n\t\t\tq5.pop();\n\t\t\tvis[id1][0]=0;\n\t\t\tvis[id1][2]=1;\n\t\t\tvis[id2][2]=0;\n\t\t\tvis[id2][1]=1;\n\t\t\tq5.push(make_pair(a[id1].t2-a[id1].t1,id1));\n\t\t\tq3.push(make_pair(a[id2].t2-a[id2].t1,id2));\n\t\t\tq4.push(make_pair(a[id2].t1,id2));\n\t\t\tcontinue;\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\tfor(int i=1;i<=n;i++){\n\t\tif(vis[i][0]) printf(\"0\");\n\t\telse if(vis[i][1]) printf(\"1\");\n\t\telse if(vis[i][2]) printf(\"2\"); \n\t}\n\treturn 0;\n}\n```\n~~**\u662f\u4e0d\u662f\u53c8\u81ed\u53c8\u957f**~~\n\n**\u4e8e\u662f\u4f60\u5c31\u8fd9\u6837A\u4e86\u4e00\u9053\u9ed1\u9898\u4e86**",
        "postTime": 1604589082,
        "uid": 70081,
        "name": "\u5c39\u6631\u94a6",
        "ccfLevel": 7,
        "title": "CF436E Cardboard Box \u9898\u89e3"
    }
]