[
    {
        "content": "[\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/CF1807F)\n## _Description_\n\u5728\u4e00\u4e2a $n\\times m$ \u7684\u623f\u95f4\u5185\u6709\u4e00\u4e2a\u7403\uff0c\u521d\u59cb\u4f4d\u7f6e\u4e3a $(i_1,j_1)$\uff0c\u76ee\u6807\u4f4d\u7f6e\u4e3a $(i_2,j_2)$\uff0c\u521d\u59cb\u65b9\u5411\u4e3a\u5b57\u7b26\u4e32 $d$\u3002\n\n- $d=\\texttt{UL}$\uff0c\u5411\u5de6\u4e0a\u79fb\u52a8\n- $d=\\texttt{DR}$\uff0c\u5411\u53f3\u4e0b\u79fb\u52a8\n- $d=\\texttt{DL}$\uff0c\u5411\u5de6\u4e0b\u79fb\u52a8\n- $d=\\texttt{UR}$\uff0c\u5411\u53f3\u4e0a\u79fb\u52a8\n\n\u5f53\u5c0f\u7403\u78b0\u5230\u5899\u58c1\u540e\u4f1a\u53cd\u5f39\uff0c\u65b0\u7684\u65b9\u5411\u4e0e\u65e7\u65b9\u5411\u4ee5\u5782\u76f4\u4e0e\u5899\u58c1\u7684\u4e00\u6761\u7ebf\u4e3a\u8f74\u5bf9\u79f0\u3002\uff08\u89c1\u56fe\uff09\n\n\u5f53\u5c0f\u7403\u79fb\u5230\u89d2\u843d\u65f6\u4f1a\u539f\u5730\u8fd4\u56de\u3002\n\n\u82e5\u5c0f\u7403\u4f1a\u79fb\u5230\u76ee\u6807\u4f4d\u7f6e\uff0c\u95ee\u6700\u5c11\u4f1a\u53cd\u5f39\u51e0\u6b21\uff08\u78b0\u5230\u89d2\u843d\u4e3a\u4e00\u6b21\uff09\uff0c\u82e5\u65e0\u6cd5\u79fb\u5230\uff0c\u5219\u8f93\u51fa ```-1```\u3002\n## _Solution_\n\u7531\u4e8e\u4e00\u5171\u6709 $n\\times m$ \u4e2a\u70b9\uff0c\u6709\u56db\u79cd\u79fb\u52a8\u65b9\u5411\uff0c\u6240\u4ee5\u5728\u79fb\u52a8\u6700\u591a $4\\times n\\times m$ \u6b65\u540e\uff0c\u6bcf\u4e2a\u70b9\u90fd\u4f1a\u79fb\u5230\u81f3\u5c11\u4e00\u904d\u3002\n\n\u7136\u540e\u6a21\u62df\u5373\u53ef\u3002\n\n\u5177\u4f53\u6b65\u9aa4\u89c1\u4ee3\u7801\u3002\n## _Code_\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\nint t;\nll read(){\n    ll x=0,f=1;\n    char ch;\n    ch=getchar();\n    while(ch<'0'||ch>'9'){\n        if(ch=='-') f=-1;\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9'){\n        x=(x<<1)+(x<<3)+ch-'0';\n        ch=getchar();\n    }\n    return x*f;\n}\nvoid solve(){\n\tint n=read(),m=read(),sx=read(),sy=read(),ex=read(),ey=read();\n\tint dx,dy,x=sx,y=sy,cnt=0;\n\tstring s;\n\tcin>>s;\n\tif(s[0]=='D') dx=1;\n\telse dx=-1;\n\tif(s[1]=='L') dy=-1;\n\telse dy=1;\n\tll lim=n*m*4;\n\twhile(lim--){\n\t\tif(x==ex&&y==ey){ //\u79fb\u5230\u76ee\u6807\u70b9\n\t\t\tcout<<cnt<<endl;\n\t\t\treturn ;\n\t\t}\n\t\tbool is=0;\n\t\tif(dx==1&&x==n){ //\u78b0\u5230\u4e0b\u4fa7\u5899\u58c1\n\t\t\tdx=-1;\n\t\t\tis=1;\n\t\t}\n\t\tif(dx==-1&&x==1){ //\u78b0\u5230\u4e0a\u4fa7\u5899\u58c1\n\t\t\tdx=1;\n\t\t\tis=1;\n\t\t}\n\t\tif(dy==1&&y==m){ //\u78b0\u5230\u53f3\u4fa7\u5899\u58c1\n\t\t\tdy=-1;\n\t\t\tis=1;\n\t\t}\n\t\tif(dy==-1&&y==1){ //\u78b0\u5230\u5de6\u4fa7\u5899\u58c1\n\t\t\tdy=1;\n\t\t\tis=1;\n\t\t}\n\t\t//\u78b0\u5230\u89d2\u843d\u65f6\uff0c\u56e0\u4e3a\u78b0\u5230\u4e24\u9762\u5899\u58c1\uff0cx\u548cy\u90fd\u4f1a\u53d6\u53cd\n\t\tif(is) cnt++; //\u6709\u53cd\u5f39\n\t\tx+=dx,y+=dy; //\u79fb\u52a8\n\t}\n\tcout<<-1<<endl;\n}\nint main(){\n\tt=read();\n\twhile(t--){\n\t\tsolve();\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1679668382,
        "uid": 475329,
        "name": "Larryyu",
        "ccfLevel": 0,
        "title": "CF1807F Bouncy Ball \u9898\u89e3"
    }
]