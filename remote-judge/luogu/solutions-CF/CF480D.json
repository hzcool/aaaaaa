[
    {
        "content": "\u5728\u5904\u7406\u4e4b\u524d\u5c06\u6240\u6709\u7684\u7ebf\u6bb5\u6309\u7167\u7ec8\u70b9\u6392\u5e8f\uff0c\u82e5\u662f\u7ec8\u70b9\u76f8\u540c\u5219\u5c06\u957f\u5ea6\u5c0f\u7684\u653e\u5728\u524d\u5934\uff0c(\u4e5f\u5c31\u662f\u8d77\u70b9\u4ece\u5927\u5230\u5c0f\u6392)\n\n**\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u8303\u56f4\u5c0f\u7684\u7ebf\u6bb5\u5148\u88ab\u5904\u7406**\n\n\u8fd9\u6837\u7684\u8bdd\uff0c\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u65b9\u7a0b\n\n**f[i][j]\u8868\u793a\u5f53\u524d\u7b2ci\u4e2a\u5854\u603b\u91cd\u4e0d\u8d85\u8fc7j(\u5305\u542bi)\u7684\u6700\u5927\u4ef7\u503c**\n\n\n**f[i][j] = max( g[data[x].s] + f[x][ min(data[i].s,j-data[i].w) ] )\n**\n![](https://cdn.luogu.com.cn/upload/pic/24323.png )\n\ndata[i].s\u8868\u793ai\u672c\u8eab\u7684\u627f\u91cd\uff0c(\u4fdd\u8bc1i\u4e0d\u88ab\u538b\u574f\u6389)\n\nj-data[i].w\u8868\u793a\u5e95\u5ea7i\u8fd8\u5269\u4e0b\u7684\u627f\u91cd\uff08\u4fdd\u8bc1i\u4e0b\u9762\u7684\u4e0d\u88ab\u538b\u574f\u6389\uff09\n\ng[x]\u8868\u793a\u7b2ci\u4e2a\u7ebf\u6bb5\u5f00\u59cb\u5230x\u80fd\u83b7\u5f97\u7684\u6700\u5927\u4ef7\u503c\uff0c\n\n\u6bcf\u6b21\u5230\u8fbe\u4e00\u4e2a\u65b0\u7684\u5e95\u5c42\u7ebf\u6bb5\u65f6\u5c31\u5c06g\u91cd\u65b0\u8d4b\u503c\n\n\u4e3a\u4ec0\u4e48g\u6ca1\u6709\u88ab\u627f\u91cd\u80fd\u529b\u9650\u5236\u5462\uff1f\u56e0\u4e3a\u5728g\u524d\u9762\u7684\u90fd\u5df2\u7ecf\u88ab\u53d6\u8d70\u4ece\u800c\u4e0d\u4f1a\u5bf9g\u4ea7\u751f\u9650\u5236\u4e86\n\n\n\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#include<cstdio>\nusing namespace std;\nint n,m,f[1050][1050],g[1050];\nstruct node{int l,r,w,s,v;}a[1050];\nbool cmp(node x,node y)\n{\n    return x.r==y.r?x.l>y.l:x.r<y.r;\n}\nvoid print()\n{\n    cout<<\"k\";\n    print();\n}\nvoid getdata()\n{\n    cin>>n>>m;\n    for(int i=1;i<=n;i++)\n    {\n        scanf(\"%d%d%d%d%d\",&a[i].l,&a[i].r,&a[i].w,&a[i].s,&a[i].v);\n    }\n    sort(a+1,a+n+1,cmp);\n    a[n+1].l=0;a[n+1].r=a[n].r+1;a[n+1].s=m;\n    for(int i=1;i<=n+1;i++)\n    {\n        for(int j=a[i].w;j<=m;j++)\n        {\n            int p=a[i].l;g[p]=0;\n            for(int k=1;k<i;k++)\n            {\n                if(a[k].l>=a[i].l)\n                {\n                    while(p<a[k].r) {p++;g[p]=g[p-1];}\n                    g[p]=max(g[p],g[a[k].l]+f[k][min((j-a[i].w),a[i].s)]);\n                }\n            }\n            f[i][j]=g[p]+a[i].v;\n        }\n    }\n    printf(\"%d\",f[n+1][m]);\n}\nint main()\n{\n    getdata();\n    print();\n}\n\n```",
        "postTime": 1531999715,
        "uid": 50482,
        "name": "mingcheng",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF480D \u3010Parcels\u3011"
    }
]