[
    {
        "content": "### Preface\n\n\u300c\u770b\u8d77\u6765\u6050\u6016\u300d\u7684\u9898\u3002\n\n### Analysis\n\n\u82e5\u5c06\u684c\u9762\u6309**\u4ece\u5de6\u5230\u53f3\uff0c\u4ece\u4e0a\u5230\u4e0b**\u7684\u987a\u5e8f\u6807\u53f7\uff0c\u5219\u6700\u7ec8\u88ab\u653e\u56fe\u6807\u7684\u4f4d\u7f6e\u4e00\u5b9a\u662f**\u524d\u7f00**.\n\n\u6240\u4ee5\u52a8\u6001\u7ef4\u62a4**\u56fe\u6807\u4e2a\u6570**\u548c**\u4e0d\u5728\u6b64\u524d\u7f00\u7684\u56fe\u6807\u4e2a\u6570**\u5373\u53ef\uff0c\u7b54\u6848\u4e3a\u540e\u8005\u3002\n\n\u8fd8\u662f\u8bf4\u5177\u4f53\u4e00\u70b9\u5427\u2026\u2026\n\n\u82e5\u5f53\u524d\u65b0\u52a0\u5165\u4e00\u4e2a\u56fe\u6807\uff0c\u4f4d\u7f6e\u4e3a $y$\uff0c\u5f53\u524d\u5f52\u4f4d\u524d\u7f00\u4e3a $[1,x]$\uff0c\u5f53\u524d\u7b54\u6848\u4e3a $ans$\u3002\n\n\u6b65\u9aa4\u4f9d\u6b21\u8fdb\u884c\uff1a\n\n1. \u82e5 $y>x$\uff0c\u5219 $ans$ \u52a0 $1$\u3002\n\n2. $x$ \u52a0 $1$\u3002\n\n3. \u82e5 $x$ \u4f4d\u7f6e\u6709\u56fe\u6807\uff0c\u5219 $ans$ \u51cf $1$\u3002\n\n\u5220\u6389\u4e00\u4e2a\u56fe\u6807\u4e0e\u4e4b\u7c7b\u4f3c\uff1b\n\n1. \u82e5 $y>x$\uff0c\u5219 $ans$ \u51cf $1$\u3002\n\n1. \u82e5 $x$ \u4f4d\u7f6e\u6709\u56fe\u6807\uff0c\u5219 $ans$ \u52a0 $1$\u3002\n\n2. $x$ \u51cf $1$\u3002\n\n### Code\n\n```cpp\n//Said no more counting dollars. We'll be counting stars.\n#pragma GCC optimize(\"Ofast\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define IOS ios::sync_with_stdio(0);cin.tie(0);cout.tie(0)\n#define For(i,j,k) for(int i=j;i<=k;i++)\n#define Rof(i,j,k) for(int i=j;i>=k;i--)\n#define N 1002\nint n,m,q,tot=0,a[N*N],ans=0;\nchar ch;\ninline int num(int x,int y){return (y-1)*n+x;}\nsigned main(){IOS;\n\tcin>>n>>m>>q;\n\tFor(i,1,n){\n\t\tFor(j,1,m){\n\t\t\tcin>>ch;\n\t\t\ta[num(i,j)]=(ch=='*');\n\t\t\ttot+=a[num(i,j)];\n\t\t}\n\t}\n\tFor(i,tot+1,n*m) ans+=a[i];\n\tint x,y,z;\n\twhile(q--){\n\t\tcin>>x>>y;\n\t\tz=num(x,y);\n\t\ta[z]^=1;\n\t\tif(a[z]){//add\n\t\t\tif(z>tot) ans++;\n\t\t\ttot++;\n\t\t\tif(a[tot]) ans--;\n\t\t}else{//del\n\t\t\tif(z>tot) ans--;\n\t\t\tif(a[tot]) ans++;\n\t\t\ttot--;\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\nreturn 0;}\n```",
        "postTime": 1651843775,
        "uid": 101868,
        "name": "I_am_Accepted",
        "ccfLevel": 0,
        "title": "CF1674F Desktop Rearrangement"
    },
    {
        "content": "* **\u3010\u9898\u76ee\u94fe\u63a5\u3011**\n\n[Link:CF1674F](https://www.luogu.com.cn/problem/CF1674F)\n\n* **\u3010\u89e3\u9898\u601d\u8def\u3011**\n\n\u6211\u4eec\u8003\u8651\u5c06\u684c\u9762\u7684\u683c\u5b50\u7ad6\u7740\u7f16\u53f7\uff1a\n\n$$\n\\begin{matrix}\n1&n+1&2n+1&\\cdots&(m-1)n+1\\\\\n2&n+2&2n+2&\\cdots&(m-1)n+2\\\\\n3&n+3&2n+3&\\cdots&(m-1)n+3\\\\\n\\vdots&\\vdots&\\vdots&\\ddots&\\vdots\\\\\nn&2n&3n&\\cdots&mn\n\\end{matrix}\n$$\n\n\u8bbe\u5f53\u524d\u684c\u9762\u4e0a\u6709 $n$ \u4e2a\u56fe\u6807\uff08\u663e\u7136\u5bb9\u6613\u7ef4\u62a4\uff09\uff0c\u6211\u4eec\u7684\u76ee\u6807\u5c31\u662f\u628a\u56fe\u6807\u79fb\u5230\u7f16\u53f7\u4e3a $1\\sim n$ \u7684\u683c\u5b50\u91cc\u3002\u663e\u7136\u5df2\u7ecf\u5728\u8fd9\u4e2a\u8303\u56f4\u91cc\u7684 $x$ \u4e2a\u5c31\u4e0d\u7528\u52a8\uff0c\u8fd8\u6709 $n-x$ \u4e2a\u8981\u79fb\u52a8\uff0c\u5373\u7b54\u6848\u4e3a $n-x$\u3002\u7a7a\u683c\u770b\u505a $0$\uff0c\u6709\u56fe\u6807\u7684\u683c\u5b50\u770b\u505a $1$\uff0c\u5219 $x$ \u5373\u4e3a $1\\sim n$ \u7684\u524d\u7f00\u548c\u3002\n\n\u4e8e\u662f\u5c31\u662f\u4e00\u4e2a\u6811\u72b6\u6570\u7ec4\u7684\u677f\u5b50\u3002\n\n* **\u3010\u4ee3\u7801\u5b9e\u73b0\u3011**\n\n```cpp\n#include <iostream>\n#include <array>\n\nusing namespace std;\n\narray<int,1000001> tree_arr;\narray<array<char,1000>,1000> grid;\n\nvoid update(int idx,int lim,int val)\n{\n\twhile(idx<=lim)\n\t\ttree_arr[idx]+=val,idx+=idx&-idx;\n}\n\nint prefix_sum(int idx)\n{\n\tint result=0;\n\twhile(idx)\n\t\tresult+=tree_arr[idx],idx-=idx&-idx;\n\treturn result;\n}\n\nint main(int argc,char* argv[],char* envp[])\n{\n\tios::sync_with_stdio(false);\n\tcin.tie(nullptr);\n\tint line,row,cnt,total=0;\n\tcin>>line>>row>>cnt;\n\tfor(int i=0;i<line;i++)\n\t\tfor(int j=0;j<row;j++)\n\t\t\tcin>>grid[i][j],grid[i][j]=='*'&&(update(j*line+i+1,line*row,1),++total);\n\twhile(cnt--)\n\t{\n\t\tint targ_x,targ_y;\n\t\tcin>>targ_x>>targ_y;\n\t\tif(grid[targ_x-1][targ_y-1]=='*')\n\t\t\tgrid[targ_x-1][targ_y-1]='.',--total,update(targ_y*line-line+targ_x,line*row,-1);\n\t\telse\n\t\t\tgrid[targ_x-1][targ_y-1]='*',++total,update(targ_y*line-line+targ_x,line*row,1);\n\t\tcout<<total-prefix_sum(total)<<'\\n';\n\t}\n\treturn 0;\n}\n\n\n```",
        "postTime": 1651634463,
        "uid": 372983,
        "name": "Antarctic_Cube",
        "ccfLevel": 6,
        "title": "Solution:CF1674F(Desktop Rearrangement)"
    },
    {
        "content": "## CF1674F Desktop Rearrangement\n\n\u6a21\u62df\u9898\u3002\n\n### \u7b97\u6cd5\n\n\u95ee\u9898\u76f8\u5f53\u4e8e\u8be2\u95ee\u6709\u51e0\u4e2a\u56fe\u6807\u9700\u8981\u79fb\u52a8\u3002\u9996\u5148\u6c42\u51fa\u539f\u72b6\u6001\u4e0b\u6709\u51e0\u4e2a\u9700\u8981\u79fb\u7684\uff0c\u63a5\u4e0b\u6765\u8003\u8651\u53d8\u5316\u3002\n\n- \u5982\u679c\u662f\u4ece\u6ca1\u6709\u53d8\u6210\u6709\u7684\uff1a\n    - \u5728\u64cd\u4f5c**\u540e**\u7684\u8fb9\u754c\u4e0a\u7684\u90a3\u4e2a\u70b9\uff08\u5982\u679c\u5b58\u5728\uff09\u4e0d\u7528\u79fb\u4e86\uff0c\u7b54\u6848\u51cf\u4e00\uff08\u5982\u679c\u64cd\u4f5c\u7684\u5c31\u662f\u8fd9\u4e2a\u70b9\uff0c**\u5ffd\u7565**\u8fd9\u4e00\u6761\uff0c\u5bf9\u7b54\u6848\u6ca1\u6709\u5f71\u54cd\uff09\u3002\n    - \u53e6\u5916\u5982\u679c\u6539\u53d8\u7684\u8fd9\u4e2a\u70b9\u8d85\u8fc7\u4e86\u64cd\u4f5c**\u540e**\u7684\u8fb9\u754c\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u8d39\u529b\u6c14\u79fb\u5b83\uff0c\u7b54\u6848\u52a0\u4e00\u3002\n\n- \u5982\u679c\u662f\u4ece\u6709\u53d8\u6210\u6ca1\u6709\u7684\uff1a\n    - \u64cd\u4f5c**\u524d**\u7684\u5b88\u95e8\u5458\uff08\u5982\u679c\u5b58\u5728\uff09\u88ab\u8e22\u4e86\uff0c\u9700\u8981\u79fb\u7684\u52a0\u4e00\uff08\u5982\u679c\u64cd\u4f5c\u7684\u5c31\u662f\u8fd9\u4e2a\u70b9\uff0c**\u5ffd\u7565**\u8fd9\u4e00\u6761\uff0c\u5bf9\u7b54\u6848\u6ca1\u6709\u5f71\u54cd\uff09\u3002\n    - \u5982\u679c\u672c\u6765\u5c31\u8d85\u51fa\u4e86\u64cd\u4f5c**\u524d**\u7684\u8303\u56f4\uff0c\u9700\u8981\u79fb\u7684\u51cf\u4e00\uff0c\u5426\u5219\u4e0d\u53d8\u3002\n\n\u7531\u4e0a\u5206\u7c7b\u8ba8\u8bba\u53ef\u89c1\uff0c`.` \u53d8 `*` \u548c `*` \u53d8 `.` \u5bf9\u7b54\u6848\u7684\u5f71\u54cd\u662f\u4e0d\u540c\u7684\uff0c\u5c24\u5176\u4f53\u73b0\u5728\u64cd\u4f5c\u524d\u8fb9\u754c\u6216\u662f\u64cd\u4f5c\u540e\u8fb9\u754c\u7684\u533a\u522b\u3002\n\n### \u5b9e\u73b0\n\n\u8003\u8651\u5c06\u77e9\u9635\u8f6c\u4e3a\u5e8f\u5217\uff0c\u5728\u5e8f\u5217\u4e0a\u64cd\u4f5c\u65b9\u4fbf\u5f97\u591a\u3002\n\n```cpp\n#define trans(i, j) (((j) - 1) * n + (i))\nint n, m, q;\nchar map[1000001];\n\nint main() {\n    std::cin >> n >> m >> q;\n    int cnt = 0;\n    for (int i = 1, k = 0; i <= n; ++i) {\n        for (int j = 1; j <= m; ++j) {\n            std::cin >> map[trans(i, j)];\n            if (map[trans(i, j)] == '*') ++cnt;\n        }\n    }\n    int ans = cnt;\n    for (int i = 1; i <= cnt; ++i)\n        if (map[i] == '*')\n            --ans;\n\n    while (q--) {\n        int x, y;\n        std::cin >> x >> y;\n        int idx = trans(x, y);\n        if (map[idx] == '.') {\n            ++cnt;\n            if (map[cnt] == '*') --ans;\n            if (idx > cnt) ++ans;\n            map[idx] = '*';\n        } else {\n            map[idx] = '.';\n            if (idx > cnt) --ans;\n            if (map[cnt] == '*') ++ans;\n            --cnt;\n        }\n        std::cout << ans << '\\n';\n    }\n    return 0;\n}\n```",
        "postTime": 1651634109,
        "uid": 357545,
        "name": "CGDGAD",
        "ccfLevel": 6,
        "title": "CF1674F Desktop Rearrangement"
    },
    {
        "content": "\u601d\u8def\uff1a\n\n\u9898\u610f\u5f88\u6e05\u6670\uff0c\u4f46\u8981\u6ce8\u610f\u6dfb\u52a0\u548c\u5220\u9664\u6587\u4ef6\u7684\u64cd\u4f5c\u4f1a\u4e00\u76f4\u4fdd\u7559\uff0c\u800c\u79fb\u52a8\u6587\u4ef6\u4f4d\u7f6e\u7684\u64cd\u4f5c\u5219\u4e0d\u4f1a\u4fdd\u7559\u3002\n\n\u8ba1\u7b97\u7b54\u6848\u4e5f\u5f88\u7b80\u5355\uff0c\u5e94\u8be5\u5b58\u5728\u6587\u4ef6\u7684\u4f4d\u7f6e\u6709\u51e0\u5904\u7a7a\u7684\uff0c\u7b54\u6848\u5c31\u662f\u51e0\u3002\n\n\u63a5\u7740\uff0c\u4f60\u6216\u8bb8\u60f3\u5230\u4e86\u66b4\u529b\u3002[\u4ee3\u7801](https://www.luogu.com.cn/paste/w3wvhgdl)\u3002\n\n\u7136\u540e\u2026\u2026[\u8d85\u65f6\uff01](https://www.luogu.com.cn/record/75151245)\n\n\u89c2\u5bdf\u4ee3\u7801\uff0c\u53d1\u73b0\u6bcf\u6b21\u6c42\u7b54\u6848\u7684\u5730\u65b9\u975e\u5e38\u6162\uff0c\u5bf9\u6bcf\u4e00\u5217\u505a\u524d\u7f00\u548c\uff0c\u8fdb\u884c\u4f18\u5316\u3002\n\n\u4e0d\u8981\u5fd8\u8bb0\u66f4\u65b0\u524d\u7f00\u548c\u3002\n\nAC \u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,T,i,j,tot,s1,ans,f[1005][1005],x,y;\nchar a[1005][1005];\nsigned main(){\n\tios::sync_with_stdio(0),cin.tie(0),cout.tie(0);\n\tcin>>n>>m>>T;\n\tfor (i=1;i<=n;i++) cin>>a[i]+1;\n\tfor (i=1;i<=m;i++){\n\t\tfor (j=1;j<=n;j++)\n\t\t\tif (a[j][i]=='*') f[i][j]=f[i][j-1]+1,tot++;\n\t\t\telse f[i][j]=f[i][j-1];\n\t}\n\twhile (T--){\n\t\tcin>>x>>y;\n\t\tif (a[x][y]=='.'){\n\t\t\ttot++;a[x][y]='#';\n\t\t\tfor (j=x;j<=n;j++)\n\t\t\t\tf[y][j]++;\n\t\t}\n\t\telse{\n\t\t\ttot--;a[x][y]='.';\n\t\t\tfor (j=x;j<=n;j++)\n\t\t\t\tf[y][j]--;\n\t\t}\n\t\ts1=tot;ans=0;\n\t\tfor (i=1;i<=m;i++)\n\t\t\tif (n<s1){\n\t\t\t\ts1-=n;\n\t\t\t\tans+=(n-f[i][n]);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tans+=(s1-f[i][s1]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\tcout<<ans<<'\\n';\n\t}\n\treturn 0;\n}\n\n```",
        "postTime": 1651659015,
        "uid": 562686,
        "name": "yeshubo_qwq",
        "ccfLevel": 5,
        "title": "CF1674F \u9898\u89e3"
    }
]