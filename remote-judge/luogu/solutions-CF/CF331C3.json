[
    {
        "content": "**\u9898\u610f**\uff1a\n\n\u5b9a\u4e49\u5bf9\u4e00\u4e2a\u6570 $x$ \u7684\u4e00\u6b21\u64cd\u4f5c\u4e3a\u9009\u51fa\u5b83\u5341\u8fdb\u5236\u4e0b\u4e2d\u7684\u67d0\u4e00\u4f4d\u6570\u5b57 $y$\uff0c\u4ee4 $x$ \u53d8\u4e3a $x-y$\n\n\u7ed9\u5b9a\u4e00\u4e2a\u6570 $n$\uff0c\u6c42\u6700\u5c0f\u7684\u64cd\u4f5c\u6570\u4f7f\u5f97 $n$ \u53d8\u4e3a $0$\n\n**\u601d\u8def**\uff1a\n\n\u5148\u8003\u8651\u66b4\u529b $\\mathrm{dp}$\uff0c\u8bbe $f_{i}$ \u8868\u793a $i$ \u6240\u9700\u8981\u7684\u64cd\u4f5c\u6570\uff0c\u6709\u8f6c\u79fb $f_i=1+\\min{f_{i-x}}$\uff0c\u5176\u4e2d $x$ \u4e3a $i$ \u7684\u67d0\u4e00\u4f4d\u6570\u5b57\n\n\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u7ed3\u8bba\uff1a\u6bcf\u4e00\u6b21\u64cd\u4f5c\u4e00\u5b9a\u662f\u9009\u62e9\u6700\u5927\u7684\u6570\u4f4d\uff0c\u8bc1\u660e\u53ef\u4ee5\u770b\u53e6\u4e00\u7bc7\u9898\u89e3\n\n$\\mathrm{dp}$ \u8f6c\u79fb\u53d8\u4e3a $f_{i}=1+f_{i-Dmax(i)}$\uff0c$Dmax(i)$ \u8868\u793a $i$ \u5728\u5341\u8fdb\u5236\u8868\u793a\u4e0b\u7684\u6700\u5927\u7684\u6570\u5b57\n\n\u8fd9\u4e2a\u66b4\u529b\u8f6c\u79fb\u53ea\u80fd\u5904\u7406 $n\\le 10^6$ \u7684\u60c5\u51b5\uff0c\u4f46\u662f\u6ce8\u610f\u5230 $1\\le Dmax(i)\\le 9$\uff0c\u8303\u56f4\u5f88\u5c0f\uff0c\u8003\u8651\u4f7f\u7528\u77e9\u9635\u4f18\u5316\u8f6c\u79fb\n\n\u8bbe $(x,y)=[x\\not =y]?0:1$\uff0c$x=Dmax(i+1)$\uff0c\u6709\u8f6c\u79fb\uff1a\n$$\n\\begin{aligned}\n\n&\\begin{bmatrix}\n  (1,x)&  (2,x)& (3,x) & (4,x) & (5,x) & (6,x) & (7,x) & (8,x) & (9,x) &1\\\\\n  1& 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0\\\\\n  0&  1&  0&  1& 0 & 1 & 0 & 1 & 0 & 0\\\\\n  0&  0&  1&  0&  0&  0&  0&  0&  0&0 \\\\\n  0&  0&  0&  1&  0&  0&  0&  0&  0&0 \\\\\n  0&  0&  0&  0&  1&  0&  0&  0&  0&0 \\\\\n  0&  0&  0&  0&  0&  1&  0&  0&  0&0 \\\\\n  0&  0&  0&  0&  0&  0&  1&  0&  0&0 \\\\\n  0&  0&  0&  0&  0&  0&  0&  1&  0&0 \\\\\n  0&  0&  0&  0&  0&  0&  0&  0&  0&1 \\\\ \n  \n\\end{bmatrix}\n\\times\n\\begin{bmatrix}\nf_{i}\\\\\nf_{i-1}\\\\\nf_{i-2}\\\\\nf_{i-3}\\\\\nf_{i-4}\\\\\nf_{i-5}\\\\\nf_{i-6}\\\\\nf_{i-7}\\\\\nf_{i-8}\\\\\n1\n\\end{bmatrix}\n=\n\\begin{bmatrix}\nf_{i+1}\\\\\nf_{i}\\\\\nf_{i-1}\\\\\nf_{i-2}\\\\\nf_{i-3}\\\\\nf_{i-4}\\\\\nf_{i-5}\\\\\nf_{i-6}\\\\\nf_{i-7}\\\\\n1\n\\end{bmatrix}\n\\end{aligned}\n$$\n\u8bbe $T_{i+1}$ \u4e3a\u4ece\u7b2c $i$ \u4e2a\u5217\u77e9\u9635\u8f6c\u79fb\u5230\u7b2c $i+1$ \u4e2a\u5217\u77e9\u9635\u7684\u8f6c\u79fb\u77e9\u9635\uff0c\u5219\u7b2c $n$ \u4e2a\u5217\u77e9\u9635\u4e3a $T_n\\times \\cdots \\times T_{10}\\times F_9=F_n$\n\n\u6ce8\u610f\u5230\u8f6c\u79fb\u77e9\u9635\u5b9e\u8d28\u4e0a\u53ea\u6709 $9$ \u4e2a\uff0c\u4e14\u53ea\u8ddf\u6570\u4f4d\u6700\u5927\u503c\u6709\u5173\uff0c\u53ef\u4ee5\u8054\u60f3\u5230\u6570\u4f4d $\\mathrm{dp}$\n\n\u867d\u7136\u77e9\u9635\u4e58\u6cd5\u6ca1\u6709\u4ea4\u6362\u7387\uff0c\u4f46\u662f\u6570\u4f4d $\\mathrm{dp}$ \u5176\u5b9e\u5c31\u662f\u4ece\u5c0f\u5230\u5927\u8fdb\u884c\u7684\uff0c\u4e24\u8005\u76f8\u5951\u5408\n\n\u8bbe $g_{i,j}$ \u8868\u793a\u73b0\u5728\u6570\u4f4d $\\mathrm{dp}$ \u5230\u4e86\u7b2c $i$ \u4f4d\uff0c\u6b64\u65f6\u6570\u4f4d\u6700\u5927\u503c\u4e3a $j$\uff0c\u53ef\u4ee5\u5f97\u5230\u8f6c\u79fb\uff1a$g_{i,j}=\\prod_{i=1}^{ed}g_{i-1,\\max(j,i)}$\uff0c$ed$ \u8868\u793a\u8be5\u4f4d\u80fd\u586b\u7684\u4e0a\u754c\n\n\u76f4\u63a5 $\\mathrm{dfs}$ \u6c42\u51fa $g$ \u6700\u540e\u4e58\u4e0a\u521d\u59cb\u5217\u77e9\u9635\u5c31\u53ef\u4ee5\u5f97\u5230\u7b54\u6848\uff0c\u6ce8\u610f\u8f6c\u79fb\u77e9\u9635\u4e0d\u5305\u62ec $T_1$ \u5230 $T_9$\uff0c\u540c\u65f6 $n\\le 9$ \u8981\u7279\u5224\uff0c\u7ec6\u8282\u53ef\u4ee5\u770b\u4ee3\u7801\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(10^3\\log n\\times 9\\times 9)$\n\n$10^3$ \u662f\u77e9\u9635\u4e58\u6cd5\uff0c$\\log n\\times 9$ \u662f\u6570\u4f4d $\\mathrm{dp}$ \u7684\u72b6\u6001\u6570\uff0c$9$ \u662f $\\mathrm{dp}$ \u8f6c\u79fb\n\n**\u4ee3\u7801**\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cassert>\n#define int long long\nconst int Q=25;\nconst int INF=(1<<30);\ntypedef long long ll;\n#define rg register int\n#define cint const register int\n//char Buf[1<<21],*P1=Buf,*P2=Buf;\n//#define gc() (P1==P2&&(P2=(P1=Buf)+fread(Buf,1,1<<21,stdin),P1==P2)?EOF:*P1++)\n#define gc() getchar()\ninline bool ig(const char c){return c>=48&&c<=57;}\ninline void read(int &oi){char c;int f=1,res=0;while(c=gc(),(!ig(c))&&c^'-');c^'-'?res=(c^48):f=-1;while(c=gc(),ig(c))res=res*10+(c^48);oi=f*res;}\ninline void print(int oi){char io[23];int l=0;if(oi<0)putchar('-'),oi=~oi+1;do io[++l]=(oi%10+48);while(oi/=10);for(;l;--l)putchar(io[l]);}\ninline void write(cint oi,const char c){print(oi);putchar(c);}\ninline int max(cint x,cint y){return x>y?x:y;}\nconst int Lim=10;\nstruct mat{\n\tint a[Lim][Lim];mat()=default;\n\tmat(cint X){for(rg i=0;i<Lim;++i)for(rg j=0;j<Lim;++j)a[i][j]=0;for(rg i=0;i<Lim;++i)a[i][i]=X;}\n\tinline mat operator*(const mat&rhs)const{\n\t\tmat res;for(rg i=0;i<Lim;++i)for(rg j=0;j<Lim;++j)res.a[i][j]=0;\n\t\tfor(rg i=0;i<Lim;++i)for(rg k=0;k<Lim;++k)for(rg j=0;j<Lim;++j)res.a[i][j]+=a[i][k]*rhs.a[k][j];\n\t\treturn res;\n\t}\n};\nmat f[Q][Q],st;\nbool vst[Q][Q];\nint a[Q],len;\ninline mat set(cint vl){\n\tmat res;for(rg i=0;i<Lim;++i)for(rg j=0;j<Lim;++j)res.a[i][j]=0;\n\tfor(rg i=1;i<Lim-1;++i)res.a[i][i-1]=1;\n\tres.a[Lim-1][Lim-1]=1;res.a[0][Lim-1]=1;res.a[0][vl-1]=1;return res;\n}\ninline mat dfs(cint len,cint mx,cint lim,cint zr){\n\tif(len==0)return set(mx);\n\tif(!lim&&vst[len][mx])return f[len][mx];\n\tf[len][mx]=mat(1);vst[len][mx]=1;cint ed=lim?a[len]:9;\n\tfor(rg i=0;i<=ed;++i)f[len][mx]=dfs(len-1,max(mx,i),lim&&(i==ed),zr&&(!i))*f[len][mx];\n\treturn (len==1&&zr)?mat(1):f[len][mx];\n}\ninline void solve(cint x){\n\tif(x<=9)return write(x==0?0:1,'\\n');\n\tfor(rg t=x;t;a[++len]=t%10,t/=10);\n\tmat res=dfs(len,0,1,1);\n\tfor(rg i=0;i<Lim;++i)for(rg j=0;j<Lim;++j)st.a[i][j]=0;\n\tfor(rg i=0;i<Lim;++i)st.a[i][0]=1;\n\twrite((res*st).a[0][0],'\\n');\n}\nint n;\nsigned main(){\n\tread(n);solve(n);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1659097680,
        "uid": 202556,
        "name": "Terry2022",
        "ccfLevel": 7,
        "title": "CF331C3 The Great Julya Calendar"
    },
    {
        "content": "\u8bbe $f(n)$ \u4e3a\u5c06 $n$ \u53d8\u4e3a $0$ \u7684\u6700\u5c0f\u64cd\u4f5c\u6b21\u6570\uff0c$D(n)$ \u4e3a $n$ \u7684\u6570\u4f4d\u5f62\u6210\u7684\u96c6\u5408\u3002\n\n\u6709\u4e2a naive \u7684 dp\uff1a$f(n)=1+ \\min_{d\\in D(n)} \\{f(n-d)\\}$\uff0c\u8fb9\u754c\u6761\u4ef6 $f(0)=0$\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u5f52\u7eb3\u8bc1\u660e $f(n)$ \u5177\u6709\u5355\u8c03\u6027\uff1a$f(n)\\ge f(n-1)$\n\n\u663e\u7136\u6709 $f(1)=1\\ge 0 = f(0)$\n\n\u90a3\u4e48\u73b0\u5728\u5df2\u77e5 $\\forall  1\\le i <n, f(i)\\ge f(i-1)$\n\n\u8bbe $k=\\max \\{D(n)\\},l=\\max\\{D(n-1)\\}$\uff0c\u663e\u7136\u6709 $l\\ge k-1$\n\n\u90a3\u4e48\u6839\u636e\u5355\u8c03\u6027\u53ef\u5f97\n\n $f(n-1)=1+\\min_{d\\in D(n-1)}\\{f(n-1-d)\\}=1+f(n-1-l)=f(n-(l+1))$\n\n\u53c8\u6839\u636e $l+1\\ge k$ \u53ef\u5f97 $f(n-(l+1))\\le 1+f(n-k)$\n\n\u6240\u4ee5\u6709 $f(n-1)\\le 1+f(n-k)$\uff0c\n\n\u53c8\u56e0\u4e3a\u6ca1\u4eba\u4f1a\u50bb\u5230\u64cd\u4f5c $n\\leftarrow n-0$ \uff0c\u6240\u4ee5 $k>1$ \uff0c\n\n\u6240\u4ee5\u6839\u636e\u5355\u8c03\u6027\u53ef\u5f97 $f(n)=1+f(n-k)$\uff0c\u6574\u7406\u53ef\u5f97 $f(n)\\ge f(n-1)$\uff0c\u8bc1\u6bd5\u3002\n\n\u6240\u4ee5 dp \u65b9\u7a0b\u7b80\u5316\u4e86\uff1a$f(n)=1+f(n-\\max\\{D(n)\\})$\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8d2a\u5fc3\u53d6\u662f\u5bf9\u7684\u3002\n\n\u7136\u540e\u6211\u4eec\u6765\u8003\u8651\u600e\u4e48\u5feb\u901f\u6a21\u62df\u8fd9\u4e2a\u8fc7\u7a0b\uff1a\n\n$524\\rightarrow 519\\rightarrow 510\\rightarrow 505\\rightarrow 500$\uff0c\u5176\u5b9e\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u53ef\u4ee5\u4f18\u5316\u7684\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u8bb0\u72b6\u6001 $f(d,n)=(x,y)$ \u8868\u793a\u76ee\u524d\u80fd\u4f7f\u7528\u7684\u6700\u5927\u6570\u4f4d\u4e3a $d$ \uff0c\u8981\u628a $n$ \u53d8\u6210\u975e\u6b63\u6574\u6570\u7684\u64cd\u4f5c\u6b21\u6570\u4e3a $x$ \uff0c$n$ \u53d8\u6210\u7684\u6570\u4e3a $y$\u3002\n\n\u90a3\u4e48\u5047\u8bbe\u73b0\u5728\u8981\u6c42 $524$ \u7684\uff0c\u90a3\u4e48 $f(0,524)$ \uff0c\u6211\u4eec\u628a\u5b83\u5feb\u901f\u53d8\u6210 $500$\uff0c\n\n\u90a3\u4e48\u5c31\u662f $f(\\max\\{0,5\\},24)=(4,0)$\uff0c\u5c31\u662f\u628a\u90a3\u4e2a $24$ \u901a\u8fc7\u524d\u9762\u7684\u6700\u5927\u6570\u4f4d\u53d8\u6210\u975e\u6b63\u6574\u6570\uff0c\n\n\u7136\u540e\u6211\u4eec\u7ee7\u7eed\u8fdb\u884c $500 $ \u7684\u5269\u4e0b\u7684\u64cd\u4f5c $f(0,\\lfloor \\frac{524}{500}\\rfloor \\times 500 + 0)$\u3002\n\n$n<10$ \u7684\u65f6\u5019\u7279\u5224\u3002\n\n\u7531\u4e8e\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u628a\u6570\u53d8\u6210 $xxxxx000000$  \u6216\u8005\u539f\u6570\u540e\u7f00\u6216\u8005 $xxxxx999999x$\uff0c\n\n\u6240\u4ee5\u5bf9\u4e8e\u6bcf\u4e2a $d$ \uff0c$n$ \u7684\u6570\u91cf\u4e0d\u8d85\u8fc7 $12$ \uff0c\u6240\u4ee5\u590d\u6742\u5ea6\u5bf9\u7684\u3002\n\n```cpp\n// This code wrote by chtholly_micromaker(MicroMaker)\n#include <bits/stdc++.h>\n#define reg register\n#define int long long\n#define ln std::puts(\"\")\n#define pb push_back\n#define MP std::make_pair\ntemplate <class t> inline void read(t &s){s=0;\nreg int f=1;reg char c=getchar();while(!isdigit(c)){if(c=='-')f=-1;c=getchar();}\nwhile(isdigit(c))s=(s<<3)+(s<<1)+(c^48),c=getchar();s*=f;return;}\ntemplate<class t,class ...A> inline void read(t &x,A &...a){read(x);read(a...);}\ntemplate <class t> inline void write(t x){if(x<0)putchar('-'),x=-x;\nint buf[21],top=0;while(x)buf[++top]=x%10,x/=10;if(!top)buf[++top]=0;\nwhile(top)putchar(buf[top--]^'0');return;}\n#define fi first\n#define se second\nstd::map<std::pair<int,int> ,std::pair<int,int> > f;\ninline std::pair<int,int> dfs(std::pair<int,int> u)\n{\n\tif(u.se<10)return MP(u.fi||u.se,u.se-std::max(u.fi,u.se));\n\tif(f.count(u))return f[u];\n\treg int p=1;\n\twhile(p<=u.se/10)p*=10;\n\tstd::pair<int,int> low=dfs(MP(std::max(u.fi,u.se/p),u.se%p));\n\tstd::pair<int,int> hig=dfs(MP(u.fi,u.se/p*p+low.se));\n\treturn f[u]=MP(low.fi+hig.fi,hig.se);\n}\nsigned main(void)\n{\n\tint n;read(n),write(dfs(MP(0,n)).fi),ln;\n}\n```\n\n",
        "postTime": 1624518718,
        "uid": 51376,
        "name": "MyukiyoMekya",
        "ccfLevel": 9,
        "title": "CF331C3 The Great Julya Calendar \u9898\u89e3"
    },
    {
        "content": "\u5f88\u725b\u903c\u7684\u72b6\u6001\uff08\n\n\u8d2a\u5fc3\u6bd4\u8f83\u663e\u7136\uff0c\u6bcf\u6b21\u51cf\u53bb\u6570\u4f4d\u4e2d\u6700\u5927\u7684\u6570\u3002\n\n\u8bc1\u660e\uff1a\u5982\u679c\u6ca1\u51cf\u9000\u4f4d\u90a3\u4e48\u522b\u7684\u6570\u90fd\u505a\u4e0d\u5230\uff0c\u5982\u679c\u51cf\u9000\u4f4d\u4e86\u90a3\u4e48\u4e0b\u4e00\u4e2a\u8981\u4e48\u7ee7\u7eed\u9000\u4f4d\u8981\u4e48\u4e2a\u4f4d\u4e3a $0$\uff0c\u800c\u522b\u7684\u6570\u4e24\u6b65\u4ee5\u5185\u4e00\u5b9a\u6ca1\u6709\u524d\u8005\u5927\u6216\u8005\u4e5f\u4e3a $0$\u3002\n\n\u8bbe $f(d,n)$ \u8868\u793a\u4e00\u4e2a\u4e8c\u5143\u7ec4 $(x,y)$\uff0c\u8868\u793a\u5728\u53ef\u4ee5\u4f7f\u7528 $d$ \u8fd9\u4e2a\u6570\u4f4d\u7684\u524d\u63d0\u4e0b\uff08\u5c31\u662f\u9ad8\u4f4d\u4e2d\u6570\u4f4d\u6700\u5927\u7684\u90a3\u4e2a\uff09\uff0c\u5c06 $n$ \u51cf\u4e3a\u975e\u6b63\u6574\u6570\u9700\u8981 $x$ \u6b65\uff0c\u4e14\u8fd9\u4e2a\u975e\u6b63\u6574\u6570\u4e3a $y$\u3002\n\n\u8bbe\u6709 $m$ \u6ee1\u8db3 $10^m\\leq n<10^{m+1}$\u3002\u90a3\u4e48\u6bcf\u6b21\u4ee4\u6700\u9ad8\u4f4d\u51cf\u53bb $1$\uff0c\u524a\u6389\u8fd9\u4e00\u90e8\u5206\u7684\u201c\u8840\u76ae\u201d\uff0c\u7136\u540e\u7ee7\u7eed\u524a\u5269\u4e0b\u7684\u3002\n\n\u4e8e\u662f\u5c31\u6709\u8840\u76ae\u7684\u90e8\u5206\u662f $X=f(\\max(d,\\lfloor\\frac{n}{10^m}\\rfloor),n\\bmod 10^m)$\uff0c\u5269\u4e0b\u7684\u90e8\u5206\u5c31\u662f $oth=f(d,10^m\\times\\lfloor\\frac{n}{10^m}\\rfloor+X_y)$\uff0c\u7ed3\u679c\u5c31\u662f $f(d,n)=(X_x+oth_x,oth_y)$\u3002\n\n\u81f3\u4e8e\u72b6\u6001\u603b\u6570\u4e0d\u4f1a\u8bc1\u3002\u4e0d\u8fc7\u8dd1\u5f97\u98de\u5feb\uff0c\u5728 CF \u4e0a\u9762\u624d 30ms\u3002\n```cpp\n#include<cstdio>\n#include<map>\ntypedef long long ll;\nstruct pr{\n\tll cnt,num;pr(const ll&cnt=0,const ll&num=0):cnt(cnt),num(num){}\n\tinline bool operator<(const pr&it)const{return num==it.num?cnt<it.cnt:num<it.num;}\n};std::map<pr,pr>f;\ninline ll max(const ll&a,const ll&b){return a>b?a:b;}\ninline ll Find(const ll&n){ll t(1);while(t*10ull<=n)t*=10;return t;}\ninline pr F(const int&d,const ll&n){\n\tif(n<10)return pr(d||n,n-max(d,n));if(f.find(pr(d,n))!=f.end())return f[pr(d,n)];const ll&m=Find(n);\n\tconst pr&x=F(max(d,n/m),n%m),&oth=F(d,m*ll(n/m)+x.num);return f[pr(d,n)]=pr(oth.cnt+x.cnt,oth.num);\n}\nsigned main(){ll n;scanf(\"%lld\",&n);printf(\"%lld\",F(0,n).cnt);}\n```",
        "postTime": 1659094048,
        "uid": 160839,
        "name": "Prean",
        "ccfLevel": 7,
        "title": "DP\uff08\uff1f\uff09+\u641c\u7d22 CF331C3\u9898\u89e3"
    }
]