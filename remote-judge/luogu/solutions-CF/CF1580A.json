[
    {
        "content": "> \u7ed9\u5b9a 01 \u77e9\u9635 $a$ \u3002\u4f60\u53ef\u4ee5\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\n>\n> - \u9009\u62e9\u4e00\u4e2a\u4f4d\u7f6e\u53cd\u8272\uff081 \u53d8 0\uff0c0 \u53d8 1\uff09\n>\n> \u95ee\u4f7f\u5f97 $a$ \u6ee1\u8db3\u4e0b\u8ff0\u6761\u4ef6\u7684\u6700\u5c11\u64cd\u4f5c\u6570\n>\n> - $\\exists$ \u5927\u5c0f\u4e3a $a\u00d7b$ \u7684\u77e9\u5f62 $M$ \u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff1a\n>   - $a\u22655$\uff0c$b\u22654$\u3002\n>   - \u5bf9\u4e8e\u6240\u6709 $1<x<a$\uff0c\u5757 $M_{x,1}$ \u548c $M_{x,b}$ \u4e3a 1\u3002\n>   - \u5bf9\u4e8e\u6240\u6709 $1<x<b$\uff0c\u5757 $M_{1,x}$ \u548c $M_{a,x}$ \u662f\u9ed1\u66dc\u77f3\u5757\u3002\n>   - \u5bf9\u4e8e\u6240\u6709 $1<x<a,1<y<b$\uff0c\u5757 $M_{x,y}$ \u662f\u4e00\u4e2a\u7a7a\u5757\u3002\n>   - $M_{1,1},M_{1,b},M_{a,1},M_{a,b}$ \u53ef\u4ee5\u662f\u4efb\u4f55\u7c7b\u578b\u3002\n\n\u9700\u8981\u4e00\u5b9a\u7684\u601d\u7ef4\u3002\n\n\u8003\u8651\u679a\u4e3e\u77e9\u5f62\u7684\u4e0a\u4e0b\u754c\uff08\u5e76\u4e14\u5b9a\u4f4f\u5b83\uff09\u3002\u8003\u8651\u4ee5\u7c7b\u4f3c\u53cc\u6307\u9488\u7684\u65b9\u5f0f\u79fb\u52a8\u5de6\u53f3\u8fb9\u754c\u3002\n\n\u9996\u5148\u679a\u4e3e\u77e9\u5f62\u7684\u53f3\u8fb9\u754c\u3002\u5f53\u4e00\u4e2a\u4ee5\u5f53\u524d\u53f3\u8fb9\u754c\u4e3a\u53f3\u8fb9\u754c\u30014\u4e3a\u5bbd\u7684\u77e9\u5f62\u7684\u4ee3\u4ef7<\u4ee5\u5f53\u524d\u53f3\u8fb9\u754c\u4e3a\u53f3\u8fb9\u754c\u3001\u5f53\u524d\u5de6\u8fb9\u754c\u4e3a\u5de6\u8fb9\u754c\u7684\u77e9\u5f62\u7684\u4ee3\u4ef7\u65f6\uff0c\u5c06\u5de6\u8fb9\u754c\u79fb\u52a8\u5230\u65b0\u77e9\u5f62\u5bf9\u5e94\u7684\u5de6\u8fb9\u754c\u4f4d\u7f6e\uff08\u5373\u53f3\u8fb9\u754c-3\u5904\uff09\u3002\n\n\u5173\u4e8e\u7b97\u4ee3\u4ef7\uff1a\u7528\u4e00\u4e2a\u53d8\u91cf $cnt$ \u8bb0\u5f55\u6bcf\u4e2a\u77e9\u5f62 \u4e0d\u8ba1\u53f3\u8fb9\u754c\u8fd9\u4e00\u6761\u7ebf \u9700\u8981\u7684\u4ee3\u4ef7\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u53f3\u8fb9\u754c\u7684\u4f4d\u7f6e\uff0c\u518d\u4e34\u65f6\u7528 $cnt$ \u52a0\u4e0a\u53f3\u8fb9\u754c\u6240\u9700\u7684\u4ee3\u4ef7\u6765\u66f4\u65b0\u7b54\u6848\u3002\u6bcf\u5411\u53f3\u79fb\u52a8\u4e00\u6b21\u53f3\u8fb9\u754c\uff0c\u53ea\u9700\u8981\u5728 $cnt$ \u4e0a\u66f4\u65b0\u4e0a\u4e0b\u8fb9\u754c\u65b0\u589e\u7684\u603b\u8ba12\u4e2a\u4f4d\u7f6e\u7684\u4ee3\u4ef7\u3002\u6bcf\u79fb\u52a8\u4e00\u6b21\u5de6\u8fb9\u754c\uff0c\u91cd\u65b0\u5229\u7528\u4e8c\u7ef4\u524d\u7f00\u548c\u7b97\u4ee3\u4ef7\u3002\n\n\u5173\u4e8e\u9884\u5904\u7406\uff1a\u9884\u5904\u7406\u51fa\u4e8c\u7ef4\u524d\u7f00\u548c\u6570\u7ec4\u5c31\u591f\u7528\u4e86\u3002\n\n\u3010\u53c2\u8003\u4ee3\u7801\u3011[CF Submission](https://codeforces.com/problemset/submission/1581/130464660)",
        "postTime": 1633347680,
        "uid": 300078,
        "name": "pengyule",
        "ccfLevel": 7,
        "title": "CF1580A"
    },
    {
        "content": "\u5fc5\u987b\u63d0\u524d\u5b66\u4e60 \u52a8\u6001\u89c4\u5212 \u7b97\u6cd5\u3002\u5efa\u8bae\u5b66\u4e60[\u6c42\u6700\u5927\u5b50\u5e8f\u5217](https://www.luogu.com.cn/problem/P1115)\u3002\n\n\u9898\u610f\u7b80\u8ff0:\u5bfb\u627e\u4e00\u4e2a\u884c\u81f3\u5c11\u4e3a $5$\uff0c\u5217\u81f3\u5c11\u4e3a $4$ \u7684\u5b50\u77e9\u9635\u3002\u5e76\u628a\u77e9\u9635\u4e2d\u95f4\u5168\u90e8\u6539\u6210  $0$\uff0c\u8fb9\u754c\u6539\u6210 $1$\uff0c\u4f46\u56db\u4e2a\u89d2\u4e0d\u7528\u6539\u3002\u6c42\u6700\u5c0f\u4fee\u6539\u6b21\u6570\u3002\n\n\u4e0d\u96be\u60f3\u5230\u66b4\u529b\u7b97\u6cd5:\u679a\u4e3e\u8d77\u59cb\u70b9 $(x0,y0)$\uff0c\u7ec8\u70b9 $(x1,y1)$\u3002\n\n\u4f46\u662f\u663e\u7136\u4f1a\u8d85\u65f6\uff0c\u4e0d\u96be\u60f3\u5230\u6700\u5927\u5b50\u77e9\u9635\u7684\u4f18\u5316\u601d\u8def\uff0c\u9996\u5148\u679a\u4e3e  $x0,x1$\uff0c\u7136\u540e\u518d\u8bbe\u8ba1dp\u8f6c\u79fb,dp\u8f6c\u79fb\u7c7b\u4f3c\u6700\u5927\u5b50\u5e8f\u5217\u3002\n\n\u8bbe $f_k$ \u4e3a\u4ee5\u7f16\u53f7\u4e3a $k$ \u7684\u5143\u7d20\u7ed3\u5c3e\uff0c**\u9664\u53bb\u6700\u53f3\u8fb9\u4e00\u5217**\u6700\u4f18\u9700\u8981\u4fee\u6539\u51e0\u6b21\u3002(\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u9664\u53bb\uff0c\u7a0d\u540e\u4f1a\u8bb2)\n\n\u90a3\u4e48\u53ef\u4ee5\u6709\u4ee5\u4e0b\u4e24\u79cd\u8f6c\u79fb\u65b9\u5f0f:\n\n\u6cbf\u7528\u4e0a\u4e00\u6b21\u7684\u6700\u5c0f\u503c\u3002\u90a3\u4e48\u7b54\u6848\u5c31\u662f \u7b2c $k$ \u5217 $[x0,x1]$ \u4fee\u6539\u6210 $0$ \u6700\u5c11\u6b21\u6570\u3002(\u5173\u4e8e\u5177\u4f53\u6c42\u6cd5\u540e\u9762\u4f1a\u8bb2)\n\n\u4e3a\u4ec0\u4e48\u8fd9\u6837\u5c31\u662f\u5bf9\u7684\u5462?\u56e0\u4e3a\u65e0\u8bba\u5982\u4f55\u90fd\u5f97\u52a0\u4e0a \u4fee\u6539\u6b21\u6570\uff0c\u6240\u4ee5\u4e0a\u4e00\u6b21\u7684\u6700\u5c0f\u503c\u4e00\u5b9a\u662f\u8fd9\u4e00\u6b21\u7684\u6700\u5c0f\u503c\u3002\n\n\u65b0\u5f00\u4e00\u4e2a\u5b50\u5e8f\u5217\u3002\u6b64\u65f6\u4e0d\u53ef\u80fd\u518d\u5f00\u4e00\u4e2a\u957f\u5ea6\u8d85\u8fc7 $4$ \u7684\u5b50\u5e8f\u5217\u3002\u56e0\u4e3a\u8fd9\u6837\u5c31\u53d8\u6210\u4e86 \u6cbf\u7528\u4e0a\u4e00\u6b21\u7684\u6700\u5c0f\u503c \u60c5\u51b5\u3002\u6240\u4ee5\u8fd9\u79cd\u60c5\u51b5\u9700\u8981\u5c06\u7b2c $k,k-1,k-2$ \u5217\u5168\u90e8\u4fee\u6539\u6210\u4e24\u8fb9 $1$ \u4e2d\u95f4 $0$\uff0c\u5c06 $k-3$ \u5217\u4e2d\u95f4\u4fee\u6539\u6210 $1$(\u53ea\u9488\u5bf9 $[x0,x1]$ \u884c)\u3002\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u7684\u4ee3\u7801($q0(i,j,k)$ \u8868\u793a\u7b2c $(i,j)$ \u884c $k$ \u5217 \u5168\u90e8\u6539\u6210\u4e2d\u95f4 $0$ \u4e24\u8fb9 $1$ \u7684\u6700\u5c0f\u6b21\u6570\uff0c$q1$ \u5219\u6539\u6210\u4e2d\u95f4 $1$)(\u4f7f\u7528\u4e86\u6eda\u52a8\u6570\u7ec4):\n```cpp\nfor(k=3;k<m;k++){\n  f[i]=min(q0(i,j,k)+q0(i,j,k-1)+q1(i,j,k-2),f[i-1]+q0(i,j,k));\n}\n```\n\n\u63a5\u4e0b\u6765\u5c31\u770b\u5982\u4f55\u6c42 $q$\u3002\u5b9e\u9645\u4e0a\u53ef\u4ee5\u679a\u4e3e\u6240\u6709\u7684 $i,j,k$\uff0c\u66b4\u529b\u9884\u5904\u7406\uff0c\u672c\u4eba\u8d5b\u540e\u624d\u60f3\u5230\u8fd9\u79cd\u66b4\u529b\u7684\u65b9\u6cd5\uff0c\u6240\u4ee5\u8bb2\u4e00\u4e0b\u524d\u7f00\u548c\u7684\u505a\u6cd5\uff0c\u5982\u679c\u4e0d\u60f3\u770b\u53ef\u4ee5\u8df3\u8fc7\u3002\n\n\u8fd9\u79cd\u9759\u6001\u533a\u95f4\u6c42\u548c\u95ee\u9898\u53ef\u4ee5\u60f3\u5230\u524d\u7f00\u548c\u3002\u5bf9\u4e8e\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u53ea\u9700\u6c42\u4e00\u6b21\u51fa\u533a\u95f4\u548c\uff0c\u800c\u7b2c\u4e8c\u79cd\u60c5\u51b5\u53ea\u9700\u6c42 $4$ \u6b21\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u4e8c\u7ef4\u524d\u7f00\u548c\u3002\n\n\u90a3\u4e48\u53ef\u4ee5\u5206\u522b\u8bbe $s0(i,j)$ \u8868\u793a\u5c06\u7b2c $j$ \u5217 $[1,i]$ \u884c\u4fee\u6539\u6210 $0$ \u7684\u6700\u5c0f\u6b21\u6570\uff0c$s1$ \u8868\u793a\u4fee\u6539\u6210 $1$ \u7684\u6700\u5c0f\u6b21\u6570\u3002\n\n\u9884\u5904\u7406\u90e8\u5206\u4ee3\u7801($a$ \u8868\u793a\u8f93\u5165\u7ed9\u51fa\u7684\u539f\u77e9\u9635)\uff1a\n```cpp\nfor(i=1;i<=n;i++){\n  for(j=1;j<=m;j++){\n    s0[i][j]=s0[i-1][j]+a[i][j];\n    s1[i][j]=s1[i-1][j]+!a[i][j];\n  }\n}\n```\n\u4f46\u662f\u5230\u8fd9\u91cc\u8fd8\u6ca1\u6709\u505a\u5b8c\uff0c\u56e0\u4e3a\u6211\u4eec\u628a\u6700\u53f3\u8fb9\u4e00\u5217\u7ed9\u5220\u6389\u4e86\uff0c\u73b0\u5728\u8981\u590d\u539f\u56de\u6765\u3002\u90a3\u4e48\u5c31\u8981\u52a0\u56de\u6765\u3002\u5982\u4f55\u52a0\u5c31\u7b80\u5355\u4e86\uff0c\u4e0d\u8bb2\u3002\u6700\u540e\u628a\u6240\u6709\u7684 $f$ \u53d6\u6700\u5c0f\u503c\u5c31\u5f97\u5230\u7b54\u6848\u4e86\u3002\n\n\u4e3a\u4f55\u8981\u53bb\u6389\u53f3\u8fb9?\u56e0\u4e3a\u5982\u679c\u4e0d\u53bb\u6389\uff0c\u90a3\u4e48\u524d\u4e00\u4e2a\u7684\u6700\u5c0f\u503c\u65e0\u6cd5\u4ee3\u8868\u5f53\u524d\u7684\u6700\u5c0f\u503c\u3002\n\n\u4ee3\u7801:\n```cpp\n#include<iostream>\nusing namespace std;\nbool a[2005][2005];\nint s0[2005][2005],s1[2005][2005];\nint q(int l,int r,int y){\n\treturn s0[r-1][y]-s0[l][y]+!a[l][y]+!a[r][y]; //\u4e24\u8fb9\u90fd\u5f97\u662f1,\u4e2d\u95f4\u662f0\u3002\n}\nvoid Main(){\n\tint n,m,i,j,k,l,ykb,sum=0,Min=999999999;\n\tchar A;\n\tcin>>n>>m;\n\tfor(i=1;i<=n;i++){\n\t\tfor(j=1;j<=m;j++){\n\t\t\tcin>>A;\n\t\t\ta[i][j]=(A=='1');\n\t\t}\n\t}\n\tfor(i=1;i<=n;i++){\n\t\tfor(j=1;j<=m;j++){\n\t\t\ts0[i][j]=s0[i-1][j]+a[i][j];\n\t\t\ts1[i][j]=s1[i-1][j]+!a[i][j];\n\t\t}\n\t}\n\tfor(i=1;i<=n;i++){\n\t\tfor(j=i+4;j<=n;j++){ //\u884c\u81f3\u5c11\u4e3a5\u3002\n\t\t\tsum=999999999; //\u91c7\u7528\u4e86\u6eda\u52a8\u6570\u7ec4\u4f18\u5316\u3002\u4e8e\u662f\u521d\u59cb\u503c\u8d4b\u4e3a\u65e0\u7a77\u5927\u3002\n\t\t\tfor(k=3;k<m;k++){\n\t\t\t\tsum=min(q(i,j,k)+q(i,j,k-1)+s1[j-1][k-2]-s1[i][k-2],sum+q(i,j,k)); //\u6700\u5de6\u8fb9\u4e24\u8fb9\u4e0d\u9700\u8981\u52a0,\u6240\u4ee5\u67e5\u8be2\u7684\u533a\u95f4\u662f[i+1,j-1]\u3002\n\t\t\t\tMin=min(Min,sum+s1[j-1][k+1]-s1[i][k+1]); //\u8981\u628a\u6700\u53f3\u8fb9\u52a0\u56de\u6765\u3002\n\t\t\t}\n\t\t}\n\t}\n\tcout<<Min<<endl;\n}\nint main(){\n\tint t,i;\n\tcin>>t;\n\tfor(i=0;i<t;i++){\n\t\tMain();\n\t}\n}\n```",
        "postTime": 1633047363,
        "uid": 87799,
        "name": "xh39",
        "ccfLevel": 0,
        "title": "\u6211\u6c38\u8fdc\u559c\u6b2239\u53f7\u540c\u5b662018\u3002"
    },
    {
        "content": "[\u4e0d\u77e5\u9053\u66f4\u597d\u8fd8\u662f\u66f4\u574f\uff0c\u53cd\u6b63\u8981\u7528\u6765\u9a97\u8bbf\u95ee\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/Illusory-dimes/p/15169251.html#_label4_2)\n\n## Description\n\n\u5728\u4e00\u4e2a $n$ \u884c $m$ \u5217\u7684 $0/1$ \u77e9\u9635\u91cc\u9762\uff0c\u627e\u5230\u4e00\u4e2a\u81f3\u5c11 5 \u884c\uff0c 4 \u5217\u7684\u77e9\u5f62\uff0c\u6700\u5c0f\u5316\u5c06\u9009\u5b9a\u77e9\u9635\u4fee\u6539\u6210\u4ee5\u4e0b\u8981\u6c42\u7684\u77e9\u9635\u7684\u4fee\u6539\u6b21\u6570\uff1a\n\n1. \u9664\u53bb\u6700\u5916\u4e00\u5708\uff0c\u5176\u4f59\u5747\u4e3a 0 \uff1b\n\n2. \u6700\u5916\u4e00\u5708\u9664\u4e86\u56db\u89d2\uff0c\u5176\u4f59\u5747\u4e3a 1 \u3002\n\n\u591a\u6d4b\u3002\n\n$5\\leq n \\leq 400,\\ 4\\leq m\\leq 400$\n\n## Solution\n\n\u9996\u5148\u6700\u66b4\u529b\u7684\u5c31\u662f $\\small O(n^2m^2)$ \u679a\u4e3e\u4e24\u4e2a\u70b9\u52a0 $\\small O(nm)$ \u7edf\u8ba1\u7b54\u6848\uff0c\u7edf\u5171 $\\small O(n^3m^3)$ \u3002\n\n\u52a0\u4e2a\u524d\u7f00\u548c\uff0c $\\small O(n^2m^2)$ \u3002\n\n\u8003\u8651\u600e\u4e48\u4f18\u5316\uff0c\u679a\u4e3e\u8fd9\u4e9b\u5df2\u7ecf\u4e0d\u80fd\u518d\u4f18\u4e86\uff0c\u4f46\u662f\u5176\u5b9e\u548c\u524d\u7f00\u548c\u601d\u60f3\u4e00\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u8ba1\u7b97\u8bb8\u591a\u77e9\u5f62\u7684\u65f6\u5019\u5229\u7528\u4e00\u4e0b\u524d\u9762\u5df2\u6709\u7684\u7b54\u6848\u3002\n\n\u4f46\u6211\u4eec\u8fd8\u662f\u5148\u5b9a\u4e0a\u4e0b\u8fb9\u754c\uff0c\u7136\u540e\u4ece\u5de6\u5f80\u53f3\u8ba1\u7b97\u5b9a\u597d\u53f3\u8fb9\u754c\u7684\u65f6\u5019\u7684\u6700\u5c0f\u7b54\u6848\u3002\n\n\uff08\u6211\u662f\u4ece\u53f3\u5f80\u5de6\uff0c\u56e0\u4e3a1\u5f00\u59cb\u6709\u70b9\u6655\uff0cn\u5f00\u59cb\u65b9\u4fbf\u4e00\u70b9\uff0c\u4f46\u8bb2\u7684\u65f6\u5019\u8fd8\u662f\u4ece\u5de6\u5f80\u53f3\uff09\n\n\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u5148\u7b97\u6700\u5de6\u8fb9\u6700\u5c0f\u7684\u77e9\u5f62\uff0c\u7136\u540e\u53d1\u73b0\u5411\u53f3\u6269\u5c55\u7684\u65f6\u5019\u6709\u70b9\u9ebb\u70e6\uff0c\u6240\u4ee5\u6211\u4eec\u5e72\u8106\u5148\u6487\u6389\u6700\u53f3\u8fb9\u8fd9\u4e00\u5217\uff0c\u8fd9\u6837\u6269\u5c55\u8d77\u6765\u5c31\u597d\u591a\u4e86\uff0c\n\n\u8fd9\u662f\u6211\u4eec\u5c31\u53ea\u9700\u8981\u7b97\u4e24\u4e2a\u4e1c\u897f\uff1a\n\n1.\u4ee5\u53f3\u8fb9\u754c\u4e3a\u8d77\u70b9\u7684\u6700\u5c0f\u77e9\u5f62\u7b54\u6848\n\n2.\u4ee5\u53f3\u8fb9\u754c\u4e3a\u8d77\u70b9\u7684\u5176\u5b83\u77e9\u5f62\u6700\u5c0f\u7b54\u6848\n\n\u663e\u7136\u60c5\u51b5 2 \u5c31\u662f\u524d\u9762\u4f20\u4e0b\u6765\u7684\u7b54\u6848\uff0c\u76f4\u63a5\u5c31\u53ef\u4ee5\u7528\uff0c\u4e00\u4e5f\u53ef\u4ee5 $\\small O(1)$ \u7b97\u3002\n\n\u6700\u540e\u518d\u5168\u90e8\u52a0\u4e0a\u6700\u53f3\u8fb9\u8fd9\u4e00\u5217\u7684\u8d21\u732e\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\small O(n^3)$ \u7ea7\u3002\n\n## Code\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int N = 410, INF = 1e9;\nll t, n, m, ans, cnt[N];\nll pos[N][N], qzh[N][N];\nstring s[N];\ninline ll read() {\n\tll s = 0, w = 1;\n\tchar ch = getchar();\n\twhile (ch < '0' || ch > '9') {if (ch == '-') w = -1; ch = getchar();}\n\twhile (ch >= '0' && ch <= '9') {s = (s << 3) + (s << 1) + ch - '0'; ch = getchar();}\n\treturn s * w;\n}\ninline ll calc(int x1, int y1, int x2, int y2) {\n\tll res = qzh[x2][y2] - qzh[x1 - 1][y2];\n\tll ret = qzh[x2][y1 - 1] - qzh[x1 - 1][y1 - 1];\n\treturn res - ret;\n}\ninline void mian() {\n\tn = read(); m = read(); ans = INF;\n\tfor (int i = 1; i <= n; ++i) {\n\t\tgetline(cin, s[i]);\n\t\tfor (int j = 1; j <= m; ++j) {\n\t\t\tpos[i][j] = s[i][j - 1] - '0';\n\t\t}\n\t}\n\tfor (int i = 1; i <= n; ++i) {\n\t\tfor (int j = 1; j <= m; ++j) {\n\t\t\tqzh[i][j] = pos[i][j];\n\t\t\tqzh[i][j] += qzh[i - 1][j] + qzh[i][j - 1] - qzh[i - 1][j - 1];\n\t\t}\n\t}\n\tfor (int l = 1; l <= m; ++l) {\n\t\tfor (int r = l + 3; r <= m; ++r) {\n\t\t\tcnt[n - 3] = r - l - 1 - calc(n, l + 1, n, r - 1) + 6;\n\t\t\tcnt[n - 3] += calc(n - 3, l + 1, n - 1, r - 1);\n\t\t\tcnt[n - 3] -= calc(n - 3, l, n - 1, l) + calc(n - 3, r, n - 1, r);\n\t\t\tfor (int i = n - 4; i >= 1; --i) {\n\t\t\t\tcnt[i] = r - l - 1 - calc(i + 3, l + 1, i + 3, r - 1) + 6;\n\t\t\t\tcnt[i] += calc(i, l + 1, i + 2, r - 1);\n\t\t\t\tcnt[i] -= calc(i, l, i + 2, l) + calc(i, r, i + 2, r);\n\t\t\t\tll num = (!pos[i][l]) + (!pos[i][r]);\n\t\t\t\tcnt[i] = min(cnt[i], cnt[i + 1] + calc(i, l + 1, i, r - 1) + num);\n\t\t\t}\n\t\t\tfor (int i = 1; i <= n - 4; ++i) {\n\t\t\t\tans = min(ans, cnt[i + 1] + r - l - 1 - calc(i, l + 1, i, r - 1));\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%lld\\n\", ans);\n}\nint main() {\n\tt = read();\n\twhile (t--) mian();\n\treturn 0;\n}\n```",
        "postTime": 1633261820,
        "uid": 206024,
        "name": "Illusory_dimes",
        "ccfLevel": 7,
        "title": "CF1580A Portal \u9898\u89e3"
    },
    {
        "content": "## \u771f\u7684\u6ca1\u6709\u4e71\u641e\u9898\u89e3\u5417\uff1f\n\n\u9996\u5148 $\\mathcal{O}(n^2 m^2)$ \u7684\u66b4\u529b\u5c31\u662f\u679a\u4e3e\u77e9\u5f62\u5de6\u4e0a\u89d2\u548c\u53f3\u4e0b\u89d2\uff0c\u7136\u540e\u7528\u9884\u5904\u7406\u7684\u524d\u7f00\u548c\u6570\u7ec4 check\uff0c\u4f46\u662f\u663e\u7136\u8fc7\u4e0d\u53bb\u3002\n\n\u7136\u540e\u4f60\u53ef\u80fd\u4f1a\u60f3\u53ef\u4e0d\u53ef\u4ee5\u5c06\u67d0\u4e00\u7ef4\u679a\u4e3e\u65f6\u91cd\u65b0\u8bbe\u5b9a\u4e00\u4e2a\u4e0a\u9650\uff0c\u5f53\u7136\u8fd9\u6837\u662f\u4e0d\u53ef\u4ee5\u7684\uff0c\u51fa\u9898\u4eba\u4f1a\u628a\u4f60\u5b9a\u5411\u5361\uff0c\u4f60\u5c06\u4f1a\u6109\u60a6\u5730\u6536\u83b7 `wrong answer on test 61` \u7684\u597d\u6210\u7ee9\u3002\n\n\u90a3\u4e48\u6211\u4eec\u7684\u51fa\u53d1\u70b9\u4e0d\u5e94\u8be5\u662f\u51cf\u5c11\u5faa\u73af\u6b21\u6570\u4e86\uff0c\u800c\u662f\u627e\u5230\u4e00\u4e2a\u6700\u4f18\u5316\u526a\u679d\u4f5c\u4e3a\u652f\u70b9\uff0c\u628a\u5faa\u73af\u5185\u5197\u4f59\u7684\u72b6\u6001\u526a\u6389\uff0c\u7a0d\u5fae\u8bd5\u51e0\u6b21\u5c31\u53ef\u4ee5\u53d1\u73b0\u6211\u4eec\u53ea\u8981\u679a\u4e3e\u4e86\u5de6\u4e0a\u89d2\uff0c\u5de6\u4e0a\u89d2\u63a7\u5236\u7684\u77e9\u5f62\u7684\u534a\u4e2a\u5916\u8f6e\u5ed3\u6240\u4ea7\u751f\u7684\u4ee3\u4ef7\u4e0d\u53ef\u80fd\u88ab\u6d88\u53bb\uff0c\u800c\u53f3\u4e0b\u89d2\u5f80\u5916\u79fb\u7684\u65f6\u5019\u539f\u6709\u7684\u8981\u53d8\u6210\u7a7a\u683c\u5b50\u7684\u683c\u5b50\u4ea7\u751f\u7684\u4ee3\u4ef7\u4e5f\u4e0d\u53ef\u80fd\u88ab\u6d88\u53bb\uff0c\u6240\u4ee5\u4e00\u65e6\u7b54\u6848\u6bd4\u8fd9\u4e24\u8005\u52a0\u8d77\u6765\u8981\u5c0f\u5c31\u4e0d\u7ee7\u7eed\u5faa\u73af\u3002\n\n\u8fd9\u4e2a\u526a\u679d\u5b9e\u9645\u6548\u679c\u5f88\u597d\uff0c\u590d\u6742\u5ea6\u4ecd\u7136\u662f $\\mathcal{O}(n^2m^2)$ \u4f46\u662f\u5b9e\u6d4b\u8dd1\u5f97\u5f88\u5feb\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define rg register\n#define MAXN 400\nusing namespace std;\nint n,m,s[MAXN+5][MAXN+5];\ninline int sum1(int x,int y,int a,int b){\n\treturn s[a][b]-s[x-1][b]-s[a][y-1]+s[x-1][y-1];\n}\ninline int sum0(int x,int y,int a,int b){\n\treturn (a-x+1)*(b-y+1)-sum1(x,y,a,b);\n}\nsigned main(){\n\tint T; scanf(\"%d\",&T);\n\twhile(T--){\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tfor(rg int i=1;i<=n;i++)\n\t\t\tfor(rg int j=1;j<=m;j++){\n\t\t\t\tchar ch=0; while(!isdigit(ch)) ch=getchar();\n\t\t\t\ts[i][j]=ch-'0';\n\t\t\t}int ans=0x3f3f3f3f;\n\t\tfor(rg int i=1;i<=n;i++)\n\t\t\tfor(rg int j=1;j<=m;j++)\n\t\t\t\ts[i][j]+=s[i-1][j]+s[i][j-1]-s[i-1][j-1];\n\t\tfor(rg int x=1;x<=n;x++)\n\t\t\tfor(rg int y=1;y<=m;y++)\n\t\t\t\tfor(rg int a=x+4;a<=n;a++)\n\t\t\t\t\tfor(int b=y+3;b<=m;b++){\n\t\t\t\t\t\trg int ret1=sum0(x,y+1,x,b-1)+sum0(x+1,y,a-1,y);\n\t\t\t\t\t\trg int ret2=sum0(x+1,b,a-1,b)+sum0(a,y+1,a,b-1);\n\t\t\t\t\t\trg int empt=sum1(x+1,y+1,a-1,b-1);\n\t\t\t\t\t\tif(ans<ret1+empt) break;\n\t\t\t\t\t\tans=min(ans,ret1+ret2+empt); \n\t\t\t\t\t}printf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1634643681,
        "uid": 132040,
        "name": "S00021",
        "ccfLevel": 0,
        "title": "CF1580A"
    }
]