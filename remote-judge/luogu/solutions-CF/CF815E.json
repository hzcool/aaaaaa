[
    {
        "content": "### P.S.\n**\u53ef\u601c\u573a\u538b\u8f74\u9898\u9898\u89e3\u4e00\u8840\uff01\uff01\uff01**  \n\n### Description.\n\u53ef\u601c\u5728\u4e00\u6761 $n(n\\le 10^{18})$ \u680b\u623f\u5b50\u7684\u8857\u4e0a\u3002  \n\u6709 $K$ \u4e2a\u4eba\u4f4f\u4e86\u8fdb\u6765\uff0c\u6bcf\u4e2a\u4eba\u4f1a\u9009\u62e9\u5230\u76ee\u524d\u5df2\u7ecf\u6709\u4eba\u7684\u6240\u6709\u623f\u95f4\u6700\u77ed\u8ddd\u79bb\u6700\u5927\u7684\u90a3\u4e2a\u623f\u5b50\u4f4f\u8fdb\u53bb\u3002  \n\u5982\u679c\u6709\u591a\u4e2a\uff0c\u5c31\u9009\u62e9\u6700\u9760\u5de6\u7684\u90a3\u4e2a\u623f\u5b50\u3002  \n\u53ef\u601c\u524d\u9762\u6709 $K-1$ \u4e2a\u4eba\uff0c\u95ee\u53ef\u601c\u4f4f\u5728\u7b2c\u51e0\u4e2a\u623f\u5b50\u3002  \n~~\u6211\u662f\u72d7\u4ed4\u961f\uff01\uff01\uff01\uff01~~  \n\n### Solution.\n\u5b9a\u4e49\u7b26\u53f7 $[k]$ \u8868\u793a\u4e00\u4e2a\u957f\u5ea6\u4e3a $k$ \u7684\u533a\u95f4\uff08\uff08\u3002  \n\n\u9996\u5148\uff0c\u7b2c\u4e00\u4e2a\u4eba\u4f1a\u4f4f\u5728 $1$ \u53f7\u623f\u95f4\uff0c\u7b2c\u4e8c\u4e2a\u4eba\u4f1a\u4f4f\u5728 $n$ \u53f7\u623f\u95f4\uff0c\u76f4\u63a5\u7279\u5224\u3002  \n\u7136\u540e\u63a5\u4e0b\u6765\u76f8\u5f53\u4e8e\u6709\u4e00\u4e2a\u533a\u95f4 $(1,n)$\uff0c\u6bcf\u6b21\u53d6\u504f\u5de6\u7684\u4e2d\u70b9\uff0c\u780d\u6210\u4e24\u4e2a\u533a\u95f4\u3002  \n\u8fd9\u6837\u780d $O(\\log n)$ \u6b21\u5c31\u53ef\u4ee5\u628a\u6574\u4e2a\u533a\u95f4\u780d\u5b8c\uff0c\u7136\u540e\u5c31\u627e\u5230\u4e86\u53ef\u601c\u7684\u5bb6\u3002  \n\n**\u4f46\u662f\u8fd9\u4e2a\u505a\u6cd5\u662f\u5047\u7684\u3002** \u56e0\u4e3a\u6bcf\u6b21\u780d\u533a\u95f4\u4e0d\u4e00\u5b9a\u662f\u4ece\u5de6\u5230\u53f3\u3002  \n$[10]\\rightarrow[4],[5]$\uff0c\u6b64\u65f6\u4f1a\u5148\u5207\u5272 $[5]$ \u7136\u540e\u5207\u5272 $[4]$\uff0c\u6240\u4ee5\u65e0\u6cd5\u76f4\u63a5\u5904\u7406\u3002  \n\u6240\u4ee5\u6211\u4eec\u7528\u4e0a\u6587\u65b9\u6cd5\u53ea\u80fd\u5728 $O(\\log n)$ \u7684\u65f6\u95f4\u5185\u6c42\u51fa $(n)$ \u7684\u5e8f\u5217\u88ab\u5207\u6210\u4e86\u51e0\u4e2a\u957f\u5ea6 $\\ge k$ \u7684\u5e8f\u5217\u3002  \n\n\u6709\u4e00\u4e2a\u6027\u8d28\uff0c\u662f\u6211\u4eec\u50cf\u521a\u521a\u8fd9\u6837\u5212\u5206\u533a\u95f4\uff0c\u6bcf\u6b21\u5bf9\u6240\u6709\u533a\u95f4\u5207\u5272\uff0c\u6240\u6709\u533a\u95f4\u957f\u5ea6\u4e2a\u6570\u662f $O(1)$ \u7684\uff0c\u6700\u591a\u53ef\u80fd\u6709\u4e24\u4e2a\u3002\uff08\u663e\u7136  \n\u8fd8\u6709\u4e00\u4e2a\u6027\u8d28\uff0c\u5c31\u662f\u5982\u679c $\\left\\lfloor\\frac {n-1}2\\right\\rfloor\\ne \\left\\lfloor\\frac {m-1}2\\right\\rfloor$ \u4e14 $n<m$\uff0c\u90a3 $(m)$ \u80af\u5b9a\u6bd4 $(n)$ \u5148\u88ab\u5207\u5272\u3002  \n\u6240\u4ee5\u5b83\u5177\u6709\u5355\u8c03\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 $O(\\log ^2n)$ \u7684\u590d\u6742\u5ea6\uff08\u4e00\u4e2a $\\log$ \u662f\u4e0a\u6587\u5207\u5272\uff09\u6c42\u51fa\u7b54\u6848\u7684\u957f\u5ea6\uff08\u8bef\u5dee\u4e0d\u8d85\u8fc7 $1$\u3002  \n\n\u7136\u540e\uff0c\u6211\u4eec\u627e\u5230\u4e86\u7b54\u6848\u7684\u957f\u5ea6\uff0c\u63a5\u4e0b\u6765\u76f4\u63a5\u5904\u7406\u6574\u4e2a\u5e8f\u5217\uff08\u8bb0\u5f55\u4f4d\u7f6e\u3002  \n\u6bcf\u6b21\u80af\u5b9a\u662f\u5f62\u5982\u628a\u53f3\u8fb9\u5927\u4e8e\u5f53\u524d\u7684\u6d88\u6389\uff0c\u7136\u540e\u628a\u5de6\u8fb9\u7b49\u4e8e\u5f53\u524d\u7684\u6d88\u6389\uff0c\u7136\u540e\u628a\u53f3\u8fb9\u7b49\u4e8e\u5f53\u524d\u7684\u6d88\u6389\u3002  \n\u7136\u540e\u4ee5\u4e0a\u4e09\u4e2a\u7684\u6570\u91cf\u662f\u53ef\u4ee5 $O(\\log n)$ \u6c42\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u5224\u65ad\u5f53\u524d\u662f\u5728\u90a3\u4e2a\u4f4d\u7f6e\u3002  \n\u7136\u540e\u5c31\u7ee7\u7eed\u5f80\u90a3\u8fb9\u9012\u5f52\u5373\u53ef\u3002  \n\n### Coding.\n```cpp\ninline ll solve(ll n,ll w)\n{//\u8fd9\u4e2a\u662f log \u67e5\n\tll x=n,y=n-1,s1=1,s2=0,tt=0;if(x<=w*2) return 0;\n\tfor(;y>=w*2;x/=2,y=x-1)\n\t{\n\t\tif(y==w*2) return tt+s1;else tt+=s1+s2;\n\t\tif(x&1) s1=2*s1+s2;else s2=2*s2+s1;\n\t}return tt;\n}\ninline ll work(ll l,ll r,ll p,ll k)\n{//\u8fd9\u4e2a\u662f\u627e\u7b54\u6848\n\tll md=(l+r)>>1;if(k==1) return md;\n\tll v1=solve(md-l,p),v2=solve(r-md,p+1);\n\tif(k>v1+v2+1) return work(md+1,r,p,k-v1-1);\n\telse return work(l,md-1,p,k-v2-1);\n}\nint main()\n{\n\tint n,K;read(n,K);if(K==1) return puts(\"1\"),0;\n\tif(K==2) return printf(\"%lld\\n\",n),0;else K-=2;\n\tll l=1,r=n/2+1,rs=0;while(l<=r)\n\t\t{ll md=(l+r)>>1;if(solve(n-2,md)>=K) rs=md,l=md+1;else r=md-1;}\n\treturn printf(\"%lld\\n\",work(2,n-1,rs,K)),0;\n}\n```",
        "postTime": 1632746829,
        "uid": 44805,
        "name": "Leap_Frog",
        "ccfLevel": 7,
        "title": "CF815E Karen and Neighborhood \u9898\u89e3"
    }
]