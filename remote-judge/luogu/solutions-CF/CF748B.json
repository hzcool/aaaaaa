[
    {
        "content": "### [Santa Claus and Keyboard Check](https://www.luogu.com.cn/problem/CF748B)\n\n------------\n\n\u8fd9\u2026\u2026\n\n\u6309\u7406\u8bf4B\u9898\u5e94\u8be5\u662f\u6c34\u9898\uff0c\u4f46\u662f\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/norsnyfu.png)\n\n\u5c31\u5f88\u96be\u53d7\u3002\n\n### \u5206\u6790\uff1a\n\n\u601d\u8def\u5f88\u7b80\u5355\uff0c\u5224\u65ad\u662f\u5426\u76f8\u540c\u5c31\u884c\u4e86\u3002\n\n\u8bbe $ h_i $ \u8868\u793a\u5b57\u6bcd $ i $ \u5bf9\u5e94\u7684\u5b57\u6bcd\u3002\n\n\u8fdb\u884c\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n- $s_i=t_i$\uff0c\n\n\t+ $(h_{s_i} \\ne t_i \\lor h_{t_i} \\ne s_i) \\land (h_{s_i}\\ne\\varnothing \\lor h_{t_i}\\ne\\varnothing)$\uff0c\u65e0\u89e3\uff08\u5373\u5b57\u6bcd\u76f8\u540c\u4f46\u662f\u6620\u5c04\u4e0d\u540c\uff09\u3002\n   \n   + \u4e0d\u7136\uff0c $ h_{s_i}=t_i $ \uff08\u5efa\u7acb\u6620\u5c04\uff09\u3002\n\n- $h_{s_i}=\\varnothing \\land h_{t_i}=\\varnothing$\uff0c$h_{s_i}=t_i,h_{t_i}=s_i $ \uff08\u53cc\u5411\u5efa\u7acb\u6620\u5c04\uff09\u3002\n\n- $h_{t_i} \\ne t_i \\lor h_{t_i} \\ne s_i $ \uff0c\u65e0\u89e3\uff08\u4e0d\u540c\u6620\u5c04\uff09\u3002\n\n\u6c42\u51fa\u5404\u81ea\u7684\u6620\u5c04\uff0c\u6392\u9664\u4e86\u65e0\u89e3\u7684\u60c5\u51b5\uff0c\u6700\u540e\u8f93\u51fa\u7b54\u6848\u3002\n\n\u8bbe $ vis_i $ \u8868\u793a\u5b57\u6bcd $ i $ \u662f\u5426\u8f93\u51fa\u8fc7\u3002\n\n\u904d\u5386\u65f6\uff0c\u5982\u679c $vis_{s_i}=\\varnothing \\land s_i \\ne t_i$ \uff0c\u8f93\u51fa\uff08\u6ca1\u6709\u8f93\u51fa\u8fc7\uff0c\u6253\u6807\u8bb0\u8f93\u51fa\uff09\u3002\n\n### Code\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nstring s,t;\nchar h[27];\nbool vis[27];\nsigned main()\n{\n#ifdef LOCAL\n    freopen(\"1.in\",\"r\",stdin);\n    freopen(\"1.out\",\"w\",stdout);\n#endif\n\tios::sync_with_stdio(false);\n\tcin.tie(NULL);\n\tcout.tie(NULL);\n\tcin>>s>>t;\n\tint ans=0;\n\tfor(int i=0;i<=26;i++) h[i]=' ';\n\tfor(int i=0;i<s.length();i++)\n\t{\n\t\t// if(s[i]==t[i]) continue ;\n\t\tif(s[i]==t[i])\n\t\t\tif((h[s[i]-'a']!=t[i] || h[t[i]-'a']!=s[i]) && !(h[s[i]-'a']==' ' && h[t[i]-'a']==' ')) {cout<<-1;return 0;} \n\t\t\telse h[s[i]-'a']=t[i];\n\t\telse if(h[s[i]-'a']==' ' && h[t[i]-'a']==' ')\n\t\t{\n\t\t\th[s[i]-'a']=t[i],h[t[i]-'a']=s[i],ans++;\n\t\t\t// cout<<s[i]<<' '<<t[i]<<'\\n';\n\t\t}\n\t\telse if(h[s[i]-'a']!=t[i] || h[t[i]-'a']!=s[i]) {cout<<-1;return 0;} \n\t\t// cout<<i<<' '<<h[s[i]-'a']<<'\\n';\n\t}\n\t// cout<<t[1]-'a'<<'\\n';\n\tcout<<ans<<'\\n';\n\tfor(int i=0;i<s.length();i++)\n\t{\n\t\tif(!vis[s[i]-'a'] && s[i]!=t[i])\n\t\t{\n\t\t\tvis[s[i]-'a']=vis[t[i]-'a']=1;\n\t\t\tcout<<s[i]<<' '<<t[i]<<'\\n';\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\n### \u6ce8\u610f\uff1a\n\n\u5224\u65ad\u65e0\u89e3\u7684\u987a\u5e8f\u4e00\u5b9a\u4e0d\u80fd\u9519\uff0c\u9519\u4e86\u5c31\u6302\u4e86\u3002\n\n### Hack\u6570\u636e\uff1a\n\n\u8f93\u5165 1\uff1a\n\n```\nab\naa\n```\n\u8f93\u51fa 1\uff1a\n\n```\n-1\n```\n\n\u8f93\u5165 2\uff1a\n\n```\nba\naa\n```\n\u8f93\u51fa 2\uff1a\n\n```\n-1\n```",
        "postTime": 1670341608,
        "uid": 441416,
        "name": "Patients",
        "ccfLevel": 5,
        "title": "\u3010\u9898\u89e3\u3011Santa Claus and Keyboard Check"
    },
    {
        "content": "\u8fd9\u9053\u9898\u8fd8\u633a\u5751\u7684\uff0c\u4ea4\u4e86\u6211\u4e94\u6b21\u3002\n### \u601d\u8def\uff1a\n\u6211\u4eec\u628a\u5b57\u7b26\u4e32 $s$ \u548c $t$ \u626b\u4e00\u904d\uff0c\u7528 $vis$ \u6570\u7ec4\u5b58\u50a8\u5b57\u7b26\u4e32 $s$ \u4e0a\u7684\u5b57\u7b26 $s(i)$ \u5bf9\u5e94\u5b57\u7b26\u4e32 $t$ \u7684\u4ec0\u4e48\u5b57\u7b26\uff0c$kw$ \u6570\u7ec4\u5b58\u50a8\u8981\u8f93\u51fa\u7684\u5b57\u7b26\u5bf9\u3002\n\n\u5728\u626b\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c $vis(s(i))$ \u548c $vis(t(i))$ \u90fd\u6ca1\u8d4b\u503c\uff0c\u90a3\u4e48 $vis(s(i))$ \u7b49\u4e8e $t(i)$ \u4e14 $vis(t(i))$ \u7b49\u4e8e $s(i)$\u3002\n\n\u56e0\u4e3a $kw$ \u6570\u7ec4\u5b58\u50a8\u7684\u5b57\u7b26\u5bf9\u91cc\u7684\u4e24\u4e2a\u5b57\u7b26\u662f\u4e0d\u540c\u7684\uff0c\u6240\u4ee5\u4ec5\u5f53 $s(i)$ \u4e0d\u7b49\u4e8e $t(i)$ \u65f6\uff0c\u624d\u5c06\u5b83\u4eec\u5b58\u5165 $kw$ \u6570\u7ec4\u3002\n\n\u5982\u679c $vis(s(i))$ \u6216 $vis(t(i))$ \u88ab\u8d4b\u503c\u4e86\uff0c\u4e14 $vis(s(i))$ \u4e0d\u7b49\u4e8e $t(i)$ \u6216 $vis(t(i))$ \u4e0d\u7b49\u4e8e $s(i)$\uff0c\u5c31\u8f93\u51fa $-1$\uff0c\u7ed3\u675f\u7a0b\u5e8f\u3002\n\n\u6700\u540e\u8f93\u51fa $kw$ \u6570\u7ec4\u7684\u6240\u6709\u5b57\u7b26\u5bf9\u5c31\u53ef\u4ee5\u5566\u3002\n### \u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstring a,b;   //\u6211\u628as\u6362\u6210\u4e86a\uff0ct\u6362\u6210\u4e86b\u3002\nint vis[150],kw[1500],tot;\nint main(){\n\tcin>>a>>b;\n\tfor(int i=0;i<a.size();i++){\n\t\tif(vis[a[i]]==0&&vis[b[i]]==0){\n\t\t\tvis[a[i]]=b[i];\n\t\t\tvis[b[i]]=a[i];\n\t\t\tif(a[i]!=b[i]) kw[++tot]=a[i];\n\t\t\tcontinue;\n\t\t}\n\t\tif((vis[a[i]]!=b[i]||vis[b[i]]!=a[i])){\n\t\t\tcout<<\"-1\";\n\t\t\treturn 0;\n\t\t}\n\t}\n\tcout<<tot<<endl;\n\tfor(int i=1;i<=tot;i++){\n\t\tchar x,y;\n\t\tx=kw[i];\n\t\ty=vis[x];   //\u8f93\u51fa\u65f6\u8981\u4eceint\u7c7b\u578b\u8f6c\u4e3achar\u3002\n\t\tcout<<x<<\" \"<<y<<endl;\n\t}\n\treturn 0;\n}\n```\n$\\texttt{286ms}$\uff0c\u8fd8\u633a\u5feb\u3002",
        "postTime": 1633842691,
        "uid": 477118,
        "name": "Noby_Gld",
        "ccfLevel": 0,
        "title": "CF748B Santa Claus and Keyboard Check"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9898\u7b80\u5355\u6a21\u62df\u9898\uff0c\u96be\u5ea6\u5927\u7ea6\u5728\u6a59\u3002\n#### \u9898\u610f\uff1a\n\u5c31\u662f\u95ee\u6709\u51e0\u7ec4\u5bf9\u5e94\u5173\u7cfb\uff0c\u5e76\u8f93\u51fa\u3002\n\n\u7ed9\u4e00\u7ec4\u4f8b\u5b50\uff1a```ab``` \u548c ```aa```\u3002\n\n\u5728\u8fd9\u7ec4\u4f8b\u5b50\u91cc\uff0ca \u5148\u548c a \u5bf9\u5e94\uff0c\u7136\u540e a \u53c8\u548c b \u5bf9\u5e94\uff0c\u8bf4\u660e\u5bf9\u5e94\u5173\u7cfb\u51fa\u9519\u4e86\uff0c\u6240\u4ee5\u7b54\u6848\u5e94\u8be5\u8f93\u51fa $-1$\u3002\n#### \u89e3\u9898\u601d\u8def\uff1a\n\u58f0\u660e\u4e00\u4e2a\u6570\u7ec4 ```check```\uff0c\u7528\u4e8e\u5efa\u7acb\u8d77 $s$ \u548c $t$ \u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u6328\u4e2a\u5224\u65ad\u5b57\u7b26\u5408\u4e0d\u5408\u89c4\uff08\u662f\u5426\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\u5b57\u7b26\u4e0e\u5176\u5bf9\u5e94\uff09\u3002\u82e5\u4e0d\u5408\u89c4\uff0c\u76f4\u63a5\u8f93\u51fa $-1$\uff1b\u82e5\u5408\u89c4\uff0c\u5c31\u626b\u63cf\u4e00\u4e0b\u6570\u7ec4\u7edf\u8ba1\u9700\u8981\u4ea4\u6362\u7684\u6b21\u6570\uff0c\u518d\u6253\u5370\u89e3\u51b3\u65b9\u6848\u3002\n\n\u8be6\u7ec6\u89e3\u91ca\u89c1\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nmap<char,int> check;//\u7528\u6765\u8bb0\u5f55\u4e24\u4e2a\u5b57\u7b26\u4ea4\u6362\u7684\u4fe1\u606f\nint main(){\n    string s,t;cin>>s>>t;\n    int len=s.size();\n    for(int i=0;i<len;i++){\n        if(!check[s[i]] or !check[t[i]]){//\u5982\u679c\u8fd9\u4e24\u4e2a\u5b57\u7b26\u8fd8\u6ca1\u6709\u88ab\u5bf9\u5e94\n            if(!check[s[i]] and !check[t[i]]){//\u5224\u65ad\u662f\u5426\u5df2\u7ecf\u6709\u4e00\u4e2a\u5b57\u7b26\u88ab\u5bf9\u5e94\n                check[s[i]]=t[i];//\u90fd\u6ca1\u88ab\u5bf9\u5e94\uff0c\u5c31\u8bb0\u5f55\u4e0b\u5bf9\u5e94\u5173\u7cfb \n                check[t[i]]=s[i];\n            }else{//\u5426\u5219\u8f93\u51fa-1 \n                cout<<-1<<endl;\n                return 0;\n            }\n        }else{\n            if(check[s[i]]!=t[i] or check[t[i]]!=s[i]){//\u4e24\u4e2a\u5b57\u7b26\u4e0d\u5339\u914d\u5c31\u8f93\u51fa-1\n                cout<<-1<<endl;\n                return 0;\n            }\n        }\t\n\t}\n    int ans=0;          \n    for(int i='a';i<='z';i++)\n        if(check[i]>i)ans++;//\u6309\u5b57\u5178\u5e8f\u904d\u5386\u4e00\u904d\uff0c\u67e5\u627eans\u4e2a\u6570 \n    cout<<ans<<endl;\n    for(int i='a';i<='z';i++)//\u6781\u5bcc\u7f8e\u611f\u5730\u6309\u5b57\u5178\u5e8f\u8f93\u51fa\u7b54\u6848 \n        if(check[i]>i)cout<<(char)i<<\" \"<<(char)check[i]<<endl;\n    return 0; \n}\n```\n",
        "postTime": 1675774471,
        "uid": 691532,
        "name": "Zaku",
        "ccfLevel": 0,
        "title": "CF748B Santa Claus and Keyboard Check \u9898\u89e3"
    },
    {
        "content": "\u8f6c\u6362\u4e00\u4e0b\u601d\u8def\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u4e24\u4e2a\u5b57\u6bcd\u4ea4\u6362\u4f4d\u7f6e\u770b\u4f5c\u5728\u5b83\u4eec\u4e2d\u95f4\u8fde\u4e86\u4e00\u6761\u65e0\u5411\u8fb9\uff0c\u90a3\u4e48\u6700\u540e\u5f97\u5230\u7684\u5c31\u662f\u82e5\u5e72\u4e2a\u8fde\u901a\u5757\u3002\n\n\u5982\u679c\u67d0\u4e2a\u8fde\u901a\u5757\u4e2d\u5143\u7d20\u4e2a\u6570\u5927\u4e8e $2$\uff0c\u610f\u5473\u7740\u81f3\u5c11\u6709\u4e00\u4e2a\u5b57\u6bcd\u5bf9\u5e94\u4e24\u4e2a\u53ca\u4ee5\u4e0a\u7684\u5b57\u6bcd\uff0c\u8fd9\u6837\u663e\u7136\u662f\u4e0d\u5408\u6cd5\u7684\uff0c\u8fb9\u505a\u8fb9\u5224\u5373\u53ef\u3002\n\n\u6700\u540e\u5728\u8f93\u51fa\u7684\u65f6\u5019\u628a\u81ea\u73af\u53bb\u6389\u5c31\u884c\u4e86\u3002\n\n\u6838\u5fc3\u4ee3\u7801\uff1a\n\n```cpp\nstring s,t;\nint len,siz;\nvector<pair<char,char> > ans;\nmap<char,char> a;//\u5b58\u5b57\u6bcd\u7684\u5bf9\u5e94\u5173\u7cfb\nsigned main()\n{\n\tcin>>s>>t;len=s.size();\n\tfor(ri int i=0;i<len;++i)\n\t{\n\t\tif(a[s[i]]&&a[s[i]]!=t[i]) return cout<<-1,0;\n\t\tif(a[t[i]]&&a[t[i]]!=s[i]) return cout<<-1,0;//\u4e00\u4e2a\u5b57\u6bcd\u5bf9\u5e94\u591a\u4e2a\u5b57\u6bcd\u65f6\u65e0\u89e3\n\t\tif(!a[s[i]]&&!a[t[i]]) ans.pb(mp(s[i],t[i])),a[s[i]]=t[i],a[t[i]]=s[i];\n\t}\n\tsiz=ans.size();\n\tfor(ri int i=0;i<ans.size();++i)\n\t\tif(ans[i].fir==ans[i].sec) --siz;//\u53bb\u9664\u81ea\u73af\n\tcout<<siz<<endl;\n\tfor(ri int i=0;i<ans.size();++i)\n\t\tif(ans[i].fir!=ans[i].sec) cout<<ans[i].fir<<\" \"<<ans[i].sec<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1628403051,
        "uid": 329672,
        "name": "Ninelife_Cat",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF748B \u3010Santa Claus and Keyboard Check\u3011"
    }
]