[
    {
        "content": "\u8bbe $V$ \u4e3a\u503c\u57df\uff0c\u672c\u9898\u4e2d $V=10^9$\u3002\n\n\u53ea\u7528\u8003\u8651\u6700\u7ec8\u627e\u5230\u7684 $x$ \u4e3a\u8d28\u6570\u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u82e5 $x$ \u5408\u6cd5\uff0c\u90a3\u4e48 $x$ \u7684\u6240\u6709\u56e0\u6570\u90fd\u5408\u6cd5\u3002\n\n1. \u5f53 $x\\le\\sqrt{V}$ \u65f6\uff0c\u8fd9\u6837\u7684 $x$ \u5927\u6982\u53ea\u6709 $3000$ \u591a\u4e2a\uff0c\u53ef\u4ee5\u76f4\u63a5\u679a\u4e3e\u6bcf\u4e2a $x$\uff0c\u518d\u679a\u4e3e\u6bcf\u4e2a $a_i$\uff0c\u82e5\u5b58\u5728 $\\ge2$ \u4e2a $a_i$ \u662f $x$ \u7684\u500d\u6570\uff0c\u5219 $x$ \u5408\u6cd5\u3002\n\n2. \u5f53 $x>\\sqrt{V}$ \u65f6\uff0c\u7531\u4e8e $x$ \u4e00\u5b9a\u662f\u67d0\u4e2a $a_i$ \u7684\u56e0\u6570\uff0c\u800c\u6bcf\u4e2a $a_i$ \u6700\u591a\u53ea\u6709\u4e00\u4e2a $>\\sqrt{V}$ \u7684\u8d28\u56e0\u6570\uff0c\u82e5\u5b58\u5728 $\\ge2$ \u4e2a $a_i$ \u7684 $>\\sqrt{V}$ \u7684\u8d28\u56e0\u6570\u76f8\u540c\uff0c\u90a3\u4e48\u8fd9\u4e2a\u56e0\u6570\u5c31\u662f\u4e00\u4e2a\u5408\u6cd5\u7684 $x$\u3002\n\n```cpp\nconst int N=1e5+10,M=3.5e4+10;\nint n,a[N],isp[M],pri[M],cnt,ans,num[M]; map<int,int> mp;\n\ninline void preworks(){\n    for(int i=2;i<M;++i){\n        if(!isp[i]) pri[++cnt]=i;\n        for(int j=1;j<=cnt&&i*pri[j]<M;++j){\n            isp[i*pri[j]]=1;\n            if(!(i%pri[j])) break;\n        }\n    }\n}\n\nsigned main(){\n    preworks();\n    for(int T=read();T;--T){\n        n=read(),mp.clear(),ans=0;\n        for(int i=1;i<=n;++i) a[i]=read();\n        for(int i=1;i<=n;++i){\n            for(int j=1;j<=cnt&&pri[j]<=a[i];++j) // \u5904\u7406 <=sqrt(V) \u7684\u56e0\u6570\u3002\n                if(!(a[i]%pri[j])){\n                    ++num[j];\n                    while(!(a[i]%pri[j])) a[i]/=pri[j];\n                }\n            if(a[i]>1){\n                // \u5269\u4e0b\u7684\u5c31\u662f\u90a3\u4e2a\u5927\u4e8e sqrt(V) \u7684\u56e0\u6570\u3002\n                if(mp[a[i]]){ans=1;break;} mp[a[i]]=1;\n            }\n        }\n        for(int i=1;i<=cnt;++i) ans|=(num[i]>=2),num[i]=0;\n        puts(ans?\"YES\":\"NO\");\n    }\n    return 0;\n}\n```",
        "postTime": 1670849592,
        "uid": 336653,
        "name": "include_BM",
        "ccfLevel": 0,
        "title": "CF1771C Hossam and Trainees"
    },
    {
        "content": "\u6709\u4e00\u4e2a\u5f88\u663e\u7136\u7684\u505a\u6cd5\uff1a\u66b4\u529b\u5206\u89e3\u8d28\u56e0\u6570\uff0c\u7136\u540e\u7edf\u8ba1\u662f\u5426\u6709\u4e00\u4e2a\u5927\u4e8e $ 1 $ \u7684\u6570\u51fa\u73b0\u8d85\u8fc7\u4e00\u6b21\u3002\n\n\u4f46\u662f\u66b4\u529b\u5206\u89e3\u8d28\u56e0\u6570\u7684\u590d\u6742\u5ea6\u6709\u4e9b\u7384\u5b66\uff0c\u4e0d\u4e00\u5b9a\u4fdd\u8bc1\u80fd\u8dd1\u8fc7\uff0c\u4e8e\u662f\u8003\u8651\u7528 Pollard-rho \u5206\u89e3\u8d28\u56e0\u6570\uff0c\u4e8e\u662f\u505a\u5230\u4e86 $ \\mathcal{O}(n^{\\frac{1}{4}}) $ \u7684\u590d\u6742\u5ea6\u5185\u5206\u89e3\u8d28\u56e0\u6570\u3002\n\n\u603b\u65f6\u95f4\u590d\u6742\u5ea6 $ \\mathcal{O}(n \\times \\max{a_i}^{\\frac{1}{4}}) $\uff0c\u5b9e\u9645\u6d4b\u8bd5\u6700\u6162\u7684\u70b9\u8dd1\u5230\u4e86 1.45s \u4ee5\u4e0a\uff0c\u4e0d\u8fc7\u53ef\u4ee5\u901a\u8fc7\u3002\n\n\u542c\u8bf4\u66b4\u529b\u5206\u89e3\u4e5f\u80fd\u8fc7\uff0c\u4e0d\u8fc7\u590d\u6742\u5ea6\u52a3\u4e00\u4e9b\uff0c\u4f46\u56e0\u4e3a MR \u5e38\u6570\u8f83\u5927\u6240\u4ee5\u5dee\u8ddd\u4e0d\u662f\u5f88\u5927\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define gc c=getchar()\n#define r(x) read(x)\n#define ll long long\n#define int long long\ntemplate<typename T>\ninline void read(T&x)\n{\n    x=0;T k=1;char gc;\n    while(!isdigit(c)){if(c=='-')k=-1;gc;}\n    while(isdigit(c)){x=x*10+c-'0';gc;}x*=k;\n}\n#define li inline\n#define re register\ninline int add(int a,int b,int p)\n{\n\ta+=b;\n\tif(a>=p)\n    a-=p;\n\treturn a;\n}\ninline int mul(int a,int b,int mod)\n{\nreturn a*b%mod;\n}\nll pow(ll a, ll b, ll m) \n{\n  ll ans = 1;\n  for (a %= m; b; b >>= 1, a = mul(a, a, m))\n    if (b & 1) \n    ans = mul(ans, a, m);\n  return ans;\n}\nll gcd(ll a,ll b)\n{\n\treturn b?gcd(b,a%b):a;\n}\nll lcm(ll a,ll b)\n{\n\treturn a/gcd(a,b)*b;\n}\nbool MR_check(ll a, ll p, ll s, int d) \n{\n  ll k = pow(a, s, p);\n  if (k == 1) return true;\n  for (; d; --d, k = mul(k, k, p)) \n  {\n    if (k == p - 1) \n    return true;\n    if (k == 1) \n    return false;\n  }\n  return k == 1;\n}\nbool MR(ll x) \n{\n  static const int cnt = 12;\n  static const int p[cnt] = { 2, 3, 5, 7, 11, 13, 17, 19, 61, 2333, 4567, 24251 };\n  if (x == 1) \n  return false;\n  ll s = x - 1; \n  int d = 0;\n  while (!(s & 1)) \n  ++d, s >>= 1;\n  for (int i = 0; i < cnt; ++i) \n  {\n    if (x % p[i] == 0) \n    return x == p[i];\n    if (!MR_check(p[i], x, s, d)) \n    return false;\n  }\n  return true;\n}\nnamespace Pollard_Rho \n{\nll PR_check(ll c, ll p) \n{\n  ll y = rand() % p, z = y;\n  int k = 1, j = 0;\n  while(1145141919810) \n  {\n    z = (mul(z, z, p) + c) % p;\n    ll t = gcd(p, std::abs(z - y));\n    if (t > 1) \n    return t;\n    if (++j == k) \n    y = z, k <<= 1;\n  }\n}\nvoid factor_(ll x, std::vector<ll> &v) \n{\n  if (x == 1) return;\n  if (MR(x)) { v.push_back(x); return; }\n  ll y = x;\n  while (y == x) y = PR_check(rand() % x, x);\n  factor_(y, v);\n  factor_(x / y, v);\n}\nvoid factor(ll x, std::vector<ll> &v) \n{\n  v.clear();\n  factor_(x, v);\n  std::sort(v.begin(), v.end());\n  v.erase(std::unique(v.begin(), v.end()), v.end());\n}\n}\nusing Pollard_Rho::factor;\nunordered_map<int,int>p;\nsigned main()\n{\n    int T;\n    for(r(T);T;--T)\n    {\n    \tint n;\n        r(n);\n        p.clear();\n    \tfor(int i=1;i<=n;i++)\n        {\n        int x;\n        r(x);\n        vector<int>d;\n        factor(x,d);\n        for(auto x:d)\n        p[x]++;\n        }\n        bool ok=1;\n        for(auto x:p)\n        if(x.second>1)\n        {\n        ok=0;\n        cout<<\"YES\\n\";\n        break;\n        }\n        if(ok)\n        cout<<\"NO\\n\";\n    }\n}\n```\n",
        "postTime": 1670816794,
        "uid": 714821,
        "name": "loser_seele",
        "ccfLevel": 4,
        "title": "CF1771C\u9898\u89e3"
    },
    {
        "content": "# \u9898\u9762\u7ffb\u8bd1\n\u95ee\u662f\u5426\u5b58\u5728\u4e24\u4e2a\u6570\u4e0d\u4e92\u8d28\u3002\n# \u89e3\u6cd5\n\u5bf9\u6bcf\u4e2a\u6570\u8fdb\u884c\u4e00\u4e2a\u8d28\u56e0\u6570\u5206\u89e3\uff0c\u5982\u679c\u5206\u89e3\u7684\u56e0\u6570\u4e0e\u4e4b\u524d\u7684\u51b2\u7a81\uff0c\u90a3\u4e48\u5c31\u5b58\u5728\u4e24\u4e2a\u6570\u4e0d\u4e92\u8d28\u3002\u53cd\u4e4b\uff0c\u5219\u4e0d\u5b58\u5728\u3002  \n\u7ef4\u62a4\u51b2\u7a81\u7528 map \u5c31\u53ef\u4ee5\u5f88\u597d\u7684\u5b9e\u73b0\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long \n#define ull unsigned ll\n#define int ll\n#define ls p<<1\n#define rs p<<1|1\n#define lowbit(x) ((x)&(-x))\nconst int MaxN=1e6+100;\nconst int INF=1e9;\nint N,M,T,a[MaxN],pd,q[MaxN],top;\nmap<int,int>mp;\ntemplate<class T>\ninline void qread(T &sum)\n{\n    sum=0;int boo=1;\n    char x=getchar();\n    while(x<'0'||x>'9'){if(x=='-')boo=-1;x=getchar();}\n    while(x>='0'&&x<='9'){sum=(sum<<1)+(sum<<3)+x-'0';x=getchar();}\n    sum*=boo;\n}\ntemplate<class T>\nvoid qput(T x)\n{\n    if(x<0) {x=-x;putchar('-');}\n    if(x>9){qput(x/10);}\n    putchar(x%10+48);\n}\ninline ll mul(ll a,ll b,ll p)//\u5feb\u901f\u4e58\n{\n    ll x=(long double)a/p*b;\n    return ((ull)a*b-(ull)x*p+p)%p;\n}\ninline ll ksm(ll x,ll y,ll p)\n{\n    ll res=1;\n    while(y)\n    {\n        if(y&1) res=mul(res,x,p);\n        x=mul(x,x,p);\n        y>>=1;\n    }\n    return res;\n}\nll gcd(ll x,ll y)\n{\n    if(y==0) return x;\n    return gcd(y,x%y);\n}\ninline bool check(ll x)\n{\n    if(x==0||x==1) return 0;\n    if(x==2) return 1;\n    if(x%2==0) return 0;\n    ll p=x-1,q=0;\n    while(p%2==0) q++,p/=2;\n    for(int i=1;i<=10;i++)\n    {\n        int a=rand()%(x-1)+1;\n        ll v=ksm(a,p,x);\n        if(v==1) continue;\n        int j;\n        for(j=1;j<=q;j++)\n        {\n            if(v==x-1) break;\n            v=mul(v,v,x);\n        }\n        if(j>q) return 0;\n    }\n    return 1;\n\n}\ninline ll f(ll x,ll c,ll p)\n{\n    return (mul(x,x,p)+c)%p;\n}\ninline ll PR(ll n)\n{\n    if(n==4) return 2;\n    ll x=rand()%(n-1)+1,y=x,c=rand()%(n-1)+1;\n    x=f(x,c,n),y=f(f(y,c,n),c,n);\n    for(int i=1;x!=y;i=min(i<< 1,128ll))\n    {   \n        ll cnt = 1;\n        for(int j = 0 ; j <i; j ++) \n        {\n            cnt =mul(cnt,abs(x - y),n);\n            if(!cnt) break;\n            x = f(x , c , n) , y = f(f(y , c , n) , c , n);\n        }\n        ll d = gcd(cnt , n);\n        if(d != 1) return d;\n    }\n    return n;\n}\nvoid dfs(ll n)\n{\n    ll d=PR(n);\n    while(d==n) \n    d=PR(n);\n    ll d2=n/d;\n    if(check(d))\n\t{\n\t\tq[++top]=d;\n\t}\n    else dfs(d);\n    if(check(d2))\n\t{\n\t\tq[++top]=d2;\n\t}\n    else dfs(d2);\n}\ninline void Solve()\n{\n\tmp.clear();\n\tqread(N);pd=0;\n\tfor(int i=1;i<=N;i++)\n\t{\n\t\tqread(a[i]);\n\t\tif(pd==1||a[i]==1)\tcontinue;\n\t\tif(check(a[i]))\n\t\t{\n\t\t\tif(mp[a[i]])\n\t\t\tpd=1;\n\t\t\telse\n\t\t\tmp[a[i]]++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttop=0;\n\t\t\tdfs(a[i]);\n\t\t\tfor(int j=1;j<=top;j++)\n\t\t\t{\n\t\t\t\tif(mp[q[j]])\n\t\t\t\tpd=1;\n\t\t\t}\n\t\t\tfor(int j=1;j<=top;j++)\n\t\t\t{\n\t\t\t\tmp[q[j]]++;\n\t\t\t}\n\t\t}\n\t}\n\tif(pd==1)\n\tprintf(\"YES\\n\");\n\telse\n\tprintf(\"NO\\n\");\n}\nsigned main()\n{\n\tqread(T);\n\twhile(T--) Solve();\n}\n```",
        "postTime": 1670816227,
        "uid": 300531,
        "name": "EBeason",
        "ccfLevel": 0,
        "title": "CF1771C"
    },
    {
        "content": "\u9898\u610f\uff1a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217 $a_i$\uff0c\u95ee\u662f\u5426\u6ee1\u8db3\u4efb\u610f\u4e24\u4e2a\u6570\u90fd\u4e92\u8d28\uff0c$n\\le10^5$\uff0c$1\\le a_i\\le10^9$\u3002\n\n\u63d0\u524d\u7b5b\u51fa $\\le\\sqrt{10^9}$ \u7684\u6240\u6709\u8d28\u6570\uff0c\u5bf9\u4e8e\u8fd9\u4e9b\u8d28\u6570\u9010\u4e2a\u5224\u65ad\u5728\u54ea\u4e9b\u6570\u4e2d\u51fa\u73b0\u8fc7\uff0c\u628a\u8fd9\u4e9b\u8d28\u56e0\u5b50\u9664\u53bb\u540e\u5269\u4f59\u7684\u90e8\u5206\u4e00\u5b9a\u662f\u8d28\u6570\uff0c\u5bf9\u4e8e\u5269\u4e0b\u7684\u8fd9\u90e8\u5206\u76f4\u63a5\u6392\u5e8f\u540e\u770b\u662f\u5426\u5b58\u5728\u76f8\u90bb\u4e24\u4e2a\u76f8\u7b49\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define mem(x,y) memset(x,y,sizeof(x))\nusing namespace std;\nnamespace Std{\nvoid gi(int &x){\n\tx=0;\n\tint y=1;\n\tchar c=getchar();\n\twhile(c<'0'||c>'9'){\n\t\tif(c=='-')y=-1;\n\t\tc=getchar();\n\t}\n\twhile(c>='0'&&c<='9'){\n\t\tx=(x<<1)+(x<<3)+(c&15);\n\t\tc=getchar();\n\t}\n\tx*=y;\n}\nconst int N(31701);\nint T,n,pr[N],cnt,a[100010];\nbool np[N];\nvoid main(){\n\tgi(T);\n\tfor(int i(2);i<N;++i){\n\t\tif(!np[i])pr[++cnt]=i;\n\t\tfor(int j(1);j<=cnt&&i*pr[j]<N;++j){\n\t\t\tnp[i*pr[j]]=true;\n\t\t\tif(!(i%pr[j]))break;\n\t\t}\n\t}\n\tbool mark[cnt+10];\n\twhile(T--){\n\t\tgi(n);\n\t\tmem(mark,0);\n\t\tfor(int i(1);i<=n;++i){\n\t\t\tgi(a[i]);\n\t\t}\n\t\tbool ok(false);\n\t\tfor(int i(1);i<=n;++i){\n\t\t\tbool yes(false);\n\t\t\tfor(int j(1);j<=cnt;++j){\n\t\t\t\tif(!(a[i]%pr[j])){\n\t\t\t\t\tif(mark[j]){\n\t\t\t\t\t\tyes=true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tmark[j]=true;\n\t\t\t\t\twhile(!(a[i]%pr[j]))a[i]/=pr[j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(yes){\n\t\t\t\tputs(\"YES\");\n\t\t\t\tok=true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(ok)continue;\n\t\tsort(a+1,a+1+n);\n\t\tfor(int i(1);i<=n;++i){\n\t\t\tif(a[i]!=1){\n\t\t\t\tfor(int j(i+1);j<=n;++j){\n\t\t\t\t\tif(a[j]==a[j-1]){\n\t\t\t\t\t\tok=true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(!ok)puts(\"NO\");\n\t\telse puts(\"YES\");\n\t}\n}\n}  // namespace Std\n#undef int\nint main(){\n\tStd::main();\n\treturn 0;\n}\n```\n",
        "postTime": 1670818565,
        "uid": 576737,
        "name": "Wilson_Inversion",
        "ccfLevel": 7,
        "title": "CF1771C Hossam and Trainees \u9898\u89e3"
    },
    {
        "content": "# \u9898\u610f\uff1a\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u6570\u5217 $arr$\uff0c\u8be2\u95ee\u8be5\u5e8f\u5217\u662f\u5426\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff1a\n\n$\\exists\\ x \\in \\mathbb{N^+}, i, j\\in[1, n], x|arr_i, x|arr_j $\n\n# Solution:\n\n\u6211\u4eec\u53d1\u73b0 $arr_i$ \u7684\u503c\u57df\u4e3a $10^9$\uff0c$\\sqrt{10^9}=3.16 \\times 10^4$\uff0c\u4e14\u6211\u4eec\u77e5\u9053\u4e00\u4e2a\u6570 $x$ \u6700\u591a\u6709 $1$ \u4e2a\u5927\u4e8e $\\sqrt{x}$ \u7684\u8d28\u56e0\u5b50\uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651\u679a\u4e3e\u8d28\u6570\u3002\n\n\u4f7f\u7528\u4e00\u4e2a `std::map<int, int>`\uff0c\u8fd9\u4e2a std::map \u7684 Key \u4f5c\u4e3a\u8d28\u6570\uff0cValue \u4f5c\u4e3a\u8fd9\u4e2a\u8d28\u6570\u7684\u51fa\u73b0\u5e8f\u5217\u4e2d\u7684\u6b21\u6570\uff08\u7a0d\u540e\u89e3\u91ca\uff09\uff0c\u5faa\u73af\u904d\u5386 $arr$ \u6570\u7ec4\uff0c\u5982\u679c $arr_i$ \u7684\u8d28\u56e0\u5b50\u4e2d\u542b\u6709 $p_i$\uff08\u7b2c $i$ \u4e2a\u8d28\u6570\uff09\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u7ed9 $p_i$ \u7684\u51fa\u73b0\u6b21\u6570 $+1$\uff0c\u6700\u540e\u5faa\u73af\u904d\u5386 std::map\uff0c\u770b\u770b\u6709\u6ca1\u6709\u51fa\u73b0\u6b21\u6570 $>1$ \u7684\u8d28\u6570\uff0c\u5982\u679c\u6709\uff0c\u6211\u4eec\u8f93\u51fa `YES`\uff0c\u5426\u5219\u6211\u4eec\u8f93\u51fa `NO`\u3002\n\n\u5bf9\u4e8e\u8d28\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7ebf\u6027\u7b5b\uff0c\u53ef\u4ee5\u7528\u66b4\u529b\u8ba1\u7b97 $3.16\\times10^4$ \u4e2d\u7684\u8d28\u6570\u53ea\u6709 $3000$ \u5de6\u53f3\uff0c\u5b8c\u5168\u53ef\u4ee5\u4fdd\u8bc1\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u6240\u4ee5\u8be5\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $\\Theta(n\\sqrt{U})$\uff0c\u5176\u4e2d $U$ \u8868\u793a $arr_i$ \u7684\u503c\u57df\u3002\n\n# CODE:\n\n```cpp\n#include<iostream>\n#include<map>\n#include<cmath>\nstd::map<int, int> dict;\nconst int sz = 1e5 + 10;\nbool numlist[sz];\nint prime[sz], cnt;\nvoid get(int n) {\n    for (int i = 2; i <= n; i++) {\n        if (!numlist[i])\n            prime[++cnt] = i;\n        for (int j = 1; j <= cnt && i * prime[j] <= n; j++) {\n            numlist[i * prime[j]] = true;\n            if (i % prime[j] == 0)\n                break;\n        }\n    }\n} // \u7ebf\u6027\u7b5b\u51fd\u6570\nint main() {\n    std::ios::sync_with_stdio(false);\n    int t;\n    std::cin >> t;\n    get(static_cast<int>(std::sqrt(1e9)));\n    while (t--) {\n        dict.clear();\n        int n;\n        std::cin >> n;\n        while (n--) {\n            int x;\n            std::cin >> x;\n            for (int i = 1; i <= cnt; i++) {\n                if (x % prime[i] == 0) dict[prime[i]]++;\n                while (x % prime[i] == 0) x /= prime[i];\n            }\n            if (x > 1) dict[x]++;\n        }\n        bool flag = false;\n        for (auto i: dict) {\n            if (i.second > 1) {\n                std::cout << \"YES\\n\";\n                flag = true;\n                break;\n            }\n        }\n        if (!flag) std::cout << \"NO\\n\";\n    }\n    return 0;\n}\n```",
        "postTime": 1670804994,
        "uid": 610557,
        "name": "shinzanmono",
        "ccfLevel": 0,
        "title": "\u9898\u89e3"
    }
]