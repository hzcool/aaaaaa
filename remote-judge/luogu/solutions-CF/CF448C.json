[
    {
        "content": "\u8bdd\u8bf4\u8fd9\u662f NOIP2018T1\u2026\u2026\n\n\u8fd9\u9053\u9898\u80af\u5b9a\u662f\u8d2a\u5fc3\u5440\uff0c\u6bcf\u6b21\u5728\u533a\u95f4\u5185\u9009\u62e9\u6700\u5c0f\u70b9\uff0c\u6574\u4e2a\u533a\u95f4\u90fd\u51cf\u4e00\u4e0b\u8fd9\u4e2a\u503c\uff0c\u5206\u6210\u82e5\u5e72\u4e2a\u5b50\u533a\u95f4\u8fdb\u884c\u5904\u7406\u3002\n\n\u4f46\u662f\uff0c\u8fd9\u9053\u9898\u8bf4\u53ef\u4ee5\u7ad6\u7740\u5237\uff0c\u6240\u4ee5\u6bcf\u6b21\u6a2a\u7740\u6d82\u548c\u7ad6\u7740\u6d82\u9700\u8981\u6bd4\u8f83\uff01\u5426\u5219\u4f1a WA \u7684\uff01\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\nusing namespace std;\nint a[100005];\nint go(int l,int r)\n{\n\tif(l<1||r<1)return 0;\n\tif(l>r)return 0;\n\tif(l==r)return min(a[l],1);\n\tint m=1111111111,w=0;\n\tfor(int i=l;i<=r;i++)\n\t\tif(a[i]<m)\n\t\t{\n\t\t\tm=a[i];\n\t\t\tw=i;\n\t\t}\n\tint j=a[w];\n\tfor(int i=l;i<=r;i++)\n\t\ta[i]-=j;\n\tint lf=go(l,w-1);\n\tint rg=go(w+1,r);\n\treturn min(j+lf+rg,r-l+1);\n}\nint main()\n{\n\tint n;\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%d\",&a[i]);\n\tint ans=min(n,go(1,n));\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1583978133,
        "uid": 107484,
        "name": "wmy_goes_to_thu",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF448C \u3010Painting Fence\u3011"
    },
    {
        "content": "\u770b\u5230\u8fd9\u9898\u6ca1\u4eba\u53d1\u9898\u89e3\u6211\u5c31\u53d1\u4e00\u7bc7\u5427\u3002\u4e3b\u8981\u7b97\u6cd5\u5c31\u662f\u5206\u6cbb\uff0c\u5e26\u4e00\u70b9\u8d2a\u5fc3\u7684\u601d\u60f3\uff1b\n\n\u9996\u5148\u5982\u679c\u8981\u6a2a\u7740\u6d82\uff0c\u90a3\u4e48\u8be5\u884c\u4e0b\u9762\u90fd\u4e00\u5b9a\u662f\u6a2a\u7740\u6d82\u7684\uff0c\u5426\u5219\u8be5\u884c\u5728\u7ad6\u7740\u6d82\u65f6\u6709\u66f4\u4f18\u89e3\uff1b\u5176\u6b21\uff0c\u6bcf\u4e00\u6b21\u6d82\u90fd\u4e00\u5b9a\u6d82\u5230\u5f53\u524d\u80fd\u6d82\u7684\u6700\u5927\u957f\u5ea6\u3002\n\n\u5f53\u7136\uff0c\u5982\u679c\u8fd9\u6837\u8d2a\u5fc3\u7684\u8bdd\u53ea\u670970\u5206\u5de6\u53f3\u3002\u6709\u7684\u65f6\u5019\u6a2a\u7740\u6d82\u4e0d\u4e00\u5b9a\u662f\u6700\u4f18\u89e3\uff0c\u56e0\u4e3a\u6a2a\u7740\u6d82\u7684\u8bdd\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e9b\u4e0d\u8fde\u901a\u7684\u5c0f\u5757\uff0c\u4f7f\u6211\u4eec\u8981\u6d6a\u8d39\u5f88\u591a\u6b65\u6570\uff0c\u6b64\u65f6\u7ad6\u7740\u6d82\u53ef\u80fd\u66f4\u4f18\uff0c\u56e0\u6b64\u5728\u5206\u6cbb\u8fd4\u56de\u503c\u65f6\u8981\u5728\u4e24\u8005\u4e2d\u53d6\u6700\u5c0f\u503c\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u5269\u4e0b\u6765\u7684\u5c0f\u5757\uff0c\u518d\u6309\u540c\u6837\u7684\u7b56\u7565\u5206\u6cbb\uff0c\u8fb9\u754c\u6761\u4ef6\u5219\u662f\u5f53l==r\u65f6return 1\u3002\u590d\u6742\u5ea6\u5927\u6982\u4e3aO(n^2)\n\n\u4ee5\u4e0b\u653e\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#define FOR(i,a,b) for(register int i=a;i<=b;i++)\n#define ROF(i,a,b) for(register int i=a;i>=b;i--)\nusing namespace std;\nconst int N=5010;\ntypedef long long int ll;\nconst ll INF=0x7fffffffff;///\u6ce8\u610f\uff0c\u6b64\u5904INF\u503c\u4e00\u5b9a\u8981\u6781\u5927\nll h[N],n;//\u5e76\u4e14\u53d8\u91cf\u5f00longlong\uff0c\u5426\u5219\u4f1aRE\ninline ll read()\n{\n\tll x=0,t=1;char ch=getchar();\n\twhile((ch<'0' || ch>'9') && ch!='-')ch=getchar();\n\tif(ch=='-')t=-1,ch=getchar();\n\twhile(ch>='0' && ch<='9')x=(x<<3)+(x<<1)+(ch^48),ch=getchar();\n\treturn x*t;\n}//\u5982\u679c\u8981\u6253\u5feb\u8bfb\uff0c\u8bb0\u5f97\u5f00longlong\u51fd\u6570\u3002\u3002\u60e8\u75db\u7684\u6559\u8bad\u3002\nll slove(int l,int r,ll hi)//l\u4e3a\u5de6\u8fb9\u754c\uff0cr\u4e3a\u53f3\u8fb9\u754c\uff0chi\u4e3a\u5df2\u7ecf\u6d82\u6389\u7684\u9ad8\u5ea6\n{\n\tll minh=INF;\n\tFOR(i,l,r)minh=min(minh,h[i]);//\u5f53\u524d\u533a\u95f4\u6700\u4f4e\u9ad8\u5ea6\n\tif(l==r)return 1;//\u8fb9\u754c\u6761\u4ef6\n\tll ans=minh-hi;//\u5982\u679c\u5168\u90e8\u6a2a\u7740\u6d82\n\tint j;//j\u5728\u5faa\u73af\u5916\u9762\u5b9a\u4e49\uff0c\u56e0\u4e3a\u8df3\u51fa\u5faa\u73af\u540e\u8fd8\u8981\u8c03\u7528\u5b83\u8fdb\u884c\u5206\u6cbb\n\tFOR(i,l,r)//\u6a2a\u7740\u6d82\u65f6\u8981\u52a0\u4e0a\u88ab\u5206\u79bb\u7684\u5c0f\u533a\u95f4\n\t{\n\t\tif(h[i]==minh)continue;//\u5982\u679c\u8be5\u70b9\u6ca1\u6709\u9732\u51fa\u90e8\u5206\u5219\u8df3\u8fc7\n                                //\u4ee5\u6b64\u786e\u5b9a\u9732\u51fa\u90e8\u5206\u5de6\u8fb9\u754c\n\t\tfor(j=i;j<=r;j++)\n        if(h[j+1]==minh || j==r)break;//\u5f53\u53f3\u8fb9\u6ca1\u6709\u9732\u51fa\u6216\u5df2\u5230\u53f3\u8fb9\u754c\u8df3\u51fa\u5faa\u73af\uff0c\u786e\u5b9a\u6709\u8fb9\u754c\n\t\tans+=slove(i,j,minh);//\u52a0\u4e0a\u5207\u9732\u51fa\u90e8\u5206\u7684\u8d39\u7528\n\t\ti=j+1;//i\u4ece\u4e4b\u524d\u7684\u53f3\u8fb9\u754c\u5f00\u59cb\uff0c\u867d\u7136\u4e24\u5c42\u5faa\u73af\u590d\u6742\u5ea6\u5b9e\u9645\u53ea\u6709O\uff08n\uff09\n\t}\n\treturn min(ans,ll(r-l+1));//\u6a2a\u7740\u6d82\u4e0e\u7ad6\u7740\u6d82\u53d6\u6700\u5c0f\u503c\n}\nint main()\n{\n\tn=read();\n\tFOR(i,1,n)h[i]=read();\n\tcout<<slove(1,n,0)<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1540027922,
        "uid": 108254,
        "name": "colemak",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF448C \u3010Painting Fence\u3011"
    },
    {
        "content": "\u8fd9\u9898\u88ab\u9009\u505a\u6a21\u62df\u8d5b\u7684\u7b2c\u4e8c\u9898\n\n\u8054\u60f3\u5230\u79ef\u6728\u5927\u8d5b + \u770b\u5230AC\u4eba\u58eb\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a0ms\n\n\u6253\u6bd4\u8d5b\u65f6\u4e00\u76f4\u5728\u60f3O(n)\u7b97\u6cd5\n\n\u8bb2\u8bc4\u7adf\u7136\u662f\u9012\u5f52+\u5206\u6cbb ~~\u6655~~\n\n\u5148\u770b\u9898\u76ee\u5427\n\n\u5728\u82e5\u5e72\u6b21\u6a2a\u5237\u540e \u6709\u4e9b\u6805\u680f\u5269\u4f59\u5237\u7684\u6b21\u6570\u4f1a\u4e3a0 \n\n0 \u76f8\u5f53\u4e8e\u4e00\u4e2a\u95f4\u9694 \u628a\u539f\u6765\u7684\u533a\u95f4\u5206\u6210\u82e5\u5e72\u4e2a\u533a\u95f4\n\n\u8fd9\u6837\u5206\u6790\u540e \u770b\u4ee3\u7801\u4f1a\u597d\u7406\u89e3\u4e00\u70b9\n\n\u6ce8\u91ca\u6bd4\u8f83\u8be6\u5c3d\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint a[5005],n;\ninline int min(int A,int B)\n{\n\tif(A>=B) return B;\n\treturn A; \n}\nint dfs(int L,int R)\n{\n\tif(L>R) return 0;\n\t//\u533a\u95f4\u5927\u5c0f<1 \u4e0d\u9700\u8981\u4efb\u4f55\u64cd\u4f5c \n\tif(L==R) return min(1,a[L]); \n\t//\u8fd9\u91cc \u8981\u4e481\u6b21\u5237\u5b8c \u8981\u4e48\u5b83\u5269\u4f59\u5237\u7684\u6b21\u6570\u4e3a0 \u4e0d\u8981\u5237\u7684 \n\tint tot=0,las=L-1,les=a[L]; \n\t// las\u8868\u793a\u4e0a\u4e00\u6b210\u7684\u4f4d\u7f6e \n\t// les\u662f\u533a\u95f4\u7684\u6700\u5c0f\u503c \n\t// tot\u8868\u793a L ~ R \u5237\u5b8c\u8981\u7684\u6700\u5c11\u6267\u884c\u6b21\u6570 \n\tfor(int i=L+1;i<=R;i++) les=min(les,a[i]);\n\t //\u8981\u5237\u5c31\u8981\u5c3d\u91cf\u7684\u5237  \n\tfor(int i=L;i<=R;i++)\n\t{\n\t\ta[i]-=les;\n\t\t//\u5237\u6389 \n\t\tif(!a[i])\n\t\t  tot+=dfs(las+1,i-1),las=i; \n\t\t//\u5982\u679ca[i]\u4e3a\u96f6  \u4e0a\u4e00\u6b21\u4e3a\u96f6\u7684\u4f4d\u7f6e+1 \u8fd9\u6b21\u4e3a\u96f6\u7684\u4f4d\u7f6e-1\n\t\t//\u522b\u5fd8\u8bb0\u66f4\u65b0las\u7684\u503c \n\t} tot+=dfs(las+1,R); \n\t//\u624b\u52a8\u6267\u884c\u4e00\u904d\u4f1a\u53d1\u73b0 las+1 ~ R \u7684\u533a\u95f4\u5c1a\u672a\u6267\u884c\n\t//\u5f88\u597d\u7406\u89e3  \u51fd\u6570\u53ea\u4f1a\u5728\u53d1\u73b00\u624d\u4f1a\u9012\u5f52\n\treturn min(tot+les,R-L+1);\n\t// \u8fd8\u6709\u4e00\u79cd\u9009\u62e9 \u533a\u95f4\u5185\u6bcf\u4e2a\u6805\u680f\u90fd\u4e00\u4e2a\u4e2a\u5237\n\t// tot \u522b\u5fd8\u8bb0\u52a0\u4e0a\u6a2a\u7740\u5237\u7684\u6b21\u6570  \n}\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) cin>>a[i];\n\tcout<<dfs(1,n)<<endl;\n\treturn 0;\n}\n//\u5176\u4ed6\u7684\u4e0d\u89e3\u91ca \n```\n\n\n",
        "postTime": 1564318275,
        "uid": 100114,
        "name": "hater",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF448C \u3010Painting Fence\u3011"
    },
    {
        "content": "\u7b2c\u4e00\u773c\u770b\u6211\u5c31jio\u5f97\u8fd9\u9898\u548c[NOIP2018D1T1](https://www.luogu.org/problemnew/show/P5019)\u597d\u50cf\u7684\u5566\uff1f\n\n\u7136\u540e\u5c31\u76f4\u63a5\u6253\u4e86\u5dee\u4e0d\u591a\u7684\u8fc7\u4e86\u6837\u4f8b\uff0c\u540e\u6765\u641e\u4e86\u4e00\u4f1a\u513f\u5176\u4ed6\u51e0\u9053\u9898\u518d\u56de\u6765\u770b\uff0c\u53d1\u73b0\u597d\u50cf\u6ca1\u90a3\u4e48\u7b80\u5355\n\n\u2026\u2026\u4e8e\u662f\u6211\u7a81\u7136\u53d1\u73b0\u8fd9\u9898\u4f1a\u6709\u7ad6\u7740\u6d82\u7684\u60c5\u51b5\u554a\u2026\u2026\u7136\u540e\u5c31\u52a0\u4e86\u4e00\u4e2a\u6bd4\u8f83\uff0c\u518d\u7136\u540e\u2026\u2026\u5c31AC\u4e86\uff1fQWQ\n\n\u867d\u7136\u8bf4\u6b63\u89e3\u662f\u5206\u6cbb\u7b97\u6cd5\u2026\u2026\u6211\u4e5f\u4e0d\u77e5\u9053\u6211\u8fd9\u7b97\u4e0d\u7b97\u2026\u2026\u5c31\u5077\u61d2\u4e00\u4e0b\u76f4\u63a5\u653e\u4e00\u6ce2\u6211\u81ea\u5df1\u7684\u4ee3\u7801\u5427\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define go(i,a,b) for(register ll i=a;i<=b;i++)\nusing namespace std;\nconst ll N=5002;\nll n,h[N];\ninline ll fr(){\n\tll w=0,q=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){\n\t\tif(ch=='-') q=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t\tw=(w<<1)+(w<<3)+ch-'0',ch=getchar();\n\treturn w*q;\n}\ninline ll minn(ll l,ll r){//\u627e\u5230\u4e00\u6bb5\u8fde\u7eed\u7684\u6805\u680f\u4e2d\u7684\u6700\u5c0f\u9ad8\u5ea6\n\tll mi=1e9;\n\tgo(i,l,r)\n\t\tmi=min(h[i],mi);\n\treturn mi;\n}\ninline ll work(ll l,ll r){\n\t//cout<<l<<\" \"<<r<<\" ans=\"<<ans<<endl;\n\tif(r<l||(l==r&&h[l]==0)) return 0;\n\tif(l==r){//\u5982\u679c\u53ea\u5269\u4e0b\u4e00\u4e2a\u6805\u680f\u5219\u4e00\u6b21\u5c31\u53ef\u4ee5\u6d82\u5b8c(\u7ad6\u7740\u6d82)\n\t\th[l]=0;\n\t\treturn 1;\n\t}\n\tll mi=minn(l,r),num=l,ans=mi;//ans\u8bb0\u5f55\u5f53\u524d\u6240\u9700\u8981\u6d82\u7684\u6b21\u6570\n\tgo(i,l,r){\n\t\th[i]-=mi;//\u51cf\u53bb\u6d82\u4e86\u7684\u90e8\u5206\n\t\tif(h[i]==0){//\u5982\u679c\u8fd9\u4e2a\u6805\u680f\u6d82\u5b8c\u4e86\n\t\t\tans+=work(num,i-1);//\u90a3\u4e48\u5c31\u628a\u4e2d\u95f4\u4e00\u6bb5\u6805\u680f\u5355\u72ec\u62ff\u51fa\u6765\u6d82\n\t\t\tnum=i+1;//\u8bb0\u5f55\u65ad\u70b9\n\t\t}\n\t}\n\tans+=work(num,r);//\u6700\u540e\u53ef\u80fd\u8fd8\u6709\u4e00\u6bb5\u5269\u4f59\uff0c\u4e0d\u80fd\u5fd8\u4e86\n\tif(ans>r-l+1)//\u5982\u679c\u8fd9\u6837\u6a2a\u7740\u6d82\u6bd4\u7ad6\u7740\u6d82\u8981\u6b21\u6570\u591a\u5c31\u7ad6\u7740\u6d82\n\t\treturn r-l+1;\n\telse return ans;\n}\nint main(){\n\tfreopen(\"color.in\",\"r\",stdin);\n\tfreopen(\"color.out\",\"w\",stdout);\n\tn=fr();\n\tgo(i,1,n)\n\t\th[i]=fr();\n\tprintf(\"%lld\\n\",work(1,n));\n}\n\n```",
        "postTime": 1549782364,
        "uid": 104065,
        "name": "Tony_Peter",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF448C \u3010Painting Fence\u3011"
    },
    {
        "content": "###### \u8003\u8651\u6a2a\u7740\u6d82\u4e00\u6b21\u7684\u60c5\u51b5\uff0c\u90a3\u4e48\u6709\u4e24\u4e2a\u663e\u800c\u6613\u89c1\u7684\u4e8b\u5b9e\u3002\n###### \u8fd9\u6b21\u6d82\u8272\u957f\u5ea6\u5fc5\u987b\u5c3d\u53ef\u80fd\u5927\u3002\n###### \u5728\u8fd9\u6b21\u6d82\u8272\u533a\u57df\u7684\u4e0b\u65b9\uff0c\u5fc5\u5b9a\u90fd\u662f\u6a2a\u7740\u6d82\u7684\u3002\n\u6240\u4ee5\uff0c\u5bf9\u4e8e\u4e00\u4e32\u6805\u680fh_1,h_2,\u2026,h_n\uff0c\u5982\u679c\u8981\u6a2a\u7740\u6d82\uff0c\u5c31\u5fc5\u5b9a\u8981\u4ece\u5e95\u5411\u4e0a\u6d82min\u2061{h_1,h_2,\u2026,h_n}\u6b21\u3002\u8fd9\u6837\u4ee5\u540e\uff0c\nh_1,h_2,\u2026,h_n\u5c31\u4f1a\u5206\u6210\u82e5\u5e72\u4e0d\u8fde\u901a\u7684\u5b50\u5c40\u9762\u3002\n\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\nusing namespace std;\nint n;int h[5001];\nint solve(int l,int r,int lh)\n//\u4ee4Solve(l,r,h)\u4ee3\u8868[l,r]\u8fd9\u6bb5\u6805\u680f\uff0c\u5df2\u7ecf\u4ece\u4e0b\u5411\u4e0a\u6d82\u4e86h\u683c\u7684\u7b54\u6848\u3002\n//\u4ee4 h^'=min\u2061{h_1,h_2,\u2026,h_n}\n{\n\tif(l==r)return 1;//\u8fb9\u754c\u60c5\u51b5\uff1al=r \u65f6\uff0c\u7b54\u6848\u663e\u7136\u4e3a1\u3002\n\tif(l>r)return 0;\n\tint res=0,minh=1e9,la=l-1;\n\tfor(int i=l;i<=r;i++)\n\tminh=min(minh,h[i]);\n\tres=minh-lh;\n\tfor(int i=l;i<=r;i++)\n\tif(h[i]==minh)\n\tres+=solve(la+1,i-1,minh),la=i;\n\tres+=solve(la+1,r,minh);//\u5206\u6cbb\n\treturn min(res,r-l+1);\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)scanf(\"%d\",&h[i]);\n\tprintf(\"%d\",solve(1,n,0));\n}\n```",
        "postTime": 1549800491,
        "uid": 113695,
        "name": "\u767d\u6728\u5076\u541b",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF448C \u3010Painting Fence\u3011"
    },
    {
        "content": "\u770b\u4e86\u8fd9\u4e48\u591a\u9898\u89e3\uff0c\u90fd\u662f$O(n\u00b2)$\u7684\u590d\u6742\u5ea6\uff0c\u6211\u5c31\u6765\u6c34\u4e00\u6ce2\u9898\u89e3\uff0c\u6765\u4e2a\u7ebf\u6bb5\u6811\u7684\n\n\u4e0d\u8fc7\u8fd9\u6b21\u7ebf\u6bb5\u6811\u8bb0\u5f55\u7684\u662f\u6700\u5c0f\u503c\u7684\u4e0b\u6807\uff0c\u800c\u4e0d\u662f\u6700\u5c0f\u503c\n\n\u89e3\u91ca\u90fd\u5199\u5728\u6ce8\u91ca\u91cc\u4e86\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define ls p<<1\n#define rs p<<1|1//\u5b8f\u5b9a\u4e49\u5de6\u513f\u5b50\u548c\u53f3\u513f\u5b50\n#pragma GCC optimize(2) \nusing namespace std;\ntypedef long long ll;\nconst int M=100005;\nll n;\nll h[M],t[M*4];\nvoid build(ll p,ll le,ll ri)//\u7ebf\u6bb5\u6811\u7684\u5efa\u6811 \n{\n    if(le==ri) \n    {\n        t[p]=le;//\u672c\u6b21\u7ebf\u6bb5\u6811\u5efa\u7acb\u7684\u662f\u4e0b\u6807\uff0c\u800c\u4e0d\u662f\u503c \n        return;\n    }\n    ll mid=le+ri>>1;\n    build(ls,le,mid);\n    build(rs,mid+1,ri);\n    if(h[t[ls]]<=h[t[rs]]) t[p]=t[ls];\n    else t[p]=t[rs];\n}\nll query(ll p,ll le,ll ri,ll x,ll y)//\u7ebf\u6bb5\u6811\u7684\u533a\u95f4\u8be2\u95ee \n{\n    if(le==x && ri==y) return t[p];\n    int mid=le+ri>>1,res;\n    if(y<=mid) res=query(ls,le,mid,x,y);//\u6574\u6bb5\u90fd\u5728\u5de6\u8fb9 \n    else if(x>mid) res=query(rs,mid+1,ri,x,y);//\u6574\u6bb5\u90fd\u5728\u53f3\u8fb9 \n    else \n\t{\n\t\tint x1=query(ls,le,mid,x,mid);\n\t\tint x2=query(rs,mid+1,ri,mid+1,y);\n\t\tif(h[x1]<=h[x2]) res=x1;\n\t\telse res=x2;\n\t}\n    return res;\n}\nll dfs(ll le,ll ri,ll hh)\n{\n    if(le>ri) return 0;//\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u683c\u5b50\uff0c\u7ad6\u7740\u6d82\u4e00\u6b21\u5c31\u53ef\u4ee5 \n    ll pos=query(1,1,n,le,ri);\n\tll hor=dfs(le,pos-1,h[pos])+dfs(pos+1,ri,h[pos])+h[pos]-hh;//\u5de6\u534a\u6bb5\u9012\u5f52+\u53f3\u534a\u6bb5\u9012\u5f52+\u4e0b\u65b9\u6a2a\u7740\u6d82\u7684\u90e8\u5206 \n\tll upright=ri-le+1;//\u7ad6\u7740\u6d82\u7684\u90e8\u5206 \n    return min(hor,upright);\n}\nint main()\n{\n    scanf(\"%lld\",&n);\n    for(register ll i=1; i<=n; i++) scanf(\"%lld\",&h[i]);\n    build(1,1,n);\n    printf(\"%lld\",dfs(1,n,0));\n    return 0;\n}\n```\n",
        "postTime": 1582768810,
        "uid": 91375,
        "name": "crh1272336175",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 CF448C \u3010Painting Fence\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u6709\u5178\u578b\u7684**\u5206\u6cbb\u601d\u60f3**\uff0c\u5177\u4f53\u6765\u8bf4\uff0c\u5c31\u662f\u4ece\u6700\u4f4e\u7aef\u5f80\u4e0a\u626b\uff0c\u627e\u51fa\u5728\u5f53\u524d\uff08l\uff0cr\uff09\u533a\u95f4\u7684\u6700\u5c0f\u9ad8\u5ea6\uff0cans\u52a0\u4e0a\u6700\u5c0f\u9ad8\u5ea6\uff0c\u52a0\u4e0a\u9012\u5f52l\uff0cr\u7684\u7ed3\u679c\u3002\n\n**\u8fb9\u754c\u60c5\u51b5**\uff0c\u5f53l=r \u8fd4\u56de\u503c\u4e3a1\u3002\n\n**\u540c\u65f6**\uff0c\u6ce8\u610f\u5f53r-l+1>ans\u65f6\uff0c\u8fd4\u56de\u7684\u4e0d\u662fans\u800c\u662fr-l+1;\n\n\u9012\u5f52\u8fc7\u7a0b\u5c31\u5728\u4e0b\u9762\n\n```cpp\nll solve(int l,int r,ll h){//\u9012\u5f52\u7684\u521d\u59cb\u503c\u4e3a\uff081,n,0\uff09;\n\tif (l==r) return 1;\n\tll ans,minh=inf;\n\tFOR(i,l,r) minh=min(minh,hh[i]);\n\tans=minh-h;\n\tFOR(i,l,r){\n\t\tint k;\n\t\tif (hh[i]==minh) continue;//\u5982\u679c\u5f53\u524d\u8fd9\u5757\u6805\u680f\u5df2\u7ecf\u88ab\u8986\u76d6\uff0c\u5c31\u7ee7\u7eed\n\t\tFOR(j,i,r) {\n\t\t\tk=j;//\u627e\u51fa\u6700\u53f3\u8fb9\u754c\n\t\t\tif (j==r||hh[j+1]==minh) break;//\u8fde\u7eed\u7684\u4e00\u6bb5\u5df2\u7ecf\u7ed3\u675f\n                                           //\u8bb0\u5f55\u70b9\uff0c\u8df3\u51fa\n\t\t}\n\t\tans+=solve(i,k,minh);//\u9012\u5f52\u6c42\u5982\u679c\u6a2a\u626b\uff0c\u7ed3\u679c\u662f\u591a\u5c11\n\t\ti=k+1;\n\t}\n\tll ans1=r-l+1;//\u8003\u8651\u7279\u522b\u60c5\u51b5\uff0c\u7eb5\u5207\u6bd4\u6a2a\u5207\u66f4\u4f18\u3002\n\treturn min(ans1,ans);\n}\n```\n\n\u4e3b\u7a0b\u5e8f\u5f88\u7b80\u5355\uff0c\u5c31\u4e0d\u5199\u4e86\uff0c\u53ea\u9700\u8f93\u5165\u6570\u636e\uff0ccout<<solve(1,n,0)\u5373\u53ef\u3002",
        "postTime": 1540025470,
        "uid": 100175,
        "name": "OIer_hsy",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF448C \u3010Painting Fence\u3011"
    }
]