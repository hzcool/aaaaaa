[
    {
        "content": "\u4f20\u9001\u95e8\uff1a[Top Secret Task](https://www.luogu.org/problemnew/show/CF590D)\n\ndp[i][j][k] \u8868\u793a  \u8003\u8651\u5230\u7b2ci\u4e2a\u6570  \u8ba1\u7b97\u524dj\u4e2a\u6570\u7684\u548c \u8fdb\u884c\u4e86k\u6b21\u64cd\u4f5c   \n\n\u5219\u6709     \n\n1. \u82e5\u4e0d\u628a\u7b2ci\u4e2a\u6570\u653e\u5165\u524dj\u4e2a\u6570\u4e2d  \n\n         dp[i][j][k] = dp[i-1][j][k]          \n1. \u82e5\u628a\u7b2ci\u4e2a\u6570\u653e\u5165\u524dj\u4e2a\u6570\u4e2d\n\n      \t \u81f3\u5c11\u9700\u8981\u628a\u7b2ci\u4e2a\u79fb\u5230\u7b2cj\u4e2a\uff0c\u5373\u8fdb\u884ci-j\u6b21\u64cd\u4f5c\n         if(k >= i-j) \n        \tdp[i][j][k] = dp[i-1][j-1][k-(i-j)]  \n            \n            \n\u7136\u800c\u5982\u679c\u76f4\u63a5\u5f00\u6570\u7ec4\uff0c\u5219\u8981\u5f00dp[151][151][151*151]\u8fd9\u4e48\u5927  \u8fd9\u663e\u7136\u662f\u4e0d\u53ef\u53d6\u7684  \n\n\u53c8\u56e0\u4e3a dp[i][ ][ ] \u59cb\u7ec8\u53ea\u548c dp[i-1][ ][ ] \u6709\u5173\uff0c\u6240\u4ee5\u8003\u8651\u6eda\u52a8\u6570\u7ec4  \n\n\u5373\u7528 dp[i%2][ ][ ] \u8868\u793a dp[i][ ][ ]  \n\n\u8bdd\u4e0d\u591a\u8bf4\uff0c\u4e0a\u4ee3\u7801\uff1a\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\ntypedef long long ll;\nconst int inf=0x3f3f3f3f;\nint N,K,S;\nll dp[2][155][155*155];\nll a[155];\nint main(){\n\tscanf(\"%d%d%d\",&N,&K,&S);\n\tfor(int i=1;i<=N;i++)\n\t\tscanf(\"%d\",&a[i]);\n\tmemset(dp,inf,sizeof(dp));\n\tdp[0][0][0]=0;\n\tfor(int i=1;i<=N;i++){\n\t\tmemset(dp[i%2][0],0,sizeof(dp[i%2][0]));\n\t\tfor(int j=1;j<=i;j++){\n\t\t\tfor(int k=0;k<=i*j;k++){\n\t\t\t\tdp[i%2][j][k]=dp[(i-1)%2][j][k];\n\t\t\t\tif(k>=i-j)\n\t\t\t\t\tdp[i%2][j][k]=min(dp[i%2][j][k],dp[(i-1)%2][j-1][k-(i-j)]+a[i]);\n\t\t\t}\n\t\t}\n\t}\n\tll ans=inf;\n\tfor(int k=0;k<=min(S,N*(N-1)/2);k++)\n\t\tans=min(dp[N%2][K][k],ans);\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1558089823,
        "uid": 111081,
        "name": "Mistletoes",
        "ccfLevel": 0,
        "title": "Top Secret Task(dp+\u6eda\u52a8\u6570\u7ec4)"
    },
    {
        "content": " $n\\leq150$ ,\u5f88\u660e\u663e\u8fd9\u662f\u4e00\u4e2a dp \u7684\u6570\u636e\u8303\u56f4,\u663e\u7136\u54b1\u4eec\u53ef\u4ee5\u8bbe\u72b6\u6001 $dp[i][j][k]$ ,\u8868\u793a\u662f\u5426\u628a $i$ \u70b9\u4e0e $j$ \u70b9\u8fdb\u884c\u4ea4\u6362(\u53ef\u4ee5\u4ea4\u6362,\u4e5f\u53ef\u4ee5\u4e0d\u4ea4\u6362,\u53ea\u662f\u8981\u53d6\u5176\u4e2d\u6700\u5c0f\u7684),\u4e00\u5171\u6240\u9700\u7684\u82b1\u8d39\u6b21\u6570\u4e3a $k$ \u65f6\u7684\u6700\u5c0f\u524d $j$ \u4e2a\u6570\u5b57\u7684\u6700\u5c0f\u548c\n \n### \u72b6\u6001\u8f6c\u79fb\u8f6c\u79fb\u65b9\u7a0b\n\n\u5982\u679c $i$ \u4e0e $j$ \u4e0d\u8fdb\u884c\u4ea4\u6362,\u90a3\u4e48 $dp[i][j][k]=dp[i-1][j][k]$ \n\n\u5982\u679c\u4ea4\u6362,\u90a3\u4e48 $dp[i][j][k]=min(dp[i][j][k], dp[i-1][j-1][k-(i-j)]$ \n \n### \u8fb9\u754c\n\n\u9996\u5148,\u8981\u4fdd\u8bc1 $i \\leq j$ ,\u56e0\u4e3a\u5982\u679c $i>j$ ,\u5c31\u8bf4\u660e $i$ \u5df2\u7ecf\u5728 $j$ \u7684\u524d\u9762\u4e86,\u90a3\u4e48\u518d\u628a\u4ed6\u4eec\u4e24\u4ea4\u6362\u5c31\u6ca1\u6709\u610f\u4e49\u4e86,\u56e0\u4e3a\u4ed6\u4eec\u4e24\u90fd\u4f1a\u5bf9\u524d $j$ \u4e2a\u6570\u9020\u6210\u8d21\u732e\n\n\u7136\u540e,\u5c31\u662f\u7b2c\u4e09\u7ef4\u7684\u6700\u5927\u503c,\u8003\u8651\u6781\u7aef\u7684\u60c5\u51b5,\u5c31\u662f\u6211\u4eec\u628a\u8be5\u5e8f\u5217\u76f4\u63a5\u7528\u5192\u6ce1\u6392\u5e8f\u53d8\u6210\u4e86\u4e00\u4e2a\u6709\u5e8f\u7684\u5e8f\u5217,\u90a3\u4e48\u80af\u5b9a\u524d $k$ \u4e2a\u6570\u5b57\u7684\u548c\u6700\u5c0f,\u800c\u6839\u636e\u5192\u6ce1\u6392\u5e8f\u7684\u6392\u5e8f\u65b9\u5f0f\u6211\u4eec\u53ef\u4ee5\u77e5\u9053,\u8981\u5c06\u539f\u5e8f\u5217\u6392\u6210\u4e00\u4e2a\u6709\u5e8f\u5e8f\u5217\u6240\u9700\u7684\u4ea4\u6362\u6b21\u6570\u5e94\u8be5\u662f\u539f\u5e8f\u5217\u4e2d\u7684\u9006\u5e8f\u5bf9\u4e2a\u6570,\u4e5f\u5c31\u662f\u8bf4,\u6700\u591a\u82b1\u8d39\u9006\u5e8f\u5bf9\u4e2a\u6570\u7684\u6b21\u6570,\u6211\u4eec\u5c31\u80fd\u5f97\u5230\u8fd9\u4e00\u9898\u7684\u7b54\u6848,\u800c\u7b2c\u4e09\u7ef4\u7684\u6700\u5927\u503c\u4e5f\u5c31\u662f\u539f\u5e8f\u5217\u9006\u5e8f\u5bf9\u4e2a\u6570.\n\n\u8fd9\u91cc\u63d2\u4e00\u53e5,\u6c42\u9006\u5e8f\u5bf9\u662f\u53ef\u4ee5\u7528\u6811\u72b6\u6570\u7ec4\u7684,\u4f46\u662f\u5bf9\u4e8e\u8fd9\u9053\u9898\u6765\u8bf4,\u6570\u636e\u8303\u56f4\u8fc7\u5c0f,\u6ca1\u6709\u5fc5\u8981.\n\n### \u4f18\u5316\n\u663e\u7136, $dp[150][150][150*150]$ \u7684 $int$ \u6570\u7ec4\u4f1a\u7206\u7a7a\u95f4,\u6ce8\u610f\u5230\u7b2c\u4e00\u7ef4\u8f6c\u5316\u65f6\u4e00\u76f4\u662f\u4ece $i-1$ \u8f6c\u5316\u5230 $i$ \u7684,\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u6eda\u52a8\u6570\u7ec4\u628a\u8fd9\u4e00\u7ef4\u6eda\u6389.\n\n### \u4ee3\u7801\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#define LL long long\n#define R register int \n#define min(a, b) a<b?a:b\nusing namespace std;\nconst int N=155;\nLL a[N], dp[2][N][N*N];\nint main (){\n\tLL n, k, s, rev=0, val=0;\n\t\n\tscanf (\"%lld%lld%lld\", &n, &k, &s);\n\tfor (R i=1;i<=n;++i){\n\t\tscanf (\"%lld\", &a[i]);\n\t\tfor (R j=1;j<i;++j)//\u6c42\u9006\u5e8f\u5bf9\u4e2a\u6570\n\t\t\trev+=(a[j]>a[i])?1:0;\n\t}if(s>=rev){//\u7279\u5224,\u770b\u662f\u5426\u80fd\u591f\u76f4\u63a5\u5c06\u6392\u5e8f\n\t\tint ans=0;\n\t\tsort(a+1, a+1+n);\n\t\tfor (R i=1;i<=k;++i) ans+=a[i];\n\t\treturn printf(\"%d\\n\", ans)&0;\n\t}rev=s;\n\tmemset(dp, 0x7f, sizeof(dp));\n\tdp[0][0][0]=0;//\u521d\u59cb\u5316\n\tfor (R i=1;i<=n;++i){\n\t\tval^=1;\n\t\tmemset(dp[val][0], 0, sizeof(dp[val][0]));//\u4e00\u5b9a\u4e00\u5b9a\u8981\u6e05\u7a7a\n\t\tfor (R j=1;j<=i;++j){\n\t\t\tfor (R p=0;p<=rev;++p){\n\t\t\t\t//\u72b6\u6001\u8f6c\u79fb\n\t\t\t\tdp[val][j][p]=dp[val^1][j][p];\n\t\t\t\tif(p>=i-j) dp[val][j][p]=min(dp[val][j][p], dp[val^1][j-1][p-(i-j)]+a[i]);\n\t\t\t}\n\t\t}\n\t}LL minn=1000000000;\n\tfor(R i=0;i<=rev;++i) minn=min(minn, dp[val][k][i]);//\u7edf\u8ba1\u7b54\u6848\n\tprintf(\"%lld\\n\", minn);\n\t\n\treturn 0;\n}\n```\n",
        "postTime": 1606994206,
        "uid": 86050,
        "name": "\u7fdb\u91a8",
        "ccfLevel": 0,
        "title": "CF590D Top Secret Task"
    }
]