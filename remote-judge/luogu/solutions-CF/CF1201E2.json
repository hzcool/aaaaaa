[
    {
        "content": "\u5219\u867d\u7136\u662fCF Div.2\u7684\u6700\u540e\u4e00\u9053\u9898\uff0c\u770b\u4e0a\u53bb\u5f88\u96be\uff0c\u4f46\u662f\u5176\u5b9e\u5e76\u4e0d\u96be\u3002\n\n~~(\u5176\u5b9e\u4e00\u5f00\u59cb\u5c31\u6ca1\u60f3\u8981\u5f00\u8fd9\u4e00\u9898\u7684\uff0c\u4e00\u4e0d\u5c0f\u5fc3\u63d0\u4ea4\u4e86\u4e2a\u9519\u8bef\u7684\u4ee3\u7801\uff0c\u770b\u4e0d\u60ef\u7ea2\u8272\u9519\u8bef\u6807\u7b7e\uff0c\u6240\u4ee5\u5c31\u786c\u7740\u5934\u76ae\u505a\u4e86)~~\n\u8fd9\u9898\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u5c31\u662f\u4e24\u4e2a\u9a91\u58eb\u5728\u68cb\u76d8\u4e0a\u8d70\uff0c\u4f60\u9009\u62e9\u5176\u4e2d\u4e00\u4e2a\uff0c\u4f60\u8981\u83b7\u5f97\u80dc\u5229\u3002\n\n\u80dc\u5229\u6211\u4eec\u6307\uff1a\n\n\t1. \u4e00\u4e2a\u68cb\u5b50\u5230\u8fbe\u4e86\u5b83\u7684\u76ee\u6807\u70b9\uff0c\u53e6\u4e00\u4e2a\u68cb\u5b50\u4e0d\u80fd\u653b\u51fb\u5230\u5176\u76ee\u6807\u70b9\n\n\t2. \u4e00\u4e2a\u68cb\u5b50\u53ef\u4ee5\u4e00\u6b65\u8d70\u5230\u53e6\u5916\u4e00\u4e2a\u68cb\u5b50\u6240\u5728\u7684\u4f4d\u7f6e\uff08\u5c31\u662f\u5403\u6389\u522b\u4eba\u5566\uff09\n\u90a3\u4e48\uff0c\u6211\u4eec\u53ef\u4ee5\u6709\u5982\u4e0b\u65b9\u6848\u3002\n\n\u65b9\u6848\u4e00\uff1a\n\n\u5f53\u4e00\u4e2a\u68cb\u5b50\u53ef\u4ee5\u8d70\u5230\u76ee\u6807\u70b9\u4e14\u53e6\u4e00\u4e2a\u68cb\u5b50\u65e0\u6cd5\u5728\u4e24\u6b65\u4e4b\u5185\u5230\u8fbe\u5176\u76ee\u6807\u70b9\uff08\u5c31\u662f\u65e0\u6cd5\u5728\u76ee\u6807\u70b9\u6216\u8005\u5fc5\u7ecf\u4e4b\u8def\u8bbe\u9632\uff09\u6211\u4eec\u9009\u62e9\u8be5\u68cb\u5b50\uff0c\u5e76\u4e14\u79fb\u52a8\u76f4\u63a5\u8d70\u5411\u76ee\u6807\u70b9\n\u65b9\u6848\u4e8c\uff1a\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u68cb\u76d8\u5316\u6210\u9ed1\u767d\u76f8\u95f4\u7684\u683c\u5b50\uff0c\u5982\u679c\u4e24\u4e2a\u68cb\u5b50\u5728\u540c\u4e00\u4e2a\u989c\u8272\u7684\u683c\u5b50\u4e0a\u90a3\u4e48\u53ea\u6709\u540e\u624b\u53ef\u4ee5\u5403\u5148\u624b\uff0c\u4e0d\u540c\u989c\u8272\u5219\u4e4b\u540e\u540e\u624b\u53ef\u4ee5\u5403\u5148\u624b\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u53ef\u4ee5\u5403\u522b\u4eba\u7684\u90a3\u4e2a\u68cb\u5b50\uff0c\u5148\u8d70\u5230\u5bf9\u65b9\u7684\u76ee\u6807\u70b9\uff0c\u56e0\u4e3a\u5bf9\u65b9\u4e0d\u80fd\u9760\u8fd1\u4f60\uff0c\u6240\u4ee5\u5bf9\u65b9\u4f1a\u5411\u5916\u8df3\u4e00\u6b65\uff0c\u6240\u4ee5\u5230\u76ee\u6807\u70b9\u9700\u8981\u4e09\u6b65\u8fdc\u3002\u800c\u4f60\u4ec5\u9700\u4e09\u6b65\uff0c\u5c31\u53ef\u4ee5\u4ece\u522b\u4eba\u7684\u76ee\u6807\u70b9\u8df3\u8dc3\u5230\u81ea\u5df1\u7684\u76ee\u6807\u70b9\uff0c\u521a\u597d\u83b7\u5f97\u80dc\u5229\u3002\n\n\u6b65\u6570\u603b\u8ba1\u4e0d\u8d85\u8fc7339\u6b65\uff0c\u7b26\u5408\u9898\u76ee\u8981\u6c42\u3002\n\n\u90a3\u6211\u4eec\u53ef\u4ee5\u505a\u56db\u6b21bfs\u6765\u6c42\u51fa\u8d77\u59cb\u70b9\u5230\u76ee\u6807\u70b9\u7684\u8ddd\u79bb\uff0c\u5229\u7528\u7c7b\u94fe\u8868\u8bb0\u5f55\u8def\u5f84\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$O\\left(k\\ast n^2\\right)$\n\n\u4f46\u662f\u8fd8\u6709\u4e2a\u5f88\u6ede\u6da8\u7684\u95ee\u9898\uff0c\u5c31\u662f\u7535\u8111\u4f1a\u628a\u68cb\u5b50\u4e0b\u5230\u4f60\u53ef\u4ee5\u5403\u7684\u5730\u65b9\uff0c\u4f60\u4e00\u5b9a\u8981\u5403\u4e86\u5b83\uff0c\u4e0d\u7136\u4f1aWa\u6389\uff0c\u6240\u4ee5\u6bcf\u6b21\u8f93\u51fa\u90fd\u8981\u5224\u65ad\u4e00\u4e0b\uff0c\u5982\u679c\u53ef\u4ee5\u5403\u5c31\u5403\uff08\u53cd\u6b63\u5403\u6389\u4e5f\u662f\u8d62\u4e86\u561b\n\n```cpp\n#include<set>\n#include<map>\n#include<queue>\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<iostream>\n#include<algorithm>\n#define qread(x) x=read()\n#define Maxn 1000\n#define mes(x,y) memset(x,y,sizeof(x))\n#define INF 2147483647\ninline int read(){\n\tint f=1,x=0;char ch=getchar();\n\twhile(!(ch>='0'&&ch<='9')){if(ch=='-')f*=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n\treturn f*x;\n}\nint dx[8]={1,1,-1,-1,2,2,-2,-2};\nint dy[8]={2,-2,2,-2,1,-1,1,-1}; \nstruct Point{\n\tint x,y,c,fa;\n\tfriend bool operator ==(Point a,Point b){\n\t\treturn (a.x==b.x&&a.y==b.y);\n\t}\n}w[2],b[2],other,list[4][Maxn*Maxn+1];\nvoid readother(){\n\tstd::cin>>other.x>>other.y; \n}\nbool check(Point a,Point b){\n\tint x=abs(a.x-b.x),y=abs(a.y-b.y);\n\tif(x<=2&&y<=2&&x+y==3){\n\t\tprintf(\"%d %d\\n\",b.x,b.y);\n\t\treturn true;\n\t}\n\treturn false;\n}\nint otherx,othery;bool bk=false;\nvoid printlist(int k,Point a){\n\tif(a.fa==-1||bk==true)return;\n\tif(a.fa!=1)printlist(k,list[k][a.fa]);\n\tif(check(a,other)==true)bk=true;\n\tif(bk==true)return;\n\tprintf(\"%d %d\\n\",a.x,a.y);\n\treadother();\n}\nint n,m,head,tail,v[4][Maxn+1][Maxn+1];\nvoid closer(int k,Point st,Point ed){\n\tPoint a,b;\n\thead=tail=1;\n\tmes(v[k],0);v[k][st.x][st.y]=head;\n\tlist[k][head]=st,list[k][head].c=0,list[k][head].fa=-1;\n\tif(st==ed)return;\n\twhile(head<=tail){\n\t\ta=list[k][head];\n\t\tfor(int i=0;i<8;i++){ \n\t\t\tb=a,b.x+=dx[i],b.y+=dy[i],b.c++;\n\t\t\tif(b.x<1||b.y<1||b.x>n||b.y>m||v[k][b.x][b.y]!=0)continue;\n\t\t\ttail++; \n\t\t\tv[k][b.x][b.y]=tail;\n\t\t\tb.fa=head;\n\t\t\tlist[k][tail]=b;\n\t\t\tif(b==ed)return;\n\t\t}\n\t\thead++;\n\t}\n}\nvoid printlast(int k){\n\tPoint a;\n\tif(k==0){\n\t\ta=b[0];\n\t\tif(check(a,other)==false){\n\t\t\ta=b[0],a.x-=1,a.y+=2;\n\t\t\tprintf(\"%d %d\\n\",a.x,a.y),readother();\n\t\t}\n\t\telse return;\n\t\tif(check(a,other)==false){\n\t\t\ta=b[0],a.x-=3,a.y+=1;\n\t\t\tprintf(\"%d %d\\n\",a.x,a.y),readother();\n\t\t}\n\t\telse return;\n\t\tif(check(a,other)==false){\n\t\t\ta=b[0],a.x-=1;\n\t\t\tprintf(\"%d %d\\n\",a.x,a.y),readother();\n\t\t}\n\t\telse return;\n\t}\n\telse{\n\t\ta=w[0];\n\t\tif(check(a,other)==false){\n\t\t\ta=w[0],a.x+=1,a.y+=2;\n\t\t\tprintf(\"%d %d\\n\",a.x,a.y),readother();\n\t\t}\n\t\telse return;\n\t\tif(check(a,other)==false){\n\t\t\ta=w[0],a.x+=3,a.y+=1;\n\t\t\tprintf(\"%d %d\\n\",a.x,a.y),readother();\n\t\t}\n\t\telse return;\n\t\tif(check(a,other)==false){\n\t\t\ta=w[0],a.x+=1;\n\t\t\tprintf(\"%d %d\\n\",a.x,a.y),readother();\n\t\t}\n\t\telse return;\n    }\n}\nbool choose;\nint main(){\n\tqread(n),qread(m),\n\tqread(w[1].x),qread(w[1].y),qread(b[1].x),qread(b[1].y);\n\tw[0].x=n/2,w[0].y=m/2,b[0].x=n/2+1,b[0].y=m/2;\n\tcloser(0,w[1],w[0]),closer(1,b[1],b[0]);\n\tcloser(2,w[1],b[0]);\n\tcloser(3,b[1],w[0]);\n\tif((w[1].x+w[1].y)%2!=(b[1].x+b[1].y)%2){\n        if(list[0][v[0][w[0].x][w[0].y]].c<=list[1][v[1][b[0].x][b[0].y]].c)\n\t\t\tprintf(\"WHITE\\n\"),other=b[1],printlist(0,list[0][v[0][w[0].x][w[0].y]]);\n        else if(list[2][v[2][b[0].x][b[0].y]].c>=list[1][v[1][b[0].x][b[0].y]].c+2)\n\t\t\tprintf(\"BLACK\\n\"),readother(),printlist(1,list[1][v[1][b[0].x][b[0].y]]);\n        else printf(\"WHITE\\n\"),other=b[1],printlist(2,list[2][v[2][b[0].x][b[0].y]]),printlast(0);\n    }\n\telse{\n        if(list[1][v[1][b[0].x][b[0].y]].c<list[0][v[0][w[0].x][w[0].y]].c)\n\t\t\tprintf(\"BLACK\\n\"),readother(),printlist(1,list[1][v[1][b[0].x][b[0].y]]);\n        else if(list[3][v[3][w[0].x][w[0].y]].c>list[0][v[0][w[0].x][w[0].y]].c)\n\t\t\tprintf(\"WHITE\\n\"),other=b[1],printlist(0,list[0][v[0][w[0].x][w[0].y]]);\n        else printf(\"BLACK\\n\"),readother(),printlist(3,list[3][v[3][w[0].x][w[0].y]]),printlast(1);\n    }\n}\n```\n",
        "postTime": 1566285331,
        "uid": 30047,
        "name": "hz2016",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1201E2 \u3010Knightmare (hard)\u3011"
    }
]