[
    {
        "content": "# \u5206\u5757\u662f\u4e07\u80fd\u7684\uff01\n\u56e0\u6b64\uff0c\u6211\u7528\u5206\u5757\u8fc7\u4e86\u6b64\u9898\u3002\n## \u9898\u610f\n\u6b64\u9898\u6df1\u523b\u5730\u544a\u8bc9\u4e86\u6211\u8bed\u6587\u7684\u91cd\u8981\u6027 ~~\u8bed\u6587\u5927\u4f6c\u53ef\u8df3\u8fc7\u6b64\u90e8\u5206~~\u3002\n\nNK\u6bcf\u6b21\u56de\u5fc6\u8d77\u7b2c $p_i$ \u4e2a\u64cd\u4f5c\uff0c\u6309\u987a\u5e8f\u505a**\u6bcf\u4e00\u4e2a\u5f53\u524d\u5df2\u7ecf\u56de\u5fc6\u8d77\u6765\u7684**\u64cd\u4f5c\uff0c\u8f93\u51fa\u6808\u9876\u5143\u7d20\uff08\u6ca1\u6709\u8f93 -1 \uff09\u3002\n\n\u4e3e\u4e2a\u4f8b\u5b50\uff08\u6837\u4f8b 3 \uff09\uff1a\n1. \u7a7a$\\quad$\u7a7a$\\quad$\u7a7a$\\quad$\u7a7a$\\quad pop()$ \uff0c\u65e0\u5143\u7d20\uff0c\u8f93\u51fa -1\u3002\n2. \u7a7a$\\quad$\u7a7a$\\quad$\u7a7a$\\quad pop()\\quad pop()$ \uff0c\u65e0\u5143\u7d20\uff0c\u8f93\u51fa -1\u3002\n3. \u7a7a$\\quad$\u7a7a$\\quad push(1) \\quad pop()\\quad pop()$ \uff0c\u65e0\u5143\u7d20\uff0c\u8f93\u51fa -1\u3002\n4. \u7a7a$\\quad push(1) \\quad push(1) \\quad pop()\\quad pop()$ \uff0c\u65e0\u5143\u7d20\uff0c\u8f93\u51fa -1\u3002\n5. $push(2) \\quad push(1) \\quad push(1) \\quad pop()\\quad pop()$ \uff0c\u6709\u4e00\u5143\u7d20 1 \uff0c\u8f93\u51fa 1\u3002\n\n## \u505a\u6cd5\n\u5148\u8003\u8651\u6734\u7d20\u505a\u6cd5\uff1a\u6bcf\u6b21\u8bb0\u5f55\u65b0\u56de\u5fc6\u8d77\u7684\u64cd\u4f5c\uff0c\u7136\u540e\u4ece 1 \u5230 m \u505a\u6bcf\u4e2a\u64cd\u4f5c\u5f97\u51fa\u7ed3\u679c\u3002\n\n\u8fd9\u6837\u663e\u7136\u6709\u5f88\u591a\u64cd\u4f5c\u88ab\u91cd\u590d\u505a\uff0c\u6548\u7387\u592a\u4f4e\u3002\u4e8e\u662f\u8003\u8651\u5206\u5757\uff0c\u4e00\u4e2a\u5757\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\u4e00\u662f\u6240\u6709\u63d2\u5165\u7684\u5143\u7d20\u90fd\u88ab\u5f39\u51fa\uff0c\u4e8e\u662f\u6211\u4eec\u53ea\u8981\u8bb0\u5f55\u8fd8\u6709\u51e0\u4e2a\u5f39\u51fa\u64cd\u4f5c\uff1b\u4e8c\u662f\u6709\u63d2\u5165\u7684\u5143\u7d20\u672a\u88ab\u5f39\u51fa\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u5c31\u8981\u987a\u6b21\u8bb0\u5f55\u9057\u7559\u5143\u7d20\uff0c**\u6ce8\u610f**\uff0c\u6b64\u65f6\u4f9d\u7136\u6709\u53ef\u80fd\u5f39\u51fa\u64cd\u4f5c\u6ca1\u6709\u7528\u5230\uff0c\u6211\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u77e5\u9053\u8fd9\u4e9b\u5f39\u51fa\u64cd\u4f5c\u90fd\u5728\u9057\u7559\u5143\u7d20\u7684\u5de6\u8fb9\uff0c\u8fd9\u4e2a\u7684\u6b21\u6570\u4e5f\u8981\u8bb0\u5f55\u3002\n\n\u6240\u4ee5\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u5757\uff0c\u6211\u4eec\u8981\u8bb0\u5f55\u9057\u7559\u5143\u7d20\u548c\u9057\u7559\u5f39\u51fa\u64cd\u4f5c\u6570\u3002\n\n\u66f4\u65b0\u65f6\u66b4\u529b\u91cd\u7b97\u4e00\u4e2a\u5757\uff0c\u6c42\u7b54\u6848\u65f6\u52a0\u51cf\u9057\u7559\u5143\u7d20\u6570\u548c\u9057\u7559\u5f39\u51fa\u64cd\u4f5c\u6570\uff0c\u5f53\u6808\u91cc\u5143\u7d20\u4e2a\u6570\u5927\u4e8e\u96f6\u5c31\u8f93\u51fa\uff0c\u5426\u5219\u8f93 -1 \u3002\n\n**tip**\uff1a\u6c42\u7b54\u6848\u65f6\u4ece\u540e\u5f80\u524d\u679a\u4e3e\u5757\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u6c42\u6808\u9876\u5143\u7d20\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint N,M,n,sta[10000];\nstruct arr1\n{\n\tint bo,x;\n}a[100005];\nstruct arr2\n{\n\tint x,cnt,a[505];\n}b[3005];\nvoid update(int k)\n{\n\tint l=0,t=0;\n\tfor(int i=1;i<=N;i++)\n\t\tif(a[k*N-N+i].bo)\n\t\t{\n\t\t\tint j=k*N-N+i;\n\t\t\tif(a[j].bo==1)\n\t\t\t{\n\t\t\t\t++l;\n\t\t\t\tsta[l]=a[j].x;\n\t\t\t}\n\t\t\telse --l;\n\t\t\tif(l<0) ++t,l=0;\n\t\t}\n\tb[k].x=t;\n\tb[k].cnt=l;\n\tfor(int i=1;i<=l;i++) b[k].a[i]=sta[i];\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tN=min(n,500);\n\tM=(n+N-1)/N;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint x,y,z;\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tif(y)\n\t\t{\n\t\t\tscanf(\"%d\",&z);\n\t\t\ta[x]={y,z};\n\t\t\tupdate((x+N-1)/N);\n\t\t}\n\t\telse\n\t\t{\n\t\t\ta[x]={y+2,0};\n\t\t\tupdate((x+N-1)/N);\n\t\t}\n\t\tint t=0;\n\t\tfor(int j=M;j>0;j--)\n\t\t{\n\t\t\tt+=b[j].cnt;\n\t\t\tif(t>0)\n\t\t\t{\n\t\t\t\tprintf(\"%d\\n\",b[j].a[t]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tt-=b[j].x;\n\t\t}\n\t\tif(t<=0) puts(\"-1\");\n\t}\n}\n```\n",
        "postTime": 1599483752,
        "uid": 112921,
        "name": "zhimao",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF756C \u3010Nikita and stack\u3011"
    }
]