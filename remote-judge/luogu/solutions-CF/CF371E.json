[
    {
        "content": "[CF\u9898\u9762\u4f20\u9001\u95e8](https://codeforces.com/contest/371/problem/E) [\u6d1b\u8c37\u9898\u9762\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF371E) [\u535a\u5ba2\u98df\u7528\u66f4\u4f73](https://www.luogu.com.cn/blog/b6e0/tijie-CF371E)\n\n\u4e0b\u6587\u4e2d\u79f0\u4e00\u4e2a\u533a\u95f4\u6bcf\u4e24\u4e2a\u6570\u4e4b\u95f4\u7684\u5dee\u7684\u548c\u4e3a\u8fd9\u4e2a\u533a\u95f4\u7684\u503c\u3002\n\n\u9996\u5148\u6392\u5e8f\uff0c\u7136\u540e\u8d2a\u5fc3\uff1a\u53d6\u7684\u6570\u80af\u5b9a\u662f\u8fde\u7eed\u7684\u3002\n\n\u7136\u540e\u56e0\u4e3a\u957f\u5ea6\u5df2\u7ecf\u786e\u5b9a\u4e86\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u679a\u4e3e\u5de6\u7aef\u70b9\u3002\u8003\u8651$a_i$~$a_{i+k-1}$\uff08\u533a\u95f4$1$\uff09\u4e0e$a_{i+1}$~$a_{i+k}$\uff08\u533a\u95f4$2$\uff09\u4e24\u4e2a\u533a\u95f4\u7684\u503c\u600e\u4e48\u8f6c\u79fb\u3002$a_i$\u5bf9\u533a\u95f4$1$\u7684\u503c\u7684\u8d21\u732e\u4e3a\uff1a\n$$\\sum_{j=i+1}^{i+k-1}(a_j-a_i)$$\n$$=\\sum_{j=i+1}^{i+k-1}a_j-a_i\\times(k-1)$$\n$a_{i+k}$\u5bf9\u533a\u95f4$2$\u7684\u8d21\u732e\u4e3a\uff1a\n$$\\sum_{j=i+1}^{i+k-1}(a_{i+k}-a_j)$$\n$$=a_{i+k}\\times(k-1)-\\sum_{j=i+1}^{i+k-1}a_j$$\n\u8bbe\u533a\u95f4$1$\u7684\u503c\u4e3a$x$\uff0c\u90a3\u4e48\u533a\u95f4$2$\u7684\u503c\u4e3a\uff1a\n$$x-\\left(\\sum_{j=i+1}^{i+k-1}a_j-a_i\\times(k-1)\\right)+a_{i+k}\\times(k-1)-\\sum_{j=i+1}^{i+k-1}a_j$$\n$$=x+(k-1)\\times(a_i+a_{i+k})-2\\times\\sum_{j=i+1}^{i+k-1}a_j$$\n\u5176\u4e2d\uff1a\n$$\\sum_{j=i+1}^{i+k-1}a_j$$\n\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u4f18\u5316\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define int long long//\u5341\u5e74OI\u4e00\u573a\u7a7a\uff0c\u4e0d\u5f00long long\u89c1\u7956\u5b97\uff01\nusing namespace std;\nint s[300010];\npair<int,int>a[300010];//first\u5b58\u50a8\u503c\uff0csecond\u5b58\u50a8\u4e0b\u6807\nsigned main()\n{\n\tint n,k,i,ans=0,minv,p=1;\n\tcin>>n;\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tcin>>a[i].first;\n\t\ta[i].second=i;\n\t}\n\tcin>>k;\n\tsort(a+1,a+n+1);\n\tfor(i=1;i<=n;i++)\n\t\ts[i]=s[i-1]+a[i].first;//\u524d\u7f00\u548c\n\tfor(i=1;i<=k;i++)\n\t\tans+=a[i].first*(i-1)-(s[i-1]-s[0]);//1\u5f00\u5934\u7684\u533a\u95f4\u7684\u503c\n\tminv=ans;\n\tfor(i=2;i<n-k+2;i++)\n\t{\n\t\tans+=(k-1)*(a[i+k-1].first+a[i-1].first)-(s[i+k-2]-s[i-1])*2;//\u8f6c\u79fb\n\t\tif(ans<minv)\n\t\t{\n\t\t\tminv=ans;\n\t\t\tp=i;\n\t\t}\n\t}\n\tfor(i=p;i<p+k;i++)\n\t\tcout<<a[i].second<<' ';\n\treturn 0;\n}\n```\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$O(n\\log n)$\uff08\u590d\u6742\u5ea6\u53c8\u5230\u4e86sort\u4e0a\uff09",
        "postTime": 1592637032,
        "uid": 150522,
        "name": "b6e0_",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF371E \u3010Subway Innovation\u3011"
    }
]