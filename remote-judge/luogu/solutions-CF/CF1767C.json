[
    {
        "content": "$a_{i,i}=2$ \u7684\u60c5\u51b5\u663e\u7136\u65e0\u89e3\u3002\n\n\u8bbe $dp_{i,j}$ \u8868\u793a\u5230\u7b2c $i$ \u4e2a\u6570\u4e3a\u6b62\uff0c**\u6700\u957f\u76f8\u540c\u540e\u7f00**\u8d77\u70b9\u4e3a $j$ \u7684\u65b9\u6848\u6570\u3002\n\n\u8003\u8651\u5c06 $i\\sim j$ \u7684\u9650\u5236\u8868\u793a\u4e3a\uff1a\n\n- $a_{i,j}=1$\uff1a$i+1\\sim j$ \u53d6\u503c\u5fc5\u987b\u4e0e\u524d\u4e00\u4e2a\u6570\u76f8\u540c\u3002\u6253\u6807\u8bb0\u3002\n- $a_{i,j}=2$\uff1a\u524d $j$ \u4e2a\u6570\u7684\u6700\u957f\u76f8\u540c\u540e\u7f00\u957f\u5ea6\u4e0d\u8d85\u8fc7 $j-i$\u3002\u9884\u5904\u7406\u6700\u5927\u9650\u5236 $lim_j$\u3002\n\n\u82e5 $s_i=s_{i-1}$\uff0c\u5219\u6709 $dp_{i,j}=dp_{i-1,j}$\uff1b\n\n\u82e5 $s_i\\ne s_{i-1}$\uff0c\u5219\u6709 $dp_{i,i}=\\sum_{j=lim_i}^{i-1}dp_{i-1,j}$\u3002\n\n\u590d\u6742\u5ea6\u74f6\u9888\u5728\u4e8e\u6253\u6807\u8bb0\u3002\u7ebf\u6bb5\u6811\u7ef4\u62a4\u53ef\u4ee5\u505a\u5230 $O(n^2\\log n)$\u3002\u6216\u8bb8\u8fd8\u53ef\u4ee5\u5230 $O(n^2)$\uff1f\n\n\u672c\u4eba\u5c31\u7528\u6734\u7d20\u7684 $O(n^3)$ \u5b9e\u73b0\u4e86\u3002\n\n```cpp\nconst int maxn = 110, mod = 998244353;\nint n, a[maxn][maxn], lim[maxn], pos;\nll dp[maxn][maxn], ans;\nbool flag[maxn];\nsigned main(){\n    scanf(\"%d\", &n);\n    fill(lim + 1, lim + n + 1, 1);\n    for(int i = 1; i <= n; i++){\n        for(int j = i; j <= n; j++){\n            scanf(\"%d\", &a[i][j]);\n            if(a[i][j] == 1) fill(flag + i + 1, flag + j + 1, 1);\n            else if(a[i][j] == 2) pos = max(pos, i + 1), lim[j] = max(lim[j], i + 1);\n        }\n        if(a[i][i] == 2) return puts(\"0\"), 0;\n    }\n    dp[1][1] = 1;\n    for(int i = 2; i <= n; i++){\n        if(!flag[i]) for(int j = 1; j < i; j++) dp[i][i] = (dp[i - 1][j] + dp[i][i]) % mod;\n        for(int j = lim[i]; j < i; j++) dp[i][j] = (dp[i][j] + dp[i - 1][j]) % mod;\n    }\n    for(int i = pos; i <= n; i++) ans = (ans + dp[n][i]) % mod;\n    printf(\"%lld\\n\", ans * 2 % mod);\n    return 0;\n}\n```",
        "postTime": 1671334924,
        "uid": 170890,
        "name": "Cxny",
        "ccfLevel": 7,
        "title": "CF1767C Count Binary Strings \u9898\u89e3"
    },
    {
        "content": "**UPD\uff1a\u533a\u95f4\u5305\u542b\u533a\u95f4\u5e94\u7528 $\\subseteq$\uff0c\u4e4b\u524d\u7528\u6210 $\\in$ \u4e86\u3002**\n\n------------\n\n\u9996\u5148\uff1a\n\n- \u82e5\u6709\u4e00\u4e2a $1$ \u51fa\u73b0\u5728 $2$ \u540e\u9762\uff0c\u5219\u65e0\u89e3\uff08\u4ee3\u7801\u4e2d\u4e3a `no` \u51fd\u6570\uff09\u3002\n  > **\u8bc1\u660e\uff1a**\n  >\n  > \u8bbe $a_{i,j}=2,a_{i,k}=1(j<k)$\uff0c\u5219 $[i,j] \\subseteq [i,k]$\u3002\n  >\n  > \u56e0\u4e3a $s_{[i,j]}$ \u4e2d\u6709\u4e24\u79cd\u4e0d\u540c\u5b57\u7b26\uff0c\u6240\u4ee5 $s_{[i,k]}$ \u4e2d\u6709\u4e24\u79cd\u4e0d\u540c\u5b57\u7b26\u3002\n  >\n  > \u5373 $a_{i,k} \\neq 1$\uff0c\u77db\u76fe\uff0c\u56e0\u6b64\u65e0\u89e3\u3002**\u539f\u547d\u9898\u5f97\u8bc1\u3002**\n- \u82e5 $a_{i,i}=2$\uff0c\u5219\u65e0\u89e3\uff08\u4ee3\u7801\u4e2d\u4e3a `no` \u51fd\u6570\uff09\u3002\n  > **\u8bc1\u660e\uff1a**\n  >\n  > $s_{[i,i]}$ \u4e2d\u53ea\u6709\u4e00\u4e2a\u5b57\u7b26\uff0c\u4e0d\u53ef\u80fd\u6709\u4e24\u79cd\u4e0d\u540c\u5b57\u7b26\u3002**\u539f\u547d\u9898\u5f97\u8bc1\u3002**\n\n\u63a5\u4e0b\u6765\uff0c\u7531\u6240\u6709 $a_{i,j}=1$ \u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u77e5\u9053 $s$ \u4e2d\u67d0\u4e9b\u76f8\u90bb\u7684\u5b57\u7b26\u76f8\u540c\uff0c\u8fd9\u65f6\u53ef\u4ee5\u628a\u5b83\u4eec\u300c\u5408\u5e76\u300d\u3002\uff08\u4ee3\u7801\u4e2d\u4e3a `fill` \u51fd\u6570\uff09\n\n\u8bbe\u5408\u5e76\u540e\u7684\u5b57\u7b26\u4e32\u4e3a $r$\uff08\u663e\u7136\u5b83\u4e0e $s$ \u4e00\u4e00\u5bf9\u5e94\uff09\uff0c\u957f\u5ea6\u4e3a $t$\uff08\u4ee3\u7801\u4e2d\u4e3a `tp`\uff09\u3002\n\n\u7531\u6240\u6709 $a_{i,j}=2$ \u7684\u4fe1\u606f\uff0c\u8bbe\u5df2\u77e5 $r_{[i,e_i]}$ \uff08$e$ \u6570\u7ec4\u5728\u4ee3\u7801\u4e2d\u4e3a `fl2s`\uff1b**\u521d\u59cb\u5316\u65f6\uff0c$e_i=+\\infty$**\uff09\u4e2d\u6709\u4e24\u79cd\u4e0d\u540c\u5b57\u7b26\uff08\u5373\u5b58\u5728 $q \\in [i,e_i]$ \u4f7f $r_i \\neq r_q$\uff09\u3002\n\n\u5f53\u7136\u4e86\uff0c\u82e5 $e_i=i$\uff0c\u5219\u65e0\u89e3\uff08\u4ee3\u7801\u4e2d\u4e3a `no` \u51fd\u6570\uff09\uff0c\u8bc1\u660e\u7c7b\u4f3c\u3002\n\n**\u63a5\u4e0b\u6765\u662f DP \u90e8\u5206\u3002**\n\n\u8bbe $f_{i,j}$\uff08$1 \\le i \\le t + 1,j \\in \\{0,1\\}$\uff1b$f$ \u6570\u7ec4\u5728\u4ee3\u7801\u4e2d\u4e3a `dp`\uff1b**\u521d\u59cb\u5316\u65f6\uff0c$f_{i,j}=0$**\uff09\u4e3a\u6ee1\u8db3\u4e0b\u9762\u6761\u4ef6\u7684 $r$ \u7684\u4e2a\u6570\uff1a\n\n1. \u53ea\u786e\u5b9a\u4e86 $r_{[1,i]}$\uff1b\n2. $r_i=j$\uff1b\n3. \u5f53 $i \\ge 1$ \u65f6\uff0c$r_{i-1} \\neq r_i$\uff1b\n4. \u5f53 $i \\ge 1$ \u65f6\uff0c$r$ \u6ee1\u8db3 $e_{[1,i-1]}$ \u7684\u8981\u6c42\u3002\n\n**\u663e\u7136\uff0c\u521d\u59cb\u72b6\u6001\u662f $f_{1,0}=f_{1,1}=1$\u3002**\n\n\u7136\u800c\uff0c$f_{t,0}+f_{t,1}$ **\u4e0d\u662f\u7b54\u6848**\uff0c\u5b83\u53ea\u7b97\u4e86 $r_t \\neq r_{t-1}$ \u7684\u60c5\u51b5\u3002\n\n\u6709\u4e00\u79cd\u89e3\u51b3\u65b9\u6848\uff1a\u5728 $r$ \u540e\u52a0\u4e00\u4e2a\u5b57\u7b26 $r_{t+1}$\uff0c\u4fdd\u8bc1 $r_{t+1} \\neq r_t$\uff08\u663e\u7136\u5b83\u4e0e\u539f\u6765\u7684 $r$ \u4e00\u4e00\u5bf9\u5e94\uff0c\u5373\u4e0e $s$ \u4e00\u4e00\u5bf9\u5e94\uff09\u3002\n\n\u4ee3\u7801\u4e2d\u7684\u5904\u7406\u65b9\u5f0f\u662f\uff0c\u628a $e$ \u6570\u7ec4\u4e2d\u6240\u6709\u7684 $+\\infty$ \u6539\u4e3a $t+1$\u3002\n\n**\u6b64\u65f6\uff0c\u7b54\u6848\u5373\u4e3a $f_{t+1,0}+f_{t+1,1}$\u3002**\n\n\u63a5\u4e0b\u6765\uff0c\u770b\u5982\u4f55\u4ece $f_{i,j}$ \u4e2d\u8f6c\u79fb\u3002\uff08**\u987a\u5e8f\uff1a$i$ \u5347\u5e8f\uff0c$j$ \u968f\u610f**\uff09\n\n\u6211\u4eec\u8bd5\u7740\u4ece $f_{i,j}$ \u8f6c\u79fb\u5230 $f_{k,1-j}(k \\in [i+1,e_i])$\u3002\uff08\u4ee3\u7801\u4e2d $e_i$ \u4e3a `k`\uff0c$k$ \u4e3a `ii`\uff09\n\n\u6b64\u65f6\uff0c\u586b\u5165 $r_{[i+1,k-1]}=j$\uff08\u5982\u679c $k=i+1$ \u5c31\u4e0d\u586b\u5165 $j$\uff09\uff0c$r_k=1-j$\u3002\n\n\u586b\u5165\u540e\u7684 $r$\uff08\u663e\u7136\u5b83\u4e0e\u586b\u5165\u524d\u7684 $r$ \u4e00\u4e00\u5bf9\u5e94\uff09\u6b64\u65f6\u53ea\u5269\u4e0b\u7b2c $4$ \u70b9\u8981\u6c42\u6ca1\u6709\u6ee1\u8db3\u4e86\u3002\n\n\u63a5\u7740\uff0c\u68c0\u67e5\u586b\u5165\u540e\u7684 $r$ \u662f\u5426\u6ee1\u8db3\u7b2c $4$ \u70b9\u8981\u6c42\uff08\u4ee3\u7801\u4e2d\u4e3a `check` \u51fd\u6570\uff09\u3002\n\n\u53ea\u9700\u68c0\u67e5\u662f\u5426\u6709 $q \\in [i+1,k-1]$ \u6ee1\u8db3 $e_q<k$ \u5373\u53ef\u3002\u5982\u679c**\u6709**\uff0c\u5219**\u4e0d\u6ee1\u8db3**\u7b2c $4$ \u70b9\u8981\u6c42\uff1b\u5982\u679c**\u6ca1\u6709**\uff0c\u5219**\u6ee1\u8db3**\u7b2c $4$ \u70b9\u8981\u6c42\u3002\n\n\u6ee1\u8db3\u7684\u8bdd\uff0c$f_{k,1-j}$ \u52a0\u4e0a $f_{i,j}$\uff1b\u4e0d\u6ee1\u8db3\u7684\u8bdd\uff0c\u5c31\u4e0d\u52a0\u4e86\u3002\n\n\u7efc\u4e0a\uff0c\u8be5\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\uff08**\u4e0b\u9762\u91c7\u7528\u300c\u65f6\u95f4 - \u7a7a\u95f4\u300d\u7684\u8ba1\u6cd5**\uff09\u7531 `check` \u51fd\u6570\u7684\u7b97\u6cd5\u800c\u5b9a\uff1a\n\n- \u66b4\u529b\uff08\u6211\u7528\u7684\uff09\uff1a$O(n^3) - O(n)$\n- \u7ebf\u6bb5\u6811\uff1a$O(n^2 \\log n) - O(n)$\n- ST \u8868\uff1a$O(n^2) - O(n \\log n)$\n- ~~Four Russians\uff08\u9009\u81ea OI Wiki\uff0c\u4ec5\u4f9b\u53c2\u8003\uff09\uff1a$\\sout{O(n^2) - O(n \\log \\log n)}$~~\n- ~~\u7b1b\u5361\u5c14\u6811\uff08\u9009\u81ea OI Wiki\uff0c\u4ec5\u4f9b\u53c2\u8003\uff09\uff1a$\\sout{O(n^2) - O(n)}$~~\n\n**\u6700\u540e\uff0c\u8bb0\u5f97\u968f\u65f6\u53d6\u6a21\uff01**\n\n**AC Code\uff1a**\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int P=998244353,N=112;\nint p[N];\nint l1s[N],l2s[N],fl2s[N];\nint dp[N][2];\nvoid no()\n{\n\tputs(\"0\");\n\texit(0);\n}\nint fill(int n)\n{\n\tint alr=0,p1=0,p2=0;\n\twhile(1)\n\t{\n\t\tif(p1==n) return alr;\n\t\tp2++,alr++;\n\t\tp[p2]=alr;\n\t\twhile(p1!=p2)\n\t\t{\n\t\t\tp1++;\n\t\t\tfor(int i=p1;i<=l1s[p1];i++)\n\t\t\t\tp[i]=p[p1],p2=max(i,p2);\n\t\t}\n\t}\n}\nint check(int from,int to)\n{\n\tfor(int i=from+1;i<=to-1;i++)\n\t\tif(fl2s[i]<to) return 0;\n\treturn 1;\n}\nint main()\n{\n\tmemset(fl2s,0x7f,sizeof fl2s);\n\tint n;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint l1=0,l2=n+1;\n\t\tint tmp;\n\t\tcin>>tmp;\n\t\tif(tmp==2) no();\n\t\tl1=i;\n\t\tfor(int j=i+1;j<=n;j++)\n\t\t{\n\t\t\tcin>>tmp;\n\t\t\tif(tmp==1)\n\t\t\t{\n\t\t\t\tif(l2!=n+1) no();\n\t\t\t\tl1=j;\n\t\t\t}\n\t\t\tif(tmp==2&&l2>n) l2=j;\n\t\t}\n\t\tl1s[i]=l1,l2s[i]=l2;\n\t}\n\tint tp=fill(n)+1;\n\tp[n+1]=tp;\n\tfor(int i=1;i<=n;i++)\n\t    fl2s[p[i]]=min(fl2s[p[i]],p[l2s[i]]);\n\tfor(int i=1;i<=tp;i++)\n\t\tif(fl2s[i]==i) no();\n\tdp[1][0]=dp[1][1]=1;\n\tfor(int i=1;i<=tp-1;i++)\n\t\tfor(int j=0;j<=1;j++)\n\t\t{\n\t\t\tint k=fl2s[i];\n\t\t\tfor(int ii=i+1;ii<=k;ii++)\n\t\t\t\tdp[ii][1-j]+=(check(i,ii)*dp[i][j]),dp[ii][1-j]%=P;\n\t\t}\n\tcout<<(dp[tp][0]+dp[tp][1])%P;\n    return 0;\n}\n```",
        "postTime": 1671289801,
        "uid": 365654,
        "name": "wosizmcy",
        "ccfLevel": 0,
        "title": "CF1767C"
    },
    {
        "content": "### \u9898\u76ee\u4f20\u9001\u95e8\n\n[\u6d1b\u8c37](https://www.luogu.com.cn/problem/CF1767C)\n\n[CF](https://codeforces.com/contest/1767/problem/C)\n\n### \u5206\u6790\n\n**\u9898\u89e3\u533a\u76ee\u524d\u552f\u4e00\u4e00\u7bc7\u65f6\u95f4\u590d\u6742\u5ea6\u660e\u786e $O(n^2)$ \u7684\u9898\u89e3\u3002**\n\n\u9898\u76ee\u8981\u6c42\u65b9\u6848\u6570\uff0c\u660e\u663e\u662f\u4e00\u7bc7 DP \u7684\u9898\u76ee\u3002\n\n\u6839\u636e\u9898\u76ee\u201c\u76f8\u540c\u201d\u3001\u201c\u4e0d\u540c\u201d\u7684\u9650\u5236\uff0c\u8bbe\u72b6\u6001 $dp_{i,j}$ \u4e3a\u524d $i$ \u4e2a\u6570\u4e2d\u6700\u957f\u76f8\u540c\u540e\u7f00\u4ece $j$ \u5f00\u59cb\u7684\u65b9\u6848\u6570\u91cf\u3002\n\n\u9996\u5148\uff0c\u5bf9\u4e8e $a_{i,i} = 2$ \u5fc5\u7136\u662f\u4e0d\u5408\u6cd5\u7684\uff0c\u6392\u9664\u3002\n\n\u5bf9\u4e8e\u8981\u6c42\u76f8\u540c\u7684\u4e00\u4e2a\u533a\u95f4\uff0c\u53ea\u5904\u7406\u7b2c\u4e00\u4e2a\u6570\u5b57\u5373\u53ef\uff0c\u5176\u5b83\u7684\u6807\u8bb0\u6389\u3002\n\n\u5bf9\u4e8e\u8981\u6c42\u4e0d\u540c\u7684\u4e00\u4e2a\u533a\u95f4\uff0c\u8bb0\u5f55\u53f3\u7aef\u70b9\u7684\u9650\u5236\u5de6\u7aef\u70b9\uff0c\u8bb0\u4e3a $a$ \u6570\u7ec4\uff0c\u521d\u59cb\u4e3a $0$\u3002\n\n\u5217\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n+ $dp_{i,i} = \\sum_{j=1}^{i-1} dp_{i-1,j}$\n\n+ $dp_{i,j} = dp_{i-1,j}$ \u5176\u4e2d $j > a_i$\n\n+ $dp_{i,j} = 0$ \u5176\u4e2d $1 \\le j \\le a_i$\n\n\u6ce8\u610f\u5230\u53ef\u4ee5\u6eda\u52a8\uff0c\u7701\u53bb\u7b2c\u4e00\u4e2a\u7ef4\u5ea6\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a\uff1a\n\n+ $dp_i = \\sum_{j=1}^{i-1} dp_j$\n\n+ $dp_j = 0$ \u5176\u4e2d $1 \\le j \\le a_i$\n\n\u6ce8\u610f\u6700\u7ec8\u7684\u7b54\u6848\uff0c\u8fd8\u6709\u521d\u59cb\u503c\u4e3a $dp_1 = 2$\uff0c\u56e0\u4e3a\u6709 $0$ \u548c $1$ \u4e24\u79cd\u3002\n\n\u4e3a\u4e86\u5b9e\u73b0\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2)$\uff0c\u8fd9\u91cc\u7684\u6807\u8bb0\u5e94\u5f53\u4f7f\u7528\u5dee\u5206\u3002\n\n\u540c\u65f6\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u4e5f\u8fbe\u5230\u4e86\u4f18\u79c0\u7684 $O(n)$\u3002\n\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define F(i,a,b) for(register int i=a;i<=b;++i)\n#define N 110\nconst int mod = 998244353;\nint f[N],a[N],dp[N],n,t = 0,x,ans = 0;\ninline void add(int &x,int y) {(x += y) >= mod && (x -= mod);}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tF(i,1,n)\n\t\tF(j,i,n)\n\t\t{\n\t\t\tscanf(\"%d\",&x);\n\t\t\tif(i == j&&x == 2) \n\t\t\t{\n\t\t\t\tputchar('0');\n\t\t\t\treturn 0;\t\n\t\t\t}\t\n\t\t\tif(x == 1) ++f[i+1],--f[j+1];\n\t\t\telse if(x == 2) t = max(t,i),a[j] = max(a[j],i);\n\t\t}\n\tdp[1] = 2;\n\tF(i,2,n)\n\t{\n\t\tf[i] += f[i-1];\n\t\tif(!f[i]) \n\t\t\tF(j,1,i-1)\n\t\t\t\tadd(dp[i],dp[j]);\n\t\tF(j,1,a[i]) dp[j] = 0;\t\n\t}\t\n\tF(i,t+1,n) add(ans,dp[i]);\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1678187635,
        "uid": 197648,
        "name": "Wangxun",
        "ccfLevel": 5,
        "title": "CF1767C \u9898\u89e3"
    },
    {
        "content": "\u9996\u5148\u5224\u6389 $a_{i, i} = 2$ \u7684\u60c5\u51b5\uff0c\u6b64\u65f6\u663e\u7136\u65e0\u89e3\u3002\n\n\u7531\u4e8e\u9898\u76ee\u4e2d\u63d0\u5230\u7684\u4e24\u79cd\u6761\u4ef6\u90fd\u4e0e\u6bcf\u4e2a\u6781\u5927 01 \u8fde\u7eed\u6bb5\u7684\u5f00\u5934\u4f4d\u7f6e\u6709\u5173\uff0c\u8003\u8651\u5982\u4e0b\u7684 dp\uff1a\u8bbe $dp_{i, j}$ \u8868\u793a $[j, i]$ \u4e3a\u4e00\u4e2a\u6781\u5927\u8fde\u7eed\u6bb5\u65f6\uff0c$[1, i]$ \u7684\u65b9\u6848\u6570\u3002\n\n\u521d\u503c\uff1a$dp_{1, 1} = 1$\u3002\n\n\u8f6c\u79fb\uff1a\u9996\u5148\u770b\u4e00\u4e0b $[j, i]$ \u662f\u5426\u6ee1\u8db3\u9898\u76ee\u6761\u4ef6\uff0c\u5373\u770b\u4e00\u4e0b\u662f\u5426\u6ee1\u8db3 $\\forall 1 \\leq k \\leq i$\uff0c$a_{k, i} = 0$ \u6216 $a_{k, i} = 1 \\operatorname{and} j \\leq k$ \u6216 $a_{k, i} = 2 \\operatorname{and} j > k$\u3002\n\n\u82e5\u6ee1\u8db3\u6761\u4ef6\uff0c\u5219\u5206\u4e24\u79cd\u60c5\u51b5\u8ba8\u8bba\uff1a\n\n- $j < i$\uff1a\u6b64\u65f6\u4ee4 $dp_{i, j} \\leftarrow dp_{i - 1, j}$\u3002\n- $j = i$\uff1a\u6b64\u65f6\u4ee4 $dp_{i, j} \\leftarrow \\displaystyle\\sum_{k = 1}^{i - 1} dp_{i - 1, k}$\u3002\n\n\u7b54\u6848\uff1a$2 \\displaystyle\\sum_{i = 1}^n dp_{n, i}$\u3002\u8fd9\u91cc\u4e58 $2$ \u662f\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u8fde\u7eed\u6bb5\u5230\u5e95\u662f $0$ \u8fd8\u662f $1$ \u65e0\u5f71\u54cd\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^3)$\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <stdio.h>\n#include <stdbool.h>\n\nconst int mod = 998244353;\nint a[107][107], dp[107][107];\n\nint main(){\n\tint n;\n\tscanf(\"%d\", &n);\n\tfor (int i = 1; i <= n; i++){\n\t\tfor (int j = i; j <= n; j++){\n\t\t\tscanf(\"%d\", &a[i][j]);\n\t\t}\n\t\tif (a[i][i] == 2){\n\t\t\tprintf(\"0\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\tint ans = 0;\n\tdp[1][1] = 1;\n\tfor (int i = 2; i <= n; i++){\n\t\tfor (int j = 1; j <= i; j++){\n\t\t\tbool flag = true;\n\t\t\tfor (int k = 1; k <= i; k++){\n\t\t\t\tif ((a[k][i] == 1 && j > k) || (a[k][i] == 2 && j <= k)){\n\t\t\t\t\tflag = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (flag){\n\t\t\t\tif (j < i){\n\t\t\t\t\tdp[i][j] = dp[i - 1][j];\n\t\t\t\t} else {\n\t\t\t\t\tfor (int k = 1; k < i; k++){\n\t\t\t\t\t\tdp[i][j] = (dp[i][j] + dp[i - 1][k]) % mod;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 1; i <= n; i++){\n\t\tans = (ans + dp[n][i]) % mod;\n\t}\n\tprintf(\"%d\", ans * 2 % mod);\n\treturn 0;\n}\n```",
        "postTime": 1673229214,
        "uid": 201007,
        "name": "Leasier",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1767C \u3010Count Binary Strings\u3011"
    },
    {
        "content": "\n# CF1767C - Count Binary Strings\n\n## \u9898\u610f\n\n\u6709\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684 01 \u4e32 $s$ \u548c\u4e00\u4e9b\u9650\u5236 $a_{i,j}(1 \\le i \\le j \\le n)$\u3002\n\n$a_{i,j}$ \u7684\u542b\u4e49\u5982\u4e0b\uff1a\n\n| $a_{i,j}$ | \u542b\u4e49 |\n| :----------: | :----------: |\n| $0$ | \u6ca1\u6709\u9650\u5236 |\n| $1$ | \u8be5\u533a\u95f4\u91cc\u7684\u6570\u5b57\u5b8c\u5168\u76f8\u540c |\n| $2$ | \u8be5\u533a\u95f4\u91cc\u7684\u6570\u5b57\u4e0d\u80fd\u5b8c\u5168\u76f8\u540c |\n\n\u6c42\u53ef\u80fd\u7684 $s$ \u7684\u4e2a\u6570\u3002\n\n## \u601d\u8def\uff08\u533a\u95f4DP\uff09\n\n\u4e3a\u4e86\u8ba1\u6570\u4e0d\u91cd\u4e0d\u6f0f\uff0c\u6211\u4eec\u4ee4 $dp[l][r][0/1/2/3]$ \u5206\u522b\u4ee3\u8868\u5728\u533a\u95f4 $[i,j]$ \u4e2d\uff0c\u6574\u4e2a\u533a\u95f4\u90fd\u662f $0$\uff0c\u6574\u4e2a\u533a\u95f4\u90fd\u662f $1$\uff0c\u6574\u4e2a\u533a\u95f4 $01$ \u90fd\u6709\u4f46\u6700\u5de6\u8fb9\u653e\u7684\u662f $0$\uff0c\u6574\u4e2a\u533a\u95f4 $01$ \u90fd\u6709\u4f46\u6700\u5de6\u8fb9\u653e\u7684\u662f $1$ \u7684\u65b9\u6848\u6570\u3002\n\n\u5982\u679c\u4e00\u4e2a\u533a\u95f4 $01$ \u90fd\u6709\uff0c\u90a3\u4e48\u53ef\u4ee5\u8fd9\u6837\u8ba1\u6570\uff1a\n\n- \u679a\u4e3e\u4e2d\u95f4\u7aef\u70b9 $k$\uff0c\u4f7f\u5f97\u533a\u95f4 $[l,k]$ \u5168\u662f $0$\uff0c\u4f46 $k$ \u5904\u4e00\u5b9a\u662f $1$\uff0c\u5e76\u4e14 $[k+1,r]$ \u968f\u4fbf\u653e\u3002\n- \u679a\u4e3e\u4e2d\u95f4\u7aef\u70b9 $k$\uff0c\u4f7f\u5f97\u533a\u95f4 $[l,k]$ \u5168\u662f $1$\uff0c\u4f46 $k$ \u5904\u4e00\u5b9a\u662f $0$\uff0c\u5e76\u4e14 $[k+1,r]$ \u968f\u4fbf\u653e\u3002\n\n\u540c\u65f6\u6ce8\u610f\u68c0\u67e5\u533a\u95f4\u9650\u5236\u7684\u5408\u6cd5\u6027\u3002\n\n- \u679a\u4e3e\u4e2d\u95f4\u7aef\u70b9 $k$ \u540e\uff0c\u90a3\u4e48\u5bf9\u4e8e\u6240\u6709\u8de8\u8d8a\u8be5\u7aef\u70b9\u7684\u533a\u95f4 $[l,r]$\uff0c\u90fd\u4e0d\u80fd\u6709 $a_{l,r}=1$\u3002\n- \u82e5\u67d0\u533a\u95f4\u7684\u9650\u5236\u4e3a $1$\uff0c\u90a3\u4e48\u5bf9\u4e8e\u6240\u6709\u5b8c\u5168\u5305\u542b\u4e8e\u8be5\u7aef\u70b9\u7684\u533a\u95f4 $[l,r]$\uff0c\u90fd\u4e0d\u80fd\u6709 $a_{l,r}=2$\u3002\n\n\n\n\u8f6c\u79fb\u65f6\uff0c\u679a\u4e3e\u4e2d\u95f4\u7aef\u70b9 $k$\uff0c\u5728\u68c0\u67e5\u533a\u95f4\u9650\u5236\u7684\u5408\u6cd5\u6027\u540e\uff0c\u8ba1\u6570\u5373\u53ef\u3002",
        "postTime": 1679214288,
        "uid": 36285,
        "name": "\u6c27\u5c11Kevin",
        "ccfLevel": 4,
        "title": "CF1767C - Count Binary Strings - \u533a\u95f4DP,\u8ba1\u6570"
    },
    {
        "content": "\u62dc\u8c22 bp\u3002\n\n---\n\n\u8bb0 $f_{i,j}\\{j<i\\}$ \u8868\u793a\u6700\u53f3\u8fb9\u4e0e\u7b2c $i$ \u4f4d\u4e0d\u540c\u7684\u662f\u7b2c $j$ \u4f4d\u7684\u65b9\u6848\u6570\u3002\n\n\u5219\u82e5\u5ffd\u7565\u9650\u5236\uff0c\u6709$f_{i+1,j}=\\begin{cases}j=i&\\sum^{i-1}_{k=0}f_{i,k}\\\\\\text{otherwise}&f_{i,j}\\end{cases}$\u3002\n\n\u8fb9\u754c\u503c $f_{1,0}=2$\u3002\n\n\u5177\u4f53\u5199\u6cd5\u662f\u9012\u63a8\u7b97\u8d21\u732e\u6cd5\uff0c\u5224\u4e00\u4e0b\u662f\u5426\u7b26\u5408\u9650\u5236\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^3)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define mod 998244353\n#define MOD 1000000007\n#define pii pair<int,int>\n#define fi first\n#define se second\n#define mp make_pair\n#define N 500005\n#define ls p<<1\n#define rs p<<1|1\ntypedef long long ll;\nusing namespace std;\nint a[105][105];\nll f[105][105];\nvoid solve(){\n    int n;cin>>n;\n    for(int i=1;i<=n;i++) for(int j=i;j<=n;j++) cin>>a[i][j];\n    if(a[1][1]!=2)f[1][0]=2;\n    for(int i=1;i<=n;i++)\n    for(int j=0;j<i;j++){\n        bool ff=1;\n        for(int k=1;k<=j;k++) if(a[k][i]==1) ff=0;\n        for(int k=j+1;k<=i;k++) if(a[k][i]==2) ff=0;\n        if(!ff) f[i][j]=0;\n        f[i+1][j]=f[i][j];\n        f[i+1][i]=(f[i+1][i]+f[i][j])%mod;\n    }\n    ll ans=0;\n    for(int i=0;i<n;i++) ans=(ans+f[n][i])%mod;\n    cout<<ans<<'\\n';\n}\nint main(){\n    std::ios::sync_with_stdio(0),cin.tie(0),cout.tie(0);\n    //int Case;cin>>Case;while(Case--)\n    solve();\n}\n```",
        "postTime": 1671419929,
        "uid": 258085,
        "name": "\u6c5f\u6237\u5ddd\u00b7\u841d\u535c",
        "ccfLevel": 7,
        "title": "CF1767C Solution"
    }
]