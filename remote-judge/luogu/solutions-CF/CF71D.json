[
    {
        "content": "# \u76f4\u63a5\u66b4\u641c\u3002\n\n\n\u56e0\u4e3a\u65f6\u95f4\u590d\u6742\u5ea6\u6700\u5927\u65f6\u662f J1,J2 \u540c\u65f6\u51fa\u73b0\uff0c\u8fd9\u65f6\u9996\u5148\u4e24\u91cd\u5faa\u73af\u679a\u4e3e J1,J2 \u6362\u6210\u7684\u724c\uff0c\u7136\u540e\u679a\u4e3e $x_1,y_1,x_2,y_2$ \uff0c\u6545\u65f6\u95f4\u590d\u6742\u5ea6\u6700\u5927\u4e3a $O(n^4)$ \uff0c\u56e0\u4e3a $54^4=8,503,056$ \uff0c\u6240\u4ee5\u76f4\u63a5\u66b4\u641c\u4e0d\u4f1a TLE \u3002\n\n\n\u8bbe f \u4e3a\u7eb8\u724c\u4e2d Joker \u7684\u4e2a\u6570\u3002\u5f53 $f=0,1,2$ \u65f6\u5206\u522b\u8ba8\u8bba\u3002\n\n\n\u8d34\u4ee3\u7801\uff08\u7801\u98ce\u8f83\u5dee\u89c1\u8c05\uff09\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstring c[17][17];\t\nset<string> crd;\t//\u51fa\u73b0\u8fc7\u7684\u724c\nint J1x,J1y,J2x,J2y; \t// J1,J2 \u7684\u5750\u6807\nstring CARD[52]={\n\"AC\",\"AD\",\"AH\",\"AS\",\"2C\",\"2D\",\"2H\",\"2S\",\"3C\",\"3D\",\"3H\",\"3S\",\"4C\",\"4D\",\"4H\",\"4S\",\n\"5C\",\"5D\",\"5H\",\"5S\",\"6C\",\"6D\",\"6H\",\"6S\",\"7C\",\"7D\",\"7H\",\"7S\",\"8C\",\"8D\",\"8H\",\"8S\",\n\"9C\",\"9D\",\"9H\",\"9S\",\"TC\",\"TD\",\"TH\",\"TS\",\"JC\",\"JD\",\"JH\",\"JS\",\"QC\",\"QD\",\"QH\",\"QS\",\n\"KC\",\"KD\",\"KH\",\"KS\"};\t//\u6240\u6709\u724c\nbool isvaild(string x)\t//\u5224\u65ad\u4e00\u5f20\u724c\u662f\u5426\u5df2\u7ecf\u7528\u8fc7\uff08\u672a\u7528\u8fc7\u8fd4\u56de 1 \uff09\n{\n\treturn !count(crd.begin(),crd.end(),x);\n}\nbool chk(int x,int y)//\t\u5224\u65ad 3*3 \u7684\u6b63\u65b9\u5f62\u5185\u724c\u662f\u5426\u6ee1\u8db3\u8981\u6c42\n{\n\tchar hs=c[x][y][1];\n\tint v=0;\n\tset<char> st;\n\tfor(int i=x;i<x+3;i++)\n\t{\n\t\tfor(int j=y;j<y+3;j++)\n\t\t{\n\t\t\tif(c[i][j][1]==hs) v++;\n\t\t\tst.insert(c[i][j][0]);\n\t\t}\n\t}\n\treturn (v==9)||(st.size()==9);\n}\nint main()\n{\n\tJ1x=-1,J1y=-1,J2x=-1,J2y=-1;\n\tstring Jname=\"\";\n\tint n,m;\n\tcin>>n>>m;\n\tif(!(n>=6||m>=6)) //n*m\u77e9\u5f62\u592a\u5c0f\u4e86\n\t{\n\t\tcout<<\"No solution.\\n\";\n\t\treturn 0;\n\t}\n\tint f=0;\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tfor(int j=0;j<m;j++)\n\t\t{\n\t\t\tcin>>c[i][j];\n\t\t\tif(c[i][j]==\"J1\"||c[i][j]==\"J2\")\n\t\t\t{\n\t\t\t\tf++;\n\t\t\t\tif(c[i][j]==\"J1\") J1x=i,J1y=j;\n\t\t\t\tif(c[i][j]==\"J2\") J2x=i,J2y=j;\n\t\t\t } \n\t\t\telse\n\t\t\t{\n\t\t\t\tcrd.insert(c[i][j]);\n\t\t\t}\n\t\t}\n\t}\n\tif(f==0)\n\t{\n\t\tfor(int i1=0;i1<=n-3;i1++)\n\t\t{\n\t\t\tfor(int j1=0;j1<=m-3;j1++)\n\t\t\t{\n\t\t\t\tif(chk(i1,j1))\n\t\t\t\t{\n\t\t\t\t\tfor(int i2=0;i2<=n-3;i2++)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(int j2=0;j2<=m-3;j2++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif((abs(i2-i1)>=3||abs(j2-j1)>=3)&&chk(i2,j2))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcout<<\"Solution exists.\\nThere are no jokers.\\nPut the first square to (\"<<i1+1<<\", \"<<j1+1<<\").\\nPut the second square to (\"<<i2+1<<\", \"<<j2+1<<\").\\n\";\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<\"No solution.\\n\";\n\t\treturn 0;\n\t}\n\tif(f==1)\n\t{\n      \t\t// Jname \u4e3a  Joker\u7684\u540d\u79f0 (J1 \u6216 J2)\n\t\tif(J1x==-1) Jname=\"J2\";\n\t\telse Jname=\"J1\";\n        \t//\u5c06 Joker \u7684\u5750\u6807\u8bb0\u5f55\u5728 J1 \u7684 x,y \u5750\u6807\u91cc\n\t\tJ1x=J1x+J2x+1;\n\t\tJ1y=J1y+J2y+1;\n\t\tfor(int J1=0;J1<52;J1++)\n\t\t{\n\t\t\tif(isvaild(CARD[J1]))\n\t\t\t{\n\t\t\t\tc[J1x][J1y]=CARD[J1];\n\t\t\t\tfor(int i1=0;i1<=n-3;i1++)\n\t\t\t\t{\n\t\t\t\t\tfor(int j1=0;j1<=m-3;j1++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(chk(i1,j1))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor(int i2=0;i2<=n-3;i2++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfor(int j2=0;j2<=m-3;j2++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif((abs(i2-i1)>=3||abs(j2-j1)>=3)&&chk(i2,j2))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcout<<\"Solution exists.\\nReplace \"<<Jname<<\" with \"<<CARD[J1]<<\".\\nPut the first square to (\"<<i1+1<<\", \"<<j1+1<<\").\\nPut the second square to (\"<<i2+1<<\", \"<<j2+1<<\").\\n\";\n\t\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<\"No solution.\\n\";\n\t\treturn 0;\n\t}\n\tif(f==2)\n \t{\n\t\tfor(int J1=0;J1<52;J1++)\n\t\t{\n\t\t\tfor(int J2=0;J2<52;J2++)\n\t\t\t{\n\t\t\t\tif(J1!=J2&&isvaild(CARD[J1])&&isvaild(CARD[J2]))\n\t\t\t\t{\n\t\t\t\t\tc[J1x][J1y]=CARD[J1];\n\t\t\t\t\tc[J2x][J2y]=CARD[J2];\n\t\t\t\t\tfor(int i1=0;i1<=n-3;i1++)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(int j1=0;j1<=m-3;j1++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(chk(i1,j1))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfor(int i2=0;i2<=n-3;i2++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfor(int j2=0;j2<=m-3;j2++)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tif((abs(i2-i1)>=3||abs(j2-j1)>=3)&&chk(i2,j2))\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tcout<<\"Solution exists.\\nReplace J1 with \"<<CARD[J1]<<\" and J2 with \"<<CARD[J2]<<\".\"<<\"\\nPut the first square to (\"<<i1+1<<\", \"<<j1+1<<\").\\nPut the second square to (\"<<i2+1<<\", \"<<j2+1<<\").\\n\";\n\t\t\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<\"No solution.\\n\";\n\t\treturn 0;\n\t}\n\treturn 0;\n}\n\n```\n\n",
        "postTime": 1622293643,
        "uid": 508624,
        "name": "Chronomia",
        "ccfLevel": 0,
        "title": "CF71D Solitaire \u9898\u89e3"
    },
    {
        "content": "## \u9898\u610f\uff1a\n\n\u7ed9\u4f60\u6709 $n \\times m$ \u5f20\u6251\u514b\u724c\u7ec4\u6210\u7684\u77e9\u5f62\u7684\u724c\u5806\uff0c\u6c42\u6362\u6389\u724c\u5806\u4e2d\u6240\u6709\u7684\u5927\u5c0f\u738b\uff08\u6362\u5927\u5c0f\u738b\u7684\u724c\u4e0d\u80fd\u548c\u724c\u5806\u4e2d\u73b0\u6709\u7684\u724c\u91cd\u590d\uff09\u4ee5\u540e\uff0c\u724c\u5806\u4e2d\u662f\u5426\u5b58\u5728\u4e24\u4e2a $3 \\times 3$ \u5927\u5c0f\u7684\u4e0d\u91cd\u53e0\u7684\u77e9\u9635\u4e2d\u7684\u6251\u514b\u724c**\u82b1\u8272\u4e00\u81f4**\u6216**\u70b9\u6570\u4e92\u4e0d\u76f8\u540c**\u3002\n\n## \u89e3\u9898\u601d\u8def\uff1a\n\n\u7531\u9898\u610f\u4e0d\u96be\u770b\u51fa\uff0c\u672c\u9898\u6240\u6c42\u95ee\u9898\u662f\u5c06\u5927\u5c0f\u738b\u6362\u6389\u540e\uff0c\u66b4\u529b\u6c42\u51fa\u9898\u76ee\u6240\u9700\u7684\u4e24\u4e2a\u77e9\u9635\u3002\n\n### \u7b2c\u4e00\u6b65\uff1a\n\n\u9996\u5148\u770b\u4e00\u4e0b\u6570\u636e\u8303\u56f4\uff0c $(3\u2264n,m\u226417,n\u00d7m\u226452)$ \uff0c\u975e\u5e38\u5c0f\uff0c\u53ef\u4ee5\u7528\u66b4\u529b\u6c42\u89e3\uff0c\u4e0d\u9700\u8981\u4ec0\u4e48\u4f18\u5316\u4e4b\u7c7b\u7684\u3002\n\n### \u7b2c\u4e8c\u6b65\uff1a\n\n\u5927\u81f4\u601d\u8def\u6709\u4e86\uff0c\u5148**\u5206\u7c7b\u8ba8\u8bba**\u4e00\u4e0b\uff1a\n\n1.\u724c\u5806\u4e2d\u6ca1\u6709\u5927\u5c0f\u738b\n\n2.\u724c\u5806\u4e2d\u4e00\u5f20\u5927\u5c0f\u738b\n\n3.\u724c\u5806\u4e2d\u4e24\u5f20\u5927\u5c0f\u738b\n\n\u6211\u4eec\u8981\u5728\u8f93\u5165\u65f6\u5c31\u4fdd\u5b58\u5927\u5c0f\u738b\u7684\u5750\u6807\u548c\u6570\u91cf\u3002\n\n### \u7b2c\u4e09\u6b65\uff1a\n\n\u524d\u8a00\uff1a\u672c\u9898\u6ce8\u91cd\u8003\u5bdf\u7801\u529b\uff0c\u6240\u4ee5\u9898\u89e3\u504f\u91cd\u4e8e\u4ee3\u7801\u8bb2\u89e3\u3002\n\n#### \u5b9a\u4e49\uff1a\n\n```c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAX=21;\nconst string card[]={\"AC\",\"AD\",\"AH\",\"AS\",\"2C\",\"2D\",\"2H\",\"2S\",\"3C\",\"3D\",\"3H\",\"3S\",\"4C\",\"4D\",\"4H\",\"4S\",\"5C\",\"5D\",\"5H\",\"5S\",\"6C\",\"6D\",\"6H\",\"6S\",\"7C\",\"7D\",\"7H\",\"7S\",\"8C\",\"8D\",\"8H\",\"8S\",\"9C\",\"9D\",\"9H\",\"9S\",\"TC\",\"TD\",\"TH\",\"TS\",\"JC\",\"JD\",\"JH\",\"JS\",\"QC\",\"QD\",\"QH\",\"QS\",\"KC\",\"KD\",\"KH\",\"KS\"}; //\u6240\u6709\u724c\u7684\u79cd\u7c7b\nstring a[MAX][MAX];\nvector<string>card_line; //\u4fdd\u5b58\u539f\u6709\u724c\uff0c\u4fbf\u4e8e\u5224\u65ad\nint n,m;\n```\n\n#### \u8f93\u5165+\u9884\u5904\u7406\uff1a\n\n```c++\nscanf(\"%d%d\",&n,&m);\nint J1_x,J1_y,J2_x,J2_y,sum=0,J_flag=false;\nfor(int i=1;i<=n;i++)\n{\n\tfor(int j=1;j<=m;j++)\n\t{\n\t\tcin>>a[i][j];\n\t\tif(a[i][j]==\"J1\")\n\t\t{\n\t\t\tsum++; //\u5927\u5c0f\u738b\u6570\u91cf+1\n\t\t\tJ1_x=i,J1_y=j,J_flag=true; //\u8bb0\u5f55\u5750\u6807\u5e76\u6807\u8bb0\u724c\u5806\u4e2d\u6709\u5927\u5c0f\u738b\n\t\t}\n\t\telse if(a[i][j]==\"J2\") //\u5c0f\u738b\u540c\u7406\n\t\t{\n\t\t\tsum++;\n\t\t\tJ2_x=i,J2_y=j;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcard_line.push_back(a[i][j]); //\u5c06\u724c\u52a0\u5165\u6570\u7ec4\n\t\t}\n\t}\n}\n```\n\n#### \u5224\u65ad\u724c\u662f\u5426\u7528\u8fc7\uff1a\n\n```c++\nbool no_use(string s)\n{\n\tfor(int i=0;i<card_line.size();i++) //\u904d\u5386\u5b58\u724c\u7684\u6570\u7ec4\n\t{\n\t\tif(card_line[i]==s) //\u5982\u679c\u76f8\u540c\u5c31\u9000\u51fa\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true; //\u6ca1\u6709\u4efb\u4f55\u724c\u76f8\u540c\u8bf4\u660e\u53ef\u4ee5\n}\n```\n\n#### \u5224\u65ad $3 \\times 3$ \u77e9\u9635\u662f\u5426\u6ee1\u8db3\u9898\u610f\u6240\u9700\uff1a\n\n```c++\nbool check(int x,int y)\n{\n\tint sum=0; //\u5224\u65ad\u70b9\u6570\u76f8\u540c\u7684\n\tset<char>line; //\u53bb\u91cd\uff0c\u7528\u4e8e\u5224\u65ad\u82b1\u8272\u662f\u5426\u4e0d\u540c\n\tfor(int i=x;i<=x+2;i++)\n\t{\n\t\tfor(int j=y;j<=y+2;j++)\n\t\t{\n\t\t\tif(a[i][j][1]==a[x][y][1]) //\u5982\u679c\u70b9\u6570\u76f8\u540c\uff0c\u5c31+1\n\t\t\t{\n\t\t\t\tsum++;\n\t\t\t}\n\t\t\tline.insert(a[i][j][0]); //\u5c06\u82b1\u8272\u63d2\u5165set\u5bb9\u5668\u4e2d\n\t\t}\n\t}\n\treturn (sum==9||line.size()==9); //\u5224\u65ad\u4e24\u4e2a\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\u81f3\u5c11\u5176\u4e00\n}\n```\n\n#### \u5982\u679c\u4e00\u5f20\u5927\u5c0f\u738b\u90fd\u6ca1\u6709\uff1a\n\n```c++\nif(sum==0)\n{\n\tfor(int xx1=1;xx1<=n-2;xx1++) //\u679a\u4e3e\u7b2c\u4e00\u4e2a\u7b26\u5408\u9898\u610f\u76843\u00d73\u77e9\u9635\n\t{\n\t\tfor(int yy1=1;yy1<=m-2;yy1++)\n\t\t{\n\t\t\tif(check(xx1,yy1)) //\u7b26\u5408\u9898\u610f\u5c31\u627e\u7b2c\u4e8c\u4e2a\u7b26\u5408\u9898\u610f\u76843\u00d73\u77e9\u9635\n\t\t\t{\n\t\t\t\tfor(int xx2=1;xx2<=n-2;xx2++)\n\t\t\t\t{\n\t\t\t\t\tfor(int yy2=1;yy2<=m-2;yy2++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(check(xx2,yy2)&&(abs(xx1-xx2)>=3||abs(yy1-yy2)>=3)) //\u5982\u679c\u4e24\u4e2a\u7b26\u5408\u9898\u610f\u7684\u77e9\u9635\u4e0d\u91cd\u53e0\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tprintf(\"Solution exists.\\nThere are no jokers.\\nPut the first square to (%d, %d).\\nPut the second square to (%d, %d).\",xx1,yy1,xx2,yy2);\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n```\n\n#### \u5982\u679c\u53ea\u6709\u4e00\u5f20\u5927\u5c0f\u738b\uff1a\n\n```c++\nelse if(sum==1)\n{\n\tint x,y;\n\tJ_flag?x=J1_x:x=J2_x; //\u5224\u65ad\u662f\u5927\u738b\u8fd8\u662f\u5c0f\u738b\n\tJ_flag?y=J1_y:y=J2_y;\n\tfor(int i=0;i<52;i++) //\u679a\u4e3e\u6ca1\u7528\u8fc7\u7684\u724c\n\t{\n\t\tif(no_use(card[i])) \n\t\t{\t\t\t\t\n\t\t\ta[x][y]=card[i];\n\t\t\tfor(int xx1=1;xx1<=n-2;xx1++) //\u679a\u4e3e\u7b2c\u4e00\u4e2a\u7b26\u5408\u9898\u610f\u76843\u00d73\u77e9\u9635\n\t\t\t{\n\t\t\t\tfor(int yy1=1;yy1<=m-2;yy1++)\n\t\t\t\t{\n\t\t\t\t\tif(check(xx1,yy1)) //\u7b26\u5408\u9898\u610f\u5c31\u627e\u7b2c\u4e8c\u4e2a\u7b26\u5408\u9898\u610f\u76843\u00d73\u77e9\u9635\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(int xx2=1;xx2<=n-2;xx2++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor(int yy2=1;yy2<=m-2;yy2++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif(check(xx2,yy2)&&(abs(xx1-xx2)>=3||abs(yy1-yy2)>=3)) //\u5982\u679c\u4e24\u4e2a\u7b26\u5408\u9898\u610f\u7684\u77e9\u9635\u4e0d\u91cd\u53e0\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tprintf(\"Solution exists.\\nReplace \");\n\t\t\t\t\t\t\t\t\tJ_flag?printf(\"J1\"):printf(\"J2\");\n\t\t\t\t\t\t\t\t\tprintf(\" with \");\n\t\t\t\t\t\t\t\t\tcout<<card[i];\n\t\t\t\t\t\t\t\t\tprintf(\".\\nPut the first square to (%d, %d).\\nPut the second square to (%d, %d).\",xx1,yy1,xx2,yy2);\n\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n```\n\n#### \u5982\u679c\u4e24\u5f20\u5927\u5c0f\u738b\u90fd\u6709\uff1a\n\n```c++\nelse\n{\n\tfor(int i=0;i<52;i++) //\u679a\u4e3e\u66ff\u6362\u5927\u738b\u7684\u724c\n\t{\n\t\tfor(int j=0;j<52;j++) //\u679a\u4e3e\u66ff\u6362\u5c0f\u738b\u7684\u724c\n\t\t{\n\t\t\tif(i!=j)\n\t\t\t{\n\t\t\t\tif(no_use(card[i])&&no_use(card[j]))\n\t\t\t\t{\n\t\t\t\t\ta[J1_x][J1_y]=card[i],a[J2_x][J2_y]=card[j]; //\u66ff\u6362\u5927\u5c0f\u738b\n\t\t\t\t\tfor(int xx1=1;xx1<=n-2;xx1++)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(int yy1=1;yy1<=m-2;yy1++) //\u679a\u4e3e\u7b2c\u4e00\u4e2a\u7b26\u5408\u9898\u610f\u76843\u00d73\u77e9\u9635\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(check(xx1,yy1)) //\u7b26\u5408\u9898\u610f\u5c31\u627e\u7b2c\u4e8c\u4e2a\u7b26\u5408\u9898\u610f\u76843\u00d73\u77e9\u9635\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfor(int xx2=1;xx2<=n-2;xx2++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfor(int yy2=1;yy2<=m-2;yy2++)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tif(check(xx2,yy2)&&(abs(xx1-xx2)>=3||abs(yy1-yy2)>=3)) //\u5982\u679c\u4e24\u4e2a\u7b26\u5408\u9898\u610f\u7684\u77e9\u9635\u4e0d\u91cd\u53e0\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tprintf(\"Solution exists.\\nReplace J1 with \");\n\t\t\t\t\t\t\t\t\t\t\tcout<<card[i];\n\t\t\t\t\t\t\t\t\t\t\tprintf(\" and J2 with \");\n\t\t\t\t\t\t\t\t\t\t\tcout<<card[j];\n\t\t\t\t\t\t\t\t\t\t\tprintf(\".\\nPut the first square to (%d, %d).\\nPut the second square to (%d, %d).\",xx1,yy1,xx2,yy2);\n\t\t\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n```\n\n#### \u603b\u7ed3\uff1a\n\n\u672c\u9898\u601d\u7ef4\u96be\u5ea6\u5f88\u4f4e\uff0c\u4f46\u4ee3\u7801\u957f\uff0c\u8003\u9a8c\u7801\u529b\uff0c\u6253\u4ee3\u7801\u65f6\u8981\u8ba4\u771f\uff01\n\n## \u5b8c\u6574\u7684Code\uff1a\n\n\u4e0d\u8981\u968f\u4fbf\u6284\u9898\u89e3\uff0c\u5c0f\u5fc3\u88ab**\u68d5**\uff01\n\n```c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAX=21;\nconst string card[]={\"AC\",\"AD\",\"AH\",\"AS\",\"2C\",\"2D\",\"2H\",\"2S\",\"3C\",\"3D\",\"3H\",\"3S\",\"4C\",\"4D\",\"4H\",\"4S\",\"5C\",\"5D\",\"5H\",\"5S\",\"6C\",\"6D\",\"6H\",\"6S\",\"7C\",\"7D\",\"7H\",\"7S\",\"8C\",\"8D\",\"8H\",\"8S\",\"9C\",\"9D\",\"9H\",\"9S\",\"TC\",\"TD\",\"TH\",\"TS\",\"JC\",\"JD\",\"JH\",\"JS\",\"QC\",\"QD\",\"QH\",\"QS\",\"KC\",\"KD\",\"KH\",\"KS\"};\nstring a[MAX][MAX];\nvector<string>card_line;\nint n,m;\nbool no_use(string s)\n{\n\tfor(int i=0;i<card_line.size();i++)\n\t{\n\t\tif(card_line[i]==s)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\nbool check(int x,int y)\n{\n\tint sum=0;\n\tset<char>line;\n\tfor(int i=x;i<=x+2;i++)\n\t{\n\t\tfor(int j=y;j<=y+2;j++)\n\t\t{\n\t\t\tif(a[i][j][1]==a[x][y][1])\n\t\t\t{\n\t\t\t\tsum++;\n\t\t\t}\n\t\t\tline.insert(a[i][j][0]);\n\t\t}\n\t}\n\treturn (sum==9||line.size()==9);\n}\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tint J1_x,J1_y,J2_x,J2_y,sum=0,J_flag=false;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tcin>>a[i][j];\n\t\t\tif(a[i][j]==\"J1\")\n\t\t\t{\n\t\t\t\tsum++;\n\t\t\t\tJ1_x=i,J1_y=j,J_flag=true;\n\t\t\t}\n\t\t\telse if(a[i][j]==\"J2\")\n\t\t\t{\n\t\t\t\tsum++;\n\t\t\t\tJ2_x=i,J2_y=j;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcard_line.push_back(a[i][j]);\n\t\t\t}\n\t\t}\n\t}\n\tif(n<6&&m<6)\n\t{\n\t\tprintf(\"No solution.\");\n\t\treturn 0;\n\t}\n\tif(sum==0)\n\t{\n\t\tfor(int xx1=1;xx1<=n-2;xx1++)\n\t\t{\n\t\t\tfor(int yy1=1;yy1<=m-2;yy1++)\n\t\t\t{\n\t\t\t\tif(check(xx1,yy1))\n\t\t\t\t{\n\t\t\t\t\tfor(int xx2=1;xx2<=n-2;xx2++)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(int yy2=1;yy2<=m-2;yy2++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(check(xx2,yy2)&&(abs(xx1-xx2)>=3||abs(yy1-yy2)>=3))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tprintf(\"Solution exists.\\nThere are no jokers.\\nPut the first square to (%d, %d).\\nPut the second square to (%d, %d).\",xx1,yy1,xx2,yy2);\n\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\telse if(sum==1)\n\t{\n\t\tint x,y;\n\t\tJ_flag?x=J1_x:x=J2_x;\n\t\tJ_flag?y=J1_y:y=J2_y;\n\t\tfor(int i=0;i<52;i++)\n\t\t{\n\t\t\tif(no_use(card[i]))\n\t\t\t{\t\t\t\t\n\t\t\t\ta[x][y]=card[i];\n\t\t\t\tfor(int xx1=1;xx1<=n-2;xx1++)\n\t\t\t\t{\n\t\t\t\t\tfor(int yy1=1;yy1<=m-2;yy1++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(check(xx1,yy1))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor(int xx2=1;xx2<=n-2;xx2++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfor(int yy2=1;yy2<=m-2;yy2++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif(check(xx2,yy2)&&(abs(xx1-xx2)>=3||abs(yy1-yy2)>=3))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tprintf(\"Solution exists.\\nReplace \");\n\t\t\t\t\t\t\t\t\t\tJ_flag?printf(\"J1\"):printf(\"J2\");\n\t\t\t\t\t\t\t\t\t\tprintf(\" with \");\n\t\t\t\t\t\t\t\t\t\tcout<<card[i];\n\t\t\t\t\t\t\t\t\t\tprintf(\".\\nPut the first square to (%d, %d).\\nPut the second square to (%d, %d).\",xx1,yy1,xx2,yy2);\n\t\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\telse\n\t{\n\t\tfor(int i=0;i<52;i++)\n\t\t{\n\t\t\tfor(int j=0;j<52;j++)\n\t\t\t{\n\t\t\t\tif(i!=j)\n\t\t\t\t{\n\t\t\t\t\tif(no_use(card[i])&&no_use(card[j]))\n\t\t\t\t\t{\n\t\t\t\t\t\ta[J1_x][J1_y]=card[i],a[J2_x][J2_y]=card[j];\n\t\t\t\t\t\tfor(int xx1=1;xx1<=n-2;xx1++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor(int yy1=1;yy1<=m-2;yy1++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif(check(xx1,yy1))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfor(int xx2=1;xx2<=n-2;xx2++)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfor(int yy2=1;yy2<=m-2;yy2++)\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tif(check(xx2,yy2)&&(abs(xx1-xx2)>=3||abs(yy1-yy2)>=3))\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tprintf(\"Solution exists.\\nReplace J1 with \");\n\t\t\t\t\t\t\t\t\t\t\t\tcout<<card[i];\n\t\t\t\t\t\t\t\t\t\t\t\tprintf(\" and J2 with \");\n\t\t\t\t\t\t\t\t\t\t\t\tcout<<card[j];\n\t\t\t\t\t\t\t\t\t\t\t\tprintf(\".\\nPut the first square to (%d, %d).\\nPut the second square to (%d, %d).\",xx1,yy1,xx2,yy2);\n\t\t\t\t\t\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"No solution.\");\n\treturn 0;\n}\n```\n\n## \u540e\u8bb0\uff1a\n\n\u672c\u9898\u89e3\u662f\u6211\u4e0a\u4fe1\u606f\u7ade\u8d5b\u8bfe\u4e0a\u5199\u7684\uff0c\u53ef\u80fd\u6709\u70b9\u7b80\u77ed~~\uff08\u5077\u5077\u5199\u7684\uff09~~\uff0c\u4e0d\u559c\u52ff\u55b7\uff0c\u8c22\u8c22\uff01\n\n#### qwq\n\n",
        "postTime": 1673404480,
        "uid": 781352,
        "name": "Killer_Jerry",
        "ccfLevel": 0,
        "title": "\u300a\u3010CF71D\u3011Solitaire\u300b\u9898\u89e3"
    },
    {
        "content": "\u663e\u7136\u8fd9\u662f\u4e00\u9053\u5927\u6a21\u62df\uff0c\u4e0d\u61c2\u4e3a\u5565\u8bc4\u5230\u7d2b\u3002\u3002\u3002\n\n## \u601d\u8def\n\u663e\u7136\u6309\u7167\u9898\u76ee\u6a21\u62df\u5373\u53ef\uff0c\u6709\u51e0\u4e2a\u8981\u70b9\u8981\u6ce8\u610f\uff0c\u672c\u4eba\u56e0\u6ca1\u8ba4\u771f\u8bfb\u9898\u88ab\u5361\u4e86 $ 20 $ \n\u591a\u53d1\u3002\u3002\u3002\n\n1. \u8bfb\u5165\u7684\u724c\u662f\u4e0d\u91cd\u590d\u7684\uff0c\u4f46\u662f\u628a $ joker $ \u66ff\u6362\u6210\u522b\u7684\u724c\u65f6\u4e0d\u80fd\u76f8\u540c\u3002\n2. \u4e24\u4e2a\u5708\u8d77\u6765\u7684 $ 3 \\times 3 $ \u7684\u65b9\u683c\u662f**\u4e0d\u91cd\u53e0\u7684**\u3002\n3. \u4e24\u4e2a\u6761\u4ef6\u6ee1\u8db3\u4e00\u4e2a\u5373\u53ef\u3002\n4. \u8f93\u51fa\u683c\u5f0f\u6700\u597d\u4f7f\u7528 $ CTRL + C $ \u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define pii pair<int,int>\nusing namespace std;\nconst int N=20;\nstruct node{\n    int lv,typ;\n}a[N][N];\nconst char s[4]={'C','D','H','S'};//\u5c06\u6bcf\u4e00\u79cd\u53ef\u80fd\u724c\u8bb0\u5f55\u4e0b\u6765 \nconst char sid[13]={'A','2','3','4','5','6','7','8','9','T','J','Q','K'};\nint n,m,jok1x=-1,jok1y=-1,jok2x=-1,jok2y=-1,ansx,ansy;\nchar ch;\nbool used[101],col[101],ck[101][101];\nqueue<pii> q;\ninline bool check(int x,int y){//\u5224\u65ad\u4ee5(x,y)\u4e3a\u5de6\u4e0a\u65b9\u9876\u70b9\u7684\u6b63\u65b9\u5f62\u662f\u5426\u5408\u6cd5 \n    memset(used,0,sizeof(used));\n    memset(col,0,sizeof(col));\n    bool f1=1,f2=1;\n    for(register int i=0;i<3;++i){\n        for(register int j=0;j<3;++j){\n            int nx=i+x,ny=j+y;\n            if(a[nx][ny].lv==20) return 0;\n            if(!col[a[nx][ny].typ]&&!(i==0&&j==0)){\n                f1=0;\n                break;\n            }\n            col[a[nx][ny].typ]=1;\n        }\n        if(!f1) break;\n    }\n    if(f1) return 1;\n    for(register int i=0;i<3;++i){\n        for(register int j=0;j<3;++j){\n            int nx=i+x,ny=j+y;\n            if(a[nx][ny].lv==20) return 0; \n            if(used[a[nx][ny].lv]) return 0;\n            used[a[nx][ny].lv]=1;\n        }\n    }\n    return 1;\n}\ninline bool check2(int x,int y){//\u5224\u65adjoker\u662f\u5426\u5b58\u5728 \n    if(x==-1||y==-1) return 0;\n    return 1;\n}\ninline bool chk(int x,int y,int nx,int ny){\n    if(x+2>=nx&&y+2>=ny) return 0;\n    return 1;\n}\nint main(){\n    cin>>n>>m;\n    for(register int i=1;i<=n;++i){\n        for(register int j=1;j<=m;++j){//\u8bfb\u5165 + \u5b58\u5165\u7b49\u7ea7\u548c\u82b1\u8272 \n            ch=getchar();\n            while(ch==' '||ch=='\\n') ch=getchar();\n            char nxt=getchar();\n            if(ch=='J'&&(nxt=='1'||nxt=='2')){\n                a[i][j].lv=20;\n                if(nxt=='1') jok1x=i,jok1y=j;\n                if(nxt=='2') jok2x=i,jok2y=j;\n            }else{\n                for(register int p=0;p<13;++p) if(sid[p]==ch) a[i][j].lv=p;\n                for(register int p=0;p<=3;++p) if(s[p]==nxt)  a[i][j].typ=p;\n                ck[a[i][j].typ][a[i][j].lv]=1\n            }\n        }\n    }\n    for(register int i=0;i<4;++i){//\u679a\u4e3e\u7b2c\u4e00\u4e2ajoker\u653e\u4ec0\u4e48 \n        for(register int j=0;j<13;++j){\n            if(ck[i][j]) continue;//\u5982\u679c\u8be5\u724c\u88ab\u7528\u8fc7\u5c31\u6362\u65b9\u6848 \n            ck[i][j]=1;\n            if(jok1y!=-1) a[jok1x][jok1y].typ=i,a[jok1x][jok1y].lv=j;//\u5982\u679c\u8fd9\u4e2ajoker\u5b58\u5728\u5c31\u6362 \n            for(register int _i=0;_i<4;++_i){//\u540c\u4e0a \n                for(register int _j=0;_j<13;++_j){\n                    if(ck[_i][_j]) continue;\n                    if(jok2y!=-1) a[jok2x][jok2y].typ=_i,a[jok2x][jok2y].lv=_j;\n                    while(!q.empty()) q.pop();//\u5f00\u4e00\u4e2aqueue\u50a8\u5b58\u7b54\u6848 \n                    for(register int x=1;x+2<=n;++x){//\u627e\u4e24\u4e2a\u4e0d\u5145\u76843*3\u65b9\u683c \n                        for(register int y=1;y+2<=m;++y){\n                            if(check(x,y)){\n                                while(!q.empty()) q.pop();\n                                q.push((pii){x,y});\n                                for(register int nowx=1;nowx+2<=n;++nowx){\n                                    for(register int nowy=1;nowy+2<=m;++nowy){\n                                        if(chk(x,y,nowx,nowy)&&check(nowx,nowy)){\n                                            q.push((pii){nowx,nowy});\n                                            goto end;\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            ck[i][j]=0;\n        }\n    }\n    end:;\n    if(q.size()==2){//\u8f93\u51fa\u7ec6\u8282\u5f88\u591a\uff0c\u8981\u6ce8\u610f\u3002 \n        printf(\"Solution exists.\\n\");\n        if(check2(jok1x,jok1y)){\n            if(check2(jok2x,jok2y)){\n                printf(\"Replace J1 with %c%c\",sid[a[jok1x][jok1y].lv],s[a[jok1x][jok1y].typ]);\n                printf(\" and J2 with %c%c.\\n\",sid[a[jok2x][jok2y].lv],s[a[jok2x][jok2y].typ]);\n            }else printf(\"Replace J1 with %c%c.\\n\",sid[a[jok1x][jok1y].lv],s[a[jok1x][jok1y].typ]);\n        }else if(check2(jok2x,jok2y)){\n            printf(\"Replace J2 with %c%c.\\n\",sid[a[jok2x][jok2y].lv],s[a[jok2x][jok2y].typ]);\n        }else printf(\"There are no jokers.\\n\");\n        int cnt=0;\n        while(!q.empty()){\n            ++cnt;\n            if(cnt==1) printf(\"Put the first square to \");\n            if(cnt==2) printf(\"Put the second square to \");\n            printf(\"(%d, %d).\\n\",q.front().first,q.front().second);\n            q.pop();\n        }\n    }else cout<<\"No solution.\";\n    return 0;\n}\n```\n",
        "postTime": 1637935823,
        "uid": 428089,
        "name": "HMZHMZHMZ",
        "ccfLevel": 7,
        "title": "CF71D\u9898\u89e3"
    },
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF71D)\n\n#### \u66b4\u529b\u6a21\u62df\u6c34\u9898\n\n\u601d\u8def\u5982\u4e0b\uff1a\n\n\u8bfb\u5165\u6570\u636e\uff0c\u8bb0\u5f55\u738b\u7684\u6570\u91cf\u548c\u4f4d\u7f6e\uff1b\n\n\u679a\u4e3e\u6ca1\u6709\u51fa\u73b0\u8fc7\u7684\u724c\uff0c\u628a\u738b\u66ff\u6362\u6389\uff0c\u7136\u540e $\\operatorname{check}$ \uff1b\n\n\u7136\u800c $\\operatorname{check}$ \u6709\u4ebf\u70b9\u9ebb\u70e6\uff1a\n\n\u7528\u56db\u91cd\u5faa\u73af\u679a\u4e3e\u4e24\u4e2a\u6b63\u65b9\u5f62\u7684\u5de6\u4e0a\u89d2\u4f4d\u7f6e\uff0c\u7528\u6734\u7d20\u65b9\u6cd5\u5224\u65ad\u662f\u5426\u82b1\u8272\u4e00\u6837\u6216\u662f\u6570\u5b57\u4e92\u4e0d\u76f8\u540c\uff0c\u5982\u679c\u6ee1\u8db3\u5c31\u8f93\u51fa\u7b54\u6848\uff08 $\\operatorname{end}$ \uff09\n\n $\\operatorname{check}$ \u4ee3\u7801\u5982\u4e0b\uff1a\n \n ```cpp\nvoid check()\n{\n    int cnt1 = -5, cnt2 = -5;\n    rep(x, n - 2)\n    {\n        rep(y, m - 2)\n        {\n            if (ok)\n                return;\n            if (x < cnt1 + 3 && y < cnt2 + 3)\n                continue;\n            bool suc = 1;\n            char ch;\n            forr(i, x, x + 3)\n            {\n                forr(j, y, y + 3)\n                {\n                    if (i == x && j == y)\n                        ch = s[i][j][1];\n                    else if (ch != s[i][j][1])\n                        suc = 0;\n                }\n            }\n            if (suc == 1)\n            {\n                if (cnt1 == -5)\n                {\n                    cnt1 = x, cnt2 = y;\n                }\n                else\n                    end(cnt1, cnt2, x, y);\n                continue;\n            }\n            if (ok)\n                return;\n            suc = 1;\n            map<char, bool> mc;\n            forr(i, x, x + 3)\n            {\n                forr(j, y, y + 3)\n                {\n                    if (mc[s[i][j][0]])\n                        suc = 0;\n                    mc[s[i][j][0]] = 1;\n                }\n            }\n            if (suc == 1)\n            {\n                if (cnt1 == -5)\n                {\n                    cnt1 = x, cnt2 = y;\n                }\n                else\n                    end(cnt1, cnt2, x, y);\n            }\n            if (ok)\n                return;\n        }\n    }\n}\n```\n\u6700\u540e\u8981\u6ce8\u610f\u8f93\u51fa\u683c\u5f0f\uff0c\u4e0d\u8981\u6f0f\u7a7a\u683c\n\n\u5b8c\u6574\u4ee3\u7801\uff1a\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define db double\n#define ld long double\n#define forr(i, a, n) for (int i = a; i < n; i++)\n#define rep(i, n) forr(i, 0, n)\n#define repp(i, n) forr(i, 1, n + 1)\n#define foreach(it, t) for (__typeof(t.begin()) it = t.begin(); it != t.end(); it++)\n#define pb push_back\n#define mp make_pair\n#define all(a) a.begin(), a.end()\n#define init(a, i) memset(a, i, sizeof(a))\n#define pii pair<int, int>\n#define vvi vector<vector<int>>\n#define MAXN 0x3f3f3f3f\nstring a[] = {\"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"T\", \"J\", \"Q\", \"K\", \"A\"};\nstring b[] = {\"C\", \"D\", \"H\", \"S\"};\nint n, m;\nint num = 0;\nstring st, st1, st2;\nstring s[20][20];\nmap<string, int> mm;\nint jx1 = -1, jy1 = -1, jx2 = -1, jy2 = -1;\nint sim;\nbool ok = 0;\nvoid end(int x1, int y1, int x2, int y2)\n{\n    cout << \"Solution exists.\\n\";\n    if (num == 0)\n    {\n        cout << \"There are no jokers.\\n\";\n    }\n    if (num == 1)\n    {\n        cout << \"Replace J\" << sim << \" with \" << st << \".\\n\";\n    }\n    if (num == 2)\n    {\n        cout << \"Replace J1 with \" << st1 << \" and J2 with \" << st2 << \".\\n\";\n    }\n    cout << \"Put the first square to (\" << x1 + 1 << \", \" << y1 + 1 << \").\\n\";\n    cout << \"Put the second square to (\" << x2 + 1 << \", \" << y2 + 1 << \").\\n\";\n    ok = 1;\n}\nvoid check()\n{\n    int cnt1 = -5, cnt2 = -5;\n    rep(x, n - 2)\n    {\n        rep(y, m - 2)\n        {\n            if (ok)\n                return;\n            if (x < cnt1 + 3 && y < cnt2 + 3)\n                continue;\n            bool suc = 1;\n            char ch;\n            forr(i, x, x + 3)\n            {\n                forr(j, y, y + 3)\n                {\n                    if (i == x && j == y)\n                        ch = s[i][j][1];\n                    else if (ch != s[i][j][1])\n                        suc = 0;\n                }\n            }\n            if (suc == 1)\n            {\n                if (cnt1 == -5)\n                {\n                    cnt1 = x, cnt2 = y;\n                }\n                else\n                    end(cnt1, cnt2, x, y);\n                continue;\n            }\n            if (ok)\n                return;\n            suc = 1;\n            map<char, bool> mc;\n            forr(i, x, x + 3)\n            {\n                forr(j, y, y + 3)\n                {\n                    if (mc[s[i][j][0]])\n                        suc = 0;\n                    mc[s[i][j][0]] = 1;\n                }\n            }\n            if (suc == 1)\n            {\n                if (cnt1 == -5)\n                {\n                    cnt1 = x, cnt2 = y;\n                }\n                else\n                    end(cnt1, cnt2, x, y);\n            }\n            if (ok)\n                return;\n        }\n    }\n}\nvoid solve()\n{\n    cin >> n >> m;\n    rep(i, n) rep(j, m)\n    {\n        cin >> s[i][j];\n        if (isdigit(s[i][j][1]))\n        {\n            num++;\n            sim = s[i][j][1] - '0';\n            if (sim == 1)\n            {\n                jx1 = i, jy1 = j;\n            }\n            else\n            {\n                jx2 = i, jy2 = j;\n            }\n        }\n        else\n            mm[s[i][j]] = 1;\n    }\n    if (num == 0)\n        check();\n    if (num == 1)\n    {\n        rep(i, 13)\n        {\n            rep(j, 4)\n            {\n                if (ok)\n                    return;\n                st = \"\" + a[i] + b[j];\n                if (!mm[st])\n                {\n                    mm[st] = 1;\n                    if (sim == 1)\n                        s[jx1][jy1] = st;\n                    else\n                        s[jx2][jy2] = st;\n                    check();\n                    mm[st] = 0;\n                }\n            }\n        }\n    }\n    if (num == 2)\n    {\n        rep(i, 13)\n        {\n            rep(j, 4)\n            {\n                st1 = \"\" + a[i] + b[j];\n                if (mm[st1])\n                    continue;\n                mm[st1] = 1;\n                s[jx1][jy1] = st1;\n                rep(ii, 13)\n                {\n                    rep(jj, 4)\n                    {\n                        if (ok)\n                            return;\n                        st2 = \"\" + a[ii] + b[jj];\n                        if (!mm[st2])\n                        {\n                            mm[st2] = 1;\n                            s[jx2][jy2] = st2;\n                            check();\n                            mm[st2] = 0;\n                        }\n                    }\n                }\n                mm[st1] = 0;\n            }\n        }\n    }\n    if (!ok)\n        cout << \"No solution.\\n\";\n}\nint main()\n{\n    int T;\n    T = 1;\n    //cin>>T;\n    while (T--)\n        solve();\n    return 0;\n}\n```\n",
        "postTime": 1622460864,
        "uid": 407564,
        "name": "Rushroom",
        "ccfLevel": 7,
        "title": "CF71D Solitaire"
    }
]