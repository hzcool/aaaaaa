[
    {
        "content": "\u8003\u8651\u5728\u6bcf\u4e00\u5806\u672c\u8d28\u76f8\u540c\u7684\u4e32\u4e2d\u627e\u51fa\u5b57\u5178\u5e8f\u6700\u5c0f\u7684\u4e00\u4e2a\u4f5c\u4e3a\u201c\u4ee3\u8868\u4e32\u201d\uff0c\u90a3\u4e48\u7b54\u6848\u5c31\u7b49\u4e8e\u65e0\u6cd5\u901a\u8fc7\u64cd\u4f5c\u4f7f\u5f97\u5b57\u5178\u5e8f\u53d8\u5c0f\u7684\u4e32\u7684\u6570\u91cf\u3002\n\n\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u6570\u5bf9 $(u_i,v_i)$\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u79f0 $u_i$ \u548c $v_i$ \u662f\u53ef\u4ea4\u6362\u7684\n\n\u8003\u8651\u4ec0\u4e48\u6837\u7684\u4e32\u6ee1\u8db3\u8981\u6c42\uff0c\u8003\u8651\u4ece\u524d\u5f80\u540e\u4e00\u4e2a\u4e00\u4e2a\u4f4d\u7f6e\u5730\u586b\u6570\u3002\u5047\u8bbe\u73b0\u5728\u586b\u7684\u6570\u662f $a_i$ \uff0c\u627e\u5230\u6781\u957f\u7684\u4e00\u4e2a\u540e\u7f00 $a_j \\sim a_{i-1} $ \uff0c\u4f7f\u5f97 $ a_i $ \u53ef\u4ee5\u548c\u540e\u7f00\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6570\u90fd\u662f\u53ef\u4ea4\u6362\u7684\uff0c\u53d1\u73b0\u5982\u679c\u540e\u7f00\u4e2d\u5b58\u5728\u4e00\u4e2a\u6570\u5927\u4e8e $ a_i $\uff0c\u90a3\u4e48\u5f53\u524d\u8fd9\u4e2a\u4e32\u5c31\u53ef\u4ee5\u901a\u8fc7\u64cd\u4f5c\u4f7f\u5b57\u5178\u5e8f\u53d8\u5c0f\uff0c\u5426\u5219\u5c31\u4e0d\u884c\u3002\n\n\u5148\u8bc1\u660e\u5145\u5206\u6027\uff1a  \n\u56e0\u4e3a $a_i$ \u548c\u540e\u7f00\u4e2d\u6240\u6709\u6570\u90fd\u662f\u53ef\u4ea4\u6362\u7684\uff0c\u5982\u679c\u5b58\u5728\u67d0\u4e2a\u6570 $a_k$ \u5927\u4e8e $a_i$\uff0c\u90a3\u4e48\u5c31\u76f4\u63a5\u628a $a_i$ \u4ea4\u6362\u5230 $a_k$ \u524d\u9762\uff0c\u5b57\u5178\u5e8f\u5c31\u53d8\u5c0f\u4e86\u3002\n\n\u518d\u8bc1\u5fc5\u8981\u6027\uff1a\n\u8003\u8651\u53cd\u8bc1\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u4f4d\u7f6e\u6ca1\u6709\u6bd4\u81ea\u5df1\u5927\u7684\u53ef\u4ea4\u6362\u7684\u6570\uff0c\u4f46\u662f\u5374\u53ef\u4ee5\u901a\u8fc7\u5c06\u8fd9\u4e2a\u6570\u524d\u79fb\u4f7f\u5b57\u5178\u5e8f\u53d8\u5c0f\u3002\u8003\u8651\u6700\u540e\u7684\u4e00\u4e2a\u4e0e $a_i$ \u65e0\u6cd5\u4ea4\u6362\u7684\u6570 $a_k$ \uff0c\u56e0\u4e3a $a_i$ \u4ea4\u6362\u540e\u653e\u5728 $a_k$ \u4e4b\u540e\u4e0d\u4f1a\u4f7f\u5b57\u5178\u5e8f\u53d8\u5c0f\uff0c\u90a3\u5c31\u5fc5\u987b\u8981 $a_k$ \u4e4b\u524d\u7684\u4ea4\u6362\u5230 $a_k$ \u4e4b\u540e\u4e0e $a_i$ \u4ea4\u6362\uff0c\u4f46\u662f\u8fd9\u65f6 $a_k$ \u7684\u4f4d\u7f6e\u5c31\u4f1a\u524d\u79fb\uff0c\u5b57\u5178\u5e8f\u53cd\u800c\u4f1a\u53d8\u5927\u3002\n\n\u6574\u7406\u4e00\u4e0b\uff0c\u73b0\u5728\u60f3\u8981\u6c42\u7684\u5c31\u662f\uff1a\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u90fd\u6ca1\u6709\u6bd4\u81ea\u5df1\u5927\u7684\u53ef\u4ea4\u6362\u4f4d\u7f6e\u7684\u4e32\u7684\u6570\u91cf\u3002\n\n\u90a3\u4e48\u5982\u4f55\u8ba1\u7b97\u7b54\u6848\uff1f\n\n\u8003\u8651\u72b6\u538bdp\uff0c\u8bbe $f_{i,s}$ \u8868\u793a\u5f53\u524d\u586b\u5230\u7b2ci\u4f4d\uff0c$a_i$ \u4e0d\u80fd\u586b\u96c6\u5408 $s$ \u4e4b\u5185\u7684\u7684\u6570\uff0c\u7684\u65b9\u6848\u6570\u3002\n\n\u9884\u5904\u7406\u51fa\u6bcf\u4e00\u4e2a $s$ \u672b\u5c3e\u586b $i$ \u4ee5\u540e\u4f1a\u8f6c\u79fb\u5230\u7684\u96c6\u5408 $to_{s,i}$ \u3002\u7136\u540e\u76f4\u63a5\u679a\u4e3e\u7b2c $i$ \u4f4d\u586b\u4ec0\u4e48\u6765dp\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O (n*2^{10}*10)$ \uff0cdp\u8fc7\u7a0b\u4e2d\u9002\u5f53\u526a\u679d\uff0c\u8dd1\u5f97\u98de\u5feb\u3002\n\n```c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int mod=998244353;\ninline int add(int a,int b){return a+b>=mod?a+b-mod:a+b;}\ninline void Add(int &a,int b){a+=b;if(a>=mod)a-=mod;}\nint n,m;\nbool mp[10][10];\nint f[2][1<<10];\nint to[1<<10][10];\nint main(){\n\tcin>>n;\n\tcin>>m;\n\twhile(m--){\n\t\tint x,y;\n\t\tcin>>x>>y;\n\t\tmp[x][y]=mp[y][x]=1;\n\t}\n\tf[0][0]=1;\n\tfor(int s=0;s<1<<10;s++){\n\t\tfor(int i=0;i<10;i++){\n\t\t\tif(s&(1<<i)){\n\t\t\t\tto[s][i]=-1;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor(int j=0;j<10;j++){\n\t\t\t\tif(!mp[i][j])continue;\n\t\t\t\tif(j>i||s&(1<<j))to[s][i]|=1<<j;\n\t\t\t}\n\t\t}\n\t}\n\tint p=0;\n\tfor(int i=1;i<=n;i++,p^=1){\n\t\tfor(int s=0;s<1<<10;s++){\n\t\t\tif(!f[p][s])continue;\n\t\t\tfor(int i=0;i<10;i++){\n\t\t\t\tint t=to[s][i];\n\t\t\t\tif(t!=-1)Add(f[p^1][t],f[p][s]);\n\t\t\t}\n\t\t\tf[p][s]=0;\n\t\t}\n\t}\n\tint ans=0;\n\tfor(int s=0;s<1<<10;s++)Add(ans,f[p][s]);\n\tcout<<ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1652949931,
        "uid": 211518,
        "name": "william555",
        "ccfLevel": 9,
        "title": "CF1679F"
    }
]