[
    {
        "content": "## \u601d\u8def\n\ndp\u3002\n\n\u8bbe $f_{i,0/1,0/1}$ \u8868\u793a\u5f53\u524d\u8003\u8651\u5230\u7b2c $i$ \u4f4d\uff0c\u5f53\u524d\u5426/\u662f\u5b58\u5728 $i$ \u4f7f\u5f97 $s_i < w_i$\uff0c\u5f53\u524d\u5426/\u662f\u5b58\u5728 $i$ \u4f7f\u5f97 $s_i > w_i$\u3002\n\n\u8f6c\u79fb\u5c31\u679a\u4e3e\u65b0\u6dfb\u52a0\u7684\u4e24\u4e2a\u5b57\u7b26\uff08$s_i$ \u548c $w_i$\uff09\uff0c\u8bbe\u5b83\u4eec\u5206\u522b\u4e3a $ch1,ch2$\u3002\u5219\u6709\uff1a\n\n$$f_{i,j|[ch1<ch2],k|[ch1>ch2]} \\gets f_{i,j|[ch1<ch2],k|[ch1>ch2]} + f_{i-1,j,k}$$\n\n\u6700\u7ec8\u7684\u7b54\u6848\u5373\u4e3a $f_{n,1,1}$\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $O(n)$\uff08\u5927\u5e38\u6570\uff09\u3002\n\n## \u4ee3\u7801\n\n[code](https://pastebin.ubuntu.com/p/Gz2wdRbM5S/)",
        "postTime": 1644314180,
        "uid": 275273,
        "name": "zltqwq",
        "ccfLevel": 0,
        "title": "CF296B \u9898\u89e3"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/werner-yin/p/13306330.html)\n# \u9898\u76ee\n[\u4f20\u9001\u95e8](https://codeforces.com/contest/296/problem/B)\n\n## \u9898\u76ee\u5927\u610f\n\n> \u5982\u679c\u4e24\u4e2a\u53ea\u5305\u542b\u6570\u5b57\u4e14\u957f\u5ea6\u4e3a $n$ \u7684\u5b57\u7b26\u4e32 $s$ \u548c $w$ \u5b58\u5728\u4e24\u4e2a\u6570\u5b57 $1\u2264i,j\u2264n$\uff0c\u4f7f\u5f97 $s_i<w_i,s_j>w_j$ ,\u5219\u79f0 $s$ \u548c $w$ \u662f\u4e0d\u53ef\u6bd4\u7684\u3002\u73b0\u5728\u7ed9\u5b9a\u4e24\u4e2a\u5305\u542b\u6570\u5b57\u548c\u95ee\u53f7\u4e14\u957f\u5ea6\u4e3a $n$ \u7684\u5b57\u7b26\u4e32\uff0c\u95ee\u6709\u591a\u5c11\u79cd\u65b9\u6848\u4f7f\u5f97\u5c06\u6240\u6709\u95ee\u53f7\u66ff\u6362\u6210 $0$ \u5230 $9$ \u7684\u6570\u5b57\u540e\u4e24\u4e2a\u5b57\u7b26\u4e32\u662f\u4e0d\u53ef\u6bd4\u7684\uff1f\n\n# \u601d\u8def\n## \u5206\u6790\nDP \u9898\uff0c \u6211\u4eec\u6ce8\u610f\u5230\uff0c\u53ea\u8981\u6709\u4e00\u5bf9\u8fd9\u6837\u7684\u6570\u5c31\u53ef\u4ee5\u6ee1\u8db3\u6761\u4ef6\uff0c\u800c\u7b49\u4e8e\u662f\u4e0d\u5c5e\u4e8e\u5224\u65ad\u60c5\u51b5\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u8981\u5355\u72ec\u8bb0\u4e00\u4e2a\u72b6\u6001\u3002\n\n## \u72b6\u6001\n```\nf[i][k]: \u5f53\u5728\u7b2c $i$ \u4f4d\u65f6\uff0c\u7b2c $k$ \u79cd\u60c5\u51b5\u7684\u65b9\u6848\u6570\u3002\n\u4ee5\u4e0b\uff1a j < i\nk = 0 : \u524d\u9762\u53ea\u51fa\u73b0\u4e86 s[j] < w[j] \u7684\u60c5\u51b5\uff0c\u5e76\u6ca1\u6709 s[j] > w[j] \uff0c\u5373 s[j] <= w[j]\nk = 1 : \u524d\u9762 s[j] < w[j] , s[j] > w[j]\nk = 2 : \u524d\u9762\u53ea\u51fa\u73b0\u4e86 s[j] > w[j] \u7684\u60c5\u51b5\uff0c\u5e76\u6ca1\u6709 s[j] < w[j] ,\u5373 s[j] >= w[j]\nk = 3 : \u524d\u9762\u53ea\u6709 s[j] == w[j] \u60c5\u51b5\n```\n\n## \u8f6c\u79fb\n\u6211\u4eec\u8981\u5bf9\u6bcf\u4e00\u4f4d\u8003\u8651\u8be5\u4f4d\u4e0a\u586b\u6bcf\u4e2a\u6570\u5b57\u7684\u60c5\u51b5\u3002\n\n\u5bf9\u4e8e\u5df2\u7ecf\u786e\u5b9a\u6570\u5b57\u7684\u4f4d\uff0c\u6211\u4eec\u8981\u53ea\u8981\u5bf9\u8be5\u6570\u5b57\u8ba8\u8bba\u3002\n\n\u5982\u679c\u6709'?',\u6211\u4eec\u8981\u679a\u4e3e 1~9 \u8fdb\u884c\u8f6c\u79fb\u3002\n\n~~\u611f\u89c9\u6709\u70b9\u50cf\u6570\u4f4dDP\uff1f~~\n\n## \u521d\u59cb\u72b6\u6001\n```cpp\nf[0][3] = 1\n```\n# \u4ee3\u7801\n\u6309\u7167\u5404\u79cd\u72b6\u6001\u8fdb\u884c\u8f6c\u79fb\u5373\u53ef\uff0c\u4ee3\u7801\u91cf\u6709\u70b9\u5927\u3002\n\n\u5f53\u7136\uff0c\u4e5f\u6709\u4e00\u79cd\u4ee3\u7801\u91cf\u5c0f\u7684\u89e3\u6cd5\uff0c\u53ef\u4ee5\u9884\u5148\u7b97\u51fa\u6bcf\u79cd\u60c5\u51b5\u8f6c\u79fb\uff0c\u5c31\u4e0d\u5fc5\u679a\u4e3e\u3002\n ```cpp\n#include <cstdio>\n#include <iostream>\n#include <cmath>\n#include <algorithm>\n#include <cstring>\n#include <string>\n\n#define ll long long\nusing namespace std;\n\nconst int MAXN = 1e5+10;\nconst ll mod = 1e9+7;\n\nint n;\nll f[MAXN][4];\nchar s[MAXN],w[MAXN];\n\nint main (){\n\tscanf(\"%d\",&n);\n\tscanf(\"%s\",s+1);\n\tscanf(\"%s\",w+1);\n\tf[0][0] = f[0][1] =f[0][2] = 0;\n\tf[0][3] = 1;\n\tfor(int i = 1;i <= n;i++){\n\t\tif(s[i] != '?' &&w[i] != '?'){\n\t\t\tif(s[i] > w[i]) {\n\t\t\t\tf[i][0] = 0;\n\t\t\t\tf[i][1] = f[i-1][0] + f[i-1][1];\n\t\t\t\tf[i][2] = f[i-1][2] + f[i-1][3];\n\t\t\t\tf[i][3] = 0;\n\t\t\t} else if(s[i] == w[i]){\n\t\t\t\tf[i][0] = f[i-1][0];\n\t\t\t\tf[i][1] = f[i-1][1];\n\t\t\t\tf[i][2] = f[i-1][2];\n\t\t\t\tf[i][3] = f[i-1][3];\n\t\t\t} else{\n\t\t\t\tf[i][0] = f[i-1][0] + f[i-1][3];\n\t\t\t\tf[i][1] = f[i-1][2] + f[i-1][1];\n\t\t\t\tf[i][2] = 0;\n\t\t\t\tf[i][3] = 0;\n\t\t\t}\n\t\t} else if(s[i] == '?' && w[i] != '?'){\n\t\t\tfor(int j = '0';j < w[i] ;j++){\n\t\t\t\tf[i][0] += f[i-1][0] + f[i-1][3];\n\t\t\t\tf[i][1] += f[i-1][1] + f[i-1][2];\n\t\t\t\tf[i][2] += 0;\n\t\t\t}\n\t\t\tf[i][0] += f[i-1][0];\n\t\t\tf[i][1] += f[i-1][1];\n\t\t\tf[i][2] += f[i-1][2];\n\t\t\tf[i][3] += f[i-1][3];\n\t\t\tfor(int j = w[i] + 1;j <= '9';j++){\n\t\t\t\tf[i][1] += f[i-1][0] + f[i-1][1];\n\t\t\t\tf[i][2] += f[i-1][2] + f[i-1][3];\n\t\t\t}\n\t\t} else if(s[i] != '?' && w[i] == '?'){\n\t\t\t\n\t\t\tfor(int j = '0' ;j < s[i] ;j++){\n\t\t\t\tf[i][1] += f[i-1][0] + f[i-1][1];\n\t\t\t\tf[i][2] += f[i-1][2] + f[i-1][3];\n\t\t\t}\n\t\t\tf[i][0] += f[i-1][0];\n\t\t\tf[i][1] += f[i-1][1];\n\t\t\tf[i][2] += f[i-1][2];\n\t\t\tf[i][3] += f[i-1][3];\n\t\t\tfor(int j = s[i] +1;j <= '9' ;j++){\n\t\t\t\tf[i][0] += f[i-1][0] + f[i-1][3];\n\t\t\t\tf[i][1] += f[i-1][1] + f[i-1][2];\n\t\t\t}\n\t\t} else{\n\t\t\tfor(int j = 0;j < 10;j++){\n\t\t\t\tfor(int k = 0;k < 10;k++){\n\t\t\t\t\tif(j<k){\n\t\t\t\t\t\tf[i][0] += (f[i-1][0] + f[i-1][3])%mod;\n\t\t\t\t\t\tf[i][1] += (f[i-1][1] + f[i-1][2])%mod;\n\t\t\t\t\t} else if(j == k){\n\t\t\t\t\t\tf[i][0] += f[i-1][0];\n\t\t\t\t\t\tf[i][1] += f[i-1][1];\n\t\t\t\t\t\tf[i][2] += f[i-1][2];\n\t\t\t\t\t\tf[i][3] += f[i-1][3];\n\t\t\t\t\t} else{\n\t\t\t\t\t\tf[i][1] += (f[i-1][0] + f[i-1][1])%mod;\n\t\t\t\t\t\tf[i][2] += (f[i-1][2] + f[i-1][3])%mod;\n\t\t\t\t\t}\n\t\t\t\t\tf[i][0] %= mod;\n\t\t\t\t\tf[i][1] %= mod;\n\t\t\t\t\tf[i][2] %= mod;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tf[i][0] %= mod;\n\t\tf[i][1] %= mod;\n\t\tf[i][2] %= mod;\n\t}\n\tprintf(\"%d\",f[n][1] % mod);\n\treturn 0;\n}\n```",
        "postTime": 1594802279,
        "uid": 167354,
        "name": "Werner_Yin",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF296B \u3010Yaroslav and Two Strings\u3011"
    },
    {
        "content": "## \u9898\u610f\n\n\u5982\u679c\u4e24\u4e2a\u53ea\u5305\u542b\u6570\u5b57\u4e14\u957f\u5ea6\u4e3a $n$ \u7684\u5b57\u7b26\u4e32 $s$ \u548c $w$ \u5b58\u5728\u4e24\u4e2a\u6570\u5b57 $\\leq i,j\\leq n$\uff0c\u4f7f\u5f97 $s_i<w_i,s_j>w_j$\uff0c\u5219\u79f0 $s$ \u548c $w$ \u662f\u4e0d\u53ef\u6bd4\u7684\u3002\u73b0\u5728\u7ed9\u5b9a\u4e24\u4e2a\u5305\u542b\u6570\u5b57\u548c\u95ee\u53f7\u4e14\u957f\u5ea6\u4e3a $n$ \u7684\u5b57\u7b26\u4e32\uff0c\u95ee\u6709\u591a\u5c11\u79cd\u65b9\u6848\u4f7f\u5f97\u5c06\u6240\u6709\u95ee\u53f7\u66ff\u6362\u6210 0 \u5230 9 \u7684\u6570\u5b57\u540e\u4e24\u4e2a\u5b57\u7b26\u4e32\u662f\u4e0d\u53ef\u6bd4\u7684\uff1f\n\n### \u9898\u89e3\n\n\u8bf4\u5b9e\u8bdd\u6211\u611f\u89c9\u8fd9\u9898\u5e76\u6ca1\u6709\u8981\u7528 DP \u7684\u7406\u7531\u2026\u2026\u6bcf\u4e2a\u4f4d\u7f6e\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u90fd\u662f\u72ec\u7acb\u7684\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u524d\u9762\u7684\u72b6\u6001\uff0c\u8fd9\u5e94\u8be5\u5df2\u7ecf\u53ef\u4ee5\u76f4\u63a5\u505a\u4e86\u5427\u3002\n\n\u7136\u540e\u8d21\u732e\u5408\u5e76\u65f6\u4e5f\u5dee\u4e0d\u591a\u662f\u6216\u7684\u5f62\u5f0f\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u4f4d\u7f6e\u6ee1\u8db3\u5f0f\u5b50\u5373\u53ef\u3002\u56e0\u6b64\u8003\u8651\u5bb9\u65a5\u3002\n\n\u628a\u4f7f\u5f97 $a_i\\leq b_i$\u3001$b_i\\leq a_i$\u3001$a_i=b_i$  \u6052\u6210\u7acb\u7684\u65b9\u6848\u6570\u6311\u51fa\u6765\uff0c\u518d\u8ba1\u7b97\u51fa\u6240\u6709\u53ef\u80fd\u7684\u65b9\u6848\u6570\u5373\u53ef\u3002\n\n\u8981\u7b97\u76f8\u7b49\u7684\u60c5\u51b5\u7684\u539f\u56e0\u662f\uff0c\u5bf9\u4e8e\u5c0f\u4e8e\u548c\u7b49\u4e8e\u540c\u65f6\u5b58\u5728\u7684\u65b9\u6848\uff0c\u5982\u679c\u662f\u7528\u4e25\u683c\u5c0f\u4e8e\u53bb\u6c42\uff0c\u4f1a\u5bfc\u81f4\u6f0f\u6389\u8fd9\u4e9b\u89e3\uff1b\u5982\u679c\u628a\u8fd9\u4e9b\u89e3\u653e\u5230\u5c0f\u4e8e\u91cc\u5934\u7528\u4e0d\u4e25\u683c\u5c0f\u4e8e\u53bb\u7b97\uff0c\u6700\u6781\u7aef\u7684\u90fd\u76f8\u7b49\u7684\u60c5\u51b5\u4f1a\u88ab\u7b97\u4e24\u6b21\uff0c\u6240\u4ee5\u52a0\u56de\u6765\u4e00\u6b21\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int N=1e5+5;\nconst ll P=1e9+7;\n\nint n,cnt;char a[N],b[N];\nll ans1=1,ans2=1,ans3=1;\n\nll quickpow(ll x,int y,ll ret=1){\n    for(;y;x=x*x%P,y>>=1) if(y&1) ret=ret*x%P;\n    return ret;\n}\n\nsigned main(){\n    scanf(\"%d%s%s\",&n,a+1,b+1);\n    for(int i=1;i<=n;++i)\n\t\tcnt+=(a[i]=='?')+(b[i]=='?');\n    for(int i=1;i<=n&&ans1;++i)\n\t\tans1=ans1*(a[i]=='?'?(b[i]=='?'?55:10-b[i]+'0'):(b[i]=='?'?a[i]-'0'+1:a[i]>=b[i]))%P;\n    for(int i=1;i<=n&&ans2;++i)\n\t\tans2=ans2*(b[i]=='?'?(a[i]=='?'?55:10-a[i]+'0'):(a[i]=='?'?b[i]-'0'+1:b[i]>=a[i]))%P;\n    for(int i=1;i<=n&&ans3;++i)\n\t\tans3=ans3*(a[i]=='?'?(b[i]=='?'?10:1):(b[i]=='?'?1:a[i]==b[i]))%P;\n    printf(\"%d\\n\",((quickpow(10,cnt)-ans1-ans2+ans3)%P+P)%P);\n    return 0;\n}\n\n//~kawaii~\n\n```",
        "postTime": 1640613334,
        "uid": 372708,
        "name": "Yahbim",
        "ccfLevel": 0,
        "title": "CF296B Yaroslav and Two Strings \u9898\u89e3"
    },
    {
        "content": "\u8003\u8651\u66b4\u529b\u9012\u63a8\u3002\n\n\n### \u72b6\u6001\n\n\u672c\u9898\u67094\u79cd\u72b6\u6001\u3002\n\n\u6211\u4eec\u7528 $dp_{i, st}$ \u6765\u8868\u793a\u5728\u7b2c i \u4f4d\u4e0a\uff0c\u72b6\u6001\u4e3a st \u7684\u65b9\u6848\u6570\u3002\n\n* $st=0$ \u8868\u793a\u4e4b\u524d\u4ec5\u6709 $s_{j} \\leq w_{j}$  \n* $st=1$ \u8868\u793a\u4e4b\u524d\u540c\u65f6\u51fa\u73b0 $s_{j_{1}} < w_{j_{1}}$ \u548c $s_{j_{2}} > w_{j_{2}}$\n* $st=2$ \u8868\u793a\u4e4b\u524d\u4ec5\u6709 $s_{j} \\geq w_{j}$\n* $st=3$ \u8868\u793a\u4e4b\u524d\u4ec5\u6709 $s_{j} = w_{j}$\n\n### \u8f6c\u79fb\n\u5bf9\u4e8e\u51fa\u73b0 `'?'` \u7684\u60c5\u51b5\uff0c\u6211\u4eec\u4ece0\u52309\u8fdb\u884c\u679a\u4e3e\u3002\u679a\u4e3e\u65f6\u6ce8\u610f\u7528\u5b57\u7b26 `'0'` \u5230 `'9'`\u3002\n\n* \u5f53 $s_{i} < w_{i}$ \u65f6\uff0c$dp_{i, 0}$ \u53ef\u4ee5\u4ece $dp_{i - 1, 0}$ \u548c $dp_{i - 1, 3}$ \u8f6c\u79fb\u6765\u3002$dp_{i, 1}$ \u53ef\u4ee5\u4ece $dp_{i - 1, 1}$ \u548c $dp_{i - 1, 2}$ \u8f6c\u79fb\u6765\u3002\n* \u5f53 $s_{i} > w_{i}$ \u65f6\uff0c$dp_{i, 1}$ \u53ef\u4ee5\u4ece $dp_{i - 1, 0}$ \u548c $dp_{i - 1, 1}$ \u8f6c\u79fb\u6765\u3002$dp_{i, 2}$ \u53ef\u4ee5\u4ece $dp_{i - 1, 2}$ \u548c $dp_{i - 1, 3}$ \u8f6c\u79fb\u6765\u3002\n* \u5f53 $s_{i} = w_{i}$ \u65f6\uff0c\u53ef\u76f4\u63a5\u52a0\u4e0a\u524d\u4e00\u6b65\u7684\u65b9\u6848\u6570\u3002\n\n### \u521d\u59cb\u72b6\u6001\n\n$dp_{0, 3} = 1$\n\n### \u4ee3\u7801\n\n\u770b\u4e86 @Werner_Yin \u7684\u9898\u89e3\u624d\u61c2\u3002\u6240\u4ee5\u601d\u8def\u548c\u4ee3\u7801\u8ddf\u4ed6\u7684\u9898\u89e3\u5dee\u4e0d\u591a\u3002\n\n```cpp\n#include <iostream>\n#include <fstream>\n\nusing ll = long long;\n\nnamespace MOD\n{\n    const ll mod = 1e9 + 7;\n} // namespace MOD\n\n#include <string>\n\nnamespace Solution\n{\n\n    ll dp[100005][4];\n    std::string s, w;\n\n    int main()\n    {\n        #ifndef ONLINE_JUDGE\n            std::ifstream cin(\"main.in\");\n            std::ofstream cout(\"main.out\");\n        #else\n            std::ios::sync_with_stdio(false);\n            std::cin.tie(nullptr);\n            std::cout.tie(nullptr);\n            using std::cin;\n            using std::cout;\n        #endif\n\n        int n;\n        cin >> n >> s >> w;\n        dp[0][3] = 1;\n        s = ' ' + s;\n        w = ' ' + w;\n        for (int i = 1; i <= n; ++i)\n        {\n            if (s[i] != '?' && w[i] != '?')\n            {\n                if (s[i] > w[i])\n                {\n                    dp[i][0] = 0;\n                    dp[i][1] = dp[i - 1][0] + dp[i - 1][1];\n                    dp[i][2] = dp[i - 1][2] + dp[i - 1][3];\n                    dp[i][3] = 0;\n                }\n                else if (s[i] == w[i])\n                {\n                    dp[i][0] = dp[i - 1][0];\n                    dp[i][1] = dp[i - 1][1];\n                    dp[i][2] = dp[i - 1][2];\n                    dp[i][3] = dp[i - 1][3];\n                }\n                else  \n                {\n                    dp[i][0] = dp[i - 1][0] + dp[i - 1][3];\n                    dp[i][1] = dp[i - 1][1] + dp[i - 1][2];\n                    dp[i][2] = 0;\n                    dp[i][3] = 0;\n                }\n            }\n            else if (s[i] == '?' && w[i] != '?')\n            {\n                for (int j = '0'; j < w[i]; ++j)\n                {\n                    dp[i][0] += dp[i - 1][0] + dp[i - 1][3];\n                    dp[i][1] += dp[i - 1][1] + dp[i - 1][2];\n                }\n                dp[i][0] += dp[i - 1][0];\n                dp[i][1] += dp[i - 1][1];\n                dp[i][2] += dp[i - 1][2];\n                dp[i][3] += dp[i - 1][3];\n                for (int j = w[i] + 1; j <= '9'; ++j)\n                {\n                    dp[i][1] += dp[i - 1][0] + dp[i - 1][1];\n                    dp[i][2] += dp[i - 1][2] + dp[i - 1][3];\n                }\n            }\n            else if (s[i] != '?' && w[i] == '?')\n            {\n                for (int j = '0'; j < s[i]; ++j)\n                {\n                    dp[i][1] += dp[i - 1][0] + dp[i - 1][1];\n                    dp[i][2] += dp[i - 1][2] + dp[i - 1][3];\n                }\n                dp[i][0] += dp[i - 1][0];\n                dp[i][1] += dp[i - 1][1];\n                dp[i][2] += dp[i - 1][2];\n                dp[i][3] += dp[i - 1][3];\n                for (int j = s[i] + 1; j <= '9'; ++j)\n                {\n                    dp[i][0] += dp[i - 1][0] + dp[i - 1][3];\n                    dp[i][1] += dp[i - 1][1] + dp[i - 1][2];\n                }\n            }\n            else  \n            {\n                for (int j = '0'; j <= '9'; ++j)\n                {\n                    for (int k = '0'; k <= '9'; ++k)\n                    {\n                        if (j < k)\n                        {\n                            dp[i][0] += dp[i - 1][0] + dp[i - 1][3];\n                            dp[i][1] += dp[i - 1][1] + dp[i - 1][2];\n                        }\n                        else if (j == k)\n                        {\n                            dp[i][0] += dp[i - 1][0];\n                            dp[i][1] += dp[i - 1][1];\n                            dp[i][2] += dp[i - 1][2];\n                            dp[i][3] += dp[i - 1][3];\n                        }\n                        else \n                        {\n                            dp[i][1] += dp[i - 1][0] + dp[i - 1][1];\n                            dp[i][2] += dp[i - 1][2] + dp[i - 1][3];\n                        }\n                    }\n                }\n            }\n            dp[i][0] %= MOD::mod;\n            dp[i][1] %= MOD::mod;\n            dp[i][2] %= MOD::mod;\n            dp[i][3] %= MOD::mod;\n        }\n        cout << dp[n][1] % MOD::mod;\n\n        #ifndef ONLINE_JUDGE\n            cin.close();\n            cout.close();\n        #endif\n        return 0;\n    }\n} // namespace Solution\n\n\nint main(int argc, const char* argv[])\n{\n    Solution::main();\n    return 0;\n}\n```",
        "postTime": 1631347849,
        "uid": 317805,
        "name": "BootsH",
        "ccfLevel": 0,
        "title": "Solution of CF296B Yaroslav and Two Strings"
    },
    {
        "content": "> \u7ed9\u5b9a\u4e24\u4e2a\u5305\u542b\u6570\u5b57\u548c\u95ee\u53f7\u4e14\u957f\u5ea6\u4e3a $n$ \u5b57\u7b26\u4e32 $s,w$\uff0c\u6c42\u6709\u591a\u5c11\u79cd\u65b9\u6848\u4f7f\u5f97\u5c06\u6240\u6709\u95ee\u53f7\u66ff\u6362\u6210 $0$ \u5230 $9$ \u7684\u6570\u5b57\u540e\u4e24\u4e2a\u5b57\u7b26\u4e32\u662f `\u4e0d\u53ef\u6bd4` \u7684\u3002\n\n> `\u4e0d\u53ef\u6bd4` \u5b9a\u4e49\u4e3a\uff1a\u5b58\u5728 $i,j\\in[1,n]$\uff0c\u4f7f $s_i<w_i$ \u4e14 $s_j>w_j$\u3002\n\n\u72b6\u6001\u8f6c\u79fb\u6709\u70b9\u9ebb\u70e6\uff0c\u9700\u8981\u5206\u7c7b\u8ba8\u8bba $+$ \u5bb9\u65a5\u3002\n\n\u8bbe $f_{i,k}$ \u4e3a\u524d $i$ \u4e2a\u5b57\u7b26\uff0c\u60c5\u51b5\u4e3a $k$ \u7684\u65b9\u6848\u6570\uff08\u4ee5\u4e0b $j<i$\uff09\u3002\n\n* $f_{i,0}$ \u4e3a\u524d $i$ \u4e2a\u5b57\u7b26\u4e0d\u53ef\u6bd4\u7684\u5b57\u7b26\u4e32\u7684\u65b9\u6848\u6570\u3002\n\n* $f_{i,1}$ \u4e3a\u524d $i$ \u4e2a\u5b57\u7b26\u53ef\u6bd4\u7684\u5b57\u7b26\u4e32\u4e14\u6240\u6709 $s_j\\leq w_j$ \u7684\u65b9\u6848\u6570\u3002\n\n* $f_{i,2}$ \u4e3a\u524d $i$ \u4e2a\u5b57\u7b26\u53ef\u6bd4\u7684\u5b57\u7b26\u4e32\u4e14\u6240\u6709 $s_j\\geq w_j$ \u7684\u65b9\u6848\u6570\u3002\n \n* $f_{i,3}$ \u4e3a\u524d $i$ \u4e2a\u5b57\u7b26\u53ef\u6bd4\u7684\u5b57\u7b26\u4e32\u4e14\u6240\u6709 $s_j=w_j$ \u7684\u65b9\u6848\u6570\u3002\n\n\u8d77\u59cb\u6709 $f_{1,0}=0,f_{0,1\\sim 3}=1$\u3002\n\n\u7136\u540e\u8fdb\u884c\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n1. $s_i\\not=\\ ?,w_i\\not=\\ ?$\n\n$f_{i,0}=f_{i-1,0}+f_{i-1,1}[s_i>w_i]+f_{i-1,2}[s_i<w_i]-f_{i-1,3}[s_i\\not= w_i]$\n\n$f_{i,1}=f_{i-1,1}[s_i\\leq w_i]$\n\n$f_{i,2}=f_{i-1,2}[s_i\\geq w_i]$\n\n$f_{i,3}=f_{i-1,3}[s_i=w_i]$\n\n\u5c31\u662f\u4e4b\u524d\u7684\u65b9\u6848\u52a0\u4e0a\u548c\u73b0\u5728\u76f8\u53cd\u7684\u65b9\u6848\uff0c\u8fd8\u8981\u51cf\u53bb\u76f8\u7b49\u7684\u65b9\u6848\u3002\n\n2. $s_i=\\ ?,w_i\\not=\\ ?$ \uff08\u4e24\u79cd\u4e00\u6837\uff0c\u8fd9\u91cc\u53ea\u8bf4\u4e00\u79cd\uff09\n\n$f_{i,0}=10\\times f_{i-1,0}+(9-(w_i-'0'))\\times f_{i-1,1}+(w_i-'0')\\times f_{i-1,2}-9\\times f_{i-1,3}$\n\n$f_{i,1}=((w_i-'0')+1)\\times f_{i-1,1}$\n\n$f_{i,2}=(10-(w_i-'0'))\\times f_{i-1,2}$\n\n$f_{i,3}=f_{i-1,3}$\n\n\u5c31\u662f\u5c06\u95ee\u53f7\u6240\u6709\u7684\u60c5\u51b5\u90fd\u4e58\u8d77\u6765\u3002\n\n3. $s_i=\\ ?,w_i=\\ ?$\n\n$f_{i,0}=100\\times f_{i-1,0}+45\\times f_{i-1,1}+45\\times f_{i-1,2}-90\\times f_{i-1,3}$\n\n$f_{i,1}=55\\times f_{i-1,1}$\n\n$f_{i,2}=55\\times f_{i-1,2}$\n\n$f_{i,3}=10\\times f_{i-1,3}$\n\n\u4e5f\u662f\u548c\u4e0a\u9762\u4e00\u6837\uff0c\u5c06\u95ee\u53f7\u6240\u6709\u60c5\u51b5\u4e58\u8d77\u6765\u3002\n\n\u6700\u540e\u7b54\u6848\u4e3a $f_{n,0}$\u3002\n\n$\\texttt{Code:}$\n\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\n#define ull unsigned long long\n#define rint register int\n#define int long long\nusing namespace std;\nnamespace IO{\n\t#define File(x,y) freopen(#x,\"r\",stdin),freopen(#y,\"w\",stdout);\n\tinline int read(){\n\t\tint w=0,f=1; char ch=getchar();\n\t\twhile(ch<'0'||ch>'9'){if(ch=='-') f=-1; ch=getchar();}\n\t\twhile(ch>='0'&&ch<='9'){w=(w<<3)+(w<<1)+(ch^48); ch=getchar();}\n\t\treturn w*f;\n\t}\n\tinline void write(int x){\n  \t\tstatic int sta[35]; int top=0;\n  \t\tdo{sta[++top]=x%10,x/=10;}while(x);\n  \t\twhile(top) putchar(sta[top--]+48); puts(\"\");\n\t}\n}\nusing namespace IO;\nnamespace CL{\n\t#define fill(x,y) memset(x,y,sizeof(x))\n\t#define copy(x,y) memcpy(y,x,sizeof(x))\n\t\n\tconst int maxn=1e5+5,mod=1e9+7;\n\t\n\tint n;\n\tint f[maxn][4];// <&&> <= >= =\n\tchar s[maxn],w[maxn];\n\t\n\tinline int main(){\n\t\tn=read(); scanf(\"%s%s\",s+1,w+1);\n\t\tf[0][1]=f[0][2]=f[0][3]=1;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tif(s[i]!='?' && w[i]!='?'){\n\t\t\t\tf[i][0]=(f[i-1][0]+f[i-1][1]*(s[i]>w[i])%mod+f[i-1][2]*(s[i]<w[i])%mod-f[i-1][3]*(s[i]!=w[i])%mod+mod)%mod;\n\t\t\t\tf[i][1]=f[i-1][1]*(s[i]<=w[i])%mod;\n\t\t\t\tf[i][2]=f[i-1][2]*(s[i]>=w[i])%mod;\n\t\t\t\tf[i][3]=f[i-1][3]*(s[i]==w[i])%mod;\n\t\t\t}\n\t\t\tif(s[i]=='?' && w[i]!='?'){\n\t\t\t\tf[i][0]=(10*f[i-1][0]%mod+(9-(w[i]-'0'))*f[i-1][1]%mod+(w[i]-'0')*f[i-1][2]%mod-9*f[i-1][3]%mod+mod)%mod;\n\t\t\t\tf[i][1]=((w[i]-'0')+1)*f[i-1][1]%mod;\n\t\t\t\tf[i][2]=(10-(w[i]-'0'))*f[i-1][2]%mod;\n\t\t\t\tf[i][3]=f[i-1][3]%mod;\n\t\t\t}\n\t\t\tif(s[i]!='?' && w[i]=='?'){\n\t\t\t\tf[i][0]=(10*f[i-1][0]%mod+(s[i]-'0')*f[i-1][1]%mod+(9-(s[i]-'0'))*f[i-1][2]%mod-9*f[i-1][3]%mod+mod)%mod;\n\t\t\t\tf[i][1]=(10-(s[i]-'0'))*f[i-1][1]%mod;\n\t\t\t\tf[i][2]=((s[i]-'0')+1)*f[i-1][2]%mod;\n\t\t\t\tf[i][3]=f[i-1][3]%mod;\n\t\t\t}\n\t\t\tif(s[i]=='?' && w[i]=='?'){\n\t\t\t\tf[i][0]=(100*f[i-1][0]%mod+45*f[i-1][1]%mod+45*f[i-1][2]%mod-90*f[i-1][3]%mod+mod)%mod;\n\t\t\t\tf[i][1]=55*f[i-1][1]%mod;\n\t\t\t\tf[i][2]=55*f[i-1][2]%mod;\n\t\t\t\tf[i][3]=10*f[i-1][3]%mod;\n\t\t\t}\n\t\t\tf[1][0]=0;\n\t\t}\n\t\tprintf(\"%lld\\n\",f[n][0]%mod);\n\t\treturn 0;\n\t}\n}\nsigned main(){return CL::main();}\n```",
        "postTime": 1626093471,
        "uid": 226113,
        "name": "\u706b\u7fbd\u767d\u65e5\u751f",
        "ccfLevel": 0,
        "title": "\u300c\u9898\u89e3\u300dCF296B Yaroslav and Two Strings"
    },
    {
        "content": "\u8003\u8651\u76f4\u63a5\u5bf9\u4e0d\u53ef\u6bd4\u7684\u4e32\u8fdb\u884cdp\uff0c\u8bbe$f_i$\u8868\u793a\u524d$i$\u4e2a\u5b57\u7b26\u4e0d\u53ef\u6bd4\u7684\u4e32\u7684\u4e2a\u6570\uff0c$g1_i$\u8868\u793a\u524d$i$\u4e2a\u5b57\u7b26\u53ef\u6bd4\u7684\u5b57\u7b26\u4e32\u4e14\u6240\u6709$s\\leq t$\u7684\u4e2a\u6570\uff0c$g2_i$\u8868\u793a\u524d$i$\u4e2a\u5b57\u7b26\u53ef\u6bd4\u7684\u5b57\u7b26\u4e32\u4e14\u6240\u6709$s\\geq t$\u7684\u4e2a\u6570\uff0c$g3_i$\u8868\u793a\u524d$i$\u4e2a\u5b57\u7b26\u53ef\u6bd4\u7684\u5b57\u7b26\u4e32\u4e14$s=t$\u7684\u4e2a\u6570\u3002\n\n\u4e8e\u662f\u8003\u8651\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n1. $s_i\\neq ?,w_i\\neq?$\n\n$$\\begin{cases}f_i=f_{i-1}+g1_{i-1}[s_i>w_i]+g2_{i-1}[s_i<w_i]-g3_{i-1}[s_i\\ne w_i]\\\\g1_i=g1_{i-1}[s_i\\le w_i]\\\\g2_i=g2_{i-1}[s_i\\ge w_i]\\\\g3_i=g3_{i-1}[s_i=w_i]\\end{cases}$$\n\n\u5c31\u662f\u4e4b\u524d\u7684\u65b9\u6848\u4e58\u548c\u8fd9\u4e00\u4f4d\u76f8\u53cd\u7684\u65b9\u6848\uff0c\u4f46\u8fd8\u8981\u51cf\u53bb\u4e4b\u524d\u90fd\u76f8\u7b49\u7684\u65b9\u6848\u3002\n\n2. $s_i=?,w_i\\neq?$\n\n\u6709\u4e00\u4e2a\u662f\u95ee\u53f7\u7684\u505a\u6cd5\u662f\u7c7b\u4f3c\u7684\uff0c\u6240\u4ee5\u6211\u53ea\u62ff\u4e00\u4e2a\u6765\u8bf4\u3002\n\n$$\\begin{cases}f_i=10f_{i-1}+(9-(w_i-'0'))g1_{i-1}+(w_i-'0')g2_{i-1}-9g3_{i-1}\\\\g1_i=(w_i-'0'+1)g1_{i-1}\\\\g2_i=(9-(w_i-'0')+1)g2_{i-1}\\\\g3_i=g3_{i-1}\\end{cases}$$\n\n\u76f4\u63a5\u8003\u8651\u95ee\u53f7\u4f1a\u53d6\u5230\u54ea\u4e9b\u503c\uff0c\u7136\u540e\u7528\u548c\u4e0a\u9762\u4e00\u6837\u7684\u5bb9\u65a5\u5904\u7406\u65b9\u6848\u3002\n\n3. $s_i=?,w_i=?$\n\n$$\\begin{cases}f_i=100f_{i-1}+45g1_{i-1}+45g2_{i-1}-90g3_{i-1}\\\\g1_i=55g1_{i-1}\\\\g2_i=55g2_{i-1}\\\\g3_i=10g3_{i-1}\\end{cases}$$\n\n\u591a\u8003\u8651\u4e00\u4e2a\u95ee\u53f7\uff0c\u5c31\u662f\u591a\u7528\u4e00\u4e2a\u6c42\u548c\u516c\u5f0f\u7b97\u7b97\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u6700\u540e\u6ce8\u610f\u4e0b$i=1$\u7684\u65f6\u5019\u4e0d\u4f1a\u6784\u6210\u4e0d\u53ef\u6bd4\u7684\u4e32\uff0c\u6240\u4ee5$f_1=0$\n\n**Code**\n``` cpp\n#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <algorithm>\nconst int N = 1e5;\nconst int p = 1e9 + 7;\nusing namespace std;\nint n,g1[N + 5],g2[N + 5],f[N + 5],g3[N + 5];\nchar s[N + 5],w[N + 5];\nint main()\n{\n    scanf(\"%d\",&n);\n    scanf(\"%s\",s + 1);\n    scanf(\"%s\",w + 1);\n    g1[0] = g2[0] = g3[0] = 1;\n    for (int i = 1;i <= n;i++)\n    {\n        if (s[i] != '?' && w[i] != '?')\n        {\n            if (s[i] <= w[i])\n                g1[i] = g1[i - 1];\n            if (s[i] >= w[i])\n                g2[i] = g2[i - 1];\n            if (s[i] == w[i])\n                g3[i] = g3[i - 1];\n            f[i] = f[i - 1];\n            if (s[i] < w[i])\n                f[i] += g2[i - 1],f[i] %= p;\n            if (s[i] > w[i])\n                f[i] += g1[i - 1],f[i] %= p;\n            if (s[i] != w[i])\n                f[i] -= g3[i - 1],f[i] %= p;\n        }\n        if (s[i] == '?' && w[i] != '?')\n        {\n            f[i] = 10ll * f[i - 1] % p;\n            g1[i] = 1ll * g1[i - 1] * (w[i] - '0' + 1) % p;\n            g2[i] = 1ll * g2[i - 1] * (9 - (w[i] - '0') + 1) % p;\n            g3[i] = g3[i - 1];\n            f[i] += 1ll * g1[i - 1] * (9 - (w[i] - '0')) % p;\n            f[i] %= p;\n            f[i] += 1ll * g2[i - 1] * (w[i] - '0') % p;\n            f[i] %= p;\n            f[i] -= 9ll * g3[i - 1] % p;\n            f[i] %= p;\n        }\n        if (s[i] != '?' && w[i] == '?')\n        {\n            f[i] = 10ll * f[i - 1] % p;\n            g1[i] = 1ll * g1[i - 1] * (9 - (s[i] - '0') + 1) % p;\n            g2[i] = 1ll * g2[i - 1] * (s[i] - '0' + 1) % p;\n            g3[i] = g3[i - 1];\n            f[i] += 1ll * g1[i - 1] * (s[i] - '0') % p;\n            f[i] %= p;\n            f[i] += 1ll * g2[i - 1] * (9 - (s[i] - '0')) % p;\n            f[i] %= p;\n            f[i] -= 9ll * g3[i - 1] % p;\n            f[i] %= p;\n        }\n        if (s[i] == '?' && w[i] == '?')\n        {\n            f[i] = 100ll * f[i - 1] % p;\n            g1[i] = 55ll * g1[i - 1] % p;\n            g2[i] = 55ll * g2[i - 1] % p;\n            g3[i] = 10ll * g3[i - 1] % p;\n            f[i] += (45ll * g1[i - 1] % p + 45ll * g2[i - 1] % p) % p;\n            f[i] %= p;\n            f[i] -= 90ll * g3[i - 1] % p;\n            f[i] %= p;\n        }\n        f[1] = 0;\n    }\n    cout<<(f[n] + p) % p<<endl;\n    return 0;\n}\n```",
        "postTime": 1605097509,
        "uid": 73231,
        "name": "eee_hoho",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF296B \u3010Yaroslav and Two Strings\u3011"
    },
    {
        "content": "## $Solution$\n\n\u52fe\u5df4\u9898\uff0c\u590d\u6742\u5ea6 $O(n)$\n\n\u8bbe $f_{i, 0/1, 0/1}$ \u8868\u793a\u505a\u5230 $i$ \uff0c$s_i > w_i$ \u662f\u5426\u6ee1\u8db3\uff0c $w_i > s_i$ \u662f\u5426\u6ee1\u8db3\u65f6\u7684\u65b9\u6848\u6570\u3002\n\n\u8f6c\u79fb\u8ba8\u8bba\u8fd9\u4e00\u4f4d\u6709\u51e0\u4e2a\u95ee\u53f7\n\n\u5982\u679c\u4e24\u4e2a\u90fd\u4e0d\u662f\u76f4\u63a5\u6839\u636e\u4e24\u8005\u7684\u504f\u5e8f\u5173\u7cfb\u7ee7\u627f\u6216\u8005\u8f6c\u79fb\n\n\u5982\u679c\u6709\u4e00\u4e2a\u662f\u5c31\u4e58\u4e0a\u5408\u6cd5\u7684\u65b9\u6848\u6570\n\n\u5982\u679c\u4e24\u4e2a\u90fd\u662f\u5c31\u66b4\u7b97\n\n\u5177\u4f53\u5b9e\u73b0\u770b\u4ee3\u7801\uff0c\u6ce8\u610f\u7ec6\u8282\u3002\n\n```cpp\nif (a[i] == -1 || b[i] == -1) {\n\tif (a[i] == -1 && b[i] != -1) {\n\t\tAdd(f[i][0][0], f[i - 1][0][0]);\n\t\tAdd(f[i][0][1], (f[i - 1][0][0] * b[i] % P + f[i - 1][0][1] * (b[i] + 1) % P) % P);\n\t\tAdd(f[i][1][0], (f[i - 1][0][0] * (9 - b[i]) % P + f[i - 1][1][0] * (10 - b[i]) % P) % P);\n\t\tAdd(f[i][1][1], ((f[i - 1][0][1] * (9 - b[i]) % P + f[i - 1][1][0] * b[i] % P) % P + f[i - 1][1][1] * 10 % P) % P);\n\t}\n\tif (a[i] != -1 && b[i] == -1) {\n\t\tAdd(f[i][0][0], f[i - 1][0][0]);\n\t\tAdd(f[i][0][1], (f[i - 1][0][0] * (9 - a[i]) % P + f[i - 1][0][1] * (10 - a[i]) % P) % P);\n\t\tAdd(f[i][1][0], (f[i - 1][0][0] * a[i] % P + f[i - 1][1][0] * (a[i] + 1) % P) % P);\n\t\tAdd(f[i][1][1], ((f[i - 1][0][1] * a[i] % P + f[i - 1][1][0] * (9 - a[i]) % P) % P + f[i - 1][1][1] * 10 % P) % P);\n\t}\n\tif (a[i] == -1 && b[i] == -1) {\n\t\tAdd(f[i][0][0], f[i - 1][0][0] * 10 % P);\n\t\tAdd(f[i][0][1], (f[i - 1][0][0] * 45 % P + f[i - 1][0][1] * 55 % P) % P);\n\t\tAdd(f[i][1][0], (f[i - 1][0][0] * 45 % P + f[i - 1][1][0] * 55 % P) % P);\n\t\tAdd(f[i][1][1], ((f[i - 1][0][1] * 45 % P + f[i - 1][1][0] * 45 % P) % P + f[i - 1][1][1] * 100 % P) % P);\n\t}\n} else {\n\tif (a[i] > b[i]) {\n\t\tAdd(f[i][1][0], (f[i - 1][0][0] + f[i - 1][1][0]) % P);\n\t\tAdd(f[i][1][1], (f[i - 1][0][1] + f[i - 1][1][1]) % P);\n\t}\n\tif (a[i] < b[i]) {\n\t\tAdd(f[i][0][1], (f[i - 1][0][0] + f[i - 1][0][1]) % P);\n\t\tAdd(f[i][1][1], (f[i - 1][1][0] + f[i - 1][1][1]) % P);\n\t}\n\tif (a[i] == b[i]) {\n\t\tf[i][0][0] = f[i - 1][0][0], f[i][1][0] = f[i - 1][1][0];\n\t\tf[i][0][1] = f[i - 1][0][1], f[i][1][1] = f[i - 1][1][1];\n\t}\n}\n```\n$ps:$ $Add$ \u662f\u4e24\u6570\u76f8\u52a0\u51fd\u6570\u3002",
        "postTime": 1603457943,
        "uid": 104379,
        "name": "Cesare",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF296B \u3010Yaroslav and Two Strings\u3011"
    },
    {
        "content": "\u6c34\u4e00\u4e2a\u9898\u89e3 \uff08 \n\n\u8fd9\u9898\u4e00\u5f00\u59cb\u600e\u4e48\u770b\u600e\u4e48\u50cfDP , \u540e\u6765\u611f\u89c9\u72b6\u6001\u8f6c\u79fb\u5f88\u9ebb\u70e6 \uff0c \u4fbf\u60f3\u5230\u4e86\u5bb9\u65a5\u3002\n\n\u8bbe$ans$ \u6240\u6709\u60c5\u51b5 \uff08\u5305\u62ec\u4e0d\u5408\u6cd5\u7684\u60c5\u51b5 + \u5408\u6cd5\u60c5\u51b5\uff09 \uff0c \u4e0d\u96be\u60f3\u5230 \uff0c\u4e0d\u5408\u6cd5\u7684\u60c5\u51b5\u5c31\u53ea\u6709\u5168\u90e8\u7b49\u4e8e \uff0c \u5168\u90e8\u5927\u4e8e \uff0c \u548c \u5168\u90e8\u5c0f\u4e8e\u8fd9\u4e09\u79cd\n\n\u4fbf\u8bbe\n\n$res1$ = \u5168\u90e8\u5927\u7ea6\u7684\u60c5\u51b5\n\n$res2$ = \u5168\u90e8\u5c0f\u4e8e\u7684\u60c5\u51b5\n\n$res3$ = \u5168\u90e8\u7b49\u4e8e\u7684\u60c5\u51b5\n\n\u90a3\u7b54\u6848\u662f\u4e0d\u662f\u5c31\u662f $ans$ $ - $ $res1$ $-$ $res2$ - $res3$ \u5462 ? \n\n\u7a0d\u540e\u5728\u4ee3\u7801\u4e2d\u7ed9\u51fa\u7b54\u6848$qwq$\n\n\u6c42$res1$\u7684\u4ee3\u7801\n```cpp\nvoid EI1 () { // A[i] > B[i]\n    for (int i = 0 ; i < n ; i ++) {\n    \tif (A[i] == '?' && B[i] == '?') res1 = (res1 * 55) % mod ;\n    \telse if (A[i] == '?' && B[i] != '?') res1 = (res1 * (10 - (B[i] - '0'))) % mod ;\n    \telse if (A[i] != '?' && B[i] == '?') res1 = (res1 * ((A[i] - '0') + 1)) % mod ;\n    \telse if ((A[i] - '0') < (B[i] - '0')) { // \u6ce8\u610f\u8fd9\u91cc \uff0c \u6211\u5199\u7684\u4e0d\u662f\u5c0f\u4e8e\u7b49\u4e8e \uff0c \uff08\u7559\u4e0b\u4f0f\u7b14\n    \t\tres1 = 0 ;\n    \t\tbreak ;\n\t\t}\n\t}\t\n}\n```\n$res2$ \u4ee5\u6b64\u7c7b\u63a8 \n\n$res3$ \u4ee3\u7801 \n```cpp\nvoid EI3 () {\n\tfor (int i = 0 ; i < n ; i ++) {\n\t\tif (A[i] == '?' && B[i] == '?') res3 = (res3 * 10) % mod ;\n\t\telse if((A[i]=='?' && B[i]!='?') || (A[i]!='?' && B[i]=='?')) continue ; // \u4e3a\u4e86\u4fdd\u8bc1\u4e00\u6837 \uff0c\u5565\u90fd\u4e0d\u9700\u8981\u5e72 \n\t\telse if (A[i] != B[i]) {\n\t\t\tres3 = 0 ;\n\t\t\tbreak ;\n\t\t}  \n\t}\n}\n```\nans \u663e\u800c\u6613\u89c1\u5c31\u662f \u9047\u5230\u95ee\u53f7\u5c31 * 10 \u5c31\u53ef\u4ee5\u4e86 \n\n\u6700\u540e\u7b54\u6848\n```cpp\ncout << (ans + (mod * 2) - res1 - res2 + res3) % mod ;\n// \u4e3a\u4ec0\u4e48\u8fd9\u91cc\u6211\u4eec\u628ares3 \u52a0\u4e0a\u4e86 \u5462 \uff0c \u56e0\u4e3a\u6211\u4eec\u51cf\u53bb\u4e86\u4e24\u4e2a\u76f8\u7b49\u7684\u60c5\u51b5 \uff0c res1 \u4e0a \u5305\u62ec\u4e00\u4e2a \uff0c res2 \u4e0a \u5305\u62ec\u4e00\u4e2a \uff0c \u4e3a\u4e86\u4fdd\u8bc1\u7b54\u6848\u7684\u6b63\u786e\u6027 \uff0c \u6211\u4eec\u4fbf\u8981\u52a0\u4e0a\u4e00\u4e2a \n```\n\n",
        "postTime": 1595144030,
        "uid": 348184,
        "name": "\u9e64\u7ba9\u82a0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF296B \u3010Yaroslav and Two Strings\u3011"
    },
    {
        "content": "\u8fd9\u79cd\u8ba1\u6570\u7c7b dp \u9700\u8981\u4ea4\u53c9\u8f6c\u79fb\u7684\u65f6\u5019\uff0c\u6bd4\u8f83\u66b4\u8e81\u7684\u505a\u6cd5\uff0c\u5c31\u662f\u628a\u6240\u6709\u60c5\u51b5\u90fd\u52a0\u8fdb\u72b6\u6001\u4e2d\uff0c\u4e8e\u662f\u5b9a\u4e49 $dp(i,[0,3])$ \u5206\u522b\u8868\u793a\u5728\u524d $i$ \u4f4d\u4e2d\u4e0d\u53ef\u6bd4\u8f83\u3001\u53ea\u542b\u6709\u5927\u4e8e\u7b49\u4e8e\u3001\u53ea\u542b\u6709\u5c0f\u4e8e\u7b49\u4e8e\u4ee5\u53ca\u53ea\u542b\u6709\u7b49\u4e8e\u7684\u60c5\u51b5\u3002\n\n\u4e4b\u540e\u8ba8\u8bba\u662f\u5426\u6709\u901a\u914d\u7b26\u7136\u540e\u8f6c\u79fb\u5373\u53ef\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\u4e00\u4ef6\u4e8b\u60c5\uff1a\u5728\u6bcf\u79cd\u901a\u914d\u7b26\u8ba8\u8bba\u7684\u60c5\u51b5\u5185\uff0c$dp(i-1)$ \u7684\u5404\u60c5\u51b5\u5bf9 $dp(i)$ \u4ea7\u751f\u8d21\u732e\u7684\u6b21\u6570\u90fd\u662f\u76f8\u7b49\u7684\uff0c\u53ef\u4ee5\u7528\u6765 debug\u3002\n\n\u8f6c\u79fb\u89c1\u4ee3\u7801\n\n```cpp\nint n;\nchar s[maxn],w[maxn];\nll dp[maxn][4];//\u5408\u6cd5\u3001\u4e0d\u5b58\u5728\u5c0f\u4e8e\uff0c\u4e0d\u5b58\u5728\u5927\u4e8e\uff0c\u5168\u90e8\u76f8\u7b49\ninline void output(int l,int r){\n\tfor(int i=l;i<=r;++i) printf(\"%d %lld %lld %lld %lld\\n\",i,dp[i][0],dp[i][1],dp[i][2],dp[i][3]);\n}\nint main(){\n\tn=read();\n\tscanf(\"%s\",s+1);\n\tscanf(\"%s\",w+1);\n\tif(s[1]=='?'&&w[1]=='?') dp[1][0]=0,dp[1][1]=45,dp[1][2]=45,dp[1][3]=10;\n\telse if(s[1]=='?'&&w[1]!='?') dp[1][0]=0,dp[1][1]='9'-w[1],dp[1][2]=w[1]-'0',dp[1][3]=1;\n\telse if(s[1]!='?'&&w[1]=='?') dp[1][0]=0,dp[1][1]=s[1]-'0',dp[1][2]='9'-s[1],dp[1][3]=1;\n\telse{\n\t\tdp[1][0]=0,dp[1][1]=0,dp[1][2]=0,dp[1][3]=0;\n\t\tif(s[1]>w[1]) dp[1][1]=1;\n\t\telse if(s[1]<w[1]) dp[1][2]=1;\n\t\telse dp[1][3]=1;\n\t}\n\tfor(int i=2;i<=n;++i){\n\t\tif(s[i]=='?'&&w[i]=='?'){\n\t\t\tdp[i][0]=(dp[i-1][0]*100%mod+dp[i-1][1]*45%mod+dp[i-1][2]*45%mod)%mod;\n\t\t\tdp[i][1]=(dp[i-1][1]*55%mod+dp[i-1][3]*45%mod)%mod;\n\t\t\tdp[i][2]=(dp[i-1][2]*55%mod+dp[i-1][3]*45%mod)%mod;\n\t\t\tdp[i][3]=dp[i-1][3]*10%mod;\n\t\t}\n\t\telse if(s[i]=='?'&&w[i]!='?'){\n\t\t\tdp[i][0]=(dp[i-1][0]*10%mod+dp[i-1][1]*(w[i]-'0')%mod+dp[i-1][2]*('9'-w[i])%mod)%mod;\n\t\t\tdp[i][1]=(dp[i-1][1]*('9'-w[i]+1)%mod+dp[i-1][3]*('9'-w[i])%mod)%mod;\n\t\t\tdp[i][2]=(dp[i-1][2]*(w[i]-'0'+1)%mod+dp[i-1][3]*(w[i]-'0')%mod)%mod;\n\t\t\tdp[i][3]=dp[i-1][3];\n\t\t}\n\t\telse if(s[i]!='?'&&w[i]=='?'){\n\t\t\tdp[i][0]=(dp[i-1][0]*10%mod+dp[i-1][1]*('9'-s[i])%mod+dp[i-1][2]*(s[i]-'0')%mod)%mod;\n\t\t\tdp[i][1]=(dp[i-1][1]*(s[i]-'0'+1)%mod+dp[i-1][3]*(s[i]-'0')%mod)%mod;\n\t\t\tdp[i][2]=(dp[i-1][2]*('9'-s[i]+1)%mod+dp[i-1][3]*('9'-s[i])%mod)%mod;\n\t\t\tdp[i][3]=dp[i-1][3];\n\t\t}\n\t\telse{\n\t\t\tif(s[i]>w[i]){\n\t\t\t\tdp[i][0]=(dp[i-1][0]+dp[i-1][2])%mod;\n\t\t\t\tdp[i][1]=(dp[i-1][1]+dp[i-1][3])%mod,dp[i][2]=0,dp[i][3]=0;\n\t\t\t}\n\t\t\telse if(s[i]<w[i]){\n\t\t\t\tdp[i][0]=(dp[i-1][0]+dp[i-1][1])%mod;\n\t\t\t\tdp[i][1]=0,dp[i][2]=(dp[i-1][2]+dp[i-1][3])%mod,dp[i][3]=0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdp[i][0]=dp[i-1][0],dp[i][1]=dp[i-1][1],dp[i][2]=dp[i-1][2],dp[i][3]=dp[i-1][3];\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",dp[n][0]);\n\treturn 0;\n}\n\n```",
        "postTime": 1657324468,
        "uid": 321177,
        "name": "SoyTony",
        "ccfLevel": 6,
        "title": "CF\u9898\u89e3\u2014\u2014CF296B Yaroslav and Two Strings"
    },
    {
        "content": "update4:\u52a0\u4e0a\u4e86\u4e2d\u6587\u6807\u70b9\u3002\n\nupdate3:\u53bb\u6389\u4e86\u5934\u56fe\u3002\n\nupdate2:\u5728\u6240\u6709\u82f1\u6587\u5b57\u7b26\u524d\u540e\u52a0\u4e86\u7a7a\u683c\u3002\n\nupdate1:\u628a\u516c\u5f0f\u91cc\u7684\u4e2d\u6587\u6362\u6210\u4e86 & \u548c | , latex \u524d\u540e\u52a0\u4e86\u7a7a\u683c\u3002\n\n\n\u76ee\u524d\u662f\u6700\u4f18\u89e3rk1\u3002\n\n**\u9634\u95f4\u9898**,\u5927\u529b\u8f6c\u79fb\u8981\u8f6c\u4e00\u9875\u7eb8.\u5199\u7801\u65f6\u6700\u597d\u6807\u6ce8\u597d dp \u6570\u7ec4\u610f\u4e49(~~\u4e0d\u7136\u5c31\u5fd8\u4e86~~)\u3002\n\n## **\u9898\u610f**\n\u7ed9\u5b9a\u4e24\u4e2a\u7531\u6570\u5b57\u548c\u95ee\u53f7\u7ec4\u6210\u7684\u7b49\u957f\u5b57\u7b26\u4e32 $A , B$ ,\u5b9a\u4e49\u6027\u8d28 P : \u5b58\u5728 $ 1 \\le i,j \\le len$ ,\u6ee1\u8db3 $A_i < B_i \\&\\& A_j > B_j$ ,\u6c42\u5c06\u95ee\u53f7\u66ff\u6362\u6210\u6570\u5b57\u4f7f $A,B$ \u6ee1\u8db3\u6027\u8d28 $P$ \u7684\u65b9\u6848\u6570\u3002\n\n\n## **\u9898\u89e3**\n\n**\u72b6\u6001\u8bbe\u8ba1**:\u8003\u8651\u5e8f\u5217 `dp` ,\u89c2\u5bdf\u5230\u6027\u8d28\u662f**\u4e24\u65b9\u9762\u7684**,\u4e00\u65b9\u9762\u662f\u4ee4 `A`  \u4e2d\u6709\u6570\u5927\u4e8e `B` ,\u53e6\u4e00\u65b9\u9762\u5219\u662f\u5c0f\u4e8e,\u8fd9\u4e24\u65b9\u9762\u663e\u7136**\u4e0d\u80fd\u5728\u4e00\u6b21\u8f6c\u79fb**\u4e2d\u5b8c\u6210,\u6545\u5728\u72b6\u6001\u8bbe\u8ba1\u4e2d\u52a0\u5165\u4e24\u7ef4,\u5206\u522b\u8bb0\u5f55\u662f\u5426\u5df2\u6ee1\u8db3\u8fd9\u4e24\u65b9\u9762\u6027\u8d28,\u518d\u52a0\u4e00\u7ef4\u8868\u793a\u5e8f\u5217\u7684\u524d $i$ \u4e2a,\u5373\u7528 $dp_{0/1,0/1,i}$ \u5b58\u50a8\u65b9\u6848\u6570.\u521d\u59cb\u5316\u8f83\u4e3a\u663e\u7136: $dp_{0,0,0}=1$ , $dp_{1,1,n}$ \u5373\u4e3a\u7b54\u6848\u3002\n\n**\u8003\u8651\u8f6c\u79fb**:\u7531\u4e8e\u4e0d\u53ef\u80fd\u4e00\u6b21\u6ee1\u8db3\u4e24\u65b9\u9762\u6027\u8d28,\u663e\u7136\u6ee1\u8db3\u4e00\u4e2a\u6027\u8d28\u7684\u8981\u4ece\u4e0d\u6ee1\u8db3\u4efb\u4f55\u6027\u8d28\u548c\u6ee1\u8db3**\u540c\u4e00\u6027\u8d28**\u8f6c\u79fb\u8fc7\u6765,\u800c\u6ee1\u8db3\u4e24\u4e2a\u6027\u8d28\u7684\u8981\u4ece**\u4e24\u79cd**\u6ee1\u8db3\u4e00\u4e2a\u6027\u8d28\u548c\u5df2\u7ecf\u6ee1\u8db3\u4e24\u4e2a\u6027\u8d28\u7684\u8f6c\u79fb\u8fc7\u6765,\u4e0d\u6ee1\u8db3\u4efb\u4f55\u6027\u8d28\u7684\u53ea\u80fd\u4ece\u4e4b\u524d\u4e0d\u6ee1\u8db3\u4efb\u4f55\u6027\u8d28\u7684\u8f6c\u79fb\u8fc7\u6765,\u540c\u65f6\u6ce8\u610f\u6839\u636e\u95ee\u53f7\u6570\u91cf\u8ba8\u8bba:\u82e5\u90fd\u4e0d\u662f\u95ee\u53f7,\u6839\u636e**\u6570\u5b57\u5927\u5c0f\u5173\u7cfb**\u76f4\u63a5\u8f6c\u79fb;\u82e5\u6709\u4e00\u4e2a\u53ca\u4ee5\u4e0a\u95ee\u53f7,\u8003\u8651\u5728\u6ee1\u8db3\u7ed9\u5b9a\u6027\u8d28\u65f6\u95ee\u53f7\u7684\u65b9\u6848\u6570,\u663e\u7136\u79cd\u7c7b\u5e76\u4e0d\u591a,\u53ef\u4ee5\u63d0\u524d\u7b97\u51fa,\u5373:**\u4e24\u4e2a\u95ee\u53f7\u6ca1\u6709\u4efb\u4f55\u9650\u5236\u4e3a100\u79cd,\u8981\u6c42\u4e25\u683c\u5927\u4e8e\u670945\u79cd,\u975e\u4e25\u683c\u5927\u4e8e\u670955\u79cd**.\u53e6\u5916,\u6709\u4e00\u4e2a\u4e3a\u62ec\u53f7\u65f6\u8981\u6839\u636e\u7ed9\u5b9a\u7684\u6570\u5b57\u5224\u65ad\u65b9\u6848,\u4e5f\u8981\u6ce8\u610f\u4e25\u683c\u5927\u4e8e\u5c0f\u4e8e\u548c\u975e\u4e25\u683c\u5927\u4e8e\u5c0f\u4e8e\u7684\u533a\u522b.\u81f3\u6b64,\u6613\u5f97\u8f6c\u79fb\u65b9\u7a0b:( $D(x)$ \u4e3a `is_digit(x)` )\u3002\n\n$$dp_{i,0,0}=\\left\\{\n\\begin{array}{rcl}\ndp_{i-1,0,0},D(A_i)\\| D(B_i) \\\\\n10dp_{i-1,0,0},!D(A_i)\\&\\& !D(B_i)\n\\end{array}\n\\right.\n$$\n$$\ndp_{i,0,1}=\\left\\{\n\\begin{array}{rcl}\ndp_{i-1,0,1},A_i=B_i\\\\\ndp_{i-1,0,0}+dp_{i-1,0,1},A_i<B_i\\\\\n(10-A_i)dp_{i-1,0,1}+(9-A_i)dp_{i-1,0,0},D(A_i)\\&\\& !D(B_i)\\\\\n(B_i+1)dp_{i-1,0,1}+B_idp_{i-1,0,0},!D(A_i)\\&\\& D(B_i)\\\\\n45dp_{i-1,0,0}+55dp_{i-1,0,1},!D(A_i)\\&\\& !D(B_i)\n\\end{array}\n\\right.\n$$\n$$\ndp_{i,1,0}=\\left\\{\n\\begin{array}{rcl}\ndp_{i-1,1,0},A_i=B_i\\\\\ndp_{i-1,0,0}+dp_{i-1,1,0},A_i>B_i\\\\\n(10-B_i)dp_{i-1,1,0}+(9-B_i)dp_{i-1,0,0},!D(A_i)\\&\\& D(B_i)\\\\\n(A_i+1)dp_{i-1,1,0}+A_idp_{i-1,0,0},D(A_i)\\&\\& !D(B_i)\\\\\n45dp_{i-1,0,0}+55dp_{i-1,1,0},!D(A_i)\\&\\& !D(B_i)\n\\end{array}\n\\right.\n$$\n$$\ndp_{i,1,1}=\\left\\{\n\\begin{array}{rcl}\ndp_{i-1,1,1},A_i=B_i\\\\\ndp_{i-1,1,0}+dp_{i-1,0,1},A_i\\not =B_i\\\\\nB_idp_{i-1,1,0}+(9-B_i)dp_{i-1,0,1}+10dp_{i-1,1,1},!D(A_i)\\&\\& D(B_i)\\\\\n(9-A_i)dp_{i-1,1,0}+A_idp_{i-1,0,1}+10dp_{i-1,1,1},D(A_i)\\&\\& !D(B_i)\\\\\n45dp_{i-1,0,1}+45dp_{i-1,1,0}+100dp_{i-1,1,1},!D(A_i)\\&\\& !D(B_i)\n\\end{array}\n\\right.\n$$\n## \u4ee3\u7801\n\n```cpp\n//\u5199\u8f6c\u79fb\u65f6\u59cb\u7ec8\u60f3\u7740\u4e00\u6b21\u6700\u591a\u53ea\u80fd\u6ee1\u8db3\u4e00\u65b9\u9762\u6027\u8d28\u5c31\u4f1a\u597d\u5199\u5f88\u591a\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nconst int N=100005,Mod=1000000007;\nint n,a[N],b[N];\nlong long dp[2][2][N];\nstring s1,s2;\nint main() {\n\tios::sync_with_stdio(false);\n\tcin>>n>>s1>>s2;\n\ts1=' '+s1,s2=' '+s2;//\u8ba9\u4e0b\u6807\u4ece1\u5f00\u59cb\n\tfor (int i=1; i<=n; i++) {\n\t\tif (s1[i]=='?')a[i]=-1;//\u95ee\u53f7\u6807\u4e3a-1\n\t\telse a[i]=s1[i]-'0';\n\t\tif (s2[i]=='?')b[i]=-1;\n\t\telse b[i]=s2[i]-'0';\n\t}\n\tdp[0][0][0]=1;\n\tfor (int i=1; i<=n; i++) {\n\t\tif (a[i]!=-1&&b[i]!=-1) {\n\t\t\tif (a[i]==b[i]) {//\u76f4\u63a5\u8f6c\u79fb\n\t\t\t\tdp[0][0][i]=dp[0][0][i-1]%Mod;\n\t\t\t\tdp[0][1][i]=dp[0][1][i-1]%Mod;\n\t\t\t\tdp[1][0][i]=dp[1][0][i-1]%Mod;\n\t\t\t\tdp[1][1][i]=dp[1][1][i-1]%Mod;\n\t\t\t}\n\t\t\tif (a[i]>b[i]) {//\u53ea\u80fd\u6ee1\u8db3\u4e00\u65b9\u9762\u6027\u8d28\n\t\t\t\tdp[1][0][i]=dp[0][0][i-1]%Mod+dp[1][0][i-1]%Mod;\n\t\t\t\tdp[1][1][i]=dp[0][1][i-1]%Mod+dp[1][1][i-1]%Mod;\n\t\t\t}\n\t\t\tif (a[i]<b[i]) {//\u53e6\u4e00\u65b9\u9762\n\t\t\t\tdp[0][1][i]=dp[0][0][i-1]%Mod+dp[0][1][i-1]%Mod;\n\t\t\t\tdp[1][1][i]=dp[1][0][i-1]%Mod+dp[1][1][i-1]%Mod;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\tif (a[i]!=-1&&b[i]==-1) {//\u5355\u95ee\u53f7\n\t\t\tdp[0][0][i]=dp[0][0][i-1]%Mod;\n\t\t\tdp[0][1][i]=dp[0][1][i-1]*(10-a[i])%Mod+dp[0][0][i-1]*(9-a[i])%Mod;\n\t\t\tdp[1][0][i]=dp[1][0][i-1]*(a[i]+1)%Mod+dp[0][0][i-1]*a[i]%Mod;\n\t\t\tdp[1][1][i]=dp[1][0][i-1]*(9-a[i])%Mod+dp[0][1][i-1]*a[i]%Mod+dp[1][1][i-1]*10%Mod;\n\t\t\tcontinue;\n\t\t}\n\t\tif (a[i]==-1&&b[i]!=-1) {//\u5355\u95ee\u53f7\n\t\t\tdp[0][0][i]=dp[0][0][i-1]%Mod;\n\t\t\tdp[0][1][i]=dp[0][1][i-1]*(b[i]+1)%Mod+dp[0][0][i-1]*b[i]%Mod;\n\t\t\tdp[1][0][i]=dp[1][0][i-1]*(10-b[i])%Mod+dp[0][0][i-1]*(9-b[i])%Mod;\n\t\t\tdp[1][1][i]=dp[1][0][i-1]*b[i]%Mod+dp[0][1][i-1]*(9-b[i])%Mod+dp[1][1][i-1]*10%Mod;\n\t\t\tcontinue;\n\t\t}\n\t\tif (a[i]==-1&&b[i]==-1) {//\u53cc\u95ee\u53f7\n\t\t\tdp[0][0][i]=dp[0][0][i-1]*10%Mod;\n\t\t\tdp[0][1][i]=dp[0][0][i-1]*45%Mod+dp[0][1][i-1]*55%Mod;\n\t\t\tdp[1][0][i]=dp[0][0][i-1]*45%Mod+dp[1][0][i-1]*55%Mod;\n\t\t\tdp[1][1][i]=dp[0][1][i-1]*45%Mod+dp[1][0][i-1]*45%Mod+dp[1][1][i-1]*100%Mod;\n\t\t\tcontinue;\n\t\t}\n\t\tcout<<\"Fail\"<<endl;\n\t}\n\tcout<<dp[1][1][n]%Mod<<endl;\n}",
        "postTime": 1635772426,
        "uid": 34940,
        "name": "Minuit",
        "ccfLevel": 0,
        "title": "CF296B Yaroslav and Two Strings \u9898\u89e3"
    }
]