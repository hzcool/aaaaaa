[
    {
        "content": "\u63d0\u4f9b\u4e00\u79cd STL \u5199\u6cd5\u3002\n\n\u6211\u4eec\u628a\u6240\u6709\u7a7a\u95f2\u7684\u533a\u95f4\u4e22\u8fdb\u4e00\u4e2a ```set``` \u91cc\u9762\uff0c\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a\u4fee\u7406\u8bf7\u6c42\uff0c\u904d\u5386 ```set```\u3002\n\n\u5982\u679c\u6709\u4e00\u6bb5\u7a7a\u95f2\u533a\u95f4 $[l,r]$ \u5305\u542b\u4e86 $[s_i,s_i+d_i-1]$\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u628a $[l,r]$ \u5206\u6210 $[l,s_i-1]$\uff0c$[s_i,s_i+d_i-1]$ \u548c $[s_i+d_i,r]$ \u4e09\u90e8\u5206\u3002\u56e0\u4e3a\u6211\u4eec\u4f7f\u7528\u7684\u662f $[s_i,s_i+d_i-1]$ \u8fd9\u4e00\u6bb5\u533a\u95f4\uff0c\u6240\u4ee5\u533a\u95f4 $[l,s_i-1]$\n \u548c $[s_i+d_i,r]$ \u4ecd\u662f\u7a7a\u95f2\u7684\u3002\u90a3\u4e48\u5982\u679c\u533a\u95f4 $[l,s_i-1]$ \u548c $[s_i+d_i,r]$ \u4e0d\u4e3a\u7a7a\uff0c\u5c31\u628a\u5b83\u4eec\u4e22\u56de ```set``` \u91cc\u3002\n\n\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u4e00\u6bb5\u7a7a\u95f2\u533a\u95f4\u5305\u542b $[s_i,s_i+d_i-1]$\uff0c\u90a3\u4e48\u5c31\u627e\u5230\u6700\u524d\u9762\u7684\u4e00\u6bb5\u957f\u5ea6\u5927\u4e8e\u7b49\u4e8e $d_i$ \u7684\u533a\u95f4 $[l,r]$\uff0c\u628a\u5b83\u5206\u6210 $[l,l+d_i-1]$ \u548c $[l+d_i,r]$ \u4e24\u90e8\u5206\u3002\u6b64\u65f6\u6211\u4eec\u4f7f\u7528\u7684\u662f $[l,l+d_i-1]$ \u8fd9\u6bb5\u533a\u95f4\uff0c\u90a3\u4e48\u5982\u679c $[l+d_i,r]$ \u4e0d\u4e3a\u7a7a\u5c31\u628a\u5b83\u4e22\u56de ```set``` \u91cc\u3002\n\n\u6838\u5fc3\u4ee3\u7801\uff1a\n\n```cpp\n#define mp make_pair\n#define int long long\nconst int N=201+10;\nint n,s[N],d[N];\nset<pair<int,int> > q;\nsigned main()\n{\n\tn=read();\n\tfor(ri int i=1;i<=n;++i)\n\t\ts[i]=read(),d[i]=read();\n\tq.insert(mp(1,2000000000));//\u521d\u59cb\u7684\u7a7a\u95f2\u533a\u95f4\n\tfor(ri int i=1;i<=n;++i)\n\t{\n\t\tri int f=0;\n\t\tfor(set<pair<int,int> >::iterator it=q.begin();it!=q.end();++it)\n\t\t{\n\t\t\tpair<int,int> res=*it;\n\t\t\tif(res.fir<=s[i]&&res.sec>=s[i]+d[i]-1)\n\t\t\t{\n\t\t\t\tq.erase(q.find(res));cout<<s[i]<<\" \"<<s[i]+d[i]-1<<endl;f=1;\n\t\t\t\tif(res.fir<s[i]) q.insert(mp(res.fir,s[i]-1));\n\t\t\t\tif(res.sec>s[i]+d[i]-1) q.insert(mp(s[i]+d[i],res.sec));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}//\u8be5\u8bf7\u6c42\u7a7a\u95f2\u7684\u60c5\u51b5\n\t\tif(!f) for(set<pair<int,int> >::iterator it=q.begin();it!=q.end();++it)\n\t\t{\n\t\t\tpair<int,int> res=*it;\n\t\t\tif(res.sec-res.fir+1>=d[i])\n\t\t\t{\n\t\t\t\tq.erase(q.find(res));cout<<res.fir<<\" \"<<res.fir+d[i]-1<<endl;\n\t\t\t\tif(res.sec>res.fir+d[i]-1) q.insert(mp(res.fir+d[i],res.sec));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\t\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1629073544,
        "uid": 329672,
        "name": "Ninelife_Cat",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF730G \u3010Car Repair Shop\u3011"
    },
    {
        "content": "## \u9898\u610f\n\n\u6709 $n$ \u4e2a\u8bf7\u6c42\uff0c\u6bcf\u6b21\u8bf7\u6c42\u4e00\u4e2a\u533a\u95f4 $[s_i,s_i+d_i-1]$\uff1a\n\n- \u5982\u679c\u8be5\u533a\u95f4\u5b8c\u5168\u6ca1\u6709\u88ab\u5360\u7528\uff0c\u5360\u7528\u8be5\u533a\u95f4\u3002\n\n- \u5982\u679c\u8be5\u533a\u95f4\u6709\u4f4d\u7f6e\u5df2\u7ecf\u88ab\u5360\u7528\uff0c\u5360\u7528\u53e6\u4e00\u4e2a\u957f\u5ea6\u4e3a $s_i$\uff0c\u5de6\u7aef\u70b9\u6700\u5c0f\u7684\u4e14\u5b8c\u5168\u672a\u88ab\u5360\u7528\u7684\u533a\u95f4\u3002\n\n\u6c42\u51fa\u6bcf\u4e2a\u8bf7\u6c42\u5360\u7528\u7684\u533a\u95f4\u3002\n\n## \u5206\u6790\n\n\u6211\u4eec\u9700\u8981\u8fdb\u884c\u7684\u64cd\u4f5c\u6709\uff1a\n\n- \u67e5\u8be2\u67d0\u4e2a\u533a\u95f4\u662f\u5426\u88ab\u7528\u8fc7\u3002\n\n- \u63d2\u5165\u67d0\u4e2a\u5df2\u77e5\u8fb9\u754c\u7684\u533a\u95f4\u3002\n\n- \u63d2\u5165\u67d0\u4e2a\u5df2\u77e5\u957f\u5ea6\u7684\u533a\u95f4\u3002\n\n\u7531\u4e8e\u6709\u63d2\u5165\u64cd\u4f5c\u7684\u5b58\u5728\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u652f\u6301\u5728\u4efb\u610f\u4f4d\u7f6e\u63d2\u5165\u5143\u7d20\u3001\u67e5\u8be2\u5143\u7d20\u7684\u6570\u636e\u7ed3\u6784\uff0c\u53ef\u4ee5\u770b\u5230 $n$ \u6700\u5927\u53ea\u6709 $200$\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528**\u94fe\u8868**\u6765\u5b9e\u73b0\u3002\n\n```cpp\nstruct Q{\n\tint nxt;//\u4e0b\u4e00\u4e2a\u8282\u70b9\n\tll l,r;//\u5de6\u53f3\u8fb9\u754c\n}a[N];\n```\n\n### \u521d\u59cb\u5316\n\n\u4e00\u5f00\u59cb\uff0c\u4ee4\u6574\u4e2a\u94fe\u8868\u53ea\u6709\u4e24\u4e2a\u8282\u70b9 $0$ \u548c $1$\uff0c\u5206\u522b\u662f\u8d77\u70b9\u548c\u7ec8\u70b9\uff0c\u8282\u70b9 $0$ \u4e2d\u7684\u533a\u95f4\u662f $[0,0]$\uff0c\u8282\u70b9 $1$ \u4e2d\u7684\u533a\u95f4\u662f $[10^{10},10^{10}]$\uff0c\u7531\u9898\u76ee\u4e2d\u7684\u6570\u636e\u53ef\u4ee5\u7b97\u51fa\u9898\u76ee\u6240\u7528\u7684\u533a\u95f4\u4e00\u5b9a\u5728\u8fd9\u4e24\u4e2a\u4e4b\u95f4\u3002\n\n```cpp\na[0].l=a[0].r=0;\na[1].l=a[1].r=1ll*1e5*1e5;\na[0].nxt=1;\na[1].nxt=0;\n```\n\n### \u67e5\u8be2\u67d0\u4e2a\u533a\u95f4\u662f\u5426\u88ab\u7528\u8fc7\n\n\u8bbe\u67e5\u8be2 $[l,r]$ \u662f\u5426\u88ab\u5360\u7528\u3002\n\n\u4f9d\u6b21\u904d\u5386\u6bcf\u4e2a\u8282\u70b9\uff0c\u5982\u679c\u67d0\u4e2a\u533a\u95f4 $i$ \u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff0c\u8bf4\u660e\u5b83\u67e5\u8be2\u533a\u95f4\u88ab\u5360\u7528\uff0c\u7acb\u5373\u7ed3\u675f\u3002\n\n- $a[i].l\\le l$ \u4e14 $l\\le a[i].r$\uff1a$[l,r]$ \u7684\u5de6\u90e8\u5206\u88ab\u522b\u7684\u533a\u95f4\u5360\u7528\u3002\n\n- $a[i].l\\le r$ \u4e14 $r\\le a[i].r$\uff1a$[l,r]$ \u7684\u53f3\u90e8\u5206\u88ab\u522b\u7684\u533a\u95f4\u5360\u7528\u3002\n\n- $l\\le a[i].l$ \u4e14 $a[i].r\\le r$\uff1a$[l,r]$ \u7684\u4e2d\u90e8\u5206\u88ab\u522b\u7684\u533a\u95f4\u5360\u7528\u3002\n\n```cpp\nbool find(ll l,ll r){\n\tfor(int i=a[0].nxt;i;i=a[i].nxt)\n\t\tif((l>=a[i].l&&l<=a[i].r)||(r>=a[i].l&&r<=a[i].r)||(l<=a[i].l&&r>=a[i].r))\n\t\t\treturn 1;\n\treturn 0;\n}\n```\n\n### \u63d2\u5165\u67d0\u4e2a\u5df2\u77e5\u8fb9\u754c\u7684\u533a\u95f4\n\n\u8bbe\u63d2\u5165\u533a\u95f4 $[l,r]$\u3002\n\n\u4f9d\u6b21\u904d\u5386\u6bcf\u4e2a\u8282\u70b9 $i$\uff0c\u5e76\u8bb0\u5f55\u5b83\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9 $j$\uff0c\u5982\u679c $[l,r]$ \u5728\u4e24\u4e2a\u533a\u95f4\u4e4b\u95f4\u7684\u533a\u95f4\u4e2d\uff0c\u5373 $a[i].r<l$ \u4e14 $r<a[j].l$\uff0c\u5c31\u63d2\u5165\u8fd9\u4e2a\u533a\u95f4\u3002\n\n\u6ce8\u610f\u65b0\u7684\u533a\u95f4\u53ef\u80fd\u6bd4\u4e4b\u524d\u7684\u66f4\u5c0f\uff0c**\u6240\u4ee5\u904d\u5386\u8981\u4ece $0$ \u8282\u70b9\u5f00\u59cb**\u3002\n\n```cpp\nvoid insert1(ll l,ll r){\n\tfor(int i=0;a[i].nxt;i=a[i].nxt){\n\t\tint j=a[i].nxt;\n\t\tif(a[i].r<l&&r<a[j].l){\n\t\t\ta[++t].l=l;\n\t\t\ta[t].r=r;\n\t\t\ta[i].nxt=t;\n\t\t\ta[t].nxt=j;\n\t\t\treturn;\n\t\t}\n\t}\n}\n```\n\n### \u63d2\u5165\u67d0\u4e2a\u5df2\u77e5\u957f\u5ea6\u7684\u533a\u95f4\n\n\u8bbe\u63d2\u5165\u533a\u95f4\u957f\u5ea6\u4e3a $len$\u3002\n\n\u540c\u6837\u4f9d\u6b21\u904d\u5386\u6bcf\u4e2a\u8282\u70b9 $i$\uff0c\u5e76\u8bb0\u5f55\u5b83\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9 $j$\uff0c\u5982\u679c\u8fd9\u4e24\u4e2a\u533a\u95f4\u4e4b\u95f4\u7684\u533a\u95f4\u5927\u4e8e\u7b49\u4e8e $len$ \u7684\uff0c\u5373 $a[j].l-a[i].r-1\\ge len$\uff0c\u5c31\u63d2\u5165\u8fd9\u4e2a\u533a\u95f4\uff0c\u5e76\u7528 $al,ar$ \u8bb0\u5f55\u7b54\u6848\u3002\n\n\u540c\u6837\u6ce8\u610f\u65b0\u7684\u533a\u95f4\u53ef\u80fd\u6bd4\u4e4b\u524d\u7684\u66f4\u5c0f\uff0c**\u6240\u4ee5\u904d\u5386\u8981\u4ece $0$ \u8282\u70b9\u5f00\u59cb**\u3002\n\n```cpp\nvoid insert2(ll len){\n\tfor(int i=0;a[i].nxt;i=a[i].nxt){\n\t\tint j=a[i].nxt;\n\t\tif(a[j].l-a[i].r-1>=len){\n\t\t\tal=a[++t].l=a[i].r+1;\n\t\t\tar=a[t].r=a[t].l+len-1;\n\t\t\ta[i].nxt=t;\n\t\t\ta[t].nxt=j;\n\t\t\treturn;\n\t\t}\n\t}\n}\n```\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define ld long double\nusing namespace std;\nconst int N=210;\nint n,t=1;\nll s,d,al,ar;\nstruct Q{\n\tint nxt;\n\tll l,r;\n}a[N];\nbool find(ll l,ll r){\n\tfor(int i=a[0].nxt;i;i=a[i].nxt)\n\t\tif((l>=a[i].l&&l<=a[i].r)||(r>=a[i].l&&r<=a[i].r)||(l<=a[i].l&&r>=a[i].r))\n\t\t\treturn 1;\n\treturn 0;\n}\nvoid insert1(ll l,ll r){\n\tfor(int i=0;a[i].nxt;i=a[i].nxt){\n\t\tint j=a[i].nxt;\n\t\tif(a[i].r<l&&r<a[j].l){\n\t\t\ta[++t].l=l;\n\t\t\ta[t].r=r;\n\t\t\ta[i].nxt=t;\n\t\t\ta[t].nxt=j;\n\t\t\treturn;\n\t\t}\n\t}\n}\nvoid insert2(ll len){\n\tfor(int i=0;a[i].nxt;i=a[i].nxt){\n\t\tint j=a[i].nxt;\n\t\tif(a[j].l-a[i].r-1>=len){\n\t\t\tal=a[++t].l=a[i].r+1;\n\t\t\tar=a[t].r=a[t].l+len-1;\n\t\t\ta[i].nxt=t;\n\t\t\ta[t].nxt=j;\n\t\t\treturn;\n\t\t}\n\t}\n}\nint main(){\n\ta[0].l=a[0].r=0;\n\ta[1].l=a[1].r=1ll*1e5*1e5;\n\ta[0].nxt=1;\n\ta[1].nxt=0;\n    cin>>n;\n    for(int i=1;i<=n;i++){\n    \tcin>>s>>d;\n    \tif(find(s,s+d-1)){\n    \t\tinsert2(d);\n    \t\tcout<<al<<\" \"<<ar<<endl;\n\t\t}\n\t\telse{\n\t\t\tinsert1(s,s+d-1);\n\t\t\tcout<<s<<\" \"<<s+d-1<<endl;\n\t\t}\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1628835522,
        "uid": 419144,
        "name": "chenjunxiu",
        "ccfLevel": 7,
        "title": "CF730G Car Repair Shop"
    }
]