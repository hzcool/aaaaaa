[
    {
        "content": "\u9996\u5148\u9884\u5904\u7406\u7d20\u6570\u3002\n\n\u56e0\u4e3a\u6570\u636e\u8303\u56f4\u5c0f\uff0c\u6240\u4ee5\u53ef\u4ee5\u8003\u8651\u679a\u4e3e\u6240\u6709\u7684\u77e9\u9635\u5bf9\u89d2\u7ebf\u4ee5\u4e0a\u7684\u6240\u6709\u60c5\u51b5\u3002\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u6570\u4e0d\u8d85\u8fc7\u4e94\u4f4d\u6570\uff0c\u6240\u4ee5\u5bf9\u89d2\u7ebf\u4ee5\u4e0a\u53ea\u4f1a\u6709 $ 6 $ \u4e2a\u5143\u7d20\uff0c\u679a\u4e3e\u7684\u6b21\u6570\u4e0d\u4f1a\u8d85\u8fc7 $ 10^6 $ \u6b21\uff0c\u53ef\u4ee5\u63a5\u53d7\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u6bcf\u79cd\u60c5\u51b5\u6ca1\u6709\u786e\u5b9a\u7684\u53ea\u6709\u5bf9\u89d2\u7ebf\uff0c\u628a\u6bcf\u884c\u5bf9\u89d2\u7ebf\u5b58\u5728\u7684\u53ef\u884c\u89e3\u5148\u7b97\u51fa\u6765\uff0c\u6700\u540e\u4e58\u8d77\u6765\uff0c\u7136\u540e\u628a\u6240\u6709\u60c5\u51b5\u7684\u7b54\u6848\u76f8\u52a0\u5373\u4e3a\u7b54\u6848\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nbool prime[100000];\nint s[10];\nint ten[10] = {1, 10, 100, 1000, 10000, 100000};\nint res;\nint tenDiv[100000];\nint tenMod[100000];\nint tenMul[100000];\nvector<int> ending2[100000];\nvector<int> ending3[100000];\nvoid init()\n{\n    memset(prime, 1, sizeof prime);\n    prime[0] = 0;\n    prime[1] = 0;\n    for(int i = 0; i < 100000; i++)\n    {\n        tenDiv[i] = i / 10;\n        tenMod[i] = i % 10;\n        tenMul[i] = i * 10;\n    }\n    for(int i = 2; i < 100000; i++)\n    {\n        if(!prime[i]) \n        continue;\n        for(int j = 2 * i; j < 100000; j += i)\n        prime[j] = false;\n    }//\u9884\u5904\u7406\u7d20\u6570\n    for(int i = 0; i < 1000; i++)\n        for(int j = 0; j < 100; j++)\n        {\n            if(prime[i * 100 + j])\n                ending3[i].push_back(j);\n            if(prime[j * 1000 + i])\n                ending2[j].push_back(i);\n        }//\u9884\u5904\u7406\u5408\u6cd5\u65b9\u6848\n}\nint a[10];\nvoid rec(int cur, int n)\n{\n    if(cur == n)\n    {\n        res++;\n        return;\n    }\n    int nu = s[cur - 1];\n    for(int i = n - 1; i >= cur; i--)\n    {\n        a[i] = tenMul[ a[i] ] + tenMod[nu];\n        nu = tenDiv[nu];\n    }\n    int k = a[cur];\n    int T = ten[n - cur];\n    int kT = k * T;\n    if(n == 5 && cur == 2)\n    {\n        for(int i = 0; i < ending2[k].size(); i++)\n        {\n            int number = ending2[k][i];\n            int num = number + kT;\n            if(!prime[num]) \n            continue;\n            s[cur] = num;\n            rec(cur + 1, n);\n        }\n    }\n    else if(n == 5 && cur == 3)\n    {\n        for(int i = 0; i < ending3[k].size(); i++)\n        {\n            int number = ending3[k][i];\n            int num = number + kT;\n            if(!prime[num]) \n            continue;\n            s[cur] = num;\n            rec(cur + 1, n);\n        }\n    }\n    else\n    {\n        for(int number = 0; number < T; number++)\n        {\n            int num = number + kT;\n            if(!prime[num]) \n            continue;\n            s[cur] = num;\n            rec(cur + 1, n);\n        }\n    }\n    for(int i = n - 1; i >= cur; i--)\n        a[i] = tenDiv[ a[i] ];//\u66b4\u529b\u679a\u4e3e\u90e8\u5206\n}\nint getLen(int num)\n{\n    int res = 0;\n    while(num > 0)\n    {\n        res++;\n        num /= 10;\n    }\n    return res;\n}\nvoid calc()\n{\n    a[0] = s[0];\n    int n = getLen(s[0]);\n    rec(1, n);\n}//\u8ba1\u7b97\u4f4d\u6570\nint main()\n{ \n    init();\n    int n;\n    scanf(\"%d\", &n);\n    int M = 0;\n    for(int i = 0; i < n; i++)\n    {\n        memset(s, 0, sizeof s);\n        memset(a, 0, sizeof a);//\u6e05\u7a7a\n        scanf(\"%d\", &s[0]);\n        res = 0;\n        calc();\n        printf(\"%d\\n\", res);\n    }\n}\n```",
        "postTime": 1654765974,
        "uid": 714821,
        "name": "loser_seele",
        "ccfLevel": 4,
        "title": "CF161E"
    }
]