[
    {
        "content": "## \u60f3\u6cd5\uff1a\n\u9996\u5148\u5410\u69fd\u4e00\u4e0b\u7ffb\u8bd1\uff0c\u867d\u7136\u57fa\u672c\u7ffb\u8bd1\u7684\u6ca1\u5565\u95ee\u9898\uff0c\u4f46\u662f\u4f60\u4e0d\u628a$mod$\u544a\u8bc9\u6211\u4eec\u5c31\u5f88\u68d2\u3002~~(\u6000\u7591\u4f60\u662f\u4e00\u4e2a\u4e13\u95e8\u641e\u7ffb\u8bd1\u7684)~~\u3002\n\n\u8a00\u5f52\u6b63\u4f20\uff0c\u9898\u4e2d\u7ed9\u4f60\u4e32$a$\u4e32$b$\uff0c\u95ee\u7528$a$\u7684\u6392\u5217\u751f\u6210\u65b0\u4e32$c$\u6ee1\u8db3\u5b57\u5178\u5e8f$a<c<b$\u7684\u4e32$c$\u79cd\u7c7b\u6570\n\n\u95ee\u9898\u8f6c\u5316\u6210\u95ee$f(s)$,$f(s)$\u8868\u793a\u7528\u5df2\u6709\u5b57\u7b26\u6784\u5efa\u7684\u5b57\u7b26\u4e32\u5b57\u5178\u5e8f\u4e0a\u5c0f\u4e8e$s$\uff0c\u7b54\u6848\u5c31\u662f$f(b)-f(a)-1$\n\n\u8fd9\u6837\u4e00\u8f6c\u5316\u5c31\u4e0d\u7528\u679a\u4e3e\u4e24\u4e2a\u5b57\u5178\u5e8f\u53d8\u5316\u70b9\u4e86\u3002\u3002\n\n\u7136\u540e$i$\u679a\u4e3e\u5b57\u5178\u5e8f\u53d8\u5316\u70b9\uff0c$j$\u679a\u4e3e\u5b57\u7b26\u96c6\n\n\u7531\u4e8e\u5b57\u5178\u5e8f\u53d8\u5316\u70b9\u8d8a\u9760\u540e\u8d21\u732e\u8d8a\u5c0f\uff0c\u6240\u4ee5\u7ef4\u62a4\u4e00\u4e2a$cur$\u8868\u793a\u5f53\u524d\u53ef\u7528\u5b57\u7b26\u751f\u6210\u7684\u4e0d\u540c\u5b57\u7b26\u4e32\u4e2a\u6570\uff0c\n\n\u6bcf\u5f53\u51b3\u5b9a\u4e00\u4e2a\u5b57\u7b26\uff0c$cur$\u5c31\u8981\u9664\u6389\u5269\u4e0b\u5b57\u7b26\u7684\u4e2a\u6570\uff0c\u518d\u4e58\u4e0a\u8fd9\u4e2a\u8981\u7528\u7684\u5b57\u7b26\u7684\u5269\u4f59\u4e2a\u6570\u3002\n\n## Code:\n```cpp\n#include<cstdio>\n#include<algorithm>  \n#include<queue>  \n#include<cstring>  \n#include<iostream>    \n#include<set>  \n#include<map>  \n#include<vector>    \nusing namespace std;  \n#define ll long long  \nconst int inf=0x3f3f3f3f;\nconst int maxn=1e6+5;\nconst int mod=1e9+7;\n\nint n;\nchar a[maxn],b[maxn];\nint cnt[26],c[26];\nint f[maxn],rf[maxn],sr[maxn];\n\nint f1(char *s){\n\tmemcpy(c,cnt,sizeof c);\n\tint cur=f[n];\n\tfor(int i=0;i<26;i++){\n\t\tif(c[i])\n\t\t\tcur=1ll*cur*rf[c[i]]%mod;\n\t}\n\t//cur\u662f\u5269\u4e0b\u5b57\u7b26\u53ef\u6784\u6210\u5b57\u7b26\u4e32\u79cd\u6570\n\tint ans=0;\n\tfor(int i=1;i<=n;i++){\t//\u679a\u4e3e\u4e0d\u540c\u4f4d\u7f6e\n\t\tfor(int x=0;x<s[i]-'a';x++){\n\t\t\tif(c[x]){\t\t//\u679a\u4e3e\u6bd4\u4ed6\u5c0f\u7684\u5b57\u7b26\n\t\t\t\tint now=cur;\n\t\t\t\tnow=1ll*now*sr[n-i+1]%mod;\t//\u9009\u5b9a\u4e00\u79cd\u5b57\u7b26\n\t\t\t\tnow=1ll*now*c[x]%mod;\t\t\t\t//\u9009\u54ea\u4e00\u4e2a\n\t\t\t\tans=(ans+now)%mod;\n\t\t\t}\n\t\t}\n\t\tif(c[s[i]-'a']){\n\t\t\tcur=(ll)cur*sr[n-i+1]%mod;\n\t\t\tcur=(ll)cur*c[s[i]-'a']%mod;\n\t\t\tc[s[i]-'a']--;\n\t\t}else{\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn ans;\n}\n\nint rev(int a){//\u9006\u5143 \n\tint ret=1;\n\tfor(int b=mod-2;b;b>>=1,a=(ll)a*a%mod)\n\t\tif(b&1)\n\t\t\tret=(ll)ret*a%mod;\n\treturn ret;\n}\n\nint main(){\n\tf[0]=rf[0]=1;\n\tfor(int i=1;i<maxn;i++){\n\t\tf[i]=(ll)i*f[i-1]%mod;\n\t\tsr[i]=rev(i);\n\t\trf[i]=(ll)sr[i]*rf[i-1]%mod;\n\t}\n\tscanf(\"%s%s\",a+1,b+1);\n\tn=strlen(a+1);\n\tfor(int i=1;i<=n;i++){\n\tcnt[a[i]-'a']++;\n\t}\n\tprintf(\"%d\\n\",(f1(b)-f1(a)-1+mod)%mod);\n}\n```",
        "postTime": 1604403083,
        "uid": 283083,
        "name": "fisheep",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 CF895D \u3010String Mark\u3011"
    }
]