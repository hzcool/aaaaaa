[
    {
        "content": "### Link.\n[Codeforces](https://codeforces.com/problemset/problem/191/D)  \n[Luogu](https://www.luogu.com.cn/problem/CF191D)  \n[\u66f4\u53ef\u7231\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/pealfrog/p/15228596.html)  \n\n### Description.\n\u7ed9\u5b9a\u4e00\u4e2a\u4ed9\u4eba\u638c\uff0c\u95ee\u81f3\u5c11\u7528\u591a\u5c11\u4e2a\u7b80\u5355\u8def\u5f84\u548c\u7b80\u5355\u73af\u6765\u8986\u76d6\u5b83\u3002  \n\n### Solution.\n\u9996\u5148\u6211\u4eec\u53d1\u73b0\u9664\u4e86\u662f\u4e00\u6574\u4e2a\u73af\uff0c\u5176\u4ed6\u60c5\u51b5\u7b80\u5355\u73af\u662f\u6ca1\u6709\u7528\u7684\u3002  \n\u56e0\u4e3a\u5982\u679c\u9009\u4e86\u4e00\u4e2a\u7b80\u5355\u73af\uff0c\u56e0\u4e3a\u56fe\u4e0d\u662f\u4e00\u4e2a\u73af\uff0c\u6240\u4ee5\u8fd9\u4e2a\u73af\u5fc5\u6709\u51fa\u8fb9\u3002  \n\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u4ece\u51fa\u8fb9\u8fde\u8fdb\u6765\uff0c\u628a\u73af\u65ad\u6389\uff0c\u8fd9\u6837\u4e0d\u52a3\u3002  \n\n\u6240\u4ee5\u7b80\u5355\u73af\u5224\u6389\uff0c\u63a5\u4e0b\u6765\u628a\u6240\u6709\u73af\u627e\u51fa\u6765\uff0c\u53ef\u4ee5\u7528\u8fb9\u53cc\u3002  \n\u5bf9\u6240\u6709\u94fe\u7ed3\u675f\u4f4d\u7f6e\u7edf\u8ba1\u7b54\u6848\uff0c\u6700\u540e\u7b54\u6848\u9664\u4ee5\u4e8c\u3002  \n\u5f88\u663e\u7136\uff0c\u4e00\u4e2a\u70b9\u4e0d\u53ef\u80fd\u6709\u4e24\u4e2a\u7ed3\u675f\u4f4d\u7f6e\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u62fc\u8d77\u6765\u3002  \n\u7136\u540e\uff0c\u6211\u4eec\u8003\u8651\u90a3\u4e9b\u4e0d\u5728\u73af\u4e0a\u7684\u5355\u4e00\u8282\u70b9\uff0c\u5b83\u7684\u7b54\u6848\u5f88\u663e\u7136\u5c31\u76f4\u63a5\u662f $\\deg\\bmod2$\u3002  \n\u8003\u8651\u6240\u6709\u73af\uff0c\u4e00\u4e2a\u73af\u7684 $\\deg$ \u5b9a\u4e49\u4e3a\u5b83\u6240\u6709\u8282\u70b9\u7684\u4e0d\u5728\u73af\u4e0a\u7684\u8fde\u8fb9\u6570\u4e4b\u548c\u3002  \n\u90a3\u8003\u8651\u5982\u679c\u4e00\u4e2a\u73af\u7684 $\\deg\\ge2$\uff0c\u90a3\u5b83\u80af\u5b9a\u53ef\u4ee5\u4ece\u4e00\u6761\u8fb9\u5165\uff0c\u4e00\u6761\u8fb9\u51fa\uff0c\u5b8c\u5168\u88ab\u8986\u76d6\u3002  \n\n### Coding.\n```cpp\n//\u662f\u554a\uff0c\u4f60\u5c31\u662f\u90a3\u53ea\u9b3c\u4e86\uff0c\u6240\u4ee5\u88ab\u4f60\u78b0\u5230\u4ee5\u540e\uff0c\u5c31\u8f6e\u5230\u6211\u53d8\u6210\u9b3c\u4e86{{{\n#include<bits/stdc++.h>\nusing namespace std;typedef long long ll;\ntemplate<typename T>inline void read(T &x)\n{\n\tx=0;char c=getchar(),f=0;\n\tfor(;c<48||c>57;c=getchar()) if(!(c^45)) f=1;\n\tfor(;c>=48&&c<=57;c=getchar()) x=(x<<1)+(x<<3)+(c^48);\n\tf?x=-x:x;\n}\ntemplate<typename T,typename...L>inline void read(T &x,L&...l) {read(x),read(l...);}//}}}\nconst int N=100005;struct edge{int to,nxt;}e[600005];int et=1,head[N],n,m,rs=0,dg[N];\ninline void adde(int x,int y) {e[++et]=(edge){y,head[x]},head[x]=et,dg[x]++;}\nnamespace tarjan\n{\n\tint low[N],dfn[N],dt=0,cl[N],clt,cn[N];char bd[600005];vector<int>cc[N];\n\tinline void dfs(int x,int fa)\n\t{\n\t\tlow[x]=dfn[x]=++dt;for(int i=head[x];i;i=e[i].nxt)\n\t\t\tif(!dfn[e[i].to])\n\t\t\t{\n\t\t\t\tdfs(e[i].to,x),low[x]=min(low[x],low[e[i].to]);\n\t\t\t\tif(low[e[i].to]>dfn[x]) bd[i]=bd[i^1]=1;\n\t\t\t}else if(e[i].to^fa) low[x]=min(low[x],dfn[e[i].to]);\n\t}\n\tinline void color(int x,int col)\n\t{\n\t\tif(cl[x]) return;else cl[x]=col,cn[col]++,cc[col].push_back(x);\n\t\tfor(int i=head[x];i;i=e[i].nxt) if(!bd[i]) color(e[i].to,col);\n\t}\n\tinline void init() {dfs(1,0);for(int i=1;i<=n;i++) if(!cl[i]) color(i,++clt);}\n}using tarjan::cc;using tarjan::clt;\nint main()\n{\n\tread(n,m);for(int i=1,x,y;i<=m;i++) read(x,y),adde(x,y),adde(y,x);\n\tif(m==0) return puts(\"0 0\"),0;else tarjan::init();\n\tif(clt==1) return printf(\"1 %d\\n\",m),0;\n\tfor(int i=1;i<=n;i++) rs+=dg[i]&1;\n\trs>>=1;for(int i=1;i<=clt;i++)\n\t{\n\t\tint r=0;for(auto x:cc[i]) r+=dg[x]>=3;\n\t\tif((int)cc[i].size()!=1&&r<=1) rs++;\n\t}\n\treturn printf(\"%d %d\\n\",rs,m),0;\n}\n```",
        "postTime": 1630802308,
        "uid": 44805,
        "name": "Leap_Frog",
        "ccfLevel": 7,
        "title": "CF191D Metro Scheme\uff08\u9898\u89e3\uff09"
    }
]