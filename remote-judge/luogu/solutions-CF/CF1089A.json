[
    {
        "content": "# \u9898\u89e3\n\n\u4ed4\u7ec6\u89c2\u5bdf\u4e00\u4e0b\u6570\u636e\u8303\u56f4\uff0c\u53d1\u73b0$a,b\u2264200$\uff0c\u6709\u70b9\u50cf\u4e00\u4e2a$O(n^3)$\u7684\u9884\u5904\u7406\u66b4\u529bdp\u3002\n\n\u8bbe$dp[A][B][x][y]$\u4e3a`A\u961f`\u5f97\u5206\u603b\u548c\u4e3a$A$,`B\u961f`\u5f97\u5206\u603b\u548c\u4e3a$B$,\u73b0\u5728\u7684\u6bd4\u5206\u662f$x:y$\u65f6\u662f\u5426\u6709\u89e3\u3002\n\u518d\u5f00\u4e00\u4e2avector $ans[A][B][x][y]$\u4fdd\u5b58\u7b54\u6848\u3002\n\n\u7136\u540e\u8f6c\u79fb\u5c31\u5f88\u597d\u5199\u4e86:\n[\u8bbe$winscore$\u4e3a\u6b63\u5e38\u60c5\u51b5\u4e0b\u80fd\u591f\u83b7\u80dc\u7684\u5206\u6570]\n1.\u8be5\u5c40\u6709\u4e00\u4e2a\u961f\u4f0d\u5f97\u5206\u5728$winscore+1$\u5206\u53ca\u4ee5\u4e0a\uff0c\u6b64\u65f6\u4e24\u7ec4\u5206\u6570\u76f8\u5dee2:\n$$dp[A+val][B+val-2][x+1][y]=dp[A][B][x][y]$$\n$$dp[A+val-2][B+val][x][y+1]=dp[A][B][x][y]$$\n2.\u8be5\u5c40\u6709\u4e00\u4e2a\u961f\u4f0d\u5f97\u5206\u5728$winscore-1$\u5206\u4ee5\u4e0b\uff0c\u6b64\u65f6\u6709\u4e00\u7ec4\u5206\u6570\u4e3a\u4e3a$winscore$\uff0c\u53e6\u5916\u4e00\u7ec4\u7684\u5f97\u5206\u4efb\u610f\uff1a\n$$dp[A+winscore][B+val][x+1][y]=dp[A][B][x][y]$$\n$$dp[A+val][B+winscore][x][y+1]=dp[A][B][x][y]$$\n\n\u65f6\u95f4\u590d\u6742\u5ea6:$O(9n^3)$\n# \u5b9e\u73b0\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<queue>\n#include<cmath>\n#include<vector>\nusing namespace std;\n#define MAXN 200\n#define LL long long\n#define INF 10000\n#define MOD 1000000000\n#define PB push_back\n#define MP make_pair\n#define FR first\n#define SE second\nint dp[MAXN+5][MAXN+5][4][4];\nvector< pair<int,int> > ans[MAXN+5][MAXN+5][4][4];\nint T;\nint vx[]={3,3,3,2,1,0},vy[]={0,1,2,3,3,3};\nint main()\n{\n\tfreopen(\"match.in\",\"r\",stdin);\n\tfreopen(\"match.out\",\"w\",stdout);\n\tdp[0][0][0][0]=1;\n\tfor(int A=0;A<=200;A++)\n\t\tfor(int B=0;B<=200;B++)\n\t\t\tfor(int x=0;x<=2;x++)\n\t\t\t\tfor(int y=0;y<=2;y++)\n\t\t\t\t{\n\t\t\t\t\tint maxs=25;\n\t\t\t\t\tif(x+y==4)maxs=15;\n\t\t\t\t\tif(!dp[A][B][x][y])continue;\n\t\t\t\t\tfor(int val=maxs+1;val<=200;val++){\n\t\t\t\t\t\tif(A+val<=200&&B+val-2<=200&&!dp[A+val][B+val-2][x+1][y]){\n\t\t\t\t\t\t\tdp[A+val][B+val-2][x+1][y]=1;\n\t\t\t\t\t\t\tans[A+val][B+val-2][x+1][y]=ans[A][B][x][y];\n\t\t\t\t\t\t\tans[A+val][B+val-2][x+1][y].PB(MP(val,val-2));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(A+val-2<=200&&B+val<=200&&!dp[A+val-2][B+val][x][y+1]){\n\t\t\t\t\t\t\tdp[A+val-2][B+val][x][y+1]=1;\n\t\t\t\t\t\t\tans[A+val-2][B+val][x][y+1]=ans[A][B][x][y];\n\t\t\t\t\t\t\tans[A+val-2][B+val][x][y+1].PB(MP(val-2,val));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor(int val=0;val<maxs-1;val++){\n\t\t\t\t\t\tif(A+maxs<=200&&B+val<=200&&!dp[A+maxs][B+val][x+1][y]){\n\t\t\t\t\t\t\tdp[A+maxs][B+val][x+1][y]=1;\n\t\t\t\t\t\t\tans[A+maxs][B+val][x+1][y]=ans[A][B][x][y];\n\t\t\t\t\t\t\tans[A+maxs][B+val][x+1][y].PB(MP(maxs,val));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(A+val<=200&&B+maxs<=200&&!dp[A+val][B+maxs][x][y+1]){\n\t\t\t\t\t\t\tdp[A+val][B+maxs][x][y+1]=1;\n\t\t\t\t\t\t\tans[A+val][B+maxs][x][y+1]=ans[A][B][x][y];\n\t\t\t\t\t\t\tans[A+val][B+maxs][x][y+1].PB(MP(val,maxs));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\tscanf(\"%d\",&T);\n\twhile(T--)\n\t{\n\t\tint A,B,x=-1,y;\n\t\tscanf(\"%d%d\",&A,&B);\n\t\tfor(int v=0;v<6;v++)\n\t\tif(dp[A][B][vx[v]][vy[v]])\n\t\t{\n\t\t\tx=vx[v],y=vy[v];\n\t\t\tbreak;\n\t\t}\n\t\tif(x==-1){printf(\"Impossible\\n\");continue;}\n\t\tprintf(\"%d:%d\\n\",x,y);\n\t\tfor(int i=0;i<ans[A][B][x][y].size();i++)\n\t\tprintf(\"%d:%d \",ans[A][B][x][y][i].FR,ans[A][B][x][y][i].SE);\n\t\tprintf(\"\\n\");\n\t}\n}\n```",
        "postTime": 1562730403,
        "uid": 41319,
        "name": "Panda_hu",
        "ccfLevel": 7,
        "title": "[CF1089A]Alice the Fan(\u52a8\u6001\u89c4\u5212\u9884\u5904\u7406)"
    }
]