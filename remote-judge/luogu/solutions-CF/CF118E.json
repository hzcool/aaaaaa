[
    {
        "content": "ad: [\u535a\u5ba2\u98df\u7528\u6548\u679c\u66f4\u4f73](https://hikaru.com.cn/hikaru/212/)\n#### Description\n\n[here](https://codeforces.com/contest/118/problem/E)\n\n#### Solution\n\n> \u6865\uff1a\u7ed9\u5b9a\u4e00\u5f20\u65e0\u5411\u8fde\u901a\u56fe $G$ .\u82e5\u5bf9\u4e8e $x\\in V$ \uff0c\u4ece\u56fe\u4e2d\u5220\u53bb\u8fb9 $e$ \u4e4b\u540e\uff0c$G$ \u5206\u88c2\u6210\u4e24\u4e2a\u4e0d\u76f8\u8fde\u7684\u5b50\u56fe\uff0c\u5219 $e$ \u79f0 \u4e3a $G$ \u7684\u6865\u6216\u5272\u8fb9\u3002\n\n\u90a3\u4e48\u672c\u9898\u5c31\u8f6c\u5316\u4e3a\u5224\u65ad\u662f\u5426\u5b58\u5728\u6865\uff0c\u5982\u679c\u6709\u6865\u5b58\u5728\u5373\u662f\u65e0\u89e3\uff0c\u53ef\u4ee5\u4f7f\u7528 tarjan \u7b97\u6cd5\u89e3\u51b3\u3002\n\n\u5728\u8fdb\u884c tarjan \u65f6\uff0c\u987a\u4fbf\u8bb0\u5f55\u4e0b\u8def\u5f84\u3002\n\n#### Code\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n\nusing namespace std;\n\nconst int N=100010,M=600010;\n\nint n,m;\nint h[N],to[M],ne[M],idx;\nint dfn[N],low[N],timestamp;\nint ans[M][2],tot;\nbool vis[M];\n\ninline void read(int &x){\n\tx=0;int f=1;char c=getchar();\n\twhile(!isdigit(c)){if(c=='-')f=-1;c=getchar();}\n\twhile(isdigit(c)){x=(x<<1)+(x<<3)+(c^48);c=getchar();}\n\tx*=f;\n}\n\ninline void add(int u,int v){\n\tto[idx]=v,ne[idx]=h[u],h[u]=idx++;\n}\n\nvoid tarjan(int u,int fa){\n\tlow[u]=dfn[u]=++timestamp;\n\tfor(int i=h[u];~i;i=ne[i]){\n\t\tint j=to[i];\n\t\tif(j == fa) continue;\n\t\tif(!dfn[j]){\n\t\t\ttarjan(j,u);\n\t\t\tans[++tot][0]=u,ans[tot][1]=j;\n\t\t\tif(low[j] > dfn[u]){\n\t\t\t\tputs(\"0\");\n\t\t\t\texit(0);\n\t\t\t}\n\t\t\tlow[u]=min(low[u],low[j]);\n\t\t}\n\t\telse{\n\t\t\tlow[u]=min(low[u],dfn[j]);\n\t\t\tif(dfn[j] < dfn[u]) ans[++tot][0]=u,ans[tot][1]=j;\n\t\t} \n\t}\n}\n\nint main(){\n\tmemset(h,-1,sizeof h);\n\tread(n),read(m);\n\twhile(m--){\n\t\tint a,b;\n\t\tread(a),read(b);\n\t\tadd(a,b),add(b,a);\n\t}\n\n\ttarjan(1,-1);\n\tfor(int i=1;i<=tot;++i)\n\t\tprintf(\"%d %d\\n\",ans[i][0],ans[i][1]);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1628872103,
        "uid": 214654,
        "name": "NatsumeHikaru",
        "ccfLevel": 0,
        "title": "\u3010CF118E\u3011Bertown roads\u89e3\u9898\u62a5\u544a"
    },
    {
        "content": "\u9996\u5148\u628a\u56fe\u8bfb\u8fdb\u6765\n\n\u7136\u540e\u6211\u4eec\u5148\u8fdb\u884c tarjan\n\n\u5982\u679c\u6709\u6865\uff0c\u90a3\u4e48\u4e00\u5b9a\u65e0\u89e3\n\n\u4e0d\u7136\u6211\u4eec\u5c31\u8fdb\u884c dfs\n\n\u6309\u7167\u8bbf\u95ee\u987a\u5e8f\u8f93\u51fa\n\n\u6ce8\u610f\u8fd9\u662f\u53cc\u5411\u8fb9\uff0c\u6240\u4ee5\u8fb9\u5df2\u8bbf\u95ee\u7684\u6807\u8bb0\u8981\u6253\u53cc\u5411\u7684\n\n\u4f46\u662f\u8fd9\u6837\u4f1a\u8d85\u65f6\n\n\u6709\u4e00\u79cd\u60c5\u51b5\uff1a\n\n```\n7 11\n1 2\n2 3\n3 1\n1 4\n4 2\n1 5\n5 2\n1 6\n6 2\n1 7\n7 2\n```\n\u8fd9\u68371,2\u4e24\u4e2a\u70b9\u4f1a\u91cd\u590d\u8bbf\u95ee\uff0c\u800c\u4e14\u4ed6\u4eec\u7684\u51fa\u8fb9\u53c8\u5f88\u591a\n\n\u6240\u4ee5\u8bbf\u95ee\u8fc7\u7684\u70b9\u4e5f\u8981\u6807\u8bb0\uff0c\u4e0d\u80fd\u91cd\u590d\u8bbf\u95ee\uff08\u4f46\u8fb9\u4e0d\u80fd\u6807\u8bb0\uff09\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<vector>\n#include<queue>\nstd::vector<int> a[100005],b[100005],f[100005];\nint n,m,flag,cnt,dfn[100005],low[100005],vis[100005],p[100005]; \nvoid add(int x,int y)\n{\n\ta[x].push_back(y),a[y].push_back(x);\n\tb[x].push_back(0),b[y].push_back(0);\n\tf[x].push_back(a[y].size()-1),f[y].push_back(a[x].size()-1);\n}\nvoid tarjan(int v,int fa)\n{\n\tlow[v]=dfn[v]=++cnt;vis[v]=1;\n\tfor (int i=0;i<a[v].size();i++)\n\t{\n\t    int u=a[v][i];\n\t    if (u==fa) continue;\n\t    if (!dfn[u]) tarjan(u,v),low[v]=std::min(low[v],low[u]);\n\t    else if (vis[u]) low[v]=std::min(low[v],dfn[u]);\n\t    if (dfn[v]<low[u]) flag=1;\n\t}\n}\nvoid dfs(int v)\n{\n\tif (p[v]) return;p[v]=1;\n\tfor (int i=0;i<a[v].size();i++)\n\t{\n\t\tint u=a[v][i];\n\t\tif (b[v][i]) continue;\n\t\tb[v][i]=1;b[u][f[v][i]]=1;\n\t\tprintf(\"%d %d\\n\",v,u);\n\t\tdfs(u);\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor (int i=1;i<=m;i++)\n\t{\n\t\tint x,y;\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tadd(x,y);\n\t}\n\ttarjan(1,-1);\n\tif (flag) {puts(\"0\");return 0;}\n\tdfs(1);\n\treturn 0;\n}\n```\n",
        "postTime": 1584850702,
        "uid": 36957,
        "name": "RainFestival",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF118E \u3010Bertown roads\u3011"
    },
    {
        "content": "\u8003\u8651 dfs \u6811\u3002\n\n\u5f53\u4e14\u4ec5\u5f53\u4e00\u6761\u6811\u8fb9\u6ca1\u6709\u88ab\u8fd4\u7956\u8fb9\uff08\u5373\u975e\u6811\u8fb9\uff09\u8986\u76d6\u8fc7\u65f6\uff0c\u65e0\u89e3\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u628a dfs \u6811\u5efa\u51fa\u6765\uff0c\u5bf9\u8fd4\u7956\u8fb9\u7684\u8986\u76d6\u8303\u56f4\u5728 dfs \u6811\u4e0a\u8fdb\u884c\u6811\u4e0a\u5dee\u5206\u3002\n\n\u6700\u540e\u82e5\u6709\u89e3\uff0c\u76f4\u63a5\u6309\u7167 dfs \u6811\u4e0a\u7684\u65b9\u5411\u8f93\u51fa\u5373\u53ef\u3002\n\n```cpp\n\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\n\nint read() {\n\tint s = 0, f = 1;\n\tchar ch = getchar();\n\twhile (ch < '0' || ch > '9')\n\t\tf = (ch == '-' ? -1 : 1), ch = getchar();\n\twhile (ch >= '0' && ch <= '9')\n\t\ts = (s << 1) + (s << 3) + (ch ^ 48), ch = getchar();\n\treturn s * f;\n}\n\nint n, m;\nvector<int> e[100005];\nvector<int> t[100005];\nbool vis[100005] = {0};\nint d[100005] = {0};\n\nvoid dfs(int x, int fa) {\n\tvis[x] = true;\n\tfor (int y : e[x])\n\t\tif (y != fa && vis[y])\n\t\t\td[x]++, d[y]--;\n\tfor (int y : e[x])\n\t\tif (!vis[y])\n\t\t\tt[x].push_back(y), dfs(y, x);\n}\n\nbool intot(int x) {\n\tbool ans = true;\n\tfor (int y : t[x])\n\t\tans &= intot(y), d[x] += d[y];\n\treturn ans && (d[x] || x == 1); \n}\n\nvoid print(int x, int fa) {\n\tvis[x] = true;\n\tfor (int y : e[x])\n\t\tif (y != fa && vis[y])\n\t\t\tprintf(\"%lld %lld\\n\", x, y);\n\tfor (int y : e[x])\n\t\tif (!vis[y])\n\t\t\tprintf(\"%lld %lld\\n\", x, y), print(y, x);\n}\n\nsigned main() {\n\tn = read(), m = read();\n\tfor (int i = 1; i <= m; i++) {\n\t\tint u = read(), v = read();\n\t\te[u].push_back(v), e[v].push_back(u);\n\t}\n\tdfs(1, 0);\n\tif (!intot(1)) {\n\t\tprintf(\"0\");\n\t\treturn 0;\n\t}\n\tmemset(vis, 0, sizeof vis);\n\tprint(1, 0);\n\treturn 0;\n}\n```",
        "postTime": 1673517815,
        "uid": 483037,
        "name": "Galex",
        "ccfLevel": 6,
        "title": "CF118E \u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\uff1a\n\u5224\u65ad\u662f\u5426\u80fd\u628a\u4e00\u4e2a\u65e0\u5411\u56fe\u7684\u6240\u6709\u65e0\u5411\u8fb9\u6539\u6210\u6709\u5411\u8fb9\uff0c\u4f7f\u5f97\u6539\u5b8c\u540e\u4e24\u4e24\u70b9\u53ef\u8fbe\uff0c\u5e76\u7ed9\u51fa\u65b9\u6848\u3002\n\n### \u601d\u8def\uff1a\n\n\u4e0d\u5728\u6df1\u5ea6\u4f18\u5148\u751f\u6210\u6811\u4e0a\u7684\u8fb9\u5fc5\u7136\u8fde\u5230\u5b83\u7684\u7956\u5148\u6216\u8005\u76f4\u63a5\u513f\u5b50\u3002\n\n\u7136\u540e\u53ef\u4ee5\u53d1\u73b0\uff0c\u4e0d\u5b58\u5728\u65b9\u6848\u7b49\u4ef7\u4e8e\u4efb\u610f\u4e00\u79cd\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u7684\u65b9\u5f0f\u90fd\u5b58\u5728\u4e00\u4e2a\u70b9\u548c\u5b83\u7684\u5b50\u6811\u5185\u90fd\u6ca1\u6709\u8fd4\u7956\u8fb9\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b58\u5728\u6865\u3002\n\n\u5f53\u7136\uff0c\u5982\u679c\u77e5\u9053\u4e86\u7ed3\u8bba\u662f\u6865\u7684\u8bdd\uff0c\u8bc1\u660e\u662f\u5f88\u7b80\u5355\u7684\uff0c\u56e0\u4e3a\u5220\u4e86\u6865\u540e\u56fe\u4e0d\u518d\u8fde\u901a\uff0c\u90a3\u4e48\u5b9a\u5411\u540e\u4e24\u5757\u4e00\u5b9a\u6709\u4e00\u5757\u603b\u5230\u4e0d\u4e86\u53e6\u4e00\u5757\u3002\n\nTarjan \u5224\u4e00\u53d1\u6865\u3002\n\n\u7136\u540e\u600e\u4e48\u6539\uff0c\u7531\u4e8e\u5df2\u7ecf\u4fdd\u8bc1\u6ca1\u6709\u6865\uff0c\u6240\u4ee5\u6bcf\u4e2a\u70b9\u7684\u5b50\u6811\u5185\u90fd\u6709\u8fd4\u7956\u8fb9\uff0c\u5f53\u7136\u5c31\u662f\u6811\u4e0a\u7684\u8fb9\u6307\u5411\u513f\u5b50\uff0c\u5269\u4f59\u7684\u8fb9\u6307\u5411\u7956\u5148\u3002\n\n\u4e3a\u5565\u8fd9\u662f\u5bf9\u7684\u5462\uff0c\u5047\u8bbe\u6839\u662f $root$\u3002\n\n\u90a3\u4e48\u5f88\u660e\u663e $root$ \u80fd\u5230\u8fbe\u6240\u6709\u70b9\uff0c\u90a3\u4e48\u53ea\u9700\u8981\u8bc1\u660e\u6240\u6709\u70b9\u90fd\u80fd\u5230 $root$ \u5373\u53ef\uff1a\n\n\u9996\u5148\uff0c\u5fc5\u7136\u5b58\u5728\u4e00\u4e2a $root$ \u7684\u5ea6\u5927\u4e8e\u7b49\u4e8e $2$\uff0c\u9009\u4ed6\u4e3a\u6b63\u5f0f\u7684 $root$\u3002\n\u90a3\u4e48\uff0c\u80af\u5b9a\u662f\u4e00\u4e2a\u8fb9\u662f $root$ \u6307\u5411\u751f\u6210\u6811\u6811\u4e0a\u7684\u513f\u5b50\uff0c\u53e6\u4e00\u4e9b\u662f $u$ \u6307\u5411 $root$ \u7684\uff08\u6ce8\u610f\u65b9\u5411\uff09\u3002\n\u6240\u4ee5 $root$ \u548c $u$ \u4e4b\u95f4\u7684\u6240\u6709\u70b9\u90fd\u80fd\u8d70\u5230 $root$ \u4e86\n\u7531\u4e8e\u6240\u6709\u5728 $u$ \u7684\u5b50\u6811\u5185\u4e00\u5b9a\u5b58\u5728 $v$ \u6ee1\u8db3 $v$ \u548c $u$ \u7684\u67d0\u4e2a\u7956\u5148\u6709\u8fde\u8fb9\uff0c\u5426\u5219\u5c31\u5b58\u5728\u6865\u4e86\u3002\n\n\u7136\u540e\u80fd\u8d70\u5230 $root$ \u5c31\u6709\u4f20\u9012\u6027\u4e86\u3002\n\n\u611f\u6027\u7406\u89e3\uff0c\u4e0d\u80fd\u8d70\u65f6\u5c31\u5f80\u4e0b\u8d70\u5230\u7b2c\u4e00\u4e2a\u6709\u8fd4\u7956\u8fb9\u7684\u70b9\u518d\u5f80\u4e0a\u8df3\u3002\n\n### \u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n,m,p[(int)(2e5+10)];\nvector<int>e[(int)(2e5+10)];\nint fa[(int)(2e5+10)];\nint dfn[(int)(2e5+10)],low[(int)(2e5+10)],id=0,num=0;\nbool f=0;\nstruct node\n{\n    int u,v;\n}a[(int)(3e5+10)],b[(int)(3e5+10)];\nint top1;\nmap<pair<int,int>,int>is;\nvoid dfs(int u)\n{\n    dfn[u]=low[u]=++num;\n    for(int i=0;i<e[u].size();i++)\n    {\n        int v=e[u][i];\n        bool fl=0;\n        if(!dfn[v])\n        {\n            b[++top1]=(node){u,v};\n            is[make_pair(u,v)]=is[make_pair(u,v)]=1;\n            fa[v]=u;dfs(v);\n            low[u]=min(low[u],low[v]);\n            if(low[v]>dfn[u])\n            {\n                f=1;\n            }\n        }\n        else \n        {\n            if(fa[u]!=v)\n            {\n                low[u]=min(low[u],dfn[v]);\n            }\n        }\n    }\n}\nsigned main()\n{\n    cin>>n>>m;\n    for(int i=1;i<=m;i++)\n    {\n        int u,v;cin>>u>>v;\n        e[u].push_back(v);e[v].push_back(u);\n        a[i]=(node){u,v};\n    }\n    for(int i=1;i<=n;i++)\n    {\n        if(!dfn[i])\n        {\n            dfs(i);\n        }\n    }\n    // for(int i=1;i<=n;i++)\n    // {\n    //     cout<<dfn[i]<<\"\\n\";\n    // }\n    // puts(\"\");\n    if(f==1) puts(\"0\");\n    else \n    {\n        for(int i=1;i<=top1;i++)\n        {\n            cout<<b[i].u<<\" \"<<b[i].v<<\"\\n\";\n        }\n        for(int i=1;i<=m;i++)\n        {\n            if(is[make_pair(a[i].v,a[i].u)]||is[make_pair(a[i].u,a[i].v)]) continue;\n            if(dfn[a[i].v]<dfn[a[i].u]) cout<<a[i].u<<\" \"<<a[i].v<<\"\\n\";\n            else cout<<a[i].v<<\" \"<<a[i].u<<\"\\n\";\n        }\n    }\n    system(\"pause > null\");\n}\n```",
        "postTime": 1643204975,
        "uid": 413777,
        "name": "npqenqpve",
        "ccfLevel": 0,
        "title": "CF118E"
    },
    {
        "content": "DFS \u6811\u3002\n\n\u9996\u5148\u6211\u4eec\u8981\u77e5\u9053\uff0c\u5728\u6c42\u5272\u70b9\u6216\u6865\u7684\u65f6\u5019\u6709\u4e00\u79cd\u4e0d\u7528 Tarjan \u7684\u7b97\u6cd5\uff1aDFS \u6811\u3002\u5982\u679c\u4e0d\u4e86\u89e3\uff0c\u6211\u63a8\u8350\u795e\u4ed9\u7684\u535a\u5ba2 [link](https://blog.csdn.net/weixin_43848437/article/details/105133155)\uff08\u5176\u5b9e\u662f\u7ffb\u8bd1\uff09\u3002\n\n\u6211\u4eec\u8003\u8651\u8bc1\u660e\uff0c\u5982\u679c\u5b58\u5728\u6865\u4e00\u5b9a\u4e0d\u6ee1\u8db3\uff0c\u5426\u5219\u4e00\u5b9a\u53ef\u4ee5\u6784\u9020\u3002\n\n- \u5982\u679c\u5b58\u5728\u6865\uff1a\u5047\u8bbe\u6211\u4eec\u628a\u8fd9\u6761\u8fb9\u5b9a\u5411\u4e3a $u\\to v$\uff0c\u90a3\u4e48\u663e\u7136 $v$ \u8d70\u4e0d\u5230 $u$ \u4e86\u3002\n- \u5982\u679c\u4e0d\u5b58\u5728\u6865\uff1a\u6211\u4eec\u8003\u8651\u628a DFS \u6811\u4e0a\u6240\u6709\u8fb9\u5b9a\u5411\u4e3a\u7236\u4eb2\u5230\u513f\u5b50\uff0c\u5176\u4ed6\u975e\u6811\u8fb9\u5b9a\u5411\u4e3a\u8fd4\u7956\u8fb9\u3002\u9996\u5148\u663e\u7136\u6839\u80fd\u5230\u8fbe\u6240\u6709\u8282\u70b9\u3002\u7531\u4e8e\u6ca1\u6709\u6865\uff0c\u5728\u6bcf\u4e2a\u70b9 $x$ \u7ecf\u8fc7\u51e0\u4e2a\u6811\u8fb9\u548c\u4e00\u4e2a\u8fd4\u7956\u8fb9\uff0c\u4e00\u5b9a\u80fd\u5230\u8fbe\u4e00\u4e2a $x$ \u7684\u957f\u8f88\u3002\u8fd9\u6837\u4e00\u76f4\u8d70\u4e00\u5b9a\u80fd\u5230\u8fbe\u6839\u3002\n\n\u4e8e\u662f\u8fd9\u9898\u505a\u5b8c\u4e86\u3002\u5f53\u7136 Tarjan \u4e5f\u53ef\u4ee5\u505a\uff0c\u5177\u4f53\u53ef\u4ee5\u770b\u5176\u4ed6\u795e\u4ed9\u7684\u505a\u6cd5\u3002\n\n```cpp\n// By: Little09\n// Problem: CF118E Bertown roads\n// Contest: Luogu\n// URL: https://www.luogu.com.cn/problem/CF118E\n// Memory Limit: 250 MB\n// Time Limit: 5000 ms\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N=500005;\nint n,m;\nvector<int>t[N],g[N],id[N];\nbool vis[N],cut[N],used[N];\nint rt[N],cnt,w[N],dis[N],s[N];\nint X[N],Y[N];\ninline int read()\n{\n    int F=1,ANS=0;\n\tchar C=getchar();\n    while (C<'0'||C>'9')\n\t{\n\t\tif (C=='-') F=-1;\n\t\tC=getchar();\n\t}\n    while (C>='0'&&C<='9')\n\t{\n\t\tANS=ANS*10+C-'0';\n\t\tC=getchar();\n\t}\n    return F*ANS;\n}\nvoid dfs1(int x,int fa)\n{\n\tvis[x]=1;\n\tdis[x]=dis[fa]+1;\n\tfor (int i=0;i<t[x].size();i++)\n\t{\n\t\tif (t[x][i]==fa) continue;\n\t\tif (vis[t[x][i]]==0) \n\t\t{\n\t\t\tdfs1(t[x][i],x);\n\t\t\tused[id[x][i]]=1;\n\t\t\tg[x].push_back(t[x][i]);\n\t\t\tg[t[x][i]].push_back(x);\n\t\t}\n\t\telse if (dis[x]>dis[t[x][i]])\n\t\t{\n\t\t\ts[x]=min(s[x],dis[t[x][i]]);\n\t\t}\n\t}\n}\nvoid dfs2(int x,int fa)\n{\n\tfor (int i=0;i<g[x].size();i++)\n\t{\n\t\tif (g[x][i]!=fa) \n\t\t{\n\t\t\tdfs2(g[x][i],x);\n\t\t\ts[x]=min(s[x],s[g[x][i]]);\n\t\t}\n\t}\n\tif (fa!=0&&s[x]>=dis[x]) cut[x]=1;\n}\nint main()\n{\n\tn=read(),m=read();\n\tfor (int i=1;i<=m;i++)\n\t{\n\t\tint x=read(),y=read();\n\t\tt[x].push_back(y),t[y].push_back(x);\n\t\tid[x].push_back(i),id[y].push_back(i);\n\t\tX[i]=x,Y[i]=y;\n\t}\n\tfor (int i=1;i<=n;i++) s[i]=N;\n\tfor (int i=1;i<=n;i++)\n\t{\n\t\tif (vis[i]==0)\n\t\t{\n\t\t\tdfs1(i,0),dfs2(i,0);\n\t\t}\n\t}\n\tfor (int i=1;i<=n;i++) \n\t{\n\t\tif (cut[i]==1)\n\t\t{\n\t\t\tputs(\"0\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\tfor (int i=1;i<=m;i++)\n\t{\n\t\tint x=X[i],y=Y[i];\n\t\tif (dis[x]>dis[y]) swap(x,y); \n\t\tif (used[i]==0) swap(x,y);\n\t\tprintf(\"%d %d\\n\",x,y);\n\t}\n\treturn 0;\n}\n\n```\n",
        "postTime": 1630420453,
        "uid": 151475,
        "name": "Little09",
        "ccfLevel": 8,
        "title": "CF118E Bertown roads"
    },
    {
        "content": "## \u601d\u8def\n\n[dfs tree](https://codeforces.com/blog/entry/68138)\u3002\n\n\u9996\u5148\u663e\u7136\u5982\u679c\u539f\u56fe\u4e2d\u6709\u6865\u5219\u7b54\u6848\u4e3a $0$\u3002\u56e0\u4e3a\u65e0\u8bba\u8fd9\u6761\u8fb9\u7684\u65b9\u5411\u671d\u54ea\u8fb9\u90fd\u4f1a\u6709\u4e00\u4e2a\u8fde\u901a\u5757\u7684\u7ed3\u70b9\u4e0d\u80fd\u5230\u8fbe\u5b83\u8fde\u63a5\u7684\u53e6\u4e00\u4e2a\u8fde\u901a\u5757\u3002\u627e\u6865\u53ef\u4ee5 tarjan\u3002\n\n\u7136\u540e\u76f4\u63a5\u7ed9\u51fa\u7ed3\u8bba\uff1a\u6c42\u51fa dfs tree\uff0c\u5219\u6811\u8fb9\u7684\u65b9\u5411\u662f\u7531\u7236\u5230\u5b50\uff0c\u975e\u6811\u8fb9\uff08\u8fd4\u7956\u8fb9\uff09\u7684\u65b9\u5411\u662f\u7531\u5b50\u5230\u7236\u3002\n\n\u8bc1\u660e\u4e5f\u5f88\u7b80\u5355\u3002\u6839\u5b58\u5728\u8def\u5f84\u5230\u8fbe\u4efb\u610f\u4e00\u4e2a\u5b50\u7ed3\u70b9\uff08\u56e0\u4e3a\u5efa\u51fa\u4e86 dfs tree\uff09\uff0c\u800c\u4efb\u610f\u4e00\u4e2a\u5b50\u7ed3\u70b9\u4e5f\u5b58\u5728\u8def\u5f84\u5230\u8fbe\u6839\uff08\u56e0\u4e3a\u5b50\u7ed3\u70b9\u7684\u5b50\u6811\u4e2d\u80af\u5b9a\u4f1a\u5b58\u5728\u4e00\u4e2a\u7ed3\u70b9\uff0c\u4f7f\u5f97\u5b83\u8fde\u51fa\u4e00\u6761\u8fd4\u7956\u8fb9\uff09\u3002\n\n\u4e8e\u662f\u8fd9\u9898\u5c31\u505a\u5b8c\u4e86\u3002\n\n## \u4ee3\u7801\n\n```cpp\n/*\n\np_b_p_b txdy\nAThousandMoon txdy\nAThousandSuns txdy\nhxy txdy\n\n*/\n\n#include <bits/stdc++.h>\n#define pb push_back\n#define fst first\n#define scd second\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<ll, ll> pii;\n\nconst int maxn = 100100;\nconst int maxm = 600100;\n\nint n, m, head[maxn], len, dfn[maxn], low[maxn], times;\nbool vis[maxm];\nstruct edge {\n\tint to, id, next;\n} edges[maxm];\n\nstruct node {\n\tint u, v;\n\tnode() {}\n\tnode(int a, int b) : u(a), v(b) {}\n};\nvector<node> ans;\n\nvoid add_edge(int u, int v, int id) {\n\tedges[++len].to = v;\n\tedges[len].id = id;\n\tedges[len].next = head[u];\n\thead[u] = len;\n}\n\nvoid dfs(int u) {\n\tdfn[u] = low[u] = ++times;\n\tfor (int i = head[u]; i; i = edges[i].next) {\n\t\tint v = edges[i].to;\n\t\tif (vis[edges[i].id]) {\n\t\t\tcontinue;\n\t\t}\n\t\tvis[edges[i].id] = 1;\n\t\tans.pb(node(u, v));\n\t\tif (!dfn[v]) {\n\t\t\tdfs(v);\n\t\t\t// vis[edges[i].id] = 1;\n\t\t\tlow[u] = min(low[u], low[v]);\n\t\t} else {\n\t\t\tlow[u] = min(low[u], dfn[v]);\n\t\t}\n\t\tif (low[v] > dfn[u]) {\n\t\t\tputs(\"0\");\n\t\t\texit(0);\n\t\t}\n\t}\n}\n\nvoid solve() {\n\tscanf(\"%d%d\", &n, &m);\n\tfor (int i = 1; i <= m; ++i) {\n\t\tint u, v;\n\t\tscanf(\"%d%d\", &u, &v);\n\t\tadd_edge(u, v, i);\n\t\tadd_edge(v, u, i);\n\t}\n\tdfs(1);\n\tfor (int i = 0; i < (int)ans.size(); ++i) {\n\t\tprintf(\"%d %d\\n\", ans[i].u, ans[i].v);\n\t}\n}\n\nint main() {\n\tint T = 1;\n\t// scanf(\"%d\", &T);\n\twhile (T--) {\n\t\tsolve();\n\t}\n\treturn 0;\n}\n\n```\n",
        "postTime": 1640699349,
        "uid": 275273,
        "name": "zltqwq",
        "ccfLevel": 0,
        "title": "CF118E \u9898\u89e3"
    },
    {
        "content": "### \u4e00\u9053 Tarjan \u597d\u9898\n\n**\u601d\u8def**\n\n\u9996\u5148\uff0c\u4e00\u4e2a\u56fe\u8bba\u9898\u80af\u5b9a\u5148\u5efa\u56fe\u3002\u5728\u4f53\u4f1a\u5230 vector \u5b58\u56fe\u7684\u597d\u5904\u4e4b\u540e\uff0c\u6211\u5df2\u7ecf\u653e\u5f03\u4e86\u94fe\u5f0f\u524d\u5411\u661f\uff08\u867d\u7136\u5e38\u6570\u5c0f\uff09\u3002\n\n\u7136\u540e\uff0c\u9898\u76ee\u8bf4\u8981\u5224\u65ad\u56fe\u7684\u8fde\u901a\u6027\uff0c\u8fd8\u662f\u65e0\u5411\u56fe\u6539\u6709\u5411\u56fe\uff0c\u7acb\u523b\u60f3\u5230 Tarjan\uff08\u4e0d\u6e05\u695a Tarjan \u7684\u8bf7\u770b[\u6d1b\u8c37\u5b98\u65b9\u9898\u5355](https://www.luogu.com.cn/training/210#information)\uff09\u3002\u5982\u679c\u56fe\u4e0a\u6709\u6865\uff08\u6865\u7684\u5b9a\u4e49\u8bf7\u770b\u697c\u4e0a\u5927\u4f6c\u8be6\u7ec6\u89e3\u91ca\uff09\uff0c\u90a3\u4e48\u4e00\u5b9a\u4e0d\u884c\uff0c\u4fbf\u8f93\u51fa $\\operatorname{0}$\u3002\n\n\u5982\u679c\u6ca1\u6709\u6865\u4fbf\u8003\u8651\u5982\u4f55\u5c06\u65e0\u5411\u6539\u4e3a\u6709\u5411\u3002\u672c\u6765\u8003\u8651\u66b4\u529b dfs \u627e\u8def\u5f84\uff0c\u7ed3\u679c\u53d1\u73b0\u4f1a TLE\uff0c\u800c\u672c\u849f\u84bb\u53c8\u4e0d\u4f1a\u6253\u6807\u8bb0\u6216\u526a\u679d\u3002\u540e\u6765\u7a81\u7136\u60f3\u5230\u4e4b\u524d\u5728\u4e66\u4e0a\u770b\u5230\u8fc7\u76f4\u63a5\u5728 Tarjan \u8fc7\u7a0b\u4e2d\u8bb0\u5f55\u8def\u5f84\u7684\u64cd\u4f5c\uff0c\u4fbf\u679c\u65ad\u4f7f\u7528\u4e86\u3002Tarjia \u8fc7\u7a0b\u4e2d\u76f4\u63a5\u8bb0\u5f55\u5f53\u524d\u7684\u8fb9\uff0c\u8fd9\u6837\u8dd1\u5b8c Tarjan \u540e\u8bb0\u5f55\u7684\u8def\u5f84\u5c31\u662f\u7b54\u6848\u3002\n\n\u8be6\u7ec6\u8bf7\u770b\u4ee3\u7801\u3002\n\n**\u4ee3\u7801**\n\n\u7801\u98ce\u7565\u4e11\uff0c\u89c1\u8c05\u3002\n\n```cpp\n#include<bits/stdc++.h>   //\u4e07\u80fd\u5934\nusing namespace std;\nint read()            //\u5feb\u8bfb\n{\n\tint x=0; bool f=true; char c=getchar();\n\twhile(!isdigit(c))\n\t{\n\t\tif(c=='-') f=false;\n\t\tc=getchar();\n\t}\n\twhile(isdigit(c))\n\t\tx=(x<<3)+(x<<1)+(c^48),c=getchar();\n\treturn (f?(x):(-x));\n}\nvoid write(int x)      //\u5feb\u5199\n{\n\tif(!x)\n\t{\n\t\tputchar('0');\n\t\treturn ;\n\t}\n\tchar F[130];\n\tint tmp=x>0?x:-x ,cnt=0;\n\tif(x<0) putchar('-');\n\twhile(tmp>0)\n\t{\n\t\tF[cnt++]=tmp%10+'0';\n\t\ttmp/=10;\n\t}\n\twhile(cnt>0) putchar(F[--cnt]);\n\treturn ;\n}\nint n,m,u,v,cnt=0,low[100005],dfn[100005];   //cnt\uff0cdfn\u6570\u7ec4\u548clow\u6570\u4e3atarjan\u4f7f\u7528\nvector<int> e[100005];      //vector\u5b58\u56fe\nvector<pair<int,int> > a;   //\u7528\u6765\u8bb0\u5f55\u7b54\u6848\u7684\uff0cpair\u7684first\u662f\u6709\u5411\u8fb9\u8d77\u70b9\uff0csecond\u662f\u7ec8\u70b9\nbool fl;   //\u8bb0\u5f55\u6709\u6ca1\u6709\u6865\nvoid add(int x,int y)     //\u5efa\u56fe\uff0c\u5b58\u8fb9\n{\n\te[x].push_back(y),e[y].push_back(x);\n\treturn ;\n}\nvoid go(int x,int fa)     //tarjan\u6a21\u677f+\u8bb0\u5f55\u8def\u5f84\n{\n   \tif(fl)\n        return ;     //\u5982\u679c\u627e\u5230\u6865\u4e86\u5c31\u8fd4\u56de\n\tlow[x]=dfn[x]=++cnt;\n\tfor(int i=0;i<e[x].size();++i)\n\t{\n\t\tint vv=e[x][i];\n\t\tif(vv==fa)\n\t\t\tcontinue;\n\t\tif(!dfn[vv])\n\t\t{\n\t\t\tgo(vv,x);\n\t\t\tif(fl)\n                return ;   //\u5982\u679c\u627e\u5230\u6865\u4e86\u5c31\u76f4\u63a5\u8fd4\u56de\n\t\t\ta.push_back(make_pair(x,vv));   //\u8bb0\u5f55\u5f53\u524d\u8def\u5f84\n\t\t\tif(low[vv]>dfn[x])   //\u627e\u5230\u6865\u4e86\u5c31\u8bb0\u5f55\n\t\t\t{\n\t\t\t    fl=true;\n\t\t\t    return ;\n\t\t\t}\n\t\t\tlow[x]=min(low[x],low[vv]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlow[x]=min(low[x],dfn[vv]);\n\t\t\tif(dfn[x]>dfn[vv])\n\t\t\t\ta.push_back(make_pair(x,vv));   //\u8bb0\u5f55\u5f53\u524d\u8def\u5f84\n\t\t}\n\t}\n\treturn ;\n}\nint main()\n{\n\tn=read(),m=read();\n\tfor(int i=1;i<=m;++i)   //\u5efa\u56fe\n\t{\n\t\tu=read(),v=read();\n\t\tadd(u,v);\n\t}\n\tgo(1,0);\n\tif(fl)   //\u5982\u679c\u6709\u6865\u76f4\u63a5\u8f93\u51fa0\n\t{\n\t\tputchar('0');\n\t\treturn 0;\n\t}\n\tfor(int i=0;i<a.size();++i)\n\t{\n\t\twrite(a[i].first);\n\t\tputchar(' ');\n\t\twrite(a[i].second);\n\t\tputchar('\\n');\n\t}\n\treturn 0;   //\u7ed3\u675f\u7a0b\u5e8f\n}\n```\n",
        "postTime": 1636297686,
        "uid": 384271,
        "name": "\u9a6c\u6876\u6218\u795e",
        "ccfLevel": 4,
        "title": "CF118E\u9898\u89e3"
    }
]