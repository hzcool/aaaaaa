[
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1592F1)\n\n\u8d85\u7ea7\u5999\u5999\u9898\uff01\n\n\u9898\u610f\uff1a\n\n\u7ed9\u5b9a\u4e00\u4e2a $n \\times m$ \u7684\u77e9\u9635\uff0c\u521d\u59cb\u65f6\u6240\u6709\u683c\u5b50\u90fd\u662f\u767d\u8272\uff0c\u53ef\u4ee5\u8fdb\u884c\u4ee5\u4e0b\u56db\u79cd\u64cd\u4f5c\uff1a  \n\n1\u3001\u7ffb\u8f6c\u4e00\u4e2a\u4ee5 $(1,1)$ \u4e3a\u5de6\u4e0a\u89d2\u7684\u4efb\u610f\u5b50\u77e9\u9635\u7684\u6240\u6709\u989c\u8272\uff0c\u4ee3\u4ef7\u4e3a $1$\uff1b\n\n2\u3001\u7ffb\u8f6c\u4e00\u4e2a\u4ee5 $(n,1)$ \u4e3a\u5de6\u4e0b\u89d2\u7684\u4efb\u610f\u5b50\u77e9\u9635\u7684\u6240\u6709\u989c\u8272\uff0c\u4ee3\u4ef7\u4e3a $2$\uff1b\n\n3\u3001\u7ffb\u8f6c\u4e00\u4e2a\u4ee5 $(1,m)$ \u4e3a\u53f3\u4e0a\u89d2\u7684\u4efb\u610f\u5b50\u77e9\u9635\u7684\u6240\u6709\u989c\u8272\uff0c\u4ee3\u4ef7\u4e3a $4$\uff1b\n\n4\u3001\u7ffb\u8f6c\u4e00\u4e2a\u4ee5 $(n,m)$ \u4e3a\u53f3\u4e0b\u89d2\u7684\u4efb\u610f\u5b50\u77e9\u9635\u7684\u6240\u6709\u989c\u8272\uff0c\u4ee3\u4ef7\u4e3a $3$\u3002\n\n\u6c42\u5c06\u521d\u59cb\u5c40\u9762\u53d8\u4e3a\u7ed9\u5b9a\u5c40\u9762\u82b1\u8d39\u4ee3\u4ef7\u7684\u6700\u5c0f\u503c\u3002\n\n\u9996\u5148\u53ea\u6709\u9ed1\u767d\u4e24\u79cd\u989c\u8272\uff0c\u6240\u4ee5\u5c06\u4e00\u4e2a\u683c\u5b50\u7ffb\u8f6c\u5076\u6570\u6b21\uff0c\u76f8\u5f53\u4e8e\u6ca1\u6709\u7ffb\u8f6c\u3002\n\n\u5176\u6b21\uff0c\u5c06\u521d\u59cb\u5c40\u9762\u53d8\u4e3a\u7ed9\u5b9a\u5c40\u9762\uff0c\u7b49\u4ef7\u4e8e\u5c06\u7ed9\u5b9a\u5c40\u9762\u53d8\u4e3a\u521d\u59cb\u5c40\u9762\u3002\u56e0\u6b64\u95ee\u9898\u53ef\u4ee5\u8f6c\u5316\u6210\u7ed9\u5b9a\u4e00\u4e2a\u5c40\u9762\uff0c\u8981\u5c06\u8fd9\u4e2a\u5c40\u9762\u5168\u90e8\u53d8\u4e3a\u767d\u8272\u683c\u5b50\u6240\u82b1\u8d39\u7684\u6700\u5c0f\u4ee3\u4ef7\u3002\n\n\u53d1\u73b0\u8fd9\u56db\u79cd\u64cd\u4f5c\u597d\u50cf\u6bd4\u8f83\u5bf9\u79f0\uff0c\u8003\u8651\u8fdb\u884c\u4e00\u4e9b\u8f6c\u5316\u3002\n\n\u5bf9\u4e8e\u64cd\u4f5c $2$\uff0c\u7ffb\u8f6c\u4e00\u4e2a\u4ee5 $(n,1)$ \u4e3a\u5de6\u4e0b\u89d2\uff0c$(x,y)$ \u4e3a\u53f3\u4e0a\u89d2\u7684\u77e9\u9635\uff0c\u53ef\u4ee5\u8f6c\u5316\u4e3a\u4f7f\u7528\u4e24\u6b21\u64cd\u4f5c $1$\uff0c\u7b2c\u4e00\u6b21\u7ffb\u8f6c\u4ee5 $(1,1)$ \u4e3a\u5de6\u4e0a\u89d2\uff0c$(n,y)$ \u4e3a\u53f3\u4e0b\u89d2\u7684\u77e9\u5f62\uff0c\u7b2c\u4e8c\u6b21\u7ffb\u8f6c\u4ee5 $(1,1)$ \u4e3a\u5de6\u4e0a\u89d2\uff0c$(x-1,y)$ \u4e3a\u53f3\u4e0b\u89d2\u7684\u77e9\u5f62\u3002\n    \n\u663e\u7136\u8fd9\u4e24\u79cd\u64cd\u4f5c\u5b8c\u5168\u7b49\u4ef7\uff0c\u82b1\u8d39\u7684\u4ee3\u4ef7\u4e5f\u76f8\u540c\u3002\u56e0\u6b64\uff0c\u64cd\u4f5c $2$ \u6ca1\u6709\u4efb\u4f55\u610f\u4e49\u3002\n\n\u7c7b\u4f3c\u5730\uff0c\u5bf9\u4e8e\u64cd\u4f5c $3$\uff0c\u7ffb\u8f6c\u4e00\u4e2a\u4ee5 $(1,m)$ \u4e3a\u53f3\u4e0a\u89d2\uff0c$(x,y)$ \u4e3a\u5de6\u4e0b\u89d2\u7684\u77e9\u9635\uff0c\u53ef\u4ee5\u8f6c\u5316\u4e3a\u4f7f\u7528\u4e24\u6b21\u64cd\u4f5c $1$\uff0c\u7b2c\u4e00\u6b21\u7ffb\u8f6c\u4ee5 $(1,1)$ \u4e3a\u5de6\u4e0a\u89d2\uff0c$(x,m)$ \u4e3a\u53f3\u4e0b\u89d2\u7684\u77e9\u5f62\uff0c\u7b2c\u4e8c\u6b21\u7ffb\u8f6c\u4ee5 $(1,1)$ \u4e3a\u5de6\u4e0a\u89d2\uff0c$(x,y-1)$ \u4e3a\u53f3\u4e0b\u89d2\u7684\u77e9\u5f62\u3002\n\n\u8fd9\u4e24\u79cd\u64cd\u4f5c\u4e5f\u662f\u5b8c\u5168\u7b49\u4ef7\u7684\uff0c\u4f46\u662f\u4e24\u6b21\u64cd\u4f5c $1$ \u53ea\u9700\u8981\u82b1\u8d39 $2$ \u4ee3\u4ef7\uff0c\u56e0\u6b64\u64cd\u4f5c $3$ \u4e5f\u6ca1\u6709\u610f\u4e49\u3002\n\n\u5bb9\u6613\u77e5\u9053\u64cd\u4f5c $4$ \u65e0\u6cd5\u8f6c\u5316\u4e3a\u4f7f\u7528\u4e0d\u8d85\u8fc7\u4e09\u6b21\u7684\u64cd\u4f5c $1$\uff0c\u56e0\u6b64\u64cd\u4f5c $4$ \u662f\u6709\u610f\u4e49\u7684\u3002\n\n\u4e8e\u662f\u8bc1\u660e\u4e86\u53ea\u6709\u64cd\u4f5c $1$ \u548c\u64cd\u4f5c $4$ \u6709\u610f\u4e49\u3002\u4e0b\u9762\u8003\u8651\u5982\u4f55\u64cd\u4f5c\u3002\n\n\u663e\u7136\u77e9\u9635\u4fee\u6539\u4e0d\u597d\u7ef4\u62a4\u4e14\u5341\u5206\u9ebb\u70e6\uff0c\u6700\u597d\u5c06\u5176\u8f6c\u5316\u4e3a\u5355\u70b9\u4fee\u6539\u3002\n\n\u53ef\u4ee5\u5bf9\u539f\u77e9\u9635 $c$ \u8fdb\u884c\u4e00\u4e2a\u5de7\u5999\u7684\u8f6c\u5316\uff1a\u4ee4\u767d\u8272\u683c\u5b50\u4e3a $0$\uff0c\u9ed1\u8272\u683c\u5b50\u4e3a $1$\u3002\u8bbe $a_{i,j}$ \u4ee3\u8868 $(c_{i,j}+c_{i+1,j}+c_{i,j+1}+c_{i+1,j+1}) \\bmod 2$ \u7684\u7ed3\u679c\u3002\n\n\u5bb9\u6613\u77e5\u9053\uff0c\u5c06\u539f\u5c40\u9762\u5168\u90e8\u53d8\u6210\u767d\u8272\u683c\u5b50\u7684\u5145\u8981\u6761\u4ef6\u4e3a\u5bf9\u4e8e\u4efb\u610f $1 \\le i,j \\le n,a_{i,j}=0$\u3002\u4e8e\u662f\u95ee\u9898\u8f6c\u5316\u4e3a\u5c06\u6240\u6709 $a_{i,j}$ \u53d8\u4e3a $0$ \u7684\u6700\u5c0f\u65b9\u6848\u3002\n\n\u8003\u8651\u5bf9\u4e8e\u64cd\u4f5c $1$\uff0c\u7ffb\u8f6c\u4e00\u4e2a\u4ee5 $(1,1)$ \u4e3a\u5de6\u4e0a\u89d2\uff0c$(x,y)$ \u4e3a\u53f3\u4e0b\u89d2\u7684\u77e9\u5f62\u7b49\u4ef7\u4e8e\u53ea\u7ffb\u8f6c $a_{x,y}$\u3002\n\n\u5bf9\u4e8e\u64cd\u4f5c $4$\uff0c\u7ffb\u8f6c\u4e00\u4e2a\u4ee5 $(x,y)$ \u4e3a\u5de6\u4e0b\u89d2\uff0c$(n,m)$ \u4e3a\u53f3\u4e0b\u89d2\u7684\u77e9\u9635\uff0c\u7b49\u4ef7\u4e8e\u53ea\u7ffb\u8f6c $a_{x-1,y-1},a_{x-1,m},a_{n,y-1},a_{n,m}$\u3002\n\n\u8fd9\u4e24\u4e2a\u7ed3\u8bba\u53ef\u4ee5\u81ea\u884c\u753b\u56fe\u8bc1\u660e\uff0c\u8fd9\u91cc\u7565\u53bb\u3002\n\n\u8fd9\u6837\u64cd\u4f5c $1$ \u5c31\u662f\u7ffb\u8f6c\u4e00\u4e2a\u70b9\uff0c\u4ee3\u4ef7\u4e3a $1$\uff0c\u64cd\u4f5c $4$ \u5c31\u662f\u7ffb\u8f6c\u56db\u4e2a\u70b9\uff0c\u4ee3\u4ef7\u4e3a $3$\u3002\n\n\u770b\u8d77\u6765\u64cd\u4f5c $4$ \u597d\u50cf\u66f4\u4f18\u3002\u4f46\u662f\u64cd\u4f5c $4$ \u80fd\u7528\u5fc5\u987b\u6ee1\u8db3\u4e24\u4e2a\u6761\u4ef6\uff1a1\u3001$a_{x-1,y-1},a_{x-1,m},a_{n,y-1},a_{n,m}$ \u5747\u4e3a $1$\uff08\u7ffb\u8f6c $a_{i,j}=0$ \u7684\u70b9\u4f1a\u5e26\u6765\u8d1f\u6536\u76ca\uff09\uff1b2\u3001\u53ea\u80fd\u8fdb\u884c\u4e00\u6b21\uff08\u56e0\u4e3a\u591a\u6b21\u8fdb\u884c\u64cd\u4f5c $4$ \u4f1a\u4e0d\u65ad\u7ffb\u8f6c $a_{n,m}$\uff0c\u5b9e\u9645\u4e0a\u6700\u591a\u7ffb\u8f6c $3$ \u4e2a\u6709\u6548\u70b9\uff09\n\n\u6240\u4ee5\u6700\u591a\u8fdb\u884c\u4e00\u6b21\u64cd\u4f5c $4$\uff0c\u5269\u4e0b\u7684\u70b9\u90fd\u7528\u64cd\u4f5c $1$ \u5b8c\u6210\u3002\n\n\u4e8e\u662f\u5224\u65ad\u4e00\u4e0b\u80fd\u5426\u8fdb\u884c\u64cd\u4f5c $4$ \u5e76\u7edf\u8ba1\u4e00\u4e0b\u9700\u8981\u7ffb\u8f6c\u7684 $a_{i,j}$ \u7684\u4e2a\u6570\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(nm)$\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define back return\n#define ri register int\n#define ull unsigned ll\nusing namespace std;\nll read()\n{\n\tll x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9')\n\t{\n\t\tif(ch=='-')\n\t\t\tf=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t\tx=x*10+ch-'0';\n\t\tch=getchar();\n\t}\n\tback x*f;\n}\nint n,m,ans,a[505][505],b[505][505];\nchar c[505][505];\nint main()\n{\n\tn=read(),m=read();\n\tfor(ri i=1;i<=n;i++)\n\t\tfor(ri j=1;j<=m;j++)\n\t\t{\n\t\t\tcin>>c[i][j];\n\t\t\tif(c[i][j]=='W')\n\t\t\t\tb[i][j]=0;\n\t\t\telse\n\t\t\t\tb[i][j]=1;\n\t\t}\n\tfor(ri i=1;i<=n;i++)\n\t\tfor(ri j=1;j<=m;j++)\n\t\t\ta[i][j]=(b[i][j]+b[i][j+1]+b[i+1][j]+b[i+1][j+1])%2;\n\tfor(ri i=1;i<=n;i++)\n\t\tfor(ri j=1;j<=m;j++)\n\t\t\tif(a[i][j]==1)\t\n\t\t\t\tans++;\n\tif(a[n][m])\n\t\tfor(ri i=1;i<=n;i++)\n\t\t\tfor(ri j=1;j<=m;j++)\n\t\t\t\tif(a[i-1][j-1]&&a[i-1][m]&&a[n][j-1])\t\n\t\t\t\t{\n\t\t\t\t\tcout<<ans-1<<\"\\n\";\n\t\t\t\t\tback 0;\n\t\t\t\t}\n\tcout<<ans<<\"\\n\";\n\tback 0;\n}\n```\n\n\n",
        "postTime": 1634029933,
        "uid": 93266,
        "name": "\u65ad\u6e05\u79cb",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011CF1592F1 Alice and Recoloring 1"
    },
    {
        "content": "\n\n\u4e00\u4e2a\u4e0d\u540c\u7684\u7406\u89e3\u65b9\u5f0f\uff0c\u4e2a\u4eba\u8ba4\u4e3a\u6bd4\u8f83\u81ea\u7136\n\n**\u601d\u8def**\uff1a\n\n\u9996\u5148\u5728\u53ea\u4f7f\u7528 $1$ \u64cd\u4f5c\u7684\u60c5\u51b5\u4e0b\u5c31\u53ef\u4ee5\u5c06 $2$ \u64cd\u4f5c\u548c $3$ \u64cd\u4f5c\u505a\u5230\u4ee3\u4ef7 $2$\uff0c\u6240\u4ee5 $2,3$ \u64cd\u4f5c\u90fd\u662f\u65e0\u610f\u4e49\u7684\uff1b$4$ \u64cd\u4f5c\u6709\u610f\u4e49\u4f46\u662f $4$ \u64cd\u4f5c\u53ea\u80fd\u505a\u4e00\u6b21\uff0c\u5bf9\u4e8e\u5927\u4e8e $1$ \u6b21\u7684\u60c5\u51b5\u53ef\u4ee5\u7b80\u5355\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n\u5982\u679c\u4e24\u6b21 $4$ \u64cd\u4f5c\u6709\u5305\u542b\u5173\u7cfb\uff1a\n\n![operation4.1](https://cdn.luogu.com.cn/upload/image_hosting/gku7l2k6.png)\n\n\u4e24\u6b21 $4$ \u64cd\u4f5c\uff1a $MHDK$ \u548c $LIDJ$\uff0c\u4ee3\u4ef7\u4e3a $6$\u3002\n\n\u516d\u6b21 $1$ \u64cd\u4f5c\uff1a$ACIG$\uff0c$ANJB$\uff0c$AEKB$\uff0c$ACHF$\uff0c$ANLG$\uff0c$AEMF$\uff0c\u4ee3\u4ef7\u4e3a $6$\u3002\n\n\u5982\u679c\u4e24\u6b21 $4$ \u64cd\u4f5c\u4e0d\u4e92\u76f8\u5305\u542b\uff1a\n\n![operation4.2](https://cdn.luogu.com.cn/upload/image_hosting/cur9qozc.png)\n\n\u4e24\u6b21 $4$ \u64cd\u4f5c\uff1a$MHFJ$ \u548c $LIDK$\uff0c\u4ee3\u4ef7\u4e3a $6$\u3002\n\n\u516d\u6b21 $1$ \u64cd\u4f5c\uff1a$ACIG$\uff0c$ANJB$\uff0c$ACHF$\uff0c$AEKB$\uff0c$ANMF$\uff0c$AELG$\uff0c\u4ee3\u4ef7\u4e3a $6$\u3002\n\n\u6240\u4ee5\u8d85\u8fc7 $2$ \u6b21\u7684 $4$ \u64cd\u4f5c\u4e00\u5b9a\u53ef\u4ee5\u89c4\u7ea6\u4e3a $1$ \u64cd\u4f5c\u3002\n\n\u66b4\u529b\u679a\u4e3e\u8fdb\u884c\u64cd\u4f5c\u7684 $4$ \u64cd\u4f5c\u533a\u57df\uff0c\u7136\u540e\u8003\u8651\u5982\u4f55\u8ba1\u7b97 $1$ \u64cd\u4f5c\u9700\u8981\u7684\u6700\u5c0f\u6b21\u6570\uff1a\n\n\u7531\u4e8e $1$ \u64cd\u4f5c\u662f\u4f1a\u64cd\u4f5c\u5de6\u4e0a\u90e8\u5206\uff0c\u6240\u4ee5\u4ece\u53f3\u4e0b\u5f00\u59cb\u8ba1\u7b97\u3002\n\n\u8bbe $a_{i,j}=[c_{i,j}=B]$\uff0c $v_{i,j}$ \u8868\u793a\u6700\u4f18\u7b56\u7565\u4e2d $(i,j)$ \u662f\u5426\u64cd\u4f5c\uff0c$s_{i,j}$ \u8868\u793a $v_{i,j}$ \u7684\u4e8c\u7ef4\u540e\u7f00\u5f02\u6216\u548c\uff0c\u5219\u6709\u8f6c\u79fb\uff1a\n\n$v_{i,j}=a_{i,j}\\oplus s_{i+1,j}\\oplus s_{i,j+1}\\oplus s_{i+1,j+1}$\uff0c$s_{i,j}=v_{i,j}\\oplus s_{i+1,j}\\oplus s_{i,j+1}\\oplus s_{i+1,j+1}=a_{i,j}$\uff0c\u6700\u5c0f\u64cd\u4f5c\u6b21\u6570\u4e3a $\\sum_{i=1}^{n}\\sum_{j=1}^{m}v_{i,j}=\\sum_{i=1}^{n}\\sum_{j=1}^{m}(a_{i,j}\\oplus a_{i+1,j}\\oplus a_{i,j+1}\\oplus a_{i+1,j+1})$\uff0c\u6240\u4ee5 $1$ \u64cd\u4f5c\u7684\u6700\u5c0f\u64cd\u4f5c\u6b21\u6570\u5373\u4e3a\u8be5\u77e9\u9635\u4e2d\u5927\u5c0f\u4e3a $2\\times 2$ \u4e14\u5f02\u6216\u548c\u4e3a $1$ \u7684\u77e9\u9635\u7684\u6570\u91cf\uff0c\u6ce8\u610f\u5c06 $i>n$ \u6216 $j>m$ \u7684 $a_{i,j}$ \u89c6\u4e3a $0$\u3002\n\n\u5bf9\u4e8e\u4e00\u6b21 $4$ \u64cd\u4f5c\uff0c\u5176\u4f1a\u5c06\u53f3\u4e0b\u89d2\u7684\u4e00\u4e2a\u77e9\u9635\u53cd\u8f6c\uff0c\u5b9e\u9645\u4f1a\u5bfc\u81f4\u7684\u77e9\u5f62\u6570\u91cf\u7684\u53d8\u5316\u53ea\u6709\u56db\u4e2a\u4f4d\u7f6e\uff0c\u5982\u56fe\uff1a\n\n![change](https://cdn.luogu.com.cn/upload/image_hosting/qpyc30f5.png)\n\n\u9ed1\u8272\u7684\u5927\u6846\u4e3a $n\\times m$ \u7684\u77e9\u9635\uff0c\u7ea2\u8272\u90e8\u5206\u4e3a $4$ \u64cd\u4f5c\u533a\u57df\uff0c\u7eff\u8272\u7684 $4$ \u4e2a $2\\times 2$ \u7684\u77e9\u9635\u4e3a\u503c\u4f1a\u6539\u53d8\u7684\u90e8\u5206\uff0c\u6ce8\u610f\u7531\u4e8e\u503c\u662f\u5f02\u6216\uff0c\u6240\u4ee5\u5982\u679c\u53cd\u8f6c\u7684\u6570\u91cf\u4e3a\u5076\u6570\uff0c\u503c\u4e0d\u4f1a\u6539\u53d8\u3002\n\n\u63d0\u524d\u9884\u5904\u7406\u51fa\u539f\u6765\u7684 $1$ \u64cd\u4f5c\u6700\u5c0f\u6570\u91cf\uff0c\u7136\u540e\u6bcf\u6b21\u76f4\u63a5\u91cd\u65b0\u8ba1\u7b97 $4$ \u4e2a\u7eff\u77e9\u9635\u503c\u5373\u53ef\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(nm)$\u3002\n\n**\u4ee3\u7801**\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cassert>\nconst int Q=505;\nconst int INF=(1<<30);\ntypedef long long ll;\n#define rg register int\n#define cint const register int\n//char ibuf[1<<21],*IP1=ibuf,*IP2=ibuf;\n//#define gc() (__builtin_expect(IP1==IP2,0)&&(IP2=(IP1=ibuf)+fread(ibuf,1,1<<21,stdin),__builtin_expect(IP1==IP2,0))?EOF:*IP1++)\n#define gc() getchar()\ninline bool ig(const char c){return c>=48&&c<=57;}\ninline void read(rg&oi){char c;rg f=1,res=0;while(c=gc(),(!ig(c))&&c^'-');c^'-'?res=(c^48):f=-1;while(c=gc(),ig(c))res=res*10+(c^48);oi=f*res;}\ninline void print(rg oi){char io[23];rg l=0;if(oi<0)putchar('-'),oi=~oi+1;do io[++l]=(oi%10+48);while(oi/=10);for(;l;--l)putchar(io[l]);}\ninline void write(cint oi,const char c){print(oi);putchar(c);}char _ST_;\ninline void Min(rg&x,cint y){(x>y)&&(x=y);}\nint n,m,a[Q][Q];\ninline int calc(cint x,cint y){return a[x][y]^a[x][y+1]^a[x+1][y]^a[x+1][y+1];}\nchar _ED_;int main(){\n\tfprintf(stderr,\"memory:%llu MB\\n\",(&_ST_-&_ED_)>>20);\n\tread(n);read(m);for(rg i=1;i<=n;++i){\n\t\tchar c;while(c=gc(),c^'W'&&c^'B');a[i][1]=(c=='B');\n\t\tfor(rg j=2;j<=m;++j)c=gc(),a[i][j]=(c=='B');\n\t}\n\trg sum=0;for(rg i=1;i<=n;++i)for(rg j=1;j<=m;++j)sum+=calc(i,j);\n\trg res=sum;for(rg i=1;i<=n;++i){\n\t\tfor(rg j=1;j<=m;++j){\n\t\t\trg v=sum;if(i>1&&j>1)v-=calc(i-1,j-1),v+=calc(i-1,j-1)^1;\n\t\t\tif(j>1)v-=calc(n,j-1),v+=calc(n,j-1)^1;\n\t\t\tif(i>1)v-=calc(i-1,m),v+=calc(i-1,m)^1;\n\t\t\tv-=calc(n,m);v+=calc(n,m)^1;Min(res,v+3);\n\t\t}\n\t}\n\twrite(res,'\\n');\n\treturn 0;\n}\n```\n\n",
        "postTime": 1682763314,
        "uid": 202556,
        "name": "Terry2022",
        "ccfLevel": 7,
        "title": "CF1592F1 Alice and Recoloring 1"
    },
    {
        "content": "> ### *1592F1. [Alice and Recoloring 1](https://www.luogu.com.cn/problem/CF1592F1) 2600\n> \n> [F2 \u9898\u89e3](https://www.luogu.com.cn/blog/AlexWei/solution-cf1592f2)\u3002\n\n---\n\n\u795e\u4ed9\u601d\u8def\u9898\u3002\u9996\u5148\u4e0d\u96be\u53d1\u73b0\u64cd\u4f5c $2,3$ \u5728\u641e\u7b11\uff0c\u4e0b\u8bb0\u64cd\u4f5c $2$ \u4e3a\u539f\u6765\u7684\u64cd\u4f5c $4$\uff0c\u8bb0 $a_{i,j}=[c_{i,j}=\\texttt{B}]$\u3002\n\n\u4e00\u6b21\u7ffb\u8f6c\u4e00\u4e2a\u5b50\u77e9\u5f62\u8f83\u96be\u5904\u7406\uff0c\u8003\u8651\u5bf9\u77e9\u5f62\u8fdb\u884c\u4e00\u4e9b\u53d8\u6362\u540e\u7b80\u5316\u64cd\u4f5c\uff0c\u5373**\u4f7f\u4e00\u6b21\u64cd\u4f5c\u6539\u53d8\u7684\u683c\u5b50\u5c3d\u91cf\u5c11**\uff1a\u6211\u4eec\u8bbe $p_{i,j}$ \u8868\u793a $a_{i,j}\\oplus a_{i,j+1}\\oplus a_{i+1,j}\\oplus a_{i+1,j+1}$\u3002\u5c06 $a$ \u53d8\u4e3a\u5168 $0$ **\u7b49\u4ef7\u4e8e\u628a $p$ \u53d8\u4e3a\u5168 $0$**\u3002\u8fd9\u4e00\u6b65\u795e\u4ed9\u8f6c\u6362\u4f7f\u5f97\u5bf9\u4e8e\u64cd\u4f5c $1$\uff0c\u6211\u4eec\u76f8\u5f53\u4e8e\u7ffb\u8f6c $p_{x,y}$\uff1b\u5bf9\u4e8e\u64cd\u4f5c $2$\uff0c\u76f8\u5f53\u4e8e\u7ffb\u8f6c $p_{x-1,y-1},p_{x-1,m},p_{n,y-1}$ \u548c $p_{n,m}$\uff08$x>1,y>1$\uff0c\u56e0\u4e3a\u82e5 $x$ \u6216 $y=1$ \u5219\u53ef\u4ee5\u7528\u4e24\u6b21\u64cd\u4f5c $1$ \u4ee3\u66ff\uff09\u3002\n\n\u4e0d\u96be\u53d1\u73b0\u8d85\u8fc7\u4e00\u6b21\u8fdb\u884c\u64cd\u4f5c $2$ \u662f\u4e0d\u4f18\u7684\uff0c\u56e0\u4e3a\u8fd9\u53ea\u6539\u53d8\u4e86 $6$ \u4e2a\u683c\u5b50\u7684\u72b6\u6001\uff08$p_{n,m}$ \u88ab\u6539\u53d8\u4e86\u4e24\u6b21\uff09\uff0c\u4ee3\u4ef7\u4e0d\u4f18\u4e8e\u4f7f\u7528\u516d\u6b21\u64cd\u4f5c $1$\u3002\u6240\u4ee5\u5bf9 $p$ \u6c42\u548c\uff0c\u82e5\u5b58\u5728 $x<n,y<m$ \u4f7f\u5f97 $p_{x,y}=p_{x,m}=p_{n,y}=p_{n,m}=1$ \u5219\u5c06\u7b54\u6848\u51cf\u6389 $1$\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal{O}(nm)$\u3002\n\n```cpp\nconst int N = 500 + 5;\nint n, m, ans, a[N][N], p[N][N];\nchar mp[N][N];\n\nint main(){\n\tcin >> n >> m;\n\tfor(int i = 1; i <= n; i++)\n\t\tfor(int j = 1; j <= m; j++)\n\t\t\tcin >> mp[i][j], p[i][j] = mp[i][j] == 'B';\n\tfor(int i = 1; i <= n; i++)\n\t\tfor(int j = 1; j <= m; j++)\n\t\t\tans += a[i][j] = \n\t\t\t\t(p[i][j] ^ p[i][j + 1] ^ p[i + 1][j] ^ p[i + 1][j + 1]);\n\tfor(int i = 1, ok = 0; i < n && !ok; i++)\n\t\tfor(int j = 1; j < m && !ok; j++)\n\t\t\tif(a[i][j] && a[i][m] && a[n][j] && a[n][m])\n\t\t\t\tok = 1, ans--;\n\tcout << ans << endl;\n    return 0;\n}\n```",
        "postTime": 1634699169,
        "uid": 123294,
        "name": "Alex_Wei",
        "ccfLevel": 10,
        "title": "CF1592F1 Alice and Recoloring 1"
    },
    {
        "content": "## \u601d\u8def\n\u9996\u5148\uff0c\u7565\u5fae\u89c2\u5bdf\u4e4b\u540e\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u7ed3\u8bba\uff1a\u7ffb\u8f6c\u5305\u542b $(n,1),(1,m)$ \u7684\u77e9\u5f62\u5fc5\u5b9a\u4e0d\u4f18\uff0c\u56e0\u4e3a\u5b83\u4eec\u53ef\u4ee5\u7528 $2$ \u4e2a\u5305\u542b $(1,1)$ \u7684\u77e9\u5f62\u6784\u9020\u51fa\u6765\u3002\n\n\u4e8e\u662f\u9898\u76ee\u53d8\u6210\u4e86\u53ea\u80fd\u7ffb\u8f6c\u5305\u542b $(1,1)$ \u6216 $(n,m)$ \u7684\u77e9\u5f62\u3002\n\n\u5c06\u77e9\u5f62\u505a\u4e00\u4e2a\u4e8c\u9636\u5dee\u5206\uff0c\u6211\u4eec\u53d1\u73b0\u7ffb\u8f6c\u5305\u542b $(n,m)$ \u7684\u77e9\u5f62\u76f8\u5f53\u4e8e\u5728\u5dee\u5206\u77e9\u9635\u4e0a\u4fee\u6539\u4e00\u4e2a\u70b9\uff08\u6ce8\u610f\u4fee\u6539\u7684\u70b9\u4e00\u5b9a\u4e0d\u5728\u7b2c\u4e00\u884c\u7b2c\u4e00\u5217\uff09\uff0c\u800c\u5728\u8fd9\u4e9b\u4f4d\u7f6e\u7ffb\u8f6c\u5305\u542b $(1,1)$ \u7684\u77e9\u5f62\u4f1a\u4fee\u6539 $(1,1),(x,1),(1,y),(x,y)$\u3002\n\n\u5728\u53cd\u8f6c\u5b8c $x,y>1$ \u7684\u4f4d\u7f6e\u540e\uff0c\u6211\u4eec\u4f1a\u63a5\u7740\u56de\u53bb\u7ffb\u8f6c $x=1$ \u6216 $y=1$ \u7684\u77e9\u5f62\uff0c\u5c31\u5b8c\u6210\u4e86\u6574\u4e2a\u8fc7\u7a0b\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u8bb0 $f_i$ \u4e3a\u7b2c $i$ \u884c\u662f\u5426\u7ffb\u8f6c\uff0c$g_j$ \u4e3a\u7b2c $j$ \u884c\u662f\u5426\u7ffb\u8f6c\uff0c$h$ \u4e3a $(1,1)$ \u662f\u5426\u9700\u8981\u6700\u540e\u7ffb\u8f6c\u3002\u4e00\u6b21 $(1,1)$ \u7684\u64cd\u4f5c\u7b49\u4ef7\u4e8e\u7ffb\u8f6c $f_i,g_j,h$\uff0c\u6d88\u8017 $1$\uff1b\u800c\u4e00\u6b21 $(n,m)$ \u7684\u64cd\u4f5c\u4ec0\u4e48\u90fd\u4e0d\u7ffb\u8f6c\uff0c\u6d88\u8017 $3$\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u6211\u4eec\u7ffb\u8f6c $(n,m)$ \u7684\u77e9\u5f62\uff0c\u53ef\u80fd\u4f1a\u6bd4\u7ffb\u8f6c $(1,1)$ \u7684\u77e9\u5f62\u591a\u82b1 $+3,+1,+1$ \u7684\u8d39\u7528\u3002\n\n\u4e0d\u96be\u53d1\u73b0 $+1$ \u548c $+3$ \u7684\u8d39\u7528\u6700\u591a\u53ea\u80fd\u521b\u9020\u4e00\u6b21 $-1$\uff0c\u56e0\u6b64\u6211\u4eec\u4e00\u5b9a\u53ea\u6267\u884c $-1$\u3002\n\n\u800c $-1$ \u53ea\u4f1a\u51fa\u73b0\u6700\u591a\u4e00\u6b21\uff0c\u679a\u4e3e\u6bcf\u4e2a\u4f4d\u7f6e\u5373\u53ef\u3002\n## \u4ee3\u7801\n```cpp\nchar s[503][503];\nbool a[503][503];\nbool b[503][503];\nbool f[503],g[503];\nsigned main()\n{\n\tint n=read(),m=read();\n\tfor(int i=1; i<=n; ++i) scanf(\"%s\",s[i]+1);\n\tfor(int i=1; i<=n; ++i)\n\t\tfor(int j=1; j<=m; ++j) a[i][j]=(s[i][j]=='B');\n\tfor(int i=1; i<=n; ++i)\n\t\tfor(int j=1; j<=m; ++j) b[i][j]=(a[i][j]!=a[i][j-1]);\n\tfor(int i=n; i>=1; --i)\n\t\tfor(int j=1; j<=m; ++j) b[i][j]=(b[i][j]!=b[i-1][j]); \n\t// for(int i=1; i<=n; ++i,puts(\"\"))\n\t\t// for(int j=1; j<=m; ++j) printf(\"%d\",b[i][j]);\n\tint c=b[1][1];\n\tint ans=0;\n\tfor(int i=2; i<=n; ++i)\n\t\tfor(int j=2; j<=m; ++j)\n\t\t\tans+=b[i][j],f[i]^=b[i][j],g[j]^=b[i][j],c^=b[i][j];\n\tfor(int i=2; i<=n; ++i) f[i]^=b[i][1];\n\tfor(int j=2; j<=m; ++j) g[j]^=b[1][j];\n\tfor(int i=2; i<=n; ++i)\n\t\tans+=f[i],c^=f[i];\n\tfor(int j=2; j<=m; ++j)\n\t\tans+=g[j],c^=g[j];\n\tans+=c;\n\tint flg=0;\n\tfor(int i=2; i<=n; ++i)\n\t\tfor(int j=2; j<=m; ++j)\n\t\t\tif(b[i][j]&&f[i]&&g[j]&&c)\n\t\t\t\tflg=1;\n\tprintf(\"%d\\n\",ans-flg);\n\treturn 0;\n}\n```",
        "postTime": 1633488166,
        "uid": 111055,
        "name": "dead_X",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1592F1"
    },
    {
        "content": "\u4e0d\u96be\u53d1\u73b0\u5bf9\u4e8e\u76ee\u6807\u77e9\u9635\u7684\u4efb\u610f\u5168\u662f $B$ \u7684\u5b50\u77e9\u9635\uff0c\u82e5\u4e0d\u5305\u542b $4$ \u4e2a\u89d2\uff0c\u5219\u90fd\u53ef\u4ee5\u4f7f\u7528\u81f3\u591a $4$ \u6b21\u64cd\u4f5c \\#1 \u5355\u72ec\u6784\u9020\u51fa\u6765\u4e14\u4e0d\u5f71\u54cd\u5176\u4ed6\u5b50\u77e9\u9635\uff08\u5982\u679c\u8d34\u5728\u8fb9\u7f18\u5219\u4ec5\u9700 $2$ \u6b21\uff09\u3002\n\n\u4f46\u8fd9\u4e0d\u597d\u505a\u554a\uff0c\u56e0\u4e3a\u5b50\u77e9\u9635\u53ef\u4ee5\u76f8\u4e92\u7528\u90e8\u5206\u53bb\u7ec4\u5408\u3002\n\n\u7136\u540e\u53d1\u73b0 \\#2\u3001\\#3 \u4e24\u79cd\u64cd\u4f5c\u662f\u5e9f\u7684\uff0c\u56e0\u4e3a\u64cd\u4f5c \\#2 \u53ef\u4ee5\u7528\u4e24\u4e2a\u64cd\u4f5c \\#1 \u5b8c\u6210\uff0c\u8d39\u7528\u4e3a $2$\uff1b\u64cd\u4f5c \\#3 \u4e5f\u53ef\u4ee5\u7528\u4e24\u4e2a\u64cd\u4f5c \\#1 \u5b8c\u6210\uff0c\u8d39\u7528\u4e3a $2$\u3002\n\n\u4f46\u8fd9\u4ecd\u7136\u4e0d\u597d\u505a\uff0c\u5e76\u4e0d\u80fd\u4ea7\u751f\u6784\u6210\u65b9\u6848\u7684\u52a8\u673a\u3002\u5f00\u59cb\u6784\u601d\u4e00\u4e9b\u795e\u5999\u505a\u6cd5\u4e86\u3002\n\n\u53cd\u76f4\u89c9\uff0c\u4ece\u4e0a\u9762\u7684\u601d\u8def\u5f80\u4e0b\u8d70\u3002\u6211\u4eec\u8003\u8651\u53ea\u4f7f\u7528 \\#1\uff0c\u4e14\u4ee4 `B` \u4e3a $1$\uff0c`W` \u4e3a $0$\u3002\n\n\u5f53\u4e00\u4e2a\u4f4d\u7f6e $(i, j)$ \u9700\u8981\u4f7f\u7528 \\#1 \u53d8\u4e3a $1$ \u65f6\uff0c\u4ee3\u8868\u5b83\u73b0\u5728\u7684\u72b6\u6001\u662f $0$\u3002\u5373\u5b58\u5728\u672c\u8eab\u662f $0$\u3001\u5904\u7406 $(i, j + 1),(i + 1, j),(i + 1, j + 1)$ \u65f6\u4f7f\u7528\u4e86\u5076\u6570\u6b21 \\#1 \u4f7f\u5f97 $(i, j)$ \u4ecd\u4e3a $0$ \u4e24\u79cd\u60c5\u51b5\u3002\n\n\u540c\u7406\u8003\u8651\u9700\u8981\u4f7f\u7528 \\#1 \u53d8\u4e3a $0$ \u7684\u60c5\u51b5\u3002\n\n\u53ef\u4ee5\u5f97\u51fa\u5982\u679c $(i, j) \\space \\mathrm{xor} \\space (i, j + 1) \\space \\mathrm{xor} \\space (i + 1, j) \\space \\mathrm{xor} \\space (i + 1, j + 1) = 1$\uff0c\u5219\u9700\u8981\u6267\u884c \\#1\uff1b\u5426\u5219\u5c31\u4e0d\u9700\u8981\u3002\u5982\u679c\u8bb0\u4e00\u4e2a\u65b0\u7684\u77e9\u9635 $a(i, j) = $ \u524d\u9762\u90a3\u4e00\u5768\u5f02\u6216\u548c\uff0c\u5219 \\#1 \u53ef\u4ee5\u6bcf\u6b21\u8ba9\u4e00\u4e2a\u4f4d\u7f6e\u7ffb\u8f6c\uff0c\u591a\u6b21\u4f7f\u7528\u4f7f\u77e9\u9635\u8fbe\u5230\u76ee\u7684\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u53ea\u7528 \\#1 \u6784\u9020\u51fa\u4e00\u4e2a\u5408\u6cd5\u65b9\u6848\uff0c\u4f46\u5e94\u8be5\u662f\u53ef\u4ee5\u7ee7\u7eed\u7528 #4 \u8fdb\u884c\u4f18\u5316\u7684\u3002\n\n\\#4 \u505a\u4e86\u4ec0\u4e48\uff1f\u5c06 $a(i - 1, j - 1), a(i - 1, m), a(n, j - 1), a(m, n)$ \u540c\u65f6\u4e00\u6b21\u6027\u7ffb\u8f6c\u3002\u5bf9\u4e8e $a(m, n)$\uff0c\u4ee5\u540e\u53ef\u80fd\u4f1a\u91cd\u590d\u53d7\u4f5c\u7528\uff0c\u6240\u4ee5\u76f4\u89c2\u4e0a\uff0c#4 \u5e94\u8be5\u53ea\u7528\u4e00\u6b21\u6700\u8d5a\u3002\n\n```cpp\n#include <cstdio>\n\nint Abs (int x) { return x < 0 ? -x : x; }\nint Max (int x, int y) { return x > y ? x : y; }\nint Min (int x, int y) { return x < y ? x : y; }\n\nint Read () {\n    int x = 0, k = 1;\n    char s = getchar ();\n    while (s < '0' || s > '9') {\n        if (s == '-')\n            k = -1;\n        s = getchar ();\n    }\n    while ('0' <= s && s <= '9') \n        x = (x << 3) + (x << 1) + (s ^ 48), s = getchar ();\n    return x * k;\n}\n\nvoid Write (int x) {\n    if (x < 0)\n        putchar ('-'), x = -x;\n    if (x > 9)\n        Write (x / 10);\n    putchar (x % 10 + '0');\n}\n\nvoid Print (int x, char s) { Write (x), putchar (s); }\n\nconst int Maxn = 5e2 + 5;\n\nint a[Maxn][Maxn];\nchar s[Maxn][Maxn];\n\nint main () {\n    int n = Read (), m = Read ();\n    for (int i = 1; i <= n; i++)\n        scanf (\"%s\", s[i] + 1);\n    int Res = 0;\n    for (int i = 1; i <= n; i++)\n        for (int j = 1; j <= m; j++)\n            Res += (a[i][j] = ((s[i][j] == 'B') ^ (s[i][j + 1] == 'B') ^ (s[i + 1][j] == 'B') ^ (s[i + 1][j + 1] == 'B')));\n    bool Flag = false;\n    if (a[n][m]) {\n        for (int i = 1; i <= n; i++) {\n            for (int j = 1; j <= m; j++)\n                if (a[i - 1][m] && a[n][j - 1] && a[i - 1][j - 1]) {\n                    Res--, Flag = true;\n                    break;\n                }\n            if (Flag)\n                break;\n        }        \n    }\n    Print (Res, '\\n');\n    return 0;\n}\n```",
        "postTime": 1656413806,
        "uid": 266779,
        "name": "STrAduts",
        "ccfLevel": 6,
        "title": "\u300cCF1592F1\u300dAlice and Recoloring 1"
    },
    {
        "content": "## \u9898\u76ee\u94fe\u63a5\n[Link.](https://codeforces.com/problemset/problem/1592/F1)\n\n## \u9898\u89e3\n\u795e\u4ed9\u9898\u554a\u795e\u4ed9\u9898\u3002\n\n\u9996\u5148\uff0c\u8fd9\u9053\u9898\u76ee\u7684\u64cd\u4f5c\u662f\u53cd\u8f6c\uff0c\u800c\u53cd\u8f6c\u4e24\u6b21\u5c31\u7b49\u4ef7\u4e8e\u6ca1\u53cd\u8f6c\u3002\u6240\u4ee5\u4ece\u521d\u59cb\u72b6\u6001\u8f6c\u6362\u5230\u76ee\u6807\u72b6\u6001\u7b49\u4ef7\u4e8e\u4ece\u76ee\u6807\u72b6\u6001\u8f6c\u6362\u5230\u521d\u59cb\u72b6\u6001\u3002\n\n\u4e3a\u4e86\u65b9\u4fbf\uff0c\u8fd9\u91cc\u628a 'W' \u770b\u6210 $0$\uff0c\u628a 'B' \u770b\u6210 $1$\uff0c\u6bcf\u6b21\u53cd\u8f6c\u5c31\u662f\u5c06\u77e9\u5f62 $A$ \u7684\u6bcf\u4e00\u4e2a\u6570**\u5f02\u6216** $1$\u3002\u6240\u6c42\u5c31\u662f\u628a\u6240\u6709\u6570\u53d8\u6210 $0$\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u505a\u4e00\u6b21\u64cd\u4f5c $2$ \u6216\u64cd\u4f5c $3$ \u7b49\u4ef7\u4e8e\u505a\u4e24\u6b21\u64cd\u4f5c $1$\uff0c\u4ee5\u64cd\u4f5c $2$ \u4e3a\u4f8b\uff0c\u5982\u679c\u6211\u60f3\u53cd\u8f6c\u77e9\u5f62 $(1,i)$ \u5230 $(2,m)$\uff0c\u6211\u53ef\u4ee5\u5148\u53cd\u8f6c $(1,1)$ \u5230 $(2,i-1)$\uff0c\u7136\u540e\u53cd\u8f6c $(1,1)$ \u5230 $(2,m)$\u3002\u56e0\u4e3a\u4e24\u6b21\u64cd\u4f5c $1$ \u7684\u4ee3\u4ef7\u4e0d\u9ad8\u4e8e\u4e00\u6b21\u64cd\u4f5c $2$ \u6216 $3$\uff0c\u6240\u4ee5\u64cd\u4f5c $2$ \u548c $3$ \u662f\u6ca1\u6709\u7528\u7684\u3002\n\n\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u53cd\u8f6c\u7684\u77e9\u5f62\u53ea\u6709\u4e24\u79cd\uff1a\n1. \u4ee5 $(1,1)$ \u4e3a\u5de6\u4e0a\u89d2\n2. \u4ee5 $(n,m)$ \u4e3a\u53f3\u4e0b\u89d2\n\n\u56e0\u4e3a\u64cd\u4f5c $1$ \u7684\u4ee3\u4ef7\u6700\u5c0f\uff0c\u6240\u4ee5\u6211\u4eec\u5148\u53ea\u8003\u8651\u64cd\u4f5c $1$\uff1a\n\n\u5bf9\u4e8e\u4e00\u4e2a\u70b9\uff0c\u6211\u4eec\u600e\u4e48\u8003\u8651\u5b83\u662f\u5426\u9700\u8981\u53cd\u8f6c\u5462\uff1f\n\n \u5982\u679c\u5b83\u81ea\u5df1\u662f $1$\uff0c\u90a3\u4e48\u5b83\u662f\u9700\u8981\u53cd\u8f6c\u7684\uff0c\u4f46\u662f\u5982\u679c\u5b83\u5de6\u8fb9\u3001\u4e0b\u8fb9\u3001\u5de6\u4e0b\u7684\u70b9\u6709 $1$ \u4e2a\u6216\u662f $3$ \u4e2a\u9700\u8981\u53cd\u8f6c\uff0c\u90a3\u4e48\u5b83\u81ea\u5df1\u5c31\u4e0d\u7528\u53cd\u8f6c\u4e86\uff0c\u56e0\u4e3a\u5176\u5b83\u4e09\u4e2a\u70b9\u4e00\u6b21\u6216\u4e09\u6b21\u7684\u53cd\u8f6c\u4e00\u5b9a\u90fd\u5305\u542b\u4e86\u8fd9\u4e2a\u70b9\uff0c\u90a3\u4e48\u8fd9\u4e2a\u70b9\u81ea\u7136\u5c31\u88ab\u53cd\u8f6c\u4e86\u3002\u5426\u5219\u8fd9\u4e2a\u70b9\u4e00\u5b9a\u8981\u6d88\u8017 $1$ \u7684\u4ee3\u4ef7\u53cd\u8f6c\u3002\n\n\u540c\u7406\u4e5f\u53ef\u4ee5\u63a8\u51fa\u8fd9\u4e2a\u70b9\u662f 0 \u7684\u60c5\u51b5\u4e0b\u662f\u5426\u9700\u8981\u53cd\u8f6c\u3002\n\n\u603b\u7ed3\u4e00\u4e0b\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u70b9\uff0c\u5982\u679c\u5b83\u4e0e\u5b83\u53f3\u8fb9\u3001\u4e0b\u8fb9\u3001\u53f3\u4e0b\u7684\u70b9**\u5f02\u6216**\u7684\u503c\u4e3a $1$\uff0c\u90a3\u4e48\u8fd9\u4e2a\u70b9\u9700\u8981\u53cd\u8f6c\uff0c\u4e3a $0$ \u5c31\u4e0d\u9700\u8981\u53cd\u8f6c\u3002\n\n\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684\u77e9\u5f62 $B$\uff0c$B_{,j}=A_{i,j} \\oplus A_{i+1,j} \\oplus A_{i,j+1} \\oplus  A_{i+1,j+1}$ \uff0c\u64cd\u4f5c $1$ \u5c31\u76f8\u5f53\u4e8e\u53cd\u8f6c $B_{i,j}$\n\n\u90a3\u4e48\u7b54\u6848\u5c31\u662f $$ans=\\sum_{i=1}^{n}\\sum_{j=1}^{m} B_{i,j}$$\n\n\u4f46\u662f\u56e0\u4e3a\u8fd8\u6709\u4e00\u4e2a\u64cd\u4f5c $4$\uff0c\u8003\u8651\u64cd\u4f5c $4$ \u7684\u4f5c\u7528\u3002\u53ef\u4ee5\u53d1\u73b0\u64cd\u4f5c $4$ \u5c31\u662f\u5c06 $B_{i,j},B_{i,m},B_{n,j},B_{n,m}$ \u540c\u65f6\u53cd\u8f6c\u3002\n\n\u770b\u8d77\u6765\u64cd\u4f5c $4$ \u6bd4\u64cd\u4f5c $1$ \u66f4\u4f18\uff0c\u4f46\u662f\u56e0\u4e3a\u4e0d\u505c\u7684\u53cd\u8f6c $B_{n,m}$\uff0c\u6240\u4ee5\u53ea\u6709\u8fdb\u884c\u7b2c\u4e00\u6b21\u64cd\u4f5c $4$ \u7684\u65f6\u5019\u624d\u4f1a\u53d6\u5f97\u66f4\u5c0f\u7684\u4ee3\u4ef7\uff0c\u7279\u5224\u5373\u53ef\u3002\n\n### code\n```cpp\nint n,m;\nchar s[505][505];\nint a[505][505];\nint ans=0;\n\nint main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++) cin>>(s[i]+1);\n\tfor(int i=1;i<=n;i++) for(int j=1;j<=m;j++) a[i][j]=s[i][j]!='W';\n\tfor(int i=1;i<=n;i++) for(int j=1;j<=m;j++) a[i][j]^=a[i+1][j]^a[i][j+1]^a[i+1][j+1];\n\tfor(int i=1;i<=n;i++) for(int j=1;j<=m;j++) ans+=a[i][j];\n\tfor(int i=1;i<n;i++) for(int j=1;j<m;j++) if(a[i][j]&&a[n][j]&&a[i][m]&&a[n][m]){ ans--;goto Thanks; }\n\tThanks:;\n\tcout<<ans<<endl;\n\treturn 0;\n}\n\n```\n",
        "postTime": 1656380719,
        "uid": 225883,
        "name": "MiRaciss",
        "ccfLevel": 7,
        "title": "CF1592F1 \u9898\u89e3"
    },
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n[\u9898\u9762](https://www.luogu.com.cn/problem/CF1592F1) \u8bf4\u5f97\u6bd4\u8f83\u6e05\u695a\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8bf4\u4e86\u3002\n\n## \u601d\u8def\n\n\u9996\u5148\u9700\u8981\u53d1\u73b0\u64cd\u4f5c 2 \u548c \u64cd\u4f5c 3 \u662f\u6ca1\u7528\u7684\uff0c\u56e0\u4e3a\u4ed6\u4eec\u80fd\u7528\u4e24\u4e2a\u64cd\u4f5c 1 \u6765\u5b8c\u6210\uff0c\u90a3\u4e48\u8fdb\u884c\u4e24\u6b21\u64cd\u4f5c 1 \u663e\u7136\u662f\u66f4\u4f18\u7684\u3002\uff08\u8fd9\u4e00\u70b9\u624b\u73a9\u4e00\u4e0b\u5c31\u53ef\u4ee5\u53d1\u73b0\uff09\n\n\u7136\u540e\uff0c\u6211\u4eec\u8bbe $ f_{i,j} = a_{i,j} \\oplus a_{i+1,j} \\oplus a_{i,j+1} \\oplus a_{i+1,j+1} $\uff0c\u5c06 a \u53d8\u4e3a 0 \u5c31\u8f6c\u5316\u6210\u4e86 \u5c06 f \u53d8\u4e3a 0\uff0c\u5bf9\u4e8e\u64cd\u4f5c 1\u6765\u8bf4\u5c31\u76f8\u5f53\u4e8e\u7ffb\u8f6c\u4e86 $ f_{x,y} $\u3002\u5bf9\u4e8e\u64cd\u4f5c 4\uff0c\u5c31\u76f8\u5f53\u4e8e\u7ffb\u8f6c $ f_{x-1,y-1},f_{x-1,m},f_{n,y-1},f_{n,m} (x>1,y>1) $ \u5982\u679c $ y=1 $\uff0c\u7528\u4e24\u6b21\u64cd\u4f5c 1 \u4ee3\u66ff\uff0c\u663e\u7136\u66f4\u4f18\u3002\n\n\u4e0d\u80fd\u53d1\u73b0\uff0c\u4e24\u6b21\u64cd\u4f5c 4 \u5e76\u4e0d\u4f18\uff0c\u4ed6\u53ea\u6539\u53d8\u4e86 6 \u4e2a\u683c\u5b50\uff0c\u4e0d\u5982\u8fdb\u884c 6 \u6b21\u64cd\u4f5c 1 \u66f4\u4f18\u3002\u6240\u4ee5\u6211\u4eec\u53ea\u7279\u5224\u4e00\u6b21\u64cd\u4f5c 4\uff0c\u5f53 $ f_{x-1,y-1}=f_{x-1,m}=f_{n,y-1}=f_{n,m}=1 (x<n,y<m) $ \u65f6\u6267\u884c\u4e00\u6b21\u64cd\u4f5c 4 \uff0c\u53ef\u4ee5 $ ans \\gets ans-1 $\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>//\u795d\u5927\u5bb6\u5b66\u4e60\u6109\u5feb\uff01\n\nusing namespace std;\n\nconst int maxn=510;\nint a[maxn][maxn],f[maxn][maxn];\nchar s[maxn][maxn];\n\nint main(){\n\t\n\tint n,m,ans=0;\n\t\n\tscanf(\"%d %d\",&n,&m);\n\t\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tscanf(\" %c\",&s[i][j]);\n\t\t\ta[i][j]=(s[i][j]=='B');\n\t\t}\n\t}\n\t\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tf[i][j]=a[i][j]^a[i+1][j]^a[i][j+1]^a[i+1][j+1];\n\t\t\tif(f[i][j]) ans++;\n\t\t}\n\t}\n\t\n\tfor(int i=2;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(f[i-1][m]&&f[n][j-1]&&f[i-1][j-1]&&f[n][m]){\n\t\t\t\tprintf(\"%d\\n\",ans-1);\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tprintf(\"%d\\n\",ans);\n\t\n\treturn 0;\n}\n```\n",
        "postTime": 1641201754,
        "uid": 234469,
        "name": "hxyqwq",
        "ccfLevel": 6,
        "title": "CF1592F1 \u9898\u89e3"
    },
    {
        "content": "## \u601d\u8def\n\n\u795e\u4ed9\u601d\u7ef4\u9898\u3002\n\n\u9996\u5148\u53ef\u4ee5\u53d1\u73b0\u64cd\u4f5c 2 \u548c 3 \u90fd\u662f\u65e0\u610f\u4e49\u7684\u3002\u56e0\u4e3a\u64cd\u4f5c 2 \u53ef\u4ee5\u8f6c\u5316\u6210\u4e24\u6b21\u64cd\u4f5c 1\uff08\u7ffb\u8f6c\u5de6\u4e0b\u89d2\u4e3a $(n,1)$\uff0c\u53f3\u4e0a\u89d2\u4e3a $(x,y)$ \u7684\u77e9\u9635\u53ef\u4ee5\u8f6c\u5316\u4e3a\u7ffb\u8f6c $(1,1),(n,y)$ \u518d\u7ffb\u8f6c $(1,1),(x-1,y)$\uff09\uff0c\u64cd\u4f5c 3 \u540c\u7406\u3002\n\n\u7136\u540e\u5c31\u662f\u6700\u91cd\u8981\u7684\u4e00\u6b65\u3002\u4ee4 $a_{i,j} = [s_{i,j} = \\texttt{B}]$\uff0c$b_{i,j} = a_{i,j} \\oplus a_{i+1,j} \\oplus a_{i,j+1} \\oplus a_{i+1,j+1}$\u3002\u90a3\u4e48\u8981\u8ba9 $a$ \u5168\u53d8\u4e3a $0$\uff0c\u5c31\u662f\u8ba9 $b$ \u5168\u53d8\u4e3a $0$\u3002\u64cd\u4f5c 1\uff08\u7ffb\u8f6c\u5de6\u4e0a\u89d2\u4e3a $(1,1)$\uff0c\u53f3\u4e0b\u89d2\u4e3a $(x,y)$ \u7684\u77e9\u9635\uff09\u5c31\u8f6c\u5316\u6210\u7ffb\u8f6c $b_{x,y}$\uff0c\u64cd\u4f5c 4\uff08\u7ffb\u8f6c\u5de6\u4e0a\u89d2\u4e3a $(x,y)$\uff0c\u53f3\u4e0b\u89d2\u4e3a $(n,m)$ \u7684\u77e9\u9635\uff09\u5c31\u8f6c\u5316\u6210\u7ffb\u8f6c $b_{x-1,y-1}$\uff0c$b_{x-1,m}$\uff0c$b_{n,y-1}$ \u548c $b_{n,m}$\u3002\u8fd9\u4e00\u6b65\u53ef\u4ee5\u81ea\u5df1\u624b\u52a8\u6a21\u62df\u4e00\u4e0b\u5c31\u660e\u767d\u4e86\u3002\n\n\u663e\u7136\u6211\u4eec\u53ea\u4f1a\u8d2a\u5fc3\u5730\u5f53 $b_{x,y}$ \u4e3a $1$ \u65f6\u624d\u6267\u884c\u64cd\u4f5c 1\uff0c$b_{x-1,y-1}$\uff0c$b_{x-1,m}$\uff0c$b_{n,y-1}$ \u548c $b_{n,m}$\u90fd\u4e3a $1$ \u65f6\u624d\u6267\u884c\u64cd\u4f5c 2\u3002\n\n\u7136\u540e\u53c8\u53d1\u73b0\u6267\u884c\u4e24\u6b21\u53ca\u4ee5\u4e0a\u64cd\u4f5c 4 \u4e0d\u4f18\uff0c\u53ef\u4ee5\u8f6c\u5316\u4e3a\u6267\u884c $6$ \u6b21\u64cd\u4f5c 1\uff0c\u56e0\u4e3a\u82b1\u4e86 $6$ \u4ee3\u4ef7\u53ea\u7ffb\u8f6c\u4e86 $6$ \u4e2a\u5143\u7d20\u3002\u6240\u4ee5\u53ea\u7528\u7279\u5224\u662f\u5426\u6267\u884c\u4e00\u6b21\u64cd\u4f5c 4\u3002\n\n## \u4ee3\u7801\n\n```cpp\nconst int maxn = 510;\n\nint n, m, a[maxn][maxn], b[maxn][maxn];\nchar s[maxn][maxn];\n\nvoid solve() {\n\tscanf(\"%d%d\", &n, &m);\n\tfor (int i = 1; i <= n; ++i) {\n\t\tscanf(\"%s\", s[i] + 1);\n\t\tfor (int j = 1; j <= m; ++j) {\n\t\t\tb[i][j] = (s[i][j] == 'B');\n\t\t}\n\t}\n\tint ans = 0;\n\tfor (int i = 1; i <= n; ++i) {\n\t\tfor (int j = 1; j <= m; ++j) {\n\t\t\ta[i][j] = (b[i + 1][j + 1] ^ b[i + 1][j] ^ b[i][j + 1] ^ b[i][j]);\n\t\t\tif (a[i][j]) {\n\t\t\t\t++ans;\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i = 2; i <= n; ++i) {\n\t\tfor (int j = 2; j <= m; ++j) {\n\t\t\tif (a[i - 1][j - 1] && a[i - 1][m] && a[n][j - 1] && a[n][m]) {\n\t\t\t\tprintf(\"%d\", ans - 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\", ans);\n}\n```\n",
        "postTime": 1640870924,
        "uid": 275273,
        "name": "zltqwq",
        "ccfLevel": 0,
        "title": "CF1592F1 \u9898\u89e3"
    }
]