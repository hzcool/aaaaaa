[
    {
        "content": "\u8003\u8651\u751f\u6210\u6811\u7684\u76f4\u5f84\u4e0a\u7684\u70b9\u7684\u4e2a\u6570 $\uff08ans\uff09$\n-  \u5982\u679c $ans$ \u4e3a\u5076\u6570\uff0c\u5219\u5220\u53bb\u7684\u70b9\u4e00\u5b9a\u4e3a\u6839\u8282\u70b9\u7684\u67d0\u4e2a\u5b50\u8282\u70b9\uff0c\u800c\u4e14\u6b64\u76f4\u5f84\u4e2d\u95f4\u7684\u4e24\u4e2a\u8282\u70b9\u53ef\u4ee5\u6784\u6210\u65b0\u7684\u9ad8\u5ea6\u4e3a $ans/2$ \u7684\u4e24\u68f5\u5b8c\u5168\u4e8c\u53c9\u6811\n   \n&#160;&#160;&#160;&#160;&#160;&#160;\u6240\u4ee5\uff0c\u53ea\u8981\u5224\u65ad\u8fd9\u4e24\u4e2a\u7ed3\u70b9\u4e0b\u7684\u4e8c\u53c9\u6811\u662f\u5426\u4e3a  \u9ad8 $=ans/2$ \u7684\u6ee1\u4e8c\u53c9\u6811\u5373\u53ef\u3002\u5982\u679c\u662f\uff0c\u5219\u7b54\u6848\u4e3a $2$ \u4e2a\uff08\u8fd9\u4e24\u4e2a\u8282\u70b9\uff09\uff1b\u5426\u5219\uff0c\u4e3a $0$ \n![](https://img-blog.csdnimg.cn/20191001155400337.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMDMyMjc4,size_16,color_FFFFFF,t_70)\n\n- \u5982\u679cans\u4e3a\u5947\u6570\uff0c\u5219\u5220\u53bb\u7684\u70b9\u4e0d\u4e3a\u6839\u8282\u70b9\u7684\u67d0\u4e2a\u5b50\u8282\u70b9\uff0c\u6240\u4ee5\u76f4\u5f84\u4e0a\u4e2d\u95f4\u7684\u70b9\u4e3a\u6839\u8282\u70b9\uff0c\u7136\u540e\u5224\u65ad\u8fd9\u4e2a\u6811\uff08\u9ad8\u5ea6\u4e3an\uff09\u662f\u4e0d\u662f\u53ea\u6709\u4e00\u4e2a\u7ed3\u70b9\u7684\u5bb9\u9519\u91cf\u5373\u53ef\u3002\u5982\u679c\u662f\uff0c\u7b54\u6848\u53ea\u6709\u4e00\u4e2a\uff0c\u5373\u51fa\u9519\u7684\u7ed3\u70b9\uff1b\u5426\u5219\uff0c\u4e3a $0$\u3002\n\n&#160;&#160;&#160;&#160;&#160;&#160;**\u5982\u4f55\u5224\u65ad\u51fa\u9519**\uff1a\uff08\u4e3a\u4e86\u65b9\u4fbf\u5728\u5224\u65ad\u524d\u6211\u4eec\u7ed9\u6839\u8282\u70b9\u7684\u5ea6+1\uff09\n\t\t\n\t\t1. \u5982\u679c\u8be5\u8282\u70b9\u7684\u5ea6\u4e3a1\uff0c\u5b83\u662f\u53f6\u5b50\u7ed3\u70b9\n\t\t2. \u5982\u679c\u8be5\u8282\u70b9\u7684\u5ea6\u4e3a2\uff0c\u5b83\u662f\u53f6\u5b50\u7ed3\u70b9\u7684\u7236\u4eb2\t\n\t\t3. \u5982\u679c\u8be5\u8282\u70b9\u7684\u5ea6\u4e3a4\uff1a\u8bb0\u5b83\u7684\u4e09\u4e2a\u513f\u5b50\u5230\u53f6\u5b50\u7ed3\u70b9\uff08\u53f6\u5b50\u7ed3\u70b9\u9ad8\u5ea6=1\uff09\u7684\u9ad8\u5ea6\u4e3ah\uff0c\u5b83\u7684\u6df1\u5ea6\u4e3adep\uff08\u6839\u8282\u70b9\u6df1\u5ea6\u4e3a1\uff09\u3002dep+h1\uff0cdep+h2\uff0cdep+h3\uff0c\u7b49\u4e8e n\uff0cn-1\uff0cn-1\u3002\u800c\u4e14\u8fd9\u4e09\u4e2a\u513f\u5b50\u4e0b\u9762\u5e94\u8be5\u4e3a\u4e09\u68f5\u9ad8\u5ea6\u4e3a h1\uff0ch2\uff0ch3 \u7684\u5b8c\u5168\u4e8c\u53c9\u6811\u3002.\n&#160;&#160;&#160;&#160;&#160;&#160;**\u5982\u679c\u8fdd\u80cc\u4ee5\u4e0a3\u6761\uff0c\u5219\u5224\u4e3a\u51fa\u9519**\n\n\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nstruct node\n{\n\tint next,to;\n} a[1000010];\nint head[1000010],cnt=0,pre[1000010],in[1000010],ans;\nint tot=0,tot_1=0,h[1000010],vis[1000010],d[1000010];\nint high[1000010];\nvoid add(int u,int v)\n{\n\ta[++cnt].next=head[u];\n\ta[cnt].to=v;\n\thead[u]=cnt;\n}\nint dfs(int x) // \u83b7\u5f97\u76f4\u5f84 \n{\n\tint s;\n\tmemset(vis,0,sizeof(vis));\n\tqueue<int>q;\n\tq.push(x);\n\td[x]=0,vis[x]=1;\n\tans=0;\n\twhile(!q.empty())\n\t{\n\t\tint u=q.front();\n\t\tq.pop();\n\t\tfor(int i=head[u]; i!=-1; i=a[i].next)\n\t\t{\n\t\t\tint v=a[i].to;\n\t\t\tif(vis[v]) continue;\n\t\t\tvis[v]=1;\n\t\t\td[v]=d[u]+1;\n\t\t\tpre[v]=u;\n\t\t\tif(ans<d[v]) ans=d[v],s=v,pre[v]=u;\n\t\t\tq.push(v);\n\t\t}\n\t}\n\treturn s;\n}\nvoid check_1(int u,int fa,int dep,int n)  // \u5224\u65ad\u6811\u662f\u5426\u4e3a \u5b8c\u5168\u4e8c\u53c9\u6811 \uff08 \u9ad8\u5ea6=n \uff09 \n{\n\tif((dep==n&&in[u]==1)||(dep<n&&in[u]==3));\n\telse\n\t{\n\t\ttot_1++;\n\t\treturn;\n\t}\n\tfor(int i=head[u]; i!=-1; i=a[i].next)\n\t{\n\t\tint v=a[i].to;\n\t\tif(v==fa) continue;\n\t\tcheck_1(v,u,dep+1,n);\n\t}\n}\nvoid get(int u,int fa)  // \u83b7\u5f97\u7ed3\u70b9\u7684\u9ad8\u5ea6 \n{\n\thigh[u]=0;\n\tfor(int i=head[u]; i!=-1; i=a[i].next)\n\t{\n\t\tint v=a[i].to;\n\t\tif(v==fa) continue;\n\t\tget(v,u);\n\t\thigh[u]=max(high[v],high[u]);\n\t}\n\thigh[u]++;\n}\nvoid check_2(int u,int fa,int dep,int n) // \u5224\u65ad\u5bb9\u9519\u662f\u5426\u53ea\u4e3a 1 \n{\n\tif(in[u]==1&&dep!=n) tot=10;\n\telse if(in[u]==2)\n\t{\n\t\tif(dep==n-1) h[++tot]=u;\n\t\telse tot=10;\n\t}\n\telse if(in[u]==4)\n\t{\n\t\tint son[10],s=0;\n\t\tfor(int i=head[u]; i!=-1; i=a[i].next)\n\t\t{\n\t\t\tint v=a[i].to;\n\t\t\tif(v==fa) continue;\n\t\t\tson[++s]=v;\n\t\t}\n\t\tint x=high[son[1]]+dep,y=high[son[2]]+dep,z=high[son[3]]+dep;\n\t\tif((x==n&&y==n-1&&z==n-1)||(x==n-1&&y==n&&z==n-1)||(x==n-1&&y==n-1&&z==n))\n\t\t{\n\t\t\t// \u5224\u65ad\u8fd9\u4e09\u4e2a\u513f\u5b50\u4e0b\u662f\u5426\u4e3a\u5b8c\u5168\u4e8c\u53c9\u6811 \n\t\t\tcheck_1(son[1],u,dep+1,x);\n\t\t\tcheck_1(son[2],u,dep+1,y);\n\t\t\tcheck_1(son[3],u,dep+1,z);\n\t\t\tif(tot_1) tot=10;\n\t\t\telse h[++tot]=u;\n\t\t}\n\t\telse tot=10;\n\t\treturn ;\n\t}\n\tfor(int i=head[u]; i!=-1; i=a[i].next)\n\t{\n\t\tint v=a[i].to;\n\t\tif(v==fa) continue;\n\t\tcheck_2(v,u,dep+1,n);\n\t}\n}\nint main()\n{\n\tint n,i,x,y,s,t;\n\tscanf(\"%d\",&n);\n\tmemset(head,-1,sizeof(head));\n\tfor(i=1; i<=pow(2,n)-3; i++)\n\t{\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tin[x]++,in[y]++;\n\t\tadd(x,y),add(y,x);\n\t}\n\ts=dfs(1);\n\tt=dfs(s);\n\tans++;\n\tif(ans%2)\n\t{\n\t\tans=(ans+1)/2;\n\t\tint ok=0;\n\t\tfor(i=t; i!=s; i=pre[i])  // \u83b7\u5f97\u6839 \n\t\t{\n\t\t\tok++;\n\t\t\tif(ok==ans)\n\t\t\t{\n\t\t\t\tx=i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tget(x,0);\n\t\tin[x]++;\n\t\tcheck_2(x,0,1,n);\n\t\tif(tot!=1) return puts(\"0\"),0;\n\t\tprintf(\"1\\n%d\",h[1]);\n\t}\n\telse\n\t{\n\t\tans=ans/2;\n\t\tint ok=0;\n\t\tfor(i=t; i!=s; i=pre[i]) // \u83b7\u5f97\u4e2d\u95f4\u7684\u4e24\u4e2a\u8282\u70b9 \n\t\t{\n\t\t\tok++;\n\t\t\tif(ok==ans)\n\t\t\t{\n\t\t\t\tx=i;\n\t\t\t\ty=pre[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tcheck_1(x,y,1,ans);\n\t\tcheck_1(y,x,1,ans);\n\t\tif(tot_1) return puts(\"0\"),0;\n\t\tprintf(\"2\\n%d %d\",min(x,y),max(x,y));\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1569918113,
        "uid": 55521,
        "name": "WLHW",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1228F \u3010One Node is Gone\u3011"
    },
    {
        "content": ">### [\u6d1b\u8c37\u9898\u76ee\u9875\u9762\u4f20\u9001\u95e8](https://www.luogu.org/problem/CF1228F) & [CodeForces\u9898\u76ee\u9875\u9762\u4f20\u9001\u95e8](https://codeforces.com/contest/1228/problem/F)\n\n>\u7ed9\u5b9a\u4e00\u68f5\u6811$T=(V,E),|V|=2^n-2,|E|=2^n-3$\uff0c\u8f93\u51fa\u6240\u6709\u7684$x$\uff0c\u4f7f\u5f97\u5b58\u5728\u4e00\u68f5\u6ee1\u4e8c\u53c9\u6811$T'$\uff0c\u5c06$T'$\u4e2d\u8282\u70b9$x$\u7684\u4e00\u4e2a\u513f\u5b50\u5220\u9664\u5e76\u628a\u8fd9\u4e2a\u513f\u5b50\u7684\u6240\u6709\u513f\u5b50\u63a5\u5230$x$\u4e0b\u540e\u7b49\u4e8e$T$\u3002\u5347\u5e8f\u8f93\u51fa\u3002\n\n>$n\\le17$\u3002\n\n\u9898\u76ee\u6ca1\u6709\u8bf4\u4ee5\u54ea\u4e2a\u70b9\u4e3a\u6839\uff0c\u4e5f\u5c31\u662f\u6bcf\u4e2a\u70b9\u90fd\u6709\u53ef\u80fd\u662f\u6839\uff0c\u5f88\u81ea\u7136\u5730\u60f3\u5230\u53ef\u4ee5\u4e8c\u6b21\u626b\u63cf\u4e0e\u6362\u6839\u3002\u5148\u8003\u8651\u9009\u4e00\u4e2a\u70b9\u4f5c\u4e3a\u6839\uff0c\u90a3\u663e\u7136\u6ee1\u8db3\u6761\u4ef6\u7684\u6539\u8865\u7684\u8282\u70b9\u7684\u7236\u7ed3\u70b9\u6700\u591a\u6709$1$\u4e2a\u3002\u8fd9\u4e2a\u7236\u7ed3\u70b9\u53ef\u4ee5DP\u51fa\u6765\u3002\n\n\u6211\u4eec\u5c06\u4e00\u4e2a\u5b50\u6811\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n1. \u662f\u4e00\u68f5\u6ee1\u4e8c\u53c9\u6811\u3002\u8bbe\u5b83\u7684\u6df1\u5ea6\u4e3a$d$\uff0c\u5219\u8bb0\u8fd9\u9897\u5b50\u6811\u7684\u7279\u5f81\u4e3a\u6709\u5e8f\u5bf9$(0,d)$\u3002\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u5f53\u4e14\u4ec5\u5f53\u5b83\u6709$2$\u68f5\u5b50\u6811\u5e76\u4e14\u90fd\u662f\u77ee$1$\u5c42\u7684\u6ee1\u4e8c\u53c9\u6811\u3002\u7279\u6b8a\u5730\uff0c\u5982\u679c\u5b83\u7684\u5927\u5c0f\u4e3a$1$\uff0c\u5219\u5b83\u7684\u7279\u5f81\u4e3a$(0,1)$\uff1b\n2. \u8fd8\u539f\u4e00\u4e2a\u8282\u70b9\u4e4b\u540e\u4e3a\u6ee1\u4e8c\u53c9\u6811\u3002\u8bbe\u8fd8\u539f\u4e4b\u540e\u7684\u6df1\u5ea6\u4e3a$d$\uff0c\u8865\u7684\u8282\u70b9\u7684\u7236\u7ed3\u70b9\u4e3a$x$\uff0c\u5219\u8bb0\u8fd9\u68f5\u5b50\u6811\u7684\u7279\u5f81\u4e3a\u6709\u5e8f\u5bf9$(x,d)$\u3002\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u5f53\u4e14\u4ec5\u5f53\u4ee5\u4e0b\u4efb\u610f\u4e00\u4e2a\u6761\u4ef6\u4e3a\u771f\uff1a\n\n   1. \u5b83\u7684\u6839\u4e3a$x$\uff0c\u6709$1$\u68f5\u5b50\u6811\u5e76\u4e14\u8fd9\u68f5\u5b50\u6811\u5927\u5c0f\u4e3a$1$\uff0c\u6b64\u65f6\u5e94\u5c06\u6539\u8865\u7684\u8282\u70b9\u76f4\u63a5\u8865\u5728$x$\u4e0b\uff1b\n   2. \u5b83\u7684\u6839\u4e3a$x$\uff0c\u6709$3$\u68f5\u5b50\u6811\u5e76\u4e14\u5176\u4e2d$1$\u68f5\u4e3a\u77ee$1$\u5c42\u7684\u6ee1\u4e8c\u53c9\u6811\uff0c\u53e6$2$\u68f5\u4e3a\u77ee$2$\u5c42\u7684\u6ee1\u4e8c\u53c9\u6811\uff0c\u6b64\u65f6\u5e94\u5c06\u6539\u8865\u7684\u8282\u70b9\u8865\u5728$x$\u4e0b\u5e76\u5c06$2$\u68f5\u77ee$2$\u5c42\u7684\u5b57\u6811\u63a5\u5728\u6539\u8865\u7684\u8282\u70b9\u4e0b\uff1b\n   3. \u5b83\u6709$2$\u68f5\u5b50\u6811\u5e76\u4e14\u4e00\u68f5\u4e3a\u77ee$1$\u5c42\u7684\u6ee1\u4e8c\u53c9\u6811\uff0c\u53e6\u4e00\u9897\u8865\u4e00\u4e2a\u7236\u7ed3\u70b9\u4e3a$x$\u7684\u8282\u70b9\u4e4b\u540e\u4e3a\u77ee$1$\u5c42\u7684\u6ee1\u4e8c\u53c9\u6811\uff1b\n3. \u4e0d\u7ba1\u8865\u4e0d\u8865\u8282\u70b9\u90fd\u4e0d\u80fd\u6210\u4e3a\u6ee1\u4e8c\u53c9\u6811\u3002\u8bb0\u5b83\u7684\u7279\u5f81\u4e3a\u6709\u5e8f\u5bf9$(-1,-1)$\u3002\u663e\u7136\uff0c\u4e0d\u6ee1\u8db3$1,2$\u5219\u4e3a\u6b64\u79cd\u60c5\u51b5\u3002\n\n\u8bbe$dp_i$\u4e3a\u4ee5$1$\u4e3a\u6839\u65f6\u4ee5$i$\u4e3a\u6839\u7684\u5b50\u6811\u7684\u7279\u5f81\uff0c\u5219\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u662f\uff08\u592a\u2642\u96be\u5199\u5df2\u9690\u85cf\uff09\u3002\u8fd9\u6837\u4e00\u904d$\\mathrm O(2^n)$DFS\u5219\u53ef\u6c42\u51fa\u6240\u6709\u8282\u70b9\u7684DP\u503c\u3002\u800c\u6211\u4eec\u5e0c\u671b\u627e\u5230\u6240\u6709\u8282\u70b9\u4e3a\u6839\u65f6\u7684\u6839\u8282\u70b9DP\u503c\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u4e8c\u6b21\u626b\u63cf\u4e0e\u6362\u6839\uff0c\u5373\u518d\u4e00\u904dDFS\u3002\u6bcf\u5230\u8fbe\u4e00\u4e2a\u8282\u70b9$x$\u65f6\uff0c\u76ee\u524d\u6240\u6709\u8282\u70b9\u7684DP\u503c\u5747\u662f\u4ee5$x$\u4e3a\u6574\u68f5\u6811\u7684\u6839\u7684\uff0c\u6240\u4ee5\u82e5$dp_x=(y,n)(y>0)$\uff0c\u5c31\u5c06$y$\u52a0\u5165\u7b54\u6848\u5e8f\u5217\u3002\u90a3\u4e48\u6b64\u65f6\u82e5\u8981\u5c06\u5b83\u7684\u67d0\u4e2a\u513f\u5b50$s$\u6539\u4e3a\u6839\uff0c\u90a3\u4e48\u6539\u53d8\u7684\u53ea\u6709$dp_x$\u548c$dp_s$\u3002\u6211\u4eec\u53ef\u4ee5\u6539\u4e00\u4e0b\u5b83\u4eec\u7684\u513f\u5b50\u96c6\u5408\uff08\u6d89\u53ca\u6dfb\u52a0\u548c\u5220\u9664\uff0c\u7528`set`\u8f83\u4e3a\u65b9\u4fbf\uff09\uff0c\u91cd\u65b0\u7b97DP\u503c\uff0c\u7136\u540e\u518dDFS\u5230$s$\uff0c\u6b64\u65f6\u6574\u68f5\u6811\u7684\u6839\u4e3a$s$\u4e86\u3002\u4ece$s$\u56de\u6eaf\u65f6\uff0c\u518d\u8fd8\u539f$x$\u548c$s$\u7684\u513f\u5b50\u96c6\u5408\u548cDP\u503c\uff0c\u53bb\u627e\u522b\u7684\u513f\u5b50\u5373\u53ef\u3002\u7531\u4e8e\u6362\u6839\u64cd\u4f5c\u53ea\u9700\u8981\u6539\u53d8$2$\u4e2a\u8282\u70b9\u7684\u4fe1\u606f\uff0c\u6240\u4ee5\u590d\u6742\u5ea6\u662f\u6709\u4fdd\u8bc1\u7684\uff0c\u4e00\u5171$\\mathrm O(2^n\\log_22^n)=\\mathrm O(2^nn)$\uff08$\\log$\u662f`set`\uff09\u3002\n\n\u4e0b\u9762\u8d34\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define pb push_back\n#define mp make_pair\n#define X first\n#define Y second\nconst int N=17;\nint n;\nvector<int> nei[1<<N];//\u90bb\u63a5\u8868 \nset<int> son[1<<N];//\u513f\u5b50\u96c6\u5408\nvoid dfs(int x=1,int fa=0){//\u6c42\u51fa\u6240\u6709\u8282\u70b9\u7684\u513f\u5b50\u96c6\u5408 \n\tfor(int i=0;i<nei[x].size();i++){\n\t\tint y=nei[x][i];\n\t\tif(y==fa)continue;\n\t\tson[x].insert(y);\n\t\tdfs(y,x);\n\t}\n}\npair<int,int> f[1<<N];//DP\u503c\uff0c\u5373\u4ee5[1]\u4e3a\u6839\u7684\u5b50\u6811\u7684\u7279\u5f81 \nvoid calc_f(int x){//\u901a\u8fc7\u513f\u5b50\u96c6\u5408\u8ba1\u7b97DP\u503c\uff0c\u5373\u90a3\u4e2a\u96be\u5199\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b \n\tif(son[x].size()==0)f[x]=mp(0,1);\n\telse if(son[x].size()==1)f[x]=f[*son[x].begin()]==mp(0,1)?mp(x,2):mp(-1,-1);\n\telse if(son[x].size()==2){\n\t\tpair<int,int> x1=f[*son[x].begin()],x2=f[*++son[x].begin()];\n\t\tif(x1>x2)swap(x1,x2);\n\t\tif(!x1.X&&!x2.X)f[x]=x1.Y==x2.Y?mp(0,x1.Y+1):mp(-1,-1);\n\t\telse if(!x1.X&&x2.X>0)f[x]=x1.Y==x2.Y?mp(x2.X,x1.Y+1):mp(-1,-1);\n\t\telse f[x]=mp(-1,-1);\n\t}\n\telse if(son[x].size()==3){\n\t\tpair<int,int> x1=f[*son[x].begin()],x2=f[*++son[x].begin()],x3=f[*++ ++son[x].begin()];\n\t\tif(x1>x2)swap(x1,x2);if(x2>x3)swap(x2,x3);if(x1>x2)swap(x1,x2);\n\t\tif(!x1.X&&!x2.X&&!x3.X)f[x]=x1.Y==x2.Y&&x2.Y+1==x3.Y?mp(x,x3.Y+1):mp(-1,-1);\n\t\telse f[x]=mp(-1,-1);\n\t}\n\telse f[x]=mp(-1,-1);\n//\tprintf(\"f[%d]=(%d,%d)\\n\",x,f[x].X,f[x].Y);\n}\nvoid dp(int x=1,int fa=0){//\u4e00\u904dDFS\u6c42\u51fa\u4ee51\u4e3a\u6574\u68f5\u6811\u7684\u6839\u65f6\u7684DP\u6570\u7ec4 \n\tfor(int i=0;i<nei[x].size();i++){\n\t\tint y=nei[x][i];\n\t\tif(y==fa)continue;\n\t\tdp(y,x);\n\t}\n\tcalc_f(x);\n}\nvector<int> ans;//\u7b54\u6848\u5e8f\u5217 \nvoid dfs0(int x=1,int fa=0){//\u4e8c\u6b21\u626b\u63cf \n\tif(f[x].X>0)ans.pb(f[x].X);//\u52a0\u5165\u7b54\u6848\u5e8f\u5217 \n\tfor(int i=0;i<nei[x].size();i++){\n\t\tint y=nei[x][i];\n\t\tif(y==fa)continue;\n\t\tson[x].erase(y);son[y].insert(x);calc_f(x);calc_f(y);//\u6539\u53d8\u513f\u5b50\u96c6\u5408\uff0c\u91cd\u65b0\u7b97DP\u503c \n\t\tdfs0(y,x);\n\t\tson[x].insert(y);son[y].erase(x);calc_f(y);calc_f(x);//\u8fd8\u539f \n\t}\n}\nint main(){\n\tcin>>n;\n\tfor(int i=1;i<=(1<<n)-3;i++){\n\t\tint x,y;\n\t\tcin>>x>>y;\n\t\tnei[x].pb(y);nei[y].pb(x);\n\t}\n\tdfs(); \n\tdp();\n\tdfs0();\n\tcout<<ans.size()<<\"\\n\";\n\tsort(ans.begin(),ans.end());\n\tfor(int i=0;i<ans.size();i++)cout<<ans[i]<<\" \";\n\treturn 0;\n}\n```",
        "postTime": 1570988515,
        "uid": 138400,
        "name": "chenxia25",
        "ccfLevel": 9,
        "title": "CodeForces 1228F - One Node is Gone"
    },
    {
        "content": "\u9996\u5148\uff0c\u6ce8\u610f\u5230n>=3\u65f6\uff0c\u53ea\u6709\u6811\u7684\u91cd\u5fc3\u6709\u53ef\u80fd\u4f5c\u4e3a\u539f\u6811\u7684\u6839\n\n\u56e0\u4e3a\u6811\u7684\u91cd\u5fc3\u6700\u591a\u6709\u4e24\u4e2a\uff0c\u6240\u4ee5\u53ef\u4ee5\u679a\u4e3e\u6839\n\n\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u65b9\u4fbf\u5730\u627e\u5230\u54ea\u4e9b\u70b9\u6709\u53ef\u80fd\u662f\u88ab\u5220\u70b9\u7684\u7236\u8282\u70b9\uff0c\u5177\u4f53\u6709\u4ee5\u4e0b3\u79cd\u60c5\u51b5\uff1a\n\n1.\u6839\u7684\u5ea6\u6570\u4e3a3\uff08\u5220\u7684\u662f\u6839\u7684\u5b50\u8282\u70b9\uff09\n\n2.\u8282\u70b9\u5ea6\u6570\u4e3a4\uff08\u5220\u7684\u662f\u975e\u6839\u975e\u53f6\u8282\u70b9\uff09\n\n3.\u8282\u70b9\u5ea6\u6570\u4e3a1\uff08\u5220\u7684\u662f\u53f6\u8282\u70b9\uff09\n\n\u627e\u5230\u8fd9\u4e2a\"\u53ef\u80fd\u8282\u70b9\u540e\"\uff0c\u6211\u7684\u505a\u6cd5\u662f\u901a\u8fc7\u66b4\u529b\u6a21\u62df\u51fa\u586b\u4e0a\u4e00\u4e2a\u8282\u70b9\u540e\u6811\u7684\u5f62\u6001\u5224\u65ad\u662f\u5426\u5408\u6cd5\n\n\u5f53n=2\u65f6\uff0c\u56e0\u4e3a\u6570\u636e\u53ea\u6709\u4e00\u79cd\uff0c\u7279\u5224\u5373\u53ef\n\n\u6bd4\u8d5b\u65f6\u80e1\u4e71\u5199\u7684\u4ee3\u7801\u7801\u98ce\u6bd4\u8f83\u70c2\uff0c\u8bf7\u89c1\u8c05\n\n```cpp\n//ios::sync_with_stdio(false);\n#include<bits/stdc++.h>\n#define LL long long\n#define F(x,y,z) for(int x=y;x<=z;++x)\n#define D(x,y,z) for(int x=y;x>=z;--x)\nusing namespace std;\nconst int N=151000;\nLL Min(LL x,LL y){return x<y?x:y;}\nLL Max(LL x,LL y){return x>y?x:y;}\nLL R(){\n    LL ans=0,f=1;char c=getchar();\n    for(;c<'0'||c>'9';c=getchar()) if (c=='-') f=-1;\n    for(;c>='0'&&c<='9';c=getchar()) ans=ans*10+c-'0';\n    return ans*f;\n}\nint n,m,siz[N],ms[N],mi,dep[N],nn;\nint ok[N],fa[N],siz2[N];\nvector<int> v[N],vv,v2[N];\nvoid dfs(int u,int ff){\n\tsiz[u]=1;\n\tfor(auto to:v[u])\n\t\tif(to!=ff){\n\t\tdfs(to,u);\n\t\tms[u]=max(ms[u],siz[to]);\n\t\tsiz[u]+=siz[to];\n\t}\n\tms[u]=max(ms[u],nn-siz[u]);\n}\nvoid dfs2(int u,int ff){\n\tfa[u]=ff;\n\tsiz2[u]=1;\n\tfor(auto to:v[u])if(to!=ff){\n\t\tdep[to]=dep[u]+1;\n\t\tdfs2(to,u);\n\t\tsiz2[u]+=siz2[to];\n\t}\n}\nvoid dfs3(int u,int ff){\n\tdep[u]++;\n\tfor(auto to:v[u])if(to!=ff){\n\t\tdfs3(to,u);\n\t}\n}\nvoid Sol(int rt){\n\tif(v[rt].size()!=2&&v[rt].size()!=3)return;\n\tmemset(dep,0,sizeof(dep));\n\tmemset(fa,0,sizeof(fa));\n\tmemset(siz2,0,sizeof(siz2));\n\tdep[rt]=1;\n\tdfs2(rt,0);\n\tint cnt=0,now=-1;\n\tif(v[rt].size()==3)cnt=1,now=rt;\n\tF(i,1,nn){\n\t\tif(i==rt)continue;\n\t\tif(v[i].size()==1)continue;\n\t\tif(v[i].size()==2)++cnt,now=i;\n\t\tif(v[i].size()==4)++cnt,now=i;\n\t}\n\tif(cnt!=1)return;\n\tint cc=0;\n\tfor(auto to:v[now]){\n\t\tif(to==fa[now])continue;\n\t\tif(siz2[to]==ok[dep[to]])continue;\n\t\t++cc;\n\t\tdfs3(to,now);\n\t}\n\tint u=now;\n\twhile(u)siz2[u]++,u=fa[u];\n\tif(cc!=0&&cc!=2)return;\n\tF(i,1,nn)if(ok[dep[i]]!=siz2[i])return;\n\tvv.push_back(now);\n}\nint main(){\n\t\n\tn=R();m=(1<<n)-3;nn=(1<<n)-2;\n\tF(i,1,n)ok[i]=(1<<(n-i+1))-1;\n\tif(n==2){\n\t\tprintf(\"2\\n1 2\\n\");\n\t\treturn 0;\n\t}\n\tF(i,1,m){\n\t\tint x=R(),y=R();\n\t\tv[x].push_back(y);\n\t\tv[y].push_back(x);\n\t}\n\tdfs(1,0);\n\tmi=nn+1;\n\tF(i,1,nn)mi=min(mi,ms[i]);\n\tF(i,1,nn)if(mi==ms[i])Sol(i);\n\tcout<<vv.size()<<'\\n';\n\tsort(vv.begin(),vv.end());\n\tfor(auto i:vv)cout<<i<<' ';\n\tcout<<'\\n';\n    return 0;\n}\n```",
        "postTime": 1569894310,
        "uid": 52765,
        "name": "ReseeCher",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF1228F \u3010One Node is Gone\u3011"
    }
]