[
    {
        "content": "\u7b97\u6cd5\uff1a\u88f8\u6570\u4f4ddp\n\n\u4e00\u822c\u5730\uff0c\u6570\u4f4ddp\u53ef\u4ee5\u7528\u6765\u89e3\u51b3\u4e0b\u9762\u7684\u95ee\u9898\uff1a\n\u7ed9\u5b9a\u4e00\u4e2a\u7ed3\u679c\u4e3abool\u7c7b\u578b\u7684\u51fd\u6570f(x)\uff0c\u6c42$[L,R]$\u5185\u6709\u591a\u5c11\u4e2a\u6570\u6ee1\u8db3$f(x)$\u662f\u771f\u3002\u5176\u4e2d\u4e00\u822c$L,R<=1e7$\u6216\u66f4\u5927\uff0c\u4e14f(x)\u4e0e\u6570\u4f4d\u76f8\u5173\u3002\n\n\u672c\u9898\u4e2d\uff0c\u7528$dp[i][j]$\u4ee3\u8868\u8003\u8651\u524di\u4e2a\u6570\u4f4d\uff0c\u5f53\u524di\u4f4d\u4e2d\u6709j\u4e2a\u975e\u96f6\u6570\u4f4d\u65f6\uff0c\u6709\u591a\u5c11\u4e2a\u6570\u6ee1\u8db3\u6761\u4ef6\u3002\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u5f88\u5bb9\u6613\u5904\u7406$[1,pow(10,t)]$\u4e2d\u7684\u7b54\u6848\u3002\n\n\u73b0\u5728\u5047\u8bbe\u6211\u4eec\u9700\u8981\u6c42$[1,3812]$\u7684\u7b54\u6848\u3002\u5f53\u6211\u4eec\u4ece\u7b2c\u4e00\u4f4d\u5f00\u59cbdfs\u65f6\uff0c\u4ece0\u904d\u5386\u52303\uff08\u6700\u9ad8\u4f4d\u6700\u5927\u4e3a3\uff09\uff0c\u5982\u679c\u7b2c\u4e00\u4f4d\u662f0\u62161\u62162\uff0c\u5219\u540e\u9762\u7684\u6570\u636e\u65e0\u9700\u8003\u8651\u9650\u5236\uff0c\u90fd\u53ef\u4ee5\u4ece0\u904d\u5386\u52309\u3002\u5982\u679c\u7b2c\u4e00\u4f4d\u662f3\uff0c\u5219\u7b2c\u4e8c\u4f4d\u6700\u5927\u662f8\u3002\u6211\u4eec\u4f7f\u7528\u6570\u7ec4\u4e0a\u754c\u53d8\u91cf\u4ee3\u8868\u8fd9\u4e2a\u9650\u5236\uff0c\u5982\u679c\u53d8\u91cf\u4e3a0\u4ee3\u8868\u8fd9\u4e00\u4f4d\u65e0\u9700\u8003\u8651\u9650\u5236\uff0c\u5426\u5219\u4ee3\u8868\u8fd9\u4e00\u4f4d\u9700\u8981\u8003\u8651\u9650\u5236\u3002\n\n\u5177\u4f53\u6ce8\u91ca\u89c1\u4ee3\u7801\u3002\n\n```\n#include <iostream>\n#include <cstring>\nusing namespace std;\n\ntypedef long long ll;//\u6570\u4f4ddp\u7684\u9898\u76ee\u4e00\u822c\u90fd\u9700\u8981long long\n\nll a[20]; //\u4ee3\u8868\u5f53\u524d\u5904\u7406\u7684\u533a\u95f4\u7684\u4e0a\u754c\u7684\u5404\u4e2a\u6570\u4f4d\u7684\u503c\uff0c\u4e5f\u5c31\u662f\u8bf4\u53d6\u503c\u5728[0,9]\u4e4b\u95f4\nll dp[20][5]; //dp\u6570\u7ec4\uff0c\u8bb0\u5fc6\u5316\u641c\u7d22\n\nll dfs(ll pos/*\u5f53\u524d\u5904\u7406\u5230\u7b2cpos\u4f4d*/, ll st/*\u5f53\u524d\u6709\u591a\u5c11\u4e2a\u975e\u96f6\u4f4d*/, bool limit/*\u4ee3\u8868\u6570\u7ec4\u4e0a\u754c\u53d8\u91cf*/) //\u7528dfs\u8fdb\u884c\u8bb0\u5fc6\u5316\u641c\u7d22\n{\n\tif(pos==-1) return 1; //\u5982\u679cdp\u5b8c\u6bcf\u4e00\u4f4d\uff0c\u5219\u8fd9\u4e2a\u6570\u6210\u7acb\u3002\u6211\u7684\u7a0b\u5e8f\u6700\u5c0f\u4f4d\u7f16\u53f7\u4e3a0\n\tif(!limit && dp[pos][st]!=-1) return dp[pos][st]; //\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u5982\u679c\u65e0\u9700\u8003\u8651\u9650\u5236\uff0c\u4e4b\u524d\u53c8\u7b97\u8fc7\uff0c\u5219\u76f4\u63a5\u8fd4\u56de\u7b54\u6848\n\tll up=limit?a[pos]:9; //\u4ee3\u8868\u8fd9\u4f4d\u7684\u6700\u5927\u503c\u662f\u591a\u5c11\n\tll ans=0; //\u8fd9\u4e00\u4f4d\u7684\u7b54\u6848\n\tfor(ll i=0;i<=up;i++)\n\t{\n\t\tif(i==0) ans+=dfs(pos-1,st,limit&&a[pos]==i); //\u5982\u679c\u8fd9\u4f4d\u662f\u96f6\uff0c\u5219st\u65e0\u9700\u52a01\n\t\telse if(st!=3) ans+=dfs(pos-1,st+1,limit&&a[pos]==i);\n    }\n    if(!limit) dp[pos][st]=ans; //\u8bb0\u5fc6\u5316\u641c\u7d22\n    return ans;\n}\n\nll solve(ll x) //\u8ba1\u7b97[1,x]\u7684\u7b54\u6848\n{\n\tll tot=0;\n    //\u5904\u7406\u51fa\u6bcf\u4e00\u4f4d\n\twhile(x>0)\n\t{\n\t\ta[tot++]=x%10;\n\t\tx/=10;\n    }\n    return dfs(tot-1,0,true);\n}\n\nint main()\n{\n\tmemset(dp,-1,sizeof(dp));\n\tll T; \n\tcin>>T;\n\twhile(T--)\n\t{\n\t\tll l,r;\n\t\tcin>>l>>r;\n\t\tcout<<solve(r)-solve(l-1)<<endl;\n        //\u7a0b\u5e8f\u5176\u5b9e\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u628a\u96f6\u7b97\u5230\u4e86\u7b54\u6848\u91cc\u9762\u3002\u4f46\u662fsolve(r)\u4e0esolve(l-1)\u90fd\u6bd4\u6b63\u786e\u7ed3\u679c\u5927\u4e861\uff0c\u7b97\u51fa\u6765\u7684\u6700\u7ec8\u7b54\u6848\u8fd8\u662f\u6b63\u786e\u7684\u3002\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1536826491,
        "uid": 38212,
        "name": "mydiplomacy",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1036C \u3010Classy Numbers\u3011"
    },
    {
        "content": "\u6570\u4f4dDP\u3002\u7528dp[cnt][pos]\u8868\u793a\u5f53\u524d\u4f4dpos(\u52a0\u4e0a\u9650\u5236\u540e)\u3001\u51fa\u73b0\u8fc7cnt\u4e2a\u975e0\u6570\u3001\u7684\u4e2a\u6570\u3002\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<queue>\n#include<vector>\n#include<deque>\n#include<cmath>\nusing namespace std;\ntypedef unsigned long long ll;\n\nvoid reads(ll &x){ //\u8bfb\u5165\u4f18\u5316\uff08\u6b63\u8d1f\u6574\u6570\uff09\n\tint fx=1;x=0;char s=getchar();\n\twhile(s<'0'||s>'9'){if(s=='-')fx=-1;s=getchar();}\n\twhile(s>='0'&&s<='9'){x=x*10+s-'0';s=getchar();}\n\tx*=fx; //\u6b63\u8d1f\u53f7\n}\n\n/*\u3010C.Classy Numbers\u3011\n\u7ed9T\u7ec4\u8be2\u95ee\uff0c\u6bcf\u7ec4\u8be2\u95ee\u6709L\u548cR\u4e24\u4e2a\u6570\uff0c\u8981\u6c42[L,R]\u533a\u95f4\u4e2d\u6709\u591a\u5c11\u4e2a\u6570\u5b57\u6ee1\u8db3\u6761\u4ef6\u3002\n\u6761\u4ef6\uff1a\u6570\u5b57\u4e2d\u6700\u591a\u542b\u67093\u4e2a\u975e0\u6570\u3002\u6bd4\u59821230,200,340\u7b49\u7b49\uff0c\u800c12345\u5219\u4e0d\u7b26\u5408\u6761\u4ef6\u3002*/\n\n/*\u3010\u5206\u6790\u3011\u6570\u4f4dDP\u3002*/\n\n\nll dp[10][25],a[25]; \n//dp[cnt][pos]\uff1a\u5f53\u524d\u4f4dpos(\u52a0\u4e0a\u9650\u5236\u540e)\u3001\u51fa\u73b0\u8fc7cnt\u4e2a\u975e0\u6570\u3001\u7684\u4e2a\u6570\n\nll dfs(ll pos,ll limit,ll cnt){ //dfs\u4e2d\u8fdb\u884c\u6570\u4f4dDP\n    if(cnt>3) return 0; //\u975e\u96f6\u6570\u5df2\u7ecf\u8d85\u8fc7\u4e86\u4e09\u4e2a\n    if(pos==-1) return 1; //\u5bfb\u627e\u5b8c\u4e86\uff08\u6ce8\u610f\u4ece\u7b2c0\u4f4d\u5f00\u59cb\uff09\n    if(!limit&&dp[cnt][pos]!=-1) return dp[cnt][pos];\n    ll tmp=0, up = limit?a[pos]:9;\n    for(int i=0;i<=up;i++)\n        tmp+=dfs(pos-1,limit&&(i==up),cnt+(i>0));\n    dp[cnt][pos]=tmp; return tmp;\n}\n\nll solve(ll maxx){ //\u4e0a\u754c\n    memset(dp,-1,sizeof(dp));\n    ll pos=0; //\u5b58\u6bcf\u4e00\u4f4d\u7684\u4e0a\u754c\u9650\u5236\n    while(maxx){ a[pos++]=maxx%10; maxx/=10; }\n    return dfs(pos-1,1,0); //\u4f4d\u6570\uff0c\u6b64\u65f6\u9876\u4f4f\u4e0a\u754c(limit\u4e3a1)\uff0c\u51fa\u73b0\u8fc7\u7684\u975e\u96f6\u6570\u4e2a\u6570\n}\n\nint main(){\n    ll T; reads(T);\n    while(T--){\n        ll l,r; reads(l),reads(r);\n        cout<<solve(r)-solve(l-1)<<endl;\n    } //\u2191\u2191\u2191\u6570\u4f4dDP\u57fa\u672c\u6027\u8d28\uff1a\u533a\u95f4\u53ef\u51cf\u6027\n    return 0;\n}\n```",
        "postTime": 1536720466,
        "uid": 69404,
        "name": "flora715",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1036C \u3010Classy Numbers\u3011"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/aday526/p/solution-cf1063c.html)\n\n## \u6570\u4f4dDP\n\n### Solution\n\n\u9996\u5148\u5c06\u8be2\u95ee $[l,r]$ \u5206\u4e3a\u4e24\u4e2a\u524d\u7f00\u548c\u76f8\u51cf $[1,r]-[1,l-1]$ \u65b9\u4fbf\u8ba1\u7b97\u3002\n\n\u8003\u8651\u4e00\u4e2a\u6570\u6210\u4e3a Classy Number \u7684\u9650\u5236\uff1a\u6570\u5b57 $1-9$ \u7684\u4e2a\u6570\uff0c\u8bb0\u4e3a $tot$\uff0c\u7136\u540e\u53ef\u4ee5\u5e26\u8fdb\u6570\u4f4dDP\u8bb0\u641c\u6a21\u677f\uff1a\n\n```cpp\nint dfs(int pos/*\u4f4d\u6570*/,int .../*\u4f20\u7684\u5404\u79cd\u9650\u5236\u548c\u53d8\u91cf*/,bool lim/*\u4e0a\u9650*/) \n{\n    if(pos==0)return 1;//\u4e00\u822c\u8fd4\u56de1\n    if(!lim&&f[pos][...]!=-1)\n    return f[pos][...];//\u641c\u8fc7\u4e14\u4e0d\u662f\u4e0a\u9650\u5c31\u8fd4\u56de\u641c\u8fc7\u7684\u7b54\u6848\n    int up=lim?a[pos]:9;//\u786e\u5b9a\u679a\u4e3e\u4e0a\u9650\n    int res=0; \n    for(int i=0;i<=up;i++)\n    {\n        if(...)//\u9650\u5236\u6761\u4ef6 \n        res+=dfs(pos-1,...,lim&&i==up);//\u5982\u679c\u672c\u4f4d\u5df2\u7ecf\u679a\u4e3e\u5230\u4e0a\u9650\u5c31\u628a\u4e0a\u9650\u5f80\u540e\u4f20 \n    } \n    if(!lim)f[pos][...]=res;//\u56e0\u4e3a\u5982\u679c\u679a\u4e3e\u5230\u4e0a\u9650\u5219\u7b54\u6848\u5e76\u4e0d\u662f\u8fd9\u4e00\u4f4d\u4e0a\u6240\u6709\u7684\u548c\uff0c\u6240\u4ee5\u5c31\u4e0d\u66f4\u65b0 \n    return res; \n}\n```\n\n\u90a3\u4e48\u51fd\u6570\u4e2d\u7684\u9650\u5236\u53d8\u91cf\u53ea\u6709 $tot$ \uff0c\u679a\u4e3e\u65f6\u5224\u65ad\u5b83\u662f\u5426\u5c0f\u4e8e $3$ \u5373\u53ef\u3002\n\n### Code\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define il inline\n#define ll long long\n#define TT template<typename T>\nnamespace io{static streambuf *inbuf=cin.rdbuf();static streambuf *outbuf=cout.rdbuf();char buf[1<<21],*p1=buf,*p2=buf;inline char gc(){return (p1==p2&&(p2=(p1=buf)+inbuf->sgetn(buf,1<<21),p1==p2)?EOF:*p1++);}inline void pc(const char x){static streambuf *outbuf=cout.rdbuf();outbuf->sputc(x);}\ninline int read(){register int _s=0,_f=1;register char _ch=gc();for(;!isdigit(_ch);_ch=gc())if(_ch=='-')_f=-1;for(;isdigit(_ch);_ch=gc())_s=_s*10+_ch-'0';return _s*_f;}TT inline void read(T &x){x=0;register int _f=1;register char _ch=gc();for(;!isdigit(_ch);_ch=gc())if(_ch=='-')_f=-1;for(;isdigit(_ch);_ch=gc())x=x*10+_ch-'0';x*=_f;}\nTT inline void write(T _x1){if(_x1<0)pc('-'),_x1=-_x1;static char _sta[20];int _p=0;do{_sta[_p++]=_x1%10^48;_x1/=10;}while(_x1);while(_p--)pc(_sta[_p]);}TT inline void writeln(const T _x){write(_x);pc(10);}TT inline void writesp(const T _x){write(_x);pc(' ');}}using namespace io;\n//io\u4f18\u5316\nll f[20][4];//f[pos][tot]\nint a[20],len;//\u5c06x\u5206\u89e3\u4e3a\u6bcf\u4e00\u4f4d\nll dfs(int pos,int tot,bool lim){\n    if(!pos)return 1;//\u679a\u4e3e\u6210\u529f\uff0c\u52a01\n    if(!lim&&f[pos][tot]!=-1)return f[pos][tot];\n    //\u53ea\u6709\u5305\u62ec\u5168\u90e8\u624d\u80fd\u76f4\u63a5\u8bb0\u5fc6\u5316\n    int up=lim?a[pos]:9;\n    ll res=0;\n    for(int i=0;i<=up;i++){\n        if(i&&tot==3)continue;//tot\u4e0d\u80fd\u8d85\u8fc73\n        res+=dfs(pos-1,i?tot+1:tot,lim&&i==up);\n    }if(!lim)f[pos][tot]=res;\n    return res;\n}\nll solve(ll x){\n    len=0;\n    do{//\u5206\u89e3x\n        a[++len]=x%10;\n        x/=10;\n    }while(x);\n    return dfs(len,0,1);\n}\nint main(){\n    memset(f,-1,sizeof(f));\n    for(int T=read();T;T--){\n        ll l,r;read(l);read(r);\n        writeln(solve(r)-solve(l-1));\n    }\n    return 0;\n}\n```\n\n$trick:$ \u8bb0\u5fc6\u5316\u6570\u7ec4 $f$ \u53ea\u7528\u8d4b\u503c\u4e00\u6b21 $-1$ \u56e0\u4e3a\u8fd9\u4e9b\u72b6\u6001\u5728\u6240\u6709\u8be2\u95ee\u4e2d\u90fd\u9002\u7528",
        "postTime": 1606660335,
        "uid": 312393,
        "name": "ADay",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1036C \u3010Classy Numbers\u3011"
    },
    {
        "content": "\u6302\u94fe\u63a5\uff1a[DP\u5b66\u4e60\u7b14\u8bb0](https://www.luogu.org/blog/chenjinyan/DP-xue-xi-bi-ji)\n\n\n\u6570\u4f4dDP\u6b63\u5e38\u9898\u76ee\u3002(\u88f8\u9898\u3002\u56e0\u4e3a\u592a\u660e\u663e\u4e86\uff0c\u8fd9\u9053\u9898\u96be\u5ea6\u4e0b\u964d\u4e0d\u5c11)\n\n\u5728\u6570\u4f4dDP\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u5957\u6a21\u677f\uff08dfs\u8bb0\u5fc6\u5316\u505a\u6cd5\uff09\uff08\u4e09\u51fd\u6570\uff0c\u4e00\u4e2a1\u7ef4\u6570\u7ec4\uff0c\u4e00\u4e2a\u591a\u7ef4\u6570\u7ec4\uff09\n\n\u6570\u4f4dDP\u4e2d\u5fc3\u601d\u60f3\uff1a\u4ece\u6700\u9ad8\u4f4d\u5f00\u59cb\u641c\uff0c\u5224\u65ad\u6bcf\u4e00\u4e2a\u6570\u4f4d\uff0c\u4fdd\u8bc1\u6bcf\u4e00\u4f4d\u90fd\u4f1a\u88ab\u641c\u5230\u3002\n\u5982\u679c\u641c\u5230\u6700\u540e\u4e00\u4f4d\u7b26\u5408\u6761\u4ef6\uff0c\u5c31\u8fd4\u56de\u8fd9\u4e2a\u6570\u662f\u7b26\u5408\u6761\u4ef6\u7684\u3002\n\n\u56e0\u4e3a\u4ed6\u6ca1\u6709\u6bcf\u4e2a\u6570\u5b57\u90fd\u641c\u5230\uff0c\u6240\u4ee5\u5728\u6570\u91cf\u5927\u7684\u65f6\u5019\uff0c\u914d\u4e0a\u8bb0\u5fc6\u5316\uff0c\u4ed6\u7684\u6548\u7387\u662f\u5f88\u9ad8\u7684\u3002\n\nDP\u6a21\u677f\uff1a\n```cpp\n#include<iostream>\n#include<cstring>\nusing namespace std;\nint a[101],f[100];\nint dfs(int k,int ok)\n{\n\tif(k==0)return 1;//\u5f53\u641c\u7d22\u5230\u6700\u540e\u4e00\u4f4d\u65f6\u8fd4\u56de\n\tint end=ok?a[k]:9;//\u4fdd\u8bc1\u4e0d\u4f1a\u591a\u641c\uff0c\u5f53\u5b83\u5728\u9ad8\u4f4d\u65f6\u4e0d\u4f1a\u641c\u51faa[k]\n\tint s=0;\n\tif(!ok&&f[k]!=0)//\u8fd4\u56de\u8bb0\u5fc6\u5316\n\t\treturn f[k];\n\tfor(int i=0;i<=end;i++)//\u4ece0\u641c\u5230end\n\t{\n\t\tif(1)//\u6761\u4ef6 \n\t\t{\n\t\t\ts+=dfs(k-1,ok&&i==end);//\u628a\u540e\u9762\u4e00\u4f4d\u7684\u6570\u7684\u6570\u91cf\u7d2f\u52a0\u8d77\u6765\u3002\n\t\t}\n\t}\n\tf[k]=s;//\u8fdb\u884c\u8bb0\u5fc6\u5316\n\treturn s;\n}\nint chai(int n)//\u628a\u4e00\u4e2a\u6570\u62c6\u6389\uff0c\u62c6\u5230a\u6570\u7ec4\u4e2d\n{\n\tmemset(a,0,sizeof(a));\n\tmemset(f,0,sizeof(f));\n\tint i=0;\n\twhile(n!=0)\n\t{\n\t\ti++;\n\t\ta[i]=n%10;\n\t\tn/=10;\n\t}\n\treturn dfs(i,1);\n}\nint main()\n{\n\tint n,m;\n\tcin>>n>>m;\n\tcout<<chai(m)-chai(n-1)<<endl;\n\treturn 0;//\u7ed3\u675f\n}\n```\n\n\u524d\u9762\u90a3\u4e2a\u7a0b\u5e8f\u5176\u5b9e\u662f\u4e00\u4e2ab-a problem.\u5b83\u6ca1\u6709\u4efb\u4f55\u6761\u4ef6\uff0c\u628a\u641c\u5230\u7684\u6bcf\u4e00\u4e2a\u6570\u90fd\u8fd4\u56de\u4e86\u3002\n\n\u800c\u672c\u9898\u6709\u4e00\u4e2a\u9650\u5236\u6761\u4ef6\uff1a\n\n>\u5b83\u7684\u5341\u8fdb\u5236\u8868\u793a\u4e0b\u6709\u4e0d\u8d85\u8fc73\u4e2a\u6570\u5b571\u223c9\n\n\u6240\u4ee5\u8981\u5f002\u7ef4\u6570\u7ec4\u3002\uff08\u4e00\u7ef4\u4e3a\u7b2c\u51e0\u4e2a\u6570\u5b57\uff0c\u4e8c\u7ef4\u4e3a\u6709\u51e0\u4e2a\u6570\u5b57\u3002\uff09\n\n\u5f53\u8fd4\u56de\u65f6\uff0c\u4e5f\u8981\u505a\u4e00\u4e2a\u5224\u65ad\uff1a\u5f53\u975e0\u6570\u5b57\u4e2a\u6570sum<=3\u65f6\u624d\u8fd4\u56de1\uff1b\n\n\u6ce8\u610f\uff1a\u672c\u9898\u8981\u5f00long long\uff08\u5751\u4e86\u6211\u534a ~~\u79d2~~  \u5c0f\u65f6\uff09,\u8fd8\u8981\u505a\u9002\u5f53\u7684\u526a\u679d\uff08\u7b80\u5355\u7684\u526a\u679d\uff09\u3002\n\n\u6ce8\u91ca\u5728\u4ee3\u7801\u91cc\n\n```\n#include<iostream>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nlong long a[101],t[100][100],f[10];\n//long long \u6ce8\u610f\n//\u8fd9\u9053\u9898\u6761\u4ef6\u53ea\u67092\u4e2a\u30021:\u7b2c\u51e0\u4e2a2\uff1a\u6709\u51e0\u4e2a\u975e0\u6570\u5b57\nlong long dfs(int k,bool ok,int sum)\n//k\uff1a\u7b2c\u51e0\u4e2a\u6570\u5b57\u3001ok\uff1a\u662f\u5426\u5230\u8fbe\u6781\u503c\u70b9\u3001sum\uff1a\u7edf\u8ba1\u91cc\u9762\u6709\u51e0\u4e2a\u6570\u5b57\u3002\n//dfs\u51fd\u6570\n//\u7528\u4e8e\u6570\u4f4dDP,\u8bb0\u5fc6\u5316\u641c\u7d22\n{\n\tif(sum>3)return 0;;//\uff08\u7b80\u5355\u7684\uff09\u526a\u679d\uff0c\u5f53\u5df2\u7ecf\u67093\u79cd\u4ee5\u4e0a\u65f6\u662f\u4e0d\u884c\u6ef4\n\tif(k==0)//\u7ed3\u675f\u6761\u4ef6\n\t{\n\t\tif(sum<=3)//\u5982\u679c\u641c\u5230\u7684\u8fd9\u4e2a\u6570\u7b26\u5408\u9898\u76ee\u7ed9\u51fa\u7684\u6761\u4ef6\n\t\t\treturn 1;//\u8fd4\u56de\u8fd9\u4e2a\u6570\u662f\u53ef\u884c\u7684\u3002\n\t\telse\n\t\t\treturn 0;//\u8fd4\u56de\u8fd9\u4e2a\u6570\u662f\u4e0d\u53ef\u884c\u7684\u3002\n\t}\n\tint end=ok?a[k]:9;//\u5224\u65ad\u662f\u5426\u5230\u8fbe\u6781\u503c\u70b9\n\tlong long s=0;//\u6e05\u96f6\uff0c\u521d\u59cb\u5316\n\tif(!ok&&t[k][sum]!=-1)return t[k][sum];//\u8fd4\u56de\u8bb0\u5fc6\u5316\n\tfor(int i=0;i<=end;i++)//\u5728\u6bcf\u4e00\u4e2a\u6570\u4f4d\u4e0a\u4ece0\u641c\u52309\uff0c\u4fdd\u8bc1\u4e00\u4e2a\u6570\u4e0d\u591a\uff0c\u4e00\u4e2a\u6570\u4e0d\u5c11\u3002\n\t{\n\t\tint ko=0;\n\t\tif(i!=0){//\u5f53i\u4e0d\u662f0\u65f6\n\t\t\tko=1;//\u628a\u8fd9\u4e2a\u6570\u4e2a\u6570\u52a0\u4e0a\n\t\t}\n\t\ts+=dfs(k-1,(ok)&&(i==end),sum+ko);\n        //\u628a\u8fd4\u56de\u7684\u6bcf\u4e2a\u6570\u90fd\u52a0\u4e0a\uff0c\u5c31\u662f\u7edf\u8ba1\u4ee5\u641c\u5230\u7684\u8fd9\u4e2a\u6570\u4e3a\u524d\u7f00\u7684\u7b26\u5408\u6761\u4ef6\u7684\u6570\u7684\u603b\u6570\n        //\u9012\u5f52\uff0c\u641c\u7d22\u4e0b\u4e00\u4e2a\u6570\u4f4d\u76f4\u5230\u6700\u540e\u4e00\u4f4d\n\t}\n\tif(!ok)t[k][sum]=s;//\u4fdd\u5b58\u8bb0\u5fc6\u5316\n\treturn s;//\u8fd4\u56de\u4e2a\u6570\n}\nlong long chai(long long n)//\u628a\u6570\u62c6\u5f00\n{\n\t//if(n==0)return 0;\n\tmemset(a,0,sizeof(a));\n\tmemset(t,-1,sizeof(t));\n\tmemset(f,0,sizeof(f));\n    //\u521d\u59cb\u5316\uff0c\u5168\u90e8\u6e05\u7a7a\n\tint i=0;\n\twhile(n!=0)//\u628a\u6570\u62c6\u5f00\uff0c\u5b58\u5728a\u6570\u7ec4\u91cc\n\t{\n\t\ti++;\n\t\ta[i]=n%10;\n\t\tn/=10;//\u628an\u5206\u79bb\u6bcf\u4e00\u4e2a\u6570\u4f4d\uff0c\u76f4\u5230n=0\u3002\u4e00\u76f4\u628an/10\n\t}\n\treturn dfs(i,1,0);\n}\nint main()\n{\n\tint t;cin>>t;\n\tfor(int i=1;i<=t;i++)//\u8fd9\u9053\u9898\u662f\u8981\u591a\u6b21\u8f93\u5165\n\t{\n\t\tlong long n,m;//\u8fd9\u9053\u9898\u4e00\u5b9a\u8981\u5f00longlong\uff01\uff01\u4e25\u91cd\u8b66\u544a\uff01\uff01\n\t\tcin>>n>>m;\n\t\tcout<<chai(m)-chai(n-1)<<endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1563522561,
        "uid": 89445,
        "name": "\u9648\u664b\u884d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1036C \u3010Classy Numbers\u3011"
    },
    {
        "content": "\u600e\u4e48\u5404\u4f4d\u5927\u4f6c\u90fd\u5199\u7684\u662f\u6570\u4f4ddp\uff0c\u611f\u89c9\u8fd9\u9898\u6253\u8868\u5c31\u53ef\u4ee5\u65e0\u8111\u901a\u8fc7\u4e86\n\n\u9996\u5148\u662f\u751f\u6210\u6cd5\u6253\u8868\uff0c\u7136\u540e\u901a\u8fc7STL\u67e5\u627eR\u548cL\u5728\u5176\u4e2d\u7684\u4f4d\u7f6e\uff08\u751f\u6210\u6cd5\u7684\u4f18\u70b9\uff09\n\n\u5c31\u53ef\u4ee5\u901a\u8fc7\u4e86\u3002\n\n~~\u7136\u540e\u6d1b\u8c37\u6bcf\u6b21\u6211\u63d0\u4ea4\u663e\u793a\u5728cf\u4e0aac\u6d1b\u8c37\u603b\u662funknown error~~\n```cpp\n#include <cstdio>\n#include <vector>\n#include <algorithm>\n#include <iostream>\nusing namespace std;\n\nvector<long long>num;\nvoid prework(int numindex,int cntindex,long long number)\n{\n\tif(numindex==18)\n\t{\n\t\tnum.push_back(number);\n\t\treturn;\n\t}\n\t//add 0 \n\tprework(numindex+1,cntindex,number*10);\n\t//add 1-9\n\tif(cntindex<3)\n\t\tfor(int i=1;i<=9;i++)\n\t\t\tprework(numindex+1,cntindex+1,number*10+i);\n}\n\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(0);\n\tprework(0,0,0);\n\tnum.push_back(1000000000000000000);\n\tint T;\n\tcin>>T;\n\tfor(int t=1;t<=T;t++)\n\t{\n\t\tlong long L,R;\n\t\tcin>>L>>R;\n\t\tprintf(\"%d\\n\",int(upper_bound(num.begin(),num.end(),R)-lower_bound(num.begin(),num.end(),L)));\n\t}\n}\n```",
        "postTime": 1537782148,
        "uid": 22985,
        "name": "dzysc",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1036C \u3010Classy Numbers\u3011"
    },
    {
        "content": "### CF1036C Classy Numbers \u9898\u89e3\n\u94fe\u63a5\uff1a[CF1036C Classy Numbers](https://www.luogu.com.cn/problem/CF1036C)\n\n------------\n\u9898\u76ee\u5927\u610f\uff1a\u7ed9\u4f60$l,r$\uff0c\u8bf7\u4f60\u6c42\u51fa$[l,r]$\u4e2d\uff0c**\u975e\u96f6**\u6570\u4f4d$\\le3$\u7684\u6570\u5b57\u7684\u4e2a\u6570  \n\u601d\u8def\uff1a\u6570\u4f4dDP  \n\u6570\u4f4ddp\u4e00\u822c\u7528\u6765\u7edf\u8ba1\u4e00\u4e2a\u533a\u95f4$[l,r]$\u4e2d\u6ee1\u8db3\u4e00\u4e9b\u6761\u4ef6\u7684\u6570\u7684\u4e2a\u6570  \n\u6211\u4eec\u53ef\u4ee5\u5728`dfs`\u7684\u53c2\u6570\u4e2d\u6dfb\u52a0\u4e00\u4e2a`cnt`\uff0c\u7528`cnt`\u6765\u8bb0\u5f55**\u975e0\u6570\u4f4d**\u7684\u4e2a\u6570\uff0c\u82e5`cnt>3`\u5219\u76f4\u63a5\u8fd4\u56de0\u3002\uff08\u56e0\u4e3a\u5df2\u7ecf\u4e0d\u6ee1\u8db3\u6761\u4ef6\u4e86\uff09\u5269\u4e0b\u76f4\u63a5\u7528\u666e\u901a\u7684\u6570\u4f4ddp\u5373\u53ef\u3002  \n\u8fd8\u662f\u4e00\u9053\u6bd4\u8f83\u7b80\u5355\u7684\u6570\u4f4ddp\u7684\u9898\u5427  \n\u4e0b\u9762\u653e\u4ee3\u7801\n\n------------\n```cpp\n#include <cstring>\n#include <cstdio>\nusing namespace std;\nlong long dp[20][4];\nint num[20];\nint dfs(int pos,int cnt,bool _0,bool _l)\n{\n\tif(!_0&&!_l&&dp[pos][cnt]!=-1)return dp[pos][cnt];\n\tif(cnt>3)return 0;\n\tif(pos==0)return 1;\n\tint limit=(_l?num[pos]:9);\n\tlong long ans(0);\n\tfor(int i=0;i<=limit;++i)\n\t\tans+=dfs(pos-1,cnt+(i!=0),_0&&!i,_l&&(i==num[pos]));\n\tif(!_0&&!_l)\n\t\tdp[pos][cnt]=ans;\n\treturn ans;\n} \nlong long solve(long long k)\n{\n\tint len=0;\n\twhile(k)\n\t{\n\t\tnum[++len]=k%10;\n\t\tk/=10;\n\t}\n\treturn dfs(len,0,1,1);\n}\nint main()\n{\n\tmemset(dp,-1,sizeof(dp));\n\tlong long l,r;\n\tint T;\n\tscanf(\"%d\",&T);\n\twhile(T--)\n\t{\n\t\tscanf(\"%lld%lld\",&l,&r);\n\t\tprintf(\"%lld\\n\",solve(r)-solve(l-1));\n\t}\n\treturn 0;\n}\n```\n\u6ce8\u610f\u70b9\n1. `_0`\u7528\u6765\u8868\u793a\u65b0\u6570\u7684\u524d\u5bfc0\u7684\u4e2a\u6570\n2. `_l`\u7528\u6765\u8868\u793a\u65b0\u6570\u76ee\u524d\u662f\u5426\u7b49\u4e8e\u539f\u6570\n",
        "postTime": 1604299843,
        "uid": 366338,
        "name": "fjy666",
        "ccfLevel": 0,
        "title": "CF1036C Classy Numbers \u9898\u89e3"
    },
    {
        "content": "\u770b\u4e86\u4e00\u4e0b\u5927\u5bb6\u597d\u50cf\u662f\u9012\u5f52\u641c\u7d22\u5199\u6cd5\uff0c\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cd\u975e\u9012\u5f52\u7684\u76f4\u63a5$dp$\u7684\u5199\u6cd5\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u6c42\u51fa$[0,r]$\u7684\u6570\u91cf\u548c$[0,l-1]$\u7684\u6570\u91cf\uff0c\u524d\u9879\u51cf\u53bb\u540e\u9879\u5c31\u662f\u7b54\u6848\u4e86\u3002\n\n$dp[i][j][k]$\u8868\u793a\u7b2c\u505a\u5230\u7b2c$i$\u4f4d\uff0c\u5df2\u7ecf\u9009\u51fa$j$\u4e2a\u4e0d\u4e3a$0$\u7684\u6570\u5b57\uff0c\u73b0\u5728\u662f$k$\u72b6\u6001\u7684\u65b9\u6848\u6570\u3002\n\n\u6211\u4eec\u5047\u8bbe\u73b0\u5728\u6c42$[0,a]$\u3002\n\n$k=0$\u4ee3\u8868\u6b64\u4f4d\u9009$0$,$k=1$\u4ee3\u8868\u6b64\u4f4d\u9009\u62e9$[1,9]$\u4e14\u4fdd\u8bc1\u524d\u9762\u8fd9$i$\u4e2a\u6570\u5b57\u5355\u72ec\u53d6\u4e0b\u6765\u540e\u7684\u5927\u5c0f\u5c0f\u4e8e\u6211\u4eec\u4e0a\u754c\u6570\u5b57$a$\u53d6\u51fa\u524d$i$\u4f4d\u7684\u5341\u8fdb\u5236\u6570\u7684\u5927\u5c0f\uff0c$k=2$\u4ee3\u8868\u524d$i$\u4f4d\u7684\u5341\u8fdb\u5236\u6570\u548c\u4e0a\u754c$a$\u524d$i$\u4f4d\u5b8c\u5168\u4e00\u6837\u7684\u65b9\u6848\u3002\n\n\u90a3\u4e48\u8f6c\u79fb\u5206\u4e24\u79cd\u60c5\u51b5\uff0c$a[i]=0$\u65f6\u9700\u8981\u7279\u6b8a\u8f6c\u79fb$k=0,2$\u7684\u60c5\u51b5\u3002$k=1$\u7684\u8f6c\u79fb\u662f\u901a\u7528\u7684\uff0c\u8be6\u60c5\u89c1\u4ee3\u7801\uff1a\n\n\uff08\u8bfb\u5165\u662f\u76f4\u63a5\u8bfb\u5165\u7684\u6570\u7ec4\uff0c\u7528\u7c7b\u4f3c\u5feb\u8bfb\u7684\u65b9\u5f0f\uff09\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nvoid read(int *s,int &l)\n{\n    char ch;\n    ch=getchar();\n    while(ch<'0'||ch>'9')ch=getchar();\n    while(ch>='0'&&ch<='9')l++,s[l]=ch-'0',ch=getchar();\n}\n\nint num=0;\nint maxn[22],lmax,minn[22],lmin;\n\nlong long dp[22][4][3];\n\nlong long run(int *a,int len)\n{\n    memset(dp,0,sizeof(dp));\n    dp[1][1][2]=1;\n    dp[1][1][1]=a[1]-1;\n    dp[1][0][0]=1;\n    for(int i=2;i<=len;i++)\n    {\n        if(a[i]==0){\n            for(int k=0;k<=3;k++){\n                dp[i][k][2]+=dp[i-1][k][2];\n                dp[i][k][0]+=dp[i-1][k][1];\n                dp[i][k][0]+=dp[i-1][k][0];\n            }\n        }\n        else{\n            for(int k=1;k<=3;k++)\n                dp[i][k][2]+=dp[i-1][k-1][2];\n            for(int k=0;k<=3;k++)\n                dp[i][k][0]+=(dp[i-1][k][1]+dp[i-1][k][0]+dp[i-1][k][2]);\n        }\n        for(int k=1;k<=3;k++)\n            dp[i][k][1]+=(dp[i-1][k-1][1]+dp[i-1][k-1][0])*9+(dp[i-1][k-1][2])*max(a[i]-1,0);\n    }\n    long long ans=0;\n    for(int k=0;k<=3;k++)\n        for(int j=0;j<=2;j++)\n            ans+=dp[len][k][j];\n    return ans;\n}\n\nint main()\n{\n    int t;\n    scanf(\"%d\",&t);\n    while(t--){\n        num=0;\n        lmax=lmin=0;\n        read(minn,lmin);\n        for(int i=1;i<=lmin;i++)\n            if(minn[i]!=0)num++;\n        read(maxn,lmax);\n        long long ans=run(maxn,lmax)-run(minn,lmin);\n        if(num<4)ans++;\n        printf(\"%lld\\n\",ans);\n    }\n    return 0;\n}\n\n```\n",
        "postTime": 1569838621,
        "uid": 34663,
        "name": "redegg",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1036C \u3010Classy Numbers\u3011"
    },
    {
        "content": "### \u9898\u610f\n\u95ee\u4ece $l$ \u5230 $r$ \u6709\u591a\u5c11\u4e2a\u6570\u7684\u5341\u8fdb\u5236\u8868\u793a\u6709\u4e0d\u8d85\u8fc7 $3$ \u4e2a\u975e\u96f6\u4f4d\u3002\n### \u5206\u6790\n\u4e00\u9053\u6570\u4f4d dp \u7684\u6a21\u677f\u9898\u3002\u4ece\u540e\u5411\u524d\u679a\u4e3e\u6bcf\u4e00\u4f4d\uff0c\u5982\u679c\u8fd9\u4e00\u4f4d\u653e $0$ \uff0c\u5c31\u4ece\u524d\u4e00\u4f4d\u3001\u975e\u96f6\u4f4d\u4e2a\u6570\u76f8\u540c\u8f6c\u79fb\uff0c\u5426\u5219\u4ece\u524d\u4e00\u4f4d\uff0c\u975e\u96f6\u4f4d\u4e2a\u6570 $+1$ \u8f6c\u79fb\u3002\n### \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n#define mem(a,b) memset(a,b,sizeof(a));\n#define elif else if\nusing namespace std;\ntypedef long long ll;\nll T,l,r,dp[27][7];\nvector<int>a;\nll dfs(int pos,int cnt,bool limit)\n{\n    if(pos==-1) return 1; //\u679a\u4e3e\u5230\u5934\u4e86\n    if(!limit&&dp[pos][cnt]!=-1) return dp[pos][cnt]; //\u5982\u679c\u4e4b\u524d\u5df2\u7ecf\u5f97\u51fa\u7b54\u6848\u4e86\n    ll ans=0;\n    int up=limit?a[pos]:9; //\u5982\u679c\u4e4b\u524d\u653e\u6ee1\u4e86\uff0c\u8fd9\u4e00\u4f4d\u5c31\u53ea\u80fd\u679a\u4e3e\u5230a[pos]\uff0c\u5426\u5219\u80fd\u679a\u4e3e\u52309\n    for(int i=0;i<=up;i++)\n    {\n        if(i==0)\n        {\n            ans+=dfs(pos-1,cnt,limit&&i==a[pos]); //\u5982\u679c\u8fd9\u4e00\u4f4d\u653e0\uff0c\u5c31\u4ece\u524d\u4e00\u4f4d\u3001\u975e\u96f6\u4f4d\u4e2a\u6570\u76f8\u540c\u8f6c\u79fb\n        }\n        elif(cnt<3) ans+=dfs(pos-1,cnt+1,limit&&i==a[pos]); //\u5982\u679c\u4e0d\u653e0\uff0c\u5c31\u4ece\u524d\u4e00\u4f4d\uff0c\u975e\u96f6\u4f4d\u4e2a\u6570+1\u8f6c\u79fb\n    }\n    return limit?ans:dp[pos][cnt]=ans; \n}\nll solve(ll x)\n{\n    a.clear();\n    int pos=0;\n    while(x) //\u62c6\u4f4d\n    {\n        a.push_back(x%10);\n        x/=10;\n        pos++;\n    }\n    return dfs(a.size()-1,0,true); //\u4ece\u540e\u5411\u524d\u679a\u4e3e\n}\nint main()\n{\n    scanf(\"%lld\",&T);\n    mem(dp,-1); //\u8d4b\u4e00\u4e0b\u521d\u59cb\u503c\uff0c\u65b9\u4fbf\u8bb0\u5fc6\u5316\n    while(T--)\n    {\n        scanf(\"%lld%lld\",&l,&r);\n        printf(\"%lld\\n\",solve(r)-solve(l-1));\n    }\n    return 0;\n}\n```\n",
        "postTime": 1623673930,
        "uid": 225991,
        "name": "_lxy_",
        "ccfLevel": 6,
        "title": "CF1036C Classy Numbers \u9898\u89e3"
    }
]