[
    {
        "content": "# \u5927 \u6a21 \u62df\n\n~~$20min$\u60f3\u51fa\u4e86\u6b63\u89e3\u601d\u8def\uff0c\u4f46\u662f\u4ee3\u7801\u8c03\u4e86$1h$~~\n\n## \u601d\u8def\n\u5176\u5b9e\u6211\u7684\u601d\u8def\u5f88\u7b80\u5355\uff0c\u4e5f\u5f88\u5bb9\u6613\u60f3\u5230\u3002\u9898\u76ee\u8981\u6c42\u6211\u4eec\u66f4\u6539$m*n$\u6b21\u5c06\u6240\u6709\u7684$1$\u6539\u6210$0$\uff0c\u7136\u540e\u6211\u4eec\u53c8\u53d1\u73b0\u4e00\u5171\u6709$m*n$\u4e2a\u70b9\uff0c\u90a3\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4fdd\u8bc1\u6ca1\u4e00\u6b21\u66f4\u6539\u90fd\u80fd\u5c06\u4e00\u4e2a$0$\u6539\u6210$1$\uff0c\u5e76\u4e14\u4e0d\u5bf9\u524d\u9762\u5df2\u7ecf\u6539\u6210$0$\u7684\u6570\u9020\u6210\u5f71\u54cd\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u4e86\u3002\n\n\u9996\u5148\u524d\u9762\u7684$n-2$\u884c\u662f\u4e0d\u9700\u8981\u8003\u8651\u4e0b\u9762\u4e00\u884c\u662f\u4ec0\u4e48\u7684\uff0c\u76f4\u63a5\u6539\u5c31\u884c\uff0c\u6bcf\u6b21\u64cd\u4f5c\u53ea\u8981\u4e0d\u5c06\u524d\u9762\u7684$0$\u518d\u6539\u56de$1$\uff0c\u968f\u4fbf\u64cd\u4f5c\u90fd\u53ef\u4ee5\u3002\u90a3\u4e48\u601d\u8def\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u53ea\u8981\u662f$1$\u5c31\u5c06\u4ee5\u8fd9\u4e2a\u70b9\u4e3a\u5de6\u4e0a\u89d2\u7684\u6b63\u65b9\u5f62\u64cd\u4f5c\u4e00\u6ce2\uff0c\u53ea\u8981\u628a\u8fd9\u4e2a\u70b9\u53d6\u53cd\uff0c\u5269\u4e0b\u7684\u70b9\u65e0\u6240\u8c13\uff0c\u56e0\u4e3a\u4e0d\u7ba1\u600e\u4e48\u6837\u6700\u540e\u4f60\u8fd8\u662f\u8981\u53bb\u5355\u72ec\u5904\u7406\u90a3\u4e00\u4e2a\u70b9\uff0c\u6240\u4ee5\u4e0d\u7528\u7ba1\u540e\u9762\u70b9\u7684\u6b7b\u6d3b\uff0c\u53ea\u9700\u8981\u4fdd\u8bc1\u6bcf\u4e00\u6b21\u64cd\u4f5c\u90fd\u628a\u4e00\u4e2a\u70b9\u6539\u6210$0$\u5373\u53ef\u3002\n\n\u7136\u540e\u5230\u4e86$n-1$\u884c\uff0c\u56e0\u4e3a\u6700\u540e\u4e00\u884c\u662f\u4e0d\u80fd\u5355\u72ec\u64cd\u4f5c\u7684\uff0c\u6240\u4ee5\u8981\u628a\u4e24\u884c\u5e76\u8d77\u6765\u64cd\u4f5c\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u4e00\u5217\u4e00\u5217\u679a\u4e3e\uff0c\u4e24\u4e2a\u4e00\u8d77\u6539\uff0c\u7136\u540e\u6539\u5230\u6700\u540e\u4e00\u4e2a\u6b63\u65b9\u5f62\uff0c\u4e5f\u5c31\u662f\u4ee5$(n-1,m-1)$\u4e3a\u5de6\u4e0a\u89d2\u5750\u6807\u7684\u6b63\u65b9\u5f62\uff0c\u56e0\u4e3a\u8fd9\u662f\u6700\u540e\u4e00\u4e2a\u6b63\u65b9\u5f62\u4e86\uff0c\u6211\u4eec\u4e0d\u80fd\u518d\u4e0d\u987e\u540e\u9762\u70b9\u7684\u6b7b\u6d3b\u4e86\uff0c\u6240\u4ee5\u8bf4\u8981\u6574\u4f53\u6539\u3002\u624b\u73a9\u4e4b\u540e\u53d1\u73b0\uff0c\u6700\u5dee\u7684\u60c5\u51b5\u662f\u6b63\u65b9\u5f62\u5185\u5168\u90e8\u662f$1$\u3002\u4f46\u662f\u5373\u4f7f\u662f\u8fd9\u6837\u6211\u4eec\u4e5f\u53ef\u4ee5\u56db\u6b65\u89e3\u51b3\u3002\u90a3\u4e5f\u5c31\u662f\u8bf4\uff0c**\u4e00\u4e2a\u5185\u542b\u56db\u4e2a\u70b9\u7684\u6b63\u65b9\u5f62\uff0c\u6700\u591a\u9700\u8981\u56db\u6b65\u89e3\u51b3\uff0c\u8fd9\u4ecd\u7136\u4e0d\u8fdd\u80cc\u4e00\u6b21\u81f3\u5c11\u6539\u4e00\u4e2a\u70b9\u7684\u539f\u5219\u3002**\u90a3\u4e48\uff0c\u8fd9\u4e2a\u9898\u5c31\u89e3\u51b3\u4e86\u3002\n\n\u4f46\u662f\u8fd9\u4e2a\u601d\u8def\u867d\u7136\u975e\u5e38\u7b80\u5355\uff0c\u4ee3\u7801\u5199\u8d77\u6765\u5374\u6bd4\u8f83\u6076\u5fc3\u3002\uff08\u4e5f\u6709\u53ef\u80fd\u662f\u6211\u592a\u83dc\u4e86\uff09\u3002\u4f46\u662f\u4f5c\u4e3a\u5149\u8363\u7684$CSP-S 2020$\u9009\u624b\uff0c\u5728\u7ecf\u5386\u8fc7\u5112\u7565\u65e5\u7684\u6d17\u793c\u540e\uff0c\u5df2\u7ecf\u8131\u80ce\u6362\u9aa8\u4e86\u3002\u5728\u5fc3\u6001\u7ecf\u8fc7\u5112\u7565\u65e5\u7684\u9524\u70bc\u540e\uff0c\u6211\u6bc5\u7136\u51b3\u7136\u5730\u9009\u62e9$debug$\uff0c\u6700\u7ec8\u7528\u4e86$1h$\u7ec8\u4e8e\u5207\u6389\u4e86\u3002$CSP-S$\u7684\u65f6\u5019$de$\u4e86$2h30min$...\n\n## \u4ee3\u7801\n```\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<cstring>\n#include<map>\n#define ll long long \nusing namespace std;\nll T,n,m,ans,cnt;\nbool a[1005][1005];\nll x[1000005],xx[1000005],xxx[1000005],y[1000005],yy[1000005],yyy[1000005];\nint tian(int k,int x1,int y1){//\u53d6\u53cd\u51fd\u6570\uff0c(x1,y1)\u662f\u5de6\u4e0a\u89d2\u5750\u6807\uff0ck\u4ee3\u8868\u53d6\u53cd\u7684\u7c7b\u578b\uff08\u53d6\u53cd\u54ea\u4e09\u4e2a\uff0c\u5177\u4f53k\u662f\u591a\u5c11\u4ee3\u8868\u54ea\u4e00\u7c7b\u4e0d\u518d\u8d58\u8ff0\uff09 \n\tif(k==1){\n\t\tx[++ans]=x1,y[ans]=y1;\n\t\txx[ans]=x1+1,yy[ans]=y1;\n\t\txxx[ans]=x1,yyy[ans]=y1+1;\n\t\t\n\t\ta[x1][y1]=!a[x1][y1];\n\t\ta[x1+1][y1]=!a[x1+1][y1];\n\t\ta[x1][y1+1]=!a[x1][y1+1];\n\t}\n\tif(k==2){\n\t\tx[++ans]=x1,y[ans]=y1;\n\t\txx[ans]=x1,yy[ans]=y1+1;\n\t\txxx[ans]=x1+1,yyy[ans]=y1+1;\n\t\t\n\t\ta[x1][y1]=!a[x1][y1];\n\t\ta[x1][y1+1]=!a[x1][y1+1];\n\t\ta[x1+1][y1+1]=!a[x1+1][y1+1];\n\t}\n\tif(k==3){\n\t\tx[++ans]=x1,y[ans]=y1;\n\t\txx[ans]=x1+1,yy[ans]=y1;\n\t\txxx[ans]=x1+1,yyy[ans]=y1+1;\n\t\t\n\t\ta[x1][y1]=!a[x1][y1];\n\t\ta[x1+1][y1]=!a[x1+1][y1];\n\t\ta[x1+1][y1+1]=!a[x1+1][y1+1];\n\t}\n\tif(k==4){\n\t\tx[++ans]=x1+1,y[ans]=y1;\n\t\txx[ans]=x1,yy[ans]=y1+1;\n\t\txxx[ans]=x1+1,yyy[ans]=y1+1;\n\t\t\n\t\ta[x1+1][y1]=!a[x1+1][y1];\n\t\ta[x1][y1+1]=!a[x1][y1+1];\n\t\ta[x1+1][y1+1]=!a[x1+1][y1+1];\n\t}\n}\nvoid sum_1();\nvoid sum_2();\nvoid sum_3();\nvoid sum_4();\n\nvoid tepan(){\n\tint sum=0;\n\tfor(int i=n-1;i<=n;i++){\n\t\tfor(int j=m-1;j<=m;j++){\n\t\t\tif(a[i][j]==1){\n\t\t\t\tsum++;//\u8fd8\u5269\u51e0\u4e2a1\u9700\u8981\u5e72\u6389\n\t\t\t}\n\t\t}\n\t}\n\tif(sum==0){\n\t\treturn;\n\t}\n\tif(sum==1){\n\t\tsum_1();\n\t}\n\tif(sum==2){\n\t\tsum_2();\n\t}\n\tif(sum==3){\n\t\tsum_3();\n\t}\n\tif(sum==4){\n\t\tsum_4();\n\t}\n}\n\nint main()\n{\n\tcin>>T;\n\twhile(T--){\n\t\tans=0;\n\t\tcin>>n>>m;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tchar c;\n\t\t\t\tcin>>c;\n\t\t\t\tif(c=='0'){\n\t\t\t\t\ta[i][j]=0;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ta[i][j]=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<=n-2;i++){\n\t\t\tfor(int j=1;j<=m-1;j++){\n\t\t\t\tif(a[i][j]==0){\n\t\t\t\t\tif(a[i][j+1]==1){\n\t\t\t\t\t\ttian(4,i,j);//\u7279\u5224\u8fb9\u754c\uff0c\u5982\u679c\u5012\u6570\u7b2c\u4e8c\u5217\u662f0\uff0c\u4f46\u662f\u6700\u540e\u4e00\u5217\u662f1\uff0c\u90a3\u4e0d\u80fd\u5c06\u5b83\u7565\u8fc7\uff0c\u6240\u4ee5\u8981\u7279\u5224\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(a[i][j+1]==1){\n\t\t\t\t\ttian(1,i,j);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttian(3,i,j);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(int i=1;i<=m-2;i++){\n\t\t\tif(a[n-1][i]==0){\n\t\t\t\tif(a[n][i]==1){\n\t\t\t\t\ttian(4,n-1,i);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(a[n][i]==1){\n\t\t\t\t\ttian(1,n-1,i);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttian(2,n-1,i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\ttepan();\n\t\tprintf(\"%lld\\n\",ans);\n\t\tfor(int i=1;i<=ans;i++){\n\t\t\tcout<<x[i]<<\" \"<<y[i]<<\" \"<<xx[i]<<\" \"<<yy[i]<<\" \"<<xxx[i]<<\" \"<<yyy[i]<<\"\\n\";\n\t\t}\n\t}\n\treturn 0;\n}\nvoid sum_1(){\n\tif(a[n-1][m-1]==1){\n\t\ttian(1,n-1,m-1);\n\t\tsum_2();\n\t\treturn;\n\t}\n\tif(a[n-1][m]==1){\n\t\ttian(2,n-1,m-1);\n\t\tsum_2();\n\t\treturn;\n\t}\n\tif(a[n][m-1]==1){\n\t\ttian(3,n-1,m-1);\n\t\tsum_2();\n\t\treturn;\n\t}\n\tif(a[n][m]==1){\n\t\ttian(4,n-1,m-1);\n\t\tsum_2();\n\t\treturn;\n\t}\n}\nvoid sum_2(){//\u81ea\u5df1\u624b\u73a9\u53bb\u5427\u3002\u3002\u3002\n\tif(a[n-1][m-1]==1){\n\t\tif(a[n][m-1]==1){\n\t\t\ttian(2,n-1,m-1);\n\t\t\tsum_3();\n\t\t\treturn;\n\t\t}\n\t\tif(a[n-1][m]==1){\n\t\t\ttian(3,n-1,m-1);\n\t\t\tsum_3();\n\t\t\treturn;\n\t\t}\n\t\tif(a[n][m]==1){\n\t\t\ttian(4,n-1,m-1);\n\t\t\tsum_3();\n\t\t\treturn;\n\t\t}\n\t}\n\tif(a[n][m-1]==1){\n\t\tif(a[n-1][m]==1){\n\t\t\ttian(2,n-1,m-1);\n\t\t\tsum_3();\n\t\t\treturn;\n\t\t}\n\t\tif(a[n][m]==1){\n\t\t\ttian(1,n-1,m-1);\n\t\t\tsum_3();\n\t\t\treturn;\n\t\t}\n\t}\n\tif(a[n-1][m]==1){\n\t\tif(a[n][m]==1){\n\t\t\ttian(1,n-1,m-1);\n\t\t\tsum_3();\n\t\t\treturn;\n\t\t}\n\t}\n\t\n\t\n}\nvoid sum_3(){\n\tif(a[n-1][m-1]==0){\n\t\ttian(4,n-1,m-1);\n\t\treturn;\n\t} \n\tif(a[n-1][m]==0){\n\t\ttian(3,n-1,m-1);\n\t\treturn;\n\t}\n\tif(a[n][m-1]==0){\n\t\ttian(2,n-1,m-1);\n\t\treturn;\n\t}\n\tif(a[n][m]==0){\n\t\ttian(1,n-1,m-1);\n\t\treturn;\n\t}\n}\nvoid sum_4(){\n\ttian(1,n-1,m-1);\n\tsum_1();\n\treturn;\n}\n```",
        "postTime": 1607817544,
        "uid": 306982,
        "name": "\u4e8cgou\u5b50",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1439A2 \u3010Binary Table (Hard Version)\u3011"
    },
    {
        "content": "\u672c\u9898\u601d\u8def\u6bd4\u8f83\u7b80\u5355\uff0c\u4f46\u662f\u5199\u8d77\u6765\u5c31\u9700\u8981\u4e00\u4e9b\u6280\u5de7\u4e86\u3002\n\n\u5bf9\u7b2c $2$ \u81f3 $n$ \u884c\uff0c\u4ece\u4e0b\u5f80\u4e0a\u904d\u5386\uff0c\u82e5\u5f53\u524d\u683c\u70b9\u4e3a $1$\uff0c\u5219\u53d6\u5f53\u524d\u683c\u70b9\u4e0e\u4e0a\u4e00\u884c\u4e34\u8fd1\u7684\u4e24\u4e2a\u683c\u70b9\u7ffb\u8f6c\u3002\u8fd9\u6837\u53ef\u4ee5\u5c06\u7b2c $2$ \u81f3 $n$ \u884c\u7684\u6bcf\u4e2a\u683c\u70b9\u4fee\u6539\u6210 $0$\u3002\n\n\u524d\u4e24\u884c\u7684\u601d\u8def\u7c7b\u4f3c\uff0c\u4ece\u53f3\u5f80\u5de6\u904d\u5386\u76f4\u81f3\u5269\u4e0b 2x2\u3002\n\n\u6309\u7167 $1$ \u7684\u4e2a\u6570\u53ef\u4ee5\u628a 2x2 \u5206\u6210\u4e94\u79cd\u60c5\u51b5\uff0c\u8fd9\u4e94\u79cd\u60c5\u51b5\u53ef\u4ee5\u6309\u7167\u4e0b\u9762\u7684\u987a\u5e8f\u4ece\u5de6\u81f3\u53f3\u8f6c\u6362\uff1a\n\n```\n11  10  00  11  00\n11  00  11  10  00\n```\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c2x2 \u81f3\u591a\u8f6c\u6362 $4$ \u6b21\u5373\u53ef\u5f97\u5230\u5168 $0$ \u7684\u7ed3\u679c\u3002\n\n\u6240\u4ee5\u6309\u7167\u4e0a\u8ff0\u65b9\u6cd5\uff0c\u603b\u7684\u8f6c\u6362\u6b21\u6570\u662f\u4e0d\u4f1a\u8d85\u8fc7 $n*m$ \u7684\u3002\n\n\u5b9e\u73b0\u4e0a\u7684\u96be\u5ea6\u4e3b\u8981\u4f53\u73b0\u5728 2x2 \u7684\u8f6c\u6362\u4e0a\uff0c\u6211\u7684\u65b9\u6cd5\u662f\u7528\u4e24\u4e2a\u6570\u7ec4 $p_0$ \u548c $p_1$ \u8bb0\u5f55 $0$ \u548c $1$ \u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u6765\u56de\u5012\u817e\u8fd9\u4e9b\u4f4d\u7f6e\u3002\n\nAC \u4ee3\u7801\uff08Golang\uff09\uff1a\n\n```go\npackage main\n\nimport (\n\t\"bufio\"\n\t. \"fmt\"\n\t\"os\"\n)\n\nfunc main() {\n\tin := bufio.NewReader(os.Stdin)\n\tout := bufio.NewWriter(os.Stdout)\n\tdefer out.Flush()\n\n\tvar T, n, m int\n\tfor Fscan(in, &T); T > 0; T-- {\n\t\tFscan(in, &n, &m)\n\t\ta := make([][]byte, n)\n\t\tfor i := range a {\n\t\t\tFscan(in, &a[i])\n\t\t}\n\n\t\tans := [][][]int{}\n\t\tadd := func(ps [][]int) {\n\t\t\tans = append(ans, ps)\n\t\t\tfor _, p := range ps {\n\t\t\t\ta[p[0]][p[1]] ^= 1\n\t\t\t}\n\t\t}\n\t\tfor i := n - 1; i > 1; i-- {\n\t\t\tfor j, b := range a[i] {\n\t\t\t\tif b == '1' {\n\t\t\t\t\tif j+1 < m {\n\t\t\t\t\t\tadd([][]int{{i, j}, {i - 1, j}, {i - 1, j + 1}})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tadd([][]int{{i, j}, {i - 1, j}, {i - 1, j - 1}})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor j := m - 1; j > 1; j-- {\n\t\t\tfor i := 0; i < 2; i++ {\n\t\t\t\tif a[i][j] == '1' {\n\t\t\t\t\tadd([][]int{{i, j}, {0, j - 1}, {1, j - 1}})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcell := [][]int{{0, 0}, {0, 1}, {1, 0}, {1, 1}}\n\t\tvar p0, p1 []int\n\t\tfor i, p := range cell {\n\t\t\tif a[p[0]][p[1]] == '0' {\n\t\t\t\tp0 = append(p0, i)\n\t\t\t} else {\n\t\t\t\tp1 = append(p1, i)\n\t\t\t}\n\t\t}\n\t\tif len(p1) == 4 {\n\t\t\tans = append(ans, [][]int{cell[p1[0]], cell[p1[1]], cell[p1[2]]})\n\t\t\tp0, p1 = p1[:3], p1[3:]\n\t\t}\n\t\tif len(p1) == 1 {\n\t\t\tans = append(ans, [][]int{cell[p1[0]], cell[p0[0]], cell[p0[1]]})\n\t\t\tp1, p0 = p0[:2], append(p0[2:], p1[0])\n\t\t}\n\t\tif len(p1) == 2 {\n\t\t\tans = append(ans, [][]int{cell[p1[0]], cell[p0[0]], cell[p0[1]]})\n\t\t\tp1 = append(p1[1:], p0...)\n\t\t}\n\t\tif len(p1) == 3 {\n\t\t\tans = append(ans, [][]int{cell[p1[0]], cell[p1[1]], cell[p1[2]]})\n\t\t}\n\n\t\tFprintln(out, len(ans))\n\t\tfor _, ps := range ans {\n\t\t\tfor _, p := range ps {\n\t\t\t\tFprint(out, p[0]+1, p[1]+1, \" \")\n\t\t\t}\n\t\t\tFprintln(out)\n\t\t}\n\t}\n}\n```\n",
        "postTime": 1605723966,
        "uid": 266651,
        "name": "\u7075\u8336\u5c71\u827e\u5e9c",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1439A2 \u3010Binary Table (Hard Version)\u3011"
    },
    {
        "content": "[\u6d1b\u8c37\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1439A2)\n\n[\u672c\u5bb6\u4f20\u9001\u95e8](https://codeforces.com/problemset/problem/1439/A2)\n\n\u6742\u9898\u9009\u8bb2\u9047\u5230\u7684\u597d\u73a9\u6784\u9020\u9898\uff01\n\n## \u5206\u6790\n\n\u8fd9\u79cd\u9898\u4e00\u770b\u5c31\u662f~~\u71b5\u589e\u9898~~\u624b\u6a21\u9898\uff0c\u6211\u4eec\u5c31\u5148\u6a21\u4e00\u4e0b $2\\times 2$ \u7684\u77e9\u9635\u3002\u6211\u4eec\u9996\u5148\u53d1\u73b0\u628a\u4e00\u4e2a\u77e9\u9635\u65cb\u8f6c\u540e\u4ed6\u7684\u64cd\u4f5c\u65b9\u6cd5\u662f\u672c\u8d28\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u4e0d\u8003\u8651\u65cb\u8f6c\u7684\u60c5\u51b5\uff0c\u8fd9\u6837\u5927\u5927\u51cf\u5c11\u4e86\u624b\u6a21\u91cf\u3002\u672c\u8d28\u4e0d\u540c\u7684 $2\\times 2$ \u7684\u77e9\u9635\u6570\u91cf\u53ea\u6709 $6$ \u4e2a\uff0c\u6211\u4eec\u53ea\u5173\u5fc3\u5b83\u4eec\u4e4b\u95f4\u7684\u8f6c\u6362\u3002\u4e0b\u9762\u7ed9\u51fa\u624b\u6a21\u8fc7\u7a0b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/36imv51y.png)\n\n\u6211\u4eec\u60ca\u8bb6\u7684\u53d1\u73b0\uff0c\u5bf9\u4e8e\u4e00\u4e2a $2\\times 2$ \u7684\u77e9\u9635\uff0c\u6700\u591a\u6267\u884c\u56db\u6b21\u64cd\u4f5c\u3002\u5747\u644a\u4e0b\u6765\u6700\u591a\u4e00\u4e2a\u70b9\u4e00\u6b21\uff0c\u4e5f\u5c31\u6ee1\u8db3\u4e86\u9898\u76ee\u7684\u8981\u6c42\u3002\n\n\u6211\u4eec\u628a\u8fd9\u4e9b\u64cd\u4f5c\u94fa\u4e0a\u53bb\u5c31\u89e3\u51b3\u7684\u5076\u6570\u7684\u60c5\u51b5\u3002\n\n\u8003\u8651\u5947\u6570\u60c5\u51b5\u3002\u884c\u5217\u672c\u8d28\u4e00\u6837\uff0c\u8fd9\u91cc\u53ea\u8003\u8651\u884c\u3002\u6211\u4eec\u53d1\u73b0\u4f1a\u591a\u4e00\u884c\u3002\u8fd9\u4e00\u884c\u91cc\u6709\u82e5\u5e72 $1$\uff0c\u6211\u4eec\u53d1\u73b0\u5bf9\u8fd9\u4e00\u884c\u64cd\u4f5c\u65f6\u5f71\u54cd\u975e\u672c\u884c\u683c\u5b50\u662f\u4e0d\u4f1a\u5f71\u54cd\u7b54\u6848\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528\u82e5\u5e72\u4e0a\u4e8c\u4e0b\u4e00\u7684\u64cd\u4f5c\u628a\u6240\u6709\u672c\u884c\u683c\u5b50\u53d8\u6210 $0$\u3002\u5747\u644a\u4e5f\u662f\u4e00\u4e2a\u683c\u5b50\u6700\u591a\u4e00\u6b21\u3002\n\n\u81f3\u6b64\uff0c\u672c\u9898\u601d\u8def\u660e\u786e\uff0c\u63a5\u4e0b\u6765\u662f~~\u559c\u95fb\u4e50\u89c1\u7684~~\u8c03\u4ee3\u7801\u65f6\u95f4\u3002\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n,m,T,len;\nbool a[1001][1001],b[5][5];\nstruct fun\n{\n\tint x[4],y[4];\n}ans[1000001];\nvoid wok(int x,int y)\n{\n\tx--;\n\ty--;\n\tint cnt=b[1][1]+b[1][2]+b[2][1]+b[2][2]; //\u91c7\u7528\u9012\u63a8\u5904\u7406\n\tif(cnt==4)\n\t{\n\t\tint ln=0;\n\t\tlen++;\n\t\tans[len].x[++ln]=x+1;\n\t\tans[len].y[ln]=y+1;\n\t\t\n\t\tans[len].x[++ln]=x+2;\n\t\tans[len].y[ln]=y+1;\n\t\t\n\t\tans[len].x[++ln]=x+1;\n\t\tans[len].y[ln]=y+2;\n\t\t\n\t\tb[1][1]^=1;\n\t\tb[1][2]^=1;\n\t\tb[2][1]^=1;\n\t\tcnt=1;\n\t} //\u56db\u4e2a\u7684\u60c5\u51b5\uff0c\u8f6c\u5316\u4e3a\u4e00\u4e2a\n\tif(cnt==1)\n\t{\n\t\tint ln=0;\n\t\tlen++;\n\t\tif(b[1][1])\n\t\t{\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tb[1][1]^=1;\n\t\t\tb[2][1]^=1;\n\t\t\tb[2][2]^=1;\n\t\t\tcnt=2;\n\t\t}\n\t\telse if(b[2][2])\n\t\t{\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tb[1][1]^=1;\n\t\t\tb[2][1]^=1;\n\t\t\tb[2][2]^=1;\n\t\t\tcnt=2;\n\t\t}\n\t\telse if(b[1][2])\n\t\t{\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tb[1][1]^=1;\n\t\t\tb[1][2]^=1;\n\t\t\tb[2][1]^=1;\n\t\t\tcnt=2;\n\t\t}\n\t\telse if(b[2][1])\n\t\t{\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tb[1][1]^=1;\n\t\t\tb[1][2]^=1;\n\t\t\tb[2][1]^=1;\n\t\t\tcnt=2;\n\t\t}\n\t} //\u4e00\u4e2a\u7684\u60c5\u51b5\uff0c\u8f6c\u5316\u4e3a\u4e24\u4e2a\n\tif(cnt==2)\n\t{\n\t\tint ln=0;\n\t\tlen++;\n\t\tif(b[1][1]&&b[1][2])\n\t\t{\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tb[1][1]^=1;\n\t\t\tb[2][2]^=1;\n\t\t\tb[2][1]^=1;\n\t\t\tcnt=3;\n\t\t}\n\t\telse if(b[1][1]&&b[2][1])\n\t\t{\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tb[1][1]^=1;\n\t\t\tb[2][2]^=1;\n\t\t\tb[1][2]^=1;\n\t\t\tcnt=3;\n\t\t}\n\t\telse if(b[2][2]&&b[2][1])\n\t\t{\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tb[1][1]^=1;\n\t\t\tb[2][2]^=1;\n\t\t\tb[1][2]^=1;\n\t\t\tcnt=3;\n\t\t}\n\t\telse if(b[2][2]&&b[1][2])\n\t\t{\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tb[1][1]^=1;\n\t\t\tb[2][2]^=1;\n\t\t\tb[2][1]^=1;\n\t\t\tcnt=3;\n\t\t}\n\t\telse if(b[1][1]&&b[2][2])\n\t\t{\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tb[1][1]^=1;\n\t\t\tb[2][1]^=1;\n\t\t\tb[1][2]^=1;\n\t\t\tcnt=3;\n\t\t}\n\t\telse if(b[1][2]&&b[2][1])\n\t\t{\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+2;\n\t\t\t\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+1;\n\t\t\t\n\t\t\tb[2][1]^=1;\n\t\t\tb[2][2]^=1;\n\t\t\tb[1][1]^=1;\n\t\t\tcnt=3;\n\t\t}\n\t} //\u56db\u4e2a\u7684\u60c5\u51b5\uff0c\u8f6c\u5316\u4e3a\u4e09\u4e2a\n\tif(cnt==3)\n\t{\n\t\tint ln=0;\n\t\tlen++;\n\t\tif(b[1][1])\n\t\t{\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+1;\n\t\t}\n\t\tif(b[2][1])\n\t\t{\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+1;\n\t\t}\n\t\tif(b[1][2])\n\t\t{\n\t\t\tans[len].x[++ln]=x+1;\n\t\t\tans[len].y[ln]=y+2;\n\t\t}\n\t\tif(b[2][2])\n\t\t{\n\t\t\tans[len].x[++ln]=x+2;\n\t\t\tans[len].y[ln]=y+2;\n\t\t}\n\t} //\u4f18\u96c5\n}\nsigned main()\n{\n\tscanf(\"%lld\",&T);\n\twhile(T--)\n\t{\n\t\tlen=0;\n\t\tscanf(\"%lld%lld\",&n,&m);\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tfor(int z=1;z<=m;z++)\n\t\t\t{\n\t\t\t\tchar didi;\n\t\t\t\tscanf(\" %c\",&didi);\n\t\t\t\tdidi-='0';\n\t\t\t\ta[i][z]=(bool)didi;\n\t\t\t}\n\t\t} //\u8f93\u5165\n\t\tif(n%2==1)\n\t\t{\n\t\t\tfor(int i=1;i<=m;i++)\n\t\t\t{\n\t\t\t\tif(a[n][i])\n\t\t\t\t{\n\t\t\t\t\tans[++len].x[1]=n;\n\t\t\t\t\tans[len].y[1]=i;\n\t\t\t\t\ta[n][i]^=1;\n\t\t\t\t\t\n\t\t\t\t\tans[len].x[2]=n-1;\n\t\t\t\t\tans[len].y[2]=i;\n\t\t\t\t\ta[n-1][i]^=1;\n\t\t\t\t\t\n\t\t\t\t\tif(i==1)\n\t\t\t\t\t{\n\t\t\t\t\t\tans[len].x[3]=n-1;\n\t\t\t\t\t\tans[len].y[3]=i+1;\n\t\t\t\t\t\ta[n-1][i+1]^=1;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tans[len].x[3]=n-1;\n\t\t\t\t\t\tans[len].y[3]=i-1;\n\t\t\t\t\t\ta[n-1][i-1]^=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} //\u5947\u6570\u7279\u6b8a\u5904\u7406\n\t\tif(m%2==1)\n\t\t{\n\t\t\tfor(int i=1;i<=n;i++)\n\t\t\t{\n\t\t\t\tif(a[i][m])\n\t\t\t\t{\n\t\t\t\t\tans[++len].x[1]=i;\n\t\t\t\t\tans[len].y[1]=m;\n\t\t\t\t\ta[i][m]^=1;\n\t\t\t\t\t\n\t\t\t\t\tans[len].x[2]=i;\n\t\t\t\t\tans[len].y[2]=m-1;\n\t\t\t\t\ta[i][m-1]^=1;\n\t\t\t\t\t\n\t\t\t\t\tif(i==1)\n\t\t\t\t\t{\n\t\t\t\t\t\tans[len].x[3]=i+1;\n\t\t\t\t\t\tans[len].y[3]=m-1;\n\t\t\t\t\t\ta[i+1][m-1]^=1;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tans[len].x[3]=i-1;\n\t\t\t\t\t\tans[len].y[3]=m-1;\n\t\t\t\t\t\ta[i-1][m-1]^=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} //\u540c\u7406\n\t\tfor(int i=1;i<n;i+=2)\n\t\t{\n\t\t\tfor(int z=1;z<m;z+=2)\n\t\t\t{\n\t\t\t\tb[1][1]=a[i][z];\n\t\t\t\tb[1][2]=a[i][z+1];\n\t\t\t\tb[2][1]=a[i+1][z];\n\t\t\t\tb[2][2]=a[i+1][z+1];\n\t\t\t\twok(i,z); //\u94fa\u4e0a\u53bb\n\t\t\t}\n\t\t}\n\t\tprintf(\"%lld\\n\",len);\n\t\tfor(int i=1;i<=len;i++)\n\t\t{\n\t\t\tprintf(\"%lld %lld %lld %lld %lld %lld\\n\",ans[i].x[1],ans[i].y[1],ans[i].x[2],ans[i].y[2],ans[i].x[3],ans[i].y[3]);\n\t\t}\n\t}\n}\n```",
        "postTime": 1679278865,
        "uid": 477954,
        "name": "lizhous",
        "ccfLevel": 0,
        "title": "Binary Table (Hard Version) \u9898\u89e3"
    },
    {
        "content": "\u5bf9\u4e8e\u5f31\u5316\u7248\uff0c\u6211\u4eec\u5f88\u5feb\u80fd\u60f3\u5230\u679a\u4e3e\u6bcf\u4e00\u4e2a $2\\times 2$ \u7684\u6b63\u65b9\u5f62\u7136\u540e\u5927\u6a21\u62df\u3002\u6211\u4eec\u89c4\u5b9a\u5bf9\u4e8e\u4e00\u4e2a $2\\times 2$ \u7684\u6b63\u65b9\u5f62\uff0c\u5b83\u6bcf\u4e00\u5757\u7684\u7f16\u53f7\u5982\u4e0b\uff0c\u5b83\u5bf9\u5e94\u7684\u6570\u5b57\u4e3a\u5176\u5c0f\u5199\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2q7mqb1d.png)\n\n\u5bf9\u4e8e\u6bcf\u4e00\u5757\uff0c\u90fd\u6709\u4e24\u79cd\u53ef\u80fd\uff1a$0$ \u6216 $1$\uff0c\u90a3\u5c31\u662f $2^4 = 16$ \u79cd\u60c5\u51b5\u3002\n\n\u7136\u540e\u518d\u89c4\u5b9a\u4e00\u4e0b\u6bcf\u4e00\u79cd\u60c5\u51b5\u5bf9\u5e94\u7684\u7f16\u53f7\uff0c\u8fd9\u53ef\u4ee5\u65b9\u4fbf\u8fdb\u4e00\u6b65\u7684\u5224\u65ad\u3002\u8fd9\u91cc\u89c4\u5b9a\uff1a\u4e00\u79cd\u60c5\u51b5\u7684\u7f16\u53f7\u4e3a $num = 8a+4c+2b+d+1$\u3002\n\n\u5f53 $num = $\uff1a\n\n1. \u65e0\u64cd\u4f5c\u3002\n2. $(ACD),(ABD),(BCD)$\u3002\n3. \u540c $2$\u3002\n4. $(ABC),(ACD)$\u3002\n5. \u540c $2$\u3002\n6. \u540c $4$\u3002\n7. $(ACD),(ABD)$\u3002\n8. $(BCD)$\u3002\n\n9~15. \u540c $2,4,7,8$\u3002\n\n16. $(ABC)$\uff0c\u7136\u540e\u540c $2$\u3002\n\n\u7136\u540e\u4f60\u5c31\u901a\u8fc7\u4e86\u5f31\u5316\u7248\u3002\n\n\u8003\u8651\u4f18\u5316\uff1a\u9996\u5148\u4e0d\u7528\u679a\u4e3e\u6240\u6709\u7684\u6b63\u65b9\u5f62\uff0c\u53ef\u4ee5\u60f3\u8c61\u4e00\u4e0b\u628a\u4e00\u5806\u6b63\u65b9\u5f62\u5361\u7247\u4e22\u5230\u4e00\u4e2a $n\\times m$ \u7684\u76d2\u5b50\uff0c\u7136\u540e\u53ea\u7559\u4e0b\u6700\u5e95\u5c42\u7684\u5361\u7247\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u5e76\u4e0d\u9700\u8981\u679a\u4e3e\u6bcf\u4e00\u4e2a\u6b63\u65b9\u5f62\uff0c\u6211\u53ef\u4ee5\u8df3\u7740\u679a\u4e3e\u3002\n\n\u7136\u540e\u53d1\u73b0\u4e00\u4e2a\u95ee\u9898\uff0c\u5bf9\u4e8e $n$ \u6216 $m$ \u4e3a\u5947\u6570\u7684\u60c5\u51b5\uff0c\u8fb9\u89d2\u4f1a\u6709\u7a7a\u9699\u3002\u6211\u4eec\u53ef\u4ee5\u5bf9\u5176\u5355\u72ec\u5904\u7406\uff0c\u5355\u72ec\u66f4\u65b0\uff1b\u5bf9\u4e8e\u5750\u6807 $(n,m)$ \u7684\u89d2\u5757\uff0c\u6ce8\u610f\u8981\u63d0\u5230\u6700\u524d\u9762\u5355\u72ec\u5904\u7406\u3002\n\n\u4ee3\u7801\u8fc7\u957f\uff0c\u6240\u4ee5\u653e\u5728\u4e86[\u526a\u8d34\u677f](https://www.luogu.com.cn/paste/op5wzu92)",
        "postTime": 1611807755,
        "uid": 114173,
        "name": "Computer1828",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1439A2 \u3010Binary Table (Hard Version)\u3011"
    },
    {
        "content": "\u672c\u6587\u540c\u6b65\u53d1\u8868\u5728 [\u6211\u7684blog](https://www.cnblogs.com/TEoS/p/14004239.html)\n\n\n------------\n\n**\u9898\u610f\u5206\u6790**\n\n\u7ed9\u51fa\u4e00\u4e2a $n\u00d7m$ \u7684\u53ea\u7531 $0,1$ \u6784\u6210\u7684\u77e9\u9635\uff0c\u6bcf\u6b21\u53ef\u4ee5\u5c06\u4e00\u4e2a $2\u00d72$ \u7684\u5b50\u77e9\u9635\u4e2d\u7684 $3$ \u4e2a\u6570\u53d6\u53cd\u3002\u8981\u6c42\u5c06\u6574\u4e2a\u77e9\u9635\u7684\u6240\u6709\u5143\u7d20\u53d8\u4e3a $0$ \uff0c\u5e76\u4e14\u64cd\u4f5c\u6b21\u6570\u4e0d\u80fd\u8d85\u8fc7 $nm$ \u6b21\u3002\u8981\u6c42\u7ed9\u51fa\u64cd\u4f5c\u6b21\u6570\u548c\u5177\u4f53\u65b9\u6848\u3002\n\n**\u601d\u8def\u5206\u6790**\n\n\u7531\u4e8e\u6bcf\u6b21\u53ea\u80fd\u4fee\u6539\u4e00\u4e2a $2\u00d72$ \u7684\u5b50\u77e9\u9635\u4e2d\u7684 $3$ \u4e2a\u6570\uff0c\u60f3\u5230\u8003\u8651\u6bcf\u4e2a $2\u00d72$ \u7684\u5b50\u77e9\u9635\u7684\u60c5\u51b5\uff0c\u5c1d\u8bd5\u628a\u6bcf\u4e2a $2\u00d72$ \u7684\u5b50\u77e9\u9635\u5355\u72ec\u5904\u7406\uff0c\u770b\u770b\u5408\u4e0d\u5408\u6cd5\u3002\n\n\u663e\u7136\u53ef\u4ee5\u6839\u636e $1$ \u7684\u4e2a\u6570\u5212\u5206\u4e3a\u4e94\u79cd\u60c5\u51b5\uff0c\u5bf9\u6bcf\u79cd\u60c5\u51b5\u5206\u522b\u8003\u8651\uff1a\n\n###### \u60c5\u51b5\u4e00\uff1a $0$ \u4e2a $1$\n\n\u663e\u7136\u4e0d\u7528\u5904\u7406\uff0c\u9700\u8981 $0$ \u6b21\u64cd\u4f5c\u3002\n\n###### \u60c5\u51b5\u4e8c\uff1a  $3$ \u4e2a $1$\n\n\u5c06 $3$ \u4e2a $1$ \u53d6\u53cd\u5373\u53ef\uff0c\u9700\u8981 $1$ \u6b21\u64cd\u4f5c\u3002\n\n###### \u60c5\u51b5\u4e09\uff1a $2$ \u4e2a $1$ \n\n\u5c06 $2$ \u4e2a $0$ \u548c $1$ \u4e2a $1$ \u53d6\u53cd\uff0c\u53ef\u4ee5\u53d8\u4e3a\u60c5\u51b5\u4e8c\uff0c\u63a5\u7740\u5904\u7406\uff0c\u9700\u8981 $2$ \u6b21\u64cd\u4f5c\u3002\n\n###### \u60c5\u51b5\u56db\uff1a $1$ \u4e2a $1$\n\n\u5c06 $2$ \u4e2a $0$ \u548c $1$ \u4e2a $1$ \u53d6\u53cd\uff0c\u53ef\u4ee5\u53d8\u4e3a\u60c5\u51b5\u4e09\uff0c\u63a5\u7740\u5904\u7406\uff0c\u9700\u8981 $3$ \u6b21\u64cd\u4f5c\u3002\n\n###### \u60c5\u51b5\u4e94\uff1a $4$ \u4e2a $1$\n\n\u5c06 $3$ \u4e2a $1$ \u53d6\u53cd\uff0c\u53ef\u4ee5\u53d8\u4e3a\u60c5\u51b5\u4e00\uff0c\u63a5\u7740\u5904\u7406\uff0c\u9700\u8981 $4$ \u6b21\u64cd\u4f5c\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u6240\u6709\u60c5\u51b5\u6700\u591a\u53ea\u9700\u8981 $4$ \u6b21\u64cd\u4f5c\uff0c\u521a\u597d\u4e0e\u5b50\u77e9\u9635\u7684\u5143\u7d20\u6570\u76ee\u76f8\u7b49\uff0c\u56e0\u6b64\u4e00\u5b9a\u53ef\u4ee5\u6ee1\u8db3\u64cd\u4f5c\u6b21\u6570\u4e0d\u5927\u4e8e $nm$ \u3002\n\n\u82e5 $n$ \u6216 $m$ \u4e3a\u5947\u6570\uff0c\u4e0d\u80fd\u521a\u597d\u5212\u5206\u4e3a $2\u00d72$ \u7684\u5b50\u77e9\u9635\uff0c\u5c31\u5148\u628a\u4e00\u884c\u5168\u90e8\u53d8\u6210 $0$ \uff0c\u7136\u540e\u518d\u5904\u7406\u5269\u4e0b\u7684\u5373\u53ef\u3002\u6ce8\u610f\u540e\u9762\u7684\u5904\u7406\u4e0d\u80fd\u5f71\u54cd\u5230\u524d\u9762\u5df2\u7ecf\u5904\u7406\u8fc7\u7684\u5143\u7d20\u3002\n\n```c++\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<string>\nusing namespace std;\nconst int N=200,M=3e4+100;\nint T,n,m,ans;\nint dx[4]={0,1,0,1},dy[4]={0,0,1,1};\nint x1[M],x2[M],x3[M],y1[M],y2[M],y3[M],a[N][N];\nstring s;\nint ano(int x)\n{\n\treturn ((x-1)^1)+1;\n}//\u627e\u76f8\u90bb\u7684\u6570\uff0c\u5176\u4e2d\u5947\u6570\u8f83\u5c0f\uff0c\u5076\u6570\u8f83\u5927\nvoid solve1(int i,int j)\n{\n\tans++;\n\tfor(int k=0,x=i+dx[k],y=j+dy[k];k<4;k++,x=i+dx[k],y=j+dy[k])\n\t\tif(!a[x][y])\n\t\t{\n\t\t\tif(!x1[ans])\n\t\t\t\ta[x][y]=1,x1[ans]=x,y1[ans]=y;\n\t\t\telse\n\t\t\t\tif(!x2[ans])\n\t\t\t\t\ta[x][y]=1,x2[ans]=x,y2[ans]=y;//\u53d6\u53cd 2 \u4e2a 0\n\t\t}\n\t\telse\n\t\t\tif(!x3[ans])\n\t\t\t\ta[x][y]=0,x3[ans]=x,y3[ans]=y;//\u53d6\u53cd 1 \u4e2a 1\n}//\u53d6\u53cd 2 \u4e2a 0 \u548c 1 \u4e2a 1\nvoid solve2(int i,int j)\n{\n\tans++;\n\tfor(int k=0,x=i+dx[k],y=j+dy[k];k<4;k++,x=i+dx[k],y=j+dy[k])\n\t\tif(a[x][y])\n\t\t\tif(!x1[ans])\n\t\t\t\ta[x][y]=0,x1[ans]=x,y1[ans]=y;\n\t\t\telse\n\t\t\t\tif(!x2[ans])\n\t\t\t\t\ta[x][y]=0,x2[ans]=x,y2[ans]=y;\n\t\t\t\telse\n\t\t\t\t\tif(!x3[ans])\n\t\t\t\t\t\ta[x][y]=0,x3[ans]=x,y3[ans]=y;\n}//\u53d6\u53cd 3 \u4e2a 1\nint main()\n{\n\tscanf(\"%d\",&T);\n\twhile(T--)\n\t{\n\t\tscanf(\"%d%d\",&n,&m);ans=0;\n\t\tfor(int i=1;i<=n*m;i++)\n\t\t\tx1[i]=x2[i]=x3[i]=y1[i]=y2[i]=y3[i]=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tcin>>s;\n\t\t\tfor(int j=1;j<=m;j++)\n\t\t\t\ta[i][j]=s[j-1]-'0';\n\t\t}\n\t\tif(n&1)// n \u4e3a\u5947\u6570\uff0c\u5904\u7406\u7b2c n \u884c\n\t\t\tfor(int i=1;i<=m;i++)\n\t\t\t\tif(a[n][i])\n\t\t\t\t\ta[n][i]=0,a[n-1][i]^=1,a[n-1][i==m?i-1:i+1]^=1,x1[++ans]=n,x2[ans]=n-1,x3[ans]=n-1,y1[ans]=i,y2[ans]=i,y3[ans]=i==m?i-1:i+1;\n\t\tif(m&1)// m \u4e3a\u5947\u6570\uff0c\u5904\u7406\u7b2c m \u5217\n\t\t\tfor(int i=1;i<=n;i++)\n\t\t\t\tif(a[i][m])\n\t\t\t\t\tif(i<m)\n\t\t\t\t\t\ta[i][m]=0,a[i][m-1]^=1,a[i==1?i+1:i-1][m-1]^=1,x1[++ans]=i,x2[ans]=i,x3[ans]=i==1?i+1:i-1,y1[ans]=m,y2[ans]=m-1,y3[ans]=m-1;\n\t\t\t\t\telse\n\t\t\t\t\t\ta[n][m-1]=0,a[n-1][m]^=1,a[n-1][m-1]^=1,x1[++ans]=n,x2[ans]=n-1,x3[ans]=n-1,y1[ans]=m,y2[ans]=m,y3[ans]=m-1;\n\t\tfor(int i=1;i<=n;i+=2)\n\t\t\tfor(int j=1;j<=m;j+=2)\n\t\t\t{\n\t\t\t\tif(a[i][j]+a[i+1][j]+a[i][j+1]+a[i+1][j+1]==4)\n\t\t\t\t\tsolve2(i,j);\n\t\t\t\tif(a[i][j]+a[i+1][j]+a[i][j+1]+a[i+1][j+1]==1)\n\t\t\t\t\tsolve1(i,j);\n\t\t\t\tif(a[i][j]+a[i+1][j]+a[i][j+1]+a[i+1][j+1]==2)\n\t\t\t\t\tsolve1(i,j);\n\t\t\t\tif(a[i][j]+a[i+1][j]+a[i][j+1]+a[i+1][j+1]==3)\n\t\t\t\t\tsolve2(i,j);\n\t\t\t}//\u5212\u5206\u5904\u7406\uff0c\u6839\u636e\u5904\u7406\u5148\u540e\u6309\u987a\u5e8f\n\t\tprintf(\"%d\\n\",ans);\n\t\tfor(int i=1;i<=ans;i++)\n\t\t\tprintf(\"%d %d %d %d %d %d\\n\",x1[i],y1[i],x2[i],y2[i],x3[i],y3[i]);\n\t}\n\treturn 0;\n}\n```\n\n~~\u6211\u751a\u81f3\u6ca1\u60f3\u51fa $3nm$ \u7684\u600e\u4e48\u505a~~",
        "postTime": 1605755003,
        "uid": 91534,
        "name": "TEoS",
        "ccfLevel": 6,
        "title": "CF1439A2 Binary Table (Hard Version)"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1439A2)\n## \u9898\u610f\n\u7ed9\u5b9a\u4e00\u4e2a $n\\times m$ \u7684 $01$ \u77e9\u9635\uff0c\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u5c06\u67d0\u4e2a $2\\times2$ \u7684\u77e9\u9635\u5185\u7684 $3$ \u4e2a\u6570\u53d6\u53cd\uff0c\u8bf7\u5728 $n\\times m$ \u6b65\u5185\u5c06\u77e9\u9635\u53d8\u4e3a\u5168 $0$\u3002\n## \u521d\u6b65\u5206\u6790\n\u8ba9\u6211\u4eec\u5148\u6765\u60f3 $2\\times2$ \u7684\u77e9\u5f62\u3002\u73b0\u5728\u8ba9\u6211\u4eec\u6765\u5b9a\u4e49\u56db\u79cd\u64cd\u4f5c\uff1a\n```cpp\n\u250c\uff1a\u5bf9\u4e8e\u5de6\u4e0a\uff0c\u53f3\u4e0a\uff0c\u5de6\u4e0b\u683c\u5b50\u8fdb\u884c\u64cd\u4f5c\n\n\u2510\uff1a\u5bf9\u4e8e\u5de6\u4e0a\uff0c\u53f3\u4e0a\uff0c\u53f3\u4e0b\u683c\u5b50\u8fdb\u884c\u64cd\u4f5c\n\n\u2514\uff1a\u5bf9\u4e8e\u5de6\u4e0a\uff0c\u5de6\u4e0b\uff0c\u53f3\u4e0b\u683c\u5b50\u8fdb\u884c\u64cd\u4f5c\n\n\u2518\uff1a\u5bf9\u4e8e\u53f3\u4e0a\uff0c\u5de6\u4e0b\uff0c\u53f3\u4e0b\u683c\u5b50\u8fdb\u884c\u64cd\u4f5c\n```\n\u90a3\u4e48\u63a5\u4e0b\u6765\uff0c\u8ba9\u6211\u6765\u5206\u522b\u7ed9\u51fa\u5bf9\u4e8e $2\\times2$ \u7684\u683c\u5b50\u4e2d $16$ \u79cd\u60c5\u51b5\u7684\u89e3\u7b54\uff1a\n```cpp\n0 0\n0 0\uff1a\u4e0d\u8fdb\u884c\u64cd\u4f5c\uff0c\u6b65\u65700\u3002\n\n0 0\n0 1\uff1a\u2518\uff0c\u2514\uff0c\u2510\u3002\u6b65\u65703\u3002\n\n0 0\n1 1\uff1a\u2510\uff0c\u250c\u3002\u6b65\u65702\u3002\n\n1 0\n0 1\uff1a\u250c\uff0c\u2518\u3002\u6b65\u65702\u3002\n\n0 1\n1 1\uff1a\u2518\u3002\u6b65\u65701\u3002\n\n1 1\n1 1\uff1a\u2518\uff0c\u250c\uff0c\u2514\uff0c\u2510\u3002\u6b65\u65704\u3002\n```\n\u5176\u4f59\u60c5\u51b5\u90fd\u80fd\u4e0e\u4e0a\u8ff0\u60c5\u51b5\u4e2d\u67d0\u4e00\u79cd\u540c\u7406\uff0c\u6700\u591a\u64cd\u4f5c $4$ \u6b21\u3002\u90a3\u4e48\uff0c\u5bf9\u4e8e $n\\times m$ \u77e9\u5f62\u4e2d\u4efb\u610f\u7684 $2\\times2$ \u77e9\u5f62\u90fd\u8fdb\u884c\u4e00\u6b21\u5f52\u96f6\u64cd\u4f5c\uff0c\u6700\u591a\u7684\u603b\u64cd\u4f5c\u6b65\u6570\u5c06\u8fbe\u5230~~\u60ca\u4eba\u7684~~ $4(n-1)(m-1)$ \u3002\n## \u8fdb\u4e00\u6b65\u5206\u6790\n\u6b65\u6570\u5982\u6b64\u7206\u70b8\uff0c\u6839\u672c\u539f\u56e0\u51fa\u4e8e\u91cd\u53e0\u95ee\u9898\u3002\u5bf9\u4e8e\u51e0\u4e4e\u6bcf\u4e00\u4e2a\u683c\u5b50\uff0c\u5b83\u90fd\u5c5e\u4e8e $4$ \u4e2a $2\\times2$ \u7684\u77e9\u5f62\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u5bf9\u5b83\u64cd\u4f5c\u4e86 $4$ \u6b21\u3002\u90a3\u4e48\uff0c\u80fd\u4e0d\u80fd\u7528 $2\\times2$ \u7684\u77e9\u5f62\u4e0d\u91cd\u53e0\u5730\u8986\u76d6 $n\\times m$ \u5462\uff1f\u663e\u7136\uff0c\u5bf9\u4e8e $n$ \u4e0e $m$ \u90fd\u4e3a\u5076\u6570\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u662f\u53ef\u4ee5\u505a\u5230\u4e0d\u91cd\u53e0\u7684\u3002\u6b64\u65f6\u6700\u5927\u6b65\u6570\u4e3a $nm$ \u3002\u4f46\u662f\u5bf9\u4e8e $n$ \u548c $m$ \u6709\u5947\u6570\u7684\u60c5\u51b5\u65f6\uff0c\u6211\u4eec\u5c06\u76f4\u63a5\u7206\u70b8\u3002\u8fd9\u4e2a\u65f6\u5019\uff0c\u8981\u60f3\u4e0d\u91cd\u53e0\uff0c\u6211\u4eec\u9700\u8981\u53bb\u5904\u7406 $2\\times3$ \u3001$3\\times2$ \u3001$3\\times3$ \u7684\u77e9\u5f62~~\u4eec~~\u3002\n\n\u4e3a\u5565\u8fd9\u4e48\u8bf4\u5462\uff1f\u4e0a\u56fe\u3002\n\n\u5bf9\u4e8e $n$ \u5947 $m$ \u5076\u7684\u60c5\u51b5\uff1a\n![](https://cdn.luogu.com.cn/upload/image_hosting/c6r8ohy8.png)\n\n\u5bf9\u4e8e $n$ \u5076 $m$ \u5947\u7684\u60c5\u51b5\uff1a\n![](https://cdn.luogu.com.cn/upload/image_hosting/vxm2x128.png)\n\n\u5bf9\u4e8e $n$ \u3001 $m$ \u90fd\u4e3a\u5947\u7684\u60c5\u51b5\uff1a\n![](https://cdn.luogu.com.cn/upload/image_hosting/3b6ze8d1.png)\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4fdd\u8bc1 $2\\times3$ \u3001$3\\times2$ \u7684\u77e9\u5f62\u5f52\u96f6\u64cd\u4f5c\u6b21\u6570\u4e0d\u8d85\u8fc7 $6$ \uff0c$3\\times3$ \u7684\u77e9\u5f62\u5f52\u96f6\u64cd\u4f5c\u6b21\u6570\u4e0d\u8d85\u8fc7 $9$ \u3002\n\n\u8be5\u600e\u4e48\u505a\u5462\u2026\u2026\u8fd9\u662f\u8fd9\u9053\u9898\u7684\u4e00\u5927\u96be\u70b9\u3002~~\u6211\u751a\u81f3\u66fe\u7ecf\u6253\u7b97\u8fc7\u66b4\u529bbfs\u6253\u4e00\u4e2a512\u7684\u8868~~\u3002\u7ecf\u8fc7\u4e86 $1h$ \u7684\u6fc0\u70c8\u601d\u8003\u4e4b\u540e\uff0c\u6211\u60f3\u660e\u767d\u4e86\u3002\n\n\u9996\u5148\u6765\u8003\u8651 $2\\times3$ \u3001$3\\times2$ \u3002\u4ee5 $2\\times3$ \u4e3a\u4f8b\uff08\u56e0\u4e3a $3\\times2$ \u672c\u8d28\u4e0a\u4e0e\u4e4b\u76f8\u540c\uff0c\u7a0d\u52a0\u53d8\u901a\u5373\u53ef\uff09\uff0c\u5982\u679c\u6700\u5de6\u8fb9\u4e24\u4e2a\u6570\u540c\u65f6\u4e3a $0$ \u6216\u6700\u53f3\u8fb9\u4e24\u4e2a\u6570\u540c\u65f6\u4e3a $0$ \uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5ffd\u7565\u6389\u8fd9\u4e24\u4e2a $0$ \uff0c\u5bf9\u5269\u4e0b $4$ \u4e2a\u6570\u8fdb\u884c\u64cd\u4f5c\u3002\u5426\u5219\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u6700\u591a\u4e00\u6b65\u64cd\u4f5c\u7684\u4ee3\u4ef7\u6765\u8f6c\u79fb\u5230\u6709\u4e00\u8fb9\u5168\u4e3a $0$ \u7684\u8fd9\u79cd\u60c5\u51b5\u3002\u5bf9\u4e8e\u6700\u53f3\u8fb9\u4e00\u5217\u7684 $4$ \u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u522b\u7ed9\u51fa\u89e3\u7b54\uff1a\n```cpp\n? ? 0\n? ? 0:\u76f4\u63a5\u5bf9\u5de6\u8fb94\u4e2a\u6570\u8fdb\u884c\u64cd\u4f5c\uff0c\u6700\u591a4\u6b65\u3002\n\n? ? 0   o\u2502o\n? ? 1 : o\u2514\u2500\u3002\u8f6c\u5316\u4e3a0\uff0c0\u7684\u60c5\u51b5\uff0c\u6700\u591a5\u6b65\u3002\n\n? ? 1   o\u250c\u2500\n? ? 0 : o\u2502o\u3002\u8f6c\u5316\u4e3a0\uff0c0\u7684\u60c5\u51b5\uff0c\u6700\u591a5\u6b65\u3002\n\n? ? 1   oo\u2502\n? ? 1 : o\u2500\u2518\u3002\u8f6c\u5316\u4e3a0\uff0c0\u7684\u60c5\u51b5\uff0c\u6700\u591a5\u6b65\u3002\n```\n\u81f3\u6b64\uff0c\u6211\u4eec\u6210\u529f\u8d85\u989d\u5b8c\u6210\u4efb\u52a1\uff0c\u5728 $5$ \u6b65\u4e4b\u5185\u5b8c\u6210\u4e86\u5bf9 $2\\times3$ \u3001$3\\times2$ \u7684\u89e3\u7b54\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u518d\u8ba9\u6211\u4eec\u6765\u7814\u7a76\u7814\u7a76 $3\\times3$ \u7684\u60c5\u51b5\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u5982\u679c\u76f4\u63a5\u5bf9\u524d\u4e24\u884c\u505a\u4e00\u4e2a $2\\times3$ \uff0c\u518d\u5bf9\u540e\u4e24\u884c\u505a\u4e00\u4e2a $2\\times3$ \uff0c\u5c31\u80fd\u591f\u5b9e\u73b0\u5728 $10$ \u6b65\u4e4b\u5185\u5b8c\u6210 $3\\times3$ \u7684\u89e3\u7b54\u3002\u4f46\u662f\uff0c\u8ddd\u79bb $9$ \u6b65\u8fd8\u662f\u6709\u90a3\u4e48\u4e00\u70b9\u70b9\u5dee\u8ddd\u7684\u3002\n\n\u4e8b\u5b9e\u4e0a\uff0c\u5f53\u6211\u4eec\u5bf9\u524d\u4e24\u884c\u505a\u8fc7\u4e00\u6b21 $2\\times3$ \u540e\uff0c\u8fd9\u4e2a\u77e9\u5f62\u5c31\u4f1a\u53d8\u6210\u8fd9\u4e2a\u6837\u5b50\uff1a\n```cpp\n0 0 0\n0 0 0\n? ? ?\n```\n\u800c\u5982\u679c\u6700\u540e\u4e00\u884c\u7684\u7b2c\u4e00\u4e2a\u6216\u6700\u540e\u4e00\u4e2a\u4e3a $0$ \uff0c\u6309\u7167\u6211\u4eec\u4e4b\u524d\u7684\u4f18\u5316\uff0c\u5c06\u80fd\u591f\u5728 $4$ \u6b65\u4e4b\u5185\u5b8c\u6210\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u5171\u6700\u591a\u9700\u8981 $9$ \u6b65\u3002\u5426\u5219\uff0c\u8fd9\u4e2a\u77e9\u5f62\u53ea\u80fd\u957f\u8fd9\u6837\uff1a\n```cpp\n0 0 0\n0 0 0\n1 ? 1\n```\n\u800c\u53c8\u6839\u636e\u521a\u624d\u7684\u4f18\u5316\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u4e3a\n```cpp\n0 0 0\n1 1 1\n```\n\u6216\n```cpp\n0 0 0\n1 0 1\n```\n\u7684\u77e9\u5f62\uff0c\u5b83\u4eec\u7684\u5f52\u96f6\u64cd\u4f5c\u6b21\u6570\u5206\u522b\u4e3a $3$ \u548c $2$ \u3002\u4e5f\u5c31\u662f\u8bf4\u603b\u64cd\u4f5c\u6b21\u6570\u6700\u591a\u5206\u522b\u4e3a $8$ \u548c $7$ \u3002\u6240\u4ee5\u8bf4\uff0c\u6211\u4eec\u6210\u529f\u8bc1\u660e\u4e86\u76f4\u63a5\u5bf9\u524d\u4e24\u884c\u505a\u4e00\u4e2a $2\\times3$ \uff0c\u518d\u5bf9\u540e\u4e24\u884c\u505a\u4e00\u4e2a $2\\times3$ \uff0c\u6b65\u6570\u4e0d\u4f1a\u8d85\u8fc79\u3002\u81f3\u6b64\uff0c\u8fd9\u9053\u9898\u5c31\u534e\u4e3d\u5730\u7ed3\u675f\u4e86\u3002~~\u9887\u6709\u79cd\u52ab\u540e\u4f59\u751f\u7684\u4fa5\u5e78\u554a\u54c8\u54c8~~\n## \u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint temp[10005][10]={0},point=0,a[105][105]={0};\nvoid push_ans(int i,int j,int x,int y)//\u505a\u4e00\u6b21\u6700\u57fa\u7840\u64cd\u4f5c\uff0c\u4ee5i,j\u8fd9\u4e2a\u5c0f\u4e2a\u5b50\u4e3a\u5de6\u4e0a\u76842*2\u77e9\u5f62\uff0cx,y\u70b9\u4e0d\u8fdb\u884c\u64cd\u4f5c\n{\n\tpoint++;//\u603b\u7684\u64cd\u4f5c\u6b21\u6570 \n\tint xxx=0;\n\tfor(int ii=i;ii<=i+1;ii++)\n\t\tfor(int jj=j;jj<=j+1;jj++)\n\t\t\tif(ii!=x||jj!=y)\n\t\t\t{\n\t\t\t\txxx++;\n\t\t\t\ttemp[point][xxx]=ii;\n\t\t\t\txxx++;\n\t\t\t\ttemp[point][xxx]=jj;\n\t\t\t\ta[ii][jj]=1-a[ii][jj];//\u5b58\u50a8\u64cd\u4f5c\u4f4d\u7f6e\u5e76\u8fdb\u884c\u76f8\u5e94\u64cd\u4f5c\uff0c\u628a\u590d\u6742\u5ea6\u4e3a3\u7684\u53cd\u5411\u4f18\u5316\u6210\u590d\u6742\u5ea6\u4e3a4\uff08\u8bef\uff09\u5176\u5b9e\u662f\u4e3a\u4e86\u5c11\u6572\u70b9\u7801 \n\t\t\t}\n} \nvoid _2H2L(int i,int j)//\u4e24\u884c\u4e24\u5217\u7684\u5f52\u96f6\u64cd\u4f5c \n{\n\tint a11=a[i][j],a12=a[i][j+1],a21=a[i+1][j],a22=a[i+1][j+1];//\u628a\u6570\u8bfb\u51fa\u6765 \n\tif(a11==0&&a12==0&&a21==0&&a22==0) return;\n\telse if(a11==0&&a12==0&&a21==0&&a22==1)\n\t{\n\t\tpush_ans(i,j,i,j);\n\t\tpush_ans(i,j,i,j+1);\n\t\tpush_ans(i,j,i+1,j);\n\t}\n\telse if(a11==0&&a12==0&&a21==1&&a22==0)\n\t{\n\t\tpush_ans(i,j,i,j+1);\n\t\tpush_ans(i,j,i+1,j+1);\n\t\tpush_ans(i,j,i,j);\n\t}\n\telse if(a11==0&&a12==0&&a21==1&&a22==1)\n\t{\n\t\tpush_ans(i,j,i+1,j+1);\n\t\tpush_ans(i,j,i+1,j);\n\t}\n\telse if(a11==0&&a12==1&&a21==0&&a22==0)\n\t{\n\t\tpush_ans(i,j,i+1,j);\n\t\tpush_ans(i,j,i+1,j+1);\n\t\tpush_ans(i,j,i,j);\n\t}\n\telse if(a11==0&&a12==1&&a21==0&&a22==1)\n\t{\n\t\tpush_ans(i,j,i+1,j+1);\n\t\tpush_ans(i,j,i,j+1);\n\t}\n\telse if(a11==0&&a12==1&&a21==1&&a22==0)\n\t{\n\t\tpush_ans(i,j,i,j+1);\n\t\tpush_ans(i,j,i+1,j);\n\t}\n\telse if(a11==0&&a12==1&&a21==1&&a22==1)\n\t{\n\t\tpush_ans(i,j,i,j);\n\t}\n\telse if(a11==1&&a12==0&&a21==0&&a22==0)\n\t{\n\t\tpush_ans(i,j,i+1,j+1);\n\t\tpush_ans(i,j,i+1,j);\n\t\tpush_ans(i,j,i,j+1);\n\t}\n\telse if(a11==1&&a12==0&&a21==0&&a22==1)\n\t{\n\t\tpush_ans(i,j,i,j);\n\t\tpush_ans(i,j,i+1,j+1);\n\t}\n\telse if(a11==1&&a12==0&&a21==1&&a22==0)\n\t{\n\t\tpush_ans(i,j,i,j);\n\t\tpush_ans(i,j,i+1,j);\n\t}\n\telse if(a11==1&&a12==0&&a21==1&&a22==1)\n\t\tpush_ans(i,j,i,j+1);\n\telse if(a11==1&&a12==1&&a21==0&&a22==0)\n\t{\n\t\tpush_ans(i,j,i,j+1);\n\t\tpush_ans(i,j,i,j);\t\t\n\t}\n\telse if(a11==1&&a12==1&&a21==0&&a22==1)\n\t\tpush_ans(i,j,i+1,j);\n\telse if(a11==1&&a12==1&&a21==1&&a22==0)\n\t\tpush_ans(i,j,i+1,j+1);\n\telse if(a11==1&&a12==1&&a21==1&&a22==1)\n\t{\n\t\tpush_ans(i,j,i+1,j+1);\n\t\tpush_ans(i,j,i,j);\n\t\tpush_ans(i,j,i,j+1);\n\t\tpush_ans(i,j,i+1,j);\n\t}\n}\nvoid _2H3L(int i,int j)//\u4e24\u884c\u4e09\u5217 \n{\n\tif(a[i][j]==0&&a[i+1][j]==0)//\u5224\u662f\u5426\u6709\u4e00\u8fb9\u4e3a0 \n\t\t_2H2L(i,j+1);\n\telse if(a[i][j+2]==0&&a[i+1][j+2]==0)\n\t\t_2H2L(i,j);\n\telse if(a[i][j+2]==0&&a[i+1][j+2]==1)\n\t{\n\t\tpush_ans(i,j+1,i,j+2);\n\t\t_2H2L(i,j);\n\t}\n\telse if(a[i][j+2]==1&&a[i+1][j+2]==0)\n\t{\n\t\tpush_ans(i,j+1,i+1,j+2);\n\t\t_2H2L(i,j);\n\t}\n\telse if(a[i][j+2]==1&&a[i+1][j+2]==1)\n\t{\n\t\tpush_ans(i,j+1,i,j+1);\n\t\t_2H2L(i,j);\n\t}\n}\nvoid _3H2L(int i,int j)//\u4e09\u884c\u4e24\u5217\uff0c\u7801\u548c\u4e24\u884c\u4e09\u5217\u5927\u540c\u5c0f\u5f02 \n{\n\tif(a[i][j]==0&&a[i][j+1]==0)\n\t\t_2H2L(i+1,j);\n\telse if(a[i+2][j]==0&&a[i+2][j+1]==0)\n\t\t_2H2L(i,j);\n\telse if(a[i+2][j]==0&&a[i+2][j+1]==1)\n\t{\n\t\tpush_ans(i+1,j,i+2,j);\n\t\t_2H2L(i,j);\n\t}\n\telse if(a[i+2][j]==1&&a[i+2][j+1]==0)\n\t{\n\t\tpush_ans(i+1,j,i+2,j+1);\n\t\t_2H2L(i,j);\n\t}\n\telse if(a[i+2][j]==1&&a[i+2][j+1]==1)\n\t{\n\t\tpush_ans(i+1,j,i+1,j);\n\t\t_2H2L(i,j);\n\t}\n}\nvoid _3H3L(int i,int j)//\u7b80\u6d01\u660e\u5feb\u7684\u4e09\u884c\u4e09\u5217\uff08\u6211\u6700\u5927\u4f46\u662f\u6211\u6700\u77ed\uff09\n{\n\t_2H3L(i,j);\n\t_2H3L(i+1,j);\n}\nint main(){\n\tint t,n,m;\n\tcin>>t;\n\tfor(int ii=1;ii<=t;ii++)\n\t{\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tmemset(temp,0,sizeof(temp));\n\t\tpoint=0;\n\t\tgetchar();\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tfor(int k=1;k<=m;k++)\n\t\t\t{\n\t\t\t\tchar c=getchar();\n\t\t\t\ta[j][k]=c-'0';\n\t\t\t}\n\t\t\tgetchar();\n\t\t}//\u8bfb\u5165 \n\t\tif(n%2==0&&m%2==0)\n\t\t\tfor(int i=1;i<=n-1;i+=2)\n\t\t\t\tfor(int j=1;j<=m-1;j+=2)\n\t\t\t\t\t_2H2L(i,j);\n\t\telse if(n%2==1&&m%2==0)\n\t\t{\n\t\t\tfor(int i=1;i<=n-3;i+=2)\n\t\t\t\tfor(int j=1;j<=m-1;j+=2)\n\t\t\t\t\t_2H2L(i,j);\n\t\t\tfor(int i=1;i<=m-1;i+=2)\n\t\t\t\t_3H2L(n-2,i);\n\t\t}\n\t\telse if(n%2==0&&m%2==1)\n\t\t{\n\t\t\tfor(int i=1;i<=n-1;i+=2)\n\t\t\t\tfor(int j=1;j<=m-3;j+=2)\n\t\t\t\t\t_2H2L(i,j);\n\t\t\tfor(int i=1;i<=n-1;i+=2)\n\t\t\t\t_2H3L(i,m-2);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int i=1;i<=n-3;i+=2)\n\t\t\t\tfor(int j=1;j<=m-3;j+=2)\n\t\t\t\t\t_2H2L(i,j);\n\t\t\tfor(int i=1;i<=m-3;i+=2)\n\t\t\t\t_3H2L(n-2,i);\n\t\t\tfor(int i=1;i<=n-3;i+=2)\n\t\t\t\t_2H3L(i,m-2);\n\t\t\t_3H3L(n-2,m-2);\n\t\t}\n\t\tprintf(\"%d\\n\",point);\n\t\tfor(int i=1;i<=point;i++)\n\t\t{\n\t\t\tfor(int j=1;j<=6;j++)\n\t\t\t\tprintf(\"%d \",temp[i][j]);\n\t\t\tprintf(\"\\n\");\n\t\t}//\u8f93\u51fa \n\t}\n\treturn 0;\n} \n```\n------------\n\u8fd9\u7bc7\u4e00\u5b9a\u8981\u8fc7\u554a$qaq$",
        "postTime": 1637994282,
        "uid": 455093,
        "name": "Schi2oid",
        "ccfLevel": 7,
        "title": "CF1439A2 Binary Table (Hard Version) \u9898\u89e3"
    },
    {
        "content": "# CF1439A2 Binary Table (Hard Version)\n\n## \u9898\u610f:\n\n\u548c\u672c\u9898\u7b80\u5355\u7248\u672c\u89c4\u5219\u4e00\u6837\uff0c\u7ed9\u51fa $n*m$ \u7684\u77e9\u9635\uff0c\u6bcf\u6b21\u64cd\u4f5c\u5bf9\u4efb\u610f $2*2$ \u7684\u683c\u5b50\u5185\u7684\u4e09\u4e2a\u70b9\u53d6\u53cd\uff0c\u6700\u540e\u5c06\u6574\u4e2a\u77e9\u9635\u53d8\u4e3a $0$\u3002\u53ea\u662f\u64cd\u4f5c\u6b21\u6570\u9700\u8981\u63a7\u5236\u5728 $nm$ \u6b21\u800c\u4e0d\u662f $3nm$ \u6b21\u3002\n\n## \u7b80\u5355\u7248\u672c\n\n\u5bf9\u4e8e\u5728\u67d0\u4e2a $2*2$ \u683c\u5b50\u5185\u7684 $1$\uff0c\u53ef\u4ee5\u5728\u4e09\u6b21\u64cd\u4f5c\u540e\u5728\u5176\u4ed6\u4e09\u4e2a\u6570\u4e0d\u53d8\u7684\u57fa\u7840\u4e0a\u4fee\u6539\u5b83\u4e3a $0$\uff0c\u5982\u4fee\u6539\u683c\u5b50 $(i,j)$ \u5177\u4f53\u64cd\u4f5c\u65b9\u5f0f\u5c31\u662f\u8fd9\u6837\uff1a\n\n```\ni, j   i - 1, j       i - 1, j - 1\ni, j   i - 1, j       i, j - 1\ni, j   i - 1, j - 1   i, j - 1\n```\n\n\u6700\u591a\u6709 $nm$ \u4e2a $1$\uff0c\u6bcf\u4e2a $1$ \u64cd\u4f5c $3$ \u6b21\uff0c\u6240\u4ee5\u6700\u591a\u64cd\u4f5c $3nm$ \u6b21\u3002\n\n## \u4f18\u5316\n\n\u8fd9\u4e2a\u60f3\u6cd5\u6765\u81ea\u4e00\u9053[\u72b6\u538bDP\u9898](https://www.luogu.com.cn/problem/P2595)\uff0c\u4e00\u884c\u4e00\u884c\u5730\u8ba8\u8bba\uff0c\u4fdd\u8bc1\u5f53\u524d\u884c\u6ca1\u6709 $1$ \u7684\u524d\u63d0\u4e0b\uff0c\u5c3d\u53ef\u80fd\u8ba9\u6b65\u6570\u6700\u5c11\u3002\n\n\u679a\u4e3e\u884c\u6570 $i$ \u548c\u5217\u6570 $j$\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u79cd\u60c5\u51b5\u5206\u522b\u8fdb\u884c\u64cd\u4f5c\u3002\u8ba8\u8bba\u5c40\u90e8 $1$ \u7684\u5206\u5e03\uff0c\u7136\u540e\u8fdb\u884c\u6700\u4f18\u64cd\u4f5c\uff0c\u6700\u540e\u5c06\u64cd\u4f5c\u6570\u63a7\u5236\u5728 $nm$ \u4ee5\u5185\uff0c\u5177\u4f53\u64cd\u4f5c\u53c2\u89c1\u4ee3\u7801\u6ce8\u91ca\u3002\n\n\u5bf9\u4e8e\u8fb9\u754c\uff08\u6700\u540e\u4e00\u884c\uff09\uff0c\u5206\u51e0\u79cd\u60c5\u51b5\u8ba8\u8bba\uff0c\u5bf9\u4e8e\u6bcf $2$ \u5217\u7684\u4efb\u4f55\u60c5\u51b5\uff0c\u6700\u591a\u64cd\u4f5c $2$ \u6b21\u3002\n\n\u5bf9\u6240\u6709\u7684\u60c5\u51b5, \u6bcf\u4e2a $1$ \u6700\u591a\u4f7f\u7528 $1$ \u6b21\u64cd\u4f5c\uff0c\u5373\u4f7f\u662f\u7b97\u4e0a\u524d\u4e00\u5217\u7684\u64cd\u4f5c\u7ed9\u540e\u4e00\u5217\u589e\u52a0\u7684 $1$\uff0c\u4e5f\u6700\u591a\u53ea\u8981\u8003\u8651 $nm$ \u4e2a $1$\uff0c\u6240\u4ee5\u603b\u64cd\u4f5c\u6570\u4e5f\u4e0d\u8d85\u8fc7 $nm$\u3002\uff08\u4ee3\u7801\u6ce8\u91ca\u4e2d\u7684\u8bc1\u660e\u66f4\u52a0\u4e25\u8c28\uff09\n\n## \u4ee3\u7801\uff08\u4e3b\u51fd\u6570\uff09\n\n```cpp\nint main() {\n  t = RD();  //\u8bfb\u5165\u4f18\u5316 \u51fd\u6570\u7701\u7565\n  for (register int T(1); T <= t; ++T) {\n    Clr();  //\u521d\u59cb\u5316\u53d8\u91cf \u51fd\u6570\u7701\u7565\n    n = RD();\n    m = RD();\n    for (register int i(1); i <= n; ++i) {\n      gets(s);  //\u6309\u884c\u8bfb\u5165\n      for (register int j(1); j <= m; ++j) {\n        b[i][j] = s[j - 1] - '0';  //\u5b58\u4e3a bool \u6570\u7ec4\n        if (b[i][j]) {\n          ++cnt1;\n        }\n      }\n    }\n    for (register int i(1); i < n; ++i) {  //\u679a\u4e3e\u884c\u6570, \u6700\u540e\u4e00\u884c\u5355\u72ec\u8ba8\u8bba\n      for (register int j(1); j < m; j++) {  //\u679a\u4e3e\u5217\u6570, \u6700\u540e\u4e00\u5217\u5355\u72ec\u8ba8\u8bba\n        if (!b[i][j]) {                      //\u5f53\u524d\u4e3a0\n          if (b[i][j + 1] && b[i + 1][j] &&\n              b[i + 1][j + 1]) {  //\u4f46\u662f\u53f3\u8fb9, \u4e0b\u8fb9, \u53f3\u4e0b\u4e09\u4e2a\u683c\u5b50\u6070\u597d\u53ef\u4ee5\u4e00\u6b21\u6d88\u6389\n            sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, j + 1, i + 1, j + 1,\n                    i + 1, j);  //\u53d6\u53cd(3\u4e2a1, 1\u6b21\u64cd\u4f5c)\n            b[i][j + 1] = 0;\n            b[i + 1][j] = 0;\n            b[i + 1][j + 1] = 0;  //\u7ef4\u62a4\u6570\u7ec4\n            ++j;  //\u7531\u4e8e\u4e00\u6b21\u8ba8\u8bba\u4e86\u4e24\u5217, \u989d\u5916\u5f80\u540e\u79fb\u52a8\u4e00\u683c\n          }\n          continue;  //\u53cd\u6b63\u5f53\u524d\u683c\u5b50\u662f0, \u5c31\u5f80\u4e0b\u8ba8\u8bba\n        }\n        if (b[i][j] && b[i][j + 1]) {  //\u8fde\u7eed\u4e24\u4e2a\u683c\u5b50\u90fd\u67091,\n                                       //\u5206\u4e09\u7c7b\u8ba8\u8bba\u4e0b\u4e00\u884c\u4e24\u4e2a\u683c\u5b50\u7684\u4e09\u79cd\u60c5\u51b5\n          b[i][j + 1] = 0;\n          if (b[i + 1][j]) {  //\u5de6\u4e0b\u662f1, \u5c06\u4e09\u4e2a1\u540c\u65f6\u6d88\u9664\n            sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, j, i, j + 1, i + 1,\n                    j);  // 3\u4e2a1, 1\u6b21\u64cd\u4f5c\n            b[i + 1][j] = 0;\n          } else {\n            if (b[i + 1][j + 1]) {  //\u53f3\u4e0b\u662f1, \u540c\u6837\u540c\u65f6\u6d88\u9664\u4e09\u4e2a1\n              sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, j, i, j + 1, i + 1,\n                      j + 1);  // 3\u4e2a1, 1\u6b21\u64cd\u4f5c\n              b[i + 1][j + 1] = 0;\n            } else {  //\u4e0b\u65b9\u4e24\u4e2a0, \u6216\u4e24\u4e2a1,\n                      //\u7528\u4e24\u6b65\u5728\u4e0d\u7834\u574f\u4e0b\u4e00\u884c\u7684\u57fa\u7840\u4e0a\u6d88\u9664\u8fd9\u4e00\u884c\u7684\u4e24\u4e2a1\n              sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, j, i + 1, j, i + 1,\n                      j + 1);\n              sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, j + 1, i + 1, j,\n                      i + 1, j + 1);  // 2\u4e2a1, 2\u6b21\u64cd\u4f5c\n            }\n          }\n          ++j;  //\u7531\u4e8e\u4e00\u6b21\u64cd\u4f5c\u4e24\u5217, \u6240\u4ee5 j \u989d\u5916\u589e\u52a0 1\n          continue;\n        }\n        if (j + 2 <= m) {  //\u7531\u4e8e\u4e4b\u524d\u5df2\u7ecf\u8ba8\u8bba\u8fc7\u5f53\u524d\u683c\u4e3a0\u7684\u60c5\u51b5,\n                           //\u6240\u4ee5\u80fd\u8fd0\u884c\u5230\u8fd9\u91cc\u7684\u5f53\u524d\u683c\u4e00\u5b9a\u662f1\n          if (b[i][j + 2] &&\n              (!b[i + 1]\n                 [j + 1])) {  //\u4e24\u4e2a1\u4e2d\u95f4\u9694\u4e00\u4e2a0,\n                              //\u53ef\u4ee5\u7528\u4e24\u6b65\u5728\u4e0d\u4fee\u6539\u5176\u4ed6\u683c\u7684\u60c5\u51b5\u4e0b\u5bf9\u8fd9\u4e24\u4e2a1\u53d6\u53cd\n            sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, j, i, j + 1, i + 1,\n                    j + 1);\n            sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, j + 2, i, j + 1,\n                    i + 1, j + 1);  // 2\u4e2a1, 2\u6b21\u64cd\u4f5c\n            b[i][j + 2] = 0;\n            j += 2;  //\u7531\u4e8e\u4e00\u4e0b\u5b50\u8003\u8651\u4e86\u4e09\u5217, \u6240\u4ee5 j \u989d\u5916\u52a02\n            continue;\n          }\n        }\n        if ((!b[i + 1][j]) &&\n            (b[i + 1][j + 1])) {  //\u57282*2\u683c\u5b50\u7684\u5bf9\u89d2\u7ebf\u4e0a\u6709\u4e24\u4e2a1,\n                                  //\u53ef\u4ee5\u4e24\u6b65\u89e3\u51b3\u8fd9\u4e24\u4e2a1\n          sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, j, i, j + 1, i + 1, j);\n          sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, j + 1, i + 1, j, i + 1,\n                  j + 1);  // 2\u4e2a1, 2\u6b21\u64cd\u4f5c\n          b[i + 1][j + 1] = 0;\n          ++j;  //\u989d\u5916\u52a01, \u540c\u4e0a\n          continue;\n        }\n        //\u5728\u9664\u53bb\u524d\u9762\u4f17\u591a\u60c5\u51b5\u540e, \u53ea\u5269\u4e0b\u4e86\u4e00\u79cd\u6700\u666e\u901a\u7684\u60c5\u51b5,\n        //\u5728\u4ee5(i,j)\u4e3a\u5de6\u4e0a\u89d2\u76842*2\u65b9\u683c\u4e2d,\n        //\u5de6\u4e0a\u89d2\u4e3a1, \u53f3\u4e0a\u89d2\u4e3a0, \u5de6\u4e0b\u89d2\u672a\u77e5, \u53f3\u4e0b\u89d2\u4e3a0,\n        //\u8fd9\u65f6\u53ea\u80fd\u7528\u4e00\u4e2a\u64cd\u4f5c, \u5728\u6539\u53d8\u4e0b\u4e00\u884c\u4e24\u4e2a\u683c\u5b50\u7684\u4ee3\u4ef7\u4e0b, \u5c06(i,j)\u76841\u53d6\u53cd\n        sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, j, i + 1, j + 1, i + 1,\n                j);  // 1\u4e2a1, 1\u6b21\u64cd\u4f5c\n        b[i + 1][j] ^= 1;\n        b[i + 1][j + 1] ^= 1;\n        continue;\n      }\n      if (b[i][m]) {  //\u5bf9\u4e8e\u6700\u540e\u4e00\u5217, \u60c5\u51b5\u8f83\u4e3a\u7279\u6b8a, \u56e0\u4e3a\u6ca1\u6709\u53f3\u8fb9\u7684\u683c\u5b50\u4e86\n        if (b[i + 1][m - 1] &&\n            (!b[i + 1]\n               [m])) {  //\u4e5f\u662f\u7c7b\u4f3c\u7684\u5bf9\u89d2\u7ebf, \u53ea\u4e0d\u8fc7\u65b9\u5411\u548c\u4e4b\u524d\u7684\u90a3\u79cd\u60c5\u51b5\u5782\u76f4\n          sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, m, i, m - 1, i + 1, m);\n          sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i + 1, m - 1, i, m - 1,\n                  i + 1, m);  // 2\u4e2a1, 2\u6b21\u64cd\u4f5c\n          b[i + 1][m - 1] = 0;\n          continue;\n        }\n        //\u6700\u540e\u5269\u4e0b\u7684\u60c5\u51b5, \u5373\u4ee5(i,m)\u4e3a\u53f3\u4e0a\u89d2\u76842*2\u683c\u5b50\u91cc,\n        //\u5de6\u4e0a\u89d2\u4e3a0, \u53f3\u4e0a\u89d2\u4e3a1, \u5de6\u4e0b\u89d2\u4e3a0, \u53f3\u4e0b\u89d2\u672a\u77e5,\n        //\u53d6\u53cd\u4e0b\u4e00\u884c\u4e24\u4e2a\u70b9\u4e3a\u4ee3\u4ef7, \u53d6\u53cd(i,m)\u76841\n        sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", i, m, i + 1, m, i + 1,\n                m - 1);  // 1\u4e2a1, 1\u6b21\u64cd\u4f5c\n        b[i + 1][m] ^= 1;\n        b[i + 1][m - 1] ^= 1;\n        continue;\n      }\n    }\n    for (register int i(1); i < m; i++) {  //\u5bf9\u4e8e\u6700\u540e\u4e00\u884c\n      if (!b[n][i]) {                      //\u6ca1\u67091\u5c31\u4e0d\u64cd\u4f5c\u4e86, \u8df3\u8fc7\n        continue;\n      }\n      if (b[n][i] && b[n][i + 1]) {  //\u4e24\u4e2a\u8fde\u7eed\u76841\n        sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", n - 1, i, n - 1, i + 1, n,\n                i);\n        sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", n - 1, i, n - 1, i + 1, n,\n                i + 1);  // 2\u4e2a1, 2\u6b21\u64cd\u4f5c\n        b[n][i + 1] = 0;\n        ++i;\n        continue;\n      }\n      if (i + 2 <= m) {     //\u8fd9\u65f6\u5df2\u7ecf\u786e\u5b9a(n,i)\u4e3a1, (n,i+1)\u4e3a0\u4e86\n        if (b[n][i + 2]) {  //\u4e24\u4e2a1\u4e2d\u95f4\u9694\u4e86\u4e00\u4e2a0\n          sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", n, i, n - 1, i + 1, n,\n                  i + 1);\n          sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", n, i + 2, n - 1, i + 1, n,\n                  i + 1);  // 2\u4e2a1, 2\u6b21\u64cd\u4f5c\n          b[n][i + 2] = 0;\n          i += 2;\n          continue;\n        }\n      }\n      //\u8fd9\u79cd\u60c5\u51b5\u6bd4\u8f83\u5c11\u89c1, \u4f46\u662f\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u65f6, (n,i + 1),(n,i + 2)\u90fd\u4e00\u5b9a\u4e3a0,\n      //\u6240\u4ee5\u76f8\u5f53\u4e8e\u628a\u672c\u6765\u53f3\u8fb9\u4e24\u4e2a\u683c\u5b50\u7684\u64cd\u4f5c\u9884\u7b97\u900f\u652f\u5728\u4e86\u8fd9\u4e2a\u683c\u5b50\u4e0a,\n      //\u6240\u4ee5\u64cd\u4f5c\u6570\u8fd8\u662f\u5bf9\u7684\n      sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", n, i, n - 1, i, n - 1, i + 1);\n      sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", n, i, n - 1, i, n, i + 1);\n      sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", n, i, n - 1, i + 1, n, i + 1);\n      continue;\n    }\n    if (b[n][m]) {  //\u5bf9\u4e8e\u6700\u540e\u4e00\u4e2a\u683c\u5b50\u4e3a1, \u4e5f\u6709\u8fd9\u79cd\u60c5\u51b5,\n                    //\u53f3\u8fb9\u4e5f\u6ca1\u6709\u4e3a0\u7684\u683c\u5b50\u7684\u64cd\u4f5c\u6570\u4f9b\u5b83\u900f\u652f,\n                    //\u5de6\u8fb9\u7684\u683c\u5b50\u5c31\u7b97\u662f0, \u4e5f\u53ef\u80fd\u5df2\u7ecf\u88ab\u900f\u652f\u4e86,\n                    //\u4f46\u662f\u522b\u5fd8\u4e86, \u53ea\u6709\u6700\u540e\u4e00\u884c\u6709\u900f\u652f\u8fd9\u79cd\u4e1c\u897f,\n                    //\u5728\u524d\u9762\u7684\u884c\u91cc\u9762\u53ea\u6709\u67d0\u4e9b\u6781\u9650\u6570\u636e\u624d\u4f1a\u5403\u6ee1m(n-1)\u79cd\u64cd\u4f5c,\n                    //\u5bf9\u4e8e\u6211\u7684\u7b97\u6cd5, \u8fd9\u79cd\u6570\u636e\u5fc5\u987b\u6ee1\u8db3m\u4e3a\u5076\u6570, \u7b2c\u4e00\u884c\u5168\u662f1,\n                    //\u540e\u9762(n-1)\u884c\u5168\u662f0,\n                    //\u800c\u8fd9\u79cd\u6570\u636e\u7684(m,n)\u662f\u53d6\u4e0d\u52301\u7684,\n                    //\u800c\u5176\u4ed6\u6570\u636e\u603b\u80fd\u6324\u51fa\u4e00\u4e24\u4e2a\u53ef\u4f9b\u900f\u652f\u7684\u64cd\u4f5c\u6570,\u6240\u4ee5\u7b97\u6cd5\u6b63\u786e\n      sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", n, m, n - 1, m, n - 1, m - 1);\n      sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", n, m, n - 1, m, n, m - 1);\n      sprintf(ans[++cnta], \"%d %d %d %d %d %d\\n\", n, m, n - 1, m - 1, n, m - 1);\n    }\n    printf(\"%d\\n\", cnta);  //\u7edf\u8ba1\u7684\u64cd\u4f5c\u6570\n    for (register int i(1); i <= cnta; ++i) {\n      printf(ans[i]);  //\u65e9\u5df2\u7ecf\u6309\u683c\u5f0f\u4f5c\u4e3a\u5b57\u7b26\u4e32\u5b58\u8d77\u6765(sprintf())\u7684\u64cd\u4f5c\n    }\n  }\n  return 0;\n}\n```",
        "postTime": 1607844265,
        "uid": 143771,
        "name": "\u6bd4\u5229\u2642\u6d77\u7075\u987f",
        "ccfLevel": 8,
        "title": "# CF1439A2 Binary Table (Hard Version)"
    },
    {
        "content": "\u8fd9\u9898\u5176\u5b9e\u5c31\u662f\u4e2a\u5355\u7eaf\u7684\u66b4\u529b\u9898\uff0c\u6211\u4eec\u5148\u4ece\u4e0a\u5f80\u4e0b\uff0c\u4ece\u5de6\u5f80\u53f3\uff0c\u4e00\u4e2a\u4e00\u4e2a\u904d\u5386\uff0c\u5047\u5982\u5f53\u524d\u4f4d\u7f6e\u662f1\uff0c\u90a3\u80af\u5b9a\u662f\u8981\u6539\u53d8\u62100\uff0c\u4e3a\u4e86\u4e0d\u5f71\u54cd\u4e4b\u524d\u5df2\u7ecf\u786e\u5b9a\u8fc7\u7684\uff0c\u6211\u4eec\u6bcf\u6b21\u5c06\u5f53\u524d\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u6b63\u4e0b\u65b9\u7684\u6570\u5b57\uff0c\u7136\u540e\u7b2c\u4e09\u4e2a\u6570\u5b57\u968f\u4fbf\u9009\u53f3\u8fb9\u6216\u8005\u53f3\u4e0b\u7684\u6570\u5b57\u90fd\u53ef\u4ee5\uff0c\u5f53\u7136\uff0c\u5047\u5982\u5f53\u524d\u4f4d\u7f6e\u5728\u53f3\u8fb9\u754c\u4e86\uff0c\u90a3\u9009\u62e9\u4e0b\u65b9\u548c\u5de6\u4e0b\u65b9\u5373\u53ef\uff0c\u4ece\u4e0a\u5f80\u4e0b\u904d\u5386\u524d$n-2$\u884c\uff0c\u518d\u904d\u5386\u6700\u540e2\u884c\u7684\u524d$m-2$\u4e2a\uff0c\u4fdd\u7559\u6700\u540e\u4e00\u4e2a$2*2$\u7684\u77e9\u9635\uff0c\u5bf9\u4ed6\u5355\u72ec\u5206\u6790\u5373\u53ef\uff0c\u5047\u5982\u91cc\u9762\u6ca1\u67091\u76f4\u63a5\u8f93\u51fa\u5c31\u597d\uff0c\u5047\u5982\u91cc\u9762\u6709\u4e00\u4e2a1\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u6790\u5f97\u51fa\uff0c1\u7684\u683c\u5b50\u64cd\u4f5c\u6b21\u6570\u5fc5\u7136\u662f$2*k+1$,\u5176\u4ed6\u683c\u5b50\u7684\u64cd\u4f5c\u6b21\u6570\u662f\u5206\u522b\u662f$2*a$,$2*b$,$2*c$,\u800c\u4ed6\u4eec\u76f8\u52a0\u5f97\u662f$3*x$\u6b21\uff0c\u6240\u4ee5\u6211\u4eec\u6613\u5f97\u503c\u4e3a1\u7684\u683c\u5b50\u7684\u64cd\u4f5c\u6700\u5c0f\u662f3\uff0c\u5176\u4ed63\u4e2a\u683c\u5b50\u7684\u64cd\u4f5c\u6b21\u6570\u90fd\u662f2\uff0c\u6240\u4ee5\u5f534\u4e2a\u683c\u5b50\u7684\u548c\u4e3a1\u65f6\uff0c\u64cd\u4f5c\u6b21\u6570\u4e3a3\uff0c\u8bbe1\u7684\u683c\u5b50\u4e3aa\uff0c\u5176\u4ed63\u4e2a\u683c\u5b50\u4e3ab,c,d,\u7ffb\u8f6c\u64cd\u4f5c\u5206\u522b\u662f$\uff08a,b,c),(a,b,d),(a,c,d)$\n\n\u5f534\u4e2a\u683c\u5b50\u7684\u548c\u4e3a2\u65f6\uff0c2\u4e2a1\u7684\u683c\u5b50\u7684\u64cd\u4f5c\u6b21\u6570\u5206\u522b\u662f$2*k+1$\u548c$2*l+1$,\u5176\u4ed62\u4e2a\u683c\u5b50\u5206\u522b\u662f$2*a$\u548c$2*b$\uff0c\u76f8\u52a0\u4f9d\u7136\u5f97\u4e3a$3*n$\uff0c\u6240\u4ee5\u6613\u5f972\u4e2a1\u7684\u683c\u5b50\u64cd\u4f5c\u6b21\u6570\u90fd\u4e3a1\uff0c0\u7684\u683c\u5b50\u90fd\u4e3a2\uff0c\u8bbe2\u4e2a1\u7684\u683c\u5b50\u5206\u522b\u4e3aa\uff0cb\uff0c2\u4e2a0\u7684\u683c\u5b50\u5206\u522b\u4e3ac\uff0cd\uff0c\u90a3\u4e48\u64cd\u4f5c\u5c31\u662f(a,c,d),(b,c,d)\uff0c\u603b\u64cd\u4f5c\u6b21\u6570\u4e3a2\u6b21\u3002\n\n\u5f534\u4e2a\u683c\u5b50\u7684\u548c\u4e3a3\u65f6\uff0c\u8bbe3\u4e2a1\u7684\u683c\u5b50\u5206\u522b\u4e3aa,b,c,0\u7684\u683c\u5b50\u4e3ad,\u90a3\u4e48\u540c\u7406\u5206\u6790\uff0c\u53ef\u5f97\u51fa\u6b21\u6570\u5206\u522b\u4e3a1\uff0c1\uff0c1\uff0c0\uff0c\u64cd\u4f5c\u4e3a(a,b,c)\uff0c\u603b\u64cd\u4f5c\u6b21\u6570\u4e3a1\u6b21\n\n\u5f534\u4e2a\u683c\u5b50\u5168\u4e3a1\u65f6\uff0c\u6b21\u6570\u5206\u522b\u4e3a3,3,3,3,\u64cd\u4f5c\u4e3a(a,b,c),(b,c,d),(c,d,a),(d,a,b)\uff0c\u603b\u64cd\u4f5c\u6b21\u6570\u4e3a4\u3002\n\n\u6240\u4ee5\u53ef\u4ee5\u770b\u51fa\uff0c\u5c06\u524d\u9762\u7684\u5168\u90e8\u66b4\u529b\u5904\u7406\uff0c\u53ea\u7559\u6700\u540e\u4e00\u4e2a$2*2$\u7684\u77e9\u9635\u8fdb\u884c\u5355\u72ec\u5206\u6790\uff0c\u77e9\u9635\u7684\u6b21\u6570\u4e5f\u4e0d\u4f1a\u8d85\u8fc74\u6b21\uff0c\u524d\u9762\u7684\u6b21\u6570\u6700\u591a\u4e3a$n*m-4$\uff0c\u6240\u4ee5\u4e0d\u4f1a\u8d85\u8fc7$n*m$\n\u4ee5\u4e0b\u4e3aac\u4ee3\u7801\uff1a\uff08\u5224\u65ad\u6b21\u6570\u7684\u65f6\u5019\u5199\u7684\u8fc7\u5206\u590d\u6742\u4e86\uff0c\u4f46\u6211\u61d2\u5f97\u5199\u7b80\u6d01\u4e86\uff0c\u603b\u4e4b\u5927\u6982\u610f\u601d\u5927\u5bb6\u90fd\u61c2\uff09\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,n) for(int i=a;i<n;i++)\n#define per(i,a,n) for(int i=n-1;i>=a;i--)\ntypedef long long ll;\ntypedef double db;\ntypedef pair<int,int> P;\ntypedef vector<int> VI;\n//const ll mod=1000000007;\nconst int maxn=2e2+10;\nconst int inf=0x3f3f3f3f;\n//const ll inf = 1e18;\n//const int inf=0x7fffffff;\nll gcd(ll a,ll b) {\n    return b?gcd(b,a%b):a;\n}\n//\t  freopen(\"1.txt\",\"r\",stdin);\n//    freopen(\"2.txt\",\"w\",stdout);\n#define ms(a) memset(a,0,sizeof(a))\n#define mss(a) memset(a,-1,sizeof(a))\n#define msi(a) memset(a,inf,sizeof(a))\n#define iossync ios::sync_with_stdio(false);cin.tie(0);cout.tie(0);\n//head\nint a[maxn][maxn];\nint n,m;\nint T;\nint cnt=0;\nstruct node{\n\tint a[6];\n\tnode(int x,int x1,int x2,int x3,int x4,int x5)\n\t{\n\t\ta[0]=x,a[1]=x1,a[2]=x2,a[3]=x3,a[4]=x4,a[5]=x5;\n\t}\n\tnode()\n\t{\n\t\trep(i,0,6)\n\t\ta[i]=0;\n\t}\n\tfriend ostream & operator << (ostream & c,const node & b);\n};\nostream & operator << (ostream & c,const node & b)\n{\n\trep(i,0,3)\n\t{\n\t\tif(i)\n\t\tcout<<\" \";\n\t\tcout<<b.a[i*2]<<\" \"<<b.a[i*2+1];\n\t}\n\treturn c; \n}\nvector< node> v1;\nvoid change(int x1,int y1,int z)\n{//1  \u4e0b1 \u4e0b2    2 \u4e0b \u4e0b\u5de6 \n\tcnt++;\n\tint x2=x1+1,y2=y1;\n\tint x3=x1+1,y3=y1+1;\n\tif(z==3) y3-=2,x3-=1;\n\tif(z==2) y3-=2;   \n\ta[x1][y1]^=1;\n\ta[x2][y2]^=1;\n\ta[x3][y3]^=1;\n\tv1.push_back(node(x1,y1,x2,y2,x3,y3));\n\t//emmm,\u4f3c\u4e4e\u5f97\u6700\u540e\u4e00\u8d77\u8f93\u51fa\u5440 \n//\tcout<<x1<<\" \"<<y1<<\" \"<<x1+1<<\" \"<<y1<<\" \"<<x1+1<<\" \"<<y1+1<<\"\\n\";\n}\nvoid work()\n{\n//\u9884\u75592\u884c\u5355\u72ec\u5904\u7406 \n\tcnt=0;\n\tv1.clear();\n\trep(i,1,n-1)\n\t{\n\t\trep(j,1,m+1)\n\t\t{\n\t\t\tif(a[i][j])\n\t\t\t{\n\t\t\t\tif(j<m)\n\t\t\t\t\tchange(i,j,1); \n\t\t\t\telse\n\t\t\t\t\tchange(i,j,2);\n\t\t\t}\n\t\t}\n\t}\n\trep(i,1,m-1)\n\t{\n\t\tif(a[n-1][i] && a[n][i])\n\t\t\tchange(n-1,i,1);\n\t\telse\n\t\tif(a[n-1][i])\n\t\t\tchange(n-1,i+1,3);\n\t\telse\n\t\tif(a[n][i])\n\t\t\tchange(n-1,i+1,2);\n\t}\n\t//\u5355\u72ec\u5206\u67902*2\u7684\n\tint sum=a[n-1][m]+a[n-1][m-1]+a[n][m]+a[n][m-1];\n\tswitch(sum)\n\t{\n\t\tcase 1:{\n\t\t\trep(i,n-1,n+1)\n\t\t\t{\n\t\t\t\trep(j,m-1,m+1)\n\t\t\t\t{\n\t\t\t\t\tif(a[i][j])\n\t\t\t\t\t{\n\t\t\t\t\t\tcnt+=3;\n\t\t\t\t\t\tint x1=i,y1=j+1;\n\t\t\t\t\t\tif(y1>m)\n\t\t\t\t\t\ty1-=2;\n\t\t\t\t\t\tint x2=i+1,y2=j;\n\t\t\t\t\t\tif(x2>n)\n\t\t\t\t\t\tx2-=2;\n\t\t\t\t\t\tint x3=n,y3=m;\n\t\t\t\t\t\tif(x3==i) x3--;\n\t\t\t\t\t\tif(y3==j) y3--;\n\t\t\t\t\t\tv1.push_back(node(i,j,x1,y1,x2,y2));\n\t\t\t\t\t\tv1.push_back(node(i,j,x1,y1,x3,y3));\n\t\t\t\t\t\tv1.push_back(node(i,j,x3,y3,x2,y2));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t } \n\t\t\tbreak;\n\t\t}\n\t\tcase 2:{\n\t\t\tcnt+=2;\n\t\t\tint x1,y1,x2,y2;\n\t\t\tint x3,y3,x4,y4;\n\t\t\tif(a[n-1][m-1])\n\t\t\t{\n\t\t\t\tx1=n-1,y1=m-1;\n\t\t\t\tif(a[n-1][m])\n\t\t\t\t{\n\t\t\t\t\tx2=n-1,y2=m;\n\t\t\t\t\tx3=n,y3=m-1;\n\t\t\t\t\tx4=n,y4=m;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\tif(a[n][m-1])\n\t\t\t\t{\n\t\t\t\t\tx2=n,y2=m-1;\n\t\t\t\t\tx3=n-1,y3=m;\n\t\t\t\t\tx4=n,y4=m;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tx2=n,y2=m;\n\t\t\t\t\tx3=n,y3=m-1;\n\t\t\t\t\tx4=n-1,y4=m;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\tif(a[n-1][m])\n\t\t\t{\n\t\t\t\tif(a[n][m-1])\n\t\t\t\t{\n\t\t\t\t\tx1=n-1,y1=m;\n\t\t\t\t\tx2=n,y2=m-1;\n\t\t\t\t\tx3=n-1,y3=m-1;\n\t\t\t\t\tx4=n,y4=m;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tx1=n-1,y1=m;\n\t\t\t\t\tx2=n,y2=m;\n\t\t\t\t\tx3=n-1,y3=m-1;\n\t\t\t\t\tx4=n,y4=m-1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tx1=n,y1=m-1;\n\t\t\t\tx2=n,y2=m;\n\t\t\t\tx3=n-1,y3=m-1;\n\t\t\t\tx4=n-1,y4=m;\n\t\t\t}\n\t\t\tv1.push_back(node(x1,y1,x3,y3,x4,y4));\n\t\t\tv1.push_back(node(x2,y2,x3,y3,x4,y4));\n\t\t\tbreak;\n\t\t}\n\t\tcase 3:{\n\t\t\tcnt++;\n\t\t\tif(a[n-1][m-1]==0)\n\t\t\tv1.push_back(node(n-1,m,n,m-1,n,m));\n\t\t\telse\n\t\t\tif(a[n-1][m]==0)\n\t\t\tv1.push_back(node(n-1,m-1,n,m-1,n,m));\n\t\t\telse\n\t\t\tif(a[n][m-1]==0)\n\t\t\tv1.push_back(node(n-1,m-1,n-1,m,n,m));\n\t\t\telse\n\t\t\tv1.push_back(node(n-1,m-1,n-1,m,n,m-1));\n\t\t\tbreak;\n\t\t}\n\t\tcase 4:{\n\t\t\tcnt+=4;\n\t\t\tv1.push_back(node(n-1,m-1,n-1,m,n,m-1));\n\t\t\tv1.push_back(node(n-1,m,n,m-1,n,m));\n\t\t\tv1.push_back(node(n-1,m-1,n-1,m,n,m));\n\t\t\tv1.push_back(node(n-1,m-1,n,m-1,n,m));\n\t\t\tbreak;\n\t\t}\n\t}\n\tcout<<cnt<<\"\\n\";\n\tfor(auto now:v1)\n\t{\n\t\tcout<<now<<\"\\n\";\n\t}\n}\nint main()\n{\n\tcin>>T;\n\twhile(T--)\n\t{\n\t\tcin>>n>>m;\n\t\trep(i,1,n+1)\n\t\t{\n\t\t\trep(j,1,m+1)\n\t\t\tscanf(\"%1d\",&a[i][j]);\n\t\t}\n\t\twork();\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1605703818,
        "uid": 251466,
        "name": "wwldx",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1439A2 \u3010Binary Table (Hard Version)\u3011"
    },
    {
        "content": "# \u9898\u76ee\u5927\u610f\n\u7ed9\u5b9a\u4e00\u4e2a $n\\times m$ \u7684 $01$ \u77e9\u9635\uff0c\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u5c06\u67d0\u4e2a $2\\times2$ \u7684\u77e9\u9635\u5185\u7684 $3$ \u4e2a\u6570\u53d6\u53cd\uff0c\u8bf7\u5728 $n\\times m$ \u6b65\u5185\u5c06\u77e9\u9635\u53d8\u4e3a\u5168 $0$\u3002\n# \u5206\u6790\n**\u5927\u6a21\u62df**\uff0c\u9996\u5148\u6bcf\u6b21\u5c06 $(1,1)$~$(n-2,m-2)$ \u4e2d\u7684\u53d8\u4e3a\u5168 $0$\uff0c\u663e\u7136\u6bcf\u6b21\u53ea\u9700\u8981\u4e00\u6b65\uff08\u53e6\u5916\u4e24\u4e2a\u53ef\u4ee5\u968f\u4fbf\u70b9\uff09\u3002\u5904\u7406\u6700\u540e\u4e24\u5217\uff0c\u5373 $(1,m-1)$~$(n-2,m)$\uff0c\u663e\u7136\u4e00\u884c\u4e00\u6b65\uff0c\u6700\u540e\u4e24\u884c\u540c\u7406\u3002\u7136\u540e\u7279\u5224\u6700\u540e\u4e00\u4e2a $2\\times2$\uff0c\u53ef\u4ee5\u624b\u6a21\uff0c\u53d1\u73b0\u4e00\u5b9a\u80fd\u5728 $4$ \u6b65\u5185\u505a\u5b8c\uff0c\u6240\u4ee5\u80fd\u5728 $n\\times m$ \u6b65\u5185\u5c06\u77e9\u9635\u53d8\u4e3a\u5168 $0$\u3002\u5176\u5b9e\u6700\u540e\u4e00\u6b65\u624d\u662f\u7801\u91cf\u6700\u5927\u7684\u3002\n# \u4ee3\u7801\n\u5927\u6a21\u62df\u8981\u6709\u8010\u5fc3\uff0c\u524d\u65b9\u9ad8\u80fd\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\ninline int read()\n{\n    char ch=getchar();\n\twhile(ch<'0'||ch>'9')\n\t\tch=getchar();\n\tint res=0;\n    while(ch>='0'&&ch<='9')\n    {\n    \tres=res*10+ch-'0';\n\t\tch=getchar();\n    }\n    return res;\n}\nint T,n,m,a[101][101],ans[10001][6];\nint main()\n{\n\tT=read();\n\twhile(T--)\n\t{\n\t\tn=read();\n\t\tm=read();\n\t\tfor(int i=1;i<=n;++i)\n\t\t\tfor(int j=1;j<=m;++j)\n\t\t\t\tscanf(\"%1d\",&a[i][j]);\n\t\tint cnt=0;\n\t\tfor(int i=1;i<n-1;++i)\n\t\t\tfor(int j=1;j<m-1;++j)\n\t\t\t\tif(a[i][j]==1)\n\t\t\t\t{\n\t\t\t\t\tif(a[i+1][j]==1&&a[i+1][j+1]==1)\n\t\t\t\t\t{\n\t\t\t\t\t\t++cnt;\n\t\t\t\t\t\tans[cnt][0]=i;\n\t\t\t\t\t\tans[cnt][1]=j;\n\t\t\t\t\t\tans[cnt][2]=i+1;\n\t\t\t\t\t\tans[cnt][3]=j;\n\t\t\t\t\t\tans[cnt][4]=i+1;\n\t\t\t\t\t\tans[cnt][5]=j+1;\n\t\t\t\t\t\ta[i][j]^=1;\n\t\t\t\t\t\ta[i+1][j]^=1;\n\t\t\t\t\t\ta[i+1][j+1]^=1;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\t++cnt;\n\t\t\t\t\t\tans[cnt][0]=i;\n\t\t\t\t\t\tans[cnt][1]=j;\n\t\t\t\t\t\tans[cnt][2]=i;\n\t\t\t\t\t\tans[cnt][3]=j+1;\n\t\t\t\t\t\tans[cnt][4]=i+1;\n\t\t\t\t\t\tans[cnt][5]=j+1;\n\t\t\t\t\t\ta[i][j]^=1;\n\t\t\t\t\t\ta[i][j+1]^=1;\n\t\t\t\t\t\ta[i+1][j+1]^=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\tfor(int i=1;i<m-1;++i)\n\t\t{\n\t\t\tif(a[n-1][i]==0&&a[n][i]==1)\n\t\t\t{\n\t\t\t\t++cnt;\n\t\t\t\tans[cnt][0]=n;\n\t\t\t\tans[cnt][1]=i;\n\t\t\t\tans[cnt][2]=n-1;\n\t\t\t\tans[cnt][3]=i+1;\n\t\t\t\tans[cnt][4]=n;\n\t\t\t\tans[cnt][5]=i+1;\n\t\t\t\ta[n][i]=0;\n\t\t\t\ta[n-1][i+1]^=1;\n\t\t\t\ta[n][i+1]^=1;\n\t\t\t}\n\t\t\telse if(a[n-1][i]==1&&a[n][i]==0)\n\t\t\t{\n\t\t\t\t++cnt;\n\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\tans[cnt][1]=i;\n\t\t\t\tans[cnt][2]=n-1;\n\t\t\t\tans[cnt][3]=i+1;\n\t\t\t\tans[cnt][4]=n;\n\t\t\t\tans[cnt][5]=i+1;\n\t\t\t\ta[n-1][i]=0;\n\t\t\t\ta[n-1][i+1]^=1;\n\t\t\t\ta[n][i+1]^=1;\n\t\t\t}\n\t\t\telse if(a[n-1][i]==1&&a[n][i]==1)\n\t\t\t{\n\t\t\t\t++cnt;\n\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\tans[cnt][1]=i;\n\t\t\t\tans[cnt][2]=n-1;\n\t\t\t\tans[cnt][3]=i+1;\n\t\t\t\tans[cnt][4]=n;\n\t\t\t\tans[cnt][5]=i;\n\t\t\t\ta[n-1][i]=a[n][i]=0;\n\t\t\t\ta[n-1][i+1]^=1;\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<n-1;++i)\n\t\t{\n\t\t\tif(a[i][m-1]==0&&a[i][m]==1)\n\t\t\t{\n\t\t\t\t++cnt;\n\t\t\t\tans[cnt][0]=i;\n\t\t\t\tans[cnt][1]=m;\n\t\t\t\tans[cnt][2]=i+1;\n\t\t\t\tans[cnt][3]=m;\n\t\t\t\tans[cnt][4]=i+1;\n\t\t\t\tans[cnt][5]=m-1;\n\t\t\t\ta[i][m]=0;\n\t\t\t\ta[i+1][m]^=1;\n\t\t\t\ta[i+1][m-1]^=1;\n\t\t\t}\n\t\t\telse if(a[i][m-1]==1&&a[i][m]==0)\n\t\t\t{\n\t\t\t\t++cnt;\n\t\t\t\tans[cnt][0]=i;\n\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\tans[cnt][2]=i+1;\n\t\t\t\tans[cnt][3]=m;\n\t\t\t\tans[cnt][4]=i+1;\n\t\t\t\tans[cnt][5]=m-1;\n\t\t\t\ta[i][m-1]=0;\n\t\t\t\ta[i+1][m]^=1;\n\t\t\t\ta[i+1][m-1]^=1;\n\t\t\t}\n\t\t\telse if(a[i][m-1]==1&&a[i][m]==1)\n\t\t\t{\n\t\t\t\t++cnt;\n\t\t\t\tans[cnt][0]=i;\n\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\tans[cnt][2]=i;\n\t\t\t\tans[cnt][3]=m;\n\t\t\t\tans[cnt][4]=i+1;\n\t\t\t\tans[cnt][5]=m-1;\n\t\t\t\ta[i][m-1]=a[i][m]=0;\n\t\t\t\ta[i+1][m-1]^=1;\n\t\t\t}\n\t\t}\n\t\tif(a[n-1][m-1]==1&&a[n-1][m]==1&&a[n][m-1]==1&&a[n][m]==1)\n\t\t{\n\t\t\t++cnt;\n\t\t\tans[cnt][0]=n-1;\n\t\t\tans[cnt][1]=m-1;\n\t\t\tans[cnt][2]=n-1;\n\t\t\tans[cnt][3]=m;\n\t\t\tans[cnt][4]=n;\n\t\t\tans[cnt][5]=m-1;\n\t\t\ta[n-1][m-1]=a[n-1][m]=a[n][m-1]=0;\n\t\t}\n\t\tint res=0;\n\t\tfor(int i=n-1;i<=n;++i)\n\t\t\tfor(int j=m-1;j<=m;++j)\n\t\t\t\tres+=a[i][j];\n\t\tif(res==3)\n\t\t{\n\t\t\tint now=0;\n\t\t\t++cnt;\n\t\t\tfor(int i=n-1;i<=n;++i)\n\t\t\t\tfor(int j=m-1;j<=m;++j)\n\t\t\t\t\tif(a[i][j]==1)\n\t\t\t\t\t{\n\t\t\t\t\t\ta[i][j]=0;\n\t\t\t\t\t\tans[cnt][now]=i;\n\t\t\t\t\t\t++now;\n\t\t\t\t\t\tans[cnt][now]=j;\n\t\t\t\t\t\t++now;\n\t\t\t\t\t}\n\t\t}\n\t\tif(res==1)\n\t\t{\n\t\t\tif(a[n-1][m]==1)\n\t\t\t{\n\t\t\t\t++cnt;\n\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\tans[cnt][1]=m;\n\t\t\t\tans[cnt][2]=n;\n\t\t\t\tans[cnt][3]=m;\n\t\t\t\tans[cnt][4]=n;\n\t\t\t\tans[cnt][5]=m-1;\n\t\t\t\ta[n-1][m]=0;\n\t\t\t\ta[n][m]=a[n][m-1]=1;\n\t\t\t}\n\t\t\telse if(a[n-1][m-1]==1)\n\t\t\t{\n\t\t\t\t++cnt;\n\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\tans[cnt][2]=n;\n\t\t\t\tans[cnt][3]=m;\n\t\t\t\tans[cnt][4]=n;\n\t\t\t\tans[cnt][5]=m-1;\n\t\t\t\ta[n-1][m-1]=0;\n\t\t\t\ta[n][m]=a[n][m-1]=1;\n\t\t\t}\n\t\t\telse if(a[n][m-1]==1)\n\t\t\t{\n\t\t\t\t++cnt;\n\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\tans[cnt][2]=n-1;\n\t\t\t\tans[cnt][3]=m;\n\t\t\t\tans[cnt][4]=n;\n\t\t\t\tans[cnt][5]=m-1;\n\t\t\t\ta[n][m-1]=0;\n\t\t\t\ta[n-1][m-1]=a[n-1][m]=1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t++cnt;\n\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\tans[cnt][2]=n-1;\n\t\t\t\tans[cnt][3]=m;\n\t\t\t\tans[cnt][4]=n;\n\t\t\t\tans[cnt][5]=m;\n\t\t\t\ta[n][m]=0;\n\t\t\t\ta[n-1][m-1]=a[n-1][m]=1;\n\t\t\t}\n\t\t\tres=2;\n\t\t}\n\t\tif(res==2)\n\t\t{\n\t\t\tif(a[n][m-1]==a[n-1][m])\n\t\t\t{\n\t\t\t\tif(a[n][m-1]==1)\n\t\t\t\t{\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\t\tans[cnt][2]=n-1;\n\t\t\t\t\tans[cnt][3]=m;\n\t\t\t\t\tans[cnt][4]=n;\n\t\t\t\t\tans[cnt][5]=m;\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\t\tans[cnt][2]=n;\n\t\t\t\t\tans[cnt][3]=m-1;\n\t\t\t\t\tans[cnt][4]=n;\n\t\t\t\t\tans[cnt][5]=m;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\t\tans[cnt][2]=n;\n\t\t\t\t\tans[cnt][3]=m-1;\n\t\t\t\t\tans[cnt][4]=n-1;\n\t\t\t\t\tans[cnt][5]=m;\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n;\n\t\t\t\t\tans[cnt][1]=m;\n\t\t\t\t\tans[cnt][2]=n;\n\t\t\t\t\tans[cnt][3]=m-1;\n\t\t\t\t\tans[cnt][4]=n-1;\n\t\t\t\t\tans[cnt][5]=m;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(a[n-1][m-1]==1&&a[n-1][m]==1)\n\t\t\t\t{\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\t\tans[cnt][2]=n;\n\t\t\t\t\tans[cnt][3]=m-1;\n\t\t\t\t\tans[cnt][4]=n;\n\t\t\t\t\tans[cnt][5]=m;\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\t\tans[cnt][1]=m;\n\t\t\t\t\tans[cnt][2]=n;\n\t\t\t\t\tans[cnt][3]=m-1;\n\t\t\t\t\tans[cnt][4]=n;\n\t\t\t\t\tans[cnt][5]=m;\n\t\t\t\t}\n\t\t\t\telse if(a[n-1][m-1]==1&&a[n][m-1]==1)\n\t\t\t\t{\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\t\tans[cnt][2]=n-1;\n\t\t\t\t\tans[cnt][3]=m;\n\t\t\t\t\tans[cnt][4]=n;\n\t\t\t\t\tans[cnt][5]=m;\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n;\n\t\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\t\tans[cnt][2]=n-1;\n\t\t\t\t\tans[cnt][3]=m;\n\t\t\t\t\tans[cnt][4]=n;\n\t\t\t\t\tans[cnt][5]=m;\n\t\t\t\t}\n\t\t\t\telse if(a[n][m]==1&&a[n-1][m]==1)\n\t\t\t\t{\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n;\n\t\t\t\t\tans[cnt][1]=m;\n\t\t\t\t\tans[cnt][2]=n;\n\t\t\t\t\tans[cnt][3]=m-1;\n\t\t\t\t\tans[cnt][4]=n-1;\n\t\t\t\t\tans[cnt][5]=m-1;\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n-1;\n\t\t\t\t\tans[cnt][1]=m;\n\t\t\t\t\tans[cnt][2]=n;\n\t\t\t\t\tans[cnt][3]=m-1;\n\t\t\t\t\tans[cnt][4]=n-1;\n\t\t\t\t\tans[cnt][5]=m-1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n;\n\t\t\t\t\tans[cnt][1]=m;\n\t\t\t\t\tans[cnt][2]=n-1;\n\t\t\t\t\tans[cnt][3]=m;\n\t\t\t\t\tans[cnt][4]=n-1;\n\t\t\t\t\tans[cnt][5]=m-1;\n\t\t\t\t\t++cnt;\n\t\t\t\t\tans[cnt][0]=n;\n\t\t\t\t\tans[cnt][1]=m-1;\n\t\t\t\t\tans[cnt][2]=n-1;\n\t\t\t\t\tans[cnt][3]=m;\n\t\t\t\t\tans[cnt][4]=n-1;\n\t\t\t\t\tans[cnt][5]=m-1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",cnt);\n\t\tfor(int i=1;i<=cnt;++i)\n\t\t{\n\t\t\tfor(int j=0;j<6;++j)\n\t\t\t\tprintf(\"%d \",ans[i][j]);\n\t\t\tprintf(\"\\n\");\n\t\t}\t\n\t\tcnt=0;\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1605692691,
        "uid": 68011,
        "name": "\u53e4\u660e\u5730_ypc",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1439A2 \u3010Binary Table (Hard Version)\u3011"
    }
]