[
    {
        "content": "### \u9898\u610f\u7b80\u8ff0\uff1a\n\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a$n$\u7684\u5e8f\u5217$a$\u548c$k$\u6b21\u64cd\u4f5c\uff0c\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u4f7f\u5176\u4e2d\u7684\u4e00\u4e2a\u6570$+1$\u6216$-1$\u3002\n\n\u95ee\u6700\u540e$a_{max}-a_{min}$\u7684\u6700\u5c0f\u503c\u662f\u591a\u5c11\u3002\n\n\u6570\u636e\u8303\u56f4\uff1a$2\\leq n\\leq 10^5$\uff0c$1\\leq k\\leq 10^{14}$\uff0c$1\\leq a_i\\leq 10^9$\u3002\n\n### **solution**:\n\n\u5148\u6392\u5e8f\u3002\n\n\u7531\u4e8e\u53ea\u6709\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u4f1a\u5bf9\u7b54\u6848\u9020\u6210\u5f71\u54cd\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u5c3d\u91cf\u5c06\u6700\u5927\u503c\u51cf\u5c0f\uff0c\u6700\u5c0f\u503c\u589e\u5927\u3002\n\n\u6bd4\u8f83\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u7684\u4e2a\u6570\uff0c\u53d6\u4e2a\u6570\u8f83\u5c0f\u7684\u8fdb\u884c\u8c03\u6574\uff08\u4e2a\u6570\u8f83\u5c11\u7684\u8c03\u6574\u4e00\u4e2a\u6240\u82b1\u8d39\u7684\u6b65\u6570\u5c11\uff09\u3002\n\n**\u6ce8\u610flong long\u200b**\n\n### code\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\nll a[100010];\ninline ll read() {\n    ll x=0;\n    char ch=getchar();\n    while (!isdigit(ch)) ch=getchar();\n    while (isdigit(ch)) x=x*10+ch-'0',ch=getchar();\n    return x;\n}\nint main() {\n    long long n=read(),k=read();\n    for (int i=1;i<=n;i++) a[i]=read();\n    sort(a+1,a+n+1);\n    int l=1,r=n;\n    //l\u8868\u793a\u524dl\u4e2a\u6570\u5747\u5df2\u8c03\u6574\u4e3a\u6700\u5c0f\u503c\n    for (int i=1;i<=n;i++) \n        if (a[i]==a[l]) l=i; else break;\n    for (int i=n;i>=1;i--)\n        if (a[i]==a[r]) r=i; else break;\n    long long ans=0;\n    while (l<r) {\n        if (l<n-r+1) {\n            if (k>=l*(a[l+1]-a[l])) {                 //\u80fd\u591f\u5c06\u5168\u90e8\u6700\u5c0f\u503c\u66f4\u65b0\u6210\u4e0b\u4e00\u4e2a\u503c\n                k-=l*(a[l+1]-a[l]);\n                ++l;\n                for (int i=l;i<=n;i++)\n                    if (a[i]==a[l]) l=i; else break;  //\u66f4\u65b0\u6700\u5c0f\u503c\u7684\u4e2a\u6570\n            } else {\n                ans=k/l;break;\n            }\n        } else {\n            if (k>=(n-r+1)*(a[r]-a[r-1])) {           //\u80fd\u591f\u5c06\u5168\u90e8\u6700\u5927\u503c\u66f4\u65b0\u6210\u4e0b\u4e00\u4e2a\u503c\n                k-=(n-r+1)*(a[r]-a[r-1]);\n                --r;\n                for (int i=r;i>=1;i--)\n                    if (a[i]==a[r]) r=i; else break;  //\u66f4\u65b0\u6700\u5927\u503c\u7684\u4e2a\u6570\n            } else {\n                ans=k/(n-r+1);break;\n            }\n        }\n    }\n    if (l>=r) printf(\"0\\n\");\n    else cout<<a[r]-a[l]-ans<<endl;\n    return 0;\n}\n```\n\n",
        "postTime": 1571120252,
        "uid": 68387,
        "name": "lamboo",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1244E \u3010Minimizing Difference\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](http://codeforces.com/contest/1244/problem/E)\n\n## \u9898\u610f\n\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217 $a$\uff0c\u4e00\u6b21\u64cd\u4f5c\u53ef\u4ee5\u5c06\u5e8f\u5217\u4e2d\u7684\u67d0\u4e2a\u6570 $+1$ \u6216 $-1$\u3002\n\n\u5b9a\u4e49\u4e00\u4e2a\u5e8f\u5217\u7684\u5dee\u503c\u4e3a\u5e8f\u5217\u7684\u6700\u5927\u503c\u51cf\u53bb\u6700\u5c0f\u503c\u5f97\u5230\u7684\u6570\u3002\n\n\u6c42\u8fdb\u884c\u81f3\u591a $k$ \u6b21\u64cd\u4f5c\u540e\u5e8f\u5217\u5dee\u503c\u7684\u6700\u5c0f\u503c\u3002\n\n$n\\le 10^5,a_i\\le 10^9,k\\le 10^{14}$\n\n## \u9898\u89e3\n\n\u663e\u7136\u53ef\u4ee5\u4e8c\u5206\u7b54\u6848 $x$\uff0c\u7136\u540e\u5c31\u662f\u6c42\u4f7f\u5f97\u5dee\u503c $\\le x$ \u9700\u8981\u8fdb\u884c\u81f3\u5c11\u591a\u5c11\u6b21\u64cd\u4f5c\u3002\n\n\u5c06 $a_i$ \u6392\u5e8f\uff0c\u5047\u8bbe\u6700\u540e\u7684\u5e8f\u5217\u4e2d\u7684\u6570\u5728 $[p,p+x]$ \u4e2d\uff0c\u8bb0\u5e8f\u5217\u4e2d\u6700\u540e\u4e00\u4e2a $< p$ \u7684\u6570\u4e3a $a_l$\uff0c\u7b2c\u4e00\u4e2a $>p+x$ \u7684\u6570\u4e3a $a_r$\uff0c\u90a3\u4e48\u9700\u8981\u8fdb\u884c\u7684\u64cd\u4f5c\u6570\u91cf\u662f $p\\times l-\\sum_{i=1}^{l}a_i+\\sum_{i=r}^{n}a_i-(p+x)\\times (n-r+1)$\u3002\u6839\u636e\u8fd9\u4e2a\u5f0f\u5b50\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0 $p$ \u548c $p+x$ \u8fd9\u4e24\u4e2a\u6570\u4e2d\u4e00\u5b9a\u6709\u4e00\u4e2a\u6570\u662f\u5b58\u5728\u4e8e\u539f\u5e8f\u5217\u4e2d\u7684\uff0c\u5426\u5219\u53ef\u4ee5\u8fdb\u884c\u8c03\u6574\u4f7f\u5f97\u64cd\u4f5c\u6b21\u6570\u66f4\u5c11\u3002\u4e8e\u662f\u6211\u4eec\u679a\u4e3e\u6240\u6709\u60c5\u51b5\u8fdb\u884c\u5224\u65ad\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log \\max a_i)$\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include <cstdio>\n#include <cctype>\n#include <cstring>\n#include <algorithm>\nlong long read(){\n\tregister long long x = 0;\n\tregister char f = 1, ch = getchar();\n\tfor (; !isdigit(ch); ch = getchar()) if (ch == '-') f ^= 1;\n\tfor (; isdigit(ch); ch = getchar()) x = (x << 1) + (x << 3) + (ch ^ '0');\n\treturn f ? x : -x;\n}\n#define N 100005\nint n;\nlong long k, a[N], sum[N];\nbool check(int x){\n\tfor (register int i = 1, j = 1; i <= n; ++i){\n\t\twhile (j <= n && a[j] - a[i] <= x) ++j;\n\t\tif (a[i] * (i - 1) - sum[i - 1] + sum[n] - sum[j - 1] - (a[i] + x) * (n - j + 1) <= k) return 1;\n\t}\n\tfor (register int i = 1, j = 1; i <= n; ++i){\n\t\twhile (a[i] - a[j] > x) ++j;\n\t\tif ((a[i] - x) * (j - 1) - sum[j - 1] + sum[n] - sum[i] - a[i] * (n - i) <= k) return 1;\n\t}\n\treturn 0;\n}\nint main(){\n\tn = read(), k = read();\n\tfor (register int i = 1; i <= n; ++i) a[i] = read();\n\tstd :: sort(a + 1, a + 1 + n);\n\tfor (register int i = 1; i <= n; ++i) sum[i] = sum[i - 1] + a[i];\n\tint l = 0, r = a[n] - a[1], md, ans = 0;\n\twhile (l <= r) if (check(md = (l + r) >> 1)) r = md - 1, ans = md; else l = md + 1;\n\tprintf(\"%d\\n\", ans);\n}\n```",
        "postTime": 1571098047,
        "uid": 20561,
        "name": "AutumnKite",
        "ccfLevel": 10,
        "title": "\u300cCodeforces 1244E\u300dMinimizing Difference"
    },
    {
        "content": "\u6253\u7684\u65f6\u5019\u53c8\u662f\u4e2a zz\uff0c\uff0cWA4\n\n\u8fd9\u4e2a\u9898\u76f4\u63a5\u7ef4\u62a4\u5de6\u53f3\u4e24\u4e2a\u6307\u9488\uff0c\u6bcf\u6b21\u7b54\u6848\u82e5\u8981 -1 \u5fc5\u987b\u5c06\u6240\u6709\u6700\u5927\u503c\u51cf\u4e00\u6216\u6240\u6709\u6700\u5c0f\u503c\u52a0\u4e00\u3002\u641e\u82b1\u8d39\u5c0f\u7684\u5c31\u884c\u4e86\u3002\u3002\n\n\u4ee3\u7801\u8f83\u4e11\u3001\u3001\n```cpp\n#include <algorithm>\n#include <iostream>\n#include <cstdio>\nusing namespace std;\nusing ll = long long;\nll ans,n,k,l,r,a[100001];\nint main(){\n\tcin >> n >> k;\n\tfor (ll i = 1;i <= n;i++) cin >> a[i];\n\tsort(a+1,a+n+1); ans = a[n]-a[1];\n\tfor (ll l = 1,r = n,x;l < r && k;ans -= x) k -= l < n-r+1 ? (x = min(a[l+1]-a[l],k/l))*l++ : (x = min(a[r]-a[r-1],k/(n-r+1)))*(n-r--)+x;\n\tcout << ans;\n\treturn 0;\n}\n```",
        "postTime": 1571059120,
        "uid": 17521,
        "name": "lrj124",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1244E \u3010Minimizing Difference\u3011"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://llf0703.com/p/cf-1244.html#eminimizingdifference)\n\n## \u9898\u610f\n\n\u7ed9\u51fa $n(\\le 10^5)$ \u4e2a\u6570\uff0c\u53ef\u4ee5\u8fdb\u884c $k$ \u6b21\u64cd\u4f5c\uff0c\u6bcf\u6b21\u53ef\u4ee5\u628a\u4e00\u4e2a\u6570 $+1$ \u6216 $-1$ \u3002\u6c42\u64cd\u4f5c\u540e \u6700\u5927\u6570\u548c\u6700\u5c0f\u6570\u5dee\u503c \u7684\u6700\u5c0f\u503c\u3002\n\n## \u9898\u89e3\n\n\u53ef\u4ee5\u53d1\u73b0\u6700\u4f18\u7684\u64cd\u4f5c\u5c31\u662f\u628a\u4e24\u7aef\u7684\u6700\u503c\u4e0d\u65ad\u5f80\u4e2d\u95f4\u9760\u8fd1\u3002\u800c\u6700\u503c\u7684\u70b9\u53ef\u80fd\u6709\u591a\u4e2a\uff0c\u5047\u8bbe\u6709 $x$ \u4e2a\uff0c\u90a3\u4e48\u6bcf\u6d88\u8017 $x$ \u624d\u80fd\u4f7f\u7b54\u6848 $-1$ \uff0c\u6240\u4ee5\u6bcf\u6b21\u90fd\u9009\u62e9\u4e2a\u6570\u8f83\u5c11\u7684\u4e00\u7aef\u8fdb\u884c\u64cd\u4f5c\u3002\n\n\u9700\u8981\u79bb\u6563\u5316\u5f97\u5230\u5404\u4e2a\u6570\u503c\u7684\u4e2a\u6570\u3002\u56e0\u4e3a\u6211\u6bd4\u8f83\u61d2\u6240\u4ee5\u64cd\u4f5c\u7684\u8fc7\u7a0b\u5c31\u5199\u7684\u4f18\u5148\u961f\u5217\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define mp make_pair\n#define pii pair<ll,ll>\n#define pip pair<ll,pii>\n#define ll long long\n\nusing namespace std;\n\ninline ll read()\n{\n    char ch=getchar(); ll f=1,x=0;\n    while (ch<'0' || ch>'9') { if (ch=='-') f=-1; ch=getchar(); }\n    while (ch>='0' && ch<='9') { x=x*10+ch-'0'; ch=getchar(); }\n    return f*x;\n}\n\nconst ll N=100005;\nstruct node {\n    ll s,cnt;\n} s[100005];\nll n,m,k,ans=1e9,a[100005];\npriority_queue <pip,vector<pip>,greater<pip> > q;\n\nsigned main()\n{\n    n=read(); k=read();\n    for (ll i=1;i<=n;i++) a[i]=read();\n    sort(a+1,a+n+1);\n    for (ll i=1;i<=n;i++) //\u79bb\u6563\u5316\n    {\n        if (a[i]!=a[i-1]) s[++m].s=a[i],s[m].cnt=1;\n        else s[m].cnt++;\n    }\n    if (m==1) return 0&puts(\"0\"); //\u53ea\u6709\u4e00\u4e2a\u503c\n    q.push(mp(s[1].cnt,mp(1,0))); //\u5de6\u7aef\n    q.push(mp(s[m].cnt,mp(m,1))); //\u53f3\u7aef\n    for (ll l=1,r=m;!q.empty();q.pop())\n    {\n        ll x=q.top().second.first,y=q.top().first;\n        bool p=q.top().second.second; //\u5728\u54ea\u4e00\u7aef\n        ll delta=p ? s[x].s-s[x-1].s : s[x+1].s-s[x].s; //\u5dee\u503c\n        if (delta*y<=k) //\u5982\u679c\u80fd\u76f4\u63a5\u9760\u8fd1\u5230\u4e0b\u4e00\u4e2a\u6570\u503c\n        {\n            k-=delta*y;\n            if (p) //\u5728\u53f3\u7aef\n            {\n                r--;\n                q.push(mp(y+s[r].cnt,mp(r,1)));\n            }\n            else\n            {\n                l++;\n                q.push(mp(y+s[l].cnt,mp(l,0)));\n            }\n            if (l==r) { ans=0; break; }\n        }\n        else //\u5426\u5219\u80fd\u9760\u8fd1\u591a\u5c11\u7b97\u591a\u5c11\n        {\n            ll maxd=k/y; //\u6700\u591a\u80fd\u9760\u8fd1\u7684\u503c\n            ans=s[r].s-s[l].s-maxd;\n            break;\n        }\n    }\n    return !printf(\"%lld\",ans);\n}\n```",
        "postTime": 1571043045,
        "uid": 29696,
        "name": "Llf0703",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1244E \u3010Minimizing Difference\u3011"
    },
    {
        "content": "\u8fd9\u573a\u6bd4\u8d5b\u552f\u4e00\u7684\u4e2d\u6863\u9898\n\n\u663e\u7136\u662f\u8d2a\u5fc3\u3002\n\n\u5148\u5c06\u6570\u5217\u6392\u5e8f\u3002\n\n\u8981\u4f7f\u6570\u5217\u4e2d\u7684\u6700\u5c0f\u503c+1\uff0c\u5219\u9700\u8981\u5c06\u6570\u5217\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6700\u5c0f\u503c\u90fd+1\uff1b\u8981\u4f7f\u6570\u5217\u4e2d\u7684\u6700\u5927\u503c-1\uff0c\u5219\u9700\u8981\u5c06\u6570\u5217\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6700\u5927\u503c\u90fd-1\u3002\u2014\u2014mangoyang\u5728XJOI\u4e0a\u7684\u8bb2\u8bc4\uff08\u4e0d\u662f\u8fd9\u9898\uff09\n\n\u73b0\u5728\u6211\u4eec\u6765\u5206\u7c7b\u8ba8\u8bba:\n\n- \u5982\u679c\u5269\u4e0b\u7684\u64cd\u4f5c\u6b21\u6570\u8db3\u591f\uff1a\u6bd4\u8f83\u5de6\u53f3\u4e24\u8fb9\u7684\u5dee\u7684\u8f83\u5c0f\u503c\uff08\u5c31\u662f$a_{l+1}-a_l$\u548c$a_r-a_{r-1}$\uff09\uff0c\u9009\u62e9\u8f83\u5c0f\u7684\u64cd\u4f5c\n\n- \u5982\u679c\u5269\u4e0b\u7684\u64cd\u4f5c\u6b21\u6570\u4e0d\u591f\uff0c\u9009\u62e9\u4e24\u8fb9\u6570\u5b57\u8f83\u5c11\u7684\uff08\u5c31\u662f$l$\u548c$n-r+1$\uff09\u64cd\u4f5c\n\n\u603b\u5171\u56db\u79cd\u60c5\u51b5\uff0c\u4ee3\u7801\u6709\u70b9\u70e6\uff0c\u8981\u8010\u5fc3\n\n\u53e6\u5916\u5982\u679c\u6b21\u6570\u7a33\u591f\u5c31\u76f4\u63a5\u8f93\u51fa0\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#include<iostream>\n#include<cstdio>\n#define ll long long\nusing namespace std;\n\nconst ll N=100010;\nll n,k,sum,a[N];\n\ninline ll read(){\n\tll x=0,tmp=1;\n\tchar ch=getchar();\n\twhile(!isdigit(ch)){\n\t\tif(ch=='-') tmp=-1;\n\t\tch=getchar();\n\t}\n\twhile(isdigit(ch)){\n\t\tx=(x<<3)+(x<<1)+(ch^48);\n\t\tch=getchar();\n\t}\n\treturn tmp*x;\n}\n\nint main(){\n\tn=read(); k=read();\n\tfor(ll i=1; i<=n; i++) a[i]=read();\n\tsort(a+1,a+1+n);\n\tfor(ll i=1; i<=n; i++) sum+=abs(a[(n+1)/2]-a[i]);\n\tif(k>=sum) return printf(\"0\")&0;\n\tll l=1,r=n,lval=a[1],rval=a[n];\n\twhile(l<=r){\n\t\twhile(l<r&&a[l]==a[l+1]) l++;\n\t\twhile(r>l&&a[r]==a[r-1]) r--;\n\t\tif(l==r) break;\n\t\tif(l<n-r+1){\n\t\t\tll eps=l*(a[l+1]-a[l]);\n\t\t\tif(k<eps){\n\t\t\t\tlval+=k/l;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tk-=eps;\n\t\t\t\tl++;\n\t\t\t\tlval=a[l];\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tll eps=(n-r+1)*(a[r]-a[r-1]);\n\t\t\tif(k<eps){\n\t\t\t\trval-=k/(n-r+1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tk-=eps;\n\t\t\t\tr--;\n\t\t\t\trval=a[r];\n\t\t\t}\n\t\t}\n\t}\n\tcout<<rval-lval<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1571023470,
        "uid": 27924,
        "name": "xukuan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1244E \u3010Minimizing Difference\u3011"
    },
    {
        "content": "[\u6b22\u8fce\u5728\u6211\u7684\u535a\u5ba2\u4e2d\u67e5\u770b\u672c\u6587\uff0c\u8c22\u8c22\uff01](https://www.cnblogs.com/crab-in-the-northeast/p/cf1244e.html)\n\n\u9996\u5148\u5bb9\u6613\u60f3\u5230\u628a $a$ \u5347\u5e8f\u6392\u5217\u3002\n\n\u60f3\u8ba9 $\\max - \\min$ \u6700\u5c0f\uff0c\u4e00\u5b9a\u662f\u9009\u62e9\u964d\u4f4e $\\max$\uff0c\u63d0\u9ad8 $\\min$\u3002\n\n\u5148\u8003\u8651\u4e00\u4e2a\u95ee\u9898\uff1a\u5355\u7eaf\u6700\u5927\u5316 $\\min$\u3002\n\n\u60f3\u4e00\u4e0b\uff0c\u63d0\u9ad8 $\\min$ \u5176\u5b9e\u662f\u8fd9\u6837\u4e00\u4e2a\u8fc7\u7a0b\uff1a\u4e00\u76f4\u52a0 $a_1$\uff0c\u76f4\u5230 $a_1 = a_2$\uff0c\u7136\u540e\u4e00\u76f4\u540c\u6b65\u52a0 $a_1, a_2$\uff0c\u76f4\u5230 $a_1=a_2=a_3$\uff0c\u518d\u4e00\u76f4\u540c\u6b65\u52a0 $a_1,a_2,a_3$\u2026\u2026\u76f4\u5230\u6700\u540e $k$ \u88ab\u7528\u5c3d\u3002\u6613\u8bc1\u4e0d\u8fd9\u4e48\u52a0\u5c31\u662f\u6d6a\u8d39\u64cd\u4f5c\u3002\n\n\u5047\u8bbe\u6211\u4eec\u521a\u521a\u540c\u6b65\u628a $a_1 \\sim a_{i - 1}$ \u52a0\u5230\u548c $a_i$ \u9f50\u5e73\uff0c\u73b0\u5728\u6211\u4eec\u8981\u628a $a_1 \\sim a_i$ \u52a0\u5230\u548c $a_{i +1}$ \u9f50\u5e73\u3002\n\n\u5982\u679c\u4ee3\u4ef7\u8db3\u591f\u7528\uff0c\u6211\u4eec\u5c31\u8003\u8651\u628a $a_1 \\sim a_i$ \u82b1\u8d39 $i(a_i - a_{i-1})$ \u7684\u4ee3\u4ef7\u4e00\u76f4\u52a0\u5230 $a_{i + 1}$\uff0c\u7136\u540e $i \\gets i + 1$\uff1b\n\n\u5982\u679c\u4ee3\u4ef7\u4e0d\u591f\u7528\u4e86\uff0c\u5c31\u8003\u8651\u628a $a_1 \\sim a_i$ \u4e00\u76f4\u52a0\u5230\u4ee3\u4ef7\u8017\u5c3d\uff0c\u7b54\u6848\u5c31\u662f\u6b64\u65f6\u80fd\u52a0\u5230\u7684\u4f4d\u7f6e\u3002\n\n\u5355\u7eaf\u964d\u4f4e $\\max$ \u662f\u540c\u7406\u7684\u3002\u73b0\u5728\u6211\u4eec\u7efc\u5408\u8003\u8651\u3002\n\n\u5982\u679c\u6211\u4eec\u521a\u521a\u628a $a_1$ \u52a0\u5230\u548c $a_2$ \u9f50\u5e73\uff0c\u8fd9\u65f6\u6709\u4e24\u6761\u8def\u8d70\uff1a\n\n- $a_1, a_2$ \u4e00\u76f4\u52a0\u5230\u548c $a_3$ \u9f50\u5e73\uff1b\n- $a_n$ \u4e00\u76f4\u51cf\u5230\u548c $a_{n-1}$ \u9f50\u5e73\u3002\n\n\u90a3\u4e48\u6211\u4eec\u4e00\u5b9a\u9009\u62e9\u7b2c\u4e8c\u6761\u8def\u3002\u56e0\u4e3a\u7b2c\u4e00\u6761\u8def\u6bcf\u82b1\u8d39 $2$ \u7684\u4ee3\u4ef7\u624d\u80fd\u63d0\u9ad8 $1$ \u7684 $\\min$\uff0c\u4f46\u7b2c\u4e8c\u6761\u8def\u6bcf\u82b1\u8d39 $1$ \u7684\u4ee3\u4ef7\u5c31\u80fd\u964d\u4f4e $1$ \u7684 $\\max$\u3002\u7b2c\u4e8c\u6761\u8def\u8d70\u5b8c\uff08\u9f50\u5e73\u4e86\uff09\u5982\u679c\u8fd8\u6709\u64cd\u4f5c\u5269\u4f59\uff0c\u518d\u8d70\u7b2c\u4e00\u6761\u8def\u3002\n\n\u56e0\u6b64\u6700\u4f18\u89e3\u4e00\u5b9a\u662f\u91cd\u590d\u6267\u884c\u4ee5\u4e0b\u4e09\u6b65\u5f97\u5230\uff0c\u521d\u59cb\u65f6 $l = 1$\uff1a\n\n- \u5c1d\u8bd5\u628a $a$ \u5f00\u5934\u957f\u5ea6\u4e3a $l$ \u7684\u524d\u7f00\u52a0\u5230\u548c\u540e\u9762\u90a3\u4e2a\u6570\u9f50\u5e73\uff0c\u5e76\u628a $a$ \u7ed3\u5c3e\u957f\u5ea6\u4e3a $l$ \u7684\u540e\u7f00\u51cf\u5230\u548c\u524d\u9762\u90a3\u4e2a\u6570\u9f50\u5e73\uff1b\n- \u5982\u679c\u9f50\u5e73\u6210\u529f\uff0c$l \\gets l +1$\uff1b\n- \u5982\u679c\u9f50\u5e73\u4e0d\u6210\u529f\uff0c\u8bf4\u660e\u6b65\u6570\u8981\u4e0d\u591f\u4e86\u3002\u5c3d\u53ef\u80fd\u8ba9\u5269\u4e0b\u7684\u6b65\u6570\u7ed9\u524d\u7f00\u7684 $l$ \u4e2a\u6570 $+1$\uff0c\u540e\u7f00\u7684 $l$ \u4e2a\u6570 $-1$\uff0c\u53ef\u4ee5\u8ba9 $\\max$ \u548c $\\min$ \u518d\u9760\u8fd1\u3010\u5269\u4e0b\u7684\u6b65\u6570\u9664\u4ee5 $l$\uff0c\u4e0b\u53d6\u6574\u3011\u4e2a\u5355\u4f4d\u3002\u6b64\u65f6\u5f97\u5230\u6700\u7ec8\u7b54\u6848\u3002\n\n\u8003\u8651\u524d\u7f00\u548c\u540e\u7f00\u7684\u6c47\u5408\u70b9\u3002\u8fd9\u91cc\u6211\u4eec\u8ba9\u4e0a\u8ff0\u7b97\u6cd5\u5728\u5904\u7406 $l= \\lfloor \\dfrac{n - 1}{2} \\rfloor$ \u540e\u7ec8\u6b62\u3002\u90a3\u4e48\u5728 $n$ \u4e3a\u5947\u6570\u65f6\u521a\u521a\u597d\uff0c$n$ \u4e3a\u5076\u6570\u65f6\u8fd8\u6709\u4e2d\u95f4\u4e24\u4e2a\u70b9\u6ca1\u9f50\u5e73\uff0c\u624b\u52a8\u5c1d\u8bd5\u9f50\u5e73\u4e00\u4e0b\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal{O}(n \\log n)$\u3002\n\n```cpp\n/*\n * @Author: crab-in-the-northeast \n * @Date: 2022-10-18 09:56:47 \n * @Last Modified by: crab-in-the-northeast\n * @Last Modified time: 2022-10-18 10:45:39\n */\n#include <bits/stdc++.h>\n#define int long long\ninline int read() {\n    int x = 0;\n    bool flag = true;\n    char ch = getchar();\n    while (!isdigit(ch)) {\n        if (ch == '-')\n            flag = false;\n        ch = getchar();\n    }\n    while (isdigit(ch)) {\n        x = (x << 1) + (x << 3) + ch - '0';\n        ch = getchar();\n    }\n    if(flag)\n        return x;\n    return ~(x - 1);\n}\n\nconst int maxn = (int)1e5 + 5;\nint a[maxn];\n\ninline int min(int a, int b) {\n    return a < b ? a : b;\n}\n\nsigned main() {\n    int n = read(), k = read();\n    for (int i = 1; i <= n; ++i)\n        a[i] = read();\n    \n    std :: sort(a + 1, a + 1 + n);\n    int ans = a[n] - a[1];\n\n    for (int l = 1, r = n; l <= ((n - 1) >> 1); ++l, --r) {\n        int t = (a[l + 1] - a[l] + a[r] - a[r - 1]) * l;\n        if (k < t) {\n            printf(\"%lld\\n\", ans - k / l);\n            return 0;\n        } else {\n            ans = a[r - 1] - a[l + 1];\n            // \u53ef\u4ee5\u5199\u6210 ans -= t / l;\n            k -= t;\n        }\n    }\n\n    if ((n & 1) == 0) {\n        int l = (n >> 1);\n        ans -= min(a[l + 1] - a[l], k / l);\n    }\n\n    printf(\"%lld\\n\", ans);\n    return 0;\n}\n```\n\n\u5982\u679c\u89c9\u5f97\u672c\u7bc7\u9898\u89e3\u5199\u5f97\u597d\uff0c\u8bf7\u4e0d\u8981\u5fd8\u8bb0\u70b9\u8d5e\uff0c\u8c22\u8c22\uff01",
        "postTime": 1666061459,
        "uid": 120868,
        "name": "dbxxx",
        "ccfLevel": 6,
        "title": "CF1244E"
    },
    {
        "content": "# \u9898\u610f\n\n\u7ed9\u51fa$n$\u4e2a\u6570\uff0c\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u6570$+1$\u6216$-1$\uff0c\u6c42$k$\u6b21\u64cd\u4f5c\u540e\u6700\u5c0f\u6781\u5dee\n\n**\u6570\u636e\u8303\u56f4\uff1a**$2 \\le n \\le 10^5,1 \\le k \\le 10^{14}$\n\n# \u9898\u89e3\n\n\u4e3a\u4e86\u51cf\u5c0f\u6781\u5dee\uff0c\u6bcf\u6b21\u80af\u5b9a\u662f\u9009\u62e9\u6700\u5927\u503c$-1$\u6216\u6700\u5c0f\u503c$+1$\uff0c\u6240\u4ee5\u5148\u6392\u4e2a\u5e8f\n\n\u4e3a\u4e86\u5feb\u901f\u8f6c\u79fb\uff0c\u53ef\u4ee5\u5c06$a[i]$\u53d8\u4e3a$a[i+1]$\uff08\u5bf9\u4e8e\u524d\u534a\u90e8\u5206\uff09\u6216\u5c06$a[i]$\u53d8\u4e3a$a[i-1]$\uff08\u5bf9\u4e8e\u540e\u534a\u90e8\u5206\uff09\uff1b\u800c\u5f53$k$\u503c\u4e0d\u8db3\u4ee5\u8fdb\u884c\u4e00\u6b21\u8f6c\u79fb\u65f6\uff0c\u8fd8\u53ef\u4ee5\u7ed9\u4e4b\u524d\u5df2\u7ecf\u5904\u7406\u8fc7\u7684\u6570\uff08\u76f8\u7b49\u4e14\u6700\u5927/\u6700\u5c0f\uff09\u6574\u4f53\u6539\u53d8\n\n\u4e3a\u4e86\u907f\u514d\u9009\u62e9\u6539\u53d8\u6700\u5927\u503c\u8fd8\u662f\u6700\u5c0f\u503c\uff0c\u5c06\u5176\u653e\u5230\u4e00\u8d77\u5904\u7406\uff1b\u6ce8\u610f\u5076\u6570\u9879\u7684\u4e2d\u95f4\u4e24\u9879\u9700\u8981\u7279\u6b8a\u5904\u7406\uff0c\u907f\u514d\u7b97\u91cd\n\n**\u4ee3\u7801\uff1a**\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\n#define int long long\nconst int N=1e5+10;\nint n,k;\nint a[N];\nint ans;\nsigned main(){\n    scanf(\"%lld%lld\",&n,&k);\n    for(int i=1;i<=n;i++)\n        scanf(\"%lld\",&a[i]);\n    sort(a+1,a+n+1);\n    ans=a[n]-a[1];\n    for(int i=1;i<(n+1)/2;i++){\n        int t=min(a[i+1]-a[i]+a[n-i+1]-a[n-i],k/i);\n        ans-=t;\n        k-=t*i;\n    }\n    if(n%2==0){\n        int t=min(a[n/2+1]-a[n/2],k/(n/2));\n        ans-=t;\n        k-=t*(n/2);\n    }\n    printf(\"%lld\",ans);\n    return 0;\n}\n```",
        "postTime": 1571052596,
        "uid": 63708,
        "name": "Pelom",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1244E \u3010Minimizing Difference\u3011"
    },
    {
        "content": "\u9898\u610f\u7b80\u8ff0\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u6570\u5217\uff0ck\u6b21\u64cd\u4f5c\u3002\u6bcf\u4e00\u6b21\u64cd\u4f5c\u4f60\u53ef\u4ee5\u5c06\u6570\u5217\u4e2d\u7684\u4e00\u4e2a\u6570\u52a0\u4e00\u6216\u51cf\u4e00\uff0c\u95ee\u8fdb\u884c\u5c0f\u4e8e\u7b49\u4e8ek\u6b21\u64cd\u4f5c\u540e\u6570\u5217\u4e2d\u6700\u5927\u503c\u51cf\u53bb\u6700\u5c0f\u503c\u6700\u5c0f\u4e3a\u591a\u5c11\n\n\u53ef\u4ee5\u7528\u8d2a\u5fc3\u7684\u601d\u8def\u6c42\u89e3\u3002\u5148\u5c06\u6570\u5217\u6392\u5e8f\u3002\u8981\u4f7f\u6570\u5217\u4e2d\u7684\u6700\u5c0f\u503c\u589e\u5927\u4e00\uff0c\u5219\u9700\u8981\u5c06\u6570\u5217\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6700\u5c0f\u503c\u90fd\u52a0\u4e00\uff1b\u8981\u4f7f\u6570\u5217\u4e2d\u7684\u6700\u5927\u503c\u51cf\u5c0f\u4e00\uff0c\u5219\u9700\u8981\u5c06\u6570\u5217\u4e2d\u7684\u6bcf\u4e00\u4e2a\u6700\u5927\u503c\u90fd\u51cf\u4e00\u3002\u6bcf\u6b21\u64cd\u4f5c\u65f6\uff0c\u5148\u5f97\u51fa\u6570\u5217\u4e2d\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u5206\u522b\u6709\u51e0\u4e2a\uff0c\u518d\u9009\u5b9a\u672c\u6b21\u64cd\u4f5c\u589e\u5927\u6700\u5c0f\u503c\u8fd8\u662f\u51cf\u5c0f\u6700\u5927\u503c\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nint n;\nll k;\nll a[100005];\nint main()\n{\n\tscanf(\"%d%lld\",&n,&k);\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tscanf(\"%lld\",&a[i]);\n\t}\n\tsort(a+1,a+n+1);\n\tll sum=0;\n\tif(n%2)\n\t{\n\t\tfor(int i=1;i<=n;++i)\n\t\t{\n\t\t\tsum+=abs(a[n/2+1]-a[i]);\n\t\t}\n\t}\n\telse\n\t{\n\t\tfor(int i=1;i<=n;++i)\n\t\t{\n\t\t\tsum+=abs(a[n/2]-a[i]);\n\t\t}\n\t}\n\tif(k>=sum)\n\t{\n\t\tprintf(\"0\\n\");\n\t\treturn 0;\n\t}//\u53ef\u4ee5\u5c06\u6570\u5217\u4e2d\u6bcf\u4e2a\u6570\u53d8\u6210\u4e00\u6837\uff0c\u5219\u8f93\u51fa0\n\tll bg=a[1],ed=a[n];\n\tint pre=1,nxt=n;\n\twhile(pre<=nxt)\n\t{\n\t\twhile(pre<nxt&&a[pre]==a[pre+1])++pre;\n\t\twhile(pre<nxt&&a[nxt-1]==a[nxt])--nxt;//\u7edf\u8ba1\u51fa\u5f53\u524d\u6570\u5217\u4e2d\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u5206\u522b\u6709\u51e0\u4e2a\n\t\tif(pre==nxt)break;\n\t\tif(pre<(n-nxt+1))//\u5982\u679c\u6700\u5c0f\u503c\u7684\u4e2a\u6570\u5c11\uff0c\u5219\u589e\u5927\u6700\u5c0f\u503c\n\t\t{\n\t\t\tll val1=(ll)pre*(a[pre+1]-a[pre]);\n\t\t\tif(k<val1)\n\t\t\t{\n\t\t\t\tbg+=k/(ll)pre;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tk-=val1;\n\t\t\t\tbg=a[pre+1];\n\t\t\t\t++pre;\n\t\t\t}\n\t\t}\n\t\telse//\u53cd\u4e4b\u51cf\u5c0f\u6700\u5927\u503c\n\t\t{\n\t\t\tll val2=(ll)(n-nxt+1)*(a[nxt]-a[nxt-1]);\n\t\t\tif(k<val2)\n\t\t\t{\n\t\t\t\ted-=k/(ll)(n-nxt+1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tk-=val2;\n\t\t\t\ted=a[nxt-1];\n\t\t\t\t--nxt;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",ed-bg);\n\treturn 0;\n}\n```",
        "postTime": 1571011964,
        "uid": 34217,
        "name": "Katsura_Hinagiku",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1244E \u3010Minimizing Difference\u3011"
    }
]