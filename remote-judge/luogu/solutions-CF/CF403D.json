[
    {
        "content": "\u849f\u84bb\u89c9\u5f97\u5927\u4f6c\u5199\u7684\u9898\u89e3\u8fc7\u4e8e\u6df1\u5965\uff0c\u6240\u4ee5\u81ea\u5df1\u5199\u4e00\u7bc7\u52a0\u6df1\u8bb0\u5fc6\u3002\n\n### \u9898\u610f\n\n\u5728\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217\u4e2d\uff0c\u627e $k$ \u4e2a**\u957f\u5ea6\u4e92\u4e0d\u76f8\u540c**\u7684\u533a\u95f4**\u4e92\u4e0d\u91cd\u53e0**\uff0c\u6c42\u65b9\u6848\u6570\u3002\n\n### Solution\n\n\u7ecf\u8fc7\u7b80\u5355\u7684\u8ba1\u7b97\uff0c\u53d1\u73b0\u666e\u901a\u7684\u7ec4\u5408\u6570\u5e76\u4e0d\u80fd\u76f4\u63a5\u628a\u65b9\u6848\u6570\u7b97\u51fa\u6765\uff0c\u56e0\u4e3a\u8981\u8003\u8651\u7684\u60c5\u51b5\u5b9e\u5728\u592a\u591a\u4e86\u3002\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u53e6\u4e00\u79cd\u80fd\u591f\u7b97\u51fa\u65b9\u6848\u6570\u7684\u65b9\u6cd5\u2014\u2014\u8ba1\u6570DP\u3002\n\n\u5728\u4e0a\u9762\u7684\u9898\u610f\u4e2d\uff0c\u6211\u5c06\u672c\u9898\u76ee\u7684\u91cd\u70b9**\u52a0\u7c97**\u4e86\u3002\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8bbe $f_{i,j}$ \u8868\u793a $i$ \u4e2a\u4e0d\u540c\u7684\u533a\u95f4\uff0c\u603b\u957f\u5ea6\u4e3a $j$ \u4e14\u533a\u95f4\u957f\u5ea6\u9012\u589e\u7684\u65b9\u6848\u6570\uff08\u4e3a\u4ec0\u4e48\u8981\u9012\u589e\u4e0b\u9762\u4f1a\u8bf4\uff09\u3002\u5219\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a $f_{0,0}=1,f_{i,j}=f_{i,,j-i}+f_{i-1,j-i}$ \uff0c\u6307\u7684\u662f\u53ef\u4ee5\u5c06\u539f\u65b9\u6848\u7684 $i$ \u4e2a\u533a\u95f4\u90fd\u52a0\u4e0a\u4e00\uff0c\u6216\u8005\u52a0\u4e0a\u4e00\u518d\u591a\u4e00\u4e2a\u957f\u5ea6\u4e3a $1$ \u7684\u533a\u95f4\u3002\n\n\u90a3\u4e48\u8fd9\u4e2a\u4e1c\u897f\u548c\u7b54\u6848\u6709\u4ec0\u4e48\u5173\u7cfb\u5462\uff1f\n\n\u8fd9\u91cc\u6211\u4eec\u5148\u628a\u6700\u540e\u7b54\u6848\u7684\u5f0f\u5b50\u5199\u51fa\u6765\uff0c $ans=k!\\sum\\limits_{i=1}^n\\binom {n-i+k}kf_{k,i}$ \n\n\u610f\u601d\u662f\u679a\u4e3e\u533a\u95f4\u603b\u957f $i$ \uff0c\u4f1a\u51fa\u73b0 $n-i$ \u7684\u7a7a\u9699\uff0c\u90a3\u4e48\u5c31\u662f\u5728 $n-i$ \u7684\u7a7a\u9699\u548c $k$ \u4e2a\u533a\u95f4\u4e2d\u9009 $k$ \u4e2a\u533a\u95f4\uff08\u6216\u8005\u50cf\u4e0a\u9762\u90a3\u4efd\u9898\u89e3\u4e00\u6837\uff0c\u5c06\u533a\u95f4\u770b\u6210\u70b9\uff09\uff0c\u90a3\u4e48\u90a3\u4e2a $i$ \u5c31\u662f\u8981\u7528\u5230 $f$ \u7684\u5730\u65b9\uff0c\u4f46\u662f\u56e0\u4e3a\u662f**\u9012\u589e**\uff0c\u6240\u4ee5\u8981\u4e58\u4e0a $A_k^k=k!$ \u4ee3\u8868\u5168\u6392\u5217\uff0c\u6b64\u65f6\u7b54\u6848\u4e3a $ans=\\sum\\limits_{i=1}^n\\binom {n-i+k}kk!f_{k,i}$ \uff0c\u5c06 $k!$ \u63d0\u524d\uff0c\u5c31\u662f\u4e0a\u9762\u7684\u5f0f\u5b50\u4e86\u3002\n\n\u56e0\u4e3a\u9636\u4e58\uff0c\u7ec4\u5408\u6570\u548c $f$ \u5728\u8fd0\u7b97\u8fc7\u7a0b\u4e2d\u548c $n,k$ \u65e0\u5173\uff0c\u6240\u4ee5\u53ef\u4ee5\u63d0\u524d\u9884\u5904\u7406\uff0c\u76f4\u63a5\u67e5\u8be2\u3002\n\n\u5c0f\u7ec6\u8282\uff1a\u56e0\u4e3a\u5982\u679c\u9009\u62e9\u533a\u95f4\u957f\u5ea6\u4e3a $1,2,3\\cdots$ \uff0c\u53ef\u5f97 $\\dfrac {k(k+1)}2\\leq1000$ \uff0c\u89e3\u5f97 $k\\leq 45$ \uff0c\u6240\u4ee5\u53ef\u4ee5\u7279\u5224\u4e00\u4e0b\uff08\u6211\u7279\u5224\u768450\uff09\n\n```c++\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#define ll long long\n\nusing namespace std;\nconst int N=1010,mod=1e9+7;\nint t,n,k;\nll fac[N],inv[N],f[60][N],ans[N][60];\n\ninline int read(){\n    int x=0,f=1;\n    char ch=getchar();\n    while(!isdigit(ch)){if(ch=='-') f=-1;ch=getchar();}\n    while(isdigit(ch)){x=x*10+(ch^48);ch=getchar();}\n    return x*f;\n}\n\ninline ll mul(ll a,ll b){return a*(ll)b%mod;}\ninline ll add(ll a,ll b){return a+b>mod?a+b-mod:a+b;}\n\ninline ll fpow(ll a,ll b){\n    ll res=1;\n    while(b){\n        if(b&1) res=mul(res,a);\n        a=mul(a,a);\n        b>>=1;\n    }\n    return res;\n}\n\ninline void init(){\n    fac[0]=1;\n    for(int i=1;i<=1000;i++) fac[i]=mul(fac[i-1],i);\n    inv[1000]=fpow(fac[1000],mod-2);\n    for(int i=1000;i>0;i--) inv[i-1]=mul(inv[i],i);\n}\n\ninline ll C(ll n,ll m){\n    if(n<m) return 0;\n    return mul(fac[n],mul(inv[n-m],inv[m]));\n}\n\nint main(){\n    init();\n    f[0][0]=1;\n    for(int i=1;i<=50;i++)\n        for(int j=i*(i+1)/2;j<=1000;j++)\n            f[i][j]=add(f[i][j-i],f[i-1][j-i]);\n    for(int i=1;i<=1000;i++)\n        for(int k=1;k<=50;k++){\n\t\t\tfor(int j=k*(k+1)/2;j<=i;j++){\n\t\t\t\tans[i][k]=add(ans[i][k],mul(C(i-j+k,k),f[k][j]));\n\t\t\t}\n\t\t\tans[i][k]=mul(ans[i][k],fac[k]);\n\t\t}\n    t=read();\n    while(t--){\n        n=read();k=read();\n        if(k>50) puts(\"0\");\n        else printf(\"%lld\\n\",ans[n][k]);\n    }\n    return 0;\n}\n```\n\n",
        "postTime": 1602151727,
        "uid": 272143,
        "name": "\u662f\u4e2a\u6c49\u5b50",
        "ccfLevel": 4,
        "title": "CF403D Beautiful Pairs of Numbers"
    },
    {
        "content": "\u8fd9\u9898\u7adf\u7136\u8fd9\u4e48\u5c11\u505a \uff0c \u611f\u89c9\u662f\u4e2a\u86ee\u6709\u610f\u601d\u7684\u9898\u554a qwq \uff0c \u53ef\u80fd\u662f\u6211\u592a\u5783\u573e\u4e86qwq\n\ndp + \u7ec4\u5408\u6570\u5b66\n\n```cpp\nf[i][j]:\u533a\u95f4\u603b\u957f\u5ea6\u4e3ai\uff0c\u6709j\u4e2a\u533a\u95f4\uff0c\u4e14\u4efb\u610f\u4e24\u4e2a\u533a\u95f4\u7684\u957f\u5ea6\u4e0d\u540c\u7684\u65b9\u6848\u6570\n```\n\u7136\u540e\u6211\u4eec\u641e\u4e24\u4e2a\u8f6c\u79fb \uff0c \u7b2c\u4e00\u4e2a \u53ea\u9700\u8981\u628a\u6bcf\u4e2a\u533a\u95f4\u7684size\u90fd ++ \u5c31\u53ef \uff0c \u7b2c\u4e8c\u4e2a\u6211\u4eec\u4e00\u5c31\u662f\u6bcf\u4e2a\u533a\u95f4 ++ , \u518d\u589e\u6dfb\u4e00\u4e2asize == 1\u7684\u533a\u95f4\n\n\u600e\u4e48\u6c42\u7b54\u6848\u5462 \uff1f \n\u7b54 \uff1a \u679a\u4e3e\u533a\u95f4\u603b\u957f\u5ea6i\uff0c\u628a\u6bcf\u4e2a\u533a\u95f4\u7f29\u6210\u4e00\u4e2a\u70b9\uff0c\u8fd9\u6837\u5c31\u6709n-i+k\u4e2a\u70b9\uff0c\u4ece\u4e2d\u9009\u51fak\u4e2a\u4f5c\u4e3a\u533a\u95f4\u5373\u53ef\uff0c\u53e6\u5916\u8fd9k\u4e2a\u533a\u95f4\u7684\u5927\u5c0f\u987a\u5e8f\u8fd8\u6ca1\u6709\u5b9a\uff0c\u8fd8\u8981\u4e58\u4e0a\u4e00\u4e2a\u5168\u6392\u5217\n\n```cpp\n    int n=1000,K=1000;fac[0]=1;\n    for(int i=1;i<=n;++i) fac[i]=(ll)fac[i-1]*i%mod;\n    for(int i=0;i<=n;++i) C[i][0]=1;\n    for(int i=1;i<=n;++i)\n        for(int j=1;j<=i;++j)\n            C[i][j]=(ll)(C[i-1][j]+C[i-1][j-1])%mod;\n    f[1][1]=1;\n    for(int i=1;i<=n;++i)\n        for(int j=1;j<=i;++j){\n            if(i+j<=n) inc(f[i+j][j],f[i][j]);\n            if(i+j+1<=n) inc(f[i+j+1][j+1],f[i][j]);\n        }\n    int tst=read();\n    while(tst--){\n        n=read();K=read();\n        if(ans[n][K]){printf(\"%d\\n\",ans[n][K]);continue;}\n        for(int i=K;i<=n;++i)\n            inc(ans[n][K],(ll)f[i][K]*C[n-i+K][K]%mod*fac[K]%mod);\n        printf(\"%d\\n\",ans[n][K]);\n    }\n    return 0;\n```\n\u6492\u82b1\u4e86 \uff01 ",
        "postTime": 1592088915,
        "uid": 334465,
        "name": "\u4e07\u5723\u8282\u54c7",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF403D \u3010Beautiful Pairs of Numbers\u3011"
    }
]