[
    {
        "content": "\u9996\u5148\u6765\u5224\u65ad `2-type` \uff0c\u7b49\u4e8e\u5c31\u662f\u95ee\u6700\u5c0f\u7684 $x$ \u4f7f\u5f97 $d\\times k_1=b^x\\times k_2$ $(1\\le k_2\\le b,x>0)$\uff0c\n\n\u5982\u679c\u5b58\u5728\u8fd9\u4e2a $x$\uff0c\u5e76\u4e14 $k_2=0$\uff0c\u8bf4\u660e\u53ef\u4ee5\u901a\u8fc7 `2-type` \uff0c\u5e76\u4e14\u6700\u5c11\u9700\u8981\u6700\u540e $x$ \u4f4d\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u5b9e\u73b0\u8d77\u6765\u5c31\u662f\u5982\u679c $\\gcd(b,d)>1$ \uff0c\u90a3\u4e48\u5c31 $d\\leftarrow \\dfrac d{\\gcd(b,d)}$\uff0c\u7136\u540e $x\\leftarrow x+1$\uff0c\n\n\u6700\u540e $d=1$ \u90a3\u5c31\u8bf4\u660e `2-type`\uff0c\u5426\u5219\u6211\u4eec\u4e5f\u4e0d\u7528\u8fd8\u539f\u8fd9\u4e2a $d$ \uff0c\u4e5f\u4e0d\u7528\u6e05\u7a7a $x$ \uff0c\u56e0\u4e3a\u5224 `6-type` \u548c\u5176\u4ed6\u8981\u7528\u3002\n\n\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u628a $d$ \u8868\u793a\u4e3a $\\sum_{i=0}^na_ib^i$\uff0c`3-type` \u7684\u5f0f\u5b50\u5c31\u662f\uff1a\n$$\n\\sum_{i=0}^na_ib^i-\\sum_{i=0}^na_i=0 \\pmod d\n$$\n\n$$\n\\sum_{i=1}^na_i(b^i-1)=0 \\pmod d\n$$\n\n\u7136\u540e\u4f60\u4f1a\u53d1\u73b0\u5bf9\u4e8e\u6bcf\u4e2a $(b^i-1)$ \u90fd\u80fd\u63d0\u4e00\u4e2a $(b-1)$ \u56e0\u5f0f\u51fa\u6765\uff0c\u6240\u4ee5 `3-type` \u7684\u6761\u4ef6\u5c31\u662f $b-1$ \u662f $d$ \u7684\u500d\u6570\uff0c\n\n\u6ce8\u610f\uff0c\u5982\u679c $x>0$ `3-type` \u4e0d\u6210\u7acb\u3002\n\n\u63a5\u4e0b\u6765\u662f `11-type`\uff0c\u6211\u4eec\u5982\u6cd5\u70ae\u5236\uff1a\uff08\u6b64\u5904\u611f\u8c22 @[YanLei](https://www.luogu.com.cn/user/243760) \u63d0\u9192\uff0c\u5df2\u6539\u6b63\uff09\n$$\n(a_0b^0+a_1b^1+a_2b^2+a_3b^3+\\cdots) =0 \\pmod d\n$$\n\n$$\n(a_0-a_1+a_2-a_3+\\cdots) =0 \\pmod d\n$$\n\n\u4e0a\u5f0f\u51cf\u4e0b\u5f0f\uff1a\n$$\na_1(b^1+1)+a_2(b^2-1)+a_3(b^3+1)+\\cdots = 0 \\pmod d\n$$\n\u53d1\u73b0 $(b^k- (-1)^k)$ \u90fd\u80fd\u63d0\u4e00\u4e2a $(b+1)$ \u56e0\u5f0f\u51fa\u6765\uff0c\u6240\u4ee5 `11-type` \u7684\u6761\u4ef6\u5c31\u662f $b+1$ \u662f $d$ \u7684\u500d\u6570\uff0c\n\n\u6ce8\u610f\uff0c\u5982\u679c $x>0$ `11-type` \u4e5f\u4e0d\u6210\u7acb\u3002\n\n\u7136\u540e\u5c31\u662f `6-type` \uff0c\u663e\u7136\u53ea\u8981 `2-type` \u6210\u7acb\u5e76\u4e14 `3\u621611-type` \u6210\u7acb\u5c31\u884c\u4e86\u3002\n\n`3-type` \u548c `11-type`   \u4e5f\u53ef\u4ee5\u63a8\u51fa `6-type` \uff0c\u53ea\u8981 $b+1$ \u548c $b-1$ \u540c\u65f6\u662f $d$ \u7684\u500d\u6570\u5c31\u884c\u4e86\uff0c\u90a3\u5c31\u662f $\\operatorname {lcm}(b+1,b-1)$ \u662f $d$ \u7684\u500d\u6570\u3002\n\n\u5426\u5219\u5c31\u662f `7-type`\u3002\n\n```cpp\n// This code wrote by chtholly_micromaker(MicroMaker)\n#include <bits/stdc++.h>\n#define reg register\ntemplate <class t> inline void read(t &s){s=0;\nreg int f=1;reg char c=getchar();while(!isdigit(c)){if(c=='-')f=-1;c=getchar();}\nwhile(isdigit(c))s=(s<<3)+(s<<1)+(c^48),c=getchar();s*=f;return;}\ntemplate<class t,class ...A> inline void read(t &x,A &...a){read(x);read(a...);}\ninline int lcm(int a,int b){return a/std::__gcd(a,b)*b;}\nsigned main(void)\n{\n\tint p,d,y;read(p,d),y=d;\n\treg int cnt=0;\n\twhile(std::__gcd(p,y)>1)++cnt,y/=std::__gcd(p,y);\n\tif(y==1)std::printf(\"2-type\\n%d\\n\",cnt);\n\telse if(!(lcm(p+1,p-1)%y))\n\t{\n\t\tif(!cnt&&!((p-1)%y))std::puts(\"3-type\");\n\t\telse if(!cnt&&!((p+1)%y))std::puts(\"11-type\");\n\t\telse std::puts(\"6-type\");\n\t}\n\telse std::puts(\"7-type\");\n\treturn 0;\n}\n```\n\n",
        "postTime": 1619012835,
        "uid": 51376,
        "name": "MyukiyoMekya",
        "ccfLevel": 9,
        "title": "CF180B Divisibility Rules \u9898\u89e3"
    }
]