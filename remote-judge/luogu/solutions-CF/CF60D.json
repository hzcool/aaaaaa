[
    {
        "content": "\u9996\u5148\u8bc1\u660e\u4e00\u4e0b\u52fe\u80a1\u6570\u516c\u5f0f\u7684\u6b63\u786e\u6027\u3002\n\n$a = n^2 - m^2$\uff0c $b = 2nm$\uff0c $c = n^2 + m ^2$\n\n\u8bc1\u660e: \u5f53$(a,b) = 1$\u65f6\uff0c\u5982\u679c$a,b$\u5747\u4e3a\u5947\u6570, \u5219\u6709$a^2+b^2\\equiv 2\\pmod{4}$\uff0c\u6b64\u65f6\u4ea7\u751f\u77db\u76fe\uff0c$\u2234a$\uff0c$ b$\u95f4\u5fc5\u6709\u4e00\u6570\u4e3a\u5076\u6570\uff0c\u4e0d\u59a8\u8bbe$b =2k$\u3002\n\n$\u2235b^2 = c^2 - a^2$\uff0c\n\n$\u2234$ \u539f\u5f0f\u53ef\u7b49\u5316\u4e3a$4k^2 = (c+a)(c-a)$\n\n\u663e\u7136\u53f3\u5f0f\u4e3a\u5076\u6570\uff0c\u8bbe$M = \\frac{c+a}{2}$\uff0c$N = \\frac{c-a}{2}$\uff0c\u663e\u7136\uff0c$N,M\\in \\mathbb{Z}^{+}$\n\n\u82e5\u5b58\u5728\u4e00\u8d28\u6570$p$ \u4f7f\u5f97 $p|M$\uff0c$p|N$\uff0c\u5219\u6709$p|M+N(=c)$, $p|N-M(=a)$\uff0c\u4ece\u800c\uff0c$p|c$\uff0c$p|a$\uff0c$\u2234p|b$\uff0c\u6b64\u65f6\u4e0e$(a,b)=1$\u4ea7\u751f\u77db\u76fe\uff0c$\u2234(M,N)=1$\n\n\u6839\u636e\u7b97\u672f\u57fa\u672c\u5b9a\u7406\uff0c$k^2=p_1^{a_1}\u00d7p_2^{a_2}\u00d7p_3^{a_3}\u00d7\u2026$\uff0c\u5176\u4e2d$a_1,a_2,a_3\u2026$\u5747\u4e3a\u5076\u6570\uff0c$p_1,p_2,p_3\u2026$\u5747\u4e3a\u8d28\u6570\n\n\u82e5\u5bf9\u4e8e\u67d0\u4e2a$p_i$\uff0c$M$\u7684$p_i$\u56e0\u5b50\u4e2a\u6570\u4e3a\u5947\u6570\u4e2a\uff0c\u5219$N$\u6240\u5bf9\u5e94\u7684$p_i$\u56e0\u5b50\u5fc5\u4e3a\u5947\u6570\u4e2a\uff08\u5426\u5219\u52a0\u8d77\u6765\u4e0d\u4e3a\u5076\u6570\uff09\uff0c\u4ece\u800c$p_i|M$\uff0c$p_i|N$\uff0c$(M,N)=p_i>1$\u4e0e\u521a\u624d\u7684\u8bc1\u660e\u77db\u76fe\uff0c$\u2234$\u5bf9\u4e8e\u6240\u6709\u8d28\u56e0\u5b50\uff0c$p_i^2|M$\uff0c$p_i^2|N$\uff0c\u5373$M$\uff0c$N$\u90fd\u662f\u5e73\u65b9\u6570\u3002\n\n\u8bbe$M=m^2$\uff0c$N=n^2$\uff0c\u4ece\u800c\u6709\n\n$c+a = 2m^2$\n\n$c-a = 2n^2$\n \n(\u4e0d\u4f1a\u6253\u5927\u62ec\u53f7.....) \n  \n \u89e3\u5f97\uff1a\n\n$c = n^2+m^2$\n\n$a = n^2-m^2$\n  \n\u4ece\u800c\uff0c$b = 2nm$\u3002\n\n\u8bc1\u660e\u51fa\u52fe\u80a1\u6570\u516c\u5f0f\u7684\u6b63\u786e\u6027\u540e\uff0c\u8fd9\u9053\u9898\u5c31\u662f\u4e00\u9053\u5927\u6c34\u9898\u4e86\uff0c\u76f4\u63a5\u679a\u4e3e\u52fe\u80a1\u6570\uff0c\u7136\u540e\u7528\u5e76\u67e5\u96c6\u7b97\u8fde\u901a\u5757\u4e2a\u6570\u5c31\u5b8c\u4e8b\u4e86\u3002\n\n$\\mathbb{code:}$\n```cpp\n#include <bits/stdc++.h>\n#define Maxn 10010000\n#define ll long long\nusing namespace std;\n\nint fa[Maxn], n, ans; \n\nint find(int x) {\n\treturn fa[x] == x ? x : fa[x] = find(fa[x]);\n}\n\nvoid merge(int x, int y) {\n\tif (!fa[x] || !fa[y]) return ;\n\tx = find(x), y = find(y);\n\tif (x == y) return ;\n\tfa[x] = y, ans--;\n}\n\nint gcd(int a, int b) {\n\treturn !b ? a : gcd(b, a % b);\n}\n\nint main() {\n\tcin >> n, ans = n;\n\tfor (int i = 1, x; i <= n; i++)\n\t\tscanf(\"%d\", &x), fa[x] = x;\n\tfor (ll y = 1; y <= 1e7; y++) {\n\t\tfor (ll x = y + 1; 2 * x * y <= 1e7 && x * x - y * y <= 1e7; x++) {\n\t\t\tll a = x * x - y * y, b = 2 * x * y, c = x * x + y * y;\n\t\t\tif (gcd(a, b) == 1) {\n\t\t\t\tmerge(a, b);\n\t\t\t\tif (c <= 1e7) {\n\t\t\t\t\tmerge(a, c);\n\t\t\t\t\tmerge(b, c);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n```",
        "postTime": 1581049344,
        "uid": 84786,
        "name": "Jesselrj",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF60D \u3010Savior\u3011"
    },
    {
        "content": "\u9898\u610f\uff1a\n\n>\u7ed9\u4f60\u4e00\u5806\u6570\uff08\u5355\u4e2a\u7ec4\u6210\u8fde\u901a\u5757\uff09\uff0c\u82e5\u4e24\u4e24\u53ef\u4ee5\u7ec4\u6210\u539f\u59cb\u52fe\u80a1\u6570\u7684\u5176\u4e2d\u4e24\u4e2a\u90a3\u4e48\u5408\u5e76\uff0c\u95ee\u4f60\u6700\u540e\u6709\u591a\u5c11\u4e2a\u8fde\u901a\u5757\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u5f88\u5feb\u7684\u7801\u51fa\u6a21\u62df\u7684\u4ee3\u7801\uff1a\n\n\u53ea\u9700\u8981\u8bb0\u5f55\u4e00\u4e0b\u539f\u59cb\u7684\u6570\uff0c\u7136\u540e\u5f00\u59cb\u679a\u4e3e\u5e73\u65b9\u6570\uff0c\u4e0d\u65ad\u5237\u65b0\u7b54\u6848\u3002\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<map>\n#define N 10000007\n#define int long long\nusing namespace std;\nint f[N],mx,ans,a[N];\nint n;\nint find(int x){return x==f[x]?x:f[x]=find(f[x]);}\nvoid merge(int x,int y){\n\tx=find(x),y=find(y);\n\tif(x==y)return;\n\tif(!x||!y)return;\n\tf[x]=y;ans--;\n}\nmap<long long,bool>mp;\nsigned main(){\n\tscanf(\"%lld\",&n);ans=n;\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%lld\",&a[i]);\n\t\tmx=max(mx,a[i]);\n\t\tmp[a[i]]=1;\n\t\tf[a[i]]=a[i];\n\t}\n\tfor(int i=1;i<=min((int)1e14,mx*mx);i+=2*sqrt(i)+1){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tdouble chk=sqrt(i+a[j]*a[j]);\n\t\t\tint now=sqrt(i+a[j]*a[j]);\n\t\t\tif(chk!=now)continue;\n\t\t\tif(now==0)continue;\n\t\t\tif(now==i)continue;\n\t\t\tif(now==a[j])continue;\n\t\t\tif(i==a[j])continue;\n\t\t\tif(__gcd(a[j],now)==1&&mp.find(now)!=mp.end())merge(a[j],now);\n\t\t}\n\t}\n\tfor(int i=1;i<=min((int)1e14,mx*mx);i+=2*sqrt(i)+1){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tdouble chk=sqrt(i+a[j]*a[j]);\n\t\t\tint now=sqrt(i+a[j]*a[j]);\n\t\t\tif(chk!=now)continue;\n\t\t\tif(now==0)continue;\n\t\t\tif(now==i)continue;\n\t\t\tif(now==a[j])continue;\n\t\t\tif(i==a[j])continue;\n\t\t\tif(__gcd(a[j],i)==1&&mp.find(now)!=mp.end())merge(a[j],now);\n\t\t}\n\t}\n\tfor(int i=1;i<=min((int)1e14,mx*mx);i+=2*sqrt(i)+1){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tdouble chk=sqrt(a[j]*a[j]-i);\n\t\t\tint now=sqrt(a[j]*a[j]-i);\n\t\t\tif(chk!=now)continue;\n\t\t\tif(now==0)continue;\n\t\t\tif(now==i)continue;\n\t\t\tif(now==a[j])continue;\n\t\t\tif(i==a[j])continue;\n\t\t\tif(__gcd(a[j],i)==1&&mp.find(now)!=mp.end())merge(a[j],now);\n\t\t}\n\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```\n\u5f53\u7136\u8fd9\u79cd\u65b9\u6cd5\u590d\u6742\u5ea6\u9ad8\u8fbe $O(na_{max})$ \u663e\u7136\u662f\u884c\u4e0d\u901a\u7684\u3002\n\n\u6211\u4eec\u8003\u8651\u5bf9\u6570\u5b57\u8fdb\u884c\u5206\u89e3\u3002\n\n$$a^2+b^2=c^2,a,b,c\\in Z$$\n\n\u73c2\u4ee5\u88ab\u62c6\u505a\uff1a\n\n$$(i^2-j^2)^2+4i^2j^2=(i^2+j^2)^2,i,j\\in Z$$\n\n\u663e\u7136\uff0c$a=|i^2-j^2|,b=2ij,c=i^2+j^2$\n\n\u6211\u4eec\u4ee4 $j>i$\uff0c\u90a3\u4e48\u4e0d\u65ad\u679a\u4e3e $i$ ,\u540c\u65f6\u679a\u4e3e $j$\uff0c\u5904\u7406\u4e00\u4e0b $j$ \u4e0a\u9650\u95ee\u9898\u3002\n\n\u90a3\u4e48\u6700\u9ad8\u590d\u6742\u5ea6\u4e3a $O(n^{\\frac{5}{4}}\\times \\log n)$\n\n\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#define N 10000007\n#define int long long\nusing namespace std;\nbool mp[N*2];\nint f[N],ans,n,mx;\nint find(int x){return x==f[x]?x:f[x]=find(f[x]);}\nvoid merge(int x,int y){\n\tint u=x,v=y;\n\tx=find(x),y=find(y);\n\tif(x==y)return;\n\tif(!x||!y)return;\n\tprintf(\"%lld %lld\\n\",u,v);\n\tf[x]=y;ans--;\n}\nsigned main(){\n\tscanf(\"%lld\",&n);\n\tans=n;\n\tfor(int i=1;i<=n;i++){\n\t\tint x;\n\t\tscanf(\"%lld\",&x);\n\t\tf[x]=x;\n\t\tmp[x]=1;\n\t\tmx=max(mx,x);\n\t}\n\tfor(int i=1;i<=mx;i++){\n\t\tfor(int j=i+1;2*i*j<=1e7&&j*j-i*i<=1e7;j++){\n\t\t\tint a=j*j-i*i,b=2*i*j,c=i*i+j*j;\n\t\t\tif(mp[a]+mp[b]+mp[c]<2)continue;\n\t\t\tif(__gcd(a,b)==1){\n\t\t\t\tmerge(a,b);\n\t\t\t\tif(c<=1e7){\n\t\t\t\t\tmerge(a,c);\n\t\t\t\t\tmerge(b,c);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n\n```\n\n\u89c2\u5bdf\u4ee3\u7801\u53d1\u73b0\uff0c\u5b9e\u9645\u4e0a\u6709\u5f88\u591a\u4f18\u5316\u5de5\u4f5c\u73c2\u4ee5\u505a\u3002\n\n\u4f8b\u5982\u5148\u8bbe\u7f6e\u597d $mx$ \u6765\u679a\u4e3e $i$ \u7684\u4e0a\u754c\uff0c\u5f00\u4e00\u4e2a $mp$ \u6570\u7ec4 \n\u770b\u4e0a\u53bb\u590d\u6742\u5ea6\u5f88\u5927\u7684\u6837\u5b50\uff0c\u5b9e\u9645\u4e0a\u6211\u4eec\u679a\u4e3e\u7684\u65f6\u5019\u73c2\u4ee5\u52a0\u4e00\u4e9b\u526a\u679d\u3002\n \n\u5982\uff1a\n```\nif(mp[a]+mp[b]+mp[c]<2)continue;\n\n```\n\u73c2\u4ee5\u662f\u590d\u6742\u5ea6\u8d8b\u8fd1\u4e8e $O(n^{\\frac{5}{4}})$ \u4e58\u4ee5\u4e00\u4e2a\u5c0f\u5e38\u6570\uff0c\u603b\u4f53\u4e0b\u6765\u6548\u7387\u8fd8\u662f\u5f88\u9ad8\u7684\u3002\n\n\u4e8e\u662f\u62ff\u4e0b\u4e86\u6700\u4f18\u89e3\u3002\n\n\n\n\n",
        "postTime": 1668323099,
        "uid": 285617,
        "name": "\u9ed1\u5f71\u6d1e\u4eba",
        "ccfLevel": 5,
        "title": "CF60D Savior \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u771f\u7684\u795e\u9898\uff0c$Google$\u4e0a\u7adf\u7136\u4e00\u7bc7\u9898\u89e3\u90fd\u6ca1\u6709\u2026\u2026\n\n\u5bf9\u4e8e$a^2+b^2=c^2$\uff0c \u5f53\u6211\u4eec\u53d6$a=x^2-y^2, b=2xy$\u65f6\uff0c\u539f\u5f0f\u5de6\u8fb9\u53d8\u4e3a\uff1a\n\n$(x^2-y^2)^2+(2xy)^2 = x^4+2x^2y^2+y^4=(x^2+y^2)^2$\n\n\u6b64\u65f6$c=x^2+y^2$\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e$x,y$\uff0c\u5f53\u6ee1\u8db3\u5176\u4e2d\u4e24\u4e2a\u4e92\u8d28\u65f6\uff0c\u6211\u4eec\u628a\u5b83\u4eec\u5e76\u5165\u540c\u4e00\u4e2a\u96c6\u5408\u3002\n\n\u5408\u5e76\u96c6\u5408\u6211\u4eec\u53ef\u4ee5\u7528\u5e76\u67e5\u96c6\u76f4\u63a5\u641e\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u662f$O(\\sum_{i=1}^{MaxNum}{log(N)\\sqrt{i}}) \\approx O(MaxNum*log(N)\\sqrt{\\frac{MaxNum}{2}})$,\u5b9e\u9645\u4e0a\u5e94\u8be5\u8fbe\u4e0d\u5230\u4e0a\u754c\uff0c\u53ef\u4ee5\u901a\u8fc7\u6b64\u9898\u3002\n\n```cpp\n#pragma GCC optimize(2)\n#include <bits/stdc++.h>\nusing namespace std;\nint ans;\n// \u5e76\u67e5\u96c6\nint father[(int)1e7 + 10];\nint get(int x) \n{\n    return father[x] == x ? x : father[x] = get(father[x]);\n}\nvoid get_union(int x, int y)\n{\n    x = get(x);\n    y = get(y);\n    if(x != y)\n    {\n        ans--;\n        father[x] = y;\n    }\n}\nint main()\n{\n    ios::sync_with_stdio(0);\n    cin.tie(0);\n    int n;\n    cin >> n;\n    for(int i = 1, x; i <= n; i++)\n    {\n        cin >> x;\n        father[x] = x;\n    }\n    ans = n;\n    int max_num = 1e7;\n    for(long long y = 1; y <= max_num; ++y)\n    {\n        for(long long x = y + 1; (x * x - y * y) <= max_num && (2 * x * y) <= max_num; ++x)\n        {\n            long long a = x * x - y * y, b = 2 * x * y, c = (x * x + y * y);\n            if(__gcd(a, b) == 1)\n            {\n                if(father[a] && father[b])\n                    get_union(a, b);\n                if(c <= max_num)\n                {\n                    if(father[a] && father[c])\n                        get_union(a, c);\n                    if(father[b] && father[c])\n                        get_union(b, c);\n                }\n            }\n        }\n    }\n    cout << ans << endl;\n    system(\"pause\");\n}\n```",
        "postTime": 1580826093,
        "uid": 84832,
        "name": "MaxDYF",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF60D \u3010Savior\u3011"
    },
    {
        "content": "## \u5927\u610f\n\n\u7ed9\u5b9a $ n $ \u683c\u5b50\u91cc\u7684 $ n $ \u4e2a\u6570\uff0c\u4e24\u4e2a\u683c\u5b50\u8054\u901a\u5f53\u4e14\u4ec5\u5f53\u4e24\u4e2a\u683c\u5b50\u4e0a\u7684\u6570\u80fd\u4e0e\u53e6\u4e00\u4e2a\u6b63\u6574\u6570\u5f62\u6210\u672c\u539f\u52fe\u80a1\u6570\uff08\u4e09\u6570\u4e92\u8d28\u7684\u52fe\u80a1\u6570\uff09\uff0c\u6c42\u5171\u6709\u591a\u5c11\u4e2a\u8054\u901a\u5757\u3002\uff08\u6240\u6709\u6570\u5404\u4e0d\u76f8\u540c\uff09\n\n## \u601d\u8def\n\n\u9996\u5148\uff0c[~~\u7531\u767e\u5ea6\u77e5~~](https://baike.baidu.com/item/%E5%8B%BE%E8%82%A1%E6%95%B0/2674064)\u672c\u539f\u52fe\u80a1\u6570\u53ef\u4ee5\u8868\u793a\u6210 $ (x,y,z) = (n^2-m^2,2nm,n^2+m^2) $\uff0c$ (n+m \\equiv 1( \\bmod 2) \\;,\\;\\gcd(x,y)=1),m < n $ \u7684\u5f62\u5f0f\u3002\n\n\u7136\u540e\uff0c\u9898\u76ee\u91cc\u8bf4\u6240\u6709\u6570\u5404\u4e0d\u76f8\u540c\uff0c\u5e76\u4e14 $ a_i \\leq 10^7 $\uff0c\u6240\u4ee5\u53ef\u4ee5\u628a\u6240\u6709 $ a_i $ \u653e\u5728\u4e00\u4e2a`vis`\u6570\u7ec4\u91cc\uff0c\u7136\u540e\u7528\u5e76\u67e5\u96c6\u7ef4\u62a4\u8054\u901a\u5757\u3002\n\n\u8bb0 $ m = \\max_{i=1}^n a_i $\uff0c\u5bf9\u4e8e $ 2 \\leq i \\leq 1 $\uff0c\u679a\u4e3e $ 1 \\leq j < i $\uff0c\u68c0\u67e5 $ (i^2-j^2,2ij,i^2+j^2) $ \u662f\u5426\u6ee1\u8db3\u6761\u4ef6\uff0c\u5982\u679c\u6ee1\u8db3\uff0c\u5c06\u5176\u4e2d $ \\leq m $ \u7684\u6570\u5206\u522b\u5408\u5e76\uff08\u5982\u679c\u51fa\u73b0\u8fc7\u81f3\u5c11\u4e24\u4e2a\uff0c\u628a\u51fa\u73b0\u8fc7\u7684\u4e24\u4e24\u5408\u5e76\uff09\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $ O(m^2) = O(10^{14}) $\uff0c\u4e0d\u53ef\u80fd\u4e0d\u4f1a`TLE`\u3002\n\n\u53d1\u73b0\u5bf9\u4e8e\u540c\u6837\u7684 $ i $\uff0c$ 2ij $ \u548c $ i^2+j^2 $ \u968f\u7740 $ j $ \u7684\u589e\u52a0\u800c\u5355\u589e\uff0c\u6240\u4ee5\u5f53 $ 2ij > m $ \u4e14 $ i^2+j^2 > m $ \u65f6\u5c31\u53ef\u4ee5\u4e0d\u7528\u7ba1\u4e86\u3002\u53c8\u56e0\u4e3a $ i^2+j^2-2ij\\geq 0 $\uff0c\u6240\u4ee5 $ 2ij \\leq i^2+j^2 $\uff0c\u6240\u4ee5\u53ea\u7528\u5224\u65ad $ 2ij $ \u4e0e $ m $ \u7684\u5927\u5c0f\u5173\u7cfb\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $ O(\\sum_{i=1}^m \\frac{m}{2i} ) \\approx O(\\frac{1}{4} m \\sqrt m) \\approx 7.9 \\times 10^{9} $\uff0c\u8dd1\u4e0d\u6ee1\uff0c\u80fd\u8fc7\u3002\n\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n,f[10000007],a[1000006],ans,mx;\nbool vis[10000007];\nint find(const int&x){\n\treturn f[x]==x?x:f[x]=find(f[x]);\n}\ninline bool ck(const int&a,const int&b){\n\treturn a<=mx&&b<=mx?vis[a]&&vis[b]&&find(a)!=find(b):false;\n}\nsigned main(){\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) scanf(\"%lld\",&a[i]),vis[a[i]]=true,mx=max(mx,a[i]);\n\tfor(int i=1;i<=mx;i++) f[i]=i;\n\tfor(int i=2;i<=mx;i++){\n\t\tfor(int j=1;j<i&&2*i*j<=mx;j++){\n\t\t\tif(i*i-j*j>mx) continue;\n\t\t\tint x=2*i*j,y=i*i-j*j,z=i*i+j*j;\n\t\t\tif(__gcd(x,y)!=1) continue;\n\t\t\tif(ck(x,y)){\n\t\t\t\tf[find(x)]=find(y);\n\t\t\t\tans++;\n\t\t\t}\n\t\t\tif(ck(x,z)){\n\t\t\t\tf[find(x)]=find(z);\n\t\t\t\tans++;\n\t\t\t}\n\t\t\tif(ck(y,z)){\n\t\t\t\tf[find(y)]=find(z);\n\t\t\t\tans++;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<n-ans;\n} \n```",
        "postTime": 1645092092,
        "uid": 429147,
        "name": "hxhhxh",
        "ccfLevel": 0,
        "title": "CF60D"
    },
    {
        "content": "\u5bf9\u4e8e\u6240\u6709\u7684\"\u53ef\u4ee5\u4f20\u9012\"\u7684\uff0c\u53ea\u9700\u8981\u653e\u4e00\u4e2a\u3002\u6240\u4ee5\u9898\u76ee\u8ba9\u6211\u4eec\u6c42\u7684\u662f\u8054\u901a\u5757\u4e2a\u6570\u3002\n\n\u6211\u4eec\u77e5\u9053\u679a\u4e3e\u52fe\u80a1\u6570\u7684\u516c\u5f0f $a = x^2 - y^2, b = 2xy , c = x^2 + y ^2$\n\n\u5f53a, b \u4e92\u8d28\u65f6\uff0c\u5bf9\u4e8ea\u7684\u4efb\u610f\u8d28\u56e0\u5b50p\uff0c \u6709$b^2 \\equiv c^2$\uff0c\u6240\u4ee5\u663e\u7136$c^2 $\u4e0ea\u4e92\u8d28\uff0c a\u4e0ec\u4e92\u8d28\n\n\u540c\u7406\uff0cb\u4e0ec\u4e92\u8d28\u3002\n\n\u6240\u4ee5\u53ea\u9700\u8981\u679a\u4e3e\u6240\u6709x, y, \u5224\u65ad\u4e00\u4e0ba, b\u662f\u5426\u4e92\u8d28\uff0c\u518d\u7528\u5e76\u67e5\u96c6\u6c42\u4e00\u4e0b\u8054\u901a\u5c31\u53ef\u4ee5\u4e86\n\n```cpp\n#include<bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n#define N 10000005\n\nint n, f[N], ans = 0;\n\nint find(int x)\n{\n\treturn (f[x] == x) ? x : f[x] = find(f[x]);\n}\n\nint gcd(int x, int y) {return (y == 0) ? x : gcd(y, x % y);}\n\nvoid connect(int a, int b)\n{\n\tint fx = find(a), fy = find(b);\n\tif(fx != fy)\n\t{\n\t\tans--;\n\t\tf[fy] = fx;\n\t}\n}\n\nint main()\n{\n\tscanf(\"%d\", &n);\n\tfor(int i = 1; i <= n; i++)\n\t{\n\t\tint x;\n\t\tscanf(\"%d\", &x);\n\t\tf[x] = x;\n\t}\n\tans = n;\n\tint maxn = 1e7;\n\tfor(ll y = 1; y <= maxn; y++)\n\t\tfor(ll x = y + 1; (x * x - y * y <= maxn && 2 * x * y <= maxn); x++)\n\t\t{\n\t\t\tll a = 2 * x * y, b = x * x - y * y, c = x * x + y * y;\n\t\t\tif(gcd(a, b) == 1)\n\t\t\t{\n\t\t\t\tif(f[a] && f[b])\n\t\t\t\t\tconnect(a, b);\n\t\t\t\tif(c <= maxn)\n\t\t\t\t{\n\t\t\t\t\tif(f[a] && f[c])\n\t\t\t\t\t\tconnect(a, c);\n\t\t\t\t\tif(f[b] && f[c])\n\t\t\t\t\t\tconnect(b, c);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n```",
        "postTime": 1580890227,
        "uid": 54544,
        "name": "LJB00131",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF60D \u3010Savior\u3011"
    }
]