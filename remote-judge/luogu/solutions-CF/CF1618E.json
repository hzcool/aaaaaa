[
    {
        "content": "\u6839\u636e\u9898\u610f\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u7ebf\u6027\u65b9\u7a0b\u7ec4\uff1a\n\n$$a_1+na_2+(n-1)\\times a_3+\\cdots+2a_n=b_1$$\n\n$$2a_1+a_2+na_3+\\cdots+3a_n=b_2$$\n\n$$3a_1+2a_2+a_3+\\cdots+4a_n=b_3$$\n\n$$\\vdots$$\n\n$$i\\times a_1+(i+1) \\times a_2+(i+2)\\times a_3+\\cdots+a_i+\\cdots+(i-1) \\times a_n=b_i$$\n\n$$\\vdots$$\n\n$$na_1+(n-1)\\times a_2+(n-2)\\times a_3+\\cdots+a_n=b_n$$\n\n\u5c06\u8fd9 $n$ \u4e2a\u65b9\u7a0b\u52a0\u8d77\u6765\u53ef\u4ee5\u5f97\u5230\uff1a\n\n$$\\dfrac{n^2-n}{2}\\sum a_i = \\sum b_i$$\n\n\u4e24\u8fb9\u540c\u65f6\u9664\u4ee5 $\\dfrac{n^2-n}{2}$ \u53ef\u5f97\uff1a\n\n$$\\sum a_i = \\dfrac{2}{n^2-n}\\sum b_i$$\n\n\u5bf9\u4e8e\u7b2c $i-1$ \u4e2a\u65b9\u7a0b\u548c\u7b2c $i$ \u4e2a\u65b9\u7a0b\uff0c\u5c06\u4ed6\u4eec\u76f8\u51cf\u53ef\u4ee5\u5f97\u5230\uff1a\n\n$$-a_1- a_2-a_3+\\cdots-a_{i-1}+(n-1)\\times a_i+\\cdots-a_n=b_{i-1}-b_i$$\n\n\u5c06\u4e0a\u5f0f\u52a0\u4e0a $\\sum a_i$ \u5f97\uff1a\n\n$$n \\times a_i = \\dfrac{2}{n^2-n}\\sum b_i +b_{i-1}-b_i$$\n\n\u6700\u540e\u4e24\u8fb9\u540c\u65f6\u9664\u4ee5 $n$\uff0c\u5c31\u5f97\u5230\u4e86 $a_i$ \u7684\u503c\u3002\n\n\u9898\u76ee\u8fd8\u8981\u6c42\u5224\u65ad\u7b54\u6848\u662f\u5426\u5b58\u5728\uff0c\u56e0\u4e3a\u8981\u6c42 $a_i$ \u6ee1\u8db3\u6b63\u6574\u6570\uff0c\u6240\u4ee5\u8bf4\u82e5\u8ba1\u7b97\u7ed3\u679c\u51fa\u73b0\u4e86\u8d1f\u6570\u6216\u5206\u6570\u5219\u7b54\u6848\u4e0d\u5b58\u5728\uff1b\u6b64\u5916\u5728\u8ba1\u7b97 $\\sum a_i$ \u65f6\uff0c\u82e5\u8ba1\u7b97\u7ed3\u679c\u4e0d\u4e3a\u6574\u6570\uff0c\u4e5f\u80fd\u8bf4\u660e\u7b54\u6848\u4e0d\u5b58\u5728\u3002\n\n\u6700\u7ec8\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint t;\nlong long n;\nlong long a[50009],b[50009];\nint main () {\n    cin>>t;\n    while (t--) {\n        cin>>n;\n        long long sum=0;\n        for (int i = 1; i <= n;++i) {\n            cin>>b[i];\n            sum+=b[i];\n        }\n        if (sum%(((1 + n) * n / 2))!=0) {\n            cout<<\"NO\"<<endl;\n            continue;\n        }\n        sum/=((1+n)*n/2);\n        long long S=0;\n        bool check=true;\n        for (int i=2;i<=n;++i) {\n            if ((b[i-1]-b[i]+sum)%n!=0||(b[i-1]-b[i]+sum)<=0)\n                check=false;\n            a[i]=(b[i-1]-b[i]+sum)/n;\n        }\n        if ((b[n]-b[1]+sum)%n!=0||(b[n]-b[1]+sum)<=0)\n            check=false;\n        a[1]=(b[n]-b[1]+sum)/n;\n        if (check==false) {\n            cout<<\"NO\"<<endl;\n            continue;\n        }\n        cout<<\"YES\"<<endl;\n        for (int i=1;i<=n;++i)\n            cout<<a[i]<<\" \";\n        cout<<endl;\n    }\n    return 0;\n}\n\n```\n",
        "postTime": 1639529202,
        "uid": 138440,
        "name": "Bbaka",
        "ccfLevel": 0,
        "title": "CF1618E Singers' Tour \u9898\u89e3"
    },
    {
        "content": "## \u6570\u5217\n\u5148\u62ff\u7740\u6837\u4f8b\u624b\u753b\uff0c\u7136\u540e\u53ef\u4ee5\u753b\u51fa\u6765\u51e0\u4e2a\u7b49\u5f0f\uff0c\u5199\u6210\u666e\u9002\u7684\u5c31\u662f\uff1a\n$$ a_1 + na_2 + (n - 1)a_3 + ... + 2a_n = b_1 $$\n$$2a_1 + (2 - 1)a_2 + na_3 + ... + 3a_n = b_2 $$\n$$ ...$$\n$$na_1 + (n - 1)a_2 + (n - 2)a_3 + ... + a_n = b_n $$\n\u7136\u540e\u6211\u5c31\u901a\u8fc7\u7d2f\u52a0\u6cd5\uff08\u9ad8\u4e2d\u77e5\u8bc6\uff09\u6c42\u51fa\u4e86\u4ee5\u4e0b\u516c\u5f0f\uff1a\n$$ \\frac{(n + 1)n}{2} Sn = Tn $$\n$Sn$ \u5c31\u662f $a$ \u7684\u524d $n$ \u9879\u548c\uff0c $Tn$ \u5c31\u662f $b$ \u6570\u7ec4\u7684\u524d $n$ \u9879\u548c\u3002\n\n\u7136\u540e\u628a\u7cfb\u6570\u9664\u5230\u53f3\u8fb9\u3002\n$$ Sn = \\frac{2}{(n + 1)n} Tn $$\n\u4f46\u662f\uff0c\u4e0d\u80fd\u76f4\u63a5\u5199\u51fa\u4e0b\u4e00\u9879\uff0c\u7136\u540e\u7528 $S_n - S_{n-1} = a_n$ \u6765\u6c42\uff0c\u8fd9\u6837\u6c42\u51fa\u6765\u4e0d\u662f\u901a\u9879\u3002\n\n\u6240\u4ee5\uff0c\u5c31\u8981\u53e6\u8f9f\u8e4a\u5f84\u3002\n\n\u7528 $b_n - b_{n - 1}$ \uff0c\u7136\u540e\u4f1a\u5f88\u5f00\u5fc3\u7684\u5199\u51fa\u6765\u8fd9\u4e2a\u5f0f\u5b50\u3002\n$$ a_i = \\frac{Sn - (b_i - b_{i - 1})}  {n}$$\n\u6b38\u597d\uff0c\u8fd9\u4e2a\u662f\u5bf9\u7684\uff0c\u7136\u540e\u6c42\u5c31\u884c\u4e86\u3002\n\u4f46\u662f\u8981\u6ce8\u610f $i \\ge 2$ \u3002\n\u7136\u540e\u4ee3\u7801\u5c31\u6bd4\u8f83\u7b80\u5355\uff0c\u5224\u65ad\u4e0d\u6210\u7acb\u9700\u8981\u6ce8\u610f\u4e00\u4e0b\u7136\u540e\u5c31\u6ca1\u4ec0\u4e48\u4e86\u3002\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nconst int MAXN = 4e4 + 10;\nusing namespace std;\nint t, n, a[MAXN], Tn, b[MAXN];\nsigned main()\n{\n\tscanf(\"%lld\", &t);\n\twhile(t--)\n\t{\n\t\tint fl = 1;\n\t\tTn = 0;\n\t\tscanf(\"%lld\", &n);\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tscanf(\"%lld\", &b[i]);\n\t\t\tTn += b[i]; \n\t\t}\n\t\tif((Tn * 2) % (n * n + n) != 0)\n\t\t{\n\t\t\tprintf(\"NO\\n\");\n\t\t\tcontinue;\n\t\t}\n\t\tint Sn = Tn * 2 / (n * n + n), p = Sn;\n\t\tfor (int i = 2; i <= n; i++)\n\t\t{\n\t\t\tif((Sn - (b[i] - b[i - 1])) % n != 0 || (Sn - (b[i] - b[i - 1])) / n <= 0) //\u5fc5\u987b\u662f<= \n\t\t\t{\n\t\t\t\tfl = 0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ta[i] = (Sn - (b[i] - b[i - 1])) / n;\n\t\t\tif(a[i] <= 0) fl = 0;\n\t\t\tp -= a[i];\n\t\t}\n\t\ta[1] = p;\n\t\tif(a[1] == 0) fl = 0;\n\t\tif(fl == 1) \n\t\t{\n\t\t\tprintf(\"YES\\n\");\n\t\t\tfor (int i = 1; i <= n; i++) printf(\"%lld \", a[i]);\n\t\t}\n\t\telse printf(\"NO\\n\");\n\t\tprintf(\"\\n\");\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1641991262,
        "uid": 453100,
        "name": "Tzs_yousa",
        "ccfLevel": 4,
        "title": "CF1618\u9898\u89e3"
    },
    {
        "content": "\u8981\u6ee1\u8db3\u5982\u4e0b\u9650\u5236\uff1a\n\n$$\\begin{cases}b_1=a_1+n\\cdot a_2+\\dots+2\\cdot a_n\\\\b_2=2\\cdot a_1+a_2+\\dots+3\\cdot a_n\\\\b_3=3\\cdot a_1+2\\cdot a_2+\\dots+4\\cdot a_n\\\\\\dots\\\\b_n=n\\cdot a_1+(n-1)\\cdot a_2+\\dots +a_n\\end{cases}$$\n\n\u5982\u679c\u76f4\u63a5\u9ad8\u65af\u6d88\u5143\u662f $\\Theta(n^3)$ \u7684\uff0c\u65e0\u6cd5\u901a\u8fc7\u3002\n\n\u6240\u4ee5\u4e0d\u80fd\u66b4\u529b\u5730\u53bb\u89e3\uff0c\u5f97\u7814\u7a76\u4e00\u4e9b\u89c4\u5f8b\u3002\n\n\u53ef\u4ee5\u53d1\u73b0 $\\frac 1 2(n+1)\\times n\\times \\sum a=\\sum b$\uff0c\u8fdb\u800c\u7b97\u51fa $\\sum a$\u3002\n\n\u5c06 $b$ \u4e2d\u76f8\u90bb\u7684\u6570\u8fdb\u884c\u5dee\u5206\uff0c\u53d1\u73b0 $b_i-b_{i-1}=\\sum a-n\\cdot a_i$\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u6c42\u51fa\u6240\u6709 $a$ \u7684\u503c\u3002",
        "postTime": 1639660591,
        "uid": 334379,
        "name": "45din\u043e",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 \u3010CF1618E\u3011 Singers' Tour"
    }
]