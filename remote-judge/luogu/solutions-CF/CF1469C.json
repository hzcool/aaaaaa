[
    {
        "content": "\u4e3a\u4e86\u4fdd\u4f4f\u5c8c\u5c8c\u53ef\u5371\u7684\u793e\u533a\u8d21\u732e\u5206\uff0c\u6765\u6c34\u4e00\u7bc7\u9898\u89e3\uff08\u987a\u4fbf\u62a2\u5230\u4e86\u622a\u6b62\u81f3 2021\u5e741\u670812\u65e515\u70b948\u5206 \u7684 [\u6700\u4f18\u89e3](https://www.luogu.com.cn/record/list?pid=CF1469C&orderBy=1&status=&page=1)\uff09\u3002\n\n## \u4e00\u3001\u9898\u76ee\u5927\u610f\n\uff08\u597d\u50cf\u6ca1\u6709\u7ffb\u8bd1\uff09\n\n\u4f60\u9700\u8981\u7528 $n$ \u5757\u5e95\u8fb9\u4e3a $1$\uff0c\u9ad8\u4e3a $k$ \u7684\u957f\u8fb9\u76f8\u90bb\u957f\u65b9\u5f62\u8986\u76d6\u4e00\u4e2a\u533a\u57df\uff0c\u7b2c $i$ \u4e2a\u957f\u65b9\u5f62\u9700\u8981\u6ee1\u8db3\uff1a\n\n1. \u6700\u4f4e\u9ad8\u5ea6\u4e3a $h_i$\uff1b\n2. \u76f8\u90bb\u4e24\u5757\u957f\u65b9\u5f62\u7684\u8fb9\u7684\u516c\u5171\u90e8\u5206\u81f3\u5c11\u957f\u4e3a $1$\uff1b\n3. \u7b2c\u4e00\u5757\u548c\u6700\u540e\u4e00\u5757\u957f\u65b9\u5f62\u7684\u5e95\u8fb9\u9ad8\u5ea6\u5fc5\u987b\u662f $h_1,\\ h_n$\uff1b\n4. \u957f\u65b9\u5f62\u5e95\u8fb9\u53ef\u4ee5\u60ac\u7a7a\uff0c\u4f46\u9ad8\u5ea6\u4e0d\u80fd\u6bd4 $h_i$ \u9ad8\u51fa\u8d85\u8fc7 $k-1$\u3002\uff08\u9ad8\u5ea6\u4e3a\u6574\u6570\uff09\n\n\u6c42\u662f\u5426\u6709\u8986\u76d6\u65b9\u5f0f\u6ee1\u8db3\u4e0a\u8ff0\u6240\u6709\u8981\u6c42\u3002\n\n![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1469C/639e8b11cbea2061b5e63469ccc4551e6fb009c3.png)\n\n## \u4e8c\u3001\u5927\u4f53\u601d\u8def\n1. \u53ef\u4ee5\u62bd\u8c61\u4e3a\u533a\u95f4\u8986\u76d6\u95ee\u9898\uff0c\u5c06\u957f\u65b9\u5f62\u770b\u4f5c\u7ebf\u6bb5\uff0c\u6bcf\u6761\u7ebf\u6bb5\u7684\u5de6\u7aef\u70b9 $\\ge h_i$\uff0c\u5e76\u4e14\u4e0d\u8d85\u8fc7\u5de6\u7aef\u70b9 $k-1$\uff0c\u5373 $l_i\\in [h_i,h_i+k-1]$\u3002 \n\n2. \u6b64\u5916\uff0c\u76f8\u90bb\u4e24\u6761\u7ebf\u6bb5\u8981\u6709\u516c\u5171\u90e8\u5206\uff0c\u56e0\u6b64\u5de6\u7aef\u70b9\u53ef\u4ee5\u6bd4\u524d\u4e00\u6761\u7ebf\u6bb5\u5de6\u7aef\u70b9\u6700\u5c0f\u503c\u5c0f $k-1$\uff0c\u6216\u6bd4\u524d\u4e00\u6761\u7ebf\u6bb5\u5de6\u7aef\u70b9\u6700\u5927\u503c\u5927 $k-1$\uff0c\u5373 $l_i\\in [l_{i-1_{\\min}}-k+1,l_{i-1_{\\max}}+k-1]$\u3002\n\n3. \u6700\u540e $l_i$ \u53d6\u4ea4\u96c6\uff0c$l_i\\in \\left[h_i,h_i+k-1\\right]\\cap\\left[l_{i-1_{\\min}}-k+1,l_{i-1_{\\max}}+k-1\\right]$\uff0c\u5373 $l_i\\in \\left[\\max(h_i,l_{i-1_{\\min}}-k+1),\\min(h_i+k-1,l_{i-1_{\\max}}+k-1)\\right]$\u3002\n\n4. \u56e0\u6b64\uff0c\u9700\u8981\u8bb0\u5f55\u6bcf\u6761\u7ebf\u6bb5\u5de6\u7aef\u70b9\u7684\u4f4d\u7f6e\u533a\u95f4 $[l_{i_{\\min}},l_{i_{\\max}}]$\uff0c\u7528 $[L_i,R_i]$ \u8868\u793a\u3002\n\n5. \u518d\u6839\u636e\u3010\u9898\u76ee\u5927\u610f\u3011\u7b2c\u4e09\u4e2a\u8981\u6c42\uff0c$L_1=R_1=h_1$\uff0c\u7136\u540e\u904d\u5386 $2\\sim n$\uff0c\u5224\u65ad $[L_i,R_i]$ \u662f\u5426\u5408\u6cd5\uff0c\u6700\u540e\u518d\u5224\u65ad $L_n=h_n$ \u5373\u53ef\u3002\n\n\uff08\u96c6\u5408\u8fd0\u7b97\u597d\u9898\uff0c\u7406\u6e05\u601d\u8def\u5c31\u80fd\u770b\u61c2\u4e86\uff0c\u4ee3\u7801\u4e0d\u96be\uff09\n\n## \u5b8c\u6574\u4ee3\u7801\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<iomanip>\n#include<algorithm>\n#include<cmath>//\u5c11\u7528\u4e07\u80fd\u5934\u53ef\u4ee5\u52a0\u5feb\u901f\u5ea6\nusing namespace std;\n#define rep(ii,aa,bb) for(re int ii=aa;ii<=bb;ii++)\n#define Rep(ii,aa,bb) for(re int ii=aa;ii>=bb;ii--)\ntypedef long long ll;\ntypedef unsigned long long ull;\nconst int maxn=2e5+5;//\u4e2a\u4eba\u4e60\u60ef\nnamespace IO_ReadWrite{\n\t#define re register\n\t#define gg getchar()\n\ttemplate <typename T>\n\tinline void read(T &x){\n\t\tx=0;re T f=1;re char c=gg;\n\t\twhile(c>57||c<48){if(c=='-') f=-1;c=gg;}\n\t\twhile(c>=48&&c<=57){x=(x<<1)+(x<<3)+(c^48);c=gg;}\n\t\tx*=f;return;\n\t}\n\ttemplate <typename T>\n\tinline void write(T x){\n\t\tif(x<0) putchar('-'),x=-x;\n\t\tif(x>9) write(x/10);\n\t\tputchar('0'+x%10);\n\t}\n}//\u5361\u5e38\u5feb\u8bfb\nusing namespace IO_ReadWrite;\nll h[maxn],T,n,k;\nint main(){\n\tread(T);\n\twhile(T--){\n\t\tread(n);read(k);\n\t\trep(i,1,n) read(h[i]);//\u8f93\u5165\n\t\tll l,r;l=r=h[1];//\u89c1 \u4e8c.5\n\t\tbool flag=1;\n\t\trep(i,2,n){\n\t\t\tl=max(h[i],l-k+1);\n\t\t\tr=min(h[i]+k-1,r+k-1);//\u89c1 \u4e8c.3\n         //\u8ba1\u7b97\u5de6\u7aef\u70b9\u7684\u4f4d\u7f6e\u533a\u95f4\n\t\t\tif(l>r || l-h[i]>=k){//\u4e0d\u5408\u6cd5\n\t\t\t\tputs(\"NO\");\n\t\t\t\tflag=0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(!flag) continue;\n\t\tif(l==h[n]) puts(\"YES\");//\u89c1 \u4e8c.5\n\t\telse puts(\"NO\");\n\t}\n\treturn 0;//\u5b8c\u7f8e\n}\n```\n ",
        "postTime": 1610439242,
        "uid": 279197,
        "name": "Mars_Dingdang",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1469C \u3010Building a Fence\u3011"
    },
    {
        "content": "> \u6709$n$\u4e2a\u9ad8\u5ea6\u4e3a$k$\u7684\u6805\u680f\uff0c\u5bbd\u90fd\u662f$1$\uff0c\u5730\u9762\u7684\u9ad8\u5ea6\u4e3a$h_i$\uff0c\u6805\u680f\u53ef\u4ee5\u653e\u5728\u5730\u9762\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u6d6e\u7a7a(\u6700\u591a\u6d6e\u7a7a\u9ad8\u5ea6\u4e3a$k-1$)\uff0c\u7b2c$1$\u4e2a\u548c\u7b2c$n$\u4e2a\u6805\u680f\u5fc5\u987b\u5728\u5730\u9762\u4e0a\uff0c\u95ee\u80fd\u4e0d\u80fd\u4f7f\u5f97\u6bcf\u4e2a\u6805\u680f\u4e4b\u95f4\u90fd\u6709\u8fb9\u3002\n\n\u770b\u5b8c\u9898\u4e4b\u540e\u611f\u89c9\u601d\u8def\u5e94\u8be5\u662f\u8ba1\u7b97\u51fa\u6bcf\u4e2a\u6805\u680f\u7684\u533a\u95f4\uff0c\u4f46\u662f\u6211\u7adf\u7136\u628a\u6bcf\u4e2a\u6805\u680f\u80fd\u53d6\u503c(\u65e0\u8bba\u5408\u6cd5\u4e0e\u5426)\u7684\u533a\u95f4\u6c42\u51fa\u6765\u7136\u540e\u5224\u65ad\u4e86..........\n\n\u6b63\u786e\u601d\u8def\u5e94\u8be5\u662f\u4ece\u7b2c\u4e00\u4e2a\u533a\u95f4\u5f00\u59cb\u5f80\u540e\u9000\uff0c\u6bcf\u4e00\u4e2a\u5408\u6cd5\u533a\u95f4\u7684\u4e0b\u754c\u548c\u4e0a\u754c\u3002\n\n\u7b2c\u4e00\u4e2a\u6805\u680f\u6700\u5927\u4e3a$maxn_1=h[1]+k$\uff0c\u6700\u5c0f$minn_1=h[1]$\uff0c\u7b2c\u4e8c\u4e2a\u4e3a$minn_2=max(h[2],minn_1-k+1)$\u7b2c\u4e8c\u9879\u52a0$1$\u662f\u56e0\u4e3a\u81f3\u5c11\u8981\u6709\u957f$1$\u7684\u8fb9\uff0c$maxn_2=min(h[2]+2*k-1,maxn_1+k-1)$\uff0c\u7b2c\u4e00\u9879\u662f\u6d6e\u7a7a$k-1$\uff0c\u7b2c\u4e8c\u9879\u662f\u548c\u4e0a\u4e00\u6b21\u6700\u5927\u503c\u53ea\u6709$1$\u7684\u8fb9\n\n\u53ea\u9700\u8981\u5224\u65ad\u4e00\u4e0b\u4e2d\u9014\u4f1a\u4e0d\u4f1a\u51fa\u73b0$maxn_i<minn_i$,$maxn-k<h[i]$,$minn>h[i]+k-1$\uff0c\u7136\u540e\u770b\u4e00\u4e0b\u6700\u540e\u4e00\u4e2a\u80fd\u4e0d\u80fd\u5728\u5730\u9762\u4e0a\u5373\u53ef\u3002\n\n```cpp\nconst int N = 2e5 + 2020;\nint T, n, k, h[N]; \nint main()\n{\n\tT = read();\n\twhile(T--){\n\t\tn = read(), k = read();\n\t\tfor(int i = 1; i <= n; ++i) h[i] = read();\n\t\tint maxn = 0, minn = 0;\n\t\tint flag = 1;\n\t\tfor(int i = 1; i <= n; ++i){\n\t\t\tif(i == 1){\n\t\t\t\tmaxn = h[1] + k;\n\t\t\t\tminn = h[1];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tminn = max(h[i], minn - k + 1);\n\t\t\t\tmaxn = min(h[i] + 2 * k - 1, maxn + k - 1); \n\t\t\t}\n\t\t\tif(maxn < minn || minn > h[i] + k - 1 || maxn - k < h[i]){\n\t\t\t\tflag = 0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(minn != h[n]) flag = 0;\n\t\tif(flag == 0) cout << \"NO\";\n\t\telse cout << \"YES\";\n\t\tputs(\"\");\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1609247102,
        "uid": 122557,
        "name": "pyyyyyy",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1469C \u3010Building a Fence\u3011"
    },
    {
        "content": "\u672c\u6765\u89c9\u5f97\u6ca1\u4ec0\u4e48\u597d\u5199\u7684\uff0c\u6bd5\u7adf\u592a\u6c34\u4e86\uff0c\u4f46\u662f\u5176\u4ed6\u4e94\u9898\u90fd\u5199\u4e86\u9898\u89e3\u5e72\u8106\u51d1\u4e2a\u4e00\u5957\u3002\n\n\u5c31\u5f53\u7eaa\u5ff5\u4e00\u4e0b\u7b2c\u4e00\u6b21\u597d\u597d\u6253 CF\uff0c\u6bd5\u7adf\u524d\u51e0\u573a\u4e71\u6253\u7684\u53ea\u505a\u4e86 AB\u3002\n\n---\n\n\u6211\u4eec\u53ef\u4ee5\u8bb0\u5f55\u4e00\u4e0b\u6bcf\u4e00\u4e2a\u6728\u677f\u7684 **\u5e95\u90e8\u6240\u80fd\u653e\u7f6e\u7684\u8303\u56f4** $[l,r]$\u3002\n\n\u5f88\u663e\u7136\u56e0\u4e3a\u7b2c\u4e00\u5757\u6728\u677f\u5fc5\u987b\u7740\u5730\uff0c\u6240\u4ee5 $l_1=r_1=h_1$\u3002\n\n\u7136\u540e\uff0c\u6211\u4eec\u8003\u8651\u5f53\u524d\u7684 $[l_i,r_i]$ \u53d7\u54ea\u4e9b\u6761\u4ef6\u5f71\u54cd\u3002\n\n- $l_i\\ge h_i$ \u4e0d\u80fd\u585e\u5230\u5730\u4e0b\u3002\n\n- $l_i< h_i+k$ \u9898\u76ee\u8981\u6c42\uff0c\u4e0d\u80fd\u7559\u51fa\u5927\u4e8e $k-1$ \u7684\u7a7a\u9699\u3002\n\n- $l_i+k>l_{i-1}$ \u4e14 $r_i<r_{i-1}+k$ \u9898\u76ee\u8981\u6c42\u4e24\u5757\u6728\u677f\u81f3\u5c11\u8981\u6709\u957f\u5ea6\u4e3a $1$ \u7684\u91cd\u5408\u3002\n\n\u90a3\u4e48\u53ea\u8981\u6a21\u62df\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u4e0d\u65ad\u7ef4\u62a4 $l,r$ \u5373\u53ef\u3002\n\n\u6ce8\u610f\u65e0\u89e3\u7684\u60c5\u51b5\uff1a\n\n- $\\exists i\\in[1,n]\\cap \\mathbb Z,l_i>r_i$\n\n- $\\exists i\\in[1,n]\\cap \\mathbb Z,l_i\\ge h_i+k$\n\n- $l_n>h_n$\n\n```cpp\ninline void work()\n{\n    int n=rin();\n    LL k=rin();\n    for(int i=1;i<=n;i++)h[i]=rin();\n    LL l,r;\n    l=r=h[1];\n    bool if_true=true;\n    for(int i=2;i<=n;i++)\n    {\n        LL l_,r_;\n        l_=max(h[i],l+1-k);\n        r_=min(h[i]+k-1,r-1+k);\n        l=l_;r=r_;\n        if(l>r||l-h[i]>=k)if_true=false;\n        // printf(\"i:%d l:%lld r:%lld\\n\",i,l,r);\n    }\n    if(if_true&&l==h[n])puts(\"YES\");else puts(\"NO\");\n    return;\n}\n```\n\n",
        "postTime": 1609229974,
        "uid": 73551,
        "name": "zjjws",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1469C \u3010Building a Fence\u3011"
    },
    {
        "content": "### CF1469C Building a Fence\n\n### \u9898\u76ee\u5927\u610f\n\n\u7ffb\u8bd1\u5df2\u7ecf\u5f88\u7b80\u660e\u4e86\uff0c\u76f4\u63a5[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1469C?contestId=41151)\u3002\n\n### \u601d\u8def\n\n\u7531\u6761\u4ef62\u53ef\u5f97\uff0c\u6bcf\u4e2a\u7bf1\u7b06\u90fd\u662f\u76f8\u90bb\u6709\u63a5\u89e6\u7684\uff0c\u5c31\u662f\u8bf4\u660e\u7bf1\u7b06\u7684\u9ad8\u5ea6\u4f1a\u53d7\u5230\u76f8\u90bb\u7684\u7bf1\u7b06\u6240\u5f71\u54cd\u3002\n\n\u4e00\u5f00\u59cb\u6211\u662f\u60f3\u65e2\u7136\u662f\u8981\u8986\u76d6\uff0c\u90a3\u4e48\u80af\u5b9a\u8d8a\u9ad8\u8d8a\u597d\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u4ece\u6700\u8fb9\u7aef\u4e00\u70b9\u70b9\u6269\u5c55\uff0c\u5c31\u662f\u6bcf\u6b21\u9ad8\u5ea6\u90fd\u52a0\u4e0a $k-1$\uff0c\u8fd9\u6837\u80af\u5b9a\u9ad8\u5ea6\u6700\u5927\uff0c\u5982\u679c\u8fd9\u6837\u90fd\u65e0\u6cd5\u8986\u76d6\uff0c\u90a3\u4e48\u80af\u5b9a\u4e0d\u884c\uff0c\u7136\u540e\u7531\u4e8e\u6761\u4ef61\u7684\u9650\u5236\uff0c\u56e0\u6b64\u6211\u5c31\u5de6\u53f3\u90fd\u6765\u4e00\u904d\u5c31\u597d\u4e86\u3002\n\n\u5f53\u65f6\u5fd8\u8bb0\u4e86\u6761\u4ef63\uff0c\u540e\u6765\u770b\u5230\u4e86\uff0c\u6709\u4e0a\u9762\u7684\u601d\u8def\u7c7b\u6bd4\u53ef\u5f97\uff0c\u6211\u4eec\u5c31\u5728\u6ee1\u8db3\u8986\u76d6\u7684\u6761\u4ef6\u4e0b\uff0c\u5f80\u4e0b\u6269\u5c55\uff0c\u8fd9\u6837\u4e5f\u662f\u5728\u4e3a\u4e86\u6ee1\u8db3\u6761\u4ef63\u7684\u6700\u4f18\u60c5\u51b5\u3002\u5e76\u4e14\u5f80\u4e0a\u6269\u5c55\u548c\u5f80\u4e0b\u6269\u5c55\u5b9e\u9645\u5c31\u662f\u6c42\u6bcf\u4e00\u5757\u7684\u7bf1\u7b06\u53ef\u653e\u7684\u8303\u56f4\u3002\n\n\u7136\u540e\u7531\u4e8e\u6211\u4eec\u8bb0\u5f55\u4e86\u6700\u4f4e\u70b9\uff0c\u53ef\u4ee5\u76f4\u63a5\u5224\u65ad\u6761\u4ef61\uff0c\u90a3\u4e48\u5176\u5b9e\u5c31\u4e0d\u7528\u518d\u4ece\u53e6\u4e00\u8fb9\u518d\u6765\u4e00\u904d\u4e86\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAXN=2*1e5+10;\nint read()\n{\n\tint f=1;\n\tint x=0;\n\tchar c=getchar();\n\twhile(c<'0'||c>'9')\n\t{\n\t\tif(c=='-')f=-1;\n\t\tc=getchar();\n\t}\n\twhile(c>='0'&&c<='9')x=x*10+c-'0',c=getchar();\n\treturn x*f;\n}\nint n,k,t;\nint a[MAXN];\nint h=0;\nint b[MAXN],c[MAXN];\nint main()\n{\n\tt=read();\n\twhile(t--)\n\t{\n\t\tn=read();\n\t\tk=read();\n\t\tfor(int i=1;i<=n;i++)\n\t\ta[i]=read();\n\t\tint sum=a[1],num=a[1];\n\t\tfor(int i=2;i<=n;i++)\n\t\t{\n\t\t\tnum=max(num-k+1,a[i]);//\u6700\u4f4e\u70b9,\u5411\u4e0b\u6269\u5c55\n            //\u8fd9\u91cc\u4e0d\u7528\u8003\u8651 a[i] \u6bd4num\u9ad8\u65e0\u6cd5\u6269\u5c55\u7684\u60c5\u51b5\uff0c\u56e0\u4e3asum\u4f1a\u5e2e\u5fd9\u5904\u7406\u7684\u3002\n\t\t\tsum+=k-1;//\u6700\u9ad8\u70b9\uff0c\u5411\u4e0b\u6269\u5c55\n\t\t\tif(sum<a[i])\n\t\t\t{\n\t\t\t\th=1;\n\t\t\t\tbreak;//\u65e0\u6cd5\u8986\u76d6\n\t\t\t}\n\t\t\tif(num>a[i]+k-1)\n\t\t\t{\n\t\t\t\th=1;\n\t\t\t\tbreak;//\u4e0d\u6ee1\u8db3\u6761\u4ef63\n\t\t\t}\n\t\t\tsum=min(sum,a[i]+k-1);//\u6761\u4ef63\u9650\u5236\n\t\t}\n\t\tif(num>a[n])h=1;//\u6761\u4ef61\n\t\tif(h==1)\n\t\t\tprintf(\"NO\\n\");\n\t\telse printf(\"YES\\n\");\n\t\th=0;//\u591a\u6d4b\u6e05\u7a7a\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1613373277,
        "uid": 177604,
        "name": "LXH5514",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1469C Building a Fence"
    }
]