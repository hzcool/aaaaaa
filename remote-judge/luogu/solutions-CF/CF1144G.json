[
    {
        "content": "> [\u9898\u76ee\u94fe\u63a5](https://codeforces.com/problemset/problem/1144/G) [\u53ef\u80fd\u66f4\u597d\u7684\u4f53\u9a8c](http://coding-pages-bucket-3532178-8430896-13917-522304-1305159063.cos-website.ap-hongkong.myqcloud.com/CF1144G/)\n>\n> \u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217 $A$\u3002\n>\n> \u95ee\u80fd\u5426\u628a\u5b83\u62c6\u6210\u4e00\u4e2a\u4e25\u683c\u9012\u589e\u5e8f\u5217\u548c\u4e00\u4e2a\u4e25\u683c\u9012\u51cf\u5e8f\u5217\uff0c\u5982\u679c\u6709\u89e3\u5219\u8f93\u51fa\u65b9\u6848\u3002\n>\n> $n \\le 2 \\cdot 10^5$\n\n\u8bbe $f_{i,0}$ \u8868\u793a\u628a\u5e8f\u5217\u7684\u524d $i$ \u4e2a\u6570\u62c6\u6210\u4e00\u4e2a\u9012\u589e\u5e8f\u5217\u548c\u4e00\u4e2a\u9012\u51cf\u5e8f\u5217\uff08\u53ef\u4ee5\u4e3a\u7a7a\uff09\uff0c\u5e76\u4e14 $A_i$ \u5c5e\u4e8e\u9012\u589e\u5e8f\u5217\u65f6\uff0c\u9012\u51cf\u5e8f\u5217\u7ed3\u5c3e\u53ef\u80fd\u7684\u6700\u5927\u503c\u3002$f_{i,1}$ \u8868\u793a $A_i$ \u5c5e\u4e8e\u9012\u51cf\u5e8f\u5217\u65f6\uff0c\u9012\u589e\u5e8f\u5217\u7ed3\u5c3e\u53ef\u80fd\u7684\u6700\u5c0f\u503c\u3002\n\n\u8f6c\u79fb\u6709\u56db\u79cd\uff1a\n\n- $A_{i-1},A_i$ \u90fd\u5c5e\u4e8e\u9012\u589e\u5e8f\u5217\uff0c\u6761\u4ef6\u662f $A_{i-1} < A_i$\uff0c\u8f6c\u79fb\u4e3a $f_{i-1,0} \\rightarrow f_{i,0}$ \u3002\n- $A_{i-1},A_i$ \u90fd\u5c5e\u4e8e\u9012\u51cf\u5e8f\u5217\uff0c\u60c5\u51b5\u7c7b\u4f3c\u3002\n- $A_{i-1}$ \u5c5e\u4e8e\u9012\u51cf\u5e8f\u5217\uff0c$A_i$ \u5c5e\u4e8e\u9012\u589e\u5e8f\u5217\uff0c\u6761\u4ef6\u662f $f_{i-1,1} < A_i$\uff0c\u8f6c\u79fb\u4e3a $A_{i-1} \\rightarrow f_{i,0}$\u3002\n- $A_{i-1}$ \u5c5e\u4e8e\u9012\u589e\u5e8f\u5217\uff0c$A_i$ \u5c5e\u4e8e\u9012\u51cf\u5e8f\u5217\uff0c\u60c5\u51b5\u7c7b\u4f3c\u3002\n\n\u4e3a\u4e86\u8f93\u51fa\u65b9\u6848\uff0c\u8bb0 $g_{i,0}$ \u8868\u793a\u5728\u6700\u4f18\u65b9\u6848\u4e2d $A_{i-1}$ \u5c5e\u4e8e\u54ea\u4e2a\u5e8f\u5217\uff0c$g_{i,1}$ \u540c\u7406\u3002\n\n\u5b9e\u73b0\u4e2d\u53ef\u4ee5\u7528 ```pair <int, int>``` \u628a ```f``` \u548c ```g``` \u6570\u7ec4\u538b\u4e00\u8d77\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define rep(i, l, r) for(int i = (l); i <= (r); i++)\n#define per(i, r, l) for(int i = (r); i >= (l); i--)\n#define mem(a, b) memset(a, b, sizeof a)\n#define For(i, l, r) for(int i = (l), i##e = (r); i < i##e; i++)\n#define fi first\n#define se second\n#define mp make_pair\n\nusing namespace std;\nconst int N = 2e5 + 5;\nint n, A[N], in[N];\npair <int, int> f[N][2], ans;\nint main() {\n\tcin >> n;\n\trep(i, 1, n) scanf(\"%d\", &A[i]);\n\tf[1][0].fi = N, f[1][1].fi = -1;\n\trep(i, 2, n) {\n\t\tf[i][0].fi = -1, f[i][1].fi = N;\n\t\tif(A[i - 1] < A[i]) f[i][0] = {f[i - 1][0].fi, 0};\n\t\tif(A[i - 1] > A[i]) f[i][1] = {f[i - 1][1].fi, 1};\n\t\tif(f[i - 1][1].fi < A[i]) f[i][0] = max(f[i][0], mp(A[i - 1], 1));\n\t\tif(f[i - 1][0].fi > A[i]) f[i][1] = min(f[i][1], mp(A[i - 1], 0));\n\t}\n\tif(~f[n][0].fi || f[n][1].fi < N) {\n\t\tputs(\"YES\");\n\t\tin[n] = ~f[n][0].fi ? 0 : 1;\n\t\tper(i, n, 2) in[i - 1] = f[i][in[i]].se;\n\t\trep(i, 1, n) printf(\"%d \", in[i]);\n\t} else puts(\"NO\");\n\treturn 0;\n}\n```",
        "postTime": 1616746226,
        "uid": 177524,
        "name": "plate_let",
        "ccfLevel": 9,
        "title": "Two Merged Sequences | Codeforces 1144G"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u8d2a\u5fc3\u9898\u3002\n\n\u4ece\u524d\u5f80\u540e\uff0c\u6211\u4eec\u8bb0\u5f55\u4e00\u4e0b\u4e0a\u5347\u5b50\u5e8f\u5217\u548c\u4e0b\u964d\u5b50\u5e8f\u5217\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\uff0c\u5206\u522b\u8bb0\u4e3a$x_1$\u548c$x_2$\uff0c\u90a3\u4e48\u5bf9\u4e8e\u4e00\u4e2a\u5143\u7d20$a_i$\uff0c\u5982\u679c$a_i>x_1$\uff0c\u90a3\u5c31\u653e\u5230\u4e0a\u5347\u5b50\u5e8f\u5217\u91cc\uff0c\u5426\u5219\u5c31\u653e\u5230\u4e0b\u964d\u5b50\u5e8f\u5217\u91cc\uff0c\u90fd\u4e0d\u884c\u5c31\u65e0\u89e3\u3002\n\n\u90a3\u4e48\u540c\u65f6\u6ee1\u8db3\u7684\u60c5\u51b5\u5462\uff1f\u8fd9\u65f6\u663e\u7136\u4e0d\u80fd\u968f\u4fbf\u4e71\u653e\uff0c\u5426\u5219\u5bb9\u6613\u51fa\u73b0\u4e0b\u9762\u8fd9\u79cd\u60c5\u51b5\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/61440.png)\n\n\u5176\u4e2d\u7ea2\u8272\u662f\u8d2a\u5fc3\u5f97\u5230\u7684\u89e3\uff0c\u7eff\u8272\u662f\u6b63\u786e\u7684\u65b9\u6cd5\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u9519\u5c31\u9519\u5728\u5b83\u8ba9\u4e24\u4e2a\u5e8f\u5217\u63d0\u524d\u4ea7\u751f\u4e86\u4ea4\u70b9\uff0c\u4ece\u800c\u5bfc\u81f4\u5904\u4e8e\u4e2d\u95f4\u7684\u6570\u5b57\u65e0\u89e3\u3002\n\n\u4e8e\u662f\u6211\u4eec\u5c31\u60f3\u5230\u4e86\u4e00\u4e2a\u6539\u8fdb\u65b9\u6cd5\uff1a\u6211\u4eec\u518d\u8bb0\u5f55\u4e00\u4e0b\u4e24\u4e2a\u5e8f\u5217\u7684\u4e0a\u4e00\u4e2a\u6570\u5b57\uff0c\u5982\u679c$x_1>x_2$\uff0c\u5e76\u4e14\u8fd9\u4e24\u4e2a\u6570\u5b57\u53ef\u4ee5\u4ea4\u6362\uff0c\u90a3\u4e48\u5c31\u628a\u5b83\u4eec\u4ea4\u6362\u3002\n\n\u7ecf\u8fc7\u8fd9\u6837\u4e00\u756a\u8c03\u6574\uff0c\u6211\u4eec\u53d1\u73b0\u4e0a\u9762\u7684\u6837\u4f8b\u5728\u5904\u7406\u5230\u7b2c\u56db\u4e2a\u70b9\u7684\u65f6\u5019\u4f1a\u628a\u4e24\u4e2a\u5e8f\u5217\u672b\u5c3e\u7684\u6570\u5b57\u4ea4\u6362\uff0c\u4ece\u800c\u4e0d\u4f1a\u51fa\u73b0\u95ee\u9898\u3002\n\n\u7136\u800c\u4f60\u53d1\u73b0\u4ecd\u7136\u662fWA on test 15\uff0c\u8fd9\u542f\u793a\u6211\u4eec\u4e0d\u5f97\u4e0d\u53bb\u627e\u53cd\u4f8b\u3002\n\n\u7ecf\u8fc7\u4e00\u901a\u5206\u6790\uff0c\u6211\u4eec\u753b\u51fa\u4e86\u4e0b\u9762\u8fd9\u4e00\u7ec4\u6837\u4f8b\uff1a$6,1,3,5,2,4$\n\n![](https://cdn.luogu.com.cn/upload/pic/61441.png)\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u5f53\u5904\u7406\u5230\u7b2c\u56db\u4e2a\u70b9\u7684\u65f6\u5019\uff0c\u7531\u4e8e\u6211\u4eec\u9519\u8bef\u5730\u628a\u7b2c\u4e09\u4e2a\u70b9\u653e\u5230\u4e86\u4e0a\u5347\u5b50\u5e8f\u5217\u91cc\uff0c\u5bfc\u81f4\u7b2c\u56db\u4e2a\u70b9\u53ea\u80fd\u653e\u5230\u4e0b\u964d\u5b50\u5e8f\u5217\u91cc\u5e76\u65e0\u6cd5\u66f4\u6539\uff0c\u4ece\u800c\u4f7f\u5f97\u7b2c\u516d\u4e2a\u70b9\u65e0\u89e3\u3002\n\n\u8fdb\u4e00\u6b65\u5206\u6790\u6211\u4eec\u53d1\u73b0\uff0c\u5728\u5904\u7406\u5230\u7b2c\u56db\u4e2a\u70b9\u7684\u65f6\u5019\uff0c\u5982\u679c\u6211\u4eec\u80fd\u628a\u7b2c\u4e09\u4e2a\u70b9\u4ece\u4e0a\u5347\u5b50\u5e8f\u5217\u91cc\u653e\u5230\u4e0b\u964d\u5b50\u5e8f\u5217\u91cc\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5f97\u5230\u6b63\u786e\u7684\u89e3\u3002\n\n\u6ce8\u610f\u5230\uff0c\u7b2c\u4e09\u4e2a\u70b9\u653e\u5230\u4e0b\u964d\u5b50\u5e8f\u5217\u91cc\u5e76\u4e0d\u4f1a\u9020\u6210\u4e0b\u964d\u5b50\u5e8f\u5217\u7684\u6700\u5c0f\u5143\u7d20\u53d8\u5c0f\uff0c\u53cd\u800c\u4f1a\u4f7f\u5f97\u4e0a\u5347\u5b50\u5e8f\u5217\u7684\u6700\u5927\u5143\u7d20\u53d8\u5c0f\u3002\n\n\u4e8e\u662f\u6211\u4eec\u518d\u5f00\u4e00\u4e2a$pre$\u6570\u7ec4\u8868\u793a\u6bcf\u4e00\u4e2a\u70b9\u7684\u524d\u9a71\u3002\u5f53\u5904\u7406\u5230\u4e00\u4e2a\u70b9\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4e0d\u65ad\u68c0\u67e5\u5176\u4e2d\u4e00\u4e2a\u5e8f\u5217\u7684\u7ed3\u5c3e\u5143\u7d20\u80fd\u4e0d\u80fd\u4e22\u5230\u53e6\u4e00\u4e2a\u5e8f\u5217\u91cc\u53bb\uff0c\u80fd\u5c31\u4e22\u8fdb\u53bb\u3002\n\n\u8fd9\u6837\u4f60\u53d1\u73b0\u53ef\u80fd\u9700\u8981\u5199\u4e00\u4e2a\u5e73\u8861\u6811\u6765\u67e5\u8be2\u3002\u4f46\u662f\u5176\u5b9e\u5e76\u4e0d\u9700\u8981\uff0c\u6211\u4eec\u53ea\u9700\u8981\u68c0\u67e5\u80fd\u4e0d\u80fd\u653e\u5230\u53e6\u4e00\u4e2a\u5e8f\u5217\u7684\u7ed3\u5c3e\u4e24\u4e2a\u5143\u7d20\u4e4b\u95f4\u5c31\u884c\u4e86\u3002\u56e0\u4e3a\u5982\u679c\u5b83\u53ea\u80fd\u653e\u5230\u4e2d\u95f4\u7684\u67d0\u4e24\u4e2a\u5143\u7d20\u4e4b\u95f4\uff0c\u4e00\u5b9a\u5728\u4e4b\u524d\u5c31\u5df2\u7ecf\u88ab\u5904\u7406\u4e86\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O(n)$\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nint n,_a[200010],*a=_a+5,ans[200005],now1,last1,now2,last2,_pre[200010],*pre=_pre+5;\nint main()\n{\n\tscanf(\"%d\",&n);\n\ta[-3]=-2;\n\ta[-2]=-1;\n\ta[-1]=1000000000;\n\ta[0]=999999999;\n\tpre[-2]=-3,pre[0]=-1;\n\tnow1=-2,last1=-3,now2=0,last2=-1;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d\",&a[i]);\n\t\tif(a[now1]>a[now2]&&a[now1]<a[last2]&&a[now2]>a[last1]&&now1>last2&&now2>last1)\n\t\t{\n\t\t\tswap(ans[now1],ans[now2]);\n\t\t\tswap(now1,now2);\n\t\t\tswap(pre[now1],pre[now2]);\n\t\t}\n\t\twhile(now1>last2&&now1<now2&&a[now1]<a[last2]&&a[now1]>a[now2])\n\t\t{\n\t\t\tpre[now1]=last2;\n\t\t\tpre[now2]=now1;\n\t\t\tans[now1]^=1;\n\t\t\tlast2=now1;\n\t\t\tnow1=last1;\n\t\t\tlast1=pre[last1];\n\t\t}\n\t\twhile(now2>last1&&now2<now1&&a[now2]>a[last1]&&a[now2]<a[now1])\n\t\t{\n\t\t\tpre[now2]=last1;\n\t\t\tpre[now1]=now2;\n\t\t\tans[now2]^=1;\n\t\t\tlast1=now2;\n\t\t\tnow2=last2;\n\t\t\tlast2=pre[last2];\n\t\t}\n\t\tif(a[i]>a[now1])\n\t\t{\n\t\t\tans[i]=0;\n\t\t\tpre[i]=now1;\n\t\t\tlast1=now1,now1=i;\n\t\t}\n\t\telse if(a[i]<a[now2])\n\t\t{\n\t\t\tans[i]=1;\n\t\t\tpre[i]=now2;\n\t\t\tlast2=now2,now2=i;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tprintf(\"NO\\n\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\tprintf(\"YES\\n\");\n\tfor(int i=1;i<=n;i++)printf(\"%d \",ans[i]);\n\tprintf(\"\\n\");\n\treturn 0;\n}\n```",
        "postTime": 1561538550,
        "uid": 54214,
        "name": "wucstdio",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF1144G \u3010Two Merged Sequences\u3011"
    },
    {
        "content": "\u7ed9\u4e00\u4e2a much simpler \u7684\u505a\u6cd5\uff0cmain idea \u662f\u52a8\u6001\u7ef4\u62a4\u4e25\u683c\u9012\u589e\u5b50\u5e8f\u5217\u548c\u4e25\u683c\u9012\u51cf\u5b50\u5e8f\u5217\u3002\n\n- \u4f9d\u5e8f\u8003\u8651\u6bcf\u4e00\u4e2a\u5143\u7d20\uff0c\u8003\u5bdf\u80fd\u591f\u52a0\u5165\u9012\u589e / \u9012\u51cf\u5b50\u5e8f\u5217\uff1b\n  - \u4ec5\u80fd\u591f\u52a0\u5165\u5230\u9012\u589e\u5b50\u5e8f\u5217\uff1a\u52a0\u5165\u5373\u53ef\uff1b\n  - \u4ec5\u80fd\u591f\u52a0\u5165\u5230\u9012\u51cf\u5b50\u5e8f\u5217\uff1a\u52a0\u5165\u5373\u53ef\uff1b\n  - \u4e0d\u80fd\u591f\u52a0\u5165\u5230\u4efb\u610f\u4e00\u4e2a\u5b50\u5e8f\u5217\uff1a\u65e0\u89e3\uff1b\n  - \u540c\u65f6\u80fd\u52a0\u5165\u5230\u4e24\u4e2a\u5b50\u5e8f\u5217\u4e2d\uff1a\u82e5\u8be5\u5143\u7d20\u540e\u9762\u7d27\u90bb\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5927\u4e8e\u8be5\u5143\u7d20\uff0c\u5219\u52a0\u5165\u9012\u589e\u5b50\u5e8f\u5217\uff0c\u5426\u5219\u52a0\u5165\u9012\u51cf\u5b50\u5e8f\u5217\uff0c\u6613\u8bc1\u6b63\u786e\u6027\u3002",
        "postTime": 1657178507,
        "uid": 161849,
        "name": "cirnovsky",
        "ccfLevel": 6,
        "title": "Two Merged Sequences"
    },
    {
        "content": "~~\u8fd9\u53ef\u80fd\u662f\u6211\u89c1\u8fc7\u7684\u6700\u96be\u7684Div3\u9898\uff08\u4e00\u5b9a\u662f\u6211\u592a\u5f31\u4e86\u624d\u4f1a\u8fd9\u4e48\u60f3~~\n\n\u8fd9\u9898\u6709\u82e5\u5e72\u79cd\u505a\u6cd5\uff0c\u6211\u628a\u4e24\u4e2a\u6570\u5217\u753b\u6210\u6298\u7ebf\u7edf\u8ba1\u56fe\u7684\u5f62\u5f0f\uff0c\u53d1\u73b0\u53ea\u6709\u4e00\u4e2a\u4ea4\u70b9\uff08\u8fd9\u662f\u663e\u7136\u7684\uff09\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u8fd9\u4e2a\u4ea4\u70b9\u4f4d\u7f6e\uff0c\u7136\u540e\u524d\u540e\u5c31\u53ef\u4ee5\u76f4\u63a5\u56fa\u5b9a\u4e0b\u6765\uff08\u5de6\u8fb9\u6570\u5b57\u5927\u4e8e\u8fd9\u4e2a\u4ea4\u70b9\u7684\u4e3a\u4e00\u7ec4\uff0c\u5c0f\u4e8e\u7684\u53e6\u4e00\u7ec4\uff0c\u53f3\u8fb9\u540c\u7406\uff09\uff0c\u7136\u540e\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u4e00\u4e2aO(n^2)\u7684\u7b97\u6cd5\n\n\u8003\u8651\u4f18\u5316\uff0c\u6211\u4eec\u7528\u5355\u8c03\u6808\u6765\u4f18\u5316\uff0c\u5f80\u5355\u8c03\u6808\u4e2d\u52a0\u5143\u7d20\u65f6\uff0c\u628a\u4e0d\u7b26\u5408\u7684\u76f4\u63a5\u5f39\u5230\u53e6\u4e00\u7ec4\u4e2d\u5982\u679c\u53d1\u73b0\u4e24\u7ec4\u90fd\u653e\u4e0d\u4e0b\uff0c\u6211\u4eec\u5c31\u627e\u5230\u4e86\u8fd9\u4e2a\u4ea4\u70b9\u7684\u524d\u9762\u4e00\u4e2a\u6570\u4f4d\u7f6e\n\n\u5bf9\u4e8e\u8fd9\u4e2a\u4f4d\u7f6e\uff0c\u6211\u4eec\u8fd8\u8981\u5206\u60c5\u51b5\u770b\u4e00\u4e0b\u5b83\u5c5e\u4e8e\u9012\u589e\u8fd8\u662f\u9012\u51cf\u5e8f\u5217\uff0c\u5206\u522b\u8ba8\u8bba\u4e00\u4e0b\u5c31\u597d\u5566\n\n```cpp\n#include<stdio.h>\n#include<iostream>\n#include<string.h>\nusing namespace std;\nint n,i,sta[200005],ans[200005],top,a[200005],p;\nbool flag=false;\nbool check()\n{\n\tint p;\n\tp=1<<30;\n\tfor(i=1;i<=n;i++)\n\t\tif(ans[i]==1)\n\t\t{\n\t\t\tif(p<=a[i])\n\t\t\t\treturn false;\n\t\t\tp=a[i];\n\t\t}\n\tp=-100000000;\n\tfor(i=1;i<=n;i++)\n\t\tif(ans[i]==0)\n\t\t{\n\t\t\tif(p>=a[i])\n\t\t\t\treturn false;\n\t\t\tp=a[i];\n\t\t}\n\treturn true;\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(i=1;i<=n;i++)\n\t\tscanf(\"%d\",&a[i]);\n\tsta[top=1]=1;\n\tfor(i=2;i<=n;i++)\n\t{\n\t\tif(a[i]==a[sta[top]])\n\t\t\tbreak;\n\t\tif(a[i]>=a[sta[top]])\n\t\t{\n\t\t\tif(top>1&&a[i]>=a[sta[top-1]])\n\t\t\t\tbreak;\n\t\t\ttop--;\n\t\t}\n\t\tsta[++top]=i;\n\t}\n\tfor(;i<=n;i++)\n\t\tif(a[i]<a[sta[top]])\n\t\t\tsta[++top]=i;\n\tfor(i=1;i<=top;i++)\n\t\tans[sta[i]]=1;\n\tif(check())\n\t{\n\t\tprintf(\"YES\\n\");\n\t\tfor(i=1;i<=n;i++)\n\t\t\tprintf(\"%d \",ans[i]);\n\t\treturn 0;\n\t}\n\tmemset(ans,0,sizeof(ans));\n\tsta[top=1]=1;\n\tfor(i=2;i<=n;i++)\n\t{\n\t\tif(a[i]==a[sta[top]])\n\t\t\tbreak;\n\t\tif(a[i]>=a[sta[top]])\n\t\t{\n\t\t\ttop--;\n\t\t\tif(top>0&&a[i]>=a[sta[top]])\n\t\t\t\tbreak;\n\t\t}\n\t\tsta[++top]=i;\n\t}\n\tfor(;i<=n;i++)\n\t\tif(a[i]<a[sta[top]])\n\t\t\tsta[++top]=i;\n\tfor(i=1;i<=top;i++)\n\t\tans[sta[i]]=1;\n\tif(check())\n\t{\n\t\tprintf(\"YES\\n\");\n\t\tfor(i=1;i<=n;i++)\n\t\t\tprintf(\"%d \",ans[i]);\n\t\treturn 0;\n\t}\n\tprintf(\"NO\");\n}\n\n```\n",
        "postTime": 1555509114,
        "uid": 26800,
        "name": "Sshenyyyu",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1144G \u3010Two Merged Sequences\u3011"
    },
    {
        "content": "### \u9898\u610f\u7b80\u8ff0\n\n\u5c06\u5e8f\u5217 $a$ \u5206\u6210\u4e00\u4e2a\u4e25\u683c\u9012\u589e\u5b50\u5e8f\u5217\u548c\u4e00\u4e2a\u4e25\u683c\u9012\u51cf\u5b50\u5e8f\u5217\u3002\n\n### \u9898\u76ee\u5206\u6790\n\n\u53ef\u4ee5\u4f7f\u7528\u8d2a\u5fc3\u3002\n\n\u52a8\u6001\u7ef4\u62a4\u4e24\u4e2a\u5e8f\u5217\u3002\u4e00\u4e2a\u6570\u80fd\u5426\u52a0\u5165\u4e00\u4e2a\u5b50\u5e8f\u5217\uff0c\u53ea\u548c\u5b50\u5e8f\u5217\u7684\u6700\u540e\u4e00\u4e2a\u503c\u6709\u5173\u3002\n\n\u5373\u5f53\u8fd9\u4e2a\u6570\u5927\u4e8e\u9012\u589e\u5e8f\u5217\u7684\u672b\u9879\u65f6\u53ef\u4ee5\u653e\u8fdb\u9012\u589e\u5e8f\u5217\uff0c\n\n\u5c0f\u4e8e\u9012\u51cf\u5e8f\u5217\u672b\u9879\u65f6\u53ef\u4ee5\u52a0\u5165\u9012\u51cf\u5e8f\u5217\u3002\n\n\u8bb0\u9012\u589e\u548c\u9012\u51cf\u5e8f\u5217\u7684\u672b\u9879\u5206\u522b\u4e3a $great$, $less$\uff0c\u5206\u6790 $a[i]$\n\n- $ a[i] < great $ && $ a[i] > less $ \uff1a\u5219 $a[i]$ \u4e0d\u80fd\u6dfb\u52a0\u5230\u4efb\u610f\u5e8f\u5217\uff0c\u90a3\u4e48\u4e24\u4e2a\u5e8f\u5217\u5c31\u6b64\u7ec8\u7ed3\uff0c\u65e0\u89e3\u3002\n\n- $ a[i] < great $ && $ a[i] < less $ \uff1a\u5219 $a[i]$ \u53ea\u7b26\u5408\u9012\u51cf\u5e8f\u5217\u7684\u6761\u4ef6\uff0c\u52a0\u5165\u9012\u51cf\u5e8f\u5217\u5e76\u66f4\u6539 $ less = a[i] $\n\n- $ a[i] > great $ && $ a[i] > less $ \uff1a\u5219 $a[i]$ \u53ea\u7b26\u5408\u9012\u589e\u5e8f\u5217\u7684\u6761\u4ef6\uff0c\u52a0\u5165\u9012\u589e\u5e8f\u5217\u5e76\u66f4\u6539 $ great = a[i] $\n\n- $ a[i] > great $ && $ a[i] < less $ \uff1a\u5219 $a[i]$ \u7b26\u5408\u4e24\u4e2a\u9012\u51cf\u5e8f\u5217\u7684\u6761\u4ef6\uff0c\u6b64\u65f6\u5206\u6790 $ a[i] $ \u6dfb\u52a0\u5230\u4e00\u4e2a\u5e8f\u5217\u5bf9\u4e4b\u540e\u7684\u5f71\u54cd\u3002\n\n\t- \u5f53 $a[i]$ \u52a0\u5165\u5230\u9012\u589e\u5e8f\u5217\uff0c \u5219 $great = a[i]$ \uff0c \u8003\u8651 $a[i+1]$ \u3002\n    \n    \t\u82e5 $a[i+1] < a[i]$ \uff0c\u5219 $ a[i+1] < great $ && $ a[i+1] < less $\u3002\n        \n      \u6b64\u65f6 $ a[i+1] $ \u4f1a\u52a0\u5165\u5230\u9012\u51cf\u5e8f\u5217\uff0c\u800c\u5f53 $a[i]$ \u52a0\u5165\u9012\u51cf\u5e8f\u5217\u65f6\uff0c $a[i+1]$ \u540c\u6837\u80fd\u52a0\u5165\u5230\u9012\u51cf\u5e8f\u5217\uff0c\u6b64\u65f6\u65b9\u6848\u662f\u52a3\u7684\u3002\n      \n   - \u6240\u4ee5\u5f53 $a[i+1]<a[i]$ \u65f6\uff0c$a[i]$ \u52a0\u5165\u5230\u9012\u51cf\u5e8f\u5217\u6700\u4f18\u3002\n   \n   - \u540c\u7406\u5f53 $a[i+1]>a[i]$ \u65f6\uff0c$a[i]$ \u52a0\u5165\u5230\u9012\u589e\u5e8f\u5217\u6700\u4f18\u3002\n   \n   - $a[i] = a[i+1] $ \u65f6\uff0c$a[i]$ \u65e0\u8bba\u52a0\u5165\u5230\u90a3\u4e2a\u5e8f\u5217\uff0c$a[i+1]$ \u90fd\u4f1a\u52a0\u5165\u5230\u53e6\u4e00\u4e2a\u5e8f\u5217\uff0c\u6ca1\u6709\u5355\u72ec\u5206\u7c7b\u8ba8\u8bba\u7684\u5fc5\u8981\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<cstdio>\nusing namespace std;\nconst int maxn = 200000 + 10;\nconst int inf = 0x3f3f3f3f;\nint a[maxn]; // \u9898\u76ee\u4e2d\u7684\u5e8f\u5217\nint n, great=-inf, less=inf; \n// \u4e24\u4e2a\u5b50\u5e8f\u5217\u7684\u672b\u9879\uff0c\u521d\u59cbgreat\u8d4b\u6700\u5c0f\u503c\uff0cless\u8d4b\u6700\u5927\u503c\u3002\nint main()\n{\n    scanf(\"%d\",&n);\n    for (int i=1;i<=n;++i) scanf(\"%d\",&a[i]);\n    for (int i=1;i<=n;++i) // \u5982\u9898\u76ee\u5206\u6790\u7684\u8fc7\u7a0b\n        if (a[i] < less && a[i] > great)\n            if (a[i+1] > a[i]) great = a[i], a[i] = 0;\n            else less = a[i], a[i] = 1;\n        else if (a[i] > great) great = a[i], a[i] = 0;\n        else if (a[i] < less) less = a[i], a[i] = 1;\n        else return puts(\"NO\"), 0;\n        // \u9017\u53f7\u8fd0\u7b97\u7b26\uff0c\u7b49\u4ef7\u4e8e{puts(\"-1\"); return 0;}\n    puts(\"YES\");\n    for (int i=1;i<=n;++i) printf(\"%d \",a[i]);\n    // \u56e0\u4e3a\u8ba1\u7b97\u5230a[i]\u65f6\uff0ca[i-1]\u5df2\u7ecf\u6ca1\u6709\u4ef7\u503c\u4e86\uff0c\u6240\u4ee5\u76f4\u63a5\u4f7f\u7528a\u8bb0\u5f55\u7b54\u6848\n    putchar('\\n');\n    return 0;\n}\n```\n",
        "postTime": 1667182686,
        "uid": 706028,
        "name": "YuanRuiqi",
        "ccfLevel": 6,
        "title": "CF1144G \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u4e2a trick \u597d\u50cf\u4e0d\u662f\u5f88\u5e38\u89c1\u554a\uff0c\u81f3\u5c11\u6211\u4e4b\u524d\u6ca1\u78b0\u5230\u8fc7\u3002\n\n\u53d1\u73b0\u72b6\u6001\u4ec5\u548c\u524d\u9762\u67d0\u4e00\u4e2a\u6bd4\u5b83\u5c0f / \u6bd4\u5b83\u5927\u7684\u6570\u6709\u5173\uff0c\u8003\u8651\u5c06\u5176\u653e\u5165\u72b6\u6001\u3002\n\n\u8d2a\u5fc3\u5730\u60f3\uff0c\u5bf9\u4e8e\u9012\u589e\u5e8f\u5217\uff0c\u6bcf\u4e00\u6b21\u6700\u540e\u7684\u6570\u8d8a\u5c0f\u8d8a\u597d\uff0c\u8d8a\u53ef\u80fd\u627e\u5230\u5408\u6cd5\u89e3\u3002\n\n\u540c\u7406\u5bf9\u4e8e\u9012\u51cf\u5e8f\u5217\u4e5f\u6709\u76f8\u540c\u7684\u8d2a\u5fc3\u7b56\u7565\u3002\n\n\u90a3\u4e48\u5982\u4f55\u8bb0\u5f55\u8fd9\u4e2a\u6bd4\u5b83\u5c0f / \u6bd4\u5b83\u5927\u7684\u6570\u5462\uff1f\n\n\u8003\u8651\u5982\u679c\u8fde\u7eed\u4e24\u4e2a\u6570\u90fd\u5728\u540c\u4e00\u7c7b\u578b\u7684\u5e8f\u5217\u4e2d\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u8f6c\u79fb\u3002\n\n\u5982\u679c\u8fde\u7eed\u4e24\u4e2a\u6570 $a_{i-1},a_i$ \u4e0d\u5728\u540c\u4e00\u7c7b\u578b\u7684\u5e8f\u5217\u4e2d\uff0c\u5fc5\u987b\u8981\u4ece $i-1$ \u5904\u8f6c\u79fb\u3002\n\n\u8fd9\u6837\u5c31\u5f97\u8bb0\u5f55\u4e0d\u540c\u7c7b\u578b\u7684\u4fe1\u606f\u3002\n\n\u90a3\u4e48\u8003\u8651\u8fd9\u6837\u5e72\u3002\n\n$dp_{i,0}$ \u8868\u793a $a_i$ \u5c5e\u4e8e\u9012\u589e\u5e8f\u5217\u65f6\uff0c\u9012\u51cf\u5e8f\u5217\u7684\u6700\u540e\u4e00\u4e2a\u4f4d\u7f6e\u7684\u6700\u5927\u503c\u3002\n\n$dp_{i,1}$ \u8868\u793a $a_i$ \u5c5e\u4e8e\u9012\u51cf\u5e8f\u5217\u65f6\uff0c\u9012\u589e\u5e8f\u5217\u7684\u6700\u540e\u4e00\u4e2a\u4f4d\u7f6e\u7684\u6700\u5c0f\u503c\u3002\n\n1. $a_{i-1},a_i$ \u5747\u5c5e\u4e8e\u9012\u589e\u5e8f\u5217\uff0c\u5219 $dp_{i,0}=dp_{i-1,0}$\u3002\n\n2. $a_{i-1},a_i$ \u5747\u5c5e\u4e8e\u9012\u51cf\u5e8f\u5217\uff0c\u5219 $dp_{i,1}=dp_{i-1,1}$\u3002\n\n3. $a_{i-1}$ \u5c5e\u4e8e\u9012\u51cf\u5e8f\u5217\uff0c$a_i$ \u5c5e\u4e8e\u9012\u589e\u5e8f\u5217\uff0c\u5219 $dp_{i,0}=a_{i-1}$\u3002\n\n4. $a_{i-1}$ \u5c5e\u4e8e\u9012\u589e\u5e8f\u5217\uff0c$a_i$ \u5c5e\u4e8e\u9012\u51cf\u5e8f\u5217\uff0c\u5219 $dp_{i,1}=a_{i-1}$\u3002\n\n\u8fd9\u6837\u8f6c\u79fb\u5c31\u597d\u4e86\u3002\n\n```cpp\n#pragma GCC optimize(\"Ofast\")\n#include <bits/stdc++.h>\n#define fi first\n#define se second\nusing namespace std;\n\nconst int N = 2e5 + 10, inf = 1e9;\nint n, a[N]; pair <int, int> dp[N][2];\n\nint main() {\n    ios_base::sync_with_stdio(false); cin.tie(0), cout.tie(0);\n    cin >> n; for (int i = 1; i <= n; ++i) cin >> a[i];\n    dp[1][0].fi = inf, dp[1][1].fi = -inf;\n    for (int i = 2; i <= n; ++i) {\n        dp[i][0].fi = -inf, dp[i][1].fi = inf;\n        if (a[i - 1] < a[i]) dp[i][0] = {dp[i - 1][0].fi, 0};\n        if (a[i - 1] > a[i]) dp[i][1] = {dp[i - 1][1].fi, 1};\n        if (dp[i - 1][1].fi < a[i]) dp[i][0] = max(dp[i][0], {a[i - 1], 1});\n        if (dp[i - 1][0].fi > a[i]) dp[i][1] = min(dp[i][1], {a[i - 1], 0});\n    }\n    if (dp[n][0].fi <= -inf && dp[n][1].fi >= inf) return cout << \"NO\" << endl, 0;\n    stack <int> st; int typ = 0; cout << \"YES\" << endl;\n    if (dp[n][0].fi <= -inf) typ = 1; st.push(typ);\n    for (int i = n; i > 1; --i) st.push(typ = dp[i][typ].se);\n    while (!st.empty()) cout << st.top() << ' ', st.pop(); cout << endl;\n    return 0;\n}\n```",
        "postTime": 1669366669,
        "uid": 487752,
        "name": "MistZero",
        "ccfLevel": 0,
        "title": "\u5947\u5999\u7684 DP trick\u3002"
    },
    {
        "content": "### \u9898\u610f\n\n\u7ed9\u5b9a\u5e8f\u5217 $a_1,a_2,...,a_n$\uff0c\u6c42\u80fd\u5426\u5c06\u5176\u5212\u5206\u6210\u4e24\u4e2a\u5b50\u5e8f\u5217\uff0c\u4f7f\u5f97\u5176\u4e2d\u4e00\u4e2a\u5b50\u5e8f\u5217\u5355\u8c03\u9012\u589e\uff0c\u53e6\u4e00\u4e2a\u5355\u8c03\u4e0b\u964d\u3002\n\n### \u9898\u89e3\n\n\u8003\u8651\u52a8\u6001\u89c4\u5212\uff1a\n\n$dp_{i,0}$ \u8868\u793a\u4ee5 $i$ \u7ed3\u5c3e\uff0c$i$ \u5c5e\u4e8e\u5355\u8c03\u4e0b\u964d\u5b50\u5e8f\u5217\uff0c\u5355\u8c03\u4e0a\u5347\u5b50\u5e8f\u5217\u7ed3\u5c3e\u7684\u6700\u5c0f\u503c\uff0c$dp_{i,1}$ \u540c\u7406\u3002\n\n\u8f6c\u79fb\u65f6\u51b3\u7b56 $i-1$ \u5c5e\u4e8e\u54ea\u4e2a\u5b50\u5e8f\u5217\uff0c\u5e76\u8bb0\u5f55\u4ece\u54ea\u8f6c\u79fb\u3002\n\n\u6ce8\u610f\u8d4b\u503c\u6700\u5c0f\u503c\u65f6\u6ce8\u610f\u8981\u8d4b $-inf$\uff0c\u5426\u5219\u4f1a\u5728 #12 \u6302\u6389\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAXN=2e5+5;\nint n,a[MAXN],dp[MAXN][2];\nbool book[MAXN][2];\nvoid out(int x,int y)\n{\n\tif(x>1) out(x-1,book[x][y]);\n\tcout<<(y^1)<<' ';\n}\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) cin>>a[i];\n\tdp[1][0]=-INT_MAX,dp[1][1]=INT_MAX;\n\tfor(int i=2;i<=n;i++)\n\t{\n\t\tdp[i][0]=-1;\n\t\tif(a[i-1]>a[i]) dp[i][0]=dp[i-1][0];\n\t\tif(dp[i-1][1]!=-1&&dp[i-1][1]>a[i])\n\t\t\tif(dp[i][0]==-1||dp[i][0]>a[i-1]) dp[i][0]=a[i-1],book[i][0]=1;\n\t\tdp[i][1]=-1,book[i][1]=1;\n\t\tif(a[i-1]<a[i]) dp[i][1]=dp[i-1][1];\n\t\tif(dp[i-1][0]!=-1&&dp[i-1][0]<a[i])\n\t\t\tif(dp[i][1]==-1||dp[i][1]<a[i-1]) dp[i][1]=a[i-1],book[i][1]=0;\n\t}\n\tif(dp[n][1]==-1&&dp[n][0]==-1) return puts(\"NO\")*0;\n\tputs(\"YES\");\n\tint o=1;\n\tif(dp[n][0]!=-1) o=0;\n\tout(n,o);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1662381070,
        "uid": 448159,
        "name": "wz20201136",
        "ccfLevel": 7,
        "title": "CF1144G\u9898\u89e3"
    }
]