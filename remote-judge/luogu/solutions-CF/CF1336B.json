[
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u6709\u8da3\u7684\u9898\u3002\n\n\u770b\u5230\u8fd9\u4e2a\u9898\uff0c\u6211\u4eec\u4f5c\u4e3a\u4e00\u79cd\u8d2a\u5a6a\u7684\u751f\u7269\uff0c\u80af\u5b9a\u4f1a\u60f3\u5230\u8d2a\u5fc3\uff0c\u4e5f\u5c31\u662f\u627e\u5230\u5c3d\u91cf\u76f8\u8fd1\u7684 $x,y,z$\u3002  \n~~Q\uff1a\u8fd9\u4e0d\u662f\u5e9f\u8bdd\u5417\u3002\u8fd9\u662f\u9898\u610f\u554a~~    \n~~A\uff1a\u8fd9\u5c31\u662f\u5e9f\u8bdd\u3002~~\n\n\u4f46\u662f\uff0c\u8fd9\u8ba9\u6211\u4eec\u77e5\u9053\u6211\u4eec\u76f4\u63a5\u53bb\u6c42\u8fd9\u4e09\u4e2a\u6570\uff0c\u662f\u4e0d\u73b0\u5b9e\u7684\u3002\u90a3\u4e48\u6211\u4eec\u4f1a\u60f3\u5230\u4e00\u4e2a\u7b97\u6cd5\uff1a**\u4e8c\u5206\u7b54\u6848**\n\n\u901a\u8fc7\u7f29\u5c0f\u7b54\u6848\u7684\u8303\u56f4\u6765\u6c42\u51fa\u7b54\u6848\uff0c\u662f\u5bf9\u4e8e\u8fd9\u79cd\u65e0\u6cd5\u76f4\u63a5\u6c42\u89e3\u7684\u9898\u7684\u4e00\u79cd\u597d\u65b9\u6cd5\u3002\u4f46\u662f\uff0c\u5f88\u53ef\u60dc\uff0c\u6211\u4eec\u65e0\u6cd5\u60f3\u5230\u4e00\u4e2a $O(n)$ \u7684check\u3002\u6240\u4ee5\uff0c\u62a5\u5e9f\u3002\u4f46\u662f\u53ef\u4ee5\u6709 $O(n \\log n)$ \u7684\uff0c\u5927\u5bb6\u53ef\u4ee5\u6765\u5199\u4e00\u5199\u3002\n\n\u90a3\u4e48\u771f\u7684\u4e0d\u80fd\u76f4\u63a5\u505a\u5417\uff1f\u5176\u5b9e\u53ef\u4ee5\uff0c\u5982\u679c\u73b0\u5728\u6709\u4e00\u4e2a\u6570\u662f\u786e\u5b9a\u4e0b\u6765\u7684\uff0c\u53e6\u5916\u4e24\u4e2a\u6570\u7528\u8d2a\u5fc3\u53ef\u4ee5\u6c42\u51fa\u3002\u6211\u4eec\u8bbe $x\\leq y\\leq z$\uff0c\u90a3\u4e48\u6211\u4eec\u679a\u4e3e $y$\uff0c\u7528 STL \u91cc\u7684 lower_bound \u548c upper_bound \u5c31\u53ef\u4ee5\u8f7b\u677e\u627e\u5230\u6700\u4f18\u7684 $x,z$\u3002\u4f46\u662f\uff0c$x,y,z$ \u7684\u5173\u7cfb\u4e0d\u77e5\u8fd9\u4e00\u79cd\uff0c\u6709 $P_3^3=6$ \u79cd\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u9700\u8981\u679a\u4e3e\u4e00\u4e0b $x,y,z$ \u7684\u987a\u5e8f\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(6\\cdot n \\log n)\\approx 6\\times100000\\times 17 =10200000$\u3002\u7ed9\u4e86 $3s$ \u7684\u65f6\u9650\uff0c\u59a5\u59a5\u591f\u4e86\u3002~~POJ\u7684\u8001\u7237\u8bc4\u6d4b\u59ec\u90fd\u591f\u4e86\uff08\u6ed1\u7a3d\uff09\u3002~~\n\nQ1\uff1a\u4e3a\u4ec0\u4e48\u8fd9\u6837\u80fd\u627e\u5230\u6700\u4f18\u89e3\u5462\uff1f  \nA1\uff1a\u6211\u4eec\u60f3\u8c61\u4e00\u4e0b\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u76f8\u5f53\u4e8e\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6570\uff0c\u627e\u4e86\u6700\u4f18\u89e3\uff0c\u90a3\u4e48\u76f8\u5f53\u4e8e\u4e00\u4e2a\u679a\u4e3e\uff0c\u53ea\u4e0d\u8fc7\uff0c\u6709\u7ae0\u6cd5\uff0c\u6709\u987a\u5e8f\uff0c\u6709\u9053\u7406\u3002\n\nQ2\uff1a\u4e3a\u4ec0\u4e48\u8981\u679a\u4e3e $y$\uff0c\u7136\u540e\u627e\u4e00\u4e2a\u4e0d\u4e25\u683c\u5c0f\u4e8e $y$ \u7684\u6570\u548c\u4e0d\u4e25\u683c\u5927\u4e8e $y$ \u7684\u6570\uff0c\u800c\u4e0d\u662f\u90fd\u627e\u4e0d\u4e25\u683c\u5c0f\u4e8e\u7684\u6570\u5462\uff1f  \nA2\uff1a\u6211\u4eec\u518d\u627e $x,z$ \u7684\u8fc7\u7a0b\uff0c\u548c\u679a\u4e3e $x$\uff0c\u627e\u5230 $y,z$ \u7684\u8fc7\u7a0b\u662f\u4e00\u6837\u7684\u3002\u4f46\u662f\u4e0d\u80fd\u4fdd\u8bc1 $y,z$ \u4e4b\u95f4\u7684\u5927\u5c0f\u5173\u7cfb\uff0c\u6240\u4ee5\u679a\u4e3e\u4e0d\u5b8c\u6574\uff0c\u4f1a\u9519\u3002\n\nQ3\uff1a\u7ed9\u4e2a\u4ee3\u7801\u597d\u5417\uff1f  \nA3\uff1a\u597d\u7684\u3002\n\nQ4\uff1a\u52a0\u4e2a\u6ce8\u91ca\u597d\u5417\uff1f  \nA4\uff1a\u4e0d\u4e86\uff0c\u539f\u56e0\uff1a1.\u953b\u70bc\u81ea\u6211\u7684\u4ee3\u7801\u80fd\u529b\uff0c\u4e00\u4e0b\u4ee3\u7801\u4ec5\u4f9b\u53c2\u8003\u3002~~2.\u6211\u61d2~~\n\n### \u5982\u679c\u9700\u8981\u6ce8\u91ca\uff0c\u53ef\u4ee5\u79c1\u4fe1\u6211\u54df~~\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\n\nint read() {\n\tchar ch=getchar();\n\tint f=1,x=0;\n\twhile(ch<'0'||ch>'9') {\n\t\tif(ch=='-')\n\t\t\tf=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9') {\n\t\tx=x*10+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn f*x;\n}\n\nconst int maxn=1e5+10,inf=0x7fffffffffffffff;\n\nint n[3],c[3][maxn];\n\nint calc(int x,int y,int z) {\n\treturn (x-y)*(x-y)+(y-z)*(y-z)+(x-z)*(x-z);\n}\n\nsigned main() {\n\t\n\tint t=read();\n\twhile(t--) {\n\t\tfor(int i=0;i<3;i++) {\n\t\t\tn[i]=read();\n\t\t}\n\t\tfor(int i=0;i<3;i++) {\n\t\t\tfor(int j=1;j<=n[i];j++) {\n\t\t\t\tc[i][j]=read();\n\t\t\t}\n\t\t\tsort(c[i],c[i]+n[i]+1);\n\t\t}\n\t\tint ans=inf;\n\t\tfor(int i=0;i<3;i++) {\n\t\t\tfor(int j=0;j<3;j++) {\n\t\t\t\tfor(int k=0;k<3;k++) {\n\t\t\t\t\tif(i!=j&&j!=k&&i!=k) {\n\t\t\t\t\t\tfor(int q=1;q<=n[i];q++) {\n\t\t\t\t\t\t\tint p1=lower_bound(c[j],c[j]+n[j]+1,c[i][q])-c[j];\n\t\t\t\t\t\t\tint p2=upper_bound(c[k],c[k]+n[k]+1,c[i][q])-c[k];\n\t\t\t\t\t\t\tif(p1!=n[j]+1&&p2!=1) {\n\t\t\t\t\t\t\t\tp2--;\n\t\t\t\t\t\t\t\tans=min(ans,calc(c[i][q],c[j][p1],c[k][p2]));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\treturn 0;\n}\n\n```",
        "postTime": 1587087956,
        "uid": 132976,
        "name": "huayucaiji",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1336B \u3010Xenia and Colorful Gems\u3011"
    },
    {
        "content": "## \u5206\u6790 + \u9898\u89e3\n\n\u8bbe\u53d6\u51fa\u6765\u7684\u4e09\u4e2a\u6570\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u4f9d\u6b21\u4e3a $x,y,z \\; (x \\le y \\le z)$\uff0c\u7531\u4e8e $\\sum n_r,\\sum n_g,\\sum n_b \\le 10^5$\uff0c\u663e\u7136\u9700\u8981\u679a\u4e3e\u5176\u4e2d\u4e00\u4e2a\u3002\n\n\u82e5\u679a\u4e3e $x$\uff0c\u6700\u4f18\u7684 $y,z$ \u65e0\u6cd5\u552f\u4e00\u786e\u5b9a\u3002\n\n**\u8bf4\u660e**\uff1a\u53d6\u6700\u5c0f\u7684 $\\ge x$ \u7684 $y$ \u548c\u6700\u5c0f\u7684 $\\ge y$ \u7684 $z$ \u5e76\u4e0d\u4e00\u5b9a\u6700\u4f18\uff0c\u56e0\u4e3a\u6709\u53ef\u80fd\u8fd9\u6837\u7684 $y$ \u548c $z$ \u76f8\u5dee\u592a\u5927\uff0c\u8fd8\u4e0d\u5982\u8f83\u5927\u4f46\u76f8\u5dee\u8f83\u5c0f\u7684 $y,z$ \u4f18\u3002\n\n\u82e5\u679a\u4e3e $z$\uff0c\u540c\u7406\u53ef\u4ee5\u53d1\u73b0\u6700\u4f18\u7684 $x,y$ \u65e0\u6cd5\u552f\u4e00\u786e\u5b9a\u3002\n\n\u4e8e\u662f\u8003\u8651\u679a\u4e3e $y$\uff0c\u6b64\u65f6\u6700\u4f18\u7684 $x$ \u5fc5\u4e3a $\\le y$ \u7684\u6700\u5927\u7684\u6570\uff0c\u6700\u4f18\u7684 $z$ \u5fc5\u4e3a $\\ge y$ \u7684\u6700\u5c0f\u7684\u6570\u3002\n\n**\u8bc1\u660e**\uff1a\u8bbe $a=y-x$\uff0c$b=z-y$\uff0c\u5219 $a,b \\ge 0$ \u4e14 $z-x=a+b$\uff0c\u8fdb\u4e00\u6b65\u6709 $(x-y)^2+(y-z)^2+(z-x)^2=a^2+b^2+(a+b)^2$\uff0c\u663e\u7136 $a$ \u548c $b$ \u8d8a\u5c0f\u8d8a\u4f18\u3002\n\n## \u4ee3\u7801\u5b9e\u73b0\n\n\u5148\u5c06\u4e09\u4e2a\u6570\u5217\u6392\u5e8f\uff0c\u7136\u540e\u679a\u4e3e\u4e0a\u8ff0 $x,y,z$ \u5206\u522b\u5c5e\u4e8e\u54ea\u4e2a\u6570\u5217\uff08\u5171 $3!=6$ \u79cd\uff09\uff0c\u5e76\u679a\u4e3e $y$\uff0c\u4f7f\u7528**\u4e8c\u5206\u67e5\u627e**\u6216**\u53cc\u6307\u9488**\u6c42\u5f97\u6700\u4f18\u7684 $x$ \u548c $z$\uff0c\u66f4\u65b0\u7b54\u6848\u5373\u53ef\u3002\n\n\u5c3d\u7ba1**\u4e8c\u5206\u67e5\u627e**\u53ef\u4ee5\u4f7f\u7528 STL \u4e2d\u7684 `lower_bound` \u548c `upper_bound`\uff0c\u4f46**\u53cc\u6307\u9488**\u5e76\u4e0d\u4f1a\u96be\u5199\uff0c\u4e14\u5e38\u6570\u66f4\u5c0f\uff0c\u56e0\u6b64\u4e0b\u6587\u4ee3\u7801\u4f7f\u7528**\u53cc\u6307\u9488**\u5b9e\u73b0\u3002~~\u8f7b\u8f7b\u677e\u677e\u6700\u4f18\u89e3^_^~~\n\n**\u65f6\u95f4\u590d\u6742\u5ea6**\uff1a$O(nlog_2n)$\u3002\uff08\u5c3d\u7ba1\u53ef\u4ee5\u4f7f\u7528**\u53cc\u6307\u9488**\uff0c\u4f46\u4e00\u5f00\u59cb\u4e5f\u9700\u8981\u6392\u5e8f\uff09\n\n\u5177\u4f53\u5b9e\u73b0\u53ef\u4ee5\u7ed3\u5408\u4ee3\u7801\u4e2d\u7684\u6ce8\u91ca\u6765\u7406\u89e3\u3002\n\n## \u4ee3\u7801\n\n``` cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int max_n=1e5+5;\nint r[max_n],g[max_n],b[max_n];\ninline long long get_ans(int a[],int na,int b[],int nb,int c[],int nc)//\u4e0a\u8ff0\u7684 x \u5c5e\u4e8e a\uff0cy \u5c5e\u4e8e b\uff0cz \u5c5e\u4e8e c \n{\n\tlong long res=4e18;//\u521d\u59cb\u5316\u4e3a inf\uff0c\u6ce8\u610f\u7b54\u6848\u6700\u5927\u53ef\u80fd\u4e3a 2e18\uff0c\u8981\u5f00 long long \n\tint i=1,j=1;//i \u6307\u5411 a\uff0cj \u6307\u5411 c \n\tfor(int k=1;k<=nb;++k)\n\t{\n\t\tint y=b[k];\n\t\twhile(i<=na&&a[i]<=y)\n\t\t\t++i;\n\t\tif(i==1)//\u8bf4\u660e a \u4e2d\u6ca1\u6709 <=y \u7684\u6570 \n\t\t\tcontinue;\n\t\tint x=a[i-1];\n\t\twhile(j<=nc&&c[j]<y)\n\t\t\t++j;\n\t\tif(j>nc)//\u8bf4\u660e c \u4e2d\u6ca1\u6709 >=y \u7684\u6570 \n\t\t\tbreak;\n\t\tint z=c[j];\n\t\tres=min(res,1ll*(x-y)*(x-y)+1ll*(y-z)*(y-z)+1ll*(z-x)*(z-x));//\u66f4\u65b0\u7b54\u6848\uff0c\u8bb0\u5f97\u52a0\u4e0a 1ll \n\t}\n\treturn res;\n}\nint main()\n{\n\tint t;\n\tscanf(\"%d\",&t);\n\twhile(t--)\n\t{\n\t\tint nr,ng,nb;\n\t\tscanf(\"%d%d%d\",&nr,&ng,&nb);\n\t\tfor(int i=1;i<=nr;++i)\n\t\t\tscanf(\"%d\",r+i);\n\t\tsort(r+1,r+nr+1);//\u8bb0\u5f97\u5148\u6392\u5e8f \n\t\tfor(int i=1;i<=ng;++i)\n\t\t\tscanf(\"%d\",g+i);\n\t\tsort(g+1,g+ng+1);\n\t\tfor(int i=1;i<=nb;++i)\n\t\t\tscanf(\"%d\",b+i);\n\t\tsort(b+1,b+nb+1);\n\t\tlong long ans=get_ans(r,nr,g,ng,b,nb);\n\t\tans=min(ans,get_ans(r,nr,b,nb,g,ng));\n\t\tans=min(ans,get_ans(g,ng,r,nr,b,nb));\n\t\tans=min(ans,get_ans(g,ng,b,nb,r,nr));\n\t\tans=min(ans,get_ans(b,nb,r,nr,g,ng));\n\t\tans=min(ans,get_ans(b,nb,g,ng,r,nr));//\u679a\u4e3e\u516d\u79cd\u60c5\u51b5 \n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1609762654,
        "uid": 145355,
        "name": "wsyhb",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011CF1336B Xenia and Colorful Gems"
    },
    {
        "content": "**UPD**\uff1a\u5206\u6790\u4e86\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u4fee\u6b63\u4e86\u7b14\u8bef\uff08\u6211\u592a\u5f31\u4e86\u628a\u5927\u4e8e\u5199\u6210\u4e86\u5c0f\u4e8e\u2026\u2026\uff09\n\n- - - -\n\n# [CF1336B Xenia and Colorful Gems](https://www.luogu.com.cn/problem/CF1336B)\n\n\u9996\u5148\uff0c\u5f88\u663e\u7136\uff0c\u8981\u8ba9 $(x-y)^2+(y-z)^2+(x-z)^2$ \u7684\u503c\u5c3d\u53ef\u80fd\u5c0f\uff0c$x,y,z$ \u4e09\u4e2a\u503c\u5c31\u8981\u5c3d\u53ef\u80fd\u63a5\u8fd1\u3002\n\n\u4e8e\u662f\u6211\u4eec\u8003\u8651\uff0c\u679a\u4e3e\u5176\u4e2d\u4e00\u79cd\u5b9d\u77f3\u7684\u6240\u6709\u91cd\u91cf\uff0c\u7136\u540e\u5728\u53e6\u5916\u4e24\u79cd\u5b9d\u77f3\u7684\u91cd\u91cf\u4e2d\u627e\u5230\u6700\u63a5\u8fd1\u5b83\u7684\u503c\uff0c\u6700\u540e\u627e\u5230\u6700\u5c0f\u7684\u7b54\u6848\u3002\n\n\u4e3a\u4e86\u4fbf\u4e8e\u679a\u4e3e\u6240\u6709\u60c5\u51b5\uff0c\u6211\u4eec\u53ef\u4ee5\u786e\u5b9a\u4e0b $x,y,z$ \u7684\u5927\u5c0f\u5173\u7cfb\u7136\u540e\u8fdb\u884c\u679a\u4e3e\u3002  \n\u4e3e\u4e2a\u6817\u5b50\uff1a\u5f53\u6211\u4eec\u4ee4 $x \\le y \\le z$ \u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u5728\u7b2c\u4e00\u4e2a\u6570\u7ec4\u4e2d\u679a\u4e3e\u91cd\u91cf $x$ \uff0c\u5728\u7b2c\u4e8c\u4e2a\u6570\u7ec4\u4e2d\u627e\u5230\u6700\u63a5\u8fd1 $x$ \u4e14\u5927\u4e8e\u7b49\u4e8e $x$ \u7684\u503c $y$\uff0c\u5728\u7b2c\u4e09\u4e2a\u6570\u7ec4\u4e2d\u627e\u5230\u6700\u63a5\u8fd1 $y$ \u4e14\u5927\u4e8e\u7b49\u4e8e $y$ \u7684\u503c $z$\u3002\u7136\u540e\u8ba1\u7b97\u7b54\u6848\uff0c\u5e76\u5728\u6240\u6709\u7684\u7b54\u6848\u4e2d\u53d6\u6700\u5c0f\u503c\u3002\n\n\u4f46\u662f\u7531\u4e8e $x,y,z$ \u7684\u5927\u5c0f\u5173\u7cfb\u4e0d\u786e\u5b9a\uff0c\u6211\u4eec\u9700\u8981\u679a\u4e3e\u5b83\u4eec\u7684 $6$ \u79cd\u5927\u5c0f\u5173\u7cfb\uff0c\u5206\u522b\u662f\n$$x \\le y \\le z$$\n$$x \\le z \\le y$$\n$$y \\le x \\le z$$\n$$y \\le z \\le x$$\n$$z \\le x \\le y$$\n$$z \\le y \\le x$$\n\n\u5f53\u7136\uff0c\u4e0d\u7ba1\u662f\u7528\u53cc\u6307\u9488\u8fd8\u662f\u4e8c\u5206\u90fd\u8981\u5148\u6392\u5e8f\u3002\n\n\u7531\u4e8e\u8981\u591a\u6b21\u7528\u5230\u76f8\u540c\u7684\u8ba1\u7b97\uff0c\u4e0d\u59a8\u628a\u679a\u4e3e\u548c\u8ba1\u7b97\u7684\u8fc7\u7a0b\u653e\u5230\u51fd\u6570\u91cc\u3002\u7136\u540e\u8bb0\u5f97\u5f00 `long long`\u3002\n\n\u6211\u7684\u505a\u6cd5\u662f\u53cc\u6307\u9488\uff0c\u6240\u4ee5\u6ca1\u6709\u7528 `upper_bound` \u548c `lower_bound`\u3002\n\n\u6bcf\u6b21\u627e\u8f83\u5c0f\u503c\u548c\u8f83\u5927\u503c\u7684\u90e8\u5206\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n)$ \u7684\uff0c\u6392\u5e8f\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n \\log n)$\uff0c\u6240\u4ee5\u6700\u7ec8\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n \\log n)$\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nconst int maxn = 1e5 + 5;\nlong long r[maxn], g[maxn], b[maxn];\nlong long ans;\n\nlong long calc(long long x, long long y, long long z)\n{\n\treturn (x-y)*(x-y)+(y-z)*(y-z)+(x-z)*(x-z);\n}\n\nvoid solve(long long *x, long long *y, long long *z, int nx, int ny, int nz)\n{\n\tint p1 = 0, p2 = 0;\n\tfor(int i = 1; i <= nx; i++)\n\t{\n\t\twhile(p1 <= ny && y[p1] <= x[i]) p1++;  //\u627e\u6700\u63a5\u8fd1\u7684\u8f83\u5c0f\u503c\n\t\twhile(p2 <= nz && z[p2] < x[i]) p2++;  //\u627e\u6700\u63a5\u8fd1\u7684\u8f83\u5927\u503c\n\t\tif(p1 - 1 != 0 && p2 != nz + 1)  //\u8f83\u5c0f\u503c\u548c\u8f83\u5927\u503c\u90fd\u80fd\u627e\u5230\n\t\t\tans = min(ans, calc(x[i], y[p1 - 1], z[p2]));\n\t}\n\treturn;\n}\n\nvoid work()\n{\n\tans = 0x7fffffffffffffff;  //CF\u7684C++11\u7684\u7f16\u8bd1\u5668\u4e0d\u652f\u6301<limits.h>\u4e2d\u7684LONG_LONG_MAX\n\tint nr, ng, nb;\n\tscanf(\"%d%d%d\", &nr, &ng, &nb);\n\tfor(int i = 1; i <= nr; i++) scanf(\"%lld\", r + i);\n\tfor(int i = 1; i <= ng; i++) scanf(\"%lld\", g + i);\n\tfor(int i = 1; i <= nb; i++) scanf(\"%lld\", b + i);\n\tsort(r + 1, r + nr + 1);\n\tsort(g + 1, g + ng + 1);\n\tsort(b + 1, b + nb + 1);\n   //\u679a\u4e3e\u6240\u6709\u53ef\u80fd\u7684\u5927\u5c0f\u5173\u7cfb\n\tsolve(r, g, b, nr, ng, nb);\n\tsolve(r, b, g, nr, nb, ng);\n\tsolve(g, r, b, ng, nr, nb);\n\tsolve(g, b, r, ng, nb, nr);\n\tsolve(b, r, g, nb, nr, ng);\n\tsolve(b, g, r, nb, ng, nr);\n\tprintf(\"%lld\\n\", ans);\n\treturn;\n}\n\nsigned main()\n{\n\tint T;\n\tscanf(\"%d\", &T);\n\twhile(T--)\n\t\twork();\n\treturn 0;\n}\n```",
        "postTime": 1587010338,
        "uid": 286770,
        "name": "Andrewzdm",
        "ccfLevel": 7,
        "title": "CF1336B Xenia and Colorful Gems \u9898\u89e3"
    },
    {
        "content": "## $\\mathrm{D.Xenia\\ and \\ Colorful\\ Gems}$\n\n[$$\\huge\\color{blue}\\boxed{\\color{Violet}\\mathfrak{There\\ is \\ my \\ blog}}$$](https://www.luogu.com.cn/blog/wyy2020/)\n\n####  **\u9898\u76ee\u610f\u601d**\n* [D](https://www.luogu.com.cn/problem/CF1336B)\n\n####  $\\mathrm{Sol}$\n* \u4e00\u9053\u6bd4\u8f83\u7b80\u5355\u7684\u9898\u76ee\uff0c\u4f46\u662f\u6bd4\u8d5b\u65f6$fst$\u5566\uff0c\u8d5b\u540e\u4ed4\u7ec6\u60f3\u60f3\u5f00\u59cb\u60f3\u9519\u4e86\u3002\n*  \u6211\u4eec\u8003\u8651\u4e00\u4e2a\u7b80\u5355\u7684\u6027\u8d28\uff1a\u5c31\u662f\u5982\u679c\u9009\u4e86$A$\u4e2d\u7684\u4e00\u4e2a\u7403$x$\uff0c\u90a3\u4e48$B,C$\u4e2d\u60f3\u8ba9\u7b54\u6848\u5c0f\u662f\u4e0d\u662f\u53ea\u8981\u8bd5\u56fe\u53bb\u63a5\u8fd1\u4ed6\u5c31\u53ef\u4ee5\u4e86\u3002\u7136\u540e$B,C$\u540c\u7406\u3002\n* \u8fd9\u6837\u6211\u4eec\u5c31\u5bf9$A,B,C$\u5404\u81ea\u505a\u4e00\u904d\u3002\u7136\u540e\u627e\u5230\u5bf9\u5e94\u53e6\u5916\u4e24\u4e2a\u4e2d\u4e0e\u4ed6\u63a5\u8fd1\u7684\uff08\u5177\u4f53\u5730\u770b\u4ee3\u7801\u5427\n* \u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(k*n\\log n)$,$k$\u4e3a\u5e38\u6570\n\n####  $\\mathrm{Code}$\n```cpp\n#include <bits/stdc++.h>\n#define int long long \nusing namespace std;\n\ninline int read()\n{\n\tint sum=0,ff=1; char ch=getchar();\n\twhile(!isdigit(ch))\n\t{\n\t\tif(ch=='-') ff=-1;\n\t\tch=getchar();\n\t}\n\twhile(isdigit(ch))\n\t\tsum=sum*10+(ch^48),ch=getchar();\n\treturn sum*ff;\n}\n\nconst int N=1e5+5;\n\nint Q,na,nb,nc,ans;\nint a[N],b[N],c[N];\n\ninline int Calc(int x,int y,int z)\n{\n\treturn (x-y)*(x-y)+(z-x)*(z-x)+(y-z)*(y-z);\n}\n\nsigned main()\n{\n\tQ=read();\n\tfor (;Q--;)\n\t{\n\t\tna=read(),nb=read(),nc=read();\n\t\tfor ( int i=1;i<=na;i++ ) a[i]=read();\n\t\tfor ( int i=1;i<=nb;i++ ) b[i]=read();\n\t\tfor ( int i=1;i<=nc;i++ ) c[i]=read();\n\t\tsort(a+1,a+na+1);\n\t\tsort(b+1,b+nb+1);\n\t\tsort(c+1,c+nc+1);\n\t\tans=1e19;\n\t\tfor ( int i=1;i<=na;i++ )\n\t\t{\n\t\t\tint pb=upper_bound(b+1,b+nb+1,a[i])-b;//\u627e\u5230\u7b2c\u4e00\u4e2a\u6bd4\u5b83\u5927\u7684\n\t\t\tint pc=upper_bound(c+1,c+nc+1,a[i])-c;\n\t\t\tint pbb=pb-1,pcc=pc-1;//\u627e\u5230\u6700\u5927\u7684\u5c0f\u4e8e\u7b49\u4e8e\u8fd9\u4e2a\u7403\u7684\uff0c\u4e0b\u9762\u540c\u7406\n\t\t\tif(pb<=nb)\n\t\t\t{\n\t\t\t\tif(pc<=nc) ans=min(ans,Calc(a[i],b[pb],c[pc]));\n\t\t\t\tif(pcc>=1) ans=min(ans,Calc(a[i],b[pb],c[pcc]));\n\t\t\t}\n\t\t\tif(pbb>=1)\n\t\t\t{\n\t\t\t\tif(pc<=nc) ans=min(ans,Calc(a[i],b[pbb],c[pc]));\n\t\t\t\tif(pcc>=1) ans=min(ans,Calc(a[i],b[pbb],c[pcc]));\n\t\t\t}\n\t\t}\n\t\tfor ( int i=1;i<=nb;i++ )\n\t\t{\n\t\t\tint pa=upper_bound(a+1,a+na+1,b[i])-a;\n\t\t\tint pc=upper_bound(c+1,c+nc+1,b[i])-c;\n\t\t\tint paa=pa-1,pcc=pc-1;\n\t\t\tif(pa<=na)\n\t\t\t{\n\t\t\t\tif(pc<=nc) ans=min(ans,Calc(b[i],a[pa],c[pc]));\n\t\t\t\tif(pcc>=1) ans=min(ans,Calc(b[i],a[pa],c[pcc]));\n\t\t\t}\n\t\t\tif(paa>=1)\n\t\t\t{\n\t\t\t\tif(pc<=nc) ans=min(ans,Calc(b[i],a[paa],c[pc]));\n\t\t\t\tif(pcc>=1) ans=min(ans,Calc(b[i],a[paa],c[pcc]));\n\t\t\t}\n\t\t}\n\t\tfor ( int i=1;i<=nc;i++ )\n\t\t{\n\t\t\tint pb=upper_bound(b+1,b+nb+1,c[i])-b;\n\t\t\tint pa=upper_bound(a+1,a+na+1,c[i])-a;\n\t\t\tint pbb=pb-1,paa=pa-1;\n\t\t\tif(pb<=nb)\n\t\t\t{\n\t\t\t\tif(pa<=na) ans=min(ans,Calc(c[i],b[pb],a[pa]));\n\t\t\t\tif(paa>=1) ans=min(ans,Calc(c[i],b[pb],a[paa]));\n\t\t\t}\n\t\t\tif(pbb>=1)\n\t\t\t{\n\t\t\t\tif(pa<=na) ans=min(ans,Calc(c[i],b[pbb],a[pa]));\n\t\t\t\tif(paa>=1) ans=min(ans,Calc(c[i],b[pbb],a[paa]));\n\t\t\t}\n\t\t}\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1587005472,
        "uid": 308464,
        "name": "\u5947\u7c73",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1336B \u3010Xenia and Colorful Gems\u3011"
    },
    {
        "content": "\u6211\u4eec\u5047\u8bbe\u6700\u540e\u9009\u51fa\u7684\u7ea2\u7eff\u84dd\u5206\u522b\u4e3a $x,y,z$\u3002\n\n\u5148\u5bf9\u4e09\u4e2a\u6570\u7ec4\u6392\u5e8f\u3002\n\n\u5047\u8bbe $x\\leq y\\leq z$\n\n\u6211\u4eec\u6307\u9488\u626b\u4e00\u904d\uff0c\u6bcf\u6b21\u5bf9\u4e8e\u4e00\u4e2a $x$ \u627e\u5230\u6240\u6709\u5927\u4e8e\u7b49\u4e8e $x$ \u7684\u4f46\u5c0f\u4e8e $x$ \u7684\u4e0b\u4e00\u4e2a\u6570\u7684 $y$\uff0c\u518d\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u627e\u5230\u4e0b\u4e00\u4e2a\u5927\u4e8e\u7b49\u4e8e\u4ed6\u7684 $z$\u3002\n\n\u8fd9\u6837\u7684\u590d\u6742\u5ea6\u662f $O(r+g+b)$ \u7684\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u8003\u8651\u5b8c\u5168\uff0c\u56e0\u4e3a\u6700\u540e\u7684\u7b54\u6848\u4e0d\u4e00\u5b9a\u662f  $x\\leq y\\leq z$\u3002\n\n\u4f46\u662f\uff0c$x,y,z$ \u7684\u5927\u5c0f\u5173\u7cfb\u53ea\u6709\u516d\u79cd\uff0c\u6211\u4eec\u663e\u7136\u53ef\u4ee5\u679a\u4e3e\u3002\n\n\u53ef\u4ee5\u628a\u4e00\u6b21\u8ba1\u7b97\u653e\u5728\u51fd\u6570\u91cc\uff0c\u51cf\u5c0f\u4ee3\u7801\u91cf\u3002\n\n\u8bb0\u5f97\u628a\u7b54\u6848\u4e0a\u754c\u5f00\u7684\u8db3\u591f\u5927\uff0c\u5f00 long long \u4e0d\u7528\u8bf4\u4e86\uff08\u8981\u4e0d\u7136\u6837\u4f8b\u90fd\u8fc7\u4e0d\u4e86\uff09\u3002\n\n```cpp\n#include<cstdio>\n#include<queue>\n#include<algorithm>\n#include<iostream>\nusing namespace std;\n#define re register\n#define int long long\ninline int read(){\n\tre int t=0;re char v=getchar();\n\twhile(v<'0')v=getchar();\n\twhile(v>='0')t=(t<<3)+(t<<1)+v-48,v=getchar();\n\treturn t;\n}\ninline int sqr(re int x){\n\treturn x*x;\n}\ninline int calc(re int *a,re int* b,re int* c,re int ra,re int rb,re int rc){\n\tre int l=1,r=1,ans=6e18;a[ra+1]=1e18;\n\tfor(re int i=1;i<=ra;++i){\n\t\twhile(b[l]<a[i+1]&&l<=rb){\n\t\tif(l>rb)return ans;\n\t\twhile(c[r]<b[l]&&r<=rc)++r;if(r>rc)return ans;\n\t\tans=min(ans,sqr(a[i]-b[l])+sqr(a[i]-c[r])+sqr(b[l]-c[r]));++l;}\n\t}\n\t\n\treturn ans;\n}\nint t,n,m,a[100002],b[100002],c[100002],ra,rb,rc;\nsigned main(){\n\tt=read();\n\twhile(t--){\n\t\tra=read();rb=read();rc=read();\n\t\tfor(re int i=1;i<=ra;++i)a[i]=read();\n\t\tfor(re int i=1;i<=rb;++i)b[i]=read();\n\t\tfor(re int i=1;i<=rc;++i)c[i]=read();\n\t\tsort(a+1,a+ra+1);sort(b+1,b+rb+1);sort(c+1,c+rc+1);\n\t\tre int ans=6e18;\n\t\tans=min(ans,calc(a,b,c,ra,rb,rc));\n\t\tans=min(ans,calc(a,c,b,ra,rc,rb));\n\t\tans=min(ans,calc(b,a,c,rb,ra,rc));\n\t\tans=min(ans,calc(b,c,a,rb,rc,ra));\n\t\tans=min(ans,calc(c,a,b,rc,ra,rb));\n\t\tans=min(ans,calc(c,b,a,rc,rb,ra));\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n}\n```\n\n",
        "postTime": 1587002849,
        "uid": 41476,
        "name": "gyh20",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF1336B \u3010Xenia and Colorful Gems\u3011"
    },
    {
        "content": "\u6211\u4eec\u4f1a\u53d1\u73b0\u4e00\u4e2a\u5f88\u663e\u7136\u7684\u6027\u8d28\uff1a\u9009\u51fa\u7684 $3$ \u4e2a\u6570\u6570\u503c\u8d8a\u63a5\u8fd1\uff0c\u7b54\u6848\u5c31\u4f1a\u8d8a\u5c0f\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5148\u679a\u4e3e\u5176\u4e2d\u4e00\u4e2a\u6570\uff0c\u518d\u4ece\u53e6\u5916\u4e24\u4e2a\u6570\u7ec4\u4e2d\u4e8c\u5206\u627e\u5230\u4e0e\u5b83\u6700\u63a5\u8fd1\u7684\u4e24\u4e2a\u6570\uff0c\u8ba1\u7b97\u7b54\u6848\u53d6\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u7531\u4e8e\u4e8c\u5206\u9700\u8981\u5177\u6709\u5355\u8c03\u6027\uff0c\u6240\u4ee5\u8981\u8bb0\u5f97\u7ed9\u4e09\u4e2a\u6570\u7ec4\u6392\u5e8f\u3002\n\n\u4e3a\u4e86\u4fdd\u8bc1\u4e0d\u6f0f\u7b97\uff0c\u6700\u597d\u4e09\u4e2a\u6570\u7ec4\u90fd\u505a\u4e00\u904d\u3002\n\n\u590d\u6742\u5ea6 $O(n\\log_n)$\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\n#define pb push_back\nusing namespace std;\nconst int N = 200002;\nint n, m, l, r, p, t, k, ans, sum, tot, cnt, a[N], b[N], c[N], d[N], f[N], lst[N], pos, R, G, B;\ninline int read()\n{\n\tint x = 0, f = 1;\n\tchar ch = getchar();\n\twhile(ch < '0' || ch > '9')\n\t{\n\t\tif(ch == '-') f = -1;\n\t\tch = getchar();\n\t}\n\twhile('0' <= ch && ch <= '9')\n\t{\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}\n\treturn x * f;\n}\nint calc(int x, int y, int z)\n{\n\treturn (x - y) * (x - y) + (y - z) * (y - z) + (z - x) * (z - x);\n}\nsigned main()\n{\n\tint T = read();\n\twhile (T--)\n\t{\n\t\tR = read(); G = read(); B = read(); ans = 6e18;\n\t\tfor (int i = 1; i <= R; i++) a[i] = read();\n\t\tsort(a + 1, a + R + 1);\n\t\tfor (int i = 1; i <= G; i++) b[i] = read();\n\t\tsort(b + 1, b + G + 1);\n\t\tfor (int i = 1; i <= B; i++) c[i] = read();\n\t\tsort(c + 1, c + B + 1);\n\t\tfor (int i = 1; i <= R; i++)\n\t\t{\n\t\t\tt = lower_bound(b + 1, b + G + 1, a[i]) - b;\n\t\t\tp = lower_bound(c + 1, c + B + 1, a[i]) - c;\n\t\t\tif(t > G && p > B) { ans = min(ans, calc(a[i], b[t - 1], c[p - 1])); continue; }\n\t\t\tif(t > G) t--;\n\t\t\tif(p > B) p--;\n\t\t\tif(t == 1 && p == 1)  { ans = min(ans, calc(a[i], b[1], c[1])); continue; }\n\t\t\tif(t == 1) { ans = min(ans, min(calc(a[i], b[1], c[p - 1]), calc(a[i], b[1], c[p]))); continue; }\n\t\t\tif(p == 1) { ans = min(ans, min(calc(a[i], b[t - 1], c[p]), calc(a[i], b[t], c[p]))); continue; }\n\t\t\tans = min(ans, calc(a[i], b[t - 1], c[p - 1]));\n\t\t\tans = min(ans, calc(a[i], b[t - 1], c[p]));\n\t\t\tans = min(ans, calc(a[i], b[t], c[p - 1]));\n\t\t\tans = min(ans, calc(a[i], b[t], c[p]));\n\t\t}\n\t\tfor (int i = 1; i <= G; i++)\n\t\t{\n\t\t\tt = lower_bound(a + 1, a + R + 1, b[i]) - a;\n\t\t\tp = lower_bound(c + 1, c + B + 1, b[i]) - c;\n\t\t\tif(t > R && p > B) { ans = min(ans, calc(a[t - 1], b[i], c[p - 1])); continue; }\n\t\t\tif(t > R) t--;\n\t\t\tif(p > B) p--;\n\t\t\tif(t == 1 && p == 1)  { ans = min(ans, calc(a[1], b[i], c[1])); continue; }\n\t\t\tif(t == 1) { ans = min(ans, min(calc(a[1], b[i], c[p - 1]), calc(a[1], b[i], c[p]))); continue; }\n\t\t\tif(p == 1) { ans = min(ans, min(calc(a[t - 1], b[i], c[p]), calc(a[t], b[i], c[p]))); continue; }\n\t\t\tans = min(ans, calc(a[t - 1], b[i], c[p - 1]));\n\t\t\tans = min(ans, calc(a[t - 1], b[i], c[p]));\n\t\t\tans = min(ans, calc(a[t], b[i], c[p - 1]));\n\t\t\tans = min(ans, calc(a[t], b[i], c[p]));\n\t\t}\n\t\tfor (int i = 1; i <= B; i++)\n\t\t{\n\t\t\tt = lower_bound(b + 1, b + G + 1, c[i]) - b;\n\t\t\tp = lower_bound(a + 1, a + R + 1, c[i]) - a;\n\t\t\tif(t > G && p > R) { ans = min(ans, calc(a[p - 1], b[t - 1], c[i])); continue; }\n\t\t\tif(t > G) t--;\n\t\t\tif(p > R) p--;\n\t\t\tif(t == 1 && p == 1)  { ans = min(ans, calc(a[1], b[1], c[i])); continue; }\n\t\t\tif(t == 1) { ans = min(ans, min(calc(a[p - 1], b[1], c[i]), calc(a[p], b[1], c[i]))); continue; }\n\t\t\tif(p == 1) { ans = min(ans, min(calc(a[p], b[t - 1], c[i]), calc(a[p], b[t], c[i]))); continue; }\n\t\t\tans = min(ans, calc(a[p - 1], b[t - 1], c[i]));\n\t\t\tans = min(ans, calc(a[p], b[t - 1], c[i]));\n\t\t\tans = min(ans, calc(a[p - 1], b[t], c[i]));\n\t\t\tans = min(ans, calc(a[p], b[t], c[i]));\n\t\t}\n\t\tcout << ans << endl;\n\t}\n\treturn 0;\n}\n```\n\n\n",
        "postTime": 1634037058,
        "uid": 468175,
        "name": "_xbn",
        "ccfLevel": 0,
        "title": "CF1336B Xenia and Colorful Gems"
    },
    {
        "content": "### \u9898\u76ee\u5927\u610f\n\n\u4f60\u6709$3$\u4e2a\u6570\u7ec4\uff0c\u5206\u522b\u662f$\\texttt{r, g, b}$\uff0c\u957f\u5ea6\u5206\u522b\u662f$n_r, n_b, n_g$\n\n\u4f60\u9700\u8981\u5728\u8fd9\u4e09\u4e2a\u6570\u7ec4\u4e2d\u9009\u62e9\u4e00\u4e2a\u6570\uff0c\u8bbe\u4f60\u9009\u62e9\u7684\u4e09\u4e2a\u6570\u4e3a$x, y, z$\uff0c\u5219\u4f60\u8981\u4f7f$(x-y)^2+(y-z)^2+(z-x)^2$\u6700\u5c0f\n\n\u591a\u7ec4\u6570\u636e\uff0c$1 \\leq n_r, n_b, n_g \\leq 10^5$\uff0c\u503c\u57df$1 \\leq r_i, b_i, g_i \\leq 10^9$\n\n### \u5206\u6790\n\n\u9996\u5148\u6211\u4eec\u8003\u8651\u679a\u4e3e\u5176\u4e2d\u4e00\u4e2a\u6570\uff0c\u5047\u8bbe\u6211\u4eec\u679a\u4e3e\u7684\u662f$r$\u6570\u7ec4\u3002\n\n\u5bf9\u4e8e\u4e00\u4e2a\u6570$x$\uff0c\u5728\u67d0\u4e00\u4e2a\u6570\u7ec4\uff08\u5047\u8bbe\u662f$z$\uff09\u6ee1\u8db3$(x-y)^2$\u6700\u5c0f\u7684$y$\u4e00\u5b9a\u662f$x$\u5728$z$\u5185\u7684\u524d\u9a71\u6216\u540e\u7ee7\u3002\n\n\u4e8e\u662f\u5bf9\u4e8e\u6bcf\u4e00\u4e2a$r_i$\uff0c\u6211\u4eec\u627e\u5230$r_i$\u5728$g$\u4e2d\u7684\u524d\u9a71\u548c\u540e\u7ee7\uff0c\u8bb0\u4e3a$gr_0, gr_1$\uff0c\u518d\u627e\u5230$gr_0, gr_1$\u5728$b$\u91cc\u7684\u524d\u9a71\u540e\u7ee7\uff0c\u8bb0\u4e3a$bl_0, bl_1, bl_2, bl_3$\uff0c\u90a3\u4e48\u7b54\u6848\u5c31\u5728$f(r_i, gr_0, bl_0), f(r_i, gr_0, bl_1), \\cdots, f(r_i, gr_1, bl_3)$\u4e2d\u3002\uff08\u5176\u4e2d$f(x, y, z)$\u8868\u793a$1 \\leq n_r, n_b, n_g \\leq 10^5$\uff09\n\n\u4f46\u662f\u8fd9\u79cd\u53ef\u80fd\u4f1a\u6709\u7f3a\u6f0f\uff0c \u6211\u4eec\u53ef\u80fd\u6f0f\u6389\u4e86\u67d0\u4e9b\u60c5\u51b5\uff0c\u4f8b\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\n\n``` plain\n1\n2 2 2\n1 2\n3 4\n6 7\n```\n\n\u3002\u6211\u4eec\u4f1a\u9009\u62e9$2, 3, 6$\u800c\u6b63\u786e\u7b54\u6848\u5e94\u8be5\u662f$2, 4, 6$\u3002\n\n\u4e8e\u662f\uff0c\u6211\u4eec\u8003\u8651\u5bf9$r, g, b$\u90fd\u505a\u4e00\u904d\u4e0a\u9762\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u5c31\u80fd\u5f97\u5230\u6b63\u786e\u7684\u7b54\u6848\u4e86\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6$\\mathcal{O}(n \\log n)$\n\n### \u4ee3\u7801\n\n``` cpp\n#include <bits/stdc++.h>\n\n#define ll long long\n#define sum(a, b, mod) (((a) + (b)) % mod)\n\nconst int Max = 2e9;\nconst int Min = -1e9;\nconst int MaxN = 2e5 + 10;\n\nll n, m, k, ans;\nstd::set<ll> R, G, B;\nll r[MaxN], g[MaxN], b[MaxN];\n\nll sqr(ll x) { return x * x; }\n\nll sub(ll x, std::set<ll> &y)\n{\n    if (x == 2000000000) return x;\n    return *y.upper_bound(x);\n}\n\nll pre(ll x, std::set<ll> &y)\n{\n    ll res = *y.lower_bound(x);\n    if (x == -1000000000) return x;\n    if (res > x) res = *(--y.lower_bound(x));\n    return res;\n}\n\nvoid init()\n{\n    ans = 0x7f7f7f7f7f7f7f7fll;\n    R.clear(), R.insert(-1e9), R.insert(2e9);\n    G.clear(), G.insert(-1e9), G.insert(2e9);\n    B.clear(), B.insert(-1e9), B.insert(2e9);\n}\n\nint main()\n{\n    int T;\n    scanf(\"%d\", &T);\n    while (T--)\n    {\n        init();\n        scanf(\"%lld%lld%lld\", &n, &m, &k);\n        for (int i = 1; i <= n; i++)\n            scanf(\"%lld\", &r[i]), R.insert(r[i]);\n        for (int i = 1; i <= m; i++)\n            scanf(\"%lld\", &g[i]), G.insert(g[i]);\n        for (int i = 1; i <= k; i++)\n            scanf(\"%lld\", &b[i]), B.insert(b[i]);\n        for (int i = 1; i <= n; i++)\n        {\n            ll gr[2] = {}, bl[4] = {};\n            gr[0] = pre(r[i], G), gr[1] = sub(r[i], G);\n            bl[0] = pre(gr[0], B), bl[1] = sub(gr[0], B);\n            bl[2] = pre(gr[1], B), bl[3] = sub(gr[1], B);\n            for (int j = 0; j < 2; j++)\n            {\n                for (int l = 0; l < 4; l++)\n                    if (gr[j] != Max && gr[j] != Min && bl[l] != Max && bl[l] != Min)\n                        ans = std::min(ans, sqr(r[i] - gr[j]) + sqr(gr[j] - bl[l]) + sqr(bl[l] - r[i]));\n            }\n        }\n        for (int i = 1; i <= m; i++)\n        {\n            ll gr[2] = {}, bl[4] = {};\n            gr[0] = pre(g[i], R), gr[1] = sub(g[i], R);\n            bl[0] = pre(gr[0], B), bl[1] = sub(gr[0], B);\n            bl[2] = pre(gr[1], B), bl[3] = sub(gr[1], B);\n            for (int j = 0; j < 2; j++)\n            {\n                for (int l = 0; l < 4; l++)\n                    if (gr[j] != Max && gr[j] != Min && bl[l] != Max && bl[l] != Min)\n                        ans = std::min(ans, sqr(g[i] - gr[j]) + sqr(gr[j] - bl[l]) + sqr(bl[l] - g[i]));\n            }\n        }\n        for (int i = 1; i <= k; i++)\n        {\n            ll gr[2] = {}, bl[4] = {};\n            gr[0] = pre(b[i], R), gr[1] = sub(b[i], R);\n            bl[0] = pre(gr[0], G), bl[1] = sub(gr[0], G);\n            bl[2] = pre(gr[1], G), bl[3] = sub(gr[1], G);\n            for (int j = 0; j < 2; j++)\n            {\n                for (int l = 0; l < 4; l++)\n                    if (gr[j] != Max && gr[j] != Min && bl[l] != Max && bl[l] != Min)\n                        ans = std::min(ans, sqr(b[i] - gr[j]) + sqr(gr[j] - bl[l]) + sqr(bl[l] - b[i]));\n            }\n        }\n        printf(\"%lld\\n\", ans);\n    }\n    return 0;\n}\n```\n\n\n\n",
        "postTime": 1587007845,
        "uid": 61966,
        "name": "little_sun",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1336B \u3010Xenia and Colorful Gems\u3011"
    },
    {
        "content": "\u601d\u8def\u975e\u5e38\u7b80\u5355\uff0c\u4f46\u662f\u5b9e\u73b0\u7565\u590d\u6742\u3002\n\n## \u601d\u8def\n\u5728\u4e09\u4e2a\u6570\uff1a$x,y,z$ \u4e2d\uff0c\u6211\u4eec\u4e0d\u59a8\u8bbe $x \\le y \\le z$ \u6216 $z \\le y \\le x$\u3002\u6211\u4eec\u628a\u4e09\u4e2a\u5e8f\u5217**\u4ece\u5de6\u5f80\u53f3\u626b\u4e00\u904d**\uff0c\u679a\u4e3e\u6bcf\u4e2a\u6570\u4f5c\u4e3a $y$ \u65f6\u7684\u7b54\u6848\uff0c\u6211\u4eec\u53d1\u73b0\u8fd9\u65f6\u6709**\u4e24\u79cd\u60c5\u51b5**\uff0c**\u4e00\u79cd\u662f $x<z$\uff0c\u4e00\u79cd\u662f $x>z$\uff0c\u6211\u4eec\u5206\u522b\u8ba1\u7b97**\uff0c\u6700\u540e\u6240\u6709\u7b54\u6848\u53d6**\u6700\u5c0f\u503c**\u5373\u53ef\u3002\n\n\u5f53\u6211\u4eec\u786e\u5b9a $y$ \u65f6\uff0c\u53ef\u4ee5\u5728\u53e6\u5916\u4e24\u4e2a\u6570\u5217\u4e2d\u5206\u522b\u4e8c\u5206\u67e5\u627e\u7b2c\u4e00\u4e2a\u5c0f\u4e8e\u7b49\u4e8e $y$ \u7684\u6570\u548c\u7b2c\u4e00\u4e2a\u5927\u4e8e\u7b49\u4e8e $y$ \u7684\u6570\uff0c\u5c31\u53ef\u4ee5\u8ba1\u7b97\u7b54\u6848\u3002\n## \u5197\u957f\u7684\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define rint register int\nint const N=1e5+10;\nint r[N],g[N],b[N];\nsigned main(){\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\tcout.tie(0);\n    int t;cin>>t;\n    while (t--){\n    \tint nr,ng,nb,ans=9e18;\n    \tmemset(r,0,sizeof(r));\n    \tmemset(g,0,sizeof(g));\n    \tmemset(b,0,sizeof(b));//\u4e00\u5b9a\u8981\u6e05\u7a7a\uff0c\u4e0d\u7136\u4f1a\u7b54\u6848\u9519\u8bef\n\t\tcin>>nr>>ng>>nb;\n    \tfor (rint i=1;i<=nr;++i) cin>>r[i];\n    \tsort(r+1,r+nr+1);//\u6392\u5e8f\u540e\u624d\u53ef\u4ee5\u4f7f\u7528 lower_bound \u51fd\u6570\n    \tfor (rint i=1;i<=ng;++i) cin>>g[i];\n    \tsort(g+1,g+ng+1);\n    \tfor (rint i=1;i<=nb;++i) cin>>b[i];\n    \tsort(b+1,b+nb+1);\n        for (rint i=1;i<=nr;++i){\n        \tint f=lower_bound(g+1,g+ng+1,r[i])-g,l=lower_bound(b+1,b+nb+1,r[i])-b;\n\t\t    int xf=f,xl=l;\n\t\t    if (g[f]!=r[i] && f!=1) --f;\n\t\t    ans=min(ans,(r[i]-g[f])*(r[i]-g[f])+(b[l]-r[i])*(b[l]-r[i])+(b[l]-g[f])*(b[l]-g[f]));//\u7b2c\u4e00\u79cd\u60c5\u51b5\n\t\t    if (b[xl]!=r[i] && xl!=1) --xl;\n\t\t    f=xf,l=xl;\n\t\t    ans=min(ans,(r[i]-g[f])*(r[i]-g[f])+(b[l]-r[i])*(b[l]-r[i])+(b[l]-g[f])*(b[l]-g[f]));//\u7b2c\u4e8c\u79cd\u60c5\u51b5\n\t\t}\n\t\tfor (rint i=1;i<=ng;++i){\n\t\t\tint f=lower_bound(r+1,r+nr+1,g[i])-r,l=lower_bound(b+1,b+nb+1,g[i])-b;\n\t\t    int xf=f,xl=l;\n\t\t    if (r[f]!=g[i] && f!=1) --f;\n\t\t    ans=min(ans,(r[f]-g[i])*(r[f]-g[i])+(b[l]-r[f])*(b[l]-r[f])+(b[l]-g[i])*(b[l]-g[i]));\n\t\t    if (b[xl]!=g[i] && xl!=1) --xl;\n\t\t    f=xf,l=xl;\n\t\t    ans=min(ans,(r[f]-g[i])*(r[f]-g[i])+(b[l]-r[f])*(b[l]-r[f])+(b[l]-g[i])*(b[l]-g[i]));\n\t\t}\n\t\tfor (rint i=1;i<=nb;++i){\n\t\t\tint f=lower_bound(r+1,r+nr+1,b[i])-r,l=lower_bound(g+1,g+ng+1,b[i])-g;\n\t\t    int xf=f,xl=l;\n\t\t    if (r[f]!=b[i] && f!=1) --f;\n\t\t    ans=min(ans,(r[f]-g[l])*(r[f]-g[l])+(b[i]-r[f])*(b[i]-r[f])+(b[i]-g[l])*(b[i]-g[l]));\n\t\t    if (b[i]!=g[xl] && xl!=1) --xl;\n\t\t    f=xf,l=xl;\n\t\t    ans=min(ans,(r[f]-g[l])*(r[f]-g[l])+(b[i]-r[f])*(b[i]-r[f])+(b[i]-g[l])*(b[i]-g[l]));\n\t\t}\n\t\tcout<<ans<<'\\n';\n\t}\n    return 0;\n}\n```\n",
        "postTime": 1655213363,
        "uid": 253608,
        "name": "Tx_Lcy",
        "ccfLevel": 7,
        "title": "CF1336B Xenia and Colorful Gems"
    },
    {
        "content": "# CF1336B \u3010Xenia and Colorful Gems\u3011\n\n\u9996\u5148\u9898\u610f\u5f88\u7b80\u5355\u8bf7\u89c1[\u7ffb\u8bd1\u91cc\u9762](https://www.luogu.com.cn/problem/CF1336B)\u3002\n\n\u7136\u540e\u4ece\u6570\u636e\u8303\u56f4\u4e2d\u53ef\u4ee5\u770b\u51fa\n\n$ n_{r} \\leq 10^5,n_{g} \\leq 10^5,n_{b} \\leq 10^5  $\n\n\u6240\u4ee5\u590d\u6742\u5ea6\u5f97\u63a7\u5236\u5728 $ O( n \\log n)$\u4e14\u6700\u591a\u4e58\u4ee5\u5e38\u6570\n\n\u4e8e\u662f\u6211\u4eec\u8003\u8651\u4e8c\u5206\n\n### \u8fc7\u7a0b\n\u5bf9\u4e8e\u6bcf\u4e2a\u6570\u7ec4\u91cc\u7684\u6bcf\u4e2a\u6570 base\uff0c\u53ef\u4ee5\u5728\u53e6\u5916\u4e24\u4e2a\u6570\u7ec4\u91cc\u9762\u5206\u522b\u5bfb\u627e\u6700\u63a5\u8fd1\u5b83\u7684\u4e24\u4e2a\u6570\u3002\u4e3a\u4e86\u65b9\u4fbf\u67e5\u627e\uff0c\u65e2\u4fdd\u8bc1\u67e5\u627e\u8fc7\u7a0b\u5355\u8c03\uff0c\u9700\u8981\u63d0\u524d\u7ed9\u4e09\u4e2a\u6570\u7ec4 r,g,b \u6392\u5e8f\uff0c\u590d\u6742\u5ea6 $ O(n \\log n)$\u3002\u8bbe\u7b2c\u4e00\u4e2a\u6570\u7ec4\u91cc\u627e\u5230\u7684\u6700\u63a5\u8fd1 base \u7684\u4e24\u4e2a\u6570\u662f t1,t2 \u7b2c\u4e8c\u4e2a\u6570\u7ec4\u91cc\u6700\u63a5\u8fd1 base \u7684\u662f s1,s2 \u3002\u5982\u679c ti \u548c si \u90fd\u771f\u5b9e\u5b58\u5728\u4e14\u5408\u6cd5\uff0c\u5e76\u4e14\n\n$ (base-si)^2 +(base-ti)^2+(ti-si)^2 \\leq ans$\n\n\u90a3\u4e48\u6211\u4eec\u6211\u4eec\u66f4\u65b0 ans \u3002\n\n### \u7ec6\u8282\n\n**\u6b64\u90e8\u5206\u975e\u5e38\u91cd\u8981\uff01\uff01\uff01**\n\n- \u6ce8\u610f\u4e8c\u5206\u7ed3\u675f\u540e\u7684\u4e0a\u754c rt \u548c\u4e0b\u754c lf\uff0c\u6bd4\u5982\u4ee5\u4e0b\u7684\u6837\u4f8b\u4e2d\u4f60\u5c31\u4f1a\u53d1\u73b0\u5bf9\u4e8e base=5 \u7684\u65f6\u5019\uff0c\u4e8c\u5206\u7b2c\u4e00\u4e2a\u6570\u7ec4\u53ef\u80fd\u4f1a\u51fa\u73b0 lf \u6216\u8005 rt \u8d8a\u754c\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u4f60\u7684\u4ee3\u7801\uff1a\n\t```cpp\n\t1\n\t3 3 3\n\t1 2 3\n\t4 5 6\n\t7 8 9\n\t```\n- \u6ce8\u610f\u6bcf\u6b21\u8fdb\u884c\u5b8c\u4e00\u4e2a\u6d4b\u8bd5\u6570\u636e\uff0c\u65e2\u4e0b\u9762\u4ee3\u7801\u91cc\u9762 t-- \u7684\u65f6\u5019\u52a1\u5fc5\u8981\u521d\u59cb\u5316\u6240\u6709\u7684\u6570\u7ec4\u907f\u514d\u5e72\u6270\n- \u4e00\u5b9a\u8981\u628aans\u521d\u59cb\u5316\u6210 $2^{63}-1$\uff0c\u56e0\u4e3a~~\u4f60\u54ea\u91cc\u77e5\u9053\u51fa\u9898\u4eba\u6709\u591a\u5751\u5462~~\n## code\n\n```\n#include <cstdio>\n#include <algorithm>\n#define ll long long\nusing namespace std;\nll rn,gn,bn,t,t1,t2,s1,s2,lstmid=-1;\nlong long ans;\nll lf,rt,mid;\nll r[100001],b[100001],g[100001];\nvoid part(ll sz[],ll base,ll size){\n\tlf=1,rt=size,lstmid=-1;\n\twhile(lf<=rt){\n\t\tmid=(lf+rt)>>1;\n\t\tif(sz[mid]==base){\n\t\t\tt1=sz[mid];\n\t\t\tt2=sz[mid+1];\n\t\t\tgoto tagg;\n\t\t}\n\t\tif(sz[mid]>base)\n\t\t\trt=mid-1;\n\t\telse\n\t\t\tlf=mid+1;\n\t}\n\tif(lf>size)\n\t\tlf-=1;\n\tif(lf<=0)\n\t\tlf+=1;\n\t\tif(sz[lf]>base){\n\t\t\tt2=sz[lf];\n\t\t\tt1=sz[lf-1];\n\t\t}\n\t\telse{\n\t\t\tt2=sz[lf+1];\n\t\t\tt1=sz[lf];\n\t\t}\n\ttagg:;\n\treturn;\n}\nvoid part1(ll sz[],ll base,ll size){\n\tlf=1,rt=size;\n\twhile(lf<=rt){\n\t\tmid=(lf+rt)>>1;\n\t\tif(sz[mid]==base){\n\t\t\ts1=sz[mid];\n\t\t\ts2=sz[mid+1];\n\t\t\tgoto tag;\n\t\t}\n\t\tif(sz[mid]>base)\n\t\t\trt=mid-1;\n\t\telse\n\t\t\tlf=mid+1;\n\t}\n\tif(lf<=0)\n\t\tlf+=1;\n\tif(lf>size)\n\t\tlf-=1;\n\t\tif(sz[lf]>base){\n\t\t\ts2=sz[lf];\n\t\t\ts1=sz[lf-1];\n\t\t}\n\t\telse{\n\t\t\ts2=sz[lf+1];\n\t\t\ts1=sz[lf];\n\t\t}\n\ttag:;\n\treturn;\n}\nint main(){\n\tscanf(\"%lld\",&t);\n\twhile(t--){\n\t\tans=(1<<30);\n\t\tans=ans*ans;\n\t\tans=ans*4;\n\t\tans+=(ans-1);\n\t\tscanf(\"%lld%lld%lld\",&rn,&gn,&bn);\n\t\tfor(int i=1;i<=rn;i++){\n\t\t\tscanf(\"%lld\",&r[i]);\n\t\t}\n\t\tfor(int i=1;i<=gn;i++){\n\t\t\tscanf(\"%lld\",&g[i]);\n\t\t}\n\t\tfor(int i=1;i<=bn;i++){\n\t\t\tscanf(\"%lld\",&b[i]);\n\t\t}\n\t\tsort(r+1,r+1+rn);\n\t\tsort(g+1,g+1+gn);\n\t\tsort(b+1,b+1+bn);\n\t\tfor(int i=1;i<=rn;i++){\n\t\t\tt1=t2=s1=s2=0;\n\t\t\tpart(g,r[i],gn);\n\t\t\tpart1(b,r[i],bn);\n\t\t\tif(t1){\n\t\t\t\tif(s1)\n\t\t\t\tans=min(ans,(t1-r[i])*(t1-r[i])+(s1-r[i])*(s1-r[i])+(t1-s1)*(t1-s1));\n\t\t\t\tif(s2)\n\t\t\t\tans=min(ans,(t1-r[i])*(t1-r[i])+(s2-r[i])*(s2-r[i])+(t1-s2)*(t1-s2));\n\t\t\t}\n\t\t\tif(t2){\n\t\t\t\tif(s1)\n\t\t\t\tans=min(ans,(t2-r[i])*(t2-r[i])+(s1-r[i])*(s1-r[i])+(t2-s1)*(t2-s1));\n\t\t\t\tif(s2)\n\t\t\t\tans=min(ans,(t2-r[i])*(t2-r[i])+(s2-r[i])*(s2-r[i])+(t2-s2)*(t2-s2));\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<=gn;i++){\n\t\t\tt1=t2=s1=s2=0;\n\t\t\tpart(r,g[i],rn);\n\t\t\tpart1(b,g[i],bn);\n\t\t\tif(t1){\n\t\t\t\tif(s1)\n\t\t\t\tans=min(ans,(t1-g[i])*(t1-g[i])+(s1-g[i])*(s1-g[i])+(t1-s1)*(t1-s1));\n\t\t\t\tif(s2)\n\t\t\t\tans=min(ans,(t1-g[i])*(t1-g[i])+(s2-g[i])*(s2-g[i])+(t1-s2)*(t1-s2));\n\t\t\t}\n\t\t\tif(t2){\n\t\t\t\tif(s1)\n\t\t\t\tans=min(ans,(t2-g[i])*(t2-g[i])+(s1-g[i])*(s1-g[i])+(t2-s1)*(t2-s1));\n\t\t\t\tif(s2)\n\t\t\t\tans=min(ans,(t2-g[i])*(t2-g[i])+(s2-g[i])*(s2-g[i])+(t2-s2)*(t2-s2));\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<=bn;i++){\n\t\t\tt1=t2=s1=s2=0;\n\t\t\tpart(r,b[i],rn);\n\t\t\tpart1(g,b[i],gn);\n\t\t\tif(t1){\n\t\t\t\tif(s1)\n\t\t\t\tans=min(ans,(t1-b[i])*(t1-b[i])+(s1-b[i])*(s1-b[i])+(t1-s1)*(t1-s1));\n\t\t\t\tif(s2)\n\t\t\t\tans=min(ans,(t1-b[i])*(t1-b[i])+(s2-b[i])*(s2-b[i])+(t1-s2)*(t1-s2));\n\t\t\t}\n\t\t\tif(t2){\n\t\t\t\tif(s1)\n\t\t\t\tans=min(ans,(t2-b[i])*(t2-b[i])+(s1-b[i])*(s1-b[i])+(t2-s1)*(t2-s1));\n\t\t\t\tif(s2)\n\t\t\t\tans=min(ans,(t2-b[i])*(t2-b[i])+(s2-b[i])*(s2-b[i])+(t2-s2)*(t2-s2));\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tprintf(\"%lld\\n\",ans);\n\t\tfor(int i=1;i<=rn;i++)\n\t\t\tr[i]=0;\n\t\tfor(int i=1;i<=gn;i++)\n\t\t\tg[i]=0;\n\t\tfor(int i=1;i<=bn;i++)\n\t\t\tb[i]=0;\n\t}\n\t\n\treturn 0;\n}\n```\n",
        "postTime": 1587257709,
        "uid": 104466,
        "name": "konnyaku_cstdio",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1336B \u3010Xenia and Colorful Gems\u3011"
    },
    {
        "content": "\u5927\u6982\u662f\u8d5b\u65f6\u79d2\u4e86\u8fd9\u9898\uff0c\u4f46\u662f\u7ed3\u8bba\u6ca1\u600e\u4e48\u597d\u597d\u8bc1\u660e\u3002\n\n\u4f60\u8003\u8651\u4f60\u9009\u4e86\u4e00\u4e2a $a$\uff0c\u90a3\u4e48\u4f60\u6700\u5927\u7684\u4e00\u5b9a\u4f1a\u662f $b,c$ \u4e00\u5b9a\u662f\u5728\u6bd4 $a$ \u5c0f\u7684\u6700\u5927\u7684\u90a3\u4e2a\u548c\u6bd4 $a$ \u5927\u7684\u6700\u5c0f\u7684\u90a3\u4e2a\uff0c\u7136\u540e\u66f4\u65b0\u56db\u6b21\u3002\n\n\u7136\u540e\u6211\u4eec\u53d1\u73b0\u8fd9\u6837\u7684\u8d2a\u5fc3\u662f\u6bd4\u8f83\u6b63\u786e\u7684\uff0c\u4f46\u662f\u4f60\u6709\u7684 $b$ \u548c\u6709\u7684 $c$ \u6ca1\u6709\u679a\u4e3e\u5230\uff0c\u4e3a\u4e86\u907f\u514d\u6ca1\u6709\u9009\u5230\u7684 $b/c$ \u662f\u6b63\u786e\u70b9\n~~\uff08\u5176\u5b9e\u662f\u6211\u5199\u5b8c\u4e4b\u540e\u53d1\u73b0\u6709\u4e2a\u6837\u4f8b\u6ca1\u5bf9\uff09~~\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u5bf9 $b$ \u548c $c$ \u91cd\u590d $a$ \u7684\u8fd9\u4e2a\u64cd\u4f5c\uff0c\u5c31\u53ef\u4ee5\u8fc7\u4e86.jpg\n\n\u7ec6\u8282\u5199\u7684\u6bd4\u8f83\u591a\u2026\u81ea\u95ed\u4e86\u3002\n\n```cpp\n// powered by c++11\n// by Isaunoya\n#include <bits/stdc++.h>\n\n#define rep(i, x, y) for (register int i = (x); i <= (y); ++i)\n#define Rep(i, x, y) for (register int i = (x); i >= (y); --i)\n\nusing namespace std;\nusing db = double;\nusing ll = long long;\nusing uint = unsigned int;\nusing ull = unsigned long long;\n\n#define pii pair<int, int>\n#define fir first\n#define sec second\n\ntemplate <class T>\n\nvoid cmax(T& x, const T& y) {\n  if (x < y) x = y;\n}\n\ntemplate <class T>\n\nvoid cmin(T& x, const T& y) {\n  if (x > y) x = y;\n}\n\n#define all(v) v.begin(), v.end()\n#define sz(v) ((int)v.size())\n#define pb emplace_back\n\ntemplate <class T>\n\nvoid sort(vector<T>& v) {\n  sort(all(v));\n}\n\ntemplate <class T>\n\nvoid reverse(vector<T>& v) {\n  reverse(all(v));\n}\n\ntemplate <class T>\n\nvoid unique(vector<T>& v) {\n  sort(all(v)), v.erase(unique(all(v)), v.end());\n}\n\nvoid reverse(string& s) { reverse(s.begin(), s.end()); }\n\nconst int io_size = 1 << 23 | 233;\nconst int io_limit = 1 << 22;\nstruct io_in {\n  char ch;\n#ifndef __WIN64\n  char getchar() {\n    static char buf[io_size], *p1 = buf, *p2 = buf;\n\n    return (p1 == p2) && (p2 = (p1 = buf) + fread(buf, 1, io_size, stdin), p1 == p2) ? EOF : *p1++;\n  }\n#endif\n  io_in& operator>>(char& c) {\n    for (c = getchar(); isspace(c); c = getchar());\n\n    return *this;\n  }\n  io_in& operator>>(string& s) {\n    for (s.clear(); isspace(ch = getchar());)\n      ;\n\n    if (!~ch) return *this;\n\n    for (s = ch; !isspace(ch = getchar()) && ~ch; s += ch)\n      ;\n\n    return *this;\n  }\n\n  io_in& operator>>(char* str) {\n    char* cur = str;\n    while (*cur) *cur++ = 0;\n\n    for (cur = str; isspace(ch = getchar());)\n      ;\n    if (!~ch) return *this;\n\n    for (*cur = ch; !isspace(ch = getchar()) && ~ch; *++cur = ch)\n      ;\n\n    return *++cur = 0, *this;\n  }\n\n  template <class T>\n\n  void read(T& x) {\n    bool f = 0;\n    while ((ch = getchar()) < 48 && ~ch) f ^= (ch == 45);\n\n    x = ~ch ? (ch ^ 48) : 0;\n    while ((ch = getchar()) > 47) x = x * 10 + (ch ^ 48);\n    x = f ? -x : x;\n  }\n\n  io_in& operator>>(int& x) { return read(x), *this; }\n\n  io_in& operator>>(ll& x) { return read(x), *this; }\n\n  io_in& operator>>(uint& x) { return read(x), *this; }\n\n  io_in& operator>>(ull& x) { return read(x), *this; }\n\n  io_in& operator>>(db& x) {\n    read(x);\n    bool f = x < 0;\n    x = f ? -x : x;\n    if (ch ^ '.') return *this;\n\n    double d = 0.1;\n    while ((ch = getchar()) > 47) x += d * (ch ^ 48), d *= .1;\n    return x = f ? -x : x, *this;\n  }\n} in;\n\nstruct io_out {\n  char buf[io_size], *s = buf;\n  int pw[233], st[233];\n\n  io_out() {\n    set(7);\n    rep(i, pw[0] = 1, 9) pw[i] = pw[i - 1] * 10;\n  }\n\n  ~io_out() { flush(); }\n\n  void io_chk() {\n    if (s - buf > io_limit) flush();\n  }\n\n  void flush() { fwrite(buf, 1, s - buf, stdout), fflush(stdout), s = buf; }\n\n  io_out& operator<<(char c) { return *s++ = c, *this; }\n\n  io_out& operator<<(string str) {\n    for (char c : str) *s++ = c;\n    return io_chk(), *this;\n  }\n\n  io_out& operator<<(char* str) {\n    char* cur = str;\n    while (*cur) *s++ = *cur++;\n    return io_chk(), *this;\n  }\n\n  template <class T>\n\n  void write(T x) {\n    if (x < 0) *s++ = '-', x = -x;\n\n    do {\n      st[++st[0]] = x % 10, x /= 10;\n    } while (x);\n\n    while (st[0]) *s++ = st[st[0]--] ^ 48;\n  }\n\n  io_out& operator<<(int x) { return write(x), io_chk(), *this; }\n\n  io_out& operator<<(ll x) { return write(x), io_chk(), *this; }\n\n  io_out& operator<<(uint x) { return write(x), io_chk(), *this; }\n\n  io_out& operator<<(ull x) { return write(x), io_chk(), *this; }\n\n  int len, lft, rig;\n\n  void set(int _length) { len = _length; }\n\n  io_out& operator<<(db x) {\n    bool f = x < 0;\n    x = f ? -x : x, lft = x, rig = 1. * (x - lft) * pw[len];\n    return write(f ? -lft : lft), *s++ = '.', write(rig), io_chk(), *this;\n  }\n} out;\n#define int long long\n\ntemplate <int sz, int mod>\n\nstruct math_t {\n\tmath_t() {\n    fac.resize(sz + 1), ifac.resize(sz + 1);\n    rep(i, fac[0] = 1, sz) fac[i] = fac[i - 1] * i % mod;\n\n    ifac[sz] = inv(fac[sz]);\n    Rep(i, sz - 1, 0) ifac[i] = ifac[i + 1] * (i + 1) % mod;\n  }\n\n  vector<int> fac, ifac;\n\n  int qpow(int x, int y) {\n    int ans = 1;\n    for (; y; y >>= 1, x = x * x % mod)\n      if (y & 1) ans = ans * x % mod;\n    return ans;\n  }\n\n  int inv(int x) { return qpow(x, mod - 2); }\n\n  int C(int n, int m) {\n    if (n < 0 || m < 0 || n < m) return 0;\n    return fac[n] * ifac[m] % mod * ifac[n - m] % mod;\n  }\n};\n\nint gcd(int x, int y) { return !y ? x : gcd(y, x % y); }\nint lcm(int x, int y) { return x * y / gcd(x, y); }\n\nconst int inf = 2e9;\nsigned main() {\n  // code begin.\n\tint _;\n\tin >> _;\n\twhile(_ --) {\n\t\tset < int > a , b , c;\n\t\tint n1, n2, n3;\n\t\tin >> n1 >> n2 >> n3;\n\t\ta.insert(-inf), b.insert(-inf), c.insert(-inf);\n\t\tfor(int i = 0 ; i < n1 ; i ++) {\n\t\t\tint x;\n\t\t\tin >> x;\n\t\t\ta.insert(x);\n\t\t}\n\t\tfor(int i = 0 ; i < n2 ; i ++) {\n\t\t\tint x;\n\t\t\tin >> x;\n\t\t\tb.insert(x);\n\t\t}\n\t\tfor(int i = 0 ; i < n3 ; i ++) {\n\t\t\tint x;\n\t\t\tin >> x;\n\t\t\tc.insert(x);\n\t\t}\n\t\ta.insert(inf), b.insert(inf), c.insert(inf);\n\t\tint mn = 9e18;\n\t\tfor(int x : a){\n\t\t\tif(x == inf || x == -inf) continue;\n\t\t\tauto it = b.upper_bound(x);\n\t\t\tauto it2 = it; -- it;\n\t\t\tauto it3 = c.upper_bound(x);\n\t\t\tauto it4 = it3; -- it3;\n\t\t\tif(*it != inf && *it3 != inf) \n\t\t\tif(*it != -inf && *it3 != -inf)\n\t\t\t\tcmin(mn, (x - *it) * (x - *it) + (x - *it3) * (x - *it3) + (*it - *it3) * (*it - *it3));\n\t\t\tif(*it2 != inf && *it3 != inf) \n\t\t\tif(*it2 != -inf && *it3 != -inf) \n\t\t\t\tcmin(mn, (x - *it2) * (x - *it2) + (x - *it3) * (x - *it3) + (*it2 - *it3) * (*it2 - *it3));\n\t\t\tif(*it != inf && *it4 != inf) \n\t\t\tif(*it != -inf && *it4 != -inf) \n\t\t\t\tcmin(mn, (x - *it) * (x - *it) + (x - *it4) * (x - *it4) + (*it - *it4) * (*it - *it4));\n\t\t\tif(*it2 != inf && *it4 != inf) \n\t\t\tif(*it2 != -inf && *it4 != -inf) \n\t\t\t\tcmin(mn, (x - *it2) * (x - *it2) + (x - *it4) * (x - *it4) + (*it2 - *it4) * (*it2 - *it4));\n\t\t}\n\t\tfor(int x : b){\n\t\t\tif(x == inf || x == -inf) continue;\n\t\t\tauto it = a.upper_bound(x);\n\t\t\tauto it2 = it; -- it;\n\t\t\tauto it3 = c.upper_bound(x);\n\t\t\tauto it4 = it3; -- it3;\n\t\t\tif(*it != inf && *it3 != inf) \n\t\t\tif(*it != -inf && *it3 != -inf)\n\t\t\t\tcmin(mn, (x - *it) * (x - *it) + (x - *it3) * (x - *it3) + (*it - *it3) * (*it - *it3));\n\t\t\tif(*it2 != inf && *it3 != inf) \n\t\t\tif(*it2 != -inf && *it3 != -inf) \n\t\t\t\tcmin(mn, (x - *it2) * (x - *it2) + (x - *it3) * (x - *it3) + (*it2 - *it3) * (*it2 - *it3));\n\t\t\tif(*it != inf && *it4 != inf) \n\t\t\tif(*it != -inf && *it4 != -inf) \n\t\t\t\tcmin(mn, (x - *it) * (x - *it) + (x - *it4) * (x - *it4) + (*it - *it4) * (*it - *it4));\n\t\t\tif(*it2 != inf && *it4 != inf) \n\t\t\tif(*it2 != -inf && *it4 != -inf) \n\t\t\t\tcmin(mn, (x - *it2) * (x - *it2) + (x - *it4) * (x - *it4) + (*it2 - *it4) * (*it2 - *it4));\n\t\t}\n\t\tfor(int x : c) {\n\t\t\tif(x == inf || x == -inf) continue;\n\t\t\tauto it = a.upper_bound(x);\n\t\t\tauto it2 = it; -- it;\n\t\t\tauto it3 = b.upper_bound(x);\n\t\t\tauto it4 = it3; -- it3;\n\t\t\tif(*it != inf && *it3 != inf) \n\t\t\tif(*it != -inf && *it3 != -inf)\n\t\t\t\tcmin(mn, (x - *it) * (x - *it) + (x - *it3) * (x - *it3) + (*it - *it3) * (*it - *it3));\n\t\t\tif(*it2 != inf && *it3 != inf)\n\t\t\tif(*it2 != -inf && *it3 != -inf) \n\t\t\t\tcmin(mn, (x - *it2) * (x - *it2) + (x - *it3) * (x - *it3) + (*it2 - *it3) * (*it2 - *it3));\n\t\t\tif(*it != inf && *it4 != inf) \n\t\t\tif(*it != -inf && *it4 != -inf) \n\t\t\t\tcmin(mn, (x - *it) * (x - *it) + (x - *it4) * (x - *it4) + (*it - *it4) * (*it - *it4));\n\t\t\tif(*it2 != inf && *it4 != inf) \n\t\t\tif(*it2 != -inf && *it4 != -inf) \n\t\t\t\tcmin(mn, (x - *it2) * (x - *it2) + (x - *it4) * (x - *it4) + (*it2 - *it4) * (*it2 - *it4));\n\t\t}\n\t\tout << mn << '\\n';\n\t}\n  return 0;\n  // code end.\n}\n```",
        "postTime": 1587017870,
        "uid": 96580,
        "name": "SXNhdW5veWE",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1336B \u3010Xenia and Colorful Gems\u3011"
    },
    {
        "content": "\u82b1\u4e86\u4e00\u4e2a\u591a\u5c0f\u65f6\u624d\u505a\u51fa\u6765\u8fd9\u9898...\u8bfb\u9519\u9898\u4e86\u4e00\u4e2a\u534a\u5c0f\u65f6\uff0c\u592a\u81ea\u95ed\u4e86\u3002\n\n\u5bb9\u6613\u53d1\u73b0\uff0c\u5f53\u786e\u5b9a\u4e86\u53d6\u7684\u4e09\u4e2a\u6570 $x,y,z$ \u4e2d\u7684\u4efb\u610f\u4e24\u4e2a\u65f6\uff0c\u7b2c\u4e09\u4e2a\u6570\u5c31\u968f\u4e4b\u786e\u5b9a\uff1a\u4f8b\u5982\uff0c\u5f53 $x,y$ \u786e\u5b9a\u65f6\uff0c$z$ \u4e00\u5b9a\u662f $b$ \u6570\u7ec4\u4e2d $\\dfrac {x+y}{2}$ \u7684\u4e00\u4e2a\u4e0d\u4e25\u683c\u524d\u9a71 / \u540e\u7ee7\u3002\n\n\u663e\u7136\uff0c\u5f53 $x$ \u786e\u5b9a\u65f6\uff0c$y$ \u53d6 $x$ \u5728 $g$ \u6570\u7ec4\u4e2d\u7684\u4e0d\u4e25\u683c\u524d\u9a71 / \u540e\u7ee7\u6700\u4f18\u3002\n\n\u6240\u4ee5\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u7b97\u6cd5\uff1a\u5728 $r$ \u6570\u7ec4\u4e2d\u679a\u4e3e $x$\uff0c\u6c42\u51fa $x$ \u5728 $g$ \u6570\u7ec4\u4e2d\u7684\u4e0d\u4e25\u683c\u524d\u9a71 / \u540e\u7ee7\u4f5c\u4e3a $y$\uff0c\u5e76\u6c42\u51fa $\\dfrac {x+y}{2}$ \u5728 $b$ \u6570\u7ec4\u4e2d\u7684\u4e0d\u4e25\u683c\u524d\u9a71 / \u540e\u7ee7\u4f5c\u4e3a $z$\u3002\n\n\u4f46\u5bb9\u6613\u53d1\u73b0\uff0c\u4e0d\u4e00\u5b9a\u662f\u7531 $x,y$ \u786e\u5b9a\u63a8\u7b97\u51fa $z$\uff0c\u8fd8\u6709\u53ef\u80fd\u662f $x,z$ \u786e\u5b9a\u63a8\u7b97\u51fa $y$\u3002\u548c\u4e0a\u9762\u7684\u60c5\u51b5\u51e0\u4e4e\u5b8c\u5168\u4e00\u81f4\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002\n\n```cpp\n# include <bits/stdc++.h>\n# define rr register\n# define int long long\nconst int N=500010,INF=6e18;\nint a[N],b[N],c[N];\nint asize,bsize,csize;\nint T;\nint minx;\ninline int read(void){\n\tint res,f=1;\n\tchar c;\n\twhile((c=getchar())<'0'||c>'9')\n\t\tif(c=='-')f=-1;\n\tres=c-48;\n\twhile((c=getchar())>='0'&&c<='9')\n\t\tres=res*10+c-48;\n\treturn res*f;\n}\ninline int nxt(int *ar,int size,int x){ // \u4e0d\u4e25\u683c\u540e\u7ee7\u662f\u7b2c\u4e00\u4e2a >= \u5b83\u7684\u6570\n\tint ans=std::lower_bound(ar+1,ar+1+size,x)-ar;\n\tif(ans>size) // \u5c0f\u5fc3\u8d8a\u754c...\u627e\u4e0d\u5230\u4e00\u5b9a\u8981\u8fd4\u56de 0\n\t\treturn 0;\n\treturn ar[ans];\n}\ninline int pre(int *ar,int size,int x){ // \u4e0d\u4e25\u683c\u524d\u9a71\u662f\u6700\u540e\u4e00\u4e2a <= \u5b83\u7684\u6570\n\tint ans=std::upper_bound(ar+1,ar+1+size,x)-ar-1;\n\tif(ans>size||ans<1) // \u540c\u4e0a\n\t\treturn 0;\n\treturn ar[ans];\t\n}\ninline int p(int x){\n\treturn x*x;\n}\ninline void cmin(int x,int y,int z){\n\tif(x&&y&&z)\n\t\tminx=std::min(minx,p(x-y)+p(y-z)+p(z-x));\n\treturn;\n}\nsigned main(void){\n\tT=read();\n\twhile(T--){\n\t\tasize=read(),bsize=read(),csize=read();\n\t\tfor(rr int i=1;i<=asize;++i){\n\t\t\ta[i]=read();\n\t\t}\n\t\tfor(rr int i=1;i<=bsize;++i){\n\t\t\tb[i]=read();\n\t\t}\n\t\tfor(rr int i=1;i<=csize;++i){\n\t\t\tc[i]=read();\n\t\t}\n\t\tstd::sort(a+1,a+1+asize);\n\t\tstd::sort(b+1,b+1+bsize);\n\t\tstd::sort(c+1,c+1+csize);\n\t\tminx=INF; // INF \u4e00\u5b9a\u8981\u5f00\u5f97\u6781\u5927 \u6837\u4f8b\u4e2d\u5df2\u7ecf\u63d0\u793a\u4e86\n\t\tfor(rr int i=1;i<=asize;++i){\n\t\t\tint va=nxt(b,bsize,a[i]),vb=pre(b,bsize,a[i]);\n\t\t\tcmin(a[i],va,nxt(c,csize,(a[i]+va)/2));\n\t\t\tcmin(a[i],va,pre(c,csize,(a[i]+va)/2));\n\t\t\tcmin(a[i],vb,nxt(c,csize,(a[i]+vb)/2));\n\t\t\tcmin(a[i],vb,pre(c,csize,(a[i]+vb)/2));\n\t\t\tva=nxt(c,csize,a[i]),vb=pre(c,csize,a[i]);\n\t\t\tcmin(a[i],nxt(b,bsize,(a[i]+va)/2),va);\n\t\t\tcmin(a[i],pre(b,bsize,(a[i]+va)/2),va);\n\t\t\tcmin(a[i],nxt(b,bsize,(a[i]+vb)/2),vb);\n\t\t\tcmin(a[i],pre(b,bsize,(a[i]+vb)/2),vb);\n\t\t}\n\t\tstd::cout<<minx<<std::endl;\n\t}\n\n\treturn 0;\n}\n\n```",
        "postTime": 1587002618,
        "uid": 108949,
        "name": "Meatherm",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1336B \u3010Xenia and Colorful Gems\u3011"
    }
]