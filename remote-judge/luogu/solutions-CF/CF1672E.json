[
    {
        "content": "## \u9898\u610f\uff1a\n\n\u4ea4\u4e92\u9898\u3002\u6bcf\u6b21\u4f60\u53ef\u4ee5\u8be2\u95ee\u4e00\u4e2a\u6587\u672c\u6bcf\u884c\u957f\u5ea6\u4e3a $x$ \u65f6\u8981\u82b1\u591a\u5c11\u884c\u624d\u80fd\u88c5\u4e0b\u4e00\u4e2a\u6709 $n$ \u4e2a\u5355\u8bcd\u7684\u53e5\u5b50\u3002\u5355\u8bcd\u5360\u7684\u957f\u5ea6\u4e3a\u5b83\u672c\u8eab\u7684\u957f\u5ea6\uff0c\u5355\u8bcd\u4e4b\u95f4\u6709\u5360 $1$ \u957f\u5ea6\u7684\u7a7a\u683c\uff08\u6362\u884c\u4e0d\u7b97\uff09\uff0c\u4e00\u4e2a\u5355\u8bcd\u4e0d\u80fd\u6362\u884c\u5199\u3002\u4e00\u4e2a\u6587\u672c\u6240\u5360\u7684\u9762\u79ef\u4e3a\u5b83\u7684\u6bcf\u884c\u957f\u5ea6\u4e58\u884c\u6570\u3002\u95ee\u80fd\u88c5\u4e0b\u8fd9\u4e2a\u53e5\u5b50\u7684\u6587\u672c\u9762\u79ef\u6700\u5c0f\u591a\u5c11\u3002\n\n## \u9898\u89e3\uff1a\n\n\u770b\u5230 $n+30$ \u7684\u4ea4\u4e92\u6b21\u6570\u9650\u5236\u81ea\u7136\u60f3\u5230 $n+\\log n$ \u6b21\u4ea4\u4e92\u3002\n\n\u5148\u8003\u8651\u4e8c\u5206\u6c42\u51fa\u53ea\u7528\u4e00\u884c\u7684\u6700\u77ed\u957f\u5ea6 $L$\u3002\n\n\u7136\u540e\u53d1\u73b0\u5982\u679c $k$ \u884c\u66f4\u4f18\u79c0\u7684\u8bdd\uff0c\u7528\u7684\u957f\u5ea6\u6700\u591a\u4e3a $\\lfloor\\frac{L}{k}\\rfloor$\u3002\u800c\u53c8\u56e0\u4e3a $k$ \u884c\u6bd4 $1$ \u884c\u6700\u591a\u8282\u7701 $k-1$ \u4e2a\u7a7a\u683c\u7684\u7a7a\u95f4\uff0c\u6240\u4ee5 $\\lfloor\\frac{L}{k}\\rfloor -1$ \u7684\u6bcf\u884c\u957f\u5ea6\u5bf9\u4e8e $k$ \u884c\u662f\u4e0d\u53ef\u80fd\u7684\u3002\u6240\u4ee5\u8fd9\u65f6\u679a\u4e3e $2$ \u5230 $n$ \u7684\u6bcf\u4e2a\u884c\u6570 $k$\uff0c\u6c42\u6bcf\u884c\u957f $\\lfloor\\frac{L}{k}\\rfloor$ \u65f6\u7684\u6700\u5c11\u884c\u6570\u5e76\u66f4\u65b0\u7b54\u6848\u5373\u53ef\u3002\n\n```cpp\n#include<bits/stdc++.h> \n#define int long long\n#define N 1000005\nusing namespace std;\nint n,l,r,ans,tmp,len;\nvoid solve(int sum){\n\tans=sum;\n\tfor(int i=2;i<=n;i++){\n\t\tcout<<\"?\"<<' '<<sum/i<<endl;\n\t\tcin>>tmp;\n\t\tif(tmp==0)continue;\n\t\tans=min(ans,sum/i*tmp);\n\t}\n}\nsigned main(){\n\tcin>>n;\n\tl=1,r=2001*2001;\n\twhile(r>=l){\n\t\tint mid=(l+r)>>1;\n\t\tcout<<\"?\"<< ' '<<mid<<endl;\n\t\tcin>>tmp;\n\t\tif(tmp==1)len=mid,r=mid-1;\n\t\telse{\n\t\t\tl=mid+1;\n\t\t}\n\t}\n\tsolve(len);\n\tcout<<\"!\"<<' '<<ans<<endl;\n}\n\n```\n",
        "postTime": 1650947954,
        "uid": 200044,
        "name": "JS_TZ_ZHR",
        "ccfLevel": 7,
        "title": "CF1672E \u3010notepad.exe\u3011"
    },
    {
        "content": "\n\n[\u9898\u76ee\u4f20\u9001\u95e8](https://codeforces.com/contest/1672/problem/E)\n\n> \u4ea4\u4e92\u9898\u3002\n>\n> \u6587\u672c\u7f16\u8f91\u5668\u4e2d\u6709 $n$ \u4e2a\u5355\u8bcd\uff0c\u7b2c $i$ \u4e2a\u957f\u5ea6\u4e3a $l_i$\u3002$l$ \u4ec5\u5bf9\u6d4b\u8bc4\u673a\u53ef\u89c1\u3002\n>\n> \u6587\u672c\u7f16\u8f91\u5668\u4e00\u884c\u4e00\u884c\u5c55\u793a\u6587\u672c\uff0c\u4ee5\u7a7a\u683c\u5206\u5f00\u76f8\u90bb\u7684\u4e24\u4e2a\u5355\u8bcd\uff0c\u4f46\u662f\u884c\u672b\u4e0d\u4e00\u5b9a\u6709\u7a7a\u683c\uff0c\u5373\u5355\u8bcd\u53ef\u4ee5\u76f4\u63a5\u4f5c\u4e3a\u67d0\u4e00\u884c\u7684\u672b\u5c3e\u3002\u5bf9\u4e8e\u7ed9\u5b9a\u7684\u5c4f\u5e55\u5bbd\u5ea6 $w$\uff0c\u9ad8\u5ea6 $h$ \u4e3a\u5c55\u793a\u6587\u672c\u6700\u5c11\u9700\u8981\u7684\u884c\u6570\u3002\n>\n> \u5982\u679c $w \\le \\max(l_i)$\uff0c\u90a3\u4e48\u6587\u672c\u7f16\u8f91\u5668\u5c06\u5d29\u6e83\uff0c $h = 0$ .\n>\n> \u6700\u591a\u53ef\u4ee5\u8be2\u95ee $n + 30$ \u6b21\u3002\u6bcf\u6b21\u8be2\u95ee\u5bbd\u5ea6 $w$ \u3002\u6d4b\u8bc4\u673a\u5c06\u8fd4\u56de $h$\u3002\n>\n> \u8f93\u51fa\u6700\u5c0f\u9762\u79ef\uff0c\u5373 $min(w\\times h_w)$\u3002\n>\n> $n,l_i \\le 2000$\n\n\u826f\u9898\u3002\n\n\u770b\u5230 $n+30$\uff0c\u53ef\u4ee5\u731c\u5230\u8be2\u95ee\u662f\u4e8c\u5206+ $O(n)$ \u679a\u4e3e\u3002\n\n\u5148\u4e8c\u5206\u51fa\u6700\u5c0f\u7684 $w=w_1$ \u6ee1\u8db3 $h=1$\uff0c\u5373\u628a\u6240\u6709\u5355\u8bcd\u653e\u5728\u4e00\u884c\u7684\u957f\u5ea6\u3002\n\n\u6b64\u65f6\u5982\u679c\u6709\u66f4\u4f18\u7684 $h$\uff0c\u6700\u5c0f\u5bbd\u5ea6\u4e3a $w_h$\uff0c\u90a3\u4e48\u4e00\u5b9a\u6709 $w_h \\le \\left\\lfloor \\dfrac{w_1}{h}\\right \\rfloor$\u3002\n\n\u5bf9\u6bd4 $h$ \u884c\u4e0e $1$ \u884c\u4e24\u79cd\u65b9\u6848\uff0c\u8003\u8651\u6700\u4f18\u7684\u60c5\u51b5\uff0c$h$ \u884c\u6bcf\u884c\u672b\u5c3e\u90fd\u6ca1\u6709\u7a7a\u683c\uff0c\u90a3\u4e48\u5c31\u5728 $1\\sim h-1$ \u884c\u7684\u672b\u5c3e\u5404\u7701\u4e0b\u4e86\u4e00\u4e2a\u7a7a\u683c\uff0c\u5171 $h-1$ \u4e2a\uff0c\u6240\u4ee5\u53c8\u6709 $w_h\\cdot h \\ge w_1-h+1$\uff0c\u8fdb\u4e00\u6b65\uff0c$w_h \\ge \\dfrac{w1-h+1}{h} \\ge \\left\\lfloor \\dfrac{w_1}{h}\\right \\rfloor$\u3002\n\n\u6240\u4ee5\u53ef\u4ee5\u5f97\u5230 $w_h=\\left\\lfloor \\dfrac{w_1}{h}\\right \\rfloor$\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u679a\u4e3e $2 \\le h \\le n$\uff0c\u7136\u540e\u5bf9 $w=\\left\\lfloor \\dfrac{w_1}{h}\\right \\rfloor$ \u8be2\u95ee\uff0c\u7528 $w\\cdot h'$ \u66f4\u65b0\u7b54\u6848\uff08$h'$ \u4e3a\u6d4b\u8bc4\u673a\u8fd4\u56de\u7684\u6570\uff09\u3002\n\n## Code\n\n```cpp\nll n, w, a, ans;\nvoid solve() {\n    cin >> n;\n    ll l = 1, r = 2000 * 3000, mid;\n    while (l <= r) {\n        mid = (l + r) / 2;\n        cout << \"? \" << mid << endl;\n        cout.flush();\n        cin >> a;\n        if (a == 1)w = mid, r = mid - 1;\n        else l = mid + 1;\n    }\n    ans = w;\n    repp(i, n) {\n        cout << \"? \" << w / i << endl;\n        cout.flush();\n        cin >> a;\n        if (a)ans = min(ans, w / i * a);\n    }\n    cout << \"! \" << ans << endl;\n    cout.flush();\n}\n```\n\n",
        "postTime": 1680006226,
        "uid": 407564,
        "name": "Rushroom",
        "ccfLevel": 7,
        "title": "CF1672E notepad.exe"
    },
    {
        "content": "# CF1762E \u9898\u89e3\n\n\n\n## \u601d\u8def\u5206\u6790\n\n\u5bf9\u4e8e\u4e00\u4e2a $h\\in[1,n]$\uff0c\u6211\u4eec\u5b9a\u4e49 $w(h)$ \u4e3a $\\min\\{w|h(w)=h\\}$\uff0c\u4e0d\u96be\u53d1\u73b0\u6c42\u51fa $w(1)\\sim w(n)$ \u5373\u53ef\u89e3\u51b3\u539f\u95ee\u9898\u3002\n\n\u9996\u5148\u53ef\u4ee5\u4e8c\u5206\u51fa $w(1)$\uff0c\u5373 $\\sum_{i=1}^nl_i+(n-1)$ \u7684\u503c\uff0c\u8bb0 $w(1)=L$\uff0c\u82b1\u8d39\u6b21\u6570\u4e3a $\\log_2L<30$\u3002\n\n\u6ce8\u610f\u5230\u5982\u4e0b\u7684\u89c2\u5bdf\uff1a\n\n> \u89c2\u5bdf\uff1a\n>\n> \u5bf9\u4e8e\u6240\u6709 $h\\in(1,n]$\uff0c$h\\times w(h)\\ge L-h+1$\u3002\n>\n> \u6ce8\u610f\u5230 $h\\times w(h)$ \u5373\u663e\u793a\u5668\u5927\u5c0f\uff0c\u8003\u8651\u6700\u4f18\u7684\u60c5\u51b5\uff0c$h$ \u884c\u5b57\u7b26\u6bcf\u884c\u540e\u9762\u90fd\u6ca1\u6709\u591a\u4f59\u7684\u7a7a\u767d\uff0c\u5373\u6bcf\u884c\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u90fd\u6070\u597d\u4e3a $w(h)$\uff0c\u6b64\u65f6\u663e\u793a\u5176\u5927\u5c0f $h\\times w(h)=\\sum_{i=1}^nl_i+(n-h)=L-h+1$\u3002\n\n\u6211\u4eec\u53c8\u77e5\u9053\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $h\\in(1,n]$\uff0c\u53ef\u80fd\u5f71\u54cd\u7b54\u6848\u7684 $h\\times w(h)$ \u4e00\u5b9a\u662f $\\le L$ \u7684\uff0c\u5426\u5219\u4e00\u5b9a\u4e0d\u4f18\u4e8e $h=1$ \u7684\u60c5\u51b5\u3002\n\n\u56e0\u6b64\u5bf9\u4e8e\u6bcf\u4e2a $h\\in(1,n]$\uff0c\u5982\u679c $h$ \u53ef\u80fd\u5f71\u54cd\u7b54\u6848\uff0c\u90a3\u4e48 $h\\times w(h)\\in[L-h+1,L]$\uff0c\u6ce8\u610f\u5230\u8fd9\u4e2a\u533a\u95f4\u957f\u5ea6\u4e3a $h$\uff0c\u53c8\u56e0\u4e3a $h\\mid h\\times w(h)$\uff0c\u6240\u4ee5\u8fd9\u6837\u7684 $h$ \u5bf9\u5e94\u7684 $w(h)$ \u90fd\u6709 $w(h)=\\left\\lfloor\\dfrac Lh\\right\\rfloor$\u3002\n\n\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5728 $n-1$ \u6b21\u8be2\u95ee\u5185\u6c42\u6bcf\u4e2a $h\\in(1,n]$ \u7684\u7b54\u6848\uff0c\u4e0e $L$ \u53d6 $\\min$ \u5c31\u53ef\u4ee5\u5f97\u5230\u7b54\u6848\uff0c\u8be2\u95ee\u6b21\u6570 $n+\\log_2 L$\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\Theta(n)$\u3002\n\n## \u4ee3\u7801\u5448\u73b0\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int MAXL=2001*2001;\ninline int read(int x) {\n\tcout<<\"? \"<<x<<endl;\n\tint ret; cin>>ret;\n\treturn ret;\n}\nsigned main() {\n\tint n;\n\tcin>>n;\n\tint l=1,r=MAXL,len=0;\n\twhile(l<=r) {\n\t\tint mid=(l+r)>>1;\n\t\tif(read(mid)==1) r=mid-1,len=mid;\n\t\telse l=mid+1;\n\t}\n\tint ans=len;\n\tfor(int h=2;h<=n;++h) {\n\t\tint w=len/h;\n\t\tif(read(w)==h) ans=min(ans,h*w);\n\t}\n\tcout<<\"! \"<<ans<<endl;\n\treturn 0;\n}\n```\n\n",
        "postTime": 1672551701,
        "uid": 539618,
        "name": "DaiRuiChen007",
        "ccfLevel": 6,
        "title": "CF1762E \u9898\u89e3"
    },
    {
        "content": "~~\u8001\u5e74\u9000\u5f79\u9009\u624b\u590d\u5065\uff0c\u88ab\u8fd9\u4e2a\u666e\u53ca\u9898\u5361~~\n\n\u6309\u7167\u9898\u76ee\u4e2d\u7684\u8bb0\u6cd5\uff0c\u8bb0 $h$ \u4e3a\u884c\u6570\uff0c$w$ \u4e3a\u5217\u6570\u3002\n\n\u5047\u8bbe\u4e0d\u8003\u8651\u8be2\u95ee\u6b21\u6570\uff0c\u6211\u4eec\u6709\u4e2a\u53ef\u884c\u7684\u601d\u8def\uff0c\u5373\u4ece $w=+\\infty$ \u5f00\u59cb\u8be2\u95ee\uff0c\u6bcf\u6b21 $w$ \u51cf\u53bb $1$\uff0c\u95ee\u5230 $w=1$\u3002\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u6bcf\u4e2a $h$ \u5bf9\u5e94\u7684\u6700\u5c0f\u7684 $w$\uff0c\u7136\u540e $\\min(h\\times w)$ \u5c31\u662f\u7b54\u6848\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a $h$ \u4e8c\u5206\u5f97\u5230\u6700\u5c0f\u7684 $w$\uff0c\u8be2\u95ee\u6b21\u6570 $n\\cdot \\log(nm)$\uff0c$m=\\max(l_i)$\uff0c\u8fd8\u662f\u65e0\u6cd5\u901a\u8fc7\u3002\n\n\u63a5\u4e0b\u6765\u9700\u8981\u6211\u4eec\u7f29\u5c0f\u7b54\u6848\u6240\u5728\u7a7a\u95f4\u3002\u8bb0 $h=1$ \u65f6\u6700\u5c0f\u7684 $w$ \u4e3a $S$\u3002\u5bf9\u4e8e\u7279\u5b9a\u7684 $h$\uff0c\u6211\u4eec\u53ef\u4ee5\u5047\u8bbe\u6240\u6709\u884c\u672b\u90fd\u6ca1\u6709\u591a\u4f59\u7684\u7a7a\u683c\uff0c\u5f97\u5230\u4e00\u4e2a\u9762\u79ef\u7684\u4e0b\u754c $S+h-1$\uff0c\u540c\u65f6\u56e0\u4e3a $S$ \u662f\u53ef\u884c\u89e3\uff0c\u6211\u4eec\u53ea\u9700\u8003\u8651\u9762\u79ef\u53d6\u503c\u4e3a $[S+h-1,S]$ \u7684\u60c5\u51b5\u3002\u6709\u8da3\u7684\u662f\uff0c$S$ \u5fc5\u987b\u662f $h$ \u7684\u500d\u6570\uff0c\u56e0\u6b64\u8fd9 $h$ \u4e2a\u53ef\u80fd\u7684\u53d6\u503c\u91cc\u53ea\u6709\u4e00\u79cd\u5408\u6cd5\uff0c\u5373 $w = \\lfloor\\frac{S}{h}\\rfloor$ \u7684\u60c5\u51b5\uff0c\u6211\u4eec\u76f4\u63a5\u8be2\u95ee\u5373\u53ef\uff0c\u8be2\u95ee\u6b21\u6570 $\\log(nm)+n$\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define rep(i, j, k) for(int i = j; i <= k; ++ i)\n#define per(i, j, k) for(int i = j; i >= k; -- i)\nusing namespace std;\nint query(int x) {\n  printf(\"? %d\\n\", x);\n  fflush(stdout);\n  scanf(\"%d\", &x);\n  return x;\n}\nint main() {\n  int n;\n  scanf(\"%d\", &n);\n  int l = n, r = n * 2001, S = 0;\n  while(l <= r) {\n    int mid = (l + r) >> 1;\n    if(query(mid) == 1) r = (S = mid) - 1;\n    else l = mid + 1;\n  }\n  int res = S;\n  rep(i, 1, n) {  \n    int w = S / i;\n    if(query(w) == i)\n      res = min(res, i * w);\n  }\n  printf(\"! %d\\n\", res);\n  return 0;\n}\n```",
        "postTime": 1655295329,
        "uid": 20375,
        "name": "hongzy",
        "ccfLevel": 9,
        "title": "\u300cCF1672E\u300dnotepad.exe\u300c\u4ea4\u4e92\u300d"
    }
]