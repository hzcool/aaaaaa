[
    {
        "content": "\u5f88\u63a5\u8fd1\u5b9e\u9645\u751f\u6d3b\u7684\u4e00\u9053\u8ba1\u7b97\u51e0\u4f55\u9898\u2014\u2014\u53e0\u7897\u95ee\u9898\u3002\n\n~~\u4f5c\u4e3a\u826f\u5fc3\u51fa\u9898\u4eba\uff0c\u6211\u53ef\u80fd\u4f1a\u7ed9\u8fd9\u9053\u9898\u52a0\u4e0a\u4ec0\u4e48\u6c14\u538b\u7684\u5f71\u54cd\u4e4b\u7c7b\u7684~~\n\n# Solution\n\u8003\u8651\u53e0\u7897\u7684\u60c5\u51b5\u3002\u5927\u81f4\u5c31\u662f\u4ee5\u4e0b\u4e09\u7c7b\uff1a\n1. \u5e95\u5bf9\u5e95\n2. \u4fa7\u6216\u6cbf\u5bf9\u5e95\n3. \u4fa7\u6216\u6cbf\u5bf9\u6cbf\u6216\u4fa7\n\n\u6211\u4eec\u53ef\u4ee5\u6309\u7167\u8fd9\u4e09\u7c7b\u8bbe\u8ba1\u4e00\u4e2a\u4e8c\u5206\u7b54\u6848\uff0c\u641c\u5230\u63a5\u89e6\u70b9\u7684\u9ad8\u5ea6\uff0c\u518d\u52a0\u4e0a\u7897\u9ad8\u5373\u53ef\u3002\n\n# Code\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define pb push_back \n#define REP(i,n) for(int i=0;i<(n);i++)  \n\nint h[4096], r[4096], R[4096];\ndouble H[4096], H2[4096];\n\ndouble g(int h1, int r1, int R1, int h2, int r2, int R2) {\n    if (r2 >= R1)\n        return h1;\n    double L = 0, R = h1;\n    while (R - L > 1e-7) {\n        double M = R + L;\n        M /= 2;\n        int suc = 1;\n        double D1 = 1.0 * (R1 - r1) * M / h1 + r1;\n        suc &= D1 >= r2;\n        if (h2 + M <= h1) {\n            double D2 = 1.0 * (R1 - r1) * (M + h2) / h1 + r1;\n            suc &= D2 >= R2;\n        } \n        else {\n            double D2 = 1.0 * (R2 - r2) * (h1 - M) / h2 + r2;\n            suc &= R1 >= D2;\n        }\n        if (suc) R = M;\n        else L = M;\n    }\n    return L;\n}\n\nint main(void) {\n    freopen(\"input.txt\", \"r\", stdin);\n    freopen(\"output.txt\", \"w\", stdout);\n    int N;\n    scanf(\"%d\", &N);\n    REP(i, N) scanf(\"%d%d%d\", h + i, r + i, R + i);\n    double res = 0;\n    H[0] = 0, H2[0] = h[0];\n    REP(i, N - 1) {\n        double t = res;\n        for (int j = i; j >= 0; j--) {\n            if (res > H2[j]) break;\n            double tmp = g(h[j], r[j], R[j], h[i + 1], r[i + 1], R[i + 1]);\n            t = max(t, tmp + H[j]);\n        }\n        res = t;\n        H[i + 1] = res;\n        H2[i + 1] = max(H2[i], res + h[i + 1]);\n    }\n    res = 0;\n    REP(i, N) res = max(res, h[i] + H[i]);\n    printf(\"%.6lf\\n\", res);\n    return 0;\n}\n\n```",
        "postTime": 1619265901,
        "uid": 372299,
        "name": "\u8d85\u7ea7\u739b\u4e3d\u738b\u5b50",
        "ccfLevel": 5,
        "title": "\u6709\u8da3\u7684\u8ba1\u7b97\u51e0\u4f55\u2014\u2014CF36C Bowls"
    }
]