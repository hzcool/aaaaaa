[
    {
        "content": "### Preface\n\n\u563f\uff0c\u867d\u7136\u6211\u5dee\u4e86\u8fd9\u9053 F\uff0c\u4f46\u4f60\u60f3\u4e0d\u60f3 AK \u8fd9\u573a Div 2\uff1f\n\n### Analysis\n\n\u9996\u5148\u6709\u4e00\u4e2a\u81f3\u5173\u91cd\u8981\u7684\u7ed3\u8bba\uff1a\n\n**\u8bbe**\n\n$$\\begin{aligned}\nL_i&=\\max\\{j\\ |\\ j<i\\ \\land\\ w_j\\le w_i\\}\n\\\\\nR_i&=\\min\\{j\\ |\\ i<j\\ \\land\\ w_j\\le w_i\\}\n\\end{aligned}$$\n\n**\u5219\u6700\u7ec8\u7b54\u6848\u9009\u53d6\u7684\u4e24\u4e2a\u6570\u4e00\u5b9a\u662f $(i,R_i)$ \u6216 $(L_i,i)$ \u7684\u5f62\u5f0f\u3002**\n\n**Proof**\n\n\u82e5\u6700\u4f18\u7b54\u6848\u4e3a\u53d6 $(i,j)$\uff0c\u4e14 $R_i\\ne j\\ \\land\\ L_j\\ne i$\uff0c\u6211\u4eec\u8bc1\u660e\u4e00\u5b9a\u6709\u66f4\u4f18\u89e3\uff0c\u4ee5\u8bc1\u660e\u539f\u547d\u9898\u3002\n\n\u82e5 $w_i\\le w_j$\uff0c\u5219 $L_j>i$\uff0c\u5f97\u5230 $|x_{L_j}-x_i|<|x_j-x_i|$ \u4e14 $w_i+w_{L_j}\\le w_i+w_j$\uff0c\u6240\u4ee5 $(i,L_j)$ \u662f\u4e00\u7ec4\u66f4\u4f18\u89e3\u3002\n\n$w_i>w_j$ \u7684\u60c5\u51b5\u4e0e\u4e0a\u6587\u7c7b\u4f3c\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002$\\blacksquare$\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u628a\u95ee\u9898\u8f6c\u5316\u6210\uff1a\n\n**\u6709 $2n$ \u4e2a\u6570\u8f74\u4e0a\u7684\u5df2\u77e5\u533a\u95f4 $[l_i,r_i]$\uff0c\u5206\u522b\u5e26\u6743 $c_i$\u3002\u6bcf\u6b21\u8be2\u95ee\u4e00\u4e2a\u533a\u95f4 $[ql,qr]$\uff0c\u6c42 $\\min\\{c_x\\ |\\ ql\\le l_x\\ \\land\\ r_x\\le qr\\}$\u3002**\n\n\u6211\u4eec\u628a\u8be2\u95ee**\u79bb\u7ebf**\u4e0b\u6765\uff0c\u5c31\u53ef\u4ee5\u7528**\u6811\u72b6\u6570\u7ec4**\u8f7b\u677e\u7ef4\u62a4\u4e86\u3002\n\n\u5177\u4f53\u5730\uff0c\u5728\u6bcf\u4e00\u4e2a $l_i$ \u4e0a\u6302\u4e00\u4e2a $(r_i,c_i)$ \u7684\u6807\u8bb0\uff0c\u5728\u6bcf\u4e00\u4e2a $ql$ \u4e0a\u6302\u4e00\u4e2a $(qr,id)$ \u7684\u6807\u8bb0\u3002\u4ece\u540e\u5f80\u524d\u626b\uff0c\u6811\u72b6\u6570\u7ec4\u7ef4\u62a4\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u65f6\u95f4 $O((n+q)\\log n)$\u3002\n\n### Code\n\n[Link](https://codeforces.com/contest/1635/submission/147165337)",
        "postTime": 1645443859,
        "uid": 101868,
        "name": "I_am_Accepted",
        "ccfLevel": 0,
        "title": "CF1635F Closest Pair"
    },
    {
        "content": "\u8003\u8651\u5230\u9898\u76ee\u7684\u7279\u6b8a\u6027\uff0c\u6211\u4eec\u5148\u94a6\u5b9a\u4e00\u4e2a\u5339\u914d\u7684\u987a\u5e8f\uff0c\u4e5f\u5c31\u662f\u5bf9\u4e8e $i,j$\uff0c\u5982\u679c $w_i\\geq w_j$\uff0c\u5c31\u53ea\u8003\u8651 $i$ \u5339\u914d $j$\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002\n\n\u6ce8\u610f\u5230\u6837\u4f8b\u4e2d\u4e0d\u540c\u7684\u6570\u6570\u91cf\u975e\u5e38\u5c11\uff0c\u6211\u4eec\u731c\u6d4b\u80fd\u4f5c\u4e3a\u7b54\u6848\u7684\u5339\u914d\u5e76\u4e0d\u591a\u3002\u5047\u8bbe\u73b0\u5728\u6709 $i$ \u53ef\u4ee5\u5339\u914d $j,k(i<j<k)$\uff0c\u90a3\u4e48 $i$ \u5339\u914d\u54ea\u4e2a\u4f18\uff1f\n\n\u5339\u914d $(i,j)$ \u81ea\u7136\u662f\u6700\u4f18\u7684\u3002\u53ef\u4ee5\u8003\u8651\u589e\u91cf $\\Delta x \\times w_i$\uff0c\u56e0\u4e3a $w_i \\geq \\max(w_j,w_k)$\uff0c\u56e0\u6b64\u5339\u914d $j$ \u66f4\u4f18\u79c0\u3002\n\n\u6ce8\u610f\u5230\u6211\u4eec\u8fd9\u6837\u4f1a\u5ffd\u7565\u6389 $w_j\\geq w_i$ \u7684\u65b9\u6848\uff0c\u6211\u4eec\u7528\u4e00\u6837\u7684\u65b9\u6cd5\u8bc1\u660e\uff0c\u5bf9\u4e8e $k < j < i,w_i \\geq \\max(w_j,w_k)$\uff0c\u5339\u914d $(i,j)$ \u66f4\u4f18\u3002\n\n\u8fd9\u6837\u7684\u8bdd\u53ef\u80fd\u4f5c\u4e3a\u7b54\u6848\u7684\u5339\u914d\u53ea\u6709 $O(n)$ \u4e2a\u3002\u6211\u4eec\u8981\u627e\u5230 $L_i,R_i$ \u8868\u793a $i$ \u80fd\u5339\u914d\u7684\u6700\u5927\u7684\u7f16\u53f7\u5c0f\u4e8e $i$ \u7684\u6570\u548c\u80fd\u5339\u914d\u7684\u6700\u5c0f\u7684\u7f16\u53f7\u5927\u4e8e $i$ \u7684\u6570\uff0c\u8fd9\u4e2a\u5de5\u4f5c\u5e76\u4e0d\u96be\uff0c\u7ebf\u6bb5\u6811\u6216\u8005\u6811\u72b6\u6570\u7ec4\u90fd\u53ef\u4ee5\u505a\u3002\n\n\u6700\u540e\u662f\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u4e8c\u7ef4\u6570\u70b9\u7684\u95ee\u9898\uff0c\u53ea\u4e0d\u8fc7\u662f\u6c42\u77e9\u9635\u5185\u70b9\u7684\u6700\u5c0f\u503c\u3002\u5c06\u67e5\u8be2\u770b\u4f5c\u662f\u67e5\u8be2\u5de6\u4e0b\u89d2\u4e3a $(L,L)$ \u53f3\u4e0a\u89d2\u4e3a $(R,R)$ \u7684\u77e9\u5f62\u5185\u6240\u6709\u70b9\u7684\u6700\u5c0f\u503c\uff0c\u5c06\u4e00\u4e2a\u53ef\u80fd\u4f5c\u4e3a\u7b54\u6848\u7684\u533a\u95f4 $[l,r]$ \u770b\u4f5c\u5e73\u9762\u4e0a\u7684\u70b9 $(l,r)$\uff0c\u5176\u6709\u6743\u503c\uff0c\u89c1\u9898\u76ee\u5b9a\u4e49\u3002\n\n\u8fd9\u662f\u4e00\u4e2a\u7ecf\u5178\u95ee\u9898\uff0c\u53ef\u4ee5\u79bb\u7ebf\u4e4b\u540e\u6811\u72b6\u6570\u7ec4\u6216\u8005\u7ebf\u6bb5\u6811\u505a\u3002\u4e0b\u9762\u7528\u7684\u662f\u7ebf\u6bb5\u6811\u3002\n\n```cpp\nLL n,q,w[300005],b[300005],len,L[300005],R[300005];\nstruct SegmentTree{\n\tLL minn[1200005],maxn[1200005];\n\t#define lc(x) (x<<1)\n\t#define rc(x) (lc(x)|1)\n\t#define Mm LL mid=(l+r)>>1\n\tvoid push_up(LL now){minn[now]=min(minn[lc(now)],minn[rc(now)]),maxn[now]=max(maxn[lc(now)],maxn[rc(now)]);}\n\tvoid build(LL l,LL r,LL now)\n\t{\n\t\tmaxn[now]=0;\n\t\tminn[now]=8e18;\n\t\tif(l==r)\treturn ;\n\t\tMm;\n\t\tbuild(l,mid,lc(now)),build(mid+1,r,rc(now));\n\t}\n\tvoid modify(LL l,LL r,LL now,LL x,LL v)\n\t{\n\t\tif(l==r)\n\t\t{\n\t\t\tminn[now]=min(minn[now],v);\n\t\t\tmaxn[now]=max(maxn[now],v);\n\t\t\treturn ;\n\t\t}\n\t\tMm;\n\t\tif(x<=mid)\tmodify(l,mid,lc(now),x,v);\n\t\telse\tmodify(mid+1,r,rc(now),x,v);\n\t\tpush_up(now);\n\t}\n\tLL queryMin(LL l,LL r,LL now,LL x,LL y)\n\t{\n\t\tif(x<=l && r<=y)\treturn minn[now];\n\t\tMm,ans=8e18;\n\t\tif(x<=mid)\tans=min(ans,queryMin(l,mid,lc(now),x,y));\n\t\tif(mid<y)\tans=min(ans,queryMin(mid+1,r,rc(now),x,y));\n\t\treturn ans;\n\t}\n\tLL queryMax(LL l,LL r,LL now,LL x,LL y)\n\t{\n\t\tif(x<=l && r<=y)\treturn maxn[now];\n\t\tMm,ans=0;\n\t\tif(x<=mid)\tans=max(ans,queryMax(l,mid,lc(now),x,y));\n\t\tif(mid<y)\tans=max(ans,queryMax(mid+1,r,rc(now),x,y));\n\t\treturn ans;\n\t}\n\t#undef lc\n\t#undef rc\n\t#undef Mm\n}tr;\nstruct node{\n\tLL r,v;\n\tnode(LL RR=0,LL V=0){r=RR,v=V;}\n};\nvector<node> Seg[300005],Que[300005];\nLL ans[300005],x[300005];\nint main(){\n\tn=read(),q=read();\n\tfor(LL i=1;i<=n;++i)\tx[i]=read(),b[i]=w[i]=read();\n\tsort(b+1,b+1+n);\n\tlen=unique(b+1,b+1+n)-b-1;\n\tfor(LL i=1;i<=n;++i)\tw[i]=lower_bound(b+1,b+1+len,w[i])-b;\n\ttr.build(1,len,1);\n\tfor(LL i=1;i<=n;++i)\n\t{\n\t\tL[i]=tr.queryMax(1,len,1,1,w[i]);\n\t\ttr.modify(1,len,1,w[i],i);\n\t}\n\ttr.build(1,len,1);\n\tfor(LL i=n;i;--i)\n\t{\n\t\tR[i]=tr.queryMin(1,len,1,1,w[i]);\n\t\ttr.modify(1,len,1,w[i],i);\n\t}\n\tfor(LL i=1;i<=n;++i)\n\t{\n\t\tif(L[i])\tSeg[L[i]].push_back(node(i,(b[w[i]]+b[w[L[i]]])*(x[i]-x[L[i]])));\n\t\tif(R[i]<=n)\tSeg[i].push_back(node(R[i],(b[w[i]]+b[w[R[i]]])*(x[R[i]]-x[i])));\n\t}\n\tfor(LL i=1;i<=q;++i)\n\t{\n\t\tLL l=read(),r=read();\n\t\tQue[l].push_back(node(r,i));\n\t}\n\ttr.build(1,n,1);\n\ttr.modify(1,n,1,n,8e18);\n\tfor(LL i=n-1;i;--i)\n\t{\n\t\tfor(auto st:Seg[i])\n\t\t{\n\t\t\tLL r=st.r,v=st.v;\n\t\t\ttr.modify(1,n,1,r,v);\n\t\t}\n\t\tfor(auto st:Que[i])\n\t\t{\n\t\t\tLL l=i,r=st.r,id=st.v;\n\t\t\tans[id]=tr.queryMin(1,n,1,l,r);\n\t\t}\n\t}\n\tfor(LL i=1;i<=q;++i)\twrite(ans[i]),puts(\"\");\n\treturn 0;\n}\n```",
        "postTime": 1645801562,
        "uid": 184977,
        "name": "pomelo_nene",
        "ccfLevel": 9,
        "title": "bitter"
    },
    {
        "content": "## CF1635F \u9898\u89e3\n\n**Upd in 3/13/2022 : \u4fee\u6539\u4e86\u4e00\u4e2a\u7b14\u8bef**\n\n\u611f\u89c9\u8fd9\u4e2a\u9898\u7684\u6027\u8d28\u4e0d\u662f\u5f88\u597d\u60f3\uff0c\u672c\u4eba\u5728\u8003\u573a\u4e0a\u5c31\u6ca1\u60f3\u5230\uff0c\n\n\u73b0\u5728\u6765\u53d1\u4e00\u4e2a\u80fd\u6bd4\u8f83\u81ea\u7136\u7684\u63a8\u51fa\u6027\u8d28\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u7ed9\u51fa\u6027\u8d28\u540e\u8bc1\u660e\u7684\u9898\u89e3\u3002\n\n\u9898\u610f\u5c31\u4e0d\u8bb2\u4e86\uff0c\u6d1b\u8c37\u7ffb\u8bd1\u8bb2\u7684\u5f88\u6e05\u695a\u3002\n\n**\u505a\u6cd5**\uff1a\n\n\u6211\u4eec\u5148\u60f3\u53ea\u6709\u4e00\u7ec4\u8be2\u95ee\u65f6\u600e\u4e48\u505a\u3002\n\n\u770b\u5230\u8ba1\u7b97\u6240\u6709\u4e8c\u5143\u7ec4\u7684\u4fe1\u606f\uff0c\u9996\u5148\u5c31\u53ef\u4ee5\u60f3\u5230\u679a\u4e3e\u4e00\u7ef4\u5e76\u5feb\u901f\u8ba1\u7b97\u4e00\u7ef4\u3002\n\n\u8bb0 $calc(l,r)=|x_r-x_l|\\cdot(w_l+w_r)$\uff0c\n\n\u8003\u8651\u679a\u4e3e $r$\uff0c\u6211\u4eec\u9700\u8981\u5feb\u901f\u8ba1\u7b97 $\\min\\limits_{l}(calc(l,r))$ \u7684\u503c\u3002\n\n\u9996\u5148\uff0c\u4e0a\u5f0f\u7b49\u4e8e $\\min(\\min\\limits_{l<r}(calc(l,r)),\\min\\limits_{l>r}(calc(l,r)))$\uff0c\n\n\u6211\u4eec\u53ea\u9700\u8981\u8ba8\u8bba $l<r$ \u7684\u60c5\u51b5\uff0c\u56e0\u4e3a $l>r$ \u7684\u60c5\u51b5\u662f\u7c7b\u4f3c\u7684\uff0c\u53ea\u9700\u8981\u7ffb\u8f6c\u5e8f\u5217\u5373\u53ef\u3002\n\n\u5f53\u7136\uff0c\u770b\u4e0a\u53bb\u8fd9\u4e2a\u8ba1\u7b97\u5176\u5b9e\u662f\u6ca1\u5fc5\u8981\u7684\uff0c\u56e0\u4e3a $l<r$ \u548c $l>r$ \u7684\u5143\u7d20\u5bf9\u662f\u91cd\u590d\u7684\uff0c\n\n\u4f46\u4e3a\u4e86\u6211\u4eec\u540e\u7eed\u505a\u6cd5\u7684\u65b9\u4fbf\u6027\uff0c\u6240\u4ee5\u6211\u4eec\u4f1a\u5c06\u4e24\u8005\u90fd\u7b97\u4e00\u904d\uff0c\u4e5f\u5c31\u662f\u8bf4\uff1a\n\n\u5bf9\u4e8e\u5143\u7d20\u5bf9 $(l,r)$\uff0c\u6211\u4eec\u5206\u522b\u5728\u679a\u4e3e $l$ \u548c\u679a\u4e3e $r$ \u65f6\u8003\u8651\u4e86\u4e00\u904d\uff0c\n\n\u800c $w_l\\le w_r,w_r\\le w_l$ \u4e24\u4e2a\u4e0d\u7b49\u5f0f\u81f3\u5c11\u4e00\u4e2a\u6210\u7acb\uff0c\n\n\u90a3\u4e48\u6211\u4eec\u679a\u4e3e\u7aef\u70b9 $y$ \u65f6\uff0c\u5c31\u53ef\u4ee5\u53ea\u8003\u8651\u6240\u6709 $w_x<w_y$ \u7684 $x$\u3002\n\n\u663e\u7136\uff0c\u5982\u679c\u5b58\u5728 $l_1,l_2<r$\uff0c\u6ee1\u8db3 $x_{l_1}<x_{l_2},w_{l_1}>w_{l_2}$\uff0c\u5219 $l_2$ \u5fc5\u7136\u6bd4 $l_1$ \u66f4\u4f18\uff0c\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u6240\u6709\u53ef\u80fd\u6210\u4e3a\u6700\u4f18\u51b3\u7b56\u7684 $l$\uff0c\u4e00\u5b9a\u6ee1\u8db3 $x$ \u503c\u5355\u589e\uff0c$w$ \u503c\u4e5f\u5355\u589e\u7684\u5173\u7cfb\u3002\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u987a\u5e8f\u904d\u5386\u6240\u6709\u5143\u7d20\uff0c\u5c31\u4fdd\u8bc1\u4e86 $x$ \u503c\u5355\u589e\uff1b\n\n\u6211\u4eec\u518d\u5728\u987a\u5e8f\u904d\u5386\u5143\u7d20\u7684\u540c\u65f6\uff0c\u5bf9\u6240\u6709\u5143\u7d20\u7684 $w$ \u503c\u5efa\u7acb\u5355\u589e\u7684\u5355\u8c03\u6808\uff0c\n\n\u8bb0 $s(i)$ \u4e3a\u904d\u5386\u5230\u7b2c $i$ \u4e2a\u5143\u7d20\u65f6\u5355\u8c03\u6808\u5185\u7684\u5143\u7d20\u96c6\u5408\uff0c\n\n\u5219\u80fd\u6210\u4e3a\u6700\u4f18\u51b3\u7b56\u7684\u5143\u7d20\u5bf9 $(l,r)$\uff0c\u4e00\u5b9a\u6ee1\u8db3 $l\\in s(r)$\u3002\n\n\u4e00\u822c\u6765\u8bf4\uff0c\u63a5\u4e0b\u6765\u7684\u5957\u8def\u5e94\u8be5\u662f\u8003\u67e5\u5355\u8c03\u6808\u5185\u5143\u7d20\u7684\u5355\u8c03\u6027\uff0c\u6765\u5feb\u901f\u786e\u5b9a\u6700\u4f18\u51b3\u7b56\u70b9\u7684\u4f4d\u7f6e\uff0c\n\n\u4f46\u5728\u8fd9\u9053\u9898\u91cc\uff0c\u5355\u8c03\u6808\u5185\u7684\u5143\u7d20\u5e76\u6ca1\u6709\u5355\u8c03\u6027\uff0c\u770b\u4e0a\u53bb\u6bcf\u4e2a\u5143\u7d20\u90fd\u53ef\u80fd\u4e0e $i$ \u6210\u4e3a\u4e00\u5bf9\u5f53\u524d\u7684\u6700\u4f18\u89e3\uff0c\n\n\u611f\u89c9\u95ee\u9898\u5c31\u53d8\u5f97\u6bd4\u8f83\u68d8\u624b\uff0c\u672c\u4eba\u573a\u4e0a\u5c31\u5361\u5728\u4e86\u8fd9\u91cc\uff0c\n\n\u800c\u5b9e\u9645\u4e0a\uff0c\u867d\u7136\u6ca1\u6709\u5355\u8c03\u6027\uff0c\u4f46\u6211\u4eec\u9700\u8981\u8003\u8651\u7684\u5143\u7d20\u4ecd\u7136\u662f\u4e0d\u591a\u7684\u3002\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u8003\u8651\u5982\u679c\u6709\u4e24\u4e2a\u5728\u5355\u8c03\u6808\u4e2d\u7684\u5143\u7d20\uff0c\u4e0b\u6807\u5206\u522b\u662f $j,k(j<k<i)$\uff0c\n\n\u6b64\u65f6\u663e\u7136\u6709 $x_j<x_k<x_i$\uff0c\u4ee5\u53ca $w_j<w_k<w_i$\u3002\u90a3\u4e48\u6b64\u65f6\u6211\u4eec\u8bf4\uff0c\u5143\u7d20\u5bf9 $(i,k)$ \u4e00\u5b9a\u4e0d\u662f\u6700\u4f18\u89e3\u3002\n\n\u4e3a\u4ec0\u4e48\uff1f\u56e0\u4e3a $x_j<x_k<x_i,w_j<w_k<w_i$\uff0c\u6545 $|x_k-x_j|<|x_i-x_k|,w_k+w_j<w_i+w_k$\uff0c\n\n\u5373 $|x_k-x_j|(w_k+w_j)<|x_i-x_k|(w_i+w_k)$\uff0c\u5373 $calc(i,k)<calc(k,j)$\uff0c\n\n\u800c $calc(k,j)$ \u5728\u679a\u4e3e\u5230 $r=k$\uff0c\u8ba1\u7b97 $\\min\\limits_{l>r}(calc(l,r))$ \u65f6\u5df2\u7ecf\u8ba1\u7b97\u8fc7\u4e86\uff0c\u6545\u6b64\u65f6\u53ea\u6709 $(j,i)$ \u6709\u7528\u3002 \n\n\u4e0a\u9762\u7684\u6027\u8d28\u8fd8\u53ef\u4ee5\u63a8\u5e7f\uff1a\u5bf9\u4e8e\u4efb\u4f55 $r$\uff0c\u53ea\u6709 $calc(l',r)$ \u662f\u9700\u8981\u8ba1\u7b97\u7684\uff0c\u5176\u4e2d $l'$ \u662f\u6808 $s(r)$ \u7684\u6808\u9876\u5143\u7d20\u3002\n\n\u5f53\u7136\uff0c\u8fd8\u6709 $l>r$ \u7684\u60c5\u51b5\uff0c\u90a3\u4e48\u6211\u4eec\u8fd8\u9700\u8981\u5c06\u5143\u7d20\u5e8f\u5217\u7ffb\u8f6c\u540e\u505a\u4e00\u6b21\u540c\u6837\u7684\u64cd\u4f5c\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u6574\u4e2a\u5e8f\u5217\u4e2d\u7684\u7b54\u6848\uff0c\u53ea\u53ef\u80fd\u5728 $O(n)$ \u5bf9\u5143\u7d20\u5bf9\u4e2d\u51fa\u73b0\uff0c\u8fd9 $O(n)$ \u5bf9\u5143\u7d20\u5bf9\u5206\u522b\u662f\uff1a\n\n$\\forall r \\in[1,n]$\uff0c\u8bb0 $x$ \u4e3a $i$ \u5de6\u8fb9\u79bb $i$ \u6700\u8fd1\u4e14\u6ee1\u8db3 $w_x<w_i$ \u7684\u5143\u7d20\u4e0b\u6807\uff0c\n\n\u7c7b\u4f3c\u7684\uff0c\u8bb0 $y$ \u4e3a $i$ \u53f3\u8fb9\u79bb $i$ \u6700\u8fd1\u4e14\u6ee1\u8db3 $w_y<w_i$ \u7684\u5143\u7d20\u4e0b\u6807\uff0c\u5219 $(x,r)$ \u548c $(r,y)$ \u662f\u6709\u7528\u7684\u3002\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u73b0\u5728\u5df2\u7ecf\u89e3\u51b3\u4e86\u4e00\u7ec4\u8be2\u95ee\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u63a5\u4e0b\u6765\u5c31\u9700\u8981\u5feb\u901f\u7ef4\u62a4\u4e00\u6bb5\u533a\u95f4\u5185\u7684\u7b54\u6848\u3002\n\n\u5b9e\u9645\u4e0a\uff0c\u533a\u95f4 $[l,r]$ \u7684\u7b54\u6848\u5c31\u7b49\u4ef7\u4e8e\u4ee5\u4e0b\u5f0f\u5b50\u7684\u503c\uff1a$\\min\\limits_{l\\le i<j\\le r} calc(i,j)$\uff0c\u4e14\u6ee1\u8db3 $(i,j)$ \u662f\u6709\u7528\u7684\u5143\u7d20\u5bf9\u3002\n\n\u90a3\u4e48\uff0c\u5728\u4f7f\u7528\u5355\u8c03\u6808\u9884\u5904\u7406\u51fa\u6240\u6709\u6709\u7528\u7684\u5143\u7d20\u5bf9\u540e\uff0c\u95ee\u9898\u5c31\u8f6c\u5316\u4e3a\uff1a\n\n\u7ed9 $O(n)$ \u4e2a\u4e09\u5143\u7ec4 $(x_i,y_i,c_i)(1\\le x_i<y_i\\le n)$ \u548c $q$ \u6b21\u8be2\u95ee\uff0c\u6bcf\u6b21\u8be2\u95ee\u7ed9\u51fa\u533a\u95f4 $[l,r]$\uff0c\n\n\u8be2\u95ee\u4e2d\u9700\u8981\u6c42\u51fa\u6240\u6709\u6ee1\u8db3 $x_i,y_i$ \u90fd\u5728\u533a\u95f4\u5185\u7684\u4e09\u5143\u7ec4\u7684 $c_i$ \u7684\u6700\u5927\u503c\uff0c\u800c\u8fd9\u4e2a\u95ee\u9898\u5c31\u4e0d\u96be\u4e86\u3002\n\n\u4e00\u4e2a\u5728\u7ebf\u7684\u505a\u6cd5\u662f\u628a\u4e09\u5143\u7ec4\u6309 $x_i$ \u6392\u5e8f\u540e\uff0c\u4ee5 $y_i$ \u8fd9\u7ef4\u5efa\u4e3b\u5e2d\u6811\u5e76\u7ef4\u62a4\u7b54\u6848\uff0c\n\n\u4f46\u4e5f\u6709\u5f88\u65b9\u4fbf\u7684\u79bb\u7ebf\u8be2\u95ee\u540e\u626b\u63cf\u7ebf\u6811\u72b6\u6570\u7ec4\u7684\u505a\u6cd5\uff0c\u5177\u4f53\u6d41\u7a0b\u5982\u4e0b\uff1a\n\n\u6211\u4eec\u7ef4\u62a4\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff0c\u6570\u636e\u7ed3\u6784\u7ef4\u62a4\u4e86\u4e00\u4e2a\u957f $n$ \u7684\u5e8f\u5217\u7684\u4fe1\u606f\u3002\n\n\u6211\u4eec\u987a\u5e8f\u904d\u5386 $i$\uff0c\u6bcf\u6b21\u5bf9\u6240\u6709 $y_j=i$ \u7684\u4e09\u5143\u7ec4 $j$\uff0c\u628a\u6570\u636e\u7ed3\u6784\u4e0a\u4f4d\u7f6e $x_j$ \u7684\u503c\u4e0e $c_j$ \u53d6\u6700\u5c0f\u503c\uff0c\n\n\u7136\u540e\u5904\u7406\u6240\u6709\u53f3\u7aef\u70b9\u4e3a $i$ \u7684\u8be2\u95ee $[l,i]$\uff0c\u8003\u8651\u8be5\u8be2\u95ee\u7b54\u6848\u7b49\u4ef7\u4e8e\u6c42\u6570\u636e\u7ed3\u6784\u4e0a\u533a\u95f4 $[l,i]$ \u7684\u6700\u5c0f\u503c\uff0c\n\n\u56e0\u4e3a\u6b64\u65f6\u7684\u533a\u95f4 $[l,i]$ \u5b58\u50a8\u4e86\u6240\u6709\u6ee1\u8db3 $l\\le x_j\\le y_j\\le i$ \u7684\u4e09\u5143\u7ec4\u7684 $c_j$ \u7684\u6700\u5c0f\u503c\u3002\n\n\u66f4\u8fdb\u4e00\u6b65\uff0c\u6b64\u65f6\u67e5\u8be2\u540e\u7f00 $[l,n]$ \u7684\u6700\u5c0f\u503c\u4e5f\u662f\u7b49\u4ef7\u7684\uff0c\u56e0\u4e3a\u904d\u5386\u5230 $i$ \u65f6\uff0c$i$ \u540e\u9762\u4f4d\u7f6e\u6ca1\u6709\u8fc7\u4efb\u4f55\u64cd\u4f5c\u3002\n\n\u90a3\u4e48\uff0c\u8fd9\u4e2a\u6570\u636e\u7ed3\u6784\u9700\u8981\u652f\u6301\u7684\u64cd\u4f5c\u662f\uff0c\u5355\u70b9\u4e0e\u67d0\u4e2a\u503c\u53d6 $\\min$\uff0c\u4ee5\u53ca\u67e5\u8be2\u4e00\u6bb5\u540e\u7f00\u7684\u6700\u5c0f\u503c\uff0c\n\n\u8fd9\u4e2a\u53ef\u4ee5\u4f7f\u7528\u6811\u72b6\u6570\u7ec4\u5b9e\u73b0\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n\\log n)$\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u662f $O(n)$\u3002\n\n\u4ee3\u7801\u975e\u5e38\u597d\u4e9b\u4e14\u6ca1\u6709\u4ec0\u4e48\u5bb9\u6613\u5199\u9519\u7684\u5730\u65b9\uff0c\u5c31\u4e0d\u653e\u4e86\u3002",
        "postTime": 1645977246,
        "uid": 100091,
        "name": "GaryH",
        "ccfLevel": 6,
        "title": "CF1635F \u9898\u89e3"
    },
    {
        "content": "## CF1635F\n\n### \u9898\u610f\u7b80\u8ff0\n\u7ed9\u5b9a $n$ \u4e2a\u7269\u54c1\uff0c\u6bcf\u4e2a\u7269\u54c1\u6709\u5c5e\u6027 $x_i,w_i$\u3002$q$ \u6b21\u8be2\u95ee\uff0c\u6bcf\u6b21\u7ed9\u5b9a\u4e00\u4e2a\u533a\u95f4 $[l,r]$\uff0c\u6c42 $\\displaystyle\\min_{l\\leq i<j\\leq r}\\{|x_i-x_j|\\times (w_i+w_j)\\}$\u3002\n\n$1\\leq n,q\\leq 3\\times 10^5,1\\leq w\\leq 10^9,|x_i|\\leq 10^9,x_i<x_{i+1}$\u3002\n\n### \u9898\u76ee\u5206\u6790\n\u8bbe $L_i$ \u8868\u793a\u6700\u5927\u7684\u6ee1\u8db3 $j<i,w_j\\leq w_i$ \u7684 $j$\uff0c$R_i$ \u8868\u793a\u6700\u5c0f\u7684\u6ee1\u8db3 $j>i,w_j\\leq w_i$ \u7684 $j$\u3002\n\n\u6709\u7ed3\u8bba\uff1a\u6700\u4f18\u7684\u51b3\u7b56\u8981\u4e48\u662f $(L_i,i)$\uff0c\u8981\u4e48\u662f $(i,R_i)$\u3002\n\n\u8bc1\u660e\uff1a\n\n\u8bbe\u6700\u4f18\u51b3\u7b56\u4e3a $(i,j)(i<j)$\uff0c\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n\u82e5 $w_i\\leq w_j$\uff0c\u5219 $i=L_j$\u3002\u5426\u5219\uff0c$(i,L_j)$ \u663e\u7136\u66f4\u4f18\uff0c\u56e0\u4e3a\u82e5 $i\\ne L_j$\uff0c\u5219\u6839\u636e $L_j$ \u7684\u5b9a\u4e49\u53ef\u77e5 $i<L_j$\uff0c\u6240\u4ee5 $i<L_j<j$\uff0c\u5219 $|x_i-x_{L_j}|<|x_i-x_j|$\uff0c\u800c $w_i+w_{L_j}\\leq w_i+w_j$\uff0c\u6240\u4ee5 $(i,L_j)$ \u66f4\u4f18\u3002\n\n\u82e5 $w_i>w_j$\uff0c\u5219 $j=R_i$\u3002\u5426\u5219\uff0c$(j,R_i)$ \u663e\u7136\u66f4\u4f18\uff0c\u539f\u56e0\u540c\u4e0a\u3002\n\n\u6240\u4ee5\u6211\u4eec\u7684\u95ee\u9898\u53d8\u4e3a\uff1a\u6709 $2n$ \u4e2a\u70b9\u5bf9 $(x_i,y_i)$\uff0c\u6743\u503c\u4e3a $v_i$\u3002\u6bcf\u6b21\u7ed9\u5b9a\u4e00\u4e2a\u533a\u95f4 $[l,r]$\uff0c\u6c42 $\\displaystyle\\min_{l\\leq x_i,y_i\\leq r}v_i$\u3002\u8fd9\u4e2a\u95ee\u9898\u975e\u5e38\u7ecf\u5178\uff0c\u8f6c\u5316\u4e3a\u4e8c\u7ef4\u6570\u70b9\u5373\u53ef\u89e3\u51b3\uff0c\u8fd9\u91cc\u4e0d\u591a\u8d58\u8ff0\u3002\n\nCode\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nconst int N=3e5+10;\nint n,m,x[N],w[N],stk[N],top;\nvector<int>p[N];\nvector<pair<int,int> >q[N];\nstruct BIT\n{\n\tll c[N];\n\tvoid upd(int x,ll y){for(;x;x-=x&(-x))c[x]=min(c[x],y);}\n\tll ask(int x)\n\t{\n\t\tll res=9e18;\n\t\tfor(;x<=n;x+=x&(-x))res=min(res,c[x]);\n\t\treturn res;\n\t}\n}t;\nll ans[N];\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)scanf(\"%d%d\",&x[i],&w[i]);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\twhile(top&&w[stk[top]]>w[i])top--;\n\t\tif(top)p[i].push_back(stk[top]);\n\t\tstk[++top]=i;\n\t}\n\ttop=0;\n\tfor(int i=n;i;i--)\n\t{\n\t\twhile(top&&w[stk[top]]>w[i])top--;\n\t\tif(top)p[stk[top]].push_back(i);\n\t\tstk[++top]=i;\n\t}\n\tfor(int i=1,l,r;i<=m;i++)scanf(\"%d%d\",&l,&r),q[r].push_back({l,i});\n\tmemset(t.c,0x3f,sizeof(t.c));\n\tfor(int r=1;r<=n;r++)\n\t{\n\t\tfor(auto l:p[r])\n\t\t\tt.upd(l,1ll*(x[r]-x[l])*(w[r]+w[l]));\n\t\tfor(auto que:q[r])ans[que.second]=t.ask(que.first);\n\t}\n\tfor(int i=1;i<=m;i++)printf(\"%lld\\n\",ans[i]);\n\treturn 0;\n}\n```",
        "postTime": 1645409800,
        "uid": 333574,
        "name": "Tyyyyyy",
        "ccfLevel": 7,
        "title": "CF1635F\u9898\u89e3"
    },
    {
        "content": "### CF1635F Closest Pair\n\n$x$ \u9012\u589e\uff0c\u8003\u8651\u7ef4\u62a4 $w$\u3002\n\n\u8003\u8651\u5339\u914d\uff0c\u7531 $w$ \u5927\u7684\u5339\u914d $w$ \u5c0f\u7684\u3002\n\n\u663e\u7136\uff0c\u5355\u8c03\uff0c\u82e5 $i\\leq j\\leq k$\uff0c\u82e5 $w_k>w_j$\uff0c\u90a3\u4e48\u6700\u4f18\u7684\u5339\u914d\u4e00\u5b9a\u4e0d\u662f $(i,k)$\u3002\n\n\u6545\u8003\u8651\u7ef4\u62a4\u6bcf\u4e2a\u70b9 $i$\uff0c\u8bb0\u5f55\u5de6\u53f3\u8fb9\u7b2c\u4e00\u4e2a\u6ee1\u8db3 $w_j<w_i$ \u7684 $j$\uff0c\u5206\u522b\u8bb0\u4f5c $L_i$ \u548c $R_i$\uff0c\u5355\u8c03\u6808\u7ecf\u5178\u64cd\u4f5c\u3002\n\n\u6b64\u65f6\uff0c\u7b54\u6848\u5339\u914d\u53ea\u80fd\u662f\u533a\u95f4\u4e2d\u6240\u6709 $(L_i,i)$ \u548c $(i,R_i)$ \u4e2d\u6700\u5c0f\u7684\u4e86\uff0c\u5339\u914d\u65b9\u6848 $\\mathcal O(n)$\u3002\n\n\u7136\u540e\u5c06\u8be2\u95ee\u6309\u7167\u53f3\u7aef\u70b9\u6392\u5e8f\uff0c\u7ef4\u62a4\u5de6\u7aef\u70b9\uff0c\u7ebf\u6bb5\u6811\u67e5\u8be2\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(n\\log n)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\n#define ha putchar(' ')\n#define he putchar('\\n')\n\ninline int read()\n{\n\tint x = 0, f = 1;\n\tchar c = getchar();\n\twhile (c < '0' || c > '9')\n\t{\n\t\tif (c == '-')\n\t\t\tf = -1;\n\t\tc = getchar();\n\t}\n\twhile (c >= '0' && c <= '9')\n\t\tx = (x << 3) + (x << 1) + (c ^ 48), c = getchar();\n\treturn x * f;\n}\n\ninline void write(ll x)\n{\n\tif(x < 0)\n\t{\n\t\tputchar('-');\n\t\tx = -x;\n\t}\n\tif(x > 9)\n\t\twrite(x / 10);\n\tputchar(x % 10 + 48);\n}\n\nconst int _ = 3e5 + 10;\nconst ll inf = LLONG_MAX;\n\nint n, m, w[_], x[_], L[_], R[_], t, q[_];\n\nll as[_], tr[_ << 2];\n\nvector<int> d[_];\n\nvector<pair<int, int>> qr[_];\n\nvoid build(int o, int l, int r)\n{\n\ttr[o] = inf;\n\tif(l == r) return;\n\tint mid = (l + r) >> 1;\n\tbuild(o << 1, l, mid), build(o << 1 | 1, mid + 1, r);\n}\n\nvoid upd(int o, int l, int r, int p, ll v)\n{\n\tif(l == r) return tr[o] = min(tr[o], v), void();\n\tint mid = (l + r) >> 1;\n\tif(p <= mid) upd(o << 1, l, mid, p, v);\n\telse upd(o << 1 | 1, mid + 1, r, p, v);\n\ttr[o] = min(tr[o << 1], tr[o << 1 | 1]);\n}\n\nll qry(int o, int l, int r, int L, int R)\n{\n\tif(L <= l && r <= R) return tr[o];\n\tint mid = (l + r) >> 1; ll res = inf;\n\tif(L <= mid) res = qry(o << 1, l, mid, L, R);\n\tif(R > mid) res = min(res, qry(o << 1 | 1, mid + 1, r, L, R));\n\treturn res;\n}\n\nsigned main()\n{\n\tn = read(), m = read();\n\tfor(int i = 1; i <= n; ++i) x[i] = read(), w[i] = read();\n\tt = 0;\n\tfor(int i = 1; i <= n; ++i)\n\t{\n\t\twhile(t && w[q[t]] > w[i]) t--;\n\t\tL[i] = q[t];\n\t\tq[++t] = i;\n\t}\n\tt = 0;\n\tfor(int i = n; i >= 1; --i)\n\t{\n\t\twhile(t && w[q[t]] > w[i]) t--;\n\t\tR[i] = q[t];\n\t\tq[++t] = i;\n\t}\n\tfor(int i = 1, l, r; i <= m; ++i)\n\t{\n\t\tl = read(), r = read();\n\t\tqr[r].push_back({l, i});\n\t}\n\tfor(int i = 1; i <= n; ++i)\n\t{\n\t\tif(L[i]) d[i].push_back(L[i]);\n\t\tif(R[i]) d[R[i]].push_back(i);\n\t}\n\tbuild(1, 1, n);\n\tfor(int i = 1; i <= n; ++i)\n\t{\n\t\tfor(int j : d[i]) upd(1, 1, n, j, 1ll * abs(x[i] - x[j]) * (w[i] + w[j]));\n\t\tfor(pair<int, int> j : qr[i]) as[j.second] = qry(1, 1, n, j.first, i);\n\t}\n\tfor(int i = 1; i <= m; ++i) write(as[i]), he;\n\treturn 0;\n}\n```\n\n",
        "postTime": 1658127259,
        "uid": 257146,
        "name": "orz_z",
        "ccfLevel": 0,
        "title": "CF1635F Closest Pair"
    },
    {
        "content": "## \u524d\u8a00\n\u4e00\u822c\u901a\u8fc7\u7ed3\u8bba\u9898\u3002\n## \u601d\u8def\n\u9759\u6001\u79bb\u7ebf\u533a\u95f4\u8be2\u95ee\uff0c\u96be\u4ee5\u5feb\u901f\u52a0\u5165\u5355\u70b9\u4fe1\u606f\uff0c\u8003\u8651\u79bb\u7ebf\u4e0b\u6765\u626b\u63cf\u7ebf\u3002\n\n\u8003\u8651\u54ea\u4e9b $(i,j)$ \u662f\u4e0d\u4f18\u7684\u3002\n\n\u5982\u679c\u5b58\u5728 $p,q$\uff0c\u4f7f\u5f97 $x_p<x_q,w_p>w_q$\uff0c\u90a3\u4e48 $q$ \u4f5c\u4e3a $i$ \u4e00\u5b9a\u6bd4 $p$ \u4f18\u3002\u4e14\u66f4\u4f18\u7684\u51b3\u7b56\u533a\u95f4\u5728\u66f4\u52a3\u7684\u51b3\u7b56\u5185\uff0c\u56e0\u6b64\u8f83\u52a3\u7684\u51b3\u7b56\u6ca1\u6709\u610f\u4e49\u3002\n\n\u5982\u679c\u5b58\u5728 $p,q$\uff0c\u4f7f\u5f97 $x_p<x_q,w_p<w_q$\uff0c\u90a3\u4e48 $p$ \u4f5c\u4e3a $j$ \u4e00\u5b9a\u6bd4 $q$ \u4f18\uff0c\u4e14\u66f4\u4f18\u7684\u51b3\u7b56\u533a\u95f4\u5728\u66f4\u52a3\u7684\u51b3\u7b56\u5185\uff0c\u56e0\u6b64\u8f83\u52a3\u7684\u51b3\u7b56\u6ca1\u6709\u610f\u4e49\u3002\n\n\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u7ef4\u62a4\u4e00\u4e2a\u5355\u8c03\u6808\uff0c\u5176\u4e2d $x,w$ \u5747\u9012\u589e\uff0c\u663e\u7136\u53ea\u6709\u5355\u8c03\u6808\u5185\u7684\u5143\u7d20\u80fd\u548c\u65b0\u5143\u7d20\u4ea7\u751f\u6700\u4f18\u7684\u8d21\u732e\u3002\n\n\u8003\u8651\u65b0\u5143\u7d20 $g$ \u5728\u5355\u8c03\u6808\u4e2d\u63d2\u5165\u7684\u4f4d\u7f6e\u3002\u5bf9\u4e8e\u8fd9\u4e2a\u4f4d\u7f6e\u4e0b\u9762\u7684\u4f4d\u7f6e $t$\uff0c\u663e\u7136 $t$ \u4e0b\u9762\u7684\u5143\u7d20\u548c $t$ \u7684\u52a0\u6743\u8ddd\u79bb\u4e00\u5b9a\u6bd4\u8fd9\u4e9b\u5143\u7d20\u548c $g$ \u7684\u52a0\u6743\u8ddd\u79bb\u5c0f\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ea\u901a\u8fc7\u89c2\u5bdf\u6027\u8d28\u5c31\u627e\u51fa\u4e86\u4e00\u4e2a $O((n+m)\\log n)$ \u7684\u7b97\u6cd5\uff1a\n\n\u76f4\u63a5\u626b\u63cf\u7ebf\u626b\u53f3\u7aef\u70b9\uff0c\u7ef4\u62a4\u4e0a\u6587\u4e2d\u7684\u5355\u8c03\u6808\uff0c\u6bcf\u6b21\u53ea\u5bf9\u63d2\u5165\u4f4d\u7f6e\u5f80\u4e0a\u548c\u63d2\u5165\u4f4d\u7f6e\u6b63\u4e0b\u65b9\u66f4\u65b0\u7b54\u6848\uff0c\u67e5\u8be2\u5c31\u662f\u5355\u70b9\u4fee\u6539\u533a\u95f4 RMQ\uff0c\u4f7f\u7528\u7ebf\u6bb5\u6811\u5373\u53ef\u3002\n## \u4ee3\u7801\n\u61d2\u5f97\u5199\u4e86\u8d3a\u4e86 YanZhuoZLY \u7684\u4ee3\u7801\u3002\n\n```cpp\n// Problem: F. Closest Pair \n// Contest: Codeforces Round #772 (Div. 2)\n// URL: https://codeforces.com/contest/1635/problem/F\n// Memory Limit: 256 MB\n// Time Limit: 3000 ms\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n//And in that light,I find deliverance.\n#include<bits/stdc++.h>\n// #pragma GCC optimize(\"Ofast\")\n// #pragma GCC optimize(\"unroll-loops\")\n// #pragma GCC target(\"sse,sse2,sse3,ssse3,sse4,popcnt,abm,mmx,avx,avx2,tune=native\")\nusing namespace std;\n#define int long long\ninline int read(){\n   int s=0,w=1;\n   char ch=getchar();\n   while(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n   while(ch>='0'&&ch<='9') s=s*10+ch-'0',ch=getchar();\n   return s*w;\n}\nint ans[1200003];\nvoid update(int l,int r,int x,int id,int val)\n{\n\tif(l==r) \n\t{\n\t\tans[id]=min(ans[id],val);\n\t\treturn ;\n\t}\n\tint mid=(l+r)>>1;\n\tif(x<=mid) update(l,mid,x,id<<1,val);\n\telse update(mid+1,r,x,(id<<1)+1,val);\n\tans[id]=min(ans[(id<<1)],ans[(id<<1)+1]);\n\treturn ;\n}\nint query(int l,int r,int L,int R,int id)\n{\n\tif(L<=l && r<=R) return ans[id];\n\tint mid=(l+r)>>1;\n\tint res=0x3f3f3f3f3f3f3f3f;\n\tif(L<=mid) res=min(res,query(l,mid,L,R,id<<1));\n\tif(R>=mid+1) res=min(res,query(mid+1,r,L,R,(id<<1)+1));\n\treturn res;\n}\nstruct node\n{\n\tint l,id;\n};\nvector<node> e[300003];\nint Ans[300003],a[300003],w[300003];\nsigned main()\n{\n\tmemset(ans,0x3f,sizeof(ans));\n\tint n=read(),m=read();\n\tfor(int i=1; i<=n; ++i) a[i]=read(),w[i]=read();\n\tfor(int i=1; i<=m; ++i)\n\t{\n\t\tint l=read(),r=read();\n\t\te[r].push_back((node){l,i});\n\t}\n\tstack<int> stk;\n\tfor(int i=1; i<=n; ++i)\n\t{\n\t\twhile(!stk.empty())\n\t\t{\n\t\t\tint A=stk.top();\n\t\t\tupdate(1,n,A,1,(a[i]-a[A])*(w[i]+w[A]));\n\t\t\tif(w[A]>w[i])//i\u66f4\u4f18\n\t\t\t\tstk.pop();\n\t\t\telse break;\n\t\t}\n\t\tstk.push(i);\n\t\tfor(node j:e[i])\n\t\t\tAns[j.id]=query(1,n,j.l,i,1);\n\t}\n\tfor(int i=1; i<=m; ++i) printf(\"%lld\\n\",Ans[i]);\n\treturn 0;\n}\n```",
        "postTime": 1645427643,
        "uid": 111055,
        "name": "dead_X",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1635F"
    },
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n- \u7ed9\u5b9a $n(2 \\le n \\le 3\\times 10^5)$ \u4e2a\u4e8c\u5143\u7ec4 $(x_i,w_i)$\uff0c\u5176\u4e2d $|x_i|,|w_i| \\le 10^9$\u3002\n- \u8f93\u5165\u4e2d\u4e8c\u5143\u7ec4\u6309\u7167 $x_i$ \u4e25\u683c\u9012\u589e\u6392\u5e8f\u7ed9\u51fa\u3002\n- \u7ed9\u51fa $q(1\\le q \\le 3\\times 10^5)$ \u6b21\u8be2\u95ee\uff0c\u6bcf\u6b21\u8be2\u95ee\u7ed9\u51fa $l,r(1\\le l<r \\le n)$\uff0c\u4f60\u9700\u8981\u8f93\u51fa\uff1a\n\n$$\n\\min_{l\\le i<j\\le r} |x_i-x_j| \\cdot (w_i+w_j)\n$$\n\n## \u505a\u6cd5\u7b80\u4ecb\n\n\u9996\u5148\u6211\u4eec\u53d1\u73b0\u53ef\u80fd\u6210\u4e3a\u7b54\u6848\u7684 $(i,j)$ \u6570\u5bf9\u53ea\u6709 $O(n)$ \u4e2a\uff1a\u8003\u8651\u4e0b\u6807\u4e3a $i$ \u7684\u70b9\uff0c\u53ef\u80fd\u6210\u4e3a\u7b54\u6848\u7684\u70b9\u53ea\u6709\u5b83\u5de6\u53f3\u4e24\u8fb9\u79bb\u5b83\u6700\u8fd1\u7684 $w_i$ \u6bd4\u5b83\u5c0f\u7684\u70b9\u3002\u8bc1\u660e\u5982\u4e0b\uff1a\n\n- \u5047\u8bbe $i<j<k$\uff0c$w_i<w_j<w_k$\uff0c\u4e14 $(i,k)$ \u6570\u5bf9\u53ef\u80fd\u6210\u4e3a\u7b54\u6848\u3002\u5219\u6709 $|x_i-x_j| \\cdot (w_i+w_j) < |x_i-x_k| \\cdot (w_i+w_k)$\uff0c\u4e14 $[i,j]\\subseteq[i,k]$\uff0c\u6545 $(i,k)$ \u663e\u7136\u52a3\u4e8e $(i,j)$\uff0c\u4e0e\u5047\u8bbe\u77db\u76fe\u3002\n- \u53f3\u4fa7\u4e0e\u5de6\u4fa7\u540c\u7406\u3002\n\n\u5148\u7528\u5355\u8c03\u6808\u9884\u5904\u7406\u51fa\u6240\u6709\u53ef\u80fd\u6210\u4e3a\u7b54\u6848\u7684\u6570\u5bf9\uff0c\u6309\u7167 $j$ \u6392\u5e8f\u3002\u8be2\u95ee\u79bb\u7ebf\uff0c\u6309\u7167 $r$ \u6392\u5e8f\u3002\u626b\u63cf\u7ebf\u626b $l$\uff0c\u7ebf\u6bb5\u6811\u7ef4\u62a4\u533a\u95f4\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u6ce8\u610f\u8fd9\u9898\u7b54\u6848\u6700\u5927\u662f $10^{18}$ \u7ea7\u522b\u7684\uff0c\u6ce8\u610f\u8bbe\u5927\u4e0a\u754c\u5e76\u9009\u7528\u5408\u9002\u7684\u53d8\u91cf\u7c7b\u578b\u3002\n\n## \u4ee3\u7801\u53c2\u8003\n\n```cpp\nconst int N=2e6+9;\nstruct Node{int l,r;ll x;};\nstruct Q{int id,l,r;}q[N];\nint n,X[N],Y[N],sta[N],m;\nll Ans[N];\nvector<Node> a;\n\nstruct Seg{\n  ll mn[N];\n  inline void Up(int u){mn[u]=min(mn[u<<1],mn[u<<1|1]);}\n  void Build(int u,int l,int r){\n    if(l==r)return mn[u]=6e18,void();\n    int mid=(l+r)/2;\n    Build(u<<1,l,mid),Build(u<<1|1,mid+1,r);\n    Up(u);\n  }\n  void Add(int p,ll x,int u,int l,int r){\n    if(l==r)return down(mn[u],x),void();\n    int mid=(l+r)/2;\n    if(p<=mid)Add(p,x,u<<1,l,mid);\n    else Add(p,x,u<<1|1,mid+1,r);\n    Up(u);\n  }\n  ll Ask(int L,int R,int u,int l,int r){\n    if(L<=l&&r<=R)return mn[u];\n    int mid=(l+r)/2;\n    if(R<=mid)return Ask(L,R,u<<1,l,mid);\n    if(mid+1<=L) return Ask(L,R,u<<1|1,mid+1,r);\n    return min(Ask(L,R,u<<1,l,mid),Ask(L,R,u<<1|1,mid+1,r));\n  }\n}seg;\n\nsigned main() {\n  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);\n  cin>>n>>m;re(i,n)cin>>X[i]>>Y[i];\n  re(i,m)cin>>q[i].l>>q[i].r,q[i].id=i;\n  sort(q+1,q+m+1,[](Q a,Q b){return a.r<b.r;});\n  re(i,n){\n    while(sta[0]&&Y[sta[sta[0]]]>Y[i])--sta[0];\n    if(sta[sta[0]])a.push_back({sta[sta[0]],i,1ll*llabs(X[i]-X[sta[sta[0]]])*(Y[i]+Y[sta[sta[0]]])});\n    sta[++sta[0]]=i;\n  }\n  sta[0]=0;\n  per(i,n,1){\n    while(sta[0]&&Y[sta[sta[0]]]>Y[i])--sta[0];\n    if(sta[sta[0]])a.push_back({i,sta[sta[0]],1ll*llabs(X[i]-X[sta[sta[0]]])*(Y[i]+Y[sta[sta[0]]])});\n    sta[++sta[0]]=i;\n  }\n  sort(a.begin(),a.end(),[](Node x,Node y){return x.r<y.r;});\n  int qid=1;auto it=a.begin();\n  seg.Build(1,1,n);\n  re(i,n){\n    while(it!=a.end()&&it->r<=i)seg.Add(it->l,it->x,1,1,n),++it;\n    while(qid<=m&&q[qid].r<=i)Ans[q[qid].id]=seg.Ask(q[qid].l,n,1,1,n),++qid;\n  }\n  re(i,m)cout<<Ans[i]<<'\\n';\n  return 0;\n}\n```\n\n",
        "postTime": 1645410813,
        "uid": 207996,
        "name": "yzy1",
        "ccfLevel": 9,
        "title": "CF1635F \u9898\u89e3"
    },
    {
        "content": "[$\\tt Link$](/problem/CF1635F)\u3002\n\n$x$ \u6709\u4e00\u4e2a\u4f5c\u5dee\uff0c\u53bb\u7edd\u5bf9\u503c\u540e\u53d1\u73b0\u5bf9\u4e8e\u6bcf\u4e2a\u4f4d\u7f6e\u627e\u627e\u524d\u9a71\u540e\u7ee7\u53ef\u80fd\u4f1a\u6709\u601d\u8def\u3002\u800c\u6709\u5b9a\u7406\uff1a\n\n> \u5bf9\u4e8e\u4f4d\u7f6e $p$\uff0c\u4e0e\u5b83\u80fd\u4ea7\u751f\u6700\u5927\u7b54\u6848\u7684\u4f4d\u7f6e $q$ \u4e00\u5b9a\u6765\u81ea\u4e8e $[L_p,p]$ \u548c $[p,R_p]$\uff0c\u5176\u4e2d $L_p,R_p$ \u5206\u522b\u662f $w$ \u503c $\\le w_p$ \u4e14\u5c3d\u91cf\u4ece\u524d\u9a71/\u540e\u7ee7\u4e24\u4e2a\u65b9\u5411\u903c\u8fd1 $p$\n\n\u8bc1\u660e\uff08\u53cd\u8bc1\uff09\uff1a\n\n\u8bbe\u5b58\u5728 $i,j$ \u4f7f\u5f97 $i\\le R_i\\le j$ \u4e14 $w_i\\le w_{R_i}\\le w_j$\uff0c\u89c2\u5bdf\u5230 $(i,R_i)$ \u663e\u7136\u4f18\u4e8e $(i,j)$\uff0c\u5f53\u7136\u53e6\u4e00\u4fa7\u662f\u4e00\u6837\u7684\u3002\n\n\u77e5\u9053\u8fd9\u4e2a\u5c31\u5f88\u7b80\u5355\u4e86\u3002\u5355\u8c03\u6808\u6c42 $L,R$ \u662f\u5e38\u89c4\u5957\u8def\uff0c\u7136\u540e\u628a\u8fd9 $2n$ \u4e2a\u8be2\u95ee\u6309\u53f3\u7aef\u70b9\u6392\u5e8f\uff0c\u7ebf\u6bb5\u6811\u7ef4\u62a4\u7b54\u6848\u5373\u53ef\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\n#define rep(i,a,b) for(int i = (a);i <= (b);++i)\n#define Rep(i,a,b) for(int i = (a);i >= (b);--i)\n\nusing ll = long long;\n\nconst int N = 3e5 + 5;\nconst ll INF = 5e18;\n\nint n,m,stk[N],top,X[N],W[N],L[N],R[N]; ll ans[N];\nvector<pair<int,int> > Q[N]; vector<int> P[N];\n\nnamespace ST{\n\tll v[N << 2];\n\t\n\t#define lc (i << 1)\n\t#define rc (i << 1 | 1)\n\t#define mid ((L + R) >> 1)\n\t#define ls lc,L,mid\n\t#define rs rc,mid + 1,R\n\t#define id int i = 1,int L = 1,int R = n\n\t\n\t#define psu v[i] = min(v[lc],v[rc])\n\t\n\tvoid build(){ fill(begin(v),end(v),INF); }\n\t\n\tvoid upd(int p,ll x,id){\n\t\tif(L == R) return void(v[i] = min(v[i],x));\n\t\tp <= mid ? upd(p,x,ls) : upd(p,x,rs); psu;\n\t}\n\t\n\tll qry(int l,int r,id){\n\t\tif(l <= L && R <= r) return v[i];\n\t\tll Rt = INF;\n\t\tif(l <= mid) Rt = qry(l,r,ls);\n\t\tif(r > mid) Rt = min(Rt,qry(l,r,rs));\n\t\treturn Rt;\n\t}\n}\n\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\trep(i,1,n) scanf(\"%d%d\",X + i,W + i);\n\trep(i,1,n){\n\t\twhile(top && W[stk[top]] > W[i]) --top;\n\t\tL[i] = stk[top]; stk[++top] = i;\n\t} top = 0;\n\tRep(i,n,1){\n\t\twhile(top && W[stk[top]] > W[i]) --top;\n\t\tR[i] = stk[top]; stk[++top] = i;\n\t}\n\trep(i,1,n){\n\t\tif(L[i]) P[i].push_back(L[i]);\n\t\tif(R[i]) P[R[i]].push_back(i);\n\t}\n\trep(i,1,m){\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\tQ[r].emplace_back(l,i);\n\t}\n\tST::build();\n\trep(i,1,n){\n\t\tfor(int j : P[i]) ST::upd(j,1ll * abs(X[i] - X[j]) * (W[i] + W[j]));\n\t\tfor(auto[j,k] : Q[i]) ans[k] = ST::qry(j,i);\n\t}\n\trep(i,1,m) printf(\"%lld\\n\",ans[i]);\n\treturn 0;\n}\n```",
        "postTime": 1658145570,
        "uid": 368107,
        "name": "xfrvq",
        "ccfLevel": 7,
        "title": "CF1635F Closest Pair"
    },
    {
        "content": "###  PART 0 \u601d\u8def\n~~\u6700\u5f00\u59cb\u4ee5\u4e3a $x_i$ \u662f\u65e0\u5e8f\u7684\uff0c\u6123\u662f\u4e0d\u77e5\u9053\u600e\u4e48\u505a~~\n\n$x_i$\u662f\u6709\u5e8f\u7684\u90a3\u8fd9\u7edd\u5bf9\u503c\u5c31\u5f88\u597d\u62c6\u5f00 \u3002\n\n\u5982\u679c\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e2a\u70b9 $i$ \u679a\u4e3e\u5176\u5b83\u6240\u6709\u7684\u70b9 $j$\uff0c\u6b63\u786e\u6027\u662f\u6709\u7684\uff0c\u4f46\u679a\u4e3e\u7684\u6b21\u6570\u662f $n^2$ \u5feb\u4e50 $TLE$ \u7ea7\u522b\u3002\n\n\u601d\u8003\u6709\u6ca1\u6709\u4e00\u79cd\u65b9\u5f0f\uff0c\u8ba9\u6bcf\u4e2a\u70b9\u53ea\u9700\u8981\u679a\u4e3e\u5c11\u91cf\u8f83\u4f18\u70b9\uff0c\u800c\u7b54\u6848\u53ea\u4ea7\u751f\u4e8e\u8fd9\u4e9b\u70b9\u5bf9\u4e2d\u3002\n\n\u522b\u8bf4\uff0c\u8fd8\u771f\u6709\u3002~~\u4e0d\u7136\u600e\u4e48\u4f1a\u6709\u8fd9\u7bc7\u9898\u89e3~~\n\n\u5b9a\u4e49 $L_i$ \u4e3a\u6ee1\u8db3 $L_i<i,w_{L_i}\\leq w_i$ \u7684\u6700\u9760\u8fd1 $i$ \u7684\u70b9\u3002\n\n \u7c7b\u4f3c\u5730\u5b9a\u4e49 $R_i$ \u4e3a\u6ee1\u8db3 $R_i<i,w_{R_i}\\leq w_i$ \u7684\u6700\u9760\u8fd1 $i$ \u7684\u70b9\u3002\n\n\u6709\u7684\u540c\u5b66\u53ef\u80fd\u4f1a\u6709\u4e0b\u56fe\u7684\u7591\u60d1\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/akrorics.png)\n\n\n\u4f46\u662f\u53d1\u73b0\uff0c\u76f8\u6bd4 $i$ \u4e0e $j$ \u914d\u5bf9\u8fd8\u6709\u66f4\u4f18\u7684\uff1a$L_i$ \u4e0e $j$ \u914d\u5bf9\u3002\u800c $L_j$ \u4e0e $j$ \u76f8\u9694\u66f4\u8fd1\uff0c\u6240\u4ee5\u6700\u4f18\u7b54\u6848\u4e00\u5b9a\u4f1a\u88ab\u6211\u4eec\u8bb0\u5f55\u4e0b\u6765\u3002\uff08 $R_i$ \u4e0e $i$ \u540c\u7406\u53ef\u5f97\uff09\n\n\u540c\u65f6\uff0c\u7531\u4e8e$L_i$\u4e0e$R_i$ \u90fd\u662f\u79bb $i$ \u6700\u8fd1\u7684\uff0c\u6240\u4ee5\u533a\u95f4\u8be2\u95ee\u4f1a\u5f88\u597d\u89e3\u51b3\uff1a $L_i$ \u4e0e $i$ \u6216$R_i$ \u4e0e $i$ \u662f\u5426\u90fd\u5728\u8be2\u95ee\u533a\u95f4\u5185\u4fbf\u53ef\u4ea7\u751f\u8d21\u732e\u3002\n\n### PART 1 \u6c42 $L_i,R_i$\n\n\u6211\u4eec\u73b0\u5728\u5df2\u7ecf\u8bc1\u5230\u4e86\u6b63\u786e\u6027\uff0c\u63a5\u4e0b\u6765\u8003\u8651\u600e\u4e48\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\u627e $L_i$ \u4e0e $R_i$ \u3002\n\n\u518d\u56de\u53bb\u770b\u770b\u5b9a\u4e49\uff0c\u4e00\u4e2a\u5c0f\u4e8e\u53f7\u4e00\u4e2a\u5c0f\u4e8e\u7b49\u4e8e\u53f7\u662f\u4e0d\u662f\u50cf\u6781\u4e86\u4e8c\u7ef4\u504f\u5e8f\uff1f\u662f\u4e0d\u662f\u50cf\u6781\u4e86\u626b\u63cf\u7ebf\uff1f\n\n\uff08\u8fd9\u91cc\u6211\u53ea\u4f1a\u6811\u72b6\u6570\u7ec4\u545c\u545c\u545c\uff0c\u6709\u6ca1\u6709\u5927\u4f6c\u6559\u6559\u5355\u8c03\u6808\u7684\u505a\u6cd5\uff09\n\n### PART 2 \u8ba1\u7b97\u7b54\u6848\n\n\u8fd9\u4e9b\u533a\u95f4\u6ca1\u6709\u5f3a\u5236\u5728\u7ebf\u6211\u4eec\u4fbf\u53ef\u4ee5\u5c06\u5176\u79bb\u7ebf\uff0c\u5e76\u8fdb\u884c\u6392\u5e8f\u3002\n\n\u6211\u4eec\u6784\u60f3\u7684\u662f\uff0c\u6392\u5e8f\u4e4b\u540e\u6240\u6709\u540c\u65f6\u5305\u542b $i$ \u4e0e $L_i$ \u6216 $i$ \u4e0e $R_i$ \u7684\u533a\u95f4\u80fd\u5f97\u5230\u5176\u8d21\u732e\u3002\n\n\u4e3a\u4e86\u8868\u793a\u4e24\u4e2a\u70b9\u90fd\u5728\u533a\u95f4\u5185\uff0c\u6211\u60f3\u7684\u65b9\u6cd5\u662f\u5176\u4e2d\u4e00\u4e2a\u70b9\u5faa\u73af\u679a\u4e3e\uff0c\u53e6\u4e00\u4e2a\u70b9\u4f5c\u4e3a\u66f4\u65b0\u7684\u4f4d\u7f6e\u3002\n\n\u6211\u9009\u62e9\u4e86\u5c06\u5176\u5206\u6210\u4e24\u79cd\u60c5\u51b5\uff1a $i$ \u4e0e $L_i$ \uff0c$i$ \u4e0e $R_i$ \u5206\u522b\u5904\u7406\u3002\n\n\u5bf9\u4e8e $i$ \u4e0e $L_i$ \uff0c$i$ \u6b63\u5e8f\u679a\u4e3e\uff0c\u5c06\u8be2\u95ee\u533a\u95f4\u6309\u53f3\u7aef\u70b9\u6392\u5e8f\uff0c\u67e5\u8be2\u5176\u5de6\u7aef\u70b9\u7684\u540e\u7f00\u6700\u5c0f\u503c\u3002\n\n\u5bf9\u4e8e $i$ \u4e0e $R_i$\uff0c$i$ \u5012\u5e8f\u679a\u4e3e\uff0c\u5c06\u8be2\u95ee\u533a\u95f4\u6309\u5de6\u7aef\u70b9\u6392\u5e8f\uff0c\u67e5\u8be2\u5176\u53f3\u7aef\u70b9\u7684\u524d\u7f00\u6700\u5c0f\u503c\u3002\n\n\uff08\u8fd9\u4e2a\u5730\u65b9\u53ef\u4ee5\u53ea\u7528\u4e00\u68f5\u6811\u72b6\u6570\u7ec4\uff0c\u4f46\u6211\u53ea\u4f1a\u4e24\u68f5\u5624\u5624\u5624\uff09\n\n### PART 3 \u603b\u7ed3\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O((n+q)\\log n)$\n\n\u4e00\u68f5\u6811\u72b6\u6570\u7ec4\u7684\u4e8b\u6211\u5c45\u7136\u7528\u4e86\u56db\u9897\u00b7\u00b7\u00b7\n\n\u592a\u5f31\u5c0f\u4e86\uff0c\u6ca1\u6709\u529b\u91cf~\n\n### Code\uff08\u5947\u4e11\u65e0\u6bd4\uff09\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<map>\n#define N 300000+10\n#define int long long\nusing namespace std;\nint n,q;\nint p[N],w[N];\nmap<int,int>mp;\nint lsh[N],l[N],r[N];\nstruct BIT{\n\tint bit[N],m;\n\tvoid mem(int x){m=x;memset(bit,0x3f,sizeof(bit));}\n\tinline int ask(int x){int ret=0x3f3f3f3f3f3f3f3fll;for(;x;x-=x&-x)ret=min(ret,bit[x]);return ret;}\n\tinline void add(int x,int va){\n\t\tfor(;x<=m;x+=x&-x)\n\t\t\tbit[x]=min(bit[x],va);\n\t}\n}lp,rp,ls,rs;\nstruct ak{\n\tint l,r,id;\n}e[N];\nbool cmpl(ak x,ak y){\n\treturn x.l>y.l;\n}\nbool cmpr(ak x,ak y){\n\treturn x.r<y.r;\n}\nint ans[N];\ninline void scan(){\n\tscanf(\"%lld%lld\",&n,&q);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%lld%lld\",&p[i],&w[i]);\n\tfor(int i=1;i<=q;i++)\n\t\tscanf(\"%lld%lld\",&e[i].l,&e[i].r),e[i].id=i;\n}\ninline void pre(){\n\tint name=0;\n\tfor(int i=1;i<=n;i++)lsh[i]=w[i];\n\tsort(lsh+1,lsh+n+1);\n\tfor(int i=1;i<=n;i++)if(mp.find(lsh[i])==mp.end())mp[lsh[i]]=++name;\n\tlp.mem(name);rp.mem(name);\n\tfor(int i=1;i<=n;i++){\n\t\tint x=mp[w[i]];\n\t\tl[i]=-lp.ask(x);\n\t\tlp.add(x,-i);\n\t}\n\tfor(int i=n;i>=1;i--){\n\t\tint x=mp[w[i]];\n\t\tr[i]=rp.ask(x);\n\t\trp.add(x,i);\n\t}\n}\ninline void suan(){\n\tmemset(ans,0x3f,sizeof(ans));\n\tsort(e+1,e+q+1,cmpr);\n\tls.mem(n);rs.mem(n);\n\tfor(int i=1,j=1;i<=n&&j<=q;i++){\n\t\tif(l[i]>0)ls.add(n-l[i]+1,(p[i]-p[l[i]])*(w[i]+w[l[i]]));\n\t\twhile(e[j].r==i){\n\t\t\tans[e[j].id]=min(ans[e[j].id],ls.ask(n-e[j].l+1));\n\t\t\tj++;\n\t\t}\n\t}\n\tsort(e+1,e+q+1,cmpl);\n\tfor(int i=n,j=1;i>=1&&j<=q;i--){\n\t\tif(r[i]<=n)rs.add(r[i],(p[r[i]]-p[i])*(w[i]+w[r[i]]));\n\t\twhile(e[j].l==i){\n\t\t\tans[e[j].id]=min(ans[e[j].id],rs.ask(e[j].r));\n\t\t\tj++;\n\t\t}\n\t}\n}\ninline void print(){\n\tfor(int i=1;i<=q;i++)printf(\"%lld\\n\",ans[i]);\n}\nsigned main(){\n\tscan();\n\tpre();\n\tsuan();\n\tprint();\n\treturn 0;\n}\n```\n",
        "postTime": 1645446914,
        "uid": 371136,
        "name": "\u6e14\u6b4c",
        "ccfLevel": 7,
        "title": "CF1635F"
    }
]