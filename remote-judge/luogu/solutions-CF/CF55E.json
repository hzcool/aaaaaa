[
    {
        "content": "Zuo\u7684\u6211\u5f00\u59cb\u5199\u8fd9\u9053\u9898\u65f6\u60f3\u5230\u4e86\u5728\u524d\u5929\u770b\u5230\u7684\uff0c\u7ed3\u6784\u4f53\u4ec0\u4e48\u91cd\u8f7d\u7684\u3002\n\n> ``operator +(const P &a)const``\n\n\n\n------------\n\n**\u5f00\u59cb\u5207\u5165\u6b63\u9898\uff1a**\n\n\u697c\u4e0a\u4e5f\u8bf4\u4e86\uff0c\u51e0\u4f55\u9898\u3002\n\n\u5373\u6c42\uff1a**\u8981\u6c42\u70b9\u80fd\u88ab\u591a\u8fb9\u5f62\u4e2d\u9009\u51fa\u7684\u4e09\u89d2\u5f62\u5305\u542b\u7684\u4e2a\u6570\u3002** \n\n\u8fd9\u4e2a\u9700\u8981\u8003\u8651\u5176\u5bf9\u7acb\u9762\uff0c\u603b\u6570\u51cf\u53bb\u4e0d\u5305\u542b\u7684\u4e2a\u6570\u3002\uff08ps \u9898\u89e3\u771f\u5fc3\u5f3a\uff09\n\n**\u601d\u8def\uff1a**\n\n\u4e0d\u5305\u542b\u7684\u4e2a\u6570\u7684\u8bdd\uff0c\u4ee5\u4e00\u4e2a\u70b9$A$\u4e3a\u521d\u59cb\u70b9\u3002\n\n\u987a\u65f6\u9488\u627e\u5230$B$ \uff0c$AB$\u5f62\u6210\u7684\u76f4\u7ebf\u5728$p$\u7684\u53f3\u4fa7\uff0c\u6b64\u65f6\u6784\u6210\u7684\u4e09\u89d2\u5f62\u4e2a\u6570\u4e3a\uff08$A$\u4e0e\u4e0b\u9762$k$\u4e2a\u70b9\u4e2d\u9009$2$\u4e2a\u6784\u6210\u7684\u4e09\u89d2\u5f62\u7684\u4e2a\u6570\uff09\uff0c\u626b\u4e00\u5708\uff0c\u5c31\u53ef\u6c42\u51fa\u4e0d\u5305\u542b\u7684\u3002\n\n```\n#include<stdio.h>\n#include<iostream>\n#include<math.h>\n#include<string.h>\nusing namespace std;\n#define eps 1e-8\n#define ll __int64//\u8fd9\u4e2a\u8ddf__int128\u662f\u4e00\u4e2a\u4e1c\u897f\nint sig(double x) {return (x>eps)-(x<-eps);}\nstruct P\n{\n    double x,y;\n    P(double a=0,double b=0):x(a),y(b){}\n    P operator +(const P &a)const{\n        return P(x+a.x,y+a.y);\n    }\n    P operator -(const P &a)const{\n        return P(x-a.x,y-a.y);\n    }\n    P operator *(const double &a)const{\n        return P(x*a,y*a);\n    }\n    P operator /(const double &a)const{\n        return P(x/a,y/a);\n    }\n    double operator *(const P &a)const{\n        return (x*a.x+y*a.y);\n    }\n    double operator ^(const P &a)const{\n        return (x*a.y-y*a.x);\n    }\n};\nP p[100100];\nint main()\n{\n    ll n;\n    while(scanf(\"%I64d\",&n)!=EOF)\n    {\n        for(int i=0;i<n;i++)\n            scanf(\"%lf%lf\",&p[i].x,&p[i].y);\n        p[n]=p[0];\n        int t;\n        scanf(\"%d\",&t);\n        while(t--)\n        {\n            P q;\n            scanf(\"%lf%lf\",&q.x,&q.y);\n            int flag=0;\n            for(int i=0;i<n;i++)\n            {\n                if(sig((p[i]-q)^(p[i+1]-q))<=0)\n                    flag++;\n            }\n            //printf(\"%d\\n\",flag);\n            if(flag!=n)\n            {\n                printf(\"0\\n\");\n                continue;\n            }\n            ll num;\n            ll sum=(n*(n-1)*(n-2))/6;\n            int j=0;\n            for(int i=0;i<n;i++)\n            {\n                if(i==0) num=0;\n                else num=(num-1);\n                while(sig((p[i]-q)^(p[j]-q))<=0)\n                {\n                    if(j!=i)\n                    {num++;}\n                    j=(j+1)%n;\n                }\n                //printf(\"%I64d  %d\\n\",num,j);\n                sum-=(num*(num-1)/2);\n            }\n            printf(\"%I64d\\n\",sum);\n        }\n    }\n    return 0;\n}\n\n```\n\n\n",
        "postTime": 1593259338,
        "uid": 316896,
        "name": "Dimly_dust",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF55E \u3010Very simple problem\u3011"
    },
    {
        "content": "\u597d\u4e45\u4e0d\u5199\u51e0\u4f55\u9898\u6709\u4e9b\u624b\u751f\u4e86\u5462\uff0c\uff0c\uff0c\u6ca1\u60f3\u5230\u7adf\u7136\u4e00\u6b21\u6027\u8fc7\u4e86\u3002\u3002\n\n\u8bb2\u9053\u7406\u7684\u8bdd\uff0c\u9898\u76ee\u4e2d\u6709**simple**\u4e00\u8bcd\u7684\u9898\u76ee\u90fd\u4e0d\u4f1a\u7b80\u5355\u3002\u3002\n\n\u8fd9\u9053\u9898\u5982\u679c\u6211\u4eec\u76f4\u63a5\u8ba1\u7b97\u5305\u542b\u7684\u4e2a\u6570\uff0c\u672c\u849f\u84bb\u53ea\u80fd\u60f3\u5230$O(n^3)$\u7684\u89e3\u6cd5\uff0c\u7136\u540e\u5c31\u5495\u5495\u4e86\u3002\u3002\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u4ece\u53cd\u9762\u8003\u8651\u2014\u2014\u6570\u4e0d\u5305\u542b\u8be5\u70b9\u7684\u4e09\u89d2\u5f62\u3002\u7136\u540e\u6211\u4eec\u53d1\u73b0\uff0c\u5982\u679c\u4e00\u4e2a\u4e09\u89d2\u5f62\u4e0d\u5305\u542b\u8be5\u70b9\uff0c\u5219\u8fd9\u4e2a\u4e09\u89d2\u5f62\u603b\u6709\u4e00\u6761\u8fb9\u628a\u8be5\u70b9\u548c\u4e09\u89d2\u5f62\u53e6\u4e00\u4e2a\u9876\u70b9\u5206\u5272\u5f00\u4e86\uff0c\u4e8e\u662f\u6211\u4eec\u53ea\u9700\u8981\u679a\u4e3e\u7ebf\u6bb5\u90a3\u4e2a\u5206\u5272\u7ebf\u6bb5\uff0c\u7136\u540e\u6c42\u4e09\u89d2\u5f62\u53e6\u4e00\u4e2a\u9876\u70b9\u6709\u591a\u5c11\u79cd\u9009\u6cd5\u5373\u53ef\uff0c\u6700\u540e\u7528\u603b\u6570\u51cf\u4e00\u4e0b\u3002\n\n\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAX_N = 100005;\n\npair<long long, long long> a[2 * MAX_N];\n\ninline long long dis(long long x1, long long y1, long long x2, long long y2, long long x3, long long y3) {\n    return (x2 - x1) * (y3 - y2) - (y2 - y1) * (x3 - x2);\n}\n\ninline bool in_poly(long long x, long long y, int n) {\n    long long area1 = 0, area2 = 0;\n    for (int i = 1; i <= n; ++ i) area1 += a[i].first * a[i + 1].second - a[i].second * a[i + 1].first;\n    for (int i = 1; i <= n; ++ i) area2 += fabs(dis(x, y, a[i].first, a[i].second, a[i + 1].first, a[i + 1].second));\n    return fabs(area) == area2;\n}\n\nlong long C3(int x) {\n    if (x < 3) return 0;\n    return 1LL * x * (x - 1) * (x - 2) / 6;\n}\n\nlong long C2(int x) {\n    if (x < 2) return 0;\n    return 1LL * x * (x - 1) / 2;\n}\n\nlong long solve(long long x, long long y, int n) {\n    if (!in_poly(x, y, n)) return 0;\n    int j = 2; long long sum = 0;\n    for (int i = 1; i <= n; ++ i) {\n        for (;dis(a[i].first, a[i].second, a[j + 1].first, a[j + 1].second, x, y) < 0;++j);\n        sum += C2(j - i);\n    }\n    return C3(n) - sum;\n}\n\nint main() {\n    int n, t;\n    cin >> n;\n    for (int i = 1; i <= n; ++ i) cin >> a[i].first >> a[i].second;\n    for (int i = 1; i < n; ++ i) a[i + n] = a[i];\n    cin >> t;\n    for (int i = 1; i <= t; ++ i) {\n        long long x, y;\n        cin >> x >> y;\n        cout << solve(x, y, n) << \"\\n\";\n    }\n    return 0;\n}\n\n```",
        "postTime": 1546523630,
        "uid": 119553,
        "name": "rEdWhitE_uMbrElla",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF55E \u3010Very simple problem\u3011"
    }
]