[
    {
        "content": "## \u601d\u8def\n\n\u5bb9\u6613\u60f3\u5230\u6700\u591a\u53ea\u53ef\u80fd\u505a\u4e00\u6b21\u4f20\u9001\u95e8\uff0c\u8fd9\u6837\u95ee\u9898\u5c31\u8f6c\u5316\u4e3a\u4e86\u4e24\u4e2a\u641c\u7d22\u2014\u2014\u7528\u4f20\u9001\u95e8\u6216\u4e0d\u7528\uff0c\u5269\u4e0b\u7684\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86\uff0c\u5206\u522b\u4ece\u8d77\u70b9\u548c\u7ec8\u70b9bfs\uff0c\u5206\u522b\u6c42\u51fa\u79bb\u8d77\u70b9\u548c\u7ec8\u70b9\u603b\u8ddd\u79bb\uff08\u4e5f\u5c31\u662f\u8ddd\u79bb+\u4f20\u9001\u95e8\u8d39\u7528\uff09\u6700\u77ed\u7684\u4f20\u9001\u95e8\uff0c\u518d\u8ba1\u7b97\u6700\u7ec8\u7b54\u6848\u3002\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint n,m,w;\nint a[2010][2010],dis[2010][2010];\nlong long ans1=0x3f3f3f3f3f3f3f3f,ans2=0x3f3f3f3f3f3f3f3f,allans=0x3f3f3f3f3f3f3f3f;\nint dx[4]={0,0,1,-1};\nint dy[4]={1,-1,0,0};\nvoid bfs(int sx,int sy,long long &ans)\n{\n    memset(dis,-1,sizeof(dis));\n    queue<pair<int,int> >que;\n    dis[sx][sy]=0;\n    que.push(make_pair(sx,sy));\n    while(!que.empty())\n    {\n        int x=que.front().first,y=que.front().second;\n        que.pop();\n        for(int i=0;i<4;i++)\n        {\n            int nx=x+dx[i],ny=y+dy[i];\n            if(nx<1||ny<1||nx>n||ny>m||a[nx][ny]==-1||dis[nx][ny]!=-1) continue;\n            dis[nx][ny]=dis[x][y]+1;\n            que.push(make_pair(nx,ny));\n        }\n    }\n    if(sx==1&&dis[n][m]!=-1) allans=min(allans,(long long)dis[n][m]*w);\n    for(int i=1;i<=n;i++) for(int j=1;j<=m;j++) if(dis[i][j]!=-1&&a[i][j]>0) ans=min(ans,(long long)dis[i][j]*w+a[i][j]);\n}\nint main()\n{\n    scanf(\"%d%d%d\",&n,&m,&w);\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            scanf(\"%d\",&a[i][j]);\n        }\n    }\n    bfs(1,1,ans1);\n    bfs(n,m,ans2);\n    allans=min(allans,ans1+ans2);\n    //printf(\"%lld %lld %lld\\n\",ans1,ans2,allans);\n    printf(\"%lld\",allans==0x3f3f3f3f3f3f3f3f?-1:allans);\n    return 0;\n}\n```",
        "postTime": 1620482384,
        "uid": 189963,
        "name": "TimmyL",
        "ccfLevel": 7,
        "title": "CF1520G. To Go Or Not To Go?"
    },
    {
        "content": "\u3d58\u4e00\u7bc7 Div 3 \u9898\u89e3\u3002\n\n\u8d70\u7f51\u683c\uff0c\u7136\u540e\u6709\u4e00\u4e9b\u4f20\u9001\u7ad9\u80fd\u82b1\u8d39 $a_i+a_j$ \u7684\u4ee3\u4ef7\u4f20\u9001\u3002\n\n\u9996\u5148\u4f20\u9001\u7ad9\u53ea\u4f1a\u4f7f\u7528\u4e00\u6b21\u3002\n\n\u53cd\u8bc1\u5982\u679c\u4f7f\u7528\u4e24\u6b21 $a\\to b,c\\to d$\uff0c\u4e0d\u5982\u76f4\u63a5 $a\\to d$ \u3002\n\n\u90a3\u4e48\u4ece $(1,1)$ \u5f00\u59cb $\\rm BFS$ \u6c42\u51fa $d_{i,j}\\times w +a_{i,j}$ \u7684\u6700\u5c0f\u503c\u3002\n\n\u540c\u7406\u6c42\u51fa $(n,m)$ \u5f00\u59cb $d_{i,j}\\times w +a_{i,j}$ \u7684\u6700\u5c0f\u503c\u3002\n\n\u7528\u4e24\u4e2a\u6700\u5c0f\u503c\u4e4b\u548c\u66f4\u65b0\u7b54\u6848\u3002\n\n\u5982\u679c\u8d77\u70b9\u548c\u7ec8\u70b9\u8054\u901a\uff0c\u8003\u8651\u4e0d\u4f7f\u7528\u4f20\u9001\u7684\u65b9\u6848\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define pre(i,a,b) for(int i=a;i>=b;i--)\n#define N 2005\n#define int long long \nusing namespace std;\nint n,m,k,d[N][N],a[N][N],v[N][N],ans=0x7fffffffffffffffLL,op[2]={0x3f3f3f3f3f3f3f3fLL,0x3f3f3f3f3f3f3f3fLL};\ntypedef pair<int,int> Pr;\nqueue<Pr>q;int dx[4]={0,1,0,-1},dy[4]={1,0,-1,0};\nvoid bfs(int x,int y,int c){\n\twhile(!q.empty())q.pop();\n\tmemset(d,0x3f,sizeof(d));\n\tmemset(v,0,sizeof(v));\n\tv[x][y]=1;d[x][y]=0;q.push(make_pair(x,y));\n\twhile(!q.empty()){\n\t\tPr cur=q.front();q.pop();\n\t\tint x=cur.first,y=cur.second;\n\t\tif(a[x][y])op[c]=min(op[c],d[x][y]*k+a[x][y]);\n\t\trep(i,0,3){\n\t\t\tint xx=x+dx[i],yy=y+dy[i];\n\t\t\tif(!v[xx][yy]&&xx>=1&&yy>=1&&xx<=n&&yy<=m&&~a[xx][yy]){\n\t\t\t\td[xx][yy]=d[x][y]+1;v[xx][yy]=1;\n\t\t\t\tq.push(make_pair(xx,yy));\n\t\t\t}\n\t\t}\n\t}\n}\nsigned main(){\n\tscanf(\"%lld%lld%lld\",&n,&m,&k);\n\trep(i,1,n)rep(j,1,m)scanf(\"%lld\",&a[i][j]);\n\tbfs(1,1,0);bfs(n,m,1);\n\tif(v[1][1])ans=min(ans,d[1][1]*k);\n\tans=min(ans,op[0]+op[1]);\n\tif(ans>=0x3f3f3f3f3f3f3f3fLL){puts(\"-1\");return 0;}\n\tprintf(\"%lld\\n\",min(ans,op[0]+op[1]));\n\treturn 0;\n}\n```",
        "postTime": 1620348659,
        "uid": 119261,
        "name": "7KByte",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011CF1520G To Go Or Not To Go?"
    }
]