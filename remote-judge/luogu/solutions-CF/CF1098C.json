[
    {
        "content": "\u725b\u903c\u6784\u9020\u9898\u3002\n\n\u6309\u7167\u6211\u6a21\u62df\u8d5b\u770b\u5230\u8fd9\u4e2a\u9898\u7684\u60f3\u6cd5\u548c\u6ca1\u60f3\u5230\u7684\u90e8\u5206\u4e00\u6b65\u4e00\u6b65\u63a8\uff1a\n\n\u4ee4 $m$ \u4e3a\u9898\u76ee\u7ed9\u51fa\u7684 $s$\uff0c$s$ \u4e3a\u5f53\u524d\u7684\u513f\u5b50\u4e2a\u6570\u3002\n\n- \u65e0\u89e3\u663e\u7136\uff1a$m$ \u6700\u5c0f\u662f\u83ca\u82b1\u56fe\uff0c\u6700\u5927\u662f\u94fe\uff0c\u5224\u4e00\u4e0b\u5982\u679c\u4e0d\u5728\u4ed6\u4eec\u4e24\u4e2a\u4e4b\u95f4\u3002\n- \u9996\u5148\uff0c\u5b50\u6811\u548c\u662f\u4e0d\u597d\u5904\u7406\u7684\uff0c\u5c24\u5176\u8fd9\u4e2a\u9898\u8fd8\u8981\u6784\u9020\u3002\u8003\u8651\u6bcf\u4e2a\u8282\u70b9\u7684\u8d21\u732e\uff0c\u4e3a\u5b83\u7684\u6df1\u5ea6\uff08\u81ea\u8eab\u5230\u6839\u7684\u6bcf\u4e2a\u70b9\uff09\uff0c\u90a3\u4e48 $m=\\sum dep_i$\u3002\uff08$dep$ \u4e3a\u6df1\u5ea6\uff09\n- \u770b\u4e00\u4e0b\u5206\u652f\u7cfb\u6570\u7684\u9650\u5236\uff0c\u8bbe\u5206\u652f\u7cfb\u6570\u4e3a $k$\uff0c$k$ \u8d8a\u5c0f $s$ \u8d8a\u5927\u3002\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u4e8c\u5206\u6c42\u51fa $k$\u3002\n- \u5982\u4f55 check\uff1a\u5bf9\u4e8e\u7ed9\u5b9a\u7684 $k$\uff0c\u5b8c\u5168 $k$ \u53c9\u6811\u662f $s$ \u6700\u5c0f\u7684\u6784\u9020\u65b9\u6848\uff0c\u540c\u65f6\u53ef\u4ee5\u901a\u8fc7\u628a\u4e00\u4e2a\u70b9\u4e0b\u62c9\u6765\u8ba9 $s$ \u66f4\u5927\u76f4\u5230\u53d8\u6210 $k-1$ \u53c9\u6811\u3002\u90a3\u4e48\u6211\u4eec\u76f4\u63a5 check \u5b8c\u5168 $k$ \u53c9\u6811\uff0c\u7136\u540e\u548c $m$ \u6bd4\u8f83\u3002\n- \u627e\u5230\u6ee1\u8db3 $s\\le m$ \u7684\u6700\u5927 $k$\uff0c\u7136\u540e\u8c03\u6574\u3002\n- \u8003\u8651\u5148\u5efa\u51fa\u5b8c\u5168 $k-1$ \u53c9\u6811\uff0c\u8bbe\u6b64\u65f6\u7684 $m$ \u4e3a $ans$\uff0c\u7136\u540e\u628a\u70b9\u4e0a\u8c03\u3002\n- \u76f4\u63a5\u8c03\u6574\u611f\u89c9\u5f88\u96be\u7684\u6837\u5b50\uff0c\u7ef4\u62a4\u6bcf\u4e2a\u6df1\u5ea6\u70b9\u7684\u4e2a\u6570\u3002\n- \u8bbe\u5f53\u524d\u4e0a\u9762\u7684\u90e8\u5206\u6df1\u5ea6 $a$\uff0c\u4e0b\u9762\u662f $b$\uff0c\u91cd\u590d\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\u6765\u8c03\u6574\uff08\u8fd9\u91cc\u5982\u679c\u770b\u4e0d\u61c2\u53ef\u4ee5\u7ed3\u5408\u4ee3\u7801\u7684 work \u51fd\u6570\uff09\uff1a\n- \u6c42\u4e00\u4e0b\u4e0a\u9762\u7684\u90e8\u5206\u5269\u4f59\u7684\u7a7a\u4f4d\u548c\u4e0b\u9762\u90e8\u5206\u591a\u7684\u70b9\u7684\u6700\u5c0f\u503c\uff0c\u4e3a $now$\u3002\n- \u7136\u540e $ans=ans-now*(b-a)$\u3002\u5c31\u662f\u70b9\u7684\u4e2a\u6570\u4e58\u4e0a\u6df1\u5ea6\u7684\u53d8\u5316\u91cf\u3002\n- \u66f4\u65b0 $a,b$ \u6df1\u5ea6\u70b9\u7684\u6570\u91cf\uff0c\u4e00\u4e2a\u52a0 $now$ \u4e00\u4e2a\u51cf\u53bb\u3002\n- \u5982\u679c $a$ \u6ee1\u4e86\uff0c\u5c06 $a$ \u4e0b\u79fb\uff0c$b$ \u7a7a\u4e86\u5219\u4e0a\u8c03\u3002\n- \u6709\u4e00\u4e2a\u7ec6\u8282\uff1a$ans-now*(b-a)<m$ \u65f6\uff0c\u4e0d\u80fd\u66f4\u65b0 $now$ \u8fd9\u4e48\u591a\uff0c\u8981\u7279\u5224\u3002\n- \u5269\u4e0b\u4e00\u4e2a\u7b80\u5355\u7684\u95ee\u9898\uff1a\u7ed9\u5b9a\u6bcf\u4e2a\u6df1\u5ea6\u70b9\u7684\u4e2a\u6570\uff0c\u6784\u9020\u4e00\u68f5\u6ee1\u8db3\u6761\u4ef6\u7684\u6811\uff0c\u540c\u65f6\u513f\u5b50\u4e2a\u6570\u4e0d\u8fc7 $k$\uff0c\u4fdd\u8bc1\u6709\u89e3\u3002\n- \u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u6df1\u5ea6\uff0c\u7528\u4e00\u4e2a vector \u5b58\u6df1\u5ea6\u4e3a\u5f53\u524d\u6df1\u5ea6\u51cf\u4e00\u7684\u70b9\uff0c\u7136\u540e\u679a\u4e3e\u5f53\u524d\u6df1\u5ea6\u7684\u70b9\u53bb\u8fde vector \u4e2d\u7684\u70b9\uff0c\u5982\u679c\u6ee1 $k$ \u4e86\u5c31\u6362\u4e0b\u4e00\u4e2a\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<vector>\n#include<string>\n#include<cstring>\n#include<algorithm>\n#include<cstdio>\n#define write WWQWQW\nusing namespace std;\nvoid write(int x)\n{\n\tif(x/10) write(x/10);\n\tputchar(x%10+'0');\n}\nvoid F(int x)\n{\n\tif(x) putchar(' ');\n\telse putchar('\\n');\n}\nconst int N=1e6+5;\n#define int long long\nint f[N],num[N],Dep,ans;\nint n,m;\nint check(int x)\n{\n\tint now=n,dep=1;ans=0;\n\tfor(int i=1;i<=now;i*=x)\n\t{\n\t\tans+=i*dep;\n\t\tnum[dep]=i;\n\t\tdep++;\n\t\tnow-=i;\n\t}\n\tnum[dep]=now;\n\tans+=now*dep;\n\tDep=dep;\n\treturn ans;\n}\nvector<int> fa;\nvoid work(int x)\n{\n\tif(x-1) check(x-1);\n\tint a=2,b=Dep;\n\twhile(1)\n\t{\n\t\tint now=min(num[a-1]*x-num[a],num[b]);\n\t\tif(ans-now*(b-a)<=m) break;\n\t\tans-=now*(b-a);\n\t\tnum[a]+=now;\n\t\tnum[b]-=now;\n\t\tif(num[a]==x*num[a-1]) a++;\n\t\tif(num[b]==0) b--;\n\t}\n\tint rest=ans-m;\n\tint now=rest/(b-a);\n\tnum[a]+=now;\n\tnum[b]-=now;\n\trest-=now*(b-a);\n\tnum[b]--;num[b-rest]++;\n\tfa.push_back(1);\n\tnow=1;\n\tfor(int i=2;i<=b;i++)\n\t{\n\t\tint cnt=0,fat=0;\n\t\tint tmp=now+1;\n\t\tfor(int j=1;j<=num[i];j++)\n\t\t{\n\t\t\tf[++now]=fa[fat];\n\t\t\tcnt++;\n\t\t\tif(cnt==x) fat++,cnt=0;\n\t\t}\n\t\tfa.clear();\n\t\tfor(int j=tmp;j<=now;j++)\n\t\tfa.push_back(j);\n\t}\n}\nsigned main()\n{\n//\tfreopen(\"info.in\",\"r\",stdin);\n//\tfreopen(\"info.out\",\"w\",stdout);\n\tint T=1;\n\twhile(T--)\n\t{\n\t\tcin>>n>>m;\n\t\tif(m>n*(n+1)/2||m<2*n-1)\n\t\t{\n\t\t\tputs(\"No\");\n\t\t\tcontinue;\n\t\t}\n\t\tputs(\"Yes\");\n\t\tint l=1,r=n-1;\n\t\twhile(l<r)\n\t\t{\n\t\t\tint mid=l+r>>1;\n\t\t\tif(check(mid)>m) l=mid+1;\n\t\t\telse r=mid;\n\t\t}\n//\t\twrite(l);F(0);\n\t\twork(l);\n\t\tfor(int i=2;i<=n;i++)\n\t\twrite(f[i]),F(1);\n\t\tF(0);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1628648546,
        "uid": 196899,
        "name": "lndjy",
        "ccfLevel": 9,
        "title": "CF1098C Construct a tree"
    },
    {
        "content": "# \u9898\u89e3\n## ~~\u633a\u6c34\u7684\u4e00\u9053\u9898.~~ Rating $ \\color{orange} {2300}$  \u4ee5\u4e0b\u9001\u547d\u9898\u3002\n## \u9996\u5148\u6211\u4eec\u77e5\u9053\uff0c\u6240\u6709\u5b50\u6811\u5927\u5c0f\u4e4b\u548c\u5c31\u662f\u8282\u70b9\u4e2a\u6570\u52a0\u4e0a\u4ece\u6839\u5230\u6240\u6709\u8282\u70b9\u7684\u8def\u5f84\u957f\u5ea6\u4e4b\u548c\u3002\n## \u4ed6\u8981\u6c42\u5ea6\u6570\u5c3d\u53ef\u80fd\u5c0f\uff0c\u6240\u4ee5\u6211\u4eec\u4e8c\u5206\u5ea6\u6570$k$.\u663e\u7136\uff0c\u5ea6\u6570\u8d8a\u5c0f\uff0c\u5b50\u6811\u548c\u8d8a\u5927\u3002\n## \u5bf9\u4e8e\u4e00\u4e2a$k$\u53c9\u6811\uff0c\u4ed6\u7684\u5b50\u6811\u5927\u5c0f\u4e4b\u548c\u4e3a$n+k^2+k^3+...+rem$\n## \u6211\u4eec\u901a\u8fc7\u4e8c\u5206\u5f97\u5230\u6700\u5927\u7684\u8fb9\u754c$k$\n## \u7136\u540e\uff0c\u6b64\u65f6\u6211\u4eec\u7684\u5b50\u6811\u5927\u5c0f$s$\u662f\u8981\u5c0f\u4e8e\u7b49\u4e8e\u89c4\u5b9a\u7684\u5b50\u6811\u5927\u5c0f\u548c\u7684\u3002\n## \u6211\u4eec\u8003\u8651\u6269\u5927\u5b50\u6811\u5927\u5c0f\u3002\n## \u663e\u7136\uff0c\u6211\u4eec\u8ba9\u67d0\u4e9b\u8282\u70b9\uff0c\u5f80\u6df1\u5ea6\u6269\u5c55\u5c06\u4f1a\u6269\u5927\u6211\u4eec\u7684\u5b50\u6811\u5927\u5c0f\u3002\n## \u6211\u4eec\u8bb0\u5f55\u6bcf\u4e2a\u6df1\u5ea6\u7684\u8282\u70b9\u4e2a\u6570\uff0c\u5df2\u7ecf\u6bcf\u4e2a\u8282\u70b9\u7684\u6df1\u5ea6\u3002\n## \u6211\u4eec\u5c1d\u8bd5\u4ece\u6df1\u5ea6\u6700\u6df1\u7684\u8282\u70b9\u5f00\u59cb\u5f80\u4e0b\u6269\u5c55\uff0c\u76f4\u81f3\u5b50\u6811\u5927\u5c0f\u8fbe\u5230\u89c4\u5b9a\u5927\u5c0f\u3002\n\n## Tips:n-1\u53c9\u6811\u7684\u5927\u5c0f\u663e\u7136\u4e3a2*n-1 \u800c\u4e00\u6761\u94fe\u7684\u5927\u5c0f\u4e3a n*(n+1)/2 \u3002\u5982\u679ck\u4e0d\u5728\u8fd9\u4e2a\u8303\u56f4\u5185\uff0c\u5219\u65e0\u89e3\u3002\n## \u5177\u4f53\u5b9e\u73b0\u975e\u5e38\u7b80\u5355\u3002\u4ee3\u7801\u5982\u4e0b\n\n\n\n```cpp\n#include<bits/stdc++.h>\ntypedef long long ll;\nusing namespace std;\nconst int maxn = 1e6+10;\nll n,k,cnt[maxn],d[maxn];\nbool check(int x) {\n\tll i(2),j,t=1,num=k-n,dep=0;\n\tmemset(d,0,sizeof d);\n\tmemset(cnt,0,sizeof cnt);\n\twhile(i<=n) {\n\t\tt*=x;++dep;\n\t\tfor(j=1;j<=t&&i<=n;++i,++j) cnt[dep]++,d[i]=dep,num-=dep;\n\t}\n\tif(num<0) return false;\n\tj=n;\n\twhile(num) {\n\t\t++dep;\n\t\tif(cnt[d[j]]==1) --j;\n\t\tt = min(num,dep-d[j]);\n\t\tcnt[d[j]]--;\n\t\td[j]+=t;\n\t\tcnt[d[j]]++;\n\t\tnum-=t;\n\t\t--j;\n\t}\n\treturn true;\n}\nint main() {\n\tcin>>n>>k;\n\tif(k<(1LL*2*n-1)||k>(1LL*n*(n+1)/2)) {\n\t\tputs(\"No\");\n\t\texit(0);\n\t}\n\tint l = 1, r = n;\n\twhile(l<r) {\n\t\tint mid = (l+r)>>1;\n\t\tif(check(mid)) r=mid;\n\t\telse l = mid+1;\n\t}\n\tcheck(r);\n\tputs(\"Yes\");\n\tint pos;\n\td[pos=1]=0; sort(d+2,d+1+n); memset(cnt,0,sizeof cnt);\n\tfor(int i = 2;i<=n;++i) {\n\t\twhile(d[pos]!=d[i]-1||cnt[pos]==r) ++pos;\n\t\tcout<<pos<<' ';cnt[pos]++;\n\t}\n\treturn 0;\n}\n\n```",
        "postTime": 1547533913,
        "uid": 64618,
        "name": "\u6587\u6587\u6bbf\u4e0b",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1098C \u3010Construct a tree\u3011"
    },
    {
        "content": "\n## Solution\n\n\u9996\u5148\uff0c\u6211\u4eec\u8003\u8651\u4e8c\u5206\u7b54\u6848\uff0c\u5148\u7b97\u51fa\u8fd9\u4e2a\u5206\u652f\u7cfb\u6570\u6700\u5c0f\u662f\u591a\u5c11\uff0c\u4f46\u96be\u70b9\u5c31\u5728\u4e8e\u5982\u4f55\u5224\u65ad\uff0c\u9996\u5148\u6211\u4eec\u77e5\u9053\uff0c\u5982\u679c\u4e0d\u8003\u8651\u5206\u652f\u7cfb\u6570\uff0c$ s $ \u7684\u6700\u5c0f\u503c\u4e3a $ 2\\times n -1 $ \uff0c\u6700\u5927\u503c\u4e3a $ \\frac{n\\times(n-1) }{2} $ ,\u800c\u524d\u8005\u7684\u5206\u652f\u7cfb\u6570\u4e3a $ n-1 $ \u540e\u8005\u7684\u5206\u652f\u7cfb\u6570\u4e3a $ 1 $,\u4e00\u79cd\u662f\u83ca\u82b1\u56fe\uff0c\u4e00\u79cd\u662f\u94fe\uff0c\u90a3\u8fd9\u79cd\u6784\u9020\u65b9\u5f0f\u662f\u4e0d\u662f\u80fd\u7ed9\u6211\u4eec\u4e00\u70b9\u542f\u53d1\uff0c\u5c31\u662f\u6211\u4eec\u53ef\u4e0d\u53ef\u4ee5\u7b97\u51fa\u5728\u5206\u652f\u7cfb\u6570\u4e3a $ a $ \u65f6\uff0c\u4ed6\u7684 $ s $ \u7684\u4e0a\u9650\u4e0e\u4e0b\u9650\u7684\u6784\u9020\u65b9\u6848\u662f\u4e0d\u662f\u4e00\u6210\u4e0d\u53d8\u7684\uff0c\u800c\u5f53\u6211\u4eec\u6c42\u51fa\u4e86\u6700\u5c0f\u7684\u5206\u652f\u7cfb\u6570\u8fc7\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f00\u59cb\u771f\u6b63\u7684\u6784\u9020\u4e86\u3002\n\n\u6211\u4eec\u9996\u5148\u53ef\u4ee5\u53d1\u73b0\uff0c\u9898\u76ee\u4e2d\u7684\u8981\u6c42\u53ef\u4ee5\u8f6c\u5316\u4e3a $ \\sum_{i=1}^n dep_i=s $ \uff0c\u4e5f\u8bb8\u4f60\u4f1a\u95ee\u8fd9\u6837\u5b50\u8f6c\u5316\u4e00\u4e0b\u6709\u4ec0\u4e48\u7528\u5904\uff0c\u4f46\u6211\u4eec\u53d1\u73b0\uff0c\u5982\u679c\u9898\u76ee\u4e2d\u7684\u8981\u6c42\u8f6c\u5316\u6210\u4e86\u8fd9\u6837\uff0c\u6211\u4eec\u53ea\u9700\u8981\u66f4\u6362\u4e00\u4e2a\u70b9\u7684\u6df1\u5ea6\u5c31\u53ef\u4ee5\u6539\u53d8\u4ed6\u6574\u68f5\u6811\u7684\u4ef7\u503c\uff0c\u800c\u4e14\u53ef\u4ee5\u505a\u5230\uff0c\u5c31\u662f\u5355\u7eaf $ +1 $ \uff0c\u4f46\u662f\u6211\u4eec\u53d1\u73b0\uff0c\u8fd9\u6837\u5b50\u662f\u4f1a $ T $ \u7684\uff0c\u56e0\u4e3a $ s $ \u7684\u8303\u56f4\u5728 $ (0,10^{10}] $ ,\u90a3\u6211\u4eec\u5c31\u8981\u52a0\u901f\u3002\u6211\u4eec\u8003\u8651\u6700\u5de6\u8fb9\u7684\u90a3\u6761\u94fe\u4e3a\u6700\u7ec8\u94fe\uff0c\u90a3\u4e48\u5bf9\u4e8e\u4e00\u4e2a\u70b9\uff0c\u4ed6\u6539\u53d8\u4e00\u5b9a\u662f\u6539\u53d8\u5230\u6700\u5de6\u8fb9\u90a3\u6761\u94fe\uff0c\u800c\u6539\u53d8\u7684\u4e0a\u9650\u5c31\u662f $ sum-dep[now]+1 $ \uff0c\u800c $ sum $ \u5c31\u662f\u90a3\u6761\u6700\u7ec8\u94fe\u7684\u957f\u5ea6\u3002\n\n## Code\n\n```c++\n#include<bits/stdc++.h>\nusing namespace std;\ninline long long read()\n{\n  long long x=0,f=1;char ch=getchar();\n  while(!isdigit(ch)&&ch!='-')ch=getchar();\n  if(ch=='-')f=-1,ch=getchar();\n  while(isdigit(ch))x=(x<<1)+(x<<3)+ch-'0',ch=getchar();\n  return x*f;\n}\nlong long pow(long long x,long long y,long long p)\n{\n    long long ans=1;\n    for (;y;y>>=1,x=x*x % p)\n        if (y&1) ans=ans*x % p;\n    return ans;\n}\nlong long up,U,ww,aa[1001010],fre[1001010],ls[1001010],nw,id,deg[1001010],gg,j,dfn[1001010],di,fat[1001010],n,i,idd,dfnn[1001010],K,l,r,mid,ans,down,bb,dif,now,ed[1001010],sum,dep[1001010],e[1001010];\nvector<int> edge[1001010];\nbool exist[1001010];\nvoid sc(int x,int fa)\n{\n\tdep[x]=1;\n\tfor (int i=0;i<edge[x].size();i++)\n\t    {\n\t    \tint y=edge[x][i];\n\t    \tif (dep[y]==0)\n\t    \t    {\n\t    \t    \tsc(y,x);dep[x]+=dep[y];\n\t\t\t\t}\n\t\t}\n}\nlong long calc(long long mid)\n{\n\tfor (i=1;i<=n;i++) edge[i].clear(),dep[i]=0;\n    for (i=1;i<=n;i++) fre[i]=0;\n    int nw=1;\n    for (i=2;i<=n;i++)\n         {\n         \tedge[nw].push_back(i);\n         \tfre[nw]++;\n         \tif (fre[nw]==mid) nw++;\n\t\t }\n\tsc(1,0);\n\tlong long ans=0;\n\tfor (i=1;i<=n;i++) ans+=dep[i];\n\treturn ans;\n}\nvoid sc_build(int x,int fa)\n{\nid++;dfnn[id]=x;\nfor (int i=0;i<edge[x].size();i++)\n\tif (edge[x][i]!=fa)\n\t {\n     \tdep[edge[x][i]]=dep[x]+1;\n     sc_build(edge[x][i],x);\n     }\n}\nint main()\n{\n\t//ios::sync_with_stdio(0);cin.tie();cout.tie();\n    n=read();K=read();\n    if ((K<2*n-1)||(K>n*(n+1)/2))\n          {\n          \tputs(\"No\");return 0;\n\t\t  }\n\tputs(\"Yes\");\n    l=1;r=n-1;\n    while (l<=r)\n         { \n         mid=(l+r)/2;\n         if (calc(mid)<=K)\n              {\n              ans=mid;r=mid-1;\n\t\t      }\n\t\t  else l=mid+1;\n\t\t }\n\tdown=calc(ans);dif=K-down;bb=1;\n//\tcout<<dif<<endl;\n\tfor (now=0;now<n;now+=bb,bb*=ans)\n\t    sum++,ed[sum]=now+1,exist[now+1]=true;\n\t     //cout<<\"fuck\"<<sum<<endl;\n\tfor (i=1;i<=n;i++) edge[i].clear();\n\tfor (i=1;i<=n;i++) fre[i]=0,dep[i]=0;\n\tdep[1]=1;\nnw=1;\n\tfor (i=2;i<=n;i++)\n\t     {\n\t     \tedge[nw].push_back(i);deg[nw]++;deg[i]++;\n\t     \tfat[i]=nw;\n\t     \tfre[nw]++;\n\t     \tif (fre[nw]==ans) nw++;\n\t\t }\n\tsc_build(1,0);idd=sum;\n\tfor (i=1;i<=n;i++)\n\t    if (exist[i]==false)\n\t       {\n\t       \tgg++;up=dfnn[i];for (j=dfnn[i];j;j=fat[j]) up=j;\n\t       \tU=max(U,dep[i]);\n\t       \tif ((gg>1)&&(up==2))\n\t       \t     {\n\t       \t     \tww++;aa[ww]=i;\n\t\t\t\t\t}\n\t\t\t }  \n\tfor (i=U;i>=1;i--)\n\t     for (j=1;j<=ww;j++)\n\t         if (dep[aa[j]]==i)\n\t             {\n\t             \tidd++;dfn[idd]=aa[j];exist[aa[j]]=true;\n\t\t\t\t }\n\t\tww=0;\n\t\tfor (i=1;i<=n;i++)\n\t\t   if (exist[i]==false)\n\t       {\n\t       \tgg++;up=dfnn[i];for (j=dfnn[i];j;j=fat[j]) up=j;\n\t       \tU=max(U,dep[i]);\n\t       \tif ((gg>1)&&(up!=2))\n\t       \t     {\n\t       \t     \tww++;aa[ww]=i;\n\t\t\t\t\t}\n\t\t\t }  \n\tfor (i=U;i>=1;i--)\n\t     for (j=1;j<=ww;j++)\n\t         if (dep[aa[j]]==i)\n\t             {\n\t             \tidd++;dfn[idd]=aa[j];\n\t\t\t\t }\n    //sum:\u539f\u5148\u94fe\u7684\u957f\u5ea6\u3002\n    //cout<<fat[2]<<endl;\n    if (dif!=0)\n        {\n    for (i=sum+1;i<=n;i++)\n        { \n        now=dfn[i];//cout<<now<<endl;\n        if (dif>sum-dep[now]+1)  \n             { \n             dif-=(sum-dep[now]+1);\n             fat[now]=ed[sum];\n             sum++;ed[sum]=now;\n\t\t\t }\n\t\telse\n\t\t    { \n\t\t    di=dep[now]+dif-1;\n\t\t    //cout<<ed[di]<<endl;\n\t\t    dif=0;\n\t\t    fat[now]=ed[di];break;\n\t\t\t}\n\t\t}\n    }\n    //cout<<\"------\"<<dif<<\"------\"<<endl;\nfor (i=2;i<=n;i++) printf(\"%d \",fat[i]);\n    return 0;\n}\n\n```\n\n",
        "postTime": 1632309892,
        "uid": 508480,
        "name": "Albedo",
        "ccfLevel": 0,
        "title": "CF1098C Construct a tree"
    },
    {
        "content": "\u9000\u5f79\u9009\u624b\u73a9\u73a9\u6784\u9020\u3002  \n\n\u9996\u5148\u6211\u4eec\u8981\u786e\u5b9a\u7b54\u6848\u662f\u591a\u5c11\uff0c\u56e0\u4e3a\u53c9\u6570\u6240\u80fd\u8fbe\u5230\u7684\u6700\u5c0f\u5b50\u6811\u548c\u662f\u968f\u7740\u53c9\u6570\u5927\u5c0f\u800c\u9012\u589e\u7684\uff0c\u6240\u4ee5\u679a\u4e3e\u53c9\u6570 $k$\uff0c\u586b\u4e00\u4e2a\u5b8c\u5168 $k$ \u53c9\u6811\u770b\u770b\u7b54\u6848\u662f\u5426\u5c0f\u4e8e $s$\uff0c\u627e\u5230\u7b2c\u4e00\u4e2a\u5c0f\u4e8e $s$ \u7684\u5373\u53ef\u3002  \n\u56e0\u4e3a\u5b8c\u5168 $k$ \u53c9\u6811\u6df1\u5ea6\u53ea\u6709 $\\log$ \u7ea7\u522b\uff0c\u6240\u4ee5\u8fd9\u90e8\u5206\u65f6\u95f4\u590d\u6742\u5ea6\u662f $\\mathcal O(n \\log n)$ \u7684\u3002\u56e0\u4e3a\u4ece\u5b8c\u5168 $k$ \u53c9\u6570\u5f00\u59cb\uff0c\u4efb\u610f\u65f6\u523b\uff08\u9664\u4e86\u6210\u4e3a\u4e00\u6761\u94fe\uff09\u5b58\u5728\u4e00\u79cd\u65b9\u6848\u4f7f\u5f97\u53c9\u6570\u4e0d\u589e\u52a0\u4e14\u4e00\u4e2a\u632a\u52a8\u5230\u4e0b\u4e00\u5c42\uff0c\u6240\u4ee5\u5bf9\u4e8e $k$ \u53c9\u6811\u4e00\u5b9a\u6709\u89e3\u3002\n\n\u8003\u8651\u5982\u4f55\u6784\u9020\u51fa\u8fd9\u4e2a\u89e3\uff0c\u53ef\u4ee5\u628a\u6811\u4e0a\u95ee\u9898\u8f6c\u6362\u6210\u5e8f\u5217\u4e0a\u95ee\u9898\uff0c\u5373\u6c42\u5e8f\u5217 $a$ \u6ee1\u8db3 $\\sum a = n$ \u4e14 $\\max_{i = 2}^r \\frac{a_i - a_{i - 1}}{a_{i - 1}} \\le k$ \u4e14 $\\sum_{i = 1}^r i \\cdot a_i = s$\u3002  \n\u540c\u6837\u53ef\u4ee5\u4ece\u6ee1\u7684\u60c5\u51b5\u5f00\u59cb\u79fb\u52a8\u3002\u624b\u73a9\u4e00\u4e0b $k = 2$ \u7684\u60c5\u51b5\u53ef\u4ee5\u53d1\u73b0\uff0c\u5982\u679c\u786e\u4fdd\u4e00\u4e2a\u540e\u9762\u7684\u90fd\u662f\u8fd9\u4e00\u4e2a\u7684 $\\frac{1}{k}$ \u53ca\u4ee5\u4e0b\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u968f\u4fbf\u5f80\u540e\u79fb\u52a8\uff0c\u5bb9\u6613\u8bc1\u660e\uff0c\u8fd9\u5bf9\u4e8e $k > 2$ \u540c\u6837\u9002\u7528\u3002  \n\u6240\u4ee5\u5c31\u6709\u4e86\u8fd9\u6837\u4e00\u4e2a\u505a\u6cd5\uff0c\u641e\u4fe9\u6307\u9488 $l, r$\uff0c\u6bcf\u6b21\u4ece $r$ \u904d\u5386\u5230 $l$\uff0c\u82e5 $a_r = k^{l-1}$ \u5219 $r$ \u53f3\u79fb\u4e00\u4e2a\uff0c\u5982\u679c\u5f53\u524d\u7684\u5927\u4e8e $k^{l - 1}$ \u5219\u9700\u8981\u79fb\u52a8\uff0c\u5982\u679c\u5f53\u524d\u585e\u5230 $a_r$ \u53bb\u4e0d\u4f1a\u4f7f\u7b54\u6848\u8d85\u51fa $s$ \u90a3\u4e48\u79fb\u52a8\u5230\u6700\u53f3\u8fb9\uff0c\u5426\u5219\u79fb\u52a8\u5230\u5408\u9002\u7684\u4f4d\u7f6e\u7ec8\u6b62\u6784\u9020\u3002  \n\u6bcf\u6b21\u6700\u591a\u904d\u5386\u6811\u7684\u6240\u6709\u7ed3\u70b9\uff0c$l$ \u6700\u591a\u79fb\u52a8 $\\log$ \u6b21\uff0c\u6240\u4ee5\u590d\u6742\u5ea6\u662f $\\mathcal O(n \\log n)$ \u7684\u3002\n\nCodeforces \u63d0\u4ea4\u8bb0\u5f55\uff1a[#158536993](https://codeforces.com/contest/1098/submission/158536993)\u3002",
        "postTime": 1653605092,
        "uid": 499996,
        "name": "Qiaoqia",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1098C Construct a tree"
    },
    {
        "content": "\u7d2b\u9898\u5413\u4eba\u7684\uff0c\u663e\u7136\u6ca1\u5230\u8fd9\u4e2a\u96be\u5ea6\u3002\n\n\u5bb9\u6613\u53d1\u73b0\u5b50\u6811\u5927\u5c0f\u7684\u548c\u662f\u6bcf\u4e2a\u70b9\u6df1\u5ea6\u4e4b\u548c\u3002\n\n\u8003\u8651\u4e8c\u5206\u7b54\u6848\uff0c\u8bbe\u5f53\u524d\u7b54\u6848\u662f $k$\uff0c\u6211\u4eec\u5148\u653e\u4e00\u6761\u94fe\uff0c\u7136\u540e\u6bcf\u6b21\u5c06\u94fe\u6df1\u5ea6\u6700\u5927\u7684\u70b9\u63a5\u5230\u5176\u4ed6\u5730\u65b9\u53bb\u3002\n\n\u8d2a\u5fc3\u7684\u60f3\uff0c\u76f4\u63a5\u5f80\u6df1\u5ea6\u6700\u5c0f\u7684\u5ea6\u6570\u6ca1\u8d85 $k$ \u7684\u5730\u65b9\u63a5\u4e0a\u53bb\u3002\n\n\u4e00\u6b65\u4e00\u6b65\u8ba9\u6df1\u5ea6\u7684\u548c\u903c\u8fd1\u9898\u76ee\u7ed9\u51fa\u7684\u6570\u5c31\u884c\u4e86\u3002\n\n\u8fd9\u6837\u5f97\u51fa\u4e86\u4e00\u7ec4\u6df1\u5ea6\uff0c\u6784\u9020\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86\u3002\n\n[Code](https://paste.ubuntu.com/p/jHhFRsvmm8/)",
        "postTime": 1632293145,
        "uid": 171487,
        "name": "cmll02",
        "ccfLevel": 8,
        "title": "qwqwqwq"
    }
]