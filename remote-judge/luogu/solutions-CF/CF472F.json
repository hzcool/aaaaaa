[
    {
        "content": "### $Description$\n\u7ed9\u5b9a\u4e24\u4e2a\u957f\u4e3a$n$\u7684\u6570\u7ec4$x_i,y_i$\u3002\u6bcf\u6b21\u4f60\u53ef\u4ee5\u9009\u5b9a$i,j$\uff0c\u4ee4$x_i=x_i\\ \\mathbb{xor}\\ x_j$\uff08$i,j$\u53ef\u4ee5\u76f8\u7b49\uff09\u3002\u8981\u6c42\u82e5\u5e72\u6b21\u64cd\u4f5c\u540e\u4f7f\u5f97$x$\u53d8\u6210$y$\uff0c\u8f93\u51fa\u65b9\u6848\u3002\u64cd\u4f5c\u6b21\u6570\u4e0d\u80fd\u591a\u4e8e$10^6$\uff0c\u65e0\u89e3\u8f93\u51fa$-1$\u3002\n\n$n\\leq10^4,\\ 0\\leq x_i,y_i\\leq10^9$\u3002\n\n### $Solution$\n\u8003\u8651\u5f02\u6216\u7684\u4e24\u4e2a\u57fa\u672c\u6027\u8d28\uff1a\n\n1. \u5f02\u6216\u662f\u53ef\u9006\u7684\uff0c\u9006\u8fd0\u7b97\u5c31\u662f\u5b83\u672c\u8eab\u3002\n2. \u53ef\u4ee5\u4ea4\u6362\u4e24\u4e2a\u6570\uff1a`a^=b,b^=a,a^=b`\u3002\n\n\u8003\u8651\u7ebf\u6027\u57fa\u3002\u6784\u9020\u51fa$x$\u7684\u7ebf\u6027\u57fa\uff0c\u5982\u679c$y$\u4e2d\u5b58\u5728\u5143\u7d20\u4e0d\u80fd\u88ab$x$\u8868\u793a\u51fa\u6765\uff0c\u90a3\u4e48\u65e0\u89e3\u3002\n\n\u6211\u4eec\u53d1\u73b0\u5bf9\u4e8e\u4e0d\u5728\u7ebf\u6027\u57fa\u4e2d\u7684\u5143\u7d20$x_i$\uff0c\u5f97\u5230$y_i$\u662f\u5f88\u5bb9\u6613\u7684\uff0c\u53ea\u9700\u8981\u6c42\u4e00\u4e0b\u5728\u7ebf\u6027\u57fa\u4e2d$\\mathbb{xor}$\u51fa$y_i$\u9700\u8981\u5f02\u6216\u54ea\u4e9b\u6570\u3002\n\n\u5bf9\u4e8e\u5728\u7ebf\u6027\u57fa\u4e2d\u7684\u5143\u7d20\uff0c\u8bbe\u6709$t$\u4e2a\uff0c\u5b83\u4eec\u4e4b\u95f4\u4e0d\u662f\u5f88\u597d\u505a\u3002\u628a$t$\u4e2a$x_i$\u5bf9\u5e94\u7684$y_i$\u9700\u8981$\\mathbb{xor}$\u54ea\u4e9b\u57fa\u5199\u6210\u4e00\u4e2a$t$\u4f4d\u4e8c\u8fdb\u5236\u6570\u3002\u7531\u7b2c\u4e8c\u4e2a\u6027\u8d28\uff0c\u6211\u4eec\u53ef\u4ee5\u9ad8\u65af\u6d88\u5143\u5c06\u8fd9\u4e2a$t\\times t$\u7684\u77e9\u9635\u6d88\u6210\u4e00\u4e2a\u4e0a\u4e09\u89d2\u77e9\u9635\uff0c\u8fd9\u6837\u4ece\u9ad8\u4f4d\u5230\u4f4e\u4f4d\u505a\u4e0d\u540c\u57fa\u4e4b\u95f4\u5c31\u4e92\u4e0d\u5f71\u54cd\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5$\\mathbb{xor}$\u51fa\u8fd9\u4e2a\u77e9\u9635\u3002\n\n\u800c\u7531\u7b2c\u4e00\u4e2a\u6027\u8d28\uff0c\u5c06\u9ad8\u65af\u6d88\u5143\u7684\u8fc7\u7a0b\u53cd\u8fc7\u6765\u64cd\u4f5c\u8fd9\u4e2a\u4e0a\u4e09\u89d2\u77e9\u9635\uff0c\u5c31\u53ef\u4ee5\u8fd8\u539f\u56de$y$\u6570\u7ec4\u3002\n\n-----\n```cpp\n//46ms\t3100KB\n#include <cstdio>\n#include <cctype>\n#include <vector>\n#include <algorithm>\n#define BIT 29\n#define mp std::make_pair\n#define pr std::pair<int,int>\n#define gc() getchar()\ntypedef long long LL;\nconst int N=10005,M=BIT+2;\n\nint x[N],y[N],base[M],is_base[N],b[M],sx[M],sy[N];\nstd::vector<pr> ans,opt;\n\ninline int read()\n{\n\tint now=0;register char c=gc();\n\tfor(;!isdigit(c);c=gc());\n\tfor(;isdigit(c);now=now*10+c-48,c=gc());\n\treturn now;\n}\n\nint main()\n{\n\tint n=read();\n\tfor(int i=1; i<=n; ++i) x[i]=read();\n\tfor(int i=1; i<=n; ++i) y[i]=read();\n\tfor(int i=1; i<=n; ++i)\n\t{\n\t\tis_base[i]=-1;\n\t\tfor(int j=BIT,s=0; ~j; --j)\n\t\t\tif(x[i]>>j&1)\n\t\t\t\tif(base[j]) x[i]^=x[base[j]], s^=sx[j];\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tis_base[i]=j, base[j]=i, sx[j]=s|(1<<j);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t}\n\tint cnt=0;\n\tfor(int i=1; i<=n; ++i)\n\t{\n\t\tint s=0;\n\t\tfor(int j=BIT; ~j; --j)\n\t\t\tif(y[i]>>j&1)\n\t\t\t\tif(base[j]) y[i]^=x[base[j]], s^=sx[j];\n\t\t\t\telse return puts(\"-1\"),0;\n\t\tif(~is_base[i]) {b[cnt]=i, sy[cnt++]=s; continue;}//\u53ef\u4ee5\u7b49\u4e8e0\u554a\u3002\u3002\n\t\tans.push_back(mp(i,i));\n\t\tfor(int j=BIT; ~j; --j) if(s>>j&1) ans.push_back(mp(i,base[j]));\n\t}\n\tfor(int i=0; i<cnt; ++i)\n\t{\n\t\tint s=sy[i]; sy[i]=0;\n\t\tfor(int j=0; j<cnt; ++j) if(s>>is_base[b[j]]&1) sy[i]|=1<<j;\n\t}\n\tfor(int i=0; i<cnt; ++i)\n\t{\n\t\tif(!(sy[i]>>i&1))\n\t\t\tfor(int j=i+1; j<cnt; ++j)\n\t\t\t\tif(sy[j]>>i&1)\n\t\t\t\t{\n\t\t\t\t\topt.push_back(mp(b[i],b[j]));\n\t\t\t\t\topt.push_back(mp(b[j],b[i]));\n\t\t\t\t\topt.push_back(mp(b[i],b[j]));\n\t\t\t\t\tstd::swap(sy[i],sy[j]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\tif(sy[i]>>i&1)\n\t\t\tfor(int j=i+1; j<cnt; ++j)\n\t\t\t\tif(sy[j]>>i&1)\n\t\t\t\t\topt.push_back(mp(b[j],b[i])), sy[j]^=sy[i];\n\t}\n\tfor(int i=0; i<cnt; ++i)\n\t{\n\t\tif(!(sy[i]>>i&1)) ans.push_back(mp(b[i],b[i]));\n\t\tfor(int j=i+1; j<cnt; ++j)\n\t\t\tif(sy[i]>>j&1) ans.push_back(mp(b[i],b[j]));\n\t}\n\tstd::reverse(opt.begin(),opt.end());\n\tfor(auto v:opt) ans.push_back(v);\n\tprintf(\"%d\\n\",ans.size());\n\tfor(auto v:ans) printf(\"%d %d\\n\",v.first,v.second);\n\n\treturn 0;\n}\n```",
        "postTime": 1552531911,
        "uid": 39887,
        "name": "SovietPower\u2728",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF472F \u3010Design Tutorial: Change the Goal\u3011"
    }
]