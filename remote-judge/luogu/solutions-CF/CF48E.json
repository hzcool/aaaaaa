[
    {
        "content": "## \u9898\u610f  \n- \u9f99\u6709 $h$ \u4e2a\u5934\u4e0e $t$ \u4e2a\u5c3e\u5df4\uff0c\u611a\u8005\u60f3\u6740\u6b7b\u4e86\u9f99\uff0c\u4ed6\u6bcf\u6b21\u53ef\u4ee5\u780d\u65ad\u9f99 $i\\in[1,n]$ \u4e2a\u5934\u6216 $i\\in[1,m]$ \u4e2a\u5c3e\u5df4\u3002  \n- \u5982\u679c\u780d\u4e86 $i$ \u4e2a\u5934\uff0c\u5219\u9f99\u4f1a\u65b0\u957f $hn_i$ \u4e2a\u5934\u4e0e $tn_i$ \u4e2a\u5c3e\u5df4\uff0c\u5982\u679c\u780d\u4e86 $i$ \u4e2a\u5c3e\u5df4\uff0c\u5219\u9f99\u4f1a\u65b0\u957f $hm_i$ \u4e2a\u5934\u4e0e $tm_i$ \u4e2a\u5c3e\u5df4\u3002  \n- \u5f53\u9f99\u5934\u52a0\u5c3e\u6570\u5927\u4e8e $R$ $(h+t>R)$ \u65f6\u611a\u8005\u5931\u8d25\uff0c\u5f53\u65e0\u5934\u4e14\u65e0\u5c3e $(h=t=0)$ \u65f6\u611a\u8005\u80dc\u3002  \n- \u5224\u65ad\u611a\u8005\u5982\u679c\u80fd\u80dc\u6700\u5feb\u591a\u5feb\u80dc\uff0c\u65e0\u6cd5\u80dc\u5229\u5219\u662f\u5426\u80fd\u65e0\u9650\u6218\u6597\uff0c\u5931\u8d25\u5219\u6700\u591a\u6253\u591a\u4e45\u3002\n- \u6240\u6709\u6570\u5b57\u4e0d\u8d85\u8fc7 $200$.\n\n## \u601d\u8def\n\u8003\u8651 $R\\le200$\uff0c\u6700\u591a\u6709 $\\frac{R}{2}\\times \\frac{R}{2}=10000$ \u79cd\u72b6\u6001\uff0c$10000\\times (n+m) =4000000$ \u79cd\u8f6c\u79fb\uff0c\u53ef\u4ee5\u679a\u4e3e\u6bcf\u79cd\u72b6\u6001\u7684\u540e\u7ee7\u3002  \n\u5982\u679c\u53ef\u4ee5\u4ece $(h,t)$ \u5230\u8fbe $(0,0)$\uff0c\u5219\u5e7f\u641c\u6700\u5feb\u591a\u5757\u80dc\u5229\u3002  \n\u5426\u5219\u5224\u65ad\u72b6\u6001\u8f6c\u79fb\u662f\u5426\u6709\u73af\uff0c\u6709\u5219\u53ef\u4ee5\u5728\u73af\u4e0a\u65e0\u9650\u6218\u6597\u3002  \n\u5982\u679c\u6ca1\u6709\u73af\uff0c\u5219\u5728 DAG \u4e0a\u627e\u4ece $(h,t)$ \u5230 $(0,0)$ \u7684\u6700\u957f\u8def\u3002\n\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nint vis[209][209];\nbool az[209][209];\nstruct T{int u,v;};\nstd::vector<T>ed[209][209];\nint h,t,r,n,m,hn[209],tn[209],hm[209],tm[209];\nvoid dfs(int u,int v)//\u627e\u5230\u6240\u6709\u53ef\u8fbe\u72b6\u6001 \n{\n\tif(vis[u][v]||(u==0&&v==0))return;\n\tvis[u][v]=1;\n\tfor(int i(1);i<=u&&i<=n;++i)if(u+v-i+hn[i]+tn[i]<=r)dfs(u-i+hn[i],v+tn[i]),az[u][v]|=az[u-i+hn[i]][v+tn[i]],ed[u-i+hn[i]][v+tn[i]].push_back((T){u,v});\n\tfor(int i(1);i<=v&&i<=m;++i)if(u+v-i+hm[i]+tm[i]<=r)dfs(u+hm[i],v-i+tm[i]),az[u][v]|=az[u+hm[i]][v-i+tm[i]],ed[u+hm[i]][v-i+tm[i]].push_back((T){u,v});\n}\nint ans[209][209],quex[209*209],quey[209*209],ss,tt;\nint bfs1()//\u5982\u679c\u53ef\u80dc\uff0c\u627e\u5230\u80dc\u5229\u7684\u6700\u77ed\u8def \n{\n\twhile(ss<=tt)\n\t{\n\t\tint u(quex[ss]),v(quey[ss]);\n\t\tif(u==h&&v==t)return ans[u][v];\n\t\t++ss;\n\t\tfor(T i:ed[u][v])\n\t\t{\n\t\t\tif(ans[i.u][i.v]==0&&(i.u!=0||i.v!=0))\n\t\t\t{\n\t\t\t\tans[i.u][i.v]=ans[u][v]+1;\n\t\t\t\tquex[++tt]=i.u,quey[tt]=i.v;\n\t\t\t}\n\t\t}\n\t}\n}\nshort vis2[209][209];\nvoid dfs2(int u,int v)//\u67e5\u627e\u662f\u5426\u6709\u73af \n{\n\tif(vis2[u][v]==1)\n\t{\n\t\tputs(\"Draw\");\n\t\texit(0);\n\t}\n\tif(vis2[u][v]==2)return;\n\tvis2[u][v]=1;\n\tfor(int i(1);i<=u&&i<=n;++i)if(u+v-i+hn[i]+tn[i]<=r)dfs2(u-i+hn[i],v+tn[i]);\n\tfor(int i(1);i<=v&&i<=m;++i)if(u+v-i+hm[i]+tm[i]<=r)dfs2(u+hm[i],v-i+tm[i]);\n\tvis2[u][v]=2;\n}\nint ac[209][209];\ninline int max(int u,int v){return (u>v)?u:v;} \nint dfs3(int u,int v)//\u627e\u5931\u8d25\u7684\u6700\u957f\u8def \n{\n\tif(ac[u][v])return ac[u][v];\n\tfor(int i(1);i<=u&&i<=n;++i)if(u+v-i+hn[i]+tn[i]<=r)ac[u][v]=max(ac[u][v],dfs3(u-i+hn[i],v+tn[i]));\n\tfor(int i(1);i<=v&&i<=m;++i)if(u+v-i+hm[i]+tm[i]<=r)ac[u][v]=max(ac[u][v],dfs3(u+hm[i],v-i+tm[i]));\n\treturn ++ac[u][v];\n}\nint main()\n{\n\tscanf(\"%d%d%d\",&h,&t,&r);\n\taz[0][0]=1;\n\tscanf(\"%d\",&n);\n\tfor(int i(1);i<=n;++i)scanf(\"%d%d\",hn+i,tn+i);\n\tscanf(\"%d\",&m);\n\tfor(int i(1);i<=m;++i)scanf(\"%d%d\",hm+i,tm+i);\n\tdfs(h,t);\n\tif(az[h][t])\n\t{\n\t\tprintf(\"Ivan\\n%d\\n\",bfs1());\n\t\treturn 0;\n\t}\n\tdfs2(h,t);\n\tprintf(\"Zmey\\n%d\",dfs3(h,t));\n}\n```\n",
        "postTime": 1648474252,
        "uid": 145017,
        "name": "2018ty43",
        "ccfLevel": 7,
        "title": "CF48E Ivan the Fool VS Gorynych the Dragon\u9898\u89e3"
    }
]