[
    {
        "content": "\u53ef\u80fd\u6709\u7684\u4eba\uff08\u6bd4\u5982\u6211\uff09\u770b\u5230\u8fd9\u4e2a\u9650\u5236\u89c9\u5f97\u5f88\u9707\u60ca\u554a\uff0c\u8fd9\u4e0d\u76f4\u63a5\u5199\u6700\u7b80\u5c31\u884c\u4e86\u5417\u3002\n\n\u4f46\u662f\u8fd8\u6709\u4e00\u4e2a\u9650\u5236\u5c31\u662f\u8bf4 $x$ \u91cc\u9762\u5fc5\u987b\u6709 $x'$\uff0c\u6240\u4ee5\u8bf4\u6211\u4eec\u5fc5\u987b\u5bf9\u4e8e $x',y'\\in[0,9]$ \u90fd\u7b97\u3002\n\n\u4f46\u662f\u8fd9\u6837\u4f1a\u7b97\u91cd\u3002\n\n\u6211\u4eec\u5c06\u5316\u7b80\u5b8c\u76f8\u540c\u7684 $\\dfrac {x'} {y'}$ \u5206\u4e3a\u4e00\u7ec4\uff0c\u53ef\u4ee5\u770b\u51fa\u9664\u4e86 $x'=y'$ \u90a3\u4e00\u7ec4\u5176\u4ed6\u7684\u7ec4\u5927\u5c0f $\\leq4$\u3002\n\n\u4e8e\u662f\u6211\u4eec\u7279\u5224\u6389\u8fd9\u4e00\u7ec4\uff0c\u7136\u540e\u5c06\u5176\u4ed6\u7ec4\u5206\u522b\u8ba1\u7b97\u3002\n\n\u4f9d\u7136\u8003\u8651\u6570\u4f4d dp\uff0c\u8fd9\u6b21\u6211\u4eec\u5148\u8bbe $x=tx',y=ty'$ \u63a5\u4e0b\u6765\u53ef\u77e5 $t\\leq \\min(\\dfrac n{x'},\\dfrac n{y'})$ \u7136\u540e\u53ea\u9700\u8981\u8ba9 $x'\\in tx',y'\\in ty'$ \u5373\u53ef\u3002\n\n\u4f46\u8fd9\u91cc\u6d89\u53ca\u5230\u4e86 $tx'$ \u4e8e\u662f\u6211\u4eec\u8003\u8651\u6a21\u62df\u7ad6\u5f0f\u4e58\u6cd5\uff0c\u6240\u4ee5\u4ece\u4f4e\u4f4d\u5230\u9ad8\u4f4d\u8ba1\u7b97\u3002\n\n\u8bb0\u5f55 $f(i,\\Delta x,\\Delta y,S_1,S_2,p)$ \u4e3a\u505a\u5230\u7b2c $i$ \u4f4d\uff0c\u8fdb\u4f4d\u5206\u522b\u4e3a $\\Delta x,\\Delta y$\uff0c\u6570\u5b57\u96c6\u5408\u5206\u522b\u4e3a $S_1,S_2$\uff0c$p=0/1/2$ \u8868\u793a\u5f53\u524d\u4e0e\u539f\u6570\u662f $<$ \u8fd8\u662f $=$ \u8fd8\u662f $>$\u3002\n\n\u8fd9\u6837\u51fa\u73b0\u4e00\u4e2a\u95ee\u9898 $S_1,S_2$ \u592a\u5927\u4e86\uff0c\u4f46\u6211\u4eec\u53d1\u73b0\u5176\u5b9e\u5bf9\u4e8e\u6bcf\u4e00\u7ec4\u53ea\u8981\u8bb0 $4$ \u4e2a\u6570\uff0c\u4f46\u8fd9\u6837\u8bb0\u5f55\u7684\u6570\u91cf\u8fd8\u662f\u9ad8\u8fbe $2^8$ \u6b21\u65b9\uff0c\u6709\u4ec0\u4e48\u529e\u6cd5\u5462\uff1f\n\n\u6211\u4eec\u56de\u5f52 $S_1,S_2$ \u7684\u539f\u672c\u542b\u4e49\uff0c\u5bb9\u6613\u53d1\u73b0\u53ea\u8981\u6709\u4e00\u4f4d\u76f8\u540c\u5c31\u53ef\u884c\u4e86\uff0c\u4e8e\u662f\u6211\u4eec\u610f\u8bc6\u5230\u53ef\u4ee5\u5c06\u72b6\u6001\u8bb0\u6210\u8fd9\u6837\uff1a\n\n$f(i,\\Delta x,\\Delta y,S_1,S_2,p,t)$ \u522b\u7684\u90fd\u4e00\u6837\uff0c$t$ \u8868\u793a\u6709\u65e0\u51fa\u73b0\u8fc7\u76f8\u540c\u4f4d\u800c $S_1\\cap S_2=\\varnothing$\u3002\n\n\u7136\u540e\u6211\u4eec\u5c06\u72b6\u6001\u6570\u4e58\u4e0a\u4e00\u5f00\u59cb\u679a\u4e3e\u7684\u7ec4\u6570\uff08\u8ba1\u7b97\u5f97\u6709 $28$ \u4e2a\u7ec4\uff09\uff0c\u5c06\u8ba1\u7b97\u6b21\u6570\u5927\u91cf\u4e0a\u4f30\u540e\u53ef\u4ee5\u5f97\u5230 $28\\times 100\\times 10^2\\times 3^4\\times 3\\times 2=1.3608\\times 10^8$\uff0c\u975e\u5e38\u53ef\u8fc7\u3002\n\n\n",
        "postTime": 1675223048,
        "uid": 359952,
        "name": "_lbw_",
        "ccfLevel": 6,
        "title": "CF1194G \u9898\u89e3"
    },
    {
        "content": "\u8d21\u732e\u5b98\u65b9\u9898\u89e3\u3002\n\n\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u597d\u7684\u5206\u6570 $\\dfrac{x}{y}$ \u4e00\u5b9a\u80fd\u591f\u53d8\u6210\u4e00\u4e2a**\u4e0d\u53ef\u7ea6**\u5206\u6570 $\\dfrac{a}{b}$\uff0c\u8bf7\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684 $\\dfrac{a}{b}$ \u4e0d\u662f\u9898\u9762\u7684 $\\dfrac{x'}{y'}$\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5c1d\u8bd5\u679a\u4e3e\u8fd9\u4e2a\u4e0d\u53ef\u7ea6\u5206\u6570 $\\dfrac{a}{b}$\uff0c\u6700\u7ec8\u7b54\u6848\u4e00\u5b9a\u662f\u53d8\u6210 $\\dfrac{za}{zb}$\uff0c\u7136\u540e\u6211\u4eec\u9700\u8981\u7edf\u8ba1\u7684\u5c31\u662f\u8fd9\u4e2a $z$ \u7684\u8d21\u732e\u3002\n\n\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u6570\u4f4d DP \u4e86\uff0c\u7531\u4e8e\u8be5\u9898\u6709\u5927\u6574\u6570\u4e58\u4e0a\u4e00\u4e2a\u5c0f\u4e8e $10$ \u7684\u6570\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4ece\u4f4e\u4f4d\u5f80\u9ad8\u4f4d\u505a\uff0c\u5bf9\u4e8e $\\le n$ \u7684\u4e8b\u5b9e\u4e0a\u6211\u4eec\u53ef\u4ee5\u53e6\u5916\u5b58\u4e00\u4e2a\u72b6\u6001 $0/1/2$ \u8868\u793a\u5df2\u7ecf\u586b\u7684\u4f4d\u6570\u548c $n$ \u7684\u5173\u7cfb\u3002\n\n\u90a3\u4e48\u6211\u4eec\u7406\u6e05\u695a\u72b6\u6001\uff0c\u5927\u81f4\u9700\u8981\u5b58\u7684\u662f\u4f4d\u6570\uff0c\u5206\u5b50\uff0c\u5206\u6bcd\u7684\u8fdb\u4f4d\uff0c\u4ee5\u53ca\u548c $n$ \u7684\u5173\u7cfb\u3002\n\n\u8fd8\u6709\u4e00\u4e2a\u662f\u6570\u7801\u5f71\u54cd\uff0c\u7531\u4e8e\u6211\u4eec\u679a\u4e3e\u7684\u662f\u4e0d\u53ef\u7ea6\u5206\u6570\uff0c\u6bd4\u5982\u679a\u4e3e\u7684\u662f $\\dfrac{1}{2}$ \u5982\u679c\u5f88\u5355\u7eaf\u7684\u7edf\u8ba1\u8fd9\u4e2a\u5206\u6570\u4ea7\u751f\u7684\u8d21\u732e\u4f1a\u7edf\u8ba1\u4e0d\u4e86 $\\dfrac{2}{4}$ \u7684\u8d21\u732e\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u628a $\\dfrac{a \\times c}{b \\times c}$ \u4e5f\u987a\u5e26\u7edf\u8ba1\u8fdb\u53bb\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u628a\u8fd9\u4e9b\u5206\u6570\u4e5f\u62ff\u51fa\u6765\u7edf\u8ba1\u4ed6\u4eec\u7684\u6570\u7801\u662f\u5426\u51fa\u73b0\u3002\n\n\u4e00\u70b9\u5c0f\u5e38\u6570\u4f18\u5316\u5c31\u662f\u53ef\u4ee5\u76f4\u63a5\u679a\u4e3e $a>b$ \u7136\u540e\u4e58 $2$ \u5373\u4e3a\u7b54\u6848\u3002\n\n\u8fd8\u6709\u5c31\u662f\uff0c\u8fd9\u4e2a\u9898\u7528\u8d85\u7ea7\u591a\u7ef4 dp\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u53ef\u4ee5\u76f4\u63a5\u538b\u5230 map \u6216\u8005\u54c8\u5e0c\u8868\u91cc\u9762\u641e\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long \n#define pii pair<int,int>\n#define fi first\n#define se second\nusing namespace std;\nconst int INF=105;\nconst int INFN=15;\nconst int Mod=998244353;\nstring s1;\nint len;\nint res;\nstruct _node_data{\n\tint a1,a2,a3,b1,b3;\n\t// a -> \u5206\u5b50\u8fdb\u4f4d\u4e3a a1,\n\t// a2 (0 n>x) (1 n=x) (2 n<x)\n\t// a3 \u51fa\u73b0\u7684\u6570\u7801 \n\t\n\t// b -> \u5206\u6bcd\u8fdb\u4f4d\u4e3a b1\n\t// b3 \u4e3a\u51fa\u73b0\u7684\u6570\u7801 \n\tbool operator < (const _node_data &x) const {\n\t\tif (x.a1!=a1) return x.a1<a1;\n\t\telse if (x.a2!=a2) return x.a2<a2;\n\t\telse if (x.a3!=a3) return x.a3<a3;\n\t\telse if (x.b1!=b1) return x.b1<b1;\n\t\telse return x.b3<b3;\n\t}\n};\npii num[INF];\nvoid print(_node_data xx) {\n\tcout<<xx.a1<<\" \"<<xx.a2<<\" \"<<xx.a3<<\" \"<<xx.b1<<\" \"<<xx.b3<<\" endl\\n\";\n}\nvoid solve(int l,int r) {\n\tvector < map <_node_data,int> >f(103);\n\tint tot=0;\n\tfor (int p=1;p<=9;p++) \n\t\tif (l*p<=9 && r*p<=9) \n\t\t\tnum[++tot]={l*p,r*p};\n\t\n\tf[0][{0,1,0,0,0}]=1;\n\tfor (int i=0;i<len;i++) {\n\t\tfor (auto y:f[i]) {\n\t\t\tauto x=y.fi;\n//\t\t\tcout<<x.a1<<\" \"<<x.a2<<\" \"<<x.a3<<\" \"<<x.b1<<\" \"<<x.b3<<\" endl\\n\"; \n\t\t\tfor (int j=0;j<=9;j++) {\n\t\t\t\tint a1=(x.a1+j*l)/10,b1=(x.b1+j*r)/10,a2=x.a2,a3=x.a3,b3=x.b3;\n\t\t\t\tint xx=(x.a1+j*l)%10,yy=(x.b1+j*r)%10;\n\t\t\t\tif (xx>s1[i+1]-'0') a2=2;\n\t\t\t\telse if (xx<s1[i+1]-'0') a2=0;\n\t\t\t\t\n\t\t\t\tfor (int q=1;q<=tot;q++)\n\t\t\t\t\tif (num[q].fi==xx) a3|=(1<<(q-1));\n\t\t\t\t\n\t\t\t\tfor (int q=1;q<=tot;q++)\n\t\t\t\t\tif (num[q].se==yy) b3|=(1<<(q-1));\n\t\t\t\tf[i+1][{a1,a2,a3,b1,b3}]+=f[i][x];\n\t\t\t\tf[i+1][{a1,a2,a3,b1,b3}]%=Mod;\n\t\t\t}\n\t\t}\n\t}\n\tint ans=0;\n\tfor (auto x:f[len]) {\n\t\tauto i=x.fi;\n\t\tif (i.a1 || i.b1) continue;\n\t\tif (i.a2==2) continue;\n//\t\tprint(i);\n//\t\tcout<<f[len][i]<<\" yiw?\\n\";\n\t\tfor (int j=0;j<tot;j++)\n\t\t\tif ((i.a3>>j)&1 && (i.b3>>j)&1)\t{\n\t\t\t\tans+=f[len][i],ans%=Mod;\n\t\t\t\tbreak;\n\t\t\t}\n\t}\n\tres+=ans*2%Mod;res%=Mod;\n}\nsigned main()\n{\n\tios::sync_with_stdio(false);\n\tcin>>s1;len=s1.size();s1=\" \"+s1;\n\tfor (int i=1;i<=len;i++) res=(res*10+s1[i]-'0')%Mod;\n\tfor (int l=1,r=len;l<=r;l++,r--) swap(s1[l],s1[r]);\n//\tsolve(2,1);\n\tfor (int x=1;x<=9;x++) {\n\t\tfor (int y=1;y<x;y++) {\n\t\t\tif (__gcd(x,y)>1) continue;\n\t\t\tsolve(x,y);\n\t\t}\n\t}\n\tcout<<res<<\"\\n\";\n\treturn 0;\n}\n```\n",
        "postTime": 1674796399,
        "uid": 208653,
        "name": "_edge_",
        "ccfLevel": 0,
        "title": "CF1194G"
    }
]