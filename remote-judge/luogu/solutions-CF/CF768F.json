[
    {
        "content": "\u6bd4\u8f83\u57fa\u7840\u7684\u7ec4\u5408\u9898\u3002  \n\n\u56e0\u4e3a\u53ea\u6709\u4e24\u79cd\u7269\u54c1\uff0c\u6240\u4ee5\u5bb9\u6613\u5c06\u539f\u95ee\u9898\u8f6c\u5316\u4e3a\u4e00\u4e2a01\u5e8f\u5217\u3002  \n\u603b\u65b9\u6848\u6570\u663e\u7136\u662f$C_{w+f}^{w}$  \n\n\u8003\u8651\u679a\u4e3e\u9152\u5806\u6709\u51e0\u5806\u3002  \n\u8bbe\u9152\u5806\u6709$i$\u5806\u3002  \n\u90a3\u4e48\u5c06\u8fd9$i$\u5806\u9152\u63d2\u5165\u5230\u98df\u7269\u4e2d\u7684\u65b9\u6848\u6570\u4e3a$C_{f+1}^{i}$  \n\u4e3a\u6bcf\u4e00\u5806\u9152\u5148\u56fa\u5b9a\u653e\u4e0a$h$\u7bb1\u9152\u3002  \n\u6b64\u65f6\u8fd8\u5269$w-ih$\u7bb1\u9152\u3002  \n\u5c06\u5269\u4e0b\u7684\u9152\u5b89\u6392\u5728$i$\u4e2a\u9152\u5806\u4e0a(\u6bcf\u4e00\u5806\u81f3\u5c11\u518d\u5206\u914d\u4e00\u7bb1)\u3002  \n\u4f7f\u7528\u4e0d\u80fd\u4e3a0\u7684\u63d2\u677f\u6cd5\u5f97\u51fa\u65b9\u6848\u6570\u4e3a$C_{w-ih-1}^{i-1}$  \n\n\u5bf9\u4e8e$w=0$\u9700\u7279\u5224\uff0c\u8fd9\u5e94\u8be5\u662f\u7279\u5224\u6700\u5c11\u7684\u5199\u6cd5\u3002  \n\n## \u4ee3\u7801\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nconst int N=201000;\nconst int MOD=1000000007;\nlong long fac[N],inv[N];\ninline long long pow(long long x,int y){\n\tlong long ans=1;\n\twhile(y){\n\t\tif(y&1)ans=ans*x%MOD;\n\t\ty>>=1;\n\t\tx=x*x%MOD;\n\t}\n\treturn ans;\n}\nlong long C(int n,int m){\n\tif(n<m)return 0;\n\treturn fac[n]*inv[m]%MOD*inv[n-m]%MOD;\n}\ninline void init(int n){\n\tfac[0]=1;\n\tfor(int i=1;i<=n;++i)\n\t\tfac[i]=fac[i-1]*i%MOD;\n\tinv[n]=pow(fac[n],MOD-2);\n\tfor(int i=n-1;i>=0;--i)\n\t\tinv[i]=inv[i+1]*(i+1)%MOD;\n}\nint main(){\n\tint w,f,h,n;\n\tlong long ans=0;\n\tscanf(\"%d%d%d\",&f,&w,&h);\n\tn=w+f;\n\tif(w==0){printf(\"1\\n\");return 0;}\n\tinit(n);\n\tfor(int i=1;i*(h+1)<=w;++i)\n\t\tans=(ans+C(f+1,i)*C(w-i*h-1,i-1))%MOD;\n\tprintf(\"%lld\\n\",ans*pow(C(n,w),MOD-2)%MOD);\n\treturn 0;\n}\n```",
        "postTime": 1570842471,
        "uid": 119257,
        "name": "Patakou",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF768F \u3010Barrels and boxes\u3011"
    },
    {
        "content": "\u4e00\u5f00\u59cb\u89c9\u5f97\u662f\u5206\u62c6\u6570\uff0c\u540e\u6765\u53d1\u73b0\u662f\u6709\u5e8f\u7684\u5206\u62c6\u6570\uff0c\u5c31\u53d8\u6210\u63d2\u677f\u6cd5 sb \u9898\u4e86\u3002\n\n\u8003\u8651\u672c\u8d28\u4e0a\u300c\u5806\u300d\u5c31\u662f\u5bf9\u603b\u91cf\u7684\u4e00\u4e2a\u6709\u5e8f\u62c6\u5206\u3002\u800c\u8fd9\u91cc\u4e0d\u540c\u7684\u662f\u603b\u65b9\u6848\u6570\u8981\u6c42\u4e0d\u80fd\u5b58\u5728\u67d0\u4e9b\u4f4d\u7f6e\u653e $0$ \u7684\u60c5\u51b5\u3002\u8003\u8651\u5982\u679c\u53ef\u4ee5\u653e $0$ \u90a3\u4e48\u5c31\u662f\u4e00\u4e2a $n$ \u5143\u7ebf\u6027\u4e0d\u5b9a\u65b9\u7a0b\u7ec4\u975e\u8d1f\u6574\u6570\u89e3\u7684\u4e2a\u6570\uff0c\u8fd9\u4e2a\u5730\u65b9\u8981\u6c42 $k$ \u4e2a\u4f4d\u7f6e\u90fd $\\geq 1$ \u7684\u8bdd\uff0c\u5c31\u53ea\u9700\u8981\u5c06\u7b49\u53f7\u53f3\u8fb9\u7684 $w/f$ \u6539\u6210 $w-k$ \u548c $f-k$ \u5373\u53ef\u3002\u8003\u8651\u5408\u6cd5\u65b9\u6848\u6570\u4e5f\u662f\u4e00\u6837\u7684\u9053\u7406\uff0c\u53d8\u6210\u4e86 $w-h\\cdot k$ \u548c $f-h\\cdot k$ \u3002\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u8003\u8651\u5bf9\u6bcf\u4e2a\u5806\u6570\u8ba1\u6570\u3002\u53d1\u73b0\u5bf9\u4e8e\u4e00\u4e2a\u6570\u91cf $n'$ \u4e24\u8005\u53ea\u4f1a\u653e $\\left\\lfloor\\dfrac{n}{2}\\right\\rfloor$ \u548c $\\left\\lceil\\dfrac{n}{2}\\right\\rceil$ \u7684\u6570\u91cf\uff0c\u968f\u4fbf\u7b97\u4e00\u4e0b\u5373\u53ef\u3002\n\n```cpp\n\nint res ;\nint ans ;\nint inv[N] ;\nint fac[N] ;\n\nint expow(int a, int b){\n    int ret = 1 ;\n    while (b){\n        if (b & 1)\n            ret = (ll)ret * a % P ;\n        a = (ll)a * a % P ; b >>= 1 ;\n    }\n    return ret ;\n}\nint binom(int x, int y){//\\binom{x}{y}\n    return (ll)fac[x] * inv[y] % P * inv[x - y] % P ;\n}\nvoid prework(int p, int q){\n    fac[0] = inv[0] = 1 ; ans = res = 0 ;\n    for (int i = 1 ; i <= p + q + 1 ; ++ i)\n        fac[i] = 1ll * fac[i - 1] * i % P ;\n    inv[p + q + 1] = expow(fac[p + q + 1], P - 2) ;\n    for (int i = p + q ; i >= 1 ; -- i)\n        inv[i] = 1ll * inv[i + 1] * (i + 1) % P ;\n}\n\nint p, q, h ;\nint main(){\n    cin >> q >> p >> h ;\n    prework(p, q) ; int x, y, z ;\n//    debug(fac, 1, p + q) ;\n//    debug(inv, 1, p + q) ;\n    if (p == 0)\n\t\treturn cout << 1 << '\\n', 0 ;\n\tif (q == 0){\n\t\tif (p > h) cout << 1 << '\\n' ;\n\t\telse cout << 0 << '\\n' ; return 0 ;\n    }\n    for (int i = 2 ; i <= p + q ; ++ i){\n        x = ceil(1.0 * i / 2.0) ;\n        y = floor(1.0 * i / 2.0) ; z = 0 ;\n        if (x <= p && y <= q)\n            add(z, 1ll * binom(p - 1, x - 1) % P * binom(q - 1, y - 1) % P) ;\n        if (x <= q && y <= p)\n            add(z, 1ll * binom(q - 1, x - 1) % P * binom(p - 1, y - 1) % P) ;\n        add(ans, z) ; z = 0 ;\n        if (1ll * x * h <= p && y <= q)\n            add(z, 1ll * binom(p - x * h - 1, x - 1) % P * binom(q - 1, y - 1) % P) ;\n        if (1ll * y * h <= p && x <= q)\n            add(z, 1ll * binom(p - y * h - 1, y - 1) % P * binom(q - 1, x - 1) % P) ;\n        add(res, z) ;\n//        debug(res, ' ') ;\n//        debug(ans) ;\n    }\n//        debug(res, ' ') ;\n//        debug(ans) ;\n    if (p + q <= 1) res = 1, ans = 1 ;\n    cout << 1ll * res * expow(ans, P - 2) % P << '\\n' ;\n    return 0 ;\n}\n\n```",
        "postTime": 1590666538,
        "uid": 28313,
        "name": "\u768e\u6708\u534a\u6d12\u82b1",
        "ccfLevel": 7,
        "title": "\u300c\u6c34\u300dCF768F Barrels and boxes"
    },
    {
        "content": "\u6b64\u9898\u4e0d\u96be\u3002\n\n\u8fd9\u79cd\u9898\u505a\u51e0\u9053\u5c31\u77e5\u9053\u4e9b\u5957\u8def\u4e86\uff1a\u6211\u4eec\u679a\u4e3e\u9152\u6709\u51e0\u5806\uff0c\u8fd9\u6837\u5c31\u80fd\u7b97\u51fa\u98df\u7269\u6709\u591a\u5c11\u5806\u4ee5\u53ca\u4ed6\u4eec\u7684\u6392\u5217\u6570\uff0c\u90a3\u4e48\u6982\u7387\u5c31\u662f\u5408\u6cd5\u65b9\u6848\u6570 / \u603b\u65b9\u6848\u6570\u3002\n\n\u8bbe\u9152\u6709$i$\u5806\uff0c\u90a3\u4e48\u5c31\u6709$C_{w - 1} ^ {i - 1}$\u79cd\u6392\u5217\u65b9\u6cd5\uff0c\u5bf9\u5e94\u7684\u98df\u7269\u5806\u6570\u5c31\u53ef\u80fd\u6709$i - 1, i, i + 1$\u5806\uff0c\u7136\u540e\u540c\u6837\u7528\u9694\u677f\u6cd5\u7b97\u51fa\u98df\u7269\u7684\u6392\u5217\u65b9\u6cd5\uff0c\u5373$C_{f - 1} ^ {i - 2}, C_{f - 1} ^ {i - 1}, C_{f - 1} ^ {i}$\u3002\u628a\u8fd9\u4fe9\u4e58\u8d77\u6765\u5c31\u662f\u5f53\u9152\u5806\u6570\u4e3a$i$\u7684\u603b\u65b9\u6848\u6570\u3002\n\n\u81f3\u4e8e\u5408\u6cd5\u65b9\u6848\u6570\uff0c\u5c31\u662f\u6211\u4eec\u5148\u5f3a\u5236\u5f80\u6bcf\u4e00\u5806\u9152\u4e0a\u653e$h$\u4e2a\uff0c\u7136\u540e\u518d\u5f80$i$\u5806\u9152\u4e0a\u653e$w - h * i$\u4e2a\uff0c\u5373$C_{w - h * i - 1} ^ {i - 1}$\u3002\n\n\u7136\u540e\u6ce8\u610f\u8fb9\u754c\u60c5\u51b5\u3002\n```c++\n#include<cstdio>\n#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\n#include<cstdlib>\n#include<cctype>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<assert.h>\nusing namespace std;\n#define enter puts(\"\") \n#define space putchar(' ')\n#define Mem(a, x) memset(a, x, sizeof(a))\n#define In inline\ntypedef long long ll;\ntypedef double db;\nconst int INF = 0x3f3f3f3f;\nconst db eps = 1e-8;\nconst int maxn = 1e5 + 5;\nconst ll mod = 1e9 + 7;\nIn ll read()\n{\n  ll ans = 0;\n  char ch = getchar(), last = ' ';\n  while(!isdigit(ch)) last = ch, ch = getchar();\n  while(isdigit(ch)) ans = (ans << 1) + (ans << 3) + ch - '0', ch = getchar();\n  if(last == '-') ans = -ans;\n  return ans;\n}\nIn void write(ll x)\n{\n  if(x < 0) x = -x, putchar('-');\n  if(x >= 10) write(x / 10);\n  putchar(x % 10 + '0');\n}\nIn void MYFILE()\n{\n#ifndef mrclr\n  freopen(\".in\", \"r\", stdin);\n  freopen(\".out\", \"w\", stdout);\n#endif\n}\n\nint n, m, h;\n\nll fac[maxn], inv[maxn];\nIn ll inc(ll a, ll b) {return a + b < mod ? a + b : a + b - mod;}\nIn ll C(int n, int m)\n{\n  if(m < 0 || m > n) return 0;\n  return fac[n] * inv[m] % mod * inv[n - m] % mod;\n}\nIn ll quickpow(ll a, ll b)\n{\n  ll ret = 1;\n  for(; b; b >>= 1, a = a * a % mod)\n    if(b & 1) ret = ret * a % mod;\n  return ret;\n}\n\nIn void init()\n{\n  fac[0] = inv[0] = 1;\n  for(int i = 1; i < maxn; ++i) fac[i] = fac[i - 1] * i % mod;\n  inv[maxn - 1] = quickpow(fac[maxn -  1], mod - 2);\n  for(int i = maxn - 2; i; --i) inv[i] = inv[i + 1] * (i + 1) % mod;\n}\n\nint main()\n{\n  //MYFILE();\n  m = read(), n = read(), h = read();\n  if(!m) {puts(n > h ? \"1\" : \"0\"); return 0;}\n  if(!n) {puts(\"1\"); return 0;}\n  init();\n  ll ans1 = 0, ans2 = 0;\n  for(int i = 1; i <= n; ++i)\n    {\n      ll tp1 = C(n - 1, i - 1);\n      ll tp2 = inc(C(m - 1, i - 2), inc(C(m - 1, i - 1) * 2, C(m - 1, i)));\n      if(1LL * n - 1LL * h * i >= i) ans2 = inc(ans2, C(n - h * i - 1, i - 1) * tp2 % mod);\n      ans1 = inc(ans1, tp1 * tp2 % mod);\n    }\n  write(ans2 * quickpow(ans1, mod - 2) % mod), enter;\n  return 0;\n}\n```",
        "postTime": 1559003836,
        "uid": 55965,
        "name": "mrclr",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF768F \u3010Barrels and boxes\u3011"
    }
]