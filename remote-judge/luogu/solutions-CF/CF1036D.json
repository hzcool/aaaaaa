[
    {
        "content": "## \u5c3a\u53d6\u6cd5\u9898\u89e3    \n\n------------\n\n\u7ecf\u8fc7\u672c\u849f\u84bb\u7684\u89c2\u5bdf\uff0c\u9898\u89e3\u533a\u5927\u90e8\u5206\u5927\u4f6c\u7528\u7684\u662f\u4e8c\u5206\u6216\u8d2a\u5fc3\uff0c\u6240\u4ee5\u672c\u849f\u84bb\u6765\u5199\u4e00\u7bc7\u5c3a\u53d6\u6cd5\u7684\u9898\u89e3\u3002\n\n### \u5c3a\u53d6\u6cd5\uff1a\n\u5c3a\u53d6\u6cd5\u662f\u4ec0\u4e48\u5462\uff1f~~\u5f88\u7b80\u5355~~\u6211\u4eec\u5148\u6765\u770b\u4e00\u9053\u9898\uff1a\n\n\u63d0\u4f9b\u4e00\u4e2a\u6570\u7ec4 $a$\uff0c\u9009\u51fa\u4e00\u4e2a\u5b50\u5e8f\u5217\uff0c\u4e14\u5b50\u5e8f\u5217\u4e4b\u548c $\\ge k$\u3002\u95ee\u5b50\u5e8f\u5217\u6709\u51e0\u79cd\u9009\u6cd5\uff1f\n($1 \\leq a(i) \\leq 10^5$, $1 \\leq n \\leq 10^5$, $1 \\leq k \\leq 10^{10}$)\n\n\u9996\u5148\uff0c\u8fd9\u9898\u80af\u5b9a\u4e0d\u80fd\u5199\u66b4\u529b\uff0c\u666e\u901a\u524d\u7f00\u548c\u4e5f\u4e0d\u884c\uff0c\u56e0\u4e3a $O(n^2)$ \u4e5f\u4f1aTLE\u3002\n```cpp\nfor(int l = 1; l <= n; l++) //\u666e\u901a\u524d\u7f00\u548c\n  for(int r = l; r <= n; r++)\n    if(s[r] - s[l-1] >= k)\n      ans++;\n```\n\u4f46\u6211\u4eec\u53ef\u4ee5\u4f18\u5316\uff08\u56e0\u4e3a $a(i)$ \u4e0d\u4e3a\u8d1f\u6570\uff0c\u6240\u4ee5\u82e5 $[l, r]$ \u5408\u6cd5\u5219 $[l, r+1]$ \u4e5f\u5408\u6cd5\uff09: \n```cpp\nfor(int l = 1; l <= n; l++)\n  for(int r = l; r <= n; r++)\n    if(s[r] - s[l - 1] >= k)\n    {\n        ans += n - r + 1;    //\u4f18\u5316\n        break;\n    }\n```\n\u8fd8\u662f\u4f1a\u8d85\u65f6\u3002  \n\n------------\n\n\u6211\u4eec\u518d\u6765\u89c2\u5bdf\u4e00\u4e0b\uff1a      \n\u8bbe **k=10, a = 5 1 3 4 2**\uff0c\u5982\u56fe\uff08\u5408\u6cd5\u7528\u7c97\u4f53\u8868\u793a\uff09\uff1a\n\n| |l=1|l=2|l=3|l=4|l=5|\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n|r=1|   5  |  X   | X | X | X |\n|r=2|   6  |  1   | X | X | X |\n|r=3|   9  |  4   | 3 | X | X |\n|r=4|**13**|  8   | 7 | 4 | X |\n|r=5|**15**|**10**| 9 | 6 | 2 |\n\u6211\u4eec\u53d1\u73b0 **\u82e5\u533a\u95f4 $[l, r]$ \u5408\u6cd5\uff0c\u5219 $[l+1, r-1]$ \u4e00\u5b9a\u4e0d\u5408\u6cd5**\u3002 \n\n\u5219\u6211\u4eec\u7ee7\u7eed\u53ef\u4f18\u5316\u4ee3\u7801\n```cpp\nint r = 0;\nfor(int l = 1; l <= n; l++)\n    while(r <= n)\n    {\n        if(s[r] - s[l - 1] >= k)\t\n        {\n            ans += n - r + 1;\n            break;\n        }\n        r++;\n    }\n```\n## \u8fd9\u5c31\u662f\u5c3a\u53d6\u6cd5(\u53c8\u540d\u53cc\u6307\u9488)\n \u6ce8\uff1a\u5c3a\u53d6\u6cd5\u7684\u65f6\u5019\u4e5f\u8981\u505a\u524d\u7f00\u548c\n\n\u90a3\u5c3a\u53d6\u6cd5\u548c\u8fd9\u9053\u9898\u6709\u4ec0\u4e48\u5173\u7cfb\u5462\uff1f~~\u6ca1\u6709\u5173\u7cfb\u4f60\u8bb2\u5565\u5440~~\n#### \u5f88\u663e\u7136\uff0c$i$ \u548c $j$ \u90fd\u4e0d\u53ef\u51cf\u5c11\uff0c\u6240\u4ee5\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u4ece $O(n^2)$ \u53d8\u6210\u4e86 $O(n)$\u3002\n------------\n# \u4ee3\u7801\u4e0e\u5b9e\u73b0\uff1a\n\u9996\u5148\uff0c\u8f93\u5165\u65f6\u5199\u4e2a\u524d\u7f00\u548c\uff1a\n```cpp\ncin >> n;\nfor(int i = 1; i <= n; i++) \n{\n    scanf(\"%d\", &a[i]);\t//\u7528scanf\u66f4\u5feb\n    a[i] += a[i - 1];\t//\u6211\u628a\u524d\u7f00\u548c\u5199\u5728\u539f\u6570\u7ec4\u91cc\u4e86\n}\ncin >> m;\nfor(int j = 1; j <= m; j++) \n{\n    scanf(\"%d\", b[i]);\n    b[j] += b[j - 1];\n}\n```\n------------\n\u518d\u52a0\u4e2a\u7b80\u7b80\u5355\u5355\u7684\u5224\u65ad\uff1a\n```cpp\nif(a[n] != b[m]) return printf(\"-1\"), 0;\t//\u7801\u98ce\u4e11\u8bf7\u5ffd\u89c6\n```\n------------\n### \u63a5\u4e0b\u6765\u5c31\u662f\u672c\u9898\u7cbe\u9ad3\uff08\u5c3a\u53d6\u6cd5\uff09\uff1a\n```cpp\nlong long ans = 0, i = 1, j = 1;//\u5176\u5b9e\u7528int\u4e5f\u884c\uff0c\u53ea\u4e0d\u8fc7long long\u66f4\u4fdd\u9669\nwhile(i <= n && j <= m)\n{\n    if(a[i] == b[j])\t//\u5982\u679c\u5f53\u524d\u4e24\u6bb5\u76f8\u7b49\n        ans++, i++, j++;\n    else if(a[i] > b[j]) j++;\n    else if(a[i] < b[j]) i++;\n}\n```\n------------\n\u5feb\u4e50\u7684\u8f93\u51fa\uff1a\n```cpp\nreturn printf(\"%d\", ans), 0;\t//\u7801\u98ce\u4e11\u8bf7\u5ffd\u89c6\n```\n------------\n\u8fd9\u65f6\u6709\u4eba\u5c31\u4f1a\u95ee\u4e86\uff1a\u4f60\u6bcf\u622a\u4e00\u6bb5\u4e3a\u4ec0\u4e48\u4e0d\u6e05\u96f6\u5462\uff1f   \n\u56e0\u4e3a\uff08~~\u6ca1\u6cd5\u6e05\u96f6~~\uff09\u4e24\u4e2a\u6570\u52a0\u4e0a\u4e00\u6837\u7684\u5dee\u4e0d\u53d8\uff08\u540c\u589e\u540c\u51cf\u5dee\u4e0d\u53d8\uff09\n\n------------\n### \u7ed3\u8bed\uff1a\n\u597d\u4e86\uff0c\u8fd9\u5c31\u662f[Vasya ans Arrays](https://www.luogu.com.cn/problem/CF1036D)\u8fd9\u9053\u9898\u4e86\uff0c\u81f3\u4e8e[\u5b8c\u6574\u4ee3\u7801](https://www.luogu.com.cn/paste/9g16g0h4)\u561b\uff0c\u6211\u662f\u4e0d\u4f1a\u653e\u7684\u3002[doge]  \n\n\u611f\u8c22\u7ba1\u7406\u5458\u5927\u5927\u6307\u51fa\u95ee\u9898\u3002\n###### ps\uff1a\u8fd9\u662f\u849f\u84bb\u7684\u7b2c1\u7bc7\u9898\u89e3",
        "postTime": 1661609123,
        "uid": 608703,
        "name": "SCAR_L",
        "ccfLevel": 4,
        "title": "\u9898\u89e3CF1036D"
    },
    {
        "content": "\u5176\u5b9e\u8fd9\u9053\u9898\u6ca1\u5fc5\u8981\u7528\u53cc\u6307\u9488\uff0c$3\\times10^5$ \u7684\u6570\u636e\u8303\u56f4\u8ba9\u6211\u4eec\u53ef\u4ee5 $O(nlogn)$ \u5730yong $map$ \u6c34\u8fc7\u672c\u9898\u3002\n\n\u9996\u5148\u4e0d\u96be\u53d1\u73b0\uff0c\u65e0\u89e3\u5f53\u4e14\u4ec5\u5f53 $a$\uff0c$b$ \u603b\u548c\u4e0d\u540c\uff08\u4e0d\u7136\u5b8c\u5168\u53ef\u4ee5\u8003\u8651\u5206\u6210\u4e00\u6bb5\uff0c\u603b\u548c\u76f8\u540c\uff09\u3002\n\n\u7136\u540e\u6211\u4eec\u8d2a\u5fc3\u7684\u53bb\u60f3\uff0c\u53d1\u73b0\u5f53\u4e24\u4e2a\u6570\u5217\u7684\u67d0\u4e00\u4f4d\u4e0a\u7684\u524d\u7f00\u548c\u76f8\u540c\u65f6\uff0c\u7531\u4e8e\u524d\u7f00\u548c\u5355\u8c03\u9012\u589e\uff0c\u628a\u4ed6\u4eec\u51cf\u6389\u5bf9\u540e\u9762\u662f\u6ca1\u6709\u5f71\u54cd\u7684\u3002\n\n\u6240\u4ee5\u6211\u4eec\u5c31\u5c3d\u53ef\u80fd\u7684\u5220\u53bb\u76f8\u540c\u7684\u524d\u7f00\u548c\u5373\u53ef\uff0c\u6bcf\u9047\u5230\u4e00\u6bb5\u76f8\u540c\u7684\u524d\u7f00\u548c\u5c31\u628a\u7b54\u6848\u52a0\u4e00\u3002\u90a3\u4e48\u540e\u9762\u6240\u6709\u6570\u7684\u524d\u7f00\u548c\u90fd\u8981\u51cf\u53bb\u5f53\u524d\u8fd9\u4e2a\u524d\u7f00\u548c\u3002\n\n\u53d1\u73b0\u6211\u4eec\u51cf\u53bb\u7684\u4e24\u4e2a\u524d\u7f00\u548c\u5927\u5c0f\u76f8\u540c\uff0c\u56e0\u6b64\u540e\u9762\u7684\u6240\u6709\u524d\u7f00\u548c\u7684**\u5927\u5c0f\u5173\u7cfb**\u662f\u4e0d\u53d8\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u4e0d\u51cf\uff08\u6211\u4eec\u53ea\u8003\u8651\u5927\u5c0f\u5173\u7cfb\uff09\u3002\n\n\u90a3\u4e48\u95ee\u9898\u5c31\u53d8\u6210\u4e86\uff1a\n\n\u7ed9\u4f60\u4e24\u4e2a\u5e8f\u5217\uff0c\u95ee\u8fd9\u4e24\u4e2a\u5e8f\u5217\u4e2d\u6709\u591a\u5c11\u4e2a\u6570\u76f8\u540c\u3002\n\n\u8fd9\u4e2a\u7528 $map$ \u7ef4\u62a4\u4e00\u4e0b\u5c31\u8fc7\u53bb\u4e86\u3002\n\n\u6838\u5fc3\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\nint n, m, ans;\nLL a[300010], b[300010];\nLL sa[300010], sb[300010];\nmap <LL, bool> h;\nint main(){\n    read(n);\n    for (register int i = 1;i <= n;i ++) read(a[i]), sa[i] = sa[i - 1] + a[i];\n    read(m);\n    for (register int i = 1;i <= m;i ++) read(b[i]), sb[i] = sb[i - 1] + b[i];\n    if(sa[n] ^ sb[m]) return printf(\"-1\\n\"), 0;//\u5224\u65e0\u89e3\n    for (register int i = 1;i <= n;i ++) h[sa[i]] = 1;\n    for (register int i = 1;i <= m;i ++) ans += h[sb[i]];//\u5224\u76f8\u540c\u7684\u6570\u4e2a\u6570\n    fprint(ans, 10);\n}\n```",
        "postTime": 1597710549,
        "uid": 66511,
        "name": "DPair",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1036D \u3010Vasya and Arrays\u3011"
    },
    {
        "content": "## \u9898\u89e3- CF1036D\n\n* **\u9898\u76ee\u610f\u601d**\n\n\t\u5c31\u662f\u7ed9\u4f60\u4e24\u4e2a\u6570\u7ec4$A,B$\uff0c\u4f60\u8981\u628a\u4ed6\u4eec\u5206\u6210$k$\u6bb5\u4f7f\u5f97\u5bf9\u5e94\u7684\u6bb5\u548c\u76f8\u540c\uff0c\u95ee\u6700\u5927\u5206\u6bb5\u6570\u3002\n    \n* $Sol$\n\t\n    \u8fd9\u9053\u9898\u76ee\u5bf9\u4e8e\u5224\u65ad\u65e0\u89e3\u5f88\u5bb9\u6613\uff0c\u82e5$\\sum A \u2260\\sum B$ \u8f93\u51fa$-1$\u5373\u53ef\n    \n    \u5bf9\u4e8e\u6709\u89e3\u7684\u60c5\u51b5\u600e\u4e48\u5224\u65ad\u5462\uff1f\u6211\u4eec$O(n)$\u904d\u5386$B$\u4e2d\u6bcf\u4e00\u4e2a\u70b9\uff0c\u518d\u5728$A$\u7684$(p,n]$\uff08$p$\u540e\u9762\u4f1a\u63d0\u5230\uff09\u4e2d\u4e8c\u5206\u65e9\u5230\u7b2c\u4e00\u4e2a\u4e0e$B_i$\u76f8\u540c\u7684\u4f4d\u7f6e$p$\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u4e2a$p$\u6211\u4eec\u7ee7\u7eed\u7d2f\u52a0$B_i$\u76f4\u81f3\u627e\u5230\u53ef\u4ee5\u4e0e\u5176\u5339\u914d\u7684$p$\uff0c\u4e0d\u505c\u5730\u66f4\u65b0$p$\u5373\u53ef\u3002\n    \n    \u8fd9\u6837\u603b\u590d\u6742\u5ea6\u5927\u7ea6\u4e3a$O(n\\log n)$\uff0c\u53ef\u4ee5\u8fc7\u8fd9\u9053\u9898\u3002\u3002\n    \n* $Code$\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\n\nconst int N=3e5+5;\n\nint n,m,a[N],b[N],SA[N],SB[N],ans;\n\nsigned main()\n{\n\tscanf(\"%lld\",&n);\n\tint tot=0;\n\tfor ( int i=1;i<=n;i++ ) \n\t{\t\n\t\tscanf(\"%lld\",&a[i]);\n\t\tSA[i]=SA[i-1]+a[i];\n\t}\n\tscanf(\"%lld\",&m);\n\tfor ( int i=1;i<=m;i++ ) \n\t{\n\t\tscanf(\"%d\",&b[i]);\n\t\tSB[i]=SB[i-1]+b[i];\n\t}\n\tif(SA[n]!=SB[m]) \n\t\treturn printf(\"-1\\n\"),0;\n\tint las=0,lp=0;\n\tfor ( int i=1;i<=m;i++ )\n\t{\n\t\tlas+=b[i];\n\t\tint pos=-1;\n\t\tint ll=lp,rr=n;\n\t\twhile(ll<=rr)\n\t\t{\n\t\t\tint mid=(ll+rr)/2;\n\t\t\tif(SA[mid]-SA[lp]==las) \n\t\t\t{\n\t\t\t\tpos=mid;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(SA[mid]-SA[lp]<las) ll=mid+1;\n\t\t\telse rr=mid-1;\n\t\t}\n\t\tif(pos==-1) continue;\n\t\tlas=0;\n\t\tlp=pos;\n\t\tans++;\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n\t\n\t\t\n```\n",
        "postTime": 1581661286,
        "uid": 308464,
        "name": "\u5947\u7c73",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1036D \u3010Vasya and Arrays\u3011"
    },
    {
        "content": "## \u9898\u610f\n\n\u7ed9\u5b9a $A,B$ \u4e24\u4e2a\u6570\u5217\uff0c\u957f\u5ea6\u5206\u522b\u4e3a $n,m$\uff0c\u6570\u5217\u957f\u5ea6\u4e0d\u8d85\u8fc7 $3 \\times 10^5$\u3002\u6570\u5217\u4e2d\u6bcf\u4e2a\u5143\u7d20\u7684\u503c\u4e3a $[1,10^9]$ \u7684\u6574\u6570\u3002\n\n\u4f60\u9700\u8981\u5c06\u4e24\u4e2a\u6570\u5217\u90fd\u5206\u5272\u6210 $k$ \u4efd\uff0c\u4f7f\u5f97\u6bcf\u4e00\u4efd\u7684\u5143\u7d20\u548c\u5bf9\u5e94\u76f8\u7b49\n\n\u5982\u679c\u53ef\u884c\uff0c\u8f93\u51fa\u6700\u591a\u5c06\u5e8f\u5217\u5206\u5272\u6210\u591a\u5c11\u4efd\uff0c\u5982\u679c\u4e0d\u53ef\u884c\uff0c\u8f93\u51fa $-1$\u3002\n\n## \u89e3\u6cd5\n\n\u9996\u5148\u5224\u65ad\u8f93\u51fa $-1$ \u7684\u60c5\u51b5\uff1a\u5982\u679c $A,B$ \u4e24\u4e2a\u6570\u5217\u4e4b\u548c\u4e0d\u76f8\u7b49\uff0c\u5373\u5f53 $ \\sum_{i=1}^n a_i\\neq\\sum_{i=1}^m b_i$ \u65f6\uff0c\u76f4\u63a5\u8f93\u51fa $-1$\u3002\n\n\u5426\u5219\uff0c\u4e00\u5b9a\u53ef\u4ee5\u5f97\u5230\u7b54\u6848\uff0c\u54ea\u6015\u53ea\u80fd\u5168\u90e8\u5408\u5e76\u8d77\u6765\u3002\n\n\u6211\u4eec\u4f1a\u5f88\u81ea\u7136\u5730\u60f3\u5230\u8d2a\u5fc3\u7b97\u6cd5\uff1a\u7528\u4e00\u4e2a\u53d8\u91cf $ans$ \u8bb0\u5f55\u7b54\u6848\uff0c\u6bcf\u6b21\u627e\u5230\u6700\u5c0f\u7684 $i,j$ \u4f7f\u5f97 $\\sum_{x=1}^i a_x =\\sum_{x=1}^j b_x$,\u6b64\u65f6 $ans$ \u52a0\u4e00\uff0c\u7136\u540e\u5220\u6389 $[a_1,a_i]$ \u4ee5\u53ca $[b_1,b_j]$,\u5e76\u5bf9\u5269\u4e0b\u7684 $A,B$ \u6570\u7ec4\u518d\u6b21\u8fdb\u884c\u540c\u6837\u7684\u64cd\u4f5c\u3002\u6700\u540e\u7b54\u6848\u5c31\u662f $ans$.\n\n\u6211\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u7528\u53cd\u8bc1\u6cd5\u8bc1\u660e\u7b97\u6cd5\u7684\u6b63\u786e\u6027\uff1a\u5047\u8bbe\u6211\u4eec\u53ef\u4ee5\u628a\u6570\u5217\u5206\u5272\u6210 $res$ \u4efd\uff0c\u4e14 $res>ans$\uff0c\u90a3\u4e48\u6211\u4eec\u80af\u5b9a\u662f\u6709 $p$ \u6b21\u5206\u5272\u9519\u4e86\uff0c\u8fd9\u4e00\u6bb5\u53ef\u4ee5\u5206\u5272\u6210 $p+res-ans$ \u6bb5\uff0c\u7136\u800c\u6211\u4eec\u6bcf\u6b21\u627e\u7684 $i,j$ \u662f\u6700\u5c0f\u7684\uff0c\u5f53\u6211\u4eec\u4fee\u6539\u7684\u65f6\u5019\u53ea\u80fd\u627e\u66f4\u5927\u7684 $i,j$ \uff0c\u5c31\u53ea\u80fd\u5206\u6210\u66f4\u5c11\u7684\u6bb5\uff0c\u56e0\u6b64\u539f\u5206\u5272\u65b9\u6cd5\u6b63\u786e\u3002\n\n## \u4ee3\u7801\n\n\u4e0b\u9762\u653e\u65e0\u6ce8\u91ca\u4ee3\u7801\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,ans;\nlong long a[300005],b[300005],suma,sumb;\nint main(){\n    ios::sync_with_stdio(0);\n    cin.tie(0);\n    cin>>n;\n    for(int i=1;i<=n;i++)cin>>a[i],suma+=a[i];\n    cin>>m;\n    for(int i=1;i<=m;i++)cin>>b[i],sumb+=b[i];\n    if(suma!=sumb){\n\tcout<<\"-1\"<<endl;\n\treturn 0;\n    }\n    for(int i=1,j=1;i<=n&&j<=m;){\n\tif(a[i]==b[j])ans++,i++,j++;\n\telse if(a[i]>b[j])b[j+1]+=b[j],j++;\n\telse a[i+1]+=a[i],i++;\n    }\n    cout<<ans<<endl;\n}\n```",
        "postTime": 1648887173,
        "uid": 305424,
        "name": "yuheng_wang080904",
        "ccfLevel": 0,
        "title": "CF1036D"
    },
    {
        "content": "## \u601d\u8def\n\u7531\u4e8e\u628a\u4e24\u4e2a\u6570\u5217\u8981\u5206\u6210\u591a\u4e2a\u548c\u76f8\u540c\u7684\u5c0f\u6570\u5217\uff0c\u90a3\u4e48\u5f88\u5bb9\u6613\u5c31\u53ef\u4ee5\u63a8\u5bfc\u51fa\u6765\u4e00\u4e2a\u7ed3\u8bba\u201c**\u53ea\u8981\u4e24\u4e2a\u6570\u5217\u7684\u548c\u76f8\u540c\uff0c\u5c31\u4e00\u5b9a\u6709\u89e3\uff0c\u4e0d\u7136\u5c31\u4e00\u5b9a\u65e0\u89e3\u3002**\u201d\n\n\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u5728\u5224\u65ad\u662f\u5426\u6709\u89e3\u540e\uff0c\u7528 $x$ \u548c $y$ \u8fd9\u4e24\u4e2a\u53d8\u91cf\u6765\u8bb0\u5f55 $a$ \u6570\u7ec4\u548c $b$ \u6570\u7ec4\u5206\u522b\u53d6\u5230\u4e86\u4ec0\u4e48\u4f4d\u7f6e\uff0c\u7528 $sum1$ \u548c $sum2$ \u6765\u8bb0\u5f55\u4e24\u4e2a\u5c0f\u6bb5\u7684\u548c\uff0c\u7136\u540e\u5206\u4e09\u79cd\u60c5\u51b5\u8ba8\u8bba:\n\n1. \u5982\u679c $sum1>sum2$ \u90a3\u4e48\u5c31\u4ee3\u8868\u7b2c\u4e8c\u4e2a\u5c0f\u6bb5\u9700\u8981\u589e\u52a0\u6570\uff0c\u6240\u4ee5 $y+1$\u3002\n\n2. \u5982\u679c $sum1<sum2$ \u540c\u7406\uff0c\u4ee3\u8868\u7b2c\u4e00\u4e2a\u5c0f\u6bb5\u9700\u8981\u589e\u52a0\u6570\uff0c\u6240\u4ee5 $x+1$\u3002\n\n3. \u5982\u679c $sum1=sum2$ \u90a3\u4e48\u5c31\u4ee3\u8868\u53ef\u4ee5\u5206\u6210\u5c0f\u6bb5\uff0c\u5c31\u6e05\u7a7a\uff0c $ans+1$\u3002\n\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n,m,a[300005],b[300005],ans;\nlong long q;\nsigned main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d\",&a[i]);\n\t\tq+=a[i];//\u8bb0\u5f55\u7b2c\u4e00\u4e2a\u6570\u7ec4\u7684\u603b\u548c\u3002\n\t}\n\tscanf(\"%d\",&m);\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tscanf(\"%d\",&b[i]);\n\t\tq-=b[i];//\u8bb0\u5f55\u7b2c\u4e8c\u4e2a\u6570\u7ec4\u7684\u603b\u548c\u3002\n\t}\n\tif(q!=0)//\u7279\u5224\u65e0\u89e3\u3002\n\t{\n\t\tprintf(\"-1\");\n\t\treturn 0;\n\t}\n\tint x=1,y=1,sum1=a[1],sum2=b[1];\n\twhile(x<=n||y<=m)//\u56e0\u4e3a\u4e0d\u53ef\u80fd\u51fa\u73b0\u65e0\u89e3\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u4e0d\u7528\u5224\u65ad\u8d8a\u754c\u7684\u60c5\u51b5\uff0c\u627e\u5230\u6700\u540e\u7ed3\u675f\u5c31\u53ef\u4ee5\u3002\n\t{\n\t\tif(sum1>sum2)//\u7b2c\u4e00\u79cd\u60c5\u51b5\n\t\t{\n\t\t\ty++;\n\t\t\tsum2+=b[y];\n\t\t}\n\t\telse if(sum1<sum2)//\u7b2c\u4e8c\u79cd\u60c5\u51b5\n\t\t{\n\t\t\tx++;\n\t\t\tsum1+=a[x];\n\t\t}\n\t\telse//\u7b2c\u4e09\u79cd\u60c5\u51b5\n\t\t{\n\t\t\tans++;\n\t\t\tx++;\n\t\t\ty++;\n\t\t\tsum1=a[x];\n\t\t\tsum2=b[y];\n\t\t}\n\t}\n\tprintf(\"%d\",min(ans,min(n,m)));//\u56e0\u4e3a\u4efd\u6570\u4e0d\u53ef\u80fd\u6bd4\u67d0\u4e2a\u6570\u5217\u7684\u957f\u5ea6\u8fd8\u957f\uff0c\u6240\u4ee5\u8981\u7279\u5224\uff08\u597d\u50cf\u53ef\u6709\u53ef\u65e0\uff09\u3002\n\treturn 0;\n}\n```\n\n### \u611f\u8c22\u89c2\u770b",
        "postTime": 1629429292,
        "uid": 456787,
        "name": "lightningZ",
        "ccfLevel": 0,
        "title": "CF1036D\u9898\u89e3"
    },
    {
        "content": "## \u5206\u6790\n\u8d2a\u5fc3\u5730\u8003\u8651\u8fd9\u4e2a\u95ee\u9898\uff0c\u53ef\u4ee5\u53d1\u73b0\u5982\u679c\u5c06\u6240\u6709\u6570\u5408\u5e76\u4e3a\u4e00\u4e2a\u65f6\u4e24\u4e2a\u6570\u5217\u4ecd\u7136\u4e0d\u76f8\u7b49\uff0c\u90a3\u4e48\u4e00\u5b9a\u65e0\u89e3\uff0c\u5426\u5219\u4e00\u5b9a\u65e0\u89e3\u3002\n\n\u4e0b\u9762\u8003\u8651\u6700\u4f18\u65b9\u6848\uff1a\n\n\u6211\u4eec\u8bb0 `pta` \u4e3a\u6307\u5411 `a` \u6570\u5217\u7684\u6307\u9488\uff0c`ptb` \u4e3a\u6307\u5411 `b` \u6570\u5217\u7684\u6307\u9488\uff0c `sa[]` \u4e3a\u6570\u5217 `a[]` \u7684\u524d\u7f00\u548c\uff0c`sb[]` \u4e3a\u6570\u5217 `b[]` \u7684\u524d\u7f00\u548c\n\n\u6ce8\u610f\u5230\u5982\u679c\u4e24\u4e2a\u6570\u5217 `a,b` \u7684\u524d\u7f00\u548c `sa[pta], sb[ptb]`\u76f8\u7b49\uff0c\u90a3\u4e48\u6211\u4eec\u80af\u5b9a\u80fd\u591f\u5c06\u76f8\u5e94\u7684\u90e8\u5206\u5408\u5e76\uff0c\u5e76\u4e14\u8d21\u732e `res++` \uff0c\u800c\u4e14\u8fd9\u6837\u505a\u662f\u6700\u4f18\u7684\u3002\n\n\u5f88\u77ed\u7684\u4ee3\u7801\uff1a\n```cpp\n#pragma GCC optimize(\"O3\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define pb(a) push_back(a)\n#define set0(a) memset(a,0,sizeof(a))\n#define rep(i,a,b) for(int i=(a);i<=(b);i++)\n#define dwn(i,a,b) for(int i=(a);i>=(b);i--)\n#define INF 0x3f3f3f3f\ntypedef long long ll;\n\ninline int read(){\n    int x=0,f=1;\n    char ch=getchar();\n    while(ch<'0'||ch>'9'){\n        if(ch=='-')\n            f=-1;\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9'){\n        x=(x<<1)+(x<<3)+(ch^48);\n        ch=getchar();\n    }\n    return x*f;\n}\n\nconst int N=3e5+5;\nint n,m;\nll a[N],sa[N],b[N],sb[N];\n\nint main(){\n\tcin>>n;\n\trep(i,1,n) a[i]=read() ,sa[i]=sa[i-1]+a[i];\n\tcin>>m;\n\trep(i,1,m) b[i]=read() ,sb[i]=sb[i-1]+b[i];\n\t\n\tif(sa[n]!=sb[m]){\n\t\tputs(\"-1\");\n\t\treturn 0;\n\t}\n\t\n\tint res=0;\n\tfor(int pta=1,ptb=1;pta<=n,ptb<=m;){\n\t\tif(sa[pta]==sb[ptb]) res++,pta++,ptb++;\n\t\telse if(sa[pta]<sb[ptb]) pta++;\n\t\telse ptb++;\n\t}\n\tcout<<res<<endl;\n\t\n    return 0;\n}\n\n```\n\n",
        "postTime": 1617542339,
        "uid": 138960,
        "name": "Tenshi",
        "ccfLevel": 0,
        "title": "CF1036D Vasya and Arrays \u89e3\u7b54"
    },
    {
        "content": "## Content\n\u7ed9\u5b9a\u4e24\u4e2a\u957f\u5ea6\u5206\u522b\u4e3a $n$ \u548c $m$ \u7684\u6570\u5217 $A,B$\u3002\u4f60\u9700\u8981\u5c06\u4e24\u4e2a\u6570\u5217\u90fd\u6070\u597d\u5206\u6210 $k$ \u4efd\uff0c\u4f7f\u5f97\u4e24\u4e2a\u6570\u5217\u4e2d\u7b2c $i(i\\in[1,k])$ \u4efd\u7684\u5143\u7d20\u548c\u5bf9\u5e94\u76f8\u7b49\u3002\u95ee\u662f\u5426\u53ef\u884c\uff0c\u5e76\u5728\u53ef\u884c\u7684\u60c5\u51b5\u4e0b\u6c42\u51fa\u6700\u5927\u7684 $k$\u3002\n\n**\u6570\u636e\u8303\u56f4\uff1a$1\\leqslant n,m\\leqslant 3\\times 10^5$\uff0c$1\\leqslant A_i,B_i\\leqslant 10^9$\u3002**\n## Solution\n\u6211\u4eec\u5148\u5c06\u4e24\u4e2a\u6570\u5217\u4e2d\u7684\u6240\u6709\u6570\u7684\u548c\u52a0\u8d77\u6765\uff0c\u8bb0\u4e3a $S_A,S_B$\u3002\u663e\u7136\uff0c\u5982\u679c $S_A\\neq S_B$\uff0c\u90a3\u4e48\u663e\u7136\u6211\u4eec\u65e0\u6cd5\u6ee1\u8db3\u9898\u76ee\u4e2d\u7684\u8981\u6c42\u3002\n\n\u5426\u5219\uff0c\u6211\u4eec\u91c7\u7528\u53cc\u6307\u9488\u7684\u65b9\u5f0f\uff0c\u6bcf\u6b21\u79fb\u52a8\u5c31\u8bb0\u5f55\u4e0b\u5f53\u524d\u4e24\u4e2a\u5e8f\u5217\u7684\u524d\u7f00\u548c\uff0c\u8bb0\u4e3a $s_A,s_B$\u3002\n\n- \u5982\u679c $s_A<s_B$\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u6570\u5217 $A$ \u5728\u5f53\u524d\u4f4d\u7f6e\u4e0b\u5f80\u524d\u79fb\u4e00\u4f4d\u3002\n- \u5982\u679c $s_A>s_B$\uff0c\u90a3\u4e48\u6211\u4eec\u5c06\u6570\u5217 $B$ \u5728\u5f53\u524d\u4f4d\u7f6e\u4e0b\u5f80\u524d\u79fb\u4e00\u4f4d\u3002\n- \u5426\u5219\uff0c\u6211\u4eec\u5c06\u7b54\u6848\u52a0 $1$\uff08\u5c31\u76f8\u5f53\u4e8e\u5728\u8fd9\u91cc\u628a\u8fd8\u672a\u5206\u8fdb\u53bb\u7684\u5143\u7d20\u5206\u6210\u4e00\u4efd\u4e86\uff09\uff0c\u7136\u540e\u9009\u62e9\u4efb\u610f\u4e00\u4e2a\u6570\u5217\u5728\u5f53\u524d\u4f4d\u7f6e\u4e0b\u5f80\u524d\u79fb\u4e00\u4f4d\u3002\n\n\u8f93\u51fa\u7b54\u6848\u5373\u53ef\u3002\u590d\u6742\u5ea6\u4e3a $\\mathcal{O}(n)$\uff0c\u8db3\u4ee5\u901a\u8fc7\u672c\u9898\u3002 \n## Code\n```cpp\nint a[300007], b[300007], visa[300007], visb[300007], ans;\nll sa, sb, suma, sumb;\n\nint main() {\n\tint n = Rint; F(int, i, 1, n) suma += (a[i] = Rint);\n\tint m = Rint; F(int, i, 1, m) sumb += (b[i] = Rint);\n\tif(suma != sumb) return printf(\"-1\"), 0;\n\tfor(int i = 1, j = 1; i <= n && j <= m;) {\n\t\tsa += 1ll * a[i] * (1 - visa[i]), sb += 1ll * b[j] * (1 - visb[j]), visa[i] = visb[j] = 1; //\u4e3a\u4e86\u907f\u514d\u91cd\u590d\u52a0\u5165\u524d\u7f00\u548c\uff0c\u5f00 vis \u6570\u7ec4\u8bb0\u5f55\u5f53\u524d\u5143\u7d20\u662f\u5426\u5df2\u7ecf\u52a0\u5165\u524d\u7f00\u548c\u3002 \n\t\tif(sa == sb) ans++, sa = sb = 0, i++;\n\t\telse if(sa > sb) j++;\n\t\telse i++;\n\t}\n    return write(ans), 0;\n}",
        "postTime": 1617205018,
        "uid": 112917,
        "name": "Eason_AC",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1036D \u3010Vasya and Arrays\u3011"
    },
    {
        "content": "\u82e5$A,B$\u603b\u548c\u4e0d\u76f8\u540c\uff0c\u663e\u7136\u662f-1\n\n\u7531\u4e8e\u5143\u7d20\u90fd\u5927\u4e8e0\uff0c\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u53cc\u6307\u9488\u7684\u65b9\u6cd5\n\n\u4e24\u4e2a\u6307\u9488\u5728$A,B$\u6570\u7ec4\u4e2d\u79fb\u52a8\uff0c\u82e5\u627e\u5230$A,B$\u4e2d\u548c\u76f8\u540c\u7684\u4e24\u7aef\uff0c\u7b54\u6848\u5c31+1\n\n\u7b80\u77ed\u7684\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#pragma GCC optimize(3)\n#define ll long long\n#define Fur(i,x,y) for(int i(x);i<=y;++i)\nconst int N=300011;\ninline void in(int &x){x=0;char c;bool f=0;while((c=getchar_unlocked())<'0'||'9'<c)f^=(c=='-');while('0'<=c&&c<='9')x=x*10+c-48,c=getchar_unlocked();if(f)x=-x;}\nint n,m,a[N],b[N];\nint main(){\n    in(n);\n    Fur(i,1,n)in(a[i]);\n    in(m);\n    Fur(i,1,m)in(b[i]);\n    int ans=0,j=1;\n    ll s=0;\n    Fur(i,1,n){\n        s+=a[i];\n        while(s>=b[j]&&j<=m)s-=b[j++];\n        if(!s)++ans;\n    }\n    if(s!=0||j!=m+1)printf(\"-1\\n\");\n    else printf(\"%d\\n\",ans);\n}\n```",
        "postTime": 1579530991,
        "uid": 36532,
        "name": "localhost",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1036D \u3010Vasya and Arrays\u3011"
    },
    {
        "content": "\u7531\u4e8e\u5143\u7d20\u7684\u503c\u90fd\u662f\u5927\u4e8e$0$\u7684\uff0c\u56e0\u6b64\u7ef4\u62a4\u53cc\u6307\u9488\u626b\u4e00\u904d\uff0c\u5982\u679c$s_p == s_q$\u90a3\u4e48\u5c31\u65b0\u5206\u51fa\u4e00\u6bb5\n\n~~\u6216\u8005\u7528$set$\u76f4\u63a5\u5b58\u4e00\u4e0b\u6240\u6709\u7684\u524d\u7f00\u548c\u4e5f\u884c~~\n\n``` cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nstruct FastIO {\n    static const int S = 1e7;\n    int wpos;\n    char wbuf[S];\n    FastIO() : wpos(0) {}\n    inline int xchar() {\n        static char buf[S];\n        static int len = 0, pos = 0;\n        if (pos == len)\n            pos = 0, len = fread(buf, 1, S, stdin);\n        if (pos == len) exit(0);\n        return buf[pos++];\n    }\n    inline int operator () () {\n        int c = xchar(), x = 0;\n        while (c <= 32) c = xchar();\n        for (; '0' <= c && c <= '9'; c = xchar()) x = x * 10 + c - '0';\n        return x;\n    }\n    inline ll operator ! () {\n        int c = xchar(); ll x = 0;\n        while (c <= 32) c = xchar();\n        for (; '0' <= c && c <= '9'; c = xchar()) x = x * 10 + c - '0';\n        return x;\n    }\n    inline void wchar(int x) {\n        if (wpos == S) fwrite(wbuf, 1, S, stdout), wpos = 0;\n        wbuf[wpos++] = x;\n    }\n    inline void operator () (ll x) {\n        if (x < 0) wchar('-'), x = -x;\n        char s[24];\n        int n = 0;\n        while (x || !n) s[n++] = '0' + x % 10, x /= 10;\n        while (n--) wchar(s[n]);\n        wchar('\\n');\n    }\n    ~FastIO()\n    {\n        if (wpos) fwrite(wbuf, 1, wpos, stdout), wpos = 0;\n    }\n} io;\n\nconst int N = 3e5 + 10; \nint n, m;\nstruct T { ll x[N], s[N]; } a, b;\n\nvoid wa() { puts(\"-1\"), exit(0); }\n\nint main() {\n\tn = io();\n\tfor(int i = 1 ; i <= n ; ++ i) a.x[i] = io(), a.s[i] = a.s[i - 1] + a.x[i];\n\tm = io();\n\tfor(int i = 1 ; i <= m ; ++ i) b.x[i] = io(), b.s[i] = b.s[i - 1] + b.x[i];\n\tint p = 0, q = 0; ll sp = 0, sq = 0;\n\tif(a.s[n] != b.s[m]) {\n\t\twa();\n\t} else {\n\t\tp = 1, q = 1, sp = a.x[1], sq = b.x[1];\n\t\tint ans = 0;\n\t\twhile(1) {\n\t\t\tif(p > n || q > m) wa();\n\t\t\twhile(sp < sq) {\n\t\t\t\tif(p + 1 > n) wa();\n\t\t\t\tsp += a.x[++ p];\n\t\t\t}\n\t\t\twhile(sp > sq) {\n\t\t\t\tif(q + 1 > m) wa();\n\t\t\t\tsq += b.x[++ q];\n\t\t\t}\n\t\t\tif(sp == sq) {\n\t\t\t\tsp = a.x[++ p], sq = b.x[++ q];\n\t\t\t\t++ ans;\n\t\t\t\tif(p == n + 1 && q == m + 1) io(ans), exit(0);\n\t\t\t}\n\t\t}\n\t}\n}\n```",
        "postTime": 1536378269,
        "uid": 47111,
        "name": "nekko",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1036D \u3010Vasya and Arrays\u3011"
    },
    {
        "content": "# \u601d\u8def\n\u770b\u5230\u6570\u636e\u8303\u56f4\uff0c$O(n^{2})$ \u7684\u66b4\u529b\u663e\u7136\u4e0d\u884c\u3002\u89c2\u5bdf\u9898\u76ee\uff0c\u6570\u636e\u8303\u56f4\u6ee1\u8db3 $a_i$ **\u5927\u4e8e\u7b49\u4e8e\u4e00**\uff0c\u5c31\u53ef\u4ee5\u7528**\u53cc\u6307\u9488**\uff0c\u56e0\u4e3a\u53ea\u8981\u5176\u4e2d\u4e00\u4e2a\u5e8f\u5217\u7684\u5f53\u524d\u8fd9\u4e00\u6bb5\u7684\u548c\u5c0f\u4e8e\u53e6\u4e00\u4e2a\u5e8f\u5217\uff0c\u53ea\u80fd\u8ba9\u5f53\u524d\u5e8f\u5217\u52a0\u5165\u4e00\u4e2a\u5143\u7d20\u3002\n\n\u800c\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\u5c31\u5f88\u597d\u5224\u65ad\u4e86\uff0c\u53ea\u8981\u4e24\u4e2a\u5e8f\u5217\u603b\u548c\u4e0d\u540c\uff0c\u5c31\u4e0d\u6210\u7acb\uff0c\u53cd\u4e4b\u4e00\u5b9a\u6210\u7acb\u3002\n# \u4ee3\u7801\n```\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint a[300005],b[300005],n,m;\nsigned main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) scanf(\"%lld\",&a[i]);\n\tcin>>m;\n\tfor(int i=1;i<=m;i++) scanf(\"%lld\",&b[i]);\n\tint ans=0,i=1,j=1,s1=a[1],s2=b[1];//\u4e24\u4e2a\u6307\u9488\uff0c\u4e0e\u5f53\u524d\u4e00\u4efd\u7684\u548c\n\twhile(i<=n&&j<=m)\n\t{\n\t\tif(s1==s2)\n\t\t{\n\t\t\tans++;\n\t\t\ts1=a[++i],s2=b[++j];\n\t\t\tcontinue;\n\t\t}\n\t\tif(s1<s2) s1+=a[++i];\n\t\telse s2+=b[++j];\n\t}\n\tif(i!=n+1||j!=m+1) puts(\"-1\");//\u53ea\u6709\u5f53i=n\u4e14j=m\u4e14\u5f53\u65f6\u4e24\u4efd\u7684\u548c\u76f8\u7b49\u65f6i++,j++\u624d\u6210\u7acb\n\telse cout<<ans;\n\treturn 0;\n}\n```",
        "postTime": 1630036434,
        "uid": 448159,
        "name": "wz20201136",
        "ccfLevel": 7,
        "title": "CF1036D"
    }
]