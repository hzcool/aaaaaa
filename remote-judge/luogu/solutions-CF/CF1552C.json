[
    {
        "content": "## \u9898\u5e72\n\n\u5728\u4e00\u4e2a\u5706\u4e0a\u6709 $2n$ \u4e2a\u4e0d\u540c\u7684\u70b9\uff0c\u5177\u6709\u4ee5\u4e0b\u6027\u8d28\uff1a\u65e0\u8bba\u4f60\u5982\u4f55\u9009\u62e9 $3$ \u6761\u8fde\u63a5 $3$ \u5bf9\u4e92\u4e0d\u76f8\u5e72\u7684\u70b9\u7684\u5f26\uff0c\u5728\u5706\u5185\u6ca1\u6709\u4e00\u4e2a\u70b9\u4e25\u683c\u5c5e\u4e8e\u6240\u6709 $3$ \u6761\u5f26\u3002\u8fd9\u4e9b\u70b9\u6309\u987a\u65f6\u9488\u987a\u5e8f\u88ab\u7f16\u53f7\u4e3a $1,2,\u2026,2n$\u3002\n\n\u6700\u521d\uff0c$k$ \u6761\u548c\u5f26\u8fde\u63a5\u4e86 $k$ \u5bf9\u70b9\uff0c\u5176\u65b9\u5f0f\u662f\u8fd9\u4e9b\u548c\u5f26\u7684\u6240\u6709 $2k$ \u4e2a\u7aef\u70b9\u662f\u4e0d\u540c\u7684\u3002\n\n\u4f60\u60f3\u753b\u51fa $n-k$ \u6761\u989d\u5916\u7684\u548c\u5f26\uff0c\u8fde\u63a5\u5269\u4f59\u7684$ 2(n-k)$ \u4e2a\u70b9\uff08\u6bcf\u4e2a\u70b9\u5fc5\u987b\u6b63\u597d\u662f\u4e00\u4e2a\u548c\u5f26\u7684\u7aef\u70b9\uff09\u3002\n\n\u6700\u540e\uff0c\u8ba9 $x$ \u6210\u4e3a\u6240\u6709 $n$ \u6761\u5f26\u7684\u4ea4\u53c9\u70b9\u7684\u603b\u6570\u3002\u8ba1\u7b97\u5982\u679c\u4f60\u4ee5\u6700\u4f73\u65b9\u5f0f\u9009\u62e9 $n-k$ \u6761\u5f26\uff0c$x$ \u80fd\u8fbe\u5230\u7684\u6700\u5927\u503c\u3002\n\u8bf7\u6ce8\u610f\uff0c$2n$ \u4e2a\u70b9\u7684\u786e\u5207\u4f4d\u7f6e\u5e76\u4e0d\u91cd\u8981\uff0c\u53ea\u8981\u7b2c\u4e00\u6bb5\u4e2d\u6240\u8ff0\u7684\u5c5e\u6027\u6210\u7acb\u5373\u53ef\u3002\n\n\n## \u89e3\u9898\u601d\u8def\n\n### \u9996\u5148\u8003\u8651 $k = 0$ \u7684\u60c5\u51b5\uff1a\n\n\u663e\u7136\u6211\u4eec\u5e0c\u671b\u8fde\u4e00\u6761\u65b0\u7684\u5f26\u7684\u65f6\u5019\uff0c\u4e0e\u5c3d\u53ef\u80fd\u591a\u7684\u5df2\u6709\u7684\u5f26\u76f8\u4ea4\uff0c\u800c\u6839\u636e\u9898\u76ee\u6240\u7ed9\u7684\u6027\u8d28\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u8fde\u4e00\u6761\u65b0\u7684\u5f26\u53ef\u4ee5\u4e0e\u6240\u6709\u5df2\u6709\u7684\u5f26\u76f8\u4ea4\uff0c\u6240\u4ee5\u6211\u4eec\u6784\u9020\u5982\u4e0b\u65b9\u6cd5\uff1a\u4e00\u4e2a\u5706\u4e0a\u6709 $2n$ \u4e2a\u4e0d\u540c\u7684\u70b9\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u70b9 $i$ \uff0c\u8fde\u63a5\u5b83\u4e0e\u5b83\u7684\u5bf9\u70b9\u5f62\u6210\u4e00\u6761\u65b0\u7684\u5f26\uff0c\u5b83\u7684\u5bf9\u70b9\u662f $i+n$\u3002\n![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/ebef20d8e7ce406cb39bf9b228b615f3.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGwwNDEwMzA=,size_16,color_FFFFFF,t_70#pic_center)\n\u5982\u6b64\u6784\u9020\u53ef\u4ee5\u4f7f\u5f97\u6bcf\u4e00\u6761\u5f26\u90fd\u4e0e\u5269\u4f59\u7684\u5f26\u5168\u90e8\u76f8\u4ea4\uff0c\u6240\u4ee5\u7b54\u6848\u4e3a $\\operatorname{ans} = \\sum_{i = 1}^{n} i=\\dfrac{n(n-1)}{2}$\n\n### \u7136\u540e\u8003\u8651  $k=1$ \u7684\u60c5\u51b5\uff1a\n\n\u5bf9\u4e8e\u5982\u4e0b\u60c5\u51b5\uff1a\n![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/17b55c46b75f4f15acc7493bb0e26052.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGwwNDEwMzA=,size_16,color_FFFFFF,t_70#pic_center)\n\n\u6211\u4eec\u8003\u8651\u4ee4\u65b0\u8fde\u4e0a\u7684\u8fb9\u5c3d\u53ef\u80fd\u591a\u7684\u4e0e\u5df2\u8fde\u8fb9\u76f8\u4ea4\uff0c\u5e76\u4e14\u65b0\u8fde\u7684\u8fb9\u5c3d\u53ef\u80fd\u591a\u7684\u4e92\u4ea4\u3002\u4e3a\u4e86\u4f7f\u65b0\u8fde\u4e0a\u7684\u8fb9\u5c3d\u53ef\u80fd\u591a\u7684\u4e0e\u5df2\u8fde\u8fb9\u76f8\u4ea4\uff0c\u6211\u4eec\u5df2\u8fde\u8fb9\u4e0b\u65b9\u7684 $a$ \u4e2a\u70b9\u5168\u90e8\u4e0e\u4e0a\u65b9\u7684\u70b9\u76f8\u8fde\uff0c\u5f97\u5230 $a$ \u4e2a\u4ea4\u70b9\uff0c\u540c\u65f6\u5c06\u8fd9 $a+b$ \u4e2a\u70b9\u770b\u4f5c\u4e00\u4e2a\u65b0\u7684\u5706\uff0c\u7528  $k=0$ \u7684\u60c5\u51b5\u4e2d\u7684\u6784\u9020\u65b9\u6cd5\u8ba1\u7b97\u5373\u53ef\uff0c\u6700\u7ec8\u7b54\u6848 $\\operatorname{ans} = a+\\dfrac{(a+b)(a+b+1)}{2}$\n\n### \u6700\u540e\u8003\u8651\u666e\u904d\u60c5\u51b5\uff1a\n\n\u5176\u5b9e\u5bf9\u4e8e\u6240\u6709\u60c5\u51b5\uff0c\u6211\u4eec\u53ea\u8981\u5c06\u6ca1\u6709\u8fde\u4e0a\u8fb9\u7684\u70b9\u5168\u90e8\u63d0\u51fa\u6765\u8fd0\u7528\u6700\u5f00\u59cb\u63d0\u5230\u7684\u6784\u9020\u65b9\u6cd5\u5c31\u53ef\u4ee5\u4f7f\u5f97\u83b7\u5f97\u7684\u4ea4\u70b9\u6700\u591a\u3002\u5bf9\u4e8e\u7ed3\u8bba\u7684\u8bc1\u660e\u53ef\u4ee5\u8003\u8651\u7528 $k=1$ \u7684\u60c5\u51b5\u7c7b\u63a8\u5230\u6240\u6709\u60c5\u51b5\uff0c\u56e0\u4e3a\u53ef\u4ee5\u5c06\u6240\u6709\u5df2\u8fde\u4e0a\u7684\u8fb9\u5355\u72ec\u8003\u8651\uff0c\u6240\u4ee5\u4ece\u5b50\u95ee\u9898\u5f52\u7eb3\u4f7f\u5f97\u603b\u95ee\u9898\u7684\u89e3\u6cd5\u6b63\u786e\u6027\u5f97\u8bc1\u3002\u9664\u6b64\u4ee5\u5916\uff0c\u8003\u8651\u65b0\u8fde\u4e24\u6761\u8fb9\u4e0e\u5df2\u6709\u7684\u4e00\u6761\u8fb9\u7684\u60c5\u51b5\uff0c\u901a\u8fc7\u753b\u56fe\u5f97\u77e5\uff0c\u65e0\u8bba\u5df2\u6709\u7684\u4e00\u6761\u8fb9\u4e0e\u65b0\u8fde\u7684\u4e24\u6761\u8fb9\u5173\u7cfb\u5982\u4f55\uff0c\u65b0\u8fde\u7684\u4e24\u6761\u8fb9\u76f8\u4ea4\u603b\u4f1a\u4f7f\u5f97\u603b\u4ea4\u70b9\u6570\u4e0d\u51cf\u5c11\uff0c\u6240\u4ee5\u4ee4\u4efb\u610f\u4e24\u6761\u65b0\u8fb9\u76f8\u4ea4\u5373\u4e3a\u6700\u4f73\u7b54\u6848\u3002\n\n\u65b0\u8fde\u8fb9\u7684\u4ea4\u70b9\u53ef\u4ee5\u5229\u7528\u516c\u5f0f\u6c42\u5f97\uff0c\u81f3\u4e8e\u5df2\u6709\u8fb9\u4e4b\u95f4\u7684\u4ea4\u70b9\u4e0e\u5df2\u6709\u8fb9\u548c\u65b0\u8fde\u8fb9\u7684\u4ea4\u70b9\u53ef\u4ee5\u679a\u4e3e\u5224\u65ad\u6c42\u5f97\uff0c\u5bf9\u4e8e\u5706\u4e0a\u7684\u70b9 $a,b,c,d(a<b,c<d)$ \u6240\u8fde\u6210\u7684\u4e24\u6761\u5f26 $(a,b),(c,d)$ \uff0c\u5b83\u4eec\u76f8\u4ea4\u7684\u6761\u4ef6\u662f $a<c<b<d$ \u6216 $c<a<d<b$\uff0c\u65f6\u95f4\u590d\u6742\u5ea6$O(n^2)$\n\n\n------------\n\n\n### \u53c2\u8003\u7a0b\u5e8f\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<fstream>\n\nusing namespace std;\nint n,k,T,ans;\nint p[5005][2],a[5005],cnt,x,y;\nbool vis[5005];\n\nint main()\n{\n//\tfreopen(\"intersect.in\",\"r\",stdin);\n//\tfreopen(\"intersect.out\",\"w\",stdout);\n\tscanf(\"%d\",&T);\n\tfor(int t = 1;t <= T;t ++)\n\t{\n\t\tscanf(\"%d%d\",&n,&k);\n\t\tans = 0;\n\t\tif(k == 0)\n\t\t{\n\t\t\tfor(int i = 1;i < n;i ++)\n\t\t\t\tans += i;\n\t\t\tprintf(\"%d\\n\",ans);\n\t\t\tcontinue;\n\t\t}\n\t\tcnt = 0;\n\t\tfor(int i = 1;i <= (n+n);i ++ ) vis[i] = 0;\n\t\tfor(int i = 1;i <= k;i ++)\n\t\t{\n\t\t\tscanf(\"%d%d\",&x,&y);\n\t\t\tp[i][0] = min(x,y);\n\t\t\tp[i][1] = max(x,y);\n\t\t\tvis[x] = vis[y] = 1;\n\t\t}\n\t\tfor(int i = 1;i <= (n+n);i ++)\n\t\t\tif(vis[i] == 0)\n\t\t\t{\n\t\t\t\tcnt ++;\n\t\t\t\ta[cnt] = i; \n\t\t\t}\n\t\tfor(int i = 1;i <= (cnt/2);i ++)\n\t\t{\n\t\t\tp[k+i][0] = a[i];\n\t\t\tp[k+i][1] = a[i+(cnt/2)];\n\t\t}\n\t\tfor(int i = 1;i <= k;i ++)\n\t\t\tfor(int j = i+1;j <= n;j ++)\n\t\t\t\tif((p[i][0] < p[j][0] && p[j][0] < p[i][1] && p[i][1] < p[j][1]) || (p[j][0] < p[i][0] && p[i][0] < p[j][1] && p[j][1] < p[i][1]))\n\t\t\t\t\tans ++;\n\t\tfor(int i = 1;i < (cnt/2);i ++) ans += i;\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\t\n\treturn 0;\n} \n```\n\n",
        "postTime": 1628938767,
        "uid": 80822,
        "name": "zhongqijun",
        "ccfLevel": 6,
        "title": "CF1552C Maximize the Intersections\uff08\u63a8\u7406\uff0c\u6570\u5b66\uff09"
    },
    {
        "content": "\u8003\u8651\u5982\u4f55\u6700\u5927\u5316\u52a0\u4e0a\u53bb\u7684\u8fb9\u7684\u4ea4\u70b9\u4e2a\u6570\u3002\u8bbe\u8981\u52a0\u7684\u8fb9\u7684\u7aef\u70b9\u4e3a $1, 2, \\cdots, 2(n - k)$\uff0c\u4e0d\u96be\u53d1\u73b0\u8fde\u8fb9 $i \\rightarrow i + n - k$ \u662f\u6700\u4f18\u7684\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4efb\u610f\u4ea4\u6362\u4e24\u6761\u8fb9\u7684\u7aef\u70b9\u90fd\u4f1a\u51cf\u5c11\u7b54\u6848\u3002\n\n\u8fd9\u6837\u8fde\u8fb9\u662f\u5426\u4f1a\u51cf\u5c11\u4e0e\u5df2\u6709\u7684\u8fb9\u4e4b\u95f4\u7684\u4ea4\u70b9\u4e2a\u6570\u5462\uff1f\u7b54\u6848\u662f\u4e0d\u4f1a\u3002\u6211\u4eec\u53ef\u4ee5\u5206\u7c7b\u8ba8\u8bba\u8fd9\u6837\u7684\u60c5\u51b5\uff1a\n\n\u8bbe\u70b9\u4e3a $a, b, c, d$\uff0c\u5f53\u5b83\u4eec\u5728\u67d0\u4e00\u6761\u8fb9\u540c\u4fa7\u65f6\uff0c\u663e\u7136\u4ea4\u70b9\u4e2a\u6570\u90fd\u4e3a $0$\u3002\n\n\u5f53 $a$ \u5728\u8fb9\u7684\u4e00\u4fa7\uff0c$b, c, d$ \u5728\u8fb9\u7684\u53e6\u4e00\u4fa7\u65f6\uff0c$a \\rightarrow (b, c, d)$ \u4e2d\u603b\u4f1a\u6709\u4e00\u6761\u8fb9\u4ea7\u751f\u8d21\u732e\uff0c\u5269\u4e0b\u7684\u8fb9\u5982\u679c\u76f8\u4ea4\u5219\u4f1a\u518d\u4ea7\u751f\u4e00\u4e2a\u4ea4\u70b9\u3002\n\n\u5f53 $a, b$ \u5728\u8fb9\u7684\u4e00\u4fa7\uff0c$c, d$ \u5728\u53e6\u4e00\u4fa7\u65f6\uff0c\u5f88\u5bb9\u6613\u53d1\u73b0 $a \\rightarrow c$ \u548c $b \\rightarrow d$ \u662f\u6700\u4f18\u7684\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ea\u9700\u8981\u7edf\u8ba1\u6ca1\u6709\u4f7f\u7528\u7684\u70b9\uff0c\u7136\u540e\u901a\u8fc7\u4e0a\u9762\u7684\u7b56\u7565\u8fde\u8fb9\uff0c\u4e4b\u540e $O(n^2)$ \u7edf\u8ba1\u7b54\u6848\u5373\u53ef\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n\ntemplate <class T>\ninline void read(T &x) {\n    x = 0;\n    int f = 0;\n    char ch = getchar();\n    while (!isdigit(ch))    { f |= ch == '-'; ch = getchar(); }\n    while (isdigit(ch))     { x = (x << 1) + (x << 3) + (ch ^ 48); ch = getchar(); }\n    x = f ? -x : x;\n    return ;\n}\n\ntypedef unsigned long long uLL;\ntypedef long long LL;\n\nstruct Node {\n    int x, y;\n};\n\nstd::vector<Node> g;\nstd::vector<int> v;\nint T, n, k, ans;\nbool vis[210];\n\nbool check(Node a, Node b) {\n    if (a.x > b.x)    std::swap(a, b);\n    return a.x < b.x && b.x < a.y && a.y < b.y;\n}\n\nint main() {\n    read(T);\n    while (T--) {\n        g.clear(), v.clear(), ans = 0;\n        read(n), read(k);\n        for (int i = 1; i <= n + n; ++i)    vis[i] = false;\n        for (int i = 1, x, y; i <= k; ++i) {\n            read(x), read(y);\n            if (x > y)    std::swap(x, y);\n            g.push_back((Node){x, y});\n            vis[x] = vis[y] = true;\n        }\n        for (int i = 1; i <= n + n; ++i) {\n            if (!vis[i]) {\n                v.push_back(i);\n            }\n        }\n        for (int i = 0; i < n - k; ++i)    g.push_back((Node){v[i], v[i + n - k]});\n        for (int i = 0; i < n; ++i) {\n            for (int j = i + 1; j < n; ++j) {\n                ans += check(g[i], g[j]);\n            }\n        }       \n        printf(\"%d\\n\", ans);\n    }\n    return 0;\n}\n```",
        "postTime": 1627991145,
        "uid": 124152,
        "name": "AmamiyaYuuko",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1552C \u3010Maximize the Intersections\u3011"
    }
]