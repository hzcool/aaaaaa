[
    {
        "content": "CF \u4e0a\u597d\u591a\u505a\u6cd5\u90fd\u5047\u4e86\u5462\uff0c\u751a\u81f3\u8fd9\u573a\u6bd4\u8d5b\u5b98\u65b9\u9898\u89e3\u90fd\u9e3d\u4e86\u3002\n\n\u9996\u5148\uff0c$n>1$ \u65f6\u4e0d\u53ef\u80fd\u6240\u6709\u4e32\u90fd\u662f 0 \u5f00\u5934\uff0c \u6216\u662f 1 \u5f00\u5934\uff0c\u5426\u5219\u628a\u5f00\u5934\u7684 0 \u6216 1 \u5220\u4e86\u4f9d\u7136\u5408\u6cd5\u3002\u5219 $n=2$ \u65f6 \u4e24\u4e32\u5fc5\u4e3a 0 \u548c 1 \u3002\u8ba9\u6211\u4eec\u8003\u8651\u628a n+1 \u6211\u4eec\u5e94\u8be5\u600e\u4e48\u4fee\u6539\u4e32\uff0c\u9009\u62e9\u4ee3\u4ef7\u6700\u5c0f\u7684\uff0c\u8bbe\u4e3a s \uff0c\u5220\u6389 s \uff0c\u52a0\u5165 $\\texttt{s1=s+'0'}$ \u548c $\\texttt{s2=s+'1'}$ \u3002\u8fd9\u6837\u4e00\u5b9a\u662f\u5408\u6cd5\u7684\uff0c\u4e5f\u662f\u6700\u4f18\u7684\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u4ee3\u4ef7\u4e00\u6837\u7684\u4e32\u4e00\u8d77\u5904\u7406\uff0c\u7528 set \u548c map \u66b4\u529b\u6a21\u62df\uff0c\u5c31\u53ef\u4ee5\u8fc7\u4e86\u3002\u8fd9\u5c31\u662f\u5047\u505a\u6cd5\uff0c\u8fd8\u975e\u5e38\u77ed\u3002\u653e\u4e2a\u4ee3\u7801\u5e2e\u52a9\u7406\u89e3\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n\tint n,a,b;\n\tlong long ans;\n\tscanf(\"%d%d%d\",&n,&a,&b);\n\tif(n==1)\n\t{\n\t\tprintf(\"%d\",min(a,b));\n\t\treturn 0;\n\t}\n\tans=1ll*(n-1)*(a+b);\n\tif(a==0||b==0)\n\t{\n\t\tprintf(\"%lld\",ans);\n\t\treturn 0;\n\t}\n\tn-=2;\n\tset<long long> s;\n\tmap<long long,long long> ma;\n\t++ma[a],++ma[b];\n\ts.insert(a),s.insert(b);\n\twhile(n)\n\t{\n\t\tconst long long x=*s.begin(),p=min(1ll*n,ma[x]);\n\t\ts.erase(s.begin());\n\t\tans+=x*p;\n\t\tn-=p;\n\t\tma[x]=0;\n\t\ts.insert(x+a);ma[x+a]+=p;\n\t\ts.insert(x+b);ma[x+b]+=p;\n\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```\n100000000 1 10000000 \u8fd9\u7c7b\u6570\u636e\u5c31\u53ef\u4ee5\u5361\u6389\u8fd9\u79cd\u505a\u6cd5\u3002\n\n\u4e8e\u662f\u6211\u4eec\u8003\u8651\u6839\u53f7\u5206\u6cbb \u3002\n\n\u8bbe $a=\\min(c0,c1),b=\\max(c0,c1),B=\\sqrt{n\\times t},t$ \u662f\u4e00\u4e2a\u5e38\u6570\uff0c\u53d6 \u53d6\u503c\u4e4b\u540e\u518d\u8bf4\u3002\n\n\u5f53 $B>\\tfrac{b}{a}$ \uff0c\u5219\u76f4\u63a5\u4e0a\u4e0a\u9762\u7684\u66b4\u529b\uff0c\u590d\u6742\u5ea6\u4e3a $O(B\\log^2n)$ \u3002\u56e0\u4e3a\u5bf9\u4e8e\u6709 x \u4e2a 0\uff0cy \u4e2a 1 \u7684\u4e32\u6709 $C_{x+y}^y$ \u4e2a\uff0c\u5f53 y \u53d8\u5927\uff0c\u5b83\u7684\u589e\u957f\u901f\u5ea6\u5f88\u5feb\u3002\n\n\u5f53 $B<\\tfrac{b}{a}$ \uff0c\u6211\u4eec\u8ba1\u7b97\u4ee3\u4ef7\u5c0f\u4e8e $b+b$ \u7684\u4e32\u7684\u4e2a\u6570\uff0c\u4e3a(\u9664\u6cd5\u90fd\u5411\u4e0b\u53d6\u6574) $sum=\\tfrac{b+b-1}{a}+(\\tfrac{b-1}{a}+1)\\times(\\tfrac{b-1}{a}+2)/2\\ge (B+3)\\times(B+2)/2>n\\times t/2$\uff08\u6ce8\u610f\u6b64\u65f6 b \u53ea\u7528 0 \u6216 1 \u6b21\uff09\uff0c\u5219 $t\\ge2$ \u5373\u53ef \u3002\u90a3\u4e48\u5c31~~\u53ea\u8981\u628a b \u7528\u4e00\u6b21\u7684\u4e32\u7684\u4ee3\u4ef7\u548c\u6570\u91cf\u5f04\u8fdb set \u548c map \u91cc~~\u6309\u4ee3\u4ef7\u679a\u4e3e b \u7528\u4e00\u6b21\u7684\u4e32\uff0c\u6bcf\u6b21\u53d6\u51fa\u65f6\u5224\u65ad\u52a0\u4e0a b \u7528\u96f6\u6b21\u7684\u4e32\u7684\u4e2a\u6570\u6709\u6ca1\u6709\u8d85\u8fc7 n \u4e2a\u5373\u53ef\u3002\u590d\u6742\u5ea6 $O(B)$ \u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(\\sqrt n\\log^2n)$ \uff0c\u5e26\u6839\u53f7\u5f88\u6d9d\uff0c\u4f46\u603b\u6bd4\u5047\u505a\u6cd5\u597d\u3002\n\n\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n\tint n,a,b;\n\tlong long ans;\n\tscanf(\"%d%d%d\",&n,&a,&b);\n\tif(n==1)\n\t{\n\t\tprintf(\"%d\",min(a,b));\n\t\treturn 0;\n\t}\n\tans=1ll*(n-1)*(a+b);\n\tif(a==0||b==0)\n\t{\n\t\tprintf(\"%lld\",ans);\n\t\treturn 0;\n\t}\n\tn-=2;\n\tif(a>b) swap(a,b);\n\tset<long long> s;\n\tmap<long long,long long> ma;\n\tif(b/a>n)\n\t{\n\t\tprintf(\"%lld\",ans+1ll*(1+n)*n/2*a);\n\t\treturn 0;\n\t}\n\tif(sqrt(30.0*n)>(1.0*b/a))\n\t{\n\t\t++ma[a],++ma[b];\n\t\ts.insert(a),s.insert(b);\n\t\twhile(n)\n\t\t{\n\t\t\tconst long long x=*s.begin(),p=min(1ll*n,ma[x]);\n\t\t\ts.erase(s.begin());\n\t\t\tans+=x*p;\n\t\t\tn-=p;\n\t\t\tma[x]=0;\n\t\t\ts.insert(x+a);ma[x+a]+=p;\n\t\t\ts.insert(x+b);ma[x+b]+=p;\n\t\t}\n\t}\n\telse\n\t{\n\t\tlong long p=n;\n\t\tfor(long long i=b,j=1;i<=b+b&&p>0;i+=a,++j) s.insert(i),ma[i]+=j,p-=j;\n\t\t//\u4ee3\u7801\u4e2d\u7684\u505a\u6cd5\u4e3a\u5212\u53bb\u7684\u505a\u6cd5\n\t\twhile(n)\n\t\t{\n\t\t\tconst long long x=*s.begin(),p=min(1ll*(n-x/a),ma[x]);\n\t\t\ts.erase(s.begin());\n\t\t\tif(p<=0)\n\t\t\t{\n\t\t\t\tans+=1ll*(n+1)*n/2*a;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tans+=x*p;\n\t\t\tn-=p;\n\t\t}\n\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1637664984,
        "uid": 112921,
        "name": "zhimao",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF717B R3D3\u2019s Summer Adventure"
    }
]