[
    {
        "content": "\u6211\u4eec\u53ef\u4ee5\u628a\u4e00\u4e9b\u80fd\u7528\u540c\u6837\u5e95\u6570\u7684\u5e42\u6b21\u5206\u7ec4\uff0c\u5373\u5206\u6210$c,c^2,c^3....$\uff0c\u4e3a\u4e86\u8ba9\u5206\u5f00\u7684\u96c6\u5408\u76f8\u4e92\u72ec\u7acb\uff0c$c$\u4e0d\u80fd\u8868\u793a\u6210\u5176\u4ed6\u6570\uff08\u9664\u4e86$c^1$\uff09\u7684\u5e42\u5f62\u5f0f\u3002\u65e2\u7136\u5df2\u7ecf\u540c\u5e95\u6570\u4e86\uff0c\u6240\u4ee5\u53ef\u4ee5\u7406\u89e3\u4e3a\u6bcf\u6b21\u53ef\u4ee5\u53d6\u4e00\u4e2a\u6570$i\\in[1,k]$\uff0c\u5f53\u9009\u4e86$i$\u65f6\uff0c$i*j$\u4e0d\u80fd\u9009\uff0c$k$\u4e3a\u6ee1\u8db3$c^k<=n$\u7684\u6700\u5927\u6574\u6570\uff0c\u95ee\u8c01\u80fd\u8d62\u7684\u95ee\u9898\u3002\n\n\u56e0\u4e3a$n\u22641e9$\uff0c\u6240\u4ee5$2^{30}>1e9$ \uff0c\u6240\u4ee5$k<30$ \u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u7ec4\uff0c\u90fd\u76f8\u5f53\u4e8e\u4e00\u4e2a$NIM$\u6e38\u620f\uff0c\u53ef\u4ee5\u7528$sg$\u51fd\u6570\u6c42\u89e3\uff0c\u518d\u628a\u6240\u6709\u7ec4\u7684$sg$\u5f02\u6216\u8d77\u6765\u3002\u6211\u4eec\u53ef\u4ee5\u6253\u8868\u6253\u51fa\u5927\u5c0f\u4e3a$[1,30]$\u7684\u7ec4\u7684$sg$\u503c\u3002\n\n\u6253\u8868\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#include <map>\n\nusing namespace std;\n\nmap <int,int> h;\n\nint a[35],n,g;\n\nint dfs(int x)\n{\n\tif ((x==0) || (h[x])) return h[x];\n\tbool b[35];\n\tfor (int i=0;i<=n;i++) b[i]=0;\n\tfor (int i=1;i<=n;i++)\n\t{\n\t\tint sub=x;\n\t\tif ((x&(1<<(i-1)))!=0)\n\t\t{\n\t\t\tfor (int j=i;j<=n;j+=i) sub&=g-(1<<(j-1));\n\t\t\tb[dfs(sub)]=1;\n\t\t}\n\t}\n\tint c=0;\n\tfor (int i=0;i<=n;i++)\n\t{\n\t\tif (!b[i])\n\t\t{\n\t\t\tc=i;\n\t\t\tbreak;\n\t\t}\n\t}\n\th[x]=c;\n\treturn c;\n}\n\nint main()\n{\n\tfor (int i=1;i<=30;i++)\n\t{\t\n\t\tn=i;\n\t\tg=(1<<n)-1;\t\t\n\t\tfor (int j=1;j<=i;j++) a[j]=1;\n\t    printf(\"%d\\n\",dfs(g));\n\t}\n}\n```\n\n\u56e0\u4e3a\u5927\u4e8e$\\sqrt{n}$\u7684\u6570\u7684$k$\u503c\u90fd\u662f$1$\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u66b4\u529b\u524d$\\sqrt{n}$\u4e2a\u6570\u7684$sg$\u5f02\u6216\u548c\u3002\u4f46\u662f\u8981\u6392\u9664\u6389\u90a3\u4e9b\u53ef\u4ee5\u5199\u6210\u5176\u4ed6\u6570\u5e42\u6b21\uff08\u9664$c^1$\uff09\u7684\u6570\uff0c\u7136\u540e\u7edf\u8ba1\u4e00\u4e0b$[\\sqrt{n}+1,n]$\u6709\u591a\u5c11\u4e2a\u8fd9\u6837\u7684\u6570\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8303\u56f4\u5185\u5269\u4e0b\u7684\u6570\u7684$sg$\u503c\u90fd\u7b49\u4e8e$sg[1]$\u3002\u56e0\u4e3a\u662f\u5f02\u6216\uff0c\u53ea\u8981\u5224\u65ad\u5269\u4e0b\u7684\u6570\u7684\u4e2a\u6570\u7684\u5947\u5076\u6027\u5373\u53ef\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#define LL long long\n\nconst LL sg[31]={0,1,2,1,4,3,2,1,5,6,2,1,8,7,5,9,8,7,3,4,7,4,2,1,10,9,3,6,11,12,14};\nconst int maxn=1e5+7;\n\nusing namespace std;\n\nLL n;\nLL ans,v[maxn],t;\n\nint main()\n{\n\tscanf(\"%lld\",&n);\n\tLL p=trunc(sqrt(n));\n\tans=sg[1];\t\n\tfor (LL i=2;i<=p;i++)\n\t{\n\t\tif (v[i]) continue;\n\t\tLL c=i,k=1;\n\t\twhile (c*i<=n)\n\t\t{\n\t\t\tc*=i;\n\t\t\tif (c<=p) v[c]=1;\n\t\t\t    else t++;\n\t\t\tk++;\n\t\t}\t\t\n\t\tans^=sg[k];\n\t}\t\n\tif ((n-p-t)%2==1) ans^=sg[1];\n    if (ans==0) printf(\"Petya\");\n           else printf(\"Vasya\");\n}\n```",
        "postTime": 1531988050,
        "uid": 18895,
        "name": "liangzihao",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF317D \u3010Game with Powers\u3011"
    }
]