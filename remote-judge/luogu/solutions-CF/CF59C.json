[
    {
        "content": "emming\u2026\u2026\uff0c\u8fd9\u9053\u9898\u5361\u4e86\u6211\u597d\u4e45\uff0c\u7136\u540e\u5c45\u7136\u53d1\u73b0IMPOSSIBLE\u6253\u6210\u4e86IMPOSSBLE ~~\uff08\u82f1\u6587\u6e23~~ 23333\n\n**~~Ctrl+c  Ctrl+v\u5927fa\u597d~~**\n\n\n\u8bb2\u89e3\u5168\u5728\u4ee3\u7801\u91cc\n```\n#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<cstdio>\n#include<set>\nusing namespace std;\nint k;\nstring s;\nset <char> c;\nvoid solve()\n{\n    cin>>k>>s;\n    for(int i=0;i<k;i++)\n        c.insert('a'+i);//\u538b\u8fdb\u53bb\n    for(int i=0;i<s.size();i++)\n        c.erase(s[i]);\n    int cnt=0;\n    for(int i=0;i<(s.size()+1)/2;i++)\n    {\n        int j=s.size()-1-i;\n        if(s[i]=='?'&&s[j]=='?')\n        {\n            cnt++;\n            continue;\n        }\n        if(s[i]=='?')           //\u4e92\u76f8\u8865\u5145\uff0c\u5982\u679c\u4e0d\u4e00\u6837\u5c31\u8bf4\u660eIMPOSSIBLE\uff01\n            s[i]=s[j];\n        if(s[j]=='?')\n            s[j]=s[i];\n        if(s[i]!=s[j])\n        {\n            puts(\"IMPOSSIBLE\");\n            return;\n        }\n    }\n    if(cnt<c.size())            //\u8d85\u51fa\u603b\u957f\u5ea6\u4e86\uff01\n    {\n        puts(\"IMPOSSIBLE\");\n        return;\n    }\n    for(int i=0;i<(s.size()+1)/2;i++)\n    {\n        int j=s.size()-1-i;\n        if(s[i]=='?'&&s[j]=='?')//if\u8bed\u53e5\u7684\u89e3\u91ca\uff1a\u4e0d\u5230\u4e07\u4e0d\u5f97\u5df2\uff0c\u4e0d\u653e\u9664\u2018a\u2019\u4ee5\u5916\u7684\u5b57\u6bcd\uff08\u5b57\u5178\u5e8f\u6700\u5c0f\u561b\uff09\n        {\n            if(cnt==c.size())\n                s[i]=s[j]=*c.begin(),c.erase(c.begin()),cnt--;\n            else\n                s[i]=s[j]='a',cnt--;\n        }\n    }\n    cout<<s;\n    return;\n}\nint main()\n{\n    solve();\n    return 0;\n}\n```",
        "postTime": 1555074595,
        "uid": 122605,
        "name": "\u7075\u5149\u4e00\u95ea",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF59C \u3010Title\u3011"
    },
    {
        "content": "\u4e00\u9053\u6bd4\u8f83\u6c34\u4f46\u662f\u7ec6\u8282\u6bd4\u8f83\u5751\u7684\u9898\u3002\n\n\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cd\u6bd4\u8f83\u6e05\u6670\u7684\u65b9\u6cd5\u3002\n\n\u7531\u4e8e\u9898\u76ee\u8981\u6c42\u662f\u56de\u6587\u4e32\uff0c\u6240\u4ee5\u53ea\u7528\u8003\u8651\u5b57\u7b26\u4e32\u7684\u4e00\u534a\uff0c\u5269\u4e0b\u7684\u4e00\u534a\u5bf9\u5e94\u7740\u5c31\u597d\u3002\n\n\u521a\u5f00\u59cb\u5148\u626b\u4e00\u904d\uff0c\u5c06\u524d\u540e\u90fd\u662f\"?\"\u7684\u5730\u65b9\u8ba1\u6570\uff0c\u4ee5\u4e0b\u95ee\u53f7\u5bf9\u6570\u8bb0\u4e3a $T$\uff0c\u7136\u540e\u5982\u679c\u6709\u4e00\u4fa7\u662f\"?\"\u53e6\u4e00\u4fa7\u662f\u5b57\u6bcd\u7684\u76f4\u63a5\u8d4b\u503c\u5bf9\u5e94\uff0c\u6ce8\u610f\u5982\u679c\u4e24\u4fa7\u90fd\u662f\u5b57\u6bcd\u4e14\u4e0d\u76f8\u540c\u76f4\u63a5\u8f93\u51fa\uff0c\u7ed3\u675f\u7a0b\u5e8f\u3002\n\n\u7136\u540e\u8bb0\u5f55\u4e0b\u5df2\u7ecf\u6709\u7684\u5b57\u7b26\uff0c\u7279\u5224 $k$ \u4ee5\u5185\u8fd8\u6ca1\u6709\u7684\u5b57\u7b26\u6570 $Q$ \u662f\u5426\u5927\u4e8e\u95ee\u53f7\u5bf9\u6570\u3002\n\n\u518d\u7136\u540e\u518d\u626b\u4e00\u904d\uff0c\u8d2a\u5fc3\u628a\u524d $T-Q$ \u7ec4\u95ee\u53f7\u90fd\u641e\u6210\"a\"\uff0c\u7136\u540e\u5269\u4e0b\u7684\u8d4b\u503c\u4e3a\u8fd8\u6ca1\u6709\u51fa\u73b0\u7684\u4e0b\u4e00\u4e2a\u5b57\u6bcd\u3002\n\n\u8fd9\u6837\u5c31\u65e2\u6ee1\u8db3\u4e86\u5b57\u5178\u5e8f\u7684\u8981\u6c42\u53c8\u7279\u5224\u5b8c\u4e86\u6240\u6709\u7279\u6b8a\u60c5\u51b5\u3002\n\n\u4f46\u662f\u636e\u8bf4CF\u662f\u70b8\u7684\u5e76\u4e14\u6d1b\u8c37\u4e5f\u65e0\u6cd5\u6293\u53d6\u8bb0\u5f55\uff1f\n\n\u6240\u4ee5\u4ee3\u7801\u6ca1\u6cd5\u8bc4\u6d4b\uff08\u4e0d\u8fc7\u6d4b\u6837\u4f8b\u6ca1\u9519\uff09\u3002\n\n\u8fd9\u91cc\u4ee3\u7801\u8d34\u4e00\u4e0b\u4ec5\u4f9b\u53c2\u8003\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nint k,t;\nstring s;\nint a[1222];\nint cou[1222],cnt;\n\nsigned main(){\n    cin>>k;\n    cin>>s;\n    \n    int l=s.size();\n\n    for(int i=0;i<s.size();i++){\n        if(s[i]!='?'&&(s[i]-'a'+1)>k){cout<<\"IMPOSSIBLE\";return 0;}//\u7279\u52241\n\n        if(s[l-i-1]!=s[i]&&s[i]!='?'&&s[l-i-1]!='?'){cout<<\"IMPOSSIBLE\";return 0;}//\u7279\u52242\n\n        if(s[l-i-1]!='?'&&s[i]!='?')a[s[i]-'a'+1]++;//\u5904\u7406\u4e00\u4e0b\u7136\u540e\u8bb0\u5f55\n        \n        if(s[i]=='?'&&s[l-i-1]!='?')s[i]=s[l-i-1],a[s[i]-'a'+1]++;\n        else\n        if(s[l-i-1]=='?'&&s[i]!='?')s[l-i-1]=s[i];//\u4ee5\u4e0a\u5c31\u662f\u521a\u5f00\u59cb\u7684\u778e\u641e\n        else\n        if(s[i]=='?'&&s[l-i-1]=='?')t++;//\u8bb0\u5f55\u5bf9\u6570\n    }\n    \n    for(int i=1;i<=k;i++){\n        if(a[i]==0)cou[++cnt]=i;\n    }\n    t=ceil((double)t/2);//\u56e0\u4e3a\u4f1a\u6570\u91cd\u8fd9\u91cc\u9664\u4ee51\u4e2a2\n    if(t<cnt){cout<<\"IMPOSSIBLE\";return 0;}//\u7279\u52243\n    \n    int now=0;\n    \n    for(int i=0;i<s.size();i++){\n        if(s[i]=='?'&&s[l-i-1]=='?'){\n            if(t>cnt)s[i]='a',s[l-i-1]='a';else//\u8d2a\u5fc3\n            \n            s[i]='a'+cou[++now]-1,s[l-i-1]='a'+cou[now]-1;//\u8d2a\u5fc32\n            \n            t--;\n        }\n    }\n    cout<<s;//\u8f93\u51fa\n}\n```",
        "postTime": 1585391980,
        "uid": 209547,
        "name": "infinities",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF59C \u3010Title\u3011"
    },
    {
        "content": "[\u53ef\u80fd\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://mywkj.github.io/2020/03/28/cf59c-ti-jie/)\n\n[**\u539f\u9898\u94fe\u63a5**](https://codeforces.ml/problemset/problem/59/C)\n\n# $ first$ $step: $\n\n- \u9996\u5148\u6ce8\u610f\u5230\u9898\u76ee\u4e2d\u6709\u4e00\u4e2a\u91cd\u8981\u7684\u6027\u8d28:\u90a3\u5c31\u662f\u6bcf\u4e00\u4e2a\u6807\u9898\u90fd\u662f\u56de\u6587\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528\u8fd9\u4e2a\u6027\u8d28\u628a\u80fd\u591f\u786e\u5b9a\u7684\u5b57\u6bcd\u5148\u586b\u4e0a\u3002\u4f8b\u5982\u6837\u4f8b\u4e09\u5c31\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u8fd9\u4e2a\u6027\u8d28\u89e3\u51b3\u3002\n\n- \u5176\u6b21\uff0c\u9898\u76ee\u4e2d\u8981\u6c42\u6807\u9898\u7684\u5b57\u5178\u5e8f\u6700\u5c0f\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u6709\u4e86\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u8d2a\u5fc3\u7684\u7b56\u7565\uff0c\u9047\u5230\u2018\uff1f\u2019\u5c31\u5c3d\u53ef\u80fd\u7684\u586b\u4e0a\u2019a'\uff08\u5f53\u7136\u5fc5\u987b\u8981\u4fdd\u8bc1\u6807\u9898\u4e2d\u6709\u524dk\u4e2a\u5b57\u6bcd\u51fa\u73b0\uff0c\u4f8b\u5982\u6837\u4f8b\u4e8c\uff09\u3002\n\n- \u5728\u4e0a\u8ff0\u6b65\u9aa4\u5b8c\u6210\u540e\uff0c\u8fd8\u8981\u5728\u68c0\u9a8c\u4e00\u904d\u6807\u9898\u4e2d\u662f\u5426\u6709\u524dk\u4e2a\u5b57\u6bcd\u51fa\u73b0\u3002\n\n- \u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u8f93\u5165\u7684\u6807\u9898\u5185\u53ef\u80fd\u5168\u90e8\u662f\u2018\uff1f\u2019\uff0c~~\u5c3d\u7ba1\u8fd9\u5bf9\u6211\u4eec\u7684\u7b97\u6cd5\u6ca1\u6709\u5f71\u54cd~~\uff0c\u6bd4\u5982\n\n- ```php\n  \u8f93\u5165:\n  2\n  ??????\n  \u8f93\u51fa:\n  aabbaa\n  \u8f93\u5165:\n  5\n  ????\n  \u8f93\u51fa:\n  IMPOSSIBLE\n  ```\n\n\n#  $second $  $ step: $\u200b\n\nAC\u4ee3\u7801\u5982\u4e0b:\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nbool use[30];\nint many=0;\nchar s[200];\nint main()\n{\n\tint k;\n\tscanf(\"%d\",&k);\n\tscanf(\"%s\",s+1);\n\tint len=strlen(s+1);\n\tfor(int i=1;i<=len;i++)\n\t{\n\t\tif(s[len-i+1]=='?'&&s[i]!='?')s[len-i+1]=s[i];\n\t\telse if(s[i]=='?'&&s[len-i+1]!='?')s[i]=s[len-i+1];\n\t\telse if(s[len-i+1]!=s[i]){\n\t\t\tputs(\"IMPOSSIBLE\");\n\t\t\t//printf(\"%d\",i);\n\t\t\treturn 0; \n\t\t}\n\t\tif(s[i]!='?')use[s[i]-'a'+1]=true;\n\t\telse many++;\n\t}\n\tmany=ceil(many*1.0/2);\n\t//printf(\"%d\\n\",many);\n\tint cnt=0;\n\tfor(int i=1;i<=k;i++)\n\t  if(use[i]==false)cnt++;\n\tfor(int i=1;i<=len;i++)\n\t{\n\t\tif(s[i]=='?'){\n\t\t\tif(many>cnt&&use[1]==true){\n\t\t\ts[i]=s[len-i+1]='a',many--;\n\t\t\tcontinue;\t\n\t\t\t}\n\t\t\tint who=-1;\n\t\t\tfor(int j=1;j<=k;j++)\n\t\t\t  if(use[j]==false){\n\t\t\t  \twho=j;\n\t\t\t  \tuse[j]=true;\n\t\t\t  \tbreak;\n\t\t\t  }\n\t\t\ts[len-i+1]=s[i]=who+'a'-1;\n\t\t\tmany--;\n\t\t\tcnt--;\n\t\t}\n\t}\t\n\tfor(int i=1;i<=k;i++)\n\t  if(use[i]==false){\n\t  \tputs(\"IMPOSSIBLE\");\n\t  \treturn 0;\n\t  }\n\tfor(int i=1;i<=len;i++)\n\t  printf(\"%c\",s[i]);\n}\n```\n\n",
        "postTime": 1585372246,
        "uid": 240405,
        "name": "wkjwkj",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF59C \u3010Title\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u6a21\u62df\u9898\uff0c\u6211\u7528\u7684\u662f\u4e00\u4e2a**\u5b57\u7b26\u6570\u7ec4**\u7684\u65b9\u6cd5\u3002\n\n## \u601d\u8def\uff1a\n1. \u5148\u5224\u65ad\u521d\u59cb\u544a\u8bc9\u6211\u4eec\u7684\u5b57\u7b26\u7684\u6709\u65e0\uff0c\u6709\u5c31\u7ed9\u5224\u65ad\u5b57\u7b26\u6253\u4e0a\u6807\u8bb0\u3002\n\n2. \u7136\u540e\u4ece\u4e2d\u95f4\u5288\u5f00\uff0c\u4ece\u4e2d\u95f4\u5f80\u4e24\u8fb9\u5bfb\u627e\uff0c\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u7684\u56db\u79cd\u60c5\u51b5:\n\n- \u4e24\u8fb9\u6570\u7ec4**\u4e0d\u4e00\u6837**\uff0c\u76f4\u63a5\u8f93\u51fa ```IMPOSSIBLE```\n \u540e\u9000\u51fa\u3002\n\n- \u4e24\u8fb9\u6570\u7ec4**\u4e00\u6837**\uff08\u4e0d\u662f$?$\uff09\uff0c\u4e0d\u7528\u7ba1\uff0c\u7ee7\u7eed\u5bfb\u627e\u3002\n\n- \u6709**\u4e00\u8fb9**\u662f$?$\uff0c\u628a\u5b83\uff08$?$\uff09\u53d8\u4e3a\u4e0e\u5176\u5bf9\u79f0\u7684\u5b57\u6bcd\u3002\n\n- **\u4e24\u8fb9**\u90fd\u662f $?$\uff0c\u5206\u6790\u6807\u8bb0\uff0c\u5bfb\u627e\u6700\u5927\u7684\u672a\u51fa\u73b0\u7684\u5b57\u6bcd\u3002\u5426\u5219\u8f93\u51fa\u6700\u5c0f\u5b57\u7b26 $a$\u3002\n \n3. \u6700\u540e\u518d\u53bb\u5224\u65ad\u662f\u5426\u6240\u6709\u7684\u5b57\u6bcd\u5168\u90e8\u51fa\u73b0\uff0c\u6700\u540e\u8f93\u51fa\u7b54\u6848\u3002\n\n------------\n## \u4e3a\u4ec0\u4e48\u8981\u4ece\u4e2d\u95f4\u5411\u4e24\u8fb9\u5bfb\u627e\uff1f\n\u6b64\u9898\u8981\u6c42\u6211\u4eec\u5b57\u5178\u5e8f\u6700\u5c0f\uff0c\u5206\u5230\u6700\u540e\u4f1a\u51fa\u73b0\u4e24\u79cd\u60c5\u51b5\uff1a\n\n- \u8981\u4e48\u6709\u5b57\u7b26\u6ca1\u6709\u7528\uff0c\u5206\u5230\u672a\u51fa\u73b0\u7684\u5b57\u6bcd\u7684\u6700\u5c0f\u5b57\u6bcd\u3002\n\n- \u8981\u4e48\u6ca1\u6709\u5b57\u7b26\u6ca1\u6709\u4f7f\u7528\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5206\u5230\u6700\u5c0f\u5b57\u6bcd $a$\u3002\n\n\u5982\u679c\u6211\u4eec\u4ece\u4e24\u8fb9\u5411\u4e2d\u95f4\u5bfb\u627e\uff0c\u6211\u4eec\u65e0\u6cd5\u5224\u65ad\u662f\u5426\u4e3a\u6700\u5c0f\u7684\u5b57\u5178\u5e8f\uff0c\u5bfc\u81f4\u6211\u4eec\u9700\u8981\u52a0\u5165\u7279\u5224\u4ee5\u53ca\u8bb0\u5f55\u53cc\u95ee\u53f7\u7684\u60c5\u51b5\u3002\n\n\u5f53\u6211\u4eec\u5bfb\u627e\u5b8c\u540e\uff0c**\u8fd8\u9700\u8981\u518d\u6b21\u7684\u5224\u65ad\u95ee\u53f7\u9700\u8981\u6240\u586b\u7684\u5b57\u6bcd**\u3002\n\n\u56e0\u6b64\uff0c\u7efc\u4e0a\u6240\u8ff0\uff0c\u4ece\u4e2d\u95f4\u5f00\u59cb\u5bfb\u627e\u662f\u6bd4\u8f83\u65b9\u4fbf\u7684\u3002\n\n## \u9644\u4e0a\u6734\u5b9e\u7684AC\u4ee3\u7801\uff1a\n\n```cpp\n// LUOGU_RID: 93834973\n#include <bits/stdc++.h>\nusing namespace std;\nint n;\nchar ch[101];\nbool p[30];\nint main()\n{\n\tscanf(\"%d\",&n);\n\tcin>>ch+1;\n\tint len=strlen(ch+1);\n\tfor (int i=1;i<=len;i++)\n\t\tif (ch[i]!='?')\n\t\t\tp[ch[i]-96]=1;\n\tint l,r;\n\tif (len%2)\n\t\tl=r=len/2+1;\n\telse\n\t\tl=len/2,r=len/2+1;\n\twhile (l>=1)\n\t{\n\t\t//cout<<l<<' '<<r<<endl;\n\t\tif (ch[l]!=ch[r] && ch[l]!='?' && ch[r]!='?')\n\t\t{\n\t\t\tprintf(\"IMPOSSIBLE\");\n\t\t\treturn 0;\n\t\t}\n\t\tif (ch[l]==ch[r] && ch[l]!='?')\n\t\t{\n\t\t\tl--,r++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (ch[l]==ch[r] && ch[l]=='?')\n\t\t{\n\t\t\tbool flag=0;\n\t\t\tfor (int i=n;i>=1;i--)\n\t\t\t\tif (p[i]==0)\n\t\t\t\t{\n\t\t\t\t\tch[l]=ch[r]=char(i+96);\n\t\t\t\t\tp[i]=1;\n\t\t\t\t\tflag=1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tif (flag==0)\n\t\t\t\tch[l]=ch[r]='a';\n\t\t\tl--,r++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (ch[l]=='?')\n\t\t{\n\t\t\tch[l]=ch[r];\n\t\t\tl--,r++;\n\t\t\tcontinue;\n\t\t}\n\t\tif (ch[r]=='?')\n\t\t{\n\t\t\tch[r]=ch[l];\n\t\t\tl--,r++;\n\t\t}\n\t}\n\tfor (int i=1;i<=n;i++)\n\t\tif (p[i]==0)\n\t\t{\n\t\t\tprintf(\"IMPOSSIBLE\");\n\t\t\treturn 0;\n\t\t}\n\tcout<<ch+1;\n\treturn 0;\n}\n```",
        "postTime": 1668306671,
        "uid": 537100,
        "name": "rain_dew",
        "ccfLevel": 3,
        "title": "cf59c Title \u9898\u89e3"
    },
    {
        "content": "\u4e00\u9053\u5f88\u597d\u7684\u9898\uff0c\u5c31\u662f\u7ffb\u8bd1\u538b\u5728\u4e00\u8d77\uff0c\u5f88\u96be\u770b\uff0c\u5751\u4e5f\u6709\u70b9\u591a\u3002\r\n\r\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF59C)\r\n\r\n## \u9898\u76ee\u5927\u610f\r\n\r\n\u7ed9\u5b9a\u4e00\u4e2a\u6570\u5b57 $k$ \u4e0e\u4e00\u4e2a\u5b57\u7b26\u4e32 $s$\uff0c\u95ee\u80fd\u5426\u53ea\u7528\u524d $k$ \u4e2a\u5b57\u6bcd\uff0c\u4e14\u6bcf\u4e2a\u5b57\u6bcd\u90fd\u8981\u7528\uff0c\u5e76\u5c06 $s$ \u4e2d\u6240\u6709\u95ee\u53f7\u66ff\u6362\u6210\u5b57\u6bcd\uff0c\u4f7f\u5f97\u6700\u7ec8\u7684\u5b57\u7b26\u4e32\u662f\u4e00\u4e2a\u56de\u6587\u4e32\u3002\u82e5\u80fd\uff0c\u8f93\u51fa\u5b57\u5178\u5e8f\u6700\u5c0f\u7684\u7b54\u6848\uff0c\u5426\u5219\u8f93\u51fa `IMPOSSIBLE`\u3002\r\n\r\n## \u9898\u76ee\u601d\u8def\r\n\r\n\u65e2\u7136\u7ed9\u51fa\u7684\u662f\u4e00\u4e2a\u5e26\u6709\u95ee\u53f7\u7684\u5b57\u7b26\u4e32\uff0c\u5e76\u4e14\u6700\u7ec8\u6211\u4eec\u9700\u8981\u5f97\u5230\u4e00\u4e2a\u56de\u6587\u4e32\uff0c\u90a3\u4e48\uff0c\u5047\u8bbe $s$ \u7531 $x$ \u4e2a\u5b57\u7b26\u7ec4\u6210\uff0c\u90a3\u4e48\uff0c\u5bf9\u4e8e\u8bfb\u5165\u8fdb\u6765\u7684 $s_i$ \u4e0e $s_{x - i + 1}$\uff0c\u8fdb\u884c\u4e00\u4e2a\u521d\u6b65\u5904\u7406\uff0c\u6211\u4eec\u4e0d\u59a8\u5206\u4e3a\u4ee5\u4e0b\u60c5\u51b5\uff1a\r\n\r\n1.  \u82e5 $s_i$ \u4e0e $s_{x - i + 1}$ \u5747\u4e3a\u5b57\u6bcd\uff0c\u4e14\u5b83\u4eec\u4e0d\u662f\u540c\u4e00\u4e2a\u5b57\u6bcd\uff0c\u90a3\u4e48\u6b64\u65f6\u76f4\u63a5\u8f93\u51fa `IMPOSSIBLE` \u7ed3\u675f\u7a0b\u5e8f\u3002\r\n2. \u82e5 $s_i$ \u4e0e $s_{x - i + 1}$ \u5747\u4e3a\u5b57\u6bcd\uff0c\u4e14\u5b83\u4eec\u662f\u540c\u4e00\u4e2a\u5b57\u6bcd\uff0c\u90a3\u4e48\u4e0d\u7528\u7ba1\u5b83\u4eec\uff0c\u5230\u540e\u9762\u4e00\u8d77\u5224\u5b9a\u662f\u5426\u7b26\u5408\u8981\u6c42\u3002\r\n3. \u82e5 $s_i$ \u4e0e $s_{x - i + 1}$ \u4e2d\u6709\u4e00\u4e2a\u662f `?`\uff0c\u53e6\u4e00\u4e2a\u662f\u5b57\u6bcd\uff0c\u90a3\u4e48\u628a `?` \u66ff\u6362\u6210\u8be5\u5b57\u6bcd\u3002\r\n4. \u82e5 $s_i$ \u4e0e $s_{x - i + 1}$ \u5747\u4e3a\u95ee\u53f7\uff0c\u90a3\u4e48\u7559\u5230\u4e0b\u4e00\u6b65\u5904\u7406\u3002\r\n\r\n\u8fd9\u65f6\u5019\uff0c\u5982\u679c $s$ \u5b57\u7b26\u4e32\u4ecd\u7b26\u5408\u8981\u6c42\uff0c\u90a3\u4e48\u5b83\u5c31\u53ea\u80fd\u662f\u7531 `?` \u4e0e\u5b57\u6bcd\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\u4e86\u3002\u76ee\u524d\u7684\u76ee\u6807\u5c31\u662f\u8981\u628a\u6240\u6709 `?` \u66ff\u6362\u4e3a\u5b57\u6bcd\u3002\r\n\r\n\u6211\u4eec\u4e0d\u59a8\u8bbe\u73b0\u5728\u4e00\u5171\u8fd8\u6709 $m$ \u7ec4\u95ee\u53f7\uff0c\u5e76\u4e14\u5728\u524d $k$ \u4e2a\u5b57\u6bcd\u4e2d\u8fd8\u6709 $n$ \u4e2a\u5b57\u6bcd\uff08$p_1 , p_2 , \\cdots, p_n$\uff09\u6ca1\u6709\u7528\u3002\u7531\u4e8e\u8981\u6c42\u5b57\u5178\u5e8f\u6700\u5c0f\uff0c\u8fd9\u65f6\u6211\u4eec\u53ea\u9700\u8981\u628a\u524d\u9762 $m - n$ \u7ec4 `?` \u53d8\u6210 `a` \uff0c\u5176\u4f59\u7684\u4f9d\u6b21\u6362\u6210 $p_1 , p_2 , \\cdots, p_n$ \u5c31\u53ef\u4ee5\u4e86\u3002\r\n\r\n\u6700\u540e\uff0c\u6211\u4eec\u4fbf\u505a\u5b8c\u8fd9\u9053\u9898\u4e86\u2026\u2026\r\n\r\n\u5417\uff1f\r\n\r\n\u5f88\u660e\u663e\uff0c\u5e76\u4e0d\u662f\u3002\r\n\r\n\u9898\u76ee\u4e2d\u8981\u6c42\uff0c\u6211\u4eec\u8981\u7528\u524d $k$ \u4e2a\u5b57\u6bcd\uff0c\u5f53\u4e00\u5f00\u59cb\u7684\u65f6\u5019\u4fbf\u6709\u7b2c $k+1$ \u751a\u81f3\u66f4\u5f80\u540e\u7684\u5b57\u6bcd\u3002\u6216\u8005\uff0c\u5728\u628a `?` \u66ff\u6362\u6210\u5b57\u6bcd\u7684\u65f6\u5019\uff0c\u5df2\u7ecf\u6ca1\u6709\u8db3\u591f\u7684\u95ee\u53f7\u4f7f\u5f97\u524d $k$ \u4e2a\u5b57\u6bcd\u5747\u51fa\u73b0\u4e00\u6b21\uff0c\u8fd9\u65f6\u4fbf\u9700\u8981\u8f93\u51fa `IMPOSSIBLE`\u3002\r\n\r\n\u4e8e\u662f\uff0c\u9898\u76ee\u7684\u601d\u8def\u5c31\u6709\u4e86\u3002\r\n\r\n## AC code\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\r\n\r\nusing namespace std;\r\n\r\nbool flag[110];\r\n\r\nint main()\r\n{\r\n    int k, cnt = 0;//\u6709\u591a\u5c11\u7ec4\u95ee\u53f7\r\n    string s;\r\n    cin >> k >> s;\r\n    int count = k;//\u8fd8\u6709\u591a\u5c11\u4e2a\u5b57\u6bcd\u6ca1\u6709\u51fa\u73b0\uff0c\u521d\u503c\u8981\u8bbe\u4e3ak\r\n    for (int i = 0; i <= (s.length() - 1) / 2; i++)\r\n    {\r\n        int j = s.length() - 1 - i;\r\n        if (s[i] != s[j] && s[i] != '?' && s[j] != '?')\r\n        {\r\n            cout << \"IMPOSSIBLE\";\r\n            return 0;\r\n        }\r\n        else if (s[i] == '?' && s[j] != '?') \r\n        {\r\n            s[i] = s[j];\r\n            if (flag[s[i] - 'a' + 1] == false) count--;\r\n            flag[s[j] - 'a' + 1] = true;\r\n        }\r\n        else if (s[j] == '?' && s[i] != '?')\r\n        {\r\n            s[j] = s[i];\r\n            if (flag[s[i] - 'a' + 1] == false) count--;\r\n            flag[s[i] - 'a' + 1] = true;\r\n        }\r\n        else if (s[i] == s[j] && 'a' <= s[i] && s[i] <= 'z') \r\n        {\r\n            if (flag[s[i] - 'a' + 1] == false) count--;\r\n            flag[s[i] - 'a' + 1] = true;\r\n        }\r\n        else if (s[i] == '?' && s[j] == '?') cnt++;\r\n    }//\u5c06\u76ee\u524d\u80fd\u5904\u7406\u7684\u5148\u884c\u5904\u7406\r\n    for (int i = 0; i <= (s.length() - 1) / 2; i++)\r\n    {\r\n        if (s[i] == '?')\r\n        {\r\n            if (cnt > count) \r\n            {\r\n                s[i] = 'a';\r\n                s[s.length() - i - 1] = 'a';\r\n                cnt--;\r\n            }\r\n            else\r\n            {\r\n                cnt--;\r\n                count--;\r\n                for (int j = 1; j <= k; j++)\r\n                    if (flag[j] == false)\r\n                    {\r\n                        flag[j] = true;\r\n                        s[i] = char(j + int('a') - 1);\r\n                        s[s.length() - i - 1] = char(j + int('a') - 1);\r\n                        break;\r\n                    }\r\n            }\r\n        }\r\n    }//\u5c06\u95ee\u53f7\u66ff\u6362\u6210\u5b57\u6bcd\r\n    bool check = true;\r\n    for (int i = 1; i <= k; i++)\r\n        if (flag[i] == false) check = false;\r\n    if (!check) \r\n    {\r\n        cout << \"IMPOSSIBLE\";\r\n        return 0;\r\n    }//\u5982\u679c\u4e0d\u662f\u6240\u6709\u5b57\u6bcd\u90fd\u51fa\u73b0\uff0c\u8f93\u51faIMPOSSIBLE\r\n    else\r\n    {\r\n        for (int i = k + 1; i <= 26; i++)\r\n            if (flag[i])\r\n            {\r\n                cout << \"IMPOSSIBLE\";\r\n                return 0;\r\n            }//\u5982\u679c\u6709\u5176\u5b83\u4e0d\u5e94\u8be5\u51fa\u73b0\u7684\u5b57\u6bcd\uff0c\u8f93\u51faIMPOSSIBLE\r\n        cout << s;//\u5982\u679c\u6ee1\u8db3\u8981\u6c42\uff0c\u8f93\u51fa\u8fd9\u4e2a\u5b57\u7b26\u4e32\r\n    }\r\n    return 0;\r\n}\r\n```\r\n\r\n\u5b8c\u7ed3\u6492\u82b1\uff01",
        "postTime": 1663394421,
        "uid": 549910,
        "name": "_wjr_",
        "ccfLevel": 5,
        "title": "CF59C"
    },
    {
        "content": "\u6b22\u8fce\u5404\u4f4ddalao\u6765\u770b\u672c\u849f\u84bb\u7684\u9898\u89e3\uff01\n\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF59C)\n\n\u6b64\u5904\u9e23\u8c22\u5927\u4f6c [@infinities](https://www.luogu.com.cn/user/209547)\n## \u4e00\u3001\u601d\u8def\n1. \u8f93\u5165, $k$ \u4e3a\u6240\u7528\u5b57\u6bcd\u6570\uff0c$s$ \u4e3a\u5b57\u7b26\u4e32\u3002\n\n2. \u5148\u4ece\u4e24\u8fb9\u5230\u4e2d\u95f4\u626b\u4e00\u8fb9\u5b57\u7b26\u4e32\uff0c\u5c06\u80fd\u786e\u5b9a\u7684\"?\"\u5904\u586b\u597d\uff0c\u53d8\u91cf $cnt$ \u8bb0\u5f55\u95ee\u53f7\u5bf9\uff0c\u540c\u65f6\u521d\u6b21\u5224\u65ad\u662f\u5426 IMPOSSIBLE\u3002(Code 6~23 \u884c)\n \n3. \u53d8\u91cf $cnt1$ \u662f\u5426\u80fd\u7528\u5230\u6240\u6709\u5b57\u6bcd\uff0c\u7b2c\u4e8c\u6b21\u5224\u65ad\u662f\u5426 IMPOSSIBLE\u3002(Code 24~29 \u884c)\n\n4. \u6309\u7167\u9898\u610f\u8865\u5168\u5b57\u7b26\u4e32\uff0c\u6700\u540e\u8f93\u51fa\u3002(Code 30~67 \u884c)\n## \u4e8c\u3001\u4ee3\u7801\n\u7a0b\u5e8f\u4e2d\u4e0a\u8ff0\u6ca1\u6709\u8bb2\u7684\u90fd\u5728\u4ee3\u7801\u91cc\u6ce8\u91ca\u4e86\uff0c\u8bf7\u653e\u5fc3\u98df\u7528\u3002\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nbool pd[30];//\u5224\u65ad\u7528\u8fc7\u5b57\u6bcd\nint main()\n{\n        string s;\n        int k,len;\n        cin>>k>>s;\n        len=s.size();//\u5b57\u7b26\u4e32\u957f\u5ea6\n        int cnt=0,cnt1=0;\n        for(int i=0;i<len;i++)\n        {\n            int j=len-i-1;//\u53d6\u5bf9\u79f0\u4f4d\u7f6e\n            if(s[j]!='?'&&s[i]!='?'&&s[i]!=s[j])//\u4e0d\u7b26\u5408\u8981\u6c42\n            {\n                cout<<\"IMPOSSIBLE\"<<endl;\n                return 0;\n            }\n            if(s[i]=='?'&&s[j]!='?')s[i]=s[j],pd[s[j]-'a'+1]=true;\n            if(s[i]!='?'&&s[j]=='?')s[j]=s[i],pd[s[i]-'a'+1]=true;//\u4e00\u8fb9\u6709\u95ee\u53f7\n            if(s[i]!='?'&&s[j]!='?')pd[s[i]-'a'+1]=true;//\u90fd\u4e0d\u662f\u95ee\u53f7\n            if(s[i]=='?'&&s[j]=='?')cnt++;//\u90fd\u662f\u95ee\u53f7\n        }\n        for(int i=1;i<=k;i++)if(!pd[i])cnt1++;//\u7edf\u8ba1\u672a\u7528\u5230\u5b57\u6bcd\n        if(cnt>cnt1+1)//\u65e0\u6cd5\u5168\u90e8\u7528\u5230\u5b57\u6bcd\n        {\n            cout<<\"IMPOSSIBLE\"<<endl;\n            return 0;\n        }\n        for(int i=0;i<len;i++)\n        {\n            int j=len-i-1;\n            if(s[i]=='?')//\u627e\u5230\u95ee\u53f7\n            {\n                bool flag=false;\n                for(int x=1;x<=k;x++)\n                    if(!pd[x])//\u627e\u5230\u7b2c\u4e00\u4e2a\u672a\u4f7f\u7528\u5b57\u6bcd\n                    {\n                        s[i]=s[j]=x-1+'a';\n                        pd[x]=true;\n                        flag=true;\n                        break;\n                    }\n                if(flag==false)s[i]='a';//\u90fd\u7528\u8fc7\u4e86\n            }\t\n        }\n        cout<<s<<endl;\n        return 0;\n}\n```\n",
        "postTime": 1660644199,
        "uid": 481330,
        "name": "sunyizhe",
        "ccfLevel": 0,
        "title": "\u6d1b\u8c37CF59C\u9898\u89e3"
    },
    {
        "content": "### \u539f\u9898\uff1a[\u539f\u9898\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF59C)\n\n## \u601d\u8def\uff1a\n\n\u8fd9\u9898\u5c31\u662f\u4e2a~~\u6a21\u62df~~\uff0c\u52c9\u5f3a\u7b97\u4e2a\u53cc\u6307\u9488\u3002\n\n- \u5b9a\u4e49\u4e24\u4e2a\u6307\u9488 $i$ \u548c $j$\uff0c\u8ba9\u4ed6\u4eec\u4e24\u4ece\u524d\u540e\u51fa\u53d1\uff0c\u540c\u65f6\u5411\u4e2d\u95f4\u8d70\uff0c\u5982\u679c $s_i$ \u6216 $s_j$ \u4e2d\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u4e3a\u95ee\u53f7\uff0c\u76f4\u63a5\u8d4b\u503c\u5bf9\u5e94\u3002\n\n- \u518d\u7136\u540e\u4ece\u4e2d\u95f4\u5f80\u4e24\u8fb9\u518d\u626b\u4e00\u904d\uff0c\u5c06\u6240\u6709\u95ee\u597d\u8d4b\u503c\u4e3a\u8fd8\u6ca1\u6709\u51fa\u73b0\u7684\u4e0b\u4e00\u4e2a\u5b57\u6bcd\uff0c\u5f53\u8fd8\u6ca1\u51fa\u73b0\u7684\u4e0b\u4e00\u4e2a\u5b57\u6bcd\u53ea\u5269\u4e00\u4e2a\u65f6\uff0c\u5c06\u5269\u4e0b\u7684\u95ee\u53f7\u5168\u8d4b\u503c\u4e3a\u5b83\uff08\u4e0a\u8ff0\u6240\u6709\u8d4b\u503c\u64cd\u4f5c\u90fd\u662f\u5bf9\u5e94\u8d4b\u503c\uff09\u3002\n\n- \u68c0\u67e5\u5982\u679c\u4ece $1$ \u5230 $k$ \u8fd9 $k$ \u4e2a\u5b57\u6bcd\u662f\u5426\u90fd\u7528\u4e86\uff0c\u82e5\u662f\uff0c\u8f93\u51fa\u5b57\u7b26\u4e32\uff0c\u5426\u5219\uff0c\u8f93\u51fa `IMPOSSIBLE`\u3002\n\n- &#9733; \u534e\u4e3d\u7ed3\u675f &#9733;\u3002\n\n\u8d34\u5fc3\u670d\u52a1\uff1a\u5982\u679c\u6ca1\u770b\u61c2\u53ef\u4ee5\u770b\u6ce8\u91ca\u90fd\u5728\u4ee3\u7801\u91cc\u54e6\uff01\n\n## \u4ee3\u7801\uff08\u672c\u4eba\u849f\u84bb\uff0c\u7801\u529b\u4e25\u91cd\u4e0d\u8db3\uff09\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n\n#define pb push_back\n#define ll long long\n#define all(a) (a).begin(), (a).end()\n#define sz(x) (ll) x.size()\n\nusing namespace std;\n\nll c[30];\n\nint main() {\n  std::ios::sync_with_stdio(0);\n  std::cin.tie(0);\n  std::cout.tie(0);\n  ll n, i;\n  cin >> n;\n  string s;\n  cin >> s;\n  ll l = s.length();\n  for (i = 0; i < l / 2; ++i)  //\u5faa\u73afl/2\u6b21\uff0c\u76f8\u5f53\u4e8e\u53cc\u6307\u9488\uff08i\u5c31\u662fi\uff0cj=l-i-1\uff09\n    if (s[i] == '?') {  //\u5982\u679cs[i]\u548cs[j]\u5176\u4e2d\u4e00\u4e2a\u662f\u95ee\u53f7\uff0c\u5c06\u95ee\u53f7\u6539\u4e3a\u5bf9\u65b9\n      if (s[l - i - 1] != '?') {\n        s[i] = s[l - i - 1];\n        c[(int)s[i] - 96] = 1;\n      }\n    } else {\n      if (s[l - i - 1] == '?') {\n        s[l - i - 1] = s[i];\n        c[(int)s[i] - 96] = 1;\n      } else if (s[i] != s[l - i - 1])\n        break;\n      else\n        c[(int)s[i] - 96] = 1;\n    }\n  if (i < l / 2)\n    cout << \"IMPOSSIBLE\";  //\u5982\u679ci\u4ecd\u7136\u5c0f\u4e8el/2\u8bf4\u660e\u65e0\u89e3\n  else {\n    ll j = n;\n    if (l % 2) {  //\u7279\u6b8a\u5904\u7406l\u4e3a\u5947\u6570\u65f6\u7684s[l/2]\n      if (s[l / 2] == '?') {\n        for (; j > 1; --j)\n          if (!c[j]) {\n            s[l / 2] = (char)(j + 96);\n            break;\n          }\n        if (j == 1) {\n          s[l / 2] = 'a';\n          c[1] = 1;\n        }\n      }\n      c[(int)s[l / 2] - 96] = 1;\n    }\n    for (i = (l / 2) - 1; i >= 0; --i)\n      if (s[i] == '?') {  //\u5982\u679cs[i]\u7b49\u4e8e\u95ee\u53f7\uff0c\u5c31\u5c06\u5176\u548cs[l-i-1]\u8bbe\u4e3aj\n        while (c[j] && j > 1) j--;  //\u91cd\u8bbej\n        s[i] = (char)(j + 96);\n        s[l - i - 1] = (char)(j + 96);\n        c[j] = 1;\n      }\n    for (i = 1; i <= n; i++)\n      if (!c[i]) break; //\u5982\u679cc[i]\u4e3a\u96f6\uff0c\u8bf4\u660eIMPOSSIBLE\n    if (i <= n)\n      cout << \"IMPOSSIBLE\";\n    else\n      cout << s; //\u5426\u5219\u8f93\u51fa\u5b57\u7b26\u4e32\n  }\n  return 0; //\u534e\u4e3d\u7ed3\u675f\n}\n\n```\n\nAC\u8bb0\u5f55\uff1a[AC\u8bb0\u5f55](https://www.luogu.com.cn/record/82621213)\u3002\n\n\u5404\u4f4d\u770b\u5b98\u5927\u4f6c\uff0c\u70b9\u4e2a\u8d5e\u5457\uff01",
        "postTime": 1659709792,
        "uid": 641163,
        "name": "xxzxsyl",
        "ccfLevel": 4,
        "title": "CF59C Title \u9898\u89e3"
    },
    {
        "content": "\u9898\u9762\u8bb2\u89e3\u8db3\u591f\u6e05\u6670\u4e86\uff0c\u8fd9\u9898\u53ef\u4ee5\u7b97\u4f5c\u662f\u4e00\u9053\u8f83\u4e3a\u590d\u6742\u7684\u5927\u6a21\u62df\u3002\u6211\u7684\u4f5c\u6cd5\u662f\u5728\u4e00\u5f00\u59cb\u5148\u5c06\u53ef\u4ee5\u786e\u5b9a\u7684\u90e8\u5206\u586b\u51fa\uff0c\u4f8b\u5982 'a' \u548c '? ' \uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u4e24\u4e2a\u90fd\u7edf\u4e00\u4e3a \u2018a\u2019 \u3002\u5bf9\u4e8e\u4e24\u4e2a\u76f8\u5bf9\u7684 \u2018?\u2019,\u6211\u9009\u62e9\u7559\u5230\u6700\u540e\u7edf\u4e00\u5904\u7406\uff0c\u7531\u4e24\u5934\u5411\u4e2d\u95f4\u4f18\u5148\u7528\u5b57\u5178\u5e8f\u5c0f\u7684\u5b57\u6bcd\u586b\u5199\uff0c\u8fd9\u6837\u4e5f\u80fd\u4fdd\u8bc1\u5b57\u5178\u5e8f\u6700\u5c0f\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N = 200;\nbool syy[N],flg = false;\nint n, tot = 26;\nstring s;\nint main()\n{\n\tcin >> n >> s;\n\tint len = s.length();\n\tmemset(syy,false,sizeof(syy));\n\tif(n*2 > len+1) \n\t{\n\t\tcout<<\"IMPOSSIBLE\";\n\t\treturn 0;\n\t}\n\tfor(int i = 0;i <= (len+1)/2-1;++i)\n\t{\n\t\tif(i == len-i-1) \n\t\t{\n\t\t\tif(s[i] != '?') syy[s[i]-'a' + 1] = true;\n\t\t\tcontinue;\n\t\t}\t\n\t\tif(s[i] != '?')\n\t\t{\n\t\t\tif(s[len-i-1] != '?' && s[len-i-1] != s[i]) \n\t\t\t{\n\t\t\t\tcout<<\"IMPOSSIBLE\";\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(s[len-i-1] == '?')\n\t\t\t{\n\t\t\t\ts[len-i-1] = s[i];\n\t\t\t\tsyy[s[i]-'a' + 1] = true;\n\t\t\t}\n\t\t\tif(s[len-i-1] == s[i])\n\t\t\t{\n\t\t\t\tsyy[s[i]-'a' + 1] = true;\n\t\t\t}\n\t\t} \n\t\tif(s[i] == '?')\n\t\t{\n\t\t\tif(s[len-i-1]=='?') continue;\n\t\t\tif(s[len-i-1]!='?')\n\t\t\t{\n\t\t\t\ts[i] = s[len-i-1];\n\t\t\t\tsyy[s[i]-'a' + 1] = true;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i = (len+1)/2-1;i >= 0;--i)\n\t{\n\t\tif(s[i] == '?' && s[len-i-1] == '?') \n\t\t{\n\t\t\tif(flg)\n\t\t\t{\n\t\t\t\ts[i] = 'a';\n\t\t\t\ts[len-i-1] = 'a';\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor(int j = n;j >= 1;--j)\n\t\t\t\t{\n\t\t\t\t\tif(!syy[j])\n\t\t\t\t\t{\n\t\t\t\t\t\ttot = j;\n\t\t\t\t\t\tsyy[j] = true;\n\t\t\t\t\t\ts[i] = j +'a' - 1;\n\t\t\t\t\t\ts[len-i-1] = j +'a' - 1;\n\t\t\t\t\t\tif(j == 1) flg = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i = 1; i <= n; i++)\n\t\tif(syy[i] == false)\n\t\t{\n\t\t\tcout << \"IMPOSSIBLE\" << endl;\n\t\t\treturn 0;\n\t\t}\n\tfor(int i = (len+1)/2-1;i >= 0;--i)\n\t{\n\t\tif(s[i] == '?' && s[len-i-1] == '?') \n\t\t{\n\t\t\ts[i] = 'a';\n\t\t\ts[len-i-1] = 'a';\n\t\t}\n\t}\n\tcout<<s<< endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1648467732,
        "uid": 565405,
        "name": "fuzhelin1984",
        "ccfLevel": 0,
        "title": "hangou"
    },
    {
        "content": "\u8fd9\u9898~~\u4e0d\u4ec5\u8017\u809d\uff0c\u8fd8\u8017\u80be~~\u8981\u7801\u4e00\u5806\u4ee3\u7801\n#### \u89e3\u9898\u601d\u8def\n\u9996\u5148\uff0c\u6211\u4eec\u8981\u5206\u6790\u9898\u76ee\uff1a\u9898\u76ee\u672c\u8d28\u5c31\u662f\u8ba9\u6211\u4eec\u627e\u95ee\u53f7\u914d\u5bf9\u51d1\u51fa $k$ \u4e2a\u5b57\u6bcd\u3002\n\n\u56e0\u4e3a\u9898\u76ee\u8981\u6c42\u56de\u6587\u4e32\uff0c\u6240\u4ee5\u5faa\u73af\u53ea\u7528\u8f6c\u4e00\u534a\uff0c\u53e6\u4e00\u534a\u5bf9\u5e94\u5c31\u597d\u3002\n\u904d\u5386\u5b57\u7b26\u4e32\u7684\u4e00\u534a\uff0c\u627e\u51fa\u6210\u5bf9\u7684\u95ee\u53f7\u6570\u76ee\u8bb0\u4e3a $f$\uff0c\u4f4d\u7f6e\u5b58\u5728\u6570\u7ec4 $sv$ \u91cc,\u540c\u65f6\u8bb0\u5f55\u5df2\u6709\u5b57\u6bcd\u5e76\u5224\u65adIMPOSSIBLE\u3002\n\u7136\u540e\u4ece $z$ \u5411 $a$ \u627e\uff0c\u540c\u65f6\u4ee5\u5012\u5e8f\u5728 $sv$ \u4e2d\u627e\u4f4d\u7f6e\u5b89\u6392\u6ca1\u51fa\u73b0\u7684\u5b57\u7b26\u3002\n\u6240\u6709\u5b57\u7b26\u90fd\u5b89\u6392\u5b8c\u4e4b\u540e\uff0c\u5982\u679c\u8fd8\u6709\u95ee\u53f7\u5bf9\uff0c\u5c31\u5168\u90e8\u586b $a$\u3002\n\n\u4e0d\u8bf4\u4e86\uff0c\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>//\u4e07\u80fd\u5934\u4e07\u5c81\uff01\nusing namespace std;\nint cnt[27],f,sv[101];\nint main()\n{\n\tint k,tmp=1,sum=1,nd=0;\n\tcin>>k;\n\tstring s;\n\tcin>>s;\n\tif(k==1&&s.size()==1)//\u9996\u5148\u7279\u5224\u5355\u5b57\u7b26\n\t{\n\t\tif(s[0]=='a'||s[0]=='?')\n\t\t{\n\t\t\tcout<<\"a\";\n\t\t\treturn 0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcout<<\"IMPOSSIBLE\";//\u5fcc\u5c0f\u5199\n\t\t\treturn 0;\n\t\t}\n\t}\n\tfor(int i=0;i<s.size()/2;i++)//\u904d\u5386\u5b57\u7b26\u4e32\uff08\u534a\u4e2a\uff09\n\t{\n\t\tint j=s.size()-i-1;//\u5bf9\u5e94\u4f4d\n\t\tif(s[i]-96>k||s[j]-96>k)//\u5224\u65ad\u8d8a\u754c\uff08\u5176\u5b9e\u4e0d\u7528\uff09\n\t\t{\n\t\t\tcout<<\"IMPOSSIBLE\";\n\t\t\treturn 0;\n\t\t}\n\t\tif(s[i]==s[j])\n\t\t{\n\t\t\tif(s[i]=='?')//\u5904\u7406\u95ee\u53f7\u5bf9\n\t\t\t{\n\t\t\t\tf++;\n\t\t\t\tsv[tmp]=i;\n\t\t\t\tsv[++tmp]=j;\n\t\t\t\ttmp++;\n\t\t\t}\n\t\t\telse cnt[s[i]-96]++;//\u8bb0\u5f55\u51fa\u73b0\u8fc7\u7684\u5b57\u7b26\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(s[i]>96&&s[j]>96)//\u5224\u65ad\u51b2\u7a81\n\t\t\t{\n\t\t\t\tcout<<\"IMPOSSIBLE\";\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ts[i]=max(s[i],s[j]);//\u6539\u5b57\u7b26\u5e76\u8bb0\u5f55\u51fa\u73b0\n\t\t\t\ts[j]=s[i];\n\t\t\t\tcnt[s[i]-96]++;\n\t\t\t}\n\t\t}\n\t}\n\tif(s.size()%2>0&&s[s.size()/2]=='?')//\u5224\u65ad\u4e2d\u5fc3\u95ee\u53f7\n\t{\n\t\tsv[tmp++]=s.size()/2;\n\t}\n\ttmp--;\n\tfor(int i=k;i>=1;i--)//\u5012\u5e8f\u904d\u5386\u524dk\u4e2a\u5b57\u7b26\u51fa\u73b0\u6b21\u6570\n\t{\n\t\tif(cnt[i]==0)\n\t\t{\n\t\t\tf--;\n\t\t\tif(f<0)//\u5982\u679c\u7f3a\u5b57\u6bcd\u592a\u591a\uff0c\u8865\u4e0d\u9f50\uff0c\u5c31\u4e0d\u884c\n\t\t\t{\n\t\t\t\tcout<<\"IMPOSSIBLE\";\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(tmp%2!=0)//\u9996\u5148\u7528\u6389\u4e2d\u5fc3\u95ee\u53f7\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\n\t\t\t{\n\t\t\t\ts[sv[tmp--]]=i+96;\n\t\t\t\tcontinue; \n\t\t\t}\n\t\t\ts[sv[tmp--]]=i+96;\n\t\t\ts[sv[tmp--]]=i+96;\n\t\t}\n\t}\n\tfor(int i=0;i<s.size();i++)\n\t{\n\t\tif(s[i]=='?')cout<<\"a\";//\u7528a\u586b\u6240\u6709\u95ee\u53f7\n\t\telse cout<<s[i];\n\t}\n\treturn 0;//\u6c42\u7ba1\u7406\u5927\u5927\u901a\u8fc7\n}\n```\n",
        "postTime": 1637401578,
        "uid": 553349,
        "name": "wangyixuan_s_father",
        "ccfLevel": 0,
        "title": "CF59C\u9898\u89e3"
    },
    {
        "content": "## \u9898\u610f\n\u7ed9\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u4e2d\u53ea\u5305\u542b\u5c0f\u5199\u5b57\u6bcd\u548c $?$\u3002\u73b0\u5728\u8ba9\u4f60\u5c06\u6bcf\u4e2a\u95ee\u53f7\u90fd\u66ff\u6362\u6210\u5c0f\u5199\u5b57\u6bcd\uff0c\u5e76\u4e14\u4f7f\u8fd9\u4e2a\u5b57\u7b26\u4e32\u6ee1\u8db3\u4e0b\u9762\u4e24\u4e2a\u6761\u4ef6\uff1a\n\n- \u8fd9\u4e2a\u5b57\u7b26\u4e32\u662f\u56de\u6587\u7684\n- \u524d $k$ \u4e2a\u5c0f\u5199\u5b57\u6bcd\u90fd\u5fc5\u987b\u51fa\u73b0\u8fc7\uff08$k$ \u9898\u76ee\u4e2d\u4f1a\u7ed9\u51fa\uff09\n\n\u5982\u679c\u4e0d\u5b58\u5728\u8f93\u51fa```IMPOSSIBLE```\n\n## \u601d\u8def\n\u6a21\u62df\uff0c\u5f53\u6709\u4e00\u7ec4\u5bf9\u5e94\u7684\u4f4d\u7f6e\u4e0a\u90fd\u662f\u5b57\u6bcd\u4e14\u4e0d\u4e00\u6837\u65f6\u5c31\u4e0d\u80fd\u6ee1\u8db3\u56de\u6587\uff0c\u6240\u4ee5\u4e0d\u884c\u3002\u5f53\u6709\u4e00\u7ec4\u6709\u4e00\u4e2a\u4f4d\u7f6e\u786e\u5b9a\u65f6\u53e6\u4e00\u4e2a\u4f4d\u7f6e\u4e5f\u5c31\u76f8\u5f53\u4e8e\u786e\u5b9a\u4e86\u3002\u7136\u540e\u518d\u5c06\u6ca1\u6709\u786e\u5b9a\u7684\u4f4d\u7f6e\u4ece\u540e\u5411\u524d\u586b\u6ca1\u6709\u586b\u8fc7\u7684\u5b57\u6bcd\uff08\u5b57\u6bcd\u4e5f\u4ece\u540e\u5411\u524d\u586b\uff09\u3002\u5982\u679c\u5728\u586b\u5b8c\u6240\u6709\u5b57\u6bcd\u540e\u8fd8\u6709\u7a7a\u4f59\u7684\u4f4d\u7f6e\u4e0a\u5c31\u90fd\u586b\u4e0a $a$\u3002\n\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nchar c[105];\nint b[30],l,x;\nsigned main()\n{\n\tcin>>x;\n\tcin>>(c+1);\n\tl=strlen(c+1);\n\tfor(int i=1,j=l;i<=(l+1)/2;i++,j--)\n\t{\n\t\tif(c[i]=='?'&&c[j]=='?') continue;//\u65e0\u6cd5\u786e\u5b9a\n\t\tif(c[i]==c[j]) b[c[i]-'a']++;//\u7edf\u8ba1\u5b57\u6bcd\u51fa\u73b0\u7684\u6b21\u6570\n\t\tif(c[i]=='?') c[i]=c[j],b[c[j]-'a']++;//\u4e00\u7ec4\u5b57\u6bcd\u5fc5\u987b\u5bf9\u5e94\n\t\tif(c[j]=='?') c[j]=c[i],b[c[i]-'a']++;//\u4e00\u7ec4\u5b57\u6bcd\u5fc5\u987b\u5bf9\u5e94\n\t\tif(c[i]!='?'&&c[j]!='?'&&c[i]!=c[j]||c[j]-'a'>=x)//\u4e0d\u53ef\u80fd\u53d8\u4e3a\u56de\u6587\u4e32\n\t\t{\n\t\t\tcout<<\"IMPOSSIBLE\\n\";\n\t\t\treturn 0;\n\t\t}\n\t}\n\tfor(int i=x-1;i>=0;i--)//\u4ece\u540e\u5f80\u524d\u586b\u6ca1\u6709\u586b\u8fc7\u7684\u5b57\u7b26\n\t{\n\t\tif(b[i]) continue;//\u8fd9\u4e2a\u5b57\u6bcd\u5df2\u7ecf\u6709\u4e86\n\t\tfor(int j=(l+1)/2,k=(l+1)/2+bool(l%2==0);j>=1;j--,k++)//\u586b\u5b57\u6bcd\n\t\t{\n\t\t\tif(c[j]=='?')\n\t\t\t{\n\t\t\t\tc[j]=c[k]=char(i+'a');//\u586b\u5b57\u6bcd\n\t\t\t\tb[i]=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=0;i<x;i++)\n\t{\n\t\tif(!b[i])//\u5982\u679c\u8fd8\u6709\u5b57\u6bcd\u6ca1\u586b\u8fdb\u53bb\n\t\t{\n\t\t\tcout<<\"IMPOSSIBLE\\n\";\n\t\t\treturn 0;\n\t\t}\n\t}\n\tfor(int i=(l+1)/2,j=(l+1)/2+bool(l%2==0);i>=1;i--,j++)//\u8fd8\u6709\u53ef\u4ee5\u586b\u5b57\u6bcd\u7684\u5730\u65b9\n\t{\n\t\tif(c[i]=='?') c[i]=c[j]='a';//\u5b57\u5178\u5e8f\u6700\u5c0f\n\t}\n\tfor(int i=1;i<=l;i++) cout<<c[i];\n}\n```",
        "postTime": 1636764428,
        "uid": 406947,
        "name": "Allanljx",
        "ccfLevel": 5,
        "title": "CF59C\u9898\u89e3"
    },
    {
        "content": "\u5728[\u535a\u5ba2](https://yjh965.github.io/post/cf59c-title-ti-jie/)\u98df\u7528\u66f4\u4f73\u3002\n\n# \u601d\u8def\n\u4e00\u9053\u8f83\u6c34\u7684\u6a21\u62df\u9898\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u8f93\u5165 $k$ \u548c\u5b57\u7b26\u4e32\u540e\uff0c\u8bbe\u7f6e\u4e00\u4e2a\u53d8\u91cf $wh$ \u4ee3\u8868\u4e0d\u786e\u5b9a\u7684\u95ee\u53f7\u5bf9\u7684\u6570\u91cf\uff0c\u8bbe\u7f6e\u4e00\u4e2a `bool` \u7c7b\u578b\u7684\u6570\u7ec4 $vis_i$ \u6807\u8bb0\u6bcf\u4e2a\u5b57\u6bcd\u6709\u6ca1\u6709\u51fa\u73b0\u8fc7\uff0c\u7136\u540e\u7528\u4e00\u4e2a\u5faa\u73af\u4ece\u5b57\u7b26\u4e32\u7684\u4e24\u7aef\u5411\u4e2d\u95f4\u641c\u8d77\uff0c\uff08\u4ee3\u7801\u91cc\u6709\uff09\u7136\u540e\uff0c\u5982\u679c\u641c\u5230\u7684\u4e24\u4e2a\u5b57\u7b26\u4e0d\u76f8\u540c\u4e14\u4e0d\u662f `?`\uff0c\u76f4\u63a5\u8f93\u51fa `IMPOSSIBLE`\u3002\u5982\u679c\u4e24\u4e2a\u5b57\u7b26\u4e00\u4e2a\u662f `?`\uff0c\u4e00\u4e2a\u662f\u5b57\u6bcd\uff0c\u5c31\u628a `?` \u8fd9\u4e2a\u5b57\u7b26\u8bbe\u7f6e\u6210\u5b57\u6bcd\uff0c\u987a\u4fbf\u7528 `vis[i] = 1` \u6807\u8bb0\u8fd9\u4e2a\u5b57\u6bcd\u51fa\u73b0\u8fc7\u3002\u5982\u679c\u4e24\u4e2a\u5b57\u7b26\u90fd\u662f\u76f8\u540c\u7684\u5b57\u6bcd\uff0c\u4e5f\u8981\u6807\u8bb0\u54e6\uff01\u5982\u679c\u4e24\u4e2a\u5b57\u7b26\u90fd\u662f `?`\uff0c\u5219 ` wh ++ `\uff0c\u7edf\u8ba1\u95ee\u53f7\u5bf9\u51fa\u73b0\u7684\u6b21\u6570\u3002\n\n\u8fd9\u6837\u5148\u628a\u5b57\u7b26\u4e32\u80fd\u586b\u7684\u90fd\u586b\u4e0a\uff0c\u518d\u7edf\u8ba1\u4e00\u4e0b\u6709\u591a\u5c11\u4e2a\u5b57\u6bcd\u6ca1\u6709\u51fa\u73b0\u8fc7\u3002\n\n```cpp\nint xy = 0;\nfor (int i = 0;i < k;i ++) xy += !vis[i];\n```\n\n\u5bf9\u4e8e\u7b2c $0$ \u5230\u7b2c $k$ \u4e2a\u5c0f\u5199\u5b57\u6bcd\uff0c\u6bcf\u6709\u4e00\u4e2a\u6ca1\u51fa\u73b0\u8fc7\uff0c$xy$ \u5c31\u52a0 $1$\u3002\n\n\u6211\u4eec\u53c8\u60f3\u5230\u4e00\u79cd\u60c5\u51b5\uff0c\u5982\u679c\u53ef\u4ee5\u7528\u6765\u586b\u5b57\u6bcd\u7684\u95ee\u53f7\u5bf9\u6bd4\u6ca1\u51fa\u73b0\u8fc7\u7684\u5b57\u6bcd\u6570\u8fd8\u5c11\uff0c\u90a3\u80af\u5b9a\u505a\u4e0d\u5230\u8ba9\u6240\u6709\u7684\u5b57\u6bcd\u8d77\u7801\u51fa\u73b0\u4e00\u6b21\uff0c\u6240\u4ee5\u5982\u679c\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u8f93\u51fa `IMPOSSIBLE` \u4e86\uff01\n\n\u6309\u7167\u521a\u521a\u7684\u5b9a\u4e49\uff0c\u8fd8\u6709 $wh$ \u4e2a\u4e0d\u786e\u5b9a\u7684\u95ee\u53f7\u5bf9\uff0c\u548c $xy$ \u4e2a\u6ca1\u51fa\u73b0\u7684\u5b57\u6bcd\uff0c\u5219\u6709 $wh-xy$ \u4e2a\u7a7a\u95f2\u7684\u95ee\u53f7\u5bf9\u3002\n\n\u6839\u636e\u8d2a\u5fc3\u601d\u60f3\uff0c\u6211\u4eec\u8981\u628a\u7a7a\u95f2\u7684\u95ee\u53f7\u5bf9\u90fd\u586b\u4e0a `a`\uff0c\u518d\u6839\u636e\u5b57\u5178\u5e8f\u7684\u6392\u5e8f\u65b9\u6cd5\uff0c\u6211\u4eec\u5e94\u8be5\u5728\u95ee\u53f7\u5bf9\u4e0a\u9762\u4f18\u5148\u586b\u4e0a `a`\uff0c\u518d\u586b\u4e0a\u9700\u8981\u7684\u5b57\u6bcd\u3002\u5047\u5982 $k$ \u4e3a $3$\uff0c\u800c\u5b57\u7b26\u4e32\u4e3a `a??????a`\uff0c\u5219\u5e94\u8f93\u51fa `aabccbaa`\u3002\u8fd9\u5c31\u53ef\u4ee5\u4fdd\u8bc1 `a`\uff0c`b`\uff0c`c` \u5404\u51fa\u73b0\u81f3\u5c11\u4e00\u6b21\u800c\u4e14\u5b57\u5178\u5e8f\u6700\u5c0f\u3002\n\n\u90a3\u8981\u5728\u4ec0\u4e48\u60c5\u51b5\u4e0b\u518d\u586b\u9700\u8981\u7684\u5b57\u6bcd\u5462\uff1f\u5f53\u7136\u8981\u5728\u6ca1\u6709\u7a7a\u95f2\u95ee\u53f7\u5bf9\u7684\u60c5\u51b5\u4e0b\u586b\u4e86\uff01\n\n\u8fd9\u6837\uff0c\u95ee\u9898\u5c31\u8fce\u5203\u800c\u89e3\u4e86\uff01\n# \u4ee3\u7801\n```cpp\n#include <iostream>\n#include <string>\n\nusing namespace std;\n\nstring s;\nint n, wh, xy;\nchar yt;\nbool vis[26];\nint main(){\n\tcin >> n >> s;\n\tfor (int l = 0, r = s.size() - 1;!(r < l);r --, l ++){ // \u5b9a\u4e49\u5de6\u70b9\u548c\u53f3\u70b9\u5e76\u5411\u4e2d\u95f4\u79fb\u52a8\n\t\tif (s[l] != '?' && s[r] != '?' && s[l] != s[r]){ // \u90fd\u662f\u5b57\u6bcd\u4e14\u4e0d\u76f8\u7b49\n\t\t\tcout << \"IMPOSSIBLE\";\n\t\t\treturn 0;\n\t\t}\n\t\tif (s[l] == s[r]){ // \u76f8\u7b49\n\t\t\tif (s[l] == '?') wh ++; // \u90fd\u662f\u95ee\u53f7\u5219\u7edf\u8ba1\u95ee\u53f7\u5bf9\n\t\t\telse vis[s[l] - 'a'] = 1; // \u90fd\u662f\u5b57\u6bcd\u5219\u7edf\u8ba1\u5b57\u6bcd\n\t\t}\n\t\telse { // \u4e0d\u76f8\u7b49\n\t\t\tif (s[l] == '?') s[l] = s[r]; // \u5de6\u95ee\u53f7\u53f3\u5b57\u6bcd\n\t\t\telse s[r] = s[l]; // \u76f8\u53cd\n\t\t\tvis[s[l] - 'a'] = 1; // \u7edf\u8ba1\u5b57\u6bcd\n\t\t}\n\t}\n\tfor (int i = 0;i < n;i ++) xy += !vis[i]; // \u7edf\u8ba1\u672a\u51fa\u73b0\u7684\u5b57\u6bcd\n\tif (wh < xy){ // \u95ee\u53f7\u5bf9\u4e0d\u591f\n\t\tcout << \"IMPOSSIBLE\";\n\t\treturn 0;\n\t}\n\tfor (int l = 0, r = s.size() - 1;!(r < l);r --, l ++){\n\t\tyt = 'a'; // \u5148\u8bbe\u7f6e\u4e3a 'a'\n\t\tif (s[l] == '?'){ // \u53d1\u73b0\u95ee\u53f7\u5bf9\n\t\t\tif (wh <= xy){ // \u4e0d\u80fd\u586b 'a' \u4e86\n\t\t\t\tint i;\n\t\t\t\tfor (i = 0;i < n && vis[i];i ++) yt ++; // \u627e\u5230\u7b2c\u4e00\u4e2a\u6ca1\u51fa\u73b0\u8fc7\u7684\u5b57\u6bcd\n\t\t\t\tvis[i] = 1; // \u6807\u8bb0\u4e3a\u51fa\u73b0\u8fc7\n\t\t\t}\n\t\t\telse wh --; // \u53ef\u4ee5\u586b 'a'\uff0c\u7a7a\u95f2\u7684\u95ee\u53f7\u5bf9 - 1\n\t\t\ts[l] = s[r] = yt; // \u628a\u4e24\u4e2a\u95ee\u53f7\u8bbe\u7f6e\u6210\u5b57\u6bcd\n\t\t}\n\t}\n\tcout << s; // \u8f93\u51fa\u5b57\u7b26\u4e32\n}\n```",
        "postTime": 1626239094,
        "uid": 477443,
        "name": "YuJiahe",
        "ccfLevel": 7,
        "title": "CF59C Title \u9898\u89e3"
    }
]