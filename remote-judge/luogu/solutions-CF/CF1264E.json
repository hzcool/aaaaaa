[
    {
        "content": "### \u9898\u76ee\u5927\u610f\n\n\u7ed9\u4f60\u4e00\u5f20 $n$ \u4e2a\u70b9\u7684\u5b8c\u5168\u56fe\uff0c\u5176\u4e2d\u6709 $m$ \u6761\u8fb9\u5df2\u7ecf\u786e\u5b9a\u4e86\u65b9\u5411\uff0c\u4f60\u9700\u8981\u7ed9\u5176\u4f59\u7684\u8fb9\u5b9a\u5411\uff0c\u4f7f\u5f97\u6700\u540e\u4e09\u5143\u73af $(u\\to v,v\\to w,w\\to u)$ \u7684\u6570\u91cf\u5c3d\u53ef\u80fd\u591a\u3002\n\n### \u6570\u636e\u8303\u56f4\n\n$n\\le 50$\n\n### \u89e3\u9898\u8fc7\u7a0b\n\n\u9996\u5148\uff0c\u4e09\u5143\u73af\u7684\u6570\u91cf\u7b49\u4e8e\u4e09\u5143\u7ec4\u7684\u6570\u91cf\u51cf\u53bb\u6ca1\u6709\u5f62\u6210\u4e09\u5143\u73af\u7684\u4e09\u5143\u7ec4\u7684\u6570\u91cf\u3002\n\n\u7136\u540e\u6211\u4eec\u53d1\u73b0\uff0c\u6ca1\u6709\u5f62\u6210\u4e09\u5143\u7ec4\uff0c\u5f53\u4e14\u4ec5\u5f53\u8fd9\u4e09\u6761\u8fb9\u4e2d\u6709\u4e24\u6761\u8fb9\u7684\u8d77\u70b9\u76f8\u540c\u3002\n\n\u4ee4 $d_i$ \u8868\u793a $i$ \u53f7\u8282\u70b9\u7684\u51fa\u5ea6\uff0c\u5219\u6211\u4eec\u8981\u6c42\u7684\u7b54\u6848\u5c31\u662f\n\n$$\\dfrac{n(n-1)(n-2)}{6}-\\sum_{i=1}^n\\binom{d_i}{2}=\\dfrac{n(n-1)(n-2)}{6}+\\sum_{i=1}^n\\dfrac{d_i}{2}-\\sum_{i=1}^n\\dfrac{d_i^2}{2}$$\n\n\u6ce8\u610f\u5230 $\\sum_{i=1}^nd_i=\\frac{n(n-1)}{2}$ \uff0c\u6240\u4ee5\u539f\u5f0f\u8fdb\u4e00\u6b65\u5316\u4e3a\n\n$$\\dfrac{n(n-1)(n+1)}{6}-\\sum_{i=1}^n\\dfrac{d_i^2}{2}$$\n\n\u5219\u6211\u4eec\u7684\u76ee\u6807\u5c31\u662f\u6700\u5c0f\u5316 $\\sum_{i=1}^nd_i^2$ \u3002\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u6109\u5feb\u5730\u8dd1\u8d39\u7528\u6d41\u4e86\u3002\u4e00\u6761\u8fb9 $(u,v)$ \u7b49\u4ef7\u4e8e\u8981\u4e48\u8ba9 $d_u+1$ \uff0c\u8981\u4e48\u8ba9 $d_v+1$ \uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u65b0\u5efa\u4e00\u4e2a\u70b9\uff0c\u4ece\u8d85\u7ea7\u6e90 $S$ \u5411\u8fd9\u4e2a\u70b9\u8fde\u4e00\u6761\u5bb9\u91cf\u4e3a $1$ \uff0c\u8d39\u7528\u4e3a $0$ \u7684\u8fb9\uff0c\u518d\u4ece\u8fd9\u4e2a\u70b9\u5411 $u,v$ \u5404\u8fde\u4e00\u6761\u5bb9\u91cf\u4e3a $1$ \uff0c\u8d39\u7528\u4e3a $0$ \u7684\u8fb9\u3002\n\n\u81f3\u4e8e\u4ee3\u4ef7\u7684\u8ba1\u7b97\uff0c\u8bbe $u$ \u7684\u5ea6\u6570\u4e3a $deg_u$ \uff0c\u6211\u4eec\u53ef\u4ee5\u4ece $u$ \u5411\u8d85\u7ea7\u6c47 $T$ \u8fde $deg_u$ \u6761\u8fb9\uff0c\u7b2c $i$ \u6761\u8fb9\u7684\u5bb9\u91cf\u662f $1$ \uff0c\u8d39\u7528\u662f $i$ \u3002\n\n\u6700\u540e\u8dd1\u4e00\u8fb9\u6700\u5c0f\u8d39\u7528\u6700\u5927\u6d41\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u7b54\u6848\u3002\n\n~~\u7c98\u81ea\u7f51\u4e0a\u7684~~\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<queue>\nusing namespace std;\nstruct Edge\n{\n\tint to;\n\tint nxt;\n\tint cost;\n\tint flow;\n}e[1000005];\nint n,m,s,t,edgenum=-1,tot;\nint a[55][55],dis[10005],p1[10005],p2[10005],head[10005],d[55],res[55][55];\nbool flag[10005];\nqueue<int>q;\nvoid add(int u,int v,int c,int f)\n{\n\te[++edgenum].cost=c;\n\te[edgenum].flow=f;\n\te[edgenum].to=v;\n\te[edgenum].nxt=head[u];\n\thead[u]=edgenum;\n}\nint SPFA()\n{\n\tmemset(dis,0x3f,sizeof(dis));\n\tq.push(s);\n\tdis[s]=0;\n\tflag[s]=1;\n\twhile(!q.empty())\n\t{\n\t\tint node=q.front();\n\t\tq.pop();\n\t\tflag[node]=0;\n\t\tfor(int hd=head[node];hd!=-1;hd=e[hd].nxt)\n\t\t{\n\t\t\tint to=e[hd].to;\n\t\t\tif(dis[to]>dis[node]+e[hd].cost&&e[hd].flow)\n\t\t\t{\n\t\t\t\tdis[to]=dis[node]+e[hd].cost,p1[to]=hd,p2[to]=node;\n\t\t\t\tif(!flag[to])\n\t\t\t\t{\n\t\t\t\t\tflag[to]=1;\n\t\t\t\t\tq.push(to);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn dis[t]<1000000000;\n}\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t  for(int j=1;j<=n;j++)\n\t\tif(j!=i)a[i][j]=2;\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tint u,v;\n\t\tscanf(\"%d%d\",&u,&v);\n\t\ta[u][v]=1;\n\t\ta[v][u]=0;\n\t}\n\ts=0,t=tot=n+1;\n\tmemset(head,-1,sizeof(head));\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tif(i>=j) continue;\n\t\t\tif(a[i][j]==2)\n\t\t\t{\n\t\t\t\tres[i][j]=edgenum+4;\n\t\t\t\tadd(s,++tot,0,1);\n\t\t\t\tadd(tot,s,0,0);\n\t\t\t\tadd(tot,i,0,1);\n\t\t\t\tadd(i,tot,0,0);\n\t\t\t\tadd(tot,j,0,1);\n\t\t\t\tadd(j,tot,0,0);\n\t\t\t\tadd(i,t,d[i],1);\n\t\t\t\tadd(t,i,-d[i],0);\n\t\t\t\tadd(j,t,d[j],1);\n\t\t\t\tadd(t,j,-d[j],0);\n\t\t\t\td[i]++;\n\t\t\t\td[j]++;\n\t\t\t}\n\t\t\tif(a[i][j]==1)\n\t\t\t{\n\t\t\t\tres[i][j]=-1;\n\t\t\t\tadd(s,i,0,1);\n\t\t\t\tadd(i,s,0,0);\n\t\t\t\tadd(i,t,d[i],1);\n\t\t\t\tadd(t,i,-d[i],0);\n\t\t\t\td[i]++;\n\t\t\t}\n\t\t\tif(a[i][j]==0)\n\t\t\t{\n\t\t\t\tres[i][j]=-2;\n\t\t\t\tadd(s,j,0,1);\n\t\t\t\tadd(j,s,0,0);\n\t\t\t\tadd(j,t,d[j],1);\n\t\t\t\tadd(t,j,-d[j],0);\n\t\t\t\td[j]++;\n\t\t\t}\n\t\t}\n\t}\n\twhile(SPFA())\n\t{\n\t\tint minn=2147483647;\n\t\tfor(int i=t;i!=s;i=p2[i])\n\t\t  minn=min(minn,e[p1[i]].flow);\n\t\tfor(int i=t;i!=s;i=p2[i])\n\t\t  e[p1[i]].flow-=minn,e[p1[i]^1].flow+=minn;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tif(i>j)printf(\"%d\",res[j][i]^1);\n\t\t\telse if(i==j)printf(\"0\");\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(res[i][j]==-1)res[i][j]=1;\n\t\t\t\telse if(res[i][j]==-2)res[i][j]=0;\n\t\t\t\telse res[i][j]=e[res[i][j]].flow;\n\t\t\t\tprintf(\"%d\",res[i][j]);\n\t\t\t}\n\t\t}\n\t\tprintf(\"\\n\");\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1575614284,
        "uid": 54214,
        "name": "wucstdio",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF1264E \u3010Beautiful League\u3011"
    },
    {
        "content": "### \u7b80\u5316\u9898\u610f\n\n\u7ed9\u5b9a\u4e00\u4e2a\u6709 $n$ \u4e2a\u70b9\u7684\u7ade\u8d5b\u56fe\uff08\u4e5f\u5c31\u662f\u6bcf\u4e24\u4e2a\u70b9\u4e4b\u95f4\u90fd\u6709\u4e00\u6761\u6709\u5411\u8fb9\u7684\u56fe\uff09\u3002\u5176\u4e2d\u4e00\u4e9b\u8fb9\u5df2\u7ecf\u5b9a\u5411\u3002\n\n\u8981\u6c42\u5c06\u5269\u4e0b\u7684\u8fb9\u5b9a\u5411\uff0c\u4f7f\u5f97\u56fe\u4e2d\u4e09\u5143\u73af\u7684\u4e2a\u6570\u6700\u591a\u3002\n\n$n \\leq 50$\n\n### \u9898\u76ee\u5206\u6790\n\n\u76f4\u63a5\u60f3\u6709\u4e00\u70b9\u96be\uff0c\u56e0\u4e3a\u6211\u4eec\u4e0d\u77e5\u9053\u8fb9\u6539\u53d8\u65b9\u5411\u540e\u7684\u4e09\u5143\u73af\u6570\u91cf\u3002\n\n\u6b63\u96be\u5219\u53cd\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u8868\u793a\u4e09\u5143\u73af\u7684\u6570\u91cf\u3002\u4e09\u5143\u73af\u7684\u6570\u91cf\u7b49\u4e8e\u4e09\u5143\u7ec4\u7684\u6570\u91cf\u51cf\u53bb\u6240\u6709\u975e\u4e09\u5143\u73af\u7684\u6570\u91cf\u3002\u8868\u793a\u4e00\u4e0b\u5c31\u662f\n\n$$\\frac{n \\times (n - 1) \\times (n - 2)}{6} - \\sum_{i = 1}^{n} \\binom{dout_i}{2}$$\n\n\u6211\u4eec\u6765\u89e3\u91ca\u4e00\u4e0b\u8fd9\u4e2a\u5f0f\u5b50\uff1a\n\n - \u7b2c\u4e00\u90e8\u5206\uff1a\n \n$$\\frac{n \\times (n - 1) \\times (n - 2)}{6}$$\n\n\u8868\u793a\u7684\u662f\u4e09\u5143\u7ec4\u7684\u6570\u91cf\u3002\n\u89e3\u91ca\u4e00\u4e0b\uff1a\u5bf9\u4e8e\u6bcf\u4e2a\u70b9\uff0c\u53ef\u4ee5\u9009\u62e9\u5269\u4e0b\u7684 $n - 1$ \u4e2a\u70b9\u8fde\u8fb9\uff0c\u800c\u8fde\u7b2c\u4e09\u6761\u8fb9\u65f6\uff0c\u7531\u4e8e\u4e0d\u80fd\u91cd\u590d\u8fde\u4e00\u4e2a\u70b9\uff0c\u53ea\u80fd\u8fde $n - 2$ \u4e2a\u70b9\u3002\u7531\u4e8e\u8fde\u8fb9\u6709\u91cd\u590d\uff0c\u5c31\u9700\u8981\u9664\u4ee5 $6$ \u3002\n\n - \u7b2c\u4e8c\u90e8\u5206:\n\n$$\\sum_{i = 1}^{n} \\binom{dout_i}{2}$$\n\n\u5176\u4e2d $dout_i$ \u8868\u793a $i$ \u7684\u51fa\u5ea6\u3002\n\n\u89e3\u91ca\u4e00\u4e0b\uff1a\u5bf9\u4e8e\u4e09\u4e2a\u70b9\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u70b9\u8fde\u5411\u5176\u4ed6\u4e24\u4e2a\u70b9\uff0c\u4e14\u8fd9\u4e24\u4e2a\u70b9\u4e0d\u662f\u540c\u4e00\u4e2a\u70b9\uff0c\u90a3\u4e48\u5b83\u4eec\u4e09\u4e2a\u4e00\u5b9a\u4e0d\u6784\u6210\u73af\u3002\n\n\u597d\u4e86\uff0c\u73b0\u5728\u6211\u770b\u7740\u90a3\u4e2a\u7ec4\u5408\u5f88\u4e0d\u987a\u773c\uff0c\u7531\u4e8e $ \\binom{a}{2}  = \\frac{a \\times (a - 1)}{2}$\uff0c\u6240\u4ee5\u53ef\u4ee5\u5c06\u5f0f\u5b50\u5199\u6210\u8fd9\u6837\uff1a\n\n$$\\frac{n \\times (n - 1) \\times (n - 2)}{6} - \\sum_{i = 1}^{n} \\frac{dout_i \\times (dout_i - 1)}{2}$$\n\n$$ = \\frac{n \\times (n - 1) \\times (n - 2)}{6} - \\sum_{i = 1}^{n} \\frac{dout_i^2 - dout_i}{2}$$\n\n$$ = \\frac{n \\times (n - 1) \\times (n - 2)}{6} - \\sum_{i = 1}^{n} \\left ( \\frac{dout_i ^ 2}{2} - \\frac{dout_i}{2} \\right )$$\n\n\u8003\u8651\u5230 $\\sum{ \\frac{dout_i}{2}}$ \u662f\u4e00\u4e2a\u5e38\u6570\uff0c\u6052\u7b49\u4e8e $\\frac{n \\times (n - 1)}{2}$ \uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5b83\u63d0\u51fa\u6765\u3002\u539f\u5f0f\u5316\u4e3a\uff1a\n\n$$\\frac{n \\times (n - 1) \\times (n - 2)}{6} + \\frac{n \\times (n - 1)}{2} - \\sum_{i = 1}^{n} dout_i^2 $$\n\n\u6240\u4ee5\u6211\u4eec\u5c31\u60f3\u8981\u8ba9 $\\sum_{i = 1}^{n} dout_i^2$ \u5c3d\u53ef\u80fd\u5c0f\u3002\n\n~~\uff08\u5982\u679c\u5206\u6570\u7ebf\u6709\u70b9\u5947\u602a\u4e0d\u662f\u6211\u7684\u9505\uff09~~\n\n------------\n\n\u63a8\u5b8c\u8fd9\u4e00\u5927\u6ce2\u5f0f\u5b50\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u89e3\u9898\u4e86\u3002\n\n\u7b97\u6cd5\u662f\u6700\u5c0f\u8d39\u7528\u6700\u5927\u6d41\u3002\u5efa\u56fe\u5206\u4e3a\u4e0b\u9762\u51e0\u4e2a\u6b65\u9aa4\u3002\n\n1. \u5904\u7406\u51fa\u6bcf\u573a\u6bd4\u8d5b\uff0c\u5e76\u5411\u8d85\u7ea7\u6e90\u70b9 $S$ \u8fde\u5bb9\u91cf\u4e3a $1$\uff0c\u8d39\u7528\u4e3a $0$ \u7684\u8fb9\u3002\u8868\u793a\u6bcf\u4e24\u4eba\u4e4b\u95f4\u7684\u6bd4\u8d5b\u90fd\u5fc5\u987b\u8fdb\u884c\uff0c\u4e14\u53ea\u80fd\u8fdb\u884c\u4e00\u6b21\u3002\n\n2. \u5c06\u6bcf\u573a\u6bd4\u8d5b\u5411\u6bd4\u8d5b\u53cc\u65b9\u8fde\u5bb9\u91cf\u4e3a $1$ \uff0c\u8d39\u7528\u4e3a $0$ \u7684\u8fb9\u3002\u8868\u793a\u6bcf\u4e2a\u6bd4\u8d5b\u90fd\u4e00\u5b9a\u6709\u4e00\u4e2a\u4eba\u80dc\uff0c\u4e14\u6700\u591a\u6709\u4e00\u4e2a\u4eba\u80dc\u3002\n\n3. \u5c06\u6bcf\u4e2a\u961f\u4f0d\u5411\u8d85\u7ea7\u6c47\u70b9 $T$ \u8fde $n - d_i - 1$ \u6761\u8fb9\uff0c\u6bcf\u6761\u8fb9\u7684\u5bb9\u91cf\u4e3a $1$ \uff0c\u8d39\u7528\u4e3a $2 \\times dout_{last} + 1$\u3002\u5176\u4e2d $d_i$ \u8868\u793a\u521d\u59cb\u65f6\u6bcf\u4e2a\u961f\u4f0d\u7684\u51fa\u5ea6\u3002$dout_{last}$ \u8868\u793a\u5728\u8fde\u63a5\u8fd9\u6761\u8fb9\u4e4b\u524d\u7684\u51fa\u5ea6\u3002\u4e3a\u4ec0\u4e48\u8981\u8fd9\u6837\u8fde\u5462\uff1f \u5982\u679c\u4e00\u4e2a\u961f\u4f0d\u7684\u51fa\u5ea6\u589e\u52a0 $1$ \uff0c\u90a3\u4e48\u5b83\u7684\u8d39\u7528\u548c\u5c31\u4f1a\u4ece $dout_i ^ 2$ \u53d8\u6210 $(dout_i + 1) ^ 2$\u3002\u90a3\u4e48\uff0c\u6bcf\u6b21\u589e\u52a0\u4e00\u4e2a\u51fa\u5ea6\u7684\u8d39\u7528\u5c31\u662f $(dout_i + 1) ^ 2 - dout_i ^ 2$\uff0c\u4e5f\u5c31\u662f $2 \\times dout_i + 1$\u3002\n\n\u6700\u540e\u8dd1\u4e00\u8fb9\u6700\u5c0f\u8d39\u7528\u6700\u5927\u6d41\u5c31\u5b8c\u4e8b\u4e86\u3002\n\n\uff08\u4f3c\u4e4e\u8bb2\u7684\u7565\u663e\u7e41\u7410 \u2026\u2026\n\n### CODE :\n\n```\n#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <algorithm>\n#include <queue>\n\nusing namespace std;\n\nconst int N = 1510, M = 500010, INF = 2e9;\n\nint h[N], e[M], ne[M], f[M], w[M], idx = 1;\nint dist[N], d[N], dout[N];\nint n, m, S, T, pre[M];\nbool st[M], g[N][N];\n\nvoid add(int a, int b, int c, int d) {\n\te[ ++ idx] = b, ne[idx] = h[a], h[a] = idx, f[idx] = c, w[idx] = d;\n\te[ ++ idx] = a, ne[idx] = h[b], h[b] = idx, f[idx] = 0, w[idx] = -d;\n}\n\nbool spfa() {\n\tmemset(d, 0, sizeof d);\n\tmemset(dist, 0x3f, sizeof dist);\n\tqueue<int> q;\n\tdist[S] = 0, d[S] = INF;\n\tq.push(S);\n\t\n\twhile (q.size()) {\n\t\tint t = q.front();\n\t\tq.pop();\n\t\tst[t] = false;\n\t\t\n\t\tfor (int i = h[t]; i; i = ne[i]) {\n\t\t\tint ver = e[i];\n\t\t\tif (f[i] && dist[ver] > dist[t] + w[i]) {\n\t\t\t\tdist[ver] = dist[t] + w[i];\n\t\t\t\tpre[ver] = i;\n\t\t\t\td[ver] = min(d[t], f[i]);\n\t\t\t\tif (!st[ver]) {\n\t\t\t\t\tq.push(ver);\n\t\t\t\t\tst[ver] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn d[T] > 0;\n}\n\nvoid EK() {\n\tint flow = 0, cost = 0;\n\twhile (spfa()) {\n\t\tflow += d[T], cost += d[T] * dist[T];\n\t\tfor (int i = T; i != S; i = e[pre[i] ^ 1]) {\n\t\t\tf[pre[i]] -= d[T], f[pre[i] ^ 1] += d[T];\n\t\t}\n\t}\n}\n\n// \u4ee5\u4e0a\u90e8\u5206\u90fd\u662f\u5728\u6c42\u6700\u5c0f\u8d39\u7528\u6700\u5927\u6d41\u3002\n\nint main() {\n\tscanf(\"%d%d\", &n, &m);\n\tS = 0;\n\tfor (int i = 1; i <= m; i ++ ) {\n\t\tint a, b;\n\t\tscanf(\"%d%d\", &a, &b);\n\t\tg[a][b] = true, dout[a] ++ ;\n\t}\n\t\n\tint tot = n;\n\tfor (int i = 1; i <= n; i ++ )\n\t\tfor (int j = i + 1; j <= n; j ++ ) // \u6ce8\u610f\u4ece i + 1 \u679a\u4e3e\uff0c\u907f\u514d\u91cd\u590d\n\t\t\tif (!g[i][j] && !g[j][i]) {\n\t\t\t\tadd(S, ++ tot, 1, 0);\n\t\t\t\tadd(tot, i, 1, 0);\n\t\t\t\tadd(tot, j, 1, 0);\n\t\t\t}\n\t\n\tT = tot + 1;\t\n\tfor (int i = 1; i <= n; i ++ ) // \u8fde\u63a5\u961f\u4f0d\u5230\u6c47\u70b9\u7684\u8fb9\uff0c\u6d41\u91cf\u4e3a 1 \uff0c\u8fb9\u6743\u4e3a\u589e\u91cf \n\t\tfor (int j = dout[i]; j < n; j ++ )\n\t\t\tadd(i, T, 1, 2 * j + 1);\n\t\t\t\n\tEK();\n\t\n\tfor (int i = n + 1; i <= tot; i ++ ) { // \u679a\u4e3e\u6240\u6709\u6bd4\u8d5b \n\t\tint u = e[h[i]], v = e[ne[h[i]]]; // \u6bd4\u8d5b\u53cc\u65b9\n\t\tif (!f[h[i]]) g[u][v] = true;\n\t\telse if (!f[ne[h[i]]]) g[v][u] = true; \n\t}\n\t\n\tfor (int i = 1; i <= n; i ++ ) {\n\t\tfor (int j = 1; j <= n; j ++ )\n\t\t\tprintf(\"%d\", (g[i][j] ? 1 : 0));\n\t\tputs(\"\");\n\t}\n\t\n\treturn 0;\n}\n```",
        "postTime": 1660124989,
        "uid": 519384,
        "name": "Link_Cut_Y",
        "ccfLevel": 0,
        "title": "[CF1264E] Beautiful League"
    },
    {
        "content": "[My Blog](https://www.cnblogs.com/whx666/p/604-div1.html#e)\n\n#### E\n\n\u5148\u53cd\u5176\u9053\u800c\u884c\u4e4b\uff0c\u5982\u679c $(A,B,C)$ \u4e0d\u7b26\u5408\u6761\u4ef6\uff0c\u4e00\u5b9a\u6709\u67d0\u4e00\u4e2a\u961f\u4f0d\u8d62\u4e86\u53e6\u5916\u4e24\u4e2a\u961f\u3002\u8fdb\u4e00\u6b65\uff0c\u5982\u679c $x$ \u961f\u8d62\u4e86 $c_x$ \u5c40\uff0c\u4e0d\u6ee1\u8db3\u6761\u4ef6\u7684\u4e09\u5143\u7ec4\u6570\u91cf $number=\\sum\\frac{c_x(c_x-1)}{2}$\u3002\u76ee\u7684\u5c31\u662f\u8ba9\u8fd9\u4e2a\u4e1c\u897f\u5c3d\u91cf\u5c0f\n\n\u73b0\u5728\u6709\u4e00\u4e9b\u7684\u6bd4\u8d5b\u7ed3\u679c\u5df2\u7ecf\u56fa\u5b9a\uff0c\u76f8\u5f53\u4e8e\u6bcf\u4e2a $c_x$ \u6709\u4e00\u4e2a\u9650\u5236\uff1a$c_x\\in [l_x,r_x]$ \u4e14 $\\sum c_x=\\frac{n(n-1)}{2}$\u3002\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u9650\u5236\u5f53\u7136\u53ef\u4ee5\u6839\u636e\u4e0d\u7b49\u5f0f\u76f4\u63a5\u53d6\u503c\uff0c\u4f46\u52a0\u4e0a\u9650\u5236\u540e\u4f3c\u4e4e\u6ca1\u6cd5\u76f4\u63a5\u8d2a\u5fc3\u3002\uff08~~\u4e0d\u7136\u4e3a\u4ec0\u4e48\u6570\u636e\u8303\u56f4\u8fd9\u4e48\u5c0f\u5462~~\uff09\n\n\u6539\u7528\u8d39\u7528\u6d41\u3002\u6bcf\u573a\u6bd4\u8d5b\u4e00\u4e2a\u8282\u70b9\uff0c\u6bcf\u4e2a\u961f\u4f0d\u4e00\u4e2a\u8282\u70b9\u3002\u8fde\u8fd9\u51e0\u79cd\u8fb9\uff1a\n\n1\u3001$S$ \u5230\u6240\u6709\u6bd4\u8d5b\u8282\u70b9\u8fde\u4e00\u6761\u5bb9\u91cf\u4e3a $1$\uff0c\u82b1\u8d39\u4e3a $0$ \u7684\u8fb9\uff0c\u4ee3\u8868\u8fd9\u573a\u6bd4\u8d5b\u8d62\u5bb6\u53ea\u6709\u4e00\u4e2a\u3002\n\n2\u3001\u6bcf\u573a\u6bd4\u8d5b\u5411\u5bf9\u5e94\u7684\u4e24\u652f\u961f\u4f0d\u8fde\u8fb9\uff0c\u5bb9\u91cf $1$\uff0c\u82b1\u8d39 $0$\n\n3\u3001\u6bcf\u652f\u961f\u4f0d\u5411 $T$ \u8fde $n-p_x-1$ \u6761\u8fb9\uff0c$p_x$ \u4e3a\u56fa\u5b9a\u7684\u5df2\u7ecf\u8d62\u7684\u573a\u6570\u3002\u6bcf\u6761\u8fb9\u7684\u5bb9\u91cf\u4e3a $1$\uff0c\u82b1\u8d39\u4e3a\u6bcf\u6b21\u591a\u8d62\u4e00\u573a\u540e $\\frac{c_x(c_x-1)}{2}$ \u7684\u589e\u91cf\n\n\u5728\u8fd9\u5f20\u56fe\u4e0a\u6c42\u6700\u5c0f\u8d39\u7528\u6700\u5927\u6d41\u5c31\u662f\u7b54\u6848\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nvoid read (int &x) {\n    char ch = getchar(); x = 0; while (!isdigit(ch)) ch = getchar();\n    while (isdigit(ch)) x = x * 10 + ch - 48, ch = getchar();\n} const int N = 52, P = N * N, M = N * 600;\nint n, m, S, T, tot, k[N][N], c[N], idm[N][N], id[N];\nint cnt = 1, h[M], nxt[M], to[M], w[M], co[M];\nvoid add (int u, int v, int ww, int cc) {\n    to[++cnt] = v, w[cnt] = ww, co[cnt] = cc, nxt[cnt] = h[u], h[u] = cnt;\n    to[++cnt] = u, w[cnt] = 0, co[cnt] = -cc, nxt[cnt] = h[v], h[v] = cnt;\n}\nqueue<int> q; int d[P], f[P], in[P], pre[P];\nint spfa () {\n    memset (d, 0x3f, sizeof (d));\n    memset (in, 0, sizeof (in));\n    q.push (S), d[S] = 0, f[S] = 2e9;\n    while (!q.empty()) {\n        int u = q.front (); q.pop (), in[u] = 0;\n        for (int i = h[u], v; i; i = nxt[i])\n            if (w[i] && d[v = to[i]] > d[u] + co[i]) {\n                d[v] = d[u] + co[i];\n                f[v] = min (f[u], w[i]); pre[v] = i;\n                if (!in[v]) in[v] = 1, q.push (v);\n            }\n    }\n    return (d[T] != d[T + 1]);\n}\nvoid update () {\n    for (int x = T, i; x != S; x = to[i ^ 1]) {\n        i = pre[x]; w[i] -= f[T], w[i ^ 1] += f[T];\n    }\n}\nsigned main() {\n    read (n), read (m);\n    for (int i = 1, a, b; i <= m; ++i)\n        read (a), read (b), k[a][b] = 1, ++c[a];\n    for (int i = 1; i <= n; ++i) id[i] = ++tot;\n    for (int i = 1; i <= n; ++i)\n        for (int j = i + 1; j <= n; ++j)\n            if (!k[i][j] && !k[j][i]) {\n                idm[i][j] = ++tot; add (0, tot, 1, 0);\n                add (tot, id[i], 1, 0); add (tot, id[j], 1, 0);\n            }\n    S = 0, T = ++tot;\n    for (int i = 1; i <= n; ++i)\n        for (int j = c[i]; j < n; ++j) add (id[i], T, 1, j);\n    while (spfa ()) update ();\n    for (int i = 1; i <= n; ++i)\n        for (int j = i + 1; j <= n; ++j)\n            if (idm[i][j]) {\n                int x = idm[i][j], tag = 0, y = 0;\n                for (int k = h[x]; k; k = nxt[k])\n                    if (to[k] == 0 && w[k] == 1) tag = 1;\n                if (!tag) continue;\n                for (int k = h[x]; k; k = nxt[k])\n                    if (to[k] && w[k] == 0) y = to[k];\n                y == i ? k[i][j] = 1 : k[j][i] = 1;\n            }\n    for (int i = 1; i <= n; ++i) {\n        for (int j = 1; j <= n; ++j) putchar (k[i][j] + '0'); puts (\"\");\n    }\n}\n\n```",
        "postTime": 1620218557,
        "uid": 84619,
        "name": "\u6e05\u5c18",
        "ccfLevel": 0,
        "title": "CF1264E Beautiful League"
    }
]