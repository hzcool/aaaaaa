[
    {
        "content": "\u4e00\u7bc7\u9898\u89e3\u6ca1\u6709\uff0c\u5fc5\u987b\u5f97\u5199\u4e00\u4e0b\u3002\n\n------------\n\u505a\u8fd9\u9898\u524d\uff0c\u5148\u505a [CF513B1](https://www.luogu.com.cn/problem/CF513B1)\uff0c\u4e5f\u5c31\u662f\u6b64\u9898\u7684\u66b4\u529b\u3002\n\n\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u6253\u4e2a\u8868,\u4e3e\u4e2a\u4f8b\u5b50\u3002\n```cpp\n1 2 3 4 5 6 \n1 2 3 4 6 5 \n1 2 3 5 6 4 \n1 2 3 6 5 4 \n1 2 4 5 6 3 \n1 2 4 6 5 3 \n1 2 5 6 4 3 \n1 2 6 5 4 3 \n1 3 4 5 6 2 \n1 3 4 6 5 2 \n1 3 5 6 4 2 \n1 3 6 5 4 2 \n1 4 5 6 3 2 \n1 4 6 5 3 2 \n1 5 6 4 3 2 \n1 6 5 4 3 2 \n2 3 4 5 6 1 \n2 3 4 6 5 1 \n2 3 5 6 4 1 \n2 3 6 5 4 1 \n2 4 5 6 3 1 \n2 4 6 5 3 1 \n2 5 6 4 3 1 \n2 6 5 4 3 1 \n3 4 5 6 2 1 \n3 4 6 5 2 1 \n3 5 6 4 2 1 \n3 6 5 4 2 1 \n4 5 6 3 2 1 \n4 6 5 3 2 1 \n5 6 4 3 2 1 \n6 5 4 3 2 1 \n32\n```\n\u591a\u8bd5\u51e0\u4e2a\u540e\uff0c\u53d1\u73b0\u4e24\u70b9\uff1a\n\n\n1\u3001$\\operatorname{f}(p)$ \u6700\u5927\u7684\u6392\u5217\u5171 $2^{n-1}$ \u4e2a\u3002\n\n2\u3001\u5f53 $\\operatorname{f}(p)$ \u6700\u5927\u65f6\uff0c1 \u653e\u5728\u6700\u5de6\u6216\u6700\u53f3\u8fb9\uff0c2 \u653e\u5728\u5269\u4e0b\u4f4d\u7f6e\u6265\u6700\u5de6\u6216\u6700\u53f3\u8fb9\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\n\n\u8bc1\u660e\uff1a\n\n\u82e5\u6709\u4e00\u6392\u5217 $p$\uff0c\u539f\u6709 $n$ \u4e2a\u6570\uff0c\u5c06\u5f53\u524d\u6700\u5c0f\u503c $b$ \u653e\u5728\u7b2c $x$ \u4e2a\uff0c\u540e\u9762\u7684\u6570\u6574\u4f53\u540e\u632a\u4e00\u4f4d\u65f6\uff0c$\\operatorname{f}(p)=(\\sum_{i=1}^{n}\\sum_{j=i}^{n}\\min(p_i,...,p_j))-(\\sum_{i=1}^{x-1}\\sum_{j=x}^{n}\\min(p_i,...,p_j))+(\\sum_{i=1}^{x-1}\\sum_{j=x}^{n}\\min(b,p_i,...,p_j))+n\\times b$\u3002\n\n\u53c8\u56e0 $b$ \u662f\u5f53\u524d\u6700\u5c0f\u503c\uff0c$\\operatorname{f}(p)=(\\sum_{i=1}^{n}\\sum_{j=i}^{n}\\min(p_i,...,p_j))+n\\times b+(\\sum_{i=1}^{x-1}\\sum_{j=x}^{n}b-\\min(p_i,...,p_j))$\u3002\n\n\u5f53 $x$ \u53d6 $1$ \u6216 $n+1$ \u65f6\uff0c$\\sum_{i=1}^{x-1}\\sum_{j=x}^{n}b-\\min(p_i,...,p_j)$ \u53d6 $0$\u3002\n\n\u7531\u4e8e $b<\\min(p_i,...,p_j)$\uff0c\u6240\u4ee5\u5f53 $(x-1)\\times (n-x+1)\\ne0$ \u5373 $x\\ne1$ \u4e14 $x\\ne n+1$ \u65f6\uff0c$\\sum_{i=1}^{x-1}\\sum_{j=x}^{n}b-\\min(p_i,...,p_j)<0$\u3002\n\n\u7efc\u4e0a\uff0c$x$ \u53d6 $1$ \u6216 $n+1$\uff0c\u5373\u5f53\u524d\u6700\u5c0f\u503c\u653e\u5728\u6700\u5de6\u6216\u6700\u53f3\u8fb9\u65f6\uff0c$\\operatorname{f}(p)$ \u6700\u5927\u3002\n\n\u6bcf\u4e2a\u6570\u653e\u6700\u5de6\u6216\u6700\u53f3\u8fb9\u6709 $2$ \u79cd\u60c5\u51b5\uff0c\u800c\u6700\u540e\u4e00\u4e2a\u6570\u53ea\u6709\u4e00\u4e2a\u4f4d\u7f6e\u53ef\u4ee5\u653e\uff0c\u6700\u5927\u7684\u6392\u5217\u5171 $2^{n-1}$ \u4e2a\u3002\n\n\u4e4b\u540e\uff0c\u6211\u4eec\u7528 $2$ \u7684\u5e42\u6b21\u6c42\u6bcf\u4e2a\u533a\u95f4\u53ef\u80fd\u7684\u65b9\u6848\u6570\uff0c\u4e0e $m$ \u4f5c\u5bf9\u6bd4\uff0c\u786e\u5b9a $i$ \u653e\u5728\u5de6\u8fd8\u662f\u53f3\u80fd\u4f7f $\\operatorname{f}(p)$ \u6700\u5927\uff0c\u76f4\u5230\u6c42\u51fa\u6574\u4e2a\u6392\u5217\u3002\n\ncode\uff1a\n```cpp\n/*B1\u66b4\u529b\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nll n,m,cnt,cntt,ans[50000],ansa[50000][10],maxn,a[10],vis[10];\nll q(){\n    ll anss=0,minn;\n    for(ll i=1;i<=n;i++)\n        for(ll j=1;j<=n;j++){\n            minn=0x3f3f3f3f;\n            for(ll k=i;k<=j;k++)\n                minn=min(minn,a[k]);\n            anss+=minn;\n        }\n    return anss;\n}\nvoid dfs(ll x){\n    if(x==n){\n        ans[++cnt]=q();\n        for(ll i=1;i<=n;i++)\n            ansa[cnt][i]=a[i];\n        // printf(\"%lld\\n\",ans[cnt]);\n        maxn=max(maxn,ans[cnt]);\n        return ;\n    }\n    for(ll i=1;i<=n;i++)\n        if(!vis[i]){\n            vis[i]=1;\n            a[x+1]=i;\n            dfs(x+1);\n            vis[i]=0;\n        }\n    return ;\n}\nint main(){\n    scanf(\"%lld%lld\",&n,&m);\n    dfs(0);\n    for(ll i=1;i<=cnt;i++)\n        if(ans[i]==maxn){\n            cntt++;\n            if(cntt==m){\n                for(ll j=1;j<=n;j++)\n                    printf(\"%lld \",ansa[i][j]);\n                return 0;\n            }\n        }\n    return 0;\n}\nB2\n*/\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nll n,m,poww[84],ans[84];\nvoid dfs(ll now,ll l,ll r,ll th){\n    if(l==r){//\u8fb9\u754c\n        ans[l]=now;\n        return ;\n    }\n    if(th<=poww[r-l-1]){//\u5de6\n        ans[l]=now;\n        dfs(now+1,l+1,r,th);\n        return ;\n    }\n    ans[r]=now;//\u53f3\n    dfs(now+1,l,r-1,th-poww[r-l-1]);\n    return ;\n}\nint main(){\n    scanf(\"%lld%lld\",&n,&m);//\u8f93\u5165\n    poww[0]=1;\n    for(int i=1;i<=52;i++)\n        poww[i]=poww[i-1]*2;//\u6c42\u5e42\u6b21\n    dfs(1,1,n,m);//\u6784\u9020\n    for(int i=1;i<=n;i++)\n        printf(\"%lld \",ans[i]);//\u8f93\u51fa\n    return 0;\n}\n```\n",
        "postTime": 1677129478,
        "uid": 526094,
        "name": "Wf_yjqd",
        "ccfLevel": 0,
        "title": "CF513B2 Permutations"
    }
]