[
    {
        "content": "\u8d5b\u65f6\u542c\u5230 jly \u4e8c\u5206\u52a0\u5bb9\u65a5\u505a\u5b8c\u4e86\uff0c\u975e\u5e38\u5389\u5bb3\uff0c\u5f53\u65f6\u6211\u8fd8\u53ea\u4f1a\u53e3\u80e1\u4e00\u4e2a\u968f\u673a\u5316\u3002\n\n\u8bb2\u4e00\u8bb2\u4e24\u4e2a\u505a\u6cd5\u3002\u4e00\u4e2a\u662f ``bitset`` \u5e73\u8861\u590d\u6742\u5ea6\uff0c\u4e00\u4e2a\u662f ``Hash/Trie`` \u53cc\u6307\u9488\u7ef4\u62a4\u7b54\u6848\u3002\u53cb\u60c5 @7kbyte\uff08\n\n### Solution 1\n\n``bitset`` \u7684\u505a\u6cd5\u770b\u4e0a\u53bb\u4f3c\u4e4e\u6bd4\u8f83\u663e\u7136\u3002\u5bf9\u4e8e $O(n\\times m)$ \u79cd\u6743\u503c\uff0c\u6bcf\u79cd\u6743\u503c\u5f00\u4e00\u4e2a $n$ \u4f4d\u7684 ``bitset``\uff0c\u8868\u793a\u6743\u503c $c$ \u662f\u5426\u51fa\u73b0\u5728\u7b2c $i$ \u4e2a\u6570\u7ec4\u4e2d\u3002\u5c06 $n$ \u4e2a\u6570\u7ec4\u4ee5 $w_i$ \u4e3a\u5173\u952e\u5b57\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u679a\u4e3e\u6570\u7ec4\u5bf9 $(i,j)$ \u4e2d\u7684 $j$\uff0c\u627e\u4e00\u4e2a\u6700\u5c0f\u7684 $i$ \u4e0e\u4e4b\u5339\u914d\uff0c\u600e\u4e48\u505a\u5462\uff1f\u53ef\u4ee5\u5c06\u6570\u7ec4 $j$ \u5185\u7684\u5143\u7d20\u7684 ``bitset`` \u6216\u8d77\u6765\u5e76\u53cd\u8f6c\u6bcf\u4e2a\u4f4d\uff0c\u7136\u540e\u627e\u6700\u4f4e\u4f4d\u7684 $1$ \u7684\u4f4d\u7f6e\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e0e\u7a7a\u95f4\u590d\u6742\u5ea6\u5747\u4e3a $O\\left(\\frac{n^2m}{\\omega}\\right)$\uff0c\u4e0d\u8fc7\u7a7a\u95f4\u590d\u6742\u5ea6\u592a\u5927\u4e86\u8fc7\u4e0d\u53bb\u3002\u8003\u8651 trivial \u7684\u5e73\u8861\u590d\u6742\u5ea6\uff0c\u5bf9\u4e8e\u51fa\u73b0\u6b21\u6570 $<B$ \u7684\u6743\u503c\u4e0d\u518d\u5bf9\u5176\u7ef4\u62a4 ``bitset``\uff0c\u800c\u662f\u76f4\u63a5\u66b4\u529b\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O\\left(nmB+\\frac{n^2}{\\omega}\\max\\left(m,\\frac{n}{B}\\right)\\right)$\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a $O\\left(\\frac{n^2}{\\omega B}\\right)$\uff0c\u5e73\u8861\u4e00\u4e0b\u53ef\u5f97 $B \\approx \\sqrt{\\frac{n^2}{m\\omega}}$\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u53d8\u4e3a $O\\left(\\sqrt{\\frac{n^2m}{\\omega}}\\right)$\u3002\n\n### Solution 2\n\n``Hash/Trie`` \u7684\u505a\u6cd5\u5219\u57fa\u4e8e\u5bb9\u65a5\u3002\n\n\u53cc\u6307\u9488\u7684\u6027\u8d28\u7279\u522b\u663e\u7136\uff0c\u95ee\u9898\u5176\u5b9e\u662f\u5982\u4f55\u5feb\u901f\u627e\u51fa\u5f53\u524d\u662f\u5426\u5b58\u5728\u4e0d\u4ea4\u7684\u6570\u7ec4\u5bf9\u3002\n\n\u5206\u522b\u5199\u51fa\u6570\u7ec4 $A,B$ \u7684\u5e42\u96c6 $P_A,P_B$\u3002\n\n\u5bf9\u4e0b\u5217\u5f0f\u5b50\u6c42\u503c\n\n$$\n\\sum_{a\\in P_A}\\sum_{b\\in P_B}[a=b](-1)^{|a|-1} \n$$\n\n\u82e5 $A,B$ \u5b58\u5728\u4ea4\u96c6\uff0c\u4e0a\u5f0f\u503c\u5fc5\u7136\u4e3a $1$\uff0c\u5426\u5219\u4e3a $0$\u3002\n\n\u8bbe $A$ \u4e0e $B$ \u4ea4\u96c6\u5927\u5c0f\u4e3a $s$\uff0c\u8003\u8651\u8fd9\u4e2a\u5f0f\u5b50\u5176\u5b9e\u6c42\u7684\u662f\n\n$$\n\\binom{s}{1}-\\binom{s}{2}+\\binom{s}{3}\\dots\n$$\n\n\u4e8e\u662f\u663e\u7136\u3002\n\n\u600e\u4e48\u5224\u65ad\u5b50\u96c6\u76f8\u540c\uff1f\u60f3\u5230\u53ef\u4ee5\u7528 ``Hash`` \u6765\u5904\u7406\u4e00\u4e2a\u96c6\u5408\u7684\u5b50\u96c6\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u6570\u7ec4\u6c42\u51fa\u5176\u5b50\u96c6\u7684 ``Hash`` \u503c\u3002\u7136\u540e\u4e24\u4e24\u6bd4\u5bf9\u5224\u65ad\u5f53\u524d\u662f\u5426\u5b58\u5728\u4e0d\u4ea4\u7684\u6570\u7ec4\u5bf9\u4e48\uff1f\u53ea\u9700\u8981\u5f00\u4e00\u4e2a\u6876\u5728\u53ef\u80fd\u7684\u7b54\u6848\u533a\u95f4\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\uff08\u5373\u53cc\u6307\u9488\u79fb\u52a8\u65f6\uff09\u7edf\u8ba1\u4e0a\u5f0f\u7684\u8d21\u732e\u5373\u53ef\uff0c\u82e5\u5728\u5220\u9664\u4e00\u4e2a\u6570\u7ec4\u7684\u8d21\u732e\u4e4b\u540e\u4e0a\u5f0f\u7684\u603b\u8d21\u732e\u6ca1\u6709\u53d8\u5316\uff0c\u8bf4\u660e\u8fd9\u4e2a\u6570\u7ec4\u662f\u4e0d\u4ea4\u7684\u6570\u7ec4\u5bf9\u7684\u4e00\u4e2a\u5143\u7d20\u3002\n\n``Trie`` \u7684\u505a\u6cd5\u53ea\u662f\u5c06 ``Hash`` \u548c\u6876\u6362\u6389\u4e86\uff0c\u4ecd\u7136\u662f\u7ef4\u62a4\u4e0a\u5f0f\u7684\u603b\u8d21\u732e\uff0c\u672c\u8d28\u6ca1\u6709\u53d1\u751f\u53d8\u5316\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n2^m)$\u3002\n",
        "postTime": 1645761143,
        "uid": 95244,
        "name": "tommymio",
        "ccfLevel": 6,
        "title": "Tutorial for CF1641D"
    },
    {
        "content": "\u771f\u795e\u4ed9\u9898\u3002\n\n**\u505a\u6cd5\u4e00** \n\n\u4f7f\u7528 ```bitset``` \u4f18\u5316\u66b4\u529b\uff0c\u5bf9\u6743\u503c\u5f00 ```bitset```\uff0c\u5339\u914d\u65f6\u76f4\u63a5\u6216\u8d77\u6765\u5373\u53ef\u3002\n\n\u6ce8\u610f\u5230\u7a7a\u95f4\u5f88\u5927\uff0c\u53ef\u4ee5\u901a\u8fc7\u6839\u53f7\u5206\u6cbb\u4f18\u5316\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5927\u6982\u5728 $O(\\sqrt{\\frac{n^3m}{\\omega}})$\u3002\n\n**\u505a\u6cd5\u4e8c**\n\n\u8fd9\u4e2a\u5bb9\u65a5\u662f\u771f\u7684 NB\u3002\n\n\u5224\u65ad\u4e24\u4e2a\u96c6\u5408\u662f\u5426\u91cd\u5408\u7684\u4e00\u4e2a\u65b9\u6cd5\uff1a\u679a\u4e3e\u4e24\u4e2a\u96c6\u5408\u7684\u5b50\u96c6\uff0c\u957f\u5ea6\u4e3a\u5947\u6570\u7684\u5b50\u96c6\u76f8\u540c\u5c31\u52a0\u4e00\uff0c\u4e3a\u5076\u6570\u7684\u5b50\u96c6\u76f8\u540c\u5c31\u51cf\u4e00\uff0c\u6700\u7ec8\u82e5\u6709\u76f8\u7b49\u5143\u7d20\uff0c\u5219\u6700\u7ec8\u503c\u4e00\u5b9a\u4e3a $1$\u3002\n\n\u8bc1\u660e\uff1a\u4ee4 $s$ \u4e3a\u4ea4\u96c6\u5927\u5c0f\uff0c\u5219\u6211\u4eec\u6240\u6c42\u503c\u4e3a $\\sum\\limits_{i=1}^{s}\\dbinom{i}{s}(-1)^{i+1}$\uff0c\u7531\u4e8c\u9879\u5f0f\u5b9a\u7406\u53ef\u4ee5\u63a8\u5bfc\u5f97\u5230\u3002\n\n\u8fd9\u4e2a\u65b9\u6cd5\u770b\u4f3c\u65f6\u95f4\u590d\u6742\u5ea6\u5f88\u52a3\uff0c\u4f46\u662f\u5728\u8fd9\u9053\u9898\u4e2d\u6709\u5947\u7528\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4ed6\u6765\u5224\u65ad\u82e5\u5e72\u96c6\u5408\u4e2d\u4e8e\u4e00\u4e2a\u96c6\u5408\u6709\u76f8\u540c\u5143\u7d20\u7684\u96c6\u5408\u4e2a\u6570\u3002\n\n\u5177\u4f53\u7684\uff0c\u6211\u4eec\u628a\u8fd9\u533a\u95f4\u4e2d\u7684\u5b50\u96c6\u5168\u90e8\u6c42\u51fa\u6765\uff0c\u4f7f\u7528\u54c8\u5e0c\u8868/Trie\u7b49\u6570\u636e\u7ed3\u6784\u8bb0\u5f55\u4e2a\u6570\uff0c\u7136\u540e\u505a\u4e0a\u9762\u7684\u4e1c\u897f\u5373\u53ef\uff0c\u6700\u7ec8\u5f97\u5230\u7684\u7b54\u6848\u5373\u4e3a\u6709\u76f8\u540c\u5143\u7d20\u7684\u96c6\u5408\u4e2a\u6570\uff0c\u53ef\u4ee5\u5728  $O(m2^m)$ \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5185\u5f97\u51fa\u3002\n\n\u672c\u9898\u4e2d\uff0c\u6700\u5f00\u59cb\u6211\u4eec\u5c06\u6240\u6709\u96c6\u5408\u6309 $w$ \u6392\u5e8f\uff0c\u627e\u5230\u6700\u524d\u9762\u7684\u4e00\u4e2a $r$\uff0c\u548c\u76f8\u5e94\u7684 $l$\uff0c\u7136\u540e\u6211\u4eec\u5c06 $r$ \u53f3\u79fb\uff0c\u6b64\u65f6\u8d2a\u5fc3\u5730\u60f3\uff0c$l$ \u5fc5\u987b\u5411\u5de6\u79fb\uff0c\u5177\u4f53\u5c06 $l$ \u5de6\u79fb\u65f6\u5220\u53bb\u4ed6\u7684\u5b50\u96c6\uff0c\u5982\u679c\u6b64\u65f6\u4e0e $r$ \u76f8\u4ea4\u96c6\u5408\u51cf\u5c11\uff0c\u5219\u8bf4\u660e $l$ \u548c $r$ \u65e0\u4ea4\u96c6\uff0c\u66f4\u65b0\u7b54\u6848\u3002\n\n\u7531\u4e8e $l$ \u548c $r$ \u5355\u8c03\uff0c\u6700\u7ec8\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(nm2^m)$\u3002\n\n[Code](https://codeforces.com/contest/1641/submission/181036750)",
        "postTime": 1668484815,
        "uid": 212349,
        "name": "ChengJY_",
        "ccfLevel": 7,
        "title": "CF1641D Two Arrays \u9898\u89e3"
    },
    {
        "content": "`bitset` \u597d\u9898\u3002\n\n\u9996\u5148\u8003\u8651\u66b4\u529b\u5904\u7406\u5143\u7d20\u4e0d\u80fd\u76f8\u540c\u7684\u9650\u5236\u3002\n\n\u5bf9\u6bcf\u4e2a\u6570 $x$ \u5f00\u4e00\u4e2a `bitset` $s_x$\uff0c\u7b2c $i$ \u4f4d\u662f `1` \u5f53\u4e14\u4ec5\u5f53 $a_i$ \u4e2d\u6709 $x$\u3002\n\n\u679a\u4e3e\u6bcf\u4e2a $a_i$\uff0c\u5c06 $s_{a_{i,j}}$ \u5168\u90e8\u6216\u8d77\u6765\u5f97\u5230 $f_i$\uff0c$f_i$ \u4e2d `0` \u90a3\u4e9b\u4f4d\u4ee3\u8868\u53ef\u4ee5\u548c $a_i$ \u540c\u65f6\u9009\u3002\n\n\u5728\u6240\u6709\u53ef\u80fd\u7684\u7ec4\u5408\u4e2d\u9009\u4e00\u4e2a\u6700\u5c0f\u7684\u5373\u53ef\uff0c\u590d\u6742\u5ea6 $O(\\frac{n^2m}{w})$\uff0c\u4f46\u662f\u7a7a\u95f4\u4e0d\u591f\u3002\n\n\u5b9e\u9645\u4e0a\uff0c\u5f88\u591a\u51fa\u73b0\u6b21\u6570\u5f88\u5c11\u7684\u6570\u72ec\u5360\u4e00\u4e2a `bitset` \u6d6a\u8d39\u4e86\u5927\u91cf\u7a7a\u95f4\uff0c\u6545\u8003\u8651\u6839\u53f7\u5206\u6cbb\u5e73\u8861\u590d\u6742\u5ea6\u3002\n\n\u5f53\u4e00\u4e2a\u6570\u51fa\u73b0\u4e86\u81f3\u5c11 $\\sqrt{nm}$ \u6b21\u65f6\u624d\u5355\u72ec\u62ff\u51fa\u6765\u5f00\u4e00\u4e2a `bitset` \uff0c\u4e0d\u96be\u53d1\u73b0\u6b64\u65f6 `bitset` \u6700\u591a $O(\\sqrt{nm})$ \u4e2a\uff0c\u7a7a\u95f4\u964d\u81f3 $O(\\frac{n\\sqrt{nm}}{w})$\u3002\n\n\u6b64\u65f6\u65f6\u95f4\u662f $O(nm\\sqrt{nm}+\\frac{n^2m}{m})$\uff0c\u53ef\u4ee5\u901a\u8fc7\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int NR=1e5+10;\nconst int MR=5e5+10;\nint n,m,Block,v[MR],len,cnt[MR],ans=2e9+10,idx[MR],tot;\nvector<int>buc[MR];\n#define pb push_back \nstruct task{\n\tint a[6],v;\n\tbool operator <(const task &T)const{\n\t\treturn v<T.v;\n\t}\n}t[NR];\nbitset<NR>s[800];\n\nint main(){\n\tcin>>n>>m;Block=sqrt(n*m);\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tscanf(\"%d\",&t[i].a[j]),v[++len]=t[i].a[j];\n\t\tscanf(\"%d\",&t[i].v);\n\t}\n\tsort(t+1,t+1+n);\n\tsort(v+1,v+1+len);\n\tlen=unique(v+1,v+1+len)-v-1;\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tbuc[t[i].a[j]=lower_bound(v+1,v+1+len,t[i].a[j])-v].pb(i),cnt[t[i].a[j]]++;\n\tfor(int i=1;i<=len;i++)\n\t\tif(cnt[i]>=Block){\n\t\t\tidx[i]=++tot;\n\t\t\tfor(int x:buc[i])s[tot].set(x);\n\t\t}\n\tbitset<NR>tmp;\n\tfor(int i=1;i<=n;i++){\n\t\ttmp.reset();\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tif(idx[t[i].a[j]])tmp|=s[idx[t[i].a[j]]];\n\t\ttmp.flip();\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tif(!idx[t[i].a[j]])\n\t\t\t\tfor(int x:buc[t[i].a[j]])tmp.reset(x);\n\t\tint pos=tmp._Find_next(0);\n\t\tif(pos<=n)ans=min(ans,t[i].v+t[pos].v);\n\t}\n\tif(ans<=2e9)cout<<ans<<endl;\n\telse puts(\"-1\");\n\treturn 0;\n}\n```",
        "postTime": 1671110008,
        "uid": 117771,
        "name": "intel_core",
        "ccfLevel": 7,
        "title": "CF1641D \u9898\u89e3"
    },
    {
        "content": "### \u524d\u8a00\n\n\u4e00\u4e2a\u611f\u89c9\u5f88\u5047\u7684\u505a\u6cd5\uff0c\u8d5b\u65f6\u5199\u6302\u4e86\uff0c\u4f46\u662f\u8d5b\u540e\u6539\u6539\u6539\u8fc7\u4e86 System test\u3002\n\n\u6ca1\u6ce8\u610f\u5230 Luogu \u722c\u4e86 CF\u3002\u65e2\u7136\u722c\u4e86\uff0c\u6211\u5c31\u53d1\u4e00\u4e0b\u5427\u3002\n\n[\u6709\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u6765\u53c9](https://www.luogu.com.cn/discuss/412560)\u3002\n\n---\n### \u601d\u8def\n\n\u5c31\uff0c\u4f60\u8003\u8651\u4e00\u4e2a\u8d2a\u5fc3\uff1a\u6bcf\u4e2a\u6570\u7ec4\u90fd\u548c\u53ef\u80fd\u4e0e\u5b83\u7ec4\u5408\u6210\u7b54\u6848\u7684\u7b97\u4e00\u904d\u3002\n\n\u7136\u540e\u53ef\u80fd\u548c\u5b83\u6784\u6210\u7b54\u6848\u7684\u6570\u6ee1\u8db3\u4e00\u4e2a\u8d2a\u5fc3\u7684\u6027\u8d28\u3002\n\n\u5373\uff1a\n* \u5dee\u5f02\u4e3a $0$ \u7684\u53ea\u7528\u4fdd\u7559\u6700\u5c0f\u4e00\u4e2a\u3002\n* \u5dee\u5f02\u4e3a $1$ \u7684\u53ea\u7528\u4fdd\u7559\u6700\u5c0f\u4e24\u4e2a\u3002\n* \u4ee5\u6b64\u7c7b\u63a8\u3002\n\n\u7136\u540e\u8fd9\u4e2a\u9608\u503c\u6211\u4e0d\u592a\u4f1a\u7b97\uff0c\u4e8e\u662f\u53e3\u80e1\u4e86\u4e00\u4e2a `Lim` \u6570\u7ec4\uff1a\n\n```cpp\nconst uint Lim[]={0,1,5,15,40,100};\n```\n\n---\n### Code\n\n\u653e\u4e00\u4e0b\u6838\u5fc3\u4ee3\u7801\u3002\n\n```cpp\nuint W[100005],A[100005][5],Ans[6][6];\nstd::vector<uint>QAQ;\ntypedef std::pair<uint,uint>Pair;\nPair P[6][6];\nuint m;\nuint lcs(uint a,uint b)\n{\n    for(uint i=0;i<m;i++)for(uint j=0;j<m;j++)\n        if(A[a][i]==A[b][j])Ans[i+1][j+1]=Ans[i][j]+1,P[i+1][j+1]=Pair(i,j);\n        else Ans[i+1][j+1]=std::max(Ans[i+1][j],Ans[i][j+1]),\n        \tP[i+1][j+1]=Ans[i+1][j]>Ans[i][j+1]?Pair(i+1,j):Pair(i,j+1);\n    QAQ.clear();\n    Pair now=Pair(m,m);\n    while(now!=Pair())\n    {\n        if(P[now.first][now.second].first<now.first\n        \t&&P[now.first][now.second].second<now.second)\n        \tQAQ.push_back(A[a][now.first]);\n        now=P[now.first][now.second];\n    }\n    return Ans[m][m];\n}\nuint Id[100005],Now[100005],cnt=0;\nconst uint Lim[]={0,1,5,15,40,100};\nint main()\n{\n    uint n;uint ans=-1;\n    scanf(\"%u%u\",&n,&m);\n    for(uint i=0;i<n;i++)\n    {\n        for(uint j=0;j<m;j++)scanf(\"%u\",A[i]+j);\n        scanf(\"%u\",W+i);\n        std::sort(A[i],A[i]+m);\n        Id[i]=i;\n    }\n    std::sort(Id,Id+n,[&](uint a,uint b){return W[a]<W[b];});\n    for(uint i=0;i<n;i++)\n    {\n        uint p=Id[i];\n        std::map<std::vector<uint>,uint>LCNT;\n        for(uint j=0;j<cnt;j++)\n        {\n            uint c=lcs(p,Now[j]);\n            LCNT[QAQ]++;\n            if(!c)_min(ans,W[p]+W[Now[j]]);\n        }\n        bol b=true;\n        for(auto p:LCNT)\n        \tif(p.second>Lim[m-p.first.size()]){b=false;break;}\n        if(b)Now[cnt++]=p;\n    }\n    printf(\"%d\\n\",(int)ans);\n    return 0;\n}\n```\n",
        "postTime": 1647176278,
        "uid": 105050,
        "name": "myee",
        "ccfLevel": 7,
        "title": "1641D"
    },
    {
        "content": "**\u795e\u4ed9\u9898**\n\n[\u4f20\u9001\u95e8](https://codeforces.com/contest/1641/problem/D)\n\n\u53c2\u8003[ CF \u5b98\u65b9\u9898\u89e3](https://codeforces.com/blog/entry/100249)\u3002\n\n\u8003\u8651\u600e\u4e48\u5224\u65ad\u4e24\u4e2a\u96c6\u5408 $a$ \u548c $b$ \u662f\u5426\u6709\u81f3\u5c11\u4e00\u4e2a\u76f8\u540c\u5143\u7d20\uff0c\u6b63\u5e38\u7684\u65b9\u6cd5\u6211\u4eec\u90fd\u4f1a\u9009\u62e9\u626b\u51e0\u904d\uff0c\u4f46\u662f\u5982\u679c\u6362\u6210\u5224\u65ad\u4e00\u4e2a\u96c6\u5408\u4e0e $k$ \u4e2a\u96c6\u5408\u5462\u3002\u6240\u4ee5\u8fd9\u91cc\u6709\u4e00\u4e2a\u6781\u5176\u795e\u4ed9\u7684\u65b9\u6cd5\uff1a\n\n\u6211\u4eec\u77e5\u9053\u5bb9\u65a5\u539f\u7406\u7684\u57fa\u7840\uff1a$\\sum \\binom{n}{i}(-1)^i=[n=0]$\uff0c\u5047\u8bbe\u6211\u4eec\u8981\u5224\u65ad $a$ \u548c $b$ \u4e2d\u662f\u5426\u6709\u81f3\u5c11\u4e00\u4e2a\u76f8\u540c\u5143\u7d20\uff0c\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e $b$ \u7684\u6240\u6709\u5b50\u96c6\uff0c\u5224\u65ad\u5176\u662f\u5426\u4e5f\u662f $a$ \u7684\u5b50\u96c6\uff0c\u5982\u679c\u662f\uff0c\u5b50\u96c6\u5927\u5c0f\u4e3a\u5947\u6570\u7684\u8bdd\u5c31\u7ed9\u7b54\u6848\u52a0\u4e00\uff0c\u662f\u5076\u6570\u5c31\u7ed9\u7b54\u6848\u51cf\u4e00\uff0c\u6700\u7ec8\u7ed3\u679c\u5982\u679c\u662f $1$ \u5c31\u6ca1\u6709\u76f8\u540c\u5143\u7d20\uff0c\u5982\u679c\u662f $0$ \u5c31\u6709\u3002\n\n\u901a\u8fc7\u8fd9\u4e2a\u6211\u4eec\u4e5f\u53ef\u4ee5\u505a\u5230\u5224\u65ad\u4e00\u4e2a\u96c6\u5408 $a$ \u4e0e\u82e5\u5e72\u96c6\u5408 $b_i$ \u662f\u5426\u76f8\u540c\u5143\u7d20\uff0c\u7528\u7c7b\u4f3c\u7684\u65b9\u6cd5\u5c31\u597d\u4e86\uff0c\u6700\u7ec8\u4e5f\u662f\u5224\u65ad\u7ed3\u679c\u662f\u4e0d\u662f $0$\u3002\n\n\u56de\u5230\u539f\u95ee\u9898\uff0c\u6211\u4eec\u628a\u6240\u6709\u6570\u7ec4\u6309\u7167 $w$ \u6392\u5e8f\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e0a\u9762\u7684\u65b9\u6cd5\u627e\u5230\u53f3\u7aef\u70b9\u6700\u5c0f\u7684\u6ee1\u8db3\u6761\u4ef6\u7684 pair\uff0c\u8bbe\u4e3a $(l,r)$\u3002\u4e4b\u540e\u6211\u4eec\u5f80\u53f3\u79fb\u52a8 $r$\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u4f7f\u7b54\u6848\u6700\u5c0f\uff0c$l$ \u5f80\u53f3\u79fb\u662f\u5b8c\u5168\u6ca1\u6709\u610f\u4e49\u7684\uff0c\u6240\u4ee5 $l$ \u53ea\u80fd\u5f80\u5de6\u79fb\uff0c\u4e00\u76f4\u79fb\u5230\u8fd9\u662f\u5bf9\u4e8e\u73b0\u5728\u7684 $r$ \u7684\u6700\u5de6\u7684\u80fd\u6ee1\u8db3\u6761\u4ef6\u7684 $l$\uff0c\u7136\u540e\u66f4\u65b0\u7b54\u6848\u3002\n\n\u56e0\u4e3a $l$ \u548c $r$ \u90fd\u53ea\u80fd\u5f80\u4e00\u4e2a\u65b9\u5411\u79fb\u52a8\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u662f $\\mathcal{O}(n\\cdot 2^m)$\u3002\n\n## \u5173\u4e8e\u5b9e\u73b0\n\n- \u8fd9\u9898\u5176\u5b9e\u6709\u4e9b\u5730\u65b9\u6587\u5b57\u662f\u6709\u70b9\u4e0d\u597d\u7406\u89e3\u7684\uff0c\u90a3\u5c31\u770b\u770b\u4ee3\u7801\u5427\u3002\n\n- \u4e00\u4e2a\u96c6\u5408\u548c\u82e5\u5e72\u4e2a\u96c6\u5408\u7684\u5224\u65ad\u53ef\u4ee5\u628a\u8fd9\u82e5\u5e72\u4e2a\u96c6\u5408\u7684\u6240\u6709\u5b50\u96c6\u50cf trie \u4e00\u6837\u5efa\u6210\u4e00\u4e2a\u56fe\uff0c\u62ff `unordered_map` \u5b58\u56fe\u5c31\u597d\u4e86\u3002\n- \u8fd9\u9898\u6709\u4ebf\u70b9\u70b9\u5361\u5e38\u3002\u6211\u8fd9\u4e2a\u90fd\u662f\u5f88\u6781\u9650\u624d\u8fc7\u53bb\u7684\u3002\n- \u5efa\u8bae\u4e0d\u8981\u501f\u9274\u8fd9\u91cc\u7684\u5b9e\u73b0\u65b9\u6cd5\uff0c\u7528\u4e00\u4e2a\u54c8\u5e0c\u8868\u53c8\u597d\u5199\u5e38\u6570\u53c8\u5c0f\uff0c\u7528\u8fd9\u4e2a\u7c7b\u4f3c trie \u7684\u65b9\u6cd5\u5f88\u53ef\u80fd TLE\u3002\n\n```cpp\n#pragma GCC optimize(3)\n#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(2)\n#include<iostream>\n#include<stdio.h>\n#include<ctype.h>\n#include<algorithm>\n#include<unordered_map>\n#include<array>\n#define N 100005\nusing namespace std;\ninline int read(){\n\tint x=0,f=0; char ch=getchar();\n\twhile(!isdigit(ch)) f|=(ch==45),ch=getchar();\n\twhile(isdigit(ch)) x=(x<<3)+(x<<1)+(ch^48),ch=getchar();\n\treturn f?-x:x;\n}\nstruct arr{\n\tarray <int,10> a;\n\tint w;\n\tbool operator < (const arr &A)const{\n\t\treturn w<A.w;\n\t}\n}a[N];\nstruct node{\n\tunordered_map <int,int> mp;\n\tint cnt;\n};\nvector <node> G;\nint n,m,ans,pool;\nint get(const array<int,10> &x,int i,int u){\n\tif(i>m) return G[u].cnt;\n\tint res=get(x,i+1,u);\n\tif(G[u].mp.find(x[i])!=G[u].mp.end()) res-=get(x,i+1,G[u].mp[x[i]]);\n\treturn res;\n}\nvoid insert(const array<int,10> &x,int i,int u){\n\tif(i>m){\n\t\tG[u].cnt++;\n\t\treturn;\n\t}\n\tinsert(x,i+1,u);\n\tif(G[u].mp.find(x[i])==G[u].mp.end()) G[u].mp[x[i]]=++pool;\n\tinsert(x,i+1,G[u].mp[x[i]]);\n}\nvoid erase(const array<int,10> &x,int i,int u){\n\tif(i>m){\n\t\tG[u].cnt--;\n\t\treturn;\n\t}\n\terase(x,i+1,u);\n\terase(x,i+1,G[u].mp[x[i]]);\n}\nint main(){\n\tn=read(),m=read();\n\tG.resize(n*(1<<m)+1);\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=1;j<=m;++j){\n\t\t\ta[i].a[j]=read();\n\t\t}\n\t\tsort(a[i].a.begin()+1,a[i].a.begin()+m+1);\n\t\ta[i].w=read();\n\t}\n\tsort(a+1,a+n+1);\n\tint r=1;\n\twhile(r<=n && !get(a[r].a,1,0)) insert(a[r].a,1,0),r++;\n\tif(r>n) return puts(\"-1\")&0;\n\tint l=r-1;\n\twhile(get(a[r].a,1,0)) erase(a[l].a,1,0),l--;\n\tans=a[r].w+a[l+1].w;\n\tfor(int i=r+1;i<=n;++i){\n\t\tif(!l) break;\n\t\tif(get(a[i].a,1,0)){\n\t\t\twhile(get(a[i].a,1,0)) erase(a[l].a,1,0),l--;\n\t\t\tans=min(ans,a[i].w+a[l+1].w);\n\t\t}\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n\n```\n\n",
        "postTime": 1645708329,
        "uid": 238861,
        "name": "xzzduang",
        "ccfLevel": 0,
        "title": "CF1641D Two Arrays"
    },
    {
        "content": "\u4e00\u9053\u601d\u8def\u6bd4\u8f83\u5947\u602a\u7684\u9898\uff0c\u6709\u70b9\u96be\u60f3\u3002\n\n\u4e0b\u9762\u8bb0 $S_i=\\{a_{i,1},...,a_{i,m}\\}$\u3002\n\n\u5148\u5c06\u6240\u6709\u5143\u7d20\u6309 $w$ \u5347\u5e8f\u6392\u5e8f\u3002\u8003\u8651\u4ece\u5c0f\u5230\u5927\u5bf9\u6bcf\u4e2a $i$ \u8ba1\u7b97\u51fa\u6700\u5c0f\u7684 $p_i$ \u4f7f\u5f97 $S_i,S_{p_i}$ \u65e0\u4ea4\uff0c\u6700\u540e\u5728\u6240\u6709 $w_i+w_{p_i}$ \u4e2d\u53d6\u6700\u5c0f\u503c\u5373\u53ef\u3002\u6b64\u5916\uff0c\u5982\u679c\u786e\u5b9a\u8fd9\u6837\u7684 $p_i$ \u4e00\u5b9a\u6bd4\u67d0\u4e2a $p_j(j<i)$ \u5927\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u653e\u5f03\u8ba1\u7b97 $p_i$\uff08\u56e0\u4e3a\u8fd9\u6837\u7684 $w_i+w_{p_i}$ \u4e00\u5b9a\u4e0d\u4f18\uff09\u3002\u8003\u8651\u4ece\u5c0f\u5230\u5927\u679a\u4e3e $i$\uff0c\u521d\u59cb\u65f6\u4ee4 $p_i=p_{i-1}$\uff08\u521d\u59cb\u6761\u4ef6\u53ef\u8bbe\u4e3a $p_0=n+1$\uff09\uff0c\u7136\u540e\u4e0d\u65ad\u7f29\u5c0f $p_i$\uff0c\u76f4\u5230 $[1,p_i-1]$ \u4e2d\u6240\u6709\u96c6\u5408\u90fd\u548c $S_i$ \u6709\u4ea4\u4e3a\u6b62\u3002\u8fd9\u4e2a\u505a\u6cd5\u7c7b\u4f3c\u4e8e\u5c3a\u53d6\u6cd5\u3002\n\n\u63a5\u4e0b\u6765\u8981\u8003\u8651\u7684\u95ee\u9898\u662f\uff1a\u600e\u4e48\u5feb\u901f\u5224\u65ad\u67d0\u4e2a $[1,j]$ \u4e2d\u7684\u96c6\u5408\u662f\u5426\u5168\u90e8\u548c $S_i$ \u6709\u4ea4\u3002\u76f4\u63a5\u5224\u5b9a\u4f3c\u4e4e\u6709\u4e9b\u56f0\u96be\uff0c\u8003\u8651\u5229\u7528\u5bb9\u65a5\u539f\u7406\u6765\u8ba1\u6570\u6709\u591a\u5c11\u4e2a $S_k(k\\in [1,j])$ \u4f7f\u5f97 $S_k,S_j$ \u6709\u4ea4\u3002\u5bf9\u6bcf\u4e2a $k$\uff0c\u6211\u4eec\u628a $S_k$ \u7684\u6240\u6709\u5b50\u96c6\u63d2\u5165\u4e00\u4e2a\u5927\u96c6\u5408\u4e2d\uff0c\u5947\u6570\u5927\u5c0f\u7684\u5b50\u96c6\u6743\u503c\u6807\u4e3a $+1$\uff0c\u5076\u6570\u5927\u5c0f\u7684\u6807\u4e3a $-1$\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c$S_i$ \u7684\u6240\u6709\u5b50\u96c6\u7684\u6743\u503c\u4e4b\u548c\u5c31\u662f $S_i$ \u548c $S_{1...j}$ \u4e2d\u6709\u4ea4\u7684\u96c6\u5408\u6570\u91cf\uff0c\u5224\u65ad\u5176\u662f\u5426\u7b49\u4e8e $j$ \u5373\u53ef\u3002\n\n\u7ef4\u62a4\u5927\u96c6\u5408\u65f6\u53ef\u4ee5\u91c7\u7528 Trie \u6765\u7ef4\u62a4\u3002\u603b\u65f6\u95f4\u590d\u6742\u5ea6 $O(nm2^m)$\u3002\n",
        "postTime": 1645705203,
        "uid": 112794,
        "name": "\u5468\u5b50\u8861",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF1641D\u3010Two Arrays\u3011"
    }
]