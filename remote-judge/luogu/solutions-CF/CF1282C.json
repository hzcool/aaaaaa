[
    {
        "content": "### Petya and Exam\n\n[Codeforces-1282C](https://codeforces.com/problemset/problem/1282/C)\n\n#### \u9898\u76ee\u5927\u610f\n\nPetya\u53c2\u52a0\u8003\u8bd5\uff0c\u8fd9\u573a\u8003\u8bd5\u4e00\u5171\u6709$n$\u9053\u9898\u76ee\uff0c\u8003\u8bd5\u7684\u603b\u65f6\u957f\u662f$T$\u3002\u9898\u76ee\u4e00\u5171\u6709\u4e24\u79cd\uff1a\u7b80\u5355\u7684\u548c\u56f0\u96be\u7684\u3002Petya\u505a\u4e00\u9053\u7b80\u5355\u7684\u9898\u76ee\u8981\u82b1\u7684\u65f6\u95f4\u662f$a$\uff0c\u505a\u4e00\u9053\u56f0\u96be\u7684\u9898\u76ee\u8981\u82b1\u7684\u65f6\u95f4\u662f$b$\uff08$a<b$\uff09\u3002\n\n\u6bcf\u9053\u9898\u76ee\u90fd\u6709\u4e00\u4e2a\u5173\u952e\u65f6\u95f4$t_i$\uff0c\u610f\u601d\u662f\uff0c\u4ece$t_i$\u65f6\u523b\u8d77\uff0c\u8fd9\u9053\u9898\u76ee\u5c06\u53d8\u6210\u5fc5\u7b54\u9898\u3002Petya\u6bcf\u505a\u5b8c\u4e00\u9053\u9898\u76ee\u53ef\u4ee5\u5f971\u5206\uff0c\u5e76\u4e14\u53ef\u4ee5\u5728\u4efb\u610f\u65f6\u523b\u4ea4\u5377\u3002\u4f46\u5982\u679c\u5728Petya\u4ea4\u5377\u65f6\uff0c\u6709\u5fc5\u7b54\u9898\u6ca1\u505a\u5b8c\uff0c\u4ed6\u7684\u6210\u7ee9\u5c31\u662f0\u5206\u3002\n\n\u95ee\uff1aPetya\u6700\u591a\u80fd\u5f97\u591a\u5c11\u5206\uff1f\n\n#### \u9898\u76ee\u5206\u6790\n\n\u56e0\u4e3a\u5728\u6bcf\u4e2a$t_i$\u65f6\u523b\u4f1a\u6709\u65b0\u7684\u9898\u76ee\u53d8\u6210\u5fc5\u7b54\u9898\uff0c\u56e0\u6b64\u6700\u4f73\u7684\u4ea4\u5377\u65f6\u95f4\u4e00\u5b9a\u662f\u67d0\u4e2a$t_i-1$\uff0c\u6216\u8005\u662f$T$\u3002\n\n\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u65f6\u95f4\u8fdb\u884c\u79bb\u6563\u5316\u3002\u9700\u8981\u4fdd\u7559\u7684\u65f6\u95f4\u70b9\u4e3a\u6240\u6709\u7684$t_i$\uff0c$t_i-1$\u4ee5\u53ca$T$\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u626b\u63cf\u7b97\u6cd5\uff0c\u4ece\u524d\u5411\u540e\u5904\u7406\u6bcf\u4e2a\u65f6\u95f4\u70b9\u3002\u5728\u6bcf\u4e2a\u65f6\u95f4\u70b9\uff0c\u5982\u679c\u6709\u65b0\u7684\u9898\u76ee\u53d8\u4e3a\u5fc5\u7b54\u9898\uff0c\u6211\u4eec\u5148\u5c06\u5176\u52a0\u5165\u3002\u7136\u540e\uff0c\u6211\u4eec\u68c0\u67e5\u5728\u5f53\u524d\u65f6\u95f4\u70b9\u662f\u5426\u80fd\u5b8c\u6210\u6240\u6709\u5fc5\u7b54\u9898\u3002\u5982\u679c\u80fd\u5b8c\u6210\uff0c\u6211\u4eec\u518d\u505a\u5176\u4ed6\u7684\u9898\u76ee\uff0c\u5148\u505a\u7b80\u5355\u7684\uff0c\u518d\u505a\u56f0\u96be\u7684\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u80fd\u5f97\u5230\u8fd9\u4e2a\u65f6\u95f4\u70b9\u4ea4\u5377\u7684\u6700\u9ad8\u5f97\u5206\u3002\n\n\u68c0\u67e5\u5b8c\u6240\u6709\u65f6\u95f4\u70b9\u540e\uff0c\u6211\u4eec\u5c31\u80fd\u627e\u5230\u6700\u4f18\u89e3\u3002\n\n#### \u53c2\u8003\u4ee3\u7801\uff08Python\uff09\n\n```python\nm = int(input())\nfor case_num in range(m):\n    n, T, a, b = map(int, input().split(' '))\n    d = list(map(int, input().split(' ')))\n    t = list(map(int, input().split(' ')))\n    critical = set()\n    for ti in t:\n        critical.add(ti)\n        if ti >= 1:\n            critical.add(ti - 1)\n    critical.add(T)\n    critical = list(critical)\n    critical.sort()\n    k = len(critical)\n    lut = dict()\n    for i in range(k):\n        lut[critical[i]] = i\n    easy = [0 for i in range(k)]\n    hard = [0 for i in range(k)]\n    for i in range(n):\n        idx = lut[t[i]]\n        if d[i] == 0:\n            easy[idx] += 1\n        else:\n            hard[idx] += 1\n    mandatory_easy = 0\n    mandatory_hard = 0\n    total_hard = sum(d)\n    total_easy = n - total_hard\n    ans = 0\n    for i in range(k):\n        mandatory_easy += easy[i]\n        mandatory_hard += hard[i]\n        time = critical[i] - mandatory_easy * a - mandatory_hard * b\n        if time < 0:\n            continue\n        rest_easy = total_easy - mandatory_easy\n        extra_easy = min(time // a, rest_easy)\n        time -= extra_easy * a\n        rest_hard = total_hard - mandatory_hard\n        extra_hard = min(time // b, rest_hard)\n        score = mandatory_easy + mandatory_hard + extra_easy + extra_hard\n        ans = max(ans, score)\n    print(ans)\n```",
        "postTime": 1588665993,
        "uid": 232112,
        "name": "lucifer1004",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1282C \u3010Petya and Exam\u3011"
    },
    {
        "content": "# \u9898\u89e3 CF1282C \u3010Petya and Exam\u3011\n\n\u8be5\u573a\u6bd4\u8d5b\u9898\u89e3\uff1a[\u6211\u7684\u535a\u5ba2\u6c42\u56f4\u89c2](https://www.cnblogs.com/nblyz2003/p/12173579.html)\n\n\u9898\u76ee\u5927\u610f\uff1aPetya\u5c06\u4f1a\u53c2\u52a0\u4e00\u573a\u8003\u8bd5\uff0c\u8fd9\u573a\u8003\u8bd5\u4ece\u65f6\u95f4\u70b90\u5f00\u59cb\uff0c\u5230T\u7ed3\u675f\u3002\u8003\u8bd5\u4e2d\u6709n\u9053\u9898\uff0c\u5206\u4e3a\u4e24\u79cd\uff0c\u7b80\u5355\uff08\u9700\u8981\u82b1a\u65f6\u95f4\u505a\u5b8c\uff09\u7684\u9898\u548c\u56f0\u96be\uff08\u9700\u8981\u82b1b\u65f6\u95f4\u505a\u5b8c\uff09\u7684\u9898\uff08a <= b\uff09\uff0c\u5373\u5728\u65f6\u95f4\u70b9x\u5f00\u59cb\u505a\u8fd9\u9053\u9898\uff0c\u5c06\u4f1a\u5728x+a\u6216x+b\u65f6\u95f4\u70b9\u5b8c\u6210\u3002\u73b0\u5728\u6bcf\u9053\u9898\u4f1a\u5728\u65f6\u95f4\u70b9 ti \u53d8\u6210\u5fc5\u987b\u5b8c\u6210\uff0cPetya\u53ef\u4ee5\u57280 ~ T\u4efb\u610f\u4e00\u4e2a\u65f6\u95f4\u70b9\u79bb\u5f00\uff0c\u82e5\u79bb\u5f00\u65f6\u6709\u5fc5\u987b\u8981\u5b8c\u6210\u7684\u9898\u76ee\u6ca1\u6709\u5b8c\u6210\uff0c\u4ed6\u5c06\u4f1a\u5f97\u52300\u5206\uff0c\u5426\u5219\u4f1a\u5f97\u5230\u4ed6\u5b8c\u6210\u7684\u9898\u76ee\u7684\u5206\u6570\u3002\u6c42\u4ed6\u6700\u5927\u80fd\u5f97\u5230\u7684\u5206\u6570\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u8d2a\u5fc3\u7b56\u7565\uff0c\u82e5\u662f\u5728\u65f6\u95f4\u70b9i\u79bb\u5f00\u4e14i+1\u6ca1\u6709\u5fc5\u987b\u8981\u5b8c\u6210\u7684\u9898\u76ee\uff0c\u90a3\u4e48\u5728i\u70b9\u79bb\u5f00\u80af\u5b9a\u4e0d\u5982\u5728i+1\u65f6\u95f4\u70b9\u79bb\u5f00\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u6bd4\u8f83\u6240\u6709 ti - 1 \u79bb\u5f00\u80fd\u5f97\u5230\u7684\u6700\u5927\u5206\u6570\u3002\n\n\u53ea\u9700\u8981\u5c06\u65f6\u95f4\u70b9 ti \u6392\u5e8f\u4ee5\u540e\uff0c\u5373\u53ef\u8bb0\u5f55\u4e0b\u5f53\u65f6\u9700\u8981\u5b8c\u6210\u7684\u9898\u76ee\u548c\u6240\u8981\u82b1\u7684\u65f6\u95f4\u3002\n\n\u53e6\u5916\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9\uff0c\u5728\u5b8c\u6210\u6240\u6709\u9700\u8981\u5b8c\u6210\u7684\u9898\u76ee\u540e\uff0c\u80af\u5b9a\u8981\u5148\u53bb\u505a\u7b80\u5355\u7684\u9898\u76ee\uff0c\u82e5\u8fd8\u6709\u65f6\u95f4\u518d\u53bb\u505a\u56f0\u96be\u7684\u9898\u76ee\u3002\n\n\u4ee3\u7801\u5982\u4e0b:\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <vector>\n#define rep(x, l, r) for(int x = l; x <= r; x++)\n#define repd(x, r, l) for(int x = r; x >= l; x--)\n#define clr(x, y) memset(x, y, sizeof(x))\n#define all(x) x.begin(), x.end()\n#define pb push_back\n#define mp make_pair\n#define MAXN 200005\n#define fi first\n#define se second\n#define SZ(x) ((int)x.size())\nusing namespace std;\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef pair<int, int> pii;\nconst int INF = 1 << 30;\nconst int p = 1000000009;\nint lowbit(int x){ return x & (-x);}\nint fast_power(int a, int b){ int x; for(x = 1; b; b >>= 1){ if(b & 1) x = 1ll * x * a % p; a = 1ll * a * a % p;} return x % p;}\n\npii pro[MAXN];\nint num[MAXN];\n\nint main(){\n\tint q;\n\tscanf(\"%d\", &q);\n\trep(times, 1, q){\n\t\tint n, T, a, b;\n\t\tscanf(\"%d%d%d%d\", &n, &T, &a, &b);\n\t\tint tot0 = 0, tot1 = 0;\n\t\trep(i, 1, n){\n\t\t\tscanf(\"%d\", &num[i]);\n\t\t\tif(!num[i]) tot0++;\n\t\t\telse tot1++;\n\t\t}\n\t\trep(i, 1, n){\n\t\t\tint x;\n\t\t\tscanf(\"%d\", &x);\n\t\t\tpro[i] = mp(x, num[i]);\n\t\t}\n\t\tpro[++n] = mp(T + 1, 0);\n\t\tsort(pro + 1, pro + n + 1);\n\t\tint ans = 0, sta0 = 0, sta1 = 0;\n\t\trep(i, 1, n){\n\t\t\tif(sta0 > T) break;\n\t\t\tif(pro[i - 1].fi != pro[i].fi){\n\t\t\t\tint tim = pro[i].fi - 1;\n\t\t\t\ttim -= sta0;\n\t\t\t\tint res = sta1;\n\t\t\t\tif(tim >= 0){\n\t\t\t\t\tres += min(tim / a, tot0);\n\t\t\t\t\ttim -= min(tim / a, tot0) * a;\n\t\t\t\t\tres += min(tim / b, tot1);\n\t\t\t\t\tans = max(ans, res);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(pro[i].se){\n\t\t\t\ttot1--;\n\t\t\t\tsta0 += b;\n\t\t\t}\n\t\t\telse{\n\t\t\t\ttot0--;\n\t\t\t\tsta0 += a;\n\t\t\t}\n\t\t\tsta1++;\n\t\t}\n\t\tprintf(\"%d\\n\", ans);\n\t}\n    return 0;\n}\n```",
        "postTime": 1578616643,
        "uid": 149312,
        "name": "wze\u63cd\u6241\u4e86nm",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1282C \u3010Petya and Exam\u3011"
    }
]