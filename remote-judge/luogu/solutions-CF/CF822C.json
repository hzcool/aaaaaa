[
    {
        "content": "\u7b2c\u4e00\u773c\u4e3b\u5e2d\u6811\uff0c\u4e00\u770b\u53ea\u6709$1600$\uff1f\u6000\u7591\u81ea\u5df1\u773c\u778e\u3002\n\n\u786e\u5b9e\u6709\u975e\u66b4\u529b\u6570\u636e\u7ed3\u6784\u505a\u6cd5\uff0c\u4e0d\u8fc7\u8fd9\u91cc\u8bb2\u4e00\u4e0b\u663e\u7136\u7684\u4e3b\u5e2d\u6811\u505a\u6cd5\u3002\n\n\n------------\n\u8003\u8651\u5c06\u533a\u95f4\u6309\u53f3\u7aef\u70b9\u6392\u5e8f\uff0c\u5bf9\u6bcf\u4e2a\u533a\u95f4\u67e5\u8be2\u5b83\u5de6\u8fb9\u7684\u6700\u5c0f\u7684\u533a\u95f4\uff0c\u66f4\u65b0\u7b54\u6848\u3002\n\n\u8003\u8651\u5230\u4e00\u4e2a\u533a\u95f4\u5728\u53e6\u4e00\u4e2a\u533a\u95f4\u5de6\u8fb9\uff0c\u53ea\u9700\u6ee1\u8db3\u5176\u53f3\u7aef\u70b9\u5c0f\u4e8e\u53e6\u4e00\u4e2a\u7684\u5de6\u7aef\u70b9\u5373\u53ef\u3002\n\n\u5f62\u8c61\u5316\u7684\uff0c\u53ef\u4ee5\u63cf\u8ff0\u4e3a\u4e00\u4e2a$l\\rightarrow r$\u7684\u533a\u95f4\u957f\u5ea6\u4e3a$len$\uff0c\n\n\u67e5\u8be2\u5b83\u524d\u9762\u7684\u533a\u95f4$x$\u4f7f$r_x<l$\u4e14$len_x+len=m$\u7684\u6700\u5c0f$cost_x$\u3002\n\n\u5efa\u4e00\u68f5\u4ee5$r$\u4e3a\u65f6\u95f4\u8f74\uff0c$len$\u4e3a\u4e0b\u6807\uff0c\u7ef4\u62a4$cost$\u6700\u5c0f\u503c\u7684\u4e3b\u5e2d\u6811\u5373\u53ef\u3002\n\n\u7ec6\u8282\u8f83\u591a\uff0c\u4ee3\u7801\u5949\u4e0a\uff0c\u4ec5\u4f9b\u53c2\u8003\uff1a\n```\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\ninline int read(){\n\tint x=0,f=1;char c=getchar();\n\twhile(c<'0'||c>'9'){if(c=='-')f=-1;c=getchar();}\n\twhile(c>='0'&&c<='9'){x=(x<<1)+(x<<3)+c-'0';c=getchar();}\n\treturn x*f; \n}\n#define inf 1e15+7\nconst int maxn=2e5+10;\nconst int N=2e5;\nstruct node{\n\tint l,r,len,c;\n}p[maxn];\ninline int cmp(node x,node y){return x.r<y.r;}\nint n,m,a[maxn<<1],b[maxn];\nint rt[maxn<<1],cnt,ans=inf;\nstruct {\n\tint l,r,val;\n}tr[maxn*50];\ninline int build(int h,int l,int r){\n\th=++cnt;tr[h].val=inf;\n\tif(l==r)return h;\n\tint mid=(l+r)>>1;\n\ttr[h].l=build(tr[h].l,l,mid);\n\ttr[h].r=build(tr[h].r,mid+1,r);\n\treturn h;\n}\ninline int modify(int h,int h1,int l,int r,int x,int y){\n\th=++cnt;tr[h]=tr[h1];\n\ttr[h].val=min(tr[h].val,y);\n\tif(l==r)return h;\n\tint mid=(l+r)>>1;\n\tif(mid>=x)tr[h].l=modify(tr[h].l,tr[h1].l,l,mid,x,y);\n\telse tr[h].r=modify(tr[h].r,tr[h1].r,mid+1,r,x,y);\n\treturn h;\n}\ninline int query(int h,int l,int r,int x){\n\tif(!h)return inf;\n\tif(l==r)return tr[h].val;\n\tint mid=(l+r)>>1;\n\tif(mid>=x)return query(tr[h].l,l,mid,x);\n\telse return query(tr[h].r,mid+1,r,x);\n}\nsigned main(){\n\tn=read(),m=read();\n\tfor(int i=1;i<=n;i++){\n\t\ta[i]=p[i].l=read();\n\t\ta[i+n]=p[i].r=read();\n\t\tp[i].len=p[i].r-p[i].l+1;\n\t\tp[i].c=read();\n\t}\n\tsort(a+1,a+1+2*n);\n\tint t=unique(a+1,a+1+2*n)-a-1;\n\tfor(int i=1;i<=n;i++){\n\t\tp[i].l=lower_bound(a+1,a+1+t,p[i].l)-a;\n\t\tp[i].r=lower_bound(a+1,a+1+t,p[i].r)-a;\n\t}\n\tsort(p+1,p+1+n,cmp);\n\trt[0]=build(rt[0],1,N);\n\tint pos=1,x=0;\n\tfor(int i=1;i<=t;i++){\n\t\trt[i]=rt[i-1];\n\t\twhile(pos<=n&&p[pos].r<=i){\n\t\t\tx=query(rt[p[pos].l-1],1,N,m-p[pos].len);\n\t\t\tans=min(ans,x+p[pos].c);\n\t\t\trt[i]=modify(rt[i],rt[i],1,N,p[pos].len,p[pos].c);\n\t\t\tpos++;\n\t\t}\n\t}\n\tif(ans==inf)puts(\"-1\");\n\telse printf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1609218572,
        "uid": 409469,
        "name": "Mariposa",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF822C \u3010Hacker, pack your bags!\u3011"
    },
    {
        "content": "#### \u524d\u8a00\n\n\u8fd9\u662f\u4e00\u9053\u5f88\u68d2\u7684\u601d\u7ef4\u9898/\u6570\u636e\u7ed3\u6784\uff01\n\nupdate(2020.12.22):\u8ba9\u5185\u5bb9\u66f4\u52a0\u5ba2\u89c2\u5177\u4f53\u4e86\uff0c\u53bb\u6389\u4e86\u4e00\u4e9b\u5e26\u6709\u4e2a\u4eba\u4e3b\u89c2\u6027\u7684\u4e1c\u897f\uff08\u6c34\u8bdd\u5c11\u4e86\uff09\uff0c\u6c42\u7ba1\u7406\u5458\u901a\u8fc7\u3002\n\n\u505a\u6cd5\uff1a\u4e8c\u5206\uff0c\u6392\u5e8f \n\n#### \u9898\u610f\u642c\u8fd0\uff1a\n\n\u7ed9\u5b9a $n,m$ \u4ee5\u53ca $n$ \u4e2a\u533a\u95f4\uff0c\u533a\u95f4 $i$ \u6709\u5de6\u7aef\u70b9 $l_i$ \u548c \u53f3\u7aef\u70b9 $r_i$ \u4ee5\u53ca \u82b1\u8d39 $cost_i$ ,\u8981\u6c42\u4f60\u9009\u51fa\u4e24\u4e2a\u533a\u95f4,\u6ee1\u8db3\u4e0b\u9762\u4e24\u4e2a\u6761\u4ef6:\n+ \u4e24\u4e2a\u533a\u95f4\u6ca1\u6709\u4ea4\u96c6\n+ \u4e24\u4e2a\u533a\u95f4\u7684\u957f\u5ea6\u548c\u7b49\u4e8e $m$ (\u8fd9\u91cc\u7684\u957f\u5ea6\u4e3a $r_i - l _i + 1$ )\n\n\u73b0\u5728\u8981\u6c42\u4f60\u9009\u51fa\u7684\u8fd9\u4e24\u4e2a\u533a\u95f4\u7684\u6743\u503c\u548c\u6700\u5c0f\uff0c\u8f93\u51fa\u6700\u5c0f\u6743\u503c\u548c\u3002\n\n#### \u505a\u6cd5\uff1a\n\n\u56e0\u4e3a\u662f\u4e24\u4e2a\u533a\u95f4\uff0c\u8003\u8651\u679a\u4e3e\u5176\u4e2d\u4e00\u4e2a\u533a\u95f4\u3002\n\n\u56e0\u4e3a\u4e24\u4e2a\u533a\u95f4\u8981\u4e0d\u76f8\u4ea4\uff0c\u6240\u4ee5\u5f88\u5bb9\u6613\u60f3\u5230\u628a\u6240\u6709\u533a\u95f4\u6309\u7167\u5176 $l$ \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u5982\u679c $l$ \u76f8\u7b49\uff0c\u5219\u6309\u7167 $r$ \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u3002\n\n\u901a\u8fc7\u679a\u4e3e\u533a\u95f4 $a$\uff0c\u53ea\u9700\u8981\u627e\u5230\u6240\u6709\u5de6\u7aef\u70b9 $l_b$ \u5927\u4e8e\u5176\u53f3\u7aef\u70b9 $r_a$ \u7684\u533a\u95f4 $b$\uff0c\u8fd9\u6837\u5b50 $a$ , $b$ \u4e24\u4e2a\u533a\u95f4\u5c31\u662f\u4e0d\u76f8\u4ea4\u7684\u3002\n\n\u53ef\u4ee5\u901a\u8fc7\u4e8c\u5206\u627e\u5230\u7b2c\u4e00\u4e2a\u5de6\u7aef\u70b9 $l$ > $r_a$ \u7684\u533a\u95f4,\u8fd9\u6837\u5b50\u6240\u6709\u5de6\u7aef\u70b9\u5728\u8fd9\u4e2a\u627e\u5230\u7684\u533a\u95f4\u7684\u5de6\u7aef\u70b9\u53f3\u8fb9\u7684\u533a\u95f4\u90fd\u662f\u6ee1\u8db3\u6761\u4ef6\u7684\u533a\u95f4\uff0c\u5047\u8bbe\u627e\u5230\u7684\u662f\u7b2c $j$ \u4e2a\u533a\u95f4\uff0c\u56e0\u4e3a\u6240\u6709\u533a\u95f4\u662f\u6309 \u5de6\u7aef\u70b9 $l$ \u6392\u5e8f\u597d\u4e86\u7684\uff0c\u6240\u4ee5\u4ece \u7b2c $j$ \u5230 \u7b2c $n$ \u4e2a\u533a\u95f4\u8ddf\u5f53\u524d\u533a\u95f4 $i$ \u90fd\u662f\u6ca1\u6709\u4ea4\u70b9\u7684\u3002\n\n\u627e\u5230 $[L_i,R_i]$ \u5185\u6ee1\u8db3 $lenb = m - lena$ \u7684\u6240\u6709\u533a\u95f4\u7684\u6743\u503c\u6700\u5c0f\u503c\uff0c\u4e5f\u5c31\u662f\u8ddf\u5f53\u524d\u533a\u95f4 $i$ \u7684\u957f\u5ea6\u4e4b\u548c\u4e3a $m$ \u7684 \u6240\u6709\u533a\u95f4\u4e2d\u533a\u95f4\u7684\u6743\u503c\u6700\u5c0f\u7684\u533a\u95f4\u3002\n( $R_i$ \u76f4\u63a5\u8bbe\u7f6e\u4e3a $n$ , $L_i$ \u7528\u4e4b\u524d\u63d0\u5230\u7684\u4e8c\u5206\u627e\u5230\uff0c\u5982\u679c\u4e0d\u5b58\u5728 $L_i$ \uff0c\u90a3\u4e48\u8bf4\u660e\u8fd9\u4e2a\u533a\u95f4\u662f\u65e0\u6cd5\u4e0e\u5176\u4ed6\u533a\u95f4\u6ee1\u8db3\u6761\u4ef6\u7684)\n\n\u8fd9\u6837\u5b50\u5c31\u6ee1\u8db3\u4e86\u7b2c\u4e00\u4e2a\u9650\u5236,\u5e76\u4e14\u6bcf\u4e00\u5f20\u7968\u90fd\u6709\u4e86\u4e00\u4e2a\u81ea\u5df1\u67e5\u8be2\u7684\u533a\u95f4\uff1a$[L_i,R_i]$\u3002\n\n\u5bf9\u4e8e\u679a\u4e3e\u7684\u6bcf\u4e00\u4e2a\u533a\u95f4\u90fd\u8fdb\u884c\u67e5\u8be2\u5f88\u4e0d\u65b9\u4fbf\uff0c\u4f46\u662f\u611f\u89c9\u53ef\u4ee5\u7528\u795e\u5947\u6570\u636e\u7ed3\u6784\u6765\u641e\uff08\u76ee\u6d4b\u7ebf\u6bb5\u6811\uff1f\n\n\u89c2\u5bdf\u5230\u6bcf\u6b21\u8981\u67e5\u7684\u53f3\u533a\u95f4\u662f\u56fa\u5b9a\u7684\uff0c\u4e0d\u59a8\u5c06\u679a\u4e3e\u5230 $i$ \u7684\u65f6\u5019\u9700\u8981\u67e5\u8be2\u7684 $L_i$ \u7ed9\u8bb0\u5f55\u4e0b\u6765\uff0c\u7136\u540e\u628a $L_i$ \u6309\u7167\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\u3002\n\n\u8fd9\u6837\u5b50 O($n$) \u626b\u4e00\u904d\u8fc7\u6765\uff0c\u5f00\u4e2a\u6876\u5728\u626b\u7684\u65f6\u5019\u8bb0\u5f55\u4e00\u4e0b $Min[len]$ \uff0c\u4e5f\u5c31\u662f\u957f\u5ea6\u4e3a $len$ \u7684\u6240\u6709\u533a\u95f4\u7684\u6743\u503c\u6700\u5c0f\u503c\uff0c\u8fd9\u65f6\u5019\u5bf9\u4e8e\u8be2\u95ee\u5c31\u76f4\u63a5O(1) \u83b7\u5f97\u7b54\u6848\u3002\n\n#### Code:\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\nconst int MAXN = 400005,INF = 100000000000000000;\nint n , m ;\nint Min[MAXN],cnt = 0;\n\nstruct Node {\n\tint l,r,cost;\n} T[MAXN];\n\nstruct P {\n\tint L,D,F;\n    //L\u8bb0\u5f55\u67e5[L,R]\u7684\u5de6\u7aef\u70b9L,D\u8868\u793a\u679a\u4e3e\u5230\u7684\u533a\u95f4\u7684\u6743\u503c\uff0cF\u8868\u793a\u8981\u627e\u7684\u957f\u5ea6 \u5373\u957f\u5ea6\u4e3a m-lena \n} C[MAXN];\n\nbool cmp(Node A , Node B)\n{\n\tif(A.l != B.l)\n\treturn A.l < B.l;\n\treturn A.r < B.r;\n}\n\nint cmp1(P A, P B)\n{\n\treturn A.L > B.L;\n}\n\ninline int read()\n{\n\tint x = 0 , flag = 1;\n\tchar ch = getchar();\n\tfor( ; ch > '9' && ch < '0' ; ch = getchar())if(ch == '-')flag = -1;\n\tfor( ; ch >= '0' && ch <= '9' ; ch = getchar())x = (x << 3) + (x << 1) + ch - '0';\n\treturn x * flag;\n}\n\nsigned main()\n{\n\tn = read() , m = read();\n\tfor(int i = 1 ; i <= n ; i ++)\n\tT[i].l = read(),T[i].r = read(),T[i].cost = read();\n\tsort(T + 1 , T + 1 + n , cmp);//\u6309\u7167\u5de6\u7aef\u70b9\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u5de6\u7aef\u70b9\u76f8\u540c\u7684\u6309\u7167\u53f3\u7aef\u70b9\u4ece\u5c0f\u5230\u8fbe\u6392\u5e8f\n\tfor(int i = 1 ; i <= m ; i ++)Min[i] = INF;\n\tfor(int i = 1 ; i <= n ; i ++)\n\t{\n\t\tint lena = T[i].r - T[i].l + 1;\n\t\tif(lena >= m){C[i].L = -1;continue;}\n                //\u526a\u679d\u4e86\u4e00\u4e0b\uff0c\u5982\u679c\u5f53\u524d\u533a\u95f4\u957f\u5ea6\u5927\u4e8e\u7b49\u4e8em\u4e86\uff0c\u53e6\u5916\u4e00\u4e2a\u533a\u95f4\u9700\u8981\u957f\u5ea6\u5c0f\u4e8e\u7b49\u4e8e0\uff0c\u4e0d\u5b58\u5728\u7b54\u6848\n\t\tint K = n + 1;\n\t\tfor(int j = log2(n - i + 1) ; j >= 0 ; j --)\n\t\t\tif(T[K - (1 << j)].l > T[i].r && K - (1 << j) >= 1)K -= (1 << j);//\u4e8c\u5206\u6362\u6210\u500d\u589e\u4e86\u3002\n\t\tif(K != n + 1)\n\t\t\tC[i].L = K , C[i].D = T[i].cost , C[i].F = m - lena;\n\t\telse C[i].L = -1;//\u9898\u89e3\u91cc\u8bf4\u7684L\u4e0d\u5b58\u5728\uff0c\u8d4b\u503c\u4e3a-1\n\t}\n\tsort(C + 1 , C + 1 + n , cmp1);//\u6309\u7167L\u6392\u5e8f\n\tint now = 1,Ans = INF;\n\tfor(int i = n ; i >= 1 ; i --)\n\t{\n\t\tif(C[now].L == -1)break;//\u5982\u679c\u6ca1\u6709\u8be2\u95ee\u4e86\u76f4\u63a5break\n\t\tint len = T[i].r - T[i].l + 1;\n\t\tMin[len] = min(Min[len],T[i].cost);//\u626b\u7684\u65f6\u5019\u8bb0\u5f55\u957f\u5ea6\u4e3alen\u7684\u533a\u95f4\u7684\u6743\u503c\u6700\u5c0f\u503c\n\t\twhile(C[now].L == i && now <= n)\u4e00\u4e2a\u70b9\u53ef\u80fd\u6709\u591a\u4e2a\u8be2\u95ee\uff0c\u7528while\n\t\t{\n\t\t\tif(C[now].L == -1)break;//\u6ca1\u6709\u8be2\u95ee\u4e86\n\t\t\tAns = min(Ans,C[now].D + Min[C[now].F]);//O(1)\u83b7\u5f97\u7b54\u6848\uff0c\u53d6min\n\t\t\tnow ++;\n\t\t}\n\t}\n\tif(Ans == INF)\tcout << -1;\n\telse cout << Ans;\n\treturn 0;\n}\n```\n\n\u4e0b\u9762\u662f\u65e0\u6ce8\u91ca\u7248\u672c\u7684\u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\nconst int MAXN = 400005,INF = 100000000000000000;\nint n , m ;\nint Min[MAXN],cnt = 0;\n \nstruct Node {\n    int l,r,cost;\n} T[MAXN];\n \nstruct P {\n    int L,D,F;\n} C[MAXN];\n \nbool cmp(Node A , Node B)\n{\n    if(A.l != B.l)\n    return A.l < B.l;\n    return A.r < B.r;\n}\n \nint cmp1(P A, P B)\n{\n    return A.L > B.L;\n}\n \ninline int read()\n{\n    int x = 0 , flag = 1;\n    char ch = getchar();\n    for( ; ch > '9' && ch < '0' ; ch = getchar())if(ch == '-')flag = -1;\n    for( ; ch >= '0' && ch <= '9' ; ch = getchar())x = (x << 3) + (x << 1) + ch - '0';\n    return x * flag;\n}\n \nsigned main()\n{\n    n = read() , m = read();\n    for(int i = 1 ; i <= n ; i ++)\n    T[i].l = read(),T[i].r = read(),T[i].cost = read();\n    sort(T + 1 , T + 1 + n , cmp);\n    for(int i = 1 ; i <= m ; i ++)Min[i] = INF;\n    for(int i = 1 ; i <= n ; i ++)\n    {\n        int lena = T[i].r - T[i].l + 1;\n        if(lena >= m){C[i].L = -1;continue;}\n        int K = n + 1;\n        for(int j = log2(n - i + 1) ; j >= 0 ; j --)\n            if(T[K - (1 << j)].l > T[i].r && K - (1 << j) >= 1)K -= (1 << j);\n        if(K != n + 1)\n            C[i].L = K , C[i].D = T[i].cost , C[i].F = m - lena;\n        else C[i].L = -1;\n    }\n    sort(C + 1 , C + 1 + n , cmp1);\n    int now = 1,Ans = INF;\n    for(int i = n ; i >= 1 ; i --)\n    {\n        if(C[now].L == -1)break;\n        int len = T[i].r - T[i].l + 1;\n        Min[len] = min(Min[len],T[i].cost);\n        while(C[now].L == i && now <= n)\n        {\n            if(C[now].L == -1)break;\n            Ans = min(Ans,C[now].D + Min[C[now].F]);\n            now ++;\n        }\n    }\n    if(Ans == INF)    cout << -1;\n    else cout << Ans;\n    return 0;\n}\n```\n\n\u53e6\u5916\u5efa\u8bae\u4e0d\u8981\u7528$cin$,\u5982\u679c\u7528$cin$\u8bc4\u6d4b\u5f97\u5f88\u6162\uff0c\u867d\u7136\u4e0d\u4f1a\u8d85\u65f6\uff0c\u4f46\u662f\u4f60\u5f97\u8bc4\u6d4b$1$\u5206\u534a\u949f.....\uff08\u56e0\u4e3a\u4e00\u5171136\u4e2a\u70b9\uff01\uff09",
        "postTime": 1605534741,
        "uid": 67817,
        "name": "MuYC",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF822C \u3010Hacker, pack your bags!\u3011"
    }
]