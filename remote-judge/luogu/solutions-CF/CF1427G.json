[
    {
        "content": "\u9996\u5148\u4ece\u6700\u7b80\u5355\u7684\u95ee\u9898\u5f00\u59cb\u8003\u8651\uff1a\u82e5\u8fb9\u754c\u7684\u989c\u8272\u53ea\u67091\u548c2\uff0c\u5982\u4f55\u67d3\u8272\u662f\u6700\u4f18\u7684\uff1f\n\n\u7136\u540e\u53ef\u4ee5\u8003\u8651\u5efa\u7acb\u8fd9\u6837\u4e00\u4e2a\u7f51\u7edc\u6d41\u6a21\u578b\uff1a\n\n$1.$\u6e90\u70b9$S$\u5411\u6240\u6709\u989c\u8272$1$\u7684\u70b9\u8fde\u4e00\u6761\u6d41\u91cf\u65e0\u9650\u7684\u8fb9\u3002\n\n$2.$\u6240\u6709\u989c\u8272$2$\u7684\u70b9\u5411\u6c47\u70b9$T$\u8fde\u4e00\u6761\u6d41\u91cf\u65e0\u9650\u7684\u8fb9\u3002\n\n$3.$\u6240\u6709\u76f8\u90bb\u7684\u74f7\u7816\u4e4b\u95f4\u8fde\u4e00\u6761\u6d41\u91cf\u4e3a$1$\u7684\u8fb9\u3002\n\n\u7136\u540e\u8dd1\u6700\u5927\u6d41\u5373\u53ef\u3002\n\n\u4e3a\u4ec0\u4e48\u662f\u5bf9\u7684\uff1f\u5176\u5b9e\u8fd9\u662f\u4e00\u4e2a\u6700\u5c0f\u5272\u6a21\u578b\uff0c\u6700\u540e\u4e0e\u6e90\u70b9$S$\u8fde\u901a\u7684\u70b9\u76f8\u5f53\u4e8e\u9009\u4e86\u989c\u8272$1$\uff0c\u4e0e\u6c47\u70b9$T$\u8fde\u901a\u7684\u70b9\u76f8\u5f53\u4e8e\u9009\u4e86\u989c\u8272$2$\uff0c\u7136\u540e\u989c\u8272$1$\u548c\u989c\u8272$2$\u4e4b\u95f4\u4f1a\u4ea7\u751f$1$\u7684\u4ee3\u4ef7\u3002\n\n\u7136\u540e\u5f00\u59cb\u8003\u8651\u539f\u95ee\u9898\uff0c\u9996\u5148\u6709\u4e2a\u6bd4\u8f83\u663e\u7136\u7684\u7ed3\u8bba\uff08\u5e94\u8be5\u5427\uff09\uff1a\u6240\u6709\u70b9\u7684\u989c\u8272\u53ea\u4f1a\u9009\u62e9\u5728\u8fb9\u754c\u51fa\u73b0\u8fc7\u7684\u989c\u8272\u3002\n\n\u90a3\u4e48\u5047\u8bbe\u603b\u5171\u51fa\u73b0\u8fc7$m$\u4e2d\u4e0d\u540c\u7684\u989c\u8272\uff0c\u4ece\u5c0f\u5230\u5927\u4e3a$v_1,v_2,v_3,...,v_m$\u3002\n\n\u56e0\u4e3a$v_r-v_l=(v_r-v_{r-1})+(v_{r-1}-v_{r-2})+...+(v_{l+1}-v_l)$\uff0c\u8fd9\u542f\u793a\u6211\u4eec\u53ef\u4ee5\u5bf9\u6bcf\u79cd$v_{i+1}-v_i$\u5206\u522b\u6c42\u89e3\u3002\n\n\u7136\u540e\u6b63\u89e3\u4e5f\u6b63\u662f\u5982\u6b64\uff0c\u5728\u7edf\u8ba1$v_{i+1}-v_i$\n\u7684\u8d21\u732e\u65f6\uff0c\u6211\u4eec\u628a$\\le v_i$\u7684\u74f7\u7816\u5f53\u4f5c\u989c\u8272$1$\uff0c\u5176\u4f59\u74f7\u7816\u5f53\u4f5c\u989c\u8272$2$\uff0c\u7136\u540e\u7528\u6700\u5f00\u59cb\u7684\u63d0\u51fa\u7684\u89e3\u6cd5\u89e3\u51b3\u5373\u53ef\u3002\n\n\u90a3\u4e48\u73b0\u5728\u7684\u95ee\u9898\u76f8\u5f53\u4e8e\u591a\u6b21\u8be2\u95ee\u6700\u5927\u6d41\uff0c\u6bcf\u6b21\u8be2\u95ee\u4e4b\u524d\u628a\u4e00\u4e2a\u4e0e\u6c47\u70b9\u76f8\u8fde\u7684\u8fb9\u6539\u4e3a\u4e0e\u6e90\u70b9\u76f8\u8fde\u3002\n\n\u5982\u679c\u76f4\u63a5\u8dd1\u65f6\u95f4\u590d\u6742\u5ea6\u663e\u7136\u7206\u70b8\uff0c\u4f46\u5176\u5b9e\u9000\u6d41\u4e00\u4e0b\u5c31\u597d\u4e86\u3002\n\n\n\u8003\u8651\u8bc1\u660e\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u56e0\u4e3a\u6d41\u91cf\u662f$O(n)$\u7ea7\u522b\uff08\u6bcf\u4e2a\u6e90\u70b9/\u6c47\u70b9\u76f8\u8fde\u7684\u70b9\u5ea6\u6570\u6700\u5927\u4e3a$3$\uff09\uff0c\u6240\u4ee5\u4e00\u5f00\u59cb\u7684\u6700\u5927\u6d41\u662f$O(n^3)$\u7684\u3002\u540c\u7406\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u70b9\u7684\u6d41\u91cf\u662f$O(1)$\u7ea7\u522b\u7684\uff0c\u6240\u4ee5\u6bcf\u6b21\u9000\u6d41\u662f$O(n^2)$\u7684\uff0c\u56e0\u6b64\u6700\u540e\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f$O(n^3)$\u3002\n\n\u4ee3\u7801\u5b9e\u73b0\u6ca1\u5199Dinic\uff0c\u56e0\u4e3a\u66b4\u529b\u589e\u5e7f\u6709\u65f6\u95f4\u590d\u6742\u5ea6\u4fdd\u969c ~~\uff08\u5176\u5b9e\u662f\u627e\u4e86\u7bc7\u770b\u5f97\u61c2\u7684\u4ee3\u7801\u5199\u7684\u662f\u66b4\u529b\u589e\u5e7f\u5c31\u6284\u4e86\uff09~~\n\n```\n//W4P3R\n#include<bits/stdc++.h>\n#define inf 1e9\n#define eps 1e-6\n#define mp make_pair\n#define pb push_back\n#define re register int\n#define fr first\n#define sd second\n#define pa pair<ll,ll>\n#define FOR(i,a,b) for(re i=a;i<=b;i++)\n#define REP(i,a,b) for(re i=a;i>=b;i--)\n#define MEM(a) memset(a,0,sizeof(a))\n#define N 210\n#define M N*N\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef double db;\ninline ll read()\n{\n\tchar ch=getchar();\n\tll s=0,w=1;\n\twhile(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){s=s*10+ch-'0';ch=getchar();}\n\treturn s*w;\n}\ninline ll lowbit(ll x){return x&(-x);}\nll a[N][N];\nll iS[M],iT[M],vis[M];//iS[x]\uff1ax\u662f\u5426\u4e0eS\u6709\u8fb9\u3002iT[x]\u540c\u7406\u3002\nstruct edge{ll nxt,to,cap,fl;}e[M<<2];\nll h[M],cnt=1,Flow,ans;\nll n;vector<pa>v;\ninline ll idx(ll x,ll y){return (x-1)*n+y;}\ninline void add_edge(ll x,ll y)\n{\n\te[++cnt]=(edge){h[x],y,1,0};h[x]=cnt;\n\te[++cnt]=(edge){h[y],x,1,0};h[y]=cnt;\n}\nll push(ll x,ll fl)\n{\n\tif(iT[x]&&fl==+1)return 1;\n\tif(iS[x]&&fl==-1)return 1;\n\tvis[x]=1;\n\tfor(re i=h[x];i;i=e[i].nxt)\n\t{\n\t\tll y=e[i].to;\n\t\tif(fl==1&&e[i].fl==1)continue;\n\t\tif(fl==-1&&e[i].fl!=-1)continue;\n\t\tif(vis[y])continue;\n\t\tif(push(y,fl))\n\t\t{\n\t\t\te[i].fl++;\n\t\t\te[i^1].fl--;\n\t\t\treturn 1;\n\t\t}\n\t}\n\treturn 0;\n}\nint main()\n{\n\t//ios::sync_with_stdio(false);\n\t//freopen(\".in\",\"r\",stdin);\n\t//freopen(\".out\",\"w\",stdout);\n\tn=read();\n\tFOR(i,1,n)FOR(j,1,n)a[i][j]=read();\n\tFOR(i,1,n)FOR(j,1,n)if(a[i][j]>=0)\n\t{\n\t\tif(i+1<=n&&a[i+1][j]>=0)add_edge(idx(i,j),idx(i+1,j));\n\t\tif(j+1<=n&&a[i][j+1]>=0)add_edge(idx(i,j),idx(i,j+1));\n\t\tif(a[i][j]>0){iT[idx(i,j)]=1;v.pb(mp(a[i][j],idx(i,j)));}//\u4e00\u5f00\u59cb\u6240\u6709\u70b9\u90fd\u662f\u989c\u82722\n\t}\n\tsort(v.begin(),v.end());ll sz=v.size();\n\tFOR(i,0,sz-2)\n\t{\n\t\tll x=v[i].sd;\n\t\tMEM(vis);\n\t\twhile(push(x,-1)){Flow--;MEM(vis);}//\u9000\u6d41\n\t\tiT[x]=0;iS[x]=1;MEM(vis);\n\t\tFOR(j,0,i){if(!vis[v[j].sd]){while(push(v[j].sd,1)){Flow++;MEM(vis);}}}//\u9000\u6d41\u5b8c\u4e86\u4e4b\u540e\u8981\u518d\u6b21\u5c1d\u8bd5\u589e\u5e7f\n\t\tans+=(v[i+1].fr-v[i].fr)*Flow;//\u66f4\u65b0\u7b54\u6848\n\t}\n\tcout<<ans<<'\\n';\n\treturn 0;\n}\n//gl\n```\n\n\n**\u5982\u679c\u4f60\u89c9\u5f97\u8fd9\u7bc7\u9898\u89e3\u5bf9\u4f60\u6709\u5e2e\u52a9\uff0c\u90a3\u4f60\u53ef\u4ee5\u70b9\u4e2a\u8d5e\u652f\u6301\u6211\u4e00\u4e0bqwq\u3002\u5982\u679c\u4f60\u5bf9\u9898\u89e3\u6709\u4efb\u4f55\u95ee\u9898/\u8ba4\u4e3a\u6211\u7684\u9898\u89e3\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u53ef\u4ee5\u79c1\u4fe1/\u5728\u8bc4\u8bba\u533a\u53d1\u51fa\u6765\uff0c\u5f53\u7136\u5982\u679c\u4f60\u5bf9\u6211\u7684\u9898\u89e3\u6709\u4efb\u4f55\u610f\u89c1/\u5efa\u8bae\u4e5f\u6b22\u8fce\u6307\u51fa\u3002\u6211\u4f1a\u5c3d\u6211\u5168\u529b\u628a\u6211\u9898\u89e3\u5199\u5230\u6700\u597d\u7684qwq**\n",
        "postTime": 1611623819,
        "uid": 72419,
        "name": "WAPER4EVER",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1427G \u3010One Billion Shades of Grey\u3011"
    }
]