[
    {
        "content": "> [CF704B Ant Man](https://codeforces.com/contest/704/problem/B)\n\n## \u9898\u610f\n\n- \u6709 $n$ \u4e2a\u5143\u7d20\uff0c\u7b2c $i$ \u4e2a\u5143\u7d20\u6709\u4e94\u4e2a\u53c2\u6570 $x_i,a_i,b_i,c_i,d_i$\u3002\n- \u4f60\u9700\u8981\u6c42\u51fa\u4e00\u4e2a $1 \\sim n$ \u7684\u6392\u5217 $p$\uff0c\u6ee1\u8db3 $p_1 = s, p_n = e$\uff0c\u540c\u65f6\u6700\u5c0f\u5316\u8fd9\u4e2a\u6392\u5217\u7684\u6743\u503c\u3002\n- \u4e00\u4e2a\u6392\u5217\u7684\u6743\u503c\u4e3a $\\sum_{i=1}^{n-1} f(p_i, p_{i+1})$\uff0c\u5176\u4e2d $f(i,j)$ \u7684\u503c\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\n  - \u82e5 $i > j$\uff0c\u5219 $f(i,j) = x_i - x_j + c_i + b_j$\u3002\n  - \u82e5 $i < j$\uff0c\u5219 $f(i,j) = x_j - x_i + d_i + a_j$\u3002\n- $n \\le 5 \\times 10^3$\uff0c$s \\ne e$\uff0c$1 \\le x_1 < x_2 < \\cdots < x_n \\le 10^9$\uff0c$1 \\le a_i,b_i,c_i,d_i \\le 10^9$\u3002\n\n## \u9898\u89e3\n\n\u8003\u8651\u8d2a\u5fc3\uff0c\u5bf9 $s \\to e$ \u5efa\u7acb\u4e00\u4e2a\u94fe\u8868\u3002\n\n\u4ece\u5c0f\u5230\u5927\u8003\u8651 $1 \\sim n$ \u4e2d\u6bcf\u4e2a\u4e0d\u662f $s,e$ \u7684\u5143\u7d20\uff0c\u679a\u4e3e\u5b83\u5f80\u94fe\u8868\u4e2d\u63d2\u5165\u7684\u4f4d\u7f6e\uff0c\u4ece\u6700\u4f18\u7684\u4f4d\u7f6e\u63d2\u5165\u5373\u53ef\u3002\n\n\u4e3a\u4ec0\u4e48\u662f\u5bf9\u7684\u5462\uff1f\n\n\u6ce8\u610f\u5230\uff0c\u5143\u7d20\u7684\u8d21\u732e\u53ea\u548c\u5de6\u53f3\u4e24\u4e2a\u5143\u7d20\u7684\u76f8\u5bf9\u5927\u5c0f\u6709\u5173\u3002\n\n\u5148\u4e0d\u8003\u8651 $s,e$ \u7684\u60c5\u51b5\uff0c\u663e\u7136\u5143\u7d20\u662f\u4ece\u5c0f\u5230\u5927\u63d2\u5165\u7684\u3002\n\n\u8ba8\u8bba\u6bcf\u6b21\u63d2\u5165\u4e00\u4e2a\u5143\u7d20\u65f6\u8d21\u732e\u7684\u53d8\u5316\u60c5\u51b5\uff0c\u8bbe\u6b64\u65f6 $x$ \u8981\u63d2\u5165 $y \\to z$ \u7684\u4f4d\u7f6e\uff0c\u4e0d\u59a8\u8bbe $x > y > z$\u3002\n\n\u539f\u672c\u7684\u8d21\u732e\u6709\uff1a\n\n- $y$ \u5f80\u5c0f\n- \u5927\u5f80 $z$\n\n\u63d2\u5165 $x$ \u540e\u7684\u8d21\u732e\u7531\uff1a\n\n- $y$ \u5f80\u5927\n- \u5927\u5f80 $z$\n- \u5c0f\u5f80 $x$\n- $x$ \u5f80\u5c0f\n\n\u5176\u4e2d\u300c\u5927\u5f80 $z$\u300d\u7684\u8d21\u732e\u4e0d\u53d8\uff0c\u76f4\u63a5\u6d88\u6389\uff1b\u300c\u5c0f\u5f80 $x$\u300d\u548c\u300c$x$ \u5f80\u5c0f\u300d\u7684\u8d21\u732e\u662f\u56fa\u5b9a\u7684\uff0c\u4e0d\u7ba1\u4ece\u54ea\u513f\u63d2\u5165\u8fd9\u4e2a\u8d21\u732e\u90fd\u4e00\u5b9a\u5b58\u5728\uff0c\u56e0\u6b64\u53ef\u4ee5\u5ffd\u7565\u3002\n\n\u5373\u6bcf\u6b21\u4f1a\u628a\u4e00\u4e2a\u300c$y$ \u5f80\u5c0f\u300d\u7684\u8d21\u732e\u53d8\u6210\u300c$y$ \u5f80\u5927\u300d\u7684\u8d21\u732e\u3002\n\n\u540c\u7406\uff0c\u82e5 $x > z > y$\uff0c\u5219\u6bcf\u6b21\u4f1a\u628a\u4e00\u4e2a\u300c\u5c0f\u5f80 $z$\u300d\u7684\u8d21\u732e\u53d8\u6210\u300c\u5927\u5f80 $z$\u300d\u7684\u8d21\u732e\u3002\n\n\u6362\u53e5\u8bdd\u8bf4\uff0c\u5bf9\u4e8e\u4e0e\u300c\u5927\u300d\u76f8\u5173\u7684\u8d21\u732e\uff0c\u5c06\u6c38\u8fdc\u65e0\u6cd5\u88ab\u53bb\u6389\uff1b\u5bf9\u4e8e\u4e0e\u300c\u5c0f\u300d\u76f8\u5173\u7684\u8d21\u732e\uff0c\u5728\u6bcf\u4e00\u6b21\u63d2\u5165\u64cd\u4f5c\u65f6\uff0c\u4f1a\u628a\u539f\u6709\u7684\u4e00\u4e2a\u4e0e\u300c\u5c0f\u300d\u76f8\u5173\u7684\u8d21\u732e\u53d8\u6210\u4e0e\u300c\u5927\u300d\u76f8\u5173\u7684\u8d21\u732e\uff0c\u7136\u540e\u52a0\u5165\u4e24\u4e2a\u65b0\u7684\u4e0e\u300c\u5c0f\u300d\u76f8\u5173\u7684\u8d21\u732e\u3002\n\n\u8fd9\u5c31\u76f8\u5f53\u4e8e\uff0c\u6709\u4e00\u4e2a\u96c6\u5408\u5b58\u50a8\u7740\u6240\u6709\u300c\u5c0f\u300d$\\to$\u300c\u5927\u300d\u7684\u8d21\u732e\uff0c\u6bcf\u6b21\u5728\u96c6\u5408\u4e2d\u9009\u62e9\u4e00\u4e2a\u6570\u53bb\u6389\uff0c\u7136\u540e\u52a0\u5165\u4e24\u4e2a\u6570\uff0c\u8981\u4f7f\u6700\u540e\u53bb\u6389\u7684\u6570\u4e4b\u548c\u6700\u5c0f\u3002\n\n\u663e\u7136\u6bcf\u6b21\u8d2a\u5fc3\u7684\u53d6\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u73b0\u5728\u8981\u8003\u8651 $s,e$\uff0c\u6211\u4eec\u5c06\u5143\u7d20\u5206\u6210 $[1, \\min(s,e) - 1],[\\min(s,e) + 1, \\max(s,e) - 1],[\\max(s,e) + 1, n]$ \u4e09\u4e2a\u90e8\u5206\u5206\u522b\u8ba8\u8bba\uff0c\u53ef\u4ee5\u53d1\u73b0\u8fc7\u7a0b\u548c\u4e0a\u9762\u7684\u7c7b\u4f3c\u3002\n\n\u56e0\u6b64\u8fd9\u6837\u8d2a\u5fc3\u662f\u6b63\u786e\u7684\u3002\n\n\u7531\u4e8e\u672c\u9898 $n$ \u8f83\u5c0f\uff0c\u53ef\u4ee5\u76f4\u63a5 $\\mathcal O(n^2)$ \u89e3\u51b3\uff0c\u4f46\u6839\u636e\u4e0a\u8ff0\u8ba8\u8bba\uff0c\u6211\u4eec\u663e\u7136\u53ef\u4ee5\u4f18\u5316\u81f3 $\\mathcal O(n \\log n)$\u3002\n\n## \u4ee3\u7801\n\n```cpp\nconst int N = 5e3 + 7;\nint n, s, e, t[N];\nll x[N], a[N], b[N], c[N], d[N], ans;\n\ninline ll S(int i, int j) {\n\treturn i < j ? x[j] - x[i] + d[i] + a[j] : x[i] - x[j] + c[i] + b[j];\n}\n\nint main() {\n\trd(n), rd(s), rd(e);\n\trda(x, n), rda(a, n), rda(b, n), rda(c, n), rda(d, n);\n\tans = S(s, e), t[s] = e;\n\tfor (int i = 1; i <= n; i++)\n\t\tif (i != s && i != e) {\n\t\t\tpair<ll, int> o = mp((ll)1e18, 0);\n\t\t\tfor (int j = s; j != e; j = t[j])\n\t\t\t\to = min(o, mp(S(j, i) + S(i, t[j]) - S(j, t[j]), j));\n\t\t\tt[i] = t[o.se], t[o.se] = i, ans += o.fi;\n\t\t}\n\tprint(ans);\n\treturn 0;\n}\n```",
        "postTime": 1583328275,
        "uid": 100544,
        "name": "xht",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF704B \u3010Ant Man\u3011"
    },
    {
        "content": "\u697c\u4e0a\u8d2a\u5fc3 tql\uff0c\u8fd9\u91cc\u662f\u4e00\u4e2a lj dp\u505a\u6cd5\u3002\n\n\u90fd\u77e5\u9053\u4ee4 $a_i=a_i+x_i,b_i=b_i-x_i,c_i=c_i+x_i,d_i=d_i-x_i$ \u4e4b\u540e\uff0c\n\n$$\nw(i,j)=\\begin{cases}d_i+a_j,&i<j \\\\c_i+b_j,&i>j\\end{cases}\n$$\n\n\u4e8e\u662f\u53ea\u7528\u8003\u8651\u6bcf\u4e2a\u70b9\u7684\u5165\u8fb9\u548c\u51fa\u8fb9\u7684\u65b9\u5411\u3002\n\n\u65e2\u7136\u662f\u8981\u8003\u8651\u65b9\u5411\uff0c\u90a3\u5c31\u4ece\u5de6\u5230\u53f3\u5b9a\u6bcf\u4e2a\u70b9\u7684\u8fde\u8fb9\u65b9\u5411\uff0c\u4e2d\u9014\u8fc7\u7a0b\u4f1a\u5f62\u6210\u5f88\u591a\u6761\u94fe\uff0c\u53ea\u8981\u4fdd\u8bc1\u6700\u540e\u53ea\u6709\u4e00\u6761\u94fe\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u8bbe $dp_{i,p}$ \u8868\u793a\u524d $i-1$ \u4e2a\u70b9\uff0c\u5f62\u6210\u4e86 $p$ \u6761\u94fe\u7684\u6700\u5c0f\u6743\u503c\u548c\u3002\u8f6c\u79fb\u5230 $dp_{i+1,?}$\uff0c\u521d\u503c $dp_{1,0}=0$\n\n\u5148\u8003\u8651 $i\\neq s,e$\uff0c\u9996\u5148 $s$ \u4f1a\u5f62\u6210\u4e00\u6761\u94fe\uff0c$e$ \u4e5f\u4f1a\u5f62\u6210\u4e00\u6761\u94fe\uff0c\u5e76\u4e14\u8fd9\u4e24\u6761\u94fe\u5728\u6700\u540e\u624d\u4f1a\u5408\u5e76\uff0c\u6240\u4ee5 $p\\ge [i>s]+[i>e]$\u3002\n\n1. $i$ \u7684\u51fa\u8fb9\u4ece\u5de6\u5230\u53f3\uff0c\u5165\u8fb9\u4ece\u53f3\u5230\u5de6\uff0c\u90a3\u4e48\u4f1a\u5408\u5e76\u4e24\u6761\u94fe\uff0c\u6240\u4ee5\u8981\u6c42 $p\\ge 2$\uff0c$dp_{i+1,p-1}\\leftarrow dp_{i,p}+a_i+c_i$\u3002\n2. $i$ \u7684\u51fa\u8fb9\u4ece\u53f3\u5230\u5de6\uff0c\u5165\u8fb9\u4ece\u5de6\u5230\u53f3\uff0c\u90a3\u4e48\u4f1a\u5f62\u6210\u4e00\u6761\u65b0\u7684\u94fe\uff0c\u6240\u4ee5 $dp_{i+1,p+1}\\leftarrow dp_{i,p}+b_i+d_i$\u3002\n3. $i$ \u8fde\u8fb9\u90fd\u662f\u4ece\u5de6\u5230\u53f3\uff0c\u94fe\u6570\u6ca1\u6709\u53d8\u5316\uff0c\u4f46\u662f\u4ee5 $e$ \u7ed3\u5c3e\u7684\u94fe\u662f\u4e0d\u80fd\u8fde\u51fa\u8fb9\u7684\uff0c\u6240\u4ee5\u8981\u6c42 $p>[i>e]$\uff0c$dp_{i+1,p}\\leftarrow dp_{i,p}+a_i+d_i$\u3002\n4. $i$ \u8fde\u8fb9\u90fd\u662f\u4ece\u53f3\u5230\u5de6\uff0c\u94fe\u6570\u6ca1\u6709\u53d8\u5316\uff0c\u4f46\u662f\u4ee5 $s$ \u5f00\u5934\u7684\u94fe\u662f\u4e0d\u80fd\u88ab\u8fde\u8fb9\u7684\uff0c\u6240\u4ee5\u8981\u6c42 $p>[i>s]$\uff0c$dp_{i+1,p}\\leftarrow dp_{i,p}+b_i+c_i$\u3002\n\n\u5f53 $i=s$ \u7684\u65f6\u5019\u53ea\u7528\u8003\u8651\u51fa\u8fb9\uff0c$i=e$ \u65f6\u53ea\u7528\u8003\u8651\u5165\u8fb9\uff0c\u548c\u4e0a\u9762\u7684\u540c\u7406\u3002\n\n\u7b54\u6848 $dp_{n+1,1}$\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define Rint register int\nusing namespace std;\ntypedef long long LL;\nconst int N = 5003;\nint n, s, t, x[N], a[N], b[N], c[N], d[N], cur;\nLL dp[2][N];\ntemplate<typename T>\ninline bool chkmin(T &a, const T &b){if(a > b) return a = b, 1; return 0;}\nint main(){\n\tscanf(\"%d%d%d\", &n, &s, &t);\n\tfor(Rint i = 1;i <= n;++ i) scanf(\"%d\", x + i);\n\tfor(Rint i = 1;i <= n;++ i) scanf(\"%d\", a + i), a[i] += x[i];\n\tfor(Rint i = 1;i <= n;++ i) scanf(\"%d\", b + i), b[i] -= x[i];\n\tfor(Rint i = 1;i <= n;++ i) scanf(\"%d\", c + i), c[i] += x[i];\n\tfor(Rint i = 1;i <= n;++ i) scanf(\"%d\", d + i), d[i] -= x[i];\n\tmemset(dp[0], 0x7F, sizeof dp[0]);\n\tdp[0][0] = 0;\n\tfor(Rint i = 1;i <= n;++ i, cur ^= 1){\n\t\tmemset(dp[cur ^ 1], 0x7F, sizeof dp[cur ^ 1]);\n\t\tif(i == s){\n\t\t\tfor(Rint p = (i > t);p < i;++ p){\n\t\t\t\tif(p) chkmin(dp[cur ^ 1][p], dp[cur][p] + c[i]);\n\t\t\t\tchkmin(dp[cur ^ 1][p + 1], dp[cur][p] + d[i]);\n\t\t\t}\n\t\t} else if(i == t){\n\t\t\tfor(Rint p = (i > s);p < i;++ p){\n\t\t\t\tif(p) chkmin(dp[cur ^ 1][p], dp[cur][p] + a[i]);\n\t\t\t\tchkmin(dp[cur ^ 1][p + 1], dp[cur][p] + b[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tfor(Rint p = (i > s) + (i > t);p < i;++ p){\n\t\t\t\tif(p > (i > s)) chkmin(dp[cur ^ 1][p], dp[cur][p] + b[i] + c[i]);\n\t\t\t\tif(p > (i > t)) chkmin(dp[cur ^ 1][p], dp[cur][p] + a[i] + d[i]);\n\t\t\t\tif(p >= 2) chkmin(dp[cur ^ 1][p - 1], dp[cur][p] + a[i] + c[i]);\n\t\t\t\tchkmin(dp[cur ^ 1][p + 1], dp[cur][p] + b[i] + d[i]);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%I64d\\n\", dp[cur][1]);\n}\n```",
        "postTime": 1578902771,
        "uid": 68148,
        "name": "watermoon",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF704B \u3010Ant Man\u3011"
    },
    {
        "content": "### CF704B Ant Man \u9898\u89e3\n\n\u5927\u4f6c\u7684\u9898\u89e3\u90fd\u662f$O(n^2)$\u7684\uff0c\u849f\u84bb\u6765\u8865\u5145\u4e00\u7bc7$O(n \\log n)$\u7684\u9898\u89e3\u3002\n\n\u53c2\u8003\u4e86xht37\u7684\u9898\u89e3\u548cTA201314\u7684\u9898\u89e3.\n\n[\u9898\u9762](https://www.luogu.com.cn/problem/CF704B)\n\n---\n\u6211\u4eec\u5206\u5f00\u8003\u8651\u67d0\u4e2a\u6570$i$\u6709\u54ea\u4e9b4\u7c7b\u8d21\u732e\n\n- A \u5c0f->i $A_i=x_i+a_i$\n- B \u5927->i $B_i=-x_i+b_i$\n- C i->\u5c0f $C_i=x_i+c_i$\n- D i->\u5927 $D_i=-x_i+d_i$\n\n---\n\n\u5929\u9a6c\u884c\u7a7a\u7684\u60f3\uff0c\u6211\u4eec\u4e0d\u7ba1$s,e$\u4f5c\u4e3a\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u9650\u5236(\u6216\u8005\u8bf4$s=1,e=2$)\uff0c\u53ea\u662f**\u4ece\u5c0f\u5230\u5927\u7684**\u63d2\u5165\u8fd9$n$\u4e2a\u6570(\u8fd9\u663e\u7136\u5bf9\u7b54\u6848\u6ca1\u6709\u5f71\u54cd)\uff0c\u8003\u8651\u589e\u91cf\u6784\u9020\u3002\n\n\u4e00\u6b21\u63d2\u5165\u7684$i$\u6c38\u8fdc\u662f\u5f53\u524d\u7f16\u53f7\u6700\u5927\u7684\u90a3\u4e2a\uff0c\u56e0\u6b64\u7b54\u6848\u4e00\u5b9a\u4f1a\u589e\u52a0$A_i+C_i$\u7684\u8d21\u732e\uff08\u8fd9\u662f\u80af\u5b9a\u7684\uff09\u3002\n\n\u7136\u540e\u6211\u4eec\u8003\u8651\u4e24\u79cd\u60c5\u51b5\uff0c\u82e5$i$\u63d2\u5165\u4e86$x\\rightarrow y$\u7684\u7a7a\u9699\u4e2d\u3002\n\n- $x>y$ \u6b64\u65f6$x$\u7684\u8d21\u732e\u7531$C_x$\u53d8\u4e3a$D_x$,\u53ef\u4ee5\u8ba4\u4e3a\u7b54\u6848$+(D_x-C_x)$\u3002\u5728\u6b64\u4e4b\u540e\uff0c$x$\u7684\u540e\u7ee7\u4e00\u5b9a\u5927\u4e8e$x$,\u6240\u4ee5$x$\u4e0e$x$\u7684\u540e\u7ee7\u4ea7\u751f\u7684\u8d21\u732e\u4e0d\u518d\u53d8\u5316\u3002\n\n- $x<y$ \u6b64\u65f6$y$\u7684\u8d21\u732e\u7531$A_y$\u53d8\u4e3a\u4e86$B_y$,\u53ef\u4ee5\u8ba4\u4e3a\u7b54\u6848$+(B_y-A_y)$\u3002\u5728\u6b64\u4e4b\u540e\uff0c$y$\u7684\u524d\u9a71\u4e00\u5b9a\u5927\u4e8e$y$,\u6240\u4ee5$y$\u4e0e$y$\u7684\u524d\u9a71\u4ea7\u751f\u7684\u8d21\u732e\u4e0d\u518d\u53d8\u5316\u3002\n\n\u6211\u4eec\u5982\u679c\u628a\u6240\u6709\u5bf9\u7b54\u6848\u7684\u8d21\u732e(\u4e5f\u5c31\u662f\u4e0a\u6587\u63d0\u5230\u7684$+(D_x-C_x)$,$+(B_y-A_y)$)\u7528\u6570\u636e\u7ed3\u6784\u7ef4\u62a4\uff0c\u6211\u4eec\u53d1\u73b0\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u88ab\u7406\u89e3\u4e3a\u5982\u4e0b\u4e09\u4e2a\u6b65\u9aa4\uff1a\n\n**(1)** \u7ed9\u7b54\u6848\u52a0\u4e0a\u4e00\u4e2a$A_i+C_i$\u3002\n\n**(2)** \u4ece\u6570\u636e\u7ed3\u6784\u53d6\u4e00\u4e2a\u503c\u52a0\u5230\u7b54\u6848\u4e0a\uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u503c\u5220\u6389(\u8fd9\u4e2a\u503c\u4e0d\u53ef\u80fd\u518d\u88ab\u4f7f\u7528\u4e86)\u3002\n\n**(3)** \u5411\u6570\u636e\u7ed3\u6784\u4e2d\u6dfb\u52a0\u4e24\u4e2a\u65b0\u7684\u503c$B_i-A_i,D_i-C_i$\uff0c\u8868\u793a\u65b0\u5efa\u51fa\u4e24\u4e2a\u7a7a\u9699\u53ef\u80fd\u589e\u52a0\u7684\u8d21\u732e\u3002\n\n\u6211\u4eec\u5e0c\u671b\u7b54\u6848\u6700\u5c0f\uff0c\u6240\u4ee5(2)\u4e2d\u53d6\u51fa\u5f53\u524d\u7684\u6700\u5c0f\u503c\u3002\u663e\u7136\u8fd9\u79cd\u6570\u636e\u7ed3\u6784**\u5c0f\u6839\u5806**\u3002\n\n---\n\n\u8003\u8651$s,e$\u7684\u9650\u5236\u3002\u6211\u4eec\u6839\u636e\u589e\u91cf\u6784\u9020\u6cd5\uff0c\u4ee4$ans=calc(s,e)$\uff0c\u521d\u59cb\u5e8f\u5217\u4e3a$s,e$\u3002\n\n\u6ce8\u610f\u5230\u6211\u4eec\u5e76\u4e0d\u80fd\u4fdd\u8bc1i\u662f\u5f53\u524d\u7684\u6700\u5927\u503c\uff0c\u4e5f\u5c31\u662f\u64cd\u4f5c **(1)** \u4e0d\u4e00\u5b9a\u5408\u6cd5\u3002\u6211\u4eec\u6709\u5982\u4e0b\u5de7\u5999\u7684\u505a\u6cd5\uff1a\n\n- \u5f53$i<s$\u65f6\uff0c\u6211\u4eec\u628a\u63d2\u5165$B_i-A_i$\u63d0\u524d\u5728 **(2)** \u64cd\u4f5c\u4e4b\u524d\u3002\u8fd9\u6837\u6211\u4eec\u867d\u7136\u4e0d\u80fd\u4fdd\u8bc1$A_i$\u662f\u5408\u6cd5\u7684\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u4ece\u5806\u91cc\u53d6\u51fa\u4e86$B_i-A_i$,\u76f8\u5f53\u4e8e\u6211\u4eec\u9009\u4e86$B_i$\u4f5c\u4e3a\u521d\u59cb\u7b54\u6848\uff0c\u5373$i$\u5de6\u4fa7\u53ef\u80fd\u8fde\u7684\u662f$s$(\u53f3\u4fa7\u662f\u5408\u6cd5\u7684\uff0c\u6240\u4ee5\u6ca1\u6709\u65b0\u589e\u8d21\u732e\u4ea7\u751f)\n\n- \u5f53$i<e$\u65f6\uff0c\u6211\u4eec\u628a\u63d2\u5165$D_i-C_i$\u63d0\u524d\u5728 **(2)** \u64cd\u4f5c\u4e4b\u524d\u3002\u8fd9\u6837\u6211\u4eec\u867d\u7136\u4e0d\u80fd\u4fdd\u8bc1$C_i$\u662f\u5408\u6cd5\u7684\uff0c\u4f46\u662f\u5982\u679c\u6211\u4eec\u4ece\u5806\u91cc\u53d6\u51fa\u4e86$D_i-C_i$,\u76f8\u5f53\u4e8e\u6211\u4eec\u9009\u4e86$D_i$\u4f5c\u4e3a\u521d\u59cb\u7b54\u6848\uff0c\u5373$i$\u53f3\u4fa7\u53ef\u80fd\u8fde\u7684\u662f$e$.(\u5de6\u4fa7\u662f\u5408\u6cd5\u7684\uff0c\u6240\u4ee5\u6ca1\u6709\u65b0\u589e\u8d21\u732e\u4ea7\u751f)\n\n- \u5f53$i=1\\&s\\ne1\\&e \\ne 1$,\u5de6\u53f3\u4fa7\u90fd\u6709\u53ef\u80fd\u4e0d\u5408\u6cd5\uff0c\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6240\u4ee5\u6211\u4eec\u63d0\u524d\u5f3a\u5236\u63d2\u51651\u3002\n\n\u5f53\u7136$i=s\\|i=e$\u662f\uff0c\u6211\u4eec\u4e0d\u5fc5\u8981\u6267\u884c\u6240\u6709\u64cd\u4f5c\uff08\u56e0\u4e3a\u5df2\u7ecf\u7b97\u8fc7\u4e86\uff09\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5206\u522b\u5411\u5c0f\u6839\u5806\u4e2d\u6dfb\u52a0$D_s-C_s$\u548c$B_e-A_e$,\u8868\u793a\uff1a\u5728\u8ba1\u7b97s\u7684\u65f6\u5019,\u6211\u4eec\u9ed8\u8ba4\u662fs->\u5c0f\uff0c\u73b0\u5728\u63d0\u4f9b\u4e00\u79cd\u53ef\u80fd\u8ba9s->\u5c0f\u53d8\u4e3as->\u5927\u3002\uff08e\u540c\u7406\uff09\n\n\u6700\u540e\u8f93\u51fa\u7b54\u6848\u5373\u53ef.~~\u6240\u4ee5\u8fd9\u9053\u9898\u53ef\u4ee5\u88ab\u52a0\u5f3a\u5230$N\\le10^6$\u7684(duliu)~~\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long int64;\nconst int N = 5005;\n\nint n , s , e;\nint64 x[N] , a[N] , b[N] , c[N] , d[N];\nint64 calc(int i , int j) {\n    if(i < j) return x[j] - x[i] + d[i] + a[j];\n    else return x[i] - x[j] + c[i] + b[j];\n}\ntemplate<typename _T>\ninline void read(_T &x) {\n    x = 0 ; char c = getchar(); bool f = 0;\n    while(c < '0' || c > '9') f |= (c=='-') , c = getchar();\n    while(c >= '0' && c <= '9') x = x * 10 + (c^48) , c = getchar();\n    if(f) x = -x;\n}\nvoid input(int64* t) { for(int i = 1 ; i <= n ; ++i) read(t[i]); }\n\npriority_queue<int64 , vector<int64> , greater<int64> > heap;\nint64 ans = 0;\nvoid init() {\n    read(n) , read(s) , read(e);\n    input(x) , input(a) , input(b) , input(c) , input(d);\n    if(s == 1 || e == 1) ans = calc(s , e);\n    else ans = calc(s , 1) + calc(1 , e);\n    //\u6ce8\u610f\u7279\u52241,\u56e0\u4e3a1\u7684\u5de6\u53f3\u4e24\u7aef(\u4e00\u7aef)\u90fd\u662f\u6bd4\u4ed6\u5c0f\u7684\u6570\uff0c\u6240\u4ee5\u5f97\u7279\u5224\n}\n\nint main() {\n    init();\n    for(int64 i = 2 ; i <= n ; ++i) {\n        int64 A = x[i] + a[i] , B = -x[i] + b[i] , C = x[i] + c[i] , D = -x[i] + d[i];\n        //A:\u5c0f->i B:\u5927->i C:i->\u5c0f D:i->\u5927\n        if(i == s) //\u5728\u8ba1\u7b97s\u7684\u65f6\u5019,\u6211\u4eec\u9ed8\u8ba4\u662fs->\u5c0f\uff0c\u73b0\u5728\u63d0\u4f9b\u4e00\u79cd\u53ef\u80fd\u8ba9s->\u5c0f\u53d8\u4e3as->\u5927\n            heap.push(D-C);\n        else if(i == e)//\u8ddf\u4e0a\u9762\u90a3\u4e2a\u5206\u6790\u5dee\u4e0d\u591a\n            heap.push(B-A);\n        else {\n            ans += A+C;//\u6211\u4eec\u5148\u9ed8\u8ba4\u5b83\u5de6\u53f3\u4e24\u8fb9\u90fd\u662f\u6bd4\u4ed6\u5c0f\u7684\u6570\n            if(i < s) heap.push(B-A);\n            if(i < e) heap.push(D-C);\n            ans += heap.top() , heap.pop();\n            if(i > s) heap.push(B-A);\n            if(i > e) heap.push(D-C);            \n        }\n    }\n    cout << ans << endl;\n}\n```",
        "postTime": 1589423223,
        "uid": 138511,
        "name": "GreenDay",
        "ccfLevel": 8,
        "title": "CF704B Ant Man \u9898\u89e3"
    },
    {
        "content": "[\u6211\u7684\u535a\u5ba2](https://www.yijan.co/cf704b-ant-man/)\n\n\u8003\u8651\u5bf9\u4e8e\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5982\u679c\u5b83\u4e0d\u662f $s,e$ \uff0c\u90a3\u4e48\u8fd9\u4e2a\u4f4d\u7f6e\u5fc5\u7136\u6709\u4e00\u4e2a\u5165\u5ea6\u4e00\u4e2a\u51fa\u5ea6\u3002\u4e5f\u5c31\u662f\u8bf4\u4e00\u4e2a\u4f4d\u7f6e\u7684\u65b9\u6848\u6709\u4ece\u53f3\u8fb9\u8fdb\u5165\uff0c\u4ece\u5de6\u8fb9\u8fdb\u5165\uff0c\u5411\u5de6\u8fb9\u51fa\u53bb\uff0c\u5411\u53f3\u8fb9\u51fa\u53bb\u3002\n\n\u6211\u4eec\u8003\u8651\u5f53\u524d\u5df2\u7ecf\u586b\u5b8c\u4e86\u524d $i$ \u4e2a\u4f4d\u7f6e\uff0c\u5230\u73b0\u5728\u4e3a\u6b62\u8fd8\u5269 $j$ \u4e2a\u5411\u5de6\u7684\u8fb9\u548c $k$ \u4e2a\u5411\u53f3\u7684\u8fb9\u3002\u4e0d\u96be\u53d1\u73b0\uff0c\u5982\u679c\u8fd9\u4e2a\u70b9\u4e0d\u662f $s,e$ \u7684\u4e00\u79cd\uff0c\u90a3\u4e48\u5bf9\u4e8e\u4efb\u4f55\u4e00\u79cd\u586b\u8fd9\u4e2a\u70b9\u8fb9\u7684\u65b9\u6848\uff0c\u8981\u4e48\u4f7f\u5411\u5de6\u7684\u3001\u5411\u53f3\u7684\u8fb9\u7684\u4e2a\u6570\u540c\u65f6 $+1,-1$ \u8981\u4e48\u4f7f\u5411\u5de6\u3001\u5411\u53f3\u7684\u8fb9\u7684\u4e2a\u6570\u4e0d\u53d8\uff0c\u5206\u522b\u5bf9\u5e94\uff1a\n\n![](https://yijan.oss-cn-chengdu.aliyuncs.com/img/DB76CAAB-723F-48C4-AAAC-6816BE086872.png)\n\n\u7136\u540e\u5982\u679c\u65b0\u589e\u7684\u70b9\u662f $s$ \uff0c\u90a3\u4e48\u53ea\u80fd\u662f\n\n![](https://yijan.oss-cn-chengdu.aliyuncs.com/img/BC5745CF-8E85-464D-9559-D5BC8E01F523.png)\n\n\u5982\u679c\u65b0\u589e\u7684\u70b9\u662f $t$ \uff0c\u90a3\u4e48\u53ea\u80fd\u662f\u53cd\u8fc7\u6765\u7684\u3002\n\n\u4e8e\u662f\u6211\u4eec\u8003\u8651\u4e00\u4e2a $dp$ \uff0c\u8bbe $dp[i][j]$ \u8868\u793a\u5f53\u524d\u5728 $i$ \u8fd9\u4e2a\u4f4d\u7f6e\uff0c\u7136\u540e\uff1a\n\n- \u5982\u679c\u5f53\u524d $i < s,i < e$ \uff0c\u90a3\u4e48\u8fd8\u5269 $j$ \u4e2a\u5411\u53f3\uff0c$j$ \u4e2a\u5411\u5de6\u7684\u8fb9\u3002\n- \u5982\u679c\u5f53\u524d $s < i < e$ \uff0c\u90a3\u4e48\u8fd8\u5269 $j$ \u4e2a\u5411\u53f3\uff0c$j - 1$ \u4e2a\u5411\u5de6\u7684\u8fb9\u3002\n- \u5982\u679c\u5f53\u524d $e < i < s$\uff0c\u90a3\u4e48\u8fd8\u5269 $j - 1$ \u4e2a\u5411\u53f3\uff0c$j$ \u4e2a\u5411\u5de6\u7684\u8fb9\u3002\n- \u5982\u679c\u5f53\u524d $i > s,i > e$ \uff0c\u90a3\u4e48\u8fd8\u5269 $j - 1$ \u4e2a\u5411\u53f3\uff0c$j - 1$ \u4e2a\u5411\u5de6\u7684\u8fb9\u3002\n\n\u8003\u8651\u4ec0\u4e48\u72b6\u6001\u3001\u8f6c\u79fb\u4e0d\u5408\u6cd5\uff1a\n\n- \u5982\u679c $j \\le 0 , i \\neq 0$ \uff0c\u663e\u7136\u8fd9\u4e2a\u72b6\u6001\u5fc5\u7136\u4e0d\u5408\u6cd5\u3002\n- \u5982\u679c\u5f53\u524d\u6709 $i > s,i > e,i \\neq n$ \u90a3\u4e48\u5bf9\u4e8e $j \\le 1$ \u90fd\u4e0d\u5408\u6cd5\u3002 \u56e0\u4e3a\u5982\u679c\u8fd9\u4e2a\u4f4d\u7f6e\u5728 $s,e$ \u4e4b\u540e\u4e86\uff0c\u90a3\u4e48\u524d\u9762\u5fc5\u987b\u5f97\u6709\u63a5\u53e3\u53ef\u4ee5\u63a5\u5165 $s-e$ \u8fd9\u6761\u94fe\u3002\u4e0d\u7136\u7684\u8bdd\u6211\u4eec\u5c31\u4f1a\u8f6c\u79fb\u51fa $s-t$ \u4e00\u6761\u94fe\u52a0\u4e0a\u5f88\u591a\u73af\u7684\u60c5\u51b5\uff08\u4e0d\u51fa\u610f\u5916\u5e94\u8be5\u4f1a WA 7\uff09\u3002\n- \u5982\u679c\u5f53\u524d\u6709 $i > s,j = 1$ \u4e0d\u80fd\u8d70\u6700\u524d\u9762\u8bf4\u7684\u7b2c\u56db\u79cd\u8f6c\u79fb\uff0c\u867d\u7136\u662f\u4ece $(i,j) \\to (i,j)$ \u4f46\u662f\u8fd9\u4e2a\u4f4d\u7f6e\u524d\u9762\u5e76\u6ca1\u6709\u5411\u5de6\u7684\u8fb9\u5b58\u5728\uff0c\u6240\u4ee5\u4e0d\u80fd\u8fd9\u4e48\u63a5\u8fdb\u53bb\u3002\n- \u540c\u7406\u7684\uff0c\u5982\u679c\u5f53\u524d\u6709 $i > e,j = 1$ \u4e0d\u80fd\u8d70\u6700\u524d\u9762\u8bf4\u7684\u7b2c\u4e09\u79cd\u8f6c\u79fb\u3002\uff08\u5982\u679c\u6ca1\u6709\u8003\u8651\u540e\u9762\u4e24\u79cd\u60c5\u51b5\u4e0d\u51fa\u610f\u5916\u4f1a\u76f4\u63a5 WA 5\uff09\n\n\u4ee3\u7801\u5199\u7740\u8fd8\u662f\u86ee\u723d\u7684\uff0c\u53ea\u662f\u5f00\u59cb\u6ca1\u8003\u8651\u5230\u4e0d\u5408\u6cd5\u7684\u8f6c\u79fb\uff08\u597d\u5728\u7279\u6b8a\u60c5\u51b5 $n=4$ \u90fd\u80fd\u62cd\u51fa\u6765 QwQ\uff09\u3002\n\n\u8fd8\u662f Orz \u4e0a\u9762\u7684\u8d2a\u5fc3\u3002\n\n```cpp\n#include \"iostream\"\n#include \"algorithm\"\n#include \"cstring\"\n#include \"cstdio\"\n#include \"cmath\"\n#include \"vector\"\n#include \"map\"\n#include \"set\"\n#include \"queue\"\nusing namespace std;\n#define MAXN 5006\n//#define int long long\n#define rep(i, a, b) for (int i = (a), i##end = (b); i <= i##end; ++i)\n#define per(i, a, b) for (int i = (a), i##end = (b); i >= i##end; --i)\n#define pii pair<int,int>\n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\n#define eb emplace_back\n#define vi vector<int>\n#define all(x) (x).begin() , (x).end()\n#define mem( a ) memset( a , 0 , sizeof a )\ntypedef long long ll;\nint n , s , e;\nll dp[MAXN][MAXN];\nint A[MAXN] , B[MAXN] , C[MAXN] , D[MAXN] , x[MAXN];\n\nvoid solve() {\n\tcin >> n >> s >> e;\n\trep( i , 1 , n ) scanf(\"%d\",x + i);\n\trep( i , 1 , n ) scanf(\"%d\",A + i);\n\trep( i , 1 , n ) scanf(\"%d\",B + i);\n\trep( i , 1 , n ) scanf(\"%d\",C + i);\n\trep( i , 1 , n ) scanf(\"%d\",D + i);\n\tmemset( dp , 0x3f , sizeof dp );\n\tdp[1][1] = ( s != 1 ? B[1] - x[1] : 0 ) + ( e != 1 ? D[1] - x[1] : 0 );\n\trep( i , 2 , n - 1 ) {\n\t\tif( i != s && i != e ) {\n\t\t\trep( j , ( i > s && i > e ? 2 : 1 ) , i ) {\n\t\t\t\tif( i <= s || j != 1 ) dp[i][j] = min( dp[i][j] , dp[i - 1][j] + B[i] + C[i] );\n\t\t\t\tif( i <= e || j != 1 ) dp[i][j] = min( dp[i][j] , dp[i - 1][j] + A[i] + D[i] );\n\t\t\t\tdp[i][j + 1] = min( dp[i][j + 1] , dp[i - 1][j] + B[i] - x[i] + D[i] - x[i] );\n\t\t\t\tif( j != 1 ) dp[i][j - 1] = min( dp[i][j - 1] , dp[i - 1][j] + A[i] + x[i] + C[i] + x[i] );\n\t\t\t}\n\t\t} else if( i == s ) {\n\t\t\trep( j , 1 , i ) {\n\t\t\t\tdp[i][j] = min( dp[i][j] , dp[i - 1][j] + C[i] + x[i] );\n\t\t\t\tdp[i][j + 1] = min( dp[i][j + 1] , dp[i - 1][j] + D[i] - x[i] );\n\t\t\t}\n\t\t} else if( i == e ) {\n\t\t\trep( j , 1 , i ) {\n\t\t\t\tdp[i][j + 1] = min( dp[i][j + 1] , dp[i - 1][j] + B[i] - x[i] );\n\t\t\t\tdp[i][j] = min( dp[i][j] , dp[i - 1][j] + A[i] + x[i] );\n\t\t\t}\n\t\t}\n\t}\n//\tcout << dp[2][1] << endl;\n//\tcout << dp[2][1] << endl;\n\tll res = 0;\n//\tcout << dp[3][1] << endl;\n//\tcout << C[n] + x[n] << endl;\n\tres = dp[n - 1][1 + ( s != n && e != n )] + ( s != n ? A[n] + x[n] : 0 ) + ( e != n ? C[n] + x[n] : 0 );\n\tcout << res << endl;\n}\n\nsigned main() {\n//\tfreopen(\"input\",\"r\",stdin);\n//    int T;cin >> T;while( T-- ) solve();\n\tsolve();\n}\n```\n\n",
        "postTime": 1602248430,
        "uid": 63398,
        "name": "yijan",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF704B \u3010Ant Man\u3011"
    },
    {
        "content": "\u96c6\u8bad\u961f\u4f5c\u4e1a\u5c45\u7136\u6709 *2500 \u7684\u9898\u3002![qq_emoji: jy](https://xn--9zr.tk/jy)![qq_emoji: jy](https://xn--9zr.tk/jy)![qq_emoji: jy](https://xn--9zr.tk/jy)\n\n\u628a\u8d21\u732e\u62c6\u4e00\u4e0b\uff0c$f(i,j)$ \u4e2d $i,j$ \u7684\u8d21\u732e\u662f\u72ec\u7acb\u7684\uff0c\u5f88\u65b9\u4fbf\u6211\u4eec\u5206\u522b\u8003\u8651\u8ba1\u7b97\u3002\n\n\u5177\u4f53\u6765\u8bf4\u8d21\u732e\u6709\u56db\u7c7b\uff1a\n\n- \u5de6\u8fb9\u6bd4 $i$ \u5927\uff1a$-x_i+b_i$\uff1b\n- \u5de6\u8fb9\u6bd4 $i$ \u5c0f\uff1a$x_i+c_i$\uff1b\n- \u53f3\u8fb9\u6bd4 $i$ \u5927\uff1a$-x_i+d_i$\uff1b\n- \u53f3\u8fb9\u6bd4 $i$ \u5c0f\uff1a $x_i+a_i$\u3002\n\n\u7136\u540e\u6309\u7167 [JOI \u6469\u5929\u5927\u697c](https://loj.ac/p/2743) \u90a3\u4e2a\u9898\u7684\u5957\u8def\u6765\u505a\uff0c$dp_{i,j}$ \u8868\u793a\u586b\u4e86\u524d $i$ \u4e2a\u6570\uff0c\u5f53\u524d\u6709 $j$ \u4e2a\u8fde\u7eed\u6bb5\u7684\u6700\u5c0f\u503c\u3002\n\n\u4ece\u5c0f\u5230\u5927\u52a0\u5165\u6570\u5b57\uff0c\u8f6c\u79fb\u5206\u4e09\u7c7b\u8ba8\u8bba\uff1a\n\n- \u5f53\u524d\u70b9\u662f $s$\uff0c\u5206\u6210\u65b0\u5f00\u4e00\u6bb5\uff08\u53f3\u8fb9\u6bd4\u4ed6\u5927\uff09\u548c\u63a5\u5728\u4e00\u6bb5\u8fb9\u4e0a\uff08\u53f3\u8fb9\u6bd4\u4ed6\u5c0f\uff09\u4e24\u79cd\uff1b\n- \u5f53\u524d\u70b9\u662f $e$\uff0c\u5206\u6210\u65b0\u5f00\u4e00\u6bb5\uff08\u5de6\u8fb9\u6bd4\u4ed6\u5927\uff09\u548c\u63a5\u5728\u4e00\u6bb5\u8fb9\u4e0a\uff08\u5de6\u8fb9\u6bd4\u4ed6\u5c0f\uff09\u4e24\u79cd\uff1b\n- \u5f53\u524d\u70b9\u662f\u666e\u901a\u70b9\uff0c\u5206\u6210\u65b0\u5f00\u4e00\u6bb5\uff08\u5de6\u53f3\u90fd\u6bd4\u4ed6\u5927\uff09\uff0c\u5408\u5e76\u4e24\u6bb5\uff08\u5de6\u53f3\u90fd\u6bd4\u4ed6\u5c0f\uff09\uff0c\u63a5\u5728\u4e00\u6bb5\u5de6\u8fb9\uff08\u5de6\u8fb9\u6bd4\u4ed6\u5927\uff0c\u53f3\u8fb9\u6bd4\u4ed6\u5c0f\uff09\uff0c\u63a5\u5728\u4e00\u6bb5\u53f3\u8fb9\uff08\u5de6\u8fb9\u6bd4\u4ed6\u5c0f\uff0c\u53f3\u8fb9\u6bd4\u4ed6\u5927\uff09\u56db\u79cd\u3002\n\n\u8fd9\u91cc\u6709\u4e00\u4e2a\u5751\u70b9\u662f\u6709\u4e9b\u72b6\u6001\u662f\u4e0d\u5408\u6cd5\u7684\uff0c\u5177\u4f53\u6765\u8bf4\u6709\u4e0b\u9762\u4e94\u79cd\uff0c\u8981\u7279\u5224\u6389\uff1a\n\n- \u6570\u7ec4\u8d8a\u754c\u4e86\u7684\uff1b\n- \u5408\u5e76\u6210 $0$ \u6bb5\u7684\uff1b\n- $s,e$ \u90fd\u5df2\u7ecf\u586b\u4e86\uff0c\u5f53\u524d\u70b9\u4e0d\u662f $n$ \u5374\u5df2\u7ecf\u7f29\u6210\u4e86\u4e00\u6bb5\u7684\uff1b\n- \u53ea\u586b\u4e86 $s$\uff0c\u53ea\u6709\u4e00\u6bb5\u5374\u63a5\u5728\u4e86\u8fd9\u6bb5\u5de6\u8fb9\u7684\uff1b\n- \u53ea\u586b\u4e86 $e$\uff0c\u53ea\u6709\u4e00\u6bb5\u5374\u63a5\u5728\u4e86\u8fd9\u6bb5\u53f3\u8fb9\u7684\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\n#define int long long\nint n,s,t,cnt,x[5001],a[5001],b[5001],c[5001],d[5001],dp[5001][5001];\nsigned main()\n{\n    cin>>n>>s>>t;\n    for(int i=1;i<=n;++i)\n        cin>>x[i];\n    for(int i=1;i<=n;++i)\n        cin>>a[i];\n    for(int i=1;i<=n;++i)\n        cin>>b[i];\n    for(int i=1;i<=n;++i)\n        cin>>c[i];\n    for(int i=1;i<=n;++i)\n        cin>>d[i];\n    for(int i=0;i<=n;++i)\n        for(int j=0;j<=n;++j)\n            dp[i][j]=1e18;\n    dp[0][0]=0;\n    for(int i=0;i<n;++i)\n    {\n        for(int j=0;j<=n;++j)\n        {\n            if(j==1&&cnt==2)\n                dp[i][j]=1e18;\n            if(dp[i][j]<1e18)\n            {\n                if(s==i+1)\n                {\n                    if(j<n)\n                        dp[i+1][j+1]=min(dp[i+1][j+1],dp[i][j]-x[i+1]+d[i+1]);\n                    if(j)\n                        dp[i+1][j]=min(dp[i+1][j],dp[i][j]+x[i+1]+c[i+1]);\n                }\n                else if(t==i+1)\n                {\n                    if(j<n)\n                        dp[i+1][j+1]=min(dp[i+1][j+1],dp[i][j]-x[i+1]+b[i+1]);\n                    if(j)\n                        dp[i+1][j]=min(dp[i+1][j],dp[i][j]+x[i+1]+a[i+1]);\n                }\n                else\n                {\n                    if(j<n)\n                        dp[i+1][j+1]=min(dp[i+1][j+1],dp[i][j]-x[i+1]+b[i+1]-x[i+1]+d[i+1]);\n                    if(j>1)\n                        dp[i+1][j-1]=min(dp[i+1][j-1],dp[i][j]+x[i+1]+a[i+1]+x[i+1]+c[i+1]);\n                    if(j)\n                    {\n                        if(t>i+1||j>1)\n                            dp[i+1][j]=min(dp[i+1][j],dp[i][j]+d[i+1]+a[i+1]);\n                        if(s>i+1||j>1)\n                            dp[i+1][j]=min(dp[i+1][j],dp[i][j]+c[i+1]+b[i+1]);\n                    }\n                }\n            }\n        }\n        cnt+=s==i+1||t==i+1;\n    }\n    cout<<dp[n][1]<<'\\n';\n    return 0;\n}\n```",
        "postTime": 1660275251,
        "uid": 85682,
        "name": "\u7edd\u9876\u6211\u4e3a\u5cf0",
        "ccfLevel": 8,
        "title": "CF704B Ant Man \u9898\u89e3"
    }
]