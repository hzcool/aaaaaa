[
    {
        "content": "### \u9898\u610f\u63cf\u8ff0\uff1a\n\n\u7ed9\u5b9a $n$ \u68f5\u6811\u7684\u9ad8\u5ea6\uff0c\u5947\u6570\u6b21\u64cd\u4f5c\u8ba9\u6811\u957f $1$ \u7c73\uff0c\u5076\u6570\u6b21\u64cd\u4f5c\u8ba9\u6811\u957f $2$ \u7c73\uff0c\u6c42\u6700\u5c11\u6b65\u6570\u4f7f\u6811\u9ad8\u76f8\u540c\u3002\n\n### \u7b97\u6cd5\u5206\u6790\uff1a\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u53ea\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u5947\u6570\u6b21\u548c\u5076\u6570\u6b21\u3002\u90a3\u4e48\uff0c\u53ef\u4ee5\u8d2a\u5fc3\u6765\u8003\u8651\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u8bbe\u5b9a\u4e00\u4e2a\u76ee\u6807\u9ad8\u5ea6\uff0c\u663e\u7136\u6bcf\u68f5\u6811\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u8981\u4e48\u5dee\u662f\u5076\u6570\uff0c\u8981\u4e48\u5dee\u662f\u5947\u6570\u3002\n\n\u8fd9\u65f6\uff0c\u5076\u6570\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u5076\u6570\u6b21\u64cd\u4f5c\uff0c\u5947\u6570\u53ef\u4ee5\u5728\u5947\u6570\u6b21\u64cd\u4f5c\u3002\u4f46\u6700\u540e\u80af\u5b9a\u4f1a\u5269\u4f59\u67d0\u4e9b\u6811\uff0c\u8981\u4e48\u662f\u5168\u5dee\u5947\u6570\u6b21\uff0c\u8981\u4e48\u662f\u5168\u5dee\u5076\u6570\u6b21\u3002\n\n\u6240\u4ee5\u8bf4\uff0c\u5982\u679c\u9700\u8981 $+2$ \u7684\u6b21\u6570\u591a\uff0c\u5c31\u5c3d\u53ef\u80fd\u628a $+2$ \u5206\u7ed9 $+1$\u3002\n\n\u6211\u4eec\u53ef\u4ee5 $3$ \u4e2a $+2$ \u4e3a\u4e00\u7ec4\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\u53ef\u4ee5\u53d1\u73b0\uff0c\u7b49\u4e8e $2$ \u4e2a $+1$ \u548c $2$ \u4e2a $+2$\uff0c\u8fd9\u65f6\u518d\u53bb\u8d2a\u5fc3\u6c42\u89e3\uff0c\u7b54\u6848\u5c31\u51fa\u6765\u4e86\u3002\n\n### \u603b\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define re register\n#define int long long\nusing namespace std;\ninline int read(){\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch == '-') f=-1 ; ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=(x<<1)+(x<<3)+(ch^48) ; ch=getchar();}\n\treturn x*f;\n}\ninline void print(int x){\n\tif(x/10) print(x/10);\n\tputchar(x%10+'0');\n}\nconst int M = 3e5+10;\nint t,n;\nint a[M];\ninline int work(int maxn){\n\tint cnt1=0,cnt2=0;\n\tfor(re int i(1) ; i<=n ; ++i){\n\t\tcnt1 += (maxn-a[i])%2;\n\t\tcnt2 += (maxn-a[i])/2; //\u8d2a\u5fc3\u6c42\u89e3\n\t}\n\tint tmp = cnt2 - cnt1;\n\tif(tmp >= 2) cnt1+=(tmp+1)/3*2,cnt2-=(tmp+1)/3;\n\tif(cnt1 > cnt2) return cnt1*2-1;\n\telse return cnt2*2;\n}\nsigned main(){\n\tt=read();\n\twhile(t--){\n\t\tint maxn=0;\n\t\tn=read();\n\t\tfor(re int i(1) ; i<=n ; ++i){\n\t\t\ta[i] = read();\n\t\t\tmaxn = max(maxn,a[i]);\n\t\t}\n\t\tprintf(\"%lld\\n\",min(work(maxn),work(maxn+1)));\n      //\u89e3\u91ca\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u8981\u4e24\u6b21\n      //\u8981\u4e48\u662f\u5947\u6570\u591a\u4e00\u4e2a\uff0c\u8981\u4e48\u5c31\u662f\u76f8\u540c\uff0c\u6c42\u6700\u5c0f\u7684\uff0c\u80af\u5b9a\u662f\u6700\u4f18\u89e3\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1651753357,
        "uid": 226367,
        "name": "glorious_dream",
        "ccfLevel": 4,
        "title": "CF1661C\u9898\u89e3"
    },
    {
        "content": "## Problem\n\n[Water the Trees](https://www.luogu.com.cn/problem/CF1661C)\n\n## Sol\n\n\u8ba9\u6240\u6709\u6570\u76f8\u540c\uff0c\u9996\u5148\u5c31\u662f\u8ba9\u5b83\u4eec\u7684\u5947\u5076\u6027\u76f8\u540c\u3002\n\n\u5148\u8ba9\u6574\u4e2a\u5e8f\u5217\u90fd\u53d8\u6210\u5947\u6570/\u5076\u6570\u3002\n\n\u7136\u540e\u627e\u5230\u6574\u4e2a\u5e8f\u5217\u7684\u6700\u5927\u503c\uff0c\u7136\u540e\u679a\u4e3e\u6bcf\u4e2a\u6570\uff0c\u6c42\u5b83\u6539\u53d8\u540e\u548c\u6700\u5927\u503c\u5dee\u591a\u5c11\u518d\u9664\u4ee5 $2$ \u5373\u53ef\u3002\n\n\u4f60\u5c31\u53ef\u4ee5\u5199\u51fa\u5982\u4e0b\u4ee3\u7801\uff08\u4e0b\u9762\u8bb2\u7684\u4efb\u4f55\u4e1c\u897f\u90fd\u662f\u9488\u5bf9\u5076\u6570\uff0c\u5947\u6570\u81ea\u5df1\u4e3e\u4e00\u53cd\u4e09\u4e00\u4e0b\u5373\u53ef\uff09\u3002\n\n```cpp\nfor (int i = 1;i <= n;i++)\n{\n    if (a[i] & 1)\n    {\n        x++;//x\u8868\u793a+1\u8981\u591a\u5c11\u6b21\u3002\n        Max = max(Max, a[i] + 1);\n    }\n    else Max = max(Max, a[i]);\n}\nfor (int i = 1;i <= n;i++)\n{\n    y += (Max - a[i]) / 2;//y\u8868\u793a+2\u8981\u591a\u5c11\u6b21\u3002\n}\n```\n\n$x\\times2-1$ \u662f\u52a0\u4e00\u52a0\u5230 $x$ \u6b21\u7684\u65f6\u95f4\u3002\n\n$y\\times2$ \u662f\u52a0\u4e8c\u52a0\u5230 $y$ \u6b21\u6570\u7684\u65f6\u95f4\u3002\n\n\u7136\u540e\u7b54\u6848\u5c31\u662f $\\max(x\\times2-1, y\\times2)$ \u4e86\u5417\uff1f\n\n\u8fd9\u6837\u663e\u7136\u662f\u9519\u7684\uff0c\u56e0\u4e3a\u4e24\u6b21\u52a0\u4e00\u76f8\u5f53\u4e8e\u4e00\u6b21\u52a0\u4e8c\u3002\n\n\u90a3\u4e48 $x$ \u6bcf\u52a0\u4e0a\u4e00\u6b21 $2$\uff0c$y$ \u5c31\u80fd\u51cf\u5c11 $1$\u3002\n\n\u8fd9\u6837\u7684\u8bdd $y\\times2$ \u548c $x\\times2-1$ \u4e4b\u95f4\u7684\u5dee\u4f1a\u51cf\u5c11 $6$\u3002\n\n\u90a3\u80af\u5b9a\u662f\u8d8a\u8fd9\u4e24\u4e2a\u503c\u8d8a\u63a5\u8fd1\u8d8a\u597d\u3002\n\n\u8bbe $D = y\\times2-(x\\times2-1)$\u3002\n\n\u90a3\u4e48\u5dee\u503c\u6700\u5c0f\u53ea\u4f1a\u5728\u4e0b\u5217\u8fd9\u4e24\u79cd\u60c5\u51b5\u3002\n\n$1.x=x+2\\times D,y=y-D$\u3002\n\n$2.x=x+2\\times (D+1),y=y-D-1$\u3002\n\n\u7136\u540e\u5224\u65ad\u4e00\u4e0b\u54ea\u4e2a\u5c0f\u5373\u53ef\uff0c\u6700\u540e\u518d\u5728\u5947\u6570\u548c\u5076\u6570\u4e4b\u95f4\u53d6\u4e2a\u6700\u5c0f\u503c\u5373\u4e3a\u7b54\u6848\u3002\n\n## Code\n\n```cpp\n#include<bits/stdc++.h>\n#define fi first\n#define se second\n#define pii pair<int, int> \n#define pb push_back\n#define IOS ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);\n#define int long long\nusing namespace std;\n\nint n, a[300010];\n\nint calc1()\n{\n    int _1 = 0, _2 = 0, Max = 0;\n    for (int i = 1;i <= n;i++)\n    {\n        if (a[i] & 1)\n        {\n            _1++;\n            Max = max(Max, a[i] + 1);\n        }\n        else Max = max(Max, a[i]);\n    }\n    for (int i = 1;i <= n;i++)\n    {\n        _2 += (Max - a[i]) / 2;\n    }\n    if (2 * _1 - 1 >= _2 * 2)\n    return 2 * _1 - 1;\n    _1 = _1 * 2 - 1;\n    _2 = _2 * 2;\n    int delta = _2 - _1;\n    delta /= 6;\n    return min(_1 + 4 * (delta + 1), max(_2 - 2 * delta, _1 + 4 * delta));\n}\n\nint calc2()\n{\n    int _1 = 0, _2 = 0, Max = 0;\n    for (int i = 1;i <= n;i++)\n    {\n        if (!(a[i] & 1))\n        {\n            _1++;\n            Max = max(Max, a[i] + 1);\n        }\n        else Max = max(Max, a[i]);\n    }\n    for (int i = 1;i <= n;i++)\n    {\n        _2 += (Max - a[i]) / 2;\n    }\n    if (2 * _1 - 1 >= _2 * 2)\n    return 2 * _1 - 1;\n    _1 = _1 * 2 - 1;\n    _2 = _2 * 2;\n    int delta = _2 - _1;\n    delta /= 6;\n    return min(_1 + 4 * (delta + 1), max(_2 - 2 * delta, _1 + 4 * delta));\n}\n\nvoid solve()\n{\n    cin >> n;\n    for (int i = 1;i <= n;i++)\n    {\n        cin >> a[i];\n    }\n    cout << min(calc1(), calc2()) << '\\n';\n}\n\nsigned main()\n{\n    IOS;\n    int t = 1;\n    cin >> t;\n    while (t--)\n    {\n        solve();\n    }\n}\n```",
        "postTime": 1670301118,
        "uid": 173424,
        "name": "Hovery",
        "ccfLevel": 6,
        "title": "CF1661C"
    },
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1661C)\n\n## \u9898\u610f\n\u7ed9\u5b9a $n$ \u68f5\u6811\u7684\u9ad8\u5ea6\uff0c\u5947\u6570\u65f6\u95f4\u8ba9\u4e00\u68f5\u6811\u6811\u957f\u9ad8 $1m$ \uff0c\u5076\u6570\u65f6\u95f4\u53ef\u4ee5\u8ba9\u4e00\u68f5\u6811\u957f\u9ad8 $2m$ \uff0c\u6c42\u8ba9\u6240\u6709\u6811\u4e00\u6837\u9ad8\u7684\u6700\u5c11\u6240\u9700\u65f6\u95f4\u3002\n## \u9898\u89e3\n\u6211\u4eec\u4e00\u6b21\u53ef\u4ee5\u8ba9\u6811\u957f\u9ad8 $1m$ \u6216 $2m$ \uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u8bbe\u5b9a\u4e00\u4e2a\u76ee\u6807\u9ad8\u5ea6\uff0c\u53ef\u4ee5\u628a\u6bcf\u68f5\u6811\u8ddf\u76ee\u6807\u9ad8\u5ea6\u7684\u5dee\u503c\u5206\u6210 $1m$ \u548c $2m$ \u7684\u90e8\u5206\u3002\u90a3\u4e48\u6211\u4eec\u600e\u4e48\u5206\u5462\uff1f\n\n\u7ecf\u8fc7\u4e00\u756a\u4ed4\u7ec6\u601d\u8003\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u5982\u679c\u8ba9 $1m$ \u7684\u90e8\u5206\u5206\u7684\u5c3d\u53ef\u80fd\u591a\u7684\u8bdd\uff0c\u6211\u4eec\u9700\u8981\u4e24\u4e2a $1m$ \u80fd\u591f\u5408\u6210\u4e00\u4e2a $2m$ \uff0c\u90a3\u4e48\u8fd9\u4e9b\u6240\u6709\u7684\u6811\u6211\u4eec\u8fd8\u8981\u5206\u5947\u5076\u8003\u8651\uff0c\u8fd9\u5f88\u4e0d\u597d\u7ef4\u62a4\u3002\u6240\u4ee5\u6211\u4eec\u628a\u8fd9\u4e9b\u9ad8\u5ea6\u5206\u6210\u5c3d\u53ef\u80fd\u591a\u7684 $2m$ \u3002\u4e4b\u540e\u5982\u679c\u53d1\u73b0 $1m$ \u7684\u90e8\u5206\u6bd4 $2m$ \u5c11\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u4e00\u4e9b $2m$ \u62c6\u6210 $1m$ \uff0c\u5b9e\u73b0\u5c3d\u53ef\u80fd\u591a\u7684\u914d\u5bf9\u3002\u8bbe $1m$ \u4e2a\u6570\u4e3a $num_1$ \uff0c$2m$ \u4e2a\u6570\u4e3a $num_2$ \uff0c\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5\uff1a\n\n1\uff1a $num_1 > num_2$ \uff0c\u7b54\u6848\u662f $num_1 \\times 2\\text{ }+\\text{ }1$ \uff1b\n\n2\uff1a $num_1 \\leq num_2$ \uff0c\u7b54\u6848\u662f\u5c06 $2m$ \u5206\u914d\u90e8\u5206\u7ed9 $1m$ \u540e\u7684\u7b54\u6848\uff08\u7ec6\u8282\u6bd4\u8f83\u591a\uff0c\u4e0d\u505a\u8fc7\u591a\u8d58\u8ff0\uff0c\u8be6\u89c1\u4ee3\u7801\uff09\u3002\n\n\n------------\n\n\n\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u4f55\u8bbe\u7f6e\u76ee\u6807\u9ad8\u5ea6\u5462\uff1f\n\n\u521d\u6b65\u7684\u60f3\u6cd5\u53ef\u80fd\u662f\u8fd9\u6837\u7684\uff1a\u8ba9\u5b83\u4eec\u90fd\u957f\u5230\u8ddf\u6700\u9ad8\u7684\u6811\u4e00\u6837\u9ad8\u4e0d\u5c31\u597d\u4e86\u5417\uff1f\u563f\u563f\uff0c\u90a3\u4f60\u53ef\u5927\u9519\u7279\u9519\u4e86\uff01\n\n\u6211\u4eec\u6784\u9020\u4e00\u7ec4\u6570\u636e\uff1a\u6709 $7$ \u68f5\u6811\uff0c\u6811\u7684\u9ad8\u5ea6\u4e3a $1,1,1,1,1,1,2$ \uff0c\u5982\u679c\u6309\u7167\u7b2c\u4e8c\u6bb5\u7684\u5206\u6cd5\u5e76\u628a\u76ee\u6807\u9ad8\u5ea6\u8bbe\u7f6e\u4e3a $2$ \uff0c\u5bb9\u6613\u53d1\u73b0\uff0c\u6709 $6$ \u4e2a $1m$ \uff0c\u6ca1\u6709 $2m$ \u7684\uff0c\u65f6\u95f4\u4e3a $11$ \uff08\u7b26\u5408\u4e0a\u9762\u7684\u7b2c\u4e00\u79cd\u60c5\u51b5\uff09\u3002\u5982\u679c\u628a\u76ee\u6807\u9ad8\u5ea6\u8bbe\u7f6e\u4e3a $3m$ \uff0c\u5c31\u53d8\u6210\u4e86 $6$ \u4e2a $2m$ \uff0c $1$ \u4e2a $1m$ \uff0c\u7b26\u5408\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u628a $2m$ \u5206\u51fa\u4e00\u90e8\u5206\u7ed9 $1m$ \u540e\u53d8\u6210 $5$ \u4e2a $1m$ \uff0c $4$ \u4e2a $2m$ \uff0c\u7b54\u6848\u4e5f\u53d8\u6210\u4e86 $9$ \u3002\n\n\u90a3\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f\n\n\u6211\u4eec\u8003\u8651\u628a\u76ee\u6807\u9ad8\u5ea6\u8bbe\u7f6e\u4e3a\u6700\u9ad8\u9ad8\u5ea6\u7684\u6f0f\u6d1e\uff1a\u6709\u53ef\u80fd\u6709\u5f88\u591a\u4e2a $1m$ \u4f46\u51e0\u4e4e\u6ca1\u6709 $2m$ \uff0c\u6700\u7ec8\u5bfc\u81f4\u5f88\u591a\u65f6\u95f4\u88ab\u6d6a\u8d39\u4e86\u3002\u4f46\u6709\u6ca1\u6709\u53ef\u80fd\u628a\u76ee\u6807\u9ad8\u5ea6\u8bbe\u7f6e\u6210 \u6700\u9ad8\u9ad8\u5ea6 $+\\text{ }2$ \u5462\uff1f\u7b54\u6848\u662f\u4e0d\u9700\u8981\uff0c\u8bc1\u660e\u5982\u4e0b\uff1a\n\n\u6211\u4eec\u6309\u7167\u4e0a\u9762\u6240\u8bf4\u7684\u4e24\u79cd\u60c5\u51b5\u5206\u5f00\u8bc1\u660e\uff1a **\u7b2c\u4e00\u79cd\u60c5\u51b5\uff1a** \u7531\u4e8e $1m$ \u6bd4\u8f83\u591a\uff0c\u5982\u679c\u628a\u76ee\u6807\u9ad8\u5ea6\u63d0\u5347 $2m$ \uff0c\u8fd9\u4e9b $2m$ \u4f1a\u5148\u548c $1m$ \u914d\u5bf9\uff0c\u4e5f\u5c31\u662f\u8865\u5145\u4e4b\u524d\u7684\u7a7a\u767d\uff0c\u800c\u518d\u591a\u51fa\u6765\u7684\u90e8\u5206\u53ea\u4f1a\u589e\u52a0\u65f6\u95f4\u3002\u5e76\u6ca1\u6709\u5b9e\u73b0\u66f4\u4f18\u3002 **\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff1a** \u8fd9\u79cd\u60c5\u51b5\u66f4\u7b80\u5355\uff0c\u539f\u6765\u7684\u90a3\u4e9b\u5df2\u7ecf\u5b8c\u5168\u914d\u597d\u5bf9\u4e86\uff0c\u518d\u52a0\u8fdb\u6765\u7684\u53ea\u80fd\u662f\u7d2f\u8d58\u3002\u8bc1\u660e\u5b8c\u6bd5\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u8003\u8651\u628a\u76ee\u6807\u9ad8\u5ea6\u8bbe\u4e3a \u6700\u9ad8\u9ad8\u5ea6 \u548c \u6700\u9ad8\u9ad8\u5ea6 $+\\text{ }1$ \u8fd9\u4e24\u79cd\u60c5\u51b5\u6bd4\u8f83\u54ea\u79cd\u7b54\u6848\u66f4\u5c0f\u5373\u53ef\u3002\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nnamespace Std\n{\n    template<typename tp>\n    void read(tp &x)\n    {\n        x=0;\n        tp nev=1;\n        char c=getchar();\n        while(c<'0'||c>'9')\n        {\n            if(c=='-')nev=-1;\n            c=getchar();\n        }\n        while(c>='0'&&c<='9')\n        {\n            x=(x<<1)+(x<<3)+(c&15);\n            c=getchar();\n        }\n        x*=nev;\n    }\n    template<typename tp>\n    void write(tp x)\n    {\n        if(x<0)\n        {\n            putchar('-');\n            write(-x);\n            return;\n        }\n        if(x/10)write(x/10);\n        putchar((x%10)|48);\n    }\n    int t,n,height[300001],tptp[300001];\n    int main()\n    {\n        read(t);\n        while(t--)\n        {\n            read(n);\n            int maxn=0;\n            for(int i=1;i<=n;++i)\n            {\n                read(height[i]);\n                maxn=max(maxn,height[i]);\n            }\n            int ans=0x3f3f3f3f3f3f3f3f;\n            for(int k=0;k<2;++k)\n            {\n                for(int i=1;i<=n;++i)\n                {\n                    tptp[i]=maxn-height[i];\n                }\n                int cmp1=0,cmp2=0;\n                for(int i=1;i<=n;++i)\n                {\n                    cmp2+=tptp[i]/2;\n                    cmp1+=tptp[i]%2;\n                }\n                if(cmp2>cmp1)\n                {\n                    int tmp=cmp2-cmp1;\n                    int tp=tmp/3;\n                    int tmp1,tmp2;\n                    if(tmp%3==0)\n                    {\n                        tmp1=tp*2;\n                        tmp2=tp*2;\n                    }\n                    else if(tmp*2%3==1)\n                    {\n                        tmp1=tp*2+2;\n                        tmp2=tp*2+1;\n                    }\n                    else\n                    {\n                        tmp1=tp*2;\n                        tmp2=tp*2+1;\n                    }\n                    cmp1+=tmp1;\n                    cmp2-=tmp-tmp2;\n                }\n                ++maxn;\n                ans=min(ans,max(2*cmp1-1,2*cmp2));\n            }\n            write(ans);\n            puts(\"\");\n        }\n        return 0;\n    }\n}\n#undef int\nint main()\n{\n    return Std::main();\n}\n```\n",
        "postTime": 1649771060,
        "uid": 576737,
        "name": "Wilson_Inversion",
        "ccfLevel": 7,
        "title": "CF1661C\u9898\u89e3"
    },
    {
        "content": "\u8d5b\u65f6\u88ab\u5bb6\u957f\u5f3a\u5236\u7761\u7720\u6ca1\u505a\u51fa\u6765 /kk\n\n## \u505a\u6cd5\n\n\u4e8c\u5206\u7b54\u6848\u3002\n\n\u9996\u5148\u89c2\u5bdf\u5230\u7b54\u6848\u6709\u5355\u8c03\u6027\uff0c\u56e0\u4e3a\u80fd\u5728 $n$ \u5929\u5185\u5b8c\u6210\u7684\u8bdd\u5728 $n+1$ \u5929\u5185\u80af\u5b9a\u80fd\u5b8c\u6210\uff0c\u53ea\u8981\u6700\u540e\u4e00\u5929\u8df3\u8fc7\u5373\u53ef\u3002\u90a3\u4e48\u5bb9\u6613\u60f3\u5230\u4e8c\u5206\u7b54\u6848\u3002\n\n\u8003\u8651\u5224\u5b9a\u5728 $n$ \u5929\u5185\u662f\u5426\u53ef\u4ee5\u8ba9\u6811\u90fd\u6070\u597d\u957f\u5230 $val$\u3002\u663e\u7136\u8ba9\u6811\u957f\u9ad8 $2$ \u7684\u5929\u6570\u4e3a $\\left\\lfloor\\dfrac{n}{2}\\right\\rfloor$\uff0c\u8ba9\u6811\u957f\u9ad8 $1$ \u7684\u5929\u6570\u5219\u662f $\\left\\lceil\\dfrac{n}{2}\\right\\rceil$\u3002\u679a\u4e3e\u6bcf\u4e00\u68f5\u6811 $i$\uff0c\u5c3d\u53ef\u80fd\u7684\u8ba9\u6811\u957f\u9ad8 $2$\uff0c\u5b9e\u5728\u4e0d\u884c\u518d\u8ba9\u6811\u957f\u9ad8 $1$ \u5373\u53ef\u3002\u6700\u540e\u82e5\u6240\u6709\u6811\u90fd\u6ee1\u8db3\u4e86\u6761\u4ef6\u90a3\u4e48\u5c31\u53ef\u884c\uff0c\u5426\u5219\u4e0d\u53ef\u884c\u3002\n\n\u63a5\u4e0b\u6765\u8003\u8651 $val$ \u7684\u53d6\u503c\u3002\u6ce8\u610f\u5230\u56e0\u4e3a\u6709\u8ba9\u6811\u957f\u9ad8 $2$ \u7684\u65e5\u5b50\uff0c\u6240\u4ee5 $val$ \u4e0d\u80fd\u53ea\u53d6\u6240\u6709\u6811\u9ad8\u7684\u6700\u5927\u503c $mx$\uff0c$val=mx+1$ \u7684\u60c5\u51b5\u4e5f\u8981\u5224\u4e00\u4e0b\u3002\u800c $val\\ge mx+2$ \u7684\u60c5\u51b5\u5c31\u53ef\u4ee5\u5ffd\u7565\u4e86\uff0c\u56e0\u4e3a\u6b21\u9ad8\u7684\u6811\u4e00\u6b21\u957f\u9ad8\u540e\u9ad8\u5ea6\u6700\u9ad8\u4e3a $mx+1$\u3002\n\n## AC \u4ee3\u7801\n\n```cpp\n#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <queue>\n#include <cmath>\n#include <queue>\n#include <map>\n#include <set>\n#include <cstring>\n\nusing namespace std;\n\nstruct node\n{\n};\n\nint n;\nlong long a[1919810];\n\ninline bool check(long long days,int val)\n{\n\tlong long cnt1=(days+1)/2,cnt2=days/2;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tlong long ned=min((long long)(val-a[i])/2,cnt2);\n\t\tcnt2-=ned;\n\t\tcnt1-=val-a[i]-ned*2;\n\t}\n\treturn cnt2>=0&&cnt1>=0;\n}\n\ninline void slove()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%lld\",&a[i]);\n\t}\n\tsort(a+1,a+n+1);\n\tlong long l=0,r=1e17,ans=0;\n\twhile(l<=r)\n\t{\n\t\tlong long mid=l+r>>1;\n\t\tif(check(mid,a[n])||check(mid,a[n]+1))\n\t\t{\n\t\t\tans=mid;\n\t\t\tr=mid-1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tl=mid+1;\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",ans);\n}\n\nint main()\n{\n\tint _=1;\n\tscanf(\"%d\",&_);\n\twhile(_--)\n\t{\n\t\tslove();\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1649668467,
        "uid": 251130,
        "name": "lovely_ckj",
        "ccfLevel": 0,
        "title": "CF1661C Water the Trees \u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1661C)\n\n## \u9898\u610f\n\n\u7ed9\u5b9a $n$ \u4e2a\u6570\uff0c\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u628a\u5176\u4e2d $1$ \u4e2a\u6570\u52a0 $1$ \u6216\u52a0 $2$\uff0c\u6216\u8005\u4ec0\u4e48\u90fd\u4e0d\u505a\uff08\u4e5f\u7b97\u4e00\u6b21\uff09\uff0c\u6c42\u6700\u5c11\u7684\u64cd\u4f5c\u6b21\u6570\uff0c\u4f7f\u5f97 $n$ \u4e2a\u6570\u90fd\u76f8\u540c\u3002\n\n## \u601d\u8def\n\n\u9996\u5148\u627e\u5230\u4e00\u4e2a\u6570 $k$\uff0c\u4f7f\u5f97\u6700\u540e\u7684\u6570\u5217\u4e2d\u6bcf\u4e2a\u6570\u90fd\u4e3a $k$\uff0c\u81f3\u4e8e $k$ \u7684\u503c\u662f\u591a\u5c11\u8be6\u89c1\u540e\u9762\u3002\n\n\u7136\u540e\u7edf\u8ba1\u51fa\u6765\u8fd9\u4e2a\u6570\u5217\u4e2d\u5bf9\u4e8e\u6bcf\u4e2a $i$ \u7684 $g_i = k - h_i $\u3002\n\n\u56e0\u4e3a\u5f53\u8981\u52a0 $2$ \u65f6\uff0c\u53ef\u4ee5\u5148\u4ec0\u4e48\u90fd\u4e0d\u505a\uff0c\u7136\u540e\u52a0 $2$\uff0c\u6216\u8005\u5148\u52a0 $1$\uff0c\u95f4\u9694\u4e00\u6b21\uff0c\u518d\u52a0 $1$\u3002\n\n\u663e\u7136\uff0c\u524d\u8005\u6bd4\u540e\u8005\u4f18\u3002\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u7edf\u8ba1\u51fa\u6765\u6bcf\u4e2a $g_i$ \u4e0e $k$ \u5947\u5076\u6027\u4e0d\u540c\u7684\u4e2a\u6570 $cnt1$\uff0c\u518d\u7edf\u8ba1 $cnt2 = \\sum_{i=1}^n{\\dfrac{g_i}{2}}$\u3002\n\n\u7136\u540e\u5206\u7c7b\u8ba8\u8bba\u3002\n\n1. $cnt1 = cnt2$\n\n\u663e\u800c\u6613\u89c1\uff0c\u7b54\u6848\u4e3a $cnt1 \\times 2$\u3002\n\n2. $cnt1 > cnt2$\n\n\u90a3\u4e48\u56e0\u4e3a $cnt1$ \u4ee3\u8868\u7684\u662f**\u53ea\u80fd\u52a0\u4e00**\u7684\u4e2a\u6570\uff0c\u6240\u4ee5\u5728\u52a0\u4e8c\u7684\u65f6\u5019\u8981\u8df3\u8fc7\u4e00\u6b21\u3002\n\n\u6240\u4ee5\u7b54\u6848\u4e3a $cnt1 \\times 2 - 1$\uff08\u6700\u540e\u4e00\u6b21\u4e0d\u7528\u8df3\uff09\u3002\n\n3. $cnt1 < cnt2$\n\n\u8fd9\u79cd\u60c5\u51b5\u7a0d\u6709\u4e9b\u590d\u6742\u3002\n\n\u56e0\u4e3a\u5728\u5bf9\u4e00\u4e2a\u6570\u52a0\u4e8c\u7684\u540c\u65f6\uff0c\u4e3a\u4e86\u4e0d\u6d6a\u8d39\u64cd\u4f5c\u6b21\u6570\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5bf9\u5176\u4ed6\u6570\u8fdb\u884c\u52a0\u4e00\u7684\u64cd\u4f5c\u3002\n\n\u6240\u4ee5\u53ef\u4ee5\u4ee5\u4e09\u6b21\u64cd\u4f5c\u4e3a\u4e00\u7ec4\uff08\u4e00\u6b21\u52a0\u4e8c\uff0c\u4e24\u6b21\u52a0\u4e00\uff09\uff0c\u7b97\u51fa\u6700\u5c11\u7684\u64cd\u4f5c\u6b21\u6570\uff0c\u5269\u4e0b\u7684\u5982\u679c\u4e3a $1$\uff0c\u90a3\u4e48 $ans$ \u52a0\u4e00\u5c31\u884c\uff1b\u5982\u679c\u662f $2$\uff0c\u90a3\u4e48 $ans$ \u52a0\u4e8c\uff08\u95f4\u9694\u4e00\u6b21\uff0c\u518d\u52a0\u4e8c\uff09\u3002\n\n\u5177\u4f53\u89c1\u4ee3\u7801\u3002\n\n**\u6ce8\u610f\uff1a**\n\n$k$ \u53ef\u4ee5\u662f\u8fd9\u4e2a\u8fd9\u4e2a\u6570\u5217\u4e2d\u7684**\u6700\u5927\u503c**\u6216**\u6700\u5927\u503c\u52a0\u4e00**\n\n\u6700\u5927\u503c\u8fd9\u4e2a\u5f88\u597d\u7406\u89e3\uff0c\u90a3\u4e3a\u4ec0\u4e48\u4e5f\u53ef\u4ee5\u662f\u6700\u5927\u503c\u52a0\u4e00\u5462\uff1f\n\n\u56e0\u4e3a\u52a0\u4e00\u540e\u53ef\u80fd\u80fd**\u51cf\u5c11\u64cd\u4f5c\u4e2d\u7684\u95f4\u9694**\uff0c\u6240\u4ee5\u8ba1\u7b97\u4e24\u6b21\u4e0a\u8ff0\u8fc7\u7a0b\u5c31\u597d\u4e86\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nnamespace fastio{\n    template<typename T> inline void read(T &t){\n        int x = 0, f = 1;\n        char c = getchar();\n        while(!isdigit(c)){\n            if(c == '-') f = -f;\n            c = getchar();\n        }\n        while(isdigit(c)) x = x * 10 + c - '0', c = getchar();\n        t = x * f;\n    }\n    template<typename T, typename ... Args> inline void read(T &t, Args&... args){\n        read(t);\n        read(args...);\n    }\n    template<typename T> void write(T t){\n        if(t < 0) putchar('-'), t = -t;\n        if(t >= 10) write(t / 10);\n        putchar(t % 10 + '0');\n    }\n    template<typename T> void writeln(T t){\n        write(t);\n        puts(\"\");\n    }\n};\nusing namespace fastio;\nconst int N = 3e5 + 5;\nint T, n;\nint a[N], g[N];\nint f(int maxn){\n    int cnt1 = 0, cnt2 = 0;\n    for(int i = 1; i <= n; ++i){\n        g[i] = maxn - a[i];\n        if(g[i] % 2) cnt1++;\n        cnt2 += g[i] / 2; \n    }\n    if(cnt1 == cnt2) return cnt1 * 2;\n    else if(cnt1 < cnt2){\n        int t = (cnt2 - cnt1) * 2, k = t - t / 3 * 3;\n        int ans = cnt1 * 2 + t / 3 * 2;\n        if(k == 2) ans += 2;\n        if(k == 1) ans++;\n        return ans;\n    }\n    else return cnt1 * 2 - 1;\n}\nsigned main(){\n    read(T);\n    while(T--){\n        int maxn = 0, ans = 0;\n        read(n);\n        for(int i = 1; i <= n; ++i) read(a[i]), maxn = max(maxn, a[i]);\n        ans = f(maxn);\n        ans = min(ans, f(maxn + 1));\n        writeln(ans);\n    }\n    return 0;\n}\n```\n\n",
        "postTime": 1663164668,
        "uid": 573341,
        "name": "MiniLong",
        "ccfLevel": 0,
        "title": "CF1661C Water the Trees \u9898\u89e3"
    },
    {
        "content": "\u9898\u5916\u8bdd\uff1a\u6211\u4eec\u8001\u5e08\u9020\u7684\u6570\u636e\u5c45\u7136\u653e\u8fc7\u4e86[\u8fd9\u4e2a\u4ee3\u7801](https://www.luogu.com.cn/paste/xeeasq1v)\u2026\u2026\n\n\u601d\u8def\uff1a\u8d2a\u5fc3\u3002\n\n\u7b54\u6848\u4e00\u5b9a\u662f\u8ba9\u6240\u6709\u6811\u7684\u9ad8\u5ea6\u90fd\u5230\u8fbe\u6811\u4e2d\u6700\u9ad8\u7684\u9ad8\u5ea6\u7684\u6700\u4f18\u89e3\u548c\u8ba9\u6240\u6709\u6811\u7684\u9ad8\u5ea6\u90fd\u5230\u8fbe\u6811\u4e2d\u6700\u9ad8\u7684\u9ad8\u5ea6 $+1$ \u7684\u6700\u4f18\u89e3\u3002\n\n\u4e3a\u4ec0\u4e48\uff1f\n\n\u56e0\u4e3a\u5230\u8fbe\u6811\u4e2d\u6700\u9ad8\u7684\u9ad8\u5ea6 $+2$ \u76f8\u5f53\u4e8e\u5728\u5230\u8fbe\u6811\u4e2d\u6700\u9ad8\u7684\u9ad8\u5ea6\u7684\u57fa\u7840\u4e0a\u7ed9\u6bcf\u68f5\u6811\u53c8\u52a0\u4e86 $2$\uff1b\u5230\u8fbe\u6811\u4e2d\u6700\u9ad8\u7684\u9ad8\u5ea6 $+3$ \u76f8\u5f53\u4e8e\u5728\u5230\u8fbe\u6811\u4e2d\u6700\u9ad8\u7684\u9ad8\u5ea6 $+1$ \u7684\u57fa\u7840\u4e0a\u7ed9\u6bcf\u68f5\u6811\u53c8\u52a0\u4e86 $2$\u2026\u2026\u4f9d\u6b64\u7c7b\u63a8\uff0c\u90fd\u6709\u6d6a\u8d39\u3002\n\n\u7136\u540e\u5c31\u662f\u8003\u8651\u5982\u4f55\u6c42\u51fa\u6700\u4f18\u89e3\u3002\n\n\u9996\u5148\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u68f5\u6811\uff0c\u6211\u4eec\u6700\u8d2a\u5fc3\u7684\u60f3\u6cd5\u662f\u4e0d\u65ad\u7528 $+2$\uff0c\u6700\u540e\u5982\u679c\u6709\u4f59\u6570 $1$ \u518d\u7528 $+1$ \u6765\u8865\u8db3\u3002\n\n\u4f46\u662f\uff0c\u53d7\u5230\u9898\u76ee\u7684\u9650\u5236 $+1$ \u548c $+2$ \u5fc5\u987b\u4ea4\u66ff\uff0c\u5426\u5219\u53ea\u80fd\u4e0d\u64cd\u4f5c\uff0c\u56e0\u6b64\uff0c$+1$ \u548c $+2$ \u7684\u5dee\u5c3d\u53ef\u80fd\u7684\u5c0f\uff0c\u7b54\u6848\u624d\u662f\u6700\u4f18\u7684\u3002\n\n\u7531\u6b64\uff0c\u6c42\u51fa $+1$ \u548c $+2$ \u7528\u7684\u6b21\u6570\u4ee5\u540e\uff0c\u5982\u679c $+2$ \u6709\u591a\uff0c\u5c31\u5c3d\u53ef\u80fd\u7684\u5c06 $+2$ \u7684\u4e00\u90e8\u5206\u5206\u914d\u7ed9 $+1$\uff0c\u6700\u4f18\u5316\u7b54\u6848\u3002\n\n\u8003\u8651\u5c06 $3$ \u4e2a $+2$ \u89c6\u4e3a\u4e00\u7ec4\uff08\u603b\u5171\u52a0\u516d\uff0c\u7b97\u4e0a\u4e0d\u64cd\u4f5c\u7684\u5929\u6570\u4e3a $6$ \u5929\uff09\uff0c\u5c06\u4ed6\u4eec\u6362\u6210 $2$ \u4e2a $+1$ \u548c $2$ \u4e2a $+2$\uff08\u603b\u5171\u540c\u6837\u52a0\u516d\uff0c\u4f46\u5929\u6570\u4ec5\u4e3a $4$ \u5929\uff09\u3002\n\n\u6700\u540e\u8ba1\u7b97\u7b54\u6848\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u5982\u679c $+1$ \u7528\u7684\u591a\uff0c\u56e0\u4e3a\u5148\u6267\u884c\u7684\u662f $+1$ \u64cd\u4f5c\uff0c\u7b54\u6848\u5c31\u662f $+1$ \u7528\u7684\u6b21\u6570 $\\times 2-1$\uff0c\u5426\u5219\u5c31\u662f $+2$ \u7528\u7684\u6b21\u6570 $\\times 2$\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint T,n,max_,a[300005]; \nint solve(int h){\n\tint b[3]={0},x;\n\tfor (int i=1;i<=n;i++)\n\t\tx=h-a[i],b[1]+=x%2,b[2]+=x/2;\n\tif (b[2]-b[1]>1)\n\t\tx=b[2]-b[1]+1,b[1]+=x/3*2,b[2]-=x/3;\n\treturn (b[1]>b[2]?b[1]*2-1:b[2]*2);\n}\nsigned main(){\n\tios::sync_with_stdio(0),cin.tie(0),cout.tie(0);\n\tcin>>T;\n\twhile (T--){\n\t\tcin>>n;\n\t\tfor (int i=1;i<=n;i++)\n\t\t\tcin>>a[i],max_=(i==1?a[i]:max(max_,a[i]));\n\t\tcout<<min(solve(max_),solve(max_+1))<<'\\n';\n\t}\n\treturn 0;\n}\n```\n\nThe end.",
        "postTime": 1650895841,
        "uid": 562686,
        "name": "yeshubo_qwq",
        "ccfLevel": 5,
        "title": "CF1661C \u9898\u89e3"
    },
    {
        "content": "[$\\text{Link}$](https://www.luogu.com.cn/problem/CF1661C)\n\n## \u9898\u610f\n\n\u6709\u4e00\u4e2a $n$ \u4e2a\u6570\u7684\u6574\u6570\u5e8f\u5217 $h_{1\\sim n}$\uff0c\u4f60\u53ef\u4ee5\u82b1\u603b\u5171 $k$ \u5929\u65f6\u95f4\uff0c\u5728\u7b2c $x$ \u5929\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\u4e4b\u4e00\uff1a\n\n- \u82e5 $x$ \u4e3a\u5947\u6570\uff0c\u5c06\u4efb\u610f\u4e00\u4e2a $h_i$ \u589e\u52a0 $1$\u3002\n- \u82e5 $x$ \u4e3a\u5076\u6570\uff0c\u5c06\u4efb\u610f\u4e00\u4e2a $h_i$ \u589e\u52a0 $2$\u3002\n- \u5565\u4e5f\u4e0d\u5e72\u3002\n\n\u6c42 $k$ \u6700\u5c0f\u4e3a\u591a\u5c11\u65f6\u5b58\u5728\u4e00\u79cd\u64cd\u4f5c\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u6240\u6709 $h_i$ \u76f8\u7b49\u3002\n\n## \u5206\u6790\n\n\u8bbe $mx=\\max_{i=1}^nh_i$\uff0c\u90a3\u4e48\u7b54\u6848\u7684\u65b9\u6848\u4e2d\u6240\u6709 $h_i$ \u6700\u540e\u90fd\u4f1a\u53d8\u6210 $mx$ \u6216 $mx+1$ \u4e4b\u4e00\uff0c\u663e\u7136\u66f4\u5927\u7684 $mx$ \u90fd\u4e0d\u5982\u8fd9\u4e24\u4e2a\u4f18\u3002\n\n\u8bbe\u6700\u540e\u6240\u6709\u7684 $h_i$ \u90fd\u53d8\u6210\u4e86 $m\\in\\{mx,mx+1\\}$\uff0c\u90a3\u4e48\u95ee\u9898\u5c31\u8f6c\u5316\u4e3a\u4e86\u6c42\u6700\u5c0f\u7684 $k$\uff0c\u6bcf\u5929\u6309\u7167\u89c4\u5219\u5c06 $d_i=m-h_i$ \u51cf\u5c11\u4f7f\u5f97\u6700\u540e\u6240\u6709\u7684 $d_i$ \u90fd\u7b49\u4e8e $0$\u3002\n\n\u663e\u7136 $k$ \u6ee1\u8db3\u5355\u8c03\u6027\uff0c\u5373 $k$ \u5c0f\u4e8e\u7b54\u6848\u65f6\u65e0\u6cd5\u4f7f\u6240\u6709 $d_i=0$\uff0c\u5927\u4e8e\u7b49\u4e8e\u65f6\u5219\u53ef\u4ee5\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u4e8c\u5206\u7b54\u6848\u8f6c\u6c42\u89e3\u4e3a\u5224\u5b9a\uff0c\u800c\u5224\u5b9a\u76f8\u5f53\u5bb9\u6613\uff0c\u8bbe\u4e8c\u5206\u5230 $x$\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u6709 $\\left\\lfloor\\dfrac{x+1}{2}\\right\\rfloor$ \u4e2a $1$ \u548c $\\left\\lfloor\\dfrac{x}{2}\\right\\rfloor$ \u4e2a $2$ \u8fdb\u884c\u64cd\u4f5c\uff0c\u6839\u636e\u8d2a\u5fc3\u7684\u60f3\u6cd5\uff0c\u80fd\u7528 $2$ \u5c31\u7528 $2$\uff0c\u5b9e\u5728\u4e0d\u884c\u518d\u7528 $1$\uff0c\u5982\u679c\u8d70\u6295\u65e0\u8def\u4e86\u5219\u8bf4\u660e\u65e0\u6cd5\u6ee1\u8db3\u8981\u6c42\u3002\n\n\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u4e8c\u5206\u7684 $r$ \u4e0d\u8981\u5f00\u592a\u5c0f\uff0c\u81f3\u5c11\u8981\u5230 $1+2\\times \\sum_{i=1}^n d_i$\uff0c\u4e0d\u7136\u4f1a WA\uff1b\u800c\u4e14\u6bcf\u6b21\u4e8c\u5206\u65f6\u8981\u91cd\u7f6e $d$ \u6570\u7ec4\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nlong long read(){\n\tlong long x=0,f=1;char ch=getchar();\n\twhile(!isdigit(ch)){if(ch=='-') f=-1;ch=getchar();}\n\twhile(isdigit(ch)){x=x*10+ch-48;ch=getchar();}\n\treturn x*f;\n}\nvoid write(long long x){\n    if(x<0) putchar('-'),x=-x;\n    if(x>9) write(x/10);\n    putchar(x%10+'0');\n}\nconst int N=3e5+10;\nint t,n;\nll h[N],d[N],ans,mx,l,r;\nll od,ed;//\u5947\u5076 \nbool check(ll x){\n\tod=(x+1)>>1;\n\ted=x>>1;\n\tfor(int i=1;i<=n;i++){\n\t\td[i]=mx-h[i];\n\t\tif(ed*2>=d[i]){\n\t\t\ted-=d[i]/2;\n\t\t\td[i]=d[i]%2;\n\t\t}\n\t\telse{\n\t\t\td[i]-=ed*2;\n\t\t\ted=0;\n\t\t}\n\t\tif(d[i]>od)\n\t\t\treturn 0;\n\t\tod-=d[i];\n\t}\n\treturn 1;\n}\nint main(){\n\tt=read();\n\twhile(t--){\n\t\tn=read();\n\t\tmx=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\th[i]=read();\n\t\t\tmx=max(mx,h[i]);\n\t\t}\n\t\t//\u7b2c\u4e00\u6b21\u4e8c\u5206 m=mx \n\t\tl=0;r=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tr+=mx-h[i];\n\t\tr*=2;r++;\n\t\twhile(l<r){\n\t\t\tll mid=(l+r)>>1;\n\t\t\tif(check(mid))\n\t\t\t\tr=mid;\n\t\t\telse\n\t\t\t\tl=mid+1;\n\t\t}\n\t\tans=l;\n\t\t//\u7b2c\u4e8c\u6b21\u4e8c\u5206 m=mx+1 \n\t\tmx++;\n\t\tl=0;r=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tr+=mx-h[i];\n\t\tr*=2;r++;\n\t\twhile(l<r){\n\t\t\tll mid=(l+r)>>1;\n\t\t\tif(check(mid))\n\t\t\t\tr=mid;\n\t\t\telse\n\t\t\t\tl=mid+1;\n\t\t}\n\t\tprintf(\"%lld\\n\",min(ans,l));\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1649689712,
        "uid": 419144,
        "name": "chenjunxiu",
        "ccfLevel": 7,
        "title": "CF1661C Water the Trees"
    },
    {
        "content": "## Subject\n\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1661C)\n\n- \u9898\u76ee\u5927\u610f\uff1a\n\n\u7ed9\u51fa\u4e00\u4e2a\u5e8f\u5217 $\\{h_n\\}$\uff0c\u8fdb\u884c\u82e5\u5e72\u8f6e\u64cd\u4f5c\uff0c\u5bf9\u4e8e\u7b2c $k$ \u8f6e\u7684\u64cd\u4f5c\u65b9\u5f0f\u5982\u4e0b\uff1a\n\n\uff081\uff09\u9009\u5b9a\u5e8f\u5217\u4e2d\u7684\u4e00\u4e2a\u5143\u7d20 $h_i$ \uff0c\u4f7f\u5f97 $h_i=h_i+((k+1)\\bmod2+1)$ \uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u5982\u679c $k$ \u662f\u5076\u6570\uff0c\u5c31\u8ba9 $h_i$ \u52a0\u4e0a $2$\uff0c\u5426\u5219\u52a0\u4e0a $1$\uff1b\n\n\uff082\uff09\u8df3\u8fc7\u672c\u8f6e\uff1b\n\n\u8bd5\u6c42\u51fa\u4f7f $\\{h_n\\}$ \u5168\u90e8\u76f8\u7b49\u7684\u6700\u5c0f\u8f6e\u6570\uff1b\n\n\u4f3c\u4e4e\u53ef\u4ee5\u628a\u6570\u636e\u5f00\u5230 $\\sum n\\leq5\\times10^6$\u3002\n\n## Analysis\n\n\u600e\u4e48\u53c8\u662f\u6570\u5b66\u9898\u554a\uff08\u5e94\u8be5\u7b97\u662f\u5427\n\n\u770b\u6837\u4f8b\u89e3\u91ca\uff0c\u4f1a\u53d1\u73b0\u6700\u7ec8\u5e94\u8be5\u7b49\u4e8e $h_{\\max}$ \u6216 $h_{\\max}+1$\uff0c\u56e0\u4e3a\u5982\u679c\u518d\u591a\u7684\u8bdd\uff0c\u80af\u5b9a\u7b54\u6848\u4e0d\u4f1a\u4f18\u4e8e\u8fd9\u4e24\u4e2a\u7684\u6700\u5c0f\u503c\uff0c\u56e0\u4e3a\u53ef\u4ee5\u540c\u65f6\u53bb\u6389\u4e00\u5c42 $1$ \u6216 $2$\uff1b\n\n\u90a3\u4e48\u6211\u4eec\u53d1\u73b0\u53ea\u8981\u7edf\u8ba1\u5230\u8fbe $h_{\\max}$ \u6216 $h_{\\max}+1$ \u6240\u9700\u8981\u7684\u6700\u5c11\u6b21\u6570\u5c31\u53ef\u4ee5\u4e86\uff1b\n\n\u8003\u8651\u5230\u7528 $1$ \u53ef\u4ee5\u51d1\u5230 $2$\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u8981\u8003\u8651\u6ee1\u8db3 $1$ \u7684\u9650\u548c\u6bcf\u8f6e\u8d21\u732e\u548c\u5927\u4e8e\u7b49\u4e8e\u603b\u548c\u5373\u53ef\u3002\n\n\u63a5\u4e0b\u6765\u8bb0\u6700\u5c11\u9700\u8981 $1$ \u7684\u4e2a\u6570\u4e3a $cnt1$\uff0c\u5728\u6b64\u60c5\u51b5\u4e0b\u9700\u8981 $2$ \u7684\u4e2a\u6570\u4e3a $cnt2$\uff0c\u6240\u9700\u8981\u52a0\u4e0a\u7684\u603b\u548c\u4e3a $sp$\uff0c\u82e5\u662f $2$ \u53ef\u4ee5\u62c6\u6210\u4e24\u4e2a $1$ \u7684\u60c5\u51b5\u4e0b\u6700\u5c11\u9700\u8981\u7684\u5468\u671f\u4e3a $dp=\\left\\lceil\\frac{sp}{3}\\right\\rceil$\uff08\u5468\u671f\u6307\u4e24\u5929\uff09\uff1b\n\n\u90a3\u5c31\u5f00\u59cb\u5206\u7c7b\u8ba8\u8bba\u5427\uff0c\u9996\u5148\u8d34\u4e00\u4e0b\u8fd9\u90e8\u5206\u7684\u4ee3\u7801\uff1a\n\n```cpp\nint check(int cnt1, int cnt2) {\n\tsp = cnt1 + cnt2 * 2;\n\tdp = ceil(double(double(sp) / double(3)));\n\tif(cnt1 <= dp) {\n\t\tif(sp % 3 == 1) return dp * 2 - 1;\n\t\telse return dp * 2;\n\t}\n\telse return cnt1 * 2 - 1;\n}\n```\n\n- \u5982\u679c $cnt1\\leq dp$\uff0c\u4e5f\u5c31\u662f\u8bf4 $1$ \u7684\u6700\u5c11\u4e2a\u6570\u53ef\u4ee5\u76f4\u63a5\u9760\u8fd9 $dp$ \u8f6e\u5185\u6ee1\u8db3\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u8003\u8651 $2$\uff1a\n\n\t\uff081\uff09\u5982\u679c\u6700\u540e\u4e00\u8f6e\u7684\u6700\u540e\u4e00\u6b21\u9700\u8981\u7684\u662f $1$\uff08 \u5373 $sp\\bmod3=1$ \uff09\uff0c\u90a3\u4e48\u6700\u540e\u4e00\u8f6e\u7684\u7b2c\u4e8c\u5929\u4e0d\u7528\uff0c\u7b54\u6848\u4e3a $dp\\times2-1$\uff1b\n    \n   \uff082\uff09\u5982\u679c\u6700\u540e\u4e00\u8f6e\u7684\u6700\u540e\u4e00\u6b21\u9700\u8981\u7684\u662f $2$\uff08 \u5373 $sp\\bmod3=2,0$ \uff09\uff0c\u90a3\u4e48\u6700\u540e\u4e00\u8f6e\u8981\u8d70\u6ee1\uff0c\u7b54\u6848\u4e3a $dp\\times2$\u3002\n\n- \u5982\u679c $cnt1> dp$ \u90a3\u4e48 $2$ \u7684\u6570\u91cf\u4e00\u5b9a\u662f\u8fdc\u8fdc\u6ee1\u8db3\u7684\u4e86\uff08 \u663e\u7136\u4e0d\u53ef\u80fd $cnt1>dp$ \u4e14 $cnt2>dp$ \uff09,\u5219\u53ea\u9700\u8981\u8003\u8651 $1$ \u7528\u51e0\u8f6e\u51d1\u591f\uff0c\u6240\u4ee5\u7b54\u6848\u4e3a $cnt1\\times2-1$\uff08\u6700\u540e\u4e00\u8f6e\u4e0d\u7528\u8dd1\u6ee1\u4e24\u5929\uff09\u3002\n\n\u7efc\u4e0a\u5373\u53ef\u5f97\u51fa\u7b54\u6848\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\n\n#define int LL\n\nconst int InF = 0x3f3f3f;\n\nint read(void) {\n\tint s = 0, f = 1;\n\tchar c = getchar();\n\twhile(isdigit(c) == false) {\n\t\tif(c == '-') f = -1; c = getchar();\n\t}\n\twhile(isdigit(c)) {\n\t\ts = (s << 3)+ (s << 1) + (c ^ 48);\n\t\tc = getchar();\n\t}\n\treturn s * f;\n}\n\nconst int maxn = 300050;\n\nint n;\n\nint h[maxn], sp, dp, ans;\n\nint check(int cnt1, int cnt2) {\n\tsp = cnt1 + cnt2 * 2;\n\tdp = ceil(double(double(sp) / double(3)));\n\tif(cnt1 <= dp) {\n\t\tif(sp % 3 == 1) return dp * 2 - 1;\n\t\telse return dp * 2;\n\t}\n\telse return cnt1 * 2 - 1;\n}\n\nvoid solve(void) {\n\t\n\tn = read(); int mx = 0;\n\t\n\tfor(int i = 1; i <= n; ++i) h[i] = read(), mx = max(mx, h[i]);\n\t\n\tint tmp1 = 0, tmp2 = 0, cnt11 = 0, cnt12 = 0, cnt21 = 0, cnt22 = 0;\n\t\n\tfor(int i = 1; i <= n; ++i) {\n\t\tint tp = mx - h[i];\n\t\tcnt11 += tp % 2, cnt12 += tp / 2;\n\t}\n\t\n\tfor(int i = 1; i <= n; ++i) {\n\t\tint tp = 1 + mx - h[i];\n\t\tcnt21 += tp % 2, cnt22 += tp / 2;\n\t}\n\t\n\ttmp1 = check(cnt11, cnt12), tmp2 = check(cnt21, cnt22);\n\t\n\tprintf(\"%lld\\n\", min(tmp1, tmp2)); \n\t\n\treturn;\n}\n\nsigned main(void) {\n\tint t = read();\n\twhile(t--) solve();\n\treturn 0;\n}\n```\n\n\n\n\n",
        "postTime": 1649741460,
        "uid": 246013,
        "name": "invincible_summer",
        "ccfLevel": 0,
        "title": "CF1661C Water the Trees \u9898\u89e3"
    },
    {
        "content": "## \u9898\u610f\u7b80\u8ff0\n\n------------\n- \u7ed9\u5b9a $t$ \u7ec4\u6570\u636e\uff0c\u6bcf\u7ec4\u6570\u636e\u5305\u62ec $n$ \u548c $n$ \u4e2a\u6570\u3002\n\n- \u6bcf\u5929\u53ef\u4ee5\u4f7f\u4efb\u610f\u4e00\u4e2a\u6570\u52a0 $1$\uff08\u5929\u6570\u4e3a\u5947\u6570\u65f6\uff09\u6216\u52a0 $2$\uff08\u5929\u6570\u4e3a\u5076\u6570\u65f6\uff09\uff0c\u6216\u8005\u8df3\u8fc7\u8fd9\u4e00\u5929\u3002\n\n- \u6c42\u6700\u5c11\u4f7f\u6240\u6709\u6570\u90fd\u4e00\u6837\u7684\u5929\u6570\uff0c\u5e76\u8f93\u51fa\u3002\n\n- $1 \\leq t \\leq 2 \\times 10^4$\uff0c$1 \\leq n \\leq 3 \\times 10^5$\uff0c$1 \\leq h_i \\leq 10^9$\u3002\n\n## \u9898\u76ee\u5206\u6790\n\n------------\n\u672c\u9898\u53ef\u4ee5\u7528 **\u4e8c\u5206** \u6216\u8005 **\u8d2a\u5fc3** \u6765\u505a\uff0c\u6211\u9009\u62e9\u4e86\u8d2a\u5fc3\u3002\n\n### \u601d\u8def\n\n------------\n\u9996\u5148\u89c2\u5bdf\uff0c\u6240\u9700\u7684\u76ee\u6807\u9ad8\u5ea6\u4e3a\u6700\u5927\u6570\u6216\u6700\u5927\u6570\u52a0 $1$\uff08\u5982\u679c\u8003\u8651\u6700\u5927\u6570\u52a0 $2$ \u6216\u4ee5\u4e0a\uff0c\u6211\u4eec\u80af\u5b9a\u6709\u591a\u4f59\u7684\u64cd\u4f5c\uff09\u3002\u800c\u5982\u679c\u9700\u52a0 $1$ \u7684\u6b21\u6570\u6bd4\u9700\u52a0 $2$ \u7684\u6b21\u6570\u591a\u5f88\u591a\uff0c\u6211\u4eec\u5c31\u9700\u8981\u4f7f\u76ee\u6807\u9ad8\u5ea6\u4e3a\u6700\u5927\u9ad8\u5ea6\u52a0 $1$\uff08\u8fd9\u6837\u53ef\u4ee5\u4f7f\u9700\u52a0 $1$ \u7684\u6b21\u6570\u6bd4\u9700\u52a0 $2$ \u7684\u6b21\u6570\u5c11\uff08\u6613\u8bc1\uff09\uff09\uff0c\u8fd9\u5c31\u662f\u7a0b\u5e8f\u6700\u540e\u7684 \u53d6\u4e24\u79cd\u60c5\u51b5 \u7684\u539f\u56e0\u3002\n\n\u63a5\u7740\uff0c\u5148\u7528\u4e24\u4e2a\u53d8\u91cf\u5206\u522b\u4fdd\u5b58\u52a0 $1$ \u7684\u6b21\u6570\u548c\u52a0 $2$ \u7684\u6b21\u6570\uff0c\u7136\u540e\u53ef\u4ee5\u8003\u8651\u4e00\u4e2a\u660e\u663e\u7684\u8d2a\u5fc3\uff1a\u80af\u5b9a\u6bcf\u6b21\u52a0 $2$ \u80fd\u6700\u5feb\u4f7f\u6570\u90fd\u8d8b\u5411\u4e8e\u6700\u5927\u7684\u6570\uff0c\u5f53\u8be5\u6570\u4e0e\u6700\u5927\u6570\u5dee $1$ \u65f6\u7528 $1$ \u6765\u89e3\u51b3\u3002\u7136\u800c\u6839\u636e\u9898\u610f\uff0c\u53ea\u6709\u5076\u6570\u65e5\u80fd\u52a0 $2$\uff0c\u5982\u679c\u592a\u8d2a\u5fc3\uff08\u52a0 $2$ \u6b21\u6570\u6bd4\u52a0 $1$ \u7684\u6b21\u6570\u591a\u8d85\u8fc7 $1$\uff09\u4f1a\u4f7f\u5947\u6570\u65e5\u8df3\u8fc7\uff0c\u80af\u5b9a\u662f\u6d6a\u8d39\u7684\u3002\u6240\u4ee5\u6211\u4eec\u52a0\u4e0a\u7b2c\u4e8c\u5c42\u8d2a\u5fc3\uff1a\u4f7f\u52a0 $1$ \u7684\u6b21\u6570\u548c\u52a0 $2$ \u7684\u6b21\u6570\u8d8b\u4e8e\u76f8\u540c\uff08\u4f7f\u4e24\u4e2a\u53d8\u91cf\u4e4b\u5dee\u4e0d\u8d85\u8fc7 $1$\uff09\uff0c\u53ef\u4ee5\u51cf\u5c11\u8df3\u8fc7\u65e5\u7684\u6d6a\u8d39\u3002\n\n## \u4ee3\u7801\n\n------------\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define mx 300010\nusing namespace std;\nint t,n,maxx,a[mx];\nint wk(int x){\n\tint ct1=0,ct2=0;\n\tfor(int i=1;i<=n;i++){\n\t\tct1+=(x-a[i])%2;//\u6240\u9700 1 \u7684\u4e2a\u6570 \n\t\tct2+=(x-a[i])/2;//2 \u7684\u4e2a\u6570 \n\t}\n\tint tmp=ct2-ct1;\n\tif(tmp>=2){//\u5982\u679c\u5dee\u503c\u8fc7\u591a \n\t\tct1+=(tmp+1)/3*2;\n\t\tct2-=(tmp+1)/3;\n\t}\n\tif(ct1>ct2){//\u6b21\u6570\n\t\treturn ct1*2-1;\n\t}else{\n\t\treturn ct2*2;\n\t}\n}\nsigned main(){\n\tcin>>t;\n\twhile(t--){\n\t\tcin>>n;\n\t\tmaxx=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>a[i];\n\t\t\tif(a[i]>maxx){\n\t\t\t\tmaxx=a[i];\n\t\t\t}\n\t\t}\n\t\tcout<<min(wk(maxx),wk(maxx+1))<<endl;\n\t}\n\treturn 0;\n}\n```\n\n\n### \u5176\u4ed6\u7684\u8bdd\n------------\n\u6ca1\u52a0\u4f18\u5316\u4f1a\u4e00\u5934\u51b2\u8fdb\u6700\u52a3\u89e3 awa",
        "postTime": 1649824528,
        "uid": 577943,
        "name": "Dedaka",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1661C Water the Trees"
    }
]