[
    {
        "content": "### $\\text{Difficulty : 2000}$\n---\n### \u89e3\u9898\u601d\u8def\uff1a\n\n\u9996\u5148\u786e\u5b9a\u662f\u4e8c\u5206\uff0c\u5173\u952e\u662f\u5982\u4f55\u4e8c\u5206\u3002\u56e0\u4e3a\u53ea\u6709 $40$ \u6b21\u67e5\u8be2\uff0c\u60f3\u8981\u901a\u8fc7\u4e09\u6b21\u4e8c\u5206\u67e5\u8be2\u662f\u4e0d\u73b0\u5b9e\u7684\u3002\n\n\u4f46\u662f\u53ef\u4ee5\u786e\u5b9a\u7684\u662f\uff0c\u81f3\u5c11\u9700\u8981\u4e8c\u5206\u51fa\u4e09\u4e2a\u7ed3\u679c\u4e2d\u7684\u4e00\u4e2a\u624d\u80fd\u7ee7\u7eed\u505a\u4e0b\u53bb\u3002\u4e2d\u95f4\u7684\u70b9\u5f88\u96be\u786e\u5b9a\uff0c\u5de6\u53f3\u4e24\u8fb9\u7684\u5bf9\u79f0\uff0c\u4e0d\u59a8\u53d6\u5de6\u8fb9\u7684\u70b9\u3002\n\n---\n\u5728\u4e8c\u5206\u51fa\u5de6\u7aef\u70b9\u4e4b\u540e\uff0c\u53ef\u4ee5\u53d1\u73b0\uff0c\u5176\u5b9e\u518d\u67e5\u8be2\u56db\u6b21\u5c31\u53ef\u4ee5\u5f97\u51fa\u7ed3\u679c\u4e86\u3002\n\n\u9996\u5148\u5411\u53f3\u67e5\u8be2\u4e00\u6b21\uff08\u6216\u8005\u7528\u6700\u4e00\u5f00\u59cb\u7684\u67e5\u8be2\u7ed3\u679c\uff0c\u53cd\u6b63\u5c31\u662f\u5305\u62ec\u4e86\u6574\u4e2a\u7ecf\u8fc7\u98a0\u5012\u7684\u533a\u95f4\u7684\u4e00\u4e2a\u7b54\u6848\uff0c\u4e0d\u8fc7\u597d\u50cf\u4e0d\u5361\u8fd9\u4e2a\uff09\uff0c\u4e0d\u59a8\u8bbe\u4e3a $a$\u3002\u7136\u540e\u67e5\u8be2\u5de6\u7aef\u70b9\u5411\u53f3\u4e00\u4e2a\u5355\u4f4d\u5230\u6700\u53f3\u8fb9\uff0c\u4e0d\u59a8\u8bbe\u5f97\u5230\u7684\u7ed3\u679c\u4e3a $b$\u3002\n\n\u4e24\u6b21\u7b54\u6848\u66f4\u6539\u7684\u91cf\u662f $a-b$\uff0c\u5c31\u662f\u7ffb\u8f6c\u7684\u5de6\u534a\u533a\u95f4\u7684\u957f\u5ea6\u51cf\u4e00\uff0c\u56e0\u4e3a\u53d7\u5230\u5f71\u54cd\u7684\u53ea\u6709\u6700\u5de6\u8fb9\u7684\u4e00\u4e2a\u70b9\uff0c\u800c\u8fd9\u4e2a\u70b9\u4ea7\u751f\u7684\u8d21\u732e\u5c31\u662f\u5de6\u533a\u95f4\u7684\u957f\u5ea6\u51cf\u4e00\u3002\n\n\u6839\u636e\u5de6\u7aef\u70b9\u7684\u4f4d\u7f6e\u548c\u5de6\u533a\u95f4\u7684\u957f\u5ea6\uff0c\u6c42\u5f97\u4e2d\u95f4\u70b9\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u7528\u540c\u6837\u7684\u65b9\u6cd5\u6c42\u51fa\u53f3\u7aef\u70b9\u3002\n\n---\n\u8bb0\u5f97\u5f00 $\\text{long long}$\u3002\n\n---\n### \u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<cmath>\nusing namespace std;\n#define int long long\nint n,T,l,r,mid,ans,x,y,z,I,J,K;\nint query(int x,int y){\n\tprintf(\"? %I64d %I64d\\n\",x,y);\n\tfflush(stdout);\n\tint z=0;\n\tscanf(\"%I64d\",&z);\n\treturn z;\n}\nsigned main(){\n\tscanf(\"%I64d\",&T);\n\twhile(T--){\n\t\tscanf(\"%I64d\",&n);\n\t\tl=1,r=n;\n\t\twhile(l<=r){\n\t\t\tmid=(l+r)>>1;\n\t\t\tx=query(1,mid);\n\t\t\tif(x>0)r=mid-1;\n\t\t\telse ans=mid,l=mid+1;\n\t\t}\n\t\tI=ans;\n\t\tx=query(I,n);\n\t\ty=query(I+1,n);\n\t\tJ=I+x-y+1;\n\t\tx=query(J,n);\n\t\ty=query(J+1,n);\n\t\tK=J+x-y;\n\t\tprintf(\"! %I64d %I64d %I64d\\n\",I,J,K);\n\t\tfflush(stdout);\n\t}\n\t/*\n\tx^2+x-2c\n\td=sqrt(1+8c)\n\t\\dfrac{-1+d}{2}\n\t*/\n\treturn 0;\n}\n```\n",
        "postTime": 1646742744,
        "uid": 223559,
        "name": "qxp101",
        "ccfLevel": 6,
        "title": "CF1584D Guess the Permutation \u9898\u89e3"
    },
    {
        "content": "> CF1584D. [Guess the Permutation](https://codeforces.ml/problemset/problem/1584/D) *2000\n\n\u663e\u7136\u6211\u4eec\u9996\u5148\u5f97\u4e8c\u5206\u51fa\u81f3\u5c11\u4e00\u4e2a\u8fb9\u754c $l$\uff0c\u8fd9\u662f\u5bb9\u6613\u7684\u3002\u4f46\u662f\u5269\u4f59\u7684\u8be2\u95ee\u6b21\u6570\u4e0d\u8db3\u4ee5\u518d\u8fdb\u884c\u4e00\u6b21\u4e8c\u5206\u3002\u6211\u4eec\u77e5\u9053\u5e8f\u5217 $a,a-1,\\cdots,2,1$ \u7684\u9006\u5e8f\u5bf9\u4e2a\u6570\u4e3a $\\dbinom {a-1}2$\uff0c$\\dbinom a 2-\\dbinom{a-1}2=a-1$ \u8fd9\u4e00\u6027\u8d28\u542f\u53d1\u6211\u4eec\u901a\u8fc7\u7528 $[l,n]$ \u7684\u9006\u5e8f\u5bf9\u4e2a\u6570\u4e0e $[l+1,n]$ \u7684\u9006\u5e8f\u5bf9\u4e2a\u6570\u4f5c\u5dee\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230 $k-l$ \u7684\u957f\u5ea6\u3002\u957f\u5ea6\u4e00\u65e6\u786e\u5b9a\uff0c$[l,k-1]$ \u7684\u9006\u5e8f\u5bf9\u6570\u91cf\u4ee5\u53ca $k$ \u5c31\u56fa\u5b9a\u4e86\uff0c\u4ece\u800c\u53ef\u4ee5\u8ba1\u7b97\u51fa $[k,r]$ \u7684\u9006\u5e8f\u5bf9\u4e2a\u6570\u5e76\u53cd\u63a8\u51fa $[k,r]$ \u7684\u957f\u5ea6\uff0c\u628a\u53f3\u8fb9\u754c $r$ \u786e\u5b9a\u4e0b\u6765\u3002\u89e3\u5173\u4e8e $x$ \u7684\u65b9\u7a0b $\\dbinom{x}2=y$ \u53ef\u4ee5\u4f7f\u7528\u6570\u5b66\u6216\u4e8c\u5206\u6cd5\uff0c\u4e3a\u4e86\u4fdd\u9669\u8d5b\u65f6\u5199\u4e86\u4e8c\u5206\u3002\u603b\u8be2\u95ee\u6b21\u6570 $3+\\log n\\approx 33$\uff0c$3$ \u662f\u8be2\u95ee $[1,n]$\uff0c$[l,n]$ \u548c $8[l+1,n]$\u3002\n\n\u4ee3\u7801\u89c1 https://codeforces.com/contest/1588/submission/135350305 \u3002",
        "postTime": 1638152334,
        "uid": 123294,
        "name": "Alex_Wei",
        "ccfLevel": 10,
        "title": "CF1584D Guess the Permutation"
    },
    {
        "content": "### \u601d\u8def\n\n\u5b9a\u4e49 $ ask(l,r) $ \u8868\u793a\u8be2\u95ee $ l $ \u5230 $ r $ \u533a\u95f4\u7684\u9006\u5e8f\u5bf9\u4e2a\u6570\u3002\n\n\u5148\u8003\u8651\u5982\u4f55\u6c42\u51fa $ i $\u3002\n\n\u4e0d\u96be\u53d1\u73b0 $ ask(1,i) = 0 $\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4e8c\u5206\u67e5\u627e\u6700\u5927\u7684 $ i $ \u4f7f\u5f97 $ ask(1,i) = 0 $\u3002\n\n\u6b64\u65f6\u5df2\u7ecf\u7528\u6389\u4e86 $ 30 $ \u6b21\u8be2\u95ee\uff0c\u4e0d\u80fd\u7ee7\u7eed\u4e8c\u5206\uff0c\u8003\u8651\u901a\u8fc7\u522b\u7684\u6027\u8d28\u6c42\u51fa $ j,k $\u3002\n\n\u89c2\u5bdf\u4e00\u4e2a\u5f62\u5982 $ x,x - 1,\\dots,2,1 $ \u7684\u5e8f\u5217\uff0c\u5b83\u7684\u9006\u5e8f\u5bf9\u4e2a\u6570\u662f $ C_x^2 $ \u7684\uff0c\u7136\u540e\u5220\u53bb\u7b2c\u4e00\u4e2a\u5143\u7d20\u540e\uff0c\u9006\u5e8f\u5bf9\u4e2a\u6570\u53d8\u4e3a\u4e86 $ C_{x - 1}^2 $\uff0c\u5c11\u4e86 $ x - 1 $ \u4e2a\u9006\u5e8f\u5bf9\u4e2a\u6570\u3002\n\n\u5f97\u5230\u4e86\u8fd9\u4e00\u7ed3\u8bba\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8ba1\u7b97\u51fa $ i $ \u5230 $ j - 1 $ \u7684\u957f\u5ea6\uff0c\u5373\u4e3a $ ask(i,n) - ask(i + 1,n) $\u3002\n\n\u6c42 $ k $ \u4e5f\u662f\u540c\u7406\uff0c\u8fd9\u91cc\u4e0d\u8d58\u8ff0\u3002\n\n\u8be2\u95ee\u6b21\u6570\u662f $ \\log_2{10^9} + 2 + 2 = 33 $ \u6b21\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define int long long\n#define pb(x) push_back(x)\n#define pii pair<int,int>\n#define lowbit(x) x&-x\nusing namespace std;\nll ans;\nint n,m,T,idi,idj,idk,now,len;\ninline int read(){\n\tint s=0,f=0;\n\tchar ch=getchar();\n\twhile(ch>'9'||ch<'0') f|=(ch=='-'),ch=getchar();\n\twhile(ch<='9'&&ch>='0') s=(s<<3)+(s<<1)+(ch^48),ch=getchar();\n\treturn f?-s:s;\n}\ninline int ask(int l,int r){//\u8be2\u95ee\u51fa ask(l,r) \u7684\u503c\u3002\n\tcout<<\"? \"<<l<<\" \"<<r<<endl;\n\treturn read();\n}\ninline void write(int i,int j,int k){\n\tcout<<\"! \"<<i<<\" \"<<j<<\" \"<<k<<endl;\n}\nsigned main(){\n\tT=read();\n\twhile(T--){\n\t\tn=read();\n\t\tint l=1,r=n;\n\t\tidi=-1;\n\t\twhile(l<=r){//\u627e\u5230\u6700\u5927\u7684 i \u4f7f\u5f97 ask(1,i)=0\u3002\n\t\t\tint mid=l+r>>1;\n\t\t\tnow=ask(1,mid);\n\t\t\tif(now>0) r=mid-1;\n\t\t\telse l=mid+1,idi=mid;\n\t\t}\n\t\tlen=ask(idi,n)-ask(idi+1,n);//\u6839\u636e\u9006\u5e8f\u5bf9\u4e2a\u6570\u4e4b\u5dee\u8ba1\u7b97\u51fa[i,j-1]\u7684\u957f\u5ea6\n\t\tidj=idi+len+1;//\u56e0\u4e3a\u53cd\u8f6c\u7684\u533a\u95f4\u662f[i,j-1]\uff0c\u6240\u4ee5j\u7684\u4f4d\u7f6e\u8981+1\n\t\tlen=ask(idj,n)-ask(idj+1,n);\n\t\tidk=idj+len;\n\t\twrite(idi,idj,idk);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1653283036,
        "uid": 428089,
        "name": "HMZHMZHMZ",
        "ccfLevel": 7,
        "title": "CF1589D"
    },
    {
        "content": "**[Technocup 2022 - Elimination Round 2](http://codeforces.com/contest/1584)** [A](https://www.luogu.com.cn/blog/supervise/solution-cf1584a) / [B](https://www.luogu.com.cn/blog/supervise/solution-cf1584b) / [C](https://www.luogu.com.cn/blog/supervise/solution-cf1584c) / D / [E](https://www.luogu.com.cn/blog/supervise/solution-cf1584e) / [F](https://www.luogu.com.cn/blog/supervise/solution-cf1584f) / [G](https://www.luogu.com.cn/blog/supervise/solution-cf1584g)\n\n\u5982\u679c\u4ee5\u4e0a\u94fe\u63a5\u6240\u6307\u94fe\u63a5\u4e0d\u5b58\u5728\uff0c\u5c31\u662f\u4f5c\u8005\u5495\u4e86 /dk\n\n### Description\n\n**\u8fd9\u662f\u4e00\u9053\u4ea4\u4e92\u9898\u3002**\n\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u6570\u5217 $a$\uff0c\u6ee1\u8db3 $a_i=i$\u3002\n\n\u73b0\u5728\u9009\u62e9\u4e86 $i,j,k(1\\le i<j<k\\le n,j-i>1)$\uff0c\u7ffb\u8f6c\u533a\u95f4 $[i,j-1],[j,k]$\u3002\n\n\u4f60\u6bcf\u6b21\u53ef\u4ee5\u8be2\u95ee\u4ea4\u4e92\u5e93 $[l,r]$ \u7684\u9006\u5e8f\u5bf9\u4e2a\u6570\u3002\n\n\u4f60\u9700\u8981\u7528\u4e0d\u8d85\u8fc7 $40$ \u6b21\u8be2\u95ee\u786e\u5b9a $i,j,k$ \u7684\u503c\u3002\n\n### Soluition\n\n\u6211\u4eec\u8bb0 $Q(l,r)$ \u8868\u793a\u8be2\u95ee $l,r$ \u5f97\u5230\u7684\u7b54\u6848\u3002\n\n\u663e\u7136\u6709 $Q(1,i)=0$\uff0c\u6211\u4eec\u53ef\u4ee5\u4e8c\u5206 $i$\uff0c\u6bcf\u6b21\u8be2\u95ee $1,i$\uff0c\u76f4\u5230\u4e8c\u5206\u533a\u95f4\u957f\u5ea6\u4e3a $1$ \u4e3a\u6b62\u3002\n\n\u8fd9\u6837\u4f7f\u7528\u4e86 $\\log10^9<30$ \u6b21\u8be2\u95ee\u3002\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u8be2\u95ee $[i,k],[i+1,k]$\uff0c\u8bb0 $Q_1=Q(i,k)-Q(i+1,k)$\u3002\n\n\u5219 $Q_1$ \u5c31\u662f\u6ee1\u8db3 $p>i\\And a_p<a_i$ \u7684\u6570\u7684\u4e2a\u6570\u3002\n\n\u5bb9\u6613\u53d1\u73b0 $\\forall p\\in[i+1,j-1]$ \u90fd\u6ee1\u8db3\u8fd9\u4e00\u6761\u4ef6\uff0c\u800c $\\forall p\\in[j,n]$ \u90fd\u4e0d\u6ee1\u8db3\u8fd9\u4e00\u6761\u4ef6\u3002\n\n\u4e8e\u662f $Q_1$ \u5c31\u662f $[i+1,j-1]$ \u7684\u957f\u5ea6\uff0c\u5373 $Q_1=j-i-1$\uff0c\u8fdb\u4e00\u6b65\u53ef\u63a8\u5f97\n\n$$\nj=i+Q_1+1\n$$\n\n\u6211\u4eec\u7ee7\u7eed\u8be2\u95ee $[j,n],[j+1,n]$\uff0c\u8bb0 $Q_2=Q(j,n)-Q(j+1,n)$\u3002\n\n\u540c\u7406\u6709\n\n$$\nk=j+Q_2\n$$\n\n\u8fd9\u6837\u6211\u4eec\u5728 $34$ \u6b21\u8be2\u95ee\u5185\u5b8c\u7f8e\u89e3\u51b3\u4e86\u95ee\u9898\u3002\n\n### Code\n\n[$\\textit{135387087}$](http://codeforces.com/contest/1589/submission/135387087)",
        "postTime": 1638009378,
        "uid": 224931,
        "name": "CSP_Sept",
        "ccfLevel": 6,
        "title": "The Solution of CF1584D"
    }
]