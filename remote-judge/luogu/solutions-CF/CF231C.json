[
    {
        "content": "## Soultion\t\n\n\u9996\u5148\u6709\u4e00\u4e2a\u5f88\u660e\u663e\u7684\u8d2a\u5fc3\u3002\n\n\u5c06\u4e00\u4e2a\u6570\u52a0\u6210 $x$\uff0c\u9009\u7684\u6570\u90fd\u662f\u6bd4\u4ed6\u5c0f\u7684\u6700\u5927\u7684\u51e0\u4e2a\u6570\u624d\u4f1a\u6700\u4f18\u3002\n\n\u6211\u4eec\u7528\u53cc\u6307\u9488\u6765\u79fb\u52a8\uff0c$r$ \u6240\u6307\u7684\u4f4d\u7f6e\u8868\u793a\u5c06\u6570\u66ff\u6362\u6210 $a_r$\u3002\n\n\u5bf9\u4e8e\u5982\u4f55\u5224\u65ad\u5f53\u524d\u7684 $l$ \u5408\u4e0d\u5408\u6cd5\uff0c\u6211\u4eec\u7528\u524d\u7f00\u548c\u6765\u5224\u65ad\u5373\u53ef\u3002\n\n\u5f53\u524d\u79fb\u52a8\u5230 $[l,r]$\uff0c\u533a\u95f4\u90fd\u53d8\u6210 $a_r$ \u7684\u548c\u4e3a $(r - l + 1) \\times a_r$\uff0c\n\n\u5b9e\u9645\u4e0a\u7684\u548c\u4e3a $qzh_r - qzh_{l-1}$\uff0c\u5224\u65ad\u4e00\u4e0b\u4e24\u8005\u7684\u5dee\u503c\u548c $k$ \u7684\u5173\u7cfb\u5c31\u884c\u4e86\u3002\n\n\u5199\u5b8c\u4e4b\u540e\u6bd4\u6700\u4f18\u89e3\u7b2c\u4e8c\u5feb\u4e86 $300+ms$\uff0c~~\u867d\u7136\u6700\u4f18\u89e3\u7b2c\u4e8c\u4e5f\u662f\u6211~~\n\n```cpp\nint n, k, a[N], qzh[N];\nint maxv, maxnum = 0;\n\nsigned main() \n{\n\tn = read(), k = read();\n\tfor(int i = 1; i <= n; i++) a[i] = read();\n\tsort(a + 1, a + n + 1);\n\tfor(int i = 1; i <= n; i++) qzh[i] = qzh[i - 1] + a[i];\n\tint l = 1, r = 1;\n\twhile(l <= r && r <= n) {\n\t\tif(a[r] * (r - l + 1) - (qzh[r] - qzh[l - 1]) <= k) {\n\t\t\tif(r - l + 1 > maxnum) maxv = a[r], maxnum = r - l + 1;\n\t\t\tr++;\n\t\t}\t\n\t\telse l++;\n\t}\n\tprintf(\"%lld %lld\\n\", maxnum, maxv);\n\treturn 0;\n}\n```",
        "postTime": 1655904499,
        "uid": 396974,
        "name": "Buried_Dream",
        "ccfLevel": 4,
        "title": "CF231C To Add or Not to Add \u9898\u89e3"
    },
    {
        "content": "### \u89e3\u9898\u601d\u8def\uff1a\n\n\u53cc\u6307\u9488\uff08\u6216\u8005\u53eb\u5c3a\u53d6\u6cd5\uff09\u4ee5\u53ca\u4e00\u4e2a\u663e\u7136\u7684\u8d2a\u5fc3\uff0c\u4e0d\u7b97\u96be\u3002\n\n\u9996\u5148\u8003\u8651\u8d2a\u5fc3\u90e8\u5206\uff0c\u5047\u8bbe\u5f53\u524d\u9700\u8981\u5c06\u6700\u591a\u7684\u503c\u52a0\u5230 $a_i$\uff0c\u90a3\u4e48\u4e00\u5b9a\u9009\u62e9\u6bd4 $a_i$ \u5c0f\u7684\u4e14\u6700\u5927\u7684\u82e5\u5e72\u4e2a\uff0c\u5426\u5219\u5c06\u4e00\u4e2a\u76f8\u5bf9\u5c0f\u7684\u6362\u6210\u5927\u7684\u4e00\u5b9a\u53ef\u4ee5\u5728\u4ef7\u503c\u4e0d\u53d8\u5f97\u524d\u63d0\u4e0b\u51cf\u5c11\u9700\u8981\u4f7f\u7528\u7684\u4ee3\u4ef7\uff0c\u4ee5\u4fbf\u5176\u4ed6\u7684\u503c\u52a0\u5230 $a_i$\u3002\n\n\u7136\u540e\u8003\u8651\u5c3a\u53d6\u6cd5\uff0c\u82e5\u5c06\u5f53\u524d\u7684 $a_r$ \u80fd\u53d6\u5230\u7684\u6700\u8fdc\u7684\u5de6\u7aef\u70b9\u8bbe\u4e3a $l$\uff0c\u5c06 $r$ \u5411\u53f3\u79fb\u52a8\u540e $l$ \u4e00\u5b9a\u4e0d\u4f1a\u5411\u5de6\u79fb\u52a8\uff0c\u6240\u4ee5\u76f4\u63a5\u7528\u4e00\u4e2a\u5c3a\u53d6\u6cd5\u6765\u505a\uff0c\u603b\u590d\u6742\u5ea6\u662f $O(n)$ \u7684\uff0c\u5b8c\u5168\u53ef\u4ee5\u901a\u8fc7\u672c\u9898\u3002 \n\n---\n\n\u6b64\u5916\uff0c\u5982\u679c\u4e0d\u7528\u5c3a\u53d6\u6cd5\uff0c\u800c\u91c7\u7528\u679a\u4e3e\u9700\u8981\u52a0\u5230\u7684\u503c\u7136\u540e\u4e8c\u5206\u4f4d\u7f6e\u4e5f\u53ef\u4ee5\uff0c\u4e0d\u8fc7\u90a3\u6837\u7684\u590d\u6742\u5ea6\u662f $O(nlogn)$ \u7684\uff0c\u6ca1\u6709\u5c3a\u53d6\u6cd5\u4f18\u79c0\u3002\n\n---\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nlong long n,a[100005],sum[100005],ans,k,num;\nbool check(long long l,long long r){\n\treturn a[r]*(r-l+1)-sum[r]+sum[l-1]<=k;\n}\nsigned main(){\n\tscanf(\"%lld%lld\",&n,&k);\n\tfor(long long i=1;i<=n;i++)scanf(\"%lld\",&a[i]);\n\tsort(a+1,a+n+1);\n\tlong long l=1;\n\tans=-1;\n\tfor(long long rr=1;rr<=n;rr++){\n\t\tsum[rr]=sum[rr-1]+a[rr];\n\t\twhile(!check(l,rr))l++;\n\t\tif(ans<rr-l+1){\n\t\t\tans=rr-l+1;\n\t\t\tnum=a[rr];\n\t\t}\n\t}\n\tprintf(\"%lld %lld\\n\",ans,num);\n\treturn 0;\n}\n```\n\n\n---\n### \u95f2\u8bdd\uff1a\n\n\u6807\u9898\u73a9\u6897\uff1a$\\text{To add or not to add,that's a question.}$ \uff08\u52a0\u8fd8\u662f\u4e0d\u52a0\uff0c\u8fd9\u662f\u4e2a\u95ee\u9898\uff09",
        "postTime": 1635853137,
        "uid": 223559,
        "name": "qxp101",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF231C To Add or Not to Add"
    },
    {
        "content": "\u9996\u5148\u80af\u5b9a\u4f1a\u628a\u6570\u7ec4\u6392\u5e8f\u4e00\u904d\uff0c\u4e4b\u540e\u6211\u4eec\u8003\u8651\u76f8\u90bb\u4e24\u4e2a\u4e0d\u540c\u7684\u6570\u4e4b\u95f4\u7b54\u6848\u7684\u53d8\u5316\u3002\n\n\u6211\u4eec\u8bbe\u524d\u4e00\u4e2a\u4e3a $x$ \u540e\u4e00\u4e2a\u4e3a $y$\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u8003\u8651\u4f17\u6570\u51fa\u73b0\u6b21\u6570\u7684\u53d8\u5316\uff0c\u7531\u4e8e\u6570\u53d8\u5927\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u589e\u52a0\u4e00\u7684\u6b21\u6570\u4e5f\u53d8\u5927\u4e86\u3002\n\n\u8fd9\u65f6\u6709\u53ef\u80fd\u5f53\u4e0a\u4e00\u4e2a\u6570\u4f5c\u4e3a\u4f17\u6570\u65f6\u5411\u5de6\u80fd\u6269\u5c55\u7684\u6700\u8fdc\u7684\u6570\u5728\u8fd9\u4e2a\u6570\u4f5c\u4e3a\u4f17\u6570\u65f6\u5c31\u4e0d\u80fd\u6269\u5c55\u5230\u4e86\uff08\u6709\u70b9\u7ed5\uff0c\u5efa\u8bae\u591a\u8bfb\u51e0\u904d\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0a\u4e00\u4e2a\u6570\u5411\u5de6\u80fd\u6269\u5c55\u5230\u7684\u6700\u8fdc\u7684\u4f4d\u7f6e\u5f00\u59cb\u5411\u540e\u626b\u76f4\u5230\u52a0\u4e00\u7684\u6b21\u6570\u5728 $k$ \u4ee5\u5185\u5373\u53ef\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int N = 100002;\nint n, m, l, r, p, t, k, ans, sum, tot, cnt, a[N], b[N], c[N], w = -1;\ninline int read()\n{\n    register int x = 0, f = 1;\n\tchar ch = getchar();\n    while(!isdigit(ch))\n\t{\n\t\tif(ch == '-') f=-1;\n\t\tch = getchar();\n\t}\n    while(isdigit(ch))\n\t{\n\t\tx=(x << 1) + (x << 3) + (ch ^ 48);\n\t\tch = getchar();\n\t}\n    return x * f;\n}\nsigned main()\n{\n    n = read(); k = read();\n    for(int i = 1; i <=n ; i++)\n\t{\n\t    a[i] = read();\n\t}\n    sort(a + 1, a + n + 1);\n    for(int i = 1; i <= n; i++)\n    {\n        while( r + p * (a[i] - a[i - 1]) > k)\n        {\n            r = r - (a[i - 1] - a[i - p]);\n            p--;\n        }\n        r += p * (a[i] - a[i - 1]);\n        p++;\n        if(p > w)\n        {\n            w = p;\n\t\t\tans = a[i];\n\t\t}\n    }\n    cout << w << \" \" << ans;\n}\n\n\n```\n\n",
        "postTime": 1622847738,
        "uid": 503899,
        "name": "_byta",
        "ccfLevel": 0,
        "title": "CF231C To Add or Not to Add"
    },
    {
        "content": "## \u601d\u8def\n\n\u9996\u5148\u53ef\u4ee5\u5c06 $a$ \u6570\u7ec4\u964d\u5e8f\u6392\u5e8f\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c\u6392\u5b8c\u5e8f\u4e4b\u540e\uff0c\u5982\u679c\u60f3\u8981\u8ba9 $a_i$ \u51fa\u73b0\u7684\u6b21\u6570\u6700\u591a\uff0c\u53ea\u80fd\u591f\u8ba9 $a_{i+1}\\sim a_n$ \u7684\u6570\u8fdb\u884c +1 \u64cd\u4f5c\uff0c\u4e0d\u59a8 **\u4e8c\u5206\u7b54\u6848**\u3002\u5bf9\u4e8e\u6bcf\u4e2a $i\\ (1\\le i \\le n)$\uff0c\u4e8c\u5206\u5728\u64cd\u4f5c\u6570 $\\le k$ \u7684\u60c5\u51b5\u4e0b\uff0c\u6700\u591a\u53ef\u4ee5\u8ba9\u591a\u5c11\u4e2a\u6570\u7edf\u4e00\u4e3a $a_i$ \u3002\n\n\u4e8c\u5206\u7684\u5355\u8c03\u6027\u5728\u4e8e\uff1a\u8ba9 $a_i\\sim a_{i+j}$ \u7edf\u4e00\u7684\u6b21\u6570\uff0c\u4e00\u5b9a\u6bd4\u8ba9 $a_i\\sim a_{i+j+k}\\ (i,j,k\\ge 1)$ \u7edf\u4e00\u7684\u6b21\u6570\u76f8\u540c\u6216\u8005\u66f4\u4f4e\u3002\n\n\u8bbe $sum_i=\\sum_{k=1}^ia_k$\uff0c\u90a3\u4e48\u8ba9 $a_x\\sim a_{y}\\ (1\\le x\\le y \\le n)$ \u7edf\u4e00\u7684\u6b21\u6570\u5c31\u4e3a $a_x\\times (y-x+1)-(sum_y-sum_{x-1})$\u3002\n\n\u6700\u540e\u6bd4\u8f83\u51fa\u6700\u5c0f\u503c\uff0c\u8f93\u51fa\u5373\u53ef\u3002\u6ce8\u610f\uff1a\n\n- \u4e00\u5b9a\u8981\u5f00 `long long`\n- \u4e8c\u5206\u65f6\u6ce8\u610f `mid=(l+r+1)/2`\n- \u6ce8\u610f\u5728\u7edf\u4e00\u6b21\u6570\u76f8\u540c\u65f6\uff0c\u9009\u62e9\u7edf\u4e00\u6570\u7684\u6700\u5c0f\u503c\u4f5c\u4e3a\u7b54\u6848\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int Maxn=1e5;\n\ninline int read()\n{\n    char ch=getchar();\n    int f=1,x=0;\n    while(ch>'9' || ch<'0')\n    {\n        if(ch=='-') f=-1;\n        ch=getchar();\n    }\n    while(ch>='0' && ch<='9')\n    {\n        x=x*10+ch-'0';\n        ch=getchar();\n    }\n    return x*f;\n}\n\nint n,k,a[Maxn+5],sum[Maxn+5];\nint cnt[Maxn+5],ans;\ninline int cmp(int x,int y){return x>y;}\n\nsigned main()\n{\n    n=read(),k=read();\n    for(int i=1;i<=n;++i) a[i]=read();\n    sort(a+1,a+n+1,cmp);\n    for(int i=1;i<=n;++i) sum[i]=sum[i-1]+a[i];\n    for(int i=1;i<=n;++i)\n    {\n        int l=i,r=n;\n        while(l<r)\n        {\n            int mid=(l+r+1)/2;\n            if(a[i]*(mid-i+1)-(sum[mid]-sum[i-1])<=k)\n                l=mid;\n            else r=mid-1;\n        }\n        cnt[i]=l-i+1;\n        if(cnt[i]>=cnt[ans]) ans=i;\n    }\n    printf(\"%lld %lld\",cnt[ans],a[ans]);\n    return 0;\n}\n```",
        "postTime": 1618660078,
        "uid": 148913,
        "name": "Graphcity",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF231C \u3010To Add or Not to Add\u3011"
    },
    {
        "content": "==========\u8fd9\u9898\u505a\u7684\u4eba\u771f\u7684\u592a\u5c11\uff0c\u65e2\u7136\u7ffb\u8bd1\u4e86\u4e00\u4e0b\u5c31\u987a\u624b\u5199\u4e2a\u9898\u89e3\u5427\u3002===========\n\n\u8fd9\u79cd\u9898\u4e4b\u540e\u8bfb\u5165\u80af\u5b9a\u5148\u6392\u4e2a\u5e8f\u3002\u6211\u4eec\u8bbe $ai$\u4e3a\u51fa\u73b0\u6b21\u6570\u6700\u591a\u7684\u6570\uff0c\u7531\u4e8e\u53ea\u80fd$+1$\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u8981\u770b\u770b\u6bd4\u5b83\u5c0f\u7684\u6570\u6700\u591a\u53ef\u4ee5\u52a0\u591a\u5c11\u4e2a\u3002\u7531\u4e8e\u8d8a\u9760\u8fd1$ai$\u52a0\u7684\u8d8a\u5c11\u8d8a\u5212\u7b97\uff0c\u6240\u4ee5\u6211\u4eec\u5f88\u81ea\u7136\u5730\u628a\u6700\u524d\u9762\u7684$aj$\u820d\u5f03\u3002\u8fd9\u5c31\u662f\u4e00\u79cd\u8d2a\u5fc3\u7684\u601d\u60f3\u3002\n\n$Code$\uff1a\n\n```\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nconst int N=1000005;\nint a[N],n,b[N],c[N],maxn,len,lst,k,id;\nlong long ans;\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\tfor(int i=1;i<=n;++i) \n\t\tscanf(\"%d\",&a[i]);\n\tsort(a+1,a+1+n);\n\tint j=1;\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tans+=a[i];\n\t\twhile(1ll*(i-j+1)*a[i]-ans>k) ans-=a[j++];\n\t\tif(i-j+1>maxn) maxn=i-j+1,id=a[i];\n        //\u8ba1\u7b97\u6240\u9700\u7684+1\u6b21\u6570\u5e76\u4e14\u53bb\u6389\u6700\u524d\u9762\u7684\n\t}\n\tprintf(\"%d %d\",maxn,id);\n\treturn 0;\n}\n\n```",
        "postTime": 1569775159,
        "uid": 87724,
        "name": "\u58a8\u821e\u7075\u7eaf",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF231C \u3010To Add or Not to Add\u3011"
    }
]