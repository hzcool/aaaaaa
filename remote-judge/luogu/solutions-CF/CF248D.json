[
    {
        "content": "> \u7ed9\u5b9a\u4e00\u4e2a\u4e00\u7ef4\u5730\u56fe\uff0c`H` \u8868\u793a\u4e00\u6237\u4eba\u5bb6\uff08\u9047\u5230\u53ef\u4ee5\u9001\u7cd6\u679c\u6216\u8005\u4e0d\u9001\uff09\uff0c`S` \u8868\u793a\u4e00\u4e2a\u7cd6\u679c\uff08\u9047\u5230\u53ef\u4ee5\u6361\u8d77\u6216\u8005\u4e0d\u6361\uff09\uff0c`.` \u8868\u793a\u7a7a\u5730\uff0c\u8d70\u8fc7\u4e00\u683c\u9700\u8981\u4e00\u5355\u4f4d\u65f6\u95f4\u3002\u95ee\u4ece\u7b2c\u4e00\u683c\u5de6\u8fb9\u5f00\u59cb\uff0c\u6700\u5c11\u63d0\u524d\u51c6\u5907\u591a\u5c11\u7cd6\u679c\u624d\u80fd\u5728 $t$ \u65f6\u95f4\u5185\u7ed9\u6bcf\u6237\u4eba\u5bb6\u90fd\u6709\u4e00\u4efd\u7cd6\u679c\u3002\n\n\u5148\u4e0a useful binary search\u3002\n\nObservation\uff1a\u7cd6\u4e00\u5b9a\u6361\uff0c\u5e76\u4e14\u4e00\u5b9a\u9001\u3002\n\n\u6709\u4e24\u79cd\u51b3\u7b56\u3002\u7b2c\u4e00\u79cd\uff0c\u8d70\u8fc7\u53bb\u7136\u540e\u8d70\u56de\u6765\u3002\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u5148\u6ca1\u6709\u7cd6\u8d70\u8fc7\u53bb\u7136\u540e\u62ff\u5230\u7cd6\u4e86\u7acb\u9a6c\u56de\u6765\u9001\u3002\n\n\u8fd9\u79cd\u60c5\u51b5\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff1a\u6211\u5148\u628a\u7cd6\u6b20\u7740\uff0c\u7136\u540e\u4e00\u65e6\u7cd6\u591f\u4e86\u7acb\u9a6c\u8fd8\u56de\u6765\u3002\u53ef\u4ee5\u53d1\u73b0\u8fd9\u6837\u7684\u51b3\u7b56\u5728\u51b3\u5b9a\u8d70 S \u5f62\uff08\u53bb+\u56de+\u53bb\uff09\u7684\u65b9\u6cd5\u4e0a\u662f\u6700\u4f18\u7684\u3002\n\n\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u4e0d\u8fd8\u3002\u4f46\u5b9e\u9645\u4e0a\uff0c\u4e00\u65e6\u4f60\u5728\u7b2c $i$ \u6237\u505a\u51fa\u51b3\u5b9a\u8981\u5168\u90e8\u8d56\u8d26\u7136\u540e\u8dd1\u56de\u6765\u518d\u8fd8\uff0c\u90a3\u4f60\u5c31\u5728\u4e4b\u540e\u4e0d\u53ef\u80fd\u518d\u505a\u4e0a\u8ff0\u51b3\u5b9a\u4e86\u3002\u6240\u4ee5\u6211\u4eec\u5728\u6309\u4e0a\u8ff0\u51b3\u7b56\u8dd1\u7684\u540c\u65f6\uff0c\u6bcf\u4e00\u6b65\u90fd\u770b\u4e00\u4e0b\uff0c\u5982\u679c\u5269\u4e0b\u7684\u8981\u8dd1\u8fc7\u53bb\u7136\u540e\u8dd1\u56de\u6765\u8981\u82b1\u591a\u5c11\u65f6\u95f4\u3002\u6bcf\u6b21\u6700\u8fdc\u5230\u8fbe\u7684\u90a3\u4e2a\u70b9\u5fc5\u7136\u662f\u56fa\u5b9a\u7684\uff0c\u6240\u4ee5\u6c42\u51fa\u6765\u540e\u76f4\u63a5\u505a\u5c31\u597d\u4e86\u3002\n\n```cpp\nconst int N=5e5+9;\n\nint n,t,tot,st;\nint p[N],suf[N];\nchar s[N];\n\nbool check(int x) {\n\tint pos=0,curt=0,endp=0;\n\tint cnt=x;\n\twhile(endp<n&&cnt<tot) cnt+=(s[++endp]=='S');\n\twhile(endp<n&&suf[endp+1]) endp++;\n\tif(cnt<tot) return 0;\n\trep(i,1,endp) {\n\t\tcurt++;\n\t\tif(s[i]=='S') {\n\t\t\tx++;\n\t\t\tif(x==0) {\n\t\t\t\tif(suf[i]==0) curt+=(i-pos);\n\t\t\t\telse curt+=2*(i-pos);\n\t\t\t\tpos=0;\n\t\t\t}\n\t\t} else if(s[i]=='H') {\n\t\t\tx--;\n\t\t\tif(x<0&&!pos) {\n\t\t\t\tpos=i;\n\t\t\t\tint nt=curt+2*(endp-i);\n\t\t\t\tif(nt<=t) return 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn curt<=t;\n}\n\nsigned main() {\n\tn=read(), t=read();\n\tscanf(\"%s\",s+1);\n\trep(i,1,n) tot+=(s[i]=='H'), st+=(s[i]=='S');\n\tper(i,n,1) suf[i]=suf[i+1]+(s[i]=='H');\n\tint l=max(0ll,tot-st),r=n,ans=-1;\n\twhile(l<=r) {\n\t\tint mid=(l+r)/2;\n\t\tif(check(mid)) r=mid-1, ans=mid;\n\t\telse l=mid+1;\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1635929104,
        "uid": 180652,
        "name": "_lgswdn",
        "ccfLevel": 0,
        "title": "CF248D"
    },
    {
        "content": "[\u539f\u6587\u94fe\u63a5](https://blog.csdn.net/qq_43537070/article/details/107563752)\n#### \u8fd9\u662f\u4e00\u9053\u4e8c\u5206\u52a0\u8d2a\u5fc3\u9898\n#### \u9898\u610f\n\u5728\u4e00\u6761\u8def\u4e0a\u6709\u82e5\u5e72\u4e2a\u5e97\u548c\u623f\u5b50\uff0c\u6bcf\u4e2a\u623f\u5b50\u8981\u653e\u4e00\u4e2a\u7cd6\u679c\uff0c\u6bcf\u7ecf\u8fc7\u4e00\u4e2a\u5546\u5e97\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u4e00\u4e2a\u7cd6\u679c\u3002\n\u73b0\u5728\u6211\u4eec\u5f00\u59cb\u53ef\u4ee5\u643a\u5e26$k$\u4e2a\u7cd6\u679c\uff0c\u8981\u6c42\u5728$t$\u65f6\u95f4\u5185\u5b8c\u6210\uff0c\u6c42\u8fd9\u4e2a$k$\u7684\u6700\u5c0f\u503c\u3002\n#### \u601d\u8def\n\u5728\u8fd9\u4e2a\u9898\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u4e8c\u5206\u8fd9\u4e2a$k$\u503c\uff0c\u7136\u540e\u8003\u8651\u600e\u4e48\u9a8c\u8bc1\u53ef\u884c\u6027\u3002\n\u9996\u5148\u4e00\u5b9a\u662f\u6709\u7cd6\u80af\u5b9a\u4f1a\u7ed9\uff0c\u7136\u540e\u518d\u770b\u5982\u679c\u5f53\u6ca1\u6709\u7cd6\u679c\u65f6\uff0c\u662f\u91c7\u53d6\u62ff\u5230\u6ee1\u8db3\u4e4b\u524d\u7684\u7cd6\u679c\u6570\u540e\u5c31\u8fd4\u56de\u9001\u7cd6\u679c\uff0c\u8fd8\u662f\u6700\u540e\u4e00\u53e3\u6c14\u62ff\u5230\u8db3\u591f\u7684\u518d\u8fd4\u56de\u3002\n\u5982\u56fe\uff1a\n![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/20200724162403524.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNTM3MDcw,size_16,color_FFFFFF,t_70)\n~~\u753b\u56fe\u6280\u5de7\u6709\u9650\uff0c\u671b\u6d77\u6db5~~\n\u90a3\u4e48\u5728$check()$\u4e2d\u8003\u8651\u8fd9\u4e24\u4e2a\u60c5\u51b5\uff0c\u53ef\u4ee5\u77e5\u9053\u4e00\u5b9a\u53ea\u6709\u4e00\u6b21\u4f1a\u9009\u62e9\u8d70\u5230\u5e95\u518d\u8d70\u56de\u53bb\u3002\n\u6240\u4ee5\u76f4\u63a5\u4e8c\u5206\u8fd9\u4e2a\u65b9\u6cd5\u4fee\u6539\u70b9\uff0c\u5c31ok\u4e86\n#### \u4ee3\u7801\n\u5177\u4f53\u5b9e\u73b0\u89c1\u4ee3\u7801\n~~~cpp\nbool check(int x)\n{\n    int cnt = 0, pos1 = 0, pos2 = 0, sub = 0, s = t;\n    for (int i = 1; i <= n; i++)\n    {\n        if (cnt == sum && x >= 0)\n            return s >= min(i - pos1, sub);\n        s--;\n        if (str[i] == 'H')\n        {\n            if (!x)\n            {\n                if (!pos1)\n                    pos1 = i;\n                pos2 = i;\n            }\n            x--;\n            cnt++;\n        }\n        else if (str[i] == 'S')\n        {\n            x++;\n            if (!x)\n            {\n                sub += i - pos2;\n                if (cnt != sum)\n                    sub += i - pos2;\n            }\n        }\n    }\n    return s >= min(n - pos1, sub) && x >= 0;\n}\nint main()\n{\n    rd(n), rd(t);\n    scanf (\"%s\", str + 1);\n    for (int i = 1; i <= n; i++)\n        sum += str[i] == 'H';\n    int l = 0, r = sum;\n    while (l < r)\n    {\n        int mid = (l + r) >> 1;\n        if (check(mid))\n            r = mid;\n        else\n            l = mid + 1;\n    }\n    if (check(l))\n        pt(l);\n    else\n        pt(-1);\n    return 0;\n}\n~~~\n#### \u8c22\u8c22",
        "postTime": 1595579391,
        "uid": 212040,
        "name": "smoothset",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 CF248D \u3010Sweets for Everyone!\u3011"
    },
    {
        "content": "**\u9898\u76ee\u5927\u610f**\uff08\u7ffb\u8bd1\u662f\u6211\u624b\u6253\u7684\uff0c\u8bed\u6587\u4e0d\u592a\u597d\uff0c\u89c1\u8c05\uff09\n\n\u5723\u8bde\u8282\u5230\u4e86\uff01\u4f60\u73b0\u5728\u60f3\u53bb\u7ed9\u6bcf\u5bb6\u6bcf\u6237\u5206\u7cd6\u679c\u3002\u2018H\u2019\u8868\u793a\u8fd9\u91cc\u6709\u4e00\u6237\u4eba\u5bb6\uff0c\u2018S\u2019\u8868\u793a\u8fd9\u91cc\u6709\u4e00\u5bb6\u8d85\u5e02\uff0c\u2018.\u2019\u8868\u793a\u8fd9\u91cc\u4e3a\u7a7a\u5730\uff0c\u5f53\u4f60\u7ecf\u8fc7\u8d85\u5e02\u65f6\uff0c\u53ef\u4ee5\u4e701kg\u7cd6\u679c\uff08\u5982\u679c\u4e4b\u524d\u6765\u4e70\u8fc7\uff0c\u5219\u5f53\u7a7a\u5730\u770b\uff09\u3002\u73b0\u5728\u6709n\u4e2a\u5730\u65b9\uff0c\u56e0\u4e3a\u8981\u7b79\u5907\u5723\u8bde\u8282\uff0c\u4f60\u53ea\u6709t\u7684\u65f6\u95f4\u6765\u5b8c\u6210\u8fd9\u4e9b\u4efb\u52a1\uff0c\u95ee\u80fd\u5426\u8ba9\u6bcf\u6237\u4eba\u5bb6\u90fd\u5206\u52301kg\u7cd6\u679c\u3002\u56e0\u4e3a\u65f6\u95f4\u539f\u56e0\uff0c\u4f60\u9700\u8981\u63d0\u524d\u51c6\u5907\u4e00\u4e9b\u7cd6\u679c\uff0c\u5982\u679c\u53ef\u4ee5\u5b8c\u6210\u4e0a\u8ff0\u8981\u6c42\uff0c\u8f93\u51fa\u6700\u5c11\u9700\u8981\u63d0\u524d\u51c6\u5907\u591a\u5c11\u4e2a\u7cd6\u679c\uff0c\u5982\u679c\u4e0d\u884c\u5219\u8f93\u51fa-1.\n\n\u5927\u81f4\u601d\u8def\uff1a\u7ecf\u8fc7\u4e00\u7cfb\u5217\u7684\u624b\u63a8\u53d1\u73b0\uff0c\u5f53\u5230\u8fbe\u4e86\u4e00\u6237\u4eba\u5bb6\u4e14\u7cd6\u679c\u6ca1\u6709\u4e86\u65f6\uff0c\u53ea\u6709\u4e24\u79cd\u60c5\u51b5\u53ef\u5bfc\u81f4\u6700\u4f18\u89e3\u4ea7\u751f\uff1a1.\u5f80\u540e\u7ee7\u7eed\u8d70\uff0c\u76f4\u5230\u9047\u89c1\u7b2c\u4e00\u4e2a\u8d85\u5e02\u5c31\u6298\u8fd4\u56de\u6765\uff1b2.\u4e00\u76f4\u8d70\u5230\u5e95\uff0c\u518d\u8fd4\u56de\u3002\n\n\u4f46\u662f\u5982\u679c\u66b4\u529b\u7684\u8bdd\u80af\u5b9a\u4f1aT\u7684\uff0c\u800c\u53c8\u53ea\u9700\u8981\u6c42\u51fa\u7cd6\u679c\u6570\u91cf\uff0c\u5219\u53ef\u4ee5\u4e8c\u5206\u7b54\u6848\uff08\u4ece0~n\u4e00\u76f4\u4e8c\u5206\uff09\n\n\u5177\u4f53\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,t,sw[100010],l=0,r=0;\nstring a;\n\nbool judge(int va)\n{   \n\tint num=va,ans,end=0,last;\n    for(int i=0;i<n;i++)\n\t{\n        if(a[i]=='H')\n\t\t{\n            end=i;\n            num--;\n        }\n        else if(a[i]=='S')\n\t\t{\n            num++;\n            if(num==0)\n                end=i;\n        }\n    }\n    if(num<0)\n        return 0;\n    ans=0;last=-1;num=va;\n    for(int i=0;i<=end;i++)\n\t{\n        ans++;\n        if(a[i]=='H')\n\t\t{\n            num--;\n            if(num==-1)\n\t\t\t{\n                if(ans+((end-i)*2)<=t)\n                    return 1;\n                last=i;\n            }\n        }\n        else if(a[i]=='S')\n\t\t{\n            num++;\n            if(num==0)\n\t\t\t{\n                ans+=(i-last)*2;\n                last=-1;\n            }\n        }\n    }\n    if(ans<=t)\n        return 1;\n    return 0;\n}\n\nint main()\n{\tint l,r;\n\tcin>>n>>t>>a;\n    l=0;r=n;\n    while(l<r)\n    {\n    \tint mid=(l+r)/2;\n\t\tif(judge(mid))\n\t\t\tr=mid;\n\t\telse\n\t\t    l=mid+1;\n\t}\n\tif(judge(l))\n\t    cout<<l<<endl;\n\telse\n\t\tcout<<-1<<endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1565364050,
        "uid": 132290,
        "name": "\u5f00\u59cb\u65b0\u7684\u8bb0\u5fc6",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF248D \u3010Sweets for Everyone!\u3011"
    }
]