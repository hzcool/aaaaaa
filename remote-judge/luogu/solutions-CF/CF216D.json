[
    {
        "content": "## \u89e3\u9898\u601d\u8def\uff1a\n\n\u6211\u4eec\u5148\u5f00\u4e00\u4e2a vector $e_i$\uff0c\u4ee3\u8868\u7b2c $i$ \u4e2a\u5927\u5757\u7aef\u70b9\u7684\u503c\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u533a\u57df\uff0c\u4e8c\u5206\u5b83\u5de6\u8fb9\u6709\u51e0\u4e2a\u7aef\u70b9\u5728\u533a\u57df\u5185\uff0c\u53f3\u8fb9\u540c\u7406\u3002\n\n\u56e0\u4e3a\u6570\u636e\u8bf4\u4e0d\u4fdd\u8bc1\u6709\u5e8f\uff0c\u6240\u4ee5\u8981\u5148\u6392\u4e2a\u5e8f\u3002\n\n\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u4e2a STL \u795e\u5668\uff0clower_bound \u548c upper_bound\u3002\n\n\u624b\u5199\u4e8c\u5206\u5bb9\u6613\u70b8\uff0c\u8fd9\u9898\u548c\u540c\u5b66\u6bd4\u624b\u901f\u7684\u65f6\u5019\u6211\u7684\u4e8c\u5206\u662f\u70b8\u4e86\u8fd8\u5199\u7684\u6162\u3002\n\nlower_bound \u7528\u6cd5\u5927\u6982\u662f\u8fd9\u6837\u7684\uff0c`lower_bound(a+1,a+1+n,b)`\u3002\n\n\u5176\u4e2d $a$ \u662f\u4e8c\u5206\u7684\u6570\u7ec4\uff0c$n$ \u662f\u6570\u7ec4\u957f\u5ea6\uff0c\u5199\u6cd5\u7c7b\u4f3c sort\u3002\n\n\u6700\u540e\u7684 $b$ \u662f\u4f60\u8981\u4e8c\u5206\u7684\u6570\u3002\u6ce8\u610f\u8fd9\u4e2a\u4e1c\u897f\u8fd4\u56de\u4e00\u4e2a\u6307\u9488\u3002\n\n\u90a3\u4e48 upper \u548c lower \u7684\u533a\u522b\u662f\u4ec0\u4e48\u5462\uff1f\n\n\u5f88\u7b80\u5355\uff0clower \u8fd4\u56de\u7b2c\u4e00\u4e2a\u5927\u4e8e\u7b49\u4e8e\u7684\u4f4d\u7f6e\uff0cupper \u8fd4\u56de\u7b2c\u4e00\u4e2a\u5927\u4e8e\u7684\u4f4d\u7f6e\u3002\n\n\u53c8\u600e\u4e48\u7edf\u8ba1\u7b54\u6848\u5462\uff1f\n\n\u8fd9\u91cc\u53ef\u4ee5\u5229\u7528\u524d\u7f00\u548c\u7684\u601d\u60f3\uff0c\u4e00\u4e2a\u533a\u57df\u5728 $r$ \u4ee5\u5185\u7684\u4e2a\u6570\u51cf\u53bb\u5728 $l$ \u4ee5\u5185\u7684\u4e2a\u6570\u5c31\u662f $l$ \u5230 $r$ \u7684\u4e2a\u6570\u3002\n\n## AC\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nint n,ans;\nvector<int> e[100005];\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint u;\n\t\tcin>>u;\n\t\tfor(int j=1;j<=u;j++)\n\t\t{\n\t\t\tint v;\n\t\t\tcin>>v;\n\t\t\te[i].push_back(v);\n\t\t}\n\t\tsort(e[i].begin(),e[i].end());//\u6ce8\u610f\u4e8c\u5206\u6570\u7ec4\u4e00\u5b9a\u8981\u6709\u5e8f\u3002\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint len=e[i].size(),beg=(i==1?n:i-1),nxt=(i==n?1:i+1);\n\t\tfor(int j=1;j<len;j++)\n\t\t{\n\t\t\tint t1=(lower_bound(e[beg].begin(),e[beg].end(),e[i][j])-e[beg].begin())-(upper_bound(e[beg].begin(),e[beg].end(),e[i][j-1])-e[beg].begin()-1)+1;\n        \t\t//t1\u5c31\u662f\u5de6\u8fb9\u7684\u7aef\u70b9\u3002\n\t\t\tint t2=(lower_bound(e[nxt].begin(),e[nxt].end(),e[i][j])-e[nxt].begin())-(upper_bound(e[nxt].begin(),e[nxt].end(),e[i][j-1])-e[nxt].begin()-1)+1;\n            \t\t//t2\u5c31\u662f\u53f3\u8fb9\u7684\u3002\n\t\t\tif(t1!=t2)\n\t\t\t\t++ans;//\u7edf\u8ba1\u7b54\u6848\n\t\t}\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1643963268,
        "uid": 355640,
        "name": "_HMZ_",
        "ccfLevel": 7,
        "title": "CF216D Spider's Web \u9898\u89e3"
    }
]