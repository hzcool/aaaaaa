[
    {
        "content": "\u9898\u5916\u8bdd\uff1a\u8981\u9690\u9000\u4e00\u6bb5\u65f6\u95f4\u4e86\uff0c\u518d\u5199\u7bc7\u9898\u89e3\u5427\u3002\u505a\u4e86 30 \u4e2a\u6df1\u8e72\u540e\u601d\u7ef4\u683c\u5916\u6e05\u9192\u3002\n\n\u4e00\u4e2a\u663e\u7136\u7684\u7ed3\u8bba\uff1a\u6700\u591a\u52a0 3 \u6761\u8fb9\u3002\u8003\u8651\u5206\u7c7b\u8ba8\u8bba\u3002\n\n>- \u52a0 $3$ \u6761\u8fb9\uff1a$m=0$\uff0c\u663e\u7136\u5c31\u662f\u968f\u4fbf\u9009 $3$ \u4e2a\u70b9\u52a0\u4e09\u6761\u8fb9\uff0c\u65b9\u6848\u6570 $C_{n}^{3}$\u3002\n>- \u52a0 $2$ \u6761\u8fb9\uff1a\u6700\u5927\u8fde\u901a\u5757\u5927\u5c0f $<3$\u3002\u663e\u7136\u6709 $m$ \u4e2a\u5927\u5c0f\u4e3a $2$ \u7684\u8fde\u901a\u5757\uff0c\u6bcf\u4e2a\u8fde\u901a\u5757\u53ef\u4ee5\u88ab\u4efb\u610f\u4e00\u4e2a\u975e\u5f53\u524d\u8fde\u901a\u5757\u7684\u8282\u70b9\u8fde\u4e24\u6761\u8fb9\uff0c\u65b9\u6848\u6570 $(n-2)\\times m$\u3002\n>- \u52a0 $1$ \u6761\u8fb9\uff1a\u5bf9\u4e8e\u6bcf\u4e2a\u8fde\u901a\u5757\uff0c\u975e\u76f8\u90bb\u8282\u70b9\u4e4b\u95f4\u53ef\u4ee5\u4efb\u610f\u8fde\u4e00\u6761\uff0c\u8bbe\u975e\u76f8\u90bb\u8282\u70b9\u5206\u522b\u6709 $s_1,s_2$ \u4e2a\uff0c\u5219\u5f53\u524d\u8fde\u901a\u5757\u7684\u8d21\u732e\u4e3a $C_{s1}^{2}+C_{s2}^{2}$\u3002\n>- \u52a0 $0$ \u6761\u8fb9\uff1a\u5df2\u5b58\u5728\u4e00\u4e2a\u5947\u73af\u3002\n\n\u5224\u65ad\u5947\u73af\uff0c\u8ba1\u6570\u76f8\u90bb\u8282\u70b9\u90fd\u53ef\u4ee5\u7528\u67d3\u8272 dfs \u89e3\u51b3\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int N=1e5+5;\nint n,m,co[N];\nlong long ans,c1,c2;\nvector<int> G[N];\n\nbool dfs(int u,int col)\n{\n    if(~co[u]) return co[u]!=col;\n    co[u]=col;\n    col?c1++:c2++;\n    bool f=0;\n    for(int v:G[u]) f|=dfs(v,col^1);\n    return f;\n}\n\nint main()\n{\n    ios::sync_with_stdio(false);\n    cin.tie(0),cout.tie(0);\n    cin>>n>>m;\n    if(m==0) return cout<<3<<' '<<1ll*n*(n-1)*(n-2)/6<<'\\n',0;\n    for(int i=1,u,v;i<=m;i++) cin>>u>>v,G[u].push_back(v),G[v].push_back(u);\n    memset(co,-1,sizeof(co));\n    bool f=0;\n    for(int i=1;i<=n;i++)\n        if(co[i]==-1)\n        {\n            c1=c2=0;\n            if(dfs(i,0)) return cout<<\"0 1\"<<'\\n',0;\n            if(c1+c2>2) {f=1;ans+=c1*(c1-1)/2+c2*(c2-1)/2;}\n        }\n    f?cout<<1<<' '<<ans<<'\\n':cout<<2<<' '<<1ll*(n-2)*m<<'\\n';\n}\n```",
        "postTime": 1685102970,
        "uid": 501028,
        "name": "spider_oyster",
        "ccfLevel": 5,
        "title": "CF557D Vitaly and Cycle"
    },
    {
        "content": "\u56fe\u8bba\u7684\u5c0f\u601d\u7ef4\u9898\uff0c\u6ce8\u610f\u5206\u7c7b\u8ba8\u8bba\u5373\u53ef  \n\n\u9898\u76ee\u6709\u4e24\u95ee\uff0c\u5148\u56de\u7b54\u9700\u8981\u52a0\u591a\u5c11\u8fb9\uff0c\u518d\u56de\u7b54\u65b9\u6848\u6570  \n\n\u4ed4\u7ec6\u60f3\u60f3\u52a0\u8fb9\u6570\u4e0d\u4f1a\u8d85\u8fc7\u4e09\uff0c\u968f\u4fbf\u628a\u4e09\u4e2a\u70b9\u8fde\u8d77\u6765\u80af\u5b9a\u4f1a\u5f62\u6210\u4e00\u4e2a\u57fa\u73af  **\u6b64\u65f6\u4e00\u5b9a\u6709 \u8fb9\u6570 $m = 0$**\n\n\u90a3\u4e48\u7ee7\u7eed\u8003\u8651\u52a0\u8fb9\u6570($a$)\u4e3a 0,1,2\u7684\u60c5\u51b5  \n\n1.$a = 0$\n\n\u5224\u65ad\u5947\u73af\u4e0d\u96be\u60f3\u5230\u6700\u5e38\u7528\u7684\u9ed1\u767d\u67d3\u8272\uff0c\u5982\u679c\u5df2\u7ecf**\u5b58\u5728**\u5947\u73af\uff0c\u90a3\u4e48$a= 0$,\u65b9\u6848\u6570\u552f\u4e00\n\n2. $a = 1$\n\n\u5f53**\u5b58\u5728**\u4e00\u4e2a\u8fde\u901a\u5757\u5185\u70b9\u6570$\\geq3$\u65f6\uff0c\u7531\u62bd\u5c49\u539f\u7406\u53ef\u5f97\uff0c\u5fc5\u5b9a\u5b58\u5728\u540c\u8272\u70b9\uff0c\u8fd9\u65f6\u6211\u4eec\u8fde\u63a5\u4e24\u4e2a\u540c\u8272\u70b9\u5c31\u4f1a\u5f97\u5230\u4e00\u4e2a\u5947\u73af\uff0c\u8bbe\u4e00\u4e2a\u8fde\u901a\u5757\u5185\u767d\u70b9\u4e2a\u6570\u4e3a$w$,\u9ed1\u70b9\u4e2a\u6570\u4e3a$b$,\u8be5\u8fde\u901a\u5757\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u4e3a$C(w,2)+C(b,2)$\n\n3. $a = 2$\n\n\u5f53**\u5b58\u5728**\u4e00\u4e2a\u8fde\u901a\u5757\u70b9\u6570$=2$,\u8be5\u8fde\u901a\u5757\u5185\u4e24\u4e2a\u70b9\uff0c\u5411\u5176\u4ed6\u4efb\u610f\u4e00\u4e2a\u70b9\u8fde\u4e24\u6761\u8fb9\u5373\u53ef\u5f62\u6210\u6709\u4e09\u6761\u8fb9\u7684\u5947\u73af\uff0c\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u4e3a$n - 2$\n\n\u4ee5\u4e0a\u7ed3\u8bba\u90fd\u975e\u5e38\u76f4\u89c2\u81ea\u5df1\u753b\u753b\u56fe\u53ef\u4ee5\u72ec\u7acb\u89e3\u51b3\uff0c\u6ce8\u610f\u51e0\u4e2a\u6761\u4ef6\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\n\n\u559c\u95fb\u4e50\u89c1\u7684\u4ee3\u7801\u5b9e\u73b0\uff08\u5199\u7684\u6709\u70b9\u4e11\uff09\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\ntypedef long long ll;\n\nusing namespace std;\n#define $(i,a,n) for(int i = a; i <= n; ++i)\n\ninline ll read() {\n\t   ll ans = 0;\n\t   char last = ' ',ch = getchar();\n\t   while(ch < '0' || ch > '9') last = ch, ch = getchar();\n\t   while(ch >= '0' && ch <= '9') ans = (ans << 3) + (ans << 1) + ch - '0', ch = getchar();\n\t   if(last == '-') ans = -ans;\n\t   return ans;\n}\n\nconst int INF = 0x3f3f3f3f;\n\nconst int N = 1e5 + 5;\nint b, w;\nint head[N];\nint n, m;\nstruct Edge{\n\tint next, to;\n}e[N << 1];\nint tot;\nint col[N];\nvoid insert(int x, int y) {\n\te[++tot].next = head[x];\n\thead[x] = tot;\n\te[tot].to = y;\n}\nint num = 0;\nbool dfs(int u, int c) {\n\tif(col[u]) {\n\t\tif(col[u] != c) return false;\n\t\treturn true;\n\t}\n\tcol[u] = c;\n\tif(c == 1) ++b;\n\telse ++w;\n\t++num;\n\tbool flag = true;\n\tint v;\n\tfor(int i = head[u]; i; i = e[i].next) {\n\t\tv = e[i].to;\n\t\tflag &= dfs(v, -c);\n\t}\n\treturn flag;\n}\nll ans2, ans3;\nint main(){\n\t//freopen(\"testdata.in\", \"r\", stdin);\n\t//freopen(\"ans.out\", \"w\", stdout);\n\tn = read(), m = read();\n\tint x, y;\n\tif(m == 0) {\n\t\tprintf(\"%d %I64d\\n\", 3, 1ll * n * (n - 1) * (n - 2)/6);\n\t\treturn 0;\n\t}\n\tfor(int i = 1; i <= m; ++i) {\n\t\tx = read(), y = read();\n\t\tinsert(x, y), insert(y, x);\n\t}\n\tbool flag0 = true, flag1 = false;\n\tfor(int i = 1; i <= n; ++i) {\n\t\tif(col[i] == 0) {\n\t\t\tnum = 0;\n\t\t\tb = 0, w = 0;\n\t\t\tflag0 &= dfs(i, 1);\n\t\t\tif(!flag0) {\n\t\t\t\tprintf(\"0 1\\n\");\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(num >= 3) {\n\t\t\t\tans3 += 1ll * b * (b - 1)/2 + 1ll * w * (w - 1)/2;\n\t\t\t\tflag1 = true;\n\t\t\t} else if(num == 2 && !flag1) {\n\t\t\t\tans2 += 1ll * (n - 2);\n\t\t\t}\n\t\t}\n\t}\n\tif(flag1) printf(\"1 %I64d\\n\", ans3);\n\telse printf(\"2 %I64d\\n\", ans2);\n\treturn 0;\n}\n\n```\n\u6700\u540e\u795d\u5927\u5bb6CSP 2019 rp++",
        "postTime": 1573311617,
        "uid": 156945,
        "name": "Stream\u6708",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF557D \u3010Vitaly and Cycle\u3011"
    }
]