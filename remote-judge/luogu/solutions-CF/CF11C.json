[
    {
        "content": "## \u9898\u610f\u5206\u6790\n\n\u8fd9\u9053\u9898\u57fa\u672c\u50cf\u662f\u5de7\u6cd5\u953b\u70bc\u601d\u7ef4\u3002\n\n\u9996\u5148 \u6211\u4eec **\u679a\u4e3e\u6b63\u65b9\u5f62\u7684\u5de6\u4e0a\u89d2\u5750\u6807 \u7136\u540e\u4f9d\u6b21\u626b\u63cf\u56db\u6761\u8fb9\u7684\u957f\u5ea6** \u3002 \n\n**\u6ce8\u610f\u8fd9\u91cc\u626b\u63cf\u6709\u4e24\u79cd\u65b9\u5f0f \u5e73\u884c\u4e8e\u8fb9\u4ee5\u53ca\u5e73\u884c\u4e8e\u5bf9\u89d2\u7ebf**\u3002\n\n**\u5224\u65ad\u56db\u6761\u8fb9\u7684\u957f\u5ea6\u662f\u5426\u76f8\u7b49 \u8fd9\u662f\u7b2c\u4e00\u4e2a\u6307\u6807** \u3002\n \n \n\u7136\u540e\uff0c\u6211\u4eec\u8fd8\u9700\u8981 **\u5224\u65ad\u8fd9\u662f\u5426\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u6b63\u65b9\u5f62** \u3002\n\n\u8fd9\u91cc \u6211\u4eec\u53ef\u4ee5 **\u4f7f\u7528\u641c\u7d22\u5224\u65ad\u8054\u901a $ 1 $ \u7684\u4e2a\u6570** \u3002\n\n\u7136\u540e\u770b\u770b\u8fd9 **\u6570\u91cf\u662f\u5426\u548c\u6b63\u65b9\u5f62\u7684 $ 1 $ \u7684\u6570\u91cf\u76f8\u7b49** \u8fd9\u662f\u7b2c\u4e8c\u4e2a\u6307\u6807\u3002\n\n\n\n\n## \u4ee3\u7801\u601d\u8def\n\n\u5bf9\u4e8e\u5f53\u524d\u70b9,\u5148\u627e\u4ee5\u5b83\u4e3a\u9876\u70b9\u7b2c\u4e00\u7c7b\u6b63\u65b9\u5f62\u8fb9\u957f,\u518d\u627e\u7b2c\u4e8c\u7c7b\u6b63\u65b9\u5f62\u8fb9\u957f\u3002\n\n\u6700\u540e\u8ba1\u7b97\u4e00\u4e0b\u4ee5\u5b83\u4e3a\u9876\u70b9\u7684\u8fde\u901a\u5757 $ 1 $ \u7684\u6570\u76ee\u3002\n\n\u5982\u679c $ 1 $ \u7684\u4e2a\u6570\u7b49\u4e8e\u8fb9\u957f\u51cf $ 1 $ \u4e58 $ 4 $ \u3002\n\n\u90a3\u4e48\u8fd9\u5c31\u662f\u4e00\u7c7b\u6b63\u65b9\u5f62\u3002\n\n\n```cpp\n#include <iostream>\n#include <cstring>\n#include <cstdio>\nusing namespace std;\nconst int N = 255;\nint n,m;\nint xx[8] = {-1,1,0,0,-1,-1,1,1};\nint yy[8] = {0,0,-1,1,-1,1,-1,1};\nchar s[N][N];\nint dfs_1(int x,int y) {\n\tint a = 1,b = 1,c = 1,d = 1;\n\twhile(x+1<=n&&s[x+1][y]=='1') x++,a++;\n\twhile(y+1<=m&&s[x][y+1]=='1') y++,b++;\n\twhile(x-1>0&&s[x-1][y]=='1') x--,c++;\n\twhile(y-1>0&&s[x][y-1]=='1') y--,d++;\n\tif(a==b&&c==d&&a==c) return a;\n\treturn 0;\n}\nint dfs_2(int x,int y) {\n\tint a = 1,b = 1,c = 1,d = 1;\n\twhile(x+1<=n&&y-1>0&&s[x+1][y-1]=='1') x++,y--,a++;\n\twhile(x+1<=n&&y+1<=m&&s[x+1][y+1]=='1') x++,y++,b++;\n\twhile(x-1>0&&y+1<=m&&s[x-1][y+1]=='1') x--,y++,c++;\n\twhile(x-1>0&&y-1>0&&s[x-1][y-1]=='1') x--,y--,d++;\n\tif(a==b&&b==c&&c==d) return a;\n\treturn 0;\n}\nint dfs_3(int x,int y) {\n\ts[x][y] = '0';\n\tint w = 1;\n\tfor(int i=0; i<8; i++) {\n\t\tint dx = x+xx[i],dy = y+yy[i];\n\t\tif(dx>0&&dx<=n&&dy>0&&dy<=m&&s[dx][dy]=='1')\n\t\t\tw+=dfs_3(dx,dy);\n\t}\n\treturn w;\n}\nint main() {\n\tint T;\n\tscanf(\"%d\",&T);\n\twhile(T--) {\n\t\tint ans = 0;\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tfor(int i=1; i<=n; i++) scanf(\"%s\",s[i]+1);\n\t\tfor(int i=1; i<=n; i++)\n\t\t\tfor(int j=1; j<=m; j++)\n\t\t\t\tif(s[i][j]=='1') {\n\t\t\t\t\tint a = dfs_1(i,j);\n\t\t\t\t\tint b = dfs_2(i,j);\n\t\t\t\t\tint w = dfs_3(i,j);//\u8fd4\u56de(i,j)\u8fde\u901a\u57571\u7684\u4e2a\u6570.\n\t\t\t\t\tif(w==4*(a-1)||w==4*(b-1)) ans++;\n\t\t\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1637584683,
        "uid": 559502,
        "name": "TsH_GD",
        "ccfLevel": 4,
        "title": "CF11C How Many Squares? \u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\n\n\u4f60\u6709\u4e00\u4e2a$01$\u77e9\u9635\u3002\u91cc\u9762\u6709\u591a\u5c11\u4e2a\u6b63\u65b9\u5f62\uff1f\u5176\u4e2d\u6b63\u65b9\u5f62\u7684\u8fb9\u7528$1$\u8868\u793a:\u5176\u4e2d\u6709\u4e24\u79cd\u6b63\u65b9\u5f62\n\n- \u8fd9\u79cd\u7684 \n\n```\n0000000\n0111100 \n0100100\n0100100 \n0111100\n0000000 \u67091\u4e2a\u6b63\u65b9\u5f62\n```\n- \u8fd9\u79cd\u7684\n\n```\n0000000\n0010000\n0101000\n0010000\n0000000 \u6709\u4e00\u4e2a\u6b63\u65b9\u5f62\n```\n\u6240\u4ee5\u641c\u7d22\u5373\u53ef\n\n### $Code$\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<cstdlib>\n#include<algorithm>\n#include<string>\n#define ll long long\n#define maxn 10050\n#define inf 2147483647\n#define mod 10003\n#define eps 1e-6\n#define pi acos(-1.0)\n#define de(x) ((x)*(x))\nusing namespace std; \ninline int read(){\n    int x=0,f=1; char ch=getchar();\n    while(!isdigit(ch)) {if(ch=='-')f=-1;ch=getchar();}\n    while(isdigit(ch)) {x=x*10+ch-48;ch=getchar();}\n    return x*f;\n} \nconst int dx[9]={0,1,1,1,0,0,-1,-1,-1};\nconst int dy[9]={0,1,0,-1,1,-1,1,0,-1};\nint n,m,t;\nchar s[550][550];\ninline int dfs(int x,int y,int &t){//\u4e0d\u7528\u6211\u8bf4\n\tif(s[x][y]!='1') return 0;\n\ts[x][y]='2'; t++;\n\tfor(int i=1;i<=8;i++)\n\tif(x+dx[i]>=0&&y+dy[i]>=0&&x+dx[i]<n&&y+dy[i]<m)\n\t\tdfs(x+dx[i],y+dy[i],t);\n\treturn 0;\n}\ninline int check1(int x,int y,int cnt){//\u770b\u7740\u770b\u7740\u5c31\u61c2\u4e86\uff0c\u4e0b\u540c\n\tif(x+cnt>=n||y+cnt>=m) return 0;\n\tfor(int i=1;i<=cnt;i++){\n\t\tif(s[x][y+i]!='2') return 0;\n\t\tif(s[x+cnt][y+i]!='2') return 0;\n\t\tif(s[x+i][y]!='2') return 0;\n\t\tif(s[x+i][y+cnt]!='2') return 0; \n\t}\n\treturn 1;\n}\ninline int check2(int x,int y,int cnt){/\n\tif(y+cnt>=m||x+cnt*2>=n||y-cnt<0||s[x+cnt*2][y]!='2') return 0;\n\tfor(int i=1;i<=cnt;i++){\n\t\tif(s[x+i][y+i]!='2') return 0;\n\t\tif(s[x+i][y-i]!='2') return 0;\n\t\tif(s[x+2*cnt-i][y-i]!='2') return 0;\n\t\tif(s[x+2*cnt-i][y+i]!='2') return 0;\n\t}\n\treturn 1;\n}\nsigned main(){\n\tint T=read();\n\twhile(T--){\n\t\tn=read(); m=read();\n\t\tint ans=0;\n\t\tfor(int i=0;i<n;i++) cin>>s[i];\n\t\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<m;j++)\n\t\tif(s[i][j]=='1'){\n\t\t\tt=0; dfs(i,j,t);\n\t\t\tif(t%4==0&&t<=4*min(m,n)){\n\t\t\t\tans+=check1(i,j,t/4);\n\t\t\t\tans+=check2(i,j,t/4); \n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n    return 0;\n}\n\n```",
        "postTime": 1567584089,
        "uid": 126772,
        "name": "\u53f6\u67ab",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF11C \u3010How Many Squares?\u3011"
    },
    {
        "content": "\u6c42\u51fa\u56fe\u4e2d\u8fb9\u957f >= 2\u7684\u6b63\u65b9\u5f62\u6570\u76ee\u3002\n\n\t\u6b63\u65b9\u5f62\u6709\u4ee5\u4e0b\u4e24\u79cd\uff1a\n\n```cpp\n\t0000000\t\t0000000    \n\t0111100\t\t0010000\n\t0100100\t\t0101000    \n\t0100100\t\t0010000   \n\t0111100\t\t0000000\n```\n\u4e14\u6b63\u65b9\u5f62\u7684\u8fb9\u6216\u9876\u70b9\u4e0d\u80fd\u4e0e\u5176\u5b83\u6b63\u65b9\u5f62\u7684\u8fb9\u6216\u9876\u70b9\u76f8\u4e34\u3002\uff08\u6837\u4f8b1\u4e2d\u53ea\u6709\u53f3\u4e0b\u89d21\u4e2a\u6b63\u65b9\u5f62\uff0c\u8fb9\u957f\u4e3a2\uff09\n\n\u6c42\u5408\u6cd5\u6b63\u65b9\u5f62\uff1a\n\n- \u9047\u52301\u5219\u5206\u522b\u6309\u4e24\u79cd\u6b63\u65b9\u5f62\u7684\u8fb9\u7684\u65b9\u5411\u904d\u5386\uff0c\u8bb0\u5f554\u6761\u8fb9\u7684\u5927\u5c0f\u3002\n\n- \u82e5\u5927\u5c0f\u4e0d\u540c\uff0c\u5219\u4e0d\u662f\u5408\u6cd5\u6b63\u65b9\u5f62\uff1b\n\n- \u82e54\u6761\u8fb9\u5927\u5c0f\u76f8\u540c\uff0c\u5219\u6c42\u51fa\u8054\u901a\u76841\u7684\u6570\u76ee\uff0c\u5e76\u5c06\u8054\u901a\u5757\u6e050\u3002\n\n- \u5982\u679c4 * \uff08\u8fb9\u957f - 1\uff09!= num, \u5219\u4e00\u5b9a\u4e0d\u662f\u5408\u6cd5\u6b63\u65b9\uff1b\u5426\u5219\u4e3a\u5408\u6cd5\u6b63\u65b9\u5f62\u3002\n\nCode:\n```cpp\n#include<bits/stdc++.h>\nconstexpr int MAXN = 255;\nusing namespace std;\nint testCase, n, m, cnt, tot, Cnt1, Cnt2, Cnt3, Cnt4;\nint mp[MAXN][MAXN];\nint dr[8] = {1, 1, 1, 0, 0, -1, -1, -1};\nint dc[8] = {-1, 0, 1, -1, 1, -1, 0, 1};\ninline void clear(int r, int c) { //dfs\u6e05\u9664\u8fde\u901a\u76841\u5e76\u8ba1\u6570\n\tmp[r][c] = 0, tot++;\n\tfor (int i = 0; i < 8; i++) {\n\t\tint toR = r + dr[i], toC = c + dc[i];\n\t\tif(toR < 1 || toR > n || toC < 1 || toC > m) continue;\n\t\tif (mp[toR][toC]) clear(toR, toC);\n\t}\n}\ninline int check1(int r, int c) { //\u5224\u65ad\u662f\u5426\u5b58\u5728\u7b2c\u4e00\u79cd\u6b63\u65b9\u5f62 \u5b58\u5728\u5219\u8fd4\u56de(\u8fb9\u957f-1) \u5426\u5219\u8fd4\u56de0\n\tCnt1 = Cnt2 = Cnt3 = Cnt4 = 0;//\u7b2c\u4e00\u79cd\u6b63\u65b9\u5f62\u904d\u5386 \u4e00\u4e2a\u65b9\u5411\u9047\u52300\u5219\u5411\u53e6\u4e00\u4e2a\u65b9\u5411\u904d\u5386\n\twhile (mp[r][c]) if(r + 1 > n || !mp[r + 1][c]) break; else r++, Cnt1++; //\u5411\u4e0b\n\twhile (mp[r][c]) if(c + 1 > m || !mp[r][c + 1]) break; else c++, Cnt2++; //\u5411\u53f3\n\twhile (mp[r][c]) if(r - 1 < 1 || !mp[r - 1][c]) break; else r--, Cnt3++; //\u5411\u4e0a\n\twhile (mp[r][c]) if(c - 1 < 1 || !mp[r][c - 1]) break; else c--, Cnt4++; //\u5411\u5de6\n\tif(Cnt1 == Cnt2 && Cnt2 == Cnt3 && Cnt3 == Cnt4) return Cnt1;\n\treturn false; \n}\ninline int check2(int r, int c) { //\u5224\u65ad\u662f\u5426\u5b58\u5728\u7b2c\u4e8c\u79cd\u6b63\u65b9\u5f62 \u5b58\u5728\u5219\u8fd4\u56de(\u8fb9\u957f-1) \u5426\u5219\u8fd4\u56de0\n\tCnt1 = Cnt2 = Cnt3 = Cnt4 = 0;\n\twhile (mp[r][c]) //\u7b2c\u4e8c\u79cd\u6b63\u65b9\u5f62\u904d\u5386\n\t\tif(r + 1 > n || c - 1 < 1 || !mp[r + 1][c - 1]) break; else r++, c--, Cnt1++;\n\twhile (mp[r][c]) \n\t\tif(r + 1 > n || c + 1 > m || !mp[r + 1][c + 1]) break; else r++, c++, Cnt2++;\n\twhile (mp[r][c]) \n\t\tif(r - 1 < 1 || c + 1 > m || !mp[r - 1][c + 1]) break; else r--, c++, Cnt3++;\n\twhile (mp[r][c]) \n\t\tif(r - 1 < 1 || c - 1 < 1 || !mp[r - 1][c - 1]) break; else r--, c--, Cnt4++;\n\tif(Cnt1 == Cnt2 && Cnt2 == Cnt3 && Cnt3 == Cnt4) return Cnt1;\n\treturn false;\n}\nint main() {\n\tcin >> testCase;\n\twhile (testCase--) {\n\t\tcin >> n >> m;\n\t\tcnt = 0;\n\t\tfor (int i = 1; i <= n; i++) {\n\t\t\tgetchar();\n\t\t\tfor (int j = 1; j <= m; j++) mp[i][j] = getchar() - '0';\n\t\t}\n\t\tfor (int i = 1; i <= n; i++) { \n\t\t\tfor (int j = 1; j <= m; j++) {\n\t\t\t\tif (mp[i][j]) {\n\t\t\t\t\ttot = 0;\n\t\t\t\t\tint num1 = check1(i, j), num2 = check2(i, j); \n\t\t\t\t\tclear(i, j); //\u6e050 \u5e76\u7edf\u8ba1\u8054\u901a\u76841\u7684\u6570\u76ee\n\t\t\t\t\tif(num1 * 4 == tot || num2 * 4 == tot) cnt++;\n\t\t\t\t\t//(\u8fb9\u957f-1) * 4 = \u8054\u901a\u76841\u7684\u6570\u76ee, \u627e\u5230\u5408\u6cd5\u6b63\u65b9\u5f62\n\t\t\t\t} \n\t\t\t}\n\t\t}\n\t\tcout << cnt << endl;\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1581564396,
        "uid": 48611,
        "name": "_NoOne",
        "ccfLevel": 0,
        "title": "CF11C How Many Squares?"
    }
]