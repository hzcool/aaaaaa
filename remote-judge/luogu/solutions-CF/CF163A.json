[
    {
        "content": "\u9898\u610f\uff1a\u544a\u8bc9\u4f60\u4e00\u4e2a\u5b57\u7b26\u4e32s,\u4e00\u4e2a\u5b57\u7b26\u4e32t\uff0c\u8ba9\u4f60\u4eces\u4e2d\u9009\u51fa\u4e0d\u540c\u7684\u5b50\u4e32x\uff0c\u4ecet\u4e2d\u9009\u51fa\u4e0d\u540c\u7684\u5b50\u5e8f\u5217y\uff08\u5b50\u4e32\u3001\u5b50\u5e8f\u5217\u50bb\u50bb\u5206\u4e0d\u6e05\u7684\u81ea\u884c\u767e\u5ea6\uff09\uff0c\u603b\u5171\u6709\u591a\u5c11\u79cd\u7ec4\u5408\u4f7f\u5f97x\uff0cy\u7684\u5185\u5bb9\u76f8\u540c\u3002\n\n\n\n\u601d\u8def\uff1a\u7c97\u7565\u601d\u8003\u7684\u8bdd\u4f3c\u4e4e\u9664\u4e86dp\u5c31\u6ca1\u6709\u5176\u4ed6\u60f3\u6cd5\u4e86\u628a\u3002dp[i][j]\u8868\u793a\u5728s\u4e2d\u4ee5\u7b2ci\u4e2a\u5b57\u7b26\u7ed3\u5c3e\u7684\u5b50\u4e32\uff0c\u5728t\u4e2d\u4ee5\u7b2cj\u4f4d\u7ed3\u5c3e\u7684\u5b50\u5e8f\u5217\uff0c\u6ee1\u8db3\u9898\u610f\u7684\u7ec4\u5408\u7684\u4e2a\u6570\u3002\u90a3\u4e48\u5bb9\u6613\u5f97\u5230\u8f6c\u79fb\u65b9\u7a0b\n\ndp[i + 1][j + 1] = (dp[i + 1][j] + (s[i] == s[j]) * (dp[i][j] + 1))\n\n\u7b54\u6848\u53ea\u8981\u6c421 <= i <= s.length()\u7684dp[i][t.length()]\u7684\u603b\u548c\u5373\u53ef\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nlong long sum,len1,len2,dp[5050][5050];\nconst long long mod=1e9+7;\nstring a,b;\nint main()\n{\n\twhile(cin>>a>>b)\n\t{\n\t\tsum=0;\n\t\tmemset(dp,0,sizeof(dp));\n\t\tlen1=a.size();\n\t\tlen2=b.size();\n\t\tfor(int i=0;i<len1;i++)\n\t\t{\n\t\t\tfor(int j=0;j<len2;j++)\n\t\t\tdp[i+1][j+1]=(dp[i+1][j]+(a[i]==b[j])*(dp[i][j]+1))%mod;\n\t\t}\n\t\tfor(int i=1;i<=len1;i++)\n\t\tsum=(sum+dp[i][len2])%mod;\n\t\tprintf(\"%lld\\n\",sum);\n\t}\n\treturn 0;\n}",
        "postTime": 1562901016,
        "uid": 102541,
        "name": "KING_OF_TURTLE",
        "ccfLevel": 7,
        "title": "CF163A"
    },
    {
        "content": "# \u9898\u76ee\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[\u70b9\u8fd9\u91cc](https://www.luogu.org/problem/CF163A)\u770b\u9898\u76ee\u3002\n# \u5206\u6790\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u9898\u76ee\u6709\u8bef\uff0c\u5e94\u8be5\u662f$x$\u662f$s$\u7684\u5b57\u4e32\uff0c$y$\u662f$t$\u7684**\u5b50\u5e8f\u5217**\uff0c\u7136\u540e$x$\u548c$y$\u5e94\u8be5\u957f\u5f97\u4e00\u6837\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u60f3\u5230\u8fd9\u6837\u7684$DP$\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DP(i,j)$\uff1a$s$\u4e2d\u4ee5$i$\u7ed3\u5c3e\u7684\u5b57\u4e32\uff0c$t$\u4e2d\u524d$j$\u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u5e8f\u5217\u7684\u76f8\u540c\u7684\u4e2a\u6570\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u5206\u6210\u4e24\u7c7b\u60c5\u51b5\u601d\u8003\u8f6c\u79fb\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$s[i]==t[j]$\uff1a\u6b64\u65f6\u6bd4$DP(i-1,j-1)$\u591a\u4e86\u4e00\u79cd\u7ec4\u5408\u60c5\u51b5\uff0c\u4e8e\u662f\u6b64\u65f6\u6709$DP(i-1,j-1)+1$\u79cd\u60c5\u51b5\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$s[i]\\not=t[j]$\uff1a\u5931\u914d\u7684\u8bdd\u5c31\u53ea\u80fd\u8ba9$j$\u5f80\u524d\u8df3\uff0c\u6b64\u65f6\u6709$DP(i,j-1)$\u4e2d\u60c5\u51b5\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u7efc\u4e0a\u6709\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$\\displaystyle DP(i,j)=DP(i,j-1)+\\begin{cases}0&s[i]\\not=t[j]\\\\DP(i-1,j-1)+1&s[i]==s[j]\\end{cases}$  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u7b54\u6848\u4e3a$\\sum_{i=1}^{len(s)}DP(i,len(t))$  \n# \u4ee3\u7801\n```cpp\n#include <cmath>\n#include <cstdio>\n#include <cstring>\n\ntypedef long long LL;\n\nconst int mod = 1e9 + 7;\nconst int MAXS = 5005, MAXT = 5005, MAXSIZ = 205, MAXL = MAXS + MAXT, MAXLOG = 16;\n\ntemplate<typename _T>\nvoid read( _T &x )\n{\n\tx = 0;char s = getchar();int f = 1;\n\twhile( s > '9' || s < '0' ){if( s == '-' ) f = -1; s = getchar();}\n\twhile( s >= '0' && s <= '9' ){x = ( x << 3 ) + ( x << 1 ) + ( s - '0' ), s = getchar();}\n\tx *= f;\n}\n\ntemplate<typename _T>\nvoid write( _T x )\n{\n\tif( x < 0 ){ putchar( '-' ); x = ( ~ x ) + 1; }\n\tif( 9 < x ){ write( x / 10 ); }\n\tputchar( x % 10 + '0' );\n}\n\ntemplate<typename _T>\n_T MAX( const _T a, const _T b )\n{\n\treturn a > b ? a : b;\n}\n\ntemplate<typename _T>\n_T MIN( const _T a, const _T b )\n{\n\treturn a < b ? a : b;\n}\n\nLL DP[MAXS][MAXT];\nint a[MAXS], b[MAXT];\nchar s[MAXS], t[MAXT];\nint N, M;\n\nint main()\n{\n\tscanf( \"%s%s\", s + 1, t + 1 );\n\tN = strlen( s + 1 ), M = strlen( t + 1 );\n\tfor( int i = 1 ; i <= N ; i ++ ) a[i] = s[i];\n\tfor( int i = 1 ; i <= M ; i ++ ) b[i] = t[i];\n\tLL res = 0;\n\tfor( int i = 1 ; i <= N ; i ++ )\n\t{\n\t\tfor( int j = 1 ; j <= M ; j ++ )\n\t\t{\n\t\t\tDP[i][j] = DP[i][j - 1];\n\t\t\tif( a[i] == b[j] )\n\t\t\t{\n\t\t\t\tDP[i][j] = ( DP[i][j] + DP[i - 1][j - 1] + 1 ) % mod;\n\t\t\t}\n\t\t}\n\t\tres = ( res + DP[i][M] ) % mod;\n\t}\n\twrite( res ), putchar( '\\n' );\n\treturn 0;\n}\n```",
        "postTime": 1565937017,
        "uid": 123809,
        "name": "crashed",
        "ccfLevel": 0,
        "title": "[CF163A] Substring and Subsequence"
    },
    {
        "content": "### \u9898\u610f\n\u8f93\u5165\u5b57\u7b26\u4e32 $s$ \u548c $t$\uff0c\u8f93\u51fa\u6709\u591a\u5c11\u5bf9\u4e0d\u540c\u7684 $x$ \u4e0e $y$\uff0c\u4f7f\u5f97 $x$ \u662f $s$ \u7684**\u5b50\u4e32**\uff0c$y$ \u662f $t$ \u7684**\u5b50\u5e8f\u5217**\uff0c$x$ \u548c $y$ \u7684\u5185\u5bb9\u662f\u76f8\u540c\u7684\u3002\u7b54\u6848\u5bf9 $10^9+7$ \u53d6\u6a21\u3002\n### \u89e3\u51b3\u529e\u6cd5\n\u8003\u8651 DP\u3002\n\n\u8bbe $dp_{i,j}$ \u662f $s$ \u4e2d\u4ee5 $i$ \u7ed3\u5c3e\u7684\u5b57\u4e32\uff0c $t$ \u4e2d\u524d $j$ \u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u5e8f\u5217\u91cc\u9762\u7684\u76f8\u540c\u7684\u4e2a\u6570\u3002\n\n\u5f88\u663e\u7136\uff0c\u5206\u7c7b\u8ba8\u8bba $dp_{i,j}$\uff1a\n1. \u5f53 $s_i=t_i$ \u65f6\uff0c\u53ef\u4ee5\u518d\u914d\u6210\u4e00\u7ec4\u3002\u6240\u4ee5\u6bd4 $dp_{i-1,j-1}$ \u591a\u4e86 $1$ \u79cd\u60c5\u51b5\u3002\u6240\u4ee5\u6b64\u65f6\u60c5\u51b5\u4e3a $dp_{i,j - 1}+dp_{i-1,j-1}+1$\u3002\n1. \u5f53 $s_i\\ne t_i$ \u65f6\uff0c\u4e0d\u80fd\u518d\u914d\u6210\u4e00\u7ec4\u4e86\uff0c\u53ea\u80fd\u8ba9 $j$ \u5411\u540e\u8df3\u3002\u6240\u4ee5\u6b64\u65f6\u60c5\u51b5\u4e3a $dp_{i,j - 1}$\u3002\n\n\u6240\u4ee5\uff0c\u8f6c\u79fb\u65b9\u7a0b\uff1a\n$$dp_{i,j}=\\begin{cases}dp_{i,j - 1}+dp_{i-1,j-1}+1\\qquad s_i=t_i\\\\dp_{i,j - 1}\\qquad\\qquad\\qquad\\qquad\\ \\ \\, s_i\\ne t_i\\end{cases}$$\n\n\u5f88\u663e\u7136\uff0c\u7b54\u6848\u4e3a $\\sum^{\\text{length(s)}}_{i=1}dp_{i,\\text{length(t)}}$\u3002\n\n**\u6ce8\u610f\u53d6\u6a21\u3002**\n\n### \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n#define mod 1000000007\nusing namespace std;\nint n;\nunsigned long long dp[5005][5005], ans;\nstring s, t;\nsigned solve() {\n\t\n\tcin >> s >> t;\n\tfor (int i = 1; i <= (int)s.length(); i++)\n\t\tfor (int j = 1; j <= (int)t.length(); j++)\n\t\t\tif (s[i - 1] == t[j - 1])\n\t\t\t\tdp[i][j] = (dp[i][j - 1] + dp[i - 1][j - 1] + 1) % mod;\n\t\t\telse\n\t\t\t\tdp[i][j] = dp[i][j - 1];\n\tfor (int i = 1; i <= (int)s.length(); i++)\n\t\tans = (ans + dp[i][(int)t.length()]) % mod;\n\tprintf(\"%llu\\n\", ans);\n\treturn 0;\n}\nsigned main() { return solve(); }\n```",
        "postTime": 1616811237,
        "uid": 296967,
        "name": "ksdq",
        "ccfLevel": 0,
        "title": "[CF163A] Substring and Subsequence"
    },
    {
        "content": "## \u9898\u76ee\u94fe\u63a5\uff1a[\u5b50\u4e32\u548c\u5b50\u5e8f\u5217](https://www.luogu.com.cn/problem/CF163A)\n\u9898\u76ee\u5927\u610f\t\n\u8f93\u5165\u4e24\u4e2a\u5b57\u7b26\u4e32s\u548ct\uff0c\u4ed6\u4eec\u90fd\u4ec5\u7531\u5c0f\u5199\u5b57\u6bcd\u6784\u6210\u3002\u4ee4x\u662fs\u7684**\u975e\u7a7a\u5b50\u4e32**\uff0cy\u662ft\u7684**\u975e\u7a7a\u5b50\u5e8f\u5217**\uff0c\u95ee\u6709\u591a\u5c11\u79cd\u65b9\u5f0f\u6784\u9020x\u548cy\uff0c\u4f7f\u5f97x\u4e0ey\u76f8\u7b49\uff08**\u6784\u9020\u5b50\u4e32\u548c\u5b50\u5e8f\u5217\u65f6\uff0c\u53ea\u8981\u4f4d\u7f6e\u4e0d\u4e00\u6837\uff0c\u5c31\u7b97\u4e0d\u540c\u7684\u6784\u9020\u65b9\u5f0f**\uff09\uff0c\u7b54\u6848\u5bf910^9+7\u53d6\u6a21\u3002\n\n------------\n20pts:\n\u56e0\u4e3a\u5b57\u6bcd\u90fd\u4e00\u6837\uff0c\u6240\u4ee5\u53ea\u8981\u7edf\u8ba1\u6bcf\u79cd\u957f\u5ea6\u7684\u4e32\u5bf9\u7b54\u6848\u7684\u8d21\u732e\t\ns\u4e2d\u957f\u5ea6\u4e3ai\u7684\u5b50\u4e32\u6709$n-i+1$\u79cd\t\nt\u4e2d\u957f\u5ea6\u4e3ai\u7684\u5b50\u5e8f\u5217\u6709$C_m^i$\u79cd\t\n\u6240\u4ee5\u603b\u548c\u662f$(n-i+1) \\times C_m^i$\u79cd\t\n```cpp\nfor(int i=1;i<=m;++i)\n{\n\tC[i][0]=C[i][i]=1;\n\tfor(int j=1;j<i;++j)\n\t\tC[i][j]=(C[i-1][j-1]+C[i-1][j])%P;\n}\nfor(int i=1;i<=min(n,m);++i)\n\tans+=(C[m][i]*(n-i+1))%P;\n```\n\n\u6ce8\uff1a\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u7528\u6768\u8f89\u4e09\u89d2\u6765\u8ba1\u7b97\u7ec4\u5408\u6570\uff0c\u65f6\u95f4\u590d\u6742\u5ea6$O(n^2)$\n\n\n\n------------\n30pts:\n\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u66b4\u529bO(n^2)\u679a\u4e3e\u5b50\u4e32\uff0c\u518d\u5339\u914d\n```cpp\nvoid dfs(int x,int y)\n{\n\tif(y==w+1){++ans;return;} \n\tif(x>m)return;\n\tif(t[x]==r[y])dfs(x+1,y+1);\n\tdfs(x+1,y);\n}\nfor(int i=1;i<=n;++i)\n{\n\tw=0;\n\tfor(int j=i;j<=n;++j)\n\t{\n\t\tr[++w]=s[j];\n\t\t//r\u4ee3\u8868\u6bcf\u4e00\u4e2a\u5b50\u5e8f\u5217 \n\t\tdfs(1,1);\n\t}\n}\n```\n\nans\u5373\u4e3a\u7ed3\u679c\n\n------------\n100pts:\nDP\u601d\u60f3:\u8bbe$dp[i][j]$\u8868\u793a\u5728s\u7684\u7b2ci\u4e2a\u5b57\u7b26\u7ed3\u5c3e\u548ct\u7684\u524dj\u4e2a\u5b57\u7b26\u6240\u6709\u7684\u5b50\u4e32\n\u82e5$s[i]=t[j]$\n\t\u5219$dp[i][j]$\n\t1. \u53ef\u4ee5\u4ece$dp[i][j-1]$\u7ee7\u627f\u4e0b\u6765\n\t2. \u8fd8\u53ef\u4ee5$s[i]$,$t[j]$\u5355\u72ec\u6210\u4e32\n\t3. \u8fd8\u53ef\u4ee5\u7528$dp[i-1][j-1]$\u4e2d\u90fd\u7528$s[i]$\u5ef6\u957f\n\n\u6240\u4ee5\u603b\u548c\u7b49\u4e8e$dp[i][j-1]+dp[i-1][j-1]+1$\t\n\u5426\u5219\uff0c\u5c31\u53ea\u80fd\u7ee7\u627f$dp[i][j-1]$\u7684\u4e86\n($t[j]$\u5728$dp[i][j]$\u91cc\u4e0d\u53ef\u80fd\u7528\u5230\u4e86)\n    \n```cpp\n#include <cstring>\n#include <cstdio>\nusing namespace std;\nconst int P=1000000007;\nchar s[5001],t[5001];\nint dp[5001][5001];\nint main()\n{\n\tscanf(\"%s%s\",s+1,t+1);\n//\tprintf(\"%d\",P);\n\tint slen,tlen;\n\tslen=strlen(s+1);tlen=strlen(t+1);\n\tdp[0][0]=0;\n\tfor(int i=1;i<=slen;++i)\n\t\tfor(int j=1;j<=tlen;++j)\n\t\t\tif(s[i]==t[j])\n\t\t\t\tdp[i][j]=(dp[i][j-1]%P+dp[i-1][j-1]%P+1/*s[i],t[j]*/)%P;\n\t\t\telse\n\t\t\t\tdp[i][j]=dp[i][j-1];\n\t/*\n\tdp[i][j]\u8868\u793a\u5728s\u7684\u7b2ci\u4e2a\u5b57\u7b26\u7ed3\u5c3e\u548ct\u7684\u524dj\u4e2a\u5b57\u7b26\u6240\u6709\u7684\u5b50\u4e32\n\t\u82e5s[i]==t[j]\n\t\u5219dp[i][j]\u53ef\u4ee5\u4ecedp[i][j-1]\u7ee7\u627f\u4e0b\u6765\uff0c\u8fd8\u53ef\u4ee5s[i],t[j]\u5355\u72ec\u6210\u4e32\uff0c\n\t\u8fd8\u53ef\u4ee5\u7528dp[i-1][j-1]\u4e2d\u90fd\u7528s[i]\u5ef6\u957f\n\t\u6240\u4ee5\u7b49\u4e8e dp[i][j-1]+dp[i-1][j-1]+1\n\t\u5426\u5219\uff0c\u5c31\u53ea\u80fd\u7ee7\u627fdp[i][j-1]\u7684\u4e86(t[j]\u5728dp[i][j]\u91cc\u4e0d\u53ef\u80fd\u7528\u5230\u4e86)\n\t*/\n\tint ans=0;\n\tfor(int i=1;i<=slen;++i)\n\t\tans=(ans+dp[i][tlen])%P;\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1603534934,
        "uid": 366338,
        "name": "fjy666",
        "ccfLevel": 0,
        "title": "CF163A \u5b50\u4e32\u548c\u5b50\u5e8f\u5217 \u9898\u89e3"
    },
    {
        "content": "\u5370\u8c61\u4e2d\u597d\u50cf\u662f\u552f\u4e00\u4e00\u9053\u81ea\u5df1\u505a\u5bf9\u7684\u9664\u80cc\u5305\u4ee5\u5916\u7684\u7ebf\u6027DP\u9898\uff08~~\u6211\u592a\u83dc\u4e86QAQ~~\uff09\uff0c\u56e0\u6b64\u60f3\u5199\u7bc7\u9898\u89e3\u7eaa\u5ff5\u4e00\u4e0b\n\n# \u9898\u76ee\u5927\u610f\n\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF163A)\n\n\u7ffb\u8bd1\u6709\u70b9\u95ee\u9898\uff0c\u6211\u8fd9\u91cc\u91cd\u65b0\u7ffb\u4e00\u4e0b\n\n\u5927\u6982\u610f\u601d\u5c31\u662f\u8bf4\uff0c\u7ed9\u4f60\u4e24\u4e2a\u5b57\u7b26\u4e32$s$\u548c$t$\uff0c\u6c42\u51fa\u6709\u591a\u5c11\u5bf9\u5b57\u7b26\u4e32$x$\u548c$y$\uff0c\u6ee1\u8db3$x$\u662f$s$\u7684\u5b50\u4e32\u4e14$y$\u662f$t$\u7684\u5b50\u5e8f\u5217\uff0c\u7b54\u6848\u5bf9$1000000007(10^9+7)$\u53d6\u6a21\n\n\u5173\u4e8e\u5b50\u4e32\u548c\u5b50\u5e8f\u5217\u7684\u533a\u522b\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u5b50\u4e32\u662f\u4e00\u6bb5\u8fde\u7eed\u7684\u533a\u95f4\uff0c\u800c\u5b50\u5e8f\u5217\u5219\u4e0d\u4e00\u5b9a\u662f\u8fde\u7eed\u7684\n\n# \u601d\u8def\n\n\u8fd9\u9053\u9898\u4e4d\u4e00\u770b\u5176\u5b9e\u5f88\u50cf\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\uff0c\u552f\u4e00\u4e0d\u540c\u7684\u5728\u4e8e\u5bf9\u4e8e$s$\u8981\u53d6\u5b83\u7684\u5b50\u4e32\uff0c\u6211\u4eec\u7c7b\u6bd4\u4e00\u4e0b\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n\n$$dp[i,j]=\\begin{cases}0\\ (i=0 \\text{ or }j=0)\\\\dp[i-1,j-1]+1\\ (s[i]=t[j])\\\\\\max(dp[i-1,j],dp[i,j-1])\\ (s[i]\\not =t[j])\\end{cases}$$\n\n$dp[i,j]$\u8868\u793a\u7684\u662f\u5728$s$\u7684\u524d$i$\u4e2a\u5b57\u7b26\u548c$t$\u7684\u524d$j$\u4e2a\u5b57\u7b26\u4e2d\u7684\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\u7684\u957f\u5ea6\uff0c\u56e0\u6b64\uff0c\u5bf9\u4e8e\u8fd9\u9053\u9898\uff0c\u6211\u4eec\u4e0d\u59a8\u8bbe$dp[i,j]$\u4e3a**\u4ee5**$s$**\u7684\u7b2c**$i$**\u4e2a\u5b57\u7b26\u4e3a\u7ed3\u5c3e\u7684\u5b50\u4e32\u4e0e**$t$**\u7684\u524d**$j$**\u4e2a\u5b57\u7b26\u4e2d\u7684\u5b50\u5e8f\u5217\u76f8\u540c\u7684\u4e2a\u6570**\uff0c\u540c\u6837\uff0c\u6211\u4eec\u5206\u6210\u4e24\u79cd\u60c5\u51b5\u6765\u8ba8\u8bba\uff0c\u4e00\u79cd\u662f$s[i]=t[j]$\uff0c\u4e00\u79cd\u662f$s[i]\\not =t[j]$\n\n\u5982\u679c$s[i]=t[j]$\uff0c\u90a3\u4e48\u5f53\u524d\u72b6\u6001\u9996\u5148\u5e94\u8be5\u5305\u62ec\u4e86$dp[i-1,j-1]$\u7684\u6240\u6709\u60c5\u51b5\uff0c\u56e0\u4e3a\u8fd9\u4e24\u4e2a\u5b57\u7b26\u662f\u76f8\u540c\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u76f8\u5f53\u4e8e\u662f\u53ef\u4ee5\u5728$dp[i-1,j-1]$\u7684\u6240\u6709\u60c5\u51b5\u540e\u9762\u52a0\u4e0a\u4e00\u4e2a\u76f8\u540c\u7684\u5b57\u7b26\uff0c\u7ed3\u679c\u4e00\u5b9a\u8fd8\u662f\u6210\u7acb\u7684\uff0c\u7136\u540e\u8fd8\u5e94\u8be5\u5305\u62ec$dp[i,j-1]$\u7684\u6240\u6709\u60c5\u51b5\uff0c\u56e0\u4e3a\u4e0d\u7ba1\u5f53\u524d\u4e24\u4e2a\u5b57\u7b26\u662f\u5426\u76f8\u540c\uff0c$dp[i,j-1]$\u7684\u6240\u6709\u60c5\u51b5\u80af\u5b9a\u90fd\u9002\u7528\u4e8e$dp[i,j]$\uff0c\u6700\u540e\uff0c$dp[i,j]$\u8fd8\u5e94\u8be5\u5305\u62ec$s[i]$\u548c$t[j]$\u8fd9\u5bf9\u7ec4\u5408\uff0c\u56e0\u4e3a\u5f88\u660e\u663e\u524d\u9762\u4e24\u79cd\u60c5\u51b5\u90fd\u6ca1\u6709\u628a$t[j]$\u7b97\u8fdb\u53bb\uff0c\u6240\u4ee5\u6700\u540e\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5e94\u8be5\u662f\u8fd9\u6837\u7684\n\n$$dp[i,j]=dp[i,j-1]+dp[i-1,j-1]+1$$\n\n\u5982\u679c$s[i]\\not = t[j]$\uff0c\u90a3\u4e48\u4e0a\u9762\u6240\u8bf4\u7684$dp[i-1,j-1]$\u7684\u60c5\u51b5\u5c31\u4e0d\u9002\u7528\u4e8e\u5f53\u524d\u60c5\u51b5\uff0c\u4e5f\u6ca1\u6709$s[i]$\u548c$t[j]$\u8fd9\u5bf9\u7ec4\u5408\uff0c\u6240\u4ee5\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5c31\u662f\u8fd9\u6837\u7684\n\n$$dp[i,j]=dp[i,j-1]$$\n\n\u6700\u540e\uff0c\u7531\u4e8e$dp[i,j]$\u53ea\u7edf\u8ba1\u4e86\u4ee5$s[i]$\u4e3a\u7ed3\u5c3e\u7684\u5b50\u4e32\uff0c\u6240\u4ee5\u6700\u7ec8\u7b54\u6848\u5e94\u8be5\u628a\u6240\u6709\u7684$dp[i,|s|]$\u52a0\u8d77\u6765\uff0c\u53e6\u5916\uff0c\u4e0d\u8981\u5fd8\u8bb0\u53d6\u6a21\n\n# \u53c2\u8003\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define mod 1000000007\nusing namespace std;\nstring a,b;\nint n,m,ans,dp[5001][5001];\nint main()\n{\n\tgetline(cin,a);\n\tgetline(cin,b);\n\tn=a.length();\n\tm=b.length();\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tif(a[i-1]==b[j-1])\n\t\t\t\tdp[i][j]=(dp[i][j-1]+dp[i-1][j-1]+1)%mod;//\u53d6\u6a21\uff01\uff01\n\t\t\telse\n\t\t\t\tdp[i][j]=dp[i][j-1];\n\tfor(int i=1;i<=n;i++)\n\t\tans=(ans+dp[i][m])%mod;\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1596157930,
        "uid": 183235,
        "name": "Islauso",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF163A \u3010Substring and Subsequence\u3011"
    },
    {
        "content": "## DP\uff08\u6700\u957f\u516c\u5171\u5b50\u4e32\u53d8\u79cd)\n\n\u8bbef[i][j]\u8868\u793a\u7b2c\u4e00\u4e2a\u4ee5i\u7ed3\u5c3e\u7b2c\u4e8c\u4e2a\u4ee5j\u7ed3\u5c3e\u7684\u65b9\u6848\u603b\u6570\n\n\u6240\u4ee5\u5bb9\u6613\u5f97\u51fa\u72b6\u6001\u8f6c\u79fb\u5c31\u662ff[i][j]=1+f[i-1][j-1]+f[i-1][j-2]+...+f[i-1][1]\n\n\u6240\u4ee5\u77ed\u5c0f\u7cbe\u5e72\u7684code:\n```cpp\n#include<bits/stdc++.h>//\u4e07\u80fd\u5934\u6587\u4ef6\n#define reg register//register\u5361\u5e38\n#define ll long long\nusing namespace std;\nll f[5005][5005],ans,len1,len2;//\u6ce8\u610flong long\uff0cCF\u7684\u9898\u5f88\u559c\u6b22\u5361\u7cbe\u5ea6\nchar a[5005],b[5005];\nint main()\n{\n    scanf(\"%s%s\",a+1,b+1);//\u4f7f\u5b57\u7b26\u4e32\u4e0b\u6807\u4ece1\u5f00\u59cb\n    len1=strlen(a+1);\n    len2=strlen(b+1);//\u6ce8\u610f\u4ee5\u540e\u8c03\u7528\u7684\u65f6\u5019\u4e5f\u90fd\u8981+1\n    for(reg int i=1;i<=len1;i++)\n    for(reg int j=1;j<=len2;j++)\n    {\n        if(a[i]==b[j])f[i][j]=(f[i][j]+f[i-1][j-1]+1)%1000000007;\n        f[i][j]=(f[i][j]+f[i][j-1])%1000000007;//\u72b6\u6001\u8f6c\u79fb\u5982\u4e0a\n        //\u6ce8\u610f\u968f\u65f6\u53d6\u6a21,\u8fd9\u79cd\u9898\uff08\u5c24\u5176\u662f\u8fd8\u8981\u7d2f\u52a0\u7684\uff09\u5f88\u5bb9\u6613\u7206\u6389\n    }\n    for(reg int i=1;i<=len1;i++)ans=(ans+f[i][len2])%1000000007;//\u6c42\u548c,\u540c\u4e0a\n    printf(\"%lld\",ans);//\u8f93\u51fa\n    return 0;//\u5706\u6ee1\u7684\u7ed3\u675f\n}\n```\n",
        "postTime": 1553172283,
        "uid": 48993,
        "name": "liuyifan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF163A \u3010Substring and Subsequence\u3011"
    }
]