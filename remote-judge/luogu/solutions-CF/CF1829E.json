[
    {
        "content": "### BFS \u505a\u6cd5\n\u5176\u5b9e\u5c31\u662f\u4e2a\u5f88\u7b80\u5355\u7684\u8fde\u901a\u5757\u95ee\u9898\uff0c\u5bf9\u4e8e\u6240\u6709 $p_{i,j}\\ne 0$ \u4e14\u4e4b\u524d\u6ca1\u6709\u88ab\u8bbf\u95ee\u8fc7\u7684\u70b9\uff0c\u90fd\u8dd1\u4e00\u904d BFS\uff0c\u76f8\u5f53\u4e8e\u627e\u5230\u4e00\u4e2a\u8fde\u901a\u5757\uff0c\u6700\u540e\u8f93\u51fa\u6700\u5927\u503c\u5373\u53ef\uff0c\u590d\u6742\u5ea6\u4e3a $O(tnm)$\u3002\n\n### \u4ee3\u7801\u5b9e\u73b0\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct node{\n\tint x,y;\n};\nint p[1010][1010],vis[1010][1010];\nint a[]={0,1,0,-1},b[]={1,0,-1,0};\nint bfs(int x,int y,int n,int m){//\u8fd4\u56de\u8fd9\u4e2a\u8fde\u901a\u5757\u4e2d\u6240\u6709\u70b9\u7684\u503c\u4e4b\u548c\n\tqueue<node>q;node fa,sn;\n\tfa.x=x,fa.y=y;int ans=0;\n\tq.push(fa),vis[x][y]=1;\n\twhile(!q.empty()){\n\t\tfa=q.front();q.pop();\n\t\tans+=p[fa.x][fa.y];\n\t\tfor(int i=0;i<4;i++){\n\t\t\tsn.x=fa.x+a[i],sn.y=fa.y+b[i];\n\t\t\tif(sn.x<1||sn.x>n||sn.y<1||sn.y>m) continue;\n\t\t\tif(p[sn.x][sn.y]==0||vis[sn.x][sn.y]==1) continue;\n\t\t\tq.push(sn);vis[sn.x][sn.y]=1;\n\t\t}\n\t}\n\treturn ans;\n}\nint main(){\n\tint t;scanf(\"%d\",&t);\n\twhile(t--){\n\t\tint n,m;scanf(\"%d%d\",&n,&m);\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(int j=1;j<=m;j++) \n\t\t\t\tscanf(\"%d\",&p[i][j]),vis[i][j]=0;\n\t\tint ans=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(int j=1;j<=m;j++)\n\t\t\t\tif(vis[i][j]==0&&p[i][j]>0) \n\t\t\t\t\tans=max(ans,bfs(i,j,n,m));\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}\n\n```",
        "postTime": 1683439195,
        "uid": 571147,
        "name": "Special_Tony",
        "ccfLevel": 0,
        "title": "CF1829E The Lakes"
    },
    {
        "content": "\u5927\u5bb6\u597d\uff0c\u6211\u662f CQ-C2024 \u849f\u84bb CJH\u3002\n\n## \u9898\u610f\n\n**\u672c\u9898\u6709\u591a\u7ec4\u6570\u636e\u3002**\n\n\u6c42\u8fde\u901a\u5757\u6700\u5927\u6743\u503c\u548c\u3002\n\n## \u5206\u6790\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $a_{i,j}>0$  \u4e14\u672a\u8bbf\u95ee\u8fc7\u7684\u70b9\u8fdb\u884c BFS\uff0c\u63a5\u7740\u7edf\u8ba1\u6743\u503c\u548c\u53d6\u6700\u5927\u503c\u5373\u53ef\u3002\n\n## \u6ce8\u610f\u4e8b\u9879\n\n**\u672c\u9898\u6709\u591a\u7ec4\u6570\u636e\uff01\uff01\uff01**\u6240\u4ee5\u8bbf\u95ee\u6570\u7ec4\u4e00\u5b9a\u8981\u6e05\u7a7a\uff01~~\u591a\u6d4b\u4e0d\u6e05\u7a7a\uff0c\u7206\u96f6\u4e24\u884c\u6cea\u3002~~\n\n## \u4ee3\u7801\n\n```cpp\n//the code is from chenjh\n#include<cstdio>\n#include<algorithm>\n#include<queue>\n#include<utility>\n#define mp std::make_pair\ntypedef std::pair<int,int> PII;\nint n,m;\nint a[1001][1001];//\u6c34\u6df1\u3002\nbool b[1001][1001];//\u8bbf\u95ee\u6570\u7ec4\u3002\nconst int dx[4]={0,0,1,-1},dy[4]={1,-1,0,0};//\u65b9\u5411\u6570\u7ec4\u3002\nvoid solve(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)for(int j=1;j<=m;j++)scanf(\"%d\",&a[i][j]),b[i][j]=0;//\u8bb0\u5f97\u6e05\u7a7a\u8bbf\u95ee\u6570\u7ec4\uff01\n\tstd::queue<PII> Q;\n\tint ans=0;\n\tfor(int i=1;i<=n;i++)for(int j=1;j<=m;j++){\n\t\tint w=0;\n\t\tif(!a[i][j]||b[i][j]) continue;//\u4fdd\u8bc1\u5f53\u524d\u4f4d\u7f6e\u975e 0 \u4e14\u672a\u8bbf\u95ee\u3002\n\t\tQ.push(mp(i,j));\n\t\tfor(int x,y;!Q.empty();){\n\t\t\tx=Q.front().first,y=Q.front().second;Q.pop();\n\t\t\tif(b[x][y]) continue;//\u8bbf\u95ee\u8fc7\u5219\u9000\u51fa\u3002\n\t\t\tb[x][y]=1;//\u6807\u8bb0\u8bbf\u95ee\u6570\u7ec4\u3002\n\t\t\tw+=a[x][y];//\u7edf\u8ba1\u6743\u503c\u3002\n\t\t\tfor(int k=0,nx,ny;k<4;k++){\n\t\t\t\tnx=x+dx[k],ny=y+dy[k];\n\t\t\t\tif(nx>0&&nx<=n&&ny>0&&ny<=m&&a[nx][ny]) Q.push(mp(nx,ny));//\u7b26\u5408\u8303\u56f4\u5219\u7ee7\u7eed\u5e7f\u641c\u3002\n\t\t\t}\n\t\t}\n\t\tans=std::max(ans,w);//\u66f4\u65b0\u7b54\u6848\u3002\n\t}\n\tprintf(\"%d\\n\",ans);\n}\nint main(){\n\tint T;scanf(\"%d\",&T);\n\twhile(T--) solve();\n\treturn 0;\n}\n\n```",
        "postTime": 1683463925,
        "uid": 577880,
        "name": "cjh20090318",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 CF1829E The Lakes"
    },
    {
        "content": "dfs \u641c\u8fde\u901a\u5757\uff0c\u6743\u503c\u5728\u641c\u7684\u65f6\u5019\u52a0\u4e0a\u5373\u53ef\uff0c\u6bcf\u6b21\u641c\u5b8c\u4e00\u4e2a\u8fde\u901a\u5757\u90fd\u7b97\u4e00\u4e0b\u76ee\u524d\u6700\u5927\u7684\u603b\u6743\u503c\u3002\n\n\u8d5b\u65f6 AC Code\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int X[]={1,0,-1,0};\nconst int Y[]={0,1,0,-1};\nint n,m,a[1005][1005],f[1005][1005],s,maxs;\n\nvoid dfs(int x,int y)\n{\n\ts+=a[x][y];//\u7d2f\u52a0\n\tfor(int i=0;i<4;i++)\n\t{\n\t\tint x_=x+X[i],y_=y+Y[i];\n\t\tif(x_<1||y_<1||x_>n||y_>m||!a[x_][y_]||f[x_][y_]) continue;\n\t\tf[x_][y_]=1;//\u6807\u8bb0\n\t\tdfs(x_,y_);\n\t}\n}\n\nvoid sol()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t\tf[i][j]=0;\n\t\t}\n\t}\n\tmaxs=0;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tif(f[i][j]||!a[i][j]) continue;\n\t\t\ts=0;//\u6e05\u96f6\n\t\t\tf[i][j]=1;//\u6807\u8bb0\n\t\t\tdfs(i,j);\n\t\t\tmaxs=max(maxs,s);//\u8ba1\u7b97\u5f53\u524d\u6700\u5927\u7684\u603b\u6743\u503c\n\t\t}\n\t}\n\tcout<<maxs<<endl;\n}\n\nint main()\n{\n\tint t;\n\tcin>>t;\n\twhile(t--) sol(); \n \treturn 0;\n}\n```",
        "postTime": 1683441984,
        "uid": 400269,
        "name": "_JYqwq_",
        "ccfLevel": 0,
        "title": "CF1829E The Lakes\u3000\u9898\u89e3"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](http://blog.cyx2009.top/archives/169/)\n\n# E.[The Lakes](https://codeforces.com/contest/1829/problem/E)\n\n## \u9898\u76ee\u7ffb\u8bd1\n\n> \u4f60\u6709\u4e00\u4e2a $n\\times m$ \u7684\u77e9\u9635\uff0c\u5176\u4e2d\u6709\u6c34\u5751\uff0c\u6c34\u5751\u7684\u5927\u5c0f\u4e3a $a_{i,j}$\u3002\u82e5 $a_{i,j}=0$ \u5219\u4e0d\u662f\u6c34\u5751\u3002\u95ee\u6700\u5927\u7684\u8fde\u7eed\u6c34\u5751\u5927\u5c0f\u662f\u591a\u5c11\u3002\n> \n> $1\\leq n,m\\leq 1000,0\\leq a_{i,j}\\leq 1000$\u3002\n> \n> $t$ \u7ec4\u6570\u636e\uff0c$1\\leq t \\leq 1000,\\sum_{tt=1}^t n\\times m\\leq 10^6$\u3002\n\n## \u9898\u76ee\u601d\u8def\n\n\u5178\u578b\u7684\u56db\u65b9\u5411\u8fde\u901a\u5757\uff0c\u4f7f\u7528\u641c\u7d22\uff0c\u6df1\u641c\u5e7f\u641c\u5747\u53ef\u3002\n\n\u8bb0\u5f55\u6bcf\u4e2a\u6c34\u5751\u662f\u5426\u8d70\u8fc7\u907f\u514d\u56de\u5934\u8def\u3002\n\n\u6ce8\u610f\u5f00\u59cb\u904d\u5386\u7684\u65f6\u5019\u8981\u5224\u65ad\u5f53\u524d\u4f4d\u7f6e\u662f\u5426\u4e3a $0$\u3002\n\n```\n1\n2 2\n0 1\n1 0\n```\n\n\u5982\u679c\u4e0d\u5224\u65ad\u7684\u8bdd\u4f1a\u4ece $(1,1)$ \u5f00\u59cb\u627e\u5230 $(1,2)$ \u548c $(2,1)$\uff0c\u4f46\u5176\u5b9e\u8fd9\u4e24\u4e2a\u70b9\u4e0d\u8fde\u901a\u3002\n\n## \u5b8c\u6574\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m;\nbool vis[1020][1020];\nint a[1020][1020];\nint dx[]={0,0,-1,1};\nint dy[]={-1,1,0,0};\nbool judge(int x,int y)\n{\n    return x>=1&&y>=1&&x<=n&&y<=m&&!vis[x][y]&&a[x][y]>0;\n}\nint dfs(int x,int y)\n{\n    vis[x][y]=1;\n    int ans=a[x][y];\n    for(int i=0;i<4;i++)\n    {\n        if(judge(x+dx[i],y+dy[i]))\n        {\n            ans+=dfs(x+dx[i],y+dy[i]);\n        }\n    }\n    return ans;\n}\nvoid solve()\n{\n    cin>>n>>m;\n    memset(vis,0,sizeof(vis));\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            cin>>a[i][j];\n        }\n    }\n    int ans=0;\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            if(!vis[i][j]&&a[i][j])\n            {\n                ans=max(ans,dfs(i,j));\n            }\n        }\n    }\n    cout<<ans<<endl;\n}\nint main()\n{\n    int t;cin>>t;while(t--)\n    solve();\n    return 0;\n}\n```\n",
        "postTime": 1683428483,
        "uid": 516346,
        "name": "_YXJS_",
        "ccfLevel": 4,
        "title": "CF1829E"
    },
    {
        "content": "# \u601d\u8def\n\n\u88f8\u7684 Flood Fill\uff0c\u53ea\u9700\u8981\u5728 BFS \u7684\u8fc7\u7a0b\u4e2d\uff0c\u7528\u4e00\u4e2a\u53d8\u91cf $res$\uff0c\u5b58\u50a8\u80fd\u904d\u5386\u5230\u7684\u6240\u6709 $a_{i,j}$ \u7684\u503c\uff0c\u6700\u540e\u53d6\u6240\u6709 $res$ \u7684\u6700\u5927\u503c\u5373\u53ef\u3002\n\n# code\n\n```cpp\n#include <bits/stdc++.h>\n#define x first\n#define y second\n#define re register\n\nusing namespace std;\n\ntypedef pair<int,int> pii;\nconst int N = 1010;\nint T,n,m,res,ans;\nint dx[] = {0,1,-1,0,0};\nint dy[] = {0,0,0,1,-1};\nint arr[N][N];\nbool vis[N][N];\n\ninline int read(){\n\tint r = 0,w = 1;\n\tchar c = getchar();\n\twhile (c < '0' || c > '9'){\n\t\tif (c == '-') w = -1;\n\t\tc = getchar();\n\t}\n\twhile (c >= '0' && c <= '9'){\n\t\tr = (r << 3) + (r << 1) + (c ^ 48);\n\t\tc = getchar();\n\t}\n\treturn r * w;\n}\n\ninline void bfs(int x,int y){\n\tqueue<pii> q;\n\tvis[x][y] = true;\n\tq.push({x,y});\n\twhile (!q.empty()){\n\t\tpii t = q.front();\n\t\tq.pop();\n\t\tfor (re int i = 1;i <= 4;i++){\n\t\t\tint tx = t.x + dx[i];\n\t\t\tint ty = t.y + dy[i];\n\t\t\tif (tx >= 1 && tx <= n && ty >= 1 && ty <= m && arr[tx][ty] && !vis[tx][ty]){\n\t\t\t\tres += arr[tx][ty];\n\t\t\t\tvis[tx][ty] = true;\n\t\t\t\tq.push({tx,ty});\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main(){\n\tT = read();\n\twhile (T--){\n\t\tmemset(vis,false,sizeof(vis));\n\t\tans = 0;\n\t\tn = read();\n\t\tm = read();\n\t\tfor (re int i = 1;i <= n;i++){\n\t\t\tfor (re int j = 1;j <= m;j++) arr[i][j] = read();\n\t\t}\n\t\tfor (re int i = 1;i <= n;i++){\n\t\t\tfor (re int j = 1;j <= m;j++){\n\t\t\t\tif (arr[i][j] && !vis[i][j]){\n\t\t\t\t\tres = arr[i][j];\n\t\t\t\t\tbfs(i,j);\n\t\t\t\t\tans = max(ans,res);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1683466443,
        "uid": 383395,
        "name": "WaterSun",
        "ccfLevel": 5,
        "title": "[\u9898\u89e3]CF1829E The Lakes"
    },
    {
        "content": "# \u9898\u610f\u7b80\u8ff0\n[\u9898\u76ee\u4f20\u9001\u95e8](/problem/cf1829e)\n\n[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](/blog/tianbiandeshenghuo11/solution-cf1829e)\n\n\u6709 $t$ \u7ec4\u6570\u636e\uff0c\u6bcf\u7ec4\u6570\u636e\u7ed9\u5b9a\u4e00\u4e2a $n\\times m$ \u7684\u77e9\u9635\u3002\u8be5\u77e9\u9635\u4e0a\u3001\u4e0b\u3001\u5de6\u3001\u53f3\u76f8\u8fde\u6784\u6210\u4e00\u4e2a\u8fde\u901a\u5757\u3002\n\n\u8fde\u901a\u5757\u9700\u8981\u6ee1\u8db3\u5176\u4e2d\u7684\u6bcf\u4e2a\u6570\u90fd\u975e $0$\u3002\n\n\u5b9a\u4e49\u4e00\u4e2a\u8fde\u901a\u5757\u7684\u6743\u503c\u4e3a\u8be5\u8fde\u901a\u5757\u4e2d\u6240\u6709\u6570\u7684\u548c\u3002\u6c42\u77e9\u9635\u4e2d\u6700\u5927\u7684\u8fde\u901a\u5757\u7684\u6743\u503c\u3002\n\n# \u5206\u6790\n\u5728\u627e\u5230\u4e00\u4e2a\u672a\u88ab\u641c\u7d22\u8fc7\u7684\u5750\u6807\u4e14\u5176\u503c\u4e0d\u4e3a $0$ \u65f6\uff0c\u7206\u641c\u8fde\u901a\u5757\u5373\u53ef\u3002\n\n\u6bcf\u6b21\u641c\u7d22\u65f6\u8bb0\u5f55\u6743\u503c\uff0c\u6700\u540e\u6c42\u6700\u5927\u503c\u3002\n\n\u7531\u4e8e\u6bcf\u4e2a\u5750\u6807\u6700\u591a\u8bbf\u95ee\u4e00\u6b21\uff0c\u6240\u4ee5\u5355\u6b21\u65f6\u95f4\u4e3a $O(n\\times m)$\u3002\n\n**\u6ce8\u610f**\uff0c\u6bcf\u6b21\u8be2\u95ee\u8981\u6e05\u7a7a\u6807\u8bb0\u6570\u7ec4\u3002\n\n\u603b\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(t\\times n\\times m)$\u3002\n\n\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a$O(n\\times m)$\u3002\n\n# Code\n```cpp\n#include<bits/stdc++.h>\n\nusing namespace std;\nint t, ans = 0, n, m;\nint fx[2][4] = {{1, -1, 0, 0}, {0, 0, 1, -1}}, a[1005][1005], cnt;\nbool v[1005][1005];\nvoid dfs(int x, int y){\n  ans = max(ans, cnt);\n  if (x < 1 || y < 1 || x > n || y > m || v[x][y] || !a[x][y]){\n    return ;\n  }\n  cnt += a[x][y];\n  v[x][y] = 1;\n  for (int i = 0; i < 4; i++){\n    dfs(x + fx[0][i], y + fx[1][i]);\n  }\n}\nint main(){\n  cin >> t;\n  while (t--){\n    cin >> n >> m;\n    ans = 0;\n    for (int i = 1; i <= n; i++){\n      for (int j = 1; j <= m; j++){\n        v[i][j] = 0;\n        cin >> a[i][j];\n      }\n    }\n    for (int i = 1; i <= n; i++){\n      for (int j = 1; j <= m; j++){\n        if (!v[i][j] && a[i][j]){\n          cnt = 0;\n          dfs(i, j);\n          ans = max(ans, cnt);\n        }\n      }\n    }\n    cout << ans << '\\n';\n  }\n  return 0;\n}\n```",
        "postTime": 1683464571,
        "uid": 752485,
        "name": "tianbiandeshenghuo11",
        "ccfLevel": 4,
        "title": "CF1829E The Lakes \u9898\u89e3"
    },
    {
        "content": "\u54c7\uff0c\u8fd9\u4e48\u591a\u4eba\u4ea4\u9898\u89e3\uff01\n\n**\u601d\u8def\uff1a**\n\nBFS \u505a\u6cd5\uff0c\u6bcf\u627e\u5230\u4e00\u4e2a\u8fde\u901a\u5757\uff0c\u5c31\u5c06\u8fd9\u4e2a\u8fde\u901a\u5757\u7684\u6743\u503c\u8fdb\u884c\u50a8\u5b58\uff0c\u6700\u540e\u8f93\u51fa\u6700\u5927\u503c\u5373\u53ef\u3002\n\n**\u6838\u5fc3\u4ee3\u7801\uff1a**\n\n\u5171\u4e24\u90e8\u5206\uff1a\n\n```\nvis[x][y]=1;//\u4e0b\u9762\u662f\u8fde\u901a\u5757\u90e8\u5206\nlong long xxx=a[x][y];\nif(x+1<=n&&a[x+1][y]!=0&&!vis[x+1][y])sum+=dfs(x+1,y);\nif(y+1<=m&&a[x][y+1]!=0&&!vis[x][y+1])sum+=dfs(x,y+1);\nif(x-1>=1&&a[x-1][y]!=0&&!vis[x-1][y])sum+=dfs(x-1,y);\nif(y-1>=1&&a[x][y-1]!=0&&!vis[x][y-1])sum+=dfs(x,y-1);\nreturn sum;//\u8fd4\u56de\u503c\n```\n\u4ee5\u53ca\n\n```\nfor(int i=1;i<=n;i++)\n{\n    for(int j=1;j<=m;j++)if(a[i][j]!=0&&vis[i][j]==0)ans=max(ans,dfs(i,j));//\u53d6\u6700\u5927\u503c\n    cout<<ans<<endl;\n}\n```",
        "postTime": 1683460343,
        "uid": 750764,
        "name": "Leaves_xw",
        "ccfLevel": 0,
        "title": "CF1829E\u9898\u89e3"
    },
    {
        "content": "## \u5206\u6790\n\n\u8003\u8651 dfs\u3002\n\n\u672c\u9898\u5b9e\u8d28\u4e0a\u5c31\u662f\u6c42\u8fde\u901a\u5757\u6700\u5927\u503c\u3002\n\n\u90a3\u4e48\u6bcf\u6b21\u641c\u7d22\u65f6\u628a\u8d70\u8fc7\u7684\u6807\u8bb0\uff0c\u5982\u679c\u5f53\u524d\u7684 $a_{x,y}$ \u4e3a $0$ \u5c31\u4e0d\u8d70\uff0c\u8d8a\u754c\u548c\u8d70\u8fc7\u7684 $(x,y)$ \u4e5f\u4e0d\u8d70\uff0c\u6bcf\u6b21\u627e\u6ca1\u6709\u8d70\u8fc7\u7684\u641c\u7d22\uff0c\u53d6\u6700\u5927\u503c\u5c31\u53ef\u4ee5\u4e86\u3002\n\n## AC Code of [CF1928E](https://codeforces.com/contest/1829/problem/E)\n\n[Link](https://codeforces.com/contest/1829/submission/204811904)",
        "postTime": 1683445661,
        "uid": 638084,
        "name": "songszh",
        "ccfLevel": 3,
        "title": "CF1829E"
    },
    {
        "content": "dfs \u8fde\u901a\u5757\u677f\u9898\uff0c\u641c\u5b8c\u4e00\u4e2a\u8fde\u901a\u5757\u5c31\u66f4\u65b0\u7b54\u6848\u3002\u6ce8\u610f\u5230\u8981\u591a\u6d4b\u6e05\u7a7a\uff0c\u8fd9\u9053\u9898\u5c31\u505a\u5b8c\u4e86\u3002\n\n```\nvoid dfs(int x, int y) {\n    now += mp[x][y];\n    vis[x][y] = true;\n    for (int i = 0; i < 4; i++) {\n        int dx = pos[i][0] + x, dy = pos[i][1] + y;\n        if (inmap(dx, dy) &&!vis[dx][dy] && mp[dx][dy] != 0) dfs(dx, dy);\n    }\n}\n \nvoid solve() {\n    ans = 0;\n    scanf (\"%d%d\", &n, &m);\n    for (int i = 1; i <= n; i++) {\n        for (int j = 1; j <= m; j++) {\n            cin >> mp[i][j];\n        }\n    }\n    for (int i = 1; i <= n; i++) {\n        for (int j = 1; j <= m; j++) {\n            now = 0;\n            if (mp[i][j] != 0 && !vis[i][j]) {\n                dfs(i, j);\n                ans = max(ans, now);\n            }\n        }\n    }\n    for (int i = 1; i <= n; i++) {\n        for (int j = 1; j <= m; j++) vis[i][j] = false;\n    }\n    cout << ans << '\\n';\n}\n```",
        "postTime": 1683443169,
        "uid": 672333,
        "name": "VT_SODC3DC3BSLF",
        "ccfLevel": 0,
        "title": "\u539f\u795e\u600e\u4e48\u4f60\u4e86"
    },
    {
        "content": "\u5c31\u662f bfs \u677f\u5b50\u3002\n\n\u53ef\u4ee5\u679a\u4e3e\u521d\u59cb\u8282\u70b9\uff0c\u4e0d\u65ad\u641c\u7d22\uff0c\u66f4\u65b0\u6700\u5927\u503c\u3002\n\n\u4f46\u662f\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u79cd\u5e76\u67e5\u96c6\u505a\u6cd5\u3002\n\n\u9996\u5148\uff0c\u6bcf\u4e2a\u8282\u70b9\u9700\u8981\u6709\u4e00\u4e2a\u7f16\u53f7\uff0c\u6211\u4eec\u4ee4 $id(x,y)=xm+y$\u3002\n\n\u4e8e\u662f\u6211\u4eec\u628a\u6240\u6709\u76f8\u90bb\u7684\u975e $0$ \u8282\u70b9 $u$ \u7ed9\u4e00\u4e2a $v$\uff0c\u8868\u793a $u$ \u53ca\u5176\u6240\u6709\u513f\u5b50\u7684\u6743\u503c\u548c\u3002\n\n\u6bcf\u6b21\u679a\u4e3e\u76f8\u90bb\u4e24\u4e2a\u5747\u4e0d\u4e3a $0$ \u7684\u683c\u5b50\u8fdb\u884c\u5408\u5e76\u3002\n\n\u7136\u540e\u679a\u4e3e\u6240\u6709\u70b9\uff0c\u8282\u70b9\u6700\u5927\u7684 $v$ \u5c31\u662f\u7b54\u6848\u3002\n\n\u590d\u6742\u5ea6\u4e3a $O(nm)$\uff0c\u5b8c\u5168\u53ef\u884c\u3002\n\n\u90e8\u5206\u4ee3\u7801\u53c2\u8003\uff1a\n\n```cpp\nint id(int x, int y) {return x * m + y;}\nvoid merge(int x, int y) {\n\tint a = find(x), b = find(y); if(a == b) return ;\n\trt[b] = a; v[a] += v[b];\n}\n```",
        "postTime": 1683437994,
        "uid": 675466,
        "name": "Stitch0711",
        "ccfLevel": 5,
        "title": "CF1829E"
    },
    {
        "content": "### \u601d\u8def\n\u5e7f\u641c\u6a21\u677f\u9898\uff0c\u80fd\u88ab\u4e00\u4e2a\u70b9\u641c\u5230\u7684\u70b9\u90fd\u662f\u4e00\u4e2a\u8fde\u901a\u5757\u91cc\u7684\uff0c\u8bb0\u5f55\u4e0b\u6bcf\u4e2a\u70b9\u6240\u5c5e\u8fde\u901a\u5757\uff0c\u5df2\u6709\u8fde\u901a\u5757\uff08\u5c31\u662f\u5df2\u7ecf\u88ab\u641c\u8fc7\uff09\u7684\u70b9\u4e0d\u641c\uff0c\u6700\u540e\u6bcf\u4e2a\u8fde\u901a\u5757\u5927\u5c0f\u53d6\u4e2a\u6700\u503c\u5c31\u884c\u3002\u5bf9\u4e8e\u96f6\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u63d0\u524d\u4ee4\u5b83\u6240\u5c5e $-1$ \u53f7\u8fde\u901a\u5757\u3002 \n\n------------\n### \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int K=1e3+10;\nint t,n,m,fa[K][K],siz[K*K],ans,cnt,a[K][K];\nint x[4]={0,1,0,-1},y[4]={1,0,-1,0};\nvoid dfs(int ii,int jj,int f){\n\tfa[ii][jj]=f; siz[f]+=a[ii][jj];\n\tfor(int i=0;i<=3;i++){\n\t\tint I=ii+x[i],J=jj+y[i];\n\t\tif(I>=1&&I<=n&&J>=1&&J<=m&&!fa[I][J]){\n\t\t\tdfs(I,J,f);\n\t\t}\n\t}\n}\nint main(){\n\tscanf(\"%d\",&t);\n\twhile(t--){\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t\t\tif(a[i][j]==0){\n\t\t\t\t\tfa[i][j]=-1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tif(!fa[i][j]){\n\t\t\t\t\tcnt++;\n\t\t\t\t\tdfs(i,j,cnt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<=cnt;i++){\n\t\t\tans=max(ans,siz[i]);\n\t\t\tsiz[i]=0;\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t\tans=cnt=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tfa[i][j]=0;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n} \n```\n",
        "postTime": 1683430432,
        "uid": 261574,
        "name": "rmzls",
        "ccfLevel": 4,
        "title": "CF1829E The Lakes \u9898\u89e3"
    },
    {
        "content": "## \u9898\u610f\n\u7ed9\u4f60\u4e00\u4e2a\u6c60\u5858\uff0c\u4f60\u53ef\u4ee5\u4ece\u67d0\u4e00\u4e2a\u70b9\u51fa\u53d1\uff0c\u5f80\u4e0a\u4e0b\u5de6\u53f3\u65b9\u5411\u8d70\uff0c\u4f46\u4e0d\u80fd\u78b0\u5230 $a_{i,j}$ \u4e3a $0$ \u7684\u6c60\u5858\u3002\u95ee\u80fd\u8d70\u5230\u7684\u6700\u5927\u4f53\u79ef\u3002\n## \u6837\u4f8b\u89e3\u91ca\n```\n3 3\n1 2 0\n3 4 0\n0 0 5\n```\n\u660e\u663e\u7684\uff0c\u6700\u5927\u4f53\u79ef\u662f $(1,1)+(1,2)+(2,1)+(2,2)=10$\u3002\n## \u89e3\u9898\u601d\u8def\n\u5176\u5b9e\u662f $4$ \u65b9\u5411\u7684\u6570\u6c60\u5858\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6ca1\u6709\u8bbf\u95ee\u8fc7\u7684\u70b9\uff0c\u8bbf\u95ee\u5e76\u4e14\u8fdb\u884c\u6df1\u641c\u627e\u51fa\u80fd\u5230\u8fbe\u7684\u6700\u5927\u4f53\u79ef\uff0c\u7136\u540e\u6bd4 $\\max$ \u5c31\u884c\u3002\n\n\u54a6\uff1f\u4e3a\u4ec0\u4e48 WA \u4e86\uff1f\n\n\u5728\u6784\u9020\u4e00\u4e9b\u7b80\u5355\u6570\u636e\u65f6\uff0c\u6211\u53d1\u73b0\u4e86\u4e00\u4e2a hack \u6570\u636e\u3002\n```\n2 2\n0 1\n1 0\n```\n\u6b63\u786e\u7b54\u6848\u662f $1$\uff0c\u6211\u7684\u7b54\u6848\u662f $0$\u3002\u7136\u540e\u5c31\u53d1\u73b0\u4e86\u95ee\u9898\u2014\u2014\u539f\u6765\u6211\u521a\u5f00\u59cb\u626b\u7684\u65f6\u5019\uff0c\u6ca1\u6709\u5224 $0$ \u4e0d\u80fd\u8fdb\u6df1\u641c\uff0c\u5bfc\u81f4\u4ece $(1,1)$ \u5f00\u59cb\u641c\u3002\u8c03\u6574\u4e00\u4e0b\u5c31\u597d\u4e86\u3002\n## AC \u4ee3\u7801\n```cpp\n/*\nwritten by : zjs123\nQQ : 755328053\nWechat : zoujinshu18\nCZOJ : zjs123\nluogu : _JSYX_\natcoder : zajasi10\ncodeforces : _JSYX_\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long  \n#pragma GCC optimize(1)\n#pragma GCC optimize(2)\n#pragma GCC optimize(3)\nint t;\nint n,m;\nint a[1101][1101];\nint vis[1101][1101];\nint dx[]={1,-1,0,0};\nint dy[]={0,0,1,-1};\nint dfs(int x,int y){\n    vis[x][y]=1;\n    int z=0;\n    for(int i=0;i<4;i++){\n        int tx=x+dx[i];\n        int ty=y+dy[i];\n        if(tx>0&&ty>0&&tx<=n&&ty<=m&&vis[tx][ty]==0&&a[tx][ty])z+=dfs(tx,ty);\n    }\n    return z+a[x][y];\n}\nmain(){\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cout.tie(0);\n    cin>>t;\n    while(t--){\n        cin>>n>>m;\n        for(int i=1;i<=n;i++){\n            for(int j=1;j<=m;j++){\n                cin>>a[i][j];\n            }\n        }\n        int z=0;\n        for(int i=1;i<=n;i++){\n            for(int j=1;j<=m;j++){\n                if(vis[i][j]==0&&a[i][j]){\n                    z=max(z,dfs(i,j));\n                }\n            }\n        }\n        cout<<z<<\"\\n\";\n        for(int i=1;i<=n;i++){\n            for(int j=1;j<=m;j++){\n                vis[i][j]=0;\n            }\n        }\n    }\n    return 0;\n}\n\n```",
        "postTime": 1683424339,
        "uid": 754000,
        "name": "_JSYX_",
        "ccfLevel": 5,
        "title": "CF1829E"
    },
    {
        "content": "\u666e\u901a\u7684 bfs/dfs\u3002\n\n\u6211\u4eec\u904d\u5386\u6240\u6709\u70b9\uff0c\u5bfb\u627e\u4e0d\u4e3a $0$ \u4e14\u672a\u88ab\u8bbf\u95ee\u8fc7\u7684 $a_{i,j}$ \u5f00\u59cb dfs\uff0c\u628a\u6bcf\u6b21\u904d\u5386\u5230\u7684\u70b9\u90fd\u6807\u8bb0\u4e3a\u8bbf\u95ee\u8fc7\uff0c\u7edf\u8ba1\u7b54\u6848\u5373\u53ef\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define pb push_back\n#define pob pop_back\n#define mp make_pair\nusing namespace std;\ntypedef int ll;\nconst int maxn=1005;\nll n,m,a[maxn][maxn],vis[maxn][maxn],ans;\nll dfs(ll x,ll y){\n\tvis[x][y]=1;\n\tll res=a[x][y];\n\tif(x+1<=n&&a[x+1][y]!=0&&!vis[x+1][y]) res+=dfs(x+1,y);\n\tif(y+1<=m&&a[x][y+1]!=0&&!vis[x][y+1]) res+=dfs(x,y+1);\n\tif(x-1>=1&&a[x-1][y]!=0&&!vis[x-1][y]) res+=dfs(x-1,y);\n\tif(y-1>=1&&a[x][y-1]!=0&&!vis[x][y-1]) res+=dfs(x,y-1);\n\treturn res;\n}\nint main(void){\n\tios::sync_with_stdio(false);\n\tcin.tie(0); cout.tie(0);\n\tll T=1;\n\tcin>>T;\n\tfor(;T--;){\n\t\tcin>>n>>m;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tcin>>a[i][j];\n\t\t\t\tvis[i][j]=0;\n\t\t\t}\n\t\t}\n\t\tans=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tif(a[i][j]!=0&&vis[i][j]==0) ans=max(ans,dfs(i,j));\n\t\t\t}\n\t\t}\n\t\tcout<<ans<<\"\\n\";\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1683420746,
        "uid": 475432,
        "name": "aeiouaoeiu",
        "ccfLevel": 5,
        "title": "[CF1829E] The Lakes \u9898\u89e3"
    },
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1829E)        \nbfs \u677f\u5b50\u3002        \n\u6211\u4eec\u7528\u666e\u901a\u7684 bfs \u6c42\u8054\u901a\u5757\u677f\u5b50\u5c31\u53ef\u4ee5\uff0c\u4f46\u662f\u9700\u8981\u8bb0\u5f55\u6bcf\u4e00\u4e2a\u8054\u901a\u5757\u7684\u548c\u3002      \n\u8fd9\u91cc\u8bb2\u8bb2\u5982\u4f55\u7528 bfs \u6c42\u8054\u901a\u5757\u3002     \n\u6211\u4eec\u8bbe $vis_{i,j}$ \u4e3a\u662f\u5426\u8bbf\u95ee\u8fc7 $a_{i,j}$\uff0c\u8bbf\u95ee\u8fc7\u4e3a $1$\uff0c\u5426\u5219\u4e3a $0$\u3002\u518d\u8bbe $sum$ \u4e3a\u672c\u6b21\u7b54\u6848\uff0c$ans$ \u4e3a\u6700\u7ec8\u7b54\u6848\u3002      \n\u6211\u4eec\u626b\u4e00\u904d $a$\uff0c\u5982\u679c $a_{i,j}\u22600$ \u4e14 $vis_{i,j}=0$ \u6211\u4eec\u5c31\u8fdb\u884c\u4e00\u8f6e bfs \u5e76\u8bb0\u5f55\u4e0b $sum$\u3002        \n\u8bb0\u5f97\u6bcf\u6b21\u5f00\u59cb bfs \u90fd\u8981\u6e05\u7a7a $sum$\uff0c\u7ed3\u675f\u540e\u8981\u548c $ans$ \u53d6\u6700\u5927\u503c\u3002      \n[CODE](https://www.luogu.com.cn/paste/bxig0zhc)",
        "postTime": 1683415918,
        "uid": 592238,
        "name": "__dest__ruct__or__",
        "ccfLevel": 0,
        "title": "CF1829E The Lakes \u9898\u89e3"
    }
]