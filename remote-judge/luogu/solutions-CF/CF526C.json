[
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF526C)\n## \u601d\u8def\n\u770b\u8d77\u6765\u50cf\u662f\u6839\u53f7\u5206\u6cbb\u5165\u95e8\u9898\uff1f\n\n+ \u82e5 $wr \\ge \\sqrt c$\uff0c\u5219\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e $r$ \u7684\u4e2a\u6570\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O( \\sqrt c)$\u3002\n+ \u82e5 $wb \\ge \\sqrt c$\uff0c\u5219\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e $b$ \u7684\u4e2a\u6570\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O( \\sqrt c)$\u3002\n+ \u63a5\u4e0b\u6765\u8003\u8651\u6346\u7ed1\u4e00\u4e9b\u7269\u54c1\uff1a\u82e5 $\\frac{hr}{wr} < \\frac{hb}{wb}$\uff0c\u5373 $r$ \u7684\u6027\u4ef7\u6bd4\u6bd4 $b$ \u4f4e\u3002\u8bbe\u5f53 $r$ \u9009\u62e9\u4e86 $x$ \u4e2a\uff0c$b$ \u9009\u62e9\u4e86 $y$ \u4e2a\u65f6\uff0c\u5b83\u4eec\u7684\u4ef7\u503c\u76f8\u7b49\uff0c\u5219 $x \\times hr=y \\times hb$\u3002\u663e\u7136\uff0c\u6b64\u65f6 $b$ \u7684\u91cd\u91cf\u6bd4 $r$ \u4f4e\uff0c\u6240\u4ee5\u9009 $r$ \u7684\u6570\u91cf\u4e00\u5b9a\u5c0f\u4e8e $x$ \u4e2a\uff0c\u90a3\u4e48\u6211\u4eec\u663e\u7136\u53ef\u4ee5\u679a\u4e3e\u8fd9\u4e2a\u6570\u91cf\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O( \\sqrt c)$\u3002\n\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nsigned main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0),cout.tie(0);\n    int c,hr,hb,wr,wb;\n    cin>>c>>hr>>hb>>wr>>wb;\n    if (wr>=sqrt(c)){\n        int ans=0;\n        for (int i=0;i<=sqrt(c);++i){\n            int x=wr*i;\n            int y=c-x;y/=wb;\n            if (x>c) break;\n            ans=max(ans,i*hr+y*hb);\n        }\n        cout<<ans<<'\\n';\n    }else if (wb>=sqrt(c)){\n        int ans=0;\n        for (int i=0;i<=sqrt(c);++i){\n            int x=wb*i;\n            int y=c-x;y/=wr;\n            if (x>c) break;\n            ans=max(ans,i*hb+y*hr);\n        }\n        cout<<ans<<'\\n';\n    }else{\n        int ans=0;\n        if (hr*wb>hb*wr) swap(hr,hb),swap(wb,wr);\n        for (int i=0;i<=wb;++i){\n            int now=i*hr;\n            now+=((c-i*wr)/wb*hb);\n            ans=max(ans,now);\n        }\n        cout<<ans<<'\\n';\n    }\n    return 0;\n}\n```\n",
        "postTime": 1665274361,
        "uid": 253608,
        "name": "Tx_Lcy",
        "ccfLevel": 7,
        "title": "CF526C Om Nom and Candies"
    },
    {
        "content": "### \u505a\u6cd5\u4e00\uff1a  \n\u5047\u8bbe\u7b2c\u4e00\u79cd $ x $ \u4e2a\uff0c\u7b2c\u4e8c\u79cd $ y $ \u4e2a\u3002     \n\u6839\u636e\u9898\u610f\u53ef\u77e5:         \n$x \\times W_r + y \\times W_b \\le C$      \n\u663e\u7136\u53ef\u4ee5\u901a\u8fc7\u679a\u4e3e\u4e00\u4e2a\u7b97\u51fa\u53e6\u4e00\u4e2a\u3002    \n\u8fd9\u79cd\u601d\u60f3\u7684\u590d\u6742\u5ea6\u4e3a $O ( \\sqrt{ C } ) $\u3002     \n\n1. \u5982\u679c\u4e24\u79cd\u7cd6\u4e2d\u91cd\u91cf\u6700\u5927\u7684\u8d85\u8fc7 $\\sqrt{C}$ \uff0c\u90a3\u4e48\u8be5\u7cd6\u6700\u591a\u4e5f\u53ea\u80fd\u9009\u62e9\u4e0d\u8d85\u8fc7\u4e2a $\\sqrt{C}$ \uff0c\u76f4\u63a5\u679a\u4e3e\u8be5\u7cd6\u4e2a\u6570\uff0c\u8bb0\u5f55\u6700\u5927\u6b22\u4e50\u5ea6\u3002  \n\n1. \u5982\u679c\u4e24\u79cd\u7cd6\u91cd\u91cf\u90fd\u5c0f\u4e8e $\\sqrt{C}$ , \u90a3\u4e48\u4ece\u6027\u4ef7\u6bd4\u6765\u8003\u8651\u3002   \n   \u5047\u8bbe$ \\frac{H_r}{W_r} < \\frac{H_b}{W_b}$ \uff0c\u5f97\u5230 $ H_r \\times W_b  < H_b \\times W_r$ \u3002         \n   \u7531\u8fd9\u4e2a\u4e0d\u7b49\u5f0f\u53ef\u77e5\uff0c\u4e70 $x$ \u4e2a $r$ \u7cd6\u5f97\u5230\u7684\u4ef7\u503c\u6ca1\u6709\u4e70 $y$ \u4e2a $b$ \u7cd6\u5212\u7b97\u3002\uff08\u56e0\u4e3a\u91cd\u91cf\u5c0f\u4e8e $C$\uff0c\u4e70\u8fd9\u4e48\u591a\u7cd6\u4e5f\u4e0d\u4f1a\u8d85\u91cd\uff09      \n   \u5f53\u9700\u8981\u4e70\u8d85\u8fc7 $x$ \u4e2a $r$ \u7cd6\u65f6\uff0c\u4e0d\u5982\u53bb\u4e70 $b$ \u7cd6\uff0c\u6240\u4ee5\u8d2d\u4e70 $r$ \u7cd6\u7684\u6570\u91cf\u80af\u5b9a\u5c0f\u4e8e $y$ \u4e2a\uff0c\u53ef\u4ee5\u679a\u4e3e $r$ \u7cd6\u7684\u6570\u91cf( $0$ \u5230 $y - 1$ )\u3002   \n   \u56e0\u6b64\u590d\u6742\u5ea6\u4e3a $O(\\sqrt{C})$\u3002   \n  \n## AC Code:\n```cpp\n#include<bits/stdc++.h> //\u771f\u65b9\u4fbf \n\nusing namespace std;  \n\nlong long C,H[3],W[3];\nint AC;\nvoid swap_(long long &a, long long &b) //\u4ea4\u6362 \n{\n    long long t;\n    t = a, a = b, b = t; \n}\n\nint main()\n{\n    while(scanf(\"%lld\", &C) != EOF)\n    {\n        scanf(\"%lld %lld %lld %lld\", &H[1], &H[2], &W[1], &W[2]);//\u8f93\u5165 \n        if(W[2] > W[1])  swap_(W[2], W[1]), swap_(H[1], H[2]);//\u5fc5\u987b\u52a0\u8fd9\u4e00\u6b65 \n        \n        long long maxn = -1, sum = 0; //maxn \u4e3a\u6700\u5927\u6b22\u4e50\u503c sum \u4e3a\u5f53\u524d\u5df2\u7ecf\u88c5\u7684\u5bb9\u79ef \n        \n        if(W[1] * W[1] >= C) //\u88c5\u5f97\u4e0b \n        {\n        \tfor(int i = 0; i <= C/W[1]; i++)//\u679a\u4e3e \n            {\n              sum = i*H[1];\n              sum += ((C-i*W[1])/W[2] * H[2]);   \n              if(maxn < sum)  maxn = sum;    \n            } \n        }\n        else//\u88c5\u4e0d\u4e0b \u6bd4\u8f83\u6027\u4ef7\u6bd4 \n        {\n            sum = 0;\n            if(((H[1]*1.0) / W[1]) > ((H[2]*1.0) / W[2]))   swap_(H[1], H[2]), swap_(W[1], W[2]);//\u6027\u4ef7\u6bd4 \n            for(int i = 0; i <= W[2]; i++)//\u679a\u4e3e \n            {\n              sum = i*H[1];\n              sum += ((C-i*W[1])/W[2] * H[2]);   \n              if(maxn < sum)  maxn = sum;           \n            }    \n        } \n        \n        printf(\"%lld\\n\", maxn);//\u8f93\u51fa              \n    } \n    return 0;//\u5b8c\u7f8e\u7ed3\u675f \n}\n```     \n\u4fdd\u8bc1 $\\colorbox{#44d920}{\\color{white}AC}$\n\n### \u505a\u6cd5\u4e8c\uff1a(\u5269\u4f59\u7cfb)\n\n\u4e0d\u61c2\u6982\u5ff5\u7684\u53bbBDFS\u3002     \n\n\u5bf9\u4e8e\u540c\u4e00\u4e2a\u5269\u4f59\u7cfb $ y $ \uff0c\u8868\u793a\u653e\u6ee1\u4e24\u79cd\u7269\u54c1\u540e\uff0c\u80cc\u5305\u91cc\u9762\u6700\u7ec8\u6d6a\u8d39\u7684\u7a7a\u95f4\u3002     \n\n**\u6700\u4f18\u503c\u5728\u4e24\u7aef**     \n\u53ea\u6709\u4e24\u79cd\u5546\u54c1\uff0c\u80cc\u5305\u5269\u4f59\u7a7a\u95f4\u4e00\u5b9a\u3002  \n\u5982\u679c $ r $ \u6027\u4ef7\u6bd4\u9ad8\uff0c\u5219\u8d8a\u591a\u8d8a\u597d\uff0c\u5426\u5219\u8d8a\u5c11\u8d8a\u597d\u3002      \n\n\u6240\u4ee5\u6c42\u51fa\u6240\u6709\u5269\u4f59\u7cfb\uff0c\u5e76\u4e14\u8bb0\u5f55\u6bcf\u4e2a\u5269\u4f59\u7cfb\u91cc\u9762\u5bf9\u5e94\u7684\u6700\u5c0f $ t $ \u503c(\u6700\u5927 $ t $ \u503c\u53ef\u4ee5\u901a\u8fc7\u6700\u5c0f $ t $ \u503c\u63a8\u51fa\u6765)\u3002    \n\u6bd4\u8f83\u6700\u4f18\u503c\uff0c\u5f97\u5230\u5168\u5c40\u6700\u4f18\u3002\n\n\u672c\u95ee\u9898\u8981\u5206**\u4e24\u6b65**:    \n1. \u6c42\u51fa\u6240\u6709\u5269\u4f59\u7cfb\u5bf9\u5e94\u7684 $ t $ \u6700\u5c0f\u503c $t_{min}$(\u4e0b\u9762\u4ee3\u7801\u662f\u4fdd\u5b58\u5728 $ a $ \u6570\u7ec4\u4e2d)\u3002    \n\n1. \u5982\u679c $ C_r $ \u7684\u6027\u4ef7\u6bd4\u9ad8\uff0c\u5219\u8981\u63a8\u51fa\u6240\u5728\u5269\u4f59\u7cfb\u7684 $ t $ \u6700\u5927\u503c $ t_{ max } $ \u56e0\u4e3a\u540c\u4e00\u4e2a\u5269\u4f59\u7cfb\u91cc\u9762 $ t $ \u7684\u5468\u671f\u662f $ \\frac{ W_b } { d } $,\u53ef\u4ee5\u901a\u8fc7\u5468\u671f\u6c42\u51fat\u7684\u6700\u5927\u503c\u3002   \n$t_{max} = t_{min} +  C / a / ( W_b / d ) \\times ( W_b / d ) $    \n\n$\\textbf{d \u8868\u793a}gcd(W_r,W_b)$   \u3002 \n\n\u5982\u679c $( t_{max} > C / a )$ \uff0c\u90a3\u4e48 $( t_{max} - = W_b / d )$\u3002\n\n## AC Code:\n```cpp\n#include<bits/stdc++.h>\n\nusing namespace std;\n\nmap<long long,long long>mp;\nlong long MINN[1000000],LA[1000000];//MINN \u5269\u4f59\u7cfb\u4e2d\u6700\u5c0f\u7684 LA \u5269\u4e0b\u7684\u7a7a\u95f4 \nlong long C,Hr,Hb,Wr,Wb;\nint AC;\nint main()\n{\n    scanf(\"%lld %lld %lld %lld %lld\",&C ,&Hr, &Hb, &Wr, &Wb);\n    if(Wr<Wb){swap(Hr,Hb);swap(Wr,Wb);}\n    \n\tlong long cnt=0;\n\tlong long d=__gcd(Wr,Wb);\n\tlong long minn=min(Wb/d+1,C/Wr+1);\n\t\n\tfor(long long i=0;i<=minn;i++)//\u6c42\u6a21Wb\u7684\u5269\u4f59\u7cfb(C-x*Wr)%cb\n    {\n\t\tlong long t=((C-Wr*i)%Wb+Wb)%Wb;//(C-x*Wr)%cb\n\t\tif(mp.find(t)==mp.end())\n\t\t{\n\t\t\tLA[cnt]=t;//\u591a\u4f59\n\t\t\tMINN[cnt++]=i;//\u5269\u4f59\u7cfb\u91cc\u9762\u4fdd\u5b58\u7684\u662fx\u7684\u6700\u5c0f\u53d6\u503c\n\t\t\tmp[t]=1;\n\t\t}\n\t}\n\t\n\tlong long maxn=0;\n\tif(Hr*Wb<=Hb*Wr)//\u5982\u679cLA\u6027\u4ef7\u6bd4\u4f4e\uff0c\u5219\u53d6\u540c\u4f59\u7cfb\u4e2d\u7684\u6570\u76ee\n\t{\n\t\tfor(long long i=0;i<cnt;i++)\n\t\t{\n\t\t\tlong long t=Wr*MINN[i];\n\t\t\tif(t>C){continue;}\n\t\t\tmaxn=max(maxn,Hr*MINN[i]+(C-t)/Wb*Hb);\n\t\t}\n\t}\n\telse//LA\u7cd6\u679c\u6027\u4ef7\u6bd4\u9ad8\uff0c\u5219\u8981\u53d6\u5269\u4f59\u7cfb\u91cc\u9762LA\u7cd6\u679c\u7684\u6700\u5927\u6570\u76ee\n    {\n\t\tfor(long long i=0;i<cnt;i++)//(C-x*cr)%cb\n\t\t{\n            long long nn=(C/Wr-MINN[i])/(Wb/d);// C/wr\u8868\u793ax\u7684\u6700\u5927\u53d6\u503c\uff0cMINN[i]\u662fx\u7684\u6700\u5c0f\u53d6\u503c\uff0c\u6574\u9664\u7684\u7ed3\u679c\u662f\u770b\u6a2a\u8de8\u51e0\u4e2a\u5468\u671f\n\t\t\tnn=nn*Wb/d+MINN[i];//nn\u662fx\u4e0eMINN[i]\u5728\u540c\u4e00\u4e2a\u5269\u4f59\u7c7b\u7684\u7684\u6700\u5927\u53d6\u503c\n\t\t\tlong long t=nn*Wr;\n\t\t\tif(t>C){continue;}\n\t\t\tmaxn=max(maxn,Hr*nn+(C-t)/Wb*Hb);\n\t\t}\n\t}\n\t\n\tprintf(\"%lld\",maxn);\n    return 0;\n}\n```",
        "postTime": 1644558384,
        "uid": 364847,
        "name": "_Kouki_",
        "ccfLevel": 4,
        "title": "CF526C \u9898\u89e3(\u4e24\u79cd\u89e3\u6cd5)"
    },
    {
        "content": "\u4e3b\u8981\u77e5\u8bc6\uff1a[\u5269\u4f59\u7cfb](https://blog.csdn.net/shuimu12345678/article/details/7880732)\n\n\u6b21\u8981\u77e5\u8bc6\uff1a[map](https://www.cnblogs.com/fnlingnzb-learner/p/5833051.html)\n\n\u601d\u8def\uff1a\n\n\u4e0d\u96be\u770b\u51fa\u5bf9\u4e8e\u540c\u4e00\u4e2a\u5269\u4f59\u7cfb y\uff08\u8868\u793a\u653e\u6ee1\u4e24\u79cd\u7269\u54c1\u540e\uff0c\u80cc\u5305\u91cc\u9762\u6700\u7ec8\u6d6a\u8d39\u7684\u7a7a\u95f4\uff09\uff0c\u6700\u4f18\u503c\u5728\u4e24\u7aef\uff08\u53ea\u6709\u4e24\u79cd\u5546\u54c1\uff0c\u80cc\u5305\u5269\u4f59\u7a7a\u95f4\u4e00\u5b9a\uff0c\u5982\u679c cr \u6027\u4ef7\u6bd4\u9ad8\uff0c\u5219\u8d8a\u591a\u8d8a\u597d\uff0c\u5426\u5219\u8d8a\u5c11\u8d8a\u597d\uff09\u3002\n\n\u6240\u4ee5\u6c42\u51fa\u6240\u6709\u5269\u4f59\u7cfb\uff0c\u5e76\u4e14\u8bb0\u5f55\u6bcf\u4e2a\u5269\u4f59\u7cfb\u91cc\u9762\u5bf9\u5e94\u7684\u6700\u5c0f t \u503c\uff08\u6700\u5927 t \u503c\u53ef\u4ee5\u901a\u8fc7\u6700\u5c0f t \u503c\u63a8\u51fa\u6765\uff09\uff0c\u6bd4\u8f83\u6700\u4f18\u503c\uff0c\u5f97\u5230\u5168\u5c40\u6700\u4f18\u3002\n\n\u672c\u95ee\u9898\u5206\u4e3a\u4e24\u6b65\uff1a\n\n\u7b2c\u4e00\u6b65\uff0c\u6c42\u51fa\u6240\u6709\u5269\u4f59\u7cfb\u5bf9\u5e94\u7684 t \u7684\u6700\u5c0f\u503c$t_{min}$\uff08\u4e0b\u9762\u4ee3\u7801\u662f\u4fdd\u5b58\u5728 a \u6570\u7ec4\u4e2d\uff09\u3002\n\n\u7b2c\u4e8c\u6b65\uff0c\u5982\u679c cr \u7684\u6027\u4ef7\u6bd4\u9ad8\uff0c\u5219\u8981\u63a8\u51fa\u6240\u5728\u5269\u4f59\u7cfb\u7684 t \u6700\u5927\u503c $t_{max}$\uff0c\u56e0\u4e3a\u540c\u4e00\u4e2a\u5269\u4f59\u7cfb\u91cc\u9762 t \u7684\u5468\u671f\u90fd\u662f  $cb/d$ \uff0c\u53ef\u4ee5\u901a\u8fc7\u5468\u671f\u6c42\u51fa t \u7684\u6700\u5927\u503c\u3002\n\n\u516c\u5f0f\uff1a$t_{max}=t_{min}+C/cr/(cb/d)^2)$\n\n\u5982\u679c $t_{max}>C/cr$ \uff0c\u90a3\u4e48 $t_{max}=t_{max}-cb/d$\n\n\u8ba9\u6211\u4eec\u6765\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qc8jcryi.png)\n\n\u4e0a\u56fe\u4e2d\uff0c$C/cr=33$\uff0c$cb/d=5,d=gcd(3,5)=1$\n\n\u4ee3\u7801\u6765\u55bd\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\ninline int read()\n{\n    char ch=getchar();\n    int s=0,w=1;\n    while(ch<'0'||ch>'9')\n    {\n        if(ch=='-'){w=-1;}\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9')\n    {\n        s=(s<<1)+(s<<3)+ch-48;\n        ch=getchar();\n    }\n    return w*s;\n}\ninline void print(int x)\n{\n    if(x<0){putchar('-');x=-x;}\n    if(x>9){print(x/10);}\n    putchar(x%10+'0');\n}\nmap<int,int>mp;\nint a[1000000];\nsigned main()\n{\n    int c=read(),Hr=read(),Hb=read(),Wr=read(),Wb=read();\n\tif(Wr<Wb){swap(Hr,Hb);swap(Wr,Wb);}\n\tint cnt=0;\n\tint d=__gcd(Wr,Wb);\n\tint lim=min(Wb/d+1,c/Wr+1);\n\tfor(int i=0;i<=lim;i++)//\u6c42\u6a21wb\u7684\u5269\u4f59\u7cfb(c-x*cr)%cb\n    {\n\t\tint tmp=((c-Wr*i)%Wb+Wb)%Wb;//(c-x*cr)%cb\n\t\tif(mp.find(tmp)==mp.end())\n\t\t{\n\t\t\ta[cnt++]=i;//\u5269\u4f59\u7cfb\u91cc\u9762\u4fdd\u5b58\u7684\u662fx\u7684\u6700\u5c0f\u53d6\u503c\n\t\t\tmp[tmp]=1;\n\t\t}\n\t}\n\tint ans=0;\n\tif(Hr*Wb<=Hb*Wr)//\u5982\u679cr\u6027\u4ef7\u6bd4\u4f4e\uff0c\u5219\u53d6\u540c\u4f59\u7cfb\u4e2d\u7684\u6570\u76ee\n\t{\n\t\tfor(int i=0;i<cnt;i++)\n\t\t{\n\t\t\tint tmp=Wr*a[i];\n\t\t\tif(tmp>c){continue;}\n\t\t\tans=max(ans,Hr*a[i]+(c-tmp)/Wb*Hb);\n\t\t}\n\t}\n\telse//r\u7cd6\u679c\u6027\u4ef7\u6bd4\u9ad8\uff0c\u5219\u8981\u53d6\u5269\u4f59\u7cfb\u91cc\u9762r\u7cd6\u679c\u7684\u6700\u5927\u6570\u76ee\n    {\n\t\tfor(int i=0;i<cnt;i++)//(c-x*cr)%cb\n\t\t{\n            int nn=(c/Wr-a[i])/(Wb/d);// c/wr\u8868\u793ax\u7684\u6700\u5927\u53d6\u503c\uff0ca[i]\u662fx\u7684\u6700\u5c0f\u53d6\u503c\uff0c\u6574\u9664\u7684\u7ed3\u679c\u662f\u770b\u6a2a\u8de8\u51e0\u4e2a\u5468\u671f\n\t\t\tnn=nn*Wb/d+a[i];//nn\u662fx\u4e0ea[i]\u5728\u540c\u4e00\u4e2a\u5269\u4f59\u7c7b\u7684\u7684\u6700\u5927\u53d6\u503c\n\t\t\tif(nn>c/Wr){nn-=Wb/d;}\n\t\t\tint tmp=nn*Wr;\n\t\t\tif(tmp>c){continue;}\n\t\t\tans=max(ans,Hr*nn+(c-tmp)/Wb*Hb);\n\t\t}\n\t}\n\tprint(ans);\n    return 0;\n}\n\n```\n",
        "postTime": 1644561290,
        "uid": 360273,
        "name": "cfkk",
        "ccfLevel": 3,
        "title": "CF526C \u9898\u89e3"
    }
]