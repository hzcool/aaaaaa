[
    {
        "content": "\u7f51\u7edc\u6d41\u662f\u89e3\u51b3\u6b64\u7c7b\u4efb\u52a1\u5206\u914d\u95ee\u9898\u7684\u5229\u5668\uff0c\u4e00\u822c\u4f1a\u6709\u5982\u4e0b\u5957\u8def\uff1a\n\n1. \u65f6\u95f4\u4f5c\u4e3a\u7ed3\u70b9\u3002\n\n2. \u8d44\u6e90\u91cf\uff08\u672c\u9898\u673a\u5668\u6570\uff09\u4f5c\u4e3a\u5bb9\u91cf\u3002\n\n3. \u5229\u6da6/\u6d88\u8017\u4f5c\u4e3a\u8d39\u7528\u3002\n\n\u5728\u672c\u9898\u4e2d\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u4efb\u52a1\uff0c\u6211\u4eec\u65b0\u5efa\u4e24\u4e2a\u65f6\u95f4\u8282\u70b9 $s_i$ \u548c $s_i+t_i$ \u4ee3\u8868\u8d77\u59cb\u65f6\u523b\u4e0e\u7ec8\u6b62\u65f6\u523b\uff0c\u5e76\u8fde\u4e00\u6761\u5bb9\u91cf\u4e3a $1$\uff0c\u8d39\u7528\u4e3a $c_i$ \u7684\u5355\u5411\u8fb9\u3002\u8fd9\u7c7b\u8fb9\u9650\u5236\u4e86\u6bcf\u4e2a\u4efb\u52a1\u6700\u591a\u53ea\u80fd\u4ea4\u7ed9\u4e00\u53f0\u673a\u5668\u505a\uff0c\u5e76\u4e14\u505a\u4e86\u53ef\u4ee5\u5f97\u5230 $c_i$ \u7684\u5229\u6da6\uff08\u5bf9\u4e86\uff0c\u8003\u8651\u5230\u503c\u57df\u5f88\u5927\uff0c$s_i,s_i+t_i$ \u8981\u79bb\u6563\u5316\uff09\u3002\n\n\u9664\u6b64\u4e4b\u5916\uff0c\u8fd8\u8981\u6309\u7167\u65f6\u95f4\u987a\u5e8f\uff0c\u5c06\u6240\u6709\u76f8\u90bb\u7684\u65f6\u95f4\u8282\u70b9\u8fde\u63a5\u8d77\u6765\u3002\u5c06\u8fd9\u4e9b\u8fb9\u7684\u5bb9\u91cf\u90fd\u8bbe\u7f6e\u4e3a $k$\uff0c\u8d39\u7528\u4e3a $0$\u3002\u4e5f\u5c31\u662f\u8bf4\u6bcf\u65f6\u6bcf\u523b\u673a\u5668\u6570\u91cf\u4e0d\u80fd\u8d85\u8fc7 $k$\uff0c\u4e14\u95f2\u7f6e\u673a\u5668\u53ef\u4ee5\u7559\u5230\u540e\u9762\u7528\uff0c\u4f46\u4e0d\u4f1a\u5f97\u5230\u5229\u6da6\u3002\n\n\u73b0\u5728\u6211\u4eec\u628a\u6e90\u70b9\u8fde\u5411\u521d\u59cb\u65f6\u95f4\uff0c\u6700\u7ec8\u65f6\u95f4\u8fde\u5411\u6c47\u70b9\uff0c\u8dd1\u6700\u5927\u8d39\u7528\u6700\u5927\u6d41\u5c31\u53ef\u4ee5\u4e86\u3002\u8f93\u51fa\u65b9\u6848\u65f6\uff0c\u53ea\u9700\u8981\u68c0\u67e5\u4efb\u52a1 $i$ \u5bf9\u5e94\u7684\u8fb9\u6709\u6ca1\u6709\u6d41\u91cf\u6d41\u7ecf\uff0c\u6709\u7684\u8bdd\u8bf4\u660e\u8be5\u4efb\u52a1\u88ab\u9009\u62e9\u4e86\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vuzme1xv.png)\n\n\u4e0a\u56fe\u662f\u7531\u6837\u4f8b 2 \u6784\u5efa\u7684\u7f51\u7edc\uff0c\u6807\u6ce8\u7684 $(v,c)$ \u4ee3\u8868\u6b64\u8fb9\u5bb9\u91cf\u4e3a $v$\uff0c\u8d39\u7528\u4e3a $c$\uff08\u4f46\u662f\u8fd8\u6ca1\u79bb\u6563\u5316\uff09\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define nb 2010\n#define mb 10000\n#define inf 1e9\nusing namespace std;\n\nbool vis[nb];\nint n, k, s[nb], t[nb], c[nb];\nint S, T, cnt = 1, ans, money, tot, head[mb], _[mb], dis[nb];\nstruct edge{int to, next, val, cost, id;}e[mb];\n\nvoid add_edge(int u, int v, int w, int c, int x){\n\te[++cnt].to = v, e[cnt].val = w, e[cnt].cost =  c, e[cnt].next = head[u], head[u] = cnt, e[cnt].id = x;\n\te[++cnt].to = u, e[cnt].val = 0, e[cnt].cost = -c, e[cnt].next = head[v], head[v] = cnt;\n}\n\nbool SPFA(){\n\tmemset(dis, -1, sizeof(dis));\n\tdis[S] = 0, vis[S] = 1;\n\tqueue<int> q;\n\tq.push(S);\n\twhile(!q.empty()){\n\t\tint u = q.front();\n\t\tq.pop(), vis[u] = 0;\n\t\tfor(int i = head[u]; i; i = e[i].next){\n\t\t\tint v = e[i].to;\n\t\t\tif(e[i].val && dis[v] < dis[u] + e[i].cost){\n\t\t\t\tdis[v] = dis[u] + e[i].cost;\n\t\t\t\tif(!vis[v]) q.push(v), vis[v] = 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn ~dis[T];\n}\n\nint DFS(int u, int in){\n\tif(u == T) return in;\n\tvis[u] = 1;\n\tint out = 0;\n\tfor(int i = head[u]; i && out < in; i = e[i].next){\n\t\tint v = e[i].to;\n\t\tif(!vis[v] && e[i].val && dis[v] == dis[u] + e[i].cost){\n\t\t\tint res = DFS(v, min(e[i].val, in - out));\n\t\t\tif(res) money += res * e[i].cost, e[i].val -= res, e[i ^ 1].val += res, out += res;\n\t\t}\n\t}\n\tvis[u] = 0;\n\treturn out;\n}\n\nint main(){\n\tios::sync_with_stdio(0), cin >> n >> k;\n\tfor(int i = 1; i <= n; i++){\n\t\tcin >> s[i] >> t[i] >> c[i];\n\t\t_[++tot] = s[i], _[++tot] = s[i] + t[i];\n\t}\n\tsort(_ + 1, _ + tot + 1);\n\ttot = unique(_ + 1, _ + tot + 1) - _ - 1, T = tot + 1;\n\tfor(int i = 1; i <= n; i++){\n\t\tt[i] = lower_bound(_ + 1, _ + tot + 1, s[i] + t[i]) - _;\n\t\ts[i] = lower_bound(_ + 1, _ + tot + 1, s[i]) - _;\n\t}\n\tadd_edge(S, 1, k, 0, -1), add_edge(tot, T, k, 0, -1);\n\tfor(int i = 1; i < tot; i++) add_edge(i, i + 1, k, 0, -1);\n\tfor(int i = 1; i <= n; i++) add_edge(s[i], t[i], 1, c[i], i);\n\twhile(SPFA()) ans += DFS(S, inf);\n\tfor(int i = 1; i <= n; i++){\n\t\tint u = s[i], v = t[i];\n\t\tfor(int j = head[u]; j; j = e[j].next){\n\t\t\tif(e[j].id == i) cout << !e[j].val << \" \";\n\t\t}\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1631346413,
        "uid": 142338,
        "name": "pythoner713",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF164C \u3010Machine Programming\u3011"
    },
    {
        "content": "\u672c\u9898\u662f\u7f51\u7edc\u6d4124\u9898\u4e4b\u4e00\u7684[\u6700\u957fk\u53ef\u91cd\u533a\u95f4\u96c6\u95ee\u9898](https://www.luogu.com.cn/problem/P3358)\u7684\u6570\u636e\u52a0\u5f3a\u7248\uff0c\u9700\u8981\u5728\u90a3\u9898\u7684\u57fa\u7840\u4e0a\u4f18\u5316\u5efa\u56fe\u590d\u6742\u5ea6\n\n---\n\n### \u9898\u89e3\uff1a\n\n\u5148\u8003\u8651\u539f\u5148\u90a3\u9898\u7684\u5efa\u56fe\u65b9\u5f0f\uff0c\u5373\u62c6\u70b9\u540e\u4e24\u4e24\u66b4\u529b\u679a\u4e3e\u533a\u95f4$u$\u548c$v$\u770b\u770b\u80fd\u5426\u6ee1\u8db3\u524d\u540e\u6761\u4ef6\uff0c\u80fd\u5c31\u8fde\u8fb9$u'->v$\uff0c\u800c\u62c6\u5f00\u7684\u4e24\u70b9\u4e4b\u95f4\u7684\u5bb9\u91cf\u4e3a\u533a\u95f4\u957f\u5ea6\n\n\u8fd9\u6837\u505a\u8fb9\u6570\u662f$n^2$\u7ea7\u522b\u7684\uff0c$n=1000$\u65f6dinic\u5f88\u53ef\u80fd\u4f1a\u7206\u70b8\n\n\u8003\u8651\u4f18\u5316\n\n\u5957\u8def\u5730\uff0c\u6211\u4eec**\u5148\u5c06\u533a\u95f4\u6309\u5de6\u7aef\u70b9\u6392\u5e8f**\n\n\u56e0\u4e3a\u6211\u4eec\u77e5\u9053\u5982\u679c\u73b0\u5728\u7528\u8001\u65b9\u6cd5\u8fde\u8fb9\u7684\u8bdd\u80af\u5b9a\u4f1a\u8fde\u63a5\u7f16\u53f7\u4e3a$[x,n]$\u7684\u6240\u6709\u533a\u95f4\n\n\u7531\u4e8e\u90fd\u662f\u5411\u540e\u62d3\u5c55\u7684\uff0c\u5728\u4e24\u4e24\u66b4\u529b\u679a\u4e3e\u65f6\uff0c\u6211\u4eec\u53ea\u5411\u6ee1\u8db3\u6761\u4ef6\u7684\uff0c\u4e14$l$\u6700\u5c0f\u7684\u4e00\u4e2a$x$\u8fde\u8fb9\n\n\u4e3a\u4e86\u8ba9\u540e\u9762\u7684\u4e5f\u90fd\u88ab\u8fde\u5230\uff0c\u5728\u9884\u5904\u7406\u65f6\u9700\u8981\u989d\u5916\u8fde$n-1$\u6761\u8fb9\uff0c\u6bcf\u6761\u8fb9$i$\u8fde\u63a5\u533a\u95f4$i$\u548c\u533a\u95f4$i+1$\n\n\u6700\u540e\u518d\u50cf\u539f\u6765\u90a3\u9898\u4e00\u6837\u8dd1\u4e00\u8fb9\u8d39\u7528\u6d41\u540e\u4ece\u6b8b\u91cf\u7f51\u7edc\u4e0a\u83b7\u77e5\u5177\u4f53\u9009\u62e9\u60c5\u51b5\u5373\u53ef\n\n---\n\n### \u4ee3\u7801\uff1a\n\n```cpp\n#pragma GCC optimize(3,\"Ofast\",\"inline\")\n#pragma GCC target(\"avx\")\n#include <bits/stdc++.h>\nusing namespace std;\n#ifdef ONLINE_JUDGE\n#define getchar gc\ninline char gc(){\n\tstatic char buf[1<<16],*p1=buf,*p2=buf;\n\tif(p1==p2){\n\t\tp2=(p1=buf)+fread(buf,1,1<<16,stdin);\n\t\tif(p2==p1) return EOF;\n\t}\n\treturn *p1++;\n}\n#endif\ntemplate<class t> inline t read(t &x){\n    char c=getchar();bool f=0;x=0;\n    while(!isdigit(c)) f|=c=='-',c=getchar();\n    while(isdigit(c)) x=(x<<1)+(x<<3)+(c^48),c=getchar();\n    if(f) x=-x;return x;\n}\ntemplate<class t> inline void write(t x){\n    if(x<0) putchar('-'),write(-x);\n    else{if(x>9) write(x/10);putchar('0'+x%10);}\n}\n\nconst int N=2005,M=5e5+5;\nint en=1,h[N],dis[N],mc,mf,n,k,show[N];\nbool v[N];\n\nstruct seg{\n\tint l,r,w,i;\n\tinline bool operator < (const seg &nt) const {\n\t\treturn l<nt.l;\n\t}\n}a[N];\n\nstruct edge{\n\tint n,v,f,w;\n}e[M<<1];\n\nstruct fafafa{\n\tint fa,id;\n}pre[N];\n\nvoid add(int x,int y,int f,int w){\n\te[++en]=(edge){h[x],y,f,w};\n\th[x]=en;\n}\n\nbool spfa(int s,int t){\n\tmemset(v,0,sizeof v);\n\tmemset(pre,0,sizeof pre);\n\tmemset(dis,0x3f,sizeof dis);\n\tqueue<int> q;\n\tq.push(s);\n\tv[s]=1;\n\tdis[s]=0;\n\twhile(!q.empty()){\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tfor(int i=h[x];i;i=e[i].n){\n\t\t\tint y=e[i].v;\n\t\t\tif(e[i].f&&dis[x]+e[i].w<dis[y]){\n\t\t\t\tdis[y]=dis[x]+e[i].w;\n\t\t\t\tpre[y]=(fafafa){x,i};\n\t\t\t\tif(!v[y]){\n\t\t\t\t\tv[y]=1;\n\t\t\t\t\tq.push(y);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tv[x]=0;\n\t}\n\treturn dis[t]^0x3f3f3f3f;\n}\n\nvoid mcmf(int s,int t){\n\twhile(spfa(s,t)){\n\t\tint flow=INT_MAX;\n\t\tfor(int i=t;i^s;i=pre[i].fa)\n\t\t\tflow=min(flow,e[pre[i].id].f);\n\t\tfor(int i=t;i^s;i=pre[i].fa){\n\t\t\te[pre[i].id].f-=flow;\n\t\t\te[pre[i].id^1].f+=flow;\n\t\t}\n\t\tmf+=flow;\n\t\tmc+=flow*dis[t];\n\t}\n}\n\nvoid exadd(int x,int y,int f,int w){\n\tadd(x,y,f,w);\n\tadd(y,x,0,-w);\n}\n//\u4e0a\u9762\u662f\u6a21\u677f\nsigned main(){\n\tread(n);read(k);\n\tfor(int i=1;i<=n;i++){\n\t\tread(a[i].l);read(a[i].r);a[i].r=a[i].l+a[i].r-1;\n\t\tread(a[i].w);a[i].i=i; //\u57fa\u672c\u4fe1\u606f\n\t}\n\tsort(a+1,a+1+n); //\u6309\u5de6\u7aef\u70b9\u6392\u5e8f\n\tfor(int i=1;i<=n;i++){\n\t\texadd(i,i+n,1,-a[i].w); //\u62c6\u70b9\n\t\tshow[a[i].i]=en; //\u8bb0\u5f55\u62c6\u70b9\u4e2d\u95f4\u8fde\u7684\u662f\u54ea\u6761\u8fb9\n\t\texadd(i+n,n*2+1,INT_MAX,0); //\u5411\u6c47\u70b9\u8fde\u8868\u793a\u8fd9\u53f0\u673a\u5668\u5de5\u4f5c\u7ed3\u675f\n\t\tif(i<n) exadd(i,i+1,INT_MAX,0); //\u5411\u540e\u8fde\u6761\u8fb9\n\t\tfor(int j=i+1;j<=n;j++) if(a[i].r<a[j].l){ //\u627e\u51fa\u7b2c\u4e00\u4e2a\u80fd\u4e0e\u5b83\u8fde\u7684\u533a\u95f4\n\t\t\texadd(i+n,j,INT_MAX,0);\n\t\t\tbreak;\n\t\t}\n\t}\n\texadd(0,1,k,0); //\u7ed9\u7b2c\u4e00\u4e2a\u70b9\u6d41\u91cf\n\tmcmf(0,n*2+1);\n\tfor(int i=1;i<=n;i++) write(e[show[i]].f),putchar(' '); //\u770b\u770b\u662f\u5426\u88ab\u53d6\n}\n```",
        "postTime": 1590489169,
        "uid": 65735,
        "name": "yuzhechuan",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF164C \u3010Machine Programming\u3011"
    }
]