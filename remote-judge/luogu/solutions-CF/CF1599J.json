[
    {
        "content": "\u4ee5\u4e0b\u79f0\u9898\u76ee\u4e2d\u7ed9\u51fa\u7684\u5e8f\u5217\u4e3a\u201c\u539f\u5e8f\u5217\u201d\u3002\n\n\u9996\u5148\u6709\u4e00\u4e2a\u663e\u800c\u6613\u89c1\u7684\u7ed3\u8bba\uff0c\u82e5\u539f\u5e8f\u5217\u5b58\u5728\u76f8\u540c\u7684\u6570\uff0c\u90a3\u4e48\u76f4\u63a5\u53ef\u4ee5\u5f97\u51fa\uff1a\u76f8\u540c\u7684\u6570\u5176\u4e2d\u4e00\u4e2a\u53d8\u6210 $0$\uff0c\u5269\u4e0b\u7684\u6570\u4e0d\u53d8\u5c31\u662f\u4e00\u79cd\u7b54\u6848\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u5bf9\u4e8e\u539f\u5e8f\u5217 $a$ \u6211\u4eec\u53ea\u9700\u8981\u627e\u51fa\u5176\u4efb\u610f\u4e00\u4e2a\u5b50\u5e8f\u5217 $t$ \u5bf9\u5e94\u7684\u7b54\u6848\u5e8f\u5217\u5373\u53ef\u3002\u627e\u5230\u4e4b\u540e\u4e0d\u5728 $t$ \u5185\u7684\u5176\u4ed6\u6570 $a_i$ \u53ef\u7531 $t$ \u5185\u7684\u4efb\u610f\u4e00\u4e2a\u6570 $x$ \u548c\u989d\u5916\u7684\u4e00\u4e2a\u6570 $a_i-x$ \u5f97\u51fa\u3002\n\n\u5bf9\u4e8e\u4e00\u4e2a\u957f\u5ea6\u4e3a $3$ \u7684\u5e8f\u5217 $[A,B,C]$\uff0c\u4ee4\u7b54\u6848\u5e8f\u5217\u4e2d\u5b58\u5728\u4e00\u4e2a\u6570 $X$\uff0c\u5982\u679c\u8868\u793a\u51fa $A,B$ \u90a3\u4e48\u53ef\u4ee5\u8ba1\u7b97\u51fa\u53e6\u4e24\u4e2a\u6570\u4e3a $A-X,B-A+X$\uff0c\u8fd9\u4e5f\u5c31\u662f\u8bf4\u8981\u662f\u80fd\u8868\u793a\u51fa $C$ \u5c31\u9700\u8981\u6ee1\u8db3 $X+(B-A+X)=C$ \u5373 $X=\\frac{A-B+C}{2}$\u3002\u8fd9\u5c31\u8bf4\u660e\u82e5 $A,B,C$ \u4e4b\u548c\u4e3a\u5076\u6570\u5c31\u53ef\u4ee5\u8868\u793a\u51fa\u4e00\u4e2a\u5408\u6cd5\u7684\u7b54\u6848\u5e8f\u5217\u3002\n\n\u8fd9\u5c31\u6709\u4e24\u79cd\u53ef\u80fd\uff1a\u5747\u4e3a\u5076\u6570\u6216\u8005\u4e8c\u5947\u4e00\u5076\u3002\n\n\u5f53\u539f\u5e8f\u5217\u4e2d\u5b58\u5728\u5076\u6570\u65f6\uff1a\n- $N\\geq4$ \u65f6\u603b\u5b58\u5728\u89e3\uff0c\u56e0\u4e3a\u603b\u80fd\u6ee1\u8db3\u4ee5\u4e0a\u6761\u4ef6\u4e4b\u4e00\uff0c\u53ea\u8981\u627e\u5230\u4e09\u4e2a\u5076\u6570\u6216\u8005\u4e24\u4e2a\u5947\u6570\u4e00\u4e2a\u5076\u6570\u5c31\u80fd\u8868\u793a\u51fa\u7b54\u6848\u3002\n- $N\\leq3$ \u65f6\u53ea\u9700\u8981\u66b4\u529b\u5224\u65ad\uff0c\u4ee5\u53ca\u786e\u5b9a\u662f\u5426\u5b58\u5728\u76f8\u540c\u7684\u6570\u5373\u53ef\u3002\n\n\u5426\u5219\uff0c\u6211\u4eec\u73b0\u5728\u7684\u5e8f\u5217\u4e2d\u5168\u90e8\u662f\u5947\u6570\u3002\n\n\u8fd9\u65f6\u6211\u4eec\u5c1d\u8bd5\u53bb\u5bfb\u627e\u4e00\u4e2a\u53ef\u80fd\u7684\u5b50\u5e8f\u5217\uff0c\u957f\u5ea6\u4e3a\u5947\u6570\u7684\u5b50\u5e8f\u5217\u4e0d\u53ef\u80fd\u6210\u4e3a\u76ee\u6807\uff0c\u56e0\u4e3a\u7c7b\u4f3c\u4e0a\u9762\u957f\u5ea6\u4e3a $3$ \u7684\u5e8f\u5217\uff0c\u4ed6\u9700\u8981\u5143\u7d20\u4e4b\u548c\u4e3a\u5076\u6570\uff0c\u5947\u6570\u4e2a\u5947\u6570\u4e4b\u548c\u4e3a\u5947\u6570\uff0c\u6240\u4ee5\u4e0d\u53ef\u80fd\u3002\n\n\u4e8e\u662f\u6211\u4eec\u5047\u8bbe\u6709\u4e00\u4e2a\u957f\u5ea6\u4e3a $2s$ \u7684\u5e8f\u5217 $[a_1,a_2,a_3,\\cdots,a_{2s}]$\uff0c\u7c7b\u6bd4\u4e0a\u9762\u7684\u505a\u6cd5\uff0c\u4ee4\u7b54\u6848\u5e8f\u5217\u4e2d\u5b58\u5728\u6570 $X$\uff0c\u53ef\u4ee5\u8868\u793a\u51fa\u5176\u4ed6\u6570\u4e3a\n\n$$a_1-X,a_2-a_1+X,a_3-a_2+a_1-X,\\cdots,(a_{2s-1}-a_{2s-2}\\cdots +a_1-X)$$\n\n\u9700\u8981\u6ee1\u8db3 $X+(a_{2s-1}-a_{2s-2}\\cdots +a_1-X)=a_{2s}$\uff0c$X$ \u88ab\u6d88\u6389\u4e86\uff0c\u5f97\u51fa \n\n$$\\sum_{i=1}^{s} a_{2i-1} = \\sum_{i=1}^{s} a_{2i}$$\n\n\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u9700\u8981\u5728\u539f\u5e8f\u5217\u4e2d\u627e\u51fa\u4efb\u610f\u4e24\u4e2a\u4e0d\u5b8c\u5168\u76f8\u540c\u7684\u96c6\u5408\uff0c\u6ee1\u8db3\u5927\u5c0f\u548c\u5143\u7d20\u548c\u5747\u76f8\u7b49\uff08\u82e5\u6709\u91cd\u590d\u5143\u7d20\u5c31\u540c\u65f6\u5220\u53bb\uff09\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u5bf9\u4e8e\u5927\u5c0f\u4e3a $S$ \u7684\u5b50\u5e8f\u5217\uff0c\u9009\u6cd5\u6709 $C_N^S$ \u79cd\uff0c\u53d6\u503c\u7684\u4e2a\u6570\u6700\u591a\u6709 $10^6 \\times S$ \u79cd\uff0c\u5728 $S \\geq 28$ \u65f6\uff0c\u540e\u8005\u5c0f\u4e8e\u524d\u8005\uff0c\u6839\u636e\u9e3d\u5de2\u539f\u7406\uff0c\u4e00\u5b9a\u4f1a\u51fa\u73b0\u53d6\u503c\u76f8\u540c\u7684\u5b50\u5e8f\u5217\uff0c\u4e8e\u662f\u53ef\u4ee5\u5f97\u51fa\u505a\u6cd5\uff1a\n\n- $N \\geq 28$\uff0c\u76f4\u63a5 $dfs$ \u6bcf\u4e00\u79cd\u5927\u5c0f\u4e3a $28$ \u7684\u96c6\u5408\uff0c\u5bfb\u627e\u53d6\u503c\u76f8\u540c\u7684\u96c6\u5408\u3002\n- $N < 28$\uff0c\u66b4\u529b\u72b6\u538b\u679a\u4e3e\u6bcf\u79cd\u9009\u6cd5\uff0c\u67e5\u770b\u662f\u5426\u5b58\u5728\u5927\u5c0f\u548c\u5143\u7d20\u548c\u5747\u76f8\u540c\u7684\u96c6\u5408\u3002\n\n\u53ef\u4ee5\u7528\u54c8\u5e0c\u8868\u6765\u5b9e\u73b0\u3002\n```cpp\nusing namespace std;\n# include<bits/stdc++.h>\n# include<bits/extc++.h>\nint N;\nconstexpr int maxn(1002);\nint a[maxn];\nvoid work1(){\n\tif(N==2){\n\t\tif(a[1]==a[2]){\n\t\t\tprintf(\"YES\\n0 %d\\n\",a[1]);\n\t\t\treturn;\n\t\t}else{\n\t\t\tprintf(\"NO\\n\");\n\t\t\treturn;\n\t\t}\n\t}\n\tif(N==3){\n\t\tif(a[1]==a[2]){\n\t\t\tprintf(\"YES\\n0 %d %d\\n\",a[2],a[3]);\n\t\t\treturn;\n\t\t}else if(a[2]==a[3]){\n\t\t\tprintf(\"YES\\n0 %d %d\\n\",a[1],a[3]);\n\t\t\treturn;\n\t\t}\n\t}\n\tstd::vector<int>o,j;\n\tfor(int i=1;i<=N;i++) if(a[i]%2==0) o.push_back(i);else j.push_back(i);\n\tif(N==3&&j.size()<2){\n\t\tputs(\"NO\");\n\t\treturn;\n\t}\n\tint A,B,C;\n\tif(o.size()>=3){\n\t\tA=o[0],B=o[1],C=o[2];\n\t}else A=o[0],B=j[0],C=j[1];\n\tint X=(a[A]-a[B]+a[C])>>1;\n\tputs(\"YES\");\n\tprintf(\"%d %d %d \",X,a[A]-X,a[B]-a[A]+X);\n\tfor(int i=1;i<=N;i++){\n\t\tif(i==A||i==B||i==C) continue;\n\t\tprintf(\"%d \",a[i]-X);\n\t}\n}\nstruct aqua{\n\tstd::vector<int>v;\n\taqua(){};\n\taqua(std::vector<int>t){v=t;}\n};\nvoid print(std::vector<int>A,std::vector<int>B){\n\tstatic bool visa[maxn],visb[maxn];\n\tfor(auto x:A) visa[x]=1;\n\tfor(auto x:B) visb[x]=1;\n\tA.clear(),B.clear();\n\tfor(int i=1;i<=N;i++){\n\t\tif(visa[i]^visb[i]){\n\t\t\tif(visa[i]) A.push_back(i);\n\t\t\telse B.push_back(i);\n\t\t}\n\t}\n\tint X=0;\n\tputs(\"YES\");\n\tfor(int i=0;i<A.size();i++){\n\t\tprintf(\"%d \",X);\n\t\tX=a[A[i]]-X;\n\t\tprintf(\"%d \",X);\n\t\tX=a[B[i]]-X;\n\t}\n\tfor(int i=1;i<=N;i++){\n\t\tif(visa[i]^visb[i]) continue;\n\t\tprintf(\"%d \",a[i]);\n\t}\n}\nvoid work2(){\n\t__gnu_pbds::gp_hash_table<int,int>h[30];\n\tfor(int i=1;i<1<<N;i++){\n\t\tint g=__builtin_popcount(i);\n\t\tint s=0;\n\t\tfor(int j=1;j<=N;j++){\n\t\t\tif((i>>(j-1))&1) s+=a[j];\n\t\t}\n\t\tif(h[g][s]){\n\t\t\tint x=i,y=h[g][s];\n\t\t\tstd::vector<int>a,b;\n\t\t\tfor(int j=1;j<=N;j++){\n\t\t\t\tif((x>>(j-1))&1) a.push_back(j);\n\t\t\t\tif((y>>(j-1))&1) b.push_back(j);\n\t\t\t}\n\t\t\tprint(a,b);\n\t\t\treturn;\n\t\t}\n\t\th[g][s]=i;\n\t}\n\tputs(\"NO\");\n}\nstd::vector<int>xl;\n__gnu_pbds::gp_hash_table<int,aqua>hs;\nvoid dfs(int d,int now,int z){\n\tif(d==28){\n\t\tif(!hs[z].v.empty()){\n\t\t\tprint(hs[z].v,xl);\n\t\t\texit(0);\n\t\t}\n\t\ths[z]=aqua(xl);\n\t\treturn;\n\t}\n\tfor(int i=now;i<=N;i++)\n\t\txl[d]=i,dfs(d+1,i+1,z+a[i]);\n}\nvoid work3(){\n\txl.resize(28);\n\tdfs(0,1,0);\n\tputs(\"NO\");\n}\nint main(){\n\tstd::cin>>N;\n\tbool fg=0;\n\tfor(int i=1;i<=N;i++) scanf(\"%d\",&a[i]),fg|=a[i]%2==0;\n\tstd::sort(a+1,a+N+1);\n\tif(fg){\n\t\twork1();\n\t\treturn 0;\n\t}\n\tif(N<=28) work2();\n\telse work3();\n   return 0;\n}\n```\n",
        "postTime": 1672663056,
        "uid": 574506,
        "name": "lnxxqz",
        "ccfLevel": 7,
        "title": "CF1599J\u9898\u89e3"
    }
]