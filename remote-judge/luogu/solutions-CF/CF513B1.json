[
    {
        "content": "\u65b0\u4eba Universal_xtr \u7684\u7b2c\u4e8c\u7bc7\u9898\u89e3\u3002\n\n## \u601d\u8def\n\n\u4ed4\u7ec6\u89c2\u5bdf\u9898\u9762\uff0c\u4e0d\u96be\u53d1\u73b0 $f$ \u51fd\u6570 $\\sum_{i=1}^{n} \\sum_{j=i}^{n} \\min_{x=i}^{j} p_x$ \u5176\u5b9e\u5c31\u662f\u6c42 $n$ \u7684\u67d0\u4e2a\u6392\u5217 $p$ \u7684\u6bcf\u4e00\u4e2a\u5b50\u6bb5\u7684\u6700\u5c0f\u503c\u3002\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e $n$ \u7684\u5168\u6392\u5217\uff0c\u800c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6392\u5217 $perm_i$\uff0c\u6c42\u51fa\u5b83\u6240\u6709\u5b50\u6bb5\u7684\u6700\u5c0f\u503c\u4e4b\u548c $s$\uff0c\u5982\u679c $s$ \u5927\u4e8e\u5f53\u524d\u6700\u5927\u503c $ans$\uff0c\u5219\u66f4\u65b0 $ans$\uff1b\u53c8\u5982\u679c $s$ \u7b49\u4e8e $ans$\uff0c\u7edf\u8ba1\u4e2a\u6570\u52a0 $1$ \u3002\n\n\n**ps\uff1a\u5728\u8fd9\u9898\uff0c\u6c42\u6bcf\u4e2a\u5b50\u6bb5\u7684\u6700\u5c0f\u503c\u53ef\u4ee5\u66b4\u529b\u679a\u4e3e\u5de6\u53f3\u7aef\u70b9\uff0c\u518d\u7528\u5217\u8868\u5207\u7247\u548c `min` \u51fd\u6570\u6c42\u51fa\u3002**\n\n## \u6ce8\u610f\u4e8b\u9879\n\n- \u679a\u4e3e\u5168\u6392\u5217\u65f6\u8981\u6309\u5b57\u5178\u5e8f\u679a\u4e3e\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u8f93\u51fa\u7684\u7b2c $m$  \u4e2a\u6392\u5217\u7b26\u5408\u9898\u76ee\u8981\u6c42\u3002\n- \u5982\u679c\u5f53\u524d\u7684\u4e2a\u6570\u5df2\u7ecf\u5927\u4e8e $m$ \u4e86\uff0c\u90a3\u53ef\u4ee5\u76f4\u63a5 `return` \u6389\u3002\n- \u5982\u679c\u5f53\u524d\u7684\u4e2a\u6570\u6070\u597d\u7b49\u4e8e $m$\uff0c\u8f93\u51fa\u540e\u5c31\u53ef\u4ee5\u76f4\u63a5\u7ed3\u675f\u7a0b\u5e8f\uff08`sys.exit()`\uff09\u3002\n\n- \u51fd\u6570\u5f00\u59cb\u4e00\u5b9a\u8981 `global` \u5f15\u5165\u5168\u5c40\u53d8\u91cf\uff0c\u5426\u5219\u4f1a\u629b\u51fa `UnBoundLocalError` \u3002\n\n\u73b0\u5728\u5949\u4e0a AC \u4ee3\u7801\uff1a\n```python\nimport sys\nn,m=map(int,input().split())\nsys.setrecursionlimit(1000001) #\u81ea\u884c\u5b9a\u4e49\u9012\u5f52\u6700\u5927\u6df1\u5ea6\uff0c\u9632\u6b62\u9ed8\u8ba4\u957f\u5ea6\u7684\u7cfb\u7edf\u6808\u7206\u6389\nl=[]\ncnt,ans=0,-2147483648\ndef perm(depth:int):\n    global ans,cnt #\u5168\u5c40\u5316cnt\u548cans\n    if cnt>m:return #\u5982\u679c\u5f53\u524d\u4e2a\u6570\u5df2\u7ecf\u8d85\u8fc7\u6240\u9700\u7684m\u4e86\uff0c\u90a3\u8bc1\u660e\u5f53\u524d\u7684\"\u6700\u5927\u503c\"\u4e0d\u662f\u771f\u7684\u6700\u5927\u503c\uff0c\u6240\u4ee5\u76f4\u63a5\u9000\u51fa\n    if depth==n+1:\n        s=0\n        for i in range(0,len(l)-1):\n            for j in range(i+1,len(l)):s+=min(l[i:j+1]) #\u6c42\u51fa\u6bcf\u4e2a\u5b50\u6bb5\u7684\u6700\u5c0f\u503c\n        if s>ans: #\u66f4\u65b0\u7b54\u6848\n            cnt=0\n            ans=s\n        if s==ans:cnt+=1\n        if cnt==m: #\u6761\u4ef6\u6210\u7acb\n            print(*l)\n            sys.exit() #\u627e\u5230\u4e86\u5c31\u76f4\u63a5\u7ed3\u675f\u7a0b\u5e8f\n        return\n    for i in range(1,n+1): #\u679a\u4e3e\u5168\u6392\u5217\n        if i in l:continue\n        l.append(i)\n        perm(depth+1)\n        l.pop()\nperm(1)\n```\n\u611f\u8c22\u6536\u770b\uff01\n\nupdate on 2021.10.3 15:00\uff1a\u589e\u52a0\u4e86\u4ee3\u7801\u7684\u6ce8\u91ca\u3002",
        "postTime": 1633244080,
        "uid": 540148,
        "name": "Universal_xtr",
        "ccfLevel": 0,
        "title": "CF513B1\u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/solution/CF513B1)\n\n# \u5206\u6790\n\u9996\u5148\u89e3\u91ca\u4e00\u4e0b $f(p)$ \u7684\u516c\u5f0f\u90e8\u5206\uff1a\u679a\u4e3e\u4e00\u4e2a\u96c6\u5408\u91cc\u7684\u4e00\u4e9b\u6570\uff0c\u628a\u5b83\u4eec\u7684\u6700\u5c0f\u503c\u8bb0\u5f55\u4e0b\u6765\uff0c\u6700\u540e\u6c42\u548c\u3002\n\n\u5f53 $f(p)$ \u6700\u5927\u65f6\uff0c\u628a\u5b57\u5178\u5e8f\u6700\u5927\u7684\u7b2c $m$ \u4e2a\u6392\u5217\u4f5c\u4e3a\u8f93\u51fa\u3002\n\n\u53d1\u73b0\u8fd9\u4e2a\u9898\u76ee\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u679a\u4e3e\u5168\u6392\u5217\u7684\u9898\u76ee\u3002\n\n\u7528\u6df1\u641c\u5b8c\u6210\uff1a\n\n```cpp\nfor(int i=1;i<=n;i++){\n\t\tif(!used[i]){\n\t\t\ta[d]=i;\n\t\t\tused[i]=1;\n\t\t\tdfs(d+1);\n\t\t\tused[i]=0;\n\t\t}\n}\n```\n\n\u7136\u540e\u679a\u4e3e\u6bcf\u4e00\u4e2a\u6392\u5217\u7684 $f(p)$ \u503c\uff0c\u6c42\u51fa\u5b83\u4eec\u4e2d\u7684\u6700\u5c0f\u503c\u3002\n\n```cpp\nfor(int i=1;i<=n;i++){\n\tfor(int j=i;j<=n;j++){\n\t\tint k=1e9;\n\t\tfor(int t=i;t<=j;t++){\n\t\t\tk=min(a[t],k);\n\t\t}\n\t\th+=k;\n\t}\n}\n```\n\n\u6700\u540e\u8bb0\u5f55\u4e00\u4e0b $f(p)$ \u7684\u6700\u5927\u503c\n```cpp\nif(h>ans){\n\tans=h;\n\tcnt=0;\n}\nif(h==ans)cnt++;\n```\n\n\u6700\u7ec8\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,cnt,ans;\nint a[55];\nint used[55];\nvoid dfs(int d){\n\tif(cnt>=m)return ;\n\tif(d>n){\n\t\tint h=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=i;j<=n;j++){\n\t\t\t\tint k=1e9;\n\t\t\t\tfor(int t=i;t<=j;t++){\n\t\t\t\t\tk=min(a[t],k);\n\t\t\t\t}\n\t\t\t\th+=k;\n\t\t\t}\n\t\t}\n\t\tif(h>ans){\n\t\t\tans=h;\n\t\t\tcnt=0;\n\t\t}\n\t\tif(h==ans)cnt++;\n\t\tif(cnt==m){\n\t\t\tfor(int i=1;i<=n;i++)printf(\"%d \",a[i]);\n\t\t\treturn ;\n\t\t}\n\t\treturn ;\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tif(!used[i]){\n\t\t\ta[d]=i;\n\t\t\tused[i]=1;\n\t\t\tdfs(d+1);\n\t\t\tused[i]=0;\n\t\t}\n\t}\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tdfs(1);\n\treturn 0;\n}\n```\n",
        "postTime": 1642643056,
        "uid": 668869,
        "name": "Fire_flame",
        "ccfLevel": 5,
        "title": "CF513B1\u9898\u89e3"
    },
    {
        "content": "# \u9898\u76ee\u63cf\u8ff0\n\n[Permutations](https://www.luogu.com.cn/problem/CF513B1)\n\n# \u7b97\u6cd5\u601d\u8def\n\n\u5148\u679a\u4e3e\u6240\u6709\u6392\u5217\u6c42\u51fa\u6700\u5927\u7684 $f_{p}$\uff0c\u7136\u540e\u679a\u4e3e\u6240\u6709\u6392\u5217\uff0c\u6c42\u51fa\u6240\u6709\u4f7f\u5f97 $f_{p}$ \u6700\u5927\u7684\u957f\u5ea6\u4e3a $n$ \u7684\u6392\u5217\u4e2d\uff0c\u5b57\u5178\u5e8f\u7b2c $m$ \u5c0f\u7684\u6392\u5217\u3002\n\n\u6570\u636e\u8303\u56f4 $n=8$\uff0c\u53ef\u4ee5\u4f7f\u7528 c++ \u51fd\u6570\u5e93\u91cc\u7684 ```next_permutation```\uff0c\u4e0d\u77e5\u9053 ```next_permutation``` \u7684\u540c\u5b66\u53ef\u4ee5[\u70b9\u8fd9\u91cc](https://blog.csdn.net/weixin_52115456/article/details/127626074)\u3002\n\n### \u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(n^3 n!)$\u3002\n\n## \u4ee3\u7801\n```\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst ll N=20;\nll n,m,minn,maxx,cnt,ans,a[N];\nint main()\n{\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\tcout.tie(0);\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\ta[i]=i;\n\t}\n\tdo\n\t{\n\t\tans=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tfor(int j=i;j<=n;j++)\n\t\t\t{\n\t\t\t\tminn=n+1;\n\t\t\t\tfor(int k=i;k<=j;k++)\n\t\t\t\t{\n\t\t\t\t\tminn=min(minn,a[k]);\n\t\t\t\t}\n\t\t\t\tans+=minn;\n\t\t\t}\n\t\t}\n\t\tmaxx=max(maxx,ans);\n\t}\n\twhile(next_permutation(a+1,a+n+1));\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\ta[i]=i;\n\t}\n\tdo\n\t{\n\t\tans=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tfor(int j=i;j<=n;j++)\n\t\t\t{\n\t\t\t\tminn=n+1;\n\t\t\t\tfor(int k=i;k<=j;k++)\n\t\t\t\t{\n\t\t\t\t\tminn=min(minn,a[k]);\n\t\t\t\t}\n\t\t\t\tans+=minn;\n\t\t\t}\n\t\t}\n\t\tif(ans==maxx)\n\t\t{\n\t\t\tcnt++;\n\t\t}\n\t\tif(cnt==m)\n\t\t{\n\t\t\tfor(int i=1;i<=n;i++)\n\t\t\t{\n\t\t\t\tcout<<a[i]<<\" \";\n\t\t\t}\n\t\t\tcout<<\"\\n\";\n\t\t\treturn 0;\n\t\t}\n\t}\n\twhile(next_permutation(a+1,a+n+1));\n\treturn 0;\n}\n```",
        "postTime": 1682930370,
        "uid": 572727,
        "name": "lvzekai_big",
        "ccfLevel": 0,
        "title": "CF513B1 Permutations \u9898\u89e3"
    },
    {
        "content": "\u56e0\u4e3a\u6b64\u9898 n \u5f88\u5c0f\uff0c\u8003\u8651 $O(n! \\times n^3)$ \u7684\u7b97\u6cd5\u3002\n\n\u901a\u8fc7\u5934\u6587\u4ef6 `algorithm` \u81ea\u5e26\u7684 `next_permutation` \u679a\u4e3e\u5168\u6392\u5217\uff0c$O(n^3)$ \u8ba1\u7b97 $\\sum\\limits_{i=1}^{n}\\sum\\limits_{j=i}^{n}\\min(a_i,a_{i+1}\\cdot\\cdot\\cdot a_j)$\n\nCode\uff1a\n\n```cpp\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nint a[15];\nint main(){\n\tint n,m,ans=0,mas=0,baxms=0,cnt=0;\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++){\n\t\ta[i]=i;\n\t}\n\tdo{\n\t\tans=0;mas=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=i;j<=n;j++){\n\t\t\t\tmas=n+1;\n\t\t\t\tfor(int k=i;k<=j;k++){\n\t\t\t\t\tmas=min(mas,a[k]);\n\t\t\t\t}\n\t\t\t\tans+=mas;\n\t\t\t}\n\t\t}\n\t\tbaxms=max(baxms,ans);\n\t}while(next_permutation(a+1,a+n+1));\n\tfor(int i=1;i<=n;i++){\n\t\ta[i]=i;\n\t}\n\tdo{\n\t\tans=0;mas=0;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=i;j<=n;j++){\n\t\t\t\tmas=n+1;\n\t\t\t\tfor(int k=i;k<=j;k++){\n\t\t\t\t\tmas=min(mas,a[k]);\n\t\t\t\t}\n\t\t\t\tans+=mas;\n\t\t\t}\n\t\t}\n\t\tif(ans==baxms){\n\t\t\tcnt++;\n\t\t}\n\t\tif(cnt==m){\n\t\t\tfor(int i=1;i<=n;i++){\n\t\t\t\tcout<<a[i]<<\" \";\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\t}while(next_permutation(a+1,a+n+1));\n\treturn 0;\n}\n\n```",
        "postTime": 1646444152,
        "uid": 356001,
        "name": "Phigros_Light",
        "ccfLevel": 0,
        "title": "CF513B1\u9898\u89e3"
    },
    {
        "content": "## Content\n\u7ed9\u5b9a\u4e24\u4e2a\u6574\u6570 $n,m$\u3002\u5b9a\u4e49 $f(p)=\\sum\\limits_{l=1}^n\\sum\\limits_{r=l}^n\\min\\limits_{i=l}^rp_i$\uff0c\u5176\u4e2d $p$ \u4e3a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u6392\u5217\u3002\u73b0\u5728\uff0c\u8bf7\u4f60\u6c42\u51fa\u6240\u6709\u4f7f\u5f97 $f(p)$ \u6700\u5927\u7684\u957f\u5ea6\u4e3a $n$ \u7684\u6392\u5217\u4e2d\uff0c\u5b57\u5178\u5e8f\u7b2c $m$ \u5c0f\u7684\u6392\u5217\u3002\n\n**\u6570\u636e\u8303\u56f4\uff1a$1\\leqslant n\\leqslant 8$\u3002**\n## Solution\n\u770b\u5230\u6570\u636e\u8303\u56f4\u9a6c\u4e0a\u60f3\u5230\u4e00\u79cd\u5f88 naive \u7684 $O(n!\\cdot n^3)$ \u7684\u505a\u6cd5\uff1a\u5148\u679a\u4e3e\u6240\u6709\u7684\u6392\u5217\u6c42\u51fa\u6700\u5927\u7684 $f(p)$\uff0c\u7136\u540e\u518d\u679a\u4e3e\u6240\u6709\u7684\u6392\u5217\u626b\u5230\u4f7f\u5f97 $f(p)$ \u6700\u5927\u7684\u5b57\u5178\u5e8f\u7b2c $m$ \u5c0f\u7684\u6392\u5217\u3002\n\n`next_permutation` \u53ef\u4ee5\u66f4\u65b9\u4fbf\u5730\u679a\u4e3e\u5168\u6392\u5217\uff0c\u5177\u4f53\u770b\u4ee3\u7801\u3002\n## Code\n```cpp\nnamespace Solution {\n\tconst int N = 17;\n\tint n, m, mx, p[N];\n\t\n\tiv Main() {\n\t\tread(n, m); F(int, i, 1, n) p[i] = i;\n\t\tdo {\n\t\t\tint sum = 0;\n\t\t\tF(int, l, 1, n) F(int, r, l, n) {\n\t\t\t\tint mn = 10;\n\t\t\t\tF(int, i, l, r) mn = min(mn, p[i]);\n\t\t\t\tsum += mn;\n\t\t\t}\n\t\t\tmx = max(mx, sum);\n\t\t}while(next_permutation(p + 1, p + n + 1));\n\t\tint cnt = 0;\n\t\tF(int, i, 1, n) p[i] = i;\n\t\tdo {\n\t\t\tint sum = 0;\n\t\t\tF(int, l, 1, n) F(int, r, l, n) {\n\t\t\t\tint mn = 10;\n\t\t\t\tF(int, i, l, r) mn = min(mn, p[i]);\n\t\t\t\tsum += mn;\n\t\t\t}\n\t\t\tif(sum == mx) {\n\t\t\t\tcnt++;\n\t\t\t\tif(cnt == m) {\n\t\t\t\t\tF(int, i, 1, n) printf(\"%d%c\", p[i], \" \\n\"[i == n]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}while(next_permutation(p + 1, p + n + 1));\n\t\treturn;\n\t}\n}\n```",
        "postTime": 1636189435,
        "uid": 112917,
        "name": "Eason_AC",
        "ccfLevel": 6,
        "title": "CF513B1 Permutations"
    }
]