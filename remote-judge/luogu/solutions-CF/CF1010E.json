[
    {
        "content": "~~\u5927\u6982\u662f\u9000\u5f79\u524d\u7684\u6700\u540e\u4e00\u7bc7\u9898\u89e3\u4e86\u5427\u3002~~\n\n\u9898\u610f\uff1a\u7ed9\u5b9a $n$ \u4e2a\u5728\u957f\u65b9\u4f53\u5185\u7684\u70b9\u548c $m$ \u4e2a\u4e0d\u5728\u957f\u65b9\u4f53\u5185\u7684\u70b9\uff0c$k$ \u6b21\u67e5\u8be2\u4e00\u4e2a\u70b9 \u662f/\u5426/\u4e0d\u786e\u5b9a \u5728\u957f\u65b9\u4f53\u5185\u3002\n\n\u9996\u5148\u7b97\u51fa $n$ \u4e2a\u70b9\u7684 $x_{\\max}$\uff0c$x_{\\min}$\uff0c$y_{\\max}$\uff0c$y_{\\min}$\uff0c$z_{\\max}$\uff0c$z_{\\min}$\u3002\u90a3\u4e48\u4e00\u4e2a\u70b9\u786e\u5b9a\u5728\u957f\u65b9\u4f53\u5185\u7684\u6761\u4ef6\u662f $x_{\\max}\\le x\\le x_{\\min}$\uff0c$y_{\\max}\\le y\\le y_{\\min}$\uff0c$z_{\\max}\\le z\\le z_{\\min}$\uff0c\u6b64\u65f6\u8f93\u51fa `OPEN`\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u8be2\u95ee\u70b9\uff0c\u5047\u8bbe\u5b83\u5728\u957f\u65b9\u4f53\u5185\uff0c\u90a3\u4e48\u53ef\u4ee5\u8ba1\u7b97\u51fa\u65b0\u7684 $x_{\\max}$\uff0c$x_{\\min}$\uff0c$y_{\\max}$\uff0c$y_{\\min}$\uff0c$z_{\\max}$\uff0c$z_{\\min}$\uff0c\u6b64\u65f6\u5982\u679c $m$ \u4e2a\u4e0d\u5728\u539f\u957f\u65b9\u4f53\u5185\u7684\u70b9\u51fa\u73b0\u5728\u4e86\u65b0\u7684\u957f\u65b9\u4f53\u5185\uff0c\u90a3\u4e48\u663e\u7136\u77db\u76fe\uff0c\u8bf4\u660e\u8be2\u95ee\u70b9\u4e0d\u5728\u957f\u65b9\u4f53\u5185\uff0c\u8f93\u51fa `CLOSED`\uff0c\u5426\u5219\u8be2\u95ee\u70b9\u4e0d\u786e\u5b9a\u662f\u5426\u5728\u957f\u65b9\u4f53\u5185\uff0c\u8f93\u51fa `UNKNOWN`\u3002\n\n\u4e8e\u662f\u8fd9\u9898\u5c31\u88ab\u8f6c\u5316\u6210\u4e86\u4e09\u7ef4\u6570\u70b9\u677f\u5b50\uff0c\u4f7f\u7528\u5408\u9002\u7684\u6570\u636e\u7ed3\u6784\u7ef4\u62a4\u5373\u53ef\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ri int\ntypedef long long ll;\nconst int maxd=3,maxn=1e5+10;\ntemplate<class T>inline bool ckmin(T &x,const T &y){return x>y?x=y,1:0;}\ntemplate<class T>inline bool ckmax(T &x,const T &y){return x<y?x=y,1:0;}\ntemplate<class T>inline void clear(T *arr,int siz,int val=0){memset(arr,val,sizeof(T)*(siz+1));}\nstruct point{\n\tint v[maxd];\n\tinline int operator[](int k)const{return v[k];}\n\tinline int& operator[](int k){return v[k];}\n}a[maxn],tmp[2],_tmp[2];\nstruct node{\n\tint ls,rs;\n\tpoint mn,mx,v;\n}t[maxn];\ninline void push_up(int p){\n\tt[p].mn=t[p].mx=t[p].v;\n\tfor(ri i=0;i<maxd;++i){\n\t\tif(t[p].ls)ckmin(t[p].mn[i],t[t[p].ls].mn[i]),ckmax(t[p].mx[i],t[t[p].ls].mx[i]);\n\t\tif(t[p].rs)ckmin(t[p].mn[i],t[t[p].rs].mn[i]),ckmax(t[p].mx[i],t[t[p].rs].mx[i]);\n\t}\n}\nint cnt;\n#define nxt(d) (d+1==maxd?0:d+1)\nvoid build(int &p,int l,int r,int d){\n\tif(l>r)return;\n\tri mid=l+r>>1;\n\tnth_element(a+l,a+mid+1,a+r,[&](const auto &x,const auto &y){return x[d]<y[d];});\n\tt[p=++cnt].v=a[mid];\n\tbuild(t[p].ls,l,mid-1,nxt(d));\n\tbuild(t[p].rs,mid+1,r,nxt(d));\n\tpush_up(p);\n}\ninline bool est(int p){\n\tif(!p)return false;\n\tfor(ri i=0;i<maxd;++i)\n\t\tif(t[p].mx[i]<tmp[0][i]||tmp[1][i]<t[p].mn[i])\n\t\t\treturn false;\n\treturn true;\n}\ninline bool in(int p){\n\tfor(ri i=0;i<maxd;++i)\n\t\tif(t[p].v[i]<tmp[0][i]||tmp[1][i]<t[p].v[i])\n\t\t\treturn false;\n\treturn true;\n}\nbool query(int p){\n\treturn est(p)&&(in(p)||query(t[p].ls)||query(t[p].rs));\n}\nint m,n,q,rt;\nint main(){\n\tscanf(\"%*d%*d%*d%d%d%d\",&n,&m,&q);\n\tfor(ri i=0;i<maxd;++i)tmp[0][i]=114514;\n\twhile(n--)\n\t\tfor(ri i=0,x;i<maxd;++i){\n\t\t\tscanf(\"%d\",&x);\n\t\t\tckmin(tmp[0][i],x);\n\t\t\tckmax(tmp[1][i],x);\n\t\t}\n\tfor(ri i=1;i<=m;++i)\n\t\tfor(ri j=0;j<maxd;++j)\n\t\t\tscanf(\"%d\",&a[i][j]);\n\tbuild(rt,1,m,0);\n\tif(query(rt))return puts(\"INCORRECT\"),0;\n\tputs(\"CORRECT\");\n\twhile(q--){\n\t\tfor(ri i=0;i<maxd;++i)scanf(\"%d\",&t[m+1].v[i]);\n\t\tif(in(m+1))puts(\"OPEN\");\n\t\telse{\n\t\t\tmemcpy(_tmp,tmp,sizeof tmp);\n\t\t\tfor(ri i=0;i<maxd;++i)ckmin(tmp[0][i],t[m+1].v[i]),ckmax(tmp[1][i],t[m+1].v[i]);\n\t\t\tputs(query(rt)?\"CLOSED\":\"UNKNOWN\");\n\t\t\tmemcpy(tmp,_tmp,sizeof tmp);\n\t\t}\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1651892273,
        "uid": 67942,
        "name": "meyi",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1010E \u3010Store\u3011"
    }
]