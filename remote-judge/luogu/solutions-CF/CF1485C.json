[
    {
        "content": "\u6574\u5957\u9898\u76ee\u5168\u90e8\u9898\u89e3\u94fe\u63a5\uff1a[Codeforces Round #701 (Div. 2) A ~ F \uff0c6\u9898\u5168\uff0c\u8d85\u9ad8\u8d28\u91cf\u826f\u5fc3\u9898\u89e3\u3010\u6bcf\u65e5\u4ebf\u9898\u30112021/2/13](https://fanfansann.blog.csdn.net/article/details/113799739) \n\n\n## C - Floor and Mod\n**Problem C Floor and Mod**\n![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/20210213140030922.png)\n\n**Translation**\n\n\u5b9a\u4e49\u4e00\u5bf9\u6570 $(a,b)$ \u662f\u7279\u6b8a\u7684\uff0c\u5f53\u4e14\u4ec5\u5f53 $\\lfloor\\dfrac{a}{b}\\rfloor=a\\bmod b$\n\n\u7ed9\u5b9a $x$ \u548c $y$ \uff0c\u6c42\u4e00\u5171\u6709\u591a\u5c11\u5bf9\u7279\u6b8a\u7684\u6570 $(a,b)$ \uff0c\u5f53  $1\\le a\\le x,1\\le b\\le y$\u3002 \n\n**Solution**\n\n\n~~\u7b7e\u5230\u9898~~  \n\n\u770b\u6570\u636e\u8303\u56f4\uff0c\u663e\u7136\u8fd9\u662f\u4e00\u4e2a\u7ed3\u8bba\u9898\u6216\u8005 $O(\\sqrt n)$ \u679a\u4e3e\u9898\uff0c\u6211\u4eec\u6839\u636e\u9898\u76ee\u4e2d\u7ed9\u5b9a\u7684\u67ff\u5b50\uff1a\n\n$$\\begin{aligned}&\\lfloor\\dfrac{a}{b}\\rfloor=a \\bmod b &\\\\&\n \\lfloor\\dfrac{a}{b}\\rfloor=a-\\lfloor\\dfrac{a}{b}\\rfloor\\times b&\\\\&\n a=\\lfloor\\dfrac{a}{b}\\rfloor\\times (b+1)&\\\\&\n \\dfrac{a}{b+1}=\\lfloor\\dfrac{a}{b}\\rfloor\\end{aligned}$$\n\n\u56e0\u4e3a$\\lfloor\\dfrac{a}{b}\\rfloor$ \u4e00\u5b9a\u662f\u6574\u6570\uff0c\u6240\u4ee5 $\\dfrac{a}{b+1}$ \u4e00\u5b9a\u662f\u6574\u6570\uff0c\u6240\u4ee5 $b+1\\ |\\ a$\u3002\n\n\u6240\u4ee5\u4e00\u4e2a\u5f88\u76f4\u89c2\u7684\u60f3\u6cd5\u5c31\u662f\u679a\u4e3e $b$ \uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $b$ \uff0c $b+1$ \u7684\u500d\u6570 $a$ \u663e\u7136\u6709 $\\dfrac{x}{b+1}$ \u4e2a\uff0c\u663e\u7136\u53ef\u4ee5\u6574\u9664\u5206\u5757\u3002\n\n\u4f46\u662f\u9700\u8981\u6ce8\u610f\u9898\u76ee\u4e2d\u7684\u7ed9\u5b9a\u7684\u6761\u4ef6\u4e3a $\\lfloor\\dfrac{a}{b}\\rfloor=a\\bmod b$\n\n\u5373\uff1a $\\lfloor\\dfrac{a}{b}\\rfloor<b$ \n\n\u5373\uff1a$\\dfrac{a}{b+1}<b\\Rightarrow a<b^2+b$\n\n\u5373 $a\\in [0,b^2+b-1]$\u3002\u90a3\u4e48\u7b26\u5408\u9898\u610f\u7684 $a$ \u7684\u4e2a\u6570\u5c31\u662f\uff1a $\\dfrac { b^2+b-1}{b+1}$ \n\n\u5e76\u4e14 $a$ \u7684\u4e0a\u9650\u662f $x$\uff0c\u6545\u6700\u7ec8\u7684\u7b54\u6848\u4e3a\uff1a\n \n$$\\sum\\limits_{b=1}^{y} ans = \\dfrac {\\min \\{x, b^2+b-1\\}}{b+1}$$\n\n\u6211\u4eec\u53ef\u4ee5\u5148\u679a\u4e3e $b<\\sqrt x$ \uff0c\u8ba1\u7b97 $\\dfrac { b^2+b-1}{b+1}$ \n\n\u5269\u4f59\u7684 $b=\\sqrt x \\sim y$\uff0c\u663e\u7136 ${\\min\\{x, b^2+b-1\\}}=x$\uff0c\u76f4\u63a5\u6574\u9664\u5206\u5757\u5373\u53ef\uff0c\u5176\u4e2d\u6574\u9664\u5206\u5757\u7684\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u8ba1\u7b97\u7684\u662f $\\lfloor \\dfrac{x}{b+1}\\rfloor$\uff0c\u6211\u4eec\u4ee4 $l,r$ \u4ee3\u8868 $b+1$ \u5373\u53ef\u3002\n \n\u65f6\u95f4\u590d\u6742\u5ea6 $O(\\sqrt x)$\n\n**Code**\n\n```cpp\n// Problem: C. Floor and Mod\n// Contest: Codeforces - Codeforces Round #701 (Div. 2)\n// URL: https://codeforces.com/problemset/problem/1485/C\n// Memory Limit: 256 MB\n// Time Limit: 2000 ms\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n#include <bits/stdc++.h>\n\nusing namespace std;\nusing ll = long long;\nconst int N = 1e5 + 7;\n\nint n, m, t;\nint x, y;\n\nint main()\n{\n\tscanf(\"%d\", &t);\n\twhile(t -- ) {\n\t\tscanf(\"%d%d\", &x, &y);\n\t\tint a = 1, b = 1;\n\t\tll ans = 0;\n\t\tfor(; b * b + b - 1 < x && b <= y; ++ b) \n\t\t\tans += (b * b + b - 1) / (b + 1);\t   \n\n\t\tint l = b + 1, r;  \n\t\tfor(; l <= x && l <= y + 1; l = r + 1) {\n\t\t\tr = min(x / (x / l), y + 1);\n\t\t\tans += x / l * (r - l + 1); \n\t\t\tif(r == y + 1) break;\n\t\t} \n\t\tcout << ans << endl;\n\t}\t\t\n\treturn 0;\n}\n```",
        "postTime": 1623334554,
        "uid": 262605,
        "name": "fanfansann",
        "ccfLevel": 0,
        "title": "CF1485C Floor and Mod"
    },
    {
        "content": "\u6c42\u6ee1\u8db3 $a\\ \\bmod b \\ =\\ \\left\\lfloor\\dfrac{a}{b}\\right\\rfloor$ \u7684\u6b63\u6574\u6570\u5bf9 $(a,b)$ \u6570\u91cf\u3002\n\n\u4e0d\u96be\u53d1\u73b0\u6ee1\u8db3\u6761\u4ef6\u7684 $(a,b)$\u4e2d $a\\bmod b$ \u4e0d\u8d85\u8fc7$\\sqrt{a}$ \u3002\n\n\u6240\u4ee5\u6211\u4eec\u679a\u4e3e $k= a \\bmod b$\uff0c\u4e0d\u96be\u53d1\u73b0\u6709$\\min\\{b,\\dfrac{a-k}{k}\\}-k$\u5bf9$(a,b)$\uff0c\u7d2f\u52a0\u4e00\u4e0b\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O(T\\sqrt a)$ \u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define pre(i,a,b) for(int i=a;i>=b;i--)\n#define N 100005\nusing namespace std;\nvoid solve(){\n\tint a,b;scanf(\"%d%d\",&a,&b);\n\tlong long ans=0;\n\trep(k,1,sqrt(a))ans+=max(0,min(b,(a-k)/k)-k);\n\tprintf(\"%lld\\n\",ans);\n}\nint main(){\n\tint T;scanf(\"%d\",&T);\n\twhile(T--)solve();\n\treturn 0;\n}\n```",
        "postTime": 1613562629,
        "uid": 119261,
        "name": "7KByte",
        "ccfLevel": 0,
        "title": "solution-cf1485c"
    },
    {
        "content": " # \u3010\u9898\u89e3\u3011CF1485C Floor and Mod\n \n[\u535a\u5ba2\u56ed\u98df\u7528\u6548\u679c\u66f4\u4f73](https://www.cnblogs.com/xrkforces/p/CF1485C.html)\n\nemmm\u2026\u2026NOIP \u8003\u524d\u4e24\u5468\uff0c\u8ddf CSP \u8003\u524d\u4e00\u6837\uff08\u867d\u7136\u6700\u540e\u5e76\u6ca1\u6709\u53bb\u8003\uff09\uff0c\u5199\u7bc7\u9898\u89e3\u589e\u52a0\u4ee5\u4e0b RP\uff08\u96fe\uff09\u3002\n\n\u63d0\u4f9b\u4e00\u7bc7\u601d\u8def\u5927\u4f53\u548c\u9898\u89e3\u533a\u76f8\u540c\u4f46\u7528\u4e86\u4e8c\u5206\u5199\u6cd5\u7684\u9898\u89e3\u3002\n\n## \u9898\u76ee\u94fe\u63a5\n\n[CF1485C Floor and Mod](https://www.luogu.com.cn/problem/CF1485C)\n\n## \u9898\u610f\u6982\u8ff0\n\n\u6c42 $1\\le a\\le x,1\\le b\\le y$ \u4e14 $\\lfloor\\frac{a}{b}\\rfloor =a\\bmod b$ \u7684 $(a,b)$ \u4e2a\u6570\u3002\n\n## \u6570\u636e\u8303\u56f4\n\n- $1 \\le x,y \\le 10^9$\n\n## \u601d\u8def\u5206\u6790\n\n\u9996\u5148\u6211\u4eec\u8bbe $\\left\\lfloor \\dfrac{a}{b}\\right \\rfloor=k$\uff0c\u5219\uff1a$a=bk+k=k(b+1)$\u3002\u4e5f\u5c31\u662f\u8bf4 $a$ \u662f $b+1$ \u7684\u500d\u6570\u3002\n\n\u90a3\u4e48\u9898\u610f\u8f6c\u5316\u4e3a\uff1a\n\n> \u5728 $[1,x]$ \u91cc\u627e\u4e00\u4e2a $a$\uff0c\u5728 $[1,y]$ \u91cc\u627e\u4e00\u4e2a $b$\uff0c\u6ee1\u8db3 $a$ \u662f $b+1$ \u7684\u500d\u6570\uff0c\u95ee\u6709\u591a\u5c11\u5bf9\u8fd9\u6837\u7684 $(a,b)$\u3002\n\n\u90a3\u4e48\u6211\u4eec\u8003\u8651\u5bf9\u4e8e $[1,y]$ \u91cc\u7684\u6bcf\u4e00\u4e2a $b$\uff0c$[1,x]$ \u4e2d\u6709\u591a\u5c11\u4e2a $a$ \u6ee1\u8db3\u9898\u610f\u3002\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u95ee $[1,x]$ \u4e2d\u6709\u591a\u5c11\u4e2a $b+1$ \u7684\u500d\u6570\uff0c\u663e\u7136\u6709 $\\left\\lfloor\\dfrac{x}{b+1}\\right\\rfloor$ \u4e2a\u3002\n\n\u90a3\u4e48\u603b\u7684\u7b54\u6848\u5c31\u4e3a \n$$\n \\sum \\limits_{i=1}^y \\left\\lfloor\\frac{x}{i+1}\\right\\rfloor=\\sum \\limits_{i=2}^{y+1}  \\left\\lfloor\\frac{x}{i}\\right\\rfloor\n$$\n\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u6574\u9664\u5206\u5757\u89e3\u51b3\u3002\n\n~~\u7ed3\u679c\u6211\u5199\u5b8c\u53d1\u73b0\u6837\u4f8b\u90fd\u8fc7\u4e0d\u4e86\u3002\u3002~~\u6240\u4ee5\u663e\u7136\u662f\u6709\u95ee\u9898\u7684\u3002\n\n\u6211\u4eec\u53d1\u73b0 $b$ \u9996\u5148\u4e0d\u80fd\u4e3a $1$\uff0c\u56e0\u4e3a\u4efb\u4f55\u6570\u662f $1$ \u7684\u500d\u6570\uff0c\u800c\u4efb\u4f55\u6570\u9664\u4ee5 $1$ \u4e0d\u53ef\u80fd\u4e3a $0$\u3002\n\n\u6240\u4ee5\u6211\u4eec\u7684\u4e0b\u754c\u5e94\u8be5\u4ece $3$ \u5f00\u59cb\u3002\n\n\u5176\u6b21\uff0c\u5728 $a=bk+k=k(b+1)$ \u4e2d\uff0c\u6211\u4eec\u5ffd\u7565\u4e86\u4e00\u4e2a\u91cd\u8981\u6761\u4ef6\uff0c$k$ \u5728\u8fd9\u91cc\u76f8\u5f53\u4e8e $a\\bmod b$\uff0c\u662f\u4f59\u6570\uff0c\u800c\u4f59\u6570\u4e0d\u80fd\u5927\u4e8e\u7b49\u4e8e\u9664\u6570\uff0c\u5373 $k<b$\u3002\n\n\u6240\u4ee5\u5bf9\u4e8e $[3,y]$ \u7684\u6bcf\u4e00\u4e2a $b$\uff0c\u5176\u5b9e\u53ea\u6709 $\\left \\lfloor \\dfrac{a}{b+1}\\right\\rfloor<b$ \u7684 $a$ \u624d\u6ee1\u8db3\u9898\u610f\u3002\n\n\u90a3\u4e48\u8fd9\u6837\u7684 $a$ \u5728 $[1,x]$ \u4e2d\u6709 $\\left\\lfloor\\dfrac{\\min(b+1)(b-1),x}{b+1}\\right\\rfloor$ \u4e2a\u3002\n\n\u90a3\u4e48\u6574\u4e2a\u7b54\u6848\u5c31\u4e3a\uff1a\n$$\n \\begin{aligned}\\sum \\limits_{i=2}^y\\left\\lfloor\\dfrac{\\min((i+1)(i-1),x)}  {i+1}\\right\\rfloor&=\\sum \\limits_{i=3}^{y+1}\\left\\lfloor\\dfrac{\\min(i(i-2),x)}  {i}\\right\\rfloor\\\\&=\\sum \\limits_{i=3}^{lim} (i-2)+ \\sum \\limits_{i=lim+1}^{y+1}\\left\\lfloor  \\dfrac{x}{i}\\right\\rfloor\\\\&=\\frac{(1+lim-2)\\times(lim-3+1)}{2}+\\sum  \\limits_{i=lim+1}^{y+1}\\left\\lfloor\\dfrac{x}{i}\\right\\rfloor\\end{aligned}\n$$\n\u5176\u4e2d $lim$ \u8868\u793a\u7684\u662f\u4f7f\u5f97 $i\\times(i-2)\\le x$ \u7684\u6700\u540e\u4e00\u4e2a $i$\u3002\n\n\u90a3\u4e48 $lim$ \u76f4\u63a5\u679a\u4e3e/\u89e3\u4e0d\u7b49\u5f0f/\u4e8c\u5206\u90fd\u53ef\uff0c\u6211\u8fd9\u91cc\u91c7\u7528\u7684\u662f\u4e8c\u5206\u3002\n\n\u6700\u540e\u7684\u5f0f\u5b50\u4e2d\uff0c\u7b2c\u4e00\u9879\u663e\u7136\u53ef\u4ee5 $O(1)$ \u6c42\u51fa\uff0c\u7b2c\u4e8c\u9879\u663e\u7136\u53ef\u4ee5\u6574\u9664\u5206\u5757\uff0c\u4e8e\u662f\u6574\u9053\u9898\u6210\u529f\u89e3\u51b3\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(T(\\log y+\\sqrt y))$\u3002\n\n## \u6613\u9519\u70b9\n\n\u6ca1\u5565\u7ec6\u8282\uff0c\u53ea\u662f\u9700\u8981\u5f00 long long\u3002\n\n## \u4ee3\u7801\u5b9e\u73b0\n\n```cpp\n//CF1485C\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#define int long long\nusing namespace std;\n\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-48;ch=getchar();}\n\treturn x*f;\n}\n\nint work(int n,int k,int lim)\n{\n\tint ret=0;\n\tfor(int l=lim,r;l<=n;l=r+1)\n\t{\n\t\tif(k/l==0)break;\n\t\tr=min(k/(k/l),n);\n\t\tret+=(k/l)*(r-l+1);\n\t}\n\treturn ret;\n}\n\nsigned main()\n{\n\tint T;\n\tT=read();\n\twhile(T--)\n\t{\n\t\tint x,y;\n\t\tx=read();y=read();\n\t\tint now=0;\n\t\tfor(int step=(1ll<<30);step>=1;step>>=1)\n\t\t{\n\t\t\tif(now+step<=(y+1)&&(now+step)*(now+step-2)<=x)now+=step;\n\t\t}\n\t\tint lim=now;\n\t\tcout<<(lim-2)*(lim-1)/2+work(y+1,x,lim+1)<<'\\n';\n\t}\n}\n```\n\n",
        "postTime": 1668151540,
        "uid": 341245,
        "name": "xrk2006",
        "ccfLevel": 4,
        "title": "\u3010\u9898\u89e3\u3011CF1485C Floor and Mod\uff08\u4e8c\u5206\u7b54\u6848\uff0c\u6574\u9664\u5206\u5757\uff09"
    },
    {
        "content": "#### \u9898\u610f\n> $\\ \\ \\ \\ $ \u6c42 $1\\leq a\\leq x$,$1\\leq b\\leq y$ \u4e14 $\\lfloor \\dfrac{a}{b} \\rfloor=a \\bmod b$ \u7684\u7ec4\u6570\u3002\n\n---\n#### \u9898\u89e3\n\u8fd9\u91cc\u63d0\u4f9b\u4e00\u4e2a\u4e0d\u7528\u6574\u9664\u5206\u5757\u7684\u627e\u89c4\u5f8b\u505a\u6cd5\u3002  \n\n\u9996\u5148\u5148\u6253\u4e00\u4e2a\u66b4\u529b\uff0c\u627e\u4e00\u4e0b\u6ee1\u8db3\u6700\u540e\u4e00\u4e2a\u5f0f\u5b50\u7684 $a$ \u548c $b$ \u7684\u5173\u7cfb\uff0c\u4e3a\u4e86\u76f4\u89c2\uff0c\u6211\u4eec\u628a $a$ \u4f5c\u4e3a $x$\uff0c$b$ \u4f5c\u4e3a $y$ \u63cf\u70b9\u8fde\u7ebf\u3002  \n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vwsbk1u9.png)\n\n\u4ed4\u7ec6\u89c2\u5bdf\uff0c\u5176\u5b9e\u5c31\u662f\u82e5\u5e72\u6761  \n$$y=\\dfrac{1}{k}x-1(k\\times (k+1)<x)$$\n\u7684\u76f4\u7ebf\uff0c\u5176\u4e2d $k$ \u4e3a\u6b63\u6574\u6570\u3002  \n\n\u6240\u4ee5\u6211\u4eec\u5c31\u53d8\u6210\u4e86\u6570 $(0,0)$ \u4e3a\u5de6\u4e0b\u89d2\uff0c$(x,y)$ \u4e3a\u53f3\u4e0a\u89d2\u7684\u77e9\u5f62\u4e2d\u8be5\u51fd\u6570\u6574\u70b9\u4e2a\u6570\u3002  \n\n\u90a3\u4e48\u679a\u4e3e\u6bcf\u6761\u51fd\u6570\uff0c\u5224\u65ad\u662f\u5426\u51fa\u754c\u540e\u9009\u62e9 $x$ \u548c $y$ \u7684\u6781\u503c\u53bb\u8ba1\u7b97\u754c\u9650\uff0c\u9009\u62e9\u5747\u7b26\u5408\u7684\u4e00\u4e2a\u8ba1\u7b97\u5373\u53ef\u3002 \n\n---\n#### \u4ee3\u7801  \n\u8bb0\u5f97\u5f00 `long long`\n```cpp\n#include <cstdio>\n#include <algorithm>\n#define ll long long\nusing namespace std;\nint main() {\n\tint T;\n\tscanf(\"%d\",&T);\n\twhile(T--)\n\t{\n\t\tint x,y;\n\t\tll Ans=0;\n\t\tscanf(\"%d %d\",&x,&y);\n\t\tfor(int i=1;i<=x;i++)\n\t\t{\n\t\t\tif(i*(i+1)>x) break;\n\t\t\tdouble bj1=1.0/i*x-1,bj2=(y+1)*i;\n\t\t\tif(bj1<=y) Ans+=(x-i*(i+1))/i;\n\t\t\telse if(bj2<=x&&bj2>=i*(i+1))Ans+=(bj2-i*(i+1))/i;\n\t\t\t\n\t\t}\n\t\tprintf(\"%lld\\n\",Ans);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1613617194,
        "uid": 160701,
        "name": "Azaz\u0435l",
        "ccfLevel": 0,
        "title": "CF1485C Floor and Mod \u9898\u89e3"
    },
    {
        "content": "> $T$ \u7ec4\u7ed9\u5b9a $x,y$ \u6c42 $1\\leq a\\leq x,1\\leq b\\leq y$ \u4e14\u6ee1\u8db3 $\\lfloor\\frac{a}{b}\\rfloor=a\\bmod b$ \u7684\u6570\u5bf9\u4e2a\u6570\u3002$T\\leq 100,x,y\\leq 10^9$\n\n\u63a8\u4e00\u4e0b\u5f0f\u5b50\u5c31\u53ef\u4ee5\u5f97\u5230 $\\lfloor\\frac{a}{b}\\rfloor=\\frac{a}{b+1}$\uff0c\u8bb0 $i=\\lfloor\\frac{a}{b}\\rfloor=\\frac{a}{b+1}$\uff0c\u5219 $a=i(b+1)$\u3002\n\n\u7531 $i=\\lfloor\\frac{a}{b}\\rfloor$ \u5f97 $ib\\leq a\\leq (i+1)b-1$\uff0c\u5373 $ib\\leq i(b+1)\\leq (i+1)b-1$\uff0c\u5219 $i+1\\leq b$\u3002\n\n\u5047\u8bbe\u6211\u4eec\u679a\u4e3e $i$\uff0c\u7136\u540e\u679a\u4e3e $b$\uff0c\u5bf9\u4e8e $i+1\\leq b\\leq y$ \u7684 $y-i$ \u4e2a $b$\uff0c\u90fd\u6709\u4e00\u4e2a $a$ \u80fd\u4e0e\u5176\u6ee1\u8db3\u6761\u4ef6\u3002\n\n\u8fd9\u6837\u7684 $a=(i+2)i,(i+3)i,\\cdots ,x$\uff0c\u4e00\u5171\u6709 $\\lfloor\\frac{x}{i}\\rfloor-i-1$ \u4e2a\u3002\n\n\u5bf9\u4e8e $i$\uff0c\u9700\u8981\u6ee1\u8db3 $y-i>0$ \u4e14 $\\lfloor\\frac{x}{i}\\rfloor-i-1>0$ \u5e76\u5728\u5176\u4e2d\u53d6 $\\min$\u3002\n\n\u51c6\u786e\u8ba1\u7b97\u51fa $i$ \u7684\u8303\u56f4\u5e76\u5728\u5176\u4e2d\u6574\u9664\u5206\u5757\u5373\u53ef\uff0c\u6ce8\u610f\u6574\u9664\u5206\u5757\u8ba1\u7b97\u53f3\u7aef\u70b9\u4ee3\u5165\u7684\u662f $x$\uff0c\u800c\u5e76\u4e0d\u662f $i$ \u7684\u6700\u5927\u503c\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#define int long long\nvoid solve(){\n\tx=read(),y=read();\n\tint ans=0,n=min(y-1,((int)sqrt(4*x+1)-1)/2);\n    for(int l=1,r;l<=n;l=r+1){\n        r=min(x/(x/l),n);\n        ans+=(r-l+1)*min(x/l-1,y)-(l+r)*(r-l+1)/2;\n    }\n\tprint(ans),puts(\"\");\n}\n```\n\n",
        "postTime": 1683703548,
        "uid": 271736,
        "name": "Daidly",
        "ccfLevel": 6,
        "title": "CF1485C Floor and Mod \u9898\u89e3"
    },
    {
        "content": "\u6211\u4eec\u76f4\u63a5\u62c6\u5f0f\u5b50\uff1a\n\n$\\lfloor \\frac{a}{b} \\rfloor=a$ $mod$ $b$\uff1b\n\n$\\lfloor \\frac{a}{b} \\rfloor=a-\\lfloor \\frac{a}{b} \\rfloor\\times b$\uff1b\n\n$\\lfloor \\frac{a}{b} \\rfloor=\\frac{a}{b+1}$\u3002\n\n------------\n\n\u6b64\u65f6\u53ef\u4ee5\u53d1\u73b0 $b+1|a$ \uff0c\u7136\u540e\u5546\u7684\u8303\u56f4\u662f $0\\leq \\frac{a}{b+1} <b $\u3002\n\n\u628a\u4e0a\u9762\u5f0f\u5b50\u6574\u7406\u4e00\u4e0b\uff1a$0\\leq a< b^2+b$\uff1b\n\n\u56e0\u4e3a $a,b$ \u90fd\u662f\u6574\u6570\uff0c\u4e8e\u662f\uff1a$0\\leq a\\leq  b^2+b-1$\u3002\n\n\u6211\u4eec\u679a\u4e3e $b$\uff0c\u5f53\u524d $a$ \u7684\u4e2a\u6570\u5c31\u662f $\\lfloor \\frac{min_{b^2+b-1,x}}{b+1} \\rfloor$\uff0c\u53d6 $min$ \u56e0\u4e3a $a\\in [1,x]$\u3002\n\n------------\n\n\u8fd9\u4e2a\u5f0f\u5b50\u4e0d\u597d\u6c42\uff0c\u6211\u4eec\u8003\u8651\u628a\u4ed6\u62c6\u5f00\u3002\n\n\u56e0\u4e3a $b-1 \\geq 0$\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u8fd9\u4e00\u5768\u53bb\u6389\uff08\u610f * \u4e00\u4e0b\uff09\uff0c$b \\leq \\sqrt x$ \u65f6 $b^2+b-1 \\leq x$\u3002\n\n\u7b54\u6848\u4e3a\uff1a$\\sum_{b=1}^{\\sqrt x} \\frac{b^2+b-1}{b+1}+\\sum_{\\sqrt x}^{y}\\frac{x}{b+1}$\uff0c\u524d\u9762\u66b4\u529b\u679a\u4e3e\uff0c\u540e\u9762\u8fd9\u4e00\u5768\u6574\u9664\u5206\u5757\u5373\u53ef\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nvoid solve()\n{\n\tll x,y;cin>>x>>y;\n\tll ans=0,b;\n\tfor(b=1;b*b+b-1<=x&&b<=y;b++)\n\t\tans+=(b*b+b-1)/(b+1);\n\tfor(ll l=b,r;l<=y&&l<x;l=r+1)\n\t{\n\t\tr=min(x/(x/(l+1))-1,y);\n\t\tans+=x/(l+1)*(r-l+1);\n\t}\n\tcout<<ans<<endl;\n}\n\nint main()\n{\n\tint t;cin>>t;\n\twhile(t--) solve(); \n}\n```\n",
        "postTime": 1679907405,
        "uid": 501028,
        "name": "spider_oyster",
        "ccfLevel": 5,
        "title": "CF1485C Floor and Mod \u9898\u89e3"
    },
    {
        "content": "### Idea\n&emsp;&emsp;\u4ee4 $a=kb+m$\uff0c\u6709 $k,m\\in\\mathbb N$\uff0c\u4e14 $k\\geq 0,0\\leq m<b$\uff1b\u90a3\u4e48 $\\left\\lfloor\\frac{a}{b}\\right\\rfloor=k=m$\uff0c\u5c06 $k$ \u7528 $m$ \u4ee3\u66ff\uff0c\u5f97\u5230 $a=(b+1)m$\uff1b\u53ef\u4ee5\u770b\u5230\uff0c$m=0$ \u662f\u4e0d\u53ef\u884c\u7684\u3002\n\n&emsp;&emsp;\u9996\u5148\u679a\u4e3e $b$\uff0c\u5df2\u77e5 $1\\leq b\\leq y$\u3002\u5f53 $b$ \u786e\u5b9a\u65f6\uff0c\u679a\u4e3e $m$\uff0c\u53ef\u5f97 $a$\uff1b\u5df2\u77e5 $1\\leq a\\leq x$\uff0c\u6545\u5f97\u5230\u4e0d\u7b49\u5f0f\u7ec4 $1\\leq m<b$ \u548c $1\\leq (b+1)m\\leq x$\u3002\n\n&emsp;&emsp;\u663e\u7136\uff0c$m$ \u7684\u4e0a\u9650\u503c\u4e3a $\\min\\left(\\left\\lfloor\\frac{x}{b+1}\\right\\rfloor,b-1\\right)$\u3002\n\n&emsp;&emsp;\u7efc\u4e0a\u6240\u8ff0\uff0c\u7b54\u6848\u4e3a $\\sum\\limits_{b=1}^y\\min\\left(\\left\\lfloor\\frac{x}{b+1}\\right\\rfloor,b-1\\right)$\u3002\n\n&emsp;&emsp;\u4ee4 $\\frac{x}{b+1}\\le b-1$\uff0c\u5f97\u5230 $b\\ge\\sqrt{x+1}$\uff1b\u53ef\u77e5 $\\sqrt{x+1}$ \u9644\u8fd1\u6709 $B$\uff0c\u662f\u6ee1\u8db3 $\\left\\lfloor\\frac{x}{b+1}\\right\\rfloor\\le b-1$ \u6700\u5c0f\u7684 $b$\u3002\n\n&emsp;&emsp;$\\begin{aligned}\\text{answer}&=(0+1+2\\cdots +B-2)+\\left(\\left\\lfloor\\frac{x}{B+1}\\right\\rfloor+\\left\\lfloor\\frac{x}{B+2}\\right\\rfloor+\\cdots+\\left\\lfloor\\frac{x}{y+1}\\right\\rfloor\\right)\\\\&=\\sum\\limits_{i=1}^{B-2}i+\\sum\\limits_{i=B+1}^{y+1}\\left\\lfloor\\frac{x}{i}\\right\\rfloor\\end{aligned}$\n\n&emsp;&emsp;\u6c42\u7b49\u5dee\u6570\u5217\u548c\u6570\u8bba\u5206\u5757\u3002\n\n### Code \n\n```cpp\n/******************************************************************\nCopyright: 11D_Beyonder All Rights Reserved\nAuthor: 11D_Beyonder\nProblem ID: CF1485C\nDate: 2021 Feb. 28th\nDescription: Number Theory, Counting\n*******************************************************************/\n#include<cmath>\n#include<iostream>\nusing namespace std;\ntypedef long long ll;\nconst int N=100005;\nint _;\nint main(){\n\tfor(cin>>_;_;_--){\n\t\tll x,y;\n\t\tcin>>x>>y;\n\t\tll B=sqrt(x+1);\n\t\twhile(x/(B+1)>B-1){\n\t\t\t//\u627e\u5230\u53d6x/(B+1)\u7684\u4e34\u754c\u503c\n\t\t\tB++;\n\t\t}\n\t\tll ans=0;\n\t\tif(B-1>y){\n\t\t\t//\u5168\u90fd\u53d6b-1\n\t\t\tans+=y*(y-1)/2;\n\t\t}else{\n\t\t\tans+=(B-1)*(B-2)/2;\n\t\t}\n\t\tfor(ll l=B+1,r;l<=y+1;l=r+1){\n\t\t\tif(l>x){\n\t\t\t\t//\u9664\u6570\u4e3a0\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tr=min(x/(x/l),y+1);\n\t\t\tans+=(x/l)*(r-l+1);\n\t\t}\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1614697589,
        "uid": 253240,
        "name": "11D_Beyonder",
        "ccfLevel": 0,
        "title": "CF1485C Floor and Mod \u9898\u89e3"
    },
    {
        "content": "## C. Floor and Mod\n\n### \u9898\u610f\n\n* $T$ \u7ec4\u8be2\u95ee\uff0c\u6bcf\u6b21\u7ed9\u51fa\u4e24\u4e2a\u6574\u6570 $x,y,1\\le x,y\\le 10^9$ \uff0c\u6c42\u5171\u6709\u591a\u5c11\u6574\u6570\u5bf9 $(a,b),1\\le a\\le x,1\\le b\\le y$ \uff0c\u6ee1\u8db3 $\\left\\lfloor\\dfrac{a}{b}\\right\\rfloor=a\\bmod b$\u3002\n\n### \u9898\u89e3\n\n\u4e0d\u59a8\u8bbe $a=br+r=(b+1)r,0\\le r<b$\n\n\u6709 $r=\\dfrac{a}{b+1}$ \u3002\n\n\u56e0\u4e3a $r$ \u5fc5\u987b\u4e3a\u6574\u6570\u3002\u4e0d\u59a8\u679a\u4e3e $b+1$ \uff0c$sum=\\sum\\limits_{i=2}^{y+1}\\left\\lfloor\\dfrac{x}{i}\\right\\rfloor$\u3002\n\n\u663e\u7136\u662f\u4e0d\u6b63\u786e\u7684\uff0c\u56e0\u4e3a\u6ca1\u6709\u8003\u8651\u5230 $r<b$ \uff0c\u6240\u4ee5\u6709 $a<b(b+1),a\\le b^2$\u3002\n\n\u6240\u4ee5 $sum=\\sum\\limits_{i=2}^{y+1}\\min\\{\\left\\lfloor\\dfrac{x}{i}\\right\\rfloor,\\left\\lfloor\\dfrac{(i-1)^2}{i}\\right\\rfloor\\}=\\sum\\limits_{i=2}^{y+1}\\left\\lfloor\\dfrac{\\min\\{x,(i-1)^2\\}}{i}\\right\\rfloor$\u3002\n\u627e\u5230 $(i-1)^2\\le x,i^2>x$ \u7684 $i$ \uff0c\u4e4b\u524d\u7684\u7528\u66b4\u529b\u89e3\u51b3\uff0c\u4e4b\u540e\u7684\u7528\u6570\u8bba\u5206\u5757\u3002\n\n\u590d\u6742\u5ea6 $O(T(x^{\\frac{1}{2}}+y^{\\frac{1}{2}}))$\u3002\n\n### Code\n\n\u5199\u7684\u6709\u70b9\u5947\u602a\u3002\u3002\u3002\uff08\u7f29\u8fdb\u53ef\u80fd\u6709\u70b9\u51fa\u95ee\u9898\u4e86\u5c06\u5c31\u7740\u770b\u5427\uff09\u3002\n\n```cpp\ninline int solve(int x,int y){\n    rg int l,r,ans=0;y--;\n    for(l=1,r;l<=y+1;l=r+1) {\n        if (x/l) r=min(y+1,x/(x/l));\n        else r=y+1;\n        ans+=(x/l)*(r-l+1);\n    }\n    return ans;\n}\ninline void work(void){\n    rg int i,x,y,l,r,ans=0;\n    read(x);read(y);\n    for (i=2;(i-1)*(i-1)<=x&&i<=y+1;i++) ans+=(i-1)*(i-1)/i;\n    printf(\"%lld\\n\",ans-solve(x,i-1)+solve(x,y+1));\n}\nsigned main(){\n    rg int T;\n    read(T);\n    while (T--) work();\n    return 0;\n}\n```\n\n\u5b8c\u6574\u9898\u89e3 [Codeforces Round #701](https://www.luogu.com.cn/blog/51569/codeforces-round-701-post)\u3002",
        "postTime": 1613607086,
        "uid": 51569,
        "name": "\u8fdd\u89c4\u7528\u6237\u540dFkZyA0!2",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011CF1485C Floor and Mod"
    },
    {
        "content": "\u4e00\u4e2a\u7ecf\u5178\u7684\u7ed3\u8bba\u662f $\\lfloor\\frac{a}{b}\\rfloor =a\\bmod b=a-b\\lfloor\\frac{a}{b}\\rfloor$\u3002\n\n\u5373 $\\dfrac a {b+1}=\\lfloor\\frac{a}{b}\\rfloor$\uff0c\u663e\u7136 $b+1\\mid a$\u3002\n\n\u53c8\u56e0\u4e3a $a\\bmod b<b$\uff0c\u5219 $\\dfrac a{b+1}<b$\uff0c$a<b^2+b$\u3002\n\n\u7ed3\u5408\u7b80\u5355\u7684\u4e0d\u7b49\u5f0f\u77e5\u8bc6\u53ef\u4ee5\u5f97\u5230 $0\\le a\\le b^2+b-1$\u3002\n\n\u7ed3\u5408\u4e0a\u9762\u63a8\u51fa\u7684\u7ed3\u8bba\uff0c$b+1\\mid a$\uff0c\u5219\u5bf9\u4e8e\u8fd9\u4e2a $b$ \u5b58\u5728\u7684\u7b54\u6848\u6570\u4e3a $\\dfrac {\\min(x,b^2+b-1)} {b+1}$\u3002\n\n\u5bf9\u4e8e $b^2+b-1< x$\uff0c\u55ef\u679a\u4e3e\uff0c\u5bf9\u4e8e $b^2+b-1\\ge x$\uff0c\u6574\u9664\u5206\u5757\u5373\u53ef\u3002\n\n\u5b89\u5229\u4e00\u4e0b\u6b63\u5728\u5199\u7684[\u535a\u5ba2](https://www.luogu.com.cn/blog/Etinorally/zheng-chu-fen-kuai)\u3002\n\n```cpp\n#include <iostream>\nusing namespace std;\nusing ll=long long;\n#define rep(i,l,r) for(i=l;i<=r;++i)\ninline ll solve(ll x,ll y)\n{\n\tll ret=0,l,r,i;\n\tfor(i=1;i*i+i-1<x && i<=y;++i)\n\t\tret+=(i*i+i-1)/(i+1);\n\tfor(l=i+1;l<=x && l<=y+1;l=r+1)\n\t{\n\t\tr=min(x/(x/l),y+1);\n\t\tret+=(r-l+1)*(x/l);\n\t}\n\treturn ret;\n}\nint main()\n{   ll x,y;\n    ios::sync_with_stdio(false);\n    cin.tie(0);int t;\n    cin>>t;\n    while(t--)\n    {\n\t    cin>>x>>y;\n    \tcout<<solve(x,y)<<endl;\n    }\n}\n```\n",
        "postTime": 1684623879,
        "uid": 575994,
        "name": "Etinorally",
        "ccfLevel": 5,
        "title": "Floor and Mod"
    },
    {
        "content": "> [C. Floor and Mod](https://codeforces.ml/contest/1485/problem/C)\n> \n> \u5b9a\u4e49\u4e00\u5bf9\u6570 $(a,b)$\u662f\u6f02\u4eae\u7684\uff0c\u6709 $\\lfloor\\frac{a}{b}\\rfloor = a \\mod b$\uff0c\u6c42 $1\\le a \\le x, 1 \\le b \\le y$ \u4e2d\u6709\u591a\u5c11\u5bf9 $(a,b)\\$\u662f\u6f02\u4eae\u7684\u3002\n> \n> $x,y \\leq 10^9$\n\n## Solution:\n\n\u9996\u5148\u6211\u4eec\u628a\u5f0f\u5b50\u5316\u7b80\u4e00\u4e0b\uff1a\n\n$$\n\\begin{aligned}\n    \\lfloor\\frac{a}{b}\\rfloor &= a \\mod b\\\\\n    \\lfloor\\frac{a}{b}\\rfloor &= a - (\\lfloor\\frac{a}{b}\\rfloor * b)\\\\\n    (b+1) \\lfloor\\frac{a}{b}\\rfloor &= a \\\\\n    \\lfloor\\frac{a}{b}\\rfloor &= \\frac{a}{b+1} = k\\\\\n\\end{aligned}\n$$\n\n\u5f97 $a = kb + k(k < b)$ \uff0c\u5e76\u4e14\u6ce8\u610f\u5230\uff0c\u5982\u679c\u6ca1\u6709\u9650\u5236\u7684\u8bdd\uff0c\u5b9e\u9645\u4e0a\u4f1a\u6709 $b-1$ \u7ec4\u89e3\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u8fd9\u4e2a $b$ \uff0c\u5f97\n$$\n\\sum_{i=2}^y \\min(i-1,\\frac{x}{i+1})\n$$\n\n\u7136\u540e\u6211\u4eec\u628a\u8fd9\u4e2a $\\min$ \u62c6\u5f00\uff0c\u627e\u5230\u4e2d\u95f4\u70b9 $i = \\sqrt{x+1}$\uff0c\u6700\u540e\u5f97\u5230\u8fd9\u4e2a\u5f0f\u5b50\n\n$$\n\\sum_{i=2}^{\\sqrt{x+1}} i-1 + \\sum_{i=\\sqrt{x+1}+1}^y \\frac{x}{i+1}\n$$\n\n\u524d\u9762\u66b4\u529b\u8ba1\u7b97\u5373\u53ef\uff0c\u540e\u9762\u6570\u8bba\u5206\u5757\u3002\n\n\u4f46\u662f\u8fd9\u8fb9\u7684\u6570\u8bba\u5206\u5757\u5f62\u5f0f\u5e76\u4e0d\u50cf\u6211\u4eec\u5e73\u5e38\u89c1\u5230\u7684 $\\sum_{i=1}^n \\frac{x}{i}$\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7a0d\u52a0\u5904\u7406\u4e00\u4e0b\u4ee3\u7801\uff0c\u53d8\u6210\uff1a\n\n```cpp\nfor (;l <= x && l-1 <= y; l = r + 1) {\n    r = x/(x/l);\n        if (r <= y + 1) ans += (r - l + 1) * (x / l);\n        else break;\n    }\n    if (l <= x) {\n        r = y + 1;ans += (r - l + 1) * (x / l);\n}\n```\n\nCode:\n\n```cpp\nvoid solve() {\n    ll l,r;ans = 0;\n    read(x,y);\n    for (l = 1;l * l + l - 1 <= x && l <= y;++l) {\n        ans += (l * l + l - 1) / (l+1);\n    }\n    ++l;\n    for (;l <= x && l-1 <= y; l = r + 1) {\n        r = x/(x/l);\n        if (r <= y + 1) ans += (r - l + 1) * (x / l);\n        else break;\n    }\n    if (l <= x) {\n        r = y + 1;ans += (r - l + 1) * (x / l);\n    }\n\n    printf(\"%lld\\n\",ans);\n}\n```",
        "postTime": 1613532823,
        "uid": 105230,
        "name": "Retired_Doubeecat",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1485C"
    },
    {
        "content": "## \u7ffb\u8bd1\n\n\u7ffb\u8bd1:\u6c42 $a/b==a\\%m$ \u7684\u6b63\u6574\u6570\u89e3\u7684\u4e2a\u6570,\u5e76\u4fdd\u8bc1 $a<=x,b<=y$\u3002(```/```\u8868\u793a\u6574\u9664,```%```\u8868\u793a\u53d6\u4f59)\u3002\n\n\u8f93\u5165:\u591a\u7ec4\u6570\u636e,\u7b2c $1$ \u884c $1$ \u4e2a\u6574\u6570 $t$ \u8868\u793a\u6570\u636e\u7ec4\u6570,\u63a5\u4e0b\u6765 $t$ \u884c\u6bcf\u884c $2$ \u4e2a\u6b63\u6574\u6570 $a,b$\u3002\n\n\u8f93\u51fa:$t$ \u884c\u6bcf\u884c $1$ \u4e2a\u6574\u6570\u8868\u793a\u65b9\u7a0b\u6b63\u6574\u6570\u89e3\u7684\u4e2a\u6570\u3002\n\n\u6570\u636e\u8303\u56f4:$1<=t<=100;1<=a,b<=10^{9}$\u3002\n\n## \u6b63\u89e3\n\n\u6570\u5b66\u57fa\u7840:\u521d\u4e00\u4e0b,\u4e00\u5143\u4e00\u6b21\u4e0d\u7b49\u5f0f\u3002\u7b97\u6cd5\u8981\u6c42:\u65e0,\u5b66\u5b8c\u4e86\u57fa\u672c\u8bed\u8a00,\u4f1afor\u5faa\u73af\u5373\u53ef\u3002\n\n\u53d1\u73b0\u6240\u6709\u53ef\u4ee5\u5199\u6210 $\\frac{a(b+1)}{b}$ \u4e14 $a>b$ \u7684\u5206\u6570\u90fd\u53ef\u4ee5\u6ee1\u8db3\u8981\u6c42\u3002\n\n\u6240\u6709\u5c31\u662f\u8981\u6c42\u89e3\u4e0d\u7b49\u5f0f\u7ec4 $\\{^{a(b+1)<=x}_{^{b<=y}_{a>b}}$ \u7684\u6b63\u6574\u6570\u89e3\u7684\u4e2a\u6570\u3002\n\n\u56e0\u4e3a $a>b$,\u6240\u4ee5 $a$ \u53ea\u9700\u8981\u679a\u4e3e\u5230 $\\sqrt{x}$ \u5c31\u53ef\u4ee5\u4e86\u3002\u679a\u4e3e\u5b8c $a$ \u5c31\u53d8\u6210\u4e86\u4e00\u5143\u4e00\u6b21\u4e0d\u7b49\u5f0f\u7ec4,\u8fd9\u91cc\u5c31\u4e0d\u6f14\u793a\u600e\u4e48\u89e3\u4e86,\u89e3\u5f97 $a<b<=\\frac{x-a}{a}$ \u4e14 $b<=y$\u3002\n```cpp\n#include<iostream>\n#include<cmath>\nusing namespace std;\nvoid Main(){\n\tlong long x,y,sqrtx,sum=0,l,r,a,b;\n\tcin>>x>>y;\n\tsqrtx=sqrt(x);\n\tfor(a=sqrtx;a>=1;a--){\n\t\tl=a+1ll;\n\t\tr=min(y,(x-a)/a); //\u540c\u65f6\u5c0f\u4e8e\u4e24\u4e2a\u4e1c\u897f\u5219\u53d6\u6700\u5c0f\u503c\u3002\n\t\tsum+=max(0ll,r-l+1ll); //l>r\u5219\u8bf4\u660e\u6ca1\u6709,\u4f46\u6700\u5c11\u4e5f\u67090\u4e2a,\u4e0d\u80fd\u7edf\u8ba1\u8d1f\u6570,\u4e0e0\u53d6\u6700\u5927\u503c\u3002\n\t}\n\tcout<<sum<<endl;\n\treturn;\n}\nint main(){\n\tlong long t,i;\n\tcin>>t;\n\tfor(i=0;i<t;i++){\n\t\tMain();\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1613493641,
        "uid": 87799,
        "name": "xh39",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1485C \u3010Floor and Mod\u3011"
    }
]