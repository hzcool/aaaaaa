[
    {
        "content": "\u663e\u7136\u662f\u4e00\u4e2a\u4e8c\u7ef4\u7684\u533a\u95f4$DP$\n\n\u5341\u5206\u61d2\u5f97\u6211\u4f7f\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\u5b9e\u73b0\n\n\u6211\u4eec\u679a\u4e3e\u884c\u548c\u5217\u7684\u5206\u5272\u70b9\uff0c\u5206\u522b\u9012\u5f52\u6c42\u89e3\n\n\u60f3\u666e\u901a\u7684\u8bb0\u5fc6\u5316\u4e00\u6837\u9047\u5230\u641c\u7d22\u8fc7\u7684\u5c31\u4e0d\u7ee7\u7eed\n\n\u7136\u540e\n\n## \u6ce8\u610f\uff01\n\n\u8fd9\u9898\u7684dp\u6570\u7ec4\u521d\u59cb\u503c\u4e0d\u80fd\u4e3a$0$\uff0c\u56e0\u4e3a\u7b54\u6848\u6709\u53ef\u80fd\u4e3a$0$,\u6240\u4ee5\u4f60\u8981\u521d\u59cb\u503c\u8bbe\u7f6e\u6210$-1$\u6765\u5224\u65ad\u662f\u5426\u641c\u7d22\u8fc7\n\ncode:\n\n```cpp\n#include <iostream>\n#include <stdio.h>\n#include <string.h>\n#include <algorithm>\nusing namespace std;\nint f[51][51][51][51];\nint n,m;\nchar ch[55][55];\nint dfs(int x,int y,int x1,int y1) {//\u8bb0\u5fc6\u5316\n\tif(f[x][y][x1][y1] != -1) return f[x][y][x1][y1];\n\tif(x==x1 && y==y1) {\n\t\tf[x][y][x1][y1]=(ch[x][y]=='#');\n\t\treturn f[x][y][x1][y1];\n\t}\n\tint res=max(x1-x+1,y1-y+1);\n\tfor (int i=x;i<x1;++i) res=min(res,dfs(x,y,i,y1)+dfs(i+1,y,x1,y1));\n\tfor (int i=y;i<y1;++i) res=min(res,dfs(x,y,x1,i)+dfs(x,i+1,x1,y1));//\u679a\u4e3e\u5206\u5272\u70b9\uff0c\u5206\u522b\u9012\u5f52\n\tf[x][y][x1][y1]=res;\n\treturn res;\n}\t\nint main() {\n\tmemset(f,-1,sizeof(f));\n\tscanf(\"%d\",&n);\n\tfor (int i=1;i<=n;++i) scanf(\"%s\",ch[i]+1);\n\tprintf(\"%d\\n\",dfs(1,1,n,n));\n\treturn 0;\n}\n\n```",
        "postTime": 1575377464,
        "uid": 78187,
        "name": "zjjcth330",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1198D \u3010Rectangle Painting 1\u3011"
    },
    {
        "content": "\u6b64\u9898\u4f7f\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c $f_{x,y,xx,yy}$ \u8868\u793a\u8986\u76d6 $(x,y)$ \u5230 $(xx,yy)$ \u8fd9\u5757\u77e9\u5f62\u7684\u6700\u5c0f\u4ee3\u4ef7\n\n\u8986\u76d6\u4e00\u5757\u77e9\u5f62\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a\u76f4\u63a5 **\u6574\u5757\u8986\u76d6** \u6216 **\u5207\u5f00\u4e24\u5757** \u5206\u522b\u8986\u76d6\n\n\u4e24\u79cd\u65b9\u6cd5\u53d6\u6700\u5c0f\u503c\u5373\u53ef\n\n\uff08 $f$ \u4e00\u5b9a\u8981\u521d\u59cb\u5316\u4e3a-1\uff01\uff09\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,f[60][60][60][60];\nint a[60][60];\nint dfs(int x,int y,int xx,int yy){\n\tif(f[x][y][xx][yy]!=-1)return f[x][y][xx][yy];//\u8bb0\u5fc6\u5316\n\tint ans=max(xx-x+1,yy-y+1);\n\tif(yy==y&&xx==x&&!a[x][y])ans=0;//\u5982\u679c\u5206\u5272\u5230\u6700\u5c0f\u4e14\u4e0d\u9700\u8981\u8986\u76d6\n\tfor(int i=x;i<xx;i++)ans=min(ans,dfs(x,y,i,yy)+dfs(i+1,y,xx,yy));//\u6a2a\u7740\u5207\n\tfor(int i=y;i<yy;i++)ans=min(ans,dfs(x,y,xx,i)+dfs(x,i+1,xx,yy));//\u7ad6\u7740\u5207\n\treturn f[x][y][xx][yy]=ans;//\u8bb0\u5fc6\u5316\n}\nint main(){\n\tmemset(f,-1,sizeof(f));//\u521d\u59cb\u5316\u4e3a-1\uff08\u56e0\u4e3a\u7b54\u6848\u53ef\u80fd\u67090\uff09\n\tscanf(\"%d\\n\",&n);\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tchar c=getchar();\n\t\t\tif(c=='#')a[i][j]=1;\n\t\t}\n\t\tgetchar();\n\t}\n\tcout<<dfs(1,1,n,n);\n}\n```",
        "postTime": 1670719403,
        "uid": 367521,
        "name": "roger_yrj",
        "ccfLevel": 5,
        "title": "CF1198D Rectangle Painting 1 \u9898\u89e3"
    },
    {
        "content": "\u6570\u636e\u8303\u56f4\u5c0f\uff0c\u76f4\u63a5\u8bb0\u5fc6\u5316\u641c\u7d22  \n$dp[lx][rx][ly][ry]$\u8868\u793a\u5c06\u5bf9\u9876\u70b9\u4e3a$(lx,ly)$\u548c$(rx,ry)$\u7684\u77e9\u5f62\u533a\u57df\u5168\u90e8\u67d3\u6210\u767d\u8272\u9700\u8981\u7684\u6700\u5c0f\u4ee3\u4ef7  \n\u7136\u540e\u5c31\u5f88\u5e38\u89c4\u5730\u8bb0\u641c\u4e86\n```cpp\n#include <bits/stdc++.h>\n#define lowbit(x) (x & -x)\n#define jh(x, y) x ^= y ^= x ^= y\n#define loc(x, y) (x - 1) * m + y\n#define rg register\n#define inl inline\n#define PI 3.141592654\ntypedef long long ll;\nconst int N = 50 + 5, INF = 0x3f3f3f3f, mod = 998244353;\nusing namespace std;\nnamespace fast_IO {\n\tinl ll read() {\n\t\trg char c;\n\t\trg ll x = 0;\n\t\trg bool flag = false;\n\t\twhile ((c = getchar()) == ' ' || c == '\\n' || c == '\\r');\n\t\tif (c == EOF)return c; if (c == '-')flag = true; else x = c ^ 48;\n\t\twhile ((c = getchar()) != ' ' && c != '\\n' && c != '\\r' && ~c)\n\t\t\tx = (x << 1) + (x << 3) + (c ^ 48);\n\t\tif (flag)return -x; return x;\n\t}\n\tinl ll max(rg ll a, rg ll b) { if (a > b)return a; return b; }\n\tinl ll min(rg ll a, rg ll b) { if (a < b)return a; return b; }\n\tvoid write(rg ll x) { if (x < 0)putchar('-'), x = -x; if (x >= 10)write(x / 10); putchar(x % 10 ^ 48); }\n}\nint n, dp[N][N][N][N];\nchar s[N][N];\nint dfs(rg int lx, rg int rx, rg int ly, rg int ry) {\n\tif (~dp[lx][rx][ly][ry])return dp[lx][rx][ly][ry];\n\tif (lx == rx && ly == ry)return s[lx][ly] == '#';\n\trg int ans = fast_IO::max(rx - lx + 1, ry - ly + 1);\n\tfor (rg int i = lx; i < rx; ++i)ans = fast_IO::min(ans, dfs(lx, i, ly, ry) + dfs(i + 1, rx, ly, ry));\n\tfor (rg int i = ly; i < ry; ++i)ans = fast_IO::min(ans, dfs(lx, rx, ly, i) + dfs(lx, rx, i + 1, ry));\n\treturn dp[lx][rx][ly][ry] = ans;\n}\n\nint main() {\n\tn = fast_IO::read();\n\tmemset(dp, -1, sizeof(dp));\n\tfor (rg int i = 1; i <= n; ++i)scanf(\"%s\", s[i] + 1);\n\tfast_IO::write(dfs(1, n, 1, n));\n\treturn 0;\n}\n\n```\n",
        "postTime": 1564846048,
        "uid": 87283,
        "name": "Zechariah",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1198D \u3010Rectangle Painting 1\u3011"
    },
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1198D)\n\n## \u9898\u76ee\u5206\u6790\n\n\u7528\u8bb0\u5fc6\u5316\u5b9e\u73b0\u7684\u5206\u6cbb\u601d\u60f3\uff0c\u8ddf [CF598E](https://www.luogu.com.cn/problem/CF598E) \u5341\u5206\u7c7b\u4f3c\uff0c\u5efa\u8bae\u4e00\u540c\u5207\u6389\u3002\n\n\u5bf9\u4e8e\u672c\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u91c7\u53d6\u5206\u800c\u6cbb\u4e4b\u7684\u7b56\u7565\uff0c\u9012\u5f52\u5c06\u5176\u6cbf\u683c\u7ebf\u5206\u9694\u81f3\u4e0d\u53ef\u5206\u7684\u65b9\u5757\uff0c\u6700\u540e\u5408\u5e76\u8d21\u732e\u3002\n\n\u5bf9\u4e8e\u65b9\u5757 ``#``\uff0c\u8d21\u732e\u4e3a $1$\uff0c\u65b9\u5757 ``.`` \u8d21\u732e\u4e3a $0$\u3002\n\n\u5408\u5e76\u8d21\u732e\u65f6\u6709\u4e24\u79cd\u9009\u62e9\uff0c\u4e00\u79cd\u662f\u76f4\u63a5\u6cbf\u7528\u4e24\u4e2a\u5c0f\u65b9\u9635\u7684\u65b9\u6848\uff0c\u5373\u8d21\u732e\u76f8\u52a0\u3002\n\n\u53e6\u4e00\u79cd\u662f\u76f4\u63a5\u56f4\u4f4f\u8fd9\u4e2a\u5927\u65b9\u9635\uff0c\u8d21\u732e\u4e3a\u5927\u65b9\u9635\u6700\u957f\u8fb9\u7684\u957f\u5ea6\u3002\n\n\u7528 ``min`` \u9009\u62e9\u8d21\u732e\u6700\u5c11\u7684\u4e00\u79cd\u5373\u53ef\u3002\n\n\u7531\u4e8e\u5408\u5e76\u65f6\u53ea\u6709\u5f53\u524d\u5c0f\u65b9\u9635\u7684\u8d21\u732e\u5bf9\u5927\u65b9\u9635\u6709\u5f71\u54cd\uff0c\u6240\u4ee5\u65e0\u540e\u6548\u6027\u663e\u7136\u3002\n\n## code\n\n$f(x_1,y_1,x_2,y_2)$ \u8868\u793a\u5de6\u4e0a\u89d2\u4e3a $(x_1,y_1)$\uff0c\u53f3\u4e0b\u89d2\u4e3a $(x_2,y_2)$ \u7684\u65b9\u9635\u7684\u8d21\u732e\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define rei register int\n#define N 55\nusing namespace std;\n\ntemplate <typename T> inline void read(T &x)\n{\n\tx = 0; int f = 1; char ch = getchar();\n\twhile (!isdigit(ch)) {if (ch == '-') f = -f; ch = getchar();}\n\twhile (isdigit(ch)) {x = x * 10 + ch - 48; ch = getchar();}\n\tx *= f;\n}\n\nint n, a[N][N], f[N][N][N][N];\nchar c;\n\ninline int Dfs(int xa, int ya, int xb, int yb)\n{\n\tif (f[xa][ya][xb][yb] != -1) return f[xa][ya][xb][yb];\n\tint ret = 1e9;\n\tfor (rei i = xa; i < xb; i++) ret = min(ret, Dfs(xa, ya, i, yb) + Dfs(i + 1, ya, xb, yb));\n\tfor (rei i = ya; i < yb; i++) ret = min(ret, Dfs(xa, ya, xb, i) + Dfs(xa, i + 1, xb, yb));\n\tret = min(ret, max(abs(xa - xb) + 1, abs(ya - yb) + 1));\n\tf[xa][ya][xb][yb] = ret;\n\treturn ret;\n}\n\nint main()\n{\n\tread(n); memset(f, -1, sizeof(f)); \n\tfor (rei i = 1; i <= n; i++) for (rei j = 1; j <= n; j++) cin >> c, f[i][j][i][j] = (c == '#') ? 1 : 0;\n\tprintf(\"%d\", Dfs(1, 1, n, n));\n\treturn 0;\n}\n```\n",
        "postTime": 1642950118,
        "uid": 200930,
        "name": "\u30d9\u72d0\u4ed9\u59d0\u59d0\u3054",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 CF1198D\u3010Rectangle Painting 1\u3011"
    },
    {
        "content": "### CF1198D\u9898\u89e3 by cunzai_zsy0531\n\n------------\n\n[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1198D)\n\n\u8fd9\u9898\u662f\u4e00\u9053\u5178\u578b\u7684\u533a\u95f4dp\u3002\u6211\u4eec\u8003\u8651\u4e00\u4e2a\u77e9\u5f62 $(x_1,y_1,x_2,y_2)$ (\u5de6\u4e0a\u548c\u53f3\u4e0b\u89d2)\uff0c\u5b83\u7684\u6700\u5c0f\u7b54\u6848\u663e\u7136\u53ef\u4ee5\u901a\u8fc7\u4ece\u4e2d\u95f4\u5207\u5f00\uff0c\u5de6\u8fb9\u548c\u53f3\u8fb9\u5408\u5e76\u6765\u8ba1\u7b97\u3002\u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u52a8\u6001\u89c4\u5212\u57fa\u7840\u6a21\u578b\uff1a\u7531\u5c0f\u95ee\u9898\u5f97\u51fa\u5927\u95ee\u9898\u7b54\u6848\u3002\n\n\u8bbe $f[x_1][y_1][x_2][y_2]$ \u4e3a\u77e9\u5f62 $(x_1,y_1,x_2,y_2)$ \u7684\u6700\u4f18\u89e3\u3002\u9996\u5148\u521d\u59cb\u5316 $f[x_1][y_1][x_2][y_2]=\\max(x_2-x_1+1,y_2-y_1+1)$\n\n\u5bf9\u884c\u5217\u5206\u522b\u8003\u8651\u6709\uff1a\n\n\u5bf9\u884c\uff1a$f[x_1][y_1][x_2][y_2]=\\max\\limits_{k=x_1}^{x_2-1}\\{f[x_1][y_1][k][y_2]+f[k+1][y_1][x_2][y_2] \\}$\n\n\u5bf9\u5217\uff1a$f[x_1][y_1][x_2][y_2]=\\max\\limits_{k=y_1}^{y_2-1}\\{f[x_1][y_1][x_2][k]+f[x_1][k+1][x_2][y_2] \\}$\n\n\u6700\u540e $f[1][1][n][n]$ \u7684\u7ed3\u679c\u5c31\u662f\u6574\u4e2a\u9898\u7684\u89e3\u3002\n\n\u505a\u6b64\u7c7b\u9898\u76ee\u8981\u654f\u9510\u89c2\u5bdf\u9898\u76ee\u4e2d\u7684\u6761\u4ef6\u5e76\u8bbe\u8ba1\u5408\u9002\u5408\u7406\u7684\u72b6\u6001\uff0c\u770b\u770b\u80fd\u5426\u4ece\u5c0f\u72b6\u6001\u63a8\u81f3\u5927\u72b6\u6001\uff0c\u5148\u901a\u8fc7\u8fd9\u4e2a\u5199\u51fa\u66b4\u529bdp\u65b9\u7a0b\uff0c\u7136\u540e\u518d\u5c1d\u8bd5\u6c42\u89e3\u3002\n\nAC\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nconst int N=50+13;\nint n,f[N][N][N][N];//f\u6570\u7ec4\u5c31\u662f\u4e0a\u9762\u8bb2\u7684\u8bb0\u5f55\u7b54\u6848\u7684\u6570\u7ec4\nchar s[N][N];\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;++i){\n\t\tscanf(\"%s\",s[i]+1);\n\t\tfor(int j=1;j<=n;++j) f[i][j][i][j]=(s[i][j]=='#');//\u5bf9\u6bcf\u4e2a\u70b9\u7684\u521d\u59cb\u5316\n\t}\n\tfor(int x1=1;x1<=n;++x1)\n\tfor(int y1=1;y1<=n;++y1)\n\tfor(int x2=x1;x2<=n;++x2)//\u6ce8\u610fx2\u548cy2\u7684\u4e0b\u754c\uff01\n\tfor(int y2=y1;y2<=n;++y2)\n\t\tif(x1!=x2||y1!=y2) f[x1][y1][x2][y2]=max(x2-x1+1,y2-y1+1);\n\tfor(int x1=n;x1>=1;--x1)\n\tfor(int x2=x1;x2<=n;++x2)\n\tfor(int y1=n;y1>=1;--y1)\n\tfor(int y2=y1;y2<=n;++y2){\n\t\tfor(int k=x1;k<x2;++k) f[x1][y1][x2][y2]=min(f[x1][y1][x2][y2],f[x1][y1][k][y2]+f[k+1][y1][x2][y2]);\n\t\tfor(int k=y1;k<y2;++k) f[x1][y1][x2][y2]=min(f[x1][y1][x2][y2],f[x1][y1][x2][k]+f[x1][k+1][x2][y2]);\n\t}\n\tprintf(\"%d\\n\",f[1][1][n][n]);\n\treturn 0;\n}\n```\n",
        "postTime": 1612175626,
        "uid": 160484,
        "name": "cunzai_zsy0531",
        "ccfLevel": 7,
        "title": "CF1198D\u9898\u89e3"
    },
    {
        "content": "**\u4e8c\u7ef4\u533a\u95f4DP**\n\n\u4e0e\u4e00\u7ef4\u7684\u4e00\u6837\uff0c\u6211\u4eec\u8003\u8651\u679a\u4e3e\u4e00\u4e2a\u533a\u95f4\uff0c\u7528 $lenx$ \u679a\u4e3e\u884c\u7684\u957f\u5ea6\uff0c$lenx$ \u679a\u4e3e\u5217\u7684\u957f\u5ea6\u3002\n\n\u518d\u7528 $x1$ \u679a\u4e3e\u884c\u7684\u8d77\u70b9\uff0c$y1$ \u679a\u4e3e\u5217\u7684\u8d77\u70b9\uff0c\u5229\u7528\u957f\u5ea6\u76f4\u63a5\u6c42\u51fa\u884c\u548c\u5217\u7684\u7ec8\u70b9 $x2$ \u548c $y2$\u3002\n\n\u91cc\u9762\u5957\u4e24\u4e2a\u5e76\u5217\u7684\u5faa\u73af\u679a\u4e3e\u65ad\u70b9\uff0c\u4e00\u4e2a\u679a\u4e3e\u884c\uff0c\u53e6\u4e00\u4e2a\u679a\u4e3e\u5217\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^5)$\uff0c\u5e38\u6570\u8f83\u5c0f\uff0c\u53ef\u4ee5\u5361\u8fc7qwq\n\n\u884c\u7684\u8f6c\u79fb\u65b9\u7a0b\u4e3a\uff1a $dp[x1][y1][x2][y2]=min(dp[x1][y1][x2][y2],dp[x1][y1][k][y2]+dp[k+1][y1][x2][y2])$\n\n\u5217\u540c\u7406\u3002\n\n\u90a3\u4e48\u6211\u4eec\u8be5\u600e\u6837\u8d4b\u521d\u503c\u5462\uff1f\n\n- \u5bf9\u4e8e $a[i][j]=$ $'#'$ \uff0c$dp[i][j][i][j]=1$\n- 4\u5c42\u5faa\u73af\u679a\u4e3e\u6bcf\u4e00\u4e2a\u533a\u95f4\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u533a\u95f4\u6709$dp[x1][y1][x2][y2]=min(x2-x1+1,y2-y1+1)$\n\n**\u9644\u4ee3\u7801**\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n\nusing namespace std;\n\nint a[60][60],dp[60][60][60][60];\nchar s[60];\nint n;\n\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%s\",s+1);\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tif(s[j]=='#')\n\t\t\t\tdp[i][j][i][j]=1; \n\t}\n\tfor(int x1=1;x1<=n;x1++)\n\t\tfor(int y1=1;y1<=n;y1++)\n\t\t\tfor(int x2=1;x2<=n;x2++)\n\t\t\t\tfor(int y2=1;y2<=n;y2++){\n\t\t\t\t\tif(x1==x2&&y1==y2) continue;\n\t\t\t\t\tdp[x1][y1][x2][y2]=max(x2-x1+1,y2-y1+1);\n\t\t\t\t}\n\tfor(int lenx=1;lenx<=n;lenx++)\n\t\tfor(int leny=1;leny<=n;leny++)\n\t\t\tfor(int x1=1;x1<=n-lenx+1;x1++)\n\t\t\t\tfor(int y1=1;y1<=n-leny+1;y1++){\n\t\t\t\t\tint x2=x1+lenx-1;\n\t\t\t\t\tint y2=y1+leny-1;\n\t\t\t\t\tfor(int k=x1;k<x2;k++)\n\t\t\t\t\t\tdp[x1][y1][x2][y2]=min(dp[x1][y1][x2][y2],dp[x1][y1][k][y2]+dp[k+1][y1][x2][y2]);\n\t\t\t\t\tfor(int k=y1;k<y2;k++)\n\t\t\t\t\t\tdp[x1][y1][x2][y2]=min(dp[x1][y1][x2][y2],dp[x1][y1][x2][k]+dp[x1][k+1][x2][y2]);\n\t\t\t\t}\n\tprintf(\"%d\\n\",dp[1][1][n][n]);\n\treturn 0;\n}\n```\n",
        "postTime": 1594254601,
        "uid": 158846,
        "name": "xixike",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1198D \u3010Rectangle Painting 1\u3011"
    }
]