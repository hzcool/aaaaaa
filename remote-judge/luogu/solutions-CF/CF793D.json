[
    {
        "content": "\u9898\u610f\uff1a\n\n\u4e00\u4e2a\u6709\u5411\u56fe\uff0c\u8282\u70b9\u6709\u7f16\u53f7\uff0c\u627e\u4e00\u6761\u7ecf\u8fc7 $k$ \u4e2a\u70b9\u7684\u6700\u77ed\u8def\u5f84\uff0c\u8981\u6c42\u662f\u5f53\u524d\u8fb9\u4e0d\u80fd\u8dc3\u8fc7\u5df2\u7ecf\u7ecf\u8fc7\u7684\u8282\u70b9\u3002\u5373\u5bf9\u4e8e\u8def\u5f84\u4e2d\u7684\u8fb9 $x \\to y$ \uff0c\u4e0d\u5b58\u5728\u4ee5\u524d\u7ecf\u8fc7\u7684\u70b9 $t$ \u4f7f\u5f97 $x <t<y$ \u3002\n\n $ 1 \\leq n,k \\leq 80 $ \uff0c $ m \\leq 2000$ \u3002\n\n---\n\n\u6bcf\u4e00\u6b21\u7ecf\u8fc7\u4e00\u6761\u8fb9\u90fd\u4f1a\u4f7f\u5f97\u53ef\u4ee5\u5230\u8fbe\u7684\u8fb9\u7684\u8303\u56f4\u7f29\u5c0f\u3002\n\n\u8003\u8651\u5230  $ 1 \\leq n,k \\leq 80 $ \u6211\u4eec\u4e0d\u96be\u60f3\u5230\u76f4\u63a5\u628a\u53ef\u4ee5\u53bb\u7684\u533a\u95f4\u5b58\u4e0b\u6765\u505a$\\rm DP$\uff0c\n\n\u518d\u6309\u7167\u7c7b\u4f3c\u533a\u95f4$\\rm DP$\u7684\u505a\u6cd5\u5f00\u4e00\u7ef4 $0,1$ \u8868\u793a\u5f53\u524d\u5230\u8fbe\u7684\u7aef\u70b9\u662f\u5de6\u7aef\u70b9\u8fd8\u662f\u53f3\u7aef\u70b9\uff0c\u7136\u540e\u76f4\u63a5\u8f6c\u79fb\u5373\u53ef\u3002\n\n\u5177\u4f53\u7684\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u8bbe $f[i][j][k][0/1]$ \u8868\u793a\u7ecf\u8fc7 $i$ \u4e2a\u70b9\uff0c\u53ef\u4ee5\u53bb\u7684\u533a\u95f4\u662f $[j,k]$ \uff0c\u73b0\u5728\u5728 \u5de6\u7aef\u70b9/\u53f3\u7aef\u70b9\u3002\u5176\u4e2d\u7b2c\u4e00\u7ef4\u53ef\u4ee5\u7528\u6eda\u52a8\u6570\u7ec4\u5b58\u3002\n\n---\n\n\u5269\u4e0b\u7684\u4e00\u4e9b\u5c0f\u7ec6\u8282\u53ef\u4ee5\u770b\u4ee3\u7801\uff1a\n\n```cpp\nconst int N=85;\nint n,K,m,u,v,c,cc[N][N],f[2][N][N][2],i,j,k,nw,ans=1<<30;\nint main(){\n\tmemset(cc,1,sizeof cc);\n\tscanf(\"%d%d%d\",&n,&K,&m);\n\twhile(m--)scanf(\"%d%d%d\",&u,&v,&c),cc[u][v]=min(cc[u][v],c);\n\tmemset(f[0],1,sizeof f[0]);\n\tfor(i=1;i<=n;++i)f[0][0][i][1]=f[0][i][n+1][0]=0;\n\twhile(--K){\n\t\tnw^=1;memset(f[nw],1,sizeof f[nw]);\n\t\tfor(i=0;i<=n-1;++i)for(j=i+2;j<=n+1;++j)for(k=i+1;k<j;++k){\n\t\t\tf[nw][i][k][1]=min(f[nw][i][k][1],min(f[!nw][i][j][1]+cc[j][k],f[!nw][i][j][0]+cc[i][k]));\n\t\t\tf[nw][k][j][0]=min(f[nw][k][j][0],min(f[!nw][i][j][0]+cc[i][k],f[!nw][i][j][1]+cc[j][k]));\n\t\t}\n\t}\n\tfor(i=0;i<=n+1;++i)for(j=0;j<=n+1;++j)ans=min(ans,min(f[nw][i][j][0],f[nw][i][j][1]));\n\tif(ans>1<<20)ans=-1;\n\tprintf(\"%d\\n\",ans);\n}\n\n```",
        "postTime": 1605234709,
        "uid": 288460,
        "name": "xzggzh1",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF793D \u3010Presents in Bankopolis\u3011"
    }
]