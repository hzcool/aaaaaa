[
    {
        "content": "~~\u601d\u8def\u53c2\u8003SSerxhs\u7684\u9898\u89e3\u3002~~\n\n\u8bbe\u4e24\u4e2a\u5b57\u7b26\u4e32\u4e3a $s$ \u548c $t$\n\n$dp_{i,j,k}$ \u8868\u793a\u5230\u7b2c $i$ \u4e2a\u5b57\u7b26\uff0c\u524d\u9762\u6709 $j$ \u4e2a\u5b57\u7b26\u4e0e $t_1$ \u76f8\u540c\uff0c\u4e14\u8fd0\u7528\u4e86 $k$ \u6b21\u4fee\u6539\u3002\u56e0\u4e3a\u8fd9\u6837\u6bcf\u6b21\u591a\u4e00\u4e2a\u548c $t_2$ \u76f8\u540c\u7684\u5b57\u7b26\u597d\u7b97\u8d21\u732e\u3002\n\n\u5206\u4e3a\u51e0\u79cd\u60c5\u51b5\u8ba8\u8bba\uff0c\u4e0d\u6539\uff08\u6b63\u5e38\u7b97\u8d21\u732e\uff09\uff0c\u6539\u6210 $t_1$ (j++,k++)\uff0c\u6539\u6210 $t_2$ \uff08\u7b54\u6848\u7d2f\u52a0j\uff0ck++\uff09\u3002\n\n\u8fd8\u6709\u5c31\u662f\u8981\u6ce8\u610f\u4e24\u4e2a\u5b57\u7b26\u76f8\u540c\uff0c\u7279\u5224\u4e00\u4e0b\u3002\n\n```cpp\nint n, m; char s[205], t[5];\nint f[205][205][205];\n\nsigned main(void) {\n//\tfile(\"\");\n\tread(n), read(m); int ans = 0;\n\treadstr(s + 1), readstr(t + 1);\n\tif (t[1] == t[2]) {\n\t\tfor (int i = 1; i <= n; i++) if (s[i] == t[1]) ++ans;\n\t\tans = min(ans + m, n); if (ans == 0) puts(\"0\");\n\t\telse writeln(ans * (ans - 1) >> 1); return 0;\n\t}\n\t\n\tMs(f, 0xcf); f[0][0][0] = 0;\n\tfor (int i = 1; i <= n; i++)\n\tfor (int j = 0; j <= i; j++)\n\tfor (int k = 0; k <= min(m, i); k++) {\n\t\tif (s[i] == t[1]) {\n\t\t\tif (j) f[i][j][k] = f[i - 1][j - 1][k];\n\t\t\tif (k) chkmax(f[i][j][k], f[i - 1][j][k - 1] + j);\n\t\t} else if (s[i] == t[2]) {\n\t\t\tf[i][j][k] = f[i - 1][j][k] + j;\n\t\t\tif (k) chkmax(f[i][j][k], f[i - 1][j - 1][k - 1]);\n\t\t} else {\n\t\t\tf[i][j][k] = f[i - 1][j][k];\n\t\t\tif (k) {\n\t\t\t\tif (j) chkmax(f[i][j][k], f[i - 1][j - 1][k - 1]);\n\t\t\t\tchkmax(f[i][j][k], f[i - 1][j][k - 1] + j);\n\t\t\t}\n\t\t}\n\t} for (int i = 0; i <= n; i++) for (int j = 0; j <= m; j++) chkmax(ans, f[n][i][j]);\n\twriteln(ans);\n//\tfwrite(pf, 1, o1 - pf, stdout);\n\treturn 0;\n}\n```\n",
        "postTime": 1599288120,
        "uid": 50925,
        "name": "EternalEpic",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1409F \u3010Subsequences of Length Two\u3011"
    },
    {
        "content": "\u770b\u4e00\u4e0b\u6570\u636e\u8303\u56f4\u53d1\u73b0\u57fa\u672c\u4e0a\u6807\u7b97\u5e94\u8be5\u662f $O(n^3)$ \u4e86\u3001\n\n\u6211\u4eec\u8003\u8651 $3$ \u65b9\u7684 $dp$\u3002\n\n\u9996\u5148 $\\texttt{t}$ \u7684 $2$ \u4e2a\u5b57\u7b26\u76f8\u7b49\u7684\u8bdd\uff0c\u7b54\u6848\u4e3a\n\n```cpp\nint s=0;\nfor(int i=1;i<=n;i++)\n\tif(a[i]==b[1])s++;\ns=min(n,s+k);\nint x=(s*(s-1)/2);\ncout<<x;\n```\n\n\u4ee3\u7801\u7684 $s$ \u5c31\u662f\u7ed3\u679c $k$ \u6b21\u64cd\u4f5c\uff0c\u5b57\u7b26\u4e32 $\\texttt{s}$ \u91cc\u9762\u6700\u591a\u6709 $s$ \u4e2a $\\texttt{t}$ \u7684\u5b57\u7b26\u3002\n\n\u6211\u4eec\u7b97\u4e00\u7b97\uff0c\u53d1\u73b0\u7b54\u6848\u4e3a\n$$(s-1)+(s-2)+\\cdots+1=\\frac{s\\times (s-1)}{2}$$\n\u6362\u4e2a\u89d2\u5ea6\u4e5f\u53ef\u4ee5\n$$\\begin{pmatrix} s \\\\ 2 \\end{pmatrix} = \\frac{s\\times (s-1)}{2} $$\n\n\u90a3\u4e48\u5269\u4e0b\u7684\u60c5\u51b5\u5c31\u662f\u8fd9 $2$ \u4e2a\u5b57\u7b26\u4e0d\u540c\u4e86\u3002\n\n\u6211\u4eec\u60f3\u4e00\u60f3\uff0c\u5176\u5b9e\uff0c\u5b57\u7b26\u4e32 $\\texttt{s}$ \u91cc\u6709\u591a\u5c11\u4e2a\u5b57\u7b26\u4e32 $\\texttt{t}$ \u5c31\u76f4\u63a5\u770b\u5b57\u7b26\u4e32 $\\texttt{s}$ \u91cc**\u6bcf\u4e2a\u5b57\u7b26 $\\texttt{t}_2$ \u524d $\\texttt{t}_1$ \u7684\u4e2a\u6570\u3002**\n\n\u4e3e\u4e2a\u4f8b\u5b50:\n\n```cpp\naababccabb\nab\n```\n\n\u91cc\u6709\u591a\u5c11\u4e2a\u5b50\u5b50\u5e8f\u5217 $\\texttt{t}$ \u5462\n\n| \u5b57\u7b26\u6807\u53f7 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| \u5b57\u7b26 | a | a | b | a | b | c | c | a | b | b |\n| \u524d\u9762 $a$ \u7684\u4e2a\u6570 | 0 | 1 | 2 | 2 | 3 | 3 | 3 | 3 | 4 | 4 |\n| $ans$ | 0 | 0 | 2 | 2 | 5 | 5 | 5 | 5 | 9 |  13 |\n\n\u4e0d\u96be\u53d1\u73b0\u6709 $13$ \u4e2a\u3002\n\n\u6211\u4eec\u7528 $f_{i,j,k}$ \u6765 $dp$\u3002\n\n\u5b83\u7684\u610f\u4e49\uff1a\n- $i$ \u5c31\u5bf9\u5e94\u4e0a\u9762\u7684\u5b57\u7b26\u7f16\u53f7\n- $j$ \u6307\u7684\u662f\u524d $i$ \u4e2a\u5b57\u7b26\u4fee\u6539\u4e86\u591a\u5c11\u4e2a\n- $k$ \u5bf9\u5e94\u4e0a\u9762\u7684\u524d\u9762 $a$ \u7684\u4e2a\u6570\n\n\u8fd8\u6709\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u4e1c\u897f\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5b57\u7b26\uff0c\u8981\u4e48\u5c06\u5b83\u4fee\u6539\u4e3a $\\texttt{t}_2$\u3001\u8981\u4e48\u5c06\u5b83\u4fee\u6539\u4e3a $\\texttt{t}_1$\uff0c\u8981\u4e48\u4e0d\u4fee\u6539\u3002\n\n\u8fd9\u6837\u6211\u4eec\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5c31\u597d\u5199\u4e86\n\n\u5206\u522b\u5bf9\u5e94\u4e0d\u4fee\u6539\n\n$$f_{i,j,k}=f_{i-1,j,k}$$\n\n\u4fee\u6539\u4e3a $\\texttt{t}_1$\n- \u5982\u679c\u8fd9\u4e2a\u5b57\u7b26\u672c\u6765\u4e3a $\\texttt{t}_1$\uff0c\u5219\n\t$$f_{i,j,k}=f_{i-1,j,k-1}$$\n- \u5426\u5219\n\t$$f_{i,j,k}=f_{i-1,j-1,k-1}$$\n\n\u4fee\u6539\u4e3a $\\texttt{t}_2$\n- \u5982\u679c\u8fd9\u4e2a\u5b57\u7b26\u672c\u6765\u4e3a $\\texttt{t}_2$\uff0c\u5219\n\t$$f_{i,j,k}=f_{i-1,j,k}+k$$\n- \u5426\u5219\n\t$$f_{i,j,k}=f_{i-1,j-1,k}+k$$\n\n\u521d\u59cb\u5316\u7684\u8bdd\u5148\u5168\u90e8\u8d4b\u503c\u4e3a\u65e0\u7a77\u5c0f\uff0c\u518d\u5c06 $f_{0,i,0}$ \u8d4b\u503c\u4e3a $0$\uff08\u8fd9\u91cc $i\\in (1,k)$\uff09\n\n```cpp\n\n// Problem: F. Subsequences of Length Two\n// Contest: Codeforces - Codeforces Round #667 (Div. 3)\n// URL: https://codeforces.ml/contest/1409/problem/F\n// Memory Limit: 256 MB\n// Time Limit: 2000 ms\n// Powered by CP Editor (https://github.com/cpeditor/cpeditor)\n\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\ntypedef long long ll;\ntemplate<typename T>inline void read(T &FF){\n\tT RR=1;FF=0;char CH=getchar();\n\tfor(;!isdigit(CH);CH=getchar())if(CH=='-')RR=-1;\n\tfor(;isdigit(CH);CH=getchar())FF=(FF<<1)+(FF<<3)+(CH^48);\n\tFF*=RR;\n}\nint n,k,f[210][210][210];\nstring a,b;\nsigned main(){\n\tmemset(f,128,sizeof(f));\n\tread(n);read(k);\n\tcin>>a>>b;\n\ta=' '+a;b=' '+b;\n\tif(b[1]==b[2]){\n\t\tint s=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tif(a[i]==b[1])s++;\n\t\ts=min(n,s+k);\n\t\tint x=(s*(s-1)/2);\n\t\tcout<<x;\n\t\treturn 0;\n\t}\n\tfor(int i=0;i<=k;i++)f[0][i][0]=0;\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=0;j<=k;j++)\n\t\t\tfor(int l=0;l<=i;l++){\n\t\t\t\tf[i][j][l]=f[i-1][j][l];\n\t\t\t\tif(a[i]==b[1])f[i][j][l]=max(f[i][j][l],f[i-1][j][l-1]);\n\t\t\t\telse if(j)f[i][j][l]=max(f[i][j][l],f[i-1][j-1][l-1]);\n\t\t\t\tif(a[i]==b[2])f[i][j][l]=max(f[i][j][l],f[i-1][j][l]+l);\n\t\t\t\telse if(j)f[i][j][l]=max(f[i][j][l],f[i-1][j-1][l]+l);\n\t\t\t}\n\tint ans=0;\n\tfor(int i=0;i<=n;i++)ans=max(ans,f[n][k][i]);\n\tcout<<ans;\n\treturn 0;\n}\n```",
        "postTime": 1599292118,
        "uid": 180242,
        "name": "orzdevinwang",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1409F \u3010Subsequences of Length Two\u3011"
    },
    {
        "content": "[\u849f\u84bb\u7684Div3\u9898\u89e3](https://big-news.cn/2020/09/05/%E3%80%8C%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A%E3%80%8DCodeforces%20Round%20667%20(Div.%203)/)\n\n\u7b80\u5355 DP \u9898\u3002\n\n\u8bbe $f[i,j,k]$ \u8868\u793a\u8003\u8651 $s[1:i]$ \u4e2d\uff0c$t[1]$ \u51fa\u73b0\u4e86 $j$ \u6b21\uff0c\u5f53\u524d\u6539\u52a8\u4e86 $k$ \u6b21\u7684\u65b9\u6848\u6570\uff0c\u5c31\u53ef\u4ee5\u8f6c\u79fb\u4e86\u3002\n\n\u5177\u4f53\u6765\u8bb2\uff0c\u8003\u8651 $i\\to i+1$\uff0c\u6211\u4eec\u6709\u4e24\u79cd\u9009\u62e9\uff1a\n1. \u4ec0\u4e48\u90fd\u4e0d\u505a\uff0c\u8f6c\u79fb\u5230 $f[i+1,c+0/1,k]$\uff1b\n2. \u628a\u8fd9\u4e00\u4f4d\u6539\u6210 $t_1$\uff0c\u8f6c\u79fb\u5230 $f[i+1,c+1,k+1]$\n3. \u628a\u8fd9\u4e00\u4f4d\u6539\u6210 $t_2$\uff0c\u8f6c\u79fb\u5230 $f[i+1,c,k+1]+c$\n\n\u6700\u540e\u7279\u6b8a\u8003\u8651\u4e00\u4e0b $t[1]=t[2]$ \u7684\u60c5\u51b5\u5373\u53ef\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^3)$\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<string>\n#include<algorithm>\nusing namespace std;\n\n#define int long long\nconst int CN = 210;\n\nint read(){\n    int s = 0,ne = 1; char c = getchar();\n    while(c < '0' || c > '9') ne = c == '-' ? -1 : 1, c = getchar();\n    while(c >= '0' && c <= '9') s = (s << 1) + (s << 3) + c - '0', c = getchar();\n    return s * ne;\n}\n\nint n, d, f[CN][CN][CN], ans; char s[CN], c1, c2;\n\nvoid DP1(){\n    memset(f, -0x3f, sizeof(f)), f[0][0][0] = 0; int c = 0; \n    for(int i = 1; i <= n; i++){\n        f[i][c + (s[i] == c1)][0] = f[i - 1][c][0];\n        c += (s[i] == c1); if(s[i] == c2) f[i][c][0] += c;\n    }\n    for(int k = 0; k <= d; k++)\n      for(int c = 0; c <= n; c++)\n        for(int i = 0; i <= n; i++){\n          if(s[i + 1] == c2) f[i + 1][c][k] = max(f[i + 1][c][k], f[i][c][k] + c);\n          else if(s[i + 1] == c1) f[i + 1][c + 1][k] = max(f[i + 1][c + 1][k], f[i][c][k]);\n          else f[i + 1][c][k] = max(f[i + 1][c][k], f[i][c][k]);\n          if(s[i + 1] != c1) f[i + 1][c + 1][k + 1] = max(f[i + 1][c + 1][k + 1], f[i][c][k]);\n          if(s[i + 1] != c2) f[i + 1][c][k + 1] = max(f[i + 1][c][k + 1], f[i][c][k] + c);\n        }\n}\nvoid DP2(){\n    memset(f, -0x3f, sizeof(f)), f[0][0][0] = 0; int c = 0; \n    for(int i = 1; i <= n; i++){\n        f[i][c + (s[i] == c1)][0] = f[i - 1][c][0];\n        if(s[i] == c1) c++, f[i][c][0] += c - 1;\n    }\n    for(int k = 0; k <= d; k++)\n      for(int c = 0; c <= n; c++)\n        for(int i = 0; i <= n; i++){\n          if(s[i + 1] == c1) f[i + 1][c + 1][k] = max(f[i + 1][c + 1][k], f[i][c][k] + c);\n          else f[i + 1][c][k] = max(f[i + 1][c][k], f[i][c][k]);\n          if(s[i + 1] != c1) f[i + 1][c + 1][k + 1] = max(f[i + 1][c + 1][k + 1], f[i][c][k] + c);\n        }\n}\n\nsigned main(){\n    freopen(\"_in.in\", \"r\", stdin);\n\n    n = read(), d = read(), cin >> (s + 1) >> c1 >> c2;\n    \n    if(c1 != c2) DP1(); else DP2();\n    for(int x = 0; x <= n; x++) \n        for(int k = 0; k <= d; k++)\n            ans = max(ans, f[n][x][k]);\n    \n    printf(\"%lld\", ans);\n}\n```",
        "postTime": 1599289700,
        "uid": 70177,
        "name": "big_news",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1409F \u3010Subsequences of Length Two\u3011"
    },
    {
        "content": "\u73b0\u6709\u7684\u9898\u89e3\u5df2\u7ecf\u628a\u95ee\u9898\u5206\u6790\u7684\u5f88\u6e05\u695a\u4e86\uff0c\u4f46\u662f\u770b\u4e86\u770b\u4ee3\u7801\u8fd8\u6ca1\u4eba\u5199\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u6240\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u8bb0\u641c\u7684\u4ee3\u7801\u3002\u5176\u5b9e\u539f\u7406\u548cDP\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u4e2a\u4eba\u611f\u89c9\u8bb0\u641c\u66f4\u597d\u5199\u3002\n\n```cpp\nint solve(int pos, int dep, int sum)\n{\n    if (pos == n)\n        return 0;\n    int &ret = dp[pos][dep][sum];\n    if (ret >= 0)\n        return ret;\n    ret = (s[pos] == t[1]) * sum + solve(pos + 1, dep, sum + (s[pos] == t[0]));\n    if (dep > 0)\n    {\n        ret = max(ret, solve(pos + 1, dep - 1, sum + 1));\n        ret = max(ret, sum + solve(pos + 1, dep - 1, sum));\n    }\n    return ret;\n}\n```\n\n\u4e0d\u8981\u5fd8\u8bb0\u521d\u59cb\u5316\u5e76\u7279\u5224 $t$ \u4e32\u4e24\u4e2a\u5b57\u7b26\u76f8\u540c\u7684\u60c5\u51b5\u3002\n\n```cpp\nint n, k, dp[209][209][209];\nstring s, t;\nsigned main()\n{\n    cin >> n >> k;\n    cin >> s >> t;\n    if (t[0] == t[1])\n    {\n        int cnt = 0;\n        for (int i = 0; i < n; ++i)\n            if (s[i] == t[0])\n                cnt++;\n        cnt += min(k, n - cnt);\n        cout << cnt * (cnt - 1) / 2 << endl;\n        return 0;\n    }\n    memset(dp, -1, sizeof(dp));\n    cout << solve(0, k, 0) << endl;\n    return 0;\n}\n```\n",
        "postTime": 1599399507,
        "uid": 256465,
        "name": "Theophania",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1409F \u3010Subsequences of Length Two\u3011"
    },
    {
        "content": "\u7b80\u5355 dp \u9898\n\n\u8bbe $f_{i,j,k}$ \u8868\u793a\u8003\u8651\u5230\u7b2c $i$ \u4e2a\u5b57\u7b26\uff0c\u5de6\u4fa7\uff08\u542b $i$\uff09\u6709 $j$ \u4e2a $T_1$\uff0c\u7528\u4e86 $k$ \u6b21\u4fee\u6539\u7684\u6700\u5927\u5f53\u524d\u7b54\u6848\uff0c\u5219 dp \u65b9\u7a0b\u53ef\u89c1\u4ee3\u7801\uff08\u6ce8\u91ca\u4e3a\u5bf9\u7b2c $i$ \u4e2a\u5b57\u7b26\u7684\u64cd\u4f5c\uff09\n\n\u6ce8\u610f\u7279\u5224 $T_1=T_2$ \u60c5\u51b5\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N=202,inf=-1e9;\nint f[N][N][N],s[N];\nint c,n,m,i,j,k=0,ans,cnt;\ninline void read(int &x)\n{\n\tc=getchar();\n\twhile ((c<48)||(c>57)) c=getchar();\n\tx=c^48;c=getchar();\n\twhile ((c>=48)&&(c<=57))\n\t{\n\t\tx=x*10+(c^48);\n\t\tc=getchar();\n\t}\n}\nint main()\n{\n\tread(n);read(m);c=getchar();\n\twhile ((c<'a')||(c>'z')) c=getchar();\n\ts[1]=c;\n\tfor (i=2;i<=n;i++) s[i]=getchar();c=getchar();\n\twhile ((c<'a')||(c>'z')) c=getchar();\n\ti=c;j=getchar();\n\tif (i==j)\n\t{\n\t\tfor (i=1;i<=n;i++) if (s[i]==j) ++k;\n\t\tk=min(k+m,n);if (!k) return puts(\"0\"),0;\n\t\treturn printf(\"%d\",k*(k-1)>>1),0;\n\t}//\u7279\u5224\n\tfor (k=1;k<=n;k++) if (s[k]==i) s[k]=1; else if (s[k]==j) s[k]=2; else s[k]=0;\n\tfor (i=0;i<=n;i++) for (j=0;j<=n;j++) for (k=0;k<=m;k++) f[i][j][k]=inf;\n\tf[0][0][0]=0;\n\tfor (i=1;i<=n;i++)\n\t{\n\t\tfor (j=0;j<=i;j++) for (k=0;(k<=m)&&(k<=i);k++)\n\t\t{\n\t\t\tif (s[i]==1)//1\u8868\u793aT\u4e32\u7b2c1\u4e2a\u5b57\u7b26\n\t\t\t{\n\t\t\t\tif (j) f[i][j][k]=f[i-1][j-1][k];//\u4e0d\u6539\n\t\t\t\tif (k) f[i][j][k]=max(f[i][j][k],f[i-1][j][k-1]+j);//\u6539\u4e3a2\n\t\t\t}\n\t\t\telse if (s[i]==2)//2\u8868\u793aT\u4e32\u7b2c2\u4e2a\u5b57\u7b26\n\t\t\t{\n\t\t\t\tf[i][j][k]=f[i-1][j][k]+j;//\u4e0d\u6539\n\t\t\t\tif (j&&k) f[i][j][k]=max(f[i][j][k],f[i-1][j-1][k-1]);//\u6539\u4e3a1\n\t\t\t} else\n\t\t\t{\n\t\t\t\tf[i][j][k]=f[i-1][j][k];//\u4e0d\u6539\n\t\t\t\tif (k)\n\t\t\t\t{\n\t\t\t\t\tif (j) f[i][j][k]=max(f[i][j][k],f[i-1][j-1][k-1]);//\u6539\u4e3a1\n\t\t\t\t\tf[i][j][k]=max(f[i][j][k],f[i-1][j][k-1]+j);//\u6539\u4e3a2\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (j=0;j<=n;j++) for (k=0;k<=m;k++) ans=max(ans,f[n][j][k]);\n\tprintf(\"%d\",ans);\n}\n```",
        "postTime": 1599278470,
        "uid": 29826,
        "name": "SSerxhs",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1409F \u3010Subsequences of Length Two\u3011"
    },
    {
        "content": "# CF1409F Solution\n\ndiv. 3 \u7684 F \u4e0d\u662f\u5f88\u96be\n\n\u8003\u8651 dp\uff0c\u8bbe\u8bb0\u72b6\u6001 $dp[i][j][k]$ \u4e3a\u5df2\u7ecf\u505a\u5230\u4e86 $i$ \u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u7528\u4e86 $j$ \u4e2a\u673a\u4f1a\uff0c\u4e4b\u524d\u6709 $k$ \u4e2a `character` \u548c $t[0]$ \u4e00\u6837\u3002\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u663e\u7136\u53ef\u4ee5\u5f97\u5230 dp\uff0c\u65b9\u7a0b\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u4f1a\u53ef\u4ee5\u6709\u51b3\u7b56\u3002\n\n```c++\ndp[ i + 1 ][ j + 1 ][ l + 1 ] = std::max( dp[ i + 1 ][ j + 1 ][ l + 1 ], dp[ i ][ j ][ l ] + ( t[ 0 ] == t[ 1 ] ) * l );\ndp[ i + 1 ][ j + 1 ][ l + ( t[ 0 ] == t[ 1 ] ) ] = std::max( dp[ i + 1 ][ j + 1 ][ l + ( t[ 0 ] == t[ 1 ] ) ], dp[ i ][ j ][ l ] + l );\ndp[ i + 1 ][ j ][ l + ( s[ i ] == t[ 0 ] ) ] = std::max( dp[ i + 1 ][ j ][ l + ( s[ i ] == t[ 0 ] ) ], dp[ i ][ j ][ l ] + ( s[ i ] == t[ 1 ] ) * l );\n```\n\n- \u7b2c\u4e00\u884c\u8868\u793a\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u6539\u6210 $t[0]$\n- \u7b2c\u4e8c\u884c\u8868\u793a\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u641e\u6210 $t[0]$\n- \u7b2c\u4e09\u884c\u8868\u793a\uff0c\u8fd9\u4e2a\u4e1c\u897f\u5982\u679c\u548c $t[0]$ \u6216\u8005 $t[1]$ \u76f8\u7b49\u7684\u51b3\u7b56\u3002\n\n\u597d\u50cf\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\u4e86\u3002\n\n\u8be6\u7ec6\u5b9e\u73b0\u770b\u4ee3\u7801\n\n```\n#include <bits/stdc++.h>\nconst int N = 202;\nusing std::string;\nusing std::cin;\nusing std::cout;\nstring s, t; \nint n, k, ans, dp[ N ][ N ][ N ];\nint main( )\n{\n memset( dp, -63, sizeof dp );\n cin >> n >> k >> s >> t;\n dp[ 0 ][ 0 ][ 0 ] = 0;\n for( int i = 0; i < n; ++i ) for( int j = 0; j <= k; ++j ) for( int l = 0; l <= i; ++l )\n {\n  dp[ i + 1 ][ j + 1 ][ l + 1 ] = std::max( dp[ i + 1 ][ j + 1 ][ l + 1 ], dp[ i ][ j ][ l ] + ( t[ 0 ] == t[ 1 ] ) * l );\n  dp[ i + 1 ][ j + 1 ][ l + ( t[ 0 ] == t[ 1 ] ) ] = std::max( dp[ i + 1 ][ j + 1 ][ l + ( t[ 0 ] == t[ 1 ] ) ], dp[ i ][ j ][ l ] + l );\n  dp[ i + 1 ][ j ][ l + ( s[ i ] == t[ 0 ] ) ] = std::max( dp[ i + 1 ][ j ][ l + ( s[ i ] == t[ 0 ] ) ], dp[ i ][ j ][ l ] + ( s[ i ] == t[ 1 ] ) * l );\n }\n for( int j = 0; j <= k; ++j ) for( int l = 0; l <= n; ++l )\n  ans = std::max( ans, dp[ n ][ j ][ l ] );\n cout << ans;\n return 0;\n}\n```\n\n",
        "postTime": 1599282084,
        "uid": 232125,
        "name": "SiRiehn_nx",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1409F \u3010Subsequences of Length Two\u3011"
    }
]