[
    {
        "content": "\u6700\u8fd1\u5728\u8865\u505a dp \u9898\u4e8e\u662f\u60f3\u8d77\u4e86\u4e4b\u524d\u505a\u7684\u8fd9\u9053qwq\uff0c\u8fd8\u662f\u975e\u5e38\u597d\u7684\u9898\u554a\n\n\u9898\u610f\uff1a\n\n\u4e00\u53ea\u4e4c\u9f9f\u4ece$2 \\times n$\u7684\u68cb\u76d8\u7684\u5de6\u4e0a\u89d2\u8d70\u5230\u53f3\u4e0b\u89d2\uff0c\u53ea\u80fd\u5f80\u4e0b\u6216\u5f80\u53f3\uff0c\u9700\u8981\u7ed9\u51fa\u4e00\u79cd\u65b9\u6848\u6765\u5206\u914d$2n$\u4e2a\u6570\u5b57\u4f7f\u5f97\u4e4c\u9f9f\u8d70\u8fc7\u7684\u8def\u5f84\u4e0a\u7684\u6570\u4e4b\u548c\u7684\u6700\u5927\u503c\u6700\u5c0f\u3002\n\n$\\rm Sol:$\n\n\u9996\u5148\u53ef\u4ee5\u901a\u8fc7\u89c2\u5bdf\u53d1\u73b0\uff0c\u5047\u8bbe\u653e\u5728\u4e0a\u9762\u90a3\u4e00\u5c42\u7684\u6570\u548c\u4e0b\u9762\u7684\u6570\u56fa\u5b9a\u90a3\u4e48\u6700\u4f18\u7684\u65b9\u6848\u5b9e\u9645\u4e0a\u786e\u5b9a\u4e86\n\n\u663e\u7136\u662f\u4e0a\u9762\u7684\u6309\u7167\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u7136\u540e\u4e0b\u9762\u7684\u6309\u7167\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\n\n\u6211\u4eec\u4e0d\u59a8\u8bbe\u6211\u4eec\u5728\u7b2c $i$ \u4f4d\u5411\u4e0b\u8f6c\uff0c\u90a3\u4e48\u7b54\u6848\u4e3a$pre_{i,1}+nxt_{i,2}$\n\n\u8003\u8651\u4e24\u4e2a\u76f8\u90bb\u7684\u4f4d\u7f6e$i$\u548c$i+1$\u90a3\u4e48\u7b54\u6848\u7684\u53d8\u5316\u91cf\u4e3a$a_{i+1}-b_i$\n\n\u4e0d\u59a8\u4ee4$w_i=a_{i+1}-b_i$\uff0c\u5047\u8bbe\u4ece$1$\u5f00\u59cb\u5f80\u4e0b\u8f6c\u7684\u7b54\u6848\u4e3a$ans$\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4ece\u7b2c$k$\u4f4d\u5f00\u59cb\u8f6c\u5411\u7684\u7b54\u6848\u4e3a\uff1a\n\n$$ans+\\sum_{i=1}^{k-1}w_i$$\n\n\u4e8b\u5b9e\u4e0a\uff0c\u7531\u4e8e$a_i$\u5355\u8c03\u589e\uff0c$b_i$\u5355\u8c03\u51cf\uff0c\u6240\u4ee5\u53ef\u4ee5\u5f97\u51fa$w_i$\u5355\u8c03\u589e\u7684\u7ed3\u8bba\n\n\u7531\u4e8e\u521d\u59cb\u7684$w_1$\u53ef\u80fd\u4e3a\u8d1f\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u6700\u5927\u7684\u6743\u503c\u5fc5\u7136\u4f1a\u5728$1$\u53f7\u4f4d\u8f6c\u5411\u548c$n$\u53f7\u4f4d\u8f6c\u5411\n\n\u4e8e\u662f\u95ee\u9898\u53d8\u6210\u9700\u8981\u5c06$2n$\u4e2a\u6570\u5206\u6210\u4e24\u4e2a\u5e8f\u5217\u4f7f\u5f97$max(\\sum a +b_n, \\sum b + a_1)$\u4f7f\u5f97\u5176\u6700\u5c0f\n\n\u7136\u540e\u4e8b\u5b9e\u4e0a\u7531\u4e8e$n$\u6bd4\u8f83\u5c0f\u53ef\u4ee5\u8003\u8651\u679a\u4e3e$a_1$\u548c$b_n$\u662f\u8c01\u63a5\u4e0b\u6765\u95ee\u9898\u8f6c\u5316\u4e3a\u5c06$2(n-1)$\u4e2a\u6570\u5206\u6210\u4e24\u4e2a\u5e8f\u5217\u4f7f\u5f97$max(\\sum a_i,\\sum b_i)$\u6700\u5c0f\n\n\u6ce8\u610f\u5230$s=\\sum a +\\sum b$\u662f\u56fa\u5b9a\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5047\u8bbe\u5b58\u5728\u4e00\u4e2a\u65b9\u6848\u4f7f\u5f97\u6743\u503c\u548c\u4e3a$x$\uff0c\u90a3\u4e48\u5c31\u5b58\u5728\u53e6\u5916\u4e00\u4e2a\u65b9\u6848\u4f7f\u5f97\u6743\u503c\u4e3a$s-x$\uff0c\u6211\u4eec\u9700\u8981\u6700\u5c0f\u5316\u5176\u4e2d\u7684\u6700\u5927\u503c\uff0c\u5b9e\u9645\u4e0a\u662f\u662f\u5426\u5b58\u5728\u4e00\u79cd\u65b9\u6848\u9009\u51fa$n-1$\u4e2a\u6570\u6ee1\u8db3\u5176\u6743\u503c\u6bd4$\\dfrac{s}{2}$\u5927\uff0c\u7b2c\u4e00\u4e2a\u6ee1\u8db3\u7684\u4fbf\u4e3a\u6761\u4ef6\n\n\u597d\u7684\u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u590d\u6742\u5ea6\u4e3a$O(n^2\\times \\sum a\\times n^2)$\u7684\u505a\u6cd5\u4e86\n\n\u7136\u800c\u63a5\u4e0b\u6765\u9700\u8981\u8003\u8651\u5982\u4f55\u505a\u5230\u4e0d\u679a\u4e3e$a_1$\u548c$b_n$\n\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u5fc5\u7136\u7684\u6709\uff1a$a_1,b_n$\u4e3a\u6700\u5c0f\u7684\u4e24\u4e2a\u6743\u503c\uff0c\u5426\u5219\u5c06\u4e24\u4e2a\u5c0f\u7684\u6743\u503c\u5bf9\u4e8e\u7b54\u6848\u7684\u8d21\u732e\u4f1a\u53d8\u5c11\uff0c\u8fd9\u662f\u5fc5\u7136\u7684\n\n\u4e8e\u662f\u6211\u4eec\u91cd\u65b0\u505a$dp$\u4fbf\u53ef\u4ee5\u5f97\u5230\uff1a$O(n^2\\sum a)$\u7684\u505a\u6cd5\u4e86\n\n$Code:$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std ;\n#define drep( i, s, t ) for( register int i = t; i >= s; -- i )\n#define rep( i, s, t ) for( register int i = s; i <= t; ++ i )\n#define re register\nint gi() {\n\tchar cc = getchar() ; int cn = 0, flus = 1 ;\n\twhile( cc < '0' || cc > '9' ) {  if( cc == '-' ) flus = - flus ; cc = getchar() ; }\n\twhile( cc >= '0' && cc <= '9' )  cn = cn * 10 + cc - '0', cc = getchar() ;\n\treturn cn * flus ;\n}\nconst int N = 55 ; \nconst int M = 1e6 + 5 ;\nconst int E = 5e4 + 5 ;\nint n, Mx, a[N], ans[N][3], dp[N][M], Sum, pre[N][M], book[N] ; \nvoid out( int x ) {\n\tint tp = n ;\n\tfor( re int i = 1; i <= n; ++ i ) {\n\t\tans[i][2] = pre[tp][x], -- book[pre[tp][x]], x = x - pre[tp][x], -- tp ;\n\t} int cnt = 1 ; \n\tfor( re int i = 0; i <= Mx; ++ i ) {\n\t\twhile( book[i] ) ans[++ cnt][1] = i, -- book[i] ;\n\t}\n\tfor( re int i = 1; i <= n + 1; ++ i ) printf(\"%d \", ans[i][1] ) ;\n\tputs(\"\") ; \n\tfor( re int i = 1; i <= n + 1; ++ i ) printf(\"%d \", ans[i][2] ) ;\n\tputs(\"\") ; \n}\nsigned main()\n{\n\tn = gi() ; rep( i, 1, n ) a[i] = gi(), Sum += a[i], Mx = max( Mx, a[i] ) ; \n\trep( i, 1, n ) a[i + n] = gi(), Sum += a[i + n], Mx = max( Mx, a[i + n] ) ; \n\tsort( a + 1, a + 2 * n + 1 ) ; \n\tans[1][1] = a[1], ans[n][2] = a[2] ; \n\tSum = ( Sum - a[1] - a[2] ) / 2 ;\n\tdp[0][0] = 1 ; int m = 2 * n ; -- n ;\n\trep( i, 3, m ) ++ book[a[i]] ; \n\trep( i, 3, m ) drep( j, 1, min( i, n ) )\n\t\tdrep( k, a[i], Sum ) {\n\t\t\tif( dp[j][k] ) continue ; \n\t\t\tif( dp[j - 1][k - a[i]] )\n\t\t\tpre[j][k] = a[i], dp[j][k] = 1 ;\n\t\t}\n\tdrep( i, 0, Sum ) if( dp[n][i] ) { out(i) ; exit(0) ; }\n\treturn 0 ;\n} \n```",
        "postTime": 1576732085,
        "uid": 30036,
        "name": "Soulist",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1239E \u3010Turtle\u3011"
    },
    {
        "content": "\\*3100\n\n~~\u597d\u597d\u7684\u4e00\u9053\u9898\u5f3a\u884c\u628a\u4ee3\u7801\u96be\u5ea6\u5199\u6210\u4e86\\*3500\u3002~~\n\n\u9898\u89e3\u533a**\u5168\u662f\u6e05\u4e00\u8272\u7684\u80cc\u5305**\uff0c\u4f46\u5b9e\u9645\u4e0a\u80cc\u5305\u80fd\u8fc7\u662f\u56e0\u4e3a\u7528\u4e86 bitset \u7684\u538b\u4f4d\uff0c\u4e00\u70b9\u90fd\u4e0d\u4f18\u96c5\u3002\n\n\u4e8b\u5b9e\u4e0a\u8fd9\u9053\u9898\u662f\u6709~~\u7b80\u5355\u7684~~ mim\uff08meet in the middle\uff09\u641c\u72b6\u6001\u7684\u505a\u6cd5\uff0c\u6bd4\u5176\u4ed6\u9898\u89e3\u83ab\u540d\u5176\u5999\u7684\u80cc\u5305 DP \u4f18\u5316\u81ea\u7136\u53c8\u7b80\u6d01\u3002\n\n------------\n\n\u7531\u4e8e\u53ea\u80fd\u5411\u4e0b\u800c\u4e0d\u80fd\u5411\u4e0a\u8d70\uff0c\u6545\u53ea\u6709\u4e14\u4ec5\u6709\u4e00\u6b21\u5411\u4e0b\u7684\u673a\u4f1a\uff0c\u4e0d\u59a8\u8bbe\u5728 $p$ \u4f4d\u7f6e\u4f7f\u7528\u4e86\u8fd9\u4e2a\u673a\u4f1a\u3002\n\n\u8003\u8651\u8fd9\u6837\u8d70\u7684\u8def\u5f84\u548c\uff1a$\\sum_{i=1}^pa_{1,i}+\\sum_{i=p}^na_{2,i}$\uff0c\u4ee4 $p$ \u5904\u4e0b\u62d0\u7684\u7b54\u6848\u4e3a $ans_p=\\sum_{i=1}^pa_{1,i}+\\sum_{i=p}^na_{2,i}$\u3002\n\n\u8003\u8651\u8c03\u6574\uff0c\u89c2\u5bdf\u7b2c\u4e00\u884c\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u4f4d\u7f6e\u5b58\u5728 $a_{1,x}>a_{1,x+1}$ \u53d1\u73b0\u4ea4\u6362\u540e\u5bf9\u4e8e\u6bcf\u79cd $p$ \u7684\u8def\u5f84\u548c\u90fd\u4e00\u5b9a\u4e0d\u52a3\uff0c\u5373\u5206\u8ba8\u4e00\u4e0b $p\\le x$ \u548c $p>x$ \u65f6\u53d1\u73b0 $ans_p$ \u90fd\u4e0d\u964d\u3002\n\n\u540c\u7406\u89c2\u5bdf\u7b2c\u4e8c\u884c\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u4f4d\u7f6e\u5b58\u5728 $a_{2,x}<a_{2,x+1}$ \u4ea4\u6362\u540e\u4e5f\u4e0d\u52a3\uff0c\u5373 $ans_p$ \u4e5f\u4e0d\u964d\u3002\n\n\u6545\u663e\u7136\u662f\u7b2c\u4e00\u884c\u4ece\u5c0f\u5230\u5927\u5355\u589e\uff0c\u7b2c\u4e8c\u884c\u4ece\u5927\u5230\u5c0f\u5355\u51cf\u3002\n\n\u5957\u8def\u7684\u8003\u8651\u7b54\u6848\u7684\u5dee\u91cf\u4e3a $dlt_p=ans_p-ans_{p-1}=a_{1,p}-a_{2,p-1}$\uff0c\u7531\u4e8e $a_{1,p}\\le a_{1,p+1},a_{2,p-1}\\ge a_{2,p}$\uff0c\u6545 $dlt_p\\le dlt_{p+1}$\u3002\n\n\u7531\u4e8e\u659c\u7387\u662f\u5355\u8c03\u7684\uff0c\u90a3\u4e48\u7b54\u6848\u6570\u7ec4 $ans_p$ \u80af\u5b9a\u662f\u51f8\u7684\uff0c\u659c\u7387\u5355\u589e\u6240\u4ee5\u662f\u4e0b\u51f8\u7684\u3002\n\n\u90a3\u4e48\u6700\u5927\u503c\u5728\u4e24\u8fb9\u53d6\u5230\uff0c\u5373\u4e4c\u9f9f\u53d6\u5230\u7684\u8def\u5f84\u548c\u4e3a $\\max{(ans_1,ans_n)}$\u3002\n\n\u5c55\u5f00\u8003\u8651\uff0c\u53d1\u73b0\u662f $\\max{(a_{1,1}+\\sum a_{2,i},a_{2,n}+\\sum a_{1,i})}$\u3002\n\n------------\n\n\u8fd9\u4e2a\u5f0f\u5b50\u5c31\u5f88\u5bb9\u6613\u8003\u8651\u4e86\uff0c\u5bf9\u6bcf\u4e2a\u6570\u8003\u8651\u4e22\u5230\u7b2c\u4e00\u884c\u8fd8\u662f\u7b2c\u4e8c\u884c\u3002\n\n\u6309\u5927\u5c0f\u987a\u5e8f\u4e22\u5165\uff0c\u5982\u679c\u662f\u8fd9\u4e00\u884c\u7b2c\u4e00\u6b21\u4e22\u5c31\u7ed9\u53e6\u4e00\u884c\u989d\u5916\u52a0\u4e0a $a_{1,1}/a_{2,n}$ \u7684\u8d21\u732e\uff0c\u6211\u4eec\u73b0\u5728\u5f97\u5230\u4e86\u4e00\u4e2a\u4f18\u79c0\u7684 $O(2^{2n})$ \u7684\u505a\u6cd5\u3002\n\n\u8003\u8651\u4f18\u5316\uff0c\u663e\u7136\u6298\u534a\uff0c\u56e0\u4e3a\u4e22\u4e00\u534a\u7684\u6570\u540e\u7684\u72b6\u6001\u53ea\u6709\u5360\u4e24\u884c\u7684\u4e2a\u6570\u548c\u4e24\u884c\u5206\u522b\u7684\u548c\u662f\u6709\u7528\u7684\u3002\n\n\u5206\u522b\u8dd1\u524d\u540e\u4e00\u534a\u6570\u5f97\u5230 $2\\times 2^n$ \u4e2a\u72b6\u6001\uff0c\u8003\u8651\u4e24\u4e24\u8fdb\u884c\u5408\u5e76\u3002\n\n\u9996\u5148\u4e24\u884c\u5404\u5360 $n$ \u4e2a\u6570\uff0c\u51d1\u8d77\u6765\u5f97\u4e2a\u6570\u6070\u597d\u76f8\u7b49\uff0c\u8fd9\u4e2a\u9650\u5236\u662f\u597d\u89e3\u51b3\u7684\u3002\n\n\u7136\u540e\u8fd8\u8981\u4f7f\u5f97 $\\max{(a_{1,1}+\\sum a_{2,i},a_{2,n}+\\sum a_{1,i})}$ \u6700\u5c0f\uff0c\u4ee4 $(a,b,t)$ \u8868\u793a\u4e00\u4e2a\u72b6\u6001\u7b2c\u4e00\u90e8\u5206\u548c\u4e3a $a$\uff0c\u7b2c\u4e8c\u90e8\u5206\u548c\u4e3a $b$\uff0c\u5360\u7b2c\u4e00\u884c\u4e2a\u6570\u4e3a $t$ \u7684\u72b6\u6001\u3002\n\n\u5f62\u5f0f\u5316\u4e00\u70b9\u8868\u8ff0\u6211\u4eec\u8981\u5408\u5e76\u7684\u662f $(a_1,b_1,t)\\leftrightarrow (a_2,b_2,n-t)$\uff0c\u8d21\u732e\u4e3a $\\max{(a_1+a_2,b_1+b_2)}$\u3002\n\n\u56fa\u5b9a\u4e00\u8fb9\uff0c\u5bf9\u4e8e\u53e6\u4e00\u8fb9\u7684 $(a_2,b_2,n-t)$ \u8003\u8651\uff0c\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u53bb\u6389\u65e0\u7528\u51b3\u7b56\uff0c\u505a\u6210\u4e00\u4e2a $a$ \u5355\u589e\u65f6 $b$ \u5355\u51cf\u7684\u6700\u4f18\u8f6c\u79fb\u51b3\u7b56\u3002\n\n\u663e\u7136\u6700\u4f18\u51b3\u7b56\u53ea\u4e0e $a_1-b_1$ \u7684\u5dee\u91cf\u6709\u5173\uff0c\u5728 $b_2-a_2$ \u5bf9\u5e94\u7684\u51b3\u7b56\u6ce2\u52a8 $\\pm1$ \u80af\u5b9a\u80fd\u53d6\u5230\u6700\u4f18\u3002\n\n\u8003\u8651\u5feb\u901f\u505a\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u6211\u4eec\u63d0\u524d\u5bf9\u503c\u57df\u8fdb\u884c\u9884\u5904\u7406\uff0c\u63d0\u524d\u5904\u7406\u51fa\u4e00\u4e2a\u5dee\u91cf $d$ \u4e8c\u5206\u53d6\u5230\u7684 $(a_2,b_2)$ \u51b3\u7b56\u662f\u54ea\u4e2a\uff0c\u76f4\u63a5 $O(1)$ \u53d6\u5373\u53ef\u3002\n\n\u590d\u6742\u5ea6\u662f $O(2^n+nW)$ \u7684\uff0c\u5176\u4e2d $W=n\\times V$ \u662f $n$ \u4e2a\u6570\u6c42\u548c\u8d77\u6765\u7684\u503c\u57df\u8303\u56f4\uff0c$V$ \u662f\u503c\u57df $\\le5\\times 10^4$\u3002\n\n\u8fd9\u91cc\u7684 $2^n$ \u662f\u597d\u7406\u89e3\u7684\uff0c\u800c $nW$ \u662f\u56e0\u4e3a\u6211\u4eec\u8fd8\u6709\u4e00\u7ef4 $t$ \u8868\u793a\u72b6\u6001\u5728\u7b2c\u4e00\u884c\u5360\u7684\u4e2a\u6570\uff0c\u5bf9\u4e8e\u6bcf\u79cd $t$ \u6211\u4eec\u8981\u5bf9\u5176\u503c\u57df\u90fd\u8fdb\u884c\u9884\u5904\u7406\u4ee5\u907f\u5f00 $2^n$ \u7684\u4e8c\u5206\u3002\n\n\u62ff\u51fa\u8ba1\u7b97\u5668\u7b97\u4e00\u4e0b\u53d1\u73b0\u4e0a\u9762\u4e24\u4e2a\u4e1c\u897f\u90fd\u662f $3\\times 10^7$ \u7ea7\u522b\u7684\uff0c\u76f8\u8f83\u4e8e\u6bd4\u80cc\u5305\u81ea\u7136\u8bb8\u591a\u3002\n\n\u5b9e\u73b0\u8fc7\u7a0b\u9700\u8981\u7cbe\u7ec6\uff0c\u9700\u8981\u907f\u5f00\uff0c\u540c\u65f6\u4e5f\u662f\u96be\u4ee5\u5b9e\u73b0\u7684\u6709\u4e24\u4e2a\u90e8\u5206\uff1a\n\n- \u679a\u4e3e $2^n$ \u7684\u72b6\u6001\u540e\u9700\u8981\u518d\u82b1 $n$ \u7684\u65f6\u95f4\u904d\u5386\u53d6\u51fa $(a,b,t)$\uff0c$n\\times 2^n$\uff0c\u53ef\u4ee5\u901a\u8fc7 `dfs` \u6216\u72b6\u6001\u7ee7\u627f\u7684\u529e\u6cd5\u907f\u514d\u3002\n\n  \u6211\u91c7\u7528\u7684\u662f\u72b6\u6001\u7ee7\u627f\uff0c\u5c31\u6d89\u53ca\u5230\u4e86\u591a\u5f00\u6570\u7ec4\u7684\u95ee\u9898\uff0c\u91c7\u7528\u9012\u5f52\u5e94\u8be5\u53ef\u4ee5\u907f\u514d\uff0c\u4f46\u5b9e\u9645\u4e0a\u662f\u6808\u7a7a\u95f4\u4e0d\u5728\u8003\u8651\u8303\u56f4\u5185\u7684\u7ed3\u679c\u3002\n- \u5408\u5e76 $2^n$ \u72b6\u6001\u65f6\u91c7\u53d6\u4e8c\u5206\u627e\u6700\u4f18\u51b3\u7b56\uff0c$2^n\\times \\log$\uff0c\u503c\u57df\u9884\u5904\u7406\u4e3b\u8981\u89e3\u51b3\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\n\n\u5b9e\u6d4b $n\\times 2^n/2^n\\times \\log$ \u5927\u6982\u7b49\u4ef7\u4e8e $2^n$ \u591a\u4e00\u500d\u7684\u5e38\u6570\uff0c\u6211\u5728\u6709\u4e00\u534a\u505a\u5230 $2^n$ \u5c31\u53ef\u4ee5\u5728 ![](https://cdn.luogu.com.cn/upload/image_hosting/i4xcx9zd.png)\u7684\u65f6\u95f4\u5185\u901a\u8fc7\u3002\uff08\u53e6\u4e00\u534a\u662f $n\\times 2^n$\uff09\n\n\u6211\u5168\u505a\u5230 $2^n$ \u8fd8\u5feb\u4e86\u4e00\u500d\uff0c\u6ce8\u610f\u7a7a\u95f4\u6709\u70b9\u5361\uff0c\u6211\u5229\u7528\u503c\u57df\u662f $2^{21}$ \u8303\u56f4\u7684\u5c06 6 \u4e2a `int` \u5361\u6210\u4e86 2 \u4e2a `LL` \u5bfc\u81f4\u5e38\u6570\u5927\u4e86\u8bb8\u591a\u591a\u591a\u591a\u591a\u591a\uff0c\u4f46\u603b\u5f52\u662f\u5361\u8fdb\u53bb\u4e86\u3002\n\n\u4ee3\u7801\u98ce\u683c\u6df7\u4e71\u90aa\u6076\uff0c\u6709\u9700\u8981\u7684\u81ea\u5df1\u4e0a CF \u7ffb\u4e00\u4e0b\u5427\uff08\n\n\u9644\uff1a\u786e\u5b9e\u6709\u66f4\u7b80\u5355\u7684 MIM \u505a\u6cd5\uff0c\u601d\u8def\u662f\u4e00\u6837\u7684\uff0c\u5c31\u662f\u5728\u6211\u907f\u5f00\u7684\u5730\u65b9\u8fdb\u884c\u5361\u5e38\u3002\n\n\u800c\u4e14\u5361\u5e38\u80fd\u8fc7\u53bb\uff08CF \u795e\u673a\uff09\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u63d0\u4f9b\u7ed9\u4e0d\u60f3\u5361\u5e38\u800c\u60f3\u4f7f\u7528\u590d\u6742\u5ea6\u4f18\u52bf\u78be\u8fc7\u53bb\u7684\u4eba\uff0c\u4e8e\u662f\u53ea\u597d\u5361\u5b9e\u73b0\u4e86\u3002",
        "postTime": 1648480249,
        "uid": 158948,
        "name": "\u7ea6\u745f\u592b\u7528\u8111\u73a9",
        "ccfLevel": 0,
        "title": "CF1239E Turtle"
    },
    {
        "content": "## [\u9898\u610f](https://blog.csdn.net/BeNoble_/article/details/102678628)\n\n\u7ed9\u4f60\u4e00\u4e2a$2\\times n$\u7684\u68cb\u76d8\uff0c\u7ecf\u8fc7\u683c\u5b50$(i,j)$\u5c31\u4f1a\u83b7\u5f97\u6743\u503c$a_{i,j}$\n\n\u91cd\u65b0\u6392\u5217\u6574\u4e2a\u68cb\u76d8\uff0c\u4f7f\u5f97\u4ece\u5de6\u4e0a\u89d2\u8d70\u5230\u53f3\u4e0b\u89d2\u7684\u8def\u5f84\u6743\u503c\u548c\u7684**\u6700\u5927\u503c\u6700\u5c0f**\uff08\u53ea\u80fd\u5411\u4e0b\u6216\u8005\u5411\u53f3\u8d70\uff09\n\n$2\\le n\\le25,0\\le a_{i,j}\\le5\\times10^4(1\\le i\\le2,1\\le j\\le n)$\n\n---\n\n## \u9898\u89e3\n\u8003\u8651\u4ea4\u6362\u540c\u4e00\u884c\u4e24\u4e2a\u6570\u7684\u4f4d\u7f6e\u5bf9\u6700\u5927\u503c\u7684\u5f71\u54cd\n![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/20191023132346614.png)\n\u53d8\u6210\n![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/20191023132355232.png)\n\u90a3\u4e48\u6709\u7684\u8def\u5f84\u6743\u503c\u548c\u4e0d\u4f1a\u6539\u53d8\uff0c\u6709\u7684\u8def\u5f84\u53d6\u503c\u548c\u4f1a\u51cf\u5c0f\uff0c\u8fd9\u6837\u8def\u5f84\u6700\u5927\u503c\u5c31\u6709\u53ef\u80fd\u51cf\u5c0f\n\n\u6240\u4ee5\u7b2c\u4e00\u884c\u5347\u5e8f\u6392\u5e8f\u66f4\u4f18\uff0c\u540c\u7406\u53ef\u5f97\u7b2c\u4e8c\u884c\u964d\u5e8f\u6392\u5217\u66f4\u4f18\n\n\u8003\u8651\u5bf9\u4e8e\u4e00\u79cd\u5df2\u7ecf\u6392\u597d\u5e8f\u7684\u68cb\u76d8\u7b54\u6848\u591a\u5c11\n\n\u8003\u8651\u4e24\u4e2a\u76f8\u90bb\u8def\u5f84\u7684\u6743\u503c\u548c\u7684\u5dee\u5f02\n\n|$x_1$| ... |$x_i$|$x_{i+1}$|...|$x_n$|\n|--|--|--|--|--|--|\n|$y_1$| ... |$y_i$|$y_{i+1}$|...|$y_n$|\n\n\u5bf9\u4e8e\u8def\u5f84$x_1\\rightarrow...\\rightarrow x_i\\rightarrow y_i\\rightarrow...\\rightarrow y_n$\u548c\u8def\u5f84$x_1\\rightarrow...\\rightarrow x_i\\rightarrow x_{i+1}\\rightarrow y_{i+1}\\rightarrow...\\rightarrow y_n$\n\n\u4ed6\u4eec\u7684\u6743\u503c\u5dee\u7684\u7edd\u5bf9\u503c\u5c31\u662f$\\Delta_i=|x_{i+1}-y_i|$\uff0c\u7531\u4e8e$x$\u9012\u589e\uff0c$y$\u9012\u51cf\n\n\u6240\u4ee5$\\Delta_i$\u7684\u51fd\u6570\u56fe\u50cf\u5c31\u957f\u8fd9\u6837![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jb2RlZm9yY2VzLmNvbS9wcmVkb3dubG9hZGVkLzk4L2RiLzk4ZGI3MTVhMmRkNmQyYTgwOTNhYjcwNTk4MzBkZmIwYjIxMWQ4ODAucG5n?x-oss-process=image/format,png)\n\n\u6240\u4ee5\u6700\u5927\u503c\u5c31\u4e00\u5b9a\u4f1a\u5728\u4e24\u8fb9\u53d6\u5230\uff0c\u5373\u6700\u5927\u503c\u4e3a$\\max(\\sum_{i=1}^nx_i+y_n,x_1+\\sum_{i=1}^ny_i)=x_1+y_n+\\max(\\sum_{i=2}^nx_i,\\sum_{i=1}^{n-1}y_i)$\n\n\u628a\u6700\u5c0f\u7684\u4e24\u4e2a\u6570\u62ff\u8d70\uff0c\u95ee\u9898\u5c31\u8f6c\u5316\u6210\u4e86\uff1a\u7ed9\u4f60\u4e00\u4e2a\u6709$m$\u4e2a\u6570\u7684\u5e8f\u5217$a$\uff0c\u5c06\u5176\u5206\u6210\u4e24\u4e2a\u7b49\u5927\u7684\u96c6\u5408$A,B$\uff0c\u6700\u5c0f\u5316$\\max(\\sum A,\\sum B)$\n\n\u8fd9\u4e2a\u95ee\u9898\u5b9e\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a\u80cc\u5305\u95ee\u9898\n\n\u5148\u628a$a$\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u8bbe$Sum=\\sum a$\n\n\u8bbe$f[i][j][k]$\u8868\u793a\u524d$i$\u4e2a\u6570\u4e2d\u653e$j$\u4e2a\u6570\u5728\u96c6\u5408$A$\u4e2d\uff0c\u4e14$\\sum A=k$\u7684\u60c5\u51b5\u662f\u5426\u5b58\u5728\n\n\u90a3\u4e48$f[i][j][k]=f[i-1][j][k]|f[i-1][j-1][k-a_i]$\n\n\u90a3\u4e48$Ans=\\min\\{\\max(k,Sum-k)\\}$\uff0c\u53ef\u89c1$Ans$\u8d8a\u9760\u8fd1$\\frac{Sum}2$\u8d8a\u5c0f\n\n\u7136\u540e\u6839\u636e$Ans$\u5bfb\u627e\u8f6c\u79fb\u8def\u5f84\u8f93\u51fa\u7b54\u6848\u5373\u53ef\n\n\u4e00\u4e2a\u5c0f\u4f18\u5316\u662f$f$\u7684\u8f6c\u79fb\u53ef\u4ee5\u7528$C++$\u7684$bitset$\u5b9e\u73b0\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O(\\frac1{64}n^2\\sum a)$",
        "postTime": 1571808106,
        "uid": 20156,
        "name": "Kelin",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1239E"
    },
    {
        "content": "### \u9898\u610f\n\n\u4e00\u53ea\u4e4c\u9f9f\u4ece $2 \\times n$ \u7684\u68cb\u76d8\u7684\u5de6\u4e0a\u89d2\u8d70\u5230\u53f3\u4e0b\u89d2\uff0c\u53ea\u80fd\u5f80\u4e0b\u6216\u5f80\u53f3\uff0c\u9700\u8981\u7ed9\u51fa\u4e00\u79cd\u65b9\u6848\u6765\u5206\u914d $2\\times n$ \u4e2a\u6570\u5b57\u4f7f\u5f97\u4e4c\u9f9f\u8d70\u8fc7\u7684\u8def\u5f84\u4e0a\u7684\u6570\u4e4b\u548c\u7684\u6700\u5927\u503c\u6700\u5c0f\u3002\n\n$2\\le n\\le 25$\uff0c$0\\le a_{1,i},a_{2,i}\\le 50000$\u3002\n\n### \u627e\u6027\u8d28\n\n\u9996\u5148\u4e4c\u9f9f\u7684\u8def\u7ebf\u4e00\u5b9a\u662f\u4ece $(1,1)$ \u8d70\u5230 $(1,x)$\uff0c\u63a5\u7740\u5f80\u4e0b\u8d70\u5230 $(2,x)$\uff0c\u7136\u540e\u5411\u53f3\u8d70\u5230 $(2,n)$\u3002\u5176\u4e2d $x$ \u6ee1\u8db3 $1\\le x\\le n$\u3002\n\n\u6027\u8d28 $1$\uff1a**\u7b2c\u4e00\u884c\u7684\u6570\u5355\u8c03\u4e0d\u964d\uff0c\u7b2c\u4e8c\u884c\u7684\u6570\u5355\u8c03\u4e0d\u5347**\u3002\n\n\u8bc1\u660e\uff1a\u5047\u8bbe\u7b2c\u4e00\u884c\u5b58\u5728 $i,j$ \u6ee1\u8db3 $i<j$\uff0c$a_{1,i}>a_{1,j}$\uff0c\u90a3\u4e48\u4ea4\u6362\u8fd9\u4e24\u4e2a\u4f4d\u7f6e\u3002\u5bb9\u6613\u53d1\u73b0\u5f53 $x$ \u5728 $[i,j)$ \u8fd9\u6bb5\u533a\u95f4\u65f6\uff0c\u7b54\u6848\u53d8\u5c0f\u4e86\u3002\u5426\u5219\u4e0d\u53d8\u3002\u56e0\u6b64\u4e00\u5b9a\u66f4\u4f18\u3002\u7b2c\u4e8c\u884c\u540c\u7406\u3002\n\n\u6027\u8d28 $2$\uff1a**\u7b2c\u4e00\u5c0f\u7684\u548c\u7b2c\u4e8c\u5c0f\u7684\u6570\u5728 $(1,1)$ \u548c $(2,n)$**\u3002\n\n\u8bc1\u660e\uff1a\u6839\u636e\u6027\u8d28 $1$\uff0c\u7b2c\u4e00\u6392 $(1,1)$ \u6700\u5c0f\uff0c\u7b2c\u4e8c\u6392 $(2,n)$ \u6700\u5c0f\u3002\u56e0\u6b64\u6700\u5c0f\u7684\u4e00\u5b9a\u5728 $(1,1)$ \u6216 $(2,n)$\u3002\u7531\u4e8e\u4e2d\u5fc3\u5bf9\u79f0\uff0c\u4e0d\u59a8\u5728 $(1,1)$\u3002\u7b2c\u4e8c\u5c0f\u53ea\u80fd\u5728 $(1,2)$ \u6216 $(2,n)$\u3002\u5bb9\u6613\u53d1\u73b0 $x=1$ \u65f6\u5728 $(2,n)$ \u66f4\u4f18\uff0c$x>1$ \u65f6\u4e24\u8005\u7b49\u4ef7\u3002\u56e0\u6b64\u7b2c\u4e8c\u5c0f\u7684\u6570\u5728 $(2,n)$\u3002\n\n\u6027\u8d28 $3$\uff1a**$x=1$ \u6216 $x=n$\uff0c\u5373\u4e4c\u9f9f\u53ea\u4f1a\u5728 $(1,1)$ \u6216 $(1,n)$ \u5f80\u4e0b\u8d70\u6700\u4f18**\u3002\n\n\u8bc1\u660e\uff1a\u5047\u8bbe $1<x<n$\uff0c\u53ef\u77e5\u5728 $x$ \u5f80\u4e0b\u8d70\u7684\u5f97\u5206\u5927\u4e8e $x-1$ \u548c $x+1$\u3002\u56e0\u6b64\uff1a$a_{1,x}>a_{2,x-1}$\uff0c$a_{1,x+1}<a_{2,x}$\u3002\u63a8\u5bfc\u4e00\u4e0b\uff1a$a_{1,x}>a_{2,x-1}\\ge a_{2,x}>a_{1,x+1}$\uff0c\u6240\u4ee5 $a_{1,x}>a_{1,x+1}$\uff0c\u4e0d\u7b26\u5408\u6027\u8d28 $1$\u3002\u56e0\u6b64 $x=1$ \u6216 $x=n$\u3002\n\n### \u7136\u540e\u2026\n\n\u9996\u5148\u586b\u5165 $(1,1)$ \u548c $(2,n)$\u3002\u5269\u4e0b\u7684 $2\\times n-2$ \u4e2a\u6570\u5206\u6210\u4e24\u7ec4 $n-1$ \u4e2a\u6570\uff0c\u8981\u6c42\u6700\u5927\u503c\u6700\u5c0f\uff0c\u4e5f\u5c31\u662f\u5dee\u6700\u5c0f\u3002\u4e8e\u662f\u66b4\u529b\u8dd1\u80cc\u5305\u52a0\u4e0a bitset \u4f18\u5316\u3002\u590d\u6742\u5ea6 $O(\\frac{n^2\\times \\sum a}{w})$\u3002\n\n### \u4ee3\u7801\n\n\u5982\u679c\u4e0d\u8f93\u51fa\u65b9\u6848\u7684\u8bdd\uff0c\u5927\u6982\u957f\u8fd9\u6837\u2026\n\n```cpp\nint main()\n{\n\tn=read();\n\tfor (int i=1;i<=2*n;i++) a[i]=read();\n\tsort(a+1,a+n*2+1);\n\tdp[0][0]=1;\n\tfor (int i=3;i<=2*n;i++)\n\t{\n\t\tint u=min(i-2,n-1);\n\t\ts+=a[i];\n\t\tfor (int j=u;j>=1;j--)\n\t\t{\n\t\t\tdp[j]|=(dp[j-1]<<a[i]);\n\t\t}\n\t}\n\tint ans=1e9;\n\tfor (int i=0;i<=s;i++)\n\t{\n\t\tif (dp[n-1][i]) ans=min(ans,max(i,s-i));\n\t}\n\tcout << a[1]+a[2]+ans << endl;\n\treturn 0;\n}\n```\n\n\u7136\u540e\u60ca\u5947\u5730\u53d1\u73b0\u8f93\u51fa\u65b9\u6848\u4e0d\u662f\u5f88\u597d\u5f04\u3002\u4e8e\u662f\u6211\u4eec\u628a\u80cc\u5305\u7684\u6eda\u52a8\u6570\u7ec4\u8fd8\u539f\uff0c\u589e\u52a0\u539f\u6765\u7684\u7b2c\u4e00\u7ef4\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u8f93\u51fa\u65b9\u6848\u4e86\uff01\n\n```cpp\n//\u6ce8\u610f\uff1aread\u3001\u8f93\u51fa\u65b9\u6848\u90e8\u5206\u5df2\u7701\u7565\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N=26,M=50005;\nint n; \nint a[N*2],s,p[N];\nbitset<M*N*2>dp[2*N][N];\nbool used[2*N];\nint main()\n{\n\tn=read();\n\tfor (int i=1;i<=2*n;i++) a[i]=read()+1;\n\tsort(a+1,a+n*2+1);\n\tdp[2][0][0]=1;\n\tfor (int i=3;i<=2*n;i++)\n\t{\n\t\tint u=min(i-2,n-1);\n\t\ts+=a[i];\n\t\tfor (int j=u;j>=1;j--)\n\t\t{\n\t\t\tdp[i][j]=dp[i-1][j]|(dp[i-1][j-1]<<a[i]);\n\t\t}\n\t\tdp[i][0]=dp[i-1][0];\n\t}\n\tint ans=1e9;\n\tfor (int i=0;i<=s;i++)\n\t{\n\t\tif (dp[2*n][n-1][i]) ans=min(ans,max(i,s-i));\n\t}\n\tint tot=2*n,u=n-1;\n\twhile (ans)\n\t{\n\t\tif (dp[tot-1][u][ans]) tot--;\n\t\telse used[tot]=1,ans-=a[tot],tot--,u--;\n\t}\n\t//used=0\u7684\u662f\u4e00\u7ec4\uff0cused=1\u7684\u662f\u53e6\u4e00\u7ec4\n\t//\u4e0d\u8981\u5fd8\u4e86a[1]\u548ca[2]\n\treturn 0;\n}\n\n```\n\n\u8fd9\u4e2a\u505a\u6cd5\u6bd4\u4e0d\u7528 bitset \u7684 $O(n^2\\times\\sum a)$ \u5feb\u591a\u4e86\u3002",
        "postTime": 1633352899,
        "uid": 151475,
        "name": "Little09",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1239E Turtle"
    },
    {
        "content": "\u9898\u610f\uff1a\n\n\u7ed9\u4e00 $2\\times n$ \u7684\u7f51\u683c\uff0c\u683c\u5b50\u5e26\u6743\u3002\n\n\u4e00\u4e2a PinkRabbit \u9700\u4ece $(1,1)$ \u8d70\u5230 $(2,n)$ \u4e14\u4f7f\u8def\u5f84\u4e0a\u6743\u503c\u4e4b\u548c\u6700\u5927\u5316\u3002\n\n\u4f60\u9700\u8981\u91cd\u65b0\u5206\u914d\u683c\u5b50\u7684\u6743\u503c\u4f7f\u5f97 PinkRabbit \u6700\u5927\u5316\u7684\u6743\u503c\u4e4b\u548c\u6700\u5c0f\u3002\n\n\u9898\u89e3\uff1a\n\n\u8bb0 $(i,j)$ \u7684\u6743\u503c\u4e3a $w_{i,j}$.\n\n\u53d1\u73b0\u53ea\u4f1a\u5411\u4e0b\u8d70\u4e00\u6b21\uff0c\u8bb0\u5f80\u4e0b\u8d70\u7684\u683c\u5b50\u4e3a $x$\uff0c\u6b64\u65f6\u7684\u6743\u503c\u4e3a $t(x)$.\n\n\u6027\u8d28 $1$\uff1aPinkRabbit \u8d70\u7684\u8def\u5f84\u4e3a\u7b2c $1$ \u884c\u7684\u524d\u7f00\u548c\u52a0\u4e0a\u7b2c\u4e8c\u884c\u7684\u540e\u7f00\u548c\u3002\n\n\u82e5\u7b2c\u4e00\u884c\u4e2d\u5b58\u5728\u9006\u5e8f\u5bf9 $(i,j)$\uff0c\u5219\u4ea4\u6362\u540e\u4f1a\u4f7f\u5f97 $i$ \u81f3 $j$ \u4e2d\u7684\u524d\u7f00\u548c\u66f4\u5c0f\uff0c\u6240\u4ee5\u6709\u7b2c\u4e00\u884c\u4e0d\u51cf\u8f83\u4f18\u3002\n\n\u540c\u7406\u7b2c\u4e8c\u884c\u4e0d\u5347\u8f83\u4f18\u3002\n\n\u6027\u8d28 $2$\uff1aPinkRabbit \u53ea\u53ef\u80fd\u5728 $1$ \u6216 $n$ \u5f80\u4e0b\u8d70\u3002\n\n\u8003\u8651 $x\\not= 1$ \u4e14 $x\\not= n$.\n\n\u82e5 $t(x)>\\min(t(x-1),t(x+1))$\uff0c\u5219 $w_{2_,x}>w_{1,x+1}>w_{1,x}>w_{2,x-1}$ \u800c $w_{2_,x}\\leq w_{2,x-1}$.\n\n\u77db\u76fe\u3002\n\n\u5219\u6211\u4eec\u5148\u628a\u6700\u5c0f\u7684\u4e24\u4e2a\u9009\u7ed9 $w_{1,1},w_{2,n}$.\n\n\u7136\u540e\u5269\u4e0b\u7684\u5c3d\u91cf\u5747\u8861\uff0c\u4e8e\u662f\u6211\u4eec\u5c31\u662f\u5728 $2\\times n$ \u4e2a\u6570\u4e2d\u9009 $n$ \u4e2a\u51fa\u6765\u5e76\u4e14\u603b\u548c $\\leq \\dfrac{n}{2}$ \u7684\u6700\u5927\u503c\u3002\n\n\u4e8e\u662f\u5c31\u53ef\u4ee5\u76f4\u63a5\u80cc\u5305\u4e86\u3002\n\n[\u9898\u7801](https://www.luogu.com.cn/paste/py2owoil)\n\n\n\n",
        "postTime": 1626530592,
        "uid": 359952,
        "name": "_lbw_",
        "ccfLevel": 6,
        "title": "[PinkRabbit \u8bb0\u5f55]CF1239E"
    },
    {
        "content": "### P.S.\n~~\u5fc5\u987b\u662f\u6076\u8bc4\uff0c\u4e0d\u7136xtw\u80af\u5b9a\u4e0d\u53ef\u80fd\u4f1a\u505a\u3002~~  \n\u770b\u5230\u4e86\u8fd9\u573a\u7684 F\uff0c\u53d1\u73b0\u4e0d\u4f1a\uff0c\u5f80\u524d\u770b\uff0c\u53d1\u73b0 E \u770b\u4e0a\u53bb\u5f88\u53ef\u505a\uff0c\u5c31\u505a\u4e86\u3002  \n\n### Problem.\n\u6709\u4e00\u4e2a $2\\times n$ \u7684\u7f51\u683c\u4ee5\u53ca $n\\times2$ \u4e2a\u7ed9\u5b9a\u7684\u6570\u3002  \n\u5b9a\u4e49\u4e00\u4e2a\u6446\u653e\u65b9\u6848\u7684\u6743\u503c\u662f\u4ece\u5de6\u4e0a\u5230\u53f3\u4e0b\u4efb\u610f\u957f\u5ea6\u4e3a $n+1$ \u7684\u8def\u5f84\u4e0a\u70b9\u6743\u548c\u6700\u5927\u503c\u3002  \n\u4f60\u9700\u8981\u8f93\u51fa\u6743\u503c\u6700\u5c0f\u7684\u6446\u653e\u65b9\u6848\u3002  \n\n### Solution.\n~~\u6211\u4eec\u638f\u51fa\u4e00\u4e2a\u7ed3\u8bba~~\uff0c\u6700\u4f18\u65b9\u6848\u4e2d\u7b2c\u4e00\u884c\u5355\u8c03\u9012\u589e\uff0c\u7b2c\u4e8c\u884c\u5355\u8c03\u9012\u51cf\u3002  \n\u8bc1\u660e\uff1a~~\u663e\u7136~~\uff0c\u9996\u5148\uff0c\u5982\u679c\u7b2c\u4e00\u884c\u4e2d\u5b58\u5728 $i\\le j\\land a_i\\ge a_j$\uff0c\u90a3\u4ea4\u6362 $a_i,a_j$ \u4e4b\u540e\u6709\u4e9b\u8def\u5f84\u957f\u5ea6\u4e0d\u53d8\uff0c\u6709\u4e9b\u8def\u5f84\u957f\u5ea6\u51cf\u5c11\uff0c\u6700\u5927\u503c\u4e0d\u589e\u3002  \n\u800c\u7b2c\u4e8c\u884c\u8bc1\u660e\u7c7b\u4f3c\u3002  \n\n\u9996\u5148\uff0c\u7f51\u683c\u9ad8\u4e3a $2$ \u6240\u4ee5\u4e2d\u95f4\u4ec5\u6709\u4e00\u4e2a\u4e0b\u884c\u70b9\uff08\u4ece\u7b2c\u4e00\u884c\u5230\u7b2c\u4e8c\u884c\u7684\u90a3\u4e00\u5217\u3002  \n\u6211\u4eec\u8003\u8651\u8fd9\u4e2a\u70b9\u53f3\u79fb\u65f6\u53d1\u751f\u4e86\u4ec0\u4e48\uff0c\u8def\u5f84\u70b9\u6743\u548c\u51cf\u5c11\u4e86\u7b2c\u4e8c\u884c\u7684\u4e00\u4e2a\u6570\u52a0\u4e0a\u4e86\u7b2c\u4e00\u884c\u7684\u4e00\u4e2a\u6570\u3002  \n\u6240\u4ee5\u6bcf\u6b21\u52a0\u4e0a\u7684\u6570\u5355\u8c03\u9012\u589e\uff0c\u6240\u4ee5\u8fd9\u4e2a\u51fd\u6570\u662f\u4e0b\u51f8\u7684\u3002  \n\u6240\u4ee5\u8fd9\u4e2a\u51fd\u6570\u7684\u6781\u503c\u4f1a\u5728\u6700\u5de6\u7aef\u70b9\u6216\u6700\u53f3\u7aef\u70b9\u53d6\u5230\u3002  \n\n\u8d77\u70b9\u548c\u7ec8\u70b9\u80af\u5b9a\u9700\u8981\u53d6\u524d\u4e8c\u5c0f\uff0c\u628a\u8fd9\u4e24\u4e2a\u6570\u53bb\u6389\u4e4b\u540e\u9898\u610f\u8f6c\u5316\u5982\u4e0b\uff1a  \n\u7ed9\u5b9a\u4e00\u4e2a\u6570\u96c6\u5408\uff0c\u9700\u8981\u628a\u5b83\u5206\u6210\u4e24\u4e2a\u7b49\u5927\u96c6\u5408\uff0c\u6c42 $\\max\\{S_a,S_b\\}$ \u7684\u6700\u5c0f\u503c\u3002  \n\u8fd9\u4e2a\u4e1c\u897f\u76f4\u63a5\u503c\u57df\u80cc\u5305\u5c31\u597d\u4e86\u3002  \n\n\u6ce8\u610f\u70b91\uff1a\u80cc\u5305\u5fc5\u987b\u964d\u7ef4\uff0c\u4e0d\u7136 MLE\u3002  \n\u6ce8\u610f\u70b92\uff1a\u6211\u4eec\u53ea\u9700\u8981\u53d6 $n-1$ \u4e2a\u6570\uff0c\u6211\u4eec\u7b2c\u4e8c\u7ef4\u53ea\u9700\u8981\u679a\u4e3e\u5230 $O(n-1)$\u3002  \n\u6ce8\u610f\u70b93\uff1a\u56e0\u4e3a\u8fd9\u4e2a $a_i\\ge0$ \u6240\u4ee5\u6211\u4eec\u521a\u5f00\u59cb\u5bf9\u6240\u6709 $a_i$ \u52a0\u4e00\u66f4\u5bb9\u6613\u5904\u7406\u3002  \n\n### Coding.\n\u4ee3\u7801\u6781\u77ed\u3002  \n```cpp\n//\u662f\u554a\u2026\u2026\u4f60\u5c31\u662f\u90a3\u53ea\u9b3c\u4e86\u2026\u2026\u6240\u4ee5\u88ab\u4f60\u78b0\u5230\u4ee5\u540e\uff0c\u5c31\u8f6e\u5230\u6211\u53d8\u6210\u9b3c\u4e86{{{\n#include<bits/stdc++.h>\nusing namespace std;typedef long long ll;\ntemplate<typename T>inline void read(T &x)\n{\n\tx=0;char c=getchar(),f=0;\n\tfor(;c<'0'||c>'9';c=getchar()) if(c=='-') f=1;\n\tfor(;c>='0'&&c<='9';c=getchar()) x=(x<<1)+(x<<3)+(c^48);\n\tif(f) x=-x;\n}/*}}}*/\nint n,a[55],dp[26][2500055];char us[55];\nint main()\n{\n\tread(n);for(int i=1;i<=n*2;i++) read(a[i]),a[i]++;\n\tsort(a+1,a+n*2+1),memset(dp,-1,sizeof(dp)),dp[0][0]=1;\n\tint sm=0;for(int i=3;i<=n*2;i++) sm+=a[i];\n\tfor(int i=3;i<=n*2;i++) for(int j=sm;j>=a[i];j--) for(int k=min(i-2,n-1);k;k--) if(~dp[k-1][j-a[i]]&&!~dp[k][j]) dp[k][j]=i;\n\tint mx=1e9;for(int i=0;i<=sm;i++) if(~dp[n-1][i]) mx=min(max(i,sm-i),mx);\n\tfor(int k=n-1;k;k--) {int wh=dp[k][mx];us[wh]=1,mx-=a[wh];}\n\tprintf(\"%d \",a[1]-1);for(int i=3;i<=n*2;i++) if(us[i]) printf(\"%d \",a[i]-1);\n\tputchar('\\n');for(int i=n*2;i>=3;i--) if(!us[i]) printf(\"%d \",a[i]-1);\n\treturn printf(\"%d\\n\",a[2]-1),0;\n}\n```",
        "postTime": 1617604573,
        "uid": 44805,
        "name": "Leap_Frog",
        "ccfLevel": 7,
        "title": "CF1239E Turtle\uff08\u9898\u89e3\uff09"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1239E)\n\n**\u9898\u76ee\u5927\u610f\uff1a** \u7ed9\u5b9a\u4e00\u4e2a $2 \\times n$ \u7684\u975e\u8d1f\u6574\u6570\u77e9\u9635 $a$\uff0c\u8bd5\u6c42\u4e00\u4e2a\u91cd\u6392\u77e9\u9635\u7684\u65b9\u6848\uff0c\u4f7f\u5f97**\u4ece\u77e9\u9635\u5de6\u4e0a\u89d2\u5f80\u53f3\u4e0b\u89d2\u8d70\u7684\u8def\u5f84\u7684\u6700\u5927\u503c\u6700\u5c0f**\u3002\n\n### Solution\n\n\u63d0\u4f9b\u4e00\u4e2a\u65e0\u8111\u7684\u6a21\u62df\u9000\u706b\u7684\u505a\u6cd5\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u6bd4\u8f83\u52a3\uff0c\u4e14\u56e0\u4e3a\u6570\u636e\u7684\u539f\u56e0\u6bd4\u8f83\u5361\uff0c\u4f46\u662f\u601d\u8def\u76f8\u5bf9\u4e8e\u6b63\u89e3**\u538b\u5012\u6027\u7684\u7b80\u5355**\u3002\n\n\u9996\u5148\uff0c\u4e00\u4e2a\u7b80\u5355\u7684\u60f3\u6cd5\u662f**\u8d77\u70b9\u548c\u7ec8\u70b9\u5fc5\u7136\u5206\u522b\u662f\u6700\u5c0f\u503c\u548c\u6b21\u5c0f\u503c**\uff0c\u56e0\u4e3a\u6240\u6709\u7684\u8def\u5f84\u90fd\u5fc5\u7136\u7ecf\u8fc7\u8d77\u70b9\u548c\u7ec8\u70b9\uff0c\u8bc1\u660e\u6bd4\u8f83\u663e\u7136\uff0c\u6b64\u65f6\u9000\u706b\u53ef\u4ee5\u76f4\u63a5\u526a\u679d\u3002\n\n\u63a5\u4e0b\u6765\u8ba8\u8bba\u521d\u59cb\u72b6\u6001\uff0c\u663e\u7136\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u6309\u8f93\u5165\u987a\u5e8f\u76f4\u63a5\u7b97\u7b54\u6848\u5f00\u59cb\u9000\u706b\uff0c\u5426\u5219\u6700\u591a $2 \\times  24$ \u7684\u72b6\u6001\u6570\u52a0\u4e0a CF \u7684\u6bd2\u7624\u6570\u636e\u80af\u5b9a\u4f1a WA\u3002\u8003\u8651\u5982\u4f55\u91cd\u6392 $a$ \u4f7f\u5f97\u7b54\u6848\u7684\u53d6\u503c\u8f83\u4f18\u3002\n\n\u5982\u679c\u8003\u8651\u6bcf\u4e2a\u8def\u5f84\u7684\u53d6\u503c\uff0c\u6bd4\u8f83\u663e\u7136\u7684\u662f**\u7b2c\u4e00\u884c\u503c\u8d8a\u5927\u7684\u6570\u8d8a\u5f80\u540e\u8d8a\u597d\uff0c\u7b2c\u4e8c\u884c\u8d8a\u5927\u7684\u6570\u8d8a\u5f80\u524d\u8f83\u597d**\u3002\u8bc1\u660e\u4e00\u4e0b\uff0c\u5148\u8003\u8651\u7b2c\u4e00\u884c\uff0c\u8bbe\u7b2c\u4e00\u884c\u5b58\u5728\u4e24\u4e2a\u6570\u6ee1\u8db3 $i < j$ \u4e14 $a_{1,i} > a_{2,j}$\uff0c\u663e\u7136**\u7ecf\u8fc7\u6570 $j$ \u7684\u8def\u5f84\u4e3a\u7ecf\u8fc7\u6570 $i$ \u7684\u8def\u5f84\u96c6\u5408\u7684\u5b50\u96c6**\u3002\u8bbe\u7ecf\u8fc7 $i$ \u8def\u5f84\u96c6\u5408\u4e2d**\u6743\u503c\u6700\u5927**\u7684\u8def\u5f84 $r$ \u7684\u6743\u503c\u4e3a $k$\u3002\u82e5\u4ea4\u6362 $i,j$\uff0c\u5206\u4e24\u79cd\u60c5\u51b5\uff1a\n\n- $r$ \u4e0d\u7ecf\u8fc7 $j$\uff0c\u5219\u56e0\u4e3a $a_{1,i} > a_{2,j}$\uff0c\u6240\u4ee5\u7ed9 $r$ \u7684\u6743\u503c $k$ \u9020\u6210 $a_{1,i} - a_{2,j}$ \u7684\u51cf\u91cf\u3002\u5373 $k \\leftarrow k - a_{1,i} + a_{2,j}$\u3002$k$ \u663e\u7136\u51cf\u5c0f\uff0c\n\n- $r$ \u7ecf\u8fc7 $j$\uff0c\u6b64\u65f6 $r$ \u4f1a\u540c\u65f6\u7ecf\u8fc7 $i,j$\uff0c\u4e5f\u5c31\u4ecd\u7136\u4f1a\u6709 $i,j$ \u7684\u8d21\u732e\u3002\u6839\u636e\u52a0\u6cd5\u4ea4\u6362\u5f8b\uff0c$r$ \u5fc5\u7136\u4e0d\u53d8\u3002\n\n\u6b64\u65f6\uff0c\u6211\u4eec\u53d1\u73b0\u6bcf\u6b21\u6d88\u53bb\u4e00\u4e2a\u9006\u5e8f\u5bf9\u90fd\u4e0d\u4f1a\u8ba9\u7b54\u6848\u53d8\u5927\uff0c\u4e8e\u662f\u53ef\u4ee5\u76f4\u63a5\u5bf9\u7b2c\u4e00\u884c\u5347\u5e8f\u6392\u5e8f\u3002\n\n\u7b2c\u4e8c\u884c\u7684\u60c5\u51b5\u4f9d\u6b64\u7c7b\u63a8\u5373\u53ef\uff0c\u6211\u4eec\u5bf9\u7b2c\u4e8c\u884c\u8fdb\u884c\u964d\u5e8f\u6392\u5e8f\u3002\n\n\u4e8e\u662f\u6bcf\u4e00\u8f6e\u968f\u673a\u51fa\u4e24\u4e2a\u4f4d\u7f6e\u4ea4\u6362\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u8dd1\u9000\u706b\u4e86 **\uff1f**\n\n\u5982\u679c\u8fd9\u4e2a\u65f6\u5019\u4f60\u76f4\u63a5\u628a\u6a21\u62df\u9000\u706b\u4ea4\u4e0a\u53bb\uff0c\u5927\u6982\u7387\u4f1a `Wrong answer on test 47`\u3002\n\n\u89c2\u5bdf\u6570\u636e\uff0c\u5f62\u5982\uff1a\n\n```\n1 2 4...256 512 1024 2048 8192 8192 8192...\n...8192 8192 8192 4096...4096 4096 4096 2\n```\n\n\u8003\u8651\u4ece\u6570\u5b66\u89d2\u5ea6\u89e3\u91ca\u4e00\u4e0b\u3002\n\n\u679a\u4e3e $a_{1,i}$\uff0c\u8bbe\u8def\u5f84 $r_1$ \u548c $r_2$\uff1a\n\n$$\n\\begin{aligned}\n& r_1 = \\{a_{1,1},\\,a_{1,2},\\, \\dots a_{\\textcolor{blue}{1},i} ,\\, a_{\\textcolor{red}{2}, i},\\,a_{2,i + 1},\\,\\dots,\\,a_{2,n - 1},\\,a_{2,n}\\} \\\\\n\n& r_2 = \\{a_{1,1},\\,a_{1,2},\\, \\dots a_{\\textcolor{blue}{1},i + 1} ,\\, a_{\\textcolor{red}{2}, i + 1},\\,a_{2,i + 2},\\,\\dots,\\,a_{2,n - 1},\\,a_{2,n}\\}\n\\end{aligned}\n$$\n\n\u663e\u7136 $r_2$ \u5bf9 $r_1$ \u7684\u8ddd\u79bb\u4e3a $|a_{1,i+1} - a_{2,i}|$\u3002\u7531\u4e8e $a_{1}$ \u5355\u8c03\u4e0d\u51cf\uff0c$a_2$ \u5355\u8c03\u4e0d\u589e\uff0c\u6240\u4ee5\u5f53 $a_{1,i+1} - a_{2,i} \\le 0$ \u65f6\u8def\u5f84\u6743\u503c\u5355\u8c03\u4e0d\u589e\uff0c$a_{1,i+1} - a_{2,i} > 0$ \u65f6\u8def\u5f84\u6743\u503c\u5355\u8c03\u4e0d\u51cf\u3002\n\n\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u4e0a\u51f9\u7684\u4e8c\u6b21\u51fd\u6570\uff0c\u6216\u8005\u8bf4\u5355\u5cf0\u51fd\u6570\u3002\n\n\u4e8e\u662f\u611f\u6027\u7406\u89e3\u4e00\u4e0b\uff0c\u8981\u4f7f\u5f97\u8be5\u5355\u5cf0\u51fd\u6570\u6781\u5c0f\u503c\u70b9\u6700\u5c0f\uff0c\u6211\u4eec\u5e94\u5f53\u5c06\u77e9\u9635\u4e2d\u6700\u5927\u7684 $\\frac{1}{2}$ \u7684\u5143\u7d20\u5206\u522b\u653e\u5728\u77e9\u9635\u7684\u53f3\u4e0a\u89d2\u548c\u5de6\u4e0b\u89d2\u7684\u4f4d\u7f6e\u3002\n\n\u4e8e\u662f\u6211\u4eec\u9000\u706b\u8bbe\u7f6e\u521d\u503c\u65f6\u76f4\u63a5\u8d2a\u5fc3\u7684\u5c06\u6700\u5927\u503c\u653e\u5728\u77e9\u9635\u7684\u53f3\u4e0a\u89d2\u548c\u5de6\u4e0b\u89d2\u5373\u53ef\uff0c\u5177\u4f53\u5b9e\u73b0\u53ef\u4ee5\u770b\u4ee3\u7801\u3002\n\n\u53c2\u8003\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define re register\nusing namespace std;\ntypedef double ld;\nconst ld eps = 1e-10, dw = 0.998;\ntypedef long long int ll;\nconst int maxn = 1e2 + 10;\nint n, a[2][maxn], b[2][maxn];\nint c[2][maxn], ans = 2147483647;\ninline int calc() {\n\tfor (re int i = 1; i <= n; i++)b[0][i] = b[0][i - 1] + a[0][i];\n\tfor (re int i = 1; i <= n; i++) {\n\t\tif (i - 1)b[1][i] = b[1][i - 1];\n\t\tb[1][i] = max(b[1][i - 1] + a[1][i], b[0][i] + a[1][i]);\n\t}\n\treturn b[1][n];\n}\nld temp = 1145;\ninline void SA() {\n\tld T = temp; int pre = calc();\n\twhile (T > eps) {\n\t\tT *= dw;\n\t\tint x = rand() % (2 * n - 2) + 2;\n\t\tint y = rand() % (2 * n - 2) + 2;\n\t\t//\u6ce8\u610f\uff0c\u8fd9\u91cc\u7531\u4e8e\u5e38\u6570\u539f\u56e0\uff0c\u672c\u4eba\u6ca1\u6709\u7ef4\u62a4\u77e9\u9635\u7684\u5355\u8c03\u6027\u3002\u4e8b\u5b9e\u4e0a\u4ec5\u4ec5\u6839\u636e\u521d\u503c\u8bbe\u7f6e\u5df2\u7ecf\u4f7f\u5f97 SA \u7684\u6b63\u786e\u6027\u5f97\u5230\u4e00\u5b9a\u7684\u4fdd\u8bc1\u4e86\u3002\n\t\tint d1 = x > n, d2 = y > n;\n\t\tswap(a[d1][x - d1 * n], a[d2][y - d2 * n]);\n\t\tint now = calc(); ld v = now - pre;//\u4e0e\u4e4b\u524d\u7b54\u6848\u76f8\u51cf\uff0c\u7c7b\u4f3c\u4e00\u4e2a\u722c\u5c71\u7684\u8fc7\u7a0b\n\t\tif (v <= 0.0) {\n\t\t\tpre = now;\n\t\t\tif (now < ans) {\n\t\t\t\tans = now;\n\t\t\t\tfor (int i = 0; i <= 1; i++) {\n\t\t\t\t\tfor (int j = 1; j <= n; j++)c[i][j] = a[i][j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (exp(-v / T) * RAND_MAX <= rand())swap(a[d1][x - d1 * n], a[d2][y - d2 * n]);\n\t\t\telse pre = now;\n\t\t}\n\t}\n}\nint d[maxn], p = 0;\nint main() {\n\tios::sync_with_stdio(false);\n\tcin.tie(); cout.tie(); cin >> n;\n\tfor (int i = 0; i <= 1; i++) {\n\t\tfor (int j = 1; j <= n; j++)cin >> a[i][j], d[++p] = a[i][j];\n\t}\n\tsrand(1919810);\n\tsort(d + 1, d + p + 1);\n\tfor (int i = 2; i < p; i++)swap(d[i], d[i + 1]);//\u8fd9\u91cc\u505a\u4e00\u4e2a\u5192\u6ce1\uff0c\u4f7f\u5f97\u6b21\u5c0f\u503c\u88ab\u8f6c\u79fb\u5230\u77e9\u9635\u53f3\u4e0b\u89d2\u7684\u4f4d\u7f6e\u3002\n\tsort(d + ((p / 4) == 1 ? 2 : p / 4), d + p, greater<int>());\n\tfor (int i = 1; i <= n; i++)a[0][i] = d[i], a[1][i] = d[i + n];\n\tsort(a[1] + 1, a[1] + n, greater<int>());\n\tans = calc();\n\tfor (int i = 0; i <= 1; i++) {\n\t\tfor (int j = 1; j <= n; j++)c[i][j] = a[i][j];\n\t}\n\tfor (int i = 1; i <= 2000; i++)SA();\n\tfor (int i = 0; i <= 1; i++) {\n\t\tfor (int j = 1; j <= n; j++)cout << c[i][j] << \" \";\n\t\tcout << \"\\n\";\n\t}\n\treturn 0;\n}\n```\n\n\u5927\u529b\u8c03\u53c2\u6570\u4e4b\u540e 3649ms A \u4e86\uff0c\u4f3c\u4e4e\u5e76\u4e0d\u662f\u7279\u522b\u52a3\uff1f~~\u88ab dp \u66b4\u8e29\u4e86\u3002~~",
        "postTime": 1678438546,
        "uid": 551861,
        "name": "wql_cai",
        "ccfLevel": 4,
        "title": "CF1239E Turtle-Solution"
    },
    {
        "content": "Source: CF1239E Turtle.\n\n\u603b\u5171\u6709 $n$ \u6761\u8def\u5f84\u3002\u5148\u5bf9\u7b2c\u4e00\u884c\u505a\u524d\u7f00\u548c\uff0c\u8bb0\u4e3a $p_i$\uff1b\u7b2c\u4e8c\u884c\u505a\u540e\u7f00\u548c\uff0c\u8bb0\u4e3a $q_i$\u3002\u5219\u7b2c $i$ \u6761\u8def\u5f84\u7684\u957f\u5ea6\u4e3a $p_i+q_i$\u3002\n\n\u9996\u5148\u6709\u4e2a\u6027\u8d28\u662f\uff0c\u6700\u5c0f\u548c\u6b21\u5c0f\u503c\u4e00\u5b9a\u4f1a\u653e\u5728\u8d77\u59cb\u548c\u7ec8\u70b9\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u901a\u8fc7\u89c2\u5bdf\u6837\u4f8b\u5f97\u51fa\u3002\n\n\u8bc1\u660e\u7684\u8bdd\u53ef\u4ee5\u8003\u8651 exchange argument\uff1a\u5047\u8bbe\u6700\u5c0f\u548c\u6b21\u5c0f\u503c\u4e00\u5b9a\u4f1a\u653e\u5728\u8d77\u59cb\u548c\u7ec8\u70b9\u4f4d\u7f6e\uff0c\u5e76\u4e14\u5728\u8fd9\u6837\u7684\u524d\u63d0\u4e0b\u6700\u4f18\u3002\u73b0\u5728\u5c06\u6700\u5c0f\u503c\u548c\u6b21\u5c0f\u503c\u6362\u8d70\u5728\u540c\u4e00\u884c\uff08\u5982\u679c\u4e0d\u5728\u540c\u4e00\u884c\uff0c\u5c31\u5148\u4ea4\u6362\u6700\u5c0f\u548c\u6b21\u5c0f\u503c\u4f4d\u7f6e\u7b97\u4e00\u6b21 $p,q$\uff09\uff0c\u90a3\u4e48 $p_i$ \u6574\u4f53\u4e0d\u51cf\uff0c$q_i$ \u6574\u4f53\u4e0d\u51cf\uff0c\u7b54\u6848\u4e0d\u4f1a\u66f4\u4f18\u3002\n\n\u7136\u540e\u662f\u53d1\u73b0\u7b2c\u4e00\u884c\u9012\u589e\uff0c\u7b2c\u4e8c\u884c\u9012\u51cf\u3002\u4ecd\u7136\u8003\u8651 exchange argument\uff0c\u4ea4\u6362\u4e4b\u540e\u4ecd\u7136\u662f $p_i$ \u6574\u4f53\u4e0d\u51cf\uff0c$q_i$ \u6574\u4f53\u4e0d\u51cf\uff0c\u7b54\u6848\u4e0d\u4f1a\u66f4\u4f18\u3002\n\n\u7136\u540e\u518d\u89c2\u5bdf\u9cd6\u4f1a\u4ece\u54ea\u6761\u8def\u5f84\u4e0b\u6765\u3002\u8bb0\u7b2c $i$ \u6761\u8def\u5f84\u7684\u6743\u503c\u662f $d_i$\uff0c\u7b2c\u4e00\u884c\u4e3a $a$\uff0c\u7b2c\u4e8c\u884c\u4e3a $b$\uff0c\u5bb9\u6613\u53d1\u73b0 $d_i = d_{i-1} + a_i - b_{i-1}$\u3002\u56e0\u4e3a $a$ \u9012\u589e\uff0c$b$ \u9012\u51cf\uff0c\u6240\u4ee5 $d$ \u662f\u51f9\u7684\u3002\n\n\u6240\u4ee5\u8bf4\u9cd6\u53ea\u4f1a\u4ece\u7b2c\u4e00\u6761\u6216\u8005\u7b2c $n$ \u6761\u8def\u5f84\u4e0b\u53bb\uff0c\u8fd9\u6837\u7684\u8bdd\u6211\u4eec\u53ea\u9700\u8981\u8ba9\u4e24\u884c\u7684\u503c\u5dee\u5c3d\u91cf\u5c0f\u5c31\u597d\u4e86\u3002\n\n\u8fd9\u6837\u53ea\u9700\u8981\u505a\u4e00\u4e2a $O(n^3 a)$ \u7684\u505a\u6cd5\u3002\u56e0\u4e3a\u8fd9\u6837\u6839\u672c\u8dd1\u4e0d\u6ee1\uff0c\u5e76\u4e14\u53ef\u4ee5\u7cbe\u7ec6\u5b9e\u73b0\u4e0d\u7528 `bitset` \u4e5f\u80fd\u9664\u6389 $16$ \u5de6\u53f3\u7684\u5e38\u6570\u3002\n\n```cpp\nconst int MaxV=50000;\nbool dp[30][1250005];\nint pre[30][1250005];\nint N,n,a[55],ans[3][30],buc[MaxV+5];\nvoid Solve(int s)\n{\n\tfor(int i=N-1;i;--i)\n\t{\n\t\tint c=pre[i][s];\n\t\tans[1][i+1]=c;\n\t\t--buc[c];\n\t\ts-=c;\n\t}\n\tint c=0;\n\tfor(int i=MaxV;i;--i)\n\t{\n\t\tassert(buc[i]>=0);\n\t\twhile(buc[i])\tans[2][++c]=i,--buc[i];\n\t}\n}\nint main(){\n\tn=read()<<1;\n\tfor(int i=1;i<=n;++i)\ta[i]=read();\n\tsort(a+1,a+1+n);\n\tN=n>>1;\n\tans[1][1]=a[1],ans[2][N]=a[2];\n\tint sum=0;\n\tfor(int i=3;i<=n;++i)\tsum+=a[i];\n\tfor(int i=3;i<=n;++i)\t++buc[a[i]];\n\tsum>>=1;\n\tdp[0][0]=true;\n\tfor(int i=3;i<=n;++i)\n\t{\n\t\tfor(int j=min(N-1,i-2);j;--j)\n\t\t{\n\t\t\tfor(int k=a[i];k<=sum;++k)\n\t\t\t{\n\t\t\t\tif(dp[j][k])\tcontinue;\n\t\t\t\tif(dp[j-1][k-a[i]])\tdp[j][k]=true,pre[j][k]=a[i];\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=sum;~i;--i)\tif(dp[N-1][i])\t{Solve(i);break;}\n\tfor(int i=1;i<=2;++i)\tfor(int j=1;j<=N;++j)\twrite(ans[i][j]),putchar(j==N?'\\n':' ');\n\treturn 0;\n}\n```",
        "postTime": 1658050427,
        "uid": 184977,
        "name": "pomelo_nene",
        "ccfLevel": 9,
        "title": "\u9cd6\u8f7d\u7740\u7406\u53d1\u5e97"
    },
    {
        "content": "[CF1239E Turtle](http://codeforces.com/problemset/problem/1239/E)\n> \u4e00\u53ea\u4e4c\u9f9f\u4ece $2 \\times n$ \u7684\u77e9\u9635 $a$ \u7684\u5de6\u4e0a\u89d2\u8d70\u5230\u53f3\u4e0b\u89d2\uff0c\u53ea\u80fd\u5f80\u4e0b\u6216\u5f80\u53f3\uff0c\u5f97\u5206\u7b49\u4e8e\u7ecf\u8fc7\u7684\u6570\u5b57\u4e4b\u548c\uff0c\u5b83\u81ea\u52a8\u8d70\u6700\u5927\u5f97\u5206\u7684\u8def\u7ebf\uff0c\u7ed9\u51fa\u4e00\u79cd\u91cd\u6392 $a$ \u7684\u65b9\u6848\uff0c\u4f7f\u5f97\u4e4c\u9f9f\u7684\u5f97\u5206\u6700\u5c0f\u3002\n\n\n\n\u7b2c\u4e00\u6b65\u8fd8\u662f\u5206\u6790\u6027\u8d28\u4ee5\u6c42\u8f6c\u5316\u3002\u6027\u8d28\u4e00\u662f**\u4e0a\u5934\u4e00\u5b9a\u4ece\u5de6\u5230\u53f3\u9010\u6e10\u589e\u5927\uff0c\u4e0b\u9762\u4e00\u5b9a\u4ece\u5de6\u5230\u53f3\u9010\u6e10\u51cf\u5c0f**\uff0c\u8fd9\u6837\u603b\u80fd\u8ba9\u4e4c\u9f9f\u66f4\u6709\u53ef\u80fd\u63a5\u89e6\u5230\u7684\u662f\u8f83\u5c0f\u6570\u5b57\u3002\u6027\u8d28\u4e8c\u662f**\u6700\u5c0f\u7684\u4e24\u4e2a\u6570\u4e00\u5b9a\u5206\u5c45\u5de6\u4e0a\u89d2\u548c\u53f3\u4e0b\u89d2**\uff0c\u8bc1\u660e\u53ef\u4ee5\u7b80\u5355\u53cd\u8bc1\u3002\n\u63a5\u4e0b\u6765\u662f\u91cd\u5934\u620f\u3002\u6211\u4eec\u5047\u8bbe\u4e4c\u9f9f\u5728\u7b2c $x$ \u5217\u4e0b\u6765\uff0c\u90a3\u4e48 $a_{1,1}+...+a_{1,x}+a_{2,x}+...+a_{2,n}=f(x)$ \u4e3a\u4e4c\u9f9f\u7684\u5f97\u5206\uff0c\u800c\u5217\u5f0f\u77e5 $f(x+1)-f(x)=a_{1,x+1}-a_{2,x}=g(x)$\uff0c\u7531\u4e8e $a_1$ \u9012\u589e\u800c $a_2$ \u9012\u51cf\uff0c\u6240\u4ee5 $g(x)$ \u9012\u589e\uff0c\u6240\u4ee5 $f(x)$ \u662f\u4e00\u4e2a\u5148\u51cf\u5c0f\u540e\u589e\u5927\u7684\u4e1c\u897f\uff08\u4e5f\u53ef\u4ee5\u53ea\u51cf\u5c0f/\u589e\u5927\uff09\uff0c\u6545\u552f\u53ef\u80fd\u5728 $f(1)$ \u6216 $f(n)$ \u5904\u53d6\u5f97\u6700\u5927\u503c\uff0c\u8fd9\u662f\u4e4c\u9f9f\u7684\u7b56\u7565\u3002\u5f62\u6210\u4e86\u8f6c\u5316\uff0c\u8981\u6700\u5c0f\u5316 $\\max(a_{1,1}+\\sum a_2,a_{2,n}+\\sum a_1)=a_{1,1}+a_{2,n}+\\max(\\sum_{i=1}^{n-1}a_{2,i},\\sum_{i=2}^n a_{1,i})$\u3002\n\u8fd9\u6837\u7684\u597d\u5904\u5728\u4e8e\u524d\u4e24\u9879\u90fd\u5df2\u77e5\u4e86\uff0c\u540e\u9762\u663e\u7136\u5c31\u662f\u4e00\u4e2a\u7b80\u5355\u7684 01 \u80cc\u5305\u3002\u4f46\u662f\u8fd9\u6837\u8fc7\u4e0d\u4e86\uff0c\u65f6\u95f4\u7a7a\u95f4\u90fd\u592a\u5927\uff0c\u7528 bitset \u53ef\u4ee5\u524a\u51cf\u5e38\u6570\u548c\u7a7a\u95f4\uff0c\u4f46\u662f\u7a7a\u95f4\u8fd8\u662f\u8981\u5c0f\u5fc3\u5f00\uff1a`bitset<M>f[51][25],from[51][25];`\n",
        "postTime": 1653572792,
        "uid": 300078,
        "name": "pengyule",
        "ccfLevel": 7,
        "title": "CF1239E Turtle"
    }
]