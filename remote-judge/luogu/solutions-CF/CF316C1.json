[
    {
        "content": "\u6bd4\u8f83\u5957\u8def\u4f46\u53c8\u6709\u70b9\u610f\u601d\u7684\u4e8c\u5206\u56fe\u5e26\u6743\u5339\u914d\u9898\n\n---\n\n### \u9898\u89e3\uff1a\n\n\u5982\u679c\u53bb\u8003\u8651\u54ea\u4e9b\u4f4d\u7f6e\u5339\u914d\u54ea\u4e9b\u989c\u8272\u672c\u9898\u662f\u5f88\u96be\u505a\u4e0b\u53bb\u7684\n\n\u6240\u4ee5\u8003\u8651\u8f6c\u6362\u601d\u8def\n\n\u8bbe\u70b9$(i,j)$\u4e3a\u5947\u70b9\u5047\u5982$i+j$\u4e3a\u5947\u6570\uff0c\u5426\u5219\u4e3a\u5076\u70b9\n\n\u5bb9\u6613\u60f3\u8c61\u51fa\u6765\uff0c\u6240\u6709\u978b\u5b50\u6309\u89c4\u5219\u6446\u5b8c\u540e\u80af\u5b9a\u90fd\u53ef\u4ee5\u88ab\u62bd\u8c61\u6210\u4e00\u4e2a\u4e2a\u7c7b\u4f3c\u591a\u7c73\u8bfa\u9aa8\u724c\u7684$1\\times 2$\u7684\u77e9\u5f62\uff0c\u7136\u540e\u6211\u4eec\u53d1\u73b0\u4e00\u4e2a\u77e9\u5f62\u6b63\u597d\u8986\u76d6\u4e00\u4e2a\u5947\u70b9\u4e00\u4e2a\u5076\u70b9\n\n\u5c06\u77e9\u5f62\u8f6c\u5316\u6210\u5339\u914d\u5173\u7cfb\uff0c\u800c\u662f\u5426\u539f\u5148\u5c31\u5df2\u76f8\u540c\u8f6c\u5316\u6210\u5339\u914d\u4ee3\u4ef7\n\n\u5c06\u6bcf\u4e2a\u5947\u70b9\u5411\u81ea\u5df1\u7684\u56db\u5468\u8fde\u8fb9\uff0c\u5c31\u6784\u6210\u4e86\u4e00\u4e2a\u4e8c\u5206\u56fe\n\n\u7528\u8d39\u7528\u6d41\u8dd1\u4e00\u904d\u6700\u5c0f\u5339\u914d\u5c31\u597d\u4e86\n\n---\n\n### \u4ee3\u7801\uff1a\n\n```cpp\n#pragma GCC optimize(3,\"Ofast\",\"inline\")\n#pragma GCC target(\"avx\")\n#include <bits/stdc++.h>\nusing namespace std;\n#ifdef ONLINE_JUDGE\n#define getchar gc\ninline char gc(){\n\tstatic char buf[1<<16],*p1=buf,*p2=buf;\n\tif(p1==p2){\n\t\tp2=(p1=buf)+fread(buf,1,1<<16,stdin);\n\t\tif(p2==p1) return EOF;\n\t}\n\treturn *p1++;\n}\n#endif\ntemplate<class t> inline t read(t &x){\n    char c=getchar();bool f=0;x=0;\n    while(!isdigit(c)) f|=c=='-',c=getchar();\n    while(isdigit(c)) x=(x<<1)+(x<<3)+(c^48),c=getchar();\n    if(f) x=-x;return x;\n}\ntemplate<class t> inline void write(t x){\n    if(x<0) putchar('-'),write(-x);\n    else{if(x>9) write(x/10);putchar('0'+x%10);}\n}\n\nconst int N=6405,M=5e5+5,P=85;\nint en=1,h[N],dis[N],mc,mf,n,m,a[P][P],id[P][P],idn;\nbool v[N];\n\nstruct edge{\n\tint n,v,f,w;\n}e[M<<1];\n\nstruct fafafa{\n\tint fa,id;\n}pre[N];\n\nvoid add(int x,int y,int f,int w){\n\te[++en]=(edge){h[x],y,f,w};\n\th[x]=en;\n}\n\nbool spfa(int s,int t){\n\tmemset(v,0,sizeof v);\n\tmemset(pre,0,sizeof pre);\n\tmemset(dis,0x3f,sizeof dis);\n\tqueue<int> q;\n\tq.push(s);\n\tv[s]=1;\n\tdis[s]=0;\n\twhile(!q.empty()){\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tfor(int i=h[x];i;i=e[i].n){\n\t\t\tint y=e[i].v;\n\t\t\tif(e[i].f&&dis[x]+e[i].w<dis[y]){\n\t\t\t\tdis[y]=dis[x]+e[i].w;\n\t\t\t\tpre[y]=(fafafa){x,i};\n\t\t\t\tif(!v[y]){\n\t\t\t\t\tv[y]=1;\n\t\t\t\t\tq.push(y);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tv[x]=0;\n\t}\n\treturn dis[t]^0x3f3f3f3f;\n}\n\nvoid mcmf(int s,int t){\n\twhile(spfa(s,t)){\n\t\tint flow=INT_MAX;\n\t\tfor(int i=t;i^s;i=pre[i].fa)\n\t\t\tflow=min(flow,e[pre[i].id].f);\n\t\tfor(int i=t;i^s;i=pre[i].fa){\n\t\t\te[pre[i].id].f-=flow;\n\t\t\te[pre[i].id^1].f+=flow;\n\t\t}\n\t\tmf+=flow;\n\t\tmc+=flow*dis[t];\n\t}\n}\n\nvoid exadd(int x,int y,int f,int w){\n\tadd(x,y,f,w);\n\tadd(y,x,0,-w);\n}\n//\u4ee5\u4e0a\u662f\u6a21\u677f\nsigned main(){\n\tread(n);read(m);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++) id[i][j]=++idn,read(a[i][j]); //\u6bcf\u4e2a\u70b9\u7684\u7f16\u53f7\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(i+j&1){ //\u5947\u70b9\n\t\t\t\texadd(0,id[i][j],1,0);\n\t\t\t\tif(id[i-1][j]) exadd(id[i][j],id[i-1][j],1,a[i][j]!=a[i-1][j]); //\u5411\u56db\u5468\u8fde\u8fb9\n\t\t\t\tif(id[i+1][j]) exadd(id[i][j],id[i+1][j],1,a[i][j]!=a[i+1][j]);\n\t\t\t\tif(id[i][j-1]) exadd(id[i][j],id[i][j-1],1,a[i][j]!=a[i][j-1]);\n\t\t\t\tif(id[i][j+1]) exadd(id[i][j],id[i][j+1],1,a[i][j]!=a[i][j+1]);\n\t\t\t}\n\t\t\telse exadd(id[i][j],idn+1,1,0); //\u5076\u70b9\n\t\t}\n\tmcmf(0,idn+1);\n\twrite(mc);\n}\n```",
        "postTime": 1590718176,
        "uid": 65735,
        "name": "yuzhechuan",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF316C1 \u3010Tidying Up\u3011"
    }
]