[
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\u5bf9\u4e8e\u6570 $a$ \u548c $b$\uff0c\u5df2\u77e5\u4ed6\u4eec\u7684\u6700\u5c0f\u516c\u500d\u6570 $x$ \u548c\u6700\u5927\u516c\u7ea6\u6570 $y$ \u7684\u503c\u4ee5\u53ca $a$ \u548c $b$ \u7684\u53d6\u503c\u8303\u56f4\uff0c\u6c42\u6709\u5e8f\u6570\u5bf9 $(a,b)$ \u7684\u4e2a\u6570\u3002\n## \u5206\u6790\uff1a\n\u6839\u636e\u6700\u5c0f\u516c\u500d\u6570\u548c\u6700\u5927\u516c\u7ea6\u6570\u7684\u6027\u8d28\uff0c\u663e\u7136\u6709 $ab=xy$\u3002\n\u4f46\u662f\uff0c\u5982\u679c\u6211\u4eec\u7acb\u523b\u8fdb\u884c\u66b4\u529b\u679a\u4e3e $a$\uff0c\u53ef\u80fd\u4f1a\u8d85\u65f6\u3002\n\n\u8fd9\u65f6\uff0c\u6211\u4eec\u4e0d\u59a8\u8bbe $ a=nx $\uff0c$b=mx$\uff0c\u5219\u53ef\u5f97 $y=nmx$\u3002\n\n\u53ef\u5f97 $ \\dfrac{y}{x} = nm$\u3002\n\n\n\u8fd9\u65f6\uff0c\u5bf9 $n$ \u8fdb\u884c\u679a\u4e3e\u5373\u53ef\u3002\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a\u5728\u679a\u4e3e\u7684\u65f6\u5019\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $n$\uff0c\u5982\u679c $\\gcd(n,m)>1$\uff0c\u90a3\u4e48 $\\gcd(a,b)>x$\uff0c\u4e0d\u7b26\u5408\u9898\u610f\u3002\n\n\u4e0d\u8981\u6284\u4ee3\u7801\u54e6\uff0c\u6316\u5751\u4e86\uff01\n## CODE\n```c\n#include <bits/stdc++.h>\nusing namespace std;\nint L,R;\nint x,y;\nint ans=0;\nint gcd(int x,int y)\n{\n\tif(y==0) return x;\n\treturn gcd(y,x%y)\uff1b\n}\nint main()\n \n{\n\tscanf(\"%d %d %d %d\",&L,&R,&x,&y);\n\t//a=nx b=mx ab=xy y=nmx y/x=nm\n\tif(y%x!=0) \n\t{\n\t\tputs(\"0\");\n\t\treturn 0;\n\t}\n\tint f=y/x;//\u5728\u8fd9\u91cc\uff0cf=nm\n\tfor(int i=1;i*i<=f;i++)//n\n\t{\n\t\tif(f%i!=0) continue;\n\t\tint j=f/i;//m\n\t\tif(gcd(i,j)==1&&i*x>=L&&j*x>=L&&i*x<=R&&j*x<=R) \n        //\u56e0\u4e3ax\u662fn\u548cm\u7684GCD\uff0c\u6240\u4ee5GCD(n,m)\u5fc5\u987b\u4e3a1\uff1b\n        //\u540e\u9762\u56db\u4e2a\u5224\u5b9a\u662f\u56e0\u4e3aL<=a,b<=R,\u5373L<=ix,jx<=R.\n\t\t{\n\t\t\tans+=2;\n\t\t\tif(i==j) ans--;\n\t\t\t//cout<<i<<' '<<j<<endl;\n\t\t}\n\t}\n\tprintf(\"%d\\n',ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1655384908,
        "uid": 378706,
        "name": "MoyunAllgorithm",
        "ccfLevel": 0,
        "title": "CF992B Nastya Studies Informatics\u9898\u89e3"
    },
    {
        "content": "\u53d1\u4e00\u7bc7\u6e05\u6670\u6613\u61c2\u7684\u9898\u89e3\u3002\n\n\u56e0\u4e3a $y = lcm(a, b)$\uff0c\u6240\u4ee5 $a,b$ \u90fd\u662f $y$ \u7684\u56e0\u6570\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5 $sqrt(y)$ \u679a\u4e3e $y$ \u7684\u56e0\u6570\uff0c\u5224\u65ad\u4e24\u4e2a\u56e0\u6570\u662f\u5426\u8d8a\u754c\uff0c\u4ee5\u53ca $gcd(a, b)$ \u662f\u5426\u7b49\u4e8e $x$ \u5373\u53ef\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int N = 100002;\nint n, m, l, r, p, t, k, ans, sum, tot, cnt, a[N], b[N], c[N], L, R;\ninline int read()\n{\n    int x = 0, f = 1;\n    char ch = getchar();\n    while(ch < '0' || ch > '9')\n\t{\n        if(ch == '-') f = -1;\n        ch = getchar();\n    }\n    while('0' <= ch && ch <= '9')\n\t{\n        x = x * 10 + ch - '0';\n        ch = getchar();\n    }\n    return x * f;\n}\nint gcd(int x, int y)\n{\n\treturn y ? gcd(y, x % y) : x;\n}\nvoid pink(int x)\n{\n\tint z = n * m / x;\n\tif(x >= L && x <= R && z>= L && z <= R && gcd(x, z) == n) ans++;\n}\nsigned main()\n{\n\tL = read(); R = read(); n = read(); m = read();\n\tfor (int i = 1; i * i <= m; i++)\n\t{\n\t\tif(m % i == 0)\n\t\t{\n\t\t\tint y = m / i;\n\t\t\tpink(i);\n\t\t\tif(y != i) pink(y);\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n\n```\n",
        "postTime": 1626433868,
        "uid": 503899,
        "name": "_byta",
        "ccfLevel": 0,
        "title": "CF992B Nastya Studies Informatics"
    },
    {
        "content": "## \u524d\u6392\u7b2c\u4e00\u7bc7\n\n##### \u4e00.\u95ee\u9898\n   \u7ed9\u5b9a\u6b63\u6574\u6570L,R,x,y,\u6c42\u6b63\u6574\u6570\u5bf9(a,b)\u7684\u4e2a\u6570\u4f7f\u5f97 $a,b\\in [L,R]$\u4e14gcd(a,b)=x,lcm(a,b)=y.\n  \n##### \u4e8c.\u7b97\u6cd5\n  1.\u9996\u5148\u663e\u7136\u6709\u516c\u5f0f(\u521d\u4e2d\u5c31\u4f1a\u7684\u516c\u5f0f)\uff1a\n  $$ ab=xy $$\n  \u6240\u4ee5\u6211\u4eec\u7684\u7b97\u6cd5\u4e00\u5c31\u662f\u66b4\u529b\u679a\u4e3ea,\u7531\u516c\u5f0f\u5f97\u51fab,\u68c0\u9a8c(a,b)\u662f\u5426\u5408\u6cd5\uff0c\u590d\u6742\u5ea6O(R-L),\u8d85\u65f6\n  \n  2.\u7531gcd(a,b)=x\u53ef\u8bbe\n   $$a=xi,b=xj,(i,j\\in N_+,gcd(i,j)=gcd(\\frac{a}{x},\\frac{b}{x})=1 ) $$\n   \u6b64\u65f6\n   $$ ij=\\frac{y}{x}$$\n   \u4e14\u6709\n   $$ i,j\\in [\\lceil \\frac{L}{x} \\rceil,\\lfloor \\frac{R}{x} \\rfloor ] $$\n   \u7531\u4ee5\u4e0a\u6027\u8d28\u53ef\u679a\u4e3ei,\u7b97\u51faj\u5e76\u68c0\u9a8c\u662f\u5426\u5408\u6cd5\uff0c\u867d\u7136\u6709\u4e86\u4e0d\u5c11\u4f18\u5316\uff0c\u4f46\u5728x=1\u65f6\u590d\u6742\u5ea6\u4ecd\u7136\u662fO(R-L),\u8fd8\u662f\u8d85\u65f6\n   \n  3.\u6b63\u89e3\uff1a\n  \n  \u7ee7\u7eed\u5bf9\u7b97\u6cd52\u8fdb\u884c\u4f18\u5316\uff0c\u4ece $ij=\\frac{y}{x}$ \u5207\u5165\uff0c\u4ee4$k=\\frac{y}{x}$,\u5219$ij=k$,\u56e0\u4e3ai\u548cj\u548ck\u90fd\u662f\u6b63\u6574\u6570\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u679a\u4e3ei\u4e3ak\u7684\u7ea6\u6570\uff0c\u7b97\u51fa\u6b64\u65f6\u7684j\u3002\u8fd9\u6837\u53ea\u8981\u679a\u4e3e $i\\in[\\lceil \\frac{L}{x} \\rceil,min\\{\\sqrt{k},\\lfloor \\frac{R}{x} \\rfloor \\}]$\uff0c\u7b97\u51faj\u5e76\u68c0\u9a8c\u7b54\u6848(i!=j\u65f6\u7b54\u6848\u52a0\u4e24\u6b21((i,j)\u548c(j,i)))\u5373\u53ef\u3002\u590d\u6742\u5ea6$O( \\sqrt{\\frac{y}{x}} )$,AC\uff01\n\n##### \u4e09.\u4ee3\u7801\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cmath>\nusing namespace std;\nint x,y,k,ans,L,R;//\u53d8\u91cf\u540d\u5b8c\u5168\u6309\u9898\u89e3\u4e2d\u6765\nint gcd(int p,int q){//\u6c42gcd\n    if(q==0)return p;\n    else return gcd(q,p%q);\n}\nint main(){\n    cin>>L>>R>>x>>y;\n    k=y/x;\n    for(int i=ceil(L*1.0/x);i*x<=R&&i*i<=k;i++){//\u679a\u4e3ei,\u90fd\u89c1\u4e0a\u9762\u9898\u89e3\n        if(k%i!=0)continue;\n        int j=k/i;\n        if(gcd(i,j)==1&&j*x>=L&&j*x<=R){//\u68c0\u9a8c\u7b54\u6848\u662f\u5426\u5408\u6cd5\n           ans++;\n           if(i!=j)ans++;\n        }\n    }\n    if(y%x!=0)ans=0;//\u7279\u5224\u5f88\u91cd\u8981\u554a\uff01\u663e\u7136\u7684\u9053\u7406\u3002\n    cout<<ans;\n    return 0;\n}\n```\n~~\u849f\u84bb\u9898\u89e3\u6c42\u8fc7~~",
        "postTime": 1567259672,
        "uid": 31621,
        "name": "\u8ffd\u98ce\u5c11\u5e74\u03c3\u03c7",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF992B \u3010Nastya Studies Informatics\u3011"
    },
    {
        "content": "\u7ed9\u51fa\u4e00\u4e2a\u80fd\u8dd1 10e18 \u7684\u89e3\u6cd5\n\n## \u89e3\u6790\n\n\u8003\u8651\u6784\u9020\u51fa\u6ee1\u8db3\u8981\u6c42\u7684 $a, b$\n\n\u9996\u5148 $x, y$ \u5e94\u5f53\u6ee1\u8db3 $y$ \u4e3a $x$ \u500d\u6570\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c$a, b$ \u90fd\u81f3\u5c11\u4e3a $x$\uff08$\\gcd$\uff09\u3002\u63a5\u7740\u6211\u4eec\u9700\u8981\u628a $\\frac y x$\uff08$\\frac {\\text{lcm}} {\\gcd}$\uff09\u7684\u8d28\u56e0\u5b50 \u201c\u5206\u201d \u7ed9 $a, b$\uff0c\u5e76\u4e14\u4e0d\u80fd\u4f7f $\\gcd$ \u589e\u5927\n\n\u5176\u5b9e\u5dee\u4e0d\u591a\u5c31\u662f\u8fd9\u6837\uff1a\n\n![gcd_lcm](https://cdn.luogu.com.cn/upload/image_hosting/0z82eroc.png)\n\n\uff08\u5373\u5c06 $\\frac y x$ \u7684\u8d28\u56e0\u5b50\u5168\u90e8\u5206\u7ed9 $a, b$\uff0c\u4e14\u8981\u6c42 $a, b$ \u5206\u5230\u7684\u8d28\u56e0\u5b50\u4e0d\u80fd\u6709\u4ea4\u96c6\uff1b\u610f\u4f1a\u4e0bX\uff0c\u4e5f\u53ef\u53c2\u8003\u4ee3\u7801\uff09\n\n\u8bbe $\\frac y x$ \u7684\u4e0d\u540c\u8d28\u56e0\u5b50\u4e2a\u6570\u4e3a $\\texttt{cnt}$\uff0c\u90a3\u4e48\u8be5\u7b97\u6cd5\u590d\u6742\u5ea6\u5373\u4e3a $O(2^{\\texttt{cnt}})$\u3002\u53ef\u4ee5\u53d1\u73b0 $\\texttt{cnt}$ \u7684\u589e\u957f\u5176\u5b9e\u6bd4\u9636\u4e58\u7684\u53cd\u51fd\u6570\u7684\u8fd8\u6162...\uff1b\u4e8b\u5b9e\u4e0a $10^{18}$ \u5185 $\\texttt{cnt}$ \u4ec5\u5728 $15$ \u5de6\u53f3\n\n\u4e8e\u662f\u8be5\u7b97\u6cd5\u7684\u74f6\u9888\u5728\u4e8e\u5206\u89e3 $\\frac y x$ \u7684\u8d28\u56e0\u6570\uff08naive \u7684\u5199\u6cd5\u662f\u76f4\u63a5\u7b5b\u51fa $\\sqrt n$ \u5185\u7684\u8d28\u6570\uff09\uff1b\u8fd9\u90e8\u5206\u5176\u5b9e\u53ef\u4ee5\u7528 Pollard Rho \u89e3\u51b3\n\n## CODE\n\nPollard Rho \u6709\u70b9\u957f...\u8fd9\u91cc\u662f\u76f4\u63a5\u7b5b\u8d28\u6570\u5206\u89e3 $\\frac y x$ \u7684\n\n```cpp\n#include <cstdio>\n#include <cmath>\n\nconst int MAXV =4e4;\n\nbool np[MAXV];\nint prim[MAXV], totp;\n\nvoid pre_math(){\n\tfor(int i =2; i < MAXV; ++i){\n\t\tif(!np[i])\n\t\t\tprim[totp++] =i;\n\t\tfor(int j =0; 1ll*i*prim[j] < MAXV; ++j){\n\t\t\tnp[i*prim[j]] =1;\n\t\t\tif(i%prim[j] == 0)\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nint val[10], tot;\n\nint dfs(const int &x, const int &L, const int &R, const int &m, int nw, const int &i){\n\tint Ans =0;\n\tif(i == tot){\n\t\tint nw2 =m/nw;\n\t\tif(nw*x >= L && nw*x <= R && nw2*x >= L && nw2*x <= R)\n\t\t\t++Ans;\n\t}\n\telse{\n\t\tAns +=dfs(x, L, R, m, nw, i+1);\n\t\tAns +=dfs(x, L, R, m, nw*val[i], i+1);\n\t}\n\treturn Ans;\n}\n\nint main(){\n\tpre_math();\n\tint L, R, x, y;\n\tscanf(\"%d%d%d%d\", &L, &R, &x, &y);\n\tif(y%x != 0)\n\t\tputs(\"0\");\n\telse{\n\t\tint m =y/x;\n\t\tfor(int j =0; j < totp && m > 1; ++j)\n\t\t\tif(m%prim[j] == 0){\n\t\t\t\tval[tot] =1;\n\t\t\t\twhile(m%prim[j] == 0)\n\t\t\t\t\tm /=prim[j], val[tot] *=prim[j];\n\t\t\t\t++tot;\n\t\t\t}\n\t\tif(m > 1)\n\t\t\tval[tot++] =m;\n\t\tprintf(\"%d\", dfs(x, L, R, y/x, 1, 0));\n\t}\n}\n```",
        "postTime": 1605244487,
        "uid": 105254,
        "name": "Piwry",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF992B \u3010Nastya Studies Informatics\u3011"
    }
]