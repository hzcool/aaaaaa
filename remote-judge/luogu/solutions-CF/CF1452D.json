[
    {
        "content": "[\u6216\u8bb8\uff1f](https://www.cnblogs.com/AWhiteWall/p/14083524.html)\n\n# $\\text{Solution}$\n\n\u5bb9\u6613\u53d1\u73b0\u5176\u5b9e\u5c31\u662f\u5c06\u957f\u5ea6\u4e3a $n$ \u7684\u533a\u95f4\u5212\u5206\u6210\u82e5\u5e72\u5947\u6570\u6bb5\u7684\u603b\u65b9\u6848\u6570\u518d\u9664\u4ee5 $2^n$\u3002\n\n\u89e3\u91ca\u4e00\u4e0b\u5c31\u662f\u56e0\u4e3a\u6bcf\u4e2a\u5c0f\u9547\u9009\u4e0e\u4e0d\u9009\u7684\u6982\u7387\u90fd\u662f $\\frac{1}{2}$\uff0c\u90a3\u4e48\u6bcf\u79cd\u65b9\u6848\u7684\u6982\u7387\u90fd\u662f\u4e00\u6837\u7684\u3002\n\n\u6211\u4eec\u53d1\u73b0 $0,n+1$ \u4e0d\u80fd\u6536\u5230\u4fe1\u53f7\u5176\u5b9e\u5c31\u662f\u5c06 $[1,n]$ \u963b\u65ad\u8d77\u6765\uff0c\u5f88\u5bb9\u6613\u8054\u60f3\u5230 $\\text{DP}$ \u7684\u5b50\u72b6\u6001\uff1a$f[i]$ \u8868\u793a $i$ \u4e2a\u5c0f\u9547\u7684\u603b\u65b9\u6848\u6570\uff0c\u90a3\u6211\u4eec\u5c31\u6709\u8f6c\u79fb\u67ff\uff08\u679a\u4e3e\u6700\u540e\u4e00\u6bb5\u957f\u5ea6\u4e3a $2\\times j+1$\uff0c$f[0]=0$\uff09\uff1a\n\n\n\n- \u82e5 $i$ \u4e3a\u5076\u6570\uff1a\n\n$$\nf[i]=\\sum_{j=0}^{\\frac{i-1}{2}} f[i-2\\times j-1]\n$$\n\n- \u82e5 $i$ \u4e3a\u5947\u6570\uff08\u52a0 $1$ \u662f\u56e0\u4e3a\u672c\u8eab\u53ef\u4ee5\u6210\u4e3a\u4e00\u79cd\u957f\u5ea6\u4e3a $i$ \u65b9\u6848\uff09\uff1a\n\n$$\nf[i]=1+\\sum_{j=0}^{\\frac{i-1}{2}} f[i-2\\times j-1]\n$$\n\n\n\n\u8fd9\u4e2a\u65f6\u5019\u5c31\u53ef\u4ee5\u5206\u5947\u5076\u505a\u524d\u7f00\u548c\u4f18\u5316\u4ee5 $\\mathcal O(n)$ \u7684\u4f18\u79c0\u590d\u6742\u5ea6\u901a\u8fc7\u6b64\u9898\u3002\n\n\n\n\u4f46\u5176\u5b9e\u8fd9\u4e2a\u67ff\u5b50\u6697\u85cf\u7384\u673a\uff0c\u5176\u5b9e $f[n]$ \u5c31\u662f $\\text{Fib}[n]$\uff01~~\uff08\u9488\u5bf9\u6570\u636e\u601d\u8003\uff09~~\n\n\n\n\u9996\u5148 $f[1],f[2]$ \u80af\u5b9a\u6ee1\u8db3\u3002\n\n\n\n\u8fd8\u662f\u5206\u5947\u5076\u8ba8\u8bba\uff1a\n\n\n\n- \u82e5 $n$ \u4e3a\u5076\u6570\uff1a\n\n\n$$\nf[n]=f[1]+f[3]+f[5]+...+f[n-1]\n$$\n\n$$\n=f[2]+f[3]+f[5]+...+f[n-1]\n$$\n\n$$\n=f[4]+f[5]+...+f[n-1]\n$$\n\n$$\n=f[n-2]+f[n-1]\n$$\n\n- \u82e5 $n$ \u4e3a\u5947\u6570\uff1a\n\n\n$$\nf[n]=1+f[2]+f[4]+...+f[n-1]\n$$\n\n$$\n=f[1]+f[2]+f[4]+...+f[n-1]\n$$\n\n$$\n=f[3]+f[4]+...+f[n-1]\n$$\n\n$$\n=f[n-2]+f[n-1]\n$$\n\n\n\n\u4ece $3$ \u5f00\u59cb\u6211\u4eec\u8fd9\u6837\u9012\u63a8\u5730\u8bc1\u660e\uff0c\u53ef\u4ee5\u4e00\u76f4\u63a8\u5230 $n$\u3002\n\n# $\\text{Code}$\n\n```cpp\n#include <cstdio>\n#define rep(i,_l,_r) for(signed i=(_l),_end=(_r);i<=_end;++i)\n#define print(x,y) write(x),putchar(y)\n\ntemplate <class T> inline T read(const T sample) {\n\tT x=0; int f=1; char s;\n\twhile((s=getchar())>'9'||s<'0') if(s=='-') f=-1;\n\twhile(s>='0'&&s<='9') x=(x<<1)+(x<<3)+(s^48),s=getchar();\n\treturn x*f; \n} \n\ntemplate <class T> inline void write(T x) {\n\tif(x<0) return (void)(putchar('-'),write(-x));\n\tif(x>9) write(x/10);\n\tputchar(x%10^48);\n}\n\n#include <iostream>\nusing namespace std;\n\nconst int mod=998244353;\n\nint n,a=1,b=1;\n\nint qkpow(int x,int y) {\n\tint r=1;\n\twhile(y) {\n\t\tif(y&1) r=1ll*r*x%mod;\n\t\tx=1ll*x*x%mod; y>>=1;\n\t}\n\treturn r;\n}\n\nint main() {\n\tn=read(9);\n\trep(i,3,n) a=(a+b)%mod,swap(a,b);\n\tprint(1ll*b*qkpow(qkpow(2,n),mod-2)%mod,'\\n');\n\treturn 0;\n}\n```\n",
        "postTime": 1608823676,
        "uid": 154787,
        "name": "Oxide",
        "ccfLevel": 0,
        "title": "CodeForces - 1452D Radio Towers"
    },
    {
        "content": "\u6bcf\u4e00\u4e2a $n$ \u90fd\u6709\u4e0e\u4e4b\u5bf9\u5e94\u7684\u552f\u4e00\u7684\u7b54\u6848\uff0c\u8fd9\u79cd\u9898\u76ee\u7684\u601d\u8def\u4e00\u822c\u90fd\u662f**\u627e\u5230\u95ee\u9898\u4e0e\u5176\u5b50\u95ee\u9898\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u5229\u7528\u9012\u63a8\u6c42\u89e3\u3002**\n\n\u7531\u4e8e\u6bcf\u4e2a\u4f4d\u7f6e\u90fd\u53ea\u80fd\u88ab\u4e00\u4e2a\u4fe1\u53f7\u5854\u8986\u76d6\uff0c\u6240\u4ee5\u5982\u679c\u4ece\u6700\u5de6\u9762\u7684\u706f\u5854\u8d77\u6709 $x$ \u4e2a\u8fde\u7eed\u7684\u4f4d\u7f6e\u6ca1\u6709\u4fe1\u53f7\u5854\uff08\u5373 $a_{1\u2026x}$ \u5747\u4e3a $0$\uff09\uff0c**\u7b2c $x+1$ \u4e2a\u4f4d\u7f6e\u5fc5\u987b\u8981\u5efa\u4fe1\u53f7\u5854\uff0c\u800c\u4e14\u4fe1\u53f7\u5854\u7684\u5f3a\u5ea6\u53ea\u80fd\u4e3a $x+1$**\u3002\u56e0\u4e3a\u5982\u679c\u5b83\u7684\u5f3a\u5ea6\u5c0f\u4e8e $x+1$\uff0c\u90a3\u4e48 $1\u2026x$  \u4e2d\u5c31\u4f1a\u6709\u4e00\u6bb5\u524d\u7f00\u65e0\u6cd5\u88ab\u8986\u76d6\uff1b\u800c\u5982\u679c\u5f3a\u5ea6\u5927\u4e8e $x+1$\uff0c\u7b2c $0$ \u4e2a\u706f\u5854\u5c31\u4f1a\u88ab\u8986\u76d6\uff0c\u8fd9\u662f\u4e0d\u5408\u6cd5\u7684\u3002\u540c\u65f6\uff0c\u65e2\u7136\u7b2c $x+1$ \u4e2a\u4f4d\u7f6e\u4e0a\u7684\u4fe1\u53f7\u5854\u7684\u5f3a\u5ea6\u4e00\u5b9a\u4e3a $x+1$\uff0c\u90a3\u4e48 $x+2\u20262x+1$ \u8fd9\u6bb5\u4e5f\u88ab\u8986\u76d6\u4e86\uff0c\u5b83\u4e0d\u80fd\u518d\u88ab\u53f3\u9762\u7684\u4efb\u4f55\u4e00\u4e2a\u4fe1\u53f7\u5854\u8986\u76d6\uff0c\u56e0\u6b64\u95ee\u9898\u5c31\u8f6c\u5316\u6210\u4e86 $n=n-2x-1$ \u65f6\u7684\u5b50\u95ee\u9898\u3002\n\n\u4ee4 $dp_{i}$ \u8868\u793a\u5f53 $n=i$ \u65f6\u5408\u6cd5\u7684\u6982\u7387\uff0c$dp_{i}=\\sum_{j=0}^{\\frac{i-1}{2}}dp_{i-2j-1}\\cdot \\frac{1}{2^{2j+1}}$\u3002$\\frac{1}{2^{2j+1}}$ \u662f $1\u2026j,j+2\u20262j+1$ \u8fd9\u4e24\u6bb5\u533a\u95f4\u6ca1\u6709\u4fe1\u53f7\u5854\u4e14\u7b2c $j+1$ \u4e2a\u4f4d\u7f6e\u6709\u4fe1\u53f7\u5854\u7684\u6982\u7387\u3002\u7528\u524d\u7f00\u548c\u7ef4\u62a4\u53ef\u4ee5\u505a\u5230 $O(n)$ \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#define ll long long\n#define fo(i,x,y) for(register int i=x;i<=y;++i)\n#define go(i,x,y) for(register int i=x;i>=y;--i)\nusing namespace std;\n\ninline int read(){\n\tint x=0,fh=1;\n\tchar ch=getchar();\n\twhile(!isdigit(ch)){\n\t\tif(ch=='-') fh=-1;\n\t\tch=getchar();\n\t}\n\twhile(isdigit(ch)){\n\t\tx=(x<<1)+(x<<3)+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn x*fh;\n}\n\nconst int yrz=998244353;\nint ksm(int x,int y){\n\tif(y==0) return 1;\n\tint ret=ksm(x,y/2);\n\tret=1ll*ret*ret%yrz;\n\tif(!(y&1)) return ret;\n\treturn 1ll*ret*x%yrz;\n}\n\nint ny(int x){\n\treturn ksm(x,yrz-2);\n}\n\nconst int N=2e5+5;\nint f[N],g[N],pw[N],ni[N],ny_3,sum[N];\n\nint main(){\n\tint n=read();\n\tpw[0]=1;\n\tfo(i,1,n) pw[i]=pw[i-1]*2%yrz;\n\tni[n]=ny(pw[n]);\n\tgo(i,n-1,0) ni[i]=ni[i+1]*2%yrz;\n\tny_3=ny(3);\n\t//fo(i,0,n) printf(\"%d \",pw[i]);puts(\"\");\n\t//fo(i,0,n) printf(\"%d \",ni[i]);puts(\"\");\n\tfo(i,0,2) f[i]=ni[i];\n\tsum[2]=(f[2]+1ll*f[0]*ni[2])%yrz;\n\tsum[1]=f[1];\n\tsum[0]=f[0];\n\tfo(i,3,n){\n\t\tf[i]=1ll*sum[i-1]*ni[1]%yrz;\n\t\tsum[i]=(1ll*sum[i-2]*ni[2]+f[i])%yrz;\n\t}\n\tcout<<f[n];\n\treturn 0;\n}\n\n```\n",
        "postTime": 1605924334,
        "uid": 238408,
        "name": "vectorwyx",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1452D \u3010Radio Towers\u3011"
    },
    {
        "content": "[\u53ef\u80fd\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/jiangtaizhe001/p/16920768.html)\n\n[\u9898\u76ee\u4f20\u9001\u95e8](http://codeforces.com/problemset/problem/1452/D)\n\n### \u9898\u76ee\u5927\u610f\n\u5728\u6570\u8f74\u4e0a\u6709 $n+2$ \u4e2a\u5c0f\u9547\uff0c\u4f4d\u7f6e\u4e3a $0,1,\\dots,n,n+1$\u3002  \n\u73b0\u5728\u5728 $1,2,\\dots ,n$ \u7684\u5c0f\u9547\u90fd\u6709 $\\dfrac{1}{2}$ \u7684\u6982\u7387\u5efa\u8bbe\u4e00\u4e2a\u4fe1\u53f7\u53d1\u5c04\u5668\u3002  \n\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u4fe1\u53f7\u53d1\u5c04\u5668\uff0c\u4f60\u90fd\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u6574\u6570\u4f5c\u4e3a\u5f3a\u5ea6 $p$\u3002\u5982\u679c\u4e00\u4e2a\u4fe1\u53f7\u53d1\u5c04\u5668\u7684\u4f4d\u7f6e\u662f $x$\uff0c\u90a3\u4e48\u4f4d\u4e8e $[x-p,x+p]$ \u7684\u5c0f\u9547\u90fd\u80fd\u6536\u5230\u4e00\u4e2a\u4fe1\u53f7\u3002  \n\u73b0\u5728\u6c42\u80fd\u591f\u901a\u8fc7\u8bbe\u7f6e\u4fe1\u53f7\u503c\uff0c\u4f7f $1,2,\\dots,n$ \u6070\u597d\u80fd\u63a5\u53d7\u5230\u4e00\u4e2a\u4fe1\u53f7\uff0c$0,n+1$ \u4e0d\u80fd\u63a5\u53d7\u5230\u4fe1\u53f7\u7684\u6982\u7387\uff0c\u5bf9 $998244353$ \u53d6\u6a21\u3002\n\n### \u9898\u89e3\n\u8bbe $f_i$ \u4e3a $n=i$ \u7684\u65f6\u5019\u7684\u65b9\u6848\u6570\u3002\u663e\u7136 $f_0=f_1=1$\u3002  \n\u8003\u8651\u5982\u4f55\u8f6c\u79fb  \n\u5047\u8bbe\u6211\u4eec\u6700\u540e\u4e00\u4e2a\u4f4d\u7f6e\u662f $i-j$\u3002  \n\u90a3\u4e48\u663e\u7136\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u5f3a\u5ea6\u662f $j$\uff0c\u8fd9\u6837 $[i-j\\times2,i]$ \u8fd9\u6bb5\u533a\u95f4\u5c31\u88ab\u8986\u76d6\u4e86\uff0c\u6b64\u65f6\u7684\u65b9\u6848\u6570\u5c31\u662f $f_{i-j\\times 2}$\u3002  \n\u679a\u4e3e $j$\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053  \n$$f_i=\\sum_{j< i\\ , i\\not\\equiv j\\pmod 2}f_j$$\n\u6240\u4ee5\u53ea\u9700\u8981\u9884\u5904\u7406 $i$ \u6a21 $2$ \u4e0d\u540c\u7684\u524d\u7f00\u548c\u5c31\u53ef\u4ee5\u4e86\u3002\n\n```cpp\nint n; ll f[maxn],s[2];\nll fastpow(ll x,ll y){\n\tll tmp=x,res=1;\n\twhile(y){\n\t\tif(y&1) res=res*tmp%MOD;\n\t\ttmp=tmp*tmp%MOD; y>>=1;\n\t} return res;\n}\nint main(){\n\tint i; n=read(); f[0]=1; s[0]=1; f[1]=1; s[1]=1;\n\tfor(i=2;i<=n;i++) f[i]=s[(i&1)^1],f[i]%=MOD,s[i&1]+=f[i],s[i&1]%=MOD;\n\tprint(f[n]*fastpow(499122177,n)%MOD);\n\treturn 0;\n}\n```",
        "postTime": 1669251114,
        "uid": 215042,
        "name": "jiangtaizhe001",
        "ccfLevel": 7,
        "title": "CF1452D Radio Towers \u9898\u89e3"
    },
    {
        "content": "# \u9898\u610f\uff1a\n\u5728\u4e00\u6761\u7ebf\u4e0a\u6709$n+2$\u4e2a\u9547\uff0c\u7f16\u53f7\u4ece$0\\sim n+1$\u3002\u5728$1\\sim n$\u4e2a\u9547\u4e0a\u6bcf\u4e2a\u9547\u90fd\u6709$\\frac{1}{2}$\u7684\u6982\u7387\u5b89\u88c5\u4e00\u4e2a\u4fe1\u53f7\u5854\uff0c\u6240\u6709\u4e8b\u4ef6\u76f8\u4e92\u662f\u72ec\u7acb\u7684\u3002\u5982\u679c\u4e00\u4e2a\u5728$i$\u4f4d\u7f6e\u7684\u4fe1\u53f7\u5854\u7684\u5f3a\u5ea6\u4e3a$p$\uff0c\u90a3\u4e48\u5904\u4e8e$|c-i|\\lt p$\u7684\u9547$c$\u90fd\u4f1a\u6536\u5230\u4fe1\u53f7\u3002\u4f60\u53ef\u4ee5\u7ed9\u4fe1\u53f7\u5854\u8bbe\u7f6e\u5f3a\u5ea6$p$\u3002\u73b0\u5728\u8981\u6c42\uff0c\u88c5\u597d\u7684\u4fe1\u53f7\u5854\u4e0d\u80fd\u8986\u76d6$0$\u548c$n+1$\u8fd9\u4e24\u4e2a\u9547\uff0c\u5e76\u4e14$1\\sim n$\u7684\u9547**\u4f1a\u4e14\u53ea\u4f1a\u88ab$1$\u4e2a**\u4fe1\u53f7\u5854\u7684\u4fe1\u53f7\u8986\u76d6\u3002\u6c42\u6ee1\u8db3\u8fd9\u79cd\u6761\u4ef6\u7684\u6982\u7387\u6709\u591a\u5927\u3002\n# \u601d\u8def\uff1a\n\u8bbe\u6709$n+2$\u4e2a\u9547\u7684\u65f6\u5019\uff0c\u6ee1\u8db3\u8981\u6c42\u7684\u60c5\u51b5\u6709$f(n)$\u79cd\u3002\n\u663e\u7136\u7b54\u6848\u662f$\\frac{f(n)}{2^n}$,\u7136\u540e\u624b\u63a8\u51e0\u4e0b\u53d1\u73b0$f(n)$\u6ee1\u8db3\u6590\u6ce2\u90a3\u5951\u6570\u5217\uff0c\u6240\u4ee5\u7b54\u6848\u4e3a$\\frac{Fib(n)}{2^n}$\u3002\n\n\u4ee5\u4e0b\u8bd5\u63a8\u4e4b\uff1a\n\n\u6211\u4eec\u53ef\u4ee5\u663e\u7136\u5f97\u5230$n=1$\u65f6\uff0c$f(1)=1$,\u53ea\u6709\u4e14\u4ec5\u53ea\u6709\u5728$1$\u53f7\u9547\u4e0a\u5b58\u5728\u4fe1\u53f7\u5854\u7684\u65f6\u5019\u624d\u6ee1\u8db3\u3002\n\n\u5bf9\u4e8e\u4e0b\u9762\u60c5\u51b5\uff0c\u6211\u4eec\u53ea\u7528\u8003\u8651\u5728$1\\sim \\lceil\\frac{n}{2}\\rceil$\u4e0a\u9762\u653e$1$\u4e2a\u4fe1\u53f7\u5854\u65f6\u5019\uff0c\u5269\u4f59\u7684\u533a\u57df\u5e94\u8be5\u5982\u4f55\u53bb\u653e\u7f6e\u4fe1\u53f7\u5854\u3002\u56e0\u4e3a\u4e00\u65e6\u5927\u4e8e\u8fd9\u4e2a\u6570\uff0c\u663e\u7136\u4ed6\u5c31\u65e0\u6cd5\u4fdd\u8bc1\u5728\u80fd\u591f\u8986\u76d6\u5230$1$\u53f7\u9547\u7684\u60c5\u51b5\u4e0b\u4e0d\u8986\u76d6\u5230$n+1$\u53f7\u9547\u3002\n\n\u5728$n=2$\u7684\u65f6\u5019\uff0c\u5728$1$\u53f7\u9547\u88c5\u4fe1\u53f7\u5854\u7684\u8bdd\uff0c\u90a3\u4e48\u5bf9\u4e8e\u5269\u4e0b\u7684\u9547$(2)$\uff0c\u5c31\u6210\u4e86$n=1$\u65f6\u5019\u7684\u60c5\u51b5\u3002\u4e5f\u5c31\u662f\u8bf4$f(2)=f(1)$\u3002\n\n\u5728$n=3$\u7684\u65f6\u5019\uff0c\u5728$1$\u53f7\u9547\u88c5\u4fe1\u53f7\u5854\u7684\u8bdd\uff0c\u90a3\u4e48\u5bf9\u4e8e\u5269\u4e0b\u7684\u9547$(2,3)$\uff0c\u5c31\u6210\u4e86$n=2$\u7684\u72b6\u51b5\uff1b\u5728$2$\u53f7\u9547\u88c5\u4fe1\u53f7\u5854\u7684\u8bdd\uff0c\u5c31\u53ef\u4ee5\u6b63\u597d\u8986\u76d6\u6240\u6709\u9547\u3002\u4e5f\u5c31\u662f$f(3)=f(2)+1$\u3002\n\n\u5728$n=4$\u7684\u65f6\u5019\uff0c\u5728$1$\u53f7\u9547\u88c5\u4fe1\u53f7\u5854\u7684\u8bdd\uff0c\u90a3\u4e48\u5bf9\u4e8e\u5269\u4e0b\u7684\u9547$(2,3,4)$\uff0c\u5c31\u662f$n=3$\u7684\u72b6\u51b5\uff1b\u5728$2$\u53f7\u9547\u88c5\u4fe1\u53f7\u5854\u7684\u8bdd\uff0c\u5bf9\u4e8e\u5269\u4e0b\u7684\u9547$(4)$\uff0c\u5c31\u662f$n=1$\u7684\u72b6\u51b5\u3002\u4e5f\u5c31\u662f$f(4)=f(3)+f(1)$\u3002\n\n\u5728$n=5$\u7684\u65f6\u5019\uff0c\u5728$1$\u53f7\u9547\u88c5\u4fe1\u53f7\u5854\u7684\u8bdd\uff0c\u90a3\u4e48\u5bf9\u4e8e\u5269\u4e0b\u7684\u9547$(2,3,4,5)$\uff0c\u5c31\u662f$n=4$\u7684\u72b6\u51b5\uff1b\u5728$2$\u53f7\u9547\u88c5\u4fe1\u53f7\u5854\u7684\u8bdd\uff0c\u5bf9\u4e8e\u5269\u4e0b\u7684\u9547$(4,5)$\uff0c\u5c31\u662f$n=2$\u7684\u72b6\u51b5;\u5728$3$\u53f7\u9547\u88c5\u4fe1\u53f7\u5854\u7684\u8bdd\uff0c\u5c31\u53ef\u4ee5\u6b63\u597d\u8986\u76d6\u6240\u6709\u9547\u3002\u4e5f\u5c31\u662f$f(5)=f(4)+f(2)+1$\u3002\n\n$\\cdots\\cdots$\n\n\u8fd9\u6837\u662f\u4e0d\u662f\u53d1\u73b0\u4e86\u4e00\u4e9b\u89c4\u5f8b\u3002\n\n\u663e\u7136\uff0c\u5047\u8bbe\u4fe1\u53f7\u5854\u5efa\u5728$i(i\\in[1,\\lceil\\frac{n}{2}\\rceil])$\u7684\u65f6\u5019,\u4e3a\u4e86\u80fd\u591f\u8986\u76d6\u5230$1$\u53f7\u9547\uff0c\u5b83\u7684\u4fe1\u53f7\u5f3a\u5ea6\u5c31\u4e3a$i$,\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u80fd\u591f\u8986\u76d6$[1,2i-1]$\u7684\u9547\u3002\u90a3\u4e48\u5bf9\u4e8e$[2i,n]$\u7684\u9547\u6765\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u770b\u6210\u6c42$f(n-2i+1)$\u3002\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e0b\u9762\u7684\u5f0f\u5b50\uff1a\n\n$f(n)=\\begin{cases}f(n-1)+f(n-3)+\\cdots+f(2)+1&\\text{n is odd}\\\\f(n-1)+f(n-3)+\\cdots+f(1)&\\text{n is even}\\end{cases}$\n\n\u6839\u636e\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u6027\u8d28\uff1a\n\n$Fib(1)+Fib(3)+\\cdots+Fib(2n-1)=Fib(2n)$,\n$Fib(2)+Fib(4)+\\cdots+Fib(2n)=Fib(2n+1)-1$\u3002\n\n\u6211\u4eec\u663e\u7136\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u5316\u7b80\u5f97\u5230\uff1a$f(n)=Fib(n)$\u3002",
        "postTime": 1608611443,
        "uid": 274673,
        "name": "ChuTian",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1452D \u3010Radio Towers\u3011"
    },
    {
        "content": "~~\u8d5b\u524d\u505a\u4e00\u9053\u6982\u7387\u9898\u6709\u52a9\u4e8e\u601d\u8def\u7684\u4ea7\u751f~~\n\n### \u9898\u76ee\u5927\u610f\n\n\u6709$n +2$\u4e2a\u70b9\uff0c\u7f16\u53f7\u4ece$0$\u5f00\u59cb\uff0c\u7ebf\u6027\u6392\u5217\uff0c\u4ece\u70b9$1$\u5230\u70b9$n$\u6bcf\u4e2a\u70b9\u88ab\u53d6\u5230\u7684\u6982\u7387\u4e3a$\\large \\frac{1}{2}$\uff0c\u6c42\u80fd\u4ea7\u751f\u5408\u6cd5\u8986\u76d6\u7684\u6982\u7387\u5bf9$998244353$\u53d6\u6a21\u3002\n\n\u6bcf\u4e2a\u70b9\u82e5\u5411\u5de6\u8986\u76d6\u4e86$x$\u4e2a\u70b9\uff0c\u5219\u4ed6\u5fc5\u987b\u540c\u65f6\u5411\u53f3\u8986\u76d6$x$\u4e2a\u70b9\uff0c\u5373\u8986\u76d6\u8303\u56f4$i - x$\u5230$i + x$\u3002\n\n\u5f53\u6bcf\u4e2a\u70b9\u4ec5\u88ab\u8986\u76d6\u4e00\u6b21\uff0c\u4e14\u70b9$0$\u548c\u70b9$n-1$\u4e0d\u88ab\u8986\u76d6\u65f6\uff0c\u8986\u76d6\u5408\u6cd5\u3002\n\n### sol\n\n~~\u4f17\u6240\u5468\u77e5\uff0c\u6982\u7387\u9898\u53ea\u9700\u8981\u4f1a\u4e00\u4e2a\u516c\u5f0f\uff1a~~\n\n$\\Large P(A) = \\frac{a}{b}$\n\n\u5f88\u660e\u663e$b$\u4e3a\u603b\u65b9\u6848\u6570\uff0c$2^n$\u3002\n\n\u96be\u70b9\u5728\u4e8e\u600e\u4e48\u6c42$a$\u3002\n\n1. \u66b4\u529b\n\n\t\u679a\u4e3e\u6bcf\u79cd\u5408\u6cd5\u7684\u8986\u76d6\u65b9\u5f0f\n\n\t\u4e3a\u4e86\u4fdd\u8bc1\u8986\u76d6\u5408\u6cd5\uff0c\u53ef\u4ee5\u5728DFS\u65f6\u6bcf\u6b21\u5f80\u540e\u8df3\u5947\u6570\u4e2a\u5355\u4f4d\uff0c\u4fdd\u91cd\u4e0d\u88ab\u91cd\u590d\u8986\u76d6\u3002\n    \n    \u65f6\u95f4\u590d\u6742\u5ea6$O(n^2)$\uff0c\u4f1a\u8d85\u65f6\u3002\n    \n    \u4ee3\u7801\u5927\u6982\u662f\u8fd9\u6837\u7684\uff1a\n    \n    ```\n    void dfs(int x){\n        if(x == n + 1){\n            ji = (ji + 1) % p;\n            return;\n        }\n        ji = (ji + 1) % p;\n        for(int i = 1 ; i <= n ; i++){\n            if(x + i * 2 - 1 > n + 1)\n                break;\n            dfs(x + i * 2 - 1);\n        }\n        return ;\n    }\n\n    ```\n    \n2. \u4f18\u5316\n\n\t\u8003\u8651\u6bcf\u4e2a\u70b9\u7684\u8f6c\u79fb\u3002\n    \n    \u7b2c$i$\u4e2a\u70b9\u4e0a\u7684\u65b9\u6848\u6570\u4f1a\u4ece\u5b83\u524d\u9762\u7684\u7b2c$i-1$\u3001$i-3$\u3001$i-5$......\u8fd9\u4e9b\u70b9\u4e0a\u7684\u65b9\u6848\u6570\u8f6c\u79fb\u8fc7\u6765\u3002\n    \n    \u6ee1\u8db3DP\u3002\n    \n    \u8bb0\u5f55\u4e24\u4e2a\u53d8\u91cf$sum1,sum2$\uff0c$sum1$\u8868\u793a\u4e0b\u6807\u4e3a\u5076\u6570\u7684\u70b9\u7684\u65b9\u6848\u6570\u4e4b\u548c\uff0c$sum2$\u8868\u793a\u4e0b\u6807\u4e3a\u5947\u6570\u7684\u70b9\u7684\u65b9\u6848\u6570\u4e4b\u548c\u3002\n    \n    \u8f6c\u79fb\u65b9\u7a0b\uff1a\n    \n    $dp_{i*2-1} = sum1$\n    \n    $dp_{i*2} = sum2$\n    \n    ~~\u597d\u50cf\u6709\u70b9\u6577\u884d\u3002~~\n    \n    \u8fd8\u662f\u4ee3\u7801\u6bd4\u8f83\u76f4\u89c2\uff1a\n    \n    ```\n    \n    dp[0] = 1, sum1 = 1, sum2 = 0;\n\tfor(int i = 1; i <= n ; i++).{\n\t\tif(i&1){\n\t\t\t(dp[i] = sum1) %= p;\n\t\t\t(sum2 += dp[i]) %= p;//\u5947\u6570\u70b9\u5904\u7406\n\t\t}\n\t\telse{\n\t\t\t(dp[i] = sum2) %= p;\n\t\t\t(sum1 += dp[i]) %= p;//\u5076\u6570\u70b9\u5904\u7406\n\t\t}\n\t}\n    ```\n    \n   \u65f6\u95f4\u590d\u6742\u5ea6$O(n)$\u3002\n    \n    ~~\u5b8c\u6574\u4ee3\u7801\u5c31\u4e0d\u653e\u4e86\u3002~~\n    ",
        "postTime": 1605830394,
        "uid": 169422,
        "name": "v\u0435ctorwyx",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1452D \u3010Radio Towers\u3011"
    },
    {
        "content": "\u7b54\u6848\u7684\u8ba1\u7b97\u5176\u4ed6\u9898\u89e3\u5df2\u7ecf\u8bf4\u5f97\u5f88\u6e05\u695a\u4e86\uff0c\u5373\u679a\u4e3e $i,j$\uff0c\u8ba1\u7b97 $i,j$ \u5728\u7b54\u6848\u4e2d\u7684\u8d21\u732e\uff0c\u5373\u5982\u679c $i=j$\uff0c\u8bbe\u79bb $i$ \u8ddd\u79bb\u5728 $R$ \u5185\u7684\u86c7\u7684\u4e2a\u6570\u4e3a $x$ \uff0c\u5219\u8d21\u732e\u4e3a $a_i^2\\times(\\binom{n}{m}-\\binom{n-x}{m})$\uff1b\u5426\u5219\u8bbe\u79bb $i$ \u8ddd\u79bb\u5728 $R$ \u5185\u4f46\u79bb $j$ \u8ddd\u79bb\u4e0d\u5728 $R$ \u5185\u7684\u86c7\u7684\u4e2a\u6570\u4e3a $x$\uff0c\u79bb $j$ \u8ddd\u79bb\u5728 $R$ \u5185\u4f46\u79bb $i$ \u8ddd\u79bb\u4e0d\u5728 $R$ \u5185\u7684\u86c7\u7684\u4e2a\u6570\u4e3a $y$\uff0c\u79bb $i,j$ \u8ddd\u79bb\u90fd\u5728 $R$ \u5185\u7684\u86c7\u7684\u4e2a\u6570\u4e3a $z$\uff0c\u5219\u8d21\u732e\u4e3a $2\\times a_i\\times a_j \\times (\\binom{n}{m}-\\binom{n-z}{m}+\\binom{n-z}{m}-\\binom{n-z-x}{m}-\\binom{n-z-y}{m}+\\binom{n-z-x-y}{m})$\u3002\n\n\u6211\u5728\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cd\u8f83\u6162\uff0c\u4f46\u597d\u5199\u7684\u6c42 $x,y,z$ \u7684\u505a\u6cd5\u3002\u6211\u4eec\u4f7f\u7528 ```STL::bitset``` \u6765\u8ba1\u7b97\u4e24\u4e2a\u96c6\u5408\u7684\u5e76\u96c6\u4e0e\u4ea4\u96c6\uff0c\u66f4\u5177\u4f53\u5730\uff1a\n\n\u8bbe $f_{i,j}=[dis_{i,j}\\le R]$\u3002\n\n\n\u5f53 $i=j$ \u65f6\uff0c$x=\\sum\\limits_{k=1}^n f_{i,k}$\uff0c\u5373 ```f[i].count()```\u3002\n\n\u5426\u5219\uff0c$x=\\sum\\limits_{k=1}^nf_{i,k}[f_{i,k}\\ne f_{j,k}]$\uff0c\u5373 ```(f[i]|f[j]).count()-f[i].count()```\uff1b\n\n\u540c\u7406\uff0c $y=\\sum\\limits_{k=1}^nf_{j,k}[f_{i,k}\\ne f_{j,k}]$\uff0c\u5373 ```(f[i]|f[j]).count()-f[j].count()```\uff1b\n\n$z=\\sum\\limits_{k=1}^nf_{i,k}\\times f_{j,k}$\uff0c\u5373 ```(f[i]&f[j]).count()```\u3002\n\n\u679a\u4e3e $i,j$ \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f $\\Theta(n^2)$ \u7684\uff0c\u4e2d\u95f4 bitset \u8ba1\u7b97\u7684\u65f6\u95f4\u590d\u6742\u7684\u662f $\\Theta(\\frac{n}{32})$ \u7684\uff0c\u6240\u4ee5\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $\\Theta(\\frac{n^3}{32})$\uff0c\u5e38\u6570\u4e0d\u5927\u7684\u8bdd\u5373\u53ef\u901a\u8fc7\u3002\n\n\u5173\u4e8e\u4ee3\u7801\u90e8\u5206\uff1a\u4ee3\u7801\u4ec5\u653e\u51fa\u4e3b\u4f53\u90e8\u5206\uff0c\u56e0\u4e3a\u524d\u9762\u7684\u6a21\u677f\uff08\u5feb\u8bfb\u4e0emodint\uff09\u592a\u957f\u5f71\u54cd\u9605\u8bfb\uff0c\u5bf9\u672c\u9898\u6ca1\u6709\u592a\u5927\u5f71\u54cd\uff0c\u800c\u4e14\u4ec5\u51ed\u4e3b\u4f53\u90e8\u5206\u5df2\u7ecf\u8db3\u4ee5\u8f85\u52a9\u7406\u89e3\u3002\u5728\u4ee3\u7801\u4e2d\u6ca1\u6709\u4efb\u4f55\u53d6\u6a21\u64cd\u4f5c\uff0c\u56e0\u4e3a\u6211\u4f7f\u7528\u4e86\u81ea\u5df1\u5c01\u88c5\u7684modint\u7c7b\u578b\u4f7f\u4ee3\u7801\u66f4\u52a0\u7b80\u6d01\u6613\u8bfb\uff0c\u4e0d\u4ee3\u8868\u672c\u9898\u4e0d\u9700\u8981\u53d6\u6a21\u3002\n\n```cpp\n//Linkwish's code\nconst int N=2005;\nmodint p[N],inv[N];\nint n,m,r;\ninline modint qpow(modint x,int y){\n\tmodint res={1};\n\twhile(y){\n\t\tif(y&1)res=res*x;\n\t\tx=x*x;\n\t\ty>>=1;\n\t}\n\treturn res;\n}\ninline void init(){\n\tp[0]={1};\n\tfor(int i=1;i<=n;i++)p[i]=p[i-1]*i;\n\tinv[n]=qpow(p[n],mod-2);\n\tfor(int i=n-1;i>=0;i--)inv[i]=inv[i+1]*(i+1);\n}\ninline modint c(int x,int y){\n\tif(x<0||y<0||x<y)return {0};\n\treturn p[x]*inv[y]*inv[x-y];\n}\nbitset<N> is[N];\nint x[N],y[N];\nmodint a[N];\nsigned main(){\n\tread(n),read(m),read(r);\n\tinit();\n\tfor(int i=1;i<=n;i++)read(x[i]),read(y[i]),read(a[i].val);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tif(max(abs(x[i]-x[j]),abs(y[i]-y[j]))<=r)\n\t\t\t\tis[i][j]=1;\n\tmodint ans={0};\n\tfor(int i=1,now,tx,ty,all;i<=n;i++){\n\t\tans+=a[i]*a[i]*(c(n,m)-c(n-is[i].count(),m));\n\t\tfor(int j=i+1;j<=n;j++){\n\t\t\tnow=(is[i]&is[j]).count();\n\t\t\tall=(is[i]|is[j]).count();\n\t\t\ttx=all-is[j].count(),ty=all-is[i].count();\n\t\t\tans+=a[i]*a[j]*2*(c(n,m)-c(n-tx-now,m)-c(n-ty-now,m)+c(n-tx-ty-now,m));\n\t\t}\n\t}\n\twriteln(ans.val);\n\treturn 0;\n}\n```\n",
        "postTime": 1669038038,
        "uid": 408180,
        "name": "LinkWish",
        "ccfLevel": 7,
        "title": "CF1452D \u9898\u89e3"
    },
    {
        "content": "## \u601d\u8def\n\n\u8fd9\u662f\u4e00\u9053\u6982\u7387\u9898\uff0c\u601d\u8def\u5f88\u660e\u663e\u662f **\u9012\u63a8** \u3002\n\n\u89c2\u5bdf\u4e00\u4e0b\u9898\u76ee\uff0c\u6839\u636e\u9898\u610f\uff0c\u5f53\u6709 $n+2$ \u4e2a\u5c0f\u9547\u65f6\uff0c\u8bbe\u4fe1\u53f7\u5854\u6709 $k$ \u79cd\u5206\u5e03\u65b9\u6848\uff0c\u5f88\u5bb9\u6613\u5f97\u51fa\u7b54\u6848\u4e3a $\\tfrac{k}{2^n}$  \u3002\u6211\u4eec\u53ef\u4ee5\u5148\u679a\u4e3e\u627e\u51fa\u5f53\u6709 $n+2$ \u4e2a\u5c0f\u9547\u65f6 $k$ \u7684\u503c\u3002\n\n\u5f88\u660e\u663e $n=1$ \u65f6 $k$ \u53ea\u6709 $1$ \u79cd\u60c5\u51b5, $n=2$ \u65f6\u4e5f\u53ea\u6709\u4e00\u79cd\u60c5\u51b5\uff0c\u5f53 $n=3$ \u65f6\uff0c\u53ef\u4ee5\u5728\u4e09\u4e2a\u5c0f\u9547\u5404\u88c5\u4e00\u4e2a $p=1$ \u7684\u4fe1\u53f7\u5854\uff0c\u4e5f\u53ef\u4ee5\u5728\u4e8c\u53f7\u5c0f\u9547\u88c5\u4e00\u4e2a $p=2$ \u7684\u4fe1\u53f7\u5854\uff0c\u8fd9\u6837\u7f16\u53f7\u4e3a\u4e00\u548c\u4e09\u7684\u4e24\u5c0f\u9547\u4e5f\u80fd\u88ab\u8986\u76d6\u5230\uff0c\u6b64\u65f6 $k=3$ \u3002\u7531\u6b64\u7c7b\u63a8\uff0c\u53ef\u4ee5\u53d1\u73b0 $k$ \u7684\u503c\u662f\u4e00\u4e2a\u6590\u6ce2\u90a3\u5951\u6570\u5217\u3002\u8fd9\u6837\u5c31\u80fd\u901a\u8fc7\u9012\u63a8\u6c42\u51fa $k$ \u7684\u503c\uff0c\u518d\u5199\u4e00\u4e2a\u5feb\u901f\u5e42\u6c42\u51fa $2^n$ \uff0c\u6700\u540e\u6a21\u4e0a\u6a21\u6570\uff0c\u8f93\u51fa\u7b54\u6848\u5c31\u597d\u4e86\u3002\n\n## Code\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nlong long n;\nlong long a[1000010];\nlong long b[1000010];\nlong long mod=998244353;\nlong long ans;\nlong long ksm(long long a,long long b,long long p){\n    long long ans=1;\n    while(b>0){\n        if(b&1) ans=ans*a%p;\n        a=a*a%p;\n        b/=2;\n    }\n    return ans%p;\n}\nint main(){\n\tcin>>n;\n\tans=ksm(2,n,mod);\n\ta[1]=1;\n\ta[2]=1;\n\tfor(int i=3;i<=n;i++){\n\t\ta[i]=a[i-1]+a[i-2];\n\t\ta[i]%=mod;\n\t} \n\tcout<<a[n]*ksm(ans,mod-2,mod)%mod;\n\t\n}\n```\n\n\n",
        "postTime": 1658402237,
        "uid": 542309,
        "name": "L_Tree_am_I",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1452D \u3010Radio Towers\u3011"
    },
    {
        "content": "## \u601d\u8def\n\u6982\u7387\u9898\u5927\u6982\u7387\u53ef\u4ee5\u8f6c\u6210**\u5408\u6cd5\u65b9\u6848\u6570\u9664\u4ee5\u603b\u65b9\u6848\u6570**\u7684\u5f62\u5f0f\uff0c\u8fd9\u9898\u4e5f\u4e0d\u4f8b\u5916\u3002\n\n\u603b\u65b9\u6848\u6570\u663e\u7136\u6709 $2^{n}$ \u4e2a\uff0c\u73b0\u5728\u5f00\u59cb\u8003\u8651\u600e\u4e48\u6c42\u5408\u6cd5\u65b9\u6848\u3002\n\n\u6ce8\u610f\u5230\u7531\u4e8e\u6bcf\u4e2a\u57ce\u5e02\u53ea\u80fd\u88ab**\u6070\u597d\u4e00\u76cf\u706f**\u8986\u76d6\uff0c\u56e0\u6b64\u6211\u4eec\u8003\u8651\u5212\u5206\u6574\u4e2a\u533a\u95f4\u5230\u51e0\u6bb5\u3002\u4e0d\u96be\u53d1\u73b0\u6bcf\u4e00\u6bb5\u7684\u957f\u5ea6\u90fd\u662f\u5947\u6570\u3002\n\n\u4e8e\u662f\u95ee\u9898\u8f6c\u5316\u6210\u4e86\u8986\u76d6\u7684\u79cd\u7c7b\uff0c\u8fd9\u4e0d\u96be\u9012\u63a8\u51fa\u6765\u3002\u53ea\u9700\u8981\u8bb0\u5f55\u5947\u6570\u548c\u5076\u6570\u683c\u7684\u524d\u7f00\u548c\u5373\u53ef\u3002\n## \u4ee3\u7801\n```\n#include<bits/stdc++.h>\n#define int long long\n#define mp make_pair\n#define pi pair<int,int>\n#define pb push_back\nusing namespace std;\ninline int read(){\n   int s=0,w=1;\n   char ch=getchar();\n   while(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n   while(ch>='0'&&ch<='9') s=s*10+ch-'0',ch=getchar();\n   return s*w;\n}\nconst int p=998244353;\nlong long qp(int x,int y)\n{\n\tint ans=1;\n\tfor(int now=x; y; now=now*now%p,y>>=1) if(y&1) ans=ans*now%p;\n\treturn ans;\n}\nint ans[200003];\nsigned main()\n{\n\tint n=read();\n\tans[0]=1;\n\tint prea=1,preb=0;\n\tfor(int i=1; i<=n; i++) if(i&1) ans[i]=prea,preb+=ans[i],preb%=p;\n\telse  ans[i]=preb,prea+=ans[i],prea%=p;\n\tprintf(\"%lld\\n\",ans[n]*qp(qp(2,n),998244351)%p);\n\treturn 0;\n}\n```",
        "postTime": 1605841793,
        "uid": 111055,
        "name": "dead_X",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 CF1452D \u3010Radio Towers\u3011"
    },
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF1452D)\n\n### \u9898\u9762\uff1a\n\n\u4e00\u884c\u6709n\u4e2a\u57ce\u5e02\uff0c\u5728\u4e00\u4e9b\u57ce\u5e02\u4e0a\u653e\u4e0a\u4fe1\u53f7\u5854\uff0c\u6bcf\u4e2a\u57ce\u5e02\u653e\u4e0a\u4fe1\u53f7\u5854\u7684\u6982\u7387\u4e92\u4e0d\u5f71\u54cd\uff0c\u90fd\u4e3a$\\frac 1 2$\uff0c\u6c42\u6709\u591a\u5c11\u6982\u7387\u4f7f\u5f97\u653e\u5b8c\u4fe1\u53f7\u5854\u4e4b\u540e\uff0c\u5b58\u5728\u4e00\u4e2a\u5404\u4e2a\u4fe1\u53f7\u5854\u4fe1\u53f7\u5206\u914d\u65b9\u6848\uff0c\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff1a\n\n- 1\u5230n\u7684\u6240\u6709\u57ce\u5e02\u90fd\u6709\u4fe1\u53f7\uff0c\u4e140\u548cn+1\u57ce\u5e02\u6ca1\u6709\u4fe1\u53f7\n\n- \u6240\u6709\u57ce\u5e02\u53ef\u4ee5\u63a5\u6536\u5230\u4fe1\u53f7\u7684\u57ce\u5e02\u53ea\u67091\u4e2a\n\n\u4e00\u4e2a\u4fe1\u53f7\u5854\u5206\u914d\u4e86r\u7684\u4fe1\u53f7\uff0c\u5c31\u53ef\u4ee5\u8986\u76d6\u5305\u542b\u81ea\u8eab\u5728\u5185\u7684\u534a\u5f84\u4e3ar\u7684\u8303\u56f4\u5185\u7684\u57ce\u5e02\n\n\u7b2c\u4e8c\u6761\u9650\u5236\u89e3\u91ca\uff1a01010\u662f\u4e0d\u5408\u6cd5\u7684\u65b9\u6848\uff0c\u56e0\u4e3a\u7ed92\u5854\u548c4\u5854\u534a\u5f84\u4e3a2\u7684\u4fe1\u53f7\u867d\u7136\u6ee1\u8db3\u7b2c\u4e00\u6761\u9650\u5236\uff0c\u4f46\u7531\u4e8e3\u57ce\u5e02\u53ef\u4ee5\u63a5\u6536\u5230\u4fe1\u53f7\u7684\u57ce\u5e02\u67092\u548c4\u4e24\u4e2a\uff0c\u6240\u4ee5\u4e0d\u6ee1\u8db3\u7b2c\u4e8c\u6761\u9650\u5236\n\n\u7b54\u6848\u5bf9998244353\u53d6\u6a21\n\n### Solution\uff1a\n\n\u6709\u6982\u7387\u4e0d\u597d\u641e\uff0c\u4f46\u770b\u6837\u4f8b\u89e3\u91ca\u5f88\u5bb9\u6613\u53d1\u73b0\uff0c\u5176\u5b9e$\\frac 1 2$\u8fd9\u4e2a\u6570\u5b57\u6ca1\u7528\uff0c\u6700\u7ec8\u7b54\u6848\u4e00\u5b9a\u4e3a$\\frac {a_n} {2^n}$\uff0c$a_n$\u8868\u793a\u65b9\u6848\u4e2a\u6570\uff0c\u4e5f\u5c31\u662f\u6c42\u51fa\u65b9\u6848\u4e2a\u6570\u518d\u4e58\u4e0a2\u7684\u6b21\u5e42\u5bf9998244353\u7684\u9006\u5143\u5373\u53ef\n\n\u6c42\u65b9\u6848\u4e2a\u6570\uff1a\u4e0d\u96be\u60f3\u5230\u66b4\u529b$dp$\uff0c\u679a\u4e3e\u6700\u5de6\u7aef\u88ab\u8986\u76d6\u7684\u534a\u5f84\n\n```cpp\na[0] = a[1] = a[2] = 1;\nfor (int i = 3; i <= n; ++i)\n\tfor (int j = 1; j <= i; j += 2)\n\t\ta[i] = (a[i] + a[i - j]) % P;\n```\n\n\u770b\u5f0f\u5b50\uff0c\u4e0d\u96be\u60f3\u5230\u524d\u7f00\u548c\u4f18\u5316\uff0c\u56e0\u4e3a\u6bcf\u6b21\u662f```j+=2```\uff0c\u6240\u4ee5\u5947\u5076\u5206\u5f00\u7edf\u8ba1\u524d\u7f00\u548c\uff0c\u4ee4$f[i],s[i]$\u5206\u522b\u8868\u793ai\u4e3a\u5076\u6570\u548c\u5947\u6570\u65f6\u7684\u5947\u5076\u6027\u76f8\u540c\u7684\u524d\u7f00\u548c\uff0c\u56e0\u4e3a\u65b9\u7a0b\u4e2d\u4e0b\u6807\u6bcf\u6b21\u51cf\u7684\u90fd\u662f\u5947\u6570\uff0c\u6240\u4ee5i\u4e3a\u5947\u6570\u7684\u65f6\u5019\u8981\u4ece\u5076\u6570\u524d\u7f00\u548c\u7edf\u8ba1\u7b54\u6848\uff0c\u7136\u540e\u5c06\u7b97\u51fa\u7684$a_i$\u52a0\u5165\u5947\u6570\u524d\u7f00\u548c\n\n### Code\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\nconst int N = 2000005, P = 998244353;\nint a[N], f[N], s[N];\ninline int power(int a, int b) {\n    int res = 1;\n    for (; b; b >>= 1, a = a * a % P)\n        if (b & 1) res = res * a % P;\n    return res;\n}\nsigned main() {\n    int n;\n    cin >> n;\n    a[0] = a[1] = a[2] = 1;\n    s[1] = 1, f[2] = 2;\n    for (int i = 3; i <= n; ++i) {\n        if (i & 1) {\n            a[i] = f[i - 1];\n            s[i] = (s[i - 2] + a[i]) % P;\n        } else {\n            a[i] = s[i - 1];\n            f[i] = (f[i - 2] + a[i]) % P;\n        }\n    }\n    cout << power(power(2, n), P - 2) * a[n] % P;\n    return 0;\n}\n```",
        "postTime": 1605830450,
        "uid": 286239,
        "name": "ql12345",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1452D \u3010Radio Towers\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u5927\u732a\u5934\u5728\u6bd4\u8d5b\u7684\u65f6\u5019\u964d\u667a\u4e86\uff0c\u6389\u4e86\u4e00\u5806rating  \n\n\u90fd\u5feb\u628aD\u641e\u51fa\u6765\u4e86\u53c8\u53bb\u641e\u5176\u4ed6\u9898\u4e86\uff0c\u7ed3\u679c\u5f88\u6162\u624d\u505a\u51fa\u6765\uff0c\u5927\u732a\u5934\u3002  \n\n# \u9898\u610f  \n\u6709$n$\u4e2a\u70b9\uff0c\u6bcf\u4e2a\u70b9\u6709$\\dfrac{1}{2}$\u7684\u6982\u7387\u4f1a\u6709\u4e00\u4e2a\u4fe1\u53f7\u6e90\u3002\u4f60\u53ef\u4ee5\u4efb\u610f\u9009\u62e9\u4fe1\u53f7\u6e90\u7684\u5f3a\u5ea6$a$\uff0c\u5982\u679c\u70b9$x$\u4e0a\u6709\u4e00\u4e2a\u5f3a\u5ea6\u4e3a$a$\u7684\u4fe1\u53f7\u6e90\uff0c\u90a3\u4e48$\\forall |y-x|<a$\u7684\u70b9\u4f1a\u63a5\u6536\u5230\u8fd9\u4e2a\u4fe1\u53f7\u6e90\u7684\u4fe1\u53f7\u3002  \n\u4f60\u9700\u8981\u6784\u9020\u4fe1\u53f7\u6e90\u5f3a\u5ea6\uff0c\u4f7f\u5f97\uff1a  \n- $0$\u53f7\u70b9\u548c$n+1$\u53f7\u70b9\u6ca1\u6709\u88ab\u8986\u76d6\u5230  \n- $\\forall x\\in[1,n],x \\in \\mathbb{N}$\uff0c$x$\u53f7\u70b9\u6070\u597d\u88ab\u8986\u76d6\u4e00\u6b21  \n\n\u95ee\u4f60\u80fd\u6210\u529f\u5b9e\u73b0\u6784\u9020\u7684\u6982\u7387\u3002  \n\n# \u9898\u89e3  \n\u6240\u8c13\u7684\u6982\u7387\uff0c\u5176\u5b9e\u5c31\u662f\u5728\u6570\u6570\u4e0a\u9762\u5957\u4e86\u4e2a\u5916\u58f3\u3002  \n\u4f60\u53ea\u9700\u8981\u7b97\u51fa\u65b9\u6848\u6570\uff0c\u7136\u540e\u9664\u4ee5$2^n$\u5c31\u884c\u4e86  \n\n\n\u4e0a\u9762\u8fd9\u4e2a\u9898\u610f\u6bd4\u8f83\u590d\u6742\uff0c\u6211\u4eec\u8003\u8651\u8f6c\u6362\u9898\u610f  \n\u73b0\u5728\u6709$n$\u4e2a\u70b9\uff0c\u6211\u4eec\u9009\u62e9\u4e00\u4e2a\u5f3a\u5ea6\u4e3a$a$\u7684\u4fe1\u53f7\u6e90\uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u628a$2a-1$\u4e2a\u70b9\u6346\u7ed1\u5728\u4e86\u4e00\u8d77\uff0c\u53d8\u6210\u4e86\u4e00\u4e2a\u70b9\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u628a\u9898\u610f\u8f6c\u6362\u6210\u8fd9\u6837\uff1a  \n\u628a$n$\u4e2a\u70b9\u5206\u6210\u82e5\u5e72\u4e2a\u6bb5\uff0c\u6bcf\u6bb5\u957f\u5ea6\u90fd\u4e3a\u5947\u6570\u7684\u65b9\u6848\u6570\u3002  \n\u8fd9\u4e2a\u4e1c\u897f\u770b\u4e0a\u53bb\u975e\u5e38\u53ef\u505a\uff0c\u5b83\u4e5f\u786e\u5b9e\u975e\u5e38\u53ef\u505a\u3002  \n\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cd$O(n)$\u7684\u89e3\u6cd5\uff0c\u4e0d\u77e5\u9053\u6709\u6ca1\u6709\u5927\u4f6c\u4f1a$O(\\log n)$\u7684  \n\u6211\u4eec\u679a\u4e3e\u5206\u6210 $i$ \u6bb5\u7684\u65b9\u6848\u6570  \n`for (int i=n;i>=0;i-=2)`  \n\u7136\u540e\u6211\u4eec\u8003\u8651\u8fd9\u4e2a\u4e1c\u897f\u600e\u4e48\u7b97\u3002  \n\u6211\u4eec\u628a\u6240\u6709\u7684\u6570\u52a0\u4e0a$1$\uff0c\u4f46\u540e\u9664\u4ee5$2$\uff0c\u5c31\u53d8\u6210\u4e86\u5c06$k=\\dfrac{n+i}{2}$\u4e2a\u5c0f\u7403\u653e\u5165$i$\u4e2a\u76d2\u5b50\u91cc\uff0c\u76d2\u5b50\u4e0d\u53ef\u4ee5\u4e3a\u7a7a\u7684nt\u9898\u4e86  \n\u8fd9\u4e2a\u4e1c\u897f\u662f${k-i \\choose i-1}$\u7684\uff0c\u8bc1\u660e\uff1a\u9694\u677f\u6cd5\u3002  \n\u7136\u540e\u9884\u5904\u7406\u7ec4\u5408\u6570\u5c31\u53ef\u4ee5$O(n)$\u89e3\u51b3\u95ee\u9898\u3002  \n\u7531\u4e8e\u7ec4\u5408\u6570\u662f\u4ece\u7f3a\u7701\u6e90\u4e0a\u62c9\u8fc7\u6765\u7684\uff0c\u6240\u4ee5\u5f00\u5f97\u6bd4\u8f83\u5927\uff0c\u5173\u7cfb\u4e0d\u5927\u3002  \n```cpp\n#include<bits/stdc++.h>\n#define int long long \n#define rd(x) x=read()\nusing namespace std;\nconst int N=1e5+5;\nconst int M=1e6+5;\nconst int maxn=5e6+5;\nconst int mod=998244353;\nconst int inf=0x3f3f3f3f3f3f3f3f;\ninline int read(){int x=0,f=1;char ch=getchar();while(ch>'9'||ch<'0'){if(ch=='-')f=-1;ch=getchar();}while(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}return x*f;}\ninline int ksm(int x,int y,int z){int ret=1;while (y){if (y&1) ret=(ret*x)%z;x=(x*x)%z;y>>=1;}return ret;}\ninline int ksm(int x,int y){int ret=1;while (y){if (y&1) ret=(ret*x)%mod;x=(x*x)%mod;y>>=1;}return ret;}\ninline int INV(int x){return ksm(x,mod-2);}\nint fac[maxn],inv[maxn];\n \nvoid init()\n{\n    fac[0]=1;for (int i=1;i<maxn;i++) fac[i]=fac[i-1]*i%mod;\n    inv[maxn-1]=INV(fac[maxn-1]);for (int i=maxn-2;i>=1;i--) inv[i]=inv[i+1]*(i+1)%mod;\n}\nint C(int n,int m)\n{\n\tif (m==n || m==0) return 1;\n\tif (m>n || m<0) return 0;\n\treturn fac[n]*inv[m]%mod*inv[n-m]%mod;\n\t\n}\nint n,cnt;\nsigned main()\n{\n\tinit();\n\tcin>>n;\n\tfor (int i=n;i>=0;i-=2)\n\t{\n\t\tint k=(n+i)/2;\n\t\t//\u5c06k\u4e2a\u5c0f\u7403\u653e\u5165i\u4e2a\u76d2\u5b50\u4e2d\uff0c\u76d2\u5b50\u4e0d\u540c\uff0c\u5c0f\u7403\u76f8\u540c\uff0c\u4e0d\u53ef\u7a7a \n\t\tcnt+=C(k-1,i-1);cnt%=mod;\n\t}\n\tcout<<cnt*INV(ksm(2,n))%mod<<endl;\n}\n```",
        "postTime": 1605805384,
        "uid": 167006,
        "name": "WitheredZeal",
        "ccfLevel": 0,
        "title": "CF1452D"
    }
]