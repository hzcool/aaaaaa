[
    {
        "content": "# \u601d\u8def\n- \u8fd9\u9898\u4e5f\u4e0d\u96be\uff0c\u968f\u4fbf\u8bf4\u70b9\u601d\u8def\u5427\uff0c\u4e0e\u4e00\u697c\u5927\u4f6c\u7a0d\u6709\u4e0d\u540c\u3002\n- \u6700\u5f00\u59cb\u8981\u628a$s$\u6570\u7ec4\u5316\u6210\u5347\u5e8f\uff0c\u7136\u540e\u5bf9$p$\u505a\u4e00\u4e0b\u53d8\u6362\u3002\u76f8\u4fe1\u8fd9\u4e2a\u5927\u5bb6\u90fd\u4f1a$QwQ$\n- \u7136\u540e\u6211\u662f\u5148\u505a\u7684\u7b2c\u4e00\u95ee\u3002\u7b2c\u4e00\u95ee\u5462\uff0c\u6211\u4eec\u5148\u770b\u770b\u4e0b\u9650\u3002\u7531\u4e8e\u6bcf\u4e00\u4e2a\u6570$p[i]$,\u5b83\u5e94\u8be5\u5728$p[i]$\u8fd9\u4e2a\u4f4d\u7f6e\u4e0a\u800c\u4e0d\u662f$i$\u4f4d\u7f6e\u3002\u56e0\u6b64\u6bcf\u4e2a\u6570\u4ea4\u6362\u8fc7\u7a0b\u4e2d\u79fb\u52a8\u7684\u8ddd\u79bb\u7684\u603b\u548c\u662f$\\sum_{i=1}^n|p[i]-i|$\u3002\u53c8\u7531\u4e8e\u6bcf\u6b21\u4ea4\u6362\u7684\u4ee3\u4ef7\u5c31\u662f\u8fd9\u4e24\u4e2a\u6570\u5206\u522b\u79fb\u52a8\u7684\u8ddd\u79bb\uff0c\u56e0\u6b64\u7b54\u6848\u4e0b\u9650\u5c31\u662f$\\frac{\\sum_{i=1}^n|p[i]-i|}{2}$\u3002\n- \u6211\u4eec\u89c2\u5bdf\u4e00\u4e0b\u7b54\u6848\u7684\u4e0b\u9650\u80fd\u5426\u53d6\u5230\uff0c\u4ee5\u53ca\u600e\u4e48\u53d6\u5230\u3002\u5bf9\u4e8e$p$\u6570\u7ec4\uff0c\u6211\u4eec\u4ece\u5927\u5230\u5c0f\u8c03\u6574\uff08\u4ece\u5c0f\u5230\u5927\u5176\u5b9e\u540c\u7406\uff09\u3002\u5f53\u505a\u5230$i$\u65f6\uff0c\u7531\u4e8e\u6bd4$i$\u66f4\u5927\u7684\u6570\u90fd\u5df2\u7ecf\u5728\u6b63\u786e\u7684\u4f4d\u7f6e\u4e0a\u4e86\uff0c\u56e0\u6b64\u6211\u4eec\u7684$i$\u53ea\u4f1a\u5411\u53f3\u79fb\u52a8\u3002\u800c\u79fb\u52a8\u65f6\uff0c\u6211\u4eec\u53ea\u4e0e$j$\u6ee1\u8db3$p[j]<i$\u7684\u4f4d\u7f6e\u8fdb\u884c\u4ea4\u6362\u3002\u56e0\u6b64\uff0c\u79fb\u52a8\u65f6\u6211\u4eec\u4fdd\u8bc1\u4e86\u5bf9\u4e8e$p[i]>i$\u7684$p[i]$\u4e0d\u5411\u5de6\u79fb\u52a8\uff0c$p[i]<i$\u7684$p[i]$\u4e0d\u5411\u53f3\u79fb\u52a8\u3002\u800c\u56e0\u4e3a$\\sum_{i=1}^np[i]-i=0$\uff0c\u6240\u4ee5$\\sum_{i=1,p[i]>i}^np[i]-i$\u5fc5\u7136\u7b49\u4e8e$\\sum_{i=1,p[i]<i}^ni-p[i]$\uff0c\u4e14\u90fd\u7b49\u4e8e\u7b54\u6848\u7684\u4e0b\u9650$\\frac{\\sum_{i=1}^n|p[i]-i|}{2}$\u3002\u6211\u4eec\u505a\u7684\u65f6\u5019\u662f\u6ca1\u6709\u6d6a\u8d39\u7684\uff0c\u79fb\u52a8\u6b65\u6570\u4e3a$\\sum_{i=1,p[i]>i}^np[i]-i$\uff0c\u6240\u4ee5\u8fd9\u5c31\u662f\u7b54\u6848\u3002\n- \u7b2c\u4e8c\u95ee\uff0c\u76f4\u63a5\u6309\u6211\u4e0a\u9762\u8bf4\u7684\u6a21\u62df\u5373\u53ef\u3002\u8bdd\u4e0d\u591a\u8bf4\uff0c\u76f4\u63a5\u4e0a\u4ee3\u7801~\n---\n# \u4ee3\u7801\n```\n//CF584E Anton and Ira\n//submit 1 \n//By sxt on 2020.8.26 \n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<cmath>\n#include<queue>\n#include<algorithm>\n#define rg register int\n#define il inline\n#define is_(x) (x<='9'&&x>='0')\n#define mid (l + r >> 1)\n#define el else if\n#define lowbit(x) (x&(-x))\n#define Mem(x) memset(x, 0, sizeof(x))\n#define in read()\n#define _num (ch<='9'&&ch>='0')\nusing namespace std;\nconst int N = 2007;\nconst int M = 2e6+7;\nil int read(){\n\tint x=0,f=1;\n\tchar ch=getchar();\n\twhile(!_num){\n\t\tif(ch=='-')\n\t\t\tf=-1;\n\t\tch=getchar();\n\t}\n\twhile(_num){\n\t\tx=x*10+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn x*f;\n}\nchar f[11];\nint pcnt;\nil void pint(int x){\n\tpcnt = 0;\n\tif(x == 0) putchar('0');\n\tif(x < 0){\n\t\tx = -x;\n\t\tputchar('-');\n\t}\n\twhile(x){\n\t\tf[++pcnt] = x % 10 + '0';\n\t\tx /= 10;\n\t}\n\twhile(pcnt) putchar(f[pcnt--]);\n\tputchar('\\n');\n}\nint n, a[N], b[N], to[N], ans;\nstruct node{\n\tint x, y;\n}x[M];\nsigned main()\n{\n//\tfreopen(\"1.txt\", \"r\", stdin);\n\tn = in;\n\tfor(rg i = 1; i <= n; ++ i)a[i] = in;\n\tfor(rg i = 1; i <= n; ++ i)b[i] = in, to[b[i]] = i;\n\tfor(rg i = 1; i <= n; ++ i){\n\t\ta[i] = to[a[i]];\n\t\tans += abs(a[i] - i);\n\t}\n\tans >>= 1;\n\tpint(ans);\n\tans = 0;\n\tfor(rg i = 1; i <= n; ++ i)to[a[i]] = i;\n\tfor(rg i = n, now = to[n]; i; -- i, now = to[i])for(rg j = to[i]+1; j <= n; ++ j)\n\t\tif(a[j] <= now){\n\t\t\tx[++ans] = (node){j, now};\n\t\t\tswap(a[now], a[j]);\n\t\t\tnow = j;\n\t\t}\n\tpint(ans);\n\tfor(rg i = 1; i <= ans; ++ i)printf(\"%d %d\\n\", x[i].x, x[i].y);\n    return 0;\n}\n\n\n\n```\n\n\n\nPS:1.21s\u90a3\u4e2a\u5927\u4f6c\u600e\u4e48\u505a\u7684\u5440@_@\u592a\u5f3a\u4e86\u5427T_T",
        "postTime": 1598446493,
        "uid": 69263,
        "name": "stansxt",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF584E \u3010Anton and Ira\u3011"
    },
    {
        "content": "\u8003\u8651\u8d2a\u5fc3\uff0c\u53ef\u4ee5$O(n^2)$\u626b\u63cf\uff0c\u8d2a\u5fc3\u5224\u65ad\u662f\u5426\u4ea4\u6362\n\n\u9996\u5148\u628a\u7b2c\u4e00\u4e2a\u5e8f\u5217\u548c\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u641e\u6210\u4e00\u4e2a$[1,n]$\u5e8f\u5217\n\n\u5c31\u662f\u8fd9\u4e48\u5e72\n\n```cpp\n//\u5176\u4e2dR();\u662f\u8bfb\u5165\nn=R();\nfor(int i=1;i<=n;i++) a[i]=R();\nfor(int i=1;i<=n;i++) b[R()]=i;\nfor(int i=1;i<=n;i++) tmp[i]=b[a[i]];\nfor(int i=1;i<=n;i++) b[i]=tmp[i];\n\n```\n\u6bd4\u5982\n```\n7\n7 4 6 2 5 1 3\n7 5 6 1 3 2 4\n\u53ef\u4ee5\u53d8\u6362\u4e3a\n1 5 3 6 7 4 2\n```\n\u8fd9\u6837\u9898\u76ee\u5c31\u8f6c\u6362\u4e3a\u5bf9\u4e00\u4e2a\u5e8f\u5217\u4ea4\u6362\uff0c\u4f7f\u5176\u5347\u5e8f\n\n\u7136\u540e\u626b\u63cf\u5bf9\u4e8e\n\n$ b[i]>i$\u4e14$b[j]<=i$\u4e14$j<=b[i]$ ($i < j$)\n\n\u7684\u4ea4\u6362$b[i]$,$b[j]$\u8ba1\u7b97\u8d21\u732e\u5c31\u597d\u4e86\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#pragma GCC optimize(3,\"Ofast\",\"inline\")\n#pragma GCC optimize(2)\n#include<bits/stdc++.h>\nusing namespace std;\ninline int R()\n{\n\tchar c;int sign=1,res=0;\n\twhile((c=getchar())>'9'||c<'0') if(c=='-') sign=-1;res+=c-'0';\n\twhile((c=getchar())>='0'&&c<='9') res=res*10+c-'0';\n\treturn res*sign;\t\n}\nconst int Maxn=2e6+6;\nint n;\nint a[Maxn],b[Maxn],tmp[Maxn]; \nint Ans[Maxn][2],top;\nint main()\n{\n\tn=R();\n\tfor(int i=1;i<=n;i++) a[i]=R();\n\tfor(int i=1;i<=n;i++) b[R()]=i;\n\tfor(int i=1;i<=n;i++) tmp[i]=b[a[i]];\n\tfor(int i=1;i<=n;i++) b[i]=tmp[i];//\u8bfb\u5165\n\tint ans=0,st=1;\n\tbool f=0;\n\tLXY:;\n\twhile(b[st]==st) ++st;//\u5c0f\u4f18\u5316\n\tfor(int i=st;i<=n;i++)\n\t{\n\t\tif(b[i]>i)\n\t\t{\n\t\t\tfor(int j=i+1;j<=n;j++)\n\t\t\t{\n\t\t\t\tif(b[j]<=i&&j<=b[i])\n\t\t\t\t{\n\t\t\t\t\tans+=(j-i);\n\t\t\t\t\tAns[++top][0]=i;\n\t\t\t\t\tAns[  top][1]=j;\n\t\t\t\t\tswap(b[i],b[j]);\n\t\t\t\t\tgoto LXY;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\tprintf(\"%d\\n\",top);\n\tfor(int i=1;i<=top;i++)\n\tprintf(\"%d %d\\n\",Ans[i][0],Ans[i][1]);\n}\n```",
        "postTime": 1589002071,
        "uid": 220857,
        "name": "\u7d20\u8d28\u73a9\u5bb6\u5b591\u8d85",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF584E \u3010Anton and Ira\u3011"
    }
]