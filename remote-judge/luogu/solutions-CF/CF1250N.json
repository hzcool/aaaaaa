[
    {
        "content": "\u4f3c\u4e4e\u8fd8\u6ca1\u6709\u4eba\u5199\u9898\u89e3\u2026\u2026\n\n\u8bbe\u521d\u59cb\u8fde\u901a\u5757\u6570\u4e3a $cnt$\uff0c\u4f3c\u4e4e\u5f88\u663e\u7136\u6700\u7ec8\u7b54\u6848\u4e00\u5b9a\u662f $cnt-1$\uff1a\n\n* \u7531\u4e8e\u6700\u540e\u8981\u8fde\u901a\uff0c\u6240\u4ee5\u7b54\u6848 $\\ge cnt-1$\u3002\n\n* \u63a5\u4e0b\u6765\u6211\u4eec\u6784\u9020\u4e00\u7ec4 $cnt-1$ \u7684\u65b9\u6848\u3002\n\n\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8fde\u901a\u5757\u968f\u4fbf\u627e\u4e00\u4e2a\u751f\u6210\u6811\uff0c\u6bcf\u4e00\u68f5\u751f\u6210\u6811\u968f\u4fbf\u627e\u4e00\u4e2a\u53f6\u5b50\uff0c\u5f97\u77e5\u6211\u4eec\u5c06\u8fd9\u4e2a\u53f6\u5b50\u968f\u610f\u62d6\u52a8\u90fd\u4e0d\u4f1a\u5206\u88c2\u8fd9\u4e2a\u672c\u6765\u7684\u8fde\u901a\u5757\uff0c\u6240\u4ee5\u6211\u4eec\u5c06 $cnt-2$ \u4e2a\u53f6\u5b50\u8fde\u5230\u5269\u4e0b\u90a3\u4e2a\u8fde\u901a\u5757\u7684\u4efb\u610f\u4e00\u4e2a\u70b9\u5373\u53ef\u3002\n\n```cpp\n//We'll be counting stars.\n#pragma GCC optimize(\"Ofast\")\n#include<bits/stdc++.h>\nusing namespace std;\n#define fir first\n#define sec second\n#define mkp make_pair\n#define pb emplace_back\n#define For(i,j,k) for(int i=(j),i##_=(k);i<=i##_;i++)\n#define Rof(i,j,k) for(int i=(j),i##_=(k);i>=i##_;i--)\n#define ckmx(a,b) a=max(a,b)\n#define ckmn(a,b) a=min(a,b)\n#define Fi(s) freopen(s,\"r\",stdin)\n#define Fo(s) freopen(s,\"w\",stdout)\n#define Fre(s) Fi(s\".in\"),Fo(s\".out\")\n#define debug(...) cerr<<\"#\"<<__LINE__<<\": \"<<__VA_ARGS__<<endl\n#define ll long long\nconst ll mod=1;\ninline ll pw(ll x,ll y){ll r=1;while(y){if(y&1)r=r*x%mod;x=x*x%mod;y>>=1;}return r;}\n#define int ll\n#define pi pair<int,int>\n#define N 100010\npi a[N];\nvector<pi> e[2*N];\nint b[2*N],n,lim,lst,id;\nbool v[2*N];\nint f[2*N],rep[2*N],ed[2*N];\nvector<pi> ans;\ninline int gf(int x){\n\treturn x==f[x]?x:f[x]=gf(f[x]);\n}\nvoid dfs(int x){\n\tv[x]=1;\n\tlst=x;\n\tfor(auto i:e[x]) if(!v[i.fir]) id=i.sec,dfs(i.fir);\n}\nvoid work(){\n\tcin>>n;\n\tFor(i,1,n) cin>>a[i].fir>>a[i].sec;\n\tFor(i,1,n) b[2*i-1]=a[i].fir,b[2*i]=a[i].sec;\n\tsort(b+1,b+1+2*n);\n\tlim=unique(b+1,b+1+2*n)-b-1;\n\tFor(i,1,n)\n\t\ta[i].fir=lower_bound(b+1,b+1+lim,a[i].fir)-b,\n\t\ta[i].sec=lower_bound(b+1,b+1+lim,a[i].sec)-b;\n\tFor(i,1,lim) e[i].clear();\n\tFor(i,1,n) e[a[i].fir].pb(mkp(a[i].sec,i)),e[a[i].sec].pb(mkp(a[i].fir,i));\n\tfill(v+1,v+1+lim,false);\n\tiota(f+1,f+1+lim,1);\n\tFor(i,1,n) f[gf(a[i].fir)]=gf(a[i].sec);\n\tFor(i,1,lim) gf(i);\n\tFor(i,1,lim) if(!v[i]){\n\t\tdfs(i);\n\t\trep[f[i]]=lst;\n\t\ted[f[i]]=id;\n\t}\n\tans.clear();\n\tfill(v+1,v+1+lim,false);\n\tFor(i,1,lim) if(!v[f[i]]){\n\t\tv[f[i]]=1;\n\t\tans.pb(mkp(rep[f[i]],ed[f[i]]));\n\t}\n\tint k=ans.size()-1;\n\tcout<<k<<endl;\n\tFor(i,0,k-1) cout<<ans[i].sec<<\" \"<<b[ans[i].fir]<<\" \"<<b[ans.back().fir]<<endl;\n}\nsigned main(){\n\tios::sync_with_stdio(false),cin.tie(nullptr);\n\tint T;cin>>T;\n\twhile(T--)work();\nreturn 0;}\n```",
        "postTime": 1659960127,
        "uid": 101868,
        "name": "I_am_Accepted",
        "ccfLevel": 0,
        "title": "CF1250N Wires"
    }
]