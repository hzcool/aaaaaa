[
    {
        "content": "\u7ea2\u540d\u4e86\uff0c\u7eaa\u5ff5\u4e00\u4e0b\u3002\n\n\u8fd9\u9898\u4e00\u5f00\u59cb\u770b\u4e0d\u51fa\u4efb\u4f55\u4e1c\u897f\uff0c\u4e8e\u662f\u5199\u4e86\u4e0b\u9762\u8fd9\u4e2a\u7a0b\u5e8f\u6253\u4e86\u4e2a\u8868\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int MAXN=100010;\nint cnt,vis[MAXN];\nint main () {\n\tfor (int i=1;i<=10000;i++) {\n\t\tif (vis[i]) {continue;}\n\t\tfor (int j=i+1;j<=10000;j++) {\n\t\t\tint flg=0;\n\t\t\tif (vis[j]) {continue;}\n\t\t\tfor (int k=j+1;k<=10000;k++) {\n\t\t\t\tif (vis[k]) {continue;}\n\t\t\t\tif (i^j^k) {continue;}\n\t\t\t\tprintf(\"%d:   %d %d %d\\n\",++cnt,i,j,k);\n\t\t\t\tvis[i]=vis[j]=vis[k]=1;\n\t\t\t\tflg=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (flg) {break;}\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\n\u8868\u5927\u6982\u957f\u8fd9\u6837\uff08\u5c40\u90e8\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/m4i3mdwz.png)\n\n\u7136\u540e\u53ef\u4ee5\u603b\u7ed3\u51fa\u5982\u4e0b\u89c4\u5f8b:\n\n1. $a$ \u7684\u53d6\u503c\u628a\u5e8f\u5217\u5206\u6210\u4e86\u82e5\u5e72\u5757\uff0c\u6bcf\u4e00\u5757\u5185\u7684 $a$ \u90fd\u662f\u4ece $2^k$ \u5230 $2^{k+1}-1$ \u7684\u8fde\u7eed\u6574\u6570\u3002\n\n2. \u540c\u4e00\u5757\u5185\uff0c$b$ \u7684\u53d6\u503c\u53ef\u4ee5\u9012\u5f52\u6784\u9020\u3002\u6bcf\u6b21\u5c06\u5927\u5757\u5206\u6210\u56db\u5c0f\u5757\uff0c\u5206\u522b\u53d6\u7b2c $1,3,4,2$ \u5c0f\u7684\u503c\u3002\n\n3. \u540c\u4e00\u5757\u5185\uff0c$c$ \u7684\u53d6\u503c\u53ef\u4ee5\u9012\u5f52\u6784\u9020\u3002\u6bcf\u6b21\u5c06\u5927\u5757\u5206\u6210\u56db\u5c0f\u5757\uff0c\u5206\u522b\u53d6\u7b2c $1,4,2,3$ \u5c0f\u7684\u503c\u3002\n\n\u4e8e\u662f\u6211\u4eec\u5148\u641e\u51fa $n$ \u5728\u54ea\u4e00\u5757\uff0c\u5982\u679c\u662f $a$ \u53ef\u4ee5\u76f4\u63a5\u8fd4\u56de\uff0c\u5982\u679c\u662f $b,c$ \u5c31\u9012\u5f52\u6784\u9020\u5373\u53ef\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\nll calc2 (ll x,ll y) {\n\tif (x==1) {return 1;}\n\telse {\n\t\tll t=x/4;\n\t\tif (y<=t) {return calc2(t,y);}\n\t\telse if (y<=2*t) {return calc2(t,y-t)+2*t;}\n\t\telse if (y<=3*t) {return calc2(t,y-2*t)+3*t;}\n\t\telse {return calc2(t,y-3*t)+t;}\n\t}\n}\nll calc3 (ll x,ll y) {\n\tif (x==1) {return 1;}\n\telse {\n\t\tll t=x/4;\n\t\tif (y<=t) {return calc3(t,y);}\n\t\telse if (y<=2*t) {return calc3(t,y-t)+3*t;}\n\t\telse if (y<=3*t) {return calc3(t,y-2*t)+t;}\n\t\telse {return calc3(t,y-3*t)+2*t;}\n\t}\n}\nll t,n;\nll calc (ll n) {\n\tll tmp=n%3;\n\tn=(n+2)/3;\n\tll pos=0,cnt=0;\n\twhile (pos+(1ll<<cnt)<n) {\n\t\tpos+=(1ll<<cnt);\n\t\tcnt+=2;\n\t}\n\tll res=3*pos;\n\tif (tmp==1) {\n\t\treturn res+(n-pos);\n\t} else if (tmp==2) {\n\t\treturn res+(1ll<<cnt)+calc2(1ll<<cnt,n-pos);\n\t} else {\n\t\treturn res+(1ll<<(cnt+1))+calc3(1ll<<cnt,n-pos);\n\t}\n}\nint main () {\n\tscanf(\"%lld\",&t);\n\tfor (int ii=1;ii<=t;ii++) {\n\t\tscanf(\"%lld\",&n);\n\t\tprintf(\"%lld\\n\",calc(n));\n\t}\n\treturn 0;\n}\n```\n\n\n\n\n\n\n\n\n",
        "postTime": 1586738778,
        "uid": 113546,
        "name": "ix35",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF1338C \u3010Perfect Triples\u3011"
    },
    {
        "content": "#### Update\uff1a\u4fee\u6539\u4e86\u7b14\u8bef\n\n\u6211\u7684\u4ee3\u7801\u975e\u5e38\u77ed\u3002\n\n\u6700\u5f00\u59cb\u6ca1\u770b\u51fa\u4ec0\u4e48\u89c4\u5f8b\uff0c\u4e8e\u662f\u6211\u82b1\u4e86 30 \u5206\u949f\u5199\u51fa\u4e86 \u524d 42 \u4e2a\u6570\u3002\n\n\u524d 15 \u4e2a\u6ca1\u5565\u89c4\u5f8b\uff0c\u552f\u4e00\u5f15\u4eba\u6ce8\u76ee\u7684\u5c31\u662f\u5b83\u8986\u76d6\u4e86 1 \u81f3 15 \u7684\u6240\u6709\u6570\uff1a\n\n$$1,2,3,4,8,12,5,10,15,6,11,13,7,9,14,\\cdots$$\n\n\u7ee7\u7eed\u5199\uff08\u9b3c\u77e5\u9053\u6211\u600e\u4e48\u90a3\u4e48\u6709\u8010\u5fc3\uff09\uff1a\n\n$$16,32,48,17,34,51,18,35,49,19,33,50$$\n\n$$20,40,60,21,42,63,22,43,61,23,41,62$$\n\n$$24,44,52,\\cdots$$\n\n\u4f60\u5e94\u8be5\u53ef\u4ee5\u5bb9\u6613\u5730\u53d1\u73b0\uff1a$3$ \u4e2a $3$ \u4e2a\u5206\u7ec4\uff0c\u7b2c\u4e00\u4e2a\u6570\u603b\u662f\u4ece $2^{2k}$ \u5f00\u59cb\u987a\u5e8f\u6392\u5217\uff0c\u5230 $2^{2k+1}-1$\uff0c\u8fd9\u4e9b\u4e09\u5143\u7ec4\u521a\u597d\u8986\u76d6\u5b8c $2^{2k}\\sim2^{2k+2}-1$ \u7684\u6240\u6709\u6570\u3002\n\n\u53ef\u662f\u540e\u9762\u4e24\u4e2a\u6570\u6ca1\u5565\u89c4\u5f8b\uff0c\uff0c\uff0c\u8003\u8651\u5199\u51fa\u4e8c\u8fdb\u5236\u8868\u793a\u3002\u663e\u7136\u7b2c\u4e00\u4e2a\u6570\u5f02\u6216\u7b2c\u4e8c\u4e2a\u6570\u7b49\u4e8e\u7b2c\u4e09\u4e2a\u6570\uff0c\u53ea\u9700\u6c42\u7b2c\u4e8c\u4e2a\u5373\u53ef\u3002\n\n\u7b2c\u4e8c\u4e2a\u6570\u663e\u7136\u662f\u5927\u4e8e\u7b49\u4e8e $2^{2k+1}$ \u7684\uff0c\u8003\u8651\u5199\u51fa\u5176\u76f8\u5bf9\u4e8e $2^{2k+1}$ \u7684\u589e\u91cf\u3002\n\n\u5199\u51fa\u6765\u662f\u8fd9\u6837\u7684\uff1a\n\n$$00000$$\n\n$$00010$$\n\n$$00011$$\n\n$$00001$$\n\n$$01000$$\n\n$$01010$$\n\n$$01011$$\n\n$$01001$$\n\n$$01100$$\n\n\u770b\u51fa\u6765\u4e86\u5417\uff1f\u4ece\u6700\u540e\u4e24\u4f4d\u5f00\u59cb\uff0c\u6bcf\u4e24\u4f4d\u90fd\u4ece $00\\to 10\\to 11\\to 01$ \u9012\u53d8\uff01\u4e8e\u662f\u5199\u51fa\u4ee3\u7801\u5c31\u5f88\u5bb9\u6613\u4e86\u3002\n\n\u4ee3\u7801\u5982\u4e0b\u3002\u4e00\u4e9b $+1-1$ \u7684\u7ec6\u8282\u9700\u8981\u81ea\u5df1\u659f\u914c\u4e00\u4e0b\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\ntypedef long long ll;\nll n,f[]={0,1,2,3,4,8,12,5,10,15,6,11,13,7,9,14},ff[]={0,2,3,1};\nint main() {\n\tint T;\n\tscanf(\"%d\",&T);\n\twhile(T--){\n\t\tscanf(\"%lld\",&n);\n\t\tll tmp=n;\n\t\tif(n<=15){\n\t\t\tprintf(\"%lld\\n\",f[n]);\n\t\t\tcontinue;\n\t\t}\n\t\tll now=0;\n\t\twhile(tmp)tmp/=4,now++;\n\t\ttmp=(n+2)/3;\n\t\tll from=(1ll<<(2*(now-1)))+(n-(1ll<<(2*(now-1))))/3;\n\t\tif(n%3==1)printf(\"%lld\\n\",from);\n\t\telse {\n\t\t\tll sx=(n-(1ll<<(2*(now-1))))/3;\n\t\t\tll tmp=(1ll<<(2*now-1));\n\t\t\tll ii=1;\n\t\t\twhile(sx)tmp+=ii*ff[sx%4],sx/=4,ii*=4;\n\t\t\tif(n%3==2)printf(\"%lld\\n\",tmp);\n\t\t\telse printf(\"%lld\\n\",from^tmp);\n\t\t}\n\t}\n}\n```",
        "postTime": 1586743658,
        "uid": 42156,
        "name": "feecle6418",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1338C \u3010Perfect Triples\u3011"
    },
    {
        "content": "\u4e71\u641e\u505a\u6cd5\uff0c\u540c\u6837\u662f\u627e\u89c4\u5f8b\u3002\n\n\u4e3e\u4e2a\u4f8b\u5b50\uff1a\n\n```\n0000000000000000000000000011011\n0000000000000000000000000101101\n0000000000000000000000000110110\n\n0000000000000000000000000011100\n0000000000000000000000000100100\n0000000000000000000000000111000\n\n0000000000000000000000000011101\n0000000000000000000000000100110\n0000000000000000000000000111011\n\n0000000000000000000000000011110\n0000000000000000000000000100111\n0000000000000000000000000111001\n```\n\n\u8fd9\u4e9b\u4e8b\u6211\u6253\u8868\u51fa\u6765\u7684\u56db\u7ec4\u5408\u6cd5\u7684\u6570\uff0c\u4e0d\u96be\u53d1\u73b0\u4e24\u4f4d\u4e24\u4f4d\u5206\u5757\u80fd\u53d1\u73b0\n\n```\n10\n11\n01\n```\n\n```\n01\n10\n11\n```\n\n```\n11\n01\n10\n```\n\n\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u53ea\u8981\u627e\u5230\u8fd9\u4e09\u4e2a\u6570\u4e2d\u4efb\u610f\u4e00\u4e2a\u7684\u89c4\u5f8b\uff0c\u5176\u4ed6\u4e24\u4e2a\u81ea\u7136\u4e5f\u5c31\u8fce\u5203\u800c\u89e3\u3002\n\n\u4e8e\u662f\u6211\u6253\u51fa\u4e86\u6240\u6709\u7b2c\u4e00\u4e2a\u6570\u7684\u8868\uff1a\n\n```\n0000000000000000000000000000001\n0000000000000000000000000000100\n0000000000000000000000000000101\n0000000000000000000000000000110\n0000000000000000000000000000111\n0000000000000000000000000010000\n0000000000000000000000000010001\n0000000000000000000000000010010\n0000000000000000000000000010011\n0000000000000000000000000010100\n0000000000000000000000000010101\n0000000000000000000000000010110\n0000000000000000000000000010111\n0000000000000000000000000011000\n0000000000000000000000000011001\n0000000000000000000000000011010\n0000000000000000000000000011011\n0000000000000000000000000011100\n0000000000000000000000000011101\n0000000000000000000000000011110\n```\n\n\u4e0d\u96be\u53d1\u73b0\uff0c\u662f $2^0+2^2+2^4\u2026\u2026$ \u4f9d\u6b21\u8fed\u4ee3\u4e0b\u53bb\uff0c\u53ef\u4ee5\u8f7b\u677e\u8ba1\u7b97\u6240\u6709\u7684 $a$ \u3002\n\n\u7136\u540e\u8fd9\u9053\u9898\u5c31\u89e3\u51b3\u4e86\u3002\n\n```c++\n//QwQcOrZ yyds!!!\n#include<bits/stdc++.h>\n#define ll long long\n#define il inline\n#define F(i,a,b) for (int i=(a);i<=(b);i++)\n#define R(i,a,b) for (int i=(a);i<(b);i++)\n#define D(i,a,b) for (int i=(a);i>=(b);i--)\n#define go(i,x) for (int i=head[x];i;i=e[i].nx)\n#define mp make_pair\n#define pb push_back\n#define pa pair < int,int >\n#define fi first\n#define se second\n#define re register\n#define be begin()\n#define en end()\n#define sqr(x) ((x)*(x))\n#define ret return puts(\"-1\"),0;\n#define put putchar('\\n')\n#define inf 1000000005\n#define mod 1000000007\n#define Endl endl\n#define int ll\n//#define N\nusing namespace std;\ninline char gc(){static char buf[100000],*p1=buf,*p2=buf;return p1==p2&&(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)?EOF:*p1++;}\n#define gc getchar\ninline ll read(){char c=gc();ll su=0,f=1;for (;c<'0'||c>'9';c=gc()) if (c=='-') f=-1;for (;c>='0'&&c<='9';c=gc()) su=su*10+c-'0';return su*f;}\ninline void write(ll x){if (x<0){putchar('-');write(-x);return;}if (x>=10) write(x/10);putchar(x%10+'0');}\ninline void writesp(ll x){write(x),putchar(' ');}\ninline void writeln(ll x){write(x);putchar('\\n');}\nint T,n,v,sum,ans,now;\nsigned main()\n{\n\tT=read();\n\twhile (T--)\n\t{\n\t\tn=read();\n\t\tint u=(n-1)%3+1;sum=0;\n\t\tif (u==1)\n\t\t{\n\t\t\tn=(n-1)/3;\n\t\t\tfor (int i=0;i<=63;i+=2)\n\t\t\t{\n\t\t\t\tif ((1ll<<i)+sum>n) \n\t\t\t\t{\n\t\t\t\t\tnow=i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tsum+=(1ll<<i);\n\t\t\t}\n\t\t\twriteln((1ll<<now)+n-sum);\n\t\t} else\n\t\tif (u==2)\n\t\t{\n\t\t\tn=(n-1)/3;\n\t\t\tfor (int i=0;i<=63;i+=2)\n\t\t\t{\n\t\t\t\tif ((1ll<<i)+sum>n) \n\t\t\t\t{\n\t\t\t\t\tnow=i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tsum+=(1ll<<i);\n\t\t\t}\n\t\t\tv=(1ll<<now)+n-sum;ans=v;\n\t\t\tfor (int i=0;i<=63;i+=2)\n\t\t\t{\n\t\t\t\tint p=((v>>i)&1),p1=(v>>(i+1))&1;\n\t\t\t\tif (p&&p1) ans^=(1ll<<(i+1));\n\t\t\t\tif (p&&!p1) ans^=(1ll<<i),ans^=(1ll<<(i+1));\n\t\t\t\tif (!p&&p1) ans^=(1ll<<i);\n\t\t\t}\n\t\t\twriteln(ans);\n\t\t} else\n\t\t{\n\t\t\tn=(n-1)/3;\n\t\t\tfor (int i=0;i<=63;i+=2)\n\t\t\t{\n\t\t\t\tif ((1ll<<i)+sum>n) \n\t\t\t\t{\n\t\t\t\t\tnow=i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tsum+=(1ll<<i);\n\t\t\t}\n\t\t\tv=(1ll<<now)+n-sum;ans=v;\n\t\t\tfor (int i=0;i<=63;i+=2)\n\t\t\t{\n\t\t\t\tint p=((v>>i)&1),p1=(v>>(i+1))&1;\n\t\t\t\tif (p&&p1) ans^=(1ll<<i);\n\t\t\t\tif (p&&!p1) ans^=(1ll<<(i+1));\n\t\t\t\tif (!p&&p1) ans^=(1ll<<i),ans^=(1ll<<(i+1));\n\t\t\t}\n\t\t\twriteln(ans);\n\t\t}\n\t}\n\t\t\t\n}\n/*\n\n*/\n\n```",
        "postTime": 1626911950,
        "uid": 120911,
        "name": "Lynkcat",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1338C Perfect Triples"
    },
    {
        "content": "\u7ed3\u8bba\u3002\n\n\u4e0d\u662f\u4e00\u9053\u96be\u9898\uff0c\u4f46\u662f\u662f\u4e00\u9053\u70e6\u9898\uff08\u53ef\u80fd\u662f\u56e0\u4e3a\u6211\u592a naive\uff09  \n\u521d\u770b\u6ca1\u4ec0\u4e48\u60f3\u6cd5\uff0c\u5148\u6253\u4e2a\u8868\uff0c\u4ee5\u4e09\u4e2a\u4e3a\u4e00\u7ec4\uff0c\u770b\u770b\u80fd\u4e0d\u80fd\u627e\u5230\u89c4\u5f8b\u3002  \n\u6253\u8868\u7a0b\u5e8f\u5982\u4e0b\u3002\n```cpp\n#include<bits/stdc++.h>\n#define MAXN 100005\n#define reg register\n#define inl inline\nusing namespace std;\nint n;\nbool fg[MAXN];\nint main()\n{\n\tfreopen(\"1.txt\",\"w\",stdout);\n\tfor(reg int i=1;i<=1000;i++)\n\t{\n\t\tif(fg[i]) continue;\n\t\tfor(reg int j=i+1;j<=1000;j++)\n\t\t{\n\t\t\tif(fg[j]) continue;\n\t\t\treg int k=i^j;\n\t\t\tif(fg[k]) continue;\n\t\t\tfg[i]=fg[j]=fg[k]=1;\n\t\t\tprintf(\"%d %d %d\\n\",i,j,k);\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\u6253\u51fa\u4e00\u4e2a\u8fd9\u6837\u7684\u8868\uff1a\n```cpp\n1 2 3\n4 8 12\n5 10 15\n6 11 13\n7 9 14\n16 32 48\n17 34 51\n18 35 49\n19 33 50\n20 40 60\n21 42 63\n22 43 61\n23 41 62\n24 44 52\n25 46 55\n26 47 53\n27 45 54\n28 36 56\n29 38 59\n30 39 57\n31 37 58\n64 128 192\n...\n```\n\u4e00\u773c\u770b\u4e0a\u53bb\u6ca1\u4ec0\u4e48\u89c4\u5f8b\uff0c\u4f46\u53ef\u4ee5\u53d1\u73b0\uff1a  \n1. \u4ee5\u6bcf $2^{2k}$ \u7ec4\u6570\u4e3a\u4e00\u4e2a\u5927\u7ec4\uff0c\u53d1\u73b0\u6bcf\u4e2a\u7ec4\u5185\u7684\u6570\u6b63\u597d\u53d6\u6ee1 $[2^{2(k-1)},2^{2k})$ .  \n2. \u7b2c\u4e00\u6392\u6570\u5728\u5404\u81ea\u7684\u5927\u7ec4\u5185\u9012\u589e\u3002\n\n\u867d\u7136\u6ca1\u4ec0\u4e48\u5927\u4f5c\u7528\uff0c\u4f46\u6211\u4eec\u81f3\u5c11\u77e5\u9053\u4e86\u7b2c\u4e00\u6392\u6570\uff0c\u4e5f\u5c31\u662f $n\\equiv1\\pmod3$ \u8fd9\u7ec4\u7684\u89c4\u5f8b\uff0c\u53ef\u4ee5\u500d\u589e\u63a8\u51fa\u3002\n\n\u7136\u540e\u6211\u4eec\u518d\u6765\u770b\u7b2c\u4e8c\u6392\uff0c\u60f3\u5230\u8fd9\u662f\u4e00\u4e2a\u5f02\u6216\u7684\u9898\uff0c\u4e8e\u662f\u5927\u529b\u62c6\u6210\u4e8c\u8fdb\u5236\u3002\u7a0b\u5e8f\u5982\u4e0b\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define MAXN 100005\n#define reg register\n#define inl inline\nusing namespace std;\nint n,t[15];\nbool fg[MAXN];\nvoid Bit(reg int x)\n{\n\tmemset(t,0,sizeof(t));\n\treg int i=1;\n\twhile(x)\n\t{\n\t\tt[i]=x%2;\n\t\tx/=2;\n\t\ti++;\n\t}\n\tfor(reg int i=11;i>=1;i--) printf(\"%d\",t[i]);\n\tprintf(\" \");\n}\nint main()\n{\n\tfreopen(\"2.txt\",\"w\",stdout);\n\treg int tot=0;\n\tfor(reg int i=1;i<=1000;i++)\n\t{\n\t\tif(fg[i]) continue;\n\t\tfor(reg int j=i+1;j<=1000;j++)\n\t\t{\n\t\t\tif(fg[j]) continue;\n\t\t\treg int k=i^j;\n\t\t\tif(fg[k]) continue;\n\t\t\ttot++;\n\t\t\tfg[i]=fg[j]=fg[k]=1;\n\t\t\tBit(i); Bit(j); Bit(k);\n\t\t\tputs(\"\");\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\n\u6253\u51fa\u4e00\u5f20\u8fd9\u6837\u7684\u8868\uff08\u6211\u81ea\u5df1\u5206\u4e86\u4e00\u4e0b\u7c7b\uff09\uff1a\n\n```cpp\n00000000001 00000000010 00000000011 \n\n00000000100 00000001000 00000001100 \n00000000101 00000001010 00000001111 \n00000000110 00000001011 00000001101 \n00000000111 00000001001 00000001110 \n\n00000010000 00000100000 00000110000 \n00000010001 00000100010 00000110011 \n00000010010 00000100011 00000110001 \n00000010011 00000100001 00000110010 \n\n00000010100 00000101000 00000111100 \n00000010101 00000101010 00000111111 \n00000010110 00000101011 00000111101 \n00000010111 00000101001 00000111110 \n\n00000011000 00000101100 00000110100 \n00000011001 00000101110 00000110111 \n00000011010 00000101111 00000110101 \n00000011011 00000101101 00000110110 \n\n00000011100 00000100100 00000111000 \n00000011101 00000100110 00000111011 \n00000011110 00000100111 00000111001 \n00000011111 00000100101 00000111010 \n\n00001000000 00010000000 00011000000 \n...\n```\n\n\u5ffd\u7565\u7b2c\u4e00\u884c\uff0c\u89c2\u5bdf\u7b2c\u4e8c\u5217\uff0c\u53d1\u73b0\u672b\u5c3e\u4e24\u4e2a\u6570\u5b57\u662f\n\n$$00 \\to 10 \\to 11 \\to 01$$\n\n\u8fd9\u6837\u4e00\u4e2a\u5faa\u73af\uff0c\u518d\u89c2\u5bdf\u5012\u6570\u7b2c\u4e09\u7b2c\u56db\u4e24\u4e2a\u6570\u5b57\uff0c\u53d1\u73b0\u5b83\u4eec\u4e5f\u7b26\u5408\u4e0a\u9762\u8fd9\u4e2a\u5faa\u73af\uff0c\u800c\u4e14\u8fd9\u4e2a\u5faa\u73af\u6b63\u597d\u5728 $2^{2k}$ \u8fd9\u6837\u4e00\u4e2a\u5927\u5c0f\u7684\u7ec4\u5185\u5faa\u73af\uff0c\u4e14\u6bcf\u79cd\u60c5\u51b5\u6b63\u597d\u5360\u636e\u5b83\u7684 $\\frac{1}{4}$\uff0c\u81f3\u6b64\u6211\u4eec\u7684\u89e3\u6cd5\u5c31\u51fa\u6765\u4e86\u3002\u5bf9\u4e8e $n\\equiv 2 \\pmod 3$ \u7684\u60c5\u51b5\uff0c\u6211\u4eec\u5148\u53d6\u5230\u5b83\u7684\u6700\u5927\u7ec4\uff0c\u7136\u540e\u5206\u56db\u79cd\u60c5\u51b5\u5927\u529b\u5206\u522b\u8ba8\u8bba\u5c31\u53ef\u4ee5\u89e3\u51b3\u4e86\u3002\n\n\u867d\u7136\u8bf4\u7740\u5f88\u7b80\u5355\uff0c\u4f46\u5176\u5b9e\u8fd8\u662f\u8c03\u4e86\u633a\u4e45\u7684\u2026\u2026\u8fb9\u754c\u6761\u4ef6\u592a\u6076\u5fc3\u4e86\u2026\u2026\n\n\u81f3\u4e8e $n\\equiv 0\\pmod 3$ \u7684\u60c5\u51b5\uff0c\u6211\u4eec\u8bb0\u4e0a\u9762\u6c42\u51fa\u7684\u4e24\u4e2a\u4e1c\u897f\u5206\u522b\u4e3a $A$ \u548c $B$\uff0c\u90a3\u4e48 $n\\equiv 0\\pmod 3$ \u65f6\u7684\u7b54\u6848\u5c31\u662f $A \\oplus B$\uff0c\u56e0\u4e3a\u53ea\u6709\u8fd9\u6837\u624d\u80fd\u4f7f\u5f97\u5f02\u6216\u548c\u4e3a 0\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define MAXN 100005\n#define reg register\n#define inl inline\n#define int long long\nusing namespace std;\nint n,_[65],A,B,C;\nvoid Calc(reg int l,reg int r,reg int x)\n{\n\tB<<=2;\n\tif(r-l+1==4)\n\t{\n\t\tif(x%4==1) B+=0;\n\t\tif(x%4==2) B+=2;\n\t\tif(x%4==3) B+=3;\n\t\tif(x%4==0) B+=1;\n\t\treturn;\n\t}\n\treg int len=r-l+1;\n\tif(l<=x && x<l+len/4)\n\t{\n\t\tB+=0;\n\t\tCalc(l,l+len/4-1,x);\n\t}\n\tif(l+len/4<=x && x<l+len/2)\n\t{\n\t\tB+=2;\n\t\tCalc(l+len/4,l+len/2-1,x);\n\t}\n\tif(l+len/2<=x && x<l+len/4*3)\n\t{\n\t\tB+=3;\n\t\tCalc(l+len/2,l+len/4*3-1,x);\n\t}\n\tif(l+len/4*3<=x && x<l+len)\n\t{\n\t\tB+=1;\n\t\tCalc(l+len/4*3,l+len-1,x);\n\t}\n}\ninl void Find(reg int x,reg int maxn)\n{\n\treg int sum=0;\n\tfor(reg int i=1;i<=maxn;i++)\n\t{\n\t\tsum+=_[i];\n\t\tif(sum>=x)\n\t\t{\n\t\t\tCalc(max(1ll,sum-_[i]+1),sum,x);\n\t\t\tbreak;\n\t\t}\n\t}\n}\nsigned main()\n{\n\t//freopen(\"1.txt\",\"r\",stdin);\n\tint Time;\n\tscanf(\"%lld\",&Time);\n\t_[0]=1;\n\tfor(reg int i=1;i<=60;i++) _[i]=_[i-1]<<2ll;\n\twhile(Time--)\n\t{\n\t\tA=B=C=0;\n\t\tscanf(\"%lld\",&n);\n\t\tif(n<=3)\n\t\t{\n\t\t\tprintf(\"%lld\\n\",n);\n\t\t\tcontinue;\n\t\t}\n\t\treg int unt=n/3;\n\t\tif(!(n%3)) unt--;\n\t\treg int sum=0;\n\t\tfor(reg int i=1;i<=60;i++)\n\t\t{\n\t\t\tsum+=_[i];\n\t\t\tif(sum>=unt)\n\t\t\t{\n\t\t\t\treg int pos=unt-(sum-_[i]);\n\t\t\t\tA=pos+(sum-_[i]+1)*3;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(n%3==1)\n\t\t{\n\t\t\tprintf(\"%lld\\n\",A);\n\t\t\tcontinue;\n\t\t}\n\t\tB=2;\n\t\tFind(unt,60);\n\t\tif(n%3==2)\n\t\t{\n\t\t\tprintf(\"%lld\\n\",B);\n\t\t\tcontinue;\n\t\t}\n\t\tC=A^B;\n\t\tif(!(n%3)) printf(\"%lld\\n\",C);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1591102980,
        "uid": 23243,
        "name": "VenusM1nT",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF1338C \u3010Perfect Triples\u3011"
    },
    {
        "content": "\u6700\u5f00\u59cb\u5355\u7eaf\u7684\u4ee5\u4e3a\u662f $x,2x,3x$ \u7684\u5f62\u5f0f\uff0cWA\u4e86\u3002\n\n\u76f4\u63a5\u89c4\u5f8b\u4e0d\u597d\u627e\uff0c\u6253\u4e2a\u8868\u6700\u7b80\u5355\u66b4\u529b\u3002\n\n[\u524d $100$ \u7ec4](https://www.luogu.com.cn/paste/1sjvzrr5)\uff08\u592a\u957f\u4e86\uff0c\u4e0d\u653e\u5728\u9898\u89e3\u9875\u9762\uff09\n\n[\u6253\u8868\u4ee3\u7801](https://www.luogu.com.cn/paste/ze3tjape)\uff08\u9898\u89e3\u7bc7\u5e45\u6709\u9650\uff0c\u96be\u5ea6\u4e0d\u9ad8\uff0c\u4e5f\u653e\u5728\u526a\u8d34\u677f\uff09\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u7b2c\u4e00\u4e2a\u6570\u90fd\u662f $2^k\\sim 2^{k+1}-1,k\\equiv 0\\pmod 2$\u3002\n\n\u89c2\u5bdf\u4e00\u4e0b\u7b2c\u4e8c\u4e2a\u6570\n\n\u5148\u6309\u7b2c\u4e00\u4e2a\u6570\u7684\u5927\u5c0f\u5206\u7ec4\uff0c\u770b\u6bcf\u4e00\u7ec4\u5185\u7684\u5173\u7cfb\uff1a\n\n\u5047\u8bbe\u7b2c\u4e00\u4e2a\u6570\u5728 $2^k\\sim 2^{k+1}-1$ \u4e4b\u95f4\uff0c\u90a3\u4e48\u7b2c\u4e8c\u4e2a\u6570\u5728$2^{k+1}\\sim 2^{k+1}+2^{k}-1$ \u8303\u56f4\u5185\uff0c\u4ee4 $x$ \u4e3a $2^k$\uff0c\u5047\u8bbe\u5206\u6210\u56db\u90e8\u5206 $a,b,c,d$\uff0c\u5176\u4e2d\u6bcf\u90e8\u5206\u5360\u56db\u5206\u4e4b\u4e00\uff0c\u90a3\u4e48\u6700\u540e\u7684\u7ec4\u5408\u662f $a,c,d,b$\uff0c\u5bf9\u4e8e $a,b,c,d$ \u518d\u5206\u6210\u56db\u4e2a\u5757\u5206\u522b\u5904\u7406\u8282\u8bfe\u3002\n\n\u7b2c\u4e09\u4e2a\u6570\u5176\u5b9e\u5c31\u662f\u7b2c\u4e00\u4e2a\u6570\u5f02\u6216\u7b2c\u4e8c\u4e2a\u6570\u3002\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $n$ \uff0c\u53ea\u9700\u8981\u627e\u5230\u5b83\u5728\u54ea\u4e00\u6392\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(T\\log n)$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define re register\n#define int long long\ninline int read(){\n\tre int t=0,f=0;re char v=getchar();\n\twhile(v<'0')f|=(v=='-'),v=getchar();\n\twhile(v>='0')t=(t<<3)+(t<<1)+v-48,v=getchar();\n\treturn f?-t:t;\n} \nint n,t,l,r;\ninline int work(re int x,re int y){\n\tif(y==0)return x;\n\tre int p=y/4;\n\tif(x<p)return work(x,y/4);\n\telse if(x<2*p)return work(x-p,y/4)+y/2;\n\telse if(x<3*p)return work(x-2*p,y/4)+3*y/4;\n\telse return work(x-3*p,y/4)+y/4;\n}\nsigned main(){\n\tt=read();\n\twhile(t--){\n\t\tre int m=read();\n\t\tn=(m-1)/3+1;\n\t\tre int b=1,siz=0;\n\t\twhile(siz<n)siz+=b,b*=4;siz-=b/4;\n\t\tre int xx=n-siz-1;n=b/4+n-siz-1;\n\t\tre int ans=work(n-b/4,b/4)+b/2;\n\t\tif(m%3==1){\n\t\t\tprintf(\"%lld\\n\",n);\n\t\t\tcontinue;\n\t\t}\n\t\telse if(m%3==2){\n\t\t\tprintf(\"%lld\\n\",ans);\n\t\t\tcontinue;\n\t\t}\n\t\telse printf(\"%lld\\n\",ans^n);\n\t}\n}\n```\n\uff08\u8fd9\u6b21\u600e\u4e48\u5168\u90fd\u662f\u89c4\u5f8b\u9898\u554a\uff09\n",
        "postTime": 1586752722,
        "uid": 41476,
        "name": "gyh20",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF1338C \u3010Perfect Triples\u3011"
    },
    {
        "content": "#### \u89e3\u9898\u601d\u8def\n\n\u9996\u5148\u53ef\u4ee5\u6ce8\u610f\u5230, \u9898\u76ee\u7ed9\u5b9a\u7684\u6570\u5217\u5b58\u5728\u4e00\u5b9a\u89c4\u5f8b, \u4e8e\u662f\u6253\u8868.\n\n\u6570\u5217 $S$ \u6bcf\u6b21\u589e\u52a0\u4e00\u4e2a\u4e09\u5143\u7ec4, \u5c06\u5f97\u5230\u7684\u6570\u5217\u8fdb\u884c\u5982\u4e0b\u7684\u5904\u7406:\n\n```plain\n1 2 3\n\n4 8 12\n5 10 15\n6 11 13\n7 9 14\n\n16 32 48\n17 34 51\n18 35 49\n19 33 50\n20 40 60\n21 42 63\n22 43 61\n23 41 62\n24 44 52\n25 46 55\n26 47 53\n27 45 54\n28 36 56\n29 38 59\n30 39 57\n31 37 58\n\n64 128 192\n...\n```\n\n\u6211\u4eec\u5c06\u6bcf\u4e09\u4e2a\u6570\u79f0\u4f5c\u4e00\u7ec4, \u4f9d\u7167\u6362\u884c\u7684\u4f4d\u7f6e\u5206\u6210\u6570\u5757. \u4e09\u4e2a\u6570\u5206\u522b\u79f0\u4f5c $a,\\ b,\\ c$, \u90a3\u4e48\u9996\u5148\u53ef\u4ee5\u53d1\u73b0\n\n1. \u6bcf\u4e00\u5757\u5185\u7b2c\u4e00\u7ec4\u4e2d\u7684 $a$ \u662f $2$ \u7684\u5076\u6570\u6b21\u5e42, $b$ \u662f $a$ \u7684\u4e24\u500d.\n\n2. \u6bcf\u4e00\u5757\u4e2d\u5143\u7d20\u4e2a\u6570\u662f $2$ \u7684\u5076\u6570\u6b21\u5e42, \u5373 $2^0,\\ 2^2,\\ 2^4, \\ldots$\n\n3. \u6bcf\u4e00\u5757\u5185, \u9664\u53bb\u7b2c\u4e00\u7ec4\u4ee5\u5916, $a$ \u7684\u503c\u8f83\u4e0a\u4e00\u7ec4\u589e\u52a0 $1$.\n\n\u6b64\u65f6\u53ef\u4ee5\u5feb\u901f\u786e\u5b9a $a$ \u7684\u503c --- \u53ea\u9700\u5224\u5b9a $n$ \u5728\u54ea\u4e00\u5757\u5185, \u7136\u540e\u8ba1\u7b97\u5373\u53ef.\n\n\u8003\u8651\u5230 $a \\oplus b = c$, \u53ea\u9700\u5f97\u5230 $b$ \u7684\u503c\u5373\u53ef\u8ba1\u7b97 $c$.\n\n\u56e0\u6b64\u73b0\u5728\u7684\u95ee\u9898\u5728\u4e8e\u8ba1\u7b97 $b$ \u7684\u503c. \u5c06 $b$ \u7684\u503c\u5355\u72ec\u4ee5\u4e8c\u8fdb\u5236\u7684\u5f62\u5f0f\u5217\u51fa, \u53ef\u4ee5\u5f97\u5230\n\n*\u8fd9\u91cc\u7a7a\u767d\u592a\u5c0f, \u5199\u4e0d\u4e0b:* <https://www.luogu.com.cn/paste/47ldzmpt>.\n\n\u4ece\u4f4e\u4f4d\u5230\u9ad8\u4f4d, \u6bcf\u4e24\u4f4d\u8fdb\u884c\u8003\u8651. \u5bf9\u4e8e\u5c0f\u6570\u636e, \u540e\u4e24\u4f4d\u5f62\u540c\n\n```plain\n00 10 11 01\n```\n\n\u5e76\u4ee5\u6b64\u5faa\u73af. \u89c2\u5bdf\u66f4\u9ad8\u4f4d, \u4e5f\u662f\u4f9d\u7167\u8fd9\u6837\u7684\u987a\u5e8f, \u53ea\u662f\u91cd\u590d\u7684\u6b21\u6570\u589e\u52a0, \u4e14\u91cd\u590d\u7684\u6b21\u6570\u4e5f\u662f $2$ \u7684\u5e42.\n\n\u90a3\u4e48, \u4ece\u4f4e\u4f4d\u5f00\u59cb\u4f9d\u6b21\u8003\u8651\u5373\u53ef\u5f97\u5230 $b$.\n\n#### \u4ee3\u7801\u5b9e\u73b0\n\n\u8d5b\u65f6\u627e\u5230\u4e86\u89c4\u5f8b, \u53ea\u662f\u6ca1\u6709\u8c03\u51fa\u6765 = =\n\n\u5927\u6982\u662f\u5c06 $n$ \u62c6\u5206\u6210 $n = 3x+ y$ \u7684\u5f62\u5f0f, \u7136\u540e\u518d\u4f9d\u7167\u4ee5\u4e0a\u7684\u89c4\u5f8b\u9010\u4f4d\u8003\u8651\u5427 (\n\n\u4ee5\u53ca\u5229\u7528 `bitset` \u8c03\u8bd5\u7684\u6280\u5de7.\n\n```cpp\n// E2\n// DeP\n#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long LL;\n\nLL n;\n\nint main() {\n#ifndef ONLINE_JUDGE\n    freopen(\"E.in\", \"r\", stdin);\n#endif\n    int Ti;\n    scanf(\"%d\", &Ti);\n    while (Ti--) {\n        scanf(\"%lld\", &n);\n        LL x = n / 3, y = n % 3;\n        if (!y) --x, y = 3;\n        if (!x) { printf(\"%lld\\n\", y); continue; }\n        LL a = 0, b = 0;\n        int d = 0;\n        while (a <= x) a += 1LL << d, d += 2;\n        LL idx = x - (a - (1LL << (d-2)));\n        a = (1LL << (d - 2)) + (x - (a - (1LL << (d-2))));\n        if (y == 1) printf(\"%lld\\n\", a);\n        else {\n            b = 1LL << (d - 1);\n            for (int i = 0; i < d - 2; i += 2) {\n                LL m = 1LL << (i + 2);\n                LL res = idx % m;\n                if (res < (1LL << i))\n                    b |= 0LL << i;\n                else if (res < (1LL << (i+1)))\n                    b |= 2LL << i;\n                else if (res < (1LL << i) + (1LL << (i+1)))\n                    b |= 3LL << i;\n                else\n                    b |= 1LL << i;\n            }\n            printf(\"%lld\\n\", (y == 2)? b: (a ^ b));\n        }\n    }\n    return 0;\n}\n```\n",
        "postTime": 1586746647,
        "uid": 109751,
        "name": "DepletedPrism",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1338C \u3010Perfect Triples\u3011"
    },
    {
        "content": "\u627e\u89c4\u5f8b\u9898\uff0c\u5148\u6253\u8868\uff1a\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int N=1e7+10;\nint n;\nbool vis[N];\nsigned main(){\n\tcin >>n;\n\tfor(int i=1;i<=n;i++){\n\t\tcout <<\"Case \"<<i<<\": \";\n\t\tint a=1;\n\t\twhile(vis[a])a++;\n\t\tvis[a]=1;\n\t\tint b=a;\n\t\twhile(vis[b]||vis[a^b])b++;\n\t\tvis[b]=vis[a^b]=1;\n\t\tint c=a^b;\n\t\tcout <<a<<\" \"<<b<<\" \"<<c<<endl;\n\t}\n\treturn 0;\n}\n```\n[\u8868\u683c](https://www.luogu.com.cn/paste/6qs3fgct)\n\n\u6211\u4eec\u5148\u770b $a$ \u7684\u89c4\u5f8b\uff1a$1,4,5,6,7,16,17,18,\\cdots$   \n\u53d1\u73b0\u597d\u50cf\u5c11\u4e86\u70b9\u4ec0\u4e48\uff0c\u53ea\u5269\uff1a$2^{2n}$ \u5230 $2^{2n+1}-1$ \u7684\u6570\u4e86 $(n\\in\\mathbb{N})$\u3002  \n\u6309\u8fd9\u4e2a\u89c4\u5f8b\u6211\u4eec\u5c31\u53ef\u4ee5\u6c42\u51fa $a$\u3002   \n```cpp\nint rec(int x){\n\tint ans=1,pos=1;\n\twhile(pos+ans<=x){//\u679a\u4e3e\u6bcf\u4e00\u4e2a\u5757\u7684\u957f\u5ea6 \n\t\tpos+=ans;\n\t\tans*=4;\n\t}\n\treturn ans+(x-pos);\n}\n```\n\n\u63a5\u7740\u770b $b$ \u7684\u89c4\u5f8b\uff0c\u6309 $a$ \u7684\u89c4\u5f8b\u3002  \n\u53ef\u4ee5\u770b\u51fa\u8fd9\u662f\u4e00\u4e2a\u53ef\u9012\u5f52\u6784\u9020\u7684\u6570\u5217\uff1a\u5c06\u8fd9\u4e00\u5927\u5757\u5206\u4e3a\u56db\u5c0f\u5757\uff0c\u8fd9\u56db\u4e2a\u5c0f\u5757\u7684\u9996\u4f4d\u7684\u5927\u5c0f\u987a\u5e8f\u5206\u522b\u4e3a\uff1a$1,3,4,2$\u3002   \n```cpp\nint dfs(int st,int r){//\u6bcf\u4e00\u4e2a\u5927\u5757\u7684\u7b2c\u4e00\u4e2a\u6570\u7684\u4f4d\u7f6e\uff0c\u5927\u5757\u7684\u957f\u5ea6 \n\tif(r==0)return 0;\n\tif(st<=r){//\u6309\u987a\u5e8f\u9012\u63a8 \n\t\treturn 0*r+dfs(st-0*r,r/4);\n\t}else if(st<=2*r){\n\t\treturn 2*r+dfs(st-1*r,r/4);\n\t}else if(st<=3*r){\n\t\treturn 3*r+dfs(st-2*r,r/4);\n\t}else{\n\t\treturn 1*r+dfs(st-3*r,r/4);\n\t}\n}\n```\n\n\n$c$ \u5c31\u597d\u529e\u4e86\uff0c\u9898\u76ee\u8bf4\uff1a$a\\otimes b\\otimes c=0$\uff0c\u6240\u4ee5 $a\\otimes b=c$\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nint t,n;\nstruct node{\n\tint a,b,c;\n};\nint dfs(int st,int r){//\u6bcf\u4e00\u4e2a\u5927\u5757\u7684\u7b2c\u4e00\u4e2a\u6570\u7684\u4f4d\u7f6e\uff0c\u5927\u5757\u7684\u957f\u5ea6 \n\tif(r==0)return 0;\n\tif(st<=r){//\u6309\u987a\u5e8f\u9012\u63a8 \n\t\treturn 0*r+dfs(st-0*r,r/4);\n\t}else if(st<=2*r){\n\t\treturn 2*r+dfs(st-1*r,r/4);\n\t}else if(st<=3*r){\n\t\treturn 3*r+dfs(st-2*r,r/4);\n\t}else{\n\t\treturn 1*r+dfs(st-3*r,r/4);\n\t}\n}\nnode rec(int x){//\u8ba1\u7b97\u7b54\u6848 \n\tnode end;\n\tint ans=1,pos=1;\n\twhile(pos+ans<=x){//\u679a\u4e3e\u6bcf\u4e00\u4e2a\u5757\u7684\u957f\u5ea6 \n\t\tpos+=ans;\n\t\tans*=4;\n\t}\n\tend.a=ans+(x-pos);//\u4e3a\u4e86\u65b9\u4fbf\u6211\u5c31\u653e\u4e00\u8d77\u4e86 \n\tend.b=dfs(x-pos+1,ans/4)+ans*2;//\u6bcf\u4e00\u4e2a\u5927\u5757\u4ece0\u5f00\u59cb\u679a\u4e3e\u6bd4\u8f83\u65b9\u4fbf \n\tend.c=end.a^end.b;\n\treturn end;\n}\nsigned main(){\n\tcin >>t;\n\twhile(t--){\n\t\tcin >>n;\n\t\tnode p=rec((n-1)/3+1);//\u9898\u76ee\u4e2d\u4e09\u4e2a\u4e3a\u4e00\u7ec4 \n\t\tif(n%3==1)cout <<p.a<<endl;\n\t\telse if(n%3==2)cout <<p.b<<endl;\n\t\telse cout <<p.c<<endl;\n\t}\n\treturn 0;\n}\n\n```\n",
        "postTime": 1683886631,
        "uid": 559526,
        "name": "wwwwwza",
        "ccfLevel": 0,
        "title": "Perfect Triples \u9898\u89e3"
    }
]