[
    {
        "content": "# \u5173\u952e\u70b9\uff1adp\n\n\n### \u5206\u6790\uff1a\n\u770b\u5230\u9898\u9762 \u201c\u5f53\u86cb\u7cd5\u6570\u91cf\u4e3ax1\u5230x2\u4e4b\u95f4\u201d \u7684\u63cf\u8ff0\uff0c\u4e0d\u96be\u60f3\u5230\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u523b\u753b\u8fd9\u4e00\u70b9\uff0c\u5982\u4e0b\n\n```cpp\nint sum(int l,int r){\n    return (s[r]-s[l-1]+mod)%mod;\n}\n```\n\n**\u63a5\u4e0b\u6765\u8003\u8651\u86cb\u7cd5\u6570\u91cf\u4e3ax\u7684\u65f6\u5019\u6709\u591a\u5c11\u79cd\u5403\u6cd5\uff1a**\n\n\u6211\u4eec\u8fd9\u6837\u8003\u5bdf\uff1ax\u4e2a\u86cb\u7cd5\uff0c\u5982\u679c\u91c7\u53d6\u529e\u6cd51\u5403\uff0c\u90a3\u4e48\u4f1a\u5269\u4e0bx-1\u4e2a\u86cb\u7cd5\uff0c\u91c7\u53d6\u65b9\u6cd52\u5219\u4f1a\u5269\u4e0bx-k \uff08\u8fd9\u91ccx>=k\uff0c\u5199\u4ee3\u7801\u65f6\u6ce8\u610f\u5224\u65ad\uff09\u4e2a\u86cb\u7cd5\u3002\n\n\u8bb0f(x)\u4e3a\u5403x\u4e2a\u86cb\u7cd5\u7684\u65b9\u6cd5\u6570\uff0c\u6211\u4eec\u6709\uff1a\n\nf(x)=f(x-1)+f(x-k) (x>=k)\n\n\u8fd9\uff0c\u4fbf\u662fdp\u9898\u7684\u6838\u5fc3\uff1a\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n\n\u6838\u5fc3\u4ee3\u7801\u5982\u4e0b\uff0c\u6211\u4eec\u4ecex=1\u5f00\u59cb\u4f9d\u6b21\u66f4\u65b0\uff1a\n\n```cpp\nfor(i=1;i<=maxn;i++){\n        if(i>=k) f[i]=f[i-1]+f[i-k];\n        else f[i]=f[i-1];\n    }\n```\n\n\u5176\u4ed6\u8865\u5145\uff1a\n\n\u8bb0\u5f97\u521d\u59cb\u5316x=0\u7684\u60c5\u51b5 f[0]=1\n\n\u53d6\u6a21\n\n\u7ed3\u5408\u524d\u7f00\u548c\u5904\u7406\n\n\n\u987a\u5229AC~\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define mod 1000000007 \n#define maxn 100001\nll t,k,i;\nll f[maxn];\nll s[maxn];\nint sum(int l,int r){\n    return (s[r]-s[l-1]+mod)%mod;\n}\nint main(){\n    cin>>t>>k;\n    f[0]=s[0]=1;\n    f[1]=1;\n    for(i=1;i<=maxn;i++){\n        if(i>=k) f[i]=(f[i-1]+f[i-k])%mod;\n        else f[i]=f[i-1]%mod;\n        s[i]=(s[i-1]+f[i])%mod;\n    }\n    while (t--)\n    {\n        int l,r;\n        cin>>l>>r;\n        cout<<(sum(l,r)+mod)%mod<<endl;\n    }\n    \n    return 0;\n}\n```\n",
        "postTime": 1605183763,
        "uid": 138960,
        "name": "Tenshi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF474D \u3010Flowers\u3011"
    },
    {
        "content": "## \u7b97\u6cd5\uff1aDP+\u524d\u7f00\u548c\uff08\u8f83\u4e3a\u7b80\u5355\uff09\n\n\u90a3\u9053\u9898\u4e00\u770b\u5c31\u4f1a\u53d1\u73b0\u8fd9\u662f\u4e00\u9053dp\uff0c\u90a3\u4e48 $f_i$ \u5e94\u4e3a**\u5403 $i$ \u4e2a\u86cb\u7cd5\u4e00\u5171\u7684\u5403\u6cd5**\u3002\n\n**\u90a3\u4e48\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5e94\u4e3a\uff1a$f_i=f_{i-1}+f_{i-k}$**\n\n\u4f46\u662f\u6700\u540e\u8981\u6c42\u7684\u662f\u67d0\u4e00\u533a\u95f4\u91cc\u5403\u6cd5\u7684\u548c\uff0c\u6240\u4ee5\u8981\u7528**\u524d\u7f00\u548c**\uff0c\u6700\u540e\u8f93\u51fa $sum_{b}-sum_{a-1}$ \u5373\u53ef\u3002\n\n\u6ce8\u610f\u70b9\uff1a\n1. \u8981\u5f00long long\n1. \u9700\u8981 mod 1000000007\n1. \u5728\u6700\u540e\u8f93\u51fa\u65f6\uff0c\u8f93\u51fa\u672c\u5e94\u4e3a$sum_{b}-sum_{a-1}$\uff0c\u53ef\u662f $sum_{b}$ \u548c $sum_{a-1}$ \u56e0\u4e3a\u5df2\u7ecf\u5728\u524d\u9762 mod \u4e861000000007\uff0c\u6240\u4ee5 $sum_{b}$ \u53ef\u80fd\u5c0f\u4e8e $sum_{a-1}$ \uff0c\u6b64\u65f6\u518d\u51cf\u5c31\u4f1a\u6210\u4e3a\u8d1f\u6570\uff0c**\u6240\u4ee5\u8fd8\u8981\u52a0\u4e0a 1000000007**\uff0c\u6700\u540e\u518d mod\u3002\n1. **$f$ \u6570\u7ec4\u521d\u59cb\u5316\u5e94\u4e3a $f_0$=1**\n\n\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define PF 1000000007\n#define MAXN 100005\nlong long n,k,f[MAXN]={0},s[MAXN]={0},a,b; //long long\nint main(){\n    cin>>n>>k;\n    f[0]=1;//\u521d\u59cb\u5316\n    for(int i=1;i<=MAXN;i++) { //dp\n        f[i]+=f[i-1]%PF;\n        if(i>=k)f[i]+=f[i-k]%PF;\n        s[i]=(s[i-1]+f[i])%PF; //\u524d\u7f00\u548c\n    }\n    for(int i=1;i<=n;i++) {\n        cin>>a>>b;\n        cout<<(s[b]-s[a-1]+PF)%PF<<endl; //\u8f93\u51fa\n    }\n}\n```\n\n",
        "postTime": 1594529472,
        "uid": 57779,
        "name": "LRL65",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF474D \u3010Flowers\u3011"
    },
    {
        "content": "### \u4e00\u9053\u5f88\u7b80\u5355\u7684\u524d\u7f00\u548c+dp\n\n\u4e00\u6b21\u53ea\u80fd\u5403$1$\u6216$k$\u4e2a\uff0c\u63a8\u5f97\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a$f[i]=f[i-1]+f[i-k]$\n\n\u7531\u4e8e\u6700\u540e\u6c42\u7684\u662fx1-x2\u8fd9\u4e2a\u533a\u95f4\u7684\u548c\uff0c\u6240\u4ee5\u518d\u7528\u524d\u7f00\u548c\u6765\u50a8\u5b58\n\n\u56e0\u6b64$sum[i]=(sum[i-1]+f[i])%1000000007$\n\n\u800c\u6211\u4eec\u6240\u8981\u7684\u7b54\u6848\u4fbf\u662f$sum[x2]-sum[x1-1]$\n\n\u4e0a\u4ee3\u7801\uff1a\n```\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nlong long f[100000],sum[100000];//\u7528f\u6765\u50a8\u5b58\u65b9\u6848\u6570\uff0csum\u6765\u50a8\u5b58\u524d\u7f00\u548c \nint main()\n{\n\tint n,k,x1,x2;\n\tcin>>n>>k;\n\tfor(int i=0;i<k;i++)\n\t{\n\t\tf[i]=1;//\u5c06\u6bcf\u4e2a\u5c0f\u4e8ek\u7684\u65b9\u6848\u6570\u90fd\u521d\u59cb\u5316\u4e3a0 \n\t}\n\tfor(int i=k;i<=100000;i++)\n\t{\n\t\tf[i]=(f[i-1]+f[i-k])%1000000007;//\u4e00\u8fb9\u52a0\u4e00\u8fb9mod\uff0c\u9632\u6b62\u6700\u540e\u6ea2\u51fa\t\n\t}\n\tfor(int i=1;i<=100000;i++)\n\t\tsum[i]=(sum[i-1]+f[i])%1000000007;//\u540c\u4e0a \n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>x1>>x2;\n\t\tcout<<(sum[x2]-sum[x1-1]+1000000007)%1000000007<<endl;\n     \t\t//\u56e0\u4e3a\u6211\u4eec\u5df2\u7ecf\u63d0\u524dmod\uff0c\u6240\u4ee5\u53ef\u80fd\u4f1a\u51fa\u73b0sum[x2]<sum[x-1]\u7684\u60c5\u51b5\uff0c\u6545\u52a0\u4e0a1000000007 \n\t}\n\treturn 0;\n}\n```\n\n\u5b8c\u7ed3\u6492\u82b1~\n",
        "postTime": 1601624250,
        "uid": 299783,
        "name": "\u96f6\u6b87",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF474D \u3010Flowers\u3011"
    },
    {
        "content": "dp\u6c34\u9898\uff0c\u5207\u6389\u7684\u90a3\u79cd\n\n$dp_i=dp_{i-1}+dp_{i-k}$\n\n\u518d\u7528\u524d\u7f00\u548c\u7edf\u8ba1\u4e00\u4e0b$sum_i=\\sum_{j=1}^{i}dp_j$\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u8be2\u95ee$[l,r]$\u7b54\u6848\u4fbf\u662f$sum_r-sum_{l-1}$\n\nCode\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define maxn 100010\n#define LL long long\nusing namespace std;\nconst LL qy = 1000000007;\nint n, k;\nLL dp[maxn], sum[maxn];\n\ninline int read(){\n\tint s = 0, w = 1;\n\tchar c = getchar();\n\tfor (; !isdigit(c); c = getchar()) if (c == '-') w = -1;\n\tfor (; isdigit(c); c = getchar()) s = (s << 1) + (s << 3) + (c ^ 48);\n\treturn s * w;\n}\n\nint main(){\n\tn = read(), k = read();\n\tdp[0] = 1;\n\tfor (int i = 1; i <= maxn - 1; ++i){\n\t\tdp[i] = dp[i - 1];\n\t\tif (i >= k) if ((dp[i] += dp[i - k]) >= qy)  dp[i] -= qy;\n\t}\n\tfor (int i = 1; i <= maxn - 1; ++i) sum[i] = (sum[i - 1] + dp[i]) % qy;\n\twhile (n--){\n\t\tint l = read(), r = read();\n\t\tprintf(\"%lld\\n\", (sum[r] - sum[l - 1] + qy) % qy);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1566553450,
        "uid": 51719,
        "name": "ModestCoder_",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF474D \u3010Flowers\u3011"
    },
    {
        "content": "\u662f\u4e00\u9053\u6bd4\u8f83\u88f8\u7684 DP ,\u4e0d\u8fc7\u67e5\u8be2\u7684\u65b9\u6cd5\u662f\u6bd4\u8f83\u65b0\u7684\n\n\u9996\u5148\u8bbe $dp_i$ \u4e3a\u5403 $i$ \u4e2a\u86cb\u7cd5\u4e00\u5171\u7684\u5403\u6cd5\u3002\n\n\u90a3\u4e48\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5c31\u5e94\u8be5\u662f$dp_i=dp_{i-1}+dp_{i-k}$\n\n$dp_0=1$\n\n\u6c42\u4e00\u4e2a\u533a\u95f4\u5185\u7684\u603b\u5403\u6cd5\uff0c\u5f88\u5bb9\u6613\u60f3\u5230\u4f7f\u7528\u524d\u7f00\u548c\u53bb\u4f18\u5316\n\n\u7136\u540e\u5c31\u662f\u6709\u51e0\u70b9\u9700\u8981\u6ce8\u610f\u7684\n\n- \u672c\u9898\u662f\u6709\u53d6\u6a21\u64cd\u4f5c\u7684\uff0c\u800c\u524d\u7f00\u548c\u53c8\u6d89\u53ca\u5230\u51cf\u6cd5\uff0c\u8fd9\u4e24\u4e2a\u4e00\u8d77\u65f6\u8981\u6ce8\u610f\u5982\u679c\u51cf\u6210\u8d1f\u6570\uff0c\u8981\u52a0\u56de\u6765\n\n- \u672c\u9898\u7684\u6a21\u6570\u6bd4\u8f83\u5927\uff0c\u5982\u679c\u5bf9\u81ea\u5df1\u7684\u53d6\u6a21\u8fd0\u7b97\u8bbe\u8ba1\u6ca1\u6709\u628a\u63e1\u7684\u53ef\u4ee5\u5f00\u4e2a ```long long``` \u4fdd\u9669\n\ncode:\n\n```cpp\n#include<cstdio>\n#include<iostream>\nusing namespace std;\n#define int long long \nconst int MAXN=100005;\nconst int MOD=1000000007;\nlong long dp[MAXN];\nlong long sum[MAXN];\nsigned main(){\n\tint n,k;\n\tscanf(\"%lld %lld\",&n,&k);\n\tdp[0]=1;\n\tfor(int i=1;i<=MAXN;i++){\n\t\tdp[i]=dp[i-1]%MOD;\n\t\tif(i>=k){\n\t\t\tdp[i]+=dp[i-k];\n\t\t\tdp[i]%=MOD;\n\t\t}\n\t}\n\tfor(int i=1;i<=MAXN;i++){\n\t\tsum[i]=sum[i-1]+dp[i];\n\t\tsum[i]%=MOD;\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tint a,b;\n\t\tscanf(\"%lld %lld\",&a,&b);\n\t\tprintf(\"%lld\\n\",(sum[b]-sum[a-1]+MOD)%MOD);\n\t}\nreturn 0;\n} \n```",
        "postTime": 1615693865,
        "uid": 247555,
        "name": "Fool_Fish",
        "ccfLevel": 4,
        "title": "CF474D Flowers \u9898\u89e3"
    },
    {
        "content": "\u5148\u5728\u6b64\u7ed9\u51fa $t,k$ \u7684\u6570\u636e\u8303\u56f4 $t,k\\le10^5$\u3002\n\n---\n\n\u4e00\u773cDP\u3002\n\n\u5982\u679c\u4f60\u9700\u8981\u6c42\u5403 $i$ \u4e2a\u86cb\u7cd5\u6709\u51e0\u79cd\u65b9\u6848\u6570\uff1a\n- \u4f60\u53ef\u4ee5\u5148\u5403\u4e00\u4e2a\u86cb\u7cd5\uff0c\u518d\u5403 $i-1$ \u4e2a\u86cb\u7cd5\u3002\u6b64\u65f6\u65b9\u6848\u6570\u5373\u4e3a\u5403 $i-1$ \u4e2a\u86cb\u7cd5\u7684\u65b9\u6848\u6570\u3002\n- \u4e5f\u53ef\u4ee5\u5403 $k$ \u4e2a\u86cb\u7cd5 $(i\\ge k)$\uff0c\u518d\u5403 $i-k$ \u4e2a\u86cb\u7cd5\uff0c\u6b64\u65f6\u65b9\u6848\u6570\u5373\u4e3a\u5403 $i-k$ \u4e2a\u86cb\u7cd5\u7684\u4e2a\u6570\u3002\n\n\u5373\u53ef\u5217\u51fa\u8f6c\u79fb\u65b9\u7a0b\uff1a`dp[i]=dp[i-1]+(i<k?0:dp[i-k])`\n\n\u5bf9\u5176\u4e2d`(i<k?0:dp[i-k])`\u4f5c\u51fa\u89e3\u91ca\uff1a\u82e5`i<k`\uff0c\u5219\u52a0`0`,\u53cd\u4e4b\u52a0`dp[i-k]`\u3002\n\n\u6700\u540e\u524d\u7f00\u548c\u4e00\u4e0b\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u5bf9 $(x_1,x_2)$ \u8f93\u51fa `s[x2]-s[x1-1]`\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nconst long long mod=1e9+7;\nconst int maxn=1e5+5;\nint t,k;\nlong long dp[maxn],s[maxn];\nint main(){\n\tscanf(\"%d%d\",&t,&k);\n\tdp[0]=1,s[0]=1;\n\tfor(int i=1;i<maxn;i++) dp[i]=(dp[i-1]+(i<k?0:dp[i-k]))%mod,s[i]=(s[i-1]+dp[i])%mod;\n\twhile(t--){\n\t\tint l,r;\n\t\tscanf(\"%d%d\",&l,&r);\n\t\tprintf(\"%lld\\n\",(s[r]-s[l-1]+mod)%mod);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1608995017,
        "uid": 258085,
        "name": "\u6c5f\u6237\u5ddd\u00b7\u841d\u535c",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF474D \u3010Flowers\u3011"
    },
    {
        "content": "# CF474D \u3010Flowers\u3011\n## \u840c\u65b0\u7684\u7b2c\u4e09\u7bc7\u9898\u89e3\n\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/CF474D)\n\n\u672c\u9898\u662f\u4e00\u9053\u8f83\u4e3a\u7b80\u5355\u7684dp\u3002\n\n\u8bbedp\u6570\u7ec4\u5b58\u50a8\u5403i\u4e2a\u86cb\u7cd5\u7684\u5403\u6cd5\uff0c\u6765\u63a8\u4e00\u4e0b\u8f6c\u79fb\u65b9\u7a0b\u3002\n\n\u63a8\u5bfc\uff1a\n\n\u5bf9\u4e8e\u5403\u6cd5\u4e00 dp[i]+=dp[i-1]\n\n\u5bf9\u4e8e\u5403\u6cd5\u4e8c if(i>=k)dp[i]+=dp[i-k]\n\n\u6240\u4ee5\uff0c\u672c\u9898\u6211\u4eec\u53ef\u4ee5\u5148\u9884\u5904\u7406\u51fa **i\u22641e5** \u7684\u65b9\u6848\u6570\u3002\n\n\u7136\u540e\u5462\uff0c\u9898\u76ee\u8bf4\u8981\u67e5\u8be2\u5f53\u86cb\u7cd5\u6570\u91cf\u5728x1\u548cx2\u4e4b\u95f4\u7684\u65b9\u6848\u6570\uff0c\u4e3a\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u524d\u7f00\u548c\u6765\u7b97\u51fa\u8fd9\u4e2a\u533a\u95f4\u5185\u7684\u65b9\u6848\u6570\uff0c\u800c\u524d\u7f00\u548c\u4e5f\u540c\u6837\u53ef\u4ee5\u5728\u9884\u5904\u7406\u7684\u540c\u65f6\u89e3\u51b3\u3002\n\nl~r\u7684\u533a\u95f4\u548c\u516c\u5f0f\uff1a**s[r]-s[l-1]**\n\n\u7136\u540e\u5bf9\u4e8en\u7ec4\u8be2\u95ee\uff0c\u6bcf\u6b21\u90fd\u8f93\u51fa\u533a\u95f4\u548c\u5c31\u597d\u4e86\uff1f\n\n\u663e\u7136\u5e76\u4e0d\u662f\uff0c\u672c\u9898\u9700\u8981\u6211\u4eec\u5bf9**1e9+7**\u8fdb\u884c\u53d6\u6a21\uff0c**\u5982\u679cs[r]\u5728\u53d6\u6a21\u540e\uff0c\u5c0f\u4e8es[l-1]\uff0c\u90a3\u4e48\u4f1a\u8f93\u51fa\u8d1f\u6570**\uff0c\u663e\u7136\u4e0d\u7b26\u5408\u9898\u610f\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5728\u5bf9\u5b83\u4eec\u7684\u5dee\u52a0\u4e0a**1e9+7**\uff0c\u8fd9\u6837\uff0c\u5c31\u80fd\u8f7b\u677eAC\u672c\u9898\u5566\uff01\n\n\u672c\u9898\u7684code\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int mod=1e9+7;\nconst double eps=1e7-8;\nconst int INF=0x3f3f3f3f;\nconst int maxn=1e5+5;\nconst int maxm=1e6+5;\nll n,k,dp[maxn]={1},s[maxn];\ninline ll read();\nint main(int argc, char const *argv[]){\n\tn=read(),k=read();\n\tfor(int i=1;i<maxn;++i){\n\t\tdp[i]=(dp[i]+dp[i-1])%mod;\n\t\tif(i>=k)dp[i]=(dp[i]+dp[i-k])%mod;\n\t\ts[i]=(s[i-1]+dp[i])%mod;\n\t}\n\twhile(n--){\n\t\tll l=read(),r=read();\n\t\tprintf(\"%lld\\n\",(s[r]-s[l-1]+mod)%mod);\n\t}\n\treturn 0;\n}\ninline ll read(){\n\tll x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){\n\t\tif(ch=='-')f=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')x=(x<<1)+(x<<3)+(ch^48),ch=getchar();\n\treturn x*f;\n}\n```\n\n\u672c\u7bc7\u9898\u89e3\u5c31\u5230\u6b64\u7ed3\u675f\u4e86\uff0c\u5982\u679c\u559c\u6b22\uff0c\u8fd8\u8bf7\u70b9\u4e2a\u8d5e\u5427\u3002",
        "postTime": 1602915059,
        "uid": 235801,
        "name": "\u89e6\u60c5\u79bb\u6b87",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 CF474D \u3010Flowers\u3011"
    },
    {
        "content": "###  \u975e\u5e38\u7b80\u5355\u7684\u4e00\u9053DP\u9898\uff0c\u5982\u679c\u505a\u4e0d\u51fa\u6765\u53ef\u4ee5\u5148\u505a\u5b83\u7684\u51cf\u5f31\u677fP1255\u6570\u697c\u68af\u3002\n\n\u82e5$f[i]$\u8868\u793a\u5403$i$\u4e2a\u86cb\u7cd5\u5171\u6709\u5403\u6cd5\u7684\u6570\u76ee\u3002\n\n\u5f88\u660e\u663e\u4e00\u6b21\u80fd\u54031\u6216k\u4e2a\uff0c\u6240\u4ee5\uff0c\u8f6c\u79fb\u65b9\u7a0b\u4e3a\uff1a  $f[i]=f[i-1]+f[i-k]$ \u3002\n\n\u7136\u540e\u5c31\u662f\u4e00\u4e9b\u8981\u6ce8\u610f\u7684\u5730\u65b9\u4e86\uff1a\n\n 1. \u56e0\u4e3a\u6c42\u7684\u662f\u533a\u95f4\uff0c\u6240\u4ee5\u8981\u7528\u524d\u7f00\u548c\u3002\n \n 2. \u8981\u5f00long long\u3002\n\n 3. \u522b\u5fd8\u4e86\u53d6\u6a21\u3002\n\n\u6700\u540e\u5c31\u662f\u4ee3\u7801\u4e86\uff1a\n~~~cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long a[100005]={1},s[100005];\nint main(){\n\tlong long n,k,i,j;\n\tcin>>n>>k;\n\tfor(i=1;i<=100005;i++){\n\t\ta[i]=(a[i]+a[i-1])%1000000007;\n\t\tif(i>=k) a[i]=(a[i]+a[i-k])%1000000007;\n      //\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n\t\ts[i]=(s[i-1]+a[i])%1000000007;\n      //\u524d\u7f00\u548c\n\t}\n\tfor(i=1;i<=n;i++){\n\t\tlong long x,y;\n\t\tcin>>x>>y;\n\t\tcout<<(s[y]-s[x-1]+1000000007)%1000000007<<endl;\n      //\u56e0\u4e3as[x]\u548cs[y]\u90fd\u5df2\u53d6\u6a21\uff0c\u6240\u4ee5\u8981\u5148\u52a0\u4e0a1000000007\u3002\n\t}\n\treturn 0;\n}\n~~~",
        "postTime": 1602154141,
        "uid": 219522,
        "name": "Zhou_Wingay",
        "ccfLevel": 0,
        "title": "DP"
    },
    {
        "content": "[\u535a\u5ba2\u9605\u8bfb\u6548\u679c\u66f4\u4f73](https://blog.csdn.net/BWzhuzehao/article/details/108730323)\n\n\u8fd9\u9053\u9898\u9898\u610f\u7b80\u5355\u660e\u4e86\uff0c\u5f88\u660e\u663e Marmot \u53ea\u6709\u4e24\u79cd\u5403\u6cd5\uff1a\n\n- \u4e00\u6b21\u5403 1 \u4e2a\n- \u4e00\u6b21\u5403 $k$ \u4e2a\n\n\u56e0\u6b64\uff0c\u8fd9\u9053\u9898\u662f\u4e00\u9053\u5e8f\u5217\u6027\u52a8\u6001\u89c4\u5212\u3002\n\n\u5230\u8fd9\u91cc\uff0c\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u6cd5\uff1a\u8bb0\u5fc6\u5316\u641c\u7d22\u4e0e\u52a8\u6001\u89c4\u5212\u3002\n\n\u8fd9\u4e24\u79cd\u65b9\u6cd5\u7684\u8ba1\u7b97\u5f0f\u5b50\u662f\u4e00\u6837\u7684\uff1a\u4ee4 $f_i$ \u8868\u793a\u5403 $i$ \u5757\u86cb\u7cd5\u6240\u7528\u7684\u65b9\u6848\u6570\uff0c\u5219\uff1a $f_i=f_{i-1}+f_{i-k}$ \uff0c\u4ece\u5403 1 \u5757\uff08 $f_{i-1}$ \uff09\u8f6c\u79fb\u4e0e\u5403 $k$ \u5757\uff08 $f_{i-k}$ \uff09\u8f6c\u79fb\u5373\u53ef\u3002\n\n\u521d\u59cb\u5316\uff1a $1 \\leq i < k$ \u65f6\uff0c$f_i=1$ \uff0c\u4e14 $f_2=k$\n\n\u8ba1\u7b97\u51fa $f_i$ \u540e\uff0c\u76f4\u63a5\u524d\u7f00\u548c\u6c42\u89e3\u5373\u53ef\u3002\n\n DP \u4ee3\u7801\uff08\u672c\u4eba\u53ea\u5199\u4e86 DP \uff0c\u5982\u679c\u5404\u4f4d\u8bfb\u8005\u6709\u5174\u8da3\u53ef\u4ee5\u5199\u4e00\u4e0b\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u4ee3\u7801\uff09\uff1a\n \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAXN=1e5+10;\nconst int P=1000000007;\nlong long f[MAXN+10];\nlong long sum[MAXN+10];\nint t,k;\nint main()\n{\n\tscanf(\"%d %d\",&t,&k);\n\tfor(int i=1;i<k;i++) f[i]=1;\n\tf[k]=2;\n\tfor(int i=k+1;i<=MAXN;i++) f[i]=(f[i-1]+f[i-k])%P;\n\tfor(int i=1;i<=MAXN;i++) sum[i]=(sum[i-1]+f[i])%P;\n\twhile(t--)\n\t{\n\t\tint a,b;\n\t\tscanf(\"%d %d\",&a,&b);\n\t\tprintf(\"%lld\\n\",(sum[b]-sum[a-1]+P)%P);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1600753369,
        "uid": 134000,
        "name": "Plozia",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF474D \u3010Flowers\u3011"
    },
    {
        "content": "\u4e00\u9053\u5165\u95e8DP\n\n\u8bbef[i]\u8868\u793a\u5230 i \u4e2a\u86cb\u7cd5\u7684\u65b9\u6848\u6570\n\n\u7531\u9898\u53ef\u77e5f[i] \u53ef\u4ee5\u7531 f[i - 1] \uff08\u53ea\u54031 \u4e2a\uff09,f[i - k]\uff08i - k > 0,\u5403k\u4e2a\uff09\u8f6c\u79fb\u8fc7\u6765\n\n\u7136\u540e\u7528sum\u524d\u7f00\u548c\u7ef4\u62a4\u4e00\u4e0b\uff0c\u5c31\u53ef\u4ee5O(1)\u7684\u56de\u7b54\u8be2\u95ee\u4e86\n\n```\n/*\ntime:2018\u5e749\u670818\u65e521:34:27 \nAuthor:\u98de\u9a6c\u306e\u5e7b\u60f3\nplace:lzyz\ntype:\u8ba1\u6570DP \nfrom:https://www.luogu.org/problemnew/show/CF474D\ninput:\n3 2\n1 3\n2 3\n4 4\n\noutput:\n6\n5\n5\n\n*/\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<vector>\n#define LL long long\n#define rep(i, a, b) for(int i = a; i <= b; ++i)\n#define per(i, a, b) for(int i = a; i >= b; --i)\n#define clr(a,b)  memset((a),b,sizeof(a))\nusing namespace std;\ninline int Read(){\n\tint s = 0, w = 1; char ch = getchar();\n\twhile(ch < '0' || ch > '9')   { if(ch == '-') w = -1; ch = getchar(); }\n\twhile(ch >= '0' && ch <= '9') { s = (s << 3) + (s << 1) + (ch ^ 48); ch = getchar(); }\n\treturn s * w;\n}\nconst int MX = 100011;\nconst int Mod = 1e9 + 7;\nint N,k;\nLL f[MX],sum[MX]; \nvoid init() {\n\tN = Read(), k = Read();\n}\nvoid solve() {\n\tf[0] = 1;\n\trep(i, 1, 100001) {\n\t\tf[i] = f[i - 1];\n\t\tif(i >= k) f[i] = (f[i] + f[i - k]) % Mod;\n\t\tsum[i] = (sum[i - 1] + f[i]) % Mod;\n\t}\n\twhile(N--) {\n\t\tint l = Read(), r = Read();\n\t\tprintf(\"%lld\\n\", (sum[r] - sum[l - 1] + Mod) % Mod);\n\t}\n}\nint main() {\n\tinit();\n\tsolve();\n\treturn 0;\n}\n\n```",
        "postTime": 1537277808,
        "uid": 44650,
        "name": "SpXace",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 CF474D \u3010Flowers\u3011"
    },
    {
        "content": "\n[\u6211\u7684\u535a\u5ba2\uff0c\u6b22\u8fce\u5149\u4e34](http://www.cnblogs.com/noblex/)\n\n\u7b80\u5355dp\u3002\n\n\u7528dp[i]\u8868\u793ai\u4e2a\u86cb\u7cd5\u7684\u5403\u7684\u65b9\u6cd5\u6570\u91cf\n\n$ dp[i]=dp[i-k]+dp[i-1] $\n\n\u6700\u540e\u641e\u4e00\u4e2a\u524d\u7f00\u548c\u6c42\u4e00\u4e0b\u8303\u56f4\u5185\u7684dp\u503c\u7684\u548c\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int maxn=2e5;\nconst ll MOD=1e9+7;\nll dp[maxn], sum[maxn];\nint main(){\n\tint t, k; cin>>t>>k;\n\tdp[0]=1;\n\tfor(int i=1;i<=1e5+10;i++){\n\t\tif(i>=k) dp[i]+=dp[i-k];\n\t\tdp[i]+=dp[i-1];\n\t\tdp[i]%=MOD;\n\t}\n\n\tfor(int i=1;i<=1e5+10;i++){\n\t\tsum[i]=(sum[i-1]+dp[i])%MOD;\n\t}\n\twhile(t--){\n\t\tint a,b; cin>>a>>b;\n\t\tif(b<a) swap(a,b);\n\t\tcout<<(sum[b]-sum[a-1]+MOD)%MOD<<endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1535100242,
        "uid": 36281,
        "name": "noble_",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF474D \u3010Flowers\u3011"
    }
]