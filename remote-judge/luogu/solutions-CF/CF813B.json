[
    {
        "content": "**[\u9898\u89e3 \u3010CF813B The Golden Age\u3011](https://www.luogu.com.cn/problem/CF813B)**    \n# Solution  \n\u9898\u76ee\u5927\u610f\u4e0d\u9700\u8981\u8bf4\u4e86\u3002\u8fd9\u91cc\u6211\u4eec\u8003\u8651\u679a\u4e3e $a,b$\uff0c\u6784\u9020\u51fa**\u4e0d\u662f**\u5e78\u8fd0\u6570\u5b57\u7684**\u6ee1\u8db3\u9898\u76ee\u6240\u7ed9\u533a\u95f4**\u7684\u6570\u5b57\uff0c\u5b58\u5728\u4e00\u4e2a ```vector``` \u91cc\uff0c\u7136\u540e\u5c06 ```vector``` \u4e2d\u7684\u6570\u5b57\u6392\u5e8f\uff0c\u4f9d\u6b21\u505a\u5dee\u5f97\u51fa\u5e78\u8fd0\u6570\u5b57\u7684\u6700\u5927\u8fde\u7eed\u957f\u5ea6\u5c31\u53ef\u4ee5\u4e86\uff0c**\u6ce8\u610f\uff1a\u8fd9\u91cc\u5f97\u51fa\u957f\u5ea6\u5e94\u8be5\u662f\u4e24\u4e2a\u6570\u5b57\u4e4b\u5dee\u518d\u51cf\u4e00\uff0c\u624d\u53ef\u4ee5\u5f97\u51fa\u5b83\u4eec\u4e2d\u95f4\u6570\u5b57\u7684\u957f\u5ea6**\u3002\n\n# Code\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n#define gc getchar\ninline ll read() {\n\tll c = gc(), t = 1, n = 0;\n\twhile(isspace(c)) { c = gc(); }\n\tif(c == '-') { t = -1, c = gc(); }\n\twhile(isdigit(c)) { n = n * 10 + c - '0', c = gc(); }\n\treturn n * t;\n}\n#undef gc\n\nll x,y,l,r;\nvector <ll> p; \n\nint main() {\n\tx = read(); y = read(); l = read(); r = read();\n\tfor(ll i = 1;;i *= x) {\t//\u6784\u9020\u5f62\u5982 x^a + y^b \u7684\u5f62\u5f0f\n\t\tfor(ll j = 1;;j *= y) {\n\t\t\tif(i + j >= l && i + j <= r) p.push_back(i + j);\t//\u5982\u679c\u6ee1\u8db3\u533a\u95f4\u5c31\u653e\u5230 vector \u91cc\u9762\u53bb\n\t\t\tif(r / j < y) break;\t//\u4f5c\u5546\u4e4b\u540e\u5982\u679c\u5c0f\u4e8e y\uff0c\u5c31\u8bc1\u660e\u4e58 y \u4e4b\u540e\u7684\u6240\u6709\u6570\u5b57\u90fd\u4e0d\u80fd\u6ee1\u8db3\uff0c\u8df3\u51fa\u5faa\u73af\n\t\t}\n\t\tif(r / i < x) break;\t//\u540c\u7406\n\t}\n\tsort(p.begin(),p.end());\n\tif(p.size() == 0) printf(\"%lld\\n\",r - l + 1);\n\telse {\n\t\tll ans = max(p[0] - l,r - p[p.size() - 1]);\t//\u8fb9\u754c\u503c\u4e0d\u8981\u5fd8\u8bb0\u7279\u5224\n\t\tfor(int i = 1;i < p.size();i++) ans = max(ans,p[i] - p[i - 1] - 1);\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1616241628,
        "uid": 86971,
        "name": "TRZ_2007",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 \u3010CF813B The Golden Age\u3011"
    },
    {
        "content": "\u7531\u9898\u610f\n\n\u6613\u5f970<a<log2(1e18)=60\n\n\u6240\u4ee5\u76f4\u63a5\u66b4\u529b\u679a\u4e3ea\uff0cb\n\n\u7136\u540e\u6c42\u51fa\u6bcf\u4e00\u79cd\u53ef\u80fd\u7684x^ai,y^bj\n\n\u4e24\u4e24\u76f8\u52a0x^ai,y^bj\u4e4b\u540e\u5f97\u5230\u5927\u69823600\u4e2a\u6574\u6570\n\nsort\u6392\u5e8f\u540e\u5f97\u5230\u4e00\u4e2a\u4e2a\u533a\u95f4\n\n\u679a\u4e3e\u6bcf\u4e00\u4e2a\u533a\u95f4\uff0c\u6c42\u5b83\u4e0e\u3010L\uff0cR\u3011\u7684\u4ea4\u96c6\u7684\u5927\u5c0f\n\n\u7136\u540e\u7ed3\u675f",
        "postTime": 1562752791,
        "uid": 79926,
        "name": "chenlingxi",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 CF813B \u3010The Golden Age\u3011"
    },
    {
        "content": "+ \u5410\u69fd\n\n~~\u8fd9\u9898\u7ffb\u8bd1\u6709\u6bd2\uff0c\u660e\u660e\u662f\u300c$x^a$\u300d\uff0c\u5199\u6210\u4e86\u300cxa\u300d\u2026\u2026\u5e0c\u671b\u770b\u5230\u7684\u7ba1\u7406\u4fee\u6b63\u4e00\u4e0b\u3002~~\n\n\u554a\uff0c\u5df2\u7ecf\u4fee\u4e86\uff0c\u90a3\u6ca1\u4e8b\u4e86\u3002\n\n+ \u6b63\u9898\n\n\u9996\u5148\uff0c\u770b\u5230 $x\\ge2,x^a \\le R \\le 10^{18}$\uff0c\u679c\u65ad\u63a8\u51fa $a \\le 64$\uff08$b$ \u540c\u7406\u4e0d\u8d85\u8fc7 $64$\uff09\uff0c\u7136\u540e\u7b97\u51fa\u6240\u6709\u7684 $x^a+y^b$\uff0c\u6700\u591a $64^2 = 4096$ \u4e2a\u3002\u7136\u540e\u6392\u5e8f\uff0c\u5f97\u5230\u4e00\u5806\u5f00\u533a\u95f4\u3002\u8fd9\u91cc\u6709\u4e00\u4e2a\u6280\u5de7\uff0c\u5c31\u662f\u5f00\u4e24\u4e2a\u54e8\u5175 $L-1,R+1$\u3002\u8fd9\u6837\u5982\u679c\u67d0\u4e00\u4e2a\u533a\u95f4\u76f4\u901a $L$ \u6216 $R$\uff0c\u5c31\u53ef\u4ee5\u6709\u6548\u5904\u7406\u3002\n\n+ \u4ee3\u7801\n\n\u6ca1\u4e8b\u4e86\u5427\uff0c\u591f\u8be6\u7ec6\u4e86\uff0c\u771f\u5199\u4e0d\u51fa\u6765\u4e86\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\ntypedef long long int128;\ntemplate<typename T> class Scanner{\n\tpublic:\n\tT read(){\n\t\tchar ch;T s = 0;bool f = 0;\n\t\twhile(!isdigit(ch=getchar()))if(ch=='-')f^=1;s=ch^48;\n\t\twhile(isdigit((ch=getchar())))s=(s<<3)+(s<<1)+(ch^48);\n\t\treturn f?-s:s;\n\t}  \n\tvoid write(T x,bool first=true){\n\t\tif(x==0&&!first)return;if(x < 0)putchar('-'),x=-x;\n\t\twrite(x/10,false);putchar((x%10)+48);\n\t}\n};//OOP \u8d70\u706b\u5165\u9b54 \nScanner<int128> Scan;\nint128 L,R,x,y,ans;\nvector<int128> un_lucky;\nint128 quick_power(int128 a,int b){\n\tint128 s = 1;\n\twhile(b){\n\t\tif(b&1)s = s*a;\n\t\ta = a*a;b >>= 1;\n\t}\n\treturn s;\n}\nvoid init(){\n\tfor(LL i = 1;;i*=x){\n\t\tfor(LL j = 1;;j*=y){\n\t\t\tif(i+j>=L&&i+j<=R)un_lucky.push_back(i+j);\n\t\t\tif(R/j<y)break;\n\t\t}\n\t\tif(R/i<x)break;\n\t}\n\tun_lucky.push_back(L-1);\n\tun_lucky.push_back(R+1);\n\tsort(un_lucky.begin(),un_lucky.end());\n}\nint main() {\n\tx = Scan.read();\n\ty = Scan.read();\n\tL = Scan.read();\n\tR = Scan.read();\n\tinit();\n\tif(un_lucky.size() == 2)Scan.write(R-L+1),exit(0);\n\tfor(int i = 1;i < un_lucky.size();i ++){\n\t\tint128 r = un_lucky[i];\n\t\tint128 l = un_lucky[i-1];\n\t\tr--,l++;\n\t\tans = max(ans,r-l+1);\n//\t\tputchar('[');\n//\t\tScan.write(l);\n//\t\tputchar(',');\n//\t\tScan.write(r);\n//\t\tputchar(']');\n//\t\tputchar('\\n');\n\t}\n\tScan.write(ans);\n\treturn 0;\n}\n\n```",
        "postTime": 1659426444,
        "uid": 302394,
        "name": "dingshengyang",
        "ccfLevel": 4,
        "title": "\u7ffb\u8bd1\u5410\u69fd"
    }
]