[
    {
        "content": "\u62ff\u5230\u56fe\u540e\u9996\u5148$BFS$\u51fa\u4e00\u6761\u5408\u6cd5\u8def\u5f84\u3002\u6cbf\u7740\u5408\u6cd5\u8def\u5f84\u8d70\u3002\u4e00\u65e6\u8981\u4e0a\u4e0b\u8d70\u4e14\u6ca1\u5f04\u6e05\u695a$U$\u548c$D$\u662f\u5426\u98a0\u5012\uff0c\u5c31\u5f3a\u5236\u5411\u4e0b\u8d70\uff0c\u5e76\u5f04\u6e05$U$\u548c$D$\u7684\u5173\u7cfb\uff1b\u8981\u5de6\u53f3\u8d70\u540c\u7406\u3002\n\n\u6709\u540c\u5b66\u4f1a\u6709\u7591\u95ee\uff1a\u4e07\u4e00\u5f3a\u5236\u5411\u4e0b\u8d70\u5230$*$\uff0c\u6e38\u620f\u4e0d\u5c31\u7ed3\u675f\u4e86\u5417\uff1f\n\n\u8fd9\u662f\u4e0d\u53ef\u80fd\u7684\u3002\u9996\u5148\u5982\u679c\u6211\u4eec\u8fd8\u6ca1\u5f04\u6e05\u662f\u5426\u98a0\u5012\uff0c\u5728\u4e4b\u524d\u4e00\u5b9a\u6ca1\u6709\u4efb\u4f55$U$\u548c$D$\u64cd\u4f5c\u3002\u6240\u4ee5\u73b0\u5728\u6211\u4eec\u4e00\u5b9a\u5728\u7b2c\u4e00\u884c\u3002\u800c\u4e14\u6211\u4eec\u5f88\u660e\u786e\u5730\u77e5\u9053\u5f80\u4e0a\u8d70\u4e00\u5b9a\u4f1a\u649e\u5899\uff0c\u6240\u4ee5\u6211\u4eec\u4e00\u5b9a\u60f3\u8981\u5f80\u4e0b\u8d70\u3002\n\n\u6211\u4eec\u5206\u4e24\u79cd\u60c5\u51b5\u8ba8\u8bba\uff1a\n\n(1)\u98a0\u5012\u4e86\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u4f1a\u649e\u5230\u8fb9\u754c\u4e0a\u7684\u5899\uff0c\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u3002\n\n(2)\u6ca1\u6709\u98a0\u5012\u3002\u6b63\u597d\u9042\u4e86\u6211\u4eec\u7684\u5fc3\u613f\u3002\n\n\u6240\u4ee5\u5f3a\u5236\u5411\u4e0b\u8d70\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u3002\u5de6\u53f3\u8d70\u65f6\u540c\u7406\u3002\n\n\u4ee3\u7801\uff1a\n\n```\n\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<string>\n#include<algorithm>\n#include<math.h>\n#include<queue>\n#include<vector>\nusing namespace std;\n\nconst int N=205;\nconst int T=1e6+5;\nint n,m,dis[N][N],vis[N][N],Tx,Ty;\nint hd,tl,top;\nint dx[5]={0,0,1,-1};\nint dy[5]={1,-1,0,0};\nchar s[N][N];\nint oppolr,oppoud,totfl;\npair<int,int> q[T];\npair<int,int> v[T];\n\nvoid init()\n{\n\tint i,j;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(i=1;i<=n;++i)\n\t\tscanf(\"%s\",s[i]+1);\n\tfor(i=1;i<=n;++i)\n\t\tfor(j=1;j<=m;++j)\n\t\t\tif(s[i][j]=='F')\n\t\t\t\tTx=i,Ty=j;\n}\n\nbool ok(int x,int y)\n{\n\tif(x<1||x>n||y<1||y>m) return false;\n\tif(s[x][y]=='*') return false;\n\treturn true;\n}\n\nvoid BFS()\n{\n\tint i;\n\thd=1,tl=0;\n\tq[++tl]=make_pair(1,1);vis[1][1]=1;\n\twhile(hd<=tl)\n\t{\n\t\tpair<int,int> fr=q[hd];++hd;\n\t\tpair<int,int> nowT;\n\t\tfor(i=0;i<4;++i)\n\t\t{\n\t\t\tnowT=make_pair(fr.first+dx[i],fr.second+dy[i]);\n\t\t\tif(!ok(nowT.first,nowT.second)) continue;\n\t\t\tif(vis[nowT.first][nowT.second]) continue;\n\t\t\tvis[nowT.first][nowT.second]=1;\n\t\t\tq[++tl]=nowT;dis[nowT.first][nowT.second]=dis[fr.first][fr.second]+1;\n\t\t}\n\t\tif(vis[Tx][Ty]) break;\n\t}\n\t\n\tif(!vis[Tx][Ty])\n\t{\n\t\tprintf(\"Chen Jiabo tql! Too Difficult!\\n\");\n\t\ttotfl=1;\n\t\treturn;\n\t}\n\t\n\tint nowx=Tx,nowy=Ty;\n\twhile(nowx!=1||nowy!=1)\n\t{\n\t\tv[++top]=make_pair(nowx,nowy);\n\t\tpair<int,int> nowT;\n\t\tfor(i=0;i<4;++i)\n\t\t{\n\t\t\tnowT=make_pair(nowx+dx[i],nowy+dy[i]);\n\t\t\tif(dis[nowT.first][nowT.second]==dis[nowx][nowy]-1&&vis[nowT.first][nowT.second]&&\n\t\t\tok(nowT.first,nowT.second)) break;\n\t\t}\n\t\tnowx+=dx[i],nowy+=dy[i];\n\t}\n\tv[++top]=make_pair(nowx,nowy);\n}\n\nint to(pair<int,int> v,pair<int,int> u)\n{\n\tif(u.first==v.first&&u.second==v.second+1) return 2;\n\tif(u.first==v.first&&u.second==v.second-1) return 1;\n\tif(u.first==v.first+1&&u.second==v.second) return 4;\n\tif(u.first==v.first-1&&u.second==v.second) return 3; \n}\n\nvoid print()\n{\n\tint i=top,j,k;\n\tfor(i;i>1;--i)\n\t{\n\t\tint dir=to(v[i],v[i-1]);\n\t\tif(dir<3)\n\t\t{\n\t\t\tbool fl=0;\n\t\t\tif(oppolr==dir) printf(\"%c\\n\",'L');\n\t\t\telse if(oppolr) printf(\"%c\\n\",'R');\n\t\t\telse fl=1,printf(\"%c\\n\",'R');\n\t\t\tfflush(stdout);\n\t\t\t\n\t\t\tscanf(\"%d%d\",&j,&k);\n\t\t\tif(make_pair(j,k)==v[i])\n\t\t\t{\n\t\t\t\toppolr=2,printf(\"%c\\n\",'L'),fflush(stdout);\n\t\t\t\tscanf(\"%d%d\",&j,&k);\n\t\t\t\tif(make_pair(j,k)!=v[i-1])\n\t\t\t\t{\n\t\t\t\t\tprintf(\"Huang Zhigang AK IOI!\\n\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(!oppolr) oppolr=1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbool fl=0;\n\t\t\tif(oppoud==dir) printf(\"%c\\n\",'U');\n\t\t\telse if(oppoud) printf(\"%c\\n\",'D');\n\t\t\telse fl=1,printf(\"%c\\n\",'D');\n\t\t\tfflush(stdout);\n\t\t\t\n\t\t\tscanf(\"%d%d\",&j,&k);\n\t\t\tif(make_pair(j,k)==v[i])\n\t\t\t{\n\t\t\t\toppoud=4,printf(\"%c\\n\",'U'),fflush(stdout);\n\t\t\t\tscanf(\"%d%d\",&j,&k);\n\t\t\t\tif(make_pair(j,k)!=v[i-1])\n\t\t\t\t{\n\t\t\t\t\tprintf(\"Yan Shuyi AK IOI!\\n\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(!oppoud) oppoud=3;\n\t\t}\n\t}\n}\n\nint main()\n{\n\tinit();\n\tBFS();if(totfl) return 0;\n\tprint();\n\treturn 0;\n}\n\n```",
        "postTime": 1544672671,
        "uid": 31435,
        "name": "hwk0518",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF811D \u3010Vladik and Favorite Game\u3011"
    }
]