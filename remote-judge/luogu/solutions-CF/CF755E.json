[
    {
        "content": "\u8fd9\u79cd\u7edd(ren)\u4e16(lei)\u597d(zhi)\u9898(hui)\u4e3a\u4ec0\u4e48\u6d1b\u8c37\u6ca1\u9898\u89e3\uff0cCodeForces \u7684\u8fd8\u53ea\u6446\u7ed3\u8bba\u4e0d\u8bc1\u660e\uff0c\u5dee\u8bc4\u3002\u8fd9\u91cc\u6211\u7ed9\u51fa\u4e00\u4e2a\u6bd4 CodeForces \u5b98\u65b9\u9898\u89e3\u66f4\u52a0\u8be6\u7ec6\u800c\u4e14\u5e26\u8bc1\u660e\u7684\u9898\u89e3 ~~\u4e5f\u662f\u672c\u9898\u6d1b\u8c37\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3~~\uff1a\n\n\u4ee5\u4e0b\u63a8\u5bfc\u4e2d\u7684 $G$ \u4e0e $G'$ \u5747\u4e3a\u8fde\u901a\u56fe\u4e14 $G'$ \u4e3a $G$ \u7684\u53cd\u56fe\u3002\n\n\u5148\u653e\u4e00\u4e2a\u7ed3\u8bba\uff1a$k>3$ \u65e0\u89e3\uff0c\u5373\u4e0d\u5b58\u5728\u4e00\u4e2a\u56fe $G$ \u4f7f\u5f97 $\\min(d_G,d_{G'})>3$\u3002\n\n\u8bc1\u660e\uff1a  \n\u5b9a\u4e49 $d(x,y)$ \u4e3a\u56fe $G$ \u4e2d $x$ \u548c $y$ \u95f4\u6700\u77ed\u8def\u5f84\u5305\u542b\u7684\u8fb9\u6570\uff0c$d'(x,y)$ \u4e3a $G'$ \u4e2d $x$ \u548c $y$ \u95f4\u6700\u77ed\u8def\u5f84\u5305\u542b\u7684\u8fb9\u6570\u3002  \n\u4e0d\u59a8\u5047\u8bbe\u6709\u56fe $G$ \u5b58\u5728\u70b9 $u,v$ \u4f7f\u5f97 $d(u,v) \\geqslant 4$\uff0c\u5219\u547d\u9898\u7b49\u6548\u4e8e\u5bf9\u4e8e\u4efb\u4f55\u70b9\u5bf9 $x,y$ \u5747\u6709 $d'(x,y) \\leqslant 2$\u3002  \n\n\u7531\u4e8e $d(u,v) \\geqslant 4$\uff0c\u6240\u4ee5 $u,v,x,y$ \u4e00\u5b9a\u4e0d\u5728\u540c\u4e00\u4e2a\u53ea\u7531 $u,v,x,y$ \u548c\u5176\u95f4\u7684\u8fb9\u6784\u6210\u7684\u8fde\u901a\u5757\uff08\u4e0b\u79f0\u201c\u9650\u5236\u8fde\u901a\u5757\u201d\uff09\u4e2d\uff0c\u5426\u5219 $d(u,v) \\leqslant 3$\u3002  \n\n\u4ee4\u6240\u6709\u6700\u5927\u9650\u5236\u8fde\u901a\u5757\u4e2d\u5305\u542b $u$ \u7684\u8fde\u901a\u5757\u7684\u4e3a $S_u$\uff0c\u5305\u542b $y$ \u7684\u8fde\u901a\u5757\u4e3a $S_v$\uff08\u7531\u4e0a\u53ef\u5f97 $S_u \\neq S_v$\uff09\u5219\uff1a  \n\n* \u82e5\u5b58\u5728 $S\\in\\{S_u,S_v\\}$ \u4f7f\u5f97 $x \\in S$ \u4e14 $y \\in S$\uff08\u4e0d\u59a8\u4ee4 $S=S_u$\uff09\uff0c\u5219\u6709\uff1a$(x,v) \\notin G$\uff0c$(y,v) \\notin G$\u3002  \n  \u90a3\u4e48\u6709 $(x,v) \\in G'$\uff0c$(y,v) \\in  G'$\uff0c\u5373 $d'(x,y) \\leqslant d'(x,v)+d'(y,v)=2$\n* \u5426\u5219\uff0c$x,y$ \u4e0d\u5728\u4e00\u4e2a\u9650\u5236\u8fde\u901a\u5757\u4e2d\uff0c\u7531\u9650\u5236\u8fde\u901a\u5757\u7684\u5b9a\u4e49\u53ef\u5f97 $(x,y) \\notin G$\uff0c\u5373 $(x,y) \\in G'$\uff0c\u6240\u4ee5 $d'(x,y)=1$\n\n\u7efc\u4e0a\uff0c\u82e5\u5b58\u5728\u56fe $G$ \u548c\u70b9\u5bf9 $u,v$ \u4f7f\u5f97 $d(u,v) \\geqslant 4$\uff0c\u5219\u4e0d\u5b58\u5728\u4e00\u5bf9\u70b9 $x,y$ \u4f7f\u5f97 $d'(x,y) > 2$\u3002\u5373 $\\min(d_G,d_{G'}) \\leqslant 3$\u3002\n\n---\n\u5f15\u7406\uff1a\u82e5\u6709\u70b9 $u,v,x,y$ \u4f7f\u5f97 $d(u,v)=d'(x,y)=3$\uff0c\u5219 $d_G=d_{G'}=3$\u3002  \n\n\u8bc1\u660e\uff1a  \n\u56e0\u4e3a $d(u,v)=d'(x,y)=3$\uff0c\u6240\u4ee5 $d_G,d_{G'} \\geqslant 3$\u3002  \n\u82e5 $d_G \\geqslant 4$\uff0c\u5219 $d_{G'} \\leqslant 2$\uff0c\u77db\u76fe\uff0c\u6545 $d_G<4$\uff0c\u540c\u7406\u53ef\u5f97 $d_{G'}<4$\u3002  \n\u56e0\u6b64 $d_G=d_{G'}=3$\u3002\n\n---\n\n\u6240\u4ee5\u53ea\u9700\u8981\u5206\u6790 $k=1,k=2,k=3$ \u7684\u60c5\u51b5\uff1a  \n\n* $k=1$\uff1a\u968f\u4fbf\u753b\u753b\u5c31\u80fd\u53d1\u73b0\u663e\u7136\u65e0\u89e3\n  \n* $k=2$\uff1a$n \\leqslant 3$ \u65f6\u663e\u7136\u65e0\u89e3\uff0c\u5426\u5219\u6784\u9020 $G=\\{(1,2),(2,3),...,(n-1,n)\\}$\uff0c\u663e\u7136 $d_G=n-1$\uff0c\u4e14 $d'(1,2)=2$\uff0c$d'(x,y) \\geqslant d'(x,z)+d'(z,y)=2 (x \\neq z,y \\neq z)$\uff0c\u5373 $d_{G'}=2$\u3002\n\n* $k=3$\uff1a\n$n \\leqslant 3$ \u65f6\u65e0\u89e3\uff0c\u5426\u5219\uff1a\n\n\u6784\u9020 $G_n$ \u4e3a\u6709 $n$ \u4e2a\u70b9\u4e14 $\\min(d_G,d_{G'})=3$ \u7684\u56fe\uff0c$G_4=\\{(1,2),(2,3),(3,4)\\}$\uff0c$G_5=\\{(1,2),(2,3),(3,4),(1,5),(3,5)\\}$\u3002  \n\u663e\u7136\u5bf9\u4e8e\u4e24\u5f20\u56fe\u5747\u6709 $d(1,4)=d'(2,3)=3$\uff0c\u7531\u5f15\u7406\u53ef\u5f97 $d_G=d_{G'}=3$\u3002  \n\n\u4ee4 $G_n=G_{n-1} \\cup \\{(1,n),(3,n),(5,n),(n-1,n)\\} (n \\geqslant 6)$\uff1a\n\n\u5b9a\u4e49\u201c$n$ \u4e0d\u5f71\u54cd $x$\u201d\u8868\u793a $G_n$ \u4e2d\u7684 $x$ \u4e0e $G_{n-1}$ \u4e2d\u7684 $x$ \u76f8\u540c\uff0c\u5219\uff1a  \n\u82e5 $d(u,n)+d(n,v) \\geqslant d(u,v)$\uff0c\u90a3\u4e48 $n$ \u4e0d\u5f71\u54cd $d(u,v)$\u3002  \n\n\u7531\u4e8e $n-1$ \u4e0d\u5f71\u54cd $d(1,4)$\uff0c\u6240\u4ee5 $d(1,n-1)+d(n-1,4) \\geqslant 3$\uff0c\u5373 $d(n-1,4) \\geqslant 2$\u3002  \n\u7531\u4e8e $d(1,n)=1$\uff0c$d(n,4)=1+\\min\\{d(3,4),d(5,4),d(n-1,4)\\}=2$\uff0c$d(1,n)+d(n,4)=3$\uff0c\u5373 $n$ \u4e0d\u5f71\u54cd $d(1,4)$\u3002\n\n\u540c\u7406\uff0c$d'(2,n-1)+d'(n-1,3)=1+d'(n-1,3) \\geqslant 3$\uff0c\u5373 $d'(n-1,3) \\geqslant 2$\uff0c\u7531\u6b64\u6709 $d'(x,3) \\geqslant 2 (5 \\leqslant x < n)$\uff0c$d'(n,3) = 1+\\min\\{d'(2,3),d'(4,3),d'(x,3)\\}(5 \\leqslant x < n) = 2$\uff0c\u5373 $d'(2,n)+d'(n,3)=3$\uff0c\u5373 $n$ \u4e0d\u5f71\u54cd $d'(2,3)$\u3002\n\n\u7531\u4e0a\u53ef\u77e5\uff0c\u82e5 $n-1$ \u4e0d\u5f71\u54cd $d(1,4)$ \u4e0e $d'(2,3)$\uff0c$n$ \u5c31\u4e5f\u4e0d\u5f71\u54cd $d(1,4)$ \u4e0e $d'(2,3)$\u3002\u53c8\u56e0\u4e3a $5$ \u663e\u7136\u4e0d\u5f71\u54cd\uff0c\u6240\u4ee5\u4efb\u610f $n \\geqslant 6$ \u4e5f\u4e0d\u5f71\u54cd $d(1,4)$ \u4e0e $d'(2,3)$\u3002\n\n\u7efc\u4e0a\uff0c\u5728\u56fe $G_n$ \u4e2d\uff0c$d(1,4)=d'(2,3)=3$\uff0c\u7531\u5f15\u7406\u53ef\u5f97 $d_G=d_{G'}=3$\u3002\n\n---\n\n\u81f3\u6b64\uff0c\u6211\u4eec\u8bc1\u660e\u4e86 $k=1$ \u4e0e $k>3$ \u7684\u4e0d\u53ef\u884c\u6027\uff0c\u5e76\u4e3a $k=2$ \u548c $k=3$ \u7ed9\u51fa\u4e86\u6784\u9020\u65b9\u6848\u4e0e\u8bc1\u660e\u3002\n\n\u4ee3\u7801\uff1a\n```c++\n#include <cstdio>\nstruct edge{int u,v;}a[1000010];\nint main()\n{\n\tint n,k;\n\tscanf(\"%d%d\",&n,&k);\n\tif(k>3||k==1||n<k+1) return puts(\"-1\"),0;\n\tif(k==2)\n\t{\n\t\tif(n<=4) return puts(\"-1\"),0;\n\t\tprintf(\"%d\\n\",n-1);\n\t\tfor(int i=1;i<n;i++) printf(\"%d %d\\n\",i,i+1);\n\t}\n\telse if(k==3)\n\t{\n\t\tint top=0;\n\t\ta[top++]={1,2},a[top++]={2,3},a[top++]={3,4};\n\t\tfor(int i=5;i<=n;i++)\n\t\t{\n\t\t\ta[top++]={1,i},a[top++]={3,i};\n\t\t\tif(i>5) a[top++]={5,i};\n\t\t\tif(i>6) a[top++]={i-1,i};\n\t\t}\n\t\tprintf(\"%d\\n\",top);\n\t\tfor(int i=0;i<top;i++) printf(\"%d %d\\n\",a[i].u,a[i].v);\n\t}\n}\n```",
        "postTime": 1673191815,
        "uid": 298051,
        "name": "xkcdjerry",
        "ccfLevel": 7,
        "title": "CF755E \u9898\u89e3"
    }
]