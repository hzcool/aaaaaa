[
    {
        "content": "\u80af\u5b9a\u662f\u4e00\u4e2a dp \u6216\u641c\u7d22\uff0c\u5148\u8003\u8651 dp\u3002\n\n\u663e\u800c\u6613\u89c1\uff0c\u8f6c\u79fb\u7684\u53ef\u80fd\u949b\u591a\u4e86\u2026\u2026\n\n\u4ed4\u7ec6\u9605\u8bfb\u9898\u76ee\uff0c\u53ef\u4ee5\u5229\u7528\u6700\u4f18\u6027\u83b7\u5f97\u4e09\u6761\u7ed3\u8bba\uff1a\n1. \u56e0\u4e3a AWP \u53ea\u80fd\u51fb\u6740\u4e00\u4e2a\u654c\u4eba\uff0c\u51b7\u5374\u65f6\u95f4\u4e0d\u77ed\u4e8e\u5176\u4ed6\u6b66\u5668\uff0c\u6545 AWP \u53ea\u80fd\u7528\u4e8e boss\u3002\n1. \u6bcf\u6b21\u6700\u591a\u8fde\u7eed\u5f80\u524d\u4e00\u4e2a\u5173\u5361\u8d70 $1$ \u6b21\u3002\n1. \u53ea\u80fd\u5728\u7b2c $n$ \u4e2a\u5173\u5361\u6216\u7b2c $n-1$ \u4e2a\u5173\u5361\u7ed3\u675f\u6e38\u620f\u3002\n\n\u6b64\u65f6\u5c31\u5df2\u7ecf\u6bd4\u8f83\u63a5\u8fd1\u771f\u7406\u4e86\u3002\n\n\u5bf9\u4e8e\u7b2c $i$ \u5173\uff0c\u6709\u4e24\u79cd\u5904\u7406\u65b9\u6cd5\uff1a\n- \u7528\u624b\u67aa\u4e00\u4e2a\u4e00\u4e2a\u5730\u6253\u6b7b\u5c0f\u602a\uff0c\u7528 AWP \u6253\u6b7b boss\uff08\u7ed3\u8bba1\uff09\u3002\n- \u7528\u6fc0\u5149\u67aa\uff08\u6216\u624b\u67aa\uff09\u5bf9\u6240\u6709\u654c\u4eba\u9020\u6210 1 \u70b9\u4f24\u5bb3\uff0c\u88ab\u8feb\u79fb\u52a8\u5230\u7b2c $i+1$ \u5173\u3002\n\n\u5bf9\u4e8e\u4e0a\u8ff0\u7b2c $2$ \u79cd\u65b9\u6cd5\uff0c\u5bf9\u4e8e\u7b2c $i+1$ \u5173\uff0c\u53c8\u6709\u4e24\u79cd\u5904\u7406\u65b9\u6cd5\uff08\u7531\u4e8e\u7ed3\u8bba2\uff0c\u5fc5\u987b\u8981\u5728\u7b2c $i+1$ \u5173\u5c31\u6298\u8fd4\uff09\n- \u76f4\u63a5\u6298\u8fd4\uff0c\u7528\u624b\u67aa\u6253\u6b7b\u7b2c $i$ \u5173\u7684 boss\uff0c\u6298\u8fd4\u56de\u7b2c $i+1$ \u5173\u3002\n- \u7528\u6fc0\u5149\u67aa\uff08\u6216\u624b\u67aa\uff09\u5bf9\u6240\u6709\u654c\u4eba\u9020\u6210 1 \u70b9\u4f24\u5bb3\uff0c\u88ab\u8feb\u79fb\u52a8\u5230\u7b2c $i+1-1$ \u5173\uff08\u7b2c $i$ \u5173\uff09\uff0c\u7528\u624b\u67aa\u6253\u6b7b\u7b2c $i$ \u5173\u7684 boss\uff0c\u56de\u5230\u7b2c $i+1$ \u5173\uff0c\u7528\u624b\u67aa\u6253\u6b7b\u7b2c $i+1$ \u7684 boss\uff08\u6b64\u65f6\u6253\u80af\u5b9a\u6bd4\u5230\u7b2c $i+2$ \u5173\u518d\u6298\u8fd4\u66f4\u4f18\uff09\uff0c\u6700\u540e\u79fb\u52a8\u5230\u7b2c $i+2$ \u5173\u3002\n\n\u8bbe $dp_i$ \u4e3a\u6740\u6b7b\u524d $i-1$ \u5173\u7684boss\u7684\u6700\u5c11\u7528\u65f6\u3002\u53ef\u4ee5\u7528 $dp_i$ \u63a8\u51fa\u4e0a\u8ff0\u4e09\u6761\u8f6c\u79fb\u65b9\u7a0b\uff1a\n$$dp_{i+1}=\\min(dp_{i+1},dp_i+a_i\\times r_1+r_3+d)$$\n$$dp_{i+1}=\\min(dp_{i+1},dp_i+\\min((a_i+1)\\times r_1,r_2)+d+d+r_1+d)$$\n$$dp_{i+2}=\\min(dp_{i+2},dp_i+\\min((a_i+1)\\times r_1,r_2)+d+\\min((a_{i+1}+1)\\times r1,r2)+d+r_1+d+r_1+d)$$\n\u6839\u636e\u7ed3\u8bba3\uff0c\u6700\u540e\u7684\u7b54\u6848\u5e94\u8be5\u662f\uff1a\n$$\\min(dp_{n+1}-d,dp_{n-1}+d+a_n\\times r_1+r_2+d+r_1)$$\n\n\u5176\u5b9e\u641c\u7d22\u7684\u601d\u8def\u4e5f\u7c7b\u4f3c\uff0c\u8bf7\u8bfb\u8005\u81ea\u884cyy\u3002\n\n\u611f\u89c9\u8fd8\u662f\u653e\u4e00\u4e0b\u4ee3\u7801\u4e3a\u597d\u3002\uff08\u5c3d\u7ba1\u5199\u8d77\u6765\u975e\u5e38\u5bb9\u6613\uff09\n\n\u559c\u95fb\u4e50\u89c1\u7684\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n,r1,r2,r3,d,a[1000001],dp[1000003];\nsigned main()\n{\n\tscanf(\"%lld %lld %lld %lld %lld\",&n,&r1,&r2,&r3,&d);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%lld\",&a[i]);\n\t\tdp[i]=114514114514114514;\n\t}\n\tdp[n+1]=dp[n+2]=112414114514114514;\n\tdp[1]=0;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tdp[i+1]=min(dp[i+1],dp[i]+a[i]*r1+r3+d);\n\t\tdp[i+1]=min(dp[i+1],dp[i]+min((a[i]+1)*r1,r2)+r1+d*3);\n\t\tdp[i+2]=min(dp[i+2],dp[i]+min((a[i]+1)*r1,r2)+min((a[i+1]+1)*r1,r2)+2*r1+d*4); \n\t}\n\tcout<<min(dp[n+1]-d,dp[n-1]+min((a[n-1]+1)*r1,r2)+r1*a[n]+r3+2*d+r1);\n\treturn 0;\n}\n```\n\n**Update 2020.9.1 \u7ecf\u8fc7\u795e $\\color{black}\\text Frogg$$\\color{red}\\text y$ \u7684\u53cb\u60c5\u63d0\u9192\uff0c\u4fee\u6539\u4e86\u7b2c\u4e00\u4e2a\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b**",
        "postTime": 1598864483,
        "uid": 334379,
        "name": "45din\u043e",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1396C \u3010Monster Invaders\u3011"
    },
    {
        "content": "## \u524d\u8a00\n\u672c\u7bc7\u9898\u89e3\u662f\u7b14\u8005\u6309\u7167\u7b14\u8005\u81ea\u5df1\u7684\u601d\u8def\u64b0\u5199\u7684\uff0c\u505a\u5b8c\u540e\u53d1\u73b0\u548c\u5b98\u65b9\u9898\u89e3\u4ee5\u53ca\u6d1b\u8c37\u5927\u90e8\u5206\u90fd\u9898\u89e3\u7684\u72b6\u6001\u8bbe\u8ba1\u90fd\u7565\u6709\u4e0d\u540c\uff0c\u56e0\u6b64\u53d1\u4e86\u8fd9\u7bc7\u9898\u89e3\u5e0c\u671b\u80fd\u591f\u901a\u8fc7.  \n## \u89e3\u6790\n\u672c\u9898\u7684\u5173\u952e\u662f\u901a\u8fc7\u9898\u610f\u62bd\u8c61\u51fa\u7b80\u6d01\u3001\u6613\u8f6c\u79fb\u7684\u6253\u602a\u7b56\u7565.  \n\u9996\u5148\u53ef\u4ee5\u53d1\u73b0\uff0c\u5982\u975e\u88ab\u8feb\uff0c\u5728\u6253\u5b8c\u602a\u4e4b\u524d\u79bb\u5f00\u662f\u4e0d\u4f18\u7684.  \n\u6253\u602a\u7684\u7b56\u7565\u9009\u62e9\u53ef\u4ee5\u7b80\u5316\u4e3a\u5982\u4e0b\u4e09\u79cd\uff1a  \n>1.\u624b\u67aa\u70b9\u6b7b\u6240\u6709\u5c0f\u602a\uff0c AWP \u5e72\u6389 boss .  \n>2.\u624b\u67aa\u70b9\u6b7b\u6240\u6709\u5c0f\u602a\uff0c\u518d\u70b9\u4e00\u4e0b boss \uff0c\u9003\u8dd1\uff0c\u56de\u6765\u518d\u70b9\u4e00\u4e0b boss .  \n>3.\u6fc0\u5149\u67aa\u626b\u6b7b\u6240\u6709\u5c0f\u602a\uff0c\u9003\u8dd1\uff0c\u56de\u6765\u7528\u624b\u67aa\u70b9\u6b7b boss .  \n\n\u5176\u4e2d 2\u30013 \u90fd\u9700\u8981\u53bb\u800c\u590d\u8fd4\uff0c\u5bf9\u5168\u5c40\u800c\u8a00\u662f\u7b49\u4ef7\u7684.   \n\u8bbe\u6253 1 \u6b21\u901a\u5173\u7b2c $i$ \u5173\u7684\u4ee3\u4ef7\u662f $f_{i,1}$ , \u6253\u4e24\u6b21\u901a\u5173\u7b2c $i$ \u5173\u7684\u4ee3\u4ef7\u662f $f_{i,2}$ .  \uff08\u5747\u4e0d\u8003\u8651\u79fb\u52a8\u7684\u4ee3\u4ef7\uff09  \n\u90a3\u4e48\u5c31\u6709\uff1a  \n$$f_{i,1}=a[i]\\times r1+r3$$  \n$$f_{i,2}=\\min((a_i+2)*r1,r1+r2)$$\n\n\u6ce8\u610f\u5230\uff0c $f_{i,2}$ \u4e0d\u5927\u4e8e $f_{i,1}$ .  \n\u6211\u4eec\u9700\u8981\u6253\u4e24\u6b21\u7b2c $i$ \u5173\u7684\u65f6\u5019\uff0c\u53ea\u9700\u8981\u5148\u6253\u4e00\u6b21 $i$ \uff0c\u53bb $i+1$ \u5173\u987a\u4fbf\u6253\u4e00\u6b21\uff0c\u56de\u5230\u7b2c $i$ \u5173\u6253\u5b8c\uff0c\u53bb\u7b2c $i+1$ \u5173\u6253\u5b8c\uff0c\u8fd9\u6837\u5728\u76f8\u90bb\u7684\u4e24\u5173\u4e4b\u95f4\u6a2a\u8df3\uff0c\u53ea\u9700\u8981\u4e24\u6b21\u989d\u5916\u7684\u79fb\u52a8\u5c31\u53ef\u4ee5\u4f7f\u76f8\u90bb\u7684\u4e24\u5173\u90fd\u6253\u4e24\u6b21\uff0c\u8fd9\u6837\u5728\u9700\u8981\u79fb\u52a8\u7684\u65f6\u5019\u662f\u4e0d\u52a3\u7684.  \n\u8bbe\u8ba1 $dp_i$ \u8868\u793a\u6253\u5b8c $[1,i]$ \u5173\u5e76**\u7ad9\u5728\u7b2c $i$ \u5173**\u7684\u6700\u5c0f\u4ee3\u4ef7.  \n\u5bf9\u4e8e $dp_i$ \u7684\u8f6c\u79fb\uff0c\u6309\u7167\u6253\u4e00\u6b21\u6216\u8005\u6253\u4e24\u6b21\uff0c\u5206\u522b\u4ece $dp_{i-1}$ \u6216\u8005$dp_{i-2}$ \u6a21\u62df\u8fc7\u7a0b\u8fdb\u884c\u8f6c\u79fb\uff0c\u518d\u53d6\u6700\u5c0f\u503c\u5373\u53ef.  \n\u5728\u7b2c $1$ \u5173\u548c\u7b2c $n$ \u5173\u8fb9\u754c\u5904\u9700\u8981\u7279\u6b8a\u5904\u7406\u4e00\u4e0b\uff0c\u5177\u4f53\u7684\u7ec6\u8282\u53ef\u89c1\u4ee3\u7801.  \n## \u4ee3\u7801\n$dp$ \u5f0f\u5b50\u770b\u7740\u590d\u6742\uff0c\u5176\u5b9e\u90fd\u662f\u6a21\u62df.\u5728\u5fc5\u8981\u5904\u52a0\u4e86\u6ce8\u91ca\u4fbf\u4e8e\u7406\u89e3.\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1e6+100;\nconst int mod=1e9+7;\n#define ll long long\nll read(){\n\tll x=0,f=1;char c=getchar();\n\twhile(!isdigit(c)){if(c=='-')f=-1;c=getchar();};\n\twhile(isdigit(c)){x=x*10+c-'0';c=getchar();};\n\treturn x*f;\n}\nint n,m,k;\nll r1,r2,r3,a[N],dp[N],d;\nint main(){\n\t#ifndef ONLINE_JUDGE\n\t//freopen(\"a.in\",\"r\",stdin);\n\t//freopen(\"a.out\",\"w\",stdout);\n\t#endif\n\tn=read();r1=read();r2=read();r3=read();d=read();\n\tfor(int i=1;i<=n;i++) a[i]=read();\n\tdp[0]=-d;//\u8fb9\u754c\u7684dp[0]\u8bbe\u4e3a-d\uff0c\u4e0e\u4ece\u7b2c0\u5173\u8d70\u5230\u7b2c1\u5173\u9700\u8981\u7684d\u65f6\u95f4\u6070\u597d\u62b5\u6d88 \n\tdp[1]=min(a[1]*r1+r3,r2+2*d+r1);\n\tfor(int i=2;i<=n;i++){\n\t\t//min\u7684\u524d\u9762\u4e00\u9879\u662f\u5728\u7b2ci\u5173\u4e00\u6b21\u6253\u5b8c\uff0c\u540e\u9762\u4e00\u9879\u662f\u6a21\u62df\u5728i-1\u548ci\u4e4b\u95f4\u6a2a\u8df3 \n\t\tdp[i]=min(dp[i-1]+d+min(a[i]*r1+r3,2*d+min(r2+r1,(a[i]+2)*r1)),dp[i-2]+d+min(r2+r1,(a[i-1]+2)*r1)+3*d+min(r2+r1,(a[i]+2)*r1));\n\t}\n\tll ans=min(dp[n],dp[n-2]+d+r2+r1+2*d+a[n]*r1+r3);//\u7279\u5224\u6700\u540e\u53ef\u4ee5\u505c\u5728\u7b2cn-1\u5173\u4e0d\u518d\u56de\u6765 \n\tprintf(\"%lld\\n\",ans);\n\t//printf(\"%lld\\n\",dp[2]);\n\treturn 0;\n}\n/*\n4 2 4 4 1\n4 5 1 2\n*/\n\n\n```\n\n",
        "postTime": 1636614647,
        "uid": 449265,
        "name": "wind_whisper",
        "ccfLevel": 10,
        "title": "CF1396C Monster Invaders \u9898\u89e3"
    },
    {
        "content": "\u663e\u7136\u4e0a $x$ \u5c42\u518d\u4e0b $x$ \u5c42\u4e0d\u52a3\u4e8e\u4e0a\u4e00\u5c42\u4e0b\u4e00\u5c42\uff0c\u4e14\u5982\u679c\u975e\u88ab\u8feb\u4e0d\u9700\u8981\u63d0\u524d\u79bb\u5f00\u67d0\u4e00\u5c42\n\n\u53ef\u4ee5\u8003\u8651\u8bbe $f_{i,0/1}$ \u8868\u793a\u5230\u7b2c $i$ \u5c42\u6e05\u7a7a\u4e0e\u5426\u7684\u6700\u77ed\u65f6\u95f4\uff0c\u5219 $dp$ \u65b9\u7a0b\u53ea\u9700\u8981\u8003\u8651\u76f4\u63a5\u6e05\u7a7a\u3001\u6253\u4e00\u4e0b\u4e0a\u53bb\u4e0b\u6765\u6e05\u7a7a\u518d\u4e0a\u53bb\u7684\u60c5\u51b5\uff0c\u5177\u4f53\u65b9\u7a0b\u53ef\u89c1\u4ee3\u7801\n\n\u6ce8\u610f\u6700\u540e\u4e0d\u4e00\u5b9a\u5728\u7b2c $n$ \u5c42\u7ed3\u675f\uff0c\u610f\u5473\u7740\u6700\u540e\u53ef\u80fd\u5e76\u4e0d\u9700\u8981\u4e0a\u4e0b\u4e0a\u800c\u53ea\u9700\u8981\u4e0a\u4e0b\uff0c\u6ce8\u610f\u5bf9 $f_n$ \u8981\u7279\u6b8a\u5904\u7406\n\n```\n#include <stdio.h>\n#include <string.h>\n#include <algorithm>\nusing namespace std;\ntypedef long long ll;\nconst int N=1e6+2;\nll f[N][2];\nint a[N];\nint r,rr,rrr,d,n,i,c;\ninline void read(int &x)\n{\n\tc=getchar();\n\twhile ((c<48)||(c>57)) c=getchar();\n\tx=c^48;c=getchar();\n\twhile ((c>=48)&&(c<=57))\n\t{\n\t\tx=x*10+(c^48);\n\t\tc=getchar();\n\t}\n}\nint main()\n{\n\tmemset(f,0x3f,sizeof(f));\n\tread(n);read(r);read(rr);read(rrr);read(d);\n\tfor (i=1;i<=n;i++) read(a[i]);\n\tf[0][1]=-d;\n\tfor (i=1;i<=n;i++)\n\t{\n\t\tf[i][0]=f[i-1][1]+d+min((ll)rr,(ll)r*(a[i]+1));\n\t\tf[i][1]=min(f[i-1][1]+d+(ll)r*a[i]+rrr,f[i-1][0]+d*3ll+r+min((ll)rr+r,(ll)r*a[i]+min(rrr,r<<1)));\n\t}i=n;\n\tf[n][1]=min(f[i-1][1]+d+(ll)r*a[i]+rrr,f[i-1][0]+d*2ll+r+min((ll)rr+r+d,(ll)r*a[i]+min((ll)rrr,(ll)d+(r<<1))));\n\tprintf(\"%lld\",min(f[n][1],f[n][0]+d*2ll+r));\n}\n```",
        "postTime": 1599240761,
        "uid": 29826,
        "name": "SSerxhs",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1396C \u3010Monster Invaders\u3011"
    },
    {
        "content": "\u663e\u7136\u662f\u4e00\u4e2a dp\u3002\n\n\u5728\u6bcf\u4e00\u5c42\u6709\u4e09\u79cd\u6289\u62e9\uff1a\n\n- \u7528\u7b2c\u4e00\u79cd\u67aa $a_i$ \u6b21\uff0c\u518d\u7528 AWP\uff1b\n- \u7528\u7b2c\u4e00\u79cd\u67aa $a_i+1$ \u6b21\uff0c\u9003\u8d70\uff0c\u7b49\u4f1a\u518d\u6765\uff1b\n- \u7528\u7b2c\u4e8c\u79cd\u67aa\uff0c\u9003\u8d70\uff0c\u7b49\u4f1a\u518d\u6765\u3002\n\n**\u672c\u9898\u7684\u96be\u70b9\u5728\u4e8e\u8bbe\u4e00\u4e2a\u597d\u7684\u72b6\u6001\u3002** \u8bbe $f_{i,0}$ \u4e3a\u6253\u4e86\u524d $i$ \u5c42\uff0c\u7b2c $i$ \u5c42\u7684 boss \u6253\u5b8c\u4e86\uff0c\u73b0\u5728\u5728 $i$ \u7684\u6700\u4f18\u89e3\uff1b$f_{i,1}$ \u4e3a\u6253\u4e86\u524d $i$ \u5c42\uff0c\u7b2c $i$ \u5c42\u7684 boss \u8fd8\u6709\u4e00\u6ef4\u8840\uff0c**\u73b0\u5728\u5728 $i$\uff0c\u9700\u8981\u9003\u8d70\u7b49\u4f1a\u56de\u6765**\u7684\u6700\u4f18\u89e3\u3002\u76f4\u63a5\u8f6c\u79fb\u5373\u53ef\uff0c\u8f6c\u79fb\u4e0d\u662f\u91cd\u70b9\uff0c\u7565\u53bb\u3002\n\n\u6700\u540e\u7684\u7b54\u6848\u4e24\u79cd\u60c5\u51b5\uff1a\u53ef\u4ee5\u662f $f_{n,0}$\uff0c\u4ea6\u53ef\u4ee5\u662f\u4ece\u6ca1\u6253\u5b8c\u7684 $n-1$ \u5c42\u5230 $n$\uff0c\u6253\u5b8c $n$ \u518d\u56de\u5230 $n-1$ \u6e05\u9664 boss\u3002\u76f8\u4fe1\u8fd9\u4e00\u70b9\u4e5f\u4e0d\u96be\u60f3\u5230\u3002\n\n\u8fd9\u91cc\u91cd\u590d\u4e00\u904d\uff1a\u672c\u9898\u7684\u5173\u952e\u5728\u4e8e\u72b6\u6001\u7684\u5b9a\u4e49\uff0c\u7279\u522b\u662f $f_{i,1}$\uff0c\u82e5\u6ca1\u6709\u660e\u786e\u5b9a\u4e49\u5c31\u4f1a\u51fa\u73b0\u201c\u5230\u5e95\u80fd\u4e0d\u80fd\u76f4\u63a5\u653b\u51fb boss\uff1f\u201d\u4e4b\u7c7b\u7684\u95ee\u9898\uff0c\u9700\u8981\u63a8\u6572\u4e00\u4e0b\u624d\u80fd\u5f97\u5230\u4ee5\u4e0a\u7684\u5b9a\u4e49\u3002\n\n```cpp\n#include<iostream>\nusing namespace std;\ntypedef long long ll;\nll f[1000005][2],c1,c2,c3,d,a[1000005];\nint n;\nint main(){\n\tios::sync_with_stdio(0),cin>>n>>c1>>c2>>c3>>d;\n\tfor(int i=1;i<=n;i++)cin>>a[i];\n\tf[1][0]=c1*a[1]+c3,f[1][1]=min(c2,c1*(a[1]+1));\n\tfor(int i=1;i<n;i++){\n\t\tf[i+1][1]=f[i][0]+min(c2,c1*(a[i+1]+1))+d;\n\t\tf[i+1][1]=min(f[i+1][1],f[i][1]+d+min(c2,c1*(a[i+1]+1))+c1+2*d);\n\t\tf[i+1][0]=f[i][0]+c1*a[i+1]+c3+d;\n\t\tf[i+1][0]=min(f[i+1][0],f[i][1]+d+c1*a[i+1]+c3+d+c1+d);\n\t\tf[i+1][0]=min(f[i+1][0],f[i][1]+d+min(c2,c1*(a[i+1]+1))+2*d+2*c1);\n\t}\n\tcout<<min(f[n][0],f[n-1][1]+d+c1*a[n]+c3+d+c1);\n    return 0;\n}\n```",
        "postTime": 1599200840,
        "uid": 42156,
        "name": "feecle6418",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1396C \u3010Monster Invaders\u3011"
    },
    {
        "content": "\u9996\u5148\u626f\u4e00\u53e5\u9898\u5916\u8bdd\uff1aB \u51fa\u9898\u4eba \\*\\*\\*\\*\u3002nmd \u8001\u5b50\u5f00\u5b66\u524d\u4e00\u5929\u6253\u4f60\u5348\u591c\u7684\u6bd4\u8d5b\uff0c\u8fd8\u51fa\u4e2a\u7ed3\u8bba\u9898\u7cdf\u8e4b\u6211\u6bd4\u8d5b\u4f53\u9a8c\uff1f\u8fd8\u597d\u628a\u8fd9\u4e2a C \u505a\u51fa\u6765\u4e86\uff0c\u8981\u4e0d\u7136\u73a9\u5b8c\u4e86\u3002\n\n> ### [\u6d1b\u8c37\u9898\u76ee\u9875\u9762\u4f20\u9001\u95e8]( https://www.luogu.com.cn/problem/CF1396C ) & [CF \u9898\u76ee\u9875\u9762\u4f20\u9001\u95e8]( https://codeforces.com/contest/1396/problem/C )\n>\n> \u9898\u610f\u89c1\u6d1b\u8c37\u3002\n\n\u6ce8\u610f\u5230\u4e00\u4e2a boss \u7684\u8840\u91cf\u4e3a $2$\uff0c\u4e8e\u662f\u6bcf\u4e00\u7ea7\u6700\u591a\u4f1a\u88ab\u5f3a\u5236\u79bb\u5f00 $1$ \u6b21\u3002\n\n\u4e8e\u662f\u8003\u8651\u5bf9\u4e8e\u6bcf\u4e00\u7ea7\u51b3\u5b9a\u662f\u5426\u88ab\u5f3a\u5236\u79bb\u5f00\u3002\u8bbe\u82e5\u4e0d\u79bb\u5f00\uff0c\u90a3\u4e48\u7b2c $i$ \u7ea7\u6700\u5c11\u9700\u8981 $x_i$ \u7684\u65f6\u95f4\u6253\u602a\uff1b\u82e5\u79bb\u5f00\uff0c\u90a3\u4e48\u7b2c $i$ \u7ea7\u6700\u5c11\u9700\u8981 $y_i$ \u7684\u65f6\u95f4\u6253\u602a\uff08\u8fd9\u4e2a $x_i,y_i$ \u592a\u597d\u7b97\u4e86\uff0c\u663e\u7136\u53ef\u4ee5 $\\mathrm O(1)$\uff0c\u5c31\u4e0d\u518d\u8d58\u8ff0\u4e86\uff09\u3002\u663e\u7136\uff0c\u5bf9\u4e8e\u4e00\u79cd\u51b3\u5b9a\uff0c\u603b\u65f6\u95f4\u5c31\u662f\u5b83\u4eec\u7684\u6253\u602a\u65f6\u95f4\u76f8\u52a0\uff08\u867d\u7136\u88ab\u5f3a\u5236\u79bb\u5f00\u7684\u7ea7\u522b\u7684\u6253\u602a\u8fc7\u7a0b\u4e0d\u662f\u8fde\u7eed\u7684\uff0c\u4f46\u4e5f\u53ef\u4ee5\u76f8\u52a0\uff09\u52a0\u4e0a\u8d70\u8def\u7684\u6700\u5c0f\u603b\u65f6\u95f4\u3002\u4e0d\u59a8\u6765\u7814\u7a76\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u51b3\u5b9a\uff0c\u8d70\u8def\u7684\u6700\u4f18\u8def\u7ebf\u957f\u4ec0\u4e48\u6837\u5b50\u3002\n\n\u82e5\u6ca1\u6709\u88ab\u5f3a\u5236\u79bb\u5f00\u7684\u7ea7\u522b\u7684\u8bdd\uff0c\u6700\u4f18\u8def\u7ebf\u663e\u7136\u662f\u4ece $1$ \u7b14\u76f4\u8d70\u5230 $n$\u3002\u5982\u679c\u6709\u7684\u8bdd\uff0c\u90a3\u4e48\u90a3\u4e9b\u88ab\u5f3a\u5236\u79bb\u5f00\u7684\u70b9\u8981\u7ecf\u8fc7 $2$ \u6b21\uff08\u8fd9\u662f\u663e\u7136\u7684\u5427\uff09\u3002\u6309\u539f\u7b14\u76f4\u8def\u7ebf\u7ecf\u8fc7\u5b83\u4eec\u7684\u65f6\u5019\uff0c\u5b83\u4eec\u53ea\u88ab\u7ecf\u8fc7\u4e86 $1$ \u6b21\uff1b\u8981\u60f3\u6765\u4e2a\u7b2c $2$ \u6b21\uff0c\u80af\u5b9a\u8981\u56de\u5934\uff1b\u7136\u540e\u8fd8\u8981\u7ee7\u7eed\u5f80\u524d\u8d70\u554a\uff0c\u4e8e\u662f\u56de\u5934\u8d70\u5230\u67d0\u5904\u7684\u65f6\u5019\u8fd8\u8981\u518d\u56de\u5934\u6309\u539f\u7b14\u76f4\u8def\u7ebf\u8d70\u3002\u4e8e\u662f\u5f88\u5bb9\u6613\u5f97\u51fa\u7ed3\u8bba\uff1a\u6700\u4f18\u8def\u7ebf\u4e00\u5b9a\u662f\u5728\u7b14\u76f4\u8def\u7ebf\u7684\u57fa\u7840\u4e0a\uff0c\u6709\u82e5\u5e72\u4e2a\u4e0d\u76f8\u4ea4\u7684\u533a\u95f4\u591a\u8d70\u4e86 $2$ \u904d\uff0c\u5176\u4e2d\u8fd9\u4e9b\u533a\u95f4\u8981\u8986\u76d6\u6240\u6709\u7684\u88ab\u5f3a\u5236\u79bb\u5f00\u7684\u70b9\u3002\n\n\u7ec6\u8282\uff1a\n\n1. \u6bcf\u4e2a\u533a\u95f4\u7684\u5927\u5c0f\u8981 $>1$\uff0c\u56e0\u4e3a $=1$ \u7684\u8bdd\u5c31\u662f\u539f\u5730\u6253\u8f6c\uff0c\u662f\u4e0d\u7b97\u7ecf\u8fc7\u591a\u904d\u7684\uff1b\n2. **\u82e5 $n$ \u5904\u4e0d\u88ab\u5f3a\u5236\u79bb\u5f00\u7684\u8bdd**\uff0c\u90a3\u4e48\u53f3\u7aef\u70b9\u4e3a $n$ \u7684\u533a\u95f4\u662f\u53ea\u9700\u8981\u518d\u591a\u8d70 $1$ \u904d\u7684\uff0c\u56e0\u4e3a\u5230\u8fbe\u4e86\u5de6\u7aef\u70b9\u4e4b\u540e\u5c31\u6ca1\u5fc5\u8981\u518d\u56de\u5934\u4e86\uff0c\u6e38\u620f\u5df2\u7ecf win \u4e86\u3002\n\n\u63a5\u4e0b\u6765\u5c31\u5f88\u5bb9\u6613\u8bbe\u8ba1\u51fa\u65e0\u540e\u6548\u6027\u7684 DP \u4e86\uff08\u5728\u5f97\u51fa\u7ed3\u8bba\u4e4b\u524d\uff0c\u74f6\u9888\u5728\u4e8e\u53ef\u4ee5\u5f80\u4e24\u8fb9\u8dd1\uff0c\u540e\u6548\u6027\u6d88\u9664\u4e0d\u4e86\uff09\u3002$dp_i$ \u8868\u793a\u8003\u8651\u5230\u7b2c $i$ \u7ea7\uff0c\u505c\u5728\u7b2c $i$ \u7ea7\u4e14\u524d $i$ \u7ea7\u90fd\u6253\u6389\u4e86\u65f6\u7684\u6700\u5c0f\u6253\u602a\u3001\u989d\u5916\u8d70\u8def\u603b\u65f6\u95f4\u3002\u8fb9\u754c\uff1a$dp_0=0,dp_1=x_1$\uff1b\u76ee\u6807\uff1a$dp_n+(n-1)d$\u3002\u8f6c\u79fb\u7684\u8bdd\uff0c\u8003\u8651\u7b2c $i$ \u7ea7\u662f\u79bb\u5f00\u8fd8\u662f\u4e0d\u79bb\u5f00\u4e24\u79cd\u9009\u62e9\uff1a\u4e0d\u79bb\u5f00\u7b80\u5355\u8981\u6b7b\uff1b\u79bb\u5f00\u7684\u8bdd\uff0c\u663e\u7136 $i$ \u662f\u6700\u540e\u4e00\u4e2a\u91cd\u590d\u8d70\u533a\u95f4\u7684\u53f3\u7aef\u70b9\uff0c\u4e8e\u662f\u679a\u4e3e\u5de6\u7aef\u70b9\u3002\u6240\u4ee5\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$$dp_i=\\min\\!\\left(dp_{i-1}+x_i,\\min\\limits_{j=0}^{i-2}\\!\\left\\{dp_j+\\sum\\limits_{k=j+1}^i\\min(x_k,y_k)+2(i-j-1)d\\right\\}\\right)$$\n\n\u76f4\u63a5\u7b97\u662f $\\mathrm O\\!\\left(n^3\\right)$ \u7684\u3002\u91cc\u5c42 $\\sum$ \u53ef\u4ee5\u524d\u7f00\u548c\u4f18\u5316\u6389\uff0c\u5269\u4e0b\u6765\u4e5f\u53ef\u4ee5 two-pointers \u7b80\u5355\u4f18\u5316\u6210 $\\mathrm O(n)$\u3002\u6ce8\u610f\uff0c$i=n$ \u8981\u7279\u6b8a\u7b97\uff0c\u968f\u4fbf\u8dd1\u4e00\u4e0b\u5373\u53ef\uff0c\u4e0d\u5f71\u54cd\u590d\u6742\u5ea6\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nconst int inf=0x3f3f3f3f3f3f3f3f;\nconst int N=1000000;\nint n;\nint r1,r2,r3,d;\nint a[N+1];\nint dp[N+1];\nint x[N+1],y[N+1];\nint Sum[N+1];\nsigned main(){\n\tcin>>n>>r1>>r2>>r3>>d;\n\tfor(int i=1;i<=n;i++)scanf(\"%lld\",a+i);\n\tfor(int i=1;i<=n;i++){\n\t\tx[i]=a[i]*min(r1,r3)+r3;\n\t\ty[i]=min(r2+min(min(r1,r2),r3),a[i]*min(r1,r3)+min(r1,r2)+min(min(r1,r2),r3));\n\t\tSum[i]=Sum[i-1]+min(x[i],y[i]);\n//\t\tcout<<x[i]<<\" \"<<y[i]<<\"\\n\";\n\t}\n\tint mn=inf;\n\tdp[1]=x[1];\n\tfor(int i=2;i<n;i++){\n\t\tmn=min(mn,dp[i-2]-Sum[i-2]-2*(i-1)*d);\n\t\tdp[i]=min(dp[i-1]+x[i],mn+Sum[i]+2*i*d);\n//\t\tcout<<dp[i]<<\"\\n\";\n\t}\n\tdp[n]=dp[n-1]+x[n];\n\tfor(int i=0;i<=n-2;i++)\n\t\tdp[n]=min(dp[n],dp[i]+Sum[n]-Sum[i]+2*n*d-2*(i+1)*d),\n\t\tdp[n]=min(dp[n],dp[i]+Sum[n-1]-Sum[i]+x[n]+n*d-(i+1)*d);\n\tcout<<dp[n]+(n-1)*d;\n\treturn 0;\n}\n```",
        "postTime": 1598970801,
        "uid": 138400,
        "name": "chenxia25",
        "ccfLevel": 9,
        "title": "CodeForces 1396C - Monster Invaders"
    },
    {
        "content": "\n\u66f4\u68d2\u68d2\u7684\u4f53\u9a8c $\\to$ [$\\it\\color{#142857}{George1123}$](https://www.cnblogs.com/George1123/p/13591631.html)\n\n---\n## \u9898\u9762\n\n> [CF1396C Monster Invaders](https://www.luogu.com.cn/problem/CF1396C)\n\n> \u6709 $n$ \u5c42\u5173\u5361\uff0c\u6bcf\u5c42\u6709 $a_i$ \u4e2a\u5c0f\u602a\uff08$1$ \u8840\uff09\u548c $1$ \u4e2a\u8001\u602a\uff08$2$ \u8840\uff09\u3002\u6709\u4e09\u79cd\u6b66\u5668\uff1a$1$ \u6b66\u5668\u6bcf\u6b21\u653b\u51fb\u8017\u65f6 $r_1$\uff0c\u53ef\u4ee5\u653b\u51fb\u4e00\u4e2a\u602a $1$ \u8840\uff1b$2$ \u6b66\u5668\u6bcf\u6b21\u653b\u51fb\u8017\u65f6 $r_2$\uff0c\u53ef\u4ee5\u653b\u51fb\u4e00\u5c42\u6bcf\u4e2a\u602a $1$ \u8840\uff1b$3$ \u6b66\u5668\u6bcf\u6b21\u653b\u51fb\u8017\u65f6 $r_3$\uff0c\u53ef\u4ee5\u6740\u6b7b\u4e00\u4e2a\u602a\u3002\u5f53\u4e00\u6b21\u653b\u51fb\u4f24\u5bb3\u4e86\u8001\u602a\u4f46\u662f\u6ca1\u6709\u6740\u6b7b\u4ed6\u65f6\uff0c\u73a9\u5bb6\u4f1a\u88ab\u8feb\u79fb\u52a8\u81f3\u76f8\u90bb\u7684\u5c42\uff1b\u4e5f\u53ef\u4ee5\u4e3b\u52a8\u79fb\u81f3\u76f8\u90bb\u7684\u5c42\u3002\u521a\u5f00\u59cb\u65f6\u5728 $1$ \u5c42\uff0c\u6bcf\u6b21\u79fb\u52a8\u8017\u65f6 $d$\uff0c\u6c42\u6700\u540e\u6740\u6b7b\u6240\u6709\u602a\u7684\u6700\u5c11\u8017\u65f6\uff08\u4e0d\u4e00\u5b9a\u8981\u5728 $n$ \u5c42\u7ed3\u675f\uff09\u3002\n\n> \u6570\u636e\u8303\u56f4\uff1a$2\\le n\\le 10^6$\uff0c$1\\le r_1\\le r_2\\le r_3\\le 10^9$\uff0c$1\\le d\\le 10^9$\uff0c$1\\le a_i\\le 10^6$\u3002\n\n---\n## \u849f\u84bb\u8bed\n\n\u5f00\u5b66\u524d\u6700\u540e\u4e00\u573a\u6bd4\u8d5b\u56e0\u4e3a\u8fd9\u9898\u5361\u4f4f\u4e86\u6389\u56de\u4e86 CM\uff0c\u771f\u662f\u60b2\u4f24\u3002\u5f53\u65f6\u5c11\u770b\u4e86 $r_1\\le r_2\\le r_3$ \u8fd9\u4e2a\u6761\u4ef6\uff0cAC \u540e\u624d\u770b\u5230\uff08\u6240\u4ee5\u5373\u4f7f\u6ca1\u6709\u8fd9\u4e2a\u6761\u4ef6\u849f\u84bb\u7684\u4ee3\u7801\u53ef\u80fd\u4e5f\u53ef\u4ee5 AC\uff09\u3002\u4e8e\u662f\u5f7b\u5e95\u5931\u8d25\u7684\u849f\u84bb\u51b3\u5b9a\u5367\u85aa\u5c1d\u80c6\uff0c\u505a\u4e86\u8fd9\u9898\u5199\u9898\u89e3\u3002\n\n---\n## \u849f\u84bb\u89e3\n\n\u9996\u5148\u5f88\u660e\u663e\uff0c\u6253\u6bcf\u4e00\u5c42\u90fd\u6709\u4e24\u79cd\u6253\u6cd5\uff1a\n\n- \u5206\u6b21\u6253\uff0c\u5148\u7528 $2$ \u6216 $1$ \u628a boss \u6253\u6b8b\uff0c\u628a\u5c0f\u5175\u90fd\u6253\u6b7b\uff0c\u7136\u540e\u5230\u65f6\u5019\u56de\u6765\u8865\u4e00\u5200\uff08\u7528 $1$\uff09\u3002\n\n$$st_i=\\min(r_2,r_1(a_i+1))+r_1$$\n\n- \u4e00\u6b21\u6253\u6389\uff0c\u7528 $1$ \u628a $a_i$ \u4e2a\u4f9d\u6b21\u6253\u6389\uff0c\u7136\u540e\u7528 $3$ \u628a boss \u5e72\u6389\u3002\n\n$$pa_i=r_1a_i+r_3$$\n\n\u9664\u4e86 $st_i$ \u548c $pa_i$\uff0c\u5269\u4e0b\u53ef\u4ee5\u5bf9\u7b54\u6848\u4ea7\u751f\u8d21\u732e\u7684\u5c31\u662f\u5982\u4f55\u8d70\u4f4d\uff08$d$ \u7684\u8d21\u732e\uff09\u3002\n\n\u5047\u8bbe\u6bcf\u4e2a\u6bcf\u5c42\u5982\u4f55\u6253\u5df2\u7ecf\u51b3\u5b9a\u597d\uff0c\u4e14\u4e0b\u6587\u4e2d\u7684\u5206\u754c\u70b9\u4e00\u5b9a\uff0c\u53ef\u4ee5\u8bc1\u660e\u5982\u4e0b\u8d70\u4f4d\u6700\u4f18\uff1a\n\n> \u5bf9\u4e8e\u67d0\u4e2a\u5206\u754c\u70b9\u540e\u4e00\u6bb5\u9009 $st$ \u7684\uff0c\u53ef\u4ee5\u5230\u8fbe\u7ec8\u70b9\u540e\u56de\u6765\u6253\u5b8c\uff08\u8be6\u89c1\u6837\u4f8b $\\#1$ \u89e3\u91ca\uff09\u3002\n>\n> \u5bf9\u4e8e\u5206\u754c\u70b9\u524d\u4e00\u6bb5\u7684\uff0c\u4ece $1$ \u51fa\u53d1\uff1a\n> \n> \u5bf9\u4e8e\u6bcf\u4e24\u4e2a\u76f8\u90bb\u7684\u9009 $st$ \u7684\u5c42\u5bf9 $a,b$\uff0c\u8d70 $a\\to b\\to a\\to b$ \u7684\u9014\u4e2d\u5c06\u4e24\u5c42\u6253\u5b8c\uff1b\n> \n> \u5bf9\u4e8e\u591a\u4f59\u7684\u9009 $st$ \u7684\u5c42 $i$\uff0c\u8d70 $i\\to i\\pm 1\\to i$\u3002\n> \n> \u5bf9\u4e8e\u9009 $pa$ \u7684\uff0c\u76f4\u63a5\u8d70\u8fc7\u5c31\u53ef\u4ee5\u3002\n\n\u653e\u4e2a\u62bd\u8c61\u4e00\u70b9\u7684\u56fe\uff1a\n\n![1145141919810.jpg](https://i.loli.net/2020/08/31/Q7J6u5gsCFD1ETq.jpg)\n\n\u6bd4\u5982\u6837\u4f8b $\\#2$\uff1a\n\n\u6253\u6cd5\u9009\u62e9\uff1a$[pa,pa,st,st]=6+6+6+8$\u3002\n\n\u8d70\u4f4d\u9009\u62e9\uff1a$1\\to 2\\to 1\\to 2\\to 3\\to 4=5$\u3002\n\n\u6240\u4ee5\u7b54\u6848\u662f $6+6+6+8+5=31$\u3002\n\n\u6240\u4ee5\u53ef\u4ee5\u5148 dp \u51fa\u4ee5\u7b2c $n$ \u5c42\u4e3a\u7ec8\u70b9\u7684\u524d $i$ \u5c42\u7684\u6700\u5c11\u6253\u6cd5 $+$ \u8d70\u4f4d\u8017\u65f6\uff0c\u7136\u540e\u679a\u4e3e\u5206\u754c\u70b9\uff0c\u4e24\u8fb9\u7b54\u6848\u52a0\u8d77\u6765\u53d6\u6700\u5c0f\u503c\u3002\n\n\n---\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n//Start\ntypedef long long ll;\ntypedef double db;\n#define mp(a,b) make_pair((a),(b))\n#define x first\n#define y second\n#define be(a) (a).begin()\n#define en(a) (a).end()\n#define sz(a) int((a).size())\n#define pb(a) push_back(a)\n#define R(i,a,b) for(int i=(a),I=(b);i<I;i++)\n#define L(i,a,b) for(int i=(a),I=(b);i>I;i--)\nconst int iinf=0x3f3f3f3f;\nconst ll linf=0x3f3f3f3f3f3f3f3f;\n\n//Main\nint main(){\n    ios::sync_with_stdio(0);\n    cin.tie(0),cout.tie(0);\n    ll n,r1,r2,r3,d,ans=linf;\n    cin>>n>>r1>>r2>>r3>>d;\n    vector<ll> a(n),pa(n),st(n);\n    R(i,0,n) cin>>a[i],pa[i]=r1*a[i]+r3,st[i]=min(r2,r1*(a[i]+1))+min(min(r1,r2),r3);\n    vector<ll> f(n+1,linf),g(n+1); f[0]=d*(n-1);\n    R(i,0,n){\n        f[i+1]=min(f[i+1],f[i]+pa[i]);\n        f[i+1]=min(f[i+1],f[i]+st[i]+d*2);\n        if(i+1<n) f[i+2]=min(f[i+2],f[i]+st[i]+st[i+1]+d*2);  \n    }\n    ans=min(ans,f[n]);\n    L(i,n-2,-1) g[i]=g[i+1]+min(pa[i],st[i]);\n    R(i,0,n-1){\n        ans=min(ans,f[i]+g[i]+d*(n-1-i)+pa[n-1]);\n        ans=min(ans,f[i]+g[i]+d*(n-1-i)+d*2+st[n-1]);\n    }\n    cout<<ans<<'\\n';\n    return 0;\n}\n```\n---\n**\u795d\u5927\u5bb6\u5b66\u4e60\u6109\u5feb\uff01**",
        "postTime": 1598878004,
        "uid": 118365,
        "name": "George1123",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1396C \u3010Monster Invaders\u3011"
    },
    {
        "content": "\u633a\u65e0\u804a\u4e00\u4e2a\u9898...\n\n\u5927\u6982\u5148\u753b\u4e00\u4e0b\u4f60\u7684\u884c\u52a8\u8def\u7ebf\uff0c\u53d1\u73b0\u5927\u6982\u662f\u4e00\u6761\u94fe\u4e0a\u6302\u4e86\u4e00\u70b9\u73af\uff0c\u7136\u540e\u6700\u540e\u4e00\u4e2a\u73af\u53ef\u4ee5\u4e0d\u8d70\u56de\u6765\u7684\u8fd9\u6837\u7684\u4e00\u4e2a\u4e1c\u897f\u3002\n\n\u6240\u4ee5\u5c31\u53ef\u4ee5\u8003\u8651 dp \u4e86\uff0c\u8bbe $f_i$ \u8868\u793a\u5f53\u524d\u5230\u4f4d\u7f6e $i$\uff0c\u5c06 $[1,i]$ \u4e2d\u6240\u6709\u602a\u90fd\u6d88\u706d\u7684\u65b9\u6848\u3002\n\n\u90a3\u4e48\u8f6c\u79fb\u6709\u4e24\u79cd\uff1a\n\n1. \u4ece $i-1$ \u5904\u8f6c\u79fb\u8fc7\u6765\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u8981\u76f4\u63a5\u6d88\u706d $i$ \u5904\u7684\u602a\u7269\u624d\u80fd\u4fdd\u8bc1\u7559\u5728 $i$ \u5904\u3002\n2. \u679a\u4e3e\u73af\u7684\u8d77\u70b9 $l+1$\uff0c\u90a3\u4e48\u6bcf\u4e2a\u4f4d\u7f6e\u7684\u602a\u7269\u53ef\u4ee5\u76f4\u63a5\u4ee5\u6700\u5c0f\u82b1\u8d39\u89e3\u51b3\uff08\u6ce8\u610f\u6211\u4eec\u4f1a\u8def\u8fc7\u6bcf\u4e2a\u602a\u7269\u81f3\u5c11\u4e24\u6b21\uff09\u9884\u5904\u7406\u6700\u5c0f\u82b1\u8d39\uff0c\u5176\u524d\u7f00\u548c\uff0c\u8f6c\u79fb\u4e3a $f_i=f_l+S_n-S_{l}+(i-l-1)\\times 3d+d$\n\n\u7136\u540e\u8fb9\u754c\u60c5\u51b5\u4f1a\u9700\u8981\u4e00\u70b9\u7279\u5224\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u8ba4\u4e3a $f_0=-d$\uff08\u76f8\u5f53\u4e8e\u589e\u52a0\u4e86\u4e00\u6bb5\u8d77\u70b9\uff09\n\n\u7136\u540e\u5bf9\u4e8e $f_n$ \u5355\u72ec\u8f6c\u79fb\u4e00\u4e0b\u5373\u53ef\uff0c\u7b2c\u4e8c\u79cd\u8f6c\u79fb\u663e\u7136\u53ef\u4ee5\u62c6\u5f00\u8bb0\u5f55\u524d\u7f00 $\\min$\n\n$Code:$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std ;\n#define Next( i, x ) for( register int i = head[x]; i; i = e[i].next )\n#define rep( i, s, t ) for( register int i = (s); i <= (t); ++ i )\n#define drep( i, s, t ) for( register int i = (t); i >= (s); -- i )\n#define re register\n#define int long long\nint gi() {\n\tchar cc = getchar() ; int cn = 0, flus = 1 ;\n\twhile( cc < '0' || cc > '9' ) {  if( cc == '-' ) flus = - flus ; cc = getchar() ; }\n\twhile( cc >= '0' && cc <= '9' )  cn = cn * 10 + cc - '0', cc = getchar() ;\n\treturn cn * flus ;\n}\nconst int inf = 1e18 ; \nconst int N = 1e6 + 5 ; \nint n, r1, r2, r3, d, a[N], f[N], mi[N], S[N], g[N] ; \nsigned main()\n{\n\tn = gi(), r1 = gi(), r2 = gi(), r3 = gi(), d = gi() ; \n\trep( i, 1, n ) a[i] = gi(), mi[i] = min( a[i] * r1 + min( r1 * 2, r3 ), r2 + r1 ) ; \n\trep( i, 1, n ) S[i] = S[i - 1] + mi[i] ; \n\tmemset( g, 63, sizeof(g) ) ; \n\tmemset( f, 63, sizeof(f) ) ;  \n\tg[0] = -d, f[0] = -d ; \n\tfor(re int i = 1; i <= n; ++ i ) {\n\t\tif( i > 1 ) f[i] = g[i - 2] + (i - 1) * 3 * d + S[i] ;\n\t\tf[i] = min( f[i], f[i - 1] + a[i] * r1 + r3 ), f[i] += d ; \n\t\tg[i] = min( g[i - 1], f[i] - S[i] - i * 3 * d ) ; \n\t}\n\tint tk = a[n] * r1 + r3 ; \n\tfor(re int i = 0; i < n; ++ i ) {\n\t\tif( i < n - 1 ) \n\t\tf[n] = min( f[n], f[i] + d + S[n - 1] - S[i] + (n - i - 1) * 2 * d + tk ) ;\n\t}\n\tcout << f[n] << endl ; \n\treturn 0 ;\n}\n```",
        "postTime": 1598875028,
        "uid": 30036,
        "name": "Soulist",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 CF1396C \u3010Monster Invaders\u3011"
    },
    {
        "content": "\u4e00\u9053 DP \u9898\u3002\n\n\u6211\u4eec\u53d1\u73b0\u8fd9\u9898\u7684\u7279\u70b9\u662f\u53ef\u4ee5\u53cd\u590d\u6a2a\u8df3\uff08bushi\n\n\u4e8e\u662f\u4e0d\u80fd\u7b80\u5355\u5730\u8bbe\u7f6e\u4e00\u7ef4\u7684\u72b6\u6001\n\n\u53ef\u884c\u7684\u4e00\u79cd\u65b9\u6848\u662f\u8bbe\u8ba1\u72b6\u6001 $f_{i,{0/1}}$ \u8868\u793a\u73b0\u5728\u5728\u7ea7\u522b $i$\uff0c\u662f\u5426\u6d88\u706d\u4e86 boss\uff080 \u4ee3\u8868\u6d88\u706d\uff09\n\n\u5219\u521d\u59cb\u5316 \n\n$f_{1,0}=a[1] \\times r_1 + r_3$\n\n$f_{1,1}=min(a[1] \\times r_1+r_1,r_2)$\n\n\u6709\u8f6c\u79fb\u65b9\u7a0b\n\n$$f_{i,0}=min(f_{i-1,0}+d+a[i] \\times r_1+r_3,f_{i-1,1}+d+min(a[i] \\times r_1+r_1,r_2)+d+r_1+d+r_1)$$\n\n$$f_{i,1}=min(f_{i-1,0}+d+min(r_2,a[i]*r_1+r_1),f_{i-1,1}+d+min(a[i]*r_1+r_1,r_2)+d+r_1+d)$$\n\n\u867d\u7136\u5b83\u770b\u4e0a\u53bb\u5f88\u957f\u4f46\u662f\u8fd8\u662f\u5f88\u76f4\u89c2\u7684\u3002\n\n\u6700\u540e\u7b54\u6848\u4e3a $min(f_{n,0},f_{n-1,1}+d+a[n] \\times r_1+r_3+d+r_1)$\n\n\u7b2c\u4e8c\u9879\u4e3a\u4ec0\u4e48\u90a3\u4e48\u957f\u5462\uff1f\u9996\u5148\u663e\u7136\u662f\u4e0d\u80fd\u53d6 $f_{n,1}$ \u7684\uff0c\u56e0\u4e3a boss \u6ca1\u6b7b\u3002\u7b54\u6848\u4e2d\u7684\u60c5\u51b5\u5c31\u662f\u6700\u540e\u5728 $n-1$ \u5904\u6740\u6b7b\u4e86\u6240\u6709\u7684 boss\u3002\n\n\u90a3\u80fd\u4e0d\u80fd\u7528 $f_{n,1}+d+d+r_1$ \u66f4\u65b0\u7b54\u6848\uff1f\n\n\u4e0d\u80fd\uff0c\u663e\u7136\u662f\u4e0d\u4f18\u7684\uff0c$f_{n-1,1}+a[n] \\times r_1+r_3<f_{n,1}$\n\ncode\uff1a\n```cpp\n#include\"bits/stdc++.h\"\nusing namespace std;\n#define ll long long\n#define ul unsigned long long\n#define ui unsigned int\n#define ri register int\n#define pb push_back\n#define mp make_pair\nchar p[30]={'0','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'};\ninline ll rd(){\n\tll x=0,flag=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-') flag=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+(ch^48);ch=getchar();}\n\treturn x*flag;\n}\n#define N 1000010\nll n,r1,r2,r3,d,a[N],f[N][2];\ninline int lowbit(int x){return x & ( - x ) ;}\nint main()\n{\n\tstd::ios::sync_with_stdio(false);\n    n=rd(),r1=rd(),r2=rd(),r3=rd(),d=rd();\n    for(ri i=1;i<=n;++i) a[i]=rd();\n    f[1][0]=a[1]*r1+r3,f[1][1]=min(r2,a[1]*r1+r1);\n    for(ri i=2;i<=n;++i){\n    \tf[i][0]=min(f[i-1][0]+d+a[i]*r1+r3,f[i-1][1]+d+r1+d+min(a[i]*r1+r1,r2)+r1+d);\n    \tf[i][1]=min(f[i-1][0]+d+min(r2,a[i]*r1+r1),f[i-1][1]+d+min(a[i]*r1+r1,r2)+d+r1+d);\n\t}\n\tcout<<min(f[n][0],f[n-1][1]+d+a[n]*r1+r3+d+r1);\n\treturn 0;\n}\n```\n",
        "postTime": 1598863879,
        "uid": 135839,
        "name": "Fairicle",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 CF1396C \u3010Monster Invaders\u3011"
    },
    {
        "content": "\u4e00\u9053\u7b80\u5355 DP\u3002\n\n\u9996\u5148\uff0c\u5206\u6790\u4e00\u4e0b\u8def\u5f84\u7684\u6837\u5b50\uff1a\n![](https://cdn.luogu.com.cn/upload/image_hosting/e0pu5x3v.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n\u662f\u4e00\u6bb5\u8fde\u7eed\u7684\u4e0a\u4e2d\u95f4\u7a7f\u63d2\u4e00\u4e9b\u5355\u4e2a\u7684\u4e0b\u52a0\u4e0a\u4e00\u6bb5\u8fde\u7eed\u7684\u4e0a\u6700\u540e\u4e00\u6bb5\u8fde\u7eed\u7684\u4e0b\u3002\n\n\u62c6\u6210\u4e24\u534a\uff0cDP \u6c42\u89e3\u3002\n\n\u540e\u4e00\u534a\u76f4\u63a5\u8ba1\u7b97\uff0c\u524d\u4e00\u534a\u8bbe $dp_{i,0/1}$ \u8868\u793a\u5f53\u524d\u7b2c $i$ \u5c42\uff0c\u524d\u4e00\u5c42\u662f\u5426\u6709 boss\u3002\n\n\u4e3a\u4ec0\u4e48\u8fd9\u6837\u662f\u6b63\u786e\u7684\uff1f\n\n\u5982\u679c\u5f53\u524d\u5fc5\u987b\u79fb\u52a8\uff0c\u4e14\u4e4b\u524d\u8fd8\u6709 boss\uff0c\u90a3\u4e48\u5f80\u524d\u4e00\u5b9a\u4f1a\u4f18\u3002\n\n\u5177\u4f53\u8f6c\u79fb\u53ef\u4ee5\u770b\u4ee3\u7801\uff0c\u6709\u4e00\u4e9b\u8fb9\u754c\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define re register\n#define int long long\nusing namespace std;\ninline int read(){\n\tre int t=0,f=0;re char v=getchar();\n\twhile(v<'0')f|=(v=='-'),v=getchar();\n\twhile(v>='0')t=(t<<3)+(t<<1)+v-48,v=getchar();\n\treturn f?-t:t; \n}\nint n,a[1000005],r1,r2,r3,d,dp[1000005][2],ans,f[1000005];\nsigned main(){\n\tn=read(),r1=read(),r2=read(),r3=read(),d=read();\n\tdp[1][1]=dp[1][0]=0;\n\tfor(re int i=1;i<=n;++i)a[i]=read();\n\tfor(re int i=2;i<=n+1;++i){\n\t\tdp[i][0]=dp[i-1][1]+min(r1*(a[i-1]+1),r2)+(i==n+1?0:d);\n\t\tdp[i][0]=min(dp[i][0],dp[i-1][0]+min(min(r1*(a[i-1]+1),r2)+r1+d+d,r1*a[i-1]+r3+d+(i==n+1?0:d))+(i==n+1?0:d));\n\t\tdp[i][1]=min(dp[i-1][1]+r1*a[i-1]+r3+(i==n+1?0:d),dp[i-1][0]+min(min(r1*(a[i-1]+1),r2)+r1+d+r1+d,r1*a[i-1]+r3+d+r1+(i==n+1?0:d))+(i==n+1?0:d));\n\t}\n\tans=dp[n+1][1];\n\tfor(re int i=n;i;--i){\n\t\tf[i]=f[i+1]+min((a[i]+1)*r1,r2)+r1+d+(i==n?d:0)+(i==n?0:d);\n\t\tans=min(ans,dp[i][1]+f[i]);\n\t}\n\tprintf(\"%lld\",ans);\n}\n```\n",
        "postTime": 1598860217,
        "uid": 335422,
        "name": "\u9493\u9c7c\u738b\u5b50",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 CF1396C \u3010Monster Invaders\u3011"
    }
]