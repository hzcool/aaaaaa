[
    {
        "content": "\u4e00\u9053\u5c0f\u6e05\u65b0\u9898\u3002\n\n\u76f4\u63a5\u679a\u4e3e\u662f $O(n^4)$ \u7684\uff0c\u663e\u7136\u4f1a\u8d85\u65f6\uff0c\u6211\u4eec\u9700\u8981\u8fdb\u4e00\u6b65\u89c2\u5bdf\u6027\u8d28\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u5f88\u5173\u5fc3\u540c\u4e00\u884c\u3001\u540c\u4e00\u5217\u4e24\u4e2a\u6570\u7684\u5927\u5c0f\u5173\u7cfb\u3002\u4e0d\u59a8\u5bf9\u540c\u4e00\u884c\u7684\u4e24\u4e2a\u6570\u4e4b\u95f4\uff0c\u4ece\u5c0f\u7684\u5411\u5927\u7684\u8fde\u4e00\u6761\u6709\u5411\u8fb9\u3002\u53ef\u4ee5\u53d1\u73b0\uff1a\n\n- \u5bf9\u4e8e\u7b26\u5408\u8981\u6c42\u7684\u60c5\u51b5\uff0c\u5982\u4e0b\u5de6\u56fe\uff08\u8fd9\u91cc\u6211\u4eec\u5047\u8bbe\u4e0a\u9762\u4e24\u4e2a\u6570\u6bd4\u4e0b\u9762\u4e24\u4e2a\u6570\u5c0f\uff09\uff0c\u90a3\u4e48\u4e0d\u8bba\u4e0a\u3001\u4e0b\u4e24\u4e2a\u6570\u4e4b\u95f4\u5177\u4f53\u7684\u5927\u5c0f\u5173\u7cfb\uff0c\u4e00\u5b9a\u5728\u6070\u597d $1$ \u4e2a\u9876\u70b9\u5904\u5f62\u6210\u4e86\u201c\u5927\u5927\u89d2\u201d\uff08\u4e5f\u5c31\u662f\u4e00\u4e2a\u6570\u6bd4\u8fd9\u4e2a\u77e9\u5f62\u4e2d\u540c\u884c\u3001\u540c\u5217\u7684\u5bf9\u5e94\u5143\u7d20\u90fd\u5927\uff09\u3002\n- \u5bf9\u4e0d\u7b26\u5408\u8981\u6c42\u7684\u60c5\u51b5\uff0c\u5982\u4e0b\u53f3\u56fe\uff0c\u90a3\u4e48\u4e00\u5b9a\u5728\u6070\u597d $2$ \u4e2a\u9876\u70b9\u5904\u5f62\u6210\u201c\u5927\u5927\u89d2\u201d\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mcm6xyn6.png)\n\n\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6240\u6709\u201c\u5927\u5927\u89d2\u201d\u7684\u6570\u91cf\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5bf9\u6bcf\u4e2a\u5143\u7d20 $i$\uff0c\u8ba1\u7b97\u4e0e\u5176\u540c\u884c\u7684\u5143\u7d20\u4e2d\u6bd4\u8be5\u5143\u7d20\u5c0f\u7684\u6570\u91cf\uff0c\u8bb0\u4e3a $a_i$\uff1b\u4e0e\u5176\u540c\u5217\u7684\u5143\u7d20\u4e2d\u6bd4\u8be5\u5143\u7d20\u5c0f\u7684\u6570\u91cf\uff0c\u8bb0\u4e3a $b_i$\uff1b\u90a3\u4e48\u5728 $i$ \u5904\u603b\u5171\u5f62\u6210\u4e86 $a_ib_i$ \u4e2a\u201c\u5927\u5927\u89d2\u201d\uff0c\u603b\u7684\u6570\u91cf\u5373\u4e3a $S=\\sum a_ib_i$\u3002\u8bbe\u603b\u5171\u7684\u5b50\u77e9\u5f62\u6570\u91cf\u4e3a $C=(\\dfrac{n(n-1)}{2})^2$\uff0c\u89e3\u4e8c\u5143\u4e00\u6b21\u65b9\u7a0b\u53ef\u5f97\u7b54\u6848 $=2C-S$\u3002\n\n```cpp\n#include<cstdio>\n#include<vector>\n\nusing namespace std;\n\npair<int,int> P[3000000];\nlong long r[3000],c[3000];\nint a[3000][3000];\n\nint main()\n{\n\tint n=0;scanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++){scanf(\"%d\",&a[i][j]);P[a[i][j]]=make_pair(i,j);}\n\t}\n\tlong long cnt_ang=0;\n\tfor(int i=1;i<=n*n;i++)\n\t{\n\t\tint x=P[i].first,y=P[i].second;\n\t\tcnt_ang+=r[x]*c[y];\n\t\tr[x]++,c[y]++;\n\t}\n\tlong long sum=(long long)n*(n-1)/2*n*(n-1)/2;\n\tprintf(\"%lld\",2*sum-cnt_ang);\n}\n```",
        "postTime": 1650891616,
        "uid": 112794,
        "name": "\u5468\u5b50\u8861",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 CF1662N\u3010Drone Photo\u3011"
    },
    {
        "content": "### Preface\n\n\u8fd9\u8c01\u53c8\u60f3\u5f97\u5230\u5462\uff01\uff08\u54ed\u8154\uff09\n\n### Analysis\n\n\u8003\u8651\u5982\u4f55\u7b80\u5316\u8fd9\u4e2a\u4e3e\u6a2a\u5e45 $4$ \u4eba\u7684\u5e74\u9f84\u5173\u7cfb\u3002\n\n------------\n\n**\u5f15\u7406\uff1a** \u7ed9\u77e9\u5f62\u56db\u6761\u8fb9\u5b9a\u5411\uff0c\u4ece\u5e74\u8f7b $\\to$ \u5e74\u957f\uff08\u8fd9\u6837\u660e\u663e\u662f DAG\uff09\uff0c\u5c06 $4$ \u4eba\u5206\u4e3a\u4e86\n\n* $\\mathtt{A}$ \u5165\u5ea6 $2$ \u51fa\u5ea6 $0$\n\n* $\\mathtt{B}$ \u5165\u5ea6 $1$ \u51fa\u5ea6 $1$\n\n* $\\mathtt{C}$ \u5165\u5ea6 $0$ \u51fa\u5ea6 $2$\n\n\u4e09\u7c7b\u3002\u5176\u4e2d $\\mathtt{B}$ \u7c7b\u70b9 $0$ \u6216 $2$ \u4e2a\uff0c\u4e14\u5f53\u4e14\u4ec5\u5f53 $\\mathtt{B}$ \u7c7b\u70b9\u5728\u603b\u5171 $4$ \u4e2a\u4e2d\u6709 $2$ \u4e2a\u65f6\uff0c\u6a2a\u5e45\u6709\u6548\u3002\n\n**\u8bc1\u660e\uff1a** \u9996\u5148\u663e\u7136\u7531\u70b9\u7684\u5ea6\u5f97\u51fa $\\mathtt{B}$ \u7c7b\u70b9 $0$ \u6216 $2$ \u4e2a\u3002\n\n\u82e5 $0$ \u4e2a\uff0c\u5219\u5fc5\u7136\u662f\u7c7b\u4f3c\u5982\u4e0b\u5f62\u6001\u7684\u2193\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/e0i9qpny.png)\n\n\u4e0d\u6210\u7acb\u3002\n\n\u82e5 $2$ \u4e2a\uff0c\u5219\u5fc5\u7136\u662f\u7c7b\u4f3c\u5982\u4e0b\u4e24\u79cd\u5f62\u6001\u4e4b\u4e00\u7684\u2193\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/88gyy3hg.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/b02pa97y.png)\n\n\u6210\u7acb\u3002\n\n------------\n\n\u6240\u4ee5\uff0c\u7edf\u8ba1\u6bcf\u4e2a\u4eba\u5f53 $\\mathtt{B}$ \u7c7b\u70b9\u7684\u6b21\u6570\u4e4b\u548c\u9664\u4ee5 $2$ \u5373\u4e3a\u7b54\u6848\u3002\n\n\u800c\u4e00\u4e2a\u4eba\u5f53 $\\mathtt{B}$ \u7c7b\u70b9\u7684\u6b21\u6570\u4e3a\n\n$$\na(n-1-b)+b(n-1-a)\n$$\n\n\u5176\u4e2d $a,b$ \u5206\u522b\u8868\u793a\u8fd9\u4e2a\u4eba\u5f53\u524d\u884c\u3001\u5217\u6bd4\u5979\u5e74\u7eaa\u5c0f\u7684\u4eba\u6570\u3002\n\n### Code\n\n```cpp\nint r[N],c[N],n; \npair<int,int> pos[N*N];\nsigned main(){IOS;\n\tcin>>n;\n\tint x,y;\n\tFor(i,1,n){\n\t\tFor(j,1,n){\n\t\t\tcin>>x;\n\t\t\tpos[x]=mkp(i,j);\n\t\t}\n\t} \n\tint ans=0;\n\tFor(i,1,n*n){\n\t\tx=r[pos[i].fir]++;\n\t\ty=c[pos[i].sec]++;\n\t\tans+=x*(n-1-y)+y*(n-1-x); \n\t}\n\tcout<<ans/2<<endl;\nreturn 0;}\n```",
        "postTime": 1650975197,
        "uid": 101868,
        "name": "I_am_Accepted",
        "ccfLevel": 0,
        "title": "CF1662N Drone Photo"
    }
]