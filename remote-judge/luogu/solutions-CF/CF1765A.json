[
    {
        "content": "### \u9898\u610f\n\u6709 $n$ \u4e2a\u5de5\u4f5c\u4eba\u5458\u548c $m$ \u4e2a\u6587\u4ef6\u3002\n\n\u4f60\u9700\u8981\u5c06 $m$ \u4e2a\u6587\u4ef6\u5206\u6210 $k$ \u7ec4\uff0c\u4ee4\u7b2c $i$ \u4e2a\u6587\u4ef6\u5206\u7b2c $s_i$ \u7ec4\u3002\u7136\u540e\u5bf9\u7b2c $i$ \u4e2a\u6587\u4ef6\u9700\u8981\u5b9a\u4e00\u4e2a\u8bbf\u95ee\u7b49\u7ea7 $c_i$\uff0c\u6ee1\u8db3 $c_i$ \u4e3a $[1,10^9]$ \u5185\u7684\u6574\u6570\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u7b2c $i$ \u4e2a\u5de5\u4f5c\u4eba\u5458\u548c\u7b2c $j$ \u7ec4\u6587\u4ef6\u9700\u8981\u5b9a\u4e00\u4e2a\u8bbf\u95ee\u7b49\u7ea7 $b_{i,j}$\uff0c\u6ee1\u8db3 $b_{i,j}$ \u4e3a $[1,10^9]$ \u5185\u7684\u6574\u6570\u3002\n\n\u540c\u65f6\u7ed9\u51fa\u4e00\u4e2a $n\\times m$ \u7684\u6570\u7ec4 $a$\uff0c$a_{i,j}=1$ \u8868\u793a $b_{i,s_j}\\ge c_j$\uff0c$a_{i,j}=0$ \u8868\u793a $b_{i,s_j}<c_j$\u3002\n\n\u6c42 $k$ \u7684\u6700\u5c0f\u503c\uff0c\u4ee5\u53ca\u4efb\u610f\u4e00\u7ec4\u5bf9\u5e94\u7684\u5408\u6cd5 $s,c,b$\u3002$n,m\\le 500$\u3002\n### \u89e3\u6cd5\n\u8003\u8651\u4e24\u4e2a\u6587\u4ef6 $u,v$ \u80fd\u5408\u5e76\u4e3a\u4e00\u7ec4\uff0c\u5f53\u4e14\u4ec5\u5f53\u80fd\u591f\u8bbf\u95ee $u$ \u7684\u4eba\u7684\u96c6\u5408\u548c\u80fd\u591f\u8bbf\u95ee $v$ \u7684\u4eba\u7684\u96c6\u5408\u6709\u5305\u542b\u5173\u7cfb\u3002\u5982\u679c\u5b58\u5728\u67d0\u4e24\u4e2a\u4eba $x,y$ \u6ee1\u8db3 $x$ \u53ea\u80fd\u8bbf\u95ee $u$ \u800c $y$ \u53ea\u80fd\u8bbf\u95ee $v$\uff0c\u5219 $c_v>b_{x,s_u}\\ge c_u$ \u4e14 $c_u>b_{y,s_u}\\ge c_v$\uff0c\u4e92\u76f8\u77db\u76fe\u3002\n\n\u6240\u4ee5\u53ef\u4ee5\u628a\u6240\u6709\u6587\u4ef6\u6309\u7167\u80fd\u8bbf\u95ee\u5176\u7684\u4eba\u6570\u6392\u5e8f\uff0c\u7136\u540e\u5982\u679c\u80fd\u8bbf\u95ee $u$ \u7684\u4eba\u662f\u80fd\u8bbf\u95ee $v$ \u7684\u4eba\u7684\u5b50\u96c6\uff08\u4e14 $u$ \u6392\u5728 $v$ \u7684\u524d\u9762\uff09\uff0c\u5219\u4ece $u$ \u5230 $v$ \u8fde\u4e00\u6761\u8fb9\u3002\n\n\u6b64\u65f6\u8003\u8651\u4ece\u524d\u5f80\u540e\u8003\u8651\u6bcf\u4efd\u6587\u4ef6\uff0c\u9009\u62e9\u662f\u5426\u5728\u67d0\u4e00\u7ec4\u5185\u52a0\u6587\u4ef6\u7684\u8fc7\u7a0b\u3002\u8bbe\u5f53\u524d\u7ec4\u5185\u6587\u4ef6\u4e2d\u80fd\u88ab\u6700\u591a\u4eba\u8bbf\u95ee\u7684\u6587\u4ef6\u4e3a $u$\uff0c\u5219\u540e\u9762\u4e00\u5b9a\u9700\u8981\u9009\u62e9 $u$ \u8fde\u5411\u7684\u67d0\u4efd\u6587\u4ef6 $v$\uff0c\u663e\u7136 $v$ \u6ee1\u8db3\u548c\u8be5\u7ec4\u5185\u5176\u4ed6\u6587\u4ef6\u80fd\u540c\u5728\u4e00\u7ec4\u5185\u3002\u95ee\u9898\u7b49\u4ef7\u4e8e\u5728\u4e00\u5f20 DAG \u4e0a\u627e\u5c3d\u53ef\u80fd\u5c11\u7684\u7b80\u5355\u8def\u5f84\u8986\u76d6\u6574\u5f20\u56fe\uff0c\u4e0a\u6700\u5c0f\u8def\u5f84\u8986\u76d6\u5373\u53ef\u3002\n\n\u6784\u9020\u65b9\u6848\u65f6\uff0c\u7531\u4e8e\u4e00\u6761\u8def\u5f84\u4e0a\u7684 $c$ \u9700\u8981\u4e25\u683c\u5355\u589e\uff0c\u76f4\u63a5\u5728\u8def\u5f84\u4e0a\u987a\u6b21\u786e\u5b9a\u6bcf\u4e2a $c$\uff0c\u4f8b\u5982\u5c06\u8def\u5f84\u4e0a\u7b2c $i$ \u4e2a\u70b9\u7684 $c$ \u503c\u8bbe\u4e3a $i+1$ \u5373\u53ef\u3002$s,b$ \u4e0d\u96be\u6784\u9020\u3002\n### \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn=510;\nconst int maxd=1010;\nconst int maxm=260000;\nconst int INF=1145141919;\nint n,m,i,j,k,u,v,t,a,tp,te=1;\nint pe[maxn],st[maxn],cnt[maxn];\nint num[maxn],rnk[maxn],col[maxn]; \nint h[maxd],d[maxd],c[maxd],to[maxm],nxt[maxm];\nchar s[maxn]; bool fl[maxm],vis[maxn],ac[maxn][maxn];\nqueue<int> q;\ninline bool cmp(const int &x,const int &y){return cnt[x]<cnt[y];}\ninline void cmax(int &x,int y){if(x<y) x=y;}\ninline void Add(int x,int y){\n\tto[++te]=y; fl[te]=1; nxt[te]=h[x]; h[x]=te;\n\tto[++te]=x; nxt[te]=h[y]; h[y]=te;\n}\nint dinic(int p,int f){\n\tif(p==t) return 1;\n\tint to,fl=0;\n\tfor(int &lp=c[p];lp;lp=nxt[lp]){\n\t\tif(!::fl[lp]) continue;\n\t\tto=::to[lp];\n\t\tif(d[to]!=d[p]+1) continue;\n\t\tif(!dinic(to,1)) continue;\n\t\t--f; ++fl; ::fl[lp]=0; ::fl[lp^1]=1;\n\t\tif(!f) break;\n\t}\n\tif(!fl) d[p]=0; return fl;\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m); t=m<<1|1;\n\tfor(i=1;i<=m;++i) pe[i]=i;\n\tfor(i=1;i<=n;++i){\n\t\tscanf(\"%s\",s+1); \n\t\tfor(j=1;j<=m;++j){\n\t\t\tu=(s[j]=='0');\n\t\t\tac[j][i]=u; cnt[j]+=u;\n\t\t}\n\t}\n\tsort(pe+1,pe+m+1,cmp);\n\tfor(i=1;i<m;++i){\n\t\tu=pe[i]; tp=0;\n\t\tfor(k=1;k<=n;++k) if(ac[u][k]) st[++tp]=k;\n\t\tfor(j=i+1;j<=m;++j){\n\t\t\tv=pe[j];\n\t\t\tfor(k=1;ac[v][st[k]]&&(k<=tp);++k);\n\t\t\tif(k>tp) Add(i,j+m);\n\t\t}\n\t}\n\tfor(i=1;i<=m;++i) Add(0,i),Add(i+m,t); a=m;\n\tfor(d[0]=1;;){\n\t\tmemset(d+1,0,t<<2);\n\t\tmemcpy(c,h,(t+1)<<2);\n\t\tfor(q.push(0);!q.empty();){\n\t\t\tu=q.front(); q.pop();\n\t\t\tfor(i=h[u];i;i=nxt[i]){\n\t\t\t\tif(!fl[i]) continue;\n\t\t\t\tv=to[i]; if(d[v]) continue;\n\t\t\t\td[v]=d[u]+1; q.push(v);\n\t\t\t}\n\t\t} \n\t\tif(!d[t]) break;\n\t\ta-=dinic(0,INF);\n\t}\n\tprintf(\"%d\\n\",a);\n\tfor(i=1,v=0;i<=m;++i){\n\t\tif(col[pe[i]]) continue;\n\t\tcol[pe[i]]=++v; num[pe[i]]=k=2;\n\t\tfor(u=i;;){\n\t\t\tfor(j=h[u];(fl[j]||!to[j])&&j;j=nxt[j]);\n\t\t\tif(j){\n\t\t\t\tu=to[j]-m; \n\t\t\t\tcol[pe[u]]=v;\n\t\t\t\tnum[pe[u]]=++k;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t}\n\tfor(i=1;i<=m;++i) printf(\"%d \",col[i]); putchar('\\n');\n\tfor(i=1;i<=m;++i) printf(\"%d \",num[i]); putchar('\\n');\n\tfor(i=1;i<=n;++i){\n\t\tfor(j=1;j<=a;++j) rnk[j]=1;\n\t\tfor(j=1;j<=m;++j){\n\t\t\tif(ac[j][i]) continue;\n\t\t\tcmax(rnk[col[j]],num[j]);\n\t\t}\n\t\tfor(j=1;j<=a;++j) printf(\"%d \",rnk[j]); putchar('\\n');\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1670808238,
        "uid": 546086,
        "name": "Francais_Drake",
        "ccfLevel": 7,
        "title": "CF1765A Access Levels \u9898\u89e3"
    },
    {
        "content": "\u8bbe $S_i$ \u8868\u793a\u6709\u6743\u9650\u67e5\u770b\u7b2c $i$ \u4efd\u6587\u4ef6\u7684\u4eba\u3002\n\n\u63a2\u7a76\u6587\u4ef6 $i$ \u548c\u6587\u4ef6 $j$ \u53ef\u5728\u540c\u4e00\u7ec4\u7684\u5145\u8981\u6761\u4ef6\u3002\u56e0\u4e3a\u6743\u9650\u503c\u8f83\u5927\u7684\u4eba\u53ef\u67e5\u770b\u7684\u9898\u76ee\u4e00\u5b9a\u5305\u542b\u6743\u9650\u503c\u8f83\u5c0f\u7684\u4eba\u53ef\u67e5\u770b\u7684\u9898\u76ee\uff0c\u4e14\u82e5\u6ee1\u8db3\u8be5\u6761\u4ef6\u5219\u5bb9\u6613\u6784\u9020\u51fa\u6743\u9650\u503c\uff0c\u6240\u4ee5\u5145\u8981\u6761\u4ef6\u4e3a $S_i$ \u5305\u542b\u6216\u5305\u542b\u4e8e $S_j$\u3002\n\n\u8fd9\u8bf4\u660e\u653e\u5728\u4e00\u7ec4\u7684\u6587\u4ef6 $i_1, i_2, \\cdots, i_k$ \u6ee1\u8db3 $S_{i_1}\\supseteq S_{i_2} \\supseteq \\cdots\\supseteq S_{i_k}$\u3002\u82e5 $S_i\\supseteq S_j$ \u5219 $i$ \u5411 $j$ \u8fde\u8fb9\uff0c\u6ce8\u610f\u82e5 $S_i = S_j$\uff0c\u4e3a\u9632\u6b62\u4ea7\u751f\u73af\uff0c\u5f53\u4e14\u4ec5\u5f53 $i < j$ \u65f6\u8fde\u8fb9\u3002\u95ee\u9898\u8f6c\u5316\u4e3a DAG \u6700\u5c0f\u8def\u5f84\u8986\u76d6\uff0c\u7f51\u7edc\u6d41\u89e3\u51b3\u5373\u53ef\u3002\n\n\u6c42\u51fa\u6700\u5c0f\u8def\u5f84\u8986\u76d6\u540e\uff0c\u6784\u9020\u65b9\u6848\u662f\u5e73\u51e1\u7684\u3002\u5efa\u56fe\u590d\u6742\u5ea6\u4e3a $n ^ 3 / w$\uff0c\u7f51\u7edc\u6d41\u90e8\u5206\u590d\u6742\u5ea6\u4e3a $n ^ {2.5}$\u3002[\u4ee3\u7801](https://codeforces.com/contest/1765/submission/185244118)\u3002",
        "postTime": 1671103893,
        "uid": 123294,
        "name": "Alex_Wei",
        "ccfLevel": 10,
        "title": "CF1765A Access Levels"
    }
]