{
    "description": "[problemUrl]: https://atcoder.jp/contests/hokudai-hitachi2020/tasks/hokudai_hitachi2020_a\n\n",
    "inputFormat": "",
    "outputFormat": "",
    "samples": [],
    "hint": "### \u76ee\u6b21\n\n[ \u554f\u984c\u6982\u8981 ](#gaiyou)  \n[ \u30bf\u30a4\u30e0\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3068\u7a7a\u9593\u69cb\u9020 ](#time-space)  \n[ \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9 ](#nanogrid)  \n[ \u96fb\u529b\u9700\u7d66 ](#yojou)  \n[ EV ](#ev)  \n[ \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u6c60\u306e\u5145\u653e\u96fb\u51e6\u7406 ](#charge)  \n[ \u63a1\u70b9\u65b9\u6cd5 ](#scoring)  \n[ \u554f\u984c\u6587 A ](#problem)  \n[ \u5165\u51fa\u529b\u5f62\u5f0f1 ](#io-format1)  \n[ \u5165\u51fa\u529b\u5f62\u5f0f2 ](#io-format2)  \n[ \u5165\u51fa\u529b\u5f62\u5f0f3 ](#io-format3)  \n[ \u5165\u51fa\u529b\u5236\u7d04 ](#constraints)  \n[ \u5165\u51fa\u529b\u4f8b ](#example)  \n[ \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 A ](#sample)\n\n \u554f\u984c\u6982\u8981 \n------\n\n\u3053\u306e\u554f\u984c\u3067\u306f\u3001\u70b9\u5728\u3059\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9(\u767a\u96fb\u3001\u84c4\u96fb\u3001\u6d88\u8cbb\u304c\u884c\u308f\u308c\u308b)\u306b\u304a\u3051\u308b\u96fb\u529b\u304c\u4e0d\u8db3\u3057\u306a\u3044\u3088\u3046\u3001\u8907\u6570\u53f0\u306eEV(=\u96fb\u6c17\u81ea\u52d5\u8eca)\u3092\u7528\u3044\u3066\u84c4\u96fb\u91cf\u306e\u30d0\u30e9\u30f3\u30b9\u3092\u4fdd\u3064\u3053\u3068\u3092\u8003\u3048\u308b\u3002EV\u306f\u8d70\u884c\u8ddd\u96e2\u306b\u5fdc\u3058\u3066\u96fb\u6c17\u3092\u6d88\u8cbb\u3059\u308b\u305f\u3081\u3001\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u304b\u3089\u5145\u96fb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u3067\u306f\u592a\u967d\u5149\u3084\u71c3\u6599\u30a8\u30f3\u30b8\u30f3\u306b\u3088\u308b\u767a\u96fb\u3001\u96fb\u529b\u306e\u6d88\u8cbb\u304a\u3088\u3073EV\u3078\u306e\u5145\u96fb\u304c\u884c\u308f\u308c\u3066\u304a\u308a\u3001\u305d\u308c\u3089\u306b\u3088\u308a\u6642\u9593\u5909\u52d5\u3059\u308b\u96fb\u529b\u9700\u7d66\u3092\u84c4\u96fb\u6c60\u306e\u5145\u653e\u96fb\u304a\u3088\u3073\u5fc5\u8981\u304c\u3042\u308c\u3070\u5916\u90e8\u304b\u3089\u306e\u96fb\u529b\u4f9b\u7d66\u306b\u3088\u308a\u30d0\u30e9\u30f3\u30b9\u3057\u3066\u3044\u308b\u3002\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_hokudai_hitachi2020_a/04a637ee03e52b8ccefe457ec8ea0e9340142bf0.png)\n\n\u672c\u30da\u30fc\u30b8\u4e0b\u90e8\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u53ef\u80fd\u306atoolkit\u306b\u306f\u3001\u30b8\u30e3\u30c3\u30b8\u304b\u3089\u306e\u30c7\u30fc\u30bf\u8aad\u8fbc\u306a\u3069I/O\u5468\u308a\u3092\u65e2\u306b\u5b9f\u88c5\u3057\u305f\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3092\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001EV\u306e\u52d5\u4f5c\u3082\"all stay\", \"random walk\"\u3092\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066\u5b9f\u88c5\u6e08\u3067\u3059\u3002\u65b0\u3057\u3044\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u5b9f\u88c5\u3059\u308b\u969b\u3082\u3001strategy class\u3092\u7d99\u627f\u3059\u308b\u5f62\u3067EV\u306e\u52d5\u4f5c\u306e\u8a18\u8ff0\u306b\u6ce8\u529b\u3067\u304d\u308b\u3064\u304f\u308a\u306b\u306a\u3063\u3066\u3044\u307e\u3059(\u8a73\u3057\u304f\u306fREADME.md\u3082\u3054\u53c2\u7167\u304f\u3060\u3055\u3044)\u3002\u6295\u7a3f\u306e\u969b\u3001\u3053\u3061\u3089\u3092\u3054\u6d3b\u7528\u3044\u305f\u3060\u3044\u3066\u69cb\u3044\u307e\u305b\u3093\u3002\n\n \u30bf\u30a4\u30e0\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb\u3068\u7a7a\u9593\u69cb\u9020 \n----------------\n\n- **\u30bf\u30a4\u30e0\u30b9\u30b1\u30b8\u30e5\u30fc\u30eb**: 1\u3064\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306f $ 1 $ \u55b6\u696d\u65e5\u5206\u306b\u76f8\u5f53\u3059\u308b\u3002\u6642\u523b $ t $ \u306f $ 0 $ \u304b\u3089 $ T_{\\max} $ \u307e\u3067\u306e\u6574\u6570\u306e\u5024\u3092\u3068\u308b\u3002\u5404\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3067\u5929\u5019\u304c $ 4 $ \u30d1\u30bf\u30fc\u30f3\u306e\u3044\u305a\u308c\u304b\u304b\u3089 $ 1 $ \u3064\u30e9\u30f3\u30c0\u30e0\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u3001\u96fb\u529b\u9700\u7d66\u306b\u5f71\u97ff\u3092\u53ca\u307c\u3059\u3002\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306f\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u958b\u59cb\u6642\u306b\u5168\u6642\u523b\u5206\u306e\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u306e\u60c5\u5831\u3092\u53d7\u3051\u53d6\u308b\u3002\u307e\u305f\u5404\u6642\u523b $ t $ \u306b\u304a\u3044\u3066\u3001\u5404\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u91cf\u3068\u3001\u524d\u6642\u523b $ t-1 $ \u306b\u304a\u3051\u308b\u5b9f\u969b\u306e\u96fb\u529b\u9700\u7d66\u3001\u4f59\u5270\u3067\u6368\u3066\u305f\u96fb\u529b\u3001\u5916\u90e8\u304b\u3089\u306e\u4f9b\u7d66\u96fb\u529b\u3092\u53d7\u3051\u53d6\u308b\u3002\u3053\u308c\u3089\u306e\u60c5\u5831\u3092\u57fa\u306b\u3001\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306f\u6642\u523b $ t $ \u304b\u3089 $ t+1 $ \u306e\u9593\u306b\u5b9f\u884c\u3059\u308bEV\u306e\u52d5\u4f5c(\u79fb\u52d5\u3001\u5145\u653e\u96fb\u306a\u3069) \u3092\u6c7a\u5b9a\u3059\u308b\u3002\n- **\u7a7a\u9593\u69cb\u9020**: \u5358\u7d14\u304b\u3064\u7121\u5411\u3067\u3042\u308b\u30b0\u30e9\u30d5 $ G\\ =\\ (V,\\ E) $ \u3092\u8003\u3048\u308b\u3002\u3053\u3053\u3067 $ V $ \u306f\u9802\u70b9\u96c6\u5408\u3001$ E $ \u306f\u8fba\u96c6\u5408\u3067\u3042\u308b\u3002EV\u306e\u79fb\u52d5\u3084\u5145\u653e\u96fb\u306f\u5168\u3066\u3053\u306e\u30b0\u30e9\u30d5\u5185\u3067\u884c\u308f\u308c\u308b\u3002\u9802\u70b9\u306e\u3046\u3061\u4e00\u5b9a\u6570\u306f\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306b\u5bfe\u5fdc\u3059\u308b\u3002\u307e\u305f\u3001\u8fba\u306f\u9053\u8def\u306b\u5bfe\u5fdc\u3057\u3001\u5404\u8fba\u306b\u306f\u6b63\u306e\u6574\u6570\u3067\u91cd\u307f(\u8ddd\u96e2)\u304c\u5b9a\u3081\u3089\u308c\u3066\u3044\u308b\u3002\u5730\u56f3\u3092\u8868\u3059\u30b0\u30e9\u30d5\u306f\u3001\u5f8c\u8ff0\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306b\u3088\u3063\u3066\u30e9\u30f3\u30c0\u30e0\u306b\u751f\u6210\u3055\u308c\u308b\u3002\n \n \u30b0\u30e9\u30d5 $ G $ \u306e\u751f\u6210\u306b\u3064\u3044\u3066  \u5168\u3066\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306b\u304a\u3044\u3066\u30b0\u30e9\u30d5 $ G\\ =\\ (V,\\ E) $ \u306f\u4ee5\u4e0b\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u308b\u3002 - **\u5165\u529b:**$ |V| $, $ |E| $, $ \\mathrm{MaxDegree}=5 $(\u6700\u5927\u6b21\u6570)\n- **\u9802\u70b9\u306e\u751f\u6210\u65b9\u6cd5:**\n  - \u306f\u3058\u3081\u306b\u3001$ |V|\\ =\\ R^{2}\\ +\\ r $ \u3092\u6e80\u305f\u3059\u6700\u5927\u306e\u975e\u8ca0\u6574\u6570$ R $ \u3092\u898b\u3064\u3051\u308b\uff08\u305f\u3060\u3057\u3001$ r $ \u3082\u975e\u8ca0\u6574\u6570\u3068\u3059\u308b\uff09\u3002\n  - \u6b21\u306b\u3001$ 0\\ \\leq\\ x,\\ y\\ \u3092\u6e80\u305f\u3059xy $\u5ea7\u6a19\u5e73\u9762\u4e0a\u306e\u5168\u3066\u306e\u683c\u5b50\u70b9\u306b\u5bfe\u3057\u3066\u3001\u70b9 $ (x,\\ y) $ \u3092\u30d7\u30ed\u30c3\u30c8\u3059\u308b\u3002\n  - \u5404\u70b9\u306e\u5ea7\u6a19\u3092 $ (x,\\ y)\\ \\leftarrow\\ (x\\ +\\ dx,\\ y\\ +\\ dy) $ \u3068\u305a\u3089\u3059\u3002\u3053\u3053\u3067 $ dx,\\ dy $ \u306f $ dx,\\ dy\\ \\in\\ [0,\\ 1] $ \u3092\u6e80\u305f\u3059\u4e00\u69d8\u30e9\u30f3\u30c0\u30e0\u306a\u5b9f\u6570\u3067\u3042\u308b\u3002\u3064\u307e\u308a\u3001\u79fb\u52d5\u5f8c\u306e\u5ea7\u6a19\u306f$ (x\\ +\\ dx,\\ y\\ +\\ dy)\\in\\ [0,R]\\ \\times\\ [0,R] $\u3092\u6e80\u305f\u3059\u3002\n  - \u6b8b\u308a\u306e $ r $ \u500b\u306e\u70b9\u305d\u308c\u305e\u308c\u306b\u3064\u3044\u3066\u3001\u5ea7\u6a19 $ (x',\\ y') $ ($ 0\\ \\leq\\ x',\\ y'\\ \\leq\\ R $ \u306e\u4e00\u69d8\u30e9\u30f3\u30c0\u30e0\u306a\u5b9f\u6570) \u3092\u5b9a\u3081\u3066\u30d7\u30ed\u30c3\u30c8\u3059\u308b\u3002\n  - \u5404\u70b9\u306b\u5bfe\u3057\u3066\u3001$ 1 $\u304b\u3089$ |V| $\u307e\u3067\u306e\u756a\u53f7(ID)\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u5272\u308a\u632f\u308b\u3002\n- **\u9023\u7d50\u6027\u306e\u4fdd\u8a3c:**\n  - \u751f\u6210\u3057\u305f\u9802\u70b9\u96c6\u5408 $ u\\ \\in\\ V $ \u306b\u5bfe\u3057\u3066\u3001\u5b8c\u5168\u30b0\u30e9\u30d5 $ G_{\\text{comp}} $ \u3092\u751f\u6210\u3059\u308b\u3002\u5404\u9802\u70b9\u30da\u30a2 $ u,\\ v\\ \\in\\ V\\ \\times\\ V $ \u306b\u5bfe\u3059\u308b\u9802\u70b9\u9593\u306e\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u8ddd\u96e2\u3092\u3001\u5b8c\u5168\u30b0\u30e9\u30d5\u306b\u304a\u3051\u308b\u8fba\u306e\u91cd\u307f $ W_{u,\\ v} $ \u3068\u5b9a\u3081\u308b\u3002\n  - \u6b21\u306b\u3001\u5b8c\u5168\u30b0\u30e9\u30d5 $ G_{\\text{comp}} $ \u306b\u5bfe\u3057\u3066\u3001[\u6700\u5c0f\u5168\u57df\u6728](https://ja.wikipedia.org/wiki/%E5%85%A8%E5%9F%9F%E6%9C%A8#%E6%9C%80%E5%B0%8F%E5%85%A8%E5%9F%9F%E6%9C%A8) \u3092\u751f\u6210\u3057\u3001\u751f\u6210\u3055\u308c\u305f $ |V|-1 $ \u672c\u306e\u8fba\u3092\u9053\u8def\u3068\u3059\u308b\u3002\u3053\u308c\u3089\u306e\u8fba\u306e\u91cd\u307f $ d_{u,v} $ \u3092 $ d_{u,v}\\ \\leftarrow\\ \\lceil\\ 2\\ \\times\\ W_{u,\\ v}\\ \\rceil $\u3068\u5b9a\u3081\u308b\u3002\n- **\u6b8b\u308a\u306e\u9053\u8def\u306e\u4f5c\u6210\u65b9\u6cd5:**\n  - \u6b8b\u308a\u306e $ |E|-(|V|-1) $ \u672c\u306e\u9053\u8def\u306f\u3001\u6b21\u306e\u624b\u9806\u3067$ 1 $\u672c\u305a\u3064\u751f\u6210\u3055\u308c\u308b\u3002 \n      - $ \\mathrm{cost}(u,v) $\u3092\u66f4\u65b0\u3059\u308b\u3002\n      - \u30b0\u30e9\u30d5G\u306e\u8fba\u3067\u3064\u306a\u304c\u3063\u3066\u3044\u306a\u3044$ u $, $ v $\u306e\u30da\u30a2\u306e\u5185\u3001$ \\mathrm{cost(u,v)} $\u306e\u6700\u5c0f\u3092\u4e0e\u3048\u308b\u30da\u30a2\u3092\u3064\u306a\u3050\u8fba$ \\left\\{\\ u,\\ v\\ \\right\\} $\u3092\u30b0\u30e9\u30d5G\u306b\u52a0\u3048\u308b\u3002\n      - \u9078\u3070\u308c\u305f\u8fba\u306e\u91cd\u307f $ d_{u,v} $ \u3092 $ d_{u,v}\\ \\leftarrow\\ \\lceil\\ 2\\ \\times\\ W_{u,\\ v}\\ \\rceil $ \u3068\u5b9a\u3081\u308b\u3002\n  - \u3053\u3053\u3067 $ \\mathrm{cost}(u,v) $ \u306e\u30d9\u30fc\u30b9\u306f\u9802\u70b9\u9593\u306e\u30e6\u30fc\u30af\u30ea\u30c3\u30c9\u8ddd\u96e2\u3060\u304c\u3001\u4f4e\u3044\u6b21\u6570\u306e\u9802\u70b9\u304c\u9078\u3070\u308c\u3084\u3059\u304f\u306a\u308b\u3088\u3046\u306b\u3001\u307e\u305f\u3001\u3067\u304d\u308b\u9650\u308a\u9053\u306e\u4ea4\u5dee\u3092\u907f\u3051\u308b\u305f\u3081\u3001\u659c\u3081\u65b9\u5411\u3088\u308a\u3082\u7e26\u6a2a\u65b9\u5411\u306e\u9053\u304c\u9078\u3070\u308c\u3084\u3059\u304f\u306a\u308b\u3088\u3046\u306b $ \\mathrm{cost}(u,v) $ \u3092\u5b9a\u3081\u308b\u3002\u4ee5\u4e0b\u306b $ \\mathrm{cost}(u,v) $ \u306e\u8a08\u7b97\u65b9\u6cd5\u306e\u8a73\u7d30\u3092\u793a\u3059\u3002 \n      - \u5404\u9802\u70b9 $ u\\in\\ V $ \u306e\u6b21\u6570 $ \\mathrm{degree}(u) $ \u3092\u8a08\u7b97\u3059\u308b\u3002\u6b21\u6570 $ \\mathrm{degree}(u) $ \u306f $ u\\in\\ V $ \u3092\u3044\u305a\u308c\u304b\u306e\u7aef\u70b9\u306b\u542b\u3080\u30b0\u30e9\u30d5 $ G $ \u306e\u8fba\u306e\u672c\u6570\u3067\u3042\u308b\u3002\n      - \u5404\u9802\u70b9 $ u\\in\\ V $ \u306e\u8272\u3092\u3001\u9802\u70b9\u306e\u521d\u3081\u306e(\u305a\u3089\u3059\u524d\u306e)\u5ea7\u6a19 $ (x,y) $ \u3092\u3082\u3068\u306b\u3001\u4e0b\u8a18\u306e\u3088\u3046\u306b\u5b9a\u3081\u308b\u3002\u307e\u305a\u306f $ |V| $ \u500b\u306e\u9802\u70b9\u306e\u3046\u3061\u3001$ R^{2} $ \u500b\u306e\u9802\u70b9\u306b\u5bfe\u3057\u3001 \n            - $ x+y $ \u304c\u5076\u6570\u306e\u5834\u5408 : $ \\mathrm{color}(u)\\ =\\ 0 $\n            - $ x+y $ \u304c\u5947\u6570\u306e\u5834\u5408 : $ \\mathrm{color}(u)\\ =\\ 1 $\n            - \u3068\u5b9a\u3081\u308b\u3002\u6b8b\u308a\u306e $ r $ \u500b\u306e\u9802\u70b9\u306b\u306f\u3001\u30e9\u30f3\u30c0\u30e0\u306b$ 0 $\u3082\u3057\u304f\u306f$ 1 $\u306e\u8272\u3092\u5272\u308a\u5f53\u3066\u308b\u3002\n      - \u30d5\u30a1\u30af\u30bf\u30fc $ f(u,v) $ \u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u3081\u308b: \n            - $ \\mathrm{color}(u) $ \u3068 $ \\mathrm{color}(v) $ \u304c\u540c\u3058\u5834\u5408\uff1a $ \\mathrm{f}(u,v)\\ =\\ 5 $\n            - $ \\mathrm{color}(u) $ \u3068 $ \\mathrm{color}(v) $ \u304c\u7570\u306a\u308b\u5834\u5408\uff1a $ \\mathrm{f}(u,v)\\ =\\ 1 $\n      - \u30d5\u30a1\u30af\u30bf\u30fc $ g(u) $ \u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u3081\u308b: \n            - $ \\mathrm{degree}(u)\\ \\lt\\ \\mathrm{MaxDegree} $ \u306e\u5834\u5408: $ g(u)=1 $\n            - $ \\mathrm{degree}(u)\\ \\geq\\ \\mathrm{MaxDegree} $ \u306e\u5834\u5408: $ g(u)=\\infty $\n      - $ \\mathrm{cost}(u,v) $ \u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a08\u7b97\u3059\u308b\u3002\uff1a \n            - $ \\mathrm{cost}(u,v)\\ =\\ W_{u,v}\\times\\ \\mathrm{degree}(u)\\ \\times\\ \\mathrm{degree}(v)\\ \\times\\ f(u,v)\\ \\times\\ g(u)\\ \\times\\ g(v) $.\n- **\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u9802\u70b9\u306e\u9078\u629e\u65b9\u6cd5:** \n  - \u9802\u70b9\u96c6\u5408 $ u\\ \\in\\ V $ \u306e\u4e2d\u304b\u3089\u4e00\u69d8\u30e9\u30f3\u30c0\u30e0\u306b $ N_{\\mathrm{grid}} $ \u500b\u306e\u9802\u70b9\u3092\u9078\u629e\u3057\u3001\u305d\u308c\u3089\u3092\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u9802\u70b9\u3068\u5b9a\u3081\u308b\u3002\u307e\u305f\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u9802\u70b9\u96c6\u5408\u3092 $ V_{\\mathrm{grid}} $ \u3068\u8868\u3059\u3002\n\n \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9 \n--------\n\n\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306f\u767a\u96fb\u8a2d\u5099\u3001\u96fb\u529b\u6d88\u8cbb\u8005\u3001EV\u306e\u5145\u653e\u96fb\u8a2d\u5099\u304a\u3088\u3073\u84c4\u96fb\u6c60\u304b\u3089\u69cb\u6210\u3055\u308c\u3001\u4ee5\u4e0b\u306e\u5185\u90e8\u72b6\u614b\u3092\u6301\u3064\u3002\n\n- **\u9802\u70b9ID**: \u9802\u70b9 $ u $ \u306eID. \u305f\u3060\u3057\u3001$ u\\ \\in\\ V_{\\mathrm{grid}} $ ($ V_{\\mathrm{grid}} $: \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u9802\u70b9\u96c6\u5408, (\"\u30b0\u30e9\u30d5$ G $ \u306e\u751f\u6210\u306b\u3064\u3044\u3066\"\u3092\u53c2\u7167))\n- **\u84c4\u96fb\u91cf**: \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5185\u306e\u84c4\u96fb\u6c60\u306b\u84c4\u3048\u3089\u308c\u305f\u96fb\u6c17\u306e\u91cf\u3002\u521d\u671f\u5024 $ C_{\\mathrm{init}}^{\\mathrm{grid}} $\u3002\u4e0a\u9650\u5024 $ C_{\\mathrm{max}}^{\\mathrm{grid}} $ (\u521d\u671f\u5024\u3068\u4e0a\u9650\u5024\u306f\u5168\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5171\u901a)\u3002\u5404\u6642\u523b $ t $ \u3067\u96fb\u529b\u9700\u7d66(=\u767a\u96fb-\u6d88\u8cbb)\u306e\u5024\u3060\u3051\u5897\u6e1b\u3059\u308b\u3002\u307e\u305f\u3001EV\u3068\u84c4\u96fb\u6c60\u306e\u9593\u306e\u5145\u653e\u96fb\u306b\u3088\u3063\u3066\u3082\u5897\u6e1b\u3059\u308b(\u8a73\u7d30\u306f**[ \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u6c60\u306e\u5145\u653e\u96fb\u51e6\u7406 ](#charge)**\u53c2\u7167)\u3002\u5897\u52a0\u5206\u304c\u4e0a\u9650\u5024 $ C_{\\mathrm{max}}^{\\mathrm{grid}} $ \u3092\u8d85\u3048\u308b\u5834\u5408\u3001\u6b21\u306e\u6642\u523b $ t+1 $ \u306e\u84c4\u96fb\u91cf\u306f\u4e0a\u9650\u5024\u3068\u306a\u308a\u3001\u8d85\u3048\u305f\u5206\u306e\u96fb\u6c17\u306f\u6368\u3066\u3089\u308c\u308b\u3002\u9006\u306b\u84c4\u96fb\u91cf\u304c\u8db3\u308a\u306a\u304f\u306a\u3063\u305f\u5834\u5408\u3001\u4e0d\u8db3\u5206\u306f\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u5916\u90e8(\u7cfb\u7d71\u96fb\u529b)\u304b\u3089\u4f9b\u7d66\u3055\u308c\u3001\u4e0d\u8db3\u5206\u306b\u6bd4\u4f8b\u3057\u3066\u30b9\u30b3\u30a2\u306f\u6e1b\u70b9\u3055\u308c\u308b(\u8a73\u7d30\u306f**[\u63a1\u70b9\u65b9\u6cd5](#scoring)**\u53c2\u7167)\u3002\n- **\u96fb\u529b\u9700\u7d66**: \u5404\u6642\u523b\u306b\u304a\u3051\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5185\u306e\u767a\u96fb\u91cf\u3068EV\u3078\u306e\u5145\u96fb\u53ca\u3073\u84c4\u96fb\u6c60\u3078\u306e\u84c4\u96fb\u91cf\u3092\u9664\u3044\u305f\u6d88\u8cbb\u91cf\u306e\u5dee\u3067\u3042\u308a\u3001\u305d\u306e\u5404\u6642\u523b\u306b\u304a\u3051\u308b\u4e88\u6e2c\u5024\u304c\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u3067\u5404\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u958b\u59cb\u6642\u306b\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306b\u4e0e\u3048\u3089\u308c\u308b\u3002\u5b9f\u969b\u306e\u96fb\u529b\u72b6\u614b\u306f\u305d\u306e\u4e88\u6e2c\u5024\u3068\u78ba\u7387\u7684\u90e8\u5206\uff08\u3086\u3089\u304e\u3001\u30b2\u30ea\u30e9\u8c6a\u96e8or\u60f3\u5b9a\u5916\u306e\u6674\u308c\uff09\u306e\u548c\u306b\u306a\u308b(\u8a73\u7d30\u306f**[\u96fb\u529b\u9700\u7d66](#yojou)**\u53c2\u7167)\u3002\n- **\u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6**: $ V_{\\max}^{\\mathrm{grid}} $. \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5185\u306e\u84c4\u96fb\u6c60\u3078\u306e\u5145\u653e\u96fb\u901f\u5ea6\u306e\u4e0a\u9650\u5024(\u5168\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5171\u901a)\n\n \u96fb\u529b\u9700\u7d66 \n------\n\n\u5404\u6642\u523b\u306b\u304a\u3051\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5185\u306e\u767a\u96fb\u91cf\u3068EV\u3078\u306e\u5145\u96fb\u53ca\u3073\u84c4\u96fb\u6c60\u3078\u306e\u84c4\u96fb\u91cf\u3092\u9664\u3044\u305f\u6d88\u8cbb\u91cf\u306e\u5dee\u3067\u3042\u308b\u3002\n\n- **\u96fb\u529b\u9700\u7d66\u306e\u30d1\u30bf\u30fc\u30f3**: 1\u3064\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306f $ 1 $ \u55b6\u696d\u65e5\u5206($ 0\\ \\leq\\ t\\ <\\ T_{\\max} $)\u306b\u5bfe\u5fdc\u3059\u308b\u3002\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u958b\u59cb\u6642\u306b\u3001\u305d\u306e\u65e5\u306e\u5929\u5019\u304c\u6674(\u30b2\u30ea\u30e9\u8c6a\u96e8\u7121\u3057)\u3001\u6674(\u30b2\u30ea\u30e9\u8c6a\u96e8\u6709\u308a)\u3001\u96e8(\u60f3\u5b9a\u5916\u306e\u6674\u308c\u7121\u3057)\u3001\u96e8(\u60f3\u5b9a\u5916\u306e\u6674\u308c\u6709\u308a)\u306e $ 4 $ \u7a2e\u985e\u304b\u3089\u9078\u3070\u308c\u3001\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306b\u901a\u77e5\u3055\u308c\u308b\u3002\u5929\u5019\u306b\u3088\u3063\u3066\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5185\u306e\u767a\u96fb\u91cf\uff08\u592a\u967d\u5149\u767a\u96fb\uff09\u304c\u5909\u5316\u3059\u308b\u305f\u3081\u3001\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u306e $ 1 $ \u55b6\u696d\u65e5\u5206\u306e\u7dcf\u548c\u306f\u6674\u308c(\u30b2\u30ea\u30e9\u8c6a\u96e8\u7121\u3057)\u306e\u5834\u5408\u304c\u6700\u3082\u591a\u304f\u3001\u9006\u306b\u96e8(\u60f3\u5b9a\u5916\u306e\u6674\u308c\u7121\u3057)\u306e\u5834\u5408\u306f\u6700\u3082\u5c11\u306a\u304f\u306a\u308b\u3002\u5404\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306b\u306f\u9700\u8981\u30d1\u30bf\u30fc\u30f3\u306e\u7570\u306a\u308b $ N_{\\mathrm{pattern}} $ \u7a2e\u985e\u306e\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u30d1\u30bf\u30fc\u30f3\u304b\u3089 $ 1 $ \u3064\u304c\u30e9\u30f3\u30c0\u30e0\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u3001\u3069\u306e\u30d1\u30bf\u30fc\u30f3\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u304b\u306f\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306b\u901a\u77e5\u3055\u308c\u308b\u3002\u307e\u305f\u3001\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u306e\u5404\u6642\u523b\u306e\u5024\u306f\u3001\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u958b\u59cb\u6642\u306b\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306b\u901a\u77e5\u3055\u308c\u308b\u3002\n- **\u96fb\u529b\u9700\u7d66\u306e\u5024**: \u96fb\u529b\u9700\u7d66\u306e\u5024\u306f\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u3068\u78ba\u7387\u7684\u306a\u63fa\u3089\u304e $ \\delta $ \u3068\u30b2\u30ea\u30e9\u8c6a\u96e8\u53ca\u3073\u60f3\u5b9a\u5916\u306e\u6674\u308c\u306b\u3088\u308b\u5909\u5316\u91cf\u306e\u548c\u3067\u8868\u3055\u308c\u308b\u3002\n  \n  \n  - **\u4e88\u60f3\u96fb\u529b\u9700\u7d66**: \u6642\u9593 $ 0\\ \\leq\\ t\\ <\\ T_{\\max} $ \u3092 $ N_{\\mathrm{div}} $ \u7b49\u5206\u306e\u533a\u9593\u306b\u5206\u3051\u3001\u540c\u4e00\u533a\u9593\u5185\u3067\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u306f\u4e00\u5b9a\u3068\u3059\u308b\u3002\n  - **\u78ba\u7387\u7684\u63fa\u3089\u304e**: \u5404\u6642\u523b $ t $ \u3067\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u306b\u78ba\u7387\u7684\u306a\u63fa\u3089\u304e\u5024 $ \\delta $ \u304c\u52a0\u308f\u308b\u3002$ \\delta $ \u306f\u5404\u6642\u523b\u3001\u5404\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u72ec\u7acb\u306b\u5e73\u5747 $ 0 $\u3001\u5206\u6563 $ \\sigma^{2}_{\\mathrm{ele}} $ \u306e\u6b63\u898f\u5206\u5e03\u304b\u3089\u751f\u6210\u3055\u308c\u3001\u305d\u306e\u5024\u306f\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306b\u306f\u4e8b\u524d\u306b\u901a\u77e5\u3055\u308c\u306a\u3044\u3002\n  - **\u30b2\u30ea\u30e9\u8c6a\u96e8**: \u5929\u5019\u304c\"\u6674(\u30b2\u30ea\u30e9\u8c6a\u96e8\u6709\u308a)\"\u306e\u5834\u5408\u3001$ N_{\\mathrm{div}} $ \u3064\u306e\u5404\u6642\u9593\u533a\u9593\u306b\u304a\u3044\u3066 $ p_{\\mathrm{event}} $ \u306e\u78ba\u7387\u3067\u30b2\u30ea\u30e9\u8c6a\u96e8\u304c\u767a\u751f\u3059\u308b\u3002\u78ba\u7387\u306f\u6642\u9593\u533a\u9593\u3054\u3068\u72ec\u7acb\u304b\u3064\u4e00\u5b9a\u3067\u3042\u308b\u3002\u30b2\u30ea\u30e9\u8c6a\u96e8\u304c\u767a\u751f\u3059\u308b\u3068\u3001\u305d\u306e\u6642\u9593\u533a\u9593\u5185\u306e\u5168\u6642\u523b $ t $ \u3067\u3001\u6642\u9593\u533a\u9593\u3054\u3068\u72ec\u7acb\u4e14\u3064\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3070\u308c\u305f $ 15\\% $(\u7aef\u6570\u5207\u6368\u3066)\u306e\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u96fb\u529b\u9700\u7d66\u304c $ \\Delta_{\\mathrm{event}} $ \u3060\u3051\u6e1b\u5c11\u3059\u308b(\u592a\u967d\u5149\u306b\u3088\u308b\u767a\u96fb\u91cf\u304c\u60f3\u5b9a\u3088\u308a\u3082\u5927\u5e45\u306b\u6e1b\u5c11\u3059\u308b)\u3002\n  - **\u60f3\u5b9a\u5916\u306e\u6674\u308c**: \u5929\u5019\u304c\"\u96e8(\u60f3\u5b9a\u5916\u306e\u6674\u308c\u6709\u308a)\"\u306e\u5834\u5408\u3001\u30b2\u30ea\u30e9\u8c6a\u96e8\u3068\u540c\u3058\u78ba\u7387\u3067\u60f3\u5b9a\u5916\u306e\u6674\u308c\u304c\u767a\u751f\u3059\u308b\u3002\u60f3\u5b9a\u5916\u306e\u6674\u308c\u304c\u767a\u751f\u3059\u308b\u3068\u3001\u305d\u306e\u6642\u9593\u533a\u9593\u5185\u306e\u5168\u6642\u523b $ t $ \u3067\u3001\u6642\u9593\u533a\u9593\u3054\u3068\u72ec\u7acb\u4e14\u3064\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3070\u308c\u305f $ 15\\% $(\u7aef\u6570\u5207\u6368\u3066)\u306e\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u96fb\u529b\u9700\u7d66\u304c $ \\Delta_{\\mathrm{event}} $ \u3060\u3051\u5897\u52a0\u3059\u308b(\u592a\u967d\u5149\u306b\u3088\u308b\u767a\u96fb\u91cf\u304c\u60f3\u5b9a\u3088\u308a\u3082\u5927\u5e45\u306b\u5897\u52a0\u3059\u308b)\u3002  \n       \u30b2\u30ea\u30e9\u8c6a\u96e8\u53ca\u3073\u60f3\u5b9a\u5916\u306e\u6674\u308c\u306e\u767a\u751f\u30bf\u30a4\u30df\u30f3\u30b0\u306f\u4e8b\u524d\u306b\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306b\u306f\u901a\u77e5\u3055\u308c\u306a\u3044\u3002\u6700\u7d42\u7684\u306a\u96fb\u529b\u9700\u7d66\u306e\u5024\u306f\u3001\u4e88\u6e2c\u96fb\u529b\u9700\u7d66 $ +\\ \\delta\\ \\pm\\ \\Delta_{\\mathrm{event}} $ \u3068\u306a\u308b\u3002\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_hokudai_hitachi2020_a/74e17941ad04cee8f5b38183c339aaad902c9709.png)\n\n EV \n----\n\n\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306f\u8907\u6570\u53f0\u306eEV\u3092\u64cd\u4f5c\u3057\u3001\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u9593\u306e\u96fb\u529b\u30d0\u30e9\u30f3\u30b9\u8abf\u6574\u3092\u884c\u3046\u3002\n\n- **\u53f0\u6570**: EV\u306e\u53f0\u6570\u306f\u3001\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306e\u958b\u59cb\u6642\u306b\u533a\u9593 $ [N_{\\min}^{\\mathrm{EV}},\\ N_{\\max}^{\\mathrm{EV}}] $ \u304b\u3089\u4e00\u69d8\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3070\u308c\u3001\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306b\u901a\u77e5\u3055\u308c\u308b\u3002\n- **\u521d\u671f\u4f4d\u7f6e**: \u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u958b\u59cb\u6642\u306b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u542b\u3080\u5168\u3066\u306e\u9802\u70b9\u304b\u3089EV\u53f0\u6570\u306b\u7b49\u3057\u3044\u6570\u306e\u9802\u70b9\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3073\u3001EV\u306f\u9078\u3070\u308c\u305f\u5404\u9802\u70b9\u306b $ 1 $ \u53f0\u305a\u3064\u914d\u7f6e\u3055\u308c\u308b\u3002\n- **\u5185\u90e8\u72b6\u614b**: \u5404EV\u306f\u4ee5\u4e0b\u306e\u5185\u90e8\u72b6\u614b\u3092\u6301\u3064\n  \n  \n  - ID $ (0,\\ 1,...\\ ,\\ N^{\\mathrm{EV}}-1) $\n  - \u84c4\u96fb\u91cf $ C^{\\mathrm{EV}}_{t} $ (\u975e\u8ca0\u6574\u6570, \u521d\u671f\u5024\u306f $ C^{\\mathrm{EV}}_{t=0} $\u3001\u4e0a\u9650\u5024\u306f $ C^{\\mathrm{EV}}_{\\max} $ \u3067\u5171\u306b\u5168EV\u5171\u901a)\n  - \u4f4d\u7f6e (\u9802\u70b9\u4e0a\u3082\u3057\u304f\u306f\u8fba\u4e0a)\n  - \u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6 $ V_{\\max}^{\\mathrm{EV}} $ (EV\u306e\u5145\u653e\u96fb\u901f\u5ea6\u306e\u4e0a\u9650\u5024 (\u5168EV\u5171\u901a))\n- **\u52d5\u4f5c**: \u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306f\u5404\u6642\u523b $ t $ \u306b\u304a\u3051\u308b\u5404EV\u306e\u52d5\u4f5c\u3092\u4ee5\u4e0b\u304b\u3089\u9078\u3073\u3001\u6c7a\u5b9a\u3059\u308b\u3002\n  \n  \n  - `stay`: \u79fb\u52d5\u305b\u305a\u305d\u306e\u5834\u306b\u3068\u3069\u307e\u308b\u3002\u3053\u306e\u5834\u5408\u3001EV\u306e\u84c4\u96fb\u91cf\u306f\u6d88\u8cbb\u3055\u308c\u306a\u3044\u3002($ C^{\\mathrm{EV}}_{t+1}-C^{\\mathrm{EV}}_{t}=0 $)\n  - `move w`: \u9802\u70b9 $ w\\ \\in\\ V $ \u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u8ddd\u96e2 $ 1 $ \u3060\u3051\u9032\u3080\u3002\u6b21\u306e\u6642\u523b\u306eEV\u306e\u84c4\u96fb\u91cf\u306f $ \\Delta^{\\mathrm{EV}}_{\\mathrm{move}} $ \u3060\u3051\u6e1b\u5c11\u3059\u308b\u3002\u305f\u3060\u3057\u3001\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3057\u3066\u304a\u308a\u3001\u4e14\u3064\u79fb\u52d5\u5f8c\u306eEV\u306e\u84c4\u96fb\u91cf\u304c\u8ca0\u306b\u306a\u308b\u5834\u5408($ C^{\\mathrm{EV}}_{t}\\ -\\ \\Delta^{\\mathrm{EV}}_{\\mathrm{move}}\\ <\\ 0 $)\u3001EV\u306e\u84c4\u96fb\u91cf\u306f\u6e1b\u3089\u305a\u3001`stay`\u304c\u5b9f\u884c\u3055\u308c\u305f\u5834\u5408\u3068\u540c\u3058\u6319\u52d5\u3068\u306a\u308b(\u305d\u306e\u5834\u306b\u7559\u307e\u308b)\u3002\n      \n      \n      - `move w` \u3092\u9078\u629e\u3059\u308b\u3068\u304d\u3001$ w $ \u304c\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408\u3001 `WA` (Wrong Answer) \u3068\u306a\u308b\u3002\n            - $ w $ \u306f $ w\\ \\in\\ V $ \u3092\u6e80\u305f\u3059\u9802\u70b9\u3067\u3042\u308b\n            - EV\u304c\u9802\u70b9 $ u\\ \\in\\ V $ \u4e0a\u306b\u3044\u308b\u5834\u5408\u3001\u9802\u70b9\u5bfe $ \\left\\{\\ u,\\ w\\ \\right\\} $ \u304c\u30b0\u30e9\u30d5\u306e\u8fba\u96c6\u5408\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\u3059\u306a\u308f\u3061\u3001$ \\left\\{\\ u,\\ w\\ \\right\\}\\ \\in\\ E $ \u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\n            - EV\u304c\u8fba $ \\left\\{\\ u,\\ v\\ \\right\\} $ \u4e0a\u306b\u3044\u308b\u5834\u5408\u3001$ w\\ =\\ u $ \u307e\u305f\u306f $ w\\ =\\ v $ \u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\n  - `charge_from_grid` $ \\Delta^{\\mathrm{grid}\\ \\rightarrow\\ \\mathrm{EV}}_{\\mathrm{charge}} $: \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u4e0a\u3067EV\u3078 $ \\Delta^{\\mathrm{grid}\\ \\rightarrow\\ \\mathrm{EV}}_{\\mathrm{charge}} $ \u3060\u3051\u5145\u96fb\u3059\u308b\u3002\u305d\u306e\u3068\u304d\u6b21\u306e\u6642\u523b $ t+1 $ \u3067\u306eEV\u306e\u84c4\u96fb\u91cf $ C^{\\mathrm{EV}}_{t+1} $ \u306f\u3001$ C^{\\mathrm{EV}}_{t+1}\\ \\leftarrow\\ C^{\\mathrm{EV}}_{t}\\ +\\ \\Delta^{\\mathrm{grid}\\ \\rightarrow\\ \\mathrm{EV}}_{\\mathrm{charge}} $ \u3068\u306a\u308b\u3002\u540c\u4e00\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u304b\u3089\u8907\u6570\u53f0\u306eEV\u306b\u540c\u6642\u306b\u5145\u96fb\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308b\u3002\u307e\u305f\u3001\u540c\u4e00\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u4e0a\u3067\u540c\u6642\u306b\u5225\u306eEV\u304b\u3089\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u3078\u653e\u96fb`charge_to_grid`\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308b(\u52d5\u4f5c\u306f\u5f8c\u8ff0)\u3002\n      \n      \n      - `charge_from_grid` $ \\Delta^{\\mathrm{grid}\\ \\rightarrow\\ \\mathrm{EV}}_{\\mathrm{charge}} $ \u3092\u9078\u629e\u3059\u308b\u3068\u304d\u3001\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408\u3001`WA` (Wrong Answer) \u3068\u306a\u308b\u3002\n            - EV\u306f\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u9802\u70b9 $ u\\ \\in\\ V_{\\mathrm{grid}} $ \u306b\u5c45\u308b\n            - $ \\Delta^{\\mathrm{grid}\\ \\rightarrow\\ \\mathrm{EV}}_{\\mathrm{charge}} $\u306f\u81ea\u7136\u6570\u3067\u3042\u308b\u3002\n            - EV\u306e\u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6\u3092\u8d85\u3048\u306a\u3044: $ \\Delta^{\\mathrm{grid}\\ \\rightarrow\\ \\mathrm{EV}}_{\\mathrm{charge}}\\ \\leq\\ V_{\\max}^{\\mathrm{EV}} $\n            - \u5145\u96fb\u5f8c\u306eEV\u306e\u84c4\u96fb\u91cf\u304c\u4e0a\u9650\u3092\u8d85\u3048\u306a\u3044: $ C^{\\mathrm{EV}}_{t}\\ +\\ \\Delta^{\\mathrm{grid}\\ \\rightarrow\\ \\mathrm{EV}}_{\\mathrm{charge}}\\ \\leq\\ C^{\\mathrm{EV}}_{\\max} $\n  - `charge_to_grid` $ \\Delta^{\\mathrm{EV}\\ \\rightarrow\\ \\mathrm{grid}}_{\\mathrm{charge}} $: EV\u304b\u3089\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u3078 $ \\Delta^{\\mathrm{EV}\\ \\rightarrow\\ \\mathrm{grid}}_{\\mathrm{charge}} $ \u3060\u3051\u653e\u96fb\u3059\u308b\u3002\u305d\u306e\u3068\u304d\u6b21\u306e\u6642\u523b $ t+1 $ \u3067\u306eEV\u306e\u84c4\u96fb\u91cf $ C^{\\mathrm{EV}}_{t+1} $ \u306f\u3001$ C^{\\mathrm{EV}}_{t+1}\\ \\leftarrow\\ C^{\\mathrm{EV}}_{t}\\ -\\ \\Delta^{\\mathrm{EV}\\ \\rightarrow\\ \\mathrm{grid}}_{\\mathrm{charge}} $ \u3068\u306a\u308b\u3002\u540c\u4e00\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u3078\u8907\u6570\u53f0\u306eEV\u304b\u3089\u540c\u6642\u306b\u653e\u96fb\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308b\u3002\u307e\u305f\u3001\u540c\u6642\u306b\u540c\u4e00\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u4e0a\u3067\u5225\u306eEV\u3078\u5145\u96fb`charge_from_grid`\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308b\u3002\n      \n      \n      - `charge_to_grid` $ \\Delta^{\\mathrm{EV}\\ \\rightarrow\\ \\mathrm{grid}}_{\\mathrm{charge}} $ \u3092\u9078\u629e\u3059\u308b\u3068\u304d\u3001\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408\u3001`WA` (Wrong Answer) \u3068\u306a\u308b\u3002\n            - EV\u306f\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u9802\u70b9 $ u\\ \\in\\ V_{\\mathrm{grid}} $ \u306b\u5c45\u308b\n            - $ \\Delta^{\\mathrm{EV}\\ \\rightarrow\\ \\mathrm{grid}}_{\\mathrm{charge}} $\u306f\u81ea\u7136\u6570\u3067\u3042\u308b\u3002\n            - EV\u306e\u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6\u3092\u8d85\u3048\u306a\u3044: $ \\Delta^{\\mathrm{EV}\\ \\rightarrow\\ \\mathrm{grid}}_{\\mathrm{charge}}\\ \\leq\\ V_{\\max}^{\\mathrm{EV}} $\n            - \u653e\u96fb\u5f8c\u306eEV\u306e\u84c4\u96fb\u91cf\u304c\u8ca0\u306b\u306a\u3089\u306a\u3044: $ C^{\\mathrm{EV}}_{t}\\ -\\ \\Delta^{\\mathrm{EV}\\ \\rightarrow\\ \\mathrm{grid}}_{\\mathrm{charge}}\\ \\geq\\ 0 $\n\n \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u6c60\u306e\u5145\u653e\u96fb\u51e6\u7406 \n------------------\n\n\u5404\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306b\u304a\u3044\u3066\u3001\u767a\u96fb\u91cf\u3001\u6d88\u8cbb\u91cf\u53ca\u3073\u63a5\u7d9a\u3057\u305fEV\u306e\u5145\u653e\u96fb\u306b\u3088\u3063\u3066\u6642\u3005\u523b\u3005\u3068\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u91cf\u306f\u5897\u6e1b\u3059\u308b\u3002\u672c\u51e6\u7406\u306b\u3088\u308a\u3001\u5404\u6642\u523b\u5404\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5185\u306e\u96fb\u529b\u9700\u7d66(=\u767a\u96fb\u91cf-\u6d88\u8cbb\u91cf)\u3068EV\u306e\u5145\u653e\u96fb\u91cf\u3092\u8db3\u3057\u5408\u308f\u305b\u3001\u4f59\u5270\u304c\u3042\u308c\u3070\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5185\u306e\u84c4\u96fb\u6c60\u306b\u5145\u96fb\u3057\u3001\u9006\u306b\u8db3\u308a\u306a\u3051\u308c\u3070\u84c4\u96fb\u6c60\u304b\u3089\u653e\u96fb\u3059\u308b\u3002\u4f59\u5270\u304c\u591a\u3044\u5834\u5408\u3001\u84c4\u96fb\u6c60\u306e\u4e0a\u9650\u5145\u96fb\u901f\u5ea6\u3092\u8d85\u3048\u308b\u5206\u3001\u3082\u3057\u304f\u306f\u4e0a\u9650\u84c4\u96fb\u5bb9\u91cf\u3092\u8d85\u3048\u308b\u5206\u306e\u96fb\u6c17\u306f\u6368\u3066\u3001\u4e0d\u8db3\u96fb\u529b\u304c\u591a\u3044\u5834\u5408\u3001\u84c4\u96fb\u6c60\u306e\u4e0a\u9650\u653e\u96fb\u901f\u5ea6\u3092\u8d85\u3048\u308b\u5206\u3001\u3082\u3057\u304f\u306f\u84c4\u96fb\u91cf\u304c\u67af\u6e07\u3057\u3066\u3082\u8db3\u308a\u306a\u3044\u5206\u306e\u96fb\u6c17\u306f\u3001\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5916(\u7cfb\u7d71)\u304b\u3089\u8cfc\u5165\u3059\u308b\u3002\u3044\u305a\u308c\u306e\u5834\u5408\u3082\u3001\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u304c\u6307\u5b9a\u3057\u305fEV\u306e\u5145\u653e\u96fb\u91cf\u306e\u5206\u3060\u3051\u3001\u6b21\u306e\u6642\u523b\u3067\u5fc5\u305a\u5145\u653e\u96fb\u3055\u308c\u308b\u3002  \n  \n \u5177\u4f53\u7684\u306b\u306f\u3001\u5404\u6642\u523b $ t $ \u306b\u304a\u3044\u3066\u3001\u6b21\u306e\u6642\u523b $ t+1 $ \u306e\u5404\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u91cf\u3092\u6c7a\u5b9a\u3059\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u51e6\u74061\uff5e4\u304c\u5b9f\u884c\u3055\u308c\u308b\u3002\n\n- **\u51e6\u74061**: \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5185\u306e\u6642\u523b $ t $ \u306b\u304a\u3051\u308b\u96fb\u529b\u53ce\u652f $ \\Delta^{\\mathrm{grid}}_{\\mathrm{total}} $ \u3092\u8a08\u7b97\u3059\u308b  \n   $ \\Delta^{\\mathrm{grid}}_{\\mathrm{total}}\\ =\\ \\Delta^{\\mathrm{grid}}_{\\mathrm{gen},t}\\ -\\ \\sum_{i\\ \\in\\ \\mathrm{all\\ EV}}\\ \\Delta^{\\mathrm{grid}\\ \\rightarrow\\ \\mathrm{EV}i}_{\\mathrm{charge},t}\\ +\\ \\sum_{i\\ \\in\\ \\mathrm{all\\ EV}}\\ \\Delta^{\\mathrm{EV}i\\ \\rightarrow\\ \\mathrm{grid}}_{\\mathrm{charge},t} $   \n   \u3053\u3053\u3067\u3001\u5404\u5909\u6570\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3042\u308b\u3002\n  \n  \n  - $ \\Delta^{\\mathrm{grid}}_{\\mathrm{gen},t} $: \u6642\u523b $ t $ \u306b\u304a\u3051\u308b\u96fb\u529b\u9700\u7d66\u3067\u3042\u308a\u3001\u4e88\u6e2c\u96fb\u529b\u9700\u7d66 $ \\Delta^{\\mathrm{grid,predict}}_{\\mathrm{gen},t} $ \u3068 \u78ba\u7387\u7684\u90e8\u5206\uff08\u3086\u3089\u304e\u3001\u30b2\u30ea\u30e9\u8c6a\u96e8or\u60f3\u5b9a\u5916\u306e\u6674\u308c\uff09\u306e\u548c\u3067\u3042\u308b\u3002\u3053\u3053\u3067\u3001\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u306e\u5024\u306f\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306e\u958b\u59cb\u6642\u306b\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306b\u901a\u77e5\u3055\u308c\u308b\u304c\u3001\u78ba\u7387\u7684\u90e8\u5206\u306f\u6642\u523b $ t $ \u3067\u306f\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306b\u901a\u77e5\u3055\u308c\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u305b\u3088(\u305f\u3060\u3057\u6b21\u306e\u6642\u523b $ t+1 $ \u3067 $ \\Delta^{\\mathrm{grid}}_{\\mathrm{gen},t} $ \u304c\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306b\u901a\u77e5\u3055\u308c\u308b(\u8a73\u3057\u304f\u306f\"\u5165\u51fa\u529b\u5f62\u5f0f2\"\u3092\u53c2\u7167))\u3002\n  - $ \\Delta^{\\mathrm{grid}\\ \\rightarrow\\ \\mathrm{EV}i}_{\\mathrm{charge},t} $: \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u304b\u3089EV$ i $\u3078\u306e\u5145\u96fb\u91cf\u3067\u3042\u308a\u3001\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u304c\u6642\u523b $ t $ \u3067\u6307\u5b9a\u3059\u308b\u3002\n  - $ \\Delta^{\\mathrm{EV}i\\ \\rightarrow\\ \\mathrm{grid}}_{\\mathrm{charge},t} $: EV$ i $\u304b\u3089\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u3078\u306e\u653e\u96fb\u91cf\u3067\u3042\u308a\u3001\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u304c\u6642\u523b $ t $ \u3067\u6307\u5b9a\u3059\u308b\u3002\n- **\u51e6\u74062**: \u96fb\u529b\u53ce\u652f\u304c\u5927\u304d\u3044\u3001\u3064\u307e\u308a\u4f59\u5270\u96fb\u529b\u304c\u5927\u304d\u3044\u5834\u5408\u306e\u51e6\u7406\u3002  \n   $ \\Delta^{\\mathrm{grid}}_{\\mathrm{total}}\\ \\geq\\ \\min\\ \\left\\{\\ V_{\\max}^{\\mathrm{grid}},\\ C^{\\mathrm{grid}}_{\\max}-C^{\\mathrm{grid}}_{t}\\ \\right\\} $ \u306e\u5834\u5408\u3001\u6b21\u306e\u6642\u523b $ t+1 $ \u306e\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u91cf\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u3081\u308b\u3002  \n   $ C^{\\mathrm{grid}}_{t+1}\\ \\leftarrow\\ C^{\\mathrm{grid}}_{t}+\\min\\ \\left\\{\\ V_{\\max}^{\\mathrm{grid}},\\ C^{\\mathrm{grid}}_{\\max}-C^{\\mathrm{grid}}_{t}\\ \\right\\} $  \n   \u3064\u307e\u308a\u3001\u901f\u5ea6\u3084\u4e0a\u9650\u84c4\u96fb\u91cf\u3092\u8d85\u3048\u305f\u5206\u306e\u96fb\u6c17\u306f\u84c4\u96fb\u6c60\u306b\u5145\u96fb\u3055\u308c\u306a\u3044(\u6368\u3066\u3089\u308c\u308b\u3053\u3068\u306b\u306a\u308b)\u3002\n- **\u51e6\u74063**: \u96fb\u529b\u53ce\u652f\u304c\u5c0f\u3055\u3044\u3001\u3064\u307e\u308a\u4e0d\u8db3\u96fb\u529b\u304c\u5927\u304d\u3044\u5834\u5408\u306e\u51e6\u7406\u3002  \n   $ \\Delta^{\\mathrm{grid}}_{\\mathrm{total}}\\ <\\ -\\ \\min\\ \\left\\{\\ V_{\\max}^{\\mathrm{grid}},\\ C^{\\mathrm{grid}}_{t}\\ \\right\\} $ \u306e\u5834\u5408\u3001\u6b21\u306e\u6642\u523b $ t+1 $ \u306e\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u91cf\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9a\u3081\u308b\u3002  \n   $ C^{\\mathrm{grid}}_{t+1}\\ \\leftarrow\\ C^{\\mathrm{grid}}_{t}\\ -\\ \\min\\ \\left\\{\\ V_{\\max}^{\\mathrm{grid}},\\ C^{\\mathrm{grid}}_{t}\\ \\right\\} $  \n   \u307e\u305f\u3001\u4e0a\u8a18\u3067\u306f\u3001\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5185\u306e\u96fb\u529b\u4e0d\u8db3\u5206\uff1a  \n   $ -\\ \\Delta^{\\mathrm{grid}}_{\\mathrm{total}}\\ -\\ \\min\\ \\left\\{\\ V_{\\max}^{\\mathrm{grid}},\\ C^{\\mathrm{grid}}_{t}\\ \\right\\}(\\ >\\ 0) $  \n   \u3092\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u5916(\u7cfb\u7d71\u96fb\u529b\u306a\u3069)\u304b\u3089\u8cfc\u5165\u3059\u308b\u3002\u305d\u306e\u305f\u3081\u3001\u4e0d\u8db3\u5206\u306b\u6bd4\u4f8b\u3057\u3066\u30b9\u30b3\u30a2\u304c\u6e1b\u70b9\u3055\u308c\u308b(\u8a73\u7d30\u306f**[\u63a1\u70b9\u65b9\u6cd5](#scoring)**\u53c2\u7167)\u3002\n- **\u51e6\u74064**: \u96fb\u529b\u53ce\u652f\u304c\u9069\u5ea6\u306a\u5927\u304d\u3055\u306e\u5834\u5408\u306e\u51e6\u7406\u3002  \n   \u51e6\u74062\u53ca\u3073\u51e6\u74063\u304c\u5171\u306b\u5b9f\u884c\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u96fb\u529b\u53ce\u652f\u306e\u5206\u3060\u3051\u6b21\u306e\u6642\u523b $ t+1 $ \u306e\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u91cf\u3092\u5897\u6e1b\u3055\u305b\u308b\u3002  \n   $ C^{\\mathrm{grid}}_{t+1}\\ \\leftarrow\\ C^{\\mathrm{grid}}_{t}\\ +\\ \\Delta^{\\mathrm{grid}}_{\\mathrm{total}} $\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/AT_hokudai_hitachi2020_a/e801417669f6736c216146fc1fb614626aa126a8.png)\n\n \u63a1\u70b9\u65b9\u6cd5 \n------\n\n- \u30b3\u30f3\u30c6\u30b9\u30c8\u958b\u50ac\u4e2d\u306e\u9806\u4f4d\u306f $ 16 $ \u3064\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306e\u30b9\u30b3\u30a2\u306e\u5408\u8a08\u5024\u3067\u6c7a\u5b9a\u3059\u308b\u3002$ 16 $ \u3064\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306e\u3046\u3061\u3001\u6674(\u30b2\u30ea\u30e9\u8c6a\u96e8\u7121\u3057)\u3001\u6674(\u30b2\u30ea\u30e9\u8c6a\u96e8\u6709\u308a)\u3001\u96e8(\u60f3\u5b9a\u5916\u306e\u6674\u308c\u7121\u3057)\u3001\u96e8(\u60f3\u5b9a\u5916\u306e\u6674\u308c\u6709\u308a)\u306e\u6570\u306f\u305d\u308c\u305e\u308c $ 6,\\ 2,\\ 6,\\ 2 $ \u3067\u56fa\u5b9a\u3067\u3042\u308b\u3002\n- \u5404\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306b\u304a\u3044\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30b9\u30b3\u30a2\u3092\u8a08\u7b97\u3059\u308b\u3002  \n   $ \\mathrm{Score}=\\sum_{i=1}^{N_{\\mathrm{EV}}}\\ C_{t=T_{\\max}}^{\\mathrm{EV}i}\\ +\\ \\sum_{i=1}^{N_{\\mathrm{grid}}}\\ C_{t=T_{\\max}}^{\\mathrm{grid}i}\\ -\\ \\gamma\\ \\sum_{t=0}^{T_{\\max}-1}\\ \\sum_{i=1}^{N_{\\mathrm{grid}}}\\ L_{i,t}\\ +\\ 3000000 $  \n   \u305f\u3060\u3057\u3001\u7b2c $ 1 $ \u9805\u3068\u7b2c $ 2 $ \u9805\u306f $ t=T_{\\max} $ \u6642\u70b9\u3067\u306e\u5168EV\u53ca\u3073\u5168\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6b8b\u308a\u84c4\u96fb\u91cf\u3067\u3042\u308a\u3001$ \\gamma $ \u306f\u4e0d\u8db3\u96fb\u529b\u30da\u30ca\u30eb\u30c6\u30a3\u4fc2\u6570\u3001$ L_{i,t} $ \u306f\u6642\u523b $ t $ \u306e\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9 $ i $ \u306b\u304a\u3051\u308b\u4e0d\u8db3\u96fb\u529b\u3067\u3042\u308a\u3001[\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u6c60\u306e\u5145\u653e\u96fb\u51e6\u7406](#charge)\u306e\u51e6\u74063\u304c\u5b9f\u884c\u3055\u308c\u305f\u5834\u5408 $ L_{i,t}\\ =\\ -\\ \\Delta^{\\mathrm{grid}}_{\\mathrm{total}}\\ -\\ \\min\\ \\left\\{\\ V_{\\max}^{\\mathrm{grid}},\\ C^{\\mathrm{grid}}_{t}\\ \\right\\}(L_{i,t}\\ >\\ 0) $ \u3067\u3042\u308a\u3001\u51e6\u74063\u304c\u5b9f\u884c\u3055\u308c\u306a\u3044\u5834\u5408\u306f $ L_{i,t}=0 $ \u3067\u3042\u308b\u3002\n- \u30b7\u30b9\u30c6\u30e0\u30c6\u30b9\u30c8\u306f\u3001\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3067\u958b\u793a\u6e08\u306e $ 6(=N_\\mathrm{pattern}\\ \\times\\ 2( $\u6674,\u96e8$ )) $ \u30d1\u30bf\u30fc\u30f3\u306e\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u30d1\u30bf\u30fc\u30f3\u3092\u7528\u3044\u305f $ 160 $ \u500b\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u306b\u52a0\u3048\u3066\u3001\u672a\u958b\u793a\u306e $ 6(=N_\\mathrm{pattern}\\ \\times\\ 2( $\u6674,\u96e8$ )) $ \u30d1\u30bf\u30fc\u30f3\u306e\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u30d1\u30bf\u30fc\u30f3\u3092\u7528\u3044\u305f $ 40 $ \u500b\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u304b\u3089\u6210\u308b\u3001\u8a08 $ 200 $ \u500b\u306e\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002\u306a\u304a\u3001\u3086\u3089\u304e\u306e\u5e73\u5747\u30fb\u5206\u6563\u5024\u3084\u3001\u30b2\u30ea\u30e9\u8c6a\u96e8\u53ca\u3073\u60f3\u5b9a\u5916\u306e\u6674\u308c\u306b\u3088\u308b\u96fb\u529b\u9700\u7d66\u306e\u5909\u52d5\u5e45\u3001\u767a\u751f\u78ba\u7387\u53ca\u3073\u767a\u751f\u6761\u4ef6\u306f\u540c\u3058\u3067\u3059\u3002  \n   \u8a73\u7d30\u306a\u5185\u8a33\u306f\u4e0b\u8a18\u8868\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\\*\n \n \u4e88\u6e2c\u96fb\u529b\u9700\u7d66(\u958b\u793a\u6e08) \u4e88\u6e2c\u96fb\u529b\u9700\u7d66(\u672a\u958b\u793a) \u5408\u8a08 \u6674(\u30b2\u30ea\u30e9\u8c6a\u96e8\u7121) 60 15 75 \u6674(\u30b2\u30ea\u30e9\u8c6a\u96e8\u6709) 20 5 25 \u96e8(\u60f3\u5b9a\u5916\u306e\u6674\u7121) 60 15 75 \u96e8(\u60f3\u5b9a\u5916\u306e\u6674\u6709) 20 5 25 \u5408\u8a08 160 40 200\\* 12/18\u306byuusanlondon\u69d8\u304b\u3089\u9802\u3044\u305f\u3054\u8cea\u554f\u306b\u5bfe\u3059\u308b\u56de\u7b54\u304b\u3089\u3001\u30b7\u30b9\u30c6\u30e0\u30c6\u30b9\u30c8\u306e\u5185\u5bb9\u306b\u4e00\u90e8\u5909\u66f4\u304c\u5165\u3063\u3066\u3057\u307e\u3044\u5927\u5909\u7533\u3057\u8a33\u3042\u308a\u307e\u305b\u3093\u3002\u904b\u55b6\u5074\u3067\u691c\u8a0e\u3055\u305b\u3066\u9802\u3044\u305f\u7d50\u679c\u3001\u4e0a\u8a18\u306e\u5185\u5bb9\u3067\u6700\u7d42\u9806\u4f4d\u3092\u6c7a\u5b9a\u3055\u305b\u3066\u9802\u304d\u305f\u304f\u3001\u3054\u7406\u89e3\u9802\u3051\u307e\u3059\u3068\u5e78\u3044\u3067\u3059\u3002  \n (12/29\u8ffd\u8a18) \u672a\u958b\u793a\u306e\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u30d1\u30bf\u30fc\u30f3\u306e\u751f\u6210\u6cd5\u3084\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc\u3092\u958b\u793a\u3059\u308b\u4e88\u5b9a\u306f\u3054\u3056\u3044\u307e\u305b\u3093\u3002 \u305f\u3060\u3057\u3001\u672a\u958b\u793a\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u306e\u96fb\u529b\u30b9\u30b3\u30a2\u306e\u6e80\u70b9\uff08\u7406\u60f3\u7684\u306a\u5236\u5fa1\u5b9f\u884c\u6642\u306e\u5f97\u70b9\u306e\u4e0a\u9650\uff09\u306f\u3001\u958b\u793a\u6e08\u306e\u30d1\u30bf\u30fc\u30f3\u306e\u96fb\u529b\u30b9\u30b3\u30a2\u306e\u6e80\u70b9\u3068\u540c\u7b49\u306e\u5f97\u70b9\u3068\u306a\u308b\u3088\u3046\u3001\u4f5c\u6210\u4e88\u5b9a\u3067\u3059\u3002\n\n \u554f\u984c\u6587 A \n-------\n\n\u554f\u984c A \u306f**\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a**\u554f\u984c\u3067\u3042\u308b\u3002 \u5f97\u70b9(Score)\u3092\u6700\u5927\u5316\u3059\u308b\u3088\u3046\u306b\u96fb\u529b\u3092\u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u3059\u308b\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u4f5c\u308b\u3053\u3068\u304c\u554f\u984c A \u306e\u30bf\u30b9\u30af\u3067\u3042\u308b\u3002 Contestant\u304c\u9ad8\u5f97\u70b9\u3092\u7372\u5f97\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u78ba\u7387\u7684\u306b\u4e0a\u4e0b\u3059\u308b\u96fb\u529b\u9700\u7d66\u306b\u5bfe\u3057\u3066\u3001\u84c4\u96fb\u6c60\u3092\u6301\u3061\u30b0\u30e9\u30d5\u4e0a\u3092\u79fb\u52d5\u3059\u308b\u96fb\u6c17\u81ea\u52d5\u8eca(EV)\u3068\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u3068\u306e\u9593\u3067\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u5145\u653e\u96fb\u3092\u884c\u3044\u3001\u84c4\u96fb\u6c60\u3092\u6709\u3059\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u91cf\u3092\u7ba1\u7406\u3059\u308b\u3053\u3068\u304c\u5fc5\u8981\u3068\u306a\u308b\u3002 \u4f5c\u6210\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5f97\u70b9\u5224\u5b9a\u306e\u969b\u306f\u3001\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u5074\u3068\u30b8\u30e3\u30c3\u30b8\u5074\u304c\u4ee5\u4e0b\u3067\u793a\u3059\u6d41\u308c\u306b\u6cbf\u3063\u3066\u51e6\u7406\u3092\u884c\u3046\u3002\n\n \u7e70\u308a\u8fd4\u3057\u51e6\u7406 \u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8 \u30b8\u30e3\u30c3\u30b8   \u30b0\u30e9\u30d5 $ G $ \u3092\u51fa\u529b   \u96fb\u529b\u9700\u7d66\u306e\u60c5\u5831\u3092\u51fa\u529b   \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u60c5\u5831\u3092\u51fa\u529b   EV\u306e\u60c5\u5831\u3092\u51fa\u529b   \u30b9\u30b3\u30a2\u306e\u60c5\u5831\u3092\u51fa\u529b   \u7e70\u308a\u8fd4\u3057\u51e6\u7406(\u30bf\u30fc\u30f3)\u306e\u56de\u6570 $ T_\\mathrm{max} $ \u3092\u51fa\u529b **for** $ t=0,...,T_\\mathrm{max}-1 $ **do** - -   \u6642\u523b $ t $ \u306b\u304a\u3051\u308bEV\u3068\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u72b6\u614b $ \\mathrm{info}_t $ \u3092\u51fa\u529b  \u5404EV\u306b\u5bfe\u3057\u3066\u5236\u5fa1\u30b3\u30de\u30f3\u30c9\u3092\u51fa\u529b  **end for**     \u6642\u523b $ t=T_\\mathrm{max} $ \u306b\u304a\u3051\u308bEV\u3068\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u72b6\u614b $ \\mathrm{info}_t $ \u3092\u51fa\u529b   \u30b9\u30b3\u30a2 $ \\mathrm{Score} $ \u3092\u51fa\u529b\u30b8\u30e3\u30c3\u30b8\u306b\u3088\u308b\u30b0\u30e9\u30d5\u3001\u96fb\u529b\u9700\u7d66\u3001\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u3001EV\u3001\u30b9\u30b3\u30a2\u3001\u30bf\u30fc\u30f3\u6570\u306b\u95a2\u3059\u308b\u60c5\u5831\u306f\u3001\u306f\u3058\u3081\u306b$ 1 $\u56de\u3060\u3051\u51fa\u529b\u3055\u308c\u308b\u3002\u5404\u8a66\u884c\u3067 $ 0\\ \\leq\\ t\\ \\lt\\ T_\\mathrm{max} $ \u3092\u6e80\u305f\u3059\u6574\u6570 $ t $ \u306b\u304a\u3044\u3066\u3001\u8868\u3067\u793a\u3057\u305f\u9806\u756a\u901a\u308a\u306b\u6bce\u56de\u884c\u308f\u308c\u308b\u3002\u306a\u304a\u3001\u6642\u523b $ t=T_\\mathrm{max} $ \u306b\u304a\u3051\u308b $ \\mathrm{info}_t $ \u53ca\u3073\u30b9\u30b3\u30a2\u306f\u5fc5\u305a\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u5074\u3067\u8aad\u307f\u51fa\u3059\u5fc5\u8981\u304c\u3042\u308b(\u8aad\u307f\u51fa\u3055\u306a\u3044\u5834\u5408TLE\u306b\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b)\u3002\n\n \u5165\u51fa\u529b\u5f62\u5f0f1 \n--------\n\n\u306f\u3058\u3081\u306b\u3001\u30b0\u30e9\u30d5 $ G $\u3001\u96fb\u529b\u9700\u7d66\u306e\u60c5\u5831\u3001\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u60c5\u5831\u3001EV\u306e\u60c5\u5831\u3001\u30b9\u30b3\u30a2\u306e\u60c5\u5831\u304a\u3088\u3073\u30bf\u30fc\u30f3\u6570\u304c\u3001\u4ee5\u4e0b\u306e\u5f62\u5f0f\u306b\u3088\u308a\u30b8\u30e3\u30c3\u30b8\u304b\u3089\u6a19\u6e96\u5165\u529b\u306b\u4e0e\u3048\u3089\u308c\u308b\u3002\n\n> $ |V| $ $ |E| $ $ u_1 $ $ v_1 $ $ d_1 $ : $ u_{|E|} $ $ v_{|E|} $ $ d_{|E|} $ $ \\mathrm{DayType} $ $ N_\\mathrm{div} $ $ N_\\mathrm{pattern} $ $ \\sigma^{2}_{\\mathrm{ele}} $ $ p_{\\mathrm{event}} $ $ \\Delta_{\\mathrm{event}} $ $ \\mathrm{pw}_{1,1}^{\\mathrm{predict}} $ $ \\mathrm{pw}_{1,2}^{\\mathrm{predict}} $ ... $ \\mathrm{pw}_{1,N_\\mathrm{div}}^{\\mathrm{predict}} $ : $ \\mathrm{pw}_{N_\\mathrm{pattern},1}^{\\mathrm{predict}} $ $ \\mathrm{pw}_{N_\\mathrm{pattern},2}^{\\mathrm{predict}} $ ... $ \\mathrm{pw}_{N_\\mathrm{pattern},N_\\mathrm{div}}^{\\mathrm{predict}} $ $ N_\\mathrm{grid} $ $ C_{\\mathrm{init}}^{\\mathrm{grid}} $ $ C_{\\mathrm{max}}^{\\mathrm{grid}} $ $ V_{\\max}^{\\mathrm{grid}} $ $ x_1 $ $ \\mathrm{pattern}_1 $ : $ x_{N_\\mathrm{grid}} $ $ \\mathrm{pattern}_{N_\\mathrm{grid}} $ $ N_\\mathrm{EV} $ $ C_{\\mathrm{init}}^{\\mathrm{EV}} $ $ C_{\\mathrm{max}}^{\\mathrm{EV}} $ $ V_{\\max}^{\\mathrm{EV}} $ $ \\Delta_{\\mathrm{move}}^{\\mathrm{EV}} $ $ \\mathrm{pos}_1 $ : $ \\mathrm{pos}_{N_\\mathrm{EV}} $ $ \\gamma $ $ T_\\mathrm{max} $\n\n- $ 1 $ \u884c\u76ee\u306e $ |V| $ \u306f\u30b0\u30e9\u30d5\u306e\u9802\u70b9\u6570\u3001$ |E| $ \u306f\u30b0\u30e9\u30d5\u306e\u8fba\u6570\u3067\u3042\u308b\u3002\n- \u7d9a\u304f $ |E| $ \u884c\u3067\u3001\u30b0\u30e9\u30d5\u306e\u8fba\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002 $ |E| $ \u884c\u306e\u3046\u3061 $ i $ \u884c\u76ee\u306f\u3001\u9802\u70b9 $ u_{i} $ \u3068 $ v_{i} $ \u306e\u9593\u306b\u8ddd\u96e2 $ d_i $ \u306e\u8fba\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3092\u8868\u3059\u3002\n- \u7d9a\u304f $ 1 $ \u884c\u3067\u3001\u5929\u5019\u30bf\u30a4\u30d7 $ \\mathrm{DayType} $ \u304c\u4e0e\u3048\u3089\u308c\u308b\u3002$ \\mathrm{DayType} $ \u306f $ 0 $: \u6674(\u30b2\u30ea\u30e9\u8c6a\u96e8\u7121\u3057)\u3001$ 1 $: \u6674(\u30b2\u30ea\u30e9\u8c6a\u96e8\u6709\u308a)\u3001$ 2 $: \u96e8(\u60f3\u5b9a\u5916\u306e\u6674\u308c\u7121\u3057)\u3001$ 3 $: \u96e8(\u60f3\u5b9a\u5916\u306e\u6674\u308c\u6709\u308a)\u306e\u3044\u305a\u308c\u304b\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002\n- \u7d9a\u304f $ 1 $ \u884c\u3067\u3001\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u304c\u4e00\u5b9a\u5024\u3068\u306a\u308b\u533a\u9593\u306e\u6570 $ N_\\mathrm{div} $ \u3068\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u306e\u30d1\u30bf\u30fc\u30f3\u6570 $ N_\\mathrm{pattern} $ \u3068\u96fb\u529b\u9700\u7d66\u306e\u5206\u6563 $ \\sigma^{2}_{\\mathrm{ele}} $ \u3068\u30b2\u30ea\u30e9\u8c6a\u96e8\u3082\u3057\u304f\u306f\u60f3\u5b9a\u5916\u306e\u6674\u308c\u306e\u767a\u751f\u78ba\u7387 $ p_{\\mathrm{event}} $ (\u5929\u5019\u30bf\u30a4\u30d7\u304c $ 0 $ \u3082\u3057\u304f\u306f $ 2 $ \u306e\u5834\u5408\u306f $ 0.0 $ \u3068\u306a\u308b)\u3068\u30b2\u30ea\u30e9\u8c6a\u96e8\u3082\u3057\u304f\u306f\u60f3\u5b9a\u5916\u306e\u6674\u308c\u767a\u751f\u6642\u306e\u96fb\u529b\u9700\u7d66\u306e\u5909\u5316\u91cf $ \\Delta_{\\mathrm{event}} $ \u304c\u4e0e\u3048\u3089\u308c\u308b\u3002\n- \u7d9a\u304f $ N_\\mathrm{pattern} $ \u884c\u3067\u5404\u30d1\u30bf\u30fc\u30f3\u306e\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u306e\u5024\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002$ i $ \u884c\u76ee\u306e $ j $ \u756a\u76ee\u306e\u6570\u5024 $ \\mathrm{pw}_{i,j}^{\\mathrm{predict}} $ \u306f\u3001\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u30d1\u30bf\u30fc\u30f3 $ i $ \u306b\u304a\u3051\u308b\u6642\u9593\u533a\u9593 $ j $ \u756a\u76ee\u306e\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u306e\u5024\u3092\u8868\u3059\u3002\n- \u7d9a\u304f $ 1 $ \u884c\u3067\u3001\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u500b\u6570 $ N_\\mathrm{grid} $ \u3068\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6642\u523b $ 0 $ \u3067\u306e\u84c4\u96fb\u91cf $ C_{\\mathrm{init}}^{\\mathrm{grid}} $ \u3068\u6700\u5927\u84c4\u96fb\u91cf $ C_{\\mathrm{max}}^{\\mathrm{grid}} $ \u3068\u84c4\u96fb\u6c60\u306e\u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6 $ V_{\\max}^{\\mathrm{grid}} $ \u304c\u4e0e\u3048\u3089\u308c\u308b\u3002\n- \u7d9a\u304f $ N_\\mathrm{grid} $ \u884c\u3067\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u60c5\u5831\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002$ N_\\mathrm{grid} $ \u884c\u306e\u3046\u3061 $ i $ \u884c\u76ee\u306f\u3001\u9802\u70b9 $ x_i $ \u4e0a\u306b\u3001\u4e88\u6e2c\u96fb\u529b\u9700\u7d66\u30d1\u30bf\u30fc\u30f3 $ \\mathrm{pattern}_i $ \u306e\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u304c\u5b58\u5728\u3059\u308b\u3053\u3068\u3092\u8868\u3059\u3002\n- \u7d9a\u304f $ 1 $ \u884c\u3067\u3001EV\u306e\u500b\u6570 $ N_\\mathrm{EV} $ \u3068EV\u306e\u6642\u523b $ 0 $ \u3067\u306e\u84c4\u96fb\u91cf $ C_{\\mathrm{init}}^{\\mathrm{EV}} $ \u3068\u6700\u5927\u84c4\u96fb\u91cf $ C_{\\mathrm{max}}^{\\mathrm{EV}} $ \u3068\u84c4\u96fb\u6c60\u306e\u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6 $ V_{\\max}^{\\mathrm{EV}} $ \u3068\u5358\u4f4d\u8ddd\u96e2\u306e\u79fb\u52d5\u306b\u5fc5\u8981\u306a\u96fb\u529b $ \\Delta_{\\mathrm{move}}^{\\mathrm{EV}} $ \u304c\u4e0e\u3048\u3089\u308c\u308b\u3002\n- \u7d9a\u304f $ N_\\mathrm{EV} $ \u884c\u3067\u3001EV\u306e\u4f4d\u7f6e\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002$ N_\\mathrm{EV} $ \u884c\u306e\u3046\u3061 $ i $ \u884c\u76ee\u306f\u3001$ i $ \u756a\u76ee\u306eEV\u304c\u9802\u70b9 $ \\mathrm{pos}_i $ \u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u8868\u3059\u3002\n- \u7d9a\u304f $ 1 $ \u884c\u3067\u3001\u4e0d\u8db3\u96fb\u529b\u30da\u30ca\u30eb\u30c6\u30a3\u4fc2\u6570 $ \\gamma $ \u304c\u4e0e\u3048\u3089\u308c\u308b\u3002\n- \u7d9a\u304f $ 1 $ \u884c\u3067\u3001\u3042\u306a\u305f\u304c\u884c\u52d5\u3059\u308b\u30bf\u30fc\u30f3\u6570 $ T_{\\max} $ \u304c\u4e0e\u3048\u3089\u308c\u308b\u3002\n\n \u5165\u51fa\u529b\u5f62\u5f0f2 \n--------\n\n\u5404\u6642\u523b $ t $ \u306b\u3001\u305d\u306e\u6642\u523b\u306b\u304a\u3051\u308bEV\u3068\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u72b6\u614b $ \\mathrm{info}_t $ \u304c\u3001\u4ee5\u4e0b\u306e\u5f62\u5f0f\u306b\u3088\u308a\u30b8\u30e3\u30c3\u30b8\u304b\u3089\u6a19\u6e96\u5165\u529b\u306b\u4e0e\u3048\u3089\u308c\u308b\u3002\n\n> $ x_1 $ $ y_1 $ $ \\mathrm{pw}_{1}^{\\mathrm{actual},t-1} $ $ \\mathrm{pw}_{1}^{\\mathrm{excess},t-1} $ $ \\mathrm{pw}_{1}^{\\mathrm{buy},t-1} $ : $ x_{N_\\mathrm{grid}} $ $ y_{N_\\mathrm{grid}} $ $ \\mathrm{pw}_{N_\\mathrm{grid}}^{\\mathrm{actual},t-1} $ $ \\mathrm{pw}_{N_\\mathrm{grid}}^{\\mathrm{excess},t-1} $ $ \\mathrm{pw}_{N_\\mathrm{grid}}^{\\mathrm{buy},t-1} $ $ \\mathrm{carinfo}_1 $ : $ \\mathrm{carinfo}_{N_\\mathrm{EV}} $\n\n- \u59cb\u3081\u306e $ N_\\mathrm{grid} $ \u884c\u306e\u3046\u3061 $ i $ \u884c\u76ee\u306f\u3001$ x_i $ \u4e0a\u306b\u5b58\u5728\u3059\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u91cf\u304c $ y_i $ \u3067\u3042\u308a\u3001\u524d\u6642\u523b $ t-1 $ \u306b\u304a\u3051\u308b\u5b9f\u969b\u306e\u96fb\u529b\u9700\u7d66\u3001\u4f59\u3063\u3066\u6368\u3066\u3089\u308c\u305f\u96fb\u6c17\u306e\u91cf\u3001\u96fb\u529b\u4e0d\u8db3\u3067\u7cfb\u7d71\u304b\u3089\u8cfc\u5165\u3057\u305f\u96fb\u6c17\u306e\u91cf\u304c\u305d\u308c\u305e\u308c $ \\mathrm{pw}_{i}^{\\mathrm{actual},t-1} $\u3001$ \\mathrm{pw}_{i}^{\\mathrm{excess},t-1} $\u3001$ \\mathrm{pw}_{i}^{\\mathrm{buy},t-1} $ \u3067\u3042\u308b\u3053\u3068\u3092\u8868\u3059\u3002\u305f\u3060\u3057 $ t=0 $ \u306b\u304a\u3044\u3066\u306f\u3001 $ \\mathrm{pw}_{i}^{\\mathrm{actual},t-1} $\u3001$ \\mathrm{pw}_{i}^{\\mathrm{excess},t-1} $\u3001$ \\mathrm{pw}_{i}^{\\mathrm{buy},t-1} $ \u306f\u3044\u305a\u308c\u3082 $ 0 $ \u304c\u8868\u793a\u3055\u308c\u308b\u3082\u306e\u3068\u3059\u308b\u3002  \n   \u88dc\u8db3: $ \\mathrm{pw}_{i}^{\\mathrm{actual},t-1} $\u3001$ \\mathrm{pw}_{i}^{\\mathrm{excess},t-1} $\u3001$ \\mathrm{pw}_{i}^{\\mathrm{buy},t-1} $\u306f\u3001\u305d\u308c\u305e\u308c [ \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u6c60\u306e\u5145\u653e\u96fb\u51e6\u7406 ](#charge)\"\u51e6\u74061\"\u306e $ \\Delta^{\\mathrm{grid}}_{\\mathrm{gen},t-1} $\u3001\"\u51e6\u74062\"\u306e\"\u901f\u5ea6\u3084\u4e0a\u9650\u84c4\u96fb\u91cf\u3092\u8d85\u3048\u305f\u5206\u306e\u96fb\u6c17\"$ \\Delta^{\\mathrm{grid}}_{\\mathrm{total},t-1}\\ -\\ \\min\\ \\left\\{\\ V_{\\max}^{\\mathrm{grid}},\\ C^{\\mathrm{grid}}_{\\max}-C^{\\mathrm{grid}}_{t-1}\\ \\right\\} $\u3001\"\u51e6\u74063\"\u306e\"\u96fb\u529b\u4e0d\u8db3\u5206\" $ -\\ \\Delta^{\\mathrm{grid}}_{\\mathrm{total},t-1}\\ -\\ \\min\\ \\left\\{\\ V_{\\max}^{\\mathrm{grid}},\\ C^{\\mathrm{grid}}_{t-1}\\ \\right\\} $ \u306b\u5bfe\u5fdc\u3059\u308b\u3002\u305f\u3060\u3057\u3001\u524d\u6642\u523b $ t-1 $ \u3067\u305d\u308c\u305e\u308c\"\u51e6\u74062\"\u3001\"\u51e6\u74063\"\u304c\u5b9f\u884c\u3055\u308c\u306a\u304b\u3063\u305f\u5834\u5408\u3001$ \\mathrm{pw}_{i}^{\\mathrm{excess},t-1} $ \u3068 $ \\mathrm{pw}_{i}^{\\mathrm{buy},t-1} $ \u306f\u305d\u308c\u305e\u308c $ 0 $ \u3068\u306a\u308b\u3002\n- \u7d9a\u304f $ N_\\mathrm{EV} $ \u9805\u76ee\u306f\u305d\u308c\u305e\u308c $ 3 $ \u884c\u304b\u3089\u306a\u308a\u3001\u305d\u306e\u3046\u3061 $ i $ \u9805\u76ee\u76ee\u306e $ \\mathrm{carinfo}_i $ \u306f $ i $ \u756a\u76ee\u306eEV\u306e\u72b6\u614b\u3092\u8868\u3059\u3002$ \\mathrm{carinfo}_i $ \u306f\u305d\u308c\u305e\u308c\u5f8c\u8ff0\u306e\u5f62\u5f0f\u3067\u4e0e\u3048\u3089\u308c\u308b\u3002\n\n$ i $ \u756a\u76ee\u306eEV\u306e\u72b6\u614b\u3092\u8868\u3059 $ \\mathrm{carinfo}_i $ \u306f\u3001\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067\u4e0e\u3048\u3089\u308c\u308b\u3002\n\n> $ \\mathrm{charge}_i $ $ u_i $ $ v_i $ $ \\mathrm{dist\\_from}\\_u_i $ $ \\mathrm{dist\\_to}\\_v_i $ $ N_{\\mathrm{adj},i} $ $ a_{i,1} $ $ a_{i,2} $ $ \\ldots $ $ a_{i,N_\\mathrm{adj}} $\n\n- \u59cb\u3081\u306e $ 1 $ \u884c\u76ee\u306f\u3001 $ i $ \u756a\u76ee\u306eEV\u306e\u84c4\u96fb\u91cf\u304c $ \\mathrm{charge}_i $ \u3067\u3042\u308b\u3053\u3068\u3092\u8868\u3059\u3002\n- \u7d9a\u304f $ 2 $ \u884c\u76ee\u306f\u3001 $ i $ \u756a\u76ee\u306eEV\u306e\u4f4d\u7f6e\u3092\u8868\u3059\u3002$ u_i\\ \\ne\\ v_i $ \u306a\u3089\u3070\u3001$ i $ \u756a\u76ee\u306eEV\u306f\u9802\u70b9 $ u_i $ \u3068 \u9802\u70b9$ v_i $ \u3092\u7d50\u3076\u8fba\u4e0a\u306b\u5b58\u5728\u3057\u3066\u9802\u70b9 $ u_i $ \u304b\u3089 $ \\mathrm{dist\\_from}\\_u_i $\u3001\u9802\u70b9 $ v_i $ \u304b\u3089 $ \\mathrm{dist\\_to}\\_v_i $ \u306e\u8ddd\u96e2\u306b\u3042\u308b\u3053\u3068\u3092\u8868\u3059\u3002$ u_i\\ =\\ v_i $ \u306a\u3089\u3070\u3001$ i $ \u756a\u76ee\u306eEV\u306f\u3061\u3087\u3046\u3069\u9802\u70b9 $ u_i $ \u4e0a\u306b\u3042\u308b\u3053\u3068\u3092\u8868\u3057\u3001$ \\mathrm{dist\\_from}\\_u_i $ \u3068 $ \\mathrm{dist\\_to}\\_v_i $ \u306f\u5171\u306b $ 0 $ \u304c\u51fa\u529b\u3055\u308c\u308b\u3002\n- \u7d9a\u304f $ 3 $ \u884c\u76ee\u306f\u3001\u52d5\u4f5c`move`\u3067 $ i $ \u756a\u76ee\u306eEV\u304c\u305d\u306e\u65b9\u5411\u306b\u79fb\u52d5\u53ef\u80fd\u306a\u9802\u70b9\u304c $ N_{\\mathrm{adj},i} $ \u500b\u5b58\u5728\u3057\u3001\u305d\u308c\u3089\u304c\u9802\u70b9 $ a_{i,1} $\u3001\u9802\u70b9 $ a_{i,2} $\u3001$ \\ldots $\u3001\u9802\u70b9 $ a_{i,N_\\mathrm{adj}} $ \u3067\u3042\u308b\u3053\u3068\u3092\u8868\u3059\u3002\n\n\u6b21\u306b\u3001\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306f\u3001\u6642\u523b $ t $ ($ 0\\ \\leq\\ t\\ \\lt\\ T_{\\max} $) \u306b\u304a\u3051\u308b\u5404EV\u306e\u52d5\u4f5c $ \\mathrm{command}_i $ $ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{EV}) $ \u3092\u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\u5404\u52d5\u4f5c\u306f\u6539\u884c\u3067\u533a\u5207\u3089\u308c\u306a\u304f\u3066\u306f\u306a\u3089\u305a\u3001\u307e\u305f\u672b\u5c3e\u306b\u6539\u884c\u3092\u51fa\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002\n\n> $ \\mathrm{command}_{1} $ $ \\mathrm{command}_{2} $ : $ \\mathrm{command}_{N_\\mathrm{EV}} $\n\n\u3053\u3053\u3067\u3001$ \\mathrm{command} $ \u306f\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3002\n\n- `stay` \u3092\u884c\u3046\u5834\u5408\u3001`stay` \u3068 $ 1 $ \u884c\u3067\u51fa\u529b\n- `move w` \u3092\u884c\u3046\u5834\u5408\u3001`move w` \u3068 $ 1 $ \u884c\u3067\u51fa\u529b\n- `charge_from_grid` $ \\Delta^{\\mathrm{grid}\\ \\rightarrow\\ \\mathrm{EV}}_{\\mathrm{charge}} $ \u3092\u884c\u3046\u5834\u5408\u3001`charge_from_grid` $ \\Delta^{\\mathrm{grid}\\ \\rightarrow\\ \\mathrm{EV}}_{\\mathrm{charge}} $ \u3068 $ 1 $ \u884c\u3067\u51fa\u529b\n- `charge_to_grid` $ \\Delta^{\\mathrm{EV}\\ \\rightarrow\\ \\mathrm{grid}}_{\\mathrm{charge}} $ \u3092\u884c\u3046\u5834\u5408\u3001`charge_to_grid` $ \\Delta^{\\mathrm{EV}\\ \\rightarrow\\ \\mathrm{grid}}_{\\mathrm{charge}} $ \u3068 $ 1 $ \u884c\u3067\u51fa\u529b\n\n\u305d\u308c\u305e\u308c\u306e\u52d5\u4f5c\u306b\u306f\u6e80\u305f\u3059\u3079\u304d\u6761\u4ef6\u304c\u5b58\u5728\u3059\u308b(\u8a73\u7d30\u306f[EV](#ev)\u306e\"\u52d5\u4f5c\"\u306e\u7bc0\u3092\u53c2\u7167\u306e\u3053\u3068)\u3002\u305d\u308c\u3089\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408\u306e\u52d5\u4f5c\u306f\u672a\u5b9a\u7fa9\u3067\u3042\u308b\u3002\n\n \u5165\u51fa\u529b\u5f62\u5f0f3 \n--------\n\n\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u304c\u6642\u523b $ t=T_\\mathrm{max}-1 $ \u306b\u304a\u3051\u308b\u5404EV\u306e\u52d5\u4f5c\u3092\u6a19\u6e96\u51fa\u529b\u306b\u51fa\u529b\u3057\u305f\u306e\u3061\u3001\u30b8\u30e3\u30c3\u30b8\u304b\u3089\u6642\u523b $ t=T_\\mathrm{max} $ \u306b\u304a\u3051\u308bEV\u3068\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u72b6\u614b $ \\mathrm{info}_t $ \u304c\u6a19\u6e96\u5165\u529b\u306b\u4e0e\u3048\u3089\u308c\u308b\uff08$ \\mathrm{info}_t $ \u306e\u5f62\u5f0f\u306f\"\u5165\u51fa\u529b\u5f62\u5f0f2\"\u3092\u53c2\u7167\uff09\u3002\u5f15\u304d\u7d9a\u3044\u3066\u6b21\u306e\u884c\u306b\u30b8\u30e3\u30c3\u30b8\u304b\u3089\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067\u30b9\u30b3\u30a2 $ \\mathrm{Score} $ \u304c\u6a19\u6e96\u5165\u529b\u306b\u4e0e\u3048\u3089\u308c\u308b\u3002\n\n> $ \\mathrm{Score} $\n\n \u5165\u51fa\u529b\u5236\u7d04 \n-------\n\n- \u5165\u529b\u3067\u4e0e\u3048\u3089\u308c\u308b\u6570\u5024\u306e\u3046\u3061**\"\\[\u5c0f\u6570\\]\"**\u3068\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u306f\u5c0f\u6570\u3067\u4e0e\u3048\u3089\u308c\u3001\u305d\u306e\u4ed6\u306e\u3082\u306e\u306f\u6574\u6570\u3067\u4e0e\u3048\u3089\u308c\u308b\u3002\n\n#### \u521d\u671f\u5316(\u5165\u51fa\u529b\u5f62\u5f0f1)\n\n- $ |V|\\ =\\ 225 $\n- $ 1.5\\ |V|\\ \\leq\\ |E|\\ \\leq\\ 2\\ |V| $\n- $ 1\\ \\leq\\ u_{i},\\ v_{i}\\ \\leq\\ |V|,\\ u_i\\ \\ne\\ v_i $ $ (1\\ \\leq\\ i\\ \\leq\\ |E|) $\n- $ 1\\ \\leq\\ d_i\\ \\leq\\ \\lceil\\ 2\\sqrt{2|V|}\\ \\rceil $ $ (1\\ \\leq\\ i\\ \\leq\\ |E|) $\n- \u4e0e\u3048\u3089\u308c\u308b\u30b0\u30e9\u30d5\u306f\u81ea\u5df1\u30eb\u30fc\u30d7\u30fb\u591a\u91cd\u8fba\u304c\u5b58\u5728\u305b\u305a\u3001\u9023\u7d50\u3067\u3042\u308b\u3053\u3068\u304c\u4fdd\u8a3c\u3055\u308c\u308b\u3002\n- $ \\mathrm{DayType}\\ \\in\\ \\left\\{\\ 0,\\ 1,\\ 2,\\ 3\\ \\right\\} $\n- $ N_\\mathrm{div}\\ =\\ 20 $\n- $ N_\\mathrm{pattern}\\ =\\ 3 $\n- $ \\sigma^{2}_{\\mathrm{ele}}\\ =\\ 100 $\n- $ p_{\\mathrm{event}}\\ \\in\\ \\left\\{\\ 0.0,\\ 0.1\\ \\right\\} $ **\"\\[\u5c0f\u6570\\]\"**\n- $ \\Delta_{\\mathrm{event}}\\ =\\ 1000 $\n- $ -1000\\ \\lt\\ \\mathrm{pw}_{i,j}^{\\mathrm{predict}}\\ \\lt\\ 1000\\ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{pattern},\\ 1\\ \\leq\\ j\\ \\leq\\ N_\\mathrm{div}) $\n- $ N_\\mathrm{grid}\\ =\\ 20 $\n- $ C_{\\mathrm{init}}^{\\mathrm{grid}}\\ =\\ 25000 $\n- $ C_{\\mathrm{max}}^{\\mathrm{grid}}\\ =\\ 50000 $\n- $ V_{\\max}^{\\mathrm{grid}}\\ =\\ 800 $\n- $ 1\\ \\leq\\ x_i\\ \\leq\\ |V| $ $ (i\\ \\neq\\ j $ \u306a\u3089 $ x_i\\ \\neq\\ x_j,\\ 1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{grid}) $\n- $ 1\\ \\leq\\ \\mathrm{pattern}_i\\ \\leq\\ N_\\mathrm{pattern} $ $ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{grid}) $\n- $ N_{\\min}^{\\mathrm{EV}}\\ =\\ 15 $\n- $ N_{\\max}^{\\mathrm{EV}}\\ =\\ 25 $\n- $ N_{\\min}^{\\mathrm{EV}}\\ \\leq\\ N_\\mathrm{EV}\\ \\leq\\ N_{\\max}^{\\mathrm{EV}} $\n- $ C_{\\mathrm{init}}^{\\mathrm{EV}}\\ =\\ 12500 $\n- $ C_{\\mathrm{max}}^{\\mathrm{EV}}\\ =\\ 25000 $\n- $ V_{\\max}^{\\mathrm{EV}}\\ =\\ 400 $\n- $ \\Delta_{\\mathrm{move}}^{\\mathrm{EV}}\\ =\\ 50 $\n- $ 1\\ \\leq\\ \\mathrm{pos}_i\\ \\leq\\ |V|\\ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{EV}) $\n- $ \\gamma\\ =\\ 2.0 $ **\"\\[\u5c0f\u6570\\]\"**\n- $ T_\\mathrm{max}\\ =\\ 1000 $\n\n#### \u7e70\u308a\u8fd4\u3057\u51e6\u7406(\u5165\u51fa\u529b\u5f62\u5f0f2)\n\n- $ 1\\ \\leq\\ x_i\\ \\leq\\ |V| $ $ (i\\ \\neq\\ j $ \u306a\u3089 $ x_i\\ \\neq\\ x_j,\\ 1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{grid}) $\n- $ 0\\ \\leq\\ y_i\\ \\leq\\ C_{\\mathrm{max}}^{\\mathrm{grid}} $ $ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{grid}) $\n- $ -10000\\ \\lt\\ \\mathrm{pw}_{i}^{\\mathrm{actual},j}\\ \\lt\\ 10000\\ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{grid},\\ -1\\ \\leq\\ j\\ \\leq\\ T_\\mathrm{max}-2) $\n- $ 0\\ \\leq\\ \\mathrm{pw}_{i}^{\\mathrm{excess},j}\\ \\lt\\ 10000,\\ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{grid},\\ -1\\ \\leq\\ j\\ \\leq\\ T_\\mathrm{max}-2) $\n- $ 0\\ \\leq\\ \\mathrm{pw}_{i}^{\\mathrm{buy},j}\\ \\lt\\ 10000,\\ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{grid},\\ -1\\ \\leq\\ j\\ \\leq\\ T_\\mathrm{max}-2) $\n- $ 0\\ \\leq\\ \\mathrm{charge}_i\\ \\leq\\ C_{\\mathrm{max}}^{\\mathrm{EV}} $ $ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{EV}) $\n- $ 1\\ \\leq\\ u_i,\\ v_i\\ \\leq\\ |V| $ $ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{EV}) $\n- $ 0\\ \\leq\\ \\mathrm{dist\\_from}\\_u_i\\ \\leq\\ \\lceil\\ 2\\sqrt{2|V|}\\ \\rceil $ $ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{EV}) $\n- $ 0\\ \\leq\\ \\mathrm{dist\\_to}\\_v_i\\ \\leq\\ \\lceil\\ 2\\sqrt{2|V|}\\ \\rceil $ $ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{EV}) $\n- $ 1\\ \\leq\\ N_{\\mathrm{adj},i}\\ \\leq\\ 5(\\mathrm{MaxDegree}) $ $ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{EV}) $\n- $ 1\\ \\leq\\ a_{i,j}\\ \\leq\\ |V| $ $ (1\\ \\leq\\ i\\ \\leq\\ N_\\mathrm{EV},\\ 1\\ \\leq\\ j\\ \\leq\\ N_{\\mathrm{adj},i}) $\n\n#### \u30b9\u30b3\u30a2(\u5165\u51fa\u529b\u5f62\u5f0f3)\n\n- $ \\mathrm{Score} $ **\"\\[\u5c0f\u6570\\]\"**\n\n \u5165\u51fa\u529b\u4f8b \n------\n\n\u6ce8\u610f: **\u3053\u306e\u4f8b\u306f\u308f\u304b\u308a\u3084\u3059\u3055\u306e\u305f\u3081\u306b\u5c0f\u3055\u306a\u30bb\u30c3\u30c8\u3067\u5165\u51fa\u529b\u3092\u8aac\u660e\u3057\u305f\u3082\u306e\u3067\u3042\u308b\u3002\u305d\u306e\u305f\u3081\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5024\u306f\"\u5165\u51fa\u529b\u5236\u7d04\"\u306b\u66f8\u304b\u308c\u305f\u5024\u3068\u306f\u7570\u306a\u308b\u304c\u3001\u5165\u51fa\u529b\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8(\u5165\u51fa\u529b\u5f62\u5f0f1,2\u53ca\u30733)\u3068EV\u306e\u52d5\u4f5c\u3001\u53ca\u3073\"\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u6c60\u306e\u5145\u653e\u96fb\u51e6\u7406\"\u306b\u66f8\u304b\u308c\u305f\u8a08\u7b97\u65b9\u6cd5\u306f\u5b9f\u969b\u3068\u540c\u3058\u3067\u3042\u308b\u3002**\n\n \u6642\u523b \u30b8\u30e3\u30c3\u30b8 \u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8 \u8aac\u660e  ```\n4 4\n1 2 1\n2 3 2\n3 4 3\n4 1 1\n0\n2 2 1 0 10\n5 -2\n-4 4\n2 10 20 4\n1 1\n4 2\n2 5 10 2 1\n2\n4\n0.5\n4\n```\n\n  \u306f\u3058\u3081\u306b\u3001\u30b8\u30e3\u30c3\u30b8\u5074\u304b\u3089\u30c7\u30fc\u30bf\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002  \n $ 1 $ \u884c\u76ee: \u7121\u5411\u30b0\u30e9\u30d5 $ G $ \u306f $ |V|\\ =\\ 4 $ \u500b\u306e\u9802\u70b9\u3068 $ |E|\\ =\\ 4 $ \u672c\u306e\u8fba\u304b\u3089\u69cb\u6210\u3055\u308c\u308b\u3002  \n \u6b21\u306e $ 4 $ \u884c ($ 2 $ - $ 5 $ \u884c\u76ee) \u306f\u3001\u30b0\u30e9\u30d5\u306e\u8fba\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u8868\u3059\u3002  \n $ 2 $ \u884c\u76ee: \u8fba $ 1 $ \u306f\u9802\u70b9 $ 1 $ \u3068\u9802\u70b9 $ 2 $ \u3092\u7d50\u3093\u3067\u304a\u308a\u3001\u9577\u3055\u306f $ 1 $ \u3067\u3042\u308b\u3002  \n $ 3 $ \u884c\u76ee: \u8fba $ 2 $ \u306f\u9802\u70b9 $ 2 $ \u3068\u9802\u70b9 $ 3 $ \u3092\u7d50\u3093\u3067\u304a\u308a\u3001\u9577\u3055\u306f $ 2 $ \u3067\u3042\u308b\u3002  \n $ 4 $ \u884c\u76ee: \u8fba $ 3 $ \u306f\u9802\u70b9 $ 3 $ \u3068\u9802\u70b9 $ 4 $ \u3092\u7d50\u3093\u3067\u304a\u308a\u3001\u9577\u3055\u306f $ 3 $ \u3067\u3042\u308b\u3002  \n $ 5 $ \u884c\u76ee: \u8fba $ 4 $ \u306f\u9802\u70b9 $ 4 $ \u3068\u9802\u70b9 $ 1 $ \u3092\u7d50\u3093\u3067\u304a\u308a\u3001\u9577\u3055\u306f $ 1 $ \u3067\u3042\u308b\u3002  \n $ 6 $ \u884c\u76ee: \u5929\u5019\u30bf\u30a4\u30d7\u306f $ 0 $ \"\u6674(\u30b2\u30ea\u30e9\u8c6a\u96e8\u7121\u3057)\" \u3067\u3042\u308b\u3002  \n $ 7 $ \u884c\u76ee: \u4e88\u60f3\u96fb\u529b\u9700\u7d66\u304c\u4e00\u5b9a\u306e\u6642\u9593\u533a\u9593\u306e\u6570\u306f $ 2 $ \u500b\u3001\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u9700\u8981\u30d1\u30bf\u30fc\u30f3\u306f $ 2 $ \u500b\u3001\u96fb\u529b\u9700\u7d66\u306e\u3086\u3089\u304e\u306e\u5206\u6563\u306f $ 1 $ \u3001\u30b2\u30ea\u30e9\u8c6a\u96e8\u306e\u767a\u751f\u78ba\u7387\u306f $ 0 $\u3001\u30b2\u30ea\u30e9\u8c6a\u96e8\u767a\u751f\u6642\u306e\u96fb\u529b\u9700\u7d66\u306e\u4f4e\u4e0b\u91cf\u306f $ 10 $ \u3067\u3042\u308b\u3002  \n \u6b21\u306e $ 2 $ \u884c ($ 8 $ - $ 9 $ \u884c\u76ee) \u306f\u3001\u4e88\u60f3\u96fb\u529b\u9700\u7d66\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u8868\u3059\u3002  \n $ 8 $ \u884c\u76ee: \u9700\u8981\u30d1\u30bf\u30fc\u30f3 $ 1 $ \u306e\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u4e88\u60f3\u96fb\u529b\u9700\u7d66\u306f $ 5 $ (\u6642\u9593\u533a\u9593 $ 1 $)\u3001$ -2 $ (\u6642\u9593\u533a\u9593 $ 2 $)\u3067\u3042\u308b\u3002  \n $ 9 $ \u884c\u76ee: \u9700\u8981\u30d1\u30bf\u30fc\u30f3 $ 2 $ \u306e\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u4e88\u60f3\u96fb\u529b\u9700\u7d66\u306f $ -4 $ (\u6642\u9593\u533a\u9593 $ 1 $)\u3001$ 4 $ (\u6642\u9593\u533a\u9593 $ 2 $)\u3067\u3042\u308b\u3002  \n $ 10 $ \u884c\u76ee: \u30b0\u30e9\u30d5 $ G $ \u306e\u9802\u70b9\u306e\u3046\u3061\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u304c\u3042\u308b\u3082\u306e\u306f $ N_\\mathrm{grid}\\ =\\ 2 $ \u500b\u3001\u6642\u523b $ t=0 $ \u306b\u304a\u3051\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u84c4\u96fb\u91cf\u306f $ C_{\\mathrm{init}}^{\\mathrm{grid}}\\ =\\ 10 $\u3001\u6700\u5927\u84c4\u96fb\u91cf\u306f $ C_{\\mathrm{max}}^{\\mathrm{grid}}\\ =\\ 20 $\u3001\u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6\u306f $ V_{\\max}^{\\mathrm{grid}}\\ =\\ 4 $ \u3067\u3042\u308b\u3002  \n $ 11 $ \u884c\u76ee: \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9 $ 1 $ \u306f\u9802\u70b9 $ 1 $ \u4e0a\u306b\u3042\u308a\u3001\u9700\u8981\u30d1\u30bf\u30fc\u30f3\u306f $ 1 $ \u3067\u3042\u308b\u3002  \n $ 12 $ \u884c\u76ee: \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9 $ 2 $ \u306f\u9802\u70b9 $ 4 $ \u4e0a\u306b\u3042\u308a\u3001\u9700\u8981\u30d1\u30bf\u30fc\u30f3\u306f $ 2 $ \u3067\u3042\u308b\u3002  \n $ 13 $ \u884c\u76ee: \u3042\u306a\u305f\u304c\u52d5\u4f5c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u308bEV\u306e\u53f0\u6570\u306f $ N_\\mathrm{EV}\\ =\\ 2 $ \u53f0\u3001\u6642\u523b $ t=0 $ \u306b\u304a\u3051\u308bEV\u306e\u84c4\u96fb\u91cf\u306f $ C_{\\mathrm{init}}^{\\mathrm{EV}}\\ =\\ 5 $\u3001\u6700\u5927\u84c4\u96fb\u91cf\u306f $ C_{\\mathrm{max}}^{\\mathrm{EV}}\\ =\\ 10 $\u3001\u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6\u306f $ V_{\\max}^{\\mathrm{EV}}\\ =\\ 2 $ \u3001\u5358\u4f4d\u6642\u9593\u306eEV\u306e\u79fb\u52d5\u3067\u6e1b\u5c11\u3059\u308b\u84c4\u96fb\u91cf\u306f $ \\Delta_{\\mathrm{move}}^{\\mathrm{EV}}\\ =\\ 1 $ \u3067\u3042\u308b\u3002  \n \u6b21\u306e $ 2 $ \u884c ($ 14 $ - $ 15 $ \u884c\u76ee) \u306f\u6642\u523b $ t=0 $ \u306b\u304a\u3051\u308b\u5404EV\u306e\u4f4d\u7f6e\u3092\u8868\u3059\u3002  \n $ 14 $ \u884c\u76ee: EV $ 1 $ \u306f\u6642\u523b $ t=0 $ \u3067\u9802\u70b9 $ 2 $ \u4e0a\u306b\u3042\u308b\u3002  \n $ 15 $ \u884c\u76ee: EV $ 2 $ \u306f\u6642\u523b $ t=0 $ \u3067\u9802\u70b9 $ 4 $ \u4e0a\u306b\u3042\u308b\u3002  \n $ 16 $ \u884c\u76ee: \u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u304c\u5916\u90e8\u304b\u3089\u88dc\u5145\u3057\u305f\u5358\u4f4d\u96fb\u6c17\u91cf\u3042\u305f\u308a\u306e\u6e1b\u70b9\u306f $ \\gamma\\ =\\ 0.5 $ \u70b9\u3067\u3042\u308b\u3002  \n $ 17 $ \u884c\u76ee: \u3042\u306a\u305f\u304c\u884c\u52d5\u3059\u308b\u30bf\u30fc\u30f3\u6570\u306f $ T_{\\max}\\ =\\ 4 $ \u3067\u3042\u308b\u3002  0 ```\n1 10 0 0 0\n4 10 0 0 0\n5\n2 2 0 0\n2 1 3\n5\n4 4 0 0\n2 1 3\n```\n\n ```\nmove 1\ncharge_from_grid 2\n```\n\n  \u6b21\u3044\u3067\u3001\u30b8\u30e3\u30c3\u30b8\u5074\u304b\u3089\u6642\u523b $ 0 $ \u3067\u306e\u30c7\u30fc\u30bf\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002  \n 1 \u884c\u76ee: \u9802\u70b9 1 \u306b\u3042\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6642\u523b $ 0 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 10 $ \u3067\u3042\u308b(\u6642\u523b $ 0 $ \u306e\u5834\u5408\u3001\u6b8b\u308a\u306e $ 3 $ \u3064\u306e\u5024\u306f\u5fc5\u305a $ 0 $ \u3067\u3042\u308b)\u3002  \n 2 \u884c\u76ee: \u9802\u70b9 4 \u306b\u3042\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6642\u523b $ 0 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 10 $ \u3067\u3042\u308b(\u6642\u523b $ 0 $ \u306e\u5834\u5408\u3001\u6b8b\u308a\u306e $ 3 $ \u3064\u306e\u5024\u306f\u5fc5\u305a $ 0 $ \u3067\u3042\u308b)\u3002  \n \u6b21\u306e $ 3 $ \u884c ($ 3 $ - $ 5 $ \u884c\u76ee) \u306f\u3001EV $ 1 $ \u306e\u72b6\u614b\u3092\u8868\u3059\u3002  \n 3 \u884c\u76ee: EV $ 1 $ \u306e\u6642\u523b $ 0 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 5 $ \u3067\u3042\u308b\u3002  \n 4 \u884c\u76ee: EV $ 1 $ \u306f\u6642\u523b $ 0 $ \u306b\u304a\u3044\u3066\u9802\u70b9 $ 2 $ \u4e0a\u306b\u4f4d\u7f6e\u3059\u308b\u3002  \n 5 \u884c\u76ee: EV $ 1 $ \u304c `move` \u30b3\u30de\u30f3\u30c9\u3067\u305d\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u79fb\u52d5\u53ef\u80fd\u306a\u9802\u70b9\u306f $ N_{\\mathrm{adj},1}\\ =\\ 2 $ \u500b\u3042\u308a\u3001\u9802\u70b9 $ 1 $ \u304a\u3088\u3073\u9802\u70b9 $ 3 $ \u3067\u3042\u308b\u3002  \n \u6b21\u306e $ 3 $ \u884c ($ 6 $ - $ 8 $ \u884c\u76ee) \u306f\u3001EV $ 2 $ \u306e\u72b6\u614b\u3092\u8868\u3059\u3002  \n 6 \u884c\u76ee: EV $ 2 $ \u306e\u6642\u523b $ 0 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 5 $ \u3067\u3042\u308b\u3002  \n 7 \u884c\u76ee: EV $ 2 $ \u306f\u6642\u523b $ 0 $ \u306b\u304a\u3044\u3066\u9802\u70b9 $ 4 $ \u4e0a\u306b\u4f4d\u7f6e\u3059\u308b\u3002  \n 8 \u884c\u76ee: EV $ 2 $ \u304c `move` \u30b3\u30de\u30f3\u30c9\u3067\u305d\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u79fb\u52d5\u53ef\u80fd\u306a\u9802\u70b9\u306f $ N_{\\mathrm{adj},2}\\ =\\ 2 $ \u500b\u3042\u308a\u3001\u9802\u70b9 $ 1 $ \u304a\u3088\u3073\u9802\u70b9 $ 3 $ \u3067\u3042\u308b\u3002  \n \u3053\u308c\u306b\u5bfe\u3059\u308b\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306e\u51fa\u529b\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3042\u308b\u3002  \n 1 \u884c\u76ee: EV $ 1 $ \u3092\u9802\u70b9 $ 1 $ \u306e\u65b9\u5411\u3078\u79fb\u52d5\u3055\u305b\u3088\u3046\u3068\u3059\u308b\u3002EV $ 1 $ \u306e\u5145\u96fb\u304c $ 1 $ \u6d88\u8cbb\u3055\u308c\u308b\u304c\u3001\u84c4\u96fb\u91cf\u304c $ 1 $ \u4ee5\u4e0a\u3067\u3042\u3063\u305f\u305f\u3081\u79fb\u52d5\u306f\u6210\u529f\u3059\u308b\u3002\u9802\u70b9 $ 1 $ \u304b\u3089\u9802\u70b9 $ 2 $ \u3078\u306e\u8fba\u306e\u9577\u3055\u306f $ 1 $ \u3067\u3042\u308b\u306e\u3067\u3001\u6642\u523b $ 1 $ \u306b\u9802\u70b9 $ 2 $ \u3078\u79fb\u52d5\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u3002  \n 2 \u884c\u76ee: EV $ 2 $ \u306f\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u304b\u3089 $ 2 $ \u3060\u3051\u5145\u96fb\u3059\u308b\u3002EV $ 2 $ \u306f\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u4e0a\u306b\u3042\u308a\u3001\u5145\u96fb\u91cf\u306fEV $ 2 $ \u306e\u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6 $ 2 $ \u3092\u8d85\u3048\u306a\u3044\u3002\u307e\u305fEV $ 2 $ \u306e\u5145\u96fb\u5f8c\u306e\u84c4\u96fb\u91cf\u306f\u6700\u5927\u84c4\u96fb\u91cf $ 10 $ \u3092\u8d85\u3048\u306a\u3044\u3002\u3057\u305f\u304c\u3063\u3066\u52d5\u4f5c\u6761\u4ef6\u3092\u6e80\u305f\u3059\u306e\u3067\u3001\u6642\u523b $ 1 $ \u306b\u5145\u96fb\u91cf\u3092 $ 7 $ \u306b\u5897\u3084\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u3002  1 ```\n1 14 5 1 0\n4 6 -4 0 2\n4\n1 1 0 0\n2 2 4\n7\n4 4 0 0\n2 1 3\n```\n\n ```\nstay\ncharge_from_grid 2\n```\n\n  \u6b21\u3044\u3067\u3001\u30b8\u30e3\u30c3\u30b8\u5074\u304b\u3089\u6642\u523b $ 1 $ \u3067\u306e\u30c7\u30fc\u30bf\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002  \n 1 \u884c\u76ee: \u9802\u70b9 1 \u306b\u3042\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6642\u523b $ 1 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 14 $ \u3067\u3042\u308a\u3001\u524d\u6642\u523b $ t=0 $ \u306b\u304a\u3051\u308b\u5b9f\u969b\u306e\u96fb\u529b\u9700\u7d66\u3001\u4f59\u3063\u3066\u6368\u3066\u3089\u308c\u305f\u96fb\u6c17\u306e\u91cf\u3001\u96fb\u529b\u4e0d\u8db3\u3067\u7cfb\u7d71\u304b\u3089\u8cfc\u5165\u3057\u305f\u96fb\u6c17\u306e\u91cf\u304c\u305d\u308c\u305e\u308c $ 5,\\ 1,\\ 0 $ \u3067\u3042\u308b(\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6\u3092\u8d85\u3048\u308b\u5206\u306f\u6368\u3066\u3089\u308c\u308b)\u3002  \n 2 \u884c\u76ee: \u9802\u70b9 4 \u306b\u3042\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6642\u523b $ 1 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 6 $ \u3067\u3042\u308a\u3001\u524d\u6642\u523b $ t=0 $ \u306b\u304a\u3051\u308b\u5b9f\u969b\u306e\u96fb\u529b\u9700\u7d66\u3001\u4f59\u3063\u3066\u6368\u3066\u3089\u308c\u305f\u96fb\u6c17\u306e\u91cf\u3001\u96fb\u529b\u4e0d\u8db3\u3067\u7cfb\u7d71\u304b\u3089\u8cfc\u5165\u3057\u305f\u96fb\u6c17\u306e\u91cf\u304c\u305d\u308c\u305e\u308c $ -4,\\ 0,\\ 2 $ \u3067\u3042\u308b\u3002  \n \u6b21\u306e $ 3 $ \u884c ($ 3 $ - $ 5 $ \u884c\u76ee) \u306f\u3001EV $ 1 $ \u306e\u72b6\u614b\u3092\u8868\u3059\u3002  \n 3 \u884c\u76ee: EV $ 1 $ \u306e\u6642\u523b $ 1 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 4 $ \u3067\u3042\u308b\u3002  \n 4 \u884c\u76ee: EV $ 1 $ \u306f\u6642\u523b $ 1 $ \u306b\u304a\u3044\u3066\u9802\u70b9 $ 1 $ \u4e0a\u306b\u4f4d\u7f6e\u3059\u308b\u3002  \n 5 \u884c\u76ee: EV $ 1 $ \u304c `move` \u30b3\u30de\u30f3\u30c9\u3067\u305d\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u79fb\u52d5\u53ef\u80fd\u306a\u9802\u70b9\u306f $ N_{\\mathrm{adj},1}\\ =\\ 2 $ \u500b\u3042\u308a\u3001\u9802\u70b9 $ 2 $ \u304a\u3088\u3073\u9802\u70b9 $ 4 $ \u3067\u3042\u308b\u3002  \n \u6b21\u306e $ 3 $ \u884c ($ 6 $ - $ 8 $ \u884c\u76ee) \u306f\u3001EV $ 2 $ \u306e\u72b6\u614b\u3092\u8868\u3059\u3002  \n 6 \u884c\u76ee: EV $ 2 $ \u306e\u6642\u523b $ 1 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 7 $ \u3067\u3042\u308b\u3002  \n 7 \u884c\u76ee: EV $ 2 $ \u306f\u6642\u523b $ 1 $ \u306b\u304a\u3044\u3066\u9802\u70b9 $ 4 $ \u4e0a\u306b\u4f4d\u7f6e\u3059\u308b\u3002  \n 8 \u884c\u76ee: EV $ 2 $ \u304c `move` \u30b3\u30de\u30f3\u30c9\u3067\u305d\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u79fb\u52d5\u53ef\u80fd\u306a\u9802\u70b9\u306f $ N_{\\mathrm{adj},2}\\ =\\ 2 $ \u500b\u3042\u308a\u3001\u9802\u70b9 $ 1 $ \u304a\u3088\u3073\u9802\u70b9 $ 3 $ \u3067\u3042\u308b\u3002  \n \u3053\u308c\u306b\u5bfe\u3059\u308b\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306e\u51fa\u529b\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3042\u308b\u3002  \n 1 \u884c\u76ee: EV $ 1 $ \u306f\u305d\u306e\u5834\u306b\u3068\u3069\u307e\u308b  \n 2 \u884c\u76ee: EV $ 2 $ \u306f\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u304b\u3089 $ 2 $ \u3060\u3051\u5145\u96fb\u3059\u308b\u3002EV $ 2 $ \u306f\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u4e0a\u306b\u3042\u308a\u3001\u5145\u96fb\u91cf\u306fEV $ 2 $ \u306e\u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6 $ 2 $ \u3092\u8d85\u3048\u306a\u3044\u3002\u307e\u305fEV $ 2 $ \u306e\u5145\u96fb\u5f8c\u306e\u84c4\u96fb\u91cf\u306f\u6700\u5927\u84c4\u96fb\u91cf $ 10 $ \u3092\u8d85\u3048\u306a\u3044\u3002\u3057\u305f\u304c\u3063\u3066\u52d5\u4f5c\u6761\u4ef6\u3092\u6e80\u305f\u3059\u306e\u3067\u3001\u6642\u523b $ 2 $ \u306b\u5145\u96fb\u91cf\u3092 $ 9 $ \u306b\u5897\u3084\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u3002  2 ```\n1 18 5 1 0 \n4 2 -4 0 2\n4\n1 1 0 0\n2 2 4\n9\n4 4 0 0\n2 1 3\n```\n\n ```\nmove 4\ncharge_to_grid 2\n```\n\n  \u6b21\u3044\u3067\u3001\u30b8\u30e3\u30c3\u30b8\u5074\u304b\u3089\u6642\u523b $ 2 $ \u3067\u306e\u30c7\u30fc\u30bf\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002  \n 1 \u884c\u76ee: \u9802\u70b9 1 \u306b\u3042\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6642\u523b $ 2 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 18 $ \u3067\u3042\u308a\u3001\u524d\u6642\u523b $ t=1 $ \u306b\u304a\u3051\u308b\u5b9f\u969b\u306e\u96fb\u529b\u9700\u7d66\u3001\u4f59\u3063\u3066\u6368\u3066\u3089\u308c\u305f\u96fb\u6c17\u306e\u91cf\u3001\u96fb\u529b\u4e0d\u8db3\u3067\u7cfb\u7d71\u304b\u3089\u8cfc\u5165\u3057\u305f\u96fb\u6c17\u306e\u91cf\u304c\u305d\u308c\u305e\u308c $ 5,\\ 1,\\ 0 $ \u3067\u3042\u308b\u3002  \n 2 \u884c\u76ee: \u9802\u70b9 4 \u306b\u3042\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6642\u523b $ 2 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 2 $ \u3067\u3042\u308a\u3001\u524d\u6642\u523b $ t=1 $ \u306b\u304a\u3051\u308b\u5b9f\u969b\u306e\u96fb\u529b\u9700\u7d66\u3001\u4f59\u3063\u3066\u6368\u3066\u3089\u308c\u305f\u96fb\u6c17\u306e\u91cf\u3001\u96fb\u529b\u4e0d\u8db3\u3067\u7cfb\u7d71\u304b\u3089\u8cfc\u5165\u3057\u305f\u96fb\u6c17\u306e\u91cf\u304c\u305d\u308c\u305e\u308c $ -4,\\ 0,\\ 2 $ \u3067\u3042\u308b\u3002  \n \u6b21\u306e $ 3 $ \u884c ($ 3 $ - $ 5 $ \u884c\u76ee) \u306f\u3001EV $ 1 $ \u306e\u72b6\u614b\u3092\u8868\u3059\u3002  \n 3 \u884c\u76ee: EV $ 1 $ \u306e\u6642\u523b $ 2 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 4 $ \u3067\u3042\u308b\u3002  \n 4 \u884c\u76ee: EV $ 1 $ \u306f\u6642\u523b $ 2 $ \u306b\u304a\u3044\u3066\u9802\u70b9 $ 1 $ \u4e0a\u306b\u4f4d\u7f6e\u3059\u308b\u3002  \n 5 \u884c\u76ee: EV $ 1 $ \u304c `move` \u30b3\u30de\u30f3\u30c9\u3067\u305d\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u79fb\u52d5\u53ef\u80fd\u306a\u9802\u70b9\u306f $ N_{\\mathrm{adj},1}\\ =\\ 2 $ \u500b\u3042\u308a\u3001\u9802\u70b9 $ 2 $ \u304a\u3088\u3073\u9802\u70b9 $ 4 $ \u3067\u3042\u308b\u3002  \n \u6b21\u306e $ 3 $ \u884c ($ 6 $ - $ 8 $ \u884c\u76ee) \u306f\u3001EV $ 2 $ \u306e\u72b6\u614b\u3092\u8868\u3059\u3002  \n 6 \u884c\u76ee: EV $ 2 $ \u306e\u6642\u523b $ 2 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 9 $ \u3067\u3042\u308b\u3002  \n 7 \u884c\u76ee: EV $ 2 $ \u306f\u6642\u523b $ 2 $ \u306b\u304a\u3044\u3066\u9802\u70b9 $ 4 $ \u4e0a\u306b\u4f4d\u7f6e\u3059\u308b\u3002  \n 8 \u884c\u76ee: EV $ 2 $ \u304c `move` \u30b3\u30de\u30f3\u30c9\u3067\u305d\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u79fb\u52d5\u53ef\u80fd\u306a\u9802\u70b9\u306f $ N_{\\mathrm{adj},2}\\ =\\ 2 $ \u500b\u3042\u308a\u3001\u9802\u70b9 $ 1 $ \u304a\u3088\u3073\u9802\u70b9 $ 3 $ \u3067\u3042\u308b\u3002  \n \u3053\u308c\u306b\u5bfe\u3059\u308b\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306e\u51fa\u529b\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3042\u308b\u3002  \n 1 \u884c\u76ee: EV $ 1 $ \u3092\u9802\u70b9 $ 4 $ \u306e\u65b9\u5411\u3078\u79fb\u52d5\u3055\u305b\u3088\u3046\u3068\u3059\u308b\u3002EV $ 1 $ \u306e\u5145\u96fb\u304c $ 1 $ \u6d88\u8cbb\u3055\u308c\u308b\u304c\u3001\u84c4\u96fb\u91cf\u304c $ 1 $ \u4ee5\u4e0a\u3067\u3042\u3063\u305f\u305f\u3081\u79fb\u52d5\u306f\u6210\u529f\u3059\u308b\u3002\u9802\u70b9 $ 1 $ \u304b\u3089\u9802\u70b9 $ 4 $ \u3078\u306e\u8fba\u306e\u9577\u3055\u306f $ 1 $ \u3067\u3042\u308b\u306e\u3067\u3001\u6642\u523b $ 3 $ \u306b\u9802\u70b9 $ 4 $ \u3078\u79fb\u52d5\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u3002  \n 2 \u884c\u76ee: EV $ 2 $ \u306f\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u3078 $ 2 $ \u3060\u3051\u653e\u96fb\u3059\u308b\u3002EV $ 2 $ \u306f\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u4e0a\u306b\u3042\u308a\u3001\u653e\u96fb\u91cf\u306fEV $ 2 $ \u306e\u4e0a\u9650\u5145\u653e\u96fb\u901f\u5ea6 $ 2 $ \u3092\u8d85\u3048\u306a\u3044\u3002\u307e\u305fEV $ 2 $ \u306e\u653e\u96fb\u5f8c\u306e\u84c4\u96fb\u91cf\u306f $ 0 $ \u4e0b\u56de\u3089\u306a\u3044\u3002\u3057\u305f\u304c\u3063\u3066\u52d5\u4f5c\u6761\u4ef6\u3092\u6e80\u305f\u3059\u306e\u3067\u3001\u6642\u523b $ 3 $ \u306b\u5145\u96fb\u91cf\u306f $ 7 $ \u306b\u6e1b\u308b\u3053\u3068\u306b\u306a\u308b\u3002  3 ```\n1 17 -1 0 0\n4 6 3 1 0\n3\n4 4 0 0\n2 1 3\n7\n4 4 0 0\n2 1 3\n```\n\n ```\nstay\nmove 1\n```\n\n  \u6b21\u3044\u3067\u3001\u30b8\u30e3\u30c3\u30b8\u5074\u304b\u3089\u6642\u523b $ 3 $ \u3067\u306e\u30c7\u30fc\u30bf\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002  \n 1 \u884c\u76ee: \u9802\u70b9 1 \u306b\u3042\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6642\u523b $ 3 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 17 $ \u3067\u3042\u308a\u3001\u524d\u6642\u523b $ t=2 $ \u306b\u304a\u3051\u308b\u5b9f\u969b\u306e\u96fb\u529b\u9700\u7d66\u3001\u4f59\u3063\u3066\u6368\u3066\u3089\u308c\u305f\u96fb\u6c17\u306e\u91cf\u3001\u96fb\u529b\u4e0d\u8db3\u3067\u7cfb\u7d71\u304b\u3089\u8cfc\u5165\u3057\u305f\u96fb\u6c17\u306e\u91cf\u304c\u305d\u308c\u305e\u308c $ -1,\\ 0,\\ 0 $ \u3067\u3042\u308b(\u96fb\u529b\u9700\u7d66\u306e\u4e88\u6e2c\u5024\u306f $ -2 $ \u3060\u304c\u3086\u3089\u304e\u306b\u3088\u308a\u5b9f\u969b\u306e\u5024\u306f $ -1 $ \u3068\u306a\u3063\u305f)\u3002  \n 2 \u884c\u76ee: \u9802\u70b9 4 \u306b\u3042\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6642\u523b $ 3 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 6 $ \u3067\u3042\u308a\u3001\u524d\u6642\u523b $ t=2 $ \u306b\u304a\u3051\u308b\u5b9f\u969b\u306e\u96fb\u529b\u9700\u7d66\u3001\u4f59\u3063\u3066\u6368\u3066\u3089\u308c\u305f\u96fb\u6c17\u306e\u91cf\u3001\u96fb\u529b\u4e0d\u8db3\u3067\u7cfb\u7d71\u304b\u3089\u8cfc\u5165\u3057\u305f\u96fb\u6c17\u306e\u91cf\u304c\u305d\u308c\u305e\u308c $ 3,\\ 1,\\ 0 $ \u3067\u3042\u308b\u3002(\u96fb\u529b\u9700\u7d66\u306e\u4e88\u6e2c\u5024\u306f $ 4 $ \u3060\u304c\u3086\u3089\u304e\u306b\u3088\u308a\u5b9f\u969b\u306e\u5024\u306f $ 3 $ \u3068\u306a\u3063\u305f)\u3002  \n \u6b21\u306e $ 3 $ \u884c ($ 3 $ - $ 5 $ \u884c\u76ee) \u306f\u3001EV $ 1 $ \u306e\u72b6\u614b\u3092\u8868\u3059\u3002  \n 3 \u884c\u76ee: EV $ 1 $ \u306e\u6642\u523b $ 3 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 3 $ \u3067\u3042\u308b\u3002  \n 4 \u884c\u76ee: EV $ 1 $ \u306f\u6642\u523b $ 3 $ \u306b\u304a\u3044\u3066\u9802\u70b9 $ 4 $ \u4e0a\u306b\u4f4d\u7f6e\u3059\u308b\u3002  \n 5 \u884c\u76ee: EV $ 1 $ \u304c `move` \u30b3\u30de\u30f3\u30c9\u3067\u305d\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u79fb\u52d5\u53ef\u80fd\u306a\u9802\u70b9\u306f $ N_{\\mathrm{adj},1}\\ =\\ 2 $ \u500b\u3042\u308a\u3001\u9802\u70b9 $ 1 $ \u304a\u3088\u3073\u9802\u70b9 $ 3 $ \u3067\u3042\u308b\u3002  \n \u6b21\u306e $ 3 $ \u884c ($ 6 $ - $ 8 $ \u884c\u76ee) \u306f\u3001EV $ 2 $ \u306e\u72b6\u614b\u3092\u8868\u3059\u3002  \n 6 \u884c\u76ee: EV $ 2 $ \u306e\u6642\u523b $ 3 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 7 $ \u3067\u3042\u308b\u3002  \n 7 \u884c\u76ee: EV $ 2 $ \u306f\u6642\u523b $ 3 $ \u306b\u304a\u3044\u3066\u9802\u70b9 $ 4 $ \u4e0a\u306b\u4f4d\u7f6e\u3059\u308b\u3002  \n 8 \u884c\u76ee: EV $ 2 $ \u304c `move` \u30b3\u30de\u30f3\u30c9\u3067\u305d\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u79fb\u52d5\u53ef\u80fd\u306a\u9802\u70b9\u306f $ N_{\\mathrm{adj},2}\\ =\\ 2 $ \u500b\u3042\u308a\u3001\u9802\u70b9 $ 1 $ \u304a\u3088\u3073\u9802\u70b9 $ 3 $ \u3067\u3042\u308b\u3002  \n \u3053\u308c\u306b\u5bfe\u3059\u308b\u30b3\u30f3\u30c6\u30b9\u30bf\u30f3\u30c8\u306e\u51fa\u529b\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3042\u308b\u3002  \n 1 \u884c\u76ee: EV $ 1 $ \u306f\u305d\u306e\u5834\u306b\u3068\u3069\u307e\u308b  \n 2 \u884c\u76ee: EV $ 2 $ \u3092\u9802\u70b9 $ 1 $ \u306e\u65b9\u5411\u3078\u79fb\u52d5\u3055\u305b\u3088\u3046\u3068\u3059\u308b\u3002EV $ 1 $ \u306e\u5145\u96fb\u304c $ 1 $ \u6d88\u8cbb\u3055\u308c\u308b\u304c\u3001\u84c4\u96fb\u91cf\u304c $ 1 $ \u4ee5\u4e0a\u3067\u3042\u3063\u305f\u305f\u3081\u79fb\u52d5\u306f\u6210\u529f\u3059\u308b\u3002\u9802\u70b9 $ 4 $ \u304b\u3089\u9802\u70b9 $ 1 $ \u3078\u306e\u8fba\u306e\u9577\u3055\u306f $ 1 $ \u3067\u3042\u308b\u306e\u3067\u3001\u6642\u523b $ 4 $ \u306b\u9802\u70b9 $ 1 $ \u3078\u79fb\u52d5\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3042\u308b\u3002  4 ```\n1 15 -2 0 0\n4 10 5 1 0\n3\n4 4 0 0\n2 1 3\n6\n1 1 0 0\n2 2 4\n3000032.0\n```\n\n   \u6700\u5f8c\u306b\u3001\u30b8\u30e3\u30c3\u30b8\u5074\u304b\u3089\u6642\u523b $ 4 $ \u3067\u306e\u30c7\u30fc\u30bf\u304c\u4e0e\u3048\u3089\u308c\u308b\u3002  \n 1 \u884c\u76ee: \u9802\u70b9 1 \u306b\u3042\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6642\u523b $ 4 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 15 $ \u3067\u3042\u308a\u3001\u524d\u6642\u523b $ t=3 $ \u306b\u304a\u3051\u308b\u5b9f\u969b\u306e\u96fb\u529b\u9700\u7d66\u3001\u4f59\u3063\u3066\u6368\u3066\u3089\u308c\u305f\u96fb\u6c17\u306e\u91cf\u3001\u96fb\u529b\u4e0d\u8db3\u3067\u7cfb\u7d71\u304b\u3089\u8cfc\u5165\u3057\u305f\u96fb\u6c17\u306e\u91cf\u304c\u305d\u308c\u305e\u308c $ -2,\\ 0,\\ 0 $ \u3067\u3042\u308b\u3002  \n 2 \u884c\u76ee: \u9802\u70b9 4 \u306b\u3042\u308b\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u306e\u6642\u523b $ 4 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 10 $ \u3067\u3042\u308a\u3001\u524d\u6642\u523b $ t=3 $ \u306b\u304a\u3051\u308b\u5b9f\u969b\u306e\u96fb\u529b\u9700\u7d66\u3001\u4f59\u3063\u3066\u6368\u3066\u3089\u308c\u305f\u96fb\u6c17\u306e\u91cf\u3001\u96fb\u529b\u4e0d\u8db3\u3067\u7cfb\u7d71\u304b\u3089\u8cfc\u5165\u3057\u305f\u96fb\u6c17\u306e\u91cf\u304c\u305d\u308c\u305e\u308c $ 5,\\ 1,\\ 0 $ \u3067\u3042\u308b(\u96fb\u529b\u9700\u7d66\u306e\u4e88\u6e2c\u5024\u306f $ 4 $ \u3060\u304c\u3086\u3089\u304e\u306b\u3088\u308a\u5b9f\u969b\u306e\u5024\u306f $ 5 $ \u3068\u306a\u3063\u305f)\u3002  \n \u6b21\u306e $ 3 $ \u884c ($ 3 $ - $ 5 $ \u884c\u76ee) \u306f\u3001EV $ 1 $ \u306e\u72b6\u614b\u3092\u8868\u3059\u3002  \n 3 \u884c\u76ee: EV $ 1 $ \u306e\u6642\u523b $ 4 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 3 $ \u3067\u3042\u308b\u3002  \n 4 \u884c\u76ee: EV $ 1 $ \u306f\u6642\u523b $ 4 $ \u306b\u304a\u3044\u3066\u9802\u70b9 $ 4 $ \u4e0a\u306b\u4f4d\u7f6e\u3059\u308b\u3002  \n 5 \u884c\u76ee: EV $ 1 $ \u304c `move` \u30b3\u30de\u30f3\u30c9\u3067\u305d\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u79fb\u52d5\u53ef\u80fd\u306a\u9802\u70b9\u306f $ N_{\\mathrm{adj},1}\\ =\\ 2 $ \u500b\u3042\u308a\u3001\u9802\u70b9 $ 1 $ \u304a\u3088\u3073\u9802\u70b9 $ 3 $ \u3067\u3042\u308b\u3002  \n \u6b21\u306e $ 3 $ \u884c ($ 6 $ - $ 8 $ \u884c\u76ee) \u306f\u3001EV $ 2 $ \u306e\u72b6\u614b\u3092\u8868\u3059\u3002  \n 6 \u884c\u76ee: EV $ 2 $ \u306e\u6642\u523b $ 4 $ \u3067\u306e\u84c4\u96fb\u91cf\u306f $ 6 $ \u3067\u3042\u308b\u3002  \n 7 \u884c\u76ee: EV $ 2 $ \u306f\u6642\u523b $ 4 $ \u306b\u304a\u3044\u3066\u9802\u70b9 $ 1 $ \u4e0a\u306b\u4f4d\u7f6e\u3059\u308b\u3002  \n 8 \u884c\u76ee: EV $ 2 $ \u304c `move` \u30b3\u30de\u30f3\u30c9\u3067\u305d\u306e\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u79fb\u52d5\u53ef\u80fd\u306a\u9802\u70b9\u306f $ N_{\\mathrm{adj},2}\\ =\\ 2 $ \u500b\u3042\u308a\u3001\u9802\u70b9 $ 2 $ \u304a\u3088\u3073\u9802\u70b9 $ 4 $ \u3067\u3042\u308b\u3002  \n \u6b21\u306e $ 1 $ \u884c ($ 9 $ \u884c\u76ee) \u306f\u3001\u30b9\u30b3\u30a2\u3092\u8868\u3059\u3002  \n 9 \u884c\u76ee: \u30b9\u30b3\u30a2\u306f $ 3000032.0 $ \u3068\u306a\u308b\u3002  \n \u8a08\u7b97\u65b9\u6cd5: EV $ 2 $ \u53f0\u306e\u6700\u7d42\u6642\u523b\u306e\u84c4\u96fb\u91cf\u304c\u305d\u308c\u305e\u308c $ 3 $\u3001$ 6 $ \u3067\u3042\u308a\u3001\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9 $ 2 $ \u7b87\u6240\u306e\u6700\u7d42\u6642\u523b\u306e\u84c4\u96fb\u91cf\u304c\u305d\u308c\u305e\u308c $ 15 $\u3001$ 10 $ \u3067\u3042\u308b\u305f\u3081\u3001\u7dcf\u6b8b\u96fb\u529b\u306f $ 34 $ \u3068\u306a\u308b\u3002\u307e\u305f\u3001\u7cfb\u7d71\u304b\u3089\u306e\u8cfc\u5165\u96fb\u529b\u91cf\u304c\u5408\u8a08\u3067 $ 4 $ (\u9802\u70b9 $ 4 $ \u306e\u30ca\u30ce\u30b0\u30ea\u30c3\u30c9\u304c\u6642\u523b $ 0 $ \u3068 $ 1 $ \u3067\u305d\u308c\u305e\u308c $ 2 $ \u305a\u3064\u8cfc\u5165)\u306a\u306e\u3067\u3001\u88dc\u6b63\u3092\u9664\u3044\u305f\u30b9\u30b3\u30a2\u306f $ 34-0.5\\ \\times\\ 4=32.0 $ \u3068\u306a\u308b\u3002\u88dc\u6b63\u3082\u542b\u3081\u305f\u30b9\u30b3\u30a2\u306f $ 3000032.0 $ \u3068\u306a\u308b\u3002  \u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9 A \n-----------\n\n\u554f\u984cA\u306e\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u4e00\u5f0f\u306f[\u3053\u3053](https://img.atcoder.jp/hokudai-hitachi2020/01432768d288b809f469d88ea607e394.zip)\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002  \n \u3053\u306e\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3092\u7528\u3044\u3066\u3001\u624b\u5143\u306e\u74b0\u5883\u3067\u5165\u529b\u30b5\u30f3\u30d7\u30eb(\u30c6\u30b9\u30c8\u30b1\u30fc\u30b9)\u306e\u751f\u6210\u3084\u3001\u30b8\u30e3\u30c3\u30b8\u306e\u5b9f\u884c\u304c\u53ef\u80fd\u3067\u3059\u3002\u307e\u305f\u3001\u30d3\u30ae\u30ca\u30fc\u5411\u3051\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3082\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002  \n**\u5c0f\u3055\u306a\u30d0\u30b0\u304c\u898b\u3064\u304b\u3063\u305f\u305f\u3081\u3001\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3092\u4fee\u6b63\u3057\u307e\u3057\u305f(12/18)\u3002**  \n**windows\u3067\u3082\u5229\u7528\u53ef\u80fd\u306a\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3092\u516c\u958b\u3057\u307e\u3057\u305f(Cygwin,WSL\u3067\u52d5\u4f5c\u78ba\u8a8d\u6e08)\u3002\u5408\u308f\u305b\u3066\u82f1\u8a9e\u7248\u306eREADME(short ver.)\u3082\u8ffd\u52a0\u3057\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u8fba\u6570\u306e\u5236\u7d04\u306b\u95a2\u3059\u308b\u30d0\u30b0\u306e\u4fee\u6b63\u3092\u3057\u3066\u3044\u307e\u3059\u3002(12/18)**  \n**\u82f1\u8a9e\u7248\u306eREADME(full ver.)\u3092\u516c\u958b\u3057\u307e\u3057\u305f\u3002\u307e\u305f\u3001\u65e5\u672c\u8a9e\u7248\u306eREADME\u306e\u7d30\u304b\u306a\u8aa4\u308a\u3092\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002(12/21)**  \n**\u30b8\u30e3\u30c3\u30b8\u30b7\u30b9\u30c6\u30e0\u306e\u4fee\u6b63(python\u7b49\u6295\u7a3f\u5bfe\u5fdc)\u306b\u5408\u308f\u305b\u3066\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3092\u4fee\u6b63\u3057\u307e\u3057\u305f\u3002\u307e\u305f\u3001Python\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u3082\u540c\u68b1\u3057\u307e\u3057\u305f\u3002\u4f7f\u3044\u65b9\u306fREADME\u3092\u5fa1\u89a7\u304f\u3060\u3055\u3044\u3002(1/6)**  \n**\u30c4\u30fc\u30eb\u30ad\u30c3\u30c8\u3092\u4fee\u6b63\u3057\u307e\u3057\u305f(DEBUG\\_LEVEL\u306b\u95a2\u3059\u308b\u4fee\u6b63\u306a\u3069)\u3002\u307e\u305f\u3001\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9\u306e\u5fae\u4fee\u6b63\u3082\u884c\u3044\u307e\u3057\u305f\u3002(1/12)**\n\n- \u5165\u529b\u30b5\u30f3\u30d7\u30eb\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\n- \u30c6\u30b9\u30bf\u30fc\n- \u30d3\u30ad\u30ca\u30fc\u5411\u3051\u306e\u30b5\u30f3\u30d7\u30eb\u30b3\u30fc\u30c9"
}