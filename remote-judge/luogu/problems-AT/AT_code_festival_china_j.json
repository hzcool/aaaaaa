{
    "description": "[problemUrl]: https://atcoder.jp/contests/code-festival-2014-china-open/tasks/code_festival_china_j\n\n",
    "inputFormat": "> $ N $ $ Q $ $ A_1 $ $ A_2 $ ... $ A_N $ $ l'_1 $ $ r'_1 $ $ l'_2 $ $ r'_2 $ : $ l'_Q $ $ r'_Q $\n\n- On the first line, you will be given two integers $ N $ ($ 2\\ \\leq\\ N\\ \\leq\\ 10^5 $), $ Q $ ($ 1\\ \\leq\\ Q\\ \\leq\\ 10^5 $) separated by space, the number of elements in the array $ A $ and the number of queries respectively.\n- On the second line, you will be given $ N $ integers separated by space. The $ i $-th ($ 1\\ \\leq\\ i\\ \\leq\\ N $) integer is $ A_i $ ($ 0\\ \\leq\\ A_i\\ <\\ 2^{31} $).\n- Following $ Q $ lines are the information of the query. The $ j $-th ($ 1\\ \\leq\\ j\\ \\leq\\ Q $) line contains $ 2 $ integers $ l'_j $ ($ 1\\ \\leq\\ l'_j\\ \\leq\\ N $), $ r'_j $ ($ 1\\ \\leq\\ r'_j\\ \\leq\\ N $) separated by space.\n\nCalculate $ l_j $, $ r_j $, the exact integers in the query as following.\n\n- $ l_1\\ =\\ l'_1 $, $ r_1\\ =\\ r'_1 $\n- For all $ j $ that satisfies $ 2\\ \u2266\\ j\\ \u2266\\ Q $, let $ m_{j\\ -\\ 1} $ be the answer to the $ (j\\ -\\ 1) $-th query. \n  - $ l_j\\ =\\ ((l'_j\\ +\\ \\|m_{j\\ -\\ 1}\\|) $$ \\rm{\\ MOD\\ } $$ N)\\ +\\ 1 $\n  - $ r_j\\ =\\ ((r'_j\\ +\\ \\|m_{j\\ -\\ 1}\\|) $$ \\rm{\\ MOD\\ } $$ N)\\ +\\ 1 $\n\nNote that each answer may be a negative number that the absolute value of $ m_{j\\ -\\ 1} $ is used to obtain $ l_j $ and $ r_j $. It is guaranteed that $ 1\\ \\leq\\ l_j\\ <\\ r_j\\ \\leq\\ N $ holds.",
    "outputFormat": "Output $ Q $ lines. The $ j $-th ($ 1\\ \\leq\\ j\\ \\leq\\ Q $) line should contain the answer to the $ j $-th query. Make sure to insert a line break at the end of the output.",
    "samples": [
        [
            "7 4\r\n7 3 5 4 6 3 1\r\n2 5\r\n2 5\r\n3 4\r\n5 1",
            "-1\r\n2\r\n2\r\n5"
        ],
        [
            "20 30\r\n1 4 3 6 9 9 6 7 5 3 5 4 9 4 1 2 14 5 11 1\r\n14 18\r\n4 15\r\n2 10\r\n3 13\r\n20 15\r\n7 12\r\n18 10\r\n9 15\r\n20 12\r\n5 7\r\n6 10\r\n8 12\r\n4 14\r\n17 11\r\n15 16\r\n17 7\r\n20 13\r\n8 9\r\n14 17\r\n13 16\r\n5 6\r\n4 11\r\n5 7\r\n4 6\r\n12 16\r\n16 15\r\n13 16\r\n2 7\r\n8 15\r\n10 16",
            "-4\r\n-1\r\n0\r\n-2\r\n-1\r\n-4\r\n-1\r\n4\r\n3\r\n-1\r\n3\r\n-2\r\n6\r\n3\r\n10\r\n5\r\n1\r\n-2\r\n-1\r\n-5\r\n1\r\n-6\r\n-4\r\n-1\r\n-4\r\n0\r\n-9\r\n4\r\n3\r\n2"
        ]
    ],
    "hint": "### Problem\n\nYu loves bitwise AND operation and big number. Yu's friend Yihuo loves bitwise XOR operation and small number. They are good friends that whenever someone sends them an array of numbers as a gift, they share the numbers with each other.\n\n For an array of non-negative integers $ p_1,\\ p_2,\\ ...,\\ p_k $, let $ D $ be the result of bitwise AND between all numbers in the array ($ p_1 $$ \\rm{\\ AND\\ } $$ p_2 $$ \\rm{\\ AND\\ } $$ ... $$ \\rm{\\ AND\\ } $$ p_k $), and let $ X $ be the result of bitwise XOR between all numbers in the array ($ p_1 $$ \\rm{\\ XOR\\ } $$ p_2 $$ \\rm{\\ XOR\\ } $$ ... $$ \\rm{\\ XOR\\ } $$ p_k $). Yu's satisfaction value for $ p_1,\\ p_2,\\ ...,\\ p_k $ is $ D $, Yihuo's satisfaction value for the same array of numbers is **$ -X $** (Note that Yihuo loves small number. The less $ X $ is, the more Yihuo satisfies.)\n\nWhenever they receive an array of non-negative integer $ p_1,\\ p_2,\\ ...,\\ p_k $ as a gift, they cut the array in the middle and Yu gets the former part, Yihuo gets the latter part. The place they cut the array is determined to maximize the sum of each satisfaction value for the array each get. To say more precisely, they cut the array at after the $ i $-th number within $ 1\\ \\leq\\ i\\ <\\ k $, which maximizes the sum of Yu's satisfaction value for $ p_1,\\ p_2,\\ ...,\\ p_i $ and Yihuo's satisfaction value for $ p_{i+1},\\ p_{i+2},\\ ...,\\ p_k $.\n\nYou will be given a $ N $ elements non-negative integer array $ A $ and $ Q $ numbers of query. The $ j $-th query asks \"How much is the sum of their satisfaction value when we give $ A_{l_j},\\ A_{l_j+1},\\ ...,\\ A_{r_j} $ to Yu and Yihuo\". Your task is to answer all queries in the given order.\n\nNote that each query is described by $ 2 $ integers $ l_j,\\ r_j $ ($ 1\\ \\leq\\ l_j\\ <\\ r_j\\ \\leq\\ N $), but those integers are not given directly. You must calculate those $ 2 $ integers from the last query's answer as described in the Input section. This means that you must calculate the answer of queries in the given order.\n\n### Sample Explanation 1\n\nThe answer to each query is as following. - For the first query, $ l_1\\ =\\ 2 $, $ r_1\\ =\\ 5 $. The array of numbers $ 3,\\ 5,\\ 4,\\ 6 $ will be separated to $ 3,\\ 5 $ and $ 4,\\ 6 $, which provides Yu's satisfaction value $ 3 $ AND $ 5\\ =\\ 1 $, Yihuo's satisfaction value $ -(4 $ XOR $ 6)\\ =\\ -2 $, summed up to $ -1 $. - For the second query, $ l_2\\ =\\ (2\\ +\\ \\|-1\\|) $ MOD $ 7\\ +\\ 1\\ =\\ 4 $, $ r_2\\ =\\ (5\\ +\\ \\|-1\\|) $ MOD $ 7\\ +\\ 1\\ =\\ 7 $. The array $ 4,\\ 6,\\ 3,\\ 1 $ will be separated to $ 4,\\ 6 $ and $ 3,\\ 1 $, which provides Yu's satisfaction value $ 4 $ AND $ 6\\ =\\ 4 $ and Yihuo's satisfaction value $ -(3 $ XOR $ 1)\\ =\\ -2 $, summed up to $ 2 $. - For the third query, $ l_3\\ =\\ (3\\ +\\ \\|2\\|) $ MOD $ 7\\ +\\ 1\\ =\\ 6 $, $ r_3\\ =\\ (4\\ +\\ \\|2\\|) $ MOD $ 7\\ +\\ 1\\ =\\ 7 $. The array $ 3,\\ 1 $ can only be separated to $ 3 $ and $ 1 $, which provides Yu's satisfaction value $ 3 $ and Yihuo's satisfaction value $ -1 $, summed up to $ 2 $. - For the fourth query, $ l_4\\ =\\ (5\\ +\\ \\|2\\|) $ MOD $ 7\\ +\\ 1\\ =\\ 1 $, $ r_4\\ =\\ (1\\ +\\ \\|2\\|) $ MOD $ 7\\ +\\ 1\\ =\\ 4 $. The array $ 7,\\ 3,\\ 5,\\ 4 $ will be separated to $ 7 $ and $ 3,\\ 5,\\ 4 $, which provides Yu's satisfaction value $ 7 $ and Yihuo's satisfaction value $ -(3 $ XOR $ 5 $ XOR $ 4)\\ =\\ -2 $, summed up to $ 5 $.\n\n### Sample Explanation 2\n\nThe $ l_i $, $ r_i $ for each query is as following. ``` 14 18 9 20 4 12 4 14 3 18 9 14 3 15 11 17 5 17 9 11 8 12 12 16 7 17 4 18 19 20 8 18 6 19 10 11 17 20 15 18 11 12 6 13 12 14 9 11 14 18 1 20 14 17 12 17 13 20 14 20 ```",
    "translation": "\u5bf9\u4e8e\u4e00\u5217\u975e\u8d1f\u6574\u6570$p_1,p_2,p_3,\\cdots,p_k$\uff0c\u8bb0$D$\u662f\u5176\u6240\u6709\u6570\u201c\u4e0e\u201d\u8d77\u6765\u7684\u7ed3\u679c\uff0c$X$\u662f\u6240\u6709\u6570\u201c\u5f02\u6216\u201d\u8d77\u6765\u7684\u503c\u3002\r\n\r\n\u7ed9\u5b9a$N$\u4e2a\u6574\u6570\u7684\u5e8f\u5217$A_i$\uff0c$Q$\u4e2a\u8be2\u95ee\uff0c\u6bcf\u4e2a\u8be2\u95ee\u5982$l'_j,r'_j(1\\le l_j < r_j \\le N)$\uff0c\u56de\u7b54\u5bf9\u4e8e\u6bcf\u6b21\u7684\u5e8f\u5217$A_i(i\\in[l_j,r_j])$\uff0c\u4ece\u5176\u4e2d\u7684\u67d0\u4e2a\u4f4d\u7f6e$v$\u5206\u6210\u4e24\u90e8\u5206$A_{i_1}(i_1\\in[l_j,v]),A_{i_2}(i_2\\in[v+1,r_j])$\uff0c\u6c42$A_{i_1}$\u7684$D$\u7684\u6700\u5927\u503c\u548c$A_{i_2}$\u7684$X$\u7684\u6700\u5927\u503c\u7684\u548c\u3002\r\n\r\n**\u672c\u9898\u5f3a\u5236\u5728\u7ebf**\uff0c\u6bcf\u6b21\u7684\u8be2\u95ee\u90fd\u7531\u5982\u4e0b\u65b9\u5f0f\u751f\u6210\uff1a\r\n\r\n- $l_1=l_1',r_1=r_1'$\r\n\r\n- $\\forall j\\in[2,Q],l_j=[(l_j'+|m_{j-1}|)\\mod N]+1$,$r_j=[(r_j'+|m_{j-1}|)\\mod N]+1$\r\n\r\n\u5176\u4e2d$|m_{j-1}|$ \u662f\u4e0a\u6b21\u8be2\u95ee\u7684\u7b54\u6848\u7684\u7edd\u5bf9\u503c\u3002"
}