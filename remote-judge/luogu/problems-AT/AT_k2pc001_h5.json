{
    "description": "[problemUrl]: https://atcoder.jp/contests/k2pc-hard/tasks/k2pc001_h5\n\n kagamiz\u306f, \u30cf\u30c3\u30b7\u30e5\u306b\u3064\u3044\u3066\u52c9\u5f37\u3092\u3057\u3066\u3044\u308b.  \n kagamiz\u306f\u30ed\u30fc\u30ea\u30f3\u30b0\u30cf\u30c3\u30b7\u30e5\u306b\u3064\u3044\u3066\u87fb\u672c\u3067\u5b66\u3073, \u30cf\u30c3\u30b7\u30f3\u30b0\u304c\u6587\u5b57\u5217\u63a2\u7d22\u306b\u6709\u52b9\u306a\u624b\u6cd5\u3060\u3068\u3044\u3046\u3053\u3068\u3092\u77e5\u3063\u305f.\n\n \u305d\u3053\u3067, kagamiz\u306f, \u4efb\u610f\u306e\u591a\u91cd\u96c6\u5408\u306b\u3064\u3044\u3066\u30cf\u30c3\u30b7\u30f3\u30b0\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u306a\u3044\u304b\u3068\u3044\u3046\u3053\u3068\u3092\u8003\u3048, \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u3092\u8003\u6848\u3057\u305f.\n\n \u300c  \n P\u3092\u7d20\u6570\u3068\u3059\u308b. \u30cf\u30c3\u30b7\u30e5\u5316\u3059\u308b\u5217\u3092 $ {x_1,x_2,x_3,...,x_n} $ \u3068\u3057, \u5168\u3066\u306e $ x_i $\u306b\u3064\u3044\u3066, $ j\u2266i $\u304b\u3064 $ x_j=x_i $\u304c\u6210\u308a\u7acb\u3064\u3088\u3046\u306a $ j $\u306e\u500b\u6570\u3092$ C_i $\u3068\u3059\u308b\u3068,  \n (\u30cf\u30c3\u30b7\u30e5\u5024) $ = $ $ \u03a3x_i^{C_i} $ mod $ P $  \n \u300d\n\n \u3053\u306e\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u306f\u5bb9\u6613\u306b\u885d\u7a81\u30b1\u30fc\u30b9\u304c\u4f5c\u308c\u3066\u3057\u307e\u3046\u304c, \u3068\u3082\u304b\u304f\u3053\u306e\u95a2\u6570\u3092\u7528\u3044\u305f\u4ee5\u4e0b\u306e\u554f\u984c\u3092\u3042\u306a\u305f\u306b\u89e3\u304b\u305b\u308b\u3053\u3068\u306b\u3057\u305f.\n\n **\u554f\u984c**\uff1a \u9577\u3055$ N $\u306e\u6570\u5217$ {a_1,a_2,a_3,...,a_N} $ \u304c\u3042\u308b. \u3053\u306e\u6570\u5217\u306e $ Q $ \u500b\u306e\u90e8\u5206\u5217\u306b\u3064\u3044\u3066, \u305d\u308c\u305e\u308c\u524d\u8ff0\u306e\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u6c42\u3081\u306a\u3055\u3044.\n\n> $ N $ $ Q $ $ P $ $ a_1 $ $ a_2 $ $ ... $ $ a_N $ $ s_1\u3000t_1 $ $ s_2\u3000t_2 $ . . . $ s_Q\u3000t_Q $\n\n \u6700\u521d\u306b\u6570\u5217\u306e\u9577\u3055 $ N $ , \u30cf\u30c3\u30b7\u30e5\u5024\u3092\u6c42\u3081\u305f\u3044\u9023\u7d9a\u3057\u305f\u90e8\u5206\u5217\u306e\u500b\u6570 $ Q $ , \u7d20\u6570 $ P $ \u304c\u4e0e\u3048\u3089\u308c\u308b.  \n \u6b21\u306b, \u9577\u3055 $ N $ \u306e\u6570\u5217 $ {a_1,a_2,..,a_N} $ \u304c\u4e0e\u3048\u3089\u308c\u308b.  \n \u6700\u5f8c\u306b, $ Q $\u500b\u306e\u90e8\u5206\u5217\u306e\u7aef\u70b9\\[$ s_i $, $ t_i $\\]\u304c\u4e0e\u3048\u3089\u308c\u308b. $ Q $\u500b\u306e\u90e8\u5206\u5217\u306b\u5bfe\u3057\u3066, \u6570\u5217\u4e2d\u3067 $ s\u2266i\u2266t $ \u3092\u6e80\u305f\u3059\u9805\u306b\u5bfe\u3057\u3066, \u554f\u984c\u6587\u306e\u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u3092\u7528\u3044\u3066\u5f97\u305f\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u6539\u884c\u533a\u5207\u308a\u3067\u51fa\u529b\u305b\u3088.  \n- $ 1\\ \u2266\\ N\\ \u2266\\ 10^5 $ \u6570\u5217\u306e\u9577\u3055\n- $ 1\\ \u2266\\ Q\\ \u2266\\ 10^5 $ \u30cf\u30c3\u30b7\u30e5\u5024\u3092\u6c42\u3081\u305f\u3044\u9023\u7d9a\u3057\u305f\u90e8\u5206\u5217\u306e\u500b\u6570\n- $ 1\\ \u2266\\ P\\ \u2266\\ 10^9 $ \u30cf\u30c3\u30b7\u30e5\u95a2\u6570\u3067\u7528\u3044\u308b\u7d20\u6570\n- $ 1\\ \u2266\\ a_i\\ \u2266\\ 10^6 $ \u6570\u5217\u306e\u5404\u9805\u306e\u5024\n- $ 1\\ \u2266\\ s_i\\ \u2266\\ t_i\\ \u2266\\ N $ \u5404\u90e8\u5206\u5217\u306e\u7aef\u70b9\n\n \u914d\u70b9\u306e $ 20% $ \u5206\u306b\u3064\u3044\u3066\u306f, $ i\u2260j $\u306e\u3068\u304d$ a_i\u2260a_j $ \u3092\u6e80\u305f\u3059.\n\n ```\n\n10 10 8999\n2 1 1 2 1 2 1 2 1 2\n1 1\n1 2\n1 3\n1 4\n1 5\n1 6\n1 7\n1 8\n1 9\n1 10\n```\n\n ```\n\n2\n3\n4\n8\n9\n17\n18\n34\n35\n67\n```\n\n ```\n\n6 6 2\n1 2 3 4 5 6\n1 2\n2 3\n3 4\n4 4\n5 5\n6 6\n```\n\n ```\n\n1\n1\n1\n0\n1\n0\n```",
    "inputFormat": "",
    "outputFormat": "",
    "samples": [],
    "hint": "",
    "translation": "\u95ee\u9898\u6587\u7ae0\r\n\r\nkagamiz\u6b63\u5728\u5b66\u4e60\u54c8\u5e0c.\r\n\u4e86\u89e3\u4e86kagamiz\u5173\u4e8e\u6eda\u52a8\u6563\u5217\u7528\u8681\u672c\u5b66\u4e60,\u54c8\u5e0c\u683c\u662f\u6587\u5b57\u5217\u63a2\u7d22\u6709\u6548\u7684\u624b\u6cd5.\r\n\r\n\u56e0\u6b64, kagamiz\u8003\u8651\u5230\u5bf9\u4e8e\u4efb\u4f55\u591a\u91cd\u96c6\u5408\u662f\u5426\u80fd\u591f\u8fdb\u884c\u6563\u5217,\u8bbe\u8ba1\u51fa\u4e86\u4ee5\u4e0b\u6563\u5217\u51fd\u6570.\r\n\r\n\u300c\r\n\u4ee5P\u4e3a\u7d20\u6570.\u5c06\u6563\u5217\u5316\u4e3ax1,x2,x3,\u2026\u5173\u4e8exn,\u5168\u90e8xi,\u82e5\u5c06j\u2264i\u4e14xj=xi\u6210\u7acb\u7684j\u4e2a\u6570\u8bbe\u4e3aCi,\u5219xn,\u5168\u90e8xi, j\u2264i\u4e14xj=xi\u6210\u7acb\u7684j\u4e2a\u6570\u8bbe\u4e3aCi.\r\n(\u54c8\u5e0c\u503c) =\u2211xiCi mod P\r\n\u201d\r\n\u8fd9\u4e2a\u6563\u5217\u51fd\u6570\u5f88\u5bb9\u6613\u4ea7\u751f\u51b2\u7a81,\u603b\u4e4b,\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\u51b3\u5b9a\u8ba9\u4f60\u89e3\u7b54\u4ee5\u4e0b\u7684\u95ee\u9898.\r\n\r\n\u95ee\u9898\uff1a\u957f\u5ea6N\u7684\u6570\u5217a1,a2,a3,\u2026\u6709aN.\u5bf9\u4e8e\u8fd9\u51e0\u5217\u7684Q\u4e2a\u90e8\u5206\u5217,\u8bf7\u5206\u522b\u8ba1\u7b97\u4e0a\u8ff0\u54c8\u5e0c\u503c.\r\n\r\n\u9996\u5148\u7ed9\u51fa\u6570\u5217\u7684\u957f\u5ea6N ,\u60f3\u8981\u83b7\u5f97\u54c8\u5e0c\u503c\u7684\u8fde\u7eed\u90e8\u5206\u5217\u7684\u4e2a\u6570Q,\u7d20\u6570P.\r\n\r\n\u63a5\u7740,\u7ed9\u5b9a\u957f\u5ea6N\u7684\u6570\u5217a1,a2,.,aN.\r\n\u8f93\u51fa\r\n\u5bf9\u4e8eQ\u4e2a\u90e8\u5206\u5217,\u5bf9\u4e8e\u6570\u5217\u4e2d\u6ee1\u8db3s\u2264i\u2264t\u7684\u9879,\u7528\u95ee\u9898\u53e5\u7684\u6563\u5217\u51fd\u6570\u5f97\u5230\u7684\u6563\u5217\u503c\u7528\u6362\u884c\u5206\u9694\u8f93\u51fa.\r\n\u7ea6\u675f\r\n1\u2264N\u2264105\u6570\u5217\u7684\u957f\u5ea6\r\n\r\n1\u2264Q\u2264105\u60f3\u8981\u83b7\u5f97\u54c8\u5e0c\u503c\u7684\u8fde\u7eed\u90e8\u5206\u5217\u7684\u4e2a\u6570\r\n\r\n1\u2264P\u2264109\u6563\u5217\u51fd\u6570\u4e2d\u4f7f\u7528\u7684\u7d20\u6570\r\n\r\n1\u2264ai\u2264106\u6570\u5217\u7684\u5404\u9879\u7684\u503c\r\n\r\n1\u2264si\u2264ti\u2264N\u5404\u90e8\u5206\u5217\u7684\u7aef\u70b9\r\n\r\n\u90e8\u5206\u70b9\r\n\u5173\u4e8e\u5206\u914d\u768420%\u5206,\u5e94\u8be5\u5728i\u2260j\u7684\u65f6\u5019\u6ee1\u8db3ai\u2260aj\r\n  \u62a5\u9519\r\n\r\n\u6700\u540e,\u7ed9\u5b9aQ\u4e2a\u90e8\u5206\u5217\u7684\u7aef\u70b9[si, ti]."
}