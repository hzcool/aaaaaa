{
    "description": "[problemUrl]: https://atcoder.jp/contests/soundhound2018-summer-final/tasks/soundhound2018_summer_final_e\n\n\u82f1\u5c0f\u6587\u5b57\u304b\u3089\u306a\u308b\u9577\u3055$ N $\u306e\u6587\u5b57\u5217\u304c $ M $ \u500b\u4e0e\u3048\u3089\u308c\u3001 $ S_1,\\ S_2,\\ ...,\\ S_M $ \u3068\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u30af\u30a8\u30ea\u3092 $ Q $ \u500b\u51e6\u7406\u3057\u3066\u4e0b\u3055\u3044\u3002\n\n- swap\u30af\u30a8\u30ea($ type\\ =\\ 1,\\ x,\\ y,\\ l,\\ r $): $ S_x[l..r] $ \u3068$ S_y[l..r] $ \u3092swap\u3059\u308b\u3002\n- hash\u30af\u30a8\u30ea($ type\\ =\\ 2,\\ x,\\ y\\ =\\ 0,\\ l,\\ r $): $ h(S_x[l..r]) $ \u3092\u6c42\u3081\uff0c\u51fa\u529b\u3059\u308b\u3002\n\n\u306a\u304a\u3001\n\n- \u6587\u5b57\u5217 $ S $ \u306b\u5bfe\u3057\u3001$ S[l..r] $ \u3092\u3001$ S $\u306e$ l $\u6587\u5b57\u76ee\u304b\u3089$ r $\u6587\u5b57\u76ee\u307e\u3067(\u4e21\u7aef\u542b\u3080)\u306e\u90e8\u5206\u6587\u5b57\u5217\u3092\u8868\u3059\u3053\u3068\u3068\u3057\u307e\u3059\u3002\n- \u82f1\u5c0f\u6587\u5b57 $ a $ \u306b\u5bfe\u3057\u3001ord$ (a)\\ =\\ 1, $ ord$ (b)\\ =\\ 2,\\ ..., $ ord$ (z)\\ =\\ 26 $ \u3068\u3057\u307e\u3059\u3002\n- \u6587\u5b57\u5217 $ S\\ =\\ c_1c_2...c_k $ \u306b\u5bfe\u3057\u3001$ \\sum_{i=1..k}\\ {\\rm\\ ord}(c_i)(1,000,000)^{i-1} $ \u3092 $ 10^9\\ +\\ 7 $ \u3067\u5272\u3063\u305f\u3042\u307e\u308a\u3092 $ h(S) $ \u3068\u3057\u307e\u3059\u3002",
    "inputFormat": "\u5165\u529b\u306f\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067\u6a19\u6e96\u5165\u529b\u304b\u3089\u4e0e\u3048\u3089\u308c\u308b\u3002\n\n> $ N $ $ M $ $ S_1 $ $ S_2 $ $ : $ $ S_M $ $ Q $ $ type_1 $ $ x_1 $ $ y_1 $ $ l_1 $ $ r_1 $ $ type_2 $ $ x_2 $ $ y_2 $ $ l_2 $ $ r_2 $ : $ type_Q $ $ x_Q $ $ y_Q $ $ l_Q $ $ r_Q $",
    "outputFormat": "\u5404hash\u30af\u30a8\u30ea\u306b\u5bfe\u3057\u3001$ h(S_x[l..r]) $ \u3092\u51fa\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",
    "samples": [
        [
            "5 2\r\nabcde\r\nfghij\r\n8\r\n2 1 0 2 3\r\n2 2 0 1 5\r\n1 1 2 2 2\r\n2 1 0 2 3\r\n2 2 0 1 5\r\n1 1 2 1 3\r\n2 1 0 2 3\r\n2 2 0 1 5",
            "3000002\r\n496944447\r\n3000007\r\n491944447\r\n8000002\r\n496979442"
        ],
        [
            "7 3\r\npzocuwt\r\nghqsktw\r\nogvyhak\r\n13\r\n2 1 0 1 2\r\n1 1 2 5 6\r\n1 1 3 3 6\r\n1 2 3 4 5\r\n1 2 3 5 6\r\n1 1 2 1 6\r\n1 1 2 5 6\r\n2 2 0 5 5\r\n2 1 0 2 3\r\n1 2 3 1 4\r\n1 1 2 2 7\r\n2 3 0 1 6\r\n2 3 0 1 4",
            "26000016\r\n21\r\n17000008\r\n556958241\r\n25847241"
        ]
    ],
    "hint": "### \u5236\u7d04\n\n- $ 1\\ \\leq\\ N\\ \\leq\\ 200,000 $\n- $ 1\\ \\leq\\ M\\ \\leq\\ 20 $\n- $ S_i $ \u306f\u82f1\u5c0f\u6587\u5b57\u306e\u307f\u304b\u3089\u306a\u308b\n- $ 1\\ \\leq\\ Q\\ \\leq\\ 200,000 $\n- $ type_i\\ =\\ 1,\\ 2 $\n- $ 1\\ \\leq\\ x_i\\ \\leq\\ M $\n- swap\u30af\u30a8\u30ea\u306e\u3068\u304d, $ x_i\\ <\\ y_i\\ \\leq\\ M $\n- hash\u30af\u30a8\u30ea\u306e\u3068\u304d\u3001$ y_i\\ =\\ 0 $\n- $ 1\\ \\leq\\ l_i\\ \\leq\\ r_i\\ \\leq\\ N $\n\n### Sample Explanation 1\n\n\u305d\u308c\u305e\u308c\u3001 - $ h(\"bc\")\\ =\\ 3000002 $ - $ h(\"fghij\")\\ =\\ 496944447 $ - $ h(\"gc\")\\ =\\ 3000007 $ - $ h(\"fbhij\")\\ =\\ 491944447 $ - $ h(\"bh\")\\ =\\ 8000002 $ - $ h(\"agcij\")\\ =\\ 496979442 $ \u3092\u51fa\u529b\u3057\u3066\u3044\u307e\u3059\u3002"
}