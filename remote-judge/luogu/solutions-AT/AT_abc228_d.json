[
    {
        "content": "\u9996\u5148\u5982\u679c\u6734\u7d20\u5b9e\u73b0\u8fd9\u4e2a\u54c8\u5e0c\u8868\u80af\u5b9a\u4f1a\u5bc4\uff0c\u56e0\u4e3a\u53ef\u80fd\u7684\u54c8\u5e0c\u51b2\u7a81\u53ef\u80fd\u975e\u5e38\u591a\u3002\n\n\u6ce8\u610f\u5230\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u66f4\u5feb\u901f\u627e\u5230\u7b2c\u4e00\u4e2a $ h \\bmod n $ \u540e\u4e0d\u4e3a $ -1 $ \u7684\u4e0b\u6807 $ p $\uff0c\u521d\u59cb\u7684\u65f6\u5019\u663e\u7136\u6709 $ p_h=h $\u3002\u5f53 $ val_h $ \u4e0d\u4e3a $ -1 $ \u7684\u65f6\u5019\u4e0d\u65ad\u4ee4 $ h=p_h $ \u5373\u53ef\u3002\n\n\u95ee\u9898\u5728\u4e8e\u600e\u4e48\u66f4\u65b0 $ p $ \u6570\u7ec4\uff0c\u5f53\u6267\u884c\u4e00\u6b21\u8d4b\u503c\u64cd\u4f5c\u7684\u65f6\u5019\u663e\u7136 $ h $ \u7684\u4f4d\u7f6e\u88ab\u5360\u7528\u4e86\uff0c\u4e8e\u662f\u8981\u5360\u7528\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5373 $ p_h=p(k+1) $\u3002\n\n\u8fd9\u4e2a\u8fc7\u7a0b\u7c7b\u4f3c\u4e8e\u5e76\u67e5\u96c6\u627e\u7236\u4eb2\u7684\u8fc7\u7a0b\uff0c\u4e8e\u662f\u76f4\u63a5\u5e76\u67e5\u96c6\u5b9e\u73b0\u6a21\u62df\u4e0a\u8ff0\u8fc7\u7a0b\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $ \\mathcal{O}(n+q) $\uff0c\u53ef\u4ee5\u901a\u8fc7\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#import <bits/stdc++.h>\nusing namespace std;\n#define int long long\nconst int SIZE=1<<20;\nint value[SIZE],fa[SIZE];\nint find(int x)\n{\n\treturn fa[x]==x?x:fa[x]=find(fa[x]);\n}\nsigned main() \n{\n    int q;\n    cin>>q;\n    for(int i=0;i<SIZE;i++)\n    value[i]=-1,fa[i]=i;\n    while(q--) \n    {\n        int t,x;\n        cin>>t>>x;\n        if (t==1) \n        {\n            int i=find(x%SIZE);\n            value[i]=x;\n            fa[i]=find((i+1)%SIZE);\n        }\n        else \n        cout<<value[x%SIZE]<<'\\n';\n    }\n}\n```\n",
        "postTime": 1671618167,
        "uid": 714821,
        "name": "loser_seele",
        "ccfLevel": 4,
        "title": "ABC228D\u9898\u89e3"
    }
]