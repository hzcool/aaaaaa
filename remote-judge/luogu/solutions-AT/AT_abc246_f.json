[
    {
        "content": "\u56e0\u4e3a\u8981\u53bb\u91cd\uff0c\u6240\u4ee5\u8003\u8651\u5bb9\u65a5\u3002\n\n---\n\n\u4e00\u4e2a\u72b6\u6001 $s$\uff0c\u957f\u5ea6\u4e3a $n$ \u4e14\u5b57\u7b26\u5168\u96c6\u5927\u5c0f\u4e3a $m$ \u7684\u5b57\u7b26\u4e32\u7684\u6570\u91cf $\\operatorname{val}(s)=m^n$\u3002\n\n\u5c0f\u5b66\u7684\u97e6\u6069\u56fe\u5bb9\u65a5\u544a\u8bc9\u6211\u4eec\uff0c$\\operatorname{val}(s_1\\cup s_2\\cup...\\cup s_n)=\\sum\\limits \\operatorname{val}(s_i)-\\sum\\limits_{i\\ne j}\\operatorname{val}(s_i\\cap s_j)+...$\n\n\u4e5f\u5c31\u662f\u5982\u679c\u8fd9\u4e2a\u72b6\u6001\u662f\u5947\u6570\u79cd\u96c6\u5408\u7684\u4ea4\u96c6\uff0c\u90a3\u4e48\u5b83\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u5c31\u662f\u6b63\u7684\uff0c\u5426\u5219\u5c31\u662f\u8d1f\u7684\u3002\n\n\u6bd4\u5982\u5148\u628a\u4e00\u4e2a\u4ea4\u8d77\u6765\u7684\u52a0\u4e0a\u3002\u7136\u540e\u53d1\u73b0\u4e24\u4e2a\u4ea4\u8d77\u6765\u7684\u88ab\u591a\u52a0\u4e86\u4e00\u6b21\uff0c\u5c31\u51cf\u6389\u3002\u7136\u540e\u53d1\u73b0\u4e09\u4e2a\u4ea4\u8d77\u6765\u7684\u88ab\u591a\u51cf\u4e86\u4e00\u6b21\uff0c\u5c31\u52a0\u56de\u6765\u2026\u2026\n\n\u5177\u4f53\u7684\u5904\u7406\u4e0a\uff0c\u53ef\u4ee5\u76f4\u63a5\u4e8c\u8fdb\u5236\u679a\u4e3e $2^n$ \u79cd\u72b6\u6001\u3002\n\n```cpp\n#include<algorithm>\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<cmath>\nusing namespace std;\n\ntypedef long long ll;\nconst int MAXN=30,MAXM=(1<<18)+5,MOD=998244353;\nint n,l,a[MAXN],cnt[MAXM],p[MAXN];\ninline ll ksm(ll x,ll y){\n\tll mul=1;\n\twhile(y){\n\t\tif(y&1)mul=mul*x%MOD;\n\t\tx=x*x%MOD;y>>=1;\n\t}\n\treturn mul;\n}\n\ninline int pop_count(int s){\t\t// \u6839\u636e\u679a\u4e3e\u51fa\u6765\u7684\u72b6\u6001\u786e\u5b9a\u5b57\u7b26\u5168\u96c6\u5927\u5c0f\n\tint x=(1<<26)-1;\n\tfor(int i=1;i<=n;i++)\n\t\tif((s>>i-1)&1)x&=a[i];\n\tint cnt=0;\n\tfor(int i=0;i<26;i++)\n\t\tif((x>>i)&1)cnt++;\n\treturn cnt;\n}\ninline void add(int&x,int y){x=x+y<MOD?x+y:x+y-MOD;}\nint main(){\n\tscanf(\"%d%d\",&n,&l);\n\tstring str;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>str;\n\t\tfor(char ch:str)a[i]|=1<<ch-'a';\t\t// \u628a\u5b57\u7b26\u4e32\u7528\u72b6\u538b\n\t}\n\tfor(int i=1;i<=26;i++)p[i]=ksm(i,l);\n\tint sum=0;\n\tfor(int s=1;s<(1<<n);s++){\n\t\tcnt[s]=cnt[s>>1]+(s&1);\n\t\tif(cnt[s]&1)add(sum,p[pop_count(s)]);\t// \u5947\u6570\u4e2a\u96c6\u5408\u4ea4\u8d77\u6765\u8d21\u732e\u5c31\u662f\u6b63\u7684\n\t\telse add(sum,MOD-p[pop_count(s)]);\t\t// \u5426\u5219\u8d21\u732e\u5c31\u662f\u8d1f\u7684\n\t}\n\tprintf(\"%d\\n\",sum);\n\treturn 0;\n}\n```",
        "postTime": 1679653545,
        "uid": 350297,
        "name": "_maojun_",
        "ccfLevel": 6,
        "title": "ABC246F \u9898\u89e3"
    },
    {
        "content": "### Problem\n\n\u7ed9\u5b9a $n$ \u4e2a\u5b57\u7b26\u4e32\uff0c\u5b57\u7b26\u96c6\u4e3a\u5c0f\u5199\u5b57\u6bcd\u3002\u53ef\u4ee5\u4efb\u610f\u9009\u62e9\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u7528\u5176\u6240\u5305\u542b\u7684\u5b57\u7b26\u7ec4\u6210\u5b57\u7b26\u4e32\uff08\u5b57\u7b26\u53ef\u4ee5\u91cd\u590d\uff09\uff0c\u6c42\u53ef\u4ee5\u7ec4\u6210\u7684\u957f\u5ea6\u4e3a $l$ \u7684\u4e0d\u540c\u5b57\u7b26\u4e32\u7684\u6570\u91cf\u3002\n\n### Solution\n\n\u5bb9\u65a5\u3002\n\n\u679a\u4e3e\u7528 $i$ \u4e2a\u7ed9\u51fa\u7684\u5b57\u7b26\u4e32\uff0c\u5c06\u5b83\u4eec\u7684\u4ea4\u96c6 $T$ \u4f5c\u4e3a\u7ec4\u51fa\u7684\u5b57\u7b26\u4e32\u7684\u5b57\u7b26\u5e93\u3002\u5219\u53ef\u4ee5\u7ec4\u51fa $ \\lvert T \\rvert ^{l}$ \u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u5b57\u7b26\u4e32\u3002\u7531\u5bb9\u65a5\u53ef\u77e5\uff0c\u5f53 $i$ \u4e3a\u5947\u6570\u65f6\uff0c\u7b54\u6848\u51cf\u53bb\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\u6570\u91cf\uff1b\u53cd\u4e4b\u52a0\u4e0a\u3002\n\n\u540c\u65f6\uff0c\u4e3a\u4e86\u65b9\u4fbf\uff0c\u5bf9\u6bcf\u4e2a\u7ed9\u51fa\u7684\u5b57\u7b26\u4e32\u8fdb\u884c\u72b6\u6001\u538b\u7f29\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $i$\uff0c\u641c\u7d22\u5373\u53ef\u3002\n\n### Code\n\n\u4ee3\u7801\u91cc\u7684 $k$ \u662f\u9898\u9762\u4e2d\u7684 $l$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define il inline\n#define int long long\n#define S ((1<<n)-1)\nusing namespace std;\nconst int P=998244353;\n\nil int wrd(){\n\tint x=0,f=1; char c=getchar();\n\twhile(!isdigit(c)){if(c=='-')f=-1;c=getchar();}\n\twhile(isdigit(c)) x=x*10+c-48,c=getchar();\n\treturn x*f;\n}\n\nint n,k,ans,state[26];\n\nint popcnt(int x){\n\tint cnt=0;\n\twhile(x) cnt++,x&=(x-1);\n\treturn cnt;\n}\n\nil int qpow(int a,int b){\n\tint ans=1;\n\twhile(b){\n\t\tif(b&1) (ans*=a)%=P;\n\t\t(a*=a)%=P,b>>=1; \n\t}\n\treturn ans;\n}\n\nint u[20];\n\nvoid dfs(int x,int l){\n\tif(x>l){\n\t\tint v=(1<<26)-1;\n\t\tfor(int i=1;i<=l;++i) v&=state[u[i]];\n\t\t\n\t\tint p=popcnt(v);\n\t\tif(l&1) ans=(ans+qpow(p,k))%P; //\u7edf\u8ba1\u7b54\u6848\u3002\n\t\telse ans=(ans+P-qpow(p,k))%P;\n\t\treturn;\n\t}\n\tfor(int i=u[x-1]+1;n-i>=l-x;++i){\n\t\tu[x]=i,dfs(x+1,l);\n\t}\n}\n\nmain(){\n\tn=wrd(),k=wrd();\n\tfor(int i=1;i<=n;++i){\n\t\tstring s; cin >> s;\n\t\tint l=s.size();\n\t\tfor(int j=0;j<l;++j) state[i]|=(1<<(s[j]-'a')); //\u72b6\u6001\u538b\u7f29\u3002\n\t}\n\t\n\tfor(int i=1;i<=n;++i) dfs(1,i); //\u7528i\u4e2a\u5b57\u7b26\u4e32\u7684\u4ea4\u96c6\u4f5c\u4e3a\u5b57\u7b26\u5e93\u3002\n\t\n\treturn printf(\"%lld\",ans),0;\n}\n```",
        "postTime": 1679650419,
        "uid": 722253,
        "name": "cppcppcpp3",
        "ccfLevel": 0,
        "title": "[ABC246F] typewriter \u9898\u89e3"
    },
    {
        "content": "[\u6ca1\u8bf4\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/1358id/p/16435920.html)\n\n\u6709 $N$ \u4e2a\u5b57\u7b26\u96c6\uff0c\u53ef\u4ee5\u4efb\u9009\u4e00\u4e2a\u5b57\u7b26\u96c6\uff0c\u4ece\u4e2d\u4efb\u610f\u7ec4\u51fa\u4e00\u4e2a\u957f\u5ea6\u4e3a $L$ \u7684\u5b57\u7b26\u4e32\u3002\u95ee\u80fd\u5f97\u5230\u591a\u5c11\u79cd\u4e0d\u540c\u7684\u5b57\u7b26\u4e32\u3002\n\u5982\u4e24\u4e2a\u5b57\u7b26\u96c6\u4e3a $\\tt{ab}$ \u548c $\\tt{ac}$ \u53ef\u4ee5\u7ec4\u6210 $\\tt{aa},\\tt{ab},\\tt{ac},\\tt{ba},\\tt{ca},\\tt{bb},\\tt{cc}$ \u5171 $7$ \u4e2a\u4e0d\u540c\u7684\u5b57\u7b26\u4e32\u3002\n\n$N\\leq18,L\\leq10^9$\n\n-----\n\u5bb9\u65a5\u3002\n\n\u5982\u679c\u53ea\u6709\u4e24\u4e2a\u5b57\u7b26\u4e32\uff0c\u5219\u660e\u663e\u7b54\u6848\u4e3a\uff1a\u7531\u7b2c\u4e00\u4e2a\u5b57\u7b26\u96c6\u7ec4\u51fa\u7684\u5b57\u7b26\u4e32\u6570\u91cf+\u7531\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u96c6\u7ec4\u51fa\u7684\u5b57\u7b26\u4e32\u6570\u91cf-\u4e24\u4e2a\u5b57\u7b26\u96c6\u90fd\u80fd\u7ec4\u51fa\u7684\u5b57\u7b26\u4e32\u6570\u91cf\u3002\n\n\u7528\u6570\u5b66\u8bed\u8a00\u8868\u793a\u5c31\u662f $|S_1|^L+|S_2|^L-|S_1\\cap S_2|^L$\u3002\n\n\u90a3\u4e48\u63a8\u5e7f\u5230 $N$ \u4e2a\u5b57\u7b26\u96c6\uff0c\u4e5f\u662f\u7c7b\u4f3c\u7684\u3002\u7b54\u6848\u5c31\u662f \n$$\\sum_{S\\in N} -1^{\\operatorname{count}\\{S\\}}\\times |S_1\\cap S_2\\cap\\ldots|^L$$\n\n\u5176\u4e2d $\\operatorname{count}\\{S\\}$ \u8868\u793a $S$ \u4e2d\u5b57\u7b26\u96c6\u7684\u4e2a\u6570\uff0c$|S_1\\cap S_2\\cap\\ldots|$ \u8868\u793a $S$ \u4e2d\u6240\u6709\u5b57\u7b26\u4e32\u7684\u5e76\u96c6\u3002\n\u90a3\u8fd9\u6837\u8fd9\u4e2a\u9898\u5c31\u505a\u5b8c\u4e86\u3002\u7528\u72b6\u6001\u538b\u7f29\u53bb\u679a\u4e3e\u5b50\u96c6\u3002\u505a\u4ea4\u96c6\u7684\u65f6\u5019\u6211\u53ea\u9700\u8981\u77e5\u9053\u6709\u51e0\u4e2a\u5b57\u7b26\uff0c\u800c\u4e0d\u9700\u8981\u77e5\u9053\u662f\u54ea\u4e9b\u5b57\u7b26\uff0c\u6240\u4ee5\u6211\u679a\u4e3e\u6bcf\u4e00\u4e2a\u5b57\u6bcd\uff0c\u770b\u4ed6\u662f\u5426\u5b58\u5728\u4e8e\u6240\u6709\u5b50\u96c6\u4e2d\u5305\u542b\u7684\u5b57\u7b26\u4e32\u5373\u53ef\u3002\n\n[Code](https://paste.ubuntu.com/p/xTP8WwHwSc/)",
        "postTime": 1673397999,
        "uid": 222865,
        "name": "\u8fdf\u66ae\u5929\u590d\u660e",
        "ccfLevel": 6,
        "title": "ABC246F\u9898\u89e3"
    },
    {
        "content": "# [ABC246F typewriter](luogu.com.cn/problem/AT_abc246_f) Solution\n\n[TOC]\n\n## [\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c\u6233\u6b64\u8fdb\u5165](http://blog.monkey-hyx.tech?t=ABC246F)\n\n## \u9898\u9762\n\n\u7ed9\u5b9a $ n $ \u4e2a\u5b57\u7b26\u4e32\uff0c\u5b57\u7b26\u96c6\u4e3a\u5c0f\u5199\u5b57\u6bcd\uff0c\u53ef\u4ee5\u4efb\u610f\u9009\u62e9\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f5c\u4e3a\u5b57\u7b26\u5e93\uff0c\u7136\u540e\uff08\u53ef\u591a\u6b21\u9009\u62e9\u540c\u4e00\u5b57\u7b26\uff09\u4efb\u610f\u7ec4\u6210\u957f\u5ea6\u4e3a $ l $ \u7684\u5b57\u7b26\u4e32\uff0c\u6c42\u4e00\u5171\u80fd\u5f62\u6210\u591a\u5c11\u79cd\u957f\u5ea6\u4e3a $ l $ \u7684\u5b57\u7b26\u4e32\u3002\n\n## Solution\n\n\u5bb9\u65a5\u8f83\u4e3a\u663e\u7136\uff0c\u663e\u7136\u6700\u7ec8\u7b54\u6848\u4e5f\u5c31\u662f\uff0c\u7528\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\u96c6\u5f62\u6210\u7684\u5b57\u7b26\u4e32\u51cf\u53bb\u4efb\u610f\u4e24\u4e2a\u7684\u52a0\u4e0a\u4efb\u610f\u4e09\u4e2a...\u4e8e\u662f\u6211\u4eec\u8003\u8651\u4ee4\u5168\u96c6\u4e3a $ S = 2^n - 1 $ \u7136\u540e\u5bf9\u5176\u8fdb\u884c\u679a\u4e3e\u5b50\u96c6\uff0c\u4e8c\u8fdb\u5236\u7b2c $ i $ \u4f4d\u4e3a $ 1 $ \u6216 $ 0 $ \u4ee3\u8868\u662f\u5426\u8003\u8651\u8fd9\u4e2a\u6570\uff0c\u6240\u4ee5\u679a\u4e3e\u7684\u65f6\u5019\u76f4\u63a5 `__builtin_popcount()` \u7b97\u4e00\u4e0b\u4e2a\u6570\uff0c\u5947\u6570\u4ee3\u8868\u52a0\uff0c\u53cd\u4e4b\u51cf\u3002\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u56e0\u4e3a\u5b57\u7b26\u96c6\u8f83\u5c0f\uff0c\u4e5f\u7528\u4e00\u4e2a `int` \u7684\u4e8c\u8fdb\u5236\u8868\u793a\u662f\u5426\u5b58\u5728\u5bf9\u5e94\u7684\u5b57\u7b26\uff0c\u7136\u540e\u628a\u9700\u8981\u7684\u5b57\u7b26\u4e32\u90fd\u4e0e\u8d77\u6765\uff0c\u8bbe\u6570\u91cf\u4e3a $ \\xi $\uff0c\u5219\u6b64\u6b21\u8fd0\u7b97\u7684\u5b57\u7b26\u96c6\u5927\u5c0f\u5219\u4e3a $ \\xi $\uff0c\u6240\u4ee5\u6b64\u6b21\u7b54\u6848\u4e3a $ \\xi^l $\uff0c\u52a0\u51cf\u8003\u8651\u597d\u5373\u53ef\u3002\n\n## Code\n\n```cpp\n#define _USE_MATH_DEFINES\n#include <bits/extc++.h>\n\n#define PI M_PI\n#define E M_E\n#define npt nullptr\n#define SON i->to\n#define OPNEW void* operator new(size_t)\n#define ROPNEW(arr) void* Edge::operator new(size_t){static Edge* P = arr; return P++;}\n\nusing namespace std;\nusing namespace __gnu_pbds;\n\nmt19937 rnd(random_device{}());\nint rndd(int l, int r){return rnd() % (r - l + 1) + l;}\nbool rnddd(int x){return rndd(1, 100) <= x;}\n\ntypedef unsigned int uint;\ntypedef unsigned long long unll;\ntypedef long long ll;\ntypedef long double ld;\n\n#define MOD 998244353\n\ntemplate<typename T = int>\ninline T read(void);\n\nint N, L;\nint str[20];\nint readStr(void){\n    int ret(0);\n    char c = getchar();\n    while(!islower(c))c = getchar();\n    vector < int > val;\n    while(islower(c)){\n        ret |= 1 << (c - 'a');\n        c = getchar();\n    }return ret;\n}\nll qpow(ll a, ll b){\n    ll ret(1), mul(a);\n    while(b){\n        if(b & 1)ret = ret * mul % MOD;\n        b >>= 1;\n        mul = mul * mul % MOD;\n    }return ret;\n}\n\nint main(){\n    N = read(), L = read();\n    ll ans(0);\n    for(int i = 1; i <= N; ++i)str[i] = readStr();\n    // for(int i = 1; i <= N; ++i)\n    //     cout << bitset < 32 > (str[i]) << endl;\n    int Smx = (1 << N) - 1;\n    // cout << \"Smx\" << bitset < 32 > (Smx) << endl;\n    for(int S = Smx; S; S = (S - 1) & Smx){\n        // cout << \"S:\" << bitset < 32 > (S) << endl;\n        int cnt = __builtin_popcount(S);\n        int tot((1 << 26) - 1);\n        for(int i = 0; i <= N - 1; ++i)\n            if((1 << i) & S)tot &= str[i + 1];\n        // cout << \"tot:\" << bitset < 32 > (tot) << endl;\n        ans = (ans + qpow(__builtin_popcount(tot), L) * ((cnt & 1) ? 1 : -1) + MOD) % MOD;\n    }\n    printf(\"%lld\\n\", ans);\n    fprintf(stderr, \"Time: %.6lf\\n\", (double)clock() / CLOCKS_PER_SEC);\n    return 0;\n}\n\ntemplate<typename T>\ninline T read(void){\n    T ret(0);\n    short flag(1);\n    char c = getchar();\n    while(c != '-' && !isdigit(c))c = getchar();\n    if(c == '-')flag = -1, c = getchar();\n    while(isdigit(c)){\n        ret *= 10;\n        ret += int(c - '0');\n        c = getchar();\n    }\n    ret *= flag;\n    return ret;\n}\n```\n\n## UPD\n\nupdate-2022_10_21 \u521d\u7a3f",
        "postTime": 1666340616,
        "uid": 362938,
        "name": "Tsawke",
        "ccfLevel": 6,
        "title": "ABC246F typewriter \u9898\u89e3"
    },
    {
        "content": "## [typewriter](https://www.luogu.com.cn/problem/AT_abc246_f)\n## \u601d\u8def\u5206\u6790\n\u8fd9\u4e2a\u9898\u7684\u5bb9\u65a5\u6bd4\u8f83\u660e\u663e\uff0c\u5982\u679c\u53ea\u6709\u4e24\u4e2a\u5b57\u7b26\u4e32\uff0c\u5219\u660e\u663e\u7b54\u6848\u4e3a\uff1a\u7531\u7b2c\u4e00\u4e2a\u5b57\u7b26\u96c6\u7ec4\u51fa\u7684\u5b57\u7b26\u4e32\u6570\u91cf+\u7531\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u96c6\u7ec4\u51fa\u7684\u5b57\u7b26\u4e32\u6570\u91cf-\u4e24\u4e2a\u5b57\u7b26\u96c6\u90fd\u80fd\u7ec4\u51fa\u7684\u5b57\u7b26\u4e32\u6570\u91cf\u3002\u7528\u6570\u5b66\u8bed\u8a00\u8868\u793a\u5c31\u662f ${\\lvert s1 \\rvert}^L+{\\lvert s2 \\rvert}^L-{\\lvert s1 \\cap s2 \\rvert}^L$\u3002\n\n\u90a3\u4e48\u63a8\u5e7f\u5230 $N$ \u4e2a\u5b57\u7b26\u96c6\uff0c\u7b54\u6848\u4e5f\u662f\u7c7b\u4f3c\u7684\uff1a\n\n$\\sum -1^{count{s}} \\times {\\lvert s1 \\cap s2 \\cap ...\\rvert}^L$\n\n\u5176\u4e2d $counts$ \u8868\u793a $s$ \u4e2d\u5b57\u7b26\u96c6\u7684\u4e2a\u6570\uff0c$\\lvert s1 \\cap s2 \\cap ...\\rvert$  \u8868\u793a $s$ \u4e2d\u6240\u6709\u7684\u5b57\u7b26\u96c6\u7684\u5e76\u96c6\u3002\n\n\u8fd9\u9053\u9898\u7684\u5b57\u7b26\u96c6\u7684\u4e2a\u6570 $N \\leq 18$\uff0c\u6240\u4ee5\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u72b6\u6001\u538b\u7f29\u53bb\u679a\u4e3e\u5b50\u96c6\uff0c\u4ee4\u5168\u96c6\u4e3a $2^{n-1}-1$\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u72b6\u6001\uff0c\u4e8c\u8fdb\u5236\u7b2c $i$ \u4f4d\u4e3a $1$ \u8868\u793a\u9009\u62e9\u7b2c $i$ \u4e2a\u5b57\u7b26\u96c6\uff0c\u5728\u679a\u4e3e\u7684\u65f6\u5019 ```__builtin_popcount()``` \u8ba1\u7b97,\u72b6\u6001\u4e2d $1$ \u7684\u4e2a\u6570\uff0c\u5947\u6570\u52a0\uff0c\u5076\u6570\u51cf\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u56e0\u4e3a\u90fd\u662f\u5c0f\u5199\u5b57\u6bcd\uff0c\u5b57\u7b26\u6bd4\u8f83\u5c11\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e00\u4e2a $26$ \u4f4d\u7684\u4e8c\u8fdb\u5236\u6570\u53bb\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u662f\u5426\u5b58\u5728\u5bf9\u5e94\u7684\u5b57\u6bcd\u3002\u663e\u7136\u628a\u9700\u8981\u7684\u5b57\u7b26\u4e32\u7684\u72b6\u6001\u90fd\u6309\u4f4d\u4e0e\uff0c\u5219\u53ef\u4ee5\u5f97\u5230\u5171\u6709\u7684\u5b57\u6bcd\u3002\n\n\u51e0\u4e2a\u5b57\u7b26\u4e32\u4ea4\u96c6\u7684\u5143\u7d20\u4e2a\u6570\u5c31\u662f\u5b83\u4eec\u5171\u6709\u7684\u5b57\u6bcd\u5728\u957f\u5ea6 $L$ \u4e0a\u968f\u610f\u653e\u7f6e\u4ea7\u751f\u7684\u4e32\u7684\u4e2a\u6570\uff0c\u4e5f\u5c31\u662f $cnt^L$\uff08$cnt$ \u4e3a\u5171\u6709\u5b57\u6bcd\u7684\u4e2a\u6570\uff09\uff0c\u8fd9\u4e2a\u5171\u6709\u7684\u5b57\u6bcd\u4e2a\u6570\u4e5f\u53ef\u4ee5\u7528 ```__builtin_popcount() ``` \u5f97\u5230\u3002\n## AC Code\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define R register int\nusing namespace std;\nconst int N=19,mod=998244353;\nint n;ll l,a[N],fac[N],inv[N],ans;\nstring s;\nll qpow(ll a,int b){\n\tll res=1;\n\twhile(b){\n\t\tif(b&1)res=res*a%mod;\n\t\ta=a*a%mod,b>>=1;\n\t}\n\treturn res;\n}\nvoid init(){\n\tfac[0]=inv[0]=1;\n\tfor(R i=1; i<N; i++)\n\t\tfac[i]=fac[i-1]*i%mod,inv[i]=inv[i-1]*qpow(i,mod-2);\n}\nint f(int x){return __builtin_popcount(x);}\nint main(){\n\tios::sync_with_stdio(0);\n\tcin.tie(0);cout.tie(0);\n\tcin>>n>>l;init();\n\tfor(R i=1; i<=n; i++){\n\t\tcin>>s;\n\t\tfor(R j=0; j<s.size(); j++)\n\t\t\ta[i]|=(1<<s[j]-'a');\n\t}\n\tfor(R i=1; i<(1<<n); i++){\n\t\tR x=i,cnt=1,cn=f(i);ll y=(1<<26)-1;\n\t\twhile(x){\n\t\t\tif(x&1)y&=a[cnt];\n\t\t\tx>>=1,cnt++;\n\t\t}\n\t\tif(cn&1)ans=(ans+qpow(f(y),l))%mod;\n\t\telse ans=(ans-qpow(f(y),l)+mod)%mod;\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n\n```",
        "postTime": 1679702148,
        "uid": 749743,
        "name": "e4fsrc2e4fsrc2",
        "ccfLevel": 0,
        "title": "ABC246F \u9898\u89e3"
    }
]