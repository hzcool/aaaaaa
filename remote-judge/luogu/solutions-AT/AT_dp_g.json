[
    {
        "content": "# [\u539f\u9898\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT_dp_g)\n## Part0\uff1a\n\u9898\u76ee\u5927\u610f\uff1a\n\n- \u7ed9\u51fa\u4e00\u68f5 $N$ \u4e2a\u9876\u70b9 $M$ \u6761\u8fb9\u7684**\u6709\u5411\u65e0\u73af\u56fe**\u3002\n- \u6c42\u8be5\u56fe\u6700\u957f\u8def\u957f\u5ea6\uff0c\u5373\u6700\u957f\u8def\u5f84\u7684**\u8fb9\u6570**\u3002\n- $2 \\leq N \\leq 10^{5}$\uff0c$1 \\leq M \\leq 10^{5}$\u3002\n\n\u6837\u4f8b\u8f93\u5165\uff1a\n```\n4 5\n1 2\n1 3\n3 2\n2 4\n3 4\n```\n\u6837\u4f8b\u8f93\u51fa\uff1a\n```\n3\n```\n![](https://stream.lexar.com/downloadService/download/graph1.png?dKey=9d9439fc3e0ac400a5e5068fcd542682&type=2)\n\n\u5982\u56fe\uff0c\u6700\u957f\u8def\u5f84\u4e3a $\\{1,3,2,4\\}$\uff0c\u8be5\u8def\u5f84\u8fb9\u7684\u6570\u91cf\u4e3a $3$\u3002\n## Part1\uff1a\n\u9996\u5148\uff0c\u7531\u4e8e $N \\leq 10^{5}$ \uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u8be5\u9898\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n)$\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5c06\u6bcf\u4e00\u4e2a\u70b9\u90fd\u904d\u5386\u4e00\u904d\u3002\n\n\u7531\u4e8e\u8be5\u9898\u4e3a**\u6709\u5411\u65e0\u73af\u56fe**\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u6309\u5e8f\u53bb\u641c\u7d22\u904d\u5386\u6bcf\u4e00\u4e2a\u70b9\u3002\u82e5\u8be5\u70b9\u672a\u88ab\u8bbf\u95ee\u8fc7\uff0c\u5219\u5bf9\u5176\u8fdb\u884c\u641c\u7d22\uff1b\u5426\u5219\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u5bf9\u8be5\u70b9\u4fdd\u5b58\u7684\u7b54\u6848\u8fdb\u884c\u6c42\u6700\u5927\u3002\n\n**AC Code\uff1a**\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint ans,dp[100010],n,m,x,y,i,cnt,head[100010];\nstruct Edge{int next,to;}e[100010];//\u90bb\u63a5\u8868\nvoid add(int x,int y){e[++cnt]={head[x],y};head[x]=cnt;}//\u90bb\u63a5\u8868\u5efa\u8fb9\nvoid dfs(int u){\n\tif(dp[u]) return ;//\u5df2\u7ecf\u8bbf\u95ee\u8fc7\uff0c\u65e0\u9700\u518d\u6b21\u641c\u7d22\n\tint i,v;dp[u]=-1;\n\tfor(i=head[u];i;i=e[i].next){\n\t\tv=e[i].to;\n\t\tdfs(v);\n\t\tdp[u]=max(dp[u],dp[v]);//\u5728\u513f\u5b50\u7684\u8fb9\u6570\u4e2d\u6c42\u6700\u5927\n\t}\n\t++dp[u];//\u52a0\u4e0a\u81ea\u5df1\u4e0e\u513f\u5b50\u7684\u8fd9\u6761\u8fb9\n\tans=max(ans,dp[u]);\n}\nsigned main(){\n\tios::sync_with_stdio(0);cin.tie(0);cout.tie(0);\n\tcin>>n>>m;\n\twhile(m--) cin>>x>>y,add(x,y);//\u5efa\u8fb9\n\tfor(i=1;i<=n;i++) dfs(i);//\u641c\u7d22\n\tcout<<ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1678793739,
        "uid": 765958,
        "name": "lottle1212",
        "ccfLevel": 5,
        "title": "Longest Path \u9898\u89e3"
    },
    {
        "content": "# [\u539f\u9898\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT_dp_g)  \n\u6b64\u9898\u9898\u76ee\u610f\u601d\u5c31\u662f\u5728\u4e00\u4e2a**\u6709\u5411\u65e0\u73af\u56fe**\u4e2d\u627e\u5230\u6700\u957f\u8def\u5f84\u3002  \n\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u7528\u90bb\u63a5\u8868\u5b58\u8fb9\uff0c\u679a\u4e3e\u6bcf\u4e2a\u70b9\uff0cDfs \u641c\u7d22\u6700\u957f\u8def\u5f84\u3002  \n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(n^2)$\u3002  \n\u56e0\u4e3a\u6bcf\u4e2a\u70b9\u5f00\u59cb\u7684\u6700\u957f\u8def\u5f84\u662f\u4e0d\u53d8\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u52a0\u4e0a\u8bb0\u5fc6\u5316\u3002  \n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(n)$\u3002  \n#### \u4ee3\u7801:\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nint i,n,m,f[100100],x,y,ans,head[200100],tot;//\u5b9a\u4e49 \nstruct no{\n\tint zd,next;\n}e[1000100];\nvoid add(int x,int y){\n\te[++tot]=(no){y,head[x]};head[x]=tot;//\u90bb\u63a5\u8868\u5b58\u8fb9 \n}\nint dfs(int u){//u \u7236\u4eb2 \n\tif(f[u]!=0) return f[u];//\u8bb0\u5fc6\u5316 \n\tfor(int v,i=head[u];i;i=e[i].next){//\u679a\u4e3e\u6bcf\u4e2a\u513f\u5b50\n\t\tv=e[i].zd;//v \u513f\u5b50 \n\t\tf[u]=max(f[u],dfs(v)+1);//\u7236\u4eb2\u7684\u6700\u957f\u8def\u5f84\u5c31\u662f\u513f\u5b50\u7684\u6700\u957f\u8def\u5f84+1 \n\t}\n\treturn f[u];\n}\nsigned main(){\n\tcin>>n>>m;\n\tfor(i=1;i<=m;i++)\n\t\tcin>>x>>y,add(x,y);//\u8f93\u5165\n\tfor(i=1;i<=n;i++)//\u679a\u4e3e\u6bcf\u4e2a\u70b9 \n\t\tans=max(ans,dfs(i));//\u6c42\u6700\u5927\n\tcout<<ans;\n}\n```\n",
        "postTime": 1678367659,
        "uid": 759821,
        "name": "syxx24zqy",
        "ccfLevel": 0,
        "title": "Longest Path"
    },
    {
        "content": "\u62d3\u6251\u6392\u5e8f\u6a21\u677f\u9898\u3002\n\n\u62d3\u6251\u6392\u5e8f\u7684\u57fa\u672c\u601d\u60f3\u5c31\u662f\u4ece\u5165\u5ea6\u4e3a $0$ \u7684\u70b9\u5f00\u59cb\u904d\u5386\uff0c\u66f4\u65b0\u5b83\u80fd\u5230\u8fbe\u7684\u70b9\u7684\u7b54\u6848\uff0c\u540c\u65f6\u5220\u6389\u8fd9\u4e2a\u70b9\uff0c\u5373\u5b83\u53bb\u7684\u8fd9\u4e9b\u70b9\u5165\u5ea6\u51cf\u4e00\u3002\n\n\u663e\u7136\uff0c\u6700\u957f\u8def\u4e00\u5b9a\u662f\u4ece\u5165\u5ea6\u4e3a $0$ \u7684\u70b9\u5f00\u59cb\uff0c\u51fa\u5ea6\u4e3a $0$ \u7684\u70b9\u7ed3\u675f\uff0c\u53ef\u81ea\u884c\u53cd\u8bc1\u4e00\u4e0b\u3002\n\n\u8fd9\u4e2a\u9898\u6211\u4eec\u5f00\u4e00\u4e2a $dis$ \u6570\u7ec4\u5b58\u5230\u5165\u5ea6\u4e3a $0$ \u7684\u8d77\u70b9\u7684\u957f\u5ea6\u3002\u7528\u961f\u5217\u6216\u5411\u91cf\u5b58\u4e00\u4e0b\u5165\u5ea6\u4e3a $0$ \u7684\u70b9\uff0c\u90a3\u4e48\u5237\u8868\u53bb\u8dd1\u5c31\u884c\u4e86\u3002\n\n### AC code\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N = 1e5+10;\nint n,m;\nint du[N],h[N],tot,dis[N],vis[N];\nstruct edge{\n\tint u,v,nxt;\n}e[N];\nqueue<int>q;\ninline void add(int u,int v){\n\te[++tot].u = u;\n\te[tot].v = v;\n\te[tot].nxt = h[u];\n\th[u] = tot;\n\tdu[v] ++; \n}\ninline void dfs(int u){\n\tif(q.empty())return;\n\tq.pop();\n\t//cout << u << endl;\n\tfor(int i = h[u];i;i = e[i].nxt){\n\t\tint v = e[i].v;\n\t\tdis[v] = max(dis[v],dis[u] + 1);\n\t\tdu[v] --;\n\t\tif(du[v] == 0)q.push(v);\n\t}\n\tdfs(q.front());\n}\nint main(){\n\tcin >> n >> m;\n\tfor(int i = 1;i <= m;i ++){\n\t\tint u,v;\n\t\tcin >> u >> v;\n\t\tadd(u,v);\n\t}\n\tint ans = 0;\n\tfor(int i = 1;i <= n;i ++)if(du[i] == 0)q.push(i);\n\tdfs(q.front());\n\tfor(int i = 1;i <= n;i ++)ans = max(ans,dis[i]);\n\tcout << ans << endl;\n\treturn 0;\n}\n```",
        "postTime": 1681875502,
        "uid": 343342,
        "name": "SDFZ_Obvious",
        "ccfLevel": 4,
        "title": "Longest Path \u9898\u89e3"
    },
    {
        "content": "\u7531\u4e8e\u9898\u76ee\u662f\u8981\u8ba9\u6211\u4eec\u6c42 **\u6709\u5411\u65e0\u73af\u56fe** \u4e0a\u7684\u6700\u957f\u8def\uff0c\u4e0d\u96be\u60f3\u5230\u5bf9\u56fe\u8fdb\u884c\u5206\u5c42\uff0c\u8fd9\u6837\u5c31\u53ea\u80fd\u4ece\u524d\u9762\u4e00\u5c42\u8d70\u5230\u540e\u9762\u4e00\u5c42\uff0c\u5982\u679c\u60f3\u8981\u8ba9\u8def\u5f84\u6700\u957f\uff0c\u663e\u7136\u53ea\u80fd\u4ece\u6700\u9876\u5c42\u4e00\u5c42\u4e00\u5c42\u8d70\u5230\u6700\u5e95\u5c42\uff0c\u5373\u7b54\u6848\u4e3a\u5c42\u6570 $-1$\u3002\n\n\u81f3\u4e8e\u5c42\u6570\u7684\u6c42\u6cd5\u53ef\u4ee5\u4f7f\u7528\u62d3\u6251\u6392\u5e8f\uff0c\u7ef4\u62a4\u4e00\u4e0b\u5f53\u524d\u5c42\u6570\u5c31\u884c\u3002\n\n```cpp\n#include <iostream>\n#include <vector>\n\nusing namespace std;\n\nconst int kN = 1e5 + 1;\n\nint n, m, c[kN], d[kN], q[kN], h = 1, t;\nvector<int> e[kN];\n\nint main() {\n  cin >> n >> m;\n  for (int i = 1, x, y; i <= m; ++i) {\n    cin >> x >> y;\n    e[x].push_back(y), ++c[y];  // \u5efa\u56fe\uff0c\u8ba1\u7b97\u5165\u5ea6\n  }\n  for (int i = 1; i <= n; ++i) {\n    if (!c[i]) {             // \u82e5\u5165\u5ea6\u4e3a0\n      q[++t] = i, d[i] = 1;  // \u5219\u52a0\u5165\u961f\u5217\u5e76\u66f4\u65b0\u5c42\u6570\n    }\n  }\n  for (; h <= t; ++h) {                  // \u62d3\u6251\u6392\u5e8f\n    for (int i : e[q[h]]) {              // \u904d\u5386\u51fa\u8fb9\n      if (!--c[i]) {                     // \u82e5\u66f4\u65b0\u540e\u7684\u5165\u5ea6\u4e3a0\n        q[++t] = i, d[i] = d[q[h]] + 1;  // \u5219\u52a0\u5165\u961f\u5217\u5e76\u66f4\u65b0\u5c42\u6570\n      }\n    }\n  }\n  cout << d[q[t]] - 1;  // \u7ed3\u679c\u4e3a\u5c42\u6570-1\n  return 0;\n}\n```\n",
        "postTime": 1630402112,
        "uid": 376161,
        "name": "wsfxk",
        "ccfLevel": 6,
        "title": "AT4528 \u9898\u89e3"
    },
    {
        "content": "\u672c\u9898\u8ba9\u6211\u4eec\u6c42\u6700\u957f\u8def\u7684\u957f\u5ea6\u3002\r\n\r\n\u672c\u9898\u7684\u56fe\u662f\u4e00\u4e2a\u6709\u5411\u65e0\u73af\u56fe\uff0c\u52a8\u6001\u89c4\u5212\u662f\u89e3\u51b3\u8fd9\u4e00\u7c7b\u95ee\u9898\u7684\u5e38\u7528\u65b9\u6cd5\u3002\r\n\r\n\u6211\u4eec\u8bbe $f_i$ \u8868\u793a\u4ece\u70b9 $i$ \u5f00\u59cb\u8d70\uff0c\u80fd\u8d70\u7684\u6700\u8fdc\u8ddd\u79bb\u3002\r\n\r\n\u90a3\u4e48\uff0c\u6700\u957f\u8def\u4e00\u5b9a\u662f\u6700\u5927\u7684 $f_i$\uff0c\u4e3a\u4ec0\u4e48\uff1f\u56e0\u4e3a\u6700\u957f\u8def\u4e5f\u6709\u4e00\u4e2a\u8d77\u70b9\u554a\uff0c\u4ece\u90a3\u4e2a\u8d77\u70b9\uff0c\u5c3d\u53ef\u80fd\u8d70\u6700\u8fdc\uff0c\u4e0d\u5c31\u662f\u6700\u957f\u8def\u4e86\u5417\uff1f\r\n\r\n\u8f6c\u79fb\u65b9\u7a0b\uff1a\r\n\r\n$$\r\nf_i=\\max(0,\\max_{(i,j)\\in E}(f_j+1))\r\n$$\r\n\r\n\u56e0\u4e3a\u8fd9\u662f\u65e0\u73af\u56fe\uff0c\u4e0d\u5b58\u5728\u4ece\u4e00\u70b9\u8d70\u7740\u8d70\u7740\u56de\u5230\u81ea\u5df1\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u4e0d\u53ef\u80fd\u5728\u6c42\u89e3 $f_i$ \u65f6\u8981\u6c42\u51fa $f_i$\uff0c\u8fd9\u4e5f\u5c31\u6ee1\u8db3\u4e86\u52a8\u6001\u89c4\u5212\u7684\u540e\u65e0\u6548\u6027\u3002\r\n\r\n\u90a3\u6b63\u5e38\u6765\u8bf4\uff0c\u6211\u4eec\u8981\u627e\u51fa\u5ea6\u4e3a\u96f6\u7684\u70b9\uff0c\u7136\u540e\u5012\u9000\u6c42\u89e3\uff0c\u6574\u4f53\u4f7f\u7528\u62d3\u6251\u6392\u5e8f\uff0c\u6709\u4e9b\u5c0f\u9ebb\u70e6\u3002\r\n\r\n\u5982\u679c\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u5c31\u65b9\u4fbf\u591a\u4e86\uff0c\u800c\u4e14\u6bcf\u4e2a\u5e97\uff0c\u6bcf\u4e2a\u8fb9\uff0c\u6700\u591a\u8bbf\u95ee\u4e00\u6b21\uff0c\u6240\u4ee5\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n+m)$\u3002\r\n\r\n\u4ee3\u7801\u5982\u4e0b\uff1a\r\n\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\r\nusing namespace std;\r\nlong long n,m,x,y,f[100005],ans;\r\nvector<long long>v[100005];\r\nlong long dfs(long long x)\r\n{\r\n\tif(f[x]==0)//\u5982\u679c\u6ca1\u6c42\u8fc7\u5c31\u6c42\u51fa\u6765\r\n\t{\r\n\t\tfor(auto i:v[x])//\u65b0\u7248\u672c\u7684\u904d\u5386\u65b9\u6cd5\uff0c\u76f8\u5f53\u4e8e\u904d\u5386v[x]\u7684\u6240\u6709\u5143\u7d20\uff0c\u503c\u5b58\u50a8\u5728i\r\n\t\t{\r\n\t\t\tf[x]=max(dfs(i)+1,f[x]);\r\n\t\t}\r\n\t}\r\n\treturn f[x];\r\n}\r\nint main()\r\n{\r\n\tcin>>n>>m;\r\n\tfor(int i=1;i<=m;i++)\r\n\t{\r\n\t\tcin>>x>>y;\r\n\t\tv[x].push_back(y);//\u52a0\u8fb9\r\n\t}\r\n\tfor(int i=1;i<=n;i++)\r\n\t{\r\n\t\tans=max(dfs(i),ans);//\u6c42fi\u4e2d\u7684\u6700\u5927\u503c\uff0c\u6ca1\u6c42\u8fc7\u7684\u6c42\u51fa\u6765\uff0c\u6c42\u8fc7\u7684\u76f4\u63a5\u8fd4\u56de\u503c\uff0c\u6548\u7387\u9ad8\r\n\t}\r\n\tcout<<ans<<endl; \r\n} \r\n```",
        "postTime": 1666595928,
        "uid": 501947,
        "name": "DengDuck",
        "ccfLevel": 6,
        "title": "DP-G Longest Path \u9898\u89e3"
    },
    {
        "content": "# AT4528 Longest Path\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT4528)\n\n\u8fd9\u9898\u7684\u8f6c\u79fb\u65b9\u7a0b\u6bd4\u8f83\u663e\u7136\uff0c\u5373 $dp[i]$ \u8868\u793a\u4ee5\u8282\u70b9 $i$ \u4e3a\u7ec8\u70b9\u7684\u8def\u5f84\u4e2d\u6700\u957f\u7684\u957f\u5ea6\u3002 \n\n\u82e5\u5b58\u5728\u8fb9 $j \\to i$\uff0c\u5219\u8f6c\u79fb\u65b9\u7a0b\u4e3a\uff1a $f[i]=\\max (f[i],f[j]+1) $\n\n\u6709\u5411\u65e0\u73af\u56fe\u6700\u91cd\u8981\u7684\u6027\u8d28\u5c31\u662f\u6ca1\u6709\u73af\uff0c\u8fd9\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u5bf9\u8282\u70b9\u8fdb\u884c\u62d3\u6251\u6392\u5e8f\uff0c \u5e76\u6309\u7167\u62d3\u6251\u5e8f\u7684\u987a\u5e8f\u8ba1\u7b97dp\u72b6\u6001\u7684\u503c\u3002\u76f8\u4fe1\u4f60\u5bf9\u4e8e\u5bbd\u5ea6\u4f18\u5148\u641c\u7d22\uff08BFS\uff09\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898\uff0c\u4ee5\u4e0b\u6211\u7ed9\u51fa\u4e00\u79cd\u7528\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff08DFS\uff09\u7684\u505a\u6cd5\uff0c\u53c8\u79f0\u8bb0\u5fc6\u5316\u641c\u7d22\u3002\n\n\u672c\u9898\u53c2\u8003\u7a0b\u5e8f\u5982\u4e0b\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int mod=1e9+7;\nconst double eps=1e-8;\nconst int INF=0x3f3f3f3f;\nconst int maxn=1e5+5;\nconst int maxm=1e6+5;\nstruct node{\n\tint to,nxt;\n}e[maxn];\nint n,m,ans,pos,head[maxn],f[maxn];\nbool vis[maxn];\ninline void add(int u,int v){\n\te[++pos]=(node){v,head[u]},head[u]=pos;\n}\ninline void dfs(int u){\n\tif(vis[u])return;\n\tvis[u]=true;\n\tfor(int i=head[u],v;i;i=e[i].nxt){\n\t\tv=e[i].to;\n\t\tdfs(v);\n\t\tf[u]=max(f[u],f[v]+1);\n\t}\n\tans=max(ans,f[u]);\n}\nint main(int argc,char const *argv[]){\n\tstd::ios::sync_with_stdio(false);\n\tcin>>n>>m;\n\tfor(int i=1,u,v;i<=m;++i){\n\t\tcin>>u>>v;\n\t\tadd(u,v);\n\t}\n\tfor(int i=1;i<=n;++i){\n\t\tdfs(i);\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n\n\u672c\u7bc7\u9898\u89e3\u5c31\u5230\u6b64\u7ed3\u675f\u4e86\uff0c\u5982\u679c\u559c\u6b22\uff0c\u8fd8\u8bf7\u70b9\u4e2a\u8d5e\u5427\u3002",
        "postTime": 1614520687,
        "uid": 235801,
        "name": "\u89e6\u60c5\u79bb\u6b87",
        "ccfLevel": 4,
        "title": "AT4528 Longest Path"
    },
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT_dp_g)        \n\u8fd9\u91cc\u6dfc\u4e00\u53d1\u8bb0\u5fc6\u5316\u641c\u7d22\u9898\u89e3\u3002       \n\u4e00\u773c dfs\u3002       \n\u6211\u4eec\u8bbe\u4e00\u4e2a\u70b9\u4e3a\u8d77\u59cb\u70b9\uff0c\u4ece\u5b83\u5f00\u59cb\u8fdb\u884c\u904d\u5386\uff0c\u6211\u4eec\u8bbe $f(i)$ \u4e3a\u8fd9\u4e2a\u70b9\u7684\u6700\u957f\u8def\u8fb9\u6570\uff0c\u5219\u6709 $f(i)=1+\\max{v_i}$\uff0c$v_i$ \u8868\u793a\u548c\u8fd9\u4e2a\u70b9\u6709\u8fb9\u8fde\u63a5\u7684\u70b9\u3002      \n\u8fd9\u4e48\u6837\u592a\u6162\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 $dp_i$ \u8868\u793a $f(i)$ \u7684\u503c\u3002         \n\u8fd9\u6837\uff0c\u65f6\u95f4\u53d8\u4e3a\u4e86 $O(n)$\u3002      \n\u6ce8\u610f\u56fe\u4e0d\u4e00\u5b9a\u8fde\u901a\uff0c\u6240\u4ee5\u7ed3\u679c\u4e3a $\\max\\limits^n_{i=1}f(i)$\u3002      \n[CODE](https://www.luogu.com.cn/paste/awjb8ayg)",
        "postTime": 1679790707,
        "uid": 592238,
        "name": "__dest__ruct__or__",
        "ccfLevel": 0,
        "title": "AT_dp_g Longest Path \u9898\u89e3"
    },
    {
        "content": "# \u601d\u8def\n\u8fd9\u9053\u9898\u6211\u4eec\u53d1\u73b0\u53ef\u4ee5\u7528\u4e00\u4e2a\u8bb0\u5fc6\u5316\u641c\u7d22\u6765\u89e3\u89c9\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5c06 $x$ \u548c $y$ \u5efa\u8fb9\u7136\u540e\u53bb\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\u641c\u7d22\u51fa\u6bcf\u4e00\u4e2a\u70b9\u7684\u6df1\u5ea6\uff08\u5373\u9898\u76ee\u4e2d\u7684\u957f\u5ea6\uff09\uff0c\u6211\u4eec\u5728\u51fd\u6570\u4e2d\u53ea\u9700\u8981\u5c06 $x$ \u7684\u513f\u5b50\u7684\u957f\u5ea6\u52a0\u4e00\u5e76\u4e14\u4e0e\u672c\u8eab\u7684\u503c\u53bb\u4e00\u4e2a\u6700\u5927\u503c\uff0c\u7136\u540e\u8fd4\u56de\u3002\n\n\u518d\u5728\u4e3b\u51fd\u6570\u4e2d\u5bf9\u6bcf\u4e00\u4e2a\u70b9\u8fdb\u884c\u641c\u7d22\uff0c\u5e76\u8f93\u51fa\u4ed6\u4eec\u4e2d\u7684\u6700\u5927\u503c\u5373\u53ef\u3002\n# \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n#define rep(x,i,j) for(int x=i;x<=j;x++)\n#define IOS std::ios::sync_with_stdio(0);cin.tie(0);cout.tie(0)\n#define pb push_back\n#define int long long\nusing namespace std;\nint n,m,f[100100],x,y,res,head[200100],tot;\nstruct node{\n\tint x,y;\n}edg[1000100];\nvoid add(int x,int y) { //\u5efa\u8fb9\n\tedg[++tot].x=y;\n\tedg[tot].y=head[x];\n\thead[x]=tot;\n}\nint dfs(int x) {\n\tif(f[x]) return f[x];\n\tfor(int i=head[x];i;i=edg[i].y) { //\u62ff\u51fa\u4ed6\u7684\u513f\u5b50\n\t\tint u=edg[i].x;\n\t\tf[x]=max(f[x],dfs(u)+1); //\u66f4\u65b0\u7b54\u6848\n\t}\n\treturn f[x];\n}\nsigned main() {\n\tIOS;\n\tcin>>n>>m;\n\trep(i,1,m) {\n\t\tcin>>x>>y;\n\t\tadd(x,y);\n\t}\n\trep(i,1,n) res=max(res,dfs(i));\n\tcout<<res<<endl; //\u8f93\u51fa\n\treturn false;//\u597d\u4e60\u60ef\n}\n/*\n4 5\n1 2\n1 3\n3 2\n2 4\n3 4\n*/\n```\n",
        "postTime": 1676017974,
        "uid": 381053,
        "name": "highkj",
        "ccfLevel": 4,
        "title": "AT_dp_g"
    },
    {
        "content": "## \u5e8f:\n\u53cc\u500d\u7ecf\u9a8c\u9898 [P1807 \u6700\u957f\u8def](https://www.luogu.com.cn/problem/P1807)\n\n## \u89e3\u9898\u601d\u8def:\n\n\u4ee5\u4e0b\u63d0\u4f9b\u4e09\u79cd\u4e0d\u540c\u89e3\u9898\u65b9\u6cd5\u3002\n\n### \u65b9\u6cd51\uff1aBFS\n\n\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9\uff0c\u7528BFS\u6c42\u51fa\u5176\u6700\u957f\u8def\u5f84\u3002\u53d6\u6700\u5927\u503c\u3002\n\n\u9884\u8ba1\u5f97\u5206\uff1a30pts\n\n\u5b9e\u9645\u5f97\u5206\uff1a20pts\n\n\u8003\u8651\u4f18\u5316\uff1a\u8fb9\u6743\u503c\u5747\u4e3a1\uff0c\u6240\u4ee5\u5c3d\u53ef\u80fd\u5730\u591a\u8d70\u4e00\u4e9b\u8fb9\u3002\u90a3\u4e48\uff0c\u5bf9\u4e8e\u4efb\u610f\u7684\u5165\u5ea6\u975e0\u7684\u8d77\u70b9\uff0c\u5fc5\u7136\u5728\u8fd9\u4e2a\u70b9\u4e4b\u524d\u8fd8\u6709\u8fb9\uff0c\u4e0d\u6784\u6210\u6700\u957f\u8def\u3002\u6211\u4eec\u9700\u8981\u627e\u5230\u6240\u6709\u5165\u5ea6\u4e3a0\u7684\u8282\u70b9\u5e76\u5bf9\u5b83\u8fdb\u884cBFS\u6c42\u5f97\u6700\u957f\u8def\u3002\n\n\u9884\u8ba1\u5f97\u5206\uff1a70-80pts\n\n\u5b9e\u9645\u5f97\u5206\uff1a28pts\n\n### \u65b9\u6cd52\uff1a\u6700\u77ed\u8def\u7b97\u6cd5\u6c42\u6700\u957f\u8def\n\n#### Floyd\u6c42\u6700\u957f\u8def\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b $f_{i,j} = (f_{i,j},f_{i,k}+f_{k,j})_{max}$\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^3)$\u3002\n\n\u9884\u8ba1\u5f97\u5206\uff1a30pts\n\n\u5b9e\u9645\u5f97\u5206\uff1a24pts\n\n#### Bellman-Ford/SPAF\u6c42\u6700\u957f\u8def\n\n\u5c06\u539f\u7b97\u6cd5\u4e2d\u677e\u5f1b\u64cd\u4f5c\u53d6\u5c0f\u503c\u6539\u4e3a\u53d6\u5927\u503c\u5373\u53ef\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $O(nm)$\u3002\n\n\u9884\u8ba1\u5f97\u5206\uff1a30-40pts\n\n### \u65b9\u6cd53\uff1aDAG\u56fe\u6c42\u5173\u952e\u8def\u5f84\n\n\u5728\u62d3\u6251\u6392\u5e8f\u7684\u8fc7\u7a0b\u4e2d\u6c42\u5f97\u5173\u952e\u8def\u5f84\u5373\u53ef\u3002\u8be6\u89c1\u4ee3\u7801\u3002\n\n\u9884\u8ba1\u5f97\u5206\uff1a100pts\n\n\u5b9e\u9645\u5f97\u5206\uff1a100pts\n\n## \u4ee3\u7801\uff1a\n\n```cpp\n//\u65b9\u6cd51\uff1aBFS\n//\u66b4\u529b\u65b9\u6848\n/*\n\u9884\u8ba1\u5f97\u5206\uff1a30pts\n\u5b9e\u9645\u5f97\u5206\uff1a20pts\n*/\n#include<bits/stdc++.h>\nusing namespace std;\nstruct Edge{\n\tint v,nxt;\n}edge[100010];\nqueue<int>q;\nint n,m,ans;\nint edge_cnt;\nint dis[100010];\nint head[100010];\nvoid add(int u,int v){\n\tedge[++edge_cnt].v=v;\n\tedge[edge_cnt].nxt=head[u];\n\thead[u]=edge_cnt;\n}\nvoid bfs(int x){\n\tmemset(dis,0,sizeof dis);\n\tq.push(x);\n\twhile(!q.empty()){\n\t\tint u=q.front();\n\t\tq.pop();\n\t\tfor(int i=head[u];i;i=edge[i].nxt){\n\t\t\tq.push(edge[i].v);\n\t\t\tdis[edge[i].v]=max(dis[edge[i].v],dis[u]+1);\n\t\t}\n\t}\n\tans=max(ans,*max_element(dis+1,dis+n+1));\n}\nint main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=m;i++){\n\t\tint u,v;\n\t\tcin>>u>>v;\n\t\tadd(u,v);\n\t}\n\tfor(int i=1;i<=n;i++) bfs(i);\n\tcout<<ans;\n\n\treturn 0;\n}\n```\n\n```cpp\n//\u65b9\u6cd51\uff1aBFS\n//\u4f18\u5316\u65b9\u6848\n/*\n\u9884\u8ba1\u5f97\u5206\uff1a70-80pts\n\u5b9e\u9645\u5f97\u5206\uff1a28pts\n*/\n#include<bits/stdc++.h>\nusing namespace std;\nstruct Edge{\n\tint v,nxt;\n}edge[100010];\nqueue<int>q;\nint n,m,ans;\nint edge_cnt;\nint dis[100010],indegree[100010];\nint head[100010];\nvoid add(int u,int v){\n\tedge[++edge_cnt].v=v;\n\tedge[edge_cnt].nxt=head[u];\n\thead[u]=edge_cnt;\n}\nvoid bfs(int x){\n\tmemset(dis,0,sizeof dis);\n\tq.push(x);\n\twhile(!q.empty()){\n\t\tint u=q.front();\n\t\tq.pop();\n\t\tfor(int i=head[u];i;i=edge[i].nxt){\n\t\t\tq.push(edge[i].v);\n\t\t\tdis[edge[i].v]=max(dis[edge[i].v],dis[u]+1);\n\t\t}\n\t}\n\tans=max(ans,*max_element(dis+1,dis+n+1));\n}\nint main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=m;i++){\n\t\tint u,v;\n\t\tcin>>u>>v;\n\t\tadd(u,v);\n\t\tindegree[v]++;\n\t}\n\tfor(int i=1;i<=n;i++) if(indegree[i]==0) bfs(i);\n\tcout<<ans;\n\n\treturn 0;\n}\n```\n\n```cpp\n//\u65b9\u6cd5\u4e8c\uff1a\u6700\u77ed\u8def\u7b97\u6cd5\u6c42\u6700\u957f\u8def\n//Floyd\u6c42\u6700\u957f\u8def\n#include<bits/stdc++.h>\n#define inf 0x7fffffff\nusing namespace std;\nint n,m,ans;\nint dis[1000][1000]; //O(n^3)\u53ea\u80fd\u8fc7\u51e0\u767e\u7684\u6570\u636e\uff0c\u6240\u4ee5\u6570\u7ec4\u53ea\u5f00\u8fd9\u4e48\u70b9\nsigned main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++) for(int j=1;j<=n;j++) dis[i][j]=(i==j?0:inf);\n\tfor(int i=1;i<=m;i++){\n\t\tint u,v;\n\t\tcin>>u>>v;\n\t\tdis[u][v]=-1;\n\t}\n\tfor(int k=1;k<=n;k++)\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(int j=1;j<=n;j++)\n\t\t\t\tif(dis[i][k]!=inf && dis[k][j]!=inf)\n\t\t\t\t\tdis[i][j]=min(dis[i][j],dis[i][k]+dis[k][j]);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tans=max(ans,-dis[i][j]);\n\tcout<<ans;\n\n\treturn 0;\n}\n\n```\n\n```cpp\n//Bellman-Ford/SPFA\u5c31\u4e0d\u5199\u4e86\uff0c\u5b9e\u9645\u5f97\u5206\u8ddfBFS/BFS\u4f18\u5316\u56e0\u8be5\u5dee\u4e0d\u4e86\u591a\u5c11(\u9003\n```\n\n```cpp\n\n//\u65b9\u6cd5\u4e09\uff1aDAG\u6c42\u5173\u952e\u8def\u5f84\n//\u62d3\u6251\u6392\u5e8f+\u5173\u952e\u8def\u5f84\n/*\n\u9884\u8ba1\u5f97\u5206\uff1a100pts\n\u5b9e\u9645\u5f97\u5206\uff1a100pts\n*/\n#include<bits/stdc++.h>\nusing namespace std;\nstruct Edge{\n\tint v,nxt;\n}edge[100010];\nqueue<int>q;\nint n,m;\nint edge_cnt;\nint indegree[100010],dis[100010];\nint head[100010];\nvoid add(int u,int v){\n\tedge[++edge_cnt].v=v;\n\tedge[edge_cnt].nxt=head[u];\n\thead[u]=edge_cnt;\n}\nint main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=m;i++){\n\t\tint u,v;\n\t\tcin>>u>>v;\n\t\tadd(u,v);\n\t\tindegree[v]++;\n\t}\n\tfor(int i=1;i<=n;i++) if(indegree[i]==0) q.push(i);\n\twhile(!q.empty()){\n\t\tint u=q.front();\n\t\tq.pop();\n\t\tfor(int i=head[u];i;i=edge[i].nxt){\n\t\t\tint v=edge[i].v;\n\t\t\tindegree[v]--;\n\t\t\tdis[v]=max(dis[v],dis[u]+1);\n\t\t\tif(indegree[v]==0) q.push(v);\n\t\t}\n\t}\n\tcout<<*(max_element(dis+1,dis+n+1));\n\n\treturn 0;\n}\n```\n\n\u6ce8\uff1a\u4ee5\u4e0a\u6240\u6709\u975eAC\u4ee3\u7801\u6d4b\u8bc4\u65f6\u5747\u5df2\u5f00\u542fO2",
        "postTime": 1670227618,
        "uid": 638717,
        "name": "Lyu_echo",
        "ccfLevel": 5,
        "title": "AT_dp_g Longest Path \u9898\u89e3"
    },
    {
        "content": "# \u9898\u76ee\u5927\u610f\n\n\u7ed9\u5b9a\u4e00\u4e2a **\u6709\u5411\u65e0\u73af\u56fe** \uff0c\u6c42\u6700\u957f\u8def\u957f\u5ea6\u3002\n\n## \u601d\u8def\n\n1. \u66b4\u641c\uff1a\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9\uff0c\u901a\u8fc7\u641c\u7d22\u6c42\u51fa\u5df2\u8be5\u70b9\u4e3a\u8d77\u70b9\u7684\u6700\u957f\u8def\u957f\u5ea6\u3002\u518d\u628a\u6bcf\u4e00\u4e2a\u70b9\u7684\u6700\u957f\u8def\u957f\u5ea6\u53d6\u4e2a\u6700\u5927\u503c\u3002\u5219\u53ef\u5f97\u6574\u4e2a\u56fe\u7684\u6700\u957f\u8def\u957f\u5ea6\u3002\n\n2. \u8bb0\u641c\uff08\u8bb0\u5fc6\u5316\u641c\u7d22\uff09\uff1a\u7531\u9898\u53ef\u63a8\u51fa\u8fb9 $u\\to v$ \u7684\u6700\u957f\u8def\u7684\u72b6\u6001\u8f6c\u79fb\uff0c\u5373 $f[i]=max(f[i],f[j]+1)$ \u901a\u8fc7\u8bb0\u641c\u5b8c\u6210\u8f6c\u79fb\u3002\n\n## AC code\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 100005;\nint n, m, ans, dp[N];\nvector <int> e[N];\nbool v[N]; \n\nvoid dfs(int x){\n\tif(v[x]) return ;//\u8bb0\u641c \n\tv[x] = 1;//\u6807\u8bb0\u4e3a\u51fa\u73b0\u8fc7 \n\tfor(int i = 0;i < e[x].size();i++){\n\t\tdfs(e[x][i]);//\u904d\u5386\u6bcf\u4e00\u6761\u8fb9 \n\t\tdp[x] = max(dp[x], dp[e[x][i]] + 1);//\u8f6c\u79fb \n\t}\n\tans = max(ans, dp[x]);//\u53d6\u6700\u957f\u8def\u6700\u5927\u503c \n}\n\nint main(){\n\tcin >> n >> m;\n\tfor(int i = 1;i <= m;i++){\n\t\tint a, b;\n\t\tcin >> a >> b;\n\t\te[a].push_back(b);//\u8fde\u8fb9 \n\t}\n\tdp[0] = 0;\n\tfor(int i = 1;i <= n;i++){//\u679a\u4e3e\u6bcf\u4e00\u6761\u8fb9 \n\t\tdfs(i);\n\t}\n\tcout << ans << '\\n';\n\treturn 0;//\u5b8c\u7ed3\u6492\u82b1\uff01 \n}\n//\u9632\u4f2a\u6807\u8bb0\n```\n\n~~[\u5b89\u5229](https://yzy001633.blog.luogu.org/)\uff0c\u9003\uff01~~\u3002",
        "postTime": 1658369816,
        "uid": 519573,
        "name": "Daniel_yao",
        "ccfLevel": 0,
        "title": "AT4528 Longest Path \u9898\u89e3"
    },
    {
        "content": "\u672c\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\u3002\n\n\u5176\u5b9e\u5c31\u662f\u5148\u62d3\u6251\u6392\u5e8f\uff0c$dp[i]$ \u8868\u793a\u4ece\u6bcf\u4e2a\u70b9\u5f00\u59cb\u7684\u957f\u5ea6\uff0c\u7136\u540e\u626b\u4e00\u904d\u7edf\u8ba1 $max$ \u8ba1\u5165\u7b54\u6848\u5c31\u884c\u4e86\u3002\n\u62d3\u6251\u6392\u5e8f\u53ef\u4ee5 dfs \u770b\u7ed3\u675f\u65f6\u95f4\uff0c\u4e5f\u53ef\u4ee5\u624b\u52a8\u5220\u9664\u7aef\u70b9\u3002~~\u5c31\u662f\u6709\u70b9\u9ebb\u70e6~~\n```cpp\nvoid dfs(int x){\n\tused[x]=true;\n\tfor(int i=0;i<v[x].size();i++){\n\t\tif(!used[v[x][i]]) dfs(v[x][i]);\n\t}\n\ttopo.push_back(x);\n}\n \n\n\n```\n\n\n\u6700~~\u66b4\u529b~~\u7b80\u5355\u7684\u5c31\u662f\u679a\u4e3e\u6bcf\u4e2a\u70b9\uff0c\u7136\u540e bfs \u627e\u5230\u6700\u8fdc\u7684\uff0c\u4f46\u662f\u4f1a TLE\u3002\n\n\u5b8c\u6574\u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define rep(i,n) for(i=0;i<n;i++)\n#define Rep(i,x,n) for(i=x;i<=n;i++)\n#define all(v) v.begin(),v.end()\n#define foreach(c,itr) for(__typeof(c.begin()) itr=c.begin();itr!=c.end();itr++)\n#define p_b push_back\n#define pii pair<int,int>\n#define fr first\n#define sc second\n#define m_p make_pair\n#define zero(a) memset(a,0,sizeof(a))\n#define setp setprecision\ntypedef long long ll;\ntypedef long double ld;\nconst ll INF=0x3f3f3f3f;\nconst ll mod=1000000007;\nconst ld eps=1e-14;\nint i,j;\n\nint n,m;\nint dp[100005];\nvector<int> v[100005];\nvector<int> topo;\nbool used[100005]={false};\n \nvoid dfs(int x){\n\tused[x]=true;\n\tfor(int i=0;i<v[x].size();i++){\n\t\tif(!used[v[x][i]]) dfs(v[x][i]);\n\t}\n\ttopo.push_back(x);\n}\n \nint main(){\n\tios::sync_with_stdio(false);\n    cin.tie();\n \n    cin>>n>>m;\n    while(m--){\n    \tint a,b;\n    \tcin>>a>>b;\n    \tv[a].push_back(b);\n    \t//v[b].push_back(a);\n\t}\n\tfor(i=1;i<=n;i++) if(!used[i]) dfs(i);\n\treverse(all(topo));\n\tfor(i=0;i<=topo.size();i++){\n    \tint maxn=0;\n    \tfor(j=0;j<v[topo[i]].size();j++){\t\n    \t\tdp[v[topo[i]][j]]=max(dp[v[topo[i]][j]],dp[topo[i]]+1);\n\t\t}\n\t}\t\n\t\n\tint ans=-1;\n\tfor(i=1;i<=n;i++){\n\t\tif(dp[i]>ans) ans=dp[i];\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n\n```\n\n",
        "postTime": 1623930963,
        "uid": 367830,
        "name": "JerryMao",
        "ccfLevel": 0,
        "title": "AT4528 Longest Path"
    },
    {
        "content": "\u5728 DAG \u4e0a dp\u3002\n\n\u9996\u5148\u505a\u4e00\u904d\u62d3\u6251\u6392\u5e8f\u3002\n\n\u8bbe $f[x]$ \u8868\u793a\u5230\u70b9 $x$ \u7684\u6700\u957f\u8def\uff0c\u82e5\u6709\u4e00\u6761\u8fb9 $u\\to v$\uff0c\u90a3\u4e48 $f[v]=f[u]+1$\u3002\u6700\u540e\u5728\u6240\u6709 $f[x]$ \u91cc\u53d6\u4e2a\u6700\u5927\u503c\u5373\u53ef\u3002\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <queue>\nusing namespace std;\ninline int read(){\n\tregister int x=0,v=1,ch=getchar();\n\twhile(!isdigit(ch)){if(ch=='-')v=-1;ch=getchar();}\n\twhile(isdigit(ch)){x=(x<<1)+(x<<3)+(ch^'0');ch=getchar();}\n\treturn x*v;\n}\nconst int MAX=1e5+5;\nqueue<int>q;\nint n,m;\nstruct E{int e,next;}e[MAX];int cnt=1,head[MAX];\ninline void add(int u,int v){e[cnt]=(E){v,head[u]};head[u]=cnt++;}\nint deg[MAX],top[MAX],x;\ninline void topsort(){\n\tfor(register int i=1;i<=n;++i)if(!deg[i])q.push(i);\n\twhile(!q.empty()){\n\t\tx=q.front();q.pop();\n\t\ttop[++top[0]]=x;\n\t\tfor(register int i=head[x];i;i=e[i].next){\n\t\t\t--deg[e[i].e];if(!deg[e[i].e])q.push(e[i].e);\n\t\t}\n\t}\n}\nint f[MAX],ans;\nsigned main(){\n\tn=read(),m=read();\n\tfor(register int i=1,u,v;i<=m;++i)u=read(),v=read(),add(u,v),++deg[v];\n\ttopsort();\n\tfor(register int j=1;j<=n;++j){\n\t\tx=top[j];\n\t\tfor(register int i=head[x];i;i=e[i].next){\n\t\t\tf[e[i].e]=max(f[e[i].e],f[x]+1);\n\t\t}\n\t}\n\tfor(register int i=1;i<=n;++i)ans=max(ans,f[i]);\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1601820781,
        "uid": 119062,
        "name": "Lates",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT4528 \u3010Longest Path\u3011"
    },
    {
        "content": ">### [\u6d1b\u8c37\u9898\u76ee\u9875\u9762\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT4528) & [AtCoder\u9898\u76ee\u9875\u9762\u4f20\u9001\u95e8](https://atcoder.jp/contests/dp/tasks/dp_g)\n\n>\u7ed9\u5b9a\u4e00\u4e2a\u65e0\u8fb9\u6743DAG$G=(V,E),|V|=n,|E|=m$\uff0c\u6c42\u6700\u957f\u94fe\u957f\u5ea6\u3002\n\n>$n\\in\\left[2,10^5\\right],m\\in\\left[1,10^5\\right]$\u3002\n\nDAG\u4e0aDP\u3002\n\n\u8bbe$dp_i$\u8868\u793a\u4ece\u8282\u70b9$i$\u5f00\u59cb\u7684\u6700\u957f\u94fe\u957f\u5ea6\u3002\u76ee\u6807\u662f$\\max\\limits_{i=1}^n\\{dp_i\\}$\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u662f$dp_i=\\max\\!\\left(0,\\max\\limits_{(i,j)\\in E}\\{dp_j+1\\}\\right)$\u3002\n\nDP\u987a\u5e8f\u81ea\u7136\u662f\u62d3\u6251\u9006\u5e8f\u3002\u4f46\u662f\u4e3a\u4e86\u66f4\u65b9\u4fbf\uff0c\u4e0d\u7528\u5199\u62d3\u6251\u6392\u5e8f\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bb0\u5fc6\u5316\u641c\u7d22\u3002\u65f6\u95f4\u590d\u6742\u5ea6$\\mathrm O(n+m)$\u3002\n\n\u4e0b\u9762\u662fAC\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define pb push_back\nconst int N=100000;\nint n,m;\nvector<int> nei[N+1];\nint dp[N+1];\nbool vis[N+1];//\u662f\u5426\u8bbf\u95ee\u8fc7 \nint ans;\nvoid dfs(int x){//\u8bb0\u5fc6\u82b1\u641c\u7d22 \n\tif(vis[x])return;\n\tvis[x]=true; \n\tfor(int i=0;i<nei[x].size();i++)dfs(nei[x][i]),dp[x]=max(dp[x],dp[nei[x][i]]+1);//\u8f6c\u79fb \n\tans=max(ans,dp[x]);//\u76ee\u6807 \n}\nint main(){\n\tcin>>n>>m;\n\twhile(m--){\n\t\tint x,y;\n\t\tcin>>x>>y;\n\t\tnei[x].pb(y);\n\t}\n\tfor(int i=1;i<=n;i++)dfs(i);\n\tcout<<ans;\n\treturn 0;\n}\n```",
        "postTime": 1584597520,
        "uid": 138400,
        "name": "chenxia25",
        "ccfLevel": 9,
        "title": "AtCoder dp_g - Longest Path"
    }
]