[
    {
        "content": "\u5148\u8003\u8651\u5224\u65ad\u4e0d\u5408\u6cd5\uff1a\n\n\u5982\u679c\u5bf9\u4e8e\u4e24\u4e2a\u70b9\uff0c$x+y$ \u7684\u5947\u5076\u6027\u4e0d\u76f8\u540c\uff0c\u5219\u4e00\u5b9a\u4e0d\u5408\u6cd5\u3002\u56e0\u4e3a\u4ece $(0, 0)$ \u8d70\u5230 $(x,y)$\uff0c\u81f3\u5c11\u9700\u8981\u957f\u5ea6\u4e3a $x+y$ \u7684\u673a\u68b0\u81c2\u3002\u82e5\u673a\u68b0\u81c2\u589e\u957f\uff0c\u5219\u9700\u8981\u4fdd\u8bc1\u5ef6\u957f\u51fa\u53bb\u7684\u8981\u80fd\u6536\u56de\u6765\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f60\u591a\u5f80\u5de6\u8d70\u4e00\u683c\uff0c\u4e5f\u5c31\u9700\u8981\u518d\u5f80\u53f3\u8d70\u56de\u53bb\u4e00\u683c\u3002\u8fd9\u6837\u7684\u8bdd\u662f\u4e0d\u80fd\u6539\u53d8\u5947\u5076\u6027\u7684\u3002\n\n\u90a3\u4e48\u73b0\u5728\u6211\u4eec\u5c31\u80fd\u5224\u65ad\u51fa\u4e0d\u80fd\u6784\u9020\u89e3\u7684\u6761\u4ef6\u4e86\u3002\n\n\u82e5\u4e0d\u5b58\u5728\u4e0d\u5408\u6cd5\u7684\u60c5\u51b5\uff0c\u8003\u8651\u5982\u4f55\u6784\u9020\uff1a\n\n\u6ce8\u610f\u5230 $m$ \u7684\u9650\u5236\u5927\u7ea6\u662f $\\log (x+y)$\uff0c\u5219\u8003\u8651\u500d\u589e\u6784\u9020\uff1a\n\n\u5148\u8003\u8651\u53ea\u6709\u4e00\u4e2a\u957f\u5ea6\u4e3a $1$ \u7684\u673a\u68b0\u81c2\u80fd\u5e72\u5565\uff1a\n\n\uff08\u4e0b\u9762\u7528 `.` \u63cf\u8ff0\u7684\u5750\u6807\u7cfb\u9ed8\u8ba4\u4e2d\u5fc3\u4e3a\u539f\u70b9\uff09\n\n```plain\n...........\n...........\n...........\n...........\n.....#.....\n....#.#....\n.....#.....\n...........\n...........\n...........\n...........\n```\n\n\u7136\u540e\u518d\u753b\u51fa\u6709 $1$ \u548c $2$ \u7684\u80fd\u5230\u8fbe\u7684\u683c\u70b9\uff1a\n\n\uff08\u7528 `&` \u8868\u793a\u7b2c\u4e00\u6b65 $2$ \u5230\u7684\u70b9\uff0c\u7136\u540e `#` \u518d\u8868\u793a\u7b2c\u4e8c\u6b65 $1$ \u80fd\u5230\u7684\u70b9\uff09\n\n```plain\n...........\n...........\n.....#.....\n....#&#....\n...#.#.#...\n..#&#.#&#..\n...#.#.#...\n....#&#....\n.....#.....\n...........\n...........\n```\n\n\u4e0d\u96be\u53d1\u73b0\uff0c\u8fd9\u76f8\u5f53\u4e8e\u662f\u5c06 $1$ \u7684 $3 \\times 3$ \u7684\u5c0f\u65b9\u683c\u590d\u5236\u4e86\u56db\u4efd\uff0c\u4ee5 `&` \u4e3a\u4e2d\u5fc3\u653e\u5728 $2$ \u5230\u8fbe\u7684 $4$ \u4e2a\u70b9\u4e0a\u3002\n\n\u518d\u52a0\u4e0a $4, 8, \\ldots$ \u4e5f\u662f\u540c\u7406\u3002\u4e0d\u96be\u53d1\u73b0\uff0c\u52a0\u5230 $2^{30}$ \u5c31\u80fd\u6ee1\u8db3\u9898\u76ee\u7684\u8981\u6c42\u4e86\u3002\n\n\u8003\u8651\u5982\u4f55\u6784\u9020\u3002\n\n\u6211\u4eec\u4ece\u5927\u5230\u5c0f\u8003\u8651\u6bcf\u4e2a\u673a\u68b0\u81c2\u3002\u8bbe\u5f53\u524d\u5230\u8fbe\u7684\u70b9\u4e3a $(nx, ny)$\uff0c\u76ee\u6807\u70b9\u4e3a $(x, y)$\u3002\u8003\u8651\u5f53\u524d\u8fd9\u4e2a\u673a\u68b0\u81c2\u6cbf\u7740\u8ba9 $x,y$ \u5750\u6807\u5dee\u503c\u548c\u6700\u5c0f\u7684\u90a3\u4e2a\u65b9\u5411\u6446\u653e\u3002\u82e5\u6709\u591a\u4e2a\u5219\u53ef\u4ee5\u968f\u4fbf\u6446\u653e\u3002\u4e0d\u96be\u53d1\u73b0\uff0c\u8fd9\u6837\u4e00\u5b9a\u80fd\u6784\u9020\u51fa\u89e3\u3002\n\n$\\rm Code$\uff1a\n\n```cpp\nint x[1010];\nint y[1010];\nint len[33];\n\nint main() {\n\tint n = ri;\n\tfor(int i = 1; i <= n; i++)\n\t\tx[i] = ri, y[i] = ri;\n\tint tmp = abs(x[1] + y[1]) & 1;\n\tfor(int i = 1; i <= n; i++)\n\t\tif((abs(x[i] + y[i]) & 1) != tmp)\n\t\t\treturn puts(\"-1\"), 0;\n\tprintf(\"%d\\n1\", 32 - tmp);\n\tlen[1] = 1; int N = 1;\n\tif(tmp) {\n\t\tfor(int i = 1; i <= 30; i++) printf(\" %d\", len[++N] = 1 << i);\n\t\tputs(\"\");\n\t} else {\n\t\tfor(int i = 0; i <= 30; i++) printf(\" %d\", len[++N] = 1 << i);\n\t\tputs(\"\");\n\t} char s[40];\n\tmemset(s, 0, sizeof(s));\n\tfor(int i = 1; i <= n; i++) {\n\t\tll nx = 0, ny = 0;\n\t\tfor(int j = N; j; --j) {\n\t\t\tll dx = x[i] - nx, dy = y[i] - ny;\n\t\t\tif(abs(dx) > abs(dy)) {\n\t\t\t\tif(dx > 0) nx += len[j], s[j] = 'R';\n\t\t\t\telse nx -= len[j], s[j] = 'L';\n\t\t\t} else {\n\t\t\t\tif(dy > 0) ny += len[j], s[j] = 'U';\n\t\t\t\telse ny -= len[j], s[j] = 'D';\n\t\t\t}\n\t\t} printf(\"%s\\n\", s + 1);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1582186480,
        "uid": 20782,
        "name": "CYJian",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 AT4432 \u3010[ARC103B] Robot Arms\u3011"
    },
    {
        "content": "\u5927\u6982\u662f\u7ed9\u51fa\u4e86\u548ccyj\u4e0d\u540c\u7684\u53e6\u4e00\u79cd\u8bc1\u660e\u65b9\u6cd5\u548c\u53e6\u4e00\u79cd\u6784\u9020\u65b9\u5f0f\uff1f\u4f46\u5176\u5b9e\u672c\u8d28\u662f\u4e00\u6837\u7684\u3002\n_____\n\n\n\u9996\u5148\u65e0\u89e3\u5f88\u5bb9\u6613\u5224\u65ad\u3002\u56e0\u4e3a\u591a\u8d70\u4e00\u6b65\u548c\u5c11\u8d70\u4e00\u6b65\u4e4b\u95f4\u7684\u5dee\u503c\u603b\u662f $2\\times$\u6b65\u957f \uff0c\u6240\u4ee5\u5982\u679c $x_i+y_i$ \u7684\u5947\u5076\u6027\u4e0d\u540c\u7684\u8bdd\uff0c\u5c31\u4e0d\u80fd\u540c\u65f6\u6ee1\u8db3\u6761\u4ef6\u3002\n\n\u53d1\u73b0\u8fd9\u4e2a\u9898\u7684\u672c\u8d28\u662f\u62c6\u5206\u95ee\u9898\u3002\u90a3\u4e48\u5927\u6982\u53ef\u4ee5\u5f15\u5bfc\u5230\u300c\u4e8c\u8fdb\u5236\u62c6\u5206\u300d\u8fd9\u79cd\u6cdb\u5f0f\u7684\u62c6\u5206\u65b9\u5f0f\u4e0a\u3002\u4e0d\u59a8\u8003\u8651\u5bf9\u4e8e\u4e00\u7ec4 $\\{1,2,4\\cdots 2^k\\}$ \u53ef\u4ee5\u62fc\u51fa\u54ea\u4e9b\u5750\u6807\u3002\u90a3\u4e48\u8003\u8651\u5bf9\u4e8e\u4e00\u7ec4\u5750\u6807 $(x,y)$ \uff0c\u4ed6\u53ef\u4ee5\u88ab\u901a\u8fbe\uff0c\u90a3\u4e48\u53ef\u4ee5\u77e5\u9053\u5982\u679c\u60f3\u8981\u51cf\u5c0f\u67d0\u4e00\u7ef4\u5750\u6807\uff0c\u6bd4\u5982 $x\\to x'$\uff0c\u90a3\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\n\n1\u3001\u53ea\u662f\u5355\u7eaf\u5730\u62ff\u6389\u51e0\u4e2a\u5143\u7d20\u3002\u6bd4\u5982 $16\\to11$ \u5c31\u662f\u7b80\u5355\u5730\u62c6\u51fa $4$ \u548c $1$ \u3002\n\n2\u3001\u62ff\u51fa\u51e0\u4e2a\u5143\u7d20\u5e76\u4e14\u6362\u8fdb\u53bb\u51e0\u4e2a\u5143\u7d20\u3002\u6bd4\u5982 $12\\to11$ \u5c31\u662f\u62c6\u51fa $2$ \u548c $1$ \u653e\u8fdb\u4e00\u4e2a $4$ \u3002\n\n\u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u662f\u53ef\u4ee5\u76f8\u4e92\u901a\u8fbe\u7684\u3002\n\n\u66f4\u8be6\u7ec6\u4e00\u70b9\u3002\u56e0\u4e3a\u5bf9\u4e8e\u56db\u4e2a\u8c61\u9650\uff0c\u60c5\u51b5\u90fd\u662f\u7b49\u4ef7\u7684\u3002\u6240\u4ee5\u53ea\u8003\u8651\u7b2c\u4e00\u8c61\u9650\u3002\u53d1\u73b0\u5bf9\u4e8e $\\{1,2,4\\cdots 2^k\\}$ \uff0c\u5b83\u53ef\u4ee5\u7ef4\u62a4\u5230\u7684\u4f4d\u7f6e\u81f3\u5c11\u662f\u6240\u6709 $|x+y|=\\sum _{i=0}^k 2^i=2^{k+1}-1$\u3002\u4f46\u662f\u4e0d\u4ec5\u9650\u4e8e\u6b64\u3002\u53d1\u73b0\u5982\u679c\u5c06\u5c06\u5176\u4e2d\u67d0\u4e2a\u5143\u7d20\u7684\u8d21\u732e\u53d6\u8d1f\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u8bbf\u95ee\u5230\u6240\u6709 $|x+y| - \\sum 2^p$ \u7684\u683c\u5b50\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u8fd9\u4e2a\u65b9\u5f0f\u53ef\u4ee5\u8bbf\u95ee\u5230\u6240\u6709\u4e0e $2^{k+1}-1$ \u5947\u5076\u6027\u76f8\u540c\u7684\u683c\u5b50\u3002\n\n\u5230\u8fd9\u4e00\u6b65\u5c31\u5df2\u7ecf\u5f88\u5b8c\u7f8e\u4e86\uff0c\u4f46\u662f\u4f9d\u7136\u5b58\u5728\u95ee\u9898\u3002\u5982\u679c $|x+y|$ \u90fd\u662f\u5076\u6570\uff0c\u8fd9\u5c31\u6302\u4e86\u3002\u6240\u4ee5\u6b64\u65f6\u53ef\u4ee5\u968f\u4fbf\u5411 $x$ \u8f74\u6216\u8005 $y$ \u8f74\u504f\u79fb $1$ \uff0c\u6bd4\u5982\u628a $(1,0)$ \u53d8\u6362\u6210\u539f\u70b9\uff0c\u5c31\u89e3\u51b3\u4e86\u3002\n\n\u5b9e\u73b0\u65b9\u9762\uff0c\u53d1\u73b0\u6700\u5408\u6cd5\u533a\u57df\u540e\u662f\u4e2a\u5185\u90e8\u9542\u7a7a\u7684\u83f1\u5f62\u3002\u627e\u51fa\u6765\u4e4b\u540e\uff0c\u5bf9\u4e8e\u4e00\u7ec4\u5750\u6807 $(x,y)$ \uff0c\u8003\u8651\u5bf9\u79f0\u7740\u627e\u3002\u53cd\u5411\u4ece\u5927\u5230\u5c0f\u679a\u4e3e\u6bcf\u4e00\u4e2a\u6b65\u957f\uff0c\u5982\u679c\u65b0\u7684\u70b9\u7684 $|x|+|y|$ \u4e4b\u548c\u4e25\u683c\u5c0f\u4e8e\u5f53\u524d\u7684\u6b65\u957f\uff0c\u5c31\u662f\u53ef\u4ee5\u62fc\u51fa\u6765\u7684\u3002\u4e0d\u96be\u77e5\u9053\u8fd9\u6837\u505a\u662f\u5bf9\u7684\u3002 \n\n```cpp\nint n ;\nint cnt ;\nint _eve ;\nll nx, ny ;\nint bc[N] ;\nstruct rg{\n    int l ;\n    int r ;\n    int t ;\n}base[N] ; //D  R  U  L\nint dx[4] = {0, 1, 0, -1} ;\nint dy[4] = {-1, 0, 1, 0} ;\nchar s[4] = {'U', 'L', 'D', 'R'} ;\n\nint main(){\n    cin >> n ;\n    bc[0] = 1 ;\n    for (int i = 1 ; i <= n ; ++ i){\n        cin >> base[i].l >> base[i].r ;\n        base[i].t = abs(base[i].l + base[i].r) & 1 ;\n    }\n    for (int i = 2 ; i <= n ; ++ i)\n        if (base[i].t != base[1].t) return puts(\"-1\"), 0 ;\n    for (int i = 1 ; i <= 30 ; ++ i) bc[++ cnt] = 1 << i ;\n    cout << cnt + 1 + (bool)(!(base[1].t & 1)) << '\\n' ;\n    if (!(base[1].t & 1)) cout << 1 << \" \" ;\n    for (int i = cnt ; ~i ; -- i) printf(\"%d%c\", bc[i], \" \\n\"[!i]) ;\n    for (int i = 1 ; i <= n ; ++ i){\n        nx = base[i].l ;\n        ny = base[i].r ;\n        if (!(base[i].t & 1))\n            ny -= 1, putchar('U') ;\n\t\t//cout << nx << \" \" << ny << endl ;\n\t\tfor (int j = cnt ; ~j ; -- j){\n            for (int k = 0 ; k < 4 ; ++ k){\n                ll kx = nx + (ll)dx[k] * bc[j] ;\n                ll ky = ny + (ll)dy[k] * bc[j] ;\n                if (abs(kx) + abs(ky) < bc[j]){\n                    nx = kx ; ny = ky ;\n\t\t\t\t\t//cout << nx << \" \" << ny << endl ;\n                    printf(\"%c\", s[k]) ; break ;\n                }\n\t\t\t}\n\t\t}\n        puts(\"\") ;\n    }\n    return 0 ;\n}\n\n```\n\n\n\n#  ",
        "postTime": 1584675689,
        "uid": 28313,
        "name": "\u768e\u6708\u534a\u6d12\u82b1",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT4432 \u3010[ARC103B] Robot Arms\u3011"
    },
    {
        "content": "\u7ed9\u4e00\u4e2a\u548c\u5927\u5bb6\u90fd\u4e0d\u592a\u4e00\u6837\u7684\u505a\u6cd5\uff1f\n\n\u5224\u65e0\u89e3\uff0c\u5982\u679c\u5947\u5076\u4e0d\u540c\u5c31\u65e0\u89e3\uff0c\u56e0\u4e3a\u52a0\u51cf\u6ee1\u8db3\u5947\u5076\u6027\u4e0d\u53d8\n\n\u7136\u540e\u8003\u8651\u6570\u636e\u8303\u56f4\uff0c\u89c2\u5bdf\u5230 $10^{12}\\approx2^{40}$\uff0c\u53ef\u4ee5\u60f3\u5230\u500d\u589e\u6784\u9020\uff0c\u4e8e\u662f\u5c31\u8ba9\u673a\u68b0\u81c2\u957f\u4e3a $1,2,4,8...2^{39}$\n\n\u7136\u540e\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\u5982\u679c $x+y$ \u4e3a\u5947\u6570\u7684\u60c5\u51b5\uff0c\u8fd9\u65f6\u9700\u8981\u989d\u5916\u8865\u4e00\u4e2a\u957f\u5ea6\u4e3a $1$ \u7684\u673a\u68b0\u81c2\u8865\u5168\n\n\u4ece\u5927\u5230\u5c0f\u5b89\u6392\u673a\u68b0\u81c2\uff0c\u4f7f\u7528\u8d2a\u5fc3\u6784\u9020\uff0c\u6a2a\u7eb5\u5750\u6807\u4e2d\u79bb\u76ee\u6807\u70b9\u5dee\u6700\u5c0f\u7684\u4f18\u5148\uff0c\u56e0\u4e3a\u6709 $2^{k+1}-2^k=2^k$\uff0c\u6240\u4ee5\u53ef\u4ee5\u77e5\u9053\u4e00\u5b9a\u80fd\u6784\u9020\u51fa\u89e3\n\n```cpp\n// Problem: AT4432 [ARC103B] Robot Arms\n// Contest: Luogu\n// URL: https://www.luogu.com.cn/problem/AT4432\n// Memory Limit: 1000 MB\n// Time Limit: 2000 ms\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n#include <bits/stdc++.h>\n#define int long long\n#define inl inline\n#define rep(i,a,b) for(int i=(a),i##end=(b);i<=i##end;++i)\n#define pre(i,a,b) for(int i=(a),i##end=(b);i>=i##end;--i)\nusing namespace std;\nconst int N=1010;\nint x[N],y[N],cnt,d[N],pd[2];\nsigned main(void){\n\tios::sync_with_stdio(false);cin.tie(0);cout.tie(0);\n\tint n,m;cin>>n;\n\trep(i,1,n){cin>>x[i]>>y[i];pd[(x[i]+y[i])&1]++;}\n\tif(pd[0]&&pd[1]){cout<<\"-1\";return 0;}\n\tpre(i,38,0)d[++cnt]=1ll<<i;\n\tif(pd[0])d[++cnt]=1;\n\tcout<<cnt<<'\\n';rep(i,1,cnt)cout<<d[i]<<' ';cout<<'\\n';\n\trep(i,1,n){\n\t\trep(j,1,cnt){\n\t\t\tif(abs(x[i])>abs(y[i])){\n\t\t\t\tif(x[i]<0){cout<<\"L\";x[i]+=d[j];}\n\t\t\t\telse{cout<<\"R\";x[i]-=d[j];}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(y[i]<0){cout<<\"D\";y[i]+=d[j];}\n\t\t\t\telse{cout<<\"U\";y[i]-=d[j];}\n\t\t\t}\n\t\t}\n\t\tcout<<'\\n';\n\t}\n}\n\n```",
        "postTime": 1659606330,
        "uid": 555059,
        "name": "Stannum7507",
        "ccfLevel": 4,
        "title": "AT4432 [ARC103B] Robot Arms"
    },
    {
        "content": "## $\\mathcal{Description}$\n\n[Link](https://atcoder.jp/contests/abc111/tasks/arc103_b).\n\n\u7ed9\u5b9a $n$ \u7ec4\u5750\u6807\u3002\u6784\u9020\u957f\u5ea6\u4e3a $m$ \u7684\u5e8f\u5217 $\\{c_n\\}$ \u548c $n$ \u7ec4\u5305\u542b `LRUD` \u7684\u8def\u5f84\uff0c\u6ee1\u8db3\u5bf9\u4e8e\u6bcf\u4e00\u7ec4\u5750\u6807\uff1a\n\n- $c_i$ \u8868\u793a\u7b2c $i$ \u6b65\u300c\u6b65\u957f\u300d\u3002\n- \u5bf9\u4e8e\u6bcf\u4e2a\u5750\u6807\uff0c\u4ece $(0,0)$ \u5f00\u59cb\u8d70\uff0c\u5171\u8d70 $m$ \u6b65\u3002\u7b2c $i$ \u6b65\u53ef\u4ee5\u8ba9 $(x,y)$ \u53d8\u6210 $(x\u00b1c_i,y)$ \u6216 $(x,y\u00b1c_i)$ \u3002\n- \u8d70\u5b8c $m$ \u6b21\u4e4b\u540e\uff0c\u6070\u597d\u8d70\u5230\u8fd9\u7ec4\u5750\u6807\u3002\n- \u8981\u6c42 $m\\leq 40,c_i\\leq 10^{12}$ \u3002\n\n## $\\mathcal{Solution}$\n\n\u597d\u5f3a\u7684\u9898\u554a\u3002\n\n\u5148\u8003\u8651\u65e0\u89e3\u7684\u60c5\u51b5\u3002\n\n\u5373\u662f $x_{i}+y_{i}$ \u7684\u5947\u5076\u6027\u4e0d\u540c\u7684\u60c5\u51b5\u4e3a\u65e0\u89e3\u3002\n\n\u4ed4\u7ec6\u770b $m$ \u7684\u9650\u5236\u7591\u4f3c\u662f $\\log(x+y)$ \u7ea7\u522b\u7684\uff0c\u8003\u8651\u4e8c\u8fdb\u5236\u62c6\u5206\u3002\n\n\u4e8e\u662f\u8003\u8651 $\\{2^{k}\\}$ \u53ef\u4ee5\u51d1\u51fa\u7684\u5750\u6807\u3002\n\n\u53ea\u8003\u8651 1-dimension \u7684\u505a\u6cd5\u3002\n\n\u6211\u4eec\u80fd\u591f\u7ef4\u62a4\u7684\u5730\u65b9\u5c31\u662f $\\sum_{i=0}^{k}2^{i}=2^{k+1}-1$\uff08\u8fd9\u91cc\u7b97\u7684\u662f\u66fc\u54c8\u987f\u8ddd\u79bb\uff09\u3002\n\n\u90a3\u4e48\u8fd9\u4e00\u5b9a\u662f\u4e2a\u5947\u6570\uff0c\u5982\u679c $(x,y)$ \u7684\u66fc\u54c8\u987f\u8ddd\u79bb\u662f\u5076\u6570\u5c31\u8003\u8651\u6362\u539f\u70b9\u3002\n\n\u90a3\u4e48\u8fd9\u5c31\u505a\u5b8c\u4e86\u3002\n\n## $\\mathcal{Code}$\n\n[full ver.](https://www.luogu.com.cn/paste/x1re8ezs)\n\n```cpp\nusing i64 = long long;\nusing pii = std::pair<i64, i64>;\n\nstd::vector<int> sL;\nstd::vector<std::string> dR;\nstd::pair<int, int> as[MAXN];\nint n, wax[4], way[4];\nchar trans[4];\n\nint main () {\n\tstd::ios::sync_with_stdio ( 0 ); std::cin.tie ( 0 ); std::cout.tie ( 0 );\n\tstd::cin >> n; initial ();\n\trep ( i, 1, n )\tstd::cin >> as[i].first >> as[i].second;\n\trep ( i, 2, n ) if ( ( as[i].first + as[i].second + as[i - 1].first + as[i - 1].second ) & 1 )\treturn ( puts ( \"-1\" ), 0 );\n\tsL.push_back ( 1 );\n\trep ( i, 1, 30 )\tsL.push_back ( 1 << i );\n\tif ( ( ( as[1].first + as[1].second ) & 1 ) ^ 1 )\tsL.push_back ( 1 );\n\tstd::reverse ( sL.begin (), sL.end () );\n\trep ( i, 1, n ) {\n\t\tdR.push_back ( std::string () );\n\t\ti64 curx = as[i].first, cury = as[i].second;\n\t\tif ( ( ( curx + cury ) & 1 ) ^ 1 )\tdR[i - 1].push_back ( 'U' ), cury --;\n\t\tper ( j, 30, 0 ) rep ( k, 0, 3 ) {\n\t\t\ti64 nxtx = curx + ( i64 )wax[k] * ( ONE64 << j );\n\t\t\ti64 nxty = cury + ( i64 )way[k] * ( ONE64 << j );\n\t\t\tif ( std::abs ( nxtx ) + std::abs ( nxty ) < ( ONE64 << j ) ) {\n\t\t\t\tcurx = nxtx, cury = nxty;\n\t\t\t\tdR[i - 1].push_back ( trans[k] );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tstd::cout << sL.size () << '\\n';\n\tfor ( int p : sL )\tstd::cout << p << ' ';\n\tstd::cout << '\\n';\n\tfor ( std::string p : dR )\tstd::cout << p << '\\n';\n\treturn 0;\n}\n```",
        "postTime": 1609913617,
        "uid": 161849,
        "name": "cirnovsky",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 AT4432 \u3010[ARC103B] Robot Arms\u3011"
    },
    {
        "content": "\u770b\u4e86\u9898\u89e3\u533a\u90fd\u662f\u7528 $2$ \u7684\u5e42\u6b21\u65b9\u89e3\u7684\uff0c\u8fd9\u91cc\u6765\u4ecb\u7ecd\u4e00\u79cd\u7528 $3$ \u7684\u5e42\u6b21\u65b9\u7684\u89e3\u6cd5\uff0c\u867d\u7136\u53ea\u80fd\u5361\u7740\u8fb9\u7f18\u8fc7\u4e14\u5199\u8d77\u6765\u975e\u5e38\u66b4\u529b\uff0c\u56e0\u4e3a\u6700\u574f\u60c5\u51b5\u4e0b\u7684 $m=2\\lceil \\log_3 V\\rceil$ \u7684\uff0c\u5176\u4e2d $V$ \u662f\u503c\u57df\uff0c\u4ee3\u5165 $V$ \u7684\u6700\u5927\u503c\u53ef\u5f97 $m=40$\u3002\n\n\u8003\u8651\u5e73\u8861\u4e09\u8fdb\u5236\uff1a\u6bcf\u4e00\u4e2a\u6574\u6570\u6570 $x$ \u90fd\u53ef\u4ee5\u552f\u4e00\u8868\u793a\u4e3a $n=\\sum_{i=0}^{+\\infty}k_i\\times 3^i,k_i\\in\\{-1,0,1\\}$\uff0c\u90a3\u4e48\u6bcf\u4e00\u4e2a $(x_i,y_i)$ \u5c31\u53ef\u4ee5\u7528\u4e24\u4efd\u7684 $3$ \u7684\u5e42\u8868\u793a\u51fa\u6765\u3002\n\n\u9996\u5148\uff0c\u5148\u5224\u6389\u5b58\u5728\u4e24\u7ec4\u5750\u6807\u4f7f\u5f97 $x+y$ \u7684\u5947\u5076\u6027\u4e0d\u540c\u7684\u60c5\u51b5\u3002\u7136\u540e\uff0c\u5c31\u53ef\u4ee5\u6309\u4f4d\u8003\u8651\u3002\u8bbe $x$ \u7684\u7b2c $i$ \u4f4d\u4e3a $a_i$\uff0c$y$ \u7684\u7b2c $i$ \u4f4d\u4e3a $b_i$\uff0c\u6240\u6709 $(a_i,b_i)$ \u4e2d $0$ \u6700\u5c11\u7684\u90a3\u5bf9\u7684 $0$ \u7684\u6570\u91cf\u4e3a $c$\uff0c\u90a3\u4e48\u5c31\u6709\u4ee5\u4e0b\u60c5\u51b5\uff1a\n\n- $c=2$\uff0c\u6b64\u65f6\u4e0d\u9700\u8981\u4efb\u4f55 $3^i$ \u586b\u5145\u3002\n- $c=1$\uff0c\u6b64\u65f6\u6070\u597d\u9700\u8981\u4e00\u4e2a $3^i$ \u586b\u5145\u3002\u53ef\u4ee5\u8bc1\u660e\uff1a\u6b64\u65f6\u4e0d\u5b58\u5728\u4e00\u5bf9 $(a_i,b_i)$ \u6ee1\u8db3\u5b58\u5728\u4e24\u4e2a $0$\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u5947\u5076\u6027\u4e0d\u540c\uff0c\u4ece\u800c\u65e0\u89e3\uff0c\u6b64\u65f6\u5206\u4e3a $4$ \u79cd\u60c5\u51b5\uff1a\n\n| $a_i/b_i$ | $-1$ | $0$ | $1$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $-1$ | \u65e0 | $\\texttt{L}$ | \u65e0 |\n| $0$ | $\\texttt{D}$ | \u65e0 | $\\texttt{U}$ |\n| $1$ | \u65e0 | $\\texttt{R}$ | \u65e0 |\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u76f4\u63a5\u5728\u975e $0$ \u7684\u90a3\u4e00\u7ef4\u5f80\u5bf9\u5e94\u7684\u65b9\u5411\u8d70\u53bb\u3002\n\n- $c=0$\uff0c\u6b64\u65f6\u9700\u8981\u4e24\u4e2a $3^i$ \u586b\u5145\uff0c\u6b64\u65f6 $9$ \u79cd\u60c5\u51b5\u5747\u6709\u53ef\u80fd\uff1a\n\n| $a_i/b_i$ | $-1$ | $0$ | $1$ |\n| :----------: | :----------: | :----------: | :----------: |\n| $-1$ | $\\texttt{LD}$ | $\\texttt{RR},a_{i+1}\\leftarrow a_{i+1}-1$ | $\\texttt{LU}$ |\n| $0$ | $\\texttt{UU},b_{i+1}\\leftarrow b_{i+1}-1$ | $\\texttt{LR}$ | $\\texttt{DD},b_{i+1}\\leftarrow b_{i+1}+1$ |\n| $1$ | $\\texttt{RD}$ | $\\texttt{LL},a_{i+1}\\leftarrow a_{i+1}+1$ | $\\texttt{RU}$ |\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u4e24\u4e2a\u90fd\u975e $0$ \u7684\u60c5\u51b5\u4e0b\uff0c\u76f4\u63a5\u5f80\u5bf9\u5e94\u7684\u65b9\u5411\u8d70\u53bb\uff1b\u5426\u5219\uff0c\u5982\u679c\u6070\u597d\u6709\u4e00\u4e2a $0$\uff0c\u90a3\u4e48\u5728\u975e $0$ \u7684\u90a3\u4e00\u7ef4\u8981\u5f80\u76f8\u53cd\u65b9\u5411\u8d70\u4e24\u6b65\uff0c\u5230 $i+1$ \u7684\u65f6\u5019\u518d\u4e00\u8d77\u5904\u7406\uff1b\u5426\u5219\uff0c\u76f4\u63a5\u8d70\u4e24\u6b65\u65b9\u5411\u4e92\u76f8\u76f8\u53cd\u7684\u5373\u53ef\u3002\n\n\u4ee3\u7801\u8fdc\u8fdc\u957f\u4e8e $2$ \u7684\u5e42\uff0c\u4f46\u5341\u5206\u66b4\u529b\u3002\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nconst int N=1e3+7;\nll n,m,c[41],flg[2],x[N],y[N];\nchar pth[N][41];\nint main(){\n\tscanf(\"%lld\",&n);\n\tfor(ll i=1;i<=n;++i){\n\t\tscanf(\"%lld%lld\",x+i,y+i);\n\t\tflg[(x[i]+y[i])&1]=1;\n\t}\n\tif(flg[0]&&flg[1]){//\u5947\u5076\u77db\u76fe\n\t\tputs(\"-1\");\n\t\treturn 0;\n\t}\n\tfor(ll i=0,j=1;i<20;++i,j*=3){//\u5e73\u8861\u4e09\u8fdb\u5236\u5728\u503c\u57df\u4e3a 10^9 \u7684\u65f6\u5019\u6700\u9ad8\u4f4d\u4e3a\u7b2c 19 \u4f4d\n\t\tint f=1;\n\t\tfor(ll k=1;k<=n;++k){//\u5224\u65ad 0 \u6700\u5c11\u7684\u4e00\u5bf9\u662f\u51e0\u4e2a 0\n\t\t\tif(!(x[k]%3)&&!(y[k]%3))\n\t\t\t\tcontinue;\n\t\t\tif(!((x[k]%3)&&(y[k]%3)))\n\t\t\t\tf=min(f,0);\n\t\t\telse\n\t\t\t\tf=-1;\n\t\t}\n\t\tif(f==1){//\u90fd\u662f 0\n\t\t\tfor(ll k=1;k<=n;++k){\n\t\t\t\tx[k]/=3;\n\t\t\t\ty[k]/=3;\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\t\tif(f){//\u6ca1\u6709 0\n\t\t\tc[m]=j;\n\t\t\tc[m+1]=j;\n\t\t\tfor(ll k=1;k<=n;++k){\n\t\t\t\tll a=(x[k]%3+3)%3;\n\t\t\t\tll b=(y[k]%3+3)%3;\n\t\t\t\tif(!a&&!b){//\u540c\u8868\u683c\n\t\t\t\t\tpth[k][m]='L';\n\t\t\t\t\tpth[k][m+1]='R';\n\t\t\t\t}\n\t\t\t\telse if(!a&&b==1){\n\t\t\t\t\ty[k]+=2;\n\t\t\t\t\tpth[k][m]='D';\n\t\t\t\t\tpth[k][m+1]='D';\n\t\t\t\t}\n\t\t\t\telse if(!a&&b==2){\n\t\t\t\t\ty[k]-=2;\n\t\t\t\t\tpth[k][m]='U';\n\t\t\t\t\tpth[k][m+1]='U';\n\t\t\t\t}\n\t\t\t\telse if(a==1&&!b){\n\t\t\t\t\tx[k]+=2;\n\t\t\t\t\tpth[k][m]='L';\n\t\t\t\t\tpth[k][m+1]='L';\n\t\t\t\t}\n\t\t\t\telse if(a==1&&b==1){\n\t\t\t\t\t--x[k];\n\t\t\t\t\t--y[k];\n\t\t\t\t\tpth[k][m]='R';\n\t\t\t\t\tpth[k][m+1]='U';\n\t\t\t\t}\n\t\t\t\telse if(a==1&&b==2){\n\t\t\t\t\t--x[k];\n\t\t\t\t\t++y[k];\n\t\t\t\t\tpth[k][m]='R';\n\t\t\t\t\tpth[k][m+1]='D';\n\t\t\t\t}\n\t\t\t\telse if(a==2&&!b){\n\t\t\t\t\tx[k]-=2;\n\t\t\t\t\tpth[k][m]='R';\n\t\t\t\t\tpth[k][m+1]='R';\n\t\t\t\t}\n\t\t\t\telse if(a==2&&b==1){\n\t\t\t\t\t++x[k];\n\t\t\t\t\t--y[k];\n\t\t\t\t\tpth[k][m]='L';\n\t\t\t\t\tpth[k][m+1]='U';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t++x[k];\n\t\t\t\t\t++y[k];\n\t\t\t\t\tpth[k][m]='L';\n\t\t\t\t\tpth[k][m+1]='D';\n\t\t\t\t}\n\t\t\t}\n\t\t\tm+=2;\n\t\t}\n\t\telse{\n\t\t\tc[m]=j;\n\t\t\tfor(ll k=1;k<=n;++k){\n\t\t\t\tll a=(x[k]%3+3)%3;\n\t\t\t\tll b=(y[k]%3+3)%3;\n\t\t\t\tif(a==1){//\u540c\u8868\u683c\n\t\t\t\t\t--x[k];\n\t\t\t\t\tpth[k][m]='R';\n\t\t\t\t}\n\t\t\t\telse if(a==2){\n\t\t\t\t\t++x[k];\n\t\t\t\t\tpth[k][m]='L';\n\t\t\t\t}\n\t\t\t\telse if(b==1){\n\t\t\t\t\t--y[k];\n\t\t\t\t\tpth[k][m]='U';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t++y[k];\n\t\t\t\t\tpth[k][m]='D';\n\t\t\t\t}\n\t\t\t}\n\t\t\t++m;\n\t\t}\n\t\tfor(int k=1;k<=n;++k){\n\t\t\tx[k]/=3;\n\t\t\ty[k]/=3;\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",m);\n\tfor(int i=0;i<m;++i)\n\t\tprintf(\"%lld%c\",c[i],\" \\n\"[i==m-1]);\n\tfor(int i=1;i<=n;++i)\n\t\tputs(pth[i]);\n\treturn 0;\n}\n```",
        "postTime": 1680156821,
        "uid": 181378,
        "name": "Alarm5854",
        "ccfLevel": 7,
        "title": "ARC103B/ABC111D \u9898\u89e3"
    },
    {
        "content": "### \u5927\u610f\n\n\u6709 $ n $ \u4e2a\u76ee\u6807\u70b9\uff0c\u8ba9\u4f60\u6784\u9020\u4e00\u4e2a\u672b\u7aef\u53ef\u4ee5\u6070\u597d\u5230\u8fbe\u6bcf\u4e2a\u76ee\u6807\u70b9\u7684\u673a\u68b0\u81c2\u3002\n\n\u673a\u68b0\u81c2\u6700\u591a\u6709 $ m $ \u4e2a\u8282\u70b9\uff0c\u6bcf\u4e2a\u8282\u70b9\u6709\u65b9\u5411\u548c\u957f\u5ea6\u4e24\u4e2a\u503c\uff0c\u65b9\u5411\u53ef\u4ee5\u662f\u4e0a\u4e0b\u5de6\u53f3\uff0c\u957f\u5ea6\u56fa\u5b9a\u5e76\u8868\u793a\u8be5\u8282\u70b9\u4e0e\u4e0a\u4e00\u4e2a\u8282\u70b9\u5728\u5750\u6807\u8f74\u4f9d\u7167\u65b9\u5411\u7684\u8ddd\u79bb\u5dee\u3002\n\n\u6c42\u6784\u9020\u673a\u68b0\u81c2\u6bcf\u4e2a\u8282\u70b9\u7684\u957f\u5ea6\uff0c\u4ee5\u53ca\u5bf9\u4e8e\u6bcf\u4e2a\u76ee\u6807\u70b9\u6765\u8bf4\u673a\u68b0\u81c2\u6bcf\u4e2a\u8282\u70b9\u7684\u65b9\u5411\u3002\n\n\u9ed8\u8ba4\u673a\u68b0\u81c2\u7684\u7b2c $ 0 $ \u53f7\u8282\u70b9\u4e3a\u539f\u70b9\u3002\n\n### \u601d\u8def\n\n\u7528\u5947\u5076\u6027\u8bc1\u660e\u5982\u679c\u4efb\u610f\u4e24\u4e2a\u76ee\u6807\u70b9\u7684\u5750\u6807\u548c\uff08 $ x_i + y_i $ \uff09\u5947\u5076\u6027\u4e0d\u540c\uff0c\u5219\u65e0\u89e3\u3002\n\n\u663e\u7136\u6240\u6709\u70b9\u7684\u5750\u6807\u548c\u90fd\u662f\u5076\u6570\u7684\u60c5\u51b5\u53ef\u4ee5\u7528\u957f\u5ea6\u4e3a $ 1 $ \u7684\u673a\u68b0\u81c2\u8f6c\u6362\u4e3a\u6240\u6709\u70b9\u7684\u5750\u6807\u548c\u90fd\u662f\u5947\u6570\u7684\u60c5\u51b5\uff0c\u7528 $ 1 $ \u662f\u56e0\u4e3a\u5b83\u5c0f\uff0c\u4e0d\u4f1a\u9020\u6210\u5927\u5dee\u5f02\u3002\n\n\u5982\u679c\u6211\u4eec\u7684\u673a\u68b0\u81c2\u662f\u4e00\u4e2a\u957f\u5ea6\u4e3a $ k $ \u7684\u6ee1\u8db3 $ a_i=2^{i - 1} $ \u7684\u5e8f\u5217 $ a $ \uff0c\u90a3\u4e48\u53ef\u4ee5\u5230\u8fbe\u7684\u6240\u6709\u70b9\u5c31\u662f\u6ee1\u8db3\u5750\u6807\u548c\u4e3a\u5947\u6570\u4e14 $ |x_i| + |y_i| \\leq 2^k - 1 $ \u7684\u6240\u6709\u70b9\u3002\n\n\u53ef\u4ee5\u4f7f $ k $ \u9012\u589e\uff0c\u7528\u5f52\u7eb3\u6cd5\u8bc1\u660e\u3002\n\n\u53d1\u73b0 $ 2^{30} - 1 \\leq 10^9 + 10^9 $ \uff0c\u4ec5\u9700\u957f\u5ea6\u4e3a $ 30 $ \u5de6\u53f3\u7684\u673a\u68b0\u81c2\uff08\u5750\u6807\u548c\u4e3a\u5076\u6570\u7684\u60c5\u51b5\u989d\u5916\u9700\u8981\u4e00\u4e2a\u8282\u70b9\uff09\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u76ee\u6807\u70b9\u4ece\u5927\u5f80\u5c0f\u8d2a\u5fc3\u679a\u4e3e\u8fb9\u5e76\u51b3\u5b9a\u65b9\u5411\u5373\u53ef\u3002\n\n### \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,s,l;\n#define f(i,j,k) for(register int i=j;i<=k;++i)\n#define g(i,j,k) for(register int i=j;i>=k;--i)\nint x[1010],y[1010],z[50];\nint main(){\n    cin>>n;\n    f(i,1,n){\n        scanf(\"%d %d\",&x[i],&y[i]);\n        if((abs(x[i-1]+y[i-1])&1)!=(abs(x[i]+y[i])&1) && i>1)goto unfind;\n        m=max(m,(x[i]+y[i])&1);\n    }\n    printf(\"%d\\n\",32-m);\n    if(m)g(i,30,1)printf(\"%d \",z[30-i+1]=(1<<i));\n    else g(i,30,0)printf(\"%d \",z[30-i+1]=(1<<i));\n    m=32-m;\n    printf(\"%d\\n\",z[m]=1);\n    f(i,1,n){\n        f(j,1,m){\n            if(abs(x[i])>abs(y[i])){\n                if(x[i]>0)putchar('R');\n                else putchar('L');\n                if(x[i]>0)x[i]-=z[j];\n                else x[i]+=z[j];\n            }else{\n                if(y[i]>0)putchar('U');\n                else putchar('D');\n                if(y[i]>0)y[i]-=z[j];\n                else y[i]+=z[j];\n            }\n        }\n        putchar('\\n');\n    }\n    goto end;\n    unfind:;\n    printf(\"-1\\n\");\n    end:;\n    return 0;\n}\n```",
        "postTime": 1639720906,
        "uid": 218376,
        "name": "IloveSurtr",
        "ccfLevel": 7,
        "title": "AT4432"
    },
    {
        "content": "### ARC103D\n#### Solution\n\u4e0d\u96be\u53d1\u73b0\u4e00\u4e2a\u7ed3\u8bba\uff1a\u5bf9\u4e8e$d={1,2,4,...,2^k}$\uff0c\u53ef\u4ee5\u8d70\u5230\u6240\u6709$|x|+|y|\\leq 2k\u22121$\u4e14$x+y\\equiv 1(mod \\ 2)$\u7684\u70b9\n\n\u8bc1\u660e\u7684\u8bdd\u8003\u8651\u4e8c\u8fdb\u5236\u62c6\u5206$x$\u548c$y$\u5750\u6807\u5373\u53ef\u3002\n\n\u90a3\u4e48\u6709\u89e3\u5f53\u4e14\u4ec5\u5f53\u6240\u6709\u6570\u7684$x+y\\ mod \\ 2$\u90fd\u8981\u76f8\u7b49\uff0c\u5982\u679c\u90fd\u662f\u5076\u6570\u90a3\u4e48$d$\u96c6\u5408\u4e2d\u518d\u52a0\u4e00\u4e2a$1$\u5373\u53ef\u3002\n\n\u6c42\u65b9\u6848\u6570\u7684\u8bdd\uff0c\u4ece\u5927\u5230\u5c0f\u679a\u4e3e$k$\uff0c\u6bcf\u6b21\u628a$|x|,|y|$\u4e2d\u8f83\u5927\u7684\u90a3\u4e2a\u7684\u7edd\u5bf9\u503c\u51cf\u53bb$2^k$\u5373\u53ef\u3002\n\n#### Code\n```cpp\nint n;\nll x[MAXN],y[MAXN],cnt[2];\nvector<ll> d;\n\nint main(){\n    scanf(\"%d\",&n);\n    for(int i = 1;i <= n;i++){\n        scanf(\"%lld%lld\",&x[i],&y[i]);\n        cnt[(x[i] + y[i]) & 1] += 1;\n    }\n    if(cnt[0] && cnt[1]) {puts(\"-1\"); return 0;}\n    for(int i = 31;i >= 0;i--) d.push_back(1ll << i);\n    if(cnt[0]) d.push_back(1);\n    printf(\"%d\\n\",(int)d.size());\n    for(auto i : d) printf(\"%lld \",i); printf(\"\\n\");\n    for(int i = 1;i <= n;i++){\n        for(auto p : d){\n            if(llabs(x[i]) > llabs(y[i])){\n                putchar(x[i] < 0 ? 'L' : 'R');\n                if(x[i] < 0) x[i] += p;\n                else x[i] -= p;\n            }else{\n                putchar(y[i] < 0 ? 'D' : 'U');\n                if(y[i] < 0) y[i] += p;\n                else y[i] -= p;\n            }\n        }\n        putchar('\\n');\n    }\n    return 0;\n}\n```",
        "postTime": 1612594400,
        "uid": 108894,
        "name": "\u5173\u6000\u4ed6\u4eba",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT4432 \u3010[ARC103B] Robot Arms\u3011"
    }
]