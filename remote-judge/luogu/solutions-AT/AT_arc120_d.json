[
    {
        "content": "\u9996\u5148\u5c06 $A_i$ \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u5f97\u5230 $B_i$\uff0c\u90a3\u4e48\u7b54\u6848\u7684\u6700\u5927\u503c\u4e00\u5b9a\u4e0d\u80fd\u8d85\u8fc7 \n\n$$\\sum_{i=n+1}^{2n}B_i-\\sum_{i=1}^{n}B_i$$\n\n\u53ef\u4ee5\u7528\u7edd\u5bf9\u503c\u4e0d\u7b49\u5f0f\u8bc1\u660e\u3002\n\n\u63a5\u4e0b\u6765\u8bc1\u660e\u8fd9\u4e2a\u6700\u5927\u503c\u786e\u5b9e\u53ef\u4ee5\u53d6\u5230\u3002\n\n\u5c06\u6240\u6709 $i\\in[n+1,2n]$ \u7684 $B_i$ \u5728 $A$ \u4e2d\u6240\u5bf9\u5e94\u7684\u4f4d\u7f6e\u90fd\u6807\u4e3a $1$\uff0c\u5176\u4ed6\u4f4d\u7f6e\u6807\u4e3a $0$\uff0c\u5219\u73b0\u5728\u5f97\u5230\u4e86\u4e00\u4e2a\u957f\u4e3a $2n$ \u7684\uff0c$0$ \u548c $1$ \u6570\u76ee\u76f8\u7b49\u7684 $0/1$ \u5e8f\u5217 $val$\u3002\n\n\u8981\u60f3\u53d6\u5230\u4e0a\u6587\u6240\u8ff0\u7684\u6700\u5927\u503c\uff0c\u9700\u8981\u6784\u9020\u4e00\u4e2a\u957f\u5ea6\u4e3a $2n$ \u7684\u5408\u6cd5\u62ec\u53f7\u5e8f\u5217\uff0c\u6ee1\u8db3\u5176\u4e2d\u6240\u6709\u76f8\u5339\u914d\u7684\u62ec\u53f7\u6240\u5bf9\u5e94\u4e0b\u6807\u7684\u4e8c\u5143\u7ec4 $(a,b),a<b$ \u90fd\u6709 $val_a \\neq val_b$\u3002\n\n\u663e\u7136\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u975e\u7a7a\u7684 $0$ \u548c $1$ \u6570\u76ee\u76f8\u7b49\u7684 $0/1$ \u5e8f\u5217\uff0c\u603b\u80fd\u627e\u51fa\u76f8\u90bb\u7684\u4e24\u4e2a\u4f4d\u7f6e\uff0c\u6ee1\u8db3\u8fd9\u4e24\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u6570\u503c\u4e0d\u76f8\u7b49\u3002\u76f4\u63a5\u5c06\u8fd9\u4e24\u4e2a\u4f4d\u7f6e\u5339\u914d\uff0c\u5e76\u5728\u5e8f\u5217\u4e2d\u5220\u53bb\u8fd9\u4e24\u4e2a\u4f4d\u7f6e\uff0c\u5c06\u4f59\u4e0b\u90e8\u5206\u987a\u6b21\u8fde\u63a5\uff0c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u5e8f\u5217\uff0c\u5b83\u6709\u7740\u548c\u539f\u5148\u5e8f\u5217\u76f8\u540c\u7684\u6027\u8d28\uff0c\u53ef\u4ee5\u9012\u5f52\u5904\u7406\u5b83\uff0c\u76f4\u5230\u5e8f\u5217\u4e3a\u7a7a\u3002\n\n\u6240\u4ee5\uff0c\u4f9d\u7167\u4ee5\u4e0a\u5b9e\u73b0\u65b9\u6cd5\uff0c\u603b\u80fd\u4f7f\u7b54\u6848\u8fbe\u5230\u7406\u8bba\u4e0a\u754c\u3002\u4f46\u6734\u7d20\u7684\u5b9e\u73b0\u662f $\\mathcal{O}(n^2)$\uff0c\u9700\u8981\u4f18\u5316\u3002\n\n\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a\u7ef4\u62a4\u4e00\u4e2a\u5904\u7406\u961f\u5217\uff0c\u961f\u5217\u4e2d\u7684\u5143\u7d20\u662f\u4e8c\u5143\u7ec4 $(a,b)$\uff0c\u8868\u793a $a$ \u548c $b$ \u5373\u5c06\u5339\u914d\u3002\n\n\u5bf9\u4e8e\u521d\u59cb\u7684\u5e8f\u5217\uff0c\u627e\u51fa\u6240\u6709\u6ee1\u8db3 $val_i \\neq val_{i-1}$ \u7684\u4f4d\u7f6e $i$\uff0c\u5e76\u5c06 $(i-1,i)$ \u653e\u5165\u5904\u7406\u961f\u5217\u3002\n\n\u8fd9\u65f6\u4f1a\u53d1\u73b0\u90e8\u5206\u4e0b\u6807\u53ef\u80fd\u5728\u961f\u5217\u4e2d\u51fa\u73b0\u591a\u6b21\uff0c\u6240\u4ee5\u9700\u8981\u518d\u8bb0\u5f55\u4e00\u4e2a\u6570\u7ec4 $vis_i$ \u8868\u793a\u4e0b\u6807 $i$ \u662f\u5426\u4e3a\u7a7a\u3002\u53ea\u6709\u5f53\u961f\u9996\u53d6\u51fa\u7684\u4e8c\u5143\u7ec4 $(a,b)$ \u7684 $a$ \u548c $b$ \u90fd\u662f\u7a7a\u7684\u60c5\u51b5\u4e0b\u624d\u5904\u7406\u5b83\u3002\n\n\u8bbe $l_i$ \u8868\u793a $i$ \u5de6\u7aef\uff08\u5305\u62ec $i$\uff09\u7b2c\u4e00\u4e2a\u4e3a\u7a7a\u7684\u4f4d\u7f6e\uff0c$r_i$ \u8868\u793a $i$ \u53f3\u7aef\uff08\u5305\u62ec $i$\uff09\u7b2c\u4e00\u4e2a\u4e3a\u7a7a\u7684\u4f4d\u7f6e\u3002\n\n\u5c06 $(a,b),a<b$ \u8fdb\u884c\u5339\u914d\u4e4b\u540e\uff0c\u552f\u4e00\u53ef\u80fd\u65b0\u51fa\u73b0\u7684\u53ef\u4ee5\u5339\u914d\u7684\u4f4d\u7f6e\u5c31\u662f $(l_{a-1},r_{b+1})$\u3002\u5224\u65ad $val_{l_{a-1}}$ \u548c $val_{r_{b+1}}$ \u662f\u5426\u4e0d\u7b49\u6765\u51b3\u5b9a\u5176\u662f\u5426\u52a0\u5165\u5904\u7406\u961f\u5217\u5373\u53ef\u3002\n\n\u6734\u7d20\u7ef4\u62a4 $l_i$ \u4e0e $r_i$ \u7684\u590d\u6742\u5ea6\u4f9d\u7136\u4e3a $\\mathcal{O}(n^2)$\u3002\u501f\u52a9\u5e76\u67e5\u96c6\u7684\u601d\u60f3\uff0c\u5f53 $(a,b)$ \u5339\u914d\u540e\uff0c\u76f4\u63a5\u4ee4 $l_a,l_b \\leftarrow a-1,r_a,r_b\\leftarrow b+1$\uff1b\u5f53\u67e5\u8be2 $l_x/r_x$ \u65f6\uff0c\u4e0d\u65ad\u4ee4 $x\\leftarrow l_x/r_x$ \u76f4\u5230 $x=l_x/r_x$ \u4e3a\u6b62\uff0c\u6cbf\u9014\u8def\u5f84\u538b\u7f29\u3002\n\n\u8fd9\u6837\u4e00\u6765\u5c31\u53ef\u4ee5\u5355\u6b21 $\\mathcal{O}(\\log n)$ \u7ef4\u62a4\u548c\u67e5\u8be2 $l_i$ \u548c $r_i$\uff0c\u7531\u4e8e\u603b\u5171\u7684\u5339\u914d\u4e2a\u6570\u4e3a $n$\uff0c\u6240\u4ee5\u603b\u590d\u6742\u5ea6\u4e3a $\\mathcal{O}(n\\log n)$\u3002",
        "postTime": 1675581541,
        "uid": 131591,
        "name": "\u849f\u84bb\u541bHJT",
        "ccfLevel": 7,
        "title": "[ARC120D] Bracket Score 2 \u9898\u89e3"
    }
]