[
    {
        "content": "## $\\text{Statement}$\n\n\u8bbe\u968f\u673a\u53d8\u91cf $X_1, X_2, \\dots, X_n$ \u5206\u522b\u5728\u533a\u95f4 $[L_1, R_1], [L_2, R_2], \\dots, [L_n, R_n]$ \u4e0a\u5747\u5300\u5206\u5e03\uff0c\u6c42 $\\max(X_1, X_2, \\dots, X_n)$ \u7684\u671f\u671b\u503c\u3002\n\n## $\\text{Solution}$\n\n\u4ee4 $\\max X$ \u4e3a\u4ee3\u8868 $\\max(X_1, X_2, \\dots, X_n)$ \u7684\u968f\u673a\u53d8\u91cf\u3002\u540c\u65f6\u8bbe $F(x) = \\Pr[\\max X \\le x]$ \u4e3a $\\max X$ \u7684\u7d2f\u79ef\u5206\u5e03\u51fd\u6570\uff08CDF\uff09\u3002\u4ee4 $\\max X$ \u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff08PDF\uff09\u4e3a $P(x)$\u3002\u7531\u53d8\u91cf\u7684\u53d6\u503c\u975e\u8d1f\uff0c\u4e14 PDF \u7684\u79ef\u5206\u4e3a CDF\uff0c\u6211\u4eec\u53ef\u4ee5\u5bfc\u51fa\u4f7f\u7528 CDF \u8868\u793a $E[\\max X]$ \u7684\u65b9\u5f0f\uff1a\n$$\\begin{aligned}\n\n& E[\\max X]\n\\\\ = \\ & \\int_{0}^{\\infty} yP(y) \\text d y\n\\\\ = \\ & \\int_{0}^{\\infty}  \\int_{0}^{y}P(y) \\text dx \\text d y\n\\\\ = \\ & \\int_{0}^{\\infty} \\int_{x}^{\\infty}P(y) \\text d y\\text d x \n\\\\ = \\ & \\int_{0}^{\\infty}\\left( 1 - \\int_{0}^{x}P(y) \\text d y \\right) \\text d x \n\\\\ = \\ & \\int_{0}^{\\infty}1 - F(x) \\text d x \n\n\\end{aligned}$$\n\n\u6211\u4eec\u8bb0 $\\max X$ \u7684\u53d6\u503c\u4e0a\u754c\u4e3a $R = \\max\\left\\{R_i\\right\\}$\u3002\u91cd\u5199\u7b54\u6848\u4e3a\n$$R - \\int_{0}^{R} F(x) \\text d x $$\n\n\u8fd9\u6837\u53ea\u9700\u8981\u5728 $[0,R]$ \u7684\u8303\u56f4\u5185\u8003\u5bdf $F$\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c$\\max X \\le x$\uff0c\u5f53\u4e14\u4ec5\u5f53 $\\forall X_i \\le x$\u3002\u56e0\u6b64 $\\max X$ \u7684 CDF \u5e94\u5f53\u662f\u5404\u4e2a $X_i$ \u7684 CDF $f_i$ \u7684\u4e58\u79ef\uff1a\n\n$$F(x) = \\Pr [\\max X \\le x] = \\prod_{i=1}^n \\Pr [X_i \\le x] = \\prod_{i=1}^n f_i(x)$$\n\n\u800c $f_i(x)$ \u662f\u6613\u8868\u51fa\u7684\uff1a\n\n$$f_i(x) = \\left\\{\n    \\begin{aligned}\n    & 0 && x\\le L_i \\\\ \n    & \\frac{x - L_i}{R_i - L_i} && L_i \\le x \\le R_i \\\\ \n    & 1 && x \\ge R_i \\\\\n    \\end{aligned}\n\\right .$$\n\n$L_i \\le x \\le R_i$ \u6bb5\u7684\u89e3\u6790\u5f0f\u53ef\u7531 CDF \u7684\u5b9a\u4e49\u5bfc\u51fa\u3002\n\n\u6ce8\u610f\u5230\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5c06 $[0, R]$ \u4ee5 $L_i, R_i$ \u4e3a\u95f4\u9694\u5206\u4e3a $O(n)$ \u4e2a\u6bb5\uff0c\u4ece\u5927\u5230\u5c0f\u8fdb\u884c\u5904\u7406\u3002\u5982\u679c\u626b\u5230\u4e00\u4e2a $L_i$\uff0c\u5219\u65e0\u9700\u63a5\u7740\u8fdb\u884c\uff0c\u56e0\u4e3a\u8fd9\u5176\u4e2d\u5b9a\u6709\u4e00\u4e2a\u5143\u7d20\u4e3a $0$\uff0c\u4e4b\u540e\u7684 $F(x)$ \u5b9a\u4e3a $0$\u3002\n\n\u6ce8\u610f\u5230\u52a0\u5165\u4e00\u6bb5\u7b49\u4e8e\u662f\u7ed9\u5f53\u524d\u7684 $F(x)$ \u4e58\u5165\u4e86\u4e00\u4e2a\u5ea6\u6570\u4e3a $1$ \u7684\u591a\u9879\u5f0f\uff0c\u4e14 $F(x)$ \u521d\u59cb\u65f6 $=1$\uff0c\u56e0\u6b64 $F$ \u5728\u4efb\u4f55\u65f6\u523b\u4e5f\u662f\u591a\u9879\u5f0f\u3002\u6211\u4eec\u5728\u79fb\u52a8\u6bb5\u65f6\u53ea\u9700\u8981\u4e58\u5165 $\\frac{x - L_i}{R_i - L_i}$ \u5373\u53ef\u3002\n\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6211\u4eec\u5bf9\u6bcf\u6bb5 $[l, r]$ \u8003\u8651\u7684\u79ef\u5206\u662f\n$$ \\int_{l}^{r}1 - F(x) \\text d x = (r - l) - \\int_{l}^{r}F(x) \\text d x $$\n\n\u7531\u4e8e $F$ \u4e3a\u591a\u9879\u5f0f\uff0c\u76f4\u63a5\u505a\u5373\u53ef\u3002\n\n\u8ba1\u7b97\u7ed3\u679c\u4e58\u5165 $(n+1)! \\times \\prod_{i=1}^n (R_i - L_i)$ \u5373\u4e3a\u6700\u7ec8\u7b54\u6848\u3002\n\n\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2)$\u3002\n\n[Submission](https://atcoder.jp/contests/hhkb2020/submissions/37455737).",
        "postTime": 1671777432,
        "uid": 631791,
        "name": "joke3579",
        "ccfLevel": 0,
        "title": "Random Max \u9898\u89e3"
    },
    {
        "content": "## \u524d\u8bb0\n\u672c\u9898\u9700\u8981\u4e00\u5b9a\u7684\u5fae\u79ef\u5206\u57fa\u7840\u3002\u60a8\u9700\u8981\u4e86\u89e3\u79ef\u5206\u7684\u610f\u4e49\u548c\u6c42\u591a\u9879\u5f0f\u79ef\u5206\u7684\u65b9\u6cd5\u3002\n## \u671f\u671b\u7684\u5b9a\u4e49\n\u6211\u4eec\u4e00\u822c\u628a\u79bb\u6563\u671f\u671b\u505a\u5982\u4e0b\u5b9a\u4e49\uff1a  \n$$\\mathcal E(S) = \\sum_{s \\in S} s {\\bf Prob}(s)$$\n**\u4f8b 1\uff1a\u9ab0\u5b50\u7684\u671f\u671b\u70b9\u6570\u3002**\n$$\\mathcal E(\\{1,2,3,4,5,6\\}) = \\sum_{i=1}^6 \\dfrac 16i = \\dfrac 72$$\n\n**\u4f8b 2\uff1a$\\bf [0,1)$ \u95f4\u5747\u5300\u5206\u5e03\u5b9e\u6570\u7684\u671f\u671b**  \n\u4e5f\u8bb8\u4f60\u4f1a\u60f3\u5f53\u7136\u5730\u8ba4\u4e3a\u662f $0.5$\uff0c\u4f46\u662f\u6211\u4eec\u8fd8\u6ca1\u6709\u5b9a\u4e49\u8fde\u7eed\u7684\u671f\u671b\u3002  \n\u8003\u8651\u6bcf $\\epsilon$ \u53d6\u4e00\u4e2a\u6837\uff08$\\dfrac 1\\epsilon \\in \\mathbb N^+$\uff09\uff0c\u6700\u7ec8\u53d6 $\\dfrac 1\\epsilon$ \u4e2a\u6837\uff0c\u7136\u540e\u628a\u6240\u6709 $[x, x+\\epsilon)$ \u90fd\u6620\u5c04\u5230 $x$\u3002  \n\u4f8b\u5982\uff1a\u5f53 $\\epsilon = \\dfrac 13$ \u65f6\uff1a\n- $[0, \\frac 13) \\to 0$\n- $[\\frac 13, \\frac 23) \\to \\frac 13$\n- $[\\frac 23, 1) \\to \\frac 23$\n\n\uff0c\u5f53 $\\epsilon \\to 0$ \u65f6\u5c31\u53ef\u4ee5\u89c6\u4e3a $[0,1)$ \u7684\u671f\u671b\u503c\uff0c\u800c\u671f\u671b\u503c\u53c8\u662f\uff1a\n$$\\begin{array}{ll}& \\sum_{i=0}^{1/\\epsilon-1} i \\epsilon^2\\\\\n=&\\epsilon^2\\sum_{i=0}^{1/\\epsilon-1} i\\\\\n=&\\epsilon^2\\frac{(1/\\epsilon-1)(1/\\epsilon)}2\\\\\n=&\\frac{\\epsilon(1/\\epsilon-1)}2\\\\\n=&\\frac{1-\\epsilon}{2}\n\\end{array}$$\n\uff0c\u6240\u4ee5\u671f\u671b\u503c\u4e3a\n$$\\mathcal E = \\lim_{\\epsilon \\to 0} \\dfrac{1-\\epsilon}{2}=\\dfrac 12$$\n\uff0c\u8fd9\u6837\u6211\u4eec\u624d\u80fd\u5b8c\u6210\u7ed3\u8bba\uff1a\u671f\u671b\u503c\u4e3a $\\dfrac 12$\u3002\n\n**\u4f8b 3\uff1a\u8fde\u7eed\u671f\u671b\u7684\u5b9a\u4e49**  \n\u5b9a\u4e49 $\\mathcal P_{C}(x) = \\lim\\limits_{\\epsilon \\to 0} \\dfrac{{\\bf Prob}(X \\in [x, x+\\epsilon))}\\epsilon$\uff0c\u5176\u4e2d $X$ \u662f\u968f\u673a\u503c\u3002  \n\u7531\u6b64\u5b9a\u4e49\u7684\u51fd\u6570\u53ef\u4ee5\u5728\u8fde\u7eed\u95ee\u9898\u4e0a\u5f53\u4f5c\u6982\u7387\u4f7f\u7528\uff0c\u88ab\u79f0\u4e3a\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff08Probability Density Function\uff0cPDF\uff09  \n\u5219\u8003\u8651\u53d6\u6837\uff0c\u671f\u671b\u503c\u4e3a\uff1a\n$$\\sum_{i=D/\\epsilon}^{U/\\epsilon-1} i\\epsilon \\mathcal {\\bf Prob}(X \\in [i\\epsilon, i\\epsilon+\\epsilon))$$\n\uff0c\u8fdb\u884c\u4e00\u7cfb\u5217\u63a8\u5bfc\u5f97\u5230\n$$\\int_{D}^{U} \\mathcal P_C(x) x {\\bf d}x$$\n\u3002\u6b64\u53c8\u53ef\u4f5c\u4e3a\u8fde\u7eed\u671f\u671b\u7684\u5b9a\u4e49\n\n\uff08$D$ \u662f\u4e0b\u754c\uff0c$U$ \u662f\u4e0a\u754c\uff09\n\n**\u4f8b 4\uff1a\u7528\u5b9a\u4e49\u6c42 $\\bf [0,1)$ \u95f4\u5747\u5300\u5206\u5e03\u5b9e\u6570\u7684\u671f\u671b**\n\u4f1a\u53d1\u73b0 $\\mathcal P_C(x) = 1$\uff0c\u5219\n$$\\mathcal E = \\int_0^1 x {\\bf d}x = \\dfrac 12$$\n\u3002\n\n## PDF \u4e0e CDF\n\u8bbe $P(x)$ \u662f PDF\uff0c\u5b9a\u4e49 CDF\uff08Cumulative Density Function\uff09\n$$C(x) = \\int_{0}^{x} P(t) {\\bf d}t$$\n\u3002  \n**\u5b9a\u7406 2.1** $C(x) = {\\bf Prob}(X \\lt x)$\u3002  \n\u8bc1\u660e\uff1a\n$$\\begin{aligned}\nC(x)&=\\lim\\limits_{\\epsilon\\to0} \\epsilon\\sum_{i=0}^{x/\\epsilon} P(i\\epsilon)\\\\\n&=\\lim\\limits_{\\epsilon\\to0}\\epsilon\\sum\\limits_{i=0}^{x/\\epsilon} \\dfrac{{\\bf Prob}(X \\in [i\\epsilon,(i+1)\\epsilon))}{\\epsilon} \\\\\n&=\\lim\\limits_{\\epsilon\\to0}\\sum\\limits_{i=0}^{x/\\epsilon} {{\\bf Prob}(R \\in [i\\epsilon,(i+1)\\epsilon))}\\\\\n&={\\bf Prob}(X \\lt x)\n\\end{aligned}$$\n**\u5b9a\u7406 2.2**\n$$\\int_{0}^{+\\infty} x\\mathcal P_C(x) {\\bf d}x = \\int_0^{+\\infty}1-C(x){\\bf d}x$$\n\u8bc1\u660e\uff1a\n$$\\begin{aligned}\n\\int_0^{+\\infty}x \\mathcal P_C(x){\\bf d}x&=\\int_0^{+\\infty} \\int_0^x \\mathcal P_C(x){\\bf d}y{\\bf d}x\\\\\n&=\\int_0^{+\\infty}\\int_x^{+\\infty} \\mathcal P_C(y) {\\bf d}y {\\bf d}x \\\\\n&=\\int_0^{+\\infty}\\int_0^{+\\infty} \\mathcal P_C(y) {\\bf d}y - \\int_0^{x} \\mathcal P_C(y) {\\bf d}y {\\bf d}x \\\\\n&=\\int_0^{+\\infty} C(+\\infty) - C(x) {\\bf d}x \\\\\n&=\\int_0^{+\\infty} 1 - C(x) {\\bf d}x\n\\end{aligned}$$\n\n## \u672c\u9898\u89e3\u6cd5\n\u56e0\u4e3a $\\max_{i} x_i < t \\iff \\forall i,x_i < t$\uff0c\u6240\u4ee5 \n$$C(x) = \\prod_{i=1}^{n} {\\bf Prob}(x_i < x)$$\n\uff0c\u800c \n$${\\bf Prob}(x_i<x) = \\left\\{\\begin{matrix}\n0 & x < L_i \\\\\n\\dfrac{x-L_i}{R_i-L_i} & x \\in [L_i, R_i] \\\\\n1 & x > R_i\n\\end{matrix}\\right.$$\n\u8bbe\u96c6\u5408 $E = \\{\\max L\\} \\cup \\{r \\in R \\mid r > \\max L\\}$\u3002\u663e\u7136 $|E| = O(n)$\u3002\u5c06 $E$ \u4ece\u5927\u5230\u5c0f\u6392\u5e8f \u5f97\u5230 $E'$\uff0c\u94a6\u5b9a $E_0' = \\infty$\uff0c\u5219\u6709\u5728 $[E_i',E_{i-1}']$ \u91cc\u7684\u591a\u9879\u5f0f\u662f\u4e00\u6837\u7684\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u533a\u95f4\u53bb\u79ef\u5206\u5373\u53ef\u3002\n\n\u4e24\u4e2a\u533a\u95f4\u5185\u662f\u4e58\u4e00\u4e2a\u4e00\u6b21\u591a\u9879\u5f0f\uff0c\u6240\u4ee5\u4e24\u4e2a\u533a\u95f4\u4e4b\u95f4\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n)$\uff0c\u6bcf\u4e00\u4e2a\u533a\u95f4\u7684\u79ef\u5206\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n)$\uff0c\u603b\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$\u3002\n\n\u4ee3\u7801\u6ca1\u5199\u3002\n## \u540e\u8bb0\n\u8fd9\u662f\u6211\u7684\u8fde\u7eed\u79ef\u5206\u5165\u95e8\u9898\uff0c\u8bf7\u671f\u5f85\u300a\u6d45\u8c08\u671f\u671b\u300b\uff08\u4e5f\u8bb8\u53ef\u80fd\u662f\u65e5\u62a5\u6c34\u5e73\uff09\u3002",
        "postTime": 1671436324,
        "uid": 360265,
        "name": "lhx1048576",
        "ccfLevel": 6,
        "title": "\u4ece\u79bb\u6563\u5230\u8fde\u7eed\u2014\u2014\u5fae\u79ef\u5206\u5728\u671f\u671b\u95ee\u9898\u4e2d\u7684\u5e94\u7528"
    }
]