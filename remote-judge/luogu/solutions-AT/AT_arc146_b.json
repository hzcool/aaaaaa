[
    {
        "content": "\u7531\u4e8e\u6709\u5f0f\u5b50 $2^n>\\sum_{i=0}^{n-1}2^i$\uff0c\u6240\u4ee5\u8003\u8651\u6309\u4f4d\u8d2a\u5fc3\u3002\n\n\u5047\u8bbe\u5f53\u524d\u6b63\u5728\u8003\u8651\u7b2c $i$ \u4f4d\uff0c\u90a3\u4e48\u628a\u7b2c $j$ \u4e2a\u6570\u7684\u7b2c $i$ \u4f4d\u53d8\u6210 $1$ \u7684\u4ee3\u4ef7\u4e3a $\\max(0,2^i-j\\bmod 2^{i+1})$\u3002\u628a\u6240\u6709\u6570\u7684\u4ee3\u4ef7\u7b97\u51fa\u6765\uff0c\u53d6\u524d $k$ \u5c0f\u7684\u4ee3\u4ef7\uff0c\u5982\u679c\u52a0\u8d77\u6765\u4e0d\u5927\u4e8e $m$\uff0c\u90a3\u4e48\u628a\u7b54\u6848\u7684\u7b2c $i$ \u4f4d\u8bbe\u4e3a $1$ \u80af\u5b9a\u6700\u4f18\u3002\u628a\u524d $k$ \u5c0f\u7684\u6570\u7684\u8d21\u732e\u52a0\u5230\u5bf9\u5e94\u7684\u6570\u4e0a\uff0c\u7136\u540e\u5220\u6389\u6240\u6709\u7b2c $i$ \u4f4d\u4e3a $0$ \u7684\u6570\uff08\u56e0\u4e3a\u8fd9\u4e9b\u6570\u662f\u4e0d\u80fd\u88ab\u9009\u62e9\u7684\uff09\uff0c\u7ee7\u7eed\u5224\u65ad\u4e0b\u4e00\u4f4d\u5373\u53ef\u3002\n\n```cpp\n#include <algorithm>\n#include <iostream>\n\nusing namespace std;\nusing LL = long long;\n\nconst int kN = 2e5 + 1;\n\nint k, n, m, a[kN], b[kN], d[kN], ans, _a[kN];\n\nint main() {\n  ios_base::sync_with_stdio(0), cin.tie(0), cout.tie(0);\n  cin >> n >> m >> k;\n  for (int i = 1; i <= n; ++i) {\n    cin >> a[i];\n  }\n  for (int i = 31; i >= 0 && n >= k; --i) {\n    for (int j = 1; j <= n; ++j) {\n      d[j] = j;\n      b[j] = max(0LL, (1LL << i) - (a[j] & ((1LL << i + 1) - 1)));  // \u8ba1\u7b97\u4ee3\u4ef7\n    }\n    sort(d + 1, d + n + 1, [](int i, int j) { return b[i] < b[j]; });\n    LL s = 0;\n    for (int j = 1; j <= k; ++j) {  // \u9009\u4ee3\u4ef7\u524d k \u5c0f\u7684\u6570\n      s += b[d[j]];\n    }\n    if (s <= m) {                     // \u5982\u679c\u53ef\u884c\n      m -= s, ans |= 1 << i;          // \u5c06\u7b54\u6848\u7684\u8fd9\u4e00\u4f4d\u8bbe\u4e3a 1\n      for (int j = 1; j <= k; ++j) {  // \u4fee\u6539\u5bf9\u5e94\u7684\u6570\n        a[d[j]] += b[d[j]];\n      }\n      int _n = 0;\n      for (int j = 1; j <= n; ++j) {  // \u5220\u6389\u4e0d\u80fd\u9009\u7684\u6570\n        if (a[j] >> i & 1) {\n          _a[++_n] = a[j];\n        }\n      }\n      copy_n(_a + 1, n = _n, a + 1);\n    }\n  }\n  cout << ans;\n  return 0;\n}\n```",
        "postTime": 1670642865,
        "uid": 376161,
        "name": "wsfxk",
        "ccfLevel": 6,
        "title": "[ARC146B] Plus and AND \u9898\u89e3"
    }
]