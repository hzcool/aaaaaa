[
    {
        "content": "\u7531\u6b27\u62c9\u5b9a\u7406\uff0c$A^x\\equiv A^{x\\%\\varphi(m)}(\\mod m)$\uff0c\u90a3\u4e48\u8981\u6c42 $A^{x\\%\\varphi(m)}\\equiv x(\\mod m)$\u3002\n\n\u8003\u8651\u5c06 $x$ \u5199\u6210 $A^y$ \u7684\u5f62\u5f0f\uff0c\u90a3\u4e48 $A^{x\\%\\varphi(m)}\\equiv A^y(\\mod m)$\u3002\n\n\u90a3\u4e48\u53d1\u73b0\u6b64\u65f6\u6709\u7b49\u5f0f\uff1a\n- $A^y\\equiv x(\\mod m)$\n- $x\\equiv y(\\mod \\varphi(m))$\n\n\u53ef\u4ee5\u8fd9\u6837\u6784\u9020\u4e00\u7ec4 $y$\uff1a\n\u5982\u679c $y$ \u6ee1\u8db3\u4e86 $A^y\\equiv y(\\mod \\varphi(m))$\uff0c\u90a3\u4e48 $x=A^y(\\mod lcm(m,\\varphi(m))$\u3002   \n\u53ef\u4ee5\u53d1\u73b0\u8fd9\u4e2a\u5f0f\u5b50\u6070\u597d\u662f\u5b50\u95ee\u9898\uff0c\u9012\u5f52\u8ba1\u7b97\u5373\u53ef\u3002\n\n\u6ce8\u610f\u8fb9\u754c\u60c5\u51b5\uff0c\u5982\u679c\u8fd9\u91cc\u7684 $x$ \u6bd4\u8f83\u5c0f\u6b27\u62c9\u5b9a\u7406\u4f1a\u51fa\u9505\uff0c\u5e94\u8be5\u4e00\u4e2a\u521d\u503c\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nint t,a,mod; \nint read(){\n\tint x=0,f=1;char ch=getchar();\n\twhile(!isdigit(ch)){if(ch=='-')f=-1;ch=getchar();}\n\twhile(isdigit(ch)){x=x*10+ch-48;ch=getchar();}\n\treturn x*f;\n}\nint get_phi(int x){\n\tint res=x;\n\tfor(int i=2;i*i<=x;i++){\n\t\tif(x%i==0){\n\t\t\tres=res/i*(i-1);\n\t\t\twhile(x%i==0)x/=i;\n\t\t}\n\t}\n\tif(x>1)res=res/x*(x-1);\n\treturn res;\n}\nint mul(int a,int b,int mod){\n\tint ans=0;\n\twhile(b){\n\t\tif(b&1)ans=(ans+a)%mod;\n\t\ta=(a+a)%mod;\n\t\tb>>=1;\n\t}\n\treturn ans;\n}\nint po(int a,int b,int mod){\n\tint ans=1;\n\twhile(b){\n\t\tif(b&1)ans=mul(ans,a,mod);\n\t\ta=mul(a,a,mod);\n\t\tb>>=1;\n\t}\n\treturn ans;\n}\nint solve(int a,int mod){\n\tif(!a)return mod;\n\tif(a==1)return 1;\n\tif(mod==1)return 100;\n\tint phi=get_phi(mod);\n\tint g=__gcd(mod,phi),y=solve(a,phi),k1,k2,l=mod/g*phi;\n\tint res=po(a,y,l);\n\twhile(res<100)res+=l;\n\treturn res;\n}\nsigned main(){\n\tt=read();\n\twhile(t--){\n\t\ta=read(),mod=read();\n\t\tprintf(\"%lld\\n\",solve(a,mod));\t\n\t}\n\treturn 0;\n}\n\n```",
        "postTime": 1649854716,
        "uid": 232987,
        "name": "yangchenxiao",
        "ccfLevel": 9,
        "title": "AT3521 ModularPowerEquation!! \u9898\u89e3"
    }
]