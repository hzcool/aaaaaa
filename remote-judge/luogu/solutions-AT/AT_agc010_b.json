[
    {
        "content": "[\u5e7f\u544a](zhylj.cc)\n\n\u8003\u8651\u5dee\u5206\u6570\u7ec4 $d$\uff0c\u4e00\u4e2a\u64cd\u4f5c\u76f8\u5f53\u4e8e\u67d0\u4e2a\u6570 $d_i\\leftarrow d_i-(n-1)$\uff0c\u53e6\u5916\u7684\u6240\u6709\u6570\u6709 $d_j\\leftarrow d_j+1(j\\neq i)$\uff0c\u4ee4 $c = \\dfrac{n(n+1)}2$\uff0c\u5373\u6bcf\u6b21\u64cd\u4f5c\u51cf\u5c11\u7684\u6570\uff0c\u663e\u7136\u4e00\u4e2a\u5fc5\u8981\u6761\u4ef6\u662f $\\sum a_i \\bmod c = 0$\u3002\n\n\u8bbe $m_i$ \u4ee3\u8868\u4f7f\u7528\u4e86\u4ee5 $i$ \u5f00\u5934\u7684\u64cd\u4f5c\u7684\u6b21\u6570\uff0c\u518d\u4ee4\uff1a\n\n$$M = \\frac {\\sum a_i}c$$\n\n\u5219\u6709\uff1a\n\n$$d_i = (M - m_i) - m_i(n-1) = M - m_in$$\n\n\u89e3\u5f97\uff1a\n\n$$m_i = \\frac {M - d_i}n$$\n\n\u663e\u7136\u8981\u6ee1\u8db3\u7684\u6761\u4ef6\u4e3a $m_i$ \u4e3a\u975e\u8d1f\u6574\u6570\uff0c\u8fd9\u4e2a\u5f88\u5bb9\u6613\u5224\u65ad\u3002\n\n```cpp\nconst int kN = 1e5 + 5;\n\nll a[kN], d[kN], c, M;\n\nint main() {\n\tint n; rd(n); c = (ll)n * (n + 1) / 2;\n\tfor(int i = 1; i <= n; ++i) rd(a[i]), M += a[i];\n\tif(M % c != 0) { printf(\"NO\"); return 0; }\n\tM /= c;\n\tfor(int i = 1; i <= n; ++i) d[i] = a[i % n + 1] - a[i];\n\tfor(int i = 1; i <= n; ++i)\n\t\tif(d[i] > M || (M - d[i]) % n != 0) {\n\t\t\tprintf(\"NO\"); return 0;\n\t\t}\n\tprintf(\"YES\");\n\treturn 0;\n}\n```\n",
        "postTime": 1586168327,
        "uid": 34238,
        "name": "zhylj",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 AT2303 \u3010[AGC010B] Boxes\u3011"
    },
    {
        "content": "## AT2303 \u9898\u89e3\n### \u9898\u76ee\u63cf\u8ff0\n* \u4e00\u5217 $n$ \u4e2a\u6570\u5b57 $a_{i}$ \u6784\u6210\u4e00\u4e2a\u73af\uff0c\u6bcf\u6b21\u53ef\u4ee5\u4ece\u4efb\u610f\u4e00\u4e2a\u4f4d\u7f6e\u5f00\u59cb\uff0c\u4f9d\u6b21\u5c06\u73af\u4e0a\u7684\u6570\u5b57 $-1, -2, -3,...,-n$ \uff0c\u8be2\u95ee\u662f\u5426\u5b58\u5728\u4e00\u79cd\u65b9\u6848\u4f7f\u6700\u7ec8\u6570\u5217\u6240\u6709\u6570\u503c\u90fd\u662f $0$ \uff0c\u6ce8\u610f\u64cd\u4f5c\u6b21\u6570\u4e0d\u5b9a\u3002\n\n### \u601d\u8def\n* \u9006\u5411\u601d\u7ef4\uff0c\u5b83\u8ba9\u6211\u4eec\u6bcf\u6b21\u51cf\u5230 $0$ \uff0c\u53ef\u4ee5\u8003\u8651\u53cd\u5411\u5047\u8bbe\u539f\u5e8f\u5217\u4e2d\u6240\u6709\u6570\u4e3a $0$ \u4ece\u4efb\u610f\u70b9\u5f00\u59cb\u6bcf\u6b21 $+1, +2, +3,...,+n$ \u770b\u80fd\u5426\u6784\u6210\u539f\u5e8f\u5217\u3002\n\n* \u80fd\u5426\u6784\u6210\u539f\u5e8f\u5217\u6211\u4eec\u6709\u4ee5\u4e0b\u4e09\u4e2a\u5224\u65ad\u4f9d\u636e\uff1a\n\n1. \u4e0d\u96be\u770b\u51fa\uff0c\u8fd9\u6837\u6bcf\u4e00\u6b21\u64cd\u4f5c\u6784\u9020\u51fa\u7684\u5e8f\u5217\u7684\u548c\u7684\u589e\u52a0\u91cf $x = \\frac{n  * (n + 1)}{2}$ \uff0c\u90a3\u4e48\u6700\u7ec8\u6784\u5efa\u51fa\u7684\u5e8f\u5217\u603b\u548c $sum =\\sum_{i = 1}^{n}a_{i} $ ,\u4e00\u5b9a\u6709 $sum$ \u80fd\u88ab $x$ \u6574\u9664\u3002\u82e5\u4e0d\u80fd\u6574\u9664\u5219\u8bf4\u660e\u6784\u4e0d\u6210\u539f\u5e8f\u5217\uff0c\u8fd9\u662f\u6211\u4eec\u7684\u7b2c\u4e00\u4e2a\u5224\u65ad\u4f9d\u636e\u3002\n\n2. \u901a\u8fc7 $+1, +2, +3,...,+n$ \u6211\u4eec\u4e0d\u96be\u60f3\u5230\u5dee\u5206\u7684\u601d\u60f3\u3002\u6784\u5efa\u5dee\u5206\u6570\u7ec4 $c_{i} = a_{i + 1} - a_{i}$ \uff0c\u6bcf\u6b21\u64cd\u4f5c\u7684\u7ed3\u679c\u53ef\u4ee5\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5\uff0c$c_{i} + 1$ \u6216\u8005 $c_{i} + (1 - n)$\u3002\u6211\u4eec\u4ee4\u603b\u64cd\u4f5c\u6570\u4e3a $M = \\frac{sum}{x} $ \u3002\u5982\u679c\u53ef\u4ee5\u6784\u6210\u539f\u5e8f\u5217\uff0c\u4e00\u5b9a\u6709 $(M - c_{i})$ \u88ab $n$ \u6574\u9664\u3002\u8fd9\u662f\u6211\u4eec\u7684\u7b2c\u4e8c\u4e2a\u5224\u65ad\u4f9d\u636e\u3002\n\n3. \u4ee4\u4ee5\u4f4d\u7f6e $i$ \u5f00\u5934\u7684\u64cd\u4f5c\u6570\u4e3a $m_{i}$ \uff0c\u603b\u64cd\u4f5c\u6570\u4e3a $M = \\frac{sum}{x} $ \u3002\u5219\u6709\uff1a $c_{i} =(M - m_{i}) +  m_{i}(1-n)$ \uff1b\u5316\u7b80\uff1a $m_{i} = \\frac{M - c_{i}}{n} \\ge 0$ \u3002\u5373 $m_{i}$ \u4e00\u5b9a\u4e3a\u975e\u8d1f\u6570\uff0c\u8fd9\u662f\u6211\u4eec\u7684\u7b2c\u4e09\u4e2a\u5224\u65ad\u4f9d\u636e\u3002\n\n* \u5177\u4f53\u5b9e\u73b0\u89c1\u4ee3\u7801\u5373\u6ce8\u91ca\uff0c\u5982\u4e0b\uff1a\n\n------------\n\n### AC CODE\n\n```cpp\n// **Crystal_gan && Gan_shin**\n#include <iostream>\n#include <cmath>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <algorithm>\n#include <queue>\n#include <bitset>\nusing namespace std;\ntypedef long long LL;\ntypedef unsigned long long ULL;\n\ntemplate <class T>\ninline void read(T &x)\n{\n\tx = 0;\n\tchar ch = getchar(), flag = 0;\n\twhile (ch < '0' || ch > '9')\n\t\tflag |= ch == '-', ch = getchar();\n\twhile (ch >= '0' && ch <= '9')\n\t\tx = (x << 3) + (x << 1) + (ch ^ 48), ch = getchar();\n\tif (flag)\n\t\tx = -x;\n}\ntemplate <class T, class... T1>\ninline void read(T &x, T1 &...x1)\n{\n\tread(x), read(x1...);\n}\ntemplate <class T>\ninline bool chkmin(T &a, T b)\n{\n\treturn a > b ? a = b, 1 : 0;\n}\ntemplate <class T>\ninline bool chkmax(T &a, T b)\n{\n\treturn a < b ? a = b, 1 : 0;\n}\n\nconst int N = 1e5 + 10;\nLL n, sum;\nLL a[N], c[N], x;\nint main()\n{\n\t// freopen(\"AT2303.in\", \"r\", stdin);\n\t// freopen(\"AT2303.out\", \"w\", stdout);\n\tread(n);\n\t// \u6bcf\u6b21\u64cd\u4f5c\u548c\u7684\u589e\u52a0\u91cf x \n\tx = n * (n + 1) / 2;\n\t// \u5e8f\u5217\u603b\u548c\u4e3a sum\n\tfor (int i = 1; i <= n; i++)\n\t\tread(a[i]), sum += a[i];\n\t// \u64cd\u4f5c\u603b\u6b21\u6570\n\tLL M = sum / x;\n\t// \u5224\u65ad\u4f9d\u636e1\uff1a\n\tif (sum % x != 0) {\n\t\tprintf(\"NO\\n\");\n\t\treturn 0;\n\t}\n\t// \u6784\u5efa\u5dee\u5206\u6570\u7ec4\n\tfor (int i = 1; i <= n; i++)\n\t\tc[i] = a[i % n + 1] - a[i];\n\tfor (int i = 1; i <= n; i++)\n\t\t// \u5224\u65ad\u4f9d\u636e2\u548c3\uff1a\n\t\t// \u5982\u679c (M - c[i]) / n < 0 \u6216\u8005 n \u4e0d\u80fd\u6574\u9664 (M - c[i]) \u8bf4\u660e\u65e0\u89e3\n\t\t// n > 0, \u6240\u4ee5\u53ea\u9700\u8981\u5224\u65ad (M - c[i]) < 0 \u5373\u53ef\n\t\tif ((M - c[i]) % n != 0 || M - c[i] < 0) {\n\t\t\tprintf(\"NO\\n\");\n\t\t\treturn 0;\n\t\t}\n\n\tprintf(\"YES\\n\");\n\treturn 0;\n}\n\n```\n",
        "postTime": 1658200678,
        "uid": 109660,
        "name": "\u51cc\u5bd2",
        "ccfLevel": 6,
        "title": "AT2303"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT_agc010_b)\n\n## \u601d\u8def\n\n\u66b4\u529b\u51fa\u5947\u8ff9\uff01\n\n\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u89c4\u5f8b\uff0c\u6bcf\u6b21\u51cf\u7684\u4f4d\u7f6e\u4e00\u5b9a\u662f\u6570\u5217\u6700\u5c0f\u503c\u7684\u4f4d\u7f6e\u3002\n\n\u7136\u540e\u66b4\u529b\u51cf\uff0c\u7136\u540e\u5c31\u8fc7\u4e86\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(\\dfrac{\\max a_i}{n^2})$\uff0c\u5927\u7ea6\u5728 $10^9$ \u5de6\u53f3\uff0c\u6240\u4ee5\u5361\u5361\u4e5f\u662f\u80fd\u8fc7\u7684\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h> \nusing namespace std;\nint const N=1e5+10;\nint a[N],minp,minx,maxx,n;\ninline void solve(){\n\tfor (int i=minp;i<=n;++i) a[i]-=i-minp+1;\n\tfor (int i=1;i<minp;++i) a[i]-=n-minp+1+i;\n\tminp=1;minx=a[1];maxx=0;\n\tfor (int i=2;i<=n;++i){\n\t\tif (a[i]<minx){minx=a[i];minp=i;}\n\t\tmaxx=max(maxx,a[i]);\n\t}\n}\nsigned main(){\n\tios::sync_with_stdio(false);\n\tcin.tie(0),cout.tie(0);\n\tcin>>n;\n\tfor (int i=1;i<=n;++i) cin>>a[i];\n\tminp=1;minx=a[1];maxx=0;\n\tfor (int i=2;i<=n;++i){\n\t\tif (a[i]<minx){minx=a[i];minp=i;}\n\t\tmaxx=max(maxx,a[i]);\n\t}\n\twhile (minx>0) solve();\n\tif (maxx || minx) cout<<\"NO\\n\";\n\telse cout<<\"YES\\n\";\n\treturn 0;\n}\n```\n",
        "postTime": 1667542701,
        "uid": 253608,
        "name": "Tx_Lcy",
        "ccfLevel": 7,
        "title": "[AGC010B] Boxes"
    },
    {
        "content": "\u770b\u89c1\u8fd9\u79cd\u533a\u95f4$\\texttt{+1,+2...+n}$\u5c31\u7acb\u9a6c\u60f3\u5230\u4e86\u5dee\u5206\uff0c\u7136\u540e\u9898\u76ee\u5c31\u8f6c\u5316\u6210\u4e86\uff1a\u5148\u6c42\u51fa\u5dee\u5206\u6570\u7ec4\uff0c\u7136\u540e\u6bcf\u6b21\u64cd\u4f5c\u5c06\u4e00\u4e2a\u503c $c_i$\u53d8\u6210$c_i-(n-1)$\uff0c\u7136\u540e\u8ba9\u5176\u4ed6\u6240\u6709\u503c\u90fd +1\u3002\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u6c42\u51fa\u6bcf\u4e2a$c_i$\u88ab-(n-1)\u7684\u6b21\u6570\u3002\n\n\u603b\u6b21\u6570\u4e3a$\\sum_{i=1}^na[i]/((n+1)*n/2)$  \n\u82e5\u6b64\u5f0f\u4e0d\u4e3a\u6b63\u6574\u6570\uff0c\u76f4\u63a5\u8f93\u51fa NO\u3002\n\n\u6bcf\u4e2a\u6570\u88ab\u64cd\u4f5c\u7684\u6b21\u6570\u53ef\u4ee5 $O(1)$ \u6c42\u51fa\uff0c\u8bbe\u603b\u6b21\u6570\u4e3a k\uff0c\u5f53\u524d\u8fd9\u4e2a\u6b21\u6570\u4e3a$s_i$\uff0c\u5219\u6709\n\n$c_i=(k-s_i)-(n-1)*s_i$\n\n$c_i=k-s_i*n$\n\n$s_i=\\frac{k-c_i}{n}$\n\n\u5224\u65ad$s_i$\u662f\u5426\u4e3a\u975e\u8d1f\u6574\u6570\u5c31\u53ef\u4ee5\u4e86\uff0c\u4e0d\u9700\u8981\u5f00\u6570\u7ec4\u3002",
        "postTime": 1608037345,
        "uid": 150190,
        "name": "Antarctican",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT2303 \u3010[AGC010B] Boxes\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT_agc010_b)\u3002\n\n#### \u601d\u8def\n\n\u672c\u9898\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u601d\u7ef4\u9898\u3002\n\n\u6211\u4eec\u4ee4 $p$ \u8868\u793a\u64cd\u4f5c\u6b21\u6570\uff0c\u6bcf\u6b21\u64cd\u4f5c\u6570\u5217\u548c\u7684\u53d8\u5316\u4e3a $\\dfrac{n(n+1)}{2}$\uff0c\u5bb9\u6613\u5f97\u5230 $p=\\dfrac{2\\sum_{i=1}^n a_i}{n(n+1)}$\uff0c\u5f53\u7136\uff0c$p$ \u8981\u4e3a\u6b63\u6574\u6570\u3002\n\n\u8003\u8651\u5dee\u5206\uff0c\u4ee4 $d_i$ \u8868\u793a $p$ \u6b21\u64cd\u4f5c\u540e $a_i$ \u548c $a_{i-1}$ \u7684\u5dee\uff0c\u53ef\u4ee5\u5f97\u5230 `d[i]=a[i%n+1]-a[i]`\uff0c\u7531\u4e8e\u662f\u4e00\u4e2a\u8fde\u7eed\u6570\u5b57\u7684\u73af\uff0c\u6240\u4ee5\u6bcf\u6b21\u64cd\u4f5c\u53ea\u4f1a\u6709\u4e24\u79cd\u60c5\u51b5\uff0c$d_i+1$ \u6216\u8005 $d_i+(1-n)$\uff0c\u8bbe $x$ \u8868\u793a\u60c5\u51b5\u4e00\u6570\u91cf\u7684\u603b\u548c\uff0c\u5219\u6709 $d_i=p-nx$\uff0c\u6240\u4ee5\u53ea\u9700 $x$ \u4e3a\u6b63\u6574\u6570\u5373\u53ef\u3002\n\n#### CODe\n\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\nconst ll Maxn=1e5+7;\nll n,a[Maxn],sum,d[Maxn];\nint main(){\n\tscanf(\"%lld\",&n);\n\tfor(ll i=1;i<=n;i++) scanf(\"%lld\",&a[i]),sum+=a[i];\n\tif((sum)%((n*n+n)/2)) return printf(\"NO\"),0;\n\tfor(ll i=1;i<=n;i++) d[i]=a[i%n+1]-a[i];\n\tll p=sum*2/(n*n+n);\n\tfor(ll i=1;i<=n;i++)\n\t\tif(d[i]>p||(p-d[i])%n) return printf(\"NO\"),0;\n\tprintf(\"YES\");\n\treturn 0;\n}\n\n```\n",
        "postTime": 1679115912,
        "uid": 590600,
        "name": "MoriyaSuwako",
        "ccfLevel": 0,
        "title": "AT_agc010_b\u9898\u89e3"
    },
    {
        "content": "Link: [AT2303 [AGC010B] Boxes](https://www.luogu.com.cn/problem/AT2303)\n\n\n### \u9898\u76ee\u63cf\u8ff0\n\n$N$ \u4e2a\u6570\u5b57 $A_i$\uff08\u987a\u65f6\u9488\u7ed9\u51fa\uff09\u6784\u6210\u4e00\u4e2a\u73af\uff0c\u6bcf\u6b21\u53ef\u4ee5\u4ece\u4e00\u4e2a\u8d77\u70b9\u51fa\u53d1\u987a\u65f6\u9488\u7ed9\u8fd9\u4e2a\u73af\u4f9d\u6b21 $-1,-2,...,-n$\uff0c\u95ee\u662f\u5426\u5b58\u5728\u4e00\u79cd\u65b9\u6848\u4f7f\u5f97\u80fd\u628a\u6240\u6709\u6570\u6070\u597d\u90fd\u51cf\u6210 $0$\n\n\u8fd9\u4e2a\u9898\u76ee\u76f8\u5f53\u4e8e\n\n\u5728\u4e00\u4e2a $N$ \u4e2a\u6570\u5b57\uff08\u521d\u59cb\u4e3a $0$ \uff09\u7684\u5e8f\u5217\u6bcf\u6b21\u627e\u4e00\u4e2a\u4f4d\u7f6e\u4f9d\u6b21 $+1,+2,+3,...,+n$\uff0c\u95ee\u662f\u5426\u53ef\u80fd\u548c\u539f\u5e8f\u5217\u76f8\u7b49\n\n----\n\n\u8003\u8651\u4e00\u4e0b \u6ee1\u8db3 \u7684\u60c5\u51b5\n\n\u8bbe\u6bcf\u52a0\u4e00\u7ec4\uff08\u6307\u4e00\u8f6e $+1,+2,...,+n)$ \u5171\u52a0\u4e86 $s$\uff0c\u663e\u7136 $s=\\frac{1}{2}(1+n)n$\n\n\u8bbe\u603b\u5171\u52a0\u4e86 $k$ \u7ec4\uff0c\u56e0\u4e3a\u6bcf\u4e00\u7ec4\u52a0\u7684\u548c\u4e00\u5b9a\u4e3a $s$ \u4e14\u603b\u6570\u4e00\u5b9a\uff0c\u6709\n\n$$ k=\\frac{1}{s} \\sum\\limits A_i,s|\\sum\\limits A_i$$\n\n\u770b\u770b\u53ea\u6709\u4e00\u4e2a\u73af\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u6bcf\u4e2a\u4f4d\u7f6e\u5206\u6210\u4e24\u79cd\uff0c \u2308 \u53d8\u6362 \u230b \u7684\u4e3a\u4ece $N$ \u53d8\u6210 $1$ \u7684\uff0c \u2308 \u4e0d\u53d8\u6362 \u230b \u7684\u4e3a\u4ece $i$ \u53d8\u6210 $i+1$ \u7684\uff0c\u2308 \u53d8\u6362 \u230b \u7684\u8d21\u732e\u662f $1-N$\uff0c\u2308 \u4e0d\u53d8\u6362 \u230b \u7684\u8d21\u732e\u662f $1$\n\n\u7279\u522b\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee4 $A_0\\gets A_n$ \u65b9\u4fbf\u5904\u7406\u5934\u548c\u5c3e\u76f8\u8fde\u7684\u5730\u65b9\uff0c\u4e5f\u53ef\u4ee5\u53d6\u6a21\u6216\u8005\u7279\u5224\uff0c\u968f\u4f60\u559c\u6b22\uff0c\u600e\u4e48\u90fd\u884c\n\n\u4e4b\u540e\u8003\u8651 $A_{i-1}$ \u548c $A_{i}$\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\u603b\u8d21\u732e\u4e3a $A_i-A_{i-1}$\uff0c\u8bbe $X_i$ \u4e3a\u8fd9\u4e2a\u4f4d\u7f6e\u73af\u4e2d\u53d8\u6362\u7684\u4e2a\u6570\uff0c\u5219\u4e0d\u53d8\u6362\u7684\u4e2a\u6570\u4e3a $k-X_i$\uff0c\u90a3\u4e48\u6709\n\n$$ (1-N)X_i+(k-X_i)=A_i-A_{i-1} $$\n\n$$ X_i=\\frac{A_{i-1}-A_i+k}{N} $$\n\n$X_i$ \u80af\u5b9a\u662f\u6574\u6570\u7684\u8bf4\uff0c\u6240\u4ee5 $N|A_{i-1}-A_i+k$\uff0c\u8fd8\u6709\u5c31\u662f $0\\leq X_i\\leq k$\uff0c\u6709\u65f6\u5019 $X_i$ \u8fd9\u73a9\u610f\u4f1a\u8dd1\u4e00\u4e2a\u8d1f\u6570\u51fa\u6765\uff0c\u90a3\u662f\u4e0d\u5408\u6cd5\u7684\uff0c\u540c\u65f6\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5176\u5b83\u7ec4\u8dd1\u4e86 $k$ \u6b21\u4ee5\u4e0a\n\n\u5982\u679c\u6ee1\u8db3\u8fd9\u4e9b\uff0c\u8dd1\u51fa\u6765\u7684\u603b\u53d8\u6362\u6570\u5c31\u662f $\\sum X_i=\\sum \\frac{A_{i-1}-A_i+k}{N} =k$\uff0c\u4e0d\u7528\u989d\u5916\u5224\u65ad\n\n\u800c\u5dee\u5206\u4e0e\u539f\u5e8f\u5217\u4e00\u81f4\u4e14\u603b\u6570\u4e00\u81f4\u6240\u4ee5\u5e8f\u5217\u662f\u552f\u4e00\u7684\u4e14\u4e0e\u539f\u5e8f\u5217\u76f8\u540c\uff0c\u4ee5\u4e0a\u6761\u4ef6\u5c31\u662f\u5145\u8981\u6761\u4ef6\n\n----\n\n### Code\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define MN 101000\n\nusing namespace std;\n\nint n, a[MN], fl=1;\n/* \u8fd9\u4e2afl\u662f\u7b54\u6848\uff0c1\u4e3a \"YES\"\uff0c0\u4e3a \"NO\"  */\nint s, k, suma;\n\nsigned main() {\n\tscanf(\"%lld\", &n);\n\tfor(int i=1; i<=n; ++i) {\n\t\tscanf(\"%lld\", a+i);\n\t\tsuma+=a[i]; // A_i \u7684\u548c \n\t}\n\ts=(1+n)*n/2; // \u52a0\u4e00\u7ec4\u7684\u548c \n\tif(suma%s!=0) fl=0; // \u4e0d\u6ee1\u8db3 s|sum A_i \u7684\u60c5\u51b5 \n\ta[0]=a[n], k=suma/s; \n\t/* \u7279\u6b8a\u5904\u7406\u73af\uff0c\u8ba1\u7b97\u7ec4\u6570 */ \n\tfor(int i=1; i<=n; i++) {\n\t\tint xn=k-a[i]+a[i-1]; \n\t\tif(xn%n!=0||xn/n<0||xn/n>k)\n\t\t/* \u4e0d\u6ee1\u8db3 N|k-a[i]+a[i-1]\uff0c\u4e0d\u6ee1\u8db3 0<=X_i<=k */ \n\t\t\t{ fl=0; break; }\n\t}\n\tif(fl) printf(\"YES\\n\");\n\telse printf(\"NO\\n\");\n\treturn 0;\n}\n```\n",
        "postTime": 1650687374,
        "uid": 371825,
        "name": "ChElsYqwq",
        "ccfLevel": 0,
        "title": "AT2303 [AGC010B] Boxes \u9898\u89e3"
    },
    {
        "content": "\u7ed9\u4e00\u79cd\u4e0d\u540c\u7684\u505a\u6cd5\u3002\n\n\u9996\u5148\u89c2\u5bdf\u64cd\u4f5c\uff0c\u5bb9\u6613\u60f3\u5230\u5dee\u5206\uff0c\u4f46\u662f\u5dee\u5206\u4e4b\u540e\u7684\u64cd\u4f5c\u8fd8\u662f\u5f88\u53e4\u602a\uff0c\u4e00\u4e2a\u6570 $+n-1$ \u5176\u5b83\u6570\u51cf $-1$\uff0c\u4e0d\u59a8\u518d\u4e00\u6b21\u5dee\u5206\uff0c\u8fd9\u6837\u64cd\u4f5c\u53d8\u6210\u76f8\u90bb\u4e24\u4e2a\u6570\u524d\u8005 $+n$\uff0c\u540e\u8005 $-n$ \u7684\u64cd\u4f5c\uff0c\u76ee\u6807\u4f9d\u65e7\u662f\u5c06\u8fd9\u4e2a\u73af\u7684\u6240\u6709\u6570\u53d8\u6210 $0$\u3002\n\n\u7531\u4e8e\u662f\u4e8c\u9636\u5dee\u5206\u73af\uff0c\u5728\u5f97\u5230\u4e00\u4e2a\u53ef\u884c\u65b9\u6848\u540e\u6211\u4eec\u8fd8\u9700\u8981\u4ee3\u56de\u539f\u73af\u548c\u4e00\u9636\u5dee\u5206\u73af\u91cc\u8fdb\u884c\u5224\u65ad\u53ef\u4e0d\u53ef\u4ee5\u3002\n\n\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u5c06\u6837\u4f8b $1$ \u7684\u6bcf\u4e2a\u6570\u90fd $+1$\uff0c\u90a3\u4e48\u5f97\u5230\u7684\u4e8c\u9636\u5dee\u5206\u73af\u5176\u5b9e\u662f\u76f8\u540c\u7684\uff0c\u4f46\u662f\u539f\u6570\u5217\u4e0d\u7b26\u5408\u6761\u4ef6\uff0c\u6240\u4ee5\u9700\u8981\u5224\u6389\u3002\n\n\u6b64\u5916\uff0c\u4e8c\u9636\u5dee\u5206\u6570\u5217\u76f8\u540c\u7684\u53e6\u5916\u4e00\u4e2a\u5145\u5206\u6761\u4ef6\u662f\u4e00\u9636\u5dee\u5206\u6570\u5217\u5448\u7b49\u5dee\u6570\u5217\uff0c\u4f46\u7279\u522b\u7684\u662f\uff0c\u8be5\u547d\u9898\u5bf9\u4e8e\u4e8c\u9636\u5dee\u5206\u73af\u6765\u8bf4\u5e76\u4e0d\u9002\u7528\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u4f60\u6839\u672c\u6784\u9020\u4e0d\u51fa\u4e00\u4e2a\u73af\u4f7f\u5f97\u76f8\u90bb\u4e24\u4e2a\u6570\u7684\u5dee\u91cf\u76f8\u7b49\u4e14\u4e0d\u4e3a $0$\u3002\n\n\u6240\u4ee5\uff0c\u5728\u53d8\u6210\u4e8c\u9636\u5dee\u5206\u73af\u4e4b\u524d\uff0c\u6211\u4eec\u9996\u5148\u8981\u5224\u65ad\u4e00\u4e0b\u539f\u6570\u5217\u7684\u548c\u662f\u5426\u80fd\u88ab $\\dfrac{n(n+1)}{2}$ \u6574\u9664\uff0c\u5e76\u8bbe $x$ \u4e3a\u9700\u8981\u64cd\u4f5c\u7684\u6b21\u6570\u3002\n\n\u6784\u9020\u5b8c\u4e8c\u9636\u5dee\u5206\u73af\u540e\uff0c\u64cd\u4f5c\u76ee\u6807\u53ef\u5b9e\u73b0\u7684\u5145\u8981\u6761\u4ef6\u662f\u6bcf\u4e2a\u6570\u90fd\u5fc5\u987b\u662f $kn$ $(k\\in Z)$ \u7684\u5f62\u5f0f\uff08\u6839\u636e\u4e8c\u9636\u5dee\u5206\u73af\u7684\u64cd\u4f5c\u548c\u76ee\u6807\u53ef\u77e5\uff09\uff0c\u4e14\u73af\u7684\u548c\u4e3a $0$\u3002\n\n\u5047\u8bbe\u6211\u4eec\u5df2\u7ecf\u6c42\u5f97\u4e86\u4e00\u4e2a\u64cd\u4f5c\u6b21\u6570\u4e3a $y$\uff0c\u90a3\u4e48\u5b83\u9700\u8981\u6ee1\u8db3 $x\\equiv y\\text{ }(\\bmod n)$ \u4e14 $x\\ge y$\u3002\n\n\u7b2c\u4e00\u4e2a\u6761\u4ef6\u662f\u56e0\u4e3a\u4f60\u8003\u8651\u5df2\u7ecf\u628a\u6574\u4e2a\u73af\u53d8\u6210\u5168 $0$ \u4e86\uff0c\u90a3\u4e48\u968f\u4fbf\u5c06\u76f8\u90bb\u7684\u4e24\u4e2a\u4f4d\u7f6e\u8fdb\u884c\u4e00\u6b21\u64cd\u4f5c\u540e\uff0c\u9700\u8981\u7528 $(n-1)$ \u6b21\u624d\u80fd\u5c06\u6b64\u73af\u91cd\u65b0\u590d\u539f\uff0c\u6240\u4ee5\u4ece\u4e00\u4e2a\u72b6\u6001\u56de\u5230\u539f\u6765\u7684\u72b6\u6001\u81f3\u5c11\u9700\u8981 $n$ \u6b21\u3002\n\n\u7b2c\u4e8c\u4e2a\u6761\u4ef6\u663e\u7136\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u8981\u6c42\u5f97\u7684 $y$ \u6700\u5c0f\u624d\u884c\uff0c\u90a3\u4e48\u8be5\u5982\u4f55\u6c42\u5f97\u6700\u5c0f\u7684 $y$\uff1f\n\n\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u8dd1\u4e24\u904d\u73af\u5373\u53ef\uff0c\u6bcf\u6b21\u8dd1\u5230\u4e00\u4e2a\u4f4d\u7f6e\u4e0a\uff0c\u5982\u679c\u8fd9\u4e2a\u4f4d\u7f6e\u662f\u8d1f\u6570\uff0c\u5c31\u5c06\u8fd9\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u6570\u53d8\u4e3a $0$\uff0c\u5c06\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u51cf\u53bb\u8fd9\u4e2a\u8d1f\u6570\u5373\u53ef\uff0c\u540c\u65f6\u8bb0\u5f55\u4e00\u4e0b\u6b21\u6570\u3002\n\n\u6b63\u786e\u6027\u663e\u7136\uff0c\u4f46\u4e3a\u4ec0\u4e48\u9700\u8981\u8dd1\u4e24\u904d\u5462\uff1f\n\n\u8dd1\u4e00\u904d\u663e\u7136\u4e0d\u884c\uff0c\u56e0\u4e3a\u4f60\u53ef\u80fd\u4f1a\u78b0\u5230\u4e00\u4e2a\u5927\u6b63\u6570\u4e4b\u524d\u81ea\u5df1\u624b\u5934\u7684\u8d1f\u6570\u4e0d\u591f\u7528\u7684\u60c5\u51b5\uff0c\u4f46\u662f\u8dd1\u4e00\u904d\u540e\u80af\u5b9a\u4f1a\u5c06\u6240\u6709\u7684\u8d1f\u6570\u96c6\u4e2d\u5230\u4e00\u4e2a\u4f4d\u7f6e\u4e0a\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u518d\u8dd1\u4e00\u904d\u73af\u5c06\u6b63\u6570\u5168\u6d88\u6389\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(n)$\u3002\n\n# AC code\uff1a\n```cpp\nint a[100005],d1[100005],d2[100005];\nint main(){\n\tint n=read(n),i;ll sum1=0,sum2=0;\n\tfor(i=1;i<=n;i++) sum1+=read(a[i]);\n\tif(sum1%((ll)n*(n+1)>>1)) return puts(\"NO\"),0;sum1/=(ll)n*(n+1)>>1;\n\td1[1]=a[1]-a[n];for(i=1;i<n;i++) d1[i+1]=a[i+1]-a[i];\n\td2[1]=d1[1]-d1[n];for(i=1;i<n;i++) d2[i+1]=d1[i+1]-d1[i];\n\tfor(i=1;i<=n;i++) if(d2[i]%n) return puts(\"NO\"),0;\n\tfor(i=1;i<=n;i++) sum2+=d2[i];if(sum2) return puts(\"NO\"),0;\n\tfor(i=1;i<n;i++) if(d2[i]<0) d2[i+1]+=d2[i],sum2-=d2[i]/n,d2[i]=0;\n\tif(d2[n]<0) d2[1]+=d2[n],sum2-=d2[n]/n,d2[n]=0;\n\tfor(i=1;i<n;i++) if(d2[i]<0) d2[i+1]+=d2[i],sum2-=d2[i]/n,d2[i]=0;\n\tif(d2[n]<0) d2[1]+=d2[n],sum2-=d2[n]/n,d2[n]=0;\n\tif(sum2<=sum1&&!((sum2-sum1)%n)) puts(\"YES\");else puts(\"NO\");\n\treturn 0;\n}\n```",
        "postTime": 1646822329,
        "uid": 80614,
        "name": "ZCPB",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT2303"
    },
    {
        "content": " http://www.elijahqi.win/archives/1357\n\nhttp://agc010.contest.atcoder.jp/tasks/agc010_b\n\n\n\n\u56e0\u4e3a\u662f\u4e00\u4e2a\u6392\u5217\u6240\u4ee5\u6211\u4eec\u5e94\u8be5\u6765\u7814\u7a76\u4ed6\u4eec\u7684\u5dee\u6709\u4ec0\u4e48\u5173\u7cfb  \u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u6bcf\u4e2a\u6570\u4e4b\u95f4\u5dee\u7684\u5f62\u6210\u90fd\u662f\u7531\u4e8e \u6392\u5217\u800c\u5f62\u6210\u7684 \u6709\u53ef\u80fd\u6211\u662f\u4e00\u5934\u4e00\u5c3e \u90a3\u4e48\u5dee\u5c31\u662f-(n-1) \u5176\u4ed6\u5219\u4e3a+1  \u90a3\u4e48\u6211\u4e0d\u59a8\u628a\u7b2c\u4e00\u4f4d\u5728\u672b\u5c3e\u91cd\u65b0\u52a0\u4e00\u4e0b  \u7136\u540e\u7b97\u51fa\u4ed6\u4eec\u7684\u5dee \u901a\u8fc7\u8fd9\u4e2a\u5dee\u6211\u4eec\u53ef\u4ee5\u89e3\u4e00\u4e2a\u4e00\u5143\u4e00\u6b21\u65b9\u7a0b \u5206\u522b\u6c42\u51fa\u6bcf\u4e2a\u4f4d\u7f6e\u6709\u591a\u5c11\u4e2a\u6392\u5217\u662f\u4ece\u8fd9\u91cc\u5f00\u59cb\u7684 \u53ea\u8981\u8fd9\u4e2a\u6392\u5217\u6570\u4e0d<0\u6216\u8005\u4e0d\u662f\u6574\u6570\u90a3\u4e48\u5c31\u53ef\u80fd\u662f\u7b54\u6848 \u6ce8\u610f1\u7684\u65f6\u5019\u8981\u63d0\u524d\u7279\u5224\u8f93\u51fayes\n```\n#include<cstdio>\n#define N 110000\ninline char gc(){\n\tstatic char now[1<<16],*T,*S;\n\tif (T==S){T=(S=now)+fread(now,1,1<<16,stdin);if (T==S) return EOF;}\n\treturn *S++;\n}\ninline int read(){\n\tint x=0;char ch=gc();\n\twhile (ch<'0'||ch>'9') ch=gc();\n\twhile (ch<='9'&&ch>='0'){x=x*10+ch-'0';ch=gc();}\n\treturn x;\n}\nint n,a[N],differ[N];\nint main(){\n\tfreopen(\"box.in\",\"r\",stdin);\n\tn=read();long long sum=0;long long sum1=0;\n\tif (n==1){printf(\"YES\");return 0;}\n\tsum1=(long long)n*(n+1)>>1;\n\tfor (int i=1;i<=n;++i) a[i]=read(),sum+=a[i];a[n+1]=a[1];\n\tfor (int i=1;i<=n;++i) differ[i]=a[i+1]-a[i];int k=sum/sum1;\n\tif (sum%sum1){printf(\"NO\");return 0;}\n\tfor (int i=1;i<=n;++i){\n\t\tdouble x=(differ[i]-k)/(-1.0*n);\n\t\tif (x<0){printf(\"NO\");return 0;}\n\t\tint xx=x;if (xx!=x){printf(\"NO\");return 0;}\n\t}\n\tprintf(\"YES\");\n\treturn 0;\n}\n```",
        "postTime": 1526658540,
        "uid": 5037,
        "name": "elijahqi",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 AT2303 \u3010Boxes\u3011"
    },
    {
        "content": "\u8003\u8651\u7528\u64cd\u4f5c\u6784\u6210\u539f\u6570\u5217\u3002\n\n\u663e\u7136 $\\sum_{i=1}^{n}a_i\\equiv0 \\mod \\frac{(n+1)n}{2}$ \uff0c\u4e14\u603b\u64cd\u4f5c\u6570 $M=\\frac{\\sum_{i=1}^{n}a_i}{\\frac{(n+1)n}{2}}$ \u3002\n\n\u56e0\u4e3a\u64cd\u4f5c\u4e3a $+n,+1,+2,...,+n-1$ \uff0c\u8003\u8651\u5dee\u5206\u6570\u7ec4\uff0c\u4ee4 $d_i=a_{i+1}-a_i$,\u53ef\u4ee5\u53d1\u73b0 $d_i$ \u7684\u53d8\u5316\u5c31 2 \u79cd\uff0c+1 \u6216 +(1-n) \u3002\n\n\u4ee4\u4ee5\u4f4d\u7f6e $i$ \u4e3a\u5f00\u5934\u7684\u64cd\u4f5c\u6570\u4e3a $m_i$ , \u53ef\u77e5 $m_i(1-n)+(M-m_i)=d_i$ \u3002\u6240\u4ee5 $m_i=\\frac{M-d_i}{n}$ \uff0c\u4e14 $m_i$ \u5fc5\u987b\u662f\u975e\u8d1f\u6574\u6570\u3002\n\n\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long const MAXN=1e5+10;\nlong long n,sum;\nlong long a[MAXN],d[MAXN],c[MAXN];\n\nsigned main(){\n\t//freopen(\"in1.txt\",\"r\",stdin);\n\tscanf(\"%lld\",&n);\n\tfor(long long i=1;i<=n;i++){scanf(\"%lld\",&a[i]);sum+=a[i];}\n\tlong long kkk=(long long)(1+n)*n/2;\n\tif(sum%kkk!=0){printf(\"NO\\n\");return 0;}\n\telse{\n\t\tfor(int i = 1; i <= n; ++i)d[i]=a[i%n+1]-a[i];\n\t\tsum/=kkk;\n\t\tfor(long long i=1;i<=n;i++){\n\t\t\tif((sum-d[i])%n!=0){printf(\"NO\\n\");return 0;}\n\t\t\tint num=(sum-d[i])/n;\n\t\t\tif(num<0){printf(\"NO\\n\");return 0;}\n\t\t}\n\t\t//if(cnt!=m){printf(\"NO\\n\");return 0;}\n\t}\n\tprintf(\"YES\\n\");\n\treturn 0;\n}\n```",
        "postTime": 1614041170,
        "uid": 59623,
        "name": "fpjo",
        "ccfLevel": 0,
        "title": "AT2303 [AGC010B] Boxes \u9898\u89e3"
    },
    {
        "content": "[\u6233\u6211\uff1d\uffe3\u03c9\uffe3\uff1d](https://blog.csdn.net/litble/article/details/83183748)\n\n\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u8981\u505a$m=\\frac{\\sum a}{\\frac{n(n+1)}{2}}$\u6b21\u8fd9\u6837\u7684\u64cd\u4f5c\u624d\u53ef\u80fd\u628a\u77f3\u5b50\u53d6\u5b8c\uff08\u5f53\u7136$m$\u5982\u679c\u4e0d\u662f\u975e\u8d1f\u6574\u6570\u5c31\u80af\u5b9a\u8f93\u51faNO\uff09\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u4e00\u4e2a\u76d2\u5b50$i$\u548c\u5b83\u524d\u9762\u7684\u76d2\u5b50$i-1$\uff0c\u5b83\u4eec\u53ef\u80fd\u4f1a\u88ab\u505a\u4e24\u79cd\u7c7b\u578b\u7684\u64cd\u4f5c\uff0c\u4e00\u79cd\u53eb\u505a$i$\u53d61\u4e2a$i-1$\u53d6$n$\u4e2a\uff0c\u4e00\u79cd\u53eb\u505a$i$\u53d6$x+1$\u4e2a$i-1$\u53d6$x$\u4e2a\uff0c\u5219\u7b2c\u4e00\u79cd\u64cd\u4f5c\u4f1a\u4f7f$d_i=a_i-a_{i-1}$\u7684\u503c\u589e\u52a0$n-1$\uff0c\u7b2c\u4e8c\u79cd\u4f1a\u4f7f$d_i$\u51cf\u5c11$1$\u3002\n\n\u5982\u679c\u6700\u540e\u90fd\u53d6\u5b8c\uff0c\u5219$d_i$\u663e\u7136\u4e00\u6837\u4e86\uff0c\u6240\u4ee5\u8bbe\u7b2c\u4e00\u79cd\u64cd\u4f5c\u505a\u4e86$x$\u6b21\uff0c\u5219\u7b2c\u4e8c\u79cd\u505a\u4e86$m-x$\u6b21\uff0c$(n-1)x-(m-x)+d_i=0$\uff0c\u89e3\u5f97$x=\\frac{m-d_i}{n}$\uff0c\u5982\u679c\u89e3\u51fa\u6765\u4e0d\u662f\u975e\u8d1f\u6574\u6570\u80af\u5b9a\u8f93\u51faNO\u3002\n\n\u4e8e\u662f\u6211\u4eec\u77e5\u9053\u4e86\u8fd9$m$\u6b21\u64cd\u4f5c\u662f\u4ece\u54ea\u4e2a\u76d2\u5b50\u5f00\u59cb\u53d6\u7b2c\u4e00\u4e2a\u77f3\u5b50\uff0c\u4e5f\u5c31\u77e5\u9053\u4e86\u6bcf\u4e2a\u76d2\u5b50\u91cc\u5e94\u8be5\u6709\u591a\u5c11\u77f3\u5b50\uff0c\u68c0\u9a8c\u4e00\u904d\u5373\u53ef\uff08\u8fd9\u4e2a\u626b\u4e24\u904d\u5c31\u53ef\u4ee5\u6c42\u4e86\uff0c\u5177\u4f53\u53ef\u4ee5\u770b\u4ee3\u7801\uff09\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define RI register int\nint read() {\n\tint q=0;char ch=' ';\n\twhile(ch<'0'||ch>'9') ch=getchar();\n\twhile(ch>='0'&&ch<='9') q=q*10+ch-'0',ch=getchar();\n\treturn q;\n}\ntypedef long long LL;\nconst int N=100005;\nLL sum,nowadd,nows,a[N],orz[N],m;int n;\nint work() {\n\tint js=0;\n\tfor(RI i=0;i<n;++i) {\n\t\tint b=a[i]-a[(i-1+n)%n];\n\t\tif((m-b)%n||m-b<0) return 0;\n\t\torz[i]=(m-b)/n,js+=orz[i];\n\t}\n\tif(js!=m) return 0;\n\tfor(RI i=0;i<n;++i) {\n\t\tnows+=orz[i],nowadd+=nows;\n\t\tif(a[i]<nowadd) return 0;\n\t\ta[i]-=nowadd;\n\t}\n\tfor(RI i=0;i<n;++i) {\n\t\tnows-=orz[i],nowadd-=1LL*n*orz[i],nowadd+=nows;\n\t\tif(a[i]!=nowadd) return 0;\n\t}\n\treturn 1;\n}\nint main()\n{\n\tn=read();\n\tfor(RI i=0;i<n;++i) a[i]=read(),sum+=a[i];\n\tif(sum%(1LL*(n+1)*n/2)) {puts(\"NO\");return 0;}\n\tm=sum/(1LL*(n+1)*n/2);\n\tif(work()) puts(\"YES\");\n\telse puts(\"NO\");\n\treturn 0;\n}\n```",
        "postTime": 1539938630,
        "uid": 20604,
        "name": "litble",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 AT2303 \u3010Boxes\u3011"
    }
]