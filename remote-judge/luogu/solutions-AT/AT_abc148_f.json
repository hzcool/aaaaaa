[
    {
        "content": "\u4e3a\u4e86\u65b9\u4fbf\u5904\u7406\u95ee\u9898\uff0c\u6211\u4eec\u4ee4 A \u73a9\u5bb6\u7684\u521d\u59cb\u70b9\u4e3a\u6811\u7684\u6839\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u7ad9\u5728T\u73a9\u5bb6\u7684\u7acb\u573a\u8003\u8651\uff0c\u7531\u4e8e A \u5728\u6839\u8282\u70b9\uff0c \n \n T \u8981\u5c3d\u91cf\u4f7f\u6e38\u620f\u65f6\u95f4\u957f\uff0c\n\n\u6240\u4ee5 T \u73a9\u5bb6\u8981\u5728\u88ab A \u6293\u5230\u524d\u8fbe\u5230\u5c3d\u53ef\u80fd\u6df1\u7684\u70b9\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5148\u9884\u5904\u7406\u4e00\u904d\n\n\u4ee5A\u73a9\u5bb6\u4e3a\u6839\u8282\u70b9\uff0c\u6bcf\u4e2a\u8282\u70b9\u7684\u6df1\u5ea6\u3002\u4ee3\u7801\uff1a\n\n```cpp\nvoid dfs1(int u, int fa, int d) \n{\n\tmaxdep[u] = 0;\n    disA[u] = d;\n\tfor(int i = head[u]; i; i = nxt[i]) \n\t{\n\t\tint v = vet[i];\n\t\tif(v == fa) continue;\n\t\tdfs1(v, u, d+1);\n\t\tmaxdep[u] = max(maxdep[u], maxdep[v] + 1);\n\t}\n}\n```\n\n\u63a5\u7740\u6211\u4eec\u679a\u4e3e\u6bcf\u4e00\u4e2aT\u80fd\u5728\u4e0d\u88abA\u6293\u5230\u65f6\u80fd\u5230\u8fbe\u7684\u70b9\uff0c\u53d6\u4e00\u4e2a\u6700\u5927\u6df1\u5ea6\u3002\n\n\u653e\u4e2a\u4ee3\u7801\uff1a\n\n```cpp\nvoid dfs2(int u, int disB) \n{\n\tif(disB < disA[u]) ans = max(ans, disA[u] + maxdep[u]-1);\n\tfor(int i = head[u]; i; i = nxt[i]) \n\t{\n\t\tint v = vet[i];\n\t\tif(disA[v] < disA[u]) dfs2(v, disB+1);\n\t}\n}\n```\n\n\u6700\u5927\u7684\u7684\u6df1\u5ea6\u5373\u4e3a\u7b54\u6848\u3002\n\n\u6700\u540e\u8d34\u4e0a\u5b8c\u6574\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h> \nusing namespace std;\nconst int N = 100005;\nint n, U, V, x, y, maxdep[N], head[N], vet[2*N], nxt[2*N], num,disA[N], ans;\nvoid add(int u, int v) \n{\n\tnum++;\n\tvet[num] = v;\n\tnxt[num] = head[u];\n\thead[u] = num;\n}\nvoid dfs1(int u, int fa, int d) \n{\n\tmaxdep[u] = 0;\n    disA[u] = d;\n\tfor(int i = head[u]; i; i = nxt[i]) \n\t{\n\t\tint v = vet[i];\n\t\tif(v == fa) continue;\n\t\tdfs1(v, u, d+1);\n\t\tmaxdep[u] = max(maxdep[u], maxdep[v] + 1);\n\t}\n}\nvoid dfs2(int u, int disB) \n{\n\tif(disB < disA[u]) ans = max(ans, disA[u] + maxdep[u]-1);\n\tfor(int i = head[u]; i; i = nxt[i]) \n\t{\n\t\tint v = vet[i];\n\t\tif(disA[v] < disA[u]) dfs2(v, disB+1);\n\t}\n}\nint main() \n{\n\tscanf(\"%d%d%d\", &n, &U, &V);\n\tfor(int i = 1; i <= n-1; i++) \n\t{\n\t\tscanf(\"%d%d\", &x, &y);\n\t\tadd(x, y);\n\t\tadd(y, x);\n\t}\n\tdfs1(V, 0, 0);\n\tdfs2(U, 0);\n\tprintf(\"%d\\n\", ans);\n}\n```\n\n\n",
        "postTime": 1617419560,
        "uid": 503899,
        "name": "_byta",
        "ccfLevel": 0,
        "title": "AT5285 [ABC148F] Playing Tag on Tree"
    },
    {
        "content": "\u8003\u8651\u5230 T \u60f3\u6d3b\u5f97\u4e45\uff0c A \u60f3\u5c3d\u65e9\u8ffd\u4e0a T ,\u6240\u4ee5\u6211\u4eec\u5c31\u5c06\u95ee\u9898\u8f6c\u5316\u4e3a\u5728\u6811\u4e0a\u627e\u4e00\u6761\u6700\u957f\u94fe\uff0c\u4f7f\u5f97 T \u80fd\u6bd4 A \u5148\u5230\u8fbe\u8fd9\u6761\u94fe\uff0c\u5c31\u50cf\u8fd9\u6837:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ucq0vhu2.png)\n\n\u6240\u4ee5\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u6811\u4e0a\u8dd1\u4e24\u904d\u5355\u6e90\u6700\u77ed\u8def\uff0c\u56e0\u4e3a\u8fb9\u6743\u4e3a $1$\uff0c\u6240\u4ee5\u7528**BFS**\u5c31\u53ef\u4ee5\u4e86\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct edge{\n\tint to,next;\n}e[200010];\nint n,s,t,cnt,ans,head[100010],a[100010],b[100010],dis[100010];\nbool vis[100010];\ninline void add(int u,int v){\n\tcnt++;\n\te[cnt].to=v;\n\te[cnt].next=head[u];\n\thead[u]=cnt;\n}\ninline void bfs(int S){\n\tmemset(vis,0,sizeof(vis));\n\tmemset(dis,0,sizeof(dis));\n\tqueue<int>q;\n\tq.push(S);\n\tvis[S]=1;\n\twhile(!q.empty()){\n\t\tint u=q.front();\n\t\tq.pop();\n\t\tfor(int i=head[u];i;i=e[i].next){\n\t\t\tint v=e[i].to;\n\t\t\tif(vis[v])continue;\n\t\t\tvis[v]=1;\n\t\t\tdis[v]=dis[u]+1;\n\t\t\tq.push(v);\n\t\t}\n\t}\n\tif(S==s)memcpy(a,dis,sizeof(dis));\n\telse memcpy(b,dis,sizeof(dis));\n}\nint main(){\n\tscanf(\"%d%d%d\",&n,&s,&t);\n\tfor(int i=1,x,y;i<n;i++){\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tadd(x,y);\n\t\tadd(y,x);\n\t}\n\tbfs(s);\n\tbfs(t);\n\tfor(int i=1;i<=n;i++)\n\tif(a[i]<b[i])ans=max(ans,b[i]);\n\tprintf(\"%d\",ans-1);\n\treturn 0;\n}\n```\n",
        "postTime": 1616572390,
        "uid": 120010,
        "name": "CaiXY06",
        "ccfLevel": 6,
        "title": "solution-at5285"
    },
    {
        "content": "\u4e0d\u96be\u53d1\u73b0\uff0c\u5982\u679c\u4e00\u4e2a\u70b9\u5230 $u$ \u7684\u8ddd\u79bb**\u5c0f\u4e8e**\u5b83\u5230 $v$ \u7684\u8ddd\u79bb\uff0c\u90a3\u4e48 $T$ \u5c31\u4e0d\u4f1a\u5728\u8fd9\u4e2a\u70b9\u88ab $A$ \u8ffd\u5230\u3002\n\n------------\n\n#### \u7531\u6b64\u53ef\u4ee5\u5f97\u5230\u89e3\u6cd5:\n\n1. \u901a\u8fc7\u641c\u7d22\u7b97\u51fa $u$ \u548c $v$ \u5230\u6811\u4e0a\u5176\u4ed6\u70b9\u7684\u8ddd\u79bb\uff08\u7531\u4e8e\u662f**\u6811**\uff0c\u8def\u5f84\u552f\u4e00\uff0c\u53ea\u9700\u8981 $bfs$ \u6216 $dfs$ \u5c31\u5f73\u4e8d\u4e86\uff09\u3002\n\n2. $O(n)$ \u679a\u4e3e\u627e\u7b54\u6848\u5c31\u89e3\u51b3\u4e86\u3002\n\n\n------------\n\n#### \u65f6\u95f4\u590d\u6742\u5ea6\uff1a\n\u56e0\u4e3a\u5728\u641c\u7d22\u4e2d\u6bcf\u4e2a\u70b9\u53ea\u88ab\u679a\u4e3e\u5230 $1$ \u904d\uff0c\u6240\u4ee5\u603b\u4f53\u590d\u6742\u5ea6\u662f $O(n)$ \u7684\u3002\n\n\n\n------------\n\n\u8fd8\u6709\u4e00\u4e9b\u7ec6\u8282\u5728\u4ee3\u7801\u91cc\u8bb2\uff0c\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int N=1e5+10;\nint n,u,v,du[N],dv[N],ans;\nvector<int> e[N];//\u56e0\u4e3a\u6bd4\u8f83\u61d2\uff0c\u6240\u4ee5\u7528\u4e86\u90bb\u63a5\u8868\u5b58\u56fe\ninline void dfs(int dis[],int x,int fa)\n{\n\tfor(int i=0;i<e[x].size();i++)\n\t{\n\t\tint v=e[x][i];\n\t\tif(v==fa) continue;\n\t\tdis[v]=dis[x]+1;\n\t\tdfs(dis,v,x);\n\t}\n}\nsigned main()\n{\n\tcin>>n>>u>>v;\n\tfor(int i=1;i<n;i++)\n\t{\n\t\tint x,y;\n\t\tcin>>x>>y;\n\t\te[x].push_back(y);//\u65e0\u5411\u56fe\uff0c\u5efa\u53cc\u5411\u8fb9\n\t\te[y].push_back(x);\n\t}\n\tdfs(du,u,0);//\u7b97\u51fa u \u5230\u6811\u4e0a\u5176\u4ed6\u70b9\u7684\u8ddd\u79bb\n\tdfs(dv,v,0);//\u7b97\u51fa v \u5230\u6811\u4e0a\u5176\u4ed6\u70b9\u7684\u8ddd\u79bb\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tif(du[i]<dv[i]) \n\t\t\tans=max(ans,dv[i]); \n\t}\n\tcout<<ans-1;\n}\n```",
        "postTime": 1616571669,
        "uid": 297566,
        "name": "Tan_Wei_Ye",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT5285 [ABC148F] Playing Tag on Tree"
    },
    {
        "content": "## \u601d\u8def\uff1a\n\u56e0\u4e3a\u6211\u4eec\u8981\u7ad9\u5728\u4e24\u4e2a\u73a9\u5bb6\u7684\u89d2\u5ea6\u60f3\u95ee\u9898\uff0c\u6240\u4ee5\u5148\u901a\u8fc7\u4e24\u904d dfs \u6c42\u51fa\u6bcf\u4e2a\u70b9\u76f8\u5bf9\u4e8e\u4e24\u4e2a\u4eba\u7684\u6700\u77ed\u8ddd\u79bb $dist1_i$ \u548c $dist2_i$\u3002\u7136\u540e\u5f00\u59cb\u8d2a\u5fc3\uff1a\u5982\u679c $dist1_i<dist2_i$\uff0c\u90a3\u4e48\u9003\u8dd1\u7684\u4eba\u88ab\u8ffd\u4e0a\u81f3\u5c11\u8981\u8d70 $dist2_i-1$ \u6b65\uff1b\u800c\u5982\u679c\u4e24\u4e2a\u4eba\u540c\u65f6\u5230\u8fbe\uff0c\u90a3\u4e48\u8d70\u4e86 $dist1_i$ \u540c\u65f6\u4e5f\u662f $dist2_i$ \u6b65\u3002\u5bf9\u6bcf\u4e2a\u70b9\u7528\u4e0a\u8ff0\u4e24\u79cd\u65b9\u5f0f\u66f4\u65b0\u7b54\u6848\uff0c\u6c42\u6700\u5927\u503c\u5373\u53ef\u3002\n## Code\uff1a\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint dist1[100006], dist2[100006];\nvector <int> e[100006];\nvoid dfs1(int now, int fa)\n{\n\tdist1[now] = dist1[fa] + 1;\n\tfor (int i = 0; i < e[now].size(); i++)\n\t{\n\t\tint to = e[now][i];\n\t\tif (to != fa) dfs1(to, now);\n\t}\n}\nvoid dfs2(int now, int fa)\n{\n\tdist2[now] = dist2[fa] + 1;\n\tfor (int i = 0; i < e[now].size(); i++)\n\t{\n\t\tint to = e[now][i];\n\t\tif (to != fa) dfs2(to, now);\n\t}\n}\nint main()\n{\n\tint n, u, v;\n\tcin >> n >> u >> v;\n\tfor (int i = 1; i <= n - 1; i++)\n\t{\n\t\tint x, y;\n\t\tcin >> x >> y;\n\t\te[x].push_back(y);\n\t\te[y].push_back(x);\n\t}\n\tdist1[0] = dist2[0] = -1;\n\tdfs1(u, 0);\n\tdfs2(v, 0);\n\tint ans = 0;\n\tfor (int i = 1; i <= n; i++)\n\t{\n\t\tif (dist1[i] < dist2[i]) ans = max(ans, dist2[i] - 1);\n\t\telse if (dist1[i] == dist2[i]) ans = max(ans, dist1[i] / 2);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n```",
        "postTime": 1682756892,
        "uid": 756135,
        "name": "StevenLiTheOIer",
        "ccfLevel": 0,
        "title": "ABC148F"
    }
]