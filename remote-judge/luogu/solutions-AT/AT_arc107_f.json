[
    {
        "content": "$N$ \u4e2a\u70b9 $M$ \u6761\u8fb9\u7684\u65e0\u5411\u56fe\uff0c\u6bcf\u4e2a\u70b9\u6709\u4e24\u4e2a\u6743\u503c $A_i$ \u548c $B_i$\u3002\u53ef\u4ee5\u7528 $A_i$ \u7684\u4ee3\u4ef7\u5220\u9664\u7b2c $i$ \u4e2a\u8282\u70b9\u3002\u5e76\u5220\u9664\u4e0e\u8fd9\u4e2a\u70b9\u76f8\u8fde\u7684\u8fb9\u3002\u4e00\u4e2a\u6781\u5927\u8fde\u901a\u5757\u7684\u6743\u503c\u5b9a\u4e49\u4e3a $B_i$ \u7684\u6743\u503c\u548c\u7684\u7edd\u5bf9\u503c\u3002\n\n\u5220\u9664\u4e00\u4e9b\u8282\u70b9\u540e\uff0c\u6536\u76ca\u5b9a\u4e49\u4e3a\u6240\u6709\u6781\u5927\u8fde\u901a\u5757\u6743\u503c\u4e4b\u548c\u51cf\u53bb\u4ee3\u4ef7\u548c\u3002\u6c42\u6700\u5927\u7684\u53ef\u80fd\u6536\u76ca\u3002\n\n---\n\n\u5148\u94a6\u5b9a\u6240\u6709\u8282\u70b9\u5168\u90e8\u5220\u9664\uff0c\u7136\u540e\u8003\u8651\u9009\u70b9\u3002\u8003\u8651\u5230 $|x|=\\max(x,-x)$\uff0c\u5c06\u4e00\u4e2a\u70b9 $u$ \u62c6\u6210 $(u,+)$ \u548c $(u,-)$\uff0c\u6743\u503c\u5206\u522b\u4e3a $A_i+B_i$ \u548c $A_i-B_i$\u3002\u5e76\u6309\u7167\u5982\u4e0b\u89c4\u5219\u5efa\u56fe\uff1a\n\n- \u5bf9\u4e8e\u4e00\u4e2a\u70b9 $u$\uff0c\u5728 $(u,+)$ \u548c $(u,-)$ \u4e4b\u95f4\u8fde\u8fb9\uff1b\n- \u5bf9\u4e8e\u539f\u56fe\u4e2d\u7684\u4e00\u6761\u8fb9\uff0c\u5728 $(u,+)$ \u548c $(v,-)$\uff0c$(u,-)$ \u548c $(v,+)$ \u4e4b\u95f4\u8fde\u8fb9\u3002\n\n\u539f\u9898\u88ab\u8f6c\u5316\u6210\u4e86\u6700\u5927\u6743\u72ec\u7acb\u96c6\uff0c\u7531\u4e8e\u65b0\u56fe\u662f\u4e00\u4e2a\u4e8c\u5206\u56fe\uff0c\u76f4\u63a5\u8dd1\u7f51\u7edc\u6d41\u5c31\u53ef\u4ee5\u4e86\u3002\n\n```cpp\n/* name: arc107_f\n * author: 5ab\n * created at: 2022-10-19\n */\n#include <iostream>\n#include <algorithm>\n#include <queue>\nusing namespace std;\n\ntypedef long long ll;\nconst int max_n = 300, max_m = 300, max_nd = max_n * 2 + 2, max_e = max_n * 3 + max_m * 3, INF = 0x3fffffff;\n\nint a[max_n], b[max_n], nd, s, t;\nint hd[max_nd], des[max_e * 2], nxt[max_e * 2], val[max_e * 2], e_cnt = 0, flow = 0;\nint dis[max_nd], cur[max_nd];\n\nvoid _add(int s, int t, int v)\n{\n\tdes[e_cnt] = t;\n\tval[e_cnt] = v;\n\tnxt[e_cnt] = hd[s];\n\thd[s] = e_cnt++;\n}\n\nvoid add(int s, int t, int v)\n{\n\tif (v <= 0)\n\t{\n\t\tflow += v;\n\t\treturn;\n\t}\n\t_add(s, t, v);\n\t_add(t, s, 0);\n}\n\nbool bfs()\n{\n\tfill(dis, dis + nd, INF);\n\tdis[s] = 0;\n\t\n\tqueue<int> q;\n\tint cur;\n\t\n\tq.push(s);\n\twhile (!q.empty())\n\t{\n\t\tcur = q.front();\n\t\tq.pop();\n\t\t\n\t\tfor (int p = hd[cur], dst; p != -1; p = nxt[p])\n\t\t{\n\t\t\tdst = des[p];\n\t\t\tif (val[p] && dis[dst] > dis[cur] + 1)\n\t\t\t{\n\t\t\t\tdis[dst] = dis[cur] + 1;\n\t\t\t\tq.push(dst);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn dis[t] < INF;\n}\n\ninline int my_min(int a, int b) { return (a < b)? a:b; }\nint dfs(int id, int f)\n{\n\tif (id == t)\n\t\treturn f;\n\t\n\tint ret = 0;\n\tfor (int &p = cur[id], dst; p != -1; p = nxt[p])\n\t{\n\t\tdst = des[p];\n\t\tif (dis[dst] == dis[id] + 1)\n\t\t{\n\t\t\tint tmp = dfs(dst, my_min(val[p], f));\n\t\t\tval[p] -= tmp, val[p ^ 1] += tmp, f -= tmp, ret += tmp;\n\t\t\tif (f == 0)\n\t\t\t\treturn ret;\n\t\t}\n\t}\n\treturn ret;\n}\n\nsigned main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(nullptr);\n\t\n\tint n, m, as = 0;\n\t\n\tcin >> n >> m;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tcin >> a[i];\n\t\tas += a[i];\n\t}\n\tnd = 2 * n + 2, s = 2 * n, t = 2 * n + 1;\n\tfill(hd, hd + nd, -1);\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tcin >> b[i];\n\t\tadd(s, i, b[i] + a[i]);\n\t\tadd(i + n, t, -b[i] + a[i]);\n\t\tadd(i, i + n, INF);\n\t}\n\t\n\tfor (int i = 0, x, y; i < m; i++)\n\t{\n\t\tcin >> x >> y; x--, y--;\n\t\tadd(x, y + n, INF);\n\t\tadd(y, x + n, INF);\n\t}\n\t\n\twhile (bfs())\n\t{\n\t\tcopy(hd, hd + nd, cur);\n\t\tflow += dfs(s, INF);\n\t}\n\t\n\tcout << as - flow << endl;\n\t\n\treturn 0;\n}\n```",
        "postTime": 1666311590,
        "uid": 119491,
        "name": "5ab_juruo",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011AT_arc107_f F - Sum of Abs"
    }
]