[
    {
        "content": "### \u9898\u610f\uff1a\n\u8bfb\u5165 $n$ \u4e2a\u6570\u5b57\uff0c\u8fdb\u884c $+$ \u6216 $-$ \u7684\u64cd\u4f5c\uff0c\u5176\u4e2d $-$ \u64cd\u4f5c\u4e0d\u80fd\u8fde\u7eed\u8fdb\u884c\u4e24\u6b21\u6216\u4e24\u6b21\u4ee5\u4e0a\uff0c\u6c42\u6240\u6709\u53ef\u80fd\u60c5\u51b5\u7684\u548c\u3002\n\n### \u601d\u8def\uff1a\n$dp[i][0]$ \u8868\u793a\u4ee5 $+a[i]$ \u7ed3\u5c3e\u7684\u548c\uff0c$cnt[i][1]$ \u8868\u793a\u4ee5 $-a[i]$ \u7ed3\u5c3e\u548c\uff1b\n$cnt[i][0]$ \u8868\u793a\u4ee5 $+a[i]$ \u7ed3\u5c3e\u7684\u4e2a\u6570\uff0c$cnt[i][1]$ \u8868\u793a\u4ee5 $-a[i]$ \u7ed3\u5c3e\u7684\u4e2a\u6570\u3002\n\n\u7531\u6b64\u53ef\u5f97\uff1a\n\n$\\begin{cases} dp[i][0]=(dp[i\u22121][0]+dp[i\u22121][1])+(cnt[i\u22121][0]+cnt[i\u22121][1])\u00d7a_{i} \\\\\ndp[i][1]=dp[i\u22121][0]\u2014cnt[i\u22121][0]\u00d7a_{i} \n\\end{cases}$\n\n$\\begin{cases}\ncnt[i][0]=cnt[i\u22121][0]+cnt[i\u22121][1]\\\\ cnt[i][1]=cnt[i\u22121][0]\n\\end{cases}$\n \n\u7b54\u6848\u4e3a $dp[n][1] + dp[n][0]$\u3002\n\n\u6ce8\u610f\u5230\u51cf\u6cd5\u7684\u53d6\u6a21\u8fd0\u7b97\uff0c\u8fdb\u884c\u53d6\u6a21\u540e\u53ef\u80fd\u662f\u8d1f\u6570\uff0c\u6240\u4ee5\u8981\u7528\u4ee5\u4e0b\u65b9\u6cd5\u53d6\u6a21\uff1a\n```cpp\nll MOD (ll x) {\n\treturn (x % mod + mod) % mod;\n}\n\n```\n \u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include <bits/stdc++.h>//\u4e07\u80fd\u5934\u6700\u68d2\u529b\nusing namespace std;\ntypedef long long ll;\nconst ll mod = 1e9 + 7, N = 1e6 + 10;\nll dp[N][2], a[N], m[N], cnt[N][2];\nll MOD (ll x) { \n    return (x % mod + mod) % mod; \n} \nint main () { \n    int n; \n    cin >> n;\n    for (int i = 1; i <= n; i ++){\n        cin >> a[i];\n        a[i] %= mod;\n    }\n    if (n == 1){\n        cout << a[1] % mod << endl;\n        return 0\uff1b\n    }\n    dp[2][0] = MOD(a[1] + a[2]);\n    dp[2][1] = MOD(a[1] - a[2]);\n    cnt[2][0] = 1;\n    cnt[2][1] = 1;\n    for (int i = 3; i <= n; i ++){\n        dp[i][0] = ((dp[i - 1][0] % mod + dp[i - 1][1] % mod) + (cnt[i - 1][0] % mod + cnt[i - 1][1] % mod) * a[i] % mod) % mod;\n        cnt[i][0] = (cnt[i - 1][0] % mod + cnt[i - 1][1] % mod) % mod;\n        dp[i][1] = MOD(dp[i - 1][0] % mod - cnt[i - 1][0] * a[i] % mod);\n        cnt[i][1] = cnt[i - 1][0] % mod;\n    }\n    cout << (dp[n][0] + dp[n][1]) % mod << endl;\n    return 0;\n}\n```\n",
        "postTime": 1672924261,
        "uid": 791171,
        "name": "zzh0755",
        "ccfLevel": 0,
        "title": "The third one"
    }
]