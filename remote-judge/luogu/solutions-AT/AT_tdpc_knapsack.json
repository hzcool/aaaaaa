[
    {
        "content": "\u552f\u4e00\u7684\u4e00\u7bc7\u9898\u89e3\u5199\u7684\u6bd4\u8f83\u8ff7\u60d1\u3002\n\n\u4ee4 $dp_{i,j,k}$ \u8868\u793a\u9009 $1\\dots i$ \u4e2d\u7684\u989c\u8272\uff0c\u9009\u4e86 $j$ \u79cd\u989c\u8272\uff0c\u8d28\u91cf\u548c\u4e3a $k$ \u7684\u7b54\u6848\uff0c\u90a3\u4e48\u5728 $1\\dots i$ \u52a0\u5165 $i+1$ \u80af\u5b9a\u989c\u8272\u79cd\u7c7b\u6570\u591a 1\uff0c\u4e8e\u662f\u5c31\u53ef\u4ee5\u7b80\u4fbf\u5904\u7406\u989c\u8272\u79cd\u7c7b\u6570\u4e86\u3002\u8f6c\u79fb\u7c7b\u4f3c 01 \u80cc\u5305\uff1a\n$$dp_{i,j,k}=\\max\\left\\{\\max_{(w,v,c),\\,c=i}\\{dp_{i-1,j-1,k-w}+v\\},\\,dp_{i-1,j,k}\\right\\}$$\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\Theta(n+wc^2)$\u3002\n\n[Submission](https://atcoder.jp/contests/tdpc/submissions/41476563)\u3002",
        "postTime": 1684313927,
        "uid": 227514,
        "name": "jijidawang",
        "ccfLevel": 0,
        "title": "AT683"
    },
    {
        "content": "under \u9898\u89e3 [AT683](https://www.luogu.com.cn/problem/AT683)\n\n\u540c\u6b65\u53d1\u5e03\u4e8e[\u4e2a\u4eba\u535a\u5ba2](https://fa555.github.io/2020/\u67d0At\u7684dp\u573a/#H-\u30ca\u30c3\u30d7\u30b6\u30c3\u30af)\n\n### problem\n\n\u6709 $U \\ (1 \\le U \\le 100)$ \u4e2a\u7269\u54c1\uff0c\u7b2c $i$ \u4e2a\u7684\u8d28\u91cf\u3001\u4ef7\u503c\u3001\u989c\u8272\u5206\u522b\u4e3a $w_i, v_i, c_i \\ (1 \\le w_i, v_i \\le 10000, 1 \\le c_i \\le 50)$\u3002\u6709\u4e00\u4e2a\u80cc\u5305\uff0c\u80fd\u5bb9\u7eb3\u603b\u8d28\u91cf\u4e3a $W \\ (1 \\le W \\le 10000)$\uff0c\u989c\u8272\u79cd\u7c7b\u6570\u4e3a $C \\ (1 \\le C \\le 50)$ \u7684\u7269\u54c1\u3002\u6c42\u80fd\u5bb9\u7eb3\u7684\u7269\u54c1\u7684\u6700\u5927\u603b\u4ef7\u503c\u3002\n\n### solution\n\n\u8bbe $f_{i, j}$ \u8868\u793a\u4f7f\u7528\u4e0d\u8d85\u8fc7 $i$ \u79cd\u989c\u8272\uff0c\u603b\u8d28\u91cf\u4e3a $j$ \u65f6\u7684\u6700\u5927\u4ef7\u503c\u3002\n\n\u9700\u8981\u679a\u4e3e\u989c\u8272\u4e2a\u6570\u548c\u6240\u6709\u989c\u8272\uff0c\u4ee5\u6bcf\u4e2a\u989c\u8272\u4e3a\u6574\u4f53\u8fdb\u884c\u8f6c\u79fb\u3002\n\n\u8f6c\u79fb\u65f6\u76f4\u63a5\u5957\u7528 01 \u80cc\u5305\u8f6c\u79fb\u65b9\u7a0b $F_i = max{\\{F_{i - w_j} + v_j\\}}$ \u5373\u53ef\u3002\u5176\u4e2d $F$ \u4ee3\u8868 $f$ \u7684\u7b2c\u4e00\u7ef4\u3002\n\n\u521d\u59cb\u72b6\u6001 $f_{i, j} = - \\infty, f_{0, 0} = 0$\u3002\n\n\u7b54\u6848\u5373\u4e3a $\\max{\\{f_{C, i}\\}}$\u3002\u603b\u590d\u6742\u5ea6 $O(UCW)$\uff0c\u4e0d\u8fc7\u5e38\u6570\u5f88\u5c0f\u3002\n\n### code\n\n``` cpp\nusing namespace std;\n\nstruct Node {\n  int w, v;\n};\n\nint t[10003], f[53][10003];\nvector<Node> z[53];\n\nint main() {\n  int N, W, C;\n\n  cin >> N >> W >> C;\n  for (int i = 1, w, v, c; i <= N; ++i) {\n    cin >> w >> v >> c;\n    z[c].push_back({w, v});\n  }\n\n  memset(f, 0xc0, sizeof f);\n  f[0][0] = 0;\n  for (int c = 1; c <= 50; ++c)\n    if (z[c].size()) {\n      for (int i = C; i; --i) {\n        memcpy(t, f[i - 1], sizeof(int) * (W + 1));\n        for (Node x : z[c])\n          for (int j = W; j >= x.w; --j)\n            t[j] = max(t[j], t[j - x.w] + x.v);\n        for (int j = 0; j <= W; ++j)\n          f[i][j] = max(f[i][j], t[j]);\n      }\n    }\n  cout << *max_element(f[C], f[C] + W + 1) << '\\n';\n  return 0;\n}\n\n```",
        "postTime": 1585105671,
        "uid": 111890,
        "name": "fa_555",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT683 \u3010\u30ca\u30c3\u30d7\u30b6\u30c3\u30af\u3011"
    }
]