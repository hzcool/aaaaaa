[
    {
        "content": "\u641c\u7d221001\u65f6\u5076\u7136\u641c\u5230\u4e86\u8fd9\u9898\u3002\u3002\u3002  \n\u9898\u610f\uff1a\u8f93\u51fa\u5927\u4e8ea\uff0c\u5c0f\u4e8eb\uff0c\u662fc\u7684\u500d\u6570\uff0c\u5404\u4f4d\u6570\u5b57\u76f8\u52a0\u7b49\u4e8ed\u7684**\u56de\u6587\u6570**(a\u548cb\u662f\u56de\u6587\u6570\uff0c\u4f4d\u6570\u76f8\u7b49\u4e14\u662f2\u7684\u500d\u6570\uff0c\u4e14\u6700\u9ad880\u4f4d)  \n~~\u770b\u5230a,b\u53ef\u80fd\u670980\u4f4d\uff0c\u6211\u9ed8\u9ed8\u5220\u6389\u4e86\u679a\u4e3e\u7684\u4ee3\u7801~~  \n\u663e\u7136\uff0c\u8fd9\u662f\u4e00\u9053\u6570\u4f4ddp\u9898\uff0ca,b\u4f4d\u6570\u662f2\u7684\u500d\u6570\u4e14\u662f\u56de\u6587\u6570\u5df2\u7ecf\u5728\u660e\u793a\uff1a**\u53ea\u9700\u8981\u679a\u4e3e\u6570\u5b57\u7684\u4e00\u534a**  \n\u53ef\u4ee5\u5efa\u7acb\u6570\u7ec4dp[i][j][k],\u5176\u4e2di\u662f\u6570\u4f4d(\u5f53\u7136\u662f\u6570\u4f4d\u7684\u4e00\u534a)\uff0cj\u662f\u8be5\u6570\u5b57\u9664\u4ee5c\u7684\u4f59\u6570\uff0ck\u662f\u5404\u4f4d\u6570\u4e4b\u548c\uff0cdp\u5219\u662f2i\u4f4d\u6570\u4e2d\u9664\u4ee5c\u4f59j\u4e14\u5404\u4f4d\u6570\u4e4b\u548c\u4e3ak\u7684\u6570\u5b57\u4e2a\u6570\uff0c\u7528o\u679a\u4e3ei+1\u4f4d\u7684\u6570\u5b57\uff0c\u5373\u53ef\u5f97\uff1a  \n#### dp[i+1][n[i]*o%c][k+2o]+=dp[i][j][k]  \n(n[i]=10^i+10^(len-i-1)\uff0c\u4e14\u8ba1\u7b97\u4e2d\u8981\u8bb0\u5f97\u53d6\u6a21)  \n(dp[i][j][k]==0\u65f6\u76f4\u63a5\u7ed3\u675f\u5faa\u73af\uff0c\u4e0d\u679a\u4e3eo\u7701\u65f6\u95f4)  \n\u5148\u521d\u59cb\u5316dp[1][o*n[0]%c][2o]=1  \n\u6700\u540e\u8f93\u51fadp[len/2][0][d]\u5373\u53ef\uff0c~~\u5927\u529f\u544a\u6210\uff01~~  \n\u4e14\u6162\uff0c\u8fd8\u8981\u4fdd\u8bc1\u5927\u4e8ea\uff0c\u5c0f\u4e8eb\uff0c\u600e\u4e48\u529e\u5462\uff1f  \n\u53ef\u4ee5\u5728dp\u4e0a\u589e\u52a0\u4e00\u7ef4 \"\u72b6\u6001\"\uff0c\u901a\u8fc7\u5de7\u5999\u7684\u521d\u59cb\u5316\u89e3\u51b3\u95ee\u9898\uff0c\u6700\u540e\u5c06\u51e0\u79cd\u72b6\u6001\u6570\u91cf\u76f8\u52a0\u5373\u5f97\u5230\u7b54\u6848\uff0c\u5177\u4f53\u65b9\u6cd5\u89c1\u4ee3\u7801\uff1a  \n```cpp\n#include<cstdio>\n#include<cstring>\nchar a[85],b[85];\nint dp[85][4][55][725],c,d,p=10000,f,i,j,k,l,o,len,m[85],n[85],u=1,z,sum;\nbool check()//\u8fd9\u91cc\u662fcheck\u51fd\u6570\uff0c\u5982\u679ca==b\uff0c\u76f4\u63a5\u8f93\u51fa0\u7ed3\u675f\n{\n    for(i=0;i<=len;i++)\n    if(a[i]!=b[i])return a[i]>b[i];\n    return true;\n}\nint main()\n{\n\tscanf(\"%s%s%d%d\",a,b,&c,&d);\n\tm[0]=1;len=strlen(a);\n\tif(check()){printf(\"0\\n\");return 0;}\n\tfor(i=1;i<=80;i++)m[i]=m[i-1]*10%c;\n\tfor(i=0;i<len/2;i++)n[i]=(m[i]+m[len-i-1])%c;//\u4e0a\u9762\u4e24\u884c\u9884\u5904\u7406n\u6570\u7ec4\n\tfor(i=a[0]-48;i<=b[0]-48;i++)\n\t{\n\t\tu=0;if(i==a[0]-48)u++;if(i==b[0]-48)u+=2;\n\t\tdp[1][u][(n[0]*i)%c][i*2]++;\n\t}//\u91cd\u70b9\uff1a\u521d\u59cb\u5316dp\u6570\u7ec4\u65f6\u7528u\u8868\u793a\"\u72b6\u6001\"\uff0c\u4fdd\u8bc1\u6570\u5b57\u5927\u5c0f\u5728a,b\u4e4b\u95f4\n\tfor(i=1;i<len/2;i++)\n\tfor(j=0;j<=3;j++)\n\tfor(k=0;k<c;k++)\n\tfor(l=0;l<=d;l++)if(dp[i][j][k][1])\n\tfor(o=0;o<=9;o++)\n\t{\n\t\tif((j%2&&o<a[i]-48)||(j/2&&o>b[i]-48))continue;\n\t\tz=j;\n\t\tif(o>a[i]-48)z-=z%2;\n\t\tif(o<b[i]-48&&z>=2)z-=2;\n\t\tdp[i+1][z][(k+n[i]*o)%c][(l+o*2)]=(dp[i+1][z][(k+n[i]*o)%c][(l+o*2)]+dp[i][j][k][l])%p;//\u7a0b\u5e8f\u6838\u5fc3\n\t}\n\tfor(i=0;i<=3;i++)sum=(sum+dp[len/2][i][0][d])%p;//\u5c06\u5404\u79cd\"\u72b6\u6001\"\u7ed3\u679c\u76f8\u52a0\n\tprintf(\"%d\\n\",sum);\n    \treturn 0;\n}\n```  \n\u5c31\u8fd9\u6837\uff0c\u6211\u4eec~~\u8f7b\u677e~~AC\u4e86\u4e00\u9053\u7070\u9898\uff01  \n  \n\u6e29\u99a8\u63d0\u793a\uff1a  \n![](https://cdn.luogu.com.cn/upload/image_hosting/p0uo3s87.png?x-oss-process=image/resize,m_lfit,h_170,w_225)",
        "postTime": 1569043831,
        "uid": 97263,
        "name": "0\u51cc0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT1763 \u3010square1001\u306e\u597d\u304d\u306a\u56de\u6587\u6570 (square1001&#039;s Favorite Palindrome)\u3011"
    }
]