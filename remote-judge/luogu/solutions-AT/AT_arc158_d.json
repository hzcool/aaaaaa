[
    {
        "content": "\u968f\u673a $x,y,z$\uff0c\u53d6 $t$ \u6ee1\u8db3\n\n$$(x+y+z)(x^{n}+y^{n}+z^{n})(x^{2n}+y^{2n}+z^{2n})\\equiv t(x^{3n}+y^{3n}+z^{3n})$$\n\n\u5219\u6709\n\n$$(\\frac xt+\\frac yt+\\frac zt)((\\frac xt)^{n}+(\\frac yt)^{n}+(\\frac zt)^{n})((\\frac xt)^{2n}+(\\frac yt)^{2n}+(\\frac zt)^{2n})\\equiv ((\\frac xt)^{3n}+(\\frac yt)^{3n}+(\\frac zt)^{3n})$$\n\n\u5982\u679c\u56e0\u4e3a\u5404\u79cd\u610f\u5916\u60c5\u51b5\u5bfc\u81f4\u4e0a\u9762\u7684\u4e1c\u897f\u51fa\u73b0\u95ee\u9898\uff08\u6bd4\u5982 $x=y$ \u6216\u8005\u67d0\u4e00\u9879\u662f $0$\uff09\uff0c\u597d\u7684\u529e\u6cd5\u662f\u591a\u968f\u51e0\u6b21\u3002",
        "postTime": 1678696030,
        "uid": 104662,
        "name": "PrincessQi",
        "ccfLevel": 0,
        "title": "\u7ef7"
    },
    {
        "content": "\u4e0b\u9762 $x, y, z$ \u65e0\u5e8f\u3002\n\n\u9996\u5148\u662f\u8d5b\u65f6\u60f3\u6cd5\uff1a\n\n- \u6253\u8868\u53d1\u73b0\u4e00\u5b9a\u5b58\u5728\u4e00\u7ec4\u89e3\u4f7f\u5f97 $x + y = p$\u3002\n- \u5f53 $n$ \u4e3a\u5076\u6570\uff0c\u8bbe $r = \\frac{x}{z}$\uff0c\u5219 $z = \\frac{2r^{3n} + 1}{(2r^n + 1)(2r^{2n} + 1)}$\uff1b\u5f53 $n$ \u4e3a\u5947\u6570\uff0c\u540c\u6837\u8bbe $r = \\frac{x}{z}$\uff0c\u5219 $z = \\frac{1}{2r^{2n} + 1}$\u3002\n- \u968f\u673a\u5316 $r$ \u76f4\u5230\u89e3\u5408\u6cd5\u5373\u53ef\u3002\n\n\u73b0\u5728\u6211\u4eec\u6765\u8003\u8651\u5982\u4f55\u4e0d\u968f\u673a\u5316\u3002\n\n1. $n$ \u4e3a\u5947\u6570\n\n\u8003\u8651\u94a6\u5b9a $r = 2$\uff0c\u4f46\u662f\u4f60\u4f1a\u53d1\u73b0\u6709\u65f6\u5019 $2^{2n} \\equiv -\\frac{1}{2} \\pmod p$ \u5bfc\u81f4\u65e0\u89e3\u3002\n\n\u8003\u8651\u5728\u65e0\u89e3\u65f6\u6539 $r = 2$ \u4e3a $r = 4$\uff0c\u7531\u4e8e $4^{2n} \\equiv \\frac{1}{4} \\not\\equiv -\\frac{1}{2} \\equiv 2^{2n} \\pmod p$\uff0c\u5219\u6b64\u65f6\u4e00\u5b9a\u6709\u89e3\u3002\n\n2. $n$ \u4e3a\u5076\u6570\n\n\u9996\u5148\u7ed9\u51fa\u7ed3\u8bba\uff1a\n\n- \u9996\u5148\u5224\u6389 $p = 5, 11$ \u7684\u60c5\u51b5\u3002\n- \u4ee4 $r = 2$\uff0c\u6bcf\u6b21\u6309\u7167\u524d\u8ff0\u65b9\u6cd5\u6c42\u51fa\u5bf9\u5e94\u7684 $x, y, z$\uff0c\u5982\u679c\u89e3\u4e0d\u5408\u6cd5\u5219\u4ee4 $r \\leftarrow r^2$ \u5e76\u7ee7\u7eed\u3002\n- \u53ef\u4ee5\u8bc1\u660e\u4e00\u5b9a\u6709\u89e3\uff0c\u4e14\u5c1d\u8bd5\u7684 $r$ \u7684\u4e2a\u6570 $\\leq 3$\u3002\n\n\u8bc1\u660e\uff1a\u9996\u5148\uff0c\u5931\u8d25\u53ea\u53ef\u80fd\u6709\u4e24\u79cd\u60c5\u51b5 $z$ \u7684\u67d0\u4e2a\u5206\u5b50\u6216\u5206\u6bcd\u4e3a $0$ \u6216 $r = p - 1$\u3002\n\n\u5bf9\u4e8e\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u7531\u4e8e $r$ \u53ef\u4ee5\u8868\u793a\u6210 $2^{2^k}$ \u7684\u5f62\u5f0f\uff0c\u5219 $p$ \u6b64\u65f6\u53ea\u53ef\u80fd\u4e3a\u8d39\u9a6c\u8d28\u6570\u3002\u5bf9\u4e09\u4e2a\u9700\u8981\u68c0\u9a8c\u7684\u8d39\u9a6c\u8d28\u6570 $17, 257, 65537$ \u8fdb\u884c\u4e86\u9a8c\u8bc1\uff0c\u5747\u6ee1\u8db3\u4e0a\u8ff0\u6761\u4ef6\u3002\n\n\u5bf9\u4e8e\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u8003\u8651\u5728\u5931\u8d25\u65f6\u5206\u7c7b\u8ba8\u8bba $2r^n + 1, 2r^{2n} + 1, 2r^{3n} + 1$ \u4e2d\u54ea\u4e2a\u4e3a $0$\u3002\u4e0b\u9762\u8bbe $r' = r^2$\u3002\n\n- $2r^n + 1 = 0$\n\n\u4e8e\u662f\u6709 $(r')^n \\equiv \\frac{1}{4} \\pmod p$\uff0c\u5219 $2(r')^n + 1 \\equiv \\frac{3}{2} \\not\\equiv 0 \\pmod p$\uff0c$2(r')^{2n} + 1 \\equiv \\frac{5}{4} \\not\\equiv 0 \\pmod p$\uff08\u6ce8\u610f\u6211\u4eec\u5224\u6389\u4e86 $p = 5$\uff09\uff0c$2(r')^{3n} + 1 \\equiv \\frac{33}{32} \\not\\equiv 0 \\pmod p$\uff08\u6ce8\u610f\u6211\u4eec\u5224\u6389\u4e86 $p = 11$\uff09\u3002\u4e8e\u662f\u81ea\u4e58\u4e00\u6b21\u540e\u4e00\u5b9a\u5408\u6cd5\u3002\n\n- $2r^{2n} + 1 = 0$\n\n\u4e8e\u662f\u6709 $(r')^{2n} \\equiv \\frac{1}{4} \\pmod p$\uff0c\u5219 $2(r')^{2n} + 1 \\equiv \\frac{3}{2} \\not\\equiv 0 \\pmod p$\uff1b\u56e0\u4e3a $(r')^n \\equiv \\pm \\frac{1}{2} \\pmod p$\uff0c\u5219 $2(r')^n + 1 \\equiv 0 \\operatorname{or} 2 \\pmod p$\uff0c$2(r')^{3n} + 1 \\equiv \\frac{3}{4} \\operatorname{or} \\frac{5}{4} \\not\\equiv 0 \\pmod p$\u3002\u4e8e\u662f\u81ea\u4e58\u4e00\u6b21\u540e\u8981\u4e48\u5408\u6cd5\uff0c\u8981\u4e48\u8f6c\u5316\u4e3a $2r^n + 1 = 0$ \u7684\u60c5\u51b5\u3002\n\n- $2r^{3n} + 1 = 0$\n\n\u4e8e\u662f\u6709 $(r')^{3n} \\equiv \\frac{1}{4} \\pmod p$\uff0c\u5219 $2(r')^{3n} + 1 \\equiv \\frac{3}{2} \\not\\equiv 0 \\pmod p$\uff1b\u5047\u5b9a $(r')^n = -\\frac{1}{2}$\uff0c\u5219 $(r')^{3n} \\equiv -\\frac{1}{8} \\not\\equiv \\frac{1}{4} \\pmod p$\uff1b\u5047\u5b9a $(r')^{2n} = -\\frac{1}{2}$\uff0c\u5219 $(r')^{6n} \\equiv -\\frac{1}{8} \\not\\equiv \\frac{1}{16} \\pmod p$\u3002\u4e8e\u662f\u81ea\u4e58\u4e00\u6b21\u540e\u4e00\u5b9a\u5408\u6cd5\u3002\n\n\u7efc\u4e0a\uff0c\u628a $n$ \u5206\u522b\u4e3a\u5947\u6570\u548c\u5076\u6570\u7684\u4e24\u79cd\u60c5\u51b5\u62fc\u8d77\u6765\u5373\u53ef\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\ntypedef long long ll;\n\nll ans[7];\n\ninline ll quick_pow(ll x, ll p, ll mod){\n    ll ans = 1;\n    while (p){\n        if (p & 1) ans = ans * x % mod;\n        x = x * x % mod;\n        p >>= 1;\n    }\n    return ans;\n}\n\ninline bool check(){\n    sort(ans + 1, ans + 4);\n    return ans[1] != ans[2] && ans[2] != ans[3];\n}\n\nint main(){\n    int t;\n    cin >> t;\n    for (int i = 1; i <= t; i++){\n        int n, p;\n        cin >> n >> p;\n        n %= p - 1;\n        if (n % 2 == 0){\n        \tif (p == 5 || p == 11){\n        \t\tfor (int j = 2; ; j++){\n        \t\t\tans[1] = (quick_pow(j, (ll)n * 3, p) * 2 % p + 1) % p * quick_pow((quick_pow(j, n, p) * 2 % p + 1) % p * (quick_pow(j, n * 2, p) * 2 % p + 1) % p, p - 2, p) % p;\n                \tans[2] = ans[1] * j % p;\n                \tans[3] = p - ans[2];\n                \tif (check()) break;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tll r = 2;\n\t            do {\n\t                ans[1] = (quick_pow(r, (ll)n * 3, p) * 2 % p + 1) % p * quick_pow((quick_pow(r, n, p) * 2 % p + 1) % p * (quick_pow(r, n * 2, p) * 2 % p + 1) % p, p - 2, p) % p;\n\t                ans[2] = ans[1] * r % p;\n\t                ans[3] = p - ans[2];\n\t                r = r * r % p;\n\t            } while (!check());\n\t\t\t}\n        } else {\n            ans[1] = quick_pow((quick_pow(2, n * 2, p) * 2 % p + 1) % p, p - 2, p);\n            if (ans[1] == 0){\n                ans[1] = quick_pow((quick_pow(4, n * 2, p) * 2 % p + 1) % p, p - 2, p);\n                ans[2] = ans[1] * 4 % p;\n            } else {\n                ans[2] = ans[1] * 2 % p;\n            }\n            ans[3] = p - ans[2];\n            check();\n        }\n        for (int j = 1; j <= 3; j++){\n            cout << ans[j] << \" \";\n        }\n        cout << endl;\n    }\n    return 0;\n}\n```",
        "postTime": 1678795601,
        "uid": 201007,
        "name": "Leasier",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 [ARC158D] Equation"
    },
    {
        "content": "**\u6ce8\u610f\u5230\u7b49\u5f0f\u4e24\u8fb9\u90fd\u662f\u9f50\u6b21\u7684\uff0c\u4e14\u6b21\u6570\u6070\u597d\u5dee $1$\u3002**\n\n\u8bb0\u5de6\u8fb9\u662f $F(x,y,z)$\uff0c\u53f3\u8fb9\u662f $G(x,y,z)$\u3002\n\n\u90a3\u4e48\u5982\u679c\u6211\u4eec\u968f\u4e00\u7ec4 $x,y,z$\uff0c\u53d1\u73b0 $F(x,y,z)=tG(x,y,z)$\uff0c\u90a3\u4e48\u5c31\u6709 \n\n$$\nF(x/t,y/t,z/t)=G(x/t,y/t,z/t)\n$$\n\u56e0\u6b64\u53ea\u8981\u80fd\u968f\u5230\u4e00\u7ec4 $x,y,z$ \u4f7f\u5f97 $G(x,y,z)$ \u5b58\u5728\u9006\u5143\uff0c\u4e14 $F(x,y,z)\\neq 0$ \u5373\u53ef\u3002\n\n\u6ce8\u610f $p$ \u662f\u7d20\u6570\uff0c\u56e0\u6b64\u53ea\u9700\u8981 $G(x,y,z)\\neq 0$\u3002\u8fd9\u4e2a\u6982\u7387\u662f\u76f8\u5f53\u5927\u7684\uff0c[\u5b98\u65b9\u9898\u89e3](https://atcoder.jp/contests/arc158/editorial/5983)\u8bc1\u5f97\u6982\u7387\u81f3\u5c11\u4e3a $\\frac{3}{4}$\uff0c\u4ece\u800c\u671f\u671b\u6b65\u6570\u4e3a $\\frac{5}{3}$\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(T\\log n)$\uff0c$\\log$ \u6765\u81ea\u5feb\u901f\u5e42\u3002\n\n```cpp\n#include<bits/stdc++.h>\n\n#define int long long\n\nusing namespace std;\n\ninline int read(){\n\tint x=0,f=1;char c=getchar();\n\tfor(;(c<'0'||c>'9');c=getchar()){if(c=='-')f=-1;}\n\tfor(;(c>='0'&&c<='9');c=getchar())x=x*10+(c&15);\n\treturn x*f;\n}\n\nint mod=1e9+7;\nint ksm(int x,int y,int p=mod){\n\tint ans=1;\n\tfor(int i=y;i;i>>=1,x=1ll*x*x%p)if(i&1)ans=1ll*ans*x%p;\n\treturn ans%p;\n}\nint inv(int x,int p=mod){return ksm(x,p-2,p)%p;}\nint randint(int l,int r){return rand()%(r-l+1)+l;}\nvoid add(int &x,int v){x+=v;if(x>=mod)x-=mod;}\nvoid Mod(int &x){if(x>=mod)x-=mod;}\n\nint n,p;\nint F(int x,int y,int z){\n\tint xn=ksm(x,n),yn=ksm(y,n),zn=ksm(z,n);\n\treturn (x+y+z)*(xn+yn+zn)%p*(xn*xn%p+yn*yn%p+zn*zn%p)%p;\n}\nint G(int x,int y,int z){\n\treturn (ksm(x,3*n)+ksm(y,3*n)+ksm(z,3*n))%p;\n}\n\nsigned main(void){\n\n#ifdef YUNQIAN\n\tfreopen(\"in.in\",\"r\",stdin);\n#endif\n\n\tint tt=read();while(tt--){\n\t\tn=read(),p=read();mod=p;\n\t\tint x=randint(1,p-1),y=randint(1,p-1),z=randint(1,p-1);\n\t\tdo{x=randint(1,p-1),y=randint(1,p-1),z=randint(1,p-1);}while(x==y||y==z||z==x||F(x,y,z)==0||G(x,y,z)==0);\n\t\tint t=G(x,y,z)*inv(F(x,y,z))%p;\n\t\tx=x*t%p,y=y*t%p,z=z*t%p;\n\t\tif(x>y)swap(x,y);\n\t\tif(x>z)swap(x,z);\n\t\tif(y>z)swap(y,z);\n\t\tcout<<x<<\" \"<<y<<\" \"<<z<<endl;\n\t}\n\n\treturn 0;\n}\n\n```",
        "postTime": 1681809485,
        "uid": 307453,
        "name": "\u4e91\u6d45\u77e5\u5904",
        "ccfLevel": 6,
        "title": "Equation"
    },
    {
        "content": "## hint\n\u6ce8\u610f\u5230\u4e24\u8fb9\u7684\u5f0f\u5b50\u662f\u9f50\u6b21\u7684\uff0c\u5e76\u4e14\u4e24\u8fb9\u7684\u6b21\u6570\u76f8\u5dee $1$\u3002\n\n## sol\n\n\u9996\u5148\u6211\u4eec\u5c06 $x$ \u8bbe\u4e3a\u4e3b\u5143\uff0c\u968f\u673a $a$ \u548c $b$\uff0c\u4ee4 $y \\equiv  a\\times x \\pmod{p}$\uff0c$z \\equiv  b\\times x \\pmod{p}$\u3002\n\n\u7136\u540e\u5c06 $y$ \u548c $z$ \u4ee3\u5165\u539f\u5f0f\uff0c\u5c55\u5f00\u3002\u4f1a\u5f97\u5230\u4e00\u4e2a $u\\times x^{3\\times n +1}\\pmod{p} = v\\times x^{3\\times n}\\pmod{p}$ \u7684\u5f62\u5f0f\uff0c\u79fb\u9879\u6c42\u89e3\u5373\u53ef\u3002\n\n\u5f97\u51fa $x$ \u4e4b\u540e\u9700\u8981\u6392\u5e8f\u548c\u5224\u65ad\u89e3\u7684\u5408\u6cd5\u6027\u3002\u5982\u679c\u4e0d\u5408\u6cd5\u5c31\u518d\u968f\u4e00\u7ec4 $a,b$\u3002\n\n\u53ef\u4ee5\u8bc1\u660e\u6bcf\u6b21\u968f\u673a\u5316\u7684\u6b63\u786e\u7387\u5728 $\\frac{1}{4}$ \u5de6\u53f3\u3002\n\n[EN](https://atcoder.jp/contests/arc158/editorial/5983)\uff0c[JP](https://atcoder.jp/contests/arc158/editorial/5905)\u3002\u65e5\u8bed\u5141\u8bb8\u7684\u5316\u5efa\u8bae\u9605\u8bfb\u65e5\u8bed\u8bc1\u660e\u3002\n\n## code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long \nint quick_pow(int a,int b,int mod){\n    int ret=1;\n    for(;b;b>>=1,a=a*a%mod)\n    if(b&1) ret=ret*a%mod;\n    return ret;\n}\nint getl(int a,int b,int n,int p){\n    int A=quick_pow(a,n,p),B=quick_pow(b,n,p);\n    return (a+b+1)*(A+B+1)%p*(A*A%p+B*B%p+1)%p;\n}\nint getr(int a, int b, int n,int p) {\n    int A = quick_pow(a, n*3, p), B = quick_pow(b, n*3, p);\n    return (A+B+1)%p;\n}\nvoid work(){\n    int n,p;\n    cin>>n>>p;\n    mt19937 srand(time(0));\n    int s[5];\n    while(1){\n        int a=rand()%p,b=rand()%p;\n        int L=getl(a,b,n,p);\n        int R=getr(a,b,n,p);\n        s[0]=R*quick_pow(L,p-2,p)%p;\n        s[1]=s[0]*a%p,s[2]=s[0]*b%p;\n        sort(s,s+3);\n        if(s[0]!=s[1]&&s[2]!=s[1]&&s[0]!=s[2]){\n            if(s[0]&&s[1]&&s[2]){\n                cout<<s[0]<<\" \"<<s[1]<<\" \"<<s[2]<<endl;\n                return ;\n            }\n        }\n    }\n}\nsigned main(){\n    ios::sync_with_stdio(false);\n    cin.tie(0),cout.tie(0);\n    int T;\n    cin>>T;\n    while(T--)\n        work();\n    return 0;\n}\n```",
        "postTime": 1678762788,
        "uid": 151947,
        "name": "\u6d1b\u6d54",
        "ccfLevel": 0,
        "title": "[ARC158D] Equation"
    },
    {
        "content": "\u597d\u731b\u554a\u8fd9\u4e2a\u9898\u3002\n\n\u4e0b\u6587\u5c06\u4f1a\u7ed9\u51fa\u4e24\u79cd\u505a\u6cd5\uff0c\u4e00\u79cd\u662f\u5b98\u65b9\u9898\u89e3\uff0c\u4e00\u79cd\u6765\u81ea @\u6211\u6253\u3002\n\n\u4e0b\u6587\u6784\u9020\u7684 $x,y,z$ \u4e0d\u6309\u5927\u5c0f\u6392\u5e8f\u3002\n\n#### \u7b97\u6cd5\u4e00\n\n\u6765\u81ea @\u6211\u6253\uff0c\u8003\u8651\u94a6\u5b9a $y=kx,z=k^2 x$\uff0c\u90a3\u4e48\uff0c\u7b2c\u4e8c\u4e2a\u6761\u4ef6\u53ef\u4ee5\u53d8\u4e3a\uff1a\n\n$$\n(k^2+k+1)(k^{2n}+k^n+1)(k^{4n}+k^{2n}+1)x^{3n+1}\\equiv (k^{6n}+k^{3n}+1)x^{3n}\\bmod {p}\n$$\n\n\u5982\u679c $k^2+k+1$\uff0c$k^{2n}+k^n+1$\uff0c$k^{4n}+k^{2n}+1$\uff0c$k^{6n}+k^{3n}+1$ \u5747\u4e0d\u4e3a $0$\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u89e3\u51fa $x$\u3002\n\n\u53d1\u73b0 $p=7,19$ \u7684\u65f6\u5019\u8dd1\u4e0d\u51fa\u6765\uff0c\u6240\u4ee5\u76f4\u63a5\u66b4\u529b\u3002\n\n\u6240\u4ee5\uff0c\u968f\u673a $k$\uff0c\u76f4\u5230\u4e0a\u8ff0\u56db\u8005\u5747\u4e0d\u4e3a $0$\uff0c\u5373\u6c42\u5f97\u4e00\u7ec4\u89e3\uff0c\u4e3a\u4ec0\u4e48\u80fd\u8fc7\uff1f\u6211\u4e0d\u77e5\u9053\u3002\n\n#### \u7b97\u6cd5\u4e8c\n\n\u5b98\u65b9\u9898\u89e3\uff0c\u8003\u8651\u94a6\u5b9a $x=ta,y=tb,z=tc$\uff0c\u968f\u673a $a,b,c$\uff0c\u90a3\u4e48\uff0c\u7b2c\u4e8c\u4e2a\u6761\u4ef6\u53ef\u4ee5\u53d8\u4e3a\uff1a\n\n$$\nt^{3n+1}(a+b+c)(a^n+b^n+c^n)(a^{2n}+b^{2n}+c^{2n})\\equiv t^{3n}(a^{3n}+b^{3n}+c^{3n}) \\bmod {p}\n$$\n\n\u540c\u6837\u7684\uff0c\u5982\u679c $a+b+c$\uff0c$a^n+b^n+c^n$\uff0c$a^{2n}+b^{2n}+c^{2n}$\uff0c$a^{3n}+b^{3n}+c^{3n}$ \u5747\u4e0d\u4e3a $0$\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5f97\u5230 $t$\uff0c\u4ece\u800c\u89e3\u51fa\u7b54\u6848\u3002\n\n\u968f\u673a\u6210\u529f\u7684\u6982\u7387\u662f $1/4-O(1/p)$\uff0c\u5177\u4f53\u8bc1\u660e\u4e0d\u60f3\u5199\u4e86\uff0c\u770b[\u5b98\u65b9\u9898\u89e3](https://atcoder.jp/contests/arc158/editorial/5983)\u5427\u3002",
        "postTime": 1678679568,
        "uid": 175829,
        "name": "cnyzz",
        "ccfLevel": 0,
        "title": "ARC158D"
    }
]