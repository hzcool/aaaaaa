[
    {
        "content": "[\u9898\u9762(\u6d1b\u8c37)](https://www.luogu.com.cn/problem/AT_abc194_e)\n\n[\u9898\u9762(AtCoder)](https://atcoder.jp/contests/abc194/tasks/abc194_e)\n\nAtCoder Problems \u8bc4\u7ea7\u96be\u5ea6\uff1a$\\texttt{\\color{#72ff72}{1088}}$\u3002\n\n## \u9898\u610f\n\n- \u7ed9\u4f60\u4e00\u4e2a\u957f\u5ea6\u4e3a $N$ \u7684\u5e8f\u5217 $A$\uff0c\u6c42 $A$ \u4e2d\u6240\u6709\u957f\u5ea6\u4e3a $M$ \u7684\u8fde\u7eed\u5b50\u5e8f\u5217\u4e2d\uff0c\u6700\u5c0f\u7684 $\\operatorname{mex}$ \u503c\uff08\u5b9a\u4e49 $\\operatorname{mex}$ \u4e3a\u5e8f\u5217\u4e2d\u6700\u5c0f\u672a\u51fa\u73b0\u7684\u81ea\u7136\u6570\uff09\u3002\n- $1\\le M\\le N\\le 15\\times 10^5,\\ 0\\le A_i< N$\u3002\n\n## \u601d\u8def\n\n\u770b\u5230\u8fde\u7eed\u5b50\u5e8f\u5217\uff0c\u4e00\u4e0b\u5b50\u60f3\u5230\u7c7b\u4f3c\u6ed1\u52a8\u7a97\u53e3\u7684\u65b9\u6cd5\u3002\n\n\u5148\u7b97\u51fa\u7a97\u53e3\u5728\u521d\u59cb\u4f4d\u7f6e\u65f6\u7684 $\\operatorname{mex}$ \u503c\uff0c\u5728\u5411\u53f3\u79fb\u52a8\u65f6\u68c0\u67e5\u79fb\u51fa\u7684\u6570\uff0c\u82e5\u8be5\u79fb\u51fa\u7684\u6570\u5728\u5f53\u524d\u7a97\u53e3\u4e2d\u51fa\u73b0\u6b21\u6570\u53d8\u4e3a $0$\uff0c\u66f4\u65b0 $\\operatorname{mex}$ \u503c\u5373\u53ef\u3002\n\n``` cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n\nconst static int N=2e6;\nint n,m,a[N],ans;\nmap<int,int>t;\n\ninline void solve()\n{\n    cin>>n>>m;\n    for(int i=1;i<=n;i++)cin>>a[i];\n    for(int i=1;i<=m;i++)++t[a[i]]; // \u521d\u59cb\u7a97\u53e3\n    for(int i=0;i<=n;i++) // \u8ba1\u7b97\u521d\u59cb\u7a97\u53e3 mex \u503c\uff0c\u6ce8\u610f\u8303\u56f4\u8981\u5230 n\n        if(!t[i])\n        {\n            ans=i;\n            break;\n        }\n    \n    for(int i=m+1;i<=n;i++) // \u7a97\u53e3\u5411\u53f3\u6ed1\u52a8\n    {\n        --t[a[i-m]],++t[a[i]]; // \u66f4\u65b0\n        if(!t[a[i-m]]) // \u53d1\u73b0 mex \u503c\u53ef\u80fd\u6709\u53d8\u5316\n            ans=min(ans,a[i-m]);\n    }\n    cout<<ans<<endl;\n}\n\n#undef int\nint main()\n{\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    solve();\n    return 0;\n}\n```",
        "postTime": 1682145745,
        "uid": 751017,
        "name": "hellolin",
        "ccfLevel": 0,
        "title": "[ABC194E] Mex Min \u9898\u89e3"
    },
    {
        "content": "\u4ecb\u7ecd\u672c\u9898\u7684\u4e24\u4e2a\u89e3\u6cd5\u3002\n\n\u9996\u5148\u7b54\u6848\u663e\u7136\u4e3a\u6700\u5c0f\u7684\u975e\u8d1f\u6574\u6570\uff0c\u8fd9\u4e2a\u6574\u6570\u5728\u67d0\u4e2a\u957f\u5ea6\u4e3a $ M $ \u7684\u533a\u95f4\u6839\u672c\u6ca1\u51fa\u73b0\u8fc7\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5c06\u4e00\u4e2a\u6570\u51fa\u73b0\u7684\u4f4d\u7f6e\u585e\u8fdb\u4e00\u4e2a\u6570\u7ec4 $ pos $ \u91cc\uff0c\u7136\u540e\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u7b54\u6848 $ j $\uff0c\u68c0\u67e5 $ j $ \u5bf9\u5e94\u7684 $ pos $ \u662f\u5426\u5b58\u5728\u4e24\u4e2a\u5143\u7d20\u95f4\u9694 $ > M $\u3002\u7531\u4e8e $ pos $ \u7684\u603b\u5143\u7d20\u4e2a\u6570\u663e\u7136\u7b49\u4e8e\u6570\u7ec4\u5143\u7d20\u4e2a\u6570\uff0c\u6240\u4ee5\u603b\u65f6\u95f4\u590d\u6742\u5ea6 $ \\mathcal{O}(n) $\uff0c\u53ef\u4ee5\u901a\u8fc7\u3002\n\n\u7b2c\u4e8c\u79cd\u89e3\u6cd5\uff1a\u533a\u95f4 $ mex $\uff0c\u8fd9\u4e2a\u6709\u539f\u9898 [P4137](https://www.luogu.com.cn/problem/P4137)\u3002\n\n\u4e8e\u662f\u4ece\u9898\u89e3\u91cc\u5957\u7528\u4e00\u4e2a\u56de\u6eda\u83ab\u961f\u7684\u505a\u6cd5\uff1a\n\n$ mex $ \u663e\u7136\u6ee1\u8db3\u5220\u9664\u53ef\u4ee5\u7b80\u5355\u7ef4\u62a4\uff0c\u4f46\u662f\u589e\u52a0\u4e0d\u884c\u7684\u6027\u8d28\u3002\n\n\u4e8e\u662f\u5148\u7b97\u51fa\u6574\u4e2a\u5e8f\u5217 $ mex $\uff0c\u7136\u540e\u8003\u8651\u56de\u6eda\u83ab\u961f\uff0c\u5c06\u8be2\u95ee\u7684\u5de6\u7aef\u70b9\u6240\u5728\u7684\u5757\u4ece\u5c0f\u5230\u5927\uff0c\u53f3\u7aef\u70b9\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u4e8e\u662f\u53f3\u7aef\u70b9\u53ea\u8981\u652f\u6301\u6734\u7d20\u5220\u9664\u5373\u53ef\u3002\u5982\u679c\u6ca1\u770b\u61c2\u53ef\u4ee5\u53c2\u8003 [\u8fd9\u7bc7\u9898\u89e3](https://www.luogu.com.cn/blog/stochcorz/report-p4137)\u3002\n\n\u7b97\u51fa\u6240\u6709\u533a\u95f4\u7684 $ mex $ \u4e4b\u540e\u53d6\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u4e8e\u662f\u65f6\u95f4\u590d\u6742\u5ea6 $ \\mathcal{O}(n\\sqrt{n}) $\uff0c\u4f46\u7531\u4e8e\u8be2\u95ee\u662f\u4e00\u4e2a\u7c7b\u4f3c\u6ed1\u52a8\u7a97\u53e3\u7684\u7ed3\u6784\u6240\u4ee5\u5b9e\u9645\u4e0a\u6839\u672c\u8dd1\u4e0d\u6ee1\uff0c\u968f\u624b\u901a\u8fc7\u3002\n\n\u5982\u679c\u539f\u9898\u662f\u8fd9\u4e2a\u6570\u636e\u8303\u56f4\u4f30\u8ba1\u662f\u5f88\u96be\u901a\u8fc7\uff0c\u4f46\u8fd9\u9898\u6570\u636e\u8303\u56f4\u8f83\u5927\u7684\u540c\u65f6\u4e5f\u5f00\u5927\u4e86\u65f6\u95f4\u9650\u5236\u3002\n\n\u4ee3\u7801\uff1a\uff08\u5176\u5b9e\u662f\u4e0a\u9762\u7684\u9898\u89e3\u9b54\u6539\u6765\u7684\uff09\n\n```cpp\n#include <bits/stdc++.h>\n#define ri register int\n#define getchar() (p1 == p2) && (p2 = (p1 = buf) + fread(buf, 1, 1 << 21, stdin), p1 == p2) ? EOF : *p1++\n#define N 2000005\n#define B 1000\nusing namespace std;\nchar ou[1 << 22], buf[1 << 22], *p1 = buf, *p2 = buf;\nint n, m, s, a[N], bel[N], cnt[N], tmp[N], ans[N], L[N / B + 5], R[N / B + 5], p3 = -1;\nstruct query\n{\n\tint l, r, id;\n\tinline bool operator<(const query &x) const\n\t{\n\t\treturn bel[l] ^ bel[x.l] ? bel[l] < bel[x.l] : r > x.r;\n\t}\n} q[N];\ntemplate <typename T>\ninline void read(T &x)\n{\n\tregister T c = getchar();\n\tfor (; c < 48 || 57 < c;)\n\t\tc = getchar();\n\tfor (; 48 <= c && c <= 57; c = getchar())\n\t\tx = (x << 3) + (x << 1) + (c ^ 48);\n}\ntemplate <typename T>\ninline void print(const T x)\n{\n\tif (x > 9)\n\t\tprint(x / 10);\n\tou[++p3] = x % 10 | 48;\n\tif (p3 > (1 << 21))\n\t\tfwrite(ou, 1, p3 + 1, stdout), p3 = -1;\n}\ninline int mnn(const int a, const int b)\n{\n\treturn a < b ? a : b;\n}\nsigned main()\n{\n\tread(n), read(m);\n\tfor (ri i = 1; i <= n; ++i)\n\t{\n\t\tread(a[i]), bel[i] = (i - 1) / B + 1;\n\t\tif (a[i] <= n + 1)\n\t\t\t++cnt[a[i]];\n\t}\n\twhile (cnt[s])\n\t\t++s;\n\tint tmpp=m;\n    m=n-m+1;\n\tfor (ri i = 1; i <= m; ++i)\n\tq[i].l=i, q[i].r=i+tmpp-1, q[i].id = i;\n\tfor (ri i = 1; i < bel[n]; ++i)\n\t\tL[i] = R[i - 1] + 1, R[i] = i * B;\n\tL[bel[n]] = R[bel[n] - 1] + 1, R[bel[n]] = n, sort(q + 1, q + 1 + m);\n\tfor (ri k = 1, i = 1, l, r, p; k <= bel[n]; ++k)\n\t{\n\t\tl = L[k], r = n, p = s;\n\t\tfor (ri t; bel[q[i].l] == k; ++i)\n\t\t{\n\t\t\tif (bel[q[i].r] == k)\n\t\t\t{\n\t\t\t\tri t = 0;\n\t\t\t\tfor (ri j = q[i].l; j <= q[i].r; ++j)\n\t\t\t\t\tif (a[j] <= n + 1)\n\t\t\t\t\t\t++tmp[a[j]];\n\t\t\t\twhile (tmp[t])\n\t\t\t\t\t++t;\n\t\t\t\tans[q[i].id] = t;\n\t\t\t\tfor (ri j = q[i].l; j <= q[i].r; ++j)\n\t\t\t\t\tif (a[j] <= n + 1)\n\t\t\t\t\t\t--tmp[a[j]];\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tfor (; r > q[i].r; --r)\n\t\t\t\tif (a[r] <= n + 1 && !--cnt[a[r]])\n\t\t\t\t\tp = mnn(p, a[r]);\n\t\t\tt = p;\n\t\t\tfor (; l < q[i].l; ++l)\n\t\t\t\tif (a[l] <= n + 1 && !--cnt[a[l]])\n\t\t\t\t\tt = mnn(t, a[l]);\n\t\t\tans[q[i].id] = t;\n\t\t\twhile (l > L[k])\n\t\t\t{\n\t\t\t\t--l;\n\t\t\t\tif (a[l] <= n + 1)\n\t\t\t\t\t++cnt[a[l]];\n\t\t\t}\n\t\t}\n\t\twhile (r < n)\n\t\t{\n\t\t\t++r;\n\t\t\tif (a[r] <= n + 1)\n\t\t\t\t++cnt[a[r]];\n\t\t}\n\t\tfor (; l < L[k + 1]; ++l)\n\t\t\tif (a[l] <= n + 1 && !--cnt[a[l]])\n\t\t\t\ts = mnn(s, a[l]);\n\t}\n    int minn=2e9;\n\tfor (ri i = 1; i <= m; ++i)\n\tminn=min(minn,ans[i]);\n\tcout<<minn;\n}\n```\n",
        "postTime": 1671776801,
        "uid": 714821,
        "name": "loser_seele",
        "ccfLevel": 4,
        "title": "ABC194E\u9898\u89e3"
    }
]