[
    {
        "content": "### \u9898\u610f\n\n\u7ed9\u5b9a $n$ \u4e2a\u6570 $a_1,a_2,...,a_n$ \u548c\u53c2\u6570 $X$\u3002\n\n\u81ea\u9009\u4e00\u4e2a\u6570 $k(1\\le k\\le n)$\uff0c\u5e76\u4e14\u4ece\u8fd9 $n$ \u4e2a\u6570\u4e2d\u4efb\u9009 $k$ \u4e2a\u6570 $b_1,b_2,...,b_k$\u3002\n\n\u8981\u6c42 $k\\mid X-\\sum\\limits_{i=1}^kb_i$\uff0c\u5e76\u4e14\u4f7f\u5f97 $\\frac{X-\\sum\\limits_{i=1}^kb_i}{k}$ \u6700\u5c0f\u3002\n\n\u8f93\u51fa\u8fd9\u4e2a\u6700\u5c0f\u503c\u3002\n\n### \u89e3\u9898\u601d\u8def\n\u679a\u4e3e $k$\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $k$\uff0c\u8bbe $b_i=a_i \\bmod k$\uff08\u6ce8\u610f\u533a\u5206\u4e0e\u9898\u610f\u4e2d\u7684 $b_i$\uff09\uff0c$c_1,c_2,...,c_k$ \u4e3a\u6240\u9009\u6570\u7684\u4e0b\u6807\u3002\n\n\u4e3a\u4e86\u4f7f $k\\mid \\sum\\limits_{j=1}^na_{c_j}$\uff0c\u6761\u4ef6\u662f $\\sum\\limits_{i=1}^n b_{c_i}\\equiv X(\\bmod\\ k)$\u3002\n\n\u5728\u6ee1\u8db3\u6761\u4ef6\u7684\u524d\u63d0\u4e0b\uff0c\u8981\u4f7f $\\sum\\limits_{j=1}^na_{c_j}$ **\u6700\u5927\u3002**\n\n\u5373\uff1a\n\n$$ans=\\min\\limits_{k=1}^n\\frac{X-\\max\\limits_{\\sum\\limits_{i=1}^n b_{c_i}\\equiv X(\\bmod k)}\\sum\\limits_{j=1}^na_{c_j}}{k}$$\n\n\u5176\u5b9e\u679a\u4e3e $k$ \u65f6\u53ea\u9700\u8981\u6c42**\u5206\u6570\u90e8\u5206**\u3002\u8fd9\u65f6\u5c31\u60f3\u5230\u4e86\u7528**\u52a8\u6001\u89c4\u5212\u3002**\n\n\u8bbe $dp_{i,j}$ \u8868\u793a\u9009\u4e86 $j$ \u4e2a\u6570\uff0c$i=\\sum\\limits_{u=1}^jb_{c_u} \\bmod k$ \u524d\u63d0\u4e0b\u7684 $\\sum\\limits_{u=1}^j a_{c_u}$ \u7684\u6700\u5927\u503c\u3002\u5176\u4e2d $c$ \u4e3a\u4e0b\u6807\u6570\u7ec4\uff0c\u540c\u4e0a\u3002 \n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$$dp_{i,j}=\\max \\limits_{u=1}^{n}dp_{(i-b_u)\\bmod k,j-1}+a_u$$\n\n\u6700\u540e\u5206\u6570\u90e8\u5206\u5c31\u4e3a $\\dfrac{X-dp_{X\\bmod k,k}}{k}$\u3002\n\n### \u4ee3\u7801\u5b9e\u73b0\n\n\u590d\u6742\u5ea6\uff1a\u65f6\u95f4 $O(n^4)$\uff0c\u7a7a\u95f4 $O(n^2)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define il inline\n#define re register\n#define int long long\nusing namespace std;\n\nconst int N=110;\n\nint n,X,a[N],b[N],dp[N<<1][N],ans=1e18;\n\nsigned main() {\n\tscanf(\"%lld%lld\",&n,&X);\n\tfor(re int i=1;i<=n;i++) {\n\t\tscanf(\"%lld\",&a[i]);\n\t}\n\tfor(re int k=1;k<=n;k++) {\n\t\tfor(re int i=1;i<=n;i++) {\n\t\t\tb[i]=a[i]%k;\n\t\t}\n\t\tmemset(dp,0,sizeof dp);\n\t\tfor(re int i=1;i<=n;i++) {\n\t\t\tfor(re int j=(k<<1)-1;j>=b[i];j--) {\n\t\t\t\tfor(re int u=k-1;~u;u--) {\n\t\t\t\t\tif(j-b[i]==0&&u==0||dp[j-b[i]][u]) dp[j][u+1]=max(dp[j][u+1],dp[j-b[i]][u]+a[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(re int j=0;j<k;j++) {\n\t\t\t\tfor(re int u=0;u<=k;u++) {\n\t\t\t\t\tdp[j][u]=max(dp[j][u],dp[j+k][u]);\n\t\t\t\t\tdp[j+k][u]=0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(dp[X%k][k]) ans=min(ans,(X-dp[X%k][k])/k);\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n\n\n\n\n\n",
        "postTime": 1685777256,
        "uid": 576934,
        "name": "Kevin_Mamba",
        "ccfLevel": 5,
        "title": "[ABC192F] Potion \u9898\u89e3"
    }
]