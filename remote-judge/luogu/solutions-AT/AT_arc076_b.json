[
    {
        "content": "[\u4e5f\u8bb8\u6709\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/zheyuanxie/p/abc065d.html)\n\n## \u7b80\u8981\u9898\u610f\n\n\u6709 $n$ \u4e2a\u70b9\uff0c\u6bcf\u4e2a\u70b9\u6709\u4e24\u4e2a\u5c5e\u6027 $(x,y)$\u3002\u8fde\u65e0\u5411\u8fb9 $(A,B)$ \u7684\u4ee3\u4ef7\u662f $\\min(|A_x-B_x|,|A_y-B_y|)$\u3002\n\n\u4f60\u9700\u8981\u8fde\u63a5\u8fd9 $n$ \u4e2a\u70b9\uff0c\u4f7f\u5f97\u5b83\u4eec\u4efb\u610f\u4e24\u70b9\u4e4b\u95f4\u8fde\u901a\uff0c\u6c42\u6700\u5c0f\u4ee3\u4ef7\u3002\n\n$2 \\leq n \\leq 10^5$\n\n## \u601d\u8def\n\n\u4ee3\u4ef7\u5e26 $\\min$ \u4e0d\u597d\u5904\u7406\uff0c\u6211\u4eec\u8003\u8651\u5c06\u4ee3\u4ef7\u7684 $\\min$ \u62c6\u5f00\uff0c\u6539\u6210\u8fde\u4e24\u6761\u8fb9\uff0c\u4e00\u6761\u8fb9\u4ee3\u4ef7\u662f $|A_x-B_x|$\uff0c\u4e00\u6761\u8fb9\u4ee3\u4ef7\u662f $|A_y-B_y|$\u3002\u7136\u540e\u7b54\u6848\u662f\u4e24\u4e2a\u65b9\u6848\u7684\u5e76\u7684\u6700\u5c0f\u751f\u6210\u6811\u3002\n\n\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u8003\u8651\u5982\u4f55\u6c42\u51fa\u53ea\u8fde $|A_x-B_x|$ \u7684\u65b9\u6848\uff1f\u6211\u4eec\u53ef\u4ee5\u6309 $x$ \u6392\u5e8f\uff0c\u7136\u540e\u4f9d\u6b21\u8fde\u51fa\u4e00\u6761\u94fe\u3002\u8fd9\u6837\u6700\u5fe7\u3002\n\n\u5bf9\u4e8e $y$\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u6309 $y$ \u6392\u5e8f\uff0c\u7136\u540e\u4f9d\u6b21\u8fde\u51fa\u4e00\u6761\u94fe\u3002\n\n\u6700\u540e\u628a\u8fd9\u4e24\u6761\u8fde\u7ec4\u5408\u8d77\u6765\uff0c\u5f62\u6210\u4e00\u4e2a\u65e0\u5411\u56fe\uff0c\u6c42\u51fa\u6700\u5c0f\u8fb9\u6743\u548c\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log n)$\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\n\nstruct edge{\n    int u,v,w,id;\n} g[1000005],a[1000005];\nint n,tot;\n\nint fa[1000005];\nint find(int x){\n    return x==fa[x]?x:fa[x]=find(fa[x]);\n}\n\nsigned main(){\n    cin>>n;\n    for(int i=1;i<=n;i++){\n        cin>>a[i].u>>a[i].v;\n        a[i].id=i;\n    }\n    sort(a+1,a+n+1,[](edge x,edge y){\n        return x.u<y.u;\n    });\n    for(int i=1;i<n;i++){\n        g[++tot]={a[i].id,a[i+1].id,(a[i+1].u-a[i].u)};\n    }\n    sort(a+1,a+n+1,[](edge x,edge y){\n        return x.v<y.v;\n    });\n    for(int i=1;i<n;i++){\n        g[++tot]={a[i].id,a[i+1].id,(a[i+1].v-a[i].v)};\n    }\n    sort(g+1,g+tot+1,[](edge x,edge y){\n        return x.w<y.w;\n    });\n    int ans=0,cnt=0;\n    for(int i=1;i<=n;i++) fa[i]=i;\n    for(int i=1;i<=tot;i++){\n        int u=g[i].u,v=g[i].v,w=g[i].w;\n        assert(g[i].id==0);\n        if(find(u)==find(v)){\n            continue;\n        }\n        ans+=w;\n        fa[find(u)]=find(v);\n        cnt++;\n        if(cnt>=(n-1)) break;\n    }\n    cout<<ans;\n    return 0;\n}\n```\n",
        "postTime": 1673597117,
        "uid": 413065,
        "name": "xiezheyuan",
        "ccfLevel": 5,
        "title": "ABC065D Built?"
    },
    {
        "content": "$\\min$ \u4e2d\u4e00\u4e2a\u53ea\u6709 $x$\uff0c\u4e00\u4e2a\u53ea\u6709 $y$\u3002  \n\u4e0d\u96be\u60f3\u5230\u5c06\u8fb9\u6743\u4e3a $\\min\\{|x_i-x_j|,|y_i-y_j|\\}$ \u53d8\u4e3a $|x_i-x_j|$ \u548c $|y_i-y_j|$ \u4e24\u6761\u8fb9\u518d\u8dd1\u6700\u5c0f\u751f\u6210\u6811\u3002\n\n\u8fb9\u6570\u592a\u591a\uff0c\u8003\u8651\u53bb\u6389\u4e00\u4e9b\u660e\u663e\u4e0d\u4f18\u7684\u8fb9\u3002  \n\u8003\u8651\uff0c$\\forall x_i<x_j<x_k$\uff0c\u5728 $x$ \u7ef4\u5ea6\u4e0a $(i,k)$ \u8fd9\u6761\u8fb9\u662f\u65e0\u7528\u7684\u3002  \n\u6839\u636e\u8fd9\u4e2a\uff0c\u6211\u4eec\u53ea\u9700\u5c06\u70b9\u6309 $x$ \u5347\u5e8f\u6392\uff0c\u7136\u540e\u8fde\u4e0a\u76f8\u90bb\u7684\u5373\u53ef\u3002\n\n$y$ \u7ef4\u5ea6\u540c\u7406\u3002\n\n\u5b9e\u73b0\u770b\u4ee3\u7801\uff1a\n\n```cpp\nconst int N=1e5+3;\nbool*MS;\nint n,fa[N],ans;\nstruct wt{int x,y,z;}a[N],b[N<<1],*p_b=b;\nbool*MT;\nil int get(ri x)\n{\n\tfor(;x^fa[x];x=fa[x]=fa[fa[x]]);\n\treturn x;\n}\nvoid Solve()\n{\n\trd(n);\n\tfor(ri i=1;i<=n;++i) rd(a[i].x),rd(a[i].y),fa[i]=a[i].z=i;\n\tstd::sort(a+1,a+n+1,[](re wt a,re wt b){return a.x<b.x;});\n\tfor(ri i=1;i<n;++i) *++p_b={a[i].z,a[i+1].z,a[i+1].x-a[i].x};\n\tstd::sort(a+1,a+n+1,[](re wt a,re wt b){return a.y<b.y;});\n\tfor(ri i=1;i<n;++i) *++p_b={a[i].z,a[i+1].z,a[i+1].y-a[i].y};\n\tstd::sort(b+1,p_b+1,[](re wt a,re wt b){return a.z<b.z;});\n\tri x,y,cnt=0;\n\tfor(re wt*i=b+1;i<=p_b&&cnt<n-1;++i)\n\t{\n\t\tauto[u,v,w]=*i;\n\t\tif((x=get(u))==(y=get(v))) continue;\n\t\tfa[x]=y,++cnt,ans+=w;\n\t}\n\twrt(ans);\n\treturn;\n}\n```\n\n[$\\color{green}{\\checkmark}$](https://atcoder.jp/contests/abc065/submissions/41518663)\u3002",
        "postTime": 1684503882,
        "uid": 359113,
        "name": "elbissoPtImaerD",
        "ccfLevel": 0,
        "title": "ABC065D \u89e3\u9898\u62a5\u544a"
    },
    {
        "content": "\u690d\u6811\u8282\u5199\u6700\u5c0f\u751f\u6210\u6811\uff08\n\n\u6700\u76f4\u63a5\u60f3\u5230\u7684\u5c31\u662f $O(n^2)$ \u5b58\u56fe\u7136\u540e\u8dd1\u6700\u5c0f\u751f\u6210\u6811\u3002\n\n\u4f46\u662f\u6570\u636e\u8303\u56f4\u663e\u7136\u4f1a\u7206\u70b8\u3002\n\n\u8003\u8651\u4f18\u5316\uff0c\u5bf9\u4e8e $i,j,k$ \u6ee1\u8db3 $y_i=y_j=y_k$ \u4e14 $x_i>x_j>x_k$\uff0c\u56e0\u4e3a $x_i-x_k=(x_i-x_j)+(x_j-x_k)$\uff0c\u6240\u4ee5\u5e76\u4e0d\u9700\u8981\u52a0\u5165 $x_i-x_k$\u3002\n\n\u6709\u4e86\u4e0a\u9762\u7ed3\u8bba\uff0c\u5efa\u56fe\u65f6\u53ea\u9700\u8981\u5bf9\u6a2a\u7eb5\u5750\u6807\u5206\u522b\u6392\u5e8f\uff0c\u7136\u540e\u5728 $i$ \u548c $i+1$ \u4e4b\u95f4\u5efa\u8fb9\u5373\u53ef\u3002\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#define N 200005\n\nusing namespace std;\n\nint n,tot,ans,cnt;\nint f[N];\n\nstruct node{\n\tint u,v,w;\n}e[N];\n\nstruct node1{\n\tint x,y;\n\tint id;\n}a[N];\n\nint find(int x){\n\tif(f[x]==x) return f[x];\n\treturn f[x]=find(f[x]);\n}\n\nbool cmp(const node &x,const node &y){\n\treturn x.w<y.w;\n}\n\nbool cmp1(const node1 &a,const node1 &b){\n\treturn a.x<b.x;\n}\n\nbool cmp2(const node1 &a,const node1 &b){\n\treturn a.y<b.y;\n}\n\nvoid add(int u,int v,int w){\n\te[++tot]=(node){u,v,w};\n}\n\nvoid kru(){\n\tfor(int i=1;i<=n;i++)\n\t\tf[i]=i;\n\tsort(e+1,e+tot+1,cmp);\n\tint fx,fy;\n\tfor(int i=1;i<=tot;i++){\n\t\tfx=find(e[i].u); fy=find(e[i].v);\n\t\tif(fx==fy) continue;\n\t\tf[fy]=fx;\n\t\tans+=e[i].w;\n\t\tcnt++;\n\t\tif(cnt==n-1) break;\n\t}\n\tprintf(\"%d\",ans);\n}\n// \u6700\u5c0f\u751f\u6210\u6811\u677f\u5b50 \n\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%d%d\",&a[i].x,&a[i].y),a[i].id=i;\n\tsort(a+1,a+1+n,cmp1);\n\tfor(int i=1;i<n;i++)\n\t\tadd(a[i].id,a[i+1].id,a[i+1].x-a[i].x);\n\t// \u6839\u636e\u6a2a\u5750\u6807\u5efa\u8fb9 \n\tsort(a+1,a+1+n,cmp2);\n\tfor(int i=1;i<n;i++)\n\t\tadd(a[i].id,a[i+1].id,a[i+1].y-a[i].y);\n\t// \u6839\u636e\u7eb5\u5750\u6807\u5efa\u8fb9 \n\tkru();\n\treturn 0;\n} \n```\n",
        "postTime": 1647052176,
        "uid": 224926,
        "name": "\u8ba9\u98ce\u5ffd\u60a0\u4f60",
        "ccfLevel": 0,
        "title": "AT2643 [ARC076B] Built? \u9898\u89e3"
    },
    {
        "content": "# AT2643 [ARC076B] Built?\n\n[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT2643)\n\n***\n\n\u8fd9\u9053\u9898\u66b4\u529b $O(N^2)$ \u200b\u200b\u200b\u679a\u4e3e\u663e\u7136\u4e0d\u884c\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c**\u5728\u4e24\u4e2a $x$ \u200b\u6216 $y$ \u200b\u6700\u63a5\u8fd1\u7684\u57ce\u5e02\u4fee\u8def\u663e\u7136\u6700\u4f18**\u3002\n\n\u6240\u4ee5\u6211\u4eec\u5206\u522b\u7ed9 $x$\u200b \u200b\u548c $y$\u200b \u200b\u6392\u5e8f\uff0c\u518d\u7ed9\u6bcf\u4e2a $x$ \u200b\u200b\u6216 $y$ \u200b\u200b\u200b\u76f8\u8fd1\u7684\u57ce\u5e02\u5efa\u8fb9\uff0c\u6700\u540e\u8dd1\u4e00\u8fb9\u6700\u5c0f\u751f\u6210\u6811\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(N \\log N)$\u200b\u200b\u200b\u200b\uff0c\u53ef\u4ee5\u627f\u53d7\u3002\n\n***\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define rep1(i, j, n) for (register int i = j; i <= n; ++i)\n#define rep2(i, j, n) for (register int i = j; i >= n; --i)\n#define il inline\n#define reg register int\n#define ld long double\n#define mp make_pair\n#define ll long long\n#define LL __int128\n#define ull unsigned long long\n#define PII pair <int, int>\nusing namespace std;\ntemplate <typename T>\nil void read(T &x) {\n\tx = 0; int f = 1; char ch = getchar();\n\twhile (!isdigit(ch)) {if (ch == '-') f = -1; ch = getchar();}\n\twhile (isdigit(ch)) {x = x * 10 + ch - '0'; ch = getchar();} x *= f;\n}\nconst int MAXN = 1e5 + 5, inf = 0x3f3f3f3f;\nint n, m, fa[MAXN];\nstruct node {int x, y, i;}b[MAXN]; struct node1 {int u, v, w;}a[MAXN * 2];\nil bool cmpb1(const node &x, const node &y) {return x.x < y.x;}\nil bool cmpb2(const node &x, const node &y) {return x.y < y.y;}\nil bool cmp(const node1 &x, const node1 &y) {return x.w < y.w;}\nil int find(int x) {return x == fa[x] ? x : fa[x] = find(fa[x]);}\nil void merge(int x, int y) {fa[find(x)] = find(y);}\nil void add(int l, int r, int s) {a[++m].u = l; a[m].v = r; a[m].w = s;}\nil void kruskal() {\n\tsort(a + 1, a + 1 + m, cmp);\n\tint num = 0, ans = 0;\n\trep1(i, 1, n) fa[i] = i;\n\trep1(i, 1, m) {\n\t\tif (find(a[i].u) != find(a[i].v)) {\n\t\t\tmerge(a[i].u, a[i].v);\n\t\t\t++num; ans += a[i].w;\n\t\t}\n\t\tif (num == n) break;\n\t}\n\tprintf(\"%d\", ans);\n}\nsigned main(void) {\n\tread(n);\n\trep1(i, 1, n) read(b[i].x), read(b[i].y), b[i].i = i;\n\tsort(b + 1, b + 1 + n, cmpb1);\n\trep1(i, 1, n - 1) add(b[i].i, b[i + 1].i, b[i + 1].x - b[i].x);\n\tsort(b + 1, b + 1 + n, cmpb2);\n\trep1(i, 1, n - 1) add(b[i].i, b[i + 1].i, b[i + 1].y - b[i].y);\n\tkruskal();\n}\n```\n\n***\n\n~~\u8fd9\u9053\u9898\u633a\u6c34\uff0c\u9876\u591a\u7eff~~\n\n\n\n",
        "postTime": 1627209138,
        "uid": 377787,
        "name": "Hooch",
        "ccfLevel": 6,
        "title": "AT2643 [ARC076B] Built?"
    },
    {
        "content": "## AT_arc076_b [ABC065D] Built? \u9898\u89e3\n\n\u53cc\u500d\u7ecf\u9a8c\uff1a[P8074 [COCI2009-2010#7] SVEMIR](https://www.luogu.com.cn/problem/P8074)\n\n\u5176\u5b9e\u5c31\u662f\u5c06 $|A_x-B_x|$ \u548c $|A_y-B_y|$ \u7b97\u51fa\u6765\u6700\u5c0f\u8fb9\u6743\u548c\u5373\u53ef\u3002\n\n\u7b97 $|A_x-B_x|$ \u65f6 \u6309\u5173\u952e\u5b57 $x$ **\u4ece\u5c0f\u5230\u5927**\u6392\u5e8f\uff0c\u6b64\u65f6\u6700\u4f18\uff0c$y$ \u540c\u7406\uff0c\u5373\u6309\u5173\u952e\u5b57 $y$ **\u4ece\u5c0f\u5230\u5927**\u6392\u5e8f\u3002\u6700\u540e\u6c42\u6700\u5c0f\u8fb9\u6743\u548c\u7684\u65f6\u5019\u8dd1\u4e00\u904d\u6700\u5c0f\u751f\u6210\u6811 Kruskal\u3002\n\n### Code:\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\n\nusing namespace std;\n\nconst int MAXN = 2e6 + 300;\n\nint n, m, a[MAXN], ans, sum, k, cnt;\n\nstruct Node{\n  int x, y, z, a;\n} aa[MAXN];\n\nstruct Egde{\n  int u, v, w;\n} bb[MAXN];\n\nbool cmp(Node i, Node j) {\n  return i.x < j.x;\n}\n\nbool cmp1(Node i, Node j) {\n  return i.y < j.y;\n}\n\nbool cmp3(Egde i, Egde j) {\n  return i.w < j.w; \n}\n\nint find(int x) { // \u8def\u5f84\u538b\u7f29\u5e76\u67e5\u96c6\n  if (a[x] == x) {\n    return x;\n  }\n  return a[x] = find(a[x]);\n}\n\nsigned main() {\n\tcin >> n;\n\tfor (int i = 1; i <= n; i++) {\n\t  cin >> aa[i].x >> aa[i].y;\n\t  aa[i].a = i;\n\t  a[i] = i;\n\t}\n\tsort(aa + 1, aa + n + 1, cmp); // \u6309 x \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\n\tfor (int i = 1; i < n; i++) {\n\t  bb[++cnt].u = aa[i].a;\n\t  bb[cnt].v = aa[i + 1].a;\n\t  bb[cnt].w = aa[i + 1].x - aa[i].x;\n\t}\n\tsort(aa + 1, aa + n + 1, cmp1); // \u6309 y \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\n\tfor (int i = 1; i < n; i++) {\n\t  bb[++cnt].u = aa[i].a;\n\t  bb[cnt].v = aa[i + 1].a;\n\t  bb[cnt].w = aa[i + 1].y - aa[i].y;\n\t}\n    /*\n    \u4ee5\u4e0b\u662f Kruskal \u6a21\u677f\n    */\n  sort(bb + 1, bb + cnt + 1, cmp3);  \n  for (int i = 1; i <= cnt; i++) {\n\t  int u = find(bb[i].u);\n\t  int v = find(bb[i].v);\n\t  if (u == v) {\n\t    continue;\n\t  }\n\t  a[u] = v;\n\t  sum += bb[i].w;\n\t  ans++;\n\t  if (ans == n - 1) {\n\t    break;\n\t  }\n\t}\n\tcout << sum << endl;\n\treturn 0;\n} \n```\n",
        "postTime": 1684408889,
        "uid": 672281,
        "name": "ydq1101",
        "ccfLevel": 4,
        "title": "AT_arc076_b [ABC065D] Built? \u9898\u89e3"
    },
    {
        "content": "# \u601d\u8def\uff1a\n\u8fd9\u9053\u9898\u9996\u5148\u8003\u8651\u4e24\u79cd\u7ebf\u8def\uff1a\n\n1. \u6309 $x$ \u6392\u5e8f\u6c42\u51fa\u76f8\u90bb\u4e24\u4e2a\u70b9\u94fe\u63a5\u540e\u7684\u8fb9\u7684\u6743\u503c\n2. \u6309 $y$ \u6392\u5e8f\u6c42\u51fa\u76f8\u90bb\u4e24\u4e2a\u70b9\u94fe\u63a5\u540e\u7684\u8fb9\u7684\u6743\u503c\n\n\u7136\u540e\u518d\u6309\u6743\u503c\u6392\u4e00\u904d\u5e8f\uff0c\u8dd1\u4e00\u904d Kruskal \u5c31\u53ef\u4ee5\u4e86\u3002\n# \u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nconst int MAX = 1e5+5;\nint n,ans,f[MAX];\nstruct node1{int x,y,id;}a[MAX];\nstruct node2{int u,v,w;}b[MAX];\nint cmp(node1 x,node1 y){return x.x < y.x;}\nint cmp1(node1 x,node1 y){return x.y < y.y;}\nint cmp2(node2 x,node2 y){return x.w < y.w;}\nint find(int x){return (f[x]==x)? x:f[x]=find(f[x]);}\n//int mhd(int a,int b,int c,int d){return min(abs(a-c),abs(b-d));}\nint main(){\n\tcin>>n;\n\tfor(int i = 1; i<=n; i++) f[i] = i;\n\tfor(int i = 1; i<=n; i++) cin>>a[i].x>>a[i].y,a[i].id = i;\n   int cnt = 0;\n\tsort(a+1,a+n+1,cmp);//\u6309x\u6392\u5e8f\n\tfor(int i = 2; i<=n; i++){\n\t\tb[++cnt].u = a[i-1].id;//\u94fe\u63a5\u524d\u540e\u4e24\u4e2a\u70b9\n\t\tb[cnt].v = a[i].id;\n\t\tb[cnt].w = a[i].x - a[i-1].x;//\u6c42\u51fa\u6743\u503c\n\t}\n\tsort(a+1,a+n+1,cmp1);//\u6309y\u6392\u5e8f\n\tfor(int i = 2; i<=n; i++){\n\t\tb[++cnt].u = a[i-1].id;//\u94fe\u63a5\u524d\u540e\u4e24\u4e2a\u70b9\n\t\tb[cnt].v = a[i].id;\n\t\tb[cnt].w = a[i].y - a[i-1].y;//\u6c42\u51fa\u6743\u503c\n\t}\n\tsort(b+1,b+cnt+1,cmp2);//\u6309\u6743\u503c\u6392\u5e8f\n\tfor(int i = 1; i<=cnt; i++){//Kruskal\u7b97\u6cd5\n\t\tint k = find(b[i].u);\n\t\tint k2 = find(b[i].v);\n\t\tif(k == k2) continue;\n\t\tf[k] = k2;\n\t\tans+=b[i].w;\n\t}\n\tcout<<ans;//\u8f93\u51fa\n\treturn 0;\n}\n\n\n```\n",
        "postTime": 1683961437,
        "uid": 754504,
        "name": "watcher_YBH",
        "ccfLevel": 0,
        "title": "AT_arc076_b [ABC065D] Built? \u9898\u89e3"
    },
    {
        "content": "# \u5206\u6790\uff1a\n\u8fd9\u9053\u9898\u5f88\u5bb9\u6613\u5c31\u80fd\u60f3\u5230\u5efa $n^2$ \u6761\u8fb9\uff0c\u518d\u8dd1\u4e00\u904d\u6700\u5c0f\u751f\u6210\u6811\u3002\u4f46\u662f\u8fd9\u9053\u9898 $n$ \u7684\u8303\u56f4\u662f $10^5$ \uff0c\u6240\u4ee5\u5efa $n^2$ \u6761\u8fb9\u662f\u4e0d\u884c\u7684\u3002\n# \u601d\u8def\uff1a\n![](https://cdn.luogu.com.cn/upload/image_hosting/o3rdbf4b.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n\u53ef\u4ee5\u89c2\u5bdf\u4e00\u4e0b\u8fd9\u5f20\u56fe\u7247\uff0c\u5047\u5982\u6211\u8981\u4ece $1$ \u5230 $3$\uff0c\u4e0e\u5176\u5148\u5230 $2$ \u518d\u5230 $3$\uff0c\u4e0d\u5982\u76f4\u63a5\u4ece $1$ \u5230 $3$\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u8fb9\u6309 $x$ \u548c $y$ \u5750\u6807\u62cd\u4e00\u904d\u5e8f\uff0c\u518d\u5efa\u8fb9\uff0c\u4e4b\u540e\u8dd1\u4e00\u904d\u6700\u5c0f\u751f\u6210\u6811\u5c31\u884c\u4e86\u3002\n# Code:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct node\n{\n   \tint x,y,id; \n}b[114514];\nstruct edge\n{\n   \tint x,y,val;\n}a[114514];\nbool cmp(node x,node y)\n{\n   \treturn x.x<y.x;                   //\u6309x\u5750\u6807\u6392\u5e8f \n}\nbool cmp2(node x,node y)              //\u6309y\u5750\u6807\u6392\u5e8f \n{\n   \treturn x.y<y.y;\n}\nbool cmp1(edge x,edge y)\t\t\t\t//\u6309\u6743\u503c\u6392\u5e8f \n{\n   \treturn x.val<y.val;\n}\nint n,ans,f[114514],cnt;\nint find(int x)\n   {\n   \tif(f[x]==x)\n   \t\treturn x;\n   \treturn f[x]=find(f[x]);\n}\nint main()\n{\n   \tcin>>n;\n   \tfor(int i=1;i<=n;i++)\n    \tcin>>b[i].x>>b[i].y,f[i]=i,b[i].id=i;\n   \tsort(b+1,b+n+1,cmp);\n   \tfor(int i=2;i<=n;i++)               //\u6309x\u5efa\u8fb9 \n   \t{\n    \ta[++cnt].val=abs(b[i].x-b[i-1].x);\n    \ta[cnt].y=b[i-1].id;\n   \t\ta[cnt].x=b[i].id;\n   \t}\n   \tsort(b+1,b+n+1,cmp2);\n   \tfor(int i=2;i<=n;i++)            //\u6309y\u5efa\u8fb9 \n   \t{\n   \t\ta[++cnt].val=abs(b[i].y-b[i-1].y);\n   \t\ta[cnt].y=b[i-1].id;\n   \t\ta[cnt].x=b[i].id;\n   \t}\n   \tsort(a+1,a+cnt+1,cmp1);\n   \tfor(int i=1;i<=cnt;i++)         //\u6700\u5c0f\u751f\u6210\u6811 \n   \t{\n   \t\tint x=find(a[i].x);\n   \t\tint y=find(a[i].y);\n   \t\tif(x==y)\n   \t\t\tcontinue;\n    \tf[x]=y;\n   \t\tans+=a[i].val;\n   \t}\n   \tcout<<ans;\n}\n```\n",
        "postTime": 1683957593,
        "uid": 754502,
        "name": "brother_jie",
        "ccfLevel": 0,
        "title": "AT_arc076_b [ABC065D] Built? \u9898\u89e3"
    },
    {
        "content": "\u65e0\u8111\u9009\u624b\u53ea\u4f1a\u65e0\u8111\u505a\u6cd5\u3002\n\n\u770b\u5230\u5b8c\u5168\u56fe\u6700\u5c0f\u751f\u6210\u6811\uff0c\u76f4\u63a5\u4e0a\u4e00\u4e2a Boruvka\u3002\u6839\u636e Boruvka \u7b97\u6cd5\uff0c\u5728\u8fd9\u9053\u9898\u91cc\uff0c\u6211\u4eec\u53ea\u8981\u5bf9\u4e8e\u4e00\u4e2a\u8fde\u901a\u5757\uff0c\u627e\u5230\u4e00\u4e2a\u8fde\u901a\u5757\u5916\u7684\u70b9\uff0c\u5230\u4e00\u4e2a\u8fde\u901a\u5757\u5185\u7684\u70b9\u7684\u4ee3\u4ef7\u6700\u5c0f\u3002\n\n\u505a\u6cd5\u662f\u904d\u5386\u8fd9\u4e2a\u8fde\u901a\u5757\uff0c\u5148\u5728 set \u91cc\u5220\u9664\u8fd9\u4e2a\u8fde\u901a\u5757\uff0c\u63a5\u4e0b\u6765\u5bf9\u4e8e\u6bcf\u4e2a\u70b9\uff0c\u627e\u5230\u8ddd\u79bb\u5b83\u6a2a\u5750\u6807\u6700\u8fd1\u7684\u70b9\uff0c\u7eb5\u5750\u6807\u540c\u7406\u3002\u8fd9\u6837\u7684\u590d\u6742\u5ea6\u662f $O(n\\log ^2 n)$\uff0c\u53ef\u4ee5\u901a\u8fc7\u3002\n\n```cpp\n// Author: DPprince\n// Problem: AT2643 [ARC076B] Built?\n// Contest: Luogu\n// URL: https://www.luogu.com.cn/problem/AT2643\n// Memory Limit: 250 MB\n// Time Limit: 2000 ms\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n#include <bits/stdc++.h>\nusing namespace std;\nconst int inf=2e9;\nconst int N=1e5+5;\nstruct point\n{\n\tint id,x,y,tp;\n\tbool operator < (const point &o) const\n\t{\n\t\tif (tp==0) \n\t\t{\n\t\t\tif (x!=o.x) return x<o.x;\n\t\t\treturn id<o.id;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (y!=o.y) return y<o.y;\n\t\t\treturn id<o.id;\n\t\t}\n\t}\n};\nmultiset<point>s,t;\nint n,a[N],b[N],ans;\nint vis[N],dis[N],fa[N];\nvector<int>c[N];\ninline int get_dis(int x,int y)\n{\n\treturn min(abs(a[x]-a[y]),abs(b[x]-b[y]));\n}\nint find(int x)\n{\n\tif (x==fa[x]) return x;\n\treturn fa[x]=find(fa[x]);\n}\nbool merge(int x,int y)\n{\n\tx=find(x),y=find(y);\n\tif (x==y) return 0;\n\tfa[x]=y;\n\treturn 1;\n}\nvoid erase(int x)\n{\n\ts.erase(s.find({x,a[x],b[x],0}));\n\tt.erase(t.find({x,a[x],b[x],1}));\n}\nvoid add(int x)\n{\n\ts.insert({x,a[x],b[x],0});\n\tt.insert({x,a[x],b[x],1});\n}\nvoid try_update(int x,int y,int z)\n{\n\tint d=get_dis(x,z);\n\tif (d<dis[y]) vis[y]=find(z),dis[y]=d;\n}\nvoid update(int x,int y)\n{\n\tauto u=s.lower_bound({x,a[x],b[x],0});\n\tif (u!=s.end()) try_update(x,y,u->id);\n\tif (u!=s.begin())\n\t{\n\t\t--u;\n\t\ttry_update(x,y,u->id);\n\t}\n\tauto v=t.lower_bound({x,a[x],b[x],1});\n\tif (v!=t.end()) try_update(x,y,v->id);\n\tif (v!=t.begin())\n\t{\n\t\t--v;\n\t\ttry_update(x,y,v->id);\n\t}\n}\nint main()\n{\n\tios_base::sync_with_stdio(false);\n\tcin.tie(nullptr);\n\tcin >> n;\n\tfor (int i=1;i<=n;i++)\n\t{\n\t\tcin >> a[i] >> b[i];\n\t\ts.insert({i,a[i],b[i],0});\n\t\tt.insert({i,a[i],b[i],1});\n\t}\n\tfor (int i=1;i<=n;i++) c[i].push_back(i);\n\tint tot=0;\n\tfor (int i=1;i<=n;i++) fa[i]=i;\n\twhile (1)\n\t{\n\t\tbool flag=1;\n\t\tfor (int i=1;i<=n;i++)\n\t\t{\n\t\t\tif (find(i)!=find(1)) flag=0;\n\t\t}\n\t\tif (flag) break;\n\t\tfor (int i=1;i<=n;i++) c[i].clear(),dis[i]=inf,vis[i]=0;\n\t\tfor (int i=1;i<=n;i++) c[find(i)].push_back(i);\n\t\tfor (int i=1;i<=n;i++)\n\t\t{\n\t\t\tfor (int j:c[i]) erase(j);\n\t\t\tfor (int j:c[i]) update(j,i);\n\t\t\tfor (int j:c[i]) add(j);\n\t\t}\n\t\tfor (int i=1;i<=n;i++)\n\t\t{\n\t\t\tif (vis[i]!=0)\n\t\t\t{\n\t\t\t\tans+=merge(i,vis[i])*dis[i];\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans;\n\treturn 0;\n}\n\n```\n",
        "postTime": 1664973965,
        "uid": 336102,
        "name": "DP\u738b\u5b50",
        "ccfLevel": 0,
        "title": "AT2643 [ARC076B] Built? \u9898\u89e3"
    },
    {
        "content": "# \u6700\u5c0f\u5207\u6bd4\u96ea\u592b\u8ddd\u79bb\u751f\u6210\u6811\n\n~~At \u7684\u9898\u592a\u667a\u6167\u8fa3\uff01\uff01~~\n\n\u633a\u597d\u7528\u7684\u4e00\u4e2a\u79d1\u6280\uff0c\u56e0\u4e3a\u5207\u6bd4\u96ea\u592b\u548c\u66fc\u54c8\u987f\u53ef\u4ee5\u4e92\u5316\uff0c\u6240\u4ee5\u76f8\u5f53\u4e8e\u80fd\u89e3\u51b3\u6700\u5c0f\u66fc\u54c8\u987f\u8ddd\u79bb\u751f\u6210\u6811\uff08\u5927\u6982\n\n\u767e\u5ea6\u641c\u4e86\u4e00\u4e0b\u6700\u5c0f\u66fc\u54c8\u987f\u8ddd\u79bb\u751f\u6210\u6811\uff0c\u770b\u8d77\u6765\u6bd4\u6700\u5c0f\u5207\u6bd4\u96ea\u592b\u8ddd\u79bb\u751f\u6210\u6811\u590d\u6742\u3002\n\n\u7ed9\u51fa\u70b9 $(x_1, y_1)$ \u548c $(x_2,y_2)$ \u7684\u5207\u6bd4\u96ea\u592b\u8ddd\u79bb\u5b9a\u4e49\u5f0f\uff1a\n$$\n\\min(| x_1-x_2|,| y_1-y_2|)\n$$\n**\u6700\u4e3b\u8981\u7684\u601d\u60f3**\uff1a\u5207\u6bd4\u96ea\u592b\u8ddd\u79bb\u7684\u7279\u70b9\u5c31\u662f $x$ \u548c $y$ \u662f\u5206\u88c2\u5f00\u7684\u3002\u90a3\u4e48\u5bf9\u4e8e\u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u8fb9\uff0c\u6ca1\u5fc5\u8981\u53bb\u7b97 $\\min$\uff0c\u53ef\u4ee5\u8fde\u63a5\u4e00\u6761\u957f\u5ea6\u4e3a $|x_1-x_2|$ \u548c\u4e00\u6761\u957f\u5ea6\u4e3a $|y_1-y_2|$ \u7684\u8fb9\uff0c\u53d6 $\\min$ \u76f4\u63a5\u4ea4\u7ed9\u6700\u5c0f\u751f\u6210\u6811\u505a\u5373\u53ef\uff08\u663e\u7136\u6700\u5c0f\u751f\u6210\u6811\u4e0d\u4f1a\u9009\u62e9\u5927\u7684\u90a3\u6761\u8fb9\uff09\u3002\u663e\u7136\u6b64\u65f6\u53ef\u4ee5\u5355\u72ec\u5bf9 $x$ \u548c $y$ \u5206\u522b\u8003\u8651\uff0c\u6bd4\u539f\u6765\u7684 $\\min$ \u9ad8\u660e\u5230\u4e0d\u77e5\u9053\u54ea\u91cc\u53bb\u4e86\u3002\n\n[ARC076B\uff08\u6a21\u677f\uff09](https://atcoder.jp/contests/arc076/tasks/arc076_b)\uff1a\u7ed9\u5b9a $n$ \u4e2a\u70b9\uff0c\u6c42\u6700\u5c0f\u5207\u6bd4\u96ea\u592b\u8ddd\u79bb\u751f\u6210\u6811\u3002\n\n\u8003\u8651\u5bf9 $n$ \u4e2a\u70b9\u5148\u540e\u6309\u7167 $x$ \u548c $y$ \u6392\u5e8f\uff0c\u6bcf\u6b21\u6392\u5e8f\u540e\u8fde\u63a5\u76f8\u90bb\u7684\u4e24\u4e2a\u70b9\uff08\u8be6\u89c1\u4ee3\u7801\uff09\u3002\u7136\u540e\u76f4\u63a5\u8dd1\u4f60\u559c\u6b22\u7684\u6700\u5c0f\u751f\u6210\u6811\u7b97\u6cd5\u3002\n\n\u6b64\u5904\u7528\u7684\u662f Kruskal\u3002\n\n```cpp\n// Problem: D - Built?\n// From: AtCoder - AtCoder Regular Contest 076\n// URL: https://atcoder.jp/contests/arc076/tasks/arc076_b\n// Time: 2022-06-03 19:50\n// Author: lingfunny\n\n#include <bits/stdc++.h>\n#define LL long long\nusing namespace std;\nconst int mxn = 1e5+10;\n\nint n, tot, fa[mxn];\nLL ans;\n\nstruct node { int x, y, id; } nd[mxn];\nstruct edge { int u, v, w; } e[mxn*2];\n\nint find(int x) { return fa[x] < 0 ? x : fa[x] = find(fa[x]); }\ninline void merge(int x, int y) {\n\tint rx = find(x), ry = find(y);\n\tif(fa[rx] > fa[ry]) swap(rx, ry);\n\tfa[rx] += fa[ry]; fa[ry] = rx;\n}\n\nsigned main() {\n\tscanf(\"%d\", &n);\n\tfor(int i = 1; i <= n; ++i) scanf(\"%d%d\", &nd[i].x, &nd[i].y), nd[i].id = i, fa[i] = -1;\n\tsort(nd+1, nd+n+1, [](node a, node b) { return a.x < b.x; });\n\tfor(int i = 1; i < n; ++i) e[++tot] = {nd[i].id, nd[i+1].id, nd[i+1].x-nd[i].x};\n\tsort(nd+1, nd+n+1, [](node a, node b) { return a.y < b.y; });\n\tfor(int i = 1; i < n; ++i) e[++tot] = {nd[i].id, nd[i+1].id, nd[i+1].y-nd[i].y};\n\tsort(e+1, e+tot+1, [](edge a, edge b) { return a.w < b.w; });\n\tfor(int i = 1; i <= tot && n > 1; ++i) {\n\t\tauto [u, v, w] = e[i];\n\t\tif(find(u) == find(v)) continue;\n\t\telse merge(u, v), --n, ans += w;\n\t}\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n}\n```\n\n~~\u8fd8\u6709\uff0c\u6211\u613f\u79f0\u4e4b\u4e3a **MCDST**\uff08**M**inimum **C**hebyshev **D**istance **S**panning **T**ree\uff09 \u3002~~\n\n",
        "postTime": 1654258292,
        "uid": 280800,
        "name": "lingfunny",
        "ccfLevel": 7,
        "title": "\u6700\u5c0f\u5207\u6bd4\u96ea\u592b\u8ddd\u79bb\u751f\u6210\u6811"
    },
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT2643)\n\n\u840c\u65b0\u7b2c\u4e00\u7bc7\u9898\u89e3\uff0c\u6c42\u8d5e/kel\n\n## $\\texttt{Description}$\n\n\u6709 $n$ \u4e2a\u57ce\u5e02\uff0c\u8981\u6c42\u5efa\u9020\u9053\u8def\uff0c\u4f7f\u57ce\u5e02\u95f4\u4e92\u76f8\u8fde\u901a\u3002\u5efa\u9020\u9053\u8def\u7684\u8d39\u7528\u4e3a\u4e24\u4e2a\u57ce\u5e02\u6a2a\u5750\u6807\u4e4b\u95f4\u7684\u8ddd\u79bb\u4e0e\u7eb5\u5750\u6807\u4e4b\u95f4\u7684\u8ddd\u79bb\u7684\u6700\u5c0f\u503c\n\n## $\\texttt{Solution}$\n\n~~\u4e00\u773c\u6700\u5c0f\u751f\u6210\u6811~~\n\n\u8003\u8651\u5982\u4f55\u5efa\u8fb9\uff1a\u8d2a\u5fc3\uff0c\u56e0\u4e3a\u4e24\u4e2a\u57ce\u5e02\u8d39\u7528\u53ea\u4e0e\u6a2a\u7eb5\u5750\u6807\u8ddd\u79bb\u5927\u5c0f\u6709\u5173\u3002\u6240\u4ee5\u5206\u522b\u5c06\u6a2a\u7eb5\u5750\u6807\u6392\u5e8f\uff0c\u5c06\u76f8\u90bb\u7684\u5750\u6807\u8fde\u8fb9\u3002\u8dd1 $\\text{Kruskal}$\uff0c\u672c\u9898\u5b8c\u3002\n\n\n## $\\texttt{Code}$\n```cpp\n#include<iostream>\n#include<algorithm>\n#include<cstring>\n#include<bits/stdc++.h>\nusing namespace std;\nconst long long  N=1e7; \nint f[N],n,m,cnt,cntt;\nlong long ans;\nint x[N],y[N];\nint find(int a)\n{\n\tif(a==f[a]) return a;\n\telse return f[a]=find(f[a]);\n}\nstruct edge{ \n\tlong long dis,u,v;\n}e[N];\n\nstruct edge1{ \n\tlong long x,y,num;\n}e1[N];\nbool cmp1(edge1 a,edge1 b)\n{\n\treturn a.x<b.x;\n}\nbool cmp2(edge1 a,edge1 b)\n{\n\treturn a.y<b.y;\n}\nbool cmp(edge a,edge b)\n{\n\treturn a.dis<b.dis;\n}\nint main()\n{\n\t\tmemset(e,0,sizeof(e));\n\t\tcnt=0;ans=0,cntt=0;\n\t\tcin>>n;\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tcin>>e1[i].x>>e1[i].y;\n\t\t\te1[i].num=i;\n\t\t}\n\t\tsort(e1+1,e1+n+1,cmp1);\n\t\tfor(int i=2;i<=n;i++)\n\t\t{\n\t\t\tcnt++;\n\t\t\te[cnt].dis=e1[i].x-e1[i-1].x;\n\t\t\te[cnt].u=e1[i-1].num,e[cnt].v=e1[i].num;\n\t\t}\n\t\tsort(e1+1,e1+n+1,cmp2);\n\t\tfor(int i=2;i<=n;i++)\n\t\t{\n\t\t\tcnt++;\n\t\t\te[cnt].dis=e1[i].y-e1[i-1].y;\n\t\t\te[cnt].u=e1[i-1].num,e[cnt].v=e1[i].num;\n\t\t}\n\t\tsort(e+1,e+cnt+1,cmp);\n\t\tfor(int i=1;i<=cnt;i++)\n\t\t{\n\t\t\tf[i]=i;\n\t\t}\n\t\tfor(int i=1;i<=cnt;i++)\n\t\t{\n\t\t\tint f1=find(e[i].u);\n\t\t\tint f2=find(e[i].v);\n\t\t\tif(f1!=f2){\n\t\t\tf[f1]=f2;\n\t\t\tans+=e[i].dis;\n\t\t\tcntt++;\n\t\t\t}\n\t\t\tif(cntt==n-1)\n\t\t\t{\n\t\t\t\tcout<<ans;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\treturn 0;\n}\n```\n~~\u8fd9\u9898\u633a\u6c34\u7684~~",
        "postTime": 1650417751,
        "uid": 363980,
        "name": "yszs",
        "ccfLevel": 6,
        "title": "\u9898\u89e3\u3010AT2643 [ARC076B] Built?\u3011"
    },
    {
        "content": "\u8fd9\u9898\u662f\u4e00\u4e2a\u5de7\u5999\u7684\u56fe\u8bba\u3002\n\n---\n\n\u5148\u8bb2\u8bb2\u6211\u6700\u5f00\u59cb\u7684\u66b4\u529b\u601d\u8def\uff0c\u5bf9\u4e8e\u70b9 $i$ \u548c\u70b9 $j$\uff0c\u6211\u4eec\u5728\u4e24\u70b9\u4e4b\u95f4\u5efa\u4e00\u6761\u957f\u5ea6\u4e3a $\\min(|x_i-x_j|,|y_i-y_j|)$ \u7684\u8fb9\u3002\n\n\u4e00\u5171\u6709 $n^2$ \u6761\u8fb9\uff0c\u7528 Prim \u6c42\u6700\u77ed\u8def\uff0c\u6240\u4ee5\u7a7a\u95f4\u590d\u6742\u5ea6\u662f $O(n^2)$\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n^2)$\uff0c\u5bf9\u4e8e\u672c\u9898 $n \\leq 10^5$ \u7684\u6570\u636e\u6765\u8bf4\uff0c~~\u5361\u5361\u5e38\u5c31\u8fc7\u53bb\u4e86~~ \u662f\u4e0d\u53ef\u80fd\u8fc7\u7684\u3002\n\n---\n\n\u6b63\u89e3\u601d\u8def\u662f\uff0c\u5bf9\u4e8e\u70b9 $i$ \u548c\u70b9 $j$\uff0c\u6211\u4eec\u6784\u9020\u4e24\u6761\u8fb9\uff0c\u5206\u522b\u662f $|x_i-x_j|$ \u548c $|y_i-y_j|$\u3002\n\n\u5bf9\u4e8e\u70b9 $i$\uff0c$j$\uff0c$k$\uff0c\u5982\u679c\u5b58\u5728 $x_i<x_j<x_k$\uff0c\u56e0\u4e3a $(x_j-x_i)+(x_k-x_j)=x_k-x_i$\uff0c\u6240\u4ee5 $i,k$ \u4e4b\u95f4\u7684\u4ee3\u4ef7\u4e3a $x_k-x_i$ \u7684\u8fb9\u4e0d\u4f1a\u51fa\u73b0\u5728\u6700\u5c0f\u751f\u6210\u6811\u4e2d\u3002\n\n\u56e0\u6b64\uff0c\u6211\u4eec\u53ea\u8981\u5c06\u6a2a\u7eb5\u5750\u6807\u6392\u4e2a\u5e8f\uff0c\u7136\u540e\u5728\u76f8\u90bb\u4e24\u4e2a\u6570\u4e4b\u95f4\u5efa\u8fb9\uff0c\u7528 Kruskal \u8dd1\u6700\u5c0f\u751f\u6210\u6811\u5c31\u597d\u4e86\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define rint register long long\n#define int long long\nusing namespace std;\ninline int read(){\n    int s=0,f=1;char c=getchar();\n    while(c<'0'||c>'9'){if(c=='-')f=0;c=getchar();}\n    while(c>='0'&&c<='9')s=(s<<1)+(s<<3)+c-48,c=getchar();\n    return f?s:-s;\n}\nstruct hhd{\n    int x,id,type;\n    friend bool operator < (hhd a,hhd b){\n        return a.x<b.x;\n    }\n}a[100010],b[100010],c[200010];\nint n,m,num,ans,cnt,fa[100010];\nint get_fa(int x){\n    return x==fa[x]?x:fa[x]=get_fa(fa[x]);\n}\nvoid add_a(int p){\n    c[++num].x=a[p].x-a[p-1].x;\n    c[num].id=p-1; c[num].type=1;\n}\nvoid add_b(int p){\n    c[++num].x=b[p].x-b[p-1].x;\n    c[num].id=p-1; c[num].type=2;\n}\nvoid merge_a(int p){\n    int id=c[p].id;\n    int fa_x=get_fa(a[id].id),fa_y=get_fa(a[id+1].id);\n    if(fa_x==fa_y) return;\n    fa[fa_x]=fa_y; ans+=c[p].x;\n    ++cnt;\n}\nvoid merge_b(int p){\n    int id=c[p].id;\n    int fa_x=get_fa(b[id].id),fa_y=get_fa(b[id+1].id);\n    if(fa_x==fa_y) return;\n    fa[fa_x]=fa_y; ans+=c[p].x;\n    ++cnt;\n}\nsigned main(){\n    n=read();\n    for(rint i=1;i<=n;++i){\n        a[i].x=read(); b[i].x=read();\n        a[i].id=b[i].id=i;\n    }\n    sort(a+1,a+n+1);\n    sort(b+1,b+n+1);\n    for(rint i=2;i<=n;++i) add_a(i),add_b(i);\n    sort(c+1,c+num+1);\n    for(rint i=1;i<=n;++i) fa[i]=i;\n    for(rint i=1;i<=num;++i){\n        if(c[i].type==1) merge_a(i);\n        else merge_b(i);\n        if(cnt==n-1)break;\n    }\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n```\n\n\u7801\u98ce\u5f88\u4e11\uff0c\u89c1\u8c05![QVJIZ6DSFAY9Y0PP@Q_2_8R.gif](https://i.loli.net/2020/04/05/2oPIfqNYSTHRBVk.gif)",
        "postTime": 1586332036,
        "uid": 187259,
        "name": "v\u679c\u5b9dv",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 AT2643 \u3010[ARC076B] Built?\u3011"
    },
    {
        "content": "## \u601d\u8def\n\u66b4\u529b\u7684\u8bdd\u5c31$n^2$\u5efa\u8fb9\uff0c\u7136\u540e\u8dd1\u4e00\u904d\u6700\u5c0f\u751f\u6210\u6811  \n\u601d\u8003\u600e\u4e48\u4f18\u5316\uff0c\u6709\u4e00\u4e2a\u5f88\u663e\u7136\u7684\u6027\u8d28\uff0c\u7b54\u6848\u4e00\u5b9a\u662f\u5728\u6a2a\u5750\u6807\u76f8\u90bb\u7684\u70b9\u4e4b\u95f4\u6216\u8005\u7eb5\u5750\u6807\u76f8\u90bb\u7684\u70b9\u4e4b\u95f4\u8fde\u8fb9\uff0c\u6ca1\u6709\u6bd4\u8fd9\u79cd\u65b9\u6cd5\u66f4\u4f18\u7684\u8fde\u8fb9\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u5982\u679c$x_a < x_b < x_c$\uff0c\u90a3\u4e48\u5bf9\u4e8e\u6a2a\u5750\u6807\u800c\u8a00\u8fd9\u4e2ab\u70b9\u4e0d\u53ef\u80fd\u4f5c\u51fa\u8d21\u732e\uff0c\u7eb5\u5750\u6807\u540c\u7406\uff0c\u6240\u4ee5\u6211\u4eec\u5c06\u70b9\u5206\u522b\u6309\u6a2a\u7eb5\u5750\u6807\u6392\u5e8f\uff0c\u9884\u5904\u7406\u51fa\u6765\u6bcf\u6761\u8fb9\uff0c\u7136\u540e\u8dd1\u4e00\u6b21kruskal\u6700\u5c0f\u751f\u6210\u6811\u5c31\u597d\u4e86  \n#### \u4ee3\u7801\u5b9e\u73b0\n```c++\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <iostream>\nusing namespace std;\nconst int maxn = 1e5 + 50;\ninline int read () {\n\tint x = 0, f = 1; char ch = getchar();\n\tfor (;!isdigit(ch); ch = getchar()) if (ch == '-') f = -1;\n\tfor (; isdigit(ch); ch = getchar()) x = x * 10 + ch - '0';\n\treturn x * f;\n}\nint n, fa[maxn], tot;\nstruct Node { int id, x, y; } node[maxn];\ninline bool cmp1 (Node A, Node B) { return A.x < B.x; }\ninline bool cmp2 (Node A, Node B) { return A.y < B.y; }\ninline int find_root (int a) { return fa[a] == a ? a : fa[a] = find_root(fa[a]); }\ninline void merge (int a, int b) { fa[find_root(a)] = find_root(b); }\nstruct Edge { int from, to, val; } edge[maxn << 1];\ninline bool cmp3 (Edge A, Edge B) { return A.val < B.val; }\nint main () {\n\tn = read();\n\tfor (register int i = 1; i <= n; i++) fa[i] = i;\n\tfor (register int i = 1; i <= n; i++) node[i].id = i, node[i].x = read(), node[i].y = read();\n\tsort (node + 1, node + 1 + n, cmp1);\n\tfor (register int i = 1; i < n; i++) {\n\t\tedge[++tot].from = node[i].id, edge[tot].to = node[i + 1].id;\n\t\tedge[tot].val = min (abs(node[i].x - node[i + 1].x), abs (node[i].y - node[i + 1].y));\n\t}\n\tsort (node + 1, node + 1 + n, cmp2);\n\tfor (register int i = 1; i < n; i++) {\n\t\tedge[++tot].from = node[i].id, edge[tot].to = node[i + 1].id;\n\t\tedge[tot].val = min (abs(node[i].x - node[i + 1].x), abs (node[i].y - node[i + 1].y));\n\t}\n\tsort (edge + 1, edge + 1 + tot, cmp3);\n\tint mtot = 0;\n\tlong long ans = 0;\n\tfor (register int i = 1; i <= tot; i++) {\n\t\tif (mtot == n - 1) break;\n\t\tint x = edge[i].from, y = edge[i].to;\n\t\tif (find_root(x) == find_root(y)) continue;\n\t\tmtot++;\n\t\tmerge (x, y);\n\t\tans += edge[i].val;\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n\n```",
        "postTime": 1606470463,
        "uid": 359685,
        "name": "Blanc\u0430",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 AT2643 \u3010[ARC076B] Built?\u3011"
    }
]