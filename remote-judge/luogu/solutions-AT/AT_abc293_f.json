[
    {
        "content": "\u5bf9\u4e8e\u627e\u51fa\u6ee1\u8db3\u8981\u6c42\u7684\u8fdb\u5236 $b$\uff0c\u53ef\u4ee5\u5f88\u5feb\u60f3\u5230\u4e24\u79cd\u6c42\u6cd5\uff1a\n\n1. \u679a\u4e3e $b$ \u5e76\u5c06 $n$ \u66b4\u529b\u5206\u89e3\u4e3a $b$ \u8fdb\u5236\u3002\n2. \u679a\u4e3e $b$ \u8fdb\u5236\u4e0b\u7684\u6570\uff0c\u5728\u6bcf\u4e00\u4f4d\u4e0a\u586b\u4e0a $0$ \u6216 $1$\uff0c\u518d\u7528\u4e8c\u5206\u6cd5\u6c42\u51fa $b$\u3002\n\n\u7b2c\u4e00\u79cd\u505a\u6cd5\u5728 $b$ \u8f83\u5c0f\u65f6\u53ef\u4ee5\u88ab\u63a5\u53d7\uff0c\u540c\u65f6\u7b2c\u4e8c\u79cd\u505a\u6cd5\u5728 $\\log_bn$ \u8f83\u5c0f\u65f6\u53ef\u4ee5\u88ab\u63a5\u53d7\u3002\u6240\u4ee5\u8003\u8651\u628a\u4e24\u79cd\u505a\u6cd5\u7f1d\u5728\u4e00\u8d77\uff0c\u5c06 $b$ \u679a\u4e3e\u81f3 $n^{\\frac{1}{4}}$\uff0c\u7136\u540e\u5c06\u5176\u6362\u7b97\u4e3a $b$ \u8fdb\u5236\u5e76\u68c0\u67e5\u5408\u6cd5\u6027\uff0c\u5269\u4f59\u5408\u6cd5\u7684 $b$ \u5728 $n$ \u6362\u7b97\u5b8c\u8fdb\u5236\u540e\uff0c\u4e00\u5b9a\u5c0f\u4e8e\u7b49\u4e8e\u56db\u4f4d\uff0c\u90a3\u4e48\u76f4\u63a5\u679a\u4e3e\u5e76\u4e8c\u5206\u6c42\u89e3\u3002\n\n\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e86 map \u5224\u65ad\u6c42\u51fa\u7684\u89e3\u662f\u5426\u91cd\u590d\u3002\u9700\u8981\u6ce8\u610f\u7684\u4e00\u4e2a\u7ec6\u8282\u662f\u4e58\u6cd5\u6ea2\u51fa\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u5f53\u6700\u9ad8\u4f4d\u4e3a $1$ \u65f6\uff0c\u4e8c\u5206\u4e0a\u754c\u5e94\u8be5\u4e3a $10^6$\u3002\u6700\u9ad8\u4f4d\u4e3a $0$ \u4e14\u6b21\u9ad8\u4f4d\u4e3a $1$ \u65f6\uff0c\u4e8c\u5206\u4e0a\u754c\u5e94\u4e3a $10^9$\u3002\n\n[\u4ee3\u7801](https://atcoder.jp/contests/abc293/submissions/39627388)",
        "postTime": 1678772639,
        "uid": 286795,
        "name": "falling_cloud",
        "ccfLevel": 6,
        "title": "[ABC293F] Zero or One \u9898\u89e3"
    },
    {
        "content": "\u6211\u4eec\u53ef\u4ee5\u66b4\u529b\u68c0\u67e5\u8fdb\u5236\u6570\u4e0d\u8d85\u8fc7 $B$ \u7684\u662f\u5426\u7b26\u5408\u8981\u6c42\uff1b\u7136\u540e\u5bf9\u4e8e\u8fdb\u5236\u6570\u5927\u4e8e $B$ \u7684\uff0c\u4f4d\u6570\u4e0d\u8d85\u8fc7 $\\log_BN$\uff0c\u53ef\u4ee5\u66b4\u529b\u679a\u4e3e\u6bcf\u4e00\u4f4d\u7684\u503c\u7136\u540e\u4e8c\u5206\u8fdb\u5236\u6570\u68c0\u67e5\u3002\n\n\u4ee3\u7801\u4e2d $B=10^3$\u3002\n\n```cpp\n// Problem: F - Zero or One\n// Contest: AtCoder - AtCoder Beginner Contest 293\n// URL: https://atcoder.jp/contests/abc293/tasks/abc293_f\n// Memory Limit: 1024 MB\n// Time Limit: 3000 ms\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n//By: OIer rui_er\n#include <bits/stdc++.h>\n#define rep(x,y,z) for(ll x=(y);x<=(z);x++)\n#define per(x,y,z) for(ll x=(y);x>=(z);x--)\n#define debug(format...) fprintf(stderr, format)\n#define fileIO(s) do{freopen(s\".in\",\"r\",stdin);freopen(s\".out\",\"w\",stdout);}while(false)\n#define likely(exp) __builtin_expect(!!(exp), 1)\n#define unlikely(exp) __builtin_expect(!!(exp), 0)\nusing namespace std;\ntypedef long long ll;\n\nmt19937 rnd(std::chrono::duration_cast<std::chrono::nanoseconds>(std::chrono::system_clock::now().time_since_epoch()).count());\nll randint(ll L, ll R) {\n\tuniform_int_distribution<ll> dist(L, R);\n\treturn dist(rnd);\n}\n\ntemplate<typename T> void chkmin(T& x, T y) {if(x > y) x = y;}\ntemplate<typename T> void chkmax(T& x, T y) {if(x < y) x = y;}\n\nll T, n;\n\nll cmp(ll n, ll S, ll B) {\n\t__int128 val = 0;\n\trep(i, 0, 5) {\n\t\tval = val * B + ((S >> i) & 1);\n\t\tif(val > n) return 1;\n\t}\n\treturn val < n ? -1 : 0;\n}\n\nint main() {\n\tfor(scanf(\"%lld\", &T); T; T--) {\n\t\tscanf(\"%lld\", &n);\n\t\tll ans = 0;\n\t\trep(B, 2, 1000) {\n\t\t\tbool ok = true;\n\t\t\tfor(ll i = n; i; i /= B) ok &= i % B <= 1;\n\t\t\tans += ok;\n\t\t}\n\t\trep(i, 1, 63) {\n\t\t\tll L = 1001, R = n; bool ok = false;\n\t\t\twhile(L <= R) {\n\t\t\t\tll M = (L + R) >> 1, qwq = cmp(n, i, M);\n\t\t\t\tif(!qwq) {ok = M > 1000; break;}\n\t\t\t\tif(qwq == -1) L = M + 1;\n\t\t\t\telse R = M - 1;\n\t\t\t}\n\t\t\tans += ok;\n\t\t}\n\t\tprintf(\"%lld\\n\", ans);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1678581823,
        "uid": 122461,
        "name": "rui_er",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 ABC293F\u3010Zero or One\u3011"
    },
    {
        "content": "\u8003\u8651\u5206\u6210\u4e24\u90e8\u5206\u5b9e\u73b0\u3002\n\n\u7b2c\u4e00\u90e8\u5206\uff0c$b$ \u8f83\u5c0f\uff0c\u76f4\u63a5\u679a\u4e3e $b$ \u5373\u53ef\u3002\n\n\u7b2c\u4e8c\u90e8\u5206\uff0c$b$ \u8f83\u5927\uff0c\u8fd9\u65f6\u53ef\u4ee5\u76f4\u63a5\u679a\u4e3e\u76ee\u6807\u8fdb\u5236\u7684 $01$ \u4e32\uff0c\u4e8c\u5206\u8fdb\u5236\u4f7f\u5f97\u8fd9\u4e2a\u4e32\u6700\u63a5\u8fd1 $n$\u3002\u5982\u679c\u8fd9\u4e2a\u4e32\u521a\u597d\u662f $n$ \u5728 $b$ \u8fdb\u5236\u4e0b\u7684\u8868\u793a\uff0c\u5219\u7b54\u6848\u52a0\u4e00\u3002\u6ce8\u610f\u4e24\u79cd\u60c5\u51b5\u7684\u91cd\u590d\u90e8\u5206\u3002\n\n\u590d\u6742\u5ea6\u8bc1\u660e\uff1a\u4ee5\u5206\u754c\u70b9\u4e3a $1000$ \u4e3a\u4f8b\uff0c\u7b2c\u4e00\u90e8\u5206\u590d\u6742\u5ea6 $O(\\sum_{b=2}^{\\min(n,1000)}\\log_b n)$\uff0c\u7b2c\u4e8c\u90e8\u5206\u4e32\u7684\u957f\u5ea6\u53d6\u5230 $6$ \u5c31\u8db3\u591f\uff08$\\log_{1000}10^{18}$\uff09\uff0c\u590d\u6742\u5ea6 $O((2^{6})^{2}\\log_2{n})$\uff0c\u53ef\u4ee5\u901a\u8fc7\u3002\n\n\u6ce8\u610f\u4e8c\u5206\u65f6\u8fb9\u754c\u4ee5\u53ca\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u7206 long long \u7684\u53ef\u80fd\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define int __int128\nusing namespace std;\nint read(){\n\tint n=0;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9') ch=getchar();\n\twhile(ch>='0'&&ch<='9') n=n*10+ch-48,ch=getchar();\n\treturn n;\n}\nint check(int mid,int B){\n\tint ans=0,base=1; \n\tfor(int i=0;i<=5;i++){\n\t\tif((1<<i)&B){\n\t\t\tans+=base;\n\t\t\tif(ans>1e18) return 2e18;\n\t\t} \n\t\tif(base>1e18/mid) base=2e18;\n\t\telse base*=mid;\n\t}\n\treturn ans;\n}\nsigned main(){\n\tint t=read();\n\twhile(t--){\n\t\tint ans=0,n=read();\n\t\tfor(int i=2;i<=min(n,(__int128)1000);i++){\n\t\t\tint tmp=n,f=1;\n\t\t\twhile(tmp){\n\t\t\t\tif(tmp%i>1){\n\t\t\t\t\tf=0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ttmp/=i;\n\t\t\t}\n\t\t\tans+=f;\n\t\t} \n\t\tif(n<=1000) cout<<(signed)ans<<'\\n';\n\t\telse{\n\t\t\tfor(int i=(1<<6)-1;i;i--){\n\t\t\t\tint l=0,r=1e18,as=0;\n\t\t\t\twhile(l<=r){\n\t\t\t\t\tint mid=(l+r)>>1;\n\t\t\t\t\tif(check(mid,i)>=n) r=mid-1,as=mid;\n\t\t\t\t\telse l=mid+1;\n\t\t\t\t}\n\t\t\t\tif(check(as,i)==n&&as>1000) ans++;\n\t\t\t}\n\t\t\tcout<<(signed)ans<<'\\n';\n\t\t}\n\t}\n} \n```",
        "postTime": 1679658524,
        "uid": 527598,
        "name": "FReQuenter",
        "ccfLevel": 0,
        "title": "[ABC293F] Zero or One"
    },
    {
        "content": "\u6709\u8da3\u7684\u7f1d\u5408\u602a\u3002\n\n\u76f4\u63a5\u505a\u4e0d\u597d\u505a\uff0c\u4e8e\u662f\u8003\u8651\u6839\u53f7\u5206\u6cbb\u3002\n\n\u8bbe\u4e00\u4e2a\u9608\u503c $k$\u3002\u9996\u5148\u5bf9\u4e8e $b\\in [2,k]$\uff0c\u8003\u8651\u76f4\u63a5\u66b4\u529b\u5206\u89e3\u51fa $b$ \u8fdb\u5236\u5224\u65ad\u662f\u5426\u7b26\u5408\u6761\u4ef6\u3002\u5f53 $b\\in [k+1,10^{18}]$ \u7684\u65f6\u5019\uff0c\u7531\u4e8e\u6b64\u65f6\u7b54\u6848\u5f88\u5c11\uff0c\u53ef\u4ee5\u5148\u7b97\u51fa\u4e8c\u8fdb\u5236\u6709\u591a\u5c11\u4f4d\uff0c\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u6dfb\u4e0a $0$ \u548c $1$\uff0c\u4e8c\u5206\u5224\u65ad\u662f\u5426\u5b58\u5728\u4e00\u7ec4\u5408\u6cd5\u7684\u503c\u5373\u53ef\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n, cnt;\nint a[10];\n__int128 check(int base)\n{\n  __int128 res = 0;\n  for (int i = 1; i <= 7; i++)\n  {\n    res = res * base + a[i];\n    if (res > LLONG_MAX)\n      break;\n  }\n  return res;\n}\nvoid dfs(int dep)\n{\n  if (dep == 8)\n  {\n    int l = 1001, r = 1e18, best = -1;\n    while (l <= r)\n    {\n      int mid = l + r >> 1;\n      __int128 val = check(mid);\n      if (val == n)\n      {\n        cnt++;\n        break;\n      }\n      else if (val > n)\n        r = mid - 1;\n      else\n        l = mid + 1;\n    }\n    return ;\n  }\n  a[dep] = 0;\n  dfs(dep + 1);\n  a[dep] = 1;\n  dfs(dep + 1);\n}\nsigned main()\n{\n  int T;\n  cin >> T;\n  while (T--)\n  {\n    cnt = 0;\n    cin >> n;\n    int fa = 1000;\n    for (int i = 2; i <= fa; i++)\n    {\n      bool flag = true;\n      for (int j = n; j; j /= i)\n        if (j % i > 1)\n        {\n          flag = false;\n          break;\n        }\n      if (flag)\n        cnt++;\n    }\n    dfs(1);\n    cout << cnt << '\\n';\n  }\n  return 0;\n}\n```\n",
        "postTime": 1679378410,
        "uid": 378467,
        "name": "willem248",
        "ccfLevel": 5,
        "title": "ABC293F"
    },
    {
        "content": "# [ABC293F] Zero or One \u9898\u89e3\n\n\u7ed9\u5b9a\u6574\u6570 $n\\le10^{18}$\uff0c\u628a\u5b83\u5206\u89e3\u6210\u4e00\u4e2a\u8fdb\u5236\uff0c\u4f7f\u5f97\u5728\u8fd9\u4e2a\u8fdb\u5236\u4e0b\u6240\u6709\u4f4d\u7684\u503c\u4e3a $0/1$\uff0c\u6c42\u65b9\u6848\u6570\u3002\u591a\u6d4b\u3002\n\n\u76f4\u63a5\u679a\u4e3e\u8fdb\u5236\u80af\u5b9a\u4e0d\u884c\uff0c\u4e8c\u8fdb\u5236\u679a\u4e3e\u6bcf\u4e00\u4f4d\u80af\u5b9a\u4e5f\u4e0d\u884c\u3002\u628a\u5b83\u4eec\u7ed3\u5408\u8d77\u6765\uff1f\u8bbe\u8ba1\u7b97\u8fb9\u754c $BASE$\uff0c\u5373\u533a\u95f4 $[1,BASE]$ \u7531\u7b2c\u4e00\u79cd\u8ba1\u7b97\uff0c\u533a\u95f4 $[BASE,n]$ \u7531\u7b2c\u4e8c\u79cd\u8ba1\u7b97\u3002\n\n\u8fd9\u6837\u4e0b\u6765\uff0c\u7b2c\u4e00\u79cd\u65f6\u95f4\u590d\u6742\u5ea6 $O(BASE\\times \\log_{BASE}n)$\uff0c\u7b2c\u4e8c\u90e8\u5206 $O(2^{\\log_{BASE}n}\\times \\log_n\\times \\log_{BASE}n)$\u3002\u53ef\u4ee5\u81ea\u7531\u51b3\u5b9a $BASE$ \u7684\u503c\uff0c\u5efa\u8bae\u8303\u56f4 $[100,10^4]$\u3002\u6587\u4e2d\u53d6\u503c\u90e8\u5206\u7559\u7a7a\u3002\n\n\u4e0b\u9762\u7b80\u8ff0\u4e24\u4e2a\u90e8\u5206\uff08\u56e0\u4e3a\u6bd4\u8f83\u57fa\u7840\uff09\uff1a\n\n- \u5bf9\u4e8e\u7b2c\u4e00\u90e8\u5206\uff0c\u5faa\u73af\u679a\u4e3e\u8fdb\u5236 $[2,BASE]$\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u5206\u89e3\u5373\u53ef\u3002\n\n- \u5bf9\u4e8e\u7b2c\u4e8c\u90e8\u5206\uff0c\u679a\u4e3e\u6bcf\u4e00\u4f4d\u662f\u591a\u5c11\uff08\u4e8c\u8fdb\u5236\u679a\u4e3e\uff09\uff0c\u5728\u4e8c\u5206\u67e5\u627e\u591a\u5c11\u8fdb\u5236\u7b26\u5408\u5373\u53ef\u3002\u6bcf\u6b21\u8981\u679a\u4e3e\u6bcf\u4e00\u4f4d\u3002\n\n\u7efc\u4e0a\uff0c\u672c\u9898\u5f97\u89e3\u3002\n\n```cpp\n//\u6587\u4e2d\u201c/**/\u201d\u4e3a\u81ea\u884c\u53d6\u503c\u90e8\u5206\n#include<bits/stdc++.h>\nusing namespace std;typedef __int128 ll;//\u4fdd\u9669\u7684__int128\nll T,n,B/**/,y,ans,now,L,R,mid,a,h;bool f;char c;\ninline ll read(){\n\th=0,c=getchar();\n\twhile(!(c>='0'&&c<='9'))c=getchar();\n\twhile(c>='0'&&c<='9')h=(h<<1)+(h<<3)+(c^48),c=getchar();\n\treturn h;\n}\ninline void write(ll x){\n\tif(x>9)write(x/10);\n\tputchar((x%10)^48);\n}\nint main(){\n\tT=read();\n\twhile(T--){\n\t\tn=read(),ans=0;\n\t\tfor(int i=2;i<=B;i++){//\u7b2c\u4e00\u90e8\u5206\n\t\t\ty=n,f=1;\n\t\t\twhile(y){\n\t\t\t\tnow=y%i,y/=i;\n\t\t\t\tif(now!=0&&now!=1){f=0;break;}\n\t\t\t}\n\t\t\tans+=f;\n\t\t}\n\t\tfor(int i=0;i<(1<</**/)-1;i++){//\u7b2c\u4e8c\u90e8\u5206\n\t\t\tL=B+1,R=n,f=0;\n\t\t\twhile(L<=R){\n\t\t\t\tmid=(L+R)>>1,a=1,now=0;\n\t\t\t\tfor(int j=0;j</**/;j++){//\u8ba1\u7b97\u8fdb\u5236\n\t\t\t\t\tnow=now*mid+((i>>j)&1);\n\t\t\t\t\tif(now>n)break;//\u9632\u6ea2\u51fa\n\t\t\t\t}\n\t\t\t\tif(now==n){f=(mid>B);break;}//\u6ce8\u610f\u524d\u9762\u662f\u5426\u7b97\u8fc7\n\t\t\t\t(now>n?R=mid-1:L=mid+1);\n\t\t\t}\n\t\t\tans+=f;//\u7edf\u8ba1\n\t\t}\n\t\twrite(ans),putchar('\\n');\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1679048183,
        "uid": 367359,
        "name": "Neil_Qian",
        "ccfLevel": 6,
        "title": "[ABC293F] Zero or One \u9898\u89e3"
    },
    {
        "content": "## Problem\n\n\u7ed9\u4f60\u4e00\u4e2a\u5f88\u5927\u7684\u6570 $N$\uff0c\u95ee\u6709\u591a\u5c11\u4e2a $b$\uff0c\u4f7f\u5f97 $N$ \u5728 $b$ \u8fdb\u5236\u4e0b\u6bcf\u4e00\u4f4d\u4e3a $0$ \u6216 $1$.\n\n\u591a\u7ec4\u6570\u636e\uff0c$T\\le 1000$\u3002\n\n## Solution\n\n\u5148\u8003\u8651\u4e00\u4e2a\u7b80\u5355\u7684\u95ee\u9898\u3002\u7ed9\u4f60\u4e00\u4e2a $b$\uff0c\u5224\u65ad\u662f\u5426\u5408\u6cd5\u3002\n\n\u6700\u7b80\u5355\u7684\u601d\u8def\u5c31\u662f\u628a $N$ \u5199\u6210 $b$ \u8fdb\u5236\u4e0b\u7684\u6570\uff0c\u6bcf\u4f4d\u4e00\u6b21\u5224\u65ad\uff0c\u590d\u6742\u5ea6\u4e3a $\\Theta(\\log_b N)$\u3002\n\n\u4e8e\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u66b4\u529b\u679a\u4e3e $2\\sim 1000$ \u7684\u6240\u6709 $b$\uff0c\u6bcf\u4e2a $b$ \u66b4\u529b\u5224\u65ad\u662f\u5426\u7b26\u5408\uff0c\u603b\u8fd0\u7b97\u6b21\u6570\u7ea6\u4e3a $1000\\log N$\uff0c\u5927\u6982\u662f $6\\times 10^4$ \u4ee5\u5185\u3002\n\n\u5bf9\u4e8e\u66f4\u5927\u7684 $b$\uff0c\u5bb9\u6613\u53d1\u73b0 $1001^6>10^{18}$\uff0c\u6240\u4ee5\u6700\u591a\u53ea\u6709 $6$ \u4f4d\u3002\u6211\u4eec\u5c31\u53ef\u4ee5\u8f6c\u800c\u679a\u4e3e\u6bcf\u4e00\u4f4d\u662f\u4e0d\u662f $0$ \u6216 $1$\uff0c\u603b\u5171 $63$ \u79cd\u60c5\u51b5\u3002\u5bf9\u4e8e\u6bcf\u4e00\u79cd\u60c5\u51b5\uff0c\u4e8c\u5206\u67e5\u627e\u7b26\u5408\u8981\u6c42\u7684 $b$\u3002\n\n\u4e3e\u4e2a\u4f8b\u5b50\uff1a\u679a\u4e3e\u5230\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\u4e3a $100110$\uff0c\u90a3\u4e48\u6211\u4eec\u8981\u627e\u4e00\u4e2a $b$ \u4f7f\u5f97\uff1a\n\n$$\nb^5+b^2+b=N\n$$\n\n\u8fd9\u663e\u7136\u5173\u4e8e $b$ \u5355\u8c03\uff0c\u6240\u4ee5\u53ef\u4ee5\u4e8c\u5206\u3002\n\n\u5173\u4e8e\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u7531\u4e8e $1000+63$ \u548c $T$ \u540c\u9636\uff0c\u6240\u4ee5\u603b\u590d\u6742\u5ea6\u4e3a $O(T^2 \\log N)$\uff0c\u53ef\u8fc7\u3002\n\n## Code\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\nll n;\nbool ok(ll n,int b)\n{\n\twhile(n)\n\t{\n\t\tif(n%b!=0 && n%b!=1) return 0;\n\t\tn/=b;\n\t}\n\treturn 1;\n}\nvoid write(__int128 x)\n{\n\tint sta[30];\n\tint top=0;\n\tdo{\n\t\tsta[top++]=x%10,x/=10;\n\t}while(x);\n\twhile(top) putchar(sta[--top]+48);\n}\nint cmp(ll n,int t,ll b)\n{\n\t__int128 m=n;\n\t__int128 cur=0;\n\tfor(int i=6;i>=0;i--)\n\t{\n\t\tcur*=b;\n\t\tif(t&(1<<i)) cur+=1;\n//\t\twrite(cur);printf(\"\\n\");\n\t\tif(cur>m) return 1;\n\t}\n\tif(cur<m) return -1;\n\tif(cur==m) return 0;\n}\nbool s1(ll n,int t)\n{\n\tll L=1001,R=n,mid;\n\tint res;\n\twhile(L<=R)\n\t{\n\t\tmid=(L+R)>>1;\n\t\tres=cmp(n,t,mid);\n//\t\tprintf(\"n=%lld t=%lld mid=%lld: get %d\\n\",n,t,mid,res);\n\t\tif(res==0)\n\t\t{\n\t\t\tif(mid>=1001) return 1;\n\t\t}\n\t\tif(res==-1) L=mid+1;\n\t\tif(res==1) R=mid-1;\n\t}\t\n\treturn 0;\n}\nll solve()\n{\n\tll ans=0;\n\tfor(int i=2;i<=1000;i++)\n\t\tif(ok(n,i)) ans++;\n\tfor(int i=1;i<=63;i++)\n\t\tif(s1(n,i)) ans++;\n\treturn ans;\n}\nint main()\n{\n\tint qwq;\n\tscanf(\"%d\",&qwq);\n\twhile(qwq--)\n\t{\n\t\tscanf(\"%lld\",&n);\n\t\tprintf(\"%lld\\n\",solve());\n\t}\n\treturn 0;\n}\n\n```",
        "postTime": 1678619981,
        "uid": 148507,
        "name": "_Imaginary_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT_abc293F\u3010Zero or One\u3011"
    },
    {
        "content": "**\u9898\u610f**\n\n$T$ \u7ec4\u6570\u636e\uff0c\u6bcf\u7ec4\u4e00\u4e2a\u6b63\u6574\u6570 $n$\uff0c\u4fdd\u8bc1 $2\\leq n \\leq 10^{18}$ \uff0c\u5bf9\u4e8e\u6bcf\u4e2a $n$ \u6c42\u6ee1\u8db3\u6761\u4ef6\u7684 $b$ \u7684\u4e2a\u6570\uff0c\u4f7f\u5f97 $n$ \u7684 $b$ \u8fdb\u5236\u8868\u793a\u53ea\u5305\u542b $0$ \u6216 $1$\n\n**\u601d\u8def**\n\n\u5b98\u65b9\u9898\u89e3\u7ed9\u51fa\u4e86\u4e00\u79cd\u6b63\u7ecf\u7684\u505a\u6cd5\uff0c\u8fd9\u91cc\u7ed9\u51fa\u4e00\u79cd\u7b80\u5355\u7684\u6570\u636e\u5206\u6cbb\u505a\u6cd5\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u6570 $n$ \uff0c\u8003\u8651\u5c06\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u5206\u4e3a\u4ee5\u4e0b\u4e09\u7c7b:\n\n1. $n-1$ , $n$\n   \n   \u663e\u7136\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\u7684\u8868\u793a\u5206\u522b\u4e3a ``10``, ``11``\n\n2. \u4f4d\u6570 $\\leq 3$\n   1. \u4f4d\u6570\u4e3a $2$ \u65f6\u53ef\u4ee5\u5728 $\\sqrt{n}$ \u7684\u5468\u56f4\u66b4\u529b\u679a\u4e3e\u7ea6 $1000$ \u4e2a\n   2. \u4f4d\u6570\u4e3a $3$ \u65f6\u540c\u7406\u5728 $\\sqrt[3]{n}$ \u5468\u56f4\u66b4\u529b\u679a\u4e3e\n\n3. \u679a\u4e3e\u8fdb\u5236 $b$ \uff0c\u66b4\u529b\u68c0\u67e5\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\n\n\u60c5\u51b51: $O(1)$\n\n\u60c5\u51b52: $O(1000\\cdot \\log{n})$\n\n\u60c5\u51b53: $O(\\sqrt[4]{n})$\n\n\u663e\u7136\u4e0d\u4f1a\u8d85\u65f6\n\n**\u8b66\u793a\u540e\u4eba**\n\n\u4e0d\u8981\u7528 ``pow`` !!!! \u8d5b\u65f6 ``pow``\u70b8\u4e86\u75db\u5931rating\n\n**Code**\n\n```cpp\n// bool st;\nint t;\nint n;\n// bool en;\n\nbool check(int x, int k) //\u68c0\u67e5x\u5728k\u8fdb\u5236\u4e0b\u662f\u5426\u53ef\u884c\n{\n    while (x)\n    {\n        if (x % k > 1)\n            return false;\n        x /= k;\n    }\n    return true;\n}\n\nint get(int x) //\u4e8c\u5206\u6c42\u4e09\u6b21\u65b9\u6839\n{\n    int l = 1, r = 1e6;\n    while (l < r)\n    {\n        int mid = l + r + 1 >> 1;\n        if (mid * mid * mid <= x)\n            l = mid;\n        else\n            r = mid - 1;\n    }\n    return l;\n}\n\nvoid solve()\n{\n    cin >> n;\n    if (n == 2)\n    {\n        cout << \"1\" << endl;\n        return;\n    }\n    int x = sqrt(n);\n    int y = get(n);\n    int res = 0;\n    for (int i = 2; i <= 1e5 && i * i * i * i <= n; i++)\n    {\n        if (check(n, i))\n            res++;\n    }\n    //\u4e24\u4f4d\n    for (int i = max(2ll, x - 1000); i <= min(x + 1000, n - 2); i++)\n    {\n        if (i * i + i + 1 == n || i * i + 1 == n || i * i + i == n || i * i == n)\n            res++;\n    }\n    //\u4e09\u4f4d\n    for (int i = max(2ll, y - 1000); i <= min(y + 1000, n - 2); i++)\n    {\n        if (i * i * i + i * i + i + 1 == n || i * i * i + i * i + 1 == n || i * i * i + i * i + i == n || i * i * i + i * i == n || i * i * i + i + 1 == n || i * i * i + 1 == n || i * i * i + i == n || i * i * i == n)\n            res++;\n    }\n    cout << res + 2 << endl; //+2\u662fn-1,n\n}\n```",
        "postTime": 1678610570,
        "uid": 111416,
        "name": "xiaruize",
        "ccfLevel": 7,
        "title": "[ABC293F] Zero or One\u9898\u89e3"
    }
]