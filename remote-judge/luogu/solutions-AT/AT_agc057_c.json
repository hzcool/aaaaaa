[
    {
        "content": "\u9996\u5148\u60f3\u4e00\u60f3\u4ec0\u4e48\u60c5\u51b5\u4e0b\u65e0\u89e3\uff0c\u4f3c\u4e4e\u4e0d\u592a\u4f1a\u505a\u3002\u4e8e\u662f\u5c1d\u8bd5\u6253\u8868\uff0c\u770b\u4e00\u770b\u7b49\u4ef7\u7c7b\u4e2a\u6570\u6765\u731c\u4ec0\u4e48\u60c5\u51b5\u6709\u89e3\u3002\n\n\u901a\u8fc7\u6253\u8868\u53d1\u73b0\u4e86\u4e00\u4e2a\u795e\u5947\u7684\u4e8b\u5b9e\uff0c\u5982\u679c\u524d $2^{n-1}$ \u4e2a\u6570\u7684\u6700\u9ad8\u4f4d\u90fd\u4e3a $0$\uff0c\u90a3\u4e48\u6709\u89e3\u5f53\u4e14\u4ec5\u5f53\u53ef\u4ee5\u53ea\u7528 XOR \u64cd\u4f5c\u6765\u8fbe\u6210\u76ee\u6807\u3002\u8bc1\u660e\u4e0d\u592a\u4f1a\u8bc1\u3002\n\n\u4e8e\u662f\u76ee\u6807\u53d8\u6210\u628a\u524d $2^{n-1}$ \u4e2a\u6570\u6700\u9ad8\u4f4d\u53d8\u6210 $0$\uff0c\u7ffb\u8f6c\u4e00\u4e2a\u6570\u7684\u6700\u9ad8\u4f4d\u53ef\u4ee5\u5168\u5c40 XOR \u4e00\u4e0b\u628a\u8fd9\u4e2a\u6570\u53d8\u6210\u5168 $1$\uff0c\u7136\u540e\u52a0 $1$\u3002\n\n\u4e8e\u662f\u53ea\u9700\u8981\u652f\u6301\u5168\u5c40 XOR \u4e00\u4e2a\u6570\uff0c\u5168\u5c40\u52a0 $1$\uff0c\u4ee5\u53ca\u67e5\u8be2\u4e00\u4e2a\u4f4d\u7f6e\u7684\u503c\u3002\u8fd9\u4e2a\u5f88\u7ecf\u5178\uff0c\u53ef\u4ee5\u5012\u7740\u5efa Trie \u7ef4\u62a4\uff0c\u4e0d\u4f1a\u7684\u8bdd\u53ef\u4ee5\u89c1[\u8fd9\u9898](https://www.luogu.com.cn/problem/P6018)\uff0c\u8fd9\u91cc\u4e0d\u8d58\u8ff0\u3002\n\n\u628a $2^{n-1}$ \u4e2a\u6570\u7ffb\u597d\u6700\u9ad8\u4f4d\uff0c\u6700\u540e\u518d\u8fdb\u884c\u4e00\u6b21 XOR \u5c31\u884c\u4e86\uff0c\u64cd\u4f5c\u6b21\u6570\u6700\u591a $2^n+1$ \u6b21\u3002\n",
        "postTime": 1665502678,
        "uid": 151935,
        "name": "Rainbow_qwq",
        "ccfLevel": 0,
        "title": "agc057C"
    },
    {
        "content": "## \u9898\u89e3\n\u8003\u8651 $+1$ \u548c $\\oplus\\ x$ \u8fd9\u4e24\u4e2a\u64cd\u4f5c\uff0c\u6211\u4eec\u5728\u6570\u636e\u7ed3\u6784\u9898\u91cc\u89c1\u8fc7\u4ed6\u4eec\u7684\u7ec4\u5408\u3002\n\n\u5177\u4f53\u6765\u8bf4\uff0c\u5c31\u662f\u5982\u679c\u6211\u4eec\u4ece\u53cd\u5411\u5efa trie\uff0c$+1$ \u7b49\u4ef7\u4e8e\u7ffb\u8f6c\u6700\u5de6\u8fb9\u7684\u4e00\u6761\u94fe\uff0c$\\oplus\\ 2^k$ \u7b49\u4ef7\u4e8e\u7ffb\u8f6c\u67d0\u4e00\u5c42\u3002\n\n\u56e0\u6b64\u6211\u4eec\u76f4\u63a5\u7ef4\u62a4\u6574\u68f5\u6811\uff0c\u8fd9\u68f5\u6811\u4e0b\u6807\u4e3a $x$ \u7684\u8282\u70b9\u4ee3\u8868\u5e8f\u5217\u4e0a\u6ee1\u8db3 $a_t=x$ \u7684 $t$\u3002\n\n\u7136\u540e\u6211\u4eec\u53d1\u73b0\u7ffb\u8f6c\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9\u4e00\u5b9a\u4f1a\u7ffb\u8f6c\u5b83\u7684\u6240\u6709\u7956\u5148\uff0c\u6240\u4ee5\u53ea\u8981\u7ffb\u8f6c\u6240\u6709\u53f6\u5b50\u8282\u70b9\u7136\u540e\u5224\u65ad\u80fd\u4e0d\u80fd\u901a\u8fc7\u7ffb\u8f6c\u82e5\u5e72\u5c42\u6765\u5f52\u4f4d\u6574\u68f5\u6811\u5373\u53ef\u3002\n\n\u64cd\u4f5c\u6b21\u6570\u4e0d\u4f1a\u8d85\u8fc7 $2^{N+1}+1$\u3002\n## \u4ee3\u7801\n```cpp\n//\u4e0d\u56de\u5bb6\u4e86\uff0c\u6211\u4eec\u53bb\u9e1f\u5de2\uff01\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read(){\n   int s=0,w=1;\n   char ch=getchar();\n   while(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n   while(ch>='0'&&ch<='9') s=s*10+ch-'0',ch=getchar();\n   return s*w;\n}\nint n=read(),N=1<<n;\nint val[1<<20];\nint mn[1<<20],mx[1<<20];\nbool rev[1<<20],tgt[1<<20],tag[20];\nint arr[1<<20],R[1<<20],c;\nvector<int> vec;\nvoid build(int x,int d)\n{\n\tif(d==n)\n\t{\n\t\tval[x]=arr[R[c++]],mn[x]=mx[x]=R[val[x]];\n\t\treturn ;\n\t}\n\tbuild(x<<1,d+1),build((x<<1)+1,d+1);\n\tmn[x]=min(mn[x<<1],mn[(x<<1)+1]),\n\tmx[x]=max(mx[x<<1],mx[(x<<1)+1]);\n\tif(mx[x]-mn[x]+1!=(1<<(n-d))) puts(\"No\"),exit(0);\n\tif(mn[x<<1]>mn[(x<<1)+1]) tgt[x]=1;\n\treturn ;\n}\nvoid process(int x)\n{\n\tint val=0;\n\tfor(int d=n-1,i=x,t; d>0;)\n\t{\n\t\tt=i&1,i>>=1,--d;\n\t\tif(rev[i]^tag[d]^t^1)\n\t\t\ttag[d]^=1,val^=(1<<d);\n\t}\n\tvec.push_back(val),vec.push_back(-1);\n\tfor(int i=1,d=0; d<n; ++d)\n\t\trev[i]^=1,i=(i<<1)+(rev[i]^tag[d]);\n\treturn ;\n}\nvoid dfs(int x,int d)\n{\n\tif(d==n-1)\n\t{\n\t\tif((rev[x]^tag[d])!=tgt[x]) process(x);\n\t\treturn ;\n\t}\n\tdfs(x<<1,d+1),dfs((x<<1)+1,d+1);\n\treturn ;\n}\nint shift=0;\nvoid adjust(int x,int d)\n{\n\tif((rev[x]^tag[d])!=tgt[x])\n\t\tshift^=(1<<d),tag[d]^=1;\n\tif(d==n-1) return ;\n\tadjust(x<<1,d+1),adjust((x<<1)+1,d+1);\n\treturn ;\n}\nbool chk(int x,int d)\n{\n\tif(d==n) return 1;\n\tif(!chk(x<<1,d+1)||!chk((x<<1)+1,d+1)) return 0;\n\tif((rev[x]^tag[d])!=tgt[x]) return 0;\n\treturn 1;\n}\nsigned main()\n{\n\tfor(int i=0; i<N; ++i)\n\t\tfor(int j=0; j<n; ++j)\n\t\t\tif((i>>j)&1) R[i]+=1<<(n-1-j);\n\tfor(int i=0; i<N; ++i) arr[read()]=i;\n\tbuild(1,0),dfs(1,0),adjust(1,0),vec.push_back(shift);\n\tif(!chk(1,0)) puts(\"No\"),exit(0);\n\tputs(\"Yes\");\n\tassert((int)vec.size()<=1000000);\n\tprintf(\"%d\\n\",(int)vec.size());\n\tfor(int i:vec) printf(\"%d \",i);\n\tputs(\"\");\n\treturn 0;\n}\n```",
        "postTime": 1672194201,
        "uid": 427683,
        "name": "\u5411\u665a\u5927\u9b54\u738b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AGC057C"
    }
]