[
    {
        "content": "\u5047\u8bbe\u6211\u4eec\u9009\u7684\u5b50\u96c6\u4e3a $T={a_1,a_2,\\cdots,a_p}$\u3002\n\n\u6211\u4eec\u6765\u8003\u8651\u4e00\u4e0b\u8fd9\u4e2a $T$ \u662f\u5982\u4f55\u5f97\u5230\u7684\uff1a\n\n\u9996\u5148\uff0c\u6211\u4eec\u9009\u5b9a\u4e86 $1$ \u4e2a $a_1$\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u6027\u8d28 $1$\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u5c06 $f_{a_1}$ \u52a0\u5165 $T$\uff0c\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u8bb0\u4f5c $a_2$\u3002\n\n\u5f15\u7406\uff1a\u82e5 $a_q$ \u5728 $T$ \u4e2d\uff0c\u90a3\u4e48 $a_{q+1}=f_{a_q}(a_{p+1}=a_1)$\u3002\n\n\u4f7f\u7528\u6570\u5b66\u5f52\u7eb3\u6cd5\uff1a\u4e0a\u9762\u5df2\u7ecf\u8bc1\u660e\u4e86 $a_2=f_{a_1}$\uff0c\u5373\u6709 $a_{k+1}=f_{a_k}$\uff0c\u987b\u8bc1 $a_{k+2}=f_{a_{k+1}}$\u3002\n\n\u4f7f\u7528\u53cd\u8bc1\u6cd5\uff1a\u82e5 $a_{k+2}\\ne f_{a_{k+1}}$\uff0c\u90a3\u4e48\u5219\u6709 $a_w=f_{a_{k+1}}(w<k+1)$\uff0c\u4f46\u662f\u6b64\u65f6\u56e0\u4e3a $\\forall i\\in[1,k]$ \u6ee1\u8db3 $a_{i+1}=f_{a_i}$\uff0c\u6240\u4ee5 $a_w=f_{a_{w-1}}$ \u90a3\u4e48\u6b64\u65f6\u7684 $a_w$ \u5bf9\u5e94 $2$ \u4e2a\u503c\uff0c\u4e0e\u6027\u8d28 $2$ \u77db\u76fe\uff0c\u6240\u4ee5 $a_{k+2}=f_{a_{k+1}}$\u3002\n\n\u7efc\u4e0a\uff0c\u539f\u547d\u9898\u6210\u7acb\u3002\n\n\u90a3\u4e48\u6b64\u65f6\u6211\u4eec\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u5e8f\u5217\u6784\u6210\u4e86\u4e00\u4e2a\u73af\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728 $i$ \u548c $f_i$ \u4e4b\u95f4\u5efa\u8fb9\uff0c\u90a3\u4e48\u6bcf\u4e2a\u6ee1\u8db3\u7684\u96c6\u5408\u90fd\u6709\u4e00\u4e2a\u73af\u3002\n\n\u6ce8\u610f\u5230\u8fd9\u4e2a\u73af\u53ef\u80fd\u6709\u201c\u5c3e\u5df4\u201d\uff0c\u5047\u8bbe\u4f38\u51fa\u53bb\u7684\u8282\u70b9\u4e3a $x$\uff0c\u90a3\u4e48\u82e5\u53d6\u4e86\u201c\u5c3e\u5df4\u201d\uff0c$a_x$ \u5c31\u5bf9\u5e94\u4e86 $2$ \u4e2a $f$ \u503c\uff0c\u4e0e\u6027\u8d28 $2$ \u77db\u76fe\uff0c\u6240\u4ee5\u201c\u5c3e\u5df4\u201d\u4e00\u5b9a\u4e0d\u53d6\u3002\n\n\u56e0\u4e3a $1$ \u6761\u8fb9\u53ea\u5c5e\u4e8e $1$ \u4e2a\u73af\uff0c\u800c\u4e00\u4e2a $i$ \u552f\u4e00\u5bf9\u5e94 $f_i$\u3002\u6240\u4ee5\u6ca1\u6709\u70b9\u4f1a\u5c5e\u4e8e $2$ \u4e2a\u73af\uff0c\u4e0d\u5b58\u5728\u73af\u4e0e\u73af\u4e4b\u95f4\u5d4c\u5957\u7684\u60c5\u51b5\u3002\u6240\u4ee5\u4e00\u4e2a\u8fde\u901a\u5757\u5185\u90e8\u53ea\u4f1a\u6709 $1$ \u4e2a\u73af\uff0c\u6240\u4ee5\u6570\u73af\u7684\u6570\u91cf\u5c31\u8f6c\u5316\u4e3a\u4e86\u6570\u8fde\u901a\u5757\u7684\u6570\u91cf\u3002\n\n\u8bbe\u8fde\u901a\u5757\u5171\u8ba1 $t$ \u4e2a\uff0c\u6bcf\u4e2a\u8fde\u901a\u5757\u53ef\u53d6\u53ef\u4e0d\u53d6\uff0c\u4f46\u662f\u81f3\u5c11\u53d6\u4e00\u4e2a\uff0c\u6240\u4ee5\u51cf\u53bb\u90fd\u4e0d\u53d6\u7684 $1$ \u79cd\u60c5\u51b5\uff0c\u7b54\u6848\u5c31\u662f $2^t-1$\u3002\n\n\u65f6\u7a7a\u590d\u6742\u5ea6 $O(n)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int mod=998244353,maxn=2e5+5;\nint n,ans,f[maxn];\nvector<int> G[maxn];\nbool vis[maxn];\nvoid dfs(int u){\n\tif(vis[u])\n\t\treturn;\n\tvis[u]=1;\n\tfor(auto v:G[u])\n\t\tdfs(v);\n}\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;++i){\n\t\tscanf(\"%d\",&f[i]);\n\t\tG[i].push_back(f[i]);\n\t\tG[f[i]].push_back(i);\n\t}\n\tfor(int i=1;i<=n;++i)\n\t\tif(!vis[i]){\n\t\t\t++ans;\n\t\t\tdfs(i);\n\t\t}\n\tint p=1;\n\tfor(int i=1;i<=ans;++i)\n\t\tp=p*2%mod;\n\tprintf(\"%d\\n\",(p+mod-1)%mod);\n\treturn 0;\n}\n```",
        "postTime": 1676909906,
        "uid": 556362,
        "name": "UnnamedOrNamed",
        "ccfLevel": 5,
        "title": "AT_arc114_b [ARC114B] Special Subsets \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u6570\u8fde\u901a\u5757\u4e2a\u6570\u7684\u9898\u3002\n\n\u5173\u4e8e\u6761\u4ef6\u4e00\uff0c\u6211\u4eec\u5f97\u77e5 $a$ \u548c $f(a)$ \u5fc5\u987b\u5728\u4e00\u8d77\u51fa\u73b0\u3002\u800c $f(a)$ \u5fc5\u7136\u4f1a\u548c $f(f(a))$ \u4e00\u8d77\u51fa\u73b0\u3002\u4ee5\u6b64\u7c7b\u63a8\u3002\n\n\u800c\u6761\u4ef6\u4e8c\u544a\u8bc9\u6211\u4eec\u6bcf\u4e2a\u70b9\u7684\u5165\u5ea6\u4e0d\u80fd\u8d85\u8fc71\u3002\n\n\u7efc\u4e0a\uff0c\u8fd9\u4e9b\u6570\u5b57\u5c31\u4f1a\u5f62\u6210\u5f88\u591a\u4e2a\u73af\u3002\u6240\u4ee5\u8fd9\u9053\u9898\u8f6c\u5316\u4e3a\u4e86\u6570\u73af\u6570\u3002\u800c\u73af\u4e0a\u7684\u6bcf\u4e00\u6761\u8fb9\u90fd\u662f\u548c\u73af\u5bf9\u5e94\u7684\u3002\u6240\u4ee5\u6570\u73af\u53ef\u4ee5\u8f6c\u5316\u4e3a\u6570\u8fde\u901a\u5757\u7684\u4e2a\u6570\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8fde\u901a\u5757\uff0c\u6211\u4eec\u53ef\u53d6\u53ef\u4e0d\u53d6\u3002\u56e0\u4e3a\u4e0d\u80fd\u4e3a\u7a7a\uff0c\u6240\u4ee5\u7b54\u6848\u5c31\u662f $2^{cnt} - 1$\u3002\n\n~~(\u8d5b\u65f6\u6709\u7b28\u86cb\u5199\u4e86\u5feb\u901f\u5e42\u3002)~~\n\ncode:\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int p = 998244353;\nconst int N = 2e5 + 5;\n\nint n, x[N];\nint tot, ans = 1;\nint h[N], ne[N << 1], to[N << 1], cnt;\nvoid add (int u, int v)\n{\n\tto[++ cnt] = v;\n\tne[cnt] = h[u];\n\th[u] = cnt;\n}\nbool vis[N];\n\nvoid dfs (int u)\n{\n\tvis[u] = 1;\n\tfor (int i = h[u]; i; i = ne[i])\n\t{\n\t\tint j = to[i];\n\t\tif (vis[j] == 0) dfs (j);\n\t\tvis[j] = 1;\n\t}\n}\n\nint main()\n{\n\tcin >> n;\n\tfor (int i = 1; i <= n; i ++)\n\t{\n\t\tcin >> x[i];\n\t\tadd (i, x[i]);\n\t\tadd (x[i], i);\n\t}\n\tfor (int i = 1; i <= n; i ++)\n\t\tif (vis[i] == 0) tot ++, dfs (i);\n\tfor (int i = 1; i <= tot; i ++)\n\t\tans = 2ll * ans % p;\n\tcout << ans - 1;\n\treturn 0;\n}\n```\n",
        "postTime": 1682599310,
        "uid": 495495,
        "name": "ljlawa",
        "ccfLevel": 4,
        "title": "[ARC114B] Special Subsets"
    }
]