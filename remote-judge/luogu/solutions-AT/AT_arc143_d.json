[
    {
        "content": "## Description\n\n[link](https://www.luogu.com.cn/problem/AT_arc143_d)\n\n## Solution\n\n\u9996\u5148\u8fd9\u4e2a\u9898\u76ee\u63cf\u8ff0\u5f88\u50cf\u62c6\u70b9\uff0c\u628a\u6bcf\u4e2a\u70b9\u62c6\u6210\u5165\u70b9\u548c\u51fa\u70b9\uff0c\u6bcf\u6b21\u64cd\u4f5c\u5c31\u662f\u7ed9\u65e0\u5411\u8fb9\u5b9a\u5411\u3002\n\n\u7136\u540e\u8003\u8651\u8fd9\u6837\u4e00\u4e2a\u505a\u6cd5\uff1a\u628a $a_i$ \u548c $b_i$ \u8fde\u4e0a\u4e00\u6761\u53cc\u5411\u8fb9\uff0c\u7136\u540e\u5728\u8fd9\u4e2a $n$ \u4e2a\u70b9 $m$ \u6761\u8fb9\u7684\u65e0\u5411\u56fe\u4e0a\u8dd1 dfs\uff0c\u5982\u679c\u4e0d\u662f\u8fd4\u7956\u8fb9\uff0c\u90a3\u4e48\u5c31\u5411\u4e0a\u5b9a\u5411\uff0c\u5426\u5219\u5411\u4e0b\u5b9a\u5411\u3002\n\n---\n\n\u8bc1\u660e\u4e00\u4e0b\u8fd9\u4e2a\u505a\u6cd5\u7684\u6b63\u786e\u6027\u3002\n\n\u9996\u5148\u5982\u679c\u4e00\u6761\u8fb9 $(u,v)$ \u5728\u65e0\u5411\u56fe\u4e0a\u662f\u6865\uff0c\u90a3\u4e48\u5728\u539f\u56fe\u4e0a\u65e0\u8bba\u600e\u4e48\u8fde\u4e5f\u90fd\u662f\u6865\u3002\u56e0\u4e3a\u5728\u539f\u56fe\u4e0a\uff0c\u53ea\u6709\u8fd9\u6761\u8fb9\u8fde\u63a5\u4e86 $u$ \u548c $v$ \u6240\u5728\u7684\u8fde\u901a\u5757\uff0c\u6240\u4ee5\u5b83\u5728\u539f\u56fe\u4e0a\u4e5f\u4e00\u5b9a\u662f\u6865\u3002\n\n\u7136\u540e\u8fd9\u4e48\u8dd1 dfs \u76f8\u5f53\u4e8e\u5efa\u51fa\u4e86\u5f88\u591a\u5f3a\u8fde\u901a\u5206\u91cf\uff0c\u5982\u679c $u\\to v$ \u548c $v\\to u$ \u5404\u6709\u4e00\u6761\u8def\u5f84\uff0c\u5220\u4e00\u6761\u8fb9\u4e00\u5b9a\u4e0d\u4f1a\u5f71\u54cd\u8fde\u901a\u6027\u3002\n\n\u6240\u4ee5\u8fd9\u6837\u8dd1\u80af\u5b9a\u662f\u6700\u5c0f\u7684\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(n+m)$\n\n## Code\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int kMaxN = 2e5 + 5;\n\nint n, m;\nint a[kMaxN], b[kMaxN], dir[kMaxN];\nbool vis[kMaxN], vise[kMaxN];\nvector<pair<int, int>> G[kMaxN];\n\nvoid dfs(int u, int fa) {\n  // cerr << u << ' ' << fa << '\\n';\n  vis[u] = 1;\n  for (auto [v, p] : G[u]) {\n    if (vise[p]) continue;\n    vise[p] = 1;\n    // cerr << u << ' ' << v << '\\n';\n    if (vis[v]) {\n      // cerr << \"\u9ed1\u54e5\\n\";\n      dir[p] = (u == b[p] && v == a[p]);\n    } else {\n      dir[p] = (u == b[p] && v == a[p]);\n      dfs(v, u);\n    }\n  }\n}\n\nint main() {\n#ifdef ORZXKR\n  freopen(\"in.txt\", \"r\", stdin);\n  freopen(\"out.txt\", \"w\", stdout);\n#endif\n  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);\n  cin >> n >> m;\n  for (int i = 1; i <= m; ++i) {\n    cin >> a[i];\n  }\n  for (int i = 1; i <= m; ++i) {\n    cin >> b[i];\n    G[a[i]].emplace_back(b[i], i);\n    G[b[i]].emplace_back(a[i], i);\n  }\n  for (int i = 1; i <= n; ++i) {\n    if (!vis[i]) {\n      dfs(i, 0);\n    }\n  }\n  for (int i = 1; i <= m; ++i)\n    cout << dir[i];\n  return 0;\n}\n```",
        "postTime": 1674222730,
        "uid": 176843,
        "name": "Scarab",
        "ccfLevel": 0,
        "title": "[ARC143D] Bridges \u9898\u89e3"
    }
]