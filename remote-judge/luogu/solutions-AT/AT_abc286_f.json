[
    {
        "content": "### \u9898\u76ee\u5927\u610f\n\n\u8fd9\u662f\u4e00\u9053\u4ea4\u4e92\u9898\u3002\n\n\u9996\u5148\u7cfb\u7edf\u4f1a\u968f\u673a\u9009\u5b9a\u4e00\u4e2a\u6574\u6570 $N\\,(1 \\le N \\le 10^9)$ \u4f46\u4e0d\u516c\u5e03\u3002\n\n\u4f60\u9700\u8981\u8f93\u51fa\u4e00\u4e2a\u6574\u6570 $M\\,(1 \\le M \\le 110)$ \u548c\u4e00\u4e2a\u957f\u5ea6\u4e3a $M$ \u7684\u6574\u6570\u5e8f\u5217 $A\\,(1 \\le A_i \\le M)$\u3002\n\n\u63a5\u7740\u7cfb\u7edf\u4f1a\u751f\u6210\u4e00\u4e2a\u957f\u5ea6\u4e3a $M$ \u7684\u5e8f\u5217 $B$\uff0c\u5176\u4e2d $B_i=i$\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u6574\u6570 $i\\,(1 \\le i \\le M)$\uff0c\u7cfb\u7edf\u4f1a\u53cd\u590d\u6267\u884c\u201c\u5c06 $B_i$ \u66ff\u6362\u4e3a $A_{B_i}$\u201d\u7684\u64cd\u4f5c $N$ \u6b21\u3002\u64cd\u4f5c\u5168\u90e8\u5b8c\u6210\u540e\uff0c\u7ed9\u5b9a $B$\uff0c\u8bf7\u4f60\u6839\u636e $B$ \u6c42\u51fa $N$\u3002\n\n--------\n\n### \u89e3\u6cd5\u5206\u6790\n\n\u9996\u5148\u53ef\u4ee5\u53d1\u73b0\uff0c\u82e5 $A$ \u4e3a\u4e00\u6bb5 $1\\sim M$ \u7684\u5347\u5e8f\u6392\u5217\uff0c\u5c06\u5176\u5faa\u73af\u79fb\u4f4d\u4e00\u4f4d\u5f97\u5230 $A=\\{2,3,\\cdots,M,1\\}$ \u540e\uff0c$N\\bmod M=B_1-1$\u3002\n\n\u540c\u7406\uff0c\u82e5 $A$ \u7531 $K$ \u4e2a\u8fd9\u6837\u7684\u5faa\u73af\u79fb\u4f4d\u540e\u7684\u5347\u5e8f\u6392\u5217\u7ec4\u6210\uff0c\u8bbe $C_1,C_2,\\cdots,C_K$ \u5206\u522b\u4e3a\u8fd9\u4e9b\u6392\u5217\u7684\u957f\u5ea6\uff08\u6b64\u65f6 $A=\\{2,3\\cdots,C_1,1,C_1+2,C_1+3,\\cdots,C_1+C_2,C_1+1,\\cdots,C_1+C_2+\\cdots+C_{K-1}+2,\\cdots,C_1+C_2+\\cdots+C_K,C_1+C_2+\\cdots+C_{K-1}+1\\}$\uff09\uff0c\u5219\u6709 $N \\bmod C_1=B_1-1,\\ N \\bmod C_2=B_{C_1+1}-(C_1+1),\\ \\cdots,\\ N \\bmod C_K=B_{C_1+C_2+\\cdots+C_{K-1}+1}-(C_1+C_2+\\cdots+C_{K-1}+1)$\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053 $N$ \u5bf9\u82e5\u5e72\u4e2a\u6574\u6570\u53d6\u6a21\u7684\u503c\u3002\n\n\u90a3\u6839\u636e\u8fd9\u4e9b\uff0c\u80fd\u5426\u901a\u8fc7\u6784\u9020\u5408\u9002\u7684 $C$ \u6765\u6c42\u51fa $N$ \u5462\uff1f\n\n\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\u70b9\u4e86\u4e2a\u8d5e\u3002\uff08[\u4e0d\u4f1a\u7684\u5feb\u53bb\u5b66\uff01](https://www.luogu.com.cn/problem/solution/P1495))\n\n\u53ef\u4ee5\u4f7f\u7528\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\u6c42\u89e3\u7684\u95ee\u9898\u9700\u8981\u6ee1\u8db3\u6240\u6709\u9664\u6570\u4e24\u4e24\u4e92\u8d28\uff0c\u4e8e\u662f\u8003\u8651\u4ee4 $C=\\{2,3,5,7,\\cdots\\}$\uff0c\u53ea\u8981 $C$ \u5185\u6240\u6709\u5143\u7d20\u4e4b\u79ef\u4e0d\u5c0f\u4e8e $10^9$ \u5c31\u53ef\u4ee5\u4fdd\u8bc1 $N$ \u6709\u552f\u4e00\u89e3\u3002\u4e0d\u8fc7\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u9898\u76ee\u8981\u6c42 $M\\le 110$\uff0c\u4f46\u662f $2+3+5+7+11+13+17+19+23+29=129>110$\uff0c\u5df2\u7ecf\u4e0d\u6ee1\u8db3\u6761\u4ef6\u4e86\uff0c\u800c $2 \\times 3 \\times 5 \\times 7 \\times 11 \\times 13 \\times 17 \\times 19 \\times 23=223092870<10^9$\uff0c\u4e0d\u591f\uff0c\u6ca1\u6cd5\u786e\u5b9a $N$\u3002\u90a3\u4e3a\u4e86\u8ba9\u8fd9\u4e2a\u4e58\u79ef\u5c3d\u91cf\u5927\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9\u524d\u9762\u4e24\u4f4d $2,3$ \u5e73\u4e2a\u65b9\u5f97\u5230 $4,9$\uff0c\u8fd9\u65f6\u603b\u548c\u4e3a $108$\uff0c\u800c\u4e14 $4 \\times 9 \\times 5 \\times 7 \\times 11 \\times 13 \\times 17 \\times 19 \\times 23=1338557220>10^9$\u3002\u4e8e\u662f\u6700\u7ec8 $C=\\{4,9,5,7,11,13,17,19,23\\}$\u3002\u6839\u636e\u8fd9\u4e2a $C$ \u9020\u51fa $A$ \u518d\u6c42\u89e3\u5373\u53ef\u3002\n\n------------\n\n### \u4ee3\u7801\n\n```cpp\n#pragma GCC optimize(2)\n#include <bits/stdc++.h>\n#define ll long long\n#define pb push_back\n#define pii pair<int,int>\n#define flsh fflush(stdout)\nusing namespace std;\nconst int N=117;\nll a[11]={0,1,5,14,19,26,37,50,67,86,109},b[11],c[N],mul=1,sum;\nvoid exgcd(ll p,ll q,ll &x,ll &y) {\n\tif (!q) { x=1,y=0; return; }\n\texgcd(q,p%q,x,y);\n\tswap(x,y),y-=x*(p/q);\n}\nll crt() {\n\tfor (ll i=1;i<=9;i++) mul*=a[i];\n\tfor (ll i=1,d,x,y;i<=9;i++)\n\t\td=mul/a[i],exgcd(d,a[i],x,y),sum=(sum+b[i]*d*(x+(x<0)*a[i]))%mul;\n\treturn sum;\n}\nint main() {\n\tprintf(\"108\\n\"),flsh;\n\tfor (ll i=1;i<=9;i++) {\n\t\tfor (ll j=a[i]+1;j<a[i+1];j++) printf(\"%lld \",j);\n\t\tprintf(\"%lld \",a[i]);\n\t}\n\tprintf(\"\\n\"),flsh;\n\tfor (ll i=1;i<=108;i++) scanf(\"%lld\",&c[i]);\n\tfor (ll i=1;i<=9;i++) b[i]=c[a[i]]-a[i],a[i]=a[i+1]-a[i]; // \u5f97\u5230\u4f59\u6570\n\tprintf(\"%lld\",crt()),flsh;\n\treturn 0;\n}\n```",
        "postTime": 1674563610,
        "uid": 319803,
        "name": "CarroT1212",
        "ccfLevel": 6,
        "title": "ABC286F Sol"
    },
    {
        "content": "# ABC286F \u9898\u89e3 \n\n\n\n## \u601d\u8def\u5206\u6790\n\n\u8003\u8651\u628a $\\{a_i\\}$ \u5199\u6210\u82e5\u5e72\u4e2a\u7f6e\u6362\u73af\u7684\u5f62\u5f0f\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5927\u5c0f\u4e3a $k$ \u7684\u7f6e\u6362\u73af\uff0c\u6839\u636e $\\{b_i\\}$ \u4e2d\u7684\u7f6e\u6362\u73af\u7684\u5f62\u6001\uff0c\u6211\u4eec\u80fd\u591f\u5f97\u5230 $n\\bmod k$ \u7684\u4f59\u6570\u7684\u503c\u3002\n\n\u6784\u9020\u4e00\u7ec4\u4e92\u8d28\u7684\u6a21\u6570  $\\{p_i\\}$\uff0c\u4f7f $\\prod p_i\\ge 10^9,\\sum p_i\\le 110$\uff0c\u7528 CRT \u6c42\u89e3\u5373\u53ef\u3002\n\n\u7ed9\u4e00\u7ec4\u5408\u6cd5\u7684\u6784\u9020\uff1a$\\{p_i\\}=\\{4,9,5,7,11,13,17,19,23\\},\\sum p_i=108,\\prod p_i\\approx 1.3\\times 10^9$\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\Theta(m)$\u3002\n\n## \u4ee3\u7801\u5448\u73b0\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int B=1338557220;\nconst int p[9]={4,9,5,7,11,13,17,19,23};\nconst int MAXN=111;\nvector <int> id[9];\nint a[MAXN],b[MAXN],x[9];\nsigned main() {\n\tfor(int i=0;i<9;++i) {\n\t\tint d=B/p[i];\n\t\tfor(int j=1;j<p[i];++j) {\n\t\t\tif((d*j)%p[i]==1) {\n\t\t\t\tx[i]=d*j;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tint m=0;\n\tfor(int i=0;i<9;++i) {\n\t\tfor(int j=0;j<p[i];++j) {\n\t\t\tid[i].push_back(++m);\n\t\t}\n\t\tfor(int j=0;j<p[i];++j) {\n\t\t\ta[id[i][j]]=id[i][(j+1)%p[i]];\n\t\t}\n\t}\n\tcout<<m<<endl;\n\tfor(int i=1;i<=m;++i) cout<<a[i]<<\" \";\n\tcout<<endl;\n\tfor(int i=1;i<=m;++i) cin>>b[i];\n\tint ans=0; \n\tfor(int i=0;i<9;++i) {\n\t\tfor(int r=0;r<p[i];++r) {\n\t\t\tif(b[id[i][0]]==id[i][r]) {\n\t\t\t\tans=(ans+x[i]*r%B)%B;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1674446070,
        "uid": 539618,
        "name": "DaiRuiChen007",
        "ccfLevel": 6,
        "title": "ABC286F \u9898\u89e3"
    },
    {
        "content": "> \u6784\u9020\u4e00\u4e2a\u6392\u5217 $\\phi$\uff08$|\\phi| \\le 110$\uff09\u6ee1\u8db3 $|\\{\\phi^x \\mid x \\in [0,10^9]\\}| = 10^9+1$\u3002\n>\n> \u53e6\u5916\u5730\uff0c\u4f60\u9700\u8981\u6784\u9020\u6620\u5c04 $f : \\{\\phi^x \\mid x \\in [0,10^9]\\} \\to [0,10^9]$\uff0c\u6ee1\u8db3 $f(\\phi^x) = x$\u3002\n\n\u9898\u89e3\uff1a\n\n\u4e0d\u59a8\u5efa\u6709\u5411\u56fe\uff1a$g : i \\to \\phi_i$\u3002\u53d1\u73b0 $g$ \u6784\u6210\u57fa\u73af\u68ee\u6797\u3002\u663e\u7136\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9\u90fd\u4f1a\u6709\u5faa\u73af\u3002\u5bf9\u4e8e\u57fa\u73af\u6811 $S \\subseteq g$\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $x \\in S$\uff0c\u7ecf\u8fc7\u8db3\u591f\u591a\uff08\u4e0d\u8d85\u8fc7 $110$\uff09\u6b21 $\\phi$\uff0c\u4f1a\u9677\u5165\u5faa\u73af\u8282\u4e3a $S$ \u4e0a\u73af\u7684\u5927\u5c0f\u7684\u5faa\u73af\u3002\u800c\u6574\u4e2a\u57fa\u73af\u6811\u7684\u5faa\u73af\u663e\u7136\u4e3a\u8fd9\u4e9b\u5faa\u73af\u8282\u7684 $\\operatorname {lcm}$\u3002\u4e8e\u662f\uff0c\u6700\u4f18\u7ed3\u6784\u663e\u7136\u662f\u57fa\u73af\u68ee\u6797 $g$ \u5168\u90e8\u7531\u73af\u7ec4\u6210\u3002\u8bbe\u6240\u6709\u73af\u7684\u5927\u5c0f\u7ec4\u6210\u7684\u96c6\u5408\u4e3a $A$\uff0c\u5219 $A$ \u9700\u8981\u6ee1\u8db3\u5982\u4e0b\u6761\u4ef6\uff1a\n\n* $\\operatorname{lcm} A \\geq 10^9$\n* $\\sum A \\le 110$\n\n\uff0c\u7206\u641c\u53ef\u5f97 $A = \\{4, 5, 7, 9, 11, 13, 17, 19, 23\\}$\u3002\u4e8e\u662f\u5f97\u5230\u4e86 $a_i$\u3002\n\n\u4e8e\u662f\u8003\u8651 $f$ \u7684\u6784\u9020\uff1a\u53d1\u73b0 $\\forall a \\in A$\uff0c\u90fd\u53ef\u4ee5\u7b80\u5355\u5730\u627e\u5230 $n \\bmod a$\uff0cCRT \u5373\u53ef\u3002",
        "postTime": 1674386423,
        "uid": 360265,
        "name": "lhx1048576",
        "ccfLevel": 6,
        "title": "stO pb Orz"
    },
    {
        "content": "### \u7b80\u5316\u9898\u610f\n\n- \u672c\u9898\u662f\u4e00\u9053\u4ea4\u4e92\u9898\u3002\n- \u9996\u5148\u4f60\u8f93\u51fa\u4e00\u4e2a\u6570 $M$\uff0c\u5e76\u6ee1\u8db3 $1 \\le M \\le 110$\u3002\n- \u7136\u540e\u4f60\u8f93\u51fa $M$ \u4e2a\u6570 $A _ i$\uff0c\u6ee1\u8db3 $1 \\le A _ i \\le M$\u3002\n- \u8fd9\u65f6\u4ea4\u4e92\u5e93\u4f1a\u7ed9\u51fa $M$ \u4e2a\u6570 $B _ i$\uff0c\u6ee1\u8db3 $B _ i = f ^ N (i)$\uff08$N$ \u662f\u4ea4\u4e92\u5e93\u5df2\u7ecf\u51c6\u5907\u597d\u7684\u4e00\u4e2a\u6570\uff0c\u4f60\u4e0d\u77e5\u9053 $N$ \u662f\u591a\u5c11\uff09\u3002\n- \u5176\u4e2d $f (i) = A _ i$\uff0c$f ^ N (i) = f(f(f(\\cdots f(f(i)))))$\uff0c\u5176\u4e2d\u6709 $N$ \u4e2a $f$\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c$f ^ N (i) = A _ {A _ {A _ {A _ {\\cdots _ {A _ i}}}}}$\u5176\u4e2d\u6709 $N$ \u4e2a $A$\u3002\n- \u6700\u540e\u4f60\u8981\u6839\u636e $B _ i$ \u731c\u51fa $N$ \u7684\u503c\u5e76\u8f93\u51fa\u3002\n- \u5728\u6bcf\u4e00\u6b21\u8f93\u51fa\u5b8c\u540e\uff0c\u8981\u53e6\u8d77\u4e00\u884c\u5e76\u7528 `std::cout << flush` \u6216 `fflush (stdout)`\uff0c\u5426\u5219\u53ef\u80fd\u4f1a `TLE`\u3002\n- $1 \\le N \\le 10 ^ 9$\u3002\n\n### \u89e3\u9898\u601d\u8def\n\n#### Part 1\uff1a\u4f59\u6570\u4e0e\u73af\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u6784\u9020\u51fa\u7531\u5f88\u591a\u4e2a\u300c\u73af\u300d\u7ec4\u6210\u7684 $A$ \u6570\u7ec4\u3002\u5177\u4f53\u5730\uff0c\u5982 $M = 3$ \u65f6\uff0c$A = [2, 3, 1]$\uff0c\u5219\u79f0 $A$ \u6570\u7ec4\u662f\u300c\u73af\u72b6\u300d\u7684\u3002\n\n\u300c\u73af\u72b6\u300d\u6570\u7ec4\u7684\u4f5c\u7528\u662f\u80fd\u77e5\u9053 $(N - 1) \\bmod M$ \u7684\u503c\u3002\u6bd4\u5982\u521a\u624d\u4e3e\u7684\u4f8b\u5b50\uff0c\u5982\u679c $B = [3, 1, 2]$\uff0c\u5219 $(N - 1) \\bmod M = 1$\u3002\n\n\u56e0\u4e3a\u6211\u4eec\u53d1\u73b0\uff0c$N = 1$ \u65f6 $B _ i = A _ i$\u3002\n\n\u5f53 $N = 2$ \u65f6\uff0c$B _ 1 = f ^ 2 (1) = A _ {A _ 1} = A _ 2 = 3, B _ 2 = f ^ 2 (2) = A _ {A _ 2} = A _ 3 = 1, B _ 3 = f ^ 2 (3) = A _ {A _ 3} = A _ 1 = 2$\u3002\n\n$N$ \u6bcf\u589e\u52a0 $1$\uff0c\u4f4d\u7f6e\u5904\u4e8e $[2, M]$ \u7684\u6570\u5b57\u5168\u90fd\u5f80\u524d\u79fb\u4e86\u4e00\u4f4d\uff0c\u4f4d\u7f6e\u5904\u4e8e $1$ \u7684\u6570\u5b57\u5219\u79fb\u5230\u4e86 $M$ \u7684\u4f4d\u7f6e\u4e0a\uff0c\u5c31\u50cf\u4e00\u4e2a\u73af\u3002$N = k$ \u548c $N = k + M$ \u65f6\u7684 $B$ \u6570\u7ec4\u603b\u662f\u4e00\u6837\u7684\u3002\n\n\u4e8e\u662f\uff0c\u7528\u521a\u624d\u4e3e\u7684\u4f8b\u5b50\uff0c\u5f53 $N = 3k + 2$ \u65f6\uff0c$B = [3, 1, 2]$\u3002\n\n\u5982\u4f55\u786e\u5b9a $(N - 1) \\bmod M$ \u7684\u503c\uff1f\u53ef\u6309\u89c4\u5f8b\u53d1\u73b0\uff0c$(N - 1) \\bmod M = B _ M - 1$\u3002\n\n#### Part 2\uff1a\u591a\u73af\u95ee\u9898\n\n\u867d\u7136\u6211\u4eec\u53ef\u4ee5\u786e\u5b9a $(N - 1) \\bmod M$ \u7684\u503c\uff0c\u4f46\u662f\u8fd8\u662f\u4e0d\u77e5\u9053 $N$ \u7684\u503c\u662f\u591a\u5c11\u3002\u8fd9\u53ef\u901a\u8fc7\u6784\u9020\u591a\u4e2a\u957f\u5ea6\u4e0d\u7b49\u4e14\u4e92\u8d28\u7684\u73af\u6765\u89e3\u51b3\u3002\n\n\u6ce8\u610f\u5230 $1 \\le N \\le 10 ^ 9$\u3002\u6839\u636e\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\uff0c\u6211\u4eec\u53ef\u77e5\u5f53\u8fd9\u4e9b\u4e0d\u7b49\u4e14\u4e92\u8d28\u7684\u73af\u957f\u7684\u4e58\u79ef $\\ge 10 ^ 9$ \u65f6\uff0c\u5c31\u53ef\u6c42\u51fa $N$ \u7684\u503c\u3002\n\n\u5177\u4f53\u6765\u8bf4\uff0c\u8bbe\u6709 $k$ \u4e2a\u73af\uff0c\u7b2c $i$ \u4e2a\u73af\u7684\u957f\u5ea6\u4e3a $M _ i$\uff0c\u90a3\u4e48\u6ee1\u8db3 $M = M _ 1 + M _ 2 + \\cdots + M _ k \\le 110$ \u4e14 $M _ 1 M _ 2 \\cdots M _ k \\ge 10 ^ 9$\u3002\n\n\u53c8\u7531\u4e8e $M _ i$ \u4e4b\u95f4\u4e24\u4e24\u4e92\u8d28\uff0c\u6700\u7ec8\u786e\u5b9a\u4e0b\u6765 $k = 9, M _ 1 = 4, M _ 2 = 9, M _ 3 = 5, M _ 4 = 7, M _ 5 = 11, M _ 6 = 13, M _ 7 = 17, M _ 8 = 19, M _ 9 = 23$\u3002\n\n\u8fd9\u6837\uff0c$\\sum M _ i = 108, \\prod M _ i = 1338557220$\uff0c\u7b26\u5408\u8981\u6c42\u3002\n\n**\u73af\u7684\u5177\u4f53\u6784\u6210\uff1a**\n\n```\n2 3 4 1 6 7 8 9 10 11 12 13 5 15 16 17 18 14 20 21 22 23 24 25 19 27 28 29 30 31 32 33 34 35 36 26 38 39 40 41 42 43 44 45 46 47 48 49 37 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 50 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 67 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 86\n```\n\n\u8fd9\u6837\uff0c\u8bbe $s _ i$ \u4e3a $\\sum \\limits _ {j = 1} ^ i M _ j$\uff0c$r _ i$ \u4e3a $(N - 1) \\bmod M _ i$ \u7684\u503c\uff0c\u5219\u7c7b\u4f3c\u4e00\u4e2a\u73af\u7684\u60c5\u51b5\uff0c$r _ i = B _ {S _ i} - S _ {i - 1} - 1$\u3002\n\n#### Part 3\uff1a\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\n\n\u4e0d\u4f1a\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\u53ef\u4ee5\u5148\u53bb\u505a\u4e00\u4e0b\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\u7684[\u6a21\u677f\u9898](/problem/P1495)\u3002\n\n\u6839\u636e Part 2\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e0b\u540c\u4f59\u65b9\u7a0b\u7ec4\uff1a\n$$\n\\begin {cases}\nN - 1 \\equiv r _ 1 \\pmod {M _ 1} \\\\\nN - 1 \\equiv r _ 2 \\pmod {M _ 2} \\\\\n\\kern {3.141592653589793238462643383em} \\vdots \\\\\nN - 1 \\equiv r _ k \\pmod {M _ k}\n\\end {cases}\n$$\n\u5176\u4e2d $r _ i$ \u4e4b\u95f4\u4e24\u4e24\u4e92\u8d28\u3002\u4e8e\u662f\u6211\u4eec\u53ef\u901a\u8fc7\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\u6c42\u51fa $N - 1$\uff0c\u6700\u540e\u8f93\u51fa\u7b54\u6848 $N$\u3002\n\n\u5177\u4f53\u5730\uff0c\u8bbe $P$ \u4e3a $\\prod M _ i$\uff0c\u7531\u4e8e $M _ i$ \u4e0d\u5927\uff0c\u6211\u4eec\u53ef\u66b4\u529b\u6c42\u51fa ${P \\over M _ i}$ \u7684\u4e58\u6cd5\u9006\u5143 $\\big ({P \\over M _ i} \\big) ^ {-1}$\uff0c$N - 1 = \\bigg (\\sum \\limits _ {i = 1} ^ k {P \\over M _ i} \\big({P \\over M _ i}\\big) ^ {-1} r _ i \\bigg ) \\bmod P$\u3002\n\n### AC Code\n\n```cpp\n#include <cstdio>\n#define n 9\n#define N (int)11.4514\nusing namespace std;\n\nconst int p[N] = {0, 4, 9, 5, 7, 11, 13, 17, 19, 23}; // \u9009\u51fa\u7684\u51e0\u4e2a\u8d28\u6570\n\nint tot, a[N], s[N];\nlong long prod = 1, now, ans;\n\nint main ()\n{\n    puts (\"108\"), fflush (stdout);\n    for (int i = 1; i <= n; i ++)\n    {\n        s[i] = s[i - 1] + p[i], prod *= p[i]; // \u5904\u7406\u524d\u7f00\u548c\u4e0e\u4e58\u79ef\n    }\n    for (int i = 1; i <= n; i ++)\n    {\n        while (++ tot < s[i])\n        {\n            printf (\"%d \", tot + 1);\n        }\n        printf (\"%d \", s[i - 1] + 1);\n    }\n    puts (\"\"), fflush (stdout), tot = 0;\n    for (int i = 1; i <= n; i ++)\n    {\n        while (++ tot < s[i])\n        {\n            scanf (\"%d\", &a[i]);\n        }\n        scanf (\"%d\", &a[i]), a[i] -= s[i - 1] + 1;\n    }\n    for (int i = 1; i <= n; i ++)\n    {\n        for (int j = 1; j < p[i]; j ++)\n        {\n            if (prod / p[i] * j % p[i] == 1) // \u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\uff1aj \u662f\u6a21 p[i] \u610f\u4e49\u4e0b prod / p[i] \u7684\u4e58\u6cd5\u9006\u5143\n            {\n                now = prod / p[i] * j;\n                break;\n            }\n        }\n        ans = (ans + now * a[i]) % prod; // \u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\n    }\n    printf (\"%lld\", ans + 1);\n    return 0;\n}\n```",
        "postTime": 1674375261,
        "uid": 726577,
        "name": "yemuzhe_",
        "ccfLevel": 4,
        "title": "[ABC286F] Guess The Number 2"
    },
    {
        "content": "\u5982\u679c\u5c06 $i\\to a_i$ \u8fde\u8fb9\uff0c\u5c31\u4f1a\u5f62\u6210 $k$ \u4e2a\u957f\u5ea6\u4e3a $c_1,c_2,\\cdots,c_k$ \u7684\u73af\u3002\u6240\u4ee5\u4ea4\u4e92\u5e93\u76f8\u5f53\u4e8e\u544a\u8bc9\u6211\u4eec\u4e86 $n \\bmod c_1,n\\bmod c_2,\\cdots,n\\bmod c_k$ \u7684\u503c\u3002\u8fd9\u5f15\u5bfc\u6211\u4eec\u6784\u9020\u5408\u9002\u7684 $k$ \u548c\u4e24\u4e24\u4e92\u8d28\u7684 $c_1,c_2,\\cdots,c_k$\uff0c\u7136\u540e\u4f7f\u7528\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\u6c42\u89e3\u3002\n\n\u5148\u770b\u770b\u9898\u76ee\u4e2d\u7684\u9650\u5236\u6761\u4ef6\uff1a\n\n- $1\\le N \\le 10^9$\n\n\u610f\u5473\u7740 $\\prod c_i$ \u9700\u8981 $> 10^9$\uff0c\u5426\u5219\u5c31\u4e0d\u80fd\u786e\u5b9a\u552f\u4e00\u89e3\uff08\u56e0\u4e3a\u82e5\u5b58\u5728\u4e00\u4e2a $x$ \u6ee1\u8db3\u6761\u4ef6\uff0c\u5219 $x+\\prod c_i$ \u4e5f\u5fc5\u5b9a\u6ee1\u8db3\u6761\u4ef6\uff09\u3002\n\n- $1 \\le M \\le 110$\n\n\u610f\u5473\u7740 $\\sum c_i \\le 110$\u3002\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u6839\u636e\u8fd9\u4e24\u4e2a\u6761\u4ef6\u53bb\u6784\u9020 $c_1,c_2,c_3,\\cdots,c_k$ \u4e86\u3002\u4e0d\u662f\u5f88\u96be\uff0c\u6211\u6700\u540e\u5f97\u5230\u7684\u7ed3\u679c\u662f $\\{4, 9, 5, 7, 11, 13, 17, 19, 23\\}$\u3002\n\n\u6700\u540e\u6839\u636e $c_1,c_2,\\cdots,c_k$ \u6784\u9020 $a_1,a_2,\\cdots,a_M$\uff0c\u5176\u4e2d $M=\\sum c_i$\uff0c\u5728\u6211\u7684\u6784\u9020\u4e2d\u4e3a $108$\u3002\n\n\u82e5\u53ea\u6709\u4e00\u4e2a\u957f\u4e3a $x$ \u7684\u73af\uff0c\u5219\u53ef\u4ee5\u6784\u9020 $a_1=2,a_2=3,\\cdots,a_{x-1}=x,a_x=1$\uff0c\u53ef\u5f97 $n\\equiv b_x(\\bmod x)$\u3002\u90a3\u4e48\uff0c\u5bf9\u4e8e $k$ \u4e2a\u73af\uff0c\u6211\u4eec\u4e00\u4e2a\u4e00\u4e2a\u6784\u9020\u5373\u53ef\u3002\u5bf9\u4e8e\u7b2c $i$ \u4e2a\u73af\uff0c\u6784\u9020 $a_{1+v}=2+v,a_{2+v}=3+v,\\cdots,a_{c_i-1+v}=c_i+v,a_{c_i+v}=1+v$\uff0c\u53ef\u5f97 $n\\equiv b_{v+c_i}-v(\\bmod c_i)$\uff0c\u5176\u4e2d $v=\\sum_{j=1}^{i-1} c_j$\u3002\n\n\u6700\u540e\u8dd1\u4e00\u904d\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\u5373\u53ef\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\n\nint read() {\n\tint s = 0, f = 1;\n\tchar ch = getchar();\n\twhile (ch < '0' || ch > '9')\n\t\tf = (ch == '-' ? -1 : 1), ch = getchar();\n\twhile (ch >= '0' && ch <= '9')\n\t\ts = (s << 1) + (s << 3) + (ch ^ 48), ch = getchar();\n\treturn s * f;\n}\n\nint M = 108, a[115], b[115];\nint cnt = 9, p[10] = {0, 4, 9, 5, 7, 11, 13, 17, 19, 23}, r[10];\nint m[10], t[10];\n\nint phi(int x) {\n\tint cnt = 0;\n\tfor (int i = 1; i <= x; i++)\n\t\tcnt += (__gcd(i, x) == 1);\n\treturn cnt;\n}\n\nint fpow(int a, int b, int p) {\n\tint ans = 1;\n\twhile (b) {\n\t\tif (b & 1)\n\t\t\tans = (ans * a) % p;\n\t\ta = (a * a) % p, b >>= 1;\n\t}\n\treturn ans;\n}\n\nint CRT() {\n\tint M = 1;\n\tfor (int i = 1; i <= cnt; i++)\n\t\tM *= p[i];\n\tfor (int i = 1; i <= cnt; i++)\n\t\tm[i] = M / p[i], t[i] = fpow(m[i] % p[i], phi(p[i]) - 1, p[i]);\n\tint ans = 0;\n\tfor (int i = 1; i <= cnt; i++)\n\t\tans += m[i] * t[i] * r[i];\n\treturn ans % M;\n}\n\nsigned main() {\n\tcout << M << endl;\n\tfor (int i = 1, cur = 0; i <= cnt; cur += p[i++]) {\n\t\tfor (int j = 1; j < p[i]; j++)\n\t\t\tcout << (a[cur + j] = cur + j + 1) << ' ';\n\t\tcout << (a[cur + p[i]] = cur + 1) << ' ';\n\t}\n\tcout << endl;\n\tfor (int i = 1; i <= M; i++)\n\t\tb[i] = read();\n\tfor (int i = 1, cur = 0; i <= cnt; cur += p[i++])\n\t\tr[i] = b[cur + p[i]] - cur;\n\tcout << CRT() << endl;\n\treturn 0;\n}\n```",
        "postTime": 1674353934,
        "uid": 483037,
        "name": "Galex",
        "ccfLevel": 6,
        "title": "ABC286F \u9898\u89e3"
    },
    {
        "content": "\u8003\u8bd5\u65f6\u6ca1\u505a\u51fa\u6765\u2026\u2026\u51d1\u4e0d\u5230\u5982\u4e0b\u8bb2\u7684 $t_i$\u2026\u2026\n\n\u8fd9\u9898\u5176\u5b9e\u5c31\u662f\u8bf4\uff0c\u4f60\u6709 $m\\le 110$ \u4e2a\u8282\u70b9\uff0c\u4f60\u8981\u9020\u51fa $x$ \u4e2a\u73af\uff0c\u7b2c $i$ \u4e2a\u73af\u7684\u5927\u5c0f\u4e3a $t_i(\\sum_{i=1}^xt_i=m)$\uff0c\u95ee\u4f60\u5982\u4f55\u9009\u62e9 $t_i$ \u4f7f\u5f97\u4ed6\u4eec\u80fd\u65ad\u5b9a\u51fa\u552f\u4e00\u7684\u4e00\u4e2a $N$\uff1a\n\n$$\\begin{aligned}N\\equiv b_1 \\pmod {t_1}\\\\N\\equiv b_2 \\pmod {t_2}\\\\\\cdots\\cdots\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\\\N\\equiv b_m \\pmod {t_m}\\\\\\end{aligned}$$\n\n\u4e8e\u662f\u8fd9\u4e0d\u5c31\u662f\u4e00\u4e2a\u6269\u5c55\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\u7684\u677f\u5b50\u5417\uff1f\u4e8e\u662f\u53ea\u8981\u65ad\u5b9a\u4e86 $t_i$\uff0c\u4e00\u5207\u5c31\u90fd\u6ca1\u95ee\u9898\u4e86\u3002\u6240\u4ee5\u6211\u628a $t_i$ \u653e\u5230\u6700\u540e\u8bb2\uff0c\u5148\u8bb2\u5982\u4f55\u8f6c\u5316\u540e\u8f93\u51fa\u8be2\u95ee\u3002\n\n\u6211\u4eec\u4ee5\u7b2c\u4e00\u4e2a\u73af\u4e3a\u4f8b\u3002\u56e0\u4e3a\u8fde\u8fb9\u662f $i\\rightarrow a_i$\uff0c\u6240\u4ee5\u8fd9\u610f\u5473\u7740\u6211\u4eec\u5982\u679c\u8981\u9020\u6210\uff08\u6bd4\u5982\u4e0b\u56fe\uff09\u7684\u73af\uff0c![](https://cdn.luogu.com.cn/upload/image_hosting/61z8jnit.png)\n\u5c31\u8981 $a$ \u6570\u7ec4 $=\\{2, 3, 4, 5, 1\\}$\u3002\u4e8e\u662f\u6211\u4eec\u6709\u4e86\u60f3\u6cd5\uff0c\u5c31\u662f\u521a\u597d\u9519\u5f00\u4e00\u4f4d\u8fde\u8fb9\u3002\u7136\u540e\u8981\u6c42 $N \\bmod t_i$\uff0c\u5c31\u662f\u73af\u4e0a\u7684\u4e00\u4e2a\u70b9 $x$ \u7684 $(b_x-a_x)\\bmod t_i$\u3002\u4e8e\u662f\u8f93\u51fa\u5c31\u7b80\u5355\u4e86\u3002\n\n\u6700\u540e\u6765\u8bf4\u8bf4\u51d1 $t_i$ \u7684\u95ee\u9898\u3002\u5176\u5b9e\u5c31\u662f $\\sum t_i \\le 110$ \u4e14 $\\operatorname{lcm}\\{ t_i\\} \\ge 10^9$ \u7684\u95ee\u9898\u3002\u5148\u628a\u8d28\u6570\u8868\u6253\u51fa\u6765\uff0c\u53d1\u73b0 $2$ \u5230 $23$ \u548c\u4e3a $100$\uff0c\u4f46\u79ef\u4e0d\u591f\u3002\u6211\u4eec\u4ece\u6700\u7b80\u5355\u7684\u60c5\u51b5\u5f00\u59cb\u8003\u8651\uff0c\u5373\u589e\u52a0 $2$ \u548c $3$\uff0c\u5c31\u53ef\u4ee5\u6700\u5927\u5316\u7b54\u6848\u3002\u4e8e\u662f\u6211\u4eec\u5148\u5c1d\u8bd5\u628a $2$ \u53d8\u6210 $8$\uff0c\u53d1\u73b0 $3$ \u53d8\u4e0d\u52a8\u4e86\uff0c\u4e0d\u884c\uff1b**\u4e8e\u662f\u518d\u628a $2$ \u53d8\u6210 $4$\uff0c$3$ \u521a\u597d\u53d8\u6210 $9$\uff0c\u591f\u4e86 $10^9$ \u4e14\u548c\u4e5f\u53ea\u662f $108$\u3002** \u4e0a\u9762\u6807\u9ed1\u7684\u5730\u65b9\u5c31\u662f\u6211\u8003\u573a\u6ca1\u60f3\u5230\u7684\u5730\u65b9\u3002\n\n\u4ee3\u7801\uff1a[38230669](https://atcoder.jp/contests/abc286/submissions/38230669)",
        "postTime": 1674310403,
        "uid": 380730,
        "name": "LKX_Wata",
        "ccfLevel": 7,
        "title": "ABC286F \u9898\u89e3"
    }
]