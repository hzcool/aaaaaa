[
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT688)\n\n## \u601d\u8def\uff1a\n\n\u5176\u5b9e\u6211\u4e00\u5f00\u59cb\u7684\u60f3\u6cd5\u4e5f\u662f DP\uff0c\u4f46\u662f\u8f6c\u79fb\u7684\u65f6\u5019\u6bd4\u8f83\u9ebb\u70e6\uff08\u4e5f\u6709\u53ef\u80fd\u662f\u672c\u4eba\u592a\u5f31\uff09\u3002\n\n\u4e8e\u662f\u6211\u4ece\u6837\u4f8b\u5f00\u59cb\u601d\u8003\uff0c\u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u60f3\u8981\u8981\u6c42\u5220\u9664\u7684\u6b21\u6570\u6700\u5927\uff0c\u5c31\u9700\u8981\u8ba9\u5220\u6389\u4e00\u4e2a `iwi` \u4e4b\u540e\u8fd8\u80fd\u518d\u751f\u6210\u4e00\u4e2a `iwi`\u3002\n\n\u90a3\u4e48\u751f\u6210\u7684\u6761\u4ef6\u662f\u4ec0\u4e48\u5462\uff1f\u5f88\u660e\u663e\uff0c\u5c31\u662f\u5728\u539f\u6709\u7684\u4e00\u4e2a `iwi` \u7684\u5de6\u4fa7\u6216\u53f3\u4fa7\u8fd8\u6709\u4e00\u4e2a `i`\uff0c\u8fd9\u6837\u6709\u53ef\u80fd\u7ee7\u7eed\u751f\u6210\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5148\u5728\u5b57\u7b26\u4e32\u4e2d\u627e\u5230\u6240\u6709\u7684 `iiwi` \u548c `iwii` \u5e76\u5220\u9664\uff0c\u6700\u540e\u518d\u626b\u4e00\u904d\u5b57\u7b26\u4e32\u5220\u9664 `iwi` \u5373\u53ef\u3002\n\n\u6700\u540e\u7684\u5220\u9664\u6b21\u6570\u4e3a\uff1a$(len-|S|)/3$ \uff08$len$ \u4e3a\u539f\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff09\n\n## AC CODE\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstring s;\nint main(){\n\tcin>>s;\n\tint len=s.size();\n\twhile(s.find(\"iwii\")!=s.npos)s.erase(s.find(\"iwii\"),3);\n\twhile(s.find(\"iiwi\")!=s.npos)s.erase(s.find(\"iiwi\")+1,3);\n\twhile(s.find(\"iwi\")!=s.npos)s.erase(s.find(\"iwi\"),3);\n\tint ans=(len-s.size())/3;\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1665738866,
        "uid": 373355,
        "name": "alex_liu",
        "ccfLevel": 0,
        "title": "\u30a4\u30a6\u30a3"
    },
    {
        "content": "## Solution\n\n\u5f88\u7ecf\u5178\u7684\u533a\u95f4 DP \u4e86\uff0c\u6211\u4eec\u5b9a\u4e49 $f_{i,j}$ \u8bb0\u5f55 $i$ \u5230 $j$ \u80fd\u5220\u6389\u591a\u5c11\u5b57\u7b26\uff0c\u663e\u7136\u6700\u540e\u7b54\u6848\u5e94\u9664\u4ee5\u4e09\u3002\n\n\u56e0\u4e3a\u7b54\u6848\u8ba1\u7b97\u7684\u662f\u6700\u5927\u7684\u6b65\u6570\uff0c\u90a3\u4e48\u5bf9\u4e8e\u4e00\u4e2a\u5927\u533a\u95f4\uff0c\u8003\u8651\u5728\u4e00\u822c\u60c5\u51b5\u4e0b\u7684\u7b54\u6848\u5c31\u5e94\u8be5\u662f\u5176\u5206\u6210\u7684\u4e24\u4e2a\u5c0f\u533a\u95f4\u7684\u7b54\u6848\u4e4b\u548c\u3002\u8003\u8651\u679a\u4e3e\u8fd9\u4e24\u4e2a\u533a\u95f4\u4e4b\u95f4\u7684\u5206\u754c\u70b9 $k$\uff0c\u7b54\u6848\u533a\u6700\u5927\u503c\u5373\u53ef\u3002\u6bd4\u8f83\u7c7b\u4f3c\u4e0e\u5408\u5e76\u77f3\u5b50\u3002\n\n\u4f46\u6709\u4e9b\u60c5\u51b5\u76f4\u63a5\u76f8\u52a0\u662f\u4e0d\u6b63\u786e\u7684\u3002\u5373\u5982\u679c $i$ \u548c $j$ \u4f4d\u7f6e\u4e0a\u90fd\u662f `i`\uff0c$k$ \u4f4d\u7f6e\u4e0a\u662f `w`\uff0c\u4e14\u4e2d\u95f4\u7684\u4e24\u4e2a\u5c0f\u6bb5\u53ef\u4ee5\u88ab\u5b8c\u5168\u5220\u9664\u3002\u90a3\u4e48\uff0c\u5f53\u4e2d\u95f4\u7684\u88ab\u5220\u6389\u4e4b\u540e\uff0c\u5de6\u53f3\u7684 `i` \u548c\u4e2d\u95f4\u7684 `w` \u5c31\u4f1a\u62fc\u5728\u4e00\u8d77\uff0c\u4e5f\u53ef\u4ee5\u5220\u6389\uff0c\u90a3\u4e48\u8fd9\u4e2a\u533a\u95f4\u7684\u7b54\u6848\u5c31\u5e94\u8be5\u662f\u5b83\u7684\u957f\u5ea6\uff0c\u4f46\u663e\u7136\u76f4\u63a5\u76f8\u52a0\u6709\u53ef\u80fd\u4f1a\u51fa\u9519\u3002\n\n## AC code:\n```cpp\n#include <bits/stdc++.h>\n#include <cstring>\nusing namespace std;\nconst int N = 303;\nchar s[N];\nint n,f[N][N];\nint main(){\n   scanf(\"%s\",s+1);\n    n = strlen(s+1);\n    for(int len = 2;len <= n;len ++){\n        for(int i = 1;i+len-1 <= n;i ++){\n            int j = i+len-1;\n            for(int k = i;k < j;k ++){\n                f[i][j] = max(f[i][j],f[i][k]+f[k+1][j]);\n                if(s[i] == 'i' && s[j] == 'i' && s[k] == 'w' && f[i+1][k-1] == k-i-1 && f[k+1][j-1] == j-1-k)f[i][j] = j-i+1;\n            }\n            //cout << f[i][j] << endl;\n        }\n    }\n    cout << f[1][n] / 3 << endl;\n    return 0;\n}\n```",
        "postTime": 1682137306,
        "uid": 343342,
        "name": "SDFZ_Obvious",
        "ccfLevel": 4,
        "title": "\u30a4\u30a6\u30a3 \u9898\u89e3"
    },
    {
        "content": "\u6240\u4ee5 `iwi` \u5230\u5e95\u662f\u5565\u610f\u601d\uff1f\u3002\n\n------------\n\n\u8003\u8651\u533a\u95f4 dp\u3002\n\n\u7528 $dp_{i,j}$ \u8868\u793a\u4ece $i$ \u5230 $j$ \u7684\u6700\u5927\u64cd\u4f5c\u6570\u3002\n\n\u679a\u4e3e\u65ad\u70b9\uff0c\u80af\u5b9a\u53ef\u4ee5\u76f4\u63a5\u62fc\u63a5\u3002\n\n\u5982\u679c$i$ \u548c $j$ \u4e3a `i`\uff0c\u65ad\u70b9\u5904\u4e3a `w`\uff0c\u4e14\u4e24\u4e2a\u4e2d\u95f4\u5939\u7740\u7684\u90fd\u5220\u5b8c\uff08\u5373 $dp_{l+1,k-1}\\times3=k-l-1$ \u4e14 $dp_{k+1,r-1}\\times3=r-k-1$\uff09\u65f6\uff0c$dp_{i,j}=\\frac{r-l+1}{3}$\u3002\n\n\u603b\u4f53\u590d\u6742\u5ea6 $\\operatorname{O}(n^2)$\u3002\n\n------------\n\n\u8fd9\u9898\u5c31\u633a\u677f\u7684\u5427\u3002\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=384;\nint n,dp[maxn][maxn];\nchar s[maxn];\nint main(){\n    scanf(\"%s\",s+1);\n    n=strlen(s+1);\n    for(int i=1;i+2<=n;i++)\n        if(s[i]=='i'&&s[i+1]=='w'&&s[i+2]=='i')\n            dp[i][i+2]=1;\n    for(int len=4;len<=n;len++){\n        for(int l=1,r;l+len-1<=n;l++){\n            r=l+len-1;\n            for(int k=l;k<r;k++){\n                dp[l][r]=max(dp[l][r],dp[l][k]+dp[k+1][r]);\n                if(s[l]=='i'&&s[k]=='w'&&s[r]=='i'&&dp[l+1][k-1]*3==k-l-1&&dp[k+1][r-1]*3==r-k-1)\n                    dp[l][r]=(r-l+1)/3;\n            }\n        }\n    }\n    printf(\"%d\\n\",dp[1][n]);\n    return 0;\n}\n```\n",
        "postTime": 1685453009,
        "uid": 526094,
        "name": "Wf_yjqd",
        "ccfLevel": 0,
        "title": "AT_tdpc_iwi \u30a4\u30a6\u30a3"
    },
    {
        "content": "under \u9898\u89e3 [AT688](https://www.luogu.com.cn/problem/AT688)\n\n\u540c\u6b65\u53d1\u5e03\u4e8e[\u4e2a\u4eba\u535a\u5ba2](https://fa555.github.io/2020/\u67d0At\u7684dp\u573a/#I-\u30a4\u30a6\u30a3)\n\n### problem\n\n\u7ed9\u5b9a\u4e00\u4e2a\u4ec5\u7531\u5b57\u7b26 $\\texttt{i}$ \u548c $\\texttt{w}$ \u6784\u6210\u7684\u5b57\u7b26\u4e32 $s \\ (1 \\le |s| \\le 300)$\u3002\u4f60\u53ef\u4ee5\u8fdb\u884c\u82e5\u5e72\u6b21\u64cd\u4f5c\uff0c\u6bcf\u6b21\u4ece\u4e32\u4e2d\u9009\u53d6\u8fde\u7eed\u7684\u4e09\u4e2a\u5b57\u7b26 $\\texttt{iwi}$ \u5e76\u5220\u9664\u3002\u5220\u9664\u540e\u8fd9\u4e09\u4e2a\u5b57\u7b26\u7684\u5de6\u4fa7\u548c\u53f3\u4fa7\u4f1a\u8fde\u63a5\u5728\u4e00\u8d77\uff0c\u5f97\u5230\u4e00\u4e2a\u957f\u5ea6\u6bd4\u539f\u6765\u5c0f $3$ \u7684\u65b0\u4e32\u3002\u6c42\u53ef\u80fd\u7684\u6700\u5927\u64cd\u4f5c\u6b21\u6570\u3002\n\n### solution & code 1\n\n\u8bbe $f_{l, r}$ \u8868\u793a $s$ \u7684\u5b50\u4e32 $s_{l..r}$ \u7684\u7b54\u6848\u3002\u8fd9\u4e2a\u53ef\u4ee5\u76f4\u63a5\u679a\u4e3e\u5206\u754c\u70b9 $m \\in [l, r)$ \u5206\u6cbb\u8f6c\u79fb\u3002\n\n\u5957\u4e0a\u8bb0\u5fc6\u5316\uff0c\u603b\u590d\u6742\u5ea6\u662f $O(n^2)$ \u7684\u3002\n\n``` cpp\nint f[303][303];\nstd::string s;\n\nint dfs(int l, int r) { // [l, r]\n  if (r - l <= 1) return 0;\n  if (f[l][r] != -1) return f[l][r];\n\n  int ans = 0;\n  for (int m = l; m < r; ++m) {\n    ans = std::max(ans, dfs(l, m) + dfs(m + 1, r));\n    if (s[l] == 'i' && s[m] == 'w' && s[r] == 'i')\n      if (dfs(l + 1, m - 1) == m - l - 1 && dfs(m + 1, r - 1) == r - m - 1)\n        ans = r - l + 1;\n  }\n  return f[l][r] = ans;\n}\n\nint solve() {\n  memset(f, -1, sizeof f);\n  std::cin >> s;\n  return dfs(0, s.size() - 1) / 3;\n}\n\n```\n\n### solution & code 2\n\n\u5176\u5b9e\u8fd9\u9898\u5927\u53ef\u4e0d\u5fc5 dp\u3002\u8003\u8651\u5220\u53bb\u4e00\u4e2a\u4e32 $\\texttt{iwi}$ \u540e\u5f53\u4e14\u4ec5\u5f53\u5b83\u7684\u5de6\u4fa7\u6216\u53f3\u4fa7\u662f $\\texttt{i}$ \u624d\u6709\u53ef\u80fd\u51fa\u73b0\u4e00\u4e2a\u65b0\u7684\u4e32 $\\texttt{iwi}$\u3002\n\n\u53ef\u4ee5\u9996\u5148\u5220\u53bb\u6240\u6709\u7684 $\\texttt{iwii}$ \u548c $\\texttt{iiwi}$ \u7684\u5b50\u4e32 $\\texttt{iwi}$\u3002\n\n\u603b\u590d\u6742\u5ea6\u4e5f\u662f $O(n^2)$\uff0c\u5e26\u4e00\u4e2a\u5f88\u5c0f\u7684\u5e38\u6570 ~~\uff0c\u5177\u4f53\u591a\u5c0f\u53d6\u51b3\u4e8e\u6570\u636e\u5f3a\u5ea6~~\u3002\n\n``` cpp\nstd::string s;\n\nint solve() {\n  std::cin >> s;\n  const int N = s.size();\n\n  for (std::string::size_type p = 0; ; )\n    if ((p = s.find(\"iiwi\")) != std::string::npos)\n      s.erase(p + 1, 3);\n    else if ((p = s.find(\"iwii\")) != std::string::npos)\n      s.erase(p, 3);\n    else break;\n\n  for (std::string::size_type p = 0; (p = s.find(\"iwi\", p)) != std::string::npos; )\n    s.erase(p, 3);\n\n  return (N - s.size()) / 3;\n}\n\n```",
        "postTime": 1585127541,
        "uid": 111890,
        "name": "fa_555",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT688 \u3010\u30a4\u30a6\u30a3\u3011"
    }
]