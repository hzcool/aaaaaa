[
    {
        "content": "\u5148\u653e[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT5616)\n\n## \u601d\u8def\n\n\u6211\u4eec\u53ef\u4ee5\u8f7b\u677e\u7684\u60f3\u5230\u8fd9\u4e2a\u6027\u8d28\uff1a\n\n- \u76f8\u90bb\u7684\u4e24\u4e2a\u9876\u70b9\uff0c\u5b83\u4eec\u6240\u5728\u7684\u96c6\u5408\u7f16\u53f7\u5dee\u7684\u7edd\u5bf9\u503c\u4e3a 1\u3002\n\n\u7531\u8fd9\u4e2a\u6027\u8d28\uff0c\u6211\u4eec\u53ef\u4ee5\u63a8\u51fa\uff1a\n\n- \u5bf9\u4e8e\u76f8\u90bb\u7684\u4e24\u4e2a\u9876\u70b9\uff0c\u5b83\u4eec\u6240\u5728\u7684\u96c6\u5408\u7f16\u53f7**\u5947\u5076\u6027\u4e0d\u540c**\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u4e8c\u5206\u56fe\u67d3\u8272\uff0c\u5982\u679c\u67d3\u8272\u5931\u8d25\u5219\u5224\u65ad\u65e0\u89e3\uff0c\u8f93\u51fa ```-1```\u3002\n\n\u5bf9\u4e8e\u6709\u89e3\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u53ef\u4ee5\u8dd1\u4e00\u904d Floyd\uff0c\u7136\u540e\u679a\u4e3e\u4e24\u4e2a\u7aef\u70b9\u627e\u5230\u6700\u77ed\u8def\uff0c\u7531\u7b2c\u4e00\u6761\u6027\u8d28\u53ef\u5f97\uff0c\u8fd9\u6761\u8def\u4e0a\u6bcf\u76f8\u90bb\u7684\u4e24\u4e2a\u70b9\u6240\u5728\u7684\u96c6\u5408\u7f16\u53f7\u5dee\u7684\u7edd\u5bf9\u503c\u90fd\u4e3a 1\uff0c\u6240\u4ee5\u8fd9\u6761\u8def\u4e0a\u70b9\u7684\u6570\u91cf\u5c31\u662f\u6211\u4eec\u8981\u6c42\u7684 $k$\u3002\n\n## Code\n\n```cpp\n/*\n * @Description: I want to be the weakest vegetable in the world!\n * @Author: CGBoy\n * @Date: 2022-01-26 18:10:39\n */\n#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define forr(i,a,n) for(int i=a;i<=n;i++)\n#define rep(i,n) forr(i,0,n-1)\n#define repp(i,n) forr(i,1,n)\n#define pb push_back\n#define mp make_pair\n#define init(a,i) memset(a,i,sizeof(a))\n#define fi first\n#define se second\n#define mod 1000000007\n#define MOD 998244353\n#define MAXN 0x3f3f3f3f\nint T, case_;\nint n;\nchar c;\nint col[220];\nbool fail = 0;\nvector<vector<int>>v;\nvoid dfs(int k) {\n    rep(i, v[k].size()) {\n        int x = v[k][i];\n        if (col[x] == -1) {\n            col[x] = 1 - col[k];\n            dfs(x);\n        }\n        else if (col[x] != 1 - col[k])fail = 1;\n    }\n}\nint ans = 0;\nint f[255][255][255];\nvoid solve() {\n    cin >> n;\n    v.resize(n + 1);\n    init(f[0], 63);\n    repp(i, n)f[0][i][i] = 0;\n    repp(i, n) {\n        repp(j, n) {\n            cin >> c;\n            if (c == '1')v[i].pb(j), f[0][i][j] = 1;\n        }\n    }\n    init(col, -1);\n    col[1] = 0;\n    dfs(1);\n    if (fail) {\n        printf(\"-1\");\n        return;\n    }\n    repp(k, n) {\n        repp(x, n) {\n            repp(y, n) {\n                f[k][x][y] = min(f[k - 1][x][y], f[k - 1][x][k] + f[k - 1][k][y]);\n            }\n        }\n    }\n    repp(i, n)repp(j, n)ans = max(ans, f[n][i][j]);\n    cout << ans + 1;\n}\nint main() {\n    T = 1;\n\n    for (case_ = 1;case_ <= T;case_++)solve();\n    return 0;\n}\n```\n",
        "postTime": 1643194828,
        "uid": 407564,
        "name": "Rushroom",
        "ccfLevel": 7,
        "title": "AT5616 [AGC039B] Graph Partition"
    },
    {
        "content": "# **\u5206\u6790\u9898\u76ee:**\n    \n\u8bfb\u4e86\u9898\u76ee\u4e4b\u540e\uff0c\u7b80\u5355\u7406\u89e3\u5c31\u662f\u5bf9\u56fe\u8fdb\u884c\u67d3\u8272\uff0c\u5f53\u56fe\u4e0d\u80fd\u67d3\u8272\u65f6\uff0c\u5c31\u8f93\u51fa -1.\n\n\u80fd\u67d3\u8272\u7684\u8bdd\uff0c\u5c31\u770b\u80fd\u6700\u591a\u67d3\u51fa\u591a\u5c11\u989c\u8272\u3002\u6211\u653e\u4e00\u5f20\u56fe\u4ee5\u4fbf\u7406\u89e3\n    ![](https://cdn.luogu.com.cn/upload/image_hosting/ot8h86we.png)\n\u56fe\u4e0a\u7684\u7ea2\u8272\u8def\u5f84\u5c31\u662f\u6211\u4eec\u80fd\u627e\u5230\u7684\u6700\u957f\u7684\u67d3\u8272\u8def\u5f84\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\uff0c\u53ef\u4ee5\u5c06\u56fe\u4e0a\u7684\u73af\u6302\u5728\u4e00\u6761\u94fe\u4e0a\u3002\u6211\u4eec\u7684\u4efb\u52a1\u5c31\u8f6c\u53d8\u6210\u4e86\u5728\u56fe\u4e0a\u627e\u5230\u8fd9\u4e2a\u4e0d\u4f1a\u7ed5\u7740\u73af\u8d70\u7684\u6700\u957f\u94fe\u3002\n\n\u65b9\u6cd5\u5c31\u662f\u5bf9\u6bcf\u4e2a\u70b9\u6c42\u5b83\u5728\u6574\u4e2a\u56fe\u4e2d\u7684\u6700\u77ed\u8def\uff0c\u7136\u540e\u53d6\u6700\u5927\u503c\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u907f\u514d\u51fa\u73b0\u7ed5\u7740\u73af\u8d70\u7684\u8def\u5f84\uff0c\u56e0\u4e3a\u5728\u6c42\u6700\u77ed\u8def\u65f6\uff0c\u6211\u4eec\u662f\u4e0d\u4f1a\u8d70\u73af\u7684\u6700\u957f\u8def\u5f84\u7684\u3002\n\n\u6570\u636e\u5f88\u5c0f\uff0c\u66b4\u529b\u6c42\u89e3\u5b8c\u5168\u6ca1\u6709\u95ee\u9898\u3002\n\n# **code:**\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<queue>\n#include<algorithm>\nconst int MAXN=2e4+10;\nconst int inf=1e9+10;\nusing namespace std;\nint n,ans;\nchar s[300];\nint a[300][300];\nstruct node{\n\tint Next,To;\n}e[MAXN*2];\nint head[MAXN*2],tot;\nvoid add(int u,int v){\n\te[++tot].Next=head[u];\n\te[tot].To=v;\n\thead[u]=tot;\n}\nint col[MAXN],viz[MAXN],bk[MAXN],dis[MAXN];\nbool flag;\nvoid dfs(int now,int c,int fa){\n\tcol[now]=c;\n\tviz[now]=true;\n\tint t=3-c;\n\tfor(int i=head[now];i;i=e[i].Next){\n\t\tint v=e[i].To;\n\t\tif(col[v]==col[now]){\n\t\t\tflag=true;\n\t\t\treturn;\n\t\t}//\u56fe\u4e0a\u67d3\u8272\uff0c\u5f53\u641c\u5230\u7684\u70b9\u5df2\u7ecf\u67d3\u4e86\u989c\u8272\uff0c\u4f46\u662f\u4e0e\u76f8\u90bb\u7684\u70b9\u989c\u8272\u76f8\u540c\uff0c\u5c31\u662f\u4e0d\u884c\u7684\u3002\u76f4\u63a5\u9000\u51fa\u641c\u7d22\u3002\n\t\tif(!viz[v]) dfs(v,t,now);\n\t}\n}\nvoid spfa(int s){\n\tqueue<int> p;\n\tfor(int i=1;i<=n;i++){\n\t\tdis[i]=inf;\n\t\tbk[i]=false;\n\t}\n\tp.push(s);\n\tdis[s]=0;\n\tbk[s]=true;\n\twhile(!p.empty()){\n\t\tint k=p.front();\n\t\tp.pop();\n\t\tbk[k]=false;\n\t\tfor(int i=head[k];i;i=e[i].Next){\n\t\t\tint v=e[i].To;\n\t\t\tif(dis[v]>dis[k]+1){\n\t\t\t\tdis[v]=dis[k]+1;\n\t\t\t\tif(!bk[v]){\n\t\t\t\t\tp.push(v);\n\t\t\t\t\tbk[v]=true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nint main(){\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>s+1;\n\t\tfor(int j=1;j<=n;j++)\n\t\t    if(s[j]=='1') add(i,j);\n\t}\n\tdfs(1,1,-1);\n\tif(flag==true){\n\t\tcout<<\"-1\";\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tbfs(i);\n\t\tint tmp=0;\n\t\tfor(int j=1;j<=n;j++){\n\t\t\ttmp=max(tmp,dis[j]);\n\t\t}\n\t\tans=max(ans,tmp);\n\t}\n\tcout<<ans+1;//\u6211\u4eec\u6c42\u7684\u662f\u94fe\u7684\u957f\u5ea6\uff0c\u6240\u4ee5\u8981\u52a0\u4e00\u5f97\u5230\u70b9\u6570\u3002\n          //\u70b9\u6570\u624d\u662f\u6211\u4eec\u8981\u627e\u7684\u6700\u591a\u67d3\u8272\u6570\u91cf\u3002\n\treturn 0;\n}\n```\n\u5bf9\u4e8e\u5728\u56fe\u91cc\u5bf9\u6bcf\u4e2a\u70b9\u6c42\u6700\u77ed\u8def\u7684\u5e94\u7528\u8fd8\u6709\uff0c\n\u5982[AT838 \u76f4\u5f84](https://www.luogu.com.cn/problem/AT838)\u3002\n\u8c22\u8c22\u9605\u8bfb\u3002",
        "postTime": 1629895716,
        "uid": 299821,
        "name": "GTAyin",
        "ccfLevel": 5,
        "title": "CodeAT5616"
    }
]