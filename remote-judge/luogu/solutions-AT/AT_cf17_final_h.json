[
    {
        "content": "\u601d\u8def\uff1a\n \n\u8003\u8651dp\n\n\u5b9a\u4e49 $dp[a][b][c][d]$ \u8868\u793a\u4ee5 $(a,b)$ $and$ $(c,d)$ \u4e3a\u5bf9\u89d2\u7684\u53ef\u81ea\u7531\u64cd\u4f5c\u7684\u77e9\u5f62\u8ba9 $P$ \u6389\u4e0b\u53bb\u7684\u6700\u5c0f\u4ee3\u4ef7\uff0e\n \n \n\u90a3\u4e48\u5bf9\u4e8e\u4e00\u4e2a\u77e9\u5f62\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u4e2d\u95f4\u53d6\u4e00\u70b9 $(i,j)$ \u628a\u5b83\u5206\u6210\u56db\u4e2a\u90e8\u5206\n\u7136\u540e\u5bf9\u4e8e\u5305\u542b $P$ \u7684\u90a3\u4e2a\u77e9\u5f62\u6211\u4eec\u6253\u5305\u5904\u7406\uff0c\u800c\u5c06\u8fd9\u4e2a\u5b50\u77e9\u9635\u7684\u72b6\u6001\u8f6c\u79fb\u5230\u5f53\u524d\u8003\u8651\u7684\u72b6\u6001 $dp[a][b][c][d]$ \u9700\u8981\u6211\u4eec\u628a\u5305\u542b\uff30\u7684\u5b50\u77e9\u5f62\u4e24\u4e2a\u65b9\u5411\u7684\u5b50\u77e9\u5f62\u6316\u7a7a\uff0c\u6240\u4ee5\u9700\u8981\u52a0\u4e0a\u6316\u7a7a\u8fd9\u4e24\u5757\u7684\u4ee3\u4ef7\uff0c\u7136\u540e\u5bf9\u4e8e$(i,j)$ \u679a\u4e3e\u518d\u5206\u7c7b\u8ba8\u8bba\u53d6\u4e2a $min$ \u5c31\u597d\u4e86\n \n \n\u4e0b\u9762\u4e0a\u56fe\u8be6\u7ec6\u89e3\u91ca\uff1a\n![AT3609](https://cdn.luogu.com.cn/upload/pic/41760.png)\n\n\uff11\uff0e\u5927\u77e9\u5f62\u8868\u793a\u5f53\u524d\u72b6\u6001 $dp[a][b][c][d]$ ,\u5305\u542b $P$ \u7684\u7ea2\u8272\u90e8\u5206\u4e3a   $dp[i][j][c][d]$ \n\n\uff12\uff0e\u5c06\u5927\u77e9\u5f62\u53d8\u4e3a\u7ea2\u8272\u77e9\u5f62\u7684\u4ee3\u4ef7\u5c31\u662f\u6316\u6389\u7070\u8272\u90e8\u5206\u7684\u4ee3\u4ef7\uff0e\n\n\uff13\uff0e\u6240\u4ee5 $dp[a][b][c][d]$ $=$ $min${ $dp[i][j][c][d]$ $+$ \u6316\u53bb\u7070\u8272\u90e8\u5206\u7684\u4ee3\u4ef7}\n\n\uff14\uff0e$P$ \u7684\u5206\u5e03\u6709\u56db\u79cd\u60c5\u51b5\u6240\u4ee5\uff11\u5bf9\u56db\u79cd\u60c5\u51b5\u53d6\u4e2a $min$ \u5c31\u597d\u4e86",
        "postTime": 1541238263,
        "uid": 103989,
        "name": "VegTea",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT3609 \u3010Poor Penguin\u3011"
    },
    {
        "content": "[AT3609 Poor Penguin](https://www.luogu.com.cn/problem/AT3609)\n\n\u6a21\u62df\u8d5b T1 \u51fa\u4e86\u8fd9\u9053\u9898\uff0c\u88ab\u795e $\\texttt{m}\\color{red}{\\texttt{aoweishou}}$ \u573a\u5207\u4e86 orz\uff01\uff01\n\n\u8d5b\u65f6\u4ec5\u4ec5\u6784\u9020\u7684\u6570\u636e\u5e76\u6210\u529f Hack \u4e86\u4ece\u56db\u4e2a\u89d2\u51fa\u53d1\u7684\u60f3\u6cd5\uff0c\u4f46\u6ca1\u6709\u7ee7\u7eed\u60f3\u4e0b\u53bb\u3002\u3002\u88ab\u6253\u7206\u4e86\n\n### \u9898\u89e3\n\n\u9996\u5148\u6709\u4e00\u4e2a\u5047\u5230\u5929\u4e0a\u53bb\u7684 naive \u60f3\u6cd5\uff1a\u5206\u522b\u4ece\u56db\u4e2a\u89d2\u51fa\u53d1\uff0c\u5c06\u89d2\u5230\u7b54\u6848\u4f4d\u7f6e\u4e4b\u95f4\u7684\u6240\u6709\u539a\u51b0\u90fd\u7834\u574f\uff0c\u53d6\u6700\u5c0f\u7684\u4e3a\u7b54\u6848\u3002\u8fd9\u4e2a\u60f3\u6cd5\u53ef\u4ee5\u7528\u7c7b\u4f3c\u8fd9\u6837\u7684\u6570\u636e\u6765 Hack \u4e0a\u9762\u7684\u60f3\u6cd5\uff1a\n\n```\n..#....\n#.P....\n......#\n...#...\n```\n\n\u4e0a\u9762\u6700\u5c0f\u4ee3\u4ef7\u662f $0$\uff0c\u4f46\u5047\u7b97\u4f1a\u8f93\u51fa $1$\u3002\n\n\u60f3\u60f3\u4ece\u56db\u4e2a\u89d2\u51fa\u53d1\u7684\u601d\u8def\u5047\u5728\u4e86\u54ea\u91cc\uff1a\u7c7b\u4f3c\u4e0a\u9762\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a**\u4ece\u4e24\u4e2a\u89d2\u51fa\u53d1**\uff0c\u5c06\u8fd9\u4e2a\u77e9\u5f62**\u4ece\u4e2d\u95f4\u5206\u5f00\u4e3a\u56db\u4e2a\u77e9\u5f62**\uff0c\u8fd9\u56db\u4e2a\u77e9\u5f62\u53ef\u4ee5\u60f3\u539f\u6765\u7684\u77e9\u5f62\u4e00\u6837\u4ece\u56db\u4e2a\u89d2\u51fa\u53d1\uff0c\u72ec\u7acb\u4e8e\u5176\u4ed6\u90e8\u5206\u3002\n\n\u4e0a\u9762\u6211\u4eec\u5206\u522b\u4ece\u5de6\u4e0b\u3001\u53f3\u4e0a\u51fa\u53d1\u5c06\u6574\u4e2a\u77e9\u5f62\u5206\u4e3a\u4e86\u5982\u4e0b\u56db\u4e2a\u5c0f\u77e9\u5f62\uff1a\n\n```\n..#|....\n#.P|....\n---+----\n...|...#\n...|#...\n```\n\n\u901a\u8fc7\u8fd9\u6837\u4e00\u4e2a\u201c\u62c6\u5206\u201d\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u5c06\u4e00\u4e2a\u5168\u5c40\u95ee\u9898\u8f6c\u5316\u4e3a\u5c40\u90e8\u7684\u4e00\u4e2a\u5b50\u95ee\u9898\u3002\n\n\u8003\u8651\u8fdb\u884c\u4e00\u4e2a\u66b4\u529b DP\uff0c\u6c42\u51fa\u5c06\u6bcf\u4e2a\u77e9\u5f62\u63d0\u53d6\u51fa\u6765\u4e4b\u540e\u7684\u6700\u5c0f\u4ee3\u4ef7\uff0c\u518d\u5bf9\u8fd9\u4e9b\u5c0f\u77e9\u5f62\u4ece\u56db\u4e2a\u89d2\u51fa\u53d1\u5f97\u5230\u7b54\u6848\u3002\n\n\u90a3\u4e48\u201c\u62c6\u5206\u201d\u51fa\u5c0f\u77e9\u5f62\u7684\u4ee3\u4ef7\u662f\u591a\u5c11\u5462\uff1f\u4f8b\u5982\u4e0b\u56fe\uff0c\u5982\u679c\u9700\u8981\u62c6\u51fa\u5305\u542b `P` \u7684\u77e9\u5f62\uff0c\u5c31\u9700\u8981\u5c06\u5b83**\u76f8\u90bb\u4e24\u4e2a\u77e9\u5f62**\u5b8c\u5168\u6d88\u9664\u3002\n\n![](https://pic.imgdb.cn/item/62ee07d78c61dc3b8e0f1095.png)\n\n\u8bbe $dp(x_1,y_1,x_2,y_2)$ \u8868\u793a\u5c06\u4ee5\u5de6\u4e0a\u89d2\u4e3a $(x_1,y_1)$\uff0c\u53f3\u4e0b\u89d2\u4e3a $(x_2,y_2)$ \u7684\u77e9\u5f62\u4ece\u6574\u4e2a\u77e9\u5f62\u4e2d\u5256\u5206\u51fa\u6765\u7684\u6700\u5c0f\u4ee3\u4ef7\uff0c\n\n\u53ef\u4ee5 $\\mathcal{O(nm)}$ \u679a\u4e3e\u5256\u5206\u70b9\u66b4\u529b\u8f6c\u79fb\uff0c\u4ee3\u4ef7\u52a0\u4e0a\u76f8\u90bb\u5b50\u77e9\u5f62\u5185\u6240\u6709 `#` \u7684\u4e2a\u6570\u8f6c\u79fb\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u77e9\u5f62\uff0c\u8bb0**\u5256\u5206\u51fa\u6765\u7684\u4ee3\u4ef7**\u52a0\u4e0a\u4ece\u5b83\u7684**\u56db\u4e2a\u89d2\u51fa\u53d1**\u627e\u5230\u7b54\u6848\u70b9\u7684\u6700\u5c0f\u503c\u4e3a $ans$\uff0c \u6700\u7ec8\u7b54\u6848\u5c31\u662f\u6bcf\u4e2a\u77e9\u5f62 $ans$ \u7684\u6700\u5c0f\u503c\u3002\n\nDP \u521d\u59cb $dp(1,1,n,n)=0$\uff0c\u8fc7\u7a0b\u4e2d\u6ce8\u610f\u8f6c\u79fb\u987a\u5e8f\uff0c\u4e14\u8981\u6c42\u679a\u4e3e\u7684\u77e9\u9635\u5185\u4e00\u5b9a\u8981\u542b\u6709\u6700\u7ec8\u70b9\u3002\n\n### code\n\n```cpp\n// Author:A weak man named EricQian\n#include<bits/stdc++.h>\nusing namespace std;\n#define infll 0x3f3f3f3f3f3f3f3f\n#define inf 0x3f3f3f3f\n#define pb push_back\n#define eb emplace_back\n#define pa pair<int,int>\n#define fi first\n#define se second\ntypedef long long ll;\n#define Maxn 45\ninline int rd()\n{\n\tint x=0;\n\tchar ch,t=0;\n\twhile(!isdigit(ch = getchar())) t|=ch=='-';\n\twhile(isdigit(ch)) x=x*10+(ch^48),ch=getchar();\n\treturn x=t?-x:x;\n}\nint n,m,tx,ty,ans=inf;\nchar mp[Maxn][Maxn];\nint dp[Maxn][Maxn][Maxn][Maxn],pre[Maxn][Maxn];\ninline int calc(int x1,int y1,int x2,int y2)\n\t{ return pre[x2][y2]-pre[x1-1][y2]-pre[x2][y1-1]+pre[x1-1][y1-1]; }\nint main()\n{\n\tn=rd(),m=rd();\n\tfor(int i=1;i<=n;i++) scanf(\"%s\",mp[i]+1);\n\tfor(int i=1;i<=n;i++) for(int j=1;j<=m;j++)\n\t\tif(mp[i][j]=='#') pre[i][j]=1;\n\t\telse if(mp[i][j]=='P') tx=i,ty=j;\n\tfor(int i=1;i<=n;i++) for(int j=1;j<=m;j++)\n\t\tpre[i][j]+=pre[i-1][j]+pre[i][j-1]-pre[i-1][j-1];\n\tmemset(dp,0x3f,sizeof(dp)),dp[1][1][n][m]=0;\n\tfor(int x1=1;x1<=tx;x1++) for(int y1=1;y1<=ty;y1++)\n\t\tfor(int x2=n;x2>=tx;x2--) for(int y2=m;y2>=ty;y2--)\n\t\t{\n\t\t\tfor(int x=x1;x<=x2;x++) for(int y=y1;y<=y2;y++)\n\t\t\t{\n\t\t\t\tdp[x1][y1][x][y]=min(dp[x1][y1][x][y],dp[x1][y1][x2][y2]+calc(x1,y+1,x,y2)+calc(x+1,y1,x2,y));\n\t\t\t\tdp[x][y1][x2][y]=min(dp[x][y1][x2][y],dp[x1][y1][x2][y2]+calc(x1,y1,x-1,y)+calc(x,y+1,x2,y2));\n\t\t\t\tdp[x1][y][x][y2]=min(dp[x1][y][x][y2],dp[x1][y1][x2][y2]+calc(x1,y1,x,y-1)+calc(x+1,y,x2,y2));\n\t\t\t\tdp[x][y][x2][y2]=min(dp[x][y][x2][y2],dp[x1][y1][x2][y2]+calc(x1,y,x-1,y2)+calc(x,y1,x2,y-1));\n\t\t\t}\n\t\t\tans=min(ans,dp[x1][y1][x2][y2]+min({calc(x1,y1,tx,ty),calc(tx,y1,x2,ty),calc(x1,ty,tx,y2),calc(tx,ty,x2,y2)}));\n\t\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1659767489,
        "uid": 113073,
        "name": "EricQian",
        "ccfLevel": 7,
        "title": "\u3010\u9898\u89e3\u3011AT3609 Poor Penguin"
    }
]