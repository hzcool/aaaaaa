[
    {
        "content": "\u5148\u8003\u8651\u51e0\u4e2a\u57fa\u672c\u6761\u4ef6\uff1a\u5fc5\u987b\u6709 $b>a$\uff0c\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u6700\u591a\u6709\u4e00\u4e2a\u4eba\u4e0a\u4e0b\uff0c\u5426\u5219\u663e\u7136\u4e0d\u5408\u6cd5\u3002\n\n\u53d1\u73b0 $n\\le 100$\uff0c\u56e0\u6b64\u53ef\u4ee5\u60f3\u7684\u66b4\u529b\u4e00\u70b9\u3002\u60f3\u8981\u7ed9 $-1$ \u7684\u4f4d\u7f6e\u586b\u6570\u5b57\u4e0d\u592a\u597d\u641e\uff0c\u90a3\u4e48\u5c31\u4f9d\u6b21\u8003\u8651\u697c\u5c42\uff0c\u7ed9\u697c\u5c42\u5b89\u6392\u4e0a\u8fd9\u4e00\u5c42\u4e0a\u6216\u8005\u662f\u4e0b\u7684\u4eba\u3002\n\n\u8bbe $f(i)$ \u4ee3\u8868\u8003\u8651\u524d $i$ \u5c42\u697c\u662f\u5426\u53ef\u4ee5\u505a\u5230\u5408\u6cd5\uff0c\u521d\u59cb\u65f6 $f(0)=1$\uff0c\u76ee\u6807\u4e3a $f(2n)$\u3002\u8f6c\u79fb\u663e\u7136\u662f\uff1a\n\n$$\nf(i)=\\vee\\{f(j-1)\\wedge \\text{calc}(j,i)\\}(1\\le j<i,2\\mid i-j+1)\n$$\n\n\u6ce8\u610f\u533a\u95f4\u957f\u5ea6\u4e00\u5b9a\u8981\u662f $2$ \u7684\u500d\u6570\uff0c\u5426\u5219\u662f\u4e0d\u53ef\u80fd\u5408\u6cd5\u7684\uff08\u6839\u672c\u586b\u4e0d\u8fdb\u53bb\uff09\u3002\n\n\u73b0\u5728\u95ee\u9898\u5c31\u662f\u5982\u4f55\u5b9e\u73b0\u5224\u65ad\u533a\u95f4\u5408\u6cd5\u7684 `calc` \u51fd\u6570\u3002\u663e\u7136\u8fd9\u6bb5\u533a\u95f4\u5fc5\u987b\u662f\"\u5c01\u95ed\"\u7684\u5f53\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u90fd\u4e0d\u53ef\u4ee5\u8dd1\u5230\u533a\u95f4\u5916\u9762\u53bb\u3002\u518d\u5c31\u662f\u5fc5\u987b\u5728\u524d\u534a\u6bb5\u4e0a\u7535\u68af\uff0c\u540e\u534a\u6bb5\u4e0b\u7535\u68af\uff0c\u5426\u5219\u5fc5\u5b9a\u53ef\u4ee5\u5212\u5206\u6210\u66f4\u5c0f\u7684\u533a\u95f4\u3002\u6b64\u65f6\u4e0a\u4e0b\u7535\u68af\u7684\u4f4d\u7f6e\u5fc5\u987b\u662f\u524d\u534a\u6bb5\u4e2d\u7684\u7b2c $i$ \u4e2a\u548c\u540e\u534a\u6bb5\u4e2d\u7684\u7b2c $i$ \u4e2a\uff0c\u8fd9\u6837\u624d\u80fd\u4fdd\u8bc1\u5750\u7535\u68af\u7684\u5c42\u6570\u662f\u76f8\u7b49\u7684\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^3)$\u3002\n\n```cpp\n#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\nint n;\nint a[105], b[105];\nint cnt[205], p[205];\nbool f[205];\n\nbool calc(int L, int R)\n{\n    for (int i = L; i <= R; ++i) {\n        // \u5728\u6b64\u5904\u4e0b\uff0c\u4e0a\u6765\u7684\u5730\u65b9\u5c0f\u4e8e L\n        if (p[i] < 0 && a[-p[i]] != -1 && a[-p[i]] < L) return false;\n        // \u5728\u6b64\u5904\u4e0a\uff0c\u4e0b\u53bb\u7684\u5730\u65b9\u5927\u4e8e R\n        if (p[i] > 0 && b[p[i]] != -1 && b[p[i]] > R) return false;\n    }\n    int half = (R - L + 1) >> 1;\n    for (int i = L; i <= L + half - 1; ++i) {\n        if (p[i] < 0) return false; // \u524d\u534a\u6bb5\u4e0b\uff0c\u4e0d\u884c\n        if (p[i + half] > 0) return false; // \u540e\u534a\u6bb5\u4e0a\uff0c\u4e0d\u884c\n        if (p[i] && p[i + half] && p[i] + p[i + half]) return false; // \u8ddd\u79bb\u4e0d\u76f8\u7b49\uff0c\u4e0d\u884c\n    }\n    return true;\n}\n\nint main(void)\n{\n    scanf(\"%d\", &n);\n    for (int i = 1; i <= n; ++i) {\n        scanf(\"%d%d\", a + i, b + i);\n        if (a[i] != -1 && b[i] != -1 && a[i] >= b[i]) return puts(\"No\"), 0;\n        if (a[i] != -1) ++cnt[a[i]], p[a[i]] = i;\n        if (b[i] != -1) ++cnt[b[i]], p[b[i]] = -i;\n    }\n    n <<= 1;\n    for (int i = 1; i <= n; ++i)\n        if (cnt[i] > 1) return puts(\"No\"), 0;\n    f[0] = 1;\n    for (int i = 1; i <= n; ++i)\n        for (int j = ((i & 1) ? 2 : 1); j <= i; j += 2)\n            if (f[j - 1]) f[i] |= calc(j, i);\n    puts(f[n] ? \"Yes\" : \"No\");\n    return 0;\n}\n```",
        "postTime": 1669024522,
        "uid": 187051,
        "name": "james1BadCreeper",
        "ccfLevel": 6,
        "title": "\u3010ARC104C\u3011\u9898\u89e3"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u6570\u636e\u8303\u56f4\u544a\u8bc9\u6211\u4eec\u662f dp\u3002\u7136\u540e\u5c31\u662f\u53d1\u73b0\u6027\u8d28\u4e86\u3002\u3002\u3002\n\n\u7ecf\u8fc7\u89c2\u5bdf\u53d1\u73b0\uff0c\u5bf9\u4e8e\u4e00\u6bb5\u6709\u4ea4\u7684\u4e1c\u897f\uff0c\u4e00\u5b9a\u957f\u6210\u8fd9\u6837\u7684\u5f62\u72b6\uff1a\n\n![\u6b64\u5904\u5e94\u6709\u56fe](https://cdn.luogu.com.cn/upload/image_hosting/sknkas92.png)\n\n\u8fd9\u4e2a\u662f\u600e\u4e48\u53d1\u73b0\u7684\u5462\uff1f\u8003\u8651\u4ece\u8fb9\u89d2\u5f00\u59cb\u770b\u8fd9\u4e2a\u4e1c\u897f\u957f\u4ec0\u4e48\u6837\u3002\u5047\u5982\u8bf4\u4ee5 $1$ \u4e3a\u5de6\u7aef\u70b9\u7684\u533a\u95f4\u957f\u5f97\u5f88\u957f\uff0c\u90a3\u4e48\u4ee5\u4ed6\u4e2d\u95f4\u7684\u4e3a\u5de6\u7aef\u70b9\u7684\u9996\u5148\u4e0d\u80fd\u88ab\u5305\u542b\uff0c\u7136\u540e\u8fd8\u5f97\u957f\u5f97\u548c\u4ee5 $1$ \u4e3a\u5de6\u7aef\u70b9\u7684\u8fd9\u4e2a\u4e00\u6837\u957f\u3002\u90a3\u5c31\u53ea\u80fd\u957f\u6210\u8fd9\u6837\u4e86\u3002\u7136\u540e\u65ad\u6389\u4e4b\u540e\uff0c\u4e0b\u4e00\u4e2a\u53c8\u662f\u4e00\u4e2a\u5b8c\u5168\u4e00\u6837\u7684\u5b50\u95ee\u9898\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u9884\u5904\u7406\u4e00\u4e0b\u53ef\u4ee5\u505a\u5230\u8fd9\u4e2a\u7a0b\u5ea6\u7684\u533a\u95f4\u4eec\uff0c\u7136\u540e\u76f4\u63a5 dp\u3002\n\n\u6211\u8822\u4e86\uff0c\u5199\u4e86\u4e2a\u533a\u95f4 dp\u3002\u4e8b\u5b9e\u4e0a\u76f4\u63a5\u5e73\u65b9\u7684\u4e00\u7ef4 dp \u5c31\u884c\u4e86\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define rep(i, a, b) for (int i = (a); i <= (b); ++i)\n#define per(i, a, b) for (int i = (a); i >= (b); --i)\nusing namespace std;\nconst int N = 105;\nint n, a[N], b[N];\nint f[N << 1], id[N << 1];\nbool valid[N << 1][N << 1];\nbool dp[N << 1][N << 1];\ninline bool calc(int l, int r) {\n    if ((r - l + 1) & 1) return 0;\n    int ned = (r - l + 1) >> 1;\n    rep(i, l, l + ned - 1) {\n        if (f[i] && f[i] != 1) return 0;\n        if (f[i + ned] && f[i + ned] != 2) return 0;\n        if (f[i] && f[i + ned] && id[i] != id[i + ned]) return 0;\n        if (f[i] && (~b[id[i]]) && b[id[i]] != i + ned) return 0;\n        if (f[i + ned] && (~a[id[i + ned]]) && a[id[i + ned]] != i) return 0;\n    }\n    return 1;\n}\nint main() {\n    scanf(\"%d\", &n);\n    rep(i, 1, n) {\n        scanf(\"%d%d\", &a[i], &b[i]);\n        if ((~a[i]) && (~b[i]) && a[i] >= b[i]) { puts(\"No\"); return 0; }\n        if (~a[i]) {\n            if (f[a[i]]) { puts(\"No\"); return 0; }\n            f[a[i]] = 1, id[a[i]] = i;\n        }\n        if (~b[i]) {\n            if (f[b[i]]) { puts(\"No\"); return 0; }\n            f[b[i]] = 2, id[b[i]] = i;\n        }\n    }\n    rep(i, 1, n + n) rep(j, i + 1, n + n) valid[i][j] = calc(i, j);\n    rep(len, 2, n + n) if (len & 1 ^ 1) {\n        rep(i, 1, n + n - len + 1) {\n            int j = i + len - 1;\n            if (len == 2) dp[i][j] = valid[i][j];\n            else {\n                dp[i][j] = valid[i][j];\n                rep(k, i + 1, j - 2) if ((k - i) & 1) {\n                    dp[i][j] |= (dp[i][k] & valid[k + 1][j]);\n                }\n            }\n        }\n    }\n    puts(dp[1][n + n] ? \"Yes\" : \"No\");\n    return 0;\n}\n```",
        "postTime": 1674957589,
        "uid": 76156,
        "name": "henrytb",
        "ccfLevel": 8,
        "title": "ARC104C \u9898\u89e3"
    }
]