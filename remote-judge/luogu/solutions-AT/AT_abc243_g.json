[
    {
        "content": "#### G - Sqrt\n\n\u663e\u7136\u6709\u9650\u7684\u6b21\u6570\u4e4b\u540e $x$ \u4f1a\u53d8\u4e3a $1$ \uff0c\u90a3\u4e48\u4e4b\u540e\u7684\u64cd\u4f5c\u6b21\u6570\u5c31\u4e0d\u9700\u8981\u5173\u5fc3\u4e86\u3002\n\n* $O(x^\\frac{1}{2})$ \u7684\u505a\u6cd5\u3002  \n\n    \u8bbe $dp_{x}$ \u8868\u793a\u4ee5x\u5f00\u5934\u7684\u79cd\u7c7b\u6570. \u90a3\u4e48\u6709\u4ee5\u4e0b\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n    $dp_{x}=\\Sigma_{i=1}^{\\lfloor \\sqrt{x} \\rfloor} dp_{i}$\n\n* $O(x^\\frac{1}{4})$ \u7684\u505a\u6cd5\u3002  \n    \u4e0a\u8ff0\u505a\u6cd5\u5bf9\u4e8e $9\\times10^{18}$ \u7684\u6570\u636e\u8303\u56f4\u6765\u8bf4\u8fd8\u4e0d\u591f\u4f18\u79c0.\u6240\u4ee5\u6211\u4eec\u8981\u8fdb\u4e00\u6b65\u4f18\u5316\u3002\n\n    \u6ce8\u610f\u5230\u6211\u4eec\u5982\u679c\u77e5\u9053\u4e86 $A_1=x,A_3=i$ ,\u90a3\u4e48 $A_2$ \u53ef\u4ee5\u4e3a $i^2\\sim\\sqrt{x}$ \u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u6570\u3002\n\n    \u90a3\u4e48\u5c31\u6709\uff1a  \n    $dp_{x}=\\Sigma_{i=1}^{\\lfloor x^{\\frac{1}{4}} \\rfloor} ({\\lfloor \\sqrt{x} \\rfloor}-i^2+1)dp_{i}$\n\n~~~cpp\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\n#include <cmath>\n#define ll long long\n#define ld long double\n#define rep(i,n,m) for(ll i=n;i<=m;++i)\nusing namespace std;\nint t;\nll x,a[25],dp[100000],mx;\nint main()\n{\n    scanf(\"%d\",&t);\n    rep(i,1,t)\n    {\n        scanf(\"%lld\",&a[i]);\n        mx=max(a[i],mx);\n    }\n    ll len=(ll)(sqrt(sqrt((ld)mx)));\n    dp[1]=1;\n    rep(i,2,len)\n    {\n        ll l=(ll)(sqrt(sqrt((ld)i))),l2=(ll)(sqrt((ld)i));\n        rep(j,1,l)\n            dp[i]+=(l2-j*j+1)*dp[j];\n    }\n  \trep(i,1,t)\n    {\n        ll ans=0,l=(ll)(sqrt(sqrt((ld)a[i]))),l2=(ll)(sqrt((ld)a[i]));\n        rep(j,1,l)\n            ans+=(l2-j*j+1)*dp[j];\n        printf(\"%lld\\n\",ans);\n    }\n    //system(\"pause\");\n    return 0;\n}\n~~~\n\n* tips: \u5f00\u6839\u53f7\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u7cbe\u5ea6\u95ee\u9898.\u6240\u4ee5\u6211\u5c06 $a_{i}$ \u4ece long long \u5f3a\u5236\u8f6c\u4e3a\u4e86 long double\u3002\n\n    ~~\u6211\u8c03\u4e86\u4e00\u4e2a\u5c0f\u65f6\u624d\u53d1\u73b0\u662f\u8fd9\u91cc\u7684\u95ee\u9898~~\n\n    \u6216\u8005\u4e5f\u53ef\u4ee5\u7528\u4ee5\u4e0b\u51fd\u6570\u4ee3\u66ff\u539f\u672c\u7684 sqrt \u6765\u89c4\u907f\u7cbe\u5ea6\u95ee\u9898\u3002\n\n    ~~~cpp\n    ll isqrt(ll N){\n    \tll sqrtN=sqrt(N)-1;\n    \twhile(sqrtN+1<=N/(sqrtN+1))sqrtN++;\n    \treturn sqrtN;\n    }\n    ~~~\n",
        "postTime": 1668094335,
        "uid": 197901,
        "name": "XKJie",
        "ccfLevel": 7,
        "title": "ABC243G\u9898\u89e3"
    },
    {
        "content": "\u7ebf\u6027 $dp$ \u5927\u5bb6\u90fd\u4f1a\uff0c\u76f4\u63a5 $dp_n=\\sum_{i=1}^{\\sqrt n}dp_i$ \u5c31\u53ef\u4ee5\u4e86\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002\n\n\u663e\u7136\u7b2c\u4e00\u6b21\u64cd\u4f5c\u6ca1\u7528\uff0c\u8303\u56f4\u76f4\u964d $3\\times10^9$\uff0c\u4f46\u8fd8\u662f\u4f1a\u5bc4\u3002\n\n\u8003\u8651\u600e\u4e48\u780d\u6389\u7b2c\u4e8c\u6b21\u64cd\u4f5c\u3002\u89c2\u5bdf\u5230\u6709\u5f88\u591a\u6570\u5f00\u6839\u540e\u7ed3\u679c\u4e00\u6837\uff0c\u5408\u5e76\u5904\u7406\u5c31\u5b8c\u4e8b\u4e86\uff0c\u590d\u6742\u5ea6\u76f4\u964d $O(\\sqrt[4]n)$\u3002\n\n\u6700\u540e\uff0c`sqrt` \u8981\u624b\u52a8\u8865\u8db3\u7cbe\u5ea6\u8bef\u5dee\u3002\n\n# AC \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\ninline \nll sq(ll x) {\n\tll res = sqrt(x);\n\tfor (; res * res > x; res--);\n\tfor (; res * res <= x; res++);\n\treturn res - 1;\n}\n\nint t, k;\n\nll x, dp[54773], res;\n\nint main() {\n\tdp[1] = 1;\n\tfor (int i = 2; i <= 54772; i++) {\n\t\tfor (int j = 1; j <= i / j; j++) dp[i] += dp[j];\n\t}\n\tfor (int i = 2; i <= 54772; i++) dp[i] += dp[i - 1];\n\tfor (scanf(\"%d\", &t); t--;) {\n\t\tscanf(\"%lld\", &x);\n\t\tif (x <= 3e9) printf(\"%lld\\n\", dp[sq(x)]);\n\t\telse {\n\t\t\tres = 0, x = sq(x), k = sq(x);\n\t\t\tfor (ll i = 1; i < k; i++) res += dp[i] * (i << 1 | 1); res += dp[k] * (x - (ll)k * k + 1);\n\t\t\tprintf(\"%lld\\n\", res);\n\t\t}\n\t}\n}\n```",
        "postTime": 1672828374,
        "uid": 406941,
        "name": "Register_int",
        "ccfLevel": 6,
        "title": "ABC243G \u9898\u89e3"
    }
]