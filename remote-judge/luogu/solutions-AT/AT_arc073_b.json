[
    {
        "content": "### \u524d\u8a00\n\n\u4e3a\u4ec0\u4e48\u6211\u73b0\u5728\u624d\u53d1\u73b0\u8fd9\u9053\u9898\u6d1b\u8c37\u91cc\u9762\u6709\u2026\u2026\n\n[\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/AT2556)\n\n**\u6b63\u89e3\uff1a01 \u80cc\u5305**\n\n\u4e00\u9053\u6bd4\u8f83\u7b80\u5355\u7684\u521b\u65b0 01 \u80cc\u5305\u3002\n\n***\n\n### \u6b63\u89e3\n\n\u5982\u679c\u6309\u7167\u80cc\u5305\u7684\u677f\u5b50\u505a\uff0c\u90a3\u4e48\u4e00\u5b9a\u4f1a $\\texttt{TLE}$ \u548c $\\texttt{MLE}$\u3002\u90a3\u5982\u4f55\u4f18\u5316\u5462\uff1f\n\n\u6211\u4eec\u6ce8\u610f\u5230\u6570\u636e\u8303\u56f4\u91cc\u6709\u4e00\u53e5\u5341\u5206\u7279\u6b8a\u7684\u8bdd\uff1a\n\n> \u5bf9\u4e8e\u6bcf\u4e2a $i=2,3,...,n$\uff0c\u6ee1\u8db3 $W_1\\le W_i\\le W_1+3$\n\n\u90a3\u4e48\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u628a\u6bcf\u4e2a\u7269\u54c1\u7684\u91cd\u91cf\u4ee5 $W_1$ \u4e3a\u57fa\u51c6\uff0c\u8f6c\u5316\u4e3a\u4e00\u4e2a\u4e0d\u8d85\u8fc7 $3$ \u7684\u6570\u3002\u8fd9\u4e48\u53ef\u4ee5\u6781\u5927\u5730\u4f18\u5316\u7a7a\u95f4\u590d\u6742\u5ea6\u3002\n\n\u7528 $h$ \u4ee3\u8868 $W_1$ \u7684\u771f\u5b9e\u6570\u5b57\u3002\n\n\u4f46\u662f\u8fd9\u6837\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u65e0\u6cd5\u5f97\u77e5\u6211\u4eec\u73b0\u5728\u88c5\u7684\u4e1c\u897f\u5230\u5e95\u6709\u6ca1\u6709\u8d85\u8fc7\u80cc\u5305\u7684\u5bb9\u91cf\uff0c\u56e0\u4e3a\u6211\u4eec\u5e76\u4e0d\u77e5\u9053\u6211\u4eec\u9009\u4e86\u591a\u5c11\u4e2a\u4e1c\u897f\u3002\u6240\u4ee5 $dp$ \u6570\u7ec4\u8fd8\u9700\u8981\u5f00\u4e00\u7ef4\u4ee3\u8868\u9009\u62e9\u7269\u54c1\u7684\u4e2a\u6570\u3002\n\n\u6240\u4ee5 $dp_{i,j,k}$ \u4ee3\u8868\u5728\u524d $i$ \u4e2a\u7269\u54c1\u4e2d\u9009\u62e9 $k$ \u4e2a\u7269\u54c1\uff0c\u80cc\u5305\u5bb9\u91cf\u4e3a $j$ \u65f6\u7684\u6700\u5927\u4ef7\u503c\u3002\n\n\u8fd8\u9700\u8981\u6ce8\u610f\u4e00\u4e0b\u5faa\u73af\u7684\u8303\u56f4\uff1a\n\n- $i:1\\sim n$\n\n\uff08\u8fd9\u4e2a\u4e0d\u9700\u8981\u89e3\u91ca\u4e86\u5427\u2026\u2026\uff09\n\n- $j:0\\sim 3\\times i$\n\n\uff08\u56e0\u4e3a\u7269\u54c1\u7684\u91cd\u91cf\u88ab\u5904\u7406\u8fc7\uff0c\u5f53\u539f\u6765\u7684 $W_i=W_1$ \u65f6\u8fd9\u4e2a\u7269\u54c1\u7684\u91cd\u91cf\u4e3a $0$\u3002\u6240\u4ee5\u6700\u5c0f\u7684\u80cc\u5305\u5bb9\u91cf\u6709\u53ef\u80fd\u662f $0$\u3002\u7269\u54c1\u6700\u5927\u7684\u91cd\u91cf\u4e0d\u8d85\u8fc7 $3$\uff0c\u6709 $i$ \u4e2a\u7269\u54c1\uff0c\u6240\u4ee5\u6700\u5927\u53ef\u80fd\u5bb9\u91cf\u4e3a $3\\times i$\u3002\uff09\n\n- $k:1\\sim i$\n\n\uff08\u9009\u62e9\u7684\u7269\u54c1\u6570\u91cf\u4e0d\u80fd\u8d85\u8fc7\u603b\u6570\u3002\u56e0\u4e3a\u540e\u9762\u6c42\u7b54\u6848 $ans$ \u7684\u521d\u59cb\u503c\u5c31\u4e3a $0$ \u5df2\u7ecf\u5305\u62ec\u4e86\u4e00\u4e2a\u90fd\u4e0d\u9009\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u8003\u8651\u4e0d\u9009\u7269\u54c1\u7684\u60c5\u51b5\u3002\uff09\n\n\u6700\u540e\u6c42\u7b54\u6848\u7684\u65f6\u5019\u9700\u8981\u679a\u4e3e $dp_{n,i,j}$\uff0c\u6ce8\u610f\u53ea\u6709 $i+j\\times h\\le m$ \u65f6\u80cc\u5305\u624d\u4e0d\u8d85\u9650\uff0c\u53ef\u4ee5\u66f4\u65b0\u7b54\u6848\u3002\n\n\u5177\u4f53\u89c1\u4ee3\u7801\u3002\n\n### Code\n\n```cpp\n#include<cstdio>\n#define max(a,b) (a)>(b)?(a):(b) //\u5361\u5e38\u5c0f\u6280\u5de7\uff1a\u7528\u8fd9\u4e2a\u6bd4\u5e93\u51fd\u6570\u8981\u5feb\u4e00\u4e9b\n#define ll long long\nll n,m,ans,h,w[105],v[105],dp[105][305][105];\nint main(){\n\tscanf(\"%lld %lld\",&n,&m);\n\tscanf(\"%lld %lld\",&h,&v[1]); //h \u4ee3\u8868 W1 \u7684\u7684\u91cd\u91cf\n\tfor(int i=2;i<=n;i++){\n\t\tscanf(\"%lld %lld\",&w[i],&v[i]);\n\t\tw[i]-=h; //\u4ee5 W1 \u4e3a\u57fa\u51c6\u8f6c\u5316\u6bcf\u4e00\u4ef6\u7269\u54c1\u7684\u91cd\u91cf\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int k=1;k<=i;k++){ //\u9009\u62e9\u7684\u7269\u54c1\u6570\u91cf\u4e0d\u80fd\u5927\u4e8e\u603b\u6570\u91cf\n\t\t\tfor(int j=0;j<=3*i;j++){ //3*i \u4e3a\u88ab\u5141\u8bb8\u7684\u6700\u5927\u5bb9\u91cf\n\t\t\t\tif(j<w[i])\n\t\t\t\t\tdp[i][j][k]=dp[i-1][j][k];\n\t\t\t\telse\n\t\t\t\t\tdp[i][j][k]=max(dp[i-1][j][k],dp[i-1][j-w[i]][k-1]+v[i]);\n\t\t\t}\n\t\t}\n\t}\n    //\u5728\u5408\u6cd5\u7684\u8303\u56f4\u5185\u5bfb\u627e\u6700\u5927\u503c\n\tfor(int i=0;i<=3*n;i++){\n\t\tfor(int j=0;j<=n;j++){\n\t\t\tif(i+j*h<=m)\n\t\t\t\tans=max(ans,dp[n][i][j]);\n\t\t}\n\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1626832527,
        "uid": 482058,
        "name": "Liynw",
        "ccfLevel": 5,
        "title": "AT2556 [ARC073B] Simple Knapsack TJ"
    },
    {
        "content": "# AT2556 [ARC073B] Simple Knapsac \u9898\u89e3\n\n~~\u6700\u4f18\u89e3\uff0c\u5475\u5475~~\n\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT2556)\n\n\u8fd9\u9053\u9898\u76ee\u4e4d\u4e00\u770b\u662f\u4e00\u4e2a\u80cc\u5305 $\\text{dp}$\uff0c\u4f46\u662f\u6570\u636e\u8303\u56f4\u4e0d\u592a\u5bf9\u52b2\u3002$\\text{V,W}$ \u90fd\u5f88\u5927\uff0c\u4f46\u662f $W_1\\leq W_i \\leq W_1 + 3$\uff0c\u4e5f\u5c31\u662f\u8d28\u91cf\u7684\u79cd\u7c7b\u5f88\u5c11\u3002\n\n\u6211\u4eec\u4fbf\u53ef\u4ee5\u66b4\u529b\u679a\u4e3e $W_1, W_1 + 1, W_1 + 2$ \u7684\u53d6\u5f97\u4e2a\u6570\uff0c$W_1 + 3$ \u5c31\u8d2a\u5fc3\u7684\u80fd\u53d6\u591a\u5c11\u5c31\u53d6\u591a\u5c11\u3002\u679a\u4e3e\u4e4b\u540e\u6bcf\u6b21\u53d6\u6700\u5927\u7684\u51e0\u4e2a\u3002\u6bd4\u82e5\u8bf4 $W_1 + 1$ \u53d6\u4e86 $3$ \u4e2a\uff0c\u90a3\u4e48\u5c31\u53d6\u6700\u5927\u7684\u8d28\u91cf\u4e3a $W_1 + 1$ \u7684\u524d\u4e09\u4e2a\u5c31\u884c\u4e86\u3002\u7136\u540e\u6211\u4eec\u53d1\u73b0\u8fd9\u4e00\u90e8\u5206\u5176\u5b9e\u662f\u53ef\u4ee5\u4f7f\u7528\u524d\u7f00\u548c\u4f18\u5316\u7684\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^3)$\uff0c\u4f46\u662f\u8dd1\u4e0d\u6ee1\uff0c\u6700\u591a\u53ea\u6709 $(\\dfrac{n}{4})^3$ \u7684\u8fd0\u7b97\u91cf\uff0c\u56e0\u6b64\u8dd1\u7684\u98de\u5feb\u3002\n\n$\\text{Code:}$\n\n```cppp\n#include <bits/stdc++.h>\nusing namespace std;\nint n, m;\nconst int N = 110;\nint v[4][N], c[4], dw;\ninline bool cmp(int a, int b) { return a > b; }\nvoid read() {\n    cin >> n >> m;\n    int w, x;\n    scanf(\"%d %d\", &w, &x), dw = w, v[0][++c[0]] = x;\n    for (int i = 2; i <= n; i++) scanf(\"%d %d\", &w, &x), v[w - dw][++c[w - dw]] = x;\n    for (int i = 0; i <= 3; i++) {\n        sort(v[i] + 1, v[i] + c[i] + 1, cmp);\n        for (int j = 1; j <= c[i]; j++) v[i][j] += v[i][j - 1];\n    }\n}\nint main() {\n    read();\n    int l, ans = 0;\n    for (int i = 0; i <= c[0] && i * dw <= m; i++)\n        for (int j = 0; j <= c[1] && (j * (dw + 1) + i * dw) <= m; j++)\n            for (int k = 0; k <= c[2] && (k * (dw + 2) + j * (dw + 1) + i * dw) <= m; k++) {\n                l = min(c[3], (m - (k * (dw + 2) + j * (dw + 1) + i * dw)) / (dw + 3));\n                ans = max(ans, v[0][i] + v[1][j] + v[2][k] + v[3][l]);\n            }\n    cout << ans;\n    return 0;\n}\n```",
        "postTime": 1663286277,
        "uid": 615348,
        "name": "zhouershan",
        "ccfLevel": 7,
        "title": "AT2556 [ARC073B] Simple Knapsac \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9053\u9898\u7684\u63cf\u8ff0\u662f\u4e00\u9053\u7ecf\u5178\u80cc\u5305DP\uff0c\u4f46 $W$ \u8f83\u5927\uff0c$N$ \u8f83\u5c0f\uff0c\u4f46\u662f\u5982\u679c\u4f60\u4ed4\u7ec6\u89c2\u5bdf\u4f1a\u53d1\u73b0\u7269\u54c1\u7684\u91cd\u91cf\u90fd\u4e0d\u8d85\u8fc7 $w_1+3$\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06\u91cd\u91cf\u90a3\u4e00\u7ef4\u5b9a\u4e49\u6210 $ax+b$\u7684\u5f62\u5f0f\uff0c\u5176\u4e2d $x$ \u5c31\u662f $w_1$\uff0c$a$ \u548c $b$ \u662f\u4e24\u4e2a\u672a\u77e5\u6570\u3002\n\n\u518d\u6765\u786e\u5b9a $a$ \u548c $b$ \u7684\u8303\u56f4\uff0c $a$ \u4e0d\u8d85\u8fc7 $N$\uff0c$b$ \u4e0d\u8d85\u8fc7 $N * 3$\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u5c06 $10^9$ \u7684\u4e00\u7ef4\uff0c\u8f6c\u5316\u4e3a\u4e8c\u7ef4 $100 * 300$\uff0c\u5927\u5927\u8282\u7701\u4e86\u65f6\u95f4\u548c\u7a7a\u95f4\u3002\n\n\u6211\u6253\u7684\u662f\u8bb0\u5fc6\u5316\uff0c\u672c\u8d28\u4e0a\u548cDP\u6ca1\u533a\u522b\uff0c\u732e\u4e0a\u6211\u4e11\u964b\u7684\u4ee3\u7801:\n```cpp\n#include <iostream>\n#include <cstring>\nusing namespace std;\nint m, n, w[105], c[105], dp[105][105][305];\nint dfs(int i, int value1, int value2)\n{\n\tif (dp[i][value1][value2]!=-1)\n\t{\n\t\treturn dp[i][value1][value2];\n\t}\n\tint ans1 = 0, ans2 = 0;\n\tif (i==n+1)\n\t{\n\t\treturn dp[i][value1][value2]=0;\n\t}\n\tif (value1*w[1]+value2+w[i]<=m)\n\t{\n\t\tans1 = dfs(i+1, value1+1, value2+(w[i]-w[1]))+c[i];\n\t}\n\tans2 = dfs(i+1, value1, value2);\n\treturn dp[i][value1][value2]=max(ans1, ans2);\n}\nint main()\n{\n\tmemset(dp, -1, sizeof(dp));\n\tcin>>n>>m;\n\tfor (int p=1;p<=n;p++)\n\t{\n\t\tcin>>w[p]>>c[p];\n\t}\n\tcout<<dfs(1, 0, 0);\n\treturn 0;\n}\n```\n",
        "postTime": 1626776904,
        "uid": 383782,
        "name": "cqbzzqw",
        "ccfLevel": 7,
        "title": "[ARC073B] Simple Knapsack"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u88f8\u768401\u80cc\u5305\u3002\u53ea\u662f\u91cd\u91cf\u548c\u4ef7\u503c\u6709\u70b9\u5927\u3002\u4f46\u6240\u6709\u7684\u91cd\u91cf\u90fd\u4e0d\u4f1a\u8d85\u8fc7a1+3\uff0c\u56e0\u6b64\u60f3\u5230\u4e86\u4e00\u79cd\u65b0\u7684dp\u3002\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u76f4\u63a5\u770b\u4ee3\u7801\u5427\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=111;\nconst int M=3*N;\nint dp[N][N][M],a[N],b[N];\nint main()\n{\n\tint n,W;\n\tscanf(\"%d%d\",&n,&W);\n\tfor(int i=0;i<n;i++)\n\t\tscanf(\"%d%d\",&a[i],&b[i]);\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tfor(int j=0;j<=i;j++)\n\t\t{\n\t\t\tfor(int h=0;h<=3*j;h++)\n\t\t\t{\n\t\t\t\tdp[i+1][j][h]=max(dp[i+1][j][h],dp[i][j][h]);\n\t\t\t\tdp[i+1][j+1][h+a[i]-a[0]]=max(dp[i+1][j+1][h+a[i]-a[0]],dp[i][j][h]+b[i]);\n\t\t\t}\n\t\t}\n\t}\n\tint ans=0;\n\tfor(int i=0;i<=n;i++)\n\t{\n\t\tfor(int j=0;j<=3*i;j++)\n\t\t{\n\t\t\tlong long curW=(long long)a[0]*i+j;\n\t\t\tif(curW<=W)\n\t\t\t\tans=max(ans,dp[n][i][j]);\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n\n```",
        "postTime": 1531927746,
        "uid": 67896,
        "name": "AllureLove",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT2556 \u3010Simple Knapsack\u3011"
    },
    {
        "content": "\u7b2c\u4e00\u773c\u770b\u89c1\uff0c\u7acb\u9a6c\u60f3\u5230\u8fd9\u662f\u4e00\u9053 01 \u80cc\u5305\u7684\u6a21\u677f\u9898\uff0c\u4e8e\u662f\u6709\u4e86[\u8fd9\u4efd](https://atcoder.jp/contests/abc060/submissions/41066573)\u4ee3\u7801\uff0c\u518d\u770b\u4e00\u773c\u6570\u636e\u8303\u56f4\uff0c $1\u2264W\u226410^9$ \uff0c\u975e\u5e38\u7684\u5751\u3002\n\n\u90a3\u4e48 RE \u7684\u539f\u56e0\u5c31\u627e\u5230\u4e86\uff0c\u6570\u7ec4\u8d8a\u754c\uff0c\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u975e\u5e38\u5bb9\u6613\uff0c\u4f7f\u7528 STL \u81ea\u5e26\u7684 [map](https://blog.csdn.net/sevenjoin/article/details/81943864) \u5373\u53ef\uff0c\u4e8e\u662f\u5f97\u5230\u4e86[\u8fd9\u4efd](https://atcoder.jp/contests/abc060/submissions/41066614)\u4ee3\u7801\uff0c\u7ed3\u679c\u4e0d\u51fa\u610f\u6599\u5730 TLE \u4e86\u3002\n\n\u8fd8\u662f\u90a3\u4e2a\u95ee\u9898\uff0c$1\u2264W\u226410^9$\uff0c\u800c\n```cpp\nfor(int j=1;j<=m;j++)\n```\n\u8fd9\u53e5\u8bdd\u65e0\u7591\u5c31\u662f\u8d85\u65f6\u7684\u7f6a\u9b41\u7978\u9996\uff0c\u8fd9\u4e2a\u95ee\u9898\u4e5f\u5f88\u597d\u89e3\u51b3\uff0c\u5c06\u5faa\u73af\u53d8\u6210\u9012\u5f52\uff0c\u5728\u9012\u5f52\u91cc\u6bcf\u6b21 $j$ \u7684\u6539\u52a8\u90fd\u4e3a $w_{i}$\uff0c\u8fd9\u6837\u5c31\u80fd\u907f\u514d\u5927\u91cf\u7684\u65e0\u6548\u72b6\u6001\uff0c\u4e8e\u662f\u5f97\u5230[\u8fd9\u4efd](https://atcoder.jp/contests/abc060/submissions/41009199)\u4ee3\u7801\uff0c\u5c31 AC \u529b\u3002",
        "postTime": 1682831298,
        "uid": 928914,
        "name": "run_up",
        "ccfLevel": 0,
        "title": "\u4e0d\u8017\u8111\u5b50\u7684\u505a\u6cd5"
    },
    {
        "content": "[\u539f\u9898\u94fe\u63a5](https://www.luogu.com.cn/problem/AT_arc073_b)\n\n[AtCoder \u94fe\u63a5](https://atcoder.jp/contests/abc060/tasks/arc073_b)\n\n\u9898\u76ee\u5927\u610f\uff1a\n\n\u6709 $N$ \u4e2a\u7269\u54c1\uff08$1\\leq N\\leq 100$\uff09\uff0c\u7b2c $i$ \u4e2a\u7269\u54c1\u91cd $w_i$ \u5343\u514b\uff08$1\\leq w_i\\leq 10^9$\u3001$w_1\\leq w_i\\leq w_1+3$\uff09\uff0c\u6709 $v_i$ \u5143\u7684\u4ef7\u503c\u3002\u73b0\u6709\u4e00\u4e2a\u6700\u5927\u5bb9\u91cf\u4e3a $W$ \u7684\u80cc\u5305\uff0c\u5373\u6700\u591a\u88c5 $W$ \u5343\u514b\u7684\u7269\u54c1\u3002\u95ee\uff1a\u8fd9\u4e2a\u80cc\u5305\u80fd\u88c5\u7684\u6700\u5927\u4ef7\u503c\u662f\u591a\u5c11\uff1f\n\n\u601d\u8def\uff1a\n\n\u4e4d\u4e00\u770b\uff0c\u8fd9\u5c31\u662f\u4e00\u9053\u7b80\u5355\u7684 $01$ \u80cc\u5305\uff0c\u4f46\u662f $1\\leq w_i\\leq 10^9$ \u5bfc\u81f4\u6211\u4eec\u4e0d\u80fd\u7528\u666e\u901a\u7684 $01$ \u80cc\u5305\u89e3\u51b3\u65b9\u6cd5\u6765\u89e3\u51b3\u6b64\u9898\u3002\n\n\u4f46\u662f\uff0c\u6211\u4eec\u770b\u5230\u9898\u76ee\u4e2d\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u6570\u636e\u8303\u56f4\uff1a$w_1\\leq w_i\\leq w_1+3$\u3002\u5b83\u6709\u4ec0\u4e48\u7528\u5462\uff1f\n\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5bf9\u4e8e\u4efb\u610f\u7684 $2\\leq i\\leq N$\uff0c$w_i-w_1\\leq 3$\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u6bcf\u4e00\u4e2a $w_i$ \u90fd\u51cf\u6389 $w_1$\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a MLE \u4e86\u3002\n\n\u72b6\u6001\u8868\u793a\uff1a\n\n$dp_{i,j,k}$ \u8868\u793a\u5728\u524d $i$ \u4e2a\u7269\u54c1\u4e2d\u9009\u53d6 $k$ \u4e2a\u7269\u54c1\uff0c\u4e14\u80cc\u5305\u5bb9\u91cf\u4e3a $j$\uff08\u5df2\u7ecf\u8fdb\u884c\u6570\u503c\u504f\u79fb\uff09\u65f6\u80cc\u5305\u4e2d\u88c5\u7684\u7269\u54c1\u7684\u6700\u5927\u4ef7\u503c\u548c\u3002\n\n\u8fd9\u91cc\u6211\u4eec\u770b\u4e00\u4e0b $i$\u3001$j$\u3001$k$ \u7684\u53d6\u503c\u8303\u56f4\uff1a\n\n\u663e\u7136\uff0c$1\\leq i\\leq n$\uff0c$0\\leq k\\leq i$\u3002\u56e0\u4e3a $w$ \u6570\u7ec4\u5df2\u7ecf\u504f\u79fb\uff0c\u6240\u4ee5 $w_i\\leq 3$\u3002\u56e0\u6b64\uff0c$0\\leq j\\leq 3i$\u3002\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n\u8003\u8651 $dp_{i,j,k}$ \u7684\u503c\u3002\n\n- \u5982\u679c\u7b2c $i$ \u4e2a\u7269\u54c1\u4e0d\u9009\uff0c\u90a3\u4e48 $dp_{i,j,k}=dp_{i-1,j,k}$\u3002\n- \u5982\u679c $j\\geq w_i$\uff0c\u90a3\u4e48\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\uff1a\u7b2c $i$ \u4e2a\u7269\u54c1\u9009\u4e86\uff0c$dp_{i,j,k}=dp_{i-1,j-w_i,k}+v_i$\u3002\n\n\u7efc\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u63a8\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a$dp_{i,j,k}=\\begin{cases}dp_{i-1,j-1,k-1},&j<w_i\\\\\\min\\{dp_{i-1,j,k},dp_{i-1,j-w_i,k}+v_i\\},&\\text{otherwise}\\end{cases}$\u3002\n\n\u7b54\u6848\u5c31\u662f\u6240\u6709 $i=n$ \u4e14 $j+kw_1\\leq W$ \u7684 $dp_{i,j,k}$ \u7684\u6700\u5927\u503c\u3002\n\n\u6b64\u7b97\u6cd5\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $\\operatorname{O}(n^3)$\u3002\n\n\u5751\u70b9\uff1a\n\n1. \u5168\u7a0b\u5f00 ```long long```\uff0c\u5426\u5219\u4f1a\u70b8\u7cbe\u5ea6\uff01\n1. \u6700\u540e\u6c42\u7b54\u6848\u7684\u65f6\u5019\u5343\u4e07\u4e0d\u8981\u5fd8\u8bb0 $j+kw_1\\leq W$ \u7684\u7279\u5224\uff01\n1. \u8bb0\u5f97\u628a $w_1$ \u5b58\u50a8\u8d77\u6765\uff0c\u4ee5\u4fbf\u540e\u9762\u6570\u503c\u504f\u79fb\u548c\u4e0a\u9762\u63d0\u5230\u7684\u7279\u5224\uff01\n\n\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include <iostream>\nusing namespace std;\n\nlong long w[101], v[101], dp[101][301][101];\n\nint main(){\n    cin.tie(NULL);\n    cout.tie(NULL);\n    ios::sync_with_stdio(false);// cin\u3001cout \u52a0\u901f\n    long long n, W, w_1;// \u5751\u70b9 3\uff1a\u8bb0\u5f97\u628a w[1] \u5b58\u50a8\u8d77\u6765\n    cin >> n >> W >> w_1 >> v[1];\n    for (int i = 2; i <= n; i++){\n        cin >> w[i] >> v[i];\n        w[i] -= w_1;// \u6570\u503c\u504f\u79fb\n    }\n    for (int i = 1; i <= n; i++){\n        for (int k = 1; k <= i; k++){\n            for (int j = 0; j <= 3 * i; j++){\n                // \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n                if (j < w[i]){\n                    dp[i][j][k] = dp[i - 1][j][k];\n                } else {\n                    dp[i][j][k] = max(dp[i - 1][j][k], dp[i - 1][j - w[i]][k - 1] + v[i]);\n                }\n            }\n        }\n    }\n    // \u6c42\u7b54\u6848\n    long long ans = -1;\n    for (int j = 0; j <= 3 * n; j++){\n        for (int k = 0; k <= n; k++){\n            if (j + k * w_1 <= W){// \u5751\u70b9 2\uff1a\u7279\u5224\u8981\u6ce8\u610f\n                ans = max(ans, dp[n][j][k]);\n            }\n        }\n    }\n    cout << ans << \"\\n\";\n    return 0;\n}\n```",
        "postTime": 1680684208,
        "uid": 694118,
        "name": "shaozhehan",
        "ccfLevel": 4,
        "title": "\u9898\u89e3AT_arc073_b"
    },
    {
        "content": "\u9898\u89e3\u600e\u4e48\u90fd\u8fd9\u4e48\u590d\u6742\u554a\u2026\u2026\u6211\u6765\u63d0\u4f9b\u4e00\u79cd\u6bd4\u8f83\u65e0\u8111\u7684\u89e3\u6cd5   \n\u603b\u5171\u7684\u91cd\u91cf\u53ea\u6709 $4$ \u79cd\u4e0d\u540c\u7684\u60c5\u51b5\uff0c\u800c\u76f8\u540c\u91cd\u91cf\u4e0b\uff0c\u6211\u4eec\u4f18\u5148\u53d6\u4ef7\u503c\u6700\u5927\u7684\u7269\u54c1\u3002  \n\u90a3\u4e48\u6211\u4eec\u76f4\u63a5\u66b4\u529b\u679a\u4e3e\u8fd9 $4$ \u79cd\u91cd\u91cf\u7684\u7269\u54c1\u5404\u53d6\u51e0\u4e2a\uff0c\u7136\u540e\u8d2a\u5fc3\u5730\u7edf\u8ba1\u7b54\u6848\u5c31\u884c\u4e86\u3002  \n\u5b9e\u73b0\u65f6\u53ef\u4ee5\u53ea\u679a\u4e3e\u524d $3$ \u79cd\uff0c\u7b2c $4$ \u79cd\u53d6\u7684\u6570\u91cf\u53ef\u4ee5\u8d2a\u5fc3\u5730\u8bbe\u4e3a $\\left\\lfloor\\dfrac{\\text{left}}{w[1]+3}\\right\\rfloor$\u3002   \n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$\\mathcal{O}(n^4)$\n\n```cpp\nconst int kN = 105;\nint n = in(), m = in();\nstruct Item {\n\tint w, v;\n\tbool operator < (const Item &rhs) const {\n\t\treturn w != rhs.w ? w < rhs.w : v > rhs.v;\n\t}\n} a[kN];\n\nint main() { \n\tll res = 0;\n\t_rep(i,1,n) a[i].w = in(), a[i].v = in();\n\tsort(a + 1, a + 1 + n);\n\tint cnt[4] = {0};\n\t_rep(i,1,n) ++cnt[a[i].w - a[1].w];\n\tint st[4] = {n + 1, n + 1, n + 1, n + 1};\n\tfor(int i = n; i; --i) st[a[i].w - a[1].w] = i;\n\n\t_rep(c0,0,cnt[0]) if((ll) c0 * a[1].w <= m) _rep(c1,0,cnt[1]) if((ll) c0 * a[1].w + (ll) c1 * (a[1].w + 1) <= m) \n\t_rep(c2,0,cnt[2]) if((ll) c0 * a[1].w + (ll) c1 * (a[1].w + 1) + (ll) c2 * (a[1].w + 2) <= m) {\n\t\tint c3 = min(cnt[3], (m - c0 * a[1].w - c1 * (a[1].w + 1) - c2 * (a[1].w + 2)) / (a[1].w + 3));\n\t\tll total = 0;\n\t\t_for(i,st[0],st[0] + c0) total += a[i].v;\n\t\t_for(i,st[1],st[1] + c1) total += a[i].v;\n\t\t_for(i,st[2],st[2] + c2) total += a[i].v;\n\t\t_for(i,st[3],st[3] + c3) total += a[i].v;\n\t\tchkmax(res, total);\n\t}\n\tprintf(\"%lld\\n\", res);\n\treturn 0;\n}\n```",
        "postTime": 1658884132,
        "uid": 366338,
        "name": "fjy666",
        "ccfLevel": 0,
        "title": "\u9898\u89e3\u3010AT2556 [ARC073B] Simple Knapsack\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u76ee\u5c31\u662f\u7ffb\u7248\u7684\u80cc\u5305\uff0c\u7269\u54c1\u7684\u4f53\u79ef\u5927\u4e86\u4e0d\u5c11\uff0c\u4f46\u662f\u6bcf\u4e2a\u7269\u54c1\u4f53\u79ef\u7684\u6d6e\u52a8\u4e0d\u5927\n\n\u5982\u679c\u80cc\u5305\u90fd\u4e0d\u4f1a \uff0c\u8bf7\u5148AC[\u6b64\u9898](https://www.luogu.org/problemnew/show/P1048)\n\n\u8003\u8651\u65b0\u7684DP\u8f6c\u79fb\u65b9\u7a0b\n\n\u6839\u636e \u201c\u6bcf\u4e2a\u7269\u54c1\u4f53\u79ef\u7684\u6d6e\u52a8\u4e0d\u5927\u201d \u8fd9\u4e00\u6761\u89c4\u5b9a\uff0c\u53ef\u4ee5\u60f3\u51fa\u65b9\u7a0b\n\n$dp[i][j][k]$\u8868\u793a\u524d$i$\u4e2a\u7269\u54c1\uff0c\u9009\u4e86$j$\u4e2a\uff0c\u4e0e$a[0]*j$\u5171\u6709$k$\u7684\u5dee\u8ddd\n\n$dp[i+1][j][k]=max(dp[i+1][j][k],dp[i][j][k])$\n$dp[i+1][j+1][k+a[i]-a[0]]=max(dp[i+1][j+1][h+a[i]-a[0]],dp[i][j][k]+b[i])$($a[i]$\u8868\u793a\u4f53\u79ef,$b[i]$\u8868\u793a\u4ef7\u503c\uff09\n\n\u7b54\u6848\u662f$\\max_{j=1}^n$ $\\ _{k=0}^{3*j}$ $dp[n][j][k] $\n\ncode:\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <cmath>\n#include <cstring>\n#include <cctype>\n#include <cstdlib>\n#include <bitset>\n#include <queue>\n#include <map>\n#include <set>\n#include <stack>\n#include <vector>\n#include <string>\n#include <functional>\n\nusing namespace std ;\n\nconst int eps=1e-6 ;\nconst int inf=0x3f3f3f3f ;\n\n#define mp make_pair\n#define pb push_back\n#define first fi\n#define second se\n#define rep(i,a,b) for(int (i)=(a);(i)<=(b);(i)++)\n#define REP(i,a,b) for(int (i)=(a);(i)>=(b);(i)--)\n\ntypedef unsigned long long ull ;\ntypedef long long ll ;\n\ninline int read(){\n\tchar c ;\n\tint f=1 ;\n\twhile((c=getchar())<'0' || c>'9') if (c=='-') f=-1 ;\n\tint res=c-'0' ;\n\twhile((c=getchar())>='0' && c<='9') res=res*10+c-'0' ;\n\treturn res*f ;\n}\n\nconst int N = 110 ; \n\nint n,m ;\nint a[110],b[110],dp[110][110][330] ;\n\nint main(){\n\tn=read();m=read();\n\tfor (int i=1;i<=n;i++) a[i]=read(),b[i]=read() ;\n\tfor (int i=1;i<=n;i++)\n\tfor (int j=0;j<=i;j++)\n\tfor (int k=0;k<=3*j;k++){\n\t\tdp[i+1][j][k]=max(dp[i+1][j][k],dp[i][j][k]) ;\n\t\tdp[i+1][j+1][k+a[i]-a[1]]=max(dp[i+1][j+1][k+a[i]-a[1]],dp[i][j][k]+b[i]) ;\n\t}\n\t\n\tint ans=0 ;\n\tfor (int i=0;i<=n;i++)\n\tfor (int j=0;j<=3*i;j++){\n\t\tll W= (ll) a[1]*i+j;\n\t\tif (W<=m) ans=max(ans,dp[n+1][i][j]) ;\n\t}\n\tprintf(\"%d\",ans) ;\n\treturn 0 ;\n}\n\n\n```\n",
        "postTime": 1543199489,
        "uid": 54900,
        "name": "__Hacheylight__",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT2556 \u3010Simple Knapsack\u3011"
    }
]