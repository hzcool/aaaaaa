[
    {
        "content": "\u8bf7\u6c42\u4e0d\u8981\u518d\u5f31\u667a\u4e86\u597d\u5417\uff01\u8bf7\u6c42\u89c2\u5bdf\u6700\u7ec8\u5f62\u6001\u597d\u5417\uff01\n\n\u89c2\u5bdf\u6700\u7ec8\u5f62\u6001\uff0c\u4e00\u5b9a\u662f `<<<<...<=>>>...>>` \u8fd9\u79cd\uff0c\u8868\u793a\u5de6\u8fb9\u90fd\u662f\u5411\u5de6\uff0c\u53f3\u8fb9\u90fd\u662f\u5411\u53f3\uff0c\u4e2d\u95f4\u6070\u6709\u4e00\u4e2a\u95f4\u9694\u4e0d\u53d8\u3002\n\n\u8003\u8651 $n$ \u4e2a\u70b9\u90fd\u53d8\u6210 `<` \u4e14\u4e0d\u5f71\u54cd\u5230\u6700\u53f3\u8fb9\u7684\u6982\u7387\uff0c\u8bbe\u4e3a $f_n$\u3002\n\n\u6b64\u65f6\u53ef\u4ee5\u64cd\u4f5c\u9664\u4e86\u6700\u53f3\u8fb9\u4e14\u5411\u53f3\u4ee5\u5916\u7684\u6240\u6709\u65b9\u6848\u5e76\u9012\u5f52\u5230\u5b50\u95ee\u9898\uff0c\u4e8e\u662f\u6709\uff1a\n\n$$\nf_n=f_{n-1}(1-\\dfrac{1}{2n})\n$$\n\n\u679a\u4e3e\u6bcf\u4e2a\u95f4\u9694\u4f5c\u4e3a\u4e0d\u53d8\u7684\uff0c\u4e8e\u662f\u7b54\u6848\u4e3a\uff1a\n\n$$\n\n\\sum_{\\text{\u95f4\u9694}}f_\\text{\u5de6\u8fb9\u70b9\u6570}\\times f_{\\text{\u53f3\u8fb9\u70b9\u6570}}\\times (\\text{\u95f4\u9694\u4e2d < \u7684\u6570\u91cf}+\\text{\u5de6\u8fb9\u603b\u4e2a\u6570})\n\n$$\n\n\u5c31\u662f\u8fd9\u6837\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(n)$\uff1a\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=2e5+10;\nconst int mod=998244353;\n#define inf 1e9\ninline int read(){\n\tint x=0,f=1;char c=getchar();\n\twhile(c<'0'||c>'9'){if(c=='-')f=-1;c=getchar();}\n\twhile(c>='0'&&c<='9'){x=(x<<1)+(x<<3)+c-'0';c=getchar();}\n\treturn x*f;\n}\nstring S;\nint n,m,f[maxn],inv[maxn],stk[maxn],top,ans;\nint main(){\n\tn=read();cin>>S;inv[1]=f[0]=1;\n\tfor(int i=0;i<n;i++)\n\t\tif(S[i]=='.')stk[++top]=i;\n\tstk[0]=-1;stk[top+1]=n;\n\tfor(int i=2;i<=n+n;i++)\n\t\tinv[i]=1ll*(mod-mod/i)*inv[mod%i]%mod;\n\tfor(int i=1;i<=n;i++)\n\t\tf[i]=1ll*f[i-1]*(1-inv[i+i]+mod)%mod;\n\tfor(int i=0;i<=top;i++){\n\t\tint cnt=0;\n\t\tfor(int j=stk[i]+1;j<stk[i+1];j++)\n\t\t\tif(S[j]=='<')cnt++;\n\t\tans=(ans+1ll*(cnt+stk[i]+1)*f[i]%mod*f[top-i])%mod;\n\t}printf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n\n\u6df1\u6df1\u5730\u611f\u5230\u81ea\u5df1\u7684\u5f31\u5c0f\u3002",
        "postTime": 1668676812,
        "uid": 140876,
        "name": "syzf2222",
        "ccfLevel": 9,
        "title": "[ARC132E] Paw"
    }
]