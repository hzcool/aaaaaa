[
    {
        "content": "\u56e0\u4e3a\u6211\u4eec\u53ea\u5173\u5fc3\u6700\u540e\u96c6\u5408\u7684\u72b6\u6001\u4e2a\u6570\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u94a6\u5b9a\u5408\u5e76\u987a\u5e8f\u662f\u4ece\u5c0f\u5230\u5927\u7684\uff0c\u56e0\u4e3a\u5982\u679c\u4ece\u5927\u5f80\u5c0f\u53ef\u80fd\u4f1a\u6709\u540e\u6548\u6027\u3002\n\n\u6ce8\u610f\u5230\uff0c\u503c\u57df\u8f83\u5c0f\uff0c\u8003\u8651\u66b4\u529b dp\uff0c\u8bb0 $dp_{i,j}$ \u8868\u793a\u5408\u5e76\u5230 $i$ \u8fd9\u4e2a\u503c\uff0c\u73b0\u6709 $j$ \u4e2a $i$ \u7684\u65b9\u6848\u6570\u3002\u8f6c\u79fb\u53ef\u4ee5\u8003\u8651\u5230 $dp_{i,j}$ \u53ef\u4ee5\u8f6c\u79fb\u5230 $dp_{i+1,cnt_{i+1}+k}$ \u5176\u4e2d $k \\le \\lfloor{ j\\over2}\\rfloor$\u3002\n\n\u8fd9\u4e2a\u72b6\u6001\u770b\u4e0a\u53bb\u6709 $O(n^2)$ \u4e2a\uff0c\u8003\u8651\u5c06\u7b2c\u4e8c\u7ef4\u8bb0\u4f5c\u7b2c $i$ \u4f4d\u589e\u52a0\u4e86 $j$ \u4e2a\uff0c\u8bb0 $cnt_i$ \u8868\u793a $i$ \u8fd9\u4e2a\u503c\u5728 $a_i$ \u4e2d\u51fa\u73b0\u7684\u6b21\u6570\uff0c$A$ \u4e3a $a$ \u4e2d\u6700\u5927\u7684\u6570\uff0c\u5219\u72b6\u6001\u6570\u53d8\u4e3a $\\sum_{i=1} ^{A+\\log N} {{\\sum_{j=1}^i 2^j\\times cnt_j}\\over 2^i}\\le 2N$\u3002\u8f6c\u79fb\u53ef\u4ee5\u8003\u8651\u5dee\u5206\u6bcf\u6b21\u7528\u540e\u7f00\u548c\u7b97\u51fa $dp_i$\u3002\n\n[Code](https://atcoder.jp/contests/arc160/submissions/41647792)",
        "postTime": 1684840045,
        "uid": 360977,
        "name": "541forever",
        "ccfLevel": 0,
        "title": "ARC160C"
    },
    {
        "content": "## \u9898\u76ee\u63cf\u8ff0\n\u7ed9\u51fa\u4e00\u4e2a\u5927\u5c0f\u4e3a $N$ \u7684\u53ef\u91cd\u96c6 $ A=\\lbrace\\ A_1,A_2,\\dots,A_N\\ \\rbrace $\u3002\n\n\u4f60\u53ef\u4ee5\u6267\u884c\u82e5\u5e72\u6b21\u5982\u4e0b\u64cd\u4f5c\uff08\u4e5f\u53ef\u4ee5\u4e0d\u6267\u884c\uff09\u3002\n\n- \u5c06\u4e24\u4e2a $x$ \u5408\u5e76\u6210\u4e00\u4e2a $x+1$\u3002\n\n\u8f93\u51fa\u6700\u7ec8\u53ef\u80fd\u7684\u96c6\u5408\u4e2a\u6570\u5bf9 $998244353$ \u53d6\u6a21\u7684\u7ed3\u679c\u3002\n\n## \u5927\u4f53\u601d\u8def\n\u8ba1\u6570\u9898\uff0c\u4e00\u773c DP\u3002\n\n\u4ee4 $f(i,j)$ \u8868\u793a\u5f53\u524d\u5bf9\u6570 $i$ \u8fdb\u884c\u64cd\u4f5c\uff0c$i$ \u53ef\u4ee5\u5bf9\u4e0b\u4e00\u4f4d\u8d21\u732e $j$ \u4e2a\u6570\u7684\u96c6\u5408\u4e2a\u6570\u3002\u8bb0 $num_i$ \u8868\u793a\u6570 $i$ \u7684\u51fa\u73b0\u6b21\u6570\uff0c\u5f88\u663e\u7136\u6709\n$$f(i,\\dfrac {num_i+j}{2})=\\sum_{k=j}f(i-1,k)$$\n\n\u8fd9\u6837\u8f6c\u79fb\u9700\u8981 $O(n)$\uff0c\u4e00\u4e2a\u7b80\u5355\u7684\u540e\u7f00\u548c\u4f18\u5316\u5373\u53ef\u505a\u5230 $O(1)$ \u8f6c\u79fb\u3002\n\n\u7136\u540e\u5c31\u662f DP \u72b6\u6001\u7684\u7cbe\u7ec6\u5b9e\u73b0\uff0c\u5927\u6982\u7c7b\u4f3c IOI2022 \u9cb6\u9c7c\u5858\u90a3\u9898\uff0c\u7528\u4e00\u4e2a `vector` \u5b58\u72b6\u6001\uff0c\u8fd9\u6837\u7531\u4e8e\u6bcf\u6b21\u80fd\u8d21\u732e\u7684\u6570\u7684\u4e2a\u6570\u90fd\u662f\u52a0\u4e0a\u4e00\u4e2a\u4e0d\u5927\u7684\u6570\u9664\u4ee5 $2$\uff0c\u53c8\u7531\u4e8e\u6700\u5927\u7684\u6570\u4e0d\u8d85\u8fc7 $O(\\max+\\log)$\uff0c\u56e0\u6b64\u8bb0 $N=\\max+\\log$\uff0c\u5219\u72b6\u6001\u6570\u4e0d\u8d85\u8fc7 $\\sum_{i=1}^N num_i(1+\\dfrac 1 2 +\\dfrac 1 4+\\cdots)=2N$\uff0c\u5373\u7ebf\u6027\u3002\n\n\u6ce8\u610f\u53d6\u6a21\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define rep(ii,aa,bb) for(re int ii = aa; ii <= bb; ii++)\n#define Rep(ii,aa,bb) for(re int ii = aa; ii >= bb; ii--)\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef double db;\ntypedef pair<int, int> PII;\nconst int maxn = 3e5 + 5;\nnamespace IO_ReadWrite {\n\t#define re register\n\t#define gg (p1 == p2 && (p2 = (p1 = _buf) + fread(_buf, 1, 1<<21, stdin), p1 == p2) ? EOF :*p1++)\n\tchar _buf[1<<21], *p1 = _buf, *p2 = _buf;\n\ttemplate <typename T>\n\tinline void read(T &x){\n\t\tx = 0; re T f=1; re char c = gg;\n\t\twhile(c > 57 || c < 48){if(c == '-') f = -1;c = gg;}\n\t\twhile(c >= 48 &&c <= 57){x = (x<<1) + (x<<3) + (c^48);c = gg;}\n\t\tx *= f;return;\n\t}\n\tinline void ReadChar(char &c){\n\t\tc = gg;\n\t\twhile(!isalpha(c)) c = gg;\n\t}\n\ttemplate <typename T>\n\tinline void write(T x){\n\t\tif(x < 0) putchar('-'), x = -x;\n\t\tif(x > 9) write(x/10);\n\t\tputchar('0' + x % 10);\n\t}\n\ttemplate <typename T>\n\tinline void writeln(T x){write(x); putchar('\\n');}\n}\nusing namespace IO_ReadWrite;\nint n, a[maxn], num[maxn];\nvector<int> f[maxn];\nconst ll mod = 998244353;\nint main () {\n\tread(n);\n\trep(i, 1, n) {\n\t\tread(a[i]);\n\t\tnum[a[i]] ++;\n\t}\n\tf[0].push_back(1);\n\trep(i, 1, 200050) {\n\t\tf[i].resize((num[i] + f[i - 1].size()) / 2 + 1);\n\t\tfor(int j = 0; j < f[i - 1].size(); ++ j)\n\t\t\t(f[i][(j + num[i]) / 2] += f[i - 1][j]) %= mod;\n\t\tfor(int j = f[i].size() - 2; j >= 0; -- j)\n\t\t\t(f[i][j] += f[i][j + 1]) %= mod;\n\t}\n\twriteln(f[200049][0]);\n\t\n\treturn 0;\n}\n```",
        "postTime": 1684937276,
        "uid": 279197,
        "name": "Mars_Dingdang",
        "ccfLevel": 6,
        "title": "ARC160C"
    }
]