[
    {
        "content": "\u884c\u548c\u5217\u5206\u5f00\u5904\u7406\u3002\n\n*   $r[i]$ \u8868\u793a\u7b2c $i$ \u884c\u6700\u5c0f\u969c\u788d\u7269\u5750\u6807\n*   $c[i]$ \u8868\u793a\u7b2c $j$ \u5217\u6700\u5c0f\u969c\u788d\u7269\u5750\u6807\n\n\u8003\u8651\u5148\u5f80\u4e0b\u8d70\u518d\u5f80\u53f3\u8d70\uff0c\u8d70\u5230 $(i, 1)$ \u65f6\uff0c\u8d21\u732e\u4e3a $r[i] - 1$\uff0c\u5f53 $r[i] = 1$ \u65f6\u65e0\u6cd5\u7ee7\u7eed\u5f80\u4e0b\u8d70\u3002\n\n\u627e\u5230\u7b2c\u4e00\u4e2a $r[i] = 1$ \u7684 $i$\uff0c$(i, h]$ \u884c\u6362\u4e00\u79cd\u65b9\u5f0f\u5904\u7406\uff1a\u5c06 $i$ \u52a0\u5165\u7b2c $r[i] + 1$ \u5217\u7684\u6807\u8bb0\u533a\u3002\n\n\u4e00\u4e2a\u884c\u6807\u8bb0 $x$ \u51fa\u73b0\u5728\u7b2c $y$ \u5217\u7684\u6807\u8bb0\u533a\uff0c\u8868\u793a\u7b2c $x$ \u884c\u88ab\u969c\u788d\u7269\u963b\u6321\uff0c\u4e14\u7b2c $x$ \u884c\u7684 $[y, w]$ \u90e8\u5206\u9700\u8981\u901a\u8fc7\u5148\u5f80\u53f3\u8d70\u518d\u5f80\u4e0b\u8d70\u8ba1\u7b97\u8d21\u732e\u3002\n\n\u8003\u8651\u5148\u5f80\u53f3\u8d70\u518d\u5f80\u4e0b\u8d70\uff0c\u8d70\u5230 $(1, i)$ \u65f6\uff0c\u8d21\u732e\u4e3a\u6807\u8bb0\u533a\u524d\u7f00\u5e76\u96c6\u5185\u5c0f\u4e8e $c[i]$ \u7684\u5143\u7d20\u4e2a\u6570\uff0c\u5f53 $c[i] = 1$ \u65f6\u65e0\u6cd5\u7ee7\u7eed\u5f80\u53f3\u8d70\u3002\n\n\u53ef\u80fd\u6587\u5b57\u65e0\u6cd5\u5f88\u597d\u7684\u8868\u8ff0\uff0c\u53ef\u4ee5\u753b\u56fe\u6a21\u62df\u5c1d\u8bd5\u7406\u89e3\u3002\n\n\u8ba1\u7b97\u6807\u8bb0\u524d\u7f00\u5e76\u96c6\u5143\u7d20\u4e2a\u6570\u53ef\u4ee5\u4f7f\u7528\u6743\u503c\u7ebf\u6bb5\u6811\u7ef4\u62a4\u3002\n\n```cpp\nint main() {\n    std::cin >> h >> w >> m;\n    for (int i = 1; i <= h; i++) r[i] = w + 1;\n    for (int i = 1; i <= w; i++) c[i] = h + 1;\n    for (int i = 1; i <= m; i++) {\n        std::cin >> x >> y;\n        r[x] = std::min(r[x], y);\n        c[y] = std::min(c[y], x);\n    }\n    bool flag = true;\n    for (int i = 1; i <= h; i++) {\n        if (flag) {\n            ans += r[i] - 1;\n            if (r[i] <= w) t[r[i] + 1].push_back(i);\n            if (r[i] == 1) flag = false;\n        } else {\n            t[2].push_back(i);\n        }\n    }\n    for (int i = 1; i <= w; i++) {\n        if (c[i] == 1) break;\n        for (auto j : t[i]) SGT.Add(1, 1, h, j, 1);\n        ans += SGT.Ask(1, 1, h, 1, c[i] - 1);\n    }\n    std::cout << ans << '\\n';\n    return 0;\n}\n```",
        "postTime": 1683604779,
        "uid": 278046,
        "name": "Lyccrius",
        "ccfLevel": 5,
        "title": "ABC186F"
    }
]