[
    {
        "content": "\u8bc8\u9a97\u9898\u3002\n\n\u628a $S_i$ \u7528\u4e8c\u8fdb\u5236\u8868\u793a\uff0c$S_i$ \u5230 $S_{i+1}$ \u7684\u53d8\u5316\u76f8\u5f53\u4e8e\u5f02\u6216\u4e86\u4e00\u4e2a\u6570 $2^{x_i}$\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u96c6\u5408\u8003\u8651\u53d8\u5316\u6709\u70b9\u56f0\u96be\uff0c\u4e0d\u59a8\u8003\u8651\u5bf9\u4e8e\u6bcf\u79cd\u957f\u5ea6\u4e3a $n-1$ \u7684\u53d8\u5316\u5e8f\u5217 $x_i$\uff0c\u7edf\u8ba1\u4e0d\u540c\u7684\u521d\u59cb\u96c6\u5408\u5bf9\u5e94\u7684\u7b54\u6848\u3002\n\n\u8bbe $p_i$ \u8868\u793a\u521d\u59cb\u96c6\u5408 $s_1$ \u6709\u5143\u7d20 $i$ \u65f6\uff0c\u6240\u6709\u96c6\u5408\u91cc $i$ \u51fa\u73b0\u7684\u6b21\u6570\u3002\n\n\u5bf9\u5e94\u7684\u7b54\u6848\u5373\u4e3a $\\sum_{S}(\\prod_{i\\in S}p_i)(\\prod_{i\\not\\in S}n-p_i)$\uff0c$S$ \u4e3a\u521d\u59cb\u96c6\u5408 $s_1$\u3002\u8fd0\u7528\u4e58\u6cd5\u5206\u914d\u5f8b\u53ef\u4ee5\u5f97\u5230\u7b54\u6848\u5373\u4e3a $\\prod_{i=1}^mp_i+n-p_i=n^m$\uff0c\u800c\u4e0d\u540c\u7684\u53d8\u5316\u5e8f\u5217\u6709 $m^{n-1}$ \u79cd\u3002\u6240\u4ee5\u603b\u7b54\u6848\u4e3a $n^mm^{n-1}$\u3002",
        "postTime": 1670388230,
        "uid": 376161,
        "name": "wsfxk",
        "ccfLevel": 6,
        "title": "[ARC147D] Sets Scores \u9898\u89e3"
    },
    {
        "content": "# ARC147D \u9898\u89e3\n\n## \u601d\u8def\u5206\u6790\n\n\u7c97\u4f53\u5b57\u6bcd\u8868\u793a\u96c6\u5408\n\n\u663e\u7136\uff0c\u5728\u5df2\u77e5 $\\mathbf S_1$ \u7684\u60c5\u51b5\u4e0b\uff0c\u53ea\u9700\u8981\u786e\u5b9a\u6bcf\u4e00\u7ec4 $\\mathbf S_i,\\mathbf S_{i+1}$ \u4e4b\u95f4\u4e0d\u540c\u7684\u5143\u7d20 $p_i$ \u5c31\u53ef\u4ee5\u5f97\u5230 $\\mathbf S_{2}\\sim \\mathbf S_n$\n\n\u8003\u8651\u56fa\u5b9a $p_1\\sim p_{n-1}$\uff0c\u5bf9\u4e8e\u6b64\u65f6\u6240\u6709\u7684 $\\mathbf S_i$ \u90fd\u53ea\u548c $\\mathbf S_1$ \u6709\u5173\u7cfb\uff0c\u56e0\u6b64\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $[1,m]$ \u4e2d\u7684\u5143\u7d20 $i$\uff0c\u5176\u5728 $\\mathbf S_1\\sim S_n$ \u4e2d\u51fa\u73b0\u7684\u6b21\u6570\u4e4b\u548c $c_i$ \u53ea\u548c $i$ \u662f\u5426\u5728 $\\mathbf S_1$ \u4e2d\u6709\u5173\u7cfb\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5f97\u5230 $i$ \u5728\u6216\u8005\u4e0d\u5728 $\\mathbf S_1$ \u4e2d\u65f6 $c_i$ \u7684\u503c\uff1a$a_i,b_i$\n\n\u6211\u4eec\u6709 $a_i+b_i=n$\n\n> \u8bc1\u660e\uff1a\n>\n> \u5047\u8bbe $i$ \u5728 $\\mathbf S_1$ \u4e2d\u65f6\uff0c\u5b9a\u4e49 $\\mathbf A_i:\\{x|i\\in\\mathbf S_x\\}$\uff0c\u5373\u6240\u6709\u6ee1\u8db3 $i\\in \\mathbf S_x$ \u7684 $x$ \u6784\u6210\u7684\u96c6\u5408\uff0c\u82e5 $i$ \u4e0d\u5728 $\\mathbf S_1$ \u4e2d\uff0c\u5219\u8fd9\u4e9b $x$ \u6784\u6210 $\\mathbf B_i$\uff0c\u6839\u636e\u5b9a\u4e49\u6709 $|\\mathbf A_i|=a_i,|\\mathbf B_i|=b_i$\n>\n> \u4e8b\u5b9e\u4e0a\uff1a\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $[1,n]$ \u7684 $x$\uff0c$x\\in \\mathbf A_i$ \u548c $x\\in \\mathbf B_i$ \u4e2d**\u6709\u4e14\u4ec5\u6709**\u4e00\u4e2a\u6210\u7acb\n>\n> \u91c7\u7528\u6570\u5b66\u5f52\u7eb3\u6cd5\uff0c\u5bf9\u4e8e $n=1$ \u7684\u60c5\u5f62\uff0c\u663e\u7136 $x\\in \\mathbf A_1,x\\not\\in \\mathbf B_1$\n>\n> \u63a5\u4e0b\u6765\u5047\u8bbe\u5bf9\u4e8e\u67d0\u4e00\u4e2a $k$ \u8fd9\u79cd\u60c5\u51b5\u6210\u7acb\uff0c\u4e0d\u59a8\u8bbe $x\\in \\mathbf A_k,x\\not\\in\\mathbf B_k$\uff1a\n>\n> \u63a5\u4e0b\u6765\u6211\u4eec\u53ea\u9700\u8981\u8003\u8651 $i=p_k$ \u6216\u8005 $i\\neq p_k$\n>\n> - $i\\neq p_k$ \u65f6\uff0c\u6b64\u65f6 $x\\in \\mathbf A_{k+1},x\\not\\in\\mathbf B_{k+1}$\n> - $i=p_k$ \u65f6\uff0c\u6b64\u65f6 $x\\not\\in \\mathbf A_{k+1},x\\in\\mathbf B_{k+1}$\n>\n> \u7efc\u4e0a\uff0c\u5bf9\u4e8e $k+1$ \u540c\u6837\u6210\u7acb\n>\n> \u6545\u539f\u547d\u9898\u5f97\u8bc1 \n\n\u663e\u7136\u5bf9\u4e8e\u6b64\u65f6\u6240\u6709\u7684 $\\mathbf S_1$ \u7684\u60c5\u51b5\uff0c\u6bcf\u79cd\u5e8f\u5217\u7684\u603b\u4ef7\u503c\u4e4b\u548c\u5e94\u8be5\u4e3a\uff1a\n$$\na_1\\times a_2\\times \\cdots\\times a_m+b_1\\times a_2\\times \\cdots\\times a_m\\cdots\\cdots+ b_1\\times b_2\\times\\cdots\\times b_{m-1}\\times a_m+b_1\\times b_2\\times\\cdots\\times b_m\n$$\n\u5373\u5bf9\u4e8e\u6bcf\u4e2a\u6570 $i$\uff0c\u9009\u62e9 $a_i$ \u6216\u8005 $b_i$ \u4e58\u8fdb\u603b\u4ef7\u503c\u91cc\u9762\uff0c\u5bf9\u5e94\u7684\u5c31\u662f $i$ \u662f\u5426\u5728 $\\mathbf S_1$ \u91cc\u9762\uff0c\u5bf9\u4e0a\u5f0f\u8fdb\u884c\u63d0\u53d6\u516c\u56e0\u6570\u53ef\u5f97\u4e0a\u5f0f\u5b9e\u9645\u4e0a\u7b49\u4e8e\u4e0b\u5f0f\uff1a\n$$\n\\prod_{i=1}^m(a_i+b_i)=n^m\n$$\n\u56e0\u6b64\u5bf9\u4e8e\u6bcf\u4e00\u79cd $p_1\\sim p_{n-1}$ \u7684\u5e8f\u5217\uff0c\u90fd\u6709 $n^m$ \u7684\u6743\u503c\u4e4b\u548c\uff0c\u53c8\u56e0\u8fd9\u6837\u7684 $x$ \u5e8f\u5217\u5171\u6709 $m^{n-1}$ \u79cd\uff0c\u6545\u7b54\u6848\u4e3a $n^m\\times m^{n-1}$\n\n\u5feb\u901f\u5e42\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $\\Theta(\\log n+\\log m)$\n\n## \u4ee3\u7801\u5448\u73b0\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int MOD=998244353;\ninline int ksm(int a,int b,int m=MOD) {\n\tint res=1;\n\twhile(b) {\n\t\tif(b&1) res=res*a%m;\n\t\ta=a*a%m;\n\t\tb=b>>1;\n\t}\n\treturn res;\n}\nsigned main() {\n\tint n,m;\n\tscanf(\"%lld%lld\",&n,&m);\n\tprintf(\"%lld\\n\",ksm(n,m)*ksm(m,n-1)%MOD);\n\treturn 0;\n}\n```",
        "postTime": 1670337689,
        "uid": 539618,
        "name": "DaiRuiChen007",
        "ccfLevel": 6,
        "title": "ARC147D \u9898\u89e3"
    },
    {
        "content": "## Description\n\n[link](https://www.luogu.com.cn/problem/AT_arc147_d)\n\n## Solution\n\n\u8bbe\u7b2c $i$ \u4e2a\u548c\u7b2c $i+1$ \u4e2a\u96c6\u5408\u4e0d\u540c\u7684\u6570\u662f $x_i$\u3002\n\n\u90a3\u4e48\u6211\u4eec\u77e5\u9053 $S_1$ \u548c $x$ \u540e\u5c31\u76f8\u5f53\u4e8e\u77e5\u9053\u4e86\u6240\u6709\u96c6\u5408\u3002\n\n\u7136\u540e\u53ef\u4ee5\u5148\u56fa\u5b9a $x$\uff0c\u6613\u77e5\u4e0d\u540c\u5143\u7d20\u4e4b\u95f4\u662f\u4e0d\u4f1a\u4e92\u76f8\u5f71\u54cd\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u5bf9\u6bcf\u79cd\u5143\u7d20\u7b97\u5b83\u5728\u6216\u4e0d\u5728 $S_1$ \u7684\u65b9\u6848\u6570\u3002\n\n\u611f\u6027\u7406\u89e3\u4e00\u4e0b\u4f1a\u53d1\u73b0\u4e24\u79cd\u65b9\u6848\u548c\u662f $N$\uff0c\u6240\u4ee5\u5bf9\u4e8e\u4e00\u4e2a\u56fa\u5b9a\u7684 $x$\uff0c\u7b54\u6848\u5c31\u662f $N^M$\u3002\n\n\u800c $x$ \u6709 $M^{N-1}$ \u79cd\u65b9\u6848\uff0c\u6240\u4ee5\u603b\u6570\u5c31\u662f $N^M\\times M^{N-1}$\u3002\n\n## Code\n\n```cpp\n#include <cstdio>\n#include <iostream>\n\nusing namespace std;\n\nconst int kMod = 998244353;\n\nint n, m;\n\nint qpow(int bs, int idx) {\n  int ret = 1;\n  for (; idx; idx >>= 1, bs = 1ll * bs * bs % kMod)\n    if (idx & 1)\n      ret = 1ll * ret * bs % kMod;\n  return ret;\n}\n\nint main() {\n#ifdef ORZXKR\n  freopen(\"in.txt\", \"r\", stdin);\n  freopen(\"out.txt\", \"w\", stdout);\n#endif\n  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);\n  cin >> n >> m;\n  cout << 1ll * qpow(n, m) * qpow(m, n - 1) % kMod << '\\n';\n  return 0;\n}\n```",
        "postTime": 1672559036,
        "uid": 176843,
        "name": "Scarab",
        "ccfLevel": 0,
        "title": "[ARC147D] Sets Scores \u9898\u89e3"
    },
    {
        "content": "\u9898\u610f\uff1a\u6784\u9020 $n$ \u4e2a\u96c6\u5408\uff0c\u5176\u4e2d\u7684\u6570\u8303\u56f4 $[1,m]$\uff0c\u76f8\u90bb\u4e24\u4e2a\u96c6\u5408\u4e4b\u95f4\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u4e0d\u540c\u7684\u6570\u3002\r\n\r\n\u5b9a\u4e49\u8fd9 $n$ \u4e2a\u96c6\u5408\u7684\u5206\u6570\u4e3a $\u220f\\limits_{i=1}^{m}cnt(i)$\uff0c$cnt(i)$ \u4e3a $i$ \u6570\u5b57\u51fa\u73b0\u7684\u6b21\u6570\u3002\r\n\r\n---\r\n\r\n\u601d\u8def\uff1a\u6ca1\u6709\u770b\u5230\u9898\u89e3\u7684\u65f6\u5019\u6211\u60f3\u4e86\u5f88\u4e45\uff0c\u6ca1\u4ec0\u4e48\u51fa\u8def\u3002\u540e\u6765\u9898\u89e3\u5206\u6790\u4e86\u4e00\u4e0b\u65b9\u6848\uff0c\u8c41\u7136\u5f00\u6717\u3002\r\n\r\n\u505a\u6cd5\uff1a\u9996\u5148\u53ef\u4ee5\u53d1\u73b0\u76f8\u90bb\u4e24\u4e2a\u53ea\u76f8\u5dee\u4e00\u4e2a\u6570\uff0c\u8bb0\u5f55\u8fd9\u4e2a\u6570\uff0c\u8bbe\u5176\u4e3a $x_i$\u3002\r\n\r\n\u8fd9\u4e2a\u6570\u6709\u4ec0\u4e48\u7528\u5462\uff1f\u89c2\u5bdf\u5230 $x_i$ \u5c31\u662f\u5728\u7b2c $i+1$ \u4e2a\u96c6\u5408\u4e2d\u5bf9\u4e8e\u6570 $x_i$ \u72b6\u6001\u7684\u6539\u53d8\u3002\u5373 $i$ \u4f4d\u7f6e\u6709\uff0c$i+1$ \u4f4d\u7f6e\u5c31\u6ca1\u6709\u4e86\uff1b\u6216\u8005 $i$ \u4f4d\u7f6e\u6ca1\u6709\uff0c$i+1$ \u4f4d\u7f6e\u5c31\u6709\u4e86\u3002\r\n\r\n\u56e0\u4e3a\u786e\u5b9a\u4e86\u4e00\u4e2a\u957f\u5ea6\u4e3a $n-1$ \u7684\u5e8f\u5217 $x$\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u786e\u5b9a\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u96c6\u5408\uff0c\u6743\u503c\u5c31\u51fa\u6765\u4e86\u3002\r\n\r\n\u8bbe $a_x$ \u4e3a\u7b2c\u4e00\u4e2a\u96c6\u5408\u4e2d\u5305\u542b $x$ \u65f6\uff0c**\u6240\u6709\u7684\u96c6\u5408**\u5305\u542b $x$ \u7684\u4e2a\u6570\uff0c\u540c\u7406\u53ef\u4ee5\u8bbe\u7f6e $b_x$ \u4e3a\u7b2c\u4e00\u4e2a\u96c6\u5408\u4e2d\u4e0d\u5305\u542b $x$ \u65f6\uff0c\u5269\u4e0b\u7684\u96c6\u5408\u5305\u542b $x$ \u7684\u4e2a\u6570\u3002\r\n\r\n\u4e8e\u662f\u6211\u4eec\u5c31\u6709\u4e86\u9009\u62e9\u7b2c\u4e00\u4e2a\u96c6\u5408\u7684\u65b9\u6848\u6570\uff1a$\u220f\\limits_{i=1}^{m}{(a_i+b_i)}$\u3002\r\n\r\n\u7136\u540e\uff0c\u56e0\u4e3a $x$ \u5e8f\u5217\u56fa\u5b9a\uff0c\u53c8\u77e5\u9053 $x_i$ \u7684\u6027\u8d28\uff0c\u6240\u4ee5\u51b3\u5b9a\u5b83\u51fa\u73b0\u6b21\u6570\u7684\uff0c\u53ea\u6709\u67d0\u4e2a\u6570\u5728\u7b2c\u4e00\u4e2a\u96c6\u5408\u4e2d\u51fa\u73b0\u4e0e\u5426\uff1a\u5982\u679c\u51fa\u73b0\u4e86\uff0c\u5c31\u9009\u62e9 $a_i$\uff1b\u5426\u5219\u9009\u62e9 $b_i$\u3002\u7ecf\u8fc7\u4e00\u756a\u89c2\u5bdf\uff0c\u6211\u4eec\u53d1\u73b0 $a_i+b_i=n$\u3002\r\n\r\n\u4e8e\u662f\u5bf9\u4e8e\u4e00\u4e2a\u53ef\u884c\u7684 $x$ \u5e8f\u5217\uff0c\u7b54\u6848\u5c31\u662f $n^m$\u3002\r\n\r\n\u6240\u4ee5\u5bf9\u4e8e\u5168\u5c40\u7684\u7b54\u6848\uff0c\u5c31\u662f $n^m\\times m^{n-1}$\u3002\r\n\r\n---\r\n\r\n\u8fd9\u9898\u5728\u601d\u8003\u7684\u65f6\u5019\uff0c\u89c9\u5f97\u6709\u70b9\u56f0\u96be\uff0c\u6ca1\u6709\u6df1\u5165\u6316\u6398\u6027\u8d28\u3002\u540c\u65f6\u6b20\u7f3a\u4e86\u89c2\u5bdf\u548c\u8bbe\u8ba1\u72b6\u6001\u3002\r\n\r\n\u5e0c\u671b\u4e4b\u540e\u89e3\u8fd9\u79cd\u6570\u5b66\u9898\u7684\u65f6\u5019\uff0c\u80fd\u591f\u601d\u7ef4\u4e0e\u89c2\u5bdf\u3001\u6027\u8d28\u76f8\u7ed3\u5408\u3002\r\n\r\n\u53e6\u5916\uff0c\u5bf9\u4e8e\u89e3\u8fd9\u79cd\u82f1\u6587\u9898\uff0c\u7406\u89e3\u5207\u5fcc\u504f\u5dee\u3002",
        "postTime": 1667994905,
        "uid": 121995,
        "name": "SmallTualatin",
        "ccfLevel": 0,
        "title": "ARC147D \u9898\u89e3"
    }
]