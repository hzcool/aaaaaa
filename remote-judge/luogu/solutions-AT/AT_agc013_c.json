[
    {
        "content": "\u8003\u8651\u5230\u539f\u6765\u6bcf\u53ea\u8682\u8681\u90fd\u5728\u76f8\u90bb\u4e4b\u95f4\u649e\u6765\u649e\u53bb\uff0c\u6240\u4ee5\u80af\u5b9a\u6700\u540e\u6bcf\u53ea\u8682\u8681\u7684\u76f8\u5bf9\u987a\u5e8f\u662f\u4e0d\u4f1a\u6539\u53d8\u7684\u3002\u663e\u7136\u53ef\u4ee5\u76f4\u63a5\u786e\u5b9a\u6700\u540e\u4f4d\u7f6e\u7684\u6574\u4e2a\u5e8f\u5217\uff0c\u53ea\u8981\u786e\u5b9a $1$ \u53f7\u8682\u8681\u5728\u5e8f\u5217\u7684\u4f4d\u7f6e\uff08\u6700\u7ec8\u7f16\u53f7\uff09\uff0c\u5c31\u53ef\u4ee5\u77e5\u9053\u6bcf\u53ea\u8682\u8681\u6700\u540e\u5b9e\u9645\u7684\u4f4d\u7f6e\u3002\n\n\n\u4e0d\u59a8\u60f3\u8c61\u6210\u8682\u8681\u76f8\u649e\uff0c\u8682\u8681\u76f8\u4e92\u7a7f\u8fc7\uff0c\u7f16\u53f7\u4ea4\u6362\u3002 $i$ \u53f7\u8682\u8681\u7684\u5b9e\u9645\u4f4d\u7f6e\u5e94\u5f53\u5728\u62e5\u6709 $i$ \u7f16\u53f7\u7684\u8682\u8681\u7684\u4f4d\u7f6e\u3002\n\n\u8003\u8651\u5728\u76f4\u7ebf\u4e0a\u7684\u60c5\u51b5\uff0c\u76f4\u63a5\u5bf9\u5e94\u5c31\u884c\u4e86\u3002\u4f46\u73b0\u5728\u662f\u5728\u73af\u4e0a\uff0c\u5982\u679c\u6709\u4e00\u53ea\u8682\u8681\u9006\u65f6\u9488\u7ecf\u8fc7 $0$ \uff0c\u90a3\u4e48 $1$ \u53f7\u8682\u8681\u6700\u540e\u7684\u4f4d\u7f6e\u5c31\u4f1a\u5411\u524d\u4e00\u4f4d\uff0c\u987a\u65f6\u9488\u5219\u4f1a\u5411\u540e\u4e00\u4f4d\u3002(\u60f3\u8c61\u6210\u8fd9\u53ea\u8682\u8681\u53d8\u6210\u4e86\u8d1f\u6570\uff0c\u90a3\u4e48\u5728\u76f4\u7ebf\u4e0a\uff0c\u4ed6\u5e94\u8be5\u662f\u6700\u524d\u9762\u7684\uff0c\u4f46\u5148\u5728\u5728\u73af\u4e0a\uff0c\u6240\u4ee5\u4ed6\u7a7f\u8fc7\u53bb\u4e86\uff0c\u5c31\u4f1a\u53d8\u6210\u6700\u540e\u9762\u7684\uff0c\u6240\u4ee5\u539f\u6765\u5728\u4ed6\u540e\u9762\u7684\u90fd\u4f1a\u5f80\u524d\u632a\u4e00\u4f4d\uff09\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int N = 1e5 + 10;\nint n, l, t, ans[N]; \nint main() {\n\tscanf(\"%d%d%d\", &n, &l, &t);\n\tint cnt = 0;\n\tfor(int i = 0, x, w; i < n; i++){\n\t\tscanf(\"%d%d\", &x, &w);\n\t\tx += ((w == 1) ? t : -t);\n\t\tcnt = ((cnt + (int)floor(1.0 * x / l)) % n + n) % n; \n\t\tans[i] = (x % l + l) % l;\n\t}\n\tsort(ans, ans + n);\n\tfor(int i = 0; i < n; i++)\n\t\tprintf(\"%d\\n\", ans[(cnt + i) % n]); \n\treturn 0;\n}\n```",
        "postTime": 1630916337,
        "uid": 106738,
        "name": "_Felix",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT2369\u3010 [AGC013C] Ants on a Circle\u3011 \u601d\u7ef4\u9898"
    },
    {
        "content": "\u5728\u535a\u5ba2\u56ed\u98df\u7528\u66f4\u4f73\uff1a[https://www.cnblogs.com/PinkRabbit/p/AGC013.html](https://www.cnblogs.com/PinkRabbit/p/AGC013.html)\u3002\n\n\u8fd9\u662f\u67d0\u4e00\u9053\u7ecf\u5178\u9898\u7684\u53d8\u5f62\uff0c\u7ecf\u5178\u9898\u4e3a\uff1a\n\n- \u5728\u4e00\u6839\u957f\u5ea6\u4e3a $L$ \u7684\u68cd\u5b50\u4e0a\uff0c\u6709 $N$ \u53ea\u8682\u8681\uff0c\u4f4d\u7f6e\u4e92\u4e0d\u76f8\u540c\u4e14\u671d\u5411\u5de6\u6216\u53f3\uff0c\u5176\u4e2d\u8682\u8681\u7684\u884c\u4e3a\u4e0e\u672c\u9898\u76f8\u540c\u3002\n\n- \u6c42\u51fa $T$ \u65f6\u523b\u540e\u6bcf\u53ea\u8682\u8681\u7684\u4f4d\u7f6e\uff08\u5982\u679c\u8682\u8681\u4ece\u4e00\u7aef\u6389\u4e0b\u8bf7\u6c42\u51fa\u5b83\u4ece\u54ea\u4e00\u6bb5\u6389\u4e0b\uff09\u3002\n\n\u8fd9\u9053\u7ecf\u5178\u9898\u7684\u505a\u6cd5\u662f\uff1a\n\n- \u5047\u8bbe\u68cd\u5b50\u7684\u5de6\u53f3\u4e24\u7aef\u90fd\u662f\u65e0\u9650\u957f\u7684\uff0c\u8fd9\u6837\u6682\u65f6\u4e0d\u9700\u8981\u8003\u8651\u6389\u4e0b\u7684\u60c5\u51b5\u3002\n\n- \u5728\u4e24\u53ea\u8682\u8681\u78b0\u649e\u65f6\uff0c\u6211\u4eec\u5047\u8bbe\u8682\u8681\u5176\u5b9e\u6ca1\u6709\u6389\u5934\uff0c\u800c\u662f\u76f4\u63a5\u7a7f\u8fc7\u5f7c\u6b64\u3002\n\n- \u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u5728 $\\mathcal O (N)$ \u7684\u590d\u6742\u5ea6\u5185\uff0c\u76f4\u63a5\u7b97\u51fa $T$ \u65f6\u523b\u540e\u54ea\u4e9b\u4f4d\u7f6e\u8fd8\u5b58\u5728\u8682\u8681\uff0c\u5c06\u8fd9\u4e9b\u4f4d\u7f6e\u6392\u5e8f\uff0c\u82b1\u8d39 $\\mathcal O (N \\log N)$\u3002\n\n- \u6ce8\u610f\u5230\u5728\u4efb\u610f\u65f6\u523b\uff0c\u65e0\u8bba\u662f\u6709\u53d1\u751f\u78b0\u649e\u8fd8\u662f\u6ca1\u6709\u53d1\u751f\u78b0\u649e\uff0c\u6240\u6709\u8682\u8681\u4e4b\u95f4\u7684\u76f8\u5bf9\u4f4d\u7f6e\u90fd\u4e0d\u4f1a\u6539\u53d8\u3002\n\n- \u6240\u4ee5\u521d\u59cb\u65f6\u5728\u6700\u5de6\u4fa7\u7684\u8682\u8681\uff0c\u5728\u6700\u7ec8\u65f6\u523b\u7684\u4f4d\u7f6e\u4e00\u5b9a\u662f\u6700\u5c0f\u7684\u90a3\u4e2a\u4f4d\u7f6e\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\n\n- \u6700\u540e\u5982\u679c\u4f4d\u7f6e\u8d85\u51fa\u4e86\u539f\u68cd\u5b50\u7684\u8303\u56f4\uff0c\u90a3\u4e48\u8682\u8681\u5c31\u662f\u6389\u4e0b\u4e86\u68cd\u5b50\u3002\n\n\u5728\u672c\u9898\u4e2d\u4e5f\u662f\u7c7b\u4f3c\u7684\uff0c\u6211\u4eec\u5047\u8bbe\u8682\u8681\u662f\u7a7f\u8fc7\u4e86\u5f7c\u6b64\uff0c\u8fd9\u6837\u53ef\u4ee5\u6c42\u51fa $T$ \u65f6\u523b\u540e\u54ea\u4e9b\u4f4d\u7f6e\u4e0a\u8fd8\u5b58\u5728\u8682\u8681\u3002\n\n\u4f46\u662f\u8682\u8681\u4e4b\u95f4\u7684\u76f8\u5bf9\u4f4d\u7f6e\u65e0\u6cd5\u6bd4\u8f83\u663e\u7136\u5730\u786e\u5b9a\uff0c\u6211\u4eec\u4ec5\u77e5\u9053\u8682\u8681\u5728\u73af\u4e0a\u7684\u76f8\u5bf9\u4f4d\u7f6e\u662f\u4e0e\u539f\u6765\u5faa\u73af\u540c\u6784\u7684\u3002\n\n\u6211\u4eec\u8003\u8651\uff1a\u4e00\u5f00\u59cb\u7b2c $i$ \u53ea\u8682\u8681\u643a\u5e26\u7740\u4e00\u4e2a\u663e\u793a\u7740\u6570\u503c $i$ \u7684\u7535\u5b50\u5c4f\uff0c\u4e24\u53ea\u8682\u8681\u78b0\u649e\u65f6\u770b\u4f5c\u5b83\u4eec\u7a7f\u8fc7\u4e86\u5f7c\u6b64\uff0c\u4f46\u7535\u5b50\u5c4f\u4e0a\u7684\u6570\u503c\u4ea4\u6362\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\u4efb\u610f\u65f6\u523b\u8682\u8681\u643a\u5e26\u7684\u7535\u5b50\u5c4f\u4e0a\u7684\u6570\u503c\uff0c\u5c31\u662f**\u5b9e\u9645\u4e0a**\u8be5\u8682\u8681\u7684\u7f16\u53f7\uff08\u6211\u4eec\u5047\u8bbe\u6bcf\u53ea\u8682\u8681\u7f16\u53f7\u4ece\u4e0d\u6539\u53d8\uff0c\u4ec5\u6709\u663e\u793a\u5c4f\u53d8\u5316\uff09\u3002\n\n\u6211\u4eec\u8003\u8651\uff0c\u78b0\u649e\u65f6\uff0c\u5de6\u4fa7\u7684\u8682\u8681\u643a\u5e26\u7684\u7535\u5b50\u5c4f\u4e0a\u7684\u6570\u503c\u5b9e\u9645\u4e0a\u662f\u589e\u52a0\u4e86 $1$\uff0c\u9664\u975e\u6570\u503c\u4e3a $N$\uff0c\u90a3\u6837\u5fc5\u7136\u662f\u4e0e\u643a\u5e26\u7740\u6570\u503c $1$ \u7684\u8682\u8681\u78b0\u649e\u3002\n\n\u540c\u7406\u53f3\u4fa7\u7684\u8682\u8681\u643a\u5e26\u7684\u6570\u503c\u51cf\u5c11\u4e86 $1$\uff0c\u9664\u975e\u6570\u503c\u4e3a $1$\uff0c\u90a3\u6837\u4f1a\u53d8\u6210 $N$\u3002\n\n\u4f46\u662f\uff0c\u5982\u679c\u5728\u6a21 $N$ \u7684\u5269\u4f59\u7cfb\u4e0b\u8003\u8651\uff0c\u5c31\u4ec5\u4ec5\u662f\u5de6\u4fa7\u7684\u8682\u8681\u643a\u5e26\u7684\u6570\u503c\u589e\u52a0 $1$\uff0c\u53f3\u4fa7\u7684\u8682\u8681\u643a\u5e26\u7684\u6570\u503c\u51cf\u5c11 $1$ \u800c\u5df2\u3002\n\n\u6700\u7ec8\u53d6\u6240\u5728\u5269\u4f59\u7c7b\u4e2d\uff0c\u5728 $[1, N]$ \u8303\u56f4\u5185\u7684\u5143\u7d20\u4f5c\u4e3a\u771f\u5b9e\u503c\u5373\u53ef\u3002\n\n\u6b64\u65f6\u4e5f\u5c31\u662f\u8981\u6c42\u6bcf\u53ea\u8682\u8681\u4e0e\u53cd\u5411\u7684\u8682\u8681\u78b0\u649e\u7684\u6b21\u6570\uff0c\u5982\u679c\u8be5\u8682\u8681\u662f\u671d\u987a\u65f6\u9488\u65b9\u5411\uff08\u6b63\u65b9\u5411\uff09\u7684\uff0c\u5176\u7f16\u53f7\u589e\u52a0\u78b0\u649e\u6b21\u6570\uff0c\u5426\u5219\u51cf\u5c11\u3002\n\n\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5728\u53e6\u4e00\u671d\u5411\u7684\u6240\u6709\u8682\u8681\u4e2d\u8ba1\u7b97\u7ed5\u8fc7\u4e86\u51e0\u5708\uff0c\u5e76\u5bf9\u5269\u4f59\u7684\u4e0d\u8db3\u4e00\u5708\u7684\u8682\u8681\u6267\u884c\u4e8c\u5206\u67e5\u627e\u5f97\u51fa\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $\\mathcal O (N \\log N)$\u3002\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n\ntypedef long long LL;\nconst int MN = 100005;\n\nint N, L, T, X[MN], W[MN], Y[MN], Id[MN];\nint X1[MN], X2[MN], C1, C2;\nint Ans[MN];\n\ninline LL Q1(LL v) {\n\tLL w = (v % L + L) % L, k = (v - w) / L;\n\treturn std::upper_bound(X1, X1 + C1, w) - X1 + k * C1;\n}\ninline LL Q2(LL v) {\n\tLL w = (v % L + L) % L, k = (v - w) / L;\n\treturn std::upper_bound(X2, X2 + C2, w) - X2 + k * C2;\n}\n\nint main() {\n\tscanf(\"%d%d%d\", &N, &L, &T);\n\tfor (int i = 0; i < N; ++i) {\n\t\tscanf(\"%d%d\", &X[i], &W[i]);\n\t\tif (W[i] == 1) X1[C1++] = X[i];\n\t\tif (W[i] == 2) X2[C2++] = X[i];\n\t}\n\tfor (int i = 0; i < N; ++i) {\n\t\tY[i] = X[i];\n\t\tif (W[i] == 1) {\n\t\t\tY[i] = (Y[i] + T) % L;\n\t\t\tId[i] = (i + Q2(X[i] + 2ll * T) - Q2(X[i])) % N;\n\t\t}\n\t\tif (W[i] == 2) {\n\t\t\tY[i] = (Y[i] - T % L + L) % L;\n\t\t\tId[i] = ((i - Q1(X[i] - 1) + Q1(X[i] - 2ll * T - 1)) % N + N) % N;\n\t\t}\n\t\tAns[Id[i]] = Y[i];\n\t}\n\tfor (int i = 0; i < N; ++i) printf(\"%d\\n\", Ans[i]);\n\treturn 0;\n}\n```",
        "postTime": 1596301746,
        "uid": 10703,
        "name": "\u5c0f\u7c89\u5154",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 AT2369 \u3010[AGC013C] Ants on a Circle\u3011"
    },
    {
        "content": "\u52a0\u5f3a\u7248\uff1a[CF652F Ants on a Circle](https://www.luogu.com.cn/problem/CF652F)\n\n\u9898\u610f\uff1a\u7ed9\u4f60 $n$ \u53ea\u4e0d\u540c\u4f4d\u7f6e\u7684\u8682\u8681\u3001\u957f\u5ea6\u4e3a $l$ \u7684\u4e00\u4e2a\u73af\u548c\u603b\u65f6\u95f4 $t$\uff0c\u6bcf\u53ea\u8682\u8681\u6bcf\u79d2\u8d70 $1$ \u957f\u5ea6\u3002\u7136\u540e\u7ed9\u4f60\u6bcf\u53ea\u8682\u8681\u7684\u4f4d\u7f6e\u548c\u65b9\u5411\uff08\u987a\u65f6\u9488\u6216\u9006\u65f6\u9488\uff09\uff0c\u8ba9\u4f60\u6c42 $t$ \u79d2\u4e4b\u540e\u6bcf\u4e00\u53ea\u8682\u8681\u7684\u4f4d\u7f6e\uff08\u987a\u5e8f\u540c\u8f93\u5165\u987a\u5e8f\uff09\u3002\n\n\u89e3\u9898\u601d\u8def\uff1a\u5047\u5982\u6211\u4eec\u7ad9\u5728\u5f88\u9ad8\u5f88\u9ad8\u7684\u5c71\u4e0a\u770b\u8fd9\u7fa4\u8682\u8681\u5728\u7ed5\u7740\u8fd9\u4e2a\u73af\u8f6c\uff0c\u90a3\u4e48\u6211\u4eec\u4f1a\u5f88\u60ca\u5947\u7684\u53d1\u73b0\uff0c\u4e24\u53ea\u8682\u8681\u78b0\u5230\u4e4b\u540e\uff0c\u4ed6\u4eec\u5c45\u7136\u7a7f\u8fc7\u4e86\u5bf9\u65b9\uff01\u800c\u4e14\uff0c\u56e0\u4e3a\u662f\u4e00\u4e2a\u73af\uff0c\u6bcf\u4e00\u53ea\u8682\u8681\u53ea\u8981\u78b0\u5230\u5bf9\u65b9\u5c31\u6389\u5934\uff0c\u90a3\u4e48\uff0c\u6392\u5728\u4e00\u53ea\u8682\u8681\u987a\u65f6\u9488\u65b9\u5411\u7684\u8682\u8681\u6c38\u8fdc\u4e0d\u4f1a\u5230\u8fd9\u53ea\u8682\u8681\u7684\u9006\u65f6\u9488\uff08\u6307\u76f8\u5bf9\u4f4d\u7f6e\uff09\uff0c\u6392\u5728\u4e00\u53ea\u8682\u8681\u9006\u65f6\u9488\u65b9\u5411\u7684\u8682\u8681\u6c38\u8fdc\u4e0d\u4f1a\u5230\u8fd9\u53ea\u8682\u8681\u7684\u987a\u65f6\u9488\u3002\u4e8e\u662f\u6211\u4eec\u5f97\u5230\uff0c\u4ed6\u4eec\u7684\u76f8\u5bf9\u4f4d\u7f6e\u662f\u6c38\u4e0d\u53d8\u7684\u3002\n\n\u56e0\u4e3a\u8fd9\u4e00\u9898\u91cc\u9762\u8f93\u5165\u7684\u8682\u8681\u4f4d\u7f6e\u662f\u5347\u5e8f\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u9700\u8981\u6392\u5e8f\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ea\u9700\u8981\u7d27\u76ef\u7740\u4e00\u53ea\u8682\u8681\uff0c\u6211\u53d6\u4e86\u6392\u5b8c\u5e8f\u540e\u8ddd\u79bb\u6700\u5c0f\u7684\u7b2c\u4e00\u53ea\u8682\u8681\uff0c\u7136\u540e\u6c42\u51fa\u5b83\u7684\u7cbe\u786e\u4f4d\u7f6e\uff0c\u4e8e\u662f\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u5230\u6240\u6709\u8682\u8681\u7684\u4f4d\u7f6e\u4e86\u3002\n\n\u7531\u4e8e\u662f\u5728\u73af\u4e0a\uff0c\u6211\u4eec\u4e4b\u524d\u53d6\u7684\u7b2c\u4e00\u53ea\u8682\u8681\u8d70\u8fc7 $t$ \u79d2\u540e\u5e76\u4e0d\u4e00\u5b9a\u5c31\u8fd8\u662f\u6700\u9760\u524d\u7684\uff08\u76f8\u5bf9\u4e8e\u73af\u4e0a\u7684\u4f4d\u7f6e $0$\uff09\uff0c\u6211\u4eec\u8bb0 $0$ \u4e3a\u8682\u8681\u8fd0\u52a8\u65f6\u4e00\u4e2a\u56fa\u5b9a\u7684\u201c\u8def\u6807\u201d\uff0c\u5982\u679c\u6709\u8682\u8681\u987a\u65f6\u9488\u7ecf\u8fc7\u4e86 $0$\uff0c\u90a3\u4e48 $1$ \u53f7\u8682\u8681\u524d\u9762\u5c31\u591a\u4e86\u4e00\u53ea\u8682\u8681\uff08\u5728\u4ee5 $0$ \u4f4d\u7f6e\u4e3a\u8d77\u70b9 $0\\degree\\sim360\\degree$ \u65f6\uff09\u3002\u5982\u679c\u6709\u8682\u8681\u9006\u65f6\u9488\u7ecf\u8fc7\u4e86 $0$\uff0c\u90a3\u4e48 $1$ \u53f7\u8682\u8681\u524d\u9762\u5c31\u5c11\u4e86\u4e00\u53ea\u8682\u8681\u3002\u56e0\u4e3a\u6211\u4eec\u662f\u62ff $0$ \u4f5c\u4e3a\u53c2\u8003\u7cfb\u7684\uff0c\u6240\u4ee5 $1$ \u53f7\u8682\u8681\u7ecf\u8fc7 $0$ \u4e5f\u8981\u5904\u7406\u3002\u7531\u6b64\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8ba1\u7b97\u51fa $1$ \u53f7\u8682\u8681\u524d\u9762\u6709\u591a\u5c11\u53ea\u8682\u8681\u4e86\uff0c\u7136\u540e\u6211\u4eec\u4ece $1$ \u53f7\u8682\u8681\u4f9d\u6b21\u628a\u6392\u5e8f\u5b8c\u540e\u7684\u6240\u6709\u8682\u8681\u6700\u7ec8\u7684\u4f4d\u7f6e\u4f20\u7ed9\u6bcf\u4e00\u53ea\u8682\u8681\u5c31\u884c\u4e86\u3002\n\n\u6211\u4eec\u80fd\u8fd9\u4e48\u505a\u7684\u539f\u56e0\u662f\uff1a\u4f60\u53ef\u4ee5\u60f3\u8c61\u4e00\u53ea\u5e26\u7740\u5149\u6e90\u7684\u8682\u8681\uff0c\u7136\u540e\u4ed6\u4ece $x$ \u4f4d\u7f6e\u51fa\u53d1\uff0c\u5982\u679c\u4ed6\u78b0\u5230\u4e86\u4e00\u53ea\u8682\u8681\uff0c\u90a3\u4e48\u4ed6\u5c31\u628a\u5149\u6e90\u4f20\u7ed9\u4e86\u4ed6\u78b0\u5230\u7684\u90a3\u4e00\u53ea\u8682\u8681\uff0c\u7136\u540e\u90a3\u4e00\u53ea\u8682\u8681\u53c8\u78b0\u5230\u4e86\u53e6\u4e00\u53ea\u8682\u8681\uff0c\u90a3\u4e48\u90a3\u4e00\u53ea\u8682\u8681\u5c31\u628a\u5149\u6e90\u4f20\u7ed9\u4e86\u53e6\u4e00\u53ea\u8682\u8681\u2026\u2026\u7531\u6b64\u770b\u6765\uff0c\u6211\u4eec\u6839\u672c\u65e0\u9700\u5728\u8682\u8681\u722c\u884c\u65f6\u90a3\u4e48\u5728\u610f\u4ed6\u4eec\u7684\u7f16\u53f7\u3002\n\nCode:\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MaxN=1e5+5;\nint n,l,t,first_ant_place;\nstruct hh{\n\tint place,towards,ends;//towards=1-->\u5f80\u6570\u503c\u5927\u7684\u5730\u65b9\u8d70,towards=2-->\u5f80\u6570\u503c\u5c0f\u7684\u5730\u65b9\u8d70\n\tbool friend operator < (hh x,hh y){\n\t\treturn x.ends<y.ends;\n\t}\n}a[MaxN];\nint main(){\n\tscanf(\"%d%d%d\",&n,&l,&t);\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%d%d\",&a[i].place,&a[i].towards);\n\t\tif(a[i].towards==1){\n\t\t\ta[i].ends=a[i].place+t;\n\t\t}else{\n\t\t\ta[i].ends=a[i].place-t;\n\t\t}\n\t\tfirst_ant_place=(first_ant_place+(int)floor(1.0*a[i].ends/l)%n+n)%n;\n\t\ta[i].ends=(a[i].ends%l+l)%l;\n\t}\n\tsort(a+1,a+n+1);\n\tfor(int i=1;i<=n;i++){\n\t\tprintf(\"%d\\n\",a[(first_ant_place+i-1)%n+1].ends);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1634284957,
        "uid": 241114,
        "name": "\u7070\u9e64\u5728\u6b64",
        "ccfLevel": 7,
        "title": "AT2369 [AGC013C] Ants on a Circle\u9898\u89e3"
    },
    {
        "content": "\u6807\u7b7e: ?\n\n(\u770b\u4e86\u5176\u4ed6\u9898\u89e3\u53d1\u73b0\u81ea\u5df1\u7684\u505a\u6cd5\u597d\u590d\u6742, \u6709\u5174\u8da3\u5c31\u5eb7\u5eb7\u5427\n\n\u5c06\"**\u4e24\u53ea\u8682\u8681\u76f8\u9047\u6389\u5934\u770b\u6210\u7a7f\u8fc7**\"\u8fd9\u79cd\u57fa\u64cd\u5c31\u4e0d\u8d58\u8ff0\u4e86, \u6211\u4eec\u53ea\u9700\u8981\u77e5\u9053\u6700\u540e\u7b2c\u4e00\u53ea\u8682\u8681\u7684\u4f4d\u7f6e\u5c31\u53ef\u4ee5\u63a8\u51fa\u6240\u6709\u8682\u8681\u7684\u4f4d\u7f6e\u4e86.\n\n(\u8fd9\u4e2a\u90e8\u5206\u7531\u4e8e\u672c\u4eba\u5e76\u6ca1\u6709\u60f3\u5230\u5176\u4ed6\u9898\u89e3\u7684\u6b63\u5e38\u505a\u6cd5, \u5251\u8d70\u504f\u950b\u641e\u51fa\u4e86\u4e2a\u5341\u5206\u590d\u6742\u7684\u505a\u6cd5\n\n\u5728\u7b2c\u4e00\u53ea\u8682\u8681\u8eab\u4e0a\u653e\u4e00\u5757\u5b9d\u77f3, \u5f53\u4e24\u53ea\u8682\u8681\u4e92\u76f8\u7a7f\u8fc7\u65f6, \u6ca1\u6709\u5b9d\u77f3\u7684\u8682\u8681\u4f1a\u62a2\u8d70\u5b9d\u77f3, \u90a3\u4e48\u6700\u540e\u6709\u5b9d\u77f3\u7684\u8682\u8681\u7684\u4f4d\u7f6e\u53ca**\u95ee\u9898\u672a\u8f6c\u5316\u524d**\u7684\u7b2c\u4e00\u53ea\u8682\u8681\u7684\u4f4d\u7f6e.\n\n\u6211\u4eec\u5c06\u8682\u8681\u6309\u8fd0\u52a8\u65b9\u5411\u5206\u6210\u4e24\u7ec4 $A,B$, \u624b\u52a8\u6a21\u62df\u53d1\u73b0\u5b9d\u77f3\u968f\u7740\u65f6\u95f4\u63a8\u79fb\u8f6e\u6d41\u5230\u4e24\u7ec4\u7684\u8682\u8681\u624b\u4e2d. \u901a\u8fc7\u753b\u56fe\u7b49\u65b9\u6cd5, \u5f88\u5bb9\u6613\u5f97\u51fa\u5982\u4e0b\u7ed3\u8bba: \u4ece\u8682\u8681 $a\\in A$ \u4ece\u8682\u8681 $b\\in B$ \u62a2\u8d70\u5b9d\u77f3, \u5230\u88ab\u8682\u8681 $c\\in B$ \u62a2\u8d70\u5b9d\u77f3\u7684\u8fc7\u7a0b\u4e2d, $a,c$ \u8d70\u8fc7\u7684**\u8def\u7a0b\u548c**\u6070\u597d\u4e3a $b,c$ \u95f4\u7684\u8ddd\u79bb, \u6240\u4ee5\u5bf9\u4e8e\u7ed9\u5b9a\u7684\u65f6\u95f4 $T$ , \u5206\u522b\u9884\u5904\u7406\u4e24\u7ec4\u8682\u8681\u4e4b\u95f4\u7684\u95f4\u8ddd, \u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u4e8c\u5206(\u6216\u8005\u5176\u4ed6\u529e\u6cd5?)\u5f97\u51fa\u5b9d\u77f3\u88ab\u62a2\u593a\u7684\u6b21\u6570, \u7136\u540e\u6839\u636e\u6b21\u6570\u63a8\u51fa\u5b9d\u77f3\u5728\u90a3\u53ea\u8682\u8681\u624b\u4e2d, \u5c31\u89e3\u51b3\u4e86\u8fd9\u9053\u9898\u4e86.\n\n\u6ce8\u610f\u6700\u521d\u59cb\u7b2c\u4e00\u53ea\u8682\u8681\u6ca1\u6709\u4ece\u4efb\u4f55\u5176\u5b83\u8682\u8681\u624b\u4e2d\u62a2\u5f97\u5b9d\u77f3(\u662f\u6211\u4eec\u653e\u7f6e\u7684), \u6545\u8981\u7279\u5224\u4e00\u4e0b.\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(n+\\log n)$.\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint read();\nint n, L, T;\nint M(int x) { return x >= L ? x - L : x; }\nint x[200005], dire[200005], q[2];\nint res[200005];\nvector<int> p[2];\n\nint tmp;\nint to(int a) {\n    int rt = M((x[a] + (dire[a] ? 1 : -1) * T) % L + L);\n    rt += L - tmp;\n    return rt > L ? rt - L : rt;\n}\n\nbool cmp(int a, int b) { return b == 1 ? 0 : (a > b || a == 1); }\n\nint dis(int a, int b) { return M((x[b] - x[a]) * (dire[a] ? 1 : -1) + L); }\n\nint pre[2][200005];\n\nlong long calc(int i, int j) {\n    return 1ll * pre[i][q[i] - 1] * (j / q[i]) +\n           (j % q[i] ? pre[i][j % q[i] - 1] : 0);\n}\n\nint solve() {\n    int t;\n    if (!p[1].size() || (t = 2 * T - dis(1, p[1][0])) <= 0) return 1;\n    for (int i = 0; i < 2; ++i) {\n        if ((q[i] = p[i].size()) == 1) {\n            pre[i][0] = L;\n            continue;\n        }\n        for (int j = 0; j < q[i] - 1; ++j)\n            pre[i][j] = dis(p[i][j + 1], p[i][j]);\n        pre[i][q[i] - 1] = dis(p[i][0], p[i][q[i] - 1]);\n        for (int j = 0; j < q[i]; ++j) pre[i][j] += pre[i][j - 1];\n    }\n    int l = 0, r = 1000000000, rs = 0;\n    while (l <= r) {\n        int mid = l + r >> 1;\n        long long len = calc(0, (mid >> 1) + (mid & 1)) + calc(1, mid >> 1);\n        if (len <= t)\n            l = mid + 1, rs = mid;\n        else\n            r = mid - 1;\n    }\n    rs = (rs & 1) ? p[0][((rs >> 1) + 1) % q[0]] : p[1][(rs >> 1) % q[1]];\n    return rs;\n}\n\nint main() {\n    n = read(), L = read(), T = read();\n    for (int i = 1; i <= n; ++i)\n        x[i] = read(), dire[i] = read() & 1, p[dire[i] ^ dire[1]].push_back(i);\n    if (dire[1])\n        sort(p[0].begin(), p[0].end(), cmp), sort(p[1].begin(), p[1].end());\n    else\n        sort(p[0].begin(), p[0].end()), sort(p[1].begin(), p[1].end(), cmp);\n    int st = solve();\n    tmp = to(st);\n    for (int i = 1; i <= n; ++i) res[i] = to(i);\n    res[st] = 0, sort(res + 1, res + 1 + n);\n    for (int i = 1; i <= n; ++i) printf(\"%d\\n\", M(res[i] + tmp));\n    return 0;\n}\n\nint read() {\n    int x = 0, f = 1;\n    char c = getchar();\n    while (c < '0' || c > '9') f = (c == '-') ? -1 : f, c = getchar();\n    while (c >= '0' && c <= '9') x = x * 10 + c - '0', c = getchar();\n    return x * f;\n}\n```\n\n",
        "postTime": 1576570740,
        "uid": 51237,
        "name": "Kinandra",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT2369 \u3010Ants on a Circle\u3011"
    },
    {
        "content": "\n\u5176\u5b9e\uff0c\u8fd9\u9898\u6709\u4e00\u4e2a\u5f31\u5316\u7248\uff0c\u90a3\u9898\u5e76\u4e0d\u8981\u6c42\u6309\u8682\u8681\u987a\u5e8f\u8f93\u51fa\uff0c\u53ea\u7528\u4ece\u5c0f\u5230\u5927\u8f93\u51fa\u6709\u8682\u8681\u7684\u4f4d\u7f6e\u5373\u53ef\u3002\n\n\u90a3\u9898\u89e3\u9898\u7684\u5173\u952e\u5728\u4e8e\u76f8\u9047\u65f6\u7684\u6389\u5934\u76f8\u5f53\u4e8e\u76f4\u63a5\u7a7f\u8fc7\u53bb\u4e86\uff08\u56e0\u4e3a\u4e0d\u8981\u6c42\u7f16\u53f7\uff09\uff0c\u90a3\u8fd9\u9898\u4e2d\u7684\u76f8\u9047\u5c31\u76f8\u5f53\u4e8e\u4ea4\u6362\u4e86\u7f16\u53f7\u7f62\u4e86\u3002\n\n\u6240\u4ee5\u8682\u8681\u4eecT\u79d2\u540e\u7684\u4f4d\u7f6e\u6211\u4eec\u53ef\u4ee5\u975e\u5e38\u7b80\u5355\u5730\u7b97\u51fa\u6765\uff0c\u53ea\u662f\u4e0d\u77e5\u9053\u54ea\u4e00\u4e2a\u4f4d\u7f6e\u5bf9\u5e94\u54ea\u4e00\u53ea\u8682\u8681\u3002\n\n\u6240\u4ee5\u6211\u4eec\u5c31\u7b97\u51fa\u4e00\u53f7\u8682\u8681\u5728T\u79d2\u540e\u7684Rank\uff0c\u7167\u7740Rank\u8f93\u51fa\u5373\u53ef\u3002\n\n\u6211\u4eec\u4ee5\u4e00\u53ea\u8682\u8681\u4e3a\u6807\u51c6\uff0c\u6bcf\u6709\u4e00\u53ea\u8682\u8681\u5012\u7740\u7a7f\u8fc7\u5b83\uff0cRank--\uff0c\u6b63\u7740\u7a7f\u8fc7\u5b83\uff0cRank++\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u6309\u987a\u5e8f\u8f93\u51fa\u5373\u53ef\u3002\n\n### \u6ce8\u610f\uff1a\u8fd9\u91cc\u7684\u8d1f\u6570\u5982\u679c\u4e0d\u88ab$l$\u6574\u9664\uff0c\u5b9e\u9645\u4e0a\u4ed6\u662f\u591a\u8f6c\u4e86\u4e00\u5708\u7684\uff0c\u8981\u518d\u6b21$--$\n\n```cpp\n#include<bits/stdc++.h>\n#define N 1000010\nusing namespace std;\nstruct data\n{\n\tint x,w;\n}a[N];\nbool cmp(data a,data b)\n{\n\treturn a.x<b.x;\n}\nint n,l,t,sum;\nint main()\n{\n\tscanf(\"%d%d%d\",&n,&l,&t);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d%d\",&a[i].x,&a[i].w);\n\t\ta[i].w--;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tif(!a[i].w)\n\t\t{\n\t\t\ta[i].x+=t;\n\t\t}else{\n\t\t\ta[i].x-=t;\n\t\t}\n\t\tsum+=a[i].x/l;//\u8ba1\u7b97\u7b2c1\u53ea\u8682\u8681\u7684Rank\n\t\tif(a[i].x%l<0)//\u8fd9\u91cc\u51cf\u5c11\u4e86\uff08\u662f\u8d1f\u6570\uff0c\u4f46\u4e0d\u6574\u9664\uff09\uff0c\u8981\u518d\u51cf\u4e00\u6b21\n\t\t{\n\t\t\tsum--;\n\t\t}\n\t\ta[i].x=(a[i].x%l+l)%l;\n\t}\n\tsort(a+1,a+n+1,cmp);\n\tsum=(sum%n+n)%n;\n\tfor(int i=sum+1;i<=n;i++)\n\t{\n\t\tprintf(\"%d\\n\",a[i].x);\n\t}\n\tfor(int i=1;i<=sum;i++)\n\t{\n\t\tprintf(\"%d\\n\",a[i].x);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1567927089,
        "uid": 103334,
        "name": "Honor\u8a89",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT2369 \u3010Ants on a Circle\u3011"
    },
    {
        "content": "\u5206\u6790:\u663e\u7136\u8682\u8681\u7684\u76f8\u5bf9\u4f4d\u7f6e\u4e0d\u53d8\uff0c\u7136\u540e\u76f8\u9047\u6389\u5934\u53ef\u4ee5\u7406\u89e3\u4e3a\u6539\u53d8\u7f16\u53f7\n------------\n```cpp\n#include<bits/stdc++.h>\n#define fo(i,a,b) for(i=a;i<=b;i++)\nusing namespace std;\n#define ll long long\nconst int maxn=100000+10;\nint x[maxn],xx[maxn],w[maxn];\nint i,j,k,l,r,s,t,n,m;\nll c;\ninline int read()\n{\n    int k=1;int x=0;\n    char ch=getchar();\n    while ((ch<'0'||ch>'9')&&ch!='-')ch=getchar();\n    if(ch=='-')\n    k=-1,ch=getchar();\n    while(ch>='0'&&ch<='9')\n    x=x*10+ch-'0',ch=getchar();\n    return k*x;\n}\nint main()\n{\n    n=read(),l=read(),t=read();\n    fo(i,1,n)\n        x[i]=read(),w[i]=read();\n    fo(i,1,n)\n    {\n        if (w[i]==2) w[i]=-1;\n        r=x[i]+w[i]*t;\n        if (r>0) (c+=r/l)%=n;\n        else if (r<0) (c+=(r+1)/l-1)%=n;\n        xx[i]=(r%l+l)%l;\n    }\n    sort(xx+1,xx+n+1);\n    c=(c+n)%n;\n    fo(i,c+1,n)\n        printf(\"%d\\n\",xx[i]);\n    fo(i,1,c) printf(\"%d\\n\",xx[i]);\n}\n\n```",
        "postTime": 1544855674,
        "uid": 111487,
        "name": "\u9f99\u7fd4\u51e4\u7fe5",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT2369 \u3010Ants on a Circle\u3011"
    }
]