[
    {
        "content": "[\u53c2\u8003\u535a\u5ba2](https://www.cnblogs.com/heyuhhh/p/11585358.html)\n\n\u8003\u8651\u5bf9\u6bcf\u4e2a $k$ \u5206\u522b\u8fdb\u884c\u8ba1\u7b97\u3002\u5373\u4ee4  $A_k=\\max_{i|j=k,i\\not=j}a_i+a_j$\uff0c\u5219 $ans_k=\\max_{i|j\\le k,i\\not=j}a_i+a_j=\\max_{i=1}^{k}A_i$\u3002\n\n\u7531\u4e8e\u7b54\u6848\u662f\u5bf9\u6bcf\u79cd\u53ef\u80fd\u7684 $a_i+a_j$ \u53d6 max\uff0c\u56e0\u6b64\u4e0d\u59a8\u6269\u5c55\u4e00\u4e0b $A_i$ \u7684\u8303\u56f4\u3002\u628a $i,j,k$ \u770b\u505a\u4e8c\u8fdb\u5236\u6570\uff0c\u6211\u4eec\u8bf4 $i\\subseteq j$\uff0c\u5f53\u4e14\u4ec5\u5f53 $i$ \u7684\u6bcf\u4e00\u4f4d\u90fd\u5c0f\u4e8e\u7b49\u4e8e $j$\u3002\u4ee4 $A_k=\\max_{i,j\\subseteq k,i\\not=j}a_i+a_j$\uff0c\u5219 $ans_k$ \u4ecd\u7b49\u4e8e $\\max_{i=1}^{k}A_i$\u3002\n\n\u4e0a\u8ff0\u5f0f\u5b50\u6210\u7acb\u662f\u7531\u4e8e\u6216\u8fd0\u7b97\u7684\u6027\u8d28\u3002\u6216\u8fd0\u7b97\u662f\u4e0d\u51cf\u7684\uff0c\u5e76\u4e14 $i,j\\subseteq k$ \u662f $i|j=k$ \u7684\u5fc5\u8981\u6761\u4ef6\u3001$i|j\\le k$ \u7684\u5145\u5206\u6761\u4ef6\u3002\u8fd9\u4f7f\u5f97\u6240\u6709\u6ee1\u8db3 $i,j\\subseteq k,i\\not=j$ \u7684 $(i,j)$ \u7ec4\u6210\u7684\u96c6\u5408\u4fdd\u7559\u4e86\u539f\u6765\u90a3\u4e9b\u6ee1\u8db3 $i|j=k,i\\not=j$ \u7684 $(i,j)$ \u7684\u96c6\u5408\uff0c\u53c8\u6ca1\u6709\u628a $i|j>k$ \u7684 $(i,j)$ \u653e\u8fdb\u6765\uff0c\u56e0\u6b64\u7b54\u6848\u7684\u6b63\u786e\u6027\u4e0d\u53d8\u3002\n\n\u73b0\u5728\u6211\u4eec\u9700\u8981\u6c42\u5bf9\u4e8e\u6bcf\u4e2a $k$ \u6c42 $\\max_{i,j\\subseteq k,i\\not=j}a_i+a_j$\uff0c\u8fd9\u662f**\u7c7b\u5b50\u96c6\u548c\u95ee\u9898**\uff0c\u5f97\u501f\u52a9**\u9ad8\u7ef4\u524d\u7f00\u548c**\u5b8c\u6210\u3002\n\n## \u9ad8\u7ef4\u524d\u7f00\u548c\n\u4e00\u7ef4\u524d\u7f00\u548c\u4e0d\u7528\u591a\u8bf4\uff0c\u4e8c\u7ef4\u524d\u7f00\u548c\u4e00\u822c\u662f\u7528\u5bb9\u65a5\u6765\u505a\u3002\u4f46\u5bb9\u65a5\u7684\u590d\u6742\u5ea6\u4e3a $O(2^nV)$\uff0c\u5176\u4e2d $n$ \u4e3a\u7ef4\u6570\uff0c$V$ \u4e3a\u70b9\u6570\u3002\u968f\u7740\u7ef4\u5ea6\u7684\u589e\u52a0\u590d\u6742\u5ea6\u5c06\u53d8\u5f97\u65e0\u6cd5\u63a5\u53d7\u3002\u5176\u5b9e\u6211\u4eec\u53ef\u4ee5\u4ee5\u7ef4\u4e3a\u5355\u4f4d\uff0c\u9010\u7ef4\u62d3\u5c55\uff0c\u590d\u6742\u5ea6\u5c31\u4f1a\u964d\u81f3 $O(nV)$\u3002\u5177\u4f53\u601d\u8def\u53ef\u4ee5\u53c2\u8003\u5982\u4e0b\u4ee3\u7801\uff1a\n\n\u6c42\u4e8c\u7ef4\u524d\u7f00\u548c\uff1a\n```\nfor(int i = 1; i <= n; i++)\n    for(int j = 1; j <= n; j++)\n        a[i][j] += a[i - 1][j];\nfor(int i = 1; i <= n; i++)\n    for(int j = 1; j <= n; j++)\n        a[i][j] += a[i][j - 1];\n```\n\u6c42\u4e09\u7ef4\u524d\u7f00\u548c\uff1a\n```cpp\nfor(int i = 1; i <= n; i++)\n    for(int j = 1; j <= n; j++)\n        for(int k = 1; k <= n; k++) \n            a[i][j][k] += a[i - 1][j][k];\nfor(int i = 1; i <= n; i++)\n    for(int j = 1; j <= n; j++)\n        for(int k = 1; k <= n; k++)\n            a[i][j][k] += a[i][j - 1][k];\nfor(int i = 1; i <= n; i++)\n    for(int j = 1; j <= n; j++)\n        for(int k = 1; k <= n; k++)\n            a[i][j][k] += a[i][j][k - 1];\n```\n\u624b\u6a21\u4e00\u4e0b\u5c31\u975e\u5e38\u6e05\u6670\u660e\u4e86\u4e86\uff0c\u66f4\u9ad8\u7ef4\u5ea6\u7684\u4ee5\u6b64\u7c7b\u63a8\u3002\n\n\u56de\u5230\u672c\u9898\u4e0a\u6765\uff0c$A_k=\\max_{i,j\\subseteq k,i\\not=j}a_i+a_j$ \u5b9e\u9645\u4e0a\u5c31\u662f\u6c42\u9ad8\u7ef4\u524d\u7f00\u6700\u5927\u503c\u548c\u6b21\u5927\u503c\uff0c\u7279\u6b8a\u4e4b\u5904\u5728\u4e8e\u5b83\u7684\u5bf9\u8c61\u662f\u4e00\u4e2a\u8fb9\u957f\u4e3a $2$ \u7684 $n$ \u7ef4\u8d85\u7acb\u65b9\u4f53\uff0c\u70b9\u6570\u4e3a $2^n$\uff0c\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n2^n)$\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff08\u7801\u5b57\u4e0d\u6613\uff0c\u8fd8\u671b\u7ed9\u4e2a\u8d5eQAQ\uff09\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#include<vector>\n#include<queue>\n#include<map>\n#define pb push_back\n#define sml(x,y) (x=min(x,y))\n#define big(x,y) (x=max(x,y))\n#define ll long long\n#define db double\n#define fo(i,x,y) for(register int i=x;i<=y;++i)\n#define go(i,x,y) for(register int i=x;i>=y;--i)\nusing namespace std;\ninline int read(){int x=0,fh=1; char ch=getchar(); while(!isdigit(ch)){if(ch=='-') fh=-1; ch=getchar();} while(isdigit(ch)){x=(x<<1)+(x<<3)+ch-'0'; ch=getchar();} return x*fh;}\n\nconst int N=19,inf=1e9;\nint n,m;\nstruct Node{\n\tint m1,m2;\n\tNode operator+(const Node &x){\n\t\tNode y;\n\t\tif(m1>x.m1){\n\t\t\ty.m1=m1;\n\t\t\ty.m2=max(m2,x.m1);\n\t\t}else{\n\t\t\ty.m1=x.m1;\n\t\t\ty.m2=max(m1,x.m2);\n\t\t}return y;\n\t}\n}a[1<<N];\n\nint main(){\n\tcin>>n;m=1<<n;\n\tfo(i,0,m-1) a[i].m1=read(),a[i].m2=-inf;\n\tfo(i,0,n-1)\n\t\tfo(j,0,m-1) if((j>>i)&1) a[j]=a[j]+a[j^(1<<i)];\n\t//cout<<a[0].m1+a[0].m2<<endl;\n\tint ans=0;\n\tfo(j,1,m-1){\n\t\tbig(ans,a[j].m1+a[j].m2);\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1625712514,
        "uid": 238408,
        "name": "vectorwyx",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 AT4168 [ARC100C] Or Plus Max"
    },
    {
        "content": "[\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/AT4168)\n\n~~\u840c\u65b0\u521d\u5b66\u9ad8\u7ef4\u524d\u7f00\u548c\uff0c\u6765\u5199\u7bc7\u9898\u89e3~~  \n\n\u89c2\u5bdf\u9898\u76ee\uff0c\u6211\u4eec\u9700\u8981\u6ee1\u8db3\u7684\u6761\u4ef6\u6709\u4e24\u4e2a\uff0c\u627e\u51fa\u6700\u5927\u7684$a_i+a_j$\u5e76\u4e14$ i|j \\leq k$\n\n\u6211\u4eec\u53ef\u4ee5\u8f6c\u5316\u4e00\u4e0b\u9898\u76ee\uff0c\u6ee1\u8db3$ i|j \\leq k$ \u53ef\u4ee5\u8ba4\u4e3a\u662f\u5728 $i|j$\u5728\u7b49\u4e8e1-k\u65f6\u7684\u6700\u5927\u503c\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u6c42\u51fa\u5bf9\u4e8e\u6240\u6709\u7684k\uff0c\u6ee1\u8db3$i|j=k$\u65f6\u7684\u89e3\uff0c\u8be2\u95ee\u7684\u65f6\u5019\u53d6max\u5c31\u884c\u4e86\u3002\n\n\u6211\u4eec\u53d1\u73b0\u8fd9\u65f6\u5019\u95ee\u9898\u5c31\u8f6c\u5316\u6210\u4e86$i|j\u2282k$ \u53d8\u6210\u4e86\u4e00\u4e2a\u5b50\u96c6\u95ee\u9898\uff0c\u5373\u5bf9\u4e8e\u6240\u6709k\uff0c\u6c42\u51fa\u5b83\u6240\u6709\u5b50\u96c6\u7684\u6700\u5927\u503c\u548c\u7b2c\u4e8c\u5927\u503c\u3002\n\n\u8fd9\u91cc\u663e\u7136\u679a\u4e3e\u6240\u6709\u5b50\u96c6\u4f1a\u8d85\u65f6\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u9ad8\u7ef4\u524d\u7f00\u548c\u3002  \n\u6211\u4eec\u62ff\u4e00\u4e2a\u7ed3\u6784\u4f53\u7ed1\u4e00\u4e0b\u6bcf\u4e2ak\u7684\u6700\u5927\u503c\u548c\u6b21\u5927\u503c\uff0c\u521d\u59cb\u65f6\u6700\u5927\u503c\u4e3a\u5f53\u524d\u503c\uff0c\u6b21\u5927\u503c\u4e3a 0 \u6216 -inf , \u7136\u540e\u505a\u9ad8\u7ef4\u524d\u7f00\u548c\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u91cc\u524d\u7f00\u548c\u4fdd\u5b58\u7684\u4e0d\u662f\u524d\u7f00\u548c\uff0c\u800c\u662f\u6240\u6709\u524d\u7f00\u7684\u6700\u5927\u503c\u3002  \n\n\u4ee3\u7801\uff1a\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\nconst int MAXN = 20;\ninline int read()\n{\n\tint x=0,f=1;char c=getchar();\n\twhile(c<'0' || c>'9'){if(c=='-')f=-1;c=getchar();}\n\twhile(c>='0' && c<='9'){x=x*10+c-'0';c=getchar();}\n\treturn x*f;\n}\nstruct number\n{\n\tint f,s;\n}a[1<<MAXN]; //f\u8868\u793a\u6700\u5927\u503c,s\u4e3a\u6b21\u5927\u503c\nint n;\nint main()\n{\n\tn=read();\n\tfor(int i=0;i<1<<n;i++)\n\t{\t\n\t\tint x;\n\t\tx=read();\n\t\ta[i].f=x; \n\t}\n\tfor(int j=0;j<n;j++)\n\t\tfor(int i=0;i<1<<n;i++)\n\t\t\tif(i>>j & 1) //\u9ad8\u7ef4\u524d\u7f00\u548c\n\t\t\t{\n\t\t\t\tint x=i^(1<<j); //\u4e0a\u4e00\u5c42\u7684\u72b6\u6001\n\t\t\t\tnumber ans;\n\t\t\t\tans.f=max(a[i].f,a[x].f); //f\u4e3a\u4e24\u4e2a\u72b6\u6001\u6700\u5927\u503c\n\t\t\t\tif(a[i].f>a[x].f) \n\t\t\t\t\tans.s=max(a[i].s,a[x].f); //\u9009\u62e9\u4e86i\u7684\u6700\u5927\u503c\u65f6,\u4ecd\u53ef\u4ee5\u9009\u62e9x\u7684\u6700\u5927\u503c\u4f5c\u4e3a\u5f53\u524d\u7b54\u6848\u7684\u7b2c\u4e8c\u5927\n\t\t\t\telse\n\t\t\t\t\tans.s=max(a[i].f,a[x].s);\n\t\t\t\ta[i]=ans;\n\t\t\t}\n\tint ans=0;\n\tfor(int i=1;i<1<<n;i++)\n\t{\n\t\tans=max(ans,a[i].f+a[i].s);  //\u5bf9\u4e8e\u6240\u6709k\uff0c\u53d6\u4e4b\u524d\u72b6\u6001\u7684\u6700\u5927\u503c\n\t\tcout<<ans<<endl;\n\t}\n\tcout<<endl;\n\treturn 0;\n}\n```\n\n\n",
        "postTime": 1584211339,
        "uid": 35998,
        "name": "\u7287\u7287\u7287\u7287",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT4168 \u3010[ARC100C] Or Plus Max\u3011"
    },
    {
        "content": "\u5148\u6765\u8003\u8651\u5bf9\u4e8e\u4e00\u4e2a\u7ed9\u5b9a\u7684 $K$ \u5982\u4f55\u505a\uff0c\u6216\u8d77\u6765\u5c0f\u4e8e\u7b49\u4e8e $K$ \u8fd9\u4e2a\u5f62\u5f0f\u5176\u5b9e\u5e76\u4e0d\u53cb\u597d\u3002\u4ece\u4f4d\u8fd0\u7b97\u7684\u89d2\u5ea6\uff0c\u6211\u4eec\u66f4\u5e0c\u671b\u5f97\u5230\u201c\u6216\u8d77\u6765\u662f $K$ \u7684\u5b50\u96c6\u201d\u8fd9\u79cd\u9650\u5236\uff0c\u56e0\u6b64\u53ef\u4ee5\u4ece\u679a\u4e3e $0\\le k \\le K$\uff0c\u94a6\u5b9a $i{\\rm \\ or\\ }j\\subseteq k$\uff0c\u8fd9\u6837\u5c31\u53ea\u9700\u8981\u8d2a\u5fc3\u5730\u9009\u62e9\u4e0b\u6807\u662f $k$ \u5b50\u96c6\u6700\u5927\u7684\u6570\u548c\u6b21\u5927\u7684\u6570\u4e86\u3002\u5047\u8bbe\u6211\u4eec\u6c42\u51fa\u4e86 $f_k=\\max_{ i{\\rm\\ or\\ }j\\subseteq k}$\uff0c\u90a3\u4e48\u7b54\u6848\u5c31\u662f $\\max_{i=1}^K f_i$\u3002\r\n\r\n\u63a5\u4e0b\u6765\uff0c\u8003\u8651\u6c42\u51fa\u4e0b\u6807\u662f $k$ \u5b50\u96c6\u7684\u6700\u5927\u7684\u6570\u548c\u6b21\u5927\u7684\u6570\u3002\u6b64\u65f6\u5e76\u4e0d\u9700\u8981\u4f7f\u7528\u9ad8\u7ef4\u524d\u7f00\u548c\uff0c\u56e0\u4e3a\u6211\u4eec\u7ef4\u62a4\u7684\u662f $\\max$ \u7c7b\u7684\u4fe1\u606f\uff0c\u505a\u52a0\u6cd5\u7684\u65f6\u5019\u4f1a\u81ea\u52a8\u53bb\u91cd\u3002\u9996\u5148\u6211\u4eec\u5b9a\u4e49\u8fd9\u6837\u4e00\u4e2a\u7ed3\u6784\u4f53\uff1a\r\n\r\n```\r\nstruct node{\r\n\tnd mx,sc;\r\n\tnode operator +(node b){\r\n\t\tif(mx==b.mx)\r\n\t\t\treturn {mx,max(sc,b.sc)};\r\n\t\tif(mx<b.mx)\r\n\t\t\treturn {b.mx,max(mx,b.sc)};\r\n\t\treturn {mx,max(sc,b.mx)};\r\n\t}\r\n}f[N];\r\n```\r\n\r\n\u8fd9\u4e2a\u52a0\u6cd5\u5c31\u53ef\u4ee5\u6c42\u51fa\u4e24\u4e2a\u96c6\u5408\u5e76\u7684\u6700\u5927\u503c\u548c\u6b21\u5927\u503c\u3002\u90a3\u4e48\u6211\u4eec\u8fd9\u6837\u89e3\u51b3\uff1a\u5bf9\u4e8e\u5927\u5c0f\u4e3a $1$ \u7684\u96c6\u5408\uff0c\u6700\u5927\u503c\u6b21\u5927\u503c\u663e\u7136\u5df2\u7ecf\u56fa\u5b9a\u597d\u3002\u5bf9\u4e8e\u5927\u5c0f\u5927\u4e8e\u7b49\u4e8e $2$ \u7684\u96c6\u5408\uff0c\u6211\u4eec\u53d6\u51fa\u5176\u4e2d\u4e24\u4e2a\u5143\u7d20 $i,j$\uff0c\u6b64\u65f6\u6700\u5927\u503c\u548c\u6b21\u5927\u503c\u8981\u4e48\u662f\u8be5\u96c6\u5408\u672c\u8eab\uff0c\u8981\u4e48\u662f\u8fd9\u4e2a\u96c6\u5408\u9664\u53bb $i$\uff0c\u8981\u4e48\u662f\u8fd9\u4e2a\u96c6\u5408\u9664\u53bb $j$\uff0c\u6211\u4eec\u5c06\u8fd9\u4e09\u90e8\u5206\u52a0\u8d77\u6765\u5c31\u53ef\u4ee5\u5f97\u5230\u6574\u4e2a\u96c6\u5408\u7684\u6700\u5927\u503c\u6b21\u5927\u503c\u4e86\u3002\r\n\r\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(2^n)$\u3002\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\r\nconst int N=1<<19;\r\nusing namespace std;\r\nstruct nd{int x,id;\r\n\tbool operator ==(nd b)const{return x==b.x&&id==b.id;}\r\n\tbool operator <(nd b)const{return x<=b.x;}\r\n};\r\nstruct node{\r\n\tnd mx,sc;\r\n\tnode operator +(node b){\r\n\t\tif(mx==b.mx)\r\n\t\t\treturn {mx,max(sc,b.sc)};\r\n\t\tif(mx<b.mx)\r\n\t\t\treturn {b.mx,max(mx,b.sc)};\r\n\t\treturn {mx,max(sc,b.mx)};\r\n\t}\r\n}f[N];\r\n\r\nint n,a[N],ans[N];\r\n\r\nint main(){\r\n\tcin>>n;\r\n\tfor(int i=0;i<1<<n;i++)cin>>a[i];\r\n\tfor(int i=0;i<1<<n;i++){\r\n\t\tf[i]={{a[i],i},{0,0}};\r\n\t\tint l=i&-i,j=(i-l)&(l-i);\r\n\t\tf[i]=f[i]+f[i-l]+f[i-j];\r\n\t\tans[i]=max(f[i].mx.x+f[i].sc.x,ans[i-1]);\r\n\t\tif(i)cout<<ans[i]<<endl;\r\n\t}\r\n}\r\n```",
        "postTime": 1661733329,
        "uid": 79067,
        "name": "dottle",
        "ccfLevel": 10,
        "title": "AT6148 (ARC100C)"
    },
    {
        "content": "### \u601d\u8def\uff1a\n\n~~\u600e\u4e48\u9898\u89e3\u91cc\u9762\u90fd\u662f FMT \u554a\u3002~~\n~~\u8fd9\u9898\u4e0d\u662f\u4e00\u770b\u5c31\u662f\u6216\u5377\u79ef\u561b\uff1f~~\n\n\u76f4\u63a5\u7528 FWTor \u5377\uff1a\n\n\u628a\u524d\u7f00\u548c\uff0c\u8f6c\u53d8\u4e3a\u524d\u7f00\u6700\u5927\u503c\uff0c\u6b21\u5927\u503c\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u540c\u65f6\u7ef4\u62a4\u3002\n\n\u7136\u540e\u76f4\u63a5\u8dd1\u5c31\u884c\u4e86\u3002\u601d\u8def\u5927\u4f53\u5e94\u8be5\u548c FMT \u5dee\u4e0d\u591a\uff0c\u4f46\u662f\u5e38\u6570\u6bd4 FMT \u5c0f\uff0c\u8dd1\u7684\u8981\u5feb\u4e00\u70b9\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(2^nn)$\u3002\n\n### Code\uff1a\n```cpp\n#include <iostream>\nusing namespace std ;\n\ntypedef pair < int , int > PII ;\nint n , ans ;\nPII f[(1<<19)+5] ;\n\nPII Max ( PII u , PII v ) {\n\tif ( u .first > v .first )\n\t\treturn { u .first , max ( u .second , v .first ) } ;\n\treturn { v .first , max ( u .first , v .second ) } ;\n}\n\nint main ( ) {\n\tcin >> n ;\n\tfor ( int i = 0 ; i < ( 1 << n ) ; ++ i )\n\t\tcin >> f [ i ] .first , f [ i ] .second = 0 ;\n\t\n\tfor ( int i = 1 ; i < ( 1 << n ) ; i <<= 1 )\n\t\tfor ( int j = 0 ; j < ( 1 << n ) ; j += i << 1 )\n\t\t\tfor ( int k = 0 ; k < i ; ++ k )\n\t\t\t\tf [ i + j + k ] = Max ( f [ i + j + k ] , f [ j + k ] ) ;\n\t\n\tans = f [ 0 ] .first + f [ 0 ] .second ;\n\tfor ( int i = 1 ; i < ( 1 << n ) ; ++ i ) {\n\t\tans = max ( ans , f [ i ] .first + f [ i ] .second ) ;\n\t\tcout << ans << \"\\n\" ;\n\t}\n\treturn 0 ;\n}\n```",
        "postTime": 1655278360,
        "uid": 68882,
        "name": "\u7075\u534e",
        "ccfLevel": 6,
        "title": "AT4168 [ARC100C] Or Plus Max \u9898\u89e3"
    },
    {
        "content": "\u53d1\u73b0\u4f3c\u4e4e\u662f\u5728\u505a\u4e00\u4e2aFMT\u72b6\u7269\uff0c\u4f46\u662f\u76f4\u63a5\u8f6c\u79fb\u6700\u5927\u503c\u9700\u8981 $k ^2$ \u751a\u81f3\u66f4\u9ad8\u7684\u4ee3\u4ef7\uff0c\u4e0d\u80fd\u76f4\u63a5\u8f6c\u79fb\u3002\n\n\u8003\u8651\u5bf9\u4e8e\u6bcf\u4e2a\u96c6\u5408 $s$ \u8bb0\u4e00\u4e0b\u8fd9\u4e2a\u96c6\u5408\u4e2d\u7684\u6700\u6700\u5927\u6570\u548c\u6b21\u5927\u6570\uff0c\u4e0d\u96be\u53d1\u73b0\u8fd9\u6837\u8f6c\u79fb\u662f\u65b9\u4fbf\u7684\u3002\u590d\u6742\u5ea6 $2^kk$ \u3002\n\n```cpp\nll ans ;\nint m, n ;\npint f[N] ;\nll base[N] ;\n \nbool comp(int x, int y){\n    return base[x] > base[y] ;\n}\nint main(){\n    cin >> m ; n = (1 << m) - 1 ;\n    for (int i = 0 ; i <= n ; ++ i){\n        cin >> base[i] ;\n        f[i] = make_pair(i, n + 1) ;\n    }\n    base[n + 1] = -1 ;\n    for (int i = 0 ; i <= n ; ++ i)\n        for (int j = 0 ; j < m ; ++ j)\n            if (!((1 << j) & i)){\n                int k = (1 << j) | i ;\n                int t[4] = {fr(i), sc(i), fr(k), sc(k)} ;\n                sort(t, t + 4, comp) ; unique(t, t + 4) ;\n                f[k] = make_pair(t[0], t[1]) ;\n            }\n    for (int i = 1 ; i <= n ; ++ i){\n        ans = max(ans, base[fr(i)] + base[sc(i)]) ;\n        cout << ans << endl ;\n    }\n}\n```",
        "postTime": 1583723478,
        "uid": 28313,
        "name": "\u768e\u6708\u534a\u6d12\u82b1",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT4168 \u3010[ARC100C] Or Plus Max\u3011"
    },
    {
        "content": "### \u524d\u7f6e\u77e5\u8bc6\uff1a\u9ad8\u7ef4\u524d\u7f00\u548c\n\n~~\uff08\u6211\u89c9\u5f97\u770b\u5230\u7d2b\u9898\u6562\u70b9\u8fdb\u6765\u7684\u80af\u5b9a\u4f1a\u666e\u901a\u524d\u7f00\u548c~~\n\n\u5bf9\u4e8e\u4e00\u7c7b\u6c42\u5b50\u96c6\u548c\u95ee\u9898\uff0c\u5373\u5f62\u5982 $\\sum_{A\\subseteqq B}V_A$ \u7684\u95ee\u9898\u3002\n\n\u9996\u5148\u60f3\u5230\u53ef\u4ee5\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u96c6\u5408 $B$ \u679a\u4e3e\u5176\u5b50\u96c6\uff0c\u82e5\u96c6\u5408\u4e2d\u4e00\u5171\u6709 $k$ \u4e2a\u5143\u7d20\uff0c\u5219\u4e00\u5171\u6709 $2^k$ \u4e2a\u96c6\u5408\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u96c6\u5408\uff0c\u53c8\u9700\u8981 $2^k$ \u6b21\u8fd0\u7b97\u6765\u679a\u4e3e\u5176\u5b50\u96c6\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(4^k)$\uff0c\u5f53 $k=13$ \u65f6\u5c31\u5df2\u7ecf\u903c\u8fd1\u65f6\u95f4\u4e0a\u9650\u4e86\uff0c\u96be\u4ee5\u63a5\u53d7\u3002\n\n\u8003\u8651\u5bf9\u5176\u4f7f\u7528\u524d\u7f00\u548c\u4f18\u5316\uff0c\u8fd9\u91cc\u5148\u5f15\u5165\u53e6\u4e00\u79cd\u524d\u7f00\u548c\u6c42\u6cd5\uff08\u975e\u5bb9\u65a5\u539f\u7406\u6c42\u6cd5\uff09\uff1a\n\n\u5bf9\u4e8e\u4e00\u4e2a\u4e8c\u7ef4\u524d\u7f00\u548c\uff0c\u53ef\u4ee5\u8003\u8651\u5148\u628a\u4ed6\u7684\u7b2c\u4e00\u7ef4\u7528\u4e00\u7ef4\u524d\u7f00\u548c\u7684\u65b9\u5f0f\u6c42\u51fa\uff0c\u7136\u540e\u5bf9\u5176\u7b2c\u4e8c\u7ef4\u518d\u6c42\u4e00\u6b21\u524d\u7f00\u548c\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5f97\u5230\u6574\u4e2a\u7684\u524d\u7f00\u548c\u4e86\uff0c\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a\n\n```cpp\nfor(int i=1;i<=n;i++)\nfor(int j=1;j<=m;j++)\nf[i][j]+=f[i][j-1];//\u7b2c\u4e00\u6b21 \n\nfor(int i=1;i<=n;i++)\nfor(int j=1;j<=m;j++)\nf[i][j]+=f[i-1][j];//\u7b2c\u4e8c\u6b21\n```\n\u7c7b\u4f3c\u7684,\u6709\u4e09\u7ef4\u524d\u7f00\u548c\u7684\u975e\u5bb9\u65a5\u6c42\u6cd5\uff1a\n\n```cpp\nfor(int i=1;i<=n;i++)\nfor(int j=1;j<=m;j++)\nfor(int k=1;k<=l;k++)\nf[i][j][k]+=f[i][j][k-1];//\u7b2c\u4e00\u6b21 \n\nfor(int i=1;i<=n;i++)\nfor(int j=1;j<=m;j++)\nfor(int k=1;k<=l;k++)\nf[i][j][k]+=f[i][j-1][k];//\u7b2c\u4e8c\u6b21 \n\nfor(int i=1;i<=n;i++)\nfor(int j=1;j<=m;j++)\nfor(int k=1;k<=l;k++)\nf[i][j][k]+=f[i-1][j][k];//\u7b2c\u4e09\u6b21 \n```\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u5f88\u8f7b\u677e\u5730\u63a8\u51fa\u66f4\u9ad8\u7ef4\u7684\u524d\u7f00\u548c\u6c42\u6cd5\u4e86\u3002\n\n\u56de\u5230\u539f\u95ee\u9898\uff0c\u53d1\u73b0\u8fd9\u4e0d\u5c31\u662f\u4e00\u4e2a\u6bcf\u4e00\u7ef4\u7684\u8fb9\u754c\u90fd\u662f $2$ \u7684\u9ad8\u7ef4\u524d\u7f00\u548c\u5417\uff1f\n\n\u7acb\u523b\u6709\uff1a\n\n```cpp\nfor(int i=0;i<n;i++)\nfor(int j=0;j<(1<<n);j++)\nif((1<<i)&j)f[j]+=f[j-(1<<i)];\n//\u5199\u6210f[j]+=f[j^(1<<i)]\u663e\u7136\u4e5f\u662f\u53ef\u4ee5\u7684 \n```\n\u5176\u4e2d $f_i$ \u7684\u521d\u503c\u5373\u4e3a\u96c6\u5408\u4ef7\u503c $V$\u3002\n\n\u5206\u6790\u4e00\u4e0b\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u662f $O(k\\times2^k)$ \u7684\uff0c\u5728\u6570\u7ec4\u7a7a\u95f4\u903c\u8fd1\u6781\u9650\u7684 $k=20$ \u65f6\u65f6\u95f4\u590d\u6742\u5ea6\u4e5f\u6bd4\u65f6\u95f4\u4e0a\u9650\u5c0f\u4e86\u4e00\u4e2a\u6570\u91cf\u7ea7\uff0c\u8fd8\u662f\u5f88\u4f18\u79c0\u7684\uff08\u76f8\u5bf9\u4e0a\u9762\u90a3\u4e2a\uff09\u3002\n\n------------\n### \u9898\u76ee\u5206\u6790\uff1a\n\n\u5bf9\u4e8e\u8fd9\u9053\u9898\uff0c\u53ef\u4ee5\u628a\u5b83\u5148\u8f6c\u6362\u4e3a\u6c42 $i|j\\subseteqq K$ \u7684\u95ee\u9898\uff0c\u7136\u540e\u518d\u628a\u6bcf\u4e00\u4e2a\u5c0f\u4e8e $K$ \u7684\u96c6\u5408\u91cc\u53d6\u4e00\u4e2a\u6700\u5927\u503c\u5373\u53ef\u3002\n\n\u7136\u540e\u5c31\u8bb0\u5f55\u4e0b\u6bcf\u4e00\u4e2a\u96c6\u5408\u4e2d\u6700\u5927\u503c\u548c\u6b21\u5927\u503c\uff0c\u6bcf\u5f53\u4e24\u4e2a\u5b50\u96c6\u5408\u5e76\u65f6\uff0c\u4f18\u5148\u6bd4\u8f83\u8981\u5408\u5e76\u7684\u4e24\u4e2a\u7684\u6700\u5927\u503c\uff0c\u5982\u679c\u539f\u6765\u7684\u66f4\u5927\u5c31\u53ea\u9700\u8981\u5c06\u53e6\u4e00\u4e2a\u7684\u6700\u5927\u503c\u548c\u8fd9\u4e00\u4e2a\u6b21\u5927\u503c\u6bd4\u8f83\u5c31\u884c\u4e86\uff0c\u5426\u5219\u5728\u8fd9\u4e00\u4e2a\u6700\u5927\u503c\u548c\u53e6\u4e00\u4e2a\u7684\u6b21\u5927\u503c\u91cc\u9009\u4e00\u4e2a\u7ed9\u8fd9\u4e00\u4e2a\u7684\u6b21\u5927\u503c\u3002\n\n~~\u867d\u7136\u601d\u8def\u4e00\u6837\uff0c\u4f46\u6216\u8bb8\u8fd9\u5df2\u7ecf\u4e0d\u80fd\u53eb\u9ad8\u7ef4\u524d\u7f00\u548c\u4e86\u3002~~\n\n------------\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAXN=1<<19;\npair <int,int> f[MAXN];\nint n,x,maxn,ans;\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=0;i<(1<<n);i++){\n\t\tscanf(\"%d\",&x);\n\t\tf[i].first=x;\n\t}\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=0;j<(1<<n);j++){\n\t\t\tif((1<<i)&j){\n\t\t\t\tint m1=f[j].first,m2=f[j].second;\n\t\t\t\tint m3=f[j^(1<<i)].first,m4=f[j^(1<<i)].second;\n\t\t\t\tif(m3>m1)m2=max(m1,m4),m1=m3;\n\t\t\t\telse m2=max(m2,m3);\n\t\t\t\tf[j].first=m1;\n\t\t\t\tf[j].second=m2;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<(1<<n);i++){\n\t\tans=max(ans,f[i].first+f[i].second);\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1627559006,
        "uid": 223559,
        "name": "qxp101",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 AT4168 [ARC100C] Or Plus Max"
    },
    {
        "content": "\u8003\u8651\u5bf9\u4e8e\u6bcf\u4e2a $k$ \uff0c\u90fd\u5b58\u5728\u4e00\u4e2a\u6700\u5927\u7684 $a_i+a_j \\ (i \\ | \\ j=k)$ \u3002\n\n\u4f46\u53d1\u73b0\u8fd8\u662f\u4e0d\u597d\u6c42\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5c06\u95ee\u9898\u8fdb\u4e00\u6b65\u8f6c\u5316\u4e3a\u6c42 $a_i+a_j \\ (i \\ | \\ j \\sub k)$ \u3002\n\n\u7136\u540e\u5728\u8f93\u51fa\u7684\u65f6\u5019\u5c06\u5f53\u524d\u4f4d\u7684\u7b54\u6848\u4e0e\u4e0a\u4e00\u4f4d\u7684\u7b54\u6848\u53d6 $\\max$ \u5373\u53ef\u3002\n\n\u90a3\u4e48\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a**\u7c7b**\u5b50\u96c6\u6c42\u548c\u95ee\u9898(SOS-DP)\n\n\u53ea\u8981\u6c42\u51fa**\u5bf9\u4e8e\u6bcf\u4e2a $k$ \u7684\u5b50\u96c6\u7684\u6700\u5927\u503c\u548c\u6b21\u5927\u503c**\u5373\u53ef\u3002\n\n\u90a3\u4e48\u5c31\u53ef\u4ee5\u7528~~\u9ad8\u7ef4\u524d\u7f00\u548c~~ **\u9ad8\u7ef4\u524d\u7f00\u6700\u5927/\u6b21\u5927\u503c**\u6c42\u89e3\n\n#### Code\n\n```cpp\n/*\n\tAuthor: Chocola4ever\n\tDate: 2021-03-31 10:05:44\n\tLastEditTime: 2021-04-23 10:41:29\n\tFilePath: \\Programs\\test.cpp\n\tDescription: RP++\n*/\n#include<bits/stdc++.h>\n#define ll long long\n#define inf 0x3f3f3f3f\nusing namespace std;\nconst int N=1e6+5;\nstruct Chocola{\n\tint mx1,mx2;\n}dp[N];\nint n,m,a[N];\nint main(){\n\tios::sync_with_stdio(0);\n\tcin.tie(0),cout.tie(0);\n\tcin>>n;\n\tfor (int i=0;i<1<<n;++i)\n\t\tcin>>a[i],dp[i].mx1=a[i],dp[i].mx2=0;\n\tfor(int i=0;i<n;++i)\n\t\tfor(int j=0;j<1<<n;++j)\n\t\t\tif(j&(1<<i)){\n\t\t\t\tint lst=j^(1<<i);\n\t\t\t\tChocola temp;\n\t\t\t\tif (dp[j].mx1>dp[lst].mx1){\n\t\t\t\t\ttemp.mx1=dp[j].mx1;\n\t\t\t\t\ttemp.mx2=max(dp[j].mx2,dp[lst].mx1);\n\t\t\t\t}else{\n\t\t\t\t\ttemp.mx1=dp[lst].mx1;\n\t\t\t\t\ttemp.mx2=max(dp[j].mx1,dp[lst].mx2);\n\t\t\t\t}\n\t\t\t\tdp[j]=temp;\n\t\t\t}\n\tint mx=0;\n\tfor (int i=1;i<1<<n;++i){\n\t\tmx=max(mx,dp[i].mx1+dp[i].mx2);\n\t\tcout<<mx<<endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1619146259,
        "uid": 40698,
        "name": "Chocola4ever",
        "ccfLevel": 6,
        "title": "AT4168 [ARC100C] \u9898\u89e3"
    },
    {
        "content": "\u770b\u4e86\u4e00\u5708\u9898\u89e3\u533a\u5168\u90e8\u90fd\u662f\u9ad8\u7ef4\u524d\u7f00\u548c\uff0c\u5176\u5b9e\u8fd9\u4e2a\u9898\u76ee\u76f4\u63a5\u679a\u4e3e\u5b50\u96c6\u590d\u6742\u5ea6\u6ca1\u95ee\u9898\u3002\n\n\u8003\u8651\u8f6c\u5316\u4e00\u4e0b\u9898\u76ee\uff0c\u8981\u5bf9\u4e8e\u6bcf\u4e2a $1\\leq k\\leq 2^n-1$\uff0c\u6c42 $\\max_{i\\operatorname{or}j\\leq k,i\\neq j}\\{a_i+a_j\\}$\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u5bf9\u4e8e\u6bcf\u4e2a $k$ \u6c42\u51fa $\\max_{i\\operatorname{or}j=k,i\\neq j}\\{a_i+a_j\\}$\uff0c\u518d\u6c42\u4e00\u904d\u524d\u7f00\u6700\u5927\u503c\u3002\n\n\u601d\u8003\u4e00\u4e0b\u6709\u6ca1\u6709\u4ec0\u4e48\u7279\u6b8a\u6027\u8d28\u3002\u53d1\u73b0\u4e00\u4e2a\u6570 $k$ \u7684\u4e8c\u8fdb\u5236\u8868\u793a\u7684\u5b50\u96c6\u91cc\u9762\u7684\u6240\u6709\u6570\u90fd\u4e00\u5b9a $\\leq k$\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u6c42 $\\max_{i\\operatorname{or}j\\subset k}\\{a_i+a_j\\}$ \u518d\u524d\u7f00\u6700\u5927\u503c\u3002\n\n\u8fd9\u4e2a\u95ee\u9898\u5c31\u8f6c\u6362\u6210\u4e86\u7ed9\u5b9a\u4e00\u4e2a\u96c6\u5408\uff0c\u60a8\u9700\u8981\u4ece\u4e2d\u9009\u51fa\u4e24\u4e2a\u4e0d\u540c\u7684\u6570\uff0c\u4f7f\u5f97\u4ed6\u4eec\u7684\u548c\u6700\u5927\u3002\u8d2a\u5fc3\u5730\u6211\u4eec\u80af\u5b9a\u9009\u62e9\u6700\u5927\u503c\u548c\u6b21\u5927\u503c\u3002\n\n\u90a3\u76f4\u63a5\u679a\u4e3e $k$ \u518d\u679a\u4e3e\u5b50\u96c6\u6c42\u6700\u5927\u503c\u548c\u6b21\u5927\u503c\u5c31\u884c\u4e86\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal{O}(3^n)$\uff0c\u7b97\u4e00\u4e0b\u8ba1\u7b97\u91cf\u5927\u6982\u662f $4\\times 10^8$\uff0c`2s` \u5185\u8dd1\u662f\u6ca1\u95ee\u9898\u7684\u3002\n\n\u9700\u8981\u6ce8\u610f\u4e00\u4e0b\u7ec6\u8282\uff1a\u8fd9\u91cc\u7684 $a_0$ \u7b97\u6240\u6709 $k$ \u7684\u5b50\u96c6\uff08\u4e00\u822c\u5199\u4ee3\u7801\u7684\u65f6\u5019\u4e0d\u4f1a\u679a\u4e3e\u7a7a\u96c6\uff09\uff0c\u6240\u4ee5\u53ef\u4ee5\u5148\u628a $a_0$ \u585e\u7ed9\u6bcf\u4e2a $k$\uff0c\u540e\u9762\u5ffd\u7565\u6389 $a_0$ \u5c31\u884c\u3002\n\n\u8fd8\u6709\u5c31\u662f\u66f4\u65b0\u6700\u5927\u503c\u548c\u6b21\u5927\u503c\u65f6 $\\geq$ \u54ea\u91cc\u5fc5\u987b\u6709\u7b49\u53f7\uff0c\u54ea\u91cc\u4e0d\u9700\u8981\u7b49\u53f7\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <cctype>\n#include <algorithm>\n#include <iostream>\n#include <queue>\nusing namespace std;\ninline int read() {\n    int num = 0 ,f = 1; char c = getchar();\n    while (!isdigit(c)) f = c == '-' ? -1 : f ,c = getchar();\n    while (isdigit(c)) num = (num << 1) + (num << 3) + (c ^ 48) ,c = getchar();\n    return num * f;\n}\nconst int N = 1 << 18;\nint maxn[N] ,cmax[N] ,a[N] ,n;\nsigned main() {\n    n = read();\n    const int ns = 1 << n;\n    for (int i = 0; i < ns; i++)\n    \ta[i] = read();\n    for (int i = 1; i < ns; i++) maxn[i] = max(a[i] ,a[0]) ,cmax[i] = min(a[i] ,a[0]);\n    for (int i = 1; i < ns; i++)\n    \tfor (int j = (i - 1) & i; j ; j = (j - 1) & i) { //\u6ce8\u610f\u8fd9\u91cc 3^n \u679a\u4e3e\u5b50\u96c6\u7684\u5199\u6cd5\n    \t\tif (a[j] >= maxn[i]) cmax[i] = maxn[i] ,maxn[i] = a[j]; //\u8fd9\u91cc\u7684 >= \u4e0d\u80fd\u6539\u6210 >\uff0c\u56e0\u4e3a\u53ef\u80fd\u51fa\u73b0\u91cd\u590d\u7684\u6570\u5b57\uff0c\u5982\u679c\u6539\u6210 > \u5c31\u53ea\u4f1a\u7edf\u8ba1\u4e00\u6b21\u4e86\u3002\n    \t\telse if (a[j] > cmax[i]) cmax[i] = a[j];\n\t\t}\n\tfor (int i = 1 ,sum = 0; i < ns; i++) {\n\t\tsum = max(sum ,maxn[i] + cmax[i]);\n\t\tprintf(\"%d\\n\" ,sum);\n\t}\n    return 0;\n}\n```\n\n",
        "postTime": 1651920680,
        "uid": 177893,
        "name": "recollector",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT4168 [ARC100C] Or Plus Max"
    },
    {
        "content": "[ARC100E Or Plus Max](https://www.luogu.com.cn/problem/AT_arc100_c)\n\n\u4f4d\u8fd0\u7b97\u4e0a\u7684\u6bd4\u5927\u5c0f\u95ee\u9898\u901a\u5e38\u90fd\u5f88\u96be\u5904\u7406\uff0c\u56e0\u6b64\u4e00\u822c\u90fd\u662f\u5148\u628a\u8fd9\u79cd\u6761\u4ef6\u8f6c\u5316\u3002\n\n\u8003\u8651\u4e0b\u9762\u4e09\u4e2a\u96c6\u5408\uff1a\n\n- $A_K = \\{(i, j) \\mathop | i \\operatorname{or} j \\le K \\land i \\ne j\\}$\u3002\n- $B_K = \\{(i, j) \\mathop | i, j \\subseteq K\\land i \\ne j\\}$\u3002\n    - \u8fd9\u91cc $i \\subseteq K$ \u7684\u610f\u601d\uff0c\u53ef\u4ee5\u7528\u4ee5\u4e0b\u56db\u79cd\u7b49\u4ef7\u89d2\u5ea6\u7406\u89e3\uff1a\n    - $i \\operatorname{bitand} K = i$\u3002$\\operatorname{bitand}$ \u662f\u6309\u4f4d\u4e0e\u7684\u610f\u601d\u3002\n    - \u540c\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e0a\uff0c$i$ \u7684\u8fd9\u4e00\u4f4d\u5c0f\u4e8e\u7b49\u4e8e $K$ \u7684\u8fd9\u4e00\u4f4d\u3002\n    - \u540c\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e0a\uff0c$K$ \u8fd9\u4e00\u4f4d\u4e3a $1$\uff0c\u5219 $i$ \u8fd9\u4e00\u4f4d\u53ef\u4ee5\u4e3a $1$ \u6216 $0$\uff1b$K$ \u8fd9\u4e00\u4f4d\u4e3a $0$\uff0c\u5219 $i$ \u8fd9\u4e00\u4f4d\u53ea\u80fd\u4e3a $0$\u3002\n    - $i$ \u7684\u6240\u6709\u4e3a $1$ \u7684\u4e8c\u8fdb\u5236\u4f4d\u6570\u96c6\uff0c\u662f $K$ \u7684\u6240\u6709\u4e3a $1$ \u7684\u4e8c\u8fdb\u5236\u4f4d\u6570\u96c6\u7684\u5b50\u96c6\u3002\n- $C_K = \\{(i, j)\\mathop | i \\operatorname{or} j = K\\land i \\ne j\\}$\u3002\n\n\u4e0d\u96be\u53d1\u73b0 $C_K \\subseteq B_K \\subseteq A_K$\uff0c\u4ee5\u53ca $A_K = \\bigcup\\limits_{i=1}^K C_i$\u3002\n\n\u4e0d\u96be\u53d1\u73b0 $\\bigcup\\limits_{i=1}^K C_i \\subseteq \\bigcup\\limits_{i=1}^K B_i$\uff0c\u800c $\\bigcup\\limits_{i=1}^K B_i \\subseteq A_K$\u3002\u6240\u4ee5\uff0c$A_K = \\bigcup \\limits_{i = 1}^KB_i$\u3002\u552f\u4e00\u4e0d\u540c\u70b9\u5728\u4e8e\uff0c\u539f\u5148 $C_i$ \u4e4b\u95f4\u4e92\u4e0d\u76f8\u4ea4\uff0c\u800c $B_i$ \u6709\u4ea4\u3002\n\n\u7528\u8bed\u8a00\u8bf4\u660e\u8fd9\u4e2a\u8f6c\u5316\u7684\u6b63\u786e\u6027\uff1a$B_i$ \u5305\u542b\u6ee1\u8db3 $i \\operatorname{or} j = K$ \u7684\u5168\u90e8 $(i, j)$\uff0c\u4e5f\u4e0d\u628a $i \\operatorname{or} j >K$ \u7684 $(i, j)$ \u7ed9\u653e\u8fdb\u6765\uff0c\u6240\u4ee5\u6b63\u786e\u3002\n\n\u4e3a\u4ec0\u4e48\u8981\u8fd9\u4e48\u8f6c\u5316\uff1f\u4e24\u4e2a\u539f\u56e0\u3002\n\n\u3010\u539f\u56e0\u4e00\u3011\n\n\u539f\u5148 $i \\operatorname{or} j \\le K$ \u6216 $i \\operatorname{or} j = K$ \u90fd\u662f\u4e00\u6761\u4e8c\u5143\u5236\u7ea6\u5173\u7cfb\u3002\n\n\u800c $i, j \\subseteq K$ \u53ef\u4ee5\u7406\u89e3\u4e3a $i \\subseteq K \\land j \\subseteq K$\uff0c\u5373\u4e24\u6761\u4e00\u5143\u5236\u7ea6\u5173\u7cfb\uff0c\u4f1a\u66f4\u597d\u5904\u7406\u3002\n\n\u5f53\u7136\u4e00\u76f4\u8fd8\u6709\u4e00\u4e2a\u4e8c\u5143\u5236\u7ea6\u5173\u7cfb\u662f $i \\ne j$\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u901a\u5e38\u4e5f\u4e0d\u96be\u5904\u7406\u3002\n\n\u3010\u539f\u56e0\u4e8c\u3011\n\n$i \\subseteq K$ \u662f\u4e00\u4e2a\u5957\u8def\u6027\u7684 sosdp \u5f62\u5f0f\u3002\n\n\u4e0d\u96be\u53d1\u73b0 $\\max$ \u662f\u53ef\u91cd\u590d\u8d21\u732e\u7684\uff08\u5373 $\\max(x, x) = x$\uff09\uff0c\u6240\u4ee5\u4e0a\u9762\u7684\u5e76\u96c6\u8fd0\u7b97\u53ef\u4ee5\u76f4\u63a5\u8f6c $\\max$\u3002\n\n\u5047\u8bbe\u6570\u5bf9 $(i, j)$ \u7684\u6743\u503c\u662f $a_i + a_j$\uff0c\u90a3\u4e48\u8981\u6c42\u7684\u7b54\u6848\u53ef\u4ee5\u770b\u505a $\\max(A_K) = \\max_{i = 1}^K \\max(B_i)$\n\n\u56e0\u6b64\u8003\u8651\u6c42 $\\max(B_k) =\\max \\{a_i + a_j \\mathop | i, j \\subseteq k\\}$\u3002\n\n\u4e0d\u96be\u53d1\u73b0\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7ef4\u62a4\u6ee1\u8db3 $i \\subseteq k$ \u7684 $a_i$ \u7684\u6700\u5927\u503c\u548c\u6b21\u5927\u503c\u5206\u522b\u4f5c\u4e3a $a_i$ \u548c $a_j$\uff0c\u5c31\u80fd\u8ba9\u548c\u53d6\u5230\u6700\u5927\u503c\u3002\n\n\u800c\u6700\u5927\u503c\u548c\u6b21\u5927\u503c\u4e0e\u548c\u4e00\u6837\uff0c\u53ef\u4ee5\u65b9\u4fbf\u5730\u5408\u5e76\u3002\u8fd9\u9898\u505a\u5b8c\u4e86\u3002\n\n```cpp\n/*\n * @Author: crab-in-the-northeast \n * @Date: 2023-04-17 10:20:23 \n * @Last Modified by: crab-in-the-northeast\n * @Last Modified time: 2023-04-17 11:06:28\n */\n#include <bits/stdc++.h>\ninline int read() {\n    int x = 0;\n    bool f = true;\n    char ch = getchar();\n    for (; !isdigit(ch); ch = getchar())\n        if (ch == '-')\n            f = false;\n    for (; isdigit(ch); ch = getchar())\n        x = (x << 1) + (x << 3) + ch - '0';\n    return f ? x : (~(x - 1));\n}\ninline bool gmx(int &a, int b) {\n    return b > a ? a = b, true : false;\n}\n\nconst int maxn = 19;\nstd :: vector <int> f[1 << maxn];\n\nint main() {\n    int n = read();\n    for (int i = 0; i < (1 << n); ++i)\n        f[i].push_back(read());\n    \n    for (int j = 0; j < n; ++j) {\n        for (int i = 0; i < (1 << n); ++i) {\n            if (i & (1 << j)) {\n                int lst = i ^ (1 << j);\n                for (int x : f[lst])\n                    f[i].push_back(x);\n                std :: sort(f[i].begin(), f[i].end(), std :: greater <int> ());\n                while (f[i].size() > 2)\n                    f[i].pop_back();\n            }\n        }\n    }\n\n    int ans = 0;\n    for (int K = 1; K < (1 << n); ++K) {\n        gmx(ans, f[K][0] + f[K][1]);\n        printf(\"%d\\n\", ans);\n    }\n    return 0;\n}\n```\n\n",
        "postTime": 1681701857,
        "uid": 120868,
        "name": "dbxxx",
        "ccfLevel": 6,
        "title": "ARC100E"
    },
    {
        "content": "\u4e3a\u4e86\u65b9\u4fbf\u4e0b\u6587\u8868\u8ff0\uff0c\u8fd9\u91cc\u6211\u4eec\u8bbe $b_k=\\max_{i|j\\leq k,i\\ne j}a_i+a_j, c_k=\\max_{i|j=k,i\\ne j}a_i+a_j, d_k=\\max_{i,j\\subseteq k,i\\ne j}a_i+a_j$\u3002\n\n\u53d1\u73b0\u5bf9\u4e8e\u6bcf\u4e2a $1 \\leq K \\leq 2^n - 1$\uff0c\u90fd\u6709 $b_K=\\max(b_K-1,c_K)$\u3002\n\n\u53d1\u73b0\u82e5 $i,j\\subseteq k$\uff0c\u5219\u4e00\u5b9a $i|j\\leq k$ \u4e14\u5b58\u5728\u6240\u6709 $i|j=k$ \u7684\u60c5\u51b5\u3002\u90a3\u4e48 $d_K$ \u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u7684\u4efb\u4f55\u6570\u90fd\u5728 $b_K$ \u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u8fc7\uff0c\u7531\u4e8e\u662f\u53d6\u6700\u5927\u503c\uff0c\u6545\u6709\u91cd\u590d\u6570\u4e0d\u5f71\u54cd\u7ed3\u679c\u3002\n\n\u90a3\u4e48\u53ef\u4ee5\u8f6c\u5316\u4e3a $b_K=\\max(b_K-1,d_K)$\uff0c\u90a3\u6211\u4eec\u53ea\u9700\u6c42\u51fa\u6240\u6709\u7684 $d_K$\u3002\n\n\u6211\u4eec\u8fd9\u6837\u8f6c\u5316\u7684\u610f\u4e49\u662f\u4ec0\u4e48\u5462\uff1f\u89c2\u5bdf\u539f\u5f0f\uff0c\u53d1\u73b0\u6c42\u89e3 $d_K$ \u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u5b50\u96c6\u548c\u95ee\u9898\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a\u9ad8\u7ef4\u524d\u7f00\u548c\u7684trick\u6765\u89e3\u51b3\u5b50\u96c6\u548c\u95ee\u9898\uff0c\u4e0d\u4f1a\u7684\u53ef\u4ee5\u81ea\u5df1\u53bb\u4e86\u89e3\u3002\n\n\u672c\u9898\u7531\u4e8e\u662f\u627e\u4e24\u4e2a\u6570 $a_i$ \u548c $a_j$\uff0c\u6211\u4eec\u76f4\u63a5\u627e\u6700\u5927\u503c\u4e0e\u6b21\u5927\u503c\u5373\u53ef\uff0c\u6240\u4ee5\u7ef4\u62a4\u524d\u7f00\u6700\u5927\u503c\u4e0e\u6b21\u5927\u503c\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n2^n)$\u3002\n\nCode\uff1a\uff08\u6ce8\uff1a\u4f5c\u8005\u76f4\u63a5\u4f7f\u7528sort\u6765\u5408\u5e76\u4e24\u4e2a\u6700\u5927\u503c\u548c\u6b21\u5927\u503c\u7684\u53d8\u91cf\uff0c\u5e38\u6570\u53ef\u80fd\u4f1a\u52a0\u5927\uff0c\u5efa\u8bae\u624b\u5199 $O(1)$ \u5224\u65ad\uff09\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n//#define int long long\nnamespace IO\n{\n\tinline int read()\n\t{\n\t\tint x = 0, f = 1;\n\t\tchar ch = getchar();\n\t\twhile(!isdigit(ch)) {if(ch == '-') f = -1; ch = getchar();}\n\t\twhile(isdigit(ch)) x = (x << 3) + (x << 1) + ch - '0', ch = getchar();\n\t\treturn x * f;\n\t}\n\ttemplate <typename T> inline void print(T x)\n\t{\n\t\tif(x < 0) putchar('-'), x = -x;\n\t\tif(x > 9) print(x / 10);\n\t\tputchar(x % 10 + '0');\n\t}\n}\nusing namespace IO;\nconst int N = 19, inf = 2e9;\nint n, m;\nstruct node\n{\n\tint m1, m2;\n}a[1 << N];\nnode add(node x, node y)\n{\n\tvector<int> tmp = {x.m1, x.m2, y.m1, y.m2};\n\tsort(tmp.begin(), tmp.end(), greater<int>());\n\treturn node{tmp[0], tmp[1]};\n}\nsigned main()\n{\n\tn = read(), m = 1 << n;\n\tfor (int i = 0; i < m; i++)\n\t\ta[i].m1 = read(), a[i].m2 = -inf;\n\tfor (int i = 0; i < n; i++)\n\t\tfor (int j = 0; j < m; j++)\n\t\t\tif ((j >> i) & 1) a[j] = add(a[j], a[j ^ (1 << i)]);\n\tint ans = 0;\n\tfor (int i = 1; i < m; i++)\n\t{\n\t\tans = max(ans, a[i].m1 + a[i].m2);\n\t\tprint(ans), puts(\"\");\n\t}\n\treturn 0;\n} \n```\n",
        "postTime": 1670507893,
        "uid": 570066,
        "name": "Fatal_Cactus",
        "ccfLevel": 6,
        "title": "AT_arc100_c [ARC100E] Or Plus Max \u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\u89e3\u91ca\n\n\u7ed9\u5b9a $2^n$ \u4e2a\u6570 $a_0,a_1,\\cdots,a_{2^n-1}$\uff0c\u5bf9\u6bcf\u4e00\u4e2a $0\\le k<2^n$\uff0c\u6c42 $(a_i+a_j)_\\mathrm{max}$\uff0c\u5176\u4e2d $i\\mid j\\le k$\u3002\n\n### \u9898\u89e3\n\n\u6211\u4eec\u8bb0 $x\\in y$ \u8868\u793a $x\\And y=y$\uff0c\u4e8e\u662f\u6709\u4e86\u4e00\u79cd\u975e\u5e38\u81ea\u7136\u7684\u601d\u8def\uff1a\u5bf9\u6bcf\u4e2a $x$ \u6c42 $f_{x,0}$ \u4e0e $f_{x,1}$ \u8868\u793a\u627e\u5230 $i\\in x,j\\in x$ \u4f7f\u5f97 $a_i+a_j$ \u6700\u5927\u65f6\u7684 $i$ \u548c $j$\u3002\u6700\u540e\u6c42\u548c\u524d\u7f00\u6700\u5927\u503c\u5373\u53ef\u3002\n\n\u90a3\u4e48\u5c31\u8003\u8651\u6765\u6c42 $f$\u3002\u8003\u8651\u9ad8\u7ef4\u524d\u7f00\u548c\uff0c\u6bcf\u6b21\u53bb\u6389\u4e00\u4e2a $1$ \u8f6c\u79fb\u8fc7\u6765\u5373\u53ef\u3002\n\n\u7ec6\u8282\u65b9\u9762\uff0c$f$ \u5f00\u6210 `pair`\uff0c\u6ce8\u610f\u50cf\u521a\u521a\u8bf4\u7684\u90a3\u6837\u5b58\u5e8f\u53f7\uff08\u907f\u514d\u91cd\u590d\uff09\uff0c\u8fd8\u6709\u4e0b\u6807\u4e0d\u8981\u53d8\u6210 $-1$ \u5373\u53ef\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef pair<int, int> pii;\nint n, a[1001000];\npii f[1001000];\nint ans[1001000];\nvoid add(int pos, int x) {                // \u5c06 x \u4f5c\u4e3a\u65b0\u503c\u6dfb\u52a0\u5230 f[pos]\n    if (a[x] > a[f[pos].first]) {         // \u6ce8\u610f\u5b58\u4e0b\u6807\n        f[pos].second = f[pos].first;\n        f[pos].first = x;\n    } else if (a[x] > a[f[pos].second] && x != f[pos].first) {\n        f[pos].second = x;\n    }\n}\nint main() {\n    scanf(\"%d\", &n);\n    for (int i = 0; i < (1 << n); i++) {\n        scanf(\"%d\", a + i);\n        f[i].second = 1000099;            // \u8fd9\u4e2a\u503c\u6c38\u8fdc\u90fd\u662f 0\uff0c\u4e00\u5b9a\u4f1a\u88ab\u66f4\u65b0\u5927\n        add(i, i);\n    }\n    for (int i = 1; i < (1 << n); i++) {  // \u9ad8\u7ef4\u524d\u7f00\u548c\n        for (int j = 0; j < n; j++) {\n            if ((i >> j) & 1) {           // \u679a\u4e3e\u4ece\u54ea\u91cc\u8f6c\u79fb\n                add(i, f[i ^ (1 << j)].first);\n                add(i, f[i ^ (1 << j)].second);\n            }\n        }\n    }\n    for (int i = 1; i < (1 << n); i++) {  // \u7edf\u8ba1\u7b54\u6848\n        ans[i] = a[f[i].first] + a[f[i].second];\n        ans[i] = max(ans[i], ans[i - 1]); // \u524d\u7f00\u6700\u5c0f\u503c\n        printf(\"%d\\n\", ans[i]); \n    }\n    return 0;\n}\n```",
        "postTime": 1663241340,
        "uid": 410729,
        "name": "wxy2010",
        "ccfLevel": 0,
        "title": "AT4168\u9898\u89e3"
    },
    {
        "content": "\u8003\u8651\u5bf9\u4e8e\u6bcf\u4e2a $K$ \u6c42\u51fa\u4e0b\u6807\u4e3a $K$ \u5b50\u96c6\u7684\u6700\u5927 $a_i+a_j$\u3002\u90a3\u4e48\u663e\u7136\u4e00\u4e2a\u662f\u6700\u5927\u503c\uff0c\u4e00\u4e2a\u662f\u6b21\u5927\u503c\uff0c\u8fd9\u4e2a\u662f\u9ad8\u7ef4\u524d\u7f00\u548c\uff08\u524d\u7f00\u6700\u503c\u3001\u6b21\u503c\uff09\u53ef\u4ee5\u8f7b\u677e\u8ba1\u7b97\u7684\u3002\n\n\u4f46\u8fd9\u6837\u5b50\u662f\u5047\u7684\uff0c\u56e0\u4e3a $\\leq K$ \u4e0d\u7b49\u4e8e\u662f $K$ \u7684\u5b50\u96c6\u3002\u4f46\u5f88\u663e\u7136\u662f $\\leq K$ \u7684\u6240\u6709\u6570\u7684\u5b50\u96c6\u7684\u5e76\u3002\u4e8e\u662f\u6309\u539f\u5148\u7b97\u6cd5\u7b97\u51fa\u6765\u7b54\u6848\u540e\u53d6\u4e2a\u524d\u7f00 $\\max$ \u5373\u53ef\u3002",
        "postTime": 1606660137,
        "uid": 138400,
        "name": "chenxia25",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 AT4168 \u3010[ARC100C] Or Plus Max\u3011"
    }
]