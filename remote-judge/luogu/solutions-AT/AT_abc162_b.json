[
    {
        "content": "\u8fd9\u9053\u9898\u76ee\u7684\u663e\u7136\u505a\u6cd5\u5c31\u662f\u66b4\u529b\u679a\u4e3e\uff0c\u5982\u679c\u4e00\u4e2a\u6570\u7684\u6478 3 \u7ed3\u679c\u548c\u6478 5 \u7ed3\u679c\u90fd\u662f\u975e\u96f6\uff0c\u90a3\u5c31\u52a0\u5165\u7b54\u6848\u91cc\uff0c\u8fd9\u6837 $O(n)$\u3002\n\n```cpp\nsigned main() {\n\tios_base::sync_with_stdio(false); cin.tie(0);\n\tint n; gi(n);\n\tll ans = 0;\n\trep1(i, n) if(i % 3 && i % 5) ans += i;\n\tprint(ans);\n}\n```\n\n\u4f46\u662f $O(n)$ \u975e\u5e38\u4e0d\u723d\uff0c\u6240\u4ee5\u8003\u8651\u8fd9\u4e2a\u9898\u7684 $O(1)$ \u505a\u6cd5\u3002\u4e00\u4e2a\u65b9\u6cd5\u662f\u5bb9\u65a5\uff1a\u7b54\u6848 = $[1,n]$ \u7684\u6240\u6709\u6570\u4e4b\u548c - $[1,n]$ \u7684\u6240\u6709 $3$ \u500d\u6570\u4e4b\u548c - $[1,n]$ \u7684\u6240\u6709 $5$ \u500d\u6570\u4e4b\u548c + $[1,n]$ \u7684\u6240\u6709\u53c8\u662f $3$ \u500d\u53c8\u662f $5$ \u500d\u7684\u6570\u4e4b\u548c\u3002\n\n\u7528\u6570\u5b66\u5f0f\u5b50\u8868\u793a\uff0c\u5c31\u662f\n\n$$\\sum_{1\\le i\\le n}i-\\sum_{1\\le 3i\\le n}3i-\\sum_{1\\le 5i\\le n}5i+\\sum_{1\\le 15i\\le n}15i$$\n\n\u66b4\u63a8\uff1a\n\n$$\\sum_{1\\le i\\le n}i-3\\sum_{1\\le 3i\\le n}i-5\\sum_{1\\le 5i\\le n}i+15\\sum_{1\\le 15i\\le n}i$$\n\n$$\\sum_{1\\le i\\le n}i-3\\sum_{\\lceil\\frac13\\rceil\\le i\\le \\lfloor\\frac{n}{3}\\rfloor}i-5\\sum_{\\lceil\\frac15\\rceil\\le i\\le \\lfloor\\frac{n}{5}\\rfloor}i+15\\sum_{\\lceil\\frac{1}{15}\\rceil\\le i\\le \\lfloor\\frac{n}{15}\\rfloor}i$$\n\n$$\\sum_{1\\le i\\le n}i-3\\sum_{1\\le i\\le \\lfloor\\frac{n}{3}\\rfloor}i-5\\sum_{1\\le i\\le \\lfloor\\frac{n}{5}\\rfloor}i+15\\sum_{1\\le i\\le \\lfloor\\frac{n}{15}\\rfloor}i$$\n\n$$S(n)=\\sum^n_{i=1}i=\\frac{n(n+1)}{2}$$\n\n$$S(n)-3S(\\lfloor\\frac{n}{3}\\rfloor)-5S(\\lfloor\\frac{n}{5}\\rfloor)+15S(\\lfloor\\frac{n}{15}\\rfloor)$$\n\n\u597d\u4e86\uff0c\u76f4\u63a5\u5b9e\u73b0 $S$ \u51fd\u6570\u548c\u8fd9\u4e2a\u5f0f\u5b50\u5c31 $O(1)$ \u4e86\u3002\n\n```cpp\nll S(ll v) { return v * (v+1) / 2; }\n\nsigned main() {\n    ios_base::sync_with_stdio(false); cin.tie(0);\n    int n; gi(n);\n\tprint(S(n) - 3*S(n/3) - 5*S(n/5) + 15*S(n/15));\n}\n```",
        "postTime": 1587178673,
        "uid": 220037,
        "name": "w33z8kqrqk8zzzx33",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT5386"
    },
    {
        "content": "# FizzBuzz Sum\n\n\u9898\u76ee\u5927\u610f:\n\n\u7ed9\u4f60\u4e00\u4e2a\u6b63\u6574\u6570$n$\uff0c\u6c42$1$\u5230$n$\u8fd9$n$\u4e2a\u6570\u6c42\u65e2\u4e0d\u662f$3$\u7684\u500d\u6570\u4e5f\u4e0d\u662f$5$\u7684\u500d\u6570\u7684\u6570\u4e4b\u548c\u3002\n\n\u8fd9\u9053\u9898\u5176\u5b9e\u53ea\u8981\u5148\u6c42\u4e2a\u603b\u548c\uff0c\u7136\u540e\u51cf\u53bb$3$\u7684\u500d\u6570\u548c$5$\u7684\u500d\u6570\u5373\u53ef\u3002\n\n\u63a5\u4e0b\u6765\u770b\u770b\u5b9e\u73b0:\n\n### Code:\n\n```cpp\n#include <bits/stdc++.h>\n#define REP(i, a, b) for (long long i = a; i <= b; ++i)\n#define ll long long\nusing namespace std;\n\nll n, ans;\n\ninline ll read(){\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\u5feb\u8bfb \n\tll s = 0, w = 1;\n\tchar ch = getchar();\n\tfor (; ch < '0' || ch > '9'; ch = getchar()) w *= ch == '-' ? -1 : 1;\n\tfor (; ch >= '0' && ch <= '9'; ch = getchar()) s = s * 10 + ch - '0';\n\treturn s * w;\n}\n\ninline void work(){\n\tn = read();\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\u8f93\u5165n\n\tans = (1 + n) * n >> 1;\t\t\t\t\t\t\t\t\t\t\t\t\t//\u6c42\u548c \n\tREP(i, 3, n)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\u4ece3\u5f00\u59cb\u679a\u4e3e \n\t\tif (i % 3 == 0 || i % 5 == 0) ans -= i;\t\t\t\t\t\t\t\t//\u5982\u679c\u662f3\u62165\u7684\u500d\u6570\u5c31\u51cf\u53bb\u8fd9\u4e2a\u6570 \n\tprintf(\"%lld\\n\", ans);\t\t\t\t\t\t\t\t\t\t\t\t\t//\u8f93\u51fa\u7b54\u6848 \n}\n\nint main(){\n\twork();\n\treturn 0;\n}\n```\n\n",
        "postTime": 1587169408,
        "uid": 124527,
        "name": "leoair",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT5386 \u3010[ABC162B] FizzBuzz Sum\u3011"
    }
]