[
    {
        "content": "\u7b2c\u4e00\u6b65\u5c31\u6ca1\u60f3\u5230![](//\u56fe.tk/7)\n\n\u53ef\u4ee5\u8003\u8651\u5316\u7b80\u9650\u5236\u3002\u8bbe\u6240\u6709\u70b9\u6309 $E_i$ \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u540e\u987a\u5e8f\u662f $p_1,p_2,...,p_n$\u3002\u53d1\u73b0\u53ea\u9700\u6ee1\u8db3 $E_{p_{i+1}} - E_{p_i} \\ge \\operatorname{dis}(p_i, p_{i+1})$\u3002\u8bc1\u660e\u662f\u5bf9\u4e8e\u4efb\u610f $i < j < k$\uff0c\u82e5 $p_i,p_j$ \u548c $p_j,p_k$ \u5747\u6ee1\u8db3\u9650\u5236\uff0c\u90a3\u4e48 $E_{p_k} - E_{p_i} = E_{p_k} - E_{p_j} + E_{p_j} - E_{p_i} \\ge \\operatorname{dis}(p_k, p_j) + \\operatorname{dis}(p_j, p_i) \\ge \\operatorname{dis}(p_k, p_i)$\u3002\n\n\u5230\u8fd9\u91cc\u663e\u7136\u6bcf\u4e2a\u4e0d\u7b49\u5f0f\u90fd\u53ef\u4ee5\u53d6\u7b49\uff0c\u5373 $E_{p_{i+1}} = E_{p_i} + \\operatorname{dis}(p_i, p_{i+1})$\uff0c$E_{p_n} = 1 + \\sum\\limits_{i=1}^{n-1} \\operatorname{dis}(p_i, p_{i+1})$\u3002\u5219\u6211\u4eec\u9700\u8981\u627e\u5230\u4e00\u4e2a\u6392\u5217 $p$\uff0c\u4f7f\u5f97 $\\sum\\limits_{i=1}^{n-1} \\operatorname{dis}(p_i, p_{i+1})$ \u6700\u5c0f\u3002\n\n\u6ce8\u610f\u5230 $\\sum\\limits_{i=1}^{n-1} \\operatorname{dis}(p_i, p_{i+1}) + \\operatorname{dis}(p_n, p_1)$ \u6700\u5c0f\u503c\u4e3a $2(n-1)$\uff0c\u8fd9\u662f\u56e0\u4e3a\u6bcf\u6761\u8fb9\u81f3\u5c11\u7ecf\u8fc7\u4e24\u6b21\u3002\u53d6\u5230\u4e0b\u754c\u4e5f\u5f88\u7b80\u5355\uff0c$p$ \u53d6 dfs \u5e8f\u5373\u53ef\u3002\n\n\u73b0\u5728\u5c31\u53d8\u6210\u4e86\u8981\u6700\u5927\u5316 $\\operatorname{dis}(p_1, p_n)$\u3002$p_1,p_n$ \u53d6\u76f4\u5f84\u7aef\u70b9\u5373\u53ef\u3002\n\n[code](https://atcoder.jp/contests/arc117/submissions/41078733)",
        "postTime": 1682865864,
        "uid": 275273,
        "name": "zltqwq",
        "ccfLevel": 0,
        "title": "ARC117D \u9898\u89e3"
    },
    {
        "content": "## \u9898\u610f\n\n\u7ed9\u5b9a\u4e00\u68f5 $n$ \u4e2a\u8282\u70b9\u7684\u6811\uff0c\u8981\u6c42\u6784\u9020\u51fa\u4e00\u4e2a\u70b9\u6743\u5e8f\u5217 $E$\uff0c\u6ee1\u8db3\u4ee5\u4e0b\u4e09\u4e2a\u6761\u4ef6\uff1a\n\n1.\u6240\u6709 $E_i\\ge 1(1\\le i\\le n)$\u3002\n\n2.\u5bf9\u4e8e\u4efb\u610f\u4e00\u7ec4 $(i,j)(1 \u2264 i < j \u2264 N)$\uff0c\u4f7f $|E_i-E_j|\\ge dist(i,j)$\uff0c$dist$ \u5373\u6811\u4e0a\u4e24\u70b9\u8ddd\u79bb\u3002\n\n3.\u4f7f $E$ \u4e2d\u7684\u6700\u5927\u503c\u6700\u5c0f\u3002\n\n---\n\n## \u9898\u89e3\n\n\u8003\u8651\u4e00\u79cd\u6784\u9020\u65b9\u5f0f\uff1a\u4ece\u4e00\u4e2a\u70b9\u5f00\u59cb\u8fdb\u884c $\\text{DFS}$\uff0c\u540c\u65f6\u7ef4\u62a4\u4e00\u4e2a\u5f53\u524d\u8981\u586b\u7684\u6570 $cnt$\uff0c\u6bcf\u6b21\u7ecf\u8fc7\u4e00\u6761\u8fb9\u5c31 ++$cnt$\uff08\u56de\u6eaf\u65f6\u4e5f\u4e00\u6837\uff0c\u56e0\u4e3a\u8981\u4f7f\u56de\u6eaf\u5230\u7684\u70b9\u4e0e\u4ed6\u7684\u513f\u5b50\u4e5f\u6ee1\u8db3\u7b2c\u4e8c\u6761\u9650\u5236\uff09\u3002\n\n\u8fd9\u6837\u4fdd\u8bc1\u4e86\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9\uff0c\u5b83\u80fd\u5230\u8fbe\u7684\u70b9\u81f3\u5c11\u4e0e\u5b83\u6ee1\u8db3\u7b2c\u4e8c\u6761\u9650\u5236\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nl9dxy9g.png)\n\n\u4f46\u662f\u8fd9\u53ef\u80fd\u5bfc\u81f4\u4e0d\u6ee1\u8db3\u7b2c\u4e09\u6761\u9650\u5236\u3002\n\n\u53d1\u73b0\uff1a\u6700\u7ec8\u6700\u5927\u7684\u6807\u53f7\u662f\u7ecf\u8fc7\u7684\u8fb9\u7684\u6b21\u6570 $+1$\uff0c\u5e76\u4e14\u4e0d\u4e00\u5b9a\u8981\u56de\u5230\u6839\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7k2xk7j6.png)\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u4e00\u4e2a\u7ecf\u5178\u5957\u8def\u4f18\u5316\u4ee5\u4e0a\u7b56\u7565\uff0c\u9009\u5b9a\u76f4\u5f84\u4f5c\u4e3a\u53ea\u7ecf\u8fc7\u4e00\u6b21\u7684\u8fb9\uff08\u4e0d\u7528\u56de\u6eaf\uff09\uff0c\u4ee5\u76f4\u5f84\u7684\u4e00\u7aef\u4e3a\u6839\u8fdb\u884c\u7f16\u53f7\uff0c\u5230\u53e6\u4e00\u7aef\u5c31\u7ed3\u675f\u3002\u8fd9\u6837\u4f7f\u5f97\u6700\u5927\u7684\u7f16\u53f7\uff08\u603b\u8fb9\u6570 $\\times 2-$ \u6ca1\u6709\u56de\u6eaf\u7684\u8fb9\u6570\uff09\u6700\u5c0f\u3002\n\n---\n\n## code\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define re int\n#define Bessie signed\nint read()\n{\n    int A = 0, FL = 1;\n    char CH = getchar();\n    while(CH < '0' || CH > '9')\n        FL = (CH == '-') ? -1 : 1, CH = getchar();\n    while(CH >= '0' && CH <= '9')\n        A = (A << 3) + (A << 1) + (CH ^ '0'), CH = getchar();\n    return A * FL;\n}\nvoid ot(int x)\n{\n    if(x < 0)\n        putchar('-'), x = -x;\n    if(x >= 10)\n        ot(x / 10);\n    putchar((x % 10) | '0');\n}\n#define pc_ (putchar(' '))\n#define pc_n (putchar('\\n'))\nconst int CTR = 2e5 + 7;\nint n;\nvector<int> G[CTR];\nint p, q;\nint dis[CTR];\nvoid dfs1(int x, int f)\n{\n    dis[x] = dis[f] + 1;\n    (dis[x] > dis[p]) && (p = x);\n    for(re v : G[x]) if(v != f) dfs1(v, x);\n}\nbool fl[CTR];\nvoid dfs2(int x, int f)\n{\n    if(x == q) fl[x] = 1;\n    for(re v : G[x]) if(v != f) dfs2(v, x), fl[x] |= fl[v];\n}\nint tot;\nint ans[CTR];\nvoid dfs3(int x, int f)\n{\n    ans[x] = ++tot;\n    for(re v : G[x]) if(v != f && !fl[v]) dfs3(v, x), ans[x] = ++tot;\n    for(re v : G[x]) if(v != f && fl[v]) dfs3(v, x);\n}\nBessie main()\n{\n    n = read();\n    for(re i = 1, u, v; i < n; ++i)\n        u = read(), v = read(), G[u].push_back(v), G[v].push_back(u);\n    dfs1(1, 0);\n    q = p;\n    dfs1(p, 0);\n    dfs2(p, 0);\n    dfs3(p, 0);\n    for(re i = 1; i <= n; ++i) ot(ans[i]),pc_;\n    return 0;\n}\n```",
        "postTime": 1668898843,
        "uid": 352970,
        "name": "Creator_157",
        "ccfLevel": 4,
        "title": "[ARC117D] Miracle Tree"
    }
]