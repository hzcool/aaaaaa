[
    {
        "content": "\u4ece\u53cd\u9762\u8003\u8651\u3002\u4ec0\u4e48\u65f6\u5019\u4f1a\u51fa\u73b0\u4e24\u4e2a\u8ddd\u79bb\u4e3a $3$ \u7684\u70b9\u7684\u70b9\u6743\u548c\u4ee5\u53ca\u70b9\u6743\u79ef\u90fd\u4e0d\u662f $3$ \u7684\u500d\u6570\u7684\u60c5\u51b5\u5462\uff1f\n\n\u5bb9\u6613\u53d1\u73b0\uff0c\u5f53 $p_i \\equiv p_j \\equiv 1 \\pmod 3$ \u6216 $p_i \\equiv p_j \\equiv 2 \\pmod 2$ \u65f6\uff0c\u5982\u679c $i$ \u548c $j$ \u7684\u8ddd\u79bb\u4e3a $3$\uff0c\u6784\u9020\u51fa\u7684\u6811\u5c31\u4e0d\u6ee1\u8db3\u8981\u6c42\u3002\n\n\u56e0\u6b64\u6211\u4eec\u7684\u76ee\u6807\u662f\u8ba9\u6ee1\u8db3\u4e0a\u8ff0\u6761\u4ef6\u7684\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u4e0d\u4e3a\u4e09\u3002\n\n\u4ece\u6839\u8282\u70b9\u5f00\u59cb\u8fdb\u884c\u9ed1\u767d\u67d3\u8272\u3002\u8bbe\u9ed1\u8282\u70b9\u7684\u6570\u91cf\u4e3a $x$\uff0c\u767d\u8282\u70b9\u7684\u6570\u91cf\u4e3a $y$\u3002\n\n1. $x,y \\gt \\left \\lfloor \\dfrac{n}{3} \\right \\rfloor$\n\n\u6b64\u65f6\u9996\u5148\u5c06\u6240\u6709\u6ee1\u8db3 $i \\equiv 1 \\pmod 3$ \u7684 $i$ \u5206\u914d\u7ed9\u9ed1\u8282\u70b9\uff08\u663e\u7136\u6b64\u65f6\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u7684 $i$ \u90fd\u4f1a\u5206\u914d\u5230\u9ed1\u8282\u70b9\uff09\uff0c\u5c06\u6240\u6709\u6ee1\u8db3 $i \\equiv 2 \\pmod 3$ \u7684 $i$ \u5206\u914d\u5230\u767d\u8282\u70b9\uff0c\u5269\u4e0b\u7684\u6570\uff08\u663e\u7136\u90fd\u6ee1\u8db3 $3 \\mid i$\uff09\u968f\u610f\u5206\u914d\u3002\n\n\u56e0\u4e3a\u6240\u6709\u6ee1\u8db3 $i \\equiv 1 \\pmod 3$ \u7684\u8282\u70b9\u989c\u8272\u76f8\u540c\uff0c\u8fd9\u4e9b\u8282\u70b9\u95f4\u7684\u8ddd\u79bb\u5fc5\u4e3a\u5076\u6570\uff0c\u4ece\u800c\u4e0d\u4f1a\u51fa\u73b0\u4e0d\u5408\u8981\u6c42\u7684\u60c5\u51b5\u3002\n\n$i \\equiv 2 \\pmod 3$ \u7684\u8282\u70b9\u540c\u7406\u3002\n\n2. $x \\leq \\left \\lfloor \\dfrac{n}{3} \\right \\rfloor$\n\n\u5c06\u6ee1\u8db3 $3 \\mid i$ \u7684 $i$ \u5206\u914d\u7ed9\u9ed1\u8282\u70b9\uff08\u663e\u7136\u4e0d\u4f1a\u6709\u8282\u70b9\u5206\u4e0d\u5230\u6570\u5b57\uff09\uff0c\u5269\u4e0b\u7684\u5168\u7ed9\u767d\u8282\u70b9\u3002\n\n\u8fd9\u65f6\u5019\u6240\u6709\u6ee1\u8db3 $i \\equiv 1 \\pmod 3$ \u6216 $i \\equiv 2 \\pmod 3$ \u7684\u8282\u70b9\u5168\u4e3a\u767d\u8282\u70b9\uff0c\u4e5f\u4e0d\u4f1a\u51fa\u73b0\u4e0d\u5408\u8981\u6c42\u7684\u60c5\u51b5\u3002\n\n3. $y \\leq \\left \\lfloor \\dfrac{n}{3} \\right \\rfloor$\n\n\u548c 2 \u60c5\u51b5\u540c\u7406\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002\n\n\u7efc\u4e0a\uff0c\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e00\u79cd\u6811\uff0c\u90fd\u53ef\u4ee5\u6784\u9020\u4e00\u79cd\u6ee1\u8db3\u6761\u4ef6\u7684\u65b9\u6848\u3002\n\n```cpp\n#include <iostream>\n#include <vector>\nusing namespace std;\nint col[200005],p[200005],cnt0,cnt1;\nvector<int> e[200005];\nvoid dfs(int u,int fa)\n{\n col[u]=!col[fa];\n if(col[u])cnt1++;\n else cnt0++;\n for(auto v:e[u])\n  if(v!=fa)dfs(v,u);\n}\nint main()\n{\n int n;\n cin>>n;\n for(int i=1;i<n;i++)\n {\n  int u,v;\n  cin>>u>>v;\n  e[u].push_back(v);\n  e[v].push_back(u);\n }\n dfs(1,1);\n int p1=1,p2=2,p3=3;\n if(cnt0>n/3&&cnt1>n/3)\n {\n  for(int i=1;i<=n;i++)\n   if(col[i]==0)\n   {\n    if(p1<=n)p[i]=p1,p1+=3;\n    else p[i]=p3,p3+=3;\n   }\n   else\n   {\n    if(p2<=n)p[i]=p2,p2+=3;\n    else p[i]=p3,p3+=3;\n   }\n }\n else if(cnt1<=n/3)\n {\n  for(int i=1;i<=n;i++)\n   if(col[i]==0)\n   {\n    if(p1<=n)p[i]=p1,p1+=3;\n    else if(p2<=n)p[i]=p2,p2+=3;\n    else p[i]=p3,p3+=3;\n   }\n   else\n    p[i]=p3,p3+=3;\n }\n else if(cnt0<=n/3)\n {\n  for(int i=1;i<=n;i++)\n   if(col[i]==1)\n   {\n    if(p1<=n)p[i]=p1,p1+=3;\n    else if(p2<=n)p[i]=p2,p2+=3;\n    else p[i]=p3,p3+=3;\n   }\n   else\n    p[i]=p3,p3+=3;\n }\n for(int i=1;i<=n;i++)\n  cout<<p[i]<<' ';\n cout<<endl;\n return 0;\n}\n```",
        "postTime": 1583743803,
        "uid": 22030,
        "name": "StudyingFather",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT5759 \u3010ThREE\u3011"
    },
    {
        "content": "\u663e\u7136\u7b54\u6848\u53ea\u548c\u6bcf\u4e00\u4e2a\u70b9\u7684\u70b9\u6743\u6a21 $3$ \u7684\u503c\u6709\u5173\uff0c\u95ee\u9898\u53d8\u4e3a\u7528 $x$ \u4e2a $0$\uff0c$x$ \u6216 $x+1$ \u4e2a $1$\uff0c$x$ \u6216 $x+1$ \u4e2a $2$ \u8986\u76d6\u7ed9\u5b9a\u7684\u6811\uff0c\u4e14\u6ee1\u8db3\u9898\u76ee\u4e2d\u6761\u4ef6\u3002\n\n\u4e0d\u96be\u53d1\u73b0 $0$ \u6709\u5f88\u5f3a\u7684\u7279\u6b8a\u6027\uff0c\u56e0\u4e3a\u9009\u62e9 $0$ \u7684\u70b9\u4e0d\u9700\u8981\u8003\u8651\u5176\u4ed6\u70b9\u7684\u6743\u503c\u5c31\u53ef\u4ee5\u6ee1\u8db3\u6761\u4ef6\u3002\u4e0d\u59a8\u5148\u53bb\u6389 $0$\uff0c\u8003\u8651 **\u4ec5\u7528 $1$ \u548c $2$ \u4e14\u4e0d\u8003\u8651\u6570\u91cf\u9650\u5236\u5982\u4f55\u8986\u76d6\u3002**\n\n\u8003\u8651\u5efa\u4e00\u4e2a\u56fe $G$\u3002\u5bf9\u4e8e\u4e00\u5bf9\u70b9 $(i,j)$\uff0c\u5982\u679c\u5176\u8ddd\u79bb\u5728\u6811\u4e2d\u662f $3$\uff0c\u5219\u5728 $G$ \u4e2d\u8fde\u4e00\u6761 $i\\leftrightarrow j$ \u7684\u8fb9\u3002\n\n\u90a3\u4e48\u73b0\u5728\u53ef\u4ee5\u53d1\u73b0 **\u539f\u6811\u4e2d\u7684\u4e00\u4e2a\u7528 $1$ \u548c $2$ \u7684\u8986\u76d6\u65b9\u6848\u5bf9\u5e94\u5230 $G$ \u4e2d\u662f\u4e00\u4e2a\u4e8c\u5206\u56fe\u67d3\u8272\u65b9\u6848\u3002**\n\n\u5f53\u7136 $G$ \u7684\u8fb9\u6570\u662f\u7206\u70b8\u7684\uff0c\u4e0d\u80fd\u76f4\u63a5\u6c42\u67d3\u8272\u3002\u4f46\u662f\u6211\u4eec\u53d1\u73b0\u5982\u679c\u76f4\u63a5\u6309\u6811\u4e2d\u6df1\u5ea6\u7684\u5947\u5076\u6027\u67d3\u8272\uff0c\u5c31\u5fc5\u7136\u662f $G$ \u7684\u4e00\u4e2a\u4e8c\u5206\u56fe\u67d3\u8272\u3002\n\n\u90a3\u4e48\u73b0\u5728\u53ef\u4ee5\u6784\u9020\u4ec5\u7528 $1$ \u548c $2$ \u4e14\u4e0d\u8003\u8651\u6570\u91cf\u9650\u5236\u7684\u8986\u76d6\u65b9\u6848\u4e86\uff0c\u8003\u8651\u52a0\u5165 $0$ \u548c\u6570\u91cf\u9650\u5236\u3002\n\n\u4e0d\u96be\u53d1\u73b0\u4e00\u4e2a\u70b9\u9009 $0$ \u76f8\u5f53\u4e8e\u76f4\u63a5\u4ece $G$ \u4e2d\u5220\u53bb\u8be5\u70b9\u3002\n\n\u90a3\u4e48\u5982\u679c\u4e24\u4fa7\u7684\u70b9\u6570\u91cf\u90fd\u5927\u4e8e\u7b49\u4e8e\u5bf9\u5e94\u7684\u6570\u91cf\u9650\u5236\uff0c\u5c31\u76f4\u63a5\u5220\u5230\u5bf9\u5e94\u7684\u6570\u91cf\u9650\u5236\u5c31\u884c\u4e86\u3002\n\n\u5982\u679c\u6709\u4e00\u4fa7\u5c0f\u4e8e\u5bf9\u5e94\u7684\u6570\u91cf\u9650\u5236\uff0c\u90a3\u4e48\u663e\u7136\u8fd9\u4e00\u4fa7\u53ef\u4ee5\u5168\u90e8\u5220\u6389\uff0c\u5269\u4e0b\u7684\u76f4\u63a5\u968f\u4fbf\u586b\u4e5f\u53ef\u4ee5\u6ee1\u8db3\u9650\u5236\u3002\n\n\u4e8e\u662f\u8fd9\u9898\u5c31\u505a\u5b8c\u4e86\uff0c\u590d\u6742\u5ea6 $O(n)$\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define getchar() (p1==p2&&(p2=(p1=buf)+fread(buf,1,1<<21,stdin),p1==p2)?EOF:*p1++)\nchar buf[(1<<21)+5], *p1 = buf, *p2 = buf;\n\ninline int qread() {\n\tchar c = getchar();\n\tint x = 0, f = 1;\n\twhile (c < '0' || c > '9') {\n\t\tif (c == '-') f = -1;\n\t\tc = getchar();\n\t}\n\twhile (c >= '0' && c <= '9') {\n\t\tx = x * 10 + c - '0';\n\t\tc = getchar();\n\t}\n\treturn x * f;\n}\n\nstruct Edge {\n\tint to, nxt;\n\tEdge() {\n\t\tnxt = -1;\n\t}\n};\nEdge e[400005];\nint n, hd[200005], pnt, ans[200005];\nbool flag[200005];\nvector <int> a, b;\n\ninline void AddEdge(int u, int v) {\n\te[++pnt].to = v;\n\te[pnt].nxt = hd[u];\n\thd[u] = pnt;\n}\n\ninline void Read() {\n\tn = qread();\n\tfor (int i = 1;i < n;i++) {\n\t\tint u = qread(), v = qread();\n\t\tAddEdge(u, v);\n\t\tAddEdge(v, u);\n\t}\n}\n\ninline void Dfs(int u, int fa, int dep) {\n\tif (dep & 1) a.push_back(u);\n\telse b.push_back(u);\n\tfor (int i = hd[u];~i;i = e[i].nxt) {\n\t\tif (e[i].to != fa) Dfs(e[i].to, u, dep + 1);\n\t}\n}\n\ninline void Solve() {\n\tif (a.size() < b.size()) swap(a, b);\n\tint sz1 = a.size(), sz2 = b.size(), cnt0 = n / 3, cnt1 = n / 3 + (n % 3 >= 1), cnt2 = n / 3 + (n % 3 >= 2);\n\tif (sz2 <= cnt0) {\n\t\tfor (int i = 0;i < sz2;i++) {\n\t\t\tans[b[i]] = 3 * (i + 1);\n\t\t\tflag[3 * (i + 1)] = 1;\n\t\t}\n\t\tfor (int i = 0;i < sz1;i++) {\n\t\t\tif (i) ans[a[i]] = ans[a[i - 1]];\n\t\t\telse ans[a[i]] = 1;\n\t\t\twhile (flag[ans[a[i]]]) ans[a[i]]++;\n\t\t\tflag[ans[a[i]]] = 1;\n\t\t}\n\t} else {\n\t\tint cur = 0;\n\t\tfor (int i = 0;i < cnt1;i++) ans[a[i]] = 3 * i + 1;\n\t\tfor (int i = 0;i < cnt2;i++) ans[b[i]] = 3 * i + 2;\n\t\tfor (int i = cnt1;i < sz1;i++) ans[a[i]] = 3 * (++cur);\n\t\tfor (int i = cnt2;i < sz2;i++) ans[b[i]] = 3 * (++cur);\n\t}\n\tfor (int i = 1;i <= n;i++) printf(\"%d \", ans[i]);\n}\n\nint main() {\n\tmemset(hd, -1, sizeof(hd));\n\tRead();\n\tDfs(1, -1, 1);\n\tSolve();\n\treturn 0;\n}\n```",
        "postTime": 1626951828,
        "uid": 61088,
        "name": "Solystic",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 AT5759 \u3010ThREE\u3011"
    },
    {
        "content": "# C-ThREE\n\n[Social Infrastructure Information Systems Division, Hitachi Programming Contest 2020](https://atcoder.jp/contests/hitachi2020)\n\n\u8fd9\u573a\u6bd4\u8d5b\u91cc\u7684\u4e00\u9053\u6784\u9020\u9898\u3002\n\n## \u9898\u76ee\u53d9\u8ff0\n\n\u7ed9\u4f60\u4e00\u9897$n$\u4e2a\u7ed3\u70b9\u7684\u6811\uff0c\u4f60\u8981\u628a$1\\sim n$\u586b\u8fdb\u53bb\uff0c\u4f7f\u5f97\u6811\u4e0a\u4efb\u610f\u8ddd\u79bb\u4e3a$3$\u7684\u70b9\u90fd\u6ee1\u8db3\u586b\u8fdb\u53bb\u7684\u6570\u7684\u548c\u6216\u8005\u4e58\u79ef\u81f3\u5c11\u4e00\u4e2a\u662f$3$\u7684\u500d\u6570\u3002\n\n## \u9898\u89e3\n\n\u6211\u7684\u6784\u9020\u597d\u5f31\u5440......\n\n+ \u548c\u6216\u8005\u79ef\u81f3\u5c11\u4e00\u4e2a\u662f$3$\u7684\u500d\u6570\uff0c\u7b49\u4ef7\u4e8e\u4e0d\u4e3a$1,1$\u4e5f\u4e0d\u4e3a$2,2$\uff08\u8fd9\u9898\u4e4b\u6240\u4ee5\u80fd\u505a\u4e5f\u5c31\u56e0\u4e3a\u8fd9\u4e2a\u6761\u4ef6\u53ef\u4ee5\u8f6c\u5316\u4e3a\u4e24\u4e2a\u6570\u6a21$1$\u4e0d\u540c\u8fd9\u79cd\u5f62\u5f0f\u5427...\n\n+ \u8003\u8651\u9ed1\u767d\u67d3\u8272\u3002\u90a3\u4e48\u540c\u8272\u7684\u4e24\u70b9\u8ddd\u79bb\u663e\u7136\u4e0d\u662f$3$\u3002\u8003\u8651\u628a\u6a21$3$\u4f59$1$\u7684\u6570\u653e\u4e00\u79cd\u989c\u8272\u7684\u70b9\uff0c\u6a21$3$\u4f59$2$\u7684\u653e\u53e6\u4e00\u79cd\u989c\u8272\u3002\n+ \u53ef\u80fd\u9ed1\u8272\u70b9\u6216\u767d\u8272\u70b9\u6570\u91cf\u4e0d\u591f\n  + \u5982\u679c$\\min(white, black)\\le \\frac{n}{3}$\u3002\u90a3\u4e48\u8003\u8651\u628a\u6240\u6709\u6a21$3$\u4f59$0$\u7684\u70b9\u90fd\u653e\u5728\u8f83\u5c11\u7684\u90a3\u79cd\u989c\u8272\u4e0a\u3002\u5176\u4f59\u7684\u70b9\u968f\u4fbf\u653e\u3002\n  + \u5426\u5219\uff0c\u6a21$3$\u4f59$1$\u7684\u653e\u9ed1\u8272\u70b9\u4e0a\uff0c\u6a21$3$\u4f59$2$\u7684\u653e\u767d\u8272\u70b9\u4e0a\u3002\n\n## \u77e5\u8bc6\u70b9\n\n+ \u8ddd\u79bb\u4e3a$3$\u7684\u989c\u8272\u4e0d\u540c\uff0c\u53ef\u4ee5\u8003\u8651\u9ed1\u767d\u67d3\u8272\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include <cstdio>\n#include <vector>\nusing namespace std;\nconst int maxNode = 2e5 + 5;\nvector<int> tree[maxNode];\nint nbNode, ans[maxNode];\nvector<int> col[2], kind[3];\nvoid Dfs(int now, int from, int faCol) {\n\tcol[faCol ^ 1].push_back(now);\n\tfor (int to : tree[now]) {\n\t\tif (to == from) continue ;\n\t\tDfs(to, now, faCol ^ 1);\n\t}\n}\nint main() {\n\tscanf(\"%d\", &nbNode);\n\tfor (int edge = 1; edge < nbNode; ++edge) {\n\t\tint u, v;\n\t\tscanf(\"%d%d\", &u, &v);\n\t\ttree[u].push_back(v);\n\t\ttree[v].push_back(u);\n\t}\n\tfor (int num = 1; num <= nbNode; ++num)\n\t\tkind[num % 3].push_back(num);\n\tDfs(1, -1, 1);\n\tif (col[0].size() > col[1].size())\n\t\tswap(col[0], col[1]);\n\tif (col[0].size() <= kind[0].size()) {\n\t\tint now = 0, pt = 0;\n\t\tfor (int node : col[0])\n\t\t\tans[node] = kind[0][pt++];\n\t\tif (pt >= kind[0].size()) {\n\t\t\t++now;\n\t\t\tpt = 0;\n\t\t}\n\t\tfor (int node = 1; node <= nbNode; ++node)\n\t\t\tif (!ans[node]) {\n\t\t\t\tans[node] = kind[now][pt++];\n\t\t\t\tif (pt >= kind[now].size()) {\n\t\t\t\t\tpt = 0;\n\t\t\t\t\t++now;\n\t\t\t\t}\n\t\t\t}\n\t} else {\n\t\tint pt = 0;\n\t\tfor (int num : kind[1])\n\t\t\tans[col[0][pt]] = num, ++pt;\n\t\tpt = 0;\n\t\tfor (int num : kind[2])\n\t\t\tans[col[1][pt]] = num, ++pt;\n\t\tpt = 0;\n\t\tfor (int node = 1; node <= nbNode; ++node)\n\t\t\tif (!ans[node])\n\t\t\t\tans[node] = kind[0][pt++];\n\t}\n\tfor (int node = 1; node <= nbNode; ++node)\n\t\tprintf(\"%d \", ans[node]);\n\tprintf(\"\\n\");\n\treturn 0;\n}\n```\n\n",
        "postTime": 1584152898,
        "uid": 75715,
        "name": "KokiNiwa",
        "ccfLevel": 0,
        "title": "C-ThREE\uff08\u6784\u9020\uff09"
    },
    {
        "content": "### Description\n\u6709\u4e00\u68f5 $n$ \u4e2a\u70b9\u7684\u65e0\u6839\u6811\uff0c\u8fb9\u6743\u4e3a\u4e00\u3002\u6c42\u4e00\u4e2a $1 \\sim n$ \u7684\u6392\u5217 $p_1 \\sim p_n$\uff0c\u4f7f\u5f97\u5bf9\u4e8e\u4efb\u610f\u4e24\u4e2a\u4e0b\u6807 $(i,j)$ \u5982\u679c\u70b9 $i$ \u4e0e\u70b9 $j$ \u5728\u6811\u4e0a\u7684\u8ddd\u79bb\u4e3a $3$ \u90a3\u4e48 $p_i + p_j | 3 \\lor p_ip_j | 3$\u3002\u6709\u591a\u4e2a\u968f\u610f\u8f93\u51fa\u4e00\u4e2a\uff0c\u5982\u679c\u6ca1\u6709\u8f93\u51fa $-1$\u3002\n\n### Solution\n~~\u6839\u636e\u6837\u4f8b~~\uff0c\u4e0d\u53ef\u80fd\u6ca1\u6709\u65b9\u6848\u3002\n\n\u4ee4 $1$ \u4e3a\u6839\u8282\u70b9\uff0c\u5c06 $1 \\sim n$ \u7684\u6bcf\u4e2a\u6570 $\\bmod \\ 3$\u3002\u56e0\u4e3a\u4e00\u4e2a\u6570\u52a0 $\\pm 3$ \u5b83\u7684\u5947\u5076\u6027\u4e00\u5b9a\u6539\u53d8\uff0c\u4e0d\u59a8\u7528\u9ed1\u767d\u67d3\u8272\u7684\u65b9\u6cd5\uff0c\u5c06\u6bcf\u4e2a\u70b9\u6309\u4e0e\u6839\u8282\u70b9\u8ddd\u79bb\u7684\u5947\u5076\u6027\u5206\u7c7b\u3002\n\n\u5bf9\u4e8e\u4e00\u4e2a\u6570\u5bf9 $p_i,p_j$ \u5047\u8bbe $p_i \\leq p_j$\u3002\u5982\u679c $i$ \u548c $j$ \u7684\u8ddd\u79bb\u4e3a $3$ \u90a3\u4e48\u6709 $p_i = 1,p_j = 2 \\lor p_i = 0, p_j = \\{ 0,1,2 \\}$\u3002\n\n\u6240\u4ee5\u6784\u9020\u65b9\u6848\u975e\u5e38\u7b80\u5355\uff0c\u5148\u5728\u80fd\u5c06 $1,2$ \u5206\u5b8c\u7684\u524d\u63d0\u4e0b\uff0c\u5c3d\u91cf\u628a\u5b83\u4eec\u5206\u5728\u4e0d\u540c\u5947\u5076\u6027\u7684\u70b9\u96c6\u4e2d\uff0c\u518d\u628a $0$ \u5206\u7ed9\u4f59\u4e0b\u7684\u70b9\u3002\n\n### Code\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define pb push_back\nconst int N = 2e5 + 5, INF = 0x3f3f3f3f;\ninline int read() {\n\tint x = 0, f = 0; char ch = 0;\n\twhile (!isdigit(ch)) f |= ch == '-', ch = getchar();\n\twhile (isdigit(ch)) x = (x << 3) + (x << 1) + (ch ^ 48), ch = getchar();\n\treturn f ? -x : x;\n}\nint ans[N];\nvector <int> G[N], col[2], mod[3];\nvoid dfs(int x, int c, int fa) {\n\tcol[c].push_back(x);\n\tfor (auto y : G[x]) if (y != fa) dfs(y, c ^ 1, x);\n}\nvoid sol(int i, int j) {\n\twhile (!col[i].empty() && !mod[j].empty()) {\n\t\tans[col[i].back()] = mod[j].back();\n\t\tcol[i].pop_back(), mod[j].pop_back();\n\t}\n}\nint main() {\n\tint n = read();\n\tfor (int i = 1; i < n; i++) {\n\t\tint x = read(), y = read();\n\t\tG[x].pb(y), G[y].pb(x);\n\t}\n\tfor (int i = 1; i <= n; i++) mod[i % 3].pb(i);\n\tdfs(1, 0, 0);\n\tsol(col[0].size() < col[1].size(), 1), sol(col[0].size() < col[1].size(), 2);\n\tsol(0, 0), sol(1, 0);\n\tfor (int i = 1; i <= n; i++) printf(\"%d \", ans[i]);\n\treturn 0;\n}     \n```",
        "postTime": 1583718549,
        "uid": 92112,
        "name": "ylxmf2005",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 AT5759 \u3010ThREE\u3011"
    },
    {
        "content": "### \u9898\u76ee\u63cf\u8ff0\n\n> \u7ed9\u5b9a\u4e00\u9897 $n$ \u4e2a\u8282\u70b9\u7684\u6811\uff0c\u8981\u6c42\u628a $1-n$ \u7ed9\u5206\u914d\u5230\u6bcf\u4e00\u4e2a\u8282\u70b9\u4e0a\u4f5c\u4e3a\u6743\u503c\uff0c\u8981\u6c42\u4efb\u610f\u8ddd\u79bb\u4e3a $3$ \u7684\u70b9\u5bf9\u7684\u6743\u503c\u4e4b\u548c\u6216\u8005\u4e58\u79ef\u4e3a $3$ \u7684\u500d\u6570\u3002\n\n> $n\\leq2\\times 10^5$\n\n### \u601d\u8def\n\n\u5bfb\u627e\u4e00\u9897\u6811\u4e2d\u8ddd\u79bb\u4e3a $3$ \u7684\u70b9\u5bf9\u4e0d\u96be\u627e\u5230\uff0c\u4f46\u662f\u679a\u4e3e\u80af\u5b9a\u4f1a $\\text{TLE}$\uff0c\u6211\u4eec\u624b\u819c\u4e00\u4e0b\u6837\u4f8b\u53d1\u73b0\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e9b\u6709\u6839\u6811(\u6839\u6682\u5b9a\u4e3a $1$ )\u4e2d\u7684\u6df1\u5ea6\u5947\u5076\u6027\u4e0d\u540c\u7684\u70b9\u8fdb\u884c\u914d\u5bf9\u3002\n\n\u6211\u4eec\u628a\u5206\u914d\u7684\u6570\u53ef\u4ee5\u5206\u4e3a\u4e09\u7c7b\uff1a\u53d6\u6a21\u540e\u5206\u522b\u4e3a $0,1,2$ \u7684\u6570\u3002\n\n\u5982\u679c\u4e0d\u8003\u8651 $0$ \u7684\u8d21\u732e\uff0c\u90a3\u4e48\u6df1\u5ea6\u4e3a\u5947\u6570\u7684\u70b9\u5206\u914d\u7684\u548c\u6df1\u5ea6\u4e3a\u5076\u6570\u7684\u70b9\u5206\u914d\u7684\u70b9\u7684\u503c\u5947\u5076\u6027\u8981\u4e0d\u540c\u624d\u53ef\u4ee5\uff0c\u56e0\u4e3a\u53ea\u80fd\u6839\u636e\u6c42\u548c\u6765\u6ee1\u8db3\u6761\u4ef6\u3002\n\n\u9996\u5148\uff0c\u5982\u679c\u6df1\u5ea6\u4e3a\u5947\u6570\u7684\u70b9\uff0c\u5076\u6570\u7684\u70b9\u5176\u4e2d\u4e00\u4e2a\u6216\u8005\u662f\u4e24\u4e2a\u7684\u6570\u91cf\u5c0f\u4e8e\u53d6\u6a21\u540e\u4e3a $0$ \u7684\u503c\u7684\u4e2a\u6570\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u628a\u6570\u91cf\u8f83\u5c0f\u7684\u54ea\u4e00\u7ec4\u70b9\uff0c\u5168\u90e8\u5f04\u6210 $3$ \u7684\u500d\u6570\u5373\u53ef\uff0c\u7136\u540e\u5176\u4f59\u4e00\u7ec4\u968f\u4fbf\u653e\u90fd\u4f1a\u7b26\u5408\u6761\u4ef6\u3002\n\n\u53e6\u5916\u4e00\u79cd\u60c5\u51b5\uff0c\u5982\u679c\u4e24\u7ec4\u90fd\u5927\u4e8e\u53d6\u6a21\u540e $0$ \u7684\u4e2a\u6570\uff0c\u90a3\u4e48\u5c31\u8003\u8651\u5148\u628a\u5076\u6570\u90e8\u5206\u7684\u8d4b\u503c\u4e3a $3i+2$ \uff0c\u8be5\u5947\u6570\u7684\u8d4b\u503c\u4e3a $3i+1$ \uff0c\u7136\u540e\u5269\u4e0b\u7684\u8d85\u51fa\u90e8\u5206\u5168\u90e8\u8d4b\u503c\u4e3a $3i$ \u5373\u53ef\u3002\n\n### \u4ee3\u7801\u5b9e\u73b0\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nconst int N=2e5+9;\nconst int M=2e5+9;\nstruct node{\n\tint last;\n\tint to;\n}e[N<<1];\nint head[N],cnt;\nint n,Q;\nint ans[N];\nvector<int> a;//\u5947\u6570\u6df1\u5ea6 \nvector<int> b;//\u5076\u6570\u6df1\u5ea6 \nbool vis[N];\nint read()\n{\n\tint f=1,x=0;\n\tchar s=getchar();\n\twhile(s<'0'||s>'9'){if(s=='-')f=-1;s=getchar();}\n\twhile(s>='0'&&s<='9'){x=(x<<1)+(x<<3)+(s^'0');s=getchar();}\n\treturn f*x;\n}\nvoid add(int from,int to)\n{\n\te[++cnt].last=head[from];\n\te[cnt].to=to;\n\thead[from]=cnt;\n}\nvoid dfs(int u,int fa,int dep)\n{\n\tif(dep%2) a.push_back(u);\n\telse b.push_back(u);\n\tfor(int i=head[u];i;i=e[i].last)\n\t{\n\t\tint v=e[i].to;\n\t\tif(v==fa) continue;\n\t\tdfs(v,u,dep+1);\n\t}\n}\nvoid work()\n{\n\tif(a.size()<b.size())\n\t\tswap(a,b);//\u9009\u7528b\u4f5c\u4e3a\u6570\u91cf\u8f83\u5c0f\u7684\u90a3\u4e2a\n\tint Asiz=a.size();\n\tint Bsiz=b.size();\n\tint cnt0=n/3 , cnt1=n/3+(n%3>=1) , cnt2=n/3+(n%3>=2);\n\t//printf(\"0 = %d , 1 = %d , 2 = %d \\n\",cnt0,cnt1,cnt2);\n\t//printf(\"\u5947\u6570= \");\n\t//for(int i=0;i<Asiz;i++)\n\t//\tprintf(\"%d \",a[i]);\n\t//printf(\"\u5076\u6570= \");\n\t//for(int i=0;i<Bsiz;i++)\n\t//\tprintf(\"%d \",b[i]); \n\tint tot=1;\n\tif(Bsiz<=cnt0)//\u53ef\u4ee5\u5168\u90e8\u75280\u5305\u56f4 \n\t{\n\t\tfor(int i=0;i<b.size();i++)\n\t\t{\n\t\t\tans[b[i]]=(i+1)*3;\n\t\t\tvis[(i+1)*3]=true;\n\t\t}\n\t\tfor(int i=0;i<a.size();i++)\n\t\t{\n\t\t\tans[a[i]]=tot;\n\t\t\tvis[tot]=true;\n\t\t\twhile(vis[tot])\n\t\t\t\ttot++; \n\t\t}\n\t}  \n\telse\n\t{\n\t\tfor(int i=0;i<cnt1;i++)\n\t\t\tans[a[i]]=i*3+1;\n\t\tfor(int i=0;i<cnt2;i++)\n\t\t\tans[b[i]]=i*3+2;\n\t\tfor(int i=cnt1;i<Asiz;i++)\n\t\t\tans[a[i]]=(tot++)*3;\n\t\tfor(int i=cnt2;i<Bsiz;i++)\n\t\t\tans[b[i]]=(tot++)*3;\n\t}\n}\nint main()\n{\n\tn=read();\n\tfor(int i=1;i<n;i++)\n\t{ \n\t\tint u=read();\n\t\tint v=read();\n\t\tadd(u,v);\n\t\tadd(v,u);\n\t}\n\tdfs(1,0,1);\n\twork();\n\tfor(int i=1;i<=n;i++)\n\t\tprintf(\"%d \",ans[i]);\n\treturn 0;\n}\n\n```",
        "postTime": 1630489718,
        "uid": 230804,
        "name": "Durancer",
        "ccfLevel": 4,
        "title": "\u3010\u9898\u89e3\u3011ThREE"
    },
    {
        "content": "# Solution AT5759 ThREE\n\n\u5f88\u663e\u7136\uff0c\u6211\u4eec\u6784\u9020\u7684\u6392\u5217\u4e2d\uff0c\u4e00\u5b9a\u6709 $a\\equiv0\\pmod{m}$ \u3001 $a\\equiv1\\pmod{m}$ \u548c $a\\equiv2\\pmod{m}$ \u8fd9\u4e09\u79cd\u60c5\u51b5\u3002\n\n\u6211\u4eec\u7528 $1,2,3$ \u5206\u522b\u8868\u793a\u9664 $3$ \u4f59 $1,2,3$ \u7684\u60c5\u51b5\u3002\n\n\u90a3\u4e48\uff0c\u5982\u679c\u8fd9\u662f\u4e00\u4e2a\u94fe\uff0c\u5c31\u5f88\u7b80\u5355\uff1a\u6309\u7167 $1,2,1,2,1,2...a,2$ \u7684\u987a\u5e8f\u6392\u5217\uff0c\u7136\u540e\uff0c0\u5c31\u53ef\u4ee5\u968f\u4fbf\u63d2\u5165(\u4efb\u4f55\u6570 $\\times0$ \u8fd8\u662f $0$ )\u3002\n\n\u90a3\u5982\u4f55\u6269\u5927\u5230\u4e00\u9897\u6811\uff1f\n\n\u53c2\u8003\u94fe\u7684\u60c5\u51b5\uff0c\u6df1\u5ea6\u4e3a\u5076\u6570\u7684\u586b $1$ \uff0c\u4e3a\u5947\u6570\u7684\u586b $0$ \u3002 $0$ \u4f9d\u65e7\u8fd8\u662f\u968f\u4fbf\u586b\u3002\n\n\u6240\u4ee5\u6211\u4eec\u9700\u8981\u8fdb\u884cdfs\u7b97\u51fa\u6bcf\u4e2a\u8282\u70b9\u7684\u6df1\u5ea6\u3002\n\n\u540c\u65f6\uff0c\u82e5\u4e2a\u6570\u8f83\u5c11\u7684\u90a3\u4e00\u7ec4\u4e2a\u6570 $\\leq n/3$ \uff0c\u6211\u4eec\u53ef\u4ee5\u4f18\u5148\u586b $0$ \u3002\u5bf9\u4e8e\u4e2a\u6570\u591a\u7684\u90a3\u4e00\u7ec4\uff0c\u6211\u4eec\u53ef\u4ee5\u4f18\u5148\u586b $1$ .\n\n\u53c2\u8003\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<vector>\nusing namespace std;\nint n,num[200005],ans[200005];\nvector<int> v[3],a[200005],c[2];\nvoid dfs(int x,int fa){\n\tnum[x]=num[fa]^1;\n\tc[num[x]].push_back(x);\n\tfor(int i=0;i<a[x].size();i++){\n\t\tint v=a[x][i];\n\t\tif(v!=fa) dfs(v,x);\n\t}\n}\nint main(){\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) v[i%3].push_back(i);\n\tfor(int i=1;i<n;i++){\n\t\tint v,w;\n\t\tcin>>v>>w;\n\t\ta[v].push_back(w);\n\t\ta[w].push_back(v);\n\t}\n\tdfs(1,0);\n\tif(c[0].size()>c[1].size()) swap(c[0],c[1]);\n\tif(c[0].size()<=n/3){\n\t\tfor(int i=0;i<c[0].size();i++){\n\t\t\tint w=c[0][i];\n\t\t\tans[w]=v[0].back();\n\t\t\tv[0].pop_back();\n\t\t}\n\t\tfor(int i=0;i<c[1].size();i++){\n\t\t\tint w=c[1][i];\n\t\t\tfor(int j=0;j<3;j++){\n\t\t\t\tif(v[j].size()){\n\t\t\t\t\tans[w]=v[j].back();\n\t\t\t\t\tv[j].pop_back();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\telse{\n\t\tfor(int i=0;i<c[0].size();i++){\n\t\t\tint w=c[0][i];\n\t\t\tif(v[1].size()){\n\t\t\t\tans[w]=v[1].back();\n\t\t\t\tv[1].pop_back();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfor(int j=0;j<3;j++){\n\t\t\t\t\tif(v[j].size()){\n\t\t\t\t\t\tans[w]=v[j].back();\n\t\t\t\t\t\tv[j].pop_back();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<c[1].size();i++){\n\t\t\tint w=c[1][i];\n\t\t\tfor(int j=0;j<3;j++){\n\t\t\t\tif(v[j].size()){\n\t\t\t\t\tans[w]=v[j].back();\n\t\t\t\t\tv[j].pop_back();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tcout<<ans[i]<<\" \";\n\t}\n\treturn 0;\n}\n```\n\n\u8c22\u8c22\u89c2\u770b",
        "postTime": 1626961999,
        "uid": 166234,
        "name": "Aiopr_2378",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 AT5759 ThREE"
    },
    {
        "content": "\u4e3a\u4e86\u65b9\u4fbf\uff0c\u4ee5\u4e0b\u79f0 $i$ \u8282\u70b9\u4e3a $i\\ \\bmod\\ 3$\u3002\n\n\u5bb9\u6613\u53d1\u73b0\uff0c\u53ea\u8981\u4e00\u4e2a\u70b9\u5bf9\u4e2d\u5b58\u5728 $0$ ,\u90a3\u4e48\u4e00\u5b9a\u53ef\u4ee5\u6ee1\u8db3\u6761\u4ef6\uff1b\u6240\u4ee5\u8003\u8651\u4e0d\u4f7f\u7528 $0$\uff0c\u5148\u4f7f\u7528 $1$\u3001$2$\u3002\n\n\u8981\u4f7f\u4e00\u4e2a\u8ddd\u79bb\u4e3a $3$ \u7684\u70b9\u5bf9\u7b26\u5408\u8981\u6c42\uff0c\u5fc5\u987b\u8ba9\u4e00\u4e2a\u4e3a $1$\uff0c\u4e00\u4e2a\u4e3a $2$\uff0c\u6240\u4ee5\u8981\u4f7f\u6240\u6709\u503c\u76f8\u540c\u7684\u70b9\u8ddd\u79bb**\u4e0d\u4e3a**$3$\u3002\n\n\u7531\u4e8e\u8ddd\u79bb $3$ \u662f\u5947\u6570\uff0c\u6240\u4ee5\u53ef\u4ee5\u5bf9\u6811\u8fdb\u884c\u9ed1\u767d\u67d3\u8272\uff0c\u5373\u4e0e\u4e00\u4e2a\u70b9\u76f8\u8fde\u7684\u70b9\u90fd\u4e0e\u5b83\u989c\u8272**\u4e0d\u540c**\u3002\u5982\u4e0b\u56fe\uff1a\n\n![\u9ed1\u767d](https://cdn.luogu.com.cn/upload/image_hosting/qswiclmn.png?x-oss-process=image/resize,m_lfit,h_200,w_225)\n\n\u6bcf\u4e2a\u8ddd\u79bb\u4e3a $3$ \u7684\u70b9\u5bf9\u989c\u8272\u4e0d\u540c\u3002\u5f88\u5bb9\u6613\u60f3\u5230\u9ed1\u767d\u5206\u522b\u5206\u914d\u7ed9 $1$\u3001 $2$\u3002\n\n\u4f46\u662f\uff0c\u8fd8\u6709 $0$ \u9700\u8981\u5206\u914d\uff01\n\n\u6240\u4ee5\u5206\u4e24\u79cd\u60c5\u51b5\uff1a\uff08\u9ed8\u8ba4\u9ed1\u70b9\u6570 $\\leq$ \u767d\u70b9\u6570\uff09\n\n$1.$ \u9ed1\u70b9\u6570 $\\leq \\displaystyle\\frac{n}{3}$\n\n\u8fd9\u65f6\uff0c $1$\u3001$2$ \u4e0d\u5747\u8861\uff0c\u5c06 $1$\u3001 $2$ \u600e\u4e48\u6309\u4e4b\u524d\u7684\u5206\u914d\u90fd\u4e0d\u884c\u3002\u6240\u4ee5\u8981\u7528 $0$ \u6765\u586b\u5145\u9ed1\u70b9\u3002\n\n$1$\u3001 $2$ \u548c\u5269\u4e0b\u7684 $0$ \u5168\u90e8\u585e\u8fdb\u767d\u70b9\u3002\u56e0\u4e3a\u53ea\u8981\u4e00\u4e2a\u70b9\u5bf9\u4e2d\u5b58\u5728 $0$ ,\u90a3\u4e48\u4e00\u5b9a\u53ef\u4ee5\u6ee1\u8db3\u6761\u4ef6\uff0c\u6240\u4ee5\u8fd9\u662f\u6210\u7acb\u7684\u3002\n\n$2$\u3001 \u9ed1\u70b9\u6570 $>\\displaystyle\\frac{n}{3}$\n\n\u53ef\u4ee5\u5148\u628a $1$\u3001$2$ \u63d2\u8fdb\u9ed1\u70b9\u3001\u767d\u70b9\uff0c\u7136\u540e\u628a $0$ \u586b\u8fdb\u9ed1\u70b9\u3001\u767d\u70b9\u5269\u4e0b\u7684\u3002\n\nTips:\u7528\u597d`auto`\u53ef\u4ee5\u5927\u5e45\u51cf\u5c11\u7801\u91cf\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nvector<int> v[3],c[3]/*\u989c\u8272\u7684\u70b9*/;\nint n;\nvector<int> e[200005];//\u56fe\nint P[200005],col[200005];//P\u7b54\u6848\uff0ccol\u989c\u8272\nvoid dfs(int u,int f){\n\tcol[u]=1-col[f];//\u4e0e\u7236\u4eb2\u70b9\u989c\u8272\u4e0d\u540c\n\tc[col[u]+1].push_back(u);//1:\u9ed1\u70b9\uff08\u989c\u82720\uff09\uff0c2\uff1a\u767d\u70b9\uff08\u989c\u82721\uff09\n\tfor(auto i:e[u])if(i!=f)dfs(i,u);\n}\nint main(){\n\tcin>>n;\n\tfor(int i=1;i<n;i++){\n\t\tint x,y;\n\t\tcin>>x>>y;\n\t\te[x].push_back(y);\n\t\te[y].push_back(x);\n\t}\n\tdfs(1,0);\n\tfor(int i=1;i<=n;i++)v[i%3].push_back(i);/*mod3=0\u30011\u30012\u7684\u6570*/\n\tif(c[1].size()>c[2].size())swap(c[2],c[1]);\n\tint cnt0=0,cnt1=0,cnt2=0;\n\tif(c[1].size()<=n/3){\n\t\tfor(auto i:c[1])P[i]=v[0][cnt0++];//\u5148\u586b\u51450\n\t\tfor(auto i:c[2]){\n\t\t\tif(cnt0<v[0].size())P[i]=v[0][cnt0++];//\u628a\u5269\u4e0b\u76840\u586b\u5145\u8fdb\u53bb\n\t\t\telse if(cnt1<v[1].size())P[i]=v[1][cnt1++];//\u586b\u51451\n\t\t\telse if(cnt2<v[2].size())P[i]=v[2][cnt2++];//\u586b\u51452\n\t\t}\n\t}\n\telse{\n\t\tfor(auto i:c[1]){\n\t\t\tif(cnt1<v[1].size())P[i]=v[1][cnt1++];//\u5148\u586b\u51451\n\t\t\telse P[i]=v[0][cnt0++];//\u5269\u4e0b\u7684\u586b\u51450\n\t\t}\n\t\tfor(auto i:c[2]){\n\t\t\tif(cnt2<v[2].size())P[i]=v[2][cnt2++];//\u5148\u586b\u51452\n\t\t\telse P[i]=v[0][cnt0++];//\u5269\u4e0b\u7684\u586b\u51450\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++)cout<<P[i]<<\" \";\n\treturn 0;\n}\n```",
        "postTime": 1627372497,
        "uid": 342076,
        "name": "British_Union",
        "ccfLevel": 5,
        "title": "AT5759"
    }
]