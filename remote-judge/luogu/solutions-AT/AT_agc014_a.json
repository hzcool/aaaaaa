[
    {
        "content": "## \u7b80\u8981\u5206\u6790\n\n~~\u8fd9\u9898\u76f4\u63a5\u6309\u7167\u9898\u610f\u66b4\u641c\u5c31\u53ef\u4ee5\u4e86\uff0c\u8fd9\u4e3a\u4ec0\u4e48\u4e0d\u4f1a\u8d85\u65f6\u5462\uff0c\u5c0f\u7f16\u4e5f\u5f88\u60ca\u8bb6\uff0c\u4f46\u4e8b\u5b9e\u5c31\u662f\u8fd9\u6837~~\n\n\u8bb2\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u81ea\u4fe1\u5730\u6253\u4e2a\u66b4\u641c\u4ea4\u4e0a\u53bb\n\n\u9898\u610f\u4e2d\u63d0\u5230\u6709\u53ef\u80fd\u4f1a\u65e0\u9650\u5faa\u73af\uff0c\u56e0\u6b64\u53ef\u4ee5\u60f3\u5230\u66b4\u529b\u53bb\u627e\u5faa\u73af\u8282\n\n\u65e2\u7136\u8981\u4f7f\u66b4\u529b\u627e\u5faa\u73af\u8282\u5224\u65e0\u89e3\u901a\u8fc7\u6b64\u9898\uff0c\u90a3\u4e48\u5f53\u6ca1\u6709\u5faa\u73af\u8282\u7684\u65f6\u5019\uff0c\u76f8\u4f3c\u7684\u641c\u7d22\u89c4\u6a21\u4e5f\u5fc5\u7136\u80fd\u901a\u8fc7\u6b64\u9898\n\n~~\u66f4\u591a\u7684\u662f\u4e00\u79cd\u505a\u9898\u76f4\u89c9\u5427~~\n\n## \u5b8c\u6574\u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\n#define ri register int\nusing namespace std;\nint a, b, c;\nstruct node\n{\n\tint a, b, c;\n\tinline bool operator<(const node &x) const\n\t{\n\t\treturn a ^ x.a ? a < x.a : b ^ x.b ? b < x.b : c < x.c;\n\t}\n\tinline bool operator!=(const node &x) const\n\t{\n\t\treturn a != x.a && b != x.b && c != x.c;\n\t}\n} t;\nmap<node, bool> mp;\ntemplate <typename T>\ninline void read(T &x)\n{\n\tregister T f = 0, c = getchar();\n\tfor (; c < 48 || 57 < c; c = getchar())\n\t\tif (c == '-')\n\t\t\tf = 1;\n\tfor (x = 0; 48 <= c && c <= 57; c = getchar())\n\t\tx = (x << 3) + (x << 1) + (c & 15);\n\tif (f)\n\t\tx = ~(--x);\n}\ntemplate <typename T>\ninline void print(T x)\n{\n\tif (x < 0)\n\t\tputchar('-'), x = ~(--x);\n\tif (x > 9)\n\t\tprint(x / 10);\n\tputchar(x % 10 | 48);\n}\nsigned main()\n{\n\tread(a), read(b), read(c);\n\tif ((a & 1) || (b & 1) || (c & 1))\n\t{\n\t\tputs(\"0\");\n\t\treturn 0;\n\t}\n\tfor (ri i = 1, ta, tb, tc;; ++i)\n\t{\n\t\tta = a >> 1, tb = b >> 1, tc = c >> 1;\n\t\ta = tb + tc, b = ta + tc, c = ta + tb;\n\t\tif ((a & 1) || (b & 1) || (c & 1))\n\t\t{\n\t\t\tprint(i);\n\t\t\treturn 0;\n\t\t}\n\t\tif (a > b)\n\t\t\ta ^= b ^= a ^= b;\n\t\tif (a > c)\n\t\t\ta ^= c ^= a ^= c;\n\t\tif (b > c)\n\t\t\tb ^= c ^= b ^= c;\n\t\tt = (node){a, b, c};\n\t\tif (mp[t])\n\t\t{\n\t\t\tputs(\"-1\");\n\t\t\treturn 0;\n\t\t}\n\t\tmp[t] = 1;\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1606736544,
        "uid": 51692,
        "name": "\u706b\u8f66\u53f8\u673a",
        "ccfLevel": 0,
        "title": "\u9898\u89e3-AT2373"
    },
    {
        "content": "## 1. Abstract\n\n\u8bb0\u4e00\u6b21\u53d8\u6362\u4e3a $(A,B,C)\\to (\\frac{A+B}{2},\\frac{B+C}{2},\\frac{C+A}{2})$\uff0c\u503c\u57df\u4e3a $v$\uff0c\u8fde\u7eed\u53d8\u6362\u81f3\u591a $O(\\log v)$ \u6b21\u5c31\u80fd\u5f97\u5230 $A=B=C$\u3002\n\n## 2. \u7b80\u7565\u7684\u8bc1\u660e\n\n\u6211\u4eec\u53ef\u4ee5\u7a0d\u5fae\u5199\u51fa $(A,B,C)$ \u53d8\u6362\u51e0\u6b65\u540e\u7684\u7ed3\u679c\uff1a$(\\frac{A+B}{2},\\frac{B+C}{2},\\frac{C+A}{2}), \\ (\\frac{2A+B+C}{4},\\frac{A+2B+C}{4},\\frac{A+B+2C}{4}) ,\\ (\\frac{2A+3B+3C}{8},\\frac{3A+2B+3C}{8},\\frac{3A+3B+2C}{8}) \\dots $\n\n\u8bbe\u53d8\u6362\u4e86 $n$ \u6b21\uff0c\u90a3\u4e48\u5206\u6bcd\u80af\u5b9a\u662f $2^n$\uff0c\u5206\u5b50\u4e0a $A,B,C$ \u7684\u7cfb\u6570\u5728\u4e09\u5143\u7ec4\u91cc\u662f\u5bf9\u79f0\u7684\uff0c\u4e14\u6709\u4e24\u4e2a\u7cfb\u6570\u662f\u76f8\u7b49\u7684\u3002\u8bbe\u7279\u6b8a\u7684\u7cfb\u6570\u4e3a $f_n$\uff0c\u53e6\u5916\u4e24\u4e2a\u76f8\u540c\u7684\u7cfb\u6570\u4e3a $g_n$\uff0c\u53ef\u4ee5\u5f97\u5230\u9012\u63a8\u5f0f\n\n$$ f_0=1,g_0=0 $$\n\n$$ f_n=2g_{n-1} $$\n\n$$ g_n=f_{n-1}+g_{n-1} $$\n\n\u53ef\u4ee5\u63a8\u5f97 $|f_n-g_n| \\leq 1$\u3002\u6211\u4eec\u518d\u8003\u5bdf\u4e09\u5143\u7ec4\u4e2d\u4e24\u4e2a\u6570\u7684\u5dee\uff0c\u4e0d\u59a8\u53d6 $\\frac{f_nA+g_nB+g_nC}{2^n}$ \u4e0e $\\frac{g_nA+f_nB+g_nC}{2^n}$\uff0c\u505a\u5dee\u540e\u53d1\u73b0\n\n$$ |\\frac{f_nA+g_nB+g_nC}{2^n}-\\frac{g_nA+f_nB+g_nC}{2^n}|=|\\frac{(f_n-g_n)A+(g_n-f_n)B}{2^n}|=|\\frac{A-B}{2^n}| $$\n\n\u5982\u679c\u53d1\u73b0\u53d8\u6362\u65f6\u4e09\u5143\u7ec4\u4e2d\u51fa\u73b0\u4e86\u5947\u6570\uff0c\u90a3\u4e48\u5728\u53d8\u6362\u4e2d\u9014\u5c31\u80fd\u8f93\u51fa\u82b1\u7684\u6b65\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u80fd\u7ee7\u7eed\u53d8\u6362\u4e00\u5b9a\u4fdd\u8bc1 $|\\frac{A-B}{2^n}|$ \u4e3a\u6574\u6570\uff0c\u8981\u4f7f\u5f97\u5dee\u4e0d\u4e3a\u6574\u6570\u5c31\u8981\u64cd\u4f5c $O(\\log \\max\\{|A-B|,|B-C|,|C-A|\\})=O(\\log v)$ \u6b21\uff0c\u800c $A=B=C$ \u65f6\u5c31\u53ef\u4ee5\u8f93\u51fa $-1$ \u4e86\uff0c\u56e0\u6b64\u76f4\u63a5\u6a21\u62df\u590d\u6742\u5ea6\u662f $O(\\log v)$ \u7684\u3002\n\n## 3. \u4e0d\u91cd\u8981\u7684\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\ntypedef long long ll;\n\nll a,b,c;\nint ans;\n\nll RAND(int x)\n{\n\tll ret=0;\n\tfor(int i=1;i<=x;i++) ret=ret*10+rand()%10;\n\treturn ret;\n}\n\nint main()\n{\n\t/*a=1,b=0,c=1;\n\tprintf(\"(%lld,%lld,%lld) mod %lld = (%lld,%lld,%lld)\\n\",a,b,b,c,a%c,b%c,b%c);\n\tfor(int i=1;i<=20;i++)\n\t{\n\t\tll A=2*b,B=a+b;\n\t\ta=A,b=B;\n\t\tc<<=1;\n\t\tprintf(\"(%lld,%lld,%lld) mod %lld = (%lld,%lld,%lld)\\n\",a,b,b,c,a%c,b%c,b%c);\n\t}\n\tsrand(unsigned(time(0)));\n\ta=RAND(6)*1024,b=RAND(6)*1024,c=RAND(6)*1024;\n\tprintf(\"%lld %lld %lld\\n\",a,b,c);\n\tfor(int i=1;i<=40;i++)\n\t{\n\t\t//if(a&1 || b&1 || c&1) break;\n\t\tll A=a,B=b,C=c;\n\t\ta=(B+C)>>1;\n\t\tb=(A+C)>>1;\n\t\tc=(A+B)>>1;\n\t\tprintf(\"%lld %lld %lld\\n\",a,b,c); \n\t}*/\n\tscanf(\"%lld %lld %lld\",&a,&b,&c);\n\twhile(1)\n\t{\n\t\tif(a&1 || b&1 || c&1) break;\n\t\tif(a==b && b==c) return printf(\"-1\\n\"),0;\n\t\tll A=a,B=b,C=c;\n\t\ta=(B+C)>>1;\n\t\tb=(A+C)>>1;\n\t\tc=(A+B)>>1;\n\t\t++ans;\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1641022855,
        "uid": 54591,
        "name": "Seauy",
        "ccfLevel": 9,
        "title": "[AGC014A] Cookie Exchanges \u7684\u9898\u89e3"
    }
]