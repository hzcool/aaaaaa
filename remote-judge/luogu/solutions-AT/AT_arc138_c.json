[
    {
        "content": "\u63d0\u4f9b\u4e00\u4e2a\u65e0\u8111\u505a\u6cd5\u3002\n\n\u9996\u5148\u89c2\u5bdf\u6837\u4f8b\u53ef\u4ee5\u731c\u6d4b\u6211\u4eec\u5fc5\u7136\u53ef\u4ee5\u53d6\u5230\u524d $\\dfrac n2$ \u5927\u7684\u6570\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u53ef\u4ee5\u628a\u6570\u5217\u91cd\u6807\u53f7\u6210 $0/1$\uff08\u4e0d\u662f/\u662f\u524d $\\dfrac n2$ \u5927\u7684\u6570\uff09\u3002\n\n\u8003\u8651\u679a\u4e3e\u504f\u79fb\u91cf\uff0c\u5bf9\u4e8e\u5f53\u524d\u5e8f\u5217\uff0c\u8bbe $c_{0/1}$ \u8868\u793a\u5f53\u524d\u6570\u524d\u9762 $0/1$ \u7684\u6570\u91cf\uff0c\u5982\u679c\u5bf9\u4e8e\u67d0\u4e2a $1$\uff0c$c_0<c_1$\uff0c\u90a3\u8fd9\u4e2a $1$ \u80af\u5b9a\u4f1a\u88ab\u5bf9\u65b9\u5220\u6389\uff08\u56e0\u4e3a\u628a\u5b83\u524d\u9762 $c_0$ \u4e2a $1$ \u5220\u5b8c\u540e\uff0c\u5269\u4e0b\u7684\u662f\u4e00\u6bb5\u8fde\u7eed\u7684 $1$\uff0c\u5fc5\u7136\u4f1a\u5bfc\u81f4\u6709 $1$ \u88ab\u5bf9\u65b9\u5220\u6389\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u6bcf\u4e2a $1$ \u90fd\u6ee1\u8db3 $c_0\\ge c_1$\u3002\n\n\u8003\u8651\u5bf9\u6bcf\u4e2a $1$ \u7ef4\u62a4 $b_i=c_0-c_1$\u3002\u6761\u4ef6\u53d8\u6210\u4e86 $\\min(b_i)\\ge 0$\uff0c\u800c\u5bf9\u4e8e\u4e00\u6b21\u504f\u79fb\uff0c\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\n\n- $a_1=0$\uff1a\u76f8\u5f53\u4e8e\u6bcf\u4e2a $1$ \u7684 $c_0$ \u90fd\u51cf\u4e00\uff0c\u76f8\u5e94\u7684\uff0c$b_i$ \u4e5f\u8981\u51cf\u4e00\u3002\n- $a_1=1$\uff1a\u76f8\u5f53\u4e8e\u9664\u4e86\u8fd9\u4e2a $1$ \u4ee5\u5916\u7684 $c_1$ \u90fd\u51cf\u4e00\uff0c\u76f8\u5e94\u7684\uff0c$b_i$ \u9700\u8981\u52a0\u4e00\u3002\u7279\u522b\u7684\uff0c\u5bf9\u4e8e\u5f53\u524d\u8fd9\u4e2a $1$\uff0c\u5b83\u7684 $b_i$ \u663e\u7136\u4e3a $1$\uff08$c_0=\\dfrac n2,c_1=\\dfrac n2-1$\uff09\u3002\n\n\u7531\u6b64\uff0c\u6211\u4eec\u53ea\u9700\u8981\u652f\u6301\u5168\u5c40\u52a0\u51cf\uff0c\u5355\u70b9\u8d4b\u503c\uff0c\u5168\u5c40 $\\min$ \u5373\u53ef\uff0c\u53ef\u4ee5\u4f7f\u7528\u7ebf\u6bb5\u6811\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log n)$\u3002\n\n```cpp\n#include <algorithm>\n#include <iostream>\n\nusing namespace std;\nusing LL = long long;\n\nconst int kN = 2e5 + 1;\n\nint n, a[kN], d[kN], _v[kN], v[kN << 2], bd;\nLL ans;\n\nvoid B(int x, int l, int r) {\n  if (l == r) {\n    v[x] = _v[l];\n    return;\n  }\n  int m = l + r >> 1;\n  B(x * 2, l, m), B(x * 2 + 1, m + 1, r);\n  v[x] = min(v[x * 2], v[x * 2 + 1]);\n}\nvoid U(int x, int l, int r, int t, int _v) {\n  if (l == r) {\n    v[x] = _v;\n    return;\n  }\n  int m = l + r >> 1;\n  if (t <= m) {\n    U(x * 2, l, m, t, _v);\n  } else {\n    U(x * 2 + 1, m + 1, r, t, _v);\n  }\n  v[x] = min(v[x * 2], v[x * 2 + 1]);\n}\n\nint main() {\n  ios_base::sync_with_stdio(0), cin.tie(0), cout.tie(0);\n  cin >> n;\n  for (int i = 1; i <= n; ++i) {\n    cin >> a[i];\n    d[i] = i;\n  }\n  sort(d + 1, d + n + 1, [](int i, int j) { return a[i] < a[j]; });\n  for (int i = 1; i <= n / 2; ++i) {\n    a[d[i]] = 0;\n  }\n  for (int i = n / 2 + 1; i <= n; ++i) {\n    ans += a[d[i]];\n    a[d[i]] = 1;\n  }\n  sort(d + n / 2 + 1, d + n + 1);\n  for (int i = 1, c[2] = {0}, j = 0; i <= n; ++i) {\n    ++c[a[i]];\n    _v[d[i] = ++j] = c[0] - c[1];\n  }\n  B(1, 1, n);\n  for (int k = 0; k < n; ++k) {\n    if (v[1] + bd >= 0) {\n      cout << k << ' ' << ans;\n      return 0;\n    }\n    if (a[k + 1]) {\n      U(1, 1, n, d[k + 1], -bd);\n      ++bd;\n    } else {\n      --bd;\n    }\n  }\n  return 0;\n}\n```",
        "postTime": 1676522038,
        "uid": 376161,
        "name": "wsfxk",
        "ccfLevel": 6,
        "title": "[ARC138C] Rotate and Play Game \u9898\u89e3"
    },
    {
        "content": "**\u8fd9\u91cc\u662f uid=443664 \u7684\u5c0f\u53f7\uff0c\u5979\u60f3\u4fdd\u6301\u6a59\uff0c\u4f46\u5979\u559c\u6b22\u8fd9\u9053\u9898\uff0c\u60f3\u4e3a\u8fd9\u9898\u5199\u9898\u89e3\uff0c\u6709\u95ee\u9898\u8bf7\u76f4\u63a5\u627e\u5927\u53f7\u8054\u7cfb\u3002**\n\n\u9898\u610f\uff1aA \u5148\u624b\u73a9\u6e38\u620f\u3002\u6709 $n$ \u4e2a\u6570 $a_1-a_n$\uff0cA \u6bcf\u6b21\u53ef\u4ee5\u4efb\u610f\u53d6\u4e00\u4e2a\u6570\uff0cB \u6bcf\u6b21\u4f1a\u53d6\u6ca1\u6709\u88ab\u53d6\u7684\u6570\u4e2d\u4e0b\u6807\u6700\u5c0f\u7684\u4e00\u6570\u3002\u4fdd\u8bc1 $n$ \u4e3a\u5076\u6570\u3002\u6700\u5927\u5316 A \u62ff\u5230\u7684\u6570\u5b57\u548c\u3002A \u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u6570\u5b57 $k \\in [0,n)$\uff0c\u628a\u7b2c $1$ \u81f3\u7b2c $k$ \u4e2a\u6570\u4f9d\u6b21\u63d0\u5230\u6570\u7ec4\u7684\u6700\u540e\u9762\u3002\u6c42 $k$ \u4e0e\u6700\u5927\u5316\u6570\u5b57\u548c\u3002\n\n\u9996\u5148\u6211\u4eec\u731c\u6d4b\uff0c\u6700\u5927\u7684 $n/2$ \u4e2a\u6570\u5b57\u53ef\u4ee5\u88ab\u4e00\u8d77\u9009\u8d70\u3002\n\n\u5229\u7528\u90a3\u4e2a\u5927\u4e00\u70b9\u7684\u6837\u4f8b\u4e00\u8bd5\uff0c\u8fd8\u771f\u53ef\u4ee5\uff01\n\n\u90a3\u4e48\uff0c\u5982\u4f55\u6784\u9020\u8fd9\u6837\u7684 $k$ \u5462\uff1f\n\n\u6570\u5b57\u5927\u5c0f\u5df2\u7ecf\u4e0d\u91cd\u8981\u4e86\uff0c\u6309\u7167\u5b83\u4eec\u662f\u5426\u662f\u6700\u5927\u7684 $n/2$ \u4e2a\u6570\uff0c\u6211\u4eec\u628a\u5b83\u4eec\u66ff\u6362\u4e3a $0/1$\u3002\n\nA \u4e0d\u80fd\u8ba9 B \u53d6\u5230 $1$\u3002\u5982\u679c\u7b2c $i$ \u6b65\u65f6\u5931\u8d25\u4e86\uff0c\u8bf4\u660e\u524d $2i$ \u4e2a\u6570\u4e2d $1$ \u7684\u4e2a\u6570\u8d85\u8fc7 $0$ \u7684\u4e2a\u6570\u3002\n\n\u4e0d\u59a8\u628a\u6761\u4ef6\u653e\u5bbd\u70b9\uff0c\u6211\u4eec\u5c1d\u8bd5\u8ba9\u524d\u7f00\u7684\u4efb\u610f $i$ \u4e2a\u6570 $1$ \u7684\u4e2a\u6570\u4e0d\u591a\u4e8e $0$ \u7684\u4e2a\u6570\u3002\n\n\u770b\u5230\u4e0d\u591a\u4f59\u4e0e\u524d\u7f00\uff0c\u5c31\u60f3\u5230 Catalan\uff0c\u5c31\u60f3\u5230\u6298\u7ebf\u56fe\u3002\n\n\u4e0a\u6298\u7ebf\u56fe\uff0c$1$ \u8868\u793a\u5f80\u4e0a\u8d70\u4e00\u6b65\uff0c$0$ \u8868\u793a\u5f80\u4e0b\u8d70\u4e00\u6b65\u3002\u5219\u6298\u7ebf\u56fe\u4e0d\u80fd\u8d70\u5230 $0$ \u4e4b\u4e0a\u3002\n\n\u53ea\u8981\u4ece\u6298\u7ebf\u56fe\u7684\u6700\u9ad8\u70b9\u51fa\u53d1\uff0c\u5c31\u4e00\u5b9a\u4e0d\u4f1a\u8d70\u5230 $0$ \u4e4b\u4e0a\u3002\u56e0\u4e3a\u8d77\u70b9\u7ec8\u70b9\u7684\u9ad8\u5ea6\u90fd\u662f $0$\uff0c\u524d\u9762\u4efb\u610f\u6570\u653e\u5230\u6700\u540e\u9762\u65f6\u9ad8\u5ea6\u90fd\u662f\u539f\u6709\u9ad8\u5ea6\uff0c\u6240\u4ee5\u4e0d\u4f1a\u8d85\u8fc7\u539f\u6298\u7ebf\u56fe\u6700\u9ad8\u70b9\u3002\n\n\u4e0a\u9762\u8bf4\u53ef\u80fd\u6709\u70b9\u62bd\u8c61\uff0c\u6765\u70b9\u5177\u4f53\u4f8b\u5b50\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qons7ob9.png)\n\n\u4e0a\u9762\u662f $6$ \u4e2a\u6570\u7684\u4e00\u4e2a\u4f8b\u5b50\uff08\u8bf7\u5ffd\u7565\u6807\u53f7\u6df7\u4e71\uff09\uff0c\u5bf9\u5e94\u6570\u7ec4 $[1,0,1,1,0,0]$\n\n\u6ce8\u610f\u5230 A5 \u662f\u6700\u9ad8\u70b9\uff0c\u6240\u4ee5\u5e94\u5f53\u8ba9\u65b0\u6570\u7ec4\u4ece A5 \u5f00\u59cb\uff0c\u4e3a $[0,0,1,0,1,1]$\u3002\n\n\u7ed3\u675f\u3002\n\n[code](https://atcoder.jp/contests/arc138/submissions/33912408)\n\nCSP2022 rp++",
        "postTime": 1666701392,
        "uid": 649485,
        "name": "purple_vine",
        "ccfLevel": 0,
        "title": "arc138C \u9898\u89e3"
    }
]