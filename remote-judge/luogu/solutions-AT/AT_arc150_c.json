[
    {
        "content": "\u7531\u4e8e\u5b50\u5e8f\u5217\u5339\u914d\u662f\u8d2a\u5fc3\u80fd\u5339\u914d\u5c31\u5339\u914d\uff0c\u6240\u4ee5\u60f3\u8981\u5224\u65ad\u4e00\u4e2a\u70b9 $u$ \u662f\u5426\u6709\u4e00\u6761\u5230 $n$ \u7684\u5931\u914d\u7684\u8def\u5f84\uff0c\u6700\u4f18\u4e00\u5b9a\u662f\u9009\u62e9\u5df2\u7ecf\u5339\u914d\u4e2a\u6570\u6700\u5c11\u7684\u90a3\u6761\u8def\u5f84\u7ee7\u7eed\u5f80\u540e\u8d70\u3002\n\n\u6240\u4ee5\u4ee4 $dis_u$ \u4e3a $1$ \u70b9\u8d70\u5230 $u$ \u70b9\u662f\u6700\u77ed\u5df2\u7ecf\u5339\u914d\u5230\u4e86 $B$ \u7684\u54ea\u4e2a\u524d\u7f00\u3002\u7136\u540e $(u,v)\\in E$ \u5219\u66f4\u65b0 $dis_v\\gets dis_u+[B_{dis_u+1}=A_v]$\uff0e\u5982\u679c\u6ce8\u610f\u5230\u8fb9\u6743\u4ec5\u4e0e $dis_u$ \u6709\u5173\u800c\u4e0e $u$ \u65e0\u5173\uff0c\u6240\u4ee5\u6bcf\u4e2a\u70b9\u53ea\u6709\u5728\u7b2c\u4e00\u6b21\u65f6\u88ab\u677e\u5f1b\u624d\u662f\u6709\u7528\u7684\uff0c\u6545 Dijkstra \u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $\\mathcal{O}(N\\log N+M+K)$\uff0c\u4f7f\u7528 01 bfs \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $\\mathcal{O}(N+M+K)$\uff0e\n\n```cpp\n#include<cstdio>\n#include<vector>\n#include<queue>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<ctime>\n#include<random>\n#include<assert.h>\n#define pb emplace_back\n#define mp make_pair\n#define fi first\n#define se second\n#define dbg(x) cerr<<\"In Line \"<< __LINE__<<\" the \"<<#x<<\" = \"<<x<<'\\n'\n#define dpi(x,y) cerr<<\"In Line \"<<__LINE__<<\" the \"<<#x<<\" = \"<<x<<\" ; \"<<\"the \"<<#y<<\" = \"<<y<<'\\n'\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int,int>pii;\ntypedef pair<ll,int>pli;\ntypedef pair<ll,ll>pll;\ntypedef pair<int,ll>pil;\ntypedef vector<int>vi;\ntypedef vector<ll>vll;\ntypedef vector<pii>vpii;\ntypedef vector<pil>vpil;\ntemplate<typename T>T cmax(T &x, T y){return x=x>y?x:y;}\ntemplate<typename T>T cmin(T &x, T y){return x=x<y?x:y;}\ntemplate<typename T>\nT &read(T &r){\n\tr=0;bool w=0;char ch=getchar();\n\twhile(ch<'0'||ch>'9')w=ch=='-'?1:0,ch=getchar();\n\twhile(ch>='0'&&ch<='9')r=r*10+(ch^48),ch=getchar();\n\treturn r=w?-r:r;\n}\ntemplate<typename T1,typename... T2>\nvoid read(T1 &x,T2& ...y){read(x);read(y...);}\nconst int mod=998244353;\ninline void cadd(int &x,int y){x=(x+y>=mod)?(x+y-mod):(x+y);}\ninline void cdel(int &x,int y){x=(x-y<0)?(x-y+mod):(x-y);}\ninline int add(int x,int y){return (x+y>=mod)?(x+y-mod):(x+y);}\ninline int del(int x,int y){return (x-y<0)?(x-y+mod):(x-y);}\nint qpow(int x,int y){\n\tint s=1;\n\twhile(y){\n\t\tif(y&1)s=1ll*s*x%mod;\n\t\tx=1ll*x*x%mod;\n\t\ty>>=1;\n\t}\n\treturn s;\n}\n#define Win do{puts(\"Yes\");return ;}while(0)\n#define Lose do{puts(\"No\");return ;}while(0)\n#define Alice do{puts(\"Alice\");return ;}while(0)\n#define Bob do{puts(\"Bob\");return ;}while(0)\n#define Line cerr << \"----------\\n\"\nconst int N=200010;\nconst int inf=0x7fffffff;\nint n,m,k,a[N],b[N];\nint dis[N],vis[N];\nvi eg[N];\nvoid solve(){\n\tread(n,m,k);\n\tfor(int i=1,x,y;i<=m;i++){\n\t\tread(x,y);\n\t\teg[x].pb(y);\n\t\teg[y].pb(x);\n\t}\n\tfor(int i=1;i<=n;i++)read(a[i]),dis[i]=inf;\n\tfor(int i=1;i<=k;i++)read(b[i]);\n\tdis[1]=a[1]==b[1];\n\tpriority_queue<pii,vector<pii>,greater<pii>>q;\n\tq.push(mp(dis[1],1));\n\twhile(!q.empty()){\n\t\tint x=q.top().se;q.pop();\n\t\tif(vis[x])continue;\n\t\tvis[x]=1;\n\t\tfor(auto v:eg[x]){\n\t\t\tint w=dis[x]+(a[v]==b[dis[x]+1]);\n\t\t\tif(dis[v]==inf)dis[v]=w,q.push(mp(dis[v],v));\n\t\t}\n\t}\n\tif(dis[n]>=k)Win;\n\tLose;\n}\nsigned main(){\n\t#ifdef do_while_true\n//\t\tassert(freopen(\"data.in\",\"r\",stdin));\n//\t\tassert(freopen(\"data.out\",\"w\",stdout));\n\t#endif\n\tint T=1;\n//\tread(T);\n\twhile(T--){\n\t\tsolve();\n//\t\tLine;\n\t}\n    #ifdef do_while_true\n\t\tcerr<<'\\n'<<\"Time:\"<<1.0*clock()/CLOCKS_PER_SEC*1000<<\" ms\"<<'\\n';\n\t#endif\n\treturn 0;\n}\n```",
        "postTime": 1668414355,
        "uid": 223298,
        "name": "do_while_true",
        "ccfLevel": 8,
        "title": "\u300c\u9898\u89e3\u300dARC150C Path and Subsequence"
    },
    {
        "content": "\u9898\u610f\uff1a\u4e00\u5f20 $n$ \u4e2a\u70b9 $m$ \u8fb9\u7684\u56fe\uff0c\u70b9\u6709\u70b9\u6743 $A_i$ \uff0c\u6c42\u627e\u51fa\u4e00\u6761 $1\\to n$ \u7684\u8def\u5f84\u4f7f\u5f97 $B$ \u5e8f\u5217\u4e0d\u662f\u8def\u5f84\u4e0a\u6240\u6709\u70b9\u6743\u7ec4\u6210\u7684\u5b50\u5e8f\u5217\u3002$n\\le 10^5$ \u3002\n\n\u9898\u89e3\uff1a\u53ef\u4ee5\u89c2\u5bdf\u5230\u8fd9\u6837\u7684\u8def\u5f84\u53d6\u7b80\u5355\u8def\u5f84\u4e00\u5b9a\u6bd4\u8d70\u4e00\u904d\u6216\u8005\u4e24\u904d\u73af\u4f1a\u66f4\u4f18\u3002\n\n\u89c2\u5bdf\u5b50\u5e8f\u5217\u81ea\u52a8\u673a\u7b97\u6cd5\uff0c\u5b83\u662f\u5230\u4e86\u67d0\u4e2a\u4f4d\u7f6e\u5339\u914d\u5230 $B$ \u7684\u7b2c\u51e0\u4f4d\uff0c\u8d8a\u9ad8\u8d8a\u597d\u3002\n\n\u56e0\u4e3a\u672c\u9898\u4e4b\u4e2d\u8981\u4e0d\u80fd\u4f7f\u8be5\u8def\u5f84\u5339\u914d\uff0c\u8fdb\u800c\u63a8\u51fa\u4ece\u8d77\u70b9\u5230\u4e86\u67d0\u4e00\u4e2a\u70b9\u5339\u914d $B$ \u4e2d\u5143\u7d20\u8d8a\u5c11\u8d8a\u597d\u3002\n\n\u6240\u4ee5\u8bbe\u7f6e $d[x]$ \u4e3a\u4ece $1$ \u5230\u8fbe $x$ \u8def\u5f84\u6700\u5c11\u5339\u914d\u5230 $B$ \u7684\u7b2c $d[x]$ \u4f4d\u3002\u8f6c\u79fb\u6613\uff0c\u4f7f\u7528 dijkstra \u7b97\u6cd5\u8ba1\u7b97\u6700\u77ed\u8def\u5373\u53ef\u3002\n\n```cpp\nconst I maxn=1e5+10,maxm=4e5+10;\nI d[maxn],n,m,k,a[maxn],b[maxn];\nI Ey[maxm],NX[maxm],HD[maxn],Ec;\nvoid conn(I x,I y){\n\tEy[++Ec]=y;NX[Ec]=HD[x];HD[x]=Ec;\n}priority_queue<pair<I,I> >pq;\nbool bz[maxn];\nint main(){\n\tin(n,m,k);\n\tfor(I i=1,x,y;i<=m;++i){\n\t\tin(x,y);\n\t\tconn(x,y);\n\t\tconn(y,x);\n\t}for(I i=1;i<=n;++i)in(a[i]);\n\tfor(I i=1;i<=k;++i)in(b[i]);\n\tb[k+1]=-inf;\n\tmemset(d,0x3f,sizeof(d));\n\td[1]=(a[1]==b[1])?1:0;\n\tpq.push(make_pair(-d[1],1));\n\twhile(pq.size()){\n\t\tI x=pq.top().second,y,z;pq.pop();\n\t\tif(bz[x])continue;\n\t\tbz[x]=1;\n\t\tfor(I i=HD[x];i;i=NX[i]){\n\t\t\ty=Ey[i];\n\t\t\tif(d[y]>d[x]+(z=(a[y]==b[d[x]+1]?1:0))){\n\t\t\t\td[y]=d[x]+z;\n\t\t\t\tpq.push(make_pair(-d[y],y));\n\t\t\t}\n\t\t}\n\t}puts(d[n]==k?\"Yes\":\"No\");\n\treturn 0;\n}\n\n```",
        "postTime": 1667703335,
        "uid": 121995,
        "name": "SmallTualatin",
        "ccfLevel": 0,
        "title": "[ARC150C] Path and Subsequence \u9898\u89e3"
    },
    {
        "content": "- \u5e86\u795d AT \u590d\u6d3b\uff0c\u4ece\u505a\u9898\u8bb0\u5f55\u4e2d\u642c\u4e00\u9053\u6700\u8fd1\u7684\u9898\u5f53\u9898\u89e3\u3002\n- \u9898\u610f\u7b80\u8ff0\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u6570\u7ec4 $B$ \u548c\u4e00\u5f20\u70b9\u5e26\u70b9\u6743\u7684\u56fe\uff0c\u8be2\u95ee\u662f\u5426\u300c\u6240\u6709\u4ece $1$ \u5230 $n$ \u7684\u8def\u5f84\u4e0a\u4f9d\u6b21\u7ecf\u8fc7\u7684\u70b9\u7684\u70b9\u6743\u5f62\u6210\u7684\u5e8f\u5217\u300d\u90fd\u542b\u6709 $B$ \u4f5c\u4e3a\u5b50\u5e8f\u5217\u3002\n- \u5982\u4f55\u5224\u65ad\u4e00\u4e2a\u4e32 $S$ \u662f\u5426\u662f\u53e6\u4e00\u4e2a\u4e32 $T$ \u7684\u5b50\u5e8f\u5217\uff1f\u8003\u8651\u9010\u4f4d\u5339\u914d $T$ \u548c $S$\uff0c\u5f00\u4e00\u4e2a\u8ba1\u6570\u6570\u7ec4 $cnt$\uff0c\u8868\u793a $T[1 \\dots n]$ \u6700\u591a\u548c $S$ \u5339\u914d\u51e0\u4f4d\uff0c\u8f6c\u79fb $cnt_i = cnt_{i-1} + [S_{cnt_{i-1}+1}=T_i]$\u3002\n- \u73b0\u5728\u662f\u6240\u6709\u4e86\uff0c\u600e\u4e48\u505a\u5462\uff1f\n- \u76f4\u63a5\u4fee\u6539\u72b6\u6001\u4e3a\u6700\u5c11\u5339\u914d\u51e0\u4f4d\uff0c\u67e5\u770b\u7b54\u6848\u662f\u5426\u4e0e $B$ \u6570\u7ec4\u7b49\u957f\u5373\u53ef\u3002\n- \u72b6\u6001\u8f6c\u79fb\u5e94\u53d8\u6210 $\\min$\u3002\n- \u8fd9\u662f\u65e0\u5411\u56fe\uff0c\u4e0d\u5e94\u8349\u7387\u6309\u7167\u8282\u70b9\u4e0e\u539f\u70b9\u6700\u77ed\u8def\u6392\u5e8f\u5904\u7406\uff0c\u800c\u5e94\u8be5\u8d2a\u5fc3\u5730\u9009\u62e9 $cnt_i$ \u6700\u5c0f\u7684\u8282\u70b9\u8fdb\u884c\u8f6c\u79fb\uff0c\u4f7f\u5f97\u8fd9\u4e2a\u8282\u70b9\u4e00\u5b9a\u4e0d\u4f1a\u88ab\u540e\u9762\u66f4\u65b0\u3002\uff08\u65e0\u6709\u6548\u6027\uff09\n- \u6700\u540e\u7684\u8f6c\u79fb\u516c\u5f0f $cnt_u = \\min \\{ {cnt_v + [A_u = B_{cnt_v+1}]} \\}$\uff0c$A$ \u4e3a\u70b9\u6743\u6570\u7ec4\u3002\u6ce8\u610f\u8fd9\u91cc\u7684\u66f4\u65b0\u987a\u5e8f\u662f\u7528 $v$ \u66f4\u65b0 $u$\u3002\n- [code](https://atcoder.jp/contests/arc150/submissions/35573816)",
        "postTime": 1666427402,
        "uid": 443664,
        "name": "Missa",
        "ccfLevel": 0,
        "title": "arc150C \u9898\u89e3"
    }
]