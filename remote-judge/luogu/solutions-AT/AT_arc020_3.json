[
    {
        "content": "## Definition\n\n### \u9898\u76ee\u63cf\u8ff0\n\n\u7ed9\u51fa\u4e24\u4e2a\u6574\u6570$A$\u548c$B$\uff0c\u4e24\u4e2a\u6570\u5747\u4e3a$10$\u8fdb\u5236\u7684\n\n$100$\u5206\u4e2d$99$\u5206\u7684\u6d4b\u8bd5\u6837\u4f8b\u4e2d\u6ee1\u8db3$B=1000000007(1e9 + 7)$\n\n\u6574\u6570$A$\u975e\u5e38\u5927\uff0c\u4e14\u90e8\u5206\u5177\u6709\u5468\u671f\u6027\uff0c\u4ee5\u4e0b\u5217\u5f62\u5f0f\u7ed9\u51fa\n\n\u7ed9\u6574\u6570$N$\u3001$a_1,a_2,a_3,\\cdots,a_N$\u4ee5\u53ca$L_1,L_2,L_3,\\cdots.L_N$\u8fd9\u610f\u5473\u7740\u6574\u6570$A$\u662f\u7531$a_1$\u4e2a$L_1$,$a_2$\u4e2a$L_2$,$\\cdots$,$a_N$\u4e2a$L_N$\u7ec4\u6210\u7684\n\n\u4f8b\u5982$N=3,a=\\{123, 4, 56\\},L=\\{2, 2, 1\\},B=1000000007$\n\u65f6$A=1231234456$\uff0cA\u9664\u4ee5B\u7684\u4f59\u6570\u5c31\u662f$231234449$\n\n### \u8f93\u5165\u683c\u5f0f\n\n\u8f93\u5165\u4ee5\u4ee5\u4e0b\u5f62\u5f0f\u8f93\u5165\n\n```\nN\na1 L1\na2 L2\n...\naN LN\nB\n```\n\n\u7b2c$1$\u884c\u8f93\u5165\u4e00\u4e2a\u6574\u6570\u8868\u793a\u6574\u6570($N$)\u7684\u957f\u5ea6\n\n\u7b2c$2$\u884c\u81f3$N+1$\u884c\uff0c\u63d0\u4f9b\u5173\u4e8e\u6574\u6570$A$\u7684\u4fe1\u606f\uff0c\u5176\u4e2d\uff0c\u5728\u7b2c$i$\u884c\uff0c\u8f93\u5165\u4e24\u4e2a\u6574\u6570$a_i(1\\le a_i\\le 10^9)$\u548c$L_i(1\\le L_i\\le 10^9)$\u8868\u793a\u5c06$a_i$\u5faa\u73af$L_i$\u904d\u653e\u5230$A$\u7684\u540e\u9762\n\n\u7b2c$N+2$\u884c\u7ed9\u51fa$B(1\\le B\\le 1000000007(1e9+7)\\ )$\n\n### \u8f93\u51fa\u683c\u5f0f\n\n\u5c06$A$\u9664\u4ee5$B$\u7684\u4f59\u6570\u8f93\u51fa\uff0c\u5728\u8f93\u51fa\u7684\u672b\u5c3e\u52a0\u5165\u6362\u884c\u7b26\n\n### \u6837\u4f8b\u8bf4\u660e\n\n\u6837\u4f8b\u6bd4\u8f83\u591a\uff0c\u6b64\u5904\u4ec5\u8bf4\u660e\u6837\u4f8b3\u548c\u6837\u4f8b4\n\n### \u6837\u4f8b3\n\n$N=1$\n\n$a=\\{123456789\\},L=\\{10000\\}$\n\n$B=1000000007$\n\n\u6b64\u65f6$A=\\overbrace{123456789\\cdots123456789}^{10000\\text{\u4e2a}}$\n\n\u6240\u4ee5$A$\u9664\u4ee5$B$\u7684\u4f59\u6570\u4e3a$372735614\n$\n\n### \u6837\u4f8b4\n\n$N=4$\n\n$a=\\{810143056,881671422,1639053,1657560\\},L=\\{100000000,99999999,99999998,99999997\\}$\n\n$B=1000000007$\n\n\u6b64\u65f6$A=\\overbrace{810143056\\cdots810143056}^{100000000\\text{\u4e2a}}\\overbrace{81671422\\cdots81671422}^{99999999\\text{\u4e2a}}\\overbrace{1639053\\cdots1639053}^{99999998\\text{\u4e2a}}\\overbrace{1657560\\cdots1657560 }^{99999997\\text{\u4e2a}}$\n\n\u6240\u4ee5$A$\u9664\u4ee5$B$\u7684\u4f59\u6570\u4e3a$476685993\n$\n\n## Solution\n\n\u62ff\u5230\u8fd9\u9053\u9898\u7684\u7b2c\u4e00\u53cd\u5e94\u662f\u6a21\u62df\uff0c\u6bcf\u6b21\u628a$A$\u5f80\u524d\u79fb\u52a8$digit(a_i)$\u4f4d$(digits(i)\\text{\u8868\u793ai\u7684\u4f4d\u6570})$\u4f46\u8fd9\u6837\u5b9e\u5728\u662f\u592a\u6162\u4e86\uff0c\u56e0\u4e3a\u8fd9\u4e2a$l_i$\u53ef\u4ee5\u5f88\u5927\u554a\n\n\u4e0d\u96be\u53d1\u73b0\u4e00\u4e2a\u4e8b\u60c5\uff0c\u5c31\u662f\u6bcf\u4e00\u6bb5\u90fd\u662f\u7531$a_i$\u91cd\u590d\u800c\u6765\u7684\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u4e00\u4e0b\u7528\u500d\u589e\n\n\u7b2c\u4e00\u6b21\u7b97$\\overline{a_i}\\%B$\n\n\u7b2c\u4e8c\u6b21\u7b97$\\overline{a_i a_i}\\%B$\n\n\u4ee5\u6b64\u7c7b\u63a8\uff0c\u53ef\u4ee5\u7b97\u51fa\u6bcf\u4e00\u6bb5$\\%B$\u7684\u7ed3\u679c\n\n\u6ce8\u610f\u4e2d\u9014\u4e0d\u8981\u91cd\u590d\u7684\u8ba1\u7b97$digit(a_i)$\u4ee5\u9632\u6a21$B$\u4e4b\u540e\u6570\u4f4d\u53d1\u751f\u53d8\u5316\n\n\u601d\u8def\u5dee\u4e0d\u591a\u5c31\u662f\u8fd9\u6837\u4e86\uff0c\u76f4\u63a5\u770b\u4ee3\u7801\u5427\n\n## Code\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\n\n#define re register\n#define Mem(a, b) memset(a, b, sizeof(a));\n#define rep(a, b, c) for(re long long a = b;a <= c;a++)\n#define per(a, b, c) for(re long long a = b;a >= c;a--)\n\nusing namespace std;\ntypedef long long ll;\n\nconst int MAXN = 10005;\n\ntemplate <typename T>\t\t\t\t\t//\u5feb\u8bfb \ninline void read(T &x){\n    x = 0;\n    char c = 0;\n    T w = 0;\n    while(!isdigit(c))\n        w |= c == '-', c = getchar();\n    while(isdigit(c)) x = x * 10 + (c ^ 48), c = getchar();\n    if(w)\n        x = -x;\n}\n\nll n, ans, mod;\t\t\t\t\t\t\t//\u5206\u522b\u5b9a\u4e49\u5faa\u73af\u90e8\u5206\u4e2a\u6570,\u7b54\u6848\u4ee5\u53ca\u6a21\u6570 \nll a[MAXN], l[MAXN]; \t\t\t\t\t//\u5206\u522b\u5b9a\u4e49\u6bcf\u4e00\u4e2a\u5faa\u73af\u90e8\u5206\u7684\u5faa\u73af\u8282\u4ee5\u53ca\u5faa\u73af\u6b21\u6570 \n\nll fastpow(ll b, ll mod){\t\t\t\t//\u500d\u589e\u5feb\u901f\u5e42\n    ll base = 10;\t\t\t\t\t\t//\u5e95\u6570\u8d4b\u503c\u4e3a10(\u8fd9\u4e2a\u53ea\u662f\u4e4b\u540e\u7528\u6765\u7ed9A\u504f\u79fb\u7528\u7684,\u6240\u4ee5\u8fd9\u91cc\u76f4\u63a5\u8d4b\u503c\u4e3a10) \n    ll ret = 1;\t\t\t\t\t\t\t//\u5b9a\u7406\u8fd4\u56de\u503c(10^b%mod) \n    while(b){\n        if(b & 1)\t\t\t\t\t\t//\u5982\u679cb\u662f\u5947\u6570\u5c31\u628abase\u6491\u5230ret\u91cc \n            (ret *= base) %= mod;\n        (base *= base) %= mod;\t\t\t//base\u81ea\u4e58 \n        b >>= 1;\t\t\t\t\t\t//b\u53f3\u79fb\u4ee5\u4e3a \n    }\n    return ret % mod;\t\t\t\t\t//\u8fd4\u56deret%mod\u7684\u503c \n}\n\nll getdigit(ll x){\t\t\t\t\t\t//\u53d6\u4f4d\u6570\u51fd\u6570 \n    ll ret = 0;\n    while(x){\t\t\t\t\t\t\t//\u6bcf\u4e00\u6b21\u5c06x\u9664\u4ee510,\u6570\u4f4d++ \n        ret++;\n        x /= 10;\n    }\n    return ret % mod;\n}\n\nvoid solve(ll x){\t\t\t\t\t\t//\u8fd9\u91cc\u548c\u500d\u589e\u5feb\u901f\u5e42\u7684\u601d\u8def\u5dee\u4e0d\u591a \n\tll pow10 = fastpow(getdigit(a[x]), mod);\n    ll base = a[x];\t\t\t\t\t\t//\u5206\u522b\u5b9a\u4e49\u57fa\u7840\u7684\u5de6\u79fb\u91cf\u4ee5\u53ca \n    while(l[x]){\n        if(l[x] & 1){\t\t\t\t\t//\u5982\u679cl[x]\u662f\u5947\u6570 \n            ans = ans * pow10;\t\t\t//\u5c06ans\u5de6\u79fb \n            ans += base;\t\t\t\t//ans\u52a0\u4e0abase \n            ans %= mod;\t\t\t\t\t//\u53d6\u4e00\u4e0bmod \n        }\n        base = base * pow10 + base;\t\t//base\u81ea\u589e\u4e00\u4e0b \n        pow10 = pow10 * pow10;\t\t\t//\u5de6\u79fb\u91cf\u81ea\u589e \n        pow10 %= mod;\t\t\t\t\t//\u8fd9\u91cc\u7528\u5230\u7684\u662f\u4f59\u6570\u6cd5\u5219,\u4e0d\u61c2\u7684\u53ef\u8c13\u95ee\u95ee\u5ea6\u5a18 \n        base %= mod;\t\t\t\t\t//\u5206\u522b\u5c06base\u548c\u5de6\u79fb\u91cf\u6a21\u4e00\u4e0b\u6a21\u6570 \n        l[x] >>= 1;\t\t\t\t\t\t//l[x]\u53f3\u79fb\u4e00\u4e0b \n    }\n    ans %= mod;\t\t\t\t\t\t\t//\u8fd4\u56de \n}\n\nint main(){\n\twhile(scanf(\"%lld\", &n) != EOF){\t//\u4ee5\u9632\u4e07\u4e00,\u591a\u7ec4\u6570\u636e\u8f93\u5165 \n\t\tMem(a, 0);\t\t\t\t\t\t//\u521d\u59cb\u5316 \n\t\tMem(l, 0);\n\t\tans = 0;\n\t    rep(i, 1, n)\t\t\t\t\t//\u5faa\u73af\u8f93\u5165\u6bcf\u4e00\u4e2a\u5faa\u73af\u90e8\u5206\u5faa\u73af\u8282\u4ee5\u53ca\u6b21\u6570 \n\t    \tscanf(\"%lld%lld\", &a[i], &l[i]);\n\t    read(mod); \t\t\t\t\t\t//\u8f93\u5165\u6a21\u6570 \n\t    if(mod == 0){\t\t\t\t\t//\u7279\u5224\u4e00\u4e0b\u662f\u5426\u4e3a0(\u597d\u4e60\u60ef \n\t    \tprintf(\"ERROR\\n\"); \n\t    \treturn 0;\n\t\t}\n\t    rep(i, 1, n)\t\t\t\t\t//\u5faa\u73af\u52a0\u5165\u6bcf\u4e00\u4e2a\u5faa\u73af\u8282 \n\t        solve(i);\n\t    printf(\"%lld\\n\", ans % mod);\t//\u8f93\u51fa,\u6ce8\u610f\u8981\u52a0\u6362\u884c \n\t}\n    return 0;\t\t\t\t\t\t\t//\u7ed3\u675f\u7a0b\u5e8f \n}\n```\n",
        "postTime": 1607607886,
        "uid": 358418,
        "name": "\u03bc\u03b7\u03b4\u03c3",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 AT834 \u3010A mod B Problem\u3011"
    },
    {
        "content": "\u4e00\u9053\u7740\u5b9e\u6709\u8da3\u7684\u6570\u5b66\u9898\u3002\n\n\u7528\u5230\u4e86\u5206\u6bb5\u8ba1\u7b97\u7684\u65b9\u6cd5\uff0c\u5c06$L$\u4e2a$a$\u5206\u89e3\u6210\u6bcf\u6b21\u8981\u4e48\u6298\u534a\u8981\u4e48\u51cf\u6389$1$\u7684\u51e0\u6bb5\u3002\n\n\u4e2a\u4eba\u89c9\u5f97\u548c\u5feb\u901f\u5e42\u6709\u5f02\u66f2\u540c\u5de5\u4e4b\u5999QwQ\n\n\u5177\u4f53\u7684\u5b9e\u73b0\u53c2\u8003\u4ee3\u7801\u3002\n\n```cpp\n#include <algorithm>\n#include <iostream>\n#define ll long long\nusing namespace std;\nll a[100001];\nll L[100001];\nll B;\nll digit(ll x) //\u7edf\u8ba1\u4f4d\u6570\n{\n    ll cnt = 0;\n    while (x != 0)\n    {\n        x /= 10;\n        cnt++;\n    }\n    return cnt;\n}\nll dpow(ll x, ll y) //\u5feb\u901f\u5e42\n{\n    if (y == 0)\n    {\n        return 1;\n    }\n    if (y % 2 == 1)\n    {\n        return x * dpow(x, y - 1) % B;\n    }\n    else\n    {\n        return dpow(x * x % B, y / 2);\n    }\n}\nll rem(ll x, ll y) //\u4e3b\u4f53\n{\n    if (y == 0) //\u5230\u5e95\u4e86\n    {\n        return 0;\n    }\n    ll d = digit(x);\n    if (y % 2 == 0)\n    {\n        ll r = rem(x, y / 2); //\u6298\u534a\u7684\u60c5\u51b5\n        return (dpow(10, y / 2 * d) % B * r % B + r) % B;\n    }\n    else\n    {\n        ll r = rem(x, y - 1); //\u51cf\u63891\u7684\u60c5\u51b5\n        return (dpow(10, d) % B * r % B + x % B) % B;\n    }\n}\n\nint main()\n{\n    int n;\n    cin >> n;\n    for (int i = 0; i < n; i++)\n    {\n        cin >> a[i] >> L[i];\n    }\n    cin >> B;\n    ll result = 0;\n    for (int i = 0; i < n; i++)\n    {\n        ll d = digit(a[i]);\n        ll offset = dpow(10, L[i] * d);\n        result = (result * offset % B + rem(a[i], L[i])) % B;\n    }\n    cout << result << endl;\n    return 0;\n}\n```\n",
        "postTime": 1570010535,
        "uid": 87668,
        "name": "nanatsuhi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT834 \u3010A mod B Problem\u3011"
    }
]