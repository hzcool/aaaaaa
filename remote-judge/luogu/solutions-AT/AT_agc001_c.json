[
    {
        "content": "### \u9898\u610f\u7b80\u8ff0\uff1a  \n\n- \u7ed9\u5b9a\u4e00\u68f5\u5927\u5c0f\u4e3a $n$ \u7684\u65e0\u6839\u6811\u3002\n- \u6bcf\u6b21\u53ef\u4ee5\u5220\u53bb\u4e00\u4e2a\u53f6\u8282\u70b9\uff0c\u8981\u4f7f\u6811\u7684\u76f4\u5f84\u957f\u5ea6\u4e0d\u8d85\u8fc7 $k$\uff0c\u6700\u5c0f\u5316\u64cd\u4f5c\u6b21\u6570\u3002\n- $n\\le2000$\u3002\n\n### \u9898\u76ee\u89e3\u6cd5\uff1a\n\n- \u5bf9 $k$ \u8fdb\u884c\u5947\u5076\u8ba8\u8bba\u3002\n- \u82e5 $k$ \u4e3a\u5076\u6570\uff0c\u679a\u4e3e\u76f4\u5f84\u7684\u4e2d\u70b9 $x$\u3002\n- $\\rm dfs$ \u51fa\u6709\u591a\u5c11\u8282\u70b9\u53ef\u4ee5\u5728\u7ecf\u8fc7 $\\frac{k}{2}$ \u6761\u8fb9\u5185\u8fbe\u5230\u3002\n- \u53d6\u6700\u5c0f\u503c\u5373\u53ef\u3002\n- \u82e5 $k$ \u4e3a\u5947\u6570\uff0c\u679a\u4e3e\u76f4\u5f84\u4e2d\u95f4\u7684\u8fb9\uff0c\u5bf9\u4e24\u7aef\u5206\u522b $\\rm dfs$ \u5373\u53ef\u3002\n- \u65f6\u95f4\u590d\u6742\u5ea6\uff1a$\\mathcal{O}(n^2)$\n\n### \u6b63\u786e\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read(){\n    int res=0;\n    char c;\n    bool zf=0;\n    while(((c=getchar())<'0'||c>'9')&&c!= '-');\n    if(c=='-')zf=1;\n    else res=c-'0';\n    while((c=getchar())>='0'&&c<='9')res=(res<<3)+(res<<1)+c-'0';\n    if(zf)return -res;\n    return res;\n}\nconst int maxn=2005;\nint cnt;\nbool vis[maxn];\nvector<int>G[maxn];\nvoid dfs(int x,int p,int fa=-1){\n\tvis[x]=1;\n\t++cnt;\n\tif(!p){\n\t\treturn;\n\t}\n\tfor(register int i=0;i<G[x].size();++i){\n\t\tint v=G[x][i];\n\t\tif(v==fa||vis[v]){\n\t\t\tcontinue;\n\t\t}\n\t\tdfs(v,p-1,x);\n\t}\n\treturn;\n}\nsigned main(){\n\tint n=read(),k=read();\n\tfor(register int i=1;i<n;++i){\n\t\tint x=read(),y=read();\n\t\tG[x].push_back(y),\n\t\tG[y].push_back(x);\n\t}\n\tint ans=1e9;\n\tif(!(k&1)){\n\t\tfor(register int i=1;i<=n;++i){\n\t\t\tmemset(vis,0,sizeof(vis));\n\t\t\tcnt=0;\n\t\t\tdfs(i,k/2);\n\t\t\tans=min(ans,n-cnt);\n\t\t}\n\t}\n\telse{\n\t\tfor(register int i=1;i<=n;++i){\n\t\t\tfor(register int j=0;j<G[i].size();++j){\n\t\t\t\tint v=G[i][j];\n\t\t\t\tmemset(vis,0,sizeof(vis));\n\t\t\t\tcnt=0;\n\t\t\t\tdfs(i,k/2,v),dfs(v,k/2,i);\n\t\t\t\tans=min(ans,n-cnt);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n} \n```\n\n\u5982\u679c\u60a8\u6ca1\u6709\u770b\u61c2\u8fd9\u7bc7\u9898\u89e3\uff0c\u53ef\u4ee5\u5728\u8bc4\u8bba\u533a\u95ee\u6211\uff0c\u6211\u5c06\u4f1a\u56de\u7b54\u60a8\u7684\u95ee\u9898\u5e76\u4e14\u4fee\u6539\u8fd9\u7bc7\u9898\u89e3\uff0c\u4f7f\u5b83\u53d8\u5f97\u66f4\u52a0\u901a\u4fd7\u6613\u61c2\uff0c\u670d\u52a1\u66f4\u591a\u7684 $\\text{OIer}$\u3002  \n\u5982\u679c\u60a8\u770b\u61c2\u4e86\u8fd9\u7bc7\u9898\u89e3\uff0c\u53ef\u4ee5\u70b9\u4e2a\u8d5e\uff0c\u4f7f\u8fd9\u7bc7\u9898\u89e3\u7684\u6392\u540d\u4e0a\u5347\uff0c\u670d\u52a1\u66f4\u591a\u7684 $\\text{OIer}$\u3002  ",
        "postTime": 1614513050,
        "uid": 183609,
        "name": "hhoppitree",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT1981 \u3010Shorten Diameter\u3011"
    },
    {
        "content": "# \u9898\u89e3 AT1981 \u3010Shorten Diameter\u3011\n\n\u4f20\u9001\u95e8[QwQ](https://www.luogu.com.cn/problem/AT1981)\n\n## \u9898\u610f\n\n\u81f3\u5c11\u5220\u591a\u5c11\u4e2a\u53f6\u5b50\u7ed3\u70b9\uff08\u4fdd\u8bc1\u5269\u4e0b\u7684\u4ecd\u662f\u68f5\u6811\uff09\u624d\u80fd\u4f7f\u6811\u7684\u76f4\u5f84$<=k$\u3002\n\n## \u5206\u6790\n\n\u56e0\u4e3a\u662f\u8981\u6c42\u6700\u5c11\u5220\u53bb\u7684\u70b9\u6570\uff0c\u6240\u4ee5\u53ef\u4ee5\u770b\u505a\u6c42\u5269\u4e0b\u6700\u591a\u7684\u70b9\u6570\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5206\u60c5\u51b5\u8ba8\u8bba\uff1a\n\n1. \u5bf9\u4e8eK\u4e3a\u5076\u6570\uff0c\u679a\u4e3e\u4e00\u4e2a\u70b9\uff0c\u5c06\u8ddd\u79bb\u6b64\u70b9>K/2\u7684\u5168\u90e8\u5220\u6389\u5373\u53ef\u6ee1\u8db3\u6761\u4ef6\uff0c\u53d6\u5220\u70b9\u6570\u6700\u5c0f\u503c\u3002\n\n1. \u5bf9\u4e8eK\u4e3a\u5947\u6570\uff0c\u679a\u4e3e\u4e00\u6761\u8fb9\uff0c\u6811\u88ab\u6b64\u8fb9\u5206\u4e3a\u4e24\u68f5\uff0c\u5c06\u5176\u6df1\u5ea6>(K-1)/2\u7684\u5168\u90e8\u5220\u6389\uff0c\u53d6\u5220\u70b9\u6570\u6700\u5c0f\u503c\u3002\n\n\u4ece\u6570\u636e\u8303\u56f4\u6765\u770b$2000$,$O(n^2)$\u5b8c\u5168\u53ef\u4ee5\u8dd1\u8fc7\uff0c\n\u90a3\u4e48\u5c31\u7528$DFS$\u5927\u6cd5\u5c31\u884c\u4e86\u3002\n\n### Tips\n\n1. \u7528$int$\u65f6\u4f1a\u628a\u5947\u6570/2\u7684\u5c0f\u6570\u90e8\u5206\u7ea6\u6389\uff0c\u4e00\u5b9a\u8981\u5728$DFS$\u7684\u65f6\u5019\u518d/2\n\n1. \u8003\u8bd5\u65f6\u60f3\u590d\u6742\u4e86\uff1a\u628a\u76f4\u5f84\u6c42\u51fa\uff0c\u7136\u540e\u8bd5\u56fe\u4ece\u76f4\u5f84\u4e24\u5934\u5220\u70b9\uff0c\u5305\u542b\u5927\u91cf\u7279\u6b8a\u60c5\u51b5\u3002\u3002\u3002\u6b7b\u8def\u4e00\u6761\n\n**\u5343\u4e1d\u4e07\u7f15\uff0c\u5747\u5728$Code$\u4e2d**\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<queue>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\n#define inf 0x7f7f7f7f\nusing namespace std;\ntypedef long long ll;\n#define maxn 5000010\n\nvoid read(int &x){\n\tint f=1;x=0;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-') f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9') {x=x*10+ch-'0';ch=getchar();}\n\tx*=f;\n} \nstruct node{\n\tint to;\n\tint nxt;\n}edge[maxn];\nint tot,head[maxn],maxx,vis[maxn],ans,cnt;\nvoid add(int x,int y){edge[cnt].to=y;edge[cnt].nxt=head[x];head[x]=cnt++;}\nvoid dfs(int now,int fa,int stp){\n\ttot++;\n\tif(stp==0) return ;\n\tfor(int i=head[now];~i;i=edge[i].nxt){\n\t\tif(edge[i].to==fa){\n\t\t\tcontinue;\n\t\t}\n\t\tdfs(edge[i].to,now,stp-1);\n\t}\n}\nint n,k;\nint main(){\n\tread(n),read(k);\n\tint u,v,del;\n\tfor(int i=0;i<=n;i++) head[i]=-1;\n\tfor(int i=0;i<n-1;i++){\n\t\tread(u),read(v);\n\t\tadd(u,v);add(v,u);\n\t}\n\tans=0;\n\tif(k%2==0){//k\u4e3a\u5076\u6570\uff0c\u679a\u4e3e\u70b9\uff0c\u8dd1k/2\u7684\u8fb9 \n\t\tfor(int i=1;i<=n;i++){\n\t\t\ttot=0;\n\t\t\tdfs(i,0,k/2);\n\t\t\tans=max(tot,ans);\n\t\t}\n\t}\n\telse{//k\u4e3a\u5947\u6570\uff0c\u679a\u4e3e\u8fb9\uff0c\u8dd1k/2\u7684\u70b9 \n\t\tfor(u=1;u<=n;u++){\n\t\t\tfor(int j=head[u];~j;j=edge[j].nxt){\n\t\t\t\ttot=0;\n\t\t\t\tint t=edge[j].to;\n\t\t\t\tdfs(t,u,k/2);\n\t\t\t\tdfs(u,t,k/2);\n\t\t\t\tans=max(tot,ans);\n\t\t\t}\n\t\t}\n\t}\n\tcout<<n-ans<<endl;\n}\n\n\n```\n\n\u6c42\u70b9\u8d5eQwQ",
        "postTime": 1579574698,
        "uid": 225703,
        "name": "jyz666",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT1981 \u3010Shorten Diameter\u3011"
    },
    {
        "content": "\n\n# \u9898\u610f  \n\u4f60\u6709\u4e00\u68f5\u5927\u5c0f\u4e3a $n$ \u7684\u6811\uff0c\u4f60\u6bcf\u6b21\u53ef\u4ee5\u5220\u53bb\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9\uff0c\u8bf7\u95ee\u8ba9\u8fd9\u68f5\u6811\u7684\u76f4\u5f84\u53d8\u4e3a $k$ \u81f3\u5c11\u8981\u5220\u53bb\u51e0\u4e2a\u8282\u70b9\uff1f  \n$n \\le 2000$  \n\n# \u9898\u89e3\n\u8fd9\u662f\u4e00\u9053\u4e00\u773c\u9898\u3002\u4e0d\u660e\u767d\u4e3a\u4ec0\u4e48\u6709\u7d2b\u9898\u3002    \n\u770b\u5230 $n\\le2000$ \u7684\u6570\u636e\u8303\u56f4\u5c31\u611f\u89c9\u5b83\u975e\u5e38\u767d\u7ed9\u3002  \n- \u5982\u679c $k $ \u662f\u5076\u6570\uff0c\u90a3\u4e48\u76f4\u5f84\u4e0a\u4e00\u5b9a\u6709\u4e00\u4e2a\u4e2d\u70b9\uff0c\u7136\u540e\u6811\u4e0a\u7684\u6240\u6709\u70b9\u4e0e\u8fd9\u4e2a\u70b9\u7684\u8ddd\u79bb\u4e0d\u8d85\u8fc7 $\\dfrac{k}{2}$  \n\u90a3\u4e48\u6211\u4eec\u679a\u4e3e\u8fd9\u4e2a\u4e2d\u70b9\u7684\u4f4d\u7f6e\uff0cdfs\u4e00\u4e0b\uff0c\u7528\u4e2a $vis$ \u6570\u7ec4\u5b58\u50a8\u4ece\u8fd9\u4e2a\u70b9\u80fd\u5230\u7684\u4f4d\u7f6e\uff0c\u6700\u540e\u52a0\u8d77\u6765\u3002\u90a3\u4e48\u7b54\u6848\u5373\u4e3a $n-cnt$\uff0c\u53d6\u6700\u5c0f\u7684\u5373\u53ef\u3002  \n\n- \u5982\u679c $k$ \u662f\u5947\u6570\uff0c\u90a3\u4e48\u76f4\u5f84\u4e0a\u4e00\u5b9a\u6709\u4e24\u4e2a\u70b9\uff08\u5e76\u4e14\u4ed6\u4eec\u76f8\u90bb\uff09\uff0c\u7136\u540e\u6811\u4e0a\u7684\u7684\u6240\u6709\u70b9\u5230\u8fd9\u4e24\u4e2a\u70b9\u4e2d\u4e4b\u4e00\u7684\u8ddd\u79bb\u4e0d\u8d85\u8fc7$\\dfrac{k-1}{2}$  \n\u90a3\u4e48\u6211\u4eec\u679a\u4e3e\u8fd9\u6761\u8fb9\uff0c\u540c\u6837dfs\u4e00\u4e0b\uff0c\u8ba1\u7b97 $cnt$\uff0c\u7b54\u6848\u4e3a\u6700\u5c0f\u7684 $n-cnt$\u3002  \n\u6ce8\u610f\u4e00\u70b9\uff0c\u5982\u679c\u4f60\u904d\u5386\u6811\u7684\u65b9\u5f0f\u8ddf\u6211\u4e00\u6837\u662f\u7528 $vis$ \u6570\u7ec4\u7684\uff0c\u6ce8\u610f $k$ \u4e3a\u5947\u6570\u7684\u60c5\u51b5\u3002\u4e0d\u80fd\u516c\u7528\u4e00\u4e2a $vis$ \u6570\u7ec4\uff0c\u800c\u4e14\u8bb0\u5f97\u4e24\u4e2a $vis$ \u6570\u7ec4\u90fd\u8981\u6e05\u7a7a\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2)$\u3002  \n\n\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n//#define int long long\n#define rd(x) x=read()\n#define pii pair<int,int>\n#define fi first\n#define se second\n#define mp make_pair\nusing namespace std;\nconst int N=2005;\nconst int maxn=(1<<18);\nconst int mod=1e9+7;\ninline int read(){int x=0,f=1;char ch=getchar();while (ch>'9'||ch<'0'){if (ch=='-')f=-1;ch=getchar();}while (ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}return x*f;}\ninline int ksm(int x,int y,int z){int ret=1;while (y){if (y&1) ret=(ret*x)%z;x=(x*x)%z;y>>=1;}return ret;}\ninline int ksm(int x,int y){int ret=1;while (y){if (y&1) ret=(ret*x)%mod;x=(x*x)%mod;y>>=1;}return ret;}\ninline int INV(int x){return ksm(x,mod-2);}\n\nbool vis[N];\nbool vis2[N];\nvector<int> T[N];\nvoid add(int u,int v){T[u].push_back(v);T[v].push_back(u);}\nint n,d,ans=2005;\nvector<pii> E;\nvoid dfs(int u,int dis,int limit)\n{\n    if (dis>limit) return;\n    vis[u]=1;\n    for (int i=0;i<T[u].size();i++)\n    {\n        int v=T[u][i];if (vis[v]) continue;\n        dfs(v,dis+1,limit);\n    }\n}\nvoid dfs2(int u,int dis,int limit)\n{\n    if (dis>limit) return;\n    vis2[u]=1;\n    for (int i=0;i<T[u].size();i++)\n    {\n        int v=T[u][i];if (vis2[v]) continue;\n        dfs2(v,dis+1,limit);\n    }\n}\nsigned main()\n{\n    rd(n);rd(d);\n    for (int i=1;i<n;i++) {int u,v;rd(u);rd(v);add(u,v);E.push_back(mp(u,v));}\n    if (d%2==0)\n    {\n        //\u90a3\u4e48\u6811\u7684\u76f4\u5f84\u5fc5\u7136\u6709\u4e00\u4e2a\u4e2d\u70b9\uff0c\u679a\u4e3e\u8fd9\u4e2a\u4e2d\u70b9\n        for (int i=1;i<=n;i++)\n        {\n            memset(vis,0,sizeof(vis));\n            dfs(i,0,d/2);\n            int cnt=0;\n            for (int i=1;i<=n;i++) cnt+=vis[i];\n            ans=min(ans,n-cnt);\n        }\n    } else \n    {\n        //\u90a3\u4e48\u6811\u7684\u76f4\u5f84\u5fc5\u7136\u6709\u4e24\u4e2a\u76f8\u5bf9\u4e2d\u70b9\uff0c\u5e76\u4e14\u4ed6\u4eec\u4e4b\u95f4\u6709\u8fde\u8fb9\uff0c\u679a\u4e3e\u4ed6\u4eec\n        for (int i=0;i<n-1;i++)\n        {\n            memset(vis,0,sizeof(vis));\n            memset(vis2,0,sizeof(vis2));\n            int u=E[i].fi,v=E[i].se;\n            dfs(u,0,d/2);dfs2(v,0,d/2);\n            int cnt=0;\n            for (int i=1;i<=n;i++) cnt+=vis[i]|vis2[i];\n            ans=min(ans,n-cnt);\n        }\n    }\n    cout<<ans<<endl;\n}\n\u00b7\u00b7\u00b7",
        "postTime": 1606913933,
        "uid": 70132,
        "name": "AsunderSquall",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT1981 \u3010[AGC001C] Shorten Diameter\u3011"
    },
    {
        "content": "\u4e3a\u4ec0\u4e48\u7ffb\u904d\u9898\u89e3\u533a\u90fd\u6ca1\u6709 dp \u505a\u6cd5\u554a\u3002/jk\n\n\u9898\u76ee\u8981\u6c42\u7684\u662f\u5220\u6389\u7684\u6700\u5c0f\u70b9\u6570\uff0c\u53ef\u4ee5\u8f6c\u6362\u6210\u6c42\u4fdd\u7559\u7684\u6700\u5927\u70b9\u6570\u3002\n\n\u53ef\u4ee5\u8bb0 $dp_{i,j}$ \u8868\u793a\u5728\u4ee5 $i$ \u8282\u70b9\u4e3a\u6839\u7684\u5b50\u6811\u4e2d\uff0c\u4fdd\u7559 $i$ \u8282\u70b9\u4e14\u4fdd\u7559\u7684\u8054\u901a\u5757\u4ee5 $i$ \u8282\u70b9\u4e3a\u6839\u65f6\u7684\u9ad8\u5ea6\u4e3a $j$ \u65f6\u4e14\u8054\u901a\u5757\u5408\u6cd5\u7684\u6700\u5927\u70b9\u6570\u3002\n\n\uff08\u8fd9\u91cc\u9ad8\u5ea6\u5b9a\u4e49\u4e3a\u4ece\u6839\u5230\u5b50\u6811\u4e2d\u6700\u8fdc\u70b9\u7684\u8ddd\u79bb\uff09\n\n\u8ba1\u7b97\u4e00\u4e2a\u70b9 $a$ \u7684 $dp$ \u6570\u7ec4\u65f6\uff0c\u53ef\u4ee5\u5148\u9012\u5f52\u8ba1\u7b97\u51fa\u5176\u5b50\u8282\u70b9\u7684 $dp$ \u6570\u7ec4\uff0c\u7136\u540e\u518d\u5c06\u5b50\u8282\u70b9\u7684 $dp$ \u6570\u7ec4\u5408\u5e76\u5230 $a$ \u7684 $dp$ \u6570\u7ec4\u4e2d\u3002\n\n\u8bb0\u5f53\u524d\u5408\u5e76\u7684\u5b50\u8282\u70b9\u4e3a $s$\uff0c\u5408\u5e76\u65f6\u5c31\u6709\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$$dp_{a,i}=\\max((dp_{a,i}+dp_{s,j})[i\\ge j+1][i+j+1\\le k],(dp_{a,j}+dp_{s,i-1})[i\\ge j][i+j+1\\le k])$$\n\n\u4e4d\u4e00\u770b\u8fd9\u4e2a\u65b9\u7a0b\u662f $O(n^3)$ \u7684\uff08\u679a\u4e3e $s$\uff0c$i$ \u548c $j$\uff09\uff0c\u4f46\u662f\u53ef\u4ee5\u4f18\u5316\u5230 $O(n^2)$\u3002\n\n\u5047\u8bbe\u5728 $s$ \u524d\u9762\u7684\u5df2\u7ecf\u5408\u5e76\u5230 $dp_a$ \u91cc\u7684\u5b50\u8282\u70b9\u7684\u6700\u5927\u9ad8\u5ea6\u4e3a $d$\uff0c\u90a3\u4e48 $dp_{a,i\\{i>d+1\\}}$ \u7684\u503c\u5728\u5408\u5e76\u4e4b\u524d\u4e00\u5b9a\u662f\u65e0\u6548\u7684\uff0c\u53ef\u4ee5\u4e0d\u7ba1\u5b83\u4eec\u3002\n\n\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u505a\u5230 $O(n^2)$\uff0c\u8bc1\u660e\u611f\u6027\u7406\u89e3\u8d77\u6765\u662f\u4e00\u68f5\u5b50\u6811\u7684\u5927\u5c0f\u4e00\u5b9a\u5927\u4e8e\u7b49\u4e8e\u5b83\u7684\u9ad8\u5ea6\uff0c\u6240\u4ee5\u628a\u524d\u9762\u5408\u5e76\u7684\u6811\u7684\u6700\u5927\u6df1\u5ea6\u6362\u6210\u603b\u5927\u5c0f\u590d\u6742\u5ea6\u4e00\u5b9a\u4e0d\u4f1a\u66f4\u4f18\n\n\u7136\u800c\u6b64\u65f6\u6bcf\u4e24\u5bf9\u70b9\u624d\u4f1a\u5728\u5b83\u4eec\u7684 LCA \u5904\u5bf9\u590d\u6742\u5ea6\u4ea7\u751f 1 \u7684\u8d21\u732e\uff0c\u800c\u603b\u5171\u6709 $n^2$ \u5bf9\u70b9\uff0c\u6240\u4ee5\u590d\u6742\u5ea6\u4e3a $O(n^2)$\n\n\u7531\u4e8e\u4e0b\u6807\u4e0e\u6df1\u5ea6\u6709\u5173\uff0c\u6240\u4ee5\u53ef\u80fd\u53ef\u4ee5\u7528\u957f\u94fe\u5256\u5206\u505a\u5230 $O(n)$\uff0c\u4f46\u662f\u4e0a\u9762\u7684\u505a\u6cd5\u5df2\u7ecf\u8db3\u591f\u901a\u8fc7\u8fd9\u4e2a\u9898\u4e86\u3002\n\n\u505a\u7684\u65f6\u5019\u6ce8\u610f\u679a\u4e3e $i$ \u548c $j$ \u7684\u987a\u5e8f\u3002\n\n\u6211\u7684\u4ee3\u7801\u53ef\u80fd\u548c\u4e0a\u9762\u7684\u65b9\u7a0b\u4e0d\u4e00\u6837\uff0c\u4e0d\u8fc7\u672c\u8d28\u662f\u76f8\u540c\u7684\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#define rep(i, d, u) for(int i = d; i <= u; ++i)\n#define gep(i, a) for(int i = firs[a]; i; i = neig[i])\nint ured() {\n\tint ch, re = 0;\n\tdo {\n\t\tch = getchar();\n\t} while('9' < ch || ch < '0');\n\tdo {\n\t\tre = re * 10 + (ch ^ '0');\n\t} while('0' <= (ch = getchar()) && ch <= '9');\n\treturn re;\n}\nvoid uwit(int da) {\n\tint ch[21], cn = 0;\n\tdo {\n\t\tch[++cn] = da - da / 10 * 10;\n\t} while(da /= 10);\n\tdo {\n\t\tputchar('0' ^ ch[cn]);\n\t} while(--cn);\n}\ninline int max(int le, int ri) {\n\treturn le > ri ? le : ri;\n}\nconst int _maxn = 2011;\nint n, m, a, b, firs[_maxn], neig[_maxn << 1], arri[_maxn << 1], high[_maxn], dpot[_maxn][_maxn], cpdp[_maxn], rans;\nvoid dfs1(int at, int fa) {\n\tdpot[at][0] = 1;\n\tgep(i, at) {\n\t\tif(arri[i] != fa) {\n\t\t\tdfs1(arri[i], at);\n\t\t\trep(j, 0, high[at]) {\n\t\t\t\tcpdp[j] = dpot[at][j];\n\t\t\t}\n\t\t\tif(high[at] < high[arri[i]] + 1) {\n\t\t\t\trep(j, high[at] + 1, high[arri[i]] + 1) {\n\t\t\t\t\tdpot[at][j] = -n;\n\t\t\t\t}\n\t\t\t}\n\t\t\trep(j, 0, high[at]) {\n\t\t\t\trep(k, 0, high[arri[i]]) {\n\t\t\t\t\tif(j + k + 1 <= m && dpot[at][max(j, k + 1)] < cpdp[j] + dpot[arri[i]][k]) {\n\t\t\t\t\t\tdpot[at][max(j, k + 1)] = cpdp[j] + dpot[arri[i]][k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(high[at] < high[arri[i]] + 1) {\n\t\t\t\thigh[at] = high[arri[i]] + 1;\n\t\t\t}\n\t\t}\n\t}\n\trep(i, 0, high[at]) {\n\t\tif(rans < dpot[at][i]) {\n\t\t\trans = dpot[at][i];\n\t\t}\n\t}\n}\nint main() {\n\tn = ured();\n\tm = ured();\n\trep(i, 1, n - 1) {\n\t\ta = ured();\n\t\tb = ured();\n\t\tneig[i << 1] = firs[a];\n\t\tfirs[a] = i << 1;\n\t\tarri[i << 1] = b;\n\t\tneig[i << 1 | 1] = firs[b];\n\t\tfirs[b] = i << 1 | 1;\n\t\tarri[i << 1 | 1] = a;\n\t}\n\tdfs1(1, 0);\n\tuwit(n - rans);\n\treturn 0;\n}\n```\n",
        "postTime": 1631448992,
        "uid": 336630,
        "name": "dcmfqw",
        "ccfLevel": 0,
        "title": "AGC001C \u9898\u89e3"
    },
    {
        "content": ">\u7ed9\u5b9a\u4e00\u68f5\u6811\uff0c\u6bcf\u6b21\u4f60\u53ef\u4ee5\u5220\u9664\u4e00\u4e2a\u53f6\u5b50\u7ed3\u70b9\uff0c\u6c42\u6700\u5c0f\u64cd\u4f5c\u6b21\u6570\u4f7f\u5f97\u539f\u6811\u76f4\u5f84\u957f\u5ea6 $\\leq k$\u3002$n\\leq 2000$\u3002\n\n\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cd\u8d2a\u5fc3\u505a\u6cd5\uff08\u770b\u4e0a\u53bb\u6bd4\u5206\u7c7b\u8ba8\u8bba\u597d\u60f3\u4e00\u70b9\uff09\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u6bcf\u6b21\u627e\u51fa\u4e00\u6761\u76f4\u5f84\uff0c\u7136\u540e\u5206\u522b\u7b97\u4e00\u4e0b\u8fd9\u6761\u76f4\u5f84\u7684\u4e24\u4e2a\u7aef\u70b9\u80fd\u5230\u8fbe\u7684\u8ddd\u79bb $>k$ \u7684\u70b9\u7684\u4e2a\u6570\uff0c\u5c06\u4e2a\u6570\u8f83\u5927\u7684\u90a3\u4e2a\u7aef\u70b9\u5220\u53bb\u3002\u7136\u540e\u7ee7\u7eed\u627e\u76f4\u5f84\u505a\u8fd9\u6837\u7684\u64cd\u4f5c\u5373\u53ef\uff0c\u76f4\u5230\u76f4\u5f84\u957f\u5ea6 $\\leq k$\u3002\n\n\u8003\u8651\u6b63\u786e\u6027\uff0c\u9996\u5148\uff0c\u7aef\u70b9\u81f3\u5c11\u8981\u5220\u4e00\u4e2a\uff0c\u4e0d\u7136\u8fd9\u6761\u76f4\u5f84\u80af\u5b9a\u4e0d\u80fd\u6ee1\u8db3\u6761\u4ef6\u3002\u5176\u6b21\uff0c\u6211\u4eec\u7684\u76ee\u6807\u662f\u8ba9\u6240\u6709\u7684\u8def\u5f84\u90fd $\\leq k$\uff0c\u6240\u4ee5\u7b97\u51fa\u7684\u70b9\u4e2a\u6570\u8f83\u5927\u7684\uff0c\u5bf9\u6ee1\u8db3\u8981\u6c42\u7684\u8d21\u732e\u80af\u5b9a\u66f4\u5927\uff0c\u6240\u4ee5\u8fd9\u6837\u8d2a\u5fc3\u662f\u5bf9\u7684\u3002\n\n\u7136\u540e\u662f\u590d\u6742\u5ea6\uff0c\u6bcf\u6b21\u627e\u76f4\u5f84\u662f $O(n)$ \u7684\uff0c\u6700\u591a\u627e $n$ \u6b21\uff0c\u6240\u4ee5\u603b\u590d\u6742\u5ea6 $O(n^2)$ \u7684\u3002\n\n- [\u4ee3\u7801](https://www.luogu.com.cn/paste/3erhkyny)\u3002",
        "postTime": 1646113738,
        "uid": 225755,
        "name": "LinkZelda",
        "ccfLevel": 8,
        "title": "AGC001C"
    },
    {
        "content": "[\u9898\u9762](https://www.luogu.org/problemnew/show/AT1981)\n\n\u778e\u641e\u6cd5\u3002\n\n\u66b4\u529b\u679a\u4e3e\u6bcf\u4e00\u79cd\u6709\u6839\u6811\uff0c\u5c06\u6df1\u5ea6\u8d85\u8fc7$k/2$\u7684\u70b9\u5220\u6389\uff0c\u6700\u540e\u53d6\u4e2a$min$\u5c31\u597d\u4e86\u3002\u5f53\u7136\uff0c\u5982\u679c$k$\u662f\u5947\u6570\u7684\u8bdd\uff0c\u90a3\u5c31\u679a\u4e3e\u4e24\u4e2a\u70b9\uff0c\u5206\u522b\u6c42\uff0c\u7136\u540e\u76f8\u52a0\u5c31\u597d\u4e86\u3002\n\ncode:\n```\n//2018.9.14 by ljz\n#include<bits/stdc++.h>\nusing namespace std;\n#define res register int\n#define LL long long\n#define inf 0x3f3f3f3f\n#define eps 1e-15\ninline int read(){\n    res s=0;\n    bool w=0;\n    char ch=getchar();\n    while(ch<'0'||ch>'9'){if(ch=='-')w=1;ch=getchar();}\n    while(ch>='0'&&ch<='9')s=s*10+ch-'0',ch=getchar();\n    return w?-s:s;\n}\ninline void _swap(res &x,res &y){\n    x^=y^=x^=y;\n}\ninline int _abs(const res &x){\n    return x>0?x:-x;\n}\ninline int _max(const res &x,const res &y){\n    return x>y?x:y;\n}\ninline int _min(const res &x,const res &y){\n    return x<y?x:y;\n}\nconst int N=2e3+10;\nnamespace MAIN{\n    int n,m;\n    struct E{\n        int next,to;\n        E() {}\n        E(res next,res to):next(next),to(to) {}\n    }edge[N<<1];\n    int head[N],cnt;\n    inline void addedge(res u,res v){\n        edge[++cnt]=E(head[u],v),head[u]=cnt;\n        edge[++cnt]=E(head[v],u),head[v]=cnt;\n    }\n    int tot;\n    void dfs(res x,res fax,res depx){\n        if(depx>m/2)tot++;\n        for(res i=head[x];~i;i=edge[i].next){\n            res tox=edge[i].to;\n            if(tox==fax)continue;\n            dfs(tox,x,depx+1);\n        }\n    }\n    int ans=inf;\n    inline void MAIN(){\n        memset(head,-1,sizeof(head));\n        n=read(),m=read();\n        for(res i=1;i<n;i++){\n            res u=read(),v=read();\n            addedge(u,v);\n        }\n        if(m&1){\n            for(res x=1;x<=n;x++)\n                for(res i=head[x];~i;i=edge[i].next){\n                    res tox=edge[i].to;\n                    tot=0;\n                    dfs(tox,x,0);\n                    dfs(x,tox,0);\n                    ans=_min(ans,tot);\n                }\n        }\n        else {\n            for(res x=1;x<=n;x++)\n                tot=0,dfs(x,0,0),ans=_min(ans,tot);\n        }\n        printf(\"%d\\n\",ans);\n    }\n}\nint main(){\n    MAIN::MAIN();\n    return 0;\n}\n```",
        "postTime": 1536912456,
        "uid": 32878,
        "name": "foreverlasting",
        "ccfLevel": 7,
        "title": "\u3010AGC 001C\u3011Shorten Diameter"
    },
    {
        "content": "\u672c\u9898\u4e0d\u96be\uff0c\u4e0d\u81f3\u4e8e\u7d2b\uff08\n\n## \u89e3\u9898\u601d\u8def\n\n\u770b\u5230 $n\\leq 2000$ \u5c31\u77e5\u9053\u662f $O(n^2)$ \u6ca1\u5f97\u8dd1\u4e86\u3002\u5173\u952e\u5982\u4f55 $O(n^2)$\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u5bf9 $k$ \u8fdb\u884c\u5206\u7c7b\u3002\n\n\u5982\u679c $k$ \u4e3a\u5076\u6570\uff0c\u90a3\u4e48\u6211\u4eec\u77e5\u9053\u6211\u4eec\u5220\u70b9\u8fc7\u540e\u5f97\u5230\u7684\u6811\u7684\u76f4\u5f84\u4e00\u5b9a\u6709\u4e00\u4e2a\u4e2d\u5fc3\u70b9 $u$\uff0c\u4e3a\u4e86\u4f7f\u5f97\u76f4\u5f84\u4e3a $k$\uff0c\u90a3\u4e48\u8ddd\u79bb $u$ \u8ddd\u79bb\u5927\u4e8e $\\frac {n}2$ \u7684\u70b9\u5fc5\u987b\u5220\u9664\u3002\u6211\u4eec\u679a\u4e3e $u$\uff0c\u7136\u540e dfs \u5373\u53ef\u3002\n\n\u5982\u679c $k$ \u4e3a\u5947\u6570\uff0c\u548c\u4e0a\u9762\u7c7b\u4f3c\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u4e2d\u5fc3\u8fb9\uff0c\u4e5f\u662f\u4e00\u6837 dfs \u4e00\u4e0b\u5c31\u53ef\u4ee5\u77e5\u9053\u7b54\u6848\u4e86\u3002\u53d6\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n## \u4ee3\u7801\n\n\u4ee3\u7801\u5f88\u77ed\n\n```cpp\n//Don't act like a loser.\n//This code is written by huayucaiji\n//You can only use the code for studying or finding mistakes\n//Or,you'll be punished by Sakyamuni!!!\n#include<bits/stdc++.h>\nusing namespace std;\n\nint read() {\n\tchar ch=getchar();\n\tint f=1,x=0;\n\twhile(ch<'0'||ch>'9') {\n\t\tif(ch=='-')\n\t\t\tf=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9') {\n\t\tx=x*10+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn f*x;\n}\nchar read_char() {\n\tchar ch=getchar();\n\twhile(!isalpha(ch)) {\n\t\tch=getchar();\n\t}\n\treturn ch;\n}\n\nconst int MAXN=20000+10;\n\nint n,cnt,k,ans,m,tot;\nint h[MAXN],sz[MAXN],dis[MAXN];\n\nstruct edge {\n\tint v,nxt;\n}e[MAXN<<1];\n\nvoid addedge(int u,int v) {\n\te[++cnt].nxt=h[u];\n\te[cnt].v=v;\n\th[u]=cnt;\n}\nvoid insert(int u,int v) {\n\taddedge(u,v);\n\taddedge(v,u);\n}\n\nvoid dfs1(int u,int fa) {\n\tdis[u]=dis[fa]+1;\n\tif(dis[u]-1>k/2) {\n\t\ttot++;\n\t}\n\tfor(int i=h[u];i;i=e[i].nxt) {\n\t\tint v=e[i].v;\n\t\tif(v!=fa) {\n\t\t\tdfs1(v,u);\n\t\t}\n\t}\n}\n\nint main() {\n\tcin>>n>>k;\n\tfor(int i=1;i<n;i++) {\n\t\tinsert(read(),read());\n\t}\n\t\n\tans=1e9+10;\n\tif(k&1) {\n\t\tfor(int u=1;u<=n;u++) {\n\t\t\tfor(int i=h[u];i;i=e[i].nxt) {\n\t\t\t\tint v=e[i].v;\n\t\t\t\tdis[v]=0;\n\t\t\t\tdfs1(u,v);\n\t\t\t\tdis[u]=0;\n\t\t\t\tdfs1(v,u);\n\t\t\t\tans=min(ans,tot);\n\t\t\t\ttot=0;\n\t\t\t}\n\t\t}\n\t}\n\telse {\n\t\tfor(int i=1;i<=n;i++) {\n\t\t\tdfs1(i,0);\n\t\t\tans=min(ans,tot);\n\t\t\ttot=0;\n\t\t}\n\t}\n\t\n\tcout<<ans<<endl;\n\t\n\treturn 0;\n}\n```\n\n",
        "postTime": 1662273573,
        "uid": 132976,
        "name": "huayucaiji",
        "ccfLevel": 6,
        "title": "AGC001 C Shorten Diameter"
    },
    {
        "content": "- \u5c06\u95ee\u9898\u6298\u534a\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u8003\u8651\u5947\u5076\u5206\u5f00\u8ba8\u8bba\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\u65e0\u8bba $k$ \u662f\u5947\u6570\u8fd8\u662f\u5076\u6570\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u627e\u5230\u4e00\u4e2a\u70b9\u6216\u4e00\u6761\u8fb9\u6765\u4f5c\u4e3a\u4e2d\u5fc3\uff0c\u8fd9\u65f6\u6211\u4eec\u5c31\u53ea\u9700\u8981\u53bb\u9664\u8ddd\u79bb\u4e2d\u5fc3\u8d85\u8fc7\u76f4\u5f84\u4e00\u534a\u7684\u70b9\u5373\u53ef\u3002\n\n\u679a\u4e3e\u4e2d\u5fc3\uff0c\u8ba1\u7b97\u8d21\u732e\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2)$\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nstruct node{int last,en,next;} e[4010];\nint n,D,x,y,tot,ans;\nvoid add(int x,int y)\n{\n\te[++tot].en=y;\n\te[tot].next=e[x].last;\n\te[x].last=tot;\n}\nint dg(int x,int fa,int dis,int D)\n{\n\tint ret=0;\n\tfor (int i=e[x].last;i;i=e[i].next)\n\t\tif (e[i].en!=fa) ret+=dg(e[i].en,x,dis+1,D);\n\treturn ret+(dis>D?1:0);\n}\nint main()\n{\n\tscanf(\"%d%d\",&n,&D);\n\tfor (int i=1;i<n;i++)\n\t\tscanf(\"%d%d\",&x,&y),add(x,y),add(y,x);\n\tans=0x3f3f3f3f;\n\tif (!(D&1))\n\t{\n\t\tfor (int i=1;i<=n;i++)\n\t\t\tans=min(ans,dg(i,0,0,D/2));\n\t}\n\telse\n\t{\n\t\tfor (int i=1;i<=n;i++)\n\t\t\tfor (int j=e[i].last;j;j=e[j].next)\n\t\t\t\tif (i<e[j].en) ans=min(ans,dg(i,e[j].en,0,(D-1)/2)+dg(e[j].en,i,0,(D-1)/2));\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1643155697,
        "uid": 157857,
        "name": "ImmortalWatcher",
        "ccfLevel": 6,
        "title": "[AGC001C] Shorten Diameter"
    },
    {
        "content": "## \u9898\u610f\u5206\u6790\uff1a\n\u7ed9\u51fa\u4e00\u4e2a N \u4e2a\u70b9\u7684\u6811\uff0c\u8981\u6c42\u5220\u53bb\u6700\u5c11\u7684\u70b9\u4f7f\u6811\u7684\u76f4\u5f84\u4e0d\u8d85\u8fc7 K \u3002\n\u6811\u7684\u76f4\u5f84\u5b9a\u4e49\u4e3a\u4e00\u68f5\u6811\u4e2d\u6700\u8fdc\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb\u3002\n\n## \u601d\u8def\uff1a\nK \u4e3a\u5076\u6570\u65f6\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u53d1\u73b0\uff1a\u968f\u4fbf\u9009\u4e00\u4e2a\u70b9\uff0c\u8fd9\u68f5\u6811\u6ee1\u8db3\u6761\u4ef6\u7684\u70b9\u5230\u90a3\u4e2a\u70b9\u7684\u8ddd\u79bb\u4e0d\u4f1a\u8d85\u8fc7 $ \\dfrac {k}{2} $\u3002\n\n\u56e0\u4e3a\u5982\u679c\u6709\u6ee1\u8db3\u6761\u4ef6\u7684\u70b9\u5230\u90a3\u4e2a\u70b9\u7684\u8ddd\u79bb\u8d85\u8fc7 $ \\dfrac {k}{2} $ \n\u90a3\u4e48\u6211\u4eec\u628a\u9009\u4e2d\u7684\u70b9\u79fb\u52a8\u4e00\u4e0b\uff0c\u8fd8\u662f\u6ee1\u8db3\u4e0a\u8ff0\u6027\u8d28\u3002\n\nK \u4e3a\u5947\u6570\u65f6\u6211\u786e\u5b9e\u8d70\u4e86\u4e00\u4e9b\u5f2f\u8def\uff0c\u4e00\u5f00\u59cb\u53ea\u662f\u4ee5\u4e3a\u4e0a\u8ff0\u60c5\u51b5\u4e0b\u5982\u679c\u53ef\u4ee5\u518d\u5f80\u4e0b\u6269\u5c55\u4e00\u4e2a\u70b9\u5c31\u6269\u5c55\uff0c\u7ed3\u679c\u534a\u5929\u6ca1\u8c03\u8fc7 QwQ \u3002\n\n\u5176\u5b9e\u6211\u4eec\u53ef\u4ee5\u8ba9\u4e00\u6761\u8fb9\u5f53\u4f5c\u4e0a\u8ff0\u7684\u70b9\uff0c\u6240\u4ee5\u8ddd\u79bb\u4e0d\u4f1a\u8d85\u8fc7 $\\dfrac {k-1}{2} $\u3002\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u679a\u4e3e\u70b9\u6216\u8fb9\uff0c\u7136\u540e\u8dd1 dfs \uff0c\u6c42\u89e3\u5373\u53ef\u3002\n\n\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define maxn 2005\n#define min(a,b) ((a)<(b)?(a):(b))\nstruct node { int v; node *nxt; } edge[maxn*2],*head[maxn],*ncnt;\nint n,k,dist[maxn],deg[maxn],d1,d2,ans;\nvoid addedge(int u,int v)\n{\n\tncnt++;\n\tncnt->v=v,ncnt->nxt=head[u];\n\thead[u]=ncnt;\n}\nvoid dfs(int u,int fa,int d)\n{\n\tdist[u]=d;\n\tfor(node *p=head[u];p;p=p->nxt)\n\t{\n\t\tint v=p->v;\n\t\tif(v==fa) continue;\n\t\tdfs(v,u,d+1);\n\t}\n}\nint main()\n{\n\tncnt=&edge[0];\n\tscanf(\"%d%d\",&n,&k);\n\tans=n;\n\tfor(int i=1;i<n;i++)\n\t{\n\t\tint u,v;\n\t\tscanf(\"%d%d\",&u,&v);\n\t\taddedge(u,v); addedge(v,u);\n\t\tdeg[u]++,deg[v]++;\n\t}\n\tif(k%2)\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(node *p=head[i];p;p=p->nxt)\n\t\t\t{\n\t\t\t\tif(p->v<i) continue;\n\t\t\t\tdfs(i,p->v,0); dfs(p->v,i,0);\n\t\t\t\tint cnt=0,tmp=k/2;\n\t\t\t\tfor(int j=1;j<=n;j++)\n\t\t\t\t\tif(dist[j]>tmp) cnt++;\n\t\t\t\tans=min(ans,cnt);\n\t\t\t}\n\telse\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tdfs(i,0,0);\n\t\t\tint cnt=0,tmp=k/2;\n\t\t\tfor(int j=1;j<=n;j++)\n\t\t\t\tif(dist[j]>tmp) cnt++;\n\t\t\tans=min(ans,cnt);\n\t\t}\n\tprintf(\"%d\\n\",ans);\n    return 0;\n}\n\n```\n",
        "postTime": 1626221478,
        "uid": 480340,
        "name": "Fengxiang008",
        "ccfLevel": 0,
        "title": "AT1981 \u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u94fe\u63a5](https://atcoder.jp/contests/agc001/tasks/agc001_c)\n\n### \u9898\u610f\n\n\u7ed9\u51fa\u4e00\u4e2a $n$ \u4e2a\u8282\u70b9\u7684\u6811\uff0c\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u5220\u9664\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9  \n\u95ee\u6700\u5c11\u9700\u8981\u8fdb\u884c\u591a\u5c11\u6b21\u64cd\u4f5c\uff0c\u624d\u80fd\u8ba9\u5269\u4e0b\u7684\u6811\u6ee1\u8db3\u76f4\u5f84\u4e0d\u8d85\u8fc7 $k$\n\n---- \n\n\u8003\u8651\u5bf9\u7b54\u6848\u6c42\u8865\u96c6\uff0c\u4e5f\u5c31\u662f\u8003\u8651\u7559\u4e0b\u54ea\u4e9b\u8282\u70b9\u3002  \n\u5bf9\u4e8e\u4e00\u68f5\u6811\u7684\u76f4\u5f84\u4e2d\u70b9\uff0c\u6ee1\u8db3\u6240\u6709\u70b9\u5230\u4e2d\u70b9\u7684\u8ddd\u79bb\u4e0d\u8d85\u8fc7\u76f4\u5f84\u7684\u4e00\u534a\u3002\u6ce8\u610f\u5f53\u76f4\u5f84\u957f\u5ea6\u4e3a\u5947\u6570\u65f6\uff0c\u76f4\u5f84\u4e2d\u70b9\u4e3a\u4e00\u6761\u8fb9  \n\u90a3\u4e48\uff0c\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9\uff08\u8fb9\uff09\u4f5c\u4e3a\u76f4\u5f84\u4e2d\u70b9\u65f6\uff0c\u76f4\u5f84\u4e0d\u8d85\u8fc7 $k$ \u7684\u6811\u7684\u6700\u5927\u8282\u70b9\u6570\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(n^2)$\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<cstring>\n#include<vector>\nusing namespace std;\nconst int Maxn=2010;\nvector <int> e[Maxn];\nint d[Maxn];\nint n,k,ans,tot;\ninline int read()\n{\n\tint s=0,w=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n\twhile(ch>='0' && ch<='9')s=(s<<3)+(s<<1)+(ch^48),ch=getchar();\n\treturn s*w;\n}\ninline void add(int x,int y)\n{\n\te[x].push_back(y);\n}\nvoid dfs(int x,int fa)\n{\n\td[x]=d[fa]+1;\n\tif(d[x]<=(k>>1))++tot;\n\tfor(int i=0;i<e[x].size();++i)\n\t{\n\t\tint y=e[x][i];\n\t\tif(y==fa)continue;\n\t\tdfs(y,x);\n\t}\n}\nint main()\n{\n\tn=read(),k=read();\n\tfor(int i=1;i<n;++i)\n\t{\n\t\tint x=read(),y=read();\n\t\tadd(x,y),add(y,x);\n\t}\n\tif(k & 1)\n\t{\n\t\tfor(int x=1;x<=n;++x)\n\t\tfor(int i=0;i<e[x].size();++i)\n\t\t{\n\t\t\tint y=e[x][i];\n\t\t\tif(x>y)continue;\n\t\t\ttot=0;\n\t\t\td[y]=-1,dfs(x,y);\n\t\t\td[x]=-1,dfs(y,x);\n\t\t\tans=max(ans,tot);\n\t\t}\n\t}\n\telse\n\t{\n\t\td[0]=-1;\n\t\tfor(int i=1;i<=n;++i)\n\t\t{\n\t\t\ttot=0,dfs(i,0);\n\t\t\tans=max(ans,tot);\n\t\t}\n\t}\n\tprintf(\"%d\\n\",n-ans);\n\treturn 0;\n}\n```",
        "postTime": 1620788184,
        "uid": 120362,
        "name": "Priori_Incantatem",
        "ccfLevel": 7,
        "title": "AGC001C - Shorten Diameter \u9898\u89e3"
    }
]