[
    {
        "content": "# \u601d\u8def\n\u5f02\u6216\u8fd0\u7b97\u9700\u8981\u5728\u4e8c\u8fdb\u5236\u4e0b\u8fd0\u884c\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u5148\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\u6765\u8f6c\u6362\u4e8c\u8fdb\u5236\uff0c\u7528\u4e00\u4e2a\u6570\u7ec4\u8bb0\u4e0b\u6765\u3002\n```cpp\nint zh(int x)\n{\n\tint i=0;\n\twhile(x>0) \n\t{\n        f[++i]+=x&1;\n        x/=2;\n    }\n}\n```\n \n\u7136\u540e\u6211\u4eec\u5728\u5faa\u73af\u4e2d\u591a\u52a0\u4e00\u4e2a\u53c2\u6570 $j$\uff0c\u7528\u6765\u8bb0\u5f55\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u7684\u7cfb\u6570\u3002\n\n\u6700\u540e\u53ea\u9700\u8981\u6267\u884c $ans \\gets ans+f_i \\times (n-f_i) \\times j$ \u5c31\u5f97\u51fa\u7b54\u6848\u4e86\u3002\n\n\u4e0b\u9762\u9644\u4e0a\u5b8c\u6574 AC \u4ee3\u7801\uff01\uff01\uff01\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nconst int N=1e2+10;\nconst int mod=1e9+7;//\u63d0\u524d\u5b9a\u4e49\uff0c\u65b9\u4fbf\nusing namespace std;\nint n,ans,x,f[N];\nint zh(int x)//\u8f6c\u6362\u51fd\u6570\n{\n\tint i=0;\n\twhile(x>0) \n\t{\n        f[++i]+=x&1;\n        x/=2;\n    }\n}\nsigned main() \n{\n    cin>>n;\n    for(int i=1;i<=n;i++) \n\t{\n        cin>>x;\n        zh(x);//\u8f6c\u4e8c\u8fdb\u5236\n    }\n    for(int i=1,j=1;i<=60;i++,j=j*2%mod) ans=(ans+f[i]%mod*(n-f[i])%mod*j%mod)%mod;\n    cout<<ans<<endl;//\u7d2f\u52a0\u8fc7\u7a0b\n    return 0;//\u6536\u573a\n}\n```",
        "postTime": 1663152994,
        "uid": 672793,
        "name": "Symbolize",
        "ccfLevel": 6,
        "title": "AT5267\u9898\u89e3"
    },
    {
        "content": "## Solution:\n\n\u96be\u5ea6\u53ef\u80fd\u662f\u7eff\u9898\u7684\u96be\u5ea6\uff0c\u6709\u4e00\u5b9a\u601d\u7ef4\u96be\u5ea6\u3002\n\n\u6211\u4eec\u6839\u636e\u5f02\u6216\u7684\u7279\u70b9\uff0c\u5373\u76f8\u540c\u5f970\uff0c\u4e0d\u540c\u5f971\u6765\u601d\u8003\u3002\n\n\u9996\u5148\uff0c\u5f02\u6216\u662f\u5728\u4e8c\u8fdb\u5236\u4e0b\u7684\u8fd0\u7b97\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5148\u7edf\u8ba1\u51fa\u5404\u4e2a\u4f4d\u6570\u4e0a\u76841\u7684\u4e2a\u6570\u3002\u800c\u6839\u636e\u5f02\u6216\u7684\u7279\u70b9\uff0c\u6211\u4eec\u4e0d\u96be\u53d1\u73b0\uff0c\u5728\u6bcf\u4e00\u4f4d\u4e0a\u53ea\u67091\u4e0e0\u8fdb\u884c\u6309\u4f4d\u5f02\u6216\u4e4b\u540e\u624d\u4f1a\u5bf9\u7b54\u6848\u4ea7\u751f\u8d21\u732e\u3002\n\n\u56e0\u6b64\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7edf\u8ba1\u51fa\u5404\u4e2a\u4f4d\u6570\u4e0a\u76841\u7684\u4e2a\u6570\uff0c\u540c\u65f6\u8ba1\u7b97\u51fa0\u7684\u4e2a\u6570\uff0c\u6839\u636e\u4e58\u6cd5\u539f\u7406\u6765\u8ba1\u7b97\u51fa\u8fd9\u4e9b1\u7684\u5bf9\u4e8e\u7b54\u6848\u7684\u8d21\u732e\u662f\u591a\u5c11\uff08\u6bcf\u4e00\u4e2a1\u4e0e\u6bcf\u4e00\u4e2a0\u914d\u5bf9\u90fd\u4f1a\u5bf9\u7b54\u6848\u4ea7\u751f\u8d21\u732e\uff09\uff0c\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u4e0d\u540c\u4f4d\u6570\u4e0a\u76841\u5bf9\u4e8e\u5341\u8fdb\u5236\u7b54\u6848\u7684\u8d21\u732e\u4e0d\u540c\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5c06\u4e8c\u8fdb\u5236\u8f6c\u6362\u4e3a\u5341\u8fdb\u5236\uff0c\u65b9\u5f0f\u4e0e\u624b\u8f6c\u65b9\u5f0f\u4e00\u6837\u3002\n\n\u5269\u4e0b\u7684\u7ec6\u8282\u8be6\u89c1\u4ee3\u7801\uff1a\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n, f[70], ans;\ninline int read() {\n    int x = 0, f = 1;\n    char c = getchar();\n    while (c < '0' || c > '9') {\n        if (c == '-')\n            f = -1;\n        c = getchar();\n    }\n    while (c >= '0' && c <= '9') {\n        x = (x << 3) + (x << 1) + (c ^ '0');\n        c = getchar();\n    }\n    return x * f;\n}\nsigned main() {\n    n = read();\n    for (register int i = 1; i <= n; i++) {\n        int a = read();\n        int j = 1;\n        while (a > 0) {\n            f[j++] += a & 1;//\u6309\u4f4d\u4e0e\u8fd0\u7b97\uff0c\u5f97\u51fa\u6b64\u4f4d\u4e0a\u662f\u5426\u4e3a1\n            a = a >> 1;//\u53f3\u79fb\uff0c\u5c06\u5224\u65ad\u8fc7\u7684\u4f4d\u6254\u6389\n        }\n    }\n    for (int i = 1, j = 1; i <= 60; i++, j = (j << 1) % 1000000007)//j\u5373\u4e3a\u4e0d\u540c\u4f4d\u6570\u7684\u4e58\u6570\uff0c\u7528\u4e8e\u4e8c\u8fdb\u5236\u8f6c\u5341\u8fdb\u5236\uff0ci\u7528\u4e8e\u679a\u4e3e\u4e0d\u540c\u4f4d\u6570\uff0c\u6700\u9ad8\u4e3a60\u6b21\u3002\n    {\n        ans = (ans + f[i] % 1000000007 * (n - f[i]) % 1000000007 * j % 1000000007) % 1000000007;\n        //f[i]\u4e3a1\u7684\u4e2a\u6570\uff0c\uff08n-f[i]\uff09\u4e3a0\u7684\u4e2a\u6570\u3002\n        //\u56e0\u4e3a\u4e00\u4e2a\u6570\u4f4d\u4e0a\u975e1\u53730\uff0c\u51cf\u53bb1\u7684\u4e2a\u6570\u5c31\u662f0\u7684\u4e2a\u6570\u3002\n        //j\u7528\u4e8e\u8fdb\u5236\u8f6c\u6362\n        //\u4e09\u4e2a\u76f8\u4e58\u5373\u4e3a\u8fd9\u4e2a\u6570\u4f4d\u4e0a\u76841\u5bf9\u7b54\u6848\u7684\u8d21\u732e\n    }\n    printf(\"%lld\", ans);\n    return 0;\n}\n```\n",
        "postTime": 1610533038,
        "uid": 198719,
        "name": "\u6d1b\u749f",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 AT5267 \u3010[ABC147D] Xor Sum 4\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e00\u4f4d\u8fdb\u884c\u5904\u7406\n\n\u7b54\u6848\u662f $ans=\\sum\\limits_{0}^{60} 2^i\\times cnt_i$\n\n$cnt_i$ \u662f $2^i$ \u8fd9\u4e00\u4f4d\u7684\u7b54\u6848\n\n\u5bf9\u4e8e $cnt_i$\uff0c\u6211\u4eec\u8fd9\u4e48\u5904\u7406\n\n\u6211\u4eec\u5904\u7406\u4e00\u4e2a\u5220\u9664\u4e00\u4e2a\n\n```cpp\nint x=0,y=0,cnt=0;\nfor (int i=1;i<=n;i++) if (f[i]&(1ll<<k)) ++x;else ++y;\nfor (int i=1;i<=n;i++) if (f[i]&(1ll<<k)) cnt=(cnt+y)%mod,--x;else cnt=(cnt+x)%mod,--y;\n```\n$x,y$ \u4e3a\u5269\u4f59\u7684\u8be5\u4f4d $1,0$ \u7684\u4e2a\u6570\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#define mod 1000000007\nint n;\nlong long f[300005],ans=0;\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor (int i=1;i<=n;i++) scanf(\"%lld\",&f[i]);\n\tfor (int k=0;k<=60;k++)\n\t{\n\t\tint x=0,y=0,cnt=0;\n\t\tfor (int i=1;i<=n;i++) if (f[i]&(1ll<<k)) ++x;else ++y;\n\t\tfor (int i=1;i<=n;i++) if (f[i]&(1ll<<k)) cnt=(cnt+y)%mod,--x;else cnt=(cnt+x)%mod,--y;\n\t\tans=(ans+(1ll<<k)%mod*cnt%mod)%mod;\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n\n\u7136\u540e\u5c31AC\u4e86\n\nQAQ",
        "postTime": 1582185366,
        "uid": 36957,
        "name": "RainFestival",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT5267 \u3010[ABC147D] Xor Sum 4\u3011"
    },
    {
        "content": "\u5047\u8bbe\u5df2\u7ecf\u6c42\u51fa$n$\u4e2a\u6570\u5b57\u4e8c\u8fdb\u5236\u4e0b\u5404\u4f4d$1$\u7684\u6570\u91cf$B_0,B_1...B_{60}$\u3002\n\n\u679a\u4e3e$a_i$\uff0c\u56e0\u4e3a$a_i$\u7684\u4e8c\u8fdb\u5236\u4e0b\u6bcf\u4e00\u4f4d$1$\u4e0d\u80fd\u5bf9\u81ea\u5df1\u4ea7\u751f\u8d21\u732e,\u6240\u4ee5\u5e94\u5148\u4ece$B_0,B_1...B_{60}$\u53d6\u51fa\u3002\n\n\u82e5$a_i$\u4e8c\u8fdb\u5236\u4e0b\u82e5\u5f53\u524d\u4f4d$j$\u4e3a$1$\uff0c\u5219$xor$\u53e6\u4e00\u4e2a$0$\u540e\u4ea7\u751f\u8d21\u732e\u4e3a$2^j$,\u800c\u5269\u4e0b$n-i$\u4e2a\u6570\u4e2d\u5269\u4f59\u7684$0$\u7684\u6570\u91cf\u4e3a$n-i-B_j$\uff0c\u603b\u8d21\u732e\u4e3a$2^j \\times (n-i-B_j)$\n\n\u82e5$a_i$\u4e8c\u8fdb\u5236\u4e0b\u82e5\u5f53\u524d\u4f4d$j$\u4e3a$0$\u540c\u7406.\n\n```\nsigned main()\n{\n\tn=read();\n\tR(i,1,n) a[i]=read();\n\tR(i,1,n) R(j,0,61) if(a[i]&(1ll<<j)) BT[j]++;\n\tint res=0;\n\tR(i,1,n)\n\t{ \n\t\tR(j,0,61) if(a[i]&(1ll<<j)) BT[j]--;\n\t\tR(j,0,61) if(a[i]&(1ll<<j)) res+=(1ll<<j)%mod*(n-i-BT[j])%mod,res%=mod; else res+=(1LL<<j)%mod*BT[j]%mod,res%=mod;\n\t}\n\tprintf(\"%lld\\n\",res);\n}\n\n```\n\n\n\n\n",
        "postTime": 1610507006,
        "uid": 115779,
        "name": "\u6781\u5bd2\u795e\u51b0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT5267 \u3010[ABC147D] Xor Sum 4\u3011"
    }
]