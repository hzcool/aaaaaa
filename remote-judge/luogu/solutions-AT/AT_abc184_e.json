[
    {
        "content": "~~BFS \u5927\u6dfc\u9898\uff0c AT \u65e5\u5e38\u96be\u5ea6\u504f\u9ad8\u3002~~\n\n**\u601d\u8def\uff1a**\n\n\u8ff7\u5bab\u95ee\u9898\u7684\u4f20\u9001\u95e8\u7248\u672c\uff0c\u4e0e\u6b63\u5e38\u7684\u8ff7\u5bab\u95ee\u9898\u4e0d\u540c\u7684\u5730\u65b9\u5728\u4e8e\uff0c\u591a\u51fa\u4e86\u82e5\u5e72\u4e2a\u4f20\u9001\u95e8\uff0c\u8fd9\u4e5f\u5c31\u610f\u5473\u7740\u8d70\u6cd5\u4e0d\u518d\u5355\u5355\u662f\u4e0a\u4e0b\u5de6\u53f3\u90a3\u4e48\u7b80\u5355\uff0c\u5982\u679c\u8d70\u5230\u4e86\u4f20\u9001\u95e8\u4e0a\uff0c\u5c31\u8981\u628a\u4e0e\u4e4b\u5bf9\u5e94\u7684\u4f20\u9001\u95e8\u5168\u90e8\u5165\u961f\uff0c\u7136\u540e\u8bb0\u5f55\u4f20\u9001\u95e8\u7684\u540d\u5b57\uff0c\u6c38\u4e0d\u518d\u7528\uff0c\u4ee5\u6b64\u8282\u7ea6\u65f6\u95f4\u3002\n\n\u4e3a\u4e86\u8bb0\u5f55\u4f20\u9001\u95e8\uff0c\u4e0d\u80fd\u50cf\u4f20\u7edf BFS \u90a3\u6837\u53ea\u5f00\u4e00\u4e2a ```bool``` \u6570\u7ec4\u8bb0\u5f55\u80fd\u4e0d\u80fd\u8d70\u5c31\u7b97\u5b8c\u4e8b\uff0c\u8fd8\u8981\u628a\u8bfb\u5165\u7684\u5730\u56fe\u7528 ```char``` \u6570\u7ec4\u4fdd\u5b58\u4e0b\u6765\uff0c\u5982\u679c\u9047\u5230\u4f20\u9001\u95e8\uff0c\u8fd8\u9700\u8981\u904d\u5386\u4e00\u904d\u5730\u56fe\uff0c\u627e\u5230\u6240\u6709\u5bf9\u5e94\u4f20\u9001\u95e8\u3002\n\n**\u4ee3\u7801\uff1a**\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,sx,sy,ex,ey;\nchar c[2005][2005];\nbool f[2005][2005];\nstruct wz{\n    int x,y,ans;\n};\nint gx[4]={0,0,1,-1};\nint gy[4]={1,-1,0,0};\nmap<char,bool> mapp;\nint bfs(){\n    queue<wz> q;\n    wz a;\n    a.x=sx;\n    a.y=sy;\n    a.ans=0;\n    q.push(a);\n    while(!q.empty()){\n        a=q.front();\n        q.pop();\n        if(a.x==ex&&a.y==ey) return a.ans;\n        for(int i=0;i<4;i++){\n            wz xin;\n            xin.x=gx[i]+a.x;\n            xin.y=gy[i]+a.y;\n            xin.ans=a.ans+1;\n            if(f[xin.x][xin.y]) q.push(xin),f[xin.x][xin.y]=false;\n        }\n        if(c[a.x][a.y]!='.'){\n            char cs=c[a.x][a.y];\n            if(mapp[cs]) continue;\n            mapp[cs]=true;\n            for(int i=1;i<=n;i++){\n                for(int j=1;j<=m;j++){\n                    if(c[i][j]==cs){\n                        wz xin;\n                        xin.x=i;\n                        xin.y=j;\n                        xin.ans=a.ans+1;\n                        q.push(xin);\n                        f[i][j]=false;\n                    }\n                }\n            }\n        }\n    }\n    return -1;\n}\nint main(){\n    cin>>n>>m;\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n            cin>>c[i][j];\n            if(c[i][j]!='#') f[i][j]=true;\n            if(c[i][j]=='S') sx=i,sy=j;\n            if(c[i][j]=='G') ex=i,ey=j;\n        }\n    }\n    cout<<bfs();\n\treturn 0;\n}\n```",
        "postTime": 1682379071,
        "uid": 754021,
        "name": "fish_love_cat",
        "ccfLevel": 0,
        "title": "[ABC184E] Third Avenue\u7684\u9898\u89e3"
    },
    {
        "content": "# \u601d\u8def\n\n\u672c\u9898\u662f\u8ff7\u5bab\u95ee\u9898\u7684\u53d8\u79cd\uff0c\u589e\u52a0\u4e86\u4e00\u4e2a\u4f20\u9001\u95e8\u7684\u6761\u4ef6\u3002\n\n\u601d\u8def\u4e5f\u5f88\u7b80\u5355\uff1a\n- \u4e0d\u662f\u4f20\u9001\u95e8\uff1a\u6b63\u5e38\u5f80\u56db\u4e2a\u65b9\u5411\u8bd5\u7740\u8d70\u3002\n- \u662f\u4f20\u9001\u95e8\uff1a\u904d\u5386\u6240\u6709\u4e0e\u4e4b\u76f8\u540c\u7684\u5b57\u6bcd\u7684\u4f4d\u7f6e\uff0c\u9010\u4e00\u5224\u65ad\u80fd\u4e0d\u80fd\u8d70\u3002\u5b57\u6bcd\u7684\u4f4d\u7f6e\u53ef\u4ee5\u9884\u5148\u5b58\u5728 vector \u91cc\u3002\n\n\u4f46\u662f\uff0c\u8fd9\u79cd\u6734\u7d20\u7684\u60f3\u6cd5\u7684\u6700\u574f\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(h^2w^2)$\uff0c\u5373\u5730\u56fe\u4e0a\u5168\u4e3a\u4f20\u9001\u95e8\u7684\u60c5\u51b5\u3002\n\n\u4f18\u5316\uff1a\u6bcf\u4e2a\u5b57\u6bcd\u7684\u4f20\u9001\u95e8\u6700\u591a\u904d\u5386\u4e00\u904d\uff0c\u4e4b\u540e\u518d\u9047\u5230\u8fd9\u4e2a\u5b57\u6bcd\u65f6\uff0c\u5b83\u7684\u76f8\u5173\u4f20\u9001\u95e8\u5c31\u90fd\u88ab\u8bbf\u95ee\u8fc7\u4e86\uff0c\u53ef\u4ee5\u8bb0\u5f55\u6bcf\u4e2a\u5b57\u6bcd\u662f\u5426\u88ab\u8bbf\u95ee\u8fc7\u7684\u60c5\u51b5\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u4e3a $O(hw)$\uff0c\u53ef\u4ee5\u901a\u8fc7\u672c\u9898\u3002\n\n# \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,bx,by,dir[][2]={{0,1},{0,-1},{1,0},{-1,0}};\nbool vis[2005][2005],vis2[205];\nstring a[2005];\nstruct node\n{\n\tint x,y,step;\n};\nvector<node>v[205];\nint bfs()\n{\n\tqueue<node>q;\n\tq.push({bx,by,0});\n\tvis[bx][by]=1;\n\twhile(q.size())\n\t{\n\t\tnode f=q.front();\n\t\tq.pop();\n\t\tchar now=a[f.x][f.y];\n\t\tif(now=='G') return f.step;\n\t\tfor(int i=0;i<4;i++)\n\t\t{\n\t\t\tint tx=f.x+dir[i][0],ty=f.y+dir[i][1];\n\t\t\tif(tx>=0&&tx<n&&ty>=0&&ty<m&&!vis[tx][ty]&&a[tx][ty]!='#')\n\t\t\t{\n\t\t\t\tvis[tx][ty]=1;\n\t\t\t\tq.push({tx,ty,f.step+1});\n\t\t\t}\n\t\t}\n\t\tif(islower(now)&&!vis2[now])\n\t\t{\n\t\t\tvis2[now]=1;\n\t\t\tfor(int i=0;i<v[now].size();i++)\n\t\t\t{\n\t\t\t\tint x=v[now][i].x,y=v[now][i].y;\n\t\t\t\tif(!vis[x][y])\n\t\t\t\t{\n\t\t\t\t\tvis[x][y]=1;\n\t\t\t\t\tq.push({x,y,f.step+1});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn -1;\n}\nint main()\n{\n\tcin>>n>>m;\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tcin>>a[i];\n\t\tfor(int j=0;j<m;j++)\n\t\t{\n\t\t\tif(a[i][j]=='S') bx=i,by=j;\n\t\t\tif(islower(a[i][j])) v[a[i][j]].push_back({i,j,0});\n\t\t}\n\t}\n\tcout<<bfs();\n\treturn 0;\n}\n```",
        "postTime": 1678784046,
        "uid": 742121,
        "name": "HadrianZhang",
        "ccfLevel": 4,
        "title": "AT_abc184_e [ABC184E] Third Avenue \u9898\u89e3"
    }
]