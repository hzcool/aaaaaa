[
    {
        "content": "\u7ed3\u8bba\u9898\u3002\n\n\u8bb0\u7b2c $k$ \u6b21\u5f02\u6216\u53d8\u6362\u7684 $A$ \u6570\u7ec4\u4e3a $A_k$\uff0c\u521d\u59cb\u4e3a $A_0$\u3002\n\n\u82e5\u7b2c\u4e00\u6b21\u9009\u53d6 $x=p$\uff0c\u5219 $A_1$ \u9664\u4e86 $A_1^p$ \u4e3a $0$\uff0c\u5176\u5b83\u90fd\u4ece $A_0^i$ \u53d8\u4e3a\u4e86 $A_0^i\\oplus A_0^p$\u3002\n\n\u82e5\u7b2c\u4e8c\u6b21\u9009\u53d6 $x=q$\uff0c\u5219 $A_2$ \u9664\u4e86 $A_2^q$ \u4e3a $0$\uff0c\u5176\u5b83\u90fd\u4ece $A_1^i=A_0^i\\oplus A_0^p$ \u53d8\u4e3a\u4e86 $A_0^i\\oplus A_0^p\\oplus A_1^q=A_0^i\\oplus A_0^p\\oplus A_0^q\\oplus A_0^p=A_0^i\\oplus A_0^q$\u3002\n\n\u6240\u4ee5\u6bcf\u4e00\u6b21\u53d8\u6362\u90fd\u628a\u524d\u4e00\u6b21\u7684\u7ed9\u6d88\u6389\u4e86\uff0c\u6362\u53e5\u8bdd\u8bf4\uff0c\u53ea\u7528\u64cd\u4f5c\u4e00\u6b21\u5c31\u80fd\u548c\u6700\u5927\u3002\n\n\u7edf\u8ba1\u6bcf\u4e00\u4e8c\u8fdb\u5236\u4f4d\u4e3a $1$ \u7684\u4e2a\u6570 $c_i$\uff0c\u9009\u62e9\u7b2c $i$ \u4e2a\u6570\uff0c\u82e5\u5b83\u7b2c $j$ \u4e3a\u4e3a $1$\uff0c\u5219\u5bf9\u4e8e\u7b2c $j$ \u4f4d\uff0c\u5bf9\u603b\u548c\u8fdb\u884c\u4e86 $2^j\\times(n-c_j\\times2)$ \u7684\u8d21\u732e\u3002\u6c42\u51fa\u6bcf\u4e2a\u6570\u8d21\u732e\u548c\u53d6\u6700\u5927\u503c\u5c31\u884c\u4e86\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int N=3e5+10,INF=0x3f3f3f3f;\nint read(){int x=0,f=1;char ch=getchar();while(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}while(ch>='0'&&ch<='9')x=x*10+ch-'0',ch=getchar();return x*f;}\nvoid Write(int x){if(x<0){putchar('-'),Write(-x);return;}if(x<10){putchar(x+'0');return;}Write(x/10),putchar(x%10+'0');}\nvoid write(int x,char *s){Write(x),printf(\"%s\",s);}\nint n,ans,sum,a[N],b[N][32],c[32];\nvoid solve()\n{\n\tn=read();\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\ta[i]=read(),ans+=a[i],sum+=a[i];\n\t\tfor(int j=0;j<30;j++)\n\t\t\tif(a[i]&(1<<j)) b[i][j]=1,c[j]++;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint tot=sum;\n\t\tfor(int j=0;j<30;j++) tot+=b[i][j]*(n-c[j]*2)*(1<<j);\n\t\tans=max(ans,tot);\n\t}\n\twrite(ans,\"\");\n}\nsigned main()\n{\n\tint T=1;\n\twhile(T--) solve();\n}\n```",
        "postTime": 1683962432,
        "uid": 743048,
        "name": "Lovely_Ran",
        "ccfLevel": 6,
        "title": "ARC135C"
    },
    {
        "content": "## \u601d\u8def\n\n\u5148\u73a9\u4e00\u904d\u3002\n\n\u5047\u5982\u6211\u4eec\u4ece\u4f4d\u7f6e $i$ \u9009\u53d6 $x$\uff0c\u90a3\u4e48\u6574\u4e2a\u6570\u5217\u9664\u4e86 $A_i$ \u53d8\u6210 $0$\uff0c\u5176\u5b83\u7684\u4ece $A_k$ \u53d8\u4e3a\u4e86 $A_k \\oplus A_i$\u3002\u5982\u679c\u6211\u4eec\u518d\u4ece\u4f4d\u7f6e $j$ \u9009\u53d6 $x$\uff0c\u90a3\u4e48 $A_i$ \u4ece $0$ \u53d8\u4e3a\u4e86 $A_j \\oplus A_i$\uff0c$A_j$ \u53d8\u4e3a\u4e86 $0$\uff0c\u5176\u5b83\u7684\u4ece $A_k$ \u53d8\u6210\u4e86 $A_k \\oplus A_i \\oplus A_j \\oplus A_i=A_k \\oplus A_j$\u3002\n\n\u53d1\u73b0\u4e86\u4ec0\u4e48\uff1f\u662f\u7684\uff0c\u5f53\u4f60\u7b2c\u4e8c\u64cd\u4f5c\u65f6\u4f60\u4f1a\u53d1\u73b0\u7b2c\u4e00\u6b21\u64cd\u4f5c\u7684\u5f71\u54cd\u88ab\u62b5\u6d88\u6389\u4e86\uff0c\u7b2c\u4e09\u6b21\u53ca\u4ee5\u540e\u64cd\u4f5c\u540c\u7406\uff0c\u6240\u4ee5\u4e0d\u7ba1\u4f60\u64cd\u4f5c\u591a\u5c11\u6b21\uff0c\u6700\u540e\u53ea\u6709\u6700\u540e\u4e00\u6b21\u64cd\u4f5c\u4f1a\u751f\u6548\u3002\n\n\u63a5\u4e0b\u6765\u5c31\u53d8\u6210\u4e86\u677f\u5b50\u4e86\uff0c\u5177\u4f53\u770b\u4ee3\u7801\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#pragma GCC optimize(\"Ofast\")\n#include<bits/stdc++.h>\n#define int long long\nconst int N=3e5+5,K=35;\nint n,a[N],b[K][2],ans;\n// n \u548c a[] \u89c1\u9898\u610f\uff0cb[i][j] \u662f\u8bb0\u5f55\u6574\u4e2a\u533a\u95f4\u5185\u6240\u6709\u6570\u4e8c\u8fdb\u5236\u4e0b\u7b2c i \u4f4d\u7684 j \u7684\u4e2a\u6570\uff08j \u2208 {0,1}\uff09\nsigned main()\n{\n//\tfreopen(\"input.in\",\"r\",stdin);\n//\tfreopen(\"output.out\",\"w\",stdout);\n\tcin.tie(0),cout.tie(0);\n\tios_base::sync_with_stdio(0);\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>a[i];\n\t\tans+=a[i]; // \u8fd9\u4e00\u6b65\u662f\u8bb0\u5f55\u4e0d\u64cd\u4f5c\u7684\u60c5\u51b5\u3002\n\t\tfor(int j=0;j<K-2;j++){\n\t\t\tb[j][1&(a[i]>>j)]++;\n\t\t}\n\t}\n\tfor(int i=1,cnt;i<=n;i++){\n\t\tcnt=0;\n\t\tfor(int j=0;j<K-2;j++){\n\t\t\tcnt+=(b[j][!(1&(a[i]>>j))]<<j);\n\t\t}\n\t\tans=max(ans,cnt);\n\t}\n\treturn cout<<ans<<endl,0;\n}\n```",
        "postTime": 1677593344,
        "uid": 612663,
        "name": "Pretharp",
        "ccfLevel": 5,
        "title": "ARC135C \u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT_arc135_c)\u3002\n\n## Solution\n\n\u8bc8\u9a97\u9898\u3002\n\n\u7b2c\u4e00\u6b21\u64cd\u4f5c\u540e\u53d8\u4e3a $p_x=a_x \\oplus a_y$\uff0c\u7b2c\u4e8c\u6b21\u64cd\u4f5c\u540e\u53d8\u4e3a $q_x=p_x \\oplus p_z=a_x \\oplus a_y \\oplus a_z \\oplus a_y=a_x \\oplus a_z$\u3002\u770b\u5f97\u51fa\u7b2c\u4e8c\u6b21\u64cd\u4f5c\u540e\u7b2c\u4e00\u6b21\u64cd\u4f5c\u5e26\u6765\u7684\u5f71\u54cd\u88ab\u6d88\u53bb\u4e86\u3002\n\n\u6240\u4ee5**\u6700\u591a\u64cd\u4f5c\u4e00\u6b21**\u5c31\u80fd\u5f97\u5230\u7b54\u6848\u3002\n\n\u5148\u4ee4 $ans=\\sum_{i=1}^n a_i$\u3002\u8bb0 $b_{i,j}$ \u4e3a $a_i$ \u4e8c\u8fdb\u5236\u4e0b\u7684\u7b2c $j$ \u4f4d\u7684\u503c\uff0c$c_j=\\sum_{i=1}^{n}b_{i,j}$\u3002\u628a $a_i$ \u6309\u4f4d\u62c6\u5f00\uff0c\u8ba1\u7b97\u4ee5\u5b83\u4e3a $x$ \u7684\u7ed3\u679c\uff1a\u82e5 $b_{i,j}=1$\uff0c\u5219\u5728\u7b2c $j$ \u4f4d\u4e0a\u7684\u8d21\u732e\u4e3a $2^j (n-c_j)$\uff1b\u5426\u5219\u4e3a $2^j \\times c_j$\u3002\u6240\u6709\u7684\u7ed3\u679c\u540c $ans$ \u53d6 $\\max$ \u5373\u53ef\u3002\n\u590d\u6742\u5ea6 $O(30 \\times n)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define il inline\n#define int long long\nusing namespace std;\nconst int N=3e5+5;\nconst int inf=1e9+7;\n\nil int wrd(){\n\tint x=0,f=1; char c=getchar();\n\twhile(!isdigit(c)){if(c=='-')f=-1;c=getchar();}\n\twhile(isdigit(c)){x=x*10+c-48;c=getchar();}\n\treturn x*f;\n}\n\nint n,a[N],c[31],ans,p,q;\nint b[N][31];\n\nvoid solve1(){\n\tfor(int i=1;i<=n;++i){\n\t\tint tot=0;\n\t\tfor(int j=1;j<=n;++j) tot+=(a[i]^a[j]);\n\t\tans=max(ans,tot);\n\t}\n}\n\nmain(){\n\tn=wrd();\n\tfor(int i=1;i<=n;++i) ans+=(a[i]=wrd());\n\tsort(a+1,a+n+1);\n\tfor(int i=1;i<=n;++i) for(int j=0;j<31;++j) if((a[i]>>j)&1) b[i][j]=1;\n\t\n\tfor(int i=0;i<31;++i){\n\t\tfor(int j=1;j<=n;++j) c[i]+=b[j][i];\n\t} \n\t\n\tfor(int i=1;i<=n;++i){\n\t\tint tot=0;\n\t\tfor(int j=0;j<31;++j){\n\t\t\tif(b[i][j]) tot+=((n-c[j])*(1<<j));\n\t\t\telse tot+=(c[j]*(1<<j));\n\t\t} \n\t\tans=max(ans,tot);\n\t}\n\t\n\treturn printf(\"%lld\",ans),0;\n}\n```",
        "postTime": 1683961853,
        "uid": 722253,
        "name": "cppcppcpp3",
        "ccfLevel": 0,
        "title": "ARC135C \u9898\u89e3"
    },
    {
        "content": "# [\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT_arc135_c)\n# \u9898\u76ee\u63cf\u8ff0\n\u6709\u6570\u7ec4 $a$\uff0c\u5176\u4e2d\u53ef\u6267\u884c\u64cd\u4f5c\u4efb\u610f\u6b21\uff08\u5f53\u7136\u53ef\u4ee5\u4e0d\u64cd\u4f5c\uff09\uff0c\u6bcf\u4e00\u6b21\u64cd\u4f5c\u53ef\u4ee5\u9009\u5b9a\u6570\u7ec4\u4e2d\u4e00\u4e2a\u6570 $a_{i}$\uff0c\u4f7f\u5f97 $\\forall k\\in a,a_{k}=a_{k}\\oplus a_{i}$\u3002\u6c42 $\\max{\\sum\\limits_{i=1}^{n}a_{i}}$\u3002\n# \u9898\u76ee\u5206\u6790\n## \u9996\u5148\u6a21\u62df\u4e00\u6ce2\n\u8ba9\u6211\u4eec\u5148\u8bd5\u7740\u64cd\u4f5c\u4e00\u6b21\uff0c\u4e0d\u59a8\u8bbe\u6539\u7684\u6570\u662f $a_{i}$\u3002\u663e\u7136\uff0c$a_{i}\\oplus a_{i}=0$\uff0c\u6362\u53e5\u8bdd\u8bf4\u5c31\u662f\u201c\u727a\u7272\u201d\u4e00\u4e2a\u6570\uff0c\u4f7f\u5269\u4f59\u7684\u6570\u90fd\u4e0e\u5b83\u5f02\u6216\u3002\n\n\u7b2c\u4e00\u6b21\u6570\u7ec4\u66f4\u6539\u4e3a\uff1a$a_{t}\\oplus a_{i},t\\in [1,n]$\u3002\n\n\u8bbe\u7b2c\u4e8c\u6b21\u66f4\u6539\u7684\u6570\u662f $a_{j}$\u3002\n\n\u5219\u7b2c\u4e8c\u6b21\u6570\u7ec4\u66f4\u6539\u4e3a\uff1a$(a_{t}\\oplus a_{i})\\oplus(a_{j}\\oplus a_{i})$ \u5373\u4e3a $a_{t}\\oplus a_{j}$\u3002\u76f8\u8f83\u4e8e\u66f4\u6539 $a_{j}$\uff0c\u8fd8\u6709\u4e00\u9879 $a_{i}\\oplus a_{j}$ \u6d88\u5931\u4e86\u3002\u6240\u4ee5 **\u66f4\u6539\u4e00\u6b21\u4e00\u5b9a\u6bd4\u66f4\u6539\u4e24\u6b21\u66f4\u4f18**\u3002\n\n\u540c\u7406\uff0c\u66f4\u6539 $k$ \u6b21\u4e00\u5b9a\u6bd4\u66f4\u6539\u4e00\u6b21\u66f4\u4f18\uff0c\u5176\u4e2d $(k>1)$\u3002\n### \u7ed3\u8bba\n\u672c\u9898\u4e2d\u4fee\u6539\u6b21\u6570 $k$ \u4e0d\u662f $0$ \u5c31\u662f $1$\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u8981\u4e48\u4e0d\u4fee\u6539\uff0c\u8981\u4e48\u4fee\u6539\u4e00\u6b21\u3002\n\n## \u65b9\u6cd5\n\u8bb0 $b_{i,j}$ \u4e3a $a_i$ \u4e8c\u8fdb\u5236\u4e0b\u7684\u7b2c $j$ \u4f4d\u7684\u503c\uff0c$c_j=\\sum_{i=1}^{n}b_{i,j}$\u3002\n\n\u82e5 $b_{i,j}=1$\uff0c\u5219\u5728\u7b2c $j$ \u4f4d\u4e0a\u7684\u8d21\u732e\u4e3a $(n-c_{j})\\times 2^{j}$\uff1b\u5426\u5219\u4e3a $c_{j}\\times 2^{j}$\u3002\u590d\u6742\u5ea6 $O(n)$\u3002\n# \u53c2\u8003\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int MAXN=3e5+5;\nconst int MAXM=30+5;\nint n,ans,sum;\nint a[MAXN];\nint used[MAXN][MAXM];\nint cnt[MAXM];\nsigned main(){\n\tcin.tie(0);\n\tcout.tie(0);\n\tios::sync_with_stdio(false);\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>a[i];\n\t\tans+=a[i];\n\t\tsum+=a[i];\n\t\tfor(int j=0;j<30;j++)\n\t\t\tif((1<<j)&a[i])\n\t\t\t\tused[i][j]=1;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=0;j<30;j++)\n\t\t\tcnt[j]+=used[i][j];\n\tfor(int i=1;i<=n;i++){\n\t\tint tot=sum;\n\t\tfor(int j=0;j<30;j++)\n\t\t\ttot+=used[i][j]*(n-cnt[j]*2)*(1<<j);\n\t\tans=max(ans,tot);\n\t}\n\tcout<<ans;\n}\n```",
        "postTime": 1683962442,
        "uid": 749636,
        "name": "Zhao_daodao",
        "ccfLevel": 0,
        "title": "AT_arc135_c XOR to All \u9898\u89e3"
    }
]