[
    {
        "content": "\u8003\u8651\u5230 $2$ \u662f\u4e00\u4e2a\u5f88\u597d\u7684\u4f20\u9012\u4ecb\u8d28\uff0c\u4e0d\u59a8\u8003\u5bdf\u5947\u5076\u6027\uff0c\u8003\u5bdf\u4e24\u70b9 $i<j$\uff1a\n\n\u8bbe $p(x)$ \u4e3a $x$ \u7684\u6700\u5c0f\u7684\u8d28\u56e0\u5b50\u3002\n\n- \u82e5 $i$ \u4e3a\u5947\uff0c$j$ \u4e3a\u5947\uff0c\u5f53 $i+p(i)\\leqslant j-p(j)$ \u65f6\u53ef\u4ee5\u8d70\u5230\u3002\n\n- \u82e5 $i$ \u4e3a\u5947\uff0c$j$ \u4e3a\u5076\uff0c\u5f53 $i+p(i)\\leqslant j$ \u65f6\u53ef\u4ee5\u8d70\u5230\u3002\n\n- \u82e5 $i$ \u4e3a\u5076\uff0c$j$ \u4e3a\u5947\uff0c\u5f53 $i\\leqslant j-p(j)$ \u65f6\u53ef\u4ee5\u8d70\u5230\u3002\n\n- \u82e5 $i$ \u4e3a\u5076\uff0c$j$ \u4e3a\u5076\uff0c$i$ \u53ef\u4ee5\u76f4\u63a5\u8d70\u5230 $j$\u3002\n\n\u5bb9\u6613\u7406\u89e3\u4ee5\u4e0a\u5f0f\u5b50\u7684\u6b63\u786e\u6027\uff0c\u5bb9\u6613\u53d1\u73b0\u6700\u591a\u53d6\u4e00\u4e2a\u5076\u6570\u3002\n\n\u5982\u679c\u53d6\u4e86\u5076\u6570 $pos$\uff0c\u5219\u4e00\u5b9a\u53d6\u53f3\u4fa7\u6240\u6709 $i-p(i)<pos$ \u7684\u548c\u5de6\u4fa7\u6240\u6709 $i+p(i)>pos$\u3002\n\n\u5426\u5219\u5168\u90fd\u662f\u5947\u6570\uff0c\u5219\u662f $\\min i+p(i)>\\max i-p(i)$\uff0c\u53ef\u4ee5\u679a\u4e3e\u4e00\u4e2a\u4e2d\u95f4\u503c\u3002\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=1e6+10;\nconst int mod=1e9+7;\n#define inf 1e9\ninline int read(){\n\tint x=0,f=1;char c=getchar();\n\twhile(c<'0'||c>'9'){if(c=='-')f=-1;c=getchar();}\n\twhile(c>='0'&&c<='9'){x=(x<<1)+(x<<3)+c-'0';c=getchar();}\n\treturn x*f;\n}\n#define ll long long\nint n,m,a[maxn],p[maxn];ll ans,S[maxn<<1];\nstruct BIT{\n\tll tr[maxn<<1];\n\tinline void add(int x,ll y){for(;x<=n+n;x+=x&(-x))tr[x]+=y;}\n\tinline ll query(int x){ll res=0;for(;x;x-=x&(-x))res+=tr[x];return res;}\n}T1,T2;\nint main(){\n\tn=read();\n\tfor(int i=1;i<=n;i++)a[i]=read();\n\tfor(int i=2;i<=n;i++){\n\t\tif(p[i])continue;\n\t\tfor(int j=i;j<=n;j+=i)\n\t\t\tif(!p[j])p[j]=i;\n\t}\n\tfor(int i=3;i<=n;i+=2)\n\t\tT2.add(i-p[i]+1,a[i]);\n\tfor(int i=2;i<=n;i++)\n\t\tif(i&1)T2.add(i-p[i]+1,-a[i]),T1.add(i+p[i],a[i]);\n\t\telse ans=max(ans,a[i]+T2.query(i)+T1.query(n+n)-T1.query(i));\n\tfor(int i=3;i<=n;i+=2)S[i-p[i]+1]+=a[i],S[i+p[i]]-=a[i];\n\tfor(int i=1;i<=n+n;i++)S[i]+=S[i-1],ans=max(ans,S[i]);\n\tprintf(\"%lld\\n\",ans+a[1]);\n\treturn 0;\n}\n```\n\n\u6df1\u6df1\u5730\u611f\u5230\u81ea\u5df1\u7684\u5f31\u5c0f\u3002",
        "postTime": 1667806269,
        "uid": 140876,
        "name": "syzf2222",
        "ccfLevel": 9,
        "title": "[ARC136E] Non-coprime DAG"
    },
    {
        "content": "\u9996\u5148\u628a $1$ \u6392\u9664\u5728\u5916\uff0c\u6700\u540e\u7b54\u6848\u76f4\u63a5\u52a0\u4e0a $a_1$ \u5373\u53ef\u3002\n\n\u8003\u8651\u600e\u6837\u7684\u4e24\u70b9 $x,y$ \u53ef\u4ee5\u5230\u8fbe\u3002\u7c7b\u4f3c\u4e8e CF870F Paths\uff0c\u53ef\u4ee5\u5f97\u5230\u5982\u4e0b\u7ed3\u8bba\uff1a\n\n- \u5982\u679c $x,y$ \u5747\u4e3a\u5076\u6570\uff0c\u90a3\u4e48\u5fc5\u7136\u53ef\u8fbe\u3002\n- \u5982\u679c $x$ \u5076\u6570\uff0c$y$ \u5947\u6570\uff0c\u90a3\u4e48\u53ef\u8fbe\u7684\u5145\u8981\u6761\u4ef6\u662f $x\\le y-m(y)$\n- \u5982\u679c $x$ \u5947\u6570\uff0c$y$ \u5076\u6570\uff0c\u90a3\u4e48\u53ef\u8fbe\u7684\u5145\u8981\u6761\u4ef6\u662f $x+m(x)\\le y$\u3002\n- \u5982\u679c $x,y$ \u90fd\u662f\u5947\u6570\uff0c\u90a3\u4e48\u53ef\u8fbe\u7684\u5145\u8981\u6761\u4ef6\u662f $x+m(x)\\le y-m(y)$\u3002\n\n\u5176\u4e2d $m(x)$ \u8868\u793a $x$ \u7684\u6700\u5c0f\u8d28\u56e0\u5b50\u3002\n\n\u8003\u8651\u5c06\u8fd9\u4e2a\u7ed3\u8bba\u6362\u4e00\u79cd\u5f62\u5f0f\u8868\u8fbe\u4f7f\u5176\u80fd\u591f\u5e94\u7528\u4e8e\u672c\u9898\u7684\u7ed3\u8bba\u4e2d\u3002\u5bf9\u4e8e\u4e00\u4e2a\u70b9 $x$ \u800c\u8a00\uff0c\u5b9a\u4e49\u5176\u6240\u8868\u793a\u7684\u533a\u95f4 $[l(x),r(x)]$ \u4e3a\uff1a\n\n- \u5982\u679c $x$ \u662f\u5076\u6570\uff0c\u90a3\u4e48 $l(x)=x$\uff0c$r(x)=x$\u3002\n- \u5426\u5219 $l(x)=x-m(x)+1,r(x)=x+m(x)-1$\u3002\n\n\u90a3\u4e48\u4e00\u4e2a\u96c6\u5408 $S$ \u5408\u6cd5\u7684\u5145\u8981\u6761\u4ef6\u662f\u5bf9\u4e8e\u6240\u6709 $x\\in S$ \u800c\u8a00\uff0c$[l(x),r(x)]$ \u7684\u4ea4\u975e\u7a7a\u3002\n\n\u8fd9\u6837\u6211\u4eec\u7ef4\u62a4\u4e00\u4e2a\u6570\u7ec4 $b$\uff0c\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a $x$\uff0c\u5bf9 $b$ \u4e2d $[l(x),r(x)]$ \u533a\u95f4\u52a0 $a_x$\uff0c\u7136\u540e\u8f93\u51fa $b$ \u6570\u7ec4\u7684\u6700\u5927\u503c\u5373\u53ef\u3002",
        "postTime": 1671607590,
        "uid": 115194,
        "name": "lTgMFePRoeZ",
        "ccfLevel": 9,
        "title": "arc136E"
    }
]