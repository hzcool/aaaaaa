[
    {
        "content": "### \u524d\u8a00\n\n\u5927\u5e38\u6570 $O(n^2)$ \u8dd1\u4e0d\u8fc7\u5c0f\u5e38\u6570 $O(n^3)$ \u5b9e\u9524\u4e86\u3002\n\n### \u601d\u8def\n\n\u8003\u8651\u4e8c\u7ef4\u54c8\u5e0c\u5224\u5b9a\u77e9\u9635\u76f8\u540c\u3002\n\n\u6211\u4eec\u628a\u539f\u77e9\u9635\u548c\u8f6c\u7f6e\u540e\u77e9\u9635\u5747\u5411\u5916\u5ef6\u62d3\u81f3 $2n\\times2n$\uff0c\u5219\u6bcf\u4e2a $(A,B)$ \u5bf9\u5bf9\u5e94\u7684\u77e9\u9635\u90fd\u662f\u5176\u7684\u4e00\u4e2a\u5b50\u77e9\u9635\u3002\n\n\u540c\u65f6\u5bf9\u4e24\u4e2a\u77e9\u9635\u4e0a\u4e8c\u7ef4\u54c8\u5e0c\u5c31\u597d\u4e86\u3002\n\n\u4e00\u4e2a\u77e9\u9635\u7684\u4e8c\u7ef4\u54c8\u5e0c\u503c\u4e3a $\\sum_{i=0}^{n-1}\\sum_{j=0}^{m-1}v_{i,j}b_1^ib_2^j$\uff0c\u663e\u7136\u53ef\u4ee5\u4e8c\u7ef4\u524d\u7f00\u548c\u3002\n\n\u6211\u4eec\u5148\u5bf9\u6bcf\u4e2a\u5b57\u7b26\u505a\u4e00\u4e2a\u5230 $[0,998244353)$ \u7684\u968f\u673a\u6620\u5c04\uff0c\u5728\u6a21 $998244353$ \u610f\u4e49\u4e0b\u55ef\u505a\u5c31\u597d\u4e86\u3002\n\n\u603b\u590d\u6742\u5ea6 $O(n^2)$\u3002\u5e38\u6570\u5f88\u5927\u3002\n\n### Code\n\n\u4f7f\u7528 `mt19937_64` \u7684\u6784\u9020\u51fd\u6570\u6765\u8fdb\u884c\u968f\u673a\u6620\u5c04\u3002\n\n```cpp\nconst ullt Mod=998244353,g1=3,g2=114514;\ntypedef ConstMod::mod_ullt<Mod>modint;\ntypedef std::vector<modint>modvec;\nmodint V[605][605],VT[605][605];\nmodint Pow1[605],Pow2[605];\nmodint Sum1[605][605],Sum2[605][605];\nchr C[305];\nint main()\n{\n#ifdef MYEE\n    freopen(\"QAQ.in\",\"r\",stdin);\n    freopen(\"QAQ.out\",\"w\",stdout);\n#endif\n    uint n;scanf(\"%u\",&n);\n    for(uint i=0;i<n;i++){\n        scanf(\"%s\",C);\n        for(uint j=0;j<n;j++)\n            VT[j+n][i+n]=VT[j+n][i]=VT[j][i+n]=VT[j][i]=V[i+n][j+n]\n                =V[i+n][j]=V[i][j+n]=V[i][j]=std::mt19937_64(C[j])();\n    }\n    Pow1[0]=1;for(uint i=1;i<=n*2;i++)Pow1[i]=Pow1[i-1]*g1;\n    Pow2[0]=1;for(uint i=1;i<=n*2;i++)Pow2[i]=Pow2[i-1]*g2;\n    for(uint i=0;i<n*2;i++)for(uint j=0;j<n*2;j++)\n        Sum1[i+1][j+1]=V[i][j]*Pow1[i]*Pow2[j],Sum2[i+1][j+1]=VT[i][j]*Pow1[i]*Pow2[j];\n    for(uint i=0;i<=n*2;i++)for(uint j=0;j<n*2;j++)\n        Sum1[i][j+1]+=Sum1[i][j],Sum2[i][j+1]+=Sum2[i][j];\n    for(uint i=0;i<n*2;i++)for(uint j=0;j<=n*2;j++)\n        Sum1[i+1][j]+=Sum1[i][j],Sum2[i+1][j]+=Sum2[i][j];\n    uint ans=0;\n    for(uint a=0;a<n;a++)for(uint b=0;b<n;b++)\n        if((Sum1[a+n][b+n]+Sum1[a][b]-Sum1[a][b+n]-Sum1[a+n][b])*Pow1[b]*Pow2[a]\n                ==(Sum2[b+n][a+n]+Sum2[b][a]-Sum2[b][a+n]-Sum2[b+n][a])*Pow1[a]*Pow2[b])\n            ans++;\n    printf(\"%u\\n\",ans);\n    return 0;\n}\n```\n",
        "postTime": 1681718912,
        "uid": 105050,
        "name": "myee",
        "ccfLevel": 7,
        "title": "agc023_b"
    },
    {
        "content": "# \u9898\u610f\u7b80\u8ff0\n\n\u7ed9\u5b9a\u4e00\u4e2a $n \\times n$ \u7684\u77e9\u9635 $S$ \uff0c\u6c42\u51fa\u6709\u591a\u5c11\u4e2a $0 \\leq a,b <n$ \uff0c\u5c06\u6700\u4e0b\u9762 $a$ \u884c\u79fb\u5230\u6700\u4e0a\u9762\uff0c\u5c06\u6700\u53f3\u8fb9 $b$ \u5217\u79fb\u5230\u6700\u5de6\u8fb9\uff0c\u6ee1\u8db3 $S(i,j)=S(j,i)$ \u3002\n\n# \u89e3\u6790\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5982\u679c $a,b$ \u6ee1\u8db3\u9898\u76ee\u8981\u6c42\uff0c\u90a3\u4e48 $a+x,b+x$ \u4e5f\u4e00\u5b9a\u4f1a\u6ee1\u8db3\u3002\u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u5b83\u4eec\u79fb\u52a8\u7684\u6570\u91cf\u4e00\u6837\uff0c\u6240\u4ee5\u5de6\u4e0b\u89d2\u7684\u6b63\u65b9\u5f62\u79fb\u5230\u53f3\u4e0a\u89d2\uff0c\u6700\u4e0b\u9762\u7684 $x$ \u884c\u79fb\u5230\u6700\u4e0a\u9762\uff0c\u6700\u53f3\u8fb9\u7684\u5217\u79fb\u5230\u6700\u5de6\u8fb9\u3002\u56e0\u4e3a $a,b$ \u6ee1\u8db3\u8981\u6c42\uff0c\u6240\u4ee5\u5de6\u4e0b\u89d2\u7684\u6b63\u65b9\u5f62\u5bf9\u79f0\uff0c\u6700\u4e0b\u9762\u7684 $x$ \u884c\u548c\u6700\u53f3\u8fb9\u7684 $x$ \u5217\u5bf9\u79f0\uff0c\u6240\u4ee5\u8fd8\u662f\u76f8\u7b49\u7684\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e $a$ \uff0c\u5c06\u6700\u4e0b\u9762\u7684 $a$ \u884c\u79fb\u5230\u6700\u4e0a\u9762\uff0c\u5224\u65ad\u662f\u5426\u53ef\u884c\u3002\u5982\u679c\u53ef\u4ee5\uff0c\u90a3\u4e48\u8ba1\u6570\u5668\u5c31\u52a0 $n$ \u3002\u56e0\u4e3a $a$ \u4ece $a$ \u5230 $n-1$ \u518d\u5230 $a-1$ \uff0c $b$ \u4ece $0$ \u5230 $n-1$ \u8fd9 $n$ \u79cd\u65b9\u6848\u90fd\u662f\u53ef\u884c\u7684\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint read()\n{\n\tint sum = 0, ne = 1;\n\tchar ch = getchar();\n\tfor (; (ch < '0' || ch > '9') && ch != '-'; ch = getchar());\n\tif (ch == '-')\n\t\tne = -1, ch = getchar();\n\tfor (; ch >= '0' && ch <= '9'; ch = getchar())\n\t\tsum = (sum << 3) + (sum << 1) + (ch - '0');\n\treturn sum * ne;\n}\nchar mp[305][305], tmp[305][305];\nsigned main()\n{\n\tint n = read();\n\tfor (int i = 1; i <= n; i++)\n\t\tscanf(\"%s\", mp[i] + 1);\n\tint ans = 0;\n\tfor (int i = 0; i < n; i++)\n\t{\n\t\tfor (int j = 1; j <= n; j++)\n\t\t\tfor (int k = 1; k <= n; k++)\n\t\t\t{\n\t\t\t\tif (i + j == n)\n\t\t\t\t\ttmp[n][k] = mp[j][k];\n\t\t\t\telse if (i + j > n)\n\t\t\t\t\ttmp[i + j - n][k] = mp[j][k];\n\t\t\t\telse tmp[i + j][k] = mp[j][k];\n\t\t\t}\n\t\tbool flag = 0;\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tfor (int j = 1; j <= n; j++)\n\t\t\t\tif (tmp[i][j] != tmp[j][i])\n\t\t\t\t{\n\t\t\t\t\tflag = 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tif (flag)\n\t\t\t\tbreak;\n\t\t}\n\t\tif (!flag)\n\t\t\t\tans += n; \n\t}\n\tprintf(\"%d\", ans);\n\treturn 0;\n}\n\n```\n\n",
        "postTime": 1659421541,
        "uid": 236414,
        "name": "zmza",
        "ccfLevel": 0,
        "title": "AT3953 [AGC023B] Find Symmetries\u9898\u89e3"
    },
    {
        "content": "## \u7b80\u8981\u5206\u6790\n\n$n^4$ \u66b4\u529b\u5e94\u8be5\u90fd\u4e0d\u96be\u60f3\uff0c$n^2$ \u679a\u4e3e\u5de6\u4e0a\u89d2\uff0c$n^2$ \u5224\u65ad\u662f\u5426\u6ee1\u8db3\u8981\u6c42\uff0c\u4f46\u662f\u8fd9\u6837\u663e\u7136\u4f1a\u8d85\u65f6\n\n\u8003\u8651\u600e\u4e48\u4f18\u5316\n\n\u663e\u7136 $n^2$ \u5224\u65ad\u5e94\u8be5\u662f\u4e0d\u80fd\u518d\u4f18\u5316\u7684\u4e86\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u51cf\u5c11\u679a\u4e3e\u6570\u91cf\n\n\u901a\u8fc7\u9898\u76ee\u7684\u8981\u6c42\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u4e00\u4e2a\u6b63\u65b9\u5f62\u6ee1\u8db3\u6761\u4ef6\uff0c\u90a3\u4e48\u5b83\u4e00\u5b9a\u662f\u5173\u4e8e\u5b83\u7684\u4e3b\u5bf9\u89d2\u7ebf\u8f74\u5bf9\u79f0\u7684\n\n\u5f53\u6211\u4eec\u7ee7\u7eed\u4ee5\u8fd9\u4e2a\u6b63\u65b9\u5f62\u7684\u4e3b\u5bf9\u89d2\u7ebf\u4e0a\u7684\u70b9\u4e3a\u5de6\u4e0a\u89d2\u65f6\uff0c\u6240\u5f62\u6210\u7684\u65b0\u7684\u6b63\u65b9\u5f62\u4e5f\u4e00\u5b9a\u662f\u6ee1\u8db3\u6761\u4ef6\u7684\n\n\u56e0\u4e3a\u65b0\u7684\u6b63\u65b9\u5f62\u65e0\u975e\u5c31\u662f\u5c06\u539f\u6b63\u65b9\u5f62\u7684\u4e0a\u65b9\u82e5\u5e72\u884c\u548c\u5de6\u8fb9\u82e5\u5e72\u5217\u5206\u522b\u987a\u5e8f\u4e0d\u53d8\u5730\u79fb\u5230\u4e86\u6700\u4e0b\u65b9\u548c\u6700\u53f3\u8fb9\uff0c\u4e0d\u5f71\u54cd\u5173\u4e8e\u4e3b\u5bf9\u89d2\u7ebf\u5bf9\u79f0\u7684\u6027\u8d28\n\n\u5982\u679c\u5bf9\u8fd9\u4e00\u6bb5\u4e0d\u61c2\u53ef\u4ee5\u753b\u4e2a\u56fe\u624b\u6a21\u4e00\u4e0b\n\n\u6709\u4e86\u8fd9\u4e2a\u6027\u8d28\u6211\u4eec\u5c31\u53ea\u9700\u8981\u679a\u4e3e $n$ \u6761\u4e0d\u540c\u7684\u4e3b\u5bf9\u89d2\u7ebf\u4e86\uff0c\u590d\u6742\u5ea6\u964d\u4e3a\u4e86 $O(n^3)$\n\n## \u5b8c\u6574\u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n#define ri register int\n#define N 605\nusing namespace std;\nint n, ans;\nchar s[N][N];\nsigned main()\n{\n\tscanf(\"%d\", &n);\n\tfor (ri i = 1; i <= n; ++i)\n\t{\n\t\tscanf(\"%s\", s[i] + 1);\n\t\tfor (ri j = 1; j <= n; ++j)\n\t\t\ts[i][j + n] = s[i][j];\n\t}\n\tfor (ri i = 1; i <= n; ++i)\n\t\tfor (ri j = 1; j <= n; ++j)\n\t\t\ts[i + n][j] = s[i + n][j + n] = s[i][j];\n\tfor (ri i = 0; i < n; ++i)\n\t{\n\t\tri f = 1;\n\t\tfor (ri x = 2; x <= n && f; ++x)\n\t\t\tfor (ri y = 1; y < x && f; ++y)\n\t\t\t\tif (s[x + i][y] != s[y + i][x])\n\t\t\t\t\tf = 0;\n\t\tif (f)\n\t\t\tans += n;\n\t}\n\tprintf(\"%d\", ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1606811249,
        "uid": 51692,
        "name": "\u706b\u8f66\u53f8\u673a",
        "ccfLevel": 0,
        "title": "\u9898\u89e3-AT3953"
    }
]