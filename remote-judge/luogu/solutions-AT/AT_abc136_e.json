[
    {
        "content": "\n\n### \u9898\u610f\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u4e3a $N$ \u7684\u5e8f\u5217\uff0c\u5141\u8bb8\u8fdb\u884c\u4e0d\u8d85\u8fc7 $K$ \u6b21\u64cd\u4f5c,\u6bcf\u4e00\u6b21\u64cd\u4f5c\u9009\u5b9a\u4e24\u4e2a\u4e0d\u540c\u7684\u6570 $A[i]$ \u548c $A[j]$\uff0c\u4f7f\u4e00\u4e2a\u6570 $+1$\uff0c\u4e00\u4e2a\u6570 $-1$\uff0c\u6700\u540e\u8ba9\u5e8f\u5217\u4e2d\u6bcf\u4e00\u4e2a\u6570\u90fd\u80fd\u88ab $P$ \u6574\u9664\uff0c\u6c42 $P$ \u7684\u6700\u5927\u503c\u3002\n\n------------\n### \u601d\u8def\n- \u627e\u627e\u9898\u76ee\u6027\u8d28\uff0c\u53d1\u73b0\u65e0\u8bba\u591a\u5c11\u6b21\u64cd\u4f5c\uff0c\u5e8f\u5217\u7684\u548c\u90fd\u4e0d\u4f1a\u53d8\uff0c\u6240\u4ee5 $P$ \u4e00\u5b9a\u662f $sum$ \u7684\u56e0\u6570\u3002\n- \u53c8\u56e0\u4e3a $sum<=1e9$\uff0c\u6240\u4ee5\u60f3\u5230\u679a\u4e3e $sum$ \u7684\u6240\u6709\u56e0\u6570\uff0c\u7136\u540e\u9a8c\u8bc1\u7b54\u6848\uff0c\u9898\u76ee\u53d8\u4e3a\u4f7f\u5e8f\u5217\u4e2d\u6bcf\u4e00\u4e2a\u6570\u53d8\u4e3a $P$ \u7684\u500d\u6570\u7684\u6700\u5c0f\u64cd\u4f5c\u6b21\u6570\u3002\n- \u5c06\u6bcf\u4e2a\u6570\u9664\u4ee5 $P$ \u7684\u4f59\u6570\u8fdb\u884c\u6392\u5e8f\uff0c\u60f3\u5230\u8d2a\u5fc3\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff1a\u4f59\u6570\u8f83\u5c0f\u7684\u7528\u51cf\u64cd\u4f5c\uff0c\u4f59\u6570\u5927\u7684\u7528\u52a0\u64cd\u4f5c\uff0c\u8fd9\u6837\u6309\u7167\u4f59\u6570\u7531\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u9996\u5c3e\u7528\u4e00\u4e2a\u64cd\u4f5c\u3002\n\n---------------\n\n### \u4ee3\u7801\n```\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\nusing namespace std;\nint n,k,a[503],sum,ans=1,det[503];\nbool check(int x)\n{\n    for(int i=1;i<=n;i++) det[i]=a[i]%x;\n    sort(det+1,det+n+1);\n    int l=1,r=n; long long opc=0;\n    while(l<=r)\n\t{\n        while(det[l]%x==0&&l<=r) ++l;\n        while(det[r]%x==0&&l<=r) --r;\n        int tmp=min(det[l]%x,x-det[r]%x);\n        det[l]-=tmp,det[r]+=tmp; opc+=tmp;\n    }\n    return (opc<=k);\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&k);\n    for(int i=1;i<=n;i++) scanf(\"%d\",&a[i]),sum+=a[i];\n    for(int k=sqrt(sum);k;--k)\n\t{\n\t\tif(sum%k) continue;\n        if(check(k)) ans=max(ans,k);\n        if(check(sum/k)) ans=max(ans,sum/k);\n    }\n    printf(\"%d\\n\",ans);\n    return 0;\n}\n```",
        "postTime": 1609229401,
        "uid": 299811,
        "name": "wuwendongxi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT4842 \u3010[ABC136E] Max GCD\u3011"
    },
    {
        "content": "## Sol \n\u8bb0\u8fd9\u4e2a\u6570\u5217\u7684\u548c\u4e3a $sum$\u3002  \n\u90a3\u4e48\u663e\u7136\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u6b21\u64cd\u4f5c\uff0c$sum$ \u7684\u503c\u90fd\u4e0d\u4f1a\u6539\u53d8\u3002  \n\u6700\u540e\u7684\u7b54\u6848\uff0c\u4e5f\u4e00\u5b9a\u662f $sum$ \u7684\u56e0\u6570\u3002  \n\u90a3\u4e48\u6211\u4eec\u679a\u4e3e\u4e00\u4e0b $sum$ \u7684\u56e0\u6570\uff0c\u7136\u540e\u5224\u65ad\u4e00\u4e0b\u8fd9\u4e2a\u503c\u662f\u5426\u53ef\u884c\u3002  \n\u8003\u8651\u600e\u4e48\u5224\u65ad\u3002  \n\u8003\u8651\u8d2a\u5fc3\u3002  \n\u6211\u4eec\u5bf9\u4f59\u6570\u8f83\u5c0f\u7684\u6570\u8fdb\u884c\u51cf\u64cd\u4f5c\uff0c\u7136\u540e\u5bf9\u4e8e\u4f59\u6570\u8f83\u5927\u7684\u6570\u8fdb\u884c\u52a0\u64cd\u4f5c\u5373\u53ef\u3002  \n\u6700\u540e\u9a8c\u8bc1\u4e00\u4e0b\uff0c\u53d6\u4e2a $max$ \u5c31\u884c\u3002  \n## Code  \n```cpp\n//LYC_music yyds!\n#include<bits/stdc++.h>\nusing namespace std;\nint read()\n{\n\tint pos=1,num=0;\n\tchar ch=getchar();\n\twhile (!isdigit(ch))\n\t{\n\t\tif (ch=='-') pos=-1;\n\t\tch=getchar();\n\t}\n\twhile (isdigit(ch))\n\t{\n\t\tnum=num*10+(int)(ch-'0');\n\t\tch=getchar();\n\t}\n\treturn pos*num;\n}\nvoid write(int x)\n{\n\tif (x<0)\n\t{\n\t\tputchar('-');\n\t\twrite(-x);\n\t\treturn;\n\t}\n\tif (x>=10) write(x/10);\n\tputchar(x%10+'0');\n}\nvoid writesp(int x)\n{\n\twrite(x);\n\tputchar(' ');\n}\nvoid writeln(int x)\n{\n\twrite(x);\n\tputchar('\\n');\n}\nint n,k,sum,Max;\nint a[10001],f[10001];\nbool cmp(int x,int y)\n{\n\treturn x<y;\t\n}\nint check(int x)\n{\n\tint ans=0;\n\tfor (int i=1;i<=n;i++)\n\t\tf[i]=a[i]%x;\n\tsort(f+1,f+n+1,cmp);\n\tint l=1,r=n;\n\twhile (l<=r)\n\t{\n\t\tint x1=f[l],x2=x-f[r];\n\t\tif (x1<x2) ans=ans+x1,f[r]=f[r]+x1,l++;\n\t\tif (x1>x2) ans=ans+x2,f[l]=f[l]-x2,r--;\n\t\tif (x1==x2) ans=ans+x1,l++,r--;\n//\t\twritesp(x1),writeln(x2);\n\t}\n\treturn ans;\n} \nsigned main()\n{\n\tn=read(),k=read();\n\tfor (int i=1;i<=n;i++)\n\t{\n\t\ta[i]=read();\n\t\tsum+=a[i];\n\t}\n\tfor (int i=1;i<=sqrt(sum);i++)\n\t\tif (sum%i==0)\n\t\t{\n\t\t\tif (check(i)<=k) Max=max(Max,i);\n//\t\t\twritesp(i);writeln(check(i));\n\t\t\tif (check(sum/i)<=k) Max=max(Max,sum/i);\n//\t\t\twritesp(sum/i);writeln(check(sum/i));\n\t\t}\n\twriteln(Max);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1623591231,
        "uid": 167999,
        "name": "dd_d",
        "ccfLevel": 6,
        "title": "\u3010\u9898\u89e3\u3011AT4842 [ABC136E] Max GCD"
    },
    {
        "content": "\u53c8\u662f\u597d\u6c34\u7684\u4e00\u9053\u7eff\u9898\u3002\u3002\n\n------------\n\n\u663e\u7136\uff0c$\\sum^{n}_{i=1}A_i$ \u7684\u503c\u4e0d\u53d8\u3002\n\n\u8003\u8651\u82e5\u4e00\u4e2a\u6570\u80fd\u6574\u9664\u6240\u6709\u7684 $A_i$\uff0c\u5219\u4e00\u5b9a\u80fd\u6574\u9664 $\\sum^{n}_{i=1}A_i$\u3002\n\n\u90a3\u4e48\u53ef\u4ee5\u627e\u51fa $\\sum^{n}_{i=1}A_i$ \u7684\u6240\u6709\u56e0\u6570\uff0c\u6328\u4e2a\u8fdb\u884c `check` \u5373\u53ef\u3002\n\n\u5982\u4f55 `check` \u5462\uff1f\u8003\u8651\u8d2a\u5fc3\u6309 $A_i\\mod x$ \u6765\u6392\u5e8f\uff0c\u6bcf\u6b21\u7528\u6700\u5927\u7684\u548c\u6700\u5c0f\u7684\u8fdb\u884c\u64cd\u4f5c\uff0c\u53cc\u6307\u9488 $\\operatorname{O}(n)$ \u6c42\u89e3\u3002\n\n\u603b\u4f53\u590d\u6742\u5ea6 $\\operatorname{O}(n\\times\\operatorname{d}(n))$\uff0c\u5176\u4e2d $\\operatorname{d}(n)$ \u8868\u793a $n$ \u7684\u56e0\u6570\u4e2a\u6570\u3002\u8fd8\u662f\u8fc7\u7684\u53bb\u7684\u5427\u3002\n\n------------\n\n\u4ee3\u7801\u5f88\u597d\u7406\u89e3\u5427\u3002\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=2e5;\nint unprime[maxn],prime[maxn],pcnt;\nvoid get_prime(int mx){\n    for(int i=2;i<=mx;i++){\n        if(!unprime[i]){\n            prime[++pcnt]=i;\n            for(int j=i*2;j<=mx;j+=i)\n                unprime[j]=1;\n        }\n    }\n    return ;\n}\nint n,k,a[1680],b[1680],sum,ans;\nbool check(int x){\n    for(int i=1;i<=n;i++)\n        b[i]=a[i]%x;\n    sort(b+1,b+n+1);\n    int l=1,r=n,cnt=0;\n    while(!b[l])\n        l++;\n    while(l<=r){\n        if(cnt>k)\n            break;\n        if(b[l]==x-b[r]){\n            cnt+=b[l];\n            l++;\n            r--;\n        }\n        else if(b[l]<x-b[r]){\n            cnt+=b[l];\n            b[r]+=b[l];\n            l++;\n        }\n        else{\n            cnt+=x-b[r];\n            b[l]-=(x-b[r]);\n            r--;\n        }\n    }\n    return cnt<=k;\n}\nint main(){\n    scanf(\"%d%d\",&n,&k);\n    for(int i=1;i<=n;i++){\n        scanf(\"%d\",&a[i]);\n        sum+=a[i];\n    }\n    get_prime(sqrt(sum+168)+168);\n    for(int i=1;i<=sqrt(sum)+1;i++)\n        if(sum%i==0){\n            if(i>ans&&check(i))\n                ans=i;\n            if(sum/i>ans&&check(sum/i))\n                ans=sum/i;\n        }\n    printf(\"%d\",ans);\n    return 0;\n}\n```\n",
        "postTime": 1681486917,
        "uid": 526094,
        "name": "Wf_yjqd",
        "ccfLevel": 0,
        "title": "AT_abc136_e [ABC136E] Max GCD"
    },
    {
        "content": "## \u9898\u76ee\uff1a[AT_abc136_e](https://www.luogu.com.cn/problem/AT_abc136_e)\n## \u601d\u8def\uff1a\n**\u9996\u5148**\uff0c\u4e0d\u8bba\u505a\u591a\u5c11\u6b21\u64cd\u4f5c \uff0c\u5e8f\u5217\u7684\u603b\u548c $sum$ \u6c38\u8fdc\u4e0d\u53d8\u3002\u800c\u9898\u610f\u4e2d\u8ba9\u6211\u4eec\u6c42\u6700\u5927\u7684\u6700\u5c0f\u503c $x$ \uff0c\u65e2\u7136\u5b83\u662f\u5e8f\u5217\u4e2d\u6240\u6709\u6570\u7684\u56e0\u5b50\uff0c\u90a3\u4e48\u5b83\u80af\u5b9a\u4e5f\u662f $sum$ \u7684\u56e0\u5b50\u3002\n\n**\u7136\u540e**\uff0c\u770b\u6570\u636e\u53d1\u73b0 $sum$ \u7684\u89c4\u6a21\u4e5f\u4e0d\u5927\uff0c $O\\left(\\sqrt{sum}\\right)$ \u7684\u679a\u4e3e\u80af\u5b9a\u80fd\u8fc7\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u4ece $1-\\sqrt{sum}$ \u4e2d\u679a\u4e3e $sum$ \u7684\u56e0\u6570\uff0c\u7136\u540e\u5224\u65ad\u662f\u5426\u53ef\u884c\uff0c\u53d6\u6700\u5927\u503c\u3002\n\n**\u5982\u4f55\u5224\u65ad**\uff1a\n\n\u5148\u8ba1\u7b97\u51fa\u6240\u6709\u6570\u5bf9\u4e8e\u5f53\u524d $x$ \u7684\u4f59\u6570\u3002\u7531\u4e8e\u4e00\u4e2a\u6570\u8981\u6210\u4e3a $x$ \u7684\u500d\u6570\uff0c\u53ea\u80fd\u5f80\u4e0b**\u51cf\u6389\u5b83\u7684\u4f59\u6570**\uff0c\u6216\u52a0\u4e0a**\u5b83\u7684\u4f59\u6570\u4e0e $x$ \u7684\u5dee\u503c**\uff0c\u56e0\u6b64\u4ece\u5c0f\u5230\u5927\u6392\u5217\u3002\n\n\u7136\u540e\u7528\u53cc\u6307\u9488\u53bb\u904d\u5386\u4f59\u6570\uff0c\u8d2a\u5fc3\u5730\u5c06\u4f59\u6570\u5c0f\u7684\u6570\u8865\u7ed9\u4f59\u6570\u8f83\u5927\u7684\u6570\u5373\u53ef\u3002\u6700\u540e\u68c0\u9a8c\uff0c\u53ef\u884c\u5c31\u53d6\u6700\u5927\u503c\u3002\n\n## \u4ee3\u7801\uff1a\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint read(){ \n\tint num=0,sign=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){\n\t\tif(ch=='-') sign=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9'){\n\t\tnum=(num<<3)+(num<<1)+(ch^48);\n\t\tch=getchar(); \n\t}\n\treturn num*sign;\n} \nvoid write(int x){ \n\tif(x<0) putchar('-'),x=-x;\n\tif(x>9) write(x/10);\n\tputchar(x%10+'0');\n\treturn;\n}\nint n,k,ans=-1;\nint a[510];\nbool check(int x){\n\tvector<int> ve;\n\tint res=0;\n\tfor(int i=1;i<=n;i++){\n\t\tif(a[i]%x) ve.push_back(a[i]%x);\n\t}\n\tsort(ve.begin(),ve.end());\n\tint l=0,r=ve.size()-1;\n\twhile(l<r){\n\t\tint tmp=min(ve[l],x-ve[r]);\n\t\tres+=tmp;\n\t\tve[l]-=tmp;\n\t\tif(!ve[l]) l++;\n\t\tve[r]+=tmp;\n\t\tif(ve[r]==x) r--;\n\t}\n\treturn res<=k;\n}\nint sum;\nsigned main(){\n\tn=read(),k=read();\n\tfor(int i=1;i<=n;i++) sum+=(a[i]=read());\n\tfor(int i=1;i<=sqrt(sum);i++){\n\t\tif(sum%i==0){\n\t\t\tif(check(i)) ans=max(ans,i); \n\t\t    if(check(sum/i)) ans=max(ans,sum/i);//\u4e24\u4e2a\u56e0\u6570\u4e24\u4e24\u5339\u914d\uff0c\u52a0\u5feb\u679a\u4e3e \n\t\t}\n\t}\n\twrite(ans);\n\treturn 0;\n} \n```\n",
        "postTime": 1673319215,
        "uid": 685779,
        "name": "Dreamerly",
        "ccfLevel": 0,
        "title": "AT_abc136_e \u9898\u89e3"
    }
]