[
    {
        "content": "# AT4525 \u3010Knapsack 1\u3011\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT4525)\n\n\u5f88\u663e\u7136\uff0c\u672c\u9898\u5c31\u662f01\u80cc\u5305\u7684\u88f8\u9898\uff0c\u90a3\u4e48\u5c31\u76f4\u63a5\u4e0a\u677f\u5b50\u5c31ok\u4e86\u3002\n\n\u5f88\u663e\u7136\uff0c \u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e8c\u7ef4\u80cc\u5305\u7684\u8f6c\u79fb\u65b9\u7a0b\uff1a$ f[i][j]=\\max(f[i-1][j-w[i]]+v[i],f[i-1][j]) $\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\nfor(int i=1;i<=n;++i){\n\tfor(int j=1;j<=m;++j){\n\t\tif(j>=w[i])f[i][j]=max(f[i-1][j-w[i]]+v[i],f[i-1][j]);\n\t\telse f[i][j]=f[i-1][j];\t\n\t}\n}\n```\n\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8003\u8651\u538b\u7f29\u6389\u4e00\u7ef4\uff0c\u5373\u5c06\u539f\u672c\u7684$f[i][j]$\u66f4\u6539\u4e3a$f[j]$\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5c06\u7b2c\u4e8c\u5c42\u5faa\u73af\u7684\u7684\u987a\u5e8f\u7a0d\u4f5c\u6539\u53d8\u3002\n\n\u5219\u539f\u65b9\u7a0b\u53d8\u4e3a\uff1a$f[j]=\\max(f[j-w[i]]+v[i],f[j])$\n\n\n\u6539\u53d8\u5982\u4e0b\uff1a\n```cpp\nfor(int j=m;j>=w[i];--j)\n```\n\n\u89e3\u91ca\u5982\u4e0b\uff1a\n\n\u4e4b\u6240\u4ee5\u8fd9\u4e48\u6539\u53d8\u5462\uff0c\u662f\u56e0\u4e3a\u679a\u4e3e\u5230\u5f53\u524d\u7684$j$\u65f6\uff0c$j-w[i]$ \u8fd8\u6ca1\u6709\u88ab\u679a\u4e3e\u5230\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5ffd\u7565\u6389\u539f\u5148\u7684\u7b2c\u4e00\u7ef4\u3002\n\n\u672c\u9898\u5b8c\u6574AC\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int mod=1e9+7;\nconst double eps=1e7-8;\nconst int INF=0x3f3f3f3f;\nconst int maxn=1e5+5;\nconst int maxm=1e6+5;\nll n,m,f[maxn],w[maxn],v[maxn]; \n//\u672c\u9898\u6709\u4e2a\u503c\u5f97\u6ce8\u610f\u7684\u5730\u65b9\u5c31\u662f\uff0c\u672c\u9898\u53ef\u80fd\u4f1a\u70b8int\uff0c\u6240\u4ee5\u5f97\u5f00ll\nint main(int argc, char const *argv[]){\n\tstd::ios::sync_with_stdio(false);\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;++i)cin>>w[i]>>v[i];\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=m;j>=w[i];--j){\n\t\t\tf[j]=max(f[j-w[i]]+v[i],f[j]);\n\t\t}\n\t}\n\tcout<<f[m];\n\treturn 0;\n}\n```\n\n\u672c\u7bc7\u9898\u89e3\u5c31\u5230\u6b64\u7ed3\u675f\u4e86\uff0c\u5982\u679c\u559c\u6b22\uff0c\u8fd8\u8bf7\u70b9\u4e2a\u8d5e\u5427\u3002",
        "postTime": 1609166699,
        "uid": 235801,
        "name": "\u89e6\u60c5\u79bb\u6b87",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 AT4525 \u3010Knapsack 1\u3011"
    },
    {
        "content": "## \u5176\u5b9e\u5c31\u662f\u4e00\u9053$01$\u80cc\u5305\u7684\u677f\u5b50\u9898\n### \u6211\u4eec\u8bbe$dp[i][j]$\u8868\u793a\u8003\u8651\u4e86$i$\u4e2a\u7269\u54c1\uff0c\u80cc\u5305\u5bb9\u91cf\u4e3a$j$\u7684\u6700\u5927\u4ef7\u503c\u3002\u6240\u4ee5\u5728\u7b97\u65f6\uff0c\u53ea\u6709\u4e24\u79cd\u60c5\u51b5\u9700\u8981\u8003\u8651\n#### - \u9009\u7b2c$i$\u4ef6\u7269\u54c1\uff0c\u90a3\u4e48\u80cc\u5305\u5bb9\u91cf\u5269\u4f59$j-w_i$\uff0c$i-1$\u4e2a\u7269\u54c1\uff0c\u4ef7\u503c\u4e3a$dp[i-1][j-w_i]+v_i$\n\n#### - \u4e0d\u9009\u7b2c$i$\u4ef6\u7269\u54c1\uff0c\u90a3\u4e48\u80cc\u5305\u5bb9\u91cf\u4ecd\u7136\u4e0d\u53d8\u4e3a$j$\uff0c\u8fd9\u65f6\u4ef7\u503c\u4e3a$dp[i-1][j]$\n----\n\n#### \u6240\u4ee5\u53ef\u4ee5\u5f97\u5230$dp$\u7684\u8f6c\u79fb\u65b9\u7a0b:\n![](https://cdn.luogu.com.cn/upload/image_hosting/a4n9vjpy.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n-----\n## \u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002",
        "postTime": 1609167766,
        "uid": 186794,
        "name": "ExcaliburNGod",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT4525 \u3010Knapsack 1\u3011"
    },
    {
        "content": ">### [\u6d1b\u8c37\u9898\u76ee\u9875\u9762\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT4525) & [AtCoder\u9898\u76ee\u9875\u9762\u4f20\u9001\u95e8](https://atcoder.jp/contests/dp/tasks/dp_d)\n\n>\u6709$n$\u4e2a\u7269\u54c1\uff0c\u7b2c$i$\u4e2a\u7269\u54c1\u91cd\u91cf\u4e3a$w_i$\uff0c\u4ef7\u503c\u4e3a$v_i$\u3002\u8981\u9009\u82e5\u5e72\u4e2a\u7269\u54c1\u88c5\u8fdb\u4e00\u4e2a\u5bb9\u91cf\u4e3a$m$\u7684\u80cc\u5305\uff0c\u6c42\u5728\u603b\u91cd\u91cf\u4e0d\u8d85\u8fc7$m$\u7684\u60c5\u51b5\u4e0b\uff0c\u603b\u4ef7\u503c\u7684\u6700\u5927\u503c\u3002\n\n>$n\\in[1,100],m\\in\\left[1,10^5\\right]$\u3002\n\n01\u80cc\u5305\u6a21\u677f\u9898\u3002\n\n\u8bbe$dp_{i,j}$\u8868\u793a\u8003\u8651\u5230\u7b2c$i$\u4e2a\u7269\u54c1\uff0c\u5728\u603b\u5bb9\u91cf\u4e0d\u8d85\u8fc7$j$\u7684\u60c5\u51b5\u4e0b\uff0c\u603b\u4ef7\u503c\u7684\u6700\u5927\u503c\u3002\u8fb9\u754c\u662f$dp_{0,i}=0$\uff0c\u76ee\u6807\u662f$dp_{n,m}$\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u662f$dp_{i,j}=\\max\\begin{cases}dp_{i-1,j}\\\\dp_{i-1,j-w_i}+v_i&j\\geq w_i\\end{cases}$\uff08\u9009\u6216\u4e0d\u9009\u7b2c$i$\u4e2a\u7269\u54c1\uff09\u3002\u65f6\u95f4\u590d\u6742\u5ea6$\\mathrm O(nm)$\u3002\n\n\u6709\u4e00\u79cd\u5c06\u6570\u7ec4\u538b\u6210\u4e00\u7ef4\u7684\u7b80\u4fbf\u5199\u6cd5\uff1a\u5f53\u524d\u8003\u8651\u5230\u7b2c$i$\u4e2a\u7269\u54c1\uff0c$dp'_j$\u5c31\u8868\u793a$dp_{i,j}$\u3002\u8003\u8651\u66f4\u65b0\u65b9\u6cd5\u3002\u8fd8\u6ca1\u66f4\u65b0\u65f6\uff0c$dp'_j=dp_{i-1,j}$\uff0c\u6b63\u597d\u662f\u65b9\u7a0b\u4e2d\u7684\u7b2c$1$\u9879\u3002\u7136\u540e\u4ece\u5927\u5230\u5c0f\u679a\u4e3e$j\\in[w_i,m]$\uff08\u5f53$j<w_i$\u65f6\u7b2c$2$\u9879\u4e0d\u80fd\u7b97\uff09\uff0c\u4ee4$dp'_j=\\max\\!\\left(dp'_j,dp'_{j-w_i}+v_i\\right)$\u3002\u56e0\u4e3a\u662f\u4ece\u5927\u5230\u5c0f\uff0c\u6240\u4ee5\u679a\u4e3e\u5230$j$\u65f6$j-w_i$\u8fd8\u6ca1\u88ab\u679a\u4e3e\u5230\uff0c\u6b64\u65f6$dp'_{j-w_i}=dp_{i-1,j-w_i}$\uff0c\u4e0e\u65b9\u7a0b\u543b\u5408\u3002\u6700\u7ec8\u76ee\u6807\u662f$dp'_m$\u3002\n\n\u4e0b\u9762\u662fAC\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nconst int N=100,M=100000;\nint n,m;\nint v[N+1],w[N+1];\nint dp[M+1];//dp' \nsigned main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)cin>>w[i]>>v[i];\n\tfor(int i=1;i<=n;i++)for(int j=m;j>=w[i];j--)//\u8f6c\u79fb \n\t\tdp[j]=max(dp[j],dp[j-w[i]]+v[i]);\n\tcout<<dp[m];//\u76ee\u6807 \n\treturn 0;\n}\n```",
        "postTime": 1584435860,
        "uid": 138400,
        "name": "chenxia25",
        "ccfLevel": 9,
        "title": "AtCoder dp_d - Knapsack 1"
    }
]