[
    {
        "content": "### \u6837\u4f8b\u8f93\u5165\n\n```\n4 5 7 5\n```\n \n### \u6837\u4f8b\u8f93\u51fa\n```\n34\n```\n\n## \u5148\u4ece\u6b63\u9762\u601d\u8003\n\n**\u6734\u7d20\u7b97\u6cd5**\uff1a\u9884\u5904\u7406\u51fal\u957f\u7684\u5b57\u7b26\u603b\u548c\u4e3as\u7684\u65b9\u6848\u6570\uff08\u4f8b\u5982\uff0c2\u7684\u957f\u5ea6\u4e0b\u7ec4\u5408\u62105\uff0c\u670905\u300114\u300123\u300132\u300141\u300150,6\u79cd\u65b9\u6848\uff09\uff0c\u8003\u8651\u679a\u4e3ex\u3001y\u3001z\u3001w\u7684\u503c\u8fdb\u884cdp\u8f6c\u79fb\u3002\u4f46\u662f\u5728\u679a\u4e3e\u8fc7\u7a0b\u4e2d\u4f1a\u51fa\u73b0\u8bb8\u591a\u6b21\u91cd\u590d\u8ba1\u7b97\uff08\u4f8b\u5982 4 5 5 5\u7684\u8f93\u5165\uff0c\u5728\u679a\u4e3e\u4e2d5 5 5  5\u7684\u5b57\u4e32\u88ab\u8ba1\u7b97\u4e862\u6b21\uff09\u3002\n\n\u4e3a\u4ec0\u4e48\u4f1a\u4ea7\u751f\u91cd\u590d\u8ba1\u7b97\u5462\uff1f\u56e0\u4e3a\u5728\u679a\u4e3e\u4e2d\uff0c\u4f1a\u6709\u4e00\u4e2a\u5b57\u4e32**\u6709\u591a\u4e2a\u5b50\u4e32\u6ee1\u8db3\u4ff3\u53e5**\u7684\u8981\u6c42\u3002\n\n## \u4ece\u53cd\u9762\u8fdb\u884c\u8003\u8651\n\n\u65e2\u7136\u4e00\u4e2a\u5b57\u4e32\u6709\u591a\u4e2a\u5b57\u4e32\u6ee1\u8db3\u4ff3\u53e5\u7684\u8bdd\u4f1a\u88ab\u91cd\u590d\u8ba1\u7b97\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u7b97\u51fa**\u6ca1\u6709\u5b50\u4e32\u6ee1\u8db3\u4ff3\u53e5**\u7684\u5b57\u4e32\u6570\uff0c\u518d\u7528**\u603b\u7684\u5b57\u4e32\u6570**\u51cf\u53bb\u8fd9\u4e2a\u503c\u3002\n\n\u90a3\u4e48n\u4f4d\u6570\u5b57\uff0c\u5c31\u670910^n\u79cd\u5b57\u4e32\u6570\u3002\n\n### \u5148\u5212\u5206\u72b6\u6001\n\n\u6211\u4eec\u7528i\u6765\u8868\u793a\u72b6\u6001\u8f6c\u79fb\u5230\u7b2ci\u4f4d\uff0c\u7528\u4e8c\u8fdb\u5236\u7801\u8868\u793a\u679a\u4e3e\u5b57\u4e32\u7684\u7ed3\u5c3e\u7684\u72b6\u6001\u3002\n\n\u6211\u4eec\u5c06\u5341\u8fdb\u5236\u6570j\uff0c\u8f6c\u5316\u4e3a\u7b2cj\u4f4d\u4e3a1\u7684\u4e8c\u8fdb\u5236\u7801\uff0c\u4f8b\u59824->1000\u3002\u5982\u679c4\u540e\u9762\u52a0\u4e0a\u4e00\u4e2a2\u53d8\u62104 2\uff0c\u6211\u4eec\u7528100010\u8868\u793a\uff0c\u5373\u5c064\u7684\u4e8c\u8fdb\u5236\u7801\u5411\u524d\u79fb\u52a82\u4f4d\uff0c\u518d\u52a0\u4e0a10\u3002\u540c\u65f6\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u7801\u7b2c6\u4f4d\u4e3a1\uff0c\u5373\u4ee3\u8868**\u672b\u5c3e\u4e24\u4e2a\u6570**\u548c\u4e3a6\uff0c\u7b2c2\u4f4d\u4e3a1\uff0c\u4ee3\u8868**\u6700\u672b\u5c3e\u7684\u6570**\u4e3a2\uff0c\u75286\u51cf\u53bb2\u5f974\uff0c\u53ef\u4ee5\u5f97\u5230**\u672b\u5c3e\u7b2c\u4e8c\u4e2a\u6570**\u4e3a4\u3002\n\n\u540c\u7406\u4e3e\u4e2a\u4f8b\u5b50\uff1a\u5982\u679c\u6211\u4eec\u679a\u4e3e\u52305 3 4 \u6211\u4eec\u5f97\u5230\u4e8c\u8fdb\u5236\u4e32 100001001000\uff0c\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u4e32\u53ef\u4ee5\u8868\u793a**\u7ed3\u5c3e\u53ef\u8868\u793a\u7684\u6570\u5b57**\u670912\uff0812\u4f4d\u4e0a\u4e3a1\uff09\u30017\uff087\u4f4d\u4e0a\u4e3a1\uff09\u30014\uff084\u4f4d\u4e0a\u4e3a1\uff09\u30015\uff0812-7=5\uff09\u30013\uff087-4=3\uff09\u30018\uff0812-4=8\uff09\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u628a5 3 4\u8fd9\u4e09\u4e2a\u6570\u5b57\u53ef\u4ee5\u7ec4\u6210\u7684\u60c5\u51b5\u90fd\u5305\u542b\u8fdb\u53bb\u4e86\u3002\n\n\u539f\u9898\u4e2d\uff0c\u6700\u5927\u72b6\u6001\u4e3a5+7+5=17\u4f4d\u6240\u4ee5\u6700\u591a\u8981\u679a\u4e3e2^17\u79cd\u72b6\u6001\uff0c\u5728\u7a7a\u95f4\u8303\u56f4\u4e4b\u5185\u3002\n\n### \u518d\u6765\u8c08\u8f6c\u79fb\n\n\u6211\u4eec\u5148\u679a\u4e3ei\uff080<=i<=n\uff09\u8868\u793a\u5f53\u524d\u5728\u7b2c\u51e0\u4f4d\uff0c\u7136\u540e\u6211\u4eec\u518d\u679a\u4e3e2^17\u7684\u72b6\u6001\u3002\n```\nfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=0;j<=sum;j++)//\u679a\u4e3e\u72b6\u6001\n\t\t{\n\t\t\tif(dp[i-1][j]==0) continue;\n\t\t\tfor(int k=1;k<=10;k++)//\u679a\u4e3e\u7b2ci\u4f4d\u6dfb\u52a0\u7684\u6570\u5b57\n\t\t\t{\n\t\t\t\tint now=(j<<k)|(1<<k-1);//\u4e0a\u9762\u63d0\u5230\u7684\u4e8c\u8fdb\u5236\u7801\u8f6c\u79fb\n\t\t\t\tnow&=sum;//\u9632\u6b62now\u6ea2\u51fa\n\t\t\t\tif((now&end)!=end)//\u5982\u679c\u72b6\u6001\u5b58\u5728\u4ff3\u53e5\u5219\u4e0d\u8fdb\u884c\u8f6c\u79fb\n\t\t\t\t\tdp[i][now]=(dp[i][now]+dp[i-1][j])%mod;\n\t\t\t}\n\t\t}\n\t}\n```\n\n\u6ce8\u610fdp[0][0]=1\n\n### \u8be6\u7ec6\u7ec6\u8282\u8bf7\u53c2\u8003\u4ee3\u7801\n\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n\nint n,x,y,z;\nint end;\nint sum;\nlong long dp[45][1<<18];\nlong long ans=1,mod=1e9+7;\n\nint main()\n{\n\tfreopen(\"haiku.txt\",\"r\",stdin);\n\tscanf(\"%d%d%d%d\",&n,&x,&y,&z);\n\tmemset(dp,0,sizeof dp);\n\tend=1<<x+y+z-1;\n\tend=end|(1<<y+z-1);\n\tend=end|(1<<z-1);//end\u8bb0\u5f55\u6ee1\u8db3\u4ff3\u53e5\u7684\u72b6\u6001\n\tsum=(1<<(x+y+z))-1;\n\tdp[0][0]=1;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tans*=10;\n\t\tans%=mod;\n\t\tfor(int j=0;j<=sum;j++)\n\t\t{\n\t\t\tif(dp[i-1][j]==0) continue;\n\t\t\tfor(int k=1;k<=10;k++)\n\t\t\t{\n\t\t\t\tint now=(j<<k)|(1<<k-1);//\u4e0a\u9762\u63d0\u5230\u7684\u4e8c\u8fdb\u5236\u7801\u8f6c\u79fb\n\t\t\t\tnow&=sum;//\u9632\u6b62now\u6ea2\u51fa\n\t\t\t\tif((now&end)!=end)//\u5982\u679c\u72b6\u6001\u5b58\u5728\u4ff3\u53e5\u5219\u4e0d\u8fdb\u884c\u8f6c\u79fb\n\t\t\t\t\tdp[i][now]=(dp[i][now]+dp[i-1][j])%mod;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int j=0;j<=sum;j++)\n\t\tans=(ans-dp[n][j]+mod)%mod;//\u7528\u603b\u5b57\u4e32\u6570\u51cf\u53bb\u4e0d\u6ee1\u8db3\u4ff3\u53e5\u5b57\u4e32\u6570\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```\n\n\n\n",
        "postTime": 1533997292,
        "uid": 26039,
        "name": "\u53cb\u4ebaA_lie_of_April",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 AT1975 \u3010\u548c\u98a8\u3044\u308d\u306f\u3061\u3083\u3093 / Iroha and Haiku\u3011"
    },
    {
        "content": "*\u8c28\u4ee5\u6b64\u6587\u7eaa\u5ff52021\u5e74\u6211\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\u4ee5\u53ca\u4e00\u4f4d\u6587\u5316\u8bfe\u9009\u624b\uff08\u65e0\u610f\u4e2d\u770b\u5230\u9898\u76ee\uff09\u5728\u60f3\u4e863\u5929\u540e\uff08\u5f53\u7136\u662f\u4e00\u8fb9\u641e\u6587\u5316\u8bfe\u4e00\u8fb9\u60f3\uff09\u7ec8\u4e8e\u89e3\u51b3\u4e86\u8fd9\u9053\u9898\uff0c\u7136\u540e\u4e00\u53d1\u6700\u4f18\u89e3\uff08\u76ee\u524d\u7684\uff09*\n\nupd:\n\n* 1.7 \u4fee\u6539\u90e8\u5206\u7b14\u8bef\n\n[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/werner-yin/p/solution-arc058e.html)\n# \u9898\u610f\n\n\u6c42\u6ee1\u8db3\n\n* $\\forall i \\in [0,n-1],a[i] \\in [1,10]$\n* $\\exists x,y,z,w , 0 \\leq x < y < z < w \\leq n,\\sum_{i=x}^{y-1}=X,\\sum_{i=y}^{z-1}=Y,\\sum_{i=z}^{w-1}=Z$\n\n\u957f\u5ea6\u4e3a $n$ \u6570\u7ec4 $a$\n\n$\\texttt{Data Range:}n\\leq 40,X\\leq 5,Y\\leq 7,z\\leq 5$\n\n# Solution\n\n\u5f00\u59cb\u60f3\u4ece $n$ \u4e0b\u624b\uff0c\u7136\u800c\u4e0d\u592a\u597d\u641e\uff0c\u65e0\u610f\u4e2d\u770b\u5230 $X,Y,Z$ \u8303\u56f4$X+Y+Z <= 17$,\u8303\u56f4\u633a\u50cf\u72b6\u538b\u7684\uff0c\u7136\u540e\u5c31\u6709\u601d\u8def\u4e86\u3002\n\n\u4ece\u5de6\u5f80\u53f3\u626b $a$ \u6570\u7ec4\u7684\u6bcf\u4e00\u4f4d\u6765\u786e\u5b9a\u7b54\u6848\uff0c\u90a3\u72b6\u538b\u4ec0\u4e48\u5462\uff1f\n\n\u6211\u4eec\u5b9a\u4e49\u6700\u540e\u6211\u4eec\u627e\u7684\u7684\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u7ec4\u4e2d$[x,w-1]$ \u4e3a\u6211\u4eec**\u9700\u8981\u7684\u90e8\u5206**\uff08\u5f53\u7136\uff0c\u4e00\u4e2a\u6570\u7ec4\u53ef\u4ee5\u6709\u591a\u4e2a\u8fd9\u79cd\u90e8\u5206\uff09\uff0c\u5982\u56fe(\u5373\u6709\u989c\u8272\u7684\u90e8\u5206\uff09\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wuy1at9t.png)\n\n\u800c\u5339\u914d\u7684\u90e8\u5206\u4e3a$[x,y-1]$ \u6216\u8005 $[x,z-1]$ , \u5373\u9ec4\u8272\u90e8\u5206 \u6216\u8005 \u9ec4\u8272 + \u84dd\u8272\u7684\u90e8\u5206\n\n\u6211\u4eec\u8981\u8bb0\u5f55\u7684\u662f\uff0c\u6240\u6709\u53ef\u80fd\u7684 \u9700\u8981\u7684\u90e8\u5206 \u5269\u4e0b\u672a\u5339\u914d\u4e0a\u7684\u672b\u5c3e\u548c\u7684\u53ef\u80fd\u503c\u3002\n\n\u8fd9\u4e2a\u503c\u4e00\u5b9a\u5341\u5206\u5c0f\uff08$X+Y+Z <= 17$),\u72b6\u538b\u4e00\u4e0b\u5c31\u884c\u4e86\u3002\n\n\u590d\u6742\u5ea6 $\\texttt{O(}2^{X+Y+Z}nt\\texttt{)}$ , \u5176\u4e2d $t = 10$\u3002\n\n# Code\n\n\u4e3a\u4e86\u8282\u7701\u7a7a\u95f4\uff0c\u4e8e\u662f\u7528\u4e86\u6eda\u52a8\u6570\u7ec4\u3002\n\n\u4e3a\u4e86\u65b9\u4fbf\u8f6c\u79fb\uff0c\u5f00\u4e86\u4e24\u4e2a\u6570\u7ec4 \uff0c $f$ \u4ee3\u8868\u7684\u662f\u8fd8\u6ca1\u6709\u5b8c\u6210\u5339\u914d\u7684\u65b9\u6848\u6570\uff0c $g$ \u662f\u4ee3\u8868\u5b8c\u6210\u5339\u914d\u7684\u65b9\u6848\u6570\u3002\n\n\u5177\u4f53\u89c1\u4ee3\u7801\u5427\u3002\n\n```cpp\nconst int mod = 1e9+7;\nconst int MAXN = 1<<17;\n\nint ok,s[20],x,y,z,n,ful;\nint top,f[2][MAXN],g[2],ans;\n\nvoid add(int &x,int y){x=x+y;if(x>=mod) x-=mod;}\n\nint getstu(int stu,int num){\n    //\u83b7\u53d6\u65b0\u72b6\u6001\n\tint newstu = 0;\n\tfor(int i = 0;i + num < x+y+z;i++){\n\t\tif(stu >> i & 1){\n\t\t\tif(s[i + num - 1] - s[i] > 0) continue;\n            //\u5982\u679c\u5269\u4e0b\u90e8\u5206\u7684\u548c\u5927\u4e8e\u6211\u4eec\u6240\u9700\u8981\u7684\uff08\u6f0f\u5339\u914d\uff09\uff0c\u80af\u5b9a\u4e0d\u884c\n\t\t\tnewstu |= 1<<(i + num);\n\t\t}\n\t}\n\tif(num <= x) newstu |= 1<<(num-1);\n\treturn newstu;\n}\n\nint main (){\n\tscanf(\"%d %d %d %d\",&n,&x,&y,&z);\n\ts[x-1] = s[x+y-1] = s[x+y+z-1] = 1;\n\tfor(int i = 1;i < x+y+z;i++) s[i] = s[i-1] + s[i];\n    //\u524d\u7f00\u548c\u65b9\u4fbf\u5224\u65ad\n\tok = 1<<(x+y+z-1); ful = 1<<(x+y+z);\n\tf[0][0] = 1;\n\tfor(int o = 0,i = 1;i <= n;i++,o = o^1){\n\t\tmemset(f[o^1],0,sizeof(f[o^1]));\n\t\tg[o^1] = g[o] * 10ll % mod;\n        //\u5df2\u7ecf\u5b8c\u6210\u5339\u914d\u7684\u65b9\u6848\u6570\n\t\tfor(int stu = 0;stu < ful;stu++)\n\t\t\tif(f[o][stu]){\n\t\t\t\tfor(int j = 1;j <= 10;j++){\n\t\t\t\t\tint ns = getstu(stu,j);\n\t\t\t\t\tif(ns & ok) add(g[o^1],f[o][stu]);\n\t\t\t\t\telse add(f[o^1][ns],f[o][stu]);\n\t\t\t\t}\n\t\t\t}\n\t\tif(i == n) ans = g[o^1];\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1609510963,
        "uid": 167354,
        "name": "Werner_Yin",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 AT1975 \u3010[ARC058C] \u548c\u98a8\u3044\u308d\u306f\u3061\u3083\u3093 / Iroha and Haiku\u3011"
    },
    {
        "content": "~~\u88abxyx\u7684\u751f\u6210\u51fd\u6570\u548ctyy\u7684\u7f6e\u6362\u7fa4\u8bba\u641e\u61f5\u4e86\uff0c\u6240\u4ee5\u6765\u505a\u4e00\u505a\u4e0d\u7528\u63a8\u5f0f\u5b50\u7684\u8ba1\u6570\u9898~~\n# \u9898\u610f  \n\u7ed9\u5b9a $X,Y,Z$\uff0c\u6c42\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217 $\\{a_i\\}$\uff0c\u5e8f\u5217\u4e2d\u6bcf\u4e2a\u6570\u4e3a $1 \\sim10$ \u7684\u6570\uff0c\u6c42\u8fd9\u6837\u7684\u5e8f\u5217\u4e2a\u6570\uff0c\u6ee1\u8db3$\\exists \\ 0\\le x<y<z<w \\le n$\uff0c\u4f7f\u5f97  \n$$\\sum_{i=x}^ya_i=X,\\sum_{i=y+1}^z=Y,\\sum_{i=z+1}^w=Z$$\n\n\u6570\u636e\u8303\u56f4$X\\le5,Y\\le7,Z\\le 5,n \\le 40$\n\n# \u601d\u8def\n\u6211\u6700\u5f00\u59cb\u7684\u601d\u8def\u662f\u679a\u4e3e $3$ \u4e2a\u533a\u95f4\u7684\u957f\u5ea6\u548c\u8d77\u59cb\u70b9\uff0c\u4f46\u662f\u8fd9\u6837\u4f1a\u7b97\u91cd\uff0c\u5982\u679c\u8981\u52a0\u9650\u5b9a\u6761\u4ef6\u7684\u8bdd\u4f1a\u975e\u5e38\u4e0d\u597d\u641e\uff0c\u800c\u5bb9\u65a5\u597d\u50cf\u53c8\u884c\u4e0d\u901a\u3002  \n\u53d1\u73b0 $X+Y+Z\\le17$\uff0c\u8003\u8651\u72b6\u538b\u3002  \n\n\u6211\u4eec\u8981\u8bbe\u8ba1\u4e00\u79cd\u72b6\u538b\u65b9\u6848\uff0c\u50a8\u5b58\u4e00\u6bb5\u548c\u4e0d\u8d85\u8fc7 $17$ \u7684\u6570\u3002  \n\u6211\u4eec\u8003\u8651\u5230\uff0c\u5c06 $k$ \u62c6\u6210\u82e5\u5e72\u4e2a $>0$ \u7684\u6709\u5e8f\u7684\u6570\u4e4b\u548c\u7684\u65b9\u6848\u6570\u4e3a$2^{k-1}$\uff0c\u610f\u601d\u662f\u6211\u4eec\u628a $k$ \u5f53\u6210 $k$ \u4e2a $1$ \uff0c\u7136\u540e\u6bcf\u4e00\u4f4d\u4e4b\u95f4\u53ef\u4ee5\u9009\u62e9\u5206\u5272\u6216\u8005\u4e0d\u5206\u5272\u3002  \n\u540c\u7406\uff0c\u5bf9\u5e94\u5230\u72b6\u538b\u72b6\u6001\u4e0a\uff0c\u7b2c $i$ \u4f4d\u4e0a\u4e3a $1$ \u8bf4\u660e\u5728\u7b2c $i$ \u548c $i+1$\u4f4d\u4e4b\u95f4\u9009\u62e9\u5206\u5272\uff0c\u4e5f\u5c31\u662f\u8bf4\u5b58\u5728\u4e00\u4e2a\u524d\u7f00\u548c\u4e3a $i$\u3002  \n\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u628a $17$ \u5206\u6210 $5,7,5$\uff0c\u5bf9\u5e94\u7684\u538b\u7f29\u662f`00001000000100001`\uff0c\u7b2c $5,12,17$\u4f4d\u4e3a $1$\uff0c\u8bf4\u660e\u5b58\u5728$5,12,17$\u7684\u524d\u7f00\u548c\u3002  \n\u8fd9\u6837\u538b\u7f29\u53ef\u4ee5\u5feb\u901f\u5224\u65ad\u67d0\u4e2a\u524d\u7f00\u548c\u6216\u8005\u540e\u7f00\u548c\u662f\u5426\u5b58\u5728\uff0c\u8003\u8651\u5230\u4e00\u822c\u7684DP\u662f\u4ece\u524d\u5f80\u540e\u641c\u7684\uff0c\u6211\u4eec\u8fd9\u91cc\u6784\u9020\u540e\u7f00\u548c\u3002  \n\u8fd9\u6709\u4e00\u4e2a\u975e\u5e38\u65b9\u4fbf\u7684\u5e94\u7528\u2014\u2014\u5feb\u901f\u67e5\u8be2\u662f\u5426\u662f\u53ef\u4ee5\u4f7f\u5e8f\u5217\u6ee1\u8db3\u6761\u4ef6\u3002  \n\u53ea\u8981\u4f60\u7684\u8fd9\u4e00\u6bb5\u538b\u7f29\u540c\u65f6\u5b58\u5728\u8fd9$Z,Y+Z,X+Y+Z$\u8fd9\u4e9b\u540e\u7f00\u548c\uff0c\u90a3\u4e48\u5c31\u6ee1\u8db3\u9898\u610f\u3002  \n\n\u63a5\u4e0b\u6765\u8981\u8003\u8651\u7684\u662f\u600e\u4e48\u5feb\u901f\u8f6c\u6362\u8fd9\u4e2a\u538b\u7f29\u65b9\u5f0f\u3002\u5f53\u52a0\u5165\u4e00\u4e2a\u65b0\u6570 $t$ \u7684\u65f6\u5019\uff0c\u6211\u4eec\u5c06\u539f\u6570\u5de6\u79fb $t$ \u4f4d\u7136\u540e\u52a0\u4e0a `1<<(t-1)`\u3002\n\n\uff08\u7814\u7a76\u4e86\u633a\u4e45\uff0c\u8bf4\u4e86\u8fd9\u4e48\u534a\u5929P\u8bdd\uff0c\u7ed3\u679c\u641e\u51fa\u6765\u7684\u4e1c\u897f\u88ab\u7b2c\u4e00\u7bc7\u9898\u89e3\u4e00\u4e0b\u5b50\u5c31\u641e\u6389\u4e86\uff0c\u611f\u89c9\u5f88\u4e0d\u723d\uff0c\u4e0d\u8fc7\u6ca1\u6709\u5173\u7cfb\uff0c\u8fd9\u4e2a\u80fd\u591f\u4f53\u73b0\u51fa\u6211\u7684\u601d\u8def\uff09\n\n\u7136\u540e\u6211\u4eec\u53d1\u73b0\u201c\u5b58\u5728\u201d\u8fd9\u4e2a\u4e1c\u897f\u8fd8\u662f\u4e0d\u597d\u641e\uff0c\u8003\u8651\u7528\u5168\u90e8\u51cf\u53bb\u4e0d\u5408\u6cd5\u3002  \n\u5168\u90e8\u7684\u65b9\u6848\u6570\u4e3a$10^n$\uff0c\u4e0d\u5408\u6cd5\u7684\u65b9\u6848\u6570\u7528DP\u3002  \n\n\u8bbe $dp_{i,j}$ \u8868\u793a\u679a\u4e3e\u5230\u7b2c $i$ \u4f4d\uff0c\u5f53\u524d\u6700\u540e\u51e0\u4f4d\u4e3a $j$ \u7684\u4e0d\u5408\u6cd5\u65b9\u6848\u6570\u3002    `chk(x)` \u4e3a $x$ \u662f\u5426\u4e3a**\u4e0d**\u5408\u6cd5\u72b6\u6001\u3002  \n\u7136\u540e\u6211\u4eec\u679a\u4e3e\u4e0b\u4e00\u4f4d\u586b\u7684\u662f\u4ec0\u4e48\uff0c\u662f\u5426\u5408\u6cd5\u8fdb\u884c\u8f6c\u79fb\u3002\n\n\u4ee3\u7801\n```\n#include<bits/stdc++.h>\n#define int long long\n#define rd(x) x=read()\nusing namespace std;\nconst int N=45;\nconst int maxn=(1<<18);\nconst int mod=1e9+7;\ninline int read(){int x=0,f=1;char ch=getchar();while (ch>'9'||ch<'0'){if (ch=='-')f=-1;ch=getchar();}while (ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}return x*f;}\ninline int ksm(int x,int y,int z){int ret=1;while (y){if (y&1) ret=(ret*x)%z;x=(x*x)%z;y>>=1;}return ret;}\ninline int ksm(int x,int y){int ret=1;while (y){if (y&1) ret=(ret*x)%mod;x=(x*x)%mod;y>>=1;}return ret;}\ninline int INV(int x){return ksm(x,mod-2);}\n\nint n,X,Y,Z,ans;\nint dp[N][maxn];\ninline bool getbit(int x,int i){return x>>(i-1)&1;}\ninline bool chk(int x)//\u68c0\u9a8cx\u662f\u5426\u4e0d\u5408\u6cd5\n{\n    if (!getbit(x,Z)) return 1;\n    if (!getbit(x,Y+Z)) return 1;\n    if (!getbit(x,X+Y+Z)) return 1;\n    return 0;\n}\nsigned main()\n{\n    rd(n);rd(X);rd(Y);rd(Z);\n    \n    dp[0][0]=1;\n    for (int i=1;i<=n;i++)\n        for (int j=0;j<(1<<(X+Y+Z));j++)\n            for (int k=1;k<=10;k++)\n            {\n                int u=(j<<k)+(1<<(k-1));\n                u&=(1<<(X+Y+Z))-1;\n                if (chk(u)) dp[i][u]+=dp[i-1][j],dp[i][u]%=mod;\n            }\n    ans=ksm(10,n);\n    for (int i=0;i<(1<<(X+Y+Z));i++) {ans+=mod-dp[n][i];ans%=mod;}\n    cout<<ans<<endl;\n}\n```",
        "postTime": 1606907465,
        "uid": 70132,
        "name": "AsunderSquall",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT1975 \u3010[ARC058C] \u548c\u98a8\u3044\u308d\u306f\u3061\u3083\u3093 / Iroha and Haiku\u3011"
    },
    {
        "content": "[\u9898\u76ee\u94fe\u63a5][1]\n\u4e00\u9053\u72b6\u6001\u538b\u7f29\u597d\u9898\n\n\u9996\u5148\uff0c\u6211\u4eec\u89c2\u5bdf\u6570\u636e\uff0c\u53ef\u4ee5\u53d1\u73b0$X,Y,Z$\u975e\u5e38\u5c0f\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u72b6\u538b\uff0c\u6216\u8005\u66b4\u529b\u679a\u4e3e\n\n\u6211\u4eec\u5148\u53ef\u4ee5\u5f80\u66b4\u529b\u679a\u4e3e\u679a\u4e3e\u4e0a\u60f3\u4e00\u60f3\uff0c\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u65ad\u70b9$x,y,z,w$\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u9884\u5904\u7406\u80cc\u5305\u8dd1\u51fa$f[i]$\u8868\u793a\u6709$i$\u4e2a\u5143\u7d20\u7684\u6570\u5217\u80fd\u591f\u6709\u591a\u5c11\u79cd\u65b9\u5f0f\u62fc\u51fa$i$\u7684\u5bb9\u91cf\n\n\u7136\u800c\u8fd9\u663e\u7136\u662f\u4e0d\u6b63\u786e\u7684\uff0c\u56e0\u4e3a\u4f60\u5728\u679a\u4e3e\u5230\u4e00\u79cd\u60c5\u51b5\u7684$x,y,z,w$\u7684\u4f4d\u7f6e\u65f6\uff0c**\u4f60\u5728$x,y,z,w$\u4e4b\u5916\u7684\u4f4d\u7f6e\u4e0a\u7684\u5143\u7d20\u90fd\u662f\u53ef\u4ee5\u968f\u4fbf\u9009\u62e9\u7684**\uff0c\u7136\u800c\u8fd9\u80af\u5b9a\u4f1a\u7b97\u91cd\n\n\u6211\u4eec\u6ca1\u6cd5\u8fd9\u4e48\u505a\u4e86\uff0c\u5c31\u53ef\u4ee5\u53bb\u8003\u8651\u4e00\u4e0b\u72b6\u538b\n\n\u4ecd\u7136\u6ca1\u4ec0\u4e48\u5934\u7eea\uff0c\u56e0\u4e3a\u4f60\u8fd8\u8981\u8003\u8651$x,y,z,w$\u7684\u4f4d\u7f6e\uff0c\u8fd9\u5c31\u5f88\u9ebb\u70e6\u3002\n\n\u6211\u4eec\u6709\u4e00\u4e2a\u5173\u952e\u7684\u53d8\u5f62\uff0c\u9996\u5148\u6211\u4eec\u7531\u4e8e\u4f1a\u7b97\u91cd\uff0c\u6240\u4ee5\u5c31\u53ef\u4ee5\u8f6c\u6362\u4e3a**\u603b\u65b9\u6848\u6570\u51cf\u53bb\u4e0d\u5e26\u4ff3\u53e5\u5b50\u4e32\u7684\u65b9\u6848\u6570**\n\n\u600e\u6837\u4fdd\u8bc1\u6bcf\u4e2a\u72b6\u6001\u4e4b\u95f4\u4e0d\u91cd\u5e76\u4e14\u5c0f\u5de7\u5730\u8868\u793a\u72b6\u6001\uff1f\u6211\u4eec\u53c8\u9700\u8981\u4e00\u4e2a\u53d8\u5f62\uff0c**\u6211\u4eec\u4ece\u8003\u8651\u65ad\u70b9\u4e4b\u95f4\u53ef\u4ee5\u62fc\u51fa\u5bf9\u5e94\u7684\u503c\u8f6c\u6362\u4e3a\u8bb0\u4e0b\u9009\u51fa\u7684\u6240\u6709\u5143\u7d20\u53ef\u4ee5\u62fc\u51fa\u7684\u6240\u6709\u503c\u7684\u96c6\u5408**\uff0c\u72b6\u6001$st$\u8868\u793a\u4e3a\u5f53\u5b83\u4ece\u53f3\u5f80\u5de6\u6570\u7b2c$i$\u4f4d\u662f$1$\u65f6\uff0c\u8868\u793a**\u5f53\u524d\u9009\u6570\u65b9\u6848\u7684\u540e\u7f00\u548c\u96c6\u5408**\u4e2d\u53ef\u4ee5\u627e\u5230$i$\n\n\u5982\u679c\u5728\u5f53\u524d\u72b6\u6001\u4e2d\u53ef\u4ee5\u627e\u5230$z,y+z,x+y+z$\uff0c\u90a3\u4e48\u8fd9\u4e2a\u72b6\u6001\u5df2\u7ecf\u5305\u542b\u4e86\u4e00\u4e2a\u4ff3\u53e5\uff0c\u4ed6\u4ee5\u540e\u8f6c\u79fb\u51fa\u6765\u7684\u72b6\u6001\u90fd\u4e00\u5b9a\u4f1a\u542b\u6709\u4ff3\u53e5\uff0c\u7136\u800c\u6211\u4eec\u60f3\u8981\u6c42\u7684\u662f**\u6240\u6709\u4e0d\u4f1a\u542b\u6709\u4ff3\u53e5\u7684\u65b9\u6848\u6570**\uff0c\u6240\u4ee5\u8fd9\u4e2a\u62e5\u6709\u4e86\u4ff3\u53e5\u7684\u72b6\u6001\u5c31\u4e0d\u80fd\u7528\u4e8e\u8f6c\u79fb\uff0c\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u5c31\u628a\u8be5\u72b6\u6001$st$\u7684$f[st]$\u8bb0\u4e3a$0$\n\n\u6211\u4eec\u8bb0\u4e0b\u6570\u7ec4$f[i][st]$\u8868\u793a\u5728\u7b2c$i$\u4f4d\u4e0a\u72b6\u6001\u4e3a$st$\u7684\u65b9\u6848\u6570\uff0c\u5269\u4e0b\u7684\u8f6c\u79fb\u662f\u663e\u7136\u7684\n  [1]: https://www.luogu.com.cn/problem/AT1975",
        "postTime": 1606827780,
        "uid": 99643,
        "name": "\u9648\u5200\u4ed4",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT1975 \u3010[ARC058C] \u548c\u98a8\u3044\u308d\u306f\u3061\u3083\u3093 / Iroha and Haiku\u3011"
    },
    {
        "content": "\u4e00\u9053\u5f88\u795e\u5947\u7684\u72b6\u538b DP\u3002  \n\u6b63\u9762\u8003\u8651\u5b58\u5728\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u5217\u4e0d\u597d\u5904\u7406\uff08\u56e0\u4e3a\u601d\u8003\u4e00\u4e0b\u5c31\u4f1a\u53d1\u73b0\u65e0\u6cd5\u53bb\u91cd\uff09\uff0c\u6240\u4ee5\u5c1d\u8bd5\u4ece\u53cd\u9762\u601d\u8003\u3002  \n\u8003\u8651\u8ba1\u7b97\u51fa\u4e0d\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u5217\u7684\u6570\u91cf\uff0c\u518d\u7528\u603b\u6570\u51cf\u53bb\u5b83\u5373\u5f97\u5230\u7b54\u6848\u3002\n\n\u4e8e\u662f\u8003\u8651\u8bb0\u5f55\u4e0b\u672b\u5c3e\u7684\u60c5\u51b5\uff1a  \n\u82e5\u6700\u672b\u5c3e\u7684\u6570\u4e3a $p$\uff0c\u5219\u5176\u72b6\u6001\u4e3a\u4e8c\u8fdb\u5236\u4e0b $p$ \u4f4d\u4e3a $1$ \u7684\u4e8c\u8fdb\u5236\u6570\u3002\u82e5\u518d\u52a0\u5165\u4e00\u4e2a\u6570 $q$\uff0c\u5219\u5c06\u72b6\u6001\u53f3\u79fb $q$ \u4f4d\u518d\u5c06\u7b2c $q$ \u4f4d\u8bbe\u4e3a $1$\u3002  \n\u5982\u679c\u672b\u5c3e\u4e09\u4e2a\u6570\u662f $x$\uff0c$y$\uff0c$z$\uff0c\u90a3\u4e48\u8fd9\u6837\u8bb0\u5f55\u4e0b\u6765\u7684\u72b6\u6001\u4e2d\u4e3a $1$ \u7684\u4f4d\u6570\u5c31\u662f $z$\uff0c$y+z$ \u548c $x+y+z$\u3002\u7531\u6b64\u5c31\u53ef\u4ee5\u5224\u65ad\u672b\u5c3e\u7684\u4e09\u4f4d\u6570\u4e86\u3002\n\n\u4e3e\u4e2a\u4f8b\u5b50\u5427\uff0c\u6bd4\u5982\u672b\u5c3e\u662f $\\texttt{575}$\uff0c\u90a3\u4e48\uff1a  \n* \u5148\u52a0\u5165 $5$\uff0c\u72b6\u6001\u53d8\u4e3a $\\texttt{10000}$\u3002\n* \u518d\u52a0\u5165 $7$\uff0c\u72b6\u6001\u53d8\u4e3a $\\texttt{100001000000}$\u3002\n* \u518d\u52a0\u5165 $5$\uff0c\u72b6\u6001\u53d8\u4e3a $\\texttt{10000100000010000}$\u3002\n\n\u8bbe ```f[i][j]``` \u8868\u793a\u586b\u5230\u7b2c $i$ \u4f4d\uff0c\u72b6\u6001\u4e3a $j$ \u7684\u4e0d\u5408\u6cd5\u7684\u65b9\u6848\u6570\u6709\u51e0\u79cd\uff0c\u679a\u4e3e\u6570\u5b57\u8f6c\u79fb\u5373\u53ef\u3002\u8fb9\u754c\u6761\u4ef6 ```f[0][0]=1```\u3002  \n\u6700\u540e\u7528\u603b\u65b9\u6848\u6570 $10^n$ \u51cf\u53bb\u6bcf\u79cd\u72b6\u6001\u7684\u4e0d\u5408\u6cd5\u65b9\u6848\u6570\u5c31\u5f97\u5230\u5408\u6cd5\u7b54\u6848\u4e86\u3002\n\n------------\nCode\uff1a\n```cpp\n#include<bits/stdc++.h>\nconst int p=1e9+7;\nusing namespace std;\ntypedef long long ll;\n\nint n,x,y,z,goal,tot;\nll f[50][(1<<20)],ans;\nint main() {\n//\tfreopen(\"AT1975.in\",\"r\",stdin);\n//\tfreopen(\"AT1975.out\",\"w\",stdout);\n\tscanf(\"%d%d%d%d\",&n,&x,&y,&z);\n\ttot=(1<<x+y+z)-1;// \u83b7\u53d6\u72b6\u6001\u4e0a\u9650 \n\tgoal|=1<<x+y+z-1;\n\tgoal|=1<<y+z-1;\n\tgoal|=1<<z-1;// \u83b7\u53d6\u76ee\u6807\u72b6\u6001 \n\t\n\tf[0][0]=1;\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=0; j<=tot; j++) {\n\t\t\tint s;\n\t\t\tfor(int k=1; k<=10; k++) {\n\t\t\t\ts=(j<<k)|(1<<k-1);// \u79fb\u4f4d\u5f97\u65b0\u72b6\u6001 \n\t\t\t\ts&=tot;// \u53bb\u9664\u8d85\u51fa\u9650\u5236\u4f4d\u6570\u7684\u72b6\u6001 \n\t\t\t\tif((s&goal)==goal) continue;\n\t\t\t\t(f[i][s]+=f[i-1][j])%=p;\n\t\t\t} \n\t\t}\n\t}\n\t\n\tans=1;\n\tfor(int i=1; i<=n; i++) (ans*=10)%=p;\n\tfor(int i=0; i<=tot; i++) ans=(ans-f[n][i]+p)%p;\n\tprintf(\"%lld\\n\",ans);\n\t\n\treturn 0;\n}\n\n```\n",
        "postTime": 1664153648,
        "uid": 169423,
        "name": "\u6d01\u54aa",
        "ccfLevel": 0,
        "title": "AT1975\u9898\u89e3"
    },
    {
        "content": "&emsp;&emsp;**\u53bb\u5f80[\u539f\u535a\u5ba2](https://www.cnblogs.com/crashed/p/13413765.html)\u98df\u7528\u66f4\u4f73\u3002**\n# \u9898\u76ee\n&emsp;&emsp;[\u70b9\u8fd9\u91cc](https://www.luogu.com.cn/problem/AT1975)\u770b\u9898\u76ee\u3002   \n# \u5206\u6790\n&emsp;&emsp;\u9996\u5148\uff0c\u7531\u4e8e\u4ec5\u4ec5\u662f \" \u5b58\u5728 \" \u8fd9\u4e00\u6761\u9650\u5236\u5f88\u5bb9\u6613\u5bfc\u81f4\u8ba1\u91cd\uff0c\u4e14\u603b\u65b9\u6848\u6570\u5c31\u662f $10^n$ \u3002\u6211\u4eec\u5c31\u53ef\u4ee5\u8003\u8651\u6c42\u8865\u96c6\uff0c\u4e5f\u5c31\u662f\u4e0d\u5b58\u5728\u7684\u60c5\u51b5\u3002     \n&emsp;&emsp;\u7136\u540e\u6709\u4e00\u4e2a\u5f88\u663e\u7136\u7684 DP :   \n&emsp;&emsp;$f(i,S)$\uff1a\u5e8f\u5217\u957f\u5ea6\u4e3a $i$ \uff0c\u6b64\u65f6\u5e8f\u5217\u7684**\u548c $\\le X + Y + Z$ \u7684\u6781\u957f\u540e\u7f00**\u7684\u72b6\u6001\u4e3a $S$ \u7684\u65b9\u6848\u6570\u3002   \n&emsp;&emsp;\u4e3e\u4e00\u4e2a\u5173\u4e8e\u6781\u957f\u540e\u7f00\u7684\u4f8b\u5b50\uff1a   \n```\n    X=2,Y=5,Z=4\n    ... 1 3 ( 2 5 3 )\n```   \n&emsp;&emsp;\u62ec\u53f7\u5185\u7684\u5c31\u662f\u72b6\u6001\u9700\u8981\u7684\u6781\u957f\u540e\u7f00\u3002    \n&emsp;&emsp;\u90a3\u4e48\u600e\u4e48\u5b58\u4e0b\u6765\u8fd9\u4e2a\u540e\u7f00\u5462\uff1f   \n## \u66b4\u529b\n&emsp;&emsp;\u5199\u4e2a\u641c\u7d22\u627e\u4e00\u4e0b\u65b9\u6848\u6570\uff1a   \n```cpp\n    void DFS( const int su )\n    {\n    \tif( su > X + Y + Z ) return ;\n    \t++ cnt;\n    \tfor( int i = 1 ; i <= 10 ; i ++ )\n    \t\tDFS( su + i ); \n    }\n```   \n&emsp;&emsp;\u5f97\u5230\u7ed3\u679c\uff1a   \n```\n    input: X = 5, Y = 7, Z = 5\n    output: cnt = 130624\n```   \n&emsp;&emsp;\u56e0\u800c\uff0c\u5b9e\u9645\u4e0a\uff0c $S$ \u7684\u72b6\u6001\u6570\u4e0d\u4f1a\u592a\u591a\u3002\u6211\u4eec\u53ef\u4ee5\u5168\u90e8\u641c\u7d22\u51fa\u6765\u4e4b\u540e\uff0c\u5efa\u7acb $S$ \u548c\u5e8f\u53f7\u7684\u6620\u5c04\u5173\u7cfb\u3002\u5bf9\u4e8e\u6bcf\u4e2a $S$ \uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5f97\u5230\u5b83\u52a0\u4e86\u4e00\u4e2a\u5b57\u7b26\u4e4b\u540e\u7684\u8f6c\u79fb\uff0c\u518d\u8fdb\u884c DP \u3002   \n&emsp;&emsp;\u987a\u5e26\u4e00\u63d0\uff0c $S$ \u4e5f\u53ef\u4ee5\u76f4\u63a5\u88ab\u538b\u7f29\u6210 ```long long``` \u8303\u56f4\u5185\u7684\u6570\uff0c\u65b9\u4fbf ```map``` \u4f7f\u7528\u3002    \n&emsp;&emsp;\u65f6\u95f4\u590d\u6742\u5ea6\u6700\u5927\u662f $O(130642 \\times 10\\times n)$ \uff0c\u6709\u70b9\u5361\uff0c\u4e0d\u8fc7\u8fd8\u597d\u3002   \n## \u4f18\u96c5\u89e3\u6cd5\n&emsp;&emsp;\u6211\u4eec\u5047\u60f3\u51fa\u4e00\u6761\u957f\u5ea6\u4e3a $X+Y+Z$ \u7684\u7a7a\u683c\u5b50\u5217\u3002\u90a3\u4e48\u4e00\u4e2a\u6570 $x$ \u5c31\u76f8\u5f53\u4e8e\u6d82\u6389\u4e86\u8fde\u7eed\u7684 $x$ \u4e2a\u683c\u5b50\u3002\u6211\u4eec\u5c31\u53ea\u9700\u8981\u5224\u65ad\uff1a\u7b2c $X$ \u4e2a\u683c\u5b50\u662f\u4e0d\u662f\u67d0\u6b21\u586b\u6d82\u7684\u672b\u5c3e\uff1f\u7b2c $X + Y$ \u4e2a\u683c\u5b50\u662f\u5426\u662f\u67d0\u6b21\u586b\u6d82\u7684\u672b\u5c3e\uff1f\u7b2c $X+Y+Z$ \u4e2a\u683c\u5b50\u662f\u5426\u662f\u67d0\u6b21\u586b\u6d82\u7684\u672b\u5c3e\uff1f     \n&emsp;&emsp;\u8fdb\u800c\u53ef\u4ee5\u60f3\u5230\u4e00\u4e2a\u72b6\u6001\u538b\u7f29\u7684\u65b9\u6cd5\uff1a\u5bf9\u4e8e\u4e00\u4e2a\u6570 $x$ \uff0c\u6211\u4eec\u5c31\u628a $[1,x)$ \u7684\u683c\u5b50\u7559\u7a7a\uff0c\u628a\u7b2c $x$ \u4e2a\u683c\u5b50\u6d82\u4e0a\u989c\u8272\uff0c\u6807\u8bb0\u8fd9\u91cc\u662f\u4e00\u6b21\u586b\u6d82\u7684\u5c3e\u5df4\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u5229\u7528\u4f4d\u8fd0\u7b97\u5feb\u901f\u67e5\u51fa\u5f53\u524d\u72b6\u6001\u662f\u5426\u5408\u6cd5\u3002   \n&emsp;&emsp;\u716e\u51e0\u4e2a\u6817\u5b50\uff1a   \n```\n    input: X = 3, Y = 2, Z = 4 => 001010001\n    \u539f\u5e8f\u5217         \u8f6c\u5316\u4e3a\u683c\u5b50        \u8f6c\u5316\u540e\u7684\u5e8f\u5217\n    1 1 1 3 2 1 => 1 1 1 001 01 1 => 111001011    \n                                       ^ x   ^    mismatched\n    1 2 2 3 1   => 1 01 01 001 1  => 101010011    \n                                       ^ ^   ^        matched\n```      \n&emsp;&emsp;\u8fd9\u6837\u5e94\u8be5\u5c31\u53ef\u4ee5\u7406\u89e3\u4e86\u3002 DP \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(10\\times n2^{X+Y+Z})$ \u3002    \n&emsp;&emsp;~~\u8fd9\u4e2a\u65b9\u6cd5\u7406\u8bba\u590d\u6742\u5ea6\u8981\u5927\u4e00\u4e9b\uff0c\u4e0d\u8fc7\u66b4\u529b\u88ab\u5361\u5e38\u4e86~~   \n# \u4ee3\u7801\n&emsp;&emsp;~~\u56e0\u4e3a\u4e00\u4e9b\u4f60\u77e5\u9053\u7684\u539f\u56e0~~\uff0c\u8fd9\u91cc\u7ed9\u51fa Vjudge \u4e0a\u7684 AC \u8bb0\u5f55\u3002  \n## \u66b4\u529b\n&emsp;&emsp;[ AC \u8bb0\u5f55](https://vjudge.net/solution/26629535)\u3002\n```cpp\n#include <map>\n#include <cstdio>\n#include <vector>\nusing namespace std;\n\ntypedef long long LL;\nconst int mod = 1e9 + 7;\nconst int MAXN = 45, MAXS = 2e6 + 5; \n\ntemplate<typename _T>\nvoid read( _T &x )\n{\n\tx = 0;char s = getchar();int f = 1;\n\twhile( s > '9' || s < '0' ){if( s == '-' ) f = -1; s = getchar();}\n\twhile( s >= '0' && s <= '9' ){x = ( x << 3 ) + ( x << 1 ) + ( s - '0' ), s = getchar();}\n\tx *= f;\n}\n\ntemplate<typename _T>\nvoid write( _T x )\n{\n\tif( x < 0 ){ putchar( '-' ); x = ( ~ x ) + 1; }\n\tif( 9 < x ){ write( x / 10 ); }\n\tputchar( x % 10 + '0' );\n}\n\nmap<LL, int> state;\n\nint f[MAXN][MAXS];\nint trans[MAXS][11];\nint seq[MAXN], siz;\nint cnt = 0;\nint N, X, Y, Z;\nbool legal[MAXS];\n\nvoid add( int &x, const int v ) { x = ( x + v >= mod ? x + v - mod : x + v ); }\n\nvoid DFS( const int su, const LL H )\n{\n\tif( su > X + Y + Z ) return ;\n\tstate[H] = ++ cnt;\n\tfor( int i = 1 ; i <= 10 ; i ++ )\n\t\tDFS( su + i, H * 10 + i ); \n}\n\nbool chk()\n{\n\tint s[MAXN] = {};\n\tfor( int i = 1 ; i <= siz ; i ++ ) s[i] = s[i - 1] + seq[i];\n\tbool flag = false;\n\tfor( int i = 1 ; i <= siz ; i ++ )\n\t\tif( s[i] == X )\n\t\t{ flag = true; break; }\n\tif( ! flag ) return false;\n\tflag = false;\n\tfor( int i = 1 ; i <= siz ; i ++ )\n\t\tif( s[i] == X + Y )\n\t\t{ flag = true; break; }\n\tif( ! flag ) return false;\n\treturn s[siz] == X + Y + Z;\n}\n\nint push( const int c )\n{\n\tint su = 0, l;\n\tfor( l = siz ; l ; su += seq[l --] )\n\t\tif( c + su + seq[l] > X + Y + Z )\n\t\t\tbreak;\n\tLL val = 0;\n\tfor( int j = l + 1 ; j <= siz ; j ++ )\n\t\tval = val * 10 + seq[j];\n\tif( c <= X + Y + Z ) val = val * 10 + c;\n\treturn state[val];\n}\n\nvoid init( const int su )\n{\n\tif( su > X + Y + Z ) return ;\n\tlegal[++ cnt] = chk();\n\tfor( int i = 1 ; i <= 10 ; i ++ ) trans[cnt][i] = push( i );\n\tfor( int c = 1 ; c <= 10 ; c ++ )\n\t\tseq[++ siz] = c, init( su + c ), siz --;\n}\n\nint main()\n{\n\tread( N ), read( X ), read( Y ), read( Z );\n\tDFS( 0, 0 ); \n\tcnt = 0; init( 0 );\n\t\n\tf[0][1] = 1;\n\tfor( int i = 0 ; i < N ; i ++ )\n\t\tfor( int k = 1 ; k <= cnt ; k ++ )\n\t\t\tif( f[i][k] && ! legal[k] )\n\t\t\t\tfor( int c = 1 ; c <= 10 ; c ++ )\n\t\t\t\t\tif( trans[k][c] && ! legal[trans[k][c]] )\n\t\t\t\t\t\tadd( f[i + 1][trans[k][c]], f[i][k] );\n\tint ans = 1;\n\tfor( int i = 1 ; i <= N ; i ++ )\n\t\tans = 10ll * ans % mod;\n\tfor( int i = 1 ; i <= cnt ; i ++ )\n\t\tif( ! legal[i] )\n\t\t\tadd( ans, mod - f[N][i] );\t\n\twrite( ans ), putchar( '\\n' );\n\treturn 0;\n}\n```\n## \u4f18\u96c5\u7684\u89e3\u6cd5\n&emsp;&emsp;[ AC \u8bb0\u5f55](https://vjudge.net/solution/26608382)\u3002   \n```cpp\n#include <cstdio>\n\nconst int mod = 1e9 + 7;\nconst int MAXN = 45, MAXS = ( 1 << 17 ) + 5;\n\ntemplate<typename _T>\nvoid read( _T &x )\n{\n\tx = 0;char s = getchar();int f = 1;\n\twhile( s > '9' || s < '0' ){if( s == '-' ) f = -1; s = getchar();}\n\twhile( s >= '0' && s <= '9' ){x = ( x << 3 ) + ( x << 1 ) + ( s - '0' ), s = getchar();}\n\tx *= f;\n}\n\ntemplate<typename _T>\nvoid write( _T x )\n{\n\tif( x < 0 ){ putchar( '-' ); x = ( ~ x ) + 1; }\n\tif( 9 < x ){ write( x / 10 ); }\n\tputchar( x % 10 + '0' );\n}\n\nint f[MAXN][MAXS];\nint N, X, Y, Z, st, all;\n\nint bit( const int i ) { return 1 << i - 1; }\nbool chk( const int S ) { return ( S & st ) == st; }\nvoid add( int &x, const int v ) { x = ( x + v >= mod ? x + v - mod : x + v ); }\nint insert( const int S, const int v ) { return ( S << v | bit( v ) ) & all; }\n\nint main()\n{\n\tread( N ), read( X ), read( Y ), read( Z );\n\tint up = 1 << X + Y + Z;\n\tall = ( bit( X + Y + Z ) << 1 ) - 1;\n\tst = bit( Z ) | bit( Y + Z ) | bit( X + Y + Z );\n\t\n\tf[0][0] = 1;\n\tfor( int i = 0 ; i < N ; i ++ )\n\t\tfor( int S = 0 ; S < up ; S ++ )\n\t\t\tif( f[i][S] && ! chk( S ) )\n\t\t\t\tfor( int k = 1, T ; k <= 10 ; k ++ )\n\t\t\t\t\tif( ! chk( T = insert( S, k ) ) )\n\t\t\t\t\t\tadd( f[i + 1][T], f[i][S] );\n\tint ans = 1;\n\tfor( int i = 1 ; i <= N ; i ++ )\n\t\tans = 10ll * ans % mod;\n\tfor( int S = 0 ; S < up ; S ++ )\n\t\tif( ! chk( S ) )\n\t\t\tadd( ans, mod - f[N][S] );\n\twrite( ans ), putchar( '\\n' );\n\treturn 0;\n}\n```\n",
        "postTime": 1596250579,
        "uid": 123809,
        "name": "crashed",
        "ccfLevel": 0,
        "title": "[ARC058C]Iroha and Haiku"
    },
    {
        "content": "###   \u5df2\u7ecf\u6709\u5927\u4f6c\u53d1\u4e86\u53cd\u5411\u601d\u8003\u7684\u9898\u89e3\u4e86\uff0c\u6211\u6765\u8865\u4e00\u4e2a\u6b63\u5411\u601d\u8003\u7684\n\u9996\u5148\uff0c\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u6570\u636e\u8303\u56f4 $(3\u2264n\u226440,1\u2264x\u22645,1\u2264y\u22647,1\u2264z\u22645)$\n\n$3\u2264x+y+z\u226417$,\u662f\u4e00\u4e2a\u5341\u5206\u5c0f\u7684\u8303\u56f4\uff0c\u5bf9\u4e8e\u8fd9\u79cd$20$\u4ee5\u4e0b\u7684\u8303\u56f4\uff0c\u6211\u4eec\u9009\u62e9\u72b6\u538b\u3002\n\n$i$\u8868\u793a\u6211\u4eec\u5f53\u524d\u7684\u72b6\u6001\uff0c\u5f53$i$\u4ece\u53f3\u5f80\u5de6\u6570\u7b2c$k+1$\u4f4d\u4e3a$1$\u65f6\uff0c\u8868\u793a\u5f53\u524d\u6240\u586b\u7684\u6240\u6709\u6570\u7684\u548c\u53ef\u80fd\u4e3a$k$\u3002$ne[i][j]$\u8868\u793a\u5f53\u524d\u72b6\u6001\u4e3a$i$\uff0c\u4e0b\u4e00\u4f4d\u586b$k$\u65f6\u6211\u4eec\u6240\u80fd\u591f\u5f97\u5230\u7684\u72b6\u6001\u3002\u4e3a\u4e86\u9632\u6b62\u6ea2\u51fa\uff0c\u5f53$ne[i][j]>(1<<x+y+z)$\u65f6\uff0c\u6211\u4eec\u8981\u628a\u5b83\u964d\u5230$1<<x+y+z$\uff1b\n\n\u52a8\u6001\u8f6c\u79fb\u65b9\u7a0b$f[i][ne[j][k]]=(f[i][ne[j][k]]+f[i-1][j])$%$m$;\n($f[i][j]$\u8868\u793a\u7b2c$i$\u4f4d\u72b6\u6001\u4e3a$k$\u65f6\u7684\u65b9\u6848\u6570\uff09\n\n\u63a5\u4e0b\u6765\uff0c\u4e0a\u4ee3\u7801\uff01\uff08\u7a0b\u5e8f\u5197\u6742\uff0c\u4ec5\u4f9b\u53c2\u8003\uff0c\u4e0d\u8981\u53d6\u7b11\uff09\n```cpp\n#include<bits/stdc++.h>\n using namespace std;\n int m=1000000007,n,x,y,z;\n unsigned long long f[41][131075],ne[131075][11],i,j,k;\n int main()\n{\n    scanf(\"%d%d%d%d\",&n,&x,&y,&z);\n    y+=x; z+=y;\n    for(i=1;i<=1<<z;i++)\n     for(j=1;j<=10;j++)\n      {\n        ne[i][j]=1;\n        for(k=0;k+j<=z;k++)if(i&(1<<k))\n         if(!(k<x&&k+j>x)&&!(k<y&&k+j>y))\n         //\u5982\u679c\u539f\u672c\u5c0f\u4e8ex\u6216\u5c0f\u4e8ex+y\u4f46\u52a0\u4e0aj\u540e\u8d85\u8fc7\u4e86\uff0c\u90a3\u4e48\u6570\u5217\u5c31\u4e0d\u662f\u4ff3\u53e5\uff0c\u9884\u5904\u7406ne\u6570\u7ec4\u7684\u65f6\u5019\u8981\u7279\u522b\u6ce8\u610f\u4e00\u4e0b\n          ne[i][j]|=1<<(j+k);\n        if((i==(1<<z))||ne[i][j]>=1<<z)ne[i][j]=1<<z;\n      }\n    f[0][1]=1;\n    for(i=1;i<=n;i++)\n     for(j=1;j<=1<<z;j++)\n      for(k=1;k<=10;k++)\n       f[i][ne[j][k]]=(f[i][ne[j][k]]+f[i-1][j])%m;\n    cout<<f[n][1<<z];\n    return 0;\n}\n```",
        "postTime": 1535616794,
        "uid": 60610,
        "name": "Gavin\u00b7Olivia",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT1975 \u3010\u548c\u98a8\u3044\u308d\u306f\u3061\u3083\u3093 / Iroha and Haiku\u3011"
    },
    {
        "content": "\u5c71\u4e1c\u8865\u6d4b\u9898\uff0c\u8865\u4e00\u4e0b\u6b63\u5411\u7684\u505a\u6cd5\u3002\n\n------------\n\n\u8003\u8651 $dp_{i,j}$ \u8868\u793a\u524d $i$ \u4e2a\u6570\u72b6\u6001\u4e3a $j$ \u7684\u65b9\u6848\u6570\u3002\n\n\u8bbe\u597d\u7684\u5e8f\u5217\u6807\u51c6\u72b6\u6001 $sr$ \u4e3a $((2^x+1)\\times 2^y+1)\\times 2^z$\u3002\n\n\u5f53 $j\\& sr$ \u7b49\u4e8e $sr$\uff0c\u5373 $x$\uff0c$y$\uff0c$z$ \u90fd\u53d6\u6ee1\u4e86\u65f6\uff0c\u8fd9\u4e2a\u72b6\u6001\u4e3a\u597d\u7684\u5e8f\u5217\u3002\n\n\u5219\u4ed6\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u4e3a $dp_{i,j}\\times 10^{n-i}$\uff0c\u56e0\u4e3a\u8fd8\u6ca1\u9009\u7684\u6570\u53ef\u4ee5\u968f\u4fbf\u9009\uff08\u6bcf\u4e2a $10$ \u79cd\u53ef\u80fd\uff09\u3002\n\n\u63a5\u7740\u8003\u8651\u5982\u4f55\u8f6c\u79fb\u3002\n\n\u679a\u4e3e\u4e0b\u4e00\u4e2a\u8fde\u7eed\u533a\u95f4\u7684\u548c $d$\uff0c\u7136\u540e\u72b6\u6001\u66f4\u65b0\u4e3a $(sr\\times 2^d+1)\\& maxs$\uff0c\u5176\u4e2d $maxs$ \u8868\u793a\u6700\u5927\u72b6\u6001\uff08\u5373 $2^{18}-1$\uff09\uff0c\u8fd9\u6b65\u64cd\u4f5c\u7528\u6765\u628a\u524d\u9762\u5df2\u7ecf\u4e0d\u5f71\u54cd\u7b54\u6848\u7684\u6570\u820d\u6389\u3002\n\n\u8ba9\u65b0\u7684\u4f4d\u7f6e\u52a0\u4e0a $dp_{i,j}$ \u5c31\u597d\u4e86\u3002\n\n\u590d\u6742\u5ea6\u662f $\\operatorname{O}(n\\times 2^{x+y+z})$\u3002\n\n------------\n\n\u4e0d\u4f1a\u8f6c\u79fb\u53ef\u4ee5\u770b\u4ee3\u7801\u3002\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst ll maxn=84;\nconst ll maxss=3e5+84;\nconst ll maxs=(1<<18)-1;\nconst ll mod=1e9+7;\nll n,x,y,z,pw[maxn],res,ans,dp[maxn][maxss];\nint main(){\n    scanf(\"%lld%lld%lld%lld\",&n,&x,&y,&z);\n    pw[0]=1;\n    for(ll i=1;i<=n;i++)\n        pw[i]=pw[i-1]*10%mod;\n    res=((((1<<x)+1)<<y)+1)<<z;\n    // printf(\"%d Sherry\\n\",res);\n    dp[0][1]=1;\n    for(ll i=0;i<=n;i++){\n        for(ll j=0;j<=maxs+1;j++){\n            if((j&res)==res){//\u6ce8\u610f\u524d\u9762\u8981\u6253\u62ec\u53f7\n                ans=(ans+dp[i][j]*pw[n-i]%mod)%mod;\n                continue;\n            }\n            for(ll d=1;d<=10;d++)\n                dp[i+1][(j<<d|1)&maxs]=(dp[i+1][(j<<d|1)&maxs]+dp[i][j])%mod;\n        }\n    }\n    printf(\"%lld Sherry\",ans);\n    return 0;\n}\n```\n",
        "postTime": 1685024950,
        "uid": 526094,
        "name": "Wf_yjqd",
        "ccfLevel": 0,
        "title": "AT_arc058_c [ARC058E] \u548c\u98a8\u3044\u308d\u306f\u3061\u3083\u3093"
    },
    {
        "content": "[\u539f\u9898\u94fe\u63a5](https://www.luogu.com.cn/problem/AT1975)\n\n## \u9898\u610f\n\n \u82e5 $a=\\{a_1,a_2,\\cdots a_n\\}$ \u5b58\u5728 $1\\le x<y<z<w\\le n+1$ \u6ee1\u8db3 $\\sum\\limits_{i=x}^{y-1}a_i=X,\\sum\\limits_{i=y}^{z-1}a_i=Y,\\sum\\limits_{i=z}^{w-1}a_i=Z$ \u65f6\uff0c\u5219\u79f0\u6570\u5217 $a$ \u662f**\u597d\u7684**\u3002\n\n-\u6c42\u5728\u6240\u6709\u957f\u5ea6\u4e3a $n$ \u4e14 $a_i\\in\\mathbb{N}^{+}\\cap[1,10]$ \u7684 $10^n$ \u4e2a\u5e8f\u5217 $a$ \u4e2d\uff0c\u6709\u591a\u5c11\u4e2a\u5e8f\u5217\u662f**\u597d\u7684**\uff0c\u7b54\u6848\u5bf9 $10^9+7$ \u53d6\u6a21\u3002\n\n#### \u6570\u636e\u8303\u56f4\n\n $3\\le n\\le40$\uff0c$1\\le X\\le5$\uff0c$1\\le Y\\le7$\uff0c$1\\le Z\\le5$\u3002\n\n\n## \u601d\u8def\n\n\u53d1\u73b0\u672c\u9898\u76f4\u63a5\u7edf\u8ba1\u5408\u6cd5\u7684\u5e8f\u5217\u5f88\u96be\u89e3\u51b3\u53bb\u91cd\u95ee\u9898\uff0c\u8003\u8651\u5bb9\u65a5\uff0c\u5373\u7528\u603b\u7684\u65b9\u6cd5\u6570\u51fa\u4e0d\u5408\u6cd5\u7684\u65b9\u6848\u6570\u3002\n\n\u7531\u4e8e $a \\in [1,10]$\uff0c\u603b\u7684\u65b9\u6848\u6570\u5c31\u662f $10^n$\u3002\u6ce8\u610f\u5230 $X+Y+Z \\leq 17$\u3002\u53ef\u4ee5\u8003\u8651\u72b6\u538b\u3002\n\n\u5047\u8bbe\u5f53\u524d\u679a\u4e3e\u7684\u6570\u4e3a $i$\uff0c\u90a3\u4e48\u52a0\u4e0a\u8fd9\u4e2a\u6570\u540e\u5e8f\u5217\u662f\u5426\u5408\u6cd5\uff0c\u5c31\u662f\u770b\u662f\u5426\u539f\u5e8f\u5217\u7684**\u540e\u7f00**\u662f\u5426\u6ee1\u8db3 $x+y+z-i$\uff0c$y+z-i$,$z-i$ \u90fd\u51fa\u73b0\u4e86\u3002\u90a3\u4e48\u5c31\u53ef\u4ee5\u8bbe $f[i][j]$ \u8868\u793a\u5f53\u524d\u679a\u4e3e\u5230\u7b2c $i$ \u4e2a\u6570\uff0c\u5f53\u524d\u679a\u4e3e\u7684\u5e8f\u5217\u540e\u7f00\u72b6\u6001\u4e3a $j$ \u65f6\u7684\u4e0d\u5408\u6cd5\u5e8f\u5217\u65b9\u6848\u6570\u3002\n\n\u5bf9\u4e8e\u4e00\u4e2a\u72b6\u6001 $j$\uff0c\u5b83\u5728\u4e8c\u8fdb\u5236\u8868\u793a\u4e0b\u7684\u7b2c $i$ \u4f4d\u4e3a $1$ \u5c31\u8868\u793a\u5b58\u5728\u4e00\u4e2a\u540e\u7f00\u4e3a $i$\uff0c\u5f53\u52a0\u5165\u4e00\u4e2a\u65b0\u7684\u6570 $k$ \u65f6\uff0c\u540e\u7f00 $i$ \u5c31\u66f4\u65b0\u4e3a\u4e86 $k$\uff0c\u53ea\u9700\u8981\u5c06\u539f\u72b6\u6001\u5411\u524d\u79fb\u52a8 $k$ \u4f4d\u518d\u628a $2^k$ \u52a0\u8fdb\u72b6\u6001\u5373\u53ef\u3002\u7531\u4e8e $X+Y+Z \\leq 17$\uff0c\u5927\u4e8e $17$ \u7684\u540e\u7f00\u5c31\u6ca1\u6709\u5fc5\u8981\u8003\u8651\u4e86\uff0c\u53ef\u4ee5\u76f4\u63a5\u7565\u53bb\u3002\u800c\u4e3a\u4e86\u907f\u514d\u51fa\u73b0\u5408\u6cd5\u5e8f\u5217\uff0c\u81ea\u7136\u540e\u7f00\u4e2d\u4e0d\u80fd\u540c\u65f6\u51fa\u73b0 $x+y+z$\uff0c$y+z$ \u548c $z$\uff0c\u5728\u8f6c\u79fb\u7684\u65f6\u5019\u53ea\u9700\u8981\u5224\u65ad\u4e00\u4e0b\u5f53\u524d\u72b6\u6001\u662f\u5426\u5305\u542b\u4e86\u8be5\u5408\u6cd5\u72b6\u6001\u5373\u53ef\u3002\n\n## code:\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm> \nusing namespace std;\nconst int N=55,mod=1e9+7,M=1<<20;\nint n,m,x,y,z,f[N][M],ans;\nint main()\n{\n//\tfreopen(\"seq.in\",\"r\",stdin);\n//\tfreopen(\"seq.out\",\"w\",stdout);\n\tscanf(\"%d%d%d%d\",&n,&x,&y,&z);ans=1;m=(1<<x+y+z)-1;\n\tfor(int i=1;i<=n;i++) ans=1ll*ans*10%mod;\n\tint state=((1<<x+y+z-1))|((1<<y+z-1))|(1<<z-1);f[0][0]=1;\n\tfor(int i=1;i<=n;i++)\n\t    for(int j=0;j<=m;j++)\n\t        if(f[i-1][j]&&(j&state)!=state)\n\t            for(int k=1;k<=10;k++)\n\t            {\n\t            \tf[i][((j<<k)|(1<<k-1))&m]+=f[i-1][j];\n\t            \tf[i][((j<<k)|(1<<k-1))&m]%=mod;\n\t\t\t\t}\n\tfor(int i=0;i<=m;i++)\n\t    if((i&state)!=state)\n\t    {\n\t    \tans=(ans-f[n][i]+mod)%mod;\n\t\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1658533514,
        "uid": 288192,
        "name": "ListenSnow",
        "ccfLevel": 7,
        "title": "AT1975 [ARC058C] \u548c\u98a8\u3044\u308d\u306f\u3061\u3083\u3093"
    },
    {
        "content": ">- \u82e5 $a=\\{a_1,a_2,\\cdots a_n\\}$ \u5b58\u5728 $1\\le x<y<z<w\\le n+1$ \u6ee1\u8db3 $\\sum\\limits_{i=x}^{y-1}a_i=X,\\sum\\limits_{i=y}^{z-1}a_i=Y,\\sum\\limits_{i=z}^{w-1}a_i=Z$ \u65f6\uff0c\u5219\u79f0\u6570\u5217 $a$ \u662f**\u597d\u7684**\u3002\n>- \u6c42\u5728\u6240\u6709\u957f\u5ea6\u4e3a $n$ \u4e14 $a_i\\in\\mathbb{N}^{+}\\cap[1,10]$ \u7684 $10^n$ \u4e2a\u5e8f\u5217 $a$ \u4e2d\uff0c\u6709\u591a\u5c11\u4e2a\u5e8f\u5217\u662f**\u597d\u7684**\uff0c\u7b54\u6848\u5bf9 $10^9+7$ \u53d6\u6a21\u3002\n>- $3\\le n\\le40$\uff0c$1\\le X\\le5$\uff0c$1\\le Y\\le7$\uff0c$1\\le Z\\le5$\u3002\n\n\u7f16\u7a0b\u5154\u6709\u6ca1\u6709\u6bcd\u4eb2\u554a\uff0c\u6562\u628a\u8fd9\u79cd\u4e1c\u897f\u653e\u5230\u5c71\u4e1c\u666e\u53ca\u8865\u6d4b\u6765\u3002\n\n\u9996\u5148\u7b2c\u4e00\u53cd\u5e94\u62c6\u5206\u6570\uff0c\u7136\u540e\u6211 `rush` \u4e86\u4e00\u4e0b\u53d1\u73b0\u8fc7\u4e0d\u4e86\u6837\u4f8b\uff0c\u56e0\u4e3a\u8fd9\u6837\u4e00\u5b9a\u4f1a\u51fa\u73b0\u91cd\u590d\u7684\u95ee\u9898\uff0c\u4e00\u4e2a\u5e8f\u5217\u53ef\u80fd\u6709\u591a\u6b21\u5339\u914d\u3002\n\n\u90a3\u63a5\u4e0b\u6765\u6839\u636e\u6570\u636e\u8303\u56f4\u6765\u731c\u7b97\u6cd5\u4e86\uff0c\u4e0d\u662f\u641c\u7d22\u5c31\u662f\u72b6\u538b\u3002\n\n\u6211\u4eec\u5bf9\u4e8e\u4e00\u4e2a\u4e32\u88ab\u591a\u6b21\u7edf\u8ba1\u7684\u95ee\u9898\uff0c\u7b2c\u4e00\u4e2a\u60f3\u6cd5\u5c31\u662f\u627e\u51fa\u4e00\u4e2a\u4ee3\u8868\u7684\u6765\u7edf\u8ba1\uff0c\u4f46\u662f\u6211\u4eec\u53d1\u73b0\u8fd9\u662f\u975e\u5e38\u56f0\u96be\u7684\u3002\n\n\u8fd9\u91cc\u6211\u4eec\u7edf\u8ba1\u4e0d\u7b26\u5408\u8981\u6c42\u7684\u4e32\u3002\n\n\u600e\u4e48\u7edf\u8ba1\u5462\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u5e9f\u8bdd\u7684\u7ed3\u8bba\uff0c\u6211\u4eec\u679a\u4e3e\u5b57\u7b26\u4e32\u7684\u7ed3\u675f\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u6709\u4ff3\u53e5\u7684\u4e32\uff0c\u5176\u4e00\u5b9a\u6709\u4e00\u4e2a\u540e\u7f00\u7b26\u5408\u8981\u6c42\u3002\n\n\u5982\u679c\u76f4\u63a5\u679a\u4e3e\uff0c\u5224\u5b9a\u5f88\u5bb9\u6613\uff0c\u4f46\u6211\u4eec\u5982\u679c\u60f3\u4e00\u6b21\u7edf\u8ba1\u591a\u4e2a\u4e32\u662f\u5426\u7b26\u5408\u8981\u6c42\uff0c\u90a3\u5c31\u9700\u8981\u8fdb\u884c\u5206\u7c7b\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u5728\u4e0a\u4e00\u4e2a `DP` \u4e2d\uff0c\u7b97\u91cd\u7684\u539f\u56e0\u662f\u4e00\u4e2a\u72b6\u6001\u5728\u5224\u5b9a\u4e3a\u5408\u6cd5\u540e\u4f1a\u7ee7\u7eed\u8ba1\u7b97\uff0c\u6211\u4eec\u5982\u679c\u60f3\u53bb\u6389\u8fd9\u4e2a\u95ee\u9898\u53ea\u53ef\u80fd\u4e0a\u5bb9\u65a5\uff0c\u4f46\u8fd9\u4e2a\u5bb9\u65a5\u8fc7\u4e8e\u4e0d\u4f26\u4e0d\u7c7b\uff0c\u65e0\u6cd5\u5b9e\u73b0\uff0c\u6240\u4ee5\u6211\u4eec\u60f3\u5230\u4e86**\u72b6\u538b**\u3002\n\n\u6211\u4eec\u5148\u8003\u8651\u5bf9\u6574\u4e2a\u6570\u7ec4\u8fdb\u884c\u72b6\u538b\uff0c\u8003\u8651\u600e\u4e48\u628a\u4e0d\u662f\u4e8c\u8fdb\u5236\u7684\u6570\u538b\u5230\u4e8c\u8fdb\u5236\u3002\n\n\u6211\u4eec\u8fd9\u4e48\u8003\u8651\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u6570 $i$\uff0c\u5c31\u628a\u539f\u6765\u7684\u72b6\u6001\u5de6\u79fb $i$ \u4f4d\uff0c\u7136\u540e\u518d\u586b\u4e0a\u4e00\u4e2a 1 \u5c31\u53ef\u4ee5\u4e86\uff0c\u521d\u59cb\u72b6\u6001\u8bbe\u4e3a 1\u3002\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u5224\u4e86\uff0c\u5bf9\u4e8e $X,Y,Z$ \u4e5f\u8fd9\u6837\u6784\u9020\u51fa\u4e00\u4e2a\u8fd9\u6837\u7684\u4e32\uff0c\u79f0\u4e3a\u57fa\u672c\u4e32\uff0c\u540c\u65f6\u5bf9\u4e8e\u6bcf\u4e2a\u4e32\u7684\u6bcf\u4e00\u4e2a\u540e\u7f00\uff0c\u770b\u4e00\u770b\u4e24\u4e2a\u4e0e\u8d77\u6765\u662f\u4e0d\u662f\u8fd8\u662f\u57fa\u672c\u4e32\u3002\n\n\u597d\u7684\uff0c\u8fd9\u91cc\u7684\u72b6\u538b\u5df2\u7ecf\u53ef\u4ee5\u4fdd\u8bc1\u4e0d\u91cd\u4e0d\u6f0f\u4e86\uff0c\u63a5\u4e0b\u6765\u662f\u4f18\u5316\u590d\u6742\u5ea6\u3002\n\n\u5047\u8bbe\u6211\u4eec\u679a\u4e3e\u5230\u4e86\u7b2c $i$ \u4f4d\uff0c\u90a3\u660e\u663e\uff0c\u6bcf\u4e2a\u72b6\u6001\u53ea\u6709\u6700\u540e\u7684 $X+Y+Z+1$ \u662f\u6709\u6548\u7684\u3002\n\n\u6240\u4ee5\u6211\u4eec\u76f4\u63a5\u820d\u5f03\u8d85\u51fa\u8303\u56f4\u7684\u4f4d\u5c31\u53ef\u4ee5\u4e86\uff0c\u8fd9\u91cc\u7684\u64cd\u4f5c\u5176\u5b9e\u5c31\u662f\u5c06\u4e00\u6574\u4e2a\u72b6\u6001\u5f52\u5165\u5176\u672b\u5c3e\u7684\u72b6\u6001\u3002\n\n\u8fd9\u4e2a\u9898\u63d0\u9192\u4e86\u6211\u4eec\uff0c\u72b6\u538b\u662f\u53ef\u4ee5\u538b\u6b63\u6570\u7684\uff0c\u540c\u65f6\u72b6\u538b\u7684\u72b6\u6001\u53ef\u4ee5\u7b80\u5316\uff0c\u53ef\u4ee5\u5f52\u7eb3\u3002\n\n```\n#include <bits/stdc++.h>\n#define ll long long\n#define ull unsigned long long\n#define ld long double\n#define inf 0x7ffffff\n#define int ll\n\nusing namespace std;\nconst int mod=1e9+7;\nint n,x,y,z;\nint ed,f[50][(1<<17)+10];\nint tot,ans;\n\nsigned main(){\n\tios::sync_with_stdio(false);\n\tcin.tie(0),cout.tie(0); \n\tcin >> n >> x >> y >> z;\n\tf[0][0]=1;\n\ttot=(1<<(x+y+z))-1;\n\ted|=1<<(x-1);\n\ted=((ed<<(y))|(1<<(y-1)));\n\ted=((ed<<(z))|(1<<(z-1)));\n\tans=1;\n\tfor(int i=1;i<=n;++i){\n\t\tans=(ans*10)%mod;\n\t\tfor(int j=0;j<=tot;++j){\n\t\t\tif(f[i-1][j]==0) continue ;\n\t\t\tfor(int k=1;k<=10;++k){\n\t\t\t\tint s=((j<<k)|(1<<(k-1)));\n\t\t\t\ts&=tot;\n\t\t\t\tif((s&ed)!=ed) {\n\t\t\t\t\tf[i][s]=(f[i][s]+f[i-1][j])%mod;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=0;i<=tot;++i)\n\t\tans=(ans-f[n][i]+mod)%mod;\n\tcout << ans<<endl;\n\t\n\treturn 0;\n} \n```",
        "postTime": 1682950778,
        "uid": 258178,
        "name": "Benzenesir",
        "ccfLevel": 4,
        "title": "ARC058E"
    },
    {
        "content": "\u5c06\u4e00\u4e2a\u6b63\u6574\u6570 $X$ \u5212\u5206\u4e3a\u82e5\u5e72\u6709\u6807\u53f7\u7684\u6b63\u6574\u6570\u4e4b\u548c\u76f8\u5f53\u4e8e\u5728 $X$ \u4e2a $1$ \u4e4b\u95f4\u653e\u7f6e\u4efb\u610f\u4e2a\u9694\u677f\uff0c\u6545\u65b9\u6848\u6570\u4e3a $2^{X-1}$\u3002\u6240\u4ee5\u5408\u6cd5\u7684 $X,Y,Z$ -Haiku \u7684\u603b\u6570\u4e3a $2^{X+Y+Z-3}$ \u4e2a\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u66b4\u529b\u628a\u6240\u6709\u5408\u6cd5\u4e32\u641c\u51fa\u6765\uff0c\u76f4\u63a5\u5efa\u4e2a AC \u81ea\u52a8\u673a\u3002\u5bb9\u6613\u8865\u96c6\u8f6c\u5316\u4e3a\u6c42\u4e0d\u5408\u6cd5\u7684\u65b9\u6848\u6570\uff0c\u7136\u540e\u8bbe $f_{i,u}$ \u8868\u793a\u957f\u5ea6\u4e3a $i$ \u7684\u4e32\u5339\u914d\u5230\u72b6\u6001 $u$ \u7684\u65b9\u6848\u6570\uff0c\u76f4\u63a5 dp \u5373\u53ef\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(2^{X+Y+Z}n^2)$.\n\n```cpp\nconst int N = 5e5 + 5, Len = 50, Mod = 1e9 + 7;\n\nint QPow(int a, int b) {\n\tint ret = 1, bas = a;\n\tfor(; b; b >>= 1, bas = 1LL * bas * bas % Mod)\n\t\tif(b & 1) ret = 1LL * ret * bas % Mod;\n\treturn ret;\n}\n\nint n;\n\nint tr[N][11], fail[N], node_cnt; bool flag[N];\nvoid Insert(int s[], int len) {\n\tint cur = 0;\n\tfor(int i = 0; i < len; ++i) {\n\t\tif(!tr[cur][s[i]]) tr[cur][s[i]] = ++node_cnt;\n\t\tcur = tr[cur][s[i]];\n\t}\n\tflag[cur] = true;\n}\nstd::queue <int> que;\nvoid Build() {\n\tfor(int i = 1; i <= 10; ++i)\n\t\tif(tr[0][i]) que.push(tr[0][i]);\n\twhile(!que.empty()) {\n\t\tint u = que.front(); que.pop();\n\t\tfor(int i = 1; i <= 10; ++i) {\n\t\t\tif(tr[u][i]) {\n\t\t\t\tfail[tr[u][i]] = tr[fail[u]][i];\n\t\t\t\tque.push(tr[u][i]);\n\t\t\t} else tr[u][i] = tr[fail[u]][i];\n\t\t}\n\t}\n}\nint f[Len][N];\nvoid Dp() {\n\tf[0][0] = 1;\n\tfor(int i = 0; i < n; ++i)\n\t\tfor(int u = 0; u <= node_cnt; ++u)\n\t\t\tfor(int c = 1; c <= 10; ++c) {\n\t\t\t\tint v = tr[u][c];\n\t\t\t\tif(flag[v]) continue;\n\t\t\t\tf[i + 1][v] = (f[i + 1][v] + f[i][u]) % Mod;\n\t\t\t}\n}\n\nint s[Len], cnt;\nvoid Dfs(int cur, int res_X, int res_Y, int res_Z) {\n\tif(!res_Z) {\n\t\tInsert(s, cur);\n\t\t++cnt;\n\t} else if(!res_Y) {\n\t\tfor(int i = 1; i <= res_Z; ++i) {\n\t\t\ts[cur] = i;\n\t\t\tDfs(cur + 1, 0, 0, res_Z - i);\n\t\t}\n\t} else if(!res_X) {\n\t\tfor(int i = 1; i <= res_Y; ++i) {\n\t\t\ts[cur] = i;\n\t\t\tDfs(cur + 1, 0, res_Y - i, res_Z);\n\t\t}\n\t} else {\n\t\tfor(int i = 1; i <= res_X; ++i) {\n\t\t\ts[cur] = i;\n\t\t\tDfs(cur + 1, res_X - i, res_Y, res_Z);\n\t\t}\n\t}\n}\n\nint main() {\n\tint X, Y, Z;\n\trd(n, X, Y, Z);\n\tDfs(0, X, Y, Z);\n\tBuild(); Dp();\n\tint ans = 0;\n\tfor(int i = 0; i <= node_cnt; ++i)\n\t\tans = (ans + f[n][i]) % Mod;\n\tans = (QPow(10, n) - ans + Mod) % Mod;\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}\n```",
        "postTime": 1616832488,
        "uid": 34238,
        "name": "zhylj",
        "ccfLevel": 9,
        "title": "\u300cARC 058C\u300dIroha and Haiku"
    }
]