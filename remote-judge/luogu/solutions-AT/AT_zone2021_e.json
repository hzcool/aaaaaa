[
    {
        "content": "AT_zone2021_e \u6f5c\u5165 \u505a\u5b8c\u4e0d\u5f97\u4e0d\u8bf4\uff0c\u7801\u91cf\u8fd8\u53ef\u4ee5\uff0c\u5927\u6982 $80$ \u884c\u3002\n\n\u8fd9\u662f\u4e00\u9053\u6700\u77ed\u8def\u9898\u3002\n- \u601d\u8def\uff1a\n1. \u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u7ed9\u5b83\u66b4\u529b\u5efa\u56fe\u6765\u627e\u6700\u77ed\u8def\uff0c\u4f46\u7531\u4e8e\u5411\u4e0a\u8d70\u7684\u8bdd\uff0c\u6bcf\u4e2a\u5728\u5b83\u4e0a\u9762\u7684\u70b9\u90fd\u53ef\u4ee5\u88ab\u8d70\u5230 \uff0c\u6240\u4ee5\u6211\u4eec\u7684\u8fb9\u6570\u53ef\u80fd\u4f1a\u8fbe\u5230 $n^4$ \u7ea7\u522b\uff0c\u660e\u663e\u662f\u4e0d\u884c\u7684\u3002\u4e8e\u662f\uff0c\u6211\u4eec\u5f97\u60f3\u4e00\u4e9b\u65b9\u6cd5\u6765\u7f29\u5c0f\u5b83\u7684\u8fb9\u6570\u3002\n1. \u4ece\u70b9 $i$ \u5411\u4e0a\u8d70\u5230\u70b9 $j$ \u7684\u82b1\u8d39\u662f $i - j + 1$\uff0c\u5173\u952e\u70b9\u5728\u4e8e\u8fd9\u4e2a $+1$\u3002\n1. \u6211\u4eec\u53ef\u4ee5\u501f\u9274\u4e00\u4e9b\u6211\u4eec\u7f51\u7edc\u6d41\u5206\u5757\u7684\u5efa\u56fe\u65b9\u6cd5\uff0c\u5b9e\u9645\u4e0a\u5e76\u4e0d\u9700\u8981\u5206\u5757\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9\u5efa\u4e00\u4e2a\u865a\u70b9\uff0c\u70b9 $i$ \u5230\u865a\u70b9 $i'$ \u7684\u8ddd\u79bb\u4e3a $1$\uff0c\u518d\u4ece $i'$ \u4f9d\u6b21\u5411 $(i-1)'$ \u8fde\u4e00\u6761\u957f\u5ea6\u4e3a $1$ \u7684\u8fb9\uff0c\u6700\u540e\u4ece $i'$ \u5230 $i$ \u8fde\u4e00\u6761\u957f\u5ea6\u4e3a $0$ \u7684\u8fb9\u3002\n1. \u8fd9\u6837\uff0c\u5c31\u53ef\u4ee5\u8fb9\u6570\u8fbe\u5230 $n^2$ \u7684\u7ea7\u522b\u4e86\uff0c\u70b9\u6570\u4e5f\u662f $n^2$ \u7ea7\u522b\u7684\u3002\u7136\u540e\uff0c\u5c31\u662f\u6700\u77ed\u8def\u3002\n\n\u5f53\u7136\uff0c\u6362\u4e0a\u5806\u4f18\u5316\u7684 dij \u5c31\u53ef\u4ee5\u8fc7\u4e86\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef pair<int, int> pii;\ntemplate<typename _T>\n_T Fabs(_T x) {\n\treturn x < 0 ? -x : x;\n}\ntemplate<typename _T>\nvoid read(_T &x) {\n\t_T f = 1;\n\tx = 0;\n\tchar ch = getchar();\n\twhile (ch > '9' || ch < '0') {\n\t\tif (ch == '-') {\n\t\t\tf = -1;\n\t\t\tch - getchar();\n\t\t} \n\t}\n\twhile ('0' <= ch && ch <= '9') {\n\t\tx = (x << 3) + (x << 1) + (ch ^ 48);\n\t\tch = getchar();\n\t}\n\tx *= f;\n}\nint r, c, head[510 * 510 * 2], tot, dis[510 * 510 * 2];\nstruct edge {\n\tint to, nxt, paid;\n} e[510 * 510 * 10];\nvoid addEdge(int u, int v, int w) {\n\te[++tot] = (edge){v, head[u], w};\n\thead[u] = tot;\n}\nint Id(int x, int y) {\n\treturn (x - 1) * c + y;\n}\nstruct ming {\n\tint u, t;\n\tfriend bool operator < (const ming &x, const ming &y) {\n\t\treturn x.t > y.t;\n\t}\n};\npriority_queue<ming> q;\nsigned main() {\n\tread(r);\n\tread(c);\n\tfor (int i = 1;i <= r;i++) {\n\t\tfor (int j = 1, x;j < c;j++) {\n\t\t\tread(x);addEdge(Id(i, j), Id(i, j + 1), x);\n\t\t\taddEdge(Id(i, j + 1), Id(i, j), x);\n\t\t}\n\t}\n\tfor (int i = 1;i < r;i++) {\n\t\tfor (int j = 1, x;j <= c;j++) {\n\t\t\tread(x);\n\t\t\taddEdge(Id(i, j), Id(i + 1, j), x);\n\t\t}\n\t}\n\tfor (int i = 1;i <= r;i++) {\n\t\tfor (int j = 1;j <= c;j++) {\n\t\t\taddEdge(Id(i, j), Id(i, j) + r * c, 1);\n\t\t\taddEdge(Id(i, j) + r * c, Id(i, j), 0);\n\t\t\tif (i > 1) addEdge(Id(i, j) + r * c, Id(i - 1, j) + r * c, 1);\n\t\t}\n\t}\n\tfor (int i = 1;i <= 2 * r * c;i++) dis[i] = 0x7f7f7f7f;\n\tdis[1] = 0;\n\tq.push((ming){1, 0});\n\twhile (!q.empty()) {\n\t\tming tmp = q.top();\n\t\tq.pop();\n\t\tif (tmp.t != dis[tmp.u]) continue;\n\t\tfor (int i = head[tmp.u];i;i = e[i].nxt) {\n\t\t\tint v = e[i].to;\n\t\t\tif (dis[v] > dis[tmp.u] + e[i].paid) {\n\t\t\t\tdis[v] = dis[tmp.u] + e[i].paid;\n\t\t\t\tq.push((ming){v, dis[v]});\n\t\t\t}\n\t\t}\n\t}\n\tcout << dis[Id(r, c)] << endl;\n\treturn 0;\n}\n```\n### \u87f9\u87f9\u89c2\u770b\uff01\n#### $\\text{THANKS FOR WATCHING!}$",
        "postTime": 1683085335,
        "uid": 377493,
        "name": "DailyPracticeAnn",
        "ccfLevel": 0,
        "title": "AT_zone2021_e \u6f5c\u5165"
    },
    {
        "content": "## \u9898\u610f\n\n\u9898\u9762\u5df2\u7ecf\u8f83\u4e3a\u6e05\u695a\uff0c\u7ffb\u8bd1\u6709\u4e00\u5904\u7ffb\u8bd1\u9519\u8bef\uff0c\u7b2c\u4e09\u4e2a\u64cd\u4f5c\u5e94\u4e3a\u201c\u82b1\u8d39\u4e3a $B_{i,j}$\u3002\u201d\n\n## \u505a\u6cd5\n\n\u672c\u9898\u7b26\u5408 atcoder \u7684\u4e00\u8d2f\u98ce\u683c\uff0c\u5c06\u4e09\u4e2a\u6bd4\u8f83\u7b80\u5355\u7684\u64cd\u4f5c\u548c\u4e00\u4e2a\u8f83\u4e3a\u56f0\u96be\u7684\u64cd\u4f5c\u653e\u5728\u4e00\u8d77\u52a0\u4ee5\u8ff7\u60d1\uff0c\u9700\u8981\u9009\u624b\u591a\u52a0\u601d\u8003\u3002\n\n\u672c\u9898\u89e3\u4e3a\u5b98\u65b9\u9898\u89e3\u505a\u6cd5\u3002\n\n\u524d\u4e09\u4e2a\u64cd\u4f5c\u53ef\u4ee5\u76f4\u63a5\u6309\u7167\u9898\u9762\u8981\u6c42\u66b4\u529b\u5efa\u8fb9\u89e3\u51b3\u3002\u63a5\u4e0b\u6765\u8003\u8651\u7b2c\u56db\u4e2a\u64cd\u4f5c\uff1a\n\n\u9996\u5148\u8003\u8651\u5982\u679c\u82b1\u8d39\u4e3a $k$ \u8be5\u5982\u4f55\u5904\u7406\uff0c\u53d1\u73b0\u53ea\u8981\u8f6c\u5316\u4e3a\u5bf9\u4e8e\u6bcf\u4e2a\u70b9 $(i,j)$ \u5efa\u5230\u70b9 $(i+1,j)$ \u7684\u957f\u5ea6\u4e3a $1$ \u7684\u8fb9\u5373\u53ef\u3002\n\n\u518d\u8003\u8651\u82b1\u8d39\u4e3a $k+1$\uff0c\u60f3\u5230\u4e00\u79cd\u7c7b\u4f3c\u5206\u5c42\u56fe\u7684\u505a\u6cd5\uff1a\n\n\u628a\u56fe\u62c6\u4e3a\u4e24\u5c42\uff0c\u4e00\u5c42\u4e3a\u524d\u4e09\u4e2a\u64cd\u4f5c\u5efa\u8fb9\u6240\u5f97\u56fe\uff0c\u4e00\u5c42\u4e3a\u4e0a\u8ff0\u505a\u6cd5\u6240\u5efa\u5f97\u7684\u56fe\u3002\u7b2c\u4e00\u5c42\u5efa\u7acb\u5230\u7b2c\u4e8c\u5c42\u957f\u5ea6\u4e3a $1$ \u7684\u8fb9\uff0c\u7b2c\u4e8c\u5c42\u5efa\u7acb\u5230\u7b2c\u4e00\u5c42\u957f\u5ea6\u4e3a $0$ \u7684\u8fb9\u3002\n\n\u5177\u4f53\u7684\uff0c\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u70b9 $P(i,j)$\uff0c\u5efa\u7acb\u4e00\u4e2a\u70b9 $Q(i,j)$ \u548c\u5982\u4e0b\u8fb9\uff1a\n\n- $P(i,j)$ \u5230\u70b9 $Q(i,j)$\uff0c\u957f\u5ea6\u4e3a $1$ \u7684\u8fb9\u3002\n\n- $Q(i,j)$ \u5230\u70b9 $Q(i-1,j)$\uff0c\u957f\u5ea6\u4e3a $1$ \u7684\u8fb9\u3002\n\n- $Q(i,j)$ \u5230\u70b9 $P(i,j)$\uff0c\u957f\u5ea6\u4e3a $0$ \u7684\u8fb9\u3002\n\n\u4e4b\u540e\u8dd1 dijkstra \u5373\u53ef\u901a\u8fc7\u672c\u9898\u3002\n\n## \u4ee3\u7801\n\n\u8be5\u4ee3\u7801\u8f83\u4e3a\u6734\u5b9e\uff0c\u8f83\u4e3a\u79d1\u6280\uff08 NOI \u7cfb\u5217\u7ade\u8d5b\u4e0d\u80fd\u4f7f\u7528\uff09\u7684\u4ee3\u7801\u8bf7\u53c2\u89c1[\u5b98\u65b9\u9898\u89e3](https://atcoder.jp/contests/zone2021/editorial/1213)\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nvector<int> v[550005],w[550005];\nint n,m,a[505][505],b[505][505];\nlong long dis[550005];\nbool vis[550005];\npriority_queue<pair<long long,int>,vector<pair<long long,int>>,greater<pair<long long,int> > > pq;\nint td(int tp,int i,int j){//\u83b7\u53d6\u8282\u70b9\u7f16\u53f7\uff0ctp\u8868\u793a\u5728\u54ea\u4e00\u5c42\u4e0a\u3002\n\tif(tp) return 250000+i*500+j;\n\telse return i*500+j;\n}\nint main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m-1;j++) cin>>a[i][j];\n\tfor(int i=1;i<=n-1;i++)\n\t\tfor(int j=1;j<=m;j++) cin>>b[i][j];\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tint nd1=td(0,i,j),nd2=td(1,i,j);\n\t\t\tif(j<m) v[nd1].push_back(td(0,i,j+1)),w[nd1].push_back(a[i][j]);\n\t\t\tif(j>=2) v[nd1].push_back(td(0,i,j-1)),w[nd1].push_back(a[i][j-1]);\n\t\t\tif(i<n) v[nd1].push_back(td(0,i+1,j)),w[nd1].push_back(b[i][j]);\n\t\t\tif(j>=2){//\u7b2c\u56db\u4e2a\u64cd\u4f5c\n\t\t\t\tv[nd1].push_back(nd2);w[nd1].push_back(1);\n\t\t\t\tv[nd2].push_back(td(1,i-1,j));w[nd2].push_back(1);\n\t\t\t\tv[nd2].push_back(nd1);w[nd2].push_back(0);\n\t\t\t}\n\t\t}\n\tmemset(dis,0x3f,sizeof(dis));\n\tvis[td(0,1,1)]=1,dis[td(0,1,1)]=0;\n\tpq.push(make_pair(0,td(0,1,1)));\n\twhile(!pq.empty()){\n\t\tpair<int,int> fr=pq.top();pq.pop();\n\t\tint nt=fr.second;\n\t\tfor(int i=0;i<v[nt].size();i++){\n\t\t\tif(dis[v[nt][i]]>dis[nt]+w[nt][i]){\n\t\t\t\tdis[v[nt][i]]=dis[nt]+w[nt][i];\n\t\t\t\tif(!vis[v[nt][i]]) pq.push(make_pair(dis[v[nt][i]],v[nt][i]));\n\t\t\t} \n\t\t}\n\t}\n\tcout<<dis[td(0,n,m)];\n\treturn 0;\n}\n```",
        "postTime": 1669219791,
        "uid": 149872,
        "name": "\u5c0f\u5c0f\u5c0f\u670b\u53cb",
        "ccfLevel": 5,
        "title": "ATzone2021e \u6f5c\u5165"
    }
]