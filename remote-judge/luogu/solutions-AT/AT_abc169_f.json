[
    {
        "content": "\u5999\u5999\u9898\u3002\r\n\r\n\u9996\u5148\u6709\u4e00\u4e2a\u663e\u7136\u7684\u7ed3\u8bba\uff1a\u5bf9\u4e8e\u4e00\u4e2a**\u957f\u5ea6**\u4e3a $len$ \u7684\u96c6\u5408 $H=\\left \\{  x_1 , x_2 ,... ,x_k \\right \\} $\uff0c\u82e5 $H$ \u6ee1\u8db3 $A_{x_1} +A_{x_2} + ... +A_{x_k}= S$\uff0c\u5219\u5b83\u5bf9\u4e8e\u6574\u4f53\u7684\u8d21\u732e\u4e3a $2^{n-len}$\u3002\r\n\r\n\u4e00\u4e2a\u611f\u6027\u7684\u7406\u89e3\uff1a\u6bcf\u4e2a\u9009\u51fa\u6765\u7684\u96c6\u5408 $T$ \u4e2d\u96c6\u5408\u7684\u8d21\u732e\u4e92\u4e0d\u5e72\u6270\uff0c\u53ef\u4ee5\u5206\u5f00\u8ba1\u7b97\uff0c\u90a3\u53ea\u8981\u5728 $T$ \u4e2d\u5305\u542b\u8fd9\u4e2a\u96c6\u5408\u5373\u53ef\uff0c\u8fd9\u6837\u7684\u8d21\u732e\u5c31\u662f\u6709 $len$ \u4e2a\u5143\u7d20\u5fc5\u9009\uff0c\u5176\u4f59\u5143\u7d20\u53ef\u9009\u53ef\u4e0d\u9009\u7684\u96c6\u5408\u6570\uff0c\u5373\u4e3a $2^{n-len}$\u3002\r\n\r\n\u63a5\u4e0b\u6765\u5c31\u662f\u6c42\u548c\u4e3a $S$ \u7684 $H$ \u7684\u6570\u76ee\u548c\u957f\u5ea6\u4e86\uff0c\u4e00\u79cd\u601d\u8def\u662f\u66b4\u641c\uff0c\u4f46\u662f\u590d\u6742\u5ea6\u4f1a\u70b8\uff0c\u8fd8\u6709\u4e00\u79cd\u601d\u8def\u5c31\u662f\u80cc\u5305\uff0c\u4f46\u662f\u6c42\u51fa\u4e86\u96c6\u5408\u4e2a\u6570\u5982\u4f55\u6c42\u96c6\u5408\u957f\u5ea6\u5462\uff1f\r\n\r\n\u5176\u5b9e\u662f\u4e0d\u9700\u8981\u7684\uff0c\u56e0\u4e3a\u8fd9\u4e1c\u897f\u53ef\u4ee5\u76f4\u63a5\u7b97\u3002\r\n\r\n\u6211\u4eec\u4ee4 $dp_{i,j}$ \u8868\u793a \u9009\u5230\u4e86\u7b2c $i$ \u4e2a\u6570\uff0c\u96c6\u5408 $H=\\left \\{ A_1,A_2,...,A_i \\right \\} $ \u4e2d\u548c\u4e3a $j$ \u7684\u5b50\u96c6\u7684\u7b54\u6848\u548c\u3002\r\n\r\n\u5bb9\u6613\u63a8\u51fa $dp_{i,j} = \\frac{dp_{i-1,j-a_i}}{2} + dp_{i-1,j}$\u3002\r\n\r\n\u4e3a\u4ec0\u4e48\u5462\uff1f\r\n\r\n\u4e0d\u96be\u53d1\u73b0\uff0c\u5f53\u591a\u9009\u4e00\u4e2a\u6570\u65f6\uff0c\u5f53\u524d\u7684\u7b54\u6848\u5c31\u8981\u9664\u4ee5 $2$\uff0c\u4f46\u5f53\u524d\u7684 $dp_{i,j}$ \u53c8\u9700\u8981\u52a0\u4e0a\u4e0a\u4e00\u4e2a $i$ \u65f6\u7684\u7b54\u6848\uff0c\u6545\u6709\u4e0a\u5f0f\u3002\r\n\r\n\u6eda\u52a8\u6570\u7ec4\u540e\uff0c\u4e0a\u5f0f\u53d8\u4e3a\uff1a\r\n\r\n$dp_j \\gets dp_j + \\frac{dp_{j-a_i}}{2}$\u3002\r\n\r\n\u4ee3\u7801\u5982\u4e0b\uff1a\r\n```cpp\r\n// Problem: F - Knapsack for All Subsets\r\n// Contest: AtCoder - AtCoder Beginner Contest 169\r\n// URL: https://atcoder.jp/contests/abc169/tasks/abc169_f\r\n// Memory Limit: 1024 MB\r\n// Time Limit: 2000 ms\r\n// \r\n// Powered by CP Editor (https://cpeditor.org)\r\n\r\n//\u6211\u662f\u5e9f\u7269\uff0c\u6211\u7231\u8d3a\u9898\uff01\uff01\uff01\r\n#include <bits/stdc++.h>\r\nusing namespace std;\r\n#define ll long long\r\n#define f(i,x,y,z) for(long long i=x;i<=y;i+=z)\r\n#define fd(i,x,y,z) for(long long i=x;i>=y;i-=z) \r\nconst ll mod=998244353;\r\nll n,s,a[3005];\r\nll dp[3005];\r\nll qpow(ll x,ll y){\r\n\tll tot=1;\r\n\twhile(y){\r\n\t\tif(y&1){\r\n\t\t\ttot=tot*x;\r\n\t\t\ttot%=mod;\r\n\t\t}\r\n\t\tx=x*x;\r\n\t\tx%=mod;\r\n\t\ty>>=1;\r\n\t}\r\n\treturn tot;\r\n}\r\nint main() {\r\n\tscanf(\"%lld%lld\",&n,&s);\r\n\tf(i,1,n,1){\r\n\t\tscanf(\"%lld\",&a[i]);\r\n\t}\r\n\tdp[0]=qpow(2,n);\r\n\tf(i,1,n,1){\r\n\t\tfd(j,s,a[i],1){\r\n\t\t\tdp[j]+=dp[j-a[i]]*qpow(2,mod-2);\r\n\t\t\tdp[j]%=mod;\r\n\t\t}\r\n\t}\r\n\tprintf(\"%lld\\n\",dp[s]%mod);\r\n\treturn 0;\r\n}\r\n```\r\n",
        "postTime": 1679568562,
        "uid": 363513,
        "name": "Lonely_Romance",
        "ccfLevel": 0,
        "title": "ABC169F\u9898\u89e3"
    }
]