[
    {
        "content": "upd\uff1a\u66f4\u65b0\u4ee3\u7801\u9519\u8bef\u3002\n\n---\n\u9996\u5148\u6709\u663e\u7136\u7684 DP:\n\n$$f(i)=\\sum_{j \\in S \\  \\text{and}\\ i-j>0}f(i-j)$$\n\n\n\u56e0\u4e3a $|S|$ \u6700\u5927\u4e3a $n$\uff0c\u8fd9\u6837\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2)$\uff0c\u4e0d\u80fd\u901a\u8fc7\u3002\n\n\u6ce8\u610f\u5230 $S$ \u662f $k$ \u6bb5**\u4e0d\u4ea4**\u533a\u95f4\u7ec4\u6210\u7684\uff0c\u4e14 $k$ \u5f88\u5c0f\u3002\u628a\u539f\u8f6c\u79fb\u65b9\u7a0b\u8f6c\u6362\u4e0b\uff1a\n\n$$f(i)=\\sum_{1\\le j\\le k} \\sum_{l_j\\le m \\le r_j \\ \\text{and}\\  i-m>0}f(i-m)$$\n\n\u663e\u7136\u7b2c\u4e8c\u4e2a $\\sum$ \u53ef\u4ee5\u524d\u7f00\u548c\u4f18\u5316\uff0c\u628a $f$ \u6570\u7ec4\u8fdb\u884c\u524d\u7f00\u548c\uff0c\u7136\u540e\u7701\u6389\u7b2c\u4e8c\u4e2a\u6c42\u548c\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(nk)$\u3002\n\n\n\u7ec6\u8282\uff1a\n\n- \u6ce8\u610f\u5224\u65ad\u8fb9\u754c $f(1)=1$\u3002\n- \u6ce8\u610f\u53ef\u80fd\u6709\u53d6\u4e0d\u5230\u7684 $m$\uff0c\u8981\u548c $0$ \u53d6 $\\max$\u3002\n- \u6ce8\u610f\u6d89\u53ca\u5230\u51cf\uff0c\u4e00\u5b9a\u8981 `(ans + mod) % mod`\u3002\n\n\u6838\u5fc3\u4ee3\u7801\uff1a\n\n\n```cpp\nf[1] = s[1] = 1;\n\tfor (int i = 2; i <= n; i++) {\n\t\tfor (int j = 1; j <= k; j++) {\n\t\t\tf[i] += s[max(0, i - l[j])] - s[max(0, i - r[j] - 1)];\n\t\t\tf[i] += mod;\n\t\t\tf[i] %= mod;\n\t\t}\n\t\ts[i] = s[i - 1] + f[i];\n\t\ts[i] %= mod;\n\t}\n\tcout << (f[n] + mod) % mod;\n```",
        "postTime": 1666578849,
        "uid": 363317,
        "name": "Nicrobot",
        "ccfLevel": 4,
        "title": "ABC179D \u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\n\n\u7ed9\u5b9a $n$ \u548c $k$ \u4e2a\u533a\u95f4\uff0c\u5e76\u4e14\u4fdd\u8bc1 $ k \\le 10$ \u4e14\u4e92\u4e0d\u76f8\u4ea4\u3002\u53ef\u4ee5\u8fdb\u884c\u4efb\u610f\u6b21\u64cd\u4f5c\uff0c\u6bcf\u6b21\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u6574\u6570 $j$\uff0c$j$ \u8981\u6ee1\u8db3\u5728\u5176\u4e2d\u4e00\u4e2a\u7ed9\u5b9a\u7684\u533a\u95f4\u4e0a\uff0c\u4ece\u5f53\u524d\u4f4d\u7f6e\u5411\u53f3\u79fb\u52a8 $j$ \u7684\u8ddd\u79bb\u3002\u6c42 $1$ \u5230 $n$ \u7684\u65b9\u6848\u6570\u3002\n\n### \u601d\u8def\n\n\u63d0\u4f9b\u4e00\u79cd\u6570\u636e\u7ed3\u6784\u7684\u505a\u6cd5\u3002\n\n\u4f9d\u6b21\u679a\u4e3e $1$ \u5230 $n$ \u7684\u6bcf\u4e2a\u70b9\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u70b9\uff0c\u5148\u67e5\u8be2\u5176\u65b9\u6848\u6570\uff08\u5df2\u77e5\uff09\uff0c\u7136\u540e\u679a\u4e3e\u6bcf\u4e2a\u533a\u95f4\uff0c\u786e\u5b9a\u4ece\u5f53\u524d\u70b9\u51fa\u53d1\u80fd\u8df3\u5230\u7684\u533a\u95f4\uff0c\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\uff0c\u6700\u540e\u67e5\u8be2 $n$ \u7684\u65b9\u6848\u6570\u5373\u53ef\u3002\n\n\u5728\u672c\u9898\u4e2d\uff0c\u9700\u8981\u652f\u6301\u533a\u95f4\u4fee\u6539\u548c\u5355\u70b9\u67e5\u8be2\uff0c\u6811\u72b6\u6570\u7ec4\u662f\u6700\u4f73\u9009\u62e9\u3002\u56e0\u6b64\u5b9e\u73b0\u5c31\u975e\u5e38\u7b80\u5355\u4e86\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include <iostream>\n#include <cstdio>\n#define MOD 998244353\nusing namespace std;\nint n,m,l[101],r[101],b[1000001],t,ll,rr;\nint lowbit(int x)\n{\n\treturn x & -x;\n}\nint qh(int x)\n{\n\tint ans = 0;\n\tfor( int i = x ; i >= 1 ;i -= lowbit(i) )\n\t\tans = ( ans + b[i] ) % MOD;\n\treturn ans;\n}\nvoid xg(int x,int y)\n{\n\tfor( int i = x ; i <= n ;i += lowbit(i) )\n\t\tb[i] = ( ( b[i] + y ) % MOD + MOD) % MOD;\n\treturn;\n}\nint main()\n{\n\tcin >> n >> m;\n\tfor( int i = 1 ; i <= m ; i++ )\n\t\tcin >> l[i] >> r[i];\n\txg ( 1 , 1 );//\u521d\u59cb\u503c\u4e3a1\n\txg ( 2 , -1 );\n\tfor(int i = 1;i <= n;i++)\n\t{\n\t\tt = qh(i);\n//\t\tcout << qh(n) << ' ' << t << endl; \n\t\tfor( int j = 1 ; j <= m ; j++ )\n\t\t{\n\t\t\tll = i + l[j];\n\t\t\trr = min ( i + r[j] , n );\n\t\t\tif ( ll <= n )\n\t\t\t{\n\t\t\t\txg ( ll , t );\n\t\t\t\txg ( rr + 1 , -t );\n\t\t\t}\n\t\t}\n\t}\n\tcout << qh(n);\n\treturn 0;\n}\n```\n",
        "postTime": 1677308803,
        "uid": 180406,
        "name": "lilong",
        "ccfLevel": 5,
        "title": "ABC179D\u9898\u89e3"
    }
]