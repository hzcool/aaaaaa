[
    {
        "content": "**[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/MnZnOIerLzy/articles/17364692.html)**\n\n# $\\texttt{Description}$\n\n**[AtCoder \u9898\u76ee\u94fe\u63a5](https://atcoder.jp/contests/abc300/tasks/abc300_d \"AtCoder \u9898\u76ee\u94fe\u63a5\")**\n\n> - \u7ed9\u5b9a $N$\uff0c\u6c42\u6709\u591a\u5c11\u4e2a\u6b63\u6574\u6570 $x$ \u6ee1\u8db3\uff1a\n>\n>      - $1\\le x\\le N$\u3002\n>\n>      - $x=a^2\\times b\\times c^2$\uff0c\u5176\u4e2d $a,b,c\\in \\mathbb{P}$ \u4e14 $a<b<c$\u3002\n>\n> - $300\\le N\\le 10^{12}$\u3002\n\n# $\\texttt{Solution}$\n\n\u9996\u5148\u628a $x$ \u5199\u6210 $(a\\times c)^2\\times b$\uff0c\u8003\u8651\u679a\u4e3e $a\\times c$\u3002\n\n\u4e8e\u662f\u679a\u4e3e $i\\in[10,\\lfloor\\sqrt{N}\\rfloor]$\uff0c\u8003\u8651\u600e\u6837\u7684 $i$ \u6ee1\u8db3\u6761\u4ef6\u3002\n\n\u8bb0 $num_i$ \u4e3a $i$ \u7684\u8d28\u56e0\u6570**\u96c6\u5408**\u7684\u5927\u5c0f\uff0c$tot_i$ \u4e3a $i$ \u7684\u8d28\u56e0\u6570**\u53ef\u91cd\u96c6**\u7684\u5927\u5c0f\u3002\u53ef\u4ee5**\u7ebf\u6027\u7b5b\u9884\u5904\u7406**\u3002\u663e\u7136\uff0c\u9700\u8981\u6ee1\u8db3 $num_i=2$ \u4e14 $tot_i=2$\u3002\u540c\u65f6\u7ebf\u6027\u7b5b\u5904\u7406 $L_i,R_i$ \u4e3a $i$ \u7684\u6700\u5c0f/\u6700\u5927\u8d28\u56e0\u6570\u3002\u8003\u8651 $b$ \u7684\u8303\u56f4\uff0c\u663e\u7136 $b\\in\\left[1,\\left\\lfloor\\dfrac{N}{i^2}\\right\\rfloor\\right]$ \u4e14 $b\\in(L_i,R_i)$\uff0c\u6c42\u51fa\u4ea4\u96c6\uff08\u65e0\u4ea4\u8df3\u8fc7\uff09\u3002\u8bbe\u6700\u7ec8\u5f97\u5230 $b\\in[p,q]$\uff0c\u518d\u9884\u5904\u7406\u4e00\u4e2a $s_i$ \u8868\u793a $1\\sim i$ \u4e2d\u8d28\u6570\u7684\u4e2a\u6570\uff0c\u6ee1\u8db3\u6761\u4ef6\u7684 $b$ \u7684\u4e2a\u6570\u5373\u4e3a $s_q-s_{p-1}$\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u548c\u7a7a\u95f4\u590d\u6742\u5ea6\u5747\u4e3a $\\mathcal{O}(\\sqrt{N})$\u3002\n\n# $\\texttt{Code}$\n\n**[Submission](https://atcoder.jp/contests/abc300/submissions/41056710 \"Submission\")**\n\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define N 1000005\nusing namespace std;\nint p[N],cnt,num[N],s[N],L[N],R[N],ans,tot[N];\nbool is[N];\nsigned main(){\n\tmemset(is,1,sizeof is);\n\tis[1]=0; \n\tint n;\n\tcin>>n;\n\tfor(int i=2;i*i<=n;++i){\n\t\ts[i]=s[i-1]+is[i];\n\t\tif(is[i]){\n\t\t\ttot[i]=num[i]=1;\n\t\t\tL[i]=R[i]=i;\n\t\t\tp[++cnt]=i;\n\t\t}\n\t\tfor(int j=1;j<=cnt&&i*i*p[j]*p[j]<=n;++j){\n\t\t\tis[i*p[j]]=0;\n\t\t\ttot[i*p[j]]=tot[i]+1;\n\t\t\tif(i%p[j]){\n\t\t\t\tnum[i*p[j]]=num[i]+1;\n\t\t\t\tL[i*p[j]]=p[j];\n\t\t\t\tR[i*p[j]]=R[i];\n\t\t\t}else{\n\t\t\t\tnum[i*p[j]]=num[i];\n\t\t\t\tL[i*p[j]]=L[i];\n\t\t\t\tR[i*p[j]]=R[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=sqrt(n);i>=10;--i){\n\t\tif(num[i]!=2||tot[i]!=2){\n\t\t\tcontinue;\n\t\t}\n\t\tint k=n/(i*i);\n\t\tif(k<=L[i]){\n\t\t\tcontinue;\n\t\t}\n\t\tif(R[i]-L[i]<=1){\n\t\t\tcontinue;\n\t\t}\n\t\tans+=s[min(k,R[i]-1)]-s[L[i]];\n\t}\n\tcout<<ans;\n}\n ```",
        "postTime": 1682782430,
        "uid": 539211,
        "name": "\u849f\u84bb\u00b7\u5ed6\u5b50\u9633",
        "ccfLevel": 5,
        "title": "ABC300D AABCC"
    },
    {
        "content": "\u6211\u8d5b\u65f6\u60f3\u5f97\u592a\u590d\u6742\u4e86\uff0c\u53ef\u80fd\u5f88\u591a\u4eba\u4e5f\u60f3\u590d\u6742\u4e86\uff0c\u5176\u5b9e\u8fd9\u9898\u5c31\u662f\u4e2a\u7eaf\u66b4\u529b\u3002  \n\u56e0\u4e3a $a<b<c$\uff0c\u6240\u4ee5 $a^5<a^2 \\times b^3<a^2 \\times b \\times c^2$\uff0c\u90a3\u4e48\u53ea\u8981\u66b4\u529b\u679a\u4e3e $a,b,c$\uff0c\u7136\u540e\u9884\u5904\u7406\u7d20\u6570\u8868\u5c31\u884c\u4e86\uff0c\u53d1\u73b0\u5df2\u7ecf\u8d85\u8fc7\u4e86\u5c31 $\\text{break}$\u3002  \n\u6bcf\u4e00\u5c42\u5faa\u73af\u90fd\u4e0d\u4f1a\u8d85\u8fc7 $O(n^{\\frac{1}{5}})$\uff0c\u6240\u4ee5\u603b\u7684\u590d\u6742\u5ea6\u662f $O(n^{\\frac{3}{5}})$\uff0c\u53ef\u4ee5\u901a\u8fc7\u672c\u9898\u3002  \n\u4ee3\u7801\uff1a\n```\n#include<bits/stdc++.h>\nusing namespace std;\nlong long zs[20000005],flag[20000005];\nlong long n;\nlong long ans=0;\nvoid getprime()\n{\n\tfor(long long i=2;i<=20000005;i++)\n\t{\n\t\tif(flag[i]==1)continue;\n\t\tzs[++zs[0]]=i;\n\t\tfor(long long j=2;i*j<=20000005;j++)flag[i*j]=1;\n\t}\n}\nint main()\n{\n\tgetprime();\n\tcin>>n;\n\tfor(long long i=1;i<=n;i++)\n\t{\n\t\tif(zs[i]*zs[i]*zs[i]*zs[i]*zs[i]>n)break;\n\t\tfor(long long j=i+1;j<=n;j++)\n\t\t{\n\t\t\tif(zs[i]*zs[i]*zs[j]*zs[j]*zs[j]>n)break;\n\t\t\tfor(long long k=j+1;k<=n;k++)\n\t\t\t{\n\t\t\t\tif(zs[i]*zs[i]*zs[j]*zs[k]*zs[k]>n)break;\n\t\t\t\tans++;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1682818115,
        "uid": 530797,
        "name": "sbhyx",
        "ccfLevel": 4,
        "title": "AT_abc300_d\u9898\u89e3"
    },
    {
        "content": "\u89c2\u5bdf\u6837\u4f8b\uff0c\u53d1\u73b0\u603b\u7b54\u6848\u662f\u5f88\u5c11\u7684\uff0c\u8003\u8651\u4f18\u5316\u679a\u4e3e\u3002\n\n\u9996\u5148 $a,b,c$ \u90fd\u662f\u8d28\u6570\uff0c\u7531\u4e8e $a<b<c$\uff0c\u6240\u4ee5 $a^5\\leq N$\u3002\n\n\u5c31\u7b97\u53ea\u6ee1\u8db3 $c^2\\leq N$\uff0c\u6839\u636e $N\\leq 10^{12}$\uff0c\u4e5f\u53ef\u4ee5\u786e\u5b9a $c\\leq 10^6$\u3002\n\n\u53ef\u4ee5\u7b5b\u51fa\u5c0f\u4e8e $10^6$ \u7684\u6240\u6709\u8d28\u6570\uff0c\u53ea\u679a\u4e3e\u8d28\u6570\u3002\n\n\u5176\u6b21\uff0c\u6839\u636e $a<b<c$ \uff0c\u6211\u4eec\u4e0d\u96be\u6839\u636e $a$ \u5199\u51fa\u4e00\u4e2a\u5224\u65ad\u51fd\u6570\uff0c\u540c\u7406\u53ef\u4ee5\u5199\u51fa\u679a\u4e3e\u4e24\u4e2a\u91cf\u7684\u5224\u65ad\u51fd\u6570\uff0c\u53ef\u53c2\u8003\u4ee3\u7801\u3002\n\n\u6211\u4eec\u5feb\u901f\u77e5\u9053\u4e86 $a,b$ \u4e4b\u540e\uff0c\u53ef\u4ee5\u5199\u4e00\u4e2a\u4e8c\u5206\u6765\u627e\u6709\u591a\u5c11\u4e2a\u5408\u6cd5\u7684 $c$\u3002\n\n\u6bd5\u7adf\u8d28\u6570\u7684\u5e73\u65b9\u6570\u7ec4\u663e\u7136\u6ee1\u8db3\u5355\u8c03\u6027\u3002\n\n\u8fd9\u4e9b\u4f18\u5316\u52a0\u4e0a\u540e\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5728 $O(\\sqrt{n}\\log n)$ \u5de6\u53f3\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define LL long long\nusing namespace std;\nconst LL N=1e6;\nLL n,tot[N+5],cnt;\nint b[N+5];\nbool pd(LL i)//a\u4e3a\u7b2ci\u4e2a\u8d28\u6570\uff0c\u5224\u65ad\u540e\u9762\u662f\u5426\u8fd8\u6709\u89e3\n{\n\tLL k=n;\n\tk/=tot[i]*tot[i];\n\tk/=tot[i+1];//a<b\n\tk/=tot[i+2]*tot[i+2];//b<c\n\tif(k>=1)return true;\n\treturn false;\n}\nbool pd2(LL i,LL j)//a\u4e3a\u7b2ci\u4e2a\u8d28\u6570\uff0cb\u4e3a\u7b2cj\u4e2a\u8d28\u6570\uff0c\u5224\u65ad\u540e\u9762\u662f\u5426\u8fd8\u6709\u89e3\n{\n\tLL k=n;\n\tk/=tot[i]*tot[i];\n\tk/=tot[j];\n\tk/=tot[j+1]*tot[j+1];//b<c\n\tif(k>=1)return true;\n\treturn false;\n}\nbool pd3(LL i,LL j,LL k)//\u4e09\u4e2a\u91cf\u90fd\u77e5\u9053\uff0c\u5224\u65ad\u662f\u5426\u5408\u6cd5\n{\n\tLL t=n;\n\tt/=tot[i]*tot[i];\n\tt/=tot[j];\n\tt/=tot[k]*tot[k];\n\tif(t>=1)return true;\n\treturn false;\n}\nint main()\n{\n\tcin>>n;\n\tfor(int i=2;i<=N;i++)\n\t{\n\t\tif(!b[i])\n\t\t{\n\t\t\ttot[++tot[0]]=i;\n\t\t\tfor(int j=2*i;j<=N;j+=i)b[j]=1;//\u7b5b\u6cd5\u6c42\u8d28\u6570\n\t\t}\n\t} \n\tfor(int i=1;i<=tot[0]&&pd(i);i++)//\u679a\u4e3ea\u4e3a\u7b2ci\u4e2a\u8d28\u6570\n\t{\n\t\tfor(int j=i+1;j<=tot[0]&&pd2(i,j);j++)//\u540c\u7406\n\t\t{\n\t\t\tLL l=j+1,r=tot[0],ans=0;\n\t\t\tLL L=j+1;\n\t\t\twhile(l<=r)//\u4e8c\u5206\u6c42c\u7684\u6570\u91cf\n\t\t\t{\n\t\t\t\tLL mid=(l+r)/2;\n\t\t\t\tif(pd3(i,j,mid))\n\t\t\t\t{\n\t\t\t\t\tans=mid;\n\t\t\t\t\tl=mid+1;\n\t\t\t\t}\n\t\t\t\telse r=mid-1;\n\t\t\t}\n\t\t\tif(ans>=L)\n\t\t\t{\n\t\t\t\tcnt+=ans-L+1;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<cnt<<endl;\n} \n```\n",
        "postTime": 1683293913,
        "uid": 501947,
        "name": "DengDuck",
        "ccfLevel": 6,
        "title": "[ABC300D] AABCC \u9898\u89e3"
    },
    {
        "content": "\u5341\u5206\u7b80\u5355\u7684\u66b4\u529b\u9898\uff08\n\n\u9996\u5148\u628a $[1,1000000]$ \u4e2d\u7684\u7d20\u6570\u5168\u90e8\u7b5b\u51fa\u6765\uff0c\u7136\u540e\u679a\u4e3e\u3002\n\n$a$ \u7684\u8303\u56f4\u662f $[1,1000000]$\uff0c\u5982\u679c $a^2> n$\uff0c``break``\u3002\n\n$b$ \u7684\u8303\u56f4\u662f $[a + 1,1000000]$\uff0c\u5982\u679c $a^2\\cdot b>n$\uff0c``break``\u3002\n\n\u5269\u4e0b\u7684\u540c\u7406\uff0c\u53ef\u4ee5\u51e0\u4e4e\u53d1\u73b0\u6bcf\u4e00\u4e2a\u679a\u4e3e\u5230\u7684\u6570\u90fd\u662f\u5408\u6cd5\u7684\u6570\uff0c\u6837\u4f8b\u7ed9\u4e86\u4e00\u7ec4\u5927\u7684\uff0c\u7b54\u6848\u4e3a $2817785$\uff0c\u6240\u4ee5\u8fd0\u7b97\u6b21\u6570\u5728 $2817785$ \u5de6\u53f3\uff0c\u663e\u7136\u80fd\u8fc7\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(\\text{\u7b54\u6848})$\uff0c\u6700\u540e\u522b\u5fd8\u8bb0\u5f00 ``long long``\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <iostream>\n#define int long long\nusing namespace std;\nint n, cnt, ans;\nint primes[1000001];\nbool prime[1000001];\nsigned main () {\n\tcin >> n;\n\tfor (int i = 2; i <= 1000000; i ++) {\n\t\tif (!prime[i]) primes[++ cnt] = i;\n\t\tfor (int j = 1; j <= cnt && i * primes[j] <= 1000000; j ++) {\n\t\t\tprime[i * primes[j] ] = true;\n\t\t\tif (i % primes[j] == 0) break;\n\t\t}\n\t}\n\tfor (int i = 1; i <= cnt - 2; i ++) {\n\t\tif (primes[i] > 251) break;\n\t\tfor (int j = i + 1; j <= cnt - 1; j ++) {\n\t\t\tif (primes[i] * primes[j] * primes[j] * primes[j] > n) break;\n\t\t\tfor (int k = j + 1; k <= cnt; k ++) {\n\t\t\t\tif (primes[i] * primes[i] * primes[j] * primes[k] * primes[k] <= n) {\n\t\t\t\t\t++ ans;\n\t\t\t\t} else break;\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1682987585,
        "uid": 637796,
        "name": "Xy_top",
        "ccfLevel": 0,
        "title": "AT_abc300_d \u9898\u89e3"
    },
    {
        "content": "## \u5206\u6790\n\n\u66b4\u529b\u679a\u4e3e\u5c31\u884c\u4e86\u3002\n\n\u6211\u4eec\u5148\u628a\u8d28\u6570\u7b5b\u51fa\u6765\uff0c\u7136\u540e\u679a\u4e3e $a,b,c$\u3002\u5bf9\u4e8e $a\\ <b\\ <c$ \u7684\u6761\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u77e5\uff1a\u82e5\u60f3\u6ee1\u8db3 $a^2 \u00d7 b \u00d7 c^2 \\le n$\uff0c\u5219 $a^2 \u00d7 a \u00d7 a^2$ \u4e00\u5b9a\u4e5f\u662f\u5c0f\u4e8e\u7b49\u4e8e $n$ \u7684\uff0c\u6240\u4ee5\u5728 $a^2 \u00d7 a \u00d7 a^2 \\ >n$ \u65f6\uff0c\u6211\u4eec\u5c31\u6ca1\u5fc5\u8981\u7ee7\u7eed\u679a\u4e3e $a$ \u4e86\u3002$b,c$ \u540c\u7406\uff0c\u6700\u540e\u5728\u679a\u4e3e\u6ee1\u8db3\u8981\u6c42\u7684 $c$ \u65f6\uff0c\u7b54\u6848\u7d2f\u52a0\u5373\u53ef\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nconst int N=1e6+10;\nint idx,pri[N];\nbool vis[N];\nvoid get_pri()//\u7b5b1~1e6\u4e4b\u95f4\u7684\u8d28\u6570 \n{\n\tvis[1]=1;\n\tfor(int i=2;i<=N-10;i++)\n\t{\n\t\tif(!vis[i])\n\t\t{\n\t\t\tvis[i]=1;\n\t\t\tpri[++idx]=i;\n\t\t\tfor(int j=2;pri[idx]*j<=N-10;j++)\n\t\t\t\tvis[pri[idx]*j]=1;\n\t\t}\n\t}\n}\nint check(int a,int b,int c){return (a*a)*(b)*(c*c);}//\u9898\u76ee\u7684\u516c\u5f0f \nint n;\nint ans;//\u7528\u6765\u5b58\u7b54\u6848 \nsigned main()\n{\n\tcin>>n;\n\tget_pri();\n\tfor(int a=1;a<=idx&&check(pri[a],pri[a],pri[a])<=n;a++)//\u4e0d\u8d8a\u754c\u7684\u524d\u63d0\u4e0b\u6ee1\u8db3\u6761\u4ef6\n\t\tfor(int b=a+1;b<=idx&&check(pri[a],pri[b],pri[b])<=n;b++)\n\t\t\tfor(int c=b+1;c<=idx&&check(pri[a],pri[b],pri[c])<=n;c++)\n\t\t\t\tans++; \n\treturn cout<<ans,0;\n}\n```\n",
        "postTime": 1683015921,
        "uid": 734533,
        "name": "cq_zry",
        "ccfLevel": 0,
        "title": "AT_abc300_d [ABC300D] AABCC \u9898\u89e3"
    },
    {
        "content": "### \u9898\u76ee\u94fe\u63a5\n[luogu](https://www.luogu.com.cn/problem/AT_abc300_d)\n\n[atcoder](https://atcoder.jp/contests/abc300/tasks/abc300_d)\n\n### \u9898\u76ee\u5927\u610f\n\n\u6709\u591a\u5c11\u4e2a\u4e0d\u5927\u4e8e $N$ \u7684\u6b63\u6574\u6570\u53ef\u4ee5\u7528\u4e09\u4e2a\u8d28\u6570 $a,b,c(a<b<c)$ \u8868\u793a\u4e3a $a^2 \\times b \\times c^2$\uff1f\n\n### \u601d\u8def\n\n\u6211\u592a\u83dc\u4e86\uff0c\u76f4\u63a5\u679a\u4e3e\u8fd9\u4e2a\u6570\u6216 $a,b,c$ \u4e00\u8d77\u679a\uff0c\uff08\u597d\u50cf\uff09\u590d\u6742\u5ea6\u90fd\u7206\u70b8\uff0c\u53c8\u4e0d\u4f1a\u4f18\u5316\u3002\n\n\u4f46\u662f\u9898\u9762\u8d34\u5fc3\u5730\u4e3a\u6211\u4eec\u51c6\u5907\u4e86\u4e00\u7ec4\u6700\u5927\u7684\u5927\u6837\u4f8b\uff1ain\uff1a`1000000000000` out\uff1a`2817785`\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u7b54\u6848\u662f\u7ebf\u6027\u7684\uff0c\u53ef\u4ee5\u4e00\u4e00\u679a\u4e3e\u7b26\u5408\u6761\u4ef6\u7684\u6570\uff0c\u5373\u53ef\u4ee5\u679a\u4e3e $a,b,c$\u3002\n\n\u4e8e\u662f\uff0c\u5148\u679a\u4e3e $a$\uff0c\u518d\u679a\u4e3e $c$\uff08\u56e0\u4e3a\u8fd9\u4e24\u4e2a\u7684\u53d6\u503c\u8303\u56f4\u6bd4 $b$ \u5c0f\uff09\uff0c\u6700\u540e\u679a\u4e3e $b$\uff0c\u987a\u4fbf\u526a\u679d\uff0c\u8ba1\u4e2a\u6570\u5373\u53ef\u3002\u56e0\u4e3a $a$ \u4e4b\u591a\u4f1a\u5230 $\\sqrt{n}$\uff0c\u4e8e\u662f\u8fd8\u8981\u628a $[1,\\sqrt{n}]$ \u5185\u7684\u8d28\u6570\u7b5b\u51fa\u6765\u3002\u91c7\u7528\u6b27\u62c9\u7b5b\uff0c\u4e0d\u77e5\u9053\u4ec0\u4e48\u7384\u5b66\u590d\u6742\u5ea6\u3002\n\n---\n\n\u5176\u5b9e\u8fd8\u53ef\u4ee5\u4e8c\u5206 $b$\uff0c\u8fd9\u6837\u679a\u4e3e\u7684\u590d\u6742\u5ea6\u5e94\u8be5\u4f1a\u5c0f\u4e00\u4e9b\uff0c\u4f46\u662f\u4ee3\u7801\u4f1a\u957f\u4ebf\u4e9b\uff0c\u8fd8\u662f\u4e0d\u7528\u90a3\u4e48\u9ebb\u70e6\u3002\n\n#### code\n\n\u8dd1\u5f97\u98de\u5feb\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define mod 1000000007\n#define ll long long\n#define For(i,a,b) for(ll i=(a);i<=(b);++i)\n#define N 1000010\nll n,m,p[N],cnt,v[N],ans;\nvoid solve(){\n\tcin>>n;m=sqrt(n);\n\tFor(i,2,m){\n\t\tif(!v[i])p[++cnt]=i;\n\t\tfor(ll j=1;j<=cnt&&i*p[j]<=m;++j){\n\t\t\tv[i*p[j]]=1;\n\t\t\tif(i%p[j]==0)break;\n\t\t}\n\t}\n\tFor(i,1,cnt){\n\t\tFor(j,i+2,cnt){\n\t\t\tif((__int128)p[i]*p[i]*p[j]*p[j]>n)break;//\u526a\u679d\uff0c\u6ce8\u610f\u56db\u4e2a 10^6 \u7684\u6570 long long \u88c5\u4e0d\u4e0b\uff0c\u9700\u8981\u7528 __int128 \u8f6c\u4e00\u4e0b\n\t\t\tFor(k,i+1,j-1){\n\t\t\t\tif((__int128)p[i]*p[i]*p[j]*p[j]*p[k]>n)break;//\u526a\u679d\uff0c\u540c\u4e0a\n\t\t\t\t++ans;\n\t\t\t}\n\t\t}\n\t}//\u4e00\u5b9a\u8981\u6709\u4e24\u4e2a\u5224\u65ad\uff0c\u4e0d\u7136\u4f1a T\n\tcout<<ans<<'\\n';\n\treturn;\n}\nint main(){\n\tios::sync_with_stdio(0);cin.tie(0);cout.tie(0);\n\tint t=1;\n\twhile(t--)solve();\n\treturn 0;\n}\n```",
        "postTime": 1682993966,
        "uid": 561785,
        "name": "c20231020",
        "ccfLevel": 0,
        "title": "[ABC300D] AABCC \u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\n\u7ed9\u5b9a $N$\uff0c\u6c42\u6ee1\u8db3\u5982\u4e0b\u6761\u4ef6\u65f6\uff0c$a,b,c$ \u53ef\u53d6\u503c\u7684\u65b9\u6848\u6570\uff1a\n\n- $a < b < c$\uff1b\n- $a,b,c$ \u5747\u4e3a\u8d28\u6570\uff1b\n- $a^2bc^2 \\leq n$\u3002\n\n### \u601d\u8def\n\u679a\u4e3e\u91cf\u6700\u5c11\u7684\u65b9\u6848\uff0c\u5c31\u662f\u679a\u4e3e $a,c$\uff0c\u6b64\u65f6 $b$ \u6700\u5c0f\u503c\u4e3a\u5927\u4e8e $a$ \u7684\u6700\u5927\u7684\u8d28\u6570\uff0c\u6700\u5927\u503c\u4e3a\u5c0f\u4e8e\u7b49\u4e8e $\\min(c-1,\\dfrac{n}{a^2c^2})$ \u6700\u5c0f\u7684\u8d28\u6570\u3002\n\n\u7531\u4e8e $b$ \u6700\u5927\u4e3a $\\sqrt[3]\\dfrac{n}{4}$\uff08$a$ \u6700\u5c0f\u4e3a $2$\uff0c\u6700\u574f\u60c5\u51b5 $b=c-1$\u3002\u56e0\u4e3a $a^2bc^2 \\le n$\uff0c\u6240\u4ee5 $b$ \u4e00\u5b9a\u5c0f\u4e8e\u7b49\u4e8e $\\sqrt[3]\\dfrac{n}{4}$\u3002\u5b9e\u9645 $b$ \u6700\u5927\u503c\u53ef\u80fd\u6bd4\u6b64\u8fd8\u5c0f\uff0c\u4f46\u4e0d\u53ef\u80fd\u518d\u5927\u4e86\uff09\uff0c\u53c8\u56e0\u4e3a $n \\le 10^{12}$\uff0c\u6240\u4ee5 $\\sqrt[3]\\dfrac{n}{4} \\le 5 \\times 10^3 \\times \\sqrt[3]{2} \\le 10^4$\u3002\n\n\u7528\u6b27\u6c0f\u7b5b\uff08\u6216\u57c3\u6c0f\u7b5b\uff09\u7b5b\u51fa $2$ \u5230 $10^4$ \u5f53\u4e2d\u7684\u8d28\u6570\uff0c\u5728\u5b9a\u4e49 $dir_i$ \u8868\u793a $i$ \u662f\u4ece $2$ \u5230 $10^4$ \u4e2d\u7b2c\u51e0\u4e2a\u8d28\u6570\u3002\n\n\u5b9a\u4e49\u6570\u7ec4 $pre$\uff0c$pre_i$ \u8868\u793a $2$ \u5230 $i$ \u4e2d\uff0c\u6700\u5927\u7684\u8d28\u6570\u7684\u4f4d\u7f6e\u3002\u6240\u4ee5\uff0c$b$ \u6700\u5c0f\u503c\uff0c\u5927\u4e8e $a$ \u7684\u6700\u5927\u7684\u8d28\u6570\uff0c\u4f4d\u7f6e\u4e3a $dir_a+1$\uff1b$b$ \u6700\u5927\u503c\uff0c\u5c0f\u4e8e\u7b49\u4e8e $\\min(c-1,\\dfrac{n}{a^2c^2})$ \u6700\u5c0f\u7684\u8d28\u6570\uff0c\u4f4d\u7f6e\u4e3a $\\large pre_{{\\lfloor {\\min(c-1,{\\frac{n}{a^2c^2}}})\\rfloor}}$\u3002\n\n$\\large ans \\gets ans + (pre_{{\\lfloor {\\min(c-1,{\\frac{n}{a^2c^2}}})\\rfloor}} - dir_a)$ \u5373\u53ef\u3002\n### \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\n \nll n,a,b,c;\nconst int N = 1e6 + 5;\nll prime[N],st[N],pre[N],k = 0;\nvoid Init(ll n)\n{\n    ll i,j;\n    for(i = 2;i <= n;i++)\n    {\n        if(!st[i])\n            prime[k++] = i;\n        for(j = 0;prime[j] <= n / i;j++)\n        {\n            st[prime[j] * i] = true;\n            if(i % prime[j] == 0)\n                break;\n        }\n    }\n    for(i = 0;i < k - 1;i++)\n        for(j = prime[i];j < prime[i + 1];j++)\n            pre[j] = i;\n}\n \nint main()\n{\n    Init((ll)(1e6));//c \u53ef\u80fd\u4f1a\u53d6\u5230 10^6\n    cin >> n;\n    int i,j;\n    ll ans = 0;\n    for(i = 0;prime[i] <= n / prime[i];i++)//\u679a\u4e3e dir_a\n    {\n        a = prime[i];\n        for(j = i + 2;prime[j] <= n / prime[i] / prime[i] / prime[j];j++)//\u679a\u4e3e dir_c\n        {\n            c = prime[j];\n          \tll maxb = min(c-1,(ll)(n / a / a / c / c));//b \u7684\u6700\u5927\u503c\n            if(maxb <= a)\n                break;\n            ll maxbi = min((ll)(j - 1),pre[maxb]);//dir_maxb\n            ans += maxbi - i;//ans \u7d2f\u52a0\n        }\n        if(j == i + 2)//\u8bf4\u660e\u7b2c\u4e00\u6b21\u5c31 maxb<=a \u4e86\uff0ci \u518d\u5927\u4e0b\u53bb\uff0cmaxb \u53ea\u4f1a\u66f4\u5c0f\uff0c\u4e0d\u4f1a\u66f4\u5927\uff0c\u6ca1\u6709\u5176\u4ed6\u65b9\u6848\u4e86\n            break;\n    }\n    printf(\"%lld\",ans);\n}\n```",
        "postTime": 1682821871,
        "uid": 911417,
        "name": "_Z_F_R_",
        "ccfLevel": 0,
        "title": "AT_abc300_d \u9898\u89e3"
    },
    {
        "content": "## \u5206\u6790\n\n\u9996\u5148\uff0c\u9898\u76ee\u4e2d\u51fa\u73b0\u4e86 `\u8d28\u6570`\uff0c\u5148\u6765\u4e00\u4e2a\u8d28\u6570\u7b5b\u3002\n\n\u6211\u4eec\u77e5\u9053\uff0c$a^2\\times b\\times c^2=n(a<b<c)$ \u65f6\uff0c$a,c<\\sqrt[5]{n}$\uff0c\u90a3\u4e48 $b$ \u5c31\u662f\u5927\u4e8e $a$ \u4e14\u5c0f\u4e8e $c$ \u7684\u8d28\u6570\u3002\u7528 $s_i$ \u8868\u793a\u5c0f\u4e8e $i$ \u7684\u8d28\u6570\u4e2a\u6570\uff0c\u5219\u5bf9\u4e8e\u6bcf\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684 $a,c$\uff0c\u6709 $s_{\\min\\{c-1,\\frac{n}{a^2\\times c^2}\\}}-s_a$ \u79cd\u3002\n\n\u6240\u4ee5\uff0c\u679a\u4e3e $a,c$ \u5373\u53ef\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int N = 1e6+5;\nint n,ans,a[N],cnt,s[N];\nbool b[N] = {0,1};\nsigned main()\n{\n\tios::sync_with_stdio(0);cin.tie(0);cout.tie(0);\n\tfor(int i = 2;i<N;i++)//\u8d28\u6570\u7b5b\n\t{\n\t\tif(b[i]==0) a[++cnt] = i; \n\t\tfor(int j = 1;j<=cnt&&i*a[j]<=N;j++) \n\t\t{\n\t\t\tb[i*a[j]] = 1;\n\t\t\tif(i%a[j]==0) break;\n\t\t}\n\t}\n\tfor(int i = 1;i<N;i++)\n\t\ts[i] = s[i-1]+(b[i]==0);\n\tcin>>n;\n\tfor(int i = 1;a[i]*a[i]*a[i+1]*a[i+2]*a[i+2]<=n;i++)\n\t\tfor(int j = i+2;a[i]*a[i]*a[i+1]*a[j]*a[j]<=n;j++)\n\t\t\tans+=max(1ll*0,s[min(a[j]-1,n/a[i]/a[i]/a[j]/a[j])]-s[a[i]]);\n\tcout<<ans;\n \treturn 0;\n}\n```",
        "postTime": 1683183208,
        "uid": 581316,
        "name": "pyy1",
        "ccfLevel": 0,
        "title": "AT_abc300_d [ABC300D] AABCC \u9898\u89e3"
    },
    {
        "content": "$a^2bc^2=n,n\\leq 10^{12}$\uff0c\u4e0d\u96be\u5f97\u51fa $a<b<c\\leq \\sqrt n\\leq 10^6$\u3002\n\n\u90a3\u4e48\u9996\u5148\u7b5b\u51fa $[1,10^6]$ \u4e4b\u5185\u7684\u6240\u6709\u7d20\u6570\uff0c\u7136\u540e $O(\\sqrt n)$ \u679a\u4e3e $a$\uff0c\u518d\u66b4\u529b $O(\\sqrt n)$ \u679a\u4e3e $c$\uff0c\u4f46\u662f $a,c$ \u5747\u4e3a\u8d28\u6570\uff0c\u800c\u4e14 $a\\leq c$\uff0c\u6240\u4ee5\u4e0d\u4f1a\u8d85\u3002\n\n\u63a5\u4e0b\u6765\u7ee7\u7eed\u7206\u641c $b$\uff0c$a<b<c$ \u4e14 $a^2bc^2\\leq n$\uff0c\u5168\u90e8\u679a\u4e3e\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u8d28\u6570\u7b5b\u53ef\u4ee5\u76f4\u63a5\u66b4\u529b\uff1a\n\n```cpp\nfor(int i = 2; i < N; i++) if(!f[i]) {\n\tp[++cnt] = i; for(int j = i + i; j < N; j += i) f[j] = 1;\n}\n```\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(ans+\\sqrt n\\log n)$\uff0c$ans$ \u8868\u793a\u7b54\u6848\uff0c\u6839\u636e\u5927\u6837\u4f8b\uff0c\u80af\u5b9a\u53ef\u4ee5\u8fc7\u3002",
        "postTime": 1683019746,
        "uid": 986921,
        "name": "sstitch",
        "ccfLevel": 0,
        "title": "ABC300D \u9898\u89e3"
    },
    {
        "content": "### [\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/AT_abc300_e)\n### \u9898\u89e3\n\u7531\u4e8e $a,c$ \u80fd\u53d6\u5230\u7684\u6570\u8f83\u5c11\uff0c\u8003\u8651\u5148\u679a\u4e3e $a,c$ \u7684\u53d6\u503c\u3002\n\n\u7136\u540e\u53ef\u4ee5\u5f88\u5bb9\u6613\u5f97\u5230 $b\\in[a+1,\\dfrac{n}{a^2\\times c^2}]$\u3002\u4e0d\u96be\u53d1\u73b0 $b$ \u7684\u53d6\u503c\u8303\u56f4\u5177\u6709\u4e8c\u6bb5\u6027\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528\u4e8c\u5206\u6765\u4f18\u5316\u67e5\u627e $b$ \u80fd\u53d6\u5230\u6570\u7684\u8303\u56f4\u3002\n\n**\u65f6\u95f4\u590d\u6742\u5ea6\uff1a** \u5927\u6982\u662f $O(cnt\\sqrt{cnt}\\log_2cnt)$\uff0c\u5176\u4e2d $cnt$ \u662f $1\\sim \\sqrt{n}$ \u7684\u8d28\u6570\u4e2a\u6570\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u8db3\u4ee5\u901a\u8fc7\u6b64\u9898\u3002\n### \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\nconst int N = 1000010;\nLL n;\nLL prime[N],cnt;\nbool st[N];\nint main  () {\n\tcin >> n;\n\tfor (int i = 2;i < N;i++) {\n        if (!st[i]) prime[++cnt] = i;\n        for (int j = 1;prime[j] * i < N;j++) {\n            st[prime[j] * i] = true;\n            if (i % prime[j] == 0) break;\n        }\n    }\n    LL ans = 0;\n    for (int i = 1;i <= cnt;i++) {\n    \tLL k = prime[i] * prime[i];\n    \tif (k > n) break;\n    \tfor (int j = i + 2;j <= cnt && k * prime[j] * prime[j] <= n;j++) {\n    \t\tif (k * prime[j] > n || k * prime[j] * prime[j] > n) break;\n   \t\t\tLL t = k * prime[j] * prime[j];\n   \t\t\tint l = i + 1,r = j - 1;\n\t\t\twhile (l < r) {\n   \t\t\t\tint mid = l + r + 1 >> 1;\n   \t\t\t\tif (prime[mid] <= n / t) l = mid;\n   \t\t\t\telse r = mid - 1;\n\t\t\t}\n\t\t\tif (prime[l] <= n / t) {\n//\t\t\t\tcout << t << ' ' << l - i << endl;\n\t\t\t\tans += l - i;\n\t\t\t}\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n```",
        "postTime": 1683004014,
        "uid": 463956,
        "name": "incra",
        "ccfLevel": 5,
        "title": "[ABC300D] AABCC"
    },
    {
        "content": "\u5148\u8003\u8651\u679a\u4e3e $a,c$\u3002\n\n\u7136\u540e\u53d1\u73b0 $b \\in [a+1,\\min(c,\\frac{n}{a^2 \\times c^2})]$\u3002\n\n\u968f\u540e\u6211\u4eec\u53d1\u73b0\u6700\u52a3\u60c5\u51b5\u4e0b $a=1$\uff0c\u6b64\u65f6 $b \\in [1,\\min(c,\\frac{n}{c^2})]$\u3002\n\n\u663e\u7136 $\\min(c,\\frac{n}{c^2}) \\leq n^{\\frac{1}{3}}$\u3002\n\n\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u628a\u533a\u95f4 $[1,n^{1/2}]$ \u5185\u7684\u8d28\u6570\u5168\u90e8\u5904\u7406\u51fa\u6765\uff0c\u7528\u6765\u679a\u4e3e $a,c$ \u4ee5\u53ca $O(1)$ \u8ba1\u7b97\u6ee1\u8db3\u8981\u6c42\u7684 $b$\u3002\n\n\u90a3\u4e48\u590d\u6742\u5ea6\u5c31\u662f\u4e25\u683c $O(\\sqrt n)$\u3002\n\n\u5b9e\u6d4b\u5f88\u5feb\uff0c\u53ea\u8dd1\u4e86 $24ms$\u3002\n\n[\u4ee3\u7801](https://atcoder.jp/contests/abc300/submissions/41083577)",
        "postTime": 1682825367,
        "uid": 520748,
        "name": "_ChiFAN_",
        "ccfLevel": 4,
        "title": "ABC300D \u9898\u89e3"
    },
    {
        "content": "### \u5206\u6790\n\u627e\u5230\u9898\u76ee\u7684\u7a81\u7834\u70b9\uff1a\u8d28\u6570\u3002\u5373\u4f7f\u6211\u4eec\u7528\u7ebf\u6027\u7684\u7b5b\u6cd5\u4e5f\u65e0\u6cd5\u7b5b\u51fa\u6240\u6709\u7684\u8d28\u6570\u3002\u4f46\u662f\u89c2\u5bdf\u539f\u5f0f\uff1a$a^2 \\times b \\times c^2$\uff0c\u8fd9\u5c31\u8bf4\u660e\u5f53\u5176\u4e2d\u7684\u6570\u6700\u5927\u65f6\uff0c\u4e5f\u4e0d\u5e94\u8d85\u8fc7 $\\sqrt{N}$\uff0c\u56e0\u6b64\u6211\u4eec\u53ea\u9700\u8981\u7b5b\u51fa $10^6$ \u4ee5\u5185\u7684\u8d28\u6570\u5c31\u884c\u4e86\u3002\n\n### \u601d\u8def\n\u4f9d\u6b21\u679a\u4e3e $a,b,c$\uff0c$2 \\le a \\le \\sqrt{N}$\uff0c$a < b \\le \\frac{N}{a}$\uff0c$b < c \\le \\sqrt{\\frac{N}{ab}}$\uff0c\u4e14 $a,b,c$ \u90fd\u4e3a\u8d28\u6570\u3002\u8fd9\u6837\u7b97\u4e0b\u6765\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u5f88\u5c0f\u7684\u3002\n\n#### \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int INF = 1e6;\nint n, ans, len;\nvector<int> p;\nbool isp[INF + 5];\nvoid init() {\n  for (int i = 2; i <= INF; i++) {\n    if (!isp[i]) p.push_back(i);\n    for (auto j : p) {\n      (i * j <= INF) && (isp[i * j] = 1);\n      if (i % j == 0 || i * j > INF) break;\n    }\n  }\n}\nsigned main() {\n  ios::sync_with_stdio(0);\n  init();\n  cin >> n, len = p.size();\n  for (int i = 0; i < len && p[i] * p[i] <= n; i++) {\n    for (int j = i + 1; j < len && n / p[i] / p[i] >= p[j]; j++) {\n      for (int k = j + 1; k < p.size() && n / p[i] / p[i] / p[j] >= p[k] * p[k]; k++) {\n        ans++;\n      }\n    }\n  }\n  cout << ans;\n  return 0;\n}\n```\n### \u6269\u5c55\n\u5b9e\u9645\u4e0a\u6211\u4eec\u53ea\u9700\u8981\u679a\u4e3e $a,b$\uff0c\u518d\u7b97\u51fa $\\sqrt{\\frac{N}{a^2b}}$ \u91cc\u8d28\u6570\u7684\u4e2a\u6570\u51cf\u53bb $b$ \u4ee5\u5185\u7684\u8d28\u6570\u4e2a\u6570\u5c31\u884c\u4e86\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u7b5b\u8d28\u6570\u7684\u65f6\u5019\u7528\u6570\u7ec4 $cnt$ \u8bb0\u5f55\u5c0f\u4e8e\u7b49\u4e8e $i$ \u4ee5\u5185\u8d28\u6570\u7684\u7684\u4e2a\u6570\u3002\u7531\u4e8e\u8fd9\u4e2a\u503c\u53ef\u80fd\u662f\u8d1f\u6570\uff0c\u56e0\u6b64\u9700\u8981\u53d8\u6210 $\\max(0,cnt_{\\sqrt{\\frac{N}{a^2b}}}-cnt_b)$\u3002\n\n#### \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int INF = 1e6;\nint n, ans, len, cnt[INF + 5];\nvector<int> p;\nbool isp[INF + 5];\nvoid init() {\n  for (int i = 2; i <= INF; cnt[i++] = p.size()) {\n    if (!isp[i]) p.push_back(i);\n    for (auto j : p) {\n      (i * j <= INF) && (isp[i * j] = 1);\n      if (i % j == 0 || i * j > INF) break;\n    }\n  }\n}\nsigned main() {\n  ios::sync_with_stdio(0);\n  init();\n  cin >> n, len = p.size();\n  for (int i = 0; i < len && p[i] * p[i] <= n; i++) {\n    for (int j = i + 1; j < len && n / p[i] / p[i] >= p[j]; j++) {\n      ans += max(0ll, cnt[signed(sqrt(n / (p[i] * p[i] * p[j])))] - cnt[p[j]]);\n    }\n  }\n  cout << ans;\n  return 0;\n}\n```\n",
        "postTime": 1683201766,
        "uid": 713285,
        "name": "guanyf",
        "ccfLevel": 3,
        "title": "[ABC300D] AABCC"
    }
]