[
    {
        "content": "\u9898\u76ee\uff1a[AT5667](https://www.luogu.com.cn/problem/AT5667)\n### \u601d\u8def\uff1a\n1. \u7b2c $i$ \u884c\u6709\u8349\u8393\uff1a\n\t- **\u9996\u5148\u6539\u53d8\u989c\u8272**\uff0c\u56e0\u4e3a\u7b2c $i$ \u884c\u5f00\u5934\u548c\u7b2c $i-1$ \u884c\u672b\u5c3e\u6784\u4e0d\u6210\u957f\u65b9\u5f62\uff1b\n\t- \u7b2c $j$ \u683c\u6709\u8349\u8393\uff0c\u5c31\u6539\u53d8\u989c\u8272\u3002\n2. \u7b2c $i$ \u884c\u6ca1\u6709\u8349\u8393\uff08\u6570\u91cf\u4e3a $0$\uff09\uff1a\n\t- **\u989c\u8272\u4e0e\u7b2c $i-1$ \u884c\u7684\u989c\u8272\u76f8\u540c**\u3002\n3. **\u7279\u5224\uff1a\u7b2c $1$ \u884c\u6ca1\u6709\u8349\u8393**\uff1a\n\t- \u5bf9**\u7b2c $1$ \u4e2a\u6709\u8349\u8393\u7684\u884c**\uff08\u8bbe\u4e3a\u7b2c $j$ \u884c\uff09\u8fdb\u884c\u64cd\u4f5c $1$\uff1b\n    - \u4ece\u7b2c $1$ \u884c\u5230\u7b2c $j-1$ \u884c\uff0c**\u6bcf\u4e00\u884c\u7684\u989c\u8272\u90fd\u4e0e\u7b2c $j$ \u884c\u7684\u989c\u8272\u76f8\u540c**\uff1b\n    - **\u4ece\u7b2c $j+1$ \u884c\u5f00\u59cb**\u8fdb\u884c\u64cd\u4f5c $1$ \u6216 $2$\u3002\n\n------------\n\n## Code:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint h,w,k,num;\nchar ch;\nbool s[301][301]; //\u6bcf\u683c\u662f\u5426\u6709\u8349\u8393\u3002\nint t[301]/*\u6bcf\u884c\u8349\u8393\u4e2a\u6570*/,x/*\u5f53\u524d\u884c\u5df2\u5904\u7406\u8349\u8393\u4e2a\u6570*/,a[301][301]/*\u989c\u8272*/;\nint main()\n{\n\tcin>>h>>w>>k;\n\tfor(int i=1;i<=h;i++)\n\t\tfor(int j=1;j<=w;j++)\n\t\t{\n\t\t\tcin>>ch;\n\t\t\tif(ch=='#')\n\t\t\t{\n\t\t\t\ts[i][j]=1;\n\t\t\t\tt[i]++;\n\t\t\t}\t\t\t\t\n\t\t}\n\tfor(int i=1;i<=h;i++)\n\t{\n\t\tx=0; //\u5f53\u524d\u884c\u8fd8\u6ca1\u6709\u5904\u7406\u8349\u8393\u3002\n\t\tif(i==1&&!t[i]) //\u7279\u5224\u3002\n\t\t{\n\t\t\tfor(int j=2;j<=h;j++)\n\t\t\t\tif(t[j]) //\u7b2c1\u4e2a\u6709\u8349\u8393\u7684\u884c\u3002\n\t\t\t\t{\n\t\t\t\t\tnum++; //\u9996\u5148\u6539\u53d8\u989c\u8272\u3002\n\t\t\t\t\tfor(int p=1;p<=w;p++) //\u5bf9\u7b2cj\u884c\u8fdb\u884c\u64cd\u4f5c1.\n\t\t\t\t\t{\n\t\t\t\t\t\ta[j][p]=num;\n\t\t\t\t\t\tif(s[j][p])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tx++;\n\t\t\t\t\t\t\tif(x<t[j]) //\u540e\u9762\u8fd8\u6709\u8349\u8393\uff0c\u4e0d\u5224\u65ad\u5219\u6700\u540e\u4e00\u4e2a\u8349\u8393\u540e\u9762\u7684\u7a7a\u683c\u90fd\u662f\u53e6\u4e00\u79cd\u989c\u8272\u3002\n\t\t\t\t\t\t\t\tnum++; //\u6539\u53d8\u989c\u8272\u3002\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor(int p=1;p<j;p++)\n\t\t\t\t\t\tfor(int q=1;q<=w;q++)\n\t\t\t\t\t\t\ta[p][q]=a[j][q]; //\u989c\u8272\u4e0e\u7b2cj\u884c\u76f8\u540c\u3002\n\t\t\t\t\ti=j; //\u56e0\u4e3a\u8fd8\u8981i++\uff0c\u6240\u4ee5\u628ai\u6539\u4e3aj\u5373\u53ef\u3002\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t}\n\t\telse\n\t\t\tif(!t[i]) //\u6ca1\u6709\u8349\u8393\u3002\n\t\t\t\tfor(int j=1;j<=w;j++)\n\t\t\t\t\ta[i][j]=a[i-1][j]; //\u989c\u8272\u4e0e\u7b2cj\u884c\u76f8\u540c\u3002\n\t\t\telse\n\t\t\t{\n\t\t\t\tnum++; //\u9996\u5148\u6539\u53d8\u989c\u8272\u3002\n\t\t\t\tfor(int j=1;j<=w;j++)\n\t\t\t\t{\n\t\t\t\t\ta[i][j]=num;\n\t\t\t\t\tif(s[i][j])\n\t\t\t\t\t{\n\t\t\t\t\t\tx++;\n\t\t\t\t\t\tif(x<t[i])  //\u540e\u9762\u8fd8\u6709\u8349\u8393\uff0c\u4e0d\u5224\u65ad\u5219\u6700\u540e\u4e00\u4e2a\u8349\u8393\u540e\u9762\u7684\u7a7a\u683c\u90fd\u662f\u53e6\u4e00\u79cd\u989c\u8272\u3002\n\t\t\t\t\t\t\tnum++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\t\t\t\n\t}\n\tfor(int i=1;i<=h;i++)\n\t{\n\t\tfor(int j=1;j<=w;j++)\n\t\t\tcout<<a[i][j]<<\" \";\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1624237919,
        "uid": 437788,
        "name": "aqx_AK_xyf",
        "ccfLevel": 5,
        "title": "AT5667 Strawberry Cakes"
    },
    {
        "content": "### \u601d\u8def\n\n\u5f88\u6709\u8da3\u7684\u4e00\u9053\u9898\u76ee~\u867d\u7136\u662f\u4e2a\u7eff\u9898\u4f46\u60f3\u8d77\u6765\u5e76\u4e0d\u96be\n\n\u5982\u679c\u86cb\u7cd5\u53ea\u6709\u4e00\u884c\uff0c\u90a3\u4e48\u5c31\u5f88\u7b80\u5355\u4e86\u3002\n\n\u4e8e\u662f\u8003\u8651\u5148\u6309\u884c\u5206\uff0c\u518d\u6309\u5217\u5206\n\n\u5148\u628a\u65b9\u683c\u6309\u884c\u5206\u4e3a\u8bb8\u591a\u7ec4\uff0c\u4f7f\u5f97\u6bcf\u7ec4\u4e2d\u53ea\u6709\u4e00\u884c\u662f\u6709\u8349\u8393\u7684\uff0c\u5176\u4f59\u7ec4\u90fd\u662f\u7a7a\u7684\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u628a\u6bcf\u7ec4\u90fd\u5f53\u6210\u53ea\u6709\u4e00\u884c\u8349\u8393\u53bb\u505a\u5c31\u884c\u4e86\u3002\n\n\u5982\u56fe\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5nak60kb.png)\n\n### \u4ee3\u7801\n\n\u8fd9\u91cc\u662f[\u5b98\u65b9\u9898\u89e3](https://atcoder.jp/contests/ddcc2020-qual/editorial)\u7684\u4ee3\u7801\uff0c\u7a0d\u52a0\u6539\u52a8\u5e76\u52a0\u4e0a\u4e86\u6ce8\u91ca\u65b9\u4fbf\u7406\u89e3\uff0c\u6ce8\u91ca\u4ec5\u4f9b\u53c2\u8003\n\n```cpp\n#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nint H, W, K, A[309][309], num=0;\nint cnt[309];\nchar c[309][309];\nvoid solve(int cl, int cr) {\n    vector<int> P;\n    for (int i = cl; i <= cr; i++) {//\u6b64\u5904\u5728\u6bcf\u6392\u627e\u662f\u6709\u65f6\u6700\u540e\u4e00\u884c\u6216\u7b2c\u4e00\u884c\u4e5f\u662f\u7a7a\u884c\uff0c\u5fc5\u987b\u5168\u90e8\u641c\u4e00\u904d\n        for (int j = 1; j <= W; j++) {\n            if (c[i][j] == '#') P.push_back(j);\n        }\n    }\n    for (int i = 0; i < P.size(); i++) {\n        int v1 = 1, v2 = W;\n        if (i >= 1) v1 = P[i - 1] + 1;//\u7279\u5224\u5f00\u5934\u4e3a\u7a7a\n        if (i < (int)P.size() - 1) v2 = P[i];//\u7279\u5224\u672b\u5c3e\u4e3a\u7a7a\n        num++;//\u4e0b\u4e00\u7ec4\n        for (int j = cl; j <= cr; j++) {\n            for (int k = v1; k <= v2; k++) A[j][k] = num;\n        }\n    }\n}\nint main() {\n    cin >> H >> W >> K;\n    for (int i = 1; i <= H; i++) {\n        for (int j = 1; j <= W; j++) {\n            cin >> c[i][j];\n            if (c[i][j] == '#') cnt[i]++;//\u8bb0\u5f55\u6bcf\u884c\u7684\u8349\u8393\u6570\n        }\n    }\n    vector<int> vec;\n    for (int i = 1; i <= H; i++) { \n        if (cnt[i] >= 1)\n            vec.push_back(i); //\u5c06\u8349\u8393\u6570\u4e0d\u4e3a0\u7684\u4e00\u884c\u653e\u8fdbvector\n    }\n    for (int i = 0; i < vec.size(); i++) {\n        int v1 = 1, v2 = H;\n        if (i >= 1) v1 = vec[i - 1] + 1;//\u7279\u5224\u5f00\u5934\u51e0\u884c\u4e3a\u7a7a\n        if (i < (int)vec.size() - 1) v2 = vec[i];//\u7279\u5224\u672b\u5c3e\u51e0\u884c\u4e3a\u7a7a\n        solve(v1, v2);\n    }\n    for (int i = 1; i <= H; i++) {\n        for (int j = 1; j <= W; j++) {\n            if (j >= 2) cout << \" \"; cout << A[i][j];\n        }\n        cout << endl;\n    }\n    return 0;\n}\n```",
        "postTime": 1612084807,
        "uid": 149872,
        "name": "\u5c0f\u5c0f\u5c0f\u670b\u53cb",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 AT5667 \u3010Strawberry Cakes\u3011"
    }
]