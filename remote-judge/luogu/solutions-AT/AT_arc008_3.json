[
    {
        "content": "[\u9898\u76ee](https://www.luogu.com.cn/problem/AT279)\n\n\u7531\u4e8e\u6570\u636e\u8303\u56f4\u5f88\u5c0f\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5efa\u8fb9\u76f4\u63a5\u8dd1 floyd \uff0c\u5bf9\u4e8e\u6bcf\u4e00\u5bf9\u4e38\u5b50\u5efa\u4e00\u6761\u53cc\u5411\u8fb9\u3002\n\n\u8fb9\u6743\u4e3a\u4e24\u4e2a\u70b9\u7684\u8ddd\u79bb\uff0c\u7136\u540e\u76f4\u63a5\u8dd1\u6700\u77ed\u8def\u5373\u53ef\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 1002,INF = 1<<30;\ndouble d[N][N];\ndouble x[N], y[N], t[N], r[N];\nint n;\nint main()\n{\n\tcin >> n;\n\tfor(int i=0; i<n; i++) \n\t{\n\t   cin >> x[i] >> y[i] >> t[i] >> r[i];\n\t}\n\tfor(int i=0; i<n; i++)\n\t{\n\t\tfor(int j=0; j<n; j++)\n\t\t{\n\t\t\t\tdouble dx = x[i] - x[j];\n\t\t\t\tdouble dy = y[i] - y[j];\n\t\t\t\td[i][j] = sqrt(dx*dx + dy*dy) / min(t[i], r[j]);\n\t\t}\n\t}\n\tfor(int k=0; k<n; k++)\n\t\tfor(int i=0; i<n; i++)\n\t\t\tfor(int j=0; j<n; j++)\n\t\t\t\td[i][j] = min(d[i][j], d[i][k] + d[k][j]);\n\n\tdouble ret = 0;\n\tsort(d[0], d[0]+n);\n\tfor(int i=1; i<n; i++)\n\t{\n\t\tret = max(ret, d[0][i]+(n-1-i));\n\t}\n\tprintf(\"%.6f\\n\", ret);\n}\n```\n\n\n",
        "postTime": 1620176879,
        "uid": 468175,
        "name": "_xbn",
        "ccfLevel": 0,
        "title": "AT279 THE\u2606\u305f\u3053\u713c\u304d\u796d\u308a2012"
    },
    {
        "content": "\u5206\u6790\uff1a\n\n\u8fd9\u9053\u9898\u8981\u6c42\u6240\u6709\u4eba\u62ff\u5230\u7ae0\u9c7c\u4e38\u7684\u6700\u5c0f\u65f6\u95f4\uff0c\u90a3\u5c31\u628a\u6bcf\u4e2a\u4eba\u7684\u4f20\u9012\u65f6\u95f4\u5f53\u6210\u6743\u503c\uff0c\u8dd1\u4e00\u904d\u6700\u77ed\u8def\uff0c\u7136\u540e\u6c42\u6700\u540e\u4e00\u4e2a\u6536\u5230\u7ae0\u9c7c\u4e38\u7684\u65f6\u95f4\u5c31\u597d\u4e86\uff0c\u56e0\u4e3a\u6570\u636e\u8303\u56f4\u4e0d\u5927\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528 Floyd \u8fc7\u8fd9\u9053\u9898\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff08\u6709\u6ce8\u91ca\uff09\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ndouble d[1001][1001];//d\u6570\u7ec4\u5b58\u7b2ci\u4e2a\u4eba\u76f4\u63a5\u5230\u7b2cj\u4e2a\u4eba\u7684\u65f6\u95f4\ndouble x[1001],y[1001],t[1001],r[1001];\nint main()\n{\n\tint n;\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\tscanf(\"%lf%lf%lf%lf\",&x[i],&y[i],&t[i],&r[i]);\n\tfor(int i=1;i<=n;i++)//\u9884\u5904\u7406\u65f6\u95f4\n\tfor(int j=1;j<=n;j++)\n\t{\n\t\tdouble tx=x[i]-x[j];\n\t\tdouble ty=y[i]-y[j];\n\t\td[i][j]=sqrt(tx*tx+ty*ty)/min(t[i],r[j]);//\u901f\u5ea6\u4e3a\u7b2ci\u4e2a\u4eba\u6254\u51fa\u901f\u5ea6\u548c\u7b2cj\u4e2a\u4eba\u63a5\u6536\u901f\u5ea6\u7684\u6700\u5c0f\u503c\n\t}\n\tfor(int k=1;k<=n;k++)\n\tfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=n;j++)\n\td[i][j]=min(d[i][j],d[i][k]+d[k][j]);//Floyd\n\tsort(d[1]+1,d[1]+n+1);//\u5c06\u7b2c1\u4e2a\u4eba\u5230\u7b2cj\u4e2a\u4eba\u7684\u6700\u77ed\u65f6\u95f4\u6392\u5e8f\n\tdouble ans=0.00;\n\tfor(int i=2;i<=n;i++)//\u5fc5\u987b\u4ece\u7b2c2\u4e2a\u5f00\u59cb\u4e0d\u7136\u4f1a\u9519\n\tans=max(ans,d[1][i]+(n-i));//\u52a0\u4e0a(n-i)\u662f\u56e0\u4e3a\u6bcf\u6295\u4e00\u6b21\u90fd\u8981\u9694\u4e00\u79d2\u518d\u6295\n\tprintf(\"%.6lf\",ans);\n}\n```\n",
        "postTime": 1620178772,
        "uid": 311266,
        "name": "miraculously",
        "ccfLevel": 0,
        "title": "AT279 THE\u2606\u305f\u3053\u713c\u304d\u796d\u308a2012"
    },
    {
        "content": "### \u9898\u76ee\uff1a\n~~\u63d0\u4e00\u5634\uff0c\u8fd9\u4e2a\u6837\u4f8b\uff08\u9898\u76ee\u770b\u4e0d\u61c2\u6240\u4ee5\u6211\u53bb\u770b\u6837\u4f8b\uff09\u770b\u4e86\u6211\u662f\u8499\u7684\uff0c\u6240\u4ee5\u6211\u7a0d\u5fae\u4fee\u6539\u4e86\u4e00\u4e0b\u9898\u76ee\uff0c\u6bd5\u7adf\u201c\u6bcf\u4e2a\u4eba1\u4eba\u4e00\u4e2a\u4e00\u4e2a\u5730\u628a\u5b83\u666e\u53ca\u201d\u4e0d\u662f\u4eba\u4eba\u90fd\u53ef\u4ee5\u770b\u61c2\u7684~~  \n\u539f\u9898\uff1a[\u8fd9](https://www.luogu.com.cn/problem/AT279)  \n\u4fee\u6539\u540e\uff1a[\u8fd9](https://www.luogu.com.cn/paste/xetemnsh) \n### \u601d\u8def\uff1a\n\u5176\u5b9e\u4e5f\u5f88\u7b80\u5355\uff0c\u4ece\u9898\u76ee\u4e2d\u4e0d\u96be\u770b\u51fa\u8981\u8dd1\u6700\u77ed\u8def\u3002\u6570\u636e\u4e2d $N\\le 1000$ \u6837\u7684\u6570\u636e\u3002$\\mathcal{O}(n^3)$ \u8be5\u53ef\u80fd\u4e5f\u8bb8\u5927\u6982\u662f\u8fc7\u5f97\u4e86\uff08~~\u53cd\u6b63\u8fd9\u9898\u662f\u8fc7\u4e86~~\uff09\uff0c\u6240\u4ee5\u54b1\u4f7f\u7528 Floyd \u7b97\u6cd5\u3002\n\n\u8bb2\u4e00\u4e0b Floyd\uff1a\n\nFloyd \u7b97\u6cd5\u662f\u4e00\u4e2a\u57fa\u4e8e\u300c\u8d2a\u5fc3\u300d\u3001\u300c\u52a8\u6001\u89c4\u5212\u300d\u6c42\u4e00\u4e2a\u56fe\u4e2d\u6240\u6709\u70b9\u5230\u6240\u6709\u70b9 \u6700\u77ed\u8def\u5f84\u7684\u7b97\u6cd5\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal{O}(n^3)$\u3002\n\n\u5176\u91cd\u70b9\u601d\u60f3\uff1a\u4ee5\u6bcf\u4e2a\u70b9\u4e3a\u300c\u4e2d\u8f6c\u7ad9\u300d\uff0c\u5237\u65b0\u6240\u6709\u300c\u5165\u5ea6\u300d\u548c\u300c\u51fa\u5ea6\u300d\u7684\u8ddd\u79bb\u3002\n\n\u5927\u5bb6\u4e5f\u53ef\u4ee5\u5148\u770b\u770b[\u3010Clear And Present Danger S\u3011](https://www.luogu.com.cn/problem/P2910)\u8fd9\u9053\u677f\u5b50\u9898\u3002\n\n\u518d\u770b\u672c\u9898\uff0c\u8981\u6c42\u6c42\u628a\u7ae0\u9c7c\u5c0f\u4e38\u5b50\u5206\u53d1\u7ed9\u6240\u6709\u4eba\u6240\u9700\u65f6\u95f4\u7684\u6700\u5c0f\u503c\uff0c\u5c31\u628a\u4e24\u4e2a\u4eba\u4f20\u9012\u7684\u65f6\u95f4\u5f53\u4f5c\u300c\u5165\u5ea6\u300d\u548c\u300c\u51fa\u5ea6\u300d\u7684\u8ddd\u79bb\uff0c\u8dd1\u4e00\u904d Floyd \u5373\u53ef\u3002\n### CODE\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n;\ndouble x[514850],y[514850],t[514850],r[514850],f[1001][1001],a;\ninline void floyd()\n{\n\tfor(int k=1; k<=n; k++) {\n\t\tfor(int i=1; i<=n; i++) {\n\t\t\tfor(int j=1; j<=n; j++) {\n\t\t\t\tf[i][j]=min(f[i][k]+f[k][j],f[i][j]);\n\t\t\t}\n\t\t}\n\t}\t\n}\nsigned main() {\n\tcin>>n;\n\tfor(int i=1; i<=n; i++) {\n\t\tcin>>x[i]>>y[i]>>t[i]>>r[i];\n\n\t}\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=n; j++) {\n\t\t\tdouble fx=x[i]-x[j];\n\t\t\tdouble fy=y[i]-y[j];\n\t\t\tf[i][j]=sqrt(fx*fx+fy*fy)/min(t[i],r[j]);\n\t\t}\n\t}\n\tfloyd();\n\tsort(f[1]+1,f[1]+n+1);\n\tfor(int i=2;i<=n;i++)\n\ta=max(a,f[1][i]+n-i);\n\tprintf(\"%.6lf\",a);\n\treturn 0;\n}\n```\n",
        "postTime": 1644029603,
        "uid": 514850,
        "name": "Acerkaio",
        "ccfLevel": 4,
        "title": "AT279 \u9898\u89e3"
    },
    {
        "content": "## \u524d\u8a00\n\u5982\u679c\u4f60\u662f\u56e0\u4e3a\u9898\u9762\u7684\u95ee\u9898\u800c\u770b\u5411\u9898\u89e3\uff0c\u90a3\u4e48\u8bf7\u70b9\u51fb\u8fd9\u4e2a\u94fe\u63a5\uff0c\u8fd9\u91cc\u6709\u5df2\u7ecf\u4fee\u6539\u597d\u7684[\u9898\u9762](https://www.luogu.com.cn/paste/xetemnsh)\u3002\n## \u601d\u8def\n\u6211\u4eec\u4e0d\u59a8\u628a\u6bcf\u4e2a\u4eba\u770b\u6210\u4e00\u4e2a\u4e2a\u70b9\uff0c\u4f20\u9012\u65f6\u95f4\u5c31\u662f\u70b9\u5230\u70b9\u4e4b\u95f4\u7684\u6743\u503c\uff0c\u7136\u540e\u6211\u4eec\u8dd1\u4e00\u904d\u6700\u77ed\u8def\u5373\u53ef\u3002\u7531\u4e8e\u6570\u636e\u6bd4\u8f83\u6c34\uff08~~\u6211\u968f\u4fbf\u968f\u4fbf\u6253\u4e00\u53d1Floyd\u5c31\u8fc7\u4e86~~\uff09\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 Floyd \u7b97\u6cd5\u3002\u5982\u679c\u4f60\u4e0d\u61c2 Floyd \u7b97\u6cd5\uff0c\u53ef\u4ee5\u770b\u770b\u6211\u5199\u7684\u8fd9\u7bc7[\u6587\u7ae0](https://www.cnblogs.com/zhong114514/p/16558911.html)\u3002\n## ACcode\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define N 1005\ndouble answer,x[N],y[N],t[N],r[N],fl[N][N],tx,ty,mixn;\nint n;\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t\tcin>>x[i]>>y[i]>>t[i]>>r[i];\n\tfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=n;j++)\n\t{\n\t\ttx=(x[i]-x[j])*(x[i]-x[j]);\n\t\tty=(y[i]-y[j])*(y[i]-y[j]);\n\t\tmixn=min(t[i],r[j]);\n\t\tfl[i][j]=sqrt(tx+ty)/mixn;//\u5c06\u65f6\u95f4\u8f6c\u6362\u4e3a\u6743\u503c\n\t}\n\tfor(int k=1;k<=n;k++)//\u679a\u4e3e\u4e2d\u8f6c\u70b9\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(int j=1;j<=n;j++)\n\t\t\t\tfl[i][j]=min(fl[i][j],fl[i][k]+fl[k][j]);\n\tsort(fl[1],fl[1]+n+1);\n\tfor(int i=2;i<=n;i++)\n\tanswer=max(answer,fl[1][i]+(n-i));//\u9012\u51fa\u540e\u4e00\u5206\u949f\u540e\u624d\u80fd\u9012\u51fa\u4e0b\u4e00\u4e2a\u7ae0\u9c7c\u4e38\u5b50\n\tprintf(\"%.6lf\",answer);\n\treturn 0;\n}\n```\n",
        "postTime": 1659789410,
        "uid": 754856,
        "name": "_zexal_",
        "ccfLevel": 3,
        "title": "AT279 \u9898\u89e3"
    },
    {
        "content": "$1\\le N\\le 1000$\u3002\n\nN \u5e76\u4e0d\u5927\uff0c\u8003\u8651\u7528 Floyd.\n\n\u4f46\u662f\u5728\u6570\u636e\u5f3a\u7684\u60c5\u51b5\u4e0b Floyd \u7684\u65f6\u95f4\u53ef\u80fd\u4f1a\u8d85\uff0c\u4f46\u662f\u6211\u53ea\u80fd\u8bf4\u8fd9\u9898\u7684\u6570\u636e\u592a\u6c34\u4e86\uff0c$O(N^3)$ \u7adf\u7136\u4e0d\u8d85\u65f6\uff01\uff01\uff01\n\n\u4e8e\u662f\u6b64\u9898\u5c31\u662f\u4e00\u4e2a\u6a21\u677f\u9898\u4e86\u3002\n\n\u9644\u4e0a[\u771f\u6a21\u677f\u9898](https://www.luogu.com.cn/problem/P2910)\u3002\n\n\u6b64\u9898\u53ea\u662f\u6c42\u628a\u7ae0\u9c7c\u5c0f\u4e38\u5b50\u5206\u53d1\u7ed9\u6240\u6709\u4eba\u6240\u9700\u65f6\u95f4\u7684\u6700\u5c0f\u503c\u3002\n\n# Code\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1000+10;\nint n;\ndouble f[N][N];\ndouble x[N],y[N],t[N],r[N];\ndouble ans;\nint main(){\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t\tcin>>x[i]>>y[i]>>t[i]>>r[i];\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tf[i][j]=sqrt((x[i]-x[j])*(x[i]-x[j])+(y[i]-y[j])*(y[i]-y[j]))/min(t[i],r[j]);\n\tfor(int k=1;k<=n;k++)\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(int j=1;j<=n;j++)\n\t\t\t\tf[i][j]=min(f[i][j],f[i][k]+f[k][j]);\n\tsort(f[1]+1,f[1]+1+n);\n\tfor(int i=2;i<=n;i++)\n\t\tans=max(ans,f[1][i]+(n-i));\n\tprintf(\"%0.6f\",ans);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1647529889,
        "uid": 501923,
        "name": "duchengjun",
        "ccfLevel": 5,
        "title": "AT279\u9898\u89e3"
    }
]