[
    {
        "content": "\u6ca1\u6709 $\\min$ \u7684\u60c5\u51b5\u662f trival \u7684\uff0c\u53d1\u73b0\u74f6\u9888\u5728\u4e8e\u5982\u4f55\u6bd4\u8f83\u4e24\u4e2a\u6570\u4e4b\u95f4\u7684\u5927\u5c0f\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u5bf9\u4e24\u4e2a\u4e8c\u8fdb\u5236\u6570\uff0c\u6211\u4eec\u672c\u8d28\u4e0a\u662f\u60f3\u8981\u627e\u5230\u5b83\u4eec\u7b2c\u4e00\u4e2a\u4e0d\u540c\u7684\u4f4d\u7f6e\u3002\u4e8e\u662f\u8003\u8651\u4ece\u6700\u9ad8\u4f4d\u5f00\u59cb\uff0c\u5c06 $(a_i,b_i)$ \u6309\u6700\u9ad8\u4f4d\u5206\u7ec4\u4e3a $(0,0),(0,1),(1,0),(1,1)$ \u56db\u7ec4\u3002\u6bcf\u7ec4\u5185\u90e8\u9700\u8981\u7ee7\u7eed\u679a\u4e3e\u4f4e\u4f4d\uff0c\u56e0\u6b64\u53ea\u8003\u8651\u4e24\u7ec4\u4e4b\u95f4\u7684\u8d21\u732e\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u6709\u8d21\u732e\u7684\u7ec4\u5bf9\u5982\u4e0b\uff1a\n\n- $(0,0),(0,1)$\uff1a\u6b64\u65f6\u8d21\u732e\u4e3a $a_i\\oplus a_j$\u3002\n- $(0,0),(1,0)$\uff1a\u6b64\u65f6\u8d21\u732e\u4e3a $b_i\\oplus b_j$\u3002\n- $(1,1),(0,1)$\uff1a\u6b64\u65f6\u8d21\u732e\u4e3a $b_i\\oplus b_j$\u3002\n- $(1,1),(1,0)$\uff1a\u6b64\u65f6\u8d21\u732e\u4e3a $a_i\\oplus a_j$\u3002\n- $(0,0),(1,1)$\uff1a\u8d21\u732e\u4e0d\u786e\u5b9a\uff0c\u9700\u8981\u7ee7\u7eed\u679a\u4e3e\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5c06\u8fd9\u4e24\u7ec4\u5e76\u5728\u4e00\u8d77\u5411\u4e0b\u5904\u7406\u3002\n- $(0,1),(1,0)$\uff1a\u8d21\u732e\u4e0d\u786e\u5b9a\uff0c\u9700\u8981\u7ee7\u7eed\u679a\u4e3e\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5c06\u8fd9\u4e24\u7ec4\u5e76\u5728\u4e00\u8d77\u5411\u4e0b\u5904\u7406\u3002\n\n\u76f4\u63a5\u7206\u7b97\u5373\u53ef\u3002\n\n```cpp\n#include <iostream>\n#include <vector>\n\nusing namespace std;\nusing LL = long long;\n\nconst int kN = 2.5e5 + 1;\nconst int kL = 18;\n\nint n, a[kN], b[kN];\nLL ans;\nvector<int> sd;\n\nvoid C(vector<int> &d1, vector<int> &d2, bool w) {\n  for (int i = 0; i < kL; ++i) {\n    int c11 = 0, c12 = 0;\n    for (int j : d1) {\n      c11 += (w ? b[j] : a[j]) >> i & 1;\n    }\n    for (int j : d2) {\n      c12 += (w ? b[j] : a[j]) >> i & 1;\n    }\n    ans += (1LL * c11 * (d2.size() - c12) + 1LL * (d1.size() - c11) * c12) << i;\n  }\n}\nvoid S(int p, vector<int> &d) {\n  if (d.empty()) {\n    return;\n  }\n  if (p == -1) {\n    for (int i = 0; i < kL; ++i) {\n      int c1 = 0;\n      for (int j : d) {\n        c1 += a[j] >> i & 1;\n      }\n      ans += 1LL * c1 * (d.size() - c1) << i;\n    }\n    return;\n  }\n  vector<int> l[2][2];\n  for (int i : d) {\n    l[a[i] >> p & 1][b[i] >> p & 1].push_back(i);\n  }\n  C(l[0][0], l[0][1], 0);\n  C(l[0][0], l[1][0], 1);\n  C(l[1][1], l[0][1], 1);\n  C(l[1][1], l[1][0], 0);\n  for (int i : l[1][1]) {\n    l[0][0].push_back(i);\n  }\n  for (int i : l[1][0]) {\n    l[0][1].push_back(i);\n  }\n  S(p - 1, l[0][0]), S(p - 1, l[0][1]);\n}\n\nint main() {\n  ios_base::sync_with_stdio(0), cin.tie(0);\n  cin >> n;\n  for (int i = 1; i <= n; ++i) {\n    cin >> a[i];\n    sd.push_back(i);\n  }\n  for (int i = 1; i <= n; ++i) {\n    cin >> b[i];\n  }\n  S(kL - 1, sd);\n  cout << ans;\n  return 0;\n}\n```\n",
        "postTime": 1681308161,
        "uid": 376161,
        "name": "wsfxk",
        "ccfLevel": 6,
        "title": "[ARC127D] Sum of Min of Xor \u9898\u89e3"
    },
    {
        "content": "# Sum of Min of Xor-\u9898\u89e3\n\n##### STO [$\\texttt{\\color{white}{Bird}}$](https://www.luogu.com.cn/user/452730) OTZ\n\n### \u9898\u610f\n\n\u7ed9\u5b9a\u4e24\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u6570\u7ec4 $a$\uff0c$b$\uff0c\u6c42 $\\sum_{i=1}^n\\sum_{j=i+1}^n\\min\\{a_i\\oplus a_j,b_i\\oplus b_j\\}$\n\n### \u89e3\u6cd5\n\n\u8bb0\u4e00\u4e2a\u6570\u4e8c\u8fdb\u5236\u6700\u4f4e\u4f4d\u4e3a\u7b2c $0$ \u4f4d\u3002\n\n\u5148\u8003\u8651\u53ea\u6709\u4e00\u4e2a\u6570\u7ec4\u7684\u60c5\u51b5\uff08\u4e0d\u6c42\u6700\u5c0f\u503c\uff09\uff0c\u662f\u4e00\u4e2a\u5f88\u7ecf\u5178\u7684\u95ee\u9898\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e8c\u8fdb\u5236\u4f4d $x$\uff0c\u8bb0\u5f55\u7b2c $x$ \u4f4d\u4e3a $0/1$ \u7684\u540e\u7f00\u4e2a\u6570\u548c $s$\uff0c\u82e5 $a_i$ \u7684\u7b2c $x$ \u4f4d\u662f $1/0$\uff0c\u8d21\u732e\u5373\u4e3a $2^x s_{0/1}$\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $\\Omicron(n\\log a)$\u3002\n\n\u52a0\u5165\u6570\u7ec4 $b$\uff0c\u4f9d\u7136\u679a\u4e3e\u4e8c\u8fdb\u5236\u4f4d\u3002\u8bb0\u4e8c\u5143\u7ec4 $c_i=\\{a_i\\ \\texttt{\u7684\u7b2c}\\ x\\ \\texttt{\u4f4d},b_i\\ \\texttt{\u7684\u7b2c}\\ x\\ \\texttt{\u4f4d}\\}$\uff0c\u663e\u7136\u6709 $\\{1,1\\}\\{1,0\\}\\{0,1\\}\\{0,0\\}$ \u56db\u79cd\u60c5\u51b5\uff0c\u6309\u7167\u8fd9\u4e9b\u60c5\u51b5\u5206\u7ec4\u3002\u8ba1\u7b97 $i\\in\\{1,1\\}\\ \\texttt{\u7ec4}$\uff0c$j\\in\\{1,0\\}\\ \\texttt{\u7ec4}$ \u7684\u8d21\u732e\uff0c\u663e\u7136\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c$a_i\\oplus a_j<b_i\\oplus b_j$\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u7528\u4e0a\u9762\u7684\u65b9\u6cd5\u8ba1\u7b97\u8d21\u732e\u4e86\u3002\u5176\u4ed6\u60c5\u51b5\u540c\u7406\uff0c\u5982\u679c\u65e0\u6cd5\u5224\u65ad\u5927\u5c0f\uff0c\u7ee7\u7eed\u8fdb\u5165\u4e0b\u4e00\u4f4d\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\Omicron(n\\log^2a)$",
        "postTime": 1676556057,
        "uid": 492662,
        "name": "Endt_or_endt",
        "ccfLevel": 5,
        "title": "Sum of Min of Xor-\u9898\u89e3"
    }
]