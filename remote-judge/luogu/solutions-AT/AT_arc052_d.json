[
    {
        "content": "\u9898\u76ee\u7ffb\u8bd1\u662f\u9519\u8bef\u7684\uff0c\u6b63\u786e\u7684\u5982\u4e0b\uff1a\n\n\u7ed9\u5b9a\u4e24\u4e2a\u6b63\u6574\u6570 $K,M (1\\le K,M \\le 10^{10})$\uff0c\u4f60\u9700\u8981\u6c42\u51fa\u6709\u591a\u5c11\u4e2a\u6b63\u6574\u6570 $N$ \u6ee1\u8db3 $1 \\le N \\le M$ \u4e14 $N \\equiv S_N (\\bmod K) $\uff0c\u5176\u4e2d $S_N$ \u662f $N$ \u7684\u5404\u4f4d\u6570\u5b57\u4e4b\u548c\u3002\n\n\u9898\u89e3\uff1a\n\n\u8fd9\u4e2a $10^{10}$ \u7684\u6570\u636e\u8303\u56f4\u5e76\u4e0d\u5e38\u89c1\uff0c\u4f46\u662f\u53ef\u4ee5\u53d1\u73b0\u5927\u6982\u662f\u6839\u53f7\u7684\u590d\u6742\u5ea6\u3002\n\n\u663e\u7136\u65e0\u6cd5\u5206\u5757\uff0c\u8003\u8651\u600e\u4e48\u505a\u5230\u6839\u53f7\u5206\u6cbb\u3002\u6211\u4eec\u5148\u5bf9 $K$ \u8bbe\u5b9a\u4e00\u4e2a\u9608\u503c $T$\uff0c\u5176\u4e2d $T$ \u662f $\\sqrt{M}$ \u7ea7\u522b\u3002\n\n\n+ $K \\ge T$ \n\n\u5f53 $1 \\le N \\le 10^{10}$ \u65f6\uff0c\u6700\u5927\u7684 $S_N$ \u4e0d\u8fc7 $9\\times 10=90$\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u53bb\u5148\u679a\u4e3e\u6570\u5b57\u548c $S$\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u53d1\u73b0\uff0c$\\bmod K= S$ \u7684 $N$ \u7684\u4e2a\u6570\u4e0d\u4f1a\u8d85\u8fc7 $\\lfloor\\frac{M}{K}\\rfloor +1$ \u4e2a\u3002\u76f4\u63a5\u679a\u4e3e\u8fd9\u4e9b\u6570\u5c31\u53ef\u4ee5\u4e86\u3002\u590d\u6742\u5ea6 $O(S_N\\times \\frac{M}{K})$\u3002\n\n+ $K \\le T$\n\n\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u628a $K$ \u505a\u4e3a\u4e00\u7ef4\u538b\u5230\u6570\u4f4d dp \u91cc\u4e86\u3002\u4ee4 $dp_{i,j,sm,0/1}$ \u8868\u793a\u8003\u8651\u5230\u4ece\u9ad8\u5230\u4f4e\u7b2c $i$ \u4f4d\uff0c\u6b64\u65f6\u7684\u6570 $\\bmod K = j$\uff0c\u6570\u5b57\u548c\u4e3a $sm$\uff0c\u662f\u5426\u5df2\u7ecf\u5c0f\u4e8e $m$ \u7684\u6570\u7684\u4e2a\u6570\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5 dp \u4e86\uff0c\u590d\u6742\u5ea6 $O(\\log k \\times S_N\\times K)$\u3002\n\n\u5747\u8861\u4e00\u4e0b\u53d6 $K=10000$ \u6700\u4f18\u3002\n\nCode:\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define int ll\nusing namespace std;\nll k,m,n;\nint ee[12];\nll dp[12][10000][91][2];\ninline void add(ll&x,ll y){x+=y;}\nsigned main(){\n\tcin>>k>>m;\n\tll ans=0;ll tm=m;\n\tfor(int i=1;;++i){\n\t\tee[i]=tm%10;\n\t\ttm/=10;\n\t\tif(tm==0){\n\t\t\tn=i;\n\t\t\tbreak;\n\t\t}\n\t}\n\treverse(ee+1,ee+n+1);\n\tif(k>=10000){\n\t\tfor(int i=0;i<=90;++i){\n\t\t\tfor(ll ee=i;ee<=m;ee+=k){\n\t\t\t\tll t=ee,cnt=0;\n\t\t\t\twhile(t){\n\t\t\t\t\tcnt+=t%10;\n\t\t\t\t\tt/=10;\n\t\t\t\t}\n\t\t\t\tif(cnt%k==i)++ans;\n\t\t\t}\n\t\t}\n\t\tcout<<ans-1<<'\\n';\n\t\treturn 0;\n\t}\n\tdp[1][0][0][0]=1;\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=0;j<k;++j){\n\t\t\tfor(int sm=0;sm<=90;++sm){\n\t\t\t\t{//f=0\n\t\t\t\t\tfor(int t=0;t<ee[i];++t){\n\t\t\t\t\t\tif(sm+t<=90){\n\t\t\t\t\t\t\tadd(dp[i+1][(j*10+t)%k][sm+t][1],dp[i][j][sm][0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(sm+ee[i]<=90)add(dp[i+1][(j*10+ee[i])%k][sm+ee[i]][0],dp[i][j][sm][0]);\n\t\t\t\t}\n\t\t\t\t{//f=1\n\t\t\t\t\tfor(int t=0;t<10;++t)if(sm+t<=90)add(dp[i+1][(j*10+t)%k][sm+t][1],dp[i][j][sm][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(int ee=0;ee<=90;++ee)add(ans,dp[n+1][ee%k][ee][0]),add(ans,dp[n+1][ee%k][ee][1]);\n\tcout<<ans-1<<'\\n';\n}\n```",
        "postTime": 1677981659,
        "uid": 226760,
        "name": "RedLycoris",
        "ccfLevel": 7,
        "title": "Never gonna tell a lie and hurt you"
    }
]