[
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n\u6709 $N$ \u4e2a\u5c4b\u5b50\uff0c\u5176\u4e2d $M$ \u95f4\u662f\u5c0f\u9ed1\u5c4b\uff0c\u6bcf\u95f4\u5c4b\u5b50\u90fd\u6709 $K$ \u6761\u5355\u884c\u9053\u901a\u5f80\u5176\u4ed6\u5c4b\u5b50\uff08\u4e5f\u53ef\u80fd\u662f\u6b7b\u8def\u56de\u5230\u5f53\u524d\u5c4b\u5b50\uff09\uff0c\u73b0\u5728\u5047\u5b9a\u6bcf\u4e2a\u5c0f\u9ed1\u5c4b\u90fd\u6709\u4e00\u4e2a\u8ff7\u9014\u4e4b\u4eba\uff08A\u541b\uff09\uff0c\u4f60\u9700\u8981\u8bbe\u8ba1\u4e00\u4e32\u6307\u4ee4\uff08\u8ba9\u8ff7\u9014\u4e4b\u4eba\u5728\u5f53\u524d\u623f\u95f4\u5185\u8d70\u7b2c\u51e0\u6761\u9053\u8def\uff09\uff0c\u8ba9\u6bcf\u4e2a\u5c0f\u9ed1\u5c4b\u7684\u4eba\u7ecf\u8fc7\u8fd9\u4e32\u6307\u4ee4\u90fd\u80fd\u53bb\u5230\u4eae\u706f\u7684\u5c4b\u5b50\uff0c\u95ee\u8fd9\u4e32\u6307\u4ee4\u7684\u6700\u77ed\u957f\u5ea6\u3002\n\n## \u601d\u8def\n\n\u6839\u636e\u9898\u610f\uff0c\u5bb9\u6613\u60f3\u5230BFS\uff0c\u679a\u4e3e\u5f53\u524d\u6307\u4ee4\u7684\u6bcf\u4e00\u6761\u9053\u8def\uff0c\u4f46\u662f\u6570\u636e\u8303\u56f4 $K\u2264N$\uff0c\u5f88\u8f7b\u6613\u5730\u5c31\u8d85\u65f6\u4e86\u3002\u5c1d\u8bd5\u4f18\u5316\uff1a\n\n\u89c2\u5bdf\u6570\u636e\u8303\u56f4\uff0c\u5c0f\u9ed1\u5c4b\u7684\u6570\u91cf $M\u226416$\uff0c\u8003\u8651\u72b6\u6001\u538b\u7f29\uff0c\u5c06\u6bcf\u4e2a\u5c0f\u9ed1\u5c4b\u7684\u72b6\u6001\u8868\u793a\u4e3a $01$ \u4e32\uff08\u6709\u4eba\u6216\u6ca1\u4eba\uff09\uff0c\u5b9a\u4e49\u72b6\u6001 $f[x]$ \u8868\u793a\u5c0f\u9ed1\u5c4b\u72b6\u6001\u96c6\u5408\u4e3a $x$ \u65f6\u6307\u4ee4\u7684\u6700\u5c0f\u957f\u5ea6\u3002\n\n\u8fd9\u4e2a\u8f6c\u79fb\u7684\u8bdd\u53ea\u9700\u8981\u679a\u4e3e\u6bcf\u4e00\u4e2a\u5c0f\u9ed1\u5c4b\u6839\u636e\u5f53\u524d\u679a\u4e3e\u7684\u6307\u4ee4 $k$ \u5230\u8fbe\u7684\u4e0b\u4e00\u4e2a\u5c4b\u5b50\u5c31\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u8f6c\u79fb\u4e86\u3002\u540c\u65f6\u6ce8\u610f\u526a\u679d\uff0c\u5982\u679c\u76ee\u6807\u72b6\u6001\u5df2\u7ecf\u8bbf\u95ee\u8fc7\u5219\u5c1d\u8bd5\u8bbf\u95ee\u4e0b\u4e00\u4e2a\u76ee\u6807\u72b6\u6001\u3002\u603b\u590d\u6742\u5ea6\u4e3a $O(KM2^M)$\u3002\n\n\u4ee3\u7801\u91cc\u6ce8\u91ca\u6253\u7684\u5f88\u6ee1\uff0c\u8fd9\u91cc\u5c31\u4e0d\u5728\u8fc7\u591a\u8d58\u8ff0\u7a0b\u5e8f\u5b9e\u73b0\u4e86\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,k;\nint light[105];//\u8bb0\u5f55\u623f\u95f4\u72b6\u6001\uff0c\u4eae\u5c4b\u5219\u4e3a-1\uff0c\u9ed1\u5c4b\u5219\u4e3a0 ~ m-1 \nint dark[20];//\u5c0f\u9ed1\u5c4b \nint f[200015];//\u72b6\u6001\u538b\u7f29 \nint p[105][105];//\u77e9\u9635\u5b58\u56fe \nvoid bfs(){\n\tqueue<int>q;\n\tint s=(1<<m)-1;//\u521d\u59cb\u72b6\u6001\uff0cm\u4e2a\u5c0f\u9ed1\u5c4b\u91cc\u90fd\u6709\u4eba \n\tq.push(s);\n\tf[s]=0;\n\twhile(!q.empty()){\n\t\tint now=q.front();q.pop();\n\t\tfor(int i=0;i<k;i++){\n\t\t\tint goal=0;//\u9009\u62e9\u7b2ck\u6761\u9053\u8def\u7684\u76ee\u6807\u5c0f\u9ed1\u5c4b\u72b6\u6001 \n\t\t\tfor(int j=0;j<m;j++){\n\t\t\t\tif(!((1<<j)&now))continue;//\u7b2cj\u4e2a\u5c0f\u9ed1\u5c4b\u662f\u5426\u6709\u4eba \n\t\t\t\tint u=dark[j];//\u6709\u4eba\u5219\u8fdb\u884c\u641c\u7d22 \n\t\t\t\tint v=p[u][i],gs;//v\u4e3a\u4e0b\u4e00\u4e2a\u623f\u95f4\uff0cgs\u5bf9\u623f\u95f4\u8fdb\u884c\u72b6\u6001\u538b\u7f29 \n\t\t\t\tif(light[v]<0)continue;//\u76f4\u63a5\u5230\u8fbe\u4e86\u4eae\u7684\u5c4b\u5b50\u4fbf\u53ef\u4ee5\u76f4\u63a5\u8df3\u51fa \n\t\t\t\tgs=(1<<light[v]);//\u5230\u8fbe\u4e86\u53e6\u4e00\u4e2a\u5c0f\u9ed1\u5c4b \n\t\t\t\tgoal|=gs;//\u6dfb\u52a0\u8be5\u9ed1\u5c4b \n\t\t\t}\n\t\t\tif(f[goal]||goal==s)continue;//\u72b6\u6001\u5df2\u7ecf\u5b58\u50a8\u8fc7\u6216\u56de\u5230\u4e86\u8d77\u70b9 \n\t\t\tf[goal]=f[now]+1;\n\t\t\tq.push(goal);\n\t\t}\n\t}\n}\nint main(){\nios::sync_with_stdio(0),cin.tie(0),cout.tie(0); \ncin>>n>>m>>k;\nfor(int i=0;i<n;i++)light[i]=-1;\nfor(int i=0;i<m;i++){//\u4e0b\u6807\u4ece0\u5f00\u59cb\uff0c\u72b6\u6001\u538b\u7f29\u66f4\u6613\u5904\u7406 \n\tcin>>dark[i];\n\tlight[--dark[i]]=i;\n}\nfor(int i=0;i<n;i++){\n\tfor(int j=0;j<k;j++){\n\t\tcin>>p[i][j];\n\t\tp[i][j]--;\n\t}\n}\nbfs();\ncout<<f[0];//\u76ee\u6807\u72b6\u6001\u662f\u5c0f\u9ed1\u5c4b\u6ca1\u4eba\uff0c\u5373m\u4e2a0\uff0c\u7b54\u6848\u4e3af[0] \nreturn 0;\n}\n\n```\n\u6ce8\u610f**\u8f93\u51fa\u7ed3\u5c3e\u8981\u6362\u884c**\uff0c\u53ef\u80fd\u662f\u56e0\u4e3aAtCoder\u4e0a\u53e4\u9898\u7684\u539f\u56e0\uff0c\u65e0\u6362\u884c\u7b97\u9519\u8bef\u7b54\u6848\uff08~~\u672c\u4eba\u5728\u6362\u884c\u4e0a\u6302\u4e86\u597d\u4e45~~\uff09\u3002\n\n",
        "postTime": 1662472113,
        "uid": 593613,
        "name": "olegekei",
        "ccfLevel": 7,
        "title": "AT1449 \u5c0f\u9ed1\u5c4b"
    }
]