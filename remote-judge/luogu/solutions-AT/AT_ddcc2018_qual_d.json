[
    {
        "content": "\u672c\u9898\u540c\u6b65\u6536\u5f55\u5728 [Atcoder \u9898\u76ee\u8865\u5168\u8ba1\u5212](https://www.luogu.com.cn/training/256520) \u4e2d\uff0c\u6b22\u8fce\u652f\u6301\u3002\n\n### \u9898\u76ee\u5206\u6790\uff1a\n\n\u6211\u4eec\u8003\u8651\u4e00\u4e0b\u9898\u76ee\u7ed9\u7684 $a_p$ \u600e\u4e48\u7528\u5176\u4ed6\u65b9\u5f0f\u8868\u793a\uff0c\u5728 $p$ \u8fdb\u5236\u4e0b\uff0c\u6ee1\u8db3\u6761\u4ef6\u7684\u6574\u6570 $x$ \u7684\u6bcf\u4e00\u6570\u4f4d\u7528 $d$ \u8868\u793a\uff0c$m$ \u4e3a\u6570 $x$ \u5728 $p$ \u8fdb\u5236\u4e0b\u7684\u957f\u5ea6\uff0c\u5219\u6709\n\n$$d_{1} \\cdot p^{0} + d_{2} \\cdot p^{1} + d_{3} \\cdot p^{2}+ \\cdots +d_{m} \\cdot p^{m-1}= x$$\n\n$$d_{1} + d_{2} + \\cdots + d_{m} = a_p$$\n\n\u5f88\u68d8\u624b\uff0c\u53d1\u73b0\u4e0a\u4e0b\u4e24\u9879\u7684\u5dee\u8ddd\u5728 $p$ \u7684 $0 \\sim {m-1}$ \u6b21\u65b9\u4e0a\uff0c\u5982\u679c\u53ef\u4ee5\u628a\u5b83\u6d88\u6389\uff0c\u5de6\u53f3\u5c31\u53ef\u4ee5\u8054\u7acb\u4e86\u5462\uff0c\u6240\u4ee5\u53d6\u4f59\u3002\n\n\u6709\u4e2a\u6613\u5f97\u7684\u6027\u8d28\uff0c$p$ \u7684\u6574\u6570\u6b21\u5e42\u5bf9 $p-1$ \u53d6\u4f59\u4e00\u5b9a\u4e3a $1$\uff0c$n$ \u53d6\u4efb\u610f\u81ea\u7136\u6570\uff0c\u8868\u8fbe\u51fa\u6765\u5c31\u662f\n\n$$p^n \\equiv 1 \\pmod {p-1}$$\n\n\u5c06\u4e0a\u8ff0\u7b2c\u4e00\u9879\u5bf9 $p-1$ \u53d6\u4f59\uff0c\u4e24\u5f0f\u8054\u7acb\uff0c\u5219\u6709\n\n$$x \\equiv a_p \\pmod {p-1} $$\n\n\u5c06\u539f\u9898\u4e2d\u6240\u6709\u8fdb\u5236\u4e0b\u7684\u5f0f\u5b50\u5168\u53d8\u6210\u8fd9\u6837\uff0c\u5c31\u662f $29$ \u4e2a\u6a21\u6570\u4e0d\u4e92\u8d28\u7684\u540c\u4f59\u65b9\u7a0b\uff0c\u4f7f\u7528\u6269\u5c55\u4e2d\u56fd\u5269\u4f59\u5b9a\u7406\uff08exCRT\uff09\u5c31\u53ef\u4ee5\u89e3\u51b3\u4e86\u3002\n\n### Code.\n\n```cpp\n#include<bits/stdc++.h>\n#define ll __int128\nusing namespace std;\nvoid exgcd(ll a,ll b,ll &g,ll &x,ll &y)\n{\n\tif(! b) return g=a,x=1,y=0,void();\n\texgcd(b,a%b,g,y,x); y-=(a/b)*x;\n}\nint m[50],a[50];\nll excrt()\n{\n\tll X=a[1],M=m[1];\n\tfor(int i=2;i<=29;i++)\n\t{\n\t\tll tmp=a[i]-X,g,x,y; exgcd(M,m[i],g,x,y);\n\t\tif(tmp%g) return -1;\n\t\telse\n\t\t{\n\t\t\tll pl=m[i]/g; x=(x*(tmp/g)%pl+pl)%pl;\n\t\t\tX=x*M+X; M=(M*m[i])/g;\n\t\t}\n\t}\n\treturn X;\n}\nint main()\n{\n\tfor(int i=1;i<=29;i++) scanf(\"%d\",a+i),m[i]=i;\n\tll tmp=excrt(); if(! ~tmp || tmp > 1e12) return puts(\"invalid\"),0;\n\tfor(int i=2;i<=30;i++)\n\t{\n\t\tll jk=tmp,cnt=0; while(jk) cnt+=jk%i,jk/=i;\n\t\tif(cnt != a[i-1]) return puts(\"invalid\"),0;\n\t}\n\tprintf(\"%lld\\n\",(long long)tmp);\n\treturn 0;\n}\n```",
        "postTime": 1670249834,
        "uid": 897035,
        "name": "Shiina_Mahiru",
        "ccfLevel": 0,
        "title": "[DISCO19 D] \u9ec4\u91d1\u7de8 \u9898\u89e3"
    }
]