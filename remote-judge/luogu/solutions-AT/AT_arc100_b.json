[
    {
        "content": "## \u9898\u610f\n\n\u5c06\u4e00\u4e2a\u5e8f\u5217 $a$ \u5212\u5206\u6210\u8fde\u7eed\u7684\u56db\u6bb5\uff0c\u4f7f\u5f97\u8fd9\u56db\u6bb5\u7684\u548c\u7684\u6781\u5dee\u6700\u5c0f.\n\n$4\\le n\\le 2\\times10^5$\n\n## \u9898\u89e3\n\n\u5148\u6c42\u524d\u7f00\u548c\uff0c\u4e8e\u662f\u9898\u76ee\u8f6c\u5316\u6210\u4ece $1\\sim n-1$ \u4e2d\u9009\u51fa\u4e09\u4e2a\u6570 $i,j,k$ \u4f7f\u5f97 $s_i,s_j-s_i,s_k-s_j,s_n-s_k$ \u7684\u6781\u5dee\u6700\u5c0f.\n\n\u8003\u8651\u679a\u4e3e $j$ \uff0c\u90a3\u4e48 $i,k$ \u4e00\u5b9a\u662f\u628a $1\\sim j-1$ \u548c $j+1\\sim n$ \u5212\u5206\u5f97\u6700\u5e73\u8861\u7684\u5206\u754c\u70b9\uff0c \u5373\u4f7f\u5f97 $|s_j-s_i-s_i|,|s_n-s_k-(s_k-s_j)|$ \u6700\u5c0f\u7684 $i,k$ .\n\n\u56e0\u4e3a\u5982\u679c\u4e0d\u5e73\u8861\uff0c\u90a3\u4e48\u5212\u5206\u51fa\u7684\u4e24\u6bb5\u7684\u548c\u7684\u6700\u5c0f\u503c\u503c\u4e00\u5b9a\u6bd4\u5e73\u8861\u72b6\u6001\u4e0b\u7684\u6700\u5c0f\u503c\u66f4\u5c0f\uff0c\u6700\u5927\u503c\u6bd4\u5e73\u8861\u72b6\u6001\u5927\uff0c\u4ece\u800c\u603b\u4f53\u7684\u6781\u5dee\u53ef\u80fd\u4f1a\u53d8\u5927.\n\n\u7531\u4e8e $j$ \u662f\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u7684\uff0c\u4ece\u800c $s_j-s_i$ \u53d8\u5927\u3001 $s_k-s_j$ \u53d8\u5c0f\uff0c\u6240\u4ee5\u6700\u4f18\u5316\u5212\u5206\u70b9 $i,k$ \u4e00\u5b9a\u662f\u5355\u8c03\u4e0d\u964d\u7684.\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n)$ \n\n```c++\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 2e5 + 5;\ntypedef long long ll;\nint n; ll a[N];\nint main(){\n    scanf(\"%d\",&n);\n    ll Ans = LLONG_MAX;\n    for (int i = 1; i <= n; ++i) scanf(\"%d\", a + i), a[i] += a[i - 1];\n    for (int i = 1, j = 2, k = 3; j < n; ++j) {\n        while (i + 1 < j && abs(a[j] - 2 * a[i]) > abs(a[j] - 2 * a[i + 1])) ++i;\n        while (k + 1 < n && abs(a[n] + a[j] - 2 * a[k]) > abs(a[n] + a[j] - 2 * a[k + 1])) ++k;\n        Ans = min(Ans, max({a[i], a[j] - a[i], a[k] - a[j], a[n] - a[k]}) -\n                       min({a[i], a[j] - a[i], a[k] - a[j], a[n] - a[k]}));\n    }\n    printf(\"%lld\\n\", Ans);\n    return 0;\n}\n```",
        "postTime": 1610959757,
        "uid": 20156,
        "name": "Kelin",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 AT4167 \u3010[ARC100B] Equal Cut\u3011"
    },
    {
        "content": "\u5c1d\u8bd5\u5199\u6c34\u9898\u9898\u89e3\u4ee5\u6362\u53d6\u8d21\u732e\u5206.jpg\n\nznm\uff0c\u957f\u5f97\u4e00\u8138\u53ef\u4e09\u5206\u7684\u6837\u5b50\u7136\u800c\u5e76\u4e0d\u53ef\u4e09\u5206\uff0c\u56e0\u4e3a\u5f88\u5bb9\u6613\u77e5\u9053\u5728\u8fd9\u79cd\u591a\u5cf0\u51fd\u6570\u4e09\u5206\u672c\u8d28\u4e0a\u548c\u722c\u5c71\u6ca1\u5565\u533a\u522b\u3002\u53ef\u80fd\u4f1a\u6709\u4ec0\u4e48\u795e\u5fc5\u7684\u9000\u706b\u6216\u8005\u9057\u4f20\u505a\u6cd5\u3002\u4f46\u662f\u4e2a\u4eba\u611f\u89c9\u8fd9\u4e2a\u6570\u636e\u8303\u56f4\u4f3c\u4e4e\u4e0d\u662f\u5f88\u5141\u8bb8\u3002\n\n\u8003\u8651\u66b4\u529b\u600e\u4e48\u505a\u3002\u5c1d\u8bd5\u53bb\u679a\u4e3e\u4e2d\u95f4\u7684\u7b2c\u4e8c\u6bb5\u7684\u53f3\u7aef\u70b9\uff0c\u8fd9\u6837\u518d\u53bb\u679a\u4e3e $a,c,d$ \uff0c\u590d\u6742\u5ea6\u662f $O(n^3)$ \u7684\u3002\n\n\u89c2\u5bdf\u9898\u76ee\u6240\u7ed9\u7684\u6027\u8d28\u3002\u53d1\u73b0\u6240\u6709\u6570\u90fd $>0$\u3002\u4e8e\u662f\u8003\u8651\u679a\u4e3e\u7b2c\u4e8c\u6bb5\u7684\u65f6\u5019\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u4e0e\u81ea\u5df1\u6781\u5dee\u6700\u5c0f\u7684\u7b2c\u4e00\u6bb5\uff0c\u7531\u4e8e\u7b2c\u4e8c\u6bb5\u6570\u4e00\u76f4\u5728\u589e\u591a\uff0c\u6240\u4ee5\u7b2c\u4e00\u6bb5\u7684\u53f3\u7aef\u70b9\u4e0b\u6807\u5fc5\u7136\u662f\u4e0d\u964d\u7684\uff1b\u5bf9\u4e8e\u7b2c\u4e09\u3001\u56db\u6bb5\uff0c\u8fd9\u4e2a\u6027\u8d28\u540c\u6837\u6210\u7acb\u3002\n\n\u4e8e\u662f\u53ef\u4ee5\u60f3\u5230\u679a\u4e3e\u7b2c\u4e8c\u6bb5\uff0c\u7b2c\u4e00\u6bb5\u548c\u7b2c\u4e09\u6bb5\u90fd\u53d8\u6210\u4e86 $O(1)$ \u3002\u6700\u7ec8\u590d\u6742\u5ea6 $O(n)$ \u3002\n\n```cpp\nint n ;\nll ans ;\nll S[4] ;\nll minx ;\nll maxx ;\nll sum[N] ;\nll base[N] ;\n \nll gt(ll x){\n    return x < 0 ? -x : x ;\n}\nvoid chkmin(ll x){\n    minx = x >= minx ? minx : x ;\n}\nvoid chkmax(ll x){\n    maxx = x >= maxx ? x : maxx ;\n}\nint main(){\n    cin >> n ;\n    ans = (1ll << 62) ;\n    for (int i = 1 ; i <= n ; ++ i){\n        scanf(\"%lld\", &base[i]) ;\n        sum[i] = sum[i - 1] + base[i] ;\n    }\n    int l = 2, r = 4 ;\n    S[0] = base[1] ; S[2] = base[3] ;\n    S[1] = base[2] ; S[3] = sum[n] - sum[3] ;\n    for (int i = 3 ; i <= n ; ++ i){\n        while (l < i && gt(S[0] - S[1]) > gt(S[0] + base[l] - S[1] + base[l])){\n            S[0] += base[l], S[1] -= base[l], ++ l ;\n        }\n        while (r <= n && gt(S[3] - S[2]) > gt(S[2] + base[r] - S[3] + base[r])){\n            S[2] += base[r], S[3] -= base[r], ++ r ;\n        }\n        minx = (1ll << 61) ; maxx = -(1ll << 61) ;\n        for (int j = 0 ; j <= 3 ; ++ j) chkmin(S[j]), chkmax(S[j]) ;\n        ans = min(ans, maxx - minx) ; S[1] += base[i] ; S[2] -= base[i] ;\n        //for (int j = 0 ; j <= 3 ; ++ j) cout << S[j] << \" \" ; puts(\"\") ;\n    }\n    cout << ans << endl ; return 0 ;\n}\n```\n\n",
        "postTime": 1583723426,
        "uid": 28313,
        "name": "\u768e\u6708\u534a\u6d12\u82b1",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 AT4167 \u3010[ARC100B] Equal Cut\u3011"
    },
    {
        "content": "[\u9898\u9762](https://www.luogu.com.cn/problem/AT4167)\n## \u601d\u8def\n\u7528\u4e00\u4e2a\u524d\u7f00\u548c\u6570\u7ec4\u5148\u50a8\u5b58\u6570\u636e\u3002  \n\u8981\u6c42\u6700\u5c0f\u5316\u8fd9\u56db\u6bb5\u7684\u6781\u5dee\u7684\u6700\u5c0f\u503c\uff0c\u5373\u8981\u6c42**\u8fd9\u56db\u6bb5\u6700\u5e73\u8861\u7684\u72b6\u6001**\u54af\u3002  \n\u5206\u56db\u6bb5\uff0c\u5373\u9700\u8981\u4e09\u4e2a\u8282\u70b9 $i,j,k$\uff0c\u4e14 $i< j< k$\u3002  \n\u679a\u4e3e\u4e2d\u95f4\u8282\u70b9 $j$\uff08\u66b4\u529b\u601d\u60f3\u4f53\u73b0\uff09\uff0c\u5373\u6c42 $[1,j-1], [j+1,n]$ \u6700\u5e73\u8861\u3002\u90a3\u4e48 $i,k$ \u4e00\u5b9a\u8981\u628a $\\left | \\left ( sum_j-sum_i \\right ) - sum_i \\right |,\\left | \\left ( sum_n - sum_k \\right )  - \\left ( sum_k - sum_j \\right ) \\right | $ \u6700\u5c0f\u5316\u54af\uff08\u8fd9\u91cc\u6709\u4e9b\u8df3\u8dc3\uff0c\u597d\u597d\u7406\u89e3\uff09\u3002\n## CODE\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n, sum[1000001], answer = 0;\nvoid find(int &x) {\n\tx = 0x7fffffff;\n\tfor(int i = 1, j = 2, k = 3; j < n; j++) {\n\t\twhile((i + 1 < j) && (abs(sum[j] - sum[i] - sum[i]) > abs(sum[j] - sum[i + 1] - sum[i + 1]))) \n\t\ti++;\n\t\twhile((k + 1 < n) && (abs(sum[n] - sum[k] - sum[k] + sum[j]) > abs(sum[n] - sum[k + 1] - sum[k + 1] + sum[j])))\n\t\tk++;\n\t\tx = min(x, max(sum[i], max(sum[j] - sum[i], max(sum[k] - sum[j], sum[n] - sum[k]))) - min(sum[i], min(sum[j] - sum[i], min(sum[k] - sum[j], sum[n] - sum[k]))));\n\t}\n}\nsigned main() {\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++) {\n\t\tint x;\n\t\tcin >> x;\n\t\tsum[i] = sum[i - 1] + x;\n\t}\n\tfind(answer);\n\tcout << answer << '\\n';\n\treturn 0;\n}\n```\n",
        "postTime": 1653485090,
        "uid": 514850,
        "name": "Acerkaio",
        "ccfLevel": 4,
        "title": "AT4167 [ARC100B] Equal Cut"
    },
    {
        "content": "\u5199\u4e00\u6ce2\u9898\u89e3\uff0c~~\u9020\u798f\u540e\u4eba\u3002~~\n\n\u9996\u5148\u60f3\u5230\u7684\u7b97\u6cd5\u80af\u5b9a\u5c31\u662f\u679a\u4e3e\u4e09\u4e2a\u70b9\uff0c\u4f46\u5f88\u660e\u663e\u590d\u6742\u5ea6\u4e0d\u5bf9\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u6362\u4e00\u79cd\u601d\u8def\uff1a\u5148\u679a\u4e3e\u4e2d\u95f4\u90a3\u4e2a\u8282\u70b9\uff0c\u6b64\u65f6\u5206\u4e3a\u4e24\u6bb5\uff0c$L$\u548c$R$\u3002\u7136\u540e\uff0c\u6211\u4eec\u9700\u8981\u628a$L$\u5206\u4e3a$L_1, L_2$\uff08$R$\u540c\u7406\uff09\u3002\u6211\u4eec\u53d1\u73b0\uff0c\u4e0d\u8bba$R$\u600e\u4e48\u5206\uff0c\u6211\u4eec\u80af\u5b9a\u8981\u8ba9$|L_1 - L_2|$\u5c3d\u91cf\u5c0f\uff0c$R$\u540c\u7406\u3002\u7531\u4e8e$A_i \\ge 1$\uff0c\u6545\u5b83\u4eec\u7684\u548c\u9012\u589e\uff0c\u53ef\u4ee5\u7528\u53cc\u6307\u9488$O(n)$\u89e3\u51b3\uff08\u6211\u91c7\u7528\u7684\u662f\u7528\u53cc\u6307\u9488\u8868\u793a$L$\u548c$R$\u7684\u201c\u4e2d\u70b9\u201d\uff09\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define rep(i, m, n) for(ll i = m; i <= n; i++)\n\nconst ll maxn = 2e5 + 5;\n\nll a[maxn], sum[maxn], N; \n\nint main() {\n    ios::sync_with_stdio(false); \n    cin.tie(0); cout.tie(0); \n    cin >> N;\n    rep(i, 1, N) cin >> a[i], sum[i] = sum[i - 1] + a[i];\n    ll ans = 1e18; \n    //\u5206\u522b\u8868\u793a\u4e3aL\u7684\u201c\u4e2d\u70b9\u201d\uff0cR\u7684\u201c\u4e2d\u70b9\u201d\uff0c\u4ee5\u53ca\u56db\u6bb5\u548c\n    ll mid1 = 1, mid2 = 2, first_sum, second_sum, third_sum, fourth_sum; \n    for (ll i = 2; i <= N - 2; i++) {\n    \t// 1 - i is the first half, while i + 1 - N is the second half;\n    \tfirst_sum = sum[mid1], second_sum = sum[i] - sum[mid1]; \n    \tll temp = abs(first_sum - second_sum), temp_mid = mid1; \n    \t// 1 ~ mid is first_sum, mid + 1 ~ i is second_sum; want to evenly distribute sum1 and sum2; \n    \tfor (ll l = temp_mid + 1; l <= i - 1; l++) {\n    \t\tfirst_sum += a[l];\n    \t\tsecond_sum -= a[l]; \n    \t\tif (abs(first_sum - second_sum) <= temp) temp = abs(first_sum - second_sum), mid1 = l; \n    \t\telse break; \n    \t} \n    \tthird_sum = sum[mid2] - sum[i], fourth_sum = sum[N] - sum[mid2]; \n    \ttemp = abs(third_sum - fourth_sum), temp_mid = mid2;\n    \tfor (ll r = temp_mid + 1; r <= N - 1; r++) {\n    \t\tthird_sum += a[r], fourth_sum -= a[r]; \n    \t\tif (abs(third_sum - fourth_sum) <= temp) temp = abs(third_sum - fourth_sum), mid2 = r;\n    \t\telse break;\n    \t}  \n    \tll minn = min(min(sum[mid1], sum[i] - sum[mid1]), min(sum[mid2] - sum[i], sum[N] - sum[mid2])); \n    \tll maxx = max(max(sum[mid1], sum[i] - sum[mid1]), max(sum[mid2] - sum[i], sum[N] - sum[mid2])); \n    \tans = min(ans, maxx - minn); \n    }\n    cout << ans << endl; \n    return 0; \n}\n```",
        "postTime": 1600918640,
        "uid": 306962,
        "name": "MVP_Harry",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT4167 \u3010[ARC100B] Equal Cut\u3011"
    },
    {
        "content": "### \u5927\u610f\n\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $ n $ \u7684\u6570\u7ec4 $ a $ \uff08 $ n \\geq 4 $ \uff09\u3002\n\n\u628a\u8fd9\u4e2a\u6570\u7ec4\u5206\u4e3a\u56db\u6bb5\uff0c\u8bb0\u5f55\u8fd9\u56db\u6bb5\u7684\u548c\u5206\u522b\u662f $ p $ \uff0c $ q $ \uff0c $ r $ \uff0c $ s $ \u3002\n\n\u6c42 $ \\max\\{p,q,r,s\\} - \\min\\{p,q,r,s\\} $ \u7684\u6700\u5c0f\u503c\u3002\n\n### \u601d\u8def\n\n\u5148\u8003\u8651\u679a\u4e3e\u5728\u54ea\u91cc\u5c06\u8fd9\u4e2a\u6570\u7ec4\u5206\u6210\u4e24\u6bb5\uff0c\u5c06\u8fd9\u4e24\u6bb5\u518d\u5206\u522b\u8fd9\u6837\uff1a\u5c06\u8fd9\u6bb5\u5206\u4e3a\u5dee\u503c\u6700\u5c0f\u4e24\u6bb5\uff0c\u6700\u591a\u6709\u4e24\u79cd\u60c5\u51b5\u3002\n\n\u628a\u5de6\u8fb9\u7684\u4e24\u79cd\u60c5\u51b5\u548c\u53f3\u8fb9\u7684\u4e24\u79cd\u60c5\u51b5\u4e00\u4e00\u5339\u914d\u51fa\u73b0\u56db\u79cd\u60c5\u51b5\uff0c\u8fd9\u5c31\u662f\u5f53\u524d\u6765\u770b\u53ef\u80fd\u6700\u4f18\u7684\u56db\u79cd\u89e3\u3002\n\n\u6613\u8bc1\u5982\u679c\u7b2c\u4e8c\u6b21\u5206\u4e3a\u7684\u4e24\u6bb5\u5dee\u503c\u4e0d\u662f\u6700\u5c0f\u7684\uff0c\u5dee\u503c\u6700\u5c0f\u7684\u65b9\u6848\u4e00\u5b9a\u4e0d\u52a3\u3002\n\n### \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,s,l;\n#define f(i,j,k) for(register int i=j;i<=k;++i)\n#define g(i,j,k) for(register int i=j;i>=k;--i)\n#define rcll register const long long\nlong long a[202020];\nlong long ans,p1,p2,q1,q2,r1,r2,s1,s2;\nlong long Min(rcll& x,rcll& y){return x<y?x:y;}\nlong long Max(rcll& x,rcll& y){return x>y?x:y;}\nlong long ask(rcll& p,rcll& q,rcll& r,rcll& s){return Max(Max(p,q),Max(r,s))-Min(Min(p,q),Min(r,s));}\nvoid doing(int l,int r,long long& x1,long long& x2,long long& y1,long long& y2){\n\tint le=l,ri=r,mid;\n\twhile(le<ri){\n\t\tmid=(le+ri+1)/2;\n\t\tif(a[mid]-a[l-1]<=a[r]-a[mid-1])le=mid;\n\t\telse ri=mid-1;\n\t}\n\tx1=a[le]-a[l-1];y1=a[r]-a[le];\n\t++le;\n\tx2=a[le]-a[l-1];y2=a[r]-a[le];\n}\nint main(){\n\tcin>>n;\n\tf(i,1,n)scanf(\"%lld\",&a[i]);\n\tf(i,1,n)a[i]+=a[i-1];\n\tans=a[n];\n\tf(i,2,n-2){\n\t\tdoing(1,i,p1,p2,q1,q2);\n\t\tdoing(i+1,n,r1,r2,s1,s2);\n\t\tans=Min(ans,Min(ask(p1,q1,r1,s1),ask(p1,q1,r2,s2)));\n\t\tans=Min(ans,Min(ask(p2,q2,r1,s1),ask(p2,q2,r2,s2)));\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1640238776,
        "uid": 218376,
        "name": "IloveSurtr",
        "ccfLevel": 7,
        "title": "AT4167"
    }
]