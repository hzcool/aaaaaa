[
    {
        "content": "$\\text{Updated on 2023.02.14:}$ \u611f\u8c22\u8bc4\u8bba\u533a\u8001\u54e5\u6307\u51fa\u95ee\u9898\uff0c\u73b0\u5df2\u4fee\u6539\u3002\n\n---\n\n\u8bb0 $f(k) = 1 + 2 + \\cdots + k = \\dfrac12k(k+1)$\u3002\n\n\u9996\u5148\uff0c$f(2n)$ \u4e00\u5b9a\u662f $n$ \u7684\u500d\u6570\uff0c\u6240\u4ee5\u4e00\u5b9a\u6709\u89e3\u3002\n\n$n \\mathop{|} f(k)$\uff0c\u5219 $2n \\mathop{|} k(k+1)$\u3002\n\n\u8bbe $d$ \u4e3a $k$ \u548c $2n$ \u7684\u516c\u56e0\u6570\uff0c\u5e76\u8bb0 $k^\\prime = \\dfrac k d,\\ n^\\prime = \\dfrac{2n}{d}$\u3002\n\n\u73b0\u8981\u6c42\u8fd9\u4e2a $d$ \u6ee1\u8db3 $k + 1$ \u662f $n^\\prime$ \u7684\u500d\u6570\u3002\u8fd9\u6837\u7684 $d$ \u5fc5\u5b9a\u5b58\u5728\uff0c\u56e0\u4e3a $d = \\gcd(k, 2n)$ \u603b\u6ee1\u8db3\u6761\u4ef6\u3002\n\n\u6b64\u65f6\uff0c\u4e0b\u9762\u7684\u65b9\u7a0b\u7ec4\u6210\u7acb\uff1a\n\n$$\\begin{cases}\nk \\equiv 0 &\\pmod d \\\\\nk \\equiv -1 &\\pmod{n^\\prime}\n\\end{cases}$$\n\n\u5bf9\u4e8e\u4e00\u4e2a\u7ed9\u5b9a\u7684 $d$\uff0c\u6ee1\u8db3\u4e0a\u9762\u65b9\u7a0b\u7ec4\u7684 $k$ \u5747\u6ee1\u8db3 $n \\mathop{|} f(k)$\uff1b\u5bf9\u4e8e\u4e00\u4e2a\u7ed9\u5b9a\u7684 $k$ \u6ee1\u8db3 $n \\mathop{|} f(k)$\uff0c\u4e0a\u9762\u5df2\u6307\u51fa\u5fc5\u7136\u5b58\u5728\u4e00\u4e2a $d$ \u4f7f\u5f97\u4e0a\u9762\u65b9\u7a0b\u7ec4\u6210\u7acb\uff0c\u5373\u5fc5\u7136\u5b58\u5728\u4e00\u4e2a $d$ \u80fd\u627e\u5230\u8fd9\u4e2a $k$\u3002\n\n\u6240\u4ee5\uff0c\u8003\u8651\u679a\u4e3e $d$\uff0c\u89e3\u51fa\u5bf9\u5e94\u65b9\u7a0b\u7ec4\u7684\u6700\u5c0f\u6b63\u6574\u6570\u89e3\uff0c\u8fd9\u4e9b\u89e3\u4e2d\u7684\u6700\u5c0f\u5373\u4e3a\u6240\u6c42\u7684\u6700\u5c0f\u7684 $k$\u3002\n\n$d$ \u662f $2n$ \u7684\u56e0\u6570\uff0c\u6240\u4ee5 $O(\\sqrt n)$ \u679a\u4e3e\u5373\u53ef\u3002\u6269\u5c55\u6b27\u51e0\u91cc\u5f97\u7b97\u6cd5\u89e3\u51fa $k$ \u7684\u6700\u5c0f\u6b63\u6574\u6570\u89e3\u7684\u590d\u6742\u5ea6\u662f $O(\\log n)$\uff0c\u800c\u636e AT \u5b98\u65b9\u9898\u89e3\uff0c$2 \\times 10^{15}$ \u8303\u56f4\u5185\u7684\u6570\u56e0\u6570\u4e2a\u6570\u4e0d\u8d85\u8fc7 $30720$\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u3002\n\n\u5b9e\u73b0\u65f6\u8981\u6ce8\u610f long long \u53ef\u80fd\u662f\u4e0d\u591f\u7684\u3002\u6211\u5f00\u4e86 __int128\u3002",
        "postTime": 1667284516,
        "uid": 118109,
        "name": "whhsteven",
        "ccfLevel": 7,
        "title": "AT_ACL1B \u9898\u89e3"
    },
    {
        "content": "## \u524d\u8a00\n\n\u4e00\u5f00\u59cb\u6ca1\u770b\u51fa\u6765\u662f exgcd \u677f\u5b50\u9898\uff0c\u4ee5\u4e3a\u662f\u50cf\u539f\u6839\u4e00\u6837\u53ef\u4ee5\u8bc1\u660e\u8981\u7b97\u7684\u503c\u5f88\u5c0f\uff0c\u7136\u540e\u5c31\u767d\u7ed9\u4e86\u5f88\u4e45\u3002\u4e0d\u8fc7\u95ee\u9898\u4e0d\u5927\u3002\n\n## \u9898\u610f\n\n\u7ed9\u5b9a $n$\uff0c\u6c42\u6ee1\u8db3 $n\\mid\\displaystyle\\sum_{i=1}^{k}i$ \u7684\u6700\u5c0f\u7684 $k$\u3002\n\n## \u601d\u8def\n\n\u5148\u63a8\u5f0f\u5b50\u3002\n\n$$n\\mid\\displaystyle\\sum_{i=1}^{k}i$$\n$$n\\mid\\dfrac{k\\times(k+1)}{2}$$\n$$2\\times n\\mid k\\times(k+1)$$\n\u8fd9\u4e2a\u4e1c\u897f\u53ef\u4ee5\u627e\u4e00\u4e2a $a,b$\uff0c\u4f7f\u5f97\n\n$$a\\times b=2\\times n$$\n\n\u5219\n$$\n\\begin{cases}\nk\\equiv 0\\mod a\\\\\nk+1\\equiv 0\\mod b\n\\end{cases}$$\n\n\u90a3\u4e48\u4ee4 $k=a\\times x$\uff0c\u5219\n$$a\\times x\\equiv -1\\mod b$$\n\n\u8fd9\u5c31\u662f\u5f88\u6807\u51c6\u7684\u540c\u4f59\u65b9\u7a0b\u7684\u5f62\u5f0f\u4e86\u3002\u679a\u4e3e $2\\times n$ \u7684\u7ea6\u6570\uff0c\u7136\u540e\u6c42\u4e00\u4e2a\u6700\u5c0f\u7684 $a\\times x$ \u5c31\u53ef\u4ee5\u4e86\u3002\u663e\u7136\u4f1a\u7206 `long long`\uff0c\u8981\u7528 `__int128`\u3002\u6ce8\u610f\u5230 $2\\times n-1$ \u4e00\u5b9a\u662f\u4e00\u4e2a\u89e3\uff0c\u6240\u4ee5\u53ef\u4ee5\u5c06\u7b54\u6848\u8bbe\u4e3a $2\\times n-1$\uff0c\u8d85\u51fa\u8fd9\u4e2a\u503c\u76f4\u63a5\u9000\u51fa\uff0c\u6240\u4ee5\u7b54\u6848\u4e0d\u4f1a\u7206 `long long`\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $O(\\sqrt n\\log n)$\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nll ans;\n__int128 exgcd(__int128 a,__int128 b,__int128&x,__int128&y)\n{\n\tif(!b)\n\t{\n\t\tx=1,y=0;\n\t\treturn a;\n\t}\n\t__int128 g=exgcd(b,a%b,y,x);\n\ty-=a/b*x;\n\treturn g;\n}\nll calc(ll a,ll b)\n{\n\t__int128 x,y,g=exgcd(a,b,x,y);\n\tif((b-1)%g)\n\t\treturn 1e18;\n\tassert(g==1);\n\tx=(x%b*(b-1)%b+b)%b;\n\tif(!x)\n\t\tx+=b;\n\tif(a*x>ans)\n\t\treturn 1e18;\n\treturn a*x;\n}\nint main()\n{\n\tll n;\n\tscanf(\"%lld\",&n);\n\tif(n==1)\n\t{\n\t\tprintf(\"1\");\n\t\treturn 0;\n\t}\n\tn*=2;\n\tans=n-1;\n\tfor(int i=1;1ll*i*i<=n;i++)\n\t\tif(!(n%i))\n\t\t\tans=min(ans,min(calc(i,n/i),calc(n/i,i)));\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1681480951,
        "uid": 132424,
        "name": "\u826f\u5fc3WA\u9898\u4eba",
        "ccfLevel": 7,
        "title": "ACL1-problem B"
    },
    {
        "content": "\n$$\n\\begin{array}{l} \n\\because   n |(1+2+\\cdots k)=n|\\frac{k(k-1)}{2} \\\\\n\\therefore 2n|k(k-1)\n\\end{array} \n$$\n\n\u5c06 $2n$ \u5206\u89e3\u8d28\u56e0\u6570\uff0c\u5f97\u5230 $a$ \u548c $b$ \uff0c\u4f7f\u5f97 $a \\times b = 2n$ \u3002\n\n---\n\n\u5f15\u7406\uff1a $\\forall k \\in N^*,\\gcd (k+1, k) = 1$ \u3002\n\n- \u8bc1\u660e\uff1a\n\n\u5f53 $k = 1$ \u65f6\uff0c\u663e\u7136\u6210\u7acb\u3002\n\n\u5f53 $k > 1$ \u65f6\uff0c\u7531\u6b27\u51e0\u91cc\u5f97\u7b97\u6cd5( $\\gcd(a, b) = \\gcd(b, a \\bmod b ) $ ) \u5f97\uff1a $\\gcd (k+1, k) = \\gcd (k,1) = 1$\u3002\n\n\u5f97\u8bc1\u3002\n\n---\n\n\u56e0\u6b64\uff0c$k$ \u548c $k+$1 \u6240\u80fd\u63d0\u4f9b\u7684\u8d28\u56e0\u5b50\u4e00\u5b9a\u4e0d\u540c\u3002\n\n\u5047\u8bbe $a | k$ \uff0c $b | (k+1)$ \uff0c\u5c31\u80fd\u5217\u51fa\u4e0b\u9762\u7684\u5f0f\u5b50\uff1a\n\n$$\n\\begin{array}{l} \n  \\left\\{\\begin{matrix} \n  k=ax \\\\\nk+1=by\n\\end{matrix}\\right.    \n\\end{array} \n$$\n\n\u4e24\u5f0f\u53d8\u6362\u4e00\u4e0b\u5373\u5f97\n\n$$\nax - by = 1\n$$\n\n\u7528 exgcd \u6c42\u89e3\u8be5\u65b9\u7a0b\u7ec4\u5373\u53ef\uff0c$k$ \u5373\u4e3a $ax$ \u7684\u6700\u5c0f\u503c\u3002\n\n---\n\n- \u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define ll __int128\n// \u4e00\u5f00\u59cb\u6ca1\u5f00__int128\u76f4\u63a5WA\u4e86\u4e00\u5806\n\ninline __int128 read()\n{\n    __int128 x = 0, f = 1;\n    char ch = getchar();\n    while(ch < '0' || ch > '9')\n    {\n        if(ch == '-') f = -1;\n        ch = getchar();\n    }\n    while (ch >= '0' && ch <= '9')\n    {\n        x = x * 10 + ch - '0';\n        ch = getchar();\n    }\n    return x * f;\n}\n\nvoid write(__int128 x)\n{\n    if(!x) return;\n    write(x / 10);\n    putchar(x % 10 + '0');\n}\n\nll n, ans;\n\ninline ll mul(ll a, ll b, ll p) \n{\n    ll res = 0;\n    while(b)\n    {\n        if(b & 1) res = (res + a) % p;\n        a = (a + a) % p;\n        b >>= 1;\n    }\n    return res;\n}\n\nll exgcd(ll a, ll b, ll &x, ll &y)\n{\n    if(b == 0)\n    {\n        x = 1, y = 0;\n        return a;\n    }\n\n    ll d = exgcd(b, a % b, x, y), z = x;\n    x = y, y = z - (a / b) * y;\n    return d;\n}\n\n// solve ax + by = c\nll solve(ll a, ll b, ll c)\n{\n    ll x, y;\n    ll d = exgcd(a, b, x, y);\n    if(c % d != 0) return 1e30;\n    ll mod = b / d; //\u53d6\u5230\u8be5\u65b9\u7a0b\u7ec4\u7684\u6700\u5c0f\u6b63\u89e3\n    x = mul((c / d % mod + mod) % mod, (x % mod + mod) % mod, mod);\n    //\u52a0\u8fd9\u4e48\u591amod\u662f\u56e0\u4e3a\u65b9\u7a0b\u7ec4\u89e3\u51fa\u6765\u4f1a\u51fa\u8d1f\u6570\u89e3\n\n    return a * x;\n}\n\nint main()\n{\n    n = read();\n\n    n <<= 1;\n    ans = n - 1;\n\n    //\u8fd9\u91cc\u6015i*i\u76f4\u63a5\u70b8\u6389\u5c31\u79fb\u4e86\u4e2a\u9879\n    for(ll i = 2; i <= n / i; i ++ )\n    {\n        if(n % i == 0)\n        {\n            ll a = i, b = n / i;\n            ll c = b - 1;   //\u8fd9\u91cc\u6211\u53d8\u6362\u51fa\u7684\u5f0f\u5b50\u548c\u4e0a\u9762\u4e0d\u592a\u4e00\u6837\uff0c\u65b9\u7a0b\u7ec4\u4e3a ax-by=b-1\n            ans = min(ans, solve(a, b, c));\n\n            a = n / i, b = i;\n            c = b - 1;\n            ans = min(ans, solve(a, b, c));\n        }\n    }\n\n    write(ans);\n    \n    return 20080113;\n}\n```",
        "postTime": 1678336763,
        "uid": 755337,
        "name": "crimson000",
        "ccfLevel": 4,
        "title": "AT_acl1_b\u9898\u89e3"
    },
    {
        "content": "## \u5c0f\u849f\u84bb\u7b2c\u4e00\u6b21\u5199\u9898\u89e3\uff0c\u8bf7\u5927\u4f6c\u4eec\u591a\u591a\u89c1\u8c05\u3002\n\u79fb\u4e0b\u9879\uff1a$k(k+1)\\equiv 0(\\bmod2n) $\u3002\n\n\u663e\u7136 $k$ \u548c $k+1$ \u662f\u4e92\u8d28\u7684\uff0c\u6240\u4ee5 $k$ \u548c $k+1$ \u63d0\u4f9b\u7684\u7d20\u56e0\u5b50\u662f\u5b8c\u5168\u72ec\u7acb\u7684\u3002\u56e0\u6b64\u6211\u4eec\u8003\u8651\u5c06 $2n$ \u5206\u6210 $A\u00d7B$ \uff0c\u53ea\u8981\u5b58\u5728 $A$ \u548c $B$ \u5206\u522b\u662f $k$ \u548c $k+1$ \u7684\u56e0\u5b50\uff0c$k$ \u5c31\u5408\u6cd5\u3002\n\n\u53cd\u8fc7\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528 $A$ \u548c $B$ \u6c42\u51fa $k$ \uff1a\n$\\begin{cases} k\\equiv0\\pmod{A}\\\\ k\\equiv-1\\pmod{B} \\end{cases}$\n \n\n\u5373\u6c42\u89e3 $Ax+By=B-1$ \uff0c\u6c42\u51fa  $x_{min}$ \n  \u5c31\u53ef\u4ee5\u5f97\u5230 $k_{min}=Ax_{min}$ \uff0c\u4f7f\u7528 exgcd \u5373\u53ef\u3002\n```cpp\n#include<bits/stdc++.h>//\u4e07\u80fd\u5934\u4e07\u5c81\uff01\nusing namespace std;\ntypedef long double DB;typedef long long LL;\n\nLL n,ans;\n\ninline LL Mul(LL x,LL y,LL MOD) {return (x*y+MOD-(LL)((DB)x/MOD*y)*MOD)%MOD;}\nLL exgcd(LL a,LL b,LL &x,LL &y){\n    if (!b) {x=1;y=0;return a;}\n    LL r=exgcd(b,a%b,y,x);y-=a/b*x;return r;\n}\nLL Solve(LL A,LL B,LL C){\n    LL x,y,r=exgcd(A,B,x,y);if (C%r) return 1e18;\n    LL T=B/r;x=Mul((C/r)%T,x%T,T);\n    if ((DB)A*x>1e18) return 1e18;return A*x;\n}\nint main(){\n    scanf(\"%lld\",&n);n<<=1;ans=n-1;\n    for (int S=sqrt(n),i=2;i<=S;i++)if (!(n%i)) ans=min(ans,Solve(n/i,i,i-1)),ans=min(ans,Solve(i,n/i,n/i-1));\n    printf(\"%lld\\n\",ans);\n    return 0;//\u5b8c\u7ed3\u6492\u82b1\u3002\n}\n```\n",
        "postTime": 1672398046,
        "uid": 791171,
        "name": "zzh0755",
        "ccfLevel": 0,
        "title": "the first \u9898\u89e3"
    }
]