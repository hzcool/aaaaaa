[
    {
        "content": "### \u9898\u610f\n\n\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570 $X$ \u548c\u4e00\u4e2a\u957f\u5ea6\u4e3a $N$ \u7684\u6570\u7ec4 $a$\uff0c\u4f60\u9700\u8981\u5c06 $a$ \u4e2d\u4e3a $-1$ \u7684\u5143\u7d20\u4fee\u6539\u4e3a\u4e00\u4e2a\u4e0d\u5c0f\u4e8e $0$ \u4e14\u4e0d\u5927\u4e8e $X$ \u7684\u6574\u6570\uff0c\u4f7f\u5f97 $ a_1\\ \\text{\\ XOR\\ }\\ a_2\\ \\text{\\ XOR\\ }\\ \\cdots\\ \\text{\\ XOR\\ }\\ a_N\\ =\\ X $\u3002\u82e5\u65e0\u89e3\uff0c\u8f93\u51fa $-1$\u3002\n\n### \u5206\u6790\n\n\u6211\u4eec\u53ef\u4ee5\u5f00\u4e00\u4e2a\u53d8\u91cf $k$\uff0c\u5b58\u50a8 $a$ \u4e2d\u6240\u6709\u4e0d\u4e3a $-1$ \u7684\u5143\u7d20\u76f8\u5f02\u6216\u540e\u7684\u503c\uff0c  \n\u90a3\u4e48 $k\\ \\text{\\ XOR\\ }\\ X$ \u5c31\u662f\u6211\u4eec\u8981\u4fee\u6539\u540e\u7684\u6240\u6709\u5143\u7d20\u76f8\u5f02\u6216\u540e\u7684\u503c\u3002\n\n\u6211\u4eec\u4ee4 $t=k\\ \\text{\\ XOR\\ }\\ x$\uff0c$p$ \u4e3a $a$ \u4e2d $-1$ \u7684\u4e2a\u6570\u3002\n\n\u5f53 $t$ \u5728\u4e8c\u8fdb\u5236\u4e0b\u7684\u957f\u5ea6\u5927\u4e8e $X$ \u5728\u4e8c\u8fdb\u5236\u4e0b\u7684\u957f\u5ea6\u65f6\uff0c\u56e0\u4e3a\u4fee\u6539\u540e\u7684\u5143\u7d20\u4e0d\u80fd\u5927\u4e8e $X$\uff0c\u6240\u4ee5\u663e\u7136\u65e0\u89e3\uff0c\u8f93\u51fa `-1`\u3002\n\n\u5f53 $p=0$ \u65f6\uff0c\u82e5 $t \\neq 0$\uff0c\u5219\u65e0\u89e3\uff0c\u8f93\u51fa `-1`\uff1b\u82e5 $t=0$\uff0c\u76f4\u63a5\u8f93\u51fa\u6570\u7ec4 $a$ \u5373\u53ef\u3002\n\n\u5f53 $p>0$ \u4e14 $t\\le X$ \u65f6\uff0c\u5c06 $a$ \u4e2d\u4efb\u610f\u4e00\u4e2a\u4e3a $-1$ \u7684\u5143\u7d20\u4fee\u6539\u4e3a $t$\uff0c\u5269\u4f59\u4e3a $-1$ \u7684\u5143\u7d20\u4fee\u6539\u4e3a $0$ \u540e\uff0c\u8f93\u51fa\u6570\u7ec4 $a$ \u5373\u53ef\u3002\n\n\u5f53 $t>X$ \u65f6\uff0c\u6211\u4eec\u65e0\u6cd5\u76f4\u63a5\u5c06\u4e00\u4e2a\u4e3a $-1$ \u7684\u5143\u7d20\u4fee\u6539\u4e3a $t$\uff0c\u4f7f\u5f97 $ a_1\\ \\text{\\ XOR\\ }\\ a_2\\ \\text{\\ XOR\\ }\\ \\cdots\\ \\text{\\ XOR\\ }\\ a_N\\ =\\ X $\uff0c\u56e0\u4e3a\u4fee\u6539\u540e\u7684\u5143\u7d20\u4e0d\u80fd\u5927\u4e8e $X$\u3002  \n\u6211\u4eec\u53ef\u4ee5\u5c06 $t$ \u5728\u4e8c\u8fdb\u5236\u4e0b\u7684\u6700\u9ad8\u4f4d\u5206\u79bb\u51fa\u6765\uff0c\u518d\u628a\u5269\u4f59\u90e8\u5206\u8d4b\u503c\u7ed9 $a$ \u4e2d\u4e3a $-1$ \u7684\u5143\u7d20\u3002\u6b64\u65f6\u81f3\u5c11\u9700\u4fee\u6539 $2$ \u4e2a\u5143\u7d20\uff0c\u6240\u4ee5\u5f53 $t>X$ \u4e14 $p<2$ \u65f6\u65e0\u89e3\uff0c\u8f93\u51fa `-1`\u3002\n\n### \u4ee3\u7801\n\n```c++\n#include <bits/stdc++.h>\nusing namespace std;\nint a[500005];\nint main(){\n\tios::sync_with_stdio(0);\n\tint i,n,x,p=0,k=0,t,l,lent,lenx;\n\tcin >> n >> x;\n\tfor(i=1;i<=n;i++){\n\t\tcin >> a[i];\n\t\tif(a[i]==-1) p++;//\u8bb0\u5f55-1\u7684\u4e2a\u6570\n\t\telse k=k^a[i];//\u8bb0\u5f55\u521d\u59cb\u65f6k\u7684\u503c\n\t}\n\tt=x^k,lent=log2(t),lenx=log2(x);\n\t//lent\u8868\u793at\u5728\u4e8c\u8fdb\u5236\u4e0b\u7684\u957f\u5ea6\uff0clenx\u8868\u793ax\u5728\u4e8c\u8fdb\u5236\u4e0b\u7684\u957f\u5ea6\n\tif(lenx<lent){//t\u5728\u4e8c\u8fdb\u5236\u4e0b\u7684\u957f\u5ea6\u5927\u4e8ex\u5728\u4e8c\u8fdb\u5236\u4e0b\u7684\u957f\u5ea6\u65f6\n\t\tcout << -1;\n\t}\n\telse if(p==0){//p=0\u65f6\n\t\tif(t!=0) cout << -1;\n\t\telse for(i=1;i<=n;i++) cout << a[i] << ' ';\n\t}\n\telse if(t<=x){//p>0\u4e14t<=x\u65f6\n\t\tfor(i=1;i<=n;i++){\n\t\t\tif(a[i]==-1) a[i]=t,t=0;\n\t\t\tcout << a[i] << ' ';\n\t\t}\n\t}\n\telse if(p>=2){//t>x\u4e14p>=2\u65f6\n\t\tl=pow(2,lent),t=t^l;\n\t\tfor(i=1;i<=n;i++){\n\t\t\tif(a[i]==-1){\n\t\t\t\tif(l!=0) a[i]=l,l=0;\n\t\t\t\telse a[i]=t,t=0;\n\t\t\t}\n\t\t\tcout << a[i] << ' ';\n\t\t}\n\t}//t>x\u4e14p<2\u65f6\n\telse cout << -1;\n\treturn 0;\n}\n```",
        "postTime": 1671021090,
        "uid": 744687,
        "name": "Coffee_zzz",
        "ccfLevel": 0,
        "title": "AT_ttpc2019_c XOR Filling \u9898\u89e3"
    }
]