[
    {
        "content": "### [\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT4733)\n___\n### \u601d\u8def\n\n\u5206\u5c42\u56fe\u8dd1\u6700\u77ed\u8def\u3002\n\n___\n\n$\u2235$ \u9898\u76ee\u4e2d\u8bf4\u6bcf\u6b21\u53ea\u80fd\u8d70 $3$ \u6b65\uff0c $\u2234$ \u6211\u4eec\u53ef\u4ee5\u628a\u4e00\u6761\u8fb9\u62c6\u6210\u4e09\u6761\u8fb9\uff0c\n\u62c6\u6210 $1$ \u5230 $2$\uff0c$2$ \u5230 $3$\uff0c$3$ \u5230 $2$ \u7684\u4e09\u6761\u8fb9\u6743\u4e3a $1$ \u7684\u8fb9\u3002\n\n\u8fde\u8fb9\u65f6\uff0c\u53ef\u4ee5\u628a\u8fb9\u5efa\u5728\u6240\u6709\u8fb9\u7684\u540e\u9762\uff1a\n\n```cpp\nadd (x, y + n) ;\nadd (x + n, y + n * 2) ;\nadd (x + n * 2, y) ;\n```\n\n\u7136\u540e\u8dd1\u4e00\u904d\u4ece $S$ \u5f00\u59cb\u7684\u6700\u77ed\u8def\u3002\n\n$\u2235$ \u56e0\u4e3a\u6bcf\u4e2a\u70b9\u90fd\u8dd1\u4e86\u4e09\u904d\uff0c$\u2234$ \u6700\u7ec8\u7b54\u6848 $val_t \\div 3$\u3002\n \n\u5176\u4ed6\u9898\u89e3\u8dd1\u6700\u77ed\u8def\u5927\u591a\u6570\u7528\u7684\u662f `Dijkstra `\uff0c\u6211\u5c31\u7528 `SPFA` \u5199\u5427\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <stdio.h>\n#include <cstring>\n#include <queue>\n\nusing namespace std;\n\nconst int N = 3e5 + 10; // \u8fd9\u91cc\u6570\u7ec4\u8981\u5f00\u4e09\u500d\uff0c\u56e0\u4e3a\u8981\u8fde\u4e09\u6761\u8fb9\u3002\nconst int INF = 0x3f3f3f3f;\n\nvoid add (int, int) ;\nvoid SPFA (int) ;\n\nbool f[N];\n\nint n, m;\nint s, t;\nint tot;\nint val[N];\nint now[N], pre[N], son[N];\n\nqueue <int> q;\n\nmain () {\n    scanf (\"%d %d\", &n, &m) ;\n    \n    for (int x, y; m; -- m) {\n        scanf (\"%d %d\", &x, &y) ;\n        \n        // \u8fde\u4e09\u6761\u8fb9\u3002\n        add (x, y + n) ;\n        add (x + n, y + n * 2) ;\n        add (x + n * 2, y) ;\n    }\n        \n    scanf (\"%d %d\", &s, &t) ;\n    \n    SPFA (s) ;\n    \n    if (val[t] == INF)\n        puts (\"-1\") ;\n    else\n        printf (\"%d\", val[t] / 3) ; // \u6700\u7ec8\u7b54\u6848\u9664\u4ee5\u4e09\u3002\n}\n\nvoid add (int x, int y) { // \u5efa\u56fe\u3002\n    pre[++ tot] = now[x];\n    son[tot] = y;\n    now[x] = tot;\n}\n\nvoid SPFA (int s) { // SPFA \u6c42\u6700\u77ed\u8def\u3002\n    memset (val, 0x3f, sizeof val) ;\n    val[s] = 0;\n    q.push (s) ;\n    \n    for (; !q.empty () ;) {\n        int x = q.front () ;\n        q.pop () ;\n        f[x] = 1;\n        \n        for (int i = now[x]; i; i = pre[i]) {\n            int y = son[i];\n            \n            if (val[y] > val[x] + 1) {\n                val[y] = val[x] + 1;\n                   \n                if (!f[y]) {\n                    f[y] = 1;\n                    q.push (y) ;\n                }\n            }\n        }\n    }\n}\n```\n\n### \u5b8c\u7ed3\u6492\u82b1 $\\sim\\sim\\sim$\n",
        "postTime": 1659086746,
        "uid": 661638,
        "name": "liukejie",
        "ccfLevel": 0,
        "title": "AT4733 [ABC132E] Hopscotch Addict \u9898\u89e3"
    },
    {
        "content": "\u5f88\u5bb9\u6613\u60f3\u5230\uff0c\u5bf9\u4e8e\u539f\u56fe\uff0c\u6bcf\u4e2a\u70b9\u4e09\u6b21\u4ee5\u540e\u80fd\u5230\u8fbe\u7684\u70b9\u91cd\u65b0\u5efa\u56fe\uff0c\u7136\u540e\u5728\u65b0\u7684\u56fe\u4e0a\u8dd1\u6700\u77ed\u8def\u3002\n\n\u6211\u4e00\u4ea4\uff0c\u53d1\u73b0\u8d85\u65f6\u4e86\u3002\n\n\u4e3a\u4ec0\u4e48\u8d85\u65f6\uff1f\uff1f\uff1f\u54e6\uff01\u539f\u6765\u662f\u91cd\u590d\u8fde\u8fb9\u4e86\uff0c\u5728\u5b8c\u5168\u56fe\u4e4b\u7c7b\u7684\u56fe\u4e2d\uff0c\u4e24\u4e2a\u70b9\u4e4b\u95f4\u8d70\u4e09\u6b65\u7684\u65b9\u6848\u53ef\u80fd\u6709\u5f88\u591a\u79cd\uff0c\u4e8e\u662f\u91cd\u8fb9\u4f1a\u6709\u5f88\u591a\u5f88\u591a\uff0c\u9020\u6210\u4e86\u8d85\u65f6\uff0c\u5176\u5b9e\u5c31\u7b97\u4e0d\u8d85\u65f6\uff0c\u7a7a\u95f4\u4e5f\u5f00\u4e0d\u4e0b\u3002\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u60f3\u529e\u6cd5\u4f18\u5316\u8fd9\u4e2a\u95ee\u9898\u3002\n\n\u600e\u4e48\u4f18\u5316\u5462\uff1f\u7531\u4e8e\u5efa\u56fe\u4f1a\u91cd\u590d\uff0c\u53ef\u4ee5\u4e0d\u8981\u5efa\u65b0\u7684\u56fe\uff0c\u5c31\u5728\u539f\u56fe\u4e0a\u505a\u3002\n\n\u73b0\u5728\u8003\u8651\u5982\u4f55\u5728\u539f\u56fe\u4e0a\u505a\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 Saber-Xuhf \u7b97\u6cd5\uff0c\u907f\u514d\u6389\u91cd\u590d\uff0c\u6838\u5fc3\u601d\u60f3\u662f\u628a\u4e00\u4e2a\u70b9\u62c6\u6210\u4e09\u4e2a\uff0c\u8bb0\u4e00\u4e0b\u5230\u8fd9\u4e2a\u70b9\u7684\u6b65\u6570\u819c\u4e09\u540e\u7684\u503c\uff0c\u7b54\u6848\u5c31\u662f\u819c\u96f6\u540e\u62c6\u6210\u7684\u90a3\u4e2a\u70b9\u3002\n\n\u7ec6\u8282\u5c31\u81ea\u5df1\u5b8c\u5584\u5427\u3002\n\n\u6838\u5fc3\u4ee3\u7801:\n\n```cpp\nvoid Saber-Xuhf(){\n    memset(d,0x3f,sizeof(d));\n    memset(v,0,sizeof(v));\n    d[s]=0;\n    q.push(make_pair(0,s));\n    while(q.size()){\n        ll x=q.top().second; q.pop();\n        if(v[x]) continue;\n        v[x]=1;\n        for(ll i=head[x]; i; i=Next[i]){\n            ll y=ver[i],z=edge[i];\n            if(d[y]>d[x]+z){\n                d[y]=d[x]+z;\n                q.push(make_pair(-d[y],y));\n            }\n        }\n    }\n}\n\n```",
        "postTime": 1612241199,
        "uid": 101215,
        "name": "chu_K",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT4733 \u3010[ABC132E] Hopscotch Addict\u3011"
    },
    {
        "content": "## Solution\n\u5206\u5c42\u56fe\u6700\u77ed\u8def\u3002\n\n\u8003\u8651\u6bcf\u6b21\u53ea\u80fd\u8d70\u4e09\u6b65\uff0c\u90a3\u4e48\u628a\u6bcf\u6761\u8fb9\u62c6\u5f00\uff0c\u62c6\u4e3a\u7b2c\u4e00\u6b65\u5230\u7b2c\u4e8c\u6b65\uff0c\u7b2c\u4e8c\u6b65\u5230\u7b2c\u4e09\u6b65\uff0c\u7b2c\u4e09\u6b65\u5230\u7b2c\u4e00\u6b65\u4e09\u6761\u8fb9\u6743\u4e3a\u4e00\u7684\u8fb9\uff0c\u5c31\u53ef\u4ee5\u907f\u514d\u5230\u8fbe\u7ec8\u70b9\u4f46\u6ca1\u6709\u8d70\u5230\u4e09\u7684\u500d\u6570\u6b65\u7684\u60c5\u51b5\u4e86\u3002\n## Do it\n~~\u82f1\u8bed\u4e0d\u597d\u52ff\u55b7\u3002~~\n\n\u5177\u4f53\u53ef\u4ee5\u628a\u70b9\u5efa\u5728\u6240\u6709\u70b9\u7684\u5e8f\u53f7\u4e4b\u540e\uff1a\n```cpp\nadd(u,v+n),add(u+n,v+n+n),add(u+n+n,v);\n```\n\u7136\u540e\u4ece $s\\longrightarrow t$ \u8dd1\u4e00\u904d\u6700\u77ed\u8def\uff0c$\\dfrac{dis_t}{3}$ \u5c31\u662f\u6700\u540e\u7b54\u6848\u4e86\u3002\n\n\u6ce8\u610f\u70b9\u548c\u8fb9\u90fd\u8981\u5f00**\u4e09\u500d**\uff08\u4e3a\u6b64\u6211 $\\color{red}\\text{WA}$ \u4e86\u4e00\u53d1\uff09\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(m+n\\log{n})$\u3002\n\n\u8fd8\u4e0d\u61c2\u53ef\u4ee5\u770b\u6ce8\u91ca\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int M=3e5+1233,N=3e5+1233;//\u5f00\u4e09\u500d\nint n,m,nxt[M],go[M],head[M],s,t,l,g[N];\nbool vis[N];\ninline void add(int u,int v){\n\tnxt[++l]=head[u];\n\thead[u]=l;\n\tgo[l]=v;\n}//\u5efa\u56fe\nstruct qjc{\n\tint dis,pos;\n\tinline bool operator<(const qjc&b)const{\n\t\treturn dis>b.dis;\n\t}\n};\npriority_queue<qjc>q;\ninline void dj(int u){int v;\n\tmemset(g,0x3f,sizeof(g));\n\tq.push({0,u}),g[u]=0;\n\twhile(!q.empty()){\n\t\tu=q.top().pos;q.pop();\n\t\tif(vis[u])continue;\n\t\tvis[u]=1;\n\t\tfor(int j=head[u];j;j=nxt[j])\n\t\t\tif(g[v=go[j]]>g[u]+1){\n\t\t    \tg[v]=g[u]+1;\n\t\t    \tif(!vis[v])q.push({g[v],v});\n\t\t\t}\n\t}\n}//Dijkstra\u5806\u4f18\u5316\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1,x,y;i<=m;i++){\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tadd(x,y+n),add(x+n,y+(n<<1)),add(x+(n<<1),y);\n\t}//\u5efa\u4e09\u6761\u8fb9\n\tscanf(\"%d%d\",&s,&t);\n\tdj(s);//\u6700\u77ed\u8def\n\tprintf(\"%d\",g[t]==0x3f3f3f3f?-1:g[t]/3);\n   \t//\u56e0\u4e3a\u6bcf\u4e2a\u70b9\u90fd\u8d70\u4e86\u4e09\u904d\u6240\u4ee5\u7b54\u6848\u9664\u4ee5\u4e09\n\treturn 0;\n}\n```",
        "postTime": 1646545906,
        "uid": 262322,
        "name": "panyanppyy",
        "ccfLevel": 5,
        "title": "AT4733"
    },
    {
        "content": "\u56e0\u4e3a\u6bcf\u6b21\u53ea\u80fd\u8d70 $3$ \u6b65\n\n\u6211\u4eec\u8fd9\u4e48\u505a\n\n\u5c06\u6bcf\u4e00\u4e2a\u70b9\u62c6\u6210\u4e09\u4e2a\u70b9\uff0c\u6bcf\u4e2a\u70b9\u8868\u793a\u8d70 $3k,3k+1,3k+2$ \u6b65, $k$ \u662f\u6574\u6570\n\n\u7528 bfs \u8dd1\u4e00\u8fb9\u6700\u77ed\u8def\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n+m)$\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<vector>\n#include<queue>\n#define f(x,k) 3*(x-1)+k+1\nstd::vector<int> a[300005];\nint n,m,s,t,dis[300005];\nvoid add(int x,int y){a[x].push_back(y);}\nvoid bfs(int s)\n{\n\tstd::queue<int> q;\n\tfor (int i=1;i<=3*n;i++) dis[i]=1000000000;\n\tdis[s]=0;q.push(s);\n\twhile (!q.empty())\n\t{\n\t\tint v=q.front();q.pop();\n\t\tfor (int i=0;i<a[v].size();i++)\n\t\t{\n\t\t\tint u=a[v][i];\n\t\t\tif (dis[v]+1<dis[u]) dis[u]=dis[v]+1,q.push(u);\n\t    }\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor (int i=1;i<=m;i++)\n\t{\n\t\tint x,y;\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tadd(f(x,0),f(y,1));\n\t\tadd(f(x,1),f(y,2));\n\t\tadd(f(x,2),f(y,0));\n\t}\n\tscanf(\"%d%d\",&s,&t);\n\tbfs(f(s,0));\n\tprintf(\"%d\\n\",dis[f(t,0)]!=1000000000?dis[f(t,0)]/3:-1);\n}\n```\n\u7136\u540e\u5c31 AC \u4e86\n\nQAQ",
        "postTime": 1583052120,
        "uid": 36957,
        "name": "RainFestival",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT4733 \u3010[ABC132E] Hopscotch Addict\u3011"
    },
    {
        "content": "\u770b\u4e86\u4e00\u4e0b\u9898\u89e3\uff0c\u53d1\u73b0\u5168\u662f\u628a\u4e00\u4e2a\u70b9\u62c6\u6210\u4e09\u4e2a\u70b9\u7136\u540e\u8dd1\u5206\u5c42\u56fe\u6700\u77ed\u8def\u7684\uff0c\u4f46\u662f\u6211\u4e00\u770b\u611f\u89c9\u5c31\u662f\u666e\u901a\u7684 bfs\u3002\n\n\u9898\u610f\u662f\u5728\u56fe\u5185\u8be2\u95ee\u4ece $s$ \u5230 $t$ \u662f\u5426\u5b58\u5728\u957f\u5ea6\u4e3a $3$ \u7684\u8def\u5f84\u3002\u4e0d\u59a8\u5f00\u4e00\u4e2a\u6570\u7ec4\uff0c$vis_{i,j}$ \u8868\u793a\u662f\u5426\u5b58\u5728\u4ece\u70b9 $s$ \u51fa\u53d1\uff0c\u662f\u5426\u5b58\u5728\u957f\u5ea6\u6a21 $3$ \u662f $j$ \u7684\u8def\u7ebf\u3002\u90a3\u4e48\u6bcf\u6b21\u66f4\u65b0\u5c31\u662f $vis_{v,(x+1)\\bmod3}=vis_{u,x}$\uff0c\u8fd9\u6837\u590d\u6742\u5ea6\u662f $\\mathcal O(n+m)$ \u7684\u3002\n\n\u5f88\u77ed\u800c\u4e14\u5f88\u5feb\u7684 code\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cassert>\n#include<queue>\n#define siz(x) (int)(x).size()\nusing std::cin;using std::cout;\nconstexpr int kN=1e5+1;\nstd::basic_string<int>g[kN];\nusing pii=std::pair<int,int>;\nbool vis[kN][3];\nint n,m,s,t;\nsigned main(){\n//\tfreopen(\"checkers.in\",\"r\",stdin);\n//\tfreopen(\"checkers.out\",\"w\",stdout);\n\tstd::ios::sync_with_stdio(false);cin.tie(nullptr);\n\tcin>>n>>m;\n\tfor(int i=1,u,v;i<=m;i++)cin>>u>>v,g[u]+=v;\n\tcin>>s>>t;vis[s][0]=true;\n\tstd::queue<pii>q({{s,0}});\n\twhile(!q.empty()){\n\t\tauto[u,x]=q.front();x++;q.pop();\n\t\tfor(int v:g[u])if(!vis[v][x%3]){\n\t\t\tif(v==t&&x%3==0)return cout<<x/3,0;\n\t\t\tvis[v][x%3]=true;\n\t\t\tq.emplace(v,x);\n\t\t}\n\t}\n\tcout<<\"-1\";\n//\tstd::cerr<<\"\\033[33;40muse \"<<clock()<<\" ms\\033[37;40m\";\n\treturn 0;\n}\n```\n\u7528 `basic_string` \u5b58\u56fe\uff0c\u6bd4 `vector` \u5feb\u4f46\u662f\u7565\u6162\u4e8e\u94fe\u5f0f\u524d\u5411\u661f\uff0c\u8fd8\u6709\u8bed\u6cd5\u7cd6\uff0c\u63d2\u5165\u53ef\u4ee5\u4f7f\u7528 `+=` \u8fd0\u7b97\u7b26\uff0c\u591a\u597d\uff01",
        "postTime": 1654874239,
        "uid": 310818,
        "name": "\u849f\u9171",
        "ccfLevel": 7,
        "title": "AT4733 [ABC132E] Hopscotch Addict \u9898\u89e3"
    },
    {
        "content": "\u5206\u5c42\u56fe\u6700\u77ed\u8def\u3002\n\n\u8003\u8651\u5230 $s$ \u5230 $t$ \u7684\u6700\u77ed\u8def\u957f\u5ea6\u53ef\u80fd $\\nmid$ 3\uff0c\u6240\u4ee5\u5c06\u4e00\u4e2a\u70b9\u5206\u4e3a\u4e09\u4e2a\u70b9 $3k,3k+1,3k+2$ (k \u4e3a\u6b63\u6574\u6570)\uff0c\u5206\u522b\u8868\u793a\u5230\u8fd9\u4e2a\u70b9\u521a\u597d\u8d70\u5b8c\u4e09\u6b65\u3001\u591a\u51fa 1 \u6b65\u3001\u591a\u51fa 2 \u6b65\u3002\n\n\u7136\u540e\u4ece $s$ \u5f00\u59cb\u8dd1\u6700\u77ed\u8def\uff0c$dis_t \\div 3$\uff0c\u9664\u4ee5\u4e09\u662f\u56e0\u4e3a\u5206\u6210\u4e86\u4e09\u4e2a\u70b9\u3002\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<queue> \n#define N 300005\n#define inf 0x7ffffff\n\nusing namespace std;\n\nint n,m,s,t,tot;\nint head[N],dis[N];\nbool vis[N];\n\nstruct edge{\n\tint nxt,to;\n}e[N];\n\nstruct node{\n\tint dis,id;\n\tbool operator <(const node &x) const {return x.dis<dis;}\n};\n\nvoid add(int u,int v){\n\te[++tot].to=v;\n\te[tot].nxt=head[u];\n\thead[u]=tot;\n}\n\nvoid dij(int s){\n\tqueue <node> q;\n\tfor(int i=1;i<=3*n;i++)\n\t\tdis[i]=inf; \n\tq.push((node){0,s});\n\tdis[s]=0;\n\twhile(!q.empty()){\n\t\tint u=q.front().id;\n\t\tq.pop();\n\t\tif(vis[u]) continue;\n\t\tvis[u]=1;\n\t\tfor(int i=head[u];i;i=e[i].nxt){\n\t\t\tint v=e[i].to;\n\t\t\tif(dis[v]>dis[u]+1){\n\t\t\t\tdis[v]=dis[u]+1;\n\t\t\t\tif(!vis[v]) q.push((node){dis[v],v});\n\t\t\t}\n\t\t}\n\t}\n} // \u6700\u77ed\u8def\u57fa\u672c\u64cd\u4f5c \n\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1,u,v;i<=m;i++){\n\t\tscanf(\"%d%d\",&u,&v);\n\t\tadd(u,v+n);\n\t\tadd(u+n,v+2*n);\n\t\tadd(u+2*n,v);\n\t} // \u5efa\u56fe \n\tscanf(\"%d%d\",&s,&t);\n\tdij(s);\n\tprintf(\"%d\",dis[t]==inf?-1:dis[t]/3);// \u5224\u65ad\u662f\u5426\u6709\u89e3 \n\treturn 0;\n}\n```\n",
        "postTime": 1647070227,
        "uid": 224926,
        "name": "\u8ba9\u98ce\u5ffd\u60a0\u4f60",
        "ccfLevel": 0,
        "title": "AT4733 [ABC132E] Hopscotch Addict \u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/AT4733)\n\n## sol\n\n\u5206\u5c42\u56fe\u6700\u77ed\u8def\u3002\n\n\u8003\u8651\u5230\u6bcf\u6b21\u53ea\u80fd\u8d70 $3$ \u6b65\uff0c\u6240\u4ee5\u628a\u6bcf\u6761\u8fb9\u62c6\u5f00\uff0c\u62c6\u4e3a\u7b2c $1$ \u6b65\u5230\u7b2c $2$ \u6b65\uff0c\u7b2c $2$ \u6b65\u5230\u7b2c $3$ \u6b65\uff0c\u7b2c $3$ \u6b65\u5230\u7b2c $1$ \u6b65\u4e09\u6761\u8fb9\uff0c\u5c31\u53ef\u4ee5\u907f\u514d\u5230\u8fbe\u7ec8\u70b9\u4f46\u6ca1\u6709\u8d70\u5230 $3$ \u7684\u500d\u6570\u6b65\u7684\u60c5\u51b5\u4e86\u3002\n\n\u5177\u4f53\u70b9\uff0c\u5efa $x$ \u4e0e $y+n$\u3001$x+n$ \u4e0e $y+2\\times n$ \u3001$x+2\\times n$ \u4e0e $y$ \u4e09\u6761\u8fb9\u3002\n\n\u6700\u7ec8\u7b97\u51fa\u6765\u7684\u7b54\u6848 $step$ \u8981\u9664\u4ee5 $3$\u3002\n\n**\u6b63\u89e3\u4ee3\u7801:**\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,st,en,ans=INT_MAX;\nint nextt[2000005],head[2000005],to[2000005],tot;//\u94fe\u5f0f\u524d\u5411\u661f\n//\u6570\u7ec4\u4e00\u5b9a\u8981\u5f00\u5927\u70b9\uff0c\u56e0\u4e3a\u8981\u62c6\u6210\u4e09\u4e2a\u70b9\nbool vis[2000005];\nstruct node{\n    int x,step;\n};\nvoid add(int x,int y){//\u52a0\u8fb9\n    nextt[++tot]=head[x];\n    to[tot]=y;\n    head[x]=tot;\n}\nqueue<node>q;\nvoid bfs(int st,int en){\n    q.push({st,0});\n    while(!q.empty()){\n        node top=q.front();\n        q.pop();\n        for(int i=head[top.x];i;i=nextt[i]){\n            int v=to[i];\n            if(v==en&&top.step%3==2)\n//\u73b0\u5728\u8d70\u4e00\u6b65\u540e\u5c31\u8d70\u5230\u7ed3\u675f\u70b9\u4e14\u521a\u597d\u5dee\u4e00\u6b65\uff0c\u53ef\u4ee5\u76f4\u63a5\u8f93\u51fa\uff0c\u7b97\u662f\u4e00\u4e2a\u5c0f\u526a\u679d\u3002\n                cout<<(top.step+1)/3,exit(0);\n            if(!vis[v]){\n                q.push({v,top.step+1});\n                vis[v]=1;\n            }\n        }\n    }\n}\nint main(){\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=m;i++){\n        int x,y;\n        scanf(\"%d%d\",&x,&y);\n        add(x,y+n);\n        add(x+n,y+2*n);\n        add(x+2*n,y);\n    }\n    scanf(\"%d%d\",&st,&en);\n    bfs(st,en);\n    cout<<-1;//\u65e0\u89e3\n    return 0;\n}\n```",
        "postTime": 1659945517,
        "uid": 557463,
        "name": "yinpeichu2021",
        "ccfLevel": 5,
        "title": "AT4733 [ABC132E] Hopscotch Addict"
    }
]