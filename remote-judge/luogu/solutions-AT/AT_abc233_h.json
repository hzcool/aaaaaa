[
    {
        "content": "![](https://img1.imgtp.com/2023/03/20/iTv3T3Wg.png)  \n\n\u5148\u4ecb\u7ecd\u4e00\u4e0b\u5207\u6bd4\u96ea\u592b\uff08\uff1f \u8c8c\u4f3c\u5f88\u591a\u4eba\u4e0d\u77e5\u9053\u8fd9\u4e1c\u897f\uff0c\u633a\u5e38\u7528\u7684\u3002    \n\u9996\u5148\u7531\u4e00\u7c7b\u95ee\u9898\u662f\u8fd9\u6837\u7684\uff0c\u5bf9\u4e8e\u5355\u4e2a\u70b9\u7684\u79fb\u52a8\u7684\u8f68\u8ff9\u662f\u56fd\u9645\u8c61\u68cb\u56fd\u738b\u90a3\u6837\u53ef\u4ee5\u53bb\u5230\u76f8\u90bb\u516b\u4e2a\u683c\u5b50\uff0c\u7136\u540e\u70b9 A \u5230\u70b9 B \u7684\u6700\u77ed\u8ddd\u79bb\u3002  \n\u516c\u5f0f\u5c31\u662f $dis=\\max(\\left| x_1-x_2 \\right|,\\left| y_1-y_2 \\right|)$ \u8fd9\u4e2a\u5f88\u663e\u7136\u3002  \n\u7a0d\u5fae\u63a8\u5e7f\u4e00\u4e0b\u5728 n \u7ef4\u5411\u91cf\u4e0a\u662f $dis=\\max(\\left| x_{1i}-x_{2i} \\right|)$\u3002  \n\u5728 OI \u4e2d\u7684\u8fd0\u7528\u53ef\u80fd\u5927\u90e8\u5206\u5c31\u662f\u5207\u6bd4\u96ea\u592b\u8ddd\u79bb\u548c\u66fc\u54c8\u987f\u8ddd\u79bb\u7684\u8f6c\u5316\u5427\n\u8f6c\u5316\u662f\u8fd9\u6837\u7684 :  \n\u66fc\u54c8\u987f\u5750\u6807\u8f6c\u5207\u6bd4\u96ea\u592b\u5750\u6807 $(x,y)$ \u53d8\u4e3a $(x+y,x-y)$\u3002  \n\u5207\u6bd4\u96ea\u592b\u5750\u6807\u8f6c\u66fc\u54c8\u987f\u5750\u6807 $(x,y)$ \u53d8\u4e3a $(\\frac{x+y}{2},\\frac{x-y}{2})$\u3002  \n\u4e09\u7ef4\u4ee5\u4e0a\u5c31\u4e0d\u80fd\u8f6c\u5316\u4e86\uff08\uff1f \u4e0d\u592a\u4f1a\u8bc1\u660e\uff0c\u5728\u77e5\u4e4e\u770b\u5230\u4e86\u4e00\u4e2a\u8bf4\u8fd9\u4e2a\u7684\uff0c[\u611f\u5174\u8da3\u53ef\u4ee5\u770b\u770b](https://www.zhihu.com/question/396319776)\u3002   \n\u51e0\u4f55\u4e0a\u662f\u8fd9\u6837\u7684  \n\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb\uff1a  \n![](https://img1.imgtp.com/2023/03/20/4Y6MrcGZ.png)    \n\u66fc\u54c8\u987f\u8ddd\u79bb\uff1a  \n![](https://img1.imgtp.com/2023/03/20/OHNevLB0.png)  \n\u5207\u6bd4\u96ea\u592b\u8ddd\u79bb\uff1a   \n![](https://img1.imgtp.com/2023/03/20/D9OlABC9.png)  \n\u8fd9\u6837\u5c31\u5f88\u660e\u663e\u53ef\u4ee5\u770b\u51fa\u4e09\u8005\u5173\u7cfb\u4e86\uff0c\u6bd4\u8d5b\u7684\u65f6\u5019\u5982\u679c\u5fd8\u4e86\u4e0a\u9762\u90a3\u4e1c\u897f\u53ef\u4ee5\u73b0\u63a8\u4e00\u4e0b\uff08\uff1f  \n\u65e0\u6240\u8c13\u4e86\u5927\u6982\u77e5\u9053\u8fd9\u4e9b\u5c31\u5dee\u4e0d\u591a\u4e86\uff0c\u63a8\u8350\u51e0\u9053\u677f\u5b50\uff08\uff1f  \n[[TJOI2013]\u677e\u9f20\u805a\u4f1a](https://www.luogu.com.cn/problem/P3964)  \n[[COCI2009-2010#7] KRALJEVI](https://www.luogu.com.cn/problem/P8075)  \n[ [IOI2007] pairs \u52a8\u7269\u5bf9\u6570](https://www.luogu.com.cn/problem/P4648)  \n[[POI2006]MAG-Warehouse](https://www.luogu.com.cn/problem/P3439)  \n[[USACO08OPEN]Cow Neighborhoods G](https://www.luogu.com.cn/problem/P2906)  \n\n------------\n\n\u6a21\u62df\u8d5b\u88ab\u5207\u6bd4\u96ea\u592b\u5e72\u7206\u4e86\uff0c\u751a\u81f3\u88ab\u7b7e\u5230\u5e72\u7206\u4e86\u3002\u6240\u4ee5\u627e\u4e86\u4e00\u4e2a\u677f\u5b50\u73a9\u73a9\u3002\uff08\uff1f   \n\u9996\u5148\u4f60\u4f1a\u53d1\u73b0\u8fd9\u9898\u5982\u679c\u76f4\u63a5\u7528\u66fc\u54c8\u987f\u8ddd\u79bb\u662f\u4e0d\u597d\u7ef4\u62a4\u7684\uff0c\u56e0\u4e3a\u4f60\u8981\u8003\u8651\u6a2a\u7eb5\u4e24\u4e2a\u5750\u6807\u5dee\u7684\u548c\uff0c\u975e\u5e38\u4e0d\u597d\u7ef4\u62a4\uff0c\u4f46\u662f\u8f6c\u5316\u4e3a\u5207\u6bd4\u96ea\u592b\u8ddd\u79bb\u5c31\u4f1a\u5f88\u597d\u7ef4\u62a4\uff0c\u53ea\u9700\u8981\u770b max \u8fd9\u4e2a\u4e1c\u897f\u53ef\u4ee5\u76f4\u63a5\u4e8c\u4f4d\u6570\u70b9\uff0c\u66f4\u5177\u4f53\u7684\u5c31\u662f\u8fd9\u6837\u6a2a\u7eb5\u5750\u6807\u72ec\u7acb\uff0c\u8fd9\u5c31\u662f\u4e3a\u5565\u7528\u66fc\u54c8\u987f\u8ddd\u79bb\u7ef4\u62a4\u4e0d\u592a\u597d\u7684\u539f\u56e0\u3002    \n\u95ee\u9898\u5c31\u53d8\u6210\u6b63\u5e38\u7684\u4e8c\u7ef4\u6570\u70b9\u4e86\uff0c\u8fd9\u4e2a\u7528\u4e3b\u5e2d\u6811\u7ef4\u62a4\u4e00\u4e0b\u5c31\u5b8c\u4e86\uff0c\u4ee3\u7801\uff1a  \n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nconst int mod=998244353;\nconst int INF=0x3f3f3f3f;\n\ninline int read()\n{\n    int x=0,f=1;char c=getchar();\n    while(c<'0'||c>'9'){if(c=='-')f=-1;c=getchar();}\n    while(c>='0'&&c<='9'){x=(x<<3)+(x<<1)+(c^48),c=getchar();}\n    return x*f;\n}\n\ninline void wr(int x)\n{\n    if(x<0)putchar('-'),x=-x;\n    if(x>=10)wr(x/10);putchar(x%10+'0');\n}\n\nconst int N=3e5+10,M=1e5;\nvector<int>v[N];\nint rt[N],num;\nstruct yqy{\n    int ls,rs,v;\n}t[N*50];\n\nvoid insert(int &p,int l,int r,int v)\n{\n    t[++num]=t[p];p=num; \n    int mid=(l+r)>>1;\n    if(l==r){t[p].v++;return;}\n    if(v<=mid)insert(t[p].ls,l,mid,v);\n    else insert(t[p].rs,mid+1,r,v);\n    t[p].v=t[t[p].ls].v+t[t[p].rs].v;\n}\n\nint query(int p1,int p2,int l,int r,int ql,int qr)\n{\n    if(ql<=l&&r<=qr)return t[p2].v-t[p1].v;\n    int mid=(l+r)>>1,ans=0;\n    if(ql<=mid)ans+=query(t[p1].ls,t[p2].ls,l,mid,ql,qr);\n    if(qr>=mid+1)ans+=query(t[p1].rs,t[p2].rs,mid+1,r,ql,qr);\n    return ans;\n}\n\n\nint main()\n{\n    auto st=clock();\n    int n=read();\n    for(int i=1;i<=n;i++)\n    {\n        int x=read(),y=read();\n        v[x+y+1].push_back(x-y+M+1);\n    }\n    int mx=2*M+1;\n    for(int i=1;i<=mx;i++)\n    {\n        rt[i]=rt[i-1];\n        for(auto x:v[i])insert(rt[i],1,mx,x);\n    }\n    int q=read();\n    while(q--)\n    {\n        int xx=read(),yy=read(),k=read();\n        int x=xx+yy+1,y=xx-yy+M+1;\n        int l=0,r=mx,ans;\n        while(l<=r)\n        {\n            int mid=(l+r)>>1;\n            if(query(rt[max(0,x-mid-1)],rt[min(mx,x+mid)],1,mx,max(1,y-mid),min(mx,y+mid))>=k)ans=mid,r=mid-1;\n            else l=mid+1;\n        }\n        wr(ans);puts(\"\");\n    }\n    auto en=clock();\n    cerr<<en-st<<endl;\n    return 0;\n}\n```  \n\u6700\u8fd1\u597d\u8981 $APIO$ \u548c\u7701\u9009\u4e86\uff08\uff1f \u795d\u5927\u5bb6 $RP++$ ",
        "postTime": 1679313177,
        "uid": 247269,
        "name": "MSqwq",
        "ccfLevel": 0,
        "title": "[ABC233Ex] Manhattan Christmas Tree"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/AT_abc233_h)\n\n## \u601d\u8def\n\n\u6211\u4eec\u9996\u5148\u8981\u628a\u5750\u6807\u8f74\u65cb\u8f6c $45$ \u5ea6\u3002\n\n\u4e3a\u4ec0\u4e48\u5462\uff1f\u53ef\u4ee5\u89c2\u5bdf\u5230\u4e00\u4e2a\u89c4\u5f8b\uff0c\u4e0e $(x,y)$ \u7684\u66fc\u54c8\u987f\u8ddd\u79bb $\\le k$ \u7684\u70b9\u662f\u4e00\u4e2a\u659c\u7684\u77e9\u5f62\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p9q9mp4u.png)\n\n\u6240\u4ee5\u6211\u4eec\u628a $(a,b)$ \u7684\u5750\u6807\u53d8\u6210 $(a+b,a-b)$\uff0c\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u7ef4\u62a4\u8fd9\u4e2a\u4e1c\u897f\u4e86\u3002\n\n\u7136\u540e\u6709 $\\verb!dalao!$ \u544a\u8bc9\u6211\u8fd9\u4e2a\u4e1c\u897f\u53eb\u505a\u5207\u6bd4\u96ea\u592b\u8ddd\u79bb\u3002\n\n\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u4e8c\u5206\u4e00\u4e2a\u8ddd\u79bb\uff0c\u8bbe\u8fd9\u4e2a\u8ddd\u79bb\u4e3a $mid$\u3002\n\n\u4f7f\u7528\u4e3b\u5e2d\u6811\u4e8c\u7ef4\u6570\u70b9\u51fa\u77e9\u5f62 $(x-mid,x+mid,y-mid,y+mid)$ \u4e2d\u7684\u70b9\u6570\u5373\u53ef\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nint const N=2e5+10;\nint rt[N],root;vector<int>a[N];\nstruct hjt_Tree{\n    #define ls (lc[x])\n    #define rs (rc[x])\n    #define mid ((l+r)>>1)\n    int c[N*40],lc[N*40],rc[N*40];\n    inline void update(int &x,int la,int l,int r,int p){\n        x=++root;c[x]=c[la];ls=lc[la];rs=rc[la];\n        if (l==r) return ++c[x],void();\n        if (p<=mid) update(ls,lc[la],l,mid,p);\n        else update(rs,rc[la],mid+1,r,p);\n        c[x]=c[ls]+c[rs];\n    }\n    inline int query(int x,int l,int r,int ll,int rr){\n        if (ll<=l && r<=rr) return c[x];\n        int res=0;\n        if (ll<=mid) res+=query(ls,l,mid,ll,rr);\n        if (mid<rr) res+=query(rs,mid+1,r,ll,rr);\n        return res;\n    }\n}T;\nsigned main(){\n\tios::sync_with_stdio(false);\n    cin.tie(0),cout.tie(0);\n    int n;cin>>n;int x,y;\n    for (int i=1;i<=n;++i) cin>>x>>y,a[x+y].push_back(x-y);\n    for (int i=0;i<=2e5;++i){if (i>0) rt[i]=rt[i-1];for (auto v:a[i]) T.update(rt[i],rt[i],-1e5,1e5,v);}\n    int q;cin>>q;\n    while (q--){\n        int a,b,k;cin>>a>>b>>k;\n        int x=a+b,y=a-b;int l=0,r=4e5;\n        while (l<r){\n            int L=max((int)-1e5,y-mid),\n                R=min((int)1e5,y+mid);\n            int tmp=T.query(rt[min((int)2e5,x+mid)],-1e5,1e5,L,R);\n            if (x-mid>0) tmp-=T.query(rt[x-mid-1],-1e5,1e5,L,R);\n            if (tmp>=k) r=mid;else l=mid+1;\n        }\n        cout<<l<<'\\n';\n    }\n    return 0;\n}\n```",
        "postTime": 1668157123,
        "uid": 253608,
        "name": "Tx_Lcy",
        "ccfLevel": 7,
        "title": "[ABC233Ex] Manhattan Christmas Tree"
    }
]