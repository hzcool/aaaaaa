[
    {
        "content": "\u00a0\u9996\u5148\u4ee4s1[i],s2[i],s3[i]\u5206\u522b\u8868\u793a1~i\u4f4d\u4e2d'J','O','I'\u7684\u4e2a\u6570\uff0c\u90a3\u4e48\u67d0\u4e00\u4e2a\u5b50\u4e32i~j\u4e2d'J','O','I'\u7684\u4e2a\u6570\u76f8\u540c\u7684\u6761\u4ef6\u4e3a\uff1a\n\ns1[j]-s1[i-1]=s2[j]-s2[i-1]=s3[j]-s3[i-1]\n\n\n\u7136\u540e\u4e0a\u5f0f\u7b49\u53f7\u51cf\u53bbsJ[j]-sJ[i-1]\uff0c\u5f97\u5230\uff1a\n\ns1[j]-s2[j]-(s1[i-1]-s2[i-1])=s3[j]-s1[j]-(s3[i-1]-s1[i-1])\uff0c\n\n\u90a3\u4e48\u5982\u679c\u4ee4x[i]=sO[i]-sJ[i],y[i]=sI[i]-sJ[i]\uff0c\u90a3\u4e48\u5c31\u53d8\u6210\n\nx[i-1]=x[j]\u4e14y[i-1]=y[j]\n       \n\u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u201cJ\u201d\uff0c\u5373s1[i]=s1[i-1]+1,s2[i],s3[i]\u4e0d\u53d8\n\u5219x[i]=x[i-1]-1,y[i]=y[i-1]-1;\n\u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u201cO\u201d\uff0c\u5373s2[i]=s2[i-1]+1,s1[i],s3[i]\u4e0d\u53d8\n\u5219x[i]=x[i-1]+1,y[i]=y[i-1];\n\u5982\u679c\u5f53\u524d\u5b57\u7b26\u662f\u201cI\u201d\uff0c\u5373s3[i]=s3[i-1]+1,s1[i],s2[i]\u4e0d\u53d8\n\u5219x[i]=x[i-1],y[i]=y[i-1]+1;\n\n\u90a3\u4e48\u4ee4\u4e00\u4e2a\u70b9i\u4e3a(x[i],y[i])\uff0c\u70b9\u6743\u4e3ai\uff0c\u90a3\u4e48\u5c31\u76f8\u5f53\u4e8e\u67e5\u8be2\u6700\u5927\u7684\u76f8\u540c\u4f4d\u7f6e\u7684\n\u5dee\u3002\u5feb\u6392\u4e00\u4e0b\u626b\u4e00\u904d\u5373\u53ef\u3002\n# code\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nint n;\nchar ch;\nstruct node{\n\tint x,y,id;\n}a[200005];\nbool cmp(node u,node v){return u.x<v.x||u.x==v.x&&u.y<v.y||u.x==v.x&&u.y==v.y&&u.id<v.id;}\nint main(){\n\t//freopen(\"joioji.in\",\"r\",stdin);\n\t//freopen(\"joioji.out\",\"w\",stdout);\n\tscanf(\"%d\",&n);\n\tch=getchar();\n\twhile(ch<'A'||ch>'Z') ch=getchar();\n\tfor(int i=1;i<=n;i++){\n\t\tif(ch=='J'){\n\t\t\ta[i].x=a[i-1].x-1;\n\t\t\ta[i].y=a[i-1].y-1;\n\t\t}\n\t\telse if(ch=='O'){\n\t\t\ta[i].x=a[i-1].x+1;\n\t\t\ta[i].y=a[i-1].y;\n\t\t}\n\t\telse if(ch=='I'){\n\t\t\ta[i].x=a[i-1].x;\n\t\t\ta[i].y=a[i-1].y+1;\n\t\t}\n\t\ta[i].id=i;\n\t\tif(i<n) ch=getchar();\n\t}\n\tsort(a,a+n+1,cmp);\n\tint now=a[0].id,ans=0;\n\tfor(int i=1;i<=n;i++){\n\t\tif(a[i].x==a[i-1].x&&a[i].y==a[i-1].y) ans=max(ans,a[i].id-now);\n\t\telse now=a[i].id;\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1543562376,
        "uid": 111961,
        "name": "D_14134",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT1224 \u3010JOIOJI\u3011"
    },
    {
        "content": "# \u8001\u89c4\u77e9\u5148\u63a8\u4e00\u53d1\u6211\u7684\u535a\u5ba2\n[\u4f20\u9001\u95e8](https://lfd2002.com/archives/747)    \n\u524d\u7f00\u548c    \nJ\u662f1 O\u662f200001 I\u662f-200002    \n\uff08\u8fd9\u4e2a\u6570\u7684\u539f\u56e0\u662f\u4e3a\u4e86\u5f88\u591a\u4e2aJ\u4e5f\u4e0d\u80fd\u8d77\u5230O\u7684\u4f5c\u7528 \u4e0d\u7136\u4e0d\u80fd\u8d77\u5230\u4ee3\u66ff\u7684\u6548\u679c\uff09    \n\u7136\u540e\u524d\u7f00\u548c\u505a    \n\u548c\u4e3a0\u7684\u65f6\u5019\u6ee1\u8db3\u9898\u610f    \n\u5982\u679c\u4e0d\u662f0\u7684\u65f6\u5019 \u5728\u524d\u9762\u627e\u4e00\u4e2a\u548c\u76f8\u7b49\u7684 \u4e00\u51cf\u8fd8\u662f0 \u7ee7\u7eed\u641e    \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define N 200010\n#define ll long long\n#define max(a,b) a>b?a:b\nchar ch[N];\nint n;\nmap<ll,int>m;\nint main()\n{\n    scanf(\"%d%s\",&n,ch+1);\n    ll s=0,ans=0;\n    for(int i=1;i<=n;i++)\n    {\n        if(ch[i]=='J') s++;\n        else if(ch[i]=='O') s+=200001;\n        else s-=200002;\n        if(s==0) {ans=max(ans,i);continue;}\n        if(m[s+200001ll*200001ll]!=0)ans=max(ans,i-m[s+200001ll*200001ll]);\n        else m[s+200001ll*200001ll]=i;\n    }\n    printf(\"%lld\\n\",ans);\n}\n\n```",
        "postTime": 1527683578,
        "uid": 55682,
        "name": "Michael_Bryant",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT1224 \u3010JOIOJI\u3011"
    },
    {
        "content": "## \u7b80\u5316\u9898\u610f\n\n\u6709\u4e00\u4e2a\u7531 `J`\uff0c`O`\uff0c`I` \u7ec4\u6210\u7684\u5b57\u7b26\u4e32\uff0c\u6c42\u4e00\u4e2a\u5b50\u4e32\uff0c\u4f7f\u5f97\u8fd9\u4e09\u4e2a\u5b57\u7b26\u51fa\u73b0\u6b21\u6570\u4e00\u6837\u3002\u8f93\u51fa\u5b50\u4e32\u7684\u957f\u5ea6\u7684\u6700\u5927\u503c\u3002\n\n## \u601d\u8def\n\n\u672c\u9898\u53ef\u4ee5\u7528\u4e00\u4e2a\u524d\u7f00\u548c\u6765\u7ef4\u62a4\u3002\n\n\u4ee4 $J=1,O=1145141,I=-1145142$\uff0c\u90a3\u4e48\u5c31\u8f6c\u6362\u6210\u4e86\u4e00\u4e2a\u6700\u957f\u7684\u548c\u4e3a $0$ \u7684\u5b50\u4e32\u3002\uff08\u4e4b\u6240\u4ee5\u53d6 $1145141$\uff0c\u662f\u5e94\u4e3a\u8fd9\u4e2a\u6570\u6bd4\u8f83\u5927\uff09\u3002\n\n\u679a\u4e3e $i\\ (\\text{from } 1 \\text{ to } n)$\u3002\u5982\u679c\u5f53\u524d\u5b50\u4e32 $[1,i]$ \u7684\u548c\u662f $0$\uff0c\u90a3\u4e48\u66f4\u65b0\u7b54\u6848\u3002\u7136\u540e\u5c31\u5224\u65ad\u5b58\u50a8\u5668\u4e2d\u6709\u6ca1\u6709\u7b54\u6848\uff0c\u5982\u679c\u6709\uff0c\u66f4\u65b0\uff0c\u5426\u5219\u5c31\u8bb0\u5f55\u5f53\u524d\u548c\u3002\n\n\u81f3\u4e8e\u5b58\u50a8\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528 `std::map` \u5b9e\u73b0\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n\\log n)$\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\n\nint n;\nchar poem[200005];\nint qzh,result=0;\nmap<int,int> mem;\n\nsigned main(){\n\tcin>>n;\n\tcin>>(poem+1);\n\tfor(int i=1;i<=n;i++){\n\t\tchar nch=poem[i];\n\t\tswitch(nch){\n\t\t\tcase 'J':\n\t\t\t\tqzh++;\n\t\t\t\tbreak;\n\t\t\tcase 'O':\n\t\t\t\tqzh+=1145141;\n\t\t\t\tbreak;\n\t\t\tcase 'I':\n\t\t\t\tqzh+=(-1145141-1);\n\t\t\t\tbreak;\n\t\t}\n\t\tif(qzh==0){\n\t\t\tresult=max(result,i);\n\t\t}\n\t\tif(mem[qzh]!=0){\n\t\t\tresult=max(result,i-mem[qzh]);\n\t\t}\n        else {\n        \tmem[qzh]=i;\t\n\t\t}\n\t}\n\tcout<<result<<endl;\n\treturn 0; \n}\n```",
        "postTime": 1647839005,
        "uid": 413065,
        "name": "xiezheyuan",
        "ccfLevel": 5,
        "title": "AT1224 JOIOJI"
    },
    {
        "content": "# $\\text{Problems}$\n\nTD \u6709\u4e00\u4e2a\u957f\u5ea6\u4e3a $\\text{n}$ \u7684\u5b57\u7b26\u4e32 $\\text{S}$\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u975e\u5e38\u7684\u7279\u522b\uff0c\u6bcf\u4e2a\u5b57\u7b26\u4e00\u5b9a\u662f `J, O, I` \u4e2d\n\u7684\u4e00\u4e2a\u3002\n\nTD \u89c9\u5f97\u8fd9\u4e2a\u4e32\u7684\u4e00\u4e2a\u533a\u95f4 $\\text{[l, r]}$ \u662f\u5b8c\u7f8e\u7684\u5f53\u4e14\u4ec5\u5f53 `J, O, I` \u5728\u8fd9\u4e2a\u533a\u95f4\u4e2d\u7684\u51fa\u73b0\u6b21\u6570\u76f8\u540c\u3002\n\nTD \u60f3\u77e5\u9053\u8fd9\u4e2a\u4e32\u6700\u957f\u7684\u5b8c\u7f8e\u7684\u533a\u95f4\u6709\u591a\u957f\uff0c\u4e8e\u662f\u5b83\u628a\u8fd9\u4e2a\u4e32\u544a\u8bc9\u4e86\u4f60\uff0c\u5e0c\u671b\u4f60\u80fd\u56de\u7b54\n\u5b83\u7684\u95ee\u9898\u3002\n\n# $\\text{Answer}$\n\n\u4ee4 $a_{i},b_{i},c_{i}$ \u5206\u522b\u8868\u793a\u524d $\\text{i}$ \u4e2a\u5b57\u7b26\u4e2d `J, O, I` \u51fa\u73b0\u7684\u6b21\u6570\u3002\n\n\u5219\u9898\u76ee\u8981\u6c42\u4e00\u4e2a\u533a\u95f4 $\\text{[l, r]}$ \u6ee1\u8db3\u5982\u4e0b\u6761\u4ef6\uff1a\n\n* $a_{r}-a_{l-1}=b_{r}-b_{l-1}$\n* $b_{r}-b_{l-1}=c_{r}-c_{l-1}$\n\n\u79fb\u9879\u5f97\uff1a\n\n* $a_{r}-b_{r}=a_{l-1}-b_{l-1}$\n* $b_{r}-c_{r}=b_{l-1}-c_{l-1}$\n\n\u4e8e\u662f\u4ece\u5de6\u5f80\u53f3\u626b\uff0c\u8bb0\u5f55\u6bcf\u5bf9 $(a_{i}-b_{i}, b_{i}-c_{i})$ \u6700\u65e9\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u53d6\u6700\u5927\u503c\u5373\u53ef\u3002\n\n# $\\text{Code}$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n;\nint a[200002],b[200002],c[200002];\nchar ch;\nmap<int,map<int,int> > f;\nint ans;\ninline int read()\n{\n    int s=0,w=1;\n    char ch=getchar();\n    while(ch<'0'||ch>'9') {if(ch=='-')w=-1;ch=getchar();}\n    while(ch>='0'&&ch<='9') s=s*10+ch-'0',ch=getchar();\n    return s*w;\n}\ninline void write(int x)\n{\n    if(x<0) putchar('-'),x=-x;\n    if(x>9) write(x/10);\n    putchar(x%10+'0');\n}\ninline void print(int x)\n{\n    write(x);\n    putchar('\\n');\n}\nint main()\n{\n    n=read();\n    for(register int i=1;i<=n;++i)\n    {\n        cin>>ch;\n        if(ch=='J') a[i]=1;\n        if(ch=='O') b[i]=1;\n        if(ch=='I') c[i]=1;\n    }\n    for(register int i=1;i<=n;++i) a[i]=a[i-1]+a[i];\n    for(register int i=1;i<=n;++i) b[i]=b[i-1]+b[i];\n    for(register int i=1;i<=n;++i) c[i]=c[i-1]+c[i];\n    for(int i=1;i<=n;++i)\n        if(!f[a[i]-b[i]][b[i]-c[i]]) f[a[i]-b[i]][b[i]-c[i]]=i;\n            else ans=max(ans,i-f[a[i]-b[i]][b[i]-c[i]]);\n    for(register int i=1;i<=n;++i) if(a[i]==b[i]&&b[i]==c[i]) ans=max(ans,i);\n    print(ans);\n    return 0;\n}\n```",
        "postTime": 1628249627,
        "uid": 202802,
        "name": "BotDand",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT1224 \u3010JOIOJI\u3011"
    },
    {
        "content": "\u4e00\u9053\u5f88\u597d\u7684\u601d\u8003\u9898\uff0c\u5e0c\u671b\u4f60\u4eec\u4e0d\u8981\u76f4\u63a5\u770b\u9898\u89e3\n\n\u6211\u4eec\u901a\u8fc7\u8bfb\u9898\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u533a\u95f4\u5185\u4e0d\u662fJ\u5c31\u662fO\u6216I\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u6bcf\u8bfb\u5165\u4e00\u4e2a\u5b57\u7b26\u5c31\u8fdb\u884c\u8bb0\u5f55\uff0c\u7136\u540e\u8fdb\u884c\u5dee\u5206\uff0c\u7531\u5dee\u5206\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u4e00\u4e2a\u6027\u8d28\uff0c\u5982\u679c\u4e00\u4e2a\u533a\u95f4$[l,r]$\u53ef\u80fd\u662f\u7b54\u6848\uff0c\u90a3\u4e48$chafen[r]-chafen[l-1]$\u5bf9\u4e8e$J$\uff0c$O$\uff0c$I$\uff0c\u90fd\u662f\u76f8\u540c\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728$[l.r]$\u4e2d$J$\uff0c$O$\uff0c$I$\u4e09\u4e2a\u5b57\u7b26\u7684**\u589e\u91cf**\u76f8\u540c\uff0c\u90a3\u4e48\u6211\u4eec\u5904\u7406\u51fa\u5dee\u5206\u6570\u7ec4\u5e76\u8fdb\u884c\u6392\u5e8f\u4ee5\u4f18\u5316\u590d\u6742\u5ea6\uff0c\u5176\u4e2d\u589e\u91cf\u76f8\u540c\u4e14\u6700\u5927\u7684\u4e00\u9879\u5c31\u662f\u7b54\u6848\u4e86\uff01\n\n$AC$ $Code$\n\n```cpp\n#include<bits/stdc++.h> \n\n#define int long long\n \nusing namespace std;\n\ninline int read(){\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-48;ch=getchar();}\n\treturn x*f;\n}\n\ninline void write(int x){\n\tif(x<0){putchar('-');x=-x;}\n\tif(x>9)write(x/10);\n\tint xx=x%10;\n\tputchar(xx+'0');\n}\n\nstruct node{\n\tint jo,ji,len;\n\tbool operator < (const node &a){\n\t\tif(jo!=a.jo) return jo<a.jo;\n\t\tif(ji!=a.ji) return ji<a.ji;\n\t\treturn len<a.len;\n\t}\n}t;\nint n,c1,c2,c3,ans;\nstring s;\nvector<node> q;\n\nsigned main(){\n\tn=read();cin>>s;\n\tt.ji=t.jo=t.len=0;\n\tq.push_back(t);\n\tfor(int i=0;i<n;i++){\n\t\tnode tmp;\n\t\tif(s[i]=='J') c1++;//J\n\t\telse if(s[i]=='O') c2++;//O\n\t\telse c3++;//I\n\t\ttmp.ji=c1-c3;tmp.jo=c1-c2;tmp.len=i+1;\n\t\tq.push_back(tmp);\n\t}\n\tsort(q.begin(),q.end());\n\tint now=0;\n\tfor(int i=1;i<q.size();i++){\n\t\tif(q[i].jo==q[now].jo&&q[i].ji==q[now].ji){\n\t\t\tans=max(ans,q[i].len-q[now].len);\n\t\t}\n\t\telse now=i;\n\t}\n\tcout<<ans<<endl;\n\treturn 0; \n}\n```\n",
        "postTime": 1606549366,
        "uid": 102347,
        "name": "jichi",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 AT1224 \u3010JOIOJI\u3011"
    },
    {
        "content": "[AT1224 JOIOJI](https://www.luogu.com.cn/problem/AT1224)\n\n\u533a\u95f4$'J''O''I'$\u4e2a\u6570\u76f8\u7b49\uff0c\u4e0d\u96be\u60f3\u5230\u5229\u7528\u524d\u7f00\u548c.\n\n\u6211\u4eec\u8003\u8651\u7528$sJ_i,sO_i,sI_i$\u8868\u793a$[1,i]$\u533a\u95f4\u5185\u4e09\u4e2a\u5b57\u7b26\u51fa\u73b0\u7684\u6b21\u6570\uff0c\u90a3\u4e00\u4e2a\u6ee1\u8db3\u8981\u6c42\u7684\u533a\u95f4$[j,i]$\u5e94\u8be5\u662f\u8fd9\u6837\u7684\uff1a\n\n$$sJ_i-sJ_{j-1}=sO_i-sO_{j-1}=sI_i-sI_{j-1}$$\n\n\u4e5f\u5c31\u662f\u4ece$[j,i]$\u8fd9\u6bb5\u533a\u95f4\u5185\u4e09\u4e2a\u5b57\u7b26\u51fa\u73b0\u6b21\u6570\u52a0\u4e0a\u4e86\u540c\u6837\u7684\u503c\n\n\u533a\u95f4\u52a0\u4e0a\u540c\u6837\u503c\uff0c\u6709\u4ec0\u4e48\u5171\u6027\u5462\uff1f\u7b54\u6848\u662f\u5176\u5dee\u5206\u6570\u7ec4\u4e0d\u53d8.\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u6784\u9020\u51fa\u6bcf\u4e2a\u533a\u95f4\u7684\u5dee\u5206\u6570\u7ec4$\\{sO_i-sJ_i, sI_i-sO_i\\}$\n\n\u7528$map$\u8bb0\u5f55\u4e00\u4e0b\u6bcf\u4e2a\u5dee\u5206\u6570\u7ec4\u51fa\u73b0\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u540e\u7edf\u8ba1\u7b54\u6848\u5373\u53ef.\n\n```cpp\nconst ll N=2e5+5;\n\nll n;\nll sJ, sO, sI;\nchar wn[N];\nmap<pair<ll, ll>, ll> mp;\nll res;\nint main(){\n\tread(n); scanf(\"%s\", wn+1);\n\tmp[make_pair(0, 0)]=0;\n\tfor (R ll i=1; i<=n; i++){\n\t\tsJ+=(wn[i]=='J');\n\t\tsO+=(wn[i]=='O');\n\t\tsI+=(wn[i]=='I');\n\t\tif (mp.find(make_pair(sO-sJ, sI-sO))!=mp.end()) chkmax(res, i-mp[make_pair(sO-sJ, sI-sO)]);\n\t\telse mp[make_pair(sO-sJ, sI-sO)]=i;\n\t}\n\twriteln(res);\n}\n\n```\n",
        "postTime": 1606518347,
        "uid": 220285,
        "name": "Saber_Master",
        "ccfLevel": 7,
        "title": "AT1224 JOIOJI"
    },
    {
        "content": "\u633a\u6c34\u4e00\u84dd\u9898\n\n\n------------\n\n$Solution$\n\n1\u3001\u5148\u7528\u5b58\u5165\u6bcf\u4e2a\u5b57\u6bcd\u7684\u6570\u76ee\u7684\u524d\u7f00\u548c\n\n  \u76f8\u51cf\u53ef\u5f97\u51fa\u4e00\u6bb5\u533a\u95f4\u7684$J\u3001O\u3001I$ \u7684\u6570\u91cf\n\n2\u3001\u5b58\u5165\u7ed3\u6784\u4f53\n\n  \u6211\u840c\u9700\u8981\u4f7f\u4e00\u6bb5\u533a\u95f4\u7684$J$\u3001$O$\u3001$I$\u7684\u6570\u91cf\u76f8\u540c\n  \n  \u5c31\u6709$J1 - J2 = O1 - O2 = I1 - I2$\n  \n  \u5373$J1 - J2 = O1 - O2$\u4e14$O1 - O2 = I1 - I2$\n  \n  \u8f6c\u79fb\u4e00\u4e0b\u53ef\u5f97\u5230$J1 - O1 = J2 - O2$\u4e14$ I1 - O1 =  I2 - O2$\n  \n  \u90a3\u4e48\u6211\u840c\u6bcf\u6b21\u5b58\u5165$J - O$\u4e0e$ I - O$\u4e0e\u5e8f\u53f7(\u7528\u6765\u7b97\u957f\u5ea6\u5373\u53ef)\n\n------------\n\n$AC$\u306e$Code$\n```cpp\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\nconst int M = 200010;\nint J,O,I,N;\nchar s[M];\nstruct node\n{\n\tint x,y,id;\n\tbool operator == (const node &z)\n\tconst\n\t{\n\t\treturn x==z.x&&y==z.y;\n\t}\n\tbool operator < (const node &z)\n\tconst\n\t{\n\t\treturn x!=z.x?x<z.x:(y!=z.y?y<z.y:id<z.id);\n\t}\n}p[M];\nint main()\n{\n\tscanf(\"%d%s\",&N,s+1);\n\tfor(int i = 1 ; i <= N ; i++)\n\t{\n\t\tif(s[i] == 'J')J++;\n\t\tif(s[i] == 'O')O++;\n\t\tif(s[i] == 'I')I++;\n\t\tp[i] = (node){J-O,I-O,i};\n\t}\n\tsort(p,p+1+N);\n\tint ans = 0 , last = 0 ;\n\tfor(int i = 1 ;i <= N ; i++)\n\t{\n\t\tif(p[i]==p[i-1])ans = max(ans,p[i].id - p[last].id);\n\t\telse last = i;\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n\n```\n$\\text{\u6ce8\u610f\uff0c\u4e0d\u52a0\u6362\u884c\u5c31\u4f1aWA}$",
        "postTime": 1571968435,
        "uid": 116162,
        "name": "\u7fbd\u5107",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 AT1224 \u3010JOIOJI\u3011"
    },
    {
        "content": "## [AT1224](https://www.luogu.com.cn/problem/AT1224)\n# \u9898\u610f\n\u5728\u4e00\u4e2a\u53ea\u5305\u542b J, O, I \u7684\u5b57\u7b26\u4e32 s \u4e2d\u627e\u5230\u4e00\u4e2a\u6700\u957f\u533a\u95f4\u4f7f\u5f97 J, O, I \u7684\u4e2a\u6570\u76f8\u7b49\u3002\n\n# \u9898\u89e3\n\n###### ~~\u5927\u6c34\u9898~~\n\n\u4f7f\u7528\u524d\u7f00\u548c\u7ef4\u62a4\n\n$j$, $o$ \u548c $i$ \u5206\u522b\u8868\u793a J, O, I \u7684\u51fa\u73b0\u6b21\u6570\n\n\u8bfb\u9898\u53ef\u4ee5\u53d1\u73b0\u5176\u5b9e\u662f\u8981\u6c42\u4e00\u4e2a\u533a\u95f4 $[l, r]$ \u6ee1\u8db3\n\n1. $j_{r} - j_{l - 1} = o_{r} - o_{l - 1}$\n\n2. $o_{r} - o_{l - 1} = i_{r} - i_{l - 1}$\n\n\u79fb\u9879\u540e\u53d8\u6210\n\n1. $j_{r} - o_{r} = j_{l - 1} - o_{l - 1}$\n\n2. $o_{r} - i_{r} = o_{l - 1} - i_{l - 1}$\n\n\u63a5\u4e0b\u6765\u5c31\u53ea\u8981\u4ece\u5de6\u5f80\u53f3\u626b\u4e00\u904d\uff0c\u8bb0\u5f55\u6bcf\u4e2a\u5f62\u5982 $(j_i - o_i, o_i - i_i)$ \u7684\u533a\u95f4\u7684\u6700\u5927\u503c\u5373\u53ef\u3002\n\n\u4f46\u662f\u56e0\u4e3a\u6570\u636e\u8fc7\u5927\uff0c\u6240\u4ee5\u8fd8\u8981 hash \u4e00\u4e0b\u3002\n\n# \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n\nusing namespace std;\n\nconst int N = 2e5 + 10;\n\nmap<long long, int> mp;\nchar s[N];\nlong long jx, i1, o1;\nint n;\nint ans = 0;\n\nint main(){\n \tcin >> n;\n\tcin >> s + 1; \n \tmp.clear();\n \tmp[0] = 0;\n \tfor(int i = 1; i <= n; i++){\n \t\tjx += s[i] == 'J' ? 1 : 0;\n \t\ti1 += s[i] == 'I' ? 1 : 0;\n \t\to1 += s[i] == 'O' ? 1 : 0; \n \t\tlong long hah = 100000 * (jx - i1) + (jx - o1);\n \t\tif(mp.find(hah) != mp.end()) ans = max(ans, i - mp[hah]);\n \t\telse mp[hah] = i;\n\t}\n \tcout << ans;\n \treturn 0;\n}\n```\n",
        "postTime": 1647676665,
        "uid": 408759,
        "name": "ollo",
        "ccfLevel": 6,
        "title": "\u524d\u7f00\u548c\u7ec3\u624b\u9898(\u5927\u96fe)"
    },
    {
        "content": "## \u63d0\u524d\u58f0\u660e\n\nAT \u7684\u9898\u76ee\u6700\u540e\u8981\u6362\u884c\uff0c\u5426\u5219\u4f1a WA\u3002\n\n## \u601d\u8def\n\n\u672c\u4eba\u5728\u8003\u573a\u4e0a\u5199\u4e0d\u51fa\u6b63\u786e\u601d\u8def\uff0c\u5c31\u7528\u5b9d\u77f3\u4e32\u7684\u65b9\u6cd5\u5199\u4e86\u4e00\u4e0b\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u5728\u5b9d\u77f3\u4e32\u8fd9\u9053\u9898\u4e2d\u6211\u4eec\u662f\u5c06\u4e24\u79cd\u989c\u8272\u5206\u522b\u8bbe\u4e3a $1$ \u548c $-1$\u3002\u4f46\u662f\uff0c\u5728\u672c\u9898\u4e2d\u5e76\u4e0d\u80fd\u8fd9\u6837\u8fdb\u884c\u53d8\u5316\uff0c\u56e0\u4e3a\u53ef\u80fd\u4f1a\u51fa\u73b0\u9519\u8bef\u60c5\u51b5\u3002\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cd\u8f6c\u5316\u65b9\u5f0f\uff1a\n\nJ \u53d8\u4e3a $100000$\uff0cO \u53d8\u4e3a $200001$\uff0cI \u53d8\u4e3a $-300001$\u3002\n\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u907f\u514d\u9519\u8bef\u60c5\u51b5\u4e86\u3002\n\n## \u4ee3\u7801\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long    //\u6ce8\u610f\uff0cn \u4e2a 200001 \u76f8\u52a0\u4f1a\u7206 int\n\nusing namespace std;\n\nconst int N = 2e5 + 5;\n\nint n, maxi = -1e9;\nchar a[N];\n\nint f[N];\n\nmap<int, int> vis;     //\u56e0\u4e3a\u6709\u8d1f\u6570\uff0c\u6240\u4ee5\u7528 map\n\nsigned main(){\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++){\n\t\tcin >> a[i];\n\t\tif(a[i] == 'J'){    //\u5982\u4e0a\u6240\u8ff0\n\t\t\tf[i] = f[i - 1] + 100000;\n\t\t}\n\t\tif(a[i] == 'O'){\n\t\t\tf[i] = f[i - 1] + 200001;\n\t\t}\n\t\tif(a[i] == 'I'){\n\t\t\tf[i] = f[i - 1] - 300001;\n\t\t}\n\t}\n\tfor(int i = n; i >= 1; i--){     //\u8bb0\u5f55\u6bcf\u4e2a f[i] \u6700\u65e9\u51fa\u73b0\u7684\u4e0b\u6807\n\t\tvis[(long long)f[i]] = i;\n\t}\n\tvis[(long long)0] = 0;    //\u8fd9\u91cc\u6ce8\u610f 0 \u6700\u65e9\u51fa\u73b0\u5728\u4e0b\u6807\u4e3a 0 \u7684\u4f4d\u7f6e\n\tfor(int i = 1; i <= n; i++){\n\t\tmaxi = max(maxi, i - vis[(long long)f[i]]);\n\t}\n\tcout << (maxi == -1e9 ? 0 : maxi) << endl;    //\u5982\u679c\u662f 1e9 \u8f93\u51fa 0 \u5c31\u884c\u4e86\uff08\u5176\u5b9e\u4e0d\u5199\u4e5f\u6ca1\u5173\u7cfb\uff09\n\treturn 0;\n}\n```",
        "postTime": 1647676064,
        "uid": 363006,
        "name": "_Alexande_",
        "ccfLevel": 5,
        "title": "AT1224 \u9898\u89e3"
    }
]