[
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n> \u7ed9\u51fa\u4e00\u4e2a $n \\times m$ \u7684 $01$ \u77e9\u9635\uff0c\u6bcf\u6b21\u64cd\u4f5c\u9009\u62e9\u5750\u6807 $(x,y)$ \u6ee1\u8db3 $a_{x,y}=1$ \u4e14 $(x,y)$ \u5904\u6ca1\u6709\u969c\u788d\u3002\u4ece $(x,y)$ \u51fa\u53d1\u5411\u4e0a\u4e0b\u5de6\u53f3\u5206\u522b\u76f4\u884c\uff08\u78b0\u5230\u8fb9\u754c\u6216\u969c\u788d\u505c\u6b62\uff09\uff0c\u5c06\u8def\u5f84\u4e0a\u6bcf\u4e00\u4e2a\u70b9\u653e\u4e0a\u969c\u788d\u3002\u65e0\u6cd5\u64cd\u4f5c\u8005\u8f93\u3002\n>\n> \u95ee\u5148\u624b\u5fc5\u80dc\u8fd8\u662f\u540e\u624b\u5fc5\u80dc\u3002\n>\n> $1\\le n,m \\le 20$\n\n\u516c\u5e73\u535a\u5f08\u6e38\u620f\uff0c\u8003\u8651sg\u51fd\u6570\u3002\n\n\u6bcf\u6b21\u64cd\u4f5c\uff0c\u672c\u8d28\u4e0a\u662f\u5c06\u77e9\u9635\u5212\u5206\u6210 $4$ \u4e2a\u66f4\u5c0f\u7684\u5b50\u77e9\u9635\u3002\u6240\u4ee5\u8bbe $f_{xl,yl,xr,yr}$ \u8868\u793a\u5de6\u4e0a\u89d2\u4e3a $(xl,yl)$\uff0c\u53f3\u4e0b\u89d2\u4e3a $(xr,yr)$ \u7684\u5b50\u77e9\u9635\u5bf9\u5e94\u7684sg\u51fd\u6570\u7684\u503c\uff0c\u8fb9\u754c\u662f $xl>xr$ \u6216 $yl>yr$\uff0c\u66b4\u529b\u8f6c\u79fb\u5373\u53ef\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^3m^3)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define il inline\nconst int maxn=25;\nconst int inf=1<<30;\nusing namespace std;\nil int read(){\n\tint x=0;\n\tchar c=getchar();\n\tfor(;!(c>='0'&&c<='9');c=getchar());\n\tfor(;c>='0'&&c<='9';c=getchar())\n\t\tx=(x<<1)+(x<<3)+c-'0';\n\treturn x; \n}\nil int cread(){\n\tchar c=getchar();\n\tfor(;c!='.'&&c!='X';c=getchar());\n\treturn c=='.';\n}\nint f[maxn][maxn][maxn][maxn];\nint a[maxn][maxn],n,m;\nint dfs(int xl,int yl,int xr,int yr){\n\tif(xl>xr||yl>yr) return 0; \n\tif(~f[xl][yl][xr][yr]) return f[xl][yl][xr][yr];\n\tint &tmp=f[xl][yl][xr][yr];\n\tint st[maxn*maxn],top=0;\n\tfor(int i=xl,v;i<=xr;i++)\n\t\tfor(int j=yl;j<=yr;j++){\n\t\t\tif(!a[i][j]) continue;\n\t\t\tv=dfs(xl,yl,i-1,j-1);\n\t\t\tv^=dfs(xl,j+1,i-1,yr);\n\t\t\tv^=dfs(i+1,yl,xr,j-1);\n\t\t\tv^=dfs(i+1,j+1,xr,yr);\n\t\t\tst[++top]=v;\n\t\t}\n\tst[0]=-1,st[++top]=inf;\t\n\tsort(st+1,st+1+top);\n\tfor(int i=1;i<=top;i++)\n\t\tif(st[i]>st[i-1]+1) return tmp=st[i-1]+1;\n}\nint main(){\n\tn=read(),m=read();\n\tmemset(f,-1,sizeof(f));\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t\ta[i][j]=cread();\n\tprintf(\"%s\\n\",dfs(1,1,n,m)?\"First\":\"Second\");\n\treturn 0;\n} \n```\n\n",
        "postTime": 1669869810,
        "uid": 288716,
        "name": "lzqy_",
        "ccfLevel": 7,
        "title": "AT_icpc2015spring_l Wall Making Game \u9898\u89e3"
    }
]