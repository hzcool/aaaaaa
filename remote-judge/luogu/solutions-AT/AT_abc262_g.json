[
    {
        "content": "## \u9898\u76ee\u610f\u601d\n\n\u7ed9\u4f60\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217 $a$ \uff0c\u4ece\u524d\u5f80\u540e\u679a\u4e3e\u5143\u7d20\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5143\u7d20\uff0c\u4f60\u53ef\u4ee5\u6267\u884c\u4e0b\u97622\u79cd\u64cd\u4f5c\uff1a\n\n$ 1.$ \u5c06\u5176\u52a0\u5165\u6808 $S$\u3002 \n\n$ 2.$ \u5c06\u5176\u52a0\u5230\u5e8f\u5217 $X$ \u7684\u5c3e\u90e8\u3002\n\n\u65e0\u8bba\u4f55\u65f6\uff0c\u4f60\u90fd\u53ef\u4ee5\u5c06\u6808 $S$ \u7684\u9876\u90e8\u51fa\u6808\u5e76\u52a0\u5230\u5e8f\u5217 $X$ \u7684\u5c3e\u90e8\u3002\n\n\u5f53 $X$ \u6ee1\u8db3\u975e\u964d\u5e8f\u65f6\uff0c\u5f97\u5206\u4e3a $|X|$ \uff0c\u5426\u5219\u5f97\u5206\u4e3a $0$\u3002\n\n\u6c42\u6700\u5927\u53ef\u80fd\u7684\u5f97\u5206\u6570\u3002\n\n\u5176\u4e2d $1\u2264n,a_i\u226450$\u3002\n\n## \u89e3\u6790\n\n\u672c\u9898\u4f7f\u7528DP\u3002\n\n\u8bbe\u8ba1\u72b6\u6001 $dp(i,j,mi,mx)$ \u8868\u793a\u5904\u7406\u5b8c\u533a\u95f4 $[i,j]$ \u540e\u5f97\u5230\u7684\u4e14\u5143\u7d20\u5927\u5c0f\u5728 $[mi,mx]$ \u4e14\u5355\u8c03\u4e0d\u964d\u7684\u6700\u957f\u5e8f\u5217\u957f\u5ea6\u3002\n\n\u8003\u8651\u8f6c\u79fb\uff1a\n\n- \u5220\u9664 $a_i$ \uff0c\u5219\u6709 $dp(i,j,mi,mx)=dp(i+1,j,mi,mx)$\u3002\n\n- \u4e0d\u5220\u9664 $a_i$ \uff0c\u5219\u6709 $mi\u2264a_i\u2264mx$\u3002 \n\n    \u25cb $a_i$ \u6dfb\u52a0\u81f3 $X$ \u4e4b\u540e\uff0c\u8fd9\u65f6    $dp(i,j,mi,mx)=dp(i+1,j,a_i,mx)$\u3002\n    \n    \u25cb $a_i$ \u9700\u8981\u5148\u4f5c\u4e3a\u6808 $S$ \u7684\u6808\u5e95\uff0c\u518d\u88ab\u6574\u4f53\u6dfb\u52a0\u81f3 $X$ \u3002\u679a\u4e3e $k$\uff0c\u8868\u793a\u6574\u4f53\u6dfb\u52a0\u64cd\u4f5c\u5728 $a_k$ \u538b\u5165\u6808\u540e\u53d1\u751f\uff0c\u8fd9\u65f6$dp(i,j,mi,mx)=1+dp(i+1,k,mi,a_i )+dp(k+1,j,a,i,j)$\u3002\n    \n\u6700\u7ec8\u5f97\u5230\u7b54\u6848 $dp(1,n,1,50)$\u3002\n\n## \u4ee3\u7801\n\n```c\n#include <bits/stdc++.h>\nusing namespace std;\n \nint a[101],dp[101][101][101][101];\n \nint main()\n{\n\tint i,j,k,len,n,MIN,MAX;\n\t\n\tcin>>n;\n\t \n\tfor(i=1;i<=n;i++)\n\t{\n\t\tcin>>a[i];\n\t}\n\t\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tfor(MIN=1;MIN<=a[i];MIN++)\n\t\t{\n\t\t\tfor(MAX=a[i];MAX<=50;MAX++)\n\t\t\t{\n\t\t\t\tdp[i][i][MIN][MAX]=1;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfor(len=2;len<=n;len++)\n\t{\n\t\tfor(i=1,j=i+len-1;j<=n;i++,j++)\n\t\t{\n\t\t\tfor(MIN=1;MIN<=50;MIN++)\n\t\t\t{\n\t\t\t\tfor(MAX=MIN;MAX<=50;MAX++)\n\t\t\t\t{\n\t\t\t\t\tdp[i][j][MIN][MAX]=max(dp[i][j][MIN][MAX],dp[i+1][j][MIN][MAX]);\n\t\t\t\t\t\n\t\t\t\t\tif(MIN<=a[i] && a[i]<=MAX)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor(k=i;k<=j;k++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdp[i][j][MIN][MAX]=max(dp[i][j][MIN][MAX],dp[i+1][k][MIN][a[i]]+dp[k+1][j][a[i]][MAX]+1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout<<dp[1][n][1][50];\t\n\treturn 0;\n}\n```",
        "postTime": 1672736417,
        "uid": 816411,
        "name": "Toward_Finality",
        "ccfLevel": 0,
        "title": "AT ABC262 [G]\u9898\u89e3"
    },
    {
        "content": "[\u535a\u5ba2\u56ed\u67e5\u770b](https://www.cnblogs.com/AIskeleton/p/16831617.html)\n\n## Description\n\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $N$ \u7684\u6570\u7ec4 $a$\uff0c\u6c42\u51fa\u5176\u4e2d\u957f\u5ea6\u6700\u957f\u7684\u5b50\u5e8f\u5217\uff0c\u6ee1\u8db3\u8fd9\u4e2a\u5b50\u5e8f\u5217\u80fd\u901a\u8fc7\u4e00\u4e2a\u6808\u8fdb\u884c\u6392\u5e8f\u6ee1\u8db3\u5355\u8c03\u4e0d\u964d\u3002\n\n$N \\le 50,a_i\\le 50$\u3002\n\n## Solution\n\n\u6570\u636e\u8303\u56f4\u8f83\u5c0f\uff0c\u8003\u8651\u533a\u95f4 DP\u3002\n\n\u56e0\u4e3a\u8981\u63a7\u5236\u503c\u57df\u7684\u6761\u4ef6\uff0c\u6240\u4ee5 DP \u6570\u7ec4\u52a0\u4e0a\u4e24\u7ef4\u63a7\u5236\u503c\u57df\u3002\n\n\u5373\uff1a$f_{i,j,x,y}$ \u8868\u793a\u4ece\u7b2c $i$ \u4e2a\u6570\u5230\u7b2c $j$ \u4e2a\u6570\uff0c\u9650\u5236\u5176\u95f4\u6240\u6709\u6570\u7684\u503c\u57df\u5728 $[x,y]$ \u8303\u56f4\u5185\uff0c\u6700\u591a\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u5b57\u4e2a\u6570\u3002\n\n\u8003\u8651\u8f6c\u79fb\uff1a\n\n- \u5220\u9664 $a_i$\uff0c\u5219 $f_{i,j,x,y}=f_{i+1,j,x,y}$\u3002\n- \u4e0d\u5220\u9664 $a_i$,\u5219 $a_i$ \u9996\u5148\u8981\u6ee1\u8db3 $a_i \\in [x,y]$\uff0c\u7136\u540e\u679a\u4e3e $k$\uff0c\u5982\u679c\u5728\u52a0\u5165 $a_k$ \u4e4b\u540e\u52a0\u5165 $a_i$\uff0c\u5219\u6709\u8f6c\u79fb $f_{i,j,x,y}=\\max\\limits_{i < k < j} \\left( f_{i+1,k,x,a_i}+f_{k+1,j,a_i,y}+1 \\right)$\u3002\n\n\u603b\u5171\u6709 $O(N^4)$ \u79cd\u72b6\u6001\uff0c\u8f6c\u79fb $O(N)$\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(N^5)$\u3002\n\n## Code\n\n\u8bb0\u5fc6\u5316\u641c\u7d22\u5373\u53ef\u3002\n\n```cpp\n// LUOGU_RID: 91696925\n/*******************************\n| Author:  A.I.skeleton\n| Problem: G - LIS with Stack\n| Contest: AtCoder - AtCoder Beginner Contest 262\n| URL:     https://atcoder.jp/contests/abc262/tasks/abc262_g\n| When:    2022-10-27 08:37:43\n| \n| Memory:  1024 MB\n| Time:    2000 ms\n*******************************/\n#include <bits/stdc++.h>\nusing namespace std;\n#define me(t,x) memset(t,x,sizeof(t))\n#define L(i,j,k) for(int (i)=(j);i<=(k);(i)++)\n#define FST ios::sync_with_stdio(0);cin.tie(0);\nconst int N=55;int n,a[N],f[N][N][N][N];\nint dfs(int l,int r,int x,int y){\n  if(l>r||x>y) return 0;if(~f[l][r][x][y]) return f[l][r][x][y];\n  int g=dfs(l+1,r,x,y);if(a[l]<x||a[l]>y) return f[l][r][x][y]=g;\n  L(k,l,r) g=max(g,dfs(l+1,k,x,a[l])+dfs(k+1,r,a[l],y)+1);\n  return f[l][r][x][y]=g;\n}int main(){\n  FST;cin>>n;L(i,1,n) cin>>a[i];\n  me(f,-1);cout<<dfs(1,n,1,50)<<endl;\n}\n```",
        "postTime": 1666841385,
        "uid": 540715,
        "name": "A_I_Skeleton",
        "ccfLevel": 0,
        "title": "AT_abc262_g"
    }
]