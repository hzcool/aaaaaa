[
    {
        "content": "~~\u7eaa\u5ff5\u4e00\u4e0b\u8fd9\u9053\u6709\u5751\u7684\u9898 \u8c03\u4e86\u51e0\u4e2a\u5c0f\u65f6~~\n\n~~\u611f\u89c9\u6211\u7684\u505a\u6cd5\u6709\u70b9\u5947\u6280\u6deb\u5de7\u7684\u5473\u9053QAQ~~\n\n1. \u5148\u628a\u76d2\u5b50**\u6309\u5bbd**\u6392\u4e00\u904d\u5e8f \u7136\u540e\u8bb0\u5f55\u4e0b\u6bcf\u4e2a\u76d2\u5b50**\u539f\u6765(\u8bfb\u5165\u65f6\u7684)\u4f4d\u7f6e \u5728\u5bbd\u5347\u5e8f\u7684\u60c5\u51b5\u4e0b**\u6392\u540d\u7b2c\u51e0(ys) \n\n\u56e0\u4e3a\u540e\u9762\u8fd8\u8981**\u6309\u957f**\u6392\u4e00\u904d\u5e8f\uff0c\u4e24\u6b21\u6392\u5e8f\u540e**\u53ea\u6709p(\u539f\u4f4d\u7f6e)\u53ef\u4ee5\u8bb0\u5f55\u4e14\u4fdd\u6301\u4e0d\u53d8**\n\n2. \u7528**\u6811\u72b6\u6570\u7ec4\u7ef4\u62a4\u5df2\u627e\u5230\u7b54\u6848\u6700\u5927\u503c\uff0c\u4e0b\u6807\u662f\u6309\u5bbd\u6392\u5e8f\u5904\u7406\u540e\u7684\u6570\u7ec4(ys)** \n\n3. \u6309\u957f\u518d\u6392\u4e00\u904d\u5e8f \u4fdd\u8bc1\u5f53\u524d\u6570\u7ec4\u6309\u957f\u5347\u5e8f \u5bfb\u627e\u65f6 **\u5148\u627e\u56de\u5728\u6309\u5bbd\u6392\u5e8f(ys)\u91cc\u9762\u7684\u6392\u540d \u518d\u5728\u6811\u72b6\u6570\u7ec4\u91cc\u627e\u6700\u5927\u7684\u7ee7\u627f**\n\n\u5f53\u7136\uff0c\u8fd8\u6709\u5f88\u591a\u7ec6\u8282(\u5751\uff01\uff01\uff01)\uff0c\u90fd\u5728\u4ee3\u7801\u91cc\u9762\u5566\n\nUPD:\u5176\u5b9e\u8fd9\u9898\u5c31\u662f\u6700\u957f\uff08\u4e25\u683c\uff09\u4e0a\u5347\u5b50\u5e8f\u5217\u5566QAQ\u6211\u6492\u4e86\u2026\u2026\n\ncode:\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define ri register int\n#include<queue>\nusing namespace std;\ninline int mymax(ri x,ri y){return x>y?x:y;}\ninline int mymin(ri x,ri y){return x<y?x:y;}\nstruct node\n{\n    int x,y,p;\n}a[110000];\n\nstruct myqueue\n{\n    int x,p,c;\n}stack[110000]; int top;\n\ninline bool cmp(node n1,node n2)\n{//\u6ce8\u610f\u7b26\u53f7 cmp\u662f\u6309\u957f(\u8f93\u5165\u7684\u7b2c\u4e00\u4e2a)\u4f18\u5148\u6392\u5e8f\u7684 \n    if(n1.x==n2.x)return n1.y<n2.y;\n    return n1.x<n2.x;\n}\ninline bool mmp(node n1,node n2)\n{//\u6309\u5bbd\u4f18\u5148\u6392\u5e8f\u7684 \u7531\u4e8e\u8981\u907f\u514d\u5bbd\u5ea6\u76f8\u7b49\u65f6\u91cd\u590d\u8ba1\u7b97\uff0c\u6545\u6b64\u65f6\u7b2c\u4e8c\u4f18\u5148\u5b57\u957f\u6309\u964d\u5e8f\u6392 \u8ba9\u5148\u51fa\u73b0\u7684\u6392\u5728\u540e\u9762\uff0c\u540e\u51fa\u73b0\u7684\u6392\u5728\u524d\u9762\uff0c\u5c31\u53ef\u4ee5\u907f\u514d\uff08y\u76f8\u540c\u65f6\uff09\u540e\u51fa\u73b0\u7684\u7ee7\u627f\u524d\u9762\u51fa\u73b0\u7684\n    if(n1.y==n2.y)return n1.x>n2.x;\n    return n1.y<n2.y;\n}\nint n;\nint ys[110000];\n\nint f[110000];//\u6811\u72b6\u6570\u7ec4 f[i]\u8bb0\u5f55\u5bbd\u5ea6<=a[i].x\u7684\u76d2\u5b50\u4e2d\u6700\u591a\u80fd\u653e\u51e0\u4e2a\u76d2\u5b50 \ninline int lowbit(ri x){return x&-x;}//\u6811\u72b6\u6570\u7ec4 \n\ninline int ask(ri x)\n{\n    ri maxn=0,p=ys[ a[x].p ];\n    for(int i=p;i;i-=lowbit(i))maxn=mymax(maxn,f[i]);\n    return maxn;\n}\n\ninline void add(ri x,ri c)\n{\n    ri p=ys[ a[x].p ];\n    for(int i=p;i<=n;i+=lowbit(i))f[i]=mymax(f[i],c);\n}\n\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)\n    {\n        scanf(\"%d%d\",&a[i].x,&a[i].y);\n        a[i].p=i;\n    }\n\n    sort(a+1,a+n+1,mmp);\n    for(int i=1;i<=n;i++)\n    {\n        ys[ a[i].p ]=i;\n    }\n\n    sort(a+1,a+n+1,cmp); int ans=0;\n    for(int i=1;i<=n;i++)\n    {\n        while( top && a[ stack[top].p ].x<a[i].x )//\u5f53\u6709\u5f88\u591a\u4e2a\u957f\u76f8\u7b49\u7684\u7bb1\u5b50\u65f6\uff0c\u52a0\u5165\u5907\u9009\u6808 \u56e0\u4e3a\u957f\u6216\u5bbd\u76f8\u7b49\u90fd\u4e0d\u80fd\u5957\u8fdb\n        {\n            add(stack[top].p,stack[top].c);\n            top--;\n        }\n        int c=ask(i)+1; ans=mymax(ans,c);\n        top++; stack[top].x=a[i].y; stack[top].p=i; stack[top].c=c;\n    }\n    printf(\"%d\\n\",ans);\n    return 0;\n}\n```\n",
        "postTime": 1572506607,
        "uid": 120905,
        "name": "\u0421\u0442\u0430\u043b\u0438\u043d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 AT1903 \u3010\u30d7\u30ec\u30bc\u30f3\u30c8\u3011"
    }
]