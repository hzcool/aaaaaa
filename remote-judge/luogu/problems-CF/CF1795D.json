{
    "description": "You are given an undirected graph consisting of $ n $ vertices and $ n $ edges, where $ n $ is divisible by $ 6 $ . Each edge has a weight, which is a positive (greater than zero) integer.\n\nThe graph has the following structure: it is split into $ \\frac{n}{3} $ triples of vertices, the first triple consisting of vertices $ 1, 2, 3 $ , the second triple consisting of vertices $ 4, 5, 6 $ , and so on. Every pair of vertices from the same triple is connected by an edge. There are no edges between vertices from different triples.\n\nYou have to paint the vertices of this graph into two colors, red and blue. Each vertex should have exactly one color, there should be exactly $ \\frac{n}{2} $ red vertices and $ \\frac{n}{2} $ blue vertices. The coloring is called valid if it meets these constraints.\n\nThe weight of the coloring is the sum of weights of edges connecting two vertices with different colors.\n\nLet $ W $ be the maximum possible weight of a valid coloring. Calculate the number of valid colorings with weight $ W $ , and print it modulo $ 998244353 $ .",
    "inputFormat": "The first line contains one integer $ n $ ( $ 6 \\le n \\le 3 \\cdot 10^5 $ , $ n $ is divisible by $ 6 $ ).\n\nThe second line contains $ n $ integers $ w_1, w_2, \\dots, w_n $ ( $ 1 \\le w_i \\le 1000 $ ) \u2014 the weights of the edges. Edge $ 1 $ connects vertices $ 1 $ and $ 2 $ , edge $ 2 $ connects vertices $ 1 $ and $ 3 $ , edge $ 3 $ connects vertices $ 2 $ and $ 3 $ , edge $ 4 $ connects vertices $ 4 $ and $ 5 $ , edge $ 5 $ connects vertices $ 4 $ and $ 6 $ , edge $ 6 $ connects vertices $ 5 $ and $ 6 $ , and so on.",
    "outputFormat": "Print one integer \u2014 the number of valid colorings with maximum possible weight, taken modulo $ 998244353 $ .",
    "samples": [
        [
            "12\n1 3 3 7 8 5 2 2 2 2 4 2",
            "36"
        ],
        [
            "6\n4 2 6 6 6 4",
            "2"
        ]
    ],
    "hint": "The following picture describes the graph from the first example test.\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1795D/4ae4faa6e7106558b0f38fa8feb77e73227352e2.png)The maximum possible weight of a valid coloring of this graph is $ 31 $ .",
    "translation": "### \u7b80\u8ff0\u9898\u610f\n\u4e00\u5171\u6709 $n$ \u6761\u8fb9\uff08 $n$ \u662f $6$ \u7684\u500d\u6570\uff09 \uff0c\u6bcf\u8fde\u7eed\u4e09\u6761\u8fb9\u6784\u6210\u4e00\u4e2a\u4e09\u89d2\u5f62\uff08\u6bd4\u5982\u82e5 $n=6$ \u90a3\u4e48\u7b2c $1,2,3$ \u6761\u8fb9\u6784\u6210\u4e00\u4e2a\u4e09\u89d2\u5f62\uff0c $4,5,6$ \u6761\u8fb9\u6784\u6210\u53e6\u4e00\u4e2a\u4e09\u89d2\u5f62 \uff09\uff0c\u6bcf\u6761\u8fb9\u6709\u4e00\u4e2a\u6743\u503c $w_i$ \uff0c\u73b0\u5728\u4f60\u53ef\u4ee5\u628a\u6240\u6709\u4e09\u89d2\u5f62\u7684\u9876\u70b9\u6d82\u6210\u84dd\u8272\u6216\u7ea2\u8272\uff0c__\u4e14\u8981\u6c42\u6709 $\\frac{n}{2}$ \u4e2a\u84dd\u70b9\u548c $\\frac{n}{2}$ \u4e2a\u7ea2\u70b9__\uff0c\u5b9a\u4e49\u603b\u6743\u503c\u4e3a\u6240\u6709\u4e24\u7aef\u70b9\u989c\u8272\u4e0d\u540c\u7684\u8fb9\u7684\u6743\u503c\u548c\uff0c\u95ee\u6709\u591a\u5c11\u79cd\u6d82\u8272\u65b9\u6848\u53ef\u4ee5\u4f7f\u603b\u6743\u503c\u6700\u5927\uff08\u7b54\u6848\u6a21 $998244353$ \uff09\u3002\n### \u8f93\u5165\u8f93\u51fa\n\u8f93\u5165\u5171\u4e24\u884c\uff1a\n\n\u7b2c\u4e00\u884c\u4e00\u4e2a\u6574\u6570 $n$ \uff0c\u4ee3\u8868\u603b\u8fb9\u6570\u3002\n\n\u7b2c\u4e8c\u884c\u5171 $n$ \u4e2a\u6574\u6570\uff0c\u5176\u4e2d\u7b2c $i$ \u4e2a\u6570\u4e3a $w_i$ \uff0c\u4ee3\u8868\u6bcf\u6761\u8fb9\u7684\u6743\u503c\u3002\n\n\u8f93\u51fa\u4e00\u4e2a\u6574\u6570\uff0c\u4ee3\u8868\u603b\u65b9\u6848\u6570\u6a21 $998244353$ \u7684\u503c"
}