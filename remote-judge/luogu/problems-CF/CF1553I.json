{
    "description": "For a permutation $ p $ of numbers $ 1 $ through $ n $ , we define a stair array $ a $ as follows: $ a_i $ is length of the longest segment of permutation which contains position $ i $ and is made of consecutive values in sorted order: $ [x, x+1, \\ldots, y-1, y] $ or $ [y, y-1, \\ldots, x+1, x] $ for some $ x \\leq y $ . For example, for permutation $ p = [4, 1, 2, 3, 7, 6, 5] $ we have $ a = [1, 3, 3, 3, 3, 3, 3] $ .\n\nYou are given the stair array $ a $ . Your task is to calculate the number of permutations which have stair array equal to $ a $ . Since the number can be big, compute it modulo $ 998\\,244\\,353 $ . Note that this number can be equal to zero.",
    "inputFormat": "The first line of input contains integer $ n $ ( $ 1 \\le n \\le 10^5 $ ) \u2014 the length of a stair array $ a $ .\n\nThe second line of input contains $ n $ integers $ a_1, a_2, \\ldots, a_n $ ( $ 1 \\le a_i \\le n $ ).",
    "outputFormat": "Print the number of permutations which have stair array equal to $ a $ . Since the number can be big, compute it modulo $ 998\\,244\\,353 $ .",
    "samples": [
        [
            "6\n3 3 3 1 1 1",
            "6"
        ],
        [
            "7\n4 4 4 4 3 3 3",
            "6"
        ],
        [
            "1\n1",
            "1"
        ],
        [
            "8\n2 2 2 2 2 2 1 1",
            "370"
        ],
        [
            "4\n3 2 3 1",
            "0"
        ]
    ],
    "hint": "",
    "translation": "\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u6392\u5217 $p$\u3002\n\n\u4ee4\u5176\u4e2d\u7b2c $i$ \u4e2a\u4f4d\u7f6e\u7684\u6743\u503c\u4e3a $p$ \u4e2d\u6700\u957f\u7684\u5305\u542b $i$ \u7684\u8fde\u7eed\u81ea\u7136\u6570\u6309\u987a\u5e8f\u7ec4\u6210\u7684\u533a\u95f4\u7684\u957f\u5ea6\u3002\u4f8b\u5982\uff0c$p=[4,1,2,3,7,6,5]$ \u4e2d\uff0c\u7b2c $6$ \u4e2a\u4f4d\u7f6e\u7684\u6743\u503c\u4e3a $[5,7]$ \u7684\u957f\u5ea6\uff0c\u7b2c $2$ \u4e2a\u4f4d\u7f6e\u7684\u6743\u503c\u4e3a $[2,4]$ \u7684\u957f\u5ea6\u3002\n\n\u5c06\u8fd9\u4e9b\u6743\u503c\u4f9d\u6b21\u62fc\u5728\u4e00\u8d77\uff0c\u5c31\u5f97\u5230\u4e86 $p$ \u7684\u300c\u9636\u68af\u5e8f\u5217\u300d\u3002\n\n\u7ed9\u5b9a $a$\uff0c\u4f60\u9700\u8981\u6c42\u51fa\u5b58\u5728\u591a\u5c11\u4e2a $p$\uff0c\u4f7f\u5f97 $a$ \u4e3a $p$ \u7684\u300c\u9636\u68af\u5e8f\u5217\u300d\u3002\u7b54\u6848\u5bf9 $998244353$ \u53d6\u6a21\u3002"
}