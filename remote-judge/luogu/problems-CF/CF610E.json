{
    "description": "You are given a string $ s $ of length $ n $ , consisting of first $ k $ lowercase English letters.\n\nWe define a  $ c $ -repeat of some string $ q $ as a string, consisting of $ c $ copies of the string $ q $ . For example, string \"acbacbacbacb\" is a $ 4 $ -repeat of the string \"acb\".\n\nLet's say that string $ a $ contains string $ b $ as a subsequence, if string $ b $ can be obtained from $ a $ by erasing some symbols.\n\nLet $ p $ be a string that represents some permutation of the first $ k $ lowercase English letters. We define function $ d(p) $ as the smallest integer such that a $ d(p) $ -repeat of the string $ p $ contains string $ s $ as a subsequence.\n\nThere are $ m $ operations of one of two types that can be applied to string $ s $ :\n\n1. Replace all characters at positions from $ l_{i} $ to $ r_{i} $ by a character $ c_{i} $ .\n2. For the given $ p $ , that is a permutation of first $ k $ lowercase English letters, find the value of function $ d(p) $ .\n\nAll operations are performed sequentially, in the order they appear in the input. Your task is to determine the values of function $ d(p) $ for all operations of the second type.",
    "inputFormat": "The first line contains three positive integers $ n $ , $ m $ and $ k $ ( $ 1<=n<=200000,1<=m<=20000,1<=k<=10 $ ) \u2014 the length of the string $ s $ , the number of operations and the size of the alphabet respectively. The second line contains the string $ s $ itself.\n\nEach of the following lines $ m $ contains a description of some operation:\n\n1. Operation of the first type starts with $ 1 $ followed by a triple $ l_{i} $ , $ r_{i} $ and $ c_{i} $ , that denotes replacement of all characters at positions from $ l_{i} $ to $ r_{i} $ by character $ c_{i} $ ( $ 1<=l_{i}<=r_{i}<=n $ , $ c_{i} $ is one of the first $ k $ lowercase English letters).\n2. Operation of the second type starts with $ 2 $ followed by a permutation of the first $ k $ lowercase English letters.",
    "outputFormat": "For each query of the second type the value of function $ d(p) $ .",
    "samples": [
        [
            "7 4 3\nabacaba\n1 3 5 b\n2 abc\n1 4 4 c\n2 cba\n",
            "6\n5\n"
        ]
    ],
    "hint": "After the first operation the string $ s $ will be abbbbba.\n\nIn the second operation the answer is $ 6 $ -repeat of abc: ABcaBcaBcaBcaBcAbc.\n\nAfter the third operation the string $ s $ will be abbcbba.\n\nIn the fourth operation the answer is $ 5 $ -repeat of cba: cbAcBacBaCBacBA.\n\nUppercase letters means the occurrences of symbols from the string $ s $ .",
    "translation": "\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n\\ (n<=200000)$ \u7684\u5b57\u7b26\u4e32 $s$ \uff0c\u4e14 $s$ \u4ec5\u5305\u542b\u524d $k$ \u4e2a\u5c0f\u5199\u5b57\u6bcd\uff0c\u6709\u4e24\u79cd\u64cd\u4f5c\uff1a\n\n1.\u5c06\u533a\u95f4 $[L,R]$ \u5185\u7684\u5b57\u7b26\u53d8\u4e3a $ch$\u3002\n\n2.\u7ed9\u5b9a\u957f\u5ea6\u4e3a $k$ \u7684\u5b57\u7b26\u4e32\u6392\u5217 $t$\uff08\u524d $k$ \u4e2a\u5c0f\u5199\u5b57\u6bcd\u6784\u6210\u7684\u5b57\u7b26\u4e32\u6392\u5217\uff09\uff0c\u5411 $s$ \u4e32\u4e2d\u6dfb\u52a0\u5b57\u7b26\uff0c\u4f7f\u5f97 $t$ \u662f $s$ \u7684\u4e00\u4e2a\u5faa\u73af\u8282\uff0c\u6c42\u6700\u5c11\u7684\u5faa\u73af\u6b21\u6570\uff08\u5373 $\\dfrac{|S|}{|T|}$ \uff09\u3002\n\n$2$ \u64cd\u4f5c\u76f8\u4e92\u4e4b\u95f4\u72ec\u7acb\u3002\n\n\u6700\u591a $20000$ \u6b21\u64cd\u4f5c\uff0c$k\\le 10$\u3002"
}