{
    "description": "Nagini, being a horcrux You-know-who created with the murder of Bertha Jorkins, has accumulated its army of snakes and is launching an attack on Hogwarts school.\n\nHogwarts' entrance can be imagined as a straight line (x-axis) from $ 1 $ to $ 10^{5} $ . Nagini is launching various snakes at the Hogwarts entrance. Each snake lands parallel to the entrance, covering a segment at a distance $ k $ from $ x=l $ to $ x=r $ . Formally, each snake can be imagined as being a line segment between points $ (l,k) $ and $ (r,k) $ . Note that $ k $ can be both positive and negative, but not $ 0 $ .\n\nLet, at some $ x $ -coordinate $ x=i $ , there be snakes at point $ (i,y_{1}) $ and point $ (i,y_{2}) $ , such that $ y_{1}&gt;0 $ and $ y_{2}&lt;0 $ . Then, if for any point $ (i,y_{3}) $ containing a snake such that $ y_{3}&gt;0 $ , $ y_{1}<=y_{3} $ holds and for any point $ (i,y_{4}) $ containing a snake such that $ y_{4}&lt;0 $ , $ |y_{2}|<=|y_{4}| $ holds, then the danger value at coordinate $ x=i $ is $ y_{1}+|y_{2}| $ . If no such $ y_{1} $ and $ y_{2} $ exist, danger value is $ 0 $ .\n\nHarry wants to calculate the danger value of various segments of the Hogwarts entrance. Danger value for a segment $ [l,r) $ of the entrance can be calculated by taking the sum of danger values for each integer $ x $ -coordinate present in the segment.\n\nFormally, you have to implement two types of queries:\n\n- 1 l r k: a snake is added parallel to entrance from $ x=l $ to $ x=r $ at y-coordinate $ y=k $ ( $ l $ inclusive, $ r $ exclusive).\n- 2 l r: you have to calculate the danger value of segment $ l $ to $ r $ ( $ l $ inclusive, $ r $ exclusive).",
    "inputFormat": "First line of input contains a single integer $ q $ ( $ 1<=q<=5\u00b710^{4} $ ) denoting the number of queries.\n\nNext $ q $ lines each describe a query. Each query description first contains the query type $ type_{i} $ ( $ 1<=type_{i}<=2 $ ). This is followed by further description of the query. In case of the type being $ 1 $ , it is followed by integers $ l_{i},r_{i} $ and $ k_{i} $ (![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF855F/70e1e8e26ec59a2d93f7fe29ed7bb78b7709329f.png), $ -10^{9}<=k_{i}<=10^{9} $ , $ k\u22600 $ ). Otherwise, it just contains two integers, $ l_{i} $ and $ r_{i} $ ( $ 1<=l_{i}&lt;r_{i}<=10^{5} $ ).",
    "outputFormat": "Output the answer for each query of type 2 in a separate line.",
    "samples": [
        [
            "3\n1 1 10 10\n1 2 4 -7\n2 1 10\n",
            "34\n"
        ],
        [
            "7\n1 2 3 5\n1 1 10 10\n1 4 5 -5\n2 4 8\n1 1 10 -10\n2 4 8\n2 1 10\n",
            "15\n75\n170\n"
        ]
    ],
    "hint": "In the first sample case, the danger value for $ x $ -coordinates $ 1 $ is $ 0 $ as there is no $ y_{2} $ satisfying the above condition for $ x=1 $ .\n\nDanger values for $ x $ -coordinates $ 2 $ and $ 3 $ is $ 10+|-7|=17 $ .\n\nDanger values for $ x $ -coordinates $ 4 $ to $ 9 $ is again $ 0 $ as there is no $ y_{2} $ satisfying the above condition for these coordinates.\n\nThus, total danger value is $ 17+17=34 $ .",
    "translation": "### \u9898\u76ee\u63cf\u8ff0\n\u6709$10^5$\u4e2a\u96c6\u5408\uff0c\u7f16\u53f7\u4ece$1$\u5230$10^5$\u3002\u6bcf\u4e00\u4e2a\u96c6\u5408\u5185\u521d\u59cb\u6ca1\u6709\u5143\u7d20\u3002\u4f60\u9700\u8981\u652f\u6301\u4e24\u4e2a\u64cd\u4f5c\uff1a\n\n$1\\ l\\ r\\ k(1 \\leq l < r \\leq 10^5 , k \\in [-10^9,0) \\cap (0 , 10^9])$\uff1a\u5728\u7f16\u53f7\u5728$[l,r)$\u7684\u96c6\u5408\u4e2d\u52a0\u5165\u5143\u7d20$k$\uff1b\n\n$2\\ l\\ r(1 \\leq l < r \\leq 10^5)$\uff1a\u8be2\u95ee\u7f16\u53f7\u5728$[l,r)$\u5185\u7684\u96c6\u5408\u7684\u6743\u503c\u548c\u3002\n\n\u4e00\u4e2a\u96c6\u5408\u7684\u6743\u503c\u5b9a\u4e49\u4e3a\uff1a\u5982\u679c\u96c6\u5408\u4e2d\u540c\u65f6\u5b58\u5728$>0$\u7684\u5143\u7d20\u548c$<0$\u7684\u5143\u7d20\uff0c\u5219\u5176\u6743\u503c\u4e3a\u6700\u5c0f\u7684$>0$\u7684\u5143\u7d20\u548c\u6700\u5927\u7684$<0$\u7684\u5143\u7d20\u7684\u7edd\u5bf9\u503c\u7684\u548c\uff0c\u5426\u5219\u4e3a$0$\u3002\n### \u8f93\u5165\u683c\u5f0f\n\u7b2c\u4e00\u884c\u4e00\u4e2a\u6b63\u6574\u6570$q(1 \\leq q \\leq 5 \\times 10^4)$\u8868\u793a\u64cd\u4f5c\u6570\u3002\n\n\u63a5\u4e0b\u6765$q$\u884c\u6bcf\u884c\u4e00\u4e2a\u64cd\u4f5c\u3002\n### \u8f93\u51fa\u683c\u5f0f\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a$2$\u64cd\u4f5c\u8f93\u51fa\u4e00\u884c\u8868\u793a\u7b54\u6848\u3002"
}