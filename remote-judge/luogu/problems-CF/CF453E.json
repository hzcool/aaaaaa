{
    "description": "Lord Tirek is a centaur and the main antagonist in the season four finale episodes in the series \"My Little Pony: Friendship Is Magic\". In \"Twilight's Kingdom\" (Part 1), Tirek escapes from Tartarus and drains magic from ponies to grow stronger.\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF453E/643ac83a27b2195ea33883fd4f5562486272f6c4.png)The core skill of Tirek is called Absorb Mana. It takes all mana from a magic creature and gives them to the caster.\n\nNow to simplify the problem, assume you have $ n $ ponies (numbered from 1 to $ n $ ). Each pony has three attributes:\n\n- $ s_{i} $ : amount of mana that the pony has at time 0;\n- $ m_{i} $ : maximum mana that the pony can have;\n- $ r_{i} $ : mana regeneration per unit time.\n\nLord Tirek will do $ m $ instructions, each of them can be described with three integers: $ t_{i},l_{i},r_{i} $ . The instruction means that at time $ t_{i} $ , Tirek will use Absorb Mana on ponies with numbers from $ l_{i} $ to $ r_{i} $ (both borders inclusive). We'll give you all the $ m $ instructions in order, count how much mana Tirek absorbs for each instruction.",
    "inputFormat": "The first line contains an integer $ n $ ( $ 1<=n<=10^{5} $ ) \u2014 the number of ponies. Each of the next $ n $ lines contains three integers $ s_{i},m_{i},r_{i} $ $ (0<=s_{i}<=m_{i}<=10^{5};\u00a00<=r_{i}<=10^{5}) $ , describing a pony.\n\nThe next line contains an integer $ m $ ( $ 1<=m<=10^{5} $ ) \u2014 the number of instructions. Each of the next $ m $ lines contains three integers $ t_{i},l_{i},r_{i} $ $ (0<=t_{i}<=10^{9};\u00a01<=l_{i}<=r_{i}<=n) $ , describing an instruction of Lord Tirek. The instructions are given in strictly increasing order of $ t_{i} $ (all $ t_{i} $ are distinct).",
    "outputFormat": "For each instruction, output a single line which contains a single integer, the total mana absorbed in this instruction.",
    "samples": [
        [
            "5\n0 10 1\n0 12 1\n0 20 1\n0 12 1\n0 10 1\n2\n5 1 5\n19 1 5\n",
            "25\n58\n"
        ]
    ],
    "hint": "Every pony starts with zero mana. For the first instruction, each pony has 5 mana, so you get 25 mana in total and each pony has 0 mana after the first instruction.\n\nFor the second instruction, pony 3 has 14 mana and other ponies have mana equal to their $ m_{i} $ .",
    "translation": "- \u7ef4\u62a4\u4e00\u4e2a\u957f\u5ea6\u4e3a $n(1\\le n \\le 10^5)$ \u7684\u6570\u7ec4 $s$\uff0c\u521d\u503c\u7ed9\u5b9a\u4e14 $0 \\le s_i \\le 10^5$\u3002\n- \u6bcf\u8fc7 $1$ \u5355\u4f4d\u65f6\u95f4\uff0c\u90fd\u4f1a\u5bf9\u4e8e\u6240\u6709 $[1,n]$ \u4e4b\u95f4\u7684\u6574\u6570 $i$\uff0c\u6267\u884c $s_i \\gets \\min\\{m_i,s_i+r_i\\}$\u3002\u5176\u4e2d $m_i$ \u548c $r_i$ \u7ed9\u5b9a\u4e14 $0 \\le m_i, r_i \\le 10^5$\u3002\n- \u7ef4\u62a4 $m(1\\le m \\le 10^5)$ \u6b21\u64cd\u4f5c\uff0c\u6bcf\u6b21\u64cd\u4f5c\u65f6\u4f1a\u5c06\u65f6\u95f4\u8bbe\u4e3a $t(0 \\le t \\le 10^9)$\uff0c\u5e76\u4e14\u67e5\u8be2 $s$ \u6570\u7ec4 $[l,r]$ \u533a\u95f4\u548c\u3002\u6bcf\u6b21\u64cd\u4f5c\u7ed3\u675f\u540e\u4f1a\u5c06 $s$ \u6570\u7ec4\u7684 $[l,r]$ \u533a\u95f4\u63a8\u5e73\u4e3a $0$\uff0c\u4fdd\u8bc1 $t_i$ \u9012\u589e\u3002\n- \u521d\u59cb\u6ca1\u6709\u8fdb\u884c\u64cd\u4f5c\u65f6\u65f6\u95f4\u4e3a $0$\u3002"
}