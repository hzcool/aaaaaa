{
    "description": "Don't put up with what you're sick of! The Smart Beaver decided to escape from the campus of Beaver Science Academy (BSA). BSA is a $ b\u00d7b $ square on a plane. Each point $ x,y $ $ (0<=x,y<=b) $ belongs to BSA. To make the path quick and funny, the Beaver constructed a Beaveractor, an effective and comfortable types of transport.\n\nThe campus obeys traffic rules: there are $ n $ arrows, parallel to the coordinate axes. The arrows do not intersect and do not touch each other. When the Beaveractor reaches some arrow, it turns in the arrow's direction and moves on until it either reaches the next arrow or gets outside the campus. The Beaveractor covers exactly one unit of space per one unit of time. You can assume that there are no obstacles to the Beaveractor.\n\nThe BSA scientists want to transport the brand new Beaveractor to the \"Academic Tractor\" research institute and send the Smart Beaver to do his postgraduate studies and sharpen pencils. They have $ q $ plans, representing the Beaveractor's initial position $ (x_{i},y_{i}) $ , the initial motion vector $ w_{i} $ and the time $ t_{i} $ that have passed after the escape started.\n\nYour task is for each of the $ q $ plans to determine the Smart Beaver's position after the given time.",
    "inputFormat": "The first line contains two integers: the number of traffic rules $ n $ and the size of the campus $ b $ , $ 0<=n $ , $ 1<=b $ . Next $ n $ lines contain the rules. Each line of the rules contains four space-separated integers $ x_{0} $ , $ y_{0} $ , $ x_{1} $ , $ y_{1} $ \u2014 the beginning and the end of the arrow. It is guaranteed that all arrows are parallel to the coordinate axes and have no common points. All arrows are located inside the campus, that is, $ 0<=x_{0},y_{0},x_{1},y_{1}<=b $ holds.\n\nNext line contains integer $ q $ \u2014 the number of plans the scientists have, $ 1<=q<=10^{5} $ . The $ i $ -th plan is represented by two integers, $ x_{i} $ , $ y_{i} $ are the Beaveractor's coordinates at the initial time, $ 0<=x_{i},y_{i}<=b $ , character $ w_{i} $ , that takes value U, D, L, R and sets the initial direction up, down, to the left or to the right correspondingly (the Y axis is directed upwards), and $ t_{i} $ \u2014 the time passed after the escape started, $ 0<=t_{i}<=10^{15} $ .\n\n- to get 30 points you need to solve the problem with constraints $ n,b<=30 $ (subproblem D1);\n- to get 60 points you need to solve the problem with constraints $ n,b<=1000 $ (subproblems D1+D2);\n- to get 100 points you need to solve the problem with constraints $ n,b<=10^{5} $ (subproblems D1+D2+D3).",
    "outputFormat": "Print $ q $ lines. Each line should contain two integers \u2014 the Beaveractor's coordinates at the final moment of time for each plan. If the Smart Beaver manages to leave the campus in time $ t_{i} $ , print the coordinates of the last point in the campus he visited.",
    "samples": [
        [
            "3 3\n0 0 0 1\n0 2 2 2\n3 3 2 3\n12\n0 0 L 0\n0 0 L 1\n0 0 L 2\n0 0 L 3\n0 0 L 4\n0 0 L 5\n0 0 L 6\n2 0 U 2\n2 0 U 3\n3 0 U 5\n1 3 D 2\n1 3 R 2\n",
            "0 0\n0 1\n0 2\n1 2\n2 2\n3 2\n3 2\n2 2\n3 2\n1 3\n2 2\n1 3\n"
        ]
    ],
    "hint": ""
}