{
    "description": "Given a rooted tree, define the value of vertex $ u $ in the tree recursively as the MEX $ ^\\dagger $ of the values of its children. Note that it is only the children, not all of its descendants. In particular, the value of a leaf is $ 0 $ .\n\nPak Chanek has a rooted tree that initially only contains a single vertex with index $ 1 $ , which is the root. Pak Chanek is going to do $ q $ queries. In the $ i $ -th query, Pak Chanek is given an integer $ x_i $ . Pak Chanek needs to add a new vertex with index $ i+1 $ as the child of vertex $ x_i $ . After adding the new vertex, Pak Chanek needs to recalculate the values of all vertices and report the sum of the values of all vertices in the current tree.\n\n $ ^\\dagger $ The MEX (minimum excluded) of an array is the smallest non-negative integer that does not belong to the array. For example, the MEX of $ [0,1,1,2,6,7] $ is $ 3 $ and the MEX of $ [6,9] $ is $ 0 $ .",
    "inputFormat": "The first line contains a single integer $ q $ ( $ 1 \\le q \\le 3 \\cdot 10^5 $ ) \u2014 the number of operations.\n\nEach of the next $ q $ lines contains a single integer $ x_i $ ( $ 1 \\leq x_i \\leq i $ ) \u2014 the description of the $ i $ -th query.",
    "outputFormat": "For each query, print a line containing an integer representing the sum of the new values of all vertices in the tree after adding the vertex.",
    "samples": [
        [
            "7\n1\n1\n3\n2\n5\n2\n1",
            "1\n1\n3\n2\n4\n4\n7"
        ],
        [
            "8\n1\n1\n1\n1\n5\n6\n7\n8",
            "1\n1\n1\n1\n3\n2\n4\n3"
        ]
    ],
    "hint": "In the first example, the tree after the $ 6 $ -th query will look like this.\n\n![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1740H/3ec9701f0fba73cbe3f2ff2eaf9014df304908e5.png)\n\n- Vertex $ 7 $ is a leaf, so its value is $ 0 $ .\n- Vertex $ 6 $ is a leaf, so its value is $ 0 $ .\n- Vertex $ 5 $ only has a child with value $ 0 $ , so its value is $ 1 $ .\n- Vertex $ 4 $ is a leaf, so its value is $ 0 $ .\n- Vertex $ 3 $ only has a child with value $ 0 $ , so its value is $ 1 $ .\n- Vertex $ 2 $ has children with values $ 0 $ and $ 1 $ , so its value is $ 2 $ .\n- Vertex $ 1 $ has children with values $ 1 $ and $ 2 $ , so its value is $ 0 $ .\n\nThe sum of the values of all vertices is $ 0+0+1+0+1+2+0=4 $ .",
    "translation": "### \u9898\u76ee\u63cf\u8ff0\n\n\u5b9a\u4e49\u4e00\u68f5\u6811\u4e0a\u6bcf\u4e2a\u8282\u70b9\u7684\u503c\u4e3a\u5176\u6240\u6709\u513f\u5b50\u7684\u503c\u7684 MEX\uff0c\u53f6\u5b50\u8282\u70b9\u7684\u503c\u4e3a $0$\u3002\n\n\u73b0\u5728\u6709\u4e00\u4e2a\u521d\u59cb\u53ea\u6709\u8282\u70b9 $1$ \u7684\u6811\uff0c\u6bcf\u6b21\u8f93\u5165\u4e00\u4e2a $x_i$ \u4ee3\u8868\u52a0\u5165\u4e00\u4e2a\u70b9 $i+1$\uff0c\u5b83\u7684\u7236\u4eb2\u4e3a $x_i$\uff0c\u6c42\u52a0\u5165\u8fd9\u4e2a\u70b9\u4e4b\u540e\u6811\u4e0a\u6240\u6709\u70b9\u7684\u6743\u503c\u548c\u3002\n\n### \u8f93\u5165\u63cf\u8ff0\n\n\u7b2c\u4e00\u884c\u4e00\u4e2a\u6570 $q$\uff0c\u63a5\u4e0b\u6765\u63a5\u4e0b\u6765 $q$ \u884c\u6bcf\u884c\u4e00\u4e2a\u6570 $x_i$\u3002\n\n### \u8f93\u51fa\u63cf\u8ff0\n\n\u8f93\u51fa $q$ \u884c\uff0c\u6bcf\u884c\u4e00\u4e2a\u6570\uff0c\u4ee3\u8868\u52a0\u5165\u70b9 $i+1$ \u540e\u6240\u6709\u70b9\u7684\u503c\u7684\u548c\u3002\n\n### \u6570\u636e\u8303\u56f4\n\n$1\\leq q\\le 3\\times 10 ^ 5$\uff0c$1\\le x_i\\le i$\u3002"
}