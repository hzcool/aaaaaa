{
    "description": "Smart Beaver recently got interested in a new word game. The point is as follows: count the number of distinct good substrings of some string $ s $ . To determine if a string is good or not the game uses rules. Overall there are $ n $ rules. Each rule is described by a group of three $ (p,l,r) $ , where $ p $ is a string and $ l $ and $ r $ $ (l<=r) $ are integers. We\u2019ll say that string $ t $ complies with rule $ (p,l,r) $ , if the number of occurrences of string $ t $ in string $ p $ lies between $ l $ and $ r $ , inclusive. For example, string \"ab\", complies with rules (\"ab\", $ 1 $ , $ 2 $ ) and (\"aab\", $ 0 $ , $ 1 $ ), but does not comply with rules (\"cd\", $ 1 $ , $ 2 $ ) and (\"abab\", $ 0 $ , $ 1 $ ).\n\nA substring $ s[l...\\ r] $ $ (1<=l<=r<=|s|) $ of string $ s=s_{1}s_{2}...\\ s_{|s|} $ ( $ |s| $ is a length of $ s $ ) is string $ s_{l}s_{l+1}...\\ s_{r} $ .\n\nConsider a number of occurrences  of string $ t $ in string $ p $ as a number of pairs of integers $ l,r $ $ (1<=l<=r<=|p|) $ such that $ p[l...\\ r]=t $ .\n\nWe\u2019ll say that string $ t $ is good if it complies with all $ n $ rules. Smart Beaver asks you to help him to write a program that can calculate the number of distinct good substrings of string $ s $ . Two substrings $ s[x...\\ y] $ and $ s[z...\\ w] $ are cosidered to be distinct iff $ s[x...\\ y]\u2260s[z...\\ w] $ .",
    "inputFormat": "The first line contains string $ s $ . The second line contains integer $ n $ . Next $ n $ lines contain the rules, one per line. Each of these lines contains a string and two integers $ p_{i},l_{i},r_{i} $ , separated by single spaces ( $ 0<=l_{i}<=r_{i}<=|p_{i}| $ ). It is guaranteed that all the given strings are non-empty and only contain lowercase English letters.\n\nThe input limits for scoring 30 points are (subproblem G1):\n\n- $ 0<=n<=10 $ .\n- The length of string $ s $ and the maximum length of string $ p $ is $ <=200 $ .\n\nThe input limits for scoring 70 points are (subproblems G1+G2):\n\n- $ 0<=n<=10 $ .\n- The length of string $ s $ and the maximum length of string $ p $ is $ <=2000 $ .\n\nThe input limits for scoring 100 points are (subproblems G1+G2+G3):\n\n- $ 0<=n<=10 $ .\n- The length of string $ s $ and the maximum length of string $ p $ is $ <=50000 $ .",
    "outputFormat": "Print a single integer \u2014 the number of good substrings of string $ s $ .",
    "samples": [
        [
            "aaab\n2\naa 0 0\naab 1 1\n",
            "3\n"
        ],
        [
            "ltntlnen\n3\nn 0 0\nttlneenl 1 4\nlelllt 1 1\n",
            "2\n"
        ],
        [
            "a\n0\n",
            "1\n"
        ]
    ],
    "hint": "There are three good substrings in the first sample test: \u00abaab\u00bb, \u00abab\u00bb and \u00abb\u00bb.\n\nIn the second test only substrings \u00abe\u00bb and \u00abt\u00bb are good.",
    "translation": "\u7ed9\u51fa $n$ \u4e2a\u9650\u5236\uff0c\u6bcf\u4e2a\u9650\u5236\u5305\u542b 3 \u4e2a\u53c2\u6570 $T,l,r$\uff0c\u4e00\u4e2a\u5b57\u7b26\u4e32\u6ee1\u8db3\u5f53\u524d\u9650\u5236\u5f53\u4e14\u4ec5\u5f53\u8fd9\u4e2a\u5b57\u7b26\u4e32\u5728 $T$ \u4e2d\u7684\u51fa\u73b0\u6b21\u6570\u5728 $[l,r]$ \u4e4b\u95f4\u3002\n\n\u73b0\u5728\u7ed9\u4f60\u4e00\u4e2a\u5b57\u7b26\u4e32 $S$\uff0c\u95ee\u4f60 $S$ \u7684\u6240\u6709\u672c\u8d28\u4e0d\u540c\u7684\u5b50\u4e32\u4e2d\u6709\u591a\u5c11\u4e2a\u6ee1\u8db3\u6240\u6709\u9650\u5236\u3002"
}