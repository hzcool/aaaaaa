{
    "description": "Suppose you have two points $ p = (x_p, y_p) $ and $ q = (x_q, y_q) $ . Let's denote the Manhattan distance between them as $ d(p, q) = |x_p - x_q| + |y_p - y_q| $ .\n\nLet's say that three points $ p $ , $ q $ , $ r $ form a bad triple if $ d(p, r) = d(p, q) + d(q, r) $ .\n\nLet's say that an array $ b_1, b_2, \\dots, b_m $ is good if it is impossible to choose three distinct indices $ i $ , $ j $ , $ k $ such that the points $ (b_i, i) $ , $ (b_j, j) $ and $ (b_k, k) $ form a bad triple.\n\nYou are given an array $ a_1, a_2, \\dots, a_n $ . Calculate the number of good subarrays of $ a $ . A subarray of the array $ a $ is the array $ a_l, a_{l + 1}, \\dots, a_r $ for some $ 1 \\le l \\le r \\le n $ .\n\nNote that, according to the definition, subarrays of length $ 1 $ and $ 2 $ are good.",
    "inputFormat": "The first line contains one integer $ t $ ( $ 1 \\le t \\le 5000 $ ) \u2014 the number of test cases.\n\nThe first line of each test case contains one integer $ n $ ( $ 1 \\le n \\le 2 \\cdot 10^5 $ ) \u2014 the length of array $ a $ .\n\nThe second line of each test case contains $ n $ integers $ a_1, a_2, \\dots, a_n $ ( $ 1 \\le a_i \\le 10^9 $ ).\n\nIt's guaranteed that the sum of $ n $ doesn't exceed $ 2 \\cdot 10^5 $ .",
    "outputFormat": "For each test case, print the number of good subarrays of array $ a $ .",
    "samples": [
        [
            "3\n4\n2 4 1 3\n5\n6 9 1 9 6\n2\n13 37",
            "10\n12\n3"
        ]
    ],
    "hint": "In the first test case, it can be proven that any subarray of $ a $ is good. For example, subarray $ [a_2, a_3, a_4] $ is good since it contains only three elements and:\n\n- $ d((a_2, 2), (a_4, 4)) = |4 - 3| + |2 - 4| = 3 $ $ < $ $ d((a_2, 2), (a_3, 3)) + d((a_3, 3), (a_4, 4)) = 3 + 1 + 2 + 1 = 7 $ ;\n- $ d((a_2, 2), (a_3, 3)) $ $ < $ $ d((a_2, 2), (a_4, 4)) + d((a_4, 4), (a_3, 3)) $ ;\n- $ d((a_3, 3), (a_4, 4)) $ $ < $ $ d((a_3, 3), (a_2, 2)) + d((a_2, 2), (a_4, 4)) $ ;\n\nIn the second test case, for example, subarray $ [a_1, a_2, a_3, a_4] $ is not good, since it contains a bad triple $ (a_1, 1) $ , $ (a_2, 2) $ , $ (a_4, 4) $ :\n\n- $ d((a_1, 1), (a_4, 4)) = |6 - 9| + |1 - 4| = 6 $ ;\n- $ d((a_1, 1), (a_2, 2)) = |6 - 9| + |1 - 2| = 4 $ ;\n- $ d((a_2, 2), (a_4, 4)) = |9 - 9| + |2 - 4| = 2 $ ;\n\nSo, $ d((a_1, 1), (a_4, 4)) = d((a_1, 1), (a_2, 2)) + d((a_2, 2), (a_4, 4)) $ .",
    "translation": "\u5bf9\u4e8e\u5e73\u9762\u4e0a\u7684\u4e24\u70b9 $p(x_p,y_p),q(x_q,y_q)$\uff0c\u6211\u4eec\u5b9a\u4e49\u5b83\u4eec\u4e4b\u95f4\u7684\u66fc\u54c8\u987f\u8ddd\u79bb $d(p,q)=|x_p-x_q|+|y_p-y_q|$\u3002\u8fdb\u4e00\u6b65\u5b9a\u4e49\u7531\u4e09\u4e2a\u70b9\u6784\u6210\u7684\u4e00\u7ec4\u70b9 $p,q,r$ \u662f\u574f\u7684\u4ec5\u5f53 $d(p,r)=d(p,q)+d(q,r)$\u3002  \n\u6211\u4eec\u5b9a\u4e49\u5e8f\u5217 $b$ \u662f\u597d\u7684\u4ec5\u5f53\u65e0\u6cd5\u9009\u51fa\u4e00\u7ec4\u4e92\u4e0d\u76f8\u540c\u7684\u6574\u6570 $i,j,k$ \u4f7f\u5f97 $(b_i,i),(b_j,j),(b_k,k)$ \u8fd9\u7ec4\u70b9\u662f\u574f\u7684\u3002  \n\u7ed9\u5b9a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217 $a$\uff0c\u6c42 $a$ \u6709\u591a\u5c11\u4e2a\u5b50\u6bb5\u662f\u597d\u7684\u3002$T$ \u7ec4\u6570\u636e\u3002  \n$1\\leq T\\leq5\\times10^3;$  \n$1\\leq n,\\sum n\\leq2\\times10^5;1\\leq a_i\\leq10^9;$"
}