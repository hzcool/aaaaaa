{
    "description": "You are given a directed graph consisting of $ n $ vertices. Each directed edge (or arc) labeled with a single character. Initially, the graph is empty.\n\nYou should process $ m $ queries with it. Each query is one of three types:\n\n- \" $ + $ $ u $ $ v $ $ c $ \" \u2014 add arc from $ u $ to $ v $ with label $ c $ . It's guaranteed that there is no arc $ (u, v) $ in the graph at this moment;\n- \" $ - $ $ u $ $ v $ \" \u2014 erase arc from $ u $ to $ v $ . It's guaranteed that the graph contains arc $ (u, v) $ at this moment;\n- \" $ ? $ $ k $ \" \u2014 find the sequence of $ k $ vertices $ v_1, v_2, \\dots, v_k $ such that there exist both routes $ v_1 \\to v_2 \\to \\dots \\to v_k $ and $ v_k \\to v_{k - 1} \\to \\dots \\to v_1 $ and if you write down characters along both routes you'll get the same string. You can visit the same vertices any number of times.",
    "inputFormat": "The first line contains two integers $ n $ and $ m $ ( $ 2 \\le n \\le 2 \\cdot 10^5 $ ; $ 1 \\le m \\le 2 \\cdot 10^5 $ ) \u2014 the number of vertices in the graph and the number of queries.\n\nThe next $ m $ lines contain queries \u2014 one per line. Each query is one of three types:\n\n- \" $ + $ $ u $ $ v $ $ c $ \" ( $ 1 \\le u, v \\le n $ ; $ u \\neq v $ ; $ c $ is a lowercase Latin letter);\n- \" $ - $ $ u $ $ v $ \" ( $ 1 \\le u, v \\le n $ ; $ u \\neq v $ );\n- \" $ ? $ $ k $ \" ( $ 2 \\le k \\le 10^5 $ ).\n\nIt's guaranteed that you don't add multiple edges and erase only existing edges. Also, there is at least one query of the third type.",
    "outputFormat": "For each query of the third type, print YES if there exist the sequence $ v_1, v_2, \\dots, v_k $ described above, or NO otherwise.",
    "samples": [
        [
            "3 11\n+ 1 2 a\n+ 2 3 b\n+ 3 2 a\n+ 2 1 b\n? 3\n? 2\n- 2 1\n- 3 2\n+ 2 1 c\n+ 3 2 d\n? 5",
            "YES\nNO\nYES"
        ]
    ],
    "hint": "In the first query of the third type $ k = 3 $ , we can, for example, choose a sequence $ [1, 2, 3] $ , since $ 1 \\xrightarrow{\\text{a}} 2 \\xrightarrow{\\text{b}} 3 $ and $ 3 \\xrightarrow{\\text{a}} 2 \\xrightarrow{\\text{b}} 1 $ .\n\nIn the second query of the third type $ k = 2 $ , and we can't find sequence $ p_1, p_2 $ such that arcs $ (p_1, p_2) $ and $ (p_2, p_1) $ have the same characters.\n\nIn the third query of the third type, we can, for example, choose a sequence $ [1, 2, 3, 2, 1] $ , where $ 1 \\xrightarrow{\\text{a}} 2 \\xrightarrow{\\text{b}} 3 \\xrightarrow{\\text{d}} 2 \\xrightarrow{\\text{c}} 1 $ .",
    "translation": "\u7ed9\u5b9a\u4e00\u4e2a**\u6709\u5411\u56fe**\uff0c\u6bcf\u4e00\u6761\u8fb9\u4e0a\u6709\u4e00\u4e2a\u5c0f\u5199\u5b57\u6bcd\uff0c\u521d\u59cb\u8be5\u56fe\u4e3a\u7a7a\u3002\n\n\u6709 $m$ \u6b21\u64cd\u4f5c\uff0c\u683c\u5f0f\u5982\u4e0b\uff1a\n\n- `+ u v c` \u6dfb\u52a0\u4e00\u6761\u4ece $u$ \u5230 $v$ \u7684\u6709\u5411\u8fb9\uff0c\u4e0a\u9762\u7684\u5b57\u6bcd\u4e3a $c$ \uff0c\u4fdd\u8bc1\u5728\u6b64\u65f6\u4e0d\u5b58\u5728 $u$ \u5230 $v$ \u7684\u6709\u5411\u8fb9\n- `- u v` \u5220\u9664 $u$ \u5230 $v$ \u7684\u6709\u5411\u8fb9\uff0c\u4fdd\u8bc1\u6b64\u65f6\u5b58\u5728 $u$ \u5230 $v$ \u7684\u6709\u5411\u8fb9\n- `? k` \u8be2\u95ee\u662f\u5426\u53ef\u4ee5\u6784\u9020\u51fa\u4e00\u4e2a\u957f\u5ea6\u4e3a $k$ \u7684\u5e8f\u5217 $v_1,v_2,\\cdots,v_k$ \uff0c\u6ee1\u8db3\u540c\u65f6\u5b58\u5728\u4e00\u6761 $v_1\\rightarrow v_2\\rightarrow \\cdots \\rightarrow v_k$ \u548c\u4e00\u6761 $v_k\\rightarrow v_{k-1}\\rightarrow \\cdots \\rightarrow v_1$ \u7684\u8def\u5f84\uff0c\u4e14\u987a\u6b21\u5199\u4e0b\u4e24\u6761\u8def\u5f84\u4e0a\u7ecf\u8fc7\u7684\u8fb9\u7684\u5b57\u6bcd\uff0c\u5f97\u5230\u7684\u4e24\u4e2a\u957f\u5ea6\u4e3a $k-1$ \u7684\u5b57\u7b26\u4e32\u662f\u76f8\u540c\u7684\u3002\u4f60**\u53ef\u4ee5**\u91cd\u590d\u7ecf\u8fc7\u4e00\u4e2a\u70b9\u591a\u6b21\u3002\n\n$2\\le n\\le 2\\cdot 10^5\\ ,\\ 1\\le m\\le 2\\cdot 10^5$\n\n\u5bf9\u4e8e\u64cd\u4f5c `+` \uff0c\u6ee1\u8db3 $1\\le u,v\\le n\\ ,\\ u\\neq v$ \uff0c$c$ \u662f\u4e00\u4e2a\u5c0f\u5199\u5b57\u6bcd\n\n\u5bf9\u4e8e\u64cd\u4f5c `-` \uff0c\u6ee1\u8db3 $1\\le u,v\\le n\\ ,\\ u\\neq v$\n\n\u5bf9\u4e8e\u64cd\u4f5c `?` \uff0c\u6ee1\u8db3 $2\\le k\\le 10^5$"
}