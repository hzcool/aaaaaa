{
    "description": "Your task is to maintain a [queue](https://en.wikipedia.org/wiki/Queue_(abstract_data_type)) consisting of lowercase English letters as follows:\n\n- \"push $ c $ \": insert a letter $ c $ at the back of the queue;\n- \"pop\": delete a letter from the front of the queue.\n\nInitially, the queue is empty.\n\nAfter each operation, you are asked to count the number of distinct palindromic substrings in the string that are obtained by concatenating the letters from the front to the back of the queue.\n\nEspecially, the number of distinct palindromic substrings of the empty string is $ 0 $ .\n\nA string $ s[1..n] $ of length $ n $ is palindromic if $ s[i] = s[n-i+1] $ for every $ 1 \\leq i \\leq n $ .\n\nThe string $ s[l..r] $ is a substring of string $ s[1..n] $ for every $ 1 \\leq l \\leq r \\leq n $ .\n\nTwo strings $ s[1..n] $ and $ t[1..m] $ are distinct, if at least one of the following holds.\n\n- $ n \\neq m $ ;\n- $ s[i] \\neq t[i] $ for some $ 1 \\leq i \\leq \\min\\{n,m\\} $ .",
    "inputFormat": "The first line is an integer $ q $ ( $ 1 \\leq q \\leq 10^6 $ ), indicating the number of operations.\n\nThen $ q $ lines follow. Each of the following lines contains one of the operations as follows.\n\n- \"push $ c $ \": insert a letter $ c $ at the back of the queue, where $ c $ is a lowercase English letter;\n- \"pop\": delete a letter from the front of the queue.\n\nIt is guaranteed that no \"pop\" operation will be performed when the queue is empty.",
    "outputFormat": "After each operation, print the number of distinct palindromic substrings in the string presented in the queue.",
    "samples": [
        [
            "12\npush a\npop\npush a\npush a\npush b\npush b\npush a\npush a\npop\npop\npop\npush b",
            "1\n0\n1\n2\n3\n4\n5\n6\n5\n4\n3\n4"
        ]
    ],
    "hint": "Let $ s_k $ be the string presented in the queue after the $ k $ -th operation, and let $ c_k $ be the number of distinct palindromic substrings of $ s_k $ . The following table shows the details of the example.\n\n  $ k $  $ s_k $  $ c_k $  $ 1 $  $ a $  $ 1 $  $ 2 $  $ \\textsf{empty} $  $ 0 $  $ 3 $  $ a $  $ 1 $  $ 4 $  $ aa $  $ 2 $  $ 5 $  $ aab $  $ 3 $  $ 6 $  $ aabb $  $ 4 $  $ 7 $  $ aabba $  $ 5 $  $ 8 $  $ aabbaa $  $ 6 $  $ 9 $  $ abbaa $  $ 5 $  $ 10 $  $ bbaa $  $ 4 $  $ 11 $  $ baa $  $ 3 $  $ 12 $  $ baab $  $ 4 $ It is worth pointing out that\n\n- After the $ 2 $ -nd operation, the string is empty and thus has no substrings. So the answer is $ 0 $ ;\n- After the $ 8 $ -th operation, the string is \" $ aabbaa $ \". The $ 6 $ distinct palindromic substrings are \" $ a $ \", \" $ aa $ \", \" $ aabbaa $ \", \" $ abba $ \", \" $ b $ \", and \" $ bb $ \".",
    "translation": "\u4f60\u9700\u8981\u7ef4\u62a4\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u521d\u59cb\u65f6\u5b57\u7b26\u4e32\u4e3a\u7a7a\uff0c\u7136\u540e\u6709 $q(1\\le q\\le10^6)$ \u6b21\u64cd\u4f5c\uff0c\u6bcf\u6b21\u64cd\u4f5c\u4f1a\u5220\u9664\u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u6216\u8005\u5728\u5b57\u7b26\u4e32\u5c3e\u90e8\u52a0\u4e0a\u4e00\u4e2a\u82f1\u6587\u5c0f\u5199\u5b57\u7b26\uff0c\u6c42\u6bcf\u6b21\u64cd\u4f5c\u540e\u8be5\u5b57\u7b26\u4e32\u7684\u672c\u8d28\u4e0d\u540c\u56de\u6587\u4e32\u6709\u591a\u5c11\u4e2a\u3002"
}