{
    "description": "We call an array $ a $ of length $ n $ fancy if for each $ 1 < i \\le n $ it holds that $ a_i = a_{i-1} + 1 $ .\n\nLet's call $ f(p) $ applied to a permutation $ ^\\dagger $ of length $ n $ as the minimum number of subarrays it can be partitioned such that each one of them is fancy. For example $ f([1,2,3]) = 1 $ , while $ f([3,1,2]) = 2 $ and $ f([3,2,1]) = 3 $ .\n\nGiven $ n $ and a permutation $ p $ of length $ n $ , we define a permutation $ p' $ of length $ n $ to be $ k $ -special if and only if:\n\n- $ p' $ is lexicographically smaller $ ^\\ddagger $ than $ p $ , and\n- $ f(p') = k $ .\n\nYour task is to count for each $ 1 \\le k \\le n $ the number of $ k $ -special permutations modulo $ m $ .\n\n $ ^\\dagger $ A permutation is an array consisting of $ n $ distinct integers from $ 1 $ to $ n $ in arbitrary order. For example, $ [2,3,1,5,4] $ is a permutation, but $ [1,2,2] $ is not a permutation ( $ 2 $ appears twice in the array) and $ [1,3,4] $ is also not a permutation ( $ n=3 $ but there is $ 4 $ in the array).\n\n $ ^\\ddagger $ A permutation $ a $ of length $ n $ is lexicographically smaller than a permutation $ b $ of length $ n $ if and only if the following holds: in the first position where $ a $ and $ b $ differ, the permutation $ a $ has a smaller element than the corresponding element in $ b $ .",
    "inputFormat": "The first line contains two integers $ n $ and $ m $ ( $ 1 \\le n \\le 2000 $ , $ 10 \\le m \\le 10^9 $ ) \u2014 the length of the permutation and the required modulo.\n\nThe second line contains $ n $ distinct integers $ p_1, p_2, \\ldots, p_n $ ( $ 1 \\le p_i \\le n $ ) \u2014 the permutation $ p $ .",
    "outputFormat": "Print $ n $ integers, where the $ k $ -th integer is the number of $ k $ -special permutations modulo $ m $ .",
    "samples": [
        [
            "4 666012\n1 3 4 2",
            "1 0 1 1"
        ],
        [
            "3 10\n3 2 1",
            "1 2 2"
        ],
        [
            "7 1000000000\n7 2 1 3 5 4 6",
            "1 6 40 201 705 1635 1854"
        ],
        [
            "10 11\n10 9 8 7 6 5 4 3 2 1",
            "1 9 9 0 1 5 5 0 1 0"
        ]
    ],
    "hint": "In the first example, the permutations that are lexicographically smaller than $ [1,3,4,2] $ are:\n\n- $ [1,2,3,4] $ , $ f([1,2,3,4])=1 $ ;\n- $ [1,2,4,3] $ , $ f([1,2,4,3])=3 $ ;\n- $ [1,3,2,4] $ , $ f([1,3,2,4])=4 $ .\n\nThus our answer is $ [1,0,1,1] $ .\n\nIn the second example, the permutations that are lexicographically smaller than $ [3,2,1] $ are:\n\n- $ [1,2,3] $ , $ f([1,2,3])=1 $ ;\n- $ [1,3,2] $ , $ f([1,3,2])=3 $ ;\n- $ [2,1,3] $ , $ f([2,1,3])=3 $ ;\n- $ [2,3,1] $ , $ f([2,3,1])=2 $ ;\n- $ [3,1,2] $ , $ f([3,1,2])=2 $ .\n\nThus our answer is $ [1,2,2] $ .",
    "translation": "\u7ed9\u5b9a\u957f\u5ea6\u4e3a $n$ \u7684\u6392\u5217 $p$\uff0c\u8981\u5bf9\u4e8e $k=1,2,3,\\cdots,n$ \u6c42\u51fa\uff0c\u6709\u591a\u5c11\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u6392\u5217 $p'$ \u6ee1\u8db3 $p'$ \u5b57\u5178\u5e8f\u6bd4 $p$ \u5c0f\uff0c\u4e14 $f(p')=k$\uff0c\u5176\u4e2d $f(a)$ \u8868\u793a $a$ \u6700\u5c11\u53ef\u4ee5\u5212\u5206\u6210\u591a\u5c11\u4e2a\u533a\u95f4\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u533a\u95f4\u4e2d\u7684\u5143\u7d20\u90fd\u662f\u516c\u5dee\u4e3a $1$ \u7684\u7b49\u5dee\u6570\u5217\u3002\n\n\u7b54\u6848\u5bf9 $m$ \u53d6\u6a21\uff0c$m$ \u4e0d\u4e00\u5b9a\u662f\u8d28\u6570\u3002\n\n$n\\le 2000$\u3002"
}