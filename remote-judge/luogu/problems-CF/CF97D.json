{
    "description": "The Professor has lost his home robot yet again. After some thinking Professor understood that he had left the robot in the basement.\n\nThe basement in Professor's house is represented by a rectangle $ n\u00d7m $ , split into $ 1\u00d71 $ squares. Some squares are walls which are impassable; other squares are passable. You can get from any passable square to any other passable square moving through edge-adjacent passable squares. One passable square is the exit from the basement. The robot is placed exactly in one passable square. Also the robot may be placed in the exit square.\n\nProfessor is scared of going to the dark basement looking for the robot at night. However, he has a basement plan and the robot's remote control. Using the remote, Professor can send signals to the robot to shift one square left, right, up or down. When the robot receives a signal, it moves in the required direction if the robot's neighboring square in the given direction is passable. Otherwise, the robot stays idle.\n\nProfessor wrote a sequence of $ k $ commands on a piece of paper. He thinks that the sequence can lead the robot out of the basement, wherever it's initial position might be. Professor programmed another robot to press the required buttons on the remote according to the notes on the piece of paper. Professor was just about to run the program and go to bed, when he had an epiphany.\n\nExecuting each command takes some energy and Professor doesn't want to get huge electricity bill at the end of the month. That's why he wants to find in the sequence he has written out the minimal possible prefix that would guarantee to lead the robot out to the exit after the prefix is fulfilled. And that's the problem Professor challenges you with at this late hour.",
    "inputFormat": "The first line contains three integers $ n $ , $ m $ and $ k $ ( $ 3<=n,m<=150 $ , $ 1<=k<=10^{5} $ ). Next $ n $ lines contain $ m $ characters each \u2014 that is the Professor's basement's description: \"\\#\" stands for a wall, \".\" stands for a passable square and \"E\" stands for the exit from the basement (this square also is passable). It is possible to get from each passable square to the exit, all squares located by the $ n\u00d7m $ rectangle's perimeter are the walls. Exactly one square is the exit from the basement. The last line contains $ k $ characters, the description of the sequence of commands that Professor has written out on a piece of paper. \"L\", \"R\", \"U\", \"D\" stand for commands left, right, up and down correspondingly.",
    "outputFormat": "Print in the output file the length of the smallest possible prefix that will lead the robot to the exit square. In other words, wherever the robot had been positioned initially, it should be positioned in the exit square after all the commands from the prefix are fulfilled (during doing commands the robot can come and leave the exit square, but only the last position of the robot is interesting for us). If Professor is mistaken and no prefix (including the whole sequence) can bring the robot to the exit, print \"-1\" (without the quotes). If there is the only passable square and it is the exit, print \"0\" (without the quotes).",
    "samples": [
        [
            "5 5 7\n#####\n#...#\n#...#\n#E..#\n#####\nUULLDDR\n",
            "6\n"
        ],
        [
            "5 5 7\n#####\n#.#.#\n#...#\n#E..#\n#####\nUULLDDR\n",
            "-1\n"
        ],
        [
            "5 3 2\n###\n#.#\n#.#\n#E#\n###\nDD\n",
            "2\n"
        ]
    ],
    "hint": "",
    "translation": "\u5728\u4e00\u4e2an*m\uff08n\uff0cm <= 150) \u7684\u7f51\u683c\u4e0a\uff0c\u6709\u4e00\u4e9b\u683c\u5b50\u662f\u969c\u788d\u7684\uff0c\u5e76\u4e14\u7f51\u683c\u8fb9\u754c\u4e0a\u7684\u683c\u5b50\u5747\u662f\u969c\u788d\u7684\uff0c\u53e6\u6709\u4e00\u4e2a\u975e\u969c\u788d\u7684\u683c\u5b50\u662f\u51fa\u53e3\u3002\u4e00\u4e2a\u673a\u5668\u4eba\u53ef\u4ee5\u6839\u636e\u7a0b\u5e8f\u5728\u8be5\u7f51\u683c\u4e0a\u884c\u8d70\u3002\u4e00\u6bb5\u7a0b\u5e8f\u662f\u4e00\u4e2a\u7531UDLR\u56db\u79cd\u6307\u4ee4\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\uff0c\u673a\u5668\u4eba\u4f1a\u4f9d\u6b21\u6267\u884c\u6bcf\u4e2a\u547d\u4ee4\uff0c\u4e00\u4e2a\u6307\u4ee4\u4f1a\u4f7f\u673a\u5668\u4eba\u5411\u6307\u5b9a\u7684\u65b9\u5411\u79fb\u52a8\u4e00\u683c\uff0c\u5982\u679c\u5bf9\u5e94\u7684\u683c\u5b50\u4e3a\u969c\u788d\u5219\u4e0d\u52a8\uff0c\u73b0\u5728\u7ed9\u5b9a\u4e00\u683c\u957f\u5ea6\u4e3al\uff08l <= 1e5)\u7684\u7a0b\u5e8f\uff0c\u6c42\u5b83\u7684\u4e00\u4e2a\u6700\u77ed\u524d\u7f00p\uff0c\u4f7f\u5f97\u5bf9\u4e8e\u4e00\u5f00\u59cb\u7684\u7f51\u683c\u4e0a\u4efb\u610f\u975e\u969c\u788d\u4f4d\u7f6e\u90fd\u662f\u673a\u5668\u4eba\uff0c\u5728\u6267\u884c\u5b8c\u7a0b\u5e8fp\u4e4b\u540e\u90fd\u505c\u5728\u51fa\u53e3\u4e0a\u3002\n\nTranslated by @jiangyige "
}