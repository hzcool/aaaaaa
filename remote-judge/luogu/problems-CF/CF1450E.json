{
    "description": "A society can be represented by a connected, undirected graph of $ n $ vertices and $ m $ edges. The vertices represent people, and an edge $ (i,j) $ represents a friendship between people $ i $ and $ j $ .\n\nIn society, the $ i $ -th person has an income $ a_i $ . A person $ i $ is envious of person $ j $ if $ a_j=a_i+1 $ . That is if person $ j $ has exactly $ 1 $ more unit of income than person $ i $ .\n\nThe society is called capitalist if for every pair of friends one is envious of the other. For some friendships, you know which friend is envious of the other. For the remaining friendships, you do not know the direction of envy.\n\nThe income inequality of society is defined as $ \\max\\limits_{1 \\leq i \\leq n} a_i - \\min\\limits_{1 \\leq i \\leq n} a_i $ .\n\nYou only know the friendships and not the incomes. If it is impossible for this society to be capitalist with the given knowledge, you should report about it. Otherwise, you should find an assignment of incomes in which the society is capitalist, and the income inequality is maximized.",
    "inputFormat": "The first line contains two integers $ n $ , $ m $ ( $ 1\\le n\\le 200 $ , $ n-1\\le m\\le 2000 $ ) \u2014 the number of people and friendships, respectively.\n\nThe following $ m $ lines describe the friendships. Each friendship is described by three integers $ i $ , $ j $ , $ b $ ( $ 1\\le i, j\\le n, i\\ne j, 0\\le b\\le 1 $ ). This denotes that people $ i $ and $ j $ are friends. If $ b=1 $ , we require that person $ i $ is envious of person $ j $ . If $ b=0 $ , one friend should be envious of the other in either direction.\n\nThere is at most one friendship between each pair of people. It is guaranteed that if we consider the friendships as undirected edges, the graph is connected.",
    "outputFormat": "Print \"YES\" if it is possible that the society is capitalist, or \"NO\" otherwise. You can print characters in any case (upper or lower).\n\nIf the answer is \"YES\", you should print two additional lines. In the first line, print the maximum possible income inequality. On the next line you should print $ n $ integers $ a_1,\\ldots, a_n $ ( $ 0\\le a_i\\le 10^6 $ ), where $ a_i $ denotes the income of the $ i $ -th person.\n\nWe can prove that if there exists a solution, there exists one where $ 0\\le a_i\\le 10^6 $ for all $ i $ .\n\nIf there exist multiple solutions, print any.",
    "samples": [
        [
            "6 6\n1 2 0\n3 2 0\n2 5 0\n6 5 1\n6 3 0\n2 4 1",
            "YES\n3\n3 2 1 3 1 0"
        ],
        [
            "4 4\n1 2 1\n2 3 0\n3 4 1\n4 1 1",
            "NO"
        ],
        [
            "1 0",
            "YES\n0\n0"
        ]
    ],
    "hint": "In the first test, we can show that an income inequality greater than $ 3 $ is impossible for the given society. In the given answer with income inequality equal to $ 3 $ :\n\n- Person $ 2 $ is envious of person $ 1 $ .\n- Person $ 3 $ is envious of person $ 2 $ .\n- Person $ 5 $ is envious of person $ 2 $ .\n- Person $ 6 $ is envious of person $ 5 $ (the required direction is satisfied).\n- Person $ 6 $ is envious of person $ 3 $ .\n- Person $ 2 $ is envious of person $ 4 $ (the required direction is satisfied).\n\nIn the second test, we can show that there is no way to assign incomes to satisfy all requirements.",
    "translation": "## \u9898\u76ee\u63cf\u8ff0\n\n\u6574\u4e2a\u793e\u4f1a\u53ef\u4ee5\u7528\u4e00\u5f20\u7531 $n$ \u4e2a\u9876\u70b9\u548c $m$ \u6761\u8fb9\u7ec4\u6210\u7684\u65e0\u5411\u8054\u901a\u56fe\u6765\u8868\u793a\u3002\u9876\u70b9\u4ee3\u8868\u4eba\uff0c\u4e00\u6761\u8fb9  $(i,j)$ \u4ee3\u8868\u4eba $i$ \u548c $j$ \u4e4b\u95f4\u7684\u53cb\u8c0a\u3002\n\n\u5728\u793e\u4f1a\u4e0a\uff0c\u7b2c $i$ \u4e2a\u4eba\u6709\u6536\u5165 $a_i$\u3002\u4e00\u4e2a\u4eba $i$ \u7fa1\u6155\u4e00\u4e2a\u4eba $j$\uff0c\u7b49\u4ef7\u4e8e $j$ \u6bd4 $i$ \u591a\u51fa1\u4e2a\u5355\u4f4d\u7684\u6536\u5165\uff0c\u4e5f\u5c31\u662f $a_j=a_i+1$\u3002\n\n\u5982\u679c\u5bf9\u4e8e\u6bcf\u4e00\u5bf9\u670b\u53cb\uff0c\u90fd\u6709\u4e00\u4e2a\u4eba\u7fa1\u6155\u53e6\u4e00\u4e2a\u4eba\uff0c\u8fd9\u4e2a\u793e\u4f1a\u5c31\u53eb\u8d44\u672c\u4e3b\u4e49\u793e\u4f1a\u3002\u5bf9\u4e8e\u4e00\u4e9b\u670b\u53cb\u5173\u7cfb\uff0c\u4f60\u77e5\u9053\u54ea\u4e2a\u4eba\u5728\u7fa1\u6155\u53e6\u4e00\u4e2a\u4eba\u3002\u5bf9\u4e8e\u5176\u4f59\u7684\u670b\u53cb\u5173\u7cfb\uff0c\u4f60\u4e0d\u77e5\u9053\u8c01\u7fa1\u6155\u8c01\u3002\n\n\u793e\u4f1a\u6536\u5165\u4e0d\u7b49\u503c\u7684\u5b9a\u4e49\u662f\uff1a$\\max_{i=1}^na_i - \\min_{i=1}^na_i$\uff0c\u4e5f\u5c31\u662f\u793e\u4f1a\u4e2d\u6536\u5165\u6700\u591a\u7684\u4eba\u7684\u6536\u5165\u4e0e\u6536\u5165\u6700\u5c11\u7684\u4eba\u7684\u6536\u5165\u4e4b\u5dee\u3002\n\n\u4f60\u53ea\u77e5\u9053\u4e00\u4e9b\u670b\u53cb\u5173\u7cfb\uff0c\u4e0d\u77e5\u9053\u6bcf\u4e2a\u4eba\u7684\u6536\u5165\u3002\u5bf9\u4e8e\u4e00\u90e8\u5206\u670b\u53cb\u5173\u7cfb\uff0c\u4f60\u77e5\u9053\u8c01\u7fa1\u6155\u8c01\uff1b\u5bf9\u4e8e\u53e6\u5916\u4e00\u90e8\u5206\uff0c\u4f60\u4e0d\u77e5\u9053\u3002\u4f60\u8981\u5224\u65ad\u8fd9\u4e2a\u793e\u4f1a\u662f\u5426\u53ef\u80fd\u6210\u4e3a\u8d44\u672c\u4e3b\u4e49\u793e\u4f1a\u3002\u5982\u679c\u662f\uff0c\u4f60\u8981\u6784\u9020\u4e00\u4e2a $a$ \u6ee1\u8db3\u6240\u6709\u6761\u4ef6\uff0c\u4e14\u8fd9\u662f\u4e2a\u8d44\u672c\u4e3b\u4e49\u793e\u4f1a\u3002\u8981\u6c42\u4f60\u7ed9\u51fa\u7684 $a$ \u8ba9\u793e\u4f1a\u6536\u5165\u4e0d\u7b49\u503c\u6700\u5927\u3002\n\n## \u8f93\u5165\u683c\u5f0f\n\u7b2c\u4e00\u884c\u4e24\u4e2a\u6574\u6570 $n$\uff0c$m$\uff0c\u5206\u522b\u8868\u793a\u4eba\u6570\u548c\u6761\u4ef6\u6570\u3002$n \\le 200, n-1 \\le m \\le 2000$\u3002\n\n\u63a5\u4e0b\u6765 $m$ \u884c\uff0c\u6bcf\u884c\u4e09\u4e2a\u6574\u6570 $i$\uff0c$j$\uff0c$b$\uff0c\u8868\u793a\u4e00\u4e2a\u5173\u7cfb\u3002\u5982\u679c $b=1$\uff0c\u90a3\u4e48 $a_j=a_i+1$\uff1b\u5982\u679c $b=0$\uff0c\u90a3\u4e48 $|a_i-a_j|=1$\u3002\n\n\u4fdd\u8bc1 $b=0/1,1\\le i,j \\le n$\uff0c\u4e14\u4e0d\u4f1a\u6709\u91cd\u590d\u7684 $(i,j)$\u3002\n\n## \u8f93\u51fa\u683c\u5f0f\n\n\u7b2c\u4e00\u884c\u4e00\u4e2a\u5b57\u7b26\u4e32 $\\texttt{YES}$ \u6216\u8005 $\\texttt{NO}$\u3002\u5927\u5c0f\u5199\u968f\u610f\u3002\u8868\u793a\u8fd9\u4e2a\u793e\u4f1a\u662f\u5426\u53ef\u4ee5\u662f\u8d44\u672c\u4e3b\u4e49\u793e\u4f1a\u3002\n\n\u5982\u679c\u6709\u89e3\uff0c\u5728\u7b2c\u4e8c\u884c\u8f93\u51fa $n$ \u4e2a\u6574\u6570\u8868\u793a\u6bcf\u4e2a\u4eba\u7684\u6536\u5165\u3002\n\n\u4fdd\u8bc1\u5982\u679c\u6709\u89e3\uff0c\u5b58\u5728\u4e00\u7ec4\u89e3\uff0c\u8ba9\u6bcf\u4e2a\u4eba\u7684\u6536\u5165\u90fd\u4e0d\u8d85\u8fc7 $10^6$\u3002"
}