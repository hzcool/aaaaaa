{
    "description": "Tachibana Kanade likes Mapo Tofu very much. One day, the canteen cooked all kinds of tofu to sell, but not all tofu is Mapo Tofu, only those spicy enough can be called Mapo Tofu.\n\nEach piece of tofu in the canteen is given a $ m $ -based number, all numbers are in the range $ [l,r] $ ( $ l $ and $ r $ being $ m $ -based numbers), and for every $ m $ -based integer in the range $ [l,r] $ , there exists a piece of tofu with that number.\n\nTo judge what tofu is Mapo Tofu, Tachibana Kanade chose $ n $ $ m $ -based number strings, and assigned a value to each string. If a string appears in the number of a tofu, the value of the string will be added to the value of that tofu. If a string appears multiple times, then the value is also added that many times. Initially the value of each tofu is zero.\n\nTachibana Kanade considers tofu with values no more than $ k $ to be Mapo Tofu. So now Tachibana Kanade wants to know, how many pieces of tofu are Mapo Tofu?",
    "inputFormat": "The first line contains three integers $ n $ , $ m $ and $ k\u00a0(1<=n<=200;\u00a02<=m<=20;\u00a01<=k<=500) $ . Where $ n $ denotes the number of strings, $ m $ denotes the base used, and $ k $ denotes the limit of the value for Mapo Tofu.\n\nThe second line represents the number $ l $ . The first integer in the line is $ len $ $ (1<=len<=200) $ , describing the length (number of digits in base $ m $ ) of $ l $ . Then follow $ len $ integers $ a_{1},a_{2},...,a_{len}\u00a0(0<=a_{i}&lt;m;\u00a0a_{1}&gt;0) $ separated by spaces, representing the digits of $ l $ , with $ a_{1} $ being the highest digit and $ a_{len} $ being the lowest digit.\n\nThe third line represents the number $ r $ in the same format as $ l $ . It is guaranteed that $ 1<=l<=r $ .\n\nThen follow $ n $ lines, each line describing a number string. The $ i $ -th line contains the $ i $ -th number string and $ v_{i} $ \u2014 the value of the $ i $ -th string ( $ 1<=v_{i}<=200 $ ). All number strings are described in almost the same format as $ l $ , the only difference is number strings may contain necessary leading zeros (see the first example). The sum of the lengths of all number strings does not exceed $ 200 $ .",
    "outputFormat": "Output the number of pieces of Mapo Tofu modulo $ 1000000007 $ $ (10^{9}+7) $ . The answer should be a decimal integer.",
    "samples": [
        [
            "2 10 1\n1 1\n3 1 0 0\n1 1 1\n1 0 1\n",
            "97\n"
        ],
        [
            "2 10 12\n2 5 9\n6 6 3 5 4 9 7\n2 0 6 1\n3 6 7 2 1\n",
            "635439\n"
        ],
        [
            "4 2 6\n6 1 0 1 1 1 0\n6 1 1 0 1 0 0\n1 1 2\n3 0 1 0 5\n4 0 1 1 0 4\n3 1 0 1 2\n",
            "2\n"
        ]
    ],
    "hint": "In the first sample, 10, 11 and 100 are the only three decimal numbers in $ [1,100] $ with a value greater than 1. Here the value of 1 is 1 but not 2, since numbers cannot contain leading zeros and thus cannot be written as \"01\".\n\nIn the second sample, no numbers in the given interval have a value greater than 12.\n\nIn the third sample, 110000 and 110001 are the only two binary numbers in the given interval with a value no greater than 6.",
    "translation": "# \u9898\u76ee\u5927\u610f\r\n\u4f60\u6709$n$\u4e2a$m$\u8fdb\u5236\u7684\u6837\u672c\u4e32\uff0c\u5982\u679c\u4e00\u4e2a\u6570\u5305\u542b\u5176\u4e2d\u7684\u7b2c$i$\u4e2a\uff0c\u5c31\u4f1a\u52a0\u4e0a$p_i$\u76f8\u4f3c\u5ea6(\u591a\u6b21\u5305\u542b\u5c31\u8ba1\u7b97\u591a\u6b21\uff0c\u5305\u542b\u6307\u7684\u662f\u5728\u5176\u4e2d\u8fde\u7eed\u51fa\u73b0)\uff0c\u95ee$[L,R]$\u6709\u591a\u5c11\u6570\u6ee1\u8db3\u76f8\u4f3c\u5ea6($L,R$\u90fd\u662f$m$\u8fdb\u5236\u7684)\u3002\r\n# \u8f93\u5165\r\n\u7b2c\u4e00\u884c\u4e09\u4e2a\u6574\u6570$n,m,k$\uff0c\u542b\u4e49\u540c\u9898\u4e2d\u6240\u8ff0\u3002  \r\n\u7b2c\u4e8c\u884c\u7b2c\u4e00\u4e2a\u6570\u5b57$t$\uff0c\u8868\u793a$L$($m$\u8fdb\u5236)\u7684\u957f\u5ea6\uff0c\u63a5\u4e0b\u6765$t$\u4e2a\u6574\u6570\u63cf\u8ff0$L$\u3002  \r\n\u7b2c\u4e09\u884c\uff0c\u7528\u540c\u6837\u7684\u65b9\u6cd5\u8868\u793a$R$($L$\u548c$R$\u65e0\u524d\u5bfc$0$)\u3002  \r\n\u63a5\u4e0b\u6765\u7684$n$\u884c\uff0c\u6bcf\u884c\u5f00\u59cb\u8f93\u5165\u4e00\u4e2a\u6570\u5b57\u4e32\uff0c\u8868\u793a\u6811\u679d\u6837\u672c(\u8f93\u5165\u65b9\u5f0f\u548c$L$\u76f8\u540c\uff0c\u53ef\u80fd\u6709\u524d\u5bfc$0$)\u3002\u7136\u540e\u4e00\u4e2a\u6574\u6570$p$(\u5341\u8fdb\u5236)\uff0c\u8868\u793a\u8fd9\u4e2a\u6837\u672c\u7684\u76f8\u4f3c\u5ea6\u3002\r\n# \u8f93\u51fa\r\n\u8f93\u51fa\u7b54\u6848\u5bf9$10^9+7$\u53d6\u6a21\u7684\u7ed3\u679c\r\n# \u6837\u4f8b\r\n\u6837\u4f8b\u8f93\u51651  \r\n2 10 1  \r\n1 1  \r\n3 1 0 0  \r\n1 1 1  \r\n1 0 1  \r\n\u6837\u4f8b\u8f93\u51fa1  \r\n97\r\n# \u6570\u636e\u8303\u56f4\r\n$1<=n<=200; 2<=m<=20; 1<=k<=500;$  \r\n$1 \\leq len \\leq 200; 1 \\leq v_i \\leq 200$"
}