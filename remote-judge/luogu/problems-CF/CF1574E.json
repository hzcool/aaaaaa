{
    "description": "A matrix of size $ n \\times m $ , such that each cell of it contains either $ 0 $ or $ 1 $ , is considered beautiful if the sum in every contiguous submatrix of size $ 2 \\times 2 $ is exactly $ 2 $ , i. e. every \"square\" of size $ 2 \\times 2 $ contains exactly two $ 1 $ 's and exactly two $ 0 $ 's.\n\nYou are given a matrix of size $ n \\times m $ . Initially each cell of this matrix is empty. Let's denote the cell on the intersection of the $ x $ -th row and the $ y $ -th column as $ (x, y) $ . You have to process the queries of three types:\n\n- $ x $ $ y $ $ -1 $ \u2014 clear the cell $ (x, y) $ , if there was a number in it;\n- $ x $ $ y $ $ 0 $ \u2014 write the number $ 0 $ in the cell $ (x, y) $ , overwriting the number that was there previously (if any);\n- $ x $ $ y $ $ 1 $ \u2014 write the number $ 1 $ in the cell $ (x, y) $ , overwriting the number that was there previously (if any).\n\nAfter each query, print the number of ways to fill the empty cells of the matrix so that the resulting matrix is beautiful. Since the answers can be large, print them modulo $ 998244353 $ .",
    "inputFormat": "The first line contains three integers $ n $ , $ m $ and $ k $ ( $ 2 \\le n, m \\le 10^6 $ ; $ 1 \\le k \\le 3 \\cdot 10^5 $ ) \u2014 the number of rows in the matrix, the number of columns, and the number of queries, respectively.\n\nThen $ k $ lines follow, the $ i $ -th of them contains three integers $ x_i $ , $ y_i $ , $ t_i $ ( $ 1 \\le x_i \\le n $ ; $ 1 \\le y_i \\le m $ ; $ -1 \\le t_i \\le 1 $ ) \u2014 the parameters for the $ i $ -th query.",
    "outputFormat": "For each query, print one integer \u2014 the number of ways to fill the empty cells of the matrix after the respective query, taken modulo $ 998244353 $ .",
    "samples": [
        [
            "2 2 7\n1 1 1\n1 2 1\n2 1 1\n1 1 0\n1 2 -1\n2 1 -1\n1 1 -1",
            "3\n1\n0\n1\n2\n3\n6"
        ]
    ],
    "hint": "",
    "translation": "- \u7ed9\u4e00\u4e2a $n \\times m$ \u7684 $\u7a7a/0/1$ \u77e9\u9635\uff08\u521d\u59cb\u5168\u7a7a\uff09\u3002\n\n- $k$ \u6b21\u64cd\u4f5c\uff0c\u6bcf\u6b21\u64cd\u4f5c\u4f1a\u628a\u4e00\u4e2a\u683c\u5b50\u6837\u5f0f\u4fee\u6539\u3002\n\n- \u6c42\u6bcf\u6b21\u4fee\u6539\u540e\u586b\u5145\u5269\u4e0b\u7a7a\u683c\u5b50\u7684**\u65b9\u6848\u6570**\uff0c\u4f7f\u6240\u6709 $2 \\times 2$ \u7684\u5b50\u77e9\u9635 $4$ \u4e2a\u5143\u7d20\u4e4b\u548c\u4e3a $2$ \uff08\u4e5f\u5c31\u662f\u6709 $2$ \u4e2a $1$ \u548c $2$ \u4e2a $0$\uff09\u3002\n\n- $n,m \\leq 10^6,k \\leq 3 \\times 10^5$\uff0c\u7b54\u6848\u5bf9 $998244353$ \u53d6\u6a21\u3002"
}