{
    "description": "Okabe likes to be able to walk through his city on a path lit by street lamps. That way, he doesn't get beaten up by schoolchildren.\n\nOkabe's city is represented by a 2D grid of cells. Rows are numbered from $ 1 $ to $ n $ from top to bottom, and columns are numbered $ 1 $ to $ m $ from left to right. Exactly $ k $ cells in the city are lit by a street lamp. It's guaranteed that the top-left cell is lit.\n\nOkabe starts his walk from the top-left cell, and wants to reach the bottom-right cell. Of course, Okabe will only walk on lit cells, and he can only move to adjacent cells in the up, down, left, and right directions. However, Okabe can also temporarily light all the cells in any single row or column at a time if he pays $ 1 $ coin, allowing him to walk through some cells not lit initially.\n\nNote that Okabe can only light a single row or column at a time, and has to pay a coin every time he lights a new row or column. To change the row or column that is temporarily lit, he must stand at a cell that is lit initially. Also, once he removes his temporary light from a row or column, all cells in that row/column not initially lit are now not lit.\n\nHelp Okabe find the minimum number of coins he needs to pay to complete his walk!",
    "inputFormat": "The first line of input contains three space-separated integers $ n $ , $ m $ , and $ k $ ( $ 2<=n,m,k<=10^{4} $ ).\n\nEach of the next $ k $ lines contains two space-separated integers $ r_{i} $ and $ c_{i} $ ( $ 1<=r_{i}<=n $ , $ 1<=c_{i}<=m $ ) \u2014 the row and the column of the $ i $ -th lit cell.\n\nIt is guaranteed that all $ k $ lit cells are distinct. It is guaranteed that the top-left cell is lit.",
    "outputFormat": "Print the minimum number of coins Okabe needs to pay to complete his walk, or -1 if it's not possible.",
    "samples": [
        [
            "4 4 5\n1 1\n2 1\n2 3\n3 3\n4 3\n",
            "2\n"
        ],
        [
            "5 5 4\n1 1\n2 1\n3 1\n3 2\n",
            "-1\n"
        ],
        [
            "2 2 4\n1 1\n1 2\n2 1\n2 2\n",
            "0\n"
        ],
        [
            "5 5 4\n1 1\n2 2\n3 3\n4 4\n",
            "3\n"
        ]
    ],
    "hint": "In the first sample test, Okabe can take the path ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF821D/889fb52cd8e59d84c301f0f8e944c8435ec73245.png), paying only when moving to $ (2,3) $ and $ (4,4) $ .\n\nIn the fourth sample, Okabe can take the path ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF821D/43c065d86f3862fdd168fa32390c7090f0f90d51.png)![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF821D/9437e98f5dfee3b86205c3722d844f74591a1a9d.png), paying when moving to $ (1,2) $ , $ (3,4) $ , and $ (5,4) $ .",
    "translation": "Okabe\u559c\u6b22\u6cbf\u7740\u6709\u8def\u706f\u7684\u5c0f\u8def\u7a7f\u884c\u57ce\u5e02\u3002\u4f46\u662f\u5982\u679c\u6cbf\u9014\u7684\u8def\u706f\u6ca1\u6709\u70b9\u4eae\uff0c\u5728\u4e00\u7247\u6f06\u9ed1\u4e2d\uff0c\u4ed6\u5c31\u4f1a\u88ab\u4ed6\u90a3\u4e9b\u8dd1\u5f97\u8d85\u7ea7\u5feb\u7684\u5c0f\u4f19\u4f34\u629b\u5f03\u3002\n\nOkabe\u5c45\u4f4f\u7684\u82df\u57ce\u53ef\u4ee5\u7528\u4e00\u4e2a\u4e8c\u7ef4\u7f51\u683c\u8868\u793a\u3002\u884c\u4ece\u4e0a\u5230\u4e0b\u7f16\u4e3a1~N\uff0c\u5217\u4ece\u5de6\u5230\u53f3\u7f16\u4e3a1~N\u3002\u6709K\u76cf\u8def\u706f\u662f\u4eae\u7740\u7684\u3002\u521d\u59cb\u65f6\u5de6\u4e0a\u89d2\u7684\u8def\u706f\u5df2\u70b9\u4eae\u3002\n\nOkabe\u5f00\u59cb\u4e86\u4ed6\u7684\u65c5\u7a0b\u3002\u4ed6\u4ece\u5de6\u4e0a\u89d2\u51fa\u53d1\uff0c\u76ee\u7684\u5730\u662f\u53f3\u4e0b\u89d2\u3002.\u5f53\u7136\uff0cOkabe\u53ea\u4f1a\u7ecf\u8fc7\u70b9\u4eae\u7684\u706f\uff0c\u800c\u4e14\u53ea\u80fd\u5411\u76f8\u90bb\u7684\u4e0a\u3001\u4e0b\u3001\u5de6\u3001\u53f3\u5355\u5143\u8d70\u3002\u7136\u800c\uff0cOkabe\u4e5f\u53ef\u4ee5\u652f\u51fa1s\u7684\u5bff\u547d\u6765\u6682\u65f6\u70b9\u4eae\u67d0\u4e00\u884c\u6216\u67d0\u4e00\u5217\u7684\u706f\uff0c\u4ece\u800c\u901a\u8fc7\u4e00\u4e9b\u6700\u521d\u6ca1\u6709\u70b9\u4eae\u7684\u533a\u57df\u3002\n\n\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0cOkabe\u5728\u540c\u4e00\u65f6\u95f4\u5185\u53ea\u80fd\u70b9\u4eae\u67d0\u4e00\u884c\u6216\u67d0\u4e00\u5217\u7684\u8def\u706f\uff0c\u4e14\u5728\u6bcf\u6b21\u70b9\u4eae\u65b0\u7684\u884c\u5217\u65f6\u90fd\u5fc5\u987b\u91cd\u65b0-1s\u3002\u8981\u66f4\u6539\u4e34\u65f6\u70b9\u4eae\u7684\u884c\u548c\u5217\u65f6\uff0c\u4ed6\u5fc5\u987b\u7ad9\u5728\u4e00\u5f00\u59cb\u5c31\u4eae\u7740\u7684\u5730\u65b9\u3002\u800c\u5f53\u4ed6\u66f4\u6539\u65f6\uff0c\u88ab\u70b9\u4eae\u7684\u4e00\u6574\u884c\u6216\u4e00\u6574\u5217\u706f\u4f1a\u540c\u65f6\u7184\u706d\u3002\n\n\u7531\u4e8eOkabe\u7684\u5bff\u547d\u662f\u6709\u9650\u7684\uff0c\u8bf7\u5e2e\u52a9Okabe\u627e\u51fa\u6700\u5c11\u9700\u8981\u652f\u51fa\u591a\u5c11\u5bff\u547d\u6765\u5b8c\u6210\u8fd9\u6b21\u65c5\u884c\u3002\n\n\u8f93\u5165 \u8f93\u5165\u7684\u7b2c\u4e00\u884c\u5305\u62ec\u4e09\u4e2a\u6574\u6570n\u3001m\u3001k\uff0c\u4e2d\u95f4\u7528\u7a7a\u683c\u9694\u5f00\u3002(2\u2009\u2264\u2009n,\u2009m,\u2009k\u2009\u2264\u2009104).\n\n\u63a5\u4e0b\u6765\u7684k\u884c\uff0c\u6bcf\u884c\u6709\u4e24\u4e2a\u6574\u6570 ri \u548c ci (1\u2009\u2264\u2009ri\u2009\u2264\u2009n, 1\u2009\u2264\u2009ci\u2009\u2264\u2009m) \uff0c\u8868\u793a\u521d\u59cb\u65f6\u5df2\u7ecf\u70b9\u4eae\u7684\u706f\u7684\u884c\u548c\u5217\u3002\n\n\u8f93\u5165\u4fdd\u8bc1\u6bcf\u4e2a\u88ab\u70b9\u4eae\u7684\u706f\u7684\u5750\u6807\u4e0d\u91cd\u5408\uff0c\u4e14\u5de6\u4e0a\u89d2\u7684\u706f\u4e00\u5b9a\u662f\u4eae\u7684\u3002\n\n\u8f93\u51fa\n\n\u8f93\u51faOkabe\u5230\u8fbe\u76ee\u7684\u5730\u9700\u8981\u652f\u51fa\u7684\u6700\u5c11\u5bff\u547d\u3002\u5982\u679c\u4e0d\u53ef\u80fd\u5230\u8fbe\uff0c\u8f93\u51fa-1\u3002"
}