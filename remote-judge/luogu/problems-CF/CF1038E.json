{
    "description": "You are given $ n $ blocks, each of them is of the form \\[color $ _1 $ |value|color $ _2 $ \\], where the block can also be flipped to get \\[color $ _2 $ |value|color $ _1 $ \\].\n\nA sequence of blocks is called valid if the touching endpoints of neighboring blocks have the same color. For example, the sequence of three blocks A, B and C is valid if the left color of the B is the same as the right color of the A and the right color of the B is the same as the left color of C.\n\nThe value of the sequence is defined as the sum of the values of the blocks in this sequence.\n\nFind the maximum possible value of the valid sequence that can be constructed from the subset of the given blocks. The blocks from the subset can be reordered and flipped if necessary. Each block can be used at most once in the sequence.",
    "inputFormat": "The first line of input contains a single integer $ n $ ( $ 1 \\le n \\le 100 $ ) \u2014 the number of given blocks.\n\nEach of the following $ n $ lines describes corresponding block and consists of $ \\mathrm{color}_{1,i} $ , $ \\mathrm{value}_i $ and $ \\mathrm{color}_{2,i} $ ( $ 1 \\le \\mathrm{color}_{1,i}, \\mathrm{color}_{2,i} \\le 4 $ , $ 1 \\le \\mathrm{value}_i \\le 100\\,000 $ ).",
    "outputFormat": "Print exactly one integer \u2014 the maximum total value of the subset of blocks, which makes a valid sequence.",
    "samples": [
        [
            "6\n2 1 4\n1 2 4\n3 4 4\n2 8 3\n3 16 3\n1 32 2\n",
            "63"
        ],
        [
            "7\n1 100000 1\n1 100000 2\n1 100000 2\n4 50000 3\n3 50000 4\n4 50000 4\n3 50000 3\n",
            "300000"
        ],
        [
            "4\n1 1000 1\n2 500 2\n3 250 3\n4 125 4\n",
            "1000"
        ]
    ],
    "hint": "In the first example, it is possible to form a valid sequence from all blocks.\n\nOne of the valid sequences is the following:\n\n\\[4|2|1\\] \\[1|32|2\\] \\[2|8|3\\] \\[3|16|3\\] \\[3|4|4\\] \\[4|1|2\\]\n\nThe first block from the input (\\[2|1|4\\] $ \\to $ \\[4|1|2\\]) and second (\\[1|2|4\\] $ \\to $ \\[4|2|1\\]) are flipped.\n\nIn the second example, the optimal answers can be formed from the first three blocks as in the following (the second or the third block from the input is flipped):\n\n\\[2|100000|1\\] \\[1|100000|1\\] \\[1|100000|2\\]\n\nIn the third example, it is not possible to form a valid sequence of two or more blocks, so the answer is a sequence consisting only of the first block since it is the block with the largest value.",
    "translation": "### \u9898\u76ee\u5927\u610f\uff1a\n\u7ed9\u4f60$n$\u4e2a\u8272\u5757\uff0c\u6bcf\u4e2a\u8272\u5757\u4e24\u7aef\u5206\u522b\u6709\u4e00\u79cd\u989c\u8272\uff0c\u5e76\u4e14\u6bcf\u4e2a\u8272\u5757\u90fd\u6709\u4e00\u4e2a\u6743\u503c\n\n\u4f60\u53ef\u4ee5\u5c06\u4e00\u4e2a\u8272\u5757\u7ffb\u8f6c\uff0c\u4f8b\u5982$[col1\\mid val\\mid col2]->[col2\\mid val\\mid col1]$\n\n\u5982\u679c\u4e24\u4e2a\u8272\u5757\u63a5\u89e6\u7684\u4e24\u7aef\u989c\u8272\u76f8\u540c\uff0c\u5c31\u53ef\u4ee5\u79f0\u8fd9\u4e24\u4e2a\u8272\u5757\u4e3a\u4e00\u4e2a\u5e8f\u5217\uff0c\u4e00\u4e2a\u5e8f\u5217\u53ef\u80fd\u7531\u591a\u4e2a\u8272\u5757\u6784\u6210\uff0c\u5e8f\u5217\u7684\u503c\u4e3a\u6784\u6210ta\u7684\u8272\u5757\u503c\u7684\u548c\uff0c\u6c42\u6240\u6709\u60c5\u51b5\u4e0b\u6240\u6709\u5e8f\u5217\u7684\u6700\u5927\u503c\n\n### \u8f93\u5165\u683c\u5f0f\uff1a\n\u7b2c\u4e00\u884c\u4e00\u4e2a\u6574\u6570$n$\n\n\u4ee5\u4e0b$n$\u884c\u6bcf\u884c3\u4e2a\u6574\u6570\uff0c\u8868\u793a$col1,val,col2$\n\n### \u8f93\u51fa\u683c\u5f0f\uff1a\n\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u6700\u5927\u503c\n\n```\n### \u9898\u76ee\u5927\u610f\uff1a\n\u7ed9\u4f60$n$\u4e2a\u8272\u5757\uff0c\u6bcf\u4e2a\u8272\u5757\u4e24\u7aef\u5206\u522b\u6709\u4e00\u79cd\u989c\u8272\uff0c\u5e76\u4e14\u6bcf\u4e2a\u8272\u5757\u90fd\u6709\u4e00\u4e2a\u6743\u503c\n\n\u4f60\u53ef\u4ee5\u5c06\u4e00\u4e2a\u8272\u5757\u7ffb\u8f6c\uff0c\u4f8b\u5982$[col1\\mid val\\mid col2]->[col2\\mid val\\mid col1]$\n\n\u5982\u679c\u4e24\u4e2a\u8272\u5757\u63a5\u89e6\u7684\u4e24\u7aef\u989c\u8272\u76f8\u540c\uff0c\u5c31\u53ef\u4ee5\u79f0\u8fd9\u4e24\u4e2a\u8272\u5757\u4e3a\u4e00\u4e2a\u5e8f\u5217\uff0c\u4e00\u4e2a\u5e8f\u5217\u53ef\u80fd\u7531\u591a\u4e2a\u8272\u5757\u6784\u6210\uff0c\u5e8f\u5217\u7684\u503c\u4e3a\u6784\u6210ta\u7684\u8272\u5757\u503c\u7684\u548c\uff0c\u6c42\u6240\u6709\u60c5\u51b5\u4e0b\u6240\u6709\u5e8f\u5217\u7684\u6700\u5927\u503c\n\n### \u8f93\u5165\u683c\u5f0f\uff1a\n\u7b2c\u4e00\u884c\u4e00\u4e2a\u6574\u6570$n$\n\n\u4ee5\u4e0b$n$\u884c\u6bcf\u884c3\u4e2a\u6574\u6570\uff0c\u8868\u793a$col1,val,col2$\n\n### \u8f93\u51fa\u683c\u5f0f\uff1a\n\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u6700\u5927\u503c\n```"
}