{
    "description": "Serega loves fun. However, everyone has fun in the unique manner. Serega has fun by solving query problems. One day Fedor came up with such a problem.\n\nYou are given an array $ a $ consisting of $ n $ positive integers and queries to it. The queries can be of two types:\n\n1. Make a unit cyclic shift to the right on the segment from $ l $ to $ r $ (both borders inclusive). That is rearrange elements of the array in the following manner: $ a[l],a[l+1],...,a[r-1],a[r]\u2192a[r],a[l],a[l+1],...,a[r-1]. $\n2. Count how many numbers equal to $ k $ are on the segment from $ l $ to $ r $ (both borders inclusive).\n\nFedor hurried to see Serega enjoy the problem and Serega solved it really quickly. Let's see, can you solve it?",
    "inputFormat": "The first line contains integer $ n $ ( $ 1<=n<=10^{5} $ ) \u2014 the number of elements of the array. The second line contains $ n $ integers $ a[1],a[2],...,a[n] $ ( $ 1<=a[i]<=n $ ).\n\nThe third line contains a single integer $ q $ ( $ 1<=q<=10^{5} $ ) \u2014 the number of queries. The next $ q $ lines contain the queries.\n\nAs you need to respond to the queries online, the queries will be encoded. A query of the first type will be given in format: $ 1 $ $ l'_{i} $ $ r'_{i} $ . A query of the second type will be given in format: $ 2 $ $ l'_{i} $ $ r'_{i} $ $ k'_{i} $ . All the number in input are integer. They satisfy the constraints: $ 1<=l'_{i},r'_{i},k'_{i}<=n $ .\n\nTo decode the queries from the data given in input, you need to perform the following transformations:\n\n $ l_{i}=((l'_{i}+lastans-1)\u00a0mod\u00a0n)+1;\u00a0r_{i}=((r'_{i}+lastans-1)\u00a0mod\u00a0n)+1;\u00a0k_{i}=((k'_{i}+lastans-1)\u00a0mod\u00a0n)+1. $ Where $ lastans $ is the last reply to the query of the 2-nd type (initially, $ lastans=0 $ ). If after transformation $ l_{i} $ is greater than $ r_{i} $ , you must swap these values.",
    "outputFormat": "For each query of the 2-nd type print the answer on a single line.",
    "samples": [
        [
            "7\n6 6 2 7 4 2 5\n7\n1 3 6\n2 2 4 2\n2 2 4 7\n2 2 2 5\n1 2 6\n1 1 4\n2 1 7 3\n",
            "2\n1\n0\n0\n"
        ],
        [
            "8\n8 4 2 2 7 7 8 8\n8\n1 8 8\n2 8 1 7\n1 8 1\n1 7 3\n2 8 8 3\n1 1 4\n1 2 7\n1 4 5\n",
            "2\n0\n"
        ]
    ],
    "hint": "",
    "translation": "\u7ed9\u5b9a\u957f\u5ea6\u4e3a $n(1\\le n\\le 10^5)$ \u7684\u5e8f\u5217\uff08$1\\le a_i\\le n$\uff09\uff0c\u5171\u6709 $q(1\\le q\\le 10^5)$ \u4e2a\u8be2\u95ee\uff0c\u652f\u6301\u4e24\u79cd\u64cd\u4f5c\uff1a\n\n`1 l r` \u5c06\u533a\u95f4 $[l,r]$ \u4f9d\u6b21\u5411\u53f3\u79fb\u52a8\u4e00\u4f4d\uff0c\u5176\u4e2d $a_r$ \u79fb\u52a8\u5230 $a_l$\u3002\n\n`2 l r k` \u8be2\u95ee\u533a\u95f4 $[l,r]$ \u4e2d $k$ \u51fa\u73b0\u6b21\u6570\u3002\n\n**\u672c\u9898\u5f3a\u5236\u5728\u7ebf:**\n\n$$l=((l'+lastans-1)\\mod n)+1$$\n$$r=((r'+lastans-1)\\mod n)+1$$\n$$k=((k'+lastans-1)\\mod n)+1$$\n\n\u5176\u4e2d $lastans$ \u4e3a\u4e0a\u4e00\u6b21\u7684\u7b54\u6848\uff0c\u521d\u59cb\u503c\u4e3a $0$\u3002\n\n\u5f53 $l>r$ \u65f6\uff0c\u4ea4\u6362 $l,r$\u3002"
}