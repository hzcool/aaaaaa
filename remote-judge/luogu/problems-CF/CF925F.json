{
    "description": "Vova has recently learned what a circulaton in a graph is. Recall the definition: let $ G = (V, E) $ be a directed graph. A circulation $ f $ is such a collection of non-negative real numbers $ f_e $ ( $ e \\in E $ ), that for each vertex $ v \\in V $ the following conservation condition holds:\n\n $ $$$\\sum\\limits_{e \\in \\delta^{-}(v)} f_e = \\sum\\limits_{e \\in \\delta^{+}(v)} f_e $ $ </p><p>where  $ \\\\delta^{+}(v) $  is the set of edges that end in the vertex  $ v $ , and  $ \\\\delta^{-}(v) $  is the set of edges that start in the vertex  $ v $ . In other words, for each vertex the total incoming flow should be equal to the total outcoming flow.</p><p>Let a  $ lr $ -circulation be such a circulation  $ f $  that for each edge the condition  $ l\\_e \\\\leq f\\_e \\\\leq r\\_e $  holds, where  $ l\\_e $  and  $ r\\_e $  for each edge  $ e \\\\in E $  are two non-negative real numbers denoting the lower and upper bounds on the value of the circulation on this edge  $ e $ .</p><p>Vova can't stop thinking about applications of a new topic. Right now he thinks about the following <span class=\"tex-font-style-it\">natural</span> question: let the graph be fixed, and each value  $ l\\_e $  and  $ r\\_e $  be a linear function of a real variable  $ t $ :</p><p> $ $ l_e(t) = a_e t + b_e $ $   $ $ r_e(t) = c_e t + d_e $ $ </p><p>Note that  $ t $  is the <span class=\"tex-font-style-bf\">same</span> for all edges.</p><p>Let  $ t $  be chosen at random from uniform distribution on a segment  $ \\[0, 1\\] $ . What is the probability of existence of  $ lr$$$-circulation in the graph?",
    "inputFormat": "The first line contains two integers $ n $ , $ m $ ( $ 1 \\leq n \\leq 1000 $ , $ 1 \\leq m \\leq 2000 $ ).\n\nEach of the next $ m $ lines describes edges of the graph in the format $ u_e $ , $ v_e $ , $ a_e $ , $ b_e $ , $ c_e $ , $ d_e $ ( $ 1 \\leq u_e, v_e \\leq n $ , $ -10^4 \\leq a_e, c_e \\leq 10^4 $ , $ 0 \\leq b_e, d_e \\leq 10^4 $ ), where $ u_e $ and $ v_e $ are the startpoint and the endpoint of the edge $ e $ , and the remaining 4 integers describe the linear functions for the upper and lower bound of circulation.\n\nIt is guaranteed that for any $ t \\in [0, 1] $ and for any edge $ e \\in E $ the following condition holds $ 0 \\leq l_e(t) \\leq r_e(t) \\leq 10^4 $ .",
    "outputFormat": "Print a single real integer \u2014 the probability of existence of $ lr $ -circulation in the graph, given that $ t $ is chosen uniformly at random from the segment $ [0, 1] $ . Your answer is considered correct if its absolute difference from jury's answer is not greater than $ 10^{-6} $ .",
    "samples": [
        [
            "3 3\n1 2 0 3 -4 7\n2 3 -2 5 1 6\n3 1 0 4 0 4\n",
            "0.25"
        ]
    ],
    "hint": "In the first example the conservation condition allows only circulations with equal values $ f_e $ for all three edges. The value of circulation on the last edge should be $ 4 $ whatever $ t $ is chosen, so the probability is\n\n $ $$$P(4 \\in [3, -4t + 7]~~\\&~~4 \\in [-2t + 5, t + 6]) = 0.25 $ $$$",
    "translation": "\u6709\u4e00\u4e2a $n$ \u4e2a\u70b9\uff0c $m$ \u6761\u8fb9\u7684\u6d41\u7f51\u7edc\uff0c\u6bcf\u6761\u8fb9\u6709 $a,b,c,d$ \u56db\u4e2a\u53c2\u6570\u3002\n\n\u5bf9\u4e8e\u7b2c $i$ \u6761\u8fb9\uff0c\u5b83\u7684\u6d41\u91cf\u4e0b\u754c\u4e3a $a_it+b_i$\uff0c\u5b83\u7684\u6d41\u91cf\u4e0a\u754c\u4e3a $c_it+d_i$\u3002\n\n\u82e5 $t$ \u7b49\u6982\u7387\u4e3a $[0,1]$ \u4e2d\u7684\u5b9e\u6570\uff0c\u6c42\u51fa\u539f\u7f51\u7edc\u5b58\u5728\u5faa\u73af\u6d41\uff08\u65e0\u6e90\u6c47\u4e0a\u4e0b\u754c\u53ef\u884c\u6d41\uff09\u7684\u6982\u7387\u3002"
}