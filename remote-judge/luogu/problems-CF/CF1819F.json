{
    "description": "You have long dreamed of working in a large IT company and finally got a job there. You have studied all existing modern technologies for a long time and are ready to apply all your knowledge in practice. But then you sit down at your desk and see a sheet of paper with the company's motto printed in large letters: abcdabcdabcdabcd....\n\nThe company's motto contains four main principles\u2014 a (Willi), b (Nilli), c (Crack), d (Release). Therefore, you consider strings of length $ n $ consisting of these four Latin letters. Unordered pairs of letters \"ab\", \"bc\", \"cd\", and \"da\" in this motto are adjacent, so we will call such pairs of symbols good. So, if you are given a string $ s $ of length $ n $ , and it is known that the unordered pair of symbols $ \\{ x, y \\} $ is good, then you can perform one of the following operations on the string:\n\n- if $ s_n = x $ , then you are allowed to replace this symbol with $ y $ ,\n- if there exists $ 1 \\le i < n $ such that $ s_i = x $ and $ s_{i+1} = \\ldots = s_n = y $ , then you are allowed to replace the $ i $ -th symbol of the string with $ y $ , and all subsequent symbols with $ x $ .\n\nFor example, the string bacdd can be replaced with one of the strings bacda, bacdc, or badcc, and the string aac can be replaced with aab or aad.\n\nA non-empty sequence of operations for the string $ s $ will be called correct if the following two conditions are met:\n\n1. after performing all operations, the string becomes $ s $ again,\n2. no string, except for $ s $ , will occur more than once during the operations. At the same time, the string $ s $ can occur exactly twice - before the start of the operations and after performing all operations.\n\nNow we are ready to move on to the problem statement! You have a set of strings that is initially empty. Then, each of $ q $ queries adds another string $ t_i $ to the set, or removes the string $ t_i $ from the set. After each query, you need to output the minimum and maximum size of a correct sequence of operations in which each word occurs at least once. The choice of the initial string $ s $ is up to you.",
    "inputFormat": "The first line contains two integers $ n $ and $ q $ ( $ 1 \\le n \\le 20 $ , $ 1 \\le q \\le 100\\,000 $ ) \u2014 the length of the strings under consideration and the number of queries to modify the set of strings.\n\nEach of the next $ q $ lines contains a string $ t_i $ ( $ \\lvert t_i \\rvert = n $ ). All strings consist of characters \"a\", \"b\", \"c\" and \"d\". If the string $ t_i $ was not in the set before the query, it is added to the set, otherwise it is removed from the set.",
    "outputFormat": "For each of the $ q $ queries, output two integers: the minimum and maximum size of a correct sequence of operations in which each word from the set appears at least once.\n\nIf there is no sequence of operations that satisfies the condition of the problem, output a single number $ -1 $ .",
    "samples": [
        [
            "2 4\naa\nac\ndd\nac",
            "2 12\n4 4\n-1\n12 12"
        ],
        [
            "3 2\nacc\nbdd",
            "2 44\n28 44"
        ]
    ],
    "hint": "Let's consider the first test example.\n\n- After the first query, the set of important words is equal to $ \\{ $ aa $ \\} $ , the minimum sequence of actions has the following form: aa, ab, aa. The maximum sequence of actions that fits is aa, ab, ba, bb, bc, cb, cc, cd, dc, dd, da, ad, aa.\n- After the second query, the set of important words is equal to $ \\{ $ aa, ac $ \\} $ . The minimum and maximum sequences of actions are: aa, ab, ac, ad, aa.\n- After the third query, the set of important words is equal to $ \\{ $ aa, ac, dd $ \\} $ . There is no sequence of actions that fits the condition, so $ -1 $ should be outputted.\n- After the fourth query, the set of important words is equal to $ \\{ $ aa, dd $ \\} $ . The minimum and maximum sequences of actions are as follows: aa, ab, ba, bb, bc, cb, cc, cd, dc, dd, da, ad, aa.",
    "translation": "### \u9898\u76ee\u63cf\u8ff0\n\n\u8003\u8651\u957f\u5ea6\u4e3a $n$ \u7684\uff0c\u4ec5\u5305\u542b\u524d\u56db\u4e2a\u5c0f\u5199\u5b57\u6bcd\u7684\u5b57\u7b26\u4e32\u3002\n\n\u79f0\u65e0\u5e8f\u5b57\u6bcd\u5bf9 \"ab\", \"bc\", \"cd\", \"da\" \u662f\u597d\u7684\u3002\u82e5\u65e0\u5e8f\u5b57\u6bcd\u5bf9 $(x, y)$ \u662f\u597d\u7684\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\u4e4b\u4e00\uff1a\n\n- \u82e5 $s_n = x$\uff0c\u5219\u5c06 $s_n$ \u6539\u6210 $y$\u3002\n- \u82e5 $s_i = x$ \u4e14 $s_{i + 1} = s_{i + 2} = \\cdots = s_n = y$\uff0c\u5219\u5c06 $s_i$ \u6539\u6210 $y$\uff0c$s_i$ \u4e4b\u540e\u7684\u5b57\u7b26\u6539\u6210 $x$\u3002\n\n\u4f8b\u5982\uff0c\u5b57\u7b26\u4e32 \"bacdd\" \u53ef\u4ee5\u53d8\u6210 \"bacda\", \"bacdc\", \"badcc\" \u4e4b\u4e00\uff1b\u5b57\u7b26\u4e32 \"aac\" \u53ef\u4ee5\u53d8\u6210 \"aab\" \u6216 \"aad\"\u3002\n\n\u4e00\u4e2a\u5b57\u7b26\u4e32 $s$ \u7684\u975e\u7a7a\u64cd\u4f5c\u5e8f\u5217\u662f\u5408\u6cd5\u7684\uff0c\u5f53\u4e14\u4ec5\u5f53\uff1a\n\n1. \u6267\u884c\u5b8c\u6240\u6709\u64cd\u4f5c\u540e\uff0c\u5b57\u7b26\u4e32\u53d8\u56de $s$\u3002\n2. \u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u9664\u4e86 $s$ \u6ca1\u6709\u5b57\u7b26\u4e32\u51fa\u73b0\u8d85\u8fc7\u4e00\u6b21\u3002\u540c\u65f6 $s$ \u51fa\u73b0\u6070\u597d\u4e24\u6b21 \u2014\u2014 \u6240\u6709\u64cd\u4f5c\u4e4b\u524d\uff0c\u548c\u6240\u6709\u64cd\u4f5c\u4e4b\u540e\u3002\n\n\u8bbe\u5b57\u7b26\u4e32\u96c6\u5408 $S$\uff0c\u521d\u59cb\u4e3a\u7a7a\u3002$q$ \u6b21\u5f80\u96c6\u5408\u4e2d\u6dfb\u52a0\u6216\u4ece\u96c6\u5408\u4e2d\u5220\u53bb\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\n\n\u6bcf\u6b21\u64cd\u4f5c\u540e\uff0c\u6c42\u51fa\u975e\u7a7a\u64cd\u4f5c\u5e8f\u5217\u7684\u6700\u5c0f\u957f\u5ea6\u548c\u6700\u5927\u957f\u5ea6\uff0c\u4f7f\u5f97 $S$ \u7684\u6bcf\u4e2a\u5b57\u7b26\u4e32\u5728\u64cd\u4f5c\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u81f3\u5c11\u4e00\u6b21\u3002\u4e0d\u5b58\u5728\u5219\u8f93\u51fa $-1$\u3002\u521d\u59cb\u5b57\u7b26\u4e32 $s$ \u7531\u4f60\u81ea\u5df1\u51b3\u5b9a\u3002\n\n$1\\leq n\\leq 20$\uff0c$1\\leq q\\leq 10 ^ 5$\uff0c\u8f93\u5165\u5b57\u7b26\u4e32\u957f\u5ea6\u4e3a $n$ \u4e14\u4ec5\u5305\u542b\u524d\u56db\u4e2a\u5c0f\u5199\u5b57\u6bcd\u3002\n\n### \u8f93\u5165\u683c\u5f0f\n\n\u7b2c\u4e00\u884c\u4e24\u4e2a\u6b63\u6574\u6570 $n, q$\u3002\n\n\u63a5\u4e0b\u6765 $q$ \u884c\uff0c\u6bcf\u884c\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5b57\u7b26\u4e32 $t_i$\u3002\u82e5 $t_i\\in S$\uff0c\u5219\u5c06 $t_i$ \u5220\u53bb\uff0c\u5426\u5219\u52a0\u5165 $t_i$\u3002\n\n### \u8f93\u51fa\u683c\u5f0f\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u64cd\u4f5c\uff0c\u8f93\u51fa\u4e00\u884c\u4e00\u4e2a\u6216\u4e24\u4e2a\u6574\u6570\u8868\u793a\u7b54\u6848 \u2014\u2014 \u65e0\u89e3\uff0c\u6216\u64cd\u4f5c\u5e8f\u5217\u957f\u5ea6\u7684\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u3002\n\n\u7ffb\u8bd1\u8d21\u732e\u8005\uff1a[Alex_Wei](https://www.luogu.com.cn/user/123294)\u3002"
}