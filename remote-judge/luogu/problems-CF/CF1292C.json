{
    "description": "[INSPION FullBand Master - INSPION](https://www.youtube.com/watch?v=kwsciXm_7sA)\n\n\n\n[INSPION - IOLITE-SUNSTONE](https://www.youtube.com/watch?v=kwsciXm_7sA)\n\n\n\nOn another floor of the A.R.C. Markland-N, the young man Simon \"Xenon\" Jackson, takes a break after finishing his project early (as always). Having a lot of free time, he decides to put on his legendary hacker \"X\" instinct and fight against the gangs of the cyber world.\n\nHis target is a network of $ n $ small gangs. This network contains exactly $ n - 1 $ direct links, each of them connecting two gangs together. The links are placed in such a way that every pair of gangs is connected through a sequence of direct links.\n\nBy mining data, Xenon figured out that the gangs used a form of cross-encryption to avoid being busted: every link was assigned an integer from $ 0 $ to $ n - 2 $ such that all assigned integers are distinct and every integer was assigned to some link. If an intruder tries to access the encrypted data, they will have to surpass $ S $ password layers, with $ S $ being defined by the following formula:\n\n $ $$$S = \\sum_{1 \\leq u < v \\leq n} mex(u, v) $ $ </p><p>Here,  $ mex(u, v) $  denotes the smallest non-negative integer that does not appear on any link on the unique simple path from gang  $ u $  to gang  $ v $ .</p><p>Xenon doesn't know the way the integers are assigned, but it's not a problem. He decides to let his AI's instances try all the passwords on his behalf, but before that, he needs to know the maximum possible value of  $ S $ , so that the AIs can be deployed efficiently.</p><p>Now, Xenon is out to write the AI scripts, and he is expected to finish them in two hours. Can you find the maximum possible  $ S$$$ before he returns?",
    "inputFormat": "The first line contains an integer $ n $ ( $ 2 \\leq n \\leq 3000 $ ), the number of gangs in the network.\n\nEach of the next $ n - 1 $ lines contains integers $ u_i $ and $ v_i $ ( $ 1 \\leq u_i, v_i \\leq n $ ; $ u_i \\neq v_i $ ), indicating there's a direct link between gangs $ u_i $ and $ v_i $ .\n\nIt's guaranteed that links are placed in such a way that each pair of gangs will be connected by exactly one simple path.",
    "outputFormat": "Print the maximum possible value of $ S $ \u2014 the number of password layers in the gangs' network.",
    "samples": [
        [
            "3\n1 2\n2 3",
            "3"
        ],
        [
            "5\n1 2\n1 3\n1 4\n3 5",
            "10"
        ]
    ],
    "hint": "In the first example, one can achieve the maximum $ S $ with the following assignment:\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1292C/0f9f2baa435ba687ee4d32b6435c04b03bd650e3.png)With this assignment, $ mex(1, 2) = 0 $ , $ mex(1, 3) = 2 $ and $ mex(2, 3) = 1 $ . Therefore, $ S = 0 + 2 + 1 = 3 $ .\n\nIn the second example, one can achieve the maximum $ S $ with the following assignment:\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1292C/4e86fe7c73ce5613cf34e53621032aa8d877caf3.png)With this assignment, all non-zero mex value are listed below:\n\n- $ mex(1, 3) = 1 $\n- $ mex(1, 5) = 2 $\n- $ mex(2, 3) = 1 $\n- $ mex(2, 5) = 2 $\n- $ mex(3, 4) = 1 $\n- $ mex(4, 5) = 3 $\n\nTherefore, $ S = 1 + 2 + 1 + 2 + 1 + 3 = 10 $ .",
    "translation": "\u5728 A.R.C.Markland-N \u7684\u53e6\u4e00\u5c42 Simon \"Xenon\" Jackson \u65e9\u5b8c\u6210\u4e86\u4ed6\u7684\u9879\u76ee\u540e\uff0c\u4fbf\u4e00\u5982\u65e2\u5f80\u5730\u4f11\u606f\u4e00\u4e0b\u3002 \n\n\u7531\u4e8e\u62e5\u6709\u5927\u91cf\u7684\u7a7a\u95f2\u65f6\u95f4\uff0c\u4ed6\u51b3\u5b9a\u53d1\u6325\u4f20\u5947\u7684\u9ed1\u5ba2\"X\"\u672c\u80fd\uff0c\u4e0e\u7f51\u7edc\u4e16\u754c\u7684\u5e2e\u6d3e\u4f5c\u6597\u4e89\u3002\n\n------\n\n\u73b0\u5728\u6709\u4e00\u68f5$n$\u4e2a\u7ed3\u70b9\u7684\u6811\n\n\u6bcf\u6761\u8fb9\u5206\u522b\u5206\u914d\u4e86\u4e00\u4e2a$[0,n-2]$\u7684\u6574\u6570\u6743\u503c$w$\uff0c\u6240\u6709\u5206\u914d\u7684\u6574\u6570\u90fd\u662f\u4e0d\u540c\u7684\uff0c\u5e76\u4e14\u6bcf\u4e2a\u6574\u6570\u90fd\u5206\u914d\u7ed9\u67d0\u6761\u8fb9\u3002\n\n\u5b9a\u4e49 : \n\n$$S_{path(s,t)}=mex_{(u,v)\\in path(s,t)}w(u,v)$$\n\n\u8981\u6c42\u6700\u5927\u5316\n\n$$\\sum_{1\\leq s < t \\leq n}S_{path(s,t)}$$\n\n$mex$ : \u5373\u96c6\u5408\u4e2d\u6ca1\u6709\u51fa\u73b0\u7684\u6700\u5c0f\u81ea\u7136\u6570"
}