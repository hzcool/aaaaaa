{
    "description": "The DNA sequence for every living creature in Berland can be represented as a non-empty line consisting of lowercase Latin letters. Berland scientists found out that all the creatures evolve by stages. During one stage exactly one symbol of the DNA line is replaced by exactly two other ones. At that overall there are $ n $ permissible substitutions. The substitution  $ a_{i} $ -> $ b_{i}c_{i} $  means that any one symbol $ a_{i} $ can be replaced with two symbols $ b_{i}c_{i} $ . Every substitution could happen an unlimited number of times.\n\nThey say that two creatures with DNA sequences $ s_{1} $ and $ s_{2} $ can have a common ancestor if there exists such a DNA sequence $ s_{3} $ that throughout evolution it can result in $ s_{1} $ and $ s_{2} $ , perhaps after a different number of stages. Your task is to find out by the given $ s_{1} $ and $ s_{2} $ whether the creatures possessing such DNA sequences can have a common ancestor. If the answer is positive, you have to find the length of the shortest sequence of the common ancestor\u2019s DNA.",
    "inputFormat": "The first line contains a non-empty DNA sequence $ s_{1} $ , the second line contains a non-empty DNA sequence $ s_{2} $ . The lengths of these lines do not exceed 50, the lines contain only lowercase Latin letters. The third line contains an integer $ n $ ( $ 0<=n<=50 $ ) \u2014 the number of permissible substitutions. Then follow $ n $ lines each of which describes a substitution in the format  $ a_{i} $ -> $ b_{i}c_{i} $ . The characters $ a_{i} $ , $ b_{i} $ , and $ c_{i} $ are lowercase Latin letters. Lines $ s_{1} $ and $ s_{2} $ can coincide, the list of substitutions can contain similar substitutions.",
    "outputFormat": "If $ s_{1} $ and $ s_{2} $ cannot have a common ancestor, print -1. Otherwise print the length of the shortest sequence $ s_{3} $ , from which $ s_{1} $ and $ s_{2} $ could have evolved.",
    "samples": [
        [
            "ababa\naba\n2\nc->ba\nc->cc\n",
            "2\n"
        ],
        [
            "ababa\naba\n7\nc->ba\nc->cc\ne->ab\nz->ea\nb->ba\nd->dd\nd->ab\n",
            "1\n"
        ],
        [
            "ababa\naba\n1\nc->ba\n",
            "-1\n"
        ]
    ],
    "hint": "",
    "translation": "## \u9898\u76ee\u63cf\u8ff0\uff1a\nBerland\u7684\u6bcf\u4e00\u4e2a\u751f\u7269\u7684DNA\u5e8f\u5217\u53ef\u4ee5\u88ab\u8868\u793a\u6210\u4e00\u4e2a\u7531\u5c0f\u5199\u5b57\u6bcd\u7ec4\u6210\u7684\u975e\u7a7a\u5b57\u7b26\u4e32\u3002Berland\u7684\u79d1\u5b66\u5bb6\u4eec\u53d1\u73b0\u6240\u6709\u751f\u7269\u90fd\u662f\u4e00\u6b65\u4e00\u6b65\u8fdb\u5316\u6765\u7684\u3002\u5728\u5176\u4e2d\u7684\u6bcf\u4e00\u6b65\uff0cDNA\u5e8f\u5217\u7684\u4e00\u4e2a\u5b57\u7b26\u4f1a\u88ab\u66ff\u6362\u6210\u53e6\u5916\u7684\u4e24\u4e2a\u3002\u603b\u5171\u6709$n$\u79cd\u5141\u8bb8\u7684\u53d8\u5316\u3002\u53d8\u5316$a_i\\rightarrow b_ic_i$\u8868\u793a\u4e00\u4e2a\u5b57\u7b26$a_i$\u53ef\u4ee5\u88ab\u66ff\u6362\u6210\u4e24\u4e2a\u5b57\u7b26$b_ic_i$\u3002\u6bcf\u4e00\u79cd\u53d8\u5316\u5747\u53ef\u4ee5\u65e0\u9650\u6b21\u53d1\u751f\u3002\n\u79d1\u5b66\u5bb6\u4eec\u8868\u793a\uff0c\u5982\u679c\u4e00\u4e2aDNA\u5e8f\u5217$s_3$\u5728\u6574\u4e2a\u8fdb\u5316\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u6700\u7ec8\u53d8\u4e3a$s_1$\u548c$s_2$\uff0c\u6216\u8bb8\u662f\u7ecf\u8fc7\u4e86\u4e0d\u540c\u7684\u6b65\u9aa4\u6570\uff0c\u90a3\u4e48DNA\u5e8f\u5217\u5206\u522b\u4e3a$s_1$\u548c$s_2$\u7684\u4e24\u4e2a\u751f\u7269\u5c31\u4f1a\u6709\u4e00\u4e2a\u5171\u540c\u7956\u5148\u3002\u73b0\u5728\u7ed9\u51fa$s_1$\u548c$s_2$\uff0c\u4f60\u7684\u4efb\u52a1\u662f\u5f04\u6e05\u695a\u5206\u522b\u62e5\u6709\u8fd9\u4e24\u79cdDNA\u5e8f\u5217\u7684\u751f\u7269\u662f\u5426\u6709\u5171\u540c\u7956\u5148\u3002\u5982\u679c\u5b58\u5728\uff0c\u4f60\u9700\u8981\u627e\u51fa\u6240\u6709\u5171\u540c\u7956\u5148\u4e2d\u957f\u5ea6\u6700\u77ed\u7684DNA\u5e8f\u5217\u3002\n\n## \u8f93\u5165\u683c\u5f0f\uff1a\n\u7b2c\u4e00\u3001\u4e8c\u884c\u5206\u522b\u5305\u542b\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26\u4e32\uff0c\u5373$s_1$\u548c$s_2$\u3002\u8fd9\u4e24\u4e2a\u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u8d85\u8fc750\u4e14\u53ea\u5305\u542b\u5c0f\u5199\u5b57\u6bcd\u3002\u7b2c\u4e09\u884c\u5305\u542b\u4e00\u4e2a\u6574\u6570$n$\uff0c$0\\leq n\\leq50$\uff0c\u8868\u793a\u53d8\u5316\u7684\u79cd\u7c7b\u6570\u3002\u968f\u540e\u7684$n$\u884c\uff0c\u6bcf\u4e00\u884c\u63cf\u8ff0\u4e86\u4e00\u4e2a\u53d8\u5316\u5f62\u5f0f$a_i\\rightarrow b_ic_i$\u3002$a_i$\u3001$b_i$\u548c$c_i$\u90fd\u662f\u5c0f\u5199\u5b57\u6bcd\u3002$s_1$\u548c$s_2$\u53ef\u80fd\u76f8\u540c\uff0c\u7ed9\u51fa\u7684\u53d8\u5316\u4e2d\u53ef\u80fd\u5305\u542b\u6709\u76f8\u4f3c\u7684\u53d8\u5316\u3002\n\n## \u8f93\u51fa\u683c\u5f0f\uff1a\n\u5982\u679c$s_1$\u548c$s_2$\u6ca1\u6709\u5171\u540c\u7956\u5148\uff0c\u8f93\u51fa-1\u3002\u5426\u5219\u8f93\u51fa\u6700\u77ed\u7684\u5171\u540c\u7956\u5148$s_3$\u7684\u5e8f\u5217\u957f\u5ea6\u3002\n"
}