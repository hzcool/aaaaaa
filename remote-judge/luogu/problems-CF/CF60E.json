{
    "description": "Once upon a time in the thicket of the mushroom forest lived mushroom gnomes. They were famous among their neighbors for their magic mushrooms. Their magic nature made it possible that between every two neighboring mushrooms every minute grew another mushroom with the weight equal to the sum of weights of two neighboring ones.\n\nThe mushroom gnomes loved it when everything was in order, that's why they always planted the mushrooms in one line in the order of their weights' increasing. Well... The gnomes planted the mushrooms and went to eat. After $ x $ minutes they returned and saw that new mushrooms had grown up, so that the increasing order had been violated. The gnomes replanted all the mushrooms in the correct order, that is, they sorted the mushrooms in the order of the weights' increasing. And went to eat again (those gnomes were quite big eaters). What total weights modulo $ p $ will the mushrooms have in another $ y $ minutes?",
    "inputFormat": "## \u8f93\u5165\u683c\u5f0f\n\nThe first line contains four integers $ n $ , $ x $ , $ y $ , $ p $ ( $ 1\\leq n \\leq 10^{6},0\\leq x,y\\leq 10^{18},x+y \\gt0,2\\leq p\\leq 10^{9} $ ) which represent the number of mushrooms, the number of minutes after the first replanting, the number of minutes after the second replanting and the module. The next line contains $ n $ integers $ a_{i} $ which represent the mushrooms' weight in the non-decreasing order ( $ 0\\leq a_{i}\\leq 10^{9} $ ).\n\nPlease, do not use %lld specificator to read or write 64-bit integers in C++. It is preffered to use cin (also you may use %I64d).",
    "outputFormat": "The answer should contain a single number which is the total weights of the mushrooms modulo $ p $ in the end after $ x+y $ minutes.",
    "samples": [
        [
            "2 1 0 657276545\n1 2\n",
            "6\n"
        ],
        [
            "2 1 1 888450282\n1 2\n",
            "14\n"
        ],
        [
            "4 5 0 10000\n1 2 3 4\n",
            "1825\n"
        ]
    ],
    "hint": "",
    "translation": "### \u9898\u76ee\u63cf\u8ff0\n\n\u5f88\u4e45\u4ee5\u524d\uff0c\u5728\u8611\u83c7\u68ee\u6797\u7684\u704c\u6728\u4e1b\u4e2d\u751f\u6d3b\u7740\u8611\u83c7\u5730\u7cbe\u3002\u5b83\u4eec\u4ee5\u795e\u5947\u7684\u8611\u83c7\u800c\u5728\u90bb\u5c45\u4e2d\u95fb\u540d\u3002\u5b83\u4eec\u7684\u795e\u5947\u7279\u6027\u4f7f\u5f97\u5b83\u4eec\u6bcf\u5206\u949f\u53ef\u4ee5\u5728\u76f8\u90bb\u7684\u4e24\u4e2a\u8611\u83c7\u4e4b\u95f4\u957f\u51fa\u53e6\u4e00\u4e2a\u8611\u83c7\uff0c\u800c\u8be5\u8611\u83c7\u7684\u91cd\u91cf\u7b49\u4e8e\u4e24\u4e2a\u76f8\u90bb\u8611\u83c7\u7684\u91cd\u91cf\u4e4b\u548c\u3002\n\n\u8611\u83c7\u5730\u7cbe\u559c\u6b22\u4e00\u5207\u90fd\u4e95\u4e95\u6709\u6761\u7684\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u5b83\u4eec\u603b\u662f\u6309\u7167\u91cd\u91cf\u9012\u589e\u7684\u987a\u5e8f\u5c06\u8611\u83c7\u79cd\u6210\u4e00\u884c\u3002\n\n\u5730\u7cbe\u4eec\u79cd\u4e0b\u8611\u83c7\u540e\u5c31\u53bb\u5403\u996d\u4e86\u3002 $x$ \u5206\u949f\u540e\uff0c\u4ed6\u4eec\u8fd4\u56de\uff0c\u53d1\u73b0\u65b0\u7684\u8611\u83c7\u957f\u5927\u4e86\uff0c\u56e0\u6b64\u6253\u7834\u4e86\u9012\u589e\u7684\u987a\u5e8f\u3002\n\n\u5730\u7cbe\u4eec\u6309\u7167\u6b63\u786e\u7684\u987a\u5e8f\u91cd\u65b0\u79cd\u690d\u4e86\u6240\u6709\u8611\u83c7\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4ed6\u4eec\u6309\u7167\u91cd\u91cf\u9012\u589e\u7684\u987a\u5e8f\u91cd\u65b0\u5bf9\u8611\u83c7\u8fdb\u884c\u4e86\u6392\u5e8f\u3002\u7136\u540e\u53c8\u53bb\u5403\u996d\u4e86\uff08\u5730\u7cbe\u4eec\u662f\u98df\u91cf\u5f88\u5927\u7684\uff09\u3002 \u518d\u8fc7 $y$ \u5206\u949f\uff0c\u8611\u83c7\u603b\u91cd\u91cf\u5bf9 $p$ \u53d6\u6a21\u7684\u503c\u662f\u591a\u5c11\uff1f\n\n### \u8f93\u5165\u683c\u5f0f\n\n\u7b2c\u4e00\u884c\u5305\u542b\u56db\u4e2a\u6574\u6570 $n$ \uff0c $x$ \uff0c $y$ \uff0c $p$ \uff08 $1 \\leqslant n \\leqslant 10^6,0 \\leqslant x,y \\leqslant 10^{18},x+y>0,2 \\leqslant p \\leqslant 10^9$ \uff09\uff0c\u5206\u522b\u8868\u793a\u8611\u83c7\u7684\u6570\u91cf\u3001\u7b2c\u4e00\u6b21\u79cd\u690d\u540e\u7684\u5206\u949f\u6570\u3001\u7b2c\u4e8c\u6b21\u91cd\u65b0\u79cd\u690d\u540e\u7684\u5206\u949f\u6570\u548c\u6a21\u6570\u3002\n\n\u7b2c\u4e8c\u884c\u5305\u542b $n$ \u4e2a\u6574\u6570 $a_i$ \uff0c\u6309\u975e\u964d\u5e8f\u6392\u5217\u8868\u793a\u8611\u83c7\u7684\u91cd\u91cf\uff08$ 0 \\leqslant a_i \\leqslant 10^9$ \uff09\u3002\n\n### \u8f93\u51fa\u683c\u5f0f\n\n\u7b54\u6848\u5e94\u5305\u542b\u4e00\u4e2a\u6570\u5b57\uff0c\u5373\u8611\u83c7\u5728 $x+y$ \u5206\u949f\u540e\u7684\u603b\u91cd\u91cf\u5bf9 $p$ \u53d6\u6a21\u7684\u503c\u3002"
}