{
    "description": "Vasya writes his own library for building graphical user interface. Vasya called his creation VTK (VasyaToolKit). One of the interesting aspects of this library is that widgets are packed in each other.\n\nA widget is some element of graphical interface. Each widget has width and height, and occupies some rectangle on the screen. Any widget in Vasya's library is of type Widget. For simplicity we will identify the widget and its type.\n\nTypes HBox and VBox are derivatives of type Widget, so they also are types Widget. Widgets HBox and VBox are special. They can store other widgets. Both those widgets can use the pack() method to pack directly in itself some other widget. Widgets of types HBox and VBox can store several other widgets, even several equal widgets \u2014 they will simply appear several times. As a result of using the method pack() only the link to the packed widget is saved, that is when the packed widget is changed, its image in the widget, into which it is packed, will also change.\n\nWe shall assume that the widget $ a $ is packed in the widget $ b $ if there exists a chain of widgets $ a=c_{1},c_{2},...,c_{k}=b $ , $ k>=2 $ , for which $ c_{i} $ is packed directly to $ c_{i+1} $ for any $ 1<=i&lt;k $ . In Vasya's library the situation when the widget $ a $ is packed in the widget $ a $ (that is, in itself) is not allowed. If you try to pack the widgets into each other in this manner immediately results in an error.\n\nAlso, the widgets HBox and VBox have parameters border and spacing, which are determined by the methods set\\_border() and set\\_spacing() respectively. By default both of these options equal $ 0 $ .\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF89B/57c67fae82d5d67a0c887efae4fefb5e3c38dfc1.png)The picture above shows how the widgets are packed into HBox and VBox. At that HBox and VBox automatically change their size depending on the size of packed widgets. As for HBox and VBox, they only differ in that in HBox the widgets are packed horizontally and in VBox \u2014 vertically. The parameter spacing sets the distance between adjacent widgets, and border \u2014 a frame around all packed widgets of the desired width. Packed widgets are placed exactly in the order in which the pack() method was called for them. If within HBox or VBox there are no packed widgets, their sizes are equal to $ 0\u00d70 $ , regardless of the options border and spacing.\n\nThe construction of all the widgets is performed using a scripting language VasyaScript. The description of the language can be found in the input data.\n\nFor the final verification of the code Vasya asks you to write a program that calculates the sizes of all the widgets on the source code in the language of VasyaScript.",
    "inputFormat": "The first line contains an integer $ n $ \u2014 the number of instructions ( $ 1<=n<=100 $ ). Next $ n $ lines contain instructions in the language VasyaScript \u2014 one instruction per line. There is a list of possible instructions below.\n\n- \"Widget \\[name\\](\\[x\\],\\[y\\])\" \u2014 create a new widget \\[name\\] of the type Widget possessing the width of \\[x\\] units and the height of \\[y\\] units.\n- \"HBox \\[name\\]\" \u2014 create a new widget \\[name\\] of the type HBox.\n- \"VBox \\[name\\]\" \u2014 create a new widget \\[name\\] of the type VBox.\n- \"\\[name1\\].pack(\\[name2\\])\" \u2014 pack the widget \\[name2\\] in the widget \\[name1\\]. At that, the widget \\[name1\\] must be of type HBox or VBox.\n- \"\\[name\\].set\\_border(\\[x\\])\" \u2014 set for a widget \\[name\\] the border parameter to \\[x\\] units. The widget \\[name\\] must be of type HBox or VBox.\n- \"\\[name\\].set\\_spacing(\\[x\\])\" \u2014 set for a widget \\[name\\] the spacing parameter to \\[x\\] units. The widget \\[name\\] must be of type HBox or VBox.\n\nAll instructions are written without spaces at the beginning and at the end of the string. The words inside the instruction are separated by exactly one space. There are no spaces directly before the numbers and directly after them.\n\nThe case matters, for example, \"wiDget x\" is not a correct instruction. The case of the letters is correct in the input data.\n\nAll names of the widgets consist of lowercase Latin letters and has the length from $ 1 $ to $ 10 $ characters inclusive. The names of all widgets are pairwise different. All numbers in the script are integers from $ 0 $ to $ 100 $ inclusive\n\nIt is guaranteed that the above-given script is correct, that is that all the operations with the widgets take place after the widgets are created and no widget is packed in itself. It is guaranteed that the script creates at least one widget.",
    "outputFormat": "For each widget print on a single line its name, width and height, separated by spaces. The lines must be ordered lexicographically by a widget's name.\n\nPlease, do not use the %lld specificator to read or write 64-bit integers in C++. It is preferred to use cout stream (also you may use %I64d specificator)",
    "samples": [
        [
            "12\nWidget me(50,40)\nVBox grandpa\nHBox father\ngrandpa.pack(father)\nfather.pack(me)\ngrandpa.set_border(10)\ngrandpa.set_spacing(20)\nWidget brother(30,60)\nfather.pack(brother)\nWidget friend(20,60)\nWidget uncle(100,20)\ngrandpa.pack(uncle)\n",
            "brother 30 60\nfather 80 60\nfriend 20 60\ngrandpa 120 120\nme 50 40\nuncle 100 20\n"
        ],
        [
            "15\nWidget pack(10,10)\nHBox dummy\nHBox x\nVBox y\ny.pack(dummy)\ny.set_border(5)\ny.set_spacing(55)\ndummy.set_border(10)\ndummy.set_spacing(20)\nx.set_border(10)\nx.set_spacing(10)\nx.pack(pack)\nx.pack(dummy)\nx.pack(pack)\nx.set_border(0)\n",
            "dummy 0 0\npack 10 10\nx 40 10\ny 10 10\n"
        ]
    ],
    "hint": "In the first sample the widgets are arranged as follows:\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF89B/52b33204a63f625a613bc201710508e029338e01.png)"
}