{
    "description": "Pak Chanek has $ n $ blank heart-shaped cards. Card $ 1 $ is attached directly to the wall while each of the other cards is hanging onto exactly one other card by a piece of string. Specifically, card $ i $ ( $ i > 1 $ ) is hanging onto card $ p_i $ ( $ p_i < i $ ).\n\nIn the very beginning, Pak Chanek must write one integer number on each card. He does this by choosing any permutation $ a $ of $ [1, 2, \\dots, n] $ . Then, the number written on card $ i $ is $ a_i $ .\n\nAfter that, Pak Chanek must do the following operation $ n $ times while maintaining a sequence $ s $ (which is initially empty):\n\n1. Choose a card $ x $ such that no other cards are hanging onto it.\n2. Append the number written on card $ x $ to the end of $ s $ .\n3. If $ x \\neq 1 $ and the number on card $ p_x $ is larger than the number on card $ x $ , replace the number on card $ p_x $ with the number on card $ x $ .\n4. Remove card $ x $ .\n\nAfter that, Pak Chanek will have a sequence $ s $ with $ n $ elements. What is the maximum length of the longest non-decreasing subsequence $ ^\\dagger $ of $ s $ at the end if Pak Chanek does all the steps optimally?\n\n $ ^\\dagger $ A sequence $ b $ is a subsequence of a sequence $ c $ if $ b $ can be obtained from $ c $ by deletion of several (possibly, zero or all) elements. For example, $ [3,1] $ is a subsequence of $ [3,2,1] $ , $ [4,3,1] $ and $ [3,1] $ , but not $ [1,3,3,7] $ and $ [3,10,4] $ .",
    "inputFormat": "The first line contains a single integer $ n $ ( $ 2 \\le n \\le 10^5 $ ) \u2014 the number of heart-shaped cards.\n\nThe second line contains $ n - 1 $ integers $ p_2, p_3, \\dots, p_n $ ( $ 1 \\le p_i < i $ ) describing which card that each card hangs onto.",
    "outputFormat": "Print a single integer \u2014 the maximum length of the longest non-decreasing subsequence of $ s $ at the end if Pak Chanek does all the steps optimally.",
    "samples": [
        [
            "6\n1 2 1 4 2",
            "4"
        ],
        [
            "2\n1",
            "2"
        ]
    ],
    "hint": "The following is the structure of the cards in the first example.\n\n![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1740E/c21952ecb25b67a195586146f9d068b9b7641f10.png)\n\nPak Chanek can choose the permutation $ a = [1, 5, 4, 3, 2, 6] $ .\n\n![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1740E/4127ff7f189221d666c08b1ef78406f618501ae1.png)\n\nLet $ w_i $ be the number written on card $ i $ . Initially, $ w_i = a_i $ . Pak Chanek can do the following operations in order:\n\n1. Select card $ 5 $ . Append $ w_5 = 2 $ to the end of $ s $ . As $ w_4 > w_5 $ , the value of $ w_4 $ becomes $ 2 $ . Remove card $ 5 $ . After this operation, $ s = [2] $ .\n2. Select card $ 6 $ . Append $ w_6 = 6 $ to the end of $ s $ . As $ w_2 \\leq w_6 $ , the value of $ w_2 $ is left unchanged. Remove card $ 6 $ . After this operation, $ s = [2, 6] $ .\n3. Select card $ 4 $ . Append $ w_4 = 2 $ to the end of $ s $ . As $ w_1 \\leq w_4 $ , the value of $ w_1 $ is left unchanged. Remove card $ 4 $ . After this operation, $ s = [2, 6, 2] $ .\n4. Select card $ 3 $ . Append $ w_3 = 4 $ to the end of $ s $ . As $ w_2 > w_3 $ , the value of $ w_2 $ becomes $ 4 $ . Remove card $ 3 $ . After this operation, $ s = [2, 6, 2, 4] $ .\n5. Select card $ 2 $ . Append $ w_2 = 4 $ to the end of $ s $ . As $ w_1 \\leq w_2 $ , the value of $ w_1 $ is left unchanged. Remove card $ 2 $ . After this operation, $ s = [2, 6, 2, 4, 4] $ .\n6. Select card $ 1 $ . Append $ w_1 = 1 $ to the end of $ s $ . Remove card $ 1 $ . After this operation, $ s = [2, 6, 2, 4, 4, 1] $ .\n\nOne of the longest non-decreasing subsequences of $ s = [2, 6, 2, 4, 4, 1] $ is $ [2, 2, 4, 4] $ . Thus, the length of the longest non-decreasing subsequence of $ s $ is $ 4 $ . It can be proven that this is indeed the maximum possible length.",
    "translation": "\u4f60\u6709 $ n $ \u5f20\u5fc3\u5f62\u5361\u7247\uff0c\u7b2c $ 1 $ \u5f20\u5361\u7247\u88ab\u76f4\u63a5\u8d34\u5728\u5899\u4e0a\u3002\n\n\u9664\u6b64\u4e4b\u5916\uff0c\u7b2c $ i $ ( $ i > 1 $ ) \u5f20\u5361\u7247\u88ab\u4e00\u6839\u7ef3\u5b50\u6302\u5728\u7b2c $ p_i $ ( $ p_i < i $ ) \u5f20\u5361\u7247\u4e0a\u3002\n\n\u7b2c $i$ \u5f20\u5361\u7247\u4e0a\u5199\u7740\u4e00\u4e2a\u6570\u5b57 $ a_i $ \u3002\n\u521d\u59cb\u65f6\u4f60\u53ef\u4ee5\u5c06\u6570\u7ec4 $ a $ \u8bbe\u7f6e\u4e3a $ [1, 2, \\dots, n] $ \u7684**\u4efb\u610f**\u4e00\u4e2a\u6392\u5217\u3002\u63a5\u4e0b\u6765\u8fdb\u884c $ n $ \u6b21\u5982\u4e0b\u64cd\u4f5c\uff0c\u5e76\u7ef4\u62a4\u4e00\u4e2a\u6570\u5217 $ s $\uff08\u521d\u59cb\u4e3a\u7a7a\uff09\uff1a\n \n1. \u9009\u62e9\u4e00\u5f20\u5361\u7247 $ x $ \uff0c\u4f7f\u5f97\u6ca1\u6709\u5176\u4ed6\u5361\u7247\u6302\u5728 $ x $ \u4e0a\uff1b\n2. \u5c06\u5361\u7247 $ x $ \u4e0a\u7684\u6570\u5b57\u6dfb\u52a0\u5230 $ s $ \u7684\u672b\u5c3e\uff1b\n3. \u5982\u679c $ x \\neq 1 $ \uff0c\u4e14 $ p_x $ \u4e0a\u7684\u6570\u5b57\u5927\u4e8e $ x $ \u4e0a\u7684\u6570\u5b57\uff0c\u5219\u4ea4\u6362\u4e24\u5361\u7247\u7684\u6570\u5b57\uff1b\n4. \u79fb\u9664\u5361\u7247 $ x $\u3002\n\n\u6c42 $ n $ \u6b21\u64cd\u4f5c\u540e\uff0c$ s $ \u7684\u6700\u957f\u4e0d\u4e0b\u964d\u5b50\u5e8f\u5217\u957f\u5ea6**\u6700\u5927**\u662f\u591a\u5c11\u3002"
}