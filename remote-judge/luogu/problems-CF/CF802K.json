{
    "description": "Thank you for helping Heidi! It is now the second of April, but she has been summoned by Jenny again. The pranks do not seem to end...\n\nIn the meantime, Heidi has decided that she does not trust her friends anymore. Not too much, anyway. Her relative lack of trust is manifested as follows: whereas previously she would not be made to visit the same person twice, now she can only be sure that she will not be made to visit the same person more than $ k $ times. (In the case of Jenny, this includes her first visit in the beginning. The situation from the easy version corresponds to setting $ k=1 $ .)\n\nThis is not as bad as it looks, since a single ticket for a route between two friends allows Heidi to travel between this pair of friends the whole day (in both directions). In other words, once she pays for travel between a pair of friends, all further travels between that pair are free.\n\nHow much money will Heidi waste now, in a worst-case scenario?",
    "inputFormat": "The first line contains two space-separated integers \u2013 the number of friends $ n $ (![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF802K/61a469a4155af38f62f367d5c4fb45b1ec2c115c.png)) and the parameter $ k $ ( $ 1<=k<=10^{5} $ ). The next $ n-1 $ lines each contain three space-separated integers $ u $ , $ v $ and $ c $ ( $ 0<=u,v<=n-1 $ , $ 1<=c<=10^{4} $ ) meaning that $ u $ and $ v $ are friends and the cost for traveling between $ u $ and $ v $ is $ c $ .\n\nIt is again guaranteed that the social network of the input forms a tree.",
    "outputFormat": "Again, output a single integer \u2013 the maximum sum of costs of tickets.",
    "samples": [
        [
            "9 3\n0 1 1\n0 2 1\n1 3 2\n1 4 2\n1 5 2\n2 6 3\n2 7 3\n2 8 3\n",
            "15\n"
        ],
        [
            "9 5\n0 1 1\n0 2 1\n1 3 2\n1 4 2\n1 5 2\n2 6 3\n2 7 3\n2 8 3\n",
            "17\n"
        ],
        [
            "11 6\n1 0 7932\n2 1 1952\n3 2 2227\n4 0 9112\n5 4 6067\n6 0 6786\n7 6 3883\n8 4 7137\n9 1 2796\n10 5 6200\n",
            "54092\n"
        ]
    ],
    "hint": "In the first example, the worst-case scenario for Heidi is to visit the friends in the following order: $ 0,1,5,1,3,1,0,2,6,2,7,2,8 $ . Observe that no friend is visited more than $ 3 $ times.",
    "translation": "## \u9898\u9762\n\u7ed9\u5b9a\u4e00\u68f5\u8282\u70b9\u6570\u4e3a $n$  \uff08\u7f16\u53f7\u4e3a $0-(n-1)$  \uff09\u7684\u6811\uff0c\u6bcf\u4e00\u6761\u8fb9\u6709\u4e00\u4e2a\u6743\u503c\u3002\u73b0\u5728\u8981\u6c42\u4ece\u70b90\u51fa\u53d1\uff0c\u5728\u4e0d\u7ecf\u8fc7\u4e00\u4e2a\u70b9\u8d85\u8fc7 $k$  \u6b21\u7684\u60c5\u51b5\u4e0b\u7ecf\u8fc7\u7684\u8fb9\u7684\u6743\u503c\u548c\u6700\u5927\u3002\uff08\u6bcf\u4e00\u6761\u8fb9\u5728\u7b2c\u4e00\u6b21\u7ecf\u8fc7\u4e4b\u540e\u6743\u503c\u5373\u53d8\u4e3a0\uff1b\u4ece\u70b90\u51fa\u53d1\u65f6\u4e5f\u89c6\u4f5c\u7ecf\u8fc7\u4e861\u6b21\u70b90\uff1b\u6700\u540e\u4e0d\u9700\u8981\u56de\u5230\u70b90\uff09\n\n## \u8f93\u5165\u8f93\u51fa\u683c\u5f0f\n### \u8f93\u5165\u683c\u5f0f\n\u8f93\u5165\u7684\u7b2c\u4e00\u884c\u5305\u62ec\u4e24\u4e2a\u6b63\u6574\u6570\uff0c\u8282\u70b9\u6570 $n$  \u548c\u6bcf\u4e2a\u70b9\u7684\u6700\u5927\u8bbf\u95ee\u6b21\u6570 $k$  \u3002\u63a5\u4e0b\u6765\u7684 $n-1$  \u884c\u6bcf\u884c\u67093\u4e2a\u6b63\u6574\u6570 $u$  , $v$  \u548c $c$  \uff0c\u8868\u793a\u5728\u9876\u70b9 $u$  \u548c\u9876\u70b9 $c$  \u4e4b\u95f4\u6709\u4e00\u6761\u6743\u503c\u4e3a $c$  \u7684\u65e0\u5411\u8fb9\u3002\n\n### \u8f93\u51fa\u683c\u5f0f\n\u8f93\u51fa\u4e00\u4e2a\u6b63\u6574\u6570\u2014\u2014\u53ef\u4ee5\u83b7\u5f97\u7684\u6700\u5927\u6743\u503c\u3002\n\n## \u8f93\u5165\u8f93\u51fa\u6837\u4f8b\n\u7565\n\n## \u6837\u4f8b\u89e3\u91ca\n\u5bf9\u4e8e\u6837\u4f8b1\uff0c\u8bbf\u95ee\u5404\u8282\u70b9\u7684\u987a\u5e8f\u4e3a\uff1a $0,1,5,1,3,1,0,2,6,2,7,2,8$  \u3002\u6ca1\u6709\u70b9\u88ab\u8bbf\u95ee\u4e86\u8d85\u8fc73\u6b21\u3002\n\n\n## \u6570\u636e\u8303\u56f4\n$ 3\u2264n\u226410^5 $   \n$ 1\u2264k\u226410^5 $   \n$ 0\u2264u,v\u2264n-1, 1\u2264c\u226410^4 $   \n\n\u611f\u8c22@\u661f\u70c1\u6676\u71a0\u8f89 \u63d0\u4f9b\u7684\u7ffb\u8bd1"
}