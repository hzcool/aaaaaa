{
    "description": "Little Maxim loves interesting problems. He decided to share one such problem with you.\n\nInitially there is an array $ a $ , consisting of $ n $ zeroes. The elements of the array are indexed, starting from 1. Then follow queries to change array $ a $ . Each query is characterized by two integers $ v_{i},t_{i} $ . In the answer to the query we should make the $ v_{i} $ -th array element equal $ t_{i} $ $ (a_{vi}=t_{i};\u00a01<=v_{i}<=n) $ .\n\nMaxim thinks that some pairs of integers $ (x,y) $ are good and some are not. Maxim thinks that array $ a $ , consisting of $ n $ integers, is lucky, if for all integer $ i $ , $ (1<=i<=n-1) $ the pair of integers $ (a_{i},a_{i+1}) $ \u2014 is good. Note that the order of numbers in the pairs is important, that is, specifically, $ (1,2)\u2260(2,1) $ .\n\nAfter each query to change array $ a $ Maxim wants to know, how many ways there are to replace all zeroes in array $ a $ with integers from one to three so as to make the resulting array (without zeroes) lucky. Of course, distinct zeroes can be replaced by distinct integers.\n\nMaxim told you the sequence of queries and all pairs of integers he considers lucky. Help Maxim, solve this problem for him.",
    "inputFormat": "The first line contains integers $ n $ and $ m $ $ (1<=n,m<=77777) $ \u2014 the number of elements in the array and the number of commands.\n\nThe next three lines contain matrix $ w $ , consisting only of zeroes and ones; the $ j $ -th number in the $ i $ -th of these lines \u2014 $ w_{i,j} $ . If $ w_{i,j}=1 $ $ (1<=i,j<=3) $ , then pair $ (i,j) $ is good, otherwise it is not good. Matrix does not have to be symmetric relative to the main diagonal.\n\nNext $ m $ lines contain pairs of integers $ v_{i},t_{i} $ $ (1<=v_{i}<=n,0<=t_{i}<=3) $ \u2014 the queries to change the array.",
    "outputFormat": "Print $ m $ integers \u2014 the $ i $ -th number should equal to the number of ways to replace all zeroes in array $ a $ (changed after the $ i $ -th query) by integers from one to three so as to make the resulting array (without zeroes) lucky. Separate the numbers by whitespaces. As the answers can be rather large, print the remainder from dividing them by $ 777777777 $ .",
    "samples": [
        [
            "3 10\n1 1 0\n1 0 0\n1 1 1\n1 1\n1 3\n2 2\n3 0\n2 1\n3 0\n3 1\n2 0\n3 1\n1 0\n",
            "3\n6\n1\n1\n2\n2\n1\n3\n3\n6\n"
        ]
    ],
    "hint": "",
    "translation": "\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n(1 \\le n \\le 77777)$ \u7684\u6570\u5217 $a$ \uff0c\u521d\u59cb\u7684\u65f6\u5019\u5168\u4e3a 0\u3002\r\n\r\n\u7ed9\u51fa\u4e00\u4e2a $3 \\times 3$ \u7684\u77e9\u9635 $w_{i,j}$ \uff0c$w_{i,j} = 1$ \u65f6\u4ee3\u8868 $(i,j)$ \u8fd9\u4e2a**\u6709\u5e8f**\u6570\u5bf9\u4e3a\u548c\u8c10\u7684\u6570\u5bf9\uff0c\u5426\u5219 $(i,j)$ \u4e0d\u4e3a\u4e00\u4e2a\u548c\u8c10\u6570\u5bf9\u3002\r\n\r\n\u4e00\u4e2a\u6570\u5217 $a$ \u662f\u548c\u8c10\u7684\u5f53\u4e14\u4ec5\u5f53\u5bf9\u4e8e\u6240\u6709\u7684 $1\\le i \\le n-1$ \uff0c $(a_i,a_{i+1})$ \u5747\u4e3a\u548c\u8c10\u6570\u5bf9\u3002\r\n\r\n\u6709 $m(1\\le m \\le 77777)$ \u6b21\u4fee\u6539\u548c\u8be2\u95ee\uff0c\u6bcf\u6b21\u7ed9\u51fa\u4e24\u4e2a\u6574\u6570 $v_i,t_i$\uff0c\u5c06 $a_{v_i} (1 \\le v_i \\le n)$ \u4fee\u6539\u4e3a $t_i(0\\le t_i \\le 3)$\u3002\r\n\r\n\u6bcf\u6b21\u4fee\u6539\u540e\u90fd\u8be2\u95ee\uff0c\u5982\u679c\u5c06\u6570\u5217\u91cc\u6240\u6709\u7684 $0$ \u90fd\u66ff\u6362\u4e3a\u4efb\u610f $1$ \u5230 $3$ \u4e4b\u95f4\u7684\u6574\u6570\uff08\u4e0d\u540c\u4f4d\u7f6e\u7684 $0$ \u53ef\u4ee5\u66ff\u6362\u4e3a\u4e0d\u540c\u7684\u6570\uff09\uff0c\u90a3\u4e48\u6700\u540e\u4ea7\u751f\u7684\u548c\u8c10\u7684\u6570\u5217\u6709\u591a\u5c11\u79cd\u3002\u6bcf\u6b21\u4fee\u6539\u540e\u7684\u67e5\u8be2\u5e76\u4e0d\u4f1a\u4f7f\u6570\u5217\u53d1\u751f\u4efb\u4f55\u6539\u53d8\u3002\r\n\r\n\u7b54\u6848\u5bf9 $777777777$ \u53d6\u6a21\u3002"
}