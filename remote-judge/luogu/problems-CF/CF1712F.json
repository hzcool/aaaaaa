{
    "description": "\u2014 What is my mission?\n\n\n\n \u2014 To count graph diameters.\n\nYou and Your Submission\n\n\n\nA tree is a connected undirected graph without cycles. A weighted tree has a weight assigned to each edge. The degree of a vertex is the number of edges connected to this vertex.\n\nYou are given a weighted tree with $ n $ vertices, each edge has a weight of $ 1 $ . Let $ L $ be the set of vertices with degree equal to $ 1 $ .\n\nYou have to answer $ q $ independent queries. In the $ i $ -th query:\n\n1. You are given a positive integer $ x_i $ .\n2. For all $ u,v \\in L $ such that $ u < v $ , add edge $ (u, v) $ with weight $ x_i $ to the graph (initially the given tree).\n3. Find the diameter of the resulting graph.\n\nThe diameter of a graph is equal to $ \\max\\limits_{1 \\le u < v \\le n}{\\operatorname{d}(u, v)} $ , where $ \\operatorname{d}(u, v) $ is the length of the shortest path between vertex $ u $ and vertex $ v $ .",
    "inputFormat": "The first line contains a single integer $ n $ ( $ 3 \\le n \\le 10^6 $ ).\n\nThe second line contains $ n - 1 $ integers $ p_2,p_3,\\ldots,p_n $ ( $ 1 \\le p_i < i $ ) indicating that there is an edge between vertices $ i $ and $ p_i $ . It is guaranteed that the given edges form a tree.\n\nThe third line contains a single integer $ q $ ( $ 1 \\le q \\le 10 $ ).\n\nThe fourth line contains $ q $ integers $ x_1,x_2,\\ldots,x_q $ ( $ 1 \\le x_i \\le n $ ). All $ x_i $ are distinct.",
    "outputFormat": "Print $ q $ integers in a single line \u2014 the answers to the queries.",
    "samples": [
        [
            "4\n1 2 2\n4\n1 2 3 4",
            "1 2 2 2"
        ],
        [
            "7\n1 2 3 4 2 1\n7\n2 1 3 7 5 6 4",
            "3 3 4 5 5 5 4"
        ],
        [
            "3\n1 2\n1\n1",
            "1"
        ]
    ],
    "hint": "The graph in the first test after adding the edges:\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1712F/073bc9fccf88906297f38e8169cf663f6db33c12.png)",
    "translation": "-\u4e0d\u662f\uff0c\u6211\u662f\u8bf4\uff0c\u6211\u4eec\u7684\u76ee\u6807\u662f\u4ec0\u4e48\uff1f\n\n-\u53bb\u6574\u70b9\u627e\u76f4\u5f84\u95ee\u9898\u3002\n\n\u4f60\u6709\u4e00\u68f5\u6811\uff0c\u6811\u4e0a\u7684\u6bcf\u6761\u8fb9\u6743\u503c\u90fd\u4e3a $ 1 $\u3002\u73b0\u5728\u6709\u82e5\u5e72\u6b21\u8be2\u95ee\uff0c\u6bcf\u6b21\u8be2\u95ee\u4e00\u4e2a\u6574\u6570 $ x $\uff0c\u5e76\u5c06\u53f6\u5b50\u7ed3\u70b9\u5168\u90e8\u76f8\u8fde\u4e0a\u6743\u503c\u4e3a $ x $ \u7684\u8fb9\uff08\u64cd\u4f5c\u4e0d\u4f1a\u4fdd\u7559\uff09\u3002\u95ee\u6bcf\u6b21\u64cd\u4f5c\u540e\u56fe\u7684\u76f4\u5f84\u662f\u591a\u5c11\u3002\u56fe\u7684\u76f4\u5f84\u5b9a\u4e49\u4e3a $ \\underset{ 1 \\leq u < v \\leq n }{ \\max } d(u,v)  $\u3002"
}