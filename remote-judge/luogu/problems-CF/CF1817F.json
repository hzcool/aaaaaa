{
    "description": "Quantum entanglement is when two particles link together in a certain way no matter how far apart they are in space.\n\n\n\nYou are given a string $ s $ . A pair of its non-empty substrings $ (a, b) $ is called entangled if there is a (possibly empty) link string $ c $ such that:\n\n- Every occurrence of $ a $ in $ s $ is immediately followed by $ cb $ ;\n- Every occurrence of $ b $ in $ s $ is immediately preceded by $ ac $ .\n\nIn other words, $ a $ and $ b $ occur in $ s $ only as substrings of $ acb $ . Compute the total number of entangled pairs of substrings of $ s $ .\n\nA string $ a $ is a substring of a string $ b $ if $ a $ can be obtained from $ b $ by the deletion of several (possibly zero or all) characters from the beginning and several (possibly zero or all) characters from the end.",
    "inputFormat": "The first and only line contains a string $ s $ of lowercase English letters ( $ 1 \\leq |s| \\leq 10^5 $ ) \u2014 the string for which you should count pairs of entangled substrings.",
    "outputFormat": "Output a single integer, the number of entangled pairs of substrings of $ s $ .",
    "samples": [
        [
            "abba",
            "1"
        ],
        [
            "abacaba",
            "0"
        ],
        [
            "abcabcabcabc",
            "5"
        ],
        [
            "adamant",
            "82"
        ]
    ],
    "hint": "In the first example, the only entangled pair is (ab,ba). For this pair, the corresponding link string $ c $ is empty, as they only occur as substrings of the whole string abba, which doesn't have any characters between ab and ba.\n\nIn the second example, there are no entangled pairs.\n\nIn the third example, the entangled pairs are (a,b), (b,c), (a,c), (a,bc), and (ab,c). For most pairs, the corresponding link string $ c $ is empty, except for the pair (a,c), for which the link string $ c $ is b, as a and c only occur as substrings of the string abc.",
    "translation": "\u7ed9\u5b9a\u5b57\u7b26\u4e32 $s$\u3002\n\n$s$ \u7684\u975e\u7a7a\u5b50\u4e32\u5bf9 $(a, b)$ \u5408\u6cd5\uff0c\u5f53\u4e14\u4ec5\u5f53\u5b58\u5728\u53ef\u7a7a\u5b57\u7b26\u4e32 $c$\uff0c\u4f7f\u5f97\u6bcf\u6b21 $a$ \u5728 $s$ \u4e2d\u51fa\u73b0\uff0c\u540e\u9762\u90fd\u7d27\u8ddf\u7740 $cb$\uff1b\u4e14\u6bcf\u6b21 $b$ \u5728 $s$ \u4e2d\u51fa\u73b0\uff0c\u524d\u9762\u90fd\u7d27\u8ddf\u7740 $ac$\u3002\u5373 $a, b$ \u53ea\u4ee5 $acb$ \u7684\u5f62\u5f0f\u5728 $s$ \u4e2d\u51fa\u73b0\u3002\n\n\u6c42 $s$ \u7684\u5408\u6cd5\u975e\u7a7a\u5b50\u4e32\u5bf9\u6570\u91cf\u3002\n\n$1\\leq |s|\\leq 10 ^ 5$\u3002\n\n\u7ffb\u8bd1\u8d21\u732e\u8005\uff1a[Alex_Wei](https://www.luogu.com.cn/user/123294)\u3002"
}