{
    "description": "You have a full binary tree having infinite levels.\n\nEach node has an initial value. If a node has value $ x $ , then its left child has value $ 2\u00b7x $ and its right child has value $ 2\u00b7x+1 $ .\n\nThe value of the root is $ 1 $ .\n\nYou need to answer $ Q $ queries.\n\nThere are $ 3 $ types of queries:\n\n1. Cyclically shift the values of all nodes on the same level as node with value $ X $ by $ K $ units. (The values/nodes of any other level are not affected).\n2. Cyclically shift the nodes on the same level as node with value $ X $ by $ K $ units. (The subtrees of these nodes will move along with them).\n3. Print the value of every node encountered on the simple path from the node with value $ X $ to the root.\n\nPositive $ K $ implies right cyclic shift and negative $ K $ implies left cyclic shift.\n\nIt is guaranteed that atleast one type $ 3 $ query is present.",
    "inputFormat": "The first line contains a single integer $ Q $ ( $ 1<=Q<=10^{5} $ ).\n\nThen $ Q $ queries follow, one per line:\n\n- Queries of type $ 1 $ and $ 2 $ have the following format: $ T $ $ X $ $ K $ ( $ 1<=T<=2 $ ; $ 1<=X<=10^{18} $ ; $ 0<=|K|<=10^{18} $ ), where $ T $ is type of the query.\n- Queries of type $ 3 $ have the following format: $ 3 $ $ X $ ( $ 1<=X<=10^{18} $ ).",
    "outputFormat": "For each query of type $ 3 $ , print the values of all nodes encountered in descending order.",
    "samples": [
        [
            "5\n3 12\n1 2 1\n3 12\n2 4 -1\n3 8\n",
            "12 6 3 1 \n12 6 2 1 \n8 4 2 1 \n"
        ],
        [
            "5\n3 14\n1 5 -3\n3 14\n1 3 1\n3 14\n",
            "14 7 3 1 \n14 6 3 1 \n14 6 2 1 \n"
        ]
    ],
    "hint": "Following are the images of the first $ 4 $ levels of the tree in the first test case:\n\nOriginal:\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF960D/3753965d34e08b83256fa92db7096f66de1db941.png) After query 1 2 1:\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF960D/d6350f6795afab08bec95128db23af58d71e24a4.png) After query 2 4 -1:\n\n ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF960D/1c7af7fd089110021fd920d50be3656fe800bbdb.png)",
    "translation": "\u7ed9\u51fa\u4e00\u9897\u65e0\u9650\u5c42\u7684\u6ee1\u4e8c\u53c9\u6811\u3002 \u5982\u679c $x$ \u662f\u6839\uff0c\u5b69\u5b50\u7684\u503c\u662f $2\\times x$\uff0c\u53f3\u5b69\u5b50\u7684\u503c\u662f $2\\times x+1$ \u3002\r\n\r\n\u73b0\u5728\u6709\u4e09\u79cd\u64cd\u4f5c:\r\n\r\n$(1,x,k)$ \uff1a\u5c06 $x$ \u6240\u5728\u5c42\u7684\u6240\u6709\u8282\u70b9\u6574\u4f53\u5411\u53f3\u5faa\u73af\u5730\u79fb\u52a8 $k$ \u4e2a\u5355\u4f4d\u3002\r\n\r\n$(2,x,k)$ \uff1a\u5c06 $x$ \u6240\u5728\u7684\u5c42\u7684\u6240\u6709\u8282\u70b9**\u53ca\u5176\u5b50\u6811**\u5411\u53f3\u5faa\u73af\u5730\u79fb\u52a8 k \u4e2a\u5355\u4f4d\u3002\r\n\r\n$(3,x)$ \uff1a\u8f93\u51fa\u4ece $x$ \u5230\u6839\u7684\u8def\u5f84\u3002\r\n\r\nby @\u768e\u6708\u534a\u6d12\u82b1"
}