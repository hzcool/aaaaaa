{
    "description": "Peter likes to travel by train. He likes it so much that on the train he falls asleep.\n\nOnce in summer Peter was going by train from city A to city B, and as usual, was sleeping. Then he woke up, started to look through the window and noticed that every railway station has a flag of a particular colour.\n\nThe boy started to memorize the order of the flags' colours that he had seen. But soon he fell asleep again. Unfortunately, he didn't sleep long, he woke up and went on memorizing the colours. Then he fell asleep again, and that time he slept till the end of the journey.\n\nAt the station he told his parents about what he was doing, and wrote two sequences of the colours that he had seen before and after his sleep, respectively.\n\nPeter's parents know that their son likes to fantasize. They give you the list of the flags' colours at the stations that the train passes sequentially on the way from A to B, and ask you to find out if Peter could see those sequences on the way from A to B, or from B to A. Remember, please, that Peter had two periods of wakefulness.\n\nPeter's parents put lowercase Latin letters for colours. The same letter stands for the same colour, different letters \u2014 for different colours.",
    "inputFormat": "The input data contains three lines. The first line contains a non-empty string, whose length does not exceed $ 10^{5} $ , the string consists of lowercase Latin letters \u2014 the flags' colours at the stations on the way from A to B. On the way from B to A the train passes the same stations, but in reverse order.\n\nThe second line contains the sequence, written by Peter during the first period of wakefulness. The third line contains the sequence, written during the second period of wakefulness. Both sequences are non-empty, consist of lowercase Latin letters, and the length of each does not exceed 100 letters. Each of the sequences is written in chronological order.",
    "outputFormat": "Output one of the four words without inverted commas:\n\n- \u00abforward\u00bb \u2014 if Peter could see such sequences only on the way from A to B;\n- \u00abbackward\u00bb \u2014 if Peter could see such sequences on the way from B to A;\n- \u00abboth\u00bb \u2014 if Peter could see such sequences both on the way from A to B, and on the way from B to A;\n- \u00abfantasy\u00bb \u2014 if Peter could not see such sequences.",
    "samples": [
        [
            "atob\na\nb\n",
            "forward\n"
        ],
        [
            "aaacaaa\naca\naa\n",
            "both\n"
        ]
    ],
    "hint": "It is assumed that the train moves all the time, so one flag cannot be seen twice. There are no flags at stations A and B.",
    "translation": "**\u3010\u9898\u76ee\u63cf\u8ff0\u3011**\n\nPeter \u5f88\u559c\u6b22\u5750\u706b\u8f66\u53bb\u65c5\u884c\u3002\u4ed6\u5b9e\u5728\u662f\u592a\u559c\u6b22\u5750\u706b\u8f66\u4e86\uff0c\u4ee5\u81f3\u4e8e\u5728\u706b\u8f66\u4e0a\u7761\u7740\u4e86\uff08\u96fe\uff09\u3002\n\n\u5728\u4e00\u4e2a\u590f\u5929\uff0cPeter \u6b63\u5728\u4e00\u4e2a\u4ece A \u57ce\u5f00\u5f80 B \u57ce\u7684\u5217\u8f66\u4e0a\u3002\u50cf\u5f80\u5e38\u4e00\u6837\uff0c\u4ed6\u7761\u7740\u4e86\u3002\u7a81\u7136\uff0c\u4ed6\u9192\u4e86\u8fc7\u6765\uff08?\uff09\uff0c\u5f00\u59cb\u770b\u7a97\u5916\u7684\u666f\u7269\u3002\u4ed6\u53d1\u73b0\u6bcf\u4e00\u4e2a\u706b\u8f66\u7ad9\u90fd\u6709\u4e00\u9762\u5f69\u65d7\uff08\u65d7\u4e0a\u53ea\u6709\u4e00\u79cd\u989c\u8272\uff09\u3002\n\nPeter \u5f00\u59cb\u8bb0\u5fc6\u4ed6\u770b\u5230\u7684\u5f69\u65d7\u7684\u987a\u5e8f\u3002\u4f46\u662f\u5f88\u5feb\u5730\uff0c\u4ed6\u53c8\u7761\u7740\u4e86\u3002\u4e0d\u5e78\u5730\uff0c\u4ed6\u6ca1\u7761\u591a\u4e45\u53c8\u9192\u6765\u4e86\uff0c\u5e76\u4e14\u4ed6\u5f00\u59cb\u7ee7\u7eed\u8bb0\u4ed6\u770b\u5230\u7684\u5f69\u65d7\u3002\u4e00\u6bb5\u65f6\u95f4\u4ee5\u540e\uff0c\u4ed6\u53c8\u7761\u7740\u4e86\uff0c\u8fd9\u6b21\u76f4\u5230\u65c5\u9014\u7ed3\u675f\u90fd\u6ca1\u9192\u6765\u3002\n\n\u5230\u7ad9\u4ee5\u540e\uff0c\u4ed6\u544a\u8bc9\u4e86\u4ed6\u7684\u7236\u6bcd\u4ed6\u5728\u65c5\u9014\u4e2d\u770b\u5230\u7684\u5f69\u65d7\u7684\u987a\u5e8f\u2014\u2014\u5728\u4ed6\u4e2d\u9014\u7761\u7740\u4e4b\u524d\u548c\u4e2d\u9014\u7761\u7740\u4e4b\u540e\u5206\u522b\u770b\u5230\u7684\u4e24\u4e2a\u989c\u8272\u5e8f\u5217\u3002\n\n\u4ed6\u7684\u7236\u6bcd\u77e5\u9053 Peter \u7279\u522b\u559c\u6b22\u5e7b\u60f3\uff0c\u6240\u4ee5\u4ed6\u4eec\u628a Peter \u8bf4\u7684\u5e8f\u5217\u7ed9\u4e86\u4f60\uff0c\u5e76\u8bf7\u4f60\u5224\u65ad\u4ed6\u7684\u4e58\u8f66\u65b9\u5411\u3002\n\n\u4ed6\u7684\u7236\u6bcd\u7528\u4e0d\u540c\u7684\u5c0f\u5199\u5b57\u6bcd\u8868\u793a\u4e0d\u540c\u7684\u989c\u8272\u3002\u76f8\u540c\u5b57\u6bcd\u8868\u793a\u76f8\u540c\u989c\u8272\uff0c\u4e0d\u540c\u5b57\u6bcd\u8868\u793a\u4e0d\u540c\u989c\u8272\u3002\n\n**\u3010\u8f93\u5165\u683c\u5f0f\u3011**\n\n\u8f93\u5165\u5171\u6709\u4e09\u884c\u3002\u7b2c\u4e00\u884c\u5305\u62ec\u4e00\u4e2a\u8fde\u7eed\u7684\uff0c\u4e0d\u4e3a\u7a7a\u4e14\u53ea\u6709\u5c0f\u5199\u5b57\u6bcd\u7684\u5b57\u7b26\u4e32 $s_0$\uff0c\u8868\u793a\u4ece A \u5230 B \u4f9d\u6b21\u6bcf\u4e2a\u7ad9\u7684\u5f69\u65d7\u7684\u989c\u8272\uff08A \u7ad9\u548c B \u7ad9\u6ca1\u6709\u5f69\u65d7\uff09\u3002\u5217\u8f66\u4ece B \u5230 A \u4e5f\u4f1a\u7ecf\u8fc7\u540c\u6837\u7684\u8f66\u7ad9\u2014\u2014\u4ee5\u76f8\u53cd\u7684\u987a\u5e8f\u800c\u5df2\u3002\n\n\u7b2c\u4e8c\u884c\u548c\u7b2c\u4e09\u884c\u5206\u522b\u4e3a Peter \u4e24\u6b21\u770b\u5230\u7684\u5e8f\u5217 $s_1$ \u548c $s_2$\u3002\u4e24\u4e2a\u5e8f\u5217\u90fd\u5305\u62ec\u8fde\u7eed\u7684\u5c0f\u5199\u5b57\u6bcd\u4e14\u4e0d\u4e3a\u7a7a\u3002\n\n**\u3010\u8f93\u51fa\u683c\u5f0f\u3011**\n\n\u4e00\u884c\uff0c\u8f93\u51fa\u4ee5\u4e0b\u56db\u79cd\u5355\u8bcd\u4e4b\u4e00\uff08\u4e0d\u5305\u62ec\u5f15\u53f7\uff09\uff1a\n\n`forward`\uff1aPeter \u53ea\u53ef\u80fd\u5728\u4ece A \u5230 B \u7684\u65c5\u9014\u4e2d\u770b\u5230\u8fd9\u6837\u7684\u5e8f\u5217\u3002\n\n`backward`\uff1aPeter \u53ea\u53ef\u80fd\u5728\u4ece B \u5230 A \u7684\u65c5\u9014\u4e2d\u770b\u5230\u8fd9\u6837\u7684\u5e8f\u5217\u3002\n\n`both`\uff1aPeter \u65e2\u53ef\u80fd\u5728\u4ece A \u5230 B \u7684\u65c5\u9014\u4e2d\u770b\u5230\uff0c\u4e5f\u53ef\u80fd\u5728\u4ece B \u5230 A \u7684\u65c5\u9014\u4e2d\u770b\u5230\u8fd9\u6837\u7684\u5e8f\u5217\u3002\n\n`fantasy`\uff1aPeter \u4e0d\u53ef\u80fd\u770b\u5230\u8fd9\u6837\u7684\u5e8f\u5217\u3002\n\n**\u3010\u8865\u5145\u8bf4\u660e\u3011**\n\n\u5217\u8f66\u4e00\u76f4\u90fd\u5728\u79fb\u52a8\uff0c\u6240\u4ee5\u4e00\u9762\u540c\u6837\u7684\u65d7\u5b50\u4e0d\u53ef\u80fd\u88ab\u770b\u5230\u4e24\u6b21\u3002"
}