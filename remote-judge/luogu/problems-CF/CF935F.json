{
    "description": "Fafa has an array $ A $ of $ n $ positive integers, the function $ f(A) $ is defined as ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF935F/dc9a0a0772798ba9fb8b149f527b509b8571b93b.png). He wants to do $ q $ queries of two types:\n\n- $ 1lrx $ \u2014 find the maximum possible value of $ f(A) $ , if $ x $ is to be added to one element in the range $ [l,r] $ . You can choose to which element to add $ x $ .\n- $ 2lrx $ \u2014 increase all the elements in the range $ [l,r] $ by value $ x $ .\n\nNote that queries of type $ 1 $ don't affect the array elements.",
    "inputFormat": "The first line contains one integer $ n $ $ (3<=n<=10^{5}) $ \u2014 the length of the array.\n\nThe second line contains $ n $ positive integers $ a_{1},a_{2},...,a_{n} $ $ (0<a_{i}<=10^{9}) $ \u2014 the array elements.\n\nThe third line contains an integer $ q $ $ (1<=q<=10^{5}) $ \u2014 the number of queries.\n\nThen $ q $ lines follow, line $ i $ describes the $ i $ -th query and contains four integers $ t_{i}l_{i}r_{i}x_{i} $ ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF935F/b4776844d7d2421177af411bd5745433670f68b1.png).\n\nIt is guaranteed that at least one of the queries is of type $ 1 $ .",
    "outputFormat": "For each query of type $ 1 $ , print the answer to the query.",
    "samples": [
        [
            "5\n1 1 1 1 1\n5\n1 2 4 1\n2 2 3 1\n2 4 4 2\n2 3 4 1\n1 3 3 2\n",
            "2\n8\n"
        ],
        [
            "5\n1 2 3 4 5\n4\n1 2 4 2\n2 2 4 1\n2 3 4 1\n1 2 4 2\n",
            "6\n10\n"
        ]
    ],
    "hint": "",
    "translation": "\u7ed9\u51fa\u4e00\u4e2a\u5e8f\u5217$A$ ,\u5b9a\u4e49\u51fd\u6570$f(A)=\\sum_{i=1}^{n-1}|a_i-a_{i+1}|$ \n\n\u7ed9\u51fa\u4e24\u79cd\u64cd\u4f5c:\n\n$1.l$  $r$  $x$ ,\u5728\u533a\u95f4$[l,r]$ \u5185\u627e\u4e00\u4e2a\u4f4d\u7f6e,\u4f7f\u5f97\u628a\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u503c\u52a0\u4e0a$x$ \u540e,$f(A)$ \u6700\u5927,\u6c42\u8fd9\u4e2a\u6700\u5927\u503c\n\n$2.l$  $r$  $x$ ,\u628a\u533a\u95f4$[l,r]$ \u52a0\u4e0a$x$ \n\n$n\\le10^5,q\\le10^5,x_i\\le10^9$ \n\n\u611f\u8c22@Kelin \u63d0\u4f9b\u7684\u7ffb\u8bd1"
}