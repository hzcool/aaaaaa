[
    {
        "content": "\u81ea\u5df1\u8d21\u732e\u7684\u9898\uff0c\u81ea\u5df1\u53d1\u4e00\u6ce2\u9898\u89e3\uff01\n\n\u8fd9\u9053\u9898\u548c\u94fa\u5730\u6bef\u60f3\u6cd5\u6bd4\u8f83\u7c7b\u4f3c\u3002\u6211\u662f\u7528 $\\text{dfs}$ \u6765\u89e3\u3002\u6bcf\u6b21\u5faa\u73af\u679a\u4e3e\u627e\u5230\u56fe\u5f62\u7684\u8fb9\u754c\u70b9\uff08\u56db\u8fb9\u5f62\u7684\u56db\u4e2a\u89d2\uff09\uff0c\u4ee5\u4fbf\u6c42\u9762\u79ef\u3002\u7136\u540e\u5f00\u4e8c\u7ef4\u6570\u7ec4\u8fdb\u884c\u679a\u4e3e\u6bcf\u4e2a\u56fe\u5f62\uff0c\u6700\u540e\u8f93\u51fa\u3002\n\n\u8fd8\u7b97\u6bd4\u8f83\u88f8\u7684 $\\text{dfs}$ \u9898\uff0c\u9002\u5408 $\\text{dfs}$ \u65b0\u624b\u4eec\u6765\u5207\uff0c\u5f53\u7136 $\\text{dfs}$ \u53ea\u662f\u4e00\u79cd\u8f83\u7b80\u5355\u7684\u5199\u6cd5\uff0c\u522b\u7684\u65b9\u6cd5\u5f53\u7136\u4e5f\u53ef\u4ee5\u5207\u6389\u8fd9\u9053\u9898\u3002\u597d\u4e86\uff0c\u6302\u4e0a\u4ee3\u7801\uff01\n\n$Code:$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint a[1001][5],area[1001],n;\nvoid dfs(int x1,int y1,int x2,int y2,int color,int deep)\n{\n\twhile(deep<=n and (x1>=a[deep][2] or y1>=a[deep][3] or x2<=a[deep][0] or y2<=a[deep][1])) deep++;\n\tif(deep>n)\n    {\n    \tarea[color]+=(x2-x1)*(y2-y1);\n    \treturn;\n    }\n\tif(x1<a[deep][0]) dfs(x1,y1,a[deep][0],y2,color,deep+1),x1=a[deep][0];\n\tif(y1<a[deep][1]) dfs(x1,y1,x2,a[deep][1],color,deep+1),y1=a[deep][1];\n\tif(x2>a[deep][2]) dfs(a[deep][2],y1,x2,y2,color,deep+1),x2=a[deep][2];\n\tif(y2>a[deep][3]) dfs(x1,a[deep][3],x2,y2,color,deep+1),y2=a[deep][3];\n}\nint A,B,i,j,k;\nint main()\n{\n\tscanf(\"%d%d%d\",&A,&B,&n);\n\tfor(i=1;i<=n;i++) scanf(\"%d%d%d%d%d\",&a[i][0],&a[i][1],&a[i][2],&a[i][3],&a[i][4]);\n\tdfs(0,0,A,B,1,1);\n\tfor(i=1;i<=n;i++) dfs(a[i][0],a[i][1],a[i][2],a[i][3],a[i][4],i+1);\n\tfor(i=1;i<=1000;i++)\n    {\n\t\tif(area[i]) printf(\"%d %d\\n\",i,area[i]);\n\t}\n    return 0;\n}\n```",
        "postTime": 1587367305,
        "uid": 179871,
        "name": "Lithium_Chestnut",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P6432 \u3010[USACO3.1]\u5f62\u6210\u7684\u533a\u57df Shaping Regions\u3011"
    },
    {
        "content": "\u8fd9\u662f\u6211\u7b2c\u4e00\u6b21\u53d1\u9898\u89e3\uff0c\u4e0d\u5bf9\u7684\u5730\u65b9\u8bf7\u5927\u5bb6\u6307\u51fa????\n\n\u770b\u5230\u8fd9\u9053\u9898\u89c9\u5f97\u548c[P2745\u7a97\u4f53\u9762\u79ef](https://www.luogu.com.cn/problem/P2745)\u5f88\u76f8\u4f3c\uff0c\u7b97\u662f\u5b83\u7684\u5f31\u5316\u7248\u3002\u6211\u7528\u4e86P2745\u91cc\u5b66\u6765\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u53c2\u8003P2745\u7684\u9898\u89e3\n\n![\u5206\u5272\u65b9\u5757](https://cdn.luogu.com.cn/upload/image_hosting/qcmi41qc.png)\n\u5185\u90e8\u7684\u77e9\u5f62\u662f\u5f53\u524d\u65b0\u52a0\u5165\u7684\u3002\u679a\u4e3e\u539f\u6709\u7684\u77e9\u5f62\uff0c\u56fe\u4e2d\u5373\u4e3a\u5916\u56f4\u7684\u77e9\u5f62\u3002\u4e00\u6b21\u6700\u591a\u5c06\u539f\u6709\u7684\u77e9\u5f62\u5206\u6210\u5982\u56fe\u56db\u4e2a\u3002\u5206\u5272\u65f6\u5982\u679c\u6ca1\u6709\u610f\u4e49\u5c31\u4e0d\u8981\u5206\u4e86\uff08\u4f53\u73b0\u5728if\u4e0a\uff09\u3002\u5177\u4f53\u7684\u5b9e\u73b0\u5728\u4ee3\u7801\u4e2d\uff08\u8dd1\u5f97\u4e0d\u662f\u5f88\u5feb\uff0c\u4f46\u8fd9\u9898\u6570\u636e\u91cf\u5f88\u5c0f\u4e5f\u6ca1\u4ec0\u4e48\u533a\u522b\uff09\u3002\n## \u9119\u4eba\u7684\u4ee3\u7801\n```cpp\n#include <tits/stdc++.h>\n#define N 1123\nusing namespace std;\n\nint a,b,n,c,area[N];\n\nstruct Rect{\n    int xl,yl,xr,yr,cr;\n    int area(void){return (xr-xl)*(yr-yl);}\n}r[N<<2],rn;\n\nint main(int argc, const char * argv[]) {\n    scanf(\"%d%d%d\",&a,&b,&n);\n    r[c++]={0,0,a,b,1};\n    for(int i=0;i<n;i++,r[c++]=rn){\n        scanf(\"%d%d%d%d%d\",&rn.xl,&rn.yl,&rn.xr,&rn.yr,&rn.cr);\n        for(int j=0,C=c;j<C;j++)\n            if(r[j].cr){\n                int &cr=r[j].cr,xl=r[j].xl,yl=r[j].yl,xr=r[j].xr,yr=r[j].yr;\n                int x=max(xl,rn.xl),y=max(yl,rn.yl),X=min(xr,rn.xr),Y=min(yr,rn.yr);\n                if(x<X&&y<Y){\n                    if(x!=xl)r[c++]={xl,y,x,yr,cr};\n                    if(y!=yl)r[c++]={xl,yl,X,y,cr};\n                    if(X!=xr)r[c++]={X,yl,xr,Y,cr};\n                    if(Y!=yr)r[c++]={x,Y,xr,yr,cr};\n                    r[j].cr=false;//\u4e22\u5f03\n                }\n            }\n    }\n    for(int i=0;i<c;i++)\n        area[r[i].cr]+=r[i].area();\n    for(int i=1;i<=n+1;i++)\n        if(area[i])printf(\"%d %d\\n\",i,area[i]);\n    return 0;\n}\n\n```\n\u5c31\u9171",
        "postTime": 1587360106,
        "uid": 299882,
        "name": "\u6c7d\u6c34\u957f\u9888\u9e7f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6432 \u3010[USACO3.1]\u5f62\u6210\u7684\u533a\u57df Shaping Regions\u3011"
    },
    {
        "content": "\u4e0a\u6765\u5148\u770b\u6570\u636e\u89c4\u6a21\uff0c\u4e2a\u6570 $n$ \u548c\u5750\u6807 $a,b$ \u6700\u5927\u503c\u4e58\u79ef $10^{11}$\n\n\u5982\u679c\u4e0d\u6c42\u5b8c\u7f8e\u89e3\u51b3\uff0c\u5c31\u53ef\u4ee5\u8003\u8651\u66b4\u529b\u4e86\u3002\n\n\u518d\u5206\u6790\u5185\u5b58\u7a7a\u95f4\uff0c\u4e0d\u79bb\u6563\u5316\u5e76\u653e\u7f6e\u989c\u8272\u4fe1\u606f\uff0c\u76f4\u63a5\u5b58 `short` \u7684\u5927\u5c0f\u7ea6\u4e3a 190.8 MBytes\uff0c\u8d85\u7a7a\u95f4\u3002\n\n\u518d\u6b21\u5206\u6790\u9898\u610f\uff0c\u8003\u8651\u4f18\u5316\uff1a**\u76f4\u63a5\u4ece\u6700\u540e\u4e00\u4e2a\u653e\u7684\u957f\u65b9\u5f62\u904d\u5386\uff0c\u6d82\u8272\u5757\u8ba1\u6570\u5728\u6d82\u8272\u65f6\u89e3\u51b3\uff0c\u6545\u5404\u70b9\u4ec5\u9700\u6d82\u8272\u5374\u65e0\u9700\u77e5\u9053\u5177\u4f53\u989c\u8272\u3002**\n\n\u5f00O2\u7684\u8bdd\uff0c\u5c31\u53ef\u4ee5\u653e\u5fc3\u4f7f\u7528`bitset`\u4ee3\u66ff\u539f\u59cb\u6570\u7ec4\u4e86\u3002\n\n\n```cpp\n#include<cstdio>\n#include<bitset>\n#include<iostream>\nstd :: bitset<10000> f[10000];\nint cnt[1002];\nshort p[1001][5];\n\nint main()\n{\n    short a, b, n;\n    scanf(\"%hd%hd%hd\", &a, &b, &n);\n    cnt[1] = a * b;\n    for(int i = 1; i <= n; ++ i)\n    {\n        scanf(\"%hd%hd%hd%hd%hd\", &p[i][0], &p[i][1], &p[i][2], &p[i][3], &p[i][4]);\n    }\n    for(int i = n; i; -- i) // \u4ece\u6700\u540e\u4e00\u4e2a\u5f80\u524d\u904d\u5386\n    {\n        for(int j = p[i][0] + 1; j <= p[i][2]; ++ j) // \u4ece\u6837\u4f8b\u6570\u636e\u53ef\u4ee5\u770b\u51fa\u6765\u533a\u95f4\u534a\u5f00\u534a\u95ed\uff0c\u4f3c\u4e4e\u9009\u4e00\u8fb9\u5f00\u90fd\u884c\n        {\n            for(int k = p[i][1] + 1; k <= p[i][3]; ++ k){\n                if(!f[j][k])\n                    f[j][k] = 1,\n                    ++ cnt[p[i][4]],\n                    (j <= a && k <= b) ? -- cnt[1] : 0; // ***\n            }\n        }\n    }\n    for(int i = 1; i <= 1001; ++ i)\n        if(cnt[i])\n            printf(\"%d %d\\n\", i, cnt[i]);\n    return 0;\n}\n```\n\n>$*$ \u5982\u679c\u6015\u88ab\u5361\uff0c\u5c31\u4e0d\u8981\u628a\u767d\u7eb8\uff08\u989c\u8272 $1$ \uff09\u904d\u5386\u6d82\u8272\uff0c\u800c\u662f\u5982\u4e0a\u6c42\u5dee\u3002\u53ef\u4ee5\u53d1\u73b0\u82e5\u8fd8\u6709\u989c\u8272\u4e3a $1$ \u7684\u77e9\u5f62\u8986\u76d6\uff0c\u4e5f\u4e0d\u5f71\u54cd\u8ba1\u7b97\u3002\uff08\u601d\u8003\u989c\u8272\u4e3a $1$ \u7684\u77e9\u5f62\u4e3a\u4f55\u4e0d\u80fd\u7279\u5224\uff0c\u4e0d\u8fdb\u884c\u6d82\u8272\u904d\u5386\uff09\n\n>**`(j <= a && k <= b)` \u662f\u56e0\u4e3a `\u4e14\u6240\u6709\u7684\u957f\u65b9\u5f62\u90fd\u653e\u7f6e\u5728\u767d\u7eb8\u5185`\u8fd9\u4e2a\u63cf\u8ff0\u662f\u9519\u7684\uff0c\u6709\u77e9\u5f62\u8dd1\u51fa\u767d\u7eb8\u4e86\u3002**\n\n\u8fc7\u4e86\uff1f\u8981\u5f3a\u4e00\u70b9\u7684\u6570\u636e\u53ef\u4ee5\u770b [URAL-1147](https://vjudge.net/problem/URAL-1147)",
        "postTime": 1620842356,
        "uid": 47366,
        "name": "\u5c0f\u8001\u864e3018",
        "ccfLevel": 7,
        "title": "solution-p6432"
    },
    {
        "content": "## \u89e3\u9898\u601d\u8def\n\n\u8fd9\u9053\u9898\u7684\u6570\u636e\u8303\u56f4\u4e0d\u662f\u7279\u522b\u5927\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u66b4\u529b\u679a\u4e3e\uff0c\u4e0d\u8fc7\u8fd9\u91cc\u8fd8\u662f\u7528\u6bd4\u8f83\u89c4\u8303\u7684\u6df1\u641c\u3002\n\n\u5faa\u73af\u679a\u4e3e\u627e\u5230\u56db\u8fb9\u5f62\u7684\u56db\u4e2a\u9876\u70b9\uff0c\u7136\u540e\u6c42\u51fa\u9762\u79ef\uff0c\u5e76\u5f00\u4e8c\u7ef4\u6570\u7ec4\u50a8\u5b58\u8d77\u6765\u3002\n\n\u6700\u540e\u679a\u4e3e\u6bcf\u4e2a\u56fe\u5f62\uff0c\u6700\u540e\u8f93\u51fa\u6bcf\u4e2a\u56fe\u5f62\u7684\u7f16\u53f7\u548c\u989c\u8272\u9762\u79ef\u5373\u53ef\u3002\n\n\n## \u4ee3\u7801\u90e8\u5206\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint n,a[1001][5],yuyi[1001],A,B,i,j,k;//\u5b9a\u4e49\u53d8\u91cf\nvoid dfs(int x1,int y1,int x2,int y2,int zhujunhao,int xiaogan){//\u6df1\u641c\u90e8\u5206\n\twhile(xiaogan<=n&&(x1>=a[xiaogan][2]||y1>=a[xiaogan][3]||x2<=a[xiaogan][0]||y2<=a[xiaogan][1])) \n\t\txiaogan++;\n\tif(xiaogan>n){\n    \tyuyi[zhujunhao]+=(x2-x1)*(y2-y1);\n    \treturn;\n    }\n\tif(x1<a[xiaogan][0]) \n\t\tdfs(x1,y1,a[xiaogan][0],y2,zhujunhao,xiaogan+1),x1=a[xiaogan][0];\n\tif(y1<a[xiaogan][1]) \n\t\tdfs(x1,y1,x2,a[xiaogan][1],zhujunhao,xiaogan+1),y1=a[xiaogan][1];\n\tif(x2>a[xiaogan][2]) \n\t\tdfs(a[xiaogan][2],y1,x2,y2,zhujunhao,xiaogan+1),x2=a[xiaogan][2];\n\tif(y2>a[xiaogan][3]) \n\t\tdfs(x1,a[xiaogan][3],x2,y2,zhujunhao,xiaogan+1),y2=a[xiaogan][3];\n}\nint main(){\n\tcin>>A>>B>>n;\n\tfor(i=1;i<=n;i++) \n\t\tcin>>a[i][0]>>a[i][1]>>a[i][2]>>a[i][3]>>a[i][4];\n\tdfs(0,0,A,B,1,1);\n\tfor(i=1;i<=n;i++) \n\t\tdfs(a[i][0],a[i][1],a[i][2],a[i][3],a[i][4],i+1);\n\tfor(i=1;i<=1000;i++)\n\t\tif(yuyi[i]) \n\t\t\tcout<<i<<\" \"<<yuyi[i]<<endl;//\u8f93\u51fa\n    return 0;\n}\n```\n",
        "postTime": 1680758367,
        "uid": 885158,
        "name": "Cccsk03",
        "ccfLevel": 0,
        "title": "P6432 [USACO3.1]\u5f62\u6210\u7684\u533a\u57df Shaping Regions \u9898\u89e3"
    }
]