[
    {
        "content": "\u5176\u5b9e\u8fd9\u662f\u4e00\u9053\u5f88\u7eaf\u7684bfs\uff0c\u4f46\u662f\u7531\u4e8e\u7ef4\u5ea6\u52a0\u4e86\u4e00\u7ef4\uff0c\u5185\u5b58\u53ef\u80fd\u4f1a\u76f8\u5e94\u7684\u52a0\u5927\uff0c\u4f46\u662f\u6ca1\u6709\u5173\u7cfb\uff0c\u8fd8\u662f\u6309\u539f\u6765\u7684\u5957\u8def\u8d70\u5c31\u597d\u4e86\uff0c\u6211\u8fd9\u91cc\u7528\u7684\u662f**\u7eaf\u624b\u5de5\u961f\u5217**\uff0c\u7136\u540e\u53d1\u73b0\u5185\u5b58\u5e76\u6ca1\u6709\u7206\uff0c\u6240\u4ee5\u5c0f\u4f19\u4f34\u4eec\u653e\u5fc3\u7684\u5f00\u5427\u3002\u73b0\u5728\u56de\u5230\u6b63\u9898\uff0c\u4e09\u7ef4\u7684bfs\u5bf9\u4e8e\u4e8c\u7ef4\u7684\u6765\u8bf4\uff0c\u53ea\u662f\u591a\u4e86\u4e00\u4e2a**z**\u5750\u6807\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u589e\u52a0\u5b50\u8282\u70b9\u7684\u65f6\u5019\u7ed9\u4ed6\u591a\u641c\u7d22\u4e00\u4e2a\u65b9\u5411\uff0c\u5982\u4e0b\uff1a\n\n```cpp\nx1=x[head]+d3[i];\n            y1=y[head]+d1[i];\n            z1=z[head]+d2[i];\n```\n\u7136\u540e\u5c31\u8ddf\u4e8c\u7ef4\u7684\u5957\u8def\u4e00\u6837\uff0c\u5224\u65ad\u662f\u5426\u8d70\u8fc7\u548c\u662f\u5426\u8d8a\u754c\uff0c\u90fd\u6ca1\u6709\u7684\u8bdd\u5c31\u5165\u961f\uff0c\u5982\u4e0b\uff1a\n\n```cpp\nif(a[x1][y1][z1]&&x1>=1&&x1<=l&&y1>=1&&y1<=n&&z1>=1&&z1<=m)\n            {\n                tail++;\n                a[x1][y1][z1]=0;\n                x[tail]=x1;\n                y[tail]=y1;\n                z[tail]=z1;\n                f[tail]=head;\n```\nf\u6570\u7ec4\u5728\u8fd9\u91cc\u7528\u6765\u7edf\u8ba1\u6b65\u6570\u3002\u7136\u540e\u518d\u5224\u65ad\u662f\u5426\u5230\u8fbe\uff0c\u5982\u4e0b\uff1a\n\n```cpp\nif(x1==en1&&y1==en2&&z1==en3)\n                {\n                    while(f[tail])  //\u8fd9\u662f\u4e00\u4e2a\u201c\u975e\u9012\u5f52\u201d\uff0c\u7528\u6765\u627e\u6b65\u6570\u3002\n                    {\n                        tail=f[tail];\n                        sum++;\n                    }\n                    cout<<\"Escaped in \"<<sum<<\" minute(s).\"<<endl;\n                    return 0;   //\u627e\u5230\u4e86\u5c31\u76f4\u63a5\u8f93\u51fa\u7ed3\u675f\n                }\n            }\n```\n\u5982\u679c\u4e00\u76f4\u6ca1\u6709\u627e\u5230\uff0c\u961f\u9996\u5c31\u4f1a\u8ffd\u4e0a\u961f\u5c3e\uff0c\u7136\u540e\u5c31\u7ed3\u675f\u5faa\u73af\uff0c\u5728\u6700\u540e\u518d\u8f93\u51fa\u65e0\u6cd5\u5230\u8fbe\u3002\n\n\u5168\u90e8\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<iostream>\n#include<string>\nusing namespace std;\nstring s;\nint n,m,l,be1,be2,be3,en1,en2,en3,x[10001],y[10001],z[10001],d1[6]={1,-1,0,0,0,0},d2[6]={0,0,-1,1,0,0},d3[6]={0,0,0,0,1,-1},tail=1,head=0,x1,y1,z1,f[10001],sum;\nbool a[31][31][31]={0};\nint main()\n{\n    cin>>l>>n>>m;\n    for(int i=1;i<=l;i++)\n        for(int j=1;j<=n;j++)\n        {\n            cin>>s;\n            for(int k=0;k<m;k++)\n            {\n                if(s[k]=='.')\n                    a[i][j][k+1]=1;\n                if(s[k]=='S')\n                {\n                    be1=i;be2=j;be3=k+1;\n                }\n                if(s[k]=='E')\n                {\n                    en1=i;en2=j;en3=k+1;\n                    a[i][j][k+1]=1;\n                }\n            }\n        }\n    x[tail]=be1,y[tail]=be2,z[tail]=be3;\n    do\n    {\n        head++;\n        for(int i=0;i<6;i++)\n        {\n            x1=x[head]+d3[i];\n            y1=y[head]+d1[i];\n            z1=z[head]+d2[i];\n            if(a[x1][y1][z1]&&x1>=1&&x1<=l&&y1>=1&&y1<=n&&z1>=1&&z1<=m)\n            {\n                tail++;\n                a[x1][y1][z1]=0;\n                x[tail]=x1;\n                y[tail]=y1;\n                z[tail]=z1;\n                f[tail]=head;\n                if(x1==en1&&y1==en2&&z1==en3)\n                {\n                    while(f[tail])\n                    {\n                        tail=f[tail];\n                        sum++;\n                    }\n                    cout<<\"Escaped in \"<<sum<<\" minute(s).\"<<endl;\n                    return 0;\n                }\n            }\n        }\n        \n    }while(head<tail);\n    cout<<\"Trapped!\"<<endl;\n}\n```\n\n\u8fd8\u6709\u4e00\u70b9\u8981\u6ce8\u610f\uff0c\u90a3\u5c31\u662f\u8f93\u5165\u8fd9\u4e2a\u5730\u7262\u7684\u65f6\u5019\u5750\u6807\u7279\u522b\u5bb9\u6613\u5f04\u9519\uff0c\u5927\u5bb6\u4e09\u601d\u800c\u540e\u884c\u554a\uff01\n",
        "postTime": 1498457268,
        "uid": 38038,
        "name": "\u4e8c\u5143\u957f\u5929\u7b11",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2360 \u3010\u5730\u4e0b\u57ce\u4e3b\u3011"
    },
    {
        "content": "## \u5176\u5b9e\uff0c\u8fd9\u662f\u4e00\u9053\u975e\u5e38\u6c34\u7684\u5e7f\u641c\u3002\u53ea\u662f\u4ece\u4e8c\u7ef4\u53d8\u6210\u4e86\u4e09\u7ef4\u3002\u683c\u5f0f\u8fd8\u662f\u6ca1\u53d8\u7684\u3002\n# \u5148\u5949\u4e0a\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int dx[]={0,0,0,0,1,-1};//\u504f\u79fb\u6570\u7ec4,\u6700\u540e\u4e24\u4e2a\u662f\u4e0a\u697c\u6216\u4e0b\u697c\nconst int dy[]={1,-1,0,0,0,0};\nconst int dz[]={0,0,1,-1,0,0};\nint l,r,c,posx1,posy1,posz1,posx2,posy2,posz2;\nstruct node{\n\tint x,y,z,t;\n};\nqueue<node> q;//\u5b9a\u4e49\u7ed3\u6784\u4f53\u961f\u5217,\u6807\u914d\nchar a[55][55][55];\ninline bool check(int x,int y,int z)\n{\n\tif(x>=1&&x<=l&&y>=1&&y<=r&&z>=1&&z<=c&&a[x][y][z]!='#') return true;\n\treturn false;\n}\ninline int bfs(int x,int y,int z,int t)\n{\n\ta[x][y][z]='#';\n\tq.push(node{x,y,z});\n\twhile(!q.empty())\n\t{\n\t\tint xx=q.front().x;\n\t\tint yy=q.front().y;\n\t\tint zz=q.front().z;\n\t\tint tt=q.front().t;\n\t\tq.pop();\n\t\tfor(int i=0;i<6;i++)\n\t\t{\n\t\t\tint nx=xx+dx[i];\n\t\t\tint ny=yy+dy[i];\n\t\t\tint nz=zz+dz[i];\n\t\t\tif(nx==posx2&&ny==posy2&&nz==posz2) return tt+1;\n\t\t\tif(check(nx,ny,nz))\n\t\t\t{\n\t\t\t\ta[nx][ny][nz]='#';\n\t\t\t\tq.push(node{nx,ny,nz,tt+1});\n\t\t\t}\n\t\t}\n\t}\n\treturn -1;//\u641c\u5b8c\u4e86\u77e9\u9635,\u961f\u5217\u90fd\u7a7a\u4e86\u8fd8\u6ca1\u5230\u7ec8\u70b9\u5c31\u8fd4\u56de-1\n}\nint main()\n{\n\t\tcin>>l>>r>>c;\n\t\tfor(int i=1;i<=l;i++)\n\t\t{\n\t\t\tfor(int j=1;j<=r;j++)\n\t\t\t{\n\t\t\t\tfor(int k=1;k<=c;k++)\n\t\t\t\t{\n\t\t\t\t\tcin>>a[i][j][k];\n\t\t\t\t\tif(a[i][j][k]=='S')\n\t\t\t\t\t{\n\t\t\t\t\t\tposx1=i;\n\t\t\t\t\t\tposy1=j;\n\t\t\t\t\t\tposz1=k;//\u8d77\u59cb\u5c42\u6570,\u884c\u4e0e\u5217\n\t\t\t\t\t}\n\t\t\t\t\tif(a[i][j][k]=='E')\n\t\t\t\t\t{\n\t\t\t\t\t\tposx2=i;\n\t\t\t\t\t\tposy2=j;\n\t\t\t\t\t\tposz2=k;//\u7ec8\u70b9\u5c42\u6570\u884c\u4e0e\u5217\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint p=bfs(posx1,posy1,posz1,0);//\u53ef\u4ee5\u5f00\u641c\u4e86\n\t\tif(p!=-1) cout<<\"Escaped in \"<<p<<\" minute(s).\"<<endl;\n\t\telse cout<<\"Trapped!\"<<endl;\n\t\treturn 0;\n}\n```\n# \n\n\n------------\n## \u8fd9\u9053\u9898\u62ff\u6765\u7ec3\u5e7f\u641c\u5f88\u597d,\u4e3b\u8981\u662f\u7ec3\u4e60\u4ed4\u7ec6,\u4e0d\u8981\u6025\u8e81",
        "postTime": 1572084611,
        "uid": 227729,
        "name": "Stuch",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P2360 \u3010\u5730\u4e0b\u57ce\u4e3b\u3011"
    },
    {
        "content": "```\n\u770b\u5404\u4f4d\u90fd\u662f\u7528\u4e09\u7ef4\u6570\u7ec4\u89e3\u7684\uff0c\u672c\u849f\u84bb\u5c31\u6765\u53d1\u4e00\u7bc7\u4e8c\u7ef4\u6570\u7ec4\u7684\u89e3\u6cd5\n```\n```cpp\n#include<bits/stdc++.h>\nusing namespace std\uff1b\nint main(){  \n    int k,n,m,i,j,kk,nn=0,mm=0,x,y,x1,y1,p[1000][40]={0},p1[1000][40]={0},wx,wy;\n    //nn\u4e3a\u884c\u7684\u8ba1\u6570\u5668\uff0cmm\u4e3a\u5217\u7684\u8ba1\u6570\u5668\n    char c[1000][40];\n    int f[6]={1,0,-1,0};\n    int f1[6]={0,1,0,-1,0,0};\n    //\u65b9\u5411\n    memset(c,'.',sizeof(c));\n    queue <int> aa;\n    queue <int> bb;\n    cin >> k >> n >> m;\n    f[4]=n;\n    f[5]=-n;\n    /*\u6bd4\u5982\u8bf4\n    3 3 3\n    ...\n    ...\n    ... <\n    \n    ...\n    ...\n    ... <\n    \n    ...\n    ...\n    ... <\n    \u4ece\u7b2c6\u884c\u4e0a\u4e00\u5c42\u5176\u5b9e\u5c31\u662f\u52a0n\u683c\uff0c\u4e0b\u4e00\u5c42\u5c31\u662f\u51cfn\u683c*/\n    for(i=0;i<k;i++){\n        for(j=0;j<n;j++){\n            nn++;\n            mm=0;\n            for(kk=0;kk<m;kk++){\n                mm++;\n                cin >> c[nn][mm];\n                if(c[nn][mm]=='#')\n                    p1[nn][mm]=1;\n                if(c[nn][mm]=='S'){\n                    x=nn;\n                    y=mm;\n                }\n                if(c[nn][mm]=='E'){\n                    wx=nn;\n                    wy=mm;\n                }\n            }\n        }\n    }\n    aa.push(x);\n    bb.push(y);\n    p1[x][y]=1;\n    while(!aa.empty() && !bb.empty()){\n        for(i=0;i<6;i++){\n            x1=aa.front()+f[i];\n            y1=bb.front()+f1[i];\n            if(aa.front()%n==0 && f[i]==1 || (aa.front()-1)%n==0 && f[i]==-1)\n                continue;\n            /*\u56e0\u4e3a\u4f1a\u6709\n            2 3 3 \n            ...\n            ...\n            S..\n            \n            E..\n            ...\n            ...\n            \u6216\n            ...\n            ...\n            E..\n            \n            S..\n            ...\n            ...\n            \u9020\u6210\u4e00\u79d2\u5230\u8fbe\u7ec8\u70b9\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u8981\u52a0\u4e00\u4e2a\u7279\u5224*/\n            if(x1>=1 && y1>=1 && x1<=nn && y1<=m && !p1[x1][y1]){\n                p[x1][y1]=p[aa.front()][bb.front()]+1;\n                p1[x1][y1]=1;\n                if(x1==wx && y1==wy){\n                    cout << \"Escaped in \" << p[x1][y1] << \" minute(s).\";\n                    return 0;\n                }\n                aa.push(x1);\n                bb.push(y1);\n            }\n        }\n        aa.pop();\n        bb.pop();\n    }\n    cout << \"Trapped!\";\n    return 0; \n    return 0;\n}\n```\n\n",
        "postTime": 1534861442,
        "uid": 76592,
        "name": "InternetExplorer",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2360 \u3010\u5730\u4e0b\u57ce\u4e3b\u3011"
    },
    {
        "content": "#\u4e00\u9053\u6c34\u6c34\u7684\u5bbd\u641c\uff0c\u5c31\u662f\u591a\u52a0\u4e86\u4e00\u7ef4#\n\n```cpp\n#include <bits/stdc++.h> //\u4e07\u80fd\u5934\u6587\u4ef6\nusing namespace std;\nconst int e[6][3]={{-1,0,0},{1,0,0},{0,-1,0},{0,1,0},{0,0,-1},{0,0,1}}; //\u516d\u4e2a\u80fd\u8d70\u7684\u65b9\u5411\nchar a[32][32][32],L,R,C,i,j,k,l,r,c;\nqueue<int>ql,qr,qc,qs; //\u961f\u5217\uff0c\u4fdd\u5b58\u4e09\u4e2a\u5750\u6807\u4ee5\u53ca\u6b65\u6570\nstring st;\nint main()\n{\n    scanf(\"%d %d %d\",&L,&R,&C);\n    for (i=1;i<=L;i++)\n    {\n        for (j=1;j<=R;j++)\n        {\n            cin>>st; //\u7528\u5b57\u7b26\u4e32\u8bfb\u5165\uff0c\u907f\u514d\u56de\u8f66\u7684\u56f0\u6270..\n            for (k=0;k<st.size();k++)\n            {\n                a[i][j][k+1]=st[k];\n                if (st[k]=='S') //\u5982\u679c\u53d1\u73b0\u51fa\u53d1\u70b9\n                {\n                    ql.push(i);\n                    qr.push(j);\n                    qc.push(k+1);\n                    qs.push(0); //\u521d\u59cb\u5316\u6240\u6709\u7684\u961f\u5217,\u521d\u59cb\u5316\u4e3a\u51fa\u53d1\u70b9\n                }\n            }\n        }\n    } //\u8bfb\u5165\u5730\u56fe\n    while (!qs.empty())\n    {\n        for (i=0;i<6;i++)\n        {\n            l=ql.front()+e[i][0];\n            r=qr.front()+e[i][1];\n            c=qc.front()+e[i][2]; //\u4f9d\u6b21\u641c\u7d22\u6240\u6709\u80fd\u8d70\u7684\u65b9\u5411\n            if (a[l][r][c]=='E') //\u5982\u679c\u53d1\u73b0\u7ec8\u70b9\n            {\n                printf(\"Escaped in %d minute(s).\\n\",qs.front()+1); //\u8f93\u51fa\n                return 233;\n            }\n            if (a[l][r][c]=='.') //\u5982\u679c\u80fd\u8d70\n            {\n                ql.push(l);\n                qr.push(r);\n                qc.push(c);\n                qs.push(qs.front()+1); //\u5728\u961f\u5c3e\u63d2\u5165\u65b0\u5143\u7d20\n                a[l][r][c]='#'; //\u53bb\u91cd\n            }\n        }\n        ql.pop();\n        qr.pop();\n        qc.pop();\n        qs.pop(); //\u961f\u9996\u5143\u7d20\u51fa\u961f\n    }\n    puts(\"Trapped!\"); //\u5224\u65ad\u672a\u80fd\u8d70\u51fa\u7684\u60c5\u51b5(\u7b2c\u4e00\u6b21\u6ca1\u770b\u5230..)\n return 666;\n}\n```",
        "postTime": 1482669184,
        "uid": 22132,
        "name": "little_gift",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2360 \u3010\u5730\u4e0b\u57ce\u4e3b\u3011"
    },
    {
        "content": "\u57fa\u7840\u5e7f\u641c\u9898\u3002\n\n\u7531\u4e8e\u5730\u56fe\u662f\u4e09\u7ef4\u7684\uff0c\u6211\u4eec\u8bbe\u4ece\u51fa\u53d1\u70b9\u8d70\u5230\u7b2cp\u5c42\uff0c\u7b2ci\u884c\uff0c\u7b2cj\u5217\u7684\u683c\u5b50\u7684\u6700\u77ed\u6b65\u6570\u4e3adis(i,j,k)\uff0c\u884c\u8d70\u65b9\u5411\u4e0a\u7531\u56db\u65b9\u5411\u6539\u4e3a\u516d\u65b9\u5411\u5c31\u597d\u4e86\uff0c\u5176\u5b83\u540c\u6700\u57fa\u7840\u7684\u56db\u65b9\u5411\u8ff7\u5bab\u6ca1\u6709\u533a\u522b\u3002\n",
        "postTime": 1430573857,
        "uid": 4341,
        "name": "TsReaper",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2360 \u3010\u5730\u4e0b\u57ce\u4e3b\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u5f88\u7b80\u5355\u7684~~DP~~\u597d\u5427\u662fbfs(~~dfs~~TLE\u5728\u62db\u624b\uff09\n\u672c\u8d28\u5c31\u662f\u4e00\u4e2a\u8ff7\u5bab\u95ee\u9898\uff0c\u4f46\u662f\u591a\u4e86\u4e00\u7ef4\uff08\u96be\u5ea6~~\u589e\u52a0\u4e86\u5f88\u591a~~\uff09\n\n~~\u76f4\u63a5\u770b\u4ee3\u7801\u5427~~\uff08\u849f\u84bb\u7684\u4ee3\u7801\uff09\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nqueue <int> qz,qx,qy,qs;//\u849f\u84bb\u4e00\u53ea\uff0c\u4e0d\u559c\u6b22\u7ed3\u6784\u4f53\u00b7\u00b7\u00b7\u00b7\u00b7 \u5c42 \u884c \u5217 \u6b65\u6570\nint l,r,c,xx,yy,zz,qxx,qyy,qzz,a[50][50][50];\nint dz[7]={0,-1,1,0,0,0,0};//\u53ef\u7231\u7684\u589e\u91cf\nint dx[7]={0,0,0,-1,1,0,0};\nint dy[7]={0,0,0,0,0,-1,1};\nint main(){\n\tchar x;\n\tint nx,ny,nz,s=1;\n\tcin>>l>>r>>c;\n\tfor(int i=1;i<=l;i++)\n\t\tfor(int j=1;j<=r;j++)\n\t\t\tfor(int k=1;k<=c;k++){\n\t\t\t\tcin>>x;\n\t\t\t\tif(x=='.')\n\t\t\t\t\ta[i][j][k]=1;\n\t\t\t\tif(x=='#')\n\t\t\t\t\ta[i][j][k]=0;\n\t\t\t\tif(x=='S'){\n\t\t\t\t\ta[i][j][k]=1;\n\t\t\t\t\tqzz=i;qxx=j;qyy=k;//\u8bb0\u4e00\u4e0b\u8d77\u70b9\n\t\t\t\t}\n\t\t\t\tif(x=='E'){\n\t\t\t\t\ta[i][j][k]=2;\n\t\t\t\t\tzz=i;xx=j;yy=k;//\u8bb0\u4e00\u4e0b\u7ec8\u70b9\n\t\t\t\t}\n\t\t\t}\n\tqz.push(qzz);\n\tqx.push(qxx);\n\tqy.push(qyy);\n\tqs.push(0);\n    a[qzz][qxx][qyy]=0;//\u4e00\u4e2a\u597d\u4e60\u60ef\n\twhile(!qx.empty()&&s){\n\t\t for(int i=1;i<=6;i++){//6\u4e2d\u5206\u652f \u4e0a\u4e0b\u5de6\u53f3\u524d\u540e\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\n\t\t \tnz=qz.front()+dz[i];\n\t\t \tnx=qx.front()+dx[i];\n\t\t \tny=qy.front()+dy[i];\n\t\t \tif(a[nz][nx][ny]){\n\t\t \t\tqz.push(nz);\n\t\t \t\tqx.push(nx);\n\t\t \t\tqy.push(ny);\n\t\t \t\tqs.push(qs.front()+1);\n\t\t \t\tif(a[nz][nx][ny]==2){\n\t\t \t\t\tcout<<\"Escaped in \"<<qs.back()<<\" minute(s).\"<<endl;\n\t\t \t\t\ts=0;\n\t\t\t\t }\n\t\t\t\ta[nz][nx][ny]=0;\n\t\t\t }\n\t\t }\n\t\t qz.pop();\n\t\t qx.pop();\n\t\t qy.pop();\n\t\t qs.pop();\n\t} \n    if(qx.empty())//\u5982\u679c\u56e0\u4e3a\u65e0\u8def\u53ef\u8d70\u624d\u51fa\u5faa\u73af\n\t\tcout<<\"Trapped!\"<<endl;\n\n\treturn 0;\n}\n\n```",
        "postTime": 1526287910,
        "uid": 91026,
        "name": "ahhsst",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2360 \u3010\u5730\u4e0b\u57ce\u4e3b\u3011"
    },
    {
        "content": "```c\n#include<bits/stdc++.h>\nusing namespace std;\nstruct tNode\n{\n\tint x;//\u5c42 \n\tint y;//\u884c \n\tint z;//\u5217 \n\tint step;\n}q[27050];\nint a,b,c,sx,sy,ex,ey,sz,ez;\nint dx[6]={1,-1,0,0,0,0};//\u4e0a\u4e0b\u524d\u540e\u5de6\u53f3 \nint dy[6]={0,0,1,-1,0,0};//\u4e0a\u4e0b\u524d\u540e\u5de6\u53f3\nint dz[6]={0,0,0,0,1,-1};//\u4e0a\u4e0b\u524d\u540e\u5de6\u53f3\nchar ditu[32][32][32];//\u7b2c\u4e00\u7ef4\u8868\u793a\u9ad8\u5ea6\uff0c\u7b2c\u4e8c\u7ef4\u8868\u793a\u884c\uff0c\u7b2c\u4e09\u7ef4\u8868\u793a\u5217\uff0cditu[i][j][k]\u8868\u793a\u7b2ci\u5c42\u7b2cj\u884c\u7b2ck\u5217 \nvoid bfs(int sx,int sy,int sz,int ex,int ey,int ez)\n{\n\tint l=1,r=1;\n\tq[l].x=sx;\n\tq[l].y=sy;\n\tq[l].z=sz;\n\tq[l].step=0;\n\tditu[sx][sy][sz]='#';\n\twhile(l<=r)\n\t{\n\t\tfor(int i=0;i<6;i++)\n\t\t{\n\t\t\tif(q[l].x+dx[i]>=1 && q[l].x+dx[i]<=a && q[l].y+dy[i]>=1 && q[l].y+dy[i]<=b && q[l].z+dz[i]>=1 && q[l].z+dz[i]<=c && ditu[q[l].x+dx[i]][q[l].y+dy[i]][q[l].z+dz[i]]!='#')\n\t\t\t{\n\t\t\t\tr++;\n\t\t\t\tq[r].x=q[l].x+dx[i];\n\t\t\t\tq[r].y=q[l].y+dy[i];\n\t\t\t\tq[r].z=q[l].z+dz[i];\n\t\t\t\tq[r].step=q[l].step+1;\n\t\t\t\tif(ditu[q[l].x+dx[i]][q[l].y+dy[i]][q[l].z+dz[i]]=='E')\n\t\t\t\t{\n\t\t\t\t\tcout<<\"Escaped in \"<<q[r].step<<\" minute(s).\"<<endl;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tditu[q[l].x+dx[i]][q[l].y+dy[i]][q[l].z+dz[i]]='#';\n\t\t\t}\n\t\t}\n\t\tl++;\n\t}\n\tcout<<\"Trapped!\"<<endl;\n}\nint main()\n{\n\tcin>>a>>b>>c;\n\tgetchar();\n/*\tfor(int j=1;j<=b;j++)\n\t\tgets(ditu[1][j]+1);\n\tfor(int i=2;i<=a;i++)\n\t{\n\t\tgetchar();\n\t\tfor(int j=1;j<=b;j++)\n\t\t\tgets(ditu[i][j]+1);\n\t}*/\n\tfor(int i=1;i<=a;i++)\n\t{\n\t\tfor(int j=1;j<=b;j++)\n\t\t\tcin>>ditu[i][j]+1;\n\t}\n\tfor(int i=1;i<=a;i++)\n\t{\n\t\tfor(int j=1;j<=b;j++)\n\t\t{\n\t\t\tfor(int k=1;k<=c;k++)\n\t\t\t{\n\t\t\t\tif(ditu[i][j][k]=='S')//\u5982\u679c\u7b2ci\u5c42\u7b2cj\n\t\t\t\t{\n\t\t\t\t\tsx=i;\n\t\t\t\t\tsy=j;\n\t\t\t\t\tsz=k;\n\t\t\t\t}\n\t\t\t\telse if(ditu[i][j][k]=='E')\n\t\t\t\t{\n\t\t\t\t\tex=i;\n\t\t\t\t\tey=j;\n\t\t\t\t\tez=k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tbfs(sx,sy,sz,ex,ey,ez);//\u8c03\u7528\u51fd\u6570\n\treturn 0;\n} \n```\n",
        "postTime": 1561458209,
        "uid": 163135,
        "name": "Cooll_23_Louis",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2360 \u3010\u5730\u4e0b\u57ce\u4e3b\u3011"
    },
    {
        "content": "\u6ca1\u4eba\u7ed3\u6784\u4f53\u961f\u5217\u90a3\u6211\u5c31\u6c34\u4e00\u53d1\u3002\n\u5e7f\u641c\uff0c\u53ea\u662f\u591a\u4e86\u4e00\u7ef4\u800c\u5df2\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int MAXN = 30;\n\nstruct node\n{\n\tint step; // \u6240\u82b1\u6b65\u6570\n\tint l;  \n\tint r;\n\tint c;\n    //\u5750\u6807\n}s, ss, sss;\n\nint dx[7] = {0, -1, 1, 0, 0, 0, 0};\nint dy[7] = {0, 0, 0, -1, 1, 0, 0};\nint dz[7] = {0, 0, 0, 0, 0, -1, 1};\n\nint L, R, C;\nint vis[MAXN + 10][MAXN + 10][MAXN + 10];\nchar dungeon[MAXN + 10][MAXN + 10][MAXN + 10];\n\nqueue < node > q;\n\nint main()\n{\n\tcin >> L>> R>> C;\n\tfor (int i = 1; i <= L; ++i) //++i\u5176\u5b9e\u6bd4i++\u5feb\n\t\tfor (int j = 1; j <= R; ++j)\n\t\t\tfor (int k = 1; k <= C; ++k) \n\t\t\t{\n\t\t\t\tcin >> dungeon[i][j][k];\n\t\t\t\tif (dungeon[i][j][k] == 'S')\n\t\t\t\t{\n\t\t\t\t\ts.step = 0;\n\t\t\t\t\ts.l = i;\n\t\t\t\t\ts.r = j;\n\t\t\t\t\ts.c = k;\n\t\t\t\t\tvis[i][j][k] = 1;  //\u8bb0\u5f55\u8d77\u70b9\n\t\t\t\t}\n\t\t\t\tif (dungeon[i][j][k] == 'E')\n\t\t\t\t{\n\t\t\t\t\tss.l = i;\n\t\t\t\t\tss.r = j;\n\t\t\t\t\tss.c = k;\n\t\t\t\t\tdungeon[i][j][k] = '.';  //\u8bb0\u5f55\u91cd\u70b9\u5e76\u5c06\u5176\u53d8\u4e3a\u53ef\u8d70\n\t\t\t\t}\n\t\t\t}\n\tq.push(s);  //\u8d77\u70b9\u5165\u961f\n\t\n\twhile ( !q.empty() )\n\t{\n\t\ts = q.front();\n\t\tif (s.l == ss.l && s.r == ss.r && s.c == ss.c )\n\t\t{//\u627e\u5230\u7b54\u6848\u8f93\u51fa\n\t\t\tcout <<\"Escaped in \"<< s.step <<\" minute(s).\"<<endl;\n\t\t\treturn 0;\t\n\t\t}\n\t\t\t\n\t\tfor (int i = 1; i <= 6; i++)\n\t\t{\n\t\t\tif (s.l + dx[i] > 0 && s.l +dx[i] <= L && s.r + dy[i] > 0 && s.r +dy[i] <= R && s.c + dz[i] > 0 && s.c +dz[i] <= C ) \n            //\u5224\u65ad\u662f\u5426\u8d8a\u754c\n\t\t\t\tif (vis[s.l + dx[i] ][s.r + dy[i] ][s.c + dz[i] ] == 0 && dungeon[s.l + dx[i] ][s.r + dy[i] ][s.c + dz[i] ] == '.' )\n                //\u5224\u65ad\u80fd\u4e0d\u80fd\u8d70\n\t\t\t\t{\n\t\t\t\t\tvis[s.l + dx[i] ][s.r + dy[i] ][s.c + dz[i] ] = 1;\n                    //\u6807\u8bb0\u8d70\u8fc7\n\t\t\t\t\tsss.l = s.l + dx[i];\n\t\t\t\t\tsss.r = s.r + dy[i];\n\t\t\t\t\tsss.c = s.c + dz[i];\n\t\t\t\t\tsss.step = s.step + 1;\n\t\t\t\t\tq.push(sss); //\u5165\u961f\n\t\t\t\t}\t\n\t\t}\t\n\t\tq.pop();\n    }\n    \n    cout <<\"Trapped!\"<< endl;\n    \n\treturn 0;\n}\n```",
        "postTime": 1534227721,
        "uid": 69495,
        "name": "marTixx",
        "ccfLevel": 0,
        "title": "P2360 \u5730\u4e0b\u57ce\u4e3b"
    },
    {
        "content": "##\u770b\u4e86\u4e0b\u6ca1\u6709 pascal \u7684\u9898\u89e3\uff0c\u5c31\u6765\u53d1\u4e00\u53d1\n\n\u6700\u5feb\u7684\u7a0b\u5e8f\uff1a\n\n ![](https://cdn.luogu.com.cn/upload/pic/5261.png) \n\n[\u4f20\u9001\u95e8](https://www.luogu.org/record/show?rid=2109741)\n\n\u8fd9\u9053\u9898\u5c31\u662f\u8f93\u5165\u8f93\u51fa\u6bd4\u8f83\u6076\u5fc3\n\n\u6bcf\u4e00\u5c42\u8bfb\u5b8c\uff0c\u8fd8\u8981\u6362\u884c\u3002\n\n\u53e6\u5916\uff0c\u5c31\u662f\u591a\u4e86\u4e2a\u7ef4\u5ea6\uff0c\u53d8\u62103D bfs\u3002\n\n\u5b66\u8fc7bfs\u5c31\u53ef\u4ee5\u505a\uff1b\n\n\u8fd8\u6709\u5c31\u662f\n\ndx dy dz \u5750\u6807\u589e\u91cf\u7684\u53d6\uff0c2D\u65f6\u5c31\u662f4\u4e2a\uff0c3D\u52a0\u4e86\u4e2a\u4e0a\u4e0b\u5c31\u662f6\u4e2a\uff1b\n\n```cpp\n      dx:array[1..6]of integer=(-1,0,1,0,0,0);\n      dy:array[1..6]of integer=(0,1,0,-1,0,0);\n      dz:array[1..6]of integer=(0,0,0,0,1,-1);\n```\n\u6807\u7a0b\u5982\u4e0b\uff1a\n\n```cpp\ntype rec=record\nx,y,z,step:longint;\nend;\nconst dx:array[1..6]of integer=(-1,0,1,0,0,0);\n      dy:array[1..6]of integer=(0,1,0,-1,0,0);\n      dz:array[1..6]of integer=(0,0,0,0,1,-1);\nvar ex,ey,ez,sx,sy,sz,x,y,z,n,m,h,head,tail:longint;\n    a:array[1..900]of rec;\n    u:array[1..30,1..30,1..30]of boolean;\n    s:string;\n    map:array[1..30,1..30,1..30]of 0..1;\n    f:boolean;\nprocedure bfs;\nvar i,xx,yy,zz:longint;\nbegin\n head:=0; tail:=1;\n while head<tail do begin\n  inc(head);\n  for i:=1 to 6 do begin\n   xx:=a[head].x+dx[i];\n   yy:=a[head].y+dy[i];\n   zz:=a[head].z+dz[i];\n   if (xx>n)or(xx<=0)or(yy>m)or(yy<=0)or(zz>h)or(zz<=0)then continue;\n   if (u[xx,yy,zz])or(map[xx,yy,zz]=0) then continue;\n   inc(tail);\n   a[tail].x:=xx;\n   a[tail].y:=yy;\n   a[tail].z:=zz;\n   a[tail].step:=a[head].step+1;\n   u[xx,yy,zz]:=true;\n   if (xx=ex)and(yy=ey)and(zz=ez) then begin\n    f:=true; exit;\n   end;\n  end;\n end;\nend;\nbegin\n readln(h,n,m);\n for z:=1 to h do begin\n  for x:=1 to n do begin\n   readln(s);\n   for y:=1 to m do\n    case s[y] of\n    'S':begin sx:=x; sy:=y; sz:=z; map[x,y,z]:=1; end;\n    'E':begin ex:=x; ey:=y; ez:=z; map[x,y,z]:=1; end;\n    '.':begin map[x,y,z]:=1; end;\n    '#':begin map[x,y,z]:=0; end;\n    end;\n   end;\n   if z<>h then  readln;\n   end;\n fillchar(u,sizeof(u),false);\n a[1].x:=sx;\n a[1].y:=sy;\n a[1].z:=sz;\n a[1].step:=0;\n u[sz,sy,sz]:=true;\n f:=false;\n bfs;\n if not f then writeln('Trapped!')\n else writeln('Escaped in ',a[tail].step,' minute(s).');\nend.\n```",
        "postTime": 1493513029,
        "uid": 16456,
        "name": "ljc20020730",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2360 \u3010\u5730\u4e0b\u57ce\u4e3b\u3011"
    },
    {
        "content": "###  \u521a\u624d\u770b\u4e86\u697c\u4e0b\u7684\u9898\u89e3\uff0c\u53d1\u73b0\u5728\u7edf\u8ba1\u7b54\u6848\u4e0a\u53ef\u4ee5\u4f18\u5316\uff0c\u4e0d\u9700\u8981\u518d\u7528\u4e00\u6b21\u5faa\u73af\u7edf\u8ba1\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u961f\u5217\u91cc\u6807\u8bb0\u3002\n\n\n### \u4e0d\u4f1a\u5e7f\u641c\u7684\u540c\u5b66\u53ef\u4ee5\u8bd5\u7740\u505a\u505a\u8fd9\u9898\uff0c\u628a\u6a21\u677f\u6539\u4e00\u4e0b\u5c31\u597d\u4e86\uff0c\u53ea\u662f\u591a\u4e86\u4e00\u7ef4\u3002\uff08~~\u60f3\u8d77\u5f53\u5e74\u7684\u6211\u662f\u600e\u4e48\u5b66\u641c\u7d22\u7684\uff0c\u591a\u4e48\u75db\u7684\u56de\u5fc6~~\uff09\n\n\n#### \u4e0b\u9762\u4e0a\u4ee3\u7801\n\n\n------------\n```\n#include<bits/stdc++.h>\nusing namespace std;\n\nint p1,p2,p3;\n\nint a,b,c;\n//\u7ec8\u70b9\u4f4d\u7f6e \n\nint ans=-1;\nint fc[6]={1,-1,0,0,0,0};\nint fx[6]={0,0,1,-1,0,0};\nint fy[6]={0,0,0,0,1,-1};\n//\u65b9\u5411\u6570\u7ec4\uff0c\u4e0d\u4f1a\u7684\u540c\u5b66\u53ef\u4ee5\u6a21\u62df\u4e00\u4e0b\u3002\n \nchar l[100][100][100];\nbool check[100][100][100];\nstruct node\n{\n\tint c;\n\tint x;\n\tint y;\n\t\n\tint s;//\u7edf\u8ba1\u7b54\u6848 \n}q[10000000];\n\nvoid work(int k1,int k2,int k3)\n{\n\tint first=1,last=2,nc,nx,ny,ns,pc,px,py,ps;\n\tq[first].c=k1,q[first].x=k2,q[first].y=k3;check[k1][k2][k3]=1;\n\twhile(first<last)\n\t{\n\t\tnc=q[first].c,nx=q[first].x,ny=q[first].y,ns=q[first++].s;\n\t\tif(nc==a&&nx==b&&ny==c)\n\t\t{\n\t\t\tans=ns;\n\t\t\t//\u66f4\u65b0\u7b54\u6848\uff0c\u8fd9\u91cc\u5f88\u91cd\u8981\uff01\uff01 \n\t\t\tbreak;\n\t\t}\n\t\tfor(int i=0;i<6;i++)\n\t\t{\n\t\t\tpc=nc+fc[i];px=nx+fx[i];py=ny+fy[i];ps=ns+1;\n\t\t\tif(l[pc][px][py]!='#'&&check[pc][px][py]==0&&pc>=1&&pc<=p1&&px>=1&&px<=p2&&py>=1&&py<=p3)\n\t\t\t{\n\t\t\t\t//\u6ce8\u610f\u8fd9\u91cc\u662f  !='#'  \u4e0d\u662f  =='.' \u3002\u8981\u4e0d\u7136\u9047\u5230\u7ec8\u70b9\u65f6\u4f1a\u8df3\u8fc7\u3002 \n\t\t\t\tq[last].c=pc;q[last].x=px;q[last].y=py;q[last++].s=ps;check[pc][px][py]=1;\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid in()\n{\n\tchar ch;\n\tscanf(\"%d%d%d\",&p1,&p2,&p3);\n\tfor(int i=1;i<=p1;i++)\n\t\tfor(int j=1;j<=p2;j++)\n\t\t\tfor(int k=1;k<=p3;k++)\n\t\t\t{\n\t\t\t\tcin>>ch;\n\t\t\t\tl[i][j][k]=ch;\n\t\t\t\tif(ch=='E') a=i,b=j,c=k;\n\t\t\t}\n}\n \nint main()\n{\n\tin();\n\tfor(int i=1;i<=p1;i++)\n\t\tfor(int j=1;j<=p2;j++)\n\t\t\tfor(int k=1;k<=p3;k++)\n\t\t\t\tif(l[i][j][k]=='S')\n\t\t\t\t{\n\t\t\t\t\t//\u627e\u5230\u8d77\u70b9\uff0c\u5f00\u59cb\u641c\u7d22\u3002 \n\t\t\t\t\twork(i,j,k);\n\t\t\t\t\tif(ans!=-1) printf(\"Escaped in %d minute(s).\",ans);\n\t\t\t\t\telse printf(\"Trapped!\");\n\t\t\t\t\t//\u8fd9\u91cc\u4e00\u5b9a\u8981\u52a0\u4e2a\u5224\u65ad \u3002 \n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1523372290,
        "uid": 50349,
        "name": "Corsair",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2360 \u3010\u5730\u4e0b\u57ce\u4e3b\u3011"
    },
    {
        "content": "\u4e09\u7ef4\u7684BFS\u8ff7\u5bab\uff0c6\u4e2a\u65b9\u5411\n\n\u5b57\u7b26\u8f93\u5165\u8bb0\u5f97\u6362\u884c\n\n\n```pascal\nconst\n lx:array[1..6] of -1..1=(0,0,0,0,1,-1);//\u697c\n ly:array[1..6] of -1..1=(-1,0,1,0,0,0);//\u884c\n lz:array[1..6] of -1..1=(0,-1,0,1,0,0);//\u5217\n\nvar\n openy:array[0..64010] of longint;\n //\u53ef\u4ee5\u5230\u8fbe\u7684\u70b9\u7684\u6b65\u6570\n a:array[0..40,0..40,0..40] of char;\n //\u76d1\u72f1\u5730\u56fe\n openx:array[0..64010,1..3] of longint;\n //\u53ef\u4ee5\u5230\u8fbe\u7684\u70b9\u7684\u5750\u6807\n i,j,k,l,r,c,x,y,z,x1,y1,z1,x2,y2,z2,p1{\u5934\u6307\u9488},p2{\u5c3e\u6307\u9488}:longint;\nbegin\n readln(l,r,c);\n for i:=1 to l do\n  begin\n   for j:=1 to r do\n    begin\n     for k:=1 to c do\n      begin\n       read(a[i,j,k]);//\u8f93\u5165\n       case a[i,j,k] of\n        'S':begin\n         x1:=i;\n         y1:=j;\n         z1:=k;\n         a[i,j,k]:='.';\n        end;//\u6807\u8bb0\u8d77\u70b9\n        'E':begin\n         x2:=i;\n         y2:=j;\n         z2:=k;\n         a[i,j,k]:='.';\n        end;//\u6807\u8bb0\u7ec8\u70b9\n       end;\n      end; \n     readln;//\u6362\u884c\n    end;\n   readln;//\u6362\u884c\n  end;\n\n p1:=1; p2:=1;\n openx[p1,1]:=x1;\n openx[p1,2]:=y1;\n openx[p1,3]:=z1;//\u521d\u59cb\u5316\n while p1<=p2 do//BFS\n  begin\n   for i:=1 to 6 do\n    begin\n     x:=openx[p1,1]+lx[i];\n     y:=openx[p1,2]+ly[i];\n     z:=openx[p1,3]+lz[i];//\u5c06\u8981\u79fb\u52a8\u7684\u70b9\n     if (x=x2) and (y=y2) and (z=z2) then//\u5230\u4e86\u7ec8\u70b9\n      begin\n       writeln('Escaped in ',openy[p1]+1,' minute(s).');//\u8f93\u51fa\uff0c\u8981Ctrl+C\u548cCtrl+V\uff0c\u4e0d\u7136\u5f88\u53ef\u80fd\u4f1a\u6253\u9519\n       exit;//\u76f4\u63a5\u9000\u51fa\n      end;\n     if a[x,y,z]='.' then//\u8fd9\u4e2a\u70b9\u53ef\u4ee5\u8fc7\uff0c\u4ee5\u6b64\u53ef\u4ee5\u907f\u5f00\u8fb9\u754c\u7684\u5224\u65ad\n      begin\n       a[x,y,z]:='#';//\u6539\u6210\u4e0d\u80fd\u8fc7\n       inc(p2);//\u5c3e\u6307\u9488+1\n       openx[p2,1]:=x;\n       openx[p2,2]:=y;\n       openx[p2,3]:=z;\n       openy[p2]:=openy[p1]+1;\n      end;//\u8fdb\u5165\u961f\u5217\n    end;\n   inc(p1);//\u5934\u6307\u9488+1\n  end;\n writeln('Trapped!');//\u4e0d\u80fd\u8fbe\u5230\nend.\n```",
        "postTime": 1510294925,
        "uid": 27924,
        "name": "xukuan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2360 \u3010\u5730\u4e0b\u57ce\u4e3b\u3011"
    }
]