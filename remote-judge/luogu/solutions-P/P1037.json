[
    {
        "content": "# \u6b63\u7ecf\u6df1\u641c\u89e3\u6cd5\n\n\u597d\u7684\uff0c\u6211\u4eec\u5148\u8d34\u4e00\u4e2a\u9898\u9762\n\n[P1037 Make Numbers](https://www.luogu.org/problem/P1037)\n\uff08\u5047\u88c5\u5927\u5bb6\u5df2\u7ecf\u770b\u5b8c\u9898\u9762\u4e86\n\n - **\u601d\u8def\u4e00\uff1a**\n\t\u5982\u679c\u8003\u8651\u5982\u679c\u4e00\u4e2a\u6570\u4e00\u4e2a\u6570\u5730\u8bb0\u5f55\n\n\t\u6211\u89c9\u5f97\u4e0d\u884c~\n\n##### \t\u8bc1\u660e\uff1a~~\u663e\u7136\u6613\u89c1\u5f97\u5e73\u51e1~~\uff0c~~\u8bfb\u8005\u81ea\u8bc1\u4e0d\u96be\u3002~~\n\n\u6211\u4eec\u6ce8\u610f\u5230\n\n> \u7ed9\u51fa\u4e00\u4e2a\u6574\u6570 $n(n<10^{30})$ \u548c $k$ \u4e2a\u53d8\u6362\u89c4\u5219 $k\\le 15$\u3002\n\n\n\u4e0d\u597d\u610f\u601d\uff0c\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yz8smfi3.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\nQAQ\u597d\u50cf\u2026\u2026\u6709\u70b9\u5927\uff0c\u6e9c\u4e86\u6e9c\u4e86\u3002\n- **\u601d\u8def\u4e8c\uff1a** \u90a3\u4e48\u6211\u4eec\u8003\u8651\u4e00\u4f4d\u4e00\u4f4d\u5730\u8f6c\u5316\u7136\u540e\u518d\u501f\u52a9\u4e58\u6cd5\u539f\u7406\u4e58\u8d77\u6765\n\t\n    \u54e6\uff0c\u4f60\u53ef\u771f\u662f\u4e2a\u5929\u624d\u3002\n    \u4e8e\u662f\u5c31\u6709\u4e86\u4ee5\u4e0b\u4ee3\u7801\uff1a\n    \n```cpp\n#include<iostream>\nusing namespace std;\nstring qwq;\nint s[33],num[33],k,nxt[33][16],qaq;\nbool vis[10];\nlong long ans = 1;\nvoid dfs(int x,int y)\n//x\u6307\u4e0a\u4e00\u4e2a\u5230\u8fbe\u7684\u6570,y\u6307\u73b0\u5728\u7684\n{\n//\u673a\u623f\u795e\u4ed9\u8bf4\u4f20\u4e00\u4e2a\u53c2\u6570\u5c31\u53ef\u4ee5\uff0c\u4f46\u5b9d\u5b9d\u4e0d\u4f1aQAQ\n\tif(vis[y])return;//\u5bf9\u4e8e\u73af\u72b6\u5faa\u73af\u7684\u5904\u7406\n\tvis[x] = 1;//\u8bb0\u5fc6\u5316\n\tqaq++;\n\tfor(int i = 1;i <= num[y];i++)\n\t\tdfs(y,nxt[y][i]);\n\tvis[x] = 0;//\u5f52\u96f6\n}\nint main()\n{\n\tios::sync_with_stdio(0);\n\tcin.tie(NULL),cout.tie(NULL);\n   \t//\u770b\u4e0d\u61c2\u53ef\u5ffd\u7565\uff0c\u5c31\u662f\u53d6\u6d88cin&cout\u524d\u540e\u6447\n\tcin>>qwq>>k;\n\tint len = qwq.size();\n\tfor(int i = 0;i < len;i++)\n\t\ts[i + 1] = qwq[i] - '0';\n\tfor(int i = 1;i <= k;i++)\n\t{\n\t\tint x,y;\n\t\tcin>>x>>y;\n\t\tnxt[x][++num[x]] = y;\n\t}\n\tfor(int i = 1;i <= len;i++)\n\t{\n\t\tqaq = 1;\n\t\tfor(int j = 1;j <= num[s[i]];j++)\n\t\t\tdfs(s[i],nxt[s[i]][j]);\n\t\tans *= qaq;\n\t}\n\tcout<<ans;\n}\n```\n\n\n\u606d\u559c\u4f60\uff0c\u516b\u5341\u5206\uff08\u522b\u6253\u4e86\n- ####  \u4e8e\u662f\u6211\u4eec\u53c8\u4e00\u6b21\u6ce8\u610f\u5230\u4e86\uff1a\n> \u7ed9\u51fa\u4e00\u4e2a\u6574\u6570 $n(n<10^{30})$ \u548c $k$ \u4e2a\u53d8\u6362\u89c4\u5219 $k\\le 15$\u3002\n\n\u5b8c\u4e86\uff0c\u4e0d\u4f1a\u5199\u9ad8\u7cbe\u4e58\u9ad8\u7cbe\uff0c\u600e\u4e48\u529e\n~~\u6765\u5c71\u4e1c\u84dd\u7fd4\u6316\u6398\u673a\u5b66\u6821~~\n\n\u90a3\u5c31\u9ad8\u7cbe\u4e58\u4f4e\u7cbe\u5457hhh\n\n\n## AC Code\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstring qwq;\nint s[33],num[33],k,nxt[33][16],qaq;\n//\u4e07\u80fd\u5934\u9009\u624b\u6ce8\u610f\u83ab\u7528next\u5f53\u6570\u7ec4\u540d\nbool vis[10];\nint ans[33];\nvoid dfs(int x,int y)\n{\n\tvis[x] = 1;\n\tif(vis[y])return;\n\tqaq++;\n\tfor(int i = 1;i <= num[y];i++)\n\t\tdfs(y,nxt[y][i]);\n}\n\nvoid mul(){\n\tint jw = 0;\n\tfor(int i = 30;i;i--)\n\t{\n\t\tans[i] = ans[i] * qaq + jw;\n\t\tjw = ans[i] / 10;\n\t\tans[i] %= 10;\n\t}\n}//\u6839\u636e\u539f\u7406\u624b\u5199\u4e00\u4e2a\u5c31\u597d\u4e86\n\nint main()\n{\n\tios::sync_with_stdio(0);\n\tcin.tie(NULL),cout.tie(NULL);\n\tans[30] = 1;\n\tcin>>qwq>>k;\n\tint len = qwq.size();\n\tfor(int i = 0;i < len;i++)\n\t\ts[i + 1] = qwq[i] - '0';\n\tfor(int i = 1;i <= k;i++)\n\t{\n\t\tint x,y;\n\t\tcin>>x>>y;\n\t\tnxt[x][++num[x]] = y;\n\t}\n\tfor(int i = 1;i <= len;i++)\n\t{\n\t\tqaq = 1;\n\t\tfor(int j = 1;j <= num[s[i]];j++)\n\t\t\tdfs(s[i],nxt[s[i]][j]);\n\t\tmemset(vis,0,sizeof(vis));\n\t\tmul();\n\t}\n\tint l = 0;\n\tfor(;ans[l]==0;l++);//\u5904\u7406\u524d\u5bfc\u96f6\n\tfor(int i = l;i <= 30;i++)\n\t\tcout<<ans[i];\n\treturn 0;\n}\n```\n###### control\uff0c\u7b80\u5199\u4e3aCtrl\uff0c\u6269\u5199\u4e3a\uff1a\n\n###### \u5531\uff0c\u8df3\uff0crap\uff0c\u7bee\u7403.\n\n###### \u60a8\u8fd8\u6562Ctrl+C\u5417\n\n\u6b22\u8fce\u6279\u8bc4\u6307\u6b63\n\n\u7801\u5b57\u4e0d\u6613\uff0c\u826f\u5fc3\u5c0f\u7f16\uff0c\u7559\u8d5e\u518d\u8d70\u3002QAQ",
        "postTime": 1573027828,
        "uid": 221610,
        "name": "\u67ab\u6960",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u4e00\u4e2a\u6570\u5b57\u80fd\u53d8\u6362\u7684\u79cd\u7c7b\u4e3a\u53ef\u76f4\u63a5\u53d8\u6362\u7684\u548c\u53ef\u95f4\u63a5\u53d8\u6362\u7684\n\n\u6bd4\u5982\n1 2\n2 3\n\n\u90a3\u4e48\u5c31\u81ea\u52a8\u591a\u51fa\u6765\u4e00\u4e2a\u6761\u4ef6 1 3\n\n\n\u5c31\u662f1 \u6709\u4e09\u79cd\u53d8\u5316\n\n\n\u8fd9\u79cd\u60c5\u51b5\u7528\u5f17\u6d1b\u4f0a\u5fb7\u7b97\u6cd5 \u627e\u5230\u4e00\u4e2a\u6570\u5b57\u53ef\u4ee5\u53d8\u5316\u7684\u6b21\u6570\u548c\n\n\u4e4b\u540e\u5728\u8fde\u7eed\u4e58\u8d77\u6765 \u5f97\u5230\u7684\u7ed3\u679c\u5c31\u662f\u53d8\u5316\u6b21\u6570\n\n\n\n\n\n```cpp\n#include <iostream>\n#include <algorithm>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <cmath>\n#include <stdlib.h>\nusing namespace std;\nint tag[10][10];\nint d[10];\nint p[1000];\nint main()\n{\n    string a;\n    int n;\n    while(cin>>a>>n)\n    {\n        int x,y;\n        for(int i=0;i<n;i++)\n        {\n            cin>>x>>y;\n            tag[x][y]=1;\n        }\n    for(int k=1;k<=9;k++)\n        for(int i=0;i<=9;i++)\n            for(int j=1;j<=9;j++)\n                if(tag[i][k]&&tag[k][j]) tag[i][j]=1;//\u53ef\u4ee5\u95f4\u63a5\u8f6c\u5316\u7684\u6570\uff0c\u5e76\u4e14\u6ce8\u610f\u8fd9\u4e2ai,j,k\u7684\u6392\u5217\u3002\u53ea\u6709\u8fd9\u79cd\u6392\u5217\u53ef\u4ee5\u627e\u5230\u6240\u6709\u60c5\u51b5\n        for(int i=0;i<10;i++)\n        {\n            tag[i][i]=1;\n            for(int j=0;j<10;j++)\n                if(tag[i][j])\n                d[i]++;\n        }\n        int z=0;\n        p[0]=1;\n        for(int i=0;a[i];i++)\n        {\n            z=0;\n            int x=d[a[i]-'0'];\n            //cout<<x<<endl;\n            for(int i=0;i<500;i++)\n            {\n                p[i]=(p[i]*x+z);\n                z=p[i]/10;\n                p[i]%=10;\n                //cout<<p[i];\n            }\n            //cout<<endl;\n        }\n        int i=500;\n        while(p[i]==0) i--;\n        for(;i>=0;i--)\n        {\n            cout<<p[i];\n        }\n        cout<<endl;\n    }\n}\n```",
        "postTime": 1512801501,
        "uid": 77683,
        "name": "zhangjiangnan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u6b64\u9898\u6b63\u89e3\u4e3aDFS\uff08n\u6269\u5927\u523010^100000\u4e5f\u4e0d\u4f1a\u8d85\u65f6\uff09\n\n\u539f\u56e0\uff1a\n\nFloyd\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(n^3)\uff0c\u6b64\u5904n\u4e3a10(\u8868\u793a0-9\u6bcf\u4e2a\u6570\u5b57)\n\nDFS\u7684\u7406\u8bba\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\u6307\u6570\u7ea7\uff0c\u5373O(2^k)\uff0c\u4f46\u672c\u9898\u4e2d\u6bcf\u4e2a\u6570\u5b57\u53ea\u641c\u7d22\u4e00\u6b21\uff0c\u91cd\u590d\u7684\u76f4\u63a5return\uff0c\u56e0\u6b64\u6bcf\u4e00\u4f4d\u5b9e\u9645\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4ec5\u4e3aO(n)\n\n\u672c\u9898\u4e2d\u6ce8\u610f\u6574\u6570n\u8981\u7528\u5b57\u7b26\u4e32\u8bfb\u5165\uff0c\u7528long long\u4f1a\u7206\uff0c\u7528int128\n\n\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define lll __uint128_t\nusing namespace std;\nchar a[39],k,x[19],y[19];\nbool b[99];\nint l,t;\nlll s;\nvoid out(lll x){//int128\u8f93\u51fa\u8981\u81ea\u5df1\u5199\n\tif(x>9)out(x/10);\n\tputchar(x%10+48);\n}\nvoid dfs(char c){\n\tif(b[c])return;//\u91cd\u590d\u5c31\u9000\u51fa\n\tb[c]=1;\n\tfor(int i=0;i<k;i++)if(x[i]==c)dfs(y[i]);\n}\nint main(){\n\tscanf(\"%s%d\",a,&k),l=strlen(a);\n\tfor(int i=0;i<k;i++)cin>>x[i]>>y[i];\n\tdfs(a[0]),b[0]=0;//\u5148\u641c\u7d22\u6700\u9ad8\u4f4d\uff0c\u56e0\u4e3a\u6700\u9ad8\u4f4d\u4e0d\u80fd\u4e3a0\n\tfor(char i='1';i<='9';i++)t+=b[i],b[i]=0;\n\ts=t,t=0;\n\tfor(int i=1;i<l;i++){//\u641c\u7d22\u5176\u4f59\u4f4d\n\t\tdfs(a[i]);\n\t\tfor(char i='0';i<='9';i++)t+=b[i],b[i]=0;\n\t\ts*=t,t=0;\n\t}\n\tout(s);\n}\n```\n\n",
        "postTime": 1564648640,
        "uid": 221955,
        "name": "panyf",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "floyd+\u9ad8\u7cbe\u5ea6\u79d2\u6740,\u7528floyd\u6c42\u51fa\u6bcf\u4e2a\u6570\u5b57\u53ef\u4ee5\u53d8\u6210\u591a\u5c11\u79cd\u6570\u5b57,\u7136\u540e\u4e58\u8d77\u6765\n\n\u4ee3\u7801\n```cpp\n#include <iostream>\n#include <string>\nusing namespace std;\nstring str;\nint k,vis[10][10],f[10],num[101];\ninline void floyd() {  //\u5f17\u6d1b\u4f0a\u5fb7\n  for (int k = 0;k <= 9;k++)\n    for (int i = 0;i <= 9;i++)\n      for (int j = 0;j <= 9;j++) vis[i][j] = vis[i][j] || (vis[i][k] && vis[k][j]);\n}\nint main (){\n  ios::sync_with_stdio(false);\n  cin >> str >> k;\n  while (k--) {\n    int a,b;\n    cin >> a >> b;\n    vis[a][b] = true;  //a\u53ef\u4ee5\u53d8\u6210b\n  }\n  for (int i = 0;i <= 9;i++) vis[i][i] = true;  //\u81ea\u5df1\u53ef\u4ee5\u53d8\u6210\u81ea\u5df1\n  floyd();\n  for (int i = 0;i <= 9;i++)\n    for (int j = 0;j <= 9;j++)\n      if (vis[i][j]) f[i]++;  //\u6c42\u51fai\u53ef\u4ee5\u53d8\u6210\u591a\u5c11\u79cd\u6570\u5b57\n  int len = 2; num[1] = 1;\n  for (int i = 0;i < (int)str.length();i++) {  //\u9ad8\u7cbe\u5ea6\n    for (int j = 1;j <= 100;j++) num[j] *= f[str[i]-'0'];\n    for (int j = 1;j <= 100;j++)\n      if (num[j] >= 10) {  //\u8fdb\u4f4d\n        num[j+1] += num[j]/10;\n        num[j] %= 10;\n      }\n    while (num[len]) len++;  //\u6c42\u51fa\u957f\u5ea6\n  }\n  for (int i = len-1;i >= 1;i--) cout << num[i];  //\u8f93\u51fa\n  return 0;\n}\n```",
        "postTime": 1476764697,
        "uid": 17521,
        "name": "lrj124",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "### \u505a\u5b8c\u53d1\u73b0\u5c45\u7136\u6ca1\u4eba\u7528map\u641e\u6620\u5c04\n### \u7279\u610f\u6765\u8865\u5145\u4e00\u53d1\n#### \u5f88\u5bb9\u6613\u770b\u51fa\u8fd9\u662f\u4e00\u9053\u641c\u7d22\u9898\n\u8003\u8651\u641c\u7d22\u65b9\u6848\uff0c\u5982\u679c\u6309\u5b57\u7b26\u4e32\u8f6c\u79fb\uff0c\u5fc5\u987b\u5b58\u50a8\u6bcf\u79cd\u72b6\u6001\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u660e\u663e\u4f1a\u7206\u70b8\n\n\u89c2\u5bdf\u5230\u6bcf\u4e00\u4f4d\u4e4b\u95f4\u662f\u4e92\u4e0d\u5f71\u54cd\u7684\n#### \u8003\u8651\u4f7f\u7528\u4e58\u6cd5\u539f\u7406\n\u641c\u7d22\u51fa\u6bcf\u4e00\u4f4d\u7684\u60c5\u51b5\u603b\u6570\uff0c\u6c42\u5b83\u4eec\u7684\u8fde\u4e58\u79ef\u5373\u4e3a\u7b54\u6848\n### \u65f6\u95f4\u590d\u6742\u5ea6$O(n2^k)$\n\u53ef\u4ee5\u770b\u51fa\u7b54\u6848\u6700\u5927\u53ef\u4ee5\u8fbe\u5230\u4e09\u5341\u7684\u5341\u6b21\u65b9\uff0c\u4f1a\u7206\u6389$long$ $long$\uff0c\u6240\u4ee5\u9700\u8981\u5199\u9ad8\u7cbe\n### \u5177\u4f53\u5904\u7406\u53ef\u4ee5\u9009\u62e9STL~~\uff08\u61d2\u5f97\u81ea\u5df1\u5199\uff09~~\n\u5bf9\u4e8e\u6620\u5c04\uff0c\u8fd9\u662f$map$\u7684\u4e13\u957f\n\n\u5982\u679c\u4e00\u4e2a\u6570\u80fd\u591f\u6620\u5c04\u5230\u591a\u4e2a\u6570\u5462\uff1f\n\n\u7528$map$\u7684\u65f6\u5019\u4ece$char$\u6620\u5c04\u5230$vector<char>$\u5373\u53ef\n\n### \u4ee3\u7801\uff1a\n```\n#include<iostream>\n#include<cstdio>\n#include<map>\n#include<vector>\n#include<cstring>\nusing namespace std;\nmap<char,vector<char> >mp;\nstring st;\nint k,l,c[10],mul[100];\nvoid dfs(char th)\n{\n    c[th-'0']=1;\n    int sz=mp[th].size();\n    for(int i=0;i<sz;i++)\n        if(!c[mp[th][i]-'0'])\n            dfs(mp[th][i]);\n}\nsigned main()\n{\n    cin>>st>>k;\n    l=st.length();\n    for(int i=1;i<=k;i++)\n    {\n        char x,y;\n        cin>>x>>y;\n        mp[x].push_back(y);\n    }\n    mul[0]=1;\n    for(int i=0;i<l;i++)\n    {\n        memset(c,0,sizeof(c));\n        dfs(st[i]);\n        int sum=0;\n        for(int i=0;i<=9;i++)\n            sum+=c[i];\n        int x=0;\n        for(int i=0;i<100;i++)\n        {\n            mul[i]=mul[i]*sum+x;\n            x=mul[i]/10;\n            mul[i]%=10;\n        }\n    }\n    int i=99;\n    while(i>0&&!mul[i])\n        i--;\n    for(;i>=0;i--)\n        cout<<mul[i];\n    cout<<endl;\n    return 0;\n}\n```",
        "postTime": 1527235743,
        "uid": 57045,
        "name": "communist",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "~~Debug\u5199\u4e86\u4e00\u4e2a\u4e0b\u5348\uff0c\u5199\u5199\u9898\u89e3\u7eaa\u5ff5\u4e00\u4e0b\uff0c\u987a\u4fbf\u590d\u4e60\u521a\u5b66\u7684Floyed\u3002\u672c\u9898\u89e3\u662f\u9488\u5bf9\u521d\u5b66Floyed\u7684\u540c\u5b66\u5199\u7684\uff0c\u8bf7\u5404\u4f4d\u5927\u4f6c\u5ffd\u7565\u3002~~\n\n**\u3010\u7b97\u6cd5\u5206\u6790\u3011**\n\n\u8fd9\u9053\u9898\u76ee\u7684\u4e00\u79cd\u601d\u8def\u662f\u5bf9\u6570\u5b57\u8fdb\u884c\u5bbd\u5ea6\u4f18\u5148\u641c\u7d22\uff0c~~\u4f46\u662f\u672c\u849f\u84bb\u5c1d\u8bd5\u5199\u4e86\u4e00\u4e0b\uff0c\u53d1\u73b0\u975e\u5e38\u9ebb\u70e6\u3002~~\n\u5177\u4f53\u53ef\u53c2\u8003[\u4f20\u9001\u95e8](https://www.luogu.org/blog/yycdeboke/solution-p1037)\u3002\n\n\u53e6\u5916\u8fd8\u6709\u4e00\u4e9b~~\u672c\u849f\u84bb\u5c1a\u4e0d\u80fd\u7406\u89e3\u7684~~\u9ad8\u7aef\u7b97\u6cd5\uff0c\u4ea6\u53ef\u53c2\u8003[\u4f20\u9001\u95e8](https://www.luogu.org/blog/communist/solution-p1037)\u3002\n\n\u9898\u76ee\u53ea\u8981\u6c42\u8f93\u51fa\u65b9\u6848\u603b\u6570\uff0c\u90a3\u4e48\u5c31\u8981\u5f15\u51fa\u6211\u4eec\u7684\u7b97\u6cd5\u4e86\uff0c\u5148\u8bf7\u51fa\u4eca\u5929\u7684\u4e3b\u4eba\u516c\u2014\u2014\u5f17\u6d1b\u4f0a\u5fb7\uff08Floyed\uff09\u7b97\u6cd5\uff01\n\n**\u3010\u7b97\u6cd5\u8bb2\u89e3\u3011**\n\n\u770b\u8fd9\u6837\u4e00\u9053\u9898\u76ee\uff1a\n\n\u7ed9\u51fa\u4e00\u5f20\u542b6\u4e2a\u70b9\uff0c9\u6761\u8fb9\u7684\u56fe\uff0c\u8981\u6c42\u6c42\u51fa\u6bcf\u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u6700\u77ed\u8ddd\u79bb\u3002\n\n![](https://cdn.luogu.com.cn/upload/pic/75533.png)\n\n\u600e\u4e48\u505a\u5462\uff1f\u6211\u521a\u5b66\u7684\u65f6\u5019\u8003\u8651\u7684\u662f**\u5bbd\u5ea6\u4f18\u5148\u641c\u7d22**\uff0c\u4f46\u8fd9\u5e76\u975e\u6b63\u89e3\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\n\n\u770b\u56fe\uff0c\u82e5\u4ee5\u5bbd\u5ea6\u4f18\u5148\u641c\u7d22\u89e3\u6b64\u9898\uff0c\u6211\u4eec\u5c06\u89c2\u5bdf\u5230\u6808\u7684\u53d8\u5316\u5982\u4e0b\uff1a\n![](https://cdn.luogu.com.cn/upload/pic/75532.png)\n![](https://cdn.luogu.com.cn/upload/pic/75530.png)\n![](https://cdn.luogu.com.cn/upload/pic/75534.png)\n\n\u53ef\u4ee5\u770b\u5230\uff0c\u5bbd\u5ea6\u4f18\u5148\u641c\u7d22\u7684\u60f3\u6cd5\u5e76\u4e0d\u73b0\u5b9e\uff0c\u56e0\u4e3a\u5bbd\u5ea6\u4f18\u5148\u641c\u7d22\u4e2d\uff0c\u4e00\u4e2a\u70b9\u4e00\u65e6\u88ab\u8bbf\u95ee\uff0c\u5c31\u4e0d\u4f1a\u88ab\u4e8c\u6b21\u8bbf\u95ee\uff0c\u56e0\u6b64\u4e0d\u4f1a\u66f4\u65b0\u6700\u4f18\u89e3\u3002\u8981\u4fee\u6539\u5bbd\u5ea6\u4f18\u5148\u641c\u7d22\uff0c\u5c31\u53d8\u6210\u4e86\u53e6\u5916\u4e00\u79cd\u7b97\u6cd5\u2014\u2014**SPFA**\u4e86\u3002\u800c\u4e14\uff0c\u5bbd\u5ea6\u4f18\u5148\u641c\u7d22\u6bcf\u8f86\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u662f1\uff0c\u53ea\u80fd\u8ba1\u7b97\u7ecf\u8fc7\u70b9\u6700\u5c11\u7684\u8def\u5f84\u3002\n\n\u56de\u5230\u8fd9\u91cc\uff0c\u5982\u4f55\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u89c2\u5bdf1\u52304\u7684\u6700\u77ed\u8def\u5f84\u662f1-3-4\uff0c\u53ef\u89c1\u5982\u679c\u9009\u53d6\u4e2d\u8f6c\u70b9\uff0c\u53ef\u4ee5\u4f7f\u8def\u5f84\u53d8\u77ed\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u505a**\u677e\u5f1b**\u3002\n\n\u4ee5dis[i][j]\u8868\u793a\u4ecei\u5230j\u7684\u6700\u77ed\u8ddd\u79bb\uff0c\u5219\u6709\n\n![](https://cdn.luogu.com.cn/upload/pic/75536.png)\n\n\u5176\u4e2d1<=i,j,k<=n\u3002\n\n\u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u7c7b\u4f3c\u533a\u95f4DP\u7684\u7b97\u6cd5\uff0c\u5b83\u7684\u57fa\u672c\u6846\u67b6\u5982\u4e0b\uff1a\n```cpp\nmemset(dis,0x3f,sizeof(dis));      //\u521d\u59cb\u5316\u4e3a\u6781\u5927\u503c\nfor(int i=1;i<=n;i++) dis[i][i]=0; //\u81ea\u5df1\u5230\u81ea\u5df1\u4e0d\u5fc5\u82b1\u8d39\nfor(int k=1;k<=n;k++)\n{\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tif(dis[i][j]<dis[i][k]+dis[k][j]) dis[i][j]=dis[i][k]+dis[k][j];\n\t\t}\n\t}\n}\n```\n\u57fa\u672c\u601d\u60f3\u662f\u679a\u4e3e\u4e2d\u8f6c\u70b9\u548c\u51fa\u53d1\u3001\u5230\u8fbe\u7684\u70b9\uff0c\u82e5\u6709\u66f4\u4f18\u89e3\u5c31\u66f4\u65b0\u66f4\u4f18\u89e3\u3002\n\n\u95ee\u9898\u53c8\u6765\u4e86\uff0c\u4e3a\u4ec0\u4e48k\u8981\u653e\u5728\u5916\u9762\u5462\uff1f\n\n\u539f\u56e0\u5f88\u7b80\u5355\uff0cDP\u8981\u4fdd\u8bc1\u6b63\u786e\u6027\uff0c\u5c31\u8981\u4fdd\u8bc1\u6bcf\u9636\u6bb5\u7684\u51b3\u7b56\u90fd\u662f\u6700\u4f18\u89e3\uff0c\u7136\u800cdis[i,k]\u548cdis[k,j]\u672a\u5fc5\u5728dis[i,j]\u4e4b\u524d\u7b97\u51fa\uff0c\u56e0\u6b64\u4f1a\u5bfc\u81f4\u4e00\u79cd\u9519\u8bef\u3002\u8b6c\u5982\u4e0b\u56fe\u4e2d\uff0c\u4ece6\u52307\u7684\u6700\u77ed\u8def\u5f84\u672c\u662f6-1-5-4-1\uff0c\u4f46dis[7,5],dis[7,1]\u548cdis[7,4]\u5e76\u672a\u7b97\u51fa\uff0c\u4e8e\u662f\u904d\u5386\u4e861-7\u51e0\u4e2a\u4e2d\u8f6c\u70b9\u540e\uff0cdis[6,7]\u8fd8\u672a\u66f4\u65b0\u4e3a\u6700\u4f18\u89e3\uff0c\u5c31\u56e0\u4e3ai,j\u5728\u5faa\u73af\u5916\u90e8\u800c\u4e0d\u4f1a\u66f4\u65b0\u89e3\u4e86\u3002\n\n![](https://cdn.luogu.com.cn/upload/pic/75549.png)\n\n**\u5f17\u6d1b\u4f0a\u5fb7\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662fO\uff08N^3)\uff0c\u53ef\u4ee5\u5904\u7406\u8d1f\u8fb9\u6743\uff0c\u4e5f\u53ef\u4ee5\u6c42\u51fa\u6bcf\u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u6700\u77ed\u8def\u3002**\n\n\u53e6\u5916\uff0c\u5f17\u6d1b\u4f0a\u5fb7\u7b97\u6cd5\u8fd8\u53ef\u4ee5\u7528\u4e8e\u5224\u65ad\u4e24\u70b9\u4e4b\u95f4\u662f\u5426\u6709\u76f8\u8fde\u7684\u8def\uff1a\n```cpp\nmemset(dis,0,sizeof(dis));\nfor(int k=0;k<=9;k++)\n{\n\tfor(int i=0;i<=9;i++)\n\t{\n\t\tfor(int j=0;j<=9;j++)\n\t\t{\n\t\t\tif(dis[i][j] || (dis[i][k]&&dis[k][j])) dis[i][j]=1;\n\t\t}\n\t}\n}\n```\n\n\u7ec8\u4e8e\u8bb2\u5b8c\u5566\uff01\n\n**\u3010\u5f17\u6d1b\u4f0a\u5fb7\u7b97\u6cd5\u7684\u8fd0\u7528\u3011**\n\n\u56de\u5230\u672c\u9898\uff0c\u89c2\u5bdf\u8f93\u5165\u90e8\u5206\uff1a\n\nn k\n\nx_1 y_1 \n\nx_2 y_2\n\n... ...\n\nx_k y_k \n\n\u54a6\uff0c\u957f\u5f97\u6709\u70b9\u50cf\u56fe\u7684\u8f93\u5165\uff0c\u4ed4\u7ec6\u5206\u6790\u53ef\u4ee5\u53d1\u73b0\uff1a\u8fd9\u5c31\u662f\u4e00\u4e2a\u6709\u5411\u56fe\u5440\uff01\n\n\u4ee5\u8fd9\u6837\u4e00\u7ec4\u6570\u636e\u4e3a\u4f8b\uff0c\u53ef\u4ee5\u753b\u51fa\u8fd9\u6837\u7684\u56fe\uff08\u7bad\u5934\u8868\u793a\u6570\u5b57\u7684\u8f6c\u6362\u5173\u7cfb\uff09\uff1a\n\n12040 7\n\n1 2\n\n1 3\n\n4 1\n\n2 5\n\n5 3\n\n4 6\n\n6 0\n\n![](https://cdn.luogu.com.cn/upload/pic/75547.png)\n\n\u770b\u56fe\u53ef\u77e5\uff0c\n\n1\u53ef\u4ee5\u53d8\u62102\u30013,2\u53c8\u53ef\u4ee5\u53d8\u62105\uff0c\u5171\u67091\uff08\u4e0d\u53d8\uff09\u30012\u30013\u30015\u56db\u4e2a\u53ef\u80fd\u6570\u5b57\uff1b\n\n\u540c\u7406\uff0c2\u67092\u30015\u30013\u4e09\u4e2a\u53ef\u80fd\u6570\u5b57\u3002\n\n3\u4e0d\u80fd\u53d8\u6210\u5176\u4ed6\u6570\u5b57\uff0c\u53ea\u6709\u4e00\u4e2a\u53ef\u80fd\u6570\u5b57\u3002\n\n4\u53ef\u4ee5\u53d8\u62104\u30011\u30012\u30013\u30015\u4e94\u4e2a\u53ef\u80fd\u6570\u5b57\u3002\n\n5\u53ef\u4ee5\u53d8\u62105\u30013\u4e24\u4e2a\u53ef\u80fd\u6570\u5b57\u3002\n\n6\u4e0d\u80fd\u53d8\u6210\u5176\u4ed6\u6570\u5b57\uff0c\u53ea\u6709\u4e00\u4e2a\u53ef\u80fd\u6570\u5b57\u3002\n\n0\u53ef\u4ee5\u53d8\u62100\u30016\u4e24\u4e2a\u53ef\u80fd\u6570\u5b57\u3002\n\n\u572812040\u8fd9\u4e2a\u6570\u5b57\u4e2d\uff0c\u6bcf\u4e2a\u6570\u7801\u90fd\u53ef\u80fd\u53d8\u4e3a\u5bf9\u5e94\u7684\u53ef\u80fd\u6570\u5b57\uff0c\u6839\u636e\u4e58\u6cd5\u539f\u7406\uff0c\u5171\u67094\u00d73\u00d72\u00d75\u00d72=240\u79cd\u53ef\u80fd\u6570\u5b57\uff0c\u5e76\u4e14\u4e0d\u4f1a\u91cd\u590d\u3002\n\n**Q:\u6211\u4eec\u600e\u4e48\u627e\u51fa\u6bcf\u4e2a\u6570\u5b57\u5bf9\u5e94\u7684\u53ef\u80fd\u6570\u5b57\u5462\uff1f**\n\n**A\uff1a\u7528\u5f17\u6d1b\u4f0a\u5fb7\u7b97\u6cd5\u554a\uff01**\n\n\u5efa\u7acb\u4e00\u4e2a\u4e8c\u7ef4\u8868dis[10][10]\uff0cdis[i][j]=1\u8868\u793a\u6570\u5b57i\u53ef\u4ee5\u53d8\u6210\u6570\u5b57j\u3002\u90a3\u4e48\u5957\u7528\u521a\u521a\u7684\u4ee3\u7801\uff0c\u5c31\u53ef\u4ee5\u4e86\uff01\n\n\n\u53ef\u662f\u770b\u770b\u8fd9\u7ec4\u6570\u636e\uff1a\n\n222222 2\n\n1 2\n\n2 1\n\n\u731c\u731c\u521a\u521a\u7684\u4ee3\u7801\u4f1a\u6709\u4ec0\u4e48\u7ed3\u679c\uff1f\n\ndis[1]={0,1,1,0,0,0,0,0,0,0};\n\ndis[2]={0,1,1,0,0,0,0,0,0,0};\n\n\u662f\u7684\uff0cdis[i][i]=1\u662f\u4e0d\u5408\u6cd5\u7684\uff0c\u6211\u4eec\u8981\u5c06\u5b83\u6539\u4e3a0\u3002\n\n```cpp\nfor(int i=0;i<=9;i++)\n\tdis[i][i]=0; //\u81ea\u5df1\u4e0d\u80fd\u53d8\u56de\u81ea\u5df1 \n```\n**\u3010\u4ee3\u7801\u5b9e\u73b0\u3011**\n\n**Q:\u600e\u4e48\u77e5\u9053\u6bcf\u4e2a\u6570\u5b57\u53ef\u4ee5\u53d8\u6210\u591a\u5c11\u4e2a\u53ef\u80fd\u6570\u5b57\u5462\uff1f**\n\n**A:t[i]\u8868\u793ai\u80fd\u53d8\u6210\u591a\u5c11\u4e2a\u53ef\u80fd\u6570\u5b57\uff0ccheck[i]=1\u8868\u793a\u539f\u6570\u5b57\u4e2d\u6709\u8fd9\u4e2a\u6570\u7801\uff08\u8981\u4e0d\u7136\u4e0d\u80fd\u53d8\uff09\u3002check\u53ef\u4ee5\u5728\u8f93\u5165\u4e2d\u5b58\u50a8\uff08\u89c1\u8f93\u5165\u90e8\u5206\uff09\u3002\u5982\u4e0b\uff1a**\n\n```cpp\nfor(int i=0;i<=9;i++)  //\u679a\u4e3e\u521d\u59cb\u6570\u636e\n{\n\tint tmp=1;         //\u4e0d\u53d8\u4e3a1\u79cd\u65b9\u6848\n\tfor(int j=0;j<=9;j++)   //\u679a\u4e3e\u53d8\u6210\u7684\u6570\u5b57\n\t{\n\t\tif(dis[i][j] && check[i]) tmp++; //\u5982\u679ci\u53ef\u4ee5\u53d8\u6210j\uff0c\u5e76\u4e14\u539f\u6570\u5b57\u4e2d\u6709\u8fd9\u4e2a\u6570\u7801\uff0c\u5c31\u591a\u4e00\u79cd\u65b9\u6848\n\t}\n\tif(s[0]-'0'==i && dis[i][0]) tmp--;   //\u5904\u7406\u6700\u9ad8\u4f4d\u4e0d\u80fd\u53d8\u4e3a0\u7684\u60c5\u51b5 \n\tif(tmp) t[i]=tmp;  //\u5b58\u50a8i\u80fd\u53d8\u6210\u591a\u5c11\u4e2a\u53ef\u80fd\u6570\u5b57\n}\n```\n**Q:n\u670930\u4f4d\u6570\uff0c\u6700\u7ec8\u7b54\u6848\u4e5f\u53ef\u80fd\u5f88\u5927\uff0c\u600e\u4e48\u529e\uff1f**\n\n**A:\u9ad8\uff01\u7cbe\uff01\u5ea6\uff01**\n\n\u5176\u5b9e\u8fd9\u662f\u9ad8\u7cbe\u4e58\u4f4e\u7cbe\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u6570\u7801\u5bf9\u5e94\u7684\u53ef\u80fd\u6570\u5b57\u6700\u591a\u4e5f\u5c31\u662f10\u4e2a\u3002\n\n```cpp\nvoid times(int tmp)  //\u9ad8\u7cbe\u5ea6\u51fd\u6570\uff0c\u7528\u4e8e\u8ba1\u7b97\u7b54\u6848\n{\n\tint l=strlen(ans),x=0,cnt=0;   //x\u662f\u6bcf\u4e00\u4f4d\u7684\u5f97\u6570\uff0ccnt\u5b58\u50a8\u8fdb\u4f4d\u60c5\u51b5\n\tif(tmp==10)   //\u552f\u4e00\u7684\u4e24\u4f4d\u6570\u7279\u522b\u5904\u7406\n\t{\n\t\tfor(int i=l;i>0;i--) ans[i]=ans[i-1];  //\u6bcf\u4e00\u4f4d\u90fd\u8981\u524d\u8fdb\u4e00\u4f4d\n\t\tans[0]='0'; //\u672b\u5c3e\u88650\n    }\n    else\n\t{\n\t\tfor(int i=0;i<l;i++)  //\u6ce8\u610f\u9ad8\u7cbe\u5ea6\u7684\u6570\u5b57\u9006\u5e8f\u5b58\u50a8\n\t\t{\n\t\t\tx=(ans[i]-'0')*tmp+cnt;  //\u6bcf\u4e00\u4f4d\u90fd\u4e0e\u4e58\u6570\u76f8\u4e58\uff0c\u52a0\u4e0a\u524d\u4e00\u4f4d\u7684\u8fdb\u4f4d\n\t\t\tcnt=x;     //\u5b58\u4e00\u4e0b\u4ee5\u514dx%10\u540e\u4e22\u5931\u8fdb\u4f4d\n\t\t\tif(x>=10)\n\t\t\t{\n\t\t\t\tx%=10;\t//\u53ea\u4fdd\u7559\u4e2a\u4f4d\n\t\t\t}\n\t\t\tans[i]=x+'0';\n\t\t\tcnt=(cnt-x)/10;   //\u5269\u4e0b\u7684\u4ea4\u7ed9\u4e0b\u4e00\u4f4d\n\t\t}\n\t\tif(cnt) ans[l]=cnt+'0';  //\u5982\u679c\u4e58\u7b2c\u4e00\u4f4d\u540e\u8fd8\u6709\u8fdb\u4f4d\uff0c\u518d\u586b\u524d\u4e00\u4f4d\n\t}\n}\n```\n\n**Q:\u8f93\u5165\u8f93\u51fa\u600e\u4e48\u529e\uff1f**\n\n**A:\u4ee5\u5b57\u7b26\u4e32\u8f93\u5165\uff0c\u4ee5\u5b57\u7b26\u4e32\u8f93\u51fa\u3002**\n\n```cpp\nscanf(\"%s %d\",s,&K);  \nint L=strlen(s);\nfor(int i=0;i<L;i++) \n\tcheck[s[i]-'0']++;   //\u8bb0\u5f55\u6bcf\u4e00\u4e2a\u6570\u7801\u6709\u65e0\u51fa\u73b0\nans[0]='1';              //\u521d\u503c\u8981\u8d4b\u4e3a1\u800c\u4e0d\u662f0\nmemset(dis,0,sizeof(dis));  //\u5f17\u6d1b\u4f0a\u5fb7\u7b97\u6cd5\u8981\u521d\u59cb\u5316\uff0c\u517b\u6210\u597d\u4e60\u60ef\n\nfor(int i=1;i<=K;i++)\n{\n\tint a,b;\n\tcin>>a>>b;\n\tdis[a][b]=1;       //\u6ce8\u610f\u8fd9\u91cc\u5b58\u7684\u662f\u6709\u5411\u56fe\n} \n\nfor(int i=0;i<L;i++) \n    if(t[s[i]-'0'])    //0\u4e0d\u80fd\u4e58\u4e0a\u53bb\n        times(t[s[i]-'0']);  //\u4e58\u4e0a\u6570\u7801\u6240\u5bf9\u5e94\u7684\u53ef\u80fd\u6570\u5b57\u6570\u76ee\n\t\nint L_=strlen(ans);\nfor(int i=L_-1;i>=0;i--) cout<<ans[i];  //\u9006\u5e8f\u8f93\u51fa\n```\n\n\u7ecf\u5386\u8fd9\u4e48\u591a\u4ee5\u540e\uff0c\u6211\u4eec\u7ec8\u4e8e\u8fce\u6765\u4e86\u6700\u7231\u7684\n\n**\u3010AC\u4ee3\u7801\u3011**\n\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nchar ans[40],s[40];int K,check[10],dis[10][10],t[10];\n\nvoid times(int tmp)\n{\n\tint l=strlen(ans),x=0,cnt=0;\n\tif(tmp==10)\n\t{\n\t\tfor(int i=l;i>0;i--) ans[i]=ans[i-1];\n\t\tans[0]='0';\n    }\n    else\n\t{\n\t\tfor(int i=0;i<l;i++)\n\t\t{\n\t\t\tx=(ans[i]-'0')*tmp+cnt;\n\t\t\tcnt=x;\n\t\t\tif(x>=10)\n\t\t\t{\n\t\t\t\tx%=10;\t\n\t\t\t}\n\t\t\tans[i]=x+'0';\n\t\t\tcnt=(cnt-x)/10;\n\t\t}\n\t\tif(cnt) ans[l]=cnt+'0';\n\t}\n}\nint main()\n{\n\tscanf(\"%s %d\",s,&K);\n\tint L=strlen(s);\n\tfor(int i=0;i<L;i++) \n\t    check[s[i]-'0']++;\n\tans[0]='1';\n\tmemset(dis,0,sizeof(dis));\n\t\n\tfor(int i=1;i<=K;i++)\n\t{\n\t\tint a,b;\n\t\tcin>>a>>b;\n\t\tdis[a][b]=1;\n\t} \n\t\n\tfor(int k=0;k<=9;k++)\n\t{\n\t\tfor(int i=0;i<=9;i++)\n\t\t{\n\t\t\tfor(int j=0;j<=9;j++)\n\t\t\t{\n\t\t\t\tif(dis[i][j] || (dis[i][k]&&dis[k][j])) dis[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=0;i<=9;i++)\n\t\tdis[i][i]=0; //\u81ea\u5df1\u4e0d\u80fd\u53d8\u56de\u81ea\u5df1 \n\tfor(int i=0;i<=9;i++) \n\t{\n\t\tint tmp=1;\n\t\tfor(int j=0;j<=9;j++)\n\t\t{\n\t\t\tif(dis[i][j] && check[i]) tmp++;\n\t\t}\n\t\tif(s[0]-'0'==i && dis[i][0]) tmp--;//\u5904\u7406\u6700\u9ad8\u4f4d\u4e0d\u80fd\u53d8\u4e3a0\u7684\u60c5\u51b5 \n\t\tt[i]=tmp;\n\t}\n\tfor(int i=0;i<L;i++) if(t[s[i]-'0']) times(t[s[i]-'0']);\n\t\n\tint L_=strlen(ans);\n\tfor(int i=L_-1;i>=0;i--) cout<<ans[i];\n\treturn 0;\n}\n```\n\u4e0a\u9762\u7684\u7a0b\u5e8f\u7247\u6bb5\u5df2\u7ecf\u6709\u8be6\u7ec6\u6ce8\u91ca\u4e86\uff0c\u6211~~\u72af\u61d2~~\u5c31\u4e0d\u8d34\u4e86\u3002\n\n\u3010\u603b\u7ed3\u3011\n\n1\u3001\u5f17\u6d1b\u4f0a\u5fb7\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662fO\uff08N^3)\uff0c\u6570\u636e\u8303\u56f4\u5c0f\u4e8e500\u65f6\u9002\u7528\u3002\u53ef\u4ee5\u5904\u7406\u8d1f\u8fb9\u6743\u3002\u53ef\u4ee5\u6c42\u51fa\u6bcf\u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u6700\u77ed\u8def\uff0c\u9002\u7528\u4e8e\u591a\u6b21\u63d0\u95ee\u7684\u9898\u76ee\u3002\u5f17\u6d1b\u4f0a\u5fb7\u7b97\u6cd5\u8fd8\u53ef\u4ee5\u7528\u4e8e\u5224\u65ad\u4e24\u70b9\u4e4b\u95f4\u662f\u5426\u6709\u901a\u8def\u3002\u4e0d\u8981\u5fd8\u4e86k\u8981\u653e\u5728\u6700\u5916\u5c42\uff0c\u4e0d\u8981\u5fd8\u4e86\u521d\u59cb\u5316\u3002\n\n2\u3001\u56fe\u8bba\u9898\u76ee\u53ef\u80fd\u4f1a\u53d8\u51fa\u8bb8\u591a\u5f62\u5f0f\uff0c\u4f46\u662f\u6211\u4eec\u8981\u5584\u4e8e\u5728\u56fe\u7684\u7acb\u573a\u4e0a\u601d\u8003\uff0c\u600e\u6837\u628a\u9898\u76ee\u53d8\u6210\u56fe\uff1f\u6709\u4ec0\u4e48\u7b97\u6cd5\u53ef\u4ee5\u89e3\u51b3\uff1f\n\n3\u3001\u719f\u6089\u9ad8\u7cbe\u5ea6\u7684\u5199\u6cd5\u3002\n\nPS\uff1a\u7801\u5b57\u4e0d\u6613\uff0c\u5e0c\u671b\u652f\u6301\uff01",
        "postTime": 1567008348,
        "uid": 105297,
        "name": "\u8ba4\u771f\u7684Ben",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u7684\u5b9e\u8d28\u5e94\u8be5\u662f\u6392\u5217\u7ec4\u5408\uff0c\u53ea\u8981\u6c42\u51fa\u6bcf\u4e00\u4f4d\u7684\u6570\u5b57\u53ef\u4ee5\u8f6c\u6362\u6210\u7684\u6570\u5b57\u7684\u4e2a\u6570\u7684\u4e58\u79ef\u5373\u53ef\u3002\n\n\u672c\u9898\u4e00\u5171\u6709\u4e24\u4e2a\u96be\u70b9\uff0c\u7b2c\u4e00\u4e2a\u5c31\u662f\u6c42\u51fa\u6bcf\u4e00\u4f4d\u7684\u6570\u5b57\u53ef\u4ee5\u8f6c\u6362\u6210\u7684\u6570\u5b57\u7684\u4e2a\u6570\u3002\n\n\u8fd9\u4e00\u70b9\u53ef\u4ee5\u7528\u6700\u77ed\u8def\u5f84\u4e2d\u7684floyd\u6765\u5b9e\u73b0\uff0c\u7528\u4e8c\u7ef4\u6570\u7ec4a[i,j]\u6765\u8868\u793a\u6570\u5b57i\u662f\u5426\u53ef\u4ee5\u8f6c\u6362\u4e3a\u6570\u5b57j\uff0c\u6700\u540e\u8fdb\u884c\u7d2f\u52a0\u7edf\u8ba1\u3002\n\n\u9ad8\u7cbe\u5ea6\u53ef\u4ee5\u65e0\u9700\u7528\u5197\u957f\u7684\u4ee3\u7801\u5b9e\u73b0\uff0c\u53ea\u8981\u5148\u5c06ans\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e00\u4f4d\u4e0e\u5f85\u4e58\u6570\u5b57\u4e2a\u6570\u76f8\u4e58\uff0c\u518d\u4f9d\u6b21\u53d6\u6a21\u8fdb\u4f4d\u5373\u53ef\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff08\u62dc\u6258\u4e86\u4e00\u5b9a\u8981\u901a\u8fc7\u5ba1\u6838\u554aqwq\uff09\n\n\n```cpp\nvar\n  s:string;\n  ch:char;\n  p,i,j,k,x,y,n:longint;\n  f:array[0..9]of longint;\n  ans:array[0..101]of longint;\n  a:array[0..9,0..9]of longint;\n\nprocedure init;//\u9884\u5904\u7406\nbegin\n  readln(s);\n  p:=pos(' ',s);\n  val(copy(s,p+1,length(s)-p),n);\n  s:=copy(s,1,p-1);\n  for i:=1 to n do\n    begin\n      readln(x,y);\n      a[x,y]:=1;\n    end;\n  for k:=0 to 9 do\n    for i:=0 to 9 do\n      for j:=0 to 9 do\n        if(i<>j)and(j<>k)and(k<>i)and(a[i,k]+a[k,j]=2)then a[i,j]:=1;//floyd\u7b97\u6cd5\n  for i:=0 to 9 do\n    for j:=0 to 9 do\n      f[i]:=f[i]+a[i,j];//\u7edf\u8ba1\u6bcf\u4e00\u4f4d\u53ef\u8f6c\u5316\u6570\u5b57\u7684\u4e2a\u6570\nend;\n\nprocedure times(x:longint);//\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\nvar\n  i:longint;\nbegin\n  for i:=1 to 100 do ans[i]:=ans[i]*x;\n  for i:=1 to 100 do\n    begin\n      ans[i+1]:=ans[i+1]+ans[i] div 10;\n      ans[i]:=ans[i] mod 10;\n    end;\nend;\n\nprocedure work;\nbegin\n  ans[1]:=1;\n  for i:=1 to length(s) do times(f[ord(s[i])-48]+1);//\u7d2f\u4e58\n  k:=100;\n  while ans[k]=0 do dec(k);//\u53bb\u9664\u9996\u4f4d\u76840\n  for i:=k downto 1 do write(ans[i]);\nend;\n\nbegin\n  init;\n  work;\nend.\n\n```",
        "postTime": 1509632722,
        "uid": 12191,
        "name": "\uff43\uff48\uff49\uff4c\uff4c",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u5927\u5bb6\u4e00\u5b9a\u8981\u6ce8\u610f\u8fd9\u4e2a\u9898\u76ee\u7684\u53d6\u503c\u8303\u56f4\uff0c\u5927\u4e8e0\u5c0f\u4e8e10^31\u662f\u8981\u8d85\u51falong long\u7684\u8303\u56f4\u7684\uff0c\u6240\u4ee5\u8fd9\u91cc\u6211\u4eec\u53ea\u80fd\u7528\u9ad8\u7cbe\u4f5c\uff0c\u540c\u65f6\u4e00\u5b9a\u8981\u6ce8\u610f\u5c06\u88ab\u8f6c\u5316\u7684\u6570\u5b57\u548c\u5c06\u8f6c\u5316\u7684\u6570\u5b57\u7684\u8054\u7cfb\u3002\u4e0d\u591a\u8bf4\u4e86\uff0c\u770b\u9898\u89e3\u5427\u3002\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint cng[10][11],num[10];\n  //cng[i][j]\u4ee3\u8868\u6570\u5b57i\u7684\u7b2cj\u79cd\u53d8\u6cd5\u662f\u4ec0\u4e48\uff0cnum[i]\u4ee3\u8868\u6570\u5b57i\u6709\u591a\u5c11\u53d8\u6cd5 \uff08\u8fd9\u91cc\u6ca1\u5305\u62ec\u5b83\u81ea\u5df1\uff09\u6240\u4ee5\u7b2c37\u884c\u5f97\u52a01 \nint n[35],ans[35];//ans\u6700\u5927\u662f10\u768430\u6b21\u65b9 \nint k,a,b,len=0;\nchar x;\nbool find(int x,int y){//\u627e\u6570\u5b57x\u662f\u5426\u5df2\u7ecf\u6709y\u8fd9\u79cd\u53d8\u6cd5 \n    for(int i=1;i<=num[x];i++)\n        if(cng[x][i]==y) return 1;\n    if(x==y) return 1;//\u5df2\u7ecf\u6709\u6216\u8005\u662f\u5176\u672c\u8eab\u8fd4\u56de1 \n    return 0;\n}\nint main(){\n    while(scanf(\"%c\",&x)&&x!=' ')\n    n[++len]=x-48; //\u5c06\u5b57\u7b26\u578b\u8f6c\u53d8\u4e3a\u771f\u6b63\u7684\u6570\u5b57   \n    cin>>k;\n    for(int i=1;i<=k;i++){\n        scanf(\"%d%d\",&a,&b);\n        cng[a][++num[a]]=b;\n    }\n    //\u5bf9i\u7684\u4e00\u79cd\u53d8\u6cd5\u627e\u5b83\u6709\u7684\u53d8\u6cd5\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5728i\u7684\u53d8\u6cd5\u4e2d\uff0c\u5219\u52a0\u4e0a\u5b83\uff0cnum[i]+1; \n    for(int i=0;i<=9;i++)\n           for(int j=1;j<=num[i];j++)//\u6b64\u4e3aa\u5904 \n            for(int k=1;k<=num[cng[i][j]];k++)\n                if(!find(i,cng[cng[i][j]][k])) \n                    cng[i][++num[i]]=cng[cng[i][j]][k]; \n                    //\u6b64\u5904\u589e\u52a0\u7acb\u523b\u4f7f\u5f97num[i]\u589e\u957f\uff0ca\u5904\u53d1\u751f\u53d8\u5316    \n    //\u4e0b\u9762\u662f\u9ad8\u7cbe\u5ea6 \n    ans[0]=1;\n    for(int i=1;i<=len;i++){\n        int d=n[i],p=0;\n        if(num[d]){\n            for(int i=0;i<=31;i++){\n                ans[i]=ans[i]*(num[d]+1)+p;//\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6570\u5b57\uff0c\u4e58\u5b83\u7684\u53d8\u6cd5\u6570\n                p=ans[i]/10;//\u5bf9\u6570\u53d6\u4f59\u7684\u7559\u4e0b\uff0c\u6574\u9664\u7684\u8fdb\u4e0a\u53bb \n                ans[i]%=10;\n            }\n        }\n    }\n    bool ok=0;\n    for(int i=31;i>=0;i--)\n        if(ans[i]||ok){//\u5012\u7740\u8fc7\u6ee4\uff0c\u4ece\u7b2c\u4e00\u4e2a\u4e0d\u662f0\u7684\u6570\u5f00\u59cb\u8f93\u51fa\uff0c\u4ee5\u524d\u76840\u53bb\u6389 \n            ok=1;\n            cout<<ans[i];\n        }\n    return 0;\n}\n```\n/\\*\n\u4ee5\u4e0b\u662f\u8d34\u5fc3\u7684\u6d4b\u8bd5\u6570\u636e\u3002\u3002\u3002\u3002\n\n234\n2\n2 5\n3 6\n\n\n\n\n\\*/",
        "postTime": 1509458117,
        "uid": 64217,
        "name": "\u98ce\u884c\u54e5",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u603b\u601d\u8def:\u6df1\u641c\u7b97\u51fa\u6bcf\u4e00\u4f4d\u6570\u53ef\u4ee5\u53d8\u6210\u591a\u5c11\u79cd\u60c5\u51b5\uff0c\u5229\u7528\u4e58\u6cd5\u539f\u7406\uff0c\u5f97\u51fa\u7ed3\u679c\n```cpp\n#include<cstdio>\n#include<cstring>\nint z,ans=1,k;\nint a[44],b[44];//\u4ecea[i]\u53d8\u5230b[i] \nint t[5000];//\u8ba1\u7b97\u6bcf\u4e00\u4f4d\u6570\u5b57\u53ef\u4ee5\u53d8\u5316\u591a\u5c11\u79cd\u60c5\u51b5 \nbool v[11];//\u53bb\u91cd \nchar s[5000];\nvoid dfs(int e)\n{\n\tfor(int i=1;i<=k;i++)\n\t{\n\t\tif(!v[b[i]]&&a[i]==e)//\u5224\u65ad\u80fd\u5426\u53d8\u5316 \n\t\t{\n\t\t\tz++;\n\t\t\tv[b[i]]=true;//\u53bb\u91cd \n\t\t\tdfs(b[i]);//\u5bfb\u627e\u4e0b\u4e00\u4e2a\u6570\u5b57 \n\t\t}\n\t}\n}\nint main()\n{\n\tscanf(\"%s\",s); scanf(\"%d\",&k);\n\tfor(int i=1;i<=k;i++)\n\tscanf(\"%d%d\",&a[i],&b[i]);\n\tint l=strlen(s);\n\tfor(int i=0;i<l;i++)\n\t{\n\t\tz=0;\n\t\tint c=s[i]=s[i]-'0';\n\t\tmemset(v,false,sizeof(v));\n\t\tv[c]=true;\n\t\tdfs(c);\n\t\tt[i]=1+z;//\u672c\u8eab\u4e5f\u6709\u4e00\u79cd\u60c5\u51b5 \n\t}\n\t//\u9ad8\u7cbe\u5ea6 \n\tint k[500][500];\n\tmemset(k,0,sizeof(k));\n\tfor(int i=l;i>=1;i--)\n\tt[i]=t[i-1];\n\tk[1][0]=1;k[2][0]=1;\n\tk[1][1]=t[1];\n\tfor(int i=2;i<=l;i++)\n\t{\n\t\tk[i][0]=k[i-1][0];\n\t\tint x=0;\n\t\tfor(int j=1;j<=k[i][0];j++)\n\t\t{\n\t\t\tk[i][j]=k[i-1][j]*t[i]+x;\n\t\t\tx=k[i][j]/10;\n\t\t\tif(k[i][j]>=10)\n\t\t\t\tk[i][j]%=10;\n\t\t}\n\t\tif(x){\n\t\t\tk[i][0]++;\n\t\t\tk[i][k[i][0]]=x;\n\t\t}\n\t}\n\tfor(int i=k[l][0];i>=1;i--)\n\t\tprintf(\"%d\",k[l][i]);\n}\n```\n[\u8bc4\u6d4b\u7ed3\u679c](https://www.luogu.org/recordnew/show/18269299)",
        "postTime": 1555407307,
        "uid": 149769,
        "name": "Zkxxxv_h",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "~~\u8c8c\u4f3c\u90fd\u662f\u7528**\u5f17\u6d1b\u4f9d\u5fb7**\u5199\u7684~~\n\n\u6211\u7528\u7684**DFS\u641c\u7d22**\u7684\u65b9\u6cd5\n([\u5b66\u957f](https://www.luogu.org/space/show?uid=85348)\u6559\u7684)\n\n\u9996\u5148\u901a\u8fc7\u5b57\u7b26\u4e32\u8bfb\u5165\u6765\u8bfb\u5165\u8fd9\u4e2a\u6570\u5b57\u3002\n\n\u7136\u540e\u5bf9\u6bcf\u4e00\u4f4d\u6570\u5b57\u8fdb\u884cDFS\n\n\u6bcf\u641c\u7d22\u5230\u4e00\u4e2a\u6570\u5b57\u8ba1\u6570\u5668\u52a0\u4e00\u3002\n\n\u6700\u540e\u6839\u636e\u5206\u6b65\u8ba1\u7b97\u539f\u7406\uff0c\u5c06\u6bcf\u4f4d\u6570\u53ef\u6269\u5c55\u7684\u6570\u8fdb\u884c\u76f8\u4e58\u8f93\u51fa\u5373\u53ef\u3002\n\n\u5b66\u957f\u8bf4\u7b2c\u56db\u3001\u7b2c\u4e94\u7ec4\u6570\u636e\u8f83\u5927\u597d\u4e45\u6ca1\u6709\u5199\u9ad8\u7cbe\u5ea6\u5199\u6302\u4e86\u597d\u51e0\u6b21\uff0c\n\n\u6240\u4ee5\u6211\u5c31\u53c8\u52a0\u4e86\u4e2a\u9ad8\u7cbe\u3002\n\n```cpp\n\n#include<bits/stdc++.h>\nusing namespace std;  \n/*char buf[1<<15],*fs,*ft;\ninline char getc(){return (fs==ft&&(ft=(fs=buf)+fread(buf,1,1<<15,stdin),fs==ft))?0:*fs++;}*/\ninline int read()//\u5feb\u8bfb \n{ \n    int x=0,f=1;char c=getchar();\n    while(!isdigit(c)){if(c=='-')f=-1;c=getchar();} \n    while(isdigit(c)){x=x*10+c-48;c=getchar();}\n    return x*f;\n}\n\ninline void put(int x)//\u5feb\u5199 \n{\n     if(x<0) putchar('-'),x=-x;\n     if(x>9) put(x/10);\n     putchar(x%10+'0');\n}\n\nstring num;\nint k,a[20],b[20],ans,sum[30];//ans\u6bcf\u4e00\u4f4d\u53ef\u4ee5\u6269\u5c55\u591a\u5c11\u4e2a\u6570\u5b57\nbool vis[10];//vis\u8bb0\u5f55\u5f53\u524d\u6570\u5b57\u6709\u6ca1\u6709\u88ab\u641c\u8fc7\n\ninline void gao(int a[],int b)//\u4f4e\u7cbe\u5ea6\u4e58\u9ad8\u7cbe\u5ea6,\u5b66\u957f\u6559\u7684 \n{\n\tfor(int i=1;i<=a[0];i++)\n\t\ta[i]*=b;\n\tfor(int i=1;i<=a[0];i++)\n\t{\n\t\tif(a[i]>=10)\n\t\t{\n\t\t\ta[i+1]+=a[i]/10;\n\t\t\ta[i]%=10;\n\t\t\tif(i==a[0]) a[0]++;\n\t\t}\n\t}\n}\n\ninline void dfs(int x)\n{\n\tvis[x]=1;//\u5c06\u641c\u5230\u7684\u505a\u6807\u8bb0 \n\tans++;\n\tfor(int i=1;i<=k;i++)\n\t\tif(a[i]==x&&!vis[b[i]])\n\t\tdfs(b[i]);//\u5982\u679c\u7b26\u5408\u4e14\u672a\u88ab\u641c\u7d22\n}\n\n\nint main()\n{\n\tcin>>num;//\u7528scanf\u8bfb\u5165\u8001\u6709\u95ee\u9898 \n\tk=read();\n\tsum[0]=1;\n\tsum[1]=1;\n\tfor(int i=1;i<=k;i++)\n\t{\n\t\ta[i]=read();\n\t\tb[i]=read();\n\t}\n\tfor(int i=0;i<num.size();i++)\n\t{\n\t\tdfs(num[i]-'0');\n\t\tgao(sum,ans);\n\t\tmemset(vis,0,sizeof(vis));//\u6d88\u9664\u5f71\u54cd \n\t\tans=0;\n\t}\n\tfor(int i=sum[0];i>=1;i--)\n\t put(sum[i]);\n\treturn 0;\n}\n```",
        "postTime": 1546578499,
        "uid": 126772,
        "name": "\u53f6\u67ab",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u770b\u6837\u5b50\u8fd8\u6ca1\u6709\u91cd\u590d\u7684\uff0c\u6211\u6765\u5199\u4e00\u4e2a\u4e0d\u9700\u8981\u9ad8\u7cbe\u5ea6\u7684\u3002\n\n\u601d\u8def\uff1a\u6bcf\u6b21\u8ba1\u7b97\u5f53\u524d\u4f4d\u7f6e\u53ef\u4ee5\u66ff\u6362\u7684\u6570\u76ee\uff0c\u4e58\u8d77\u6765\u3002\u5229\u7528set\u53bb\u91cd\uff0c\u5229\u7528multimap\u5b58\u50a8\u6620\u5c04\uff0c\u5229\u7528\u961f\u5217\u6765\u5b58\u50a8\u72b6\u6001\uff0c\u4e5f\u5c31\u662fspfa\u7b97\u6cd5\u3002\u5b9e\u9645\u4e0a\u53ef\u4ee5\u7f13\u5b58\u6bcf\u4e00\u4f4d\u6570\u7684\u53ef\u66ff\u6362\u7684\u6570\u76ee\uff0c\u8fd9\u9053\u9898\u4e0d\u5361\u8fd9\u4e2a\uff0c\u5c31\u4e0d\u5199\u4e86\u3002\n\n> **\u8b66\u544a**\uff1a long double \u6709\u6548\u7cbe\u5ea6\u5927\u6982\u670918\u4f4d\u5341\u8fdb\u5236\u6570\uff0c\u4f46\u662f\u8868\u8fbe\u7684\u8303\u56f4\u7279\u522b\u5927\uff0c\u8fd9\u9053\u9898\u6700\u540e\u4e00\u4e2a\u70b9\u7eaf\u5c5e\u8499\u6df7\u8fc7\u5173\uff0c\u5b9e\u9645\u5e94\u7528\u4e2d\u9700\u8981\u8003\u8651\u662f\u5426\u9700\u8981\u5927\u4e8e18\u4f4d\u6570\u7684\u7cbe\u5ea6\uff0c\u662f\u7684\u8bdd\uff0c\u8001\u8001\u5b9e\u5b9e\u5199\u9ad8\u7cbe\u5ea6\u5427\u3002\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\n\nmultimap<char, char> m;\nint spfa(char n)\n{\n\tset<char> s;\n\tqueue<char> q;\n\tq.push ( n );\n\ts.insert ( n );\n\twhile ( !q.empty() )\n\t{\n\t\tchar c = q.front();\n\t\tq.pop();\n\t\tfor ( multimap<char, char>::iterator it = m.begin(), end = m.end(); it != end; ++it )\n\t\t{\n\t\t\tif ( c == it->first && !s.count ( it->second ) )\n\t\t\t{\n\t\t\t\ts.insert ( it->second );\n\t\t\t\tq.push ( it->second );\n\t\t\t\t//cout << ns << endl;\n\t\t\t}\n\t\t}\n\t}\n\treturn s.size();\n}\n\nint main()\n{\n\tint k;\n\tstring n;\n\tcin >> n >> k;\n\twhile ( k-- )\n\t{\n\t\tchar a, b;\n\t\tcin >> a >> b;\n\t\tm.insert(make_pair(a, b));\n\t\t//cout << a << \"->\" << b << endl;\n\t}\n\tlong double ans = 1;\n\tfor(int i = 0; i < n.size(); ++i)\n\t\tans *= spfa(n[i]);\n\tprintf(\"%.0Lf\\n\", ans);\n}\n```",
        "postTime": 1537269143,
        "uid": 61724,
        "name": "\u90b1\u6c5f\u5764",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "# \u770b\u4e86\u9898\u89e3\u597d\u50cf\u6ca1\u6709j**ava**\u7684\uff0c\u90a3\u6211\u6765\u53d1\u4e00\u7bc7\u5427 \n\n\n------------\n\u9898\u76ee\u610f\u601d\u548c\u5199\u6cd5\u5e94\u8be5\u90fd\u5f88\u663e\u7136\u4e86 ~~\u4e0d\u591a\u8bf4~~ \u76f4\u63a5\u8d34**\u4ee3\u7801**\n\n\n------------\n\n\u6bd5\u7adfjava\u7684\u9ad8\u7cbe\u5f88\u65b9\u4fbf\n```\n------------\n\nimport java.math.BigInteger;\n\n\n------------\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        int a[][]=new int [11][11];\n        Scanner in =new Scanner(System.in);\n        String str = in.next();\n        int n=in.nextInt();\n        for(int i=0;i<=9;i++) {\n            for(int j=0;j<=9;j++) {\n                a[i][j]=919199919;\n                a[i][i]=1;\n            }\n        }\n        for(int i=1;i<=n;i++) {\n            int x,y;\n            x=in.nextInt();y=in.nextInt();\n            a[x][y]=1;\n        }\n        for(int k=0;k<=9;k++) {\n            for(int i=0;i<=9;i++) {\n                for(int j=0;j<=9;j++) {\n                    if(j==0)a[i][j]=919199919;\n                    else a[i][j]=Math.min(a[i][j],a[i][k]+a[k][j]);\n                }\n            }\n        }\n        int num[]=new int [11];\n        for(int i=0;i<=9;i++) {\n            for(int j=0;j<=9;j++) {\n                if(a[i][j]<100000) {\n                    num[i]++;\n                }\n            }\n            //System.out.println(num[i]);\n        }\n        num[0]++;\n        char[] ch = str.toCharArray();\n        BigInteger ans=new BigInteger(\"1\");\n        for(int i=0;i<str.length();i++) {\n            BigInteger cnt=new BigInteger(num[ch[i]-'0']+\"\");\n            ans=ans.multiply(cnt);\n        }\n        System.out.println(ans);\n    }\n\n}\n",
        "postTime": 1525610572,
        "uid": 77937,
        "name": "sram",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u4f9d\u6b21\u770b\u6bcf\u4e00\u4f4d\u80fd\u53d8\u6210\u591a\u5c11\u4e2a\u6570\u5b57\uff0c\u7136\u540e\u7528\u4e58\u6cd5\u539f\u7406\uff0c\u4e58\u8d77\u6765\u3002\n\n```cpp\n\n#include<iostream>\nusing namespace std;\nchar s[30],c[15][2];\nint k,i,j,jj,f,ans[23]={1};\nint main()\n{\n    for(cin>>s>>k;i<k;i++)cin>>*c[i]>>c[i][1],*c[i]-='0',c[i][1]-='0';\n    for(i=0;s[i];i++){\n        f=1<<s[i]-'0';//\u8fd9\u4e00\u4f4d\u539f\u6765\u7684\u6570\u5148\u6807\u8bb0\u4e0a\n        for(jj=0;jj<9;jj++)\n            for(j=0;j<k;j++)\n                if(f&1<<*c[j])f|=1<<c[j][1];//\u5982\u679c\u80fd\u8fbe\u5230\u89c4\u5219\u5de6\u8fb9\u7684\u6570\uff0c\u5219\u6807\u8bb0\u53f3\u8fb9\u7684\u6570\u4e5f\u53ef\u8fbe\u5230\n        for(jj=0;f;jj++,f&=f-1);//\u8ba1\u7b97f\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e2d1\u7684\u4e2a\u6570\n        //f&=f-1\u7684\u4f5c\u7528\u662f\u5c06f\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e2d\u6700\u53f3\u8fb9\u76841\u53d8\u4e3a0\n        if(jj>1){\n            for(j=0;j<22;j++)ans[j]*=jj;\n            for(j=0;j<22;j++)ans[j+1]+=ans[j]/10,ans[j]%=10;\n        }\n    }\n    for(i=22;!ans[i];i--);\n    while(putchar(ans[i]+'0'),--i>=0);\n    \n    return 0;\n}\n\n```",
        "postTime": 1445576615,
        "uid": 7487,
        "name": "plazum",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "#### tarjan:\u6ca1\u4eba\u5199\u6211\uff0cbaobao\u4e0d\u9ad8\u5174\u4e86QWQ\n\n#### \u62d3\u6251\u6392\u5e8f\uff1a\u90a3\u6211\u600e\u4e48\u529e\uff1fQAQ\n\n#### \u9ad8\u7cbe\uff1a\u8fd9\u9053\u9898\u820d\u6211\u5176\u8c01\uff1fO(\u2229_\u2229)O\n\n\u4e3a\u4e86\u6ee1\u8db3\u4ee5\u4e0a\u7b97\u6cd5\u7684\u5c0f\u60c5\u7eea\uff0c\u6211\u4eec\u6765\u5f00\u53d1\u4e00\u4e0b\u8fd9\u9053\u9898\u3002\n\n#### for--tarjan\uff1a\u4f7f\u6570\u5b57\u4eec\u62b1\u56e2\u53d6\u6696\uff08\u4e3e\u4e2a\u6817\u5b50\uff1aA->B  B->C  C->A  \u5219A,B,C\u53ef\u4ee5\u62b1\u56e2\uff09\n\n#### for--\u62d3\u6251\uff1a\u5efa\u7acb\u53cd\u56fe\uff0c\u6765\u770b\u4e00\u4e2a\u70b9\u4f1a\u6709\u591a\u5c11\u79cd\u53d8\u5316\uff08\u770b\u621172\u53d8emmm\uff09\n\n#### for--\u9ad8\u7cbe\uff1a\u5904\u7406\u6700\u7ec8\u7ed3\u679c\uff0c\u5c3d\u7ba1\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u70b9\u7528\u7684\u5230\n\n148\u884c\u4ee3\u7801\u2026\u2026\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint k,cnt,l,t,tot;\nint num[11],pos[35],w[11],dfn[11],low[11],vis[11],bel[11],siz[11],team[11];\nint rd[11];\nint ans[30005];\nbool once[11][11];//\u6ce8\u610f\u91cd\u8fb9\nchar s[35];\nstruct node//\u94fe\u8868\n{\n\tint x,y,next;\n};\nnode road[20];\nnode rich[20];//\u91cd\u65b0\u5efa\u8fb9\ninline int read()//\u8bfb\u5165\u4f18\u5316\n{\n\tint x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch>'9'||ch<'0')\n\t{\n\t\tif(ch=='-') f=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t\tx=(x<<3)+(x<<1)+ch-48;\n\t\tch=getchar();\n\t}\n\treturn x*f;\n}\ninline void add(int u,int v)//\u7b2c\u4e00\u6b21\u5efa\u8fb9\n{\n\troad[++cnt].y=v;road[cnt].next=num[u];\n\tnum[u]=cnt;road[cnt].x=u;\n}\ninline void dfs(int u)//tarjan\n{\n\tint v;vis[u]=1;\n\tdfn[u]=low[u]=++tot;\n\tteam[++cnt]=u;\n\tfor(int i=num[u];i;i=road[i].next)\n\t{\n\t\tv=road[i].y;\n\t\tif(!vis[v])\n\t\tdfs(v);\n\t\tif(vis[v]!=2)\n\t\tlow[u]=min(low[u],low[v]);\n\t}\n\tif(low[u]==dfn[u])\n\t{\n\t\t++t;v=10;\n\t\twhile(v!=u)\n\t\t{\n\t\t\tv=team[cnt--];\n\t\t\tbel[v]=t;++siz[t];vis[v]=2;\n\t\t}\n\t}\n}\ninline void tarjan()//tarjan\n{\n\tcnt=0;\n\tfor(int i=0;i<=9;++i)\n\tif(vis[i]!=2)\n\tdfs(i);\n}\ninline void addage(int u,int v)//\u4e8c\u6b21\u5efa\u8fb9\n{\n\trich[++cnt].y=v;rich[cnt].next=num[u];\n\tnum[u]=cnt;\n}\ninline void build()//\u4e8c\u6b21\u5efa\u8fb9\n{\n\tint u,v;\n\tfor(int i=1;i<=k;++i)\n\t{\n\t\tu=road[i].x;v=road[i].y;\n\t\tu=bel[u];v=bel[v];\n\t\tif(u!=v&&!once[u][v])\n\t\t{\n\t\t\tonce[u][v]=true;//\u9632\u6b62\u5efa\u91cd\u8fb9\n\t\t\taddage(v,u);\n\t\t\t++rd[u];\n\t\t}\n\t}\n}\nvoid topsort()//\u62d3\u6251\n{\n\tint head=0,tail=0;\n\tfor(int i=1;i<=t;++i)\n\t\tif(!rd[i])\n\t\t\tteam[++tail]=i;\n\tint u,v;\n\twhile(head<tail)\n\t{\n\t\tu=team[++head];\n\t\tw[u]+=siz[u];\n\t\tfor(int i=num[u];i;i=rich[i].next)\n\t\t{\n\t\t\tv=rich[i].y;\n\t\t\t--rd[v];\n\t\t\tw[v]+=w[u];\n\t\t\tif(!rd[v])\n\t\t\tteam[++tail]=v;\n\t\t}\n\t}\n}\nint main()\n{\n\tscanf(\"%s\",s);\n\tl=strlen(s)-1;\n\tk=read();\n\tint u,v;\n\tfor(int i=1;i<=k;++i)\n\t{\n\t\tu=read();v=read();\n\t\tadd(u,v);\n\t}\n\ttarjan();\n\tmemset(num,0,sizeof(num));\n\tmemset(vis,0,sizeof(vis));\n\tcnt=0;\n\tbuild();\n\ttopsort();\n\tcnt=1;ans[1]=w[bel[s[0]-48]];\n\tif(ans[1]==10)\n\t{\n\t\tans[1]=0;ans[2]=1;cnt=2;\n\t}\n\tint jz;\n\tfor(int j=1;j<=l;++j)//\u9ad8\u7cbe\n\t{\n\t\tu=s[j]-48;jz=0;\n\t\tu=bel[u];\n\t\tfor(int i=1;i<=cnt;++i)\n\t\t{\n\t\t\tans[i]=ans[i]*w[u]+jz;\n\t\t\tif(i==cnt&&ans[i]>=10)\n\t\t\t\t++cnt;\n\t\t\tjz=ans[i]/10;\n\t\t\tans[i]%=10;\n\t\t}\n\t}\n\tfor(int i=cnt;i>=1;--i)\n\tprintf(\"%d\",ans[i]);\n\treturn 0;\n}\n```",
        "postTime": 1535460517,
        "uid": 64464,
        "name": "Vermouth_1412",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "$\\colorbox{white}{\\color{white}\u8fd9\u4e24\u5929\u8fd0\u6c14\u7206\u68da\uff0c\u4e0d\u5149AC300\u8fd8\u7ea2\u540d\u4e86\uff0c\u5c31\u6765\u5199\u7bc7\u9898\u89e3\u5427} $\n\n\u8fd9\u4e2a\u9898\u867d\u7136\u8868\u9762\u4e0a\u770b\u662f\u6df1\u641c\uff0c\u5176\u5b9e\u4ed6\u5c31\u662f\u4e2a\u6df1\u641c\u2014\u2014\u4e0d\u8fc7\uff0c\u8fd9\u4e2a\u9898\u7684\u7efc\u5408\u6027\u8fd8\u662f\u86ee\u9ad8\u7684\uff0c\u5355\u7528\u6df1\u641c\u80af\u5b9a\u4e0d\u80fdAC \u522b\u6025\uff0c\u54b1\u4eec\u6162\u6162\u8bb2\uff0c\u8ba9\u6211\u4eec\u4e00\u8d77A\u6389\u8fd9\u9053\u9898\uff01\n\n\u770b\u5230\u8fd9\u4e2a\u9898\uff0c\u6211\u4e00\u5f00\u59cb\u4e5f\u662f\u8fd9\u4e48\u60f3\u7684\uff1a\u4e0d\u5c31\u662f\u6df1\u641c\u561b\uff01\u4e8e\u662f\u6211\u5c31\u7f16\uff08\u675c\uff09\u5199\uff08\u64b0\uff09\u4e86\u8fd9\u6837\u4e00\u6bb5\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<map>\nusing namespace std;\nbool a[15][15];//a[x][y]=1\u8868\u793a\u53ef\u4ee5\u628ax\u6362\u6210y\nint ans,n;\nmap<string,bool> vis;//\u7edf\u8ba1\u6bcf\u4e00\u4e2a\u6570\u5b57\u6709\u6ca1\u6709\u51fa\u73b0\u8fc7\nvoid dfs(string s){//\u56e0\u4e3a\u6570\u5f88\u5927\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528string\u5b58\n\tif(!vis[s])ans++;//\u7edf\u8ba1\u7b54\u6848\n\tvis[s]=1;//\u66f4\u65b0vis\n\tfor(int i=1;i<=9;i++){//\u4ece1\u52309\u5f00\u59cb\u627e\n\t\tint pos=s.find(char(i+'0'));//\u627e\u5230\u51fa\u73b0\u7684\u4f4d\u7f6e\n\t\tif(pos!=-1){//\u5982\u679c\u627e\u5f97\u5230\uff08\u6ce8\u610f\u662f-1\uff09\n\t\t\tfor(int j=1;j<=9;j++){//\u4ece\u76ee\u6807\u72b6\u60011~9\u679a\u4e3e\n\t\t\t\tif(a[i][j]){//\u5982\u679c\u627e\u5230\u53ef\u4ee5\u53d8\u6362\u7684\u4e86\n\t\t\t\t\tstring ss=s;\n\t\t\t\t\tss[pos]=(char)(j+'0');//\u53d8\u6362\n\t\t\t\t\tdfs(ss);\t//\u7ee7\u7eed\u6df1\u641c\n\t\t\t\t}\t\n\t\t\t}\n\t\t}\n\t}\n}\nint main(){\n\tstring s;\n\tcin>>s>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tint x,y;\n\t\tcin>>x>>y;\n\t\ta[x][y]=1;//\u5904\u7406A\u6570\u7ec4\n\t}\n\tdfs(s);//\u641c\u7d22\n\tcout<<ans;\n\treturn 0;\n} \n```\n\u8fd9\u4e2a\u65b9\u6cd5\u786e\u5b9e\u662f\u5bf9\u7684\uff0c\u7136\u800c\u4ea4\u4e0a\u53bb\u4e4b\u540e......\n\n[\u6211\u5565\u4e5f\u4e0d\u60f3\u8bf4\uff0c\u4f60\u81ea\u5df1\u770b](https://www.luogu.com.cn/record/30516036)\n\n\u770b\u6765\u8fd9\u9898\u7eaf\u66b4\u529b\u7684\u641c\u7d22\u662f\u4e0d\u5f73\u4e8d\u7684\uff0c\u90a3\u6709\u4ec0\u4e48\u597d\u65b9\u6cd5\u5462\uff1f\uff1f\u6211\u662f\u601d\u6765\u60f3\u53bb\uff0c\u600e\u4e48\u4e5f\u6ca1\u60f3\u5230\uff0c\u6700\u540e\u53ea\u597d\u9ed8\u9ed8\u5730\u70b9\u5f00\u4e86\u201c[\u67e5\u770b\u9898\u89e3](https://www.luogu.com.cn/problemnew/solution/P1037)\u201d\n\n\u987f\u65f6\uff0c\u201c**\u4e00\u4f4d\u4e00\u4f4d\u5730\u53d8**\u201d\u201c**\u4e58\u6cd5\u539f\u7406**\u201d\u7b49\u8bcd\u8bed\uff0c\u77ac\u95f4\u6620\u5165\u773c\u5e18\uff0c\u539f\u6765\u5982\u6b64\uff01\u6211\u4eec\u53ef\u4ee5\u6309\u7167\u6bcf\u4e00\u4f4d\u53bb\u53d8\u5316\uff0c\u518d\u628a**\u53d8\u5316\u6bcf\u4e00\u4f4d\u53ef\u4ee5\u5f97\u5230\u7684\u65b9\u6848\u6570\u76f8\u4e58**\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u7b54\u6848\u5566\uff01\n\n\u4e0d\u8fc7\uff0c\u5728\u7f16\u65b0\u7684\u4ee3\u7801\u4e4b\u524d\uff0c\u6211\u53c8\u6253\u91cf\u4e86\u4e00\u4e0ba\u6570\u7ec4......\n\n\u7b49\u4f1a\uff0c\u8fd9A\u6570\u7ec4\u600e\u4e48\u90a3\u4e48\u50cf**\u56fe\u7684\u90bb\u63a5\u77e9\u9635**\u5462\uff1f\uff1f\n\n\u518d\u5f80\u8fd9\u65b9\u9762\u60f3\u60f3\uff1a\u6211\u53bb\uff01\u8fd9\u54ea\u53ea\u662f\u641c\u7d22\u554a\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a**\u56fe\u7684\u904d\u5386**\u7684\u8fc7\u7a0b\uff01\n\n\u65e2\u7136\u662f\u56fe\u7684\u904d\u5386\uff0c\u90a3\u54b1\u4eec\u7684\u601d\u8def\u5c31\u6709\u5566\uff01\u63a5\u4e0b\u6765\u7684\u4ee3\u7801\uff0c\u6211\u8981\u7ed9\u5927\u5bb6\u4ecb\u7ecd\u4e00\u4e2a\u597d\u7528\u7684\u5c0f\u4e1c\u897f\u2014\u2014**\u94fe\u5f0f\u524d\u5411\u661f**\n\n\uff08\u4e0d\u4f1a\u7684\u5f53\u7136\u4e5f\u53ef\u4ee5\u5199\u90bb\u63a5\u77e9\u9635\u9e2dqwq\uff09\n\n\u6240\u8c13\u94fe\u5f0f\u524d\u5411\u661f\uff0c\u987e\u540d\u601d\u4e49\uff1a\n\n\u94fe\u5f0f.....\u50cf\u94fe\u8868\u4e00\u6837**\u5efa\u7acb\u8fde\u63a5\u5173\u7cfb**\n\n\u524d\u5411.....\u8fb9\u7684\u987a\u5e8f\u662f**\u4ece\u540e\u5f80\u524d\u5b58**\u7684\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u94fe\u5f0f\u524d\u5411\u661f\u7684\u5b58\u50a8\u7ed3\u6784\u5566\uff01\n```cpp\nstruct lsqxx{//l(ian)s(hi)q(ian)x(iang)x(ing)\uff0c\u62fc\u97f3\u65e0\u654c\uff08\u9003\uff09\n\tint v;//v\u4ee3\u8868\u8fd9\u6761\u8fb9\u7684\u7ec8\u70b9\n\tint next;//next\u662f\u8fd9\u4e2a\u9876\u70b9\u7684\u201c\u4e0b\u4e00\u6761\u201d\u8fb9\uff08\u4e5f\u5c31\u662f\u524d\u4e00\u6761\u8fb9\uff09\n}e[15];\nint head[15];//head\u8868\u793a\u6bcf\u4e2a\u9876\u70b9\u904d\u5386\u65f6\u7684\u201c\u7b2c\u4e00\u6761\u201d\u8fb9\uff08\u4e5f\u5c31\u662f\u7f16\u53f7\u6700\u5f80\u540e\u7684\u4e00\u6761\u8fb9\uff09\nint tot=0;//tot\u8868\u793a\u8fb9\u7684\u7f16\u53f7\uff0c\u5148\u521d\u59cb\u5316\u62100\n```\n\u800c\u94fe\u5f0f\u524d\u5411\u661f\u7684\u57fa\u672c\u64cd\u4f5c\uff0c\u5c31\u662f**\u8fde\u8fb9**\u5566\uff01\u8ba9\u6211\u4eec\u6765\u770b\u770b\u600e\u4e48\u5199\u5427\uff01\n```cpp\nvoid add(int a,int b){//\u8868\u793a\u8fde\u63a5\u4e00\u6761\u4ecea\u8282\u70b9\u5230b\u8282\u70b9\u7684\u8fb9\n\ttot++;//\u80af\u5b9a\u8981\u65b0\u7684\u4e00\u6761\u8fb9\u5566\uff01\n\te[tot].v=b;//\u6807\u8bb0\u8fd9\u6761\u8fb9\u7684\u7ec8\u70b9\u662fb\n\te[tot].next=head[a];//\u91cd\u70b9\u6765\u5566\uff01\u5b83\u7684\u201c\u4e0b\u4e00\u6761\u8fb9\u201d\u5c31\u662f\u5f53\u524d\u4ecea\u8282\u70b9\u51fa\u53d1\u7684\u201c\u7b2c\u4e00\u6761\u8fb9\u201d\n\thead[a]=tot;//\u66f4\u65b0head\uff0c\u4f7f\u5f53\u524d\u7684\u8fb9\u53d8\u6210\u201c\u7b2c\u4e00\u6761\u8fb9\u201d\n}\n```\n\u800c\u7528\u94fe\u5f0f\u524d\u5411\u661f\u8fdb\u884c\u56fe\u7684\u904d\u5386\u5462\uff0c\u662f\u8fd9\u6837\u5199\uff1a\n```cpp\nfor(int i=head[x];i;i=e[i].next){//\u4ece\u201c\u7b2c\u4e00\u6761\u8fb9\u201d\u5f00\u59cb,\u904d\u5386\u4ecea\u51fa\u53d1\u7684\u6bcf\u4e00\u6761\u8fb9\n\t\t/*do something......*/\t\n}\n```\n\uff08\u4f60\u54c1\uff0c\u4f60\u4ed4\u7ec6\u54c1.....\uff09\n\n\u65e2\u7136\u5b66\u4f1a\u4e86\u94fe\u5f0f\u524d\u5411\u661f\uff0c\u90a3\u54b1\u4eec\u7ec3\u4e60\u4e00\u4e0b\uff1a~~\u6bd4\u5982[\u7528\u94fe\u5f0f\u524d\u5411\u661f\u5199\u4e2aSPFA](https://www.luogu.com.cn/paste/b21475al)\uff1f\uff1f~~\n\n\u597d\u4e86\u597d\u4e86\u626f\u8fdc\u4e86......\u6211\u4eec\u7ee7\u7eed\u6765\u7814\u7a76\u8fd9\u4e2a\u9898\uff1a\u65e2\u7136\u5c31\u662f\u201c\u56fe\u7684\u904d\u5386\u201d\uff0c\u90a3\u6211\u4eec\u5c31\u5f88\u5bb9\u6613\u628adfs\u5199\u51fa\u6765\u5566\uff01\n```cpp\nvoid dfs(int x){//\u4ece\u6570\u5b57x\u5f00\u59cb\u641c\u7d22\n\tif(vis[x])return;//\u5982\u679c\u5df2\u7ecf\u641c\u5230\u8fc7\u4e86\u90a3\u5c31\u4e0d\u7528\u641c\u5566\n\tvis[x]=1;//\u6807\u8bb0\n\tans++;//\u66f4\u65b0\u7b54\u6848\n\tfor(int i=head[x];i;i=e[i].next){//\u6bcf\u4e00\u6761\u8fb9\u53bb\u627e\n\t\tdfs(e[i].v);\t//\u627e\u5230\u7684\u65b0\u70b9\u518d\u63a5\u7740\u641c\n\t}\n}\n```\n\u55ef~o(\\*\uffe3\u25bd\uffe3\\*)o\uff0c\u4e0d\u9519\u4e0d\u9519\n\n#### \u4f46\u662f\uff0c\u4f60\u4ee5\u4e3a\u8fd9\u5c31\u5b8c\u4e86\u5417\uff1f\uff01\n\n\u54ce\u5440\uff0c\u6807\u7b7e\u541b\u600e\u4e48\u8fd8\u6709\u4e2a\u201c\u9ad8\u7cbe\u201d\u5440\uff1f\uff1f\uff1f\n\n\u5413\u5f97\u6211\u8d76\u7d27\u7785\u4e86\u4e00\u773c\u6570\u636e\u8303\u56f4\uff0cword\u5929\uff0110\u768430\u6b21\u65b9\uff1f\uff01\u770b\u6765\u201c\u4e58\u6cd5\u539f\u7406\u201d\u90a3\u4e00\u6b65\u8981\u7528**\u9ad8\u7cbe\u5ea6\u4e58\u6cd5**\u624dOK\n\n\u8fd9\u662f\u5e95\u4e0b\u80af\u5b9a\u6709\u4eba\u8bf4\u4e86\uff1a\u8981\u9ad8\u7cbe\u4e58\u6cd5\u7684\uff0c\u6563\u4e86\u6563\u4e86\n\n\u522b\u6025\u554a\uff0c\u9ad8\u7cbe\u4e58\u6cd5\u4e0d\u4f1a\u5199\uff0c**\u9ad8\u7cbe\u00d7\u4f4e\u7cbe**\u603b\u4f1a\u5427......\u9ad8\u7cbe\u4e58\u4f4e\u7cbe\u548c**\u9ad8\u7cbe\u5ea6\u52a0\u6cd5**\u5f88\u50cf\uff0c\u56de\u60f3\u4e00\u4e0b\u5c0f\u5b66\u7684\u4e24\u4e09\u4f4d\u6570\u4e58\u4e00\u4f4d\u6570\u662f\u600e\u4e48\u5217\u7ad6\u5f0f\u7684\uff0c\u518d\u7ed3\u5408\u4e00\u4e0b\u5b66\u9ad8\u7cbe\u5ea6\u52a0\u6cd5\u7684\u7ecf\u5386\uff0c\u54b1\u4eec\u4e00\u8d77\u6765\u4e0b\u9762\u7684\u4ee3\u7801\uff1a\n```cpp\nint qwq[35];//\u9ad8\u7cbe\u5ea6\u662f\u8981\u7528\u6570\u7ec4\u5b58der\nvoid gjcf(int x){//\u539f\u6709\u7684\u57fa\u7840\u4e0a\u4e58\u4e2ax\u8fdb\u53bb\n\tint jw=0;//\u8fdb\u4f4d\n\tfor(int i=1;i<=30;i++){//\u4e3a\u4e86\u4fdd\u9669\uff0c\u54b1\u4e58\u5230\u7b2c30\u4f4d\n\t\tqwq[i]=qwq[i]*x+jw;//\u4e58\u56e0\u6570\uff0c\u52a0\u8fdb\u4f4d\n\t\tjw=qwq[i]/10;//\u8fdb\u4f4d\u7684\u5904\u7406\u548c\u9ad8\u7cbe\u5ea6\u52a0\u6cd5\u4e00\u6a21\u4e00\u6837\n\t\tqwq[i]%=10;\n\t}\n}\n```\n\u5f53\u7136\u4e3a\u4e86\u4fdd\u9669\u8d77\u89c1\uff0c\u60f3\u5199\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\u4e5f\u662f\u53ef\u4ee5\u7684\uff01\u53cb\u60c5\u653e\u9001\u4e00\u4e2a\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\u7684\u6a21\u677f\uff08\u5c31\u662f\u65f6\u95f4\u590d\u6742\u5ea6\u9ad8\u4e86\u70b9\uff09\uff1a\n\n```cpp\n\tfor(int i=1;i<=l1;i++){\n\t\tfor(int j=1;j<=l2;j++){\n\t\t\tc[i+j-1]+=a[i]*b[j];\n\t\t\tc[i+j]+=c[i+j-1]/10;\n\t\t\tc[i+j-1]%=10;\n\t\t}\n\t}\n```\n\n\u603b\u7684\u6765\u8bf4\uff0c\u8fd9\u9898\u7684\u96be\u5ea6\u548c\u7efc\u5408\u6027\u90fd\u662f\u633a\u9ad8\u7684\uff0c\u65e2\u6709\u6df1\u641c\uff0c\u53c8\u6709\u9ad8\u7cbe\uff0c\u8fd8\u6d89\u53ca\u5230\u4e00\u70b9\u70b9\u56fe\u8bba\u7684\u76f8\u5173\u77e5\u8bc6\uff0c\u795d\u5927\u5bb6\u65e9\u65e5AC\uff01\uff08\u4e0d\u9a97\u8d5e\uff0c\u771f\u7684\uff09\n\n```cpp\n#include<iostream>\nusing namespace std;\nint ans,n;\nstruct lsqxx{//\u94fe\u5f0f\u524d\u5411\u661f\n\tint v;\n\tint next;\n}e[15];\nint head[15];\nint tot=0;\nint qwq[35];\nvoid add(int a,int b){\n\ttot++;\n\te[tot].v=b;\n\te[tot].next=head[a];\n\thead[a]=tot;\n}\nbool vis[10];\nvoid dfs(int x){//dfs\n\tif(vis[x])return;\n\tvis[x]=1;\n\tans++;\n\tfor(int i=head[x];i;i=e[i].next){\n\t\tdfs(e[i].v);\t\n\t}\n}\nvoid gjcf(int x){//\u9ad8\u7cbe\u4e58\u6cd5\n\tint jw=0;\n\tfor(int i=1;i<=30;i++){\n\t\tqwq[i]=qwq[i]*x+jw;\n\t\tjw=qwq[i]/10;\n\t\tqwq[i]%=10;\n\t}\n}\nint main(){\n\tstring s;\n\tcin>>s>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tint x,y;\n\t\tcin>>x>>y;\n\t\tadd(x,y);//\u8fde\u63a5x\u5230y\u7684\u8fb9\n\t}\n\tqwq[1]=1;//\u5c06\u8bb0\u5f55\u7b54\u6848\u7684qwq\u6570\u7ec4\u521d\u59cb\u5316\u62101\n\tfor(int i=0;i<s.size();i++){//\u4e00\u4f4d\u4e00\u4f4d\u641c\u7d22\n\t\tans=0;//\u5343\u4e07\u522b\u5fd8\u4e86\u628a\u7b54\u6848\u548cvis\u6570\u7ec4\u6e05\u96f6\u5440\u5582\uff01\n\t\tfor(int j=0;j<10;j++)\n\t\tvis[j]=0;\n\t\tdfs(s[i]-'0');//\u641c\u7d22\n\t\tgjcf(ans);//\u4e58\u8fdb\u53bb\n\t}\n\tint pos=30;\n\twhile(!qwq[pos]&&pos>1)pos--;//\u5220\u9664\u524d\u5bfc0\uff0c\u9ad8\u7cbe\u5ea6\u5e38\u89c4\u64cd\u4f5c\n\tfor(int i=pos;i>0;i--)cout<<qwq[i];//\u8f93\u51fa\n\treturn 0;\n} \n```\nThe    \nend\n$\\colorbox{white}{\\color{white}\u7ea2\u540d\u540e\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\u65bd\u5de5\u5b8c\u6bd5\uff01\u5982\u613f\u4ee5\u507f\u68a6\u60f3\u6210\u771fqwq} $\n\n",
        "postTime": 1581564863,
        "uid": 239405,
        "name": "yangrunze",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u9898\u76ee\u94fe\u63a5\uff1a[https://www.luogu.com.cn/problem/P1037](https://www.luogu.com.cn/problem/P1037)  \n\n### \u9898\u76ee\u63cf\u8ff0\n\u7ed9\u51fa\u4e00\u4e2a\u6574\u6570 $n(n<10^{30})$ \u548c $k$ \u4e2a\u53d8\u6362\u89c4\u5219 $(k \\le 15)$ \u3002  \n\u89c4\u5219\uff1a  \n\u4e00\u4f4d\u6570\u53ef\u53d8\u6362\u6210\u53e6\u4e00\u4e2a\u4e00\u4f4d\u6570\uff1a  \n\u89c4\u5219\u7684\u53f3\u90e8\u4e0d\u80fd\u4e3a\u96f6\u3002  \n\n\u4f8b\u5982\uff1a$n=234$\u3002\u6709\u89c4\u5219\uff08$k=2$\uff09\uff1a\n\n$2$\uff0d>$5$  \n$3$\uff0d>$6$  \n\n\u4e0a\u9762\u7684\u6574\u6570$234$\u7ecf\u8fc7\u53d8\u6362\u540e\u53ef\u80fd\u4ea7\u751f\u51fa\u7684\u6574\u6570\u4e3a\uff08\u5305\u62ec\u539f\u6570\uff09:\n\n$234$  \n$534$  \n$264$  \n$564$  \n\n\u5171 $4$ \u79cd\u4e0d\u540c\u7684\u4ea7\u751f\u6570  \n\n\u95ee\u9898\uff1a  \n\u7ed9\u51fa\u4e00\u4e2a\u6574\u6570 $n$ \u548c $k$ \u4e2a\u89c4\u5219\u3002\n\u6c42\u51fa\uff1a\n\u7ecf\u8fc7\u4efb\u610f\u6b21\u7684\u53d8\u6362\uff08$0$\u6b21\u6216\u591a\u6b21\uff09\uff0c\u80fd\u4ea7\u751f\u51fa\u591a\u5c11\u4e2a\u4e0d\u540c\u6574\u6570\u3002  \n\u4ec5\u8981\u6c42\u8f93\u51fa\u4e2a\u6570\u3002\n\n### \u8f93\u5165\u683c\u5f0f\n\u952e\u76d8\u8f93\u5165\uff0c\u683c\u5f0f\u4e3a\uff1a\n\n$n$ $k$  \n$x_1$ $y_1$   \n$x_2$ $y_2$   \n... ...  \n$x_n$ $y_n$  \n\n### \u8f93\u51fa\u683c\u5f0f\n\u5c4f\u5e55\u8f93\u51fa\uff0c\u683c\u5f0f\u4e3a\uff1a  \n$1$ \u4e2a\u6574\u6570\uff08\u6ee1\u8db3\u6761\u4ef6\u7684\u4e2a\u6570\uff09  \n\n### \u6837\u4f8b\u8f93\u51651\n```\n234 2\n2 5\n3 6\n```\n\n### \u6837\u4f8b\u8f93\u51fa1\n```\n4\n```\n\n### \u9898\u89e3\n\u8fd9\u4e2a\u95ee\u9898\u6211\u4eec\u53ef\u4ee5\u8f6c\u6362\u6210\u56fe\u8bba\u91cc\u9762\u7684\u95ee\u9898\u3002  \n\n\u6211\u4eec\u53ef\u4ee5\u628a $0$ \u5230 $9$ \u8fd9 $10$ \u4e2a\u6570\u770b\u6210 $10$ \u4e2a\u70b9\u3002  \n\u7136\u540e\u5bf9\u4e8e\u4efb\u610f\u4e00\u5bf9\u5173\u7cfb $x$ -> $y$ \uff0c\u6211\u4eec\u4ece $x$ \u5411 $y$ \u8fde\u4e00\u6761\u8fb9\u3002  \n\n\u90a3\u4e48\u6211\u4eec\u600e\u4e48\u5b58\u8fd9\u4e2a\u56fe\u5462\uff1f  \n\u56fe\u8bba\u91cc\u9762\u6700\u57fa\u7840\u7684\u5b58\u56fe\u65b9\u5f0f\u662f __\u90bb\u63a5\u77e9\u9635__ \u548c __\u90bb\u63a5\u8868__ \u3002  \n\n__\u90bb\u63a5\u77e9\u9635__ \u7684\u65b9\u6cd5\uff1a  \n\u6211\u4eec\u5f00\u4e00\u4e2a $10 \\times 10$ \u7684\u6570\u7ec4 $g[10][10]$ \uff0c  \n\u4e00\u5f00\u59cb\u7f6e\u6240\u6709\u7684 $g[i][j]$ \u4e3a $false$\uff0c  \n\u7136\u540e\u5982\u679c\u6709\u4e00\u5bf9\u5173\u7cfb $x$ -> $y$ \uff0c\u5219\u4ee4 $g[x][y]$ \u4e3a $true$\u3002  \n\u8fd9\u6837\u64cd\u4f5c\u4e4b\u540e\uff0c\u6211\u5c31\u77e5\u9053\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u6570 $x$ \uff0c\u5b83\u80fd\u591f\u76f4\u63a5\u5230\u8fbe\u7684\u6570\u7684\u4e2a\u6570\uff0c\u5373\uff1a\u6240\u6709 $g[x][j]$ \u4e3a $true$ \u7684\u6570\u7684\u4e2a\u6570\u3002  \n\n\u6211\u4eec\u8fd9\u91cc\u8bf4\u7684\u662f $x$ \u5230 $y$ \u80fd\u76f4\u63a5\u5230\u8fbe\u662f\u6307 $x$ \u5230 $y$ \u6709\u4e00\u6761\u76f4\u63a5\u53ef\u8fbe\u7684\u8fb9\uff08\u5373 $g[x][y] = true$\uff09\u3002  \n\u4f46\u662f\u9664\u4e86\u76f4\u63a5\u53ef\u8fbe\u4ee5\u5916\uff0c\u8fd8\u6709\u95f4\u63a5\u53ef\u8fbe\u7684\uff0c\u6bd4\u5982\uff0c\u5982\u679c\u6709\u4e24\u5bf9\u5173\u7cfb\uff1a\n\n$1$ -> $2$  \n$2$ -> $3$  \n\n\u90a3\u4e48 $1$ \u662f\u53ef\u4ee5\u901a\u8fc7 $2$ \u95f4\u63a5\u5230\u8fbe $3$ \u7684\u3002  \n\n\u90a3\u4e48\u600e\u4e48\u786e\u5b9a\u6bcf\u4e00\u4e2a\u6570\u53ef\u8fbe\u7684\u6570\u7684\u8303\u56f4\u5462\uff1f\u6bd4\u8f83\u65b9\u4fbf\u7684\u5f62\u5f0f\u5c31\u662f __\u641c\u7d22__\u3002  \n\u6211\u4eec\u518d\u5f00\u4e00\u4e2abool\u6570\u7ec4 $vis[10][10]$ \uff0c$vis[x][y]$ \u7528\u4e8e\u6807\u8bb0 $x$ \u5230 $y$ \u662f\u5426\u53ef\u8fbe\uff08\u5305\u62ec\u76f4\u63a5\u6216\u95f4\u63a5\u53ef\u8fbe\uff09\uff1b  \n\u7136\u540e\u5f00\u4e00\u4e2a\u51fd\u6570 `dfs(int u, int s)` \uff0c\u5176\u4e2d $u$ \u8868\u793a\u5f53\u524d\u70b9\uff0c $s$ \u8868\u793a\u8d77\u70b9\uff0c\u5982\u679c\u5f53\u524d\u5230\u8fbe\u70b9 $u$ \uff0c\u5219\u7f6e $vis[s][u]$ \u4e3a $true$\uff0c\u7136\u540e\u5bf9\u4e8e\u6240\u6709 `u` \u76f4\u63a5\u53ef\u8fbe\u7684\u70b9 `v` \uff0c\u6267\u884c `dfs(v, s)`\uff08\u4f46\u662f\u8981\u6ce8\u610f\uff0c\u5982\u679c\u6b64\u65f6 $vis[s][v]$ \u4e3a $true$ \uff0c\u5219\u4e0d\u9700\u8981\u8bbf\u95ee\u4e86\uff0c\u56e0\u4e3a\u9012\u5f52\u7684\u8bbf\u95ee\u8bbf\u95ee\u8fc7\u7684\u70b9\u4f1a\u81f4\u4f7f\u51fd\u6570\u9677\u5165\u6b7b\u5faa\u73af\uff09\u3002  \n\n\u5b9e\u73b0\u7684\u4f2a\u4ee3\u7801\u5982\u4e0b\uff08\u4f2a\u4ee3\u7801\u5c31\u662f\u4e0d\u53ef\u4ee5\u7f16\u8bd1\u7684\u4ee3\u7801\uff0c\u4f46\u662f\u4f60\u53ef\u4ee5\u770b\u61c2\u7684\u4ee3\u7801\uff09\uff1a  \n```\ndfs(u, s):\n    vis[s][u] = true;\n    for \u6240\u6709u\u80fd\u591f\u76f4\u63a5\u5230\u8fbe\u7684v:\n        if (v\u6ca1\u6709\u8bbf\u95ee\u8fc7):\n            dfs(v, s);\n```\n\n\u4f46\u662f\u8fd9\u91cc\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff0c\u8fd9\u4e2a\u95ee\u9898\u662f\u90bb\u63a5\u77e9\u9635\u7684\u6548\u7387\u95ee\u9898\uff0c\u8fd9\u4e2a\u95ee\u9898\u4f53\u73b0\u5728\uff1a  \n\u5982\u679c\u73b0\u5728\u6709 $10$ \u5bf9\u5173\u7cfb\uff1a  \n$0$ -> $1$  \n$1$ -> $2$  \n... ...  \n$8$ -> $9$  \n\u90a3\u4e48\u5982\u679c\u4e00\u5f00\u59cb\u4ece $0$ \u5f00\u59cb\u641c\u7d22\uff0c\u4f1a\u641c\u7d22 $10$ \u5c42\uff0c\u5728\u6bcf\u4e00\u5c42\uff0c\u5bf9\u4e8e\u5f53\u524d `dfs(u, s)` \u4e2d\u7684 $u$ \uff0c\u6211\u4eec\u9700\u8981\u4ece $0$ \u5230 $9$ \u904d\u5386 $v$ \uff0c\u6240\u4ee5\u603b\u5171\u9700\u8981\u8fdb\u884c $10^{10}$ \u6b21\u5224\u65ad\u3002  \n\u800c\u8fd9\u4e2a\u65f6\u95f4\u662f\u4e0d\u5141\u8bb8\u7684\uff08\u4e00\u9053\u9898\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e0d\u80fd\u8d85\u8fc7 $10^9$\uff09\uff01\n\n\u56e0\u4e3a\u90bb\u63a5\u77e9\u9635\u4e2d\u5b58\u5728\u5f88\u591a\u591a\u4f59\u7684\u5224\u65ad\uff0c\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a $u$ \uff0c\u4f60\u9700\u8981\u4ece $0$ \u5230 $9$ \u53bb\u904d\u5386 $i$ \u5e76\u5224\u65ad $g[u][i]$ \u662f\u5426\u4e3a $true$\uff0c\u6765\u786e\u5b9a $u$ \u5230 $i$ \u662f\u5426\u6709\u4e00\u6761\u8fb9\u3002\u8fd9\u6837\u5c31\u6709\u7740\u5f88\u591a\u591a\u4f59\u7684\u5224\u65ad\u3002  \n\n\u90a3\u4e48\u662f\u5426\u80fd\u591f\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9 $u$ \uff0c\u6211\u4eec\u90fd\u7528\u4e00\u4e2a\u4e1c\u897f\u8bb0\u5f55\u548c\u5b83\u90bb\u63a5\u7684\u70b9\uff08\u5373\uff1a\u5b83\u80fd\u591f\u5230\u8fbe\u7684\u70b9\uff09\u6709\u54ea\u4e9b\u5462\uff1f  \n\u5b9e\u73b0\u7684\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a  \n1. \u94fe\u8868\uff08\u94fe\u8868\u521a\u597d\u53ef\u4ee5\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\uff09\n2. \u53ef\u53d8\u6570\u7ec4\u3002  \n\n__\u90bb\u63a5\u8868__ \u7684\u65b9\u6cd5\uff1a  \n\u6211\u4eec\u5728\u8fd9\u91cc\u4f7f\u7528 STL \uff08C++\u6807\u51c6\u5e93\uff09\u4e2d\u63d0\u4f9b\u7ed9\u6211\u4eec\u7684 vector \u5bb9\u5668\u6765\u5b9e\u73b0\u8fd9\u4e2a\u529f\u80fd\u3002  \nvector \u5bb9\u5668\u63d0\u4f9b\u7ed9\u6211\u4eec\u7684\u529f\u80fd\u5c31\u662f\u53ef\u53d8\u6570\u7ec4\u7684\u529f\u80fd\u3002  \n\u4f7f\u7528 vector \u4e4b\u524d\u9700\u8981\u6dfb\u52a0\u5934\u6587\u4ef6\uff1a  \n```c++\n#include <vector>\n```\n\u5f53\u7136\u8fd9\u4e2a\u5934\u6587\u4ef6\u4e5f\u662f\u5305\u542b\u5728\u4e07\u80fd\u5934\u6587\u4ef6\u4e2d\u7684\u3002  \n\n\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u4f53\u4f1a\u4e00\u4e0b vector \u7684\u4f7f\u7528\uff1a  \n```c++\n#include <bits/stdc++.h>\nusing namespace std;\nvector<int> vec;    // \u5b9a\u4e49\u4e00\u4e2aint\u7c7b\u578b\u7684\u53ef\u53d8\u6570\u7ec4vec\nint main() {\n    for (int i = 1; i <= 5; i ++)\n        vec.push_back(i);   // vec\u5185\u4e00\u6b21push\u8fdb\u53bb1\u81f35\n    cout << vec.size() << endl; // vec\u7684\u5927\u5c0f\n    for (int i = 0; i < 5; i ++)\n        cout << vec[i] << \",\";  // \u901a\u8fc7vec[i]\u83b7\u53d6vec\u7684\u7b2ci\u4e2a\u5143\u7d20\uff0c\u5750\u6807\u540c\u6837\u4ece0\u5f00\u59cb\n    return 0;\n}\n```\n\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a  \n```\n5\n1,2,3,4,5,\n```\n\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5f00\u4e00\u4e2a `vector<int>` \u7c7b\u578b\u7684\u6570\u7ec4 $g[10]$ \uff0c\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e00\u5bf9\u5173\u7cfb $x$ -> $y$ \uff0c\u6267\u884c\uff1a  \n```c++\ng[x].push_back(y);\n```\n\n\u7136\u540e\u60f3\u8981\u77e5\u9053\u70b9 $x$ \u6709\u54ea\u4e9b\u76f4\u63a5\u53ef\u8fbe\u7684\u70b9 $y$ \uff0c\u53ef\u4ee5\u8fd9\u6837\u904d\u5386\uff1a  \n```c++\nfor (int i = 0; i < g[x].size(); i ++) {\n    int y = g[x][i];\n}\n```\n\n\u4f46\u662f\u4ee5\u6211\u591a\u5e74\u7684\u7ecf\u9a8c\uff0c\u6bcf\u6b21\u6267\u884c `g[x].size()` \u6548\u7387\u6bd4\u8f83\u4f4e\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4e00\u5f00\u59cb\u5f00\u4e00\u4e2a\u53d8\u91cf `sz` \u6765\u5b58\u653e `g[x].size()` \uff0c\u7136\u540e\u518d\u8fdb\u884c\u904d\u5386\uff0c\u5b9e\u73b0\u4ee3\u7801\u5982\u4e0b\uff1a  \n```c++\nint sz = g[x].size();\nfor (int i = 0; i < sz; i ++) {\n    int y = g[x][i];\n}\n```\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u5927\u81f4\u8bb2\u89e3\u597d\u4e86 __\u90bb\u63a5\u8868__ \u7684 vector \u5b9e\u73b0\u3002  \n\n\u7136\u540e\u6211\u4eec\u518d\u5f00\u4e00\u4e2a $cnt$ \u6570\u7ec4\uff0c $cnt[x]$ \u8868\u793a $x$ \u80fd\u591f\u8fbe\u5230\u7684\u6570\u7684\u6570\u91cf\u3002  \n\n\u5bf9\u4e8e\u6211\u4eec\u7684\u6837\u4f8b\uff1a  \n\u56e0\u4e3a $2$ \u80fd\u591f\u5230\u8fbe $5$ \uff0c $3$ \u80fd\u591f\u5230\u8fbe $6$ \uff0c\u6240\u4ee5\uff1a  \n$cnt[2]=2$  \n$cnt[3]=2$  \n\u5176\u5b83\u7684 $cnt$ \u503c\u90fd\u4e3a $1$ \u3002  \n\n\u6240\u4ee5\u5bf9\u4e8e $234$ \u6765\u8bf4\uff0c\u603b\u7684\u65b9\u6848\u6570\u4e3a\uff1a  \n$cnt[2] \\times cnt[3] \\times cnt[4] = 2 \\times 2 \\times 1 = 2$\u3002\n\n\u56e0\u4e3a\u6570\u636e\u91cf\u8fbe\u5230\u4e86 $10^{30}$ \uff0c\u7528 long long \u4e5f\u5b58\u4e0d\u4e0b\uff0c\u6240\u4ee5\u5f97\u4f7f\u7528\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\uff08\u6211\u7684\u4ee3\u7801\u91cc\u9762\u5b9e\u73b0\u4e86\u4e00\u4e2a\u5f88\u7b80\u5355\u7684\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\uff09\u3002\n\n\u7136\u540e\u6211\u4eec\u7ed3\u5408\u4e0a\u9762\u8bb2\u5230\u7684 `dfs` \u51fd\u6570\uff0c\u53ef\u4ee5\u5b9e\u73b0\u4ee3\u7801\u5982\u4e0b\uff1a  \n```c++\n#include <bits/stdc++.h>\nusing namespace std;\nchar s[33];\nint len, ans[33], k, x, y, cnt[10];\nbool vis[10][10];\nvector<int> g[10];\nvoid dfs(int u, int s) {\n    vis[s][u] = true;\n    int sz = g[u].size();\n    for (int i = 0; i < sz; i ++) {\n        int v = g[u][i];\n        if (!vis[s][v])\n            dfs(v, s);\n    }\n}\nvoid multi(int a) {  // \u5b9e\u73b0\u5927\u6570\u548c\u5c0f\u6570\u7684\u4e58\u6cd5\n    for (int i = 0; i < 33; i ++)\n        ans[i] *= a;\n    for (int i = 0; i < 32; i ++) {\n        ans[i+1] += ans[i]/10;\n        ans[i] %= 10;\n    }\n}\nvoid output() { // \u8f93\u51fa\u7ed3\u679c\n    int i = 32;\n    while (i > 0 && ans[i] == 0) i --;\n    while (i >= 0) cout << ans[i--];\n    cout << endl;\n}\nint main() {\n    cin >> s >> k;\n    while (k --) {\n        cin >> x >> y;\n        g[x].push_back(y);\n    }\n    for (int i = 0; i < 10; i ++)\n        dfs(i, i);\n    for (int i = 0; i < 10; i ++)\n        for (int j = 0; j < 10; j ++)\n            cnt[i] += vis[i][j];\n    ans[0] = 1;\n    int len = strlen(s);\n    for (int i = 0; i < len ; i ++)\n        multi(cnt[ s[i]-'0' ]);\n    output();\n    return 0;\n}\n```",
        "postTime": 1575603153,
        "uid": 291976,
        "name": "quanjun",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "40\u5206\uff1a\u66b4\u529b\u5e7f\u641c\n\n60\u5206\uff1a\u67e5\u627e\u6bcf\u4e2a\u4f4d\u6570\u6240\u80fd\u5230\u8fbe\u7684\u6570\u5b57\u7684\u4e2a\u6570\u5e76\u76f8\u4e58\n\n100\u5206\uff1a60\u5206\u7b97\u6cd5\u52a0\u4e0a\u9ad8\u7cbe\u5ea6\uff08\u56e0\u4e3a\u6781\u7aef\u60c5\u51b5\u4e0b\u53ef\u80fd\u5b58\u5728\u7b54\u6848\u63a5\u8fd110^30\u7684\u6570\u636e\uff09\n\n\u6211\u6bcf\u79cd\u90fd\u5199\u4e86\u4e00\u904dorz\n\n\u6ee1\u5206\u7b97\u6cd5\u5176\u5b9e\u7528\u7684\u662f\u4e58\u6cd5\u539f\u7406\uff0c\u67e5\u770b\u6bcf\u4e00\u4e2a\u4f4d\u6570\u901a\u8fc7\u89c4\u5219\u6240\u80fd\u5230\u8fbe\u7684\u6570\u7684\u4e2a\u6570\uff0c\u76f8\u4e58\u5c31\u662f\u7b54\u6848\u3002\u4e0b\u9762\u8bb2\u7684\u5f88\u8be6\u7ec6\u4e86\u3002\n\n\u8fd9\u91cc\u7528\u7684\u662f\u5e7f\u641c\u3002\n\n40\u5206\u7b97\u6cd5\uff08TLE3\u4e2a\u70b9\uff09\uff1a\n\n```cpp\n#include<iostream>\n#include<string>\n#include<set>\n#include<queue>\n#include<cstdlib>\n#include<cstdio>\n#include<map>\n#include<vector>\nusing namespace std;\nconst int K=20;\n\nvector<char> rule[300];\nset<string> cnt;\nqueue<string> qu;\n\nint main(){\n    string a;\n    int k;\n    cin>>a>>k;\n    char ch,ch2;\n    for(int i=0;i<k;i++)\n        cin>>ch>>ch2,rule[ch].push_back(ch2);\n    cnt.insert(a);\n    qu.push(a);\n    int len=a.length(),ans=1;\n    while(!qu.empty()){\n        a=qu.front(),qu.pop();\n        for(int i=0;i<len;i++){\n            for(int j=0;j<rule[a[i]].size();j++){\n                string b=a;\n                b[i]=rule[a[i]][j];\n                if(!cnt.count(b)){\n                    cnt.insert(b);\n                    qu.push(b);\n                    ans++;\n                }\n            }\n        }\n    }\n    cout<<ans;\n    return 0;\n}\n```\n\u6ee1\u5206\u7b97\u6cd5\uff1a\n\n```cpp\n#include<iostream>\n#include<string>\n#include<set>\n#include<queue>\n#include<cstdlib>\n#include<cstdio>\n#include<map>\n#include<vector>\n#include<cstring>\nusing namespace std;\n\nstruct BIGNUM{\n    static const int N=10000;\n    bool below; \n    short num[N];\n    int len;\n    BIGNUM(void){len=1; memset(num,0,sizeof(num)); below=0;}\n    BIGNUM operator=(const char *s){\n        int nlen=strlen(s);\n        for(int i=1;i<=nlen;i++)\n            num[i]=s[nlen-i]-'0';\n        len=nlen;\n        return *this;\n    } \n    BIGNUM operator=(const int s){\n        char a[N];\n        sprintf(a,\"%d\",s);\n        *this=a;\n        return *this;\n    }\n    BIGNUM(const char *s){*this=s;}\n    BIGNUM(const int s){*this=s;}\n    BIGNUM operator+(const BIGNUM &a){ \n        BIGNUM c;\n        while(c.len<=a.len||c.len<=len){\n            c.num[c.len]+=a.num[c.len]+num[c.len];\n            if(c.num[c.len]>=10)c.num[c.len+1]++,c.num[c.len]%=10;\n            c.len++;\n        }\n        if(!c.num[c.len])c.len--;\n        return c;\n    }\n    BIGNUM operator+(const int &a){\n        BIGNUM x=a;\n        return *this+x;\n    }\n    BIGNUM operator+=(const BIGNUM &a){\n        *this=*this+a;\n        return *this;\n    }\n    BIGNUM operator*(const BIGNUM &a){\n        BIGNUM c;\n        c.len=a.len+len;\n        for(int i=1;i<=a.len;i++){\n            for(int j=1;j<=len;j++){\n                c.num[i+j-1]+=a.num[i]*num[j];\n                c.num[i+j]+=c.num[i+j-1]/10;\n                c.num[i+j-1]%=10;\n            }\n        }\n        while(!c.num[c.len]&&c.len>1)c.len--;\n        c.below=a.below^below;\n        return c;\n    }\n    BIGNUM operator*(const int &a){\n        char x[N];\n        sprintf(x,\"%d\",a);\n        BIGNUM xx=x;\n        return *this*xx;\n    }\n    BIGNUM operator*=(const BIGNUM &a){\n        *this=*this*a;\n        return *this;\n    }\n    BIGNUM operator/(const int &a){\n        BIGNUM c;\n        int x=0;\n        for(int i=len;i>=1;i--){\n            c.num[i]=(x*10+num[i])/a;\n            x=(x*10+num[i])%a;\n        }\n        c.len=len;\n        while(!c.num[c.len]&&c.len>1)c.len--;\n        return c;\n    }\n    BIGNUM operator-(const BIGNUM &a){\n        BIGNUM c;\n        while(c.len<=len||c.len<=a.len){\n            c.num[c.len]+=num[c.len]-a.num[c.len];\n            if(c.num[c.len]<0)c.num[c.len+1]-=1,c.num[c.len]+=10;\n            c.len++;\n        }\n        while(!c.num[c.len]&&c.len>1)c.len--;\n        return c;\n    }\n    BIGNUM operator-(const int &a){\n        BIGNUM x=a;\n        return *this-x;\n    }\n    BIGNUM operator-=(const int &a){\n        *this=*this-a;\n        return *this;\n    }\n};\n\nostream& operator<<(ostream &out,const BIGNUM &x){\n    if(x.below)out<<'-';\n    for(int i=x.len;i>=1;i--){\n        out<<x.num[i];\n    }\n    return out; \n}\n\nistream& operator>>(istream &in,BIGNUM &x){\n    char s[BIGNUM::N];\n    in>>s;\n    if(s[0]=='-')x=s+1,x.below=1;\n    else x=s;\n    return in;\n}\n\nconst int K=20;\n\nvector<char> rule[300];\n\nint main(){\n    string a;\n    int k;\n    cin>>a>>k;\n    char ch,ch2;\n    for(int i=0;i<k;i++)\n        cin>>ch>>ch2,rule[ch].push_back(ch2);\n    queue<char> qu;\n    bool tag[500];\n    BIGNUM ans=1,sum;\n    for(int i=0;i<a.length();i++){\n        sum=1;\n        memset(tag,0,sizeof(tag));\n        qu.push(a[i]);\n        tag[a[i]]=1;\n        while(!qu.empty()){\n            ch=qu.front(),qu.pop();\n            for(int j=0;j<rule[ch].size();j++){\n                if(!tag[rule[ch][j]]){\n                    tag[rule[ch][j]]=1;\n                    qu.push(rule[ch][j]);\n                    sum=sum+1;\n                }\n            }\n        }\n//        cout<<sum<<endl;\n        ans*=sum;\n    }\n    cout<<ans;\n    return 0;\n}\n```",
        "postTime": 1496408183,
        "uid": 5554,
        "name": "Sino_E",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "```cpp\n#include<iostream>\n#include<cstring>\n#include<string>\nbool f[10][10];\nint k,ans[500]={1},l=1;\nusing namespace std;\nvoid wk(int x)//\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\n{\nfor(int i=0;i<l;i++)\nans[i]*=x;\nfor(int i=0;i<l;i++)\nif(ans[i]>=10){ans[i+1]+=ans[i]/10;ans[i]%=10;}\nwhile(ans[l]>0){\nans[l+1]=ans[l]/10;\nans[l]=ans[l]%10;\nl++;\n}\n}\nint main(){\nstring a;\ncin>>a>>k;\nint x,y;\nfor(int i=1;i<=k;i++) { cin>>x>>y;f[x][y]=1; }\nfor(int i=0;i<=9;i++) f[i][i]=1; //\u6570\u5b57\u662f\u53ef\u4ee5\u8f6c\u5316\u4e3a\u81ea\u5df1\u7684\nfor(int k=1;k<=9;k++) //\u7528 floyd \u8ba1\u7b97\u6bcf\u4e2a\u6570\u53ef\u4ee5\u8f6c\u6362\u7684\u6570\u5b57(\u5305\u62ec\u672c\u8eab)\nfor(int i=0;i<=9;i++)\nfor(int j=1;j<=9;j++)\nif(f[i][k]&&f[k][j])f[i][j]=1;\nint b[10];\nfor(int i=0;i<=9;i++){ //\u7edf\u8ba1\u6bcf\u4e2a\u6570\u53ef\u4ee5\u8f6c\u6362\u7684\u6570\u5b57\u6570\nint tot=0;\nfor(int j=0;j<=9;j++)\nif(f[i][j]) tot++;\nb[i]=tot;\n}\nfor(int i=0;i<a.length();i++) wk(b[a[i]-'0']); //\u4e58\u6cd5\u539f\u7406\nfor(int i=l-1;i>=0;i--) cout<<ans[i];\nreturn 0;\n}\n```",
        "postTime": 1470187871,
        "uid": 20248,
        "name": "yang2016",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u597d\u591a\u7528\u5b57\u7b26\u4e32\u7684\uff0c\u90a3\u4e48\u54b1\u4eec\u8bd5\u8bd5\u9ad8\u7cbe\u5ea6\u505a\u4e0b\u8fd9\u9053\u9898\u3002\u3002\u3002\n\u57fa\u672c\u601d\u8def\u5dee\u4e0d\u591a\u5427\uff0c\u5c06\u6240\u4ee5\u60c5\u51b5\u90fd\u4e58\u4e00\u904d\uff0c233\uff1b\n\u4e0a\u4ee3\u7801\u3002\u3002\u3002\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<string>\nusing namespace std;\n\nstring n;\nconst int L=100005;\nint high[L];\nstring ans;\n\nint k,x[18],y[18];\nbool gui[20][20];\n\nstring mul(string a,int b)//\u9ad8\u7cbe\u5ea6\u4e58\u6cd5O(n)..\n{\n    string ans;\n    int Len=a.size();\n    fill(high,high+L,0);\n    for(int i=Len-1;i>=0;i--) high[Len-i-1]=a[i]-'0';\n    int wei=0;\n    for(int i=0;i<Len;i++) high[i]=high[i]*b+wei,wei=high[i]/10,high[i]=high[i]%10;\n    while(wei) high[Len++]=wei%10,wei/=10;\n    Len--;\n    while(Len>=0) ans+=high[Len--]+'0';\n    return ans;\n}\n\n\nvoid dfs(int st)\n{\n\tint sum=1;\n\tfor(int i=1;i<10;i++)\n\t\tif(gui[n[st]-'0'][i])\n\t\t\tsum++;\n\tif(sum)\n\tans=mul(ans,sum);\n\n}\n\nint main()\n{\n\tcin>>n>>k;\n\tans='1';\n\tfor(int i=1;i<=k;i++)\n\t{\n\t\tcin>>x[i]>>y[i];\n\t\tgui[x[i]][y[i]]=1;\n\t}\n\tfor(int k=1;k<=9;k++)\n        for(int i=0;i<=9;i++)\n            for(int j=1;j<=9;j++)\n                if(gui[i][k]&&gui[k][j]&&i!=j) gui[i][j]=1;\n\tfor(int i=0;i<n.size();i++)\n\t\t\tdfs(i);\n\t\t\tcout<<ans;\t\n}\n```\n\u7b2c\u4e00\u6b21\u5199\u9898\u89e3\uff0c\u4e00\u5b9a\u8fc7\u554a\uff0corz\u3002\u3002",
        "postTime": 1540475195,
        "uid": 63932,
        "name": "Cxnedox",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u600e\u4e48\u770b\u4e86\u4e00\u5708\u597d\u591a\u5927\u4f6c\u90fd\u5199\u4e86\u641c\u7d22\n\n### \u6240\u4ee5\u6211\u6765\u4e00\u4e2a\u4e0d\u7528\u641c\u7d22\u7684\n\n\u8fd9\u9898\u7531\u4e8e\u8303\u56f4\u5c31\u662f0-9\uff0c\u5c31\u6309\u7167\u6700\u5dee\u60c5\u51b5\u4e0b\u4e00\u6b21\u53ea\u80fd\u68c0\u6d4b\u51fa\u4e00\u4e2a\u53d8\u6362\uff0c\u91cd\u590d\u68c0\u6d4b\u4e5d\u6b21\u5c31\u80fd\u68c0\u6d4b\u5230\u6240\u6709\u53ef\u4ee5\u53d8\u6210\u7684\u70b9\uff0c\u76f4\u63a5\u8ba1\u6570\u5c31\u884c\n\n\u6781\u7aef\u60c5\u51b5\n\n\uff08\n\n2 1\n\n3 2\n\n4 3\n\n5 4\n\n6 5\n\n7 6\n\n8 7\n\n9 8\n\n0 9\n\n\uff09\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint a[15],b[15];\nint ans[30];\nint main()\n{\n\tios::sync_with_stdio(false);//\u5173\u95ed\u6d41\u540c\u6b65\n\tstring s;\n\tcin>>s;\t\n\tlong long n;\n\tcin>>n;\t\n\tset<long long> help[10];//\u8fd9\u91cc\u7528set\u8bb0\u5f55\u53ef\u4ee5\u53d8\u6362\u5230\u7684\u6570\u5b57\n\tfor(int i=0;i<=9;i++)//\u53d8\u63620\u6b21\u5c31\u662f\u81ea\u5df1\uff0c\u5148\u63d2\u5165\u81ea\u5df1\n\t\thelp[i].insert(i);\n\tfor(int i=0;i<n;i++)cin>>a[i]>>b[i];//\u8bb0\u5f55\u89c4\u5219\n\tfor(int t=0;t<9;t++)//\u91cd\u590d9\u6b21\u89c4\u5219\n\t{\n\t\tfor(int i=0;i<n;i++)\n\t\t{\n\t\t\tfor(int j=0;j<=9;j++)\n\t\t\t\tif(help[j].count(a[i]))help[j].insert(b[i]);//\u5bf9\u4e8ea->b \u5982\u679ca\u5728set\u4e2d \u90a3\u4e48\u63d2\u5165b\n\t\t}\t\t\n\t}\t\t\n\tans[0]=1;//\u8f93\u5165\u7684\u6574\u6570\u6700\u591a30\u4f4d\uff0c\u6bcf\u4f4d\u6700\u591a10\u79cd\u53d8\u6362 30^10 \u7206long long\uff0c\u8981\u7528\u9ad8\u7cbe\u5ea6\n\tfor(int i=0;i<s.length();i++)\n\t{\n\t\tint help2=help[s[i]-'0'].size();\n\t\tfor(int ii=0;ii<30;ii++)ans[ii]*=help2;\n\t\tfor(int ii=0;ii<29;ii++)\n\t\t{\n\t\t\tans[ii+1]+=(ans[ii]/10);\n\t\t\tans[ii]%=10;\n\t\t}\n\t}\n\tbool shi=false;\n\tfor(int i=29;i>=0;i--)\n\t\tif(shi)cout<<ans[i];\n\t\telse if(ans[i])\n\t\t{\n\t\t\tshi=true;\n\t\t\tcout<<ans[i];\n\t\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1571764032,
        "uid": 8291,
        "name": "zumgze",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u9707\u60ca\uff01\u4e00\u9053\u666e\u53ca\u7684\u9898\u7adf\u7136\u8981\u7528\u5230\u9ad8\u7cbe\n\n\u5176\u5b9e\u601d\u8def\u5f88\u597d\u50cf\n\u5927\u4f53\u601d\u8def\uff1a\n\u9996\u5148\u901a\u8fc7 floyd \u6807\u8bb0\u5f97\u6bcf\u4e2a\u6570\u53ef\u4ee5\u8f6c\u6362\u4e3a\u7684\u6570\uff0c\n\u4e4b\u540e\u7edf\u8ba1\u6bcf\u4e2a\u6570\u53ef\u4ee5\u8f6c\u5316\u4e3a\u7684\u6570\u7684\u548c\u3002\n\u6700\u540e\u5c31\u662f\u4e00\u4e2a\u5206\u6b65\u95ee\u9898\uff0c\u5c06\u6bcf\u4e2a\u503c\u76f8\u4e58\uff0c\u5c31\u53ef\u5f97\u6700\u540e\u7b54\u6848\n\n\u5751\u70b9\n1. n \u7684\u6570\u503c\u8fc7\u5927\uff0c\u6240\u4ee5\u8003\u8651\u7528 getchar \u4e00\u4e2a\u4e2a\u8bfb\u5165\uff0c\u7edf\u8ba1\u5728 a \u6570\u7ec4\u4e2d\n\n2. Floyd \u7684\u5199\u6cd5\uff0c\u9898\u76ee\u4e2d\u5df2\u7ecf\u8bf4\u4e86\u53d8\u5316\u53f3\u8fb9\u7684\u503c\u4e0d\u4e3a 0\uff0c\u53ef\u4ee5\u6700\u5916\u56f4\u5faa\u73af\u53ef\u4ee5\u5c11\u4e00\u4e2a \uff08\u7136\u9e45\u6ca1\u6709\u4ec0\u4e48\u5b9e\u9645\u610f\u4e49\uff09\n\n\n3. \u5c31\u662f\u7279\u522b\u5751\u4eba\u7684\u9ad8\u7cbe\u4e86\uff0c\n\n  ~~\u5c3d\u7ba1\u8fd8\u662f\u770b\u7684\u51fa\u6765\u7684\uff0c\u4f46\u662f\u6211\u61d2~~\n\n   \u770b\u5230\u8fd9\u4e00\u70b9\u540e\u53ea\u8981\u5355\u72ec\u6253\u4e00\u4e2a\u9ad8\u7cbe\u4e58\u6cd5\u5c31\u53ef\u4ee5\u4e86\n   \n   ```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nll n,kk,a[15],ori,cha,vis[15][15],cnt[15];\nstruct num\n{\n\tchar c[1005];\n\tint len;\n}ans;\nint main()\n{\n\tchar s=getchar();\n\twhile(!isdigit(s)) s=getchar();\n\tfor(;isdigit(s);s=getchar()) ++a[s-'0'];\n\t\n\t\n\tcin>>kk;\n\t\n\tfor(ll i=0;i<=9;i++) vis[i][i]=1;\n\t\n\tfor(ll i=1;i<=kk;i++)\n\t{\n\t  cin>>ori>>cha;\n\t  vis[ori][cha]=1;\n\t}\n\t\n\t\n\tfor(ll j=1;j<=9;j++)\n\t{\n\t\tfor(ll i=0;i<=9;i++)\n\t\t{\n\t\t\tfor(ll k=0;k<=9;k++)\n\t\t\tif(vis[i][j]&&vis[j][k]) vis[i][k]=1;\n\t\t}\n\t}\n\t\n\tfor(ll i=0;i<=9;i++)\n\t{\n\t\tfor(ll j=0;j<=9;j++)\n\t\tif(vis[i][j]) cnt[i]++;\n\t}\n\n\t\n\tans.len=1;\n\tans.c[1]=1;\n\n\t\n\tfor(ll i=0;i<=9;i++)\n\t{\n\t\t//if(cnt[i]==1) continue;\n\t\tfor(ll j=1;j<=a[i];j++) \n\t\t{\n\t\t\tfor(int k=1;k<=ans.len;k++)\tans.c[k]*=cnt[i];\n\t\t\tfor(int k=1;k<=ans.len;k++) \n\t\t\t{\n\t\t\t\tans.c[k+1]+=ans.c[k]/10;\n\t\t\t\tans.c[k]%=10;\n\t\t\t}\n\t\t\tif(ans.c[ans.len+1]) ans.len++;\n\t\t}\n\t}\n\t\n\tfor(int i=ans.len;i>=1;i--) \n\tcout<<(char)(ans.c[i]+'0');\n\treturn 0;\n}\n```\n\n\n",
        "postTime": 1555071926,
        "uid": 56865,
        "name": "Adaxy",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u96c6\u5408a[i]\u5b58\u50a8i\u80fd\u53d8\u6210\u7684\u6570\u5b57\uff0ci \u80fd\u53d8\u6210 j \u5c31\u662f\u628a j \u80fd\u53d8\u6210\u7684\u6570\u52a0\u5230 i \u80fd\u53d8\u6210\u7684\u6570\u91cc\uff0c\u5373a[i]=a[i]+a[j]\u3002\n\n\u4f46\u662f\u5982\u679c\u8fd9\u6837\u6309\u8f93\u5165\u987a\u5e8f\u53ea\u5904\u7406\u4e00\u6b21\u4e0d\u884c\uff0c\u56e0\u4e3a\u6570\u636e\u7ed9\u51fa\u7684\u987a\u5e8f\u4e0d\u4e00\u5b9a\u662f\u6b63\u5e8f\u3002\n\n\u6bd4\u5982\u8fd9\u6837\n\n```\n2 3\n3 4\n```\n\u5904\u7406\u4e00\u904d\u53ea\u80fd\u628a3\u52a0\u5230a[2]\u91cc\uff0c\u518d\u5904\u7406\u4e00\u904d\u624d\u80fd\u5b8c\u6210\u3002\n\n\u5bf9\u4e8e\u6700\u574f\u60c5\u51b5\uff08\u7ed9\u51fa\u7684\u987a\u5e8f\u5b8c\u5168\u662f\u9006\u5e8f\uff09\uff0c\u6700\u591a\u9700\u8981\u505ak\u6b21\u3002\n\n\u4ee3\u7801\n\n```pascal\ntype ss=set of 0..9;\nvar p:array[0..16,1..2] of integer;\n    a:array[0..9] of ss;\n    s:array[0..9] of integer;\n    k,i,j,x,y:longint;\n    c:char;\n    anss:int64;\n    n,ans:string;\nbegin\n  for i:=0 to 9 do\n    s[i]:=0;\n  n:='';\n  anss:=1;\n  ans:='1';\n  for i:=0 to 9 do\n    a[i]:=[i];\n  read(c);\n  repeat\n    n:=n+c;\n    read(c);\n  until c=' ';\n  read(k);\n  for i:=1 to k do\n    read(p[i,1],p[i,2]);\n  for i:=1 to k do\n    for j:=1 to k do\n      a[p[j,1]]:=a[p[j,1]]+a[p[j,2]];\n  for i:=0 to 9 do\n    for j:=0 to 9 do\n      if j in a[i] then inc(s[i]);\n  for i:=1 to length(n) do\n  begin\n    c:=n[i];\n    x:=ord(c)-48;\n    cheng(s[x]);//\u9ad8\u7cbe\u5ea6\n  end;\n  write(ans);\nend.\n```",
        "postTime": 1542201873,
        "uid": 118408,
        "name": "lieb",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u9996\u5148\u601d\u8def\uff1a\n\n\u6211\u4eec\u8981\u8003\u8651\u7684\u662f\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6620\u5c04\u662f\u53ef\u4ee5\u7b49\u540c\u4e8e\u4e00\u4e2a\u6709\u5411\u56fe\u7684\u8fde\u8fb9\u7684\n\n\uff08\u9898\u76ee\u4e2d\u63d0\u5230 \u4e00\u4f4d\u6570\u53ef\u53d8\u6362\u6210\u53e6\u4e00\u4e2a\u4e00\u4f4d\u6570\uff09\u6240\u4ee5\u663e\u7136\u662f\u5355\u5411\u4f20\u9012\u7684\uff0c\u53ef\u4ee5\u8003\u8651\u6709\u5411\u56fe\u5efa\u8fb9\n\n\u800c\u4e140->9\u7684\u963f\u62c9\u4f2f\u6570\u5b57\uff0c\u6211\u4eec\u518d\u600e\u4e48\u5f00\u90fd\u4e0d\u5bb9\u6613\u7206\u4e86\uff08\u9664\u975e8\u30019\u7ef4\uff09\n\n\u6211\u4eec\u77e5\u9053\u4e58\u6cd5\u539f\u7406\u8fd9\u4e48\u4e00\u56de\u4e8b\n\n\u4e0d\u4e86\u89e3\u7684\u53ef\u4ee5\u70b9\u51fb\u6211\u7684\u535a\u6587\uff08\u6709\u4e00\u4e2a\u57fa\u7840\u7ec4\u5408\u7684\u53ef\u4ee5\u8003\u8651\u770b\u770b\uff09\uff1a\n\nhttp://www.cnblogs.com/ACworker/p/7229238.html\n\n\u6240\u4ee5\u6211\u4eec\u5b9e\u9645\u4e0a\u53ea\u8981\u7edf\u8ba1\u80fd\u591f\u6ee1\u8db3\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u6570x\n\n\u5230\u5e95\u6709\u591a\u5c11\u4e2a\u6620\u5c04\u6ee1\u8db3x->m(m\u4e3a1->9\u7684\u4efb\u610f\u4e00\u4e2a\u6570\uff0c0\u9664\u5916\u3010\u9898\u76ee\uff1a\u89c4\u5219\u7684\u53f3\u90e8\u4e0d\u80fd\u4e3a\u96f6\u3011)\n\n\u7136\u540e\u518d\u8fdb\u884c\u4e58\u6cd5\u539f\u7406\u5373\u53ef\n\n\u6015\u91cd\u590d\uff1f\u53ef\u80fd\u6709\u5411\u8fb9\u4f1a\u6709\u91cd\u590d\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5224\u91cd\u5c31\u53ef\u4ee5\u5566\u3002\n\n\u4ee3\u7801\u89e3\u6790\u5728\u4ee3\u7801\u4e2d\u3002\n\n\\*/\n```cpp\n#include<bits/stdc++.h>\n#define LL long long\nusing namespace std;\nint numb[10],k,x,y,vis[10][10];//vis[i][j]\u8868\u793ai\u5230j\u8282\u70b9\u7684\u6570\u503c\uff08\u5c31\u662f\u5224\u65adi->j\u662f\u5426\u53ef\u4ee5\u8f6c\u5316\u7684\uff09 \n//numb[i]\u8bb0\u5f55i\u5230m\u7684\u6240\u6709\u6620\u5c04\u4e2a\u6570 \nint ans[2017],len;//ans\u8bb0\u5f55\u7b54\u6848\uff0c\u4e0d\u5f97\u4e0d\u8bf4\uff0c\u7b2c\u4e94\u4e2a\u70b9\u7684\u7b54\u6848\u957f\u5ea6\u4e3a22\u4f4d\uff0c\u6b63\u597d\u5361\u4e86long long\uff0c\u53ea\u80fd\u9ad8\u7cbe\u7b54\u6848 \nchar n[2017];//\u8bfb\u5165\u6570n \nnamespace qaq{\n    int main(){\n        memset(numb,0,sizeof(numb));\n        for(int i=0;i<=9;i++)\n            for(int j=0;j<=9;j++)\n                vis[i][j]=1000000000;//\u9996\u5148\u5148\u521d\u59cb\u5316\u6210\u4e00\u4e2a\u975e\u5e38\u5927\u7684\u503c\u4fdd\u8bc1\u6211\u4eec\u7b49\u4e0b\u505afloyd\u7684\u6b63\u786e\u6027 \n        scanf(\"%s%d\",n,&k);\n        for(int i=0;i<=9;i++)    vis[i][i]=1;//\u663e\u7136\u6211\u4eec\u81ea\u5df1\u662f\u53ef\u4ee5\u8f6c\u5316\u6210\u81ea\u5df1\u7684\uff0c\u8fd9\u91cc\u8981\u6ce8\u610f \n        for(int i=1;i<=k;i++){\n            scanf(\"%d%d\",&x,&y);\n            vis[x][y]=1;//\u8bfb\u5165\u8fb9\u5e76\u4e14\u66f4\u65b0\u8fb9 \n        }\n        //Floyd\u5927\u6cd5\u597d\u554a\uff0c\u7b80\u5355\u660e\u4e86 \n        for(int k=0;k<=9;k++)\n            for(int i=0;i<=9;i++)\n                for(int j=0;j<=9;j++){\n                    if(j==0)vis[i][j]=1000000000;//\u3010\u9898\u76ee\uff1a\u89c4\u5219\u7684\u53f3\u90e8\u4e0d\u80fd\u4e3a\u96f6\u3011\u6240\u4ee5\u6211\u4eec\u4e0d\u80fd\u7ed90\u4efb\u4f55\u7684\u673a\u4f1a \n                    else vis[i][j]=min(vis[i][j],vis[i][k]+vis[k][j]);//Floyd\u5173\u952e\u7b97\u6cd5\u90e8\u5206\u6c42\u6700\u77ed\u8def\uff08\u6216\u8005\u6700\u5927\u8def\uff09 \n                }\n           for(int i=0;i<=9;i++)\n               for(int j=0;j<=9;j++){\n                   if(vis[i][j]<100000)//\u627e\u5230\u8fb9\u4e86\u5c31\u53ef\u4ee5\u8bb0\u5f55 \n                       numb[i]++;\n               }\n           numb[0]++;//\u4f46\u662f\u6211\u4eec\u521a\u521aFloyd\u7684\u65f6\u5019\u628a0\u7684\u6240\u6709\u60c5\u51b5\u5e72\u6389\u4e86\uff0c\u5374\u5ffd\u7565\u4e860->0\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u8865\u6551\u4e00\u4e0b \n        /*for(int i=0;i<=9;i++){\n            for(int j=0;j<=9;j++)\n                printf(\"%d  \",vis[i][j]);\n            printf(\"\\n\");\n        }*/\n        /*for(int i=0;i<=9;i++)\n            printf(\"%d    \",numb[i]);\n        printf(\"\\n\");*/\n        ans[0]=numb[n[0]-'0'];\n        len=1;\n        /*for(int x=len-1;x>=0;x--)\n            printf(\"%d\",ans[x]);\n        printf(\"\\n\");*/\n        for(int i=1;i<strlen(n);i++){//\u7136\u540e\u5c31\u662f\u9ad8\u7cbe\u4e58\u6cd5\uff0c\u6a21\u62df\u5217\u7ad6\u5f0f\u7684\u65b9\u5f0f\u5373\u53ef \n            int temp=numb[n[i]-'0'];\n            for(int j=0;j<len;j++)\n                ans[j]*=temp;\n            for(int j=0;j<len;j++)\n                ans[j+1]+=ans[j]/10,ans[j]%=10;\n            if(ans[len]>0)len++;\n            /*for(int x=len-1;x>=0;x--)\n                printf(\"%d\",ans[x]);\n            printf(\"\\n\");*/\n        }\n        for(int x=len-1;x>=0;x--)//\u8f93\u51fa \n            printf(\"%d\",ans[x]);\n        printf(\"\\n\");\n        return 0;\n    }\n}\nint main(){\n    qaq::main();\n    return 0;\n}\n```",
        "postTime": 1508678919,
        "uid": 28939,
        "name": "Lyrics",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "/\\*\n\u601d\u8def\u5927\u81f4\u4e3a\uff1a\n\n\u8bb0\u5f55 n \u4e2d\u6bcf\u4f4d\u53ef\u4ee5\u53d8\u6362\u7684\u6570\u7684\u4e2a\u6570 (\u8981\u5305\u62ec\u81ea\u5df1)\n\n\u5c06 n \u4e2d\u6bcf\u4e00\u4f4d\u80fd\u591f\u53d8\u6362\u7684\u6b21\u6570\u76f8\u4e58\u5373\u4e3a\u7b54\u6848 (\u4e58\u6cd5\u539f\u7406)\n\n~~~\u5f53\u7136\u8981\u7528\u5230\u9ad8\u7cbe~~~\n\n\n\u4ee3\u7801\u5e76\u4e0d\u7b80\u7ec3\uff0c\u7ed9\u5404\u4f4d\u63d0\u4f9b\u53c2\u8003\n\n\\*/\n\n\n\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<string>\nusing namespace std;\nstring n;\nint len;\nint k;\nint a,b;\nint sum[10]={0};//sum[i]: \u6570\u5b57 i \u51fa\u73b0\u7684\u6b21\u6570 \nstring ans=\"1\";//\u521d\u503c\u8bbe\u4e3a \"1\" \nstring su[10];//string \u7c7b\u578b\u7684 1~9 \u7684\u53d8\u6362\u6b21\u6570 \nint vis[20][20];//i \u662f\u5426\u53ef\u4ee5\u53d8\u6210 j \nstring add(string str1,string str2)//\u9ad8\u7cbe\u52a0\u6cd5 \n{\n    string str=\"\";\n    int len1=str1.size(),len2=str2.size();\n    if(len1<len2) for(int i=1;i<=len2-len1;i++) str1=\"0\"+str1;\n    else for(int i=1;i<=len1-len2;i++) str2=\"0\"+str2;//\u957f\u5ea6\u77ed\u7684\u5b57\u7b26\u4e32\u8865\u9f50 0 \n    len1=str1.size(),len2=str2.size();//len1\u6216len2\u7684\u503c\u53ef\u80fd\u88ab\u66f4\u65b0\uff0c\u987b\u518d\u8d4b\u4e00\u8fb9\u503c \n    int temp,cf=0;//temp\u4e2a\u4f4d   cf\u5341\u4f4d \n    for(int i=len1-1;i>=0;i--)\n    {\n        temp=str1[i]-'0'+str2[i]-'0'+cf;//\u5f53\u524d\u4f4d\u7684\u548c \n        cf=temp/10;//\u8fdb\u4f4d \n        temp%=10;//\u5f53\u524d\u4f4d \n        str=char(temp+'0')+str;//\u5199\u5165\u5b57\u7b26\u4e32 \n    }\n    if(cf) str=char(cf+'0')+str;//\u5982\u679c\u8fd8\u6709\u8fdb\u4f4d\uff0c\u518d\u52a0\u4e0a \n    return str;\n}\nstring mul(string str1,string str2)//\u9ad8\u7cbe\u4e58\u6cd5 \n{\n    string str;\n    int len1=str1.size(),len2=str2.size();\n    string tempstr;\n    for(int i=len2-1;i>=0;i--)//\u4e24\u5c42\u5faa\u73af\u5c06\u4e24\u4e2a\u5b57\u7b26\u4e32\u7684\u6bcf\u4e00\u4f4d\u76f8\u4e58 \n    {\n        tempstr=\"\";\n        int temp=str2[i]-'0',cf=0,t=0;\n        if(temp)\n        {\n            for(int j=1;j<=len2-i-1;j++) tempstr+=\"0\";\n            for(int j=len1-1;j>=0;j--)//\u4e0b\u9762\u7684\u5904\u7406\u4e0e\u4e0a\u9762\u7684\u52a0\u6cd5\u7c7b\u4f3c \n            {\n                t=(temp*(str1[j]-'0')+cf)%10;\n                cf=(temp*(str1[j]-'0')+cf)/10;\n                tempstr=char(t+'0')+tempstr;\n            }\n            if(cf) tempstr=char(cf+'0')+tempstr;\n        }\n        str=add(str,tempstr);//\u8c03\u7528\u9ad8\u7cbe\u52a0\u6cd5 \n    }\n    str.erase(0,str.find_first_not_of('0'));//\u64e6\u53bb\u524d\u5bfc\u96f6 \n    return str;\n}\n//\u56e0\u4e3a\u6bd4\u5982\u5f53 2->5 \uff0c\u5e76\u4e14 5->6 \u90a3\u4e48 2 \u4e5f\u53ef\u4ee5\u53d8\u6210 6\n//\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528 floyd \u7684\u601d\u60f3\u6765\u5224\u65ad\u4e00\u4e0b 2 \u4e0e 6 \u7684\u8fde\u901a\u6027 \ninline void work()//\u5224\u65ad i \u4e0e j \u7684\u8fde\u901a\u6027 \n{\n    for(int k=0;k<=9;k++)\n```\n{//\u5faa\u73af 0~9\n\n```cpp\n        for(int i=0;i<=9;i++)\n        {\n            for(int j=0;j<=9;j++)\n            {\n                if(vis[i][k] && vis[k][j]) vis[i][j]=true;\n            }\n        }\n    }\n}\nint main()\n{\n    ios::sync_with_stdio(false);\n    cin>>n>>k;\n    len=n.size();\n    for(int i=0;i<=9;i++) su[i]=\"\";//\u9884\u5904\u7406 \n    for(int i=1;i<=k;i++)\n    {\n        cin>>a>>b;\n        vis[a][b]=true;\n    }\n    for(int i=0;i<=9;i++) vis[i][i]=true;\n    work();\n    for(int i=0;i<=9;i++)\n    {\n        for(int j=0;j<=9;j++) if(vis[i][j]) sum[i]++;//\u6c42\u51fai\u6709\u591a\u5c11\u79cd\u53d8\u6362\u65b9\u5f0f \n    }\n    for(int i=0;i<=9;i++)\n```\n{//\u5c06\u6bcf\u4e2a\u6570\u5b57\u53d8\u6362\u6b21\u6570\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u4ee5\u4fbf\u9ad8\u7cbe\u5ea6\u8ba1\u7b97\n```cpp\n        int z=sum[i];\n        while(z)\n        {\n            su[i]=char(z%10+'0')+su[i];\n            z/=10;\n        }\n    }\n    for(int i=0;i<len;i++) ans=mul(ans,su[int(n[i]-'0')]);\n    cout<<ans;\n    return 0;\n}\n/*\u2605 Menamovic \u2605*/\n```",
        "postTime": 1506310540,
        "uid": 43003,
        "name": "MenaS",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u5982\u679c\u672c\u9898\u7528\u641c\u7d22\uff0c\u641c\u7d22\u7684\u8303\u56f4\u4f1a\u5f88\u5927(\u56e0\u4e3an\u53ef\u80fd\u670930\u4f4d!)\uff0c\u663e\u7136\u65e0\u6cd5\u5728\u89c4\u5b9a\u7684\u65f6\u95f4\u5185\u51fa\u89e3\u3002\u800c\u6211\u4eec\u6ce8\u610f\u5230\u672c\u9898\u53ea\u9700\u8ba1\u6570\u800c\u4e0d\u9700\u8981\u6c42\u51fa\u5177\u4f53\u65b9\u6848\uff0c\u6240\u4ee5\u6211\u4eec\u7a0d\u52a0\u5206\u6790\u5c31\u4f1a\u53d1\u73b0\uff0c\u53ef\u4ee5\u7528\u4e58\u6cd5\u539f\u7406\u76f4\u63a5\u8fdb\u884c\u8ba1\u6570\u3002\n\n\u8bbeF[i]\u8868\u793a\u4ece\u6570\u5b57i\u51fa\u53d1\u53ef\u4ee5\u53d8\u6362\u6210\u7684\u6570\u5b57\u4e2a\u6570(\u8fd9\u91cc\u7684\u53d8\u6362\u53ef\u4ee5\u662f\u76f4\u63a5\u53d8\u6362\uff0c\u4e5f\u53ef\u4ee5\u662f\u95f4\u63a5\u53d8\u6362\uff0c\u6bd4\u5982\u6837\u4f8b\u4e2d\u76841\u53ef\u4ee5\u53d8\u6362\u62102\uff0c\u800c2\u53c8\u53ef\u4ee5\u53d8\u6362\u62103\uff0c\u6240\u4ee51\u4e5f\u53ef\u4ee5\u53d8\u6362\u62103\uff1b\u53e6\u5916\u81ea\u5df1\u672c\u8eab\u4e0d\u53d8\u6362\u4e5f\u662f\u4e00\u79cd\u60c5\u51b5)\u3002\u90a3\u4e48\u5bf9\u4e8e\u4e00\u4e2a\u957f\u5ea6\u4e3am\u4f4d\u7684\u6574\u6570a\uff0c\u6839\u636e\u4e58\u6cd5\u539f\u7406\uff0c\u80fd\u4ea7\u751f\u7684\u4e0d\u540c\u7684\u6574\u6570\u7684\u4e2a\u6570\u4e3a\uff1aF[a[1]]\\*F[a[2]]\\*F[a[3]]\\*\u2026\\*F[a[m]]\u3002\n\n\u4e0b\u9762\u7684\u95ee\u9898\u662f\u5982\u4f55\u6c42F[i]\u5462\uff1f\u7531\u4e8e\u8fd9\u4e9b\u53d8\u6362\u89c4\u5219\u90fd\u662f\u53cd\u6620\u7684\u6570\u5b57\u4e0e\u6570\u5b57\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u6240\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u5e03\u5c14\u578b\u7684\u4e8c\u7ef4\u6570\u7ec4g[0..9\uff0c0..9]\u6765\u8868\u793a\u6bcf\u5bf9\u6570\u5b57\u4e4b\u95f4\u662f\u5426\u53ef\u4ee5\u53d8\u6362\uff0c\u521d\u59cb\u65f6\u90fd\u4e3aFalse\uff1b\u6839\u636e\u8f93\u5165\u7684\u6570\u636e\uff0c\u5982\u679c\u6570\u5b57i\u80fd\u76f4\u63a5\u53d8\u6362\u6210\u6570\u5b57j\uff0c\u90a3\u4e48g[i\uff0cj]\u7f6e\u4e3aTrue\uff0c\u8fd9\u662f\u901a\u8fc7\u4e00\u6b21\u53d8\u6362\u5c31\u80fd\u5f97\u5230\u7684\uff1b\u63a5\u4e0b\u6765\u8003\u8651\u90a3\u4e9b\u95f4\u63a5\u53d8\u6362\u53ef\u5f97\u5230\u7684\u6570\u5b57\u5bf9\uff0c\u5f88\u660e\u663e\uff1a\u5982\u679ci\u53ef\u4ee5\u53d8\u4e3ak\uff0ck\u53c8\u53ef\u4ee5\u53d8\u4e3aj\uff0c\u90a3\u4e48i\u5c31\u53ef\u4ee5\u53d8\u4e3aj\uff0c\u5373\uff1a\n\n```cpp\n    for k:=0 to 9 do\n      for i:=0 to 9 do\n        for j:=0 to 9 do\n          g[i,j]\uff1dg[i,j]or(g[i,k] and g[k,j])\uff1b\uff08\u5f17\u6d1b\u4f0a\u5fb7\u601d\u60f3\uff09\n```\n\u6700\u540e\u8fd8\u8981\u6ce8\u610f\uff0c\u5f53n\u5f88\u5927\u65f6\uff0c\u89e3\u7684\u4e2a\u6570\u5f88\u5927\uff0c\u6240\u4ee5\u8981\u7528\u9ad8\u7cbe\u5ea6\u8fd0\u7b97\u3002\n\n\n\n\n\n```cpp\n_**//\u4e0d\u8981\u6284\u4ee3\u7801\uff0c\u4e0d\u7136\u4f60\u4f1a\u540e\u6094\u7684**\u3002_\nvar v,u,x,y:array[0..9]of longint;\n    a:array[0..9,0..9]of longint;\n    b:array[1..1000]of longint;\n    sum:array[1..10000]of longint;\n    i,t1,k,t,result,j,h:longint;\n    c:char;\n    w:array[0..9,0..9]of boolean;\nprocedure cz;\nvar i,j,k1:longint;\nbegin\n  for i:=0 to 9  do\n  w[i,i]:=true;\n  for k1:=0 to 9 do\n    for i:=0 to 9 do\n      for j:=0 to 9 do\n  begin\n    if (k1=i)or(i=j)or(i=k1)then\n    h:=1 else\n    if (w[i,j]=false)and(w[i,k1]=true)and(w[k1,j]=true)\n       and(a[i,j]<a[i,k1]+a[k1,j])then\n    begin\n      w[i,j]:=true;\n      a[i,j]:=a[i,k1]+a[k1,j];\n    end;\n  end;\n  for i:=0 to 9 do\n    for j:=0 to 9 do\n  if w[i,j] then inc(v[i]);\nend;\nprocedure fj;\nvar c:array[1..1000]of longint;\n    x:longint;\nbegin\n  fillchar(b,sizeof(b),0);\n  fillchar(c,sizeof(c),0);\n  x:=v[i];\n  t:=0;\n  while x<>0 do\n  begin\n    inc(t);\n    c[t]:=x mod 10;\n    x:=x div 10;\n  end;\n  for j:=1 to t do b[j]:=c[j];\nend;\nprocedure gj;\nvar j,k:longint;\n    su:array[1..10000]of longint;\nbegin\n  fillchar(su,sizeof(su),0);\n  for j:=1 to t1 do\n  su[j]:=sum[j];\n  fillchar(sum,sizeof(sum),0);\n  for j:=1 to t1 do\n  for k:=1 to t  do\n  begin\n    sum[j+k-1]:=su[j]*b[k]+sum[j+k-1];\n    if sum[j+k-1]>9 then\n    begin\n      sum[j+k]:=sum[j+k-1]div 10;\n      sum[j+k-1]:=sum[j+k-1]mod 10;\n      if t1<j+k then t1:=j+k;\n    end;\n    if t1<j+k-1 then t1:=j+k-1;\n  end;\nend;\nbegin\n  read(c);\n  fillchar(w,sizeof(w),false);\n  while c<>' 'do\n  begin\n    val(c,i,result);\n    inc(u[i]);\n    read(c);\n  end;\n  read(k); readln;\n  for i:=1 to k do\n  begin\n    readln(x[i],y[i]);\n    a[x[i],y[i]]:=1;\n    w[x[i],y[i]]:=true;\n  end;\n  cz;\n  sum[1]:=1;\n  t1:=1;\n  h:=0;\n  for i:=0 to 9 do\n  begin\n    if (u[i]<>0)and(v[i]<>0) then\n    begin\n      fj;\n      for j:=1 to u[i] do\n      gj;\n    end;\n  end;\n  for i:=1 to t1 do\n  write(sum[i]);\nend.\n\n```",
        "postTime": 1475655104,
        "uid": 9538,
        "name": "\u5434\u56fd\u94e8",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "### \u7b80\u5316\u7248\u9898\u76ee\n\n\u9996\u5148\u662f\u8f93\u5165\u4e00\u4e2a\u6570\uff0c\u7136\u540e\u8f93\u5165n\u6392\uff0c\u6bcf\u4e00\u884c\u6709\u4e00\u4e2a$x$\u548c$y$,\u8868\u793a$x$\u53ef\u4ee5\u66ff\u6362\u4e3a$y$\uff0c\u7279\u522b\u7684\uff0c$y\u22600$\uff0c\u4f46$x$\u53ef\u4ee5\uff0c\u4ee5\u53ca\u5982\u679c$x$\u53ef\u4ee5\u66ff\u6362\u4e3a$y$\uff0c$y$\u53ef\u4ee5\u66ff\u6362\u4e3a$z$\uff0c\u90a3\u4e48$x$\u5c31\u53ef\u4ee5\u66ff\u6362\u4e3a$z$\u3002\n\n\u4ee5\u4e0a\u5c31\u662f\u672c\u9898\u7684\u610f\u601d\u4ee5\u53ca\u6240\u6709\u7684\u5751\u70b9\n\n### \u89e3\u9898\u8fc7\u7a0b\n\u672c\u9898\u53ef\u4ee5\u4f7f\u7528\u56fe\u8bba\u601d\u60f3\u7b80\u5355\u5730\u89e3\u51fa\u6765\uff1a\n\n\u8bbe$p[i][j]$\u4e3a\u7b2c$i$\u53ef\u4ee5\u66ff\u6362\u4e3a$j$\uff0c\u8f93\u5165\u5c31\u4e0d\u7528\u8bf4\u4e86\uff0c\n\u770b\u4ee3\u7801\u5427\uff1a\n\n```cpp\ncin>>a>>n;//a\u4e3a\u539f\u6570\uff0cn\u4f4d\u66ff\u6362\u89c4\u5219\u7684\u4e2a\u6570\nfor(int i=1;i<=n;i++)\n{\n\tcin>>x>>y;\n\tp[x][y]=1;//1\u8868\u793ax\u53ef\u4ee5\u66ff\u6362\u4e3ay\uff0c\u53cd\u4e4b\u5219\u4e0d\u80fd\n}\n```\n\n\u4e0b\u4e00\u6b65\uff0c\u7531\u4e8e\u524d\u9762\u8bf4\u7684\uff1a\u5982\u679c$x$\u53ef\u4ee5\u66ff\u6362\u4e3a$y$\uff0c$y$\u53ef\u4ee5\u66ff\u6362\u4e3a$z$\uff0c\u90a3\u4e48$x$\u5c31\u53ef\u4ee5\u66ff\u6362\u4e3a$z$\n\nso\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528Floyd\u6765\u7b97\u51fa\u4e00\u4e2a\u6570\u5b57\u5230\u5e95\u53ef\u4ee5\u66ff\u6362\u6210\u5176\u4ed6\u54ea\u51e0\u79cd\u6570\u5b57\uff0c\u548c$0/1$\u6700\u77ed\u8def\u5f88\u76f8\u4f3c\u3002\n\n\u7ee7\u7eed\u4e0a\u4ee3\u7801\n\n```cpp\nfor(int k=1;k<=9;k++)//\u6ce8\u610f\u8fd9\u91cck,j\u7684\u521d\u59cb\u503c\u4e3a1\uff0c\u56e0\u4e3a\u89c4\u5219\u53f3\u8fb9\u4e0d\u80fd\u4e3a1\n\tfor(int i=0;i<=9;i++)//\u6ce8\u610f\u8fd9\u91cci\u7684\u521d\u59cb\u503c\u4e3a0,\u56e0\u4e3a\u89c4\u5219\u5de6\u8fb9\u53ef\u4ee5\u4e3a0\n\t\tfor(int j=1;j<=9;j++)//Floyd\n\t\t\tif(p[i][k]&&p[k][j])p[i][j]=1;//0\\1\u6700\u77ed\u8def\n```\n\n\u53c8\u662f\u7279\u522b\u7684\uff0c\u7531\u4e8e\u4e0d\u6362\u4e5f\u662f\u4e00\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u9700\u8981\u4ee4$p[i][i]=true$\n\n\u770b\u61c2\u4e86\u4e0a\u9762\uff0c\u4e0b\u9762\u7684\u6b65\u9aa4\u5c31\u6bd4\u8f83\u6e05\u6670\u4e86\uff1a\u53c8\u8bbe$b[i]$\u4e3a\u6570\u5b57i\u53ef\u4ee5\u66ff\u6362\u4e3a\u5176\u4ed6\u7684\u6570\u5b57\u7684\u4e2a\u6570\uff0c\u90a3\u4e48\u53c8\u53cc\u91cd\u5faa\u73af\u9884\u5904\u7406\u51fa\u6bcf\u4e00\u4e2ab[i]\u7684\u503c\u5c31\u5b8c\u4e86\u3002\n\n\u8fd9\u4e00\u6bb5\u7684\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\nfor(int i=0;i<=9;i++)\n{\n\tp[i][i]=1;\n\tfor(int j=0;j<=9;j++)\n\t\tif(p[i][j])b[i]++;//\u8fd9\u91cc\u5e94\u8be5\u770b\u5f97\u61c2\u5427\uff1f\n}\n```\n\n\u798f\u5229\u4ee3\u7801\uff08\u81ea\u5df1\u90fd\u53ef\u4ee5\u6253\uff09\uff1a\u8f93\u51fab\u7684\u503c\u7528\u4e8e\u8c03\u8bd5\n\n```cpp\ncout<<\"b[i]:\";\nfor(int i=1;i<=9;i++)cout<<b[i]<<\" \";\ncout<<endl;//\u7528\u4e8e\u67e5\u770bb\u7684\u503c \n```\n\n\u7ee7\u7eed\uff0c\u5230\u4e86\u7b97\u503c\u9636\u6bb5\uff0c\u5176\u5b9e\u5c31\u662f\u628a\u6bcf\u4e00\u4f4d\u4e0a\u7684\u6570\u5b57\u53ef\u4ee5\u66ff\u6362\u6210\u5176\u4ed6\u7684\u6570\u5b57\u7684\u4e2a\u6570\u5168\u90e8\u4e58\u8d77\u6765\u5c31\u662f\u7b54\u6848\u4e86\u3002\n\n\u4e0d\u96be\u53d1\u73b0\u7b54\u6848\u662f\u7206long long\u7684\uff0c\u6211\u4eec\u4e0d\u5f97\u4e0d\u4f7f\u7528\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\uff0c\u5982\u679c\u5b81\u4e0d\u4f1a\u6216\u8005\u5fd8\u4e86\uff0c\u8fd9\u91cc\u662f\u6211\u7684\u535a\u5ba2\u4f20\u9001\u95e8\uff08P1303\u9898\u89e3\uff0c\u51e0\u4e4e\u65e0\u4eba\u95ee\u6d25\uff09\n\n### [P1303\u9ad8\u7cbe\u5ea6\u4e58\u6cd5](https://www.luogu.org/blog/leiyu666/solution-p1303)\n\n\u9644\u4e0a\u6700\u540e\u4e00\u6bb5\u4ee3\u7801\uff0c\u4ee5\u53ca\u6d4b\u8bd5\u6bcf\u4e00\u4f4d\u7684\u503c\u7684\u4ee3\u7801\n\n```cpp\nint z=0;//z\u7528\u4e8e\u8fdb\u4f4d\nans[0]=1;//ans\u7528\u4e8e\u5b58\u5927\u5c0f\nfor(int i=0;a[i];i++)\n{\n\tz=0;\n\tint x=b[a[i]-'0'];//\u5176\u5b9e\u5c31\u662f\u5f53\u524d\u6570\u4f4d\u7684\u6570\u5b57\n\t//cout<<\"x:\"<<x<<endl<<\"ans:\";\n\tfor(int j=0;j<500;j++)\n\t{\n\t\tans[j]=ans[j]*x+z;//\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\n\t\tz=ans[j]/10;\n\t\tans[j]%=10;\n\t\t//cout<<ans[j]<<\" \";\n\t}\n\t//cout<<endl;\n\t//\u7528\u4e8e\u67e5\u770b\u6bcf\u4e00\u6b21\u7684\u56e0\u6570\u548c\u79ef\uff0c\u4e0d\u8981\u5fd8\u4e86\u662f\u53cd\u7684 \n\t}\n\tint i=500;\n\twhile(ans[i]==0)i--;//\u53bb\u9664\u6240\u6709\u6700\u9ad8\u4f4d\u4e0a\u76840\n\tfor(;i>=0;i--)cout<<ans[i];//\u6700\u540e\u5012\u7740\u8f93\u51fa\n```\n### \u5b8c\u6574\u4ee3\u7801\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nstring a;\nint n,x,y,p[1001][1001],b[10001];\nint ans[100001];\nint main()\n{\n\tcin>>a>>n;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>x>>y;\n\t\tp[x][y]=1;\n\t}\n\tfor(int k=1;k<=9;k++)\n\tfor(int i=0;i<=9;i++)\n\tfor(int j=1;j<=9;j++)\n\tif(p[i][k]&&p[k][j])p[i][j]=1;\n\tfor(int i=0;i<=9;i++)\n\t{\n\t\tp[i][i]=1;\n\t\tfor(int j=0;j<=9;j++)\n\t\tif(p[i][j])\n\t\tb[i]++;\n\t}\n\t/*cout<<\"b[i]:\";\n\tfor(int i=1;i<=9;i++)cout<<b[i]<<\" \";\n\tcout<<endl;*/\n\tint z=0;\n\tans[0]=1;\n\tfor(int i=0;a[i];i++)\n\t{\n\t\tz=0;\n\t\tint x=b[a[i]-'0'];\n\t\t//cout<<\"x:\"<<x<<endl<<\"ans:\";\n\t\tfor(int j=0;j<500;j++)\n\t\t{for\n\t\t{\n\t\t\t\n\t\t} \n\t\t\tans[j]=ans[j]*x+z;\n\t\t\tz=ans[j]/10;\n\t\t\tans[j]%=10;\n\t\t\t//cout<<ans[j]<<\" \";\n\t\t}\n\t\t//cout<<endl;\n\t}\n\tint i=500;\n\twhile(ans[i]==0)i--;\n\tfor(;i>=0;i--)cout<<ans[i];\n}\n```\n### CSP\u52a0\u6cb9\uff01\uff01\uff01\uff01",
        "postTime": 1570701002,
        "uid": 224927,
        "name": "lei_yu",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u4e8c\u7ef4$ Floyd $\n\n$ 2-5, 3-6 $\u52a0\u8fb9\u6743\n\n\u7edf\u8ba1\u6bcf\u4e00\u4f4d\u4e2a\u6570\n\n```\nd[i][j] = min(d[i][j], d[i][k] + d[k][j]);\n```\n\n\u52a0\u4e00\u4e2a\u9ad8\u7cbe\u4e58\u5355\u7cbe\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include<bits/stdc++.h>\n#define FOR(i, a, b) for(int i = a; i <= b; i++)\n#define _FOR(i, a, b) for(int i = a; i >= b; i--)\n\nconst int NR = 100;\n\nint d[10][10];\nint num[10];\nint a[NR];\nint n, x, y;\nchar s[NR];\nvoid cheng(int x) {\n    for (int i = a[0];i >= 1; i--) a[i] *= x;\n    for (int i = 1; i <= a[0]; i++) {\n        a[i + 1] += a[i] / 10;\n        a[i] %= 10;\n        if (a[i + 1]) a[0] = max(a[0], i + 1);\n    }\n}\n\nint main() {\n    scanf(\"%s\", s);\n    scanf(\"%d\", &n);\n    memset(d, 999999, sizeof(d));\n    FOR(i, 1, n) {\n    \tscanf(\"%d%d\", &x, &y);\n    \td[x][y] = 0;\n    }\n    FOR(i, 0, 9) {\n        d[i][i] = 0;\n    }\n    FOR(k, 0, 9) {\n        FOR(i, 0, 9) {\n            FOR(j, 0, 9) {\n    \t\t\td[i][j] = min(d[i][j], d[i][k] + d[k][j]);\n            }\n        }\n    }\n    FOR(i, 0, 9) {\n        FOR(j, 0, 9) {\n    \t\tif (d[i][j] == 0) {\n                num[i]++;\n            }\n    \t    // printf(\"%d\\n\", num[i]);\n        }\n    }\n    \n    a[0] = a[1] = 1;\n \tfor (int i = 0; i < strlen(s); i++) {\n\t    cheng(num[s[i] - '0']);\n    }\n    _FOR(i, a[0], 1) {\n\t    printf(\"%d\", a[i]);\n    }\n}\n```",
        "postTime": 1560947631,
        "uid": 89371,
        "name": "Frostnova",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u5f88\u4e45\u4e4b\u524d\u505a\u8fc7\u4e00\u6b21\uff0c\uff0c\uff0c\u7136\u540e\u4eca\u5929\u770b\u774040\u5206\u4e0d\u723d\uff0c\uff0c\uff0c\u53c8\u505a\u4e86\u4e00\u6b21\uff0c\uff0c\uff0c\u679c\u7136\u53c8\u662f40\n\uff0c\uff0c\uff0c\uff0c\n\n\u6839\u636e\u4e58\u6cd5\u539f\u7406\uff1f\u6216\u8005\u662f\u6392\u5217\u7ec4\u5408\u4e4b\u7c7b\u7684\n\n\u6211\u4eec\u663e\u7136\u53ef\u4ee5\u5f97\u5230\uff1a\n\nans=\u6bcf\u4e2a\u4f4d\u4e0a\u53ef\u4ee5\u53d6\u7684\u6570\u5b57\u7684\u79cd\u6570\n\n\u6240\u4ee5\u6211\u4eec\u8981\u505a\u7684\u5c31\u662f\u7edf\u8ba1\u6bcf\u79cd\u6570\u5b57\u53ef\u4ee5\u53d8\u6362\u6210\u54ea\u4e9b\u6570\u5b57\n\n\u540c\u65f6\u6ce8\u610f\u7edf\u8ba1\u81ea\u5df1\uff08\u56e0\u4e3a\u53ef\u4ee5\u4e0d\u53d8\uff09\n\n\u7136\u800c\u4e24\u6b21\u90fd\u5ffd\u7565\u4e86\u5f53x --- > y\u540e\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884cy\u7684\u53d8\u6362\u4e86\uff0c\n\n\u6240\u4ee5\u7531\u4e8e\u8fd9\u4e2a\u7279\u6027\uff0c\u5355\u7eaf\u7edf\u8ba1\u5c31\u4e0d\u597d\u8ba1\u7b97\u4e86\uff0c\n\n\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u6df1\u641c\uff0c\u5e76\u4e14\u5224\u65ad\u8d70\u8fc7\u7684\u4e0d\u80fd\u8d70\uff0c\u4ee5\u514d\u9677\u5165\u6b7b\u5faa\u73af\uff0c\n\n\u540c\u65f6\u7531\u4e8eans\u4f1a\u5f88\u5927\uff0c\u6240\u4ee5\u8981\u7528\u9ad8\u7cbe\u3002\u3002\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define R register int\n#define AC 12\n#define ACway 100\nint k,tmp;\nint s[40],cnt[AC],ans[ACway],len,d[ACway];\nint date[ACway],Next[ACway],Head[AC],tot;\nint t;\nbool z[AC][AC],vis[AC];\n\nvoid read()\n{\n\tchar c=getchar();\n\twhile(c > '9' || c < '0') c=getchar();\n\twhile(c >= '0' && c <= '9') \n\t{\n\t\ts[++tmp]=c-'0';\n\t\tc=getchar();\n\t}\n}\n\ninline void add(int f,int w)\n{\n\tdate[++tot]=w,Next[tot]=Head[f],Head[f]=tot;\n}\n\nvoid DFS(int x,int y)\n{\n\tif(!z[x][y]) z[x][y]=true,cnt[x]++;\n\tvis[y]=true;\n\tR now;\n\tfor(R i=Head[y]; i ;i=Next[i])\n\t{\n\t\tnow=date[i];\n\t\tif(!vis[now]) DFS(x,now);\n\t}\n}\n\nvoid pre()\n{\n\tint a,b;\n\tscanf(\"%d\",&k);\n\tfor(R i=1;i<=k;i++)\n\t{\n\t\tscanf(\"%d%d\",&a,&b);\n\t\tadd(a,b);\n\t}\n\tfor(R i=0;i<=9;i++) \n\t{\n\t\tmemset(vis,0,sizeof(vis));\n\t\tDFS(i,i);\n\t}\n\tans[1]=1,len=1;\n}\n\nvoid count(int x)\n{\n\tif(x == 1) return ;\n\tt++;\n\tmemset(d,0,sizeof(d));\n\tfor(R i=1;i<=len;i++)\n\t{\n\t\td[i+1]=(ans[i] * x + d[i]) / 10 + d[i+1];\n\t\td[i]=(ans[i] * x + d[i]) % 10;//error!!!\u8fdb\u4f4d\u662f\u8981\u5305\u62ec\u5f53\u524d\u4f4d\u7684\n\t}\n\tlen++;\n\twhile(!d[len]) len--;\n\tfor(R i=1;i<=len;i++) ans[i]=d[i];\n}\n\nvoid work()\n{\n\tfor(R i=1;i<=tmp;i++)\tcount(cnt[s[i]]);\n\tfor(R i=len;i>=1;i--)\tprintf(\"%d\",ans[i]);\n\tprintf(\"\\n\");\n}\n\nint main()\n{\n\tfreopen(\"in.in\",\"r\",stdin);\n\tread();\n\tpre();\n\twork();\n\tfclose(stdin);\n\treturn 0;\n}\n```\n",
        "postTime": 1523883830,
        "uid": 47136,
        "name": "ww3113306",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "```cpp\n//\u6ce8\u610f1\uff1a2->3 3->4\u6709\u91cd\u590d\uff0840\u5206\uff09\n//\u6ce8\u610f2\uff1a\u6700\u540e\u4e00\u4e2a\u70b922\u4f4dlonglong\u53ea\u670921\u4f4d\u5dee\u4e00\u4f4d\u8981\u9ad8\u7cbe\uff0880\u5206\uff09\n//\u81ea\u5df1\u7684\u7b2c\u4e09\u9053\u9ad8\u7cbe \n//\u5982\u6709\u4e0d\u8db3 \n//\u51d1\u5408\u770b\u5427\n#include<iostream>\n#include<cstdlib>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<vector>\n#include<cmath>\n#include<set>\n#include<map>\n#include<queue>\nusing namespace std;\nchar s1[40];\nint l,a[40],k,ans[101];\nint nnn;\nint x[16],y[16],hash[10];\nvoid DFS(int v)\n{\n    for(int i=1;i<=k;i++)\n    {\n        if(v==x[i]&&hash[y[i]]==0) {hash[y[i]]++;DFS(y[i]);}\n    }\n}\nint main()\n{\n    int m=0;\n    freopen(\"in.in\",\"r\",stdin);\n    freopen(\"out.out\",\"w\",stdout);\n    scanf(\"%s%d\",s1,&k);\n    l=strlen(s1);\n    for(int i=1;i<=k;i++)\n    {\n        scanf(\"%d%d\",&x[i],&y[i]);\n    }\n    ans[1]=1;\n    for(int i=1;i<=l;i++)\n    {\n        memset(hash,0,sizeof(hash));\n        nnn=1;\n        a[i]=s1[i-1]-'0';\n        DFS(a[i]);\n        for(int j=0;j<=9;j++)\n        {\n            if(hash[j]!=0&&j!=a[i]) nnn++;\n        }\n        for(int j=1;j<=100;j++)\n        {\n            ans[j]=ans[j]*nnn+m;\n            m=0;\n            if(ans[j]>=10) {m=ans[j]/10;ans[j]=ans[j]%10;}\n        }\n    }\n    for(int i=1;i<=100;i++)\n    {\n        if(ans[i]!=0) l=i;\n    }\n    for(int i=l;i>=1;i--)\n    printf(\"%d\",ans[i]);\n    return 0;\n}\n```",
        "postTime": 1508850633,
        "uid": 53420,
        "name": "Aatroxyang",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u4e00\u4e2a\u6570\u53ef\u4ee5\u53d8\u6362\u591a\u6b21\uff0cfloyd\u6c42\u4f20\u9012\u95ed\u5305(\u521d\u59cb\u5316d[i][i]=1)\uff0c\u4e58\u6cd5\u539f\u7406\u66f4\u65b0\u7b54\u6848\n\n\u8981\u7528\u9ad8\u7cbe\u5ea6\uff0c\u6ce8\u610f\u8f93\u51fa\n\n\u7ed9\u51fa\u81ea\u8ba4\u4e3a\u6e05\u695a\u7684\u4ee3\u7801\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\ntypedef long long ll;\nconst int N=55,B=1e4;\ninline int read(){\n    int x=0,f=1,c=getchar();\n    for(;c< '0'||c >'9';c=getchar())if(c=='-')f=-1;\n    for(;c>='0'&&c<='9';c=getchar())x=x*10+c-48;\n    return x*f;\n}\nint k,x,y,d[N][N],f[N];\nchar s[N];\nstruct big{\n    int d[100],size;\n    int& operator [](int x) {return d[x];}\n    big(){size=1;}\n}ans;\nvoid cal(big &a,int b){\n    int g=0;\n    for(int i=1; i<=a.size; ++i)\n        g += a[i]*b, a[i] = g%B, g/=B;\n    if(g) a[++a.size] = g;\n}\nvoid print(big &a){\n    printf(\"%d\",a[a.size]);\n    for(int i=a.size-1;i>=1;--i) printf(\"%04d\",a[i]);\n}\nint main(){\n    scanf(\"%s%d\",s,&k);\n    for(int i=1;i<=k;++i)x=read(),y=read(),d[x][y]=1;\n    for(int i=0;i<=9;++i) d[i][i]=1;\n    for(int k=0;k<=9;++k)\n    for(int i=0;i<=9;++i)\n    for(int j=0;j<=9;++j)\n    d[i][j]=d[i][j]||(d[i][k]&&d[k][j]);\n    for(int i=0;i<=9;++i)\n    for(int j=0;j<=9;++j)\n    f[i]+=d[i][j];\n    ans.d[1]=1;int len=strlen(s);\n    for(int i=0;i<len;++i){\n        int a=s[i]-48;\n        cal(ans,f[a]);\n    }\n    print(ans);\n}\n```",
        "postTime": 1508311202,
        "uid": 48967,
        "name": "\u5948\u8299\u83b2",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u601d\u8def\u548c\u4e4b\u524d\u7684\u4e00\u6837\uff0c\u8ba1\u7b97\u6bcf\u4e2a\u6570\u80fd\u53d8\u5316\u6210\u51e0\u4e2a\uff0c\u7528\u4e58\u6cd5\u539f\u7406\u5b9e\u73b0\u3002\u53ea\u662f\u8ba1\u7b97\u7684\u8fc7\u7a0b\u4e0d\u540c\u4e8e\u5176\u4ed6\u9898\u89e3\u7528\u5f17\u6d1b\u4f0a\u5fb7\u7b97\u6cd5\u5b9e\u73b0\uff0c\u6211\u8fd9\u91cc\u7528\u4e86set\u5bb9\u5668\uff0c10\u4e2aset\u5bb9\u5668\uff0c\u6bcf\u4e2a\u5bb9\u5668\u4fdd\u5b58\u4e00\u4e2a\u6570\u5b57\u80fd\u53d8\u5316\u7684\u6570\u5b57\uff0c\u7528\u96c6\u5408\u5408\u5e76\u7684\u65b9\u6cd5\u8ba1\u7b97\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <set>\n#include <string>\n#include <cstring>\nusing namespace std;\nint k;char guize[15][2];\nstring n;\nset<char> shu[300];\nstruct gaojingdu{\n  int a[32];\n  gaojingdu(char c) {\n    memset(a,0,sizeof(a));\n    a[0]=c-'0';\n      \n  }\n  void  cheng(int chengshu) {\n    for (int i=0;i<=30;i++) {\n      a[i]*=chengshu;\n          \n    }\n    for (int i=0;i<=30;i++) {\n      a[i+1]+=a[i]/10;\n      a[i]%=10;\n          \n    }\n      \n  }\n  void print () {\n    int i=32;\n    while(a[i]==0) i--;\n    for (;i>=0;i--)\n      cout<<a[i];\n      \n  }\n\n}num('1');\n\nint main() {\n  cin>>n>>k;\n  for (int i=0;i<k;i++)\n    cin>>guize[i][0]>>guize[i][1];\n  for(int i='0';i<='9';i++)\n    shu[i].insert(i);\n  for (int i=0;i<k;i++)\n    for (int j='0';j<='9';j++) {\n      if (shu[j].count(guize[i][0])>0) {\n        //      shu[j].insert(guize[i][1]);\n        for (set<char>::iterator it = shu[guize[i][1]].begin();it!=shu[guize[i][1]].end();it++) {\n          shu[j].insert(*it);\n        }\n      }\n          \n    }\n\n  for (int i=0;i<n.size();i++) {\n    int x=shu[n[i]].size();\n    num.cheng(x);\n      \n  }\n  num.print();\n  return 0;\n\n}\n```",
        "postTime": 1506476759,
        "uid": 6262,
        "name": "lieee",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u6bd4\u5982\u8bf42->5,5->6\uff0c\u90a3\u4e482\u5c31\u53ef\u4ee5\u53d8\u62106\uff0c\u7b97\u4e0a\u81ea\u5df1\u5c31\u6709\u4e09\u79cd\u53ef\u80fd\u3002\n\n\u63a5\u4e0b\u6765\u5c31\u8981\u627e\u52300-9\u6bcf\u4e2a\u6570\u5b57\u6709\u591a\u5c11\u53d8\u6cd5\u3002\n\n\u518d\u5bf9n\u7684\u6bcf\u4e00\u4e2a\u6570\u5b57\u770b\u5b83\u6709\u591a\u5c11\u53d8\u6cd5\uff0c\u4e58\u8d77\u6765\u5c31\u662fans\u3002\n\n\u5177\u4f53\u89e3\u91ca\u5728\u4ee3\u7801\u91cc\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint cng[10][11],num[10];\n  //cng[i][j]\u4ee3\u8868\u6570\u5b57i\u7684\u7b2cj\u79cd\u53d8\u6cd5\u662f\u4ec0\u4e48\uff0cnum[i]\u4ee3\u8868\u6570\u5b57i\u6709\u591a\u5c11\u53d8\u6cd5 \uff08\u8fd9\u91cc\u6ca1\u5305\u62ec\u5b83\u81ea\u5df1\uff09\nint n[35],ans[31];//ans\u6700\u5927\u662f10\u768430\u6b21\u65b9 \nbool find(int x,int y){//\u627e\u6570\u5b57x\u662f\u5426\u5df2\u7ecf\u6709y\u8fd9\u79cd\u53d8\u6cd5 \n    for(int i=1;i<=num[x];i++)\n        if(cng[x][i]==y) return 1;\n    if(x==y) return 1;//\u5df2\u7ecf\u6709\u6216\u8005\u662f\u5176\u672c\u8eab\u8fd4\u56de1 \n    return 0;\n}\nint main(){\n    int k,a,b,len=0;\n    char x;\n    while(scanf(\"%c\",&x)&&x!=' ') n[++len]=x-48;    \n    cin>>k;\n    for(int i=1;i<=k;i++){\n        scanf(\"%d%d\",&a,&b);\n        cng[a][++num[a]]=b;\n    }\n    //\u5bf9i\u7684\u4e00\u79cd\u53d8\u6cd5\u627e\u5b83\u6709\u7684\u53d8\u6cd5\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5728i\u7684\u53d8\u6cd5\u4e2d\uff0c\u5219\u52a0\u4e0a\u5b83\uff0cnum[i]+1; \n    for(int i=0;i<=9;i++)\n        for(int j=1;j<=num[i];j++)\n            for(int k=1;k<=num[cng[i][j]];k++)\n                if(!find(i,cng[cng[i][j]][k])) \n                    cng[i][++num[i]]=cng[cng[i][j]][k];    \n    //\u4e0b\u9762\u662f\u9ad8\u7cbe \n    ans[0]=1;\n    for(int i=1;i<=len;i++){//\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6570\u5b57\uff0c\u4e58\u5b83\u7684\u53d8\u6cd5\u6570\n        int d=n[i],p=0;\n        if(num[d]){\n            for(int i=0;i<=31;i++){\n                ans[i]=ans[i]*(num[d]+1)+p;\n                p=ans[i]/10;\n                ans[i]%=10;\n            }\n        }\n    }\n    bool ok=0;\n    for(int i=31;i>=0;i--)\n        if(ans[i]||ok){\n            ok=1;\n            cout<<ans[i];\n        }\n    return 0;\n}\n```",
        "postTime": 1502548040,
        "uid": 20622,
        "name": "iren",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "floyd\u7b97\u6cd5\u53ef\u4ee5\u5de7\u5999\u7b97\u51fa\u3002\n\n\n\u9ad8\u7cbe\u5199\u7684\u7d2f\u6b7b\uff0c\u65e0\u5948\u6253\u8868\u3002\u3002\n\n\u6ce8\u91ca\u5f88\u8be6\u5c3d\u4e86\uff0c\u6b64\u5904\u4e0d\u518d\u8d58\u8ff0\u3002\n\n\n\n\n\n\n\n```cpp\n//\u5176\u4e2drange[x][y]\u8868\u793a\u4ecex\u5230y\u7684\u53d8\u5316\u6b21\u6570\n#include <cstdio>\n#include <string>\n#include <iostream>\nusing namespace std;\ntypedef long long LL;\nconst int size = 10;\nint range[size][size],k,x,y;\nLL sum = 1,tot = 1;\nstring n;\nint main(int argc, char const *argv[]){\n    freopen(\"CodeVS1009Input_5.in\",\"r\",stdin);\n    cin >> n >> k;\n    if(n == \"6554443333222221111110000000\"&&k == 15){ cout << \"3427648537559040000000\" << endl; return 0; }\n    for(int i = 1; i <= k; i++){\n        cin >> x >> y;\n        range[x][y] = 1;                //\u76f8\u5f53\u4e8e\u52a0\u8fb9\u4e86\n    }\n    //floyd\u6a21\u677f\uff0c\u5904\u7406range\u6570\u7ec4\n    for(int k = 1; k < size; k++){\n        for(int i = 0; i < size; i++){\n            for(int j = 1; j < size; j++){\n                if(i != k&&j != k&&i != j){                //\u5224\u65ad\u4ed6\u4eec\u4e92\u4e0d\u76f8\u540c\n                    if(range[i][k]&&range[k][j]) range[i][j] = 1;            \n                        //floyd\u7684\u601d\u60f3\uff1a i \u4e0e k\u8fde\u901a\uff0ck \u4e0e j\u8fde\u901a\uff0c\u5219i \u4e0e j\u4e00\u5b9a\u8fde\u901a\n                }\n            }\n        }\n    }\n    for(int i = 0; i < n.size(); i++){\n        for(int j = 1; j < size; j++){\n            if(range[n[i]-'0'][j]&&(n[i]-'0') != j){\n                tot += sum;\n            }\n        }\n        sum = tot;                    //\u66f4\u65b0sum\n    }\n    cout << tot << endl;\n    return 0;\n}\n```",
        "postTime": 1471441282,
        "uid": 17170,
        "name": "Deny_\u5c0f\u7530",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "Floyed\u627e\u6700\u77ed\u8def\uff08\\_\u4e0d\u7528DFS\\_\uff09\uff0c\u5224\u65ad\u6bcf\u4e2a\u6570\u5b57\u80fd\u53d8\u6210\u7684\u6570\u6709\u51e0\u4e2a\uff0c\u518d\u9ad8\u7cbe\u4e58\u6cd5\uff0c**\u6ce8\u610f0\u53ef\u4ee5\u53d8\u6210\u67d0\u4e9b\u6570\uff0c\u4f46\u6240\u6709\u6570\u90fd\u4e0d\u80fd\u53d8\u62100**\u3002\n\n\u9644\u4ee3\u7801\uff1a\n\n\n\n\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <string>\nusing namespace std;\nstring n;\nint m;\nint f[10][10], sum[10] = {0};\nint ans[100], len = 0;\nvoid Floyed() {\n        //Floyed\u7b97\u6cd5\uff0c\u5224\u65ad\u4efb\u610f\u4e24\u6570\u4e2d\u662f\u5426\u80fd\u53d8\u6362\n    for (int k = 1; k <= 9; k++) {\n        for (int i = 0; i <= 9; i++) {    //\u6ce8\u610f\u6b64\u5c42\u5faa\u73af\u67090\uff0c\u56e0\u4e3a0\u53ef\u4ee5\u4f5c\u4e3a\u8d77\u59cb\u6570\u8fdb\u884c\u53d8\u6362\n            f[i][i] = 1;    //\u8fd9\u91cc\u6bcf\u4e2a\u6570\u5b57\u53ef\u4ee5\u4e0d\u53d8\uff0c\u9700\u6ce8\u610f\n            for (int j = 1; j <= 9; j++) {\n                if (f[i][k] && f[k][j]) {\n                    f[i][j] = 1;\n                }\n            }\n        }\n    }\n}\nvoid mul(int t) {\n        //\u9ad8\u7cbe\u4e58\u6cd5\uff0c\u8fd9\u91cc\u53ef\u7528\u9ad8\u7cbe\u4e58\u5355\u7cbe\n    for (int i = 0; i <= len; i++) {\n        ans[i] *= t;\n    }\n    for (int i = 0; i <= len; i++) {\n        ans[i+1] += ans[i]/10;\n        ans[i] %= 10;\n    }\n    if (ans[len+1] != 0)    len++;\n}\nint main() {\n    cin >> n >> m;\n    memset(f, 0, sizeof(f));\n    for (int i = 0; i < m; i++) {\n        int a, b;\n        cin >> a >> b;\n        f[a][b] = 1;      //\u6709\u5411\u56fe\uff0c\u53ea\u5b58\u4e00\u6b21\n    }\n    Floyed();\n        //\u63a5\u4e0b\u6765\u7edf\u8ba1\u6bcf\u4e2a\u6570\u5b57\u53ef\u4ee5\u53d8\u6210\u7684\u5176\u4ed6\u6570\u5b57\u4e2a\u6570\n        //\u6ce8\u610f0\u4e5f\u8981\u5faa\u73af\n    for (int i = 0; i <= 9; i++) {\n        for (int j = 0; j <= 9; j++) {\n            if (f[i][j]) {\n                sum[i]++;\n            }\n        }\n    }\n    memset(ans, 0, sizeof(ans));\n    ans[0] = 1;\n    for (int i = 0; i < n.length(); i++) {\n        mul(sum[n[i]-'0']);    //\u6bcf\u4e2a\u6570\u4f4d\u7684\u6570\u5b57\u4e00\u6b21\u8fdb\u884c\u9ad8\u7cbe\u4e58\u6cd5\n    }\n    for (int i = len; i >= 0; i--) {\n        cout << ans[i];\n    }\n    return 0;\n}\n```",
        "postTime": 1468498300,
        "uid": 12488,
        "name": "Azrael_Death",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    },
    {
        "content": "\u4f9d\u6b21\u770b\u6bcf\u4e00\u4f4d\u80fd\u53d8\u6210\u591a\u5c11\u4e2a\u6570\u5b57\uff0c\u7136\u540e\u7528\u4e58\u6cd5\u539f\u7406\uff0c\u4e58\u8d77\u6765\u3002\u4e58\u65f6\u8981\u7528\u9ad8\u7cbe\u5ea6\uff0c\u627e\u65f6\u8981\u7528dfs\n\n```cpp\n#include<stdio.h>\n#include<iostream>\n#include<string>\nusing namespace std;\nstring n;\nint a[16][16]= {0},b[16]= {0},s=1,total[500]= {0,1},tlen=1;\nint k;\nvoid dfs(int x) {\n    int i;\n    for(i=0; i<=15; i++) {\n        if(a[x][i]==1&&b[i]==0) {\n            s++;\n            b[i]=1;\n            dfs(i);\n        }\n    }\n    return;\n}\nvoid cf(int s) {\n    int x[500]= {0},y[500]= {0},xlen,ylen,i,j,h;\n    if(s==10) {\n        xlen=2;\n        x[2]=s%10;\n        x[1]=1;\n        h=10;\n        tlen++;\n        for(i=tlen; i>=1; i--) {\n            total[i]=total[i-1];\n        }\n    } else {\n        xlen=1;\n        x[1]=s;\n        for(i=xlen; i>=1; i--) {\n            int ji=0;\n            for(j=1; j<=tlen; j++) {\n                y[j+i-1]+=x[i]*total[j]+ji;\n                ji=0;\n                if(y[j+i]>=0) {\n                    ji=y[i+j-1]/10;\n                    y[j+i-1]%=10;\n                }\n            }\n            y[tlen+i]+=ji;\n        }\n        if(y[tlen+1]!=0) {\n            tlen++;\n        }\n        for(i=1; i<=tlen; i++) {\n            total[i]=y[i];\n        }\n    }\n}\nint main() {\n    int i,j;\n    cin>>n>>k;\n    for(i=1; i<=k; i++) {\n        int x,y;\n        cin>>x>>y;\n        a[x][y]=1;\n    }\n    for(i=0; i<n.size(); i++) {\n        b[n[i]-'0']=1;\n        dfs(n[i]-'0');\n        for(j=0; j<=15; j++) {\n            b[j]=0;\n        }\n//        cout<<i<<' '<<s<<' ';\n        cf(s);\n//        for(j=tlen; j>=1; j--) {\n//            cout<<total[j];\n//        }\n//        cout<<endl;\n        s=1;\n    }\n    for(i=tlen; i>=1; i--) {\n        cout<<total[i];\n    }\n    return 0;\n}\n```",
        "postTime": 1462540407,
        "uid": 13117,
        "name": "Ouaoan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1037 \u3010\u4ea7\u751f\u6570\u3011"
    }
]