[
    {
        "content": "\u51fa\u9898\u4eba\u9898\u89e3\u3002\n\n## E \u9ec4\u725b\u306e\u4e89\n\n#### \u6570\u5b66\u6a21\u578b\n\n\u8003\u8651\u4f18\u5316 Special Judge \u4e2d `win` \u51fd\u6570\u90e8\u5206\u7684\u66b4\u529b\uff0c\u9996\u5148\u8bb0\n\n- $\\alpha=\\left\\lceil\\dfrac{B}{a}\\right\\rceil$ \u8868\u793a $\\tt A$ \u51fb\u8d25 $\\tt B$ \u6240\u9700\u56de\u5408\u6570\uff1b\n\n- $\\beta=\\left\\lceil\\dfrac{A}{b}\\right\\rceil$ \u8868\u793a $\\tt B$ \u51fb\u8d25 $\\tt A$ \u6240\u9700\u56de\u5408\u6570\u3002\n\n\u90a3\u4e48\uff1a\n\n- \u5982\u679c $\\tt B$ \u662f\u5148\u624b\uff0c\u4ec5\u9700 $\\beta\\le\\alpha$ \u5373\u53ef\u51fb\u8d25 $\\tt A$\uff1b\n\n- \u5982\u679c $\\tt B$ \u662f\u540e\u624b\uff0c\u5219\u9700 $\\beta<\\alpha$ \u624d\u80fd\u51fb\u8d25 $\\tt A$\u3002\n\n\u636e\u6b64\uff0c\u53ef\u4ee5\u5f97\u5230 $\\tt B$ \u51fb\u8d25 $\\tt A$ \u7684\u6761\u4ef6\uff1a\n\n$$\\left\\lceil\\frac{A}{b}\\right\\rceil+[b<a]\\le\\left\\lceil\\frac{B}{a}\\right\\rceil$$\n\n\u90a3\u4e48 $O(1)$ \u7684\u5224\u5b9a\u80dc\u8d1f\u7684\u4ee3\u7801\uff1a\n\n```cpp\nbool win(int a, int b, int c, int d){\n\treturn (b + c - 1) / c + (c < a) <= (a + d - 1) / a;\n}\n```\n\n---\n\n\u4e0b\u9762\u5f00\u59cb\u5206\u6790\u6bcf\u4e2a\u5b50\u4efb\u52a1\u7684\u5f97\u5206\u65b9\u5f0f\u3002\n\n#### Subtask 1\n\n$c,C$ \u679a\u4e3e\u4e0a\u9650 $(M-1)^2$\uff0c\u8003\u8651\u4f18\u5316\uff1a\n\n1. $\\texttt{C}$ \u53ea\u9700\u8981\u80fd\u51fb\u8d25 $\\texttt{B}$\uff0c\u56e0\u6b64 $c$ \u7684\u679a\u4e3e\u4e0a\u9650\u5e94\u4e3a $\\max(1+b,B)$\u3002\n\n2. $\\texttt{C}$ \u5fc5\u987b\u8f93\u7ed9 $\\texttt{A}$\uff0c\u56e0\u6b64 $c$ \u7684\u679a\u4e3e\u4e0a\u9650\u5e94\u4e3a $\\max(a,A)-1$\u3002\n\n#### Subtask 2\n\n\u56fa\u5b9a $c$ \u4e4b\u540e\uff0c$C$ \u8d8a\u5927 $\\tt C$ \u8d8a\u5f3a\uff0c$C$ \u8d8a\u5c0f $\\tt C$ \u8d8a\u5f31\u3002\n\n\u6240\u4ee5 $C$ \u7684\u5408\u6cd5\u53d6\u503c\u4e00\u5b9a\u5728\u4e00\u4e2a\u533a\u95f4 $[l,r]$ \u4e0a\uff0c\u53ef\u4ee5\u8003\u8651\u4e8c\u5206 $C$\u3002\n\n#### Subtask 3, 5\n\n\u7559\u7ed9\u4e00\u4e9b\u6b63\u786e\u6027\u53ef\u80fd\u770b\u8d77\u6765\u5f88\u5bf9\u7684\u5947\u602a\u505a\u6cd5\u3002~~\uff08\u6bd4\u5982\u67d0\u4e0d\u77e5\u540d $O(\\sqrt[3]M\\log M)$ \u7684\u505a\u6cd5\uff09~~\n\n#### Subtask 4\n\n\u90a3\u4e48\u8fd9\u90e8\u5206\u5206\u663e\u7136\u662f\u5e0c\u671b\u6211\u4eec\u7ed9\u51fa\u4e00\u4e2a $O(M)$ \u7684\u7ebf\u6027\u505a\u6cd5\u3002\n\n\u8003\u8651\u5982\u679c\u6211\u4eec\u786e\u5b9a\u4e86 $c$\uff0c\u7ee7\u7eed\u63a8\u4e00\u63a8\u5f0f\u5b50\uff08\u5176\u5b9e\u4e5f\u5c31\u662f\u632a\u4e00\u632a\u7cfb\u6570\uff09\uff0c\u5f97\u5230\uff1a\n\n$$b\\times\\left(\\left\\lfloor\\dfrac{B}{c}\\right\\rfloor+[c<b]\\right)~\\le~C~\\le~\\left(\\left\\lfloor\\dfrac{A}{c}\\right\\rfloor-[a<c]\\right)\\times a+a-1$$\n\n\u636e\u6b64\u5c31\u53ef\u4ee5 $O(1)$ \u6c42\u51fa $C$ \u7684\u503c\u3002\n\n#### Subtask 6\n\n\u8003\u8651\u4e00\u79cd\u66f4\u5feb\u7684\u679a\u4e3e $c$ \u7684\u65b9\u5f0f\u3002\n\n\u7531\u4e8e $c$ \u4f5c\u4e3a\u5206\u6bcd\uff0c\u5b83\u7684\u53d6\u503c\u53ea\u5f71\u54cd\n\n$$\\left\\lceil\\dfrac{A}{c}\\right\\rceil,\\left\\lceil\\dfrac{B}{c}\\right\\rceil$$\n\n\u7684\u53d6\u503c\uff0c\u6211\u4eec\u53ef\u4ee5\u6574\u9664\u5206\u5757\u679a\u4e3e $c$ \u7684\u53d6\u503c\u3002\n\n\u4e00\u79cd\u4e0a\u53d6\u6574\u8f6c\u4e0b\u53d6\u6574\u7684\u529e\u6cd5\uff1a\n\n$$\\left\\lceil\\dfrac{p}{q}\\right\\rceil=\\left\\lfloor\\dfrac{p-1}{q}\\right\\rfloor+1$$\n\n\u53e6\u5916\uff0c\u6734\u7d20\u7684\u6574\u9664\u5206\u5757\u53ea\u679a\u4e3e\u5230\n\n$$\\min\\{A,B\\}$$\n\n\u4f46\u662f\u6211\u4eec\u7684 $c$ \u5e94\u5f53\u4e00\u76f4\u5230\n\n$$\\max\\{A,B\\}$$\n\n\u5904\u90fd\u53ef\u80fd\u5177\u6709\u8d21\u732e\u3002\n\n\u6240\u4ee5\u6211\u4eec\u8003\u8651\u6839\u636e\u9898\u610f\u5206\u6210\u4e24\u6bb5\u679a\u4e3e\uff0c\u7b2c\u4e00\u6bb5\u4f7f\u7528\u6734\u7d20\u7684\u6574\u9664\u5206\u5757\u3002\n\n\u7b2c\u4e8c\u6bb5\u679a\u4e3e $\\min(A,B)\\sim\\max(A,B)$ \u4e4b\u95f4\u7684\u7b54\u6848\u8d21\u732e\u90e8\u5206\u5373\u53ef\u3002\n\n#### std\n\n```cpp\n//E1\n#include<cstdio>\nint init(){\n\tchar c = getchar();\n\tint x = 0, f = 1;\n\tfor (; c < '0' || c > '9'; c = getchar())\n\t\tif (c == '-') f = -1;\n\tfor (; c >= '0' && c <= '9'; c = getchar())\n\t\tx = (x << 1) + (x << 3) + (c ^ 48);\n\treturn x * f;\n}\nvoid print(int x){\n\tif (x < 0) x = -x, putchar('-');\n\tif (x > 9) print(x / 10);\n\tputchar(x % 10 + '0');\n}\nbool win(int a, int b, int c, int d){\n\treturn (b + c - 1) / c + (c < a) <= (a + d - 1) / a;\n}\nint mn(int a, int b){\n\treturn a < b ? a : b;\n}\nint mx(int a, int b){\n\treturn a > b ? a : b;\n}\nint main(){\n\tint q = init();\n\twhile (q--) {\n\t\tint a = init(), A = init(), b = init(), B = init();\n\t\tif (win(b, B, a, A)) {\n\t\t\tputs(\"-1 -1\");\n\t\t\tcontinue;\n\t\t}\n\t\tbool flag = 1;\n\t\tfor(int x = 1; x <= 100; ++x)\n\t\t\tfor(int y = 1; y <= 100 && flag; ++y)\n\t\t\t\tif (x != a && x != b && win(b, B, x, y) && win(x, y, a, A))\n\t\t\t\t\tflag = 0, print(x), putchar(' '), print(y), putchar('\\n');\n\t\tif(flag)\n\t\t\tprint(-1), putchar(' '), print(-1), putchar('\\n');\n\t}\n}\n//E2\n#include<cstdio>\n#define int long long\nint init(){\n\tchar c = getchar();\n\tint x = 0, f = 1;\n\tfor (; c < '0' || c > '9'; c = getchar())\n\t\tif (c == '-') f = -1;\n\tfor (; c >= '0' && c <= '9'; c = getchar())\n\t\tx = (x << 1) + (x << 3) + (c ^ 48);\n\treturn x * f;\n}\nvoid print(int x){\n\tif (x < 0) x = -x, putchar('-');\n\tif (x > 9) print(x / 10);\n\tputchar(x % 10 + '0');\n}\nbool win(int a, int b, int c, int d){\n\treturn (b + c - 1) / c + (c < a) <= (a + d - 1) / a;\n}\nint mn(int a, int b){\n\treturn a < b ? a : b;\n}\nint mx(int a, int b){\n\treturn a > b ? a : b;\n}\nsigned main(){\n\tint q = init();\n\twhile (q--) {\n\t\tint a = init(), A = init(), b = init(), B = init();\n\t\tint MAX = mn(mx(1 + b, B), mx(a, A) - 1);\n\t\tint M = mx(mx(a, A), mx(b, B));\n\t\tif (!win(a, A, b, B) || (B > A && b > a)) {\n\t\t\tputs(\"-1 -1\");\n\t\t\tcontinue;\n\t\t}\n\t\tbool flag=1;\n\t\tfor (int c = 1; c <= MAX; ++c) {\n\t\t\tif (c == a || c == b)\n\t\t\t\tcontinue;\n\t\t\tint l = 1, r = (M - 1) * (M - 1), ans = -1;\n\t\t\tif (c > a) r = A - 1;\n\t\t\tif (c < b) l = B + 1;\n\t\t\twhile (l <= r) {\n\t\t\t\tint mid = l + r >> 1;\n\t\t\t\tif (!win(c, mid, a, A))\n\t\t\t\t\tr = mid - 1;\n\t\t\t\telse if (!win(b, B, c, mid))\n\t\t\t\t\tl = mid + 1;\n\t\t\t\telse {\n\t\t\t\t\tans = mid;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ans != -1) {\n\t\t\t\tprint(c), putchar(' '), print(ans), putchar('\\n');\n\t\t\t\tflag = 0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (flag)\n\t\t\tputs(\"-1 -1\");\n\t}\n}\n//E3\n#include<cstdio>\n#define int long long\nint init(){\n\tchar c = getchar();\n\tint x = 0, f = 1;\n\tfor (; c < '0' || c > '9'; c = getchar())\n\t\tif (c == '-') f = -1;\n\tfor (; c >= '0' && c <= '9'; c = getchar())\n\t\tx = (x << 1) + (x << 3) + (c ^ 48);\n\treturn x * f;\n}\nvoid print(int x){\n\tif (x < 0) x = -x, putchar('-');\n\tif (x > 9) print(x / 10);\n\tputchar(x % 10 + '0');\n}\nbool win(int a, int b, int c, int d){\n\treturn (b + c - 1) / c + (c < a) <= (a + d - 1) / a;\n}\nint a, A, b, B;\nint ok(int c){\n\tif (c == a || c == b)\n\t\treturn 0;\n\tint l = b * (B / c + (c < b)),\n\tr = (A / c - (a < c)) * a + a - 1;\n\tif (l > r)\n\t\treturn 0;\n\treturn l + 1;\n}\nint mn(int a, int b){\n\treturn a < b ? a : b;\n}\nint mx(int a, int b){\n\treturn a > b ? a : b;\n}\nsigned main(){\n\tint t = init();\n\tfor (int i = 1; i <= t; ++i) {\n\t\ta = init(), A = init(), b = init(), B = init();\n\t\tif (!win(a, A, b, B) || (B > A && b > a)) {\n\t\t\tputs(\"-1 -1\");\n\t\t\tcontinue;\n\t\t}\n\t\t--A, --B;\n\t\tint c = 0, C;\n\t\tif (!ok(a + 1) && !ok(b + 1)) {\n\t\t\tfor (int i = 1; i <= mx(A, B); ++i)\n\t\t\t\tif (ok(i)) {\n\t\t\t\t\tc = i, C = ok(i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (ok(a + 1))\n\t\t\t\tc = a + 1, C = ok(a + 1);\n\t\t\tif (ok(b + 1))\n\t\t\t\tc = b + 1, C = ok(b + 1);\n\t\t}\n\t\tif (c)\n\t\t\tprint(c), putchar(' '), print(C), putchar('\\n');\n\t\telse\n\t\t\tputs(\"-1 -1\");\n\t}\n}\n//E4\n#include<cstdio>\n#define int long long\nint init(){\n\tchar c = getchar();\n\tint x = 0, f = 1;\n\tfor (; c < '0' || c > '9'; c = getchar())\n\t\tif (c == '-') f = -1;\n\tfor (; c >= '0' && c <= '9'; c = getchar())\n\t\tx = (x << 1) + (x << 3) + (c ^ 48);\n\treturn x * f;\n}\nvoid print(int x){\n\tif (x < 0) x = -x, putchar('-');\n\tif (x > 9) print(x / 10);\n\tputchar(x % 10 + '0');\n}\nbool win(int a, int b, int c, int d){\n\treturn (b + c - 1) / c + (c < a) <= (a + d - 1) / a;\n}\nint a, A, b, B;\nint ok(int c){\n\tif (c == a || c == b)\n\t\treturn 0;\n\tint l = b * (B / c + (c < b)),\n\tr = (A / c - (a < c)) * a + a - 1;\n\tif (l > r)\n\t\treturn 0;\n\treturn l + 1;\n}\nint mn(int a, int b){\n\treturn a < b ? a : b;\n}\nint mx(int a, int b){\n\treturn a > b ? a : b;\n}\nsigned main(){\n\tint t = init();\n\tfor (int i = 1; i <= t; ++i) {\n\t\ta = init(), A = init(), b = init(), B = init();\n\t\tif (!win(a, A, b, B) || (B > A && b > a)) {\n\t\t\tputs(\"-1 -1\");\n\t\t\tcontinue;\n\t\t}\n\t\t--A, --B;\n\t\tint c = 0, C;\n\t\tif (!ok(a + 1) && !ok(b + 1)) {\n\t\t\tfor (int i = 1; i <= A && i <= B; i = mn(A / (A / i), B / (B / i)) + 1)\n\t\t\t\tif (ok(i)) {\n\t\t\t\t\tc = i, C = ok(i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\tfor (int i = mn(A, B) + 1; i <= mx(A, B); i = mx(A, B) / (mx(A, B) / i) + 1)\n\t\t\t\tif (ok(i)) {\n\t\t\t\t\tc = i, C = ok(i);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (ok(a + 1))\n\t\t\t\tc = a + 1, C = ok(a + 1);\n\t\t\tif (ok(b + 1))\n\t\t\t\tc = b + 1, C = ok(b + 1);\n\t\t}\n\t\tif (c)\n\t\t\tprint(c), putchar(' '), print(C), putchar('\\n');\n\t\telse\n\t\t\tputs(\"-1 -1\");\n\t}\n}\n```",
        "postTime": 1634732633,
        "uid": 50606,
        "name": "\u8a00\u7422\u10d3",
        "ccfLevel": 6,
        "title": "\u3010\u9898\u89e3\u3011P7905 \u300cDCOI\u300d\u9ec4\u725b\u306e\u4e89"
    }
]