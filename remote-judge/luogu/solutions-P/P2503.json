[
    {
        "content": "\u8fd9\u9898\u597d\u50cf\u53ea\u80fd\u8bd5\u51fa\u7b54\u6848\u3002\u3002\u3002\n\n\u4e8e\u662f\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4f4e\u5374\u53c8\u7384\u5b66\u7684\u641c\u7d22\u201c\u6a21\u62df\u9000\u706b\u201d\u8d70\u8d77\u3002\n\n\u8fd9\u4e0d\u8fde\u7eed\u5206\u7ec4\u770b\u8d77\u6765\u5f88\u4e0d\u597d\u5f04\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u8f6c\u5316\u4e3a\u4e00\u4e2a\u719f\u6089\u7684\u95ee\u9898\uff1a\u8fde\u7eed\u5206\u7ec4\u95ee\u9898\u3002\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u7528\u7b80\u5355DP\u5b8c\u6210\uff08\u8bbe\u72b6\u6001\u4e3af[i][j]\uff0c\u8868\u793a\u524di\u4e2a\u6570\u5206j\u7ec4\uff09\u3002\n\n\u600e\u4e48\u5b9e\u73b0\u8f6c\u5316\u5462\uff1f\u7528\u4e8e\u8fde\u7eed\u5206\u7ec4\u7684\u5e8f\u5217 \u6539\u4e0b\u987a\u5e8f \u4e0d\u5c31\u6210\u4e86\u4e0d\u8fde\u7eed\u5206\u7ec4\u7684\u95ee\u9898\u5417?\n\n\u6240\u4ee5\uff0c\u7528\u6a21\u62df\u9000\u706brand\u5e8f\u5217\uff0c\u518dDP\u7edf\u8ba1\u7b54\u6848\uff0c\u53d6\u5176\u5c0f\u8005\u5373\u53ef\u3002\n\n\u5982\u679c\u901a\u4e0d\u8fc7\u5c31\u6539\u6539SA\u4e2d\u7684\u53c2\u6570\u5427\u3002\n\n```\n#include<iostream>\n#include<cmath>\n#include<cstring>\n#include<cstdio>\n#include<cstdlib>\n#include<algorithm>\n#include<ctime>\n#define ll long long\n#define re register\n#define il inline\n#define pf(x) ((x)*(x))\n#define fp(i,a,b) for(re int i=a;i<=b;i++)\n#define fq(i,a,b) for(re int i=a;i>=b;i--)\nusing namespace std;\nconst int N=50;\nint n,m,a[N],s[N];\ndouble ans=1e100,f[N][N],ysn;\nil int gi()\n{\n  re int x=0,t=1;\n  re char ch=getchar();\n  while((ch<'0'||ch>'9')&&ch!='-') ch=getchar();\n  if(ch=='-') t=-1,ch=getchar();\n  while(ch>='0'&&ch<='9') x=x*10+ch-48,ch=getchar();\n  return x*t;\n}\nil double work()\n{\n  memset(f,127,sizeof(f));\n  fp(i,1,n) s[i]=s[i-1]+a[i];//\u6ce8\u610f\u5230\u6570\u5217\u4e0d\u56fa\u5b9a\uff0c\u56e0\u6b64\u4e0d\u80fd\u9884\u5904\u7406\n  f[0][0]=0;\n  fp(i,1,n)\n    fp(j,1,i)\n    fp(k,0,i-1)\n    f[i][j]=min(f[i][j],f[k][j-1]+pf(s[i]-s[k]-ysn));\n  ans=min(ans,f[n][m]);\n  return f[n][m];\n}//DP\u5904\u7406rand\u51fa\u7684\u5e8f\u5217\nil double Rand(){return rand()%100000/100000.00;}\nil void SA(re double T)\n{\n  double now=ans;\n  while(T>1e-3)\n    {\n      re int x=rand()%n+1,y=rand()%n+1;\n      if(x==y) continue;\n      swap(a[x],a[y]);//rand\u51fa\u65b0\u5e8f\u5217\n      re double  nw=work();\n      if(nw<now||exp(now-nw)/T>Rand()) now=nw;//\u4e00\u5b9a\u6982\u7387\u63a5\u53d7\u5f53\u524d\u72b6\u6001\n      else swap(a[x],a[y]);\n      T*=0.99;\n    }\n  fp(i,1,10000)\n    {\n      re int x=rand()%n+1,y=rand()%n+1;\n      if(x==y) continue;\n      swap(a[x],a[y]);work();swap(a[x],a[y]);\n    }\n}\nil double Time(){return (double)clock()/CLOCKS_PER_SEC;}\nint main()\n{\n  srand(19260817);\n  n=gi();m=gi();\n  fp(i,1,n) a[i]=gi();\n  fp(i,1,n) ysn+=1.0*a[i]/m;\n  work();\n  while(Time()<0.75)//\u901a\u8fc7\u589e\u52a0rand\u7684\u6b21\u6570\u4fdd\u8bc1\u6b63\u786e\u6027\n    SA(10000);\n  printf(\"%.2lf\\n\",sqrt(ans/m));\n  return 0;\n}\n\n```",
        "postTime": 1521720377,
        "uid": 21534,
        "name": "ysner",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2503 \u3010[HAOI2006]\u5747\u5206\u6570\u636e\u3011"
    },
    {
        "content": "\u770b\u5230\u9898\u5e94\u8be5\u90fd\u80fd\u60f3\u5230\u4e00\u4e2a\u660e\u663e\u7684\u8d2a\u5fc3\u3002\n\n\u7531\u5c0f\u5b66\u5965\u6570\u53ef\u5f97$x_i$\u7684\u503c\u8d8a\u63a5\u8fd1\u7b54\u6848\u8d8a\u5c0f\uff0c\u4e8e\u662f\u628a\u6bcf\u4e2a\u6570\u52a0\u5230\u5f53\u524d\u548c\u6700\u5c0f\u7684\u7ec4\u91cc\u3002\n\n\u4f46\u662f\u7528\u811a\u9020\u6570\u636e\u4e5f\u80fdHack\u8fd9\u79cd\u65b9\u6cd5\u3002\u3002\u3002\u4e8e\u662f\u53ef\u4ee5\u968f\u673a\u5316\uff0c\u8fdb\u884c\u591a\u6b21\u8d2a\u5fc3\u3002\u6bcf\u6b21\u8d2a\u5fc3\u90fd\u628a\u5e8f\u5217\u6253\u4e71\uff0c\u591a\u6b21\u8fd0\u7b97\u53d6\u6700\u4f18\u89e3\u5f97\u5230\u7684\u7b54\u6848\u6b63\u786e\u7387\u4f1a\u5927\u5927\u63d0\u9ad8\uff08\u5f53\u7136\u8fd8\u662f\u8981\u770b\u4eba\u54c1\uff09\n\n\u5177\u4f53\u770b\u4ee3\u7801\u5427\n\n```\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <cmath> \n#include <ctime>\n\nusing namespace std;\n\nint n, m, a[105], b[105], clc = 200000, sum = 0;\ndouble ans = 10000000.0, pj;\n\nint main() {\n\tscanf(\"%d%d\", &n, &m);\n\tfor (int i = 1; i <= n; ++i) { scanf(\"%d\", &a[i]); sum += a[i]; }\n\tpj = (double)sum / (double)m;\n\twhile (clc--) {\n\t\trandom_shuffle(a + 1, a + n + 1);\n\t\tmemset(b, 0, sizeof(b));\n\t\tint t = 1; double sm = 0;\n\t\tfor (int j = 1; j <= n; ++j) {\n\t\t\tfor (int i = 2; i <= m; ++i)\n\t\t\t\tif (b[i] < b[t]) t = i;\n\t\t\tb[t] += a[j]; t = 1;\n\t\t}\n\t\tfor (int i = 1; i <= m; ++i) sm += (double)(pj - b[i]) * (double)(pj - b[i]);\n\t\tsm /= (double)m; if (ans > sm) ans = sm;\n\t} printf(\"%.2lf\", sqrt(ans)); return 0;\n}\n```\n",
        "postTime": 1576392452,
        "uid": 98096,
        "name": "Smallbasic",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2503 \u3010[HAOI2006]\u5747\u5206\u6570\u636e\u3011"
    },
    {
        "content": "\u8bba\u5982\u4f55\u4e71\u641e\uff1a\n\n\n\u770b\u770b\u539f\u5f0f\uff1a$$\\sigma=\\sqrt{\\sum_{i=1}^n\\ (x_i-\\bar{x})^2 \\over n}\\quad\\bar{x}={\\sum_{i=1}^n\\ x_i \\over n}$$\n\n\n\u540c\u65f6\u5f00\u65b9\uff1a$$n\\sigma^2=\\sum_{i=1}^n\\ (x_i-\\bar{x})^2$$\n\n\n\u62c6\u5f00\u7b97\u5f0f\uff1a$n\\sigma^2=\\sum_{i=1}^n x_i^2-2\\bar{x}\\sum_{i=1}^{n}x_i + \\sum_{i=1}^{n}\\bar{x}^2$\n\n\n\u6211\u4eec\u77e5\u9053 $-2\\bar{x}\\sum_{i=1}^{n}x_i + \\sum_{i=1}^{n}\\bar{x}^2$ \u90fd\u662f\u5b9a\u503c\uff0c\n\n\n\u4e5f\u53ef\u4ee5\u63a8\u6d4b\u51fa\u5f53 $\\sum_{i=1}^{n}x_i$ \u4e3a\u5b9a\u503c\uff0c\u6bcf\u4e2a $x$ \u5c3d\u91cf\u63a5\u8fd1\u65f6\uff0c$\\sum_{i=1}^n x_i^2$ \u6700\u5927\u3002\n\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5c06\u6570\u7ec4 random\\_shuffle \u82e5\u5e72\u6b21\uff0c\u6bcf\u6b21\u8d2a\u5fc3\u7684\u53d6\u503c\uff0c\u4f7f\u6bcf\u4e2a $x$ \u5c3d\u91cf\u76f8\u7b49\uff08\u4f8b\u5982\u4f60\u53ef\u4ee5\u628a\u65b0\u52a0\u8fdb\u6765\u7684\u6570\uff0c\u52a0\u7ed9\u6700\u5c0f $x$\uff09\uff0c\u53d6\u6700\u5927\u503c\uff0c\u7136\u540e\u5c31 AC \u4e86\uff01\uff01\uff01\n\n\n\u5927\u80c6\u731c\u60f3\uff0c\u4e0d\u8981\u8bc1\u660e\uff01\n\n\n```cpp\n//\u5c0f\u8303\u56f4\u6211\u5199\u4e86\u4e2a\u66b4\u529b\uff0c\u6211\u505a\u8fd9\u9898\u65f6\u4e5f\u53ea\u662f\u62b1\u7740\u8bd5\u8bd5\u770b\u7684\u5fc3\u6001\uff0c\u5982\u679cWA\uff0c\u8bf7\u52a0\u5927 random_shuffle \u6b21\u6570\uff0c\u6216\u8005\u52a0\u4e2a\u5361\u65f6\u3002\n#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <algorithm>\n#define R register\n#define Min(_A, _B) (_A < _B ? _A : _B)\nint n, m;\nnamespace Part1\n{\n    const double Inf1 = 1e9, Inf = 1e8;\n    int sum[1 << 20 | 10], a[25];\n    double f[1 << 20 | 10][7], ave;    \n    void main()\n    {\n        for(R int i = 0; i < n; i++) scanf(\"%d\", &a[i]);\n        R int Full = 1 << n;\n        for(R int i = 0; i < Full; i++)\n            for(R int j = 0; j < n; j++)\n                if(!((i >> j) & 1)) sum[i | 1 << j] = sum[i] + a[j];\n        ave = (double) sum[Full - 1] / m;\n        for(R int i = 0; i < Full; i++)\n            for(R int j = 0; j <= m; j++)\n                f[i][j] = Inf1;\n        f[0][0] = 0;\n        for(R int i = 0; i < Full; i++)\n        {\n            for(R int j = 0; j < m; j++)\n                if(f[i][j] < Inf)\n                {\n                    R int u = ~i & (Full - 1); \n                    for(R int t = u; t; t = (t - 1) & u) \n                    {\n                        R double tmp = f[i][j] + (sum[t] - ave) * (sum[t] - ave);\n                        f[i | t][j + 1] = Min(tmp, f[i | t][j + 1]);\n                    }    \n                }\n        }\n        printf(\"%.2lf\", sqrt(f[Full - 1][m] / m));\n    }\n}\nnamespace Part2\n{\n    int a[25], sum, d[8];\n    void main()\n    {\n        R double Ans = 1e9;\n        for(R int i = 1; i <= n; i++) scanf(\"%d\", &a[i]);\n        for(R int i = 1; i <= n; i++) sum += a[i];\n        R double Ave = (double) sum / m;\n        R double Tmp = Ave * Ave * m - 2 * Ave * sum;\n        for(R int i = 1; i <= 200000; i++)\n        {\n            std::random_shuffle(a + 1, a + 1 + n);\n            for(R int j = 1; j <= m; j++) d[j] = 0;\n            for(R int j = 1; j <= n; j++)\n            {\n                R int Pos = 1;\n                for(R int k = 2; k <= m; k++)\n                    if(d[Pos] > d[k]) Pos = k;\n                d[Pos] += a[j];\n            }\n            R double tt = 0;\n            for(R int j = 1; j <= m; j++) tt += d[j] * d[j];\n            Ans = Min(Ans, tt + Tmp);\n        }\n        printf(\"%.2lf\", sqrt(Ans / m));\n    }\n}\nint main()\n{\n    scanf(\"%d %d\", &n, &m);\n    R long long t = 1;\n    for(R int i = 1; i <= n; i++) t *= 3;\n    if(t * m <= 1e8) Part1::main();\n    else Part2::main();\n    \n}\n```",
        "postTime": 1516715152,
        "uid": 20224,
        "name": "WJiannan",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P2503 \u3010[HAOI2006]\u5747\u5206\u6570\u636e\u3011"
    },
    {
        "content": "\u9898\u76ee\u76f8\u4fe1\u5927\u5bb6\u90fd\u770b\u8fc7\u4e86\uff0c\u4e00\u9053\u786c\u6838\u7684\u6570\u5b66\u9898\n\n\u5982\u679c\u8fd8\u662f\u6ca1\u6709\u770b\u61c2\u9898\u76ee\uff0c\u4e0b\u9762\u7a0d\u5fae\u89e3\u91ca\u4e00\u4e0b\u3002\n\n\u628an\u4e2a\u6570\u5206\u6210k\u7ec4\uff0c\u6bcf\u7ec4\u5355\u72ec\u6c42\u548c\uff0c\u4f7f\u8fd9k\u4e2a\u6570\u7684\u65b9\u5dee\u6700\u5c0f\n\n\n------------\n\n### \u89e3\u6cd5\u4e00\n\n#### \u6a21\u62df\u9000\u706b\n\n\u4e00\u79cd\u7384\u5b66\u7b97\u6cd5\uff0c\u5176\u4ed6\u51e0\u7bc7\u9898\u89e3\u5df2\u7ecf\u8bf4\u7684\u633a\u8be6\u7ec6\u7684\u4e86\uff0c\u8fd9\u91cc\u5c31\u4e0d\u4ecb\u7ecd\u4e86\u3002\n\n\n------------\n\n\n### \u89e3\u6cd5\u4e8c\n\n#### \u641c\u7d22+\u526a\u679d\n\n\u628an\u4e2a\u6570\u5206\u6210m\u7ec4\uff0c\u4e0d\u526a\u679d\u7684\u8bdd\u6709n^m\u7684\u590d\u6742\u5ea6\uff0c\u6781\u7aef\u6570\u636e64000000\uff0c\u518d\u52a0\u4e0a\u4e00\u4e9b\u5e38\u6570\uff0c\u5f88\u5bb9\u6613\u8d85\u65f6\u3002\n\n\u8fd9\u91cc\u624b\u52a8@\u4e00\u4e0b LYP\u5de8\u4f6c\uff0c\u4ed6\u63d0\u4f9b\u7684\u89e3\u6cd5\u5982\u4e0b\n```\n#include<bits/stdc++.h>\n#define re register\n#define il inline\nusing namespace std;\ndouble ans=1e99,X;\nint n,m,a[25],len,sff[25];\nil int read(){\n\tint red=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){ if(ch=='-') f=-f;ch=getchar();}\n\twhile(ch>='0'&&ch<='9') red=red*10+ch-48,ch=getchar();\n\treturn red*f;\n}\nil void DFS(int x){\n\tint sff_[25];\n\tsort(sff+1,sff+1+m); //\u5c3d\u91cf\u5148\u7b97\u5f53\u524d\u52a0\u548c\u6bd4\u8f83\u5c0f\u7684\n\tfor(re int i=1;i<=m;i++) sff_[i]=sff[i]; //\u5148\u5b58\u4e00\u4e0b\u5f53\u524d\u7684\u52a0\u548c\n\tif(x>n){\n\t\tdouble now=0;\n\t\tfor(re int i=1;i<=m;i++) now+=(X-sff[i])*(X-sff[i]);\n\t\tans=min(ans,now/m);\n\t\treturn;\n\t}\n\tif((double)clock()/CLOCKS_PER_SEC>0.95){printf(\"%.2lf\",sqrt(ans));exit(0);} //\u5361\u65f6\uff0c\u65f6\u95f4\u4e0d\u591f\u5c31\u5f39\u6700\u4f18\u89e3\n\tfor(re int i=1;i<=m;i++){\n\t\tsff[i]+=a[x];DFS(x+1);\n\t\tfor(re int j=1;j<=m;j++) sff[j]=sff_[j]; //\u8bfb\u53d6\u4e4b\u524d\u5b58\u8fc7\u7684\u7ed3\u679c\n\t}\n}\nint main(){\n\tfreopen(\"data.in\",\"r\",stdin);\n\tfreopen(\"data.out\",\"w\",stdout);\n\tn=read(),m=read();\n\tfor(re int i=1;i<=n;i++) a[i]=read(),X+=a[i];\n\tX/=m;\n\tsort(a+1,a+1+n);reverse(a+1,a+1+n);\n\tDFS(1);\n\tprintf(\"%.2lf\",sqrt(ans));\n\treturn 0;\n}\n```\n\u51fa\u9898\u4eba\u53ef\u80fd\u662f\u6709\u610f\u5361\u8fd9\u79cd\u89e3\u6cd5\uff0c\u53ea\u80fd\u62ff\u523090\u5206\uff0c\u518d\u6b21\u611f\u8c22LYP\u5de8\u4f6c\n\n\n------------\n\n\n### \u89e3\u6cd5\u4e09\n\n#### \u968f\u673a\u6392\u5e8f+\u5806\u4f18\u5316\n\n\u65b9\u5dee\u7684\u524d\u63d0\u662f\u5e73\u5747\u6570\uff0c\u7a0d\u5fae\u63a8\u5bfc\u5c31\u53ef\u4ee5\u77e5\u9053\uff0c\u5e73\u5747\u6570\u662f\u4e0d\u53d8\u7684\uff0c\u90a3\u4e48\u53ea\u8981\u8ba9\u7740k\u4e2a\u52a0\u548c\u7684\u79bb\u6563\u7a0b\u5ea6\u6700\u5c0f\u5373\u53ef\u3002\n\n\u90a3\u4e48\u81ea\u7136\u800c\u7136\u5c31\u4f1a\u60f3\u5230\u8d2a\u5fc3\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u6570\u636e\uff0c\u5728\u4e4b\u524d\u7684\u52a0\u548c\u4e2d\u627e\u6700\u5c0f\u7684\uff0c\u7531\u4e8e\u8d2a\u5fc3\u7684\u53cd\u4f8b\u5f88\u591a\uff0c\u9700\u8981\u591a\u6392\u5e8f\u51e0\u6b21\uff0c\u91cd\u590d\u505a\u8fd9\u4e2a\u4e8b\u60c5\n\n\u5bf9\u4e8e\u5176\u4e2d\u7684\u4e00\u6b21\u8ba1\u7b97\uff0c\u6bcf\u4e2a\u6570\u5b57\u6bcf\u6b21\u627e\u6700\u5c0f\uff0c\u590d\u6742\u5ea6\u4e3a(n*m)\n\n\u5982\u679c\u91c7\u7528\u5806\u4f18\u5316\uff0c\u5c31\u53ef\u4ee5\u7f29\u51cf\u5230\uff08n*logm\uff09\n\n\u6548\u679c\u867d\u7136\u4e0d\u662f\u5f88\u660e\u663e\uff0c\u4f46\u8282\u7701\u4e0b\u6765\u7684\u65f6\u95f4\u53ef\u4ee5\u591a\u7b97\u51e0\u6b21\n~~\u9002\u7528\u4e8e\u535a\u4e3b\u8fd9\u6837\u7684\u975e\u914b~~\n\u4e0b\u9762\u8bf7\u770b\u4ee3\u7801\n```\n#include<bits/stdc++.h>\n#define IN inline\n#define RE register\nusing namespace std;\nint n,m,a[25],hep[10],len;\ndouble ave,ans=1e100;\ndouble sqr(double x){return x*x;}\nIN void put(int x){\n\thep[++len]=x;\n\tint son=len;\n\twhile(son>1&&hep[son]<hep[son>>1]) swap(hep[son],hep[son>>1]),son>>=1;\n}\nIN int get(){\n\tint ret=hep[1];\n\tint fa=1,son;\n\thep[1]=hep[len--];\n\twhile((fa<<1)<=len){\n\t\tif((fa<<1|1)>len||hep[fa<<1]<hep[fa<<1|1]) son=fa<<1;else son=fa<<1|1;\n\t\tif(hep[son]<hep[fa]) swap(hep[fa],hep[son]),fa=son;else break;\n\t}\n\treturn ret;\n}\nIN void calc(){\n\tlen=0;\n\tmemset(hep,0,sizeof hep);\n\tdouble now=0;\n\tfor(RE int i=1;i<=m;i++) put(a[i]); //\u6bcf\u7ec4\u5148\u585e\u4e00\u4e2a\n\tfor(RE int i=m+1;i<=n;i++) put(a[i]+get()); //\u6311\u6700\u5c0f\u7684\u52a0\u4e0a\u5f53\u524d\u7684\u6570\u5b57\n\tfor(RE int i=1;i<=m;i++) now+=sqr(ave-get());\n\tif(now<ans) ans=now;\n}\nint main(){\n\tfreopen(\"data.in\",\"r\",stdin);\n\tfreopen(\"data.out\",\"w\",stdout);\n\tsrand(20050614);//\u79cd\u5b50\u53ef\u4ee5\u968f\u4fbf\u9009\n\tscanf(\"%d%d\",&n,&m);\n\tfor(RE int i=1;i<=n;i++) scanf(\"%d\",&a[i]),a[0]+=a[i];\n\tave=(double)a[0]/m;\n\tcalc();\n\twhile((double)clock()/CLOCKS_PER_SEC<0.9){ //\u5361\u65f6\uff0c\u53ea\u8981\u65f6\u95f4\u6ca1\u5230\uff0c\u4e00\u76f4\u7b97\u5c31\u662f\u4e86\n\t\trandom_shuffle(a+1,a+1+n); //\u968f\u673a\u6392\u5e8f\n\t\tcalc();\n\t}\n\tprintf(\"%.2lf\\n\",sqrt(ans/m));\n\treturn 0;\n}\n```\n\u8fd9\u4e2a\u7b97\u6cd5\u6709\u4e00\u5b9a\u7684\u5076\u7136\u6027~~\u867d\u7136\u6211\u4e00\u904d\u5c31\u8fc7\u4e86~~\uff0c\u4ec5\u4f9b\u53c2\u8003\u7528",
        "postTime": 1556722341,
        "uid": 116251,
        "name": "\u7834\u5fc6",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2503 \u3010[HAOI2006]\u5747\u5206\u6570\u636e\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u662f\u4e00\u9053\u5f88\u597d\u7684~~\u66b4\u529b~~\u6a21\u62df\u9000\u706b\u9898\u3002\uff08\u6211\u4e5f\u662f\u88abczy\u5de8\u4f6c\u62c9\u8fc7\u6765\u505a\u7684\uff09\n\n\u9996\u5148\uff0c\u6211\u4eec\u8003\u8651\uff0c\u8981\u662f\u65b9\u5dee\u6700\u5c0f\uff0c\u90a3\u4e48\u505a\u597d\u5c31\u662f\u5c06\u6570\u5206\u6210\u5c3d\u91cf\u9760\u8fd1\u7684M\u4efd\n\n\u90a3\u4e48\uff0c\u600e\u4e48\u5206\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u505a\uff1a\u65b0\u5efaM\u4e2a\u6570\u7ec4\uff0c\u4ece1\u626b\u5230n\uff0c\u5c06\u5f53\u524d\u7684\u6570\u63d2\u5165\u6570\u503c\u6700\u5c0f\u7684\u90a3\u4e2a\u6570\u7ec4\u4e2d\uff0c\u8fd9\u6837\u5c3d\u91cf\u4fdd\u8bc1\u4e86\u5f97\u5230\u7684\u65b9\u5dee\u6700\u5c0f\u3002\u4f46\u5f88\u663e\u7136\uff0c\u8fd9\u6837\u7684\u6b63\u786e\u6027\u5374\u6ca1\u6709\u4fdd\u8bc1\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5c06\u4e4b\u524d\u7684\u6570\u7ec4\u4ee5\u4e0d\u540c\u7684\u5f62\u5f0f\u6392\u5217\uff0c\u624d\u53ef\u4ee5\u5f97\u5230\u6b63\u786e\u7b54\u6848\u3002\n\n\u55ef\uff0c\u770b\u4e0a\u53bb\u66b4\u529b\u5168\u6392\u5217\u4e5f\u4e0d\u662f\u5f88\u5927\uff0c\u53ea\u6709$20!$,\u660e\u663e~~\u4e0d\u4f1a\u7206~~,\u4e3a\u4e86\u4e0dTLE\uff0c\u6211\u4eec\u5fc5\u987b\u91c7\u7528\u4e00\u79cd\u4eba\u7c7b\u5386\u53f2\u4e0a\u6700\u4f1f\u5927\u7684\u7b97\u6cd5\uff1a\u7384\u5b66\u6253\u4e71\uff01\u4e4b\u524d\u7684\u5168\u6392\u5217\u590d\u6742\u5ea6\u6211\u4eec\u5403\u4e0d\u6d88\uff0c\u4f46\u6253\u4e71\u7684\u590d\u6742\u5ea6\u6211\u4eec\u8fd8\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u90a3\u4e48\u6b63\u786e\u6027\u5462\uff0c\u5efa\u8bae\u5927\u5bb6\u51fa\u95e8\u524d\u6d17\u628a\u8138\uff0c\u8fd9\u6837\u5c31\u4f1a\u9ad8\u4e00\u70b9\u4e86\uff08\u786e\u4fe1\n\n\u55ef\uff0c\u8fd9\u91cc\u63a8\u8350\u5927\u5bb6\u4e00\u4e2a\u51fd\u6570\uff0crandom_shuffle(\u6570\u7ec4\u540d+1,\u6570\u7ec4\u540d+\u6392\u5e8f\u4f4d\u6570+1);\u8fd9\u4e2astl\u81ea\u5e26\u51fd\u6570\u6211\u4e00\u76f4\u4ee5\u4e3a\u6ca1\u6bdb\u7528\uff0c\u6ca1\u60f3\u5230\u7adf\u7136\u5728\u8fd9\u91cc\u7528\u4e0a\u4e86\u3002\n\n\u597d\u90a3\u4e48\u4e0b\u9762\u6211\u4eec\u5c06\u771f\u6b63\u7684\u6a21\u62df\u9000\u706b\uff1a\n\n[\u6d45\u8c08\u7384\u5b66\u7b97\u6cd5\u2014\u2014\u6a21\u62df\u9000\u706b](https://m-sea.blog.luogu.org/qian-tan-SA). \n\n\u597d\uff0c\u8bb2\u5b8c\u4e86\uff08\u4e0d\u8fc7\u8bf4\u5b9e\u8bdd\u4e0a\u9762\u8fd9\u7bc7\u6587\u7ae0\u786e\u5b9e\u5199\u5f97\u5f88\u597d\u3002\uff09\n\n\u4e0b\u9762\u662f\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ndouble anss=1000000000,pin,sum,a[21],b[21];\nint n,m,minn,wei;\nvoid print()\n{\n\tdouble lans=0;\n\tsum=0;\n\tfor(int i=1;i<=m;i++)\n\tsum+=b[i];\n\tpin=(double)sum/(double)m;\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tlans+=(pin-b[i])*(pin-b[i]);\n\t}\n\tlans/=m;\n\tlans=sqrt(lans);\n\tif(lans<anss)\n\tanss=lans;\n}\nint main()\n{\n\tsrand(time(0));\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>a[i];\n}\n\tfor(int i=1;i<=1000000;i++)\n\t{\n\t\tmemset(b,0,sizeof(b));\n\t\trandom_shuffle(a+1,a+n+1);\n\t\tfor(int j=1;j<=n;j++)\n\t    {\n\t    \tminn=b[1];\n\t    \twei=1;\n\t    \tfor(int k=2;k<=m;k++)\n\t    \t{\n\t    \tif(minn>b[k])\n\t    \tminn=b[k],wei=k;\n\t\t\t}\n\t\t\tb[wei]+=a[j];\n\t\t}\n\t\tprint();\n\t\t//getchar();\n\t}\n\tprintf(\"%.2lf\",anss);\n}\n```\nps:\u5982\u679c\u4f60\u6709\u51e0\u4e2a\u70b9WA\u4e86\uff0c\u5efa\u8bae\u6d17\u628a\u8138\uff0c\u91cd\u65b0\u8bd5\u4e00\u6b21\u3002",
        "postTime": 1564657455,
        "uid": 87313,
        "name": "tosania",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2503 \u3010[HAOI2006]\u5747\u5206\u6570\u636e\u3011"
    },
    {
        "content": "\u770b\u5230\u697c\u4e0b\u8c8c\u4f3c\u90fd\u7528\u4e86DP\uff1f\n\n\u5176\u5b9e\u8fd9\u9898\u76f4\u63a5\u5f3a\u4e0a\u6a21\u62df\u9000\u706b\u4e5f\u662f\u53ef\u4ee5\u7684\n\n\u968f\u673a\u51fa\u6bcf\u4e2a\u4f4d\u7f6e\u5728\u54ea\u4e2a\u5730\u65b9\n\n\u7136\u540e\u6bcf\u6b21\u4efb\u610f\u53d6\u51fa\u4e00\u4e2a\u5143\u7d20\uff0c\u52a0\u5230\u6700\u5c0f\u7684\u5206\u7ec4\u4e2d\n\nexp\u7684\u8bbe\u5b9a\u5c31\u6309\u5957\u8def\u6765\uff0c\u7528\u66f4\u65b0\u540e\u7684\u503c\u51cf\u53bb\u4e4b\u524d\u7684\u503c\n```cpp\n// luogu-judger-enable-o2\n#include<cstdio>\n#include<cmath>\n#include<ctime>\n#include<cstdlib> \n#include<algorithm>\n#include<cstring>\n#define sqr(x) ((x)*(x))\nconst int MAXN = 31;\nconst double eps = 1e-15;\nconst int INF = 1e9 + 10;\nusing namespace std;\ninline int read() {\n    char c = getchar();int x = 0, f = 1;\n    while(c < '0' || c > '9') {if(c == '-') f = -1;c = getchar();}\n    while(c >= '0' && c <= '9') {x = x * 10 + c - '0';c = getchar();}\n    return x * f;\n}\nint N, M;\nint belong[MAXN], a[MAXN];\ndouble sum[MAXN], Aver = 0, Best = 1e20;\nvoid MoNiTuiHuo() {\n    memset(sum, 0, sizeof(sum));\n    const double DeltaT = 0.99;\n    double ans = 0;\n    for(int i = 1; i <= N; i++) belong[i] = rand() % M + 1, sum[ belong[i] ] += a[i];\n    for(int i = 1; i <= M; i++) ans += sqr(sum[i] - Aver);\n    for(double T = 10000; T > eps; T *= DeltaT) {\n        int P = min_element(sum + 1, sum + M + 1) - sum;//\u627e\u51fa\u6700\u5c0f\u7684\u4f4d\u7f6e \n        int X = rand() % N + 1;//\u8fd9\u91cc\u76f4\u63a5\u968f\u673a\u5c31\u53ef\u4ee5 \n        double Pre = ans;\n        ans -= sqr(sum[ belong[X] ] - Aver) + sqr(sum[P] - Aver);\n        sum[ belong[X] ] -= a[X]; sum[P] += a[X];\n        ans += sqr(sum[ belong[X] ] - Aver) + sqr(sum[P] - Aver);\t\t\n        if((ans < Pre) || (exp( (ans-Pre)/T ) * RAND_MAX  < rand() )) belong[X] = P;//\u4ee5\u4e00\u5b9a\u6982\u7387\u63a5\u53d7\u6700\u4f18\u89e3 \n        else ans = Pre, sum[ belong[X] ] += a[X], sum[P] -= a[X];\t//\u4e0d\u66f4\u65b0 \n    }\n    if(ans < Best) \n        Best = ans;\n}\nint main() {\n    #ifdef WIN32\n    freopen(\"a.in\", \"r\", stdin);\n    #endif\n    srand(19260817);\n    N = read(); M = read();\n    for(int i = 1; i <= N; i++) a[i] = read(), Aver += a[i];\n    Aver /= M;\n    for(int i = 1; i <= 1000; i++) MoNiTuiHuo();\n    printf(\"%.2lf\",sqrt(Best / M));//\u56e0\u4e3ay=sqrt(x)\u8fd9\u4e2a\u51fd\u6570\u5177\u6709\u5355\u8c03\u6027\uff0c\u6240\u4ee5\u6700\u540e\u5728\u5f00\u6839\u5c31\u53ef\u4ee5 \n    return 0;\n}\n```",
        "postTime": 1524884365,
        "uid": 36984,
        "name": "attack",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2503 \u3010[HAOI2006]\u5747\u5206\u6570\u636e\u3011"
    },
    {
        "content": "\u9996\u5148\u5148\u628a\u9898\u76ee\u89e3\u91ca\u4e00\u4e0b\u3002\u3002\u3002\n\n\u9898\u610f\u662f\uff0c\u628an\u4e2a\u6570\u4ee5\u5206\u4e3am\u7ec4\uff0c\u8ba1\u7b97\u6bcf\u4e00\u7ec4\u7684\u548c\uff0c\u6c42\u5f97\u5230\u7684\u8fd9m\u4e2a\u6570\u7684\u65b9\u5dee\u3002\u7531\u4e8e\u5206\u6cd5\u662f\u4efb\u610f\u7684\uff0c\u6211\u4eec\u8981\u6c42\u8fd9\u4e9b\u65b9\u5dee\u4e2d\u7684\u6700\u5c0f\u503c\n\n\u6211\u662f\u5148\u505a\u4e86[P2210 Haywire](https://www.luogu.org/problemnew/show/P2210)\u4ee5\u540e\u518d\u505a\u7684\u3002\n\n\u9996\u5148\u7ed9\u5b9a\u4e00\u4e2a\u5e8f\u5217\uff0c\u8ba1\u7b97\u5f53\u524d\u72b6\u6001\u7684\u6700\u5c0f\u65b9\u5dee\u7684\u65b9\u6cd5\u662f\uff0c\u6309\u7167\u987a\u5e8f\u52a0\u5165\uff0c\u6bcf\u6b21\u5c06\u6570\u52a0\u5165\u548c\u6700\u5c0f\u7684\u4e00\u4e2a\u96c6\u5408\uff0c\u6700\u540e\u8ba1\u7b97\u65b9\u5dee\u3002\n\n\u90a3\u4e48\u6539\u53d8\u7b54\u6848\u7684\u65b9\u6cd5\u5c31\u662f\u6539\u53d8\u5e8f\u5217\u7684\u987a\u5e8f\u3002\u8fd9\u91cc\u6211\u7528\u5230\u7684\u662f\u4ea4\u6362\u5176\u4e2d\u7684\u4e24\u4e2a\u6570\uff0c\u5982\u679c\u7b54\u6848\u53d8\u5c0f\u4e86\u5c31\u66f4\u65b0\uff0c\u5426\u5219\u6709\u4e00\u5b9a\u6982\u7387\u4fdd\u7559\uff0c\u4e00\u5b9a\u6982\u7387\u6362\u56de\u53bb\u3002\n\n\u90a3\u4e48\u9644\u4e0aAC\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nconst int maxn=25;\nconst int maxm=10;\nusing namespace std;\n\nint n,m,a[maxn],s;\ndouble ave;\ndouble best,now;\ndouble be[maxn],no[maxn];\n\ndouble Calc()\n{\n    double num[maxm];\n    memset(num,0,sizeof(num));\n    for(int i=1;i<=n;i++)\n    {\n        int p=1;\n        for(int j=1;j<=m;j++)\n            if(num[j]<num[p]) p=j;\n        num[p]+=no[i];\n    }\n    double tmp=0;\n    for(int i=1;i<=m;i++) tmp+=(num[i]-ave)*(num[i]-ave);\n    return sqrt((double)tmp/m);\n}\n\nint main()\n{\n    srand(time(0)),srand(rand());\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++) scanf(\"%d\",&a[i]),no[i]=be[i]=a[i],s+=a[i];\n    ave=(double)s/m;\n    best=Calc();\n    for(int t=1;t<=30;t++)\n    {\n        now=best;\n        for(int i=1;i<=n;i++) no[i]=be[i];\n        for(double dt=100000;dt>=1e-14;dt*=0.97)\n        {\n            int x=rand()%n+1,y=rand()%n+1;\n            while(y==x) y=rand()%n+1;\n            swap(no[x],no[y]);\n            double tmp=Calc();\n            if(tmp<best)\n            {\n                best=tmp;\n                for(int i=1;i<=n;i++) be[i]=no[i];\n            }\n            if(tmp<now || (double)(tmp-now)/dt<(double)rand()/RAND_MAX) now=tmp;\n            else swap(no[x],no[y]);\n        }\n    }\n    printf(\"%.2f\",best);\n    return 0;\n}\n```",
        "postTime": 1541421004,
        "uid": 44580,
        "name": "JMercury",
        "ccfLevel": 7,
        "title": "P2503 [HAOI2006]\u5747\u5206\u6570\u636e"
    },
    {
        "content": "\u5176\u5b9e\u7528\u4e0d\u7740dp\u7684\uff0c\u7eaf\u6a21\u62df\u9000\u706b\u5c31\u53ef\u4ee5A\u6389\u672c\u9898\n\n(\u8c03\u53c2\u6570\u8ba9\u6211\u7d2f\u6b7b)\n\n\n%\u4f60\u9000\u706b\u6b65\u9aa4\uff1a\n> \u6bcf\u6b21\u968f\u673a\u66f4\u6539\u4e00\u4e2a\u6570\u7684\u5206\u7ec4\uff0c\u7136\u540e\u8ba1\u7b97\u7b54\u6848\n\n\u5176\u4ed6\u7684\u6b65\u9aa4\u548c\u666e\u901a\u6a21\u62df\u9000\u706b\u4e00\u6837\uff08\u8fd9\u4efd\u4ee3\u7801\u5176\u5b9e\u6709\u4e2abug\uff0c\u4f46\u4e0d\u5f71\u54cd\u6700\u7ec8\u51fa\u7684\u89e3\uff09\n\n~~\u6211\u662f\u975e\u6d32\u5927\u914b\u957f~~\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint n,m,a[25],grp[25],sum[25];//a:\u6570\u5b57 grp:\u5bf9\u5e94\u7684\u7ec4\u7684\u7f16\u53f7 sum\uff1a\u7ec4\u91cc\u6570\u5b57\u7684\u548c\ndouble ans,avg;//avg:\u5747\u503c \nconst double d = 0.992;\ndouble get_val() //\u8ba1\u7b97\u7b54\u6848\n{\n    double val = 0;\n    for (int i = 1;i <= m;i++) \n        val += (sum[i] - avg) * (sum[i] - avg);\n    return val / m;//\u6700\u540e\u5f00\u65b9\n}\nvoid ch_grp(int pos,int target) //\u5c06\u7b2cpos\u4e2a\u6570\u7684\u5206\u7ec4\u6539\u4e3atarget\n{\n    sum[grp[pos]] -= a[pos];\n    sum[target] += a[pos];\n    grp[pos] = target;\n}\nvoid SA() //\u6a21\u62df\u9000\u706b\n{\n    double T = 3000,cur_ans = ans;\n    while (T > 1e-10)\n    {\n        int pos = rand() % n + 1,target = rand() % m + 1;\n        int origin = grp[pos]; \n        ch_grp(pos,target);\n        double nans = get_val(),diff = nans - cur_ans;\n        if (diff < 0)\n        {\n            cur_ans = nans;if (cur_ans < ans) ans = cur_ans;\n        }\n        else if (RAND_MAX * exp(-diff / T) <= rand()) ch_grp(pos,origin);//\u5982\u679c\u53d6\u65b0\u89e3\u5931\u8d25\u5c31\u6362\u56de\u53bb\n        T *= d;\n    }\n}\nint main ()\n{\n    srand(time(0));\n    scanf(\"%d%d\",&n,&m);\n    for (int i = 1;i <= n;i++) \n    {\n        scanf(\"%d\",&a[i]);avg += a[i];\n    }\n    avg /= m;\n    for (int i = 1;i <= n;i++)\n    {\n        grp[i] = rand() % m + 1;sum[grp[i]] += a[i];\n    }\n    ans = get_val();\n    for (int i = 1;i <= 1000;i++) SA();\n    printf(\"%.2lf\",sqrt(ans));\n    return 0;\n}\n```\n\n### \u8dd11000\u904dSA\u4e5f\u6ca1\u6709TLE\u3002\u3002\u3002\n\n### \u9644\uff1abug\u5c31\u662f\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e00\u7ec4\u91cc\u6ca1\u6709\u4efb\u4f55\u6570\u7684\u60c5\u51b5",
        "postTime": 1554293629,
        "uid": 92602,
        "name": "SIGSEGV",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2503 \u3010[HAOI2006]\u5747\u5206\u6570\u636e\u3011"
    },
    {
        "content": "\u600e\u4e48\u8bf4\u5462\u2026\u2026\u6a21\u62df\u9000\u706b\u662f\u5f88\u6709\u8da3\u7684\u4e00\u7c7b\u9898\u76ee\u3002\n\n\u8fd9\u9053\u9898\u7ed3\u5408\u4e86\u6a21\u62df\u9000\u706b\u548c\u8d2a\u5fc3\u3002\n\n\u6709\u4e00\u79cd\u5047\u7684\u8d2a\u5fc3\u65b9\u6cd5\uff1a\u5bf9\u8fd9\u4e2a\u6570\u7ec4\u626b\u8fc7\u53bb\uff0c\u6bcf\u4e2a\u6570\u653e\u5230\u5f53\u524d\u548c\u6700\u5c0f\u7684\u4e00\u7ec4\u91cc\u9762\u3002\n\n\u5bf9\u4e8e\u8fd9\u79cd\u8d2a\u5fc3\u65b9\u6cd5\uff0c\u6211\u53d1\u73b0\uff0c\u7528\u6765\u505a\u6a21\u62df\u9000\u706b\u7684\u4f30\u4ef7\u51fd\u6570\u5f88\u5408\u9002\uff01\n\n\u5c31\u662f\u8fd9\u4e2a\u4f22\u5b50\uff1a\n\n```cpp\ndouble ask()\n{\n\tint q[25]={0},i,j,w,mn;\n\tdouble sum=0;\n\tfor(i=0;i<n;i++)\n\t{\n\t\tmn=1e9;\n\t\tfor(j=0;j<m;j++)\n\t\t\tif(q[j]<mn)\n\t\t\t\tmn=q[j],w=j;\n\t\tq[w]+=a[i];\n\t}\n\tfor(i=0;i<m;i++)\n\t\tsum+=(xx-q[i])*(xx-q[i]);\n\treturn sqrt(sum/m);\n}\n```\nM_sea \u59d0\u59d0\u7528\u7684\u662f\u968f\u673a\u8d2a\u5fc3\uff0c\u5c31\u662f\u6bcf\u6b21\u968f\u673a\u6253\u4e71\u6570\u7ec4\u3002\u7528\u6a21\u62df\u9000\u706b\u73c2\u80fd\u6bd4\u968f\u673a\u6253\u4e71\u597d\u4e9b\u3002\n\n\u76f4\u63a5\u4ece P3878\t[TJOI2010]\u5206\u91d1\u5e01 \u6539\u8fc7\u6765\u7684\u2026\u2026\u51e0\u4e4e\u6ca1\u8c03\u53c2\n\n\u552f\u4e00\u8981\u8bf4\u7684\uff0c\u5c31\u662f\u6700\u540e\u4e00\u4e2a\u70b9\u4e0d\u592a\u53cb\u597d\uff0c\u6267\u884c $1000$ \u6b21 SA \u4e0d\u4e00\u5b9a\u80fd\u8fc7\u3002\n\n\u6240\u4ee5\uff0c\u73c2\u4ee5\u5361\u65f6\u9650\u3002\n\n\u56e0\u4e3a%\u4f60\u9000\u706b\u8fd0\u884c\u8d8a\u591a\u6b21\uff0c\u5f97\u51fa\u6b63\u786e\u89e3\u7684\u6982\u7387\u8d8a\u9ad8\uff0c\u8fd0\u884c\u65f6\u5e38\u4e5f\u8d8a\u957f\u3002\u6240\u4ee5\u8ba9\u7a0b\u5e8f\u538b\u7740\u65f6\u9650\u8fc7\u5c31\u884c\u3002\n\n\u5c31\u53ef\u4ee5\u7528\u8fd9\u4e2a\u5361\u65f6\u95f4\u795e\u5668\uff1a\n\n```cpp\nwhile(clock()<900000)\n\tSA();\n```\n\u8fd9\u6837\u53ef\u4ee5\u8ba9\u7a0b\u5e8f\u8fd0\u884c\u5230\u5927\u7ea6 $900$ms \u7684\u65f6\u5019\u7ed3\u675f\u3002\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u662f $900000$ \u800c\u4e0d\u662f $900$ \u8fd8\u6709\u5f85\u8003\u7a76\u3002\u5728\u6d1b\u8c37\u4e0a\u8ba9\u65f6\u95f4 $\\times 1000$\uff08ms\uff09\u5c31\u884c\u3002\n\nUPD\uff1a\u5f53\u5929\uff1ahttps://www.luogu.com.cn/discuss/show/213037\n\n> linux\u4e0b1000000\u4e3a1s\u2014\u2014@AK\u65b0\u624b\u6751 \n\n\u611f\u8c22\u795e\u4ed9@AK\u65b0\u624b\u6751\n\n\u540c\u65f6\u53ef\u4ee5\u4f7f\u7528 `CLOCKS_PER_SEC`\u3002\u540c\u6837\u662f $1s$\u3002\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint a[25];\nint n,m;\ndouble mn=1e9,xx;\nconst double o=0.95,e=1e-8;\ndouble ask()\n{\n\tint q[25]={0},i,j,w,mn;\n\tdouble sum=0;\n\tfor(i=0;i<n;i++)\n\t{\n\t\tmn=1e9;\n\t\tfor(j=0;j<m;j++)\n\t\t\tif(q[j]<mn)\n\t\t\t\tmn=q[j],w=j;\n\t\tq[w]+=a[i];\n\t}\n\tfor(i=0;i<m;i++)\n\t\tsum+=(xx-q[i])*(xx-q[i]);\n\treturn sqrt(sum/m);\n}\nvoid SA()\n{\n\tdouble s=3000,ans;\n\tint w1,w2;\n\tfor(;s>e;s*=o)\n\t{\n\t\tw1=rand()%n,w2=rand()%n;\n\t\tswap(a[w1],a[w2]);\n\t\tans=ask();\n\t\tif(ans<mn)\n\t\t\tmn=ans;\n\t\telse if(exp((ans-mn)/s)*RAND_MAX<rand())\n\t\t\tswap(a[w1],a[w2]);\n\t}\n}\nint main()\n{\n\tsrand(time(0));\n\tint i;\n\tcin>>n>>m;\n\tfor(i=0;i<n;i++)\n\t{\n\t\tcin>>a[i];\n\t\txx+=a[i];\n\t}\n\txx/=m;\n\twhile(clock()<900000)\n\t\tSA();\n\tprintf(\"%.2f\",mn);\n} \n```\n\u6539\u5b8c\u4e4b\u540e\u4e00\u904d\u7a33\u8fc7\u3002\n\n\u66f4\u65b0\u540e\u7684\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint a[25];\nint n,m;\ndouble mn=1e9,xx;\nconst double o=0.95,e=1e-8;\ndouble ask()\n{\n\tint q[25]={0},i,j,w,mn;\n\tdouble sum=0;\n\tfor(i=0;i<n;i++)\n\t{\n\t\tmn=1e9;\n\t\tfor(j=0;j<m;j++)\n\t\t\tif(q[j]<mn)\n\t\t\t\tmn=q[j],w=j;\n\t\tq[w]+=a[i];\n\t}\n\tfor(i=0;i<m;i++)\n\t\tsum+=(xx-q[i])*(xx-q[i]);\n\treturn sqrt(sum/m);\n}\nvoid SA()\n{\n\tdouble s=3000,ans;\n\tint w1,w2;\n\tfor(;s>e;s*=o)\n\t{\n\t\tw1=rand()%n,w2=rand()%n;\n\t\tswap(a[w1],a[w2]);\n\t\tans=ask();\n\t\tif(ans<mn)\n\t\t\tmn=ans;\n\t\telse if(exp((ans-mn)/s)*RAND_MAX<rand())\n\t\t\tswap(a[w1],a[w2]);\n\t}\n}\nint main()\n{\n\tsrand(time(0));\n\tint i;\n\tcin>>n>>m;\n\tfor(i=0;i<n;i++)\n\t{\n\t\tcin>>a[i];\n\t\txx+=a[i];\n\t}\n\txx/=m;\n\twhile(clock()<CLOCKS_PER_SEC*0.9)\n\t\tSA();\n\tprintf(\"%.2f\",mn);\n} \n```\n",
        "postTime": 1586401223,
        "uid": 203623,
        "name": "Ntokisq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2503 \u3010[HAOI2006]\u5747\u5206\u6570\u636e\u3011"
    },
    {
        "content": "\u6c34\u9898\u3002\u3002\u3002\n\n\u770b\u8d77\u6765\u5f88\u7384\u5999\uff0c\u5b9e\u9645\u4e0a\u6bcf\u6b21\u968f\u673a\u6253\u4e71\u5e8f\u5217\uff0c\u8d2a\u5fc3\u4e00\u4e0b\u5c31\u8fc7\u4e86\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <cmath>\n#include <ctime>\n\nusing namespace std;\n\nint n, m, a[105], b[105];\ndouble ans = 0x3f3f3f3f, pj = 0;\n\nint main() {\n    srand((unsigned)time(NULL));\n    cin >> n >> m;\n    for (int i = 1; i <= n; ++i) {\n        cin >> a[i]; pj += a[i];\n    }\n    pj = (double)pj / (double)m;\n    for (int i = 1; i <= 500000; ++i) {\n        random_shuffle(a + 1, a + n + 1);\n        memset(b, 0, sizeof(b));\n        for (int j = 1; j <= n; ++j) {\n            int mn = 1;\n            for (int k = 2; k <= m; ++k)\n                if (b[mn] > b[k]) mn = k;\n            b[mn] += a[j];\n        } double sum = 0;\n        for (int j = 1; j <= m; ++j) sum += (double)(b[j] - pj) * (double)(b[j] - pj);\n        sum = (double)sum / (double)m; if (sum < ans) ans = sum;\n    } printf(\"%.2lf\", sqrt(ans)); return 0;\n}\n```\n",
        "postTime": 1576579985,
        "uid": 220533,
        "name": "HTensor",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2503 \u3010[HAOI2006]\u5747\u5206\u6570\u636e\u3011"
    },
    {
        "content": "\u9898\u89e3\u540c\u6b65\u53d1\u5e03\u4e8e[blog](https://www.cnblogs.com/wzzorz/articles/10364306.html)  \n\n------------\n**\u6a21\u62df\u9000\u706b**\u5957**dp**  \n\u5173\u4e8e\u57fa\u7840\u7684\u6a21\u62df\u9000\u706b[\u6b22\u8fce\u6765\u8e29blog](https://www.cnblogs.com/wzzorz/articles/10360087.html)  \n\u4ee3\u7801\u6b63\u786e\u65f6\u4ea4\u4e24\u6b21A\u4e24\u6b21(\u79cd\u5b50\u968f\u673a)  \n~~Woc\u8fd9\u4e0d\u662fmo\u4f60\u9000\u706b\u7684\u98ce\u683c\u554a\u560e\u560e\u560e~~  \n\u770b\u6211\u90a3\u7bc7\u535a\u6587\u7684\u5e73\u8861\u70b9\u8f9b\u9178\u53f2\u3002\u3002\u3002  \n\u8fd9\u9053\u9898\u5176\u5b9e\u5c31\u662f**\u8fde\u7eed**\u5206\u7ec4\uff0c**\u7528\u6a21\u62df\u9000\u706b\u6253\u4e71**\u4e0d\u5c31\u968f\u673a\u4e86\u5417\uff1f  \n\u7136\u540e\u5c31\u53ea\u6709\u8ba1\u7b97\u7a0d\u5fae\u96be\u4e00\u70b9\u4e86(\u63cf\u8ff0\u5bf9\u4e00\u4e2a\u521d\u4e8c\u849f\u84bb\u76f8\u5f53\u4e0d\u53cb\u597d\u554a\u5582\uff01**(\u03c3\uff40\u0434\u2032)\u03c3** )  \n\u6700\u540e\u653e\u51fa\u4ee3\u7801\n\n------------\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,A[30],s[30];\ndouble xs=0.95;//\u964d\u6e29\u7cfb\u6570\ndouble ans=1000000000,qwq,dp[30][30];\ndouble calc()\n{\n\tfor(int i=0;i<=n;i++)\n\t{\n\t\tfor(int j=0;j<=m;j++)\n\t\t{\n\t\t\tdp[i][j]=10000;\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\ts[i]=s[i-1]+A[i];\n\t}\n\tdp[0][0]=0;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=i;j++)\n\t\t{\n\t\t\tfor(int k=0;k<i;k++)\n\t\t\t{\n\t\t\t\tdp[i][j]=min(dp[i][j],dp[k][j-1]+(s[i]-s[k]-qwq)*(s[i]-s[k]-qwq));\n\t\t\t}\t\t\n\t\t}\n\t}\n\tans=min(ans,dp[n][m]);\n\treturn dp[n][m];\n}\nint SA()//\u6a21\u62df\u9000\u706b\n{\n\tdouble t=10000,now=ans;\n\twhile(t>0.0001)\n\t{\n\t\tint x=rand()%n+1,y=rand()%n+1;//\u968f\u673a\u5339\u914d\n\t\tswap(A[x],A[y]);\n\t\tdouble res=calc();\n\t\tdouble ch=res-now;\n\t\tif(ch<0||exp(-ch)/t>(double)(rand()%100/100.00))\n\t\t{\n\t\t\tnow=res;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tswap(A[x],A[y]);\n\t\t}\n\t\tt*=xs;\n\t}\n}\nint main()\n{\n\tsrand(time(NULL));//\u968f\u673a\u79cd\u5b50\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>A[i];\n\t\tqwq+=1.0*A[i]/m;\n\t}\n\tcalc(); \n\twhile((double)clock()/CLOCKS_PER_SEC<0.8)//\u5361\u65f6\u9650\n\t{\n\t\tSA();\n\t}\n\tprintf(\"%.2lf\",sqrt(ans/m));\n}\n```",
        "postTime": 1549940305,
        "uid": 97593,
        "name": "G_A_TS",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2503 \u3010[HAOI2006]\u5747\u5206\u6570\u636e\u3011"
    },
    {
        "content": "[\u539f\u9898\u5730\u5740](https://www.luogu.org/problemnew/show/P2503)\n\n\u6bd4\u5e73\u8861\u70b9\u8fd8\u88f8\u7684\u6a21\u62df\u9000\u706b\u6a21\u677f\u9898\uff0c\u4f46\u662f\u7a9d\u5c31\u662f\u4e0d\u4f1a\u6253\uff0c\n\n\u592a\u83dc\u4e86\n\nn\u4e2a\u6570\u5206m\u7ec4\uff0c\u8ba9\u65b9\u5dee\u6700\u5c0f\uff0c\u5c31\u662f\u5bf9\u4e8eai\u628aai\u653e\u5230\u6700\u5c0f\u7684xi\u4e2d\uff081<=x<=n\uff09\n\n\u5bf9\u4e8en\u4e2a\u6570\u968f\u673a\u91cd\u7ec4\n\n\u9000\u706b\u5f88\u8ff7\u7684\u6211\u5bf9\u7740\u5927\u4f6c\u7684\u53c2\u6570\u4e00\u4e2a\u4e00\u4e2a\u8bd5\u4e0b\u6765\uff08\u771f\u5f00\u5fc3\u5624\u5624\u5624\uff09\n\n\u8d70\u597d\n\n```cpp\n// luogu-judger-enable-o2\n#include <bits/stdc++.h>\nusing namespace std;\nint n,m,a[25],grp[25],sum[25];\ndouble ans,avg;\nconst double d = 0.992;\ndouble get_val()\n{\n    double val = 0;\n    for (int i = 1;i <= m;i++) \n        val += (sum[i] - avg) * (sum[i] - avg);\n    return val / m;\n}\nvoid ch_grp(int pos,int target)\n{\n    sum[grp[pos]] -= a[pos];\n    sum[target] += a[pos];\n    grp[pos] = target;\n}\nvoid SA()\n{\n    double T = 3000,cur_ans = ans;\n    while (T > 1e-10)\n    {\n        int pos = rand() % n + 1,target = rand() % m + 1;\n        int origin = grp[pos]; \n        ch_grp(pos,target);\n        double nans = get_val(),diff = nans - cur_ans;\n        if (diff < 0)\n        {\n            cur_ans = nans;if (cur_ans < ans) ans = cur_ans;\n        }\n        else if (RAND_MAX * exp(-diff / T) <= rand()) ch_grp(pos,origin);\n        T *= d;\n    }\n}\nint main ()\n{\n    srand(time(0));\n    scanf(\"%d%d\",&n,&m);\n    for (int i = 1;i <= n;i++) \n    {\n        scanf(\"%d\",&a[i]);avg += a[i];\n    }\n    avg /= m;\n    for (int i = 1;i <= n;i++)\n    {\n        grp[i] = rand() % m + 1;sum[grp[i]] += a[i];\n    }\n    ans = get_val();\n    for (int i = 1;i <= 1000;i++) SA();\n    printf(\"%.2lf\",sqrt(ans));\n    return 0;\n}\n```\n\u653e\u5f03\u5427\uff0c\u5047\u7684\u53c2\u6570\uff0c\u6211\u624d\u4e0d\u4f1a\u7ed9\u4f60\u771f\u7684\u5462\u3002",
        "postTime": 1559567010,
        "uid": 31069,
        "name": "Agakiss",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2503 \u3010[HAOI2006]\u5747\u5206\u6570\u636e\u3011"
    }
]