[
    {
        "content": "~~\u8fd9\u9898\u9898\u610f\u6bd4\u8f83\u6e05\u695a\uff0c\u5c31\u4e0d\u89e3\u91ca\u4e86\u3002~~\n\n\u5148\u8fdb\u884c\u5206\u6790\uff0c\u9898\u76ee\u5df2\u7ecf\u544a\u8bc9\u6211\u4eec\uff0c$1 \\le A \\le B \\le C$\uff0c\u6240\u4ee5\u53ef\u4ee5\u5206\u6790\u51fa\n $1 \\le A \\le B \\le A+B,C \\le A+C \\le B+C \\le A+B+C$\uff0c\u9664\u4e86$A+B$ \u548c $C$ \u5176\u5b83\u5927\u5c0f\u5173\u7cfb\u90fd\u662f\u53ef\u4ee5\u786e\u5b9a\u7684\u3002\n \n\u6211\u4eec\u628a\u6bcf\u4e00\u4e2a\u8fdb\u884c\u4e8c\u8fdb\u5236\u7f16\u53f7\uff0c$A$ \u653e\u5728\u7b2c\u4e00\u4f4d\uff0c$B$ \u653e\u5728\u7b2c\u4e8c\u4f4d\uff0c$C$ \u653e\u5728\u7b2c\u4e09\u4f4d\uff0c\u6240\u4ee5\u4e0a\u8ff0\u5b57\u6bcd\u7f16\u53f7\u5206\u522b\u5bf9\u5e94\u7740 $1,2,3,4,5,6,7$\uff0c**\u4f46\u5176\u4e2d $3$ \u548c $4$ \u7684\u5927\u5c0f\u5173\u7cfb\u65e0\u6cd5\u786e\u5b9a**\u3002\n\n\u6240\u4ee5\u53ea\u8981\u679a\u4e3e\u6bcf\u4e2a\u5f0f\u5b50\u5bf9\u5e94\u7684\u6570\u5b57\uff0c\u8fdb\u884c\u52a0\u51cf\u64cd\u4f5c\u6c42\u89e3\uff0c\u6ce8\u610f\u53ea\u6709\u4e92\u76f8\u5305\u542b\u7684\u4e24\u4e2a\u6570\u5b57\u53ef\u4ee5\u8fdb\u884c\u64cd\u4f5c\u3002\n\n\u56e0\u4e3a\u53ef\u80fd\u89e3\u51fa\u76f8\u540c\u7684\u89e3\uff0c\u6ce8\u610f\u6700\u540e\u8981\u5bf9\u89e3\u8fdb\u884c**\u53bb\u91cd**\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntemplate<typename T>inline void read(register T &x)\n{\n\tregister T p = 1,num = 0;\n\tchar c = getchar();\n\twhile(c < '0'||c > '9')\n\t{\n\t\tif(c == '-') p = -1;\n\t\tc = getchar();\n\t}\n\twhile('0' <= c&&c <= '9')\n\t{\n\t\tnum = (num<<3)+(num<<1)+(c^48);\n\t\tc = getchar();\n\t}\n\tx = p * num;\n}\ntemplate<typename T>inline void write(register T x)\n{\n\tif(x < 0) putchar('-'),x = -x;\n\tif(x > 9) write(x/10);\n\tputchar(x%10^48);\n}\nint a[10],b[10],num[10];\n//1:A 2:B 3:A+B 4:C 5:A+C 6:B+C 7:A+B+C\nint T,n,ans;\nbitset<10> vis;\nvector<int> g[10],h[10]; \nset<long long> pt;\nvoid dfs(int u)\n{\n\tif(u > n) \n\t{\n\t\tmemset(num,0,sizeof(num));\n\t\tfor(int i = 1;i <= n;++i)  num[b[i]] = a[i];\n\t\tbool flag = 0;\n\t\tfor(int o = 1;o <= 3;++o)\n\t\t\tfor(int i = 1;i <= 7;++i)\n\t\t\t{\n\t\t\t\tfor(auto j:g[i]) \n\t\t\t\t{\n\t\t\t\t\tif(!num[j]||!num[i-j]) continue;\n\t\t\t\t\tif(num[i]&&num[i] != num[j] + num[i-j]) \n\t\t\t\t\t\treturn;\t\n\t\t\t\t\tnum[i] = num[j] + num[i-j];\t\n\t\t\t\t}\n\t\t\t\tfor(auto j:h[i])\n\t\t\t\t{\n\t\t\t\t\tif(!num[j]||!num[j-i]) continue;\n\t\t\t\t\tif(num[i]&&num[i] != num[j] - num[j-i]) \n\t\t\t\t\t\treturn;\t\n\t\t\t\t\tnum[i] = num[j] - num[j-i];\t\n\t\t\t\t}\n\t\t\t}\n\t\tif(num[1] >= 1&&num[2] >= num[1]&&num[4] >= num[2]) pt.insert(114514ll*114514ll*num[1]+114514ll*num[2]+num[4]);\n\t\treturn;\n\t}\n\tfor(int i = 1;i <= 7;++i)\n\t{\n\t\tif(vis[i]) continue;\n\t\tb[u] = i;\n\t\tbitset<10> tp = vis;\n\t\tbool flag = 0;\n\t\tif(i == 4&&!vis[3]) flag = 1;\n\t\tfor(int j = 1;j <= i;++j) vis[j] = 1;\n\t\tif(flag) vis[3] = 0;\n\t\tdfs(u+1);\n\t\tvis = tp; \n\t}\n}\nint main()\n{\n\tg[3].push_back(1),g[3].push_back(2);\n\tg[5].push_back(1),g[5].push_back(4);\n\tg[6].push_back(2),g[6].push_back(4);\n\tfor(int i = 1;i <= 6;++i) g[7].push_back(i);\n\th[1].push_back(3),h[1].push_back(5),h[1].push_back(7);\n\th[2].push_back(3),h[2].push_back(6),h[2].push_back(7);\n\th[3].push_back(7); \n\th[4].push_back(5),h[4].push_back(6),h[4].push_back(7);\n\th[5].push_back(7);\n\th[6].push_back(7);\n\tread(T);\n\twhile(T--)\n\t{\n\t\tread(n);\n\t\tfor(int i = 1;i <= n;++i) read(a[i]);\n\t\tsort(&a[1],&a[n+1]);\n\t\tvis = 0;\n\t\tpt.clear();\n\t\tdfs(1);\n\t\twrite(pt.size());\n\t\tputchar('\\n');\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1667294755,
        "uid": 197648,
        "name": "Wangxun",
        "ccfLevel": 5,
        "title": "P7556 \u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\u7b80\u8ff0\n\n\u7ed9\u5b9a\u4e00\u4e9b\u6570\u5b57 $x_i$\uff0c\u6c42\u51fa\u6709\u591a\u5c11\u7ec4 $(A,B,C)$\uff0c\u4f7f\u5f97 $1 \\leq A \\leq B \\leq C$\uff0c\u5e76\u4e14 $\\forall i,x_i \\in \\{A,B,C,A+B,B+C,A+C,A+B+C\\}$\u3002\n\n\u5176\u4e2d\u4fdd\u8bc1 $x_i$ \u4e92\u4e0d\u76f8\u540c\u4e14\u4e2a\u6570\u5728 4 \u5230 7 \u4e2d\u95f4\u3002\n\n### \u5206\u6790\n\n\u8fd9\u9053\u9898\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\u4ec0\u4e48\u597d\u89e3\u51b3\u7684\u65b9\u6cd5\u3002\u6211\u4eec\u5047\u8bbe\u4e0a\u9762\u7684 7 \u79cd\u548c\u662f 7 \u4e2a\u6876\uff0c\u800c\u6211\u4eec\u9700\u8981\u505a\u7684\u5c31\u662f\u5f80\u91cc\u9762\u653e\u5165\u51e0\u4e2a\u6570\u5b57\u4f7f\u5176\u5bf9\u5e94\uff0c\u7136\u540e\u66b4\u529b\u6c42\u51fa\u89e3\u3002\u6211\u4eec\u5f88\u5bb9\u6613\u53d1\u73b0\u8005 7 \u4e2a\u6570\u7684\u5927\u5c0f\u5173\u7cfb\u53ea\u6709\u4e24\u4e2a\uff08\u4ece\u5c0f\u5230\u5927\uff09\uff1a\n\n$$A,B,C,A+B,A+C,B+C,A+B+C\\ or\\ A,B,A+B,C,A+C,B+C,A+B+C$$\n\n\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u5c06 $x_i$ \u6309\u5927\u5c0f\u987a\u5e8f\u586b\u8fdb\u53bb\uff0c\u7136\u540e\u8ba1\u7b97\u7684\u65f6\u5019\u628a\u7b2c\u4e09\u4e2a\u548c\u7b2c\u56db\u4e2a\u4ea4\u6362\u4e00\u4e0b\u518d\u7b97\u4e00\u6b21\u5c31\u884c\u3002\n\n\u5173\u4e8e\u8ba1\u7b97\u7684\u65b9\u6cd5\uff1a\u6211\u4eec\u53d1\u73b0\u4f1a\u6709\u56db\u79cd\u60c5\u51b5\uff1a\n\n$A,B,C$ \u4e2d\u4e09\u4e2a\u786e\u5b9a\u4e86\uff1a\u76f4\u63a5\u8fdb\u884c\u6821\u9a8c\u5c31\u884c\u3002\n\n$A,B,C$ \u4e2d\u4e24\u4e2a\u786e\u5b9a\u4e86\uff1a\u901a\u8fc7\u5269\u4e0b\u7684 5 \u4e2a\u4f4d\u7f6e\u4e2d\uff0c\u9664\u4e86\u4e24\u4e2a\u786e\u5b9a\u7684\u4f4d\u7f6e\u4e4b\u548c\u5916\u8fd8\u6709\u56db\u4e2a\u4f4d\u7f6e\uff0c\u5e76\u4e14\u91cc\u9762\u4e00\u5b9a\u6709\u4e00\u4e2a\u786e\u5b9a\u7684\u6570\u5b57\u3002\u76f4\u63a5\u5229\u7528\u90a3\u4e2a\u6570\u5b57\u89e3\u51fa\u5269\u4e0b\u7684\u6570\u5b57\u6821\u9a8c\u3002\n\n$A,B,C$ \u4e2d\u4e00\u4e2a\u786e\u5b9a\u4e86\uff1a\u53d1\u73b0 $A+B,B+C,A+C$ \u4e2d\u6709\u4e24\u4e2a\u786e\u5b9a\uff0c\u53ef\u4ee5\u76f4\u63a5\u8ba1\u7b97\u51fa\u5269\u4e0b\u4e24\u4e2a\u6570\u5b57\u5e76\u4e14\u6821\u9a8c\u3002\n\n$A,B,C$ \u4e2d\u6ca1\u6709\u786e\u5b9a\u7684\uff1a\u53ef\u4ee5\u77e5\u9053 $A+B,B+C,A+C,A+B+C$ \u786e\u5b9a\uff0c\u53ef\u4ee5\u63a5\u89e3\u51fa $A,B,C$\uff0c\u6700\u540e\u6821\u9a8c\u5c31\u884c\u3002\n\n\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cmath>\n#include <set>\n\nusing namespace std;\nint T,N,A[10];\nint B[10],C[4];\nint ans;\nset<pair<int,pair<int,int> > > st;\ninline bool checkD(int a,int b){\n\treturn a==0 || a==b;\n}\ninline bool checkIf(){\n\treturn C[1]>0 && C[2]>=C[1] && C[3]>=C[2]\n\t&& checkD(B[1],C[1]) && checkD(B[2],C[2]) && checkD(B[3],C[3])\n\t&& checkD(B[4],C[1]+C[2]) && checkD(B[5],C[1]+C[3]) && checkD(B[6],C[3]+C[2])\n\t&& checkD(B[7],C[1]+C[2]+C[3])\n\t&& !st.count(make_pair(C[1],make_pair(C[2],C[3])));\n}\ninline void Overall(){\n\tC[1]=C[2]=C[3]=0;\n\tif(B[1] && B[2]){\n\t\tC[1]=B[1];C[2]=B[2];\n\t\tif(B[3])\tC[3]=B[3];\n\t\telse if(B[5])\tC[3]=B[5]-C[1];\n\t\telse if(B[6])\tC[3]=B[6]-C[2];\n\t\telse C[3]=B[7]-C[1]-C[2];\n\t\tif(checkIf())\t++ans,st.insert(make_pair(C[1],make_pair(C[2],C[3])));\n\t\treturn;\n\t}\n\tif(B[1] && B[3]){\n\t\tC[1]=B[1];C[3]=B[3];\n\t\tif(B[2])\tC[2]=B[2];\n\t\telse if(B[4])\tC[2]=B[4]-C[1];\n\t\telse if(B[6])\tC[2]=B[6]-C[3];\n\t\telse C[2]=B[7]-C[1]-C[3];\n\t\tif(checkIf())\t++ans,st.insert(make_pair(C[1],make_pair(C[2],C[3])));\n\t\treturn;\n\t}\n\tif(B[2] && B[3]){\n\t\tC[2]=B[2];C[3]=B[3];\n\t\tif(B[1])\tC[1]=B[1];\n\t\telse if(B[4])\tC[1]=B[4]-C[2];\n\t\telse if(B[5])\tC[1]=B[5]-C[3];\n\t\telse C[1]=B[7]-C[2]-C[3];\n\t\tif(checkIf())\t++ans,st.insert(make_pair(C[1],make_pair(C[2],C[3])));\n\t\treturn;\n\t}\n\tif(B[1]){\n\t\tC[1]=B[1];\n\t\tif(B[4])\tC[2]=B[4]-C[1];\n\t\tif(B[5])\tC[3]=B[5]-C[1];\n\t\tif(B[6]){\n\t\t\tif(C[2])\tC[3]=B[6]-C[2];\n\t\t\telse\tC[2]=B[6]-C[3];\n\t\t}\n\t\tif(checkIf())\t++ans,st.insert(make_pair(C[1],make_pair(C[2],C[3])));\n\t\treturn;\n\t}\n\tif(B[2]){\n\t\tC[2]=B[2];\n\t\tif(B[4])\tC[1]=B[4]-C[2];\n\t\tif(B[6])\tC[3]=B[6]-C[2];\n\t\tif(B[5]){\n\t\t\tif(C[1])\tC[3]=B[5]-C[1];\n\t\t\telse\tC[1]=B[5]-C[3];\n\t\t}\n\t\tif(checkIf())\t++ans,st.insert(make_pair(C[1],make_pair(C[2],C[3])));\n\t\treturn;\n\t}\n\tif(B[3]){\n\t\tC[3]=B[3];\n\t\tif(B[5])\tC[1]=B[5]-C[3];\n\t\tif(B[6])\tC[2]=B[6]-C[3];\n\t\tif(B[4]){\n\t\t\tif(C[1])\tC[2]=B[4]-C[1];\n\t\t\telse\tC[1]=B[4]-C[2];\n\t\t}\n\t\tif(checkIf())\t++ans,st.insert(make_pair(C[1],make_pair(C[2],C[3])));\n\t\treturn;\n\t}\n\tint p=1ll*(B[4]+B[5]+B[6])/2;\n\tC[1]=p-B[6];\n\tC[2]=p-B[5];\n\tC[3]=p-B[4];\n\tif(checkIf())\t++ans,st.insert(make_pair(C[1],make_pair(C[2],C[3])));\n}\nvoid dfs(int x,int k){\n\tif(x==8 && k!=N+1)\treturn;\n\tif(k==N+1){\n\t\tOverall();\n\t\tswap(B[3],B[4]);\n\t\tOverall();\n\t\tswap(B[3],B[4]);\n\t\treturn;\n\t}\n\tdfs(x+1,k);\n\tB[x]=A[k];\n\tdfs(x+1,k+1);\n\tB[x]=0;\n}\nint main(){\n\tscanf(\"%d\",&T);\n\twhile(T--){\n\t\tscanf(\"%d\",&N);\n\t\tfor(int i=1;i<=N;i++)\n\t\t\tscanf(\"%d\",&A[i]);\n\t\tsort(A+1,A+N+1);\n\t\tdfs(1,1);\n\t\tprintf(\"%d\\n\",ans);\n\t\tans=0;st.clear();\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1620527125,
        "uid": 60864,
        "name": "tiger2005",
        "ccfLevel": 7,
        "title": "P7556 [USACO21OPEN] Do You Know Your ABCs? S \u9898\u89e3"
    },
    {
        "content": "## \u7b80\u8981\u9898\u610f\n\u7ed9\u5b9a\u4e00\u4e9b\u6570\u5b57 $x_i$\uff0c\u6c42\u51fa\u6709\u591a\u5c11\u7ec4 $(A,B,C)$\uff0c\u4f7f\u5f97 $1 \\leq A \\leq B \\leq C$\uff0c\u5e76\u4e14 $\\forall i,x_i \\in \\{A,B,C,A+B,B+C,A+C,A+B+C\\}$ \u5176\u4e2d\u4fdd\u8bc1 $x_i$ \u4e92\u4e0d\u76f8\u540c\u4e14\u4e2a\u6570\u5728 $4$ \u5230 $7$ \u4e2d\u95f4\u3002\n## \u601d\u8def\n**\u66b4\u529b**\u3002\n\n\u679a\u4e3e\u6bcf\u4e00\u4e2a $x_i$ \u5206\u522b\u5bf9\u5e94 $\\{A,B,C,A+B,B+C,A+C,A+B+C\\}$ \u4e2d\u7684\u54ea\u4e00\u4e2a\uff0c\u53ef\u4ee5\u7528\u4e00\u4e2a $a$ \u6570\u7ec4\u6765\u8bb0\u5f55\uff1a  \n$a_1$ \u8868\u793a $A$ \u7684\u503c\u3002  \n$a_2$ \u8868\u793a $B$ \u7684\u503c\u3002  \n$a_3$ \u8868\u793a $C$ \u7684\u503c\u3002  \n$a_4$ \u8868\u793a $A+B$ \u7684\u503c\u3002  \n$a_5$ \u8868\u793a $B+C$ \u7684\u503c\u3002  \n$a_6$ \u8868\u793a $A+C$ \u7684\u503c\u3002  \n$a_7$ \u8868\u793a $A+B+C$ \u7684\u503c\u3002\n\n\u7136\u540e\u679a\u4e3e\u6bcf\u4e00\u4e2a $x_i$ \u586b\u5728\u54ea\uff0c\u518d\u901a\u8fc7\u5df2\u77e5\u7684\u503c\uff08\u672a\u77e5\u7684\u503c\u7528 $0$ \u6765\u8868\u793a\uff09\u7b97\u51fa $A,B,C$ \u518d\u9a8c\u8bc1\u6b63\u786e\u6027\u5c31 ok \u4e86\uff08\u8bb0\u5f97\u5224\u91cd\uff09\u3002\n\n\n------------\n\u6700\u540e\uff0cAC\u4ee3\u7801\u5949\u4e0a\u3002\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nint t;\nint n, x[8], a[8], ans, b[8];\nint ji[1000005][3];\n\nvoid dfs(int p) {\n\tif (p == n) {\n\t\tmemcpy(b, a, sizeof(b));\n\t\tif (b[4]) {\n\t\t\tif (!b[1] && b[2]) b[1] = b[4] - b[2];\n\t\t\tif (!b[2] && b[1]) b[2] = b[4] - b[1];\n\t\t\tif (!b[3] && b[7]) b[3] = b[7] - b[4];\n\t\t}\n\t\tif (b[5]) {\n\t\t\tif (!b[2] && b[3]) b[2] = b[5] - b[3];\n\t\t\tif (!b[3] && b[2]) b[3] = b[5] - b[2];\n\t\t\tif (!b[1] && b[7]) b[1] = b[7] - b[5];\n\t\t}\n\t\tif (b[6]) {\n\t\t\tif (!b[1] && b[3]) b[1] = b[6] - b[3];\n\t\t\tif (!b[3] && b[1]) b[3] = b[6] - b[1];\n\t\t\tif (!b[2] && b[7]) b[2] = b[7] - b[6];\n\t\t}\n\t\tif (b[1] > 0 && b[1] <= b[2] && b[2] <= b[3]) {\n\t\t\tif (b[4] && b[4] != b[1] + b[2]) return;\n\t\t\tif (b[5] && b[5] != b[2] + b[3]) return;\n\t\t\tif (b[6] && b[6] != b[3] + b[1]) return;\n\t\t\tif (b[7] && b[7] != b[1] + b[2] + b[3]) return;\n\t\t\tfor (int i = 1; i <= ans; ++i)\n\t\t\t\tif (ji[i][0] == b[1] && ji[i][1] == b[2] && ji[i][2] == b[3]) return;\n\t\t\t++ans;\n\t\t\tji[ans][0] = b[1];\n\t\t\tji[ans][1] = b[2];\n\t\t\tji[ans][2] = b[3];\n\t\t}\n\t\treturn;\n\t}\n\tfor (int i = 1; i <= 7; ++i) {\n\t\tif (a[i]) continue;\n\t\ta[i] = x[p];\n\t\tdfs(p + 1);\n\t\ta[i] = 0;\n\t}\n}\n\nsigned main() {\n\tscanf(\"%d\", &t);\n\twhile (t--) {\n\t\tans = 0;\n\t\tscanf(\"%d\", &n);\n\t\tfor (int i = 0; i < n; ++i) scanf(\"%d\", &x[i]);\n\t\tsort(x, x + n);\n\t\tmemset(a, 0, sizeof(a));\n\t\tdfs(0);\n\t\tprintf(\"%d\\n\", ans);\n\t}\n\treturn 0;\n}\n```\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\Theta (T\\cdot A_7^n)$\u3002",
        "postTime": 1667310719,
        "uid": 367677,
        "name": "lyt_awa",
        "ccfLevel": 5,
        "title": "P7556 [USACO21OPEN] Do You Know Your ABCs? S\u9898\u89e3"
    },
    {
        "content": "\u53ef\u4ee5\u628a\u5b83\u5206\u6210 4 \u79cd\u60c5\u51b5\u6765\u505a\uff1a\n\n+ \u7b2c\u4e00\u79cd\u60c5\u51b5 \uff08\u5df2\u77e5 $A,B,C$\uff09\uff1a\n\n\u76f4\u63a5\u5224\u65ad\u662f\u5426\u5408\u6cd5\u5373\u53ef\u3002\n\n+ \u7b2c\u4e8c\u79cd\u60c5\u51b5 \uff08\u5df2\u77e5 $A,B$\uff09\uff1a\n\n\u679a\u4e3e\u4e00\u4e2a $x$ \u7684\u503c\u4e3a $A+C$ \u6216 $B+C$ \u6216 $A+B+C$\u3002\n\n\u7136\u540e\u628a $C$ \u7b97\u51fa\u6765\u3002\n\n\u6700\u540e\u77e5\u9053 $A,B,C$\uff0c \u5c31\u7528\u7b2c\u4e00\u79cd\u60c5\u51b5\u7684\u65b9\u6cd5\u53bb\u7b97\u3002\n\n+ \u7b2c\u4e09\u79cd\u60c5\u51b5 \uff08\u5df2\u77e5 $A$\uff09\uff1a\n\n\u679a\u4e3e\u4e00\u4e2a $x$ \u7684\u503c\u4e3a $A+B$\u3002\n\n\u7136\u540e\u628a $B$ \u7b97\u51fa\u6765\u3002\n\n\u6700\u540e\u7528\u7b2c\u4e8c\u79cd\u60c5\u51b5\u7684\u65b9\u6cd5\u7b97\u3002\n\n+ \u7b2c\u56db\u79cd\u60c5\u51b5 \uff08\u4ec0\u4e48\u4e5f\u4e0d\u77e5\u9053\uff09\uff1a\n\n\u7531\u4e8e\u9898\u76ee\u4e2d $N \\ge 4$ \u7684\u539f\u56e0, \u6240\u4ee5\u4e5f\u5c31\u53ea\u6709 $A+B, A+C, B+C, A+B+C$ \u7684\u503c\u786e\u5b9a\u3002\n\n\u6240\u4ee5\u53ef\u4ee5\u679a\u4e3e\u5f97\u5230 $A+B$ \u4e0e $A+C$ \u4e0e $A+B+C$ \u7684\u503c\u3002\n\n\u7136\u540e\u5c06 $A+B$ \u52a0\u4e0a $A+C$ \u51cf\u53bb\u4e00\u4e2a $A+B+C$ \u786e\u5b9a\u4e86 $A$ \u7684\u503c\u3002\n\n$A$ \u7684\u503c\u786e\u5b9a\u4e86\uff0c $B$ \u548c $C$ \u7684\u503c\u4e5f\u80fd\u76f8\u7ee7\u7b97\u51fa\u6765\u3002\n\n\u6700\u540e\u7528\u7b2c\u4e00\u79cd\u60c5\u51b5\u7684\u65b9\u6cd5\u9a8c\u8bc1\u3002\n\n***\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define rep1(i, j, n) for (register int i = j; i <= n; ++i)\n#define rep2(i, j, n) for (register int i = j; i >= n; --i)\n#define il inline\n#define ll long long\n#define int long long\nusing namespace std;\nint n, x[20], aa, bb, cc; bool vis[10];\nmap <int, map <int, map <int, int> > > v;  \nconst int Buffer_Size = 1 << 10;\nchar buffer[Buffer_Size], *ihead = buffer + Buffer_Size, *itail = ihead;\nchar Next_Char() {\n\tif (ihead == itail) fread(buffer, 1, Buffer_Size, stdin), ihead = buffer;\n\treturn *ihead++;\n}\ntemplate <typename T>\nil void read(T &x) {\n\tx = 0; T f = 1; char ch = Next_Char();\n\twhile (!isdigit(ch)) {if (ch == '-') f = -1; ch = Next_Char();}\n\twhile (isdigit(ch)) {x = (x << 1) + (x << 3) + (ch & 15); ch = Next_Char();} x *= f;\n} //\u4ee5\u4e0a\u4e3a\u5feb\u8bfb\uff0c\u4e0e\u6700\u7ec8\u4ee3\u7801\u65e0\u5173\nil bool check(int i, int j, int k) { //\u7b2c\u4e00\u79cd\u60c5\u51b5 \n\tmemset(vis, 0, sizeof vis);\n\tint a = x[i], b = x[j], c = x[k];\n\trep1(p, 1, n) {\n\t\tif (p == i || p == j || p == k) continue;\n\t\tif (a + b == x[p]) {\n\t\t\tif (vis[1]) return false;\n\t\t\tvis[1] = true; //\u627e\u5230 A+B \n\t\t} else if (a + c == x[p]) {\n\t\t\tif (vis[2]) return false;\n\t\t\tvis[2] = true; //\u627e\u5230 A+C \n\t\t} else if (b + c == x[p]) {\n\t\t\tif (vis[3]) return false;\n\t\t\tvis[3] = true; //\u627e\u5230 B+C \n\t\t} else if (a + b + c == x[p]) {\n\t\t\tif (vis[4]) return false;\n\t\t\tvis[4] = true; //\u627e\u5230 A+B+C \n\t\t} else return false;\n\t}\n\tint l[10] = {0, a, b, c};\n\tsort(l + 1, l + 1 + 3);\n\tif (!v[l[1]][l[2]][l[3]] /* map \u5224\u91cd*/) {v[l[1]][l[2]][l[3]] = 1; return true;}\n\treturn false;\n}\nil int check1(int i, int j) { //\u7b2c\u4e8c\u79cd\u60c5\u51b5 \n\tint a = x[i], b = x[j], count = 0;\n\trep1(_, 1, n) {\n\t\tif (_ == i || _ == j) continue;\n\t\tif (x[_] > a + b) {\n\t\t\tx[9] = x[_] - a - b; //\u56e0\u4e3a\u539f\u6570\u5217\u4e2d\u6ca1\u6709 C, \u6240\u4ee5\u7528 9 \u4ee3\u66ff\n\t\t\tint p = check(i, j, 9);\n\t\t\tif (p) ++count;\n\t\t} if (x[_] > a) {\n\t\t\tx[9] = x[_] - a; \n\t\t\tint p = check(i, j, 9);\n\t\t\tif (p) ++count;\n\t\t} if (x[_] > b) {\n\t\t\tx[9] = x[_] - b; \n\t\t\tint p = check(i, j, 9);\n\t\t\tif (p) ++count;\n\t\t}\n\t}\n\treturn count;\n}\nil int check2(int i) { //\u7b2c\u4e09\u79cd\u60c5\u51b5 \n\tint a = x[i], p = 0;\n\trep1(_, 1, n) {\n\t\tif (_ == i) continue;\n\t\tif (x[_] > a) {\n\t\t\tx[8] = x[_] - a; //\u4e0e51\u884c\u540c\u7406 \n\t\t\tp += check1(i, 8);\n\t\t}\n\t}\n\treturn p;\n}\nil int check3(int i, int j, int k) { //\u7b2c\u56db\u79cd\u60c5\u51b5 \n\tint aplusb = x[i], aplusc = x[j], aplusbplusc = x[k];\n\tint a = aplusb + aplusc - aplusbplusc;\n\tint b = aplusb - a;\n\tint c = aplusc - a;\n\tif (a > 0 && b > 0 && c > 0 ) {\n\t\tx[8] = a, x[9] = b, x[10] = c; //\u4e0e51\u884c\u540c\u7406\n\t\tint tmp = check(8, 9, 10);\n\t\treturn tmp;\n\t}\n\treturn 0;\n}\nsigned main(void) {\n\tint t; read(t);\n\twhile (t--) {\t\n\t\tread(n); v.clear(); memset(x, 0, sizeof x);\n\t\trep1(i, 1, n) read(x[i]); memset(vis, 0, sizeof vis);\n\t\tsort(x + 1, x + 1 + n); int ans = 0;\n\t\trep1(i, 1, n) rep1(j, i + 1, n) rep1(k, j + 1, n) ans += check(i, j, k);\n\t\trep1(i, 1, n) rep1(j, i + 1, n) ans += check1(i, j);\n\t\trep1(i, 1, n) ans += check2(i);\n\t\tif (n == 4 /*\u5c0f\u4f18\u5316\uff0c\u56e0\u4e3a\u53ea\u6709\u5728\u53ea\u6709 A+B,A+C,B+C,A+B+C \u7684\u65f6\u5019\u624d\u627e*/) {\n\t\t\trep1(i, 1, n) rep1(j, i + 1, n) rep1(k, j + 1, n) ans += check3(i, j, k);\n\t\t} \n\t\tprintf(\"%d\\n\", ans);\n\t}\n}\n```\n\n~~\u611f\u89c9\u6bd4\u4e00\u5806 if \u66f4\u4f18\u7f8e\u4e00\u4e9b~~\n\n",
        "postTime": 1631873258,
        "uid": 377787,
        "name": "Hooch",
        "ccfLevel": 6,
        "title": "P7556"
    },
    {
        "content": "\u8fd9\u4e00\u9898\u7684\u6570\u636e\u8303\u56f4\u975e\u5e38\u5c0f\uff0c\u8003\u8651\u8bbe\u6570\u7ec4 $D_{1...7}$ \u5206\u522b\u8868\u793a $A,B,C,A+B,B+,A+C,A+B+C$\uff0c\u53ef\u4ee5\u5728 $O(7^n)$ \u7684\u65f6\u95f4\u5185\u6c42\u51fa $D_{1...7}$ \u7684\u6240\u6709\u65b9\u6848\uff0c\u5bf9\u4e8e\u8fd9\u4e9b\u65b9\u6848\u53ef\u4ee5\u5206\u7c7b\u8ba8\u8bba\u5224\u65ad\u3002\n\n1. $A+B,B+C,A+C$ \u672a\u786e\u5b9a\uff08\u4e3a $0$\uff09\uff0c\u90a3\u4e48\u5982\u679c $1\u2264A\u2264B\u2264C$ \u4e14\u548c\u4e3a $A+B+C$ \u5c31\u662f\u5408\u6cd5\u7684\u60c5\u51b5\u3002\n\n2. $A+B,B+C,A+C$ \u6709\u786e\u5b9a\u7684\u518d\u5206\u7c7b\u8ba8\u8bba\uff0c\u6839\u636e\u8fd9\u4e09\u4e2a\u503c\u770b\u80fd\u5426\u786e\u5b9a\u4e0d\u786e\u5b9a\u7684 $A,B,C$ \u4ee5\u53ca\u662f\u5426\u5408\u6cd5\u3002\n\n\u6700\u540e\u518d\u4e00\u4e2a\u4e2a\u5bf9\u5e94\u5224\u65ad\uff0c\u5e76\u4e14\u548c\u4ee5\u524d\u7684\u7b54\u6848\u4f5c\u6bd4\u8f83\u53bb\u91cd\u3002\n\n\u603b\u7684\u65f6\u95f4\u590d\u6742\u5ea6 $O(T\u00b77^n)$\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint T,n,x[8],sum,a,b,c,d[8];\nint ax[1000005],bx[1000005],cx[1000005];\nvoid dfs(int t)\n{\n\tif(t>n)\n\t{\n\t\ta=d[1],b=d[2],c=d[3];\n\t\tif(!d[4]&&!d[5]&&!d[6])\n\t\t{\n\t\t\tif(a+b+c==d[7]&&a<=b&&b<=c)sum++;\n\t\t\treturn;\n\t\t}\n\t\tif(d[4])\n\t\t{\n\t\t\tif(a&&!b&&d[4]-a<=0)return;\n\t\t\telse if(a&&!b)b=d[4]-a;\n\t\t\tif(!a&&b&&d[4]-b<=0)return;\n\t\t\telse if(!a&&b)a=d[4]-b;\n\t\t\tif(a&&b&&a+b!=d[4])return;\n\t\t\tif(d[7]&&!c&&d[7]-d[4]<=0)return;\n\t\t\telse if(d[7]&&!c)c=d[7]-d[4];\n\t\t\tif(d[7]&&c&&d[7]-c!=d[4])return;\n\t\t}\n\t\tif(d[5])\n\t\t{\n\t\t\tif(b&&!c&&d[5]-b<=0)return;\n\t\t\telse if(b&&!c)c=d[5]-b;\n\t\t\tif(!b&&c&&d[5]-c<=0)return;\n\t\t\telse if(!b&&c)b=d[5]-c;\n\t\t\tif(b&&c&&b+c!=d[5])return;\n\t\t\tif(d[7]&&!a&&d[7]-d[5]<=0)return;\n\t\t\telse if(d[7]&&!a)a=d[7]-d[5];\n\t\t\tif(d[7]&&a&&d[7]-a!=d[5])return;\n\t\t}\n\t\tif(d[6])\n\t\t{\n\t\t\tif(a&&!c&&d[6]-a<=0)return;\n\t\t\telse if(a&&!c)c=d[6]-a;\n\t\t\tif(!a&&c&&d[6]-c<=0)return;\n\t\t\telse if(!a&&c)a=d[6]-c;\n\t\t\tif(a&&c&&a+c!=d[6])return;\n\t\t\tif(d[7]&&!b&&d[7]-d[6]<=0)return;\n\t\t\telse if(d[7]&&!b)b=d[7]-d[6];\n\t\t\tif(d[7]&&b&&d[7]-b!=d[6])return;\n\t\t}\n\t\tif(a>b||b>c||a>c)return;\n\t\tif(a!=d[1]&&d[1])return;\n\t\tif(b!=d[2]&&d[2])return;\n\t\tif(c!=d[3]&&d[3])return;\n\t\tif(a+b!=d[4]&&d[4])return;\n\t\tif(b+c!=d[5]&&d[5])return;\n\t\tif(a+c!=d[6]&&d[6])return;\n\t\tif(a+b+c!=d[7]&&d[7])return;\n\t\tfor(int i=1;i<=sum;i++)\n\t\t{\n\t\t\tif(ax[i]==a&&bx[i]==b&&cx[i]==c)return;\n\t\t}\n\t\tsum++,ax[sum]=a,bx[sum]=b,cx[sum]=c;\n\t\treturn;\n\t}\n\tfor(int i=1;i<=7;i++)\n\t{\n\t\tif(!d[i])d[i]=x[t],dfs(t+1),d[i]=0;\n\t}\n}\nint main()\n{\n\tscanf(\"%d\",&T);\n\twhile(T--)\n\t{\n\t\tscanf(\"%d\",&n);\n\t\tfor(int i=1;i<=n;i++)scanf(\"%d\",&x[i]),d[i]=0;\n\t\tsum=0,dfs(1);\n\t\tprintf(\"%d\\n\",sum);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1629071393,
        "uid": 153292,
        "name": "NDFS",
        "ccfLevel": 5,
        "title": "P7556 [USACO21OPEN] Do You Know Your ABCs? S\u9898\u89e3"
    },
    {
        "content": "https://blog.csdn.net/STJqwq/article/details/119718414\n\n\u9898\u76ee\u8003\u8651\u66b4\u529b\uff0c\u65e2\u7136 $4\\le n\\le 7$ \uff0c$O(T(n+1)^7)$ \u90fd\u53ef\u4ee5\u3002\n\n\u679a\u4e3e\u6bcf\u4e2a\u4f4d\u7f6e $A,B,C,A+B,A+C,B+C,A+B+C$ \u8fd9\u4e03\u4e2a\u4f4d\u7f6e\u5206\u522b\u653e\u54ea\u4e2a\u6570\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u653e\u3002\u6700\u540e\u76f4\u63a5\u5224\u65ad\u662f\u5426\u5408\u6cd5\u5373\u53ef\u3002\n\n\u6ce8\u610f\u8fd9\u91cc\u7684\u65b9\u6848\u53ef\u80fd\u6709\u91cd\u590d\uff0c\u591a\u4e2a\u76f8\u540c\u7684 $A,B,C$ \uff0c\u6240\u4ee5\u6211\u4eec\u641e\u4e00\u4e2a\u54c8\u5e0c\u5224\u91cd\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define RI register int\nusing namespace std;\nconst int inf=1073741823;typedef long long LL;int FL;char CH;template<typename T>bool in(T&a){if(CH==EOF)return 0;for(FL=1,CH=getchar(),a=0;(CH<'0'||CH>'9')&&CH!=EOF;CH=getchar())if(CH=='-')FL=-1;for(;CH>='0'&&CH<='9'&&CH!=EOF;CH=getchar())a=a*10+CH-'0';return a*=FL,1;}template<typename T,typename...Args>int in(T&a,Args&...args){return in(a)+in(args...);}\nint fo[8][3]={{},{},{},{},{1,2},{1,3},{2,3},{1,2,3}},a[8],c[8],d[8],n;\nint HD[1145149],Ea[1000010],Eb[1000010],Ec[1000010],CNT,FR[1000010],NX[1000010];\nint usd[8];\nvoid ins(int x,int a,int b,int c){\n\tEa[++CNT]=a;Eb[CNT]=b;Ec[CNT]=c;NX[CNT]=HD[x];HD[x]=CNT;FR[CNT]=x;\n}\nbool chk(int x,int a,int b,int c){\n\tfor(RI i=HD[x];i;i=NX[i]){\n\t\tif(Ea[i]==a&&Eb[i]==b&&Ec[i]==c)return 1;\n\t}return 0;\n}\nbool chkhs(int a,int b,int c){\n\tLL num=a*1000000007ll+b*10000007ll+c;\n\tnum%=1145149;\n\tif(chk(num,a,b,c))return 1;\n\tins(num,a,b,c);return 0;\n}\nbool pdres(){\n\tfor(RI i=1;i<=7;++i)c[i]=d[i];\n\tfor(RI i=1;i<=2;++i){//\u8fd9\u91cc\u5faa\u73af\u4e24\u6b21\u662f\u56e0\u4e3a\u540e\u9762\u7684\u8ba1\u7b97\u6709\u53ef\u80fd\u8ba1\u7b97\u51fa\u4e00\u5f00\u59cb\u672a\u8ba1\u7b97\u51fa\u7684\u6570\uff0c\u6211\u4eec\u9700\u8981\u5c06d\u6570\u7ec4\u5168\u90e8\u8ba1\u7b97\u51fa\u6765\u518d\u6b21\u5224\u5b9a\n\t\tif(c[1]&&c[2]){if(c[4]&&c[4]!=c[1]+c[2])return 0;if(!c[4])c[4]=c[1]+c[2];}\n\t\tif(c[1]&&c[3]){if(c[5]&&c[5]!=c[1]+c[3])return 0;if(!c[5])c[5]=c[1]+c[3];}\n\t\tif(c[2]&&c[3]){if(c[6]&&c[6]!=c[2]+c[3])return 0;if(!c[6])c[6]=c[2]+c[3];}\n\t\tif(c[1]&&c[6]){if(c[7]&&c[7]!=c[1]+c[6])return 0;if(!c[7])c[7]=c[1]+c[6];}\n\t\tif(c[6]&&c[7]){if(c[1]&&c[1]!=c[7]-c[6])return 0;if(!c[1])c[1]=c[7]-c[6];}\n\t\tif(c[2]&&c[5]){if(c[7]&&c[7]!=c[2]+c[5])return 0;if(!c[7])c[7]=c[2]+c[5];}\n\t\tif(c[5]&&c[7]){if(c[2]&&c[2]!=c[7]-c[5])return 0;if(!c[2])c[2]=c[7]-c[5];}\n\t\tif(c[3]&&c[4]){if(c[7]&&c[7]!=c[3]+c[4])return 0;if(!c[7])c[7]=c[3]+c[4];}\n\t\tif(c[4]&&c[7]){if(c[3]&&c[3]!=c[7]-c[4])return 0;if(!c[3])c[3]=c[7]-c[4];}\n\t\tif(c[1]&&c[2]&&c[3]){if(c[7]&&c[7]!=c[1]+c[2]+c[3])return 0;if(!c[7])c[7]=c[1]+c[2]+c[3];}\n\t}//\u7801\u519c\u5224\u65ad\n\tif(c[1]<=0||c[2]<=0||c[3]<=0)return 0;\n\tif(c[1]+c[2]!=c[4])return 0;\n\tif(c[1]+c[3]!=c[5])return 0;\n\tif(c[2]+c[3]!=c[6])return 0;\n\tif(c[1]+c[2]+c[3]!=c[7])return 0;\n\t//\u5224\u5b9a\u4e00\u4e0b\n\tmemset(usd,0,sizeof(usd));\n\tfor(RI i=1;i<=7;++i){\n\t\tint fndpos=lower_bound(a+1,a+n+1,c[i])-a;\n\t\tif(a[fndpos]==c[i])++usd[fndpos];\n\t}//\u5224\u65ad\u8fd9\u4e2ad\u6570\u7ec4\u662f\u5426\u51fa\u73b0\u4e86 a \u7684\u5168\u90e8\u5143\u7d20\n\tfor(RI i=1;i<=n;++i)if(!usd[i])return 0;\n\tsort(c+1,c+4);\n\tif(chkhs(c[1],c[2],c[3]))return 0;\n\treturn 1;\n}\nint dfs(int dep){\n//\tfor(RI i=1;i<=dep;++i)putchar('>');\n//\tprintf(\"%d\\n\",d[dep-1]);\n\tif(dep==8)\n\t\treturn pdres();\n\tint ans=0;\n\td[dep]=0;ans+=dfs(dep+1);\n\tfor(RI i=1;i<=n;++i){\n\t\td[dep]=a[i];\n\t\tans+=dfs(dep+1); \n\t\td[dep]=0;\n\t}return ans;\n}\nint gans(){\n\tin(n);\n\tfor(RI i=1;i<=n;++i)in(a[i]);\n\tsort(a+1,a+n+1);\n//\tfor(RI i=1;i<=n;++i)printf(\"%d \",a[i]);putchar(10);\n\tmemset(d,0,sizeof(d));\n\tmemset(c,0,sizeof(c));\n\tfor(RI i=1;i<=CNT;++i)HD[FR[i]]=0,Ea[i]=Eb[i]=Ec[i]=NX[i]=0;\n\tCNT=0;\n\tprintf(\"%d\\n\",dfs(1));\n}\nint main(){\n\tint t;\n\tin(t);\n\twhile(t--)gans();\n\treturn 0;\n}\n```\n\n\u7136\u540e\u4ea4\u4e0a\u53bb 88 \u5206\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u70b9\u8dd1\u4e86 5000+ ms\uff0c\u4e8e\u662f\u6211\u4eec\u5728\u5faa\u73af\u91cc\u526a\u679d\u5373\u53ef AC \u3002\n\n\u6b63\u89e3\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define RI register int\nusing namespace std;\nconst int inf=1073741823;typedef long long LL;int FL;char CH;template<typename T>bool in(T&a){if(CH==EOF)return 0;for(FL=1,CH=getchar(),a=0;(CH<'0'||CH>'9')&&CH!=EOF;CH=getchar())if(CH=='-')FL=-1;for(;CH>='0'&&CH<='9'&&CH!=EOF;CH=getchar())a=a*10+CH-'0';return a*=FL,1;}template<typename T,typename...Args>int in(T&a,Args&...args){return in(a)+in(args...);}\nint fo[8][3]={{},{},{},{},{1,2},{1,3},{2,3},{1,2,3}},a[8],c[8],d[8],n;\nint HD[1145149],Ea[1000010],Eb[1000010],Ec[1000010],CNT,FR[1000010],NX[1000010];\nint usd[8];\nvoid ins(int x,int a,int b,int c){\n\tEa[++CNT]=a;Eb[CNT]=b;Ec[CNT]=c;NX[CNT]=HD[x];HD[x]=CNT;FR[CNT]=x;\n}\nbool chk(int x,int a,int b,int c){\n\tfor(RI i=HD[x];i;i=NX[i]){\n\t\tif(Ea[i]==a&&Eb[i]==b&&Ec[i]==c)return 1;\n\t}return 0;\n}\nbool chkhs(int a,int b,int c){\n\tLL num=a*1000000007ll+b*10000007ll+c;\n\tnum%=1145149;\n\tif(chk(num,a,b,c))return 1;\n\tins(num,a,b,c);return 0;\n}\nbool pdres(){\n\tfor(RI i=1;i<=7;++i)c[i]=d[i];\n//\tprintf(\">{%d,%d,%d,%d,%d,%d,%d}\\n\",c[1],c[2],c[3],c[4],c[5],c[6],c[7]);\n\tfor(RI i=1;i<=2;++i){\n\t\tif(c[1]&&c[2]){if(c[4]&&c[4]!=c[1]+c[2])return 0;if(!c[4])c[4]=c[1]+c[2];}\n\t\tif(c[1]&&c[3]){if(c[5]&&c[5]!=c[1]+c[3])return 0;if(!c[5])c[5]=c[1]+c[3];}\n\t\tif(c[2]&&c[3]){if(c[6]&&c[6]!=c[2]+c[3])return 0;if(!c[6])c[6]=c[2]+c[3];}\n\t\tif(c[1]&&c[6]){if(c[7]&&c[7]!=c[1]+c[6])return 0;if(!c[7])c[7]=c[1]+c[6];}\n\t\tif(c[6]&&c[7]){if(c[1]&&c[1]!=c[7]-c[6])return 0;if(!c[1])c[1]=c[7]-c[6];}\n\t\tif(c[2]&&c[5]){if(c[7]&&c[7]!=c[2]+c[5])return 0;if(!c[7])c[7]=c[2]+c[5];}\n\t\tif(c[5]&&c[7]){if(c[2]&&c[2]!=c[7]-c[5])return 0;if(!c[2])c[2]=c[7]-c[5];}\n\t\tif(c[3]&&c[4]){if(c[7]&&c[7]!=c[3]+c[4])return 0;if(!c[7])c[7]=c[3]+c[4];}\n\t\tif(c[4]&&c[7]){if(c[3]&&c[3]!=c[7]-c[4])return 0;if(!c[3])c[3]=c[7]-c[4];}\n\t\tif(c[1]&&c[2]&&c[3]){if(c[7]&&c[7]!=c[1]+c[2]+c[3])return 0;if(!c[7])c[7]=c[1]+c[2]+c[3];}\n\t}\n\tif(c[1]<=0||c[2]<=0||c[3]<=0)return 0;\n\tif(c[1]+c[2]!=c[4])return 0;\n\tif(c[1]+c[3]!=c[5])return 0;\n\tif(c[2]+c[3]!=c[6])return 0;\n\tif(c[1]+c[2]+c[3]!=c[7])return 0;\n//\tprintf(\"T:a=%d b=%d c=%d a+b=%d b+c=%d a+c=%d a+b+c=%d\\n\",c[1],c[2],c[3],c[4],c[5],c[6],c[7]);\n//\tprintf(\"%d %d %d %d %d %d %d\\n\",d[1],d[2],d[3],d[4],d[5],d[6],d[7]);\n\tmemset(usd,0,sizeof(usd));\n\tfor(RI i=1;i<=7;++i){\n\t\tint fndpos=lower_bound(a+1,a+n+1,c[i])-a;\n\t\tif(a[fndpos]==c[i])++usd[fndpos];\n\t}\n\tfor(RI i=1;i<=n;++i)if(!usd[i])return 0;\n//\tprintf(\">Q:a=%d b=%d c=%d a+b=%d b+c=%d a+c=%d a+b+c=%d\\n\",c[1],c[2],c[3],c[4],c[5],c[6],c[7]);\n\tsort(c+1,c+4);\n\tif(chkhs(c[1],c[2],c[3]))return 0;\n//\tprintf(\">>a=%d b=%d c=%d a+b=%d b+c=%d a+c=%d a+b+c=%d\\n\",c[1],c[2],c[3],c[4],c[5],c[6],c[7]);\n\treturn 1;\n}\nint dfs(int dep){\n//\tfor(RI i=1;i<=dep;++i)putchar('>');\n//\tprintf(\"%d\\n\",d[dep-1]);\n\tif(dep==5&&d[4])if(d[1]&&d[2]&&d[1]+d[2]!=d[4])return 0;\n\tif(dep==6&&d[5])if(d[1]&&d[3]&&d[1]+d[3]!=d[5])return 0;\n\tif(dep==7&&d[6])if(d[2]&&d[3]&&d[2]+d[3]!=d[6])return 0;\n    //\u5faa\u73af\u4e2d\u4e5f\u5224\u65ad\u4e00\u4e0b\u5408\u6cd5\u6027\uff0c\u76f4\u63a5\u526a\u679d\n\tif(dep==8)\n\t\treturn pdres();\n\tint ans=0;\n\td[dep]=0;ans+=dfs(dep+1);\n\tfor(RI i=1;i<=n;++i){\n\t\td[dep]=a[i];\n\t\tans+=dfs(dep+1); \n\t\td[dep]=0;\n\t}return ans;\n}\nint gans(){\n\tin(n);\n\tfor(RI i=1;i<=n;++i)in(a[i]);\n\tsort(a+1,a+n+1);\n//\tfor(RI i=1;i<=n;++i)printf(\"%d \",a[i]);putchar(10);\n\tmemset(d,0,sizeof(d));\n\tmemset(c,0,sizeof(c));\n\tfor(RI i=1;i<=CNT;++i)HD[FR[i]]=0,Ea[i]=Eb[i]=Ec[i]=NX[i]=0;\n\tCNT=0;\n\tprintf(\"%d\\n\",dfs(1));\n}\nint main(){\n\tint t;\n\tin(t);\n\twhile(t--)gans();\n\treturn 0;\n}\n```\n\nAC\u5feb\u4e50\uff01",
        "postTime": 1629027292,
        "uid": 121995,
        "name": "SmallTualatin",
        "ccfLevel": 0,
        "title": "P7556 [USACO21OPEN] Do You Know Your ABCs? S \u9898\u89e3"
    },
    {
        "content": "# \u9898\u76ee\u5927\u610f\n\u7ed9 $t$ \u7ec4\u6570\u636e\uff0c\u6bcf\u7ec4\u6570\u636e\u6709\u4e00\u4e2a $n$ \u548c $n$ \u4e2a\u6570\uff0c\u8fd9\u4e9b\u6570\u4e3a $A$\u3001$B$\u3001$C$\u3001$A+B$\u3001$B+C$\u3001$A+C$\u3001$A+B+C$ \u4e2d\u4efb\u610f $n$ \u4e2a\u4e0d\u91cd\u590d\u7684\u6570\u3002\u6c42\u6bcf\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u4e0d\u540c\u7684 $(A,B,C)$ \u4e09\u5143\u7ec4\u7684\u6570\u91cf\u3002\n# \u601d\u8def\n\u56e0\u4e3a\u53ef\u80fd\u7684\u60c5\u51b5\u6570\u5f88\u5c11\uff0c\u6240\u4ee5\u53ef\u4ee5\u8003\u8651\u4f7f\u7528\u66b4\u529b\u679a\u4e3e\u7684\u65b9\u6cd5\u6765\u679a\u4e3e\u8fd9\u4e9b\u60c5\u51b5\uff0c\u7528 \n$a_1$\u3001$a_2$\u3001$a_3$\u3001$a_4$\u3001$a_5$\u3001$a_6$\u3001$a_7$ \u5206\u522b\u8868\u793a $A$\u3001$B$\u3001$C$\u3001$A+B$\u3001$B+C$\u3001$A+C$\u3001$A+B+C$\uff0c\u7136\u540e\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684 $(A,B,C)$ \u4e09\u5143\u7ec4\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff1a\n\n$\\left\\{\\begin{matrix}\na_1\\le a_2\\le a_3\n \\\\\na_1+a_2=a_4\n \\\\\na_2+a_3=a_5\n \\\\\na_1+a_3=a_6\n \\\\\na_1+a_2+a_3=a_7\n\\end{matrix}\\right.$\n\n\u7531\u9898\u76ee\u53ef\u77e5 $4\\le N\\le 7$ \u6240\u4ee5\u53ef\u80fd\u51fa\u73b0\u6709\u6570\u7a7a\u7740\u7684\u60c5\u51b5\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u5c06\u7a7a\u7740\u7684\u60c5\u51b5\u8bb0\u4e3a $0$\uff0c\u7136\u540e\u6839\u636e\u786e\u5b9a\u7684\u6570\u6765\u63a8\u51fa\u7a7a\u7740\u7684\u6570\uff0c\u518d\u8fdb\u884c\u68c0\u67e5\uff0c\u8fd9\u6837\u7528\u4ee3\u7801\u5b9e\u73b0\u5c31\u4f1a\u6bd4\u8f83\u7b80\u5355\u3002\n\n```\nif(a[1]>0&&a[1]<=a[2]&&a[2]<=a[3]){\n\tif(a[4]&&a[4]!=a[1]+a[2])return;\n\tif(a[5]&&a[5]!=a[2]+a[3])return;\n\tif(a[6]&&a[6]!=a[1]+a[3])return;\n\tif(a[7]&&a[7]!=a[1]+a[2]+a[3])return;\n\tans++;\n}\n```\n\n\u6700\u540e\u4e00\u5b9a\u8981\u8bb0\u4f4f\u4e0d\u8981\u5fd8\u8bb0\u628a\u91cd\u590d\u7684\u60c5\u51b5\u53bb\u6389\uff1a\n```\nfor(int i=1;i<=ans;i++){\n\tif(v[i][0]==a[1]&&v[i][1]==a[2]&&v[i][2]==a[3])return;\n}\n```\n\u8fd9\u6837\u5c31\u80fd\u628a\u8fd9\u9053\u9898\u8fc7\u6389\u4e86\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(t\\times A^n_7)$\uff0c\u5269\u4f59\u4ee3\u7801\u6bd4\u8f83\u7b80\u5355\uff0c\u5c31\u4e0d\u518d\u5c55\u793a\u4e86\u3002",
        "postTime": 1667395725,
        "uid": 698657,
        "name": "free_fall",
        "ccfLevel": 5,
        "title": "P7556 [USACO21OPEN] Do You Know Your ABCs? S \u9898\u89e3"
    }
]