[
    {
        "content": "\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u4e00\u4e0b\u7684\u9898\u76ee\u7b80\u5316\u7248\uff0c\u5047\u8bbe\u6211\u4eec\u77e5\u9053\u6bcf\u4e00\u4e2a\u533a\u95f4\u7684\u6700\u5c0f\u5dee\u503c $cost_{l,r}$\uff0c\u8fd9\u9053\u9898\u53c8\u8be5\u600e\u4e48\u6c42\uff1f\n\n\u5176\u5b9e\u6b64\u5904\u7b54\u6848\u6bd4\u8f83\u660e\u663e\uff0c\u53ef\u4ee5\u4f7f\u7528\u7ebf\u6027 DP \u6c42\u89e3\u3002\n\n\u8bbe $D_{i,j}$ \u8868\u793a\u5728\u533a\u95f4 $[0,j]$ \u5185\u7528\u4e86 $i$ \u6bb5\u4e0d\u540c\u7684\u533a\u95f4\uff0c\u5219\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5982\u4e0b\uff1a\n$$\nD_{i,j}=\\underset{x=i-1}\\min^j D_{i-1,x}+cost_{x+1,j}\n$$\n\u800c $cost$ \u6570\u7ec4\u5219\u53ef\u4ee5\u9884\u5904\u7406\u6c42\u51fa\uff0c\u505a\u6cd5\u5982\u4e0b\uff1a\n$$\ncost_{l,r}=\\underset{x=0}\\min^{255}\\underset{y=l}\\sum^r (r_y-i)^2 p_y\n$$\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(d^3)$\n\n\u6700\u540e\u5c31\u662f~~\u559c\u95fb\u4e50\u89c1~~\u7684\u4ee3\u7801\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int NN = 307;\ntypedef long long lint;\nlint D[NN][NN], cost[NN][NN];\nstruct str {\n\tlint v, n;\n\tbool operator<(const str& st) const {\n\t\treturn v < st.v;\n\t}\n};\nlint cking(lint x) { return x > 0 ? x : 0; }\nint main(){\n\tios::sync_with_stdio(false), cin.tie(0);\n\tint n, k; cin >> n >> k;\n\tvector<str> vs(n);\n\tfor (auto& i : vs) cin >> i.v >> i.n;\n\tsort(vs.begin(), vs.end());\n\tmemset(cost, 0x3f, sizeof(cost));\n\tmemset(D, 0x3f, sizeof(D));\n\tD[0][0] = 0; const lint _inf = D[NN - 1][NN - 1];\n\tfor (int i = 0; i < 256; ++i) for (int j = 0; j < n; ++j) {\n\t\tlint ci = 0; cost[j][j] = 0;\n\t\tfor (int x = j; x < n; ++x) {\n\t\t\tci += (vs[x].v - i) * (vs[x].v - i) * vs[x].n;\n\t\t\tcost[j][x] = min(ci, cost[j][x]);\n\t\t}\n\t}\n\tfor (int i = 0; i < n; ++i) {\n\t\tD[1][i] = cost[0][i];\n\t\tfor (int j = 2; j <= k; ++j) {\n\t\t\tfor (int x = 0; x < i; ++x) D[j][i] = min(D[j][i], D[j - 1][x] + cost[x + 1][i]);\n\t\t}\n\t}\n\tcout << D[k][n - 1] << endl;\n\treturn 0;\n}\n```",
        "postTime": 1662338137,
        "uid": 581358,
        "name": "cyc001",
        "ccfLevel": 0,
        "title": "P6934"
    }
]