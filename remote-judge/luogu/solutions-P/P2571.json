[
    {
        "content": "//\u5b89\u5229\u4e00\u4e0b\u81ea\u5df1\u7684\u535a\u5ba2\u5566\uff1a[http://www.k-xzy.xyz/archives/4979](http://www.k-xzy.xyz/archives/4979)\n\nPs\uff1a\u51e0\u4e07\u5e74\u524d\u9000\u5f79\u7684\u6211\u770b\u4e86\u770b\u8bc4\u8bba\u53d1\u73b0\u5c45\u7136\u8fd8\u6709\u4eba\u770b\u8fd9\u7bc7\u6587\u7ae0\uff0c\u5e76\u4e14\u63d0\u51fa\u535a\u5ba2\u5730\u5740\u6709\u8bef\u7684\u95ee\u9898\u3002\u554a\uff0c\u786e\u5b9e\u5982\u6b64\uff0c\u6211\u9000\u5f79\u5f53\u5929\u535a\u5ba2\u5c31\u5173\u95ed\u5566\uff0c\u4f46\u662f\u6211\u7684\u4e00\u4f4d\u597d\u5fc3\u7684\u540c\u5b66 Remmina \u8981\u8d70\u4e86\u7f51\u7ad9\u6570\u636e\u5e76\u4e14\u4e00\u76f4\u5f53\u81ea\u5df1\u7684\u535a\u5ba2\u5f00\u7740\uff0c\u6211\u7684\u6587\u7ae0\u4e5f\u90fd\u80fd\u5728\u91cc\u9762\u627e\u5230\uff0c\u5730\u5740\u662f [https://www.mina.moe](https://www.mina.moe)\u3002\u56e0\u6b64\u8fd9\u7bc7\u6587\u7ae0\u4e5f\u53ef\u4ee5\u5728[https://www.mina.moe/archives/4979](https://www.mina.moe/archives/4979)\u4e0a\u627e\u5230\u3002\u5728\u6b64\u4e5f\u7279\u522b\u611f\u8c22 Remmina \u540c\u5b66\uff0c\u4e5f\u611f\u8c22\u5404\u4f4d\u8010\u5fc3\u9605\u8bfb\u4e00\u4e2a\u65e9\u5c31\u51c9\u900f\u7684OIer\u5728\u6700\u7f8e\u597d\u7684\u65f6\u5149\u5199\u4e0b\u7684\u8fd9\u7bc7\u201c\u4e0d\u52a1\u6b63\u4e1a\u201d\u7684\u6587\u7ae0\u3002\n\n# 1. \u9898\u76ee\n\n[\u4f20\u9001\u95e8=\uffe3\u03c9\uffe3=](https://remmina.github.io/BZPRO/JudgeOnline/1857.html)\n\n# 2. \u9898\u89e3\n\n\u7f51\u4e0a\u57fa\u672c\u4e0a\u6240\u6709Dalao\u90fd\u662f\u5199\u7684\u201c\u4e09\u5206\u5957\u4e09\u5206\u201dOrz\n\n\uff08\u597d\u50cfWJMZBMR\u5199\u7684\u662f\u6a21\u62df\u9000\u706b\uff0c\u4e3a\u5565\u6211\u4e00\u5f00\u59cb\u5199\u6a21\u62df\u9000\u706b\u6302\u4e86\u5462QvQ\u53ef\u80fd\u6211\u592a\u5f31\u4e86\uff09\n\n\u5148\u8bb2\u4e0b\u8fd9\u9898\u5427\u3002\n\n\u9996\u5148lxhgww\u7684\u8def\u5f84\u4e00\u5b9a\u662f\u4ece$A$\u70b9\u4e0a\u4f20\u9001\u5e26$AB$\uff0c\u8d70$x$\u4e2a\u5355\u4f4d\u65f6\u95f4($0\\leq x\\leq \\frac{AB}{P}$)\uff0c\u518d\u4e0b$AB$\u4f20\u9001\u5e26\uff0c\u5f92\u6b65\u8d70\u4e0a$CD$\u4f20\u9001\u5e26\uff08\u4e0d\u4e00\u5b9a\u662f\u5728$C$\u70b9\u4e0a\u4f20\u9001\u5e26\uff09\uff0c\u8d70$y$\u4e2a\u5355\u4f4d\u65f6\u95f4\u5230\u8fbe$D$\u70b9($0\\leq y\\leq \\frac{CD}{Q}$)\n\n\u8bbe\u7528\u65f6\u4e3a$f(x,y)$\uff08$x,y$\u7684\u610f\u4e49\u89c1\u4e0a\u6587\uff09\n\n\u5219\uff1a\n\n\u8bbe$f1(t)$\u8868\u793a\u4ece$A$\u70b9\u51fa\u53d1\uff0c\u6cbf\u7740$AB$\u8d70$t$\u4e2a\u5355\u4f4d\u65f6\u95f4\u540e\u5230\u8fbe\u7684\u5750\u6807\u3002\n\n\u8bbe$f2(t)$\u8868\u793a\u4ece$D$\u70b9\u51fa\u53d1\uff0c\u6cbf\u7740$DC$\u8d70$t$\u4e2a\u5355\u4f4d\u65f6\u95f4\u540e\u5230\u8fbe\u7684\u5750\u6807\u3002\n\n\u90a3\u4e48\uff1a\n\n$$f(x,y)=\\frac{dis(f1(x),f2(y))}{R} + x + y$$\n\n\uff08$dis$\u8868\u793a\u6c42\u4e24\u70b9\u4e4b\u95f4\u7684\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb\uff09\n\n\u597d\u7684\uff0c\u73b0\u5728\u8fd9\u4e2a\u95ee\u9898\u5df2\u7ecf\u8f6c\u5316\u4e3a\u4e86**\u6c42\u4e00\u4e2a\u4e8c\u5143\u51fd\u6570\u7684\u6700\u5c0f\u503c**\n\n\u53ef\u4ee5\u628a\u51fd\u6570\u653e\u5230\u4e09\u7ef4\u7a7a\u95f4\u91cc\u770b\u6210\u4e00\u4e2a\u7269\u4f53\uff0c\u8981\u5728\u4e00\u4e2a\u77e9\u5f62\u533a\u57df\u5185\u627e\u7269\u4f53\u7684\u6700\u4f4e\u70b9\u3002\n\n\u3002\u3002\u3002\n\n\u5199\u6302\u6a21\u62df\u9000\u706b\u4ee5\u540e\u6211\u5c31\u5199\u4e86\u4e2a**\u7c92\u5b50\u7fa4\u4f18\u5316\u7b97\u6cd5**\u3002\u3002\u3002\n\n\u8fd9\u7b97\u6cd5\u771fNB\u554a\uff0c\u4ec0\u4e48\u6570\u5b66\u63a8\u5bfc\u90fd\u4e0d\u9700\u8981\uff0c\u5b8c\u5168\u628a\u51fd\u6570\u5f53\u505a\u968f\u673a\u51fd\u6570\u770b\u90fd\u80fd\u8fc7\u6389\uff01\n\n\u8fd9\u4e2a\u7b97\u6cd5\u662f\u6a21\u4eff\u751f\u7269\uff08\u9e1f\u7c7b\uff09\u6355\u98df\u7684\u8fc7\u7a0b\u3002\u628a\u4e00\u5806\u7c92\u5b50\u968f\u673a\u6492\u5728\u51fd\u6570\u5b9a\u4e49\u57df\u5185\uff0c\u7136\u540e\u6bcf\u6b21\u627e\u51fa\u6240\u6709\u7c92\u5b50\u4e2d\u6240\u5728\u4f4d\u7f6e\u5bf9\u5e94\u7684\u51fd\u6570\u503c\u6700\u4f18\u7684\u7c92\u5b50\uff0c\u5e76\u4e14\u8ba9\u5927\u5bb6\u90fd**\u5c3d\u91cf\u5411\u8fd9\u91cc\u52a0\u901f**\u3002\n\n\u6bcf\u4e2a\u7c92\u5b50\u90fd\u662f\u6709\u81ea\u5df1\u7684**\u60ef\u6027**\u7684\uff0c\u8fd9\u6837\u53ef\u4ee5\u589e\u52a0\u968f\u673a\u6027\uff0c\u4ee5\u514d\u5361\u5728\u5c40\u90e8\u6700\u4f18\u89e3\u5bfc\u81f4\u7b54\u6848\u9519\u8bef\u3002\n\n\u603b\u4e4b\u5c31\u662f\u6a21\u62df\u771f\u5b9e\u7684\u81ea\u7136\u754c\u5566\u3002\u3002\u3002\n\n\u5177\u4f53\u5f88\u96be\u8bf4\u6e05\u695a\uff0c\u53ef\u4ee5\u53bb\u7f51\u4e0a\u641c\u4e00\u4e0b\u8fd9\u4e2a\u7b97\u6cd5\uff0c\u5f88\u7384\u5999\u7684QvQ\n\n\u4f46\u662f\u597d\u50cf\u7f51\u4e0a\u5f88\u5c11\u6709\uff08\u6216\u8005\u8bf4\u53ef\u80fd\u6839\u672c\u6ca1\u6709\uff09\u628a\u7c92\u5b50\u7fa4\u4f18\u5316\u7b97\u6cd5\u8fd9\u79cd\u4eba\u5de5\u667a\u80fd\u7b97\u6cd5\u5e94\u7528\u4e8eOI\u7ade\u8d5b\u7684\uff0c\u6240\u4ee5\u8fd9\u91cc\u53d1\u4e00\u4e0b\u4ee3\u7801\uff0c\u91cc\u9762\u4f1a\u5199\u4e0a\u6ce8\u91ca\u7684\uff0c\u8fd8\u662f\u770b\u4ee3\u7801\u6bd4\u8f83\u597d\u61c2=\u3002=\uff08\u5176\u5b9e\u662f\u624b\u7f1d\u9488\u5566\u6253\u5b57\u6709\u70b9\u4e0d\u8212\u670d\uff09\n\n\u53e6\u5916\u5b9e\u9a8c\u7ed3\u679c\u8868\u660e\uff0c\u7c92\u5b50\u7fa4\u7b97\u6cd5\u66f4\u6ce8\u91cd\u7c92\u5b50\u4e2a\u6570\u3002\u3002\u3002\u50cf\u6211\u4e00\u5f00\u59cb\u90a3\u6837\u5f0020\u4e2a\u7c92\u5b50\u5c31\u51b2\u4e0a\u53bb\u7206\u3007\u7684\u505a\u6cd5\u771f\u7684\u4e0d\u53ef\u53d6QvQ\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <bits/stdc++.h>\n\n#define BS (505)//\u7c92\u5b50\u6570\u7ec4\u5927\u5c0f\n#define eps (1e-8)\n\nusing namespace std;\n\nconst int cnt = 500;//\u7c92\u5b50\u4e2a\u6570\n\nstruct vec//\u5411\u91cf\n{\n\tdouble x, y;\n\tvec operator + (const vec oth) const\n\t{\n\t\treturn (vec){x + oth.x, y + oth.y};\n\t}\n\tvec operator - (const vec oth) const\n\t{\n\t\treturn (vec){x - oth.x, y - oth.y};\n\t}\n\tvec operator * (const double d) const\n\t{\n\t\treturn (vec){x * d, y * d};\n\t}\n\tvec operator / (const double d) const\n\t{\n\t\treturn (vec){x / d, y / d};\n\t}\n};\n\nvec A, B, C, D, P1, P2;\n\ndouble P, Q, R, rx, ry;\n\nvec f1(double x) {return A + P1 * x;}//\u548c\u4e0a\u6587\u5b9a\u4e49\u7684f1\u610f\u4e49\u76f8\u540c\n\nvec f2(double x) {return D + P2 * x;}//\u548c\u4e0a\u6587\u5b9a\u4e49\u7684f2\u610f\u4e49\u76f8\u540c\n\ndouble Squ(double a) {return a * a;}\n\ndouble dis(vec a, vec b)//\u6c42a,b\u7684\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb\n{\n\treturn sqrt(Squ(a.x - b.x) + Squ(a.y - b.y));\n}\n\ndouble f(double x, double y)//\u548c\u4e0a\u6587\u5b9a\u4e49\u7684f\u610f\u4e49\u76f8\u540c\n{\n\treturn x + y + dis(f1(x), f2(y)) / R;\n}\n\ndouble Rand() {return (double)rand() / RAND_MAX;}//\u8fd4\u56de\u4e00\u4e2a[0,1]\u7684\u968f\u673a\u5b9e\u6570\n\nstruct Bird {double vx, vy, x, y, f, pb, pbx, pby;} b[BS];//\u7c92\u5b50\u4eec\n\n//vx,vy\u662f\u901f\u5ea6\u5411\u91cf\uff0cx,y\u662f\u4f4d\u7f6e\u5411\u91cf\uff0cf\u662f\u5f53\u524d\u4f4d\u7f6e\u7684\u51fd\u6570\u503c\uff0cpb\u662f\u8be5\u7c92\u5b50\u5386\u53f2\u6700\u4f18\u503c\n\ndouble w = 1, gb = 1e233, gbx, gby;\n\n//w\u662f\u7cbe\u5ea6\u6743\u91cd\uff0c gb\u662f\u5168\u5c40\u76ee\u524d\u6700\u4f18\u503c\uff0c gbx,gby\u662f\u53d6\u5230\u5168\u5c40\u6700\u4f18\u503c\u65f6\u7684\u81ea\u53d8\u91cfx,y\n\nvoid Update(int a)//\u66f4\u65b0\u7c92\u5b50a\u7684\u72b6\u6001\uff0c\u8fd9\u91cc\u5177\u4f53\u539f\u7406\u8bf7\u89c1\u7b97\u6cd5\u5b9e\u73b0\u539f\u7406\n{\n\tb[a].vx = b[a].vx * w + Rand() * w * (gbx + b[a].pbx - b[a].x * 2);\n\tb[a].vy = b[a].vy * w + Rand() * w * (gby + b[a].pby - b[a].y * 2);\n\t//b[a].v * w\u662f\u56e0\u4e3a\u6709\u60ef\u6027\uff0c\u53e6\u5916\u7684\u9879\u5219\u662f\u5c3d\u91cf\u50cf\u66f4\u4f18\u89e3\u9760\u8fd1\n\tb[a].x += b[a].vx, b[a].y += b[a].vy;//\u66f4\u65b0\u4f4d\u7f6e\u5411\u91cf\n\t//\u4e0b\u97624\u884c\u662f\u9632\u6b62\u7c92\u5b50\u51fa\u754c\uff0c\u51fa\u754c\u5219\u53cd\u5f39\u56de\u6765\uff08\u8fd9\u91cc\u6211\u6ca1\u5728\u7f51\u4e0a\u627e\u5230\u76f8\u5173\u8d44\u6599\u4ecb\u7ecd\u5982\u4f55\u5904\u7406\u51fa\u754c\uff0c\u6240\u4ee5\u662f\u81ea\u5df1YY\u7684\uff09\n\tif (b[a].x < 0) b[a].x = 0, b[a].vx = -b[a].vx;\n\tif (b[a].y < 0) b[a].y = 0, b[a].vy = -b[a].vy;\n\tif (b[a].x > rx) b[a].x = rx, b[a].vx = -b[a].vx;\n\tif (b[a].y > ry) b[a].y = ry, b[a].vy = -b[a].vy;\n\tb[a].f = f(b[a].x, b[a].y);//\u8ba1\u7b97\u5f53\u524d\u4f4d\u7f6e\u51fd\u6570\u503c\n\tif (b[a].f < b[a].pb)//\u66f4\u65b0\u5c40\u90e8\u6700\u4f18\u89e3\n\t\tb[a].pbx = b[a].x, b[a].pby = b[a].y, b[a].pb = b[a].f;\n}\n\nint main(int argc, char const* argv[])\n{\n\tscanf(\"%lf%lf%lf%lf\", &A.x, &A.y, &B.x, &B.y), P1 = B - A;\n\tscanf(\"%lf%lf%lf%lf\", &C.x, &C.y, &D.x, &D.y), P2 = C - D;\n\tscanf(\"%lf%lf%lf\", &P, &Q, &R), srand(P + Q + R);\n\trx = dis(B, A) / P, ry = dis(D, C) / Q;\n\tif (!rx) P1.x = P1.y = 0; else P1 = P1 / rx;//\u7279\u5224\u4f20\u9001\u5e26\u662f\u4e00\u4e2a\u70b9\u7684\u60c5\u51b5\n\tif (!ry) P2.x = P2.y = 0; else P2 = P2 / ry;\n\tfor (int i = 1; i <= cnt; i += 1)//\u968f\u673a\u6492\u70b9\n\t{\n\t\tb[i].x = b[i].pbx = Rand() * rx, b[i].y = b[i].pby = Rand() * ry;\n\t\tb[i].f = b[i].pb = f(b[i].x, b[i].y);\n\t\tb[i].vx = b[i].vy = 0;\n\t\tif (gb > b[i].pb) gbx = b[i].pbx, gby = b[i].pby, gb = b[i].pb;\n\t}\n\tfor (int p = 1; p <= 900; p += 1, w *= 0.99)//\u8fed\u4ee3900\u6b21\uff0c0.99\u7684900\u6b21\u65b9\u5df2\u7ecf\u5bf9\u7b54\u6848\u65e0\u5f71\u54cd\n\t\tfor (int i = 1; i <= cnt; i += 1)\n\t\t\tif (Update(i), gb > b[i].pb)\n\t\t\t\tgbx = b[i].pbx, gby = b[i].pby, gb = b[i].pb;//\u66f4\u65b0\u5168\u5c40\u6700\u4f18\u89e3\n\tprintf(\"%.2f\\n\", gb);\n\treturn 0;\n}\n```",
        "postTime": 1522160524,
        "uid": 22388,
        "name": "XZYQvQ",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u4e09\u5206\u7684\u6a21\u677f\u9898\u3002\n\n~~\u5176\u5b9e\u6211\u77a5\u4e86\u4e00\u773c\u9898\u89e3\u624d\u53d1\u73b0\u662f\u4e09\u5206~~\n\n\u81f3\u5c11\u5b66\u4f1a\u4e86\u4e00\u4e2a\u5957\u8def\u3002\n\nAC\u540e\u770b\u4e86\u770b\u9898\u89e3\uff0c5\u7bc7\u4e2d\u5c312\u7bc7\u662f\u4e09\u5206\uff0c\u7ed3\u679c\u4e00\u7bc7\u6ca1\u6709 $\\LaTeX$ \u771f\u4e0d\u723d\uff0c\u4e00\u7bc7\u5c31\u4e00\u70b9\u70b9\u4ee3\u7801\u2026\u2026\n\n\u4e0d\u591a\u8bf4\u4e86\uff0c\u5f00\u59cb\u3002\n\n---\n\u9898\u76ee\u5927\u610f\uff1a\n\n\u4f60\u8981\u4ece $A$ \u70b9\u5230 $D$ \u70b9\u3002\u6709\u4e24\u6761\u4f20\u9001\u5e26\uff1a\u7b2c\u4e00\u6761\u4ece $A$ \u5230 $B$\uff0c\u901f\u5ea6\u4e3a $p$\uff0c\u7b2c\u4e8c\u6761\u4ece $C$ \u5230 $D$\uff0c\u901f\u5ea6\u4e3a $q$\u3002\u4e0d\u8d70\u4f20\u9001\u5e26\u65f6\u901f\u5ea6\u4e3a $r$\u3002\u6c42\u4ece $A$ \u5230 $D$ \u7684\u6700\u5c11\u65f6\u95f4\u3002\n\n\u660e\u663e\u8fd9\u6761\u8def\u5f84\u5e94\u8be5\u662f\u4e09\u6761\u7ebf\u6bb5\u7ec4\u6210\u7684\uff1a$AE+EF+FD$\u3002\u5176\u4e2d $E$ \u5728 $AB$ \u4e0a\uff0c$F$ \u5728 $CD$ \u4e0a\u3002\n\n\uff08\u4ee5\u4e0b\u8bbe $dis(X,Y)$ \u4e3a $X$ \u548c $Y$ \u7684\u8ddd\u79bb\uff09\n\n\u90a3\u4e48\u7b54\u6848\u5c31\u662f $dis(A,E)/p+dis(E,F)/r+dis(F,D)/q$\u3002\n\n\u8fd9\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u4e8c\u5143\u51fd\u6570\uff0c\u60f3\u8981\u6c42\u6700\u5c0f\u503c\u8fd8\u6bd4\u8f83\u9ebb\u70e6\u3002\n\n\u5047\u8bbe\u6211\u4eec\u628a\u5176\u4e2d\u4e00\u4e2a\u5143\uff08\u8fd9\u91cc\u53d6 $E$\uff09\u5f53\u505a\u53c2\u6570\u4f1a\u600e\u4e48\u6837\uff1f\n\n\u90a3\u4e48\u5c31\u662f\u8981\u627e\u4e00\u70b9 $F$ \u4f7f\u5f97 $dis(E,F)/r+dis(F,D)/q$ \u6700\u5c0f\u3002\n\n\uff08\u4ee5\u4e0b\u8bbe $f(X)=(dis(X,F)/r+dis(F,D)/q)_{min}$\uff09\n\n\u5bb9\u6613\u53d1\u73b0\u8fd9\u662f\u4e2a\u5355\u5cf0\u6216\u8005\u5355\u8c03\u51fd\u6570\u3002\n\n\u6709\u51e0\u4f55\u753b\u677f\u6216\u8005GeoGebra\u7684\u81ea\u5df1\u8bd5\u4e00\u4e0b\u5427\uff0c\u6211\u4e5f\u8bf4\u4e0d\u592a\u6e05\u695a\u2026\u2026\n\n\u53cd\u6b63\u5c31\u662f $f(E)$ \u662f\u53ef\u4ee5\u901a\u8fc7\u4e09\u5206 $F$ \u5f97\u5230\u6700\u5c0f\u503c\u7684\u3002\n\n\u4f46\u662f\u5176\u5b9e $E$ \u4e5f\u662f\u4e2a\u672a\u77e5\u91cf\u554a\uff01\u90a3\u600e\u4e48\u53d6\u5f97 $dis(A,E)/p+f(E)$ \u7684\u6700\u5c0f\u503c\u5462\uff1f\n\n\u6211\u4eec\u53d1\u73b0\u8fd9\u4e5f\u662f\u4e2a\u5355\u5cf0\u6216\u5355\u8c03\u51fd\u6570\u3002\u53ef\u4ee5\u518d\u4e09\u5206 $E$ \u5f97\u51fa\u8fd9\u4e2a\u6700\u5c0f\u503c\uff0c\u4e5f\u5c31\u662f\u7b54\u6848\u3002\n\n\u7efc\u4e0a\uff1a\u8fd9\u9898\u5c31\u662f\u4e09\u5206\u5957\u4e09\u5206\u3002\n\n---\n\u4e0a\u4ee3\u7801\uff1a\uff08\u8be6\u7ec6\u6ce8\u91ca\uff09\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst double eps=1e-8;\t//\u6211\u4e00\u822c\u559c\u6b22\u628aeps\u8bbe\u4e3a1e-8\uff0c\u5f53\u7136\u5bf9\u4e8e\u8fd9\u98981e-6\u8db3\u591f\u4e86\ndouble ax,ay,bx,by,cx,cy,dx,dy,p,q,r;\ndouble dis(double x_1,double y_1,double x_2,double y_2){\t//P1\u548cP2\u7684\u8ddd\u79bb\n\tdouble xdis=x_1-x_2,ydis=y_1-y_2;\n\treturn sqrt(xdis*xdis+ydis*ydis);\n}\ndouble f(double x_1,double y_1,double x_2,double y_2){\t//\u4e0a\u6587\u4e2d\u63d0\u5230\u7684f(P1)\u5728\u5f53F\u662fP2\u65f6\u7684\u503c\n\treturn dis(x_1,y_1,x_2,y_2)/r+dis(x_2,y_2,dx,dy)/q;\n    //\u7b2c\u4e00\u4e2a\u662fdis(E,F)/r\uff0c\u7b2c\u4e8c\u4e2a\u662fdis(F,D)/q\n}\ndouble calc1(double x,double y){\t//\u5185\u5c42\u4e09\u5206F\uff08\u8fd9\u4e2a\u7ed9\u5b9a\u7684\u53c2\u6570\u662f\u56fa\u5b9aE\u662f\u8fd9\u4e2a\u70b9\uff09\n\tdouble lx=cx,ly=cy,rx=dx,ry=dy;\t//\u5728CD\u4e0a\u4e09\u5206\n\twhile(dis(lx,ly,rx,ry)>eps){\t//\u8fd8\u6ca1\u6709\u91cd\u5408\u6210\u4e00\u70b9\n\t\tdouble tmpx=(rx-lx)/3,tmpy=(ry-ly)/3;\n\t\tdouble lmidx=lx+tmpx,rmidx=rx-tmpx,lmidy=ly+tmpy,rmidy=ry-tmpy;\t//(lmidx,lmidy)\u662f\u5de6\u7b49\u5206\u70b9\uff0c(rmidx,rmidy)\u662f\u53f3\u7b49\u5206\u70b9\n\t\tdouble ans1=f(x,y,lmidx,lmidy),ans2=f(x,y,rmidx,rmidy);\t//\u5de6\u7b49\u5206\u70b9\u548c\u53f3\u7b49\u5206\u70b9\u7684\u503c\n\t\tif(ans2-ans1>eps) rx=rmidx,ry=rmidy;\t//\u5de6\u8fb9\u66f4\u5c0f\uff0c\u820d\u5f03\u53f3\u8fb9\n\t\telse lx=lmidx,ly=lmidy;\t//\u53f3\u8fb9\u66f4\u5c0f\uff0c\u820d\u5f03\u5de6\u8fb9\n\t}\n\treturn f(x,y,lx,ly);\t//\u8fd4\u56de\u8fd9\u4e2a\u6700\u5c0f\u503c\n}\ndouble calc(){\t//\u5916\u5c42\u4e09\u5206E\n\tdouble lx=ax,ly=ay,rx=bx,ry=by;\t//\u5728AB\u4e0a\u4e09\u5206\n\twhile(dis(lx,ly,rx,ry)>eps){\n\t\tdouble tmpx=(rx-lx)/3,tmpy=(ry-ly)/3;\n\t\tdouble lmidx=lx+tmpx,rmidx=rx-tmpx,lmidy=ly+tmpy,rmidy=ry-tmpy;\t//\u4ee5\u4e0a\u540c\u7406\n\t\tdouble ans1=calc1(lmidx,lmidy)+dis(ax,ay,lmidx,lmidy)/p,ans2=calc1(rmidx,rmidy)+dis(ax,ay,rmidx,rmidy)/p;\t//\u5de6\u7b49\u5206\u70b9\u548c\u53f3\u7b49\u5206\u70b9\u7684\u503c\uff08\u5728\u8fd9\u91cc\u5957\u4e86\u5185\u5c42\u4e09\u5206\uff09\n\t\tif(ans2-ans1>eps) rx=rmidx,ry=rmidy;\n\t\telse lx=lmidx,ly=lmidy;\t//\u540c\u7406\n\t}\n\treturn calc1(lx,ly)+dis(ax,ay,lx,ly)/p;\t//\u8fd4\u56de\u6700\u5c0f\u503c\uff0c\u4e5f\u5c31\u662f\u7b54\u6848\n}\nint main(){\n\tscanf(\"%lf%lf%lf%lf%lf%lf%lf%lf%lf%lf%lf\",&ax,&ay,&bx,&by,&cx,&cy,&dx,&dy,&p,&q,&r);\n\tprintf(\"%.2lf\\n\",calc());\t//\u8fd9\u5c31\u662f\u7b54\u6848\n}\n```",
        "postTime": 1534996803,
        "uid": 72118,
        "name": "AThousandSuns",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "\u8868\u793a\u849f\u84bb\u5e76\u4e0d\u4f1a\u697c\u4e0b\u7684\u4ec0\u4e48\u4e09\u5206\u5957\u4e09\u5206\u9000\u706b\u554a\u7c92\u5b50\u7fa4\u554a\u2026\u2026\u53ea\u80fd\u66b4\u529b\u4e86\u2026\u2026\n\n\u6211\u662f\u8fd9\u6837\u505a\u7684\uff0c\u628a\u6bcf\u4e00\u6761\u7ebf\u6bb5\u5e73\u5747\u62c6\u62105000\u4e2a\u70b9\uff0c\u7136\u540e\u4e24\u6761\u7ebf\u6bb5\u4e0a\u7684\u70b9\u5bf9\u4e4b\u95f4\u4e24\u4e24\u5339\u914d\uff0c\u53d6\u65f6\u95f4\u6700\u5c0f\u7684\n\n~~\u7136\u540e\u4e4b\u540e\u6211\u4ea4\u4e86\u4e00\u53d1\u4e09\u5206\u7adf\u7136WA\u4e86~~\n\n~~\u6240\u4ee5\u66b4\u529b\u624d\u662f\u6700\u6b63\u786e\u7684\u65b9\u6cd5~~\n\n```\n//minamoto\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=5005;\ndouble x[N+5],y[N+5],xx[N+5],yy[N+5];\ndouble t1[N+5],t2[N+5];\ninline double dis(int i,int j){return sqrt((x[i]-xx[j])*(x[i]-xx[j])+(y[i]-yy[j])*(y[i]-yy[j]));}\ndouble Ax,Ay,Bx,By,Cx,Cy,Dx,Dy,p,q,r,ans=1e18;\nint main(){\n//\tfreopen(\"testdata.in\",\"r\",stdin);\n//\tfreopen(\"transporter.in\",\"r\",stdin);\n//\tfreopen(\"transporter.out\",\"w\",stdout);\n    cin>>Ax>>Ay>>Bx>>By>>Cx>>Cy>>Dx>>Dy>>p>>q>>r;\n    double dx=(Bx-Ax)/N,dy=(By-Ay)/N;\n    for(int i=0;i<=N;++i){\n        x[i]=Ax+dx*i,y[i]=Ay+dy*i;\n        t1[i]=sqrt(dx*i*dx*i+dy*i*dy*i)/p;\n    }\n    dx=(Dx-Cx)/N,dy=(Dy-Cy)/N;\n    for(int i=0;i<=N;++i){\n        xx[i]=Dx-dx*i,yy[i]=Dy-dy*i;\n        t2[i]=sqrt(dx*i*dx*i+dy*i*dy*i)/q;\n    }\n    for(int i=0;i<=N;++i)for(int j=0;j<=N;++j)\n    ans=min(ans,t1[i]+t2[j]+dis(i,j)/r);\n    printf(\"%.2lf\\n\",ans);return 0;\n}\n```",
        "postTime": 1541633172,
        "uid": 41781,
        "name": "bztMinamoto",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u771f\u7684\u5f88\u96be\u60f3\u5230\u601d\u8def\uff0c\u4f46\u662f\u60f3\u5230\u4e86\u4e5f\u5f88\u96be\u5b9e\u73b0\uff0c\u6700\u540e\u662f\u4ee5\u4e00\u79cd\u5f88\u795e\u5947\u7684\u601d\u8def\u641e\u5b9a\u7684\u3001\u3001\n\n---\n[\u4f20\u9001\u95e8](https://loj.ac/problem/10017)\n\n\u5176\u5b9e\u4e00\u5f00\u59cb\u771f\u7684\u60f3\u4e0d\u5230\uff0c\u662f\u770b\u4e86\u5927\u4f6c\u7684\u9898\u89e3\u624d\u60f3\u51fa\u6765\u7684\u3002\u601d\u8def\u5176\u5b9e\u4e0d\u96be\u7406\u89e3\uff0c\u76ee\u524d\u6211\u63a5\u89e6\u5230\u4e86\u4e09\u79cd\u601d\u8def\u3002\n\n## \u4e00\u3001\u4e09\u5206 \n### 1.\u4e09\u5206\u5750\u6807\n\u8fd9\u662f\u6700\u5e38\u89c1\u7684\u601d\u8def\u4e86\uff0c\u5f88\u591a\u5927\u4f6c\u90fd\u662f\u7528\u4e09\u5206\u5750\u6807\u7684\uff08\u5305\u62ec\u7334\u5b50\u5927\u4f6c\uff09\uff0c\u56e0\u4e3a\u5f88\u597d\u7406\u89e3\u3002\n\n![](https://cdn.luogu.com.cn/upload/pic/46203.png)\n\n\u6211\u4eec\u8fdb\u884c\u4e09\u5206\u5957\u4e09\u5206\uff0c\u628a\u7ebf\u6bb5$ab$\u4e09\u5206\u5bfb\u627e\u8f6c\u6298\u70b9\u540e\u4ece\u8f6c\u6298\u70b9\u8dd1\u5411\u7ebf\u6bb5$cd$\uff0c\u7136\u540e\u518d\u5728\u7ebf\u6bb5$cd$\u4e0a\u4e09\u5206\u5bfb\u627e\u62b5\u8fbe\u5730\u70b9\u8dd1\u5411\u70b9$d$\u3002\n\n\u5177\u4f53\u4e09\u5206\u65b9\u6cd5\u5728\u56fe\u91cc\u6709\u8bf4\u3002\u4ee3\u7801\u8be6\u89c1[loj\u8bc4\u6d4b](https://loj.ac/submissions?problem_id=10017)\u627ezhangjianjunab\u3002\n\n---\n### 2.\u4e09\u5206\u6bd4\u4f8b\n\u8fd9\u662f\u6211\u7684\u601d\u8def\u4e86\u3001\u3001\u867d\u7136\u597d\u50cf\u6ca1\u4ec0\u4e48\u4eba\u7528\u3001\u3001\n\n\u6211\u539f\u672c\u7684\u601d\u8def\u662f\u4e09\u5206\u4e0e$a$\u70b9\uff08$c$\u70b9\uff09\u7684\u8ddd\u79bb\u7684\uff0c\u4f46\u662f\u540e\u6765\u53d1\u73b0\u8fd9\u4e2a\u8ddd\u79bb\u6839\u672c\u65e0\u6cd5\u786e\u5b9a\u8be5\u70b9\u7684\u5750\u6807\u3002\n\n\u540e\u6765\u4e0a\u7f51\u770b\u4e86\u5927\u4f6c\u7684\u535a\u5ba2\uff0c\u53d1\u73b0\u53ef\u4ee5\u4e09\u5206\u6bd4\u503c\u3002\u5177\u4f53\u5982\u4e0b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/46184.png)\n\n\u6211\u4eec\u73b0\u5728\u5df2\u77e5\u7ebf\u6bb5$AB$\uff0c\u5047\u8bbe\u73b0\u5728\u5728$AB$\u4e0a\u5df2\u627e\u5230\u4e00\u70b9$F$\uff0c\u6211\u4eec\u8981\u53bb\u8ba1\u7b97$F$\u4e0e\u53e6\u4e00\u6761\u7ebf\u6bb5\u7684\u8ddd\u79bb\uff0c\u8fd9\u4e2a$F$\u7684\u5750\u6807\u600e\u4e48\u6c42\u5462\uff1f\n\n\u4ee5$AB$\u4e3a\u659c\u8fb9\uff0c\u4f5c\u4e00\u4e2a$Rt$\u25b3$ABE$\u3002\u4f5c$FH$\u22a5$AC$\uff0c\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u25b3$AFH$\u548c\u25b3$ABE$\u662f\u76f8\u4f3c\u4e09\u89d2\u5f62\uff08$\u2220A$\u4e3a\u516c\u5171\u89d2\uff0c$\u2220FHA=\u2220E=90$\u00b0\uff09\n\n\u6240\u4ee5$AF$\u548c$AB$\u6709\u4e00\u5b9a\u7684\u6bd4\u503c\uff0c\u5373$\\frac{AF}{AB}=k\\left(0\\le k\\le1\\right)$\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4e09\u5206$k$\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u6c42\u51fa$F$\u7684\u5750\u6807\u4e86\u3002\n\n\u540c\u6837\u7684\u65b9\u6cd5\u4e09\u5206\u7ebf\u6bb5$CD$\uff0c\u7528\u4e09\u5206\u5957\u4e09\u5206\uff08\u540c\u4e09\u5206\u5750\u6807\u7684\u65b9\u6cd5\uff09\u3002\n\n\u8d34\u4e2a\u4ee3\u7801\u3001\u3001\n```cpp\n#include<cmath>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nstruct node\n{\n\tdouble x,y;\n}a,b,c,d;double p,q,r;\ndouble gougu(node n1,node n2)\n{\n\treturn sqrt((n1.x-n2.x)*(n1.x-n2.x)+(n1.y-n2.y)*(n1.y-n2.y));\n}\nnode find(node xx,node yy,double k)\n{\n\tnode no;no.x=(yy.x-xx.x)*k+xx.x;no.y=(yy.y-xx.y)*k+xx.y;\n\treturn no;\n}\ndouble checkplus(double x,double y)\n{\n\tnode n1=find(a,b,x),n2=find(c,d,y);\n\treturn gougu(a,n1)/p+gougu(n1,n2)/r+gougu(n2,d)/q;\n}\ndouble check(double x)\n{\n\tdouble l=0.0,r=1.0;\n\twhile(r-l>=0.0000001)\n\t{\n\t\tdouble mid1=l+(r-l)/3.0,mid2=r-(r-l)/3.0;\n\t\tif(checkplus(x,mid1)>checkplus(x,mid2))l=mid1;\n\t\telse r=mid2;\n\t}\n\treturn checkplus(x,l);\n}\nint main()\n{\n\tscanf(\"%lf%lf%lf%lf\",&a.x,&a.y,&b.x,&b.y);\n\tscanf(\"%lf%lf%lf%lf\",&c.x,&c.y,&d.x,&d.y);\n\tscanf(\"%lf%lf%lf\",&p,&q,&r);\n\tdouble l=0.0,r=1.0;\n\twhile(r-l>=0.0000001)\n\t{\n\t\tdouble mid1=l+(r-l)/3.0,mid2=r-(r-l)/3.0;\n\t\tif(check(mid1)>check(mid2))l=mid1;\n\t\telse r=mid2;\n\t}\n\tprintf(\"%.2lf\",check(l));\n\treturn 0;\n}\n```\n\uff08~~\u5f53\u7136\uff0c\u7531\u4e8e\u61d2\uff0c\u6240\u6709inline\u90fd\u6ca1\u6709\u52a0\u3001\u3001~~\uff09\n\n---\n## \u4e8c\u3001\u6a21\u62df\u9000\u706b\n\u6211\u4e5f\u4e0d\u77e5\u9053\u8fd9\u662f\u4ec0\u4e48\uff08\u592a\u83dc\u4e86\u3001\u3001\uff09\uff0c\u53ef\u4ee5\u4e0a\u7f51\u641c\u4e00\u641c\u3002\n\n---\n## \u4e09\u3001\u66b4\u529b\u641c\n\u8fd9\u4e2a\u597d\u50cf\u4e5f\u80fd\u8fc7\u51e0\u4e2a\u70b9\uff1f\u4e0d\u8fc7\u4e24\u4f4d\u5c0f\u6570\uff0c\u7684\u786e\u4e5f\u53ef\u4ee5\u66b4\u529b\u627e\u3002\u4e5f\u6709\u5927\u4f6c\u662f\u5148\u66b4\u529b\u5728$AB$\u4e0a\u627e\u70b9\uff0c\u7136\u540e\u518d\u4e09\u5206$CD$\u7684\uff08\u56e0\u4e3a\u4e09\u5206$AB$\u7684\u6211\u8fd8\u8bc1\u4e0d\u51fa\u5176\u4e3a\u5355\u5cf0\u51fd\u6570\uff09\uff0c\u4f1a\u6162\u4e00\u70b9\uff0c\u4f46\u662f\u4e5f\u53ef\u4ee5\u8fc7\uff0c\u800c\u4e14\u4fdd\u9669\u5f88\u591a\u3002\n\n---\n## \u4e09\u5206\u5355\u5cf0\u51fd\u6570\u8bc1\u660e\n\u4eca\u5929\u4e0a\u5348\u624d\u542c\u7334\u5b50\u8bc1\u4e86\u8fd9\u4e2a\uff0c\u89c9\u5f97\u81ea\u5df1\u5b66\u7b97\u6cd5\u8fd8\u662f\u592a\u6d45\u4e86\uff0c\u8981\u77e5\u9053\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u7528\u4e09\u5206\u624d\u884c\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u753b\u4e00\u4e2a\u56fe\u3002\u5047\u8bbe\u4e0a\u9762\u7684\u70b9\u4e3a\u7ebf\u6bb5$AB$\u4e0a\u7684\u67d0\u4e00\u70b9\uff0c\u5b83\u5230\u7ebf\u6bb5$CD$\u7684\u6240\u6709\u8def\u5f84\u4e2d\uff0c\u9009\u51fa\u4e86$a$\u548c$b$\u4e24\u6761\uff0c\u8bbe$a$\u4e3a\u6700\u4f18\u89e3\u3002\u6211\u4eec\u53ef\u4ee5\u753b\u51fa\u4ee5\u4e0b\u56fe\u7247\uff1a\n\n![](https://i.loli.net/2018/12/15/5c1459cc3e7b3.png)\n\n\u800c$b$\u80af\u5b9a\u662f\u6bd4$a$\u8981\u957f\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u518d\u753b\u51fa\u4e0b\u9762\u8fd9\u4e2a\uff1a\n\n![](https://i.loli.net/2018/12/15/5c1459e71f226.png)\n\n\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\uff0c$b$\u8def\u5f84\u548c$a$\u8def\u5f84\u552f\u4e00\u7684\u533a\u522b\u5c31\u662f\u5728\u4e8e$b-a$\u8fd9\u4e00\u6bb5\u548c$c$\u8fd9\u4e00\u6bb5\u3002\u6211\u4eec\u4e0d\u59a8\u6c42\u51fa\u5b83\u4eec\u7684\u65f6\u95f4\uff1a\n\n$b=\\frac{a}{r}+\\frac{b-a}{r}+\\frac{c}{q}$\n\n$a=\\frac{a}{r}$\n\n\u4f46\u662f\u4e00\u822c\u6765\u8bf4\uff0c$c$\u8fd9\u6bb5\u8def\u7a0b\u662f\u8d70\u5f97\u6bd4$b$\u5feb\u7684\uff0c\u5373$q>r$\uff0c\u6240\u4ee5$b$\u6709\u53ef\u80fd\u5728$c$\u8d85\u8f66\uff0c\u6211\u4eec\u8981\u5224\u65ad\u662f\u5426\u5b58\u5728\u8fd9\u79cd\u60c5\u51b5\uff0c\u5373$\\frac{b-a}{r}<\\frac{c}{q}$\uff0c$b$\u5c31\u53ef\u4ee5\u8d85\u8f66\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u627e\u5230\u4e00\u6761\u8def\u5f84\uff0c\u4f7f\u5176\u5de6\u8fb9\u7684\u90fd\u4e3a$\\frac{b-a}{r}<\\frac{c}{q}$\u4e14\u53f3\u8fb9\u7684\u90fd\u4e3a$\\frac{b-a}{r}>\\frac{c}{q}$\u800c\u4e14\u90fd\u6210\u9012\u589e\u6216\u9012\u51cf\u3002\u8fd9\u6837\u5c31\u80fd\u8bc1\u5176\u4e3a\u5355\u5cf0\u51fd\u6570\u4e86\uff08~~\u56e0\u4e3a\u61d2\u4e0d\u60f3\u8bc1~~\uff09\n\n\u597d\u5c31\u5199\u5230\u8fd9\u91cc\uff08~~\u7d2f\u6b7b\u6211\u4e86~~\uff09",
        "postTime": 1540624011,
        "uid": 44157,
        "name": "zhangjianweivv",
        "ccfLevel": 0,
        "title": "\u300c\u4e00\u672c\u901a 1.2 \u7ec3\u4e60 4\u300d\u4f20\u9001\u5e26"
    },
    {
        "content": "### Solution\uff1a\n$\\;\\;\\quad$**\u601d\u8def**\uff1a\u6a21\u62df\u9000\u706b\n\n\u3000\u3000\u672c\u9898\u6b63\u89e3\u662f\u4e09\u5206\u6cd5\uff0c\u7136\u800c\u4e0d\u4f1a\u7528\uff0c\u8003\u8bd5\u65f6\u968f\u4fbf\u6253\u4e86\u4e2a\u6a21\u62df\u9000\u706b\u6c34\u4e8670\u5206\uff0c\u540e\u9762\u8c03\u4e86\u4e00\u4e0b\u5c31AC\u4e86\u3002\n\n\u3000\u3000\u9000\u706b\u7684\u601d\u8def\u5c31\u6bd4\u8f83\u7b80\u5355\uff0c\u9884\u5904\u7406\u51fa\u521d\u503c$ans$\u4e3a\u56db\u6761\u8def\u5f84\u4e2d\u7684\u6700\u5c0f\u503c\uff1a$(1)A\\rightarrow D\\;(2)A\\rightarrow B\\rightarrow D\\;(3)A\\rightarrow C\\rightarrow D\\;(4)A\\rightarrow B\\rightarrow C\\rightarrow D$\u3002\n\n\u3000\u3000\u7136\u540e\u5bf9\u4e8e\u56db\u79cd\u8def\u5f84\uff0c\u6211\u4eec\u90fd\u80fd\u56fa\u5b9a\u4e00\u6761\u8fb9\u800c\u5728\u53e6\u4e00\u8fb9\u4e2d\u679a\u4e3e\u70b9\u3002\u6bd4\u5982\u5728$AB$\u4e2d\u679a\u4e3e\u4e2d\u70b9\uff0c\u6bcf\u6b21\u5c31\u7b97\u51fa\u7b54\u6848\u540e\u66f4\u65b0\uff0c\u82e5\u4e0d\u4f18\u4e8e\u5f53\u524d\u89e3\uff0c\u5219\u6709\u4e00\u5b9a\u6982\u7387\u8fd8\u662f\u5f80\u8be5\u65b9\u5411\u79fb\u52a8\uff0c\u81f3\u4e8e\u79fb\u52a8\u7684\u5177\u4f53\u65b9\u5411\uff0c\u6211\u4e5f\u4e0d\u77e5\u9053\uff0c\u6240\u4ee5\u5c31\u5f3a\u884crand\u4e86\uff08\u4ec0\u4e48\u9b3c\uff1f\u8df3\u70b9\u5b8c\u5168\u968f\u673a\uff0c\u8fd9\u6837\u5b50\u90fd\u80fdA\uff09\uff0c\u6bcf\u6b21\u90fd\u627e\u4e2d\u70b9\uff0c\u76f4\u5230\u4e24\u4e2a\u8fb9\u754c\u70b9\u7279\u522b\u63a5\u8fd1\uff08\u5f04\u4e2aexp\uff09\u3002\n\n\u3000\u3000\u6700\u540e\u518d\u5f3a\u884c\u9000\u706b100\u6b21\uff0c\u5c31\u597d\u4e86\uff08\u9000\u706b\u592a\u7384\u5b66\uff0c\u53cd\u6b63AC\u5c31\u662f\u6b63\u89e3\uff09\u3002\n\n$\\;\\;\\quad$\u6b22\u8fce\u6765\u8e29\u535a\u5ba2\uff1a[five20](https://www.cnblogs.com/five20/p/9317547.html)\uff08\u849f\u84bb\u5199\u9898\u89e3\u4e0d\u6613\uff0c\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\uff0c\u4e07\u5206\u611f\u8c22\uff01\uff09\n\n### \u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#pragma GCC optimize(2)\n#define il inline\n#define ll long long\n#define For(i,a,b) for(int (i)=(a);(i)<=(b);(i)++)\n#define Bor(i,a,b) for(int (i)=(b);(i)>=(a);(i)--)\nusing namespace std;\nconst double R=0.98,Exp=1e-5;\ndouble ax,ay,bx,by,cx,cy,dx,dy,p,q,r,ans;\n\nint main(){\n    srand(time(0));\n    scanf(\"%lf%lf%lf%lf\",&ax,&ay,&bx,&by);\n    scanf(\"%lf%lf%lf%lf\",&cx,&cy,&dx,&dy);\n    scanf(\"%lf%lf%lf\",&p,&q,&r);\n    double ab=sqrt((ax-bx)*(ax-bx)+(ay-by)*(ay-by));\n    double cd=sqrt((cx-dx)*(cx-dx)+(cy-dy)*(cy-dy));\n    double ac=sqrt((ax-cx)*(ax-cx)+(ay-cy)*(ay-cy));\n    double bc=sqrt((bx-cx)*(bx-cx)+(by-cy)*(by-cy));\n    double ad=sqrt((ax-dx)*(ax-dx)+(ay-dy)*(ay-dy));\n    double bd=sqrt((bx-dx)*(bx-dx)+(by-dy)*(by-dy));\n    ans=ad/r;\n    ans=min(ans,ab/p+bd/r);\n    ans=min(ans,ab/p+bc/r+cd/q);\n    ans=min(ans,ac/r+cd/q);\n    For(i,1,100){\n    double tx=ax,ty=ay,px=bx,py=by,mx,my,T=5201314;\n    while(sqrt((tx-px)*(tx-px)+(ty-py)*(ty-py))>0.01){\n        mx=(tx+px)/2,my=(ty+py)/2;\n        double fu=sqrt((mx-ax)*(mx-ax)+(my-ay)*(my-ay))/p+sqrt((mx-dx)*(mx-dx)+(my-dy)*(my-dy))/r;\n        if(fu<ans){\n            ans=fu;\n            if(rand()%2) tx=mx,ty=my;\n            else px=mx,py=my;\n        }\n        else {\n            if(rand()<T) {\n                if(rand()%2)tx=mx,ty=my;\n                else px=mx,py=my;\n                T*=R;\n            }\n        }\n    }\n    tx=cx,ty=cy,px=dx,py=dy,T=5201314;\n    while(sqrt((tx-px)*(tx-px)+(ty-py)*(ty-py))>0.01){\n        mx=(tx+px)/2,my=(ty+py)/2;\n        double fu=sqrt((mx-ax)*(mx-ax)+(my-ay)*(my-ay))/r+sqrt((mx-dx)*(mx-dx)+(my-dy)*(my-dy))/q;\n        if(fu<ans){\n            ans=fu;\n            if(rand()%2) tx=mx,ty=my;\n            else px=mx,py=my;\n        }\n        else {\n            if(rand()<T) {\n                if(rand()%2)tx=mx,ty=my;\n                else px=mx,py=my;\n                T*=R;\n            }\n        }\n    }\n    tx=ax,ty=ay,px=bx,py=by,mx,my,T=5201314;\n    while(sqrt((tx-px)*(tx-px)+(ty-py)*(ty-py))>0.01){\n        mx=(tx+px)/2,my=(ty+py)/2;\n        double fu=sqrt((mx-ax)*(mx-ax)+(my-ay)*(my-ay))/p+sqrt((mx-cx)*(mx-cx)+(my-cy)*(my-cy))/r+cd/q;\n        if(fu<ans){\n            ans=fu;\n            if(rand()%2) tx=mx,ty=my;\n            else px=mx,py=my;\n        }\n        else {\n            if(rand()<T) {\n                if(rand()%2)tx=mx,ty=my;\n                else px=mx,py=my;\n                T*=R;\n            }\n        }\n    }\n    tx=cx,ty=cy,px=dx,py=dy,T=5201314;\n    while(sqrt((tx-px)*(tx-px)+(ty-py)*(ty-py))>0.01){\n        mx=(tx+px)/2,my=(ty+py)/2;\n        double fu=sqrt((mx-bx)*(mx-bx)+(my-by)*(my-by))/r+sqrt((mx-dx)*(mx-dx)+(my-dy)*(my-dy))/q+ab/p;\n        if(fu<ans){\n            ans=fu;\n            if(rand()%2) tx=mx,ty=my;\n            else px=mx,py=my;\n        }\n        else {\n            if(rand()<T) {\n                if(rand()%2)tx=mx,ty=my;\n                else px=mx,py=my;\n                T*=R;\n            }\n        }\n    }\n    }\n    printf(\"%.2lf\",ans);\n    return 0;\n}\n```",
        "postTime": 1531724889,
        "uid": 44000,
        "name": "\u6d45\u8272\u8c03",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u7b80\u5355\u4e00\u70b9\u7684\u8bdd\u6765\u8bf4\u5c31\u662f\u4e09\u5206\u5957\u4e09\u5206\uff08\u96be\u9053\u662f\u4e5d\u5206\uff01...\uff09 \u9996\u5148\u4e09\u5206AB\u4e0a\u7684\u70b9 \u8fd9\u4e2a\u70b9\u8bbe\u4e3aE \u7136\u540e\u901a\u8fc7\u70b9E\u4e09\u5206CD\u4e0a\u7684\u70b9F \u8fd9\u6837\u4e0d\u65ad\u5730\u7f29\u5c0f\u8303\u56f4\u5c31\u53ef\u4ee5\u4e86 \u81f3\u4e8e\u8ddd\u79bb\u5c31\u5f88\u7b80\u5355\u4e86 \u90a3\u5c31\u662fAE/p + EF/r +FD/q \u81f3\u4e8e\u4e09\u5206\u533a\u95f4\u65f6 \u600e\u4e48\u7f29\u5c0f\u8303\u56f4\u8fd9\u4e2a\u95ee\u9898\u561b.... \u7559\u7ed9\u4f60\u4eec\u53bb\u601d\u8003\u4e00\u4e0b \u53ef\u4ee5\u4ece\u7b80\u5355\u7684\u4e8c\u6b21\u51fd\u6570\u5f00\u59cb\u601d\u8003 \u8bf4\u4e0d\u5b9a\u4f1a\u6709\u65b0\u7684\u53d1\u73b0\u54e6\uff08\u63d0\u793a\u4e00\u4e0b \u91cc\u9762\u7684\u6570\u57fa\u672c\u4e0a\u90fd\u662fdouble \u6211\u5c31\u56e0\u4e3a\u5b9a\u4e49\u7684int\u8c03\u4e86\u4e00\u4e2a\u5c0f\u65f60.0\uff09\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nconst double dec=0.00001;\ndouble xa,ya,xb,yb,xc,yc,xd,yd;\ndouble q,p,r;\ndouble count(double xe,double ye,double xf,double yf)\n{\n  return ((sqrt((xe-xa)*(xe-xa)+(ye-ya)*(ye-ya)))/p)+((sqrt((xf-xe)*(xf-xe)+(ye-yf)*(ye-yf)))/r)+((sqrt((xd-xf)*(xd-xf)+(yd-yf)*(yd-yf)))/q);\n}\ndouble narrow(double x,double y)\n{\n  double fcx=xc,fdx=xd,fcy=yc,fdy=yd;double minn;\n  while(fabs(fcx-fdx)>dec||fabs(fcy-fdy)>dec)\n  {\n     double midx=(fcx+fdx)/2,midy=(fcy+fdy)/2;\n     double remidx=(midx+fdx)/2,remidy=(midy+fdy)/2;\n     double ans1=count(x,y,midx,midy),ans2=count(x,y,remidx,remidy);\n     if(ans1>ans2)  fcx=midx,fcy=midy;\n     else fdx=remidx,fdy=remidy;\n     minn=min(ans1,ans2);\n  }      \n  return minn;\n}\nint main()\n{\n    scanf(\"%lf%lf%lf%lf%lf%lf%lf%lf%lf%lf%lf\",&xa,&ya,&xb,&yb,&xc,&yc,&xd,&yd,&p,&q,&r);\n    double fax=xa,fbx=xb,fay=ya,fby=yb;double minn;\n    while(1)\n    {\n      double midx=(fax+fbx)/2,midy=(fay+fby)/2;\n      double remidx=(midx+fbx)/2,remidy=(midy+fby)/2;\n      double ans1=narrow(midx,midy),ans2=narrow(remidx,remidy);\n      if(ans1>ans2) fax=midx,fay=midy;\n      else fbx=remidx,fby=remidy;   \n      minn=min(ans1,ans2);   \n      if(fabs(fax-fbx)<dec&&fabs(fay-fby)<dec) break;\n    }\n    printf(\"%.2lf\",minn);\n    return 0;\n}\n```",
        "postTime": 1476759263,
        "uid": 22060,
        "name": "Memorize",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "\u5176\u5b9e\u5f88\u5bb9\u6613\u770b\u51fa\u6765\u662f\u4e09\u5206\uff0c\u56e0\u4e3a\u7528\u4e86\u5750\u6807\u6765\u8868\u793a\uff0c\u53c8\u8981\u7b97\u8ddd\u79bb\uff0c\u6240\u4ee5\u5c31\u5148\u5427\u603b\u7684\u8ddd\u79bb\u516c\u5f0f\u6253\u51fa\u6765\uff0c\u5c31\u4f1a\u53d1\u73b0\u662f\u4e00\u4e2a\u4e8c\u5143\u7684\u65b9\u7a0b\n\nA=\uff08sqrt(pow((F.x-D.x),2)+pow((F.y-D.y),2))/Q+sqrt(pow((F.x-E.x),2)+pow((F.y-E.y),2))/R+sqrt(pow((E.x-A.x),2)+pow((E.y-A.y),2))/P;\n}\uff09\n\n\u770b\u8d77\u6765\u6bd4\u8f83\u6076\u5fc3\uff0c\u4f46A,B,C,D,P,Q,R\u90fd\u662f\u5df2\u77e5\u7684\u5982\u679c\u628a\u5269\u4e0b\u7684\u4e8c\u5143\uff08E\uff0cF\uff09\u4e2d\u7684\u4e00\u4e2a\u770b\u4e3a\u53c2\u6570\uff0c\u5c31\u53ef\u4ee5\u8bc1\u660e\u5269\u4e0b\u51fd\u6570\u7684\u5355\u5cf0\u6027\u4e86:\n\n\u8bc1\u660e\uff1a\n\nsqrt(pow((F.x-D.x),2)+pow((F.y-D.y),2))/Q+sqrt(pow((F.x-E.x),2)+pow((F.y-E.y),2))/R\u4e3a\u5355\u5cf0\u51fd\u6570\n\n<--->\u9996\u5148\u8bc1\u660e\u786e\u5b9a\u4e00\u70b9\u7684\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb\u4e3a\u5355\u5cf0\u51fd\u6570\uff08\u4ee5E\u4e3a\u53c2\u6570\uff09\n\n//a==E.x,b=E.y\n\n<--->sqrt(x-a)^2+(y-b)^2\n\nthen:\u77e5\u9053\u4e86F\u662fC\uff0cD\uff08\u4fe9\u5df2\u77e5\u70b9\uff09\u8fd9\u6761\u76f4\u7ebf\u4e0a\u7684\u70b9\uff0c\u6240\u4ee5y\u5c31\u53ef\u4ee5\u7528\u7531C\uff0cD\u6784\u6210\u7684\u4e00\u6b21\u51fd\u6570\uff08\u7528f(x)=kx+b\u5c31\u884c\u4e86\u7528C\uff0cD\u8868\u793a\u592a\u9ebb\u70e6\uff09\u8868\u793a\n\u7136\u540e\u5c31\u53ef\u4ee5\u5427\u539f\u6765\u7684\u51fd\u6570\u89e3\u538b\u6210\u4e00\u4e2a\u6839\u53f7+\u4e8c\u6b21\u51fd\u6570\u7684\u5f0f\u5b50\uff0c\u6839\u53f7\u4e0d\u4f1a\u5f71\u54cd\u4e8c\u6b21\u51fd\u6570\n\n\u7136\u540e\u5c31\u6bd4\u4e0a\u9762\u7684\u91cd\u8981\u90a3\u4e48\u4e00\u4e22\u4e22\u4e86\uff1a\u77e5\u9053\u4e86dis\uff08F\uff0cE\uff09\u662f\u5355\u5cf0\u7684\u51fd\u6570\uff0c\u5269\u4e0b\u7684\uff08F\uff0cD\uff09\u5462\uff1f\u4e0d\u80fd\u7528\u540c\u7406\u53ef\u8bc1\uff0c\u672c\u5f31\u5c31\u75f4\u5fc3\u5984\u60f3\u7528\u6c42\u5bfc\u66b4\u529b\u8bc1\u660e\u4fe9\u4e2aa\u76f8\u7b49\u7684\u6839\u53f7\u4e8c\u6b21\u51fd\u6570\n\u662f\u5355\u5cf0\u7684\uff0c\u4f46\u662f\u663e\u7136\u9876\u5cf0\u4e0d\u4e00\u5b9a\u4e00\u6837\u6240\u4ee5\u662f\u4e92\u76f8\u5f71\u54cd\u7684\u6240\u4ee5\u5f88\u96be\u8bc1\u660e\uff0c~~\u663e\u7136\u4e0d\u662f\u5927\u4f6c\u628a\u5bfc\u51fd\u6570\u5199\u7ed9\u6211\u7136\u540e\u5c31\u653e\u5f03\u4e86~~\uff0c\u6240\u4ee5\u5728L\u59d3\u5927\u4f6c\u7684\u542f\u53d1\u4e0b\uff0c\u53d1\u73b0\uff08F,D\uff09\u662f\u4e00\u4e2a\u6839\u53f7\u4e00\u6b21\u51fd\u6570\uff1f\uff01\n\n\u9996\u5148\u4e3a\u4ec0\u4e48\u8bc1\u660eF\uff0cD\u4e4b\u95f4\u6709\u5c0fMimi\uff1a\n\n\u56e0\u4e3aF\u662f\u5728CD\u4e0a\u7684\uff0c\u6240\u4ee5FD\u4e4b\u95f4\u662f\u6709\u8054\u7cfb\u7684\uff0c\u6c42\u89e3\u4ed6\u4eec\u662f\u3010\u81ea\u7136\u7684\u3011\uff08@\u67d0\u6b27\u9633\u8001\u5e08\uff09\n\n\u4f46\u662f\u5982\u679c\u76f4\u63a5\u628aF\u8bbe\u6210\u7531C\uff0cD\u4e00\u6b21\u51fd\u6570\u6784\u6210\u5750\u6807\u5f62\u5f0f\u5c31\u592a\u9ebb\u70e6\u5e76\u4e14\u662f\u4e0d\u5bf9\u79f0\u7684\u4e86\uff0c\u6240\u4ee5\u65e2\u7136\u77e5\u9053C,D\u5750\u6807\u4e0d\u5982\u5c31\u7528CD\u8868\u793a<---> k=FC/CD \n\nF(C.x+k*(D.x-C.x),C.y+k*(D.y-C.y))//\u5bf9\u79f0\n\n\u7528\u8ddd\u79bb\u516c\u5f0f+\u5316\u7b80-->dis(F,D)=(1-k)*sqrt((D.x-C.x)^2+(D.y-C.y)^2)\n\nsqrt((D.x-C.x)^2+(D.y-C.y)^2)\u770b\u8d77\u6765\u662f\u542b\u5143\u7684\u4f46\u663e\u7136C\uff0cD\u90fd\u662f\u5df2\u77e5\u7684\uff0c\u6240\u4ee5\u5f97\u8bc1dis\uff08F,D\uff09\u662f\u4e00\u6b21\u51fd\u6570\uff08k\u662f\u81ea\u53d8\u91cf\uff09\n\n\u6240\u4ee5\u672c\u8eabdis\uff08F\uff0cE\uff09\u662f\u5355\u5cf0\u7684\uff0c\u518d\u52a0\u4e0a\u4e00\u4e2a\u4e00\u6b21\u51fd\u6570\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u4ed6\u662f\u51f9\u51fd\u6570--->\u5f97\u8bc1\uff08\u540c\u7406\u4e8eE\uff09\n\n~~\u8bf4\u662f\u8fd9\u6837\u8bc1\uff0c\u4f46\u505a\u9898\u7684\u65f6\u5019\u5e94\u8be5\u4e5f\u6ca1\u6709\u54ea\u4e2a\u4f1a\u8bc1\u660e\u7684\uff0c\u4e00\u5207\u51ed\u611f\u89c9\u9760\u7384\u5b66~~\n\n\n------------\n\n\n\u4e0a\u7801\uff08\u6807\u51c6\u7684\u4e09\u5206\uff0c\u53ea\u662f\u8f6c\u4e2a\u5f2f\u4e09\u5206\u5957\u4e09\u5206\uff09\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint const maxn=1e3+5;\ndouble P,Q,R;\nstruct X{\n\tdouble x,y;\n}A,B,C,D;\ndouble  Js(X E,X F){\n\treturn  sqrt(pow((F.x-D.x),2)+pow((F.y-D.y),2))/Q+sqrt(pow((F.x-E.x),2)+pow((F.y-E.y),2))/R+sqrt(pow((E.x-A.x),2)+pow((E.y-A.y),2))/P;\n}\ndouble SFen(X k){\n\tdouble dlt=1e-8,minl;\n\tX L=C,R=D;\n\twhile(fabs(L.x-R.x)>dlt||fabs(L.y-R.y)>dlt){\n\t\tX mid,Tir;\n\t\tmid.x=L.x+(R.x-L.x)/3,mid.y=L.y+(R.y-L.y)/3;\n\t   Tir.x=R.x-(R.x-L.x)/3,Tir.y=R.y-(R.y-L.y)/3;\n\t\tif(Js(k,mid)+dlt>Js(k,Tir))  L=mid;\n\t\telse   R=Tir;\n\t\tminl=min(Js(k,mid),Js(k,Tir));\n\t}\n\treturn minl;\n}\nint main(){\n\tscanf(\"%lf%lf%lf%lf%lf%lf%lf%lf%lf%lf%lf\",&A.x,&A.y,&B.x,&B.y,&C.x,&C.y,&D.x,&D.y,&P,&Q,&R);\n\tdouble  dlt=1e-8,minn;\n\tX L1=A,R1=B;\n\t   do\t{\n\t\tX mid1,Tir1;\n\t\tmid1.x=L1.x+(R1.x-L1.x)/3,mid1.y=L1.y+(R1.y-L1.y)/3;\n\t   Tir1.x=R1.x-(R1.x-L1.x)/3,Tir1.y=R1.y-(R1.y-L1.y)/3;\n\t\tif(SFen(mid1)>SFen(Tir1))  L1=mid1;\n\t\telse   R1=Tir1;\n\t\tminn=min(SFen(mid1),SFen(Tir1));\n\t}while(fabs(L1.x-R1.x)>=dlt||fabs(L1.y-R1.y)>=dlt);//\u4e00\u5b9a\u8981do while\u4e0d\u7136\u5982\u679c\u6709\u4e00\u5f00\u59cb\u5c31\u6ee1\u8db3while\u6761\u4ef6\u7684\u5c31\u76f4\u63a5\u8f93\u51fa\u4e86\uff0c\u4e0d\u4f1a\u8ba1\u7b97\u65f6\u95f4\uff0c\u4f1aWa\u4e24\u4e2a\u70b9\n\tprintf(\"%.2lf\",minn);\n\treturn 0;\n} \n```\n\n\u611f\u8c22\u5ba1\u6838\u5927\u4f6c",
        "postTime": 1558170466,
        "uid": 76230,
        "name": "ZQYZQY",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "## \u829d\u58eb\u70b9\uff1a\u4e09\u5206\n\u9898\u610f\uff1a  \n\u73b0\u5728\u6709\u4e24\u6761\u4f20\u9001\u5e26\uff1a$A \\to B$\u3001$C \\to D$  \n\u7136\u540e\u6211\u73b0\u5728\u4ece $A$ \u8981\u8d70\u5230 $D$ \uff0c\u95ee\u6240\u9700\u7684\u65f6\u95f4\u6700\u5c0f  \n\u5728 $A \\to B$ \u4e0a\u7684\u901f\u5ea6\u662f $P$ \uff0c $C \\to D$ \u662f $Q$ \uff0c\u5176\u4ed6\u4e0d\u5728\u4f20\u9001\u5e26\u7684\u65f6\u95f4\u4e3a $R$  \n\u601d\u8def\uff1a  \n\u6211\u4eec\u628a\u6574\u4e2a\u8fc7\u7a0b\u6362\u4e00\u79cd\u65b9\u5f0f\u6765\u8868\u8fbe  \n$A \\to P$\u3001$P \\to Q$\u3001$Q \\to D$  \n\uff08 $P$ \u5728 $AB$ \u4e0a\uff0c $Q$ \u5728 $CD$ \u4e0a\uff09  \n\u7136\u540e\u53d1\u73b0\u6709\u4e24\u4e2a\u5143\uff0c\u4e0d\u597d\u6a21\u62df\uff0c\u6240\u4ee5\u5148\u5047\u8bbe\u5df2\u77e5\u4e00\u4e2a\u5143\uff0c\u8fd9\u4e2a\u5143\u4e3a\u7cfb\u6570  \n\u7136\u540e\u76f4\u63a5\u8bbe\u51fd\u6570\uff1a$f(x)=time(x \\to Q)+time(Q \\to D)$\u6700\u5c0f  \n\u6613\u8bc1\u8fd9\u662f\u4e00\u4e2a\u5355\u5cf0\u51fd\u6570  \n\u6240\u4ee5\u53ef\u4ee5\u7528\u4e09\u5206\u6c42\u5230 $F(P)$ \u7684\u6700\u5c0f\u503c  \n\u63a5\u4e0b\u6765\u5c31\u662f\u6c42$time(A \\to P)+F(P)$\u6700\u5c0f  \n\u5c31\u8fd8\u662f\u4e00\u4e2a\u5355\u5cf0\u51fd\u6570  \n\u518d\u6b21\u4e09\u5206  \n\u6240\u4ee5\u5c31\u662f\u4e09\u5206\u5957\u4e09\u5206  \n\u4ee3\u7801\u5982\u4e0b\uff1a  \n```\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\ndouble p,q,r;\nstruct qwe{\n\tdouble x,y;\n}a,b,c,d;\ndouble qqq(qwe a,qwe b)\n{\n\treturn sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y));\n}\ndouble solve(qwe ab,double x)\n{\t\n\tqwe cd;\n\tcd.x=c.x+(d.x-c.x)*x;\n\tcd.y=c.y+(d.y-c.y)*x;\n\treturn qqq(ab,cd)/r+qqq(cd,d)/q;\n}\ndouble work(double x)\n{\n\tqwe ab;\n\tab.x=a.x+(b.x-a.x)*x;\n\tab.y=a.y+(b.y-a.y)*x;\n\tdouble l2=0,r2=1;\n\twhile(r2-l2>=0.0000001)\n\t{\n\t\tdouble midl=(r2+l2*2)/3.0;\n\t\tdouble midr=(r2*2+l2)/3.0;\n\t\tif(solve(ab,midl)<solve(ab,midr))r2=midr;\n\t\telse l2=midl;\n\t}\n\treturn solve(ab,r2)+qqq(a,ab)/p;\n}\nint main()\n{\n\tscanf(\"%lf%lf%lf%lf%lf%lf%lf%lf%lf%lf%lf\",&a.x,&a.y,&b.x,&b.y,&c.x,&c.y,&d.x,&d.y,&p,&q,&r);\n\tdouble l1=0,r1=1;\n\twhile(r1-l1>=0.0000001)\n\t{\n\t\tdouble midl=(r1+l1*2)/3.0;\n\t\tdouble midr=(r1*2+l1)/3.0;\n\t\tif(work(midl)<work(midr))r1=midr;\n\t\telse l1=midl;\n\t}\n\tprintf(\"%.2lf\\n\",work(r1));\n}\n```\n",
        "postTime": 1616392939,
        "uid": 247269,
        "name": "MSqwq",
        "ccfLevel": 0,
        "title": "P2571 [SCOI2010]\u4f20\u9001\u5e26"
    },
    {
        "content": "## \u9898\u610f\u7b80\u8ff0\n\n\u6c42\u4eceA\u70b9\u5230D\u70b9\u7684\u6700\u77ed\u65f6\u95f4\u3002\n\n\u8f93\u5165\uff1a\n\n* A\u3001B\u3001C\u3001D\u8fd94\u4e2a\u70b9\u7684\u5750\u6807\u3002\n* \u5728AB\u4e0a\u7684\u901f\u5ea6 $P$\u3001\u5728CD\u4e0a\u7684\u901f\u5ea6 $Q$\u3001\u5728\u5e73\u9762\u7684\u79fb\u52a8\u901f\u5ea6 $R$\u3002\n\n\u8f93\u51fa\uff1a\n\n* \u8f93\u51fa\u6700\u77ed\u65f6\u95f4\u3002\n* \u4fdd\u7559\u4e24\u4f4d\u5c0f\u6570\u3002\n\n## \u9898\u76ee\u5206\u6790\n\n\u9996\u5148\u6765\u770b\u770b\u6837\u4f8b\u3002\n\n\u70b9 E \u4e3a\u7ebf\u6bb5 AB \u4e0a\u7684\u4efb\u610f\u4e00\u70b9\uff0c\u70b9 F \u4e3a\u7ebf\u6bb5 CD \u4e0a\u7684\u4efb\u610f\u4e00\u70b9\uff0c\u4ece A \u5230 D \u6240\u7528\u65f6\u95f4\u6700\u77ed\u7684\u8def\u7ebf\u663e\u7136\u5c31\u662f $\\frac{AE}{P}+\\frac{DF}{Q}+\\frac{EF}{R}$ \u7684\u6700\u5c0f\u503c\u3002\n\n![\u8349\u56fe](https://cdn.luogu.com.cn/upload/image_hosting/2x8jgdyo.png)\n\n\u5047\u5982 E \u662f\u5b9a\u70b9\uff0c\u90a3\u4e48\u8981\u627e\u6700\u4f18\u7684 F \u70b9\uff0c\u5f88\u5bb9\u6613\u5c31\u80fd\u60f3\u5230\u4e09\u5206\u3002\n\n\u800c\u73b0\u5728 E \u70b9\u4e5f\u662f\u52a8\u70b9\uff0c\u6240\u4ee5\u6211\u4eec\u5bf9\u70b9 E \u4e5f\u4f7f\u7528\u4e09\u5206\uff0c\u5373\u4e09\u5206\u5957\u4e09\u5206\uff0c\u8fd9\u6837\u5373\u53ef\u627e\u5230\u6700\u4f18\u89e3\u3002\n\n\u90a3\u4e48\u8be5\u5982\u4f55\u8fdb\u884c\u4e09\u5206\u5462\uff1f\n\n\u9996\u5148\u4e09\u5206\u9700\u8981 $midl$ \u548c $midr$ \uff0c\u8fd9\u91cc\u4f7f\u7528\u7684 $midl$\u3001$midr$ \u6709\u4e9b\u7279\u522b\u3002\u4e3a\u4e86\u4fbf\u4e8e\u8ba1\u7b97\u8ddd\u79bb\u4ee5\u53ca\u5bf9\u533a\u95f4\u8fdb\u884c\u4e09\u7b49\u5206\uff0c\u9700\u8981\u8bb0\u5f55\u70b9\u7684\u5750\u6807\uff0c\u5f53 $midl$ \u4e0e $midr$ \u6a2a\u7eb5\u5750\u6807\u90fd\u76f8\u540c\u65f6\u624d\u505c\u6b62\u4e09\u5206\u3002\u4e3a\u4e86\u907f\u514d B \u5728 A \u7684\u5de6\u8fb9\u8fd9\u6837\u7684\u95ee\u9898\uff0c\u5728\u505a\u51cf\u6cd5\u7684\u65f6\u5019\u9700\u8981\u4f7f\u7528```fabs```\u3002\n\n\u5728\u5bfb\u627e\u70b9 E \u7684\u65f6\u5019\uff0c\u7f29\u5c0f\u8303\u56f4\u65f6\u5224\u65ad $midl$ \u4e0e $midr$ \u54ea\u4e2a\u80fd\u627e\u5230\u66f4\u4f18\u7684 F\uff0c\u800c\u5728\u5bfb\u627e\u70b9 F \u65f6\uff0c\u7f29\u5c0f\u8303\u56f4\u5219\u8981\u5224\u65ad\u54ea\u4e2a\u6240\u7528\u7684\u65f6\u95f4\u6700\u5c11\u3002\n\n\u8be6\u60c5\u8bf7\u89c1\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ndouble ax, ay, bx, by, cx, cy, dx, dy;                           //A\u3001B\u3001C\u3001D\u70b9\u7684\u5750\u6807\ndouble P, Q, R;                                                  //\u901f\u5ea6\ninline double getDis(double x1, double y1, double x2, double y2) //\u7528\u4e8e\u83b7\u53d6\u4e24\u70b9\u8ddd\u79bb\n{\n    return sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n}\ninline double getTime(double x1, double y1, double x2, double y2) //\u83b7\u53d6\u6240\u9700\u7684\u65f6\u95f4\n{\n    double a = getDis(x1, y1, ax, ay); //E\u70b9\u5230A\u70b9\u7684\u8ddd\u79bb\n    double b = getDis(x2, y2, dx, dy); //F\u70b9\u5230D\u70b9\u7684\u8ddd\u79bb\n    double c = getDis(x1, y1, x2, y2); //E\u70b9\u5230F\u70b9\u7684\u8ddd\u79bb\n    return a / P + b / Q + c / R;      //\u8ba1\u7b97\u65f6\u95f4\n}\ndouble searchCD(double xx, double yy) //\u679a\u4e3eCD\u4e0a\u7684\u70b9F\n{\n    double lx, rx, ly, ry;                                 //\u5f53\u524d\u5de6\u53f3\u7aef\u70b9\u7684\u6a2a\u7eb5\u5750\u6807\n    double midlx, midrx, midly, midry;                     //\u5373midl\u548cmidr\u7684\u6a2a\u7eb5\u5750\u6807\n    lx = cx, rx = dx, ly = cy, ry = dy;                    //\u5de6\u8fb9\u754c\u8bbe\u7f6e\u4e3aC\u7684\u5750\u6807\uff0c\u53f3\u8fb9\u754c\u8bbe\u7f6e\u4e3aD\u7684\u5750\u6807\n    while (fabs(rx - lx) > 1e-10 or fabs(ry - ly) > 1e-10) //\u6a2a\u7eb5\u5750\u6807\u90fd\u76f8\u540c\u624d\u505c\u6b62\n    {\n        /*\u4e09\u7b49\u5206\u6a2a\u7eb5\u5750\u6807*/\n        midlx = lx + (rx - lx) / 3.f;\n        midrx = rx - (rx - lx) / 3.f;\n        midly = ly + (ry - ly) / 3.f;\n        midry = ry - (ry - ly) / 3.f;\n\n        if (getTime(xx, yy, midlx, midly) < getTime(xx, yy, midrx, midry)) //\u5de6\u8fb9\u7684\u7684\u66f4\u4f18\u5c31\u5411\u5de6\n        {\n            rx = midrx;\n            ry = midry;\n        }\n        else //\u5426\u5219\u5411\u53f3\n        {\n            lx = midlx;\n            ly = midly;\n        }\n    }\n    return getTime(xx, yy, midlx, midry); //\u8fd4\u56de\u5f53\u524d\u7684\u6700\u4f18\u89e3\n}\ndouble searchAB() //\u679a\u4e3eAB\u4e0a\u7684\u70b9E\n{\n    double lx, rx, ly, ry;                                 //\u5f53\u524d\u5de6\u53f3\u7aef\u70b9\u7684\u6a2a\u7eb5\u5750\u6807\n    double midlx, midrx, midly, midry;                     //\u5373midl\u548cmidr\u7684\u6a2a\u7eb5\u5750\u6807\n    lx = ax, rx = bx, ly = ay, ry = by;                    //\u5de6\u8fb9\u754c\u8bbe\u7f6e\u4e3aA\u7684\u5750\u6807\uff0c\u53f3\u8fb9\u754c\u8bbe\u7f6e\u4e3aB\u7684\u5750\u6807\n    while (fabs(rx - lx) > 1e-10 or fabs(ry - ly) > 1e-10) //\u6a2a\u7eb5\u5750\u6807\u90fd\u76f8\u540c\u624d\u505c\u6b62\n    {\n        /*\u4e09\u7b49\u5206\u6a2a\u7eb5\u5750\u6807*/\n        midlx = lx + (rx - lx) / 3.f;\n        midrx = rx - (rx - lx) / 3.f;\n        midly = ly + (ry - ly) / 3.f;\n        midry = ry - (ry - ly) / 3.f;\n\n        if (searchCD(midlx, midly) < searchCD(midrx, midry)) //\u5de6\u8fb9\u7684\u7684\u66f4\u4f18\u5c31\u5411\u5de6\n        {\n            rx = midrx;\n            ry = midry;\n        }\n        else //\u5426\u5219\u5411\u53f3\n        {\n            lx = midlx;\n            ly = midly;\n        }\n    }\n    return searchCD(lx, ly); //\u8fd4\u56de\u5f97\u5230\u7684\u7ed3\u679c\n}\nint main()\n{\n    /*\u8f93\u5165*/\n    cin >> ax >> ay >> bx >> by >> cx >> cy >> dx >> dy;\n    cin >> P >> Q >> R;\n\n    /*\u8f93\u51fa*/\n    printf(\"%.2f\\n\", searchAB());\n    return 0;\n}\n```\n",
        "postTime": 1615725749,
        "uid": 309811,
        "name": "\u4e00\u53ea\u5c0fH",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P2571 \u3010\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "Description\n\n\u9898\u76ee\u63cf\u8ff0\uff1a\n\n    \u5728\u4e00\u4e2a\u4e8c\u7ef4\u5e73\u9762\u4e0a\u6709\u4e24\u6761\u4f20\u9001\u5e26\uff0c\u6bcf\u4e00\u6761\u4f20\u9001\u5e26\u53ef\u4ee5\u770b\u6210\u662f\u4e00\u6761\u7ebf\u6bb5\u3002\u4e24\u6761\u4f20\u9001\u5e26\u5206\u522b\u4e3a\u7ebf\u6bb5AB\u548c\u7ebf\u6bb5CD\u3002\u5c0fy\u5728AB\u4e0a\u7684\u79fb\u52a8\u901f\u5ea6\u4e3aP\uff0c\u5728CD\u4e0a\u7684\u79fb\u52a8\u901f\u5ea6\u4e3aQ\uff0c\u5728\u5e73\u9762\u4e0a\u7684\u79fb\u52a8\u901f\u5ea6R\u3002\u73b0\u5728\uff0c\u5c0fy\u60f3\u4eceA\u70b9\u8d70\u5230D\u70b9\uff0c\u8bf7\u95ee\u4ed6\u6700\u5c11\u9700\u8981\u8d70\u591a\u957f\u65f6\u95f4\u3002\n\n\u8f93\u5165\u683c\u5f0f\uff1a\n\n\u7b2c\u4e00\u884c\u662f4\u4e2a\u6574\u6570\uff0c\u8868\u793aA\u548cB\u7684\u5750\u6807\uff0c\u5206\u522b\u4e3aAx\uff0cAy\uff0cBx\uff0cBy\u3002\n\n\u7b2c\u4e8c\u884c\u662f4\u4e2a\u6574\u6570\uff0c\u8868\u793aC\u548cD\u7684\u5750\u6807\uff0c\u5206\u522b\u4e3aCx\uff0cCy\uff0cDx\uff0cDy\u3002\n\n\u7b2c\u4e09\u884c\u662f3\u4e2a\u6574\u6570\uff0c\u5206\u522b\u662fP\uff0cQ\uff0cR\u3002\n\n\u8f93\u51fa\u683c\u5f0f\uff1a\n\n    \u8f93\u51fa\u4e00\u884c\u4e00\u4e2a\u6570\uff0c\u8868\u793a\u5c0fy\u4eceA\u70b9\u8d70\u5230D\u70b9\u7684\u6700\u77ed\u65f6\u95f4\uff0c\u4fdd\u7559\u5230\u5c0f\u6570\u70b9\u540e2\u4f4d\u3002\n\n\u6837\u4f8b\u8f93\u5165\uff1a\n\n0 0 0 100\n\n100 0 100 100\n\n2 2 1\n\n\u6837\u4f8b\u8f93\u51fa\uff1a\n\n136.60\n\n\u6570\u636e\u8303\u56f4\uff1a\n\n\u5bf9\u4e8e30%\u7684\u6570\u636e\u6ee1\u8db3\uff1a\n\n1<=Ax,Ay,Bx,By,Cx,Cy,Dx,Dy<=10\n\n1<=P,Q,R<=5\n\n\u5bf9\u4e8e100%\u7684\u6570\u636e\u6ee1\u8db3\uff1a\n\n1<=Ax,Ay,Bx,By,Cx,Cy,Dx,Dy<=1000\n\n1<=P,Q,R<=10\n\n\u56e0\u4e3a\u672c\u9898\u7684\u53d6\u70b9\u6240\u5bf9\u7b54\u6848\u4ea7\u751f\u7684\u5f71\u54cd\u4e0d\u6ee1\u8db3\u5355\u8c03\u6027\uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651\u4e09\u5206\u3002\n\n\u56e0\u4e3aAB\u4e0a\u8981\u53d6\u4e00\u4e2a\u70b9\uff0cCD\u4e0a\u8981\u53d6\u4e00\u4e2a\u70b9\uff0c\u6240\u4ee5\u7528\u4e09\u5206\u5957\u4e09\u5206\u3002\n\n\u7b2c\u4e00\u4e2a\u4e09\u5206AB\u4e0a\u7684\u70b9\uff0c\u7b2c\u4e8c\u4e2a\u4e09\u5206CD\u4e0a\u7684\u70b9\u4f7f\u5f97\u5728\u53d6\u7b2c\u4e00\u6b21\u4e09\u5206\u51fa\u6765\u7684\u70b9\u7684\u60c5\u51b5\u4e0b\u70b9A\u5230\u70b9D\u7684\u8ddd\u79bb\u6700\u5c0f\u3002\n\n\u4e24\u4e2a\u70b9\u7686\u53d6\u6700\u4f18\u5373\u53ef\u5f97\u5230\u5168\u5c40\u6700\u4f18\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define eps 0.0000001\nusing namespace std;\ndouble p,q,r;\nstruct data\n{\n\tdouble x,y;\n}a,b,c,d;\ndouble dis(data a,data b)\n{\n\treturn sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y));\n}\ndouble getdis(data ab,double x)//\u6c42\u4ece\u7b2c\u4e00\u6b21\u4e09\u5206\u51fa\u6765\u7684\u70b9\u5230\u7b2c\u4e8c\u6b21\u4e09\u5206\u51fa\u6765\u7684\u70b9\u5728\u5230\u70b9D\u7684\u8ddd\u79bb\n{\n\tdata cd;\n\tcd.x=c.x+(d.x-c.x)*x;\n\tcd.y=c.y+(d.y-c.y)*x;\n\treturn dis(ab,cd)/r+dis(cd,d)/q;\n}\ndouble work(double x)\n{\n\tdata ab;\n\tab.x=a.x+(b.x-a.x)*x;\n\tab.y=a.y+(b.y-a.y)*x;\n\tdouble l2=0,r2=1;\n\twhile(r2-l2>eps)//\u7b2c\u4e8c\u6b21\u4e09\u5206\n\t{\n\t\tdouble midl=(r2+l2*2)/3.0,midr=(r2*2+l2)/3.0;\n\t\tif(getdis(ab,midl)<getdis(ab,midr))\n\t\t{\n\t\t\tr2=midr;\n\t\t}else{\n\t\t\tl2=midl;\n\t\t}\n\t}\n\treturn getdis(ab,r2)+dis(a,ab)/p;\n}\nint main()\n{\n\tscanf(\"%lf%lf%lf%lf%lf%lf%lf%lf%lf%lf%lf\",&a.x,&a.y,&b.x,&b.y,&c.x,&c.y,&d.x,&d.y,&p,&q,&r);\n\tdouble l1=0,r1=1;\n\twhile(r1-l1>eps)//\u7b2c\u4e00\u6b21\u4e09\u5206\n\t{\n\t\tdouble midl=(r1+l1*2)/3.0,midr=(r1*2+l1)/3.0;\n\t\tif(work(midl)<work(midr))\n\t\t{\n\t\t\tr1=midr;\n\t\t}else{\n\t\t\tl1=midl;\n\t\t}\n\t}\n\tprintf(\"%.2lf\\n\",work(r1));//\u8f93\u51fa\u7b54\u6848\n\treturn 0;\n}\n```",
        "postTime": 1566916862,
        "uid": 103334,
        "name": "Honor\u8a89",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "### [P2571 [SCOI2010]\u4f20\u9001\u5e26](https://www.luogu.com.cn/problem/P2571)\n\n\u601d\u8def\uff1a\u4e09\u5206\u7ebf\u6bb5 $AB$  \u627e\u5230\u4e24\u70b9 $lmid$ \u548c $rmid$ \u3002\u5206\u522b\u4ee5\u8fd9\u4e24\u4e2a\u70b9\u4e3a\u76ee\u6807\u70b9\uff0c\u4e09\u5206\u7ebf\u6bb5 $CD$ \u627e\u5230 $lmid'$ \u548c $rmid'$ \u3002\u6700\u7ec8\u627e\u5230\u4e0e\u76ee\u6807\u70b9\u82b1\u8d39\u65f6\u95f4\u7684\u6700\u5c0f\u503c\uff0c\u7136\u540e\u5224\u65ad\u7f29\u5c0f\u8303\u56f4\u3002\n\n\u6ce8\u610f\u4e8b\u9879\uff1a\u7cbe\u5ea6\u4e0d\u8981\u5b9a\u592a\u9ad8\uff0c $10^{-3}$ \u5373\u53ef\uff0c\u5426\u5219\u53ef\u80fd\u4f1aWA\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define eps 1e-3//\u7cbe\u5ea6 \nusing namespace std;\nstruct node{\n\tdouble x,y;\n    node(double xx=0,double yy=0){x=xx,y=yy;}\n}a,b,c,d;\ndouble p,q,s;\ndouble dist(node a,node b)//\u6c42\u4e24\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb \n{\n\treturn sqrt((a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y));\n}\nvoid input()//\u8f93\u5165 \n{\n\tscanf(\"%lf%lf%lf%lf\",&a.x,&a.y,&b.x,&b.y);\n    scanf(\"%lf%lf%lf%lf\",&c.x,&c.y,&d.x,&d.y);\n    scanf(\"%lf%lf%lf\",&p,&q,&s);\n}\ndouble check(node mid)//\u4e09\u5206 BC \n{\n    node l(c.x,c.y),r(d.x,d.y);//\u5de6\u7aef\u70b9\u548c\u53f3\u7aef\u70b9 \n    while(fabs(l.x-r.x)>eps||fabs(l.y-r.y)>eps)\n\t{\n        node lmid(l.x+(r.x-l.x)/3,l.y+(r.y-l.y)/3);//\u4e09\u5206 \n\t\tnode rmid(r.x-(r.x-l.x)/3,r.y-(r.y-l.y)/3);\n        double dis_l=dist(lmid,d)/q+dist(lmid,mid)/s;//\u6c42\u65f6\u95f4 \n        double dis_r=dist(rmid,d)/q+dist(rmid,mid)/s;\n        if(dis_l<dis_r)//\u627e\u65f6\u95f4\u8f83\u5c0f\u7684\u70b9 \n            r.x=rmid.x,r.y=rmid.y;\n        else l.x=lmid.x,l.y=lmid.y;\n    }\n    return dist(l,d)/q+dist(l,mid)/s+dist(mid,a)/p;//\u8fd4\u56de\u6240\u9700\u65f6\u95f4 \n}\nnode solve()//\u4e09\u5206 AB \n{\n\tnode l(a.x,a.y),r(b.x,b.y);//\u5de6\u7aef\u70b9\u548c\u53f3\u7aef\u70b9 \n\twhile(fabs(l.x-r.x)>eps||fabs(l.y-r.y)>eps) \n\t{\n        node lmid(l.x+(r.x-l.x)/3,l.y+(r.y-l.y)/3);\n\t\tnode rmid(r.x-(r.x-l.x)/3,r.y-(r.y-l.y)/3);//\u4e09\u5206 \n        if(check(lmid)<check(rmid))//\u627e\u65f6\u95f4\u8f83\u5c0f\u7684\u70b9 \n            r.x=rmid.x,r.y=rmid.y;\n        else l.x=lmid.x,l.y=lmid.y;\n    }\n    return l;\n}\nint main()\n{\n\tinput();\n\tnode ans=solve();\n    printf(\"%.2lf\",check(ans));\n    return 0;\n}\n```\nPS\uff1a\u672c\u4ee3\u7801\u4e2d\u7684 $s$ \u5373\u4e3a $R$ \u3002\n\n\u8c22\u8c22\u89c2\u8d4f\u3002",
        "postTime": 1617415456,
        "uid": 306049,
        "name": "Utilokasteinn",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2571 [SCOI2010]\u4f20\u9001\u5e26"
    },
    {
        "content": "#### \u9898\u76ee\u5206\u6790\n\n\u7ed9\u5b9a\u4e8c\u7ef4\u5750\u6807\u7cfb\u4e0a\u7684\u4e24\u6761\u7ebf\u6bb5\uff0c\u53ca\u4e0a\u9762\u7684\u901f\u5ea6\uff0c\u8fd8\u6709\u5728\u6b63\u5e38\u60c5\u51b5\u4e0b\u7684\u884c\u8d70\u901f\u5ea6\uff0c\u6c42\u4e24\u4e2a\u70b9\u4e4b\u95f4\u5982\u4f55\u884c\u8d70\u65f6\u95f4\u662f\u6700\u77ed\u7684\n\n#### \u601d\u8def\n\n\u5e02\u9762\u4e0a\u5f88\u591a\u4e09\u5206\u5957\u4e09\u5206\uff0c\u6a21\u62df\u9000\u706b\uff0c\u7c92\u5b50\u7fa4\u4f18\u5316\u7b97\u6cd5\u4ec0\u4e48\u7684\u53cd\u6b63\u6211\u4e0d\u4f1aQWQ,\u770b\u770b\u8fd9\u4e2a\u9898\u76ee\u7684\u6570\u636e\u8303\u56f4\u8fd8\u662f\u53ef\u4ee5\u679a\u4e3e\u66b4\u529b\u7684\uff0c\u800c\u4e14\u8fd9\u4e2a\u601d\u8def\u7684\u590d\u6742\u5ea6\u4e0d\u4f1a\u56e0\u4e3a\u8ddd\u79bb\u800c\u6539\u53d8\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u60f3\u5230\u7684\u662f\uff0c\u6211\u4eec\u80af\u5b9a\u8981\u5148\u4ece$AB$\u4e0a\u8d70\u4e0a\u4e00\u6bb5\u8def\u7a0b\uff08\u6216\u8005\u4e0d\u8d70\uff09\uff0c\u7136\u540e\u518d\u5728\u5e73\u5730\u4e2d\u8d70\u4e0a\u4e00\u6bb5\uff08\u6216\u8005\u4e0d\u8d70\uff09\uff0c\u6700\u540e\u5728$CD$\u4e0a\u8d70\u4e0a\u4e00\u6bb5\u8def\u7a0b(\u6216\u8005\u4e0d\u8d70)\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5206\u6210\u8001\u591a\u8001\u591a\u4e2a\u5c0f\u7684\u7ebf\u6bb5\u6765\u6c42\u89e3\u5373\u53ef\uff0c\u7528\u5343\u5206\u6765\u6c42\u89e3\u8fd9\u4e2a\u95ee\u9898\n\n\u4e00\u5f00\u59cb\u7684\u65f6\u5019\uff0c\u5148\u8bbe\u5b9a\u4e00\u4e2a\u56fa\u5b9a\u7684\u5206\u6bb5\u6570\uff0c\u7136\u540e\uff0c\u628a\u6bcf\u4e00\u6761\u7ebf\u7684\u6a2a\u7eb5\u5750\u6807\u90fd\u5e73\u5747\u7684\u5206\u914d\u6210$N$\u4efd\u6765\u6c42\u89e3\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u6ee1\u8db3\u4e0a\u9762\u7684\u601d\u60f3\uff0c\u5e76\u4e14\u53ef\u4ee5\u7b80\u5355\u7684\u901a\u8fc7\u679a\u4e3e\u6765\u6c42\u5f97\u7b54\u6848\n\n\u90a3\u4e48\u5148\u4e0a\u56fe\u7406\u89e3\u4e00\u4e0b\u5427\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0233q6ba.png)\n\n\u8fd9\u4e2a\u5c31\u662f\u5176\u4e2d\u7684\u4e00\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u5148\u4ee5$A$\u4e3a\u8d77\u70b9\uff0c\u4e00\u76f4\u5230$B$\u7684\u6bcf\u4e00\u4e2a\u65ad\u70b9\u6240\u8fde\u63a5\u6210\u7684\u7ebf\u6bb5\u7684\u957f\u5ea6\u3002\n\n\u7136\u540e\u518d\u4ee5$D$\u4e3a\u8d77\u70b9\uff0c\u5206\u522b\u7b97\u51fa\u4ece$D$\u5230$C$\u7684\u6bcf\u4e00\u4e2a\u65ad\u70b9\u96e8$D$\u6240\u7ec3\u6210\u7684\u7ebf\u6bb5\u7684\u957f\u5ea6\uff0c\u5e76\u4e14\u518d\u5904\u7406\u4e00\u4e0b\u65f6\u95f4\n\n\u679a\u4e3e\u7684\u65f6\u5019\uff0c\u518d\u52a0\u4e0a\u518d\u7a7a\u767d\u5904\u884c\u8d70\u6d88\u8017\u7684\u65f6\u95f4\uff0c\u53d6\u4e00\u4e2a\u6700\u5c0f\u503c\u5373\u53ef\n\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#include<queue>\n#include<stack>\n#include<map>\nusing namespace std;\nconst int N=3000;\nstruct node{\n\tdouble x,y;\n};\nnode a,b,c,d;\ndouble P,Q,R;\ndouble ABx,ABy,CDx,CDy; \ndouble strx[N+10],stry[N+10];//\u4e24\u6761\u7ebf\u6bb5\u4e0a\u7684\u70b9\u5206\u522b\u90fd\u8fdb\u884c\u62c6\u5206\uff0c\u7136\u540e\u6bcf\u4e2a\u70b9\u5206\u522b\u5bfb\u627e\u5339\u914d\u7684\uff0cA-i~~~~j-B\uff1b\n//\u5206\u4e3a\u4e09\u6bb5\u8fc7\u7a0b\uff0c\u4e00\u6bb5\u8d70AB,\u4e00\u6bb5\u8d70\u5e73\u5730,\u4e00\u6bb5\u8d70CD  \ndouble endx[N+10],endy[N+10]; \ndouble cost1[N+10],cost2[N+10];//AB,CD,\u7ebf\u6bb5\u4e0a\u7684\u8d70\u7684\u8ddd\u79bb\u6240\u6d88\u8017\u7684\u65f6\u95f4 \ndouble ans=1e10;\ndouble gougu(int a,int b)//\u6c42\u4e24\u70b9\u8ddd\u79bb \n{\n\treturn sqrt((strx[a]-endx[b])*(strx[a]-endx[b])+(stry[a]-endy[b])*(stry[a]-endy[b]));//\u6c42\u4e24\u70b9\u7684\u516c\u5f0f\u8ddd\u79bb \n}\nvoid prepare()\n{\n\t//\u4e0d\u9700\u8981\u53d6\u7edd\u5bf9\u503c\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u53ef\u80fd\u662f\u4e00\u4e2a\u53cd\u5411\u659c\u7740\u7684\uff0c\u6240\u4ee5\u987a\u5176\u81ea\u7136\u5373\u53ef \n\tABx=(b.x-a.x)/N;\n\tABy=(b.y-a.y)/N;\n\tCDx=(d.x-c.x)/N;\n\tCDy=(d.y-c.y)/N;//\u7b97\u51fa\u6bcf\u4e00\u4e2a\u6bb5\u7684\u957f\u5ea6 \n//\tprintf(\"%.2lf %.2lf\\n\",ABx,ABy);\n//\tprintf(\"%.2lf %.2lf\\n\",CDx,CDy);\n}\nint main()\n{\n\tscanf(\"%lf%lf%lf%lf\",&a.x,&a.y,&b.x,&b.y);\n\tscanf(\"%lf%lf%lf%lf\",&c.x,&c.y,&d.x,&d.y);\n\tscanf(\"%lf%lf%lf\",&P,&Q,&R);\n\tprepare();\n\tfor(int i=0;i<=N;i++)//\u539f\u70b9\u4e5f\u662f\u4e00\u4e2a\u70b9 \n\t{\n\t\tstrx[i]=a.x+ABx*i;\n\t\tstry[i]=a.y+ABy*i;\n\t\tcost1[i]=sqrt(ABx*i*i*ABx+ABy*i*i*ABy)/P;\n\t\t//cout<<\"start x= \"<<strx[i]<<\" start y= \"<<stry[i]<<\" cost1= \"<<cost1[i]<<endl; \n\t}\n\tfor(int i=0;i<=N;i++)//\u5fc5\u987b\u662f\u4ece0\u5f00\u59cb\u627e\uff0c\u628a\u539f\u70b9\u4e5f\u5305\u8fdb\u53bb \n\t{\n\t\tendx[i]=d.x-CDx*i;\n\t\tendy[i]=d.y-CDy*i;//sb\u9519\u8bef endx[i]=d.y-CDy*i\n\t\tcost2[i]=sqrt(CDx*i*i*CDx+CDy*i*i*CDy)/Q;\n\t\t//cout<<\"end x= \"<<endx[i]<<\" end y= \"<<endy[i]<<\" cost2= \"<<cost2[i]<<endl; \n\t}\n\tfor(int i=0;i<=N;i++)\n\t\tfor(int j=0;j<=N;j++)\n\t\t{\n\t\t\tdouble k=cost1[i]+cost2[j]+(gougu(i,j)/R);\n\t\t\tans=min(ans,k);\n\t\t\t//printf(\"%.2lf\\n \",k);\n\t\t}\n\tprintf(\"%.2lf\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1608103984,
        "uid": 230804,
        "name": "Durancer",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "## 4727: \u300c\u4e00\u672c\u901a 1.2 \u7ec3\u4e60 4\u300d\u4f20\u9001\u5e26\n\n### \u9898\u89e3\u4e4b\u524d\uff08\u7ecf\u9a8c\uff09\n\n\u4e09\u5206\u6b63\u786e\u6027\u663e\u7136\uff0c\u4f46\u662f\u5982\u4f55\u60f3\u5230\u4e09\u5206\u662f\u5173\u952e\u3002\u8003\u573a\u4e0a\u660e\u663e\u6ca1\u5fc5\u8981\u8fdb\u884c\u6b63\u786e\u6027\u8bc1\u660e\uff0c\u4f46\u5e94\u8be5\u5199\u4e00\u4e2a\u7a0b\u5e8f\u6a21\u62df\u9009\u62e9\u7ebf\u6bb5\u4e0a\u4e00\u4e2a\u70b9\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u3002\u610f\u5373\uff1a\u4f60\u9700\u8981\u6253\u8868\u6765\u505a\u6570\u5b66\u9898\u3002\n\n---\n\n**\u5f15\u7406** \u82e5\u6709\u4e09\u70b9 $A,B,C$ \uff0c\u8981\u5728 $BC$ \u4e0a\u627e\u4e00\u70b9 $P$\uff0c\u4f7f $\\frac{AP}{v_1} + \\frac{PC}{v_2}$ \u6700\u5c0f\uff0c\u90a3\u4e48 $\\frac{AP}{v_1} + \\frac{PC}{v_2}$ \u662f\u5173\u4e8e $BP$ \u7684\u5355\u8c37\u51fd\u6570\u3002\uff08\u6c42\u6700\u5c0f\u503c\u53ef\u4ee5\u7528\u201c\u4e09\u5206\u201d\u89e3\u51b3\uff09  \n\u8bc1\u660e\uff1a\u4e0d\u4f1a\u8bc1\uff0c\u4f46\u6bd4\u8f83\u663e\u7136\uff0c\u53ef\u4ee5\u624b\u52a8\u6a21\u62df\u3002\n\n**\u5ef6\u4f38\u5b9a\u7406** \u82e5\u6709\u56db\u70b9 $A,B,C,D$\uff0c\u8981\u5728 $AB$ \u4e0a\u627e\u4e00\u70b9 $P$\uff0c\u5728 $CD$ \u4e0a\u627e\u4e00\u70b9 $Q$\uff0c\u4f7f $\\frac{AP}{v_1} + \\min\\{\\frac{PQ}{v_2} + \\frac{QD}{v_3}\\}$ \u6700\u5c0f\uff0c\u90a3\u4e48 $\\frac{AP}{v_1} + \\min\\{\\frac{PQ}{v_2} + \\frac{QD}{v_3}\\}$ \u662f\u5173\u4e8e $AP$ \u7684\u5355\u8c37\u51fd\u6570\u3002\uff08$\\min\\{\\frac{PQ}{v_2} + \\frac{QD}{v_3}\\}$ \u5373\u5f15\u7406\u6c42\u5f97\u7684\u7ed3\u679c\uff09\uff08\u6c42\u6700\u5c0f\u503c\u53ef\u4ee5\u4ea6\u7528\u201c\u4e09\u5206\u201d\u89e3\u51b3\uff09    \n\u8bc1\u660e\uff1a\u8ddf\u5f15\u7406\u5dee\u4e0d\u591a\uff0c\u4e5f\u662f\u4e0d\u4f1a\u8bc1\u3002\u5982\u679c\u8bc1\u51fa\u5f15\u7406\uff0c\u5219\u5ef6\u4f38\u5b9a\u7406\u6b63\u786e\u6027\u663e\u7136\u3002\n\n\u56e0\u6b64\uff0c\u539f\u95ee\u9898\u53ef\u4ee5\u8f6c\u5316\u4e3a**\u4e09\u5206\u5957\u4e09\u5206**\n\n---\n\n\u73b0\u5728\u8003\u8651\u7cbe\u5ea6\u95ee\u9898\u3002\u7531\u4e8e\u9898\u76ee\u8981\u6c42\u4fdd\u7559 2 \u4f4d\u5c0f\u6570\uff0c$eps$ \u53ef\u4ee5\u8bbe\u4e3a $10^{-5}$\n\n**\u5957\u8def** \u5bf9\u4e8e\u4e00\u9898\u8981\u6c42\u4fdd\u7559 $k$ \u4f4d\u5c0f\u6570\uff0ceps \u5e94\u5f53\u7cbe\u786e\u5230 $\\operatorname{ceil}(\\max\\{1.2k, k+3\\})$ \u4f4d\u5c0f\u6570\u4ee5\u4fdd\u8bc1\u901a\u8fc7\u3002 \n\n### \u4ee3\u7801\n\n\u5df2\u7565\u53bb\u5934\u6587\u4ef6 & I/O\u4f18\u5316\n\n```cpp\n//     \u81ea\u5df1\u9009\u62e9\u7684\u8def\uff0c\u8dea\u7740\u4e5f\u8981\u8d70\u5b8c\u3002\u670b\u53cb\u4eec\uff0c\u867d\u7136\u8fd9\u4e2a\u4e16\u754c\u65e5\u76ca\u6d6e\u8e81\u8d77\u6765\uff0c\u53ea\n// \u8981\u80fd\u591f\u4e3a\u4e86\u5f53\u65f6\u7eaf\u7cb9\u7684\u68a6\u60f3\u548c\u611f\u52a8\u575a\u6301\u52aa\u529b\u4e0b\u53bb\uff0c\u4e0d\u7ba1\u5176\u5b83\u4eba\u600e\u4e48\u6837\uff0c\u6211\u4eec\u4e5f\n// \u80fd\u591f\u4fdd\u6301\u81ea\u5df1\u7684\u672c\u8272\u8d70\u4e0b\u53bb\u3002                               \u2014\u2014\u9648\u7acb\u6770\n/*************************************\n * @problem:      4727: \u300c\u4e00\u672c\u901a 1.2 \u7ec3\u4e60 4\u300d\u4f20\u9001\u5e26.\n * @user_id:      1677.\n * @user_name:    zhaoyi20(brealid).\n * @time:         2020-06-01.\n * @language:     C++.\n * @upload_place: XOJ.\n*************************************/ \n\nint p, q, R;\n\nstruct point {\n    double x, y;\n    void readln() {\n        x = read<int>();\n        y = read<int>();\n    }\n    point operator + (const point ot) {\n        return (point){x + ot.x, y + ot.y};\n    }\n    point operator / (const double k) {\n        return (point){x / k, y / k};\n    }\n    bool operator == (const point ot) {\n        return abs(x - ot.x) < 1e-6 && abs(y - ot.y) < 1e-6;\n    }\n} A, B, C, D;\n\nbool cmp(point a, point b) {\n    return abs(a.x - b.x) < 1e-4 && abs(a.y - b.y) < 1e-4;\n}\n\ndouble dist(point p, point q, int speed) {\n    return sqrt((p.x - q.x) * (p.x - q.x) + (p.y - q.y) * (p.y - q.y)) / speed;\n}\n\ndouble sol(point a, point mid, point b, int am, int mb) {\n    // printf(\"sol({%.2lf, %.2lf}, {%.2lf, %.2lf}, {%.2lf, %.2lf}, %d, %d) = %.2lf\\n\", \n    //         a.x, a.y, mid.x, mid.y, b.x, b.y, am, mb, dist(a, mid, am) + dist(mid, b, mb));\n    return dist(a, mid, am) + dist(mid, b, mb);\n}\n\ndouble solve(point a, point b, point t, int ab) {\n    point m1, m2, l = a, r = b;\n    double ans = 1e9;\n    while (!cmp(l, r)) {\n        m1 = (l + l + r) / 3;\n        m2 = (l + r + r) / 3;\n        if (sol(a, m1, t, ab, R) < sol(a, m2, t, ab, R)) r = m2, ans = min(ans, sol(a, m1, t, ab, R));\n        else l = m1, ans = min(ans, sol(a, m2, t, ab, R));\n    }\n    return ans;\n}\n\ndouble work(point m) {\n    return dist(A, m, p) + solve(D, C, m, q);\n}\n\n#define min4(a, b, c, d) min(min(a, b), min(c, d))\n\nsigned main() {\n    A.readln(); B.readln();\n    C.readln(); D.readln();\n    p = read<int>();\n    q = read<int>();\n    R = read<int>();\n    if (A == B && C == D)  {\n        printf(\"%.2lf\\n\", dist(A, D, R));\n        return 0;\n    }\n    if (A == B) {\n        printf(\"%.2lf\\n\", solve(D, C, A, q));\n        return 0;\n    }\n    if (C == D) {\n        printf(\"%.2lf\\n\", solve(A, B, D, p));\n        return 0;\n    }\n    point m1, m2, l = A, r = B;\n    double ans = 1e9, r1, r2;\n    while (!cmp(l, r)) {\n        m1 = (l + l + r) / 3;\n        m2 = (l + r + r) / 3;\n        r1 = work(m1); r2 = work(m2);\n        if (r1 < r2) r = m2, ans = min(ans, r1);\n        else l = m1, ans = min(ans, r2);\n    }\n    printf(\"%.2lf\\n\", ans);\n    return 0;\n}\n\n// Create File Date : 2020-06-01\n```",
        "postTime": 1591010686,
        "uid": 63720,
        "name": "brealid",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "# \u9898\u76ee\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[\u6d1b\u8c37\u9898\u76ee](https://www.luogu.org/problem/P2571)\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[\u6821\u5185OJ](http://61.186.173.89:1024/contest/159/problem/3)\u3002\n# \u5206\u6790\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u786e\u5b9a\uff0clxhgww\u7684\u6700\u4f18\u79fb\u52a8\u4e00\u5b9a\u6ee1\u8db3\u89c4\u5f8b\u2014\u2014  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u5148\u4ece$A$\u6cbf\u7740$AB$\u4e0a\u8d70\u4e00\u622a\uff0c\u518d\u79bb\u5f00$AB$\u76f4\u7ebf\u8d70\u5230$CD$\u4e0a\uff0c\u6700\u540e\u6cbf\u7740$CD$\u8d70\u5230$D$\u70b9\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u8bbelxhgww\u5728$AB$\u4e0a\u8d70\u4e86$x$\uff0c$CD$\u4e0a\u8d70\u4e86$y$\uff1b\u4ece$A$\u51fa\u53d1\u6cbf\u7740$AB$\u8d70$a$\u5230\u8fbe$G(a)$\uff0c\u4ece$D$\u51fa\u53d1\u6cbf\u7740$CD$\u8d70$b$\u5230\u8fbe$H(b)$\u3002\u5e73\u9762\u4e0a\u4e24\u70b9$(x_1,y_1),(x_2,y_2)$\u95f4\u7684\u8ddd\u79bb\u4e3a$dis((x_1,y_1),(x_2,y_2))$\u5219\u4ed6\u82b1\u8d39\u7684\u65f6\u95f4\u4e3a\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$\\displaystyle f(x,y)=\\frac x P + \\frac{dis(G(x),H(y))}{R}+\\frac{y}{Q}$  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u663e\u7136\u7684\uff0c\u8fd9\u4e2a\u51fd\u6570\u53ea\u8ddf$x$\u548c$y$\u6709\u5173\u3002\u5047\u8bbe\u6211\u4eec\u5df2\u7ecf\u786e\u5b9a\u4e86$x$\u7684\u503c\uff0c\u6211\u4eec\u600e\u4e48\u627e\u5230\u6700\u4f18\u7684$y$\u5462\uff1f\u6211\u4eec\u4e0d\u96be\u60f3\u5230\u7528\u4e09\u5206\uff08\u4e0d\u4f1a\u8bc1\u660e\uff0c\u611f\u53d7\u4e00\u4e0b\u5427\uff09\u3002\u5f53$x$\u4e0d\u786e\u5b9a\u7684\u65f6\u5019\uff0c\u6211\u4eec\u540c\u6837\u53ef\u4ee5\u901a\u8fc7\u4e09\u5206\u627e\u5230\u6700\u4f18\u7684$x$\uff0c\u8fdb\u800c\u8ba1\u7b97\u51fa\u7b54\u6848\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u6ce8\u610f\u7ebf\u6bb5\u53ef\u80fd\u4f1a\u9000\u5316\u6210\u70b9\uff0c\u6570\u636e\u4e2d\u6709\u8fd9\u6837\u7684\u4e24\u7ec4\u9700\u8981\u7279\u6b8a\u5904\u7406\u3002  \n# \u4ee3\u7801\n```cpp\n#include <cmath>\n#include <cstdio>\n#include <iostream>\nusing namespace std;\n\n//#define double long double\n\nconst double eps = 1e-11;\n\ntemplate<typename _T>\nvoid read( _T &x )\n{\n\tx = 0;char s = getchar();int f = 1;\n\twhile( s > '9' || s < '0' ){if( s == '-' ) f = -1; s = getchar();}\n\twhile( s >= '0' && s <= '9' ){x = ( x << 3 ) + ( x << 1 ) + ( s - '0' ), s = getchar();}\n\tx *= f;\n}\n\ntemplate<typename _T>\nvoid write( _T x )\n{\n\tif( x < 0 ){ putchar( '-' ); x = ( ~ x ) + 1; }\n\tif( 9 < x ){ write( x / 10 ); }\n\tputchar( x % 10 + '0' );\n}\n\ntemplate<typename _T>\n_T ABS( const _T a )\n{\n\treturn a < 0 ? -a : a;\n}\n\nbool equal( const double a, const double b )\n{\n\treturn ABS( a - b ) <= eps;\n}\n\n//\u6d6e\u70b9\u6570\u8bef\u5dee\u5224\u7b49\n\nstruct point\n{\n\tdouble x, y;\n\tpoint(){}\n\tpoint( const double X, const double Y ){ x = X, y = Y; }\n\tpoint operator + ( const point & other ) const { return point( x + other.x, y + other.y ); }\n\tbool operator == ( const point & other ) const { return equal( x, other.x ) && equal( y, other.y ); }\n};\n\ndouble dist( const point &x, const point &y )\n{\n\treturn sqrt( ( x.x - y.x ) * ( x.x - y.x ) + ( x.y - y.y ) * ( x.y - y.y ) );\n}\n\nstruct segment\n{\n\tpoint st, en;\n\tsegment(){}\n\tsegment( const double sx, const double sy, const double ex, const double ey ){ st = point( sx, sy ), en = point( ex, ey ); }\n\tsegment( const point x, const point y ){ st = x, en = y; }\n\tdouble length() const { return dist( st, en ); }\n\tpoint pos( const double len ) const\n\t{\n\t\tdouble l = length(), k = len / l;\n\t\treturn point( st.x + ( en.x - st.x ) * k, st.y + ( en.y - st.y ) * k );\n\t}\n\tbool isPoint() const { return st == en; }\n}AB, CD;\n\ndouble P, Q, R;\n\ndouble cal( const point ABPos, const point CDPos )\n{\n\treturn dist( ABPos, AB.st ) / P + dist( CDPos, ABPos ) / R + dist( CDPos, CD.en ) / Q;\n}\n\ndouble E( const point ABPos )\n{\n\tif( CD.isPoint() ) return cal( ABPos, CD.st );\n\tpoint lPos, rPos;\n\tdouble l = 0, r = CD.length(), lmid, rmid;\n\twhile( r - l > eps )\n\t{\n\t\tlmid = ( l * 2 + r ) / 3, rmid = ( l + r * 2 ) / 3;\n\t\tlPos = CD.pos( lmid ), rPos = CD.pos( rmid );\n\t\tif( cal( ABPos, lPos ) < cal( ABPos, rPos ) ) r = rmid;\n\t\telse l = lmid;\n\t}\n\treturn cal( ABPos, CD.pos( l ) );\n}\n\nint main()\n{\n\tscanf( \"%lf %lf %lf %lf\", &AB.st.x, &AB.st.y, &AB.en.x, &AB.en.y );\n\tscanf( \"%lf %lf %lf %lf\", &CD.st.x, &CD.st.y, &CD.en.x, &CD.en.y );\n\tscanf( \"%lf %lf %lf\", &P, &Q, &R );\n\tif( AB.isPoint() ) return ! printf( \"%.2lf\\n\", E( AB.st ) );\n\tpoint lPos, rPos;\n\tdouble l = 0, r = AB.length(), lmid, rmid;\n\twhile( r - l > eps )\n\t{\n\t\tlmid = ( l * 2 + r ) / 3, rmid = ( l + r * 2 ) / 3;\n\t\tlPos = AB.pos( lmid ), rPos = AB.pos( rmid );\n\t\tif( E( lPos ) < E( rPos ) ) r = rmid;\n\t\telse l = lmid;\n\t}\n\tprintf( \"%.2lf\\n\", E( AB.pos( l ) ) );\n\treturn 0;\n}\n```",
        "postTime": 1567916796,
        "uid": 123809,
        "name": "crashed",
        "ccfLevel": 0,
        "title": "[LG P2571][SCOI2010]\u4f20\u9001\u5e26"
    },
    {
        "content": "\u6b63\u786e\u601d\u8def\uff1a\n# \u4e09\u5206\n\n\u65e2\u7136\u662f~~\u6bd2\u7624~~\u90a3\u4e48\u5f53\u7136\u4e0d\u4f1a\u662f\u4e09\u5206\u89e3\u6cd5\u2026\u2026\u800c\u4e14\u5728\u4f17\u591a\u4e09\u5206\u9898\u89e3\u4e2d\uff0c\u6211\u7684\u7b97\u6cd5\u5c31\u50cf\u662f\u4e00\u80a1\u6ce5\u77f3\u6d41\u3002\n\n\u8fd9\u9053\u9898\u662f\u6211\u505a\u6a21\u62df\u8d5b\u7684\u65f6\u5019\u505a\u5230\u7684\uff0c\u5f53\u65f6\u4e5f\u6ca1\u6709\u60f3\u5230\u5206\u6cbb\uff0c\u6240\u4ee5\u76f4\u63a5\u5199\u4e86\u7ebf\u6bb5\u4e0a\u66b4\u529b\u5faa\u73af\u53d6\u70b9\u2026\u2026\u8003\u8651\u679a\u4e3e\u6a2a\u5750\u6807\uff0c\u8ba1\u7b97\u7eb5\u5750\u6807\uff0c\u590d\u6742\u5ea6\u662f$O(N^2)$\u3002\n\n\u5f53\u7136\u4e5f\u8003\u8651\u8fc7\u79bb\u5f00\u7ebf\u6bb5\u7684\u5750\u6807\u53ef\u4ee5\u662f\u975e\u6574\u6570\uff08\u8be6\u89c1\u5176\u4ed6\u4e09\u5206 $dalao$ \u7684\u9898\u89e3\u4e2d\u7ed9\u51fa\u7684\u8bc1\u660e\uff09\uff0c\u6240\u4ee5\u60f3\u8fc7 $+0.1$\uff0c\u4f46\u662f\u8fd9\u6837\u5c31\u53d8\u6210 $O(100N^2)$ \u5e38\u6570\u662f\u4e00\u70b9\u90fd\u4e0d\u4f18\u79c0\uff0c\u5bb3\u6015,\u60ca\u60e7 $TLE$.\uff08\u8bdd\u8bf4 $N=1000$ \u7684\u6570\u636e\uff0c\u6015\u4ec0\u4e48\uff0c~~$O(N^3)$\u8bf4\u4e0d\u5b9a\u90fd\u80fd\u8fc7\uff01~~\uff09\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\nint minabx=min(ax,bx),maxabx=max(ax,bx);//\u5224\u65adA\uff0cB\u7684\u5de6\u53f3\u4e0a\u4e0b\u4f4d\u7f6e\nint mincdx=min(cx,dx),maxcdx=max(cx,dx);//\u540c\u4e0a\nfor(int i=minabx;i<=maxabx;i++)\n        for(int j=mincdx;j<=maxcdx;j++)\n```\n\n\u6240\u4ee5\u62b1\u7740~~\u5fc5\u6b7b\u7684\u51b3\u5fc3~~\uff0c\u6d4b\u8bc4\u4e4b\u540e90\uff01\uff01\uff01\n\u7136\u540e\u60f3\u5230\u5750\u6807\u7684\u95ee\u9898\uff0c\u6240\u4ee5~~\u52a0\u4e2a\u7cbe\u5ea6~~\uff1f\uff1f\uff1f\u628a $++$ \u6362\u6210 $+0.1$.\n\n$AC$ \u2026\u2026~~\u4e00\u5ea6\u6000\u7591\u662f\u6570\u636e\u592a\u6c34(\u5927\u96fe)~~.\n\n$Uapate:2019_{11_{7}}$ \u4ed4\u7ec6\u60f3\u60f3 \u4e09\u5206[\u4e09\u5206] \u662f $O(N^2\\log^2{N})$~~\u6211\u4e0d\u77e5\u9053~~.\n\n\u4ee5\u4e0b\u662f $AC$ \u4ee3\u7801\n\n```cpp\n#include<cstdio>\n#include<cmath>\n#include<iostream>\n#include<algorithm> \nusing namespace std;\ndouble ans=0x3f3f3f3f;\ndouble js(double,double);\ndouble cd(double,double,double,double);//\u7ebf\u6bb5\u957f \nvoid zx();//\u76f4\u7ebf\u65b9\u7a0b \ndouble abk,abh;\ndouble cdk,cdh;\nint ax,ay,bx,by;\nint cx,cy,dx,dy;\nint p,q,r;\nint flag1=0,flag2=0;//\u5e38\u89c4\u7ebf\u6bb5 \nint main()\n{\n    //freopen(\"closer.in\",\"r\",stdin);\n    //freopen(\"closer.out\",\"w\",stdout);\n    cin>>ax>>ay>>bx>>by;\n    cin>>cx>>cy>>dx>>dy;\n    cin>>p>>q>>r;\n    zx();\n    //cout<<abk<<\" \"<<abh<<\" \"<<cdk<<\" \"<<cdh<<endl;\n    double minabx=min(ax,bx),maxabx=max(ax,bx);\n    double mincdx=min(cx,dx),maxcdx=max(cx,dx); \n    double ans=cd(ax,ay,dx,dy)/r;\n    if(flag1==1)\n        minabx=min(ay,by),maxabx=max(ay,by);\n    if(flag2==1)\n        mincdx=min(cy,dy),maxcdx=max(cy,dy);\n    for(double i=minabx;i<=maxabx;i+=0.1)\n        for(double j=mincdx;j<=maxcdx;j+=0.1)\n        \tans=min(js(i,j),ans);\n    printf(\"%.2lf\",ans);\n    return 0;\n}\ndouble js(double x1,double x2)\n{\n    double ans;\n    double y1=x1*abk+abh;\n    double y2=x2*cdk+cdh;\n    if(flag1==1)\n        y1=x1,x1=ax;\n    if(flag2==1)\n        y2=x2,x2=cx;\n    double s1=cd(ax,ay,x1,y1)/p;\n    double s2=cd(x1,y1,x2,y2)/r;\n    double s3=cd(x2,y2,dx,dy)/q;\n    ans=s1+s2+s3;\n    return ans;\n}\nvoid zx()\n{\n    if(ax==bx)\n        flag1=1,abk=0;//\u7279\u5224\uff0c\u5e73\u884c\u4e8ey\u8f74 \n    else\n    \tabk=1.0*(by-ay)/(bx-ax);\n    if(cx==dx)\n        flag2=1,cdk=0;\n    else    \n        cdk=1.0*(dy-cy)/(dx-cx);\n    if(ay==by)\n        abk=0,abh=ay;//\u7279\u5224\uff0c\u5e73\u884c\u4e8ex\u8f74 \n    else\n        abh=ay-abk*ax;\n    if(cy==dy)\n        cdk=0,cdh=cy;\n    else\n        cdh=cy-cdk*cx;\n    return;\n}\ndouble cd(double a,double b,double x,double y)\n{\n    double l=sqrt((a-x)*(a-x)+(b-y)*(b-y));\n    return l;\n}\n```\n\n\u5f53\u7136\u7ebf\u6bb5\u5e73\u884c\u4e8e$y$\u8f74\u7684\u60c5\u51b5\u8981\u7279\u5224\uff0c\u4e0d\u7136\u4f1a\u51fa\u73b0 $\\div0$ \u7684\u76d1\u4ecb. \u8bdd\u8bf4~~C++\u53ef\u4ee5\u9664(double)0~~.\n\n\u540e\u6765\u548c\u5176\u4ed6$OIer$\u8ba8\u8bba\uff0c\u5f97\u77e5\u6709\u548c\u6211\u4e00\u6837\u7684\u601d\u8def(\u51fa\u73b0\u4e86**\u6df7\u5206\u5de8\u517d**)\uff0c\u4f46\u662f\u662f\u679a\u4e3e\u7ebf\u6bb5\u957f\u5ea6\uff08\u8fd9\u6837\u5c31\u8981$+=0.01$\uff09\uff0c$O(10000N^2)$\uff0c\u76f4\u63a5\u5c31 $TLE$ \u4e86.\u624d\u53d1\u73b0\u6211\u80fd\u505a\u5bf9~~\u771f\u7684\u662f\u6bd2\u7624~~.\n\n\u4e25\u8c28\u5206\u6790\u4e4b\u540e\u53d1\u73b0\uff1a\n\n\u5750\u6807\u4e3a\u6574\u6570\uff0c\u6240\u4ee5\u7ebf\u6bb5\u957f\u5ea6\u81f3\u5c11\u4e3a$1$\uff08\u957f\u5ea6\u4e3a$0$\u6ca1\u6709\u8ba1\u7b97\u7684\u610f\u4e49\uff09.\u6240\u4ee5\u679a\u4e3e\u5750\u6807\u5e26\u6765\u7684\u8bef\u5dee\u76f8\u5bf9\u4e8e\u6b63\u786e\u7b54\u6848\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\uff1f\uff1f\uff1f\n\n\u4e0d\u8fc7\u8fd8\u662f\u5efa\u8bae\u5199\u6b63\u89e3\uff0c\u867d\u7136\u53ef\u4ee5\n###### ~~\u9762\u5411\u6570\u636e\u7f16\u7a0b~~\n\n\u6e9c~~~",
        "postTime": 1550402722,
        "uid": 112389,
        "name": "CangMing",
        "ccfLevel": 0,
        "title": "P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011(\u66b4\u529b\u679a\u4e3e)"
    },
    {
        "content": "#### Description\n\n> \u7ed9\u5b9a\u4e24\u6761\u7ebf\u6bb5 AB\uff0cCD\uff0c\u5728 AB \u4e0a\u79fb\u52a8\u901f\u5ea6\u4e3a $p$\uff0c\u5728 CD \u4e0a\u79fb\u52a8\u901f\u5ea6\u4e3a $q$\uff0c\u5176\u4ed6\u5730\u65b9\u79fb\u52a8\u901f\u5ea6\u4e3a $r$\uff0c\u6c42\u4ece A \u5230 D \u9700\u8981\u7684\u6700\u5c0f\u901f\u5ea6\u3002\n\n#### Solution\n\n\u5b9a\u4e49 $d(X,M)$ \u4e3a\u70b9 X \u4e0e\u70b9 M \u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\n\n\u9996\u5148\u4e00\u4e2a\u663e\u7136\u7684\u7ed3\u8bba\uff0c\u5728 AB \u4e0a\u627e\u4e00\u70b9 P\uff0c\u5728 CD \u4e0a\u627e\u4e00\u70b9 Q\uff0c\u7b54\u6848\u5373\u4e3a $\\frac{d(A,P)}p+\\frac{d(P, Q)}r+\\frac{d(Q, D)} q$\u3002\n\n\u6211\u4eec\u5047\u8bbe P \u70b9\u5750\u6807\u662f\u786e\u5b9a\u7684\uff0c\u90a3\u4e48\u4e5f\u5c31\u662f\u6211\u4eec\u8981\u53bb\u627e $\\frac{d(P, Q)}r+\\frac{d(Q, D)} q$ \u7684\u6700\u5c0f\u503c\uff0c\u5047\u8bbe\u8fd9\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u7528  Geogebra \u753b\u4e00\u4e0b\u56fe\u8bd5\u8bd5\uff0c\u4e0d\u96be\u53d1\u73b0\u4f1a\u5b58\u5728\u4e00\u4e2a\u503c\uff08\u6216\u8005\u8fb9\u754c\uff09\u662f\u6700\u503c\uff0c\u4e5f\u5c31\u662f\u4ed6\u7b26\u5408\u533a\u95f4\u5185\u4e8c\u6b21\u51fd\u6570\u7684\u6027\u8d28\u3002\n\n\u90a3\u6211\u4eec\u56de\u5230 P \u4e0d\u56fa\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u70b9 \uff0c\u6211\u4eec\u53bb\u627e $\\frac{d(A,P)}p+\\left(\\frac{d(P, Q)}r+\\frac{d(Q, D)} q\\right)$ \u7684\u6700\u5c0f\u503c\uff0c\u62ec\u53f7\u5185\u7684\u53ef\u4ee5\u901a\u8fc7\u6211\u4eec\u53d1\u73b0\u7684\u6027\u8d28\u4e09\u5206\u5f97\u5230\uff0c\u800c\u4e0a\u9762\u8fd9\u4e2a\u4e1c\u897f\uff0c\u4e5f\u6ee1\u8db3\u4e8c\u6b21\u51fd\u6570\u533a\u95f4\u5185\u7684\u6027\u8d28\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u5916\u5c42\u4e09\u5206 P\uff0c\u7136\u540e check \u51fd\u6570\u91cc\u4e09\u5206 Q \u5373\u53ef\u3002\n\n\u4e0a\u9762\u8bf4\u7684\u6bd4\u8f83\u53cd\uff0c\u4e0b\u9762\u6b63\u7740\u68b3\u7406\u4e00\u904d\uff1a\u4e09\u5206 P\uff0ccheck \u51fd\u6570\u7684\u8fc7\u7a0b\u4e2d $\\frac{d(P, Q)}r+\\frac{d(Q, D)} q$ \u53ef\u4ee5\u901a\u8fc7\u4e09\u5206 Q\u3002\n\n\u7531\u4e8e\u4f5c\u8005\u4e0d\u600e\u4e48\u4f1a\u8bc1\u660e\u51f8\u6027\uff0c\u56e0\u6b64\u6587\u4e2d\u53ea\u80fd\u901a\u8fc7\u753b\u56fe\u7684\u65b9\u6cd5\u3002",
        "postTime": 1615193237,
        "uid": 114914,
        "name": "\u4e00\u53ea\u4e66\u866b\u4ed4",
        "ccfLevel": 4,
        "title": "P2571 \u9898\u89e3"
    },
    {
        "content": "~~\u8fd9\u9053\u9898\u7528\u4ec0\u4e48\u4e09\u5206\u5957\u4e09\u5206\u3001\u6a21\u62df\u9000\u706b\u7b97\u6cd5\u554a\uff0c\u660e\u660e\u66b4\u529b\u90fd\u53ef\u4ee5\u8fc7~~\n\n\u5f88\u663e\u7136\uff0c\u4eceA\u8d70\u5230D\u7684\u6700\u77ed\u8def\u4e00\u5b9a\u662f\u5728AB\u4e0a\u8d70\u4e00\u6bb5\uff0c\u5728\u5e73\u9762\u4e0a\u8d70\u4e00\u6bb5\uff0c\u518d\u5728CD\u4e0a\u8d70\u4e00\u6bb5\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u53ef\u4ee5\u679a\u4e3e\u5728AB\u8d70\u4e0a\u7684\u957f\u5ea6\u548c\u5728CD\u8d70\u4e0a\u7684\u957f\u5ea6\n\n\u6240\u4ee5\u6211\u4eec\u4e4b\u95f4\u628aAB\u548cCD\u5206\u62105000\u6bb5\uff0c\u679a\u4e3e\u8d70\u4e86\u51e0\u6bb5\u5c31\u53ef\u4ee5\u4e86\n\n\u53e6\u5916\u8fd8\u8981\u6ce8\u610fA\uff0cB\u70b9\u53ef\u80fd\u91cd\u5408\n\n__\u4ee3\u7801\uff1a__\n\n```cpp\n#pragma GCC optimize(2)\n#include<bits/stdc++.h>\n#define min(a,b) a>b?b:a\nusing namespace std;\nint ax,ay,bx,by,cx,cy,dx,dy,p,q,r;\ndouble ll1,ll2;\ninline double dis(double x1,double x2,double yyy,double y2){\n\treturn sqrt((x1-x2)*(x1-x2)+(yyy-y2)*(yyy-y2));\n\t//\u8ba1\u7b97\u4e24\u70b9\u95f4\u7684\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb \n} \ninline double getVaule(double l1,double l2){\n\tdouble x=double(ax)+l1/ll1*double(bx-ax),y=double(ay)+l1/ll1*double(by-ay); \n\tdouble xx=double(cx)+(ll2-l2)/dis(cx,dx,cy,dy)*double(dx-cx),yy=double(cy)+(ll2-l2)/ll2*double(dy-cy);\n\tif(bx==ax)x=0,y=0;//\u9632\u6b62A,B\u70b9\u91cd\u5408\u7684\u60c5\u51b5 \n\treturn l1/double(p)+dis(x,xx,y,yy)/double(r)+l2/double(q);\n\t//\u8ba1\u7b97\u9700\u8981\u7684\u65f6\u95f4 \n}\n#define gv getVaule\nint main(){\n\tscanf(\"%d%d%d%d\",&ax,&ay,&bx,&by);\n\tscanf(\"%d%d%d%d\",&cx,&cy,&dx,&dy);\n\tscanf(\"%d%d%d\",&p,&q,&r);\n\tll1=dis(ax,bx,ay,by);\n\tll2=dis(cx,dx,cy,dy);\n\tdouble l1=dis(ax,bx,ay,by)/5000,l2=dis(cx,dx,cy,dy)/5000,ans=1e8;\n\tfor(register int i=0;i<=5000;i++){\n\tfor(register int j=0;j<=5000;j++){\n\t\tans=min(ans,getVaule(double(i)*l1,double(j)*l2));\n\t}\n\t}\n\t//\u5206\u62105000\u6bb5\u7136\u540e\u679a\u4e3e \n\tprintf(\"%0.2lf\",ans);\n\treturn 0;\n} \n```\n",
        "postTime": 1568442432,
        "uid": 183154,
        "name": "swiftc",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "## \u601d\u8def:SA\u6a21\u62df\u9000\u706b\n\n## ~~\u590d\u6742\u5ea6$O(1)$~~\n\n### \u4e3a\u4ec0\u4e48\u662fSA?\n\n\u9996\u5148\u4e00\u770b\u4e0d\u53d7\u5230\u6574\u6570\u5f71\u54cd(\u6574\u6570\u57df\u4e0aSA\u662f\u8981\u6b7b\u4eba\u7684)\n\nSA\u5728\u89e3\u51b3\u4e8c\u7ef4\u95ee\u9898\u662f\u5c24\u5176\u7684\u9ad8\u6548.\u5c31\u7b97\u662f\u5355\u5cf0\u51fd\u6570\u4e5f\u662f\u5982\u6b64......\u56e0\u4e3aSA\u540c\u65f6\u5bf9\u4e8c\u7ef4\u8fdb\u884c\u5f71\u54cd.\n\n\u7136\u540e\u5f3a\u5236SA\u5c31\u884c\u4e86......\n\n\u4e3a\u4ec0\u4e48\u53e6\u4e00\u4f4dSA\u5927\u4f6c\u4ee3\u7801\u90a3\u4e48\u957f......\n\n```cpp\n#include<iostream>\n#include<cstdlib>\n#include<iomanip>\n#include<cmath>\nusing namespace std;\ndouble ax,bx,ay,by,cx,cy,dx,dy,p,q,r,ans=0x7fffffff;\nconst double deta=0.97;\ndouble dis(double x1,double y1,double x2,double y2){return sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));}\ndouble rd(double x1,double y1,double x2,double y2){return dis(ax,ay,x1,y1)/p+dis(x1,y1,x2,y2)/r+dis(x2,y2,dx,dy)/q;}\ndouble rng(){return 2*rand()-RAND_MAX;}//\u968f\u673a\u51fd\u6570\u52a0\u8d1f\u6570\nvoid SA(){//\u8fd9\u4e00\u7247\u90fd\u662f\u677f\u5b50\n\tdouble lab=0.5,lcd=0.5;\n\tdouble temp=2000;\n\twhile(temp>1e-7){\n\t\tdouble ab=lab+rng()*0.00003*temp,cd=lcd+rng()*0.00003*temp;\n\t\tab=min(ab,1.0),ab=max(ab,0.0),cd=min(cd,1.0),cd=max(cd,0.0);\n\t\tdouble x1=ax+(bx-ax)*ab, y1=ay+(by-ay)*ab,x2=cx+(dx-cx)*cd,y2=cy+(dy-cy)*cd,as=rd(x1,y1,x2,y2);\n\t\tif(as<ans)ans=as,lab=ab,lcd=cd;\n\t\ttemp*=deta;\n\t}\n}\nint main(){\n\tsrand(19260817);//\u66b4\u529b\u819c\u86e4\u4e0d\u53ef\u907f\n\tcin>>ax>>ay>>bx>>by>>cx>>cy>>dx>>dy>>p>>q>>r;\n\tSA();\n\tcout<<fixed<<setprecision(2)<<ans;\n}\n```",
        "postTime": 1546325749,
        "uid": 38485,
        "name": "Erina",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    },
    {
        "content": "### Solution\n\u8bbe\u8def\u5f84\u4e3a$A\\rightarrow E,E\\rightarrow F,F\\rightarrow D$\n\u90a3\u4e48\u53d1\u73b0\u6574\u4e2a\u8def\u5f84\u6240\u82b1\u65f6\u95f4\u4e3a$|AE|,|FD|$\u7684\u4e8c\u5143\u51fd\u6570.\n\n\u5982\u679c\u6211\u4eec\u56fa\u5b9a$|AE|$\u7684\u957f\u5ea6, \u90a3\u4e48\u53d1\u73b0\u8def\u5f84\u957f\u5ea6\u4e3a$|FD|$\u7684\u51fd\u6570\u5e76\u4e14\u662f\u4e00\u4e2a\u4e8c\u6b21\u51fd\u6570\u7684\u5f62\u5f0f.\u8fd9\u4e2a\u4e1c\u897f\u662f\u4e00\u4e2a\u5355\u5cf0\u51fd\u6570.(\u5199\u51fa\u5f0f\u5b50\u6765\u53d1\u73b0\u7684)\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u6c42\u51fa\u5f53$|AE|$\u56fa\u5b9a\u65f6\u8def\u5f84\u7684\u6700\u5c0f\u503c.\n\n\u7136\u540e\u8f6c\u5316\u4e3a\u600e\u4e48\u6c42\u51fa$|AE|$\u4e3a\u4f55\u503c\u65f6\u4f1a\u53d6\u5f97\u8def\u5f84\u6700\u5c0f\u503c.\n\n\u53ef\u4ee5\u611f\u6027\u7684\u7406\u89e3\u4e00\u4e0b\u5b83\u4e5f\u662f\u4e00\u4e2a\u5355\u5cf0\u51fd\u6570\u7684\u5f62\u5f0f(\u4e0d\u4f1a\u8bc1\u660e)\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u7ed3\u5408[\u4e09\u5206\u6cd5](https://www.luogu.org/problemnew/show/P3382)\u8fd9\u9053\u6a21\u677f\u9898\u6c42\u51fa\u7b54\u6848\u4e86.\n![](https://cdn.luogu.com.cn/upload/pic/22558.png)\n### \u5177\u4f53\u5b9e\u73b0\n\u4e09\u5206\u6cd5\u8fd9\u4e2a\u4e1c\u897f\u6211\u4e00\u76f4\u90fd\u4e0d\u4f1a, \u4ece\u6211\u8fd8\u4e0d\u77e5\u9053\u6709\u4e09\u5206\u6cd5\u8fd9\u4e2a\u4e1c\u897f\u7684\u65f6\u5019\u5c31\u5728\u7528**\u4e8c\u5206\u5bfc\u51fd\u6570\u96f6\u70b9**\u7684\u65b9\u5f0f\u6c34\u4e09\u5206\u6cd5\u80fd\u505a\u7684\u4e1c\u897f\u4e86\u2026\u2026233333\n\n\u5177\u4f53**\u4e8c\u5206\u5bfc\u51fd\u6570\u96f6\u70b9**\u53ef\u4ee5\u770b[\u6211\u7684blog](https://www.luogu.org/blog/aiyoupass/solution-p3382)\n\n**\u54e6, \u5bf9\u4e86, \u6570\u636e\u6bd4\u8f83\u5751\u4f1a\u51fa\u73b0\u76f4\u7ebf\u957f\u5ea6\u4e3a0\u7684\u60c5\u51b5\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u7279\u5224\u4e00\u4e0b\u5566!**\n~~\u5361\u4e86\u6211\u597d\u957f\u65f6\u95f4\u554a~~\n\n### Code\n```c++\n#include<cmath>\n#include<cstdio>\n#include<stdlib.h>\n#include<iostream>\n#define eps 1e-9\nusing namespace std;\n\nstruct Point{\n    double x,y;Point(){}Point(double _x,double _y){x=_x,y=_y;}\n    Point operator+(const Point& o)const{return Point(x+o.x,y+o.y);}\n    void input(){scanf(\"%lf%lf\",&x,&y);}\n};\nstruct Line{\n    Point a,b;double dx,dy,s,c,l;\n    Line(){}Line(Point _a,Point _b){\n        a=_a,b=_b;\n        dy=b.y-a.y,dx=b.x-a.x;\n        l=sqrt(dx*dx+dy*dy),s=dy/l,c=dx/l;\n    }\n};\nPoint haha(Line& a,double b){if(!a.l)return a.a;return Point(a.a.x+b*a.c,a.a.y+b*a.s);}\n\nPoint a,b,c,d,e,f;\ndouble p,q,r;int n;\nLine ab,cd,ef;\n\n\ndouble Check(double x){\n    f=haha(cd,x),ef=Line(e,f);\n    return ef.l/q+(cd.l-x)/r;\n}\n\ndouble check(double x){\n    e=haha(ab,x);\n    double L=0,R=cd.l,mid;\n    for(int i=1;i<=50;++i){\n        mid=(L+R)/2;\n        if(Check(mid+eps)-Check(mid-eps)>0)R=mid;\n        else L=mid;\n    }\n    return x/p+Check(L);\n}\n\nint main(){\n    a.input(),b.input(),c.input(),d.input(),\n    ab=Line(a,b),cd=Line(c,d);\n    scanf(\"%lf%lf%lf\",&p,&r,&q);\n    double l=0.0,R=ab.l,mid;\n    if(ab.l>eps)\n    for(int i=1;i<=50;++i){\n        mid=(l+R)/2;\n        if(check(mid+eps)-check(mid-eps)>0)R=mid;\n        else l=mid;\n    }\n    printf(\"%.2f\",check(l));\n    return 0;\n}\n```",
        "postTime": 1530970741,
        "uid": 39067,
        "name": "aiyougege",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2571 \u3010[SCOI2010]\u4f20\u9001\u5e26\u3011"
    }
]