[
    {
        "content": "DP\n\u4ed4\u7ec6\u5206\u6790\u9898\u76ee\u540e\u6211\u4eec\u53d1\u73b0\uff0c\u6211\u4eec\u8d70\u7684\u8def\u7ebf\u4e00\u5b9a\u662f\u5728L\u65b9\u5411\u4e25\u683c\u9012\u589e\uff0cR\u65b9\u5411\u4e25\u683c\u9012\u589e\u3002\u6211\u4eec\u81ea\u7136\u60f3\u5230\u4ee5\u70b9\u4f5c\u4e3a\u72b6\u6001\uff0c\u4f46\u8fd9\u6837\u65f6\u7a7a\u590d\u6742\u5ea6\u90fd\u662fO(N^2)\u7ea7\u522b\u7684\uff0c\u4e0d\u80fd\u627f\u53d7\u3002\u4e8e\u662f\u6211\u4eec\u8003\u8651\u4ee5\u8fb9\u4f5c\u4e3a\u4e8b\u4ef6\u6765\u89e3\u51b3\u3002\n\n\u6211\u4eec\u5148\u5bf9\u8fb9\u6392\u5e8f\uff0c\u5de6\u7aef\u70b9\u7531\u5927\u5230\u5c0f\u3002\u8fd9\u65f6\u5019\u88ab\u8fd9\u6761\u8fb9\u8fde\u63a5\u7684\u4e24\u4e2a\u70b9\u4fbf\u53ef\u4ee5\u72b6\u6001\u8f6c\u79fb\u3002\u6211\u4eec\u8bbeDPA[i]\u8868\u793a\u5de6\u8fb9\u4ee5i\u7ed3\u5c3e\u7684\u6700\u5927\u6536\u76ca\uff0cDPB[i]\u8868\u793a\u53f3\u8fb9\u4ee5i\u7ed3\u5c3e\u7684\u6700\u5927\u6536\u76ca\u3002\n\n\u5f97\u5230\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n\u5b58\u5728\u8fb9<i,j>\u65f6\n\nFL[i]=max{DL[i]+FR[j]} //\u6ce8\u610f\u8fb9\u754c\uff0c\u82e5FR[j]=0,\u5219FL[i]=max(DL[i]+DR[i]),\u4e0b\u540c\n\n    FR[j]=max{DR[j]+FL[i]} \n\n\u8f6c\u79fb\u7684\u65f6\u5019\u62ff\u4e24\u4e2a\u4e34\u65f6\u53d8\u91cf\u5b58\u4e00\u4e0b\u5c31\u884c\u4e86\n\nuses math;\n\ntype\n bridge=record\n\nl,r:longint\n\n\n\n```cpp\n end;\nvar\n dl,dr,fl,fr:array[1..40000] of int64;\n ans,x,y,u,v:int64;\n i,j,n,m,r:longint;\n a:array[1..100000] of bridge;\noperator <(a,b:bridge)c:boolean;\nbegin\n c:=(a.l<b.l)or(a.l=b.l)and(a.r<b.r)\nend;\noperator =(a,b:bridge)c:boolean;\nbegin\n c:=(a.l=b.l)and(a.r=b.r)\nend;\nprocedure sort(l,r:longint);\nvar\n i,j:longint;\n x,y:bridge;\nbegin\n if l>r then exit;\n i:=l;\n j:=r;\n x:=a[(l+r) shr 1];\n repeat\n  while a[i]<x do inc(i);\n  while x<a[j] do dec(j);\n  if i<=j then\n  begin\n   y:=a[i];\n   a[i]:=a[j];\n   a[j]:=y;\n   inc(i);\n   dec(j)\n  end\n until i>j;\n if l<j then sort(l,j);\n if i<r then sort(i,r);\nend;\nbegin\n// assign(input,'a.txt');reset(input);\n readln(n,m,r);\n for i:=1 to n do\n begin\n  readln(dl[i]);\n  if dl[i]>ans then ans:=dl[i]\n end;\n for i:=1 to m do\n begin\n  readln(dr[i]);\n  if dr[i]>ans then ans:=dr[i]\n end;\n for i:=1 to r do readln(a[i].l,a[i].r);\n sort(1,r);\n fl[a[1].l]:=dl[a[1].l]+dr[a[1].r];\n fr[a[1].r]:=fl[a[1].l];\n for i:=2 to r do\n begin\n  if a[i]=a[i-1] then continue;\n  x:=fl[a[i].l];\n  y:=fr[a[i].r];\n  u:=dl[a[i].l];\n  v:=dr[a[i].r];\n  if x=0 then fr[a[i].r]:=max(fr[a[i].r],u+v)\n   else fr[a[i].r]:=max(fr[a[i].r],x+v);\n  if y=0 then fl[a[i].l]:=max(fl[a[i].l],u+v)\n   else fl[a[i].l]:=max(fl[a[i].l],y+u)\n end;\n for i:=1 to n do if fl[i]>ans then ans:=fl[i];\n for i:=1 to m do if fr[i]>ans then ans:=fr[i];\n writeln(ans)\nend.\n```",
        "postTime": 1475718005,
        "uid": 19567,
        "name": "zx2003",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P3077 \u3010[USACO13FEB]\u8def\u7ebf\u8bbe\u8ba1Route Designing\u3011"
    },
    {
        "content": "## \u601d\u8def\n\n\u9996\u5148\uff0c\u8003\u8651\u600e\u4e48\u9009\u70b9\u624d\u80fd\u6ee1\u8db3\u9898\u76ee\u4e2d \u201c \u8def\u5f84\u4e0d\u4ea4\u53c9 \u201d \u7684\u6761\u4ef6\uff1a\n\n\u5f88\u5bb9\u6613\u60f3\u5230\uff0c\u4e00\u6761\u5408\u6cd5\u7684\u8def\u5f84\u5fc5\u987b\u6ee1\u8db3\u9009\u7684\u5de6\u90e8\u70b9\u4e00\u5b9a\u5927\u4e8e\u4e0a\u4e00\u6b21\u9009\u7684\u5de6\u90e8\u70b9\uff0c\u9009\u7684\u53f3\u90e8\u70b9\u4e00\u5b9a\u5927\u4e8e\u4e0a\u4e00\u6b21\u9009\u7684\u53f3\u90e8\u70b9\uff0c\u8fd9\u4f1a\u8ba9\u6211\u4eec\u60f3\u5230\u6392\u5e8f\uff0c\u6392\u5e8f\u540e\u987a\u5e8f\u904d\u5386\u5f97\u5230\u7684\u8def\u5f84\u5c31\u4e00\u5b9a\u4e0d\u4f1a\u4ea4\u53c9\u4e86\u3002\n\n\u5176\u6b21\uff0c\u56e0\u4e3a\u5df2\u7ecf\u6709\u5e8f\uff0c\u6bcf\u4e00\u6b21\u66f4\u65b0\u7684\u70b9\u5c31\u5df2\u7ecf\u662f\u6700\u4f18\u72b6\u51b5\uff0c\u53ef\u4ee5\u76f4\u63a5\u8f6c\u79fb\u3002\n\n## \u65b9\u6cd5\n\n$val[i][0/1]$ \u8868\u793a\u5de6(0)/\u53f3(1)\u8fb9\u7b2c $i$ \u4e2a\u9876\u70b9\u7684\u6743\u503c\u3002\n\n$f[i][0/1]$ \u8868\u793a\u8d70\u5230\u5de6(0)/\u53f3(1)\u8fb9\u7b2c $i$ \u4e2a\u9876\u70b9\u7684\u6700\u5927\u70b9\u6743\u548c\u3002\n\n\u6392\u5e8f\u65f6\u4ee5\u5de6\u90e8\u70b9\u4e3a\u7b2c\u4e00\u5173\u952e\u5b57\uff0c\u53f3\u90e8\u70b9\u4e3a\u7b2c\u4e8c\u5173\u952e\u5b57\u3002\n\n\u6700\u540e\u7edf\u8ba1\u7b54\u6848\u5373\u53ef\u3002\n\n## \u7ec6\u8282\n\n\u9898\u76ee\u4e2d R \u53ef\u4ee5\u7b49\u4e8e0\uff0c\u610f\u5473\u7740\u4e00\u5ea7\u6865\u4e5f\u6ca1\u6709\uff0c\u6b64\u65f6\u6700\u5927\u70b9\u6743\u548c\u5373\u6240\u6709\u9876\u70b9\u4e2d\u7684\u6700\u5927\u503c\u3002\n\n\u6240\u4ee5\u9700\u8981\u5728\u8f93\u5165\u65f6\u8bb0\u5f55\u6240\u6709\u70b9\u91cc\u9762\u7684\u6700\u5927\u503c\u3002\n\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define re register long long\ninline int read()\n{\n\tint x=0,f=1;char ch=getchar();\n\twhile(!isdigit(ch)){if(ch=='-')f=-1;ch=getchar();}\n\twhile(isdigit(ch)){x=(x<<3)+(x<<1)+(ch^48);ch=getchar();}\n\treturn f==1?x:-x;\n}\nconst int N=4e4+10,M=1e5+10;\nint n,m,q,f[N][2],val[N][2],ans;\npair<int,int> e[M];\nsigned main()\n{\n\tn=read(),m=read(),q=read();\n\tfor(re i=1;i<=n;++i)ans=max(ans,f[i][0]=val[i][0]=read());\n\tfor(re i=1;i<=m;++i)ans=max(ans,f[i][1]=val[i][1]=read());\n\tfor(re i=1;i<=q;++i)e[i].first=read(),e[i].second=read();\n\tsort(e+1,e+q+1);\n\tfor(re i=1;i<=q;++i)\n\t{\n\t\tint x=e[i].first,y=e[i].second,tmp=f[y][1];\n\t\tf[y][1]=max(f[y][1],f[x][0]+val[y][1]);\n\t\tf[x][0]=max(f[x][0],tmp+val[x][0]);\n\t}\n\tfor(int i=1;i<=n;++i)ans=max(ans,max(f[i][0],f[i][1]));\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1607737936,
        "uid": 158000,
        "name": "\u6ed1\u4e0d\u62c9\u7a3d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3077 \u3010[USACO13FEB]Route Design G\u3011"
    },
    {
        "content": "\u5148\u611f\u8c22\u697c\u4e0a\uff0c\u7ed9\u6211\u5e26\u4e86\u4e0d\u5c11\u7075\u611f\uff0c\u8fd9\u7bc7\u6743\u5f53\u697c\u4e0a\u7684C++\u7248\u5427\uff0c\u611f\u8c22\u697c\u4e0a\n\n#include<bits/stdc++.h>     //\u4e07\u80fd\u5934\u6587\u4ef6\uff0c\u4e0d\u8fc7\u6709\u65f6\u4e5f\u4f1a\u6709\u526f\u4f5c\u7528\n\n\n```cpp\nusing namespace std;\nstruct node{int x,y;}l[111111];\nlong long n,m,r,s,p,q,u,v,i,a[111111],b[111111],f1[111111],f2[111111];\nbool cmp(node a,node b) {return (a.x<b.x)||(a.x==b.x&&a.y<b.y);}     //\u6392\u5e8f\u7684\u5173\u952e\u5b57\nint main()\n{\n    cin>>n>>m>>r;\n    s=-99999999;\n    for (i=1;i<=n;i++)    \n    {\n        cin>>a[i];\n        s=max(s,a[i]);\n    }\n    for (i=1;i<=m;i++)    \n    {\n        cin>>b[i];\n        s=max(s,b[i]);\n    }\n    for (i=1;i<=r;i++) cin>>l[i].x>>l[i].y;   //\u524d\u9762\u5168\u5728\u8bfb\u5165\n    sort(l+1,l+1+r,cmp);     //STL\u6a21\u677f\u6392\u5e8f\n    f1[l[1].x]=a[l[1].x]+b[l[1].y];\n    f2[l[1].y]=f1[l[1].x];\n    for (i=2;i<=r;i++)\n    {\n        if (l[i].x==l[i-1].x&&l[i].y==l[i-1].y) continue;\n        p=f1[l[i].x];\n         q=f2[l[i].y];\n          u=a[l[i].x];\n          v=b[l[i].y];\n          if (p==0) f2[l[i].y]=max(f2[l[i].y],u+v); else f2[l[i].y]=max(f2[l[i].y],p+v);\n          if (q==0) f1[l[i].x]=max(f1[l[i].x],u+v); else f1[l[i].x]=max(f1[l[i].x],q+u);\n    }\n    for (i=1;i<=n;i++) s=max(f1[i],s);\n    for (i=1;i<=m;i++) s=max(f2[i],s);\n    cout<<s;\n    return 0;\n}\n\u5177\u4f53\u63a8\u5bfc\u8fc7\u7a0b\u5927\u5bb6\u8fd8\u662f\u770b\u697c\u4e0aP\u515a\u7684\u5427\uff0c\u6211\u5c31\u5f53\u4e2a\u5c0f\u5c0f\u7684\u642c\u8fd0\u5de5\u5566\n```",
        "postTime": 1501255553,
        "uid": 5057,
        "name": "XiXi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3077 \u3010[USACO13FEB]\u8def\u7ebf\u8bbe\u8ba1Route Designing\u3011"
    }
]