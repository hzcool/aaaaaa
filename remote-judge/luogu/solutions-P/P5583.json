[
    {
        "content": "$\\color{#00ff00}T2.\\ Ethan\\ and\\ sets$\n\n[$\\color{#00ff00}\\text{\u9898\u9762}$](https://www.luogu.org/problem/T99101?contestId=21489)\n\n\u5b98\u65b9\u9898\u89e3\n\n---\n\n$Sol\\ 1\\ :\\ 20-50\\ pts$\n\n\u66b4\u529b\u6c42\u89e3\uff0c\u5e94\u8be5\u80fd\u62ff\u5230 $20\\%$\uff08\u6bd5\u7adf\u662f $subtask$ \u5236\uff09\n\n\uff08\u8bf4\u4e0d\u5b9a\u7528 $bitset$ \u4f18\u5316\u80fd\u62ff\u5230 $50\\%$\uff09\n\n---\n\n$Sol\\ 2\\ :\\ 100\\ pts$\n\n$\\large{Two-pointers}$\n\n\u8fd9\u9898\u5e94\u8be5\u8fd8\u7b97\u7b80\u5355\uff0c$Two-pointers$ \u6a21\u62df\u5373\u53ef \n\n---\n\n\u76f4\u63a5\u4e0a\u4ee3\u7801\uff08\u8be6\u7ec6\u6ce8\u91ca\uff09\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\nll n,m,g,s[50005],cnt[1005],c[3005][1005],num[50005],p[50005];\nbool found=0;\nll ansb=1e18,anss,ansl,ansr;\nint main()\n{\n\tcin>>n>>m>>g;\n\tfor(int i=1;i<=g;i++){\n\t\tll x;\n\t\tscanf(\"%lld\",&x);\n\t\tp[x]=1;//\u6807\u8bb0\u4e3a\u559c\u6b22\n\t}\n\tfor(ll i=1;i<=n;i++){\n\t\tscanf(\"%lld%lld\",&s[i],&num[i]);\n\t\tfor(ll j=1;j<=num[i];j++)\n\t\t\tscanf(\"%lld\",&c[i][j]);\n\t}\n\tll l=1,r=1,sum=0,sumb=0;//\u5f53\u524d\u533a\u95f4\u4e3a [l,r) , sum = [l,r) \u7684\u9b54\u529b\u503c\u4e4b\u548c , sumb = [l,r) \u4e2d\u4e0d\u559c\u6b22\u7684\u6570\u7684\u4e2a\u6570\n\twhile(l<=n){\n\t\twhile(r<=n){\n\t\t\tbool flag=1,check=1;//flag: \u662f\u5426\u6709\u4e0d\u559c\u6b22\u7684\u6570 (1=NO,0=YES) , check: \u662f\u5426\u5168\u90e8\u5305\u542b\u4e86\u6240\u6709 Ethan \u559c\u6b22\u7684\u6570\n\t\t\tfor(ll i=1;i<=num[r];i++)\n\t\t\t\tif(!p[c[r][i]])\n\t\t\t\t\tflag=0;\n\t\t\tfor(ll i=1;i<=m;i++)\n\t\t\t\tif(p[i]&&!cnt[i])//\u559c\u6b22\u4f46\u4e0d\u5305\u542b\u7684\u6570\n\t\t\t\t\tcheck=0;\n\t\t\tif(check&&!flag)break;//\u5982\u679c\u5305\u542b\u4e86\u6240\u6709\u559c\u6b22\u7684\u6570 , \u4e14 [l,r-1] \u6bd4 [l,r] \" \u4e0d\u559c\u6b22\u7684\u6570\u7684\u4e2a\u6570 \" \u5c11 ( \u96c6\u5408 r \u6709\u4e0d\u559c\u6b22\u7684\u6570 ) , \u90a3\u5c31\u9009 [l,r-1] , \u9000\u51fa\n\t\t\tfor(ll i=1;i<=num[r];i++){//\u53f3\u7aef\u70b9\u5f80\u53f3\u79fb , \u52a0\u4e0a\u96c6\u5408 r \u7684\u6240\u6709\u5c5e\u6027\n\t\t\t\tif(!p[c[r][i]])sumb++;\n\t\t\t\tcnt[c[r][i]]++;\n\t\t\t}\n\t\t\tsum+=s[r];\n\t\t\tr++;//\u53f3\u7aef\u70b9 ++ \n\t\t}\n\t\tbool check=1;//\u8fd9\u8fb9\u8fd8\u8981\u518d\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u6709\u5168\u90e8\u559c\u6b22\u7684\u6570 , \u53ef\u80fd\u662f r>n \u4ece\u4e0a\u4e00\u4e2a whlie \u5faa\u73af\u9000\u51fa\u6765\u7684\n\t\tfor(ll i=1;i<=m;i++)\n\t\t\tif(p[i]&&!cnt[i])\n\t\t\t\tcheck=0;\n\t\tif(check){\n\t\t\tfound=1;//\u6807\u8bb0\u4e00\u4e0b\u627e\u5230\u4e86\n\t\t\tif(ansb>sumb||sumb==ansb&&anss<sum)//\u5982\u679c\u6ee1\u8db3\u66f4\u65b0\u6761\u4ef6\n\t\t\t\tansb=sumb,anss=sum,ansl=l,ansr=r-1;//\u66f4\u65b0 \n\t\t}\n\t\tfor(ll i=1;i<=num[l];i++){//\u5de6\u7aef\u70b9\u5f80\u53f3\u79fb , \u628a\u96c6\u5408 l \u7684\u6240\u6709\u5c5e\u6027\u51cf\u6389 ( \u53ef\u4ee5\u548c\u4e0a\u9762\u7684\u53f3\u7aef\u70b9\u5f80\u53f3\u79fb\u5bf9\u6bd4\u4e00\u4e0b )\n\t\t\tcnt[c[l][i]]--;\n\t\t\tif(!p[c[l][i]])sumb--;\n\t\t}\n\t\tsum-=s[l]; \n\t\tl++;//\u5de6\u7aef\u70b9 ++\n\t}\n\tif(!found) puts(\"-1\");//\u6ca1\u627e\u5230\u8f93\u51fa -1 \n\telse cout<<ansl<<\" \"<<ansr<<endl;\n}\n/*\n3 3 2\n1 2\n5 2 1 2\n5 2 1 2\n5 2 1 2\n*/\n```\n\n\u6c42\u8d5e $qwq$",
        "postTime": 1570022055,
        "uid": 123294,
        "name": "Alex_Wei",
        "ccfLevel": 10,
        "title": "\u3010SWTR-01\u3011Sweet Round 01 T2 Ethan and sets"
    },
    {
        "content": "\u55ef........A\u8fd9\u9053\u9898\u5f88\u5f00\u5fc3\uff0c\u6211\u6765\u5206\u4eab\u4e00\u4e0b\u6211\u7684\u8003\u573a\u601d\u8def\uff1a\n\n\u9996\u5148\u6ce8\u610f\uff0c\u67093000\u4e2a\u96c6\u5408\uff0c\u4f46\u662f\u6570\u5b57\u5374\u53ea\u67091000\u4e2a\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u601d\u8003\u4ece\u6570\u5b57\u4e0b\u624b\uff0c\u7136\u540e\u8003\u8651.....\n\n\u7136\u540e\u6211\u4eec\u60f3\uff0c\u600e\u4e48\u9009\u62e9\u533a\u95f4\uff0c\u4f7f\u5f97\u8986\u76d6\u6389\u6240\u6709\u7684\u6570\u5b57\uff1f\n\u55ef\uff1f\u6211\u4eec\u5f00\u4e00\u4e2avector\uff0cvector\u7684\u4e0b\u6807\u8868\u793a\u7684\u662f\u6570\u5b57\uff0c\u7136\u540e\uff0c\u540e\u9762\u8bb0\u5f55\u7684\u662f\u5b83\u8fd9\u4e2a\u6570\u5b57\u5728\u90a3\u4e9b\u533a\u95f4\u51fa\u73b0\u8fc7\uff0c\u8bfb\u5165\u533a\u95f4\u662f\u5355\u8c03\u9012\u589e\u7684\uff0c\u6240\u4ee5vector\u91cc\u9762\u7684\u5143\u7d20\u662f\u6709\u5e8f\u7684(~~\u6211\u77e5\u9053\u4f60\u61c2\u4e86~~)\uff0c\u7136\u540e\uff0c\u6211\u4eec\u7ef4\u62a4\u4e00\u4e2a\u9b54\u529b\u503c\u7684\u524d\u7f00\u548c\uff0c\u6240\u4ee5\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u77e5\u9053\u4efb\u610f\u4e00\u4e2a\u533a\u95f4\u7684\u9b54\u529b\u503c\u4e4b\u548c\uff0c\u5c31\u53ef\u4ee5\u5904\u7406\u201c\u5f97\u5269\u4f59\u96c6\u5408\u7684\u9b54\u529b\u4e4b\u548c\u5c3d\u53ef\u80fd\u5927\u201d\u8fd9\u4e2a\u95ee\u9898\uff0chate\u6570\u7ec4\u8bb0\u5f55\u7684\u5c31\u662f\u4e0d\u559c\u6b22\u7684\u4e2a\u6570\uff0c\u540c\u7406\u5c31\u662f\u4e86\uff0c\u89e3\u51b3\u201c\u5728\u5269\u4f59\u7684\u96c6\u5408\u4e2d\uff0c\u4ed6\u4e0d\u559c\u6b22\u7684\u6570\u7684\u4e2a\u6570\u5c3d\u53ef\u80fd\u5c0f\u201d\n\n\u597d\u4e86\uff0c\u63a5\u4e0b\u6765\u7684\u4e8b\u60c5\u5c31\u662f......vector\u4e2d\u4e8c\u5206\uff0c\u679a\u4e3e\u4e00\u4e2a\u533a\u95f4\u7684\u5de6\u7aef\u70b9\uff0c\u7136\u540e\u679a\u4e3e\u6bcf\u4e00\u4e2a\u6570\u5b57\uff0c\u627e\u5230\u8fd9\u4e2a\u6570\u5b57\u5728\u90a3\u4e00\u4e2a\u533a\u95f4\u51fa\u73b0\uff0c\u8fd9\u4e2a\u533a\u95f4....\u79bb\u5de6\u7aef\u70b9\u8d8a\u8fd1\u8d8a\u597d\u662f\u5427.....\u6240\u4ee5\u4e8c\u5206\uff0c~~\u662f\u4e0d\u662f\u663e\u800c\u6613\u89c1~~\uff0c\u8fd8\u6709\u4e00\u53e5\u662f\u4e3a\u4e86\u5904\u7406\u4f7f\u5f97\u9b54\u529b\u503c\u66f4\u5927\uff0c\uff0c\u4e0b\u9762\u770b\n\n\u7ed9\u5927\u5bb6\u770b\u770b\u6211\u7684\u7801\u5b50\n\n------------\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<vector>\n#define maxn 4000\n#define inf 2000000\nusing namespace std;\nint n,m,d,need[maxn],left,right;\nlong long love[maxn],hate[maxn],lastans=-1e17,lasthate=1e17;\nbool book[maxn];\nvector<int> v[maxn];\ninline int read(){\n\tregister int x=0,f=1; register char ch=getchar();\n\twhile(ch<'0'||ch>'9') {if(ch=='-') f=-1; ch=getchar();}\n\twhile(ch>='0'&&ch<='9') x=x*10+ch-'0',ch=getchar();\n\treturn x*f;\n}\nint main()\n{\n\tn=read(); m=read(); d=read();\n\tfor(int i=1;i<=d;i++) need[i]=read(),book[need[i]]=true;//\u8f93\u5165\u559c\u6b22\u7684\u6570\u5b57\u5e76\u4e14\u6807\u8bb0 \n\tfor(int i=1,temp,cnt,hated;i<=n;i++){\n\t\ttemp=read(); cnt=read();\n\t\tlove[i]=love[i-1]+temp;//\u7ef4\u62a4\u9b54\u529b\u503c\u7684\u524d\u7f00\u548c\n\t\thated=0;\n\t\tfor(int j=1;j<=cnt;j++){\n\t\t\ttemp=read();//\u8fd9\u4e2a\u662f\u6570\u5b57 \n\t\t\tif(book[temp]) v[temp].push_back(i);//\u9700\u8981\u53bb\u91cd \n\t\t\telse hated++;\n\t\t}\n\t\thate[i]=hate[i-1]+hated;//\u7ef4\u62a4\u8ba8\u538c\u7684\u6570\u5b57\u7684\u524d\u7f00\u548c \n\t}\n\tfor(int i=1;i<=d;i++) {\n\t\tif(v[need[i]].size()==0) printf(\"-1\"),exit(0);\n\t\tv[need[i]].push_back(inf);\n\t}\n\tfor(int i=1;i<=n;i++){//\u679a\u4e3e\u533a\u95f4\u7684\u8d77\u70b9 \n\t\tint r=0;\n\t\tfor(int j=1;j<=d;j++){//\u679a\u4e3e\u6bcf\u4e00\u4e2a\u6570\u5b57\uff0c\u4fdd\u8bc1\u88ab\u9009\u4e2d \n\t\t    r=max(r,v[need[j]].at(lower_bound(v[need[j]].begin(),v[need[j]].end(),i)-v[need[j]].begin()));\n\t\t}\n\t\tif(r==inf) break;//\u540e\u9762\u7684\u533a\u95f4\u4e00\u5b9a\u8986\u76d6\u4e0d\u5b8c\u4e86 \n\t\twhile(hate[r]==hate[r+1] && love[r]<love[r+1] && r!=n) r++;//\u5c3d\u91cf\u4f7fr\u66f4\u5927 \n\t\tlong long nowans=love[r]-love[i-1];\n\t\tlong long nowhate=hate[r]-hate[i-1];\n\t\tif(lasthate<nowhate) continue;\n\t\tif(lasthate!=nowhate){\n\t\t\tlasthate=nowhate;\n\t\t\tlastans=nowans,left=i,right=r;\n\t\t}\n\t\telse if(lastans<nowans) lastans=nowans,left=i,right=r;\n\t}\n\tlastans==-1e17? printf(\"-1\\n\"):printf(\"%d %d\\n\",left,right);\n\treturn 0;\n}\n```\n\u5bf9\u4e86\uff0cset\u4f1a\u88ab\u5361",
        "postTime": 1570259867,
        "uid": 164319,
        "name": "d3ac",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P5583 \u3010\u3010SWTR-01\u3011Ethan and Sets\u3011"
    },
    {
        "content": "\u8fd9\u9898\u6211\u597d\u50cf\u60f3\u591a\u4e86\uff08~~\u5c31\u662f~~\uff09\u5e76\u4e14\u8fd9\u4efd\u4ee3\u7801\u5e38\u6570\u8fc7\u5927\u8c8c\u4f3c\u91cd\u6d4b\u7684\u65f6\u5019\u88ab\u5361t\u4e00\u4e2a\u70b9\uff0c~~\u7136\u540e\u6211\u5c31\u4e0d\u8981\u8138\u7684\u5438\u6c27\u53c8\u8fc7\u4e86~~\u3002\n\n\u505a\u6cd5\uff1a\n\n\u627e\u6bcf\u4e2a\u70b9\u6700\u8fd1\u5230\u90a3\u4e2a\u70b9\u7b26\u5408\u6761\u4ef6\uff0c\u53d1\u73b0\u5177\u6709\u5355\u8c03\u6027\uff0c\u5957\u4e86\u4e2a\u4e8c\u5206\uff0c\u7528\u6811\u72b6\u6570\u7ec4\u68c0\u67e5\uff0c\u518d\u7528\u4e8c\u5206\u7279\u5224\u4e00\u4e0b\u63a5\u7740\u5f80\u540e\u8d70\u7684\u60c5\u51b5\uff08\u540e\u9762\u6ca1\u6709\u4e0d\u559c\u6b22\u7684\u6570\u4e5f\u53ef\u52a0\u8fdb\u6765\uff09\uff0c\u7136\u540e\u627e\u4e00\u4e2a\u6700\u4f18\u7684\u8f93\u51fa\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<set>\n#include<cmath>\n#include<queue>\n#include<vector>\n#include<stack>\nusing namespace std;\nconst int maxn=5005;\nint n,m,d,lk[maxn],x,y;\nint t[maxn],unlike[maxn],usum[maxn];\nbool c[maxn][maxn],like[maxn];\nint tr[maxn][maxn],far[maxn];\nint ans1,out;\nlong long ans2,sum[maxn];\nint read()\n{\n\tchar z=getchar();int x=0,y=1;\n\twhile(z<'0'||z>'9'){if(z=='-')y=-1;z=getchar();}\n\twhile(z<='9'&&z>='0'){x=x*10+z-'0';z=getchar();}\n\treturn x*y;\n}\nint lowbit(int x){return x&-x;}\nvoid add(int here,int x){\n\tfor(int i=x;i<=n;i+=lowbit(i))tr[here][i]+=1;\n}\nint quary(int here,int x){\n\tint ansl=0;\n\tfor(int i=x;i;i-=lowbit(i))ansl+=tr[here][i];\n\treturn ansl;\n}\nbool check(int l,int r)\n{\n\tfor(int i=1;i<=d;i++)\n\t{\n\t\tif(quary(i,r)-quary(i,l-1)==0)return 0;\n\t}\n\treturn 1;\n}\nint main()\n{\n\tn=read();m=read();d=read();\n\tfor(int i=1;i<=d;i++)lk[i]=read(),like[lk[i]]=1;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tt[i]=read();x=read();\n\t\tfor(int j=1;j<=x;j++)\n\t\t{\n\t\t\ty=read();\n\t\t\tif(like[y])c[i][y]=1;\n\t\t\telse unlike[i]++;\n\t\t}\n\t\tfor(int j=1;j<=d;j++)\n\t\t{\n\t\t\tif(c[i][lk[j]])add(j,i);\n\t\t}\n\t\tusum[i]=usum[i-1]+unlike[i];\n\t\tsum[i]=sum[i-1]+t[i];\n\t}\n\tans1=1e9+7;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint l=i,r=n,ans=-1;\n\t\twhile(l<=r)\n\t\t{\n\t\t\tint mid=(l+r)>>1;\n\t\t\tif(check(i,mid))ans=mid,r=mid-1;\n\t\t\telse l=mid+1;\n\t\t}\n\t\tfar[i]=ans;\n\t\tif(far[i]==-1)continue;\n\t\t//\n\t\tl=far[i],r=n,ans=-1;\n\t\twhile(l<=r)\n\t\t{\n\t\t\tint mid=(l+r)>>1;\n\t\t\tif(usum[mid]==usum[far[i]])ans=mid,l=mid+1;\n\t\t\telse r=mid-1;\n\t\t}\n\t\tfar[i]=ans;\n\t\t//\n\t\tif(usum[far[i]]-usum[i-1]<=ans1)\n\t\t{\n\t\t\tif(usum[far[i]]-usum[i-1]<ans1)ans1=usum[far[i]]-usum[i-1],ans2=sum[far[i]]-sum[i-1],out=i;\n\t\t\telse if(sum[far[i]]-sum[i-1]>ans2)ans2=sum[far[i]]-sum[i-1],out=i;\n\t\t}\n\t}\n\tif(ans1!=1e9+7)printf(\"%d %d\\n\",out,far[out]);\n\telse printf(\"%d\\n\",-1);\n\treturn 0;\n}\n```\n",
        "postTime": 1570144067,
        "uid": 121612,
        "name": "\u5728\u60f3Peach",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P5583 \u3010\u3010SWTR-01\u3011Ethan and Sets\u3011"
    },
    {
        "content": "$\\color{blue}{\\texttt{[Solution]}}$\n\n\u5148\u7edf\u8ba1\u51fa\u6bcf\u4e2a\u96c6\u5408\u4e2d\u6211\u559c\u6b22\u7684\u6570**\u5404\u6709**\u51e0\u4e2a\uff0c\u4ee5\u53ca\u6211\u4e0d\u559c\u6b22\u7684\u6570**\u4e00\u5171**\u6709\u51e0\u4e2a\uff08\u81f3\u4e8e\u6bcf\u4e2a\u6211\u4e0d\u559c\u6b22\u7684\u6570\u5404\u6709\u51e0\u4e2a\u6211\u4e0d\u5173\u5fc3\uff09\u3002\n\n\u7531\u4e8e\u6bcf\u4e2a\u533a\u95f4\u4e2d\u6211\u4e0d\u559c\u6b22\u7684\u6570\u81f3\u5c11\u90fd\u662f $0$ \u4e2a\uff0c\u6240\u4ee5\u5728\u6ee1\u8db3\u4e86\u6761\u4ef6 $1$ \u7684\u60c5\u51b5\u4e0b\uff0c\u533a\u95f4\u957f\u5ea6\u8d8a\u5927\uff0c\u8fd9\u4e2a\u533a\u95f4\u4f1a\u8d8a\u4e0d\u4f18\u3002\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u53ef\u4ee5\u7528**\u5c3a\u53d6\u6cd5**\uff08\u5373 `Two-Pointers`\uff09\u7b97\u6cd5\u6765\u6c42\u51fa\u6ee1\u8db3\u6761\u4ef6\u7684\u6700\u5c0f\u533a\u95f4\u3002\n\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c $[L,R]$ \u662f\u4ee5 $L$ \u4e3a\u5de6\u7aef\u70b9\u7684\u7b26\u5408\u6761\u4ef6\u7684\u6700\u5c0f\u533a\u95f4\uff0c\u4f46\u662f\u96c6\u5408 $R+1$ \u4e2d\u6ca1\u6709\u6211\u4e0d\u559c\u6b22\u7684\u6570\uff0c\u90a3\u4e48 $[L,R+1]$ \u662f\u4f18\u4e8e $[L,R]$\uff08\u4f60\u53ef\u4ee5\u8ba4\u4e3a\u56e0\u4e3a $t_{i}$ \u90fd\u662f\u5927\u4e8e $0$ \u7684\uff0c\u96c6\u5408 $R+1$ \u6ca1\u6709\u4efb\u4f55\u526f\u4f5c\u7528\uff0c\u4e0d\u8981\u767d\u4e0d\u8981\uff09\u3002\n\n\n\u81f3\u4e8e\u8bf4\u5982\u4f55\u5feb\u901f\u7b97\u51fa $[L,R]$ \u4e2d**\u4e00\u5171**\u6709\u591a\u5c11\u6211\u4e0d\u559c\u6b22\u7684\u6570\u548c\u6cd5\u529b\u503c\u7684\u603b\u548c\uff0c\u53ef\u4ee5\u7528**\u524d\u7f00\u548c**\u6c42\u51fa\u3002\n\n\u8fd8\u6709\u4e00\u4e2a\u5730\u65b9\uff0c\u6cd5\u529b\u503c\u7684\u524d\u7f00\u548c\u6570\u7ec4\u8bb0\u5f97\u5f00 `long long`~~\uff08\u5f53\u7136\u4e0d\u5f00\u4ed6\u53ea\u4f1a\u53cb\u5584\u5730\u6263\u4f60 $50$ \u5206\uff09~~\u3002\n\n$\\color{blue}{\\texttt{[code]}}$\n\n```cpp\nconst int N=3010,M=1010;\nlong long pret[N];//\u6ce8\u610f\u6ce8\u610f \nint Unlike[N],cnt[M],preu[N];\nint Like[N][M],n,m,d,ansL,ansR;\nmap<int,int> p;//\u559c\u6b22\u7684\u6570\u7684\u7f16\u53f7 \ninline void add(int u){\n\tfor(int i=1;i<=d;i++)\n\t\tcnt[i]+=Like[u][i];\n}\ninline void del(int u){\n\tfor(int i=1;i<=d;i++)\n\t\tcnt[i]-=Like[u][i];\n}\ninline bool check(){\n\tfor(int i=1;i<=d;i++)\n\t\tif (!cnt[i]) return false;\n\treturn true;\n}\ninline bool check(int l,int r){\n\tif (ansL==0) return true;\n\tif (preu[r]-preu[l-1]<preu[ansR]-preu[ansL-1])\n\t\treturn true;//\u4e0d\u559c\u6b22\u7684\u6570\u66f4\u5c11 \n\tif (preu[r]-preu[l-1]>preu[ansR]-preu[ansL-1])\n\t\treturn false;//\u4e0d\u559c\u6b22\u7684\u6570\u66f4\u591a \n\tif (pret[r]-pret[l-1]>pret[ansR]-pret[ansL-1])\n\t\treturn true;//\u6cd5\u529b\u7684\u548c\u66f4\u5927 \n\treturn false;//\u518d\u89c1\u5427\u6b21\u4f18\u89e3 \n}\nint main(){\n\tn=read();m=read();d=read();\n\tfor(int i=1;i<=d;i++)\n\t\tp[read()]=i;\n\tfor(int i=1;i<=n;i++){\n\t\tpret[i]=pret[i-1]+read();\n\t\tfor(int j=1,q=read(),u;j<=q;j++){\n\t\t\tu=read();\n\t\t\tif (p[u]!=0) Like[i][p[u]]++;\n\t\t\telse Unlike[i]++;\n\t\t}\n\t\tpreu[i]=preu[i-1]+Unlike[i];\n\t}\n\tfor(int l=1,r=1;l<=n;l++){\n\t\twhile (r<=n&&!check()) add(r++);\n\t\twhile (r<=n&&Unlike[r]==0) add(r++);\n//\t\t\u6ca1\u6709\u526f\u4f5c\u7528\uff0c\u4e0d\u8981\u767d\u4e0d\u8981\uff0c\u8981\u4e86\u6cd5\u529b\u548c\u66f4\u5927 \n\t\tif (check()&&check(l,r-1)) ansL=l,ansR=r-1;\n\t\tdel(l);\n\t}\n\tif (ansL==0) printf(\"-1\");\n\telse printf(\"%d %d\",ansL,ansR);\n\treturn 0;\n}\n```",
        "postTime": 1626068810,
        "uid": 95624,
        "name": "HPXXZYY",
        "ccfLevel": 7,
        "title": "the Solution of Problem P5583"
    },
    {
        "content": " \u5361\u8fc7\u53bb\u4e86\u3002\u3002\u3002\n \n \u8fd9\u9053\u9898\u76ee\u5176\u5b9e\u53ea\u8981\u4e00\u4e2a\u7b80\u5355\u7684dp\u5c31\u884c\u4e86\uff0c\u5728\u6bcf\u4e2a\u7aef\u70b9\u641c\u4e00\u6b21\uff0c\u641c\u5230\u6700\u4f18\u89e3\u4fbf\u4e0e\u5df2\u627e\u5230\u7684\u89e3\u6bd4\u4e00\u6b21\u5c31\u884c\u4e86\n \n \u8bdd\u4e0d\u591a\u8bf4\uff0c\u4e0a\u4ee3\u7801\u3002\n ```\n#include<bits/stdc++.h>\nusing namespace std;\nint minn=10000,n,m,d,r,h,k,dis[3001],x,l;\nlong long maxx,sum[3001];\nbool flag,f[3001][1001],c[3001][1001],b[1001],f1,b1[3001];\nvector<int> v;\nint main()\n{\n\tscanf(\"%d%d%d\",&n,&m,&d);\n\tfor(int i=1;i<=d;i++)\n\t{\n\t\tscanf(\"%d\",&x);\n\t\tb[x]=1;//\u8bb0\u5f55\u559c\u6b22\u7684\u6570\n\t\tv.push_back(x);\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tk=0;\n\t\tscanf(\"%d\",&x);\n\t\tsum[i]=sum[i-1]+x;\n\t\tscanf(\"%d\",&h);\n\t\tfor(int j=1;j<=h;j++)\n\t\t{\n\t\t\tscanf(\"%d\",&x);\n\t\t\tif(x>=1&&x<=m)\n\t\t\t{\n\t\t\t\tif(!b[x]) k++;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tf[i][x]=1;\n\t\t\t\t } \n\t\t\t}\n\t\t}\n\t\tif(!k) b1[i]=1;//\u8bb0\u5f55\u6ca1\u6709\u4e0d\u559c\u6b22\u7684\u6570\u7684\u70b9\n\t\tdis[i]=dis[i-1]+k;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=i;j<=n;j++)\n\t\t{\n\t\t\tf1=1;\n\t\t\tfor(int p=0;p<v.size();p++)\n\t\t\t{\n\t\t\t\tc[i][v[p]]|=f[j][v[p]];\n\t\t\t}\n\t\t\tfor(int p=0;p<v.size();p++)\n\t\t\t{\n\t\t\t\tif(!c[i][v[p]])\n\t\t\t\t{\n\t\t\t\t\tf1=0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(f1)\n\t\t\t{\n\t\t\t\twhile(b1[j+1])\n\t\t\t\t\tj++;//\u5982\u679c\u8be5\u70b9\u6709\u4e0d\u559c\u6b22\u7684\u6570\uff0c\u52a0\u5165\u5b83\u4e00\u5b9a\u4e0d\u662f\u6700\u4f18\u7684\uff0c\u53cd\u4e4b\uff0c\u52a0\u5165\u5219\u53ef\u63d0\u5347\u9b54\u529b\u503c\uff0c\u8f83\u539f\u89e3\u66f4\u4f18\n\t\t\t\tif(((dis[j]-dis[i-1])<minn)||(((dis[j]-dis[i-1])==minn)&&((sum[j]-sum[i-1])>maxx)))\n\t\t\t\t{\n\t\t\t\t\tflag=1;\n\t\t\t\t\tminn=dis[j]-dis[i-1];\n\t\t\t\t\tmaxx=sum[j]-sum[i-1];\n\t\t\t\t\tl=i;\n\t\t\t\t\tr=j;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tif(flag) printf(\"%d %d\",l,r);\n\telse printf(\"-1\");\n } \n```\n",
        "postTime": 1570173756,
        "uid": 115130,
        "name": "Eric1031",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5583 \u3010\u3010SWTR-01\u3011Ethan and Sets\u3011"
    }
]