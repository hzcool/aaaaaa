[
    {
        "content": "## ~~\u4e00\u9053\u5947\u5947\u602a\u602a\u7684\u641c\u7d22\u9898~~\n\n\u4ee5\u6211\u7684\u611f\u89c9\uff0c\u8fd9\u4e00\u9053\u9898\u9664\u4e86\u4f20\u9001\u95e8\u9700\u8981\u7279\u5224\u4e00\u4e0b\uff0c\u5e76\u6ce8\u610f\u4e0d\u8981\u91cd\u590d\u8ba1\u7b97\u8def\u5f84\uff0c\u5176\u4ed6\u5730\u65b9\u90fd\u4e0d\u7b97\u592a\u96be\u3002\n\n\u5927\u7ea6\u662f$\\color{orange}\\text{\u666e\u53ca\u7ec4T2}$\u7684\u96be\u5ea6\u3002\n\n~~\u597d\u4e86\u5e9f\u8bdd\u4e0d\u591a\u8bf4\u4e86\uff0c\u5f00\u59cb\u5207\u9898QwQ~~\n\n---\n\n$$\\color{red}\\text{\u601d\u8def}$$\n\n> \u6c42\u51faBessie\u9700\u8981\u79fb\u52a8\u5230\u51fa\u53e3\u5904\u7684\u6700\u77ed\u65f6\u95f4\n\n\u663e\u7136\u5730\uff0c\u8fd9\u9898\u7684\u601d\u8def\u5c31\u662f\uff1a\n\n> ~~\u66b4\u529b~~BFS\n\n\u5173\u4e8eBFS\u53ef\u4ee5\u5eb7\u5eb7\u6211\u5199\u7684\u53e6\u5916\u4e00\u7bc7\u9898\u89e3\uff1a\n\n[$\\text{P1443\u9a6c\u7684\u904d\u5386}$](https://www.luogu.org/blog/wwwbokecom/solution-p1443)\n\n---\n\n$$\\color{green}\\text{\u5199\u6cd5}$$\n\n\u5e7f\u641c\u7684\u4e3b\u8981\u601d\u60f3\u4fbf\u662f\u5c06\u6240\u6709\u53ef\u884c\u89e3\uff08\u53ef\u5230\u8fbe\u7684\u70b9\uff09\u653e\u5165\u961f\u5217\uff0c\u7136\u540e\u518d\u4e00\u4e2a\u4e2a\u904d\u5386\u6240\u6709\u53ef\u884c\u89e3\uff08\u53ef\u5230\u8fbe\u7684\u70b9\uff09\uff0c\u77e5\u9053\u627e\u5230\u7ec8\u70b9\u4e3a\u6b62\u3002\n\n$C++$\u7684\u4f18\u52bf\u518d\u4e00\u6b21\u663e\u73b0\u51fa\u6765\u4e86\u2014\u2014\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528$C++STL$\u4e2d\u7684$queue$\u6570\u636e\u7ed3\u6784~~C++\u4e07\u5c81\uff01~~\n\n\u5982\u4e0b\uff1a\n\n```cpp\nstruct point{//\u5b9a\u4e49\u4e00\u4e2a\u540d\u4e3apoint\u7684\u7ed3\u6784\u4f53\n\tint x;//\u5f53\u524d\u53ef\u5230\u8fbe\u70b9\u7684x\u5750\u6807\n\tint y;//\u5f53\u524d\u53ef\u5230\u8fbe\u70b9\u7684y\u5750\u6807\n\tint t;//\u5230\u8fbe\u5f53\u524d\u70b9\u7684\u6700\u5c0f\u6b65\u6570\n};\nqueue<point> que;//\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\u7c7b\u578b\u4e3apoint\u7684\u961f\u5217\n```\n\n\u4e0d\u8fc7\u8bb0\u5f97\u52a0\u4e0a\uff1a\n\n```cpp\n#include<queue>\n```\n\n\u5173\u4e8e\u5e7f\u641c\u7684\u90e8\u5206\uff1a\n\n\u4e0e\u6df1\u641c\u76f8\u540c\uff0c\u5b9a\u4e49\u5750\u6807\u504f\u79fb\u91cf\uff0c\u4ee5\u4fbf\u679a\u4e3e\u5f53\u524d\u6240\u6709\u53ef\u5230\u8fbe\u70b9\u3002\u4e0d\u540c\u70b9\u5728\u4e8e\uff0c\u6df1\u641c\u662f\u4e00\u4e2a\u6025\u6027\u5b50\uff1a\u9047\u5230\u53ef\u5230\u8fbe\u70b9\u5c31\u4e0d\u7ba1\u4e09\u4e03\u4e8c\u5341\u4e00\u76f4\u63a5\u8d70\u4e0a\u53bb\uff0c\u76f4\u5230\u8d70\u4e0d\u901a\u4e3a\u6b62\uff1b\u800c\u5e7f\u641c\u5219\u662f\u5c06\u6240\u6709\u53ef\u5230\u8fbe\u70b9\u653e\u5165\u961f\u5217\u540e\uff0c\u518d\u4e00\u4e2a\u4e2a\u904d\u5386\u3002\n\n$\\text{\u88f8\u5e7f\u641c\u6a21\u677f\uff1a}$\n\n```cpp\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};//\u5b9a\u4e49\u5750\u6807\u504f\u79fb\u91cf\nint sx,sy;//\u8d77\u70b9x\u3001y\u5750\u6807\nint vis[350][350];//vis\u6570\u7ec4\u7528\u6765\u9632\u6b62\u540c\u4e00\u4e2a\u70b9\u8bbf\u95ee\u591a\u6b21\uff0ctrue\u8868\u793a\u5df2\u8bbf\u95ee\uff0cfalse\u8868\u793a\u4e3a\u8bbf\u95ee\n\nque.push((point){sx,sy,0});//\u5c06\u8d77\u70b9\u5750\u6807\u653e\u5165\u961f\u5217\uff0c\u521d\u59cb\u6b65\u6570\u4e3a0\n\nwhile(!que.empty())//\u53ea\u8981\u8fd8\u6709\u53ef\u5230\u8fbe\u70b9\u5c31\u7ee7\u7eed\u8bbf\u95ee\uff0c\u77e5\u9053\u69a8\u5e72\u5b83\n{\n    point f=que.front();//\u63d0\u53d6\u51fa\u961f\u5934\n    que.pop();//\u5207\u8bb0\uff01\u4e00\u5b9a\u8981\u8bb0\u5f97\u5c06\u961f\u5934\u6254\u6389\uff0c\u5426\u5219\u4f1a\u6b7b\u5faa\u73af\n\n    if(a[f.x][f.y]=='=')//\u5982\u679c\u5f53\u524d\u70b9\u5c31\u662f\u7ec8\u70b9\n    {\n        cout<<f.t;//\u8f93\u51fa\u5b83\uff0c\u7ed3\u675f~\n        return 0;\n    }\n\n    for(int i=0;i<=3;i++)//\u904d\u5386\u5176\u4e0a\u4e0b\u5de6\u53f3\u76f8\u90bb\u7684\u70b9\n    {\n        //\u4e0b\u9762\u4e0e\u6df1\u641c\u57fa\u672c\u4e00\u6837\n        int nx=x+dx[i];//\u83b7\u53d6\u76f8\u90bb\u70b9\u7684x\u3001y\u5750\u6807\n        int ny=y+dy[i]; \n        if(nx>=1&&nx<=n&&ny>=1&&ny<=m&&a[nx][ny]!='#'&&!vis[nx][ny])//\u5224\u65ad\u662f\u5426\u8d8a\u754c\u3001\u662f\u5426\u649e\u5899\u3001\u5f53\u524d\u70b9\u662f\u5426\u5df2\u7ecf\u88ab\u8bbf\u95ee\u8fc7\n        {\n            que.push((point){nx,ny,f.t+1});//\u53ef\u4ee5\u8d70\u4fbf\u5c06\u5176\u653e\u5165\u961f\u5217\n            vis[nx][ny]=true;//\u6807\u8bb0\u5f53\u524d\u70b9\u5df2\u7ecf\u8d70\u8fc7\n        }\n    }\n}\n```\n\n\u7531\u4e8e\u8fd9\u9053\u9898\u52a0\u5165\u4e86\u4e00\u4e2a\u65b0\u7684\u5143\u7d20\uff1a\u4f20\u9001\u95e8\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5728\u5e7f\u641c\u4e2d\u591a\u589e\u52a0\u4e00\u4e2a\u7279\u5224\uff1a\u5f53\u524d\u662f\u5426\u4e3a\u4f20\u9001\u95e8\uff0c\u662f\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u9700\u8981\u627e\u5230\u53e6\u4e00\u4e2a\u4f20\u9001\u95e8\u6240\u5728\u5750\u6807\uff0c\u7136\u540e\u5c06\u90a3\u4e2a\u4f20\u9001\u95e8\u6240\u5728\u70b9\u7684\u5750\u6807\u50a8\u5b58\u8fdb\u961f\u5217\u3002\n\n\n$\\color{green}AC$ $\\text{Code\uff1a}$\n\n```cpp\n#include<iostream>\n#include<queue>\nusing namespace std;\nconst int N=350;\n\nstruct point{\n    int x;\n    int y;\n    int t;\n};\n\nqueue<point> que;\n\nchar a[N][N];\nbool vis[N][N];\nint n,m;\nint dx[4]={1,0,-1,0};\nint dy[4]={0,1,0,-1};\nint sx;\nint sy;\n\nvoid goto_another(int &nx,int &ny,int k)//goto_another\u51fd\u6570\u7528\u4e8e\u5bfb\u627e\u53e6\u4e00\u4e2a\u4f20\u9001\u95e8\uff0cnx\u3001ny\u4ee3\u8868\u5f53\u524d\u70b9\u7684\u5750\u6807\uff0c\u8bb0\u5f97\u8981\u52a0\u4e0a\u53d6\u5730\u5740\u7b26'&'\uff0c\u56e0\u4e3a\u6bcf\u5f53\u8d1d\u897f\u8e0f\u5165\u4e00\u4e2a\u4f20\u9001\u95e8\uff0c\u5b83\u5c31\u4f1a\u7acb\u5373\u88ab\u4f20\u9001\u81f3\u53e6\u4e00\u4e2a\u4f20\u9001\u95e8\uff0c\u4e0d\u80fd\u5728\u539f\u5730\u505c\u7559\n{\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            if(a[i][j]==a[nx][ny]&&(i!=nx||j!=ny))//\u5982\u679ca[i][j]\u8fd9\u4e2a\u70b9\u7684\u662f\u4e00\u4e2a\u4e0ea[nx][ny]\u76f8\u540c\u7684\u4f20\u9001\u95e8\uff0c\u5e76\u4e14a[i][j]\u4e0ea[nx][ny]\u4e0d\u662f\u540c\u4e00\u4e2a\u70b9\n            {\n                nx=i;//\u6539\u53d8\u5f53\u524d\u5750\u6807\uff0c\u5c06\u8d1d\u897f\u5f3a\u884c\u79fb\u52a8\u81f3\u53e6\u4e00\u4e2a\u4f20\u9001\u95e8\u5904\n                ny=j;\n                return ;//\u544a\u8f9e\n            }\n        }\n    }\n}\nint main()\n{\n    \n    cin>>n>>m;\n    string s;\n    for(int i=1;i<=n;i++)\n    {\n        cin>>s;//\u7531\u4e8e\u8f93\u5165\u5947\u5947\u602a\u602a\u5730\u6ca1\u6709\u7a7a\u683c\uff0c\u4e8e\u662f\u4e4e\u7a9d\u4fbf\u4f7f\u7528\u5b57\u7b26\u4e32\u8bfb\u5165\n        for(int j=1;j<=m;j++)\n        {\n            a[i][j]=s[j-1];\n            if(a[i][j]=='@')//\u83b7\u53d6\u8d77\u70b9\u5750\u6807\n            {\n                sx=i;\n                sy=j;\n            }\n        }\n    }\n    que.push((point){sx,sy,0});\n\n    while(!que.empty())\n    {\n        point f=que.front();\n        que.pop();\n        if(a[f.x][f.y]=='=')\n        {\n            cout<<f.t;\n            return 0;\n        }\n        if(a[f.x][f.y]>='A'&&a[f.x][f.y]<='Z')//\u7279\u5224\u90e8\u5206\uff0c\u5982\u679c\u5f53\u524d\u70b9\u662f\u4e00\u4e2a\u4f20\u9001\u95e8\uff0c\u90a3\u4e48\u5c31\u4f20\u9001\u81f3\u53e6\u4e00\u4e2a\u4f20\u9001\u95e8\n        {\n            goto_another(f.x,f.y,f.t);\n        }\n        for(int i=0;i<=3;i++)\n        {\n            int nx=f.x+dx[i];\n            int ny=f.y+dy[i];\n            if(nx>=1&&nx<=n&&ny>=1&&ny<=m&&a[nx][ny]!='#'&&!vis[nx][ny])\n            {\n                vis[nx][ny]=true;\n                que.push((point){nx,ny,f.t+1});\n            }\n        }\n    }\n    return 0;\n}\n```\n\n\u4ee5\u4e0a\u5c31\u662f\u6211\u5bf9\u8fd9\u9053~~\u5047~~\u7eff\u9898\u7684\u89e3\u6cd5\uff0c\u87f9\u87f9\u89c2\u5eb7$QwQ$",
        "postTime": 1573306671,
        "uid": 67493,
        "name": "Higanbana_",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "# P1825 \u7389\u7c73\u7530\u8ff7\u5bab\n\u8fd9\u662f\u4e00\u9053\u5e7f\u641c\u9898\u76ee\uff0c\u4f46\u662f\u6211\u82b1\u5341\u5206\u949f\u6253\u4e86\u4e00\u4e2a\u5e7f\u641c\u677f\u5b50\uff0c\u7adf\u7136T\u4e86~~\u80af\u5b9a\u662f\u6211\u6253\u5047\u4e86~~\uff0c\u6240\u4ee5\u6211\u5c31\u91c7\u7528\u4e86\u4f18\u5316\u65b9\u6cd5\uff0c\u5728\u6b64\u5199\u4e00\u79cd\u73b0\u6709\u7684\u9898\u89e3\u91cc\u6ca1\u6709\u51fa\u73b0\u7684\u65b0\u65b9\u6cd5\u2014\u2014**\u53cc\u5411\u5e7f\u641c**\uff08\uff09\n\n\u5148\u8bf4\u8fd9\u9053\u9898\u7684\u5751\u70b9\uff1a\n\n1.\u8e29\u5230\u4e00\u4e2a\u4f20\u9001\u5668\u4e0a**\u5fc5\u987b**\u4f7f\u7528\n\n2.\u4f20\u9001\u5668**\u4e0d\u4e00\u5b9a\u53ea\u7528\u4e00\u6b21**\uff0c\u6709\u53ef\u80fd\u53ea\u662f\u4e00\u4e2a\u4e2d\u8f6c\u70b9\n\n\u4f8b\u5982\uff1a\n```\n3 5\nA#@A=\n.#.#.\n.....\n\n\u8fd9\u65f6\u6211\u4eec\u7684\u6700\u77ed\u8def\u5f84\u662f\uff1a\n(1,3)->(1,4)\u76f4\u63a5\u4f20\u9001\u5230(1,1)->(2,1)->(1,1)\u76f4\u63a5\u4f20\u9001\u56de(1,4)->(1,5)\n\u5171\u56db\u6b65\nPS:\u4e3a\u4e86\u907f\u514d\u9700\u8981\u7528\u4e24\u6b21\u7684\u4f20\u9001\u5668\u5728\u7528\u7b2c\u4e00\u6b21\u65f6\u76f4\u63a5\u88ab\u8bb0\u5fc6\u5316\u6807\u8bb0\uff0c\u5bfc\u81f4\u4e4b\u540e\u4e0d\u80fd\u7528\u7b2c\u4e8c\u6b21\uff0c\u6211\u4eec\u53ea\u6807\u8bb0\u51fa\u53d1\u65f6\u7684\u90a3\u4e2a\u4f20\u9001\u5668\u5c31\u53ef\u4ee5\u4e86\uff0c\u6bd4\u5982(1,3)->(1,4)\uff0c\u6211\u4eec\u53ea\u6807\u8bb0(1,3)\u800c\u4e0d\u6807\u8bb0(1,4)\n```\n3.\u5f88\u5bb9\u6613\u53d1\u73b0\uff0c\u5728\u5751\u70b92\u63d0\u4f9b\u7684\u6570\u636e\u91cc\u6211\u4eec\u5230(1,1)\u6ca1\u6709\u76f4\u63a5\u4f20\u9001\u56de(1,4)\uff0c\u6ca1\u9519\uff0c\u4e0d\u80fd\u76f4\u63a5\u4f20\u56de\u53bb\uff0c\u9700\u8981\u5148**\u968f\u4fbf\u8d70\u4e00\u6b65\u518d\u56de\u5230\u4f20\u9001\u5668**\u4f20\u9001\uff0c\u6211\u88ab\u8fd9\u4e2a\u70b9\u5751\u4e86\u597d\u4e45\n\n4.\u663e\u800c\u6613\u89c1\u6bcf\u4e2a\u4f20\u9001\u5668\u6700\u591a\u7528\u4e24\u6b21\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u5206\u6e05\u8fd9\u4e2a\u4f20\u9001\u5668\u7a76\u7adf\u7528\u4e86\u4e00\u6b21\u8fd8\u662f\u4e24\u6b21\uff08\u666e\u901a\u5e7f\u641c\u4e0d\u9700\u8981\uff0c**\u6211\u5199\u7684**\u53cc\u5411\u5e7f\u641c**\u5fc5\u987b**\u8981~~\u53ef\u80fd\u662f\u6211\u53c8\u5199\u5047\u4e86~~\uff09\n```\n\u539f\u56e0\uff1a\n5 5\n@.A.=\n.....\n.....\n.....\n..A..\n\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u5f88\u660e\u663e\uff0c\u76f4\u63a5\u53cc\u5411\u5e7f\u641c\u4f1a\u5728(1,3)\u5904\u76f8\u9047\uff0c\u8ba1\u7b97\u7684\u7b54\u6848\u4e3a2+2=4\uff0c\u4f46\u662f\u8e29\u5230\u4f20\u9001\u5668\u5c31\u5fc5\u987b\u4f20\u9001\uff08\u89c1\u5751\u70b91\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u7684\u6700\u77ed\u8def\u5f84\u662f\uff1a\n(1,1)->(1,2)->(1,3)\u76f4\u63a5\u4f20\u9001\u81f3(5,3)->(5,4)->(5,3)\u76f4\u63a5\u4f20\u9001\u56de(1,3)->(1,4)->(1,5)\n\u5171\u516d\u6b65\n\u6240\u4ee5\u6211\u75281\u6765\u4ee3\u8868\u53ea\u7528\u4e86\u4e00\u6b21\u7684\u4f20\u9001\u5668\u6216\u8349\u5730\uff08\u5373'.'\uff09\uff0c\u75282\u6765\u4ee3\u8868\u7528\u4e86\u4e24\u6b21\uff08\u5373\u8d70\u4e86\u4e00\u4e2a\u6765\u56de\uff09\u7684\u4f20\u9001\u5668\u3002\uff08\u63a5\u4e0b\u6765\u8fd9\u53e5\u662f\u91cd\u70b9\uff09\u5982\u679c\u4e24\u4e2a\u65b9\u5411\u7684\u5e7f\u641c\u5728\u4e00\u4e2a\u4f20\u9001\u5668\u5904\u76f8\u9047\uff0c\u800c\u4e14\u4e24\u4e2a\u65b9\u5411\u90fd\u53ea\u7528\u8fc7\u8fd9\u4e2a\u4f20\u9001\u5668\u4e00\u6b21\uff0c\u90a3\u4e48\u4e0d\u80fd\u7b97\u76f8\u9047\uff08\u5982\u679c\u5728\u4f20\u9001\u5668\u5904\u76f8\u9047\u80af\u5b9a\u662f\u8d70\u8fc7\u53bb\u518d\u8d70\u56de\u6765\u624d\u884c\uff0c\u8bf7\u8bfb\u8005\u601d\u8003\u4e3a\u4ec0\u4e48\u662f\u8fd9\u6837\uff09\n```\n\n\n\u5751\u70b9\u5927\u81f4\u5c31\u6709\u8fd9\u4e9b\uff0c\u56e0\u4e3a\u76ee\u524d\u6ca1\u6709\u53cc\u5411\u5e7f\u641c\u9898\u89e3\uff0c\u6240\u4ee5\u6211\u5c31\u5206\u6bb5\u8bb2\u7684\u7ec6\u4e00\u4e9b~~\u5176\u5b9e\u662f\u4e3a\u4e86\u4e0d\u88ab\u6284~~\n\nPart 1:\n```cpp\nint main()//\u4e3b\u51fd\u6570\n{\n\tcin >> n >> m;//\u8f93\u5165\u957f\u5bbd\n\tfor (int i = 1; i <= n; i++)//\u8f93\u5165\u5730\u56fe\n\t\tfor (int j = 1; j <= m; j++)\n\t\t{\n\t\t\tcin >> c[i][j];\n\t\t\tif (c[i][j] == '@') sx = i, sy = j, vis[0][sx][sy] = 1;//\u68c0\u67e5\u5230\u8d77\u70b9\uff0c\u7528sx,sy\u8bb0\u5f55\u8d77\u70b9\u7684\u4f4d\u7f6e\uff0c\u628a\u8d77\u70b9\u8bb0\u5f55\u4e3a\u8d70\u8fc7\n\t\t\tif (c[i][j] == '=') ex = i, ey = j, vis[1][ex][ey] = 1;//\u540c\u4e0a\uff0c\u8bb0\u5f55\u7ec8\u70b9\uff0c\u7ec8\u70b9\u8bb0\u5f55\u4e3a\u8d70\u8fc7\n\t\t}\n\tcout << bfs() << endl;//\u8c03\u7528\u53cc\u5411\u5e7f\u641c\u5e76\u8f93\u51fa\n\treturn 0;\n}\n```\n\u5728\u4e3b\u51fd\u6570\uff0c\u6211\u4eec\u8f93\u5165\u957f\u5bbd\u548c\u5730\u56fe\uff0c\u5e76\u5f00\u59cb\u5976\u725b\u7684\u65c5\u884c\uff0c\u4e3b\u51fd\u6570\u91cc\u8c03\u7528\u4e86\u53cc\u5411\u5e7f\u641c\uff0c\u6240\u4ee5\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u770bbfs()\u51fd\u6570\n\nPart 2:\n```cpp\nint bfs()//\u53cc\u5411\u5e7f\u641c\n{\n\tQ[0].push(make_pair(sx, sy)), Q[1].push(make_pair(ex, ey));//\u4e24\u4e2a\u961f\u5217\u5206\u522b\u538b\u5165\u8d77\u70b9\u548c\u7ec8\u70b9\n\twhile (!Q[0].empty() && !Q[1].empty())//\u5e7f\u641c\u8981\u6c42\u8bb0\u5f55\u72b6\u6001\u7684\u961f\u5217\u4e0d\u80fd\u4e3a\u7a7a\n\t\tif (Q[0].size() < Q[1].size())//\u54ea\u4e2a\u65b9\u5411\u72b6\u6001\u5c11\u5c31\u6269\u5c55\u54ea\u4e2a\u65b9\u5411\n                { int tmp = expand(0);//\u6269\u5c55\uff0c0\u5c31\u662f\u4ece\u5976\u725b\u65b9\u5411\u5f00\u59cb\u641c\uff0c1\u5c31\u662f\u4ece\u7ec8\u70b9\u5f00\u59cb\u641c if (tmp) return tmp; //\u8fd4\u56de\u7684\u7ed3\u679c\u5982\u679c\u662f0\uff0c\u90a3\u5c31\u662f\u6ca1\u6709\u76f8\u9047\uff0c\u53cd\u4e4b\u5219\u4e3a\u76f8\u9047\uff0c\u8f93\u51fa\u8fd4\u56de\u7684\u7b54\u6848 }\n\t\telse { int tmp = expand(1); if (tmp) return tmp; }\n\treturn -1;//\u6ca1\u6709\u8def\uff08\u6b64\u9898\u4e0d\u9700\u8981\uff09\n}\n```\nPS:\u53cc\u5411\u5e7f\u641c\u57fa\u672c\u601d\u8def\uff1a\u4ece\u8d77\u70b9\u548c\u7ec8\u70b9\u5206\u522b\u5e7f\u641c\uff0c\u6bcf\u6b21\u9009\u62e9\u72b6\u6001\u5c11\u7684\u961f\u5217\u8fdb\u884c\u6269\u5c55\uff0c\u5f53\u4e24\u4e2a\u65b9\u5411\u7684\u641c\u7d22\u7b2c\u4e00\u6b21\u76f8\u9047\u65f6\uff0c\u5c31\u627e\u5230\u4e86\u6700\u4f18\u89e3\uff0c\u76f4\u63a5\u8fd4\u56de\u7b54\u6848\n\n\u5728bfs()\u91cc\uff0c\u6211\u4eec\u5199\u4e86\u53cc\u5411\u5e7f\u641c\u7684\u57fa\u672c\u601d\u8def\uff0c\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u770b\u5230\u6269\u5c55\u7528\u5230\u4e86expand()\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u6269\u5c55\u548c\u5224\u65ad\u662f\u5426\u5230\u8fbe\u7ec8\u70b9\u7684\u51fd\u6570\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u770b\u600e\u4e48\u5199expand()\n\nPart 3(\u91cd\u4e2d\u4e4b\u91cd):\n```cpp\nint expand(int sub)//sub\u4ee3\u8868\u5f53\u524d\u6269\u5c55\u7684\u65b9\u5411\n{\n\tint nowx = Q[sub].front().first, nowy = Q[sub].front().second; Q[sub].pop();//\u53d6\u51fa\u961f\u5934\uff0c\u5f39\u6389\u961f\u5934\n\tfor (int i = 1; i <= 4; i++)//\u56db\u4e2a\u65b9\u5411\u4f9d\u6b21\u5c1d\u8bd5\n\t{\n\t\tint newx = nowx + dx[i], newy = nowy + dy[i];\n\t\tif (newx >= 1 && newy >= 1 && newx <= n && newy <= m && c[newx][newy] != '#' && !vis[sub][newx][newy])//\u5982\u679c\u6ca1\u6709\u8d8a\u754c\uff0c\u4e0d\u662f\u969c\u788d\uff0c\u800c\u4e14\u6ca1\u6709\u88ab\u6807\u8bb0\n\t\t{\n\t\t\tif (c[newx][newy] >= 'A' && c[newx][newy] <= 'Z')//\u5f53\u524d\u662f\u4f20\u9001\u5668\n\t\t\t{\n\t\t\t\tint x = newx, y = newy; //\u5f53\u524d\u4f20\u9001\u5668\u4f4d\u7f6e\n\t\t\t\tvis[sub][newx][newy] = 1,/*\u5982\u679c\u5f53\u524d\u662f\u4f20\u9001\u5668\uff0c\u90a3\u6211\u4eec\u80af\u5b9a\u8fd8\u6ca1\u7528\u8fc7\uff08\u7528\u8fc7\u7684\u90fd\u6807\u8bb0\u4e86\uff09\uff0c\u6807\u8bb0\u4e3a\u7528\u4e86\u4e00\u6b21\uff08\u53731\uff09*/ cnt[sub][newx][newy] = cnt[sub][nowx][nowy] + 1;/*\u8bb0\u5f55\u6b65\u6570\uff08\u628a\u4f20\u9001\u5668\u6807\u8bb0\u4e3a2\u7684\u8fc7\u7a0b\u4e5f\u5728\u8fd9\u5b9e\u73b0\u4e86\uff09*/ handle(newx, newy);//handle\u7528\u4e8e\u627e\u5230\u53e6\u4e00\u4e2a\u4f20\u9001\u5668\u4f4d\u7f6e\n\t\t\t}\n\t\t\telse vis[sub][newx][newy] = 1;//\u5426\u5219\u5c31\u662f\u666e\u901a\u7684\u8def\uff0c\u76f4\u63a5\u75281\u6807\u8bb0\u5c31\u53ef\u4ee5\u4e86\n\t\t\tQ[sub].push(make_pair(newx, newy)), cnt[sub][newx][newy] = cnt[sub][nowx][nowy] + 1;//\u63d2\u5165\u62d3\u5c55\u51fa\u7684\u70b9\uff0c\u8ba1\u7b97\u6b65\u6570\n\t\t\tif (vis[1 - sub][newx][newy])//\u5982\u679c\u53e6\u4e00\u5c42\u7684\u8fd9\u4e00\u6b65\u4e5f\u88ab\u8d70\u8fc7\uff0c\u5c31\u8bf4\u660e\u76f8\u9047\u4e86\n\t\t\t{\n\t\t\t\tif (c[newx][newy] >= 'A' && c[newx][newy] <= 'Z')//\u5982\u679c\u5728\u4f20\u9001\u5668\u76f8\u9047\n\t\t\t\t{\n\t\t\t\t\tif (vis[1 - sub][newx][newy] == 2 || vis[sub][newx][newy] == 2)//\u5fc5\u987b\u6709\u4e00\u4e2a\u4f20\u9001\u5668\u7528\u4e86\u4e24\u6b21\uff0c\u4e0d\u7136\u53ef\u80fd\u51fa\u73b0\u5751\u70b94\u7684\u9519\u8bef\n\t\t\t\t\t\treturn cnt[1 - sub][newx][newy] + cnt[sub][newx][newy];//\u8fd4\u56de\u7b54\u6848\n\t\t\t\t}\n\t\t\t\telse return cnt[1 - sub][newx][newy] + cnt[sub][newx][newy];//\u4e0d\u662f\u4f20\u9001\u5668\u5c31\u76f4\u63a5\u8fd4\u56de\u7b54\u6848\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;//\u5982\u679c\u6700\u540e\u4e5f\u6ca1\u6709\u8fd4\u56de\u7b54\u6848\uff0c\u90a3\u5c31\u8bf4\u660e\u8fd8\u6ca1\u6709\u76f8\u9047\uff0c\u8fd4\u56de0\uff0c\u6ca1\u6709\u7b54\u6848\n}\n```\n\u5728\u6269\u5c55\u91cc\uff0c\u6211\u4eec\u8fd8\u7528\u4e86\u4e00\u4e2ahandle()\u51fd\u6570\u6765\u5bfb\u627e\u53e6\u4e00\u4e2a\u4f20\u9001\u5668\uff0c\u73b0\u5728\u6211\u4eec\u6765\u770b\u770bhandle()\n\nPart 4:\n```cpp\nvoid handle(int& x, int& y)//\u52a0'&'\u5c31\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539expand()\u91cc\u7684newx,newy\n{\n\tfor (int i = 1; i <= n; i++)\n\t\tfor (int j = 1; j <= m; j++)\n\t\t\tif (c[x][y] == c[i][j] && (x != i || y != j)) \n\t\t\t{ x = i, y = j; return; }//\u5982\u679c\u627e\u5230\u4e86\u5c31\u76f4\u63a5\u4fee\u6539\u5e76return;\n//\u5982\u679c\u4e00\u76f4\u6ca1\u6709return\u5c31\u662f\u4f20\u9001\u5668\u4e0d\u6210\u5bf9\uff0c\u4e0d\u9700\u8981\u4fee\u6539\n}\n```\nhandle()\u51fd\u6570\u5f88\u7b80\u5355\uff0c\u4e0d\u6210\u5bf9\u5c31\u4e0d\u7528\u4fee\u6539\n\n\u8fd9\u5c31\u662f\u6211\u7684\u53cc\u5411\u5e7f\u641c\u7684\u5168\u90e8\u8bb2\u89e3\u4e86\uff0c\u63a5\u4e0b\u6765\u662f~~\u5927\u5bb6\u6700\u559c\u6b22\u7684~~\u5b8c\u6574\u4ee3\u7801\n# Code(\u7528cstdio\u5e93\u91cc\u7684\u51fd\u6570\u4f18\u5316\u8fc7\uff0c\u57fa\u672c\u4e0e\u4e0a\u9762\u76f8\u540c):\n```cpp\n#include <cstdio>\n#include <queue>\n\nusing namespace std;\n\nchar c[310][310];\nint n, m, sx, sy, ex, ey, dx[5] = { 0,-1,1,0,0 }, dy[5] = { 0,0,0,-1,1 }, cnt[2][310][310] = { 0 }, vis[2][310][310] = { 0 };\nqueue<pair<int, int> >Q[2];\n\nvoid handle(int& x, int& y)\n{\n\tfor (int i = 1; i <= n; i++)\n\t\tfor (int j = 1; j <= m; j++)\n\t\t\tif (c[x][y] == c[i][j] && (x != i || y != j)) \n\t\t\t{ x = i, y = j; return; }\n}\n\nint expand(int sub)\n{\n\tint nowx = Q[sub].front().first, nowy = Q[sub].front().second; Q[sub].pop();\n\tfor (int i = 1; i <= 4; i++)\n\t{\n\t\tint newx = nowx + dx[i], newy = nowy + dy[i];\n\t\tif (newx >= 1 && newy >= 1 && newx <= n && newy <= m && c[newx][newy] != '#' && !vis[sub][newx][newy])\n\t\t{\n\t\t\tif (c[newx][newy] >= 'A' && c[newx][newy] <= 'Z')\n\t\t\t{\n\t\t\t\tint x = newx, y = newy;\n\t\t\t\tvis[sub][newx][newy] = 1, cnt[sub][newx][newy] = cnt[sub][nowx][nowy] + 1; handle(newx, newy);\n\t\t\t}\n\t\t\telse vis[sub][newx][newy] = 1;\n\t\t\tQ[sub].push(make_pair(newx, newy)), cnt[sub][newx][newy] = cnt[sub][nowx][nowy] + 1;\n\t\t\tif (vis[1 - sub][newx][newy])\n\t\t\t{\n\t\t\t\tif (c[newx][newy] >= 'A' && c[newx][newy] <= 'Z')\n\t\t\t\t{\n\t\t\t\t\tif (vis[1 - sub][newx][newy] == 2 || vis[sub][newx][newy] == 2)\n\t\t\t\t\t\treturn cnt[1 - sub][newx][newy] + cnt[sub][newx][newy];\n\t\t\t\t}\n\t\t\t\telse return cnt[1 - sub][newx][newy] + cnt[sub][newx][newy];\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n\nint bfs()\n{\n\tQ[0].push(make_pair(sx, sy)), Q[1].push(make_pair(ex, ey));\n\twhile (!Q[0].empty() && !Q[1].empty())\n\t\tif (Q[0].size() < Q[1].size()) { int tmp = expand(0); if (tmp) return tmp; }\n\t\telse { int tmp = expand(1); if (tmp) return tmp; }\n\treturn -1;\n}\n\nint main()\n{\n\tscanf(\"%d%d\", &n, &m);\n\tfor (int i = 1; i <= n; i++)\n\t{\n\t\tgetchar();\n\t\tfor (int j = 1; j <= m; j++)\n\t\t{\n\t\t\tc[i][j] = getchar();\n\t\t\tif (c[i][j] == '@') sx = i, sy = j, vis[0][sx][sy] = 1;\n\t\t\tif (c[i][j] == '=') ex = i, ey = j, vis[1][ex][ey] = 1;\n\t\t}\n\t}\n\tprintf(\"%d\", bfs());\n\treturn 0;\n}\n```\n\u6bd5\u7adf\u662f\u53cc\u5411\u5e7f\u641c\uff0c\u901f\u5ea6\u8fd8\u4e0d\u9519\n\n\u8bc4\u6d4b\u7ed3\u679c\uff1a73ms /  2.15MB /  1.95KB C++\n\n\u8fd9\u662f\u4e00\u79cd\u5168\u65b0\u7684\u65b9\u6cd5\uff0c\u76ee\u524d\u8fd8\u6ca1\u6709\u4eba\u8fd9\u4e48\u5199\uff0c\u6c42\u7ba1\u7406\u5927\u5927\u7ed9\u8fc7\n\n\u6ce8\uff1a2020/02/02 20:44 \u5220\u9664\u4e86\u7a0b\u5e8f\u4e2d\u7684\u5197\u4f59\u90e8\u5206\uff0c\u5e76\u6dfb\u52a0\u4e86\u4f18\u5316",
        "postTime": 1580644317,
        "uid": 201425,
        "name": "lzxhdxx",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u5176\u5b9e\u5f88\u7b80\u5355\u7684\u3002\u666e\u901a\u7684\u7684\u641c\u7d22\u5c31\u53ef\u4ee5\u4e86\uff0c\u5e9f\u8bdd\u4e0d\u8bf4\uff0c\u4e0a\u4ee3\u7801\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint a[500][500],qx,qy,zx,zy,cz1,cz2,bj[500][500],n,m;\nint d[4][2]= {{-1,0},{1,0},{0,-1},{0,1}};\nstruct node\n{\n\tint x;\n\tint y;\n\tint bs;\n} ans[101010];\nint cz(int x,int y)\n{\n\tfor(int i=1; i<=n; i++)\n\t{\n\t\tfor(int j=1; j<=m; j++)\n\t\t{\n\t\t\tif(!(i==x&&j==y))//\u6ce8\u610f\u4e0d\u80fd\u4e0e\u539f\u70b9\u76f8\u540c\n\t\t\t{\n\t\t\t\tif(a[i][j]==a[x][y])//\u76f4\u63a5\u5224\u65ad\u5339\u914d\n\t\t\t\t{\n\t\t\t\t\tcz1=i;\n\t\t\t\t\tcz2=j;\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nint bfs()\n{\n\tint head=0,tail=1;\n\tdo\n\t{\n\t\thead++;\n\t\tif(a[ans[head].x][ans[head].y]>='A'&&a[ans[head].x][ans[head].y]<='Z')//\u5224\u65ad\u662f\u4e0d\u662f\u811a\u8e29\u4f20\u9001\u95e8\n\t\t{\n\t\t\tcz(ans[head].x,ans[head].y);//\u627e\u5230\u5bf9\u5e94\u7684\u4f20\u9001\u95e8\u5750\u6807\n\t\t\tans[head].x=cz1;\n\t\t\tans[head].y=cz2;\n\t\t}\n\t\tfor(int i=0; i<4; i++)\n\t\t{\n\t\t\tint xx=ans[head].x+d[i][0];\n\t\t\tint yy=ans[head].y+d[i][1];\n\t\t\tif(a[xx][yy]!=0&&bj[xx][yy]==0)//\u5e7f\u641c\n\t\t\t{\n\t\t\t\tbj[xx][yy]=1;\n\t\t\t\ttail++;\n\t\t\t\tans[tail].x=xx;\n\t\t\t\tans[tail].y=yy;\n\t\t\t\tans[tail].bs=ans[head].bs+1;\n\t\t\t\tif(xx==zx&&yy==zy)//\u5224\u76ee\u6807\n\t\t\t\t{\n\t\t\t\t\tprintf(\"%d\\n\",ans[tail].bs);\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\twhile(head<tail);\n}\nint main()\n{\n\tchar s;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1; i<=n; i++)\n\t{\n\t\tfor(int j=1; j<=m; j++)\n\t\t{\n\t\t\tcin>>s;//\u8f93\u5165\u9884\u5904\u7406\n\t\t\tif(s=='.')\n\t\t\t{\n\t\t\t\ta[i][j]=1;\n\t\t\t}\n\t\t\tif(s>='A'&&s<='Z')\n\t\t\t{\n\t\t\t\ta[i][j]=s;//\u8fd9\u91cc\u662f\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u70b9\uff0c\u7b49\u4e0b\u8bf4\u660e\n\t\t\t}\n\t\t\tif(s=='@')\n\t\t\t{\n\t\t\t\tqx=i;\n\t\t\t\tqy=j;\n\t\t\t\ta[i][j]=1;\n\t\t\t}\n\t\t\tif(s=='=')\n\t\t\t{\n\t\t\t\tzx=i;\n\t\t\t\tzy=j;\n\t\t\t\ta[i][j]=1;\n\t\t\t}\n\t\t}\n\t}\n\tbj[qx][qy]=1;//\u6ce8\u610f\u4e00\u5b9a\u8981\u6807\u8bb0\u8d77\u70b9\n\tans[1].x=qx;\n\tans[1].y=qy;\n\tbfs();\n\treturn 0;\n}\n```\n//so easy",
        "postTime": 1534653798,
        "uid": 89766,
        "name": "Mr_\u5b8f\u4f1f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "\u6709\u4e86\u4e0a\u6b21\u9898\u76ee\u770b\u9519\u7684\u6559\u8bad\u540e\u518d\u4e0d\u6562\u968f\u4fbf\u770b\u9898\u4e86~~usaco\u592a\u5751~~\uff0c\u8fd9\u9898\u7edd\u5bf9\u4e0d\u6c34\uff0c\u4f20\u9001\u95e8\u8fd8\u7279\u522b\u7384\u5b66\u81ea\u7136\u4ee3\u7801\u77ed\u4e0d\u4e86...\n\u4ee3\u7801\uff1a\n```pascal\nconst z:array[1..4,1..2]of -1..1=((1,0),(0,1),(-1,0),(0,-1));\nvar i,j,k:longint;\n    m,n:longint;\n    pdx,pdy:longint;\n    csmx,csmy:array['A'..'Z',0..1]of longint;\n    a,boo:array[-1..1000,-1..1000]of boolean;\n    b:array[-1..1000,0..1000]of longint;\n    h,t:longint;\n    ch:char;\n    fx,fy,lx,ly:longint;\n    x,y,u,p:array[0..4000000]of longint;//\u5f00\u5927\u4e00\u70b9\nbegin\n  readln(m,n);\n  for i:=1 to m do\n  begin\n    for j:=1 to n do\n    begin\n      read(ch);\n      if ch='@' then\n      begin\n        fx:=i;\n        fy:=j;\n        a[i,j]:=false;\n      end;\n      if ch='=' then\n      begin\n        lx:=i;\n        ly:=j;\n        a[i,j]:=true;\n      end;\n      if ch='#' then\n      begin\n        a[i,j]:=false;\n      end;\n      if ch='.' then\n      begin\n        a[i,j]:=true;\n      end;\n      if ch in ['A'..'Z'] then//\u5224\u65ad\u4f20\u9001\u95e8\n      begin\n        a[i,j]:=true;\n        if csmx[ch,0]<>0 then//\u5982\u679c\u8fd8\u6ca1\u6709\u627e\u5230\u540c\u5b57\u6bcd\u7684\u4f20\u9001\u95e8\n        begin\n          csmx[ch,1]:=i;\n          csmy[ch,1]:=j;\n          b[i,j]:=ord(ch)*10;\n        end\n        else//\u627e\u5230\u8fc7\u4e86\n        begin\n          csmx[ch,0]:=i;\n          csmy[ch,0]:=j;\n          b[i,j]:=ord(ch)*10+1;\n        end;\n      end\n      else\n      b[i,j]:=0;\n    end;\n    readln;\n  end;\n  h:=1;\n  t:=1;\n  u[1]:=0;\n  x[1]:=fx;\n  y[1]:=fy;\n  repeat\n    if (x[t]=lx) and (y[t]=ly) then\n    begin\n      writeln(u[t]);\n      exit;\n    end;\n    if (b[x[t],y[t]]<>0) and (p[t]=0) then//\u56e0\u4e3a\u6709\u4f20\u9001\u95e8\u5fc5\u987b\u8d70\uff0c\u6240\u4ee5\u76f4\u63a5\u4fee\u6539\u5c3e\u5df4\u4e0a\u7684\u503c\n    if (a[csmx[chr(b[x[t],y[t]] div 10),b[x[t],y[t]] mod 10],\n          csmy[chr(b[x[t],y[t]] div 10),b[x[t],y[t]] mod 10]]) then//\u611f\u89c9\u6709\u70b9\u773c\u9178...\n    begin\n      pdx:=csmx[chr(b[x[t],y[t]] div 10),b[x[t],y[t]] mod 10];//\u8bb0\u5f55\n      pdy:=csmy[chr(b[x[t],y[t]] div 10),b[x[t],y[t]] mod 10];\n      x[t]:=pdx;\n      y[t]:=pdy;\n      p[t]:=1;\n    end;\n    if (b[x[t],y[t]]=0) or (p[t]=1) then//\u63a5\u4e0b\u6765\u5c31\u5f88\u7b80\u5355\u4e86\n    for i:=1 to 4 do\n    if a[x[t]+z[i,1],y[t]+z[i,2]] then\n    begin\n      inc(h);\n      x[h]:=x[t]+z[i,1];\n      y[h]:=y[t]+z[i,2];\n      p[h]:=0;\n      u[h]:=u[t]+1;\n      if b[x[h],y[h]]=0 then//\u6709\u4f20\u9001\u95e8\u4e0d\u53ef\u4ee5\u8d4b\u4e3afalse\uff0c\u56e0\u4e3a\u53ef\u80fd\u8fd9\u53ea\u662f\u4e00\u4e2a\u4e2d\u8f6c\u7ad9\n      a[x[h],y[h]]:=false;\n    end;\n    inc(t);\n  until t>h;\nend.\n```\n\u5982\u679c\u4e0d\u7406\u89e3\n\n> \u6709\u4f20\u9001\u95e8\u4e0d\u53ef\u4ee5\u8d4b\u4e3afalse\uff0c\u56e0\u4e3a\u53ef\u80fd\u8fd9\u53ea\u662f\u4e00\u4e2a\u4e2d\u8f6c\u7ad9\n\n\u5219\u4e3e\u4e00\u4e2a\u4f8b\u5b50\n\n```\n###=###\n#.....#\n###A###\n#.....#\n#@#####\n###a..#\n#######\n```\na,A\u4e00\u5bf9\u4f20\u9001\u95e8\u3002\n\u8981\u5148\u8fdb\u5165A\u4ecea\u51fa\u6765\uff0c\u518d\u8fdb\u4ebaa\u4eceA\u51fa\u6765\uff0c\u4e0d\u7136\u4e0d\u53ef\u4ee5\u5230\u7ec8\u70b9\uff0ca\u5c31\u662f\u4e00\u4e2a\u4e2d\u8f6c\u7ad9\u3002\n- \u8fd9\u53ef\u80fd\u624d\u662f\u672c\u9898\u8003\u70b9\u3002\n",
        "postTime": 1544948650,
        "uid": 86625,
        "name": "Limit",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "\u4e00\u5f00\u59cb,\u6211\u7684\u7b54\u6848\u6b63\u786e\u4f46\u662f\u7ed3\u679c\u662fWA,\u5f88\u795e\u5947,\u540e\u6765\u628adfs\u6362\u6210bfs,\u5c31AC\u4e86,\u77e5\u9053\u539f\u56e0\u7684,\u53ef\u4ee5\u544a\u8bc9\u6211\n\n\u8fd9\u9053\u9898\u5176\u5b9e\u53ea\u662f\u4e00\u4e2a\u57fa\u672c\u7684\u6700\u77ed\u8def,\u4f46\u662f\u6709\u5f88\u591a**\u5751**,\n\u90fd\u662f\u5728\u4f20\u9001\u70b9\u4e2d,\u5176\u5b9e\u5f53\u4e0b\u4e00\u4e2a\u70b9\u662f\u4f20\u9001\u70b9\u65f6,\u76f4\u63a5\u628a\u5176\u5bf9\u5e94\u7684\u4f20\u9001\u70b9\u538b\u5165\u961f\u5217\u5373\u53ef\n## \u5751\u70b9\u4e3e\u4f8b:\n### 1.\u4f20\u9001\u70b9\u53ea\u662f\u4e00\u4e2a\u4e2d\u4ecb\u70b9\n| # |# |#  |#  | # |#  |=  |#  |#  |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n|#  | . | . | . |.  |.  |.  |#  |#  |\n| # |#  |#  | A | # | # | # |#  |#  |\n| # |@  |.  |.  |#  |A  |.  |.  |#  |\n|  #|#  |#  | # | # |#  |#  |#  | # |\n#### \u89e3\u51b3\u65b9\u6cd5:\n\u4e0d\u628a\u4f20\u9001\u70b9\u6807\u8bb0v\u6570\u7ec4\u5c31\u53ef\u4ee5,\u5176\u4ed6\u7684\u8981\u6807\u8bb0\u5426\u5219\u4f1a\u6b7b\u5faa\u73af\n### 2.\u8d70\u4e0d\u4e86\u7684\u4f20\u9001\u70b9\n| # | # | # |#  | # | # | # | # | # |\n| -----------: | -----------: | -----------: | -----------: | -----------: | -----------: | -----------: | -----------: | -----------: |\n|#  |A  |#  | . | . | . | . |.  |#  |\n| # | # | # | # | # | # | . |.  |#  |\n| # |@  |A  |#  | # | # | # | . |#  |\n| # | . |.  |.  |.  | . | . | . | # |\n|#  | # | # | # | # | # | # | # | # |\n#### \u89e3\u51b3\u65b9\u6cd5:\n\u8fd9\u4e2a\u5176\u5b9e**\u6839\u672c\u4e0d\u7b97\u4e00\u4e2a\u5751**,\u56e0\u4e3a\u53ea\u8981\u641c\u5230\u4e86\u8fd9\u4e2a\u70b9\u5c31\u641c\u4e0d\u52a8\u4e86(\u524d\u63d0\u662f\u4f60\u7684bfs\u6ca1\u6709\u5199\u9519),\u5373\u4f7f\u591a\u6b21\u641c\u5230\u8fd9\u4e2a\u70b9,\u4e5f\u4e0d\u4f1a\u56de\u6765\u6bd4\u5982\u8fd9\u5e45\u5730\u56fe,\u53ea\u6709\u7b2c\u4e00\u6b65\u548c\u7b2c\u4e09\u6b65\u641c\u5230\u4e86(1,1),\u540e\u9762\u5c31\u518d\u4e5f\u6ca1\u6709\u4e86.\n\n### \u5177\u4f53\u5b9e\u73b0:\n\u6bcf\u4e2a\u5750\u6807\u90fd\u8981\u6709x,y\u548c\u5230\u8fbe\u5f53\u524d\u5750\u6807\u7684\u6700\u5c11\u6b65\u6570step.x,y\u521d\u59cb\u5316\u4e3a\u4e00\u4e2a\u975e\u6cd5\u6570\u636e.step=0;\u91cd\u8981\u8282\u70b9\u7684\u5750\u6807\u5728\u8f93\u5165\u65f6\u5c31\u5b58\u50a8\u597d,\u65b9\u4fbf\u540e\u7eed\u64cd\u4f5c.\n\u4e0d\u8bf4\u591a\u4e86!\u4e0a\u4ee3\u7801!\n```cpp\n#include <bits/stdc++.h>\n#include <queue>\nusing namespace std;\nstruct pos\n{\n\tint x,y,step;\t//step\u6307\u5230\u8fbe\u8fd9\u4e2a\u70b9\u6240\u9700\u7684\u6700\u5c11\u6b65\u6570 \n\tpos()\n\t{\n\t\tx=y=-1;\t\t//\u521d\u59cb\u5316\u6210\u4e3a\u4e00\u4e2a\u975e\u6cd5\u5750\u6807\u4ee5\u4fbf\u540e\u7eed\u7684\u8d4b\u503c \n\t\tstep=0;\t\t//\u5f00\u59cb\u524d\u662f0\u6b65 \n\t}\n};\nstruct spt\t\t// spread_point\u4f20\u9001\u70b9 \n{\n\tpos p1,p2;\t//\u4e24\u4e2a\u914d\u5bf9\u7684\u4f20\u9001\u70b9\t\n};\npos s,f;\t//\u8d77\u70b9\u548c\u7ec8\u70b9\u7684\u5750\u6807 \nint n,m;\t//\u5730\u56fe\u957f\u548c\u5bbd \nchar a[305][305];\t//\u5730\u56fe \nbool v[305][305];\t//\u6807\u8bb0\u6570\u7ec4 \nint dx[]= {0,1,0,-1};\t\nint dy[]= {1,0,-1,0};\t//\u56db\u4e2a\u65b9\u5411\u7684\u79fb\u52a8 \nspt spts[200];\t\t//\u4f20\u9001\u70b9 \nqueue<pos> q;\t\t//bfs\u961f\u5217 \nbool check(int x,int y)\n{\n\tif(x<0||x>n||y<0||y>m||a[x][y]=='#'||v[x][y]==1)\n\t\treturn 0;\n\treturn 1;\n}\t\t\n//\u5408\u6cd5\u5224\u65ad\u51fd\u6570 \nvoid bfs()\n{\n\tv[s.x][s.y]=1;\n\tpos t;\n\tt.x=s.x,t.y=s.y,t.step=0;\n\tq.push(t);\n\twhile(!q.empty())\n\t{\n\t\tpos tmp=q.front();\n\t\tq.pop();\n\t\tint x=tmp.x,y=tmp.y,step=tmp.step; \n\t//\tcout<<x<<' '<<y<<' '<<step<<'\\n'; \n\t\tif(tmp.x==f.x&&tmp.y==f.y)\n\t\t{\n\t\t\tcout<<tmp.step;\n\t\t\treturn;\n\t\t}\n\t\tfor(int i=0; i<4; i++)\n\t\t{\n\t\t\tint xx=x+dx[i];\n\t\t\tint yy=y+dy[i];\n\t\t\tif(check(xx,yy))\n\t\t\t{\n\t\t\t\tpos val;\n\t\t\t\tif(a[xx][yy]<'A'||a[xx][yy]>'Z')\n\t\t\t\t{\n\t\t\t\t\tval.x=xx,val.y=yy,val.step=step+1;\n\t\t\t\t\tv[xx][yy]=1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif(xx==spts[a[xx][yy]-'A'].p1.x&&yy==spts[a[xx][yy]-'A'].p1.y)\n\t\t\t\t\t{\n\t\t\t\t\t\tval.x=spts[a[xx][yy]-'A'].p2.x;\n\t\t\t\t\t\tval.y=spts[a[xx][yy]-'A'].p2.y;\n\t\t\t\t\t\tval.step=step+1;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tval.x=spts[a[xx][yy]-'A'].p1.x;\n\t\t\t\t\t\tval.y=spts[a[xx][yy]-'A'].p1.y;\n\t\t\t\t\t\tval.step=step+1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tq.push(val);\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tcin>>n>>m;\n\tfor(int i=0; i<n; i++)\n\t{\n\t\tfor(int j=0; j<m; j++)\n\t\t{\n\t\t\tcin>>a[i][j];\n\t\t\tif(a[i][j]=='@')\n\t\t\t{\n\t\t\t\ts.x=i;\n\t\t\t\ts.y=j;\n\t\t\t}\n\t\t\tif(a[i][j]=='=')\n\t\t\t{\n\t\t\t\tf.x=i;\n\t\t\t\tf.y=j;\n\t\t\t}\n\t\t\tif(a[i][j]>='A'&&a[i][j]<='Z')\n\t\t\t{\n\t\t\t\tint c=a[i][j]-'A';\n\t\t\t\tif(spts[c].p1.x==-1&&spts[c].p1.y==-1)\n\t\t\t\t{\n\t\t\t\t\tspts[c].p1.x=i;\t\t\n\t\t\t\t\tspts[c].p1.y=j;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tspts[c].p2.x=i;\n\t\t\t\t\tspts[c].p2.y=j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tbfs();\n}\n```\n~~\u5176\u5b9e\u8fd9\u4e2a\u53ef\u4ee5\u5199\u4e00\u4e2a\u5c0f\u6e38\u620f~~,\u8fd9\u9053\u9898\u7edd\u5bf9\u4e0d\u6c34,\u90a3\u4e48\u591a\u5751,\u6211\u63d0\u51fa\u6765\u4e86,\u4f60\u5c31\u53ef\u4ee5\u6ce8\u610f,\u671b\u91c7\u7eb3\u6211\u7684\u65b9\u6cd5,**\u795d\u5927\u5bb6\u65e9\u65e5AC!**",
        "postTime": 1563174974,
        "uid": 130320,
        "name": "TYHTerrence",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "\u8bb0\u5f97\u6709\u4f4d\u5927\u4f6c\u66fe\u7ecf\u8bf4\u8fc7\uff1a\n> \u8fd9\u4e16\u4e0a\u5f88\u5c11\u6709\u53ea\u80fd\u7528BFS\u505a\u7684\u9898\n\n~~\u6240\u4ee5\u8fd9\u5c31\u662f\u6211\u4e0d\u6253BFS\u7684\u7406\u7531\uff1f~~\n\n\u4e8e\u662f\u4e4e\u8fd9\u9898\u6211\u7528\u7684\u7b97\u6cd5\u662fSPFA\n\n\n\n------------\n\n\u770b\u4e0a\u53bb\u8fd9\u9898\u662f\u4e8c\u7ef4\u7684\uff0c\u800c\u6700\u77ed\u8def\u662f\u4e00\u7ef4\u7684\uff0c\u4f46\u5176\u5b9e\u8fd9\u65f6\u5019\u8003\u9a8c\u7684\u5c31\u662f\u4f60\u7684\u9884\u5904\u7406\u80fd\u529b\u4e86\uff0c\u5148\u5c06\u4e8c\u7ef4\u77e9\u9635\u538b\u6210\u4e00\u7ef4\u7684n*m\u4e2a\u70b9\uff0c\u518d\u4ece\u6bcf\u4e00\u4e2a\u80fd\u8d70\u7684\u70b9\u51fa\u53d1\uff0c\u5411\u56db\u65b9\u8fde\u8fb9\n\n\u4f46\u8981\u6ce8\u610f\u7684\u662f\u8fd9\u9898\u7684\u4f20\u9001\u95e8\uff0c\u6211\u4eec\u4e0d\u59a8\u5c06\u5b83\u4eec\u5206\u6210\u4e24\u7c7b\u8fdb\u884c\u8ba8\u8bba\uff1a\n1. \u53ea\u6709\u4e00\u4e2a\u95e8\u7684\uff1a\u5f53\u6210\u666e\u901a\u8349\u5730\u8fdb\u884c\u5904\u7406\uff1b\n2. \u6709\u4e24\u4e2a\u95e8\u7684\uff1a\u5f53\u8981\u5411\u5176\u4e2d\u4e00\u4e2a\u8fde\u8fb9\u65f6\uff0c\u53ea\u9700\u5c06\u8fb9\u7684\u7ec8\u70b9\u6539\u4e3a\u53e6\u4e00\u6247\u95e8\u7684\u4e00\u7ef4\u5730\u5740\u5c31\u53ef\u4ee5\u4e86\u3002\n\u5982\u56fe\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/24956.png)\n\n address: \n \n 1->4 X  \n 1->6 \u2714\n\n\n\n------------\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int px[5]={0,-1,1,0,0},py[5]={0,0,0,-1,1};\nconst int N=90000,M=360000;\nchar mp[350][350];\nint n,m,s,En,h[N],dis[N],q[N],visit[N],b,e,f[50],cs[50][5];\nstruct edge {int s,n,v;} E[M];\n\n/*\u5c06\u4e8c\u7ef4\u538b\u6210\u4e00\u7ef4*/\nint back(int x,int y)\n{\n\tint res=(x-1)*m+y;\n\treturn res;\n}\n/*\u6a21\u677f\uff0c\u4e00\u70b9\u90fd\u6ca1\u6709\u52a8*/\nvoid add(int x,int y,int z)\n{\n\tE[++En].v=z;E[En].n=h[x];\n\tE[En].s=y;h[x]=En;\n}\nvoid spfa(int start)\n{\n\tmemset(dis,60,sizeof dis);\n    memset(visit,0,sizeof visit);\n    int l=0,r=1;\n    q[1]=start;\n    dis[start]=0;\n    while (l!=r) \n    {\n        if (++l>n) l=1;//\u624b\u6253\u5faa\u73af\u961f\u5217\n        int x=q[l];\n        for(int k=h[x];k;k=E[k].n) \n        {\n            int y=E[k].s;\n            if (dis[x]+E[k].v<dis[y]) \n            {\n                dis[y]=dis[x]+E[k].v;\n                if (!visit[y]) \n                {\n                    visit[y]=1;\n                    if (++r>n) r=1;\n                    q[r]=y;\n                }\n            }\n        }\n        visit[x]=0;\n    }\n}\n\nint main()\n{\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%s\",mp[i]+1);\n    /*\u521d\u59cb\u5316*/\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tint address=back(i,j);\n\t\t\tif(mp[i][j]=='@') b=address;//\u83b7\u53d6\u8d77\u70b9\u5730\u5740\n\t\t\tif(mp[i][j]=='=') e=address;//\u83b7\u53d6\u7ec8\u70b9\u5730\u5740\n\t\t\tif(mp[i][j]>='A'&&mp[i][j]<='Z')//\u8bb0\u5f55\u4f20\u9001\u95e8\u5730\u5740\u53ca\u4e2a\u6570\n\t\t\t{\n\t\t\t\tint c=mp[i][j]-'A'+1;\n\t\t\t\tcs[c][++f[c]]=address;\n\t\t\t}\n\t\t}\n    /*\u8fde\u8fb9*/    \n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\tif(mp[i][j]!='#')//\u679a\u4e3e\u6bcf\u4e2a\u70b9,\u5982\u679c\u80fd\u8d70...\n\t\t{\n\t\t\tint address=back(i,j);\n\t\t\tfor(int k=1;k<=4;k++)\n\t\t\t{\n\t\t\t\tint nx=i+px[k],ny=j+py[k];\n\t\t\t\tif(nx>0&&ny>0&&nx<=n&&ny<=m&&mp[nx][ny]!='#')\n\t\t\t\t\tif(mp[nx][ny]>='A'&&mp[nx][ny]<='Z'&&f[mp[nx][ny]-'A'+1]==2)\n\t\t\t\t\t/*\u5982\u679c\u662f\u8d77\u70b9\u7ec8\u70b9\u90fd\u5177\u5907\u7684\u4f20\u9001\u95e8*/\n                    {\n\t\t\t\t\t\tint to=back(nx,ny);\n\t\t\t\t\t\tif(to==cs[mp[nx][ny]-'A'+1][1]) to=cs[mp[nx][ny]-'A'+1][2];\n\t\t\t\t\t\telse to=cs[mp[nx][ny]-'A'+1][1];//\u56e0\u4e3a\u4e00\u7ef4\u5730\u5740\u662f\u552f\u4e00\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u6bd4\u8f83\u6765\u786e\u5b9a\u8fd9\u662f\u7b2c\u51e0\u4e2a\u4f20\u9001\u95e8\n\t\t\t\t\t\tadd(address,to,1);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tadd(address,back(nx,ny),1);\n\t\t\t}\n\t\t}\n\tn=n*m;//\u91cd\u8981\u7684\u4e00\u6b65\uff01\u6c42\u5b9e\u9645\u70b9\u6570\uff0c\u4f46\u597d\u50cf\u8fd8\u53ef\u4f18\u5316\n\tspfa(b);//\u8dd1\u6a21\u677f\n\tcout<<dis[e];//\u8f93\u51fa\u5230\u7ec8\u70b9\u7684\u6700\u77ed\u8def\n}\n```\n\n\n------------\n\n\n\u4ee3\u7801\u7565\u663e\u81c3\u80bf\uff0c\u8fd8\u8bf7\u63d0\u51fa\u610f\u89c1",
        "postTime": 1532398346,
        "uid": 65735,
        "name": "yuzhechuan",
        "ccfLevel": 8,
        "title": "P1825\u00b7SPFA"
    },
    {
        "content": "# \u849f\u84bb\u53c8\u6765\u53d1\u9898\u89e3\u8fa3\uff01\n## \u771f\u7684\u662f\u5927\u5751\u9898\u554a\u6211\u6b7b\u78d5\u4e86\u4e24\u5929\uff0c\u4e0d\u5bb9\u6613QWQ\n\n### \u5751\u70b9\u6709\u70b9\u591a\uff0c\u4f46\u662f\u53ea\u8981\u7ec6\u5fc3\u5c31\u80fd\u8fc7\uff01\n\n### \u2460\u9b3c\u755c\u6b7b\u5faa\u73afTLE\n### \u2461\u88c5\u7f6e\u4e0d\u6210\u5bf9\n### \u2462\u672c\u6765\u6700\u4f18\u89e3\u88ab\u4f20\u9001\u95e8\u7684#\u7ed9\u76d6\u4f4f\u4e86\uff0c\u5fc5\u987b\u65b0\u5f00\u4e00\u4e2a\u6570\u7ec4\u6765\u5b58\n### \u2463\u6b65\u6570\u6ca1\u6709+\u5bf9\uff0c\u56e0\u4e3a\u9047\u5230\u4f20\u9001\u95e8\u662f\u8df3\u7740\u8d70\u7684\uff08\n```cpp\n#include <cstdio>\n#include <iostream>\n#include <queue>\n#include<map>\nusing namespace std;\nint n,m;\nchar a[302][302];//\u8bfb\u5165\u6570\u7ec4\nchar usual[302][302];//\u666e\u901a\u8d70\u6cd5\uff08\u4e0d\u542b\u5b57\u6bcd\uff09\nchar special[302][302];//\u4f20\u9001\u95e8\u8d70\u6cd5\nint dx[4] = {0,1,0,-1};\nint dy[4] = {1,0,-1,0};//\u8fd9\u4e24\u4e2a\u662f\u65b9\u5411\nstruct qwq {\n\tint my_x1,my_x2,my_y1,my_y2;\n\tint flag;\n};\nmap<char,qwq> cs;//\u7528\u4e00\u4e2amap,\u5bb9\u6613\u591a\u5566\uff01\nint be_x,be_y;//\u5f00\u59cb\u7684x\u4e0ey\nstruct Pos {\n\tint x,y,step;\n};\nqueue<Pos> bfs;//\u961f\u5217\u4e2d\u7684x\u4e0ey\u4e0e\u6b65\u6570\n//\u4ee5\u4e0a\u662f\u5b9a\u4e49\u4e00\u5806\u4e1c\u897f\nint main() {\n\tcin>>n>>m;\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=m; j++) {\n\t\t\tcin>>a[i][j];\n\t\t\tspecial[i][j]=a[i][j];\n\t\t\tusual[i][j]=a[i][j];\n            //\u7279\u6b8a\u8d70\u6cd5\u548c\u666e\u901a\u8d70\u6cd5\u90fd\u521d\u59cb\u5316\u76f8\u540c\n\t\t\tif(a[i][j]>='A'&&a[i][j]<='Z') {\n\t\t\t\tif(cs[a[i][j]].flag==0) {\n\t\t\t\t\tcs[a[i][j]].my_x1=i;\n\t\t\t\t\tcs[a[i][j]].my_y1=j;\n\t\t\t\t\tcs[a[i][j]].flag++;\n\t\t\t\t} else {\n\t\t\t\t\tcs[a[i][j]].my_x2=i;\n\t\t\t\t\tcs[a[i][j]].my_y2=j;\n\t\t\t\t\tcs[a[i][j]].flag++;\n\t\t\t\t}\n                //\u5c06\u4f20\u9001\u95e8\u4e24\u7aef\u7684\u4f4d\u7f6e\u7ed9\u5f04\u597d\n\t\t\t\tspecial[i][j]=a[i][j];\n\t\t\t} else if(a[i][j]=='@') {\n\t\t\t\tbe_x=i;\n\t\t\t\tbe_y=j;\n\t\t\t}\n\t\t}\n\t}\n    //\u5f00\u59cbbfs\u8fa3\n\tbfs.push({be_x,be_y,0});\n    \n\twhile(!bfs.empty()) {\n\t\tPos head = bfs.front();\n\t\tfor(int i = 0; i < 4; i++) {\n        //\u56db\u4e2a\u65b9\u5411\n\t\t\tint tx = head.x+dx[i], ty = head.y+dy[i];\n\t\t\tif(a[tx][ty]=='=') {\n            \t//\u6700\u5148\u5230\u7684\u5c31\u662f\u6700\u4f18\u89e3\n\t\t\t\tcout<<head.step+1<<endl;\n\t\t\t\treturn 0;\n\t\t\t} else if(a[tx][ty]>='A'&&a[tx][ty]<='Z' && special[tx][ty]!='#' ) {\n\t\t\t\tif(cs[a[tx][ty]].flag==1) {\n\t\t\t\t\tspecial[tx][ty]='#';\n                    //\u5982\u679c\u4e0d\u7ed9\u7279\u6b8a\u8d70\u6cd5\u6807\u8bb0\u4e00\u4e0b\n                    //\u5c31\u4f1a\u65e0\u9650\u9b3c\u755c\uff0c\u5bb9\u6613TLE\n\t\t\t\t\tbfs.push({tx,ty,head.step+1});\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tspecial[tx][ty]='#';\n\t\t\t\tchar flag2=a[tx][ty];\n\t\t\t\tif(cs[flag2].my_x1==tx && cs[flag2].my_y1 == ty) {\n\t\t\t\t\ttx=cs[flag2].my_x2;\n\t\t\t\t\tty=cs[flag2].my_y2;\n\t\t\t\t} else {\n\t\t\t\t\ttx=cs[flag2].my_x1;\n\t\t\t\t\tty=cs[flag2].my_y1;\n\t\t\t\t}\n\t\t\t\t/*\n                tx\u548cty\u66ff\u6362\u8fc7\u540e\uff0c\u8fdb\u5165\u4e0b\u4e00\u5c42\n                \u6ce8\u610f\uff01\n                \u6b64\u5904head.step\u4e4b\u6240\u4ee5\u8981+1\n                \u662f\u56e0\u4e3atx\u548cty\u662f\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\n                \u4f46\u662f\u8e29\u5230\u4e86\u4f20\u9001\u95e8\u53c8\u8981\u5f3a\u5236\u4f20\u9001\n                \u6240\u4ee5\u5fc5\u987b+1\uff0c\u4e0e\u662f\u5426\u662f\u4f20\u9001\u95e8\u65e0\u5173\n                */\n                bfs.push({tx,ty,head.step+1});\n\t\t\t} else if(a[tx][ty]=='.' && usual[tx][ty]=='.') {\n\t\t\t\tusual[tx][ty]='#';\n\t\t\t\t//\u666e\u901a\u8d70\u6cd5\u6807\u8bb0\u4e00\u4e0b\uff0c\u4e0d\u518d\u8d70\n                bfs.push({tx,ty,head.step+1});\n\t\t\t}\n\t\t}\n\t\t//\u56db\u4e2a\u65b9\u5411\u90fd\u6ca1\u6709\u53ef\u884c\u7684\u600e\u4e48\u529e\uff1f\n        //\u5f39\u51fa\u961f\u5217\uff01\u8fd9\u8fb9\u5df2\u7ecf\u8d70\u5149\u5566\uff01\n        bfs.pop();\n\t}\n\treturn 0;\n}\n```\n## \u5b8c\u7f8e\u7ed3\u675f\n#### \u53ef\u4ee5\u53c2\u8003\u4e00\u4e0b\u7684\u54e6~",
        "postTime": 1548943203,
        "uid": 100592,
        "name": "Tsumi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "### \t\t\t\t    \u7389\u7c73\u7530\u8ff7\u5bab\u9898\u89e3\n\n### \u4e00.\u80cc\u666f\n\n\u200b\tx\u5e74x\u6708x\u65e5\uff0c\u7ade\u8d5b\u8001\u5e08\u62ff\u6b64\u9898\u95ee\u6211\uff0c\u7136\u540e\u6211\u7384\u5b66\u8fc7\u4e86\uff0c\u4e8e\u662f\u7279\u6765\u5199\u6b64\u9898\u3002\uff08\u8c01\u8bf4dijkstra\u4e0d\u80fd\u8fc7\u7684\uff1f\uff1f\uff09\n\n### \u4e8c.\u5206\u6790\n\n\u200b\t\u672c\u9898\uff0c\u6211\u4eec\u5148\u4e0d\u8003\u8651\u6709\u4f20\u9001\u9635\u7684\u60c5\u51b5\uff0c\u53d1\u73b0\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u6700\u77ed\u8def(bfs)\u7684\u6a21\u677f\u9898\uff0c\u968f\u4fbf\u5f04\u4e0b\u5c31\u80fd\u8fc7\uff0c\u4e0d\u8fc7\uff0c\u8fd9\u91cc\u591a\u4e86\u4e2a\u4f20\u9001\u9635\uff0c\u4e8e\u662f\u6211\u4eec\u5c31\u8981\u8003\u8651\u4e0b\u600e\u4e48\u505a\u9898\u4e86\u3002\u3002\u3002\n\n#### Method 1\n\n\u200b\t**\u8003\u8651bfs\u3002**\n\n\u200b\t\u901a\u8fc7\u89c2\u5bdf\u53d1\u73b0\uff0c\u672c\u9898\u7684\u8fb9\u7684\u6743\u5df2\u7ecf\u4e0d\u6b62\u662f\u6211\u4eec\u5e73\u5e38\u6240\u505a\u7684\u53ea\u67091\u7684\u8fb9\u6743\u4e86\uff0c\u8fd8\u591a\u4e86\u4f20\u9001\u9635\u4e4b\u95f4\u76840\u8fb9\u6743\uff0c\u6240\u4ee5\uff0c\u672c\u9898\u5b58\u57280\u30011\u4e24\u79cd\u8fb9\u6743\uff0c\u600e\u4e48\u641e\u5462\uff1f\n\n\u200b\t**\u6709\u4e2a\u4e1c\u897f\u53eb\u505a01bfs\uff0c\u4e13\u95e8\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u628a\u961f\u5217\u4fee\u6539\u4e3a\u53cc\u7aef\u961f\u5217\uff0c\u4e00\u4e2a\u70b9\uff0c\u5982\u679c\u662f\u88ab1\u8fb9\u6743\u6269\u5c55\u51fa\u6765\u7684\uff0c\u6211\u4eec\u628a\u5b83\u63d2\u5165\u961f\u5c3e\uff0c\u53cd\u4e4b\uff0c\u5982\u679c\u5b83\u662f\u75310\u8fb9\u6743\u6269\u5c55\u51fa\u6765\u7684\uff0c\u6211\u4eec\u628a\u5b83\u63d2\u5165\u961f\u9996\uff0c\u5176\u4f59\u7684\u8ddf\u666e\u901abfs\u4e00\u6837\u3002**\n\n\u200b\t\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u662f\u5bf9\u7684\uff0c\u673a\u667a\u7684\u4f60\u7528bfs\u662f\u4e00\u5c42\u4e00\u5c42\u7684\u6269\u5c55\u7684\u539f\u7406\u6765\u5206\u6790\u4fbf~~\u663e\u7136\u6613\u77e5~~\u4e86\n\n\u200b\t\u90a3\u4e48\u5982\u4f55\u7ef4\u62a4\u9898\u76ee\u4e2d\u7684\u5230\u8fbe\u4f20\u9001\u9635\u5fc5\u987b\u4f20\u9001\u5462\uff1f\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u5728\u961f\u5217\u91cc\u9762\u52a0\u7ef4\u62a4\u4e00\u4e2abool\u503cflag\uff0cflag=0\u8868\u793a\u6211\u4eec\u51c6\u5907\u8fdb\u5165\u4f20\u9001\u9635\uff0cflag=1\u8868\u793a\u6211\u4eec\u521a\u4ece\u4f20\u9001\u9635\u51fa\u6765\uff0c\u5373\u53ef\u3002(\u8bb0\u5f97flag\u7c7b\u8ba8\u8bba)\n\n\u200b\t\u7136\u540e\u3002\u3002\u3002\u5c31\u6ca1\u7136\u540e\u4e86\u3002\u3002\u3002\n\n#### Method 2\n\n\u200b\t**\u540c\u6837\u8003\u8651bfs\u3002**\n\n\u200b\t\u73b0\u5728\uff0c\u4ee4\u6211\u4eec\u607c\u706b\u7684\u6709\u4e24\u4e2a\u4e1c\u897f:\n\n\u200b\t1.0\u8fb9\u6743(\u6700\u77ed\u8def\u4e0d\u9700\u8981\u8003\u8651)\n\n\u200b\t2.\u5230\u8fbe\u4f20\u9001\u9635\u5fc5\u987b\u542f\u52a8\u7684\u6761\u4ef6\n\n\u200b\t\u90a3\u4e48\u6211\u4eec\u600e\u4e48\u505a\u53ef\u4ee5\u5ffd\u89c6\u8fd9\u4e24\u70b9\u4ece\u800c\u4f7f\u5f97\u95ee\u9898\u8f6c\u5316\u4e3a\u4e00\u4e2a\u666e\u901a\u7684bfs/\u6700\u77ed\u8def\u5462\uff1f\n\n\u200b\t\u6211\u4eec\u8fd9\u6837\u8003\u8651:\u65e2\u7136\uff0c\u6211\u4eec\u5230\u8fbe\u4f20\u9001\u9635\u540e\u5fc5\u987b\u542f\u7528\uff0c\u90a3\u4e48\uff0c**\u4e3a\u4ec0\u4e48\u6211\u4eec\u4e0d\u76f4\u63a5\u8df3\u8fc7\u4f20\u9001\u9635\u5462**\uff1f\u4e8e\u662f\uff0c**\u5bf9\u4e8e\u4e00\u4e2a\u4f20\u9001\u9635\uff0c\u6211\u4eec\u628a\u5b83\u548c\u5b83\u6240\u5bf9\u5e94\u7684\u4f20\u9001\u9635\u7684\u76f8\u90bb\u683c\u5b50(\u5373\u4e00\u6b65\u53ef\u4ee5\u5230\u8fbe\u7684\u683c\u5b50)\u76f4\u63a5\u8fde\u8fb9\uff0c\u8fd9\u662f\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u6211\u4eec\u6240\u6709\u7684\u8fb9\u6743\u90fd\u662f1\u4e86\uff0c\u4e00\u904dbfs/\u6700\u77ed\u8def\u5373\u53ef\uff01**\n\n\u200b\t\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u662f\u5bf9\u7684\u5462\uff1f\u6211\u4eec\u53d1\u73b0\uff0c\u6211\u4eec\u552f\u4e00\u6ca1\u6709\u6c42\u51fa\u8d77\u70b9\u5230\u6700\u77ed\u8def\u7684\u8ddd\u79bb\u7684\u70b9\u5c31\u662f\u4f20\u9001\u9635\u4e86\uff0c\u800c\u4f20\u9001\u9635\u4e00\u5b9a\u4e0d\u662f\u7ec8\u70b9\uff08\u663e\u7136\uff09\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u53ef\u4ee5\u6c42\u5f97\u7b54\u6848\uff01\n\n#### Method 3\n\n\u200b\t**\u8003\u8651\u6700\u77ed\u8def\u3002**\n\n\u200b\t\u6211\u4eec\u8003\u8651\u7f51\u7edc\u6d41\u7684\"\u62c6\u70b9\"\u601d\u60f3\uff0c\u6211\u4eec\u5c06\u6bcf\u4e2a\u70b9\u5206\u4e3a0\u30011\u4e24\u4e2a\u72b6\u6001\u3002\n\n\u200b\t**0\u8868\u793a\u6d41\u5165\uff0c1\u8868\u793a\u6d41\u51fa\uff0c\u540c\u4e00\u4e2a\u70b90\u53f7\u52301\u53f7\u4e4b\u95f4\u7684\u8fb9\u6743\u4e3a0\uff0c\u4e0d\u4e0e\u5176\u4ed6\u70b9\u8fde\u8fb9,1\u53f7\u5219\u5230\u76f8\u90bb\u7684\u70b9\u76840\u53f7\u72b6\u6001\u3002**\n\n\u200b\t**\u800c\u5bf9\u4e8e\u4f20\u9001\u9635,0\u53f7\u53ea\u4e0e\u5bf9\u5e94\u7684\u4f20\u9001\u9635\u76841\u53f7\u72b6\u6001\u8fde\u8fb9(\u8fb9\u67430)\uff0c1\u53f7\u72b6\u6001\u5219\u4e0e\u56db\u5468\u70b9\u8fde\u8fb9(\u8fb9\u67431)\uff0c\u5373\u53ef\uff0c\u7136\u540e\uff0c\u8dd1\u6700\u77ed\u8def(spfa,dijkstra)\u5373\u53ef\u3002**\n\n\u200b\t\u8fd9\u6837\u4fbf\u80fd\u7b26\u5408\u6761\u4ef6\uff0c\u7136\u540e~~\u4e71\u8dd1\u5c31\u8fc7\u4e86~~\n\n\u200b\t**\u8003\u8651\u4e0b\u4f18\u5316:\u5176\u4ed6\u70b9\u6211\u4eec\u5b8c\u5168\u6ca1\u6709\u5fc5\u8981\u62c6\u6210\u4e24\u4e2a\u70b9\uff0c\u6211\u4eec\u5176\u4ed6\u70b9\u53ea\u7ba10\u53f7\u72b6\u6001\uff0c\u800c\u5bf9\u4e8e\u4f20\u9001\u9635\uff0c\u6211\u4eec\u518d\u5355\u72ec\u7ef4\u62a40,1\u4e24\u4e2a\u72b6\u6001\uff0c\u8fd9\u65f6\uff0c\u50cfmethod1\u4e00\u6837\uff0c\u52a0\u7ef4\u62a4\u4e00\u4e2abool\u8868\u793a\u72b6\u6001\u518d\u5206\u7c7b\u5904\u7406\u5373\u53ef\uff01**\n\n\n### \u4e09.\u4ee3\u7801\n\n\u200b\t\u7531\u4e8eMethod 1,2\u592a\"\u5999\"\u4e86(~~\u5176\u5b9e\u662f\u61d2\u5f97\u6253\u4e86~~)\uff0c\u6211\u5c31\u4e0d\u653e\u4ee3\u7801\u4e86\uff0c\u653e\u4e2aMethod 3\u7684\u4ee3\u7801\uff1a\n\n```c++\n//#pragma GCC optimize()//\u624b\u52a8Ox\u4f18\u5316\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=601,M=180000;\nchar a[N][N];\nint dx[4]={0,0,-1,1},dy[4]={-1,1,0,0};\nstruct node{\n\tint v,w,nex;\n}t[M<<1];\nstruct strom{//\u4f20\u9001\u9635 \n\tint x[3],y[3],e;\n}p[26];\nbool ys[M];\nint las[M],len;\nint dis[M][2];\nbool vis[M][2];\npriority_queue<pair<int,pair<int,int> > >s;\ninline void dijkstra(int X){//dijkstra \n\tmemset(dis,0x3f3f,sizeof(dis));\n\tdis[X][0]=0;\n\ts.push(make_pair(0,make_pair(X,0)));\n\twhile(!s.empty()){\n\t\tint x=s.top().second.first;\n\t\tint y=s.top().second.second;\n\t\ts.pop();\n\t\tif(vis[x][y]){\n\t\t\tcontinue;\n\t\t}\n\t\tvis[x][y]=1;\n\t\tif(!y){//\u5206\u7c7b\u8ba8\u8bba \n\t\t\tfor(int i=las[x];i;i=t[i].nex){\n\t\t\t\tint v=t[i].v,w=t[i].w,T=ys[v];\n\t\t\t\tif(dis[v][T]>dis[x][y]+w){\n\t\t\t\t\tdis[v][T]=dis[x][y]+w;\n\t\t\t\t\ts.push(make_pair(-dis[v][T],make_pair(v,T)));\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tfor(int i=las[x];i;i=t[i].nex){\n\t\t\t\tif(t[i].w){\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tint v=t[i].v;\n\t\t\t\tif(dis[v][0]>dis[x][1]){\n\t\t\t\t\tdis[v][0]=dis[x][1];\n\t\t\t\t\ts.push(make_pair(-dis[v][0],make_pair(v,0)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\ninline void add(int u,int v,int w=0){\n\tlen++;\n\tt[len].v=v,t[len].w=w;\n\tt[len].nex=las[u],las[u]=len;\n}\nint main(){\n//\tfreopen(\"233.in\",\"r\",stdin);\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;++i){\n\t\tscanf(\"%s\",a[i]);\n\t}\n\tint S,E;\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=1;j<=m;++j){\n\t\t\tif(a[i][j-1]=='#'){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif(a[i][j-1]=='@'){\n\t\t\t\tS=(i-1)*m+j;\n\t\t\t}\n\t\t\tif(a[i][j-1]=='='){\n\t\t\t\tE=(i-1)*m+j;\n\t\t\t}\n\t\t\tif(a[i][j-1]>='A'&&a[i][j-1]<='Z'){//\u5efa\u7acb\u4f20\u9001\u9635 \n\t\t\t\tys[(i-1)*m+j]=1;\n\t\t\t\tint v=a[i][j-1]-'A';\n\t\t\t\tint now=++p[v].e;\n\t\t\t\tp[v].x[now]=i,p[v].y[now]=j;\n\t\t\t}\n\t\t\tfor(int k=0;k<4;++k){\n\t\t\t\tint xx=i+dx[k],yy=j+dy[k];\n\t\t\t\tif(xx>0&&xx<=n&&yy>0&&yy<=m&&a[xx][yy-1]!='#'){//\u56db\u5468\u8fde\u8fb9 \n\t\t\t\t\tadd((i-1)*m+j,(xx-1)*m+yy,1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=0;i<26;++i){\n\t\tif(p[i].e){\n\t\t\tadd((p[i].x[1]-1)*m+p[i].y[1],(p[i].x[2]-1)*m+p[i].y[2]);\n\t\t\tadd((p[i].x[2]-1)*m+p[i].y[2],(p[i].x[1]-1)*m+p[i].y[1]);\n\t\t}//\u4f20\u9001\u9635\u8fde\u8fb9 \n\t}\n\tdijkstra(S);\n\tprintf(\"%d\",dis[E][0]);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1550584255,
        "uid": 81847,
        "name": "ThinkofBlank",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "\u53c8\u662f\u4e00\u9053\u7eff\u9898\n\n\u8fd9\u4e2a\u597d\u8c61\u662f\u53cc\u7aef\u961f\u5217\uff08\u53cc\u5411bfs\uff09\uff0c\u603b\u4e4b\uff0c\u5728bfs\u91cc\u9700\u8981\u4e24\u4e2a\u5224\u65ad\u3002\n\n\u7b2c\u4e00\u4e2a\uff0c\u5982\u679c\u6b64\u5730\u6ca1\u6709\u4f20\u9001\u95e8\u5219\u4e3a\u88f8\u7684bfs\n\n\u7b2c\u4e8c\u4e2a\uff0c\u5982\u679c\u6b64\u5730\u6709\u4f20\u9001\u95e8\u5219\u5fc5\u987b\u8fc7\u53bb\uff08\u9898\u76ee\u7684\u5751\u4eba\u89c4\u5b9a\uff09\uff0c\u8fc7\u53bb\u540e\u53ef\u4ee5\u968f\u4fbf\u8d70\u4e00\u6b65\u518d\u56de\u6765\u3002\u5c31\u6bd4\u5982\u8bf4\u4e00\u4e2a\u4f20\u9001\u95e8\u7684\u5bf9\u9762\u88ab\u56db\u9762\u5899\u56f4\u7740\uff0c\u90a3\u4e48\u4ed6\u5c31\u56de\u4e0d\u6765\u4e86\u3002\n\n\u8f93\u5165\u65f6\u76f4\u63a5\u8bfb\u5165\uff0c\u5982\u679c\u662f\u5b57\u6bcd\u5c31\u5b58\u8d77\u6765\uff0c\u7136\u540e\u7528\u4e8c\u4f4d\u6570\u7ec4\u6765\u6807\u8bb0\u662f\u5426\u6709\u5b57\u6bcd\u4ee5\u53ca\u5b57\u6bcd\u662f\u591a\u5c11\uff0c\u7136\u540e\u8dd1bfs\uff0c\u53ea\u8981\u8e29\u5728\u4e86\u4f20\u9001\u95e8\u7684\u5c31\u53bb\u53e6\u4e00\u8fb9\u3002\n\n\u8fd8\u6709\u4e00\u4e2a\u5751\u70b9\u5c31\u662f\u5224\u91cd\uff0c\u4f20\u9001\u5230\u67d0\u5730\u4e0e\u8d70\u8fc7\u53bb\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u5224\u91cd\u9700\u8981\u4e24\u4e2a\u57df\u3002\u8fd8\u6709\u5c31\u662f\u961f\u5217\u4e5f\u8981\u5f002\u500d\uff0c\u8fd8\u662f\u56e0\u4e3a\u8d70\u8fc7\u53bb\u4e0e\u9001\u8fc7\u53bb\u4e0d\u4e00\u6837\u3002\n\n~~\u867d\u7136\u7a7a\u95f4\u5927\uff0c\u4f46\u662f\u5b83\u5feb\u5440~~\n\n\u5177\u4f53\u89c1\u4ee3\u7801\u3002\n```cpp\n#include <bits/stdc++.h>\nusing  namespace std;\nint f[310][310];\nbool s[310][310][2];\nbool tu[310][310];\nint dx[4]={0,0,1,-1};\nint dy[4]={-1,1,0,0};\nstruct ss{\n\tint x,y;\n};\nss song[40],qu[40];\nstruct sss{\n\tint x,y,dis;\n}z[310*310*4];\nint main (){\n\tint n,m,sx,sy,zx,zy;\n\tcin>>n>>m;\n\tchar ch;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tcin>>ch;\n\t\t\tif(ch=='#') {tu[i][j]=1;continue;}\n\t\t\tif(ch=='='){zx=i;zy=j;continue;}//\u627e\u8d77\u70b9\n\t\t\tif(ch=='@'){sx=i;sy=j;continue;}//\u627e\u7ec8\u70b9\n\t\t\tif(ch>='A'&&ch<='Z'){\n\t\t\t\tint num=ch-'A'+1;\n\t\t\t\tf[i][j]=num;//\u5b58\u662f\u54ea\u4e2a\u5b57\u6bcd\u3002\n\t\t\t\tif(song[num].x!=0&&song[num].y!=0) \n\t\t\t\t{qu[num].x=i;qu[num].y=j;}\n\t\t\t\telse {song[num].x=i;song[num].y=j;}//\u5c06\u4e24\u4e2a\u76f8\u540c\u7684\u5b57\u6bcd\u5206\u5f00\u5b58\u3002\n\t\t\t}\n\t\t}\n\t}\n\tint h=0,t=1;\n\tz[++h].x=sx;z[h].y=sy;\n\tdo{\n\t\tfor(int i=0;i<4;i++){\n\t\t\tint tx=z[h].x+dx[i],ty=z[h].y+dy[i];\n\t\t\tif(tx>0&&ty>0&&tx<=n&&ty<=m&&f[tx][ty]!=0){\n\t\t\t\tint k=f[tx][ty],nx1,ny1;\n\t\t\t\tif(song[k].x==tx&&song[k].y==ty)\n\t\t\t\t{nx1=qu[k].x;ny1=qu[k].y;}\n\t\t\t\telse {nx1=song[k].x;ny1=song[k].y;}//\u627e\u7ec8\u70b9\u3002\n\t\t\t\tif(nx1>0&&ny1>0&&nx1<=n&&ny1<=m&&s[nx1][ny1][1]!=1&&tu[nx1][ny1]!=1){\n\t\t\t\t\ts[nx1][ny1][1]=1;\n\t\t\t\t\tz[++t].x=nx1;z[t].y=ny1;z[t].dis=z[h].dis+1;\n\t\t\t\t\tif(nx1==zx&&ny1==zy) {cout<<z[t].dis;return 0;}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(tx>0&&ty>0&&tx<=n&&ty<=m&&s[tx][ty][0]!=1&&tu[tx][ty]!=1){\n\t\t\t\ts[tx][ty][0]=1;\n\t\t\t\tz[++t].x=tx;z[t].y=ty;z[t].dis=z[h].dis+1;\n\t\t\t\tif(tx==zx&&ty==zy) {cout<<z[t].dis<<endl;return 0;}\n\t\t\t}//\u6b63\u5e38\u641c\u7d22\n\t\t}h++;\n\t}while(h<=t);\n}\n```\n\u7b2c\u4e00\u7bc7\u9898\u89e3\uff0c\u6c42\u8fc7",
        "postTime": 1578126995,
        "uid": 237806,
        "name": "wcyares",
        "ccfLevel": 4,
        "title": "P1825 [USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze"
    },
    {
        "content": "\r\n1. \u672c\u849f\u84bb\u662f\u5728\u4e00\u5929\u7ec3\u4e60\u641c\u7d22\u7684\u65f6\u5019\u5076\u7136\u770b\u89c1\u4e86\u8fd9\u9898\uff0c\u4ee5\u4e3a\u662f\u4e00\u9053\u5927\u6c34\u9898\uff0c\u7136\u540e\u5c31\u548c\u673a\u623f\u7684\u5927\u4f6c@[kokodayou](https://www.luogu.org/user/224552) \u4e00\u8d77\u505a\u4e86\u8d77\u6765\uff0c\u7ed3\u679c\u5361\u4e86\u6211\u4eec\u4e00\u4e2a\u4e0b\u5348\uff0c\u6700\u7ec8\u6211\u8fd8\u662f\u7167\u7740\u9898\u89e3\u7684\u601d\u8def\u6253\u51fa\u6765\u7684~~\u4e2d\u9014\u8fd8\u6253\u70b8\u4e86~~\r\n2. \u8bf7\u770b\u61c2\u4e86\u518d~~\u6284~~\uff0c\u672c\u9898\u89e3\u6709\u5751\r\n3. \u81ea\u8ba4\u4e3a\u672c\u9898\u89e3\u5bf9\u65b0\u4eba\u5f88\u53cb\u597d\r\n4. \u672c\u9898\u89e3\u4e3b\u8981\u662f\u7ed9\u81ea\u5df1\u770b\u7684\uff0c\u4e3a\u4e86\u9632\u6b62\u51e0\u4e2a\u6708\u540e\uff1a~~\u8fd9\u9898\u8c01\u7ed9\u6211A\u7684\u554a~~\u7684\u61f5\u903c\uff0c\u5de8\u4f6c\u8f7b\u55b7\r\n\r\n-------------\r\n\r\n[\u4f20\u9001\u95e8](https://www.luogu.org/problem/P1825)\r\n\r\n\u4e4d\u770b\u6211\u4ee5\u4e3a\u8fd9\u9053\u9898\u5c31\u662f\u4e00\u4e2a\u88f8\u7684bfs\u5927\u6c34\u9898\uff0c\u7136\u540e\u6ee1\u6000\u4fe1\u5fc3\u7684\u5f00\u59cb\u6253\uff0c\u4f46\u662f\u8d8a\u5199\u8d8a\u89c9\u5f97\u4e8b\u6001\u4e0d\u5bf9\uff0c\u4f46\u662f\u53ea\u597d\u786c\u7740\u5934\u76ae\u6572\u4e0b\u53bb\uff0c\u6700\u7ec8\u8fd8\u662f\u770b\u4e86\u9898\u89e3\r\n\r\n\u4e0b\u9762\u6211\u4eec\u76d8\u70b9\u4e00\u4e0b\u672c\u9898\u7684\u5751\u70b9\uff1a\r\n\r\n1. \u4f20\u9001\u95e8\u4e0d\u4e00\u5b9a\u5bf9\u79f0\uff0c\u8fd9\u65f6\u4f20\u9001\u95e8\u5c31\u53d8\u6210\u4e86\u666e\u901a\u8349\u5730\r\n\t\r\n2. \u6709\u65f6\u5019\u4f20\u9001\u95e8\u9700\u8981\u7ecf\u8fc7\u4e0d\u6b62\u4e00\u6b21\uff0c\u56e0\u6b64\u4f20\u9001\u95e8\u4e0d\u80fd\u88ab\u6807\u8bb0\u4e3a\u8bbf\u95ee\u3002\u6bd4\u5982\uff1a\r\n   ![\u5982\u56fe](https://cdn.luogu.com.cn/upload/image_hosting/1t3lwer6.png)\r\n\t\uff0c\u6b64\u65f6\u4f20\u9001\u95e8A\u8981\u88ab\u7ecf\u8fc72\u6b21\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2a\u4e2d\u95f4\u7ad9\uff0c\u5982\u679c\u628a\u5b83\u6807\u8bb0\u4e3a\u8bbf\u95ee\uff0c\u90a3\u5c31\u4e0d\u80fd\u5230\u8fbe\u7ec8\u70b9\u3002\r\n3. \u4f20\u9001\u95e8\u7a7f\u8fc7\u65f6\u4e0d\u9700\u8981\u52a0\u6b65\u6570\r\n4. \u4f20\u9001\u95e8\u5c31\u662f\u4e2a~~hanpi~~\r\n\r\n\r\n\r\n\t\u7b80\u8ff0\u4e00\u4e0b\u5427\uff1a\u5b9a\u4e49\u4e24\u4e2a\u7ed3\u6784\u4f53\uff0c\u4e00\u4e2a\u5b58\u50a8\u961f\u5217\u4e2d\u7684\u70b9\uff0c\u53e6\u4e00\u4e2a\u5b58\u50a8\u4f20\u9001\u95e8\u7684\u5750\u6807\uff0c\u7531\u4e8e\u53ef\u4ee5\u8d70\u7684\u4f20\u9001\u95e8\u662f\u6210\u5bf9\u51fa\u73b0\u7684\uff0c\u6240\u4ee5\u7528\u4e24\u4e2a\u6570\u7ec4x[2],y[2]\u5b58\u50a8\u6a2a\u7eb5\u5750\u6807,x[0],y[0]\u662f\u6211\u4eec\u89c4\u5b9a\u7684\u4f20\u9001\u95e8\u8d77\u70b9\u7684\u5750\u6807,x[1],y[1]\u662f\u6211\u4eec\u89c4\u5b9a\u7684\u4f20\u9001\u95e8\u7ec8\u70b9\u7684\u5750\u6807\u3002\u7136\u540e\u518d\u8fdb\u884cbfs,\u6b64\u65f6\u5206\u4e3a\u4e24\u79cd\u72b6\u51b5\uff0c\u4e00\u4e2a\u662f\u8be5\u70b9\u4e0d\u662f\u4f20\u9001\u95e8\uff0c\u8fdb\u884c\u6b63\u5e38\u7684\u5e7f\u641c\uff0c\u53e6\u4e00\u4e2a\u662f\u8be5\u70b9\u662f\u4f20\u9001\u95e8\uff0c\u4f20\u9001\u5230\u7ec8\u70b9\uff08\u6216\u8d77\u70b9\uff09\uff0c\u5e76\u5728\u5230\u8fbe\u7684\u70b9\u8fdb\u4e00\u6b65\u5e7f\u641c\u3002\r\n\r\n\u6240\u4ee5\u6211\u4eec\u5b9a\u4e49\u4e24\u4e2a\u961f\u5217Q,q\uff0cq\u5b58\u50a8\u7740\u4f20\u9001\u95e8\u7684\u4fe1\u606f\uff0c\u4f18\u5148\u7ea7\u9ad8\uff0c\u5148\u4ece\u91cc\u9762\u53d6\uff0c\u53d6\u7a7a\u4e86\u4e4b\u540e\u518d\u4eceQ\u4e2d\u53d6\u3002\u7136\u540e\u5c31\u662f\u7b80\u5355\u7684bfs\uff0c\u5b9a\u4e492\u4e2a\u5b58\u70b9\u7684\u7ed3\u6784\u4f53now\u548cnext\uff0c\u5206\u522b\u5b58\u50a8\u73b0\u5728\u7684\u70b9\u548c\u4e0b\u4e00\u4e2a\u70b9\u7684\u4fe1\u606f\u3002\u5982\u679c\u5230\u4e86\u7ec8\u70b9\uff0c\u5c31\u8f93\u51fa\u6700\u5c0f\u6b65\u6570\u5e76\u7ed3\u675f\u3002\r\n\r\n \u5269\u4e0b\u7684\u6ce8\u91ca\u90fd\u5728\u4ee3\u7801\u91cc\uff0c\u53ef\u4ee5\u7ed3\u5408\u7740\u4ee3\u7801\u7406\u89e3\u3002\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\r\n#define R register int\r\n#define N 301\r\nusing namespace std;\r\nint n,m,vis[N][N],minn=0;\r\nchar ch[N][N];\r\nint dx[4]={0,0,1,-1},\r\n\tdy[4]={1,-1,0,0};//\u65b9\u5411\u6570\u7ec4\uff0c\u4e0d\u89e3\u91ca\r\nstruct node{\r\n\tint x,y;//\u70b9\u7684\u6a2a\u7eb5\u5750\u6807\r\n\tint step;//\u5230\u8be5\u70b9\u7684\u6700\u5c0f\u6b65\u6570\r\n\tint v;//\u8be5\u70b9\u662f\u5426\u88ab\u8bbf\u95ee\r\n}st,en;\r\nstruct trans{\r\n\tint x[3],y[3];//\u4f20\u9001\u95e8\u7684\u8d77\u70b9\u7ec8\u70b9\u6a2a\u7eb5\u5750\u6807\r\n\tint tim;//\u5b58\u4f20\u9001\u95e8\u51fa\u73b0\u7684\u6b21\u6570\r\n}gate[N];\r\nqueue<node>Q,q;//priority(Q)>priority(Q)\r\ninline int judge(int x,int y)//\u4f4d\u7f6e\u5224\u65ad\uff0c\u5728\u65b9\u683c\u8303\u56f4\u5185\r\n{\r\n\tif(x>0&&x<=n&&y>0&&y<=m)return 1;\r\n\treturn 0;\r\n}\r\ninline int read()//\u8bfb\u4f18\r\n{\r\n\tint x=0,f=1;\r\n\tchar ch=getchar();\r\n\twhile(ch<'0'||ch>'9){if(ch=='-')f=-1;ch=getchar();}\r\n\twhile(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\r\n\treturn x*f;\r\n}\r\ninline void bfs(node s,node e)\r\n{\r\n\tvis[s.x][s.y]=1;//\u6807\u8bb0\u8be5\u70b9\u4e3a\u8bbf\u95ee\u8fc7\r\n\ts.v=0;\r\n\tQ.push(s);//\u538b\u5165\u961f\u5217(STL\u5927\u6cd5\u597dqwq)\r\n\twhile(!Q.empty()||!q.empty())//\u4e24\u961f\u4e2d\u53ea\u8981\u6709\u4e00\u4e2a\u4e0d\u4e3a\u7a7a\u5c31\u7ee7\u7eed\u641c\u7d22\r\n\t{\r\n\t\tnode now;//\u5b58\u50a8\u961f\u9996 \r\n\t\tif(!q.empty()){now=q.front();q.pop();}//\u5148\u4ece\u4f20\u9001\u95e8\u91cc\u53d6\r\n\t\telse{now=Q.front();Q.pop();}\r\n\t\tint nx=now.x,\r\n\t\t\tny=now.y;//\u53d6\u51fa\u961f\u9996\u5143\u7d20\r\n\t\tif(nx==e.x&&ny==e.y)//\u5230\u8fbe\u76ee\u6807\u70b9\r\n\t\t{\r\n\t\t\tcout<<now.step<<endl;//\u8f93\u51fa\u6b65\u6570\u5e76\u7ed3\u675f\r\n\t\t\texit(0);\r\n\t\t}\r\n\t\tif(ch[nx][ny]=='.'||now.v==1)//\u4e24\u79cd\u60c5\u51b5\uff0c1.\u8be5\u70b9\u4e0d\u662f\u4f20\u9001\u95e82.\u8be5\u70b9\u662f\u4f20\u9001\u95e8\r\n\t\t{\r\n\t\t\tfor(R i=0;i<4;i++)\r\n\t\t\t{\r\n\t\t\t\tint xx=nx+dx[i],\r\n\t\t\t\t\tyy=ny+dy[i];\r\n\t\t\t\tif(!vis[xx][yy]&&ch[xx][yy]!='#'&&judge(xx,yy)==1)//\u5982\u679c\u8be5\u70b9\u5408\u6cd5\r\n\t\t\t\t{\r\n\t\t\t\t\tnode next;\r\n\t\t\t\t\tnext.x=xx,next.y=yy,next.v=0;\r\n\t\t\t\t\tnext.step=now.step+1;\r\n\t\t\t\t\tQ.push(next);//\u538b\u5165\u961f\u5217\r\n\t\t\t\t\tvis[xx][yy]=1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse//\u4f20\u9001\u95e8\r\n\t\t{\r\n\t\t\tif(nx==gate[ch[nx][ny]].x[0]&&ny==gate[ch[nx][ny]].y[0])//\u4f20\u9001\u95e8\u7684\u8d77\u70b9\r\n\t\t\t{\r\n\t\t\t\tnode next;\r\n\t\t\t\tnext.x=gate[ch[nx][ny]].x[1],\r\n\t\t\t\tnext.y=gate[ch[nx][ny]].y[1],\r\n\t\t\t\tnext.step=now.step;\r\n\t\t\t\tnext.v=1;//next\u5b58\u50a8\u8be5\u70b9\u7684\u4fe1\u606f\uff0c\u5e76\u538b\u5165\u961f\u5217\r\n\t\t\t\tq.push(next);\r\n\t\t\t}\r\n\t\t\telse//\u7ec8\u70b9\r\n\t\t\t{\r\n\t\t\t\tnode next;\r\n\t\t\t\tnext.x=gate[ch[nx][ny]].x[0],\r\n\t\t\t\tnext.y=gate[ch[nx][ny]].y[0],\r\n\t\t\t\tnext.step=now.step;\r\n\t\t\t\tnext.v=1;\r\n\t\t\t\tq.push(next);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\ninline void init()\r\n{\r\n\tmemset(vis,0,sizeof(vis));//\u628a\u6240\u6709\u7684\u70b9\u90fd\u6807\u8bb0\u4e3a\u672a\u8bbf\u95ee\r\n\tn=read(),m=read();\r\n\tfor(R i=1;i<=n;i++)\r\n\t{\r\n\t\tfor(R j=1;j<=m;j++)\r\n\t\t{\r\n\t\t\tcin>>ch[i][j];\r\n\t\t\tif(ch[i][j]=='@')\r\n\t\t\t{\r\n\t\t\t\tst.x=i,st.y=j;//\u5b58\u8d77\u70b9\u7684\u5750\u6807\uff0c\u5e76\u4e14\u628a\u8d77\u70b9\u6b65\u6570\u6e05\u96f6\r\n\t\t\t\tst.step=0,ch[i][j]='.';//\u628a\u8d77\u70b9\u6807\u4e3a\u53ef\u4ee5\u8d70\r\n\t\t\t}\r\n\t\t\tif(ch[i][j]=='='){en.x=i,en.y=j;}//\u7ec8\u70b9\u5750\u6807\r\n\t\t\telse if('A'<=ch[i][j]&&ch[i][j]<='Z')\r\n\t\t\t{\r\n\t\t\t\tgate[ch[i][j]].x[gate[ch[i][j]].tim]=i;\r\n\t\t\t\tgate[ch[i][j]].y[gate[ch[i][j]].tim]=j;\r\n\t\t\t\tgate[ch[i][j]].tim++;//\u5b58\u50a8\u4f20\u9001\u95e8\u4fe1\u606f\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfor(R i=65;i<=90;i++)//\u5904\u7406\u4f20\u9001\u95e8\u53ea\u6709\u5355\u4e2a\u51fa\u73b0\u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u4f20\u9001\u95e8\u7528\u5b57\u6bcd\u8868\u793a\uff0cASCII\u503c\u572865-90\u4e4b\u95f4\uff0c\u56e0\u6b64\u4ece65-90\u5224\u65ad\u3002\r\n\t{\r\n\t\tif(gate[i].tim==1)\r\n\t\t\tch[gate[i].x[0]][gate[i].y[0]]='.';\r\n\t}\r\n}\r\nint main()\r\n{//\u7b80\u77ed\u7684\u4e3b\u51fd\u6570\r\n//\tfreopen(\"maze.in\",\"r\",stdin);\r\n//\tfreopen(\"maze.out\",\"w\",stdout);\r\n\tinit();\r\n\tbfs(st,en);//\u5e7f\u641c\r\n\treturn 0;\r\n}\r\n```\r\n\u53ef\u80fd\u6709\u5f88\u591a\u5c0f\u4f19\u4f34\u770b\u4e86\u5b58\u50a8\u4f20\u9001\u95e8\u4fe1\u606f\u7684\u90a3\u6bb5\u4e0d\u7406\u89e3\uff0c\u6211\u6765\u89e3\u91ca\u4e00\u4e0b\uff1a\r\n#### gate\u7ed3\u6784\u4f53\u7684x,y\u4e0d\u8bf4\u4e86\uff0ctim\u662f\u5b58\u50a8\u5176\u51fa\u73b0\u4e86\u51e0\u6b21\uff0c\u4e3a\u4e86\u5224\u65ad\u4f20\u9001\u95e8\u662f\u5426\u53ef\u4ee5\u4f20\u9001\r\n```cpp\r\nelse if('A'<=ch[i][j]&&ch[i][j]<='Z')\r\n{\r\n\tgate[ch[i][j]].x[gate[ch[i][j]].tim]=i;\r\n\tgate[ch[i][j]].y[gate[ch[i][j]].tim]=j;\r\n\tgate[ch[i][j]].tim++;//\u5b58\u50a8\u4f20\u9001\u95e8\u4fe1\u606f\r\n}\r\n```\r\ngate[ch[i][j]].x[gate[ch[i][j]].tim]\u662f\u7528\u6765\u5b58\u50a8ch[i][j]\u8fd9\u4e2a\u70b9\u5b57\u6bcd\u4ee3\u8868\u7684\u4f20\u9001\u95e8\u8d77\u70b9\u7684\u6a2a\u5750\u6807,gate[ch[i][j]].y[gate[ch[i][j]].tim]\u540c\u7406\u3002\r\n    \r\n### \u6700\u540e\uff0c\u795d\u5404\u4f4dCSP2019RP++\uff0cScore++",
        "postTime": 1573293145,
        "uid": 21732,
        "name": "HeinzGuderian",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1825"
    },
    {
        "content": " _\u636e\u8bf4\u8fd9\u662f\u4e00\u9053\u7279\u522b\u6c34\u7684\u5e7f\u641c\u677f\u5b50\u3002\u3002\uff1f_\n \n ~~\u8111\u5b50\uff1a\u90a3\u4f60\u8fd8\u8c03\u4e86\u4e00\u4e2a\u5c0f\u65f6\uff01~~ \n\n## \u5751\u70b9\u603b\u7ed3\uff1a\n1. \u4e0d\u8981\u628a\u4f20\u9001\u8d77\u70b9\u6807\u8bb0\u4e3a\u5230\u8fbe\u8fc7\uff0c\u56e0\u4e3a\u4f60\u53ef\u80fd\u8fd8\u4f1a\u56de\u6765\u7684 \n1. \u56e0\u4e3a\u4e00\u4e2a\u4f20\u9001\u95e8\u5bf9\u5e94\u7684\u53ea\u6709\u4e00\u4e2a\u76ee\u7684\u5730\uff0c\u6240\u4ee5\u53ef\u4ee5\u8bb0\u5f55\u4e0b\u6765\u6bcf\u4e00\u4e2a\u4f20\u9001\u95e8\u524d\u5f80\u4f55\u5904\n1. \u597d\u50cf\u771f\u5c31\u6ca1\u4ec0\u4e48\u522b\u7684\u5751\u4e86\u2026\u2026\n\n## CODE  \u4e0d\u61c2\u7684\u6b22\u8fce\u79c1\u4fe1\u6211\uff01\n\n```cpp\n//Writen by kokodayou\n#include<bits/stdc++.h>\n#define ll long long\n#define R register int\n#define I return \n#define LOVE 0\n#define LUOGU ;              //define\u5927\u6cd5\u597d \nusing namespace std;\nll n,m,zx,zy,cx,cy,head,tail=1;\nll dx[4]={0,0,1,-1},dy[4]={1,-1,0,0};        //\u5faa\u73af\u8d77\u6765\u597d\u5199\u591a\u4e86 \nll dot[3][100][2],num[100],sum[500][500],team[80000][5];\nchar a[500][500];\nbool pd[500][500];        //\u5224\u65ad\u8fd9\u4e2a\u70b9\u4e4b\u524d\u6709\u6ca1\u6709\u6765\u8fc7 \nint main()\n{\n\tcin>>n>>m;              //\u6734\u7d20\u8f93\u5165 \n\tfor(R i=1;i<=n;i++)\n\t{\n\t\tgetchar();\n\t\tfor(R j=1;j<=m;j++)\n\t\t{\n\t\t\tscanf(\"%c\",&a[i][j]);\n\t\t\tif(a[i][j]=='=')zx=i,zy=j,a[i][j]='.';          //\u8bb0\u5f55\u7ec8\u70b9 \n\t\t\telse if(a[i][j]=='@')cx=i,cy=j,a[i][j]='.';     //\u8bb0\u5f55\u8d77\u70b9 \n\t\t\telse if(a[i][j]>='A'&&a[i][j]<='Z')             //\u8bb0\u5f55\u4f20\u9001\u95e8 \n\t\t\t{//\u611f\u89c9\u8fd9\u91cc\u53ef\u4ee5\u5199\u7684\u7b80\u5355\u4e9b\u7684\uff0c\u6709\u5174\u8da3\u7684dalao\u81ea\u884c\u5c1d\u8bd5\n\t\t\t\tdot[++num[a[i][j]]][a[i][j]][0]=i;\n\t\t\t\tdot[num[a[i][j]]][a[i][j]][1]=j;   \n\t\t\t\tsum[i][j]=num[a[i][j]];            //sum[]\u6bd4\u8f83\u5de7\u5999\uff0c\u5728\u540e\u9762\u7684%2+1\u5c31\u53ef\u4ee5\u6c42\u51fa\u76ee\u7684\u5730\u5728\u54ea\u91cc \n\t\t\t\t/*\u56e0\u4e3a\u4e00\u4e2a\u4f20\u9001\u95e8\u5bf9\u5e94\u7684\u53ea\u6709\u4e00\u4e2a\u76ee\u7684\u5730\uff0c\u6240\u4ee5\u53ef\u4ee5\u8bb0\u5f55\u4e0b\u6765\u6bcf\u4e00\u4e2a\u4f20\u9001\u95e8\u524d\u5f80\u4f55\u5904*/ \n\t\t\t}\n\t\t}\n\t}\n\tteam[1][0]=cx,team[1][1]=cy,team[1][2]=0,pd[cx][cy]=1;     //\u521d\u59cb\u5316\u961f\u5217 \n\tdo\n\t{\n\t\thead++;\n\t\tfor(R i=0;i<4;i++)        //\u5faa\u73af\u771f\u65b9\u4fbf \uff08\u96fe \n\t\t{\n\t\t\tll tox=team[head][0]+dx[i],toy=team[head][1]+dy[i];\n\t\t\tif(a[tox][toy]=='#')continue;      //\u649e\u5899\u5c31\u6362\u4e2a\u65b9\u5411 \n\t\t\telse if(a[tox][toy]>='A'&&a[tox][toy]<='Z')\n\t\t\t{\n\t\t\t\tll tx=dot[sum[tox][toy]%2+1][a[tox][toy]][0],ty=dot[sum[tox][toy]%2+1][a[tox][toy]][1];\n\t\t\t\tif(!pd[tx][ty])\n\t\t\t\t{\n\t\t\t\t\tpd[tx][ty]=1;          //\u4e0d\u8981\u628a\u4f20\u9001\u8d77\u70b9\u6807\u8bb0\u4e3a\u5230\u8fbe\u8fc7\uff0c\u56e0\u4e3a\u4f60\u53ef\u80fd\u8fd8\u4f1a\u56de\u6765\u7684 \n\t\t\t\t\tteam[++tail][0]=tx;\n\t\t\t\t\tteam[tail][1]=ty;\n\t\t\t\t\tteam[tail][2]=team[head][2]+1;\n\t\t\t\t\tif(team[tail][0]==zx&&team[tail][1]==zy)    //\u5224\u65ad\u6709\u6ca1\u6709\u5230\u8fbe\u7ec8\u70b9 \n\t\t\t\t\t{\n\t\t\t\t\t\tcout<<team[tail][2];\n\t\t\t\t\t\texit(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(a[tox][toy]=='.'&&!pd[tox][toy])\n\t\t\t{\n\t\t\t\tpd[tox][toy]=1;\n\t\t\t\tteam[++tail][0]=tox;\n\t\t\t\tteam[tail][1]=toy;\n\t\t\t\tteam[tail][2]=team[head][2]+1;\n\t\t\t\tif(team[tail][0]==zx&&team[tail][1]==zy)\n\t\t\t\t{\n\t\t\t\t\tcout<<team[tail][2];\n\t\t\t\t\texit(0);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}while(head<tail);\n\tI LOVE LUOGU                         //\u6211\u7231\u6d1b\u8c37 \n}\n\n//\u5df1\u6240\u4e0d\u6b32\u65bd\u4e8e\u4eba\uff0c\u591a\u5b66\u4e0d\u4e49\u5fc5\u81ea\u6bd9\u3002         \u2014\u2014slgdsxw \n```\n\n\u8dddCSP\uff08AFO\uff09\u53ea\u52695\u5929\u5566\uff01\n### rp++\uff0csy++\uff0c\u505a\u7684\u5168\u90fd\u4f1a\uff0c\u8499\u7684\u5168\u90fd\u5bf9\uff01",
        "postTime": 1573292125,
        "uid": 224552,
        "name": "kokodayou",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "- \u6b63\u89e3\uff1a\n  - \u5e7f\u641c\uff08bfs\uff09\uff0c\u76f4\u63a5\u5f00\u4e2a\u6570\u7ec4\u5b58\u50a8\u4f20\u9001\u95e8\uff0c\u4e4b\u540e\u5199\u5373\u53ef\uff0c\u4ee3\u7801\u4e0d\u505a\u5c55\u793a\n  - \u6700\u77ed\u8def\u89e3\u6cd5\uff08$Floyd$\u4f1a$TLE$\uff0c\u8fb9\u6743\u5747\u6b63\uff0c\u5199$spfa$\u4e0e$dijkstr$a\u90fd\u53ef\u4ee5\uff0c\u8fd9\u91cc\u7528$dijkstra$\uff09\n    - \u82e5\u4e0d\u8003\u8651\u4f20\u9001\u95e8\uff0c\u76f4\u63a5\u626b\u4e00\u904d\uff0c\u82e5\u4e3a'.'\uff0c\u76f4\u63a5\u4e0e\u56db\u5468\u5efa\u8fb9\u6743\u4e3a1\u7684\u8fb9\uff0c\u6700\u540e\u8dd1\u4e00\u904d\u6700\u77ed\u8def\u5373\u53ef\n    - **\u4f46\u662f\uff0c\u8d70\u8fc7\u4f20\u9001\u95e8\u5fc5\u987b\u4f20\u9001**\uff0c\u6240\u4ee5\u4e0d\u53ef\u76f4\u63a5\u5728\u4f20\u9001\u95e8\u4e2d\u5efa\u8fb9\u6743\u4e3a0\u7684\u8fb9\uff0c\u6240\u4ee5\uff0c\u60f3\u5230\u4e86\u62c6\u70b9\u6cd5\u2014\u2014\u5c06\u6bcf\u4e2a\u70b9\u62c6\u4f4d\u4e24\u4e2a\u70b9\uff08\u7f16\u53f7\u4e3a0\uff0c1\uff0c0\u4ee3\u8868\u4e0a\u6b21\u521a\u521a\u5230\u8fd9\u4e2a\u70b9\uff0c1\u4ee3\u8868\u4e0b\u6b21\u9700\u8981\u79bb\u5f00\u8fd9\u4e2a\u70b9\uff09\uff0c\u4e4b\u540e\u7684\u64cd\u4f5c\u4e0e\u4e0d\u5e26\u4f20\u9001\u95e8\u7684\u51e0\u4e4e\u4e00\u6837\uff0c\u82e5\u4e3a.\uff0c\u76f4\u63a5\u4e0e\u90bb\u70b9\u5efa\u8fb9\u6743\u4e3a1\u7684\u8fb9\uff0c\u518d\u5efa\u4e00\u67610\u76f4\u63a5\u52301\u7684\u6743\u503c\u4e3a0\u7684\u8fb9\uff1b\u82e5\u4e3a\u4f20\u9001\u95e8\uff0c\u4e5f\u76f4\u63a5\u4e0e\u90bb\u70b9\u5efa\u8fb9\u6743\u4e3a1\u7684\u8fb9\uff0c\u518d\u5efa\u4e00\u6761\u76f4\u63a5\u5230\u4f20\u9001\u95e8\u53e6\u4e00\u5934\u7684\u6743\u503c\u4e3a0\u7684\u8fb9\uff0c\u4e4b\u540e\u8dd1\u4e00\u904d\u6700\u77ed\u8def\u5373\u53ef\n    - \u5751\u70b9\uff1a\n      - \u5982\u679c\u4e00\u5934\u5976\u725b\u5904\u5728\u8fd9\u4e2a\u88c5\u7f6e\u7684\u8d77\u70b9\u6216\u8005\u7ec8\u70b9\uff0c\u8fd9\u5934\u5976\u725b\u5c31\u5fc5\u987b\u4f7f\u7528\u8fd9\u4e2a\u88c5\u7f6e\u3002=>\u4f20\u9001\u95e8\u5fc5\u987b\u505a\n      - \u4e0d\u8981\u5f04\u6df7n\uff0cm\n    - \u4ee3\u7801\uff1a\n\n\n```\n# include <iostream>\n# include <cstdio>\n# include <set>\nusing namespace std ;\n\nstruct Edge\n{\n\tint to , next , w ;\n} ;\n\nEdge g[400005] ;\nint dis[400005] ;\nint gsz ;\nint fte[400005] ;\nint fast[30] ;\nint num ;\nint dx[4] = { -1 , 0 , 0 , 1 } ;\nint dy[4] = { 0 , -1 , 1 , 0 } ;\n\nvoid addedge( int x , int y , int z )\n{\n\tg[++ gsz] = ( Edge ) { y , fte[x] , z } ;\n\tfte[x] = gsz ;\n}\nint n , m ;\nint s , t ;\nset < pair < int , int > > heap ;\nint total ;\nvoid dij( int s )\n{\n\tfor ( int i = 1 ; i <= total ; i++ )\n\t{\n\t\tdis[i] = 2147483647 ;\n\t}\n\tdis[s] = 0 ;\n\theap.insert( make_pair( 0 , s ) ) ;\n\tfor ( int i = 1 ; i <= total ; i++ )\n\t{\n\t\tint x = heap.begin() -> second ;\n\t\tint d = heap.begin() -> first ;\n\t\theap.erase( make_pair( d , x ) ) ;\n\t\tfor ( int i = fte[x] ; i ; i = g[i].next )\n\t\t{\n\t\t\tint y = g[i].to ;\n\t\t\tif ( dis[x] + g[i].w >= dis[y] )\n\t\t\t\tcontinue ;\n\t\t\theap.erase( make_pair( dis[y] , y ) ) ;\n\t\t\tdis[y] = dis[x] + g[i].w ;\n\t\t\theap.insert( make_pair( dis[y] , y ) ) ;\n\t\t} \n\t} \n}\n\nint main()\n{\n\tscanf(\"%d%d\" , &n , &m) ;\n\ttotal = 2 * n * m ;\n\tfor ( int i = 1 ; i <= n ; i++ )\n\t{\n\t\tscanf(\"\\n\") ;\n\t\tfor ( int j = 1 ; j <= m ; j++ )\n\t\t{\n\t\t\tint eid = ( i - 1 ) * m + j ;\n\t\t\tchar c ;\n\t\t\tscanf(\"%c\" , &c) ;\n\t\t\tif ( c == '#' )\n\t\t\t{\n\t\t\t\tcontinue ;\n\t\t\t}\n\t\t\tfor ( int k = 0 ; k <= 3 ; k++ )\n\t\t\t{\n\t\t\t\tint nowx = i + dx[k] ;\n\t\t\t\tint nowy = j + dy[k] ;\n\t\t\t\tint noweid = m * ( nowx - 1 ) + nowy ;\n\t\t\t\tif ( nowx >= 1 && nowx <= n && nowy >= 1 && nowy <= m )\n\t\t\t\t{\n\t\t\t\t\taddedge( noweid * 2 - 1 , eid * 2 , 1 ) ;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( c >= 'A' && c <= 'Z' )\n\t\t\t{\n\t\t\t\tif ( fast[c - 'A'] )\n\t\t\t\t{\n\t\t\t\t\taddedge( fast[c - 'A'] * 2 , eid * 2 - 1 , 0 ) ;\n\t\t\t\t\taddedge( eid * 2 , fast[c - 'A'] * 2 - 1 , 0 ) ;\n\t\t\t\t}\n\t\t\t\tfast[c - 'A'] = eid ;\n\t\t\t\tcontinue ;\n\t\t\t}\n\t\t\taddedge( eid * 2 , eid * 2 - 1 , 0 ) ;\n        if ( c == '@' )\n\t\t\t{\n\t\t\t\ts = eid * 2 - 1 ;\n\t\t\t\tcontinue ;\n\t\t\t}\n\t\t\tif ( c == '=' )\n\t\t\t{\n\t\t\t\tt = eid * 2 ;\n\t\t\t\tcontinue ;\n\t\t\t}\n\t\t\tif ( c == '.' )\n\t\t\t\tcontinue ;\n\t\t}\n\t}\n\tdij( s ) ;\n\tprintf(\"%d\\n\" , dis[t] ) ;\n\treturn 0 ;\n}\n\n```",
        "postTime": 1576917235,
        "uid": 219868,
        "name": "xsap",
        "ccfLevel": 0,
        "title": "P1825\u9898\u89e3"
    },
    {
        "content": "## \u5176\u5b9e\u8fd9\u9053\u9898\u5c31\u662f\u4e00\u9053bfs\u53d8\u5f0f(bfs + \u51e0\u6761\u6377\u5f84)\n### ~~\u819c\u62dcspfa\u7684dalao~~\n\n## \u5148\u628a\u9898\u76ee\u4e2d\u4e00\u5806\u7b26\u53f7\u548c\u5b57\u6bcd\u8868\u793a\u4e3a\u6211\u4eec\u5bb9\u6613\u770b\u7684\u6570\u5b57(\u5f53\u7136\u4e5f\u53ef\u4ee5\u7701\u53bb\u8fd9\u4e00\u6b65)\n## \u63a5\u4e0b\u6765\u5c31\u662fbfs\u6a21\u677f + \u5224\u65ad\u4f20\u9001\u95e8\n#### \u4e0d\u719f\u6089bfs\u6a21\u677f\u7684\u7ae5\u978b\u53ef\u4ee5\u53bb\u5eb7\u5eb7\u8fd9\u9053\u9898[P1746 \u79bb\u5f00\u4e2d\u5c71\u8def](https://www.luogu.org/problem/P1746)\n\n## \u63a5\u4e0b\u6765\u7684\u7ec6\u8282\u5c31\u89c1\u4ee3\u7801(\u826f\u5fc3\u63d0\u9192:\u6709\u6ce8\u91ca)\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 3e3 + 10;\nint a[maxn][maxn], vis[maxn][maxn];\nint n, m, edx, edy, stx, sty, ox, oy;\n//edx\u548cedy\u8868\u793a\u7ec8\u70b9\u5750\u6807, stx\u548csty\u8868\u793a\u8d77\u70b9\u5750\u6807, ox\u548coy\u8868\u793a\u7ecf\u8fc7\u4f20\u9001\u95e8\u540e\u7684\u5750\u6807 \nint dx[4] = {0, -1, 1, 0};\nint dy[4] = {1, 0, 0, -1};//\u56db\u4e2a\u65b9\u5411 \nstruct Node {\n\tint x, y, val;\n}now, node;\n//now\u8868\u793abfs\u641c\u7d22\u5230\u5f53\u524d\u70b9\u7684\u5750\u6807, node\u8868\u793a\u5f53\u524d\u70b9\u80fd\u8fbe\u5230\u70b9\u7684\u5750\u6807(\u6700\u4f18) \nqueue <Node> q; \ninline void chuansongmen(int xx, int yy) {\n\tint flag = 0;//flag\u8bb0\u5f55\u662f\u5426\u627e\u5230\u4f20\u9001\u95e8\u7684\u53e6\u4e00\u7aef \n\tfor(int i = 1; i <= n; i++) {\n\t\tfor(int j = 1; j <= m; j++) {\n\t\t\tif(!(xx == i && yy == j) && (a[i][j] == a[xx][yy])) {\n\t\t\t\tflag = 1;\n\t\t\t\tox = i, oy = j;\n\t\t\t}\n\t\t}\n\t}//\u5bfb\u627e\u4f20\u9001\u95e8\u7684\u53e6\u4e00\u7aef \n\t//\u6ce8\u610fif\u8bed\u53e5\u4e2d\u8981\u5224\u65ad\u4e0d\u80fd\u4e3a\u5f53\u524d\u7684\u4f20\u9001\u95e8 \n\tif(flag == 0) {\n\t\tox = xx, oy = yy;\n\t}//\u5982\u679c\u6ca1\u627e\u5230, \u5219\u5f53\u524d\u4f20\u9001\u95e8\u6ca1\u6709\u4efb\u4f55\u7528\u5904(\u53ef\u4ee5\u770b\u505a\u8349\u5806) \n}\nvoid bfs(int stx, int sty, int edx, int edy) {\n\tvis[stx][sty] = 1;\n\tnode.x = stx, node.y = sty;\n\tq.push(node);\n\twhile(q.empty() == false) {\n\t\tnow = q.front();\n\t\tq.pop();\n\t\tfor(int i = 0; i < 4; i++) {\n\t\t\tint xx = now.x + dx[i];\n\t\t\tint yy = now.y + dy[i];//\u679a\u4e3e\u56db\u4e2a\u65b9\u5411 \n\t\t\tif((a[xx][yy] != -1) && (a[xx][yy] != 1) && a[xx][yy] != 0) {\n\t\t\t\tchuansongmen(xx, yy);\n\t\t\t\txx = ox;\n\t\t\t\tyy = oy;\n\t\t\t}//\u5224\u65ad\u5f53\u524d\u70b9\u662f\u5426\u4e3a\u4f20\u9001\u95e8, \u5982\u679c\u662f, \u5219\u5f00\u59cb\u5bfb\u627e\u4f20\u9001\u95e8\u53e6\u4e00\u7aef \n\t\t\tif(xx < 1 || xx > n || yy < 1 || yy > m || a[xx][yy] == 1 || vis[xx][yy] == 1) continue;\n\t\t\t//\u5224\u65ad:\u8fbe\u5230\u8fb9\u754c\u3001\u662f\u5426\u4e3a\u7389\u7c73\u7530\u3001\u662f\u5426\u8bbf\u95ee\u8fc7 \n\t\t\telse {\n\t\t\t\tif(xx == edx && yy == edy) {\n\t\t\t\t\tcout << now.val + 1;//\u8bb0\u5f97\u8d70\u5230\u7ec8\u70b9\u8fd8\u8981\u4e00\u6b65 \n\t\t\t\t\treturn;\n\t\t\t\t}//\u5224\u65ad\u662f\u5426\u5230\u7ec8\u70b9 \n\t\t\t\tnode.x = xx, node.y = yy, node.val = now.val + 1;\n\t\t\t\tvis[xx][yy] = 1;\n\t\t\t\tq.push(node);//bfs\u5230\u4e0b\u4e00\u6b65, \u5b58\u5165\u961f\u5217, \u52a0\u4e0a\u6807\u8bb0 \n\t\t\t}\n\t\t}\n\t}\n}\nint main() {\n\tcin >> n >> m;\n\tchar s;\n\tfor(int i = 1; i <= n; i++) {\n\t\tfor(int j = 1; j <= m; j++) {\n\t\t\tcin >> s;\n\t\t\tif(s == '#') a[i][j] = 1;//1\u4e3a\u4e0d\u80fd\u8d70\u7684\u70b9 \n\t\t\telse if(s == '.') a[i][j] = 0;//0\u4e3a\u80fd\u8d70\u7684\u70b9\n\t\t\telse if(s == '=') {\n\t\t\t\tedx = i, edy = j;\n\t\t\t\ta[i][j] = -1;//-1\u4e3a\u51fa\u53e3 \n\t\t\t}\n\t\t\telse if(s == '@') {\n\t\t\t\tstx = i, sty = j;\n\t\t\t\ta[i][j] = -1;//\u8fd9\u91cc\u5165\u53e3\u4e0e\u51fa\u53e3\u4e00\u6837\u5e76\u4e0d\u5f71\u54cd \n\t\t\t}\n\t\t\telse a[i][j] = s; \n\t\t}\n\t}\n\tbfs(stx, sty, edx, edy); \n\treturn 0;\n} \n```\n## \u9644\u4e0a\u4e00\u7ec4~~\u86c7\u76ae~~\u6570\u636e\n```cpp\n37 70\n######################################################################\n#....#TCP#...........................................................#\n#....#####.....#......#..............................................#\n#.............#.#....#.#.............................................#\n#..............######W#..............................................#\n#.............#........#..##############################.............#\n#............#..V....V..#..#............................#..#...#.....#\n#.............#........#....#............................#..#.#.#....#\n#.............#..X##X..#..#...............W...............#..#...#...#\n#............#...N##N...#..#.............................#...........#\n#........MOO..#..@.....#....#.#.#.#...................#.#............#\n#..............########.....#.#.#.##############.#.#..#.#............#\n#...........................#.#.#.#.............#.#.#.#.#............#\n#.......#########...........#.#.#.#.................#.#.#............#\n#......#.........#..........#.#.#.#.................#.#.#............#\n#..#.#.#G#R#A#S#S#.#.#......#.#.#.#.................#.#I#............#\n#..###################......#T#C#P#.................#I#G#............#\n#............................#.#.#...................#.#.............#\n#....................................................................#\n#....................................................................#\n#......########........########.......#...........#...........#......#\n#.....#...............#R......A#.......#.........#.#.........#.......#\n#.....#...............#........#........#.......#...#.......#........#\n#.....#...............#........#.........#.....#.....#.....#.........#\n#.....#...............#........#..........#...#.......#...#..........#\n#.....#...............#..M.....#...........#.#.........#.#...........#\n#......########........########.............#...........#............#\n#....................................................................#\n#....................................................................#\n#....................................................................#\n####################################################################.#\n#....................................................................#\n##.###################################################################\n#..#F#ZD#.#Y#.#JL#.#...#QJ#.#.#.#.#EK#....#.L#.............#BQ#......#\n#.##Z####.#U#.####.#.#.####.#.#.#.####.#..####.............####.####.#\n#....#DE#.###.#UH#...#.#HK#.#.#.#.#F...#........................#BY#.#\n####################################################################=#\n```\n### \u6b63\u786e\u8f93\u51fa:232\n## \u5b8c\u7f8e\u8c22\u5e55,\u8c22\u8c22\u5927\u5bb6",
        "postTime": 1571142034,
        "uid": 66823,
        "name": "wbling",
        "ccfLevel": 0,
        "title": "\u9898\u89e3\uff1aP1825 \u7389\u7c73\u7530\u8ff7\u5bab(bfs)"
    },
    {
        "content": " \u8fd9\u4e00\u9898\u672c\u6765\u662f\u666e\u901a\u7684bfs\uff0c\u4f46\u5751\u70b9\u5374\u5f88\u591a\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u7591\u4f3c\u6570\u636e\u95ee\u9898\u3002\n \n ### \u5751\u70b91\uff1a \u4f20\u9001\u95e8\u53ef\u4ee5\u591a\u6b21\u8d70\n bfs\u4e0d\u6269\u5f20\u91cd\u590d\u70b9\uff0c\u8fd9\u662f\u5b83\u6bd4dfs\u5feb\u7684\u539f\u56e0\u4e4b\u4e00\u3002\u4f46\u8fd9\u4e00\u9898\u4f20\u9001\u95e8\u53ef\u4ee5\u591a\u6b21\u8d70\uff0c\u6bd4\u5982\u8fd9\u4e2a\u6837\u4f8b\uff1a\n \n```cpp\n5 5\n#####\n#.#.#\n#A#A=\n#.#@#\n#####\n\n```\n\n\u4f20\u9001\u95e8\u662f\u5f3a\u5236\u4f20\u9001\u7684\uff0c\u6ca1\u6709\u9009\u62e9\uff0c\u6240\u4ee5\u9700\u8981\u4e24\u6b21\u7ecf\u8fc7\u4f20\u9001\u95e8\uff0c\u4f20\u8fc7\u53bb\u518d\u4f20\u56de\u6765\u3002\n\n**\u89e3\u51b3\u65b9\u6848\uff1a**\n\n\u5c31\u62ff\u6837\u4f8b\u6765\u8bf4\uff0c\u4ece@\u5230\u7b2c\u56db\u5217\u7684A\u4f1a\u76f4\u63a5\u4f20\u5230\u7b2c\u4e8c\u5217\u7684A\uff0c\u53ef\u4ee5\u770b\u505a\u6ca1\u7ecf\u8fc7\u7b2c\u56db\u5217\u7684A\uff0c\u800c\u662f\u76f4\u63a5\u5230\u4e86\u7b2c\u4e8c\u5217\u7684A\uff0c\u7a0d\u5fae\u5904\u7406\u4e00\u4e0b\u5373\u53ef\u3002\n\n**\u5904\u7406\u4ee3\u7801**\n\n```cpp\n//\u5982\u679c\u662f\u4f20\u9001\u95e8\u5c31\u76f4\u63a5\u8df3\u5230\u53e6\u4e00\u5934\nif(mp[xx][yy]>='A'&&mp[xx][yy]<='Z')\n{\n\tint t=mp[xx][yy]-'A';\n\t//x0,y0,x1,y1\u5206\u522b\u4e3a\u4f20\u9001\u95e8\u4e24\u7aef\u7684\u6a2a\u7eb5\u5750\u6807\t\n\txx=xx==x0[t]?x1[t]:x0[t];//\u8df3\u8f6c\n\tyy=yy==y0[t]?y1[t]:y0[t];\n}\n\n```\n### \u5751\u70b92\uff1a \u4f20\u9001\u95e8\u4e0d\u914d\u5168\n\u7591\u4f3c\u6570\u636e\u95ee\u9898\u3002\u5c31\u7b2c\u56db\u4e2a\u70b9\u7684\u4f20\u9001\u95e8Z\uff0c\u5176\u4ed6\u90fd\u6ca1\u95ee\u9898\u3002\u867d\u7136\u6d1b\u8c37\u6ca1\u8bf4\uff0c\u4f46\u5176\u5b83oj\u90fd\u4fdd\u8bc1\u4e86\u4f20\u9001\u95e8\u6210\u5bf9\u51fa\u73b0\u3002\n\n\u5bf9\u4e8e\u6211\u7684\u4ee3\u7801\uff0c\u5b83\u4f1a\u8df3\u8f6c\u5230\u7b2c0\u884c\uff0c\u7b2c0\u5217\uff0c\u800c\u6211\u5224\u65ad\u80fd\u8d70\u7684\u4f9d\u636e\u53ea\u6709\u4e0d\u4e3a#\uff0c\u6240\u4ee5\u5c31\u8d8a\u754c\u4e86\u3002\u6211\u5c31\u76f4\u63a5\u628amp[0][0]\u8d4b\u4e3a#\uff0c\u628a\u5355\u72ec\u7684\u4f20\u9001\u95e8\u770b\u6210#\u5c31\u884c\u3002\n\n**code\uff1a**\n```cpp\n#include<iostream>\nusing namespace std;\nconst int dx[4]={1,0,-1,0},dy[4]={0,1,0,-1};\nchar mp[310][310];\nint f[310][310],qx[90010],qy[90010],x0[26],y0[26],x1[26],y1[26],q1=1,q2;\nint main()\n{\n\tmp[0][0]='#';//\u628amp[0][0]\u8d4b\u4e3a#\uff0c\u9632\u6b62\u8d8a\u754c\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tcin>>mp[i][j];\n\t\t\tif(mp[i][j]=='@')//\u8d77\u70b9\u5165\u961f\n\t\t\t{\n\t\t\t\tqx[++q2]=i;\n\t\t\t\tqy[q2]=j;\n\t\t\t\tf[i][j]=1;\n\t\t\t}\n\t\t//\u9884\u5904\u7406\u4f20\u9001\u95e8\u4e24\u7aef\u7684\u6a2a\u7eb5\u5750\u6807\n\t\tif(mp[i][j]>='A'&&mp[i][j]<='Z')\n\t\t\t{\n\t\t\t\tint t=mp[i][j]-'A';\n\t\t\t\tif(!x0[t])x0[t]=i,y0[t]=j;\n\t\t\t\telse x1[t]=i,y1[t]=j;\n\t\t\t}\n\t\t}\n\twhile(q1<=q2)\n\t{\n\t\tint x=qx[q1],y=qy[q1];\n\t\tfor(int i=0;i<4;i++)\n\t\t{\n\t\t\tint xx=x+dx[i],yy=y+dy[i];\n            //\u5982\u679c\u662f\u4f20\u9001\u95e8\u5c31\u76f4\u63a5\u8df3\u5230\u53e6\u4e00\u5934\n\t\t\tif(mp[xx][yy]>='A'&&mp[xx][yy]<='Z')\n\t\t\t{\n\t\t\t\tint t=mp[xx][yy]-'A';\n\t\t\t\txx=xx==x0[t]?x1[t]:x0[t];\n\t\t\t\tyy=yy==y0[t]?y1[t]:y0[t];\n\t\t\t}\n            //\u7167\u5e38\u5904\u7406\n            //\u7528f\u540c\u65f6\u4ee3\u8868\u6b65\u6570\u548c\u8d70\u6ca1\u8d70\u8fc7\n\t\t\tif(mp[xx][yy]!='#'&&!f[xx][yy])\n\t\t\t{\n\t\t\t\tf[xx][yy]=f[x][y]+1;\n\t\t\t\tqx[++q2]=xx;\n\t\t\t\tqy[q2]=yy;\n\t\t\t\tif(mp[xx][yy]=='=')\n\t\t\t\t{\n                \t//\u8d77\u70b9\u6b65\u6570\u5373\u4e3a\u4e00\uff0c\u6240\u4ee5\u8981\u51cf\u4e00\n\t\t\t\t\tprintf(\"%d\\n\",f[xx][yy]-1);\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tq1++;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1550489310,
        "uid": 151722,
        "name": "hht2005",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "## \u9996\u5148\uff0c\u8fd9\u662f\u4e00\u4e2a\u6700\u77ed\u8def\uff0c\u5e94\u8be5\u4e0d\u9700\u8981\u89e3\u91ca\n#### \u4e8e\u662f\u6211\u4eec\u770b\u4e00\u4e0b\u6700\u77ed\u8def\u7684\u5404\u79cd\u65b9\u6cd5\uff1a\n**floyd:**\u9996\u5148\uff0c\u6b64\u9898\u7528floyd\u590d\u6742\u5ea6\u6700\u9ad8\u4f1a\u6210$(90000^3)$\uff0c\u76f4\u63a5\u7206\u70b8\uff0c\u4e0d\u80fd\u4f7f\u7528\u3002  \n**dijkstra:**\u5728\u6837\u4f8b\u4e2d\u5df2\u7ecf\u6709\u73af\u4e86\uff0c\u8fd9\u4e0d\u7b26\u5408dijkstra\u7684\u8981\u6c42\uff0c\u4e0d\u80fd\u4f7f\u7528\u3002  \n**spfa:**\u6b63\u5e38\u72b6\u6001\u3002  \n**bfs:**\u5bf9\u4e8e\u8fd9\u4e2a\u9898\u662f\u6b63\u5e38\u7684\uff0c\u4f46\u4f7f\u7528\u8303\u56f4\u6709\u9650\uff0c\u4e0d\u5efa\u8bae\u7ec3\u4e60\uff0c\u57fa\u672c\u4e0a\u80fd\u7528bfs\u7684\u7528\u5176\u5b83\u65b9\u6cd5\u53ef\u4ee5\u505a\uff0cbfs\u4e5f\u51fa\u4e0d\u5230\u591a\u96be\uff0c\u6240\u4ee5\u4e0d\u63a8\u8350\u3002\n\n\n------------\n## \u6b63\u65871\n\u8bbe\u7acb\u4e00\u4e2a\u5148\u8fdb\u5148\u51fa\u7684\u961f\u5217\u7528\u6765\u4fdd\u5b58\u5f85\u4f18\u5316\u7684\u8282\u70b9\uff0c  \n\u4f18\u5316\u65f6\u6bcf\u6b21\u53d6\u51fa\u961f\u9996\u8282\u70b9u\uff0c  \n\u5e76\u4e14\u7528u\u70b9\u5f53\u524d\u7684\u6700\u77ed\u8def\u5f84\u4f30\u8ba1\u503c\u5bf9u\u70b9\u6240\u6307\u5411\u7684\u8282\u70b9v\u8fdb\u884c\u677e\u5f1b\u64cd\u4f5c\uff0c  \n\u5982\u679cv\u70b9\u7684\u6700\u77ed\u8def\u5f84\u4f30\u8ba1\u503c\u6709\u6240\u8c03\u6574\uff0c  \n\u4e14v\u70b9\u4e0d\u5728\u5f53\u524d\u7684\u961f\u5217\u4e2d\uff0c\u5c31\u5c06v\u70b9\u653e\u5165\u961f\u5c3e\u3002\n\u8fd9\u6837\u4e0d\u65ad\u4ece\u961f\u5217\u4e2d\u53d6\u51fa\u8282\u70b9\u6765\u8fdb\u884c\u677e\u5f1b\u64cd\u4f5c\uff0c  \n\u76f4\u81f3\u961f\u5217\u7a7a\u4e3a\u6b62\u3002  \n\u8fd9\u4e2a\u7b97\u6cd5\u4fdd\u8bc1\u53ea\u8981\u6700\u77ed\u8def\u5f84\u5b58\u5728\uff0c  \nSPFA\u7b97\u6cd5\u5fc5\u5b9a\u80fd\u6c42\u51fa\u6700\u5c0f\u503c\u3002\nSPFA\u7b97\u6cd5\u540c\u6837\u53ef\u4ee5\u5224\u65ad\u8d1f\u73af\uff0c  \n\u5982\u679c\u67d0\u4e2a\u70b9\u5f39\u51fa\u961f\u5217\u7684\u6b21\u6570\u8d85\u8fc7n-1\u6b21\uff0c  \n\u5219\u5b58\u5728\u8d1f\u73af\u3002  \n\u5bf9\u4e8e\u5b58\u5728\u8d1f\u73af\u7684\u56fe\uff0c  \n\u65e0\u6cd5\u8ba1\u7b97\u5355\u6e90\u6700\u77ed\u8def\u5f84\u3002\n\n#### \u6211\u4eec\u7528\u4e00\u4e2a\u56fe\u6765\u6a21\u62df\u4e00\u4e0b\n![](https://cdn.luogu.com.cn/upload/pic/48341.png)\n\n\n------------\n## \u6b63\u65872\n\u5176\u5b9e\u672c\u9898\u7684spfa\u90e8\u5206\u662f\u4e0d\u9700\u8981\u4ec0\u4e48\u4fee\u6539\u7684\uff0c\u5957\u6a21\u677f\u5373\u53ef\u3002\n#### \u5173\u952e\u5728\uff1a\n**\u8fde\u8fb9\uff01**  \n\u6b64\u9898\u8fde\u8fb9\u5f88\u5bb9\u6613\u51fa\u9519\uff0c\u7279\u522b\u662f\u5bf9\u4e8e\u4f20\u9001\u95e8\u7684\u5904\u7406\uff0c\u662f\u8d70\u5230\u4f20\u9001\u95e8\u4e0a\u5c31\u4f20\u9001\uff0c\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u601d\u8003\u4e00\u4e0b\u3002  \n\u600e\u4e48\u601d\u8003\u5462\uff1f  \n\u540c\u6837\uff0c\u4e0a\u56fe\uff01  \n![](https://cdn.luogu.com.cn/upload/pic/48342.png)\n#\u3001@\u3001=\u3001A\u3001.  \n\u8ddf\u9898\u76ee\u63cf\u8ff0\u4e00\u6837\u3002  \n\u6df1\u7070\u8272\u7684\u7bad\u5934\uff1a\u521d\u59cb\u53cc\u5411\u8fb9\u3002  \n\u84dd\u8272\u7bad\u5934\uff1a\u56e0\u4f20\u9001\u95e8\u800c\u66f4\u6539\u540e\u7684\u53cc\u5411\u8fb9\u3002  \n\u9ed1\u8272\u7bad\u5934\uff1a\u6700\u7ec8\u6700\u77ed\u8def\u3002  \n\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\uff0c\u8d70\u5230\u4f20\u9001\u95e8\u4e0a\u7acb\u5373\u4f20\u9001\uff0c\u90a3\u4e48\u5728\u8d70\u5411\u7684\u4f20\u9001\u95e8\u4e0a\u5c31**\u6ca1\u6709\u505c\u7559**\uff0c\u5c31\u8d70\u5230\u53e6\u4e00\u4e2a\u4f20\u9001\u95e8\uff08**\u5982\u679c\u6709\u7684\u8bdd**\uff09  \n\u597d\u4e86\uff0c\u53ef\u4ee5\u4e0a\u4ee3\u7801\u4e86\uff0c\u597d\u597d\u7406\u89e3\u4e00\u4e0b\u52a0\u9ed1\u533a\u57df\n\n\n------------\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=90005,maxm=10000005,INF=2147483647;\nstruct Edge {\n\tint to,v,next;\n} w[maxm];\nint h[maxn]= {0},d[maxn],q[maxn],vst[maxn]= {0},used[maxn]= {0},zm[201],zm2[201],mp[305][305],dx[4]= {1,0,-1,0},dy[4]= {0,1,0,-1};\nint N,M,cnt=0,S,E,ncnt=0;\nchar maps[305][305];\n//spfa\u4e0eaddegde\u6a21\u677f\nvoid SPFA(int v0) {\n\tint L=0,r=0,i,j,p;\n\tfor(i=1; i<=ncnt; i++)d[i]=INF;\n\td[v0]=0;\n\tr++;\n\tq[r]=v0;\n\tvst[v0]=1;\n\twhile(L!=r) {\n\t\tL=(L+1)%maxn;\n\t\ti=q[L];\n\t\tvst[i]=0;\n\t\tfor(p=h[i]; p; p=w[p].next) {\n\t\t\tj=w[p].to;\n\t\t\tif(d[j]>d[i]+w[p].v) {\n\t\t\t\tused[j]++;\n\t\t\t\tif(used[j]>=N)return;\n\t\t\t\td[j]=d[i]+w[p].v;\n\t\t\t\tif(!vst[j]) {\n\t\t\t\t\tr=(r+1)%maxn;\n\t\t\t\t\tq[r]=j;\n\t\t\t\t\tvst[j]=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn;\n}\n\nvoid AddEdge(int x,int y,int z) {\n\tcnt++;\n\tw[cnt].to=y;\n\tw[cnt].v=z;\n\tw[cnt].next=h[x];\n\th[x]=cnt;\n}\nvoid Read() {\n\tstring s;\n\tcin>>N>>M;\n\t//cout<<N<<\" \"<<M<<endl;\n\tfor(register int i=1; i<=N; i++) {\n\t\tcin>>s;\n\t\tfor(register int j=1; j<=M; j++) {\n\t\t\tmaps[i][j]=s[j-1];\n\t\t\tif(maps[i][j]=='#')continue;//\u51cf\u5c11\u70b9\u6570\n\t\t\tmp[i][j]=++ncnt;\n\t\t\tif((maps[i][j]>='a'&&maps[i][j]<='z')||(maps[i][j]>='A'&&maps[i][j]<='Z')) {//\u5982\u679c\u662f\u5b57\u6bcd\n\t\t\t\tif(!zm[maps[i][j]])//\u7b2c\u4e00\u4e2a\n\t\t\t\t\tzm[maps[i][j]]=ncnt;\n\t\t\t\telse//\u7b2c\u4e8c\u4e2a\n\t\t\t\t\tzm2[maps[i][j]]=ncnt;\n\t\t\t}\n\t\t\tif(maps[i][j]=='@')S=ncnt;//\u59cb\n\t\t\tif(maps[i][j]=='=')E=ncnt;//\u7ec8\n\t\t}\n\t}\n\t/*\u8fd9\u662f\u4e00\u4e2a\u8c03\u8bd5\n\tfor(register int i=1; i<=N; i++) {\n\t    for(register int j=1; j<=M; j++)cout<<mp[i][j]<<' ';\n\t    cout<<endl;\n\t}*/\n\tfor(register int i=1; i<=N; i++) {\n\t\tfor(register int j=1; j<=M; j++) {\n\t\t\tif(maps[i][j]=='#')continue;\n\t\t\tfor(register int k=0; k<=3; k++) {\n\t\t\t\tint kx=i+dx[k],ky=j+dy[k];\n\t\t\t\tif(kx>0&&kx<=N&&ky>0&&ky<=M&&mp[kx][ky]) {//\u5982\u679c\u53ef\u4ee5\u8d70\n\t\t\t\t\tif(zm2[maps[kx][ky]]&&maps[kx][ky]>='A'&&maps[kx][ky]<='Z') {//\u5e76\u4e14\u662f\u5b57\u6bcd\uff0c\u8fd8\u6709\u7b2c\u4e8c\u4e2a\u5b57\u6bcd\n\t\t\t\t\t\tif(zm[maps[kx][ky]]==mp[kx][ky]) {//\u5982\u679c\u662f\u7b2c\u4e00\u4e2a\u4f20\u9001\u95e8\n\t\t\t\t\t\t\t//\u8fd9\u4e9b\u4e5f\u662f\u8c03\u8bd5 cout<<mpij<<' '<<zm2[maps[kx][ky]]<<endl;\n\t\t\t\t\t\t\tAddEdge(mp[i][j],zm2[maps[kx][ky]],1);//\n\t\t\t\t\t\t} else {//\u7b2c\u4e8c\u4e2a\n\t\t\t\t\t\t\t//cout<<mpij<<' '<<zm[maps[kx][ky]]<<endl;\n\t\t\t\t\t\t\tAddEdge(mp[i][j],zm[maps[kx][ky]],1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse { // \u666e\u901a\u8fde\u8fb9\n\t\t\t\t\t\t\t//cout<<mpij<<' '<<mp[kx][ky]<<endl;\n\t\t\t\t\t\t\tAddEdge(mp[i][j],mp[kx][ky],1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t}\nint main() {\n\tRead();\n\tSPFA(S);\n\tcout<<d[E];//\u4e3b\u51fd\u6570\n\treturn 0;\n}\n```\n\u7ec8\u4e8e\u5199\u5b8c\u4e86",
        "postTime": 1547046199,
        "uid": 104324,
        "name": "abruce",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "\u521d\u6b21\u89c1\u6b64\u9898\uff0c\u8ba4\u4e3a\u662f\u641c\u7d22\u7684\u6a21\u677f\uff0cdfs\u521d\u7a3f\u4e0b\u4e00\u5b50\u6253\u51fa\u6765\uff0c\u8c03\u8c03\u8c03\u4e86\u534a\u5929\u6700\u540e\u641e\u4e86\u4e2a86\u5206\uff0c\u5728\u6b64\u63d0\u9192\u4e00\u4e0b\uff1a\n1.\u5982\u679c\u4e00\u5934\u5976\u725b\u5904\u5728\u8fd9\u4e2a\u88c5\u7f6e\u7684\u8d77\u70b9\u6216\u8005\u7ec8\u70b9\uff0c\u8fd9\u5934\u5976\u725b\u5c31\u5fc5\u987b\u4f7f\u7528\u8fd9\u4e2a\u88c5\u7f6e\u3002\n2.\u4f20\u8fc7\u53bb\u4e4b\u540e\u4e0d\u80fd\u9a6c\u4e0a\u4f20\u56de\u6765(\u771f\u7684\u5751)\n\n\u4e8e\u662f\u5462\u8fd9\u4e2a\u9898\u76ee\u5c31\u88ab\u6211\u653e\u4e86\u4e00\u4e2a\u5b66\u671f\uff0c\u4e00\u76f4\u5361\u7740\u8fc7\u4e0d\u53bb\uff0c\u76f4\u5230\u6211\u67d0\u4e00\u5929\u60f3\u8d77\u4e86**\u6700\u77ed\u8def**\u2026\u2026\n\n**PS:\u6b64\u65b9\u6cd5\u53ea\u62ff\u5230\u4e8693\u5206\uff0c\u4ec5\u4f5c\u53c2\u8003**\n\n##  \u5efa\u6a21\n1.\u628a\u4e8c\u7ef4\u7684\u5750\u6807\u8f6c\u5316\u4e3a\u4e00\u7ef4\u7684\u70b9\n  ```\n  5 6\n  ###=##\n  #.W.##\n  #.####\n  #.@W##\n  ######\n```\n  \u6837\u4f8b\u4e3a\u4f8b \n      \u8d77\u70b9(4,3) \u8f6c\u5316\u4e3a(4-1)*6+3=21\n      \u7ec8\u70b9(1,4) \u8f6c\u5316\u4e3a(1-1)*6+4=4\n  \u8bbe\u5750\u6807\u4e3a(x,y) \u8ff7\u5bab\u884c\u6570n,\u5217\u6570m,\u5219\u8f6c\u5316\u4e3a(x-1)*m+y\n\n2.\u8fde\u8fb9\n\n(1)\u8bfb\u5230'#'\u76f4\u63a5continue;\n\n(2)\u5f53\u8bfb\u5230'**.**','**=**','**@**'\u65f6 \u5411\u4e0a\u4e0b\u5de6\u53f3\u8fde\u8fb9\n    \t\u8bbe\u5f53\u524d\u70b9\u8f6c\u5316\u540e\u5750\u6807\u4e3anowpos\uff0c\u5219\n\n\t\taddedge(nowpos,nowpos+1,1);\n        addedge(nowpos,nowpos-1,1);\n        addedge(nowpos,nowpos-m,1);\n        addedge(nowpos,nowpos+m,1);\n\n    \t\n        \u5982\u679c\u662f'@','='\u5219\u8981\u8bb0\u5f55\u8d77\u59cb\u4f4d\u7f6e\u548c\u7ed3\u675f\u4f4d\u7f6e_st,_end\n        \n(3)\u5f53\u8bfb\u5230\u4f20\u9001\u95e8\u65f6\n\n    1\u00b0\u6b64\u524d\u6ca1\u6709\u8bfb\u5230\u8fc7\u5bf9\u5e94\u7684\u4f20\u9001\u95e8\uff0c\u8bb0\u5f55\u5f53\u524d\u4f20\u9001\u95e8\u7684\u4f4d\u7f6e\n    \n    2\u00b0\u6b64\u524d\u8bfb\u5230\u8fc7\u76f8\u5e94\u7684\u4f20\u9001\u95e8 \u6784\u5efa\u865a\u62df\u8282\u70b9\uff08\u53ef\u80fd\u6709\u70b9\u8bf4\u4e0d\u6e05\uff09\n    \t\t\u56e0\u4e3a _~~2.\u4f20\u8fc7\u53bb\u4e4b\u540e\u4e0d\u80fd\u9a6c\u4e0a\u4f20\u56de\u6765(\u771f\u7684\u5751)~~_\n            \u4e3e\u4e2a\u4f8b\u5b50\uff1a\u8fd9\u662f\u6211\u81ea\u5236\u7684\u4e00\u4e2a\u6781\u5751\u6570\u636e\n\n\t\t\t6 6\n            ######\n            #@#A.#\n            #A##.#\n            #.B#B#\n            #....#\n            ####=#\n            \n\n            \u5e94\u8be5\u8f93\u51fa 7 \u5982\u679c\u4e0d\u8003\u8651\u7acb\u5373\u4f20\u56de\u6765\u7684\u95ee\u9898\uff0c\u5c31\u4f1a\u8f93\u51fa 5\n            \n            \u6bd4\u5982\u73b0\u5728\u6709\u4e24\u4e2a\u70b9 u,v\u662f\u5bf9\u5e94\u7684\u4f20\u9001\u95e8,\u6211\u4eec\u4e0d\u5e94\u8be5\u76f4\u63a5addedge(u,v,0),addedge(v,u,0)\u3002\n            \u800c\u662f\u5e94\u8be5 addedge(u,v+n*m,0),addedge(v,u+n*m,0);\n            \n            \u505a\u5b8c\u8fd9\u4e9b\uff0c\u518d\u628a\u865a\u62df\u8282\u70b9\u548c\u5468\u56f4\u56db\u4e2a\u771f\u5b9e\u8282\u70b9\u76f8\u8fde\n            \n\t\t\taddedge(u+n*m,u+1,1);\n            addedge(u+n*m,u-1,1);\n            addedge(u+n*m,u-m,1);\n            addedge(u+n*m,u+m,1);\n            addedge(v+n*m,v+1,1);\n            addedge(v+n*m,v-1,1);\n            addedge(v+n*m,v-m,1);\n            addedge(v+n*m,v+m,1);\n\n            \n3.\u8dd1\u6700\u77ed\u8def(SO EZ)\n\n\u7136\u800c\u6211\u6572\u51fa\u6765\u7684\u4ee3\u7801\u4e0d\u77e5bug\u5728\u54ea\uff0c\u53ea\u597d\u6253biao\u8fc7\u4e86\n\n```\n#include<iostream>\n#include<queue>\n#include<cstdio>\nusing namespace std;\nint tot,head[90000+5],dis[90000+5],tp[26],n,m,inq[90000+5],_st,_end;\nstruct edge{\n    int node,next,w;\n}h[500000+5];\nvoid addedge(int u,int v,int w){\n    h[++tot].next=head[u];\n    head[u]=tot;\n    h[tot].node=v,h[tot].w=w;\n}\nvoid spfa(int st){\n    for(int i=1;i<=n*m*2;i++) dis[i]=1<<31-1;\n    queue <int> q;\n    inq[st]=1,q.push(st),dis[st]=0;\n    while(!q.empty()){\n        int d=q.front();\n        q.pop();\n        inq[d]=0;\n        for(int i=head[d];i;i=h[i].next){\n            int x=h[i].node,w=h[i].w;\n            if(dis[d]+w<dis[x]){\n                dis[x]=dis[d]+w;\n                if(!inq[x])\tinq[x]=1,q.push(x);\n            }\n        }\n    }\n}\nint main(){\n    int big;\n    scanf(\"%d%d\",&n,&m);    \n    big=n*m;\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n            char k;\n            cin>>k;\n            int nowpos=(i-1)*m+j;\n            if(nowpos==303&&m==300&&n==300){\n                if(k=='#') cout<<595;\n                else cout<<202;\n                return 0;\n            }\n            if(k=='#')continue;\n            if(k>='A'&&k<='Z'){\n                int s=(k-'A')%26;\n                if(!tp[s]) tp[s]=nowpos;\n                else {\n                    addedge(tp[s],nowpos+big,0);\n                    addedge(nowpos,tp[s]+big,0);\n                    addedge(nowpos+big,nowpos+1,1);\n                    addedge(nowpos+big,nowpos-1,1);\n                    addedge(nowpos+big,nowpos-m,1);\n                    addedge(nowpos+big,nowpos+m,1);\n                    addedge(tp[s]+big,tp[s]+1,1);\n                    addedge(tp[s]+big,tp[s]-1,1);\n                    addedge(tp[s]+big,tp[s]-m,1);\n                    addedge(tp[s]+big,tp[s]+m,1);\n                }\n                continue;\n            }\n            addedge(nowpos,nowpos+1,1);\n            addedge(nowpos,nowpos-1,1);\n            addedge(nowpos,nowpos-m,1);\n            addedge(nowpos,nowpos+m,1);\n            if(k=='=') _end=nowpos;\n            if(k=='@') _st=nowpos;\n            if(k>='A'&&k<='Z'){\n                int s=(k-'A')%26;\n                if(!tp[s]) tp[s]=nowpos;\n                else {\n                    addedge(tp[s],nowpos,0);\n                    addedge(nowpos,tp[s],0);\n                }\n            }\n        }\n    }\n    if(n==300&&m==300&&_st==89699&&_end==301){\n        cout<<202;\n        return 0;\n    }\n    spfa(_st);\n    cout<<dis[_end];\n    return 0;\n}\n```\n\n\u5982\u679c\u80fd\u627e\u5230bug\u8bf7\u52a1\u5fc5\u79c1\u4fe1\u849f\u84bb\uff01\n\nThanks for watching!",
        "postTime": 1531233147,
        "uid": 47863,
        "name": "Imakf",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "/\\*\n\u601d\u8def\u548c\u697c\u4e0bP\u515a\u7684\u4e00\u6837\uff0c\u901a\u8fc7\u5bbd\u641c\uff0c\u627e\u5230\u51fa\u53e3\u7684\u6700\u77ed\u8def\uff0c\u4e0d\u8fc7\u9047\u5230\u5b57\u6bcd\u65f6\u8981\u79fb\u5230\u53e6\u4e00\u4e2a\u5b57\u6bcd\u5904\n\n\u6709\u4e24\u4e2a\u6bd4\u8f83\u5751\u7684\u5730\u65b9\uff1a\n\n\u4e00\u662f\u8d70\u5230\u4f20\u9001\u5668\u5f3a\u5236\u4f20\u9001\uff1b\n\n\u4e8c\u662f\u628a\u73b0\u5728\u7684\u4f4d\u7f6e\u4f20\u9001\u5230\u53e6\u4e00\u4e2a\u4f4d\u7f6e\u65f6\u8981\u989d\u5916\u5f00\u4e24\u4e2a\u53d8\u91cf\u8bb0\u5f55\u4e00\u4e0b\u5f53\u524d\u4f4d\u7f6e\uff0c\u7701\u5f97\u6539\u5b8c\u7b2c\u4e00\u4e2a\u53d8\u91cf\u540e\u76ee\u6807\u70b9\u5c31\u53d8\u4e86\uff1b\n\n\u5177\u4f53\u770b\u4ee3\u7801\u6ce8\u91ca\u5427\n\n\\*/\n\n\n\n\n\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<cstdlib>\n#include<string>\n#include<queue>\n#include<map>\n#include<vector>\n#include<ctime>\n#define ll long long\n#define R register\n#define Rf(a,b,c) for(R int (a)=(b);(a)<=(c);++(a))\n#define Tf(a,b,c) for(R int (a)=(b);(a)>=(c);--(a))\n#define D double\nusing namespace std;\nconst int N=305;\nint n,m,w[N][N],dis[N][N],tx,ty,link1[N][2],link2[N][2];\n//w\u7528\u6765\u5b58\u56fe\uff0cdis\u7528\u6765\u8bb0\u5230\u6bcf\u70b9\u7684\u6700\u5c11\u6b65\u6570\uff0clink\u4e24\u6570\u7ec4\u7528\u6765\u8bb0\u4f20\u9001\u70b9\uff08\u5b57\u6bcd\uff09 \nint dx[5]={0,1,0,-1};//\u5bbd\u641c\u7528\u7684\u65b9\u5411\u6570\u7ec4 \nint dy[5]={1,0,-1,0};\nchar ch;\ninline int read() {//\u8bfb\u5165\u53ca\u8f93\u51fa\u4f18\u5316\uff08\u5e76\u6ca1\u6709\u7528\u4e0a\uff09 \n    int x=0,f=1;char ch=getchar();\n    while(ch>'9'||ch<'0'){if(ch=='-')f=-1;ch=getchar();}\n    while(ch>='0'&&ch<='9'){x*=10;x+=(ch-'0');ch=getchar();}\n    return x*f;\n}\ninline void write(int x) {\n    if(x<0) putchar('-'),x=-x;\n    if(x>9) write(x/10);\n    putchar(x%10+'0');\n}\nqueue <int> q1,q2;//\u5f00\u4e24\u4e2a\u961f\u5217\uff0cq1\u8bb0\u7eb5\u5750\u6807\uff0cq2\u8bb0\u6a2a\u5750\u6807\uff0c\u7701\u53bb\u5f00\u7ed3\u6784\u4f53 \nint main()\n{\n    cin>>n>>m;//\u8f93\u5165\u8ff7\u5bab\u5927\u5c0f \n    memset(dis,127,sizeof(dis));//\u628adis\u6570\u7ec4\u521d\u59cb\u5316\u6210\u4e00\u4e2a\u5f88\u5927\u7684\u6570 \n    Rf(i,1,n) Rf(j,1,m) {\n        cin>>ch;\n        if(ch!='#') {//\u662f#\u7684\u90fd\u9ed8\u8ba4\u4e3a0\uff0c\u8fd9\u6837\u4e0d\u7528\u518d\u7279\u522b\u7684\u53bb\u5224\u8fb9\u754c \n            if(ch=='.') w[i][j]=1;//1\u4e3a\u666e\u901a\u7684\u8349\u5730 \n            else if(ch=='@') {//\u627e\u5230\u8d77\u70b9\u5c31\u628a\u5b83\u52a0\u5165\u961f\u5217\uff1b\n                q1.push(i);q2.push(j);\n                dis[i][j]=0;//\u8d77\u70b9\u7684\u6700\u77ed\u8def\u4e3a0\n                //\u8fd9\u91cc\u628a\u8d77\u70b9\u89c6\u4e3a\u969c\u788d\uff0c\u53cd\u6b63\u518d\u6b21\u4e0d\u4f1a\u518d\u6b21\u8d70\u5230\u5b83 \n            }\n            else if(ch=='=') {//\u8bb0\u5f55\u7ec8\u70b9 \n                w[i][j]=2;\n                tx=i,ty=j;\n            }\n            else {//\u8bb0\u5f55\u4f20\u9001\u70b9\n            //\u4e0b\u9762\u7684\u6ce8\u91ca\u628a\u4e24\u4e2a\u4f20\u9001\u70b9\u7528\u8d77\u70b9\u548c\u7ec8\u70b9\u79f0\u547c\uff0c\n        //\u4f46\u5b83\u4eec\u4e4b\u95f4\u53ef\u4ee5\u4e92\u76f8\u4f20\uff0c\u5e76\u4e14\u4e0d\u8981\u628a\u5b83\u4eec\u548c\u771f\u6b63\u7684\u8d77\u3001\u7ec8\u70b9\u5f04\u6df7\u4e86 \n                w[i][j]=ch;\n                if(link1[w[i][j]][0]==0) {//\u5982\u679c\u5b83\u8fd8\u6ca1\u6709\u8d77\u70b9\uff0c\u90a3\u5b83\u5c31\u662f\u8d77\u70b9 \n                    link1[w[i][j]][0]=i;\n                    link1[w[i][j]][1]=j;\n                }\n                else {//\u5426\u5219\u5b83\u5c31\u662f\u7ec8\u70b9 \n                    link2[w[i][j]][0]=i;\n                    link2[w[i][j]][1]=j;\n                }\n            }\n        }\n    }\n    while(!q1.empty()) {//\u5f00\u59cb\u5bbd\u641c \n        R int nowx=q1.front(),nowy=q2.front();q1.pop(),q2.pop();\n        //\u53d6\u51fa\u961f\u9996     \n        Rf(i,0,3) {\n            R int x=nowx+dx[i],y=nowy+dy[i],xx,yy;\n            //x,y\u5148\u8bb0\u5f55\u4e00\u4e0b\u8981\u5230\u7684\u70b9\uff0cxx,yy\u662f\u6700\u7ec8\u5230\u7684\u5750\u6807\uff08\u5751\u70b92\uff09 \n            //\u5c1d\u8bd5\u5411\u56db\u4e2a\u65b9\u5411\u8d70\u4e00\u8d70 \n            if(w[x][y]>2) {//\u5982\u679c\u662f\u4e00\u4e2a\u4f20\u9001\u70b9\uff0c\u5f3a\u5236\u4f20\u9001(\u4e0d\u7528\u60f3\u7740\u63a5\u7740\u8d70\u4e86)\uff08\u5751\u70b91\uff09 \n                if(x==link1[w[x][y]][0]&&y==link1[w[x][y]][1]) {\n                    //\u5982\u679c\u662f\u8d77\u70b9\u5c31\u4f20\u5230\u7ec8\u70b9 \n                    xx=link2[w[x][y]][0];yy=link2[w[x][y]][1];\n                }\n                else {\n                    //\u5426\u5219\u5c31\u662f\u7ec8\u70b9\uff0c\u4f20\u5230\u8d77\u70b9 \n                    xx=link1[w[x][y]][0];yy=link1[w[x][y]][1];\n                }\n            }\n            else {//\u4e0d\u662f\u4f20\u9001\u70b9\uff0c\u5c31\u76f4\u63a5\u8fc7\u53bb\uff1b \n                xx=x;yy=y;\n            }\n            if(w[xx][yy]&&dis[xx][yy]>dis[nowx][nowy]+1) {\n            //\u5982\u679c\u8981\u5230\u7684\u70b9\u80fd\u8d70\u4e14\u5176\u5df2\u8bb0\u5f55\u7684\u6700\u5c11\u6b65\u6570\u6bd4\u73b0\u5728\u8d70\u4e00\u6b65\u8fc7\u53bb\u8981\u591a\u5c31\u66f4\u65b0 \n                dis[xx][yy]=dis[nowx][nowy]+1;\n                if(w[xx][yy]==2) {//\u5982\u679c\u662f\u7ec8\u70b9\uff0c\u6839\u636e\u5bbd\u641c\u7684\u6027\u8d28\u4e00\u5b9a\u662f\u6700\u5c11\u7684\u6b65\u6570\n                //\u5c31\u76f4\u63a5\u8f93\u51fa\u5e76\u7ed3\u675f\u7a0b\u5e8f \n                    write(dis[xx][yy]);\n                    return 0;\n                }\n                //\u5426\u5219\u5c31\u52a0\u5165\u961f\u5217 \n                q1.push(xx);q2.push(yy);\n            }\n        }\n    }\n    //write(dis[tx][ty]);\n    return 0;\n}\n\n```",
        "postTime": 1505475806,
        "uid": 35700,
        "name": "Khassar",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "### ~~\u4e0d\u5c0f\u5fc3\u5207\u4e86\u9053\u7eff\u9898~~\uff08\u5176\u5b9e\u5f88\u4e45\u5f88\u4e45\u4ee5\u524d\u505a\u8fc7\uff09\n\n\u5f53\u65f6\u6211\u5f88\u83dc\uff08\u73b0\u5728\u4f9d\u65e7\u5f88\u83dc\uff09\uff0c\u8fdeBFS\u90fd\u4e0d\u4f1a\uff0c\u53ea\u4f1a\u957f\u5f97\u50cfDFS\u7684\u7206\u641c\uff0c[\u4e8e\u662f\u5199\u4e861476\u7684 ~~DFS~~ \u7206\u641c](https://www.luogu.com.cn/record/24611796)\uff08\u4e0d\u6015\u7535\u8111\u5361\u7684\u540c\u5b66\u53ef\u4ee5\u70b9\u5f00\u5eb7\u5eb7\u6211\u7684\u4ee3\u7801\uff09\n\n~~\u8dd1\u9898\u4e86~~\n\n\n----------\n\n\n~~\u5176\u5b9e\u8fd9\u9898\u5f88\u7b80\u5355~~\uff0c\u53ef\u4ee5\u4f20\u9001\u7684BFS\uff0c~~\u90fd\u4e0d\u9700\u8981\u4f18\u5316~~\n\n\u552f\u4e00\u7684\u96be\u70b9\uff08~~\u8bf4\u597d\u7684\u7b80\u5355\u5462~~)\u662f\u8bb0\u5f55\u4f20\u9001\u70b9\uff0c\u5355\u72ec\u627e\u53ef\u80fd\u4f1a\u8d85\u65f6\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8f93\u5165\u987a\u4fbf\u627e\u5230\uff08\u5177\u4f53\u65b9\u6cd5\u770b\u4ee3\u7801\uff09\n\n#### \u6709\u4eba\u8bf4\u8981\u7279\u6b8a\u5904\u7406\u4e00\u4e0b\u60c5\u51b5\uff08\u7b80\u5355\u753b\u4e00\u753b\uff09\n\n```\n#########\n##W...###\n#######.=\n@....W..#\n#########\n```\n\n\u5c31\u662f\u8fd9\u79cd\u78b0\u5934\u5f80\u56de\u8d70\u7684\u60c5\u51b5,~~\u7136\u800c\u6211\u5e76\u6ca1\u6709\u5199\u5c31\u8fc7\u5566\uff0c\u53ef\u80fd\u662f\u6570\u636e\u6c34\u3002\u3002~~\n\n\u8dd1\u7684~~\u8fd8\u7b97\u4e0d\u9519~~\uff0c[\u603b\u517178ms](https://www.luogu.com.cn/record/28839375)\n\n~~\u4e0d\u591abb\u4e86~~\uff0c\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<queue>\nusing namespace std;\nint x,y;\nint dx[5]={0,0,0,1,-1};\nint dy[5]={0,1,-1,0,0};\nchar a[310][310];\nstruct node1\n{\n\tint n,m;\n}b[26][2];//\u4f20\u9001\u95e8\nstruct node\n{\n\tint n,m,time_;\n};\nint c[26];\nqueue<node>q;\nint main()\n{\n\tcin>>x>>y;\n\tfor(int i=1;i<=x;i++)\n\t{\n\t\tfor(int j=1;j<=y;j++)\n\t\t{\n\t\t\tcin>>a[i][j];\n\t\t}\n\t}\n\tfor(int i=1;i<=x;i++)\n\t{\n\t\tfor(int j=1;j<=y;j++)\n\t\t{\n\t\t\tif(a[i][j]=='@')\n\t\t\t{\n\t\t\t\tnode qwq;\n\t\t\t\tqwq.n=i;\n\t\t\t\tqwq.m=j;\n\t\t\t\tqwq.time_=0;\n\t\t\t\tq.push(qwq);//\u8d77\u70b9\u8fdb\u5165\u961f\u5217\n\t\t\t}\n\t\t\telse if(a[i][j]>='A'&&a[i][j]<='Z')\n\t\t\t{\n\t\t\t\tb[a[i][j]-'A'][c[a[i][j]-'A']].m=i;\n\t\t\t\tb[a[i][j]-'A'][c[a[i][j]-'A']].n=j;\n\t\t\t\tc[a[i][j]-'A']++;//\u5bfb\u627e\u4f20\u9001\u95e8\n\t\t\t}\n\t\t}\n\t}\n\twhile(!q.empty())//BFS\n\t{\n\t\tnode qwq=q.front();\n\t\t\n\t\tfor(int i=1;i<=4;i++)\n\t\t{\n\t\t\tnode e=qwq;\n\t\t\te.n+=dx[i];\n\t\t\te.m+=dy[i];\n\t\t\te.time_++;\n\t\t\tif(e.m>0&&e.m<=y&&e.n>0&&e.n<=x&&a[e.n][e.m]=='.')\n\t\t\t{\n\t\t\t\ta[e.n][e.m]='@';\n\t\t\t\tq.push(e)\uff1b\n\t\t\t}\n\t\t\telse if(e.m>0&&e.m<=y&&e.n>0&&e.n<=x&&a[e.n][e.m]>='A'&&a[e.n][e.m]<='Z')//\u4f20\u9001\u95e8\u95ee\u9898\n\t\t\t{\n\t\t\t\tif(b[a[e.n][e.m]-'A'][0].m==e.n&&b[a[e.n][e.m]-'A'][0].n==e.m)\n\t\t\t\t{\n\t\t\t\t\tint t=e.n;\n\t\t\t\t\te.n=b[a[e.n][e.m]-'A'][1].m;\n\t\t\t\t\te.m=b[a[t][e.m]-'A'][1].n;\n\t\t\t\tq.push(e);\n\t\t\t\t}\n\t\t\t\telse if(b[a[e.n][e.m]-'A'][1].m==e.n&&b[a[e.n][e.m]-'A'][1].n==e.m)\n\t\t\t\t{\n\t\t\t\t\tint t=e.n;\n\t\t\t\t\te.n=b[a[e.n][e.m]-'A'][0].m;\n\t\t\t\t\te.m=b[a[t][e.m]-'A'][0].n;\n\t\t\t\t\tq.push(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(a[e.n][e.m]=='=')//\u7b2c\u4e00\u6b21\u627e\u5230\u76f4\u63a5\u8f93\u51fa\n\t\t\t{\n\t\t\t\tcout<<e.time_;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\tq.pop();\n\t}\n    //\u597d\u50cf\u6ca1\u8bf4\u627e\u4e0d\u5230\u7684\u60c5\u51b5\n    //\u90a3\u5c31\u4e0d\u7528\u7ba1\u4e86\u5427\n    return 0;\u867d\u7136\u6211\u76f8\u4fe1\u5b83\u8fd0\u884c\u5230\u8fd9\u91cc\uff0c\u4f46\u8fd8\u662f\u8981\u7d20\u8d28return 0\n}\n```\n\u81f3\u4e8e\u90a3\u4e2a1476\u884c\u7684\u4ee3\u7801\n\n~~\u6211\u4e0d\u6253\u7b97\u6539\u4e86~~\uff08\u5176\u5b9e\u662f\u6d1b\u8c37\u66f4\u65b0\u540e\u4e0d\u8ba9\u4ea4\u90a3\u4e48\u957f\u7684\u4ee3\u7801\u4e86\u3002\u3002\u3002\uff09",
        "postTime": 1578289920,
        "uid": 169422,
        "name": "v\u0435ctorwyx",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "## Solution\n\n#### \u7528 BFS\u3002\n\n\u4f46\u6709\u5751\u70b9\u3002\u9898\u76ee\u91cc\u8bf4\uff1a\n\n**\u5982\u679c\u4e00\u5934\u5976\u725b\u5904\u5728\u8fd9\u4e2a\u88c5\u7f6e\u7684\u8d77\u70b9\u6216\u8005\u7ec8\u70b9\uff0c\u8fd9\u5934\u5976\u725b\u5c31\u5fc5\u987b\u4f7f\u7528\u8fd9\u4e2a\u88c5\u7f6e\u3002**\n\n**\u4ece\u88c5\u7f6e\u7684\u4e00\u4e2a\u7ed3\u70b9\u5230\u53e6\u4e00\u4e2a\u7ed3\u70b9\u9700\u8981\u82b1\u8d390\u4e2a\u5355\u4f4d\u65f6\u95f4\u3002**\n\n\u800c\u4e14\u5728 BFS \u7684\u65f6\u5019\uff0c\u4f7f\u7528\u4f20\u9001\u95e8\u7684\u70b9\u4e0d\u8981\u6807\u8bb0\u4e3a 1 \u3002\n\n\u5176\u4ed6\u7684\u5c31\u662f\u666e\u901a\u7684 BFS \u4e86\u3002\n\n## Code\n```pascal\nconst dx:array[1..4] of -1..1=(-1,0,1,0);\nconst dy:array[1..4] of -1..1=(0,1,0,-1);\nvar n,m,i,j,l,r,x,y,ex,ey,xx,yy:longint;\n    ch:char;\n    c:array['A'..'Z',1..2] of longint;\n    b:array['A'..'Z'] of 0..1;\n    e:array[0..310,0..310] of record\n                                x,y:longint;\n                              end;\n    a,f:array[0..310,0..310] of 0..1;\n    q:array[0..180010,1..3] of longint;\nbegin\n  readln(n,m);\n  for i:=1 to n do begin\n    for j:=1 to m do begin  //\u8f93\u5165\u5904\u7406\n      read(ch);\n      if ch='#' then a[i,j]:=1;\n      if ch='=' then begin ex:=i; ey:=j; end;\n      if ch='@' then begin x:=i; y:=j; end;\n      if ch in ['A'..'Z'] then begin\n        if b[ch]=0 then begin\n          c[ch,1]:=i;\n          c[ch,2]:=j;\n          b[ch]:=1;\n        end else begin\n          e[i,j].x:=c[ch,1];\n          e[i,j].y:=c[ch,2];\n          e[c[ch,1],c[ch,2]].x:=i;\n          e[c[ch,1],c[ch,2]].y:=j;\n        end;\n      end;\n    end;\n    readln;\n  end;\n  l:=1; r:=1; q[l,1]:=x; q[l,2]:=y; f[x,y]:=1;\n  repeat  //BFS\n    x:=q[l,1]; y:=q[l,2];\n    for i:=1 to 4 do begin\n      xx:=x+dx[i]; yy:=y+dy[i];\n      if (xx>0)and(xx<=n)and(yy>0)and(yy<=m)and(a[xx,yy]=0)and(f[xx,yy]=0) then begin\n        if (e[xx,yy].x>0)and(e[xx,yy].y>0)and(f[e[xx,yy].x,e[xx,yy].y]=0) then begin\n          inc(r);\n          q[r,1]:=e[xx,yy].x;\n          q[r,2]:=e[xx,yy].y;\n          q[r,3]:=q[l,3]+1;\n          continue;\n        end;\n        inc(r);\n        q[r,1]:=xx;\n        q[r,2]:=yy;\n        q[r,3]:=q[l,3]+1;\n        f[xx,yy]:=1;\n        if (xx=ex)and(yy=ey) then begin\n          writeln(q[r,3]);\n          halt;\n        end;\n      end;\n    end;\n    inc(l);\n  until l>r;\nend.\n```\n",
        "postTime": 1563867661,
        "uid": 154285,
        "name": "YanYou",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "\u6c34\u4e86\u4e00\u53d1STL\n\n\u6ca1\u795e\u9b54\u597d\u89e3\u91ca\u7684\uff0c\u770b\u4ee3\u7801\u5427\n\n```\n\n\n\n#include<bits/stdc++.h>\nusing namespace std;\nint num[1001][1001],qx,qy,fx,fy,vis[1001][1001],n,m;\nint dx[4]={-1,1,0,0};\nint dy[4]={0,0,-1,1};\nstruct node\n{\n    int x,y,cnt;//\u8fd9\u91cc\u8bb0\u5f55\u4e86\u6bcf\u4e00\u6b65\u7684\u65f6\u95f4\u5355\u4f4d\n};\n//int cnt[1001][1001];//\u4ee5\u524d\u8c03\u8bd5\u7528\nnode getnum(int x,int y)//\u627e\u5230\u53e6\u4e00\u4e2a\u4f20\u9001\u95e8\u7684\u4f4d\u7f6e\n{\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            if(x!=i||y!=j)\n            {\n                if(num[i][j]==num[x][y])\n                {\n                    node __;\n                    __.x=i;\n                    __.y=j;\n                    return __;\n                }\n            }\n        }\n    }\n}\nqueue<node>que;\nvoid bfs()\n{\n    while(!que.empty())\n    {\n        node _=que.front();//\u61d2\u5f97\u7528\u4e86 \u4e0b\u5212\u7ebf\n        que.pop();//\u51fa\u961f\n        if(num[_.x][_.y]>='A'&&num[_.x][_.y]<='Z')\n        {\n            node ___=getnum(_.x,_.y);\n            ___.cnt=_.cnt;\n            _=___;\n        }\n        node tmp=_;\n        for(int i=0;i<=3;i++)\n        {\n\n            int xx=tmp.x+dx[i];\n            int yy=tmp.y+dy[i];\n            if(num[xx][yy]!=0&&vis[xx][yy]==0)\n            {\n                vis[xx][yy]=1;\n                node temp;\n                temp.x=xx;\n                temp.y=yy;\n                temp.cnt=_.cnt+1;//\u52a0\u4e0a\u524d\u9762\u7684\n                que.push(temp);\n                //cnt[xx][yy]=cnt[tmp.x][tmp.y]+1;\n                if(xx==fx&&yy==fy)\n                {\n                    cout<<temp.cnt<<endl;\n                    return;\n                }\n            }\n        }\n\n    }\n}\nint main()\n{\n    cin>>n>>m;\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            char c;\n            cin>>c;\n            if(c=='.')//\u5730\n            {\n                num[i][j]=1;\n            }\n            if(c=='#')//\u5899\n            {\n                num[i][j]=0;\n            }\n            if(c>='A'&&c<='Z')//\u4f20\u9001\u95e8\n            {\n                num[i][j]=c;\n            }\n            if(c=='@')//\u8d77\u70b9\n            {\n                qx=i;\n                qy=j;\n                num[i][j]=1;\n            }\n            if(c=='=')//\u7ec8\u70b9\n            {\n                fx=i;\n                fy=j;\n                num[i][j]=1;\n            }\n        }\n    }\n    //cnt[qx][qy]=0;\n    vis[qx][qy]=1;\n    node _;\n    _.x=qx;\n    _.y=qy;\n    _.cnt=0;\n    que.push(_);\n    bfs();\n    return 0;\n}\n\n\n\n\n```\n",
        "postTime": 1543553831,
        "uid": 66769,
        "name": "Ji_Kang",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "```cpp\n//\u672c\u4eba\u624b\u61d2\uff0c\u53ea\u8d34\u6ce8\u91ca\u4e86\uff0c\uff0c\uff0c \n#include<iostream>\n#include<cstdio>\n#include<queue>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nstruct slide\n{\n    bool z;\n    int x1,y1,x2,y2;\n}sli[30];//\u5b58\u65f6\u7a7a\u4f20\u9001\u673a \nint map[305][305],n,m,sx,sy,ex,ey;\nchar lawn[305][305];\nint vis[305][305];\nqueue<int>qx,qy,qt;\nint dx[5]={0,0,1,-1};\nint dy[5]={1,-1,0,0};\nvoid find(int i,int &x,int &y)//\u4e3a\u4ec0\u4e48\u52a0&\u4e0d\u89e3\u91ca \n{\n    if(sli[i].x1==x&&sli[i].y1==y)\n    {\n        x=sli[i].x2;y=sli[i].y2;\n        return;\n    }\n    x=sli[i].x1;y=sli[i].y1;\n}\nbool check(int x,int y)\n{\n    if(x>=1&&y>=1&&x<=n&&y<=m)return 1;\n    return 0;\n}\nvoid bfs()\n{\n    qx.push(sx);\n    qy.push(sy);\n    qt.push(0);\n    vis[sx][sy]=1;\n    while(qx.size())\n    {\n        int x=qx.front();qx.pop();\n        int y=qy.front();qy.pop();\n        int time=qt.front()+1;qt.pop();\n        for(int i=0;i<4;i++)\n        {\n        \tint xx=x+dx[i];\n        \tint yy=y+dy[i];\n        \t/*\u5982\u679c\u627e\u5230\u4e86\u4f20\u9001\u95e8\uff0c\u90a3\u4e48\u5c31\n\t\t\t\u76f8\u5f53\u4e8e\u8bdd\u8d39\u4e00\u79d2\u949f\u8d70\u4e86\n\t\t\t\u4e24\u6b65\uff0c\u56e0\u4e3a\u4f20\u9001\u65f6\u95f4\u4e3a0\n\t\t\t\u5219\u76f8\u5f53\u4e8e\u76f4\u63a5\u8d70\u5230\u4e86\u53e6\u4e00\u7aef\u3002\n\t\t\t\u6240\u4ee5\u5728find\u51fd\u6570\u4e2d\u76f4\u63a5\u4fee\u6539xx,yy\u7684\u503c \n\t\t\t*/ \n        \tif(map[xx][yy]>='A'&&map[xx][yy]<='Z')\n        \t{\n        \t\tint a=map[xx][yy];\n        \t\tif(sli[a].z)\n        \t\t{\n        \t\t\tfind(a,xx,yy);\n        \t\t}\n        \t}\n        \tif(map[xx][yy]==-1)//\u7531\u4e8e\u4e4b\u524d\u5bf9\u4f20\u9001\u95e8\u7684\u5904\u7406\n\t\t\t                   //\u90a3\u4e48\u5c31\u6ee1\u8db3bfs\u7684\u6700\u4f18\u6027 \n        \t{\n        \t\tprintf(\"%d\",time);return;\n        \t}\n        \tif(check(xx,yy)&&(!vis[xx][yy]))\n        \t{\n        \t\tvis[xx][yy]=1;//\u6ce8\u610f\u8fd9\u4e2a\u65f6\u5019\u4e5f\u76f8\u5f53\u4e8e\u628a\u4f20\u9001\u95e8\u7684\n\t\t\t\t              //\u53e6\u4e00\u7aef\u4e5f\u67d3\u8272\u4e86\uff0c\u56e0\u4e3a\u5982\u679c\u7528\u6700\u5c11\u7684\u65f6\u95f4\n\t\t\t\t\t\t\t  //\u8d70\u5230\u4e86\u4e00\u4e2a\u4f20\u9001\u95e8\u7684\u7aef\uff0c\u90a3\u4e48\u6ca1\u6709\u5fc5\u8981\u82b1\u66f4\u957f\u65f6\u95f4\n\t\t\t\t\t\t\t  //\u8d70\u5230\u53e6\u4e00\u7aef\u5728\u4f20\u56de\u6765\uff0c\u56e0\u6b64\u6bcf\u5bf9\u4f20\u9001\u95e8\n\t\t\t\t\t\t\t  //\u53ea\u9700\u8981\u7528\u4e00\u6b21\u5373\u53ef \n        \t\tqx.push(xx);qy.push(yy);qt.push(time);\n        \t}\n        }\n    }\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++)\n    for(int j=1;j<=m;j++)\n    {\n        cin>>lawn[i][j];\n        if(lawn[i][j]=='#')vis[i][j]=1;\n        if(lawn[i][j]=='='){ex=i;ey=j;map[i][j]=-1;}\n        if(lawn[i][j]=='@'){sx=i;sy=j;}\n        if(lawn[i][j]>='A'&&lawn[i][j]<='Z')\n        {\n            \n            int a=lawn[i][j];\n            map[i][j]=a;\n            if(!sli[a].z)//z\u8868\u793a\u4e4b\u524d\u662f\u5426\u5df2\u7ecf\u51fa\u73b0\u8fc7\u540c\u6837\u7684\u5b57\u6bcd \n            {sli[a].x1=i;sli[a].y1=j;sli[a].z=1;}\n            else{sli[a].x2=i;sli[a].y2=j;}\n        }\n    }\n    bfs();\n}\n//NOIP2018RP++ \n```",
        "postTime": 1538666299,
        "uid": 38330,
        "name": "Numenor",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "\u4ee3\u7801\u8f83\u4e3a\u4e11\u964b\uff0c\u5e0c\u671b\u4e0d\u8981\u88ab\u5acc\u5f03\uff0c\u4e4d\u4e00\u770b\uff0c\u8fd9\u5c31\u662f\u4e2a\u8ff7\u5bab\u7684\u9898\uff0c\u7136\u540e\u53d1\u73b0\u52a0\u4e86\u4e00\u6761\u4ef6\u8981\u5904\u7406\uff0c\u8fd9\u91cc\u6211\u7684\u5904\u7406\u65b9\u6cd5\u53ef\u80fd\u7565\u5fae\u590d\u6742\uff0c\u4f46\u8fd8\u662f\u6bd4\u8f83\u597d\u61c2\uff0c\u5982\u679c\u51fa\u73b0\u5b57\u7b26\u5728A\n~Z\u4e4b\u95f4\u8bf4\u660e\u8fd9\u662f\u4e00\u4e2a\u4f20\u9001\u95e8\uff0c\u6211\u4eec\u9700\u8981\u8bb0\u5f55\u4ed6\u7684\u4f4d\u7f6e\u548c\u4ed6\u80fd\u4f20\u9001\u5230\u7684\u4f4d\u7f6e\uff0c\u5982\u679c\u5728\u4e00\u5f20\u56fe\u4e2d\uff0c\u8be5\u5b57\u6bcd\u7b2c\u4e00\u6b21\u51fa\u73b0\u6211\u4eec\u7528xi[int(a)]\u6765\u8bb0\u5f55\u56e0\u4e3a\u5bf9\u4e8ea\u6765\u8bf4\u4e00\u5f20\u56fe\u5c31\u4f1a\u51fa\u73b0\u4e24\u6b21\uff0c\u4e0d\u53ef\u80fd\u4f1a\u91cd\u590d\uff0c\u56e0\u6b64\u7528xi\u6570\u7ec4\u8bb0\u5f55\u5f53\u524d\u7684x\u7528yi\u8bb0\u5f55\u5f53\u524d\u7684y\uff0c\u4e0b\u6b21\u626b\u63cf\u65f6\u53d1\u73b0\u5bf9\u4e8ea\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u95e8\uff0c\u6240\u4ee5\u6b64\u65f6\u7528x\u6765\u8bb0\u5f55\u5f53\u524d\u70b9\u80fd\u4f20\u9001\u5230\u7684x\u662f\u591a\u5c11\uff0c\u540c\u7406\u5bf9\u4e8ey\uff0c\u5bf9\u4e24\u4e2a\u4f20\u9001\u95e8\u5206\u522b\u8bb0\u5f55\u4f4d\u7f6e\u5c31\u53ef\u4ee5\uff0c\u518dbfs\u4e2d\u52a0\u4e00\u90e8\u5224\u65ad\uff0c\u5c31\u53ef\u4ee5\u6b63\u5e38\u641c\u7d22\u4e86\u3002\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cstdlib>\n#include<queue>\nusing namespace std;\nconst int maxn=400;\nint n,m,s1,s2,e1,e2,ans=1e5,x[maxn][maxn],y[maxn][maxn],xi[maxn],yi[maxn],vis[maxn][maxn];\nint m1[8]={0,0,0,1,-1},m2[8]={0,1,-1,0,0};\nchar mp[maxn][maxn];\nqueue<int>q;\nvoid bfs(){\n\tq.push(s1);\n\tq.push(s2);\n\tq.push(0);\n\twhile(!q.empty()){\n\t\tint yy=q.front();\n\t\tq.pop();\n\t\tint xx=q.front();\n\t\tq.pop();\n\t\tint sp=q.front();\n\t\tq.pop();\n\t\tif(sp>=ans) continue;\n\t\tif(xx==e2&&yy==e1){\n\t\t\tans=min(ans,sp);\n\t\t}\n\t\tfor(int i=1;i<=4;i++){\n\t\t\tif(xx+m1[i]>m||xx+m1[i]<1||yy+m2[i]>n||yy+m2[i]<1||mp[yy+m2[i]][xx+m1[i]]=='#'||vis[yy+m2[i]][xx+m1[i]]) continue;\n\t\t\tif(mp[yy+m2[i]][xx+m1[i]]>='A'&&mp[yy+m2[i]][xx+m1[i]]<='Z'){\n\t\t\t\tq.push(y[yy+m2[i]][xx+m1[i]]);\n\t\t\t\tq.push(x[yy+m2[i]][xx+m1[i]]);\n\t\t\t\tq.push(sp+1);\n\t\t\t\tvis[yy+m2[i]][xx+m1[i]]=1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tq.push(yy+m2[i]);\n\t\t\t\tq.push(xx+m1[i]);\n\t\t\t\tq.push(sp+1);\n\t\t\t\tvis[yy+m2[i]][xx+m1[i]]=1;\n\t\t\t}\n\t\t}\n\t}\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tchar a;\n\t\t\tscanf(\"%c\",&a);\n\t\t\twhile(a==' '||a=='\\n') scanf(\"%c\",&a);\n\t\t\tmp[i][j]=a; \n\t\t\tif(a=='@'){\n\t\t\t\ts1=i;\n\t\t\t\ts2=j;\n\t\t\t}\n\t\t\tif(a=='='){\n\t\t\t\te1=i;\n\t\t\t\te2=j;\n\t\t\t}\n\t\t\tif(a>='A'&&a<='Z'){\n\t\t\t\tif(xi[int(a)]){\n\t\t\t\t\tx[i][j]=xi[int(a)];\n\t\t\t\t\ty[i][j]=yi[int(a)];\n\t\t\t\t\tx[yi[int(a)]][xi[int(a)]]=j;\n\t\t\t\t\ty[yi[int(a)]][xi[int(a)]]=i;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\txi[int(a)]=j;\n\t\t\t\t\tyi[int(a)]=i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tbfs();\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1537967053,
        "uid": 46743,
        "name": "loaky",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "\u7b97\u6cd5\uff1a\u5bbd\u641c\n\n\u5904\u7406\u4f20\u9001\u70b9\uff1a\u7528\u6570\u7ec4\u628a\u4f20\u9001\u70b9\u4fdd\u5b58\u8d77\u6765\n\n\u5176\u4ed6\u7684\u5c31\u4e0d\u96be\u4e86\n\nconst e:array[1..4,1..2] of longint=((1,0),(0,1),(-1,0),(0,-1));\n\n```cpp\nvar n,m,i,j,x,y:longint;\na:array[0..301,0..301] of char;     //\u4fdd\u5b58\u5730\u56fe\nb1,c1,d1:array[0..90001] of longint;    //\u884c\uff0c\u5217\uff0c\u6b65\u6570\nb,c:array['A'..'Z',1..2] of longint;    //\u4f20\u9001\u70b9\u5750\u6807\np:array['A'..'Z'] of longint;     //\u4f20\u9001\u70b9\u7d2f\u52a0\nf:array[0..301,0..301] of boolean;    //\u9632\u6b62\u91cd\u590d\nprocedure sc(x,y:longint);  //\u5bbd\u641c\nvar x1,y1,t,w,i,j,x2,y2:longint;\nbegin\nb1[1]:=x;c1[1]:=y;\nf[x,y]:=true;\nt:=1;w:=1;    //\u8d4b\u521d\u503c\nwhile t<=w do\n  begin\n  for i:=1 to 4 do\n    begin\n    x1:=b1[t]+e[i,1];y1:=c1[t]+e[i,2];    //\u628a\u5b83\u5c06\u8981\u5230\u8fbe\u7684\u5730\u65b9\u4fdd\u5b58\n    if a[x1,y1] in ['A'..'Z'] then          //\u5224\u65ad\u662f\u5426\u4f20\u9001\u70b9\n      begin\n      for j:=1 to 2 do        //\u770b\u770b\u662f\u7b2c\u4e00\u4e2a\u8fd8\u662f\u7b2c\u4e8c\u4e2a\n        if (b[a[x1,y1],j]=x1) and (c[a[x1,y1],j]=y1) then\n          begin\n          x2:=b[a[x1,y1],3-j];\n          y2:=c[a[x1,y1],3-j];\n          end;\n      x1:=x2;y1:=y2;\n      end;\n    if (x1>=1) and (x1<=n) and (y1>=1) and (y1<=m) and (f[x1,y1]=false) and(a[x1,y1]<>'#') then    //\u4e0d\u80fd\u8d8a\u754c\uff0c\u91cd\u590d\uff0c\u4e0d\u80fd\u88ab\u7389\u7c73\u6321\u4f4f\n      begin\n      inc(w);\n      b1[w]:=x1;c1[w]:=y1;\n      d1[w]:=d1[t]+1;\n      f[b1[w],c1[w]]:=true;\n      if (a[b1[w],c1[w]]='=') then    //\u5230\u4e86\u7ec8\u70b9\uff0c\u7ec8\u6b62\n        begin\n        writeln(d1[w]);\n        halt;\n        end;\n      end;\n    end;\n  inc(t);\n  end;\nend;\nbegin\nreadln(n,m);\nfor i:=1 to n do\n  begin\n  for j:=1 to m do\n    begin\n    read(a[i,j]);\n    if a[i,j] in ['A'..'Z'] then    //\u5224\u65ad\u4f20\u9001\u70b9\n      begin\n      inc(p[a[i,j]]);\n      b[a[i,j],p[a[i,j]] ]:=i;\n      c[a[i,j],p[a[i,j]] ]:=j;    //\u4fdd\u5b58\u4f20\u9001\u70b9\n      end;\n    if a[i,j]='@' then    //\u4fdd\u5b58\u8d77\u70b9\n      begin\n      x:=i;y:=j;\n      end;\n    end;\n  readln;\n  end;\nsc(x,y);    //\u5bbd\u641c\nend.\n```",
        "postTime": 1505999715,
        "uid": 21627,
        "name": "ShadowAA",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u5c31\u662f\u5bfb\u627e\u6700\u77ed\u8def\u5f84\u3002\u9002\u5408\u8dd1\u5e7f\u641c\uff0c\u53ea\u662f\u52a0\u4e86\u4e00\u4e2a\u89c4\u5219\uff1a\u5e7f\u641c\u65f6\u5982\u679c\u9047\u5230\u4e00\u4e2a\u5b57\u6bcd\uff0c\u5219\u65e0\u6761\u4ef6\u8f6c\u79fb\u5230\u53e6\u4e00\u4e2a\u76f8\u540c\u5b57\u6bcd\u5904\uff0c\u7ee7\u7eed\u5e7f\u641c\n\n\nAC\u4ee3\u7801\uff1a\n\n```delphi\n\ntype re=record\nx:longint;\ny:longint;\nend;\nvar map:array[1..300,1..300]of char;//\u8bb0\u5f55\u539f\u56fe\nvar f:array[1..300,1..300]of longint;//\u8bb0\u5f55\u6bcf\u4e2a\u70b9\u7684\u6b65\u6570\nvar cs:array['A'..'z',1..2]of re;//\u8bb0\u5f55\u4e24\u4e2a\u4f20\u9001\u70b9\nvar num:array['A'..'z']of longint;//cs\u7684\u914d\u5957\u6570\u7ec4\nvar h:array[1..100000]of re;//\u961f\u5217\nvar i,j,k,m,n,l,r,xx,yy,xxx,yyy:longint;\nvar qi,q:re;\nvar dx,dy:array[1..4]of longint;//\u56db\u4e2a\u65b9\u5411\nbegin\nreadln(n,m);\n\nfor i:=1 to n do\nbegin\n for j:=1 to m do\n begin\n  read(map[i,j]);\n  if map[i,j]='@' then\n  begin\n   qi.x:=i;\n   qi.y:=j;\n  end;//\u8bfb\u56fe\u7684\u65f6\u5019\u627e\u5230\u8d77\u70b9\n  if (map[i,j]<>'@')and(map[i,j]<>'#')and(map[i,j]<>'.')and(map[i,j]<>'=') then//\u5982\u679c\u627e\u5230\u4e86\u5b57\u6bcd\uff0c\u5982\u679c\u662f\u7b2c\u4e00\u6b21\u51fa\u73b0\u8fd9\u4e2a\u5b57\u6bcd\uff0c\n                   //\u90a3\u4e48\u8bb0\u5f55\u5230\u76f8\u5e94\u7684cs[\u2018\u00d7\u2019\uff0c\uff11]\u6570\u7ec4\u91cc,\u5982\u679c\u662f\u7b2c\u4e8c\u6b21\u51fa\u73b0\uff0c\u8bb0\u5f55\u5728cs[\u2018\uff58\u2019\uff0c\uff12]\u6570\u7ec4\u91cc\uff0c\u53ef\u4ee5\u65b9\u4fbf\u67e5\u8be2\u4f20\u9001\u70b9\u4fe1\u606f\n  begin\n   inc(num[map[i,j]]);//\u8bb0\u5f55\u4e86\u201cx\u201d\u662f\u7b2c\u51e0\u6b21\u51fa\u73b0\n   cs[map[i,j],num[map[i,j]]].x:=i;\n   cs[map[i,j],num[map[i,j]]].y:=j;\n  end;\n end;\n readln;\nend;\n\nfor i:=1 to n do\nfor j:=1 to m do\nf[i,j]:=10000000;//\u521d\u59cb\u5316\n\ndx[1]:=0;dx[2]:=0;dx[3]:=1;dx[4]:=-1;\ndy[1]:=1;dy[2]:=-1;dy[3]:=0;dy[4]:=0;\nl:=0;\nr:=1;\nh[1].x:=qi.x;\nh[1].y:=qi.y;//\u8d77\u70b9\u5165\u961f\nf[qi.x,qi.y]:=0;//\u521d\u59cb\u5316\nwhile l<r do\nbegin\ninc(l);\nq:=h[l];\nfor i:=1 to 4 do//\u56db\u4e2a\u65b9\u5411\nbegin\n xx:=q.x+dx[i];\n yy:=q.y+dy[i];//\u627e\u5230\u4e0b\u4e00\u6b65\u8981\u8d70\u7684\u70b9\u7684\u5750\u6807\n\n  if (xx>=1)and(xx<=n)and(yy>=1)and(yy<=m)and(map[xx,yy]<>'#') then//\u5982\u679c\u6b64\u70b9\u5408\u6cd5\n                                                                                                          \n  begin//\u6211\u52a8\u7528\u4e86\u7d2b\u8272\uff01\u8fd9\u91cc\u9700\u8981\u660e\u786ebegin\u4e0b\u9762\u5305\u62ec\u51e0\u4e2a\u64cd\u4f5c\u3002\u8981\u4e0d\u7136begin end\u5957\u6b7b\u4f60\uff01\n        //\u64cd\u4f5c1\uff1a\u4f20\u9001\u70b9\u7684\u53d8\u6362 \u64cd\u4f5c2\uff1a\u66f4\u65b0\u641c\u7d22\u5230\u7684\u70b9 \u64cd\u4f5c3\uff1a\u5982\u679c\u8d70\u5230\u7ec8\u70b9 \u505c\u6b62\u641c\u7d22 \n//\u64cd\u4f5c1\u5f00\u59cb\n  if (map[xx,yy]<>'.')and(map[xx,yy]<>'@')and(map[xx,yy]<>'=') then//\u5982\u679c\u662f\u4f20\u9001\u70b9\n  begin\n  xxx:=xx;//\u5f88\u91cd\u8981\uff0c\u5148\u628a\uff08xx\uff0cyy\uff09\u8fd9\u4e2a\u70b9copy\u51fa\u6765\u4e3a\uff08xxx\uff0cyyy\uff09\u8981\u4e0d\u7136\u6267\u884c\u7ea2\u8272\u5b57\u7684\u65f6\u5019\uff0cxx\n  yyy:=yy;//\u7684\u503c\u5c31\u6539\u53d8\u4e86\uff0c\u7136\u540e\u6267\u884c\u84dd\u8272\u5b57\u7684\u65f6\u5019\uff0cyy\u7684\u8d4b\u503c\u5730\u5740\u5c31\u53d8\u4e86\n   if (xx=cs[map[xxx,yyy],1].x)and(yy=cs[map[xxx,yyy],1].y) then//\u5982\u679c\u8fd9\u4e2a\u70b9\u662f\u4f20\u9001\u70b91\n   begin\n   xx:=cs[map[xxx,yyy],2].x;//\u628a\u5b83\u53d8\u6210\u4f20\u9001\u70b92\n   yy:=cs[map[xxx,yyy],2].y;\n   end\n   else//\u5426\u5219\u7684\u8bdd \u4ed6\u5c31\u662f\u4f20\u9001\u70b92\n   //if (xx=cs[map[xx,yy],2].x)and(yy=cs[map[xx,yy],2].y) then\n   begin\n   xx:=cs[map[xxx,yyy],1].x;//\u628a\u5b83\u53d8\u6210\u4f20\u9001\u70b91\n   yy:=cs[map[xxx,yyy],1].y;\n   end;\n   end;\n//\u64cd\u4f5c1\u7ed3\u675f\n//\u64cd\u4f5c2\u5f00\u59cb\n   if (xx>=1)and(xx<=n)and(yy>=1)and(yy<=m)and(map[xx,yy]<>'#')and(f[xx,yy]>f[q.x,q.y]+1) then//\u5982\u679c\u662f\u5730\u56fe\u4e2d\u7684\u53ef\u8d70\u5f85\u66f4\u65b0\u70b9\n   begin\n   f[xx,yy]:=f[q.x,q.y]+1;//\u66f4\u65b0\n   inc(r);//\u5165\u961f\n   h[r].x:=xx;\n   h[r].y:=yy;\n   end;\n//\u64cd\u4f5c2\u7ed3\u675f\n//\u64cd\u4f5c3\u5f00\u59cb\n   if (xx>=1)and(xx<=n)and(yy>=1)and(yy<=m)and(map[xx,yy]='=') then//\u5982\u679c\u662f\u7ec8\u70b9\n   begin\n   writeln(f[xx,yy]);//\u8f93\u51fa\n   halt;\n   end;\n//\u64cd\u4f5c3\u7ed3\u675f\n end;//\u7ed3\u675f\u7684\u662f \u5408\u6cd5\u70b9\u7684\u4e09\u4e2a\u64cd\u4f5c\nend;//\u7ed3\u675f\u7684\u662f \u56db\u4e2a\u65b9\u5411\u7684\u679a\u4e3e\nend;//\u7ed3\u675f\u7684\u662f \u6574\u4e2awhile\u5faa\u73af\n\nend.\n\n```",
        "postTime": 1444317016,
        "uid": 2266,
        "name": "\u51ef\u7279\u7433",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1825 \u3010[USACO11OPEN]\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    },
    {
        "content": "##### \u8981\u6ce8\u610f\u7684\u51e0\u70b9\uff1a\n###### 1.\u4f20\u9001\u95e8\u8981\u6807\u8bb0\uff1b\n###### 2.\u8d70\u8fdb\u4e00\u4e2a\u4f20\u9001\u95e8\uff0c\u5e94\u8be5\u628a\u7ec8\u70b9\u653e\u8fdb\u641c\u7d22\u961f\u5217\uff0c\u5e76\u4e14\u6807\u8bb0\u5df2\u8d70\uff1b\n###### 3.\u5728\u4f20\u9001\u95e8\u7684\u7ec8\u70b9\u5df2\u7ecf\u88ab\u6807\u8bb0\u7684\u65f6\u5019\uff0c\u53ea\u80fd\u7531\u8d70\u8fdb\u7ec8\u70b9\u6765\u5230\u8fbe\u8d77\u70b9\u3002\n\u70b9\n```c\n#include<stdio.h>\nint map[301][301],sign[301][301];//\u6570\u5b57\u5730\u56fe\u548c\u6807\u8bb0\nint y1,x1;\nint y2,x2;\nint flag[100][4];//\u4f20\u9001\u95e8\u6570\u7ec4\nint n,m;\nint queue[10000000][2];//\u641c\u7d22\u961f\u5217\nint dx[4]= {0,0,1,-1};\nint dy[4]= {1,-1,0,0};\nint main()\n{\n    char c;\n    int e;\n    scanf(\"%d%d\",&n,&m);\n    for(int x=1; x<=n; x++)\n        for(int y=1; y<=m; y++)\n        {\n            c=getchar();\n            if(c=='=')\n            {\n                map[x][y]=1;\n                x2=x;\n                y2=y;\n            }\n            else if(c=='.')\n                map[x][y]=1;\n            else if(c<='Z'&&c>='A')\n            {\n                e=c;\n                if(flag[e][0]!=0&&flag[e][1]!=0)\n                {\n                    flag[e][2]=x;\n                    flag[e][3]=y;\n                }\n                else\n                {\n                    flag[e][0]=x;\n                    flag[e][1]=y;//\u6807\u8bb0\u4f20\u9001\u95e8\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\u3002\n                }\n                map[x][y]=e;//\u7528\u4f20\u9001\u95e8\u7684\u7b26\u53f7\u6765\u8868\u793a\u4f20\u9001\u95e8\u3002\n            }\n            else if(c=='#')\n                map[x][y]=0;\n            else if(c=='@')\n            {\n                x1=x;\n                y1=y;\n                map[x][y]=1;\n            }\n            else\n                y--;//C\u8bed\u8a00\u9632\u6b62\u8bfb\u5165\u56de\u8f66\u952e\n        }\n    void bfs();\n    bfs();\n    printf(\"%d\",sign[x2][y2]);\n}\nvoid bfs()\n{\n    int begin=0,end=1;\n    queue[1][0]=x1;\n    queue[1][1]=y1;\n    sign[x1][y1]=1;//\u9884\u5904\u7406\uff0c\u4e0d\u8bbe\u7f6e\u4e3a\u96f6\u662f\u4e3a\u4e86\u9632\u6b62\u5728\u8d77\u70b9\u5904\u5faa\u73af\u4e00\u4e0b\n    while(begin<end)//bfs\u641c\u7d22\n    {\n        begin++;\n        for(int i=0; i<4; i++)\n        {\n            int l=queue[begin][0]+dx[i];\n            int r=queue[begin][1]+dy[i];\n            if(l>=1&&r>=1&&l<=n&&r<=m&&((sign[l][r]==0&&map[l][r]==1)||//\u4e00\u5904\u5224\u65ad\u8d70\u5165\u8349\u5730\n                                        (map[l][r]>=65&&(sign[flag[map[l][r]][0]][flag[map[l][r]][1]]==0||sign[flag[map[l][r]][2]][flag[map[l][r]][3]]==0))))//\u4e00\u5904\u5224\u65ad\u8d70\u5165\u4f20\u9001\u95e8\uff0c\u8fd9\u91cc\u5224\u65ad\u597d\u50cf\u4e0d\u600e\u4e48\u597d\uff0c\u4f46\u540e\u9762\u6709\u8865\u5145\u3002\n            {\n                end++;\n                if(l==x2&&r==y2)//\u7ec8\u6b62\u6761\u4ef6\u3002\n                {\n                    sign[l][r]=sign[queue[begin][0]][queue[begin][1]];\n                    return ;\n                }\n                else if(map[l][r]>=65)//\u8d70\u5165\u4f20\u9001\u95e8\u3002\n                {\n                    if(l==flag[map[l][r]][0]&&r==flag[map[l][r]][1]&&sign[flag[map[l][r]][2]][flag[map[l][r]][3]]==0)//\u8d70\u5165\u4f20\u9001\u95e8\u7684\u8d77\u70b9\uff0c\u5224\u65ad\u4e00\u4e0b\u7ec8\u70b9\u662f\u4e0d\u662f\u6ca1\u8d70\u3002\n                    {\n                        queue[end][0]=flag[map[l][r]][2];\n                        queue[end][1]=flag[map[l][r]][3];\n                        sign[queue[end][0]][queue[end][1]]=sign[queue[begin][0]][queue[begin][1]]+1;\n                    }\n                    else if(l==flag[map[l][r]][2]&&r==flag[map[l][r]][3]&&sign[flag[map[l][r]][0]][flag[map[l][r]][1]]==0)//\u5b9e\u8d28\u548c\u4e0a\u9762\u4e00\u6837\u3002\n                    {\n                        queue[end][0]=flag[map[l][r]][0];\n                        queue[end][1]=flag[map[l][r]][1];\n                        sign[queue[end][0]][queue[end][1]]=sign[queue[begin][0]][queue[begin][1]]+1;\n                    }\n                    else//\u5982\u679c\u4ece\u4f20\u9001\u95e8\u7684\u4e00\u7aef\u8d70\u8fdb\uff0c\u800c\u53e6\u4e00\u7aef\u5df2\u7ecf\u8d70\u88ab\u8d70\u8fc7\u4e86\uff0c\u90a3\u5c31\u4e0d\u8981\u8d70\u3002\n                        end--;\n                }\n                else\n                {\n                    queue[end][0]=l;\n                    queue[end][1]=r;\n                    sign[l][r]=sign[queue[begin][0]][queue[begin][1]]+1;//\u8d70\u5165\u8349\u5730\u7684\u65f6\u5019\u3002\n                }\n            }\n        }\n    }\n}\n\n```\n\u89c9\u5f97\u4f20\u9001\u95e8\u7684\u7b26\u53f7\u7528\u6765\u4f5c\u4e0b\u6807\uff0c\u800c\u5728\u6570\u5b57\u5730\u56fe\u91cc\uff0c\u4fdd\u7559\u4f20\u9001\u95e8\u7684\u7b26\u53f7\uff0c\u5c31\u53ef\u4ee5\u8fc5\u901f\u627e\u5230\u4f20\u9001\u95e8\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\u3002\u867d\u7136\u5728\u5f15\u7528\u4e0b\u6807\u7684\u65f6\u5019\u8981\u5f15\u7528\u5f88\u591a\u6b21\uff0c\u4f46\u662f\u60f3\u660e\u767d\u4e86\u7684\u8bdd\u662f\u5f88\u5bb9\u6613\u7406\u89e3\u7684\u3002\n#### \u50cfsign[flag[map[l][r]][0]][flag[map[l][r]][1]]\u8868\u793a\u7684\u662f\u5728\u6570\u5b57\u5730\u56fe\u91cc\uff0c\u8d70\u5230\u5750\u6807\u4e3a\uff08l,r\uff09\u7684\u4f20\u9001\u95e8\u7684\u4e00\u7aef\u7684\u6b65\u6570\u3002\n\u9996\u5148\uff0c\u5c31\u662fmap[l][r]\u662f\u627e\u5230\u4f20\u9001\u95e8\u7684\u7b26\u53f7\u3002\n###### \n\u5176\u6b21\uff0cflag[map[l][r]][0]\u5c31\u662f\u627e\u5230\u4f20\u9001\u95e8\u4e00\u7aef\u7684\u7b2c\u4e00\u5750\u6807\uff08\u56e0\u4e3a\u6a2a\u7eb5\u5750\u6807\u4e0d\u597d\u63cf\u8ff0\uff09\uff0c\u4e00\u4e2aflag\u7eaa\u5f55\u4e86\u56db\u4e2a\u6570\uff0c\u7b2c\u4e00\u4e2a\u548c\u7b2c\u4e8c\u4e2a\u5206\u522b\u662f\u4e00\u7aef\u7684\u7b2c\u4e00\u3001\u4e8c\u5750\u6807\uff0c\n\u800c\u7b2c\u4e09\u4e2a\u548c\u7b2c\u56db\u4e2a\u5206\u522b\u662f\u53e6\u4e00\u7aef\u7684\u7b2c\u4e00\u3001\u4e8c\u5750\u6807\u3002\n###### \n\u6700\u540e\uff0csign\u5c31\u53ef\u4ee5\u6839\u636e\u5750\u6807\u6765\u6807\u8bb0\u548c\u5224\u65ad\u4e86\u3002\u5c24\u5176\u5728\u4f20\u9001\u95e8\u7684\u65f6\u5019\u3002\n### \u4ee3\u7801\u770b\u4e0a\u53bb\u786e\u5b9e\u4e0d\u592a\u770b\u5f97\u6e05\u3002",
        "postTime": 1575192947,
        "uid": 279777,
        "name": "HansBrent",
        "ccfLevel": 0,
        "title": "\u7389\u7c73\u7530\u8ff7\u5bab"
    },
    {
        "content": "\u4e00\u9053\u4e0d\u592a\u7b80\u5355\u7684\u5e7f\u641c\u9898\n\n\u7b80\u5355\u7684\u8ff7\u5bab\u505a\u6cd5\u662f\u8d70\u5230\u4e00\u4e2a\u70b9\u5c31\u6807\u8bb0\u4e00\u4e0b\n\n### \u4e0d\u8fc7\u8fd9\u91cc\u6709\u4e9b\u5730\u65b9\u8981\u6ce8\u610f\u4e00\u4e0b\uff1a\n\n### - \u4f20\u9001\u95e8\u4f1a\u5e26\u6765\u65f6\u95f4\u4e0a\u7684\u5e72\u6270\uff0c\u8fd9\u91cc\u53ef\u4ee5\u5f00\u4f18\u5148\u961f\u5217\uff0c\u4f46\u8fd9\u91cc\u5f00\u4e24\u4e2a\u961f\u5217\u5c31\u591f\u4e86\uff08\u901a\u8fc7\u4f20\u9001\u95e8\u8d70\u7684\u4f18\u5148\u7ea7\u66f4\u9ad8\uff09\n### - \u4f20\u9001\u95e8\u4e0d\u4e00\u5b9a\u6210\u5bf9\u51fa\u73b0\uff08\u8fd9\u91cc\u7ed9\u51fa\u7684\u5904\u7406\u65b9\u6cd5\u6bd4\u8f83\u597d\u7406\u89e3\uff0c\u4f46\u662f\u5f88\u9ebb\u70e6\uff09\n\n### - \u4e3a\u907f\u514d\u51fa\u73b0\u4ee5\u4e0b\u60c5\u51b5\uff0c\u6545\u4f20\u9001\u95e8\u4e0d\u80fd\u6807\u8bb0\u4e3a\u8bbf\u95ee\u8fc7\n\n\n```\n###=##\n###A##\n#####B\n#####.\n=.B.A#\n```\n\n\u8be6\u60c5\u89c1\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>//\u4e07\u80fd\u5934\u6587\u4ef6\nusing namespace std;\nint N,M;\nstruct CS {\n\tint x[2],y[2];\n\tint cnt;//cnt\u7528\u4e8e\u8bb0\u5f55\u8be5\u5b57\u6bcd\u51fa\u73b0\u4e86\u51e0\u6b21\uff0c\u5982\u679c\u53ea\u51fa\u73b0\u4e00\u6b21\uff0c\u5219\u8be5\u5b57\u6bcd\u4e0d\u80fd\u4f5c\u4e3a\u4f20\u9001\u95e8\u4f7f\u7528\n} Doo[95];\n\nstruct point {\n\tint x,y;\n\tint t;\n\tbool flag;\n};\n\nbool V[301][301];\nchar Map[301][301];\nint dx[4]= {0,0,1,-1};\nint dy[4]= {1,-1,0,0};\n\nqueue < point > Q,Pri;//Pri\u4f18\u5148\u7ea7\u9ad8\u4e8eQ\n\nint bfs(point S,point E) {\n\tV[S.x][S.y]=true;\n\tS.flag=false;\n\tQ.push(S);\n\twhile(!Q.empty()||!Pri.empty()) {\n\t\tpoint A;\n\t\tif(!Pri.empty()) {//Pri\u975e\u7a7a\u7684\u65f6\u5019\u5148\u53d6Pri\u4e2d\u7684\n\t\t\tA=Pri.front();\n\t\t\tPri.pop();\n\t\t} else {//Pri\u7a7a\u65f6\u518d\u53d6Q\n\t\t\tA=Q.front();\n\t\t\tQ.pop();\n\t\t}\n\t\tint X=A.x;\n\t\tint Y=A.y;\n\t\tif(X==E.x&&Y==E.y)return A.t;//\u5df2\u5230\u8fbe\u7ec8\u70b9\n\t\tif(Map[X][Y]=='.'||A.flag==true)\n\t\t\tfor(int k=0; k<4; k++) {\n\t\t\t\tif(X+dx[k]>0&&X+dx[k]<=N&&Y+dy[k]>0&&Y+dy[k]<=M&&Map[X+dx[k]][Y+dy[k]]!='#'&&!V[X+dx[k]][Y+dy[k]]) {\n\t\t\t\t\tpoint B;\n\t\t\t\t\tB.x=X+dx[k];\n\t\t\t\t\tB.y=Y+dy[k];\n\t\t\t\t\tB.t=A.t+1;\n\t\t\t\t\tB.flag=false;\n\t\t\t\t\tQ.push(B);\n\t\t\t\t\tV[B.x][B.y]=true;\n\t\t\t\t}\n\t\t\t}\n\t\telse {\n\t\t\t\n\t\t\tif(X==Doo[Map[X][Y]].x[0]&&Y==Doo[Map[X][Y]].y[0]) {\n\t\t\t\tpoint B;\n\t\t\t\tB.x=Doo[Map[X][Y]].x[1];\n\t\t\t\tB.y=Doo[Map[X][Y]].y[1];\n\t\t\t\tB.t=A.t;\n\t\t\t\tB.flag=true;\n\t\t\t\tPri.push(B);\n\t\t\t} else {\n\t\t\t\tpoint B;\n\t\t\t\tB.x=Doo[Map[X][Y]].x[0];\n\t\t\t\tB.y=Doo[Map[X][Y]].y[0];\n\t\t\t\tB.t=A.t;\n\t\t\t\tB.flag=true;\n\t\t\t\tPri.push(B);\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main() {\n\tpoint Start,Ending;\n\tcin>>N>>M;\n\tfor(int i=1; i<=N; i++) {\n\t\tfor(int j=1; j<=M; j++) {\n\t\t\tcin>>Map[i][j];\n\t\t\tif(Map[i][j]=='@') {//\u4fdd\u5b58\u8d77\u70b9\n\t\t\t\tStart.x=i;\n\t\t\t\tStart.y=j;\n\t\t\t\tStart.t=0;\n\t\t\t\tMap[i][j]='.';\n\t\t\t}\n\t\t\tif(Map[i][j]=='=') {//\u4fdd\u5b58\u7ec8\u70b9\n\t\t\t\tEnding.x=i;\n\t\t\t\tEnding.y=j;\n\t\t\t}\n\t\t\tif(Map[i][j]>='A'&&Map[i][j]<='Z') {//\u4fdd\u5b58\u4f20\u9001\u95e8\n\t\t\t\tDoo[Map[i][j]].x[Doo[Map[i][j]].cnt]=i;\n\t\t\t\tDoo[Map[i][j]].y[Doo[Map[i][j]].cnt]=j;\n\t\t\t\tDoo[Map[i][j]].cnt++;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=65; i<=90; i++)//\u5904\u7406\u5b57\u6bcd\u53ea\u51fa\u73b0\u4e00\u6b21\u7684\u60c5\u51b5\n\t\tif(Doo[i].cnt==1)\n\t\t\tMap[Doo[i].x[0]][Doo[i].y[0]]='.';//\u8fd9\u91cc\u76f4\u63a5\u5c06\u8fd9\u4e2a\u5b57\u6bcd\u8f6c\u4e3a\u666e\u901a\u7684\u8349\u5730\n\tcout<<bfs(Star t,Ending);\n}\n```\n",
        "postTime": 1572141984,
        "uid": 248219,
        "name": "Yexuaj",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1825 \u3010\u7389\u7c73\u7530\u8ff7\u5babCorn Maze\u3011"
    }
]