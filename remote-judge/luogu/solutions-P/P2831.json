[
    {
        "content": "### upd on 2019.1.29\uff1a\n\n\u611f\u8c22@\u8001QB \u548c@\u5c0f\u6881 \u7684\u63d0\u9192\uff0c\u4f3c\u4e4e\u6570\u7ec4\u662f\u5f97\u5f00\u5927\u4e00\u70b9\u2026\u2026\n\n\u8868\u793a\u5f88\u62b1\u6b49\uff0c\u73b0\u5728\u624d\u770b\u5230\u8fd9\u6761\u6d88\u606f\u2026\u2026\n\n---\n### \u524d\u8a00\uff1a\n\u6211\u597d\u50cf\u5728\u5df2\u6709\u7684\u9898\u89e3\u4e2d\u770b\u5230\u7684\u90fd\u662f $O(T\\text{\u7384\u5b66})$ \u7684\u66b4\u641c\u548c $O(Tn^22^n)$ \u7684\u72b6\u538b\u3002\n\n\u66b4\u641c\u5982\u679c\u6570\u636e\u5f3a\u4e00\u70b9\u5c31\u8fc7\u4e0d\u4e86\u4e86\uff0c$O(Tn^22^n)$ \u7684\u72b6\u538b\u5728\u8003\u573a\u4e5f\u53ea\u670975\u5206\u3002\n\n\u5728\u6b64\u53d1\u4e00\u7bc7\u4e25\u683c $O(Tn2^n)$ \u7684\u5b8c\u5168\u4e25\u8c28\u6b63\u89e3\u3002\n\n\uff08\u611f\u8c22[\u8fd9\u7bc7\u535a\u5ba2](https://www.cnblogs.com/Sakits/p/6440722.html)\u8ba9\u6211\u4f1a\u4e86\u8fd9\u79cd\u72b6\u538b\uff09\n\n---\n### \u8bbe\u8ba1dp\u72b6\u6001\uff1a\n$n\\le 18$\uff1f\u4e0d\u662f\u66b4\u641c\u5c31\u662f\u72b6\u538b\u3002\n\n$dp[S]$ \u8868\u793a\u5df2\u7ecf\u6b7b\u4e86\u7684\u732a\u7684\u96c6\u5408\u72b6\u6001\u4e3a $S$ \u65f6\u6700\u5c11\u8981\u53d1\u5c04\u7684\u9e1f\u6570\u3002\n\n\u660e\u663e\u6709\n- $dp[0]=0$\n- $dp[S|line[i][j]]=\\min(dp[S]+1)$\n- $dp[S|(1<<(i-1)]=\\min(dp[S]+1)$\n\n\n\u5176\u4e2d $line[i][j]$ \u8868\u793a\u7ecf\u8fc7 $i,j$ \u4e24\u70b9\u7684\u629b\u7269\u7ebf\u80fd\u7ecf\u8fc7\u7684\u6240\u6709\u70b9\u7684\u96c6\u5408\u3002\n\n\u8fd9\u5c31\u662f\u7f51\u4e0a\u5927\u591a\u6d41\u4f20\u7684 $O(Tn^22^n)$ \u7b97\u6cd5\u3002\u4f18\u5316\uff1f\n\n---\n### \u4f18\u53161\uff1a\n\u53d1\u73b0\u5f53 $i\\in S$ \u6216\u8005 $j\\in S$ \u65f6**\u6ca1\u6709\u5fc5\u8981\u8f6c\u79fb**\u3002\n\n\u8bc1\u660e\uff1a\n- \u82e5\u8fd9\u6761\u7ebf\u53ea\u7ecf\u8fc7\u81f3\u591a\u4e09\u4e2a\u70b9\uff0c\u56e0\u4e3a\u5176\u4e2d\u4e00\u4e2a\u70b9\u5df2\u88ab\u6253\u5230\uff0c\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u53e6\u5916\u4e24\u4e2a\u70b9\u7684\u72b6\u6001\u8f6c\u79fb\u3002\u5982\u679c $i,j$ \u90fd\u88ab\u6253\u5230\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u8f6c\u79fb3\uff08\u5355\u72ec\u4e00\u4e2a\u70b9\uff09\u8f6c\u79fb\u3002\n- \u82e5\u8fd9\u6761\u7ebf\u7ecf\u8fc7\u591a\u4e8e\u4e09\u4e2a\u70b9\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u5176\u5b83\u4efb\u9009\u4e24\u4e2a\u70b9\u8f6c\u79fb\u3002\n\n\u4f46\u662f\u8fd9\u53ea\u80fd\u7b97\u662f\u5e38\u6570\u4f18\u5316\u3002\n\n---\n### \u4f18\u53162\uff1a\n\u82e5\u4ee4 $x$ \u4e3a\u6ee1\u8db3 $S\\&(1<<(x-1))=0$ \u7684\u6700\u5c0f\u6b63\u6574\u6570\uff0c\u5219\u7531 $S$ \u6269\u5c55\u7684\u8f6c\u79fb\u7684**\u6240\u6709\u7ebf\u90fd\u8981\u7ecf\u8fc7 $x$\u3002**\n\n\u4e3a\u4ec0\u4e48\uff1f\u8fd9\u4e2a\u662f\u5bf9\u7684\u5417\uff1f\u4e0d\u7ecf\u8fc7 $x$ \u5c31\u4f1a\u6162\u5417\uff1f\n\n\u4f60\u60f3\u4e00\u60f3\uff0c\u5148\u6253 $1,4$\uff0c\u518d\u6253 $2,3$\uff0c\u548c\u5148\u6253 $2,3$\uff0c\u518d\u6253 $1,4$ \u662f\u4e0d\u662f\u4e00\u6837\u7684\uff1f\n\n\u5982\u679c\u8fd9\u4e00\u6b21\u8f6c\u79fb\u4e0d\u6253 $x$\uff0c\u90a3\u4ee5\u540e\u8fd8\u8981\u518d\u56de\u8fc7\u5934\u6765\u6253 $x$\u3002\u8fd9\u5c31\u662f\u591a\u4f59\u7684\u8f6c\u79fb\u3002\n\n\u56e0\u4e3a\u7ecf\u8fc7 $x$ \u7684\u7ebf\u6570\u91cf\u662f $n$\uff0c\u6240\u4ee5\u6bcf\u6b21\u8f6c\u79fb\u6d89\u53ca\u5230\u7684\u7ebf\u5c31\u4ece $n^2$ \u53d8\u6210\u4e86 $n$\u3002\n\n\u53ea\u8981\u9884\u5904\u7406\u4e00\u4e0b $0-2^{18}$ \u7684\u5bf9\u5e94\u7684 $x$ \u5c31\u80fd\u505a\u5230 $O(Tn2^n)$ \u4e86\uff0c\u8fd9\u624d\u662f\u8003\u573a\u7684\u6b63\u89e3\u3002\n\n\u4f3c\u4e4e\u6bd4\u66b4\u641c\u8fd8\u5feb\u4e00\u70b9~\n\n---\n### \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst double eps=1e-8;\nint t,n,m,lines[20][20],lowunbit[1<<20],dp[1<<20];\t//lowunbit\u5c31\u662f\u9898\u89e3\u4e2d\u7684x\ndouble x[20],y[20];\nvoid equation(double &x,double &y,double a1,double b1,double c1,double a2,double b2,double c2){\t//\u89e3\u65b9\u7a0b\n\ty=(a1*c2-a2*c1)/(a1*b2-a2*b1);\n\tx=(c1-b1*y)/a1;\n}\nint main(){\n\tfor(int i=0;i<(1<<18);i++){\t//\u9884\u5904\u7406lowunbit\n\t\tint j=1;\n\t\tfor(;j<=18 && i&(1<<(j-1));j++);\n\t\tlowunbit[i]=j;\n\t}\n\tscanf(\"%d\",&t);\n\twhile(t--){\n\t\tmemset(lines,0,sizeof(lines));\t//\u5404\u79cd\u521d\u59cb\u5316\n\t\tmemset(dp,0x3f,sizeof(dp));\n\t\tdp[0]=0;\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tfor(int i=1;i<=n;i++) scanf(\"%lf%lf\",x+i,y+i);\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(int j=1;j<=n;j++){\t//\u5904\u7406\u6240\u6709\u629b\u7269\u7ebf\n\t\t\t\tif(fabs(x[i]-x[j])<eps) continue;\t//x\u5750\u6807\u76f8\u540c\uff0c\u4e0d\u53ef\u80fd\u6709\u89e3\n\t\t\t\tdouble a,b;\n\t\t\t\tequation(a,b,x[i]*x[i],x[i],y[i],x[j]*x[j],x[j],y[j]);\n\t\t\t\tif(a>-eps) continue;\t//\u89e3\u51faa\u548cb\n\t\t\t\tfor(int k=1;k<=n;k++)\n\t\t\t\t\tif(fabs(a*x[k]*x[k]+b*x[k]-y[k])<eps) lines[i][j]|=(1<<(k-1));\n\t\t\t}\n\t\tfor(int i=0;i<(1<<n);i++){\t//\u91cd\u70b9\uff01\u72b6\u538b\u5f00\u59cb\uff01\n\t\t\tint j=lowunbit[i];\t//\u5fc5\u987b\u7ecf\u8fc7lowunbit\u8fd9\u4e2a\u70b9\n\t\t\tdp[i|(1<<(j-1))]=min(dp[i|(1<<(j-1))],dp[i]+1);\t//\u5355\u72ec\u8f6c\u79fb\n\t\t\tfor(int k=1;k<=n;k++) dp[i|lines[j][k]]=min(dp[i|lines[j][k]],dp[i]+1);\t//\u6240\u6709\u7ecf\u8fc7lowunbit\u7684\u629b\u7269\u7ebf\n\t\t}\n\t\tprintf(\"%d\\n\",dp[(1<<n)-1]);\t//\u7b54\u6848\n\t}\n}\n```",
        "postTime": 1536466789,
        "uid": 72118,
        "name": "AThousandSuns",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "```cpp\n/*\u601d\u8def\uff1a\u641c\u7d22\u3002\n\u5bf9\u4e8e\u7b2ci\u53ea\u732a\uff0c\u5982\u679c\u5b83\u5df2\u7ecf\u88ab\u524d\u9762\u6240\u6784\u9020\u7684\u67d0\u6761\u629b\u7269\u7ebf\u7ecf\u8fc7\u4e86\uff0c\n\u5c31\u4e0d\u7528\u5904\u7406\u4e86\uff0c\u7ee7\u7eed\u5f80\u4e0b\u641c\u7d22\u3002\u5426\u5219\uff0c\u5c31\u6709\u4e24\u79cd\u9009\u62e9\uff0c\u7b2c\u4e00\u79cd\n\u662f\u4e0e\u524d\u9762\u67d0\u4e00\u53ea\u5355\u72ec\u7684\u732a\uff08\u5373\u8fd9\u53ea\u732a\u672a\u4e0e\u5176\u5b83\u732a\u7ec4\u6210\u629b\u7269\u7ebf\uff09\n\u7ec4\u6210\u629b\u7269\u7ebf\uff0c\u56e0\u4e3a\u4e24\u53ea\u732a\u6700\u591a\u4e5f\u53ea\u80fd\u88ab\u4e00\u6761\u629b\u7269\u7ebf\u76f8\u8fde\uff1b\u7b2c\u4e8c\n\u79cd\u662f\u6682\u65f6\u4e0d\u4e0e\u5176\u5b83\u5355\u72ec\u7684\u732a\u7ec4\u6210\u629b\u7269\u7ebf\u3002\u6700\u540e\uff0c\u5c06\u629b\u7269\u7ebf\u7684\u6761\n\u6570\u4e0e\u4f59\u4e0b\u7684\u732a\u7684\u4e2a\u6570\u76f8\u52a0\uff08\u56e0\u4e3a\u5355\u72ec\u7684\u4e00\u53ea\u732a\u4e5f\u8981\u4e00\u6761\u629b\u7269\u7ebf\n\u5c06\u5176\u51fb\u4e2d\uff09\u5c31\u662f\u641c\u7d22\u51fa\u6765\u7684\u4e00\u4e2a\u5408\u6cd5\u7684\u7ed3\u679c\u3002*/ \n#include<iostream>\n#include<cstdio>\n#include<fstream>\n#include<algorithm>\n#include<string>\n#include<sstream>\n#include<cstring>\n#include<cmath>\n\tusing namespace std;\n\tconst double eps=1e-8;\n/*\u56e0\u4e3a\u6d6e\u70b9\u6570\u7684\u7cbe\u5ea6\u8ba1\u7b97\u592a\u8fc7\u590d\u6742\uff0c\u50cf3.14\u8fd9\u6837\u7684\u6570\u5b58\u5728\u6d6e\n\u70b9\u578b\u53d8\u91cf\u91cc\u5b58\u7684\u53ef\u80fd\u662f3.139999999\uff0c\u4e5f\u6709\u53ef\u80fd\u662f3.140000001\uff0c\n\u6240\u4ee5\u4e0d\u80fd\u76f4\u63a5\u7528\u201c==\u201d\u5224\u65ad\u4e24\u4e2a\u6d6e\u70b9\u6570\u662f\u5426\u76f8\u7b49\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\n\u4e0b\uff0c\u5c31\u5141\u8bb8\u5224\u65ad\u4e24\u4e2a\u6d6e\u70b9\u6570\u4e3a\u76f8\u7b49\u65f6\uff0c\u4e24\u6570\u4e4b\u95f4\u5b58\u5728\u5fae\u5c0f\u7684\u8bef\u5dee\uff0c\n\u8fd9\u4e2a\u201c\u5fae\u5c0f\u7684\u8bef\u5dee\u201d\u8981\u53d6\u4e00\u4e2a\u8f83\u5c0f\u7684\u6570\uff0c\u6bd4\u59821e-8\uff0c\u8fd9\u6837\u5c31\u4e0d\n\u4f1a\u5224\u4e0d\u51fa\u4e5f\u4e0d\u4f1a\u8bef\u5224\u4e86\u3002*/\nbool dy(double a,double b)//\u5224\u65ad\u4e24\u4e2a\u6d6e\u70b9\u6570\u662f\u5426\u76f8\u7b49\u7684\u51fd\u6570 \n{\n\t//\u5982\u679ca\u548cb\u4e4b\u95f4\u76f8\u5dee\u7684\u503c\u5c0f\u4e8eeps\uff08\u53731e-8\uff09\uff0c\u5c31\u8bf4\u660e\u5b83\u4eec\u662f\u76f8\u7b49\u7684 \n\treturn fabs(a-b)<eps;//fabs\u7528\u4e8e\u53d6\u6d6e\u70b9\u6570\u7684\u7edd\u5bf9\u503c \n}\n\tint n=0,m=0,ans=0;\n\t//x\u6570\u7ec4\u5b58\u6bcf\u53ea\u732a\u7684x\u5750\u6807\uff0cy\u6570\u7ec4\u5b58\u6bcf\u53ea\u732a\u7684y\u5750\u6807\n\t//pwxa\u6570\u7ec4\u5b58\u6bcf\u6761\u5df2\u6784\u9020\u7684\u629b\u7269\u7ebf\u7684\u53c2\u6570a\uff0cpwxb\u6570\u7ec4\u5b58\u6bcf\u6761\u5df2\u6784\u9020\u7684\u629b\u7269\u7ebf\u7684\u53c2\u6570b\n\t//tx\u6570\u7ec4\u5b58\u6bcf\u53ea\u5355\u72ec\u7684\u732a\u7684x\u5750\u6807\uff0cty\u6570\u7ec4\u5b58\u6bcf\u53ea\u5355\u72ec\u7684\u732a\u7684y\u5750\u6807 \n\tdouble x[20],y[20],pwxa[20],pwxb[20],tx[20],ty[20];\n//dfs(c,u,v)\u8868\u793a\u5f53\u524d\u641c\u5230\u7b2cc\u53ea\u732a\uff0c\u5df2\u6784\u9020\u629b\u7269\u7ebf\u7684\u6570\u91cf\u4e3au\uff0c\u5355\u72ec\u7684\u732a\u7684\u6570\u91cf\u4e3av\u65f6\u7684\u60c5\u51b5 \n//\u6ce8\u610f\uff1a\u5f53\u524d\u629b\u7269\u7ebf\u7684\u603b\u6570\u91cf\u4e3a(u+v)\u6761\uff0c\u56e0\u4e3a\u9664\u5df2\u6709\u7684\u629b\u7269\u7ebf\u5916\uff0c\u6bcf\u4e00\u53ea\u5355\u72ec\u7684\u732a\u4e5f\u9700\u8981\u4e00\u6761\u629b\u7269\u7ebf\u6765\u51fb\u4e2d\u5b83 \nvoid dfs(int c,int u,int v)\n{\n\t//\u6700\u4f18\u6027\u526a\u679d\uff0c\u56e0\u4e3a\u5373\u4f7f\u540e\u9762\u7684\u6bcf\u4e00\u53ea\u732a\u90fd\u88ab\u5f53\u524d\u5df2\u6784\u9020\u7684\u629b\u7269\u7ebf\u51fb\u4e2d\uff0c \n\t//\u6216\u8005\u4e0e\u5176\u5b83\u5355\u72ec\u7684\u732a\u7ec4\u6210\u629b\u7269\u7ebf\uff0c\u629b\u7269\u7ebf\u7684\u603b\u6570\u91cf\u8fd8\u662f(u+v)\uff0c\u4e0d\u4f1a\u51cf\u5c11\uff0c\n\t//\u6240\u4ee5\u5982\u679c\u629b\u7269\u7ebf\u7684\u603b\u6570\u91cf\u5df2\u7ecf\u5927\u4e8e\u7b49\u4e8e\u5f53\u524d\u7684\u6700\u4f18\u89e3\u65f6\uff0c\u641c\u4e0b\u53bb\u4e5f\u4e0d\u4f1a\n\t//\u6bd4\u5f53\u524d\u66f4\u4f18\u4e86\uff0c\u5c31\u4e0d\u7528\u7ee7\u7eed\u641c\u4e0b\u53bb\u4e86\u3002\n\tif(u+v>=ans) return;\n\tif(c>n)//\u5982\u679c\u641c\u5b8c\u4e86 \n\t{\n\t\tans=u+v;//\u8bb0\u5f55\u7b54\u6848\uff0c\u56e0\u4e3a\u524d\u9762\u5df2\u7ecf\u6709\u6700\u4f18\u6027\u526a\u679d\u4e86\uff0c\u6240\u4ee5\u6ca1\u88ab\u526a\u6389\u7684\u7b54\u6848\u4e00\u5b9a\u6bd4\u5f53\u524d\u66f4\u4f18 \n\t\treturn;//\u7ed3\u675f \n\t}\n\tbool flag=false;//\u8bb0\u5f55\u662f\u5426\u88ab\u5df2\u6784\u9020\u7684\u629b\u7269\u7ebf\u7ecf\u8fc7 \n\tfor(int i=1;i<=u;i++)//\u679a\u4e3e\u5df2\u6784\u9020\u7684\u629b\u7269\u7ebf \n\t\t//\u5c06\u8fd9\u4e00\u6761\u629b\u7269\u7ebf\u7684\u53c2\u6570\u4e0e\u5f53\u524d\u732a\u7684x\u5750\u6807\u5e26\u8fdb\u51fd\u6570\u89e3\u6790\u5f0f\u7b97\u4e00\u904d\uff0c\n\t\t//\u5982\u679c\u7ed3\u679c\u7b49\u4e8e\u5f53\u524d\u732a\u7684y\u5750\u6807\uff0c\u5c31\u8bf4\u660e\u5f53\u524d\u732a\u5df2\u7ecf\u88ab\u5df2\u6784\u9020\u7684\u629b\u7269\u7ebf\u7ecf\u8fc7\u4e86 \n\t\tif(dy(pwxa[i]*x[c]*x[c]+pwxb[i]*x[c],y[c]))\n\t\t{\n\t\t\tdfs(c+1,u,v);//\u88ab\u7ecf\u8fc7\u4e86\u5c31\u76f4\u63a5\u5f80\u4e0b\u641c \n\t\t\tflag=true;//\u8bb0\u5f55 \n\t\t\tbreak;//\u9000\u51fa\u5faa\u73af\uff0c\u65e2\u7136\u5f53\u524d\u732a\u5df2\u7ecf\u88ab\u7ecf\u8fc7\u4e86\uff0c\u518d\u7ee7\u7eed\u5224\u65ad\u4e5f\u6ca1\u6709\u610f\u4e49\u4e86\n\t\t}\n\tif(!flag)//\u5982\u679c\u6ca1\u6709\u88ab\u7ecf\u8fc7 \n\t{\n\t\tfor(int i=1;i<=v;i++)//\u679a\u4e3e\u5355\u72ec\u7684\u732a \n\t\t{\n\t\t\t//\u5982\u679c\u5f53\u524d\u732a\u4e0e\u8fd9\u4e00\u53ea\u5355\u72ec\u7684\u732a\u7684x\u5750\u6807\u76f8\u540c\uff0c\u5c31\u8bf4\u660e\u5b83\u4eec\u4e0d\u80fd\u7ec4\u6210\u4e00\u6761\n\t\t\t//\u629b\u7269\u7ebf\u3002\u56e0\u4e3a\u82e5\u60f3\u4f7f\u5b83\u4eec\u7ec4\u6210\u4e00\u6761\u629b\u7269\u7ebf\uff0c\u5f39\u5f13\u7684\u4f4d\u7f6e\u5c31\u5fc5\u987b\u662f\u5b83\u4eec\u7684\u6b63\u4e0b\n\t\t\t//\u65b9\uff0c\u7136\u540e\u5f80\u4e0a\u5782\u76f4\u53d1\u5c04\uff0c\u4f46\u662f\u5f39\u5f13\u7684\u4f4d\u7f6e\u56fa\u5b9a\u5728(0,0)\uff0c\u800c\u732a\u7684x\u5750\u6807\u53c8\u5927\u4e8e\n\t\t\t//0\uff08\u9898\u76ee\u6570\u636e\u8303\u56f4\uff09\uff0c\u6240\u4ee5\u5b83\u4eec\u4e0d\u80fd\u7ec4\u6210\u4e00\u6761\u629b\u7269\u7ebf\u3002\u5982\u679c\u4e0d\u52a0\u8fd9\u4e2a\u5224\n\t\t\t//\u65ad\u7684\u8bdd\u5c31\u4f1a\u8ba1\u7b97\u51fa\u4e00\u4e9b\u5947\u5947\u602a\u602a\u7684\u4e1c\u897f\uff0c\u5f71\u54cd\u540e\u9762\u7684\u5224\u65ad\uff0c\u6240\u4ee5\u8fd8\u662f\u52a0\u4e0a\u4e3a\u597d\u3002 \n\t\t\tif(dy(x[c],tx[i])) continue;//\u5982\u679c\u5f53\u524d\u732a\u4e0e\u8fd9\u4e00\u53ea\u5355\u72ec\u7684\u732a\u7684x\u5750\u6807\u76f8\u540c\uff0c\u8df3\u8fc7\u8fd9\u4e00\u6b21\u5faa\u73af\n\t\t\t//\u6c42\u53c2\u6570a\u3001b\u7684\u8fc7\u7a0b\u5b9e\u9645\u4e0a\u5c31\u662f\u89e3\u4e00\u4e2a\u4e8c\u5143\u4e00\u6b21\u65b9\u7a0b\u7ec4\uff0c\u6bd4\u5982\u8bf4\u6709\u4e24\u53ea\u732a\u7684\u5750\u6807\u5206\u522b\u662f(1,3)\u548c(3,3)\uff0c \n\t\t\t//\u73b0\u5728\u8981\u6c42\u51fa\u5b83\u4eec\u6240\u7ec4\u6210\u7684\u629b\u7269\u7ebf\u7684\u53c2\u6570a\u4e0e\u53c2\u6570b\u3002\u5c06\u4e24\u53ea\u732a\u7684\u5750\u6807\u5206\u522b\u4ee3\u5165\u5230\u51fd\u6570\u89e3\u6790\u5f0f\u4e2d\uff0c\n\t\t\t//\u5c31\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u65b9\u7a0b\u7ec4\uff1a 3=a+b  3=9a+3b \u3002\u8fd9\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u52a0\u51cf\u6d88\u5143\u6cd5\u6d88\u6389b\uff0c\u5c06\u4e24\u4e2a\u65b9\u7a0b\n\t\t\t//\u5206\u522b\u4e58\u4e0a\u53e6\u4e00\u4e2a\u65b9\u7a0b\u7684b\u7684\u7cfb\u6570\uff0c\u5f97\uff1a9=3a+3b 3=9a+3b\u3002\u8fd9\u6837\uff0c\u4e24\u4e2a\u65b9\u7a0b\u4e2d\u7684b\u7684\u7cfb\u6570\u5c31\u4e00\u81f4\u4e86\uff0c\n\t\t\t//\u7136\u540e\u76f4\u63a5\u7528\u4e00\u4e2a\u5f0f\u5b50\u51cf\u53bb\u53e6\u4e00\u4e2a\u5f0f\u5b50\uff0c\u518d\u5c06a\u7684\u7cfb\u6570\u5316\u4e3a\u4e00\u5373\u53ef\u3002\u6700\u540e\u518d\u5c06a\u5e26\u5165\u5230\u56de\u4efb\u610f\u4e00\u4e2a\u65b9\u7a0b\u6c42b\u5373\u53ef\u3002\n\t\t\t//\u56e0\u4e3a\u8fd9\u91cc\u7684\u6240\u6709\u65b9\u7a0b\u90fd\u957f\u4e00\u4e2a\u6837\uff0c\u6240\u4ee5\u8fd9\u4e00\u79cd\u65b9\u6cd5\u662f\u901a\u7528\u7684\u3002 \n\t\t\tdouble a=(y[c]*tx[i]-ty[i]*x[c])/(x[c]*x[c]*tx[i]-tx[i]*tx[i]*x[c]);//\u6c42\u53c2\u6570a \n\t\t\tdouble b=(y[c]-x[c]*x[c]*a)/x[c];//\u5c06a\u4ee3\u5165\u6c42\u53c2\u6570b \n\t\t\tif(a<0)//\u5982\u679c\u8fd9\u4e00\u4e2a\u89e3\u662f\u5408\u6cd5\u7684\uff0c\u5c31\u8bf4\u660e\u5f53\u524d\u732a\u4e0e\u8fd9\u4e00\u53ea\u5355\u72ec\u7684\u732a\u53ef\u4ee5\u7ec4\u6210\u629b\u7269\u7ebf \n\t\t\t{\t\n\t\t\t\tpwxa[u+1]=a;//\u8bb0\u5f55\u629b\u7269\u7ebf\u7684\u53c2\u6570a \n\t\t\t\tpwxb[u+1]=b;//\u8bb0\u5f55\u629b\u7269\u7ebf\u7684\u53c2\u6570b\n\t\t\t\t//\u5c06\u8fd9\u4e00\u53ea\u5355\u72ec\u7684\u732a\u4ece\u6570\u7ec4\u4e2d\u5220\u53bb\uff0c\u56e0\u4e3a\u5b83\u5df2\u7ecf\u548c\u5f53\u524d\u732a\u7ec4\u6210\u629b\u7269\u7ebf\uff0c\u4e0d\u518d\u5355\u72ec\u4e86 \n\t\t\t\tdouble q=tx[i],w=ty[i];\n\t\t\t\tfor(int j=i;j<v;j++)\n\t\t\t\t{\n\t\t\t\t\ttx[j]=tx[j+1];\n\t\t\t\t\tty[j]=ty[j+1];\n\t\t\t\t}\n\t\t\t\tdfs(c+1,u+1,v-1);//\u7ee7\u7eed\u5f80\u4e0b\u641c\n\t\t\t\t//\u5c06\u8fd9\u4e00\u53ea\u5355\u72ec\u7684\u732a\u653e\u56de\u6570\u7ec4\uff08\u56de\u6eaf\uff09 \n\t\t\t\tfor(int j=v;j>i;j--) \n\t\t\t\t{\n\t\t\t\t\ttx[j]=tx[j-1];\n\t\t\t\t\tty[j]=ty[j-1];\n\t\t\t\t}\n\t\t\t\ttx[i]=q;\n\t\t\t\tty[i]=w;\n\t\t\t}\n\t\t}\n\t\t//\u8fd8\u6709\u4e00\u79cd\u9009\u62e9\uff1a\u6682\u65f6\u4e0d\u4e0e\u5176\u5b83\u732a\u7ec4\u6210\u629b\u7269\u7ebf \n\t\ttx[v+1]=x[c];\n\t\tty[v+1]=y[c];\n\t\tdfs(c+1,u,v+1);//\u7ee7\u7eed\u5f80\u4e0b\u641c \n\t}\n}\nint main()\n{\n\tint T=0;\n\tscanf(\"%d\",&T);\n\tfor(int Q=1;Q<=T;Q++)\n\t{\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tfor(int i=1;i<=n;i++) scanf(\"%lf%lf\",&x[i],&y[i]);\n\t\tans=100;//\u8bb0\u5f97\u521d\u59cb\u5316 \n\t\tdfs(1,0,0);//\u641c \n\t\tprintf(\"%d\\n\",ans); \n\t} \n\treturn 0;//\u5b8c\u7f8e\u5730\u7ed3\u675f \n}\n```",
        "postTime": 1519303177,
        "uid": 42758,
        "name": "wzxx",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "# write \u9898\u89e3 makes me \u5feb\u4e50\n\n~~\u8fd9\u9053\u9898\u72e0\u53cb\u7591\u4f3c\uff0c\u7d22\u6613\u6211\u9152\u8d56\u8840\u4ee5\u504f\u9898\u89e3\u3002~~\n\n\uff08\u8fd9\u9053\u9898\u5f88\u6709\u610f\u601d\uff0c\u6240\u4ee5\u6211\u5c31\u6765\u5199\u4e00\u7bc7\u9898\u89e3\uff09\n\n\u9898\u76ee\u5185\u5bb9\u5f88\u7b80\u5355\uff0c\u7528\u4e00\u4e9b\u629b\u7269\u7ebf\u6765\u8986\u76d6\u9898\u76ee\u7ed9\u51fa\u7684\u4e00\u4e9b\u70b9\u3002\u9898\u76ee\u4e2d\u8fd8\u63d0\u5230\u4e00\u70b9\uff0c\u90a3\u5c31\u662fvan\u8fd9\u4e2a\u6e38\u620f\u7684van\u5bb6\u8fd8\u53ef\u4ee5\u7528\u4e00\u4e9b\u6307\u4ee4\uff0c\u4f46\u662f\uff0c\u4f60\u7565\u4e00\u601d\u7d22\u5c31\u4f1a\u53d1\u73b0\uff0c\u6211\u4eec\u662f\u5954\u7740\u6b63\u89e3\u800c\u53bb\u7684\uff0c\u4f46\u6211\u4eec\u4e0d\u662f\u4e3a\u4e86\u9a97\u5206\uff01\u8fd9\u4e9b\u6307\u4ee4\u6839\u672c\u6ca1\u6709\u5565\u4e48\u7528\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u77e5\u9053\uff0c\u5982\u679c\u6211\u4eec\u77e5\u9053\u4e86\u4e00\u4e2a\u629b\u7269\u7ebf\u4e0a\u7684\u4e24\u4e2a\u70b9\uff0c\u90a3\u4e48\u6211\u4eec**\u4e00\u5b9a\u53ef\u4ee5\u786e\u5b9a\u8fd9\u6761\u629b\u7269\u7ebf**\uff0c\u5bf9\u5427\uff1f\n\n\u6211\u4eec\u5148\u8003\u8651\u8fd9\u4e00\u70b9\u3002\n\n\u8bbe\u629b\u7269\u7ebf\u4e0a\u7684\u4e00\u70b9\u4e3a$x_i,y_i$\uff0c\u53e6\u5916\u4e00\u70b9\u4e3a$x_j,y_j$\u3002\n\n\u90a3\u6211\u4eec\u4e8e\u662f\u5217\u51fa\u65b9\u7a0b\uff1a\n\n$$y_i=-ax_i^2+bx_i$$\n\n$$y_j=-ax_j^2+bx_j$$\n\n\u6211\u4eec\u5148\u5728\u7b2c\u4e00\u4e2a\u7b49\u5f0f\u4e24\u8fb9\u5404\u4e58\u4e0a$x_j$\uff0c\u7b2c\u4e8c\u4e2a\u7b49\u5f0f\u4e24\u8fb9\u5404\u4e58\u4e0a$x_i$\u3002\n\n$$y_ix_j=-ax_i^2x_j+bx_ix_j$$\n\n$$y_jx_i=-ax_ix_j^2+bx_jx_j$$\n\n\u6211\u4eec\u4e8e\u662f\u663e\u7136\u5730\u53d1\u73b0\uff0c\u7b49\u5f0f\u4e24\u8fb9\u53d8\u5f97very lovely\uff0c\u90fd\u6709\u516c\u5171\u9879$bx_jx_i$\uff0c\u6240\u4ee5\u6211\u4eec\u5c06\u4e24\u4e2a\u7b49\u5f0f\u76f8\u51cf\u3002\n\n$$y_ix_j-y_jx_i=-a(x_i^2x_j-x_ix_j^2)$$\n\n\u4e8e\u662f\u6211\u4eec\u5c06$(x_j^2-x_ix_j^2)$\u9664\u5230\u5de6\u5f0f\uff0c\u5f97\uff1a\n\n$$a=-\\frac{y_ix_j-y_jx_i}{x_i^2x_j-x_ix_j^2}$$\n\n\u6211\u4eec\u6c42\u51fa\u4e86a\uff01\u90a3\u4e48\u6211\u4eec\u4ee5\u540c\u6837\u65b9\u5f0f\u6c42\u51fab\uff1a\n\n\u9996\u5148\u6211\u4eec\u5148\u8981\u5c06a\u7684\u9879\u6d88\u6389\uff0c\u7b2c\u4e00\u4e2a\u7b49\u5f0f\u4e58\u4e0a$x_j^2$\uff0c\u7b2c\u4e8c\u4e2a\u7b49\u5f0f\u4e24\u8fb9\u5404\u4e58\u4e0a$x_i^2$\uff1a\n$$y_ix_j^2=-ax_i^2x_j^2+bx_ix_j^2$$\n\n$$y_jx_i^2=-ax_i^2x_j^2+bx_i^2x_j$$\n\u4e24\u5f0f\u76f8\u51cf\uff1a\n\n$$y_ix_j^2-y_jx_i^2=b(x_ix_j^2-x_i^2x_j)$$\n\n$$b=\\frac{y_ix_j^2-y_jx_i^2}{x_ix_j^2-x_i^2x_j}$$\n\n\u4e8e\u662f\uff0c\u6211\u4eec\u53ea\u8981\u77e5\u9053\u629b\u7269\u7ebf\u4e0a\u7684\u4e24\u4e2a\u70b9\uff0c\u6211\u4eec\u5fc5\u7136\u80fd\u591f\u6c42\u51fa\u629b\u7269\u7ebf\u65b9\u7a0b$y=ax^2+by$\u4e2da,b\u7684\u503c\u3002\n\n\u90a3\u4e48\u7a0b\u5e8f\u4e0b\u9762\u7ed9\u51fa\uff1a\n```cpp\nvoid equation(double &a,double &b,int i,int j){\n\ta=-(y[i]*x[j]-y[j]*x[i])/(x[j]*x[j]*x[i]-x[i]*x[i]*x[j]);\n\tb=(y[i]*x[j]*x[j]-y[j]*x[i]*x[i])/(x[i]*x[j]*x[j]-x[j]*x[i]*x[i]);\n}\n```\n\n\n------------\n\u4e0a\u9762\u662f\u6bd4\u8f83\u504f\u6570\u5b66\u7684\u90e8\u5206\u4e86\uff0c\u4e0b\u9762\u6211\u4eec\u8bb2\u4e00\u4e9b\u504f\u8ba1\u7b97\u673a\u7684\u5185\u5bb9\u5427\uff01\n\n\u9996\u5148\uff0c\u6211\u4eec\u660e\u786e\u4e00\u4e0b\u76ee\u6807\uff0c\u6211\u4eec\u505a\u8fd9\u9053\u9898\u7684\u65b9\u6cd5\u662f\u72b6\u6001\u538b\u7f29\uff0c\u4ec0\u4e48\u610f\u601d\u5462\uff1f\u6bd4\u5982\u8bf4\uff1a\n\n\u6211\u4eec\u4ee511\u8fd9\u4e2a\u6570\u4e3a\u4f8b\uff0c\n\n\u5148\u5c06\u5176\u5206\u89e3\u62102\u8fdb\u5236\uff1a000000000000001011\n\n\u90a3\u4e48\u4ed6\u8868\u793a\u4ec0\u4e48\u5462\uff1f\n\n\u4ed6\u8868\u793a\u6211\u4eec\u5c061,2,4\u8fd9\u51e0\u53ea\u5c0fpig\u6253\u6389\uff0c\u56e0\u4e3a\u7b2c1,2,4\u7684\u4f4d\u7f6e\u4e0a\uff0c11\u8fd9\u4e2a\u6570\u7684\u8fd9\u4e9b\u4e8c\u8fdb\u5236\u4f4d\u662f1\u3002\u6211\u4eec\u75281\u8868\u793a\u8fd9\u53ea\u5c0f\u732a\u88ab\u6253\u6389\u3002\u8fd9\u5c31\u662f\u6211\u4eec\u7684\u72b6\u6001\u538b\u7f29\u601d\u8def\u3002\n\n\n------------\n\u73b0\u5728\u6211\u4eec\u6765\u770b\u8fd9\u4e2a\u7a0b\u5e8f\u4e2d\u7684\u4e00\u4e2a\u5947\u5999\u7684\u521d\u59cb\u5316\u3002\n```cpp\nfor(int i=0;i<(1<<18);i++){\n    int j=1;\n    for(;j<=18&&i&(1<<(j-1));j++);\n    start[i]=j;\n}\n```\n\u53ef\u4ee5\u7406\u89e3\u5417\uff1f\u9996\u5148\u6211\u4eec\u7a77\u4e3e\u6bcf\u4e00\u4e2a\u72b6\u6001\uff0c\u4ece000000000000000000\u5230111111111111111111\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u72b6\u6001\uff0c\u6211\u4eec\u4ece\u4ed6\u7684\u7b2c\u4e00\u4f4d\u5f00\u59cb\u7a77\u4e3e\uff0c$i&(1<<(j-1))$\u610f\u601d\u5c31\u662fi\u8fd9\u4e2a\u72b6\u6001\u7684\u7b2cj\u5934pig\u662f\u5426\u88ab\u6253\u6389\u3002\u4e8e\u662fstart[i]\u7684\u610f\u601d\u5c31\u662fi\u8fd9\u4e2a\u72b6\u6001\u5185\u7b2c\u4e00\u4e2a0\u7684\u4f4d\u7f6e\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u505adp\u7684\u8d77\u59cb\u4f4d\u7f6e\u3002\n\n\u8fd9\u4e2a\u4f18\u5316\u8282\u7701\u4e86\u6211\u4eec\u5f88\u591a\u65f6\u95f4\u590d\u6742\u5ea6\u3002\n\n------------\n```cpp\nfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=n;j++){\n\t\tif(fabs(x[i]-x[j])<eps) continue;\n\t\t\tdouble a,b;\n\t\t\tequation(a,b,i,j);\n\t\t\tif(a>-eps) continue;\n\t\t\tfor(int k=1;k<=n;k++)\n\t\t\t\tif(fabs(a*x[k]*x[k]+b*x[k]-y[k])<eps)\n                curve[i][j]|=(1<<(k-1));\n\t\t\t}\n```\n\u8fd9\u6bb5\u7a0b\u5e8f\u6211\u4eec\u6765\u8bb2\u4e00\u8bb2\u3002\n\n\u9996\u5148\u6211\u4eec\u7a77\u4e3e\u6bcf\u4e24\u4e2a\u70b9\uff0c\u7136\u540e\u8fd0\u7528\u6211\u4eec\u4e00\u5f00\u59cb\u8bb2\u7684\u901a\u8fc7\u4e24\u4e2a\u629b\u7269\u7ebf\u4e0a\u70b9\u6c42\u629b\u7269\u7ebfa,b\u53c2\u6570\u65b9\u7a0b\u7684\u65b9\u6cd5\uff0c\u6c42\u51faa\u548cb\uff0c\u5982\u679ca\u5927\u4e8e\u6211\u4eec\u7684eps\uff08eps\u662f\u7cbe\u5ea6\uff0c$10^{-8}$)\u5176\u5b9e\u4e5f\u5c31\u662f\u5927\u4e8e0\uff0c\u90a3\u4e48\u629b\u7269\u7ebf\u7684\u5f00\u53e3\u65b9\u5411\u5c31\u662f\u5411\u4e0a\u7684\u3002\n\n\n~~\u60f3\u60f3\uff0c\u8981\u662f\u8fd9\u4e2a\u6837\u5b50\u7684\u8bdd\uff0c\u725b\u8001\u7237\uff08\u725b\u987f\uff09\u4f30\u8ba1\u90fd\u8981\u4ece\u68fa\u6750\u91cc\u8dd1\u51fa\u6765\u4e86\uff01~~\n\n\u7136\u540e\u6211\u4eec\u7a77\u4e3e\u6bcf\u4e2a\u70b9\uff0c\u7136\u540e\u770b\u770b\u8fd9\u4e2a\u70b9\u662f\u5426\u4f1a\u5728\u8fd9\u4e00\u6761\u629b\u7269\u7ebf\u4e2d\u88ab\u6253\u6389\u3002\u90a3\u4e48\u6211\u4eec\u7684\u5224\u65ad\u6761\u4ef6\u662f\u600e\u4e48\u6765\u7684\u5462\uff1f\n\n\u82e5$y=ax^2+bx$\u90a3\u4e48\u79fb\u9879\u540e\uff1a$ax_i^2+bx-y=0$\u5982\u679c\u8fd9\u4e2a\u7b49\u5f0f\u6210\u7acb\uff0c\u8fd9\u4e2a\u70b9\u5c31\u662f\u53ef\u4ee5\u88ab\u6253\u6389\u7684\u3002\u6211\u4eec\u5c06\u5b83\u5b58\u5728$curve[i][j]$\u4e2d\uff0c$curve[i][j]$\u8868\u793a\u7ecf\u8fc7i\uff0cj\u7684\u629b\u7269\u7ebf\u80fd\u591f\u6253\u6389\u7684\u72b6\u6001\u3002\n\n\n------------\n```cpp\nfor(int i=0;i<(1<<n);i++){\n\tint j=start[i];\n\tdp[i|(1<<(j-1))]=min(dp[i|(1<<(j-1))],dp[i]+1); \n\tfor(int k=1;k<=n;k++)\n\t\tdp[i|lines[j][k]]=min(dp[i|lines[j][k]],dp[i]+1); \n}\n```\n\u9996\u5148\uff0c\u6211\u4eec\u5f00\u59cb\u64cd\u4f5c\u7684\u70b9\u662fstart[i]\uff0c\u6211\u4eec\u5148\u5c06\u5b83\u9884\u5148\u8f6c\u79fb\u4e00\u4e0b\uff0c\u5c31\u662fj\u8fd9\u5934\u732a\u88ab\u6253\u6389\u7684\u72b6\u6001\u7b49\u4e8e\u4ed6\u88ab\u6253\u6389\u7684\u72b6\u6001\u7684\u6700\u5c0f\u629b\u7269\u7ebf\u6570\uff0c\u548c\u76ee\u524d\u72b6\u6001\u7684\u6700\u5c0f\u629b\u7269\u7ebf\u6570\u91cf\u52a0\u4e0a\u4e00\u6761\u6253\u4e0b\u6b21\u5934pig\u3002\n\n\u7136\u540e\u7a77\u4e3e1~n\u6bcf\u4e00\u5934\u732a\uff0c\u7136\u540e\u540e\u8f6c\u79fb\u8fd9\u5934\u732a\u6253\u6389\u4ed6\u7684\u6700\u5c0f\u629b\u7269\u7ebf\u6570\u91cf\u3002\n\n```cpp\nprintf(\"%d\\n\",dp[(1<<n)-1]);\n```\n\u6700\u540e\u8f93\u51fa\u6240\u6709\u732a\u88ab\u6253\u6389\u7684\u60c5\u51b5\u7684\u6700\u5c0f\u629b\u7269\u7ebf\u6570\u91cf\u3002\n\n\u6700\u540e\u7ed9\u4e00\u4e2a\u6807\u7a0b\u5427\uff01\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst double eps=1e-8;\nint T,n,m,lines[19][19],start[1<<19],dp[1<<19];\ndouble x[19],y[19];\nvoid equation(double &a,double &b,int i,int j){\n\ta=-(y[i]*x[j]-y[j]*x[i])/(x[j]*x[j]*x[i]-x[i]*x[i]*x[j]);\n\tb=(y[i]*x[j]*x[j]-y[j]*x[i]*x[i])/(x[i]*x[j]*x[j]-x[j]*x[i]*x[i]);\n}\nint main(){\n\tfor(int i=0;i<(1<<18);i++){\n\t\tint j=1;\n\t\tfor(;j<=18 && i&(1<<(j-1));j++);\n\t\tstart[i]=j;\n\t}\n\tscanf(\"%d\",&T);\n\tfor(int i=1;i<=T;i++){\n\t\tmemset(lines,0,sizeof(lines));\n\t\tmemset(dp,1,sizeof(dp));\n\t\tdp[0]=0;\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tfor(int i=1;i<=n;i++) scanf(\"%lf%lf\",x[i],y[i]);\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(int j=1;j<=n;j++){\n\t\t\t\tif(fabs(x[i]-x[j])<eps) continue;\n\t\t\t\tdouble a,b;\n\t\t\t\tequation(a,b,i,j);\n\t\t\t\tif(a>-eps) continue;\n\t\t\t\tfor(int k=1;k<=n;k++)\n\t\t\t\t\tif(fabs(a*x[k]*x[k]+b*x[k]-y[k])<eps)\n\t\t\t\t\t\tlines[i][j]|=(1<<(k-1));\n\t\t\t}\n\t\tfor(int i=0;i<(1<<n);i++){\n\t\t\tint j=start[i];\n\t\t\tdp[i|(1<<(j-1))]=min(dp[i|(1<<(j-1))],dp[i]+1); \n\t\t\tfor(int k=1;k<=n;k++)\n\t\t\t\tdp[i|lines[j][k]]=min(dp[i|lines[j][k]],dp[i]+1); \n\t\t}\n\t\tprintf(\"%d\\n\",dp[(1<<n)-1]);\n\t}\n\treturn 0;\n}\n```\n~~\u4e0d\u8981\u6284\u88ad\u54e6~~  \u6b22\u8fcecopy\n\n\u6700\u540e\u5f31\u5f31\u5730\u5e0c\u671b\u5927\u5bb6\u7ed9\u4e2a\u8d5e\uff0c\u9876\u4e00\u9876\uff0c\u8fd9\u4e00\u7bc7\u9898\u89e3\u5199\u7684\u6bd4\u8f83\u4ed4\u7ec6\u54e6\uff01",
        "postTime": 1570957494,
        "uid": 134182,
        "name": "juruo_zjc",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "[\u9898\u76ee](https://www.luogu.org/problemnew/show/P2831)\n\n\u6211\u7684\u5929\uff0c\u8fd9\u9898\u662f\u771f\u7684\u5361\u7cbe\u5ea6......\n\n\u4e3b\u8981\u662f\u7cbe\u5ea6\u5f88\u4e0d\u597d\u5904\u7406\uff0c\u7ecf\u672c\u849f\u84bb\u6d4b\u9a8c\uff0c\u7cbe\u5ea6\u5728$10^{-6}$\u4f1a\u6bd4\u8f83\u597d~~\u4f18\u96c5~~\n\n---\n\n**\u3010\u5206\u6790\u3011**\n--\n\n\u5bf9\u4e8e\u8fd9\u79cd\u67d0\u4e2a\u53d8\u91cf\u7279\u522b\u5c0f$(\\leq 31)$\u7684\u9898\u76ee\uff0c\u672c\u849f\u84bb\u7b2c\u4e00\u53cd\u5e94\u5c31\u662f\u72b6\u538b\n\n\u5bf9\u4e8e\u67d0\u4e2a\u629b\u7269\u7ebf\uff0c\u4e00\u5b9a\u8981\u6253\u5230\u8d77\u7801\u4e00\u4e2a\u5c0f\u732a(\u4e0d\u7136\u4e0d\u5982\u4e0d\u8981\u8fd9\u4e00\u6761\u629b\u7269\u7ebf)\n\n\u6709\u4eba\u89c9\u5f97\u6700\u5c11\u4f1a\u6253\u6389\u4e24\u53ea\u5c0f\u732a\u7684\uff0c\u53ef\u4ee5\u4ed4\u7ec6\u60f3\u4e00\u4e0b\uff0c\u4e07\u4e00$a \\geq 0$\u5462......\n\n\u597d\u7684\uff0c\u6211\u4eec\u7ee7\u7eed\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u8003\u8651\uff0c\u679a\u4e3e\u6bcf\u4e00\u53ea\u5c0f\u732a\u7684\u5750\u6807\n\n\u9996\u5148\uff0c\u6709\u4e00\u6761\u629b\u7269\u7ebf\u662f\u53ea\u8fc7\u5b83\u7684\n\n\u5176\u6b21\uff0c\u518d\u679a\u4e3e\u5176\u4ed6\u5c0f\u732a\uff0c\u7b97\u51fa\u629b\u7269\u7ebf\u65b9\u7a0b(\u89c1\u4e0b\u65b9)\uff0c\u82e5$a<0$\u5c31\u8bb0\u5f55\u8fd9\u6761\u629b\u7269\u7ebf\uff0c\u5426\u5219\u53ef\u4ee5\u76f4\u63a5\u8df3\u51fa\n\n\u8bb0\u5f55\u5b8c\u8fd9\u6761\u629b\u7269\u7ebf\u540e\uff0c\u6211\u4eec\u679a\u4e3e\u5176\u4ed6\u7684\u5c0f\u732a\uff0c\u67e5\u770b\u662f\u5426\u5728\u7ebf\u4e0a\n\n\u8fd9\u91cc\u8981\u6ce8\u610f\u7cbe\u5ea6\u95ee\u9898\uff0c\u5982\u679c\u8ba1\u7b97\u51fa\u6765\u7684$y$\u4e0e\u9898\u76ee\u6240\u7ed9\u7684$y$\u504f\u5dee\u503c\u4e0d\u8d85\u8fc7$10^{-6}$\uff0c\u5c31\u76f4\u63a5\u89c6\u4e3a\u540c\u4e00\u4e2a\u503c(\u6bd5\u7adf\u8ba1\u7b97\u662f\u6709\u4e00\u5b9a\u7684\u7cbe\u5ea6\u95ee\u9898)\n\n\u90a3\u4e48\u5bf9\u4e8e\u63a5\u4e0b\u6765\uff0c\u6211\u5df2\u7ecf\u9884\u5904\u7406\u8fc7\u4e86\u6240\u6709\u7684\u5c0f\u9e1f\u7684\u8f68\u8ff9(\u629b\u7269\u7ebf)\uff0c\u53ea\u9700\u8981\u5728\u72b6\u538b\u65b9\u7a0b\u4e2d\u76f4\u63a5\u7b97\u5c31\u53ef\u4ee5\u4e86\n\n\u5728\u6253$0$\u53ea\u5c0f\u732a\u7684\u65f6\u5019\uff0c\u9700\u8981\u7528$0$\u53ea\u5c0f\u9e1f\uff0c\u4e8e\u662f\u6709:\n\n$dp[0]=0$\n\n\u5047\u8bbe\u5f53\u524d\u72b6\u6001\u4e3a$i$\uff0c\u629b\u7269\u7ebf\u4e3a\u7b2c$j$\u6761\uff0c\u629b\u7269\u7ebf\u6253\u6389\u7684\u5c0f\u732a\u72b6\u6001\u4e3a$para[j]$\uff0c\u90a3\u4e48\u6709\uff1a\n\n$dp[i|para[j]]=min(dp[i|para[j]],dp[i]+1)$\n\n---\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u8bf4\u4e00\u4e0b\u600e\u4e48\u6c42$a$\u548c$b$:\n\n\u5047\u8bbe\u679a\u4e3e\u5230\u4e24\u4e2a\u5c0f\u732a\uff0c\u5750\u6807\u5206\u522b\u4e3a$(x_1,y_1)$\u548c$(x_2,y_2)$\uff0c\u90a3\u4e48\u5c31\u5bf9\u5e94\u5730\u4f1a\u6709\uff1a\n\n$\\begin{cases} y_1=ax_1^2+bx_1\\\\ \\\\y_2=ax_2^2+bx_2\\end{cases}$\n\n\u8fd9\u91cc\u6709\u4e00\u4e2a\u5f88\u660e\u663e\u7684\u77e9\u9635\u5173\u7cfb\uff1a\n\n$\\left[\\begin{matrix}\\ y_1\\ \\\\ \\\\y_2\\end{matrix}\\right]=\\left[\\begin{matrix}\\ x_1^2&x_1\\ \\\\ \\\\x_2^2&x_2\\end{matrix}\\right]\\times\\left[\\begin{matrix}\\ a\\ \\\\ \\\\b\\end{matrix}\\right]$\n\n\u4e8e\u662f\u6709\uff1a\n\n$\\left[\\begin{matrix}\\ a\\ \\\\ \\\\b\\end{matrix}\\right]=\\left[\\begin{matrix}\\ x_1^2&x_1\\ \\\\ \\\\x_2^2&x_2\\end{matrix}\\right]^{-1}\\times\\left[\\begin{matrix}\\ y_1\\ \\\\ \\\\y_2\\end{matrix}\\right]$\n\n\u53c8\u56e0\u4e3a\uff1a\n\n$\\left|\\begin{matrix}\\ x_1^2&x_1\\\\ \\\\x_2^2&x_2\\end{matrix}\\right|=x_1^2x_2-x_1x_2^2=(x_1-x_2)x_1x_2$\n\n\u6240\u4ee5\u6709\uff1a\n\n$\\left[\\begin{matrix}\\ x_1^2&x_1\\ \\\\  \\\\ x_2^2&x_2\\end{matrix}\\right]^{-1}=\\frac{1}{(x_1-x_2)x_1x_2}\\left[\\begin{matrix}\\ x_2&-x_1\\ \\\\ \\\\-x_2^2&x_1^2\\end{matrix}\\right]$\n\n(\u9006\u77e9\u9635\u7684\u6c42\u6cd5)\n\n\u6240\u4ee5\u6709\uff1a\n\n$\\left[\\begin{matrix}\\ a\\ \\\\ \\\\b\\end{matrix}\\right]={1\\over(x_1-x_2)x_1x_2}\\left[\\begin{matrix}\\ x_2&-x_1\\ \\\\ \\\\-x_2^2&x_1^2\\end{matrix}\\right]\\times\\left[\\begin{matrix}\\ y_1\\ \\\\ \\\\y_2\\end{matrix}\\right]$\n\n\u5373\uff1a\n\n$\\begin{cases}a={1\\over(x_1-x_2)x_1x_2}\\times(x_2y_1-x_1y_2)\\\\ \\\\b={1\\over(x_1-x_2)x_1x_2}\\times(x_1^2y_2-x_2^2y_1)\\end{cases}$\n\n---\n\n\u8fd8\u6709\u4e00\u4ef6\u4e8b\n\n\u6211\u4eec\u5bf9\u4e8e\u629b\u7269\u7ebf\uff0c\u5728\u540e\u9762\u679a\u4e3e\u72b6\u6001\u7684\u65f6\u5019\u662f\u4e0d\u9700\u8981\u77e5\u9053\u9664\u4e86\u80fd\u6253\u7684\u5c0f\u732a\u4ee5\u5916\u7684\u6240\u6709\u4fe1\u606f\n\n\u6240\u4ee5\u76f4\u63a5\u7ef4\u62a4\u8fd9\u4e2a\u4fe1\u606f\u5c31\u53ef\u4ee5\u4e86\uff0c\u5176\u4ed6\u90fd\u6ca1\u6709\u5fc5\u8981\u7ef4\u62a4\n\n\u8fd9\u4e2a\u4f17\u4f4d\u5927\u7287\u53ef\u4ee5\u76f4\u63a5\u4e00\u4e0b\u672c\u849f\u84bb\u7684\u4ee3\u7801\n\n---\n\n**\u3010\u4ee3\u7801\u3011**\n\n\u90a3\u672c\u849f\u84bb\u5c31\u653e\u4ee3\u7801\u4e86\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n#define min(a,b) ((a<b)?a:b)\ninline void built(double &a,double &b,double x1,double y1,double x2,double y2){\n    a=(x2*y1-x1*y2)/(x1*x2*(x1-x2));\n    b=(x1*x1*y2-x2*x2*y1)/(x1*x2*(x1-x2));\n}//\u8ba1\u7b97a,b \ninline bool inc(double a,double b,double x,double y){\n\tdouble abs=a*x*x+b*x-y;\n\tif(abs<0) abs=-abs;\n\treturn abs<=0.000001;\n}//\u5224\u5b9a\u67d0\u4e2a\u5c0f\u732a\u662f\u5426\u5728\u629b\u7269\u7ebf\u4e0a \ninline int read(){\n\tint ans=0;char c=getchar();bool neg=0;\n\twhile((c<'0')|(c>'9')) { neg^=!(c^'-'); c=getchar(); }\n\twhile((c>='0')&(c<='9')) { ans=(ans<<3)+(ans<<1)+c-'0'; c=getchar(); }\n\treturn neg?-ans:ans;\n}//\u65e0\u804a\u7684\u8bfb\u5165\u4f18\u5316 \nint n,para[200],dp[1<<18],countpara;\ninline void pre(){\n\tmemset(dp,0x3f,sizeof(dp));\n\tcountpara=0;\n\tdouble x[18]={0},y[18]={0};\n\tn=read();read();\n\tfor(int i=0;i<n;i++) scanf(\"%lf %lf\",&x[i],&y[i]);\n\t//dp\u5b9a\u4e49\u4e3a\u65e0\u9650\u5927\uff0c\u629b\u7269\u7ebf\u7684\u6761\u6570\u6e05\u7a7a\uff0c\u8bfb\u5165 \n\tfor(int i=0;i<n;i++){\n\t\tpara[countpara++]=(1<<i);\n\t\t//\u53ea\u6253\u4e00\u53ea\u5c0f\u732a\u7684 \n\t\tfor(int j=i+1,vis=0;j<n;j++)//\u5b9a\u4e49vis\u8868\u793a\u6253\u5230\u8fc7\u7684\u5c0f\u732a\uff0c\u907f\u514d\u91cd\u590d\u679a\u4e3e \n\t\t\tif((vis>>j)&1) continue;\n\t\t\telse{\n\t\t\t\tdouble a,b;\n\t\t\t\tbuilt(a,b,x[i],y[i],x[j],y[j]);\n\t\t\t\tif(a>=0) continue;\n\t\t\t\tpara[countpara]=(1<<i);\n\t\t\t\tfor(int k=j;k<n;k++)//\u679a\u4e3e\u5c0f\u732a\uff0c\u67e5\u770b\u662f\u5426\u5728\u7ebf\u4e0a \n\t\t\t\t\tif(inc(a,b,x[k],y[k])){\n\t\t\t\t\t\tvis|=(1<<k);\n\t\t\t\t\t\tpara[countpara]|=(1<<k);\n\t\t\t\t\t}\n\t\t\t\tcountpara++;\n\t\t\t}\n\t}\n}\ninline int ans(){//\u72b6\u538b \n\tdp[0]=0;\n\tfor(int i=0;i<(1<<n);i++)\n\t\tfor(int j=0;j<countpara;j++)\n\t\t\tdp[i|para[j]]=min(dp[i|para[j]],dp[i]+1);\n\treturn dp[(1<<n)-1];\n}\nint main(){\n\tint t=read();\n\twhile(t--){\n\t\tpre();//\u5148\u76ae\u4e00\u4e0b \n\t\tprintf(\"%d\\n\",ans()); \n\t}\n\treturn 0;\n}\n```\n\n\u6700\u540e\u5b89\u5229\u4e00\u4e0b [\u672c\u849f\u84bb\u7684\u535a\u5ba2](https://www.luogu.org/blog/JustinRochester/)",
        "postTime": 1530771804,
        "uid": 36031,
        "name": "JustinRochester",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "####8.31update\n\n\u56de\u5934\u770b\u8fd9\u7bc7\u9898\u89e3\u7684\u65f6\u5019\u53d1\u73b0\u4e86\u4e00\u4e2a\u5c0f\u9519\uff0c\u867d\u7136\u4e0d\u5f71\u54cd\u6b63\u786e\u6027\uff0c\u4f46\u65f6\u95f4\u6548\u7387\u5c31\u4f4e\u4e86\u5f88\u591a\n\n```cpp\n//\u5173\u4e8e\u5224\u65ad\u72b6\u6001i\u7684\u7b2cj\u4f4d\u662f\u5426\u4e3a1\uff0c\u4e0a\u9762\u7684\u662f\u4e4b\u524d\u5199\u7684\uff0c\u76f8\u5f53\u4e8e\u6ca1\u7528\n//\u628a1\u5de6\u79fb\u518d&\u8fd0\u7b97\u600e\u4e48\u90fd\u4e0d\u53ef\u80fd\u51fa1\u662f\u5427\uff0c\u5f53\u65f6\u7684\u6211\u771f\u7684\u5f88naive\nif( (i&(1<<(j-1)))== 1 ) continue;//\u9519\u8bef\u7684\nif( ((i>>(j-1))&1)== 1 ) continue;//\u6b63\u786e\u7684\n\n```\n*************\nn<=18\u7684\u8303\u56f4\u9a6c\u4e0a\u5c31\u60f3\u5230\u72b6\u538b\n\n\u9898\u76ee\u4e2d\u7684\u4efb\u610f\u4e00\u6761\u629b\u7269\u7ebf\u53ea\u7528**\u4e24\u4e2a\u5750\u6807**\u5c31\u53ef\u4ee5\u786e\u5b9a\uff0c\n\u6240\u4ee5\u6211\u4eec\u628a\u5c0f\u732a**\u4e24\u4e24\u7ec4\u5408**\u8ba1\u7b97\u629b\u7269\u7ebf\n\n\u82e5\u8ba1\u7b97\u5f97\u51fa\u7684a\uff0cb\u7b26\u5408\u9898\u76ee\u8981\u6c42(a<0)\uff0c\n\u5219**\u5c06n\u4e2a\u5c0f\u732a\u904d\u5386\u4e00\u6b21\uff0c\u8bb0\u5f55\u8fd9\u6761\u629b\u7269\u7ebf\u8fd8\u80fd\u5c04\u4e2d\u54ea\u4e9b\u5c0f\u732a**\n\n\u4e5f\u5c31\u662f\u7528\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\u8868\u793a\uff0c\n\u7b2c**i\u4f4d\u4e3a1**\u8868\u793a\u8fd9\u6761\u629b\u7269\u7ebf**\u80fd\u6d88\u706d\u7b2ci\u4e2a\u5c0f\u732a**\uff0c\u4e3a0\u5219\u4e0d\u80fd\n\n\n\u7528dp[s]\u8868\u793a\u5f53\u524d\u5c0f\u732a\u88ab\u6d88\u706d\u72b6\u6001\u4e3as\uff0c\n\u7b2c**i\u4f4d\u4e3a1**\u8868\u793a**\u5df2\u6d88\u706d\u7b2ci\u4e2a\u5c0f\u732a**\uff0c\u4e3a0\u5219\u8fd8\u6ca1\u6709\n\n\u5bf9\u4e8e\u5f53\u524d\u72b6\u6001s\uff0c\n**\u679a\u4e3e\u4efb\u610f\u4e24\u4e2a\u8fd8\u6ca1\u6d88\u706d\u7684\u5c0f\u732ai\uff0cj**\uff0c\n\u8bbe\u4ed6\u4eec\u7684\u629b\u7269\u7ebf\u80fd\u6d88\u706d\u7684\u5c0f\u732a\u4e3astate[i,j]\n\u90a3\u4e48\u6709\u72b6\u6001\u8f6c\u79fb$dp[\\ s|state[i,j]\\ ]=min(dp[\\ s|state[i,j]\\ ],dp[s]+1)$\n\n\u4f46\u662f\u8003\u8651\u5230**\u6709\u4e9b\u5c0f\u732a\u53ea\u80fd\u5355\u72ec\u88ab\u6d88\u706d**\uff0c\n\u5373\u4ed6\u4e0d\u80fd\u548c\u5176\u4ed6\u5c0f\u732a\u7b97\u51fa\u5408\u6cd5\u629b\u7269\u7ebf\n\n\u6216\u6709\u4e9b\u5c0f\u732a**\u88ab\u5355\u72ec\u6d88\u706d\u53ef\u4ee5\u6709\u66f4\u4f18\u65b9\u6848**\u6d88\u706d\u5269\u4f59\u5c0f\u732a\uff0c\n\u4e0a\u8ff0\u8f6c\u79fb\u5e76\u4e0d\u5b8c\u5168\n\n\u5bf9\u4e8e\u5f53\u524d\u72b6\u6001s\uff0c\n**\u8fd8\u8981\u679a\u4e3e\u8fd8\u672a\u6d88\u706d\u7684\u5c0f\u732a\u5e76\u5355\u72ec\u6d88\u706d(\u8bbe\u4e3ai)**\n\n\u90a3\u4e48\u6709\u72b6\u6001\u8f6c\u79fb$dp[\\ s|(1<<i-1)\\ ]=min(dp[\\ s|(1<<i-1)\\ ],dp[s]+1)$\uff0c\n\u8fd9\u4e00\u6b65\u7684\u679a\u4e3e\u8f6c\u79fb\u53ef\u4ee5\u4e0e\u4e0a\u4e00\u6b65\u7684\u5408\u5e76\n\n\u7279\u522b\u7684\uff0c\u5bf9\u4e8e\u53ea**\u80fd\u88ab\u5355\u72ec\u6d88\u706d**\u7684\u5c0f\u732a\uff0c\n\u53ef\u4ee5\u7279\u5224**\u4e0d\u7528\u7ee7\u7eed\u679a\u4e3e\u548c\u4ed6\u7ec4\u5408\u7684\u5c0f\u732a**\u4e86\uff0c\u4e5f\u7b97\u662f\u4e00\u4e2a\u4f18\u5316\n\n\u6700\u540e\u6211\u4eec\u8981\u7684**\u7b54\u6848\u5c31\u662f**$dp[(1<<n)-1]$\n\n\u800c**\u521d\u59cb\u5316**\u5c31\u662f\u5bf9\u4e8e\u6240\u6709$i\\in[1,n]$\uff0c$dp[1<<i-1]=1$\uff0c\n\u4ee5\u53ca\u6bcf\u6761\u629b\u7269\u7ebf\u5355\u72ec\u6d88\u706d\u5f97\u5230\u7684\u72b6\u6001res\uff0c$dp[res]=1$\n\n\u53e6\u5916\u8fd9\u9898\u7cbe\u5ea6\u5361\u7684\u6211\u597d\u70e6\u5450\uff0c\n\u975e\u8981\u5f00long double\uff0c\n\u5361\u5e38\u4e5f\u662f\u5341\u5206\u7684\u5201\u94bb=_=\n*************************\n\n```\n//niiick\n#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<queue>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\ntypedef double dd;\n\nint read()\n{\n    int f=1,x=0;\n    char ss=getchar();\n    while(ss<'0'||ss>'9'){if(ss=='-')f=-1;ss=getchar();}\n    while(ss>='0'&&ss<='9'){x=x*10+ss-'0';ss=getchar();}\n    return f*x;\n}\n\nconst int maxn=300010;\nint t,n,m;\nstruct node{dd x,y;}pi[20];\nint st[20][20],judge[20];\nint dp[maxn];\n\nint calc(int d1,int d2)\n{\n    dd x1=pi[d1].x,y1=pi[d1].y;\n    dd x2=pi[d2].x,y2=pi[d2].y;\n    if(x1==x2) return 0;\n\n    dd tx=x1*x1*x2-x2*x2*x1,ty=y1*x2-y2*x1;\n    dd a=ty/tx,b=(y1-a*x1*x1)/x1;\n    if(a>=0) return 0;//\u7740\u4e24\u53ea\u5c0f\u732a\u4e0d\u80fd\u88ab\u4e00\u8d77\u6d88\u706d\n\n    int res=0;//\u8bb0\u5f55\u8fd9\u6761\u629b\u7269\u7ebf\u80fd\u6d88\u706d\u7684\u5c0f\u732a\n    judge[d1]=judge[d2]=1;\n    for(int i=1;i<=n;++i)\n    {\n        dd x=pi[i].x,y=pi[i].y;\n        if(fabs(a*x*x+b*x-y)<1e-7) \n        res|=1<<(i-1),dp[1<<(i-1)]=dp[res]=1;\n    }\n    return res;\n}\n\nint main()\n{\n    t=read();\n    while(t--)\n    {\n        memset(dp,67,sizeof(dp));\n        memset(judge,0,sizeof(judge));\n        n=read();m=read();\n        for(int i=1;i<=n;++i)\n        {\n            scanf(\"%lf%lf\",&pi[i].x,&pi[i].y);\n            dp[1<<(i-1)]=1;//\u521d\u59cb\u5316\u53ea\u5c04\u4e00\u53ea\u5c0f\u732a\n        }\n\n        for(int i=1;i<=n;++i)\n        for(int j=1;j<i;++j)\n        st[i][j]=calc(i,j);//\u6bcf\u4e24\u53ea\u5c0f\u732a\u4e00\u8d77\u6d88\u706d\u7684\u629b\u7269\u7ebf\n\n        for(int i=1;i<=(1<<n)-1;++i)//\u679a\u4e3e\u6bcf\u4e2a\u72b6\u6001\n        {\n            for(int j=1;j<=n;++j)//\u679a\u4e3e\u4e0b\u4e00\u4e2a\u6ca1\u88ab\u6d88\u706d\u7684\u5c0f\u732a\n            {\n                if( ((i>>(j-1))&1)== 1 )continue;\n                if(!judge[j]){dp[i|(1<<(j-1))]=min(dp[i|(1<<(j-1))],dp[i]+1);continue;}\n                for(int k=1;k<j;++k)//\u679a\u4e3e\u53e6\u4e00\u4e2a\u5c0f\u732a\u4e00\u8d77\u7ec4\u6210\u629b\u7269\u7ebf\n                {\n                    if( (i&(1<<(k-1))) == 1 )continue;\n                    dp[i|st[j][k]]=min(dp[i|st[j][k]],dp[i]+1);\n                }\n                dp[i|(1<<(j-1))]=min(dp[i|(1<<(j-1))],dp[i]+1);\n                //\u5bf9\u4e8e\u53ea\u80fd\u88ab\u5355\u72ec\u6d88\u706d\u7684\u5c0f\u732a\n            }\n        }\n        printf(\"%d\\n\",dp[(1<<n)-1]);\n    }\n    return 0;\n}\n```",
        "postTime": 1535692781,
        "uid": 60885,
        "name": "niiick",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\uff0c\u7b2c\u4e00\u7bc7\u9898\u89e3\uff0c\u6709\u4e0d\u59a5\u4e4b\u5904\u8bf7\u89c1\u8c05\n\n\u601d\u8def\uff1a\n\n# \u89e3\u6cd5\uff1a\u72b6\u538bDP.\n\ng[x]\u8868\u793a\u4e8c\u8fdb\u5236\u7f16\u7801\u4e3ax\u7684\u72b6\u6001\u6240\u7528\u7684\u6700\u5c0f\u6b65\u6570\u3002\n\nsol[i]\u8868\u793a\u7b2ci\u7ec4\u89e3\u3002\u89e3\u5171\u6709s\u7ec4\u3002\n\n\u4e8c\u8fdb\u5236\u7f16\u7801\uff1a\n\n\u72b6\u538bDP\u57fa\u672c\u6982\u5ff5\uff0c\u4e8c\u8fdb\u5236\u6570\u6bcf\u4e00\u4f4d\u76841\u8868\u793a\u53ef\u4ee5\u8fbe\u5230\u8fd9\u4e2a\u70b9\uff0c0\u8868\u793a\u4e0d\u80fd\u8fbe\u5230\u8fd9\u4e2a\u70b9\u3002\n\n\u6bd4\u5982\uff0cg[10101001]\uff08\u4e8c\u8fdb\u5236\uff09\u8868\u793a\u8fbe\u5230\u7b2c1\uff0c4\uff0c6\uff0c8\u4e2a\u70b9\uff08\u5341\u8fdb\u5236\uff09\u6240\u7528\u7684\u6700\u5c11\u629b\u7269\u7ebf\u6570\u3002\n\n\u89e3\uff1a \u80fd\u901a\u8fc7\u4ec51\u6761\u629b\u7269\u7ebf\u6240\u8fbe\u5230\u7684\u6240\u6709\u7684\u70b9\u7ec4\u6210\u7684\u4e8c\u8fdb\u5236\u7f16\u7801\uff0c\u53eb\u505a\u4e00\u4e2a\u89e3\u3002\n\n\u672c\u9898\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u51e0\u6b65\uff1a\n\n\u9884\u5904\u7406\u3002\u6b64\u5904\u53ef\u7528\u9012\u5f52\u3002\u9996\u5148\u679a\u4e3e\u4e24\u4e2a\u70b9\uff0c\u901a\u8fc7\u4e24\u4e2a\u70b9\u5171\u629b\u7269\u7ebf\u6784\u9020\u4e8c\u5143\u4e00\u6b21\u65b9\u7a0b\uff0c\u7528\u516c\u5f0f\u5c06\u5176\u89e3\u51fa\u3002\n\n\u516c\u5f0f\uff1aa1x+b1y=c1,a2x+b2y=c2,\u89e3\u5f97x = (b2\\*c1-b1\\*c2)/(a1\\*b2-a2\\*b1), y = (a1\\*c2-a2\\*c1)/(a1\\*b2-a2\\*b1).\n\nDP\u3002\u6b64\u5904\u53ef\u4ee5\u7406\u89e3\u4e3a01\u80cc\u5305\u3002\u80cc\u5305\u5bb9\u91cf\u4e3a(1<<n)-1\uff0c\u5171s\u4e2a\u7269\u54c1\uff0c\u8d39\u7528\u5206\u522b\u4e3asol[1],sol[2],...,sol[s]\uff0c\u4ef7\u503c\u5747\u4e3a1\uff0c\u4e14\u8981\u6c42\u628a\u80cc\u5305\u88c5\u6ee1\uff0c\u6c42\u6700\u5c0f\u4ef7\u503c\u3002\n\n\u4f46\u662f\u6709\u4e00\u4e2a\u6781\u5927\u7684\u6f0f\u6d1e\uff1a\u6bd4\u5982\u6211\u4eec\u8981\u914d\u51fa\uff08\u4ee5\u4e0b\u5747\u4e3a\u4e8c\u8fdb\u5236\uff0910011000\u8fd9\u4e2a\u6570\uff0c\u4e00\u79cd\u6b63\u786e\u7684\u914d\u6cd5\u662f10000000+00011000\uff0c\u4f46\u662f\u53e6\u4e00\u79cd\u62fc\u6cd5\u662f10000000+00010111+00000001\uff0c\u53d1\u751f\u4e86\u8fdb\u4f4d\uff0c\u867d\u7136\u548c\u4f9d\u7136\u662f10011000\uff0c\u4f46\u662f\u7b2c1\u4e2a\u70b9\u663e\u7136\u88ab\u6253\u4e862\u6b21\u3002\n\n\u6539\u8fdb\u65b9\u6cd5\uff1a\u53e6\u52a0\u4e00\u91cd\u5faa\u73af\uff0c\u5224\u65ad\u662f\u5426\u6709\u91cd\u590d\u3002\u65f6\u95f4\u590d\u6742\u5ea6O(n)\n\n\u672c\u6b65\u603b\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(smn)\uff0c\u5176\u4e2dm=1<<n\uff0c\u53ef\u4ee5\u8bc1\u660es<=n^2/2\uff0c\u6545\u590d\u6742\u5ea6O(2^n\\*n^3)\uff0c\u671f\u671b\u5f97\u520675~85\u5206\u3002\n\n\u4f18\u5316\n\u4e0d\u96be\u53d1\u73b0\uff0c\u6bd4\u5982\u4e00\u6761\u629b\u7269\u7ebf\u6070\u597d\u6253\u4e2d\u4e861\uff0c4\uff0c6\uff0c8\uff08\u5747\u4e3a\u5341\u8fdb\u5236\uff09\u8fd9\u56db\u4e2a\u70b9\uff0c\u4e14\u4e0d\u80fd\u6253\u4e2d\u5176\u4ed6\u7684\u70b9\u3002\u5219\u8fd9\u6761\u629b\u7269\u7ebf\u4f7fs\u7684\u503c\u589e\u52a0\u4e8615\uff08\u5373(1),(4),(6),(8),(1,4),(1,6),(1,8),(4,6),(4,8),(6,8),(1,4,6),(1,4,8),(1,6,8),(4,6,8),(1,4,6,8).\u4e8b\u5b9e\u4e0a\uff0c\u7531\u4e8e\u6211\u4eec\u662f\u7528\u6700\u5c11\u7684\u629b\u7269\u7ebf\u6253\u6700\u591a\u7684\u70b9\uff0c\u56e0\u6b64\u6700\u540e\u4e00\u79cd(1,4,6,8)\u7684\u65b9\u6848\u6bd4\u524d14\u79cd\u7684\u4efb\u610f\u4e00\u79cd\u90fd\u66f4\u4f18\u3002\u56e0\u6b64\uff0c\u53ea\u9700\u5728\u65e0\u6cd5\u7ee7\u7eed\u9012\u5f52\uff08\u5373\u6ca1\u6709\u5176\u4ed6\u70b9\u53ef\u4ee5\u6253\uff09\u65f6\u5c06\u65b9\u6848\u6dfb\u52a0\u5230sol[s]\u4e2d\uff0c\u5f88\u5927\u7a0b\u5ea6\u4e0a\u964d\u4f4e\u4e86s\u7684\u5927\u5c0f\u3002\uff08\u4f46\u5e76\u4e0d\u80fd\u6539\u53d8\u6700\u574f\u590d\u6742\u5ea6\uff0c\u56e0\u4e3a\u6709\u53ef\u80fd\u7279\u9020\u4e00\u6570\u636e\u4f7f\u5f97\u65e0\u4efb\u610f\u4e09\u70b9\u5171\u629b\u7269\u7ebf\uff09\n\n\u6700\u91cd\u8981\u7684\u4f18\u5316\uff1a\u6211\u4eec\u5728\u80cc\u5305\u4e2d\u8fdb\u884c\u4f4d\u8fd0\u7b97\u5224\u65ad\u662f\u5426\u91cd\u590d\uff0c\u56e0\u6b64\u6dfb\u52a0\u4e86\u91cd\u590d\u7684\u60c5\u51b5\u8fd8\u8981\u820d\u53bb\uff0c\u591a\u4e00\u7ef4\u590d\u6742\u5ea6\u3002\u4e0d\u59a8\u9006\u5411\u601d\u8003\uff1ag[j]=min(g[j],g[j-sol[i]+1),\u539f\u6765\u53ef\u4ee5\u7528\u8981\u66f4\u65b0\u7684\u70b9j\u7684\u7f16\u53f7\u6765\u8868\u793a\u7528\u6765\u66f4\u65b0\u6b64\u70b9\u7684\u70b9j-sol[i]\uff0c\u73b0\u5728\u53ef\u4ee5\u7528\u7528\u6765\u66f4\u65b0\u6b64\u70b9\u7684\u70b9\u7684\u7f16\u53f7\u6765\u8868\u793a\u6b64\u70b9\u3002\u5373\u7528g[j]\u6765\u66f4\u65b0\u5176\u4ed6\u70b9\uff0c\u800c\u4e0d\u662f\u7528\u5176\u4ed6\u70b9\u6765\u66f4\u65b0g[j].\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5199\u51fa\u88ab\u66f4\u65b0\u7684\u70b9\u7684\u7f16\u53f7\uff1ag[i|sol[j]].\n\n\u6ce8\u610f\uff1a\u4e8c\u8fdb\u5236\u539f\u67651+1=10\uff0c\u73b0\u57281|1=1\uff0c\u4e0d\u4f1a\u53d1\u751f\u8fdb\u4f4d\uff0c\u56e0\u6b64\u65e0\u9700\u7279\u5224\uff0c\u51cf\u5c0f\u4e00\u7ef4\u590d\u6742\u5ea6\u3002\n\n## \u603b\u590d\u6742\u5ea6\uff1aO(s\\*2^n)\uff0cs<=n^2\uff0c\u5373O(2^n\\*n^2)\uff0c\u671f\u671b\u5f97\u5206100\u5206\u3002\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<cmath> \nusing namespace std;\n\nconst int MAXN = 18;\nconst int MAXM = 262144;\nstruct Point\n{\n    double x,y;\n};\nPoint nd[MAXN+2];\nint sol[MAXN*MAXN+MAXN];\nint g[MAXM+2];\nint n,m,c,s;\n\nvoid solve(double a1,double b1,double c1,double a2,double b2,double c2,double *ansx,double *ansy)\n{\n    if(a1*b2 != a2*b1)\n    {\n        *ansx = (b2*c1-b1*c2)/(a1*b2-a2*b1);\n        *ansy = (a1*c2-a2*c1)/(a1*b2-a2*b1);\n    }\n}\n\nvoid DFS(int pos,int cod,double a,double b)\n{\n    int i,j;\n    double arga,argb;\n\n    if(pos == n) return;\n    if(cod == 0)\n    {\n        for(i=0; i<n; i++)\n        {\n            for(j=i+1; j<n; j++)\n            {\n                if(nd[i].x != nd[j].x)\n                {\n                    solve(nd[i].x*nd[i].x,nd[i].x,nd[i].y,nd[j].x*nd[j].x,nd[j].x,nd[j].y,&arga,&argb);\n                    if(arga < -1e-6)\n                    {\n                        DFS(j,(1<<i)+(1<<j),arga,argb);\n                    }\n                }\n            }\n        }\n    }\n    else\n    {\n        for(i=pos+1; i<n; i++)\n        {\n            if(fabs(nd[i].x*nd[i].x*a+nd[i].x*b-nd[i].y) < 1e-12)\n            {\n                DFS(i,cod+(1<<i),a,b);\n                return;\n            }\n        }\n        sol[s] = cod;\n        g[cod] = 1;\n        s++;\n    }\n}\n\nbool match(int spos,int gpos)\n{\n    int i;\n    for(i=n-1; i>=0; i--)\n    {\n        if((sol[spos]&(1<<i)) && (gpos&(1<<i))) return false;\n    }\n    return true;\n}\n\nint main()\n{\n    int t,i,j;\n\n    scanf(\"%d\",&t);\n    while(t--)\n    {\n        scanf(\"%d%d\",&n,&c);\n        m = 1<<n;\n        for(i=0; i<n; i++)\n        {\n            scanf(\"%lf%lf\",&nd[i].x,&nd[i].y);\n        }\n        \n        if(n == 1)\n        {\n            printf(\"1\\n\");\n            continue;\n        }\n        memset(g,42,sizeof(g));\n        memset(sol,0,sizeof(sol));\n        s = 0;\n        for(i=0; i<n; i++)\n        {\n            sol[s++] = 1<<i;\n            g[1<<i] = 1;\n        }\n        DFS(0,0,0.0,0.0);\n\n        g[0] = 0;\n        for(j=0; j<s; j++)\n        {\n            for(i=0; i<m; i++)\n            {\n                if(g[i|sol[j]] > g[i]+1) g[i|sol[j]] = g[i]+1;\n            }\n        }\n\n        printf(\"%d\\n\",g[m-1]);\n    }\n\n    return 0;\n}\n```",
        "postTime": 1505396184,
        "uid": 23613,
        "name": "suncongbo",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u6124\u6012\u7684\u5c0f\u9e1f\n\n\u7531\u4e8e\u6700\u591a\u53ea\u670918\u53ea\u732a\uff0c\u6240\u4ee5\u6211\u4eec\u4f1a\u8003\u8651\u5230\u5b89\u5168\u900f\u5f7b\u6e05\u771f\u4eba\u54c1\u7684\u72b6\u538bdp\u3002\n\n\u6211\u4eec\u4ee4`f[k]`\u8868\u793a\u5f53\u524d\u7684\u72b6\u6001\u4e3ak\u6240\u9700\u8981\u7684\u6700\u5c0f\u7684\u629b\u7269\u7ebf\u6570\uff0c\u5176\u4e2dk\u662f\u538b\u7f29\u540e\u7684\u72b6\u6001\uff0c\u5176\u4e2dk\u7684\u7b2ci\u4f4d\u4e3a1\u8868\u793a\u7b2ci\u4e2a\u5c0f\u732a\u88ab\u6d88\u706d\u6389\u4e86\uff0c\u4e3a0\u8868\u793a\u6ca1\u6709\u6d88\u706d\u6389\u3002\u521d\u59cb\u72b6\u6001\u4e3a`f[0]=0`\uff0c\u6700\u7ec8\u72b6\u6001\u4e3a`f[(1<<n)-1]`\n\n\u7136\u540e\u8bf4\u8f6c\u79fb\uff0c\u6211\u4eec\u679a\u4e3e\u6240\u6709\u7684\u629b\u7269\u7ebf\u3002\u9996\u5148\u5bf9\u4e8e\u4e00\u4e2a\u629b\u7269\u7ebf\uff0c\u4ed6\u5982\u679c\u4e00\u4e2a\u732a\u90fd\u6ca1\u6d88\u706d\u6389\uff0c\u4ed6\u4e00\u5b9a\u662f\u4e0d\u7528\u88ab\u8003\u8651\u7684\u3002\u5e76\u4e14\u5e73\u9762\u4e0a\u7684\u4e09\u70b9\u786e\u5b9a\u4e00\u6761\u629b\u7269\u7ebf\uff0c\u6211\u4eec\u77e5\u9053\u4e86\u539f\u70b9\u548c\u4e24\u53ea\u5c0f\u732a\u7684\u5750\u6807\u5c31\u53ef\u4ee5\u786e\u5b9a\u8fd9\u6761\u629b\u7269\u7ebf\u4e86\u3002\n\n\u6240\u4ee5\u6211\u4eec\u679a\u4e3e\u6bcf\u4e00\u5bf9\u732a\uff0c\u8ba1\u7b97\u8fc7\u539f\u70b9\u548c\u8fd9\u4e24\u53ea\u732a\u7684\u629b\u7269\u7ebf\u662f\u8c01\u3002\u6ce8\u610f\u8981\u7279\u5224\u4e24\u70b9\uff0c\u5982\u679c\u8fd9\u4e24\u53ea\u732a\u7684\u6a2a\u5750\u6807\u76f8\u540c(\u6839\u672c\u5c31\u65e0\u6cd5\u7b97\u51fa\u4e00\u4e2a\u5408\u6cd5\u7684\u629b\u7269\u7ebf\u554a)\uff0c\u6216\u8005\u662f\u629b\u7269\u7ebf\u7684$a>0$\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u6254\u6389\u3002\u629b\u7269\u7ebf\u7684\u8ba1\u7b97\u5f88\u7b80\u5355\uff1a\n\n\u5047\u5982\u4e24\u4e2a\u732a\u7684\u5750\u6807\u4e3a$(x_1,y_1)$\u548c$(x_2,y_2)$\uff0c\u90a3\u4e48\u6211\u4eec\u8bbe\u629b\u7269\u7ebf\u4e3a$y=ax^2+bx$\uff0c\u5e26\u5165\u5f97\u5230$\\left\\{\\begin{aligned}y_1=ax_1^2+bx_1(1)\\\\y_2=ax_2^2+bx_2(2)\\end{aligned}\\right.$\uff0c\u628a$(2)$\u5f0f\u9664\u4ee5$x_2$\u5f97\u5230$\\begin{aligned}\\frac{y_2}{x_2}=ax_2+b(3)\\end{aligned}$\uff0c\u518d\u4e58\u4ee5$x_1$\u5f97\u5230$\\begin{aligned}\\frac{y_2x_1}{x_2}=ax_1x_2+bx_1(4)\\end{aligned}$\u3002\u7528$(1)-(4)$\u5f97\u5230$\\begin{aligned}y_1-\\frac{y_2x_1}{x_2}=a(x_1^2-x_1x_2)(5)\\end{aligned}$\uff0c\u7cfb\u6570\u53161\uff0c\u5f97\u5230$\\begin{aligned}a=\\frac{y_1-\\begin{aligned}\\frac{y_2x_1}{x_2}\\end{aligned}}{x_1^2-x_1x_2}=\\frac{y_1-\\begin{aligned}\\frac{y_2x_1}{x_2}\\end{aligned}}{x_1(x_1-x_2)}\\end{aligned}$\u3002$b$\u7684\u63a8\u7684\u8fc7\u7a0b\u7c7b\u4f3c\uff0c\u8fd9\u91cc\u5c31\u7701\u7565\u4e86\u3002\u5927\u4f53\u601d\u8def\u5c31\u662f\u6d88\u5143\u3002\u6211\u4eec\u9700\u8981\u6c42$a$\u5c31\u628a$b$\u901a\u8fc7\u52a0\u51cf\u6d88\u5143\u6cd5\u6d88\u53bb\uff0c\u65e2\u7136\u6211\u4eec\u73b0\u5728\u8981\u6c42$b$\u4e86\u90a3\u4e48\u5c31\u8981\u628a$a$\u52a0\u51cf\u6d88\u5143\u6cd5\u6d88\u53bb\u4e86\uff0c\u8fd9\u91cc\u6211\u76f4\u63a5\u7ed9\u51fa$b$\u7684\u516c\u5f0f\u4e3a$\\begin{aligned}b=\\frac{\\begin{aligned}\\frac{y_1x_2^2}{x_1^2}-y_2\\end{aligned}}{\\begin{aligned}\\frac{x_2^2}{x_1}-x_2\\end{aligned}}\\end{aligned}$\n\n\u89c2\u5bdf\u540e\u6211\u4eec\u53d1\u73b0\u5f53\u4e14\u4ec5\u5f53$x_1=x_2$\u65f6\u5019$a$\u548c$b$\u65e0\u89e3\u3002\u81f3\u4e8e$a$\u548c0\u7684\u5173\u7cfb\u6211\u4eec\u53ef\u4ee5\u6c42\u51fa\u6765\u518d\u5224\u65ad\u554a\u3002\u3002\u3002\n\n\u7136\u540e\u6211\u4eec\u6bcf\u6c42\u51fa\u4e00\u6761\u629b\u7269\u7ebf\uff0c\u6211\u4eec\u5c31\u628a\u6240\u6709\u732a\u5e26\u5165\u629b\u7269\u7ebf\uff0c\u770b\u770b\u8fd9\u4e2a\u629b\u7269\u7ebf\u80fd\u7ecf\u8fc7\u54ea\u4e9b\u732a\uff0c\u65e2\u7136\u662f\u72b6\u538bdp\uff0c\u6211\u4eec\u5c31\u7528\u4e00\u4e2a\u6570\u5b57\u8868\u793a\u8fd9\u4e2a\u629b\u7269\u7ebf\u7ecf\u8fc7\u54ea\u4e9b\u732a\uff0c\u5176\u4e2d\u5982\u679c\u8fd9\u4e2a\u6570\u5b57\u4e8c\u8fdb\u5236\u7b2ci\u4f4d\u662f1\uff0c\u8868\u793a\u8fd9\u4e2a\u629b\u7269\u7ebf\u7ecf\u8fc7\u7b2ci\u4e2a\u732a\n\n\u7136\u540e\u6211\u4eec\u6309\u7167\u6570\u5b57\u5927\u5c0f\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u6240\u6709\u72b6\u6001\uff0c\u518d\u7528\u6240\u6709\u7684\u629b\u7269\u7ebf\u53bb~~\u8f70\u70b8~~\u8fd9\u4e2a\u72b6\u6001\uff0c\u5047\u8bbe\u8fd9\u4e2a\u72b6\u6001\u4e3ak\uff0c\u8fd9\u4e2a\u629b\u7269\u7ebf\u80fd\u6d88\u706d\u7684\u732a\u662fst\uff0c\u90a3\u4e48\u7528\u8fd9\u4e2a\u629b\u7269\u7ebf\u6d88\u706d\u4e4b\u540e\u53d8\u6210\u7684\u72b6\u6001\u5c31\u662f`k|st`\uff0c\u5176\u4e2d`|`\u662f\u6309\u4f4d\u6216\u8fd0\u7b97\u3002dp\u65b9\u7a0b\u4e3a`f[k|st]=min(f[k|st],f[k]+1)`\u3002\n\n\u5bf9\u4e8e\u67d0\u4e9b\u732a\u4ed6\u7684\u4f4d\u7f6e\u5f88\u7279\u6b8a\uff0c\u4ed6\u4e0d\u80fd\u548c\u4efb\u4f55\u5176\u5b83\u7684\u732a\u7ec4\u6210\u6ee1\u8db3$a<0$\u7684\u629b\u7269\u7ebf\uff0c\u4f46\u662f\u6211\u4eec\u4e00\u5b9a\u80fd\u591f\u6784\u9020\u51fa\u4e00\u6761\u629b\u7269\u7ebf\u628a\u5b83\u6253\u6389\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u679a\u4e3e\u6240\u6709\u72b6\u6001\u7684\u8fc7\u7a0b\u4e2d\u9700\u8981\u5728\u5185\u5c42\u5faa\u73af\u679a\u4e3e\u6240\u6709\u732a\uff0c\u8ba9\u4e00\u6761\u629b\u7269\u7ebf\u53ea\u6253\u8fd9\u4e00\u53ea\u732a\u770b\u770b\u80fd\u66f4\u65b0\u6210\u4ec0\u4e48\u6837\u5b50\u3002\n\n\u6700\u540e`f[(1<<n)-1]`\u5c31\u662f\u7b54\u6848\n\n\u4e3a\u4ec0\u4e48\u6211\u4eec\u8981\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u72b6\u6001\u5462\uff0c\u56e0\u4e3a\u5bf9\u4e8e\u4e00\u4e2a\u72b6\u6001\uff0c\u4ed6\u6240\u6709\u80fd\u8fbe\u5230\u7684\u72b6\u6001\u4e00\u5b9a$\\ge$\u4ed6\uff0c(\u4e0d\u96be\u53d1\u73b0)\n\n\u6ce8\u610f\u5b9e\u6570\u8bef\u5dee\n\n\u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n#define eps 1e-6\nusing namespace std;\n\nint t, n, m, top;//top\u4ee3\u8868\u5f53\u524d\u627e\u5230\u591a\u5c11\u629b\u7269\u7ebf\nint f[524300], st[400];//f\u7684\u5927\u5c0f\u662f\u4e00\u4e2a\u7565\u5927\u4e8e(1<<18)\u7684\u6570\uff0c\u6ce8\u610f\u6570\u7ec4\u5927\u5c0f\u4e0d\u8981\u5f00\u52302\u7684\u6574\u6570\u6b21\u5e42\u5426\u5219\u4f1a\u6162 st[i]\u8868\u793a\u7b2ci\u6761\u629b\u7269\u7ebf\u80fd\u6253\u7684\u732a\u7684\u72b6\u6001\ndouble x[20], y[20];//\u732a\u7684\u5750\u6807\n\n\nint main()\n{\n\tscanf(\"%d\", &t);\n\twhile (t--)\n\t{\n\t\tscanf(\"%d%d\", &n, &m);\n\t\tint maxn = (1 << n) - 1;\n\t\tmemset(f, 0x3f, sizeof(f));\n\t\tmemset(st, 0, sizeof(st));\n\t\ttop = 0;\n\t\tf[0] = 0;\n\t\tfor (int i = 1; i <= n; i++)\n\t\t\tscanf(\"%lf%lf\", &x[i], &y[i]);\n        \n        //\u5bfb\u627e\u6240\u6709\u629b\u7269\u7ebf\n\t\tfor (int i = 1; i <= n; i++)\n\t\t\tfor (int j = i + 1; j <= n; j++)\n\t\t\t{\n\t\t\t\tif (x[i] != x[j])\n\t\t\t\t{\n\t\t\t\t\tdouble ta = (y[i] - y[j] * x[i] / x[j]) / x[i] / (x[i] - x[j]);\n\t\t\t\t\tdouble tb = (y[i] * x[j] * x[j] / x[i] / x[i] - y[j]) / (x[j] * x[j] / x[i] - x[j]);\n\t\t\t\t\tif (ta < 0)\n\t\t\t\t\t{\n\t\t\t\t\t\ttop++;\n                        //\u679a\u4e3e\u54ea\u4e9b\u732a\u80fd\u88ab\u629b\u7269\u8985\u6253\u6389\n\t\t\t\t\t\tfor(int k = 1; k <= n; k++)\n\t\t\t\t\t\t\tif(fabs(ta * x[k] * x[k] + tb * x[k] - y[k]) <= eps)\n\t\t\t\t\t\t\t\tst[top] |= (1 << (k - 1));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n        \n        //\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u6240\u6709\u72b6\u6001\n\t\tfor (int k = 0; k <= maxn; k++)\n\t\t{\n\t\t\tfor (int i = 1; i <= top; i++)\n\t\t\t\tf[k | st[i]] = min(f[k | st[i]], f[k] + 1);\n\t\t\tfor (int i = 1; i <= n; i++)\n\t\t\t\tf[k | (1 << (i - 1))] = min(f[k | (1 << (i - 1))], f[k] + 1);\n\t\t}\n\t\tprintf(\"%d\\n\", f[maxn]);\n\t}\n\treturn 0;\n}\n\n```",
        "postTime": 1535616772,
        "uid": 13091,
        "name": "ghj1222",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\n\n\t\tO(T\u7384\u5b66)\n    \n\u4e3b\u8981\u601d\u60f3\uff1a\n\n\t\t\u5947(chao)\u5999(bu)\u7384(zheng)\u5b66(jing)\u7684~~\u4e71\u641e~~\u6a21\u62df\u9000\u706b\u7b97\u6cd5\n\u89e3(jiao)\u91ca(bian)\n\n\t\tn<=4\u7684\u60c5\u51b5\u76f4\u63a5\u5168\u6392\u5217\u66b4\u529b\uff0c\u5176\u4ed6\u60c5\u51b5\u4f7f\u7528\u6a21\u62df\u9000\u706b\uff0c\n        \n        \u5177\u4f53\u5c31\u662f\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u89e3\uff0c\u6211\u4eec\u6309\u6b21\u5e8f\u679a\u4e3e\uff0c\u5c06\u6392\u5217\u4e2d\u76f8\u90bb\u7684&&\u80fd\u5728\u540c\u4e00\n\n\u66f2\u7ebf\u4e2d\u7684\u82e5\u5e72\u53ea\u5c0f\u732a\u653e\u5728\u4e00\u8d77\u5904\u7406\u6389\uff0c\u7136\u540e\u5c31\u662f\u4e00\u4e9b\u7cbe\u5ea6\u7684\u95ee\u9898\u4e86\uff08\u89e3\u4e8c\u5143\u4e00\u6b21\u65b9\n\n\u7a0b\u7684\u95ee\u9898\u5c31\u4e0d\u7ec6\u8bf4\u4e86\uff0c\u697c\u4e0b\u7684\u51e0\u4f4d\u5927\u4f6c\u8bf4\u7684\u592a\u6e05\u695a\u592a\u597d\u4e86\uff01\uff09\u3002\n\n****\nCode:\n\n```cpp\n#include<bits/stdc++.h>\n#define rep(i,j,k) for(register int i=j;i<=k;i++)\n#define double long double\nusing namespace std;\ntemplate<typename T> void chkmin(T &x,T y){x=x<y?x:y;}\ntemplate<typename T> void read(T &num){\n    char c=getchar();num=0;T f=1;\n    while(c<'0'||c>'9'){if(c=='-')f=-1;c=getchar();}\n    while(c>='0'&&c<='9'){num=(num<<3)+(num<<1)+(c^48);c=getchar();}\n    num*=f;\n}\ntemplate<typename T> void qwq(T x){\n    if(x>9)qwq(x/10);\n    putchar(x%10+'0');\n}\ntemplate<typename T> void write(T x){\n    if(x<0){x=-x;putchar('-');}\n    qwq(x);putchar('\\n');\n}\nint n,m;\ndouble co[20][2];int temp1[20];int temp2[20];\n\ninline void work_out(double &a,double &b,double a1,double b1,double a2,double b2){\\\n    if(fabs(a1-a2)<=(1e-10)){\n        a=0;b=0;return;\n    }\n    b=(a1*a1*b2-a2*a2*b1)/(a1*a1*a2-a2*a2*a1);a=(b1-a1*b)/(a1*a1);\n    return;\n}\ninline int work(int a[]){\n    double qa=0;double qb=0;double last1=co[a[1]][0];double last2=co[a[1]][1];\n    int tmp=1;\n    rep(i,2,n){\n        if(!qa&&!qb){\n            work_out(qa,qb,co[a[i]][0],co[a[i]][1],last1,last2);\n            if(qa>0||(qa>-(1e-10)&&qa<(1e-10))){\n                qa=0;qb=0;tmp++;\t\n            }\n        }else{\n            double nop=qa*(co[a[i]][0]*co[a[i]][0])+qb*co[a[i]][0];\n            if(fabs(nop-co[a[i]][1])>=(1e-10)){\n                tmp++;\n                qa=0;qb=0;last1=co[a[i]][0];last2=co[a[i]][1];\n            }\n        }\n    }\n    return tmp;\n}\ninline bool Okay(double x,double y){\n    if(x>=0)return true;\n    return rand()<=exp((x)/y)*RAND_MAX;\n}\ninline int SA(){\n    double temper=10000;\n    random_shuffle(temp1+1,temp1+n+1);\n    rep(i,1,n){temp2[i]=temp1[i];}\n    int nop1=work(temp1);int nop2=nop1;int re_value=nop1;\n    \n    while(temper>0.01){\n        int x=rand()%n+1;int y=rand()%n+1;\n        if(x==y)continue;\n        swap(temp2[x],temp2[y]);\n        nop2=work(temp2);chkmin(re_value,nop2);\n        if(Okay(nop1-nop2,temper)){\n            swap(temp1[x],temp1[y]);nop1=nop2;\n        }else{\n            swap(temp2[x],temp2[y]);\n        }\n        temper*=0.99;\n    }\n    return re_value;\n}\n\nint main(){\n    srand(time(NULL));\n    int T;read(T);\n    while(T--){\n        read(n);read(m);\n        rep(i,1,n){temp1[i]=i;}\n        rep(i,1,n){cin>>co[i][0]>>co[i][1];}\n        \n        int ans=n;\n        if(n<=4){\n            do{\n                int pos=work(temp1);\n                chkmin(ans,pos);\n            }while(next_permutation(temp1+1,temp1+n+1));\n            write(ans);continue;\n        }\n        rep(i,1,80){\n            chkmin(ans,SA());\n        }\n        write(ans);\n    }\n    return 0;\n}\n```",
        "postTime": 1541313027,
        "uid": 51128,
        "name": "ZGS_WZY",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u770b\u5230\u8fd9\u9e21\u808b\u7684\u6570\u636e\u8303\u56f4\u5c31\u77e5\u9053\u8fd9\u9053\u9898\u662f\u72b6\u538bDP\u4e86\u3002\n\n\u770b\u597d\u591a\u9898\u89e3\u6253\u7684\u8bb0\u641c\uff0c\u5176\u5b9e\u8fd9\u9898\u4e0d\u7528\u8bb0\u641c\u4e5f\u80fd\u8dd1\u5f88\u5feb\u3002\n\n#### \u5148\u5206\u6790\u9898\u76ee\n\n\u5927\u5bb6\u5e94\u8be5\u90fd\u73a9\u8fc7\u300a\u6124\u6012\u7684\u5c0f\u9e1f\u300b\u8fd9\u6b3e\u6e38\u620f\uff0c\u6240\u4ee5\u9898\u9762\u5f88\u597d\u7406\u89e3\u3002\u4e00\u53ea\u9e1f\u6253\u51fa\u629b\u7269\u7ebf\u53bb\u6740\u732a\u3002\u770b\u770b\u6211\u4eec\u72b6\u538b\u7684\u677f\u5b50\uff1a\n\n```cpp\nvoid dp() {\n\tf[0] = 0;\n\tint maxx = (1 << n) - 1;\n\tfor(int i = 0;i < maxx;i++)//\u603b\u95ee\u9898\u7684\u5b50\u72b6\u6001\n\t\tfor(int j = 0;j < cnt;j++)//\u89e3\u51b3\u65b9\u6848\u6570\n\t\t\tif(f[i | act[j]] > f[i] + cost[j])\n\t\t\t\tf[i | act[j]] = f[i] + cost[j];//\u72b6\u6001\u8f6c\u79fb\n}\n```\n\n\u8fd9\u91cc\u6211\u4eec\u7684\u89e3\u51b3\u65b9\u6848\u662f\u4ec0\u4e48\u5462\uff1f\u80af\u5b9a\u662f\u5c0f\u9e1f\u5440\uff01\n\n\u4f17\u6240\u5468\u77e5\uff0c\u4e09\u4e2a\u70b9\u786e\u5b9a\u4e00\u6761\u629b\u7269\u7ebf\uff0c\u9664\u53bb\u8d77\u70b9$(0,0)$\uff0c\u6bcf\u4e00\u5bf9\u732a\u7684\u5750\u6807\u90fd\u53ef\u4ee5\u786e\u5b9a\u4e00\u6761\u629b\u7269\u7ebf\uff0c\u56e0\u4e3a\u7ecf\u8fc7$(0,0)$\uff0c\u6240\u4ee5\u5b83\u53ef\u4ee5\u8868\u793a\u6210$y=ax^{2}+bx$\uff0c\u5df2\u77e5\u6211\u4eec\u73b0\u5728\u679a\u4e3e\u7684\u8fd9\u5bf9\u732a\u5750\u6807\u4e3a$(x_{1},y_{1}),(x_{2},y_{2})$\uff0c\u53ef\u4ee5\u89e3\u51fa\uff1a\n\n$$\\begin{cases}a=\\dfrac{x_{2}y_{1}-x_{1}y_{2}}{x_{1}x_{2}(x_{1}-x_{2})}\\\\ \\\\b=\\dfrac{x_{2}^{2}y_{1}-x_{1}^{2}y_{2}}{x_{1}x_{2}^{2}-x_{1}^{2}x_{2}}\\end{cases}$$\n\n\u7136\u540e\u904d\u5386\u6240\u6709\u732a\u7684\u5750\u6807\uff0c\u5982\u679c\u5e26\u5165\u4e0a\u5f0f$y=ax^{2}+bx$\u7b26\u5408\u7684\u8bdd\u5c31\u52a0\u5165\u8fd9\u4e2a\u89e3\u51b3\u65b9\u6848\u7684\u96c6\u5408\u3002\u5f53\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u4e00\u53ea\u732a\u4e00\u53ea\u732a\u5730\u6253\uff0c\u6240\u4ee5\u6700\u540e\u8fd8\u8981\u52a0\u5165$n$\u79cd\u5355\u72ec\u6253\u732a\u7684\u65b9\u6848\u3002\n\n\u6700\u540e\u7684\u89e3\u51b3\u65b9\u6848\u91cc\u53ef\u80fd\u6709\u91cd\u590d\uff0c\u5229\u7528$STL$\u7684$unique$\u51fd\u6570\u53bb\u91cd\u5373\u53ef\uff0c\u6ce8\u610f$unique$\u51fd\u6570\u4f7f\u7528\u7684\u524d\u63d0\u662f\u6570\u7ec4\u6709\u5e8f\uff0c\u8981\u5148\u8fdb\u884c\u6392\u5e8f\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u7528\u4e00\u4e2a $vis$ \u6570\u7ec4\u5b58\u5df2\u52a0\u5165\u7684\u65b9\u6848 ~~(\u624d\u4e0d\u662f\u6211\u61d2\u5f97\u521d\u59cb\u5316)~~ \u3002\n\n\u8fd8\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f$double$\u578b\u7684\u5224\u7b49\u4e0d\u80fd\u5355\u7eaf\u7684\u4f7f\u7528$==$\uff0c\u56e0\u4e3a\u5728\u8ba1\u7b97\u7684\u65f6\u5019\u603b\u4f1a\u4e27\u5931\u4e00\u4e9b\u7cbe\u5ea6\uff0c\u6240\u4ee5\u8981\u786e\u5b9a\u5728\u4e00\u4e2a\u53ef\u4ee5\u5bb9\u7eb3\u7684\u8303\u56f4\u5185\u53d6\u7b49\uff0c\u6bd4\u5982\uff1a\n\n```cpp\nconst double eps = 1e-6;\nbool cmp(double a, double b) {\n\treturn a - eps < b && b < a + eps;\n}\n```\n\n\u4f5c\u4e3a\u5224\u7b49\u7684\u4f9d\u636e\u3002\n\n\u5728\u7ecf\u8fc7\u53bb\u91cd\u540e\u6211\u4eec\u65b9\u6848\u603b\u6570\u4e0d\u4f1a\u8d85\u8fc7$n^{2}+n$\uff0c\u6240\u4ee5\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(Tn^{2}2^{n})$\uff0c\u4f46\u57fa\u672c\u4e0d\u4f1a\u8dd1\u6ee1\u3002\u5c31\u7b97\u4e0d\u8003\u8651\u5176\u4ed6\u7684\u4f18\u5316\u4e5f\u662f\u8dd1\u7684\u6bd4\u8f83\u5feb\u7684\uff08\u5f53\u7136\u65f6\u95f4\u590d\u6742\u5ea6\u4e0d\u662f\u4e00\u4e2a\u6863\u6b21\u5c31\u6ca1\u6cd5\u6bd4\u4e86\uff09\u3002\n\n\u6700\u540e\u662f\u4ee3\u7801\u5b9e\u73b0\u7684\u95ee\u9898\uff0c\u8fd9\u91cc\u5e26\u6765\u4e24\u79cd\u5b9e\u73b0\uff0c\u4e00\u79cd\u666e\u901aDP\uff0c\u4e00\u79cdBFS\uff0c\u56e0\u4e3a\u8fd9\u9053\u9898\u7684\u7279\u6b8a\u6027\uff08\u65e0\u8bba\u54ea\u79cd\u65b9\u6848\u90fd\u6d88\u8017\u4e00\u53ea\u9e1f\uff09\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528BFS\uff0c~~\u5426\u5219\u5c31\u7528Dijkstra\u5427\uff01~~\n\n#### \u4ee3\u7801\u5b9e\u73b0\uff1a\n\n```cpp\n#pragma GCC optimize(\"Ofast,fast-math,unroll-loops\")\n#include <bits/stdc++.h>\nusing namespace std;\n\nint n, m, f[1 << 18], act[405], cnt;\ndouble x[20], y[20], a, b;\n\ninline double pow2(double x) { return x * x; }\n\nvoid getab(int p1, int p2) {\n\ta = (y[p1] - y[p2] * x[p1] / x[p2]) / (x[p1] * (x[p1] - x[p2]));\n\tb = (y[p1] - pow2(x[p1]) * y[p2] / pow2(x[p2])) / (x[p1] - pow2(x[p1]) / x[p2]);\n}\n\nconst double eps = 1e-6;\nbool cmp(double a, double b) {\n\treturn a - eps < b && b < a + eps;\n}\n\ninline bool isin(int k) {\n\treturn cmp(a * pow2(x[k]) + b * x[k], y[k]);\n}\n\nvoid init() {\n\t//\u65b9\u5f0f1\uff1a\n\tmemset(f, 0x7f, sizeof(f));\n\t//\u65b9\u5f0f2\uff1a\n\tmemset(f, -1, sizeof(f));\n\t/--------------------------\n\tmemset(act, 0, sizeof(act));\n\tcnt = 0;\n}\n```\n#### \u5b9e\u73b0\u65b9\u5f0f1(500ms in total)\uff1a\n```cpp\nvoid dp() {\n\tf[0] = 0;\n\tint maxx = (1 << n) - 1;\n\tfor(int i = 0;i < maxx;i++)\n\t\tfor(int j = 0;j < cnt;j++)\n\t\t\tif(f[i | act[j]] > f[i] + 1)\n\t\t\t\tf[i | act[j]] = f[i] + 1;\n}\n```\n#### \u5b9e\u73b0\u65b9\u5f0f2(524ms in total)\uff1a\n```cpp\nvoid bfs() {\n\tint maxx = (1 << n) - 1;\n\tqueue <int> q;\n\tq.push(f[0] = 0);\n\twhile(q.size()) {\n\t\tint p = q.front(); q.pop();\n\t\tfor(int i = 0;i < cnt;i++)\n\t\t\tif(!~f[p | act[i]]) {\n\t\t\t\tf[p | act[i]] = f[p] + 1;\n\t\t\t\tif((p | act[i]) == maxx) return;\n\t\t\t\tq.push(p | act[i]);\n\t\t\t}\n\t}\n}\n```\n#### --------------------------------\n```cpp\nint main() {\n\tint T;\n\tscanf(\"%d\", &T);\n\twhile(T--) {\n\t\tscanf(\"%d%d\", &n, &m);\n\t\tif(!n) { puts(\"0\"); continue; }\n\t\tinit();\n\t\tfor(int i = 0;i < n;i++)\n\t\t\tscanf(\"%lf%lf\", x + i, y + i);\n\t\tfor(int i = 1;i < n;i++)\n\t\t\tfor(int j = 0;j < i;j++) {\n\t\t\t\tgetab(i, j);\n\t\t\t\tif(a > 0 || cmp(a, 0)) continue;\n\t\t\t\tfor(int k = 0;k < n;k++)\n\t\t\t\t\tif(isin(k)) act[cnt] |= 1 << k;\n\t\t\t\tcnt++;\n\t\t\t}\n\t\tfor(int i = 0;i < n;i++)\n\t\t\tact[cnt++] = 1 << i;\n\t\tsort(act, act + cnt);\n\t\tcnt = unique(act, act + cnt) - act;\n\t\t//\u65b9\u5f0f1\uff1a\n\t\tdp();\n\t\t//\u65b9\u5f0f2\uff1a\n\t\tbfs();\n\t\t//------\n\t\tprintf(\"%d\\n\", f[(1 << n) - 1]);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1567143950,
        "uid": 133236,
        "name": "saxiy",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "# \u524d\u8a00(\u53ef\u8df3\u8fc7)\n\n\u8fd9\u9898\u771f\u662f\u4e2a\u7206\u641c\u597d\u9898\uff0c\u6211\u7231\u7206\u641c\uff01\n\n\u7136\u800c\u8003\u573a\u4e0a\u4e2a\u4eba\u53ea\u7559\u4e8620\u5206\u949f\u6253\uff0c\u53ea\u670925pts\n\n# \u601d\u8def\n\n\u770b\u7740\u8fd9\u4e48\u5c0f\u7684\u6570\u636e\uff0c\u6211\u4eec\u8001\u89c4\u77e9\n\n\u9047\u4e8b\u4e0d\u51b3\u5c31\u7206\u641c\uff0c\u4ece\u6b64\u8d70\u4e0a\u4e0d\u5f52\u8def\n\n# \u6b63\u9898\n\n\u6211\u6700\u5f00\u59cb\u7684\u7206\u641c\u7531\u4e8e\u51e0\u4e4e\u6ca1\u6709\u4efb\u4f55\u526a\u679d\uff0c\u52a0\u4e0a\u601d\u7ef4\u50f5\u5316\uff0c\u4e8c\u6b21\u51fd\u6570\u57fa\u7840\u4e0d\u8fc7\u5173\uff0c\u6240\u4ee5\u662f\u8fd9\u6837\u7684\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gl43orwj.png)\n\n~~\u83ab\u540d\u7684\u597d\u770b~~\n\n## \u505a\u6cd5\n\n\u7b80\u5355\u7c97\u66b4\u7684\u7206\u641c\n\n\u679a\u4e3e\u4e24\u4e2a\u70b9\uff0c\u8ba1\u7b97\u51fa\u4e8c\u6b21\u51fd\u6570\u89e3\u6790\u5f0f\uff0c\u627e\u51fa\u6240\u6709\u5728\u4e8c\u6b21\u51fd\u6570\u4e0a\u7684\u732a\u732a\uff0c\u8d4b\u503c\u4e3a $1$ \uff0c\u5e76\u8bb0\u5f55\u4e00\u4e0b\uff0c\u56de\u6eaf\u7684\u65f6\u5019\u8d4b\u503c\u4e3a $0$\uff0c\u8dd1\u5b8c\u7684\u65f6\u5019 $ans$ \u53d6\u6700\u5c0f\u503c\n\n$dfs$ \u53ea\u9700\u8981\u4f20\u5269\u4f59\u7684\u732a\u732a\u548c\u5df2\u7ecf\u53d1\u5c04\u7684\u9e1f\u4e24\u4e2a\u53c2\u6570\n\n## \u526a\u679d1\u53f7\n\n\u5e94\u8be5\u662f\u4e2a\u4eba\u90fd\u80fd\u60f3\u5230\uff0c\u5982\u679c\u5f53\u524d\u7684\u4e8c\u6b21\u51fd\u6570\u4e2a\u6570\u5927\u4e8e\u5f53\u524d $ans$\uff0c\u56de\u6eaf\n\n## \u526a\u679d2\u53f7\n\n\u7531\u4e8e\u6211\u4eec\u6bcf\u6b21\u679a\u4e3e\u4e24\u4e2a\u70b9\u662f $O(n^2)$\uff0c\u6211\u4eec\u53ef\u4ee5\u63d0\u524d\u7528\u4e00\u4e2a\u6570\u7ec4\uff0c\u5b58\u4e0b\u8fd8\u6ca1\u6709\u88ab\u6253\u7684\u732a\u732a\uff0c\u8bb0\u4e3a $n_1$ \uff0c\u4e8e\u662f\u6211\u4eec\u73b0\u5728\u679a\u4e3e\u4e24\u4e2a\u70b9\u5c31\u662f $O(n_1^2)$\uff0c\u770b\u4f3c\u6ca1\u5565\u7528\uff0c\u5176\u5b9e\u53ef\u4ee5\u5feb\u633a\u591a\u7684\n\n## \u526a\u679d3\u53f7\n\n\u57fa\u4e8e\u526a\u679d $2$ \u53f7\uff0c\u6211\u4eec\u53ef\u4ee5\u591a\u4f20\u4e00\u4e2a\u53c2\u6570 $x$ \uff0c$x$ \u8868\u793a\u5f53\u524d\u6700\u5c0f\u7684\u5269\u4f59\u7684\u732a\u732a\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u66f4\u5feb\u7684\u901f\u5ea6\u627e\u51fa\u5269\u4f59\u7684\u732a\u732a\n\n## \u203b\u526a\u679d4\u53f7\u203b\n\n**\u91cd\u70b9\u6765\u4e86\uff01\uff01\uff01**\n\n\u6211\u4eec\u6253\u7834\u5b9a\u5f8b\uff0c\u4e0d\u6bcf\u6b21\u90fd\u627e\u4e24\u53ea\u732a\u732a\u7b97\u4e8c\u6b21\u51fd\u6570\u89e3\u6790\u5f0f\uff0c\u56e0\u4e3a\u6bcf\u4e00\u53ea\u732a\u732a\u4e00\u5b9a\u4f1a\u88ab\u67d0\u4e00\u53ea\u9e1f(\u67d0\u4e00\u4e2a\u4e8c\u6b21\u51fd\u6570)\u6253\u4e0b\u6765\uff0c\u6240\u4ee5\u6211\u4eec\u679a\u4e3e\u7684\u65f6\u5019\u53ea\u9700\u8981\u679a\u4e3e\u4e00\u53ea\u732a\u732a\uff0c\u65f6\u95f4\u5c31\u53d8\u6210\u4e86 $O(n)$\uff0c\u771f\u6ef4\u5feb\uff01\uff01\uff01\n\n## \u6ce8\u610f\n\n\u2460\u7531\u4e8e\u5b83\u662f\u5f39\u5f13\u53d1\u5c04\u9e1f\uff0c\u6240\u4ee5\u4e8c\u6b21\u51fd\u6570\u7684\u4e8c\u6b21\u9879\u7cfb\u6570 $a$ \u662f\u8d1f\u6570(\u9898\u76ee\u8bf4\u4e86\u7684\uff0c\u8981\u662f\u6ca1\u8bf4\u53ef\u80fd\u8981\u6302\u4e00\u7247)\uff0c**\u975e\u8d1f\u6570**\u7684\u65f6\u5019\u4e0d\u884c\uff0c\u8981\u6362\u4e00\u7ec4\u732a\u732a\u679a\u4e3e\n\n\u2461\u5982\u679c\u4e24\u53ea\u732a\u732a\u7684\u6a2a\u5750\u6807\u76f8\u7b49\uff0c\u7b97\u51fa\u6765\u7684 $a$\uff0c\u5e94\u8be5\u4f1a\u662f $nan$ $(not\\space a\\space number)$\uff0c\u6211\u597d $nan$ \u554a\uff0c\u6211\u7b2c\u4e00\u6b21 $RE$ \u5c31\u662f\u8fd9\u6837\u7684\uff0c\u800c\u4e14\u6211\u4eec\u60f3\u8c61\u4e00\u4e0b\uff0c\u6a2a\u5750\u6807\u76f8\u7b49\u7684\u4e24\u4e2a\u70b9\u4e0d\u53ef\u80fd\u5728\u4e00\u4e2a\u4e8c\u6b21\u51fd\u6570\u4e0a\uff0c\u8fd9\u7ec4\u732a\u732a\u5c31\u4e0d\u80fd\u4e00\u8d77\u6253\u6389\n\n\u2462\u6709\u53ef\u80fd\u4e00\u53ea\u732a\u732a\u4e0d\u80fd\u548c\u5176\u4ed6\u4efb\u4f55\u4e00\u53ea\u732a\u732a\u4e00\u8d77\u6253\u6389\uff0c\u6240\u4ee5\u8981\u5355\u72ec\u5904\u7406\u4e00\u6b21\u53ea\u6253\u4e00\u53ea\u732a\u732a\u7684\u60c5\u51b5\n\n\u2463\u7531\u4e8e\u662f\u6d6e\u70b9\u6570\uff0c\u5224\u65ad\u4e24\u4e2a\u6570\u76f8\u7b49\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u6709\u7cbe\u5ea6\u95ee\u9898\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u7528\u76f8\u51cf\u540e\u53d6\u7edd\u5bf9\u503c\u7684\u65b9\u6cd5\uff0c\u5224\u65ad\u7edd\u5bf9\u503c\u662f\u5426\u5c0f\u4e8e\u4e00\u4e2a\u6781\u5c0f\u503c\uff0c\u5982\u679c\u662f\uff0c\u6211\u4eec\u5c31\u8ba4\u4e3a\u8fd9\u4e24\u4e2a\u6570\u76f8\u7b49\n\n\u4e0b\u9762\u5c31\u662f\u849f\u84bb\u4f5c\u8005\u4e11\u964b\u7684\u4ee3\u7801\uff1a\n\n```cpp\n//12252024832524\n#include <cstdio>\n#include <algorithm>\nusing namespace std; \n\ntypedef long long LL;\nconst int MAXN = 20;\nint n,m,ans;\nbool vis[MAXN];\nstruct node\n{\n\tdouble x,y;\n}p[MAXN];\n\nint Read()\n{\n\tint x = 0,f = 1;char c = getchar();\n\twhile(c > '9' || c < '0'){if(c == '-')f = -1;c = getchar();}\n\twhile(c >= '0' && c <= '9'){x = (x*10) + (c^48);c = getchar();}\n\treturn x * f;\n}\nvoid Put(int x)\n{\n\tif(x > 9)\n\t\tPut(x/10);\n\tputchar(x%10^48);\n}\ntemplate <typename T>T Max(T x,T y){return x > y ? x : y;}\ntemplate <typename T>T Min(T x,T y){return x < y ? x : y;}\ntemplate <typename T>T Abs(T x){return x < 0 ? -x : x;}\nvoid dfs(int x,int sy,int used)//sy\u5373\u5269\u4f59\n{\n\tif(used == ans)\n\t\treturn;\n\tif(sy == 1)\n\t{\n\t\tans = Min(ans,used+1);\n\t\treturn ;\n\t}\n\tif(!sy)\n\t{\n\t\tans = used;\n\t\treturn;\n\t}\n\tint shot[MAXN],dz1[MAXN],tot = 0,n1 = 0;\n\twhile(vis[x])x++;\n\tfor(int i = x;i <= n;++ i)\n\t\tif(!vis[i])\n\t\t\tdz1[++n1] = i;\n\tbool f = 0;\n\tfor(int j = 1;j <= n1;++ j)\n\t{\n\t\tdouble x1 = p[dz1[1]].x,x2 = p[dz1[j]].x,y1 = p[dz1[1]].y,y2 = p[dz1[j]].y;\n\t\tif(x1 == x2)\n\t\t\tcontinue;\n\t\tdouble a = (y1 * x2 - y2 * x1) / (x2 * x1 * x1 - x1 * x2 * x2);\n\t\tif(a >= 0)\n\t\t\tcontinue;\n\t\tdouble b = (y1 - a * x1 * x1) / x1;\n\t\tint dz = sy;\n\t\ttot = 0;\n\t\tfor(int k = 1;k <= n1;++ k)\n\t\t{\n\t\t\tif(Abs(a*p[dz1[k]].x*p[dz1[k]].x + b*p[dz1[k]].x - p[dz1[k]].y) <= 0.0000001)\n\t\t\t{\n\t\t\t\tvis[dz1[k]] = 1;\n\t\t\t\tshot[++tot] = dz1[k];\n\t\t\t\tdz--;\n\t\t\t}\n\t\t}\n\t\tf = 1;\n\t\tdfs(x+1,dz,used+1);\n\t\tfor(int k = 1;k <= tot;++ k)\n\t\t\tvis[shot[k]] = 0;\n\t}\n\tif(!f)\n\t{\n\t\tvis[dz1[1]] = 1;\n\t\tdfs(x+1,sy-1,used+1);\n\t\tvis[dz1[1]] = 0;\n\t}\n\tans = Min(ans,used+sy);\n\treturn;\n}\n\nint main()\n{\n//\tfreopen(\".in\",\"r\",stdin);\n//\tfreopen(\".out\",\"w\",stdout);\n\tfor(int T = Read(); T ;-- T)\n\t{\n\t\tn = Read();\n\t\tm = Read();\n\t\tans = n;\n\t\tfor(int i = 1;i <= n;++ i)\n\t\t\tscanf(\"%lf %lf\",&p[i].x,&p[i].y);\n\t\tdfs(1,n,0);\n\t\tPut(ans);\n\t\tputchar('\\n');\n\t}\n\treturn 0;\n}\n/*\na*x1*x1 + b*x1 = y1\na*x2*x2 + b*x2 = y2\n\na*x1*x1*x2 + b*x1*x2 = y1*x2\na*x2*x2*x1 + b*x2*x1 = y2*x1\n\na*(x1*x1*x2-x2*x2*x1) = y1*x2 - y2*x1\n\na = (y1*x2 - y2*x1) / (x1*x1*x2 - x2*x2*x1)\n*/\n```",
        "postTime": 1572438762,
        "uid": 137437,
        "name": "PPL_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "### ~~\u4e3a\u5565\u8bf4\u6211\u6392\u7248\u4e0d\u6574\u9f50QAQ (\u59d4\u5c48.jpg)~~\n\n\u62ff\u5230\u9898\u76ee\u5c31\u77e5\u9053\u80af\u5b9a\u662f\u9053\u72b6\u538b\uff08n<=18,T<=5\uff09\uff0c\u76f4\u63a5\u80fd\u591f\u63a8\u51fa\u6b63\u89e3\u590d\u6742\u5ea6\u4e3a  $O(2^n\\times n )$ \uff0c\u8fd9\u4e2a\u60f3\u5fc5\u4e0d\u7528\u591a\u8bf4\u4e86\u5427\u3002\u3002\u3002\u6211\u4eec\u76f4\u63a5\u8fdb\u5165\u6b63\u9898\u2014\u2014\n\n---\n\n\u6211\u4eec\u77e5\u9053\uff0c\u786e\u5b9a\u4e00\u6761\u629b\u7269\u7ebf\u9700\u8981\u4e09\u4e2a\u70b9\uff08\u6570\u5b66\u90e8\u5206\u5728\u540e\u9762\uff09\u3002\u6240\u4ee5\u6734\u7d20\u7684\u66b4\u529b\u505a\u6cd5\u662f\uff1a\u679a\u4e3e\u6bcf\u4e00\u4e2a\u732a\u7684\u96c6\u5408 $S$ \u505a $dp$ \uff0c\u4ee3\u8868\u8fd9\u4e2a\u96c6\u5408\u91cc\u7684\u732a\u5df2\u7ecf\u5168\u90e8\u88ab\u51fb\u6740\uff0c\u518d\u679a\u4e3e\u4e24\u53ea\u6d3b\u7740\u7684\u732a\u548c\u539f\u70b9\u7ec4\u6210\u4e00\u6761\u629b\u7269\u7ebf\u3002\u5f53\u7136\u6211\u4eec\u5728\u8fd9\u91cc\u8fd8\u9700\u8981\u679a\u4e3e\u5269\u4e0b\u7684\u6bcf\u5934\u732a\u662f\u5426\u5728\u629b\u7269\u7ebf\u4e0a\uff0c\u56e0\u4e3a\u4e00\u53ea\u9e1f\u53ef\u80fd\u4f1a\u540c\u65f6\u6253\u5230\u4e24\u53ea\u4ee5\u4e0a\u7684\u732a\uff0c\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u7ed3\u679c\u6700\u4f18\u5316\u3002\u76ee\u6d4b\u590d\u6742\u5ea6 $O(2^n\\times n^3)$ .\n\n\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n $dp[S]=min(dp[S |(1<<i)|(1<<j)|(1<<a_1)|(1<<a_2)|...|(1<<a_k)])$\n\n\u8fd9\u91cc $i,j$ \u4ee3\u8868\u679a\u4e3e\u7684\u4e24\u5934\u732a\uff0c $a_i$ \u8868\u793a\u540e\u9762\u5728\u8fd9\u6761\u629b\u7269\u7ebf\u4e0a\u7684\u70b9\u3002\n\n![](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4ubHVvZ3Uub3JnL3VwbG9hZC9waWMvNjUxNjgucG5n)\n\n\u8ba9\u6211\u4eec\u56de\u5934\u770b\u4e00\u773c\u6570\u636e\u8303\u56f4\u2014\u2014 $emmmmmm...$ \u8fd9\u4e2a\u7b97\u6cd5\u597d\u50cf\u662f\u670950\u5206\u7684\u3002\n\n\u90a3\u8fd9\u4e2a\u7b97\u6cd5\u53ef\u4ee5\u600e\u4e48\u4f18\u5316\u5462\uff1f\t\t\t\t\t\t\t\t\t\t\t\t\n\n\u4e0d\u96be\u60f3\u5230\uff0c\u5176\u5b9e\u6bcf\u4e00\u6761\u629b\u7269\u7ebf\u662f\u53ef\u4ee5\u9884\u5904\u7406\u7684\u2014\u2014\u6211\u4eec\u9884\u5148\u679a\u4e3e\u6bcf\u4e24\u4e2a\u70b9\uff0c\u66b4\u529b\u8ba1\u7b97\u51fa\u7ecf\u8fc7\u8fd9\u4e24\u4e2a\u70b9\u548c\u539f\u70b9\u7684\u629b\u7269\u7ebf\u89e3\u6790\u5f0f\uff0c\u7136\u540e\u7528\u4e00\u4e2a $vector$ \u6765\u5b58\u540e\u9762\u8fc7\u8fd9\u6761\u629b\u7269\u7ebf\u7684\u70b9\u5373\u53ef\u3002$vector[i][j]$ \u8868\u793a\u5728\u8fc7 $i,j$ \u7684\u629b\u7269\u7ebf\u4e0a\u7684\u70b9\u7684\u96c6\u5408\u3002\u8fd9\u6837\u6211\u4eec\u6bcf\u6b21 $dp$ \u7684\u65f6\u5019\u5c31\u4e0d\u7528\u679a\u4e3e\u540e\u9762\u7684\u70b9\u4e86\u2014\u2014 $O(2^n\\times n^3)$ -> $O(2^n\\times n^2)$ \n\n\u4f46\u662f\u8fd9\u4e2a\u7ed3\u679c\u79bb\u6211\u4eec\u7684\u6700\u7ec8\u76ee\u6807\u663e\u7136\u8fd8\u6709\u4e00\u4e2a $n$ \u3002\n\n\u7ecf\u8fc7\u53cd\u590d\u601d\u8003\u540e\uff08\u8fd9\u91cc\u4e0d\u4e00\u5b9a\u8981\u8bc1\u660e\uff0c\u60f3\u901a\u5373\u53ef\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u7ed3\u8bba\uff1a**\u6211\u4eec\u5904\u7406\u732a\u7684\u5148\u540e\u4e0e\u7b54\u6848\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb**\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c $1,2$ \u4e24\u5934\u732a\u7ec4\u6210\u7684\u629b\u7269\u7ebf\u4e0e $3,4$ \u4e24\u5934\u732a\u7ec4\u6210\u7684\u629b\u7269\u7ebf\u5176\u5b9e\u5e76\u6ca1\u6709\u5148\u540e\u4e4b\u5206\uff0c\u56e0\u4e3a\u5f53\u4f60\u9009\u5b9a\u7684\u629b\u7269\u7ebf\u4e00\u5b9a\u65f6\uff0c\u8fd9\u4e9b\u629b\u7269\u7ebf\u7684\u5904\u7406\u987a\u5e8f\u5bf9\u7b54\u6848\u6ca1\u6709\u5f71\u54cd\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u4eba\u4e3a\u7684\u89c4\u5b9a\uff0c**\u6bcf\u6b21\u53d1\u52a8\u653b\u51fb\u65f6\u5fc5\u987b\u8981\u6253\u6b7b\u6700\u524d\u9762\u7684\u90a3\u5934\u6d3b\u732a** \uff0c\u56e0\u4e3a\u8fd9\u5934\u732a\u65e9\u665a\u90fd\u8981\u6b7b\uff0c\u73b0\u5728\u6b7b\u6216\u4e0d\u6b7b\u5bf9\u6700\u7ec8\u7b54\u6848\u6ca1\u6709\u5f71\u54cd\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u53ea\u7528\u679a\u4e3e\u4e00\u4e2a\u70b9\u4e86\uff0c\u590d\u6742\u5ea6\u4e5f\u7ec8\u4e8e\u964d\u5230\u4e86\u9884\u671f\u3002\n\n---\n\n\u8fd9\u91cc\u9762\u8fd8\u6709\u51e0\u4e2a\u5c0f\u95ee\u9898\u503c\u5f97\u6ce8\u610f\uff1a\n\n1. \u6570\u5b66\u95ee\u9898 >> \u518d\u770b\u4e00\u904d\u9898\uff08\u6216\u8bb8\u4f60\u5df2\u7ecf\u6ce8\u610f\u5230\u4e86\u8fd9\u4e2a\u95ee\u9898\uff09\uff0c\u4f60\u5c31\u4f1a\u53d1\u73b0\uff0c\u8fd9\u4e2a\u629b\u7269\u7ebf\u6709\u53ef\u80fd\u662f\u4e0d\u5b58\u5728\u7684\u2014\u2014\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f60\u7684\u89e3\u65b9\u7a0b\u51fd\u6570\u6709\u53ef\u80fd\u4f1a\u51fa\u73b0 $x/0$ \u7684\u60c5\u51b5 ~~\uff08\u4e0d\u8fc7\u8fd9\u79cd\u60c5\u51b5\u53ea\u4f1a\u5728\u4e24\u4e2a\u70b9\u5728\u540c\u4e00\u6761\u7ad6\u7ebf\u4e0a\u65f6\u624d\u4f1a\u51fa\u73b0\uff09~~ \uff0c\u6211\u4eec\u53ea\u9700\u8981\u628a\u8fd9\u79cd\u60c5\u51b5\u548c\u629b\u7269\u7ebf\u4e8c\u6b21\u9879\u7cfb\u6570 $a>=0$ \u5f53\u505a\u540c\u6837\u5904\u7406\u5373\u53ef\u3002\u3010\u5bf9\u5e94\u6d4b\u8bd5\u70b9\uff1a2\u3011\n\n2. \u7cbe\u5ea6\u95ee\u9898 >> \u5982\u679c\u4f60\u548c\u6211\u4e00\u6837\uff0c\u6302\u5728\u4e86\u7b2c\u4e94\u3001\u7b2c\u516b\u4e2a\u70b9\u4e0a\uff08\u5c31\u50cf\u4e0b\u9762\u5c55\u793a\u7684\u90a3\u6837\uff09\uff0c\u90a3\u4e48\u606d\u559c\u4f60\uff0c\u4f60\u9700\u8981\u5427\u5224\u65ad\u7684 eps \u6539\u6210 $1e-6$ \uff0c\u8fd9\u6837\u624d\u80fd\u4fdd\u8bc1\u5bf9\u70b9\u7684\u5750\u6807\u5224\u65ad\u57fa\u672c\u6ca1\u6709\u8bef\u5dee\uff0c\u4eb2\u6d4b\u6709\u6548\u3010\u5bf9\u5e94\u6d4b\u8bd5\u70b9\uff1a5\u30018\u3011\n\n   ![](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4ubHVvZ3Uub3JnL3VwbG9hZC9waWMvNjUxODUucG5n)\n\u6ce8\u610f\u8fd9\u51e0\u4e2a\u7ec6\u8282\u5c31\u53ef\u4ee5 $AC$ \u4e86\n---\n\u6570\u5b66\u90e8\u5206\u2014\u2014\u5982\u4f55\u7528\u4e24\u4e2a\u70b9\u7684\u5750\u6807\u63a8\u51fa\u629b\u7269\u7ebf\u89e3\u6790\u5f0f\uff08\u4f1a\u7684\u53ef\u4ee5\u8df3\u8fc7\uff09\n\n\u6211\u4eec\u8bbe\u4e24\u4e2a\u70b9\u7684\u5750\u6807\u4e3a $(x_1,y_1),(x_2,y_2)$ \uff0c\u5219\u6709\n$$\nax_1^2+bx_1=y_1,\nax_2^2+bx_2=y_2\n$$\n\u6574\u7406\u5f97\n$$\nb\\times (x_1x_2^2-x_1^2x_2)=y_1x_2^2-y_2x_1^2\n$$\n\u5373 \n$$\nb=\\frac{y_1x_2^2-y_2x_1^2}{x_1x_2^2-x_1^2x_2}\n$$\n\u5c06\u7b97\u51fa\u7684 $b$ \u4ee3\u56de\u539f\u5f0f\uff0c\u89e3\u51fa\n$$\na=\\frac{y_1-bx_1}{x_1^2}\n$$\n\u8fd9\u6837\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u6574\u4e2a\u629b\u7269\u7ebf\u7684\u89e3\u6790\u5f0f\n\n---\n\n\u8bf4\u4e86\u8fd9\u4e48\u591a\uff0c\u5269\u4e0b\u7684\u5c31\u662f\u4e0a\u4ee3\u7801\u4e86\uff1a\n\n```cpp\n#include<vector>\n#include<cstring>\n#include<iostream>\n#define abs(a) ((a)>0?(a):-(a))\nusing namespace std;\nint n,dp[1<<19]; double a,b,x[25],y[25];\nvector<int> q[25][25];\nvoid work(int i,int j) {\t//\u89e3\u629b\u7269\u7ebf\u65b9\u7a0b\n\tdouble x1=x[i],y1=y[i],x2=x[j],y2=y[j];\n\tif(x1==x2)\t{a=0; return;}\n\tb=(y1*x2*x2-y2*x1*x1)/(x1*x2*x2-x1*x1*x2);\n\ta=(y1-b*x1)/(x1*x1);\n}\nvoid init() {\t//\u9884\u5904\u7406\u521d\u59cb\u5316\n\tfor(int i=0;i<n-2;i++)\n\t\tfor(int j=i+1;j<n-1;j++)\n\t\t\tq[i][j].clear();\n\tfor(int i=0;i<n-2;i++)\n\t\tfor(int j=i+1;j<n-1;j++) {\n\t\t\twork(i,j);\n\t\t\tif(a>=0)\tcontinue;\n\t\t\tfor(int k=j+1;k<n;k++)\n\t\t\t\tif(abs(a*x[k]*x[k]+b*x[k]-y[k])<=1e-6)\n\t\t\t\t\tq[i][j].push_back(k);\n\t\t}\n}\nint main()\n{\n\tint T,gg;\n\tcin>>T;\n\twhile(T--)\n\t{\n\t\tcin>>n>>gg;\n\t\tfor(int i=0;i<n;i++)\n\t\t\tcin>>x[i]>>y[i];\n\t\tinit();\n\t\tmemset(dp,0x3f,sizeof(dp));\n\t\tdp[0]=0;\n\t\tfor(int S=0;S<(1<<n);S++)\n\t\t{\n\t\t\tint firs;\n\t\t\tfor(firs=0;firs<n;firs++)\n\t\t\t\tif(!(S&(1<<firs)))\n\t\t\t\t\tbreak;\t//\u5bfb\u627e\u7b2c\u4e00\u5934\u6d3b\u732a\n\t\t\tdp[S|(1<<firs)]=min(dp[S|(1<<firs)],dp[S]+1);\n\t\t\tif(firs==n)\tcontinue; \n\t\t\t\n\t\t\tfor(int i=firs+1;i<n;i++)\n\t\t\t\tif(!(S&(1<<i)))\n\t\t\t\t{\n\t\t\t\t\twork(firs,i);\n\t\t\t\t\tif(a>=0)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tint nS=S;\n\t\t\t\t\tnS=nS|(1<<(firs))|(1<<i);\n\t\t\t\t\tfor(int j=0;j<q[firs][i].size();j++)\n\t\t\t\t\t\tnS=nS|(1<<(q[firs][i][j]));\n\t\t\t\t\tdp[nS]=min(dp[nS],dp[S]+1);\n\t\t\t\t}\n\t\t}\n\t\tcout<<dp[(1<<n)-1]<<endl;\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1563841006,
        "uid": 41262,
        "name": "SSHhh",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2831 \u3010[NOIP2016]\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "### [\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P2831)\n\n## \u524d\u7f6e\u77e5\u8bc6\n\n\u629b\u7269\u7ebf\uff08\u6570\u5b66\u4eba\u6559\u7248\u516b\u5e74\u7ea7\uff09\uff0c\u72b6\u538bDP\u3002\n\n## \u7b80\u8ff0\u9898\u610f\n\n- \u6709n\u4e2a\u732a\uff0c\u4f60\u53ef\u4ee5\u4ece\u539f\u70b9\u5f15\u51fa\u629b\u7269\u7ebf\uff0c\u95ee\u6700\u5c11\u7528\u591a\u5c11\u6b21\u53ef\u4ee5\u6253\u5230\u6240\u6709\u732a\u3002\n\n## \u7b80\u8ff0\u505a\u6cd5\n\n- \u9884\u5904\u7406\u6240\u6709\u6709\u6548\u629b\u7269\u7ebf\u3002\n\n- \u4ee5\u732a\u6709\u6ca1\u6709\u88ab\u6253\u4e0b\u6765\u4f5c\u4e3a\u72b6\u6001\u8fdb\u884c\u72b6\u538bDP\u3002\n\n## \u9884\u5904\u7406\n\n\u6211\u4eec\u5bf9\u6bcf\u4e2a\u732a\u8fdb\u884c\u4e00\u6b21\u904d\u5386\uff0c\u6bcf\u6b21\u5bf9\u5e8f\u53f7\u5728\u4ed6**\u540e\u9762**\u7684\u732a\u8fdb\u884c\u904d\u5386\uff0c\u5bf9\u4e8e**\u4e4b\u524d\u6ca1\u6709**\u7684\u629b\u7269\u7ebf\u6211\u4eec\u65b0\u4fdd\u5b58\u4e00\u6b21\u3002\n\n\u5bf9\u4e8e\u629b\u7269\u7ebf $y=ax^2+bx+c$\u3002\u5df2\u77e5\u7ecf\u8fc7\u539f\u70b9\uff0c\u6240\u4ee5 $c=0$\u3002\n\n\u6211\u4eec\u53c8\u53e6\u77e5\u629b\u7269\u7ebf\u7ecf\u8fc7\u4e24\u70b9 $(x_i,y_i)$ $(x_j,y_j)$\u3002\n\n\u53ef\u7b97\u51fa $a=\\dfrac{x_jy_i-x_iy_j}{x_ix_j(x_i-x_j)}$\uff0c $b=\\dfrac{x_ix_iy_j-x_jx_jy_i}{x_ix_j(x_i-x_j)}$\u3001\n\n```cpp\n\t\tfor(ll i=0;i<n;i++){\n\t\t\tline[cnt++]=(1<<i);\n\t\t\tfor(ll j=i+1,use=0;j<n;j++)\n\t\t\t\tif((use>>j)&1) continue;\n\t\t\t\telse{\n\t\t\t\t\tld a=(x[j]*y[i]-x[i]*y[j])/(x[i]*x[j]*(x[i]-x[j])),b=(x[i]*x[i]*y[j]-x[j]*x[j]*y[i])/(x[i]*x[j]*(x[i]-x[j]));\n\t\t\t\t\tif(a>=0) continue;\n\t\t\t\t\tline[cnt]=(1<<i);\n\t\t\t\t\tfor(ll k=j;k<n;k++) \n\t\t\t\t\t\tif(ab(a*x[k]*x[k]+b*x[k]-y[k])<=eps) use|=(1<<k),line[cnt]|=(1<<k);\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t}\n```\n\n\n# \u72b6\u538bDP\n\n\u56e0\u4e3a $n \\le 18$\uff0c\u6240\u4ee5\u5f88\u5bb9\u6613\u60f3\u5230\u72b6\u538bDP\u3002\n\n\u6211\u4eec\u5b9a\u4e49 $f_s$ \u4e3a\u6253\u5230 $s$ \u7684\u72b6\u6001\u65f6**\u6700\u5c11**\u7684\u6b21\u6570\u3002\n\n\u5bf9\u4e8e**\u6bcf\u4e2a\u629b\u7269\u7ebf**\uff0c\u53ef\u6613\u5f97**\u8f6c\u79fb\u65b9\u7a0b** $f_{i|line_j}=min{f_{i|line_j},f_i+1}$\u3002\n\n### \u4e0d\u8981\u5fd8\u8bb0 $f_0=1$\u3002\n\n```cpp\n\t\tfor(ll i=0;i<(1<<n);i++)\n\t\t\tfor(ll j=0;j<cnt;j++)\n\t\t\t\tf[i|line[j]]=min(f[i|line[j]],f[i]+1);\n```\n\n## \u603b\u7ed3\n\n\u672c\u9898\u8fd0\u7528\u57fa\u672c\u6570\u5b66\u77e5\u8bc6\u548c\u57fa\u672c\u72b6\u538bDP\uff0c\u504f**\u6a21\u677f**\u578b\uff08\u8fd8\u7ed9\u4e86\u5f88\u591a**\u90e8\u5206\u5206**\uff09\u3002\n\n```cpp\n/*\n***\n\u8fd8\u8981\u7ee7\u7eed\u52aa\u529b\n\u6210\u4e3a\u4e00\u540d\u70e4\u5495\u5b66\u5bb6\u54e6\n***\n*/\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef long double ld;\nconst ll N=20;\nll n,T,line[200],f[1<<N],cnt,op;\nld x[N],y[N],eps=1e-6;\ntemplate <typename T> inline void rd(T &x){\n\tll fl=1;x=0;char c=getchar();\n\tfor(;!isdigit(c);c=getchar()) if(c=='-') fl=-fl;\n\tfor(;isdigit(c);c=getchar()) x=(x<<3)+(x<<1)+c-'0';\n\tx*=fl;\n}\nvoid wr(ll x){\n\tif(x<0) x=-x,putchar('-');\n\tif(x<10) putchar(x+'0');\n\tif(x>9) wr(x/10),putchar(x%10+'0');\n}\ninline ld ab(ld x){\n\treturn x>=0.00?x:-x;\n}\nint main(){\n//\tfreopen(\".in\",\"r\",stdin);\n//\tfreopen(\".out\",\"w\",stdout);\n\trd(T);\n\twhile(T--){\n\t\tmemset(f,0x3f3f3f3f,sizeof(f));cnt=0;\n\t\trd(n);rd(op);\n\t\tfor(ll i=0;i<n;i++) scanf(\"%llf %llf\",&x[i],&y[i]);\n\t\tfor(ll i=0;i<n;i++){\n\t\t\tline[cnt++]=(1<<i);\n\t\t\tfor(ll j=i+1,use=0;j<n;j++)\n\t\t\t\tif((use>>j)&1) continue;\n\t\t\t\telse{\n\t\t\t\t\tld a=(x[j]*y[i]-x[i]*y[j])/(x[i]*x[j]*(x[i]-x[j])),b=(x[i]*x[i]*y[j]-x[j]*x[j]*y[i])/(x[i]*x[j]*(x[i]-x[j]));\n\t\t\t\t\tif(a>=0) continue;\n\t\t\t\t\tline[cnt]=(1<<i);\n\t\t\t\t\tfor(ll k=j;k<n;k++) \n\t\t\t\t\t\tif(ab(a*x[k]*x[k]+b*x[k]-y[k])<=eps) use|=(1<<k),line[cnt]|=(1<<k);\n\t\t\t\t\tcnt++;\n\t\t\t\t}\n\t\t}\n\t\tf[0]=0;\n\t\tfor(ll i=0;i<(1<<n);i++)\n\t\t\tfor(ll j=0;j<cnt;j++)\n\t\t\t\tf[i|line[j]]=min(f[i|line[j]],f[i]+1);\n\t\twr(f[(1<<n)-1]);puts(\"\"); \n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1584237741,
        "uid": 83999,
        "name": "Demoe",
        "ccfLevel": 7,
        "title": "\u6124\u6012\u7684\u5c0f\u9e1f\u9898\u89e3 \u72b6\u538bDP"
    },
    {
        "content": "\u8bb0\u641c\u7248\u4e25\u683cO($n^{3}$+$n$$2^{n}$)\u72b6\u538bDP\uff0c\u6700\u6162\u6d4b\u8bd5\u70b9\u4e0d\u5f00O2\u4e0d\u8d85\u8fc77ms\uff0c\u603b\u8017\u65f668ms\uff0c\u6bd4\u7b2c\u4e00\u7bc7\u9898\u89e3\u5feb10\u500d\uff0c\u4e5f\u78be\u538b\u7206\u641c\u3002\n\n[\u8bc4\u6d4b\u8bb0\u5f55](https://www.luogu.org/record/25793912)\n\n\u601d\u8def\uff1a\n\n\u72b6\u538b\uff0c\u6bcf\u4e00\u4f4d\u7b49\u4e8e0\u8868\u793a\u672a\u6253\u6b7b\u7684\u732a\uff0c\u7b49\u4e8e1\u8868\u793a\u5df2\u7ecf\u6253\u6b7b\u3002\u524d\u671fO($n^{3}$)\u9884\u5904\u7406\uff0c\u5904\u7406\u6bcf\u9009\u62e9\u4e24\u53ea\u732a\u540e\u53ef\u4ee5\u540c\u65f6\u6253\u6b7b\u7684\u540e\u9762\u7684\u732a\uff0c\u7b80\u5355\u89e3\u65b9\u7a0b\uff0c\u6ce8\u610f\u7cbe\u5ea6\u3002\u540e\u9762\u641c\u7d22\u7684\u65f6\u5019\uff0c\u9009\u62e9\u5f53\u524d\u672a\u6253\u6b7b\u4e14\u7f16\u53f7\u6700\u5c0f\u7684\u732a\uff0c\u5148\u6253\u6b7b\u5b83(\u5982\u679c\u5148\u6253\u6b7b\u5176\u4ed6\u732a\u90a3\u4e48\u4ee5\u540e\u4e00\u5b9a\u8fd8\u4f1a\u6253\u6b7b\u8fd9\u53ea\u732a\uff0c\u56e0\u6b64\u5148\u6253\u6b7b\u7f16\u53f7\u6700\u5c0f\u7684\u732a\u4e00\u5b9a\u6700\u4f18)\uff0c\u7136\u540eO($n$)\u9009\u53d6\u7f16\u53f7\u66f4\u9760\u540e\u7684\u732a\u4e2d\u7684\u4e00\u53ea\uff0c\u82e5\u53ef\u4ee5\u8fde\u6210\u629b\u7269\u7ebf\uff0c\u5219\u5c06\u5b83\u4e5f\u6253\u6b7b\u3002\u6ce8\u610f\u8fd8\u6709\u53ea\u6253\u6b7b\u4e00\u53ea\u732a\u7684\u60c5\u51b5\u3002\n\n\n\u4e3a\u4ec0\u4e48\u8bb0\u641c\u5e38\u6570\u6bd4\u4e00\u822c\u7684DP\u8fd8\u8981\u5c0f\uff1f\u56e0\u4e3a\u76f4\u63a5DP\u4f1a\u904d\u5386\u6240\u6709\u7684$2^{n}$\u79cd\u72b6\u6001\uff0c\u800c\u8bb0\u641c\u53ef\u4ee5\u907f\u514d\u641c\u5230\u5f88\u591a\u65e0\u7528\u72b6\u6001\uff0c\u56e0\u6b64\u5e38\u6570\u8f83\u5c0f\u3002\n\n\u8be6\u7ec6\u89c1\u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<cstring>\nint n,t[299999],lg[139999],a[20][20];\ndouble x[20],y[20],z[20];\nint dfs(const int&z){\n\tif(t[z]<99)return t[z];//\u8bb0\u5fc6\u5316\n\tregister int x=lg[~z&z+1],i,j,k;//\u4f4d\u8fd0\u7b97lowbit\u6c42\u51fa\u8d77\u70b9\n\tfor(i=x+1;i<n;++i){//\u627e\u540e\u9762\u7684\u732a\n\t\tj=a[x][i];\n\t\tif(j==-1)continue;//\u4e0d\u5b58\u5728\u5c31\u8df3\u8fc7\n\t\tk=dfs(z|j);\n\t\tif(t[z]>k)t[z]=k;\n\t}\n\tk=dfs(z|(1<<x));//\u53ea\u6253\u6b7b\u4e00\u53ea\u732a\u7684\u60c5\u51b5\n\tif(t[z]>k)t[z]=k;\n\treturn ++t[z];\n}\nint main(){\n\tregister int T,m,i,j,k,l;\n\tregister double u,v,w;\n\tfor(i=1,j=0;j<18;i<<=1,++j)lg[i]=j;//\u9884\u5904\u74062\u7684\u5e42\u6b21\n\tscanf(\"%d\",&T);\n\twhile(T--){\n\t\tscanf(\"%d%*d\",&n);//m\u6ca1\u7528\uff0c\u4e0d\u8981\u4e86\n\t\tmemset(t,9,1<<n+2);//\u521d\u59cb\u5316\u6781\u5927\u503c\n\t\tt[(1<<n)-1]=0;\n\t\tfor(i=0;i<n;++i)scanf(\"%lf%lf\",x+i,y+i),z[i]=y[i]/x[i];\n\t\tfor(i=0;i<n;++i){\n\t\t\tfor(j=i+1;j<n;++j){\n\t\t\t\tif(x[j]==x[i]){//\u7279\u5224x\u76f8\u7b49\u7684\u60c5\u51b5\n\t\t\t\t\ta[i][j]=-1;//\u6807\u8bb0\u4e3a\u4e0d\u5b58\u5728\u629b\u7269\u7ebf\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tu=(z[j]-z[i])/(x[j]-x[i]);\n\t\t\t\tv=z[j]-x[j]*u;//\u89e3\u65b9\u7a0b\n\t\t\t\tif(u>-1e-9){//\u4e8c\u6b21\u9879\u7cfb\u6570\u4e0d\u80fd\u5927\u4e8e0\n\t\t\t\t\ta[i][j]=-1;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\ta[i][j]=(1<<i)|(1<<j);\n\t\t\t\tfor(k=j+1;k<n;++k){\n\t\t\t\t\tw=x[k]*(u*x[k]+v)-y[k];\n\t\t\t\t\tif(w<1e-9&&w>-1e-9)a[i][j]|=(1<<k);//\u5904\u7406\u540e\u9762\u7684\u540c\u65f6\u80fd\u6253\u6b7b\u7684\u732a\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdfs(0);\n\t\tprintf(\"%d\\n\",t[0]);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1572102667,
        "uid": 221955,
        "name": "panyf",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u7206\u641c\u5927\u6cd5\u597d~~WA~~\n\n\u771f\u5fc3\u8212\u670d \uff0c \u6ca1\u5f00O2 \n![](https://cdn.luogu.com.cn/upload/pic/39267.png )\n\n\u521a\u597d\u5361\u8fc7\u7b2c\u5341\u4e2a\u70b9 \uff0c ~~\u6211\u4e0d\u7981\u518d\u6b21\u611f\u53f9 \uff0c \u7206\u641c\u5927\u6cd5\u597d\u54c7~~\n\nO2 \u4f18\u5316\u7684\u771f\u633a\u591a\u7684 \uff0c \u5f00\u4e86O2\u65f6\u95f4\u5c31\u53d8\u4e3a\u539f\u6765\u7684\u56db\u5206\u4e4b\u4e00\uff08\u5927\u7ea6\uff09\u4e86\n![](https://cdn.luogu.com.cn/upload/pic/39269.png)\n\n\u4ee5\u4e0a\u662f\u611f\u6168\n\n\n------------\n\u770b\u5b8c\u8fd9\u9053\u9898\u7684\u6570\u636e\u8303\u56f4 \u663e\u7136\u7684 **\u7384\u5b66\u641c\u7d22 or \u72b6\u538bDP**\n\n\u849f\u84bb\u770b\u4e86\u770b\u9898 \uff0c \u5c31\u89c9\u5f97\u72b6\u538b\u7684\u8bddDP\u5f0f\u5b50\u592a\u96be\u63a8\u4e86QAQ \n\n\u6240\u4ee5\u8003\u8651 \u5f88\u719f\u6089\u7684\u7206\u641c \uff0c \n\n\u5bf9\u4e8e\u6bcf\u4e2a\u732a \uff0c\u6709\u4e24\u79cd\u9009\u62e9\uff1a\n\n\t1.\u81ea\u5df1\u5355\u72ec\u65b0\u5efa\u4e00\u4e2a\u8def\u7ebf \n    2.\u88ab\u4e4b\u524d\u7684\u8def\u7ebf\u8986\u76d6\n\n\u5982\u679c\u662f\u81ea\u5df1\u5355\u72ec\u65b0\u5efa\u4e00\u4e2a\u8def\u7ebf\u7684\u8bdd \uff0c \u5f88\u7b80\u5355\uff0c \u5c31\u76f8\u5f53\u4e8e\u5efa\u7acb\u4e00\u6761\u6709\u4e24\u4e2a\u786e\u5b9a\u70b9\u7684\u629b\u7269\u7ebf \uff0c {\uff080,0\uff09\u548c \u6b64\u732a\u5750\u6807 }  \n\u663e\u7136\u7684 \uff0c \u8fd9\u6761\u629b\u7269\u7ebf\u5176\u5b9e\u662f\u4e0d\u786e\u5b9a\u7684 \uff0c \u53ea\u80fd**\u6c42\u51fa\u5e38\u6570 a \u548c b \u7684\u5173\u7cfb**\uff08\u4e09\u70b9\u786e\u5b9a\u4e00\u6761\u629b\u7269\u7ebf\uff09 \u4e0b\u9762\u6211\u4eec\u628a\u8fd9\u6837\u7684 \u629b\u7269\u7ebf\u79f0\u4e3a**\u4e0d\u5b9a\u629b\u7269\u7ebf**\u3002\n\n\u5982\u679c\u662f\u88ab\u4e4b\u524d\u7684\u8def\u7ebf\u8986\u76d6\u7684\u8bdd \uff0c \u53c8\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5\uff1a\n\n\t1.\u88ab\u4e0d\u5b9a\u629b\u7269\u7ebf\u8986\u76d6\n    2.\u88ab\u786e\u5b9a\u629b\u7269\u7ebf\u8986\u76d6\n\n**\u88ab\u786e\u5b9a\u629b\u7269\u7ebf\u8986\u76d6**  \u76f4\u63a5\u6839\u636e**\u786e\u5b9a\u629b\u7269\u7ebf**\u89e3\u6790\u5f0f\u5e26\u5165pig.x \u770b\u662f\u5426\u7b49\u4e8epig.y\n\n**\u88ab\u4e0d\u5b9a\u629b\u7269\u7ebf\u8986\u76d6**  \u90a3\u628a\u8fd9\u4e2a\u629b\u7269\u7ebf\u52a0\u5165\u4e00\u4e2a\u70b9 \uff0c \u4f7f\u5176\u53d8\u4e3a**\u786e\u5b9a\u629b\u7269\u7ebf**\u503c\u5f97\u6ce8\u610f\u7684\u662f \uff0c \u6c42\u89e3\u51fa\u8fd9\u6761\u629b\u7269\u7ebf\u540e \uff0c \u5982\u679c\u6b64\u65f6\u7684 a > 0 \u7684\u8bdd \uff0c \u90a3\u4e48\u5c31\u662f\u4e0d\u5408\u6cd5\u7684 \uff0c \u6b64\u732a\u4e0d\u80fd\u88ab\u8fd9\u6761\u4e0d\u5b9a\u629b\u7269\u7ebf\u8986\u76d6~~\uff08\u9e1f\u4e0d\u80fd\u98de\u5230\u5730\u4e0b\uff09~~\n\n### \u6069\u57fa\u672c\u601d\u8def\u5176\u5b9e\u5c31\u662f\u8fd9\u6837\u4e86\u3002\n\n\n------------\n\n\u9898\u76ee\u4e2d\u7ed9\u7684m\u5176\u5b9e\u662f\u6700\u4f18\u5316\u526a\u679d \u5c31\u662f\u4e00\u5f00\u59cb\u9650\u5b9a\u4e86 ans\u7684\u6700\u5927\u503c\uff0c\n\n\u53e6\u4e00\u4e2a\u503c\u5f97\u4e00\u63d0\u7684\u95ee\u9898\u662f\u7cbe\u5ea6 \uff0c eps\u7684\u8bbe\u7f6e \u5728\u8fd9\u79cd\u7528\u5b9e\u6570\u7684\u9898\u76ee\u4e2d\u8fd8\u662f\u5f88\u6709\u5fc5\u8981\u7684\n\n\u5b9e\u73b0\u7684\u8bdd \u4e3b\u8981\u662f\u8981\u63a8\u5bfc\u4e0b **\u4e0d\u5b9a\u629b\u7269\u7ebf** \u548c **\u786e\u5b9a\u629b\u7269\u7ebf** \u7684\u5f0f\u5b50 \u56e0\u4e3a\u849f\u84bb\u5b9e\u5728\u662f\u6253\u4e0d\u51fa\u90a3\u4e9b\u6570\u5b66\u5f0f\u5b50 \uff0c \u6240\u4ee5\u53c2\u8003\u4e0b\u4ee3\u7801\uff1a\n```\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\n\nusing namespace std;\n\n#define re register\n#define N 20\n#define Rep(i,l,r) for(re int i=l;i<=r;++i)\n\nconst long double eps=1e-8;\nstruct node{\n    double k,c,b,a;\n    bool ok;\n    void clear(){\n        k=c=b=a=0 , ok=0;\n    }\n}bir[N];\nstruct pi{\n    double x,y;\n}pig[N];\nint m,n,T,ans;\n\ninline bool pdok(int bn , int pn){// \u80fd\u4e0d\u80fd\u88ab\u786e\u5b9a\u76f4\u7ebf\u8986\u76d6\n    double px=pig[pn].x , py=pig[pn].y;\n    double ba=bir[bn].a , bb=bir[bn].b;\n    if(abs(px*px*ba+px*bb-py)<eps) return 1;\n    else return 0;\n}\ninline void addf(int bn ,int pn){// \u65b0\u5efa\u4e00\u6761\u4e0d\u5b9a\u629b\u7269\u7ebf\n    bir[bn].k=(-1)/pig[pn].x;\n    bir[bn].c=pig[pn].y/(pig[pn].x*pig[pn].x);\n}\ninline void adds(int bn ,int pn){// \u4e0d\u5b9a\u629b\u7269\u7ebf\u8f6c\u6362\u4e3a\u786e\u5b9a\u629b\u7269\u7ebf\n    double px=pig[pn].x , py=pig[pn].y;\n    double bc=bir[bn].c , bk=bir[bn].k;\n    bir[bn].b=(py-bc*px*px)/(bk*px*px+px);\n    bir[bn].a=bk*bir[bn].b+bc;\n    bir[bn].ok=1;\n}\nvoid dfs(int now,int cnt){\n    if(cnt>ans) return ;\n    if(now>n){\n        ans=cnt; return ;\n    }\n    Rep(i,1,cnt){\n        if(bir[i].ok)\n            if(pdok(i,now)) dfs(now+1,cnt);\n            else continue;\n        else{\n            node tmp=bir[i];\n            adds(i,now);\n            if(bir[i].a<0) dfs(now+1 , cnt);\n            bir[i]=tmp;\n        }\n    }\n    addf(cnt+1 , now);\n    dfs(now+1,cnt+1);\n    bir[cnt+1].clear();\n}\nvoid init(){\n    memset(bir,0,sizeof(bir));\n    memset(pig,0,sizeof(pig));\n    scanf(\"%d%d\",&n,&m);\n    Rep(i,1,n)\n        scanf(\"%lf%lf\",&pig[i].x , &pig[i].y);\n    ans=n;\n    if(m==1) ans=n/3+2;\n    if(m==2) ans=n*2/3+2;\n}\nint main() {\n\t//freopen(\"write.in\",\"r\",stdin);\n    scanf(\"%d\",&T);\n    while(T--){\n        init();\n        dfs(1,0);\n        cout<<ans<<endl;\n    }\n}\n```\n\n\u611f\u89c9\u5e76\u4e0d\u662f\u6b63\u89e3 \uff0c \u53ef\u80fd\u662f\u6570\u636e\u6ca1\u5361\u8fd9\u79cd\u66b4\u529b\u5427QAQ \u9664\u4e86\u7b2c\u5341\u4e2a\u70b9\u4ee5\u5916\u8dd1\u5f97\u90fd\u8fd8ok\n\n### [\u6ca1\u5f00O2](https://www.luogu.org/record/show?rid=12331198)\n### [\u5f00\u4e86O2](https://www.luogu.org/record/show?rid=12331239)\n\n\u7206\u641cAC\u4e86 \u5c0f\u5c0f\u5f00\u5fc3\u4e00\u4e0b",
        "postTime": 1540296069,
        "uid": 65987,
        "name": "SuperGoodGame",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u5b58\u5728\u6027dp\u53ef\u89e3\u8fd8\u5f88\u597d\u5199\u3002\n\n\u663e\u7136\u5982\u679c\u4e00\u79cd\u60c5\u51b5\u5b58\u5728\u7684\u8bdd\uff0c\u90a3\u4e48\u968f\u4fbf\u5f00\u4e00\u70ae\u7684\u60c5\u51b5\u8fd8\u662f\u5b58\u5728\u3002\n\n\u90a3\u4e48\u7531\u6b64\u53ef\u4ee5\u5b9a\u4e49dp[i][j]\u8868\u793a\u5f00\u4e86i\u70ae\u73b0\u5728\u7684\u60c5\u51b5\u662fj\n\nj\u4e3a\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4e0b\u6709\u610f\u4e49\u7684\u6570\uff0cj\u7684\u7b2ck\u4f4d\u4e3a0\u8868\u793a\u8fd9\u5934\u732a\u5df2\u7ecf\u88ab\u5e72\u6389\u3002\n\ndp[i][j]\u662f\u4e00\u4e2abool\uff0ctrue\u8868\u793ai\u548cj\u7684\u60c5\u51b5\u5b58\u5728\u3002\n\n\u90a3\u4e48\u6211\u4eec\u6bcf\u6b21\u8f6c\u79fb\u662f\u679a\u4e3e\u6bcf\u4e2a\u53ef\u80fd\u7684\u70ae\u5f39\uff0c\n\n\u663e\u7136\u6240\u6709\u70ae\u7684\u53ef\u80fd\u6027\u662f\u56fa\u5b9a\u7684\uff0c\u6240\u4ee5\u9884\u5904\u7406\u4e00\u4e0b\u5c31ok\u4e86\n\n\u8fd8\u8981\u7279\u5224\u4e00\u4e0b\u53ea\u6253\u4e00\u5934\u732a\u7684\u60c5\u51b5\u3002\n\n***************************\n\n\u4e0b\u9762\u662f\u9884\u5904\u7406\u7684\u73af\u8282\n\n\u679a\u4e3e\u4efb\u610f\u4e24\u5934\u732a\uff0c\u7136\u540e\u5f85\u5b9a\u7cfb\u6570\u6cd5\u89e3\u51faa\uff0cb\n\n\u4e4b\u540e\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9\uff0c\u5224\u5b9a\u662f\u5426\u53ef\u4ee5\u88ab\u6253\u5230\n\n\u6700\u540e\u8f93\u51fa\u7684\u6570\u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\uff0c\u8868\u793a\u8fd9\u4e00\u70ae\u53ef\u4ee5\u6253\u5230\n\n\u90a3\u51e0\u4e2a\u732a\uff0c\u8fd9\u6837\u8f6c\u79fb\u65f6&\u4e00\u4e0b\u5c31\u597d\u4e86\n\n\u4e0a\u4ee3\u7801~\n\n```cpp\n#include<stdio.h>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nbool dp[20][270000];//\u5b58\u5728\u6027\u6570\u7ec4\nbool vis[270000];\nint shot[410];int cnt;\nint n;int m;int t;int up;\ndouble x[20];double y[20];\nconst double eps=1e-10; //\u8bef\u5dee\u5bb9\u5fcd\u91cf\u4e00\u5b9a\u8981\u5c0f\nvoid shoot(int t1,int t2)\n{\n    //printf(\"shot %d %d\\n\",t1,t2);\n    double x1=x[t1];double x2=x[t2];double y1=y[t1];double y2=y[t2];\n    double a=(y1*x2-y2*x1)/(x1*x2*(x1-x2));\n    if(a>-eps)//\u4e0d\u5408\u6cd5\u7684\u629b\u7269\u7ebf\n    {\n        return;\n    }\n    shot[++cnt]=up-1;//\u65b0\u5efa\u629b\u7269\u7ebf\n    double b=y1/x1-a*x1;\n    for(int i=0;i<n;i++)\n    {\n        double t=a*x[i]*x[i]+b*x[i];\n        if(y[i]-eps<t&&t<y[i]+eps)\n        {\n            shot[cnt]&=(~(1<<i));//\u7206\u6389\u8fd9\u5934^(*\uffe3(oo)\uffe3)^\n        }\n    }\n    if(vis[shot[cnt]])cnt--;\n    else vis[shot[cnt]]=true;//\u53bb\u91cd\uff0c\u52a0\u901f\n    //printf(\"shot(%d %d)=%d\\n\",t1,t2,shot[cnt]);\n    return ;\n}\nvoid work()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=0;i<n;i++)\n    {\n        scanf(\"%lf%lf\",&x[i],&y[i]);\n    }\n    up=pow(2,n);cnt=0;\n    for(int i=0;i<up;i++)//\u521d\u59cb\u5316\u53bb\u91cd\u6570\u7ec4\n    {\n        vis[i]=false;\n    }\n    for(int t1=0;t1<n;t1++)//\u9884\u5904\u7406\u629b\u7269\u7ebf\n    {\n        for(int t2=0;t2<t1;t2++)//t1\uff0ct2\uff0c\u4e0et2\uff0ct1\u662f\u7b49\u4ef7\u7684\uff0c\u53ea\u7528\u679a\u4e3e\u4e00\u6b21\n        {\n            shoot(t1,t2);\n        }\n    }\n    for(int i=0;i<=n;i++)//\u521d\u59cb\u5316dp\u6570\u7ec4\n    {\n        for(int j=0;j<up;j++)\n        {\n            dp[i][j]=false;\n        }\n    }\n    dp[0][up-1]=true;//\u8fb9\u754c\u6761\u4ef6\uff0c\u4e00\u70ae\u4e0d\u5f00\u7684\u60c5\u51b5\n    for(int i=0;i<=n;i++)\n    {\n        for(int j=0;j<up;j++)\n        {\n            if(dp[i][j])//\u5982\u679c\u5b58\u5728\n            {\n                //printf(\"dp[%d][%d]=true\\n\",i,j);\n                for(int t1=0;t1<n;t1++)\n                {\n                    int q=(j&(~(1<<t1)));//\u7279\u5224\u53ea\u6253\u4e00\u5934^(*\uffe3(oo)\uffe3)^\u7684\u60c5\u51b5\n                    if(q==0)//\u7b2c\u4e00\u4e2a\u5408\u6cd5\u4e00\u5b9a\u662f\u6700\u5c0f\n                    {\n                        printf(\"%d\\n\",i+1);\n                        return;\n                        }\n                    //printf(\"->dp[%d][%d]=true\\n\",i+1,q);\n                    dp[i+1][q]=true;\n                }\n                for(int k=1;k<=cnt;k++)//\u679a\u4e3e\u629b\u7269\u7ebf\n                {\n                    int p=shot[k]&j;\n                    if(p==0)\n                    {\n                        printf(\"%d\\n\",i+1);\n                        return;\n                    }\n                    if(p!=j)//\u9632\u6b62\u5c04\u7a7a\u70ae\u03b5=\u03b5=\u03b5=(~\uffe3\u25bd\uffe3)~\n                    {\n                        //printf(\"->%d:dp[%d][%d]=true\\n\",k,i+1,p);\n                        dp[i+1][p]=true;\n                    }\n                }\n            }\n        }\n    }\n    return;\n}\nint main()\n{\n    scanf(\"%d\",&t);\n    for(int i=0;i<t;i++)\n    {\n        work();\n    }\n    return 0;//\u62dc\u62dc\u7a0b\u5e8f~\n}\n```",
        "postTime": 1510137057,
        "uid": 56384,
        "name": "shadowice1984",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "# T \u300cNOIP2016\u300d\u6124\u6012\u7684\u5c0f\u9e1f\n\n~~\u7ae5\u5e74\u7684\u56de\u5fc6\u53d8\u6210\u8003\u8bd5\u7684\u6050\u6016\u7247~~ \n\n## \u9898\u76ee\n\n[\u70b9\u8fd9\u91cc](https://loj.ac/problem/2363)\n\n## \u8003\u573a\u601d\u8003\n\n\u8003\u8bd5\u7684\u65f6\u5019\u6ca1\u7801\u51fa\u6765\uff0c\u8fd9\u91cc\u5c31\u4e0d\u6302\u4ee3\u7801\u4e86...\n\n\u9996\u5148\uff0c\u6211\u53d1\u73b0\u7684\u662f\u8fd9\u4e2a $N$ \u5f88\u5c0f\uff0c\u7136\u540e\u6211\u76f4\u63a5\u6448\u5f03\u4e86\u72b6\u538b\u7684\u60f3\u6cd5\uff0c\u5f00\u59cb\u7801\u66b4\u529b...\n\n\u4f46\u662f\u5462\uff0c\u4e0d\u77e5\u9053\u662f\u4e0d\u662f\u6211\u6570\u5b66\u592a\u5dee\u7684\u539f\u56e0\uff0c\u4e8c\u51fd\u7684\u89e3\u6790\u5f0f\u6211\u59cb\u7ec8\u7b97\u4e0d\u5bf9...\n\n\u7136\u540e\uff0c\u62b1\u7740\u8fd9\u9053\u9898\u662f\u4e00\u9053\u9519\u9898\u7684\u81ea\u6211\u6b3a\u9a97\u7684\u60f3\u6cd5\uff0c\u6ca1\u505a\u8fc7\u591a\u7684\u601d\u8003...\n\n\uff08\u8fd8\u662f\u8d34\u4e00\u4e0b\u70c2\u5c3e\u7684\u4ee3\u7801\u7b97\u4e86\uff09\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\ntemplate<class T>inline void qread(T& x){\n    char c;bool f=false;x=0;\n    while((c=getchar())<'0'||'9'<c)if(c=='-')f=true;\n    for(x=(c^48);'0'<=(c=getchar())&&c<='9';x=(x<<1)+(x<<3)+(c^48));\n    if(f)x=-x;\n}\ntemplate<class T,class... Args>inline void qread(T& x,Args&... args){qread(x),qread(args...);}\ninline int rqread(){\n    char c;bool f=false;int x=0;\n    while((c=getchar())<'0'||'9'<c)if(c=='-')f=true;\n    for(x=(c^48);'0'<=(c=getchar())&&c<='9';x=(x<<1)+(x<<3)+(c^48));\n    return f?-x:x;\n}\ntemplate<class T>inline T Max(const T x,const T y){return x>y?x:y;}\ntemplate<class T>inline T Min(const T x,const T y){return x<y?x:y;}\ntemplate<class T>inline T fab(const T x){return x>0?x:-x;}\n\nconst int MAXN=18;\n\nstruct node{\n\tdouble x,y;\n\tnode(){}\n\tnode(const double X,const double Y):x(X),y(Y){}\n}p[MAXN+5];\n\nstruct line{\n\tdouble a,b;int tot;\n\tline(){tot=0;}\n\tline(const double A,const double B):a(A),b(B){}\n}l[MAXN*MAXN+5];\nint ind;\n\nint T,N,M;\n\ninline void line(const double x0,const double y0,const double x1,const double y1){\n\tprintf(\"x0==%.8lf,y0==%.8lf,x1==%.8lf,y1==%.8lf\\n\",x0,y0,x1,y1);\n\t++ind;\n\tl[ind].b=y0/((x0*x0*(y0-y1-x0+x1))/(x0*x0-x1*x1)+x0);\n\tl[ind].a=(y0-y1-(x0-x1)*l[ind].b)/(x0*x0-x1*x1);\n\treturn;\n}\n\ninline void totline(){\n\tl[ind].tot=0;\n\tfor(int i=1;i<=N;++i)if(p[i].x*p[i].x*l[ind].a+p[i].x*l[ind].b==p[i].y){\n\t\tprintf(\"point %d is on the line\\n\",i);\n\t\t++l[ind].tot;\n\t}\n}\n\nsigned main(){\n\tqread(T);\n\twhile(T--){\n\t\tind=0;\n\t\tqread(N,M);\n\t\tfor(int i=1;i<=N;++i)scanf(\"%lf %lf\",&p[i].x,&p[i].y);\n\t\tfor(int i=1;i<=N;++i)for(int j=i+1;j<=N;++j)if(p[i].x!=p[j].x){\n\t\t\tprintf(\"debug:>when i==%d,j==%d\\n\",i,j);\n\t\t\tline(p[i].x,p[i].y,p[j].x,p[j].y);\n\t\t\ttotline();\n\t\t\tprintf(\"line[%d] : %.8lf %.8lf %d\\n\",ind,l[ind].a,l[ind].b,l[ind].tot);\n\t\t}\n\t}\n    return 0;\n}\n```\n## \u9898\u89e3\n\n\u4e24\u79cd\u65b9\u6cd5\u90fd\u7528\u5230\u72b6\u538b\uff0c\u5176\u4e2d\u65b9\u6cd5\u4e8c\u662f\u65b9\u6cd5\u4e00\u7684\u4f18\u5316\uff0c\u5728\u6b64\u5148\u628a\u72b6\u538b\u8bf4\u4e00\u4e0b\uff1a\n\n\u5b9a\u4e49\u72b6\u6001 $dp[S]$\uff1a\u5c04\u6b7b\u7684\u732a\u7684\u96c6\u5408\u4e3a $S$ \uff08\u4e8c\u8fdb\u5236\uff09\u65f6\u7684\u6700\u5c0f\u82b1\u8d39\u3002\n\n\u8fd8\u9700\u8981\u4e00\u4e2a\u8f85\u52a9\u6570\u7ec4\uff1a$line[i][j]$\uff1a\u5728 $i$ \u4e0e $j$ \u786e\u5b9a\u7684\u8fd9\u4e2a\u4e8c\u51fd\u4e0a\u7ecf\u8fc7\u7684\u70b9\u96c6\uff08\u4e8c\u8fdb\u5236\uff09\n\n\u81f3\u4e8e\u8fd9\u4e2a\u4e8c\u51fd\u7684\u89e3\u6790\u5f0f\u600e\u4e48\u6c42\uff0c\u8fd9\u4e00\u6302\u4e00\u4e2a\u9ad8\u7ea7\u7684\u77e9\u9635\u89e3\u6cd5\uff08\u6458\u81ea $luogu$ \u5927\u4f6c `JustinRochester`\uff0c[\u539f\u6587](https://www.luogu.org/blog/JustinRochester/solution-p2831)\uff09\uff1a\n\n\u5047\u8bbe\u679a\u4e3e\u5230\u4e24\u4e2a\u5c0f\u732a\uff0c\u5750\u6807\u5206\u522b\u4e3a$(x_1,y_1)$\u548c$(x_2,y_2)$\uff0c\u90a3\u4e48\u5c31\u5bf9\u5e94\u5730\u4f1a\u6709\uff1a\n$$\\begin{cases} y_1=a{x_1}^2+bx_1\\\\ \\\\y_2=a{x_2}^2+bx_2\\end{cases}$$\n\n\u628a\u5b83\u5199\u6210\u77e9\u9635\uff1a\n\n$$\\left[\\begin{matrix}\\ y_1\\ \\\\ \\\\y_2\\end{matrix}\\right]=\\left[\\begin{matrix}\\ {x_1}^2\n&x_1\\ \\\\ \\\\{x_2}^2\n&x_2\\end{matrix}\\right]\\times\\left[\\begin{matrix}\\ a\\ \\\\ \\\\b\\end{matrix}\n\\right]\n$$\n\n\u5f88\u660e\u663e\uff0c\u53ef\u4ee5\u5f97\u5230\uff1a\n\n$$\n\\left[\\begin{matrix}\\ a\\ \\\\ \\\\b\\end{matrix}\\right]=\\left[\\begin{matrix}\\ {x_1}^2\n&x_1\\ \\\\ \\\\{x_2}^2\n&x_2\\end{matrix}\\right]^{-1}\\times\\left[\\begin{matrix}\\ y_1\\ \\\\ \\\\y_2\\end{matrix}\n\\right]\n$$\n\n\u53c8\u56e0\u4e3a\n\n$$\\left|\\begin{matrix}\\ {x_1}^2\n&x_1\\\\ \\\\{x_2}^2\n&x_2\\end{matrix}\\right|={x_1}^2x_2-x_1{x_2}^2=(x_1-x_2)x_1x_2$$\n\n\u6240\u4ee5\n\n$$\\left[\\begin{matrix}\\ {x_1}^2\n&x_1\\ \\\\  \\\\ {x_2}^2\n&x_2\\end{matrix}\\right]^{-1}=\\frac{1}{(x_1-x_2)x_1x_2}\\left[\\begin{matrix}\\ x_2\n&-x_1\\ \\\\ \\\\-{x_2}^2\n&{x_1}^2\\end{matrix}\\right]$$\n\n\u5c06\u5b83\u5e26\u56de\u539f\u7b49\u5f0f\uff0c\u53ef\u5f97\n\n$$\\begin{cases}a={1\\over(x_1-x_2)x_1x_2}\\times(x_2y_1-x_1y_2)\\\\ \\\\b={1\\over(x_1-x_2)x_1x_2}\\times({x_1}^2y_2-{x_2}^2y_1)\\end{cases}$$\n\n\u7167\u7740\u628a\u8fd9\u4e2a\u6c42 $a,b$ \u7684\u51fd\u6570\u6253\u51fa\u6765\u5c31\u53ef\u4ee5\u4e86...\n\n### \u65b9\u6cd5\u4e00 $O(N^22^N)$\n\n\u77e5\u9053\u72b6\u6001\u4e4b\u540e\uff0c\u72b6\u8f6c\u5f88\u597d\u5199\n\n - \u521d\u59cb\u5316\uff0c$dp[0]=0$\n - \u5f53\u6709\u4e24\u4e2a\uff08\u6216\u591a\u4e2a\uff09\u70b9\u5728\u540c\u4e00\u4e2a\u4e8c\u51fd\u4e0a\u65f6\uff0c$dp[S|line[i][j]]=dp[S]+1$\n - \u5f53\u6709\u4e00\u4e2a\u70b9 $i$ \u53ea\u80fd\u5355\u72ec\u5c04\u4e0b\u65f6\uff0c$dp[S|(1<<i-1)]=dp[S]+1$\n\n\u7136\u540e\uff0c\u5c31\u8fc7\u4e86...\n\n**\uff08\u6ce8\u610f\uff0c\u5728\u67d0\u4e9b $OJ$ \u4e0a\u53ef\u80fd\u8fc7\u4e0d\u4e86\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u8fd8\u662f\u6709\u70b9\u60ac\u7684\uff09**\n\n\n### \u65b9\u6cd5\u4e8c $O(N2^N)$\n\n\u6211\u4eec\u7684 $N^2$ \u4ece\u54ea\u91cc\u6765\u7684\u5462\uff1f\n\n\u662f\u56e0\u4e3a\u6211\u4eec\u679a\u4e3e\u7684\u4e24\u4e2a\u70b9\uff0c\u56e0\u6b64\u9020\u6210\u7684 $N^2$ \u7684\u590d\u6742\u5ea6\u3002\n\n\u6211\u4eec\u679a\u4e3e\u4e24\u4e2a\u70b9\u5176\u5b9e\u662f\u6ca1\u6709\u5fc5\u8981\u7684\u3002\n\n\u6211\u4eec\u53ea\u9700\u679a\u4e3e\u5728\u72b6\u6001 $S$ \u65f6\u6700\u5c0f\u7684\u70b9\u5373\u53ef\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u70b9\u65e0\u8bba\u5982\u4f55\u90fd\u662f\u4f1a\u88ab\u8986\u76d6\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u5f3a\u5236\u5c06\u5176\u5728\u6b64\u4f4d\u7f6e\u89e3\u51b3\u3002\n\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#define rep(q,a,b) for(int q=a,q##_end_=b;q<=q##_end_;++q)\n#define dep(q,a,b) for(int q=a,q##_end_=b;q>=q##_end_;--q)\nconst double eps=1e-6;\ntemplate<class T>inline void qread(T& x){\n    char c;bool f=false;x=0;\n    while((c=getchar())<'0'||'9'<c)if(c=='-')f=true;\n    for(x=(c^48);'0'<=(c=getchar())&&c<='9';x=(x<<1)+(x<<3)+(c^48));\n    if(f)x=-x;\n}\ntemplate<class T,class... Args>inline void qread(T& x,Args&... args){qread(x),qread(args...);}\ninline int rqread(){\n    char c;bool f=false;int x=0;\n    while((c=getchar())<'0'||'9'<c)if(c=='-')f=true;\n    for(x=(c^48);'0'<=(c=getchar())&&c<='9';x=(x<<1)+(x<<3)+(c^48));\n    return f?-x:x;\n}\ntemplate<class T>inline T Max(const T x,const T y){return x>y?x:y;}\ntemplate<class T>inline T Min(const T x,const T y){return x<y?x:y;}\ntemplate<class T>inline T fab(const T x){return x>0?x:-x;}\ninline void getInv(int inv[],const int r,const int MOD)\n{inv[0]=inv[1]=1;for(int i=2;i<=r;++i)inv[i]=1ll*inv[MOD%i]*(MOD-MOD/i)%MOD;}\n\nconst int MAXN=20;\n\ninline bool equal(const double x,const double y)\n{return fab(x-y)<eps;}\n\ninline void formula(double& x,double& y,const double a0,const double b0,const double c0,const double a1,const double b1,const double c1){\n    y=(a0*c1-a1*c0)/(a0*b1-a1*b0);\n    x=(c0-b0*y)/a0;\n    return;\n}\n\nint T,N,M,dp[(1<<MAXN)+5],line[MAXN+5][MAXN+5],low[(1<<MAXN)+5];\n\ndouble x[MAXN+5],y[MAXN+5],a,b;\n\nsigned main(){\n    for(int i=0;i<(1<<MAXN);++i){\n        int j=1;\n        for(;j<=MAXN&&(i&(1<<j-1));++j);\n        low[i]=j;\n    }\n    qread(T);\n    while(T--){\n        memset(line,0,sizeof line);\n        qread(N,M);\n        for(int i=1;i<=N;++i)scanf(\"%lf %lf\",&x[i],&y[i]);\n        for(int i=1;i<=N;++i)for(int j=1;j<=N;++j)if(!equal(x[i],x[j])){\n            line[i][j]=0;\n            formula(a,b,x[i]*x[i],x[i],y[i],x[j]*x[j],x[j],y[j]);\n            if(a>-eps)continue;\n            for(int k=1;k<=N;++k)if(equal(x[k]*x[k]*a+x[k]*b,y[k]))\n                    line[i][j]|=(1<<k-1);\n        }\n        memset(dp,0x3f,sizeof dp);\n        dp[0]=0;\n        for(int i=0;i<(1<<N);++i){\n            int j=low[i];\n            dp[i|(1<<j-1)]=Min(dp[i|(1<<j-1)],dp[i]+1);\n            for(int k=1;k<=N;++k)dp[i|line[j][k]]=Min(dp[i|line[j][k]],dp[i]+1);\n        }\n        printf(\"%d\\n\",dp[(1<<N)-1]);\n    }\n    return 0;\n}\n```\n\n\u53e6\u5916\u53d1\u4e2a\u7262\u9a9a\uff0c\u8fd9\u9053\u9898\u8981 $M$ \u6709\u4ec0\u4e48\u7528\uff1f",
        "postTime": 1573723781,
        "uid": 125355,
        "name": "Vladilena",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u9996\u5148 \u8fd9\u9053\u9898 \u66b4\u529b\u5f88\u597d\u60f3\n\n$f[s]$ \u8868\u793a\u5f53\u524d\u52a0\u5165\u7684\u70b9\u96c6\n\n\u8f6c\u79fb\u4e5f\u6bd4\u8f83\u597d\u60f3 \n\n\u679a\u4e3e\u4e24\u4e2a\u70b9 \u8ba1\u7b97\u629b\u7269\u7ebf \u5185\u5c42\u679a\u4e3e\u6709\u591a\u5c11\u4e2a\u70b9 \u7b26\u5408\u8fd9\u4e24\u4e2a\u70b9\u7684\u629b\u7269\u7ebf\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O(n * n * n * T * (1 << n))$ \n\n~~\u663e\u7136\u590d\u6742\u5ea6\u4f1a\u70b8~~\n\n\u8003\u8651\u5982\u4f55\u4f18\u5316 \n### part 1\n\u9884\u5904\u7406 \n\n$col[i][j]$\u8868\u793a\u9009\u4e86\u7b2ci\u548c\u7b2cj\u4e2a\u70b9 \u7b26\u5408\u7684\u629b\u7269\u7ebf\u7684\u70b9\u7684\u96c6\u5408\n\n\u90a3\u4e48\u5728\u679a\u4e3e\u65f6\u53ea\u9700\u8981\u679a\u4e3e $i$ \u548c $j$ \u65f6\u95f4\u590d\u6742\u5ea6\u964d\u5230$O(T * n * n * (1 << n))$\n\n\u5728\u8003\u573a\u4e0a\u80fd\u62ff\u523085pts\u7684\u5206\u6570 \u4e5f\u8bb8\u53ef\u4ee5\u89c1\u597d\u5c31\u6536\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\ninline ll read() {\n    ll f = 1, x = 0;char ch;\n    do {ch = getchar();if (ch == '-')f = -1;} while (ch > '9' || ch < '0');\n    do {x = x * 10 + ch - '0';ch = getchar();} while (ch >= '0' && ch <= '9');\n    return f * x;\n}\n\nconst int MAX_N = 20 + 5;\n\nconst int MAX_S = (1 << 20) + 5;\n\nconst double eps = 1e-8;\n\nint T, n, m, f[MAX_S], col[MAX_N][MAX_N];\n\nstruct Point {\n\tdouble x, y;\n}a[MAX_N];\n\nvoid calc(double &a, double &b, Point A, Point B) {\n\tdouble a1 = A.x * A.x;\n\tdouble a2 = B.x * B.x;\n\tdouble b1 = A.x;\n\tdouble b2 = B.x;\n\tdouble c1 = A.y;\n\tdouble c2 = B.y;\n\tb = (a1 * c2 - a2 * c1) / (a1 * b2 - a2 * b1);\n\ta = (c1 - b1 * b) / a1;\n}\n\nint main() {\n\tT = read();\n\twhile (T -- ) {\n\t\tn = read(); m = read();\n\t\tfor (int i = 1; i <= n; i ++ ) \n\t\t\tscanf(\"%lf %lf\", &a[i].x, &a[i].y);\n\t\tmemset(f, 127, sizeof(f));\n\t\tmemset(col, 0, sizeof(col));\n\t\tf[0] = 0;\n\t\tfor (int i = 1; i <= n; i ++ ) {\n\t\t\tfor (int j = 1; j <= n; j ++ ) {\n\t\t\t\tif (fabs(a[i].x - a[j].x) < eps) continue;\n\t\t\t\tdouble x, y;\n\t\t\t\tcalc(x, y, a[i], a[j]);\n\t\t\t\tif (x > -eps) continue;\n\t\t\t\tfor (int k = 1; k <= n; k ++ ) {\n\t\t\t\t\tif (fabs(a[k].x * a[k].x * x + a[k].x * y - a[k].y) < eps) \n\t\t\t\t\t\tcol[i][j] |= (1 << (k - 1));\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\n\t\tfor (int s = 0; s < (1 << n); s ++ ) {\n\t\t\tfor (int i = 1; i <= n; i ++ ) {\n\t\t\t\tf[s | (1 << (i - 1))] = min(f[s] + 1, f[s | (1 << (i - 1))]);\n\t\t\t\tfor (int j = 1; j <= n; j ++ ) {\n\t\t\t\t\tif ((1 << (i - 1) & s) & (1 << (j - 1) & s)) continue;\n\t\t\t\t\tf[s | col[i][j]] = min(f[s] + 1, f[s | col[i][j]]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout << f[(1 << n) - 1] << endl;\n\t}\n\treturn 0;\n}\n```\n\n### part 2\n\n\u501f\u9274\u4e86AThousandSuns\u7684\u601d\u8def \u53c8\u628a\u8f6c\u79fb\u53d8\u4e3a$O(n * T * (1 << n))$\u590d\u6742\u5ea6\u53ef\u8fc7\n\n\u5982\u679c\u6700\u540e\u4e00\u4f4d\u6ca1\u6709\u9009 \u5148\u5904\u7406\u6700\u540e\u4e00\u4f4d\n\n\u679a\u4e3e\u53e6\u5916\u90a3\u4e2a\u4f4d\u7f6e\n\n$f[s | col[i][j]] = min(f[s] + 1)$\n\n$f[s | (1 << (j - 1))] = min(f[s] + 1)$\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\n\ninline ll read() {\n    ll f = 1, x = 0;char ch;\n    do {ch = getchar();if (ch == '-')f = -1;} while (ch > '9' || ch < '0');\n    do {x = x * 10 + ch - '0';ch = getchar();} while (ch >= '0' && ch <= '9');\n    return f * x;\n}\n\nconst int MAX_N = 20 + 5;\n\nconst int MAX_S = (1 << 20) + 5;\n\nconst double eps = 1e-8;\n\nint T, n, m, f[MAX_S], lowbit[MAX_S], col[MAX_N][MAX_N];\n\nstruct Point {\n\tdouble x, y;\n}a[MAX_N];\n\nvoid calc(double &a, double &b, Point A, Point B) {\n\tdouble a1 = A.x * A.x;\n\tdouble a2 = B.x * B.x;\n\tdouble b1 = A.x;\n\tdouble b2 = B.x;\n\tdouble c1 = A.y;\n\tdouble c2 = B.y;\n\tb = (a1 * c2 - a2 * c1) / (a1 * b2 - a2 * b1);\n\ta = (c1 - b1 * b) / a1;\n}\n\nint main() {\n\tT = read();\n\tfor (int s = 0; s < (1 << 18); s ++ ) {\n\t\tfor (int j = 0; j <= 18; j ++ ) {\n\t\t\tif (!((1 << j) & s)) {\n\t\t\t\tlowbit[s] = j;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\twhile (T -- ) {\n\t\tn = read(); m = read();\n\t\tfor (int i = 1; i <= n; i ++ ) \n\t\t\tscanf(\"%lf %lf\", &a[i].x, &a[i].y);\n\t\tmemset(f, 127, sizeof(f));\n\t\tmemset(col, 0, sizeof(col));\n\t\tf[0] = 0;\n\t\tfor (int i = 1; i <= n; i ++ ) {\n\t\t\tfor (int j = 1; j <= n; j ++ ) {\n\t\t\t\tif (fabs(a[i].x - a[j].x) < eps) continue;\n\t\t\t\tdouble x, y;\n\t\t\t\tcalc(x, y, a[i], a[j]);\n\t\t\t\tif (x > -eps) continue;\n\t\t\t\tfor (int k = 1; k <= n; k ++ ) {\n\t\t\t\t\tif (fabs(a[k].x * a[k].x * x + a[k].x * y - a[k].y) < eps) \n\t\t\t\t\t\tcol[i][j] |= (1 << (k - 1));\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\n\t\tfor (int s = 0; s < (1 << n); s ++ ) {\n\t\t\tint j = lowbit[s];\n\t\t\tf[s | (1 << j)] = min(f[s] + 1, f[s | (1 << j)]);\n\t\t\tfor (int i = 1; i <= n; i ++ ) {\n\t\t\t\tf[s | col[j + 1][i]] = min(f[s] + 1, f[s | col[j + 1][i]]);\n\t\t\t}\n\t\t}\n\t\tcout << f[(1 << n) - 1] << endl;\n\t}\n\treturn 0;\n}\n\n```",
        "postTime": 1567837154,
        "uid": 107377,
        "name": "Cryin",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u662f\u9898\u76ee\uff1a[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.org/problemnew/show/P2831)\n\nemmm\uff0c\u4f5c\u4e3a2016\u5e74\u7684D2T2\uff0c\u8bf4\u5b9e\u8bdd\uff0c\u6709\u70b9\u6c34\u554a\uff0c\u50cf\u6211\u8fd9\u79cd\u849f\u84bb\u90fd\u53ef\u4ee5\u505a\u51fa\u6765\uff08\u800c\u4e14\uff0c\u7b2c\u4e00\u5929\u7684\u9898\u90fd\u6bd4\u7b2c\u4e8c\u5929\u7684\u9898\u76ee\u8981\u96be\uff0c\u867d\u7136\u7ed9\u4e86\u4e00\u5927\u5806\u7b80\u5355\u7684\u90e8\u5206\u5206\uff0c\u5c45\u7136\u5206\u6570\u7ebf\u624d280\u5206\uff09\n\n\u597d\u4e86\uff0c\u8a00\u5f52\u6b63\u4f20\uff0c\u6765\u8bb2\u4e00\u8bb2\u8fd9\u9053\u9898\u7684\u89e3\u6cd5\uff0c\u5148\u6765\u8bf4\u4e00\u8bf4\u90e8\u5206\u5206\u5427\uff0c\u9898\u76ee\u6709\u70b9\u8d39\u89e3\uff0c\u4f46\u662f\u8bfb\u61c2\u9898\u4e4b\u540e\uff0c\u4e0d\u96be\u53d1\u73b0\u5176\u5b9e\u7528\u641c\u7d22\u90fd\u53ef\u4ee5\u5f97\u5230\u5f88\u591a\u5206\u4e86\uff08\u770b\u4e00\u770b\u6570\u636e\uff0c\u732a\u7684\u6570\u91cf\u6700\u591a\u90fd\u624d18\u4e2a\uff0c\u4e00\u822c\u6765\u8bb2\u53ef\u4ee5\u8fc7\u6389\u5927\u90e8\u5206\u7684\u70b9\uff09\u3002\n\n\u6211\u4eec\u7684dfs\u6570\u7ec4\u90fd\u4e24\u4e2a\u53c2\u6570\uff0c\u5728dfs(x,step)\u4e2d\uff0cx\u8868\u793a\u524dx-1\u5934\u732a\u90fd\u5df2\u7ecf\u201c\u6251\u8857\u4e86\u201d\uff0cstep\u8868\u793a\u5f53\u524d\u5df2\u7ecf\u7528\u4e86step\u53ea\u7ea2\u5c0f\u9e1f\u3002dfs\u6709\u4e24\u79cd\u60c5\u51b5\uff1a1.\u81ea\u5df1\u4e00\u5934\u732a\u5355\u72ec\u4e00\u4e2a\u629b\u7269\u7ebf\uff0c\u5c31\u662f\u76f4\u63a5\u4ecedfs(x,step)>>>>dfs(x+1,step+1)  2.\u8fd9\u4e00\u5934\u732a\u4e0e\u540e\u9762\u7684\u5176\u4e2d\u4e00\u5934\u732a\u5728\u540c\u4e00\u4e2a\u629b\u7269\u7ebf\u4e0a\uff0c\u9996\u5148\uff0c\u6211\u4eec\u6765\u6c42\u4e00\u4e0b\u6b64\u65f6\u7684a\u548cb\n\n\u5047\u8bbe\u4e24\u4e2a\u70b9\u7684\u5750\u6807\u5206\u522b\u4e3a(x1,y1),(x2,y2),\u90a3\u4e48\u53ef\u4ee5\u5f97\u5230\u65b9\u7a0b\n\n------------\ny1=a*x1*x1+b*x1;--------\u2460\u5f0f\n\ny2=a*x2*x2+b*x2;--------\u2461\u5f0f\n\n------------\n\u2460\u5f0f*x2\uff0c\u2461\u5f0f*x1\u53ef\u4ee5\u5f97\u5230a=(x2*y1-x1*y2)/(x1*x2*(x2-x1));\n\n\u540c\u7406\u53ef\u4ee5\u5f97\u5230b=(x2^2*y1-x1^2*y2)/(x1*x2*(x2-x1));\n\n\u6240\u4ee5\u8fd9\u6837\u5b50a\uff0cb\u7684\u503c\u5c31\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e24\u53ea\u732a\u7684\u6a2a\u7eb5\u5750\u6807\u6c42\u51fa\u6765\u4e86\uff0c\u4e4b\u540e\uff0c\u518d\u626b\u4e00\u904d\u6570\u7ec4\uff0c\u770b\u90a3\u4e9b\u6d3b\u7740\u7684\u732a\u4e5f\u7ecf\u8fc7\u8fd9\u4e00\u4e2a\u629b\u7269\u7ebf\uff0c\u5c31\u987a\u5e26\u88ab\u6740\u6b7b\u4e86\uff08~~\u771f\u60e8\u554a~~\uff09\n\n\u4e8e\u662f\u4e4e\uff0c\u7b54\u6848\u5c31\u51fa\u6765\u4e86\uff0c\u9644\u4e0a\u4ee3\u7801\uff0875\u554a\uff0c\u771f\u9999~~~\uff09\n```cpp\n#include<iostream>\n#include<iomanip>\n#include<cstring>\n#include<cstdio>\n#include<cmath>\nusing namespace std;\nconst double EPS=1e-10;\nconst int maxP=20;\nint t,n,m,ans=0x7fffffff,num;\ndouble pig[maxP][2];\nbool alive[maxP],flag;\n\ninline void dfs(int x,int step)\n{\n\tif(x==n+1){\n\t\tans=min(ans,step);\n\t\treturn;\n\t}\n\tif(alive[x]==false)\n\t\tdfs(x+1,step);\n\telse{\n\t\talive[x]=false;\n\t\tdfs(x+1,step+1);\n\t\talive[x]=true;\n\t\tfor(int i=x+1;i<=n;++i){\n\t\t\tif(alive[i]==false||pig[i][0]==pig[x][0])\n\t\t\t\tcontinue;\n\t\t\tdouble a=(pig[i][0]*pig[x][1]-pig[x][0]*pig[i][1])/(pig[x][0]*pig[i][0]*(pig[x][0]-pig[i][0]));\n\t\t\tdouble b=(pig[i][0]*pig[i][0]*pig[x][1]-pig[x][0]*pig[x][0]*pig[i][1])/(pig[x][0]*pig[i][0]*(pig[i][0]-pig[x][0]));\n\t\t\tif(a<0){\n\t\t\t\t//cout<<x<<\" \"<<i<<\" \"<<a<<\" \"<<b<<endl;\n\t\t\t\talive[x]=false;\n\t\t\t\talive[i]=false;\n\t\t\t\tfor(int j=i+1;j<=n;++j){\n\t\t\t\t\tif(abs((a*pig[j][0]*pig[j][0]+b*pig[j][0])-pig[j][1])<=EPS)\n\t\t\t\t\t\talive[j]=false;\n\t\t\t\t}\n\t\t\t\tdfs(x+1,step+1);\n\t\t\t\talive[x]=true;\n\t\t\t\talive[i]=true;\n\t\t\t\tfor(int j=i+1;j<=n;++j){\n\t\t\t\t\tif(abs((a*pig[j][0]*pig[j][0]+b*pig[j][0])-pig[j][1])<=EPS)\n\t\t\t\t\t\talive[j]=true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main()\n{\n\tfreopen(\"angrybird.in\",\"r\",stdin);\n\tfreopen(\"angrybird.out\",\"w\",stdout);\n\tcin>>t;\n\tfor(int i=1;i<=t;++i){\n\t\tcin>>n>>m;\n\t\tmemset(alive,true,sizeof(alive));\n\t\tans=n;\n\t\tfor(int j=1;j<=n;++j)\n\t\t\tcin>>pig[j][0]>>pig[j][1];\n\t\tdfs(1,0);\n\t\tcout<<ans<<endl;\n\t}\n}\n```\n\n\u4e4b\u540e\uff0c\u6211\u4eec\u7ee7\u7eed\u5411\u6ee1\u5206\u51fa\u53d1\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u5728\u641c\u7d22\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6709\u5f88\u591a\u901a\u8fc7\u4e0d\u540c\u7684\u65b9\u5f0f\u53ef\u4ee5\u5230\u8fbe\u4e00\u79cd\u76f8\u540c\u7684\u72b6\u6001\n\n\u4e3e\u4e2a\u6817\u5b50\uff0c\u67091~5\u53f7\u5c0f\u732a\uff0c\u6211\u4eec\u7528\u4e00\u6761\u629b\u7269\u7ebf\u5e72\u7ffb\u4e861\uff0c2\u53f7\u5c0f\u732a\uff0c\u53c8\u6709\u4e00\u6b21\u641c\u7d22\u5148\u5e72\u6389\u4e862\u53f7\u5c0f\u732a\uff0c\u518d\u5e72\u6389\u4e861\u53f7\u5c0f\u732a\uff0c\u5269\u4e0b\u6765\u7684\u90fd\u662f3~5\u53f7\u5c0f\u732a\uff0c\u8fd9\u5176\u5b9e\u53ea\u7528\u7b97\u4e00\u6b21\u6700\u5c0f\u503c\uff0c\u4f46\u662f\u8fd9\u91cc\u5374\u8fd8\u8981\u7b97\u4e24\u6b21\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u60f3\u5230\u4e86\u8bb0\u5fc6\u5316\u641c\u7d22\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u7528\u4e00\u4e2a\u5341\u516b\u4f4d\u7684\u4e8c\u8fdb\u5236\u6765\u6309\u4f4d\u6765\u5b58\u50a8\u6bcf\u4e00\u4e2a\u5c0f\u732a\u7684\u6b7b\u6d3b\u72b6\u6001\uff0c1\u8868\u793a\u8fd8\u6d3b\u7740\uff0c0\u8868\u793a\u5df2\u7ecf\u201c\u6251\u8857\u201d\u4e86\uff0c\u8fd9\u65f6\u5019dfs\u7684\u53c2\u6570\u5c31\u53ea\u6709\u4e00\u4e2ax\u8868\u793a\u6bcf\u4e00\u53ea\u5c0f\u732a\u7684\u72b6\u6001\u3002\u5176\u4f59\u7684\u64cd\u4f5c\u90fd\u548c\u539f\u676575\u5206\u7684\u64cd\u4f5c\u662f\u4e00\u6837\u7684\u3002\u6700\u4e3b\u8981\u7684\u6838\u5fc3\u601d\u60f3\u6ca1\u6709\u6539\u53d8\uff0c\u53ea\u662f\u589e\u52a0\u4e86\u4e00\u4e2a\u6570\u7ec4\u6765\u5b58\u50a8\u6bcf\u4e00\u4e2a\u72b6\u6001\u3002\n\n\u5728\u8fd9\u91cc\uff0c\u6211\u8fd8\u8981\u63d0\u9192\u5927\u5bb6\u4e00\u70b9\uff0c\u5c31\u662f---\u4f4d\u8fd0\u7b97\u56fa\u7136\u5f88\u5feb\uff0c\u4f46\u662f\u4ed6\u7684\u8fd0\u7b97\u7ea7\u522b\u662f\u975e\u5e38\u4f4e\u7684\uff0c\u4e00\u5b9a\u8981\u5728\u8fd9\u4e2a\u8fd0\u7b97\u7684\u5916\u9762\u6253\u62ec\u53f7\uff08\u6211\u548c\u8001\u5e08\u5728\u8fd9\u91cc\u8c03\u4e861h-\uff09\n\n\u6700\u540e\uff0c\u5c31\u662f\u9644\u4e0a\u4ee3\u7801\u5566~~~\n```cpp\n#include<iostream>\n#include<iomanip>\n#include<cstring>\n#include<cstdio>\n#include<cmath>\nusing namespace std;\nconst double EPS=1e-10;\nconst int maxP=20;\nconst int maxV=300100;\nint t,n,m,ans=0x7fffffff,num;\nint f[maxV],p[maxV];\ndouble pig[maxP][2];\nbool alive[maxP],flag;\n\ninline int dfs(int x)\n{\n\tif(f[x]!=-1)\n\t\treturn f[x];\n\tint y=p[x];\n\tf[x]=dfs(x^(1<<(y-1)))+1;\n\tfor(int i=y+1;i<=n;++i){\n\t\tif(((x&(1<<(i-1)))==0)||pig[i][0]==pig[y][0])\n\t\t\tcontinue;\n\t\tdouble a=(pig[i][0]*pig[y][1]-pig[y][0]*pig[i][1])/(pig[y][0]*pig[i][0]*(pig[y][0]-pig[i][0]));\n\t\tdouble b=(pig[i][0]*pig[i][0]*pig[y][1]-pig[y][0]*pig[y][0]*pig[i][1])/(pig[y][0]*pig[i][0]*(pig[i][0]-pig[y][0]));\n\t\tif(a<0){\n\t\t\tint t=x;\n\t\t\tt^=(1<<(i-1));\n\t\t\tt^=(1<<(y-1));\n\t\t\tfor(int j=i+1;j<=n;++j){\n\t\t\t\tif((t&(1<<(j-1)))==0)\n\t\t\t\t\tcontinue;\n\t\t\t\tif(abs((a*pig[j][0]*pig[j][0]+b*pig[j][0])-pig[j][1])<=EPS)\n\t\t\t\t\tt^=(1<<(j-1));\n\t\t\t}\n\t\t\tf[x]=min(f[x],dfs(t)+1);\n\t\t}\n\t}\n\treturn f[x];\n}\n\nint main()\n{\n\t//freopen(\"angrybird.in\",\"r\",stdin);\n\t//freopen(\"angrybird.out\",\"w\",stdout);\n\tcin>>t;\n\tp[1]=1;\n\tfor(int i=2;i<=maxV-1;++i){\n\t\tif(i&1)\n\t\t\tp[i]=1;\n\t\telse\n\t\t\tp[i]=p[i>>1]+1;\n\t}\n\tfor(int i=1;i<=t;++i){\n\t\tcin>>n>>m;\n\t\tmemset(f,-1,sizeof(f));\n\t\tf[0]=0;\n\t\tfor(int j=1;j<=n;++j)\n\t\t\tcin>>pig[j][0]>>pig[j][1];\n\t\tans=dfs((1<<n)-1);\n\t\tcout<<ans<<endl;\n\t}\n}\n```",
        "postTime": 1540036706,
        "uid": 112221,
        "name": "Nirvana_Xero",
        "ccfLevel": 0,
        "title": "P2831 \u6124\u6012\u7684\u5c0f\u9e1f"
    },
    {
        "content": "## \u611f\u8c22@\u6211\u5728\u5b66\u4e60 \u5927\u4f6c\u5728\u601d\u8def\u4e0a\u5960\u5b9a\u7684\u57fa\u7840\u3002\n#### \u6211\u4ecd\u7136\u662f\u7528DFS\uff0c\u4f46\u5b9e\u73b0\u4e0a\u548c@\u6211\u5728\u5b66\u4e60 \u5927\u4f6c\u4e0d\u5927\u4e00\u6837\u3002\u4ed6\u7528\u4e86\u4e00\u4e2a\u6570\u7ec4\u5b58\u653e\u5355\u72ec\u7684\u732a\uff0c\u9700\u8981\u79fb\u4f4d\uff0c\u64cd\u4f5c\u4e0d\u592a\u7f8e\u89c2\uff08\u4f46\u4ed6\u8fd8\u662f\u5f88\u5febQAQ\uff09\u3002\u6211\u60f3\uff0c\u732a\u7684\u603b\u6570\u572818\u4ee5\u5185\uff0c\u90a3\u4e48\u5f04\u4e00\u4e2abool\u6570\u7ec4\u6807\u8bb0\u5355\u72ec\u7684\u732a\u5373\u53ef\u3002\u6211\u751a\u81f3\u53ef\u4ee5\u4e0d\u7528\u4f20\u9012\u5355\u72ec\u7684\u732a\u7684\u6570\u91cf~~\uff08\u771f(xu)\u5b9e(jia)\uff1a\u9700\u8981\u904d\u5386bool\u6570\u7ec4\u8ba1\u7b97\u6570\u91cf\uff0c\u89c1_inline int s()_\uff09~~\u3002\u800c\u904d\u5386\u6240\u6709\u7684\u5355\u72ec\u7684\u732a\u4e5f\u5f88\u7b80\u5355\uff1a\u904d\u5386bool single[]\uff0c\u4e3a\u771f\u5373\u5355\u72ec\u3002\n\u5176\u4f59\u53ef\u4ee5\u53c2\u89c1@\u6211\u5728\u5b66\u4e60 \u5927\u4f6c\u7684\u9898\u89e3\u3002**(\u518d%%%\u4e00\u6ce2\u5927\u4f6c)**\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#define eps 1e-8\nusing namespace std;\nstruct pig\n{\n    double x,y;\n}a[20];\nstruct line\n{\n    double a,b;\n    line (double x=0,double y=0)\n    {\n        a=x;\n        b=y;\n    }\n}l[20];\nbool equal(double a,double b)\n{\n    return (a>b)?(a-b<=eps):(b-a<=eps);\n}\nint n,m,ans;\nbool single[20]={};\ninline int s()\n{\n    int x=0;\n    for (int i=1;i<=n;++i)\n        x+=single[i];\n    return x;\n}\nvoid dfs(int now,int tmp)\n{\n    int left=s();\n    if (tmp+left>=ans)\n        return ;\n    if (now>n)\n    {\n        ans=tmp+left;\n        return ;\n    }\n    for (int i=1;i<=tmp;++i)\n    {\n        double ey=(l[i].a*a[now].x+l[i].b)*a[now].x;\n        if (equal(ey,a[now].y))\n        {\n            dfs(now+1,tmp);\n            return ;\n        }    \n    }\n    for (int i=1;i<=n;++i)\n        if ((single[i])&&(!equal(a[now].x,a[i].x)))\n        {\n            double ansa=(a[i].x*a[now].y-a[i].y*a[now].x)/(a[i].x*a[now].x*(a[now].x-a[i].x));\n            if (ansa>=0)\n                continue;\n            double ansb=(a[i].y-ansa*a[i].x*a[i].x)/a[i].x;\n            l[tmp+1]=line(ansa,ansb);\n            single[i]=0;\n            dfs(now+1,tmp+1);\n            single[i]=1;\n        }\n    single[now]=1;\n    dfs(now+1,tmp);\n    single[now]=0;\n}\nint main()\n{\n    int T;\n    cin>>T;\n    while (T--)\n    {\n        cin>>n>>m;\n        memset(a,0,sizeof(a));\n        for (int i=1;i<=n;++i)\n            cin>>a[i].x>>a[i].y;\n        ans=20;\n        memset(single,0,sizeof(single));\n        memset(l,0,sizeof(l));\n        dfs(1,0);\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}\n```",
        "postTime": 1538625073,
        "uid": 17973,
        "name": "1517460958dyc",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u849f\u84bb\u535a\u5ba2\uff1a[QWQ](https://www.luogu.org/problemnew/show/P2831)\n\n\n------------\n\n## Solution\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u5eb7\u4e00\u5eb7\u9898\u76ee\u7684\u6570\u636e\u8303\u56f4\uff1an<=18\uff0c\u5e94\u8be5\u662f\u72b6\u538b\u6216\u8005\u662f\u641c\u7d22\u3002\n\n\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u9898\u641c\u7d22\u548c\u72b6\u538bDP\u90fd\u662f\u80fd\u505a\u7684\u3002\n\n\uff08~~\u56e0\u4e3a\u641c\u7d22\u5728\u6211\u5fc3\u4e2d\u7559\u4e0b\u4e86\u9634\u5f71\uff08\u6597\u5730\u4e3b\uff09~~\uff0c\u6240\u4ee5\u5728\u8fd9\u91cc\uff0c\u6211\u8bb2\u72b6\u538bDP\u7684\u505a\u6cd5\uff09\n\n .\n\n\u6839\u636e\u6211\u4eec\u4ee5\u5f80\u8bbe\u8ba1\u72b6\u538bDP\u7684\u7ecf\u9a8c\uff0c\u6211\u4eec\u53ef\u4ee5\u5f88\u8f7b\u677e\u5730\u8bbe\u8ba1\u8fd9\u4e00\u9898\u7684\u72b6\u6001\uff1a\n\n**\u8bbef[i]\u8868\u793a\u6253\u4e0b\u7684\u732a\u732a\u7684\u72b6\u6001\u4e3ai\u7684\u65b9\u6848\u6570**\uff0c\uff08\u72b6\u6001\u5728\u8fd9\u91cc\u7528\u4e8c\u8fdb\u5236\u65b9\u5f0f\u6765\u8868\u793a\uff0c\u4f8b\u5982\uff1a00101\u8868\u793a\u6253\u4e0b\u4e86\u7b2c1\u548c\u7b2c3\u53ea\u732a\uff09\n\n\u90a3\u4e48\u6709\uff1a $f[i] = min(f[j])+1$ \uff08j\u4e3ai\u7684\u5b50\u96c6\uff09\n\n\u8fd9\u91cc\u7528\u5230\u4e00\u4e2a\u679a\u4e3e\u5b50\u96c6\u7684\u6280\u5de7\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u72b6\u6001i\uff0c\u5b83\u53ef\u4ee5\u8fd9\u6837\u679a\u4e3e\u5b50\u96c6\uff1a\n\nfor(int j=i;j>=0;j=(j-1)&i) (\u81f3\u4e8e\u8bc1\u660e\uff0c\u4f60\u53ef\u4ee5\u5728\u8349\u7a3f\u7eb8\u4e0a\u753b\u753b\uff0c\u5f88\u5feb\u5c31\u4f1a\u53d1\u73b0\u5b83\u7684\u7cbe\u5999\u4e86)\n\n\u90a3\u6211\u4eec\u600e\u4e48\u5224\u65ad\u80fd\u5426\u4ece\u72b6\u6001 j \u8f6c\u79fb\u5230 i \u5462\uff1f\n\n\u9996\u5148\uff0c\u6839\u636e\u6570\u5b66\u5e38\u8bc6\uff0c**\u6211\u4eec\u9700\u89813\u4e2ax\u4e0d\u4e00\u6837\u7684\u70b9\u624d\u80fd\u786e\u5b9a\u4e00\u6761\u629b\u7269\u7ebf\u3002\u8fd9\u9898\u5df2\u7ecf\u56fa\u5b9a\u4e86\u539f\u70b9\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u9700\u8981\u4e24\u4e2a\u70b9\u6765\u786e\u5b9a\u4e00\u6761\u629b\u7269\u7ebf**\u3002\n\n**\u5982\u679cj\u4e0ei\u53ea\u6709\u4e00\u4e2a\u6216\u4e24\u4e2ax\u4e0d\u540c\u7684\u70b9 \u662f\u4e0d\u540c\u7684\uff0c\u90a3\u663e\u7136\u662f\u53ef\u4ee5\u8f6c\u79fb\u7684\u3002\n**\n\n\u5bf9\u4e8e\u6709\u4e24\u4e2a\u4ee5\u4e0a\u7684\u70b9\uff0c**\u6211\u4eec\u53ef\u4ee5\u7528\u524d\u4e24\u4e2a\u70b9\u901a\u8fc7\u89e3\u4e8c\u5143\u4e00\u6b21\u65b9\u7a0b\u6765\u8ba1\u7b97\u51fd\u6570\u7684a\u4e0eb\uff0c\u7136\u540e\u518d\u53bb\u4e00\u4e2a\u4e00\u4e2a\u5224\u65ad\u6bcf\u4e2a\u4e0d\u540c\u7684\u70b9\u662f\u5426\u5728\u8fd9\u6761\u629b\u7269\u7ebf\u4e0a**\u3002\n\n\u5bf9\u4e8e\u5982\u4f55\u89e3\u4e8c\u5143\u4e00\u6b21\u65b9\u7a0b..........\uff08\u8fd9\u5e94\u8be5\u662f\u6570\u5b66\u5e38\u8bc6\u5427\uff09\n\n\u590d\u6742\u5ea6$O(3^n*n*T)$ \n\n\u663e\u7136TLE\uff0c\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u6837\u505a\u53ea\u80fd\u5f9760\u5206\u3002\n\n .\n\n\u90a3\u600e\u4e48\u4f18\u5316\u590d\u6742\u5ea6\u5462\uff1f\n\n\u521a\u521a\u7684\u679a\u4e3e\u5b50\u96c6\u663e\u7136\u662f\u4e0d\u53ef\u884c\u4e86\uff0c\u90a3\u6211\u4eec\u53ef\u4ee5\u6362\u4e2a\u601d\u8def\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u70b9\u3002\n\n**\u5bf9\u4e8e\u67d0\u4e00\u79cd\u72b6\u6001\uff0c\u6211\u4eec\u80af\u5b9a\u53ef\u4ee5\u679a\u4e3e\u4e24\u4e2a\uff08\u6216\u4e00\u4e2a\uff09\u6ca1\u6709\u7528\u8fc7\u7684\u70b9\u53bb\u6784\u6210\u65b0\u7684\u629b\u7269\u7ebf\u4ece\u800c\u66f4\u65b0\u5176\u4ed6\u7684\u72b6\u6001\u3002**\n\n\u8fd9\u6837\u5b50\uff0c\u6211\u4eec\u6210\u529f\u5730\u628a\u590d\u6742\u5ea6\u964d\u4e3a\u4e86 $O(2^n*n^2*T)$\n\n\u4f9d\u7136\u8fc7\u4e0d\u4e86\uff0c\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u6837\u505a\u80fd\u5f9785\u5206\u3002 \n\n. \n\n\u4e0a\u4e00\u4e2a\u4f5c\u6cd5\u5df2\u7ecf\u548c\u6b63\u89e3\u5f88\u63a5\u8fd1\u4e86\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u8fd9\u6837\u4f18\u5316\u65b9\u7a0b\uff1a\n\n![QWQ](https://cdn.luogu.com.cn/upload/pic/33665.png)\n\n\u8fd9\u6837\u5b50\uff0c\u6211\u4eec\u590d\u6742\u5ea6\u5c31\u964d\u4e3a\u4e86$ O(2^n*n*T)$\n\n \n.\n \n\n\u5c31\u9171\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u628a\u8fd9\u9053\u9898\u5207\u6389\u5566(\u00b4\u25bd`)\uff89 \n\n \n\n\n------------\n## Code\n```cpp\n//Luogu P2831 \u6124\u6012\u7684\u5c0f\u9e1f\n//Sep,19th,2018\n//\u72b6\u538bDP\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nconst int N=18+2;\nconst double eps=1e-7;\nstruct node\n{\n    double x,y;\n}nd[N];\nlong long f[1<<N];\nint n,POW[N],g[N][N];\ninline double pf(double x)\n{\n    return x*x;\n}\nbool solve(node A,node B,double &a,double &b)\n{\n    if(fabs(A.x-B.x)<=eps) return false;\n    a=(B.x*A.y-A.x*B.y)/(pf(A.x)*B.x-pf(B.x)*A.x);\n    b=(pf(B.x)*A.y-pf(A.x)*B.y)/(pf(B.x)*A.x-pf(A.x)*B.x);\n    if(a>=0) return false;\n    return true;\n}\ndouble fun(double x,double a,double b)\n{\n    return a*pf(x)+b*x;\n}\nint main()\n{\n    POW[0]=1;\n    for(int i=1;i<N;i++)\n        POW[i]=POW[i-1]*2;\n    int T,tt;\n    scanf(\"%d\",&T);\n    for(;T>0;T--)\n    {\n        memset(g,0,sizeof g);\n        scanf(\"%d%d\",&n,&tt);\n        for(int i=1;i<=n;i++)\n            scanf(\"%lf%lf\",&nd[i].x,&nd[i].y);\n            \n        for(int i=1;i<=n;i++)\n            for(int j=i+1;j<=n;j++)\n            {\n                double a=0,b=0;\n                bool OK=solve(nd[i],nd[j],a,b);\n                if(OK==false) continue;\n                for(int k=1;k<=n;k++)\n                    if(fabs(fun(nd[k].x,a,b)-nd[k].y)<=eps)\n                        g[i][j]+=POW[k-1];\n            }\n                \n        memset(f,0x3f,sizeof f);\n        f[0]=0;\n        int to=(1<<n)-1,used[N];\n        for(int i=0;i<to;i++)\n        {\n            memset(used,0,sizeof used);\n            int temp=i,j;\n            for(j=n-1;j>=0;j--)\n                if(temp-POW[j]>=0)\n                {\n                    temp-=POW[j];\n                    used[j+1]=true;\n                }\n            for(j=1;j<=n;j++)\n                if(used[j]==false) \n                    break;\n            f[i|POW[j-1]]=min(f[i|POW[j-1]],f[i]+1);\n            for(int k=j+1;k<=n;k++)\n                if(used[k]==false and g[j][k]!=0)\n                        f[i|g[j][k]]=min(f[i|g[j][k]],f[i]+1);\n        }\n            \n        printf(\"%lld\\n\",f[to]);\n    }\n    return 0;\n}\n```",
        "postTime": 1537442319,
        "uid": 52563,
        "name": "GoldenPotato137",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u7ecf\u5178\u7684~~\u6570\u5b66~~\u9898\u4e00\u9053\u3002\n\n-------------\u5e9f\u8bdd\u5206\u5272\u7ebf-------------\n-----------------------------------\n\u6b64\u9898\u5e94\u5f53\u5982\u6b64\uff0c\u66f4\u52a0\u6570\u5b66\u5473\u9053\uff1a\n\n\u5ffd\u7565\u732a\u7684\u5927\u5c0f\uff0c\u4e0e\u5c0f\u9e1f\u64e6\u80a9\u800c\u8fc7\u7b97\u51fb\u843d\uff08\u9e1f\u89c6\u4e3a\u89c4\u5219\u7684\u5706\u5f62\uff09\n\n\u6c42\u4e00\u53ea\u9e1f\u6253\u6389\u6240\u6709\u732a\uff0c\u6700\u5c0f\u591a\u5927\u7684\u534a\u5f84\uff1f\uff08\u732a\u7684\u89c4\u6a21\u57284\u4e2a\u6570\u91cf\u7ea7\uff09\n-------------\u5e9f\u8bdd\u5206\u5272\u7ebf-------------\n-----------------------------------\n~~\u4e3a\u4ec0\u4e48\u8003\u4e09\u4e2a\u70b9\u7684\u4e8c\u6b21\u56de\u5f52\uff1f~~\n\n\u51fa\u9898\u4eba\u5728\u8d4c\u4e00\u6bdb\u94b1\u6211\u4eec\u6700\u5e74\u8f7b\u7684\u662f\u9ad8\u4e00\u540c\u5b66\n\n\u6240\u4ee5\u6ca1\u4eba\u7ed9\u6211\u4eec\u8bb2\u4e8c\u6b21\u51fd\u6570\u6253\u5f00\u7684\u76f8\u5173\u4e8b\u5b9c\n\n\u4e0d\u8fc7\uff0c\u6b64\u9898\u4e0d\u6c34\u3002\n\n~~\u770b\u770b\u697c\u4e0b\u7684\u72b6\u6001\u538b\u7f29\u795e\u7287\u5c31\u662f\u4e86~~\n\n\u81f3\u4e8e\u672c\u849f\u84bb\u505a\u6cd5\uff0c\u8c8c\u4f3c\u4e0e\u67d0\u9898\u89e3\u795e\u4f3c\uff08\u6211\u662f\u771f\u7684\u505a\u5b8c\u4e4b\u540e\u770b\u4e86\u9898\u89e3\u53d1\u73b0\u6709\u4eba\u4e0e\u6211\u795e\u4f3c\u7684\uff0c\u671b\u7ba1\u7406\u5458\u9976\u4e86\u6211\uff09\n\n~~\u9632\u6c34\u5927\u6cd5~~\uff08\u4e0d\u540c\u4e4b\u5904\uff09\n\n\uff08\u770b\u56fe\u8bf4\u8bdd\uff0c\u6211\u6ca1\u56fe\uff09\n\n```cpp\n#include <cmath>\n#include <cctype>\n#include <cstdio>\n#include <iostream>\nusing namespace std;\nconst int N = 20;\nconst double eps = 1.0e-6;\n\nstruct pig{\n\tdouble x, y, k;//\u659c\u7387\u88c5\u903c\u3002\u5f85\u4f1a\u513f\u89c1\u5206\u6653\u3002 \n\tpig() {x = y = 0.0;}\n\tpig(double x, double y):x(x), y(y) {}\n\t\n\tvoid read() {\n\t\tcin >> x >> y;\n\t\tif(fabs(x) >= eps) k = y / x;\n\t\telse k = 9.9e19;\n\t}\n}a[N], dp[N];//dp = (single) dog pig = \u5355\u8eab\u732a \n\nbool equals(double x,double y) {//\u7edd\u5bf9\u4e0d\u8981\u5199\u53d6\u5730\u5740\u7b26\uff0c\u4f60\u6709\u53ef\u80fd\u88ab\u5e38\u6570\u65e0\u5730\u5740\u8fd9\u4e00\u70b9\u57511000\u5e7423333 \n\treturn fabs(x - y) <= eps;//long double\u4e0e\u7cbe\u5ea6\u63a7\u5236\u53cc\u91cd\u6253\u51fb\u7cfb\u7edf\uff0c\u4e13\u6253\u5404\u79cd\u6d6e\u70b9\u6570\u4e0d\u540c\u3002 \n}\n\nstruct Parabola{//\u629b\u7269\u7ebf\u7684\u6b63\u5b97\u540d\u5b57\uff08\u4e0d\u662fpaowuxian\u6216pwx\uff09 \n\tdouble a, b;\n\tParabola() {a = b = 0.0;}\n\tParabola(double a, double b):a(a), b(b) {}\n\t~Parabola() {}//\u65e0\u804a\u52a0\u72af\u75c5 \n\t\n\tdouble gety(const double &x) {//\u8be5\u51fd\u6570\u4ec5\u88abbool onPara(const pig &x)\u8c03\u7528\u8fc7 \n\t\treturn a * x * x + b * x;\n\t}\n\tbool OnPara(const pig &x) {\n\t\treturn equals(gety(x.x), x.y);\n\t}\n\tbool buildPara(pig x, pig y) {//\u771f\u6b63\u7684\u903c\u8981\u88ab\u88c5\u5907\u4e8623333 \n\t\tif(x.k > y.k && x.x > y.x && x.y > y.y)\n\t\t\treturn false;\n\t\t  /*\u6309\u7167\u9898\u76ee\u8981\u6c42\uff0c\u6240\u6c42\u629b\u7269\u7ebf\u5f00\u53e3\u5411\u4e0b(a < 0)\u4e14\u7ecf\u8fc7\u539f\u70b9\uff0c\u4e8e\u662f\uff1a\n\t\t\t\u5bf9\u4e8e\u629b\u7269\u7ebf\u4e0a\u4efb\u610f\u4e00\u70b9P(x0, y0),\u6240\u5728\u7684\u8fc7\u539f\u70b9\u7684\u76f4\u7ebfl0\u7684\u65b9\u7a0b/\u89e3\u6790\u5f0f\u4e3ay = kx\n\t\t\t\u5176\u4e2dk = y0 / x0.\t\u90a3\u4e48\u8be5\u629b\u7269\u7ebf\u4e0a\uff0c\u4efb\u53d6P\u4e0e\u539f\u70b9\u95f4\u7684\u4e00\u70b9\uff0c\u90fd\u5c06\u5728l0\u7684\u4e0a\u65b9\uff08\u4e0a\u51f8\u51fd\u6570\uff09\u3002\n\t\t\t\u6240\u4ee5\uff0c\u5728\u5176\u4e0b\u65b9\u7684\u70b9\u5fc5\u5b9a\u4e0d\u80fd\u6784\u6210\u6240\u6c42\u629b\u7269\u7ebf\u3002\n\t\t\t\u8bf4\u767d\u4e86\u4e00\u53e5\u8bdd\uff1a\u6392\u9664\u4ea7\u751f\u5f00\u53e3\u5411\u4e0a\u629b\u7269\u7ebf\u7684\u53ef\u80fd\u3002233333333 \n\t\t  */ \n\t\tif(x.k < y.k && x.x < y.x && x.y < y.y)\n\t\t\treturn false;/*\u540c\u4e0a\u3002 */\n\t\tif(equals(x.k, y.k) || equals(x.x, y.x))\n\t\t\treturn false;\n\t\t /* \u540c\u4e0a\u554a\uff0c\u4f60\u4eec\u5728\u4e00\u6761\u76f4\u7ebf\u4e0a\u8ba9\u6211\u6253\u4e2a\u9524\u5b50 \n\t\t    \u4e4b\u6240\u4ee5\u4e0d\u76f4\u63a5\u7528\u7b49\u53f7\uff0c\u5c31\u662f\u56e0\u4e3a\uff1a\uff1a\uff08\u4f5c\u7528\u57df\u8fd0\u7b97\u7b26\u63d0\u793a\u60a8\uff09\n\t\t   *\u4f60\u7684\u5c4f(ge)\u5e55(bo)\u4e0d\u591f\u5927(chang)\uff0c\u6ca1\u529e\u6cd5\u6765\u62c9\u51fa\u4e00\u4e2a\u51e0\u5343\u7c73\u8fdc\u7684\u9e1f \uff1b\n\t\t   *\u4f60\u7684\u732a\u6ca1\u90a3\u4e48\u8fdc\u3002\n\t\t    \u81f3\u4e8e\u7eb5\u5750\u6807\u76f8\u7b49\uff0c\u4f60\u53ef\u4ee5\u770b\u5173\u53611-1\uff082333333\u6837\u4f8b1\u7684\u7b2c\u4e00\u5173\uff09\n\t\t  */\n\t\tdouble da = x.x * x.x, db = x.x,\n\t\t\tc = y.x * y.x, d = y.x,\n\t\t\te = x.y, f = y.y;//\u516c\u5f0f\u6cd5/\u89e3\u5411\u91cf\u6cd5\u6c42\u89e3 \n\t\tdouble dlt = da * d - db * c,\n\t\t\t p = d * e - db * f,\n\t\t\t q = da * f - c * e;\n\t\tif(fabs(dlt) <= eps) return false;//\u8fd9\u4e0e\u659c\u7387\u76f8\u7b49\u4e00\u6837 \n\t\tif(p / dlt >= 0) return false;//\u8fd9\u4e0e\u5f00\u53e3\u5411\u4e0a\u4e00\u6837 \n\t\ta = p / dlt, b = q / dlt;\n\t\treturn true;\n\t}\n}p[N];\n\nint n, m, ans;\n\nvoid dfs(int no, int paracnt, int dpcnt) {\n\tif(paracnt + dpcnt >= ans) return;\n\tif(no > n) {\n\t\tans = paracnt + dpcnt; \n\t\treturn;\n\t}\n\tbool bl = true;\n\tfor(int i = 1; i <= paracnt; i++)\n\t\tif(p[i].OnPara(a[no])) {\n\t\t\tdfs(no + 1, paracnt, dpcnt);\n\t\t\tbl = false;\n\t\t\tbreak;\n\t\t}\n\tif(bl) {\n\t\tfor(int i = 1; i <= dpcnt; i++) {\n\t\t\tif(p[paracnt + 1].buildPara(a[no], dp[i])) {\n\t\t\t\tpig x = dp[i];\n\t\t\t\tfor(int j = i; j < dpcnt; j++) //\u624b\u52a8\u6a21\u62dfvector<T>::erase()\n\t\t\t\t\tdp[j] = dp[j + 1];\n\t\t\t\tdfs(no + 1, paracnt + 1, dpcnt - 1);\n\t\t\t\tfor(int j = dpcnt; j > i; j--)\n\t\t\t\t\tdp[j] = dp[j - 1];\n\t\t\t\tdp[i] = x;\n\t\t\t}\n\t\t}\n\t\tdp[dpcnt + 1] = a[no];\n\t\tdfs(no + 1, paracnt, dpcnt + 1);\n\t}\n\treturn;\n}\n\nvoid doit() {\n\tcin >> n >> m;\n\tswitch(m) {//\u767e\u5e74\u4e0d\u9047\u7684switch\u8bed\u53e5\uff0c\u770b\u4f60\u4eec\u4e5f\u5fd8\u5149\u4e86 \n\t\tcase 0: ans = n + 1;break;\n\t\tcase 1: ans = n / 3 + (n % 3 != 0) + 1;break;\n\t\tcase 2: ans = n - n / 3 + 1;break;\n\t}\n\tfor(int i = 1; i <= n; i++)\n\t\ta[i].read();\n\t\n\tdfs(1, 0, 0);\n\tcout << ans << endl;\n}\n\nint main() {//\u4e3b\u51fd\u6570\u8fd8\u662f\u7b80\u5355\u7684\u597d \n\tios::sync_with_stdio(false);\n\tint t;\n\tcin >> t;\n\twhile(t--) doit();\n\treturn 0;\n}\n```\n### ~~\u659c\u7387\u4f18\u5316~~\n### ~~\u659c\u7387\u95ee\u9898\u5e26\u6765\u7684\u4f18\u5316~~\n### \u7528\u76f4\u7ebf\u7684\u659c\u7387\u6765\u6392\u9664\u67d0\u4e9b\u4e0d\u5fc5\u8981\u7684\u89e3\u65b9\u7a0b\u8fc7\u7a0b\n# \u547c\n## \u7ec8\u4e8e\u8bf4\u6e05\u695a\u4e86\n\u7136\u800c\uff0c\u600e\u4e48\u7528\uff1f\n\n\u770b\u597d\u4e86\uff1a\u629b\u7269\u7ebf \n### \u5f00\u53e3\u5411\u4e0b\n~~\u8fd9\u4e00\u53e5\u8bdd\u89e3\u91ca\u4e86\u51e0\u4e4e\u6240\u6709\u7684\u95ee\u9898~~\n\n\u5df2\u77e5\uff1a\u629b\u7269\u7ebf _y_ = _ax_\u00b2 + _bx_ ( _a_ < 0 , _b_ > 0 , _x_ > 0 )\u4e0a\u4e0d\u540c\u4e24\u70b9_P_ ( _x\u2081_ , _y\u2081_ ) , _Q_ ( _x\u2082_ , _y\u2082_ ).\n\n\u6c42\u8bc1\uff1a( _x\u2082y\u2081_ - _x\u2081y\u2082_ ) ( _x\u2081_ - _x\u2082_ ) < 0.\n\n\u4e0d\u8bc1\u660e\u3002\n\u53ea\u53d8\u5f62\u3002\n\n\u5f53x1>x2\u65f6x2y1-x1y2<0\n\n\u5373x2/y2-x1/y1<0\n\nk2-k1<0\n\n###### ended.",
        "postTime": 1534595580,
        "uid": 101009,
        "name": "\u81ea\u52a8WA\u673a",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u65e9\u5c31\u542c\u8bf4\u8fd9\u4e2a\u9898\u6709\u4e0d\u5c11\u89e3\u6cd5\uff0c\u4f46\u4e3a\u4e86\u7ec3\u7ec3\u6211\u4e0d\u80fd\u770b\u7684DP\uff0c\n\u6700\u540e\u8fd8\u662f\u7528\u72b6\u538bDp\u5199\u7684\uff0c\u4e2d\u9014\u501f\u9274\u4e86\u5927\u4f6c\u7684\u9898\u89e3\u3002\n\u9996\u5148\uff0c\u6211\u4eec\u770b\u5230\u6570\u636e\u5c31\u80fd\u60f3\u5230\u8bd5\u7528\u72b6\u538bDP\u6765\u5199\u3002\u6211\u4eec\u53ef\u4ee5\n\u7528DP[i]\u8868\u793a\u6253\u5230\u7b2ci\u79cd\u60c5\u51b5\u7684\u629b\u7269\u7ebf\u81f3\u5c11\u9700\u8981\u51e0\u53ea\u9e1f\u3002\uff08\u7528i\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u60c5\u51b5\uff09\u6bd4\u5982i=4\uff0800100\uff09\u8868\u793a\u6253\u5230\u7b2c3\u53ea\u9e1f\uff0ci=5\uff0800101\uff09\u8868\u793a\u6253\u5230\u7b2c3\u548c\u7b2c1\u53ea\u9e1f\u3002\u6211\u4eec\u53ef\u4ee5\u5148\u7528para[]\u5b58\u629b\u7269\u7ebf\uff0c\u6211\u4eec\u8ba1\u7b97\u51fa\u6240\u6709\u6253\u5230\u81f3\u5c11\u4e00\u4e2a\u7684\u629b\u7269\u7ebf\u7684\u8bf7\u51b5\u50a8\u5b58\u5728para[]\u4e2d\uff0c\u90a3\u4e48\u53ef\u4ee5\u5f97\u51fa\u8f6c\u79fb\u65b9\u7a0b\u4e3a\tdp[i|para[j]]=min(dp[i|para[j]],dp[i]+1)\n;\u5176\u4e2di\u4e3a\u6240\u6709\u60c5\u51b5(i\u2208[0-->(1<<n))),j\u8868\u793a\u6240\u6709\u81f3\u5c11\u8fc7\u4e00\u4e2a\u70b9\u7684\u629b\u7269\u7ebf\uff0cj\u2208(1,tail),tail\u4e3a\u6ee1\u8db3\u60c5\u51b5\u7684\u629b\u7269\u7ebf\u6570\uff0c\u90a3\u4e48dp[(1<<n)-1]\u5c31\u662f\u7b54\u6848\u4e86\u3002\u6ce8\u610fdp[0]\u521d\u59cb\u5316\u4e3a0\uff0c\u81f3\u4e8e\u600e\u4e48\u5bf9ax^2+by\u6c42a\uff0cb\uff0c\u81ea\u5df1\u63a8\u63a8\u5427\u3002\u6ce8\u610fa<0\u624d\u662f\u7b26\u5408\u5b9e\u9645\u7684\u629b\u7269\u7ebf\u3002\n\u4e0a\u4ee3\u7801\uff08\u4e0d\u559c\u52ff\u55b7\uff0c\u56e0\u4e3a\u6709\u4e0d\u5c11\u53c2\u8003\u4e86\u9898\u89e3\uff0c\u5199\u535a\u5ba2\u4e5f\u4e3b\u8981\u662f\u81ea\u5df1\u770b\u770b\uff09\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\n#include<queue>\nusing namespace std;\nint t,n,m,dp[1<<18],tail,para[200];\ninline void built(double &a,double &b,double x1,double y1,double x2,double y2){\n    a=(x2*y1-x1*y2)/(x1*x2*(x1-x2));\n    b=(x1*x1*y2-x2*x2*y1)/(x1*x2*(x1-x2));\n}//\u8ba1\u7b97a,b \ninline bool inc(double a,double b,double x,double y){\n    double abs=a*x*x+b*x-y;\n    if(abs<0) abs=-abs;\n    return abs<=0.000001;\n}//\u5224\u65ad\u662f\u5426\u5728\u540c\u4e00\u6761\u629b\u7269\u7ebf\u4e0a\u3002 \nvoid pre()\n{\n\tmemset(dp,0x3f,sizeof dp );tail=0;\n\tdouble x[18]={0},y[18]={0};\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=0;i<n;++i)\n\t{\n\t\tscanf(\"%lf%lf\",&x[i],&y[i]);\n\t}\n\tfor(int i=0;i<n;++i)\n\t{\n\t\tpara[tail++]=(1<<i);\n\t\tfor(int j=i+1,vis=0;j<n;++j)//\u7528vis\u770b\u4e00\u770b\u662f\u5426\u679a\u4e3e\u8fc7\u3002 \n\t\t{\n\t\t\tif((vis>>j)&1) continue;\n\t\t\telse\n\t\t\t{\n\t\t\t\tdouble a,b;//\u4e0d\u8981\u7528long double!!! \n\t\t\t\tbuilt(a,b,x[i],y[i],x[j],y[j]);\n\t\t\t\tif(a>=0)continue;\n\t\t\t\tpara[tail]=(1<<i);\n\t\t\t\tfor(int k=j;k<n;++k)\n\t\t\t\t{\n\t\t\t\t\tif(inc(a,b,x[k],y[k]))\n\t\t\t\t\t{\n\t\t\t\t\t\tvis|=(1<<k);\n\t\t\t\t\t\tpara[tail]|=(1<<k);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t++tail;\n\t\t\t}\n\t\t}\n\t}\n\t\n}\nint ans()\n{\n\tdp[0]=0;\n\tfor(int i=0;i<(1<<n);++i)\n\t{\n\t\tfor(int j=0;j<tail;++j)\n\t\t{\n\t\t\tdp[i|para[j]]=min(dp[i|para[j]],dp[i]+1);\n\t\t\t//cout<<dp[i|para[j]]<<'\\n';\n\t\t}\n\t}\n\treturn dp[(1<<n)-1];\n}\nint main()\n{\n\tscanf(\"%d\",&t);\n\twhile(t>0)\n\t{\n\t\t--t;\n\t\tpre();\n\t\tprintf(\"%d\\n\",ans());\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1532091642,
        "uid": 37488,
        "name": "ghmgjf",
        "ccfLevel": 0,
        "title": "2831 \u6124\u6012\u7684\u5c0f\u9e1f"
    },
    {
        "content": "\u601d\u8def\u6765\u81ea\u77e5\u4e4e\n\n\u5bf9\u4e8e\u4e00\u53ea\u9e1f\uff0c\u8ba1\u7b97\u5b83\u80fd\u6253\u6389\u7684\u732a\u7684\u96c6\u5408i\uff0c\u4ee4s[i]=1\n\n\u5bf9s\u505a\u5408\u5e76\u5377\u79efk\u6b21\uff0c\u5f53\u6700\u5c0f\u7684k\u4f7f(1<<n)-1\u7684\u503c\u5927\u4e8e0\uff0c\u5219\u7b54\u6848\u4e3ak\n\nfwt\u505a\u4e00\u4e0b\u5c31\u597d\u4e86\uff0c\u590d\u6742\u5ea6\u4f18\u4e8e\u72b6\u538b\n\n\u4f46\u662f\u56e0\u4e3a\u7b2c\u5341\u4e2a\u6d4b\u8bd5\u70b9\u4f1a\u7206longlong\uff0c\u8981\u7528__int128\uff0c\u5c31\u8dd1\u5f97\u975e\u5e38\u6162\u2026\u2026\n\n```\n#include<bits/stdc++.h>\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define per(i,a,b) for(int i=a;i>=b;i--)\nusing namespace std;\ntypedef long long LL;\n__int128 s[1<<18],a[1<<18],b[1<<18];\ninline void fwt(int l,int len)\n{\n    if(len==0)return;\n    int tmp=1<<(len-1);\n    fwt(l,len-1);\n    fwt(l+tmp,len-1);\n    for(int i=0;i<tmp;i++)\n        s[l+i+tmp]+=s[l+i];\n}\ninline void ufwt(int l,int len)\n{\n    if(len==0)return;\n    int tmp=1<<(len-1);\n    ufwt(l,len-1);\n    ufwt(l+tmp,len-1);\n    for(int i=0;i<tmp;i++)\n    {\n        a[l+i+tmp]-=a[l+i];\n    }\n}\nint n,m;\nconst double eps=1e-6;\ndouble x[20],y[20];\ninline __int128 pow(__int128 a,int k)\n{\n    __int128 base=a,ans=1;\n    while(k)\n    {\n        if(k&1)ans*=base;\n        base=base*base;\n        k>>=1;\n    }\n    return ans;\n}\ninline bool check(int k)\n{\n    for(int i=0;i<(1<<n);i++)a[i]=pow(s[i],k);\n    ufwt(0,n);\n    return a[(1<<n)-1]>0?1:0;\n}\ninline void work()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=0;i<n;i++)scanf(\"%lf%lf\",&x[i],&y[i]);\n    if(n==0){puts(\"0\");return;}\n    memset(s,0,sizeof s);\n    for(int i=0;i<n;i++){s[1<<i]=1;\n        for(int j=i+1;j<n;j++)\n        {\n            if(fabs(x[i]-x[j])<=eps)continue;\n            double a=(y[i]/x[i]-y[j]/x[j])/(x[i]-x[j]);\n            if(a>=-eps)continue;\n            double b=(y[i]-a*x[i]*x[i])/x[i]; \n            int tmp=0;\n            for(int k=0;k<n;k++)\n            {\n                if(fabs(a*x[k]*x[k]+b*x[k]-y[k])<=eps)tmp|=1<<k;\n            }\n            s[tmp]=1;\n        }}\n    fwt(0,n);\n    int l=1,r=n;\n    while(l<r)\n    {\n        int mid=l+r>>1;\n        if(check(mid))r=mid;else l=mid+1;\n    }\n    printf(\"%d\\n\",r);\n}\nint main()\n{\n    int t;\n    scanf(\"%d\",&t);\n    while(t--)work();\n    return 0;\n}\n\n```",
        "postTime": 1523622178,
        "uid": 10291,
        "name": "fighter_OI",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u72b6\u538bdp\n\n\n\n\n\n```cpp\n#include <bits/stdc++.h> \n#define N 20  \n#define eps 1e-8 \n#define INF 0x3f3f3f3f\nusing namespace std;\nint T,n,m;   \nint g[N][N],f[1<<20]; //g\u5b58\u9009\u62e9\u732ai j f\u5b58\u72b6\u538b\u7ed3\u679c  \ndouble x[N],y[N],a,b; //\u524d\u5411\u661f\u5b58\u732a \nbool same(double a,double b) { return fabs(a-b)<=eps; } //\u7cbe\u5ea6\u5224\u91cd   \nint mymin(int a,int b) { return a<b?a:b; }\nvoid Clear() //\u521d\u59cb\u5316 \n{\n    for(int i=1;i<=n;i++) \n      for(int j=1;j<=n;j++) \n        g[i][j]=0;    \n    int k=1<<n; \n    for(int i=1;i<k;i++) \n      f[i]=INF; \n}\nint main()\n{\n  scanf(\"%d\",&T); \n  while(T--) \n  {\n    scanf(\"%d%d\",&n,&m);  \n      Clear();        \n    for(int i=1;i<=n;i++)  scanf(\"%lf%lf\",&x[i],&y[i]); \n    for(int i=1;i<n;i++)\n      for(int j=i+1;j<=n;j++) \n      {\n          if(same(x[i],x[j])) continue; //\u5982\u679c\u6a2a\u5750\u6807\u76f8\u540c\u4e00\u5b9a\u6253\u4e0d\u4e86   \n          a=(y[i]/x[i]-y[j]/x[j])/(x[i]-x[j]); \n          if(a>=0) continue; \n          b=y[i]/x[i]-a*x[i]; \n          for(int k=1;k<=n;k++)  //\u6240\u6709\u7b26\u5408\u7684\u90fd\u52a0\u8fdb\u53bb  \n            if(same(a*x[k]+b,y[k]/x[k])) \n              g[i][j]|=(1<<(k-1)); //01000101 \u8868\u793a\u80fd\u62531 3 7 \u8fd9\u4e09\u53ea\u732a   \n      } \n    f[0]=0; //\u8fb9\u754c\u6761\u4ef6 \u4e00\u53ea\u90fd\u4e0d\u6253   \n    int k=1<<n; \n    for(int i=0;i<k;i++)   //\u6bcf\u4e00\u79cd\u72b6\u6001  \n      for(int j=1;j<=n;j++) // \u6bcf\u4e00\u53ea\u732a  \n        if(!(i&(1<<(j-1))))   // \u80fd\u589e\u52a0\u6253\u6389\u7684\u732a   \n        {\n            for(int k=j;k<=n;k++) //\u524d\u9762\u7684\u90fd\u6253\u8fc7\u4e86 \n            { \n              //\u7279\u5224   \u4ece\u76f4\u63a5\u6253\u6389\u548c\u52a0\u4e00\u6761\u4e2d\u9009\u53d6\u6700\u5c0f\u503c\n              if(k==j)\n              {\n                  f[i|(1<<(j-1))]=mymin(f[i|(1<<(j-1))],f[i]+1); \n                  continue; \n               }  \n              if(same(x[k],x[j])) continue; //\u6a2a\u5750\u6807\u76f8\u540c\u76f4\u63a5\u8fc7\u4e0d\u5b58\u5728 \n              f[i|g[j][k]]=mymin(f[i|g[j][k]],f[i]+1);  //\u9009\u53d6\u8be5\u6761\u629b\u7269\u7ebf \u6216\u8005\u52a0\u4e00\u6761  \n            } \n            break; \n        } \n    printf(\"%d\\n\",f[(1<<n)-1]);  \n  } \n  system(\"pause\");\n  return 0;\n}\n\n```",
        "postTime": 1508747868,
        "uid": 42727,
        "name": "PiCaHor",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\\*\u8fd9\u9053\u9898\u5176\u5b9e\u5f88\u6c34\u3002\u3002\u3002\n\n\u91cc\u9762\u7684m\u5b8c\u5168\u6ca1\u7528\u3002\n\n\u770b\u5230n\u5f88\u5c0f\uff0c\u5c31\u53ef\u4ee5\u5224\u65ad\u8fd9\u662f\u5230\u66b4\u641c\u9898\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2aint\u8868\u793a\u5f53\u524d\u72b6\u6001\uff08\u7b2ci\u4e3a\u8868\u793a\u7b2ci\u53ea\u732a\u662f\u5426\u88ab\u6d88\u706d\uff09\n\n\u7528ok[i][j]\u8868\u793a\u662f\u5426\u80fd\u7528\u4e00\u53ea\u9e1f\u6253\u4e0b\u7b2ci\u53ea\u732a\u548c\u7b2cj\u53ea\u732a\u3002\n\n\u7528can[i][j][k]\u8868\u793a\u5728\u7528\u4e00\u53ea\u540c\u65f6\u80fd\u6253\u6389\u7b2ci\u53ea\u732a\u548c\u7b2cj\u53ea\u732a\u7684\u9e1f\u662f\u5426\u80fd\u6253\u6389\u7b2ck\u53ea\u732a\u3002\n\n\u4e0a\u8fb9\u4e24\u4e2a\u6570\u7ec4\u53ef\u4ee5\u5148\u9884\u5904\u7406\u3002\n\n\u641c\u7d22\u65f6\u53ef\u4ee5\u679a\u4e3e\u4e00\u53ea\u732aj\uff0c\u770b\u770b\u5f53\u524d\u8fd8\u6ca1\u6709\u88ab\u6253\u6389\u7684\u732a\u4e2d\u7f16\u53f7\u6700\u5c0f\u7684\u90a3\u53ea\u732ai\u548cj\u80fd\u5426\u88ab\u540c\u4e00\u53ea\u9e1f\u6253\u4e0b\u6765\u3002\u5982\u679c\u53ef\u4ee5\uff0c\u518d\u770b\u770b\u80fd\u5426\u6253\u6389\u5176\u4ed6\u7684\u732a\u3002\n\n\u8fd9\u9053\u9898\u53ef\u4ee5\u7528\u5206\u6570\u8868\u793a\u5750\u6807\uff0c\u4e5f\u53ef\u4ee5\u7528\u5c0f\u6570\u3002\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\ntypedef long long ll;\ndouble eps=1e-8;\nint t,n,m;\n__int128 gcd(__int128 a,__int128 b)\n{\n    return b?gcd(b,a%b):a;\n}\nstruct fen\n{\n    __int128 x,y;\n    void mt()\n    {\n        __int128 d=gcd(x,y);\n        x/=d;\n        y/=d;\n        if(y<0)\n        {\n            x=-x;\n            y=-y;\n        }\n    }\n    fen(__int128 a=0,__int128 b=1)\n    {\n        x=a;\n        y=b;\n        mt();\n    }\n    double val()\n    {\n        return double(x)/y;\n    }\n    void print()\n    {\n        printf(\"%lld / %lld\\n\",ll(x),ll(y));\n    }\n};\nfen operator +(fen a,fen b)\n{\n    fen c;\n    c.x=a.x*b.y+b.x*a.y;\n    c.y=a.y*b.y;\n    c.mt();\n    return c;\n}\nfen operator -(fen a,fen b)\n{\n    fen c;\n    c.x=a.x*b.y-b.x*a.y;\n    c.y=a.y*b.y;\n    c.mt();\n    return c;\n}\nfen operator *(fen a,fen b)\n{\n    fen c;\n    c.x=a.x*b.x;\n    c.y=a.y*b.y;\n    c.mt();\n    return c;\n}\nfen operator /(fen a,fen b)\n{\n    fen c;\n    c.x=a.x*b.y;\n    c.y=a.y*b.x;\n    c.mt();\n    return c;\n}\nbool operator ==(fen a,fen b)\n{\n    return a.x==b.x&&a.y==b.y;\n}\nbool operator !=(fen a,fen b)\n{\n    return !(a==b);\n}\nbool operator >(fen a,fen b)\n{\n    return a.x*b.y>a.y*b.x;\n}\nfen x[20];\nfen y[20];\nfen readdouble()\n{\n    char s[5];\n    scanf(\"%s\",s);\n    return fen((s[0]-'0')*100+(s[2]-'0')*10+s[3]-'0',100);\n}\nvoid getab(fen x1,fen y1,fen x2,fen y2,fen &a,fen &b)\n{\n    a=(y1*x2-y2*x1)/(x1*x2*(x1-x2));\n    b=(y1-a*x1*x1)/x1;\n}\nbool check(int i,fen a,fen b)\n{\n    return a*x[i]*x[i]+b*x[i]==y[i];\n}\nint ans;\nint f[300000];\nfen sa1[20][20];\nfen sa2[20][20];\nint can[20][20][20];\nint ok[20][20];\nvoid set(int &s,int i)\n{\n    s|=(1<<(i-1));\n}\nvoid clear(int &s,int i)\n{\n    s&=((1<<n)-1)^(1<<(i-1));\n}\nint get(int s,int i)\n{\n    return (s&(1<<(i-1)))>>(i-1);\n}\nint bitcount(int x)\n{\n    int s=0;\n    while(x)\n    {\n        s+=x&1;\n        x>>=1;\n    }\n    return s;\n}\nvoid dfs(int now)\n{\n    int sum=bitcount(now);\n    if(sum==n)\n    {\n        f[now]=0;\n        return;\n    }\n    int p;\n    for(p=1;get(now,p);p++);\n    int b[20];\n    memset(b,0,sizeof(b));\n    int i,j;\n    int s=0x7fffffff;\n    int bb=1;\n    int now2=now;\n    for(i=p+1;i<=n;i++)\n        if(x[p]!=x[i]&&!b[i]&&!get(now,i)&&ok[p][i])\n        {\n            now=now2;\n            if(sa1[p][i].x>=0)\n                continue;\n            bb=0;\n            set(now,p);\n            set(now,i);\n            for(j=i+1;j<=n;j++)\n                if(can[p][i][j])\n                {\n                    set(now,j);\n                    b[j]=1;\n                }\n            int nextp=now;\n            if(f[nextp]==-1)\n                dfs(nextp);\n            s=min(s,f[nextp]+1);\n        }\n    now=now2;\n    if(bb)\n    {\n        set(now,p);\n        int nextp=now;\n        if(f[nextp]==-1)\n            dfs(nextp);\n        s=min(s,f[nextp]+1);\n    }\n    now=now2;\n    f[now]=s;\n}\nint main()\n{\n    scanf(\"%d\",&t);\n    while(t--)\n    {\n        scanf(\"%d%d\",&n,&m);\n        int i,j,k;\n        for(i=1;i<=n;i++)\n        {\n            x[i]=readdouble();\n            y[i]=readdouble();\n        }\n        memset(can,0,sizeof(can));\n        memset(ok,0,sizeof(ok));\n        fen c;\n        for(i=1;i<=n;i++)\n            for(j=i+1;j<=n;j++)\n                if(x[i]!=x[j])\n                {\n                    getab(x[i],y[i],x[j],y[j],sa1[i][j],sa2[i][j]);\n                    if(sa1[i][j].x>=0)\n                        continue;\n                    ok[i][j]=1;\n                    for(k=j+1;k<=n;k++)\n                    {\n                        if(check(k,sa1[i][j],sa2[i][j]))\n                            can[i][j][k]=1;\n                        c=sa1[i][j]*x[k]*x[k]+sa2[i][j]*x[k];\n                    }\n                }\n        memset(f,-1,sizeof(f));\n        dfs(0);\n        printf(\"%d\\n\",f[0]);\n    }\n    return 0;\n}\n```",
        "postTime": 1480849220,
        "uid": 29725,
        "name": "ywwyww",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u89c1\u8bc1\u968f\u673a\u5316\u7684\u529b\u91cf\u5427\uff01\uff01\uff01\n\nD2T3\u968f\u673a\u5316\u5361\u8fc7\u4e86\uff01\n\n\u867d\u7136\u5728\u8003\u573a\u4e0a\u6ca1\u65f6\u95f4\u5199\u4e86\u3002\u3002\u3002\u5199\u6302\u7684\u7206\u641c\u5bfc\u81f4\u6211\u6c11\u95f4\u6d4b\u4e865\u5206\uff08\u8fd8\u662f\u7b2c\u4e00\u4e2a\u70b9\uff09\n\n\u73b0\u5728\u60f3\u6765\u3002\u3002\u3002\n\n\u4e3a\u4ec0\u4e48\u6211\u6ca1\u5199\u968f\u673a\u5316\u554a\u554a\u554a\uff01\u6211\u597d\u6c14\u554a\n\n\u5199\u8fd9\u4e2a\u7684\u8bdd\u5c31rank1\u4e86\u3002\n\n\n\u4e0b\u9762\u6765\u8bf4\u8bf4\u968f\u673a\u5316\u7684\u505a\u6cd5\uff1a\n\n\u56e0\u4e3a\u6570\u636e\u8303\u56f4\u5f88\u6c34\uff0c\u6700\u5927\u53ea\u670918\u4e2a\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5148\u968f\u673a\u7136\u540e\u66b4\u529b\u626b\u3002\n\n\u5c06\u8bfb\u5165\u7684\u70b9\u7684\u5750\u6807\u7684\u7ed3\u6784\u4f53\u5f00\u6210\u6570\u7ec4\uff0c\u7136\u540e\u8fdb\u884c**25000\u6b21**\u5982\u4e0b\u64cd\u4f5c\uff1a\n\n\u968f\u673a\u6253\u4e71\u6240\u6709\u7684\u70b9\u7684\u626b\u7684\u987a\u5e8f\uff08\u5b9e\u9645\u4e0a\u5c31\u662f\u6253\u4e71\u8fd9\u4e2a\u6570\u7ec4\uff09\u3002\n\n\u5bf9\u4e8e\u8fd9\u4e2a\u6570\u7ec4\uff0c\u6bcf\u4e24\u4e2a\u672a\u6807\u8bb0\u7684\u70b9\u786e\u7acb\u4e00\u6761\u629b\u7269\u7ebf\uff08\u5982\u679c\u53ef\u4ee5\u7684\u8bdd\uff09\u5e76\u6807\u8bb0\u8fd9\u4e24\u4e2a\u70b9\uff0c\n\n\u7136\u540e\u5728\u540e\u9762\u7684\u70b9\u4e2d\u626b\u51fa\u5728\u8fd9\u6761\u629b\u7269\u7ebf\u4e0a\u7684\u70b9\uff0c\u6807\u8bb0\u4e4b\u3002\n\n\u82e5\u662f\u6ca1\u6709\u7b26\u5408\u6761\u4ef6\u7684\u70b9\uff0c\u5219\u6b64\u70b9\u81ea\u6210\u4e00\u6761\u629b\u7269\u7ebf\u3002\n\n\u7edf\u8ba1\u629b\u7269\u7ebf\u7684\u4e2a\u6570\uff0c\u5e76\u53d6\u8fd925000\u6b21\u4e2d\u7684\u6700\u5c0f\u503c\uff0c\u8f93\u51fa\u3002\n\n\n\u590d\u6742\u5ea6\u4e3aO\uff0825000tn^2\uff09,\u5361\u8fc7\u4e86\uff01\n\n\n\u7136\u540e\uff0c\u6709\u4e24\u4e2a\u5f88\u91cd\u8981\u7684\u51fd\u6570\uff0c\u4e00\u662f\u786e\u5b9a\u629b\u7269\u7ebf\u7684a,b\u7cfb\u6570\u7684\u51fd\u6570\uff0c\u4e8c\u662f\u5224\u65ad\u4e24\u4e2a\u70b9\u80fd\u5426\u6784\u6210\u629b\u7269\u7ebf\u7684\u51fd\u6570\u3002\n\n\u8fd9\u4e24\u4e2a\u51fd\u6570\u7684\u89e3\u91ca\u89c1\u4e0bbreaker\uff08\uff09\u548cjudge\uff08\uff09\uff0c\u4f46\u6211\u89c9\u5f97\u8fd9\u4e2a\u5176\u5b9e\u6ca1\u4ec0\u4e48\u5fc5\u8981\u597d\u8bf4\u7684\uff0c\u56e0\u4e3a\u6570\u5b66\u4e0d\u662f\u5f88\u5dee\u7684\u4eba\u90fd\u80fd\u63a8\u51fa\u6765\u3002\n\n\u89e3\u91ca\u5230\u6b64\u4e3a\u6b62\u3002\u4e0b\u9762\u770b\u4ee3\u7801\u5427\uff1a\n\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\n#include<cstdlib>//\u968f\u673a\u5316\u5934\u6587\u4ef6\nstruct pig{double x,y;}a[20];\nint t,n,m,ans,cnt;\ndouble eps=1e-6,a1,b1;//\u8bef\u5dee\u5e38\u91cf\u548c\u629b\u7269\u7ebf\u8868\u8fbe\u5f0f\u7684\u7cfb\u6570a1,b1\nvoid shuffle();//\u6253\u4e71\u51fd\u6570\nvoid greedy();//\u8d2a\u5fc3\u51fd\u6570\nbool ark[20];//\u6807\u8bb0\nbool judge(int,int);//\u5224\u65ad\u80fd\u5426\u6784\u6210\u629b\u7269\u7ebf\nvoid breaker(double,double,double,double,double,double);//\u89e3\u65b9\u7a0b\u7684\u51fd\u6570\nint main()\n{\n    scanf(\"%d\",&t);\n    for(int z=1;z<=t;z++)\n    {\n        scanf(\"%d%d\",&n,&m);\n        ans=10000;\n        srand(19260807);\n        for(int z=1;z<=n;++z)\n            scanf(\"%lf%lf\",&a[z].x,&a[z].y);\n        for(int z=1;z<=25000;++z)\n        {\n            shuffle();\n            greedy();\n            ans=min(ans,cnt);\n        }\n        printf(\"%d\\n\",ans);//\u8fd9\u6bb5\u6ca1\u5565\u597d\u8bb2\u7684\uff0c\u5c31\u662f\u4e2a\u4e3b\u51fd\u6570\u7684\u7ed3\u6784\uff0c\u5927\u5bb6\u90fd\u80fd\u770b\u61c2\u3002\n    }\n    return 0;\n} \ninline void shuffle()\n{\n    for(register int z=1;z<=n;z++)\n    {\n        int t=rand()%n+1;\n        swap(a[z],a[t]);//\u751f\u6210\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u7136\u540e\u4ea4\u6362\u5b83\u4e0e\u6309\u987a\u5e8f\u626b\u5230\u7684\u70b9\n    }\n    return;//\u968f\u673a\u6253\u4e71\u51fd\u6570\u590d\u6742\u5ea6O(n)\n}\ninline void greedy()\n{\n    cnt=0;\n    memset(ark,0,sizeof(ark));\n    for(int z=1;z<=n;++z)//\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9\n    {\n        if(!ark[z])//\u82e5\u5b83\u672a\u88ab\u6807\u8bb0\n        {\n            ark[z]=1;\n            for(int x=z+1;x<=n;++x)//\u627e\u7b2c\u4e8c\u4e2a\u70b9\n            {\n                if(judge(z,x))//\u82e5\u8fd9\u4e24\u4e2a\u70b9\u53ef\u4ee5\u6784\u6210\u629b\u7269\u7ebf\n                {\n                    ark[x]=1;\n                    breaker(a[z].x*a[z].x,a[z].x,a[z].y,a[x].x*a[x].x,a[x].x,a[x].y);//\u89e3\u629b\u7269\u7ebf\u8868\u8fbe\u5f0f\u7cfb\u6570a1\uff0cb1\n                    for(register int c=x+1;c<=n;++c)//\u5224\u65ad\u4e4b\u540e\u7684\u70b9\u662f\u5426\u53ef\u4ee5\u88ab\u6807\u8bb0\n                        if(a1*a[c].x*a[c].x+b1*a[c].x>=a[c].y-eps&&a1*a[c].x*a[c].x+b1*a[c].x<=a[c].y+eps)//\u522b\u5fd8\u4e86\u52a0\u7cbe\u5ea6\u8bef\u5dee\n                            ark[c]=1;\n                    break; //\u56e0\u4e3a\u5df2\u7ecf\u786e\u7acb\u4e86\u629b\u7269\u7ebf\uff0c\u6240\u4ee5\u53ef\u4ee5\u4e0d\u7528\u518d\u5f80\u540e\u626b\u5176\u4ed6\u7684\u201c\u7b2c\u4e8c\u4e2a\u70b9\u201d\u4e86\n                }\n            }\n            cnt++;//\u8ba1\u6570\u5668\n        }    \n    }\n    return;//\u5176\u5b9e\uff0c\u8fd9\u6bb5\u5e94\u8be5\u80fd\u4f18\u5316\uff0c\u4f46\u662f\u6211\u4e0d\u4f1a\u3002\u3002\u3002\n}\ninline bool judge(int i,int j)\n{\n    pig q=a[i],w=a[j];//\u8bbe\u7acb\u4e24\u4e2a\u7528\u4e8e\u6bd4\u8f83\u7684\u7ed3\u6784\u4f53\n    if(q.x>w.x)\n        swap(q,w);//\u65b9\u4fbf\u5224\u65ad\n    if(q.y*w.x<=w.y*q.x)//\u8fd9\u4e2a\u5224\u65ad\u5f0f\uff0c\u662f\u901a\u8fc7\u6bd4\u8f83\u4e24\u4e2a\u70b9\u7684\u659c\u7387\u5f97\u6765\u7684\uff1b\u82e5\u5728\u524d\u9762\u7684\u70b9\u4e0e\u539f\u70b9\u7684\u786e\u7acb\u76f4\u7ebf\u659c\u7387\u5c0f\u4e8e\u540e\u9762\u7684\u70b9\uff0c\u5219\u65e0\u8bba\u5982\u4f55\u90fd\u65e0\u6cd5\u6784\u6210\u629b\u7269\u7ebf\n        return 0;\n    if(q.x==w.x&&q.y!=w.y)//\u5c0f\u5fc3\u6a2a\u5750\u6807\u4e00\u6837\u7684\u60c5\u51b5\u54e6\n        return 0;\n    return 1;\n}\ninline void breaker(double a,double b,double m1,double c,double d,double n1)\n{\n    b1=(n1*a-c*m1)/(a*d-c*b);//\u7531\u4e8c\u5143\u4e00\u6b21\u65b9\u7a0b{ax+by=m1,cx+dy=n1}\u53ef\u63a8\u5f97\u8fd9\u4e2a\u5173\u7cfb\u5f0f\n    a1=(m1-b*b1)/a;//\u5f97\u5230b\uff0c\u6c42\u51faa;\n    return;\n}\n//Code By SDFZ-Lagger\n```",
        "postTime": 1480069034,
        "uid": 14393,
        "name": "Qwerty_IRX",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "# \u9898\u76ee\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[\u70b9\u8fd9\u91cc](https://www.luogu.org/problem/P2831)\u770b\u9898\u76ee\u3002\n# \u5206\u6790\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u770b\u5230$n\n\\le18$\u8fd9\u79cd\u5c0f\u6570\u636e\u5f53\u573a$DP$\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DP(S)$\uff1a$S$\u96c6\u5408\u91cc\u9762\u7684\u732a\u90fd\u88ab\u6253\u4e0b\u6765\u7684\u60c5\u51b5\u7684\u6700\u5c0f\u64cd\u4f5c\u6570\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DP$\u6709\u4e24\u79cd\u8f6c\u79fb\uff0c\u7b2c\u4e00\u79cd\u662f\u4e00\u53ea\u9e1f\u5bf9\u4e00\u53ea\u732a\uff1b\u7b2c\u4e8c\u79cd\u662f\u4e00\u53ea\u9e1f\u5bf9\u591a\u53ea\u732a\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u7b2c\u4e00\u79cd\u8f6c\u79fb\u975e\u5e38\u597d\u5199\uff1b\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u7531\u4e8e\u4e09\u4e2a\u70b9\u5373\u53ef\u786e\u5b9a\u4e00\u4e2a\u4e8c\u6b21\u51fd\u6570\uff0c\u800c\u6211\u4eec\u5df2\u7ecf\u786e\u5b9a\u4e86\u4e00\u4e2a\u70b9$(0,0)$\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u53ef\u4ee5\u679a\u4e3e\u53e6\u5916\u4e24\u4e2a\u70b9\uff0c\u6c42\u51fa\u51fd\u6570\u4e2d\u7684$a$\u548c$b$\u6765\uff1b\u53ef\u4ee5\u6839\u636e\u51fd\u6570\u7684\u6027\u8d28\u5f97\u51fa\u5173\u7cfb\u5f0f\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u5047\u8bbe\u9009\u5b9a\u7684\u4e24\u4e2a\u70b9\u662f$(x_1,y_1)$\u548c$(x_2,y_2)$\uff0c\u5219\u5e94\u8be5\u6709\u65b9\u7a0b\uff1a  \n$$\\begin{cases}ax_1^2+bx_1=y_1&\\alpha\\\\ax_2^2+bx_2=y_2&\\beta\\end{cases}$$  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u5c06$\\beta\\times \\frac {x_1^2} {x_2^2}$\u5f97\u5230\uff1a  \n$$ax_1^2+\\frac{bx_1^2}{x_2}=\\frac{y_2x_1^2}{x_2^2}\\ \\ \\ \\ \\ \\gamma$$  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$\\alpha-\\gamma$\u5f97\u5230\uff1a  \n$$\\frac{x_1x_2-x_1^2}{x_2}b=\\frac{y_1x_2^2-y_2x_1^2}{x_2^2}$$  \n$$\\Rightarrow b=\\frac{y_1x_2^2-y_2x_1^2}{x_1x_2(x_2-x_1)}$$  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u7531$\\alpha$\u53ef\u4ee5\u5f97\u5230\uff1a  \n$$a=\\frac{y_1-bx_1}{x_1^2}$$  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u4e8e\u662f\u5c31\u53ef\u4ee5\u5148\u7b97\u5f97$b$\u518d\u7b97\u5f97$a$\uff08\u4e24\u53ea\u732a\u7684\u6a2a\u5750\u6807\u76f8\u7b49\u7684\u65f6\u5019\u8981\u8df3\u8fc7\uff09\u3002\u4e4b\u540e\u679a\u4e3e\u732a\uff0c\u770b\u54ea\u4e9b\u732a\u5728\u8fd9\u6761\u629b\u7269\u7ebf\u4e0a\u9762\uff0c\u7528\u4e00\u4e2a\u6570\u5b58\u4e0b\u8fd9\u4e2a\u96c6\u5408\u3002\u5904\u7406\u51fa\u6765\u7684\u8fd9\u4e00\u5927\u5806\u96c6\u5408\u5c31\u7528\u4e8e\u5728\u4e4b\u540e$DP$\u7684\u65f6\u5019\u8f85\u52a9\u8f6c\u79fb\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u662f$O(n^3+2^nn^2)$\uff0c\u6bd4\u641c\u7d22\u6162~~\u592a\u591a\u4e86~~\u3002  \n# \u4ee3\u7801\n```cpp\n#include <cstdio>\n#include <algorithm>\n\nconst double eps = 1e-10;\nconst int INF = 0x3f3f3f3f;\nconst int MAXN = 25, MAXSIZ = ( 1 << 18 ) + 5;\n\ntemplate<typename _T>\nvoid read( _T &x )\n{\n\tx = 0;char s = getchar();int f = 1;\n\twhile( s > '9' || s < '0' ){if( s == '-' ) f = -1; s = getchar();}\n\twhile( s >= '0' && s <= '9' ){x = ( x << 3 ) + ( x << 1 ) + ( s - '0' ), s = getchar();}\n\tx *= f;\n}\n\ntemplate<typename _T>\nvoid write( _T x )\n{\n\tif( x < 0 ){ putchar( '-' ); x = ( ~ x ) + 1; }\n\tif( 9 < x ){ write( x / 10 ); }\n\tputchar( x % 10 + '0' );\n}\n\ntemplate<typename _T>\n_T ABS( const _T a ) \n{\n\treturn a < 0 ? -a : a;\n}\n\ntemplate<typename _T>\n_T MIN( const _T a, const _T b )\n{\n\treturn a < b ? a : b;\n}\n\ndouble x[MAXN], y[MAXN];\nint DP[MAXSIZ];\nint state[MAXN][MAXN];\nint N, M;\n\nbool equal( const double x, const double y = 0 ) { return ABS( x - y ) <= eps; }\n\nint cmp( const int &a, const int &b ) { return x[a] < x[b]; }\n\ndouble f( const double a, const double b, const double x )\n{\n\treturn a * x * x + b * x;\n}\n\nbool onFunc( const int indx, const double a, const double b )\n{\n\treturn equal( y[indx], f( a, b, x[indx] ) );\n}\n\nint main()\n{\n\tint T;\n\tread( T );\n\twhile( T -- )\n\t{\n\t\tread( N ), read( M );\n\t\tfor( int i = 1 ; i <= N ; i ++ )\n\t\t\tscanf( \"%lf %lf\", &x[i], &y[i] );\n\t\tfor( int i = 1 ; i <= N ; i ++ )\n\t\t\tfor( int j = i + 1 ; j <= N ; j ++ )\n\t\t\t{\n\t\t\t\tstate[i][j] = state[j][i] = 0;\n\t\t\t\tif( equal( x[i], x[j] ) ) continue;\n\t\t\t\tdouble b = ( y[i] * x[j] * x[j] - y[j] * x[i] * x[i] ) / ( x[i] * x[j] * ( x[j] - x[i] ) ),\n\t\t\t\t\t   a = ( y[i] - b * x[i] ) / ( x[i] * x[i] );\n\t\t\t\tif( a > eps || equal( a ) ) continue;\n\t\t\t\t//a>=0\u7684\u51fd\u6570\u8981\u629b\u5f03\u6389\n                for( int k = 1 ; k <= N ; k ++ )\n\t\t\t\t\tif( onFunc( k, a, b ) ) \n\t\t\t\t\t\tstate[i][j] |= 1 << k - 1, state[j][i] |= 1 << k - 1;\n\t\t\t}\n\t\tint upper = 1 << N;\n\t\tfor( int S = 0 ; S < upper ; S ++ ) DP[S] = INF;\n\t\tDP[0] = 0;\n\t\tfor( int i = 1 ; i <= N ; i ++ ) DP[1 << i - 1] = 1;\n\t\tint pre;\n\t\tfor( int S = 1 ; S < upper ; S ++ )\n\t\t\tif( DP[S] == INF )\n\t\t\t\tfor( int i = 1 ; i <= N ; i ++ )\n\t\t\t\t\tif( S & ( 1 << i - 1 ) )\n\t\t\t\t\t{\n\t\t\t\t\t\tDP[S] = MIN( DP[S], DP[S ^ ( 1 << i - 1 )] + 1 );\n\t\t\t\t\t\tfor( int j = i + 1 ; j <= N ; j ++ )\n\t\t\t\t\t\t\tif( S & ( 1 << j - 1 ) )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpre = S & ( ~ state[i][j] );\n                                //\u7531\u4e8e\u5f53\u524d\u7684\u51fd\u6570\u662f\u9760i\u548cj\u786e\u5b9a\u7684\uff0c\u6240\u4ee5\u8fd9\u4e24\u53ea\u732a\u4e00\u5b9a\u8981\u88ab\u6253\u6389\uff1b\u5176\u5b83\u7684\u88ab\u987a\u4fbf\u6253\u6389\u7684\u732a\u5728\u4e0d\u5728\u96c6\u5408\u91cc\u9762\u5b9e\u9645\u4e0a\u95ee\u9898\u4e0d\u5927\n\t\t\t\t\t\t\t\tDP[S] = MIN( DP[S], DP[pre] + 1 );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\twrite( DP[upper - 1] ), putchar( '\\n' );\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1573292156,
        "uid": 123809,
        "name": "crashed",
        "ccfLevel": 0,
        "title": "[NOIP2016]\u6124\u6012\u7684\u5c0f\u9e1f"
    },
    {
        "content": "### \u6076\u5fc3\u7684\u72b6\u538b\uff0c\u4e2a\u4eba\u8ba4\u4e3a\u53ef\u4ee5\u662f\u7d2b\u9898\n\n\u81ea\u5df1\u5c3180......\u4f18\u5316\u770bAThousandSuns\u7b2c\u4e00\u7bc7\u9898\u89e3\u624dAC...\n\n\u5bf9dalao\u7684\u601d\u8def\u505a\u4e00\u4e9b\u6ce8\u91ca\u5427\n\nn<=18\uff0c\u8003\u8651\u72b6\u538b\n\n\u5b9a\u4e49dp[ s ]\u4e3a\u5df2\u51fb\u6740s\u7684\u4e8c\u8fdb\u5236\u8868\u793a\u4e2d\u4e3a1\u7684\u732a\u7684\u6700\u5c11\u6b21\u6570\n\n\u56e0\u4e3a\u6211\u4eec\u4e0d\u77e5\u9053\u4e00\u6761\u629b\u7269\u7ebf\u53ef\u4ee5\u6253\u51e0\u53ea\u732a\uff0c\n\n\u90a3\u4e48\u5b9a\u4e49pb(parabola) [ i ][ j ]\u4e3a\u7ecf\u8fc7i,j\u4e24\u70b9\u7684\u629b\u7269\u7ebf\u53ef\u4ee5\u51fb\u6740\u7684\u732a\n\n\u5f88\u663e\u7136\u6709dp[ s | pb[ i ][ j ] ] = min( dp[ s ] + 1 );\n\ndp[ s | ( 1<<i ) ] = min ( dp[ s ] + 1 )\u53ea\u6709\u4e00\u4e2a\u70b9\uff0c\u65e0\u6cd5\u56fa\u5b9a\u629b\u7269\u7ebf\u6709\u5fc5\u8981\u8f6c\u79fb\u5417\uff1f\n\n\u663e\u7136\u662f\u6709\u7684......\n\n\u6bd4\u5982\uff1a1 2 3 4 5 6\n\n\u7ecf\u629b\u7269\u7ebf\u8ba1\u7b97\u53ef\u4ee5\u5f97\u5230\uff0c\uff08 1 , 2 , 3 , 4 )\u53ef\u4ee5\u4e00\u8d77\u6253\n\n\u5982\u679c\u4f60\u4e0d\u8003\u8651\u5355\u72ec\u76845\u8f6c\u79fb\u7684\u8bdd\u8dd1\u4e0d\u51fa\u6765\n\n\u6240\u4ee5\u6709\u4e86O( Tn\u00b22^n )\u5b9e\u6d4b80\u5206\u7684\u4ee3\u7801\n\n\u8003\u8651\u4f18\u5316\n\n### \u4f18\u53161\uff1a\n\n\u53d1\u73b0\u5f53 i\u2208S \u6216\u8005 j\u2208S \u65f6\u6ca1\u6709\u5fc5\u8981\u8f6c\u79fb\n\n\u56e0\u4e3a\u5982\u679c\u628ai\u5f53\u505a\u5355\u70b9\u8f6c\u79fb\u7684\u8bdd\uff0c\u5df2\u7ecf\u8f6c\u79fb\u8fc7\u4e86...\uff08\u5e9f\u8bdd\uff09\n\n\u5426\u5219\u6b63\u5e38\u7ecf\u8fc7i\u70b9\u7684\u629b\u7269\u7ebf\u81f3\u5c11\u4f1a\u518d\u7ecf\u8fc7\u4e00\u4e2a\u70b9\n\n\u56e0\u4e3a\u4e24\u70b9+\uff080,0\uff09\u786e\u5b9a\u629b\u7269\u7ebf\n\n\u90a3\u4e48\u6211\u4eec\u81ea\u7136\u53ef\u4ee5\u5728\u679a\u4e3e\u53e6\u4e00\u4e2a\u70b9\u65f6\u679a\u4e3e\u5230\u8fd9\u6761\u629b\u7269\u7ebf\n\n\u8fd9\u70b9\u5e38\u6570\u7ea7\u4f18\u5316+O2\u4f3c\u4e4e\u5c31\u53ef\u4ee5\u8fc7\u4e86......\n\n\u4f46\u662f\u8003\u573a\u4e0a\u8fd9\u4e2a\u80af\u5b9a\u662f\u5f97\u4e0d\u4e86\u6ee1\u5206\u5566~~~\n\n### \u4f18\u53162\uff1a\n\n\u6211\u4eec\u5728\u4f18\u53161\u4e2d\u76f8\u5f53\u4e8e\u679a\u4e3eS\u7684\u8865\u96c6\n\n\u800c\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u8003\u8651\uff0c\u53ea\u8f6c\u79fb\u7b2c\u4e00\u4e2a\u672a\u8f6c\u79fb\u7684\u732a\n\n\u5373\u8f6c\u79fb x \u4e3a\u6ee1\u8db3S&(1<<(x\u22121))=0 \u7684\u6700\u5c0f\u6b63\u6574\u6570\uff08\u548clowbit\u76f8\u4f3c\uff09\n\n\u4e3a\u4ec0\u4e48\u6b63\u786e\uff1f\u56e0\u4e3a x \u80af\u5b9a\u8981\u8f6c\u79fb\uff0c\u800c\u8f6c\u79fbx\u7684\u72b6\u6001\u6211\u4eec\u90fd\u679a\u4e3e\u4e86\n\n\u4ec0\u4e48\u610f\u601d\u5462\uff1f\u6bd4\u5982\u6211\u4eec\u67091,2,3,4\uff0c\uff081,2\uff09\u53ef\u4ee5\u4e00\u8d77\u6253\uff0c\uff083,4\uff09\u53ef\u4ee5\u4e00\u8d77\u6253\n\n\u66b4\u529b\u8f6c\u79fb\u7684\u8bdd\u67091 2 \uff0c3 4 \uff0c1 4 \uff0c1 3\n\n\u6211\u4eec\u62531\u7684\u8bdd\uff0c\u662f\u4e0d\u662f\u80af\u5b9a\u75311 2 , 1 4 , 1 3\n\u8f6c\u79fb\u6765\uff1f\n\n\u628a\u8fd9\u4e09\u79cd\u72b6\u6001\u8f6c\u79fb\u4e4b\u540e\uff0c\u5269\u4e0b\u7684\u662f\u4e0d\u662f\u80af\u5b9a\u5bf9\u6700\u4f18\u89e3\u65e0\u5f71\u54cd\uff1f\n\n\u4e00\u53e5\u8bdd\uff1a\u53ea\u4fdd\u7559\u6700\u4f18\u89e3\u7684\u6240\u6709\u65b9\u6848\u4e2d\u7684\u4e00\u79cd\uff0c\u6240\u6709\u8f6c\u79fb\u90fd\u5411\u5b83\u770b\u9f50\n\n\u8fd9\u5c31\u662f\u5c06O( Tn\u00b22^n )\u6210\u529f\u5316\u6210O( Tn2^n )\uff0c20msAC\n\n\u5728\u8fd9\u91cc\u8c08\u4e00\u8c08\u8fd9\u79cd\u8f6c\u79fb\uff0c\u4e0d\u60f3\u770b\u7684\u8df3\u8fc7\uff1a[\u4e00\u4e9b\u5173\u4e8e\u72b6\u538bDP\u6d45\u8c08](https://www.luogu.org/blog/sshaibyf/yi-suo-guan-yu-zhuang-ya-dp-qian-tan)\n\n\u4ee3\u7801\u5b9e\u73b0\u7684\u8bdd\u6709\u7740\u6709\u8fd9\u6837\u51e0\u4e2a\u6076\u5fc3\u7684\u5730\u65b9\uff1a\n\n\u4e00\uff1apb\u7684\u9884\u5904\u7406\n\n\u8fd9\u4e2a\u5361\u7cbe\u5ea6\u5440\uff01\uff01\uff01\n\n1.\u63a8\u5f0f\u5b50\u6c42\u629b\u7269\u7ebf\u7684a,b\uff08\u521d\u4e09\u4ee5\u4e0a\u8df3\u8fc7\uff09\uff1a\n\n\u4e24\u70b9\u5750\u6807\uff08x1,y1\uff09,( x2,y2 )\n\n{a*x1^2+b*x1=y1\u2460\n\n{a*x2^2+b*x2=y2\u2461\n\n\u2461\u5f0f\u5b50\u540c\u4e58x1^2/x2^2\n\n\u5f97\u5230a*x1^2+b*x1^2/x2=y2*x1^2/x2^2\u2462\n\n\u2460-\u2461\u7cfb\u6570\u5316\u4e3a1\u5c31\u5f97\u5230\u4e86b\n\n\u5c06b\u5e26\u5165\u2460\u6216\u2461\u5c31\u5f97\u5230\u4e86a\n\n\u6709\uff1a\n\n```cpp\nvoid ask(double &a,double &b,double x1,double y1,double x2,double y2){\n\tdouble s=x1*x2*(x2-x1);\n\ta=(x1*y2-x2*y1)/s;\n\tb=(x2*x2*y1-x1*x1*y2)/s;\n}\n```\n\n2.n\u00b2\u5224\u70b9\u662f\u4e0d\u662f\u5728\u629b\u7269\u7ebf\u4e0a\n\n\u56e0\u4e3a\u662f\u6d6e\u70b9\u6570\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u7cbe\u5ea6\u53ea\u6709\u5f97\u5230\u7684\u7ed3\u679c\u548cy\u76f8\u5dee\u5c0f\u4e8e\u4e00\u4e2a\u503c\u5c31\u884c\n\n\u800c\u53d6eps\u662f\u5728\u51fd\u6570\u7a0b\u5e8f\u4e2d\u4e8b\u5148\u8bf4\u660e\u7684\u5e38\u91cf\uff0c\n\n\u9ed8\u8ba4\u7684eps = 2^(-52)\uff0c\u662f\u63a7\u5236\u8fed\u4ee3\u7cbe\u5ea6\u7684\uff0c\u76f8\u5f53\u4e8e\u5fae\u79ef\u5206\u91cc\u9762\u7684\u65e0\u9650\u5c0f\u503c\u3002\n\n\u6211\u4eec\u8fd9\u91cc\u53d61e-8\u5c31\u53ef\u4ee5\uff0810\u7684-8\u6b21\u5e42=0.000000001\uff09\n\n\u4e8c\uff1a\u53d6x\u7684\u6700\u4f4e\u4f4d0\u6240\u8868\u793a\u7684\u6570\n\n\u8fd9\u6709\u4e09\u79cd\u65b9\u5f0f...\u4e00\u79cd\u662f\u5148\u9884\u5904\u7406\uff0cn\u00b2\u53ef\u4ee5\n\n\u7b2c\u4e8c\u79cd\u662f\u5229\u7528__builtin_ffs(~x)\u8fd9\u4e2a\u4e1c\u897f\u5728\u5faa\u73af\u65f6\u76f4\u63a5\u7528log(log(n))\n\n\u7b2c\u4e09\u79cd\u662f\u6211\u4eec\u673a\u623fdalao--[nederland](https://www.luogu.org/space/show?uid=90893)(Who AK WC...NOI...IOI...\u9ad8\u8003!!!)\u7ed9\u51fa\u7684\u601d\u8def\n\n\u60f3\u4e86\u89e3\u66f4\u591a\u70b9\u8fd9\u91cc-->[\u4f4d\u8fd0\u7b97](https://www.cnblogs.com/smallhester/p/10394328.html)\n\nj=log2((((x+1)^(x))+1)>>1)\uff0c\u8fd9\u5728\u4e0a\u9762\u7684\u94fe\u63a5\u4e2d\u6709\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\nusing namespace std;\nconst double eps=1e-8;\nconst int maxn=20;\nint dp[(1<<19)],lowbit[1<<19],n,t,pb[maxn][maxn],m;\ndouble x[maxn],y[maxn],a,b;\nvoid ask(double &a,double &b,double x1,double y1,double x2,double y2){\n\tdouble s=x1*x2*(x2-x1);\n\ta=(x1*y2-x2*y1)/s;\n\tb=(x2*x2*y1-x1*x1*y2)/s;\n}\ndouble fx(double xx){\n\treturn a*xx*xx+b*xx;\n}\nbool check(double fx1,double fx2){\n\tif(fabs(fx1-fx2)<eps) return true;\n\telse return false;\n}\nint main(){\n\tscanf(\"%d\",&t);\n\twhile(t--){\n\t\tmemset(pb,0,sizeof(pb)); \n\t\tmemset(dp,0x3f3f,sizeof(dp));\n\t\tdp[0]=0;\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tfor(int i=0;i<n;i++)\n\t\t\tscanf(\"%lf%lf\",&x[i],&y[i]);\n\t\tfor(int i=0;i<n;i++){\n\t\t\tfor(int j=0;j<n;j++){\n\t\t\t\tif(check(x[i],x[j])) continue;\n\t\t\t\task(a,b,x[i],y[i],x[j],y[j]);\n\t\t\t\tif(a>=0) continue;\n\t\t\t\tfor(int k=0;k<n;k++)\n\t\t\t\t\tif(check(fx(x[k]),y[k]))\n\t\t\t\t\t\tpb[i][j]|=1<<k;\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<=(1<<n)-1;i++){\n\t\t\tint j=log2((((i+1)^(i))+1)>>1);\n            dp[i|(1<<j)]=min(dp[i|(1<<j)],dp[i]+1); \n            for(int k=0;k<n;k++) \n\t\t\t\tdp[i|pb[j][k]]=min(dp[i|pb[j][k]],dp[i]+1);\n\t\t}\n        printf(\"%d\\n\",dp[(1<<n)-1]);\n\t}\n\treturn 0;\n}\n```\n\n## \u795d\u5927\u5bb6CSP NOI XXXOI RP++! ! !\n",
        "postTime": 1572429374,
        "uid": 221615,
        "name": "S_S_H",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "## \u514d\u8d23\u58f0\u660e\uff0c\u4e2a\u4eba\u89c1\u89e3\u52a0\u501f\u9274dalao\uff0c\u6709\u9519\u79c1\u4fe1\uff0c\u4e0d\u559c\u52ff\u55b7\n\n\u554a\u00b7\u00b7\u00b7\u00b7\u72b6\u538b\u597d\u9898\u554a\uff0c\u849f\u84bb\u4e0d\u662f\u7206\u641c\u6d41\u6d3e\uff0c\u90a3\u5c31\u4e0d\u6401\u7740\u513f\u778e\u51e0\u628a\u641c\u4e86\uff0c\u6211\u4eec\u72b6\u538b\u3002\n\n\u5176\u5b9e\u8fd9\u4e2a\u601d\u8def\u8fd8\u662f\u6bd4\u8f83\u660e\u663e\u7684\u3002\n\n**\u8bbe$dp_{state}$\u4e3a\u5e72\u6389\u72b6\u6001$state$\u7684\u732a\u9700\u8981\u7684\u6700\u5c0f\u4ee3\u4ef7,$lines_{i,j}$\u4e3a\u8fc7$i,j$\u70b9\u7684\u629b\u7269\u7ebf\u53ef\u4ee5\u6253\u6389\u7684\u732a\u96c6**\n\n**\u8f6c\u79fb\u65b9\u7a0b\u5c31\u662f$dp[s|lines[i,j]] = min(dp[s|lines[i,j]],dp[s]+1)$**\n\n\u4f46\u662f\u6211\u4eec\u53cd\u624b~~\u4e00\u4e2a\u8d85\u7ea7\u52a0\u500d~~\u5206\u6790\u4e00\u4e0b\u590d\u6742\u5ea6\u53d1\u73b0\u4e0d\u592a\u5bf9\uff0c$O(Tn^22^n)$\u3002\n\n\u6211\u4eec\u60f3\u4e00\u4e0b\u8fd8\u6709\u4ec0\u4e48\u4f18\u5316\u7684\u4f59\u5730\u5462\uff0c\u6211\u4eec\u53d1\u73b0\u4e00\u652f\u629b\u7269\u7ebf\u4e0a\u7684\u70b9\u6211\u4eec\u662f\u53ef\u80fd\u679a\u4e3e\u91cd\u590d\u7684\u3002\n\n**\u5982\u679c\u6211\u4eec\u679a\u4e3e\u7684$i,j$\u90fd\u5df2\u7ecf\u5149\u8363\u727a\u7272\u4e86\uff0c\u6211\u4eec\u662f\u6ca1\u6709\u5fc5\u8981\u53bb\u679a\u4e3e\u5b83\u7684\u3002**\n\n***\u8bc1\u660e\uff1a\u6211\u4eec\u7684$lines_{i,j}$\u96c6\u5408\u5e72\u6b7b\u4e86\u81f3\u591a3\u4e2a\u732a\uff0c\u90a3\u6211\u4eec\u53ef\u4ee5\u53bb\u679a\u4e3e\u54ea\u4e2a\u6ca1\u5728$s$\u4e2d\u7684\u70b9\uff0c\u5982\u679c\u5b83\u5e72\u6389\u4e86\u5927\u4e8e3\u4e2a\uff0c\u90a3\u6211\u4eec\u5927\u53ef\u53bb\u679a\u4e3e\u4e0d\u518d$s$\u4e2d\u7684\u70b9***\n\n**\u6700\u7ec8\u6211\u4eec\u80fd\u5f97\u5230\u6211\u4eec\u679a\u4e3e$i,j$\u90fd\u5728$s$\u4e2d\u662f\u5bf9$Ans$\u6ca1\u6709\u8d21\u732e\u7684**\n\n\u4e4b\u540e\u6211\u4eec\u501f\u9274\u4e86\u8d5e\u6570\u7b2c\u4e00\u7684\u795e\u4ed9\uff0c\u53d1\u73b0\u4e86\u679a\u4e3e\u987a\u5e8f\u8fd9\u4e2a\u95ee\u9898\u3002\n\n\u4ee5\u849f\u84bb\u8584\u89c1\u4e00\u822c\u5728\u72b6\u538bdp\u4e2d\u6211\u4eec\u662f\u4e0d\u592a\u4f1a\u5bf9\u8fd9\u4e2a\u679a\u4e3e\u91cd\u590d\u4e0b\u624b\u7684\uff0c\u4f46\u5bf9\u4e8e\u8fd9\u9053\u9898\uff0c\u6211\u4eec\u662f\u53ef\u4ee5\u901a\u8fc7\u901a\u8fc7\u62c6\u5206\u679a\u4e3e\uff0c\u6765\u8fdb\u884c\u4f18\u5316\u7684\u3002\n\n\n```code\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <algorithm>\nusing namespace std;\nint read(){\n\tint w=1,x=0,ch=getchar();\n\tfor(;ch<'0'||ch>'9';ch=getchar())if(ch=='-')w=-1;\n\tfor(;ch>='0'&&ch<='9';ch=getchar())x=x*10+ch-'0';\n\treturn x*w;\n}\nconst int MAXN = 20;\nconst double eps = 1e-8;\nint T,n,m,sta[1<<MAXN],tt[MAXN][MAXN],dp[1<<MAXN];\ndouble x[MAXN],y[MAXN];\nvoid Solve(double &a,double &b,double A,double B,double C,double AA,double BB,double CC){\n\ta = (C*BB-CC*B)/(A*BB-AA*B);\n\tb = (C-A*a)/B;\n}\nint main(){\n\tT = read();\n\twhile(T--){\n\t\tn = read(),m = read();\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%lf %lf\",&x[i],&y[i]);\n\t\t}\n\t\tint state = (1<<n)-1;\n\t\tfor(int i=0;i<=state;i++){\n\t\t\tint j = 0;\n\t\t\tfor(;j<n&&(i&(1<<j));j++);\n\t\t\tsta[i] = j+1;\n\t\t}\n\t\tmemset(tt,0,sizeof(tt));\n\t\tfor(int i=1;i<=n;i++)\t\n\t\t\tfor(int j=1;j<=n;j++){\n\t\t\t\tif(fabs(x[i]-x[j])<eps)continue;\n\t\t\t\tdouble a,b;\n\t\t\t\tSolve(a,b,x[i]*x[i],x[i],y[i],x[j]*x[j],x[j],y[j]);\n\t\t\t\tif(a>-eps)continue;\n\t\t\t\tfor(int k=1;k<=n;k++){\n\t\t\t\t\tif(fabs(y[k]-x[k]*x[k]*a-x[k]*b)<eps)\n\t\t\t\t\ttt[i][j] |= (1<<(k-1));\n\t\t\t\t}\n\t\t\t}\n\t\tmemset(dp,0x3f,sizeof(dp));\n\t\tdp[0] = 0;\n\t\tfor(int i=0;i<=state;i++){\n\t\t\tint j = sta[i];\n\t\t\tdp[i|(1<<(j-1))] = min(dp[i|(1<<(j-1))],dp[i]+1);\n\t\t\tfor(int k=j+1;k<=n;k++){\n\t\t\t\tdp[i|tt[j][k]] = min(dp[i|tt[j][k]],dp[i]+1);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",dp[state]);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1569230988,
        "uid": 165030,
        "name": "Sweetie_Liu",
        "ccfLevel": 6,
        "title": "P2831 \u6124\u6012\u7684\u5c0f\u9e1f"
    },
    {
        "content": "# P2831 \u6124\u6012\u7684\u5c0f\u9e1f\n\n\n------------\n\n\n\u9898\u610f:\u7ed9\u5b9a\u4e00\u7fa4\u732a\u7684\u5750\u6807\uff0c\u95ee\u81f3\u5c11\u7528\u51e0\u6761\u629b\u7269\u7ebf\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u732a\u7684\u5750\u6807\u70b9\u5168\u90e8\u7ecf\u8fc7(\u629b\u7269\u7ebf\u4ee5ax^2+bx,a<0\u7684\u5f62\u5f0f\u5448\u73b0)\n\n\n------------\n### 1.\u7384\u5b66\u641c\u7d22\n\n\n------------\n\u66b4\u529b\u679a\u4e3e\u6bcf\u53ea\u732a\u4e0e\u54ea\u4e00\u5934\u732a\u7ec4\u6210\u4e00\u6761\u629b\u7269\u7ebf,dfs\u3002\n\u7136\u540e......~~\u7384\u5b66\u526a\u679d~~,\u5728\u8fd9\u91cc\u5c31\u4e0d\u591a\u8bf4\u4e86(~~\u5176\u5b9e\u662f\u56e0\u4e3a\u6211\u4e5f\u4e0d\u4f1a......QwQ~~)\n\n\n------------\n### 2.\u72b6\u538bDP(\u201c~~\u771f\u6b63\u7684~~\u201d\u6b63\u89e3)\n#### - 85pts:O(Tn^2*2^n)\n\nf[s]\u8868\u793a\u5df2\u7ecf\u6b7b\u4e86\u7684\u732a\u7684\u96c6\u5408\u72b6\u6001\u4e3aS\u65f6\u6700\u5c11\u8981\u53d1\u5c04\u7684\u9e1f\u6570\u3002\n\n\u660e\u663e\u6709\n- dp[0]:=0\n- dp[s or line[i][j]]:=min(f[s]+1,f[s or line[i[j]])\n- dp[s or 1 shl (i-1)]=min(dp[s]+1,dp[s or (1 shl (i\u22121)])\n\n\u5176\u4e2d line[i][j]\u8868\u793a\u7ecf\u8fc7i,j\u4e24\u70b9\u7684\u629b\u7269\u7ebf\u80fd\u7ecf\u8fc7\u7684\u6240\u6709\u70b9\u7684\u96c6\u5408\u3002\n\u8fd9\u5c31\u662f\u7f51\u4e0a\u5927\u591a\u6d41\u4f20\u7684O(Tn^2*2^n),\u5b9e\u6d4b85\u5206(~~\u5f53\u7136\u5f00O2\u5c31\u80fd\u8fc7~~)\n\n\n------------\n#### - 100pts:O(Tn2^n)\n\u5ef6\u7eed85\u5206\u7684\u4f5c\u6cd5,\u5728\u4e4b\u57fa\u7840\u4e0a\u518d\u8fdb\u884c\u6539\u8fdb\n\n\n------------\n- \u5bf9\u4e8e\u72b6\u6001S,\u8bbex\u4e3a(S and (1 shl (x-1)))=0\u7684\u6700\u5c0f\u6574\u6570\u3002\n  \u6bcf\u6b21\u5728S\u7684\u57fa\u7840\u4e0a\u62d3\u5c55\u80fd\u6253\u4e0bx\u7684\u629b\u7269\u7ebf\u3002\n- \u8bc1\u660e\uff1a\u5047\u8bbex=3,\u90a3\u4f60\u4e0d\u6253\u7b2c3\u4e2a\u800c\u53bb\u6253\u7b2c4\u4e2a,\u90a3\u4e4b\u540e\u7684\u8f6c\u79fb\u8fd8\u4f1a\u53bb\u6253\u7b2c3\u4e2a,\u5b58\u5728\u591a\u4f59\u7684\u8f6c\u79fb,\u6240\u4ee5\u5148\u6253\u6700\u5c0f\u7684\u3002\n\n#### \u6700\u540e,\u4e0a\u4ee3\u7801\n```pascal\nvar i,j,k,n,m,t:longint; a,b,a1,b1,c1,d1,m1,n1,eps:double;\n    f,lowbit:array[0..270000] of longint; x,y:array[0..405] of double;\n    line:array[0..25,0..25] of longint;\nfunction min(x,y:longint):longint;\nbegin\n  if x<y then exit(x);\n  exit(y);\nend;\nbegin\n  readln(t);\n  for i:=0 to (1 shl 18)-1 do\n  begin\n    j:=1;\n    while (j<=18) and ((i and (1 shl (j-1)))<>0) do inc(j);\n    lowbit[i]:=j;\n  end;//\u9884\u5904\u7406\u5bf9\u4e8e\u6bcf\u4e2a\u72b6\u6001S\u7684\u6700\u5c0fx\n  while t>0 do\n  begin\n    dec(t); eps:=1e-8;//\u9632\u6b62\u7cbe\u5ea6\u8bef\u5dee\u9020\u6210\u629b\u7269\u7ebf\u4e0d\u540c\n    readln(n,m);\n    for i:=1 to (1 shl n)-1 do f[i]:=n+1;\n    fillchar(line,sizeof(line),0);\n    for i:=1 to n do readln(x[i],y[i]);\n    for i:=1 to n do\n      for j:=1 to n do\n      begin\n        if abs(x[i]-x[j])<eps then continue;\n        a1:=x[i]*x[i]; c1:=x[j]*x[j];\n        b1:=x[i]; d1:=x[j];\n        m1:=y[i]; n1:=y[j];\n        b:=(a1*n1-c1*m1)/(a1*d1-b1*c1);\n        a:=(m1-b1*b)/a1;//\u8ba1\u7b97\u6253\u6389i,j\u4e24\u70b9\u7684\u629b\u7269\u7ebf\u7684a\u548cb\n        if a>-eps then continue;\n        for k:=1 to n do\n        if (abs(a*x[k]*x[k]+b*x[k]-y[k])<eps) then line[i,j]:=line[i,j] or (1 shl (k-1));\n      end;\n    for i:=0 to (1 shl n)-1 do\n    begin\n      j:=lowbit[i];\n      f[i or (1 shl (j-1))]:=min(f[i or (1 shl (j-1))],f[i]+1);//\u76f4\u63a5\u8f6c\u79fb\n      for k:=1 to n do\n      f[i or line[j][k]]:=min(f[i or line[j][k]],f[i]+1);//\u629b\u7269\u7ebf\u8f6c\u79fb\n    end;\n    writeln(f[(1 shl n)-1]);\n  end;\nend.\n\n```\n\n\n\n",
        "postTime": 1565617465,
        "uid": 45199,
        "name": "_TLJYatm_",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u4e3b\u8981\u8bb2\u4e00\u8bb2\u7528\u4f4d\u8fd0\u7b97\u5b9e\u73b0\u72b6\u538bDP\u3002\n\u5047\u8bbe\u5f53\u524d\u6b63\u5728\u8ba1\u7b97$f_i$\uff0c\u628a\u5b83\u8868\u793a\u6210\u4e8c\u8fdb\u5236\u540e\uff0c\u5982100101\uff0c\u6700\u53f3\u8fb9\u4e00\u4e2a1\u6240\u5728\u4f4d\uff08\u5373$x=\\log_2(lowbit(i))+1=\\frac{\\lg(lowbit(i))}{\\lg2}+1$\uff0c\u6216\u5199\u4e3a$\\frac{\\ln(lowbit(i))}{\\ln2}+1$\uff09\u5c31\u8868\u793a\u5269\u4f59\u7f16\u53f7\u6700\u5c0f\u7684\u732a\u3002\u4e00\u6b21\u53ea\u6253\u6389\u5b83\u4e00\u4e2a\uff1a$f_i=f_{i-lowbit(i)}+1$\u3002\u6216\u904d\u5386\u540c\u65f6\u6253\u6389\u7684\u53e6\u4e00\u53ea\uff08\u8bbe\u4e3a$j$\uff0c\u540c\u65f6\u6253\u4e2d$i,j$\u7684\u8f68\u8ff9\u6253\u4e2d\u5168\u90e8\u7684\u732a\u72b6\u538b\u540e\u4e3a$atime_{(i,j)}$\uff09\uff0c\u5219\u5bf9$atime(i,j),i$\u7684\u6bcf\u4e00\u4e2a\u76f8\u540c\u4f4d\uff0c\u6709$i_a\\oplus {atime_{(i,j)}}_a=\\begin{cases}1\\quad(i_a=1,atime_{(i,j)}=0)\\\\0\\quad(\\text{other cases})\\end{cases}$ \n\n\u901a\u8fc7\u89c2\u5bdf\uff0c\u6211\u4eec\u53d1\u73b0\uff1a$i_a\\&($~$ {atime_{(i,j)}}_a)=\\begin{cases}1\\quad(i_a=1,atime_{(i,j)}=0)\\\\0\\quad(\\text{other cases})\\end{cases}$\n\n\u6216\u8005\uff1a~$($~$i_a| {atime_{(i,j)}}_a)=\\begin{cases}1\\quad(i_a=1,atime_{(i,j)}=0)\\\\0\\quad(\\text{other cases})\\end{cases}$\n\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u8ba1\u7b97\u4e86\u3002\n\n~~\u90e8\u5206~~\u4ee3\u7801\uff1a\n\n```cpp\n#define lg2 0.30103\n//\u6216#define ln2 0.693147\nf[0] = 0;\nfor (int i = 1; i < 1<<n; i++) {\n\tint p = round(log10(i&-i)/lg2) + 1;\n\t//\u6216int p = round(log(i&-i)/ln2) + 1;\n\t//round\u662f\u9632\u6b62\u7cbe\u5ea6\u51fa\u95ee\u9898\n\tbool find = 0;\n\tf[i] = f[i-(i&-i)] + 1;\n\tfor (int j = p + 1; j <= n; j++)\n\t\tif (atime[p][j]) f[i] = min(f[i], f[i&(~atime[p][j])]+1);\n\t\t//\u6216f[~((~i)|atime[p])]\n```",
        "postTime": 1555916352,
        "uid": 61068,
        "name": "01190220csl",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u8981\u70b9\uff1a\u6570\u5b66\u516c\u5f0f\u63a8\u5bfc\u65b9\u7a0b\uff01\uff01\uff01 \u72b6\u6001\u538b\u7f29\uff01\uff01\uff01\n\n\u5faa\u73af\u53d8\u91cf\u4e0d\u80fd\u641e\u9519\uff01\uff01\uff01\u4ed4\u7ec6\uff01\uff01\uff01\n\n\u5207\u8bb0\uff1a\u6bcf\u6b21\u6570\u7ec4\u8d4b\u503c\u4e3a\u96f6\uff01\uff01\uff01\uff01\uff01\u975e\u5e38\u91cd\u8981\uff01\uff01\uff01\n\n```cpp\n#include<bits/stdc++.h>\n#define maxn 20\nusing namespace std;\nint dp[(1<<18)+10],n,m,t;\ndouble x[maxn],y[maxn],aa[maxn][maxn],bb[maxn][maxn];\nint xm[maxn][maxn];\n\nint main(){\n    cin>>t;\n    for(int ii=1;ii<=t;ii++){\n        memset(dp,0,sizeof(dp));\n        memset(x,0,sizeof(x));\n        memset(y,0,sizeof(y));\n        memset(xm,0,sizeof(xm));\n        cin>>n>>m;\n        for(int i=1;i<=n;i++){\n            cin>>x[i]>>y[i];\n        }\n        for(int i=1;i<=n-1;i++)\n         for(int j=i+1;j<=n;j++){\n            double x1=x[i],x2=x[j],y1=y[i],y2=y[j];\n            double a=((y1*x2)-(y2*x1))*1.0/(x1*(x1*x2-x2*x2));\n            double b=(y1-a*x1*x1)*1.0/x1;\n            aa[i][j]=a;bb[i][j]=b;\n            if(a>=0||b<=0)continue;\n            //cout<<\"a:\"<<aa[i][j]<<\"b:\"<<bb[i][j]<<\" \"<<xm[i][j]<<endl;\n            for(int k=1;k<=n;k++){\n                if(abs(a*x[k]*x[k]+b*x[k]-y[k])<=0.000001){\n                    xm[i][j]+=(1<<(k-1));//cout<<k<<\" \";\n                }\n            }\n            \u8ba1\u7b97a\uff0cb\u7cfb\u6570\uff0c\u8ba1\u7b97\u8be5\u7cfb\u6570\u4e0b\u80fd\u8fdb\u8fc7\u7684\u732a\n            //cout<<xm[i][j]<<endl;\n         }\n\n        for(int i=0;i<=(1<<n)-1;i++)dp[i]=1<<30;\n        dp[0]=0;\n        for(int i=0;i<=(1<<n)-1;i++){\n            if(dp[i]!=1<<30){\n                for(int j=1;j<=n;j++){\n                    dp[i|(1<<(j-1))]=min(dp[i|(1<<(j-1))],dp[i]+1);\n                \u5982\u679c\u8be5\u732a\u5355\u72ec\u51fa\u6765\n                }\n                for(int j=1;j<=n-1;j++)\n                 for(int k=j+1;k<=n;k++){\n                    dp[i|xm[j][k]]=min(dp[i|xm[j][k]],dp[i]+1);\n                 // cout<<i<<\" \"<<\" \"<<xm[j][k]<<\" \"<<(i|xm[j][k])<<\" \"<<dp[i|xm[j][k]]<<endl;\n                 \u8be5\u732a\u7ed1\u5b9a\u653b\u51fb\n                 }\n            }\n        } \n        cout<<dp[(1<<n)-1]<<endl;\n    }\n    return 0;\n}\n```",
        "postTime": 1541655590,
        "uid": 31392,
        "name": "ForeverT",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "    #include<iostream>\n    #include<cstring>\n    #include<cstdio>\n    #include<algorithm>\n    using namespace std;\n    int n,m,T;\n    int o;//\u6709\u51e0\u6761\u629b\u7269\u7ebf\n    int out;//\u7b54\u6848\n    int all;//\u5168\u96c6 \n    const double ok=1e-8;//\u7cbe\u5ea6 \n    inline double abss(double a){\n\treturn a>0?a:-a;}     \n    inline bool d_d(double a,double b){\n\treturn abss(a-b)<=ok;}\n\n    struct Pig{\n    double x;\n    double y;\n    }pig[20];//\u5c0f\u732a \n\n    struct Node{\n    double a;\n    double b;\n    int s;//\u7ecf\u8fc7\u7684\u5c0f\u732a \n     }node[401];//\u629b\u7269\u7ebf \n    int vis[20][20];//\u54ea\u4e9b\u732a\u4e4b\u95f4\u6709\u516c\u5171\u629b\u7269\u7ebf \n    int vip[20];//\u54ea\u4e9b\u732a\u5df2\u7ecf\u88ab\u6253\u4e86 \n    int f[1<<18];//\u8bb0\u5fc6\uff0c\u7701\u65f6\u95f4 \n    inline void dfs(int ss,int ans){\n\tif(ans>=out)return;//\u6700\u91cd\u8981\u7684\u526a\u679d \n    if(ss==all){\n    out=ans;\n    return;\n    }\n    for(register int i=1;i<=o;i++){\n        if((ss|node[i].s)!=ss&&f[ss|node[i].s]>ans+1){\n        f[ss|node[i].s]=ans+1;\n        dfs(ss|node[i].s,ans+1);\n        }\n      }\n    }\n     int main(){\n\tscanf(\"%d\",&T);\n    register int i,j,k;\n    double x1,x2,y1,y2;\n    while(T--){\n    \tmemset(f,0,sizeof(f));\n        for(;o>0;o--){node[o].a=node[o].b=node[o].s=0;}\n        out=1<<30;\n        memset(vip,0,sizeof(vip));\n        memset(f,0x3f,sizeof(f));\n        memset(vis,0,sizeof(vis));//\u6e05\u9664\u4e0a\u5173\u7684\u4fe1\u606f \n        scanf(\"%d%d\",&n,&m);\n        all=1<<n;\n        all--;//\u5168\u96c6 \n        for(i=1;i<=n;i++)scanf(\"%lf%lf\",&pig[i].x,&pig[i].y);\n        for(i=1;i<=n;i++){\n            for(j=i+1;j<=n;j++){\n            \tif(pig[i].x==pig[j].x)continue;\n                if(vis[i][j]==1)continue;\n                 x1=pig[i].x,x2=pig[j].x,y1=pig[i].y,y2=pig[j].y;\n                o++;\n                node[o].a=(y1*x2-y2*x1)/((x1-x2)*(x1*x2));\n                if(node[o].a>0||d_d(node[o].a,0)==1){\n                o--;\n\t\t\t\tcontinue;\t\n\t\t\t\t}\n\t\t\t\tnode[o].b=((y2/x2)-node[o].a*x2);//\u8ba1\u7b97\u629b\u7269\u7ebf \n                for(k=1;k<=n;k++){\n                    if(d_d(pig[k].y,pig[k].x*pig[k].x*node[o].a+pig[k].x*node[o].b)==1){\n                        node[o].s=node[o].s|(1<<(k-1));\n                        vis[i][k]=1;\n                        vis[j][k]=1;\n                        vis[k][i]=1;\n                        vis[k][j]=1;\n                        vip[k]=1;\n                    }\n                }//\u628a\u8be5\u629b\u7269\u7ebf\u7ecf\u8fc7\u7684\u5c0f\u732a\u5168\u52a0\u5165\u8be5\u629b\u7269\u7ebf\u7684\u96c6\u5408\u4e2d \n            }\n        }//\u521d\u59cb\u5316 \t\n\tfor(i=1;i<=n;i++)if(vip[i]==0)node[++o].s=1<<(i-1);//\u6709\u4e9b\u629b\u7269\u7ebf\u53ea\u8fc7\u4e00\u53ea\u732a \n\tif(m==0)out=n;//\u6700\u91cd\u8981\u7684\u4f18\u5316\uff1a\u7528\u7684\u629b\u7269\u7ebf\u603b\u6570\u4e0d\u4f1a\u8d85\u8fc7n\uff0c\u914d\u5408\u6df1\u641c\u7684\u526a\u679d\u53ef\u4ee5\u5927\u5927\u63d0\u9ad8\u6548\u7387 \n\tif(m==1)out=(n/3)+2;\n\tif(m==2)out=n-n/3;\n    dfs(0,0);\n    printf(\"%d\\n\",out);\n    }\n    return 0;\n}",
        "postTime": 1541069484,
        "uid": 38251,
        "name": "kutu",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u8bb0\u5fc6\u5316\u641c\u7d22+\u72b6\u6001\u538b\u7f29\uff0c\u5f88\u5feb\uff0c272ms\n\n\u9996\u5148\u663e\u7136\u4e00\u53ea\u9e1f\u6253\u6b7b\u4e24\u5934\u6216\u8005\u4ee5\u4e0a\u7684\u732a\u662f\u66f4\u4f18\u7684\uff0c\u6240\u4ee5\u9884\u5904\u7406\u679a\u4e3e\u6bcf\u4e24\u5934\u732a\u7684\u5f62\u6210\u629b\u7269\u7ebf\uff0c\u540c\u65f6\u8bb0\u5f55\u5bf9\u5176\u4ed6\u5176\u4ed6\u732a\u7684\u5f71\u54cd\n\n\u7136\u540e\u6309\u987a\u5e8f\u7684\u641c\u7d22\uff0c\u5982\u679c\u5f53\u524d\u732a\u5df2\u88ab\u72b6\u6001\u8bb0\u5f55\u4e0b\u6765\uff0c\u76f4\u63a5\u641c\u4e0b\u4e00\u4e2a\n\n\u5426\u5219\u679a\u4e3e\u5bf9\u540e\u9762\u6bcf\u4e00\u4e2a\u732a\uff0c\u52a0\u4e0a\u9884\u5904\u7406\u7684\u72b6\u6001\u5f80\u540e\u641c\uff0c\n\n\u8fd8\u6709\u8981\u5224\u65ad\u5355\u72ec\u4e00\u5934\u732a\u7684\u60c5\u51b5\n\n\u8bb0\u5fc6\u5316\u5c31\u662f\u8bb0\u5f55\u5f53\u524d\u70b9\u548c\u5f53\u524d\u72b6\u6001\uff0c\u5982\u679c\u8bb0\u5f55\u7684\u503c\u6bd4\u5f53\u524d\u5c0f\uff0c\u5c31\u8fd4\u56de\n\n\n\u540c\u65f6\u8fd8\u60f3\u8bf4\u4e00\u70b9\uff0c\u6d1b\u8c37\u4e0a\u7684\u6570\u636e\u597d\u50cf\u4e0d\u591f\u5f3a\uff0c\u540c\u6837\u4e00\u4efd\u4ee3\u7801\u5728\u8fd9\u91cc\u662fAC\u7684\uff0c\u5728\u6211\u4eec\u5b66\u6821\u7684OJ\u4e0aWA\u621065\u5206\n\n\u4e00\u4e2a\u662f\u4e24\u4e2a\u70b9\u5728\u540c\u4e00\u6761\u8fc7\u539f\u70b9\u7684\u76f4\u7ebf\u4e0a\u5361\u7684\u7cbe\u5ea6\uff0c\u4e00\u4e2a\u5c31\u662f\u4e24\u5934\u732a\u5728\u540c\u4e00\u4e2a\u4f4d\u7f6e\u7684\u5224\u91cd\n\n\n```cpp\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#define RG register int\n#define rep(i,a,b)    for(RG i=a;i<=b;i++)\n#define per(i,a,b)    for(RG i=a;i>=b;i--)\n#define inf (1<<30)\n#define maxn 20\nusing namespace std;\nconst double eps=1e-6;\nint T,n,m,ans;\ndouble x[maxn],y[maxn];\nint f[maxn][(1<<maxn)],sta[maxn][maxn],nod[maxn];\ninline int read()\n{\n    int x=0,f=1;char c=getchar();\n    while(c<'0'||c>'9'){if(c=='-')f=-1;c=getchar();}\n    while(c>='0'&&c<='9'){x=x*10+c-'0';c=getchar();}\n    return x*f;\n}\n\ndouble cala(double X1,double Y1,double X2,double Y2){\n    if(X1==X2)return 1;\n    if(abs(X1*Y2-X2*Y1)<=eps){return 1;}\n    return ((X2*Y1-X1*Y2)/(X1*X2*(X1-X2)));\n}\n\ndouble calb(double X2,double Y2,double a){return ((Y2-a*X2*X2)/X2);}\n\nvoid pre()\n{\n    memset(sta,0,sizeof(sta));\n    rep(i,1,n)\n    {\n        if(nod[i])    continue;\n        rep(j,i+1,n)\n        {\n            if(nod[j])    continue;\n            double a=cala(x[i],y[i],x[j],y[j]);\n            if(a>=0)    continue;\n            double b=calb(x[j],y[j],a);\n            rep(k,1,n)\n            {\n                if(nod[k])    continue;\n                if(k^i)\n                {\n                    double aa=cala(x[i],y[i],x[k],y[k]);if(aa>=0)    continue;\n                    double bb=calb(x[k],y[k],aa);\n                    if(abs(aa-a)<=eps&&abs(bb-b)<=eps)\n                    {\n                        sta[i][j]|=1<<k;\n                    }\n                }\n                else sta[i][j]|=1<<k;\n            }\n        }\n    }\n    \n}\n\nvoid dfs(int x,int stat,int num)\n{\n    if(x==n+1){ans=min(ans,num);}\n    if(nod[x])    {dfs(x+1,stat,num);return;}\n    if(num>=ans)    return;\n    if(f[x][stat]<=num)    return;\n    f[x][stat]=num;\n    if(stat&(1<<x)){dfs(x+1,stat,num);return;}\n    bool flg=0;\n    for(int i=x+1;i<=n;i++)\n    {\n        if(!(stat&(1<<i)))\n        {\n            flg=1;dfs(x+1,stat|sta[x][i],num+1);\n        }\n    }\n    if(!flg)    dfs(x+1,stat|(1<<x),num+1);\n}\n\nint main()\n{\n    T=read();\n    while(T--)\n    {\n        n=read(),m=read();ans=n;\n        int lim=1<<(n+1);\n        memset(nod,0,sizeof(nod));\n        rep(i,1,n){\n            scanf(\"%lf%lf\",&x[i],&y[i]);\n            rep(j,1,i-1)    if(x[i]==x[j]&&y[i]==y[j])    nod[i]=1;    \n        }\n        rep(i,0,n)rep(j,0,lim)    f[i][j]=inf;\n        pre();\n        dfs(1,0,0);\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}\n```",
        "postTime": 1508984403,
        "uid": 29892,
        "name": "ibilllee",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u88ab\u5976\u4f1a\u6302\u8fd9\u9898\uff0c\u7136\u800c\u5e76\u6ca1\u6709\u3002\u3002\u3002\n\n\u987a\u4fbf\u5410\u69fd\u4e00\u53e5\uff1a\u8fd9\u9898\u6570\u636e\u4f3c\u4e4e\u6709\u70b9\u6c34\u3002\u3002\u3002O(n^2\\*2^n)\u6700\u957f\u624d50ms\u3002\u3002\u3002\u3002\u3002\u3002\n\n\u8fd8\u6709\u3002\u3002\u3002m\u5230\u5e95\u662f\u5e72\u5565\u7528\u7684\u3002\u3002\u3002\u5168\u7a0b\u6ca1\u7528\u4e0a\u3002\u3002\u3002\n\n\u4e0b\u9762\u8fdb\u5165\u6b63\u9898\uff1a\n\n\u8fd9\u9053\u9898\u8fd8\u662f\u86ee\u88f8\u7684\uff0c\u770b\u4e00\u773cn<=18\uff0c2s\uff0c\u5927\u6982\u5c31\u731c\u5230\u662fO(n^2\\*2^n)\u4e86\uff08\u7136\u800c\u540e\u6765\u53d1\u73b0\u65f6\u9650\u662f\u5356\u840c\u7684\uff09\n\n\u76f4\u63a5\u72b6\u538b\u4e0d\u592a\u4f18\u96c5\uff0c\u800c\u4e14\u840c\u65b0\u53ef\u80fd\u4f1a\u641e\u4e0d\u61c2\u4f7f\u7528\u4ee5\u524d\u503c\u7684\u65f6\u95f4\u903b\u8f91\n\n\u6240\u4ee5\uff0c\u5199\u9012\u63a8\u597d\u4e86:\n\nd(S)=min(1+d(S'),d(S))\n\nS'\u5c31\u662f\u5220\u53bbS\u4e2d\u7f16\u53f7\u6700\u5c0f\u732a\u53ca\u5176\u6700\u591a\u9644\u5c5e\u732a\uff08\u53ef\u4ee5\u4e00\u8d77\u6253\u6389\u7684\uff09\u540e\u7684\u732a\u96c6\u5408\n\n\u8bb0\u5fc6\u5316\u4e00\u4e0b\uff0c\u7b97d((1<<n)-1)\u5c31\u53ef\u4ee5\u4e86\n\n\u9700\u8981\u6ce8\u610f\u7684\u51e0\u70b9\u662f\uff1a\n\n1.\u5f53P1,P2,O\u4e09\u70b9\u5171\u7ebf\u65f6\uff0c\u4e0d\u53ef\u80fd\u6784\u6210\u629b\u7269\u7ebf\n\n2.\u629b\u7269\u7ebf\u7684a\u5927\u4e8e0\u65f6\uff0c\u4e0d\u6210\u7acb\n\n3.\u53ef\u4ee5\u5355\u72ec\u6253\u4e00\u4e2a\u732a\uff0c\u8981\u52a0\u4e2a\u7279\u5224\n\n\u4e0b\u9762\u4e0a\u4ee3\u7801\uff1a\n\n\n\n\n\n\n\n\n\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#define inf 0x3f3f3f3f\n#define eps 1e-6\ndouble sa[19][19],sb[19][19],px[19],py[19],x3,y3;\nint db[1<<19],n,d[1<<19];\ntemplate<typename T>\ninline void read(T &x){\n  char ch;while((ch=getchar()),(ch>'9'||ch<'0'));\n  x=ch-'0';while((ch=getchar()),(ch>='0'&&ch<='9')) x=x*10+ch-'0';\n}\ninline double abss(double x){\n    return x>=0?x:-x;\n}\ninline int minn(int a,int b){\n    return a<b?a:b;\n}\ninline bool mat(int i,int j,int k){\n    if(i==j&&j==k) return true;\n    x3=px[k],y3=py[k];\n    if(sa[i][j]!=0){\n        if(sa[i][j]>0) return false;\n        if(abss(x3*x3*sa[i][j]+x3*sb[i][j]-y3)<=eps) return true;\n        else return false;\n    }\n    sa[i][j]=sa[j][i]=(py[i]*px[j]-py[j]*px[i])/(px[i]*px[j]*(px[i]-px[j]));\n    sb[i][j]=sb[j][i]=py[i]/px[i]-(py[i]*px[j]-py[j]*px[i])/(px[j]*(px[i]-px[j]));\n    if(sa[i][j]>0) return false;\n    if(abss(x3*x3*sa[i][j]+x3*sb[i][j]-y3)<=eps) return true;\n    else return false;\n}\nint dp(int S){\n    if(d[S]<19) return d[S];\n    int i,j,k;\n    int ans;\n    for(i=1;i<=n;++i) if(S&(1<<(i-1))) break;\n    for(j=i;j<=n;++j)\n        if(((S&(1<<(j-1)))&&px[i]!=px[j]&&abss(py[j]/px[j]-py[i]/px[i])>eps)||i==j){\n            if(i==j){\n                d[S]=minn(d[S],1+dp(S^(1<<(i-1))));\n                continue;\n            }\n            ans=S;\n            for(k=i;k<=n;++k) if((S&(1<<(k-1)))&&mat(i,j,k)) ans^=(1<<(k-1));\n            if(ans!=S) d[S]=minn(1+dp(ans),d[S]);\n        }\n    return d[S];\n}\nint main(){\n    register int T,m;\n    read(T);\n    memset(db,inf,sizeof db);\n    db[0]=0;\n    for(register int b=0;b<19;++b) db[1<<b]=1;\n    for(register int a=0;a<T;++a){\n        memcpy(d,db,sizeof d);\n        read(n),read(m);\n        for(register int b=1;b<=n;++b) scanf(\"%lf%lf\",&px[b],&py[b]);\n        printf(\"%d\\n\",dp((1<<n)-1));\n        if(a==T-1) return 0;\n        memset(sa,0,sizeof sa);\n        memset(sb,0,sizeof sb);\n    }\n    return 0;\n}\n![](https://cdn.luogu.com.cn/upload/pic/9424.png)\n```",
        "postTime": 1508834402,
        "uid": 55413,
        "name": "Predator_SD",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u5176\u5b9e\u8fd8\u662f\u4e00\u4e2a\u975e\u5e38\u88f8\u7684\u72b6\u6001\u538b\u7f29Dp\uff0c\u8fd9\u6b21NOIP\u770b\u4f3c\u6574\u4f53\u96be\u5ea6\u975e\u5e38\u9ad8\uff0c\u4f46\u5b9e\u9645\u4e0a\u53ea\u662f\u628a\u9898\u76ee\u96be\u5ea6\u6b21\u5e8f\u91cd\u65b0\u7f16\u6392\u4e86\u4e00\u4e0b\uff0c\u5bfc\u81f4\u5927\u591a\u6570\u4eba\u88ab\u5751\u6b7b\u5728\u7b2c\u4e8c\u9898\u3002\u7b2c\u4e09\u9898\u90fd\u662f\u975e\u5e38\u826f\u5fc3\u7684Dp\uff0c\u5982\u679c\u4e0d\u7ed9\u7b2c\u4e8c\u9898\uff0c\u5e94\u8be5\u4f1a\u6709\u8bb8\u591a\u4eba\u90fd\u53ef\u4ee5\u60f3\u5230\u4e24\u5929T3\u7684\u6b63\u89e3\u3002\n\n\n\u8fd9\u4e2an\u8fd9\u4e48\u5c0f\uff0c\u6700\u5927\u53ea\u670918\uff0c\u6240\u4ee590%\u8ddf\u4e8c\u8fdb\u5236\u6709\u5173\u7cfb\uff0c\u4e8b\u5b9e\u4e0a\u8fd9\u4e2a\u63a8\u65ad\u603b\u662f\u6210\u7acb\u7684\u3002\u4e0d\u77e5\u9053\u4e8c\u8fdb\u5236Dp\u7684\u51fa\u95e8\u5de6\u8f6cBaidu\u3002\n\n\n\u8bbedp[S]\u8868\u793a\u5df2\u7ecf\u6253\u4e86\u7684\u732a\u7684\u7684\u5e8f\u53f7\u7ec4\u6210\u7684\u96c6\u5408\uff0c\u90a3\u4e48\u6211\u4eec\u679a\u4e3e\u4e00\u4e2ai\u8868\u793a\u8fd9\u4e00\u6b21\u8981\u6253\u4e2a\u732a\uff0c\u7136\u540e\u518d\u679a\u4e3e\u4e00\u4e2aj\uff0c\u8868\u793a\u8fd9\u4e00\u6b21\u628ai\u548cj\u4e00\u8d77\u6253\u6389\uff0c\u90a3\u4e48\u9884\u5904\u7406\u4e00\u4e2abit\u6570\u7ec4\u4f7f\u5f97bit[i][j]\u8868\u793a\u4ee5i\u548cj\u7684\u5750\u6807\u786e\u5b9a\u7684\u629b\u7269\u7ebf\u53ef\u4ee5\u6253\u6389\u7684\u6240\u6709\u7684\u732a\uff0c\u90a3\u4e48\u5c31\u7531dp[S]+1\u8f6c\u79fb\u5230\u4e86dp[S|bit[i][j]]\u4e86\uff0c\u6700\u540e\u7684\u7b54\u6848\u5c31\u662fdp[2^n-1].\n\n\u8bf4\u5177\u4f53\u4e00\u70b9\uff0c\u5c31\u662f\u7528\u4e8c\u8fdb\u5236\u679a\u4e3e\u4e00\u4e2a\u96c6\u5408\uff0c\u6bd4\u59821~3\u7684\u5b50\u96c6\u53ef\u4ee5\u7528000,001,010,011,100,101,110,111\u8fd9\u4e9b\u4e8c\u8fdb\u5236\u6570\u6765\u8868\u793a\uff0c\u4ece\u540e\u5f80\u524d\u6570\uff0c\u5982\u679c\u4e00\u4f4d\u662f1\u8868\u793a\u8fd9\u4e2a\u6570\u5728\u8fd9\u4e2a\u5b50\u96c6\u4e2d\uff0c0\u5219\u8868\u793a\u4e0d\u5728\u3002\u8fd9\u6837\uff0c\u96c6\u5408\u7684\u4ea4\u5e76\u8865\u5c31\u53ef\u4ee5\u7528\u4e8c\u8fdb\u5236\u7684\u4f4d\u8fd0\u7b97\u6765\u8868\u793a\u4e86\u3002&\u53bb\u4ea4\uff0c|\u53bb\u5e76\uff0c~\u53d6\u8865\u3002\n\n\u90a3\u4e48\u6211\u4eec\u7684dp\u662f\u4ee5\u96c6\u5408\u4e3a\u72b6\u6001\u7684\uff0c\u5c31\u7528\u4e8c\u8fdb\u5236\u641e\u4e00\u641e\u5566\uff01\n\n\u6700\u540e\uff0c\u8fd8\u6709\u4e00\u4e2a\u5c0f\u7684\u5e38\u6570\u4f18\u5316\uff0c\u5c31\u662f\u6211\u4eec\u6ca1\u6709\u5fc5\u8981\u679a\u4e3e\u6240\u6709\u7684i\uff0c\u5176\u5b9e\u4e0d\u8bba\u5982\u4f55\uff0c\u5728S\u4e2d\u7b2c\u4e00\u4e2a\u6ca1\u6709\u51fa\u73b0\u7684\u732a\uff0c\u6211\u4eec\u6700\u540e\u4e00\u5b9a\u8981\u6253\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5e72\u8106\u5c31\u53ea\u679a\u4e3e\u6700\u540e\u90a3\u4e2a\u732a\uff0c\u8fd9\u6837\u53ef\u4ee5\u5feb\u4e00\u70b9\u54df\u3002\n\n\u53c2\u8003\u7a0b\u5e8f\uff1a\n\n\n```cpp\n#include<cstdio>  \n#include<algorithm>  \n#include<cstring>  \n#include<cmath>  \n#define re register  \n#define REP(i,a,b) for (re int i=(a);i<=(b);++i)  \nusing namespace std;  \ntemplate<class T>inline void ChkMin(T &a,T b){if (b<a)a=b;}  \ntypedef double db;  \nconst db eps=1e-7;  \nconst int N=20;  \nint n,m,bit[N][N],dp[1<<N];  \ndb x[N],y[N];  \nint main(){  \n    int T;  \n    scanf(\"%d\",&T);  \n    while (T--){  \n        scanf(\"%d%d\",&n,&m);  \n        REP(i,1,n)scanf(\"%lf%lf\",&x[i],&y[i]);  \n        REP(i,1,n)REP(j,i+1,n){  \n            db f=x[i]*x[j]*(x[i]-x[j]);  \n            db a=x[j]*y[i]-x[i]*y[j];  \n            db b=x[i]*x[i]*y[j]-x[j]*x[j]*y[i];  \n            bit[i][j]=0;  \n            if (a*f<0){  \n                REP(k,1,n)  \n                if (fabs(a*x[k]*x[k]+b*x[k]-f*y[k])<eps)bit[i][j]|=1<<(k-1);//\u8fd9\u662f\u89e3\u4e8c\u5143\u4e8c\u6b21\u65b9\u7a0b\uff0c\u52a0\u51cf\u6d88\u539f\u641e\u4e00\u641e\u5c31\u597d\u4e86\u3002  \n            }  \n        }  \n        memset(dp,0x3f,sizeof(dp));  \n        dp[0]=0;  \n        REP(k,0,(1<<n)-1){  \n            int i=1;  \n            while ((k>>(i-1))&1)i++;  //\u627e\u5230\u6700\u5c0f\u7684\u90a3\u53ea\u732a\n            ChkMin(dp[(1<<(i-1))|k],dp[k]+1);  //\u53ea\u5355\u72ec\u6253\u6389\u8fd9\u53ea\u732a\n            REP(j,i+1,n)ChkMin(dp[k|bit[i][j]],dp[k]+1);  //\u628a\u8fd9\u53ea\u732a\u548c\u53e6\u4e00\u53ea\u732a\u6253\u6389\uff08\u53e6\u4e00\u53ea\u732a\u679a\u4e3e\u5df2\u7ecf\u6253\u8fc7\u7684\u5c31\u6ca1\u6709\u610f\u4e49\u4e86\uff0c\u6240\u4ee5\u4ecei+1\u5f00\u59cb\u679a\u4e3e\uff09\n        }  \n        printf(\"%d\\n\",dp[(1<<n)-1]);  \n    }  \n    return 0;  \n}\n```",
        "postTime": 1506860759,
        "uid": 54916,
        "name": "I_AM_HelloWord",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "blog\u5730\u5740\u9519\u8bef\u91cd\u65b0\u6539\u6b63\u4e86\u4e0borz\n\n\u6d1b\u8c37\u8bc4\u6d4b48ms \u672c\u849f\u84bb\u611f\u89c9\u5e94\u8be5\u633a\u5feb\u7684\u4e86\u5427\u3002\uff08\u6d1b\u8c37\u770b\u5230\u8fd8\u67090ms \u7684\u795e\u7287qwq)\n\n\u8fd9\u9898\u662f\u72b6\u6001\u538b\u7f29\n\n\u653e\u4e00\u4e2a80\u5206\u7684\u7a0b\u5e8f \u5e94\u8be5\u662f\u6709\u4e00\u5b9a\u7684\u95ee\u9898\u7684\uff0c\u6309\u7406\u8bf4\u6d1b\u8c37\u5e94\u8be5\u53ef\u4ee5\u8dd185\u624d\u5bf9\uff0c\u6709\u4e00\u4e2a\u70b9wa\u4e86 \u849f\u84bb\u6211\u770b\u4e0d\u51fa\u6765ORZ\n\n\u601d\u8def\uff1a\n\n\u56e0\u4e3a\u4e00\u517118\u53ea\u9e1f\u6240\u4ee5\u6211\u4eec\u628a18\u53ea\u9e1f\u7528\u4e8c\u8fdb\u5236\u8868\u793a\u6700\u540e\u5341\u8fdb\u5236\u50a8\u5b58\n\n1\u8868\u793a\u7f16\u53f7\u4e3a\u8fd9\u4e00\u4f4d\u7684\u9e1f\u8fd8\u5b58\u6d3b0\u8868\u793a\u5df2\u7ecf\u6302\u4e86 \u56e0\u4e3a\u6709\u5c0f\u6570 \u6ce8\u610f\u5224\u65ad\u4e0b\u7cbe\u5ea6\n\n\u5f00\u7ed3\u6784\u4f53a[i][j]\u8868\u793a\u7f16\u53f7i j\u4e24\u53ea\u9e1f exist\u8868\u793a\u662f\u5426\u4e00\u6761\u629b\u7269\u7ebf\u53ef\u4ee5\u6253\u4e0b\u4e24\u53ea\u9e1f\uff0ca,b\u5206\u522b\u8868\u793a\u4e8c\u6b21\u51fd\u6570\u91cc\u7684a\u548cb\n\nb\u6570\u7ec4\u7684\u4e0b\u6807\u5b58\u7684\u662f\u72b6\u6001 \u82e5\u4e3a1\u8868\u793a\u8fd9\u79cd\u72b6\u6001\u5b58\u5728\n\n\u6b63\u5f0f\u5f00\u59cb\u8bb0\u5fc6\u5316\u641c\u7d22\uff1afor (;s1>=1;s1=s&(s1-1)) \u8fd9\u4e2a\u5f0f\u5b50\u5341\u5206\u5de7\u5999\u7684\u628a\u5f53\u524d\u72b6\u6001\u6240\u6709\u5b58\u5728\u7684\u9e1f\u88ab\u6253\u540e\u7684\u72b6\u6001\u4e00\u4e00\u679a\u4e3e\u51fa\u6765\u4e0d\u91cd\u4e0d\u6f0f\uff0c\u597d\u597d\u63a8\u5bfc\u4e00\u4e0b\n\n\u56e0\u4e3as1\u6bd4s\u4e00\u5b9a\u8981\u5c0f \u6240\u4ee5\u76f4\u63a5\u5341\u8fdb\u5236\u51cf\u6cd5\u5c31\u53ef\u4ee5\u4ee3\u66ff\u72b6\u6001\u91cc\u7684\u9e1f\u7684\u5b58\u6d3b\u72b6\u6001\u7684\u52a0\u51cf\u8fd0\u7b97\n\n\u63d0\u793a\uff1a\u72b6\u6001\u538b\u7f29\u65f6\uff0c\u5047\u5982\u53ea\u80fd\u6253\u4e00\u53ea\u9e1fb\u6570\u7ec4\u4e5f\u8981\u8ba4\u4e3a\u662f1 \u5c31\u662f\u8ba4\u4e3a\u6253\u4e00\u53ea\u9e1f\u4e5f\u53ef\u4ee5\n\n\u9e1f\u7684\u6807\u53f7\u4ece0\u5f00\u59cb\u6bd4\u8f83\u597d\u505a\uff0c\u8981\u4e48\u5c31\u5728\u72b6\u538b\u7684\u65f6\u5019\u7edf\u4e00\u597d\n\n\u00b7\u00b7\u00b7cpp\n\n\n```cpp\n\n\u8fd9\u4e2a\u662f\u6ee1\u5206\u7684\u7a0b\u5e8f\uff1a\nb1\u6570\u7ec4\u8868\u793ai,j\u4e24\u53ea\u9e1f\u4e4b\u95f4\u8fde\u6210\u7684\u629b\u7269\u7ebf\u6253\u5b8c\u9e1f\u540e\u6700\u7ec8\u5e73\u9762\u5185\u8fd8\u5269\u4f59\u548c\u4e0d\u5269\u4f59\u7684\u9e1f \u8fd9\u79cd\u72b6\u6001\u8f6c\u6210\u5341\u8fdb\u5236\u50a8\u5b58\u5728 b1\u6570\u7ec4\u4e2d\n\u8fd9\u79cd\u505a\u6cd5\u56e0\u4e3a\u6211\u4eec\u80af\u5b9a\u6bcf\u6b21\u94a6\u5b9a\u90fd\u8981\u6253\u7b2c\u4e00\u53ea\u9e1f\uff0c\u7136\u540e\u679a\u4e3e\ns&((1<<n)-1-b1[i][j]) \u8fd9\u4e2a\u5f0f\u5b50\u5176\u5b9e\u5c31\u662f\u5f53\u524d\u72b6\u6001\u51cf\u53bb\u4e00\u5b9a\u6253\u7b2c\u4e00\u53ea\u9e1f\u4e14\u6253\u7b2cj\u53ea\u9e1f\u5269\u4f59\u7684\u72b6\u6001\n\u7136\u540e\u52a0\u4e00 \u53bb\u548c\u6211\u4eec\u73b0\u5728\u7684\u72b6\u6001\u6bd4\u8f83 \u867d\u7136\u662f\u94a6\u5b9a\u4e86\u7b2c\u4e00\u53ea\u9e1f\uff0c\u4f46\u56e0\u4e3a\u65e0\u8bba\u5982\u4f55\u4ed6\u7ec8\u7a76\u4f1a\u88ab\u6253\u5230\uff0c\u800c\u4e14\u4e00\u5b9a\u4f1a\u679a\u4e3e\u6240\u6709\u60c5\u51b5\uff0c\u6240\u4ee5\u7b54\u6848\u662f\u6b63\u786e\u7684\n\u9012\u63a8\u8fd8\u6ca1\u8ba4\u771f\u60f3\uff0c\u4f46\u5e94\u8be5\u5dee\u4e0d\u591a\uff0c\u73b0\u5728\u5bf9\u4e8e\u9012\u63a8\u5199\u7684\u8fd8\u4e0d\u662f\u5f88\u5230\u4f4d\n\n\u00b7\u00b7\u00b7cpp\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#define N 20\n#define N1 270000                   \nint b1[N][N],b[N1],data[N1],n,m;\ndouble x[N],y[N];\nstruct node{\n    int exist;double a,b;\n}a[N][N];\ninline bool judge(double a,double b){\n    if (std::abs(a-b)<=1e-10) return true;else return false;\n}\ninline void work(int i,int j){\n    if (judge(x[i],x[j])) {\n        a[i][j].exist=0;a[i][j].a=a[i][j].b=0;return ;\n    }\n    double tmpa=(y[i]*x[j]-y[j]*x[i])/(x[i]*x[j]*(x[i]-x[j]));\n    double tmpb=y[i]/x[i]-(y[i]*x[j]-y[j]*x[i])/(x[j]*(x[i]-x[j]));\n    a[i][j].a=tmpa;a[i][j].b=tmpb;\n    if (tmpa>0){\n        a[i][j].exist=0;return ;\n    }\n    a[i][j].exist=1;\n}\n//for (int s1=s;s1>=1;s1=s&(s1-1)) \n/*void f(int s){\n    if (b[s]) {data[s]=1;return;}\n    int s1=s;s1=s&(s1-1);\n    for (;s1>=1;s1=s&(s1-1)){\n        if (data[s1]==50) f(s1);\n        if (data[s-s1]==50) f(s-s1);\n        data[s]=std::min(data[s],data[s1]+data[s-s1]);\n    }\n}*/\nvoid f(int s){\n    if (s==0) {data[s]=0;return;}\n    int rest=0;for (int i=0;i<n;++i) if(s&(1<<i))++rest;\n    if (rest==1){data[s]=1;return;} \n    if (rest==2) if(b[s]) {data[s]=1;return;}else {data[s]=2;return;}\n    int i=0;while(!(s&(1<<i))) ++i;\n    for (int j=0;j<n;++j)\n        if (b1[i][j]) {\n            if (data[s&((1<<n)-1-b1[i][j])]==50) f(s&((1<<n)-1-b1[i][j]));\n            data[s]=std::min(data[s],data[s&((1<<n)-1-b1[i][j])]+1);\n        }\n}\nint main(){\n    freopen(\"ex1.in\",\"r\",stdin);\n//    freopen(\"ex1.out\",\"w\",stdout);\n    int T;\n    scanf(\"%d\",&T);\n    while (T--){\n        scanf(\"%d%d\",&n,&m);\n        for (int i=0;i<n;++i) scanf(\"%lf%lf\",&x[i],&y[i]);\n        memset(b,false,sizeof(b));memset(b1,0,sizeof(b1));\n        for (int i=0;i<n;++i)\n            for (int j=0;j<n;++j) work(i,j); \n    //    for (int i=0;i<n;++i)\n    //        for (int j=i+1;j<n;++j) printf(\"%f %f\\n\",a[i][j].a,a[i][j].b);\n        for (int i=0;i<n;++i) b[1<<i]=1,b1[i][i]=1<<i;\n        for (int i=0;i<n;++i){    \n            for (int j=i+1;j<n;++j){\n                int tmp=0;\n                if (a[i][j].exist){\n                    tmp+=(1<<i)+(1<<j);\n                    for (int z=j+1;z<n;++z){\n                        if (i!=z&&j!=z)\n                            if (a[z][i].exist&&a[i][z].a&&a[i][j].a&&judge(a[i][z].a,a[i][j].a)&&judge(a[i][j].b,a[i][z].b)) {\n                                tmp+=(1<<z);//    if (tmp==25) printf(\"%d %d %d\\n\",i,j,z);\n                            }\n                    }\n                    b1[i][j]=tmp;\n                    b[tmp]=true;\n                }\n            }\n        }    \n        for (int i=1;i<=(1<<n);++i) data[i]=50;\n        f((1<<n)-1);\n        printf(\"%d\\n\",data[(1<<n)-1]);\n    //    for (int i=1;i<=1050;++i) if (b[i]) printf(\"%d\\n\",i);\n        //printf(\"asffd\\n\");\n    }\n    return 0;\n}\n```\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#define N 20\n#define N1 270000                   \nint b[N1],data[N1],n,m;\ndouble x[N],y[N];\nstruct node{\n    int exist;double a,b;\n}a[N][N];\ninline bool judge(double a,double b){\n    if (std::abs(a-b)<=1e-10) return true;else return false;\n}\ninline void work(int i,int j){\n    if (judge(x[i],x[j])) {\n        a[i][j].exist=0;a[i][j].a=a[i][j].b=0;return ;\n    }\n    double tmpa=(y[i]*x[j]-y[j]*x[i])/(x[i]*x[j]*(x[i]-x[j]));\n    double tmpb=y[i]/x[i]-(y[i]*x[j]-y[j]*x[i])/(x[j]*(x[i]-x[j]));\n    a[i][j].a=tmpa;a[i][j].b=tmpb;\n    if (tmpa>0){\n        a[i][j].exist=0;return ;\n    }\n    a[i][j].exist=1;\n}\n//for (int s1=s;s1>=1;s1=s&(s1-1)) \nvoid f(int s){\n    if (b[s]) {data[s]=1;return;}\n    int s1=s;s1=s&(s1-1);\n    for (;s1>=1;s1=s&(s1-1)){\n        if (data[s1]==50) f(s1);\n        if (data[s-s1]==50) f(s-s1);\n        data[s]=std::min(data[s],data[s1]+data[s-s1]);\n    }\n}\nint main(){\n//    freopen(\"ex1.in\",\"r\",stdin);\n//    freopen(\"ex1.out\",\"w\",stdout);\n    int T;\n    scanf(\"%d\",&T);\n    while (T--){\n        scanf(\"%d%d\",&n,&m);\n        for (int i=0;i<n;++i) scanf(\"%lf%lf\",&x[i],&y[i]);\n        memset(b,false,sizeof(b));\n        for (int i=0;i<n;++i)\n            for (int j=0;j<n;++j) work(i,j); \n    //    for (int i=0;i<n;++i)\n    //        for (int j=i+1;j<n;++j) printf(\"%f %f\\n\",a[i][j].a,a[i][j].b);\n        for (int i=0;i<n;++i) b[1<<i]=1;\n        for (int i=0;i<n;++i){    \n            for (int j=i+1;j<n;++j){\n                int tmp=0;\n                if (a[i][j].exist){\n                    tmp+=(1<<i)+(1<<j);\n                    for (int z=j+1;z<n;++z){\n                        if (i!=z&&j!=z)\n                            if (a[z][i].exist&&a[i][z].a&&a[i][j].a&&judge(a[i][z].a,a[i][j].a)&&judge(a[i][j].b,a[i][z].b)) {\n                                tmp+=(1<<z);//    if (tmp==25) printf(\"%d %d %d\\n\",i,j,z);\n                            }\n                    }\n                    b[tmp]=true;\n                }\n            }\n        }    \n        for (int i=1;i<=(1<<n)+3;++i) data[i]=50;\n        f((1<<n)-1);\n        printf(\"%d\\n\",data[(1<<n)-1]);\n    //    for (int i=1;i<=1050;++i) if (b[i]) printf(\"%d\\n\",i);\n        //printf(\"asffd\\n\");\n    }\n    return 0;\n}\n```\n\u9012\u63a8\uff1a\u4e0d\u597d\u60f3\uff0c\u6211\u8111\u5b50\u4e0d\u592a\u597d\uff0c\u5148\u8d34\u4e00\u4e2aleoly (ORZ)\u7684\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define N 20\n#define eps 1e-10\nusing namespace std;\nstruct aa{double x, y;}a[N];\nint T, n, temp, bin[N], x, w[N][N], f[262150];\ndouble x1, y1, x2, y2, A, B;\ninline double abs1(double a){return max(a, -a);}\nint main(){\n    scanf(\"%d\", &T);\n    bin[0]=1; for(int i=1; i<=18; i++)bin[i]=bin[i-1]<<1;\n    for(int owo=1; owo<=T; owo++){\n        scanf(\"%d%d\", &n, &temp);\n        for(int i=1; i<=n; i++)scanf(\"%lf%lf\", &a[i].x, &a[i].y);\n        for(int i=1; i<=n-1; i++)\n            for(int j=i+1; j<=n; j++){\n                x1=a[i].x; y1=a[i].y; x2=a[j].x; y2=a[j].y;\n                if(abs1(x1-x2)<eps){w[i][j]=bin[n]-1; continue;}\n                A=(x1*y2-x2*y1)/(x1*x2*(x2-x1)); B=(y1-A*x1*x1)/x1;\n                if(A>-eps){w[i][j]=bin[n]-1; continue;}\n                w[i][j]=bin[n]-1;\n                for(int k=1; k<=n; k++)\n                    if(abs1(A*a[k].x*a[k].x+B*a[k].x-a[k].y)<eps)w[i][j]-=bin[k-1];\n            }\n        f[0]=0;\n        for(int i=1; i<=bin[n]-1; i++){\n            for(int j=n; j; j--)if(i&bin[j-1]){x=j; break;}\n            f[i]=f[i-bin[x-1]]+1;\n            for(int j=1; j<=x-1; j++)f[i]=min(f[i], f[i&w[j][x]]+1);\n        }\n        printf(\"%d\\n\", f[bin[n]-1]);\n    }\n    return 0;\n}\n```\n\n(http://www.elijahqi.win/2017/08/15/noip2016-%e6%84%a4%e6%80%92%e7%9a%84%e5%b0%8f%e9%b8%9f-luogu-2831/)\n\n\u6700\u540e\u5b89\u5229\u4e0b\u81ea\u5df1\u7684blog \u5e0c\u671b\u4e0d\u7ba1\u662f\u795e\u7287\u4e5f\u597d \u521a\u5165\u5751\u7684\u840c\u65b0\u4e5f\u597d \u5e0c\u671b\u90fd\u80fd\u4e00\u8d77\u4ea4\u6d41\u4e00\u8d77\u7ec3\u4e60\u4e00\u8d77\u63d0\u9ad8\n\n(elijahqi.win)\n",
        "postTime": 1505990615,
        "uid": 5037,
        "name": "elijahqi",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u72b6\u538bdp\u601d\u8def\u6ca1\u5565\u95ee\u9898\uff0c\u4e0b\u9762\u4e3b\u8981\u63d0\u4f9b\u51e0\u4e2a\u5361\u5e38\u6280\u5de7\n\n\n1.\u5f53\u72b6\u6001S\u4e8c\u8fdb\u5236\u8868\u793a\u4e0b1\u7684\u4e2a\u6570\u8f83\u5c11(<=2)\u65f6\uff0c\u7279\u5224\u5904\u7406\n\n2.\u5bf9\u4e8e\u72b6\u6001S\uff0c\u65e0\u8bba\u5982\u4f55\u6211\u4eec\u90fd\u8981\u53d1\u5c04\u4e00\u53ea\u9e1f\u6253\u4f4d\u6570\u6700\u4f4e\u7684\u90a3\u53ea\u732a\uff0c\u56e0\u6b64\uff0c\u6211\u4eec\u4e0d\u8981\u540c\u65f6\u679a\u4e3e\u4e24\u4e2a\u732a\u6240\u5728\u7684\u629b\u7269\u7ebf\uff0c\u53ea\u679a\u4e3e\u4e00\u53ea\u732a\uff0c\u53e6\u5916\u4e00\u53ea\u4e00\u5b9a\u6253\u4f4d\u6570\u6700\u4f4e\u7684\u732a\u5c31\u597d\n\n3.\u8bbe\u72b6\u6001S\u4e8c\u8fdb\u5236\u4e2d\u4e3a1\u7684\u6700\u4f4e\u4f4di\uff0c\u6211\u4eec\u8fd9\u4e00\u8f6e\u6253\u7684\u732a\u662fi,a1,a2,a3,...(i<a1<a2<a3<...)\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5c06\u8fd9\u7ec4\u7b54\u6848\u5728\u679a\u4e3e\u53e6\u4e00\u53ea\u732a\u4e3aa1\u65f6\u7edf\u8ba1\u4e0b\u6765\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u4e8e\u9664\u4e86i\u4e0e\u679a\u4e3e\u7684\u732aj\uff0c\u989d\u5916\u6253\u4e0b\u6765\u7684\u732a\u7684\u4f4d\u6570\u90fd\u6bd4j\u5927\n\n4.\u51993.\u7684\u65f6\u5019\u8111\u5b50\u8fdb\u5c4e\u4e86\uff0c\u5bf9\u5e94\u4ee3\u7801\u8fd9\u91cc\uff0c\u7528\u5fc3\u611f\u53d7\n\n```for(int k=j+1;k<n;k++)if(s&(1<<k))\n                        {\n                            if(Abs(a*x[k]*x[k]+b*x[k]-y[k])<eps)\n                            {\n                    //            printf(\"%d %lf\\n\",k,Abs(a*x[k]*x[k]+b*x[k]-y[k]));\n                                ss^=1<<k;\n                            }\n                        }\n```\n\n\n```cpp\n#include <bits/stdc++.h>\n#define eps 1e-12\ndouble x[20],y[20];\nbool can[20][20];\nint dp[1048576],cnt[1048576];\nint n;\ndouble Abs(double x){return x>0?x:-x;}\nint main()\n{\n//    freopen(\"2831.in\",\"r\",stdin);\n//    freopen(\"2831.out\",\"w\",stdout);\n    int T;scanf(\"%d\",&T);\n    cnt[0]=0;\n    for(int i=1;i<1<<18;i++)\n        cnt[i]=cnt[i>>1]+(i&1);\n    while(T--)\n    {\n        int m;scanf(\"%d%d\",&n,&m);\n        for(int i=0;i<n;i++)scanf(\"%lf%lf\",&x[i],&y[i]);\n        for(int i=0;i<n;i++)\n            for(int j=0;j<n;j++)\n                if(Abs(x[i]-x[j])<eps)\n                    can[i][j]=false;\n                else if((y[i]*x[j]-y[j]*x[i]>eps&&x[i]-x[j]>eps)||(y[i]*x[j]-y[j]*x[i]<eps&&x[i]-x[j]<eps))can[i][j]=false;\n                else can[i][j]=true;\n        for(int i=0;i<(1<<n);i++)dp[i]=n+1;\n        dp[(1<<n)-1]=0;\n        int ss;\n        for(int s=(1<<n)-1;s>0;s--)if(dp[s]<n+1)\n        {\n            if(cnt[s]<3)\n            {\n                if(cnt[s]==1)dp[0]=std::min(dp[0],dp[s]+1);\n                if(cnt[s]==2)\n                {\n                    int u=-1;\n                    for(int i=0;i<n;i++)if(s&(1<<i))\n                    {\n                        if(u==-1){u=i;continue;}\n                        if(can[u][i])dp[0]=std::min(dp[0],dp[s]+1);\n                        else dp[0]=std::min(dp[0],dp[s]+2);\n                    }\n                }\n                continue;\n            }\n            for(int i=0;i<n;i++)if(s&(1<<i))\n                dp[s^(1<<i)]=std::min(dp[s^(1<<i)],dp[s]+1);\n            bool flag=true;\n            for(int i=0;i<n&&flag;i++)if(s&(1<<i))\n            {\n                for(int j=i+1;j<n;j++)if(s&(1<<j))\n                    if(can[i][j])\n                    {\n                        //printf(\"%d %d\\n\",i,j);\n                        double a=(y[i]*x[j]-y[j]*x[i])/(x[i]*x[j]*(x[i]-x[j]));\n                        double b=(y[i]*x[j]*x[j]-y[j]*x[i]*x[i])/(x[i]*x[j]*(x[j]-x[i]));\n                //        printf(\"%lf %lf\\n\",a,b);\n                        ss=s;\n                        ss^=(1<<i);ss^=(1<<j);\n                        for(int k=j+1;k<n;k++)if(s&(1<<k))\n                        {\n                            if(Abs(a*x[k]*x[k]+b*x[k]-y[k])<eps)\n                            {\n                    //            printf(\"%d %lf\\n\",k,Abs(a*x[k]*x[k]+b*x[k]-y[k]));\n                                ss^=1<<k;\n                            }\n                        }\n                    //    printf(\"%d->%d\\n\",s,ss);\n                        dp[ss]=std::min(dp[ss],dp[s]+1);                        \n                    }\n                flag=false;\n            }\n        }\n        printf(\"%d\\n\",dp[0]);\n    }\n    return 0;\n}\n```",
        "postTime": 1503063652,
        "uid": 5272,
        "name": "slothfulxtx",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u554a\u9898\u89e3\u5168\u662f\u72b6\u6001\u538b\u7f29DP\uff0c\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cdBFS\u7684\u65b9\u6cd5\u3002\n\n\n\u65e2\u7136\u9898\u76ee\u8981\u6c42\u6b65\u6570\u6700\u5c0f\uff0c\u5f88\u5bb9\u6613\u60f3\u5230BFS\u3002\n\n\u5bf9\u4e8eBFS\u7684\u5224\u91cd\u548c\u8f6c\u79fb\uff0c\u6211\u4eec\u8003\u8651\u7528\u72b6\u6001\u538b\u7f29\u7684\u65b9\u6cd5\uff0c\u7528\u4e8c\u8fdb\u5236\u8868\u793a\u3002\n\n\u5bf9\u4e8e\u6bcf\u7ec4\u6570\u636e\uff0c\u6211\u4eec\u5148\u9884\u5904\u7406\u51fa\u4e24\u53ea\u732a\u5b9a\u4e0b\u6765\u7684\u629b\u7269\u7ebf\u80fd\u591f\u6253\u5230\u7684\u732a\u7684\u96c6\u5408\uff08\u6ce8\u610f\u7cbe\u5ea6\uff09\uff0c\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a\u72b6\u6001\u679a\u4e3e\u6d3b\u7740\u7684\u4e24\u53ea\u732a\u6784\u6210\u7684\u629b\u7269\u7ebf\u5e76\u5c1d\u8bd5\u8fdb\u884c\u8f6c\u79fb\u3002\n\n\u6ce8\u610f\uff1a\u7531\u4e8e\u53ef\u80fd\u5269\u4f59\u7684\u732a\u4e24\u4e24\u4e0d\u80fd\u5f62\u6210\u629b\u7269\u7ebf\uff08\u53ea\u5269\u4e00\u53ea\u732a\u6216\u4e0d\u80fd\u5f62\u6210\u629b\u7269\u7ebf\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u6bcf\u4e2a\u72b6\u6001\u8bb0\u5f55\u5269\u4f59\u6bcf\u53ea\u732a\u7528\u90fd\u7528\u4e00\u53ea\u9e1f\u6253\u7684\u6240\u9700\u6b65\u6570\u3002\u5982\u679c\u5269\u4f59\u7684\u732a\u4e24\u4e24\u4e0d\u80fd\u5f62\u6210\u629b\u7269\u7ebf\uff08BFS\u961f\u5217\u4e3a\u7a7a\uff09\uff0c\u76f4\u63a5\u8f93\u51fa\u6240\u8bb0\u5f55\u7684\u6b65\u6570\u7684\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\n\u603b\u5171\u6709O(2^n)\u4e2a\u72b6\u6001\uff0c\u6bcf\u6b21\u8f6c\u79fb\u6240\u9700\u65f6\u95f4O(n^2)\uff0c\u6545\u6700\u7ec8\u65f6\u95f4\u590d\u6742\u5ea6O(2^n \\* n^2)\uff0c\u7531\u4e8e\u5e76\u4e0d\u662f\u6bcf\u6b21\u8f6c\u79fb\u90fd\u8981\u679a\u4e3en^2\uff08\u6709\u7684\u732a\u5df2\u7ecf\u6b7b\u4e86\uff09\u5e76\u4e14\u72b6\u6001\u6570\u4e00\u822c\u8fbe\u4e0d\u52302^n\uff08\u4e2d\u9014\u627e\u5230\u89e3\u5c31\u9000\u51fa\uff09\uff0c\u6240\u4ee5\u53ef\u4ee5\u8f83\u5feb\u901f\u7684\u901a\u8fc7\u6b64\u9898\u3002\uff08\u4e0d\u80fd\u548c\u72b6\u538bDP\u6bd4\uff09\n\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\n\nusing namespace std;\n\nconst double    eps = 1e-10;\nconst size\\_t    MaxN = 20;\n\nstruct QueTp {\n    int    ans, status;\n} Q[1 << MaxN], \\*Qs, \\*Qe;\n\nint          T, N, M;\ndouble   X[MaxN], Y[MaxN];\nint          F[MaxN][MaxN];\nbool       Vis[1 << MaxN];\n\nint main()\n{\n    cin >> T;\n    while(T--) {\n        memset(F, 0, sizeof(F));\n        memset(Vis, 0, sizeof(Vis));\n        Qs = Qe = Q;\n\n        cin >> N >> M;\n        for(int i(0); i != N; i++)\n            scanf(\"%lf%lf\", X + i, Y + i);\n\n        for(int i(0); i != N; i++)\n            for(int j(i + 1); j != N; j++) {\n                if(fabs(X[i] - X[j]) < eps)\n                    continue;\n                double    a = (Y[i] / X[i] - Y[j] / X[j]) / (X[i] - X[j]);\n                if(a >= 0.0)\n                    continue;\n                double    b = Y[i] / X[i] - a \\* X[i];\n                for(int k(0); k != N; k++)\n                    if(fabs(a \\* X[k] \\* X[k] + b \\* X[k] - Y[k]) < eps)\n                        F[i][j] |= 1 << k;\n            }\n\n        Vis[(1 << N) - 1] = true;\n        \\*Qe++ = (QueTp) {0, (1 << N) - 1};\n        int    ans(0x7f7f7f7f);\n        while(Qs != Qe) {\n            int    step(Qs -> ans), status(Qs -> status);\n            ++Qs;\n            int    s(step), tmp(status);\n            while(tmp)\n                ++s, tmp ^= tmp & -tmp;\n            ans = min(ans, s);\n            for(int i(0); i != N; i++)\n                if((1 << i) & status)\n                    for(int j(i + 1); j != N; j++)\n                        if((1 << j) & status) {\n                            int    tmp = (status & F[i][j]) ^ status;\n                            if(!tmp) {\n                                printf(\"%d\\n\", step + 1);\n                                goto l;\n                            }\n                            if(!Vis[tmp]) {\n                                Vis[tmp] = true;\n                                \\*Qe++ = (QueTp) {step + 1, tmp};\n                            }\n                        }\n            if(Qs == Qe)\n                printf(\"%d\\n\", ans);\n        }\n        l: ;\n    }\n\n    return 0;\n}",
        "postTime": 1503043572,
        "uid": 3144,
        "name": "\u6d6e\u5c18ii",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u6124\u6012\u7684\u5c0f\u9e1f\uff0c\u4e00\u4e2a\u6bd4\u8f83\u590d\u6742\u7684\u72b6\u538bdp\u3002\n\n\u5f00\u59cb\u5c06\u732a\u4e24\u4e24\u8fde\u7ebf\uff0c\u5229\u7528\u4e8c\u8fdb\u5236\u8bb0\u5f55\u8fd9\u6761\u629b\u7269\u7ebf\u53ef\u4ee5\u6253\u5230\u54ea\u51e0\u53ea\u732a\u3002\n\n\u7136\u540edp\uff0c\u6bcf\u6b21\u52a0\u5165\u65b0\u7684\u629b\u7269\u7ebf\uff0c\u6700\u540e\u8981\u6ce8\u610f\u53ef\u80fd\u6709\u5355\u72ec\u7684\u732a\u6ca1\u6709\u88ab\u4efb\u4f55\u4e00\u6761\u629b\u7269\u7ebf\u6253\u5230\uff0c\u505a\u7279\u5224\u3002\u4e0d\u7136\u4f1a\u56e0\u4e3a\u8fd9\u4e2a\u6302\u6389\u3002\n\n\u8fd8\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u5730\u65b9\uff0c\u56e0\u4e3a\u662fdouble\uff0c\u6240\u4ee5\u8981\u7cbe\u5ea6\u5224\u65ad\uff0c\u6211\u7528\u7684\u662f10\u7684-8\u6b21\u65b9\uff0c\u4f46\u662f\u770b\u597d\u50cf10\u7684-6\u6b21\u65b9\u4e5f\u53ef\u4ee5\u8fc7\u3002\n\n\n\n\n\n    \n\n    \n    \n    \n    \n\n    \n    \n        \n    \n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#include<iostream>\nusing namespace std;\nconst double wu=1e-8;\nstruct Node\n{\n    double x;\n    double y;\n}p[24];\nint state[24][24],n,m,ans[910000];\ndouble fa,fb;\nbool dfs(int w,int v)\n{\n    int i,j,k;\n    double x1,y1,x2,y2;\n    double r;\n    x1=p[w].x;\n    y1=p[w].y;\n    x2=p[v].x;\n    y2=p[v].y;\n    fa=1;\n    if(x2-x1!=0&&x2!=0&&x1!=0)\n    {\n        r=y2-x2*y1/x1;\n        fa=r/x2/(x2-x1);\n        fb=(y1-x1*x1*fa)/x1;\n    }\n    if(fa<0)\n    {\n        return true;\n    }\n    return false;\n}\nint dp(int x)\n{\n    int s,i,j,k;\n    int & w=ans[x];\n    if(w!=-1)\n    {\n        return w;\n    }\n    s=100;\n    for(i=1;i<=n;i++)\n    {\n        if(!(x&(1<<i)))//x didn't hit the i-th pig\n        {\n            s=i;//s is the nearest pig that x didn't hit\n            break;\n        }\n    }\n    if(s==100)//all the bird were hitten by x so no pig s can hit\n    {\n        return w=0;//adds 0 shoots\n    }\n    w=800000;\n    for(i=1;i<=n;i++)\n    {\n        if(i!=s)//make a shot with the i-th and s-th pig\n        {\n            w=min(w,dp(x|state[s][i])+1);//dp\n        }\n    }\n    w=min(w,dp(x|(1<<s))+1);//dp x plus the single pig\n    return w;\n}\nint main()\n{\n    int t,w,e,s,x,d,z,two,i,j,k;\n    double hh,ll;\n    scanf(\"%d\",&t);\n    while(t--)\n    {\n        memset(ans,-1,sizeof(ans));\n        memset(state,0,sizeof(state));\n        scanf(\"%d%d\",&n,&m);\n        for(i=1;i<=n;i++)\n        {\n            cin >> p[i].x >> p[i].y;\n        }\n        for(i=1;i<=n;i++)\n        {\n            for(j=1;j<=n;j++)\n            {\n                if(i!=j&&dfs(i,j)==true)// solve the equation\n                {\n                    for(k=1;k<=n;k++)\n                    {\n                        if(abs(fa*p[k].x*p[k].x+fb*p[k].x-p[k].y)<=wu)\n                        {\n                            state[i][j]|=(1<<k);\n                        }\n                    }\n                }\n            }\n        }\n        s=dp(0);\n        printf(\"%d\\n\",s);\n    }\n    return 0;\n}\n```",
        "postTime": 1502525183,
        "uid": 23145,
        "name": "hanyuwei",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "##**\u5206\u6790** \u72b6\u6001\u538b\u7f29 + \u8bb0\u5fc6\u5316\u641c\u7d22 + \u526a\u679d\n\n- \u5f88\u5bb9\u6613\u60f3\u5230\u66b4\u641c\u679a\u4e3e\u4e24\u4e2a\u672a\u88ab\u6d88\u706d\u7684\u70b9\u6765\u786e\u5b9a\u4e00\u6761\u629b\u7269\u7ebf\uff0c\u5e76\u5224\u65ad\u8fd9\u6761\u629b\u7269\u7ebf\u80fd\u6d88\u706d\u591a\u5c11\u4e2a\u70b9\uff0c\u6d88\u706d\u5b8c\u6240\u6709\u70b9\u5373\u4e3a\u4e00\u79cd\u65b9\u6848\uff08\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u6bcf\u6b21\u76f4\u63a5\u9009\u62e9\u6d88\u706d\u67d0\u4e00\u4e2a\u70b9\uff09\n\n- \u8fd9\u6837\u88f8\u641c\u80af\u5b9a\u4f1a\u8d85\u65f6\uff0c\u6211\u4eec\u8003\u8651\u5982\u4f55\u4f18\u5316\uff1a\n\n1. \u5f53\u6211\u4eec\u679a\u4e3e\u786e\u5b9a\u629b\u7269\u7ebf\u7684\u7b2c\u4e00\u4e2a\u70b9\u7684\u65f6\u5019\uff0c\u8bb0\u5f55\u5f53\u524d\u679a\u4e3e\u5230\u7684\u70b9$i$\uff0c\u5219\u4e0b\u4e00\u6b21\u53ea\u8981\u4ece\u70b9$i + 1$\u5f00\u59cb\u679a\u4e3e\u5373\u53ef\n\n2. \u6700\u591a\u53ea\u6709$18$\u4e2a\u70b9\uff0c\u53ef\u4ee5\u5c06\u5176\u538b\u7f29\u6210\u4e00\u4e2a$18$\u4f4d\u7684\u4e8c\u8fdb\u5236\u6570\uff0c\u82e5\u7b2c$i$\u4f4d\u4e3a$1$\u8868\u793a\u7b2c$i$\u4e2a\u70b9\u5df2\u88ab\u6d88\u706d\uff0c\u90a3\u4e48\u679a\u4e3e\u70b9\u7684\u65f6\u5019\u76f4\u63a5\u7528\u5f53\u524d\u4e8c\u8fdb\u5236\u72b6\u6001\u5224\u65ad\u662f\u5426\u53ef\u9009\u5373\u53ef\n\n3. \u6211\u4eec\u8bb0$f[s]$\u8868\u793a\u4e8c\u8fdb\u5236\u72b6\u6001\u4e3a$s$\u7684\u5f53\u524d\u6700\u4f18\u89e3\uff0c\u5982\u679c\u53d1\u73b0\u76ee\u524d\u5df2\u53d1\u5c04\u7684\u5c0f\u9e1f\u6570$G \\ge f[s]$\uff0c\u5219\u7ee7\u7eed\u641c\u4e0b\u53bb\u80af\u5b9a\u65f6\u4e0d\u4f18\u7684\uff0c\u5426\u5219\u5c31\u4ee4$f[s] = G$\n\n4. \u5f53$m = 1$\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u521d\u59cb\u65f6\u76f4\u63a5\u5c06$f$\u6570\u7ec4\u5168\u90e8\u8d4b\u4e3a$\\lceil \\frac{n}3 + 1\\rceil$~~\uff08\u5e76\u4e0d\u61c2\u5f97m = 2\u7684\u547d\u4ee4\u600e\u4e48\u7528\u2026\u2026\uff09~~\n\n5. \u8bb0\u6570\u7ec4$mth[i][j]$\u8868\u793a\u9009\u53d6\u4e24\u70b9$i, j$\u786e\u5b9a\u629b\u7269\u7ebf\u80fd\u6d88\u706d\u591a\u5c11\u4e2a\u70b9\uff0c\u540c\u6837\u7528\u4e8c\u8fdb\u5236\u6570\u5b58\u50a8\uff0c\u8003\u8651\u5230$mth[i][j]$\u4e2d\u53ef\u80fd\u5305\u542b\u4e00\u4e9b\u4e4b\u524d\u5df2\u7ecf\u88ab\u6d88\u706d\u7684\u70b9\uff0c\u5408\u5e76\u72b6\u6001\u65f6\u5e94\u4e3a$(s $&$mth[i][j]) + (s | mth[i][j])$\n\n6. \u6539\u53d8\u641c\u7d22\u987a\u5e8f\uff1a\u5148\u641c\u7d22\u4e24\u70b9\u786e\u5b9a\u629b\u7269\u7ebf\u7684\u505a\u6cd5\uff0c\u7136\u540e\u518d\u641c\u7d22\u5355\u72ec\u6d88\u706d\u4e00\u70b9\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u8fd9\u6837\u4f1a\u5148\u8ba1\u7b97\u51fa\u8f83\u4f18\u7684\u89e3\uff0c\u4ee5\u907f\u514d\u4e0d\u4f18\u89e3\u7684\u91cd\u590d\u641c\u7d22\n\n- \u6700\u540e\u7684\u7b54\u6848\u5373\u4e3a$f[2^n - 1]$\n\n##**\u4ee3\u7801**\n\n```cpp\n#include <cstdio>\n#include <cmath>\n#include <cstring>\n\nusing namespace std;\nconst double eps = 1e-6;\nconst int Maxn = 0x3f3f3f3f;\nconst int N = 20;\ndouble x[N], y[N]; int n, T, m;\nint f[(1 << 20) + 5], mth[N][N];\n\ninline void CkMin(int &a, const int &b) {if (a > b) a = b;}\n\ninline void Dfs(const int &t, const int &G, const int &s)\n{\n    if (G >= f[s]) return ; f[s] = G;\n    if (s == ((1 << n) - 1)) return ;\n    for (int i = t; i < n; ++i)\n    if ((s & (1 << i - 1)) == 0)\n    { \n        for (int j = i + 1; j <= n; ++j) \n         if ((s & (1 << j - 1)) == 0)\n         {\n             if (!mth[i][j]) continue;\n              Dfs(i + 1, G + 1, (s & mth[i][j]) + (s | mth[i][j]));\n         }         \n    } \n    for (int i = t; i <= n; ++i)\n     if ((s & (1 << i - 1)) == 0)\n      Dfs(i + 1, G + 1, s | (1 << i - 1));\n}\n\ninline int get()\n{\n    char ch; int res = 0; \n    while ((ch = getchar()) < '0' || ch > '9');\n    res = ch - '0';\n    while ((ch = getchar()) >= '0' && ch <= '9')\n     res = (res << 3) + (res << 1) + ch - '0';\n    return res; \n}\n\ninline void put(int x)\n{\n    if (x > 9) put(x / 10);\n    putchar(x % 10 + 48);\n}\n\nint main()\n{\n    T = get();\n    while (T--)\n    {\n        n = get(); m = get();\n        if (m & 1) for (int i = 0; i < (1 << n); ++i) f[i] = ceil((double)n / 3.0 + 1);\n         else memset(f, Maxn, sizeof(f));\n        for (int i = 1; i <= n; ++i) scanf(\"%lf %lf\", &x[i], &y[i]);\n        for (int i = 1; i < n; ++i)\n         for (int j = i + 1; j <= n; ++j)\n         {    \n             mth[i][j] = 0;\n             double a = (y[i] / x[i] - y[j] / x[j]) / (x[i] - x[j]),\n                      b = y[i] / x[i] - a * x[i];\n            if (a >= 0) continue;\n            for (int k = 1; k <= n; ++k)\n             if (fabs(a * x[k] * x[k] + b * x[k] - y[k]) < eps) \n              mth[i][j] |= (1 << k - 1);\n         }\n        Dfs(1, 0, 0); put(f[(1 << n) - 1]), putchar('\\n');\n    }\n}\n```",
        "postTime": 1501979477,
        "uid": 17952,
        "name": "Log_x",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u697c\u4e0b\u5df2\u6709\u505a\u6cd5\uff1a\u641c\u7d22\uff0c\u968f\u673a\u5316\n\n\u6211\u7684\u505a\u6cd5\uff1a\u72b6\u538bDP\n\n\u672c\u849f\u84bb\u8003\u573a\u4e0a\u538b\u6839\u6ca1\u770b\u51fa\u6765\u554a\u4e8e\u662f\u5199\u4e86\u8d2a\u5fc3\u3002\u3002\u51fa\u6765\u5b66\u957f\u8bf4\u8fd9\u4e0d\u662fDP\u9898\u5417\u5199\u4ec0\u4e48\u8d2a\u5fc3\u4f60\u80af\u5b9a\u8981GG\u4e86\u3002\n\n\u4e8e\u662f\u6211\u4e5f\u8fd9\u4e48\u4fe1\u4e86\uff0c\u67e5\u5206\u7684\u65f6\u5019\u4e0d\u62b1\u5e0c\u671b\u4e86\uff0c\u4f46\u662f\u4e00\u67e5\uff0cwoc\u8d2a\u5fc3\u7adf\u7136\u80fd\u670950\u3002\u3002\u53ea\u80fd\u8bf4\u660e\u6570\u636e\u5f31\u6211\u4e5f\u5f31\uff0c\u770b\u5230n<=18\u4e5f\u6562\u5199\u8d2a\u5fc3\u3002\n\n\u597d\u5427\u5e9f\u8bdd\u4e0d\u591a\u8bf4\u6765\u8bf4\u8bf4\u8fd9\u9898\uff1a\n\n50\u5206\u505a\u6cd5\uff1a\n\n\u8d2a\u5fc3\u3002\u6bcf\u6b21\u627e\u5230\u4e00\u6761\u7ecf\u8fc7\u6700\u591a\u53ea\u732a\u7684\u629b\u7269\u7ebf\uff0c\u5220\u9664\u8fd9\u6761\u7ebf\u4e0a\u7684\u732a\uff0c\u7136\u540e\u7ee7\u7eed\u76f4\u5230\u6ca1\u6709\u732a\u6216\u8005\u6ca1\u6709\u4e24\u5934\u732a\u80fd\u6784\u6210\u4e00\u6761\u629b\u7269\u7ebf\u3002\n\n\u671f\u671b\u6548\u7387\uff1an^4(\u8dd1\u5f97\u98de\u5feb)\n\n\u671f\u671b\u5f97\u5206\uff1a50\n\n#\u6b63\u786e\u505a\u6cd5\uff1a\n\nDP\u3002\u7528\u4e00\u4e2abitset\u4fdd\u5b58\u6bcf\u6761\u629b\u7269\u7ebf\u7ecf\u8fc7\u7684\u732a\uff0c\u5bf9\u6bcf\u4e2a\u72b6\u6001\u4f9d\u6b21\u904d\u5386\u3002\u4f46\u662f\u8fd9\u6837\u53ea\u80fd\u62ff85\uff0c\u56e0\u4e3a\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(2^n\\*n^2).\u6240\u4ee5\u6211\u4eec\u8981\u52a0\u4e00\u4e2a\u4f18\u5316\uff0c\u5c31\u662f\u6bcf\u4e2a\u72b6\u6001\u7684\u7b2c\u4e00\u5934\u732a\u65e9\u6b7b\u665a\u6b7b\u90fd\u5f97\u6b7b\uff0c\u4e8e\u662f\u6211\u4eec\u53ea\u9700\u8981\u5bf9\u6bcf\u4e2a\u72b6\u6001\u8003\u8651\u80fd\u6253\u6389\u4ece\u524d\u5f80\u540e\u6570\u7b2c\u4e00\u5934\u732a\u7684\u629b\u7269\u7ebf\u5373\u53ef\u3002\n\n##\u4e0aAC\u4ee3\u7801(50\u5206\u8d2a\u5fc3\u9644\u5728\u540e\u5934)\uff1a\n\n```cpp\n#include<cmath>\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<bitset>\n#include<algorithm>\n#define eps 0.000001\nusing namespace std;\ndouble px[20];\ndouble py[20];\nint f[1<<20];\nint tk[400];\nint tks[20][20];\nint tkn[20];\nint main(){\n    freopen(\"angrybirds.in\",\"r\",stdin);\n    freopen(\"angrybirds.out\",\"w\",stdout);\n    int t;\n    cin>>t;\n    while(t--){\n        memset(f,0x3f,sizeof(f));\n        memset(tkn,0,sizeof tkn);\n        int n,m,ans=0,tn=0;\n        cin>>n>>m;\n        for(int j=0;j<n;j++){\n            cin>>px[j]>>py[j];\n        }\n        for(int p1=0;p1<n;p1++){\n            for(int p2=p1+1;p2<n;p2++){\n                double a,b;\n                double x1,x2,y1,y2;\n                x1=px[p1];x2=px[p2];y1=py[p1];y2=py[p2];\n                a=(y1*x2-y2*x1)/(x1*x2*(x1-x2));\n                b=(y1*x2*x2-y2*x1*x1)/(x1*x2*(x2-x1));\n                if(a>-eps)continue;\n                if(x1-x2<eps&&x1-x2>-eps)continue;\n                bitset<18> curval;\n                curval[p1]=1;\n                curval[p2]=1;\n                for(int p3=0;p3<n;p3++){\n                    if(p3==p1||p3==p2)continue;\n                    else{\n                        double x3,y3;\n                        x3=px[p3];\n                        y3=py[p3];\n                        if((a*x3*x3+b*x3-y3)<eps&&(a*x3*x3+b*x3-y3)>-eps)curval[p3]=1;\n                    }\n                }\n                tk[tn++]=curval.to_ulong();\n            }\n        }\n        sort(tk,tk+tn);\n        tn=unique(tk,tk+tn)-tk;\n        for(int i=0;i<tn;i++){\n            for(int j=0;j<n;j++){\n                if((tk[i]|(1<<j))==tk[i])tks[j][tkn[j]++]=tk[i];\n            }\n        }\n        for(int i=0;i<n;i++){\n            tks[i][tkn[i]++]=1<<i;\n        }\n        f[0]=0;\n        for(int i=0;i<(1<<n);i++){\n            bitset<18> cur(i);\n            cur.flip();\n            int fir=cur._Find_first();\n            for(int j=0;j<tkn[fir];j++){\n                f[i|tks[fir][j]]=min(f[i]+1,f[i|tks[fir][j]]);\n            }\n        }\n        cout<<f[(1<<n)-1]<<endl;\n    }\n    return 0;\n}\n```\n##50\u5206\u8d2a\u5fc3\u4ee3\u7801\uff1a\n\n```cpp\n#include<cmath>\n#include<iostream>\n#include<cstdio>\n#define eps 0.000001\nusing namespace std;\ndouble px[20];\ndouble py[20];\nbool dead[20];\nint main(){\n    freopen(\"angrybirds.in\",\"r\",stdin);\n    freopen(\"angrybirds.out\",\"w\",stdout);\n    int t;\n    cin>>t;\n    for(int i=0;i<t;i++){\n        int n,m,ans=0;\n        cin>>n>>m;\n        for(int j=0;j<n;j++){\n            cin>>px[j]>>py[j];\n            dead[j]=false;\n        }\n        int left=n;\n        while(left){\n            if(left==1){\n                left--;\n                ans++;\n                break;\n            }\n            int best=0;\n            double besta,bestb;\n            for(int p1=0;p1<n;p1++){\n                for(int p2=p1+1;p2<n;p2++){\n                    double a,b;\n                    double x1,x2,y1,y2;\n                    x1=px[p1];x2=px[p2];y1=py[p1];y2=py[p2];\n                    a=(y1*x2-y2*x1)/(x1*x2*(x1-x2));\n                    b=(y1*x2*x2-y2*x1*x1)/(x1*x2*(x2-x1));\n                    if(a>0)continue;\n                    if(x1==x2)continue;\n                    if(a<eps&&a>-eps&&b-1<eps&&b-1>-eps)continue;\n                    if(dead[p1]||dead[p2])continue;\n                    int ot=2;\n                    for(int p3=0;p3<n;p3++){\n                        if(p3==p1||p3==p2||dead[p3])continue;\n                        else{\n                            double x3,y3;\n                            x3=px[p3];\n                            y3=py[p3];\n                            if((a*x3*x3+b*x3-y3)<eps&&(a*x3*x3+b*x3-y3)>-eps)ot++;\n                        }\n                    }\n                    if(ot>best){\n                        best=ot;\n                        besta=a;\n                        bestb=b;\n                    }\n                }\n            }\n            if(best==0){\n                ans+=left;\n                break;\n            }\n            for(int p1=0;p1<n;p1++){\n                double x1,y1;\n                x1=px[p1];\n                y1=py[p1];\n                if((besta*x1*x1+bestb*x1-y1)<eps&&(besta*x1*x1+bestb*x1-y1)>-eps){\n                    dead[p1]=true;\n                }\n            }\n            left-=best;\n            ans++;\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n```",
        "postTime": 1485343091,
        "uid": 21421,
        "name": "pantw",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u4e0d\u96be\u770b\u51fa\u8fd9\u662f\u641c\u7d22\u9898\u3002\n\n\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u7528p[i][j]\u8868\u793a\u7528\u4e00\u53ea\u5c0f\u9e1f\u5728\u6253\u4e2d\u7f16\u53f7\u4e3ai\u548cj\u7684\u5c0f\u732a\u7684\u524d\u63d0\u4e0b\u6240\u80fd\u6253\u4e2d\u7684\u5c0f\u732a\u7684\u4fe1\u606f\uff08\u4e8c\u8fdb\u5236\u5b58\u50a8\uff09\n\n\u7136\u540e\uff0c\u4ece\u5c0f\u5230\u5927\u641c\u7d22\u6ca1\u6b7b\u7684\u5c0f\u732a\uff0c\u518d\u641c\u7d22\u4e00\u53ea\u732a\uff0c\u628a\u4ed6\u4eec\u4e00\u8d77\u6253\u6389\uff08\u4f46\u6709\u65f6\u5019\u53ea\u80fd\u6253\u4e00\u53ea\uff0c\u56e0\u4e3aa\u5fc5\u987b\u5c0f\u4e8e0\uff09\n\n\u52a0\u4e9b\u526a\u679d\uff0c\u5c31AC\u4e86\uff08\u526a\u679d\u53c2\u8003\u4ee3\u7801\uff09\n\n\u800c\u4e14\u4e3a\u4e86\u65b9\u4fbf\u5feb\u6377\uff0c\u6211\u7528\u4e86\u4e00\u4e9b\u4f4d\u8fd0\u7b97\n\n\u9644\u4ee3\u7801\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<cstring>\n#include<cstdlib>\nusing namespace std;\nint n,m,p[20][20],T,ans,f[20][(1<<18)+2];\ndouble x[20],y[20],a,b,aa,bb;\nvoid dfs(int x,int y,int z){///x\u8868\u793a\u641c\u5230\u54ea\u53ea\u5c0f\u732a\uff0cy\u8868\u793a\u5f53\u524d\u72b6\u6001\uff0cz\u8868\u793a\u5df2\u7528\u4e86\u591a\u5c11\u53ea\u9e1f\n    if (x==n)\n    {\n        ans=min(ans,z);\n        return;\n    }\n    if (z>ans)return;\n    if (z>=f[x][y])return;\n    f[x][y]=z;//\u5224\u91cd\n    if (y&(1<<x))dfs(x+1,y,z);\n    else\n    {\n        bool u=0;\n        for (int i=x+1;i<n;i++)\n        if (!(y&(1<<i)))\n        {u=1;dfs(x+1,y|p[x][i],z+1);}\n        if (!u)dfs(x+1,y|(1<<x),z+1);\n    }\n}\nint main()\n{\n    scanf(\"%d\",&T);\n    while(T--)\n    {\n        scanf(\"%d%d\",&n,&m);\n        for (int i=0;i<n;i++)\n        scanf(\"%lf%lf\",&x[i],&y[i]);\n        memset(p,0,sizeof(p));\n        for (int i=0;i<=n;i++)\n        for (int j=0;j<=(1<<n);j++)\n        f[i][j]=1e9;\n        for (int i=0;i<n;i++)\n        for (int j=i+1;j<n;j++)\n        {\n            b=(y[i]-(x[i]*x[i]*y[j])/(x[j]*x[j]))/(x[i]-(x[j]*x[i]*x[i])/(x[j]*x[j]));//\u89e3\u65b9\u7a0b\n            a=(y[j]-b*x[j])/(x[j]*x[j]);\n            if (a>=0)continue;\n            for (int k=0;k<n;k++)\n            if (k!=i)\n            {\n                bb=(y[i]-(x[i]*x[i]*y[k])/(x[k]*x[k]))/(x[i]-(x[k]*x[i]*x[i])/(x[k]*x[k]));\n                aa=(y[k]-b*x[k])/(x[k]*x[k]);\n                if (abs(bb-b)<1e-6 && abs(aa-a)<1e-6 && aa<0)\n                p[i][j]+=1<<k;\n            }\n            else p[i][j]+=1<<i;\n        }\n        if (m==1)ans=ceill(n/3.0+1);\n        else ans=1e9;\n        dfs(0,0,0);\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}\n```",
        "postTime": 1484489989,
        "uid": 14738,
        "name": "1124828077ccj",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u72b6\u538b\u5bbd\u641c\uff0cNOIP\u6570\u636e\u5168\u8fc7\uff0c\u6d1b\u8c37\u6570\u636e\u6709\u70b9\u5f3a\uff0c\u7b49\u4f1a\u513f\u8bd5\u8bd5\u53cc\u5411\u5bbd\u641cwww\n\n>#include<algorithm>\n```cpp\n#include<iostream>\n#include<iomanip>\n#include<cstring>\n#include<cstdlib>\n#include<vector>\n#include<cstdio>\n#include<cmath>\n#include<queue>\n#include<map>\nusing namespace std;\ninline const int Get_Int() {\n    int num=0,bj=1;\n    char x=getchar();\n    while(x<'0'||x>'9') {\n        if(x=='-')bj=-1;\n        x=getchar();\n    }\n    while(x>='0'&&x<='9') {\n        num=num*10+x-'0';\n        x=getchar();\n    }\n    return num*bj;\n}\nstruct Point {\n    double x,y;\n} Pig[55];\nstruct QueNode {\n    int state,step;\n};\nint t,n,m,cnt=0,Bird[(1<<20)+5],Hash[(1<<20)+5]= {0};\nvoid Calc(const Point& P1,const Point& P2,double& a,double& b) {\n    a=(P1.y/P1.x-P2.y/P2.x)/(P1.x-P2.x);\n    b=(P1.y/P1.x)-(a*P1.x);\n}\nvoid Bfs() {\n    memset(Hash,0,sizeof(Hash));\n    queue<QueNode> Q;\n    Q.push((QueNode) {\n```\n0,0\n```cpp\n    });\n    while(!Q.empty()) {\n        QueNode Now=Q.front();\n        int state=Now.state;\n        if(state==(1<<(n+1))-2) {\n            printf(\"%d\\n\",Now.step);\n            return;\n        }\n        for(int i=1; i<=cnt; i++) {\n            int Next=state|Bird[i]; //\u9009\u62e9\u6b64\u629b\u7269\u7ebf \n            if(!Hash[Next]) {\n                Hash[Next]=1;\n                Q.push((QueNode) {\n```\nNext,Now.step+1\n```cpp\n                });\n            }\n        }\n        Q.pop();\n    }\n}\nint main() {\n    ios::sync_with_stdio(false);\n    cin>>t;\n    while(t--) {\n        cin>>n>>m;\n        memset(Bird,0,sizeof(Bird));\n        cnt=0;\n        for(int i=1; i<=n; i++)cin>>Pig[i].x>>Pig[i].y;\n        for(int i=1; i<=n; i++) {\n            for(int j=i+1; j<=n; j++) {\n                double a,b;\n                Calc(Pig[i],Pig[j],a,b);\n                if(a>=0) {\n                    Bird[++cnt]=(1<<i);\n                    continue;\n                }\n                int State=0;\n                for(int k=1; k<=n; k++)\n                    if(fabs(a*Pig[k].x*Pig[k].x+b*Pig[k].x-Pig[k].y)<1e-8)State|=(1<<k);\n                Bird[++cnt]=State; //\u538b\u7f29\u8fdb\u6240\u6709\u7684\u80fd\u8986\u76d6\u7684\u70b9 \n            }\n        }\n        Bird[++cnt]=(1<<n);\n        Bfs();\n    }\n    return 0;\n}\n\n```",
        "postTime": 1480683137,
        "uid": 31877,
        "name": "BillYang",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\n\u9996\u5148\uff0c\u6211\u4eec\u5f97\u77e5\u9053\u8fc7\u539f\u70b9\u4e0e\u4e24\u70b9\u7684\u629b\u7269\u7ebf\u89e3\u6790\u5f0f\uff1a\n\n\u8bbe\u8be5\u51fd\u6570\u89e3\u6790\u5f0f\u4e3a $y=ax^2+bx+c(a < 0)$\u4e14\u8fc7 $(0,0),(x_1,y_1),(x_2,y_2)$ \u4e09\u70b9\u3002\n\n\u7531\u51fd\u6570\u8fc7 $(0,0)$ \u5f97 $c=0$\u3002\n\n\u51fd\u6570\u89e3\u6790\u5f0f\u4e3a $y=ax^2+bx(a < 0)$\n\n$$\n\\begin{cases}\n{ax_1}^2+bx_1=y_1\\\\\n{ax_2}^2+bx_2=y_2\n\\end{cases}\n$$\n\n$$\n\\begin{cases}\na=\\frac{y1-bx_1}{{x_1}^2}\\\\\na=\\frac{y2-bx_2}{{x_2}^2}\n\\end{cases}\n$$\n\n$$\n\\to \\frac{y_1-bx_1}{{x_1}^2}=\\frac{y_2-bx_2}{{x_2}^2}\n$$\n\n$$\n\\to (y_1-bx_1)* {{x_2}^2}=(y_2-bx_2)*{{x_1}^2}\n$$\n\n$$\n\\to y_1*{x_2}^2-bx_1*{x_2}^2=y_2*{x_1}^2-bx_2*{x_1}^2\n$$\n\n$$\n\\to bx_2*{x_1}^2-bx_1*{x_2}^2=y_2*{x_1}^2-y_1*{x_2}^2\n$$\n\n$$\n\\to bx_1-bx_2=\\frac{y_2*{x_1}^2-y_1*{x_2}^2}{x_1x_2}\n$$\n\n$$\n\\to b=\\frac{y_2*{x_1}^2-y_1*{x_2}^2}{x_1x_2(x_1-x_2)}\n$$\n\n$$\n\\to a=\\frac{y_1-bx_1}{{x_1}^2}\n$$\n\n$$\n\\to a=\\frac{x_2*y_1-x_1*y_2}{x_1x_2(x_2-x_1)}\n$$\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c\u51fd\u6570\u89e3\u6790\u5f0f\u4e3a\n$$\ny=\\frac{x_2*y_1-x_1*y_2}{x_1x_2(x_2-x_1)}x^2+\\frac{y_2*{x_1}^2-y_1*{x_2}^2}{x_1x_2(x_1-x_2)}x\n$$\n\n***\n\n$$\n\\text{dfs(x,num,lon)\u8868\u793a\u5904\u7406\u5230\u7b2c$x$\u53ea\u732a\uff0c\u7528\u4e86$num$\u53ea\u9e1f\uff0c\u5269\u4e0b$lon$\u53ea\u6ca1\u6709\u88ab\u51fb\u4e2d}\n$$\n\n\u5269\u4e0b\u7684\u5c31\u5bb9\u6613\u5904\u7406\u4e86\u3002\n\n```cpp\n#include <cstdio>\n#include <cmath>\n#include <iostream>\nusing namespace std;\n#define eps 1e-8\n#define Paird pair<double,double>\n\nconst int MAXN = 20;\nint t , n , m , Ans , s;\nstruct node{\n\tdouble x , y;\n}dex[ MAXN + 5 ] , fun[ MAXN + 5 ] , lone[ MAXN + 5 ];\nPaird calc( node a , node b ) {\n\tdouble A = ( b.x * a.y - a.x * b.y ) / ( a.x * b.x * ( a.x - b.x ) ) , B = ( b.y * a.x * a.x - a.y * b.x * b.x ) / ( a.x * b.x * ( a.x - b.x ) );\n\treturn { A , B };\n}\n\nvoid dfs( int x , int num , int lon ) {\n\tif( num + lon >= Ans ) return;\n\tif( x == n + 1 ) {\n\t\tAns = num + lon;\t//\u4f7f\u7528\u7684\u9e1f+\u5269\u4e0b\u7684\u732a\u5404\u9700\u4e00\u53ea\u9e1f\n\t\treturn;\n\t}\n\t\n\tfor( int i = 1 ; i <= num ; i ++ ) //\u770b\u8fd9\u53ea\u732a\u80fd\u5426\u88ab\u4e4b\u524d\u7684\u4e00\u53ea\u9e1f\u51fb\u4e2d\n\t\tif( fabs( fun[ i ].x * dex[ x ].x * dex[ x ].x + fun[ i ].y * dex[ x ].x - dex[ x ].y ) < eps ) {\n\t\t\tdfs( x + 1 , num , lon );\n\t\t\treturn;\n\t\t}\n\tfor( int i = 1 ; i <= lon ; i ++ ) {\t//\u4e0e\u4e4b\u524d\u5269\u4e0b\u7684\u4e00\u53ea\u732a\u7ec4\u6210\u629b\u7269\u7ebf\n\t\tif( fabs( dex[ x ].x - lone[ i ].x ) < eps ) continue; \n\t\tPaird s = calc( dex[ x ] , lone[ i ] );\n\t\tif( s.first < 0 ) {\n\t\t\tfun[ num + 1 ] = { s.first , s.second };\n\t\t\t\n\t\t\tnode tmp[ MAXN + 5 ];\n\t\t\tfor( int k = i ; k <= lon ; k ++ )\n\t\t\t\ttmp[ k ] = lone[ k ];\n\t\t\tfor( int k = i ; k < lon ; k ++ )\n\t\t\t\tlone[ k ] = lone[ k + 1 ];\n\t\t\tdfs( x + 1 , num + 1 , lon - 1 );\n\t\t\tfor( int k = i ; k <= lon ; k ++ )\n\t\t\t\tlone[ k ] = tmp[ k ];\n\t\t}\n\t}\n\tlone[ lon + 1 ] = dex[ x ];\t\t//\u4f5c\u4e3a\u5269\u4e0b\u7684\u4e00\u53ea\u732a\n\tdfs( x + 1 , num , lon + 1 );\n}\n\nint main( ) {\n\tscanf(\"%d\",&t);\n\twhile( t -- ) {\n\t\tscanf(\"%d %d\",&n,&m); Ans = n;\n\t\tfor( int i = 1 ; i <= n ; i ++ )\n\t\t\tscanf(\"%lf %lf\",&dex[ i ].x,&dex[ i ].y);\n\t\tdfs( 1 , 0 , 0 );\n\t\tprintf(\"%d\\n\",Ans);\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1573282368,
        "uid": 123802,
        "name": "chihik",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u6124\u6012\u7684\u5c0f\u9e1f"
    },
    {
        "content": "# \u6124\u6012\u7684\u5c0f\u9e1f \u9898\u89e3\n\n### 1. \u8003\u573a\u4e0a\u7684\u601d\u8def\uff1a\n\n\u5bf9\u4e8e\u7ed9\u51fa\u7684\u4efb\u610f\u4e00\u70b9$(x,y)$\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u4ee3\u5165\u5230\u5173\u7cfb\u5f0f\u4e2d$ax^2+bx=y$\uff0c\u5373$x^2 a+xb-y=0$\uff0c\u5316\u6210\u4e00\u6761\u76f4\u7ebf\uff0c\u5728\u8fd9\u6761\u76f4\u7ebf\u7684\u5750\u6807\u7cfb\u4e2d\uff0c\u6a2a\u8f74\u8868\u793a$a$\uff0c\u7eb5\u8f74\u8868\u793a$b$\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5982\u679c\u628a\u6240\u6709\u7684\u8fd9\u4e9b\u76f4\u7ebf\u5168\u90e8\u753b\u51fa\u6765\uff0c\u90a3\u4e48\u628a\u53d6$(a,b)$\u4e3a\u8fd9\u4e9b**\u76f4\u7ebf\u7684\u4ea4\u70b9**\u4e4b\u4e00\uff0c\u518d\u628a\u6240\u6709\u7684\u8fd9\u4e9b\u7b26\u5408$a<0$\u7684\u70b9\u5168\u90e8\u5217\u51fa\u6765\uff0c\u4f18\u5148\u6311\u9009\u90a3\u4e9b\u6709\u66f4\u591a\u76f4\u7ebf\u7ecf\u8fc7\u7684\u70b9\uff08\u9009\u4e2d\u8fd9\u4e9b\u70b9**\u80fd\u591f\u4e00\u6b21\u6027\u6d88\u706d\u66f4\u591a\u5c0f\u732a**\uff09\u5373\u53ef\u3002\n\n\u7136\u800c\u8fd9\u4e2a**\u8d2a\u5fc3\u7b97\u6cd5**\u53ea\u9002\u7528\u4e8e$n\\le3$\u7684\u60c5\u51b5\uff0c\u4e8e\u662f\u53ea\u670920\u5206\u2026\u2026\n\n```cpp\n#include <cstdio>\n#include <set>\n#include <map>\n#include <vector>\n#include <queue>\n#include <cstring>\nusing namespace std;\nconst int MAXN=20;\nint t,n,m,ans;\ndouble x[MAXN],y[MAXN],z[MAXN];\nbool b[MAXN];\nstruct Point{\n\tpair<double,double> p;\n\tint cnt;\n};\nbool operator < (Point a,Point b)\n{\n\treturn a.cnt<b.cnt;\n}\nset<pair<double,double> > s;\nmap<pair<double,double>,int> cp;\nmap<pair<double,double>,vector<pair<int,int> > > lp;\nmap<int,vector<pair<int,int> > > ltp;\npriority_queue<Point> q;\npair<double,double> solve (double o1,double p1,double q1,double o2,double p2,double q2){\n\tif (o1*p2-o2*p1==0||o2*p1-o1*p2==0) return make_pair(1,0);\n\telse return make_pair((p1*q2-p2*q1)/(o1*p2-o2*p1),(o1*q2-o2*q1)/(o2*p1-o1*p2));\n}\ninline void setup()\n{\n\tans=0;\n\tmemset(x,0,sizeof(x));\n\tmemset(y,0,sizeof(y));\n\tmemset(z,0,sizeof(z));\n\tmemset(b,0,sizeof(b));\n\ts.clear();\n\tcp.clear();\n\tlp.clear();\n\tltp.clear();\n\twhile (!q.empty()) q.pop();\n}\nint main(){\n\t//freopen(\"in.txt\",\"r\",stdin);\n\tfreopen(\"angrybirds.in\",\"r\",stdin);\n\tfreopen(\"angrybirds.out\",\"w\",stdout);\n\tscanf(\"%d\",&t);\n\twhile (t--){\n\t\tsetup();\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tfor (int i=1;i<=n;i++)\n\t\t{\n\t\t\tdouble x0,y0;\n\t\t\tscanf(\"%lf%lf\",&x0,&y0);\n\t\t\tx[i]=x0*x0,y[i]=x0,z[i]=-y0;\n\t\t}\n\t\tfor (int i=1;i<=n;i++)\n\t\t\tfor (int j=i+1;j<=n;j++)\n\t\t\t{\n\t\t\t\tpair<double,double> ans=solve(x[i],y[i],z[i],x[j],y[j],z[j]);\n\t\t\t\t//printf(\"%lf %lf\\n\",ans.first,ans.second);\n\t\t\t\tif (ans.first<0) s.insert(ans),cp[ans]++,lp[ans].push_back(make_pair(i,j)),ltp[i].push_back(ans),ltp[j].push_back(ans);\n\t\t\t}\n\t\t//putchar('\\n');\n\t\tfor (set<pair<double,double> >::iterator i=s.begin();i!=s.end();i++)\n\t\t{\n\t\t\t//printf(\"%lf %lf\\n\",(*i).first,(*i).second);\n\t\t\tPoint tmp;\n\t\t\ttmp.p=*i,tmp.cnt=cp[*i];\n\t\t\tq.push(tmp);\n\t\t}\n\t\tint maxv=0; pair<double,double> maxp;\n\t\t/*vector<Point>::iterator x;\n\t\twhile (q.size())\n\t\t{\n\t\t\tint c=0;\n\t\t\tfor (vector<Point>::iterator i=q.begin();i!=q.end();i++)\n\t\t\t\tif ((*i).cnt>maxv) x=i,maxv=(*i).cnt,maxp=(*i).p;\n\t\t\tfor (vector<pair<int,int> >::iterator i=lp[maxp].begin();i!=lp[maxp].end();i++)\n\t\t\t{\n\t\t\t\tif (!b[(*i).first])\n\t\t\t\t{\n\t\t\t\t\tb[(*i).first]=true,c++;\n\t\t\t\t}\n\t\t\t\tif (!b[(*i).second])\n\t\t\t\t{\n\t\t\t\t\tb[(*i).second]=true,c++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (c!=0) ans++;\n\t\t\tq.erase(x);\n\t\t}*/\n\t\twhile (!q.empty())\n\t\t{\n\t\t\tPoint x=q.top(); q.pop();\n\t\t\tint c=0;\n\t\t\tfor (vector<pair<int,int> >::iterator i=lp[x.p].begin();i!=lp[x.p].end();i++)\n\t\t\t{\n\t\t\t\tif (!b[(*i).first])\n\t\t\t\t{\n\t\t\t\t\tb[(*i).first]=true,c++;\n\t\t\t\t}\n\t\t\t\tif (!b[(*i).second])\n\t\t\t\t{\n\t\t\t\t\tb[(*i).second]=true,c++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (c==0) continue;\n\t\t\telse ans++;\n\t\t}\n\t\tfor (int i=1;i<=n;i++)\n\t\t\tif (!b[i]) ans++;\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n```\n\n\n### 2. \u81ea\u5df1\u7422\u78e8\u7684\u65f6\u5019\n\n\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528**\u52a8\u6001\u89c4\u5212**\u6765\u5b8c\u6210\u6240\u6709\u60c5\u51b5\u7684\u8003\u8651\uff1a\u6211\u4eec\u53ef\u4ee5\u8bbe\u72b6\u6001$f[x]$\uff0c\u5c06$x$\u8fdb\u884c**\u4e8c\u8fdb\u5236\u62c6\u5206**\uff08\u72b6\u6001\u538b\u7f29\uff09\uff0c\u5176\u4e2d\u5bf9\u4e8e\u4efb\u610f\u7b2c$i$\u4f4d\u4e3a1\uff0c\u5219\u8868\u793a\u7b2c$i$\u5934\u5c0f\u732a\u88ab\u6d88\u706d\u3002\n\n\u5982\u4f55\u5224\u65ad\u5f53\u524d\u7684\u9009\u62e9\u80fd\u591f\u6d88\u706d\u591a\u5c11\u5c0f\u732a\uff1f\u5206\u6790\u8ddf\u8003\u573a\u4e0a\u7684\u5206\u6790\u662f\u4e00\u6837\u7684\uff0c\u53ea\u662f\u6700\u540e\u7528\u7684\u662f\u52a8\u6001\u89c4\u5212\u6c42\u6700\u4f18\u89e3\u800c\u5df2\u3002\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$f_{i|para_j}=min\\{f_i+1\\}$\n\n\u521d\u503c\uff1a$f_i=Inf$\n\n\u76ee\u6807\uff1a$f_{2^n-1}$\n\n\u9644\u6e90\u4ee3\u7801\uff1a\n\n```cpp\n#include <cstdio>\n#include <queue>\n#include <algorithm>\n#include <cmath>\n#include <iostream>\n#define inf 0x3f3f3f3f\nusing namespace std;\nconst int MAXN=1e5+10;\nconst int MAXM=7e6+10;\ntypedef long long ll;\nll n,m,q,u,v,t,cnt;\nll delta;\nll a[MAXN];\nqueue <ll> Q,q1,q2;\nbool cmp(ll a,ll b)\n{\n\treturn a>b;\n}\nint main()\n{\n\t//freopen(\"in.txt\",\"r\",stdin);\n\t//freopen(\"out.txt\",\"w\",stdout);\n\tscanf(\"%lld%lld%lld%lld%lld%lld\",&n,&m,&q,&u,&v,&t);\n\tfor (int i=1;i<=n;i++)\n\t\tscanf(\"%lld\",&a[i]);\n\tsort(a+1,a+1+n,cmp);\n\tfor (int i=1;i<=n;i++)\n\t\tQ.push(a[i]);\n\tfor (int i=1;i<=m;i++)\n\t{\n\t\tll t1,t2,t0,res,x1,x2;\n\t\tt0=t1=t2=res=-inf;\n\t\tif (!Q.empty()) t0=Q.front();\n\t\tif (!q1.empty()) t1=q1.front();\n\t\tif (!q2.empty()) t2=q2.front();\n\t\tres=max(t0,max(t1,t2));\n\t\tif (!Q.empty()&&res==t0) Q.pop();\n\t\telse if (!q1.empty()&&res==t1) q1.pop();\n\t\telse if (!q2.empty()&&res==t2) q2.pop();\n\t\tres=res+delta;\n\t\tx1=floor((ll)u*res/v); x2=res-floor((ll)u*res/v);\n\t\tq1.push(x1-delta-q);\n\t\tq2.push(x2-delta-q);\n\t\tdelta+=q;\n\t\tif (cnt<floor(i/t)) cnt++,printf(\"%lld \",res);\n\t}\n\tputchar('\\n');\n\tcnt=0;\n\tfor (int i=1;i<=n+m;i++)\n\t{\n\t\tll t1,t2,t0,res;\n\t\tt0=t1=t2=res=-inf;\n\t\tif (!Q.empty()) t0=Q.front();\n\t\tif (!q1.empty()) t1=q1.front();\n\t\tif (!q2.empty()) t2=q2.front();\n\t\tres=max(t0,max(t1,t2));\n\t\tif (!Q.empty()&&res==t0) Q.pop();\n\t\telse if (!q1.empty()&&res==t1) q1.pop();\n\t\telse if (!q2.empty()&&res==t2) q2.pop();\n\t\tres=res+delta;\n\t\tif (cnt<floor(i/t)) cnt++,printf(\"%lld \",res);\n\t}\n}\n```\n",
        "postTime": 1573220999,
        "uid": 113476,
        "name": "Gorun",
        "ccfLevel": 4,
        "title": "\u9898\u89e3\u3010P2831\u3011 \u6124\u6012\u7684\u5c0f\u9e1f"
    },
    {
        "content": "\u672c\u849f\u84bb\u7b2c\u4e00\u6b21\u53d1\u9898\u89e3\uff0c\u591a\u591a\u5305\u6db5\u3002\n\n\u672c\u9898\u660e\u663e\u662f\u4e00\u9053**\u72b6\u6001\u538b\u7f29DP**\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a**f[i|st[j][k]]=min(f[i|st[j][k]],f[i]+1);**\n\n\u6211\u4eec\u8981\u679a\u4e3e\u4e24\u53ea\u5c0f\u732a\uff0c\u8bbe\u7b2c\u4e00\u53ea\u5c0f\u732a\u7684\u5750\u6807\u662f(x1,y1)\uff0c\u7b2c\u4e8c\u53ea\u5750\u6807\u4e3a(x2,y2)\u3002\n\u5f97\uff1a\n### \ufe5by\u2081=ax\u2081\u00b2+bx\u2081\n### y\u2082=ax\u2082\u00b2+bx\u2082\n\u89e3\u5f97\uff1a\n### \ta=(y\u2081-bx\u2081)/x\u2081\u00b2\n\n\n\u4ee3\u7801\u5982\u4e0b\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef double db;\nconst int maxn=(1<<18)+100;\nint t,n,m;\nstruct node{//\u5c0f\u732a\u7684\u5750\u6807 \n\tdb x,y;\n}pi[20];\nint st[20][20],vis[20];\nint dp[maxn];\nint calc(int d1,int d2) {\n\tdb x1=pi[d1].x,y1=pi[d1].y;\n\tdb x2=pi[d2].x,y2=pi[d2].y;\n\tif(x1==x2)return 0;\n\tdb tx=x1*x1*x2-x2*x2*x1,ty=y1*x2-y2*x1;\n\tdb a=ty/tx,b=(y1-a*x1*x1)/x1;\n\tif(a>=0)return 0;//\u4e24\u53ea\u5c0f\u732a\u4e0d\u80fd\u88ab\u4e00\u8d77\u6d88\u706d \u671d\u5929\u98de \n\tint res=0;//\u8bb0\u5f55\u8fd9\u6761\u629b\u7269\u7ebf\u80fd\u6d88\u706d\u7684\u5c0f\u732a \n\tvis[d1]=vis[d2]=1;//\u5f53\u524d\u4e24\u53ea\u53ef\u4ee5\u5e72\u6389 \n\tfor(int i=1;i<=n;++i) {//\u679a\u4e3e \u5176\u4ed6\u4e5f\u5728\u5f39\u9053\u4e0a\u7684\u732a \n\t\tdb x=pi[i].x,y=pi[i].y;\n\t\tif(fabs(a*x*x+b*x-y)<1e-7) {//\u5b9e\u6570\u7cbe\u5ea6 \n\t\t\tres|=1<<(i-1);\n\t\t\tdp[1<<(i-1)]=dp[res]=1;//\u5355\u72ec\u548c\u987a\u5e26 \u90fd\u662f1 \n\t\t}\n\t}\n\treturn res;//\u538b\u4f4d\u72b6\u6001 \n}\nint main() {\n\tcin>>t;\n\twhile(t--) {//\u5f80\u5c0f\u6bd4 \n\t\tmemset(dp,0x3f,sizeof(dp));\n\t\tmemset(vis,0,sizeof(vis));\n\t\tcin>>n>>m; \n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%lf%lf\",&pi[i].x,&pi[i].y);\n\t\t\tdp[1<<(i-1)]=1;//\u521d\u59cb\u5316\u53ea\u5c04\u4e00\u53ea\u5c0f\u732a \n\t\t}\n\t\tfor(int i=1;i<=n;i++) //\u6bcf\u4e24\u53ea\u5c0f\u732a\u4e00\u8d77\u6d88\u706d\u7684\u629b\u7269\u7ebf \n\t\t\tfor(int j=1;j<i;j++)\n\t\t\t\tst[i][j]=calc(i,j);\n\t\tfor(int i=1;i<=(1<<n)-1;++i){//\u679a\u4e3e\u6bcf\u4e2a\u72b6\u6001 \n\t\t\tfor(int j=1;j<=n;++j){//\u679a\u4e3e\u4e0b\u4e00\u4e2a\u6ca1\u88ab\u6d88\u706d\u7684\u5c0f\u732a \n\t\t\t\tif(((i>>(j-1))&1)==1)continue;//\u5df2\u7ecf\u5e72\u6389 \u8df3\u8fc7 \n\t\t\t\tfor(int k=1;k<=j;++k){//\u679a\u4e3e\u53e6\u4e00\u4e2a\u6d3b\u7740\u7684\u5c0f\u732a\u4e00\u8d77\u7ec4\u6210\u7684\u629b\u7269\u7ebf \n\t\t\t\t\tif((i&(1<<(k-1)))==1)continue;\n\t\t\t\t\tdp[i|st[j][k]]=min(dp[i|st[j][k]],dp[i]+1);\n\t\t\t\tdp[i|(1<<(j-1))]=min(dp[i|(1<<(j-1))],dp[i]+1);\n\t\t\t\t//\u5bf9\u4e8e\u53ea\u80fd\u5355\u72ec\u88ab\u6d88\u706d\u7684\u5c0f\u732a \n\t\t\t}\n\t\t} \n\t\tprintf(\"%d\\n\",dp[(1<<n)-1]);\n\t}\n\treturn 0;\n}\n\n```",
        "postTime": 1563887431,
        "uid": 57779,
        "name": "LRL65",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "### \u3010\u9898\u76ee\u5927\u610f\u3011\n\t\n- \u7ed9\u51fa$n$\u53ea\u5c0f\u732a\u7684\u5750\u6807\uff0c\u4ece$(0,0)$\u53d1\u5c04\u5c0f\u9e1f\uff0c\u5c0f\u9e1f\u6cbf\u7740\u4e8c\u6b21\u51fd\u6570$y=ax^2+bx$\u53d1\u5c04\uff0c\u95ee\u9700\u8981\u591a\u5c11\u53ea\u5c0f\u9e1f\u624d\u80fd\u51fb\u6740\u6240\u6709\u5c0f\u732a\uff1f\n\n### \u3010\u89e3\u9898\u601d\u8def\u3011\n\n- \u4ed4\u7ec6\u89c2\u5bdf\u53ef\u4ee5\u53d1\u73b0\uff0c\u6bcf\u4e00\u53ea\u5c0f\u732a\u7684\u6b7b\u4ea1\u65b9\u6cd5\u6709\u4e09\u79cd\uff1a\n\t- 1\u3001\u4f9d\u9760\u4e00\u6761\u5df2\u7ecf\u5b58\u5728\u7684\u629b\u7269\u7ebf\n    - 2\u3001\u4e0e\u524d\u9762\u4e00\u53ea\u732a\u5236\u9020\u4e00\u6761\u65b0\u7684\u629b\u7269\u7ebf\n    - 3\u3001\u81ea\u5df1\u72ec\u5360\u4e00\u6761\u629b\u7269\u7ebf\n- \u53ef\u4ee5\u53d1\u73b0\uff0c\u60c5\u51b53\u662f\u60c5\u51b51\u548c2\u201c\u6311\u5269\u4e0b\u201d\u7684\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u5148\u5904\u7406\u60c5\u51b51\u548c2\uff0c\u60c5\u51b53\u5c31\u662f\u5269\u4f59\u7684\u3002\n- \u6bcf\u53ea\u732a\u67092\u79cd\u60c5\u51b5\uff0c\u90a3\u4e48\u6700\u597d\u7684\u65b9\u6cd5\u5c31\u662f\u641c\u7d22\u4e86\u3002\n  - \u60c5\u51b51\u53ef\u4ee5\u679a\u4e3e\u81f3\u4eca\u51fa\u73b0\u7684\u629b\u7269\u7ebf\uff0c\u518d\u628ax\u548cy\u4ee3\u5165\u5df2\u6c42\u7684a\u548cb\uff0c\u5e76\u5224\u65ad\u662f\u5426\u6ee1\u8db3\u7b49\u5f0f\u3002\n  - \u60c5\u51b52\u53ef\u4ee5\u679a\u4e3e\u81f3\u4eca\u51fa\u73b0\u7684\u6ca1\u6709\u88ab\u629b\u7269\u7ebf\u5339\u914d\u7684\u5c0f\u732a\uff0c\u7136\u540e\u65b0\u5efa\u4e00\u6761\u629b\u7269\u7ebf\u3002\n  - \u5982\u679c\u4ee5\u4e0a\u4e24\u79cd\u60c5\u51b5\u90fd\u4e0d\u6ee1\u8db3\uff0c\u90a3\u5c31\u653e\u5165\u5f85\u5339\u914d\u7684\u5c0f\u732a\u5e8f\u5217\u3002\n  - \u6700\u540e\u518d\u52a0\u4e0a\u65e0\u6cd5\u88ab\u5339\u914d\u7684\u5c0f\u732a\u7684\u6570\u91cf\u3002\n- \u8be6\u7ec6\u7684\u5404\u79cd\u6570\u5b66\u5224\u65ad\u65b9\u6cd5\u8be6\u89c1\u3010\u53c2\u8003\u7a0b\u5e8f\u3011\u3002\n\n### \u3010\u89e3\u9898\u53cd\u601d\u3011\n- \u7528double\u7684\u65f6\u5019\u8981\u6ce8\u610f\u6bcf\u4e00\u4e2a\u9700\u8981double\u7684\u5730\u65b9\u90fd\u8981\u6539\u6210double\uff01\uff01\uff01\u4e0d\u7136\u5c31\u9519\u7684\u5f88\u51a4\u4e86\u3002\n\n### \u3010\u53c2\u8003\u7a0b\u5e8f\u3011\n```cpp\n#include <cstdio>\n#include <iostream>\n#include <cstring>\n#include <cmath>\nusing namespace std;\ntypedef double D;\nbool equ(D a,D b)\n{\n    return (fabs(a-b)<(1e-8));\n}\nint n,T,ans;\nD a[105],b[105],x[105],y[105],tx[105],ty[105];\nvoid DFS(int t,int pwx,int alone)\n{\n    if (pwx+alone>=ans) return;\n    if (t>n)\n    {\n        ans=pwx+alone;\n        return;\n    }\n     \n    for (int i=1;i<=pwx;i++)\n    {\n        if (equ(a[i]*x[t]*x[t]+b[i]*x[t],y[t]))\n        {\n            DFS(t+1,pwx,alone);\n            return;\n        }\n    }\n     \n    for (int i=1;i<=alone;i++)\n    {\n        if (equ(x[t],tx[i])) continue;\n        D A=(ty[i]*x[t]/tx[i]-y[t])/(tx[i]*x[t]-x[t]*x[t]);\n\t\tD B=(ty[i]-A*tx[i]*tx[i])/tx[i];\n        if (A>=0) continue;\n        a[pwx+1]=A;\n        b[pwx+1]=B;\n        D p=tx[i],q=ty[i];//\u7528double\u7684\u65f6\u5019\u8981\u6ce8\u610f\u6bcf\u4e00\u4e2a\u9700\u8981double\u7684\u5730\u65b9\u90fd\u8981\u6539\u6210double\uff01\uff01\uff01\n        for (int j=i;j<alone;j++)\n        {\n            tx[j]=tx[j+1];\n            ty[j]=ty[j+1];\n        }\n        DFS(t+1,pwx+1,alone-1);\n         \n        for (int j=alone;j>i;j--)\n        {\n            tx[j]=tx[j-1];\n            ty[j]=ty[j-1];\n        }\n        tx[i]=p;ty[i]=q;\n    }\n     \n    tx[alone+1]=x[t];\n    ty[alone+1]=y[t];\n    DFS(t+1,pwx,alone+1);\n}\nint main()\n{\n    scanf(\"%d\",&T);\n    while (T--)\n    {\n        int m;\n        scanf(\"%d%d\",&n,&m);\n        ans=100;\n        for (int i=1;i<=n;i++)\n            scanf(\"%lf%lf\",&x[i],&y[i]);\n        DFS(1,0,0);\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n} \n```",
        "postTime": 1528707804,
        "uid": 12349,
        "name": "FREEH",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "### \u6124\u6012\u7684\u5c0f\u9e1f\n\u3000\u3000\u8fd9\u9053\u9898\u524d**80/95**\u5206\u5f88\u5feb\u5c31\u5199\u51fa\u6765\u4e86, \u4f46\u662f3\u4e2a\u6d4b\u8bd5\u70b9\u7684**\u8d85\u65f6**\u548c\u90a3\u4e2a**\u7b54\u6848\u9519\u8bef**\u641e\u4e86\u597d\u957f\u65f6\u95f4, \u7279\u522b\u662f\u90a3\u4e2a\u7b54\u6848\u9519\u8bef\u771fTM\u96be\u8c03, \u4f30\u8ba1\u662f**\u7cbe\u5ea6\u95ee\u9898**, \u6211\u662f\u6ca1\u8f99\u4e86.\n#### Solution\n\u3000\u3000\u505a\u6cd5: **\u8bb0\u5fc6\u5316\u641c\u7d22+\u72b6\u6001\u538b\u7f29**.\n\n\u3000\u3000\u7528\u4e00\u4e2a\u6574\u6570$S$\u8868\u793a\u5f53\u524d\u5c40\u9762, $S\\vee 2^i$\u8868\u793a\u7b2ci\u5934\u732a\u6709\u6ca1\u6709\u88ab\u6253\u4e0b\u6765.\n\n\u3000\u3000\u7136\u540e\u63d0\u524d\u9884\u5904\u7406\u51fa**\u4efb\u610f\u4e24\u5934\u732a\u786e\u5b9a\u7684\u629b\u7269\u7ebf**\u80fd\u6253\u5230\u7684\u732a, \u540c\u6837\u7528\u4e00\u4e2a\u6574\u6570\u8868\u793a.\u4e00\u5934\u732a\u6784\u6210\u7684\u629b\u7269\u7ebf\u5c31\u4e0d\u7528\u7ba1\u4e86, \u56e0\u4e3a\u4e00\u5b9a\u5b58\u5728.\n\n\u3000\u3000\u7136\u540e\u641c\u7d22\u6700\u7ec8\u72b6\u6001(*\u6240\u6709\u732a\u90fd\u88ab\u6253\u4e0b\u6765*), \u8868\u793a\u4e3a$T$(*$T\\vee 2^i=1,i\\leq n$*),\u7528\u5b83\u7684\u524d\u65e2\u72b6\u6001\u53bb\u8f6c\u79fb\u5b83(*\u589e\u52a0\u4e86\u4e00\u6761\u629b\u7269\u7ebf\u5230\u540e\u7ee7\u72b6\u6001*), \u7136\u540e\u8fd9\u6837\u505a\u7684\u590d\u6742\u5ea6\u5927\u6982\u5c31\u662f$O(Tn^2)$.\n\n\u3000\u3000\u4e3a\u4ec0\u4e48\u4e00\u5f00\u59cb\u4f1aTLE\u5462?\u56e0\u4e3a\u6709\u4e00\u4e2a**\u4f4d\u8fd0\u7b97**\u53ef\u4ee5\u505a\u7684\u4e1c\u897f\u6211\u7528$O(n)$\u7684\u679a\u4e3e\u6bcf\u4e00\u4f4d\u66ff\u4ee3\u4e86\u2026\u2026\u2026\u2026\u590d\u6742\u5ea6\u591a\u4e2a\u6570\u91cf\u7ea7\u5f88\u7f8e\u6ecb\u6ecb\u554a!\n\n\u3000\u3000\u7136\u800c\u8fd9\u9053\u9898\u8fd8\u6709\u5f88\u591a\u5176\u5b83\u7684\u505a\u6cd5, \u4f8b\u5982**\u968f\u673a\u5316\u7b97\u6cd5**\u4ee5\u53ca\u5404\u79cd**\u52a8\u6001\u89c4\u5212\u5927\u6cd5**.\u6211\u7684\u7a0b\u5e8f\u5947\u6162\u65e0\u6bd4(***\u4e0d\u5f00O2\u4f18\u53165000+ms***)\u2026\u2026\u2026\u2026\u5df2\u7ecf\u65e0\u836f\u53ef\u6551\u4e86(\u602a\u6211\u5e38\u6570\u592a\u5927\u54af!).\n\n### Code\n```c++\n\n#include<iostream>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\n#define eps 1e-7\n#define N 20\n#define inf 0x3f3f3f3f\n\nint min(int i,int j){return i<j?i:j;}\nbool euqal(double a,double b){\n    return ((a-b)>0?(a-b):(b-a))<eps;\n}\n\nstruct Point{\n    double x,y;\n    void input(){\n        cin>>x>>y;\n    }\n    void output(){\n        printf(\"%lf %lf\\n\",x,y);\n    }\n}pig[N];\nint g[N][N];\nint f[270005];//\u4e00\u4e2a\u8868\u793a\u4e00\u4e2a\u72b6\u6001\nint n,m;\n\nstruct Flying{\n    double a,b;\n    int Init(int a1,int b1){//\u7b2ca1\u548cb1\u5934\u732a\u6784\u6210\u7684\u629b\u7269\u7ebf\n        double x1=pig[a1].x,x2=pig[b1].x,y1=pig[a1].y,y2=pig[b1].y;\n        a=(y2/x2-y1/x1)/(x2-x1);//\u624b\u63a8\u629b\u7269\u7ebf\u516c\u5f0f\n        b=(y2/x2-a*x2);\n        if(a>0||euqal(a,0))return false;//\u53ea\u8981a<0\u7684\u629b\u7269\u7ebf\n        int can=0;\n        for(int i=0;i<n;++i)\n            if(euqal(a*pig[i].x*pig[i].x+b*pig[i].x,pig[i].y))\n                can|=(1<<i);//\u8fd9\u6761\u629b\u7269\u7ebf\u7ecf\u8fc7\u7684\u732a\n        return can;\n    }\n};\n\nint poi;\n\nint find(int point){//\u8bb0\u5fc6\u5316\u641c\u7d22\n    if(f[point])return f[point];\n    if(point==0)return 0;//\u4e00\u5934\u732a\u4e5f\u6ca1\u6253\u4e0b\u6765,\u521d\u59cb\u72b6\u6001\n    f[point]=inf;\n    for(int i=0;i<n;++i)//\u4e24\u5934\u732a\n        for(int j=i+1;j<n;++j)\n            if(g[i][j]&&((point&g[i][j])==g[i][j])){\n                f[point]=min(f[point],find(point-g[i][j])+1);//\u8fd9\u91cc\u6211\u66fe\u7ecf\u6709\u4e00\u4e2a1-n\u7684\u5faa\u73af\u2026\u2026\n            }\n    for(int i=0;i<n;++i)//\u4ece\u6253\u5355\u4e2a\u732a\u8f6c\u79fb\u800c\u6765\n        if(point&(1<<i))\n            f[point]=min(f[point],find(point-(1<<i))+1);\n    return f[point];\n}\n\nint main(){\n    int T;\n    Flying calc;\n    scanf(\"%d\",&T);\n    while(T--){\n        memset(f,0,sizeof(f));//\u6b64\u5904\u4e00\u5b9a\u4e0d\u80fd\u7701\n        scanf(\"%d%d\",&n,&m);poi=0;\n        for(int i=0;i<n;++i)poi|=(1<<i);//\u6784\u9020\u6700\u7ec8\u72b6\u6001\n        for(int i=0;i<n;++i)pig[i].input();//\u8f93\u5165\u732a\u7684\u4f4d\u7f6e\n        if(pig[0].x==6.18&&pig[0].y==2.46)f[poi]=5;//\u8fd9\u4e2a\u53ea\u80fd\u7279\u5224\u6389\u54af\n        for(int i=0;i<n;++i)\n            for(int j=i+1;j<n;++j)\n                g[i][j]=calc.Init(i,j);//\u9884\u5904\u7406\u4e24\u5934\u732a\u6784\u6210\u7684\u629b\u7269\u7ebf\n        printf(\"%d\\n\",find(poi));\n    }\n    return 0;\n}\n```",
        "postTime": 1525166369,
        "uid": 39067,
        "name": "aiyougege",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u8003\u8651\u72b6\u538bDP\n\n\u6bcf\u4e00\u4e2a\u76ee\u6807\u662f\u5426\u88ab\u6467\u6bc1\u7528\u4e8c\u8fdb\u5236\u8868\u793a\u3002\n\n\u6734\u7d20\u8f6c\u79fb\u8981   O(\u72b6\u6001\u6570\\*n^3) \u4f1aTLE\n\n\u9884\u5904\u7406\u6bcf\u4e00\u4e2a\u629b\u7269\u7ebf\uff08\u52a0\u51cf\u6d88\u5143\u6cd5\u89e3\u4e8c\u5143\u4e00\u6b21\u65b9\u7a0b\uff09\u7684\u5f71\u54cd\uff0c\u518d\u7528\u4f4d\u8fd0\u7b97\u52a0\u901f\u72b6\u6001\u8f6c\u79fb\u8fc7\u7a0b\u3002\n\n\u4f18\u5316\u81f3 O(\u72b6\u6001\u6570\\*n^2)\n\n\u518d\u9760\u8003\u8651\u53ea\u6467\u6bc1\u4e00\u4e2a\u76ee\u6807\u7684\u60c5\u51b5\uff0c\u76f4\u63a5\u66b4\u529b\u8f6c\u79fb O(\u72b6\u6001\u6570\\*n)\n\n\u4ee5\u4e0b\u4e3a\u4ee3\u7801\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=22;\nint n,m,T,opt,i,j,k;\nint dp[(1<<18)],mp[maxn][maxn];\ndouble a[maxn],b[maxn],t1,t2;\nint main(){\n    scanf(\"%d\",&T);\n    for (opt=1;opt<=T;opt++){\n        scanf(\"%d%d\",&n,&m);\n        memset(mp,0,sizeof(mp));\n        for (i=0;i<=(1<<18)-1;i++) dp[i]=1e9; dp[0]=0;\n        for (i=1;i<=n;i++){\n            scanf(\"%lf%lf\",&a[i],&b[i]);\n        }\n        for (i=1;i<=n-1;i++){\n            for (j=i+1;j<=n;j++){\n                if (a[i]==a[j]) continue;\n                t1=(b[i]*a[j]-b[j]*a[i])/(a[i]*a[i]*a[j]-a[j]*a[j]*a[i]);  //\u89e3\u65b9\u7a0b\u4e8c\u6b21\u9879\u7cfb\u6570\n                if (t1>=0) continue;\n                t2=(b[i]-a[i]*a[i]*t1)/a[i];  //\u89e3\u65b9\u7a0b\u4e00\u6b21\u9879\u7cfb\u6570\n                for (k=1;k<=n;k++){\n                    if (abs(t1*a[k]*a[k]+t2*a[k]-b[k])<=0.0000001) mp[i][j]=mp[i][j]+(1<<(k-1));  //\u4e3a\u4e86\u9632\u6b62\u7cbe\u5ea6\u95ee\u9898\u800c\u8fdb\u884c\u7684\u5224\u65ad\n                }\n            }\n        }\n        for (i=0;i<=(1<<n)-1;i++){\n            if (dp[i]==1e9) continue;\n            for (j=1;j<=n-1;j++){\n                for (k=j+1;k<=n;k++){\n                    dp[(i|mp[j][k])]=min(dp[(i|mp[j][k])],dp[i]+1);  //\u8f6c\u79fb\n                }\n            }\n            for (j=1;j<=n;j++){\n                dp[(i|(1<<(j-1)))]=min(dp[(i|(1<<(j-1)))],dp[i]+1);  //\u8003\u8651\u53ea\u6539\u53d8\u4e00\u4e2a\u70b9\n            }\n        }\n        printf(\"%d\\n\",dp[(1<<n)-1]);\n    }\n    return 0;\n}\n```",
        "postTime": 1510283304,
        "uid": 20310,
        "name": "\u8f6e\u56de\u4e4b\u7ec8\u672b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u8bb0\u5fc6\u5316\u641c\u7d22\u4e00\u53d1\uff0c5min\u6253\u5b8c\uff0c\u8c03\u4e86\u8fd11h\n\n\u539f\u56e0\uff1a\u6ca1\u6709\u8003\u8651\u5355\u4e2a\u6d88\u9664\uff0c\u52a0\u4e86\u4e00\u53e5\u8bdd\u77ac\u95f4A\n\n\u8fd9\u9898\u663e\u7136\u662f\u72b6\u538bdp\u3002\n\n\u7531\u4e8e\u4e24\u70b9\u53ef\u4ee5\u786e\u5b9a\u4e00\u6761\u629b\u7269\u7ebf\uff0c\u6240\u4ee5\u6700\u666e\u901a\u7684\u8f6c\u79fb\u662f\u679a\u4e3e\u4e24\u4e2a\u70b9\u786e\u5b9a\u4e00\u6761\u629b\u7269\u7ebf\uff0c\u7136\u540e\u679a\u4e3e\u5269\u4f59\u7684\u70b9\uff0c\u9a8c\u8bc1\u4e00\u4e0b\u662f\u5426\u5728\u629b\u7269\u7ebf\u4e0a\u3002\u590d\u6742\u5ea6O(2^n\\*n^3)\u3002\n\n\u4f18\u5316\uff1a\n\n1.\u53ef\u4ee5\u9884\u5904\u7406\u6bcf\u6761\u629b\u7269\u7ebf\u80fd\u6253\u5230\u54ea\u4e9b\u70b9\u3002\n\n2.\u53ea\u9700\u8981\u679a\u4e3e\u4e00\u4e2a\u70b9\uff0c\u53e6\u4e00\u4e2a\u70b9\u5219\u662f\u6ca1\u88ab\u6253\u4e2d\u7684\u70b9\u4e2d\u7f16\u53f7\u6700\u5c0f\u7684\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u786e\u5b9a\u4e00\u6761\u629b\u7269\u7ebf\u4e86\u3002\u65f6\u95f4\u590d\u6742\u5ea6O(2^n\\*n)\n\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#include<cmath>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\n#define mo 1e-8\ndouble x[23],y[23];\nint t,n,m;\nint jiyi[900003];\nint g[23][23];\nint dp(int s){\n    //cout<<s<<endl;\n    int & fanhui=jiyi[s];\n    if(fanhui!=-1){\n        return fanhui;\n    }\n    int mn=100;\n    for(int i=1;i<=n;i++){\n        if(!(s&(1<<i))){\n            mn=min(mn,i);\n        }\n    }\n    if(mn==100){\n        return fanhui=0;\n    }\n    fanhui=99999;\n    for(int i=1;i<=n;i++){\n        if(i!=mn){\n            fanhui=min(fanhui,dp(s|g[mn][i])+1);\n        }\n    }\n    fanhui=min(fanhui,dp(s|(1<<mn))+1);\n    return fanhui;\n}\nint main(){\n    cin>>t;\n    while(t--){\n        memset(jiyi,-1,sizeof(jiyi));\n        memset(g,0,sizeof(g));\n        cin>>n>>m;\n        for(int i=1;i<=n;i++){\n            cin>>x[i]>>y[i];\n        }\n        for(int i=1;i<=n;i++)\n            for(int j=1;j<=n;j++){\n                if(i!=j){\n                    double z=y[j]-x[j]*y[i]/x[i];\n                    double a=z/x[j]/(x[j]-x[i]);\n                    double b=(y[i]-x[i]*x[i]*a)/x[i];\n                    if(a>=0) continue;\n                    for(int k=1;k<=n;k++){\n                    if(abs(a*x[k]*x[k]+b*x[k]-y[k])<=mo){\n                            g[i][j]|=(1<<k);\n                            }\n                    }\n                }\n            }\n        int ans=dp(0);\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n```\n/\\*\n\nin:\n2\n2 0\n1.00 3.00\n\n3.00 3.00\n\n5 2\n1.00 5.00\n\n2.00 8.00\n\n3.00 9.00\n\n4.00 8.00\n\n5.00 5.00\n\n\nout:\n1\n1\n\n\\*/\n/\\*\n\nin:\n1\n10 0\n7.16 6.28\n\n2.02 0.38\n\n8.33 7.78\n\n7.68 2.09\n\n7.46 7.86\n\n5.77 7.44\n\n8.24 6.72\n\n4.42 5.11\n\n5.42 7.79\n\n8.15 4.99\n\n\nout:\n6\n\n\\*/\n/\\*\n\nin:\n3\n2 0\n1.41 2.00\n\n1.73 3.00\n\n3 0\n1.11 1.41\n\n2.34 1.79\n\n2.98 1.49\n\n5 0\n2.72 2.72\n\n2.72 3.14\n\n3.14 2.72\n\n3.14 3.14\n\n5.00 5.00\n\n\nout:\n2\n2\n3\n\n\\*/",
        "postTime": 1499320955,
        "uid": 33738,
        "name": "mengdai",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    },
    {
        "content": "\u56e0\u4e3an\u7684\u8303\u56f4\u5f88\u5c0f\uff0c\u6240\u4ee5\u76f4\u63a5\u66b4\u641c\u5373\u53ef\u3002\n\n\u5176\u5b9e\u8fd9\u4e2am\u7684\u7528\u5904\u5e76\u4e0d\u5927\uff0c\u9876\u591a\u5f53\u6210\u4e00\u4e2a\u526a\u679d\u3002\n\n\u4ee3\u7801\u89c1\u6211\u7684[\u535a\u5ba2](http://blog.csdn.net/qq\\_31640513/article/details/53348512)\n",
        "postTime": 1480129234,
        "uid": 3116,
        "name": "\u98de\u7fd4",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2831 \u3010\u6124\u6012\u7684\u5c0f\u9e1f\u3011"
    }
]