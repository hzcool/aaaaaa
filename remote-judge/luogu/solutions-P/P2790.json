[
    {
        "content": "# \u672c\u849f\u84bb\u7b2c\u4e00\u6b21\u53d1\u9898\u89e3\n~~\u65e5\u672c\u7684\u849f\u84bb\u8fd8\u6ca1\u6709\u5403\u8fc7\u5462~~\n\n\u5148\u8bf4\u4e0b\u672c\u9898\u601d\u8def\n\n\u9996\u5148\u7528n\u4e2a\u52a8\u6001\u961f\u5217vector\n\n\u7136\u540e\u5148\u5c06\u6bcf\u4e2a\u6570\u5148\u5b58\u5165\u8fd9n\u4e2a\u52a8\u6001\u961f\u5217\u4e2d\n\n\u5206\u522b\u5728\u8fd9n\u4e2a\u961f\u5217\u4e2d\u7ecf\u8fc7\u56db\u4e2a\u64cd\u4f5c\uff0c\u6700\u540e\u8f93\u51fa\uff08\u540e\u9762\u7ec6\u8bb2\uff09\n\n### 0.findd\u51fd\u6570\n\n\u7528\u66b4\u529b\u5148\u641c\u7d22\u51fa\u67d0\u4e2a\u503c\u7684\u4f4d\u7f6e\uff0c\u65b9\u4fbf\u4ee5\u540e\u7684\u51fd\u6570\u8c03\u7528\n\n\u4ee3\u7801\u5982\u4e0b\n```cpp\nvoid findd(int a,int &p,int &h){//\u67e5\u627e\u539f\u503c\u7684\u4f4d\u7f6e\uff08\"&\"\u53ef\u6539\u53d8\u539f\u503c\uff09\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=0;j<v[i].size();j++){\n\t\t\tif(v[i][j]==a)p=i,h=j;//p\u4e3a\u961f\u5217\u7684\u6307\u9488\uff0ch\u4e3a\u8be5\u6570\u5728\u961f\u5217\u4e2d\u7684\u4f4d\u7f6e\n\t}\n}\n```\n### 1.move_onto\u51fd\u6570\n\n\u5148\u5b9a\u4e49p\uff0ch\u7136\u540e\u7528\u4ee5\u4e0a\u7684findd\u51fd\u6570\u627e\u5230a\u7684\u4f4d\u7f6e\uff1b\n\n\u5c06a\u7684\u9ad8\u5ea6h\u4ee5\u4e0a\u7684\u6728\u5757\u5168\u90e8\u5f52\u4f4d\n\nv[p][i]\u5c31\u662fv[p][i]\u7684\u539f\u4f4d\uff0c\u5f52\u4f4d\u5373\u4e3a\u628av[p][i]\u653e\u5230\u961f\u5217v[v[p][i]]\u91cc\uff0c\u7136\u540e\u5f39\u51fa\u961f\u5217v[p]\u4e2d\u7684\u5c3e\u4f4d\uff08\u6307\u9488\u4e00\u5b9a\u8981\u4ece\u961f\u5c3e\u5f00\u59cb\uff0c\u56e0\u4e3a\u961f\u5217\u4e2d\u7684\u5143\u7d20\u53ea\u80fd\u4ece\u961f\u5c3e\u5f39\u51fa\uff09\n```cpp\nvoid move_onto(int a,int b){\n\tint p,h;\n\tfindd(a,p,h);\n\tfor(int i=v[p].size()-1;i>h;i--){\n\t\tv[v[p][i]].push_back(v[p][i]);//\u628av[p][i]\u653e\u5230\u961f\u5217v[v[p][i]]\u91cc\n\t\tv[p].pop_back();//\u5f39\u51fa\u961f\u5217v[p]\u4e2d\u7684\u5c3e\u4f4d\n\t}\n\tv[p].pop_back();//\u5f39\u51faa\t\n\tfindd(b,p,h);\n\tfor(int i=v[p].size()-1;i>h;i--){\n\t\tv[v[p][i]].push_back(v[p][i]);//\u628av[p][i]\u653e\u5230\u961f\u5217v[v[p][i]]\u91cc\n\t\tv[p].pop_back(); //\u5f39\u51fa\u961f\u5217v[p]\u4e2d\u7684\u5c3e\u4f4d\n\t}\n\tv[p].push_back(a);//\u5728b\u7684\u4e0a\u65b9\u63a8\u5165a\n}\n```\n### 2.move_over\u51fd\u6570\n\n\u4e0emove_onto\u51fd\u6570\u7c7b\u4f3c\n```cpp\nvoid move_over(int a,int b){\n\tint p,h;\n\tfindd(a,p,h);\n\tfor(int i=v[p].size()-1;i>h;i--){\n\t\tv[v[p][i]].push_back(v[p][i]);//\u628av[p][i]\u653e\u5230\u961f\u5217v[v[p][i]]\u91cc\n\t\tv[p].pop_back();//\u5f39\u51fa\u961f\u5217v[p]\u4e2d\u7684\u5c3e\u4f4d\n\t}\n\tv[p].pop_back();//\u5f39\u51faa\n\tfindd(b,p,h);//\u627e\u5230b\u7684\u4f4d\u7f6e\n\tv[p].push_back(a);//\u5728b\u7684\u4e0a\u65b9\u63a8\u5165a\n}\n```\n### 3.pile_onto\u51fd\u6570\n\n\u5f52\u4f4d\u7c7b\u4f3cmove_onto\u51fd\u6570\n\n\u5c06a\u4e0a\u65b9\u7684\u6728\u5757\u79fb\u81f3b\u4e0a\u9762\u7684\u64cd\u4f5c\u5982\u4e0b\uff1a\n\n\u5728b\u6240\u5728\u7684\u961f\u5217v[pb]\u91cc\u6309 _**\u6b63\u5e8f**_ \u63a8\u5165\u961f\u5217v[pa]\u4e2da\u4ee5\u4e0a\u7684\u5143\u7d20\n\n\u8fd9\u91cc\u6709\u51e0\u70b9\u5bb9\u6613\u9519\u7684\u5730\u65b9\uff1a\n\n\uff081\uff09\u6ce8\u610f\u4e0d\u80fd\u50cf\u539f\u6765\u4e00\u6837\u5012\u5e8f\u63a8\u5165\uff0c\u9898\u76ee\u8981\u6c42a\u53ca\u4e0a\u9762\u7684\u6728\u5757 _**\u6574\u4f53**_ \u645e\u5728b\u4e0a\u9762\uff0c\u5982\u679c\u5012\u5e8f\u63a8\u5165\uff0c\u5219\u987a\u5e8f\u98a0\u5012\uff0c~~\u8fd9\u91cc\u6211\u4e5f\u9519\u4e86\u597d\u51e0\u6b21~~\n\n\uff082\uff09\u4e0d\u80fd\u540c\u65f6\u4e00\u8fb9\u5f39\u51fav[pa]\u961f\u5217\u4e2d\u7684\u6570,\u4e00\u8fb9\u5c06v[pa]\u7684\u6570\u63a8\u5165v[pb]\uff08\u5982\u7b2c\u4e00\u4e2afor\u5faa\u73af\u4e2d\uff09\uff0c\u56e0\u4e3a\u4e00\u4e2a\u662f\u6309\u5012\u5e8f\u5f39\u51fa\uff0c\u4e00\u4e2a\u662f\u6b63\u5e8f\u63a8\u5165v[pb],\u4f1a\u51fa\u9519\n\n\uff083\uff09\u8fd8\u6709\u6700\u540e\u5355\u72ec\u5f39\u51fav[pa]\u4e2d\u7684\u6570\u65f6\uff0c\u4e00\u5b9a\u8981\u5148\u7528\u4e00\u4e2a\u53d8\u91cf\u8bb0\u5f55v[pa]\u7684\u957f\u5ea6\uff0c\u56e0\u4e3a\u968f\u7740v[pa]\u4e2d\u6570\u7684\u5f39\u51fa\uff0cv[pa]\u7684\u957f\u5ea6\u4e5f\u4f1a\u7f29\u77ed\uff08\u5f53\u7136\u6b64\u65f6i\u5012\u5e8f\u65f6\u5c31\u4e0d\u7528\u8003\u8651\u8fd9\u4e2a\u95ee\u9898\uff0c\u5373\n\nfor(int i=v[pa].size()-1;i>ha;i--)\uff09\n\n```cpp\nvoid pile_onto(int a,int b){\n\tint pa,ha,pb,hb;\n\tfindd(a,pa,ha);\n\tfindd(b,pb,hb);\n\tfor(int i=v[pb].size()-1;i>hb;i--){\n\t\tv[v[pb][i]].push_back(v[pb][i]);\n\t\tv[pb].pop_back();\n\t}\n\tfor(int i=ha;i<=v[pa].size()-1;i++)\n\t\tv[pb].push_back(v[pa][i]);//\u6309\u6b63\u5e8f\u63a8\u5165\u961f\u5217\n\tint u=v[pa].size()-1;\n\tfor(int i=ha;i<=u;i++)\n\t\tv[pa].pop_back();//\u5f39\u51fa\u961f\u5217\n}\n```\n### 4.pile_over\u51fd\u6570\n\n\u7c7b\u4f3c\u4e8epile_onto\u51fd\u6570\n```cpp\nvoid pile_over(int a,int b){\n\tint pa,ha,pb,hb;\n\tfindd(a,pa,ha);\n\tfindd(b,pb,hb);\t\n\tfor(int i=ha;i<=v[pa].size()-1;i++)\n\t\tv[pb].push_back(v[pa][i]);//\u6309\u6b63\u5e8f\u63a8\u5165\u961f\u5217\n\tint u=v[pa].size()-1;\n\tfor(int i=ha;i<=u;i++)\n\t\tv[pa].pop_back();//\u5f39\u51fa\u961f\u5217\n}\n```\n### 5.out\u51fd\u6570\uff08\u8f93\u51fa\u51fd\u6570\uff09\n~~\u5f88\u7b80\u5355\u5427\uff0c\u5c31\u4e0d\u591a\u8bf4\u4e86~~\n\n# \u63a5\u4e0b\u6765\u662f\u5b8c\u6574\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>//\u4e07\u80fd\u5934\nusing namespace std;\n#define MAXN 26\nvector<int>v[MAXN];\nint n;\nvoid findd(int a,int &p,int &h){\n\tfor(int i=0;i<n;i++){\n\t\tfor(int j=0;j<v[i].size();j++){\n\t\t\tif(v[i][j]==a)p=i,h=j;\n\t}\n}\nvoid move_onto(int a,int b){\n\tint p,h;\n\tfindd(a,p,h);\n\tfor(int i=v[p].size()-1;i>h;i--){\n\t\tv[v[p][i]].push_back(v[p][i]);\n\t\tv[p].pop_back();\n\t}\n\tv[p].pop_back();\t\n\tfindd(b,p,h);\n\tfor(int i=v[p].size()-1;i>h;i--){\n\t\tv[v[p][i]].push_back(v[p][i]);\n\t\tv[p].pop_back(); \n\t}\n\tv[p].push_back(a);\n}\nvoid move_over(int a,int b){\n\tint p,h;\n\tfindd(a,p,h);\n\tfor(int i=v[p].size()-1;i>h;i--){\n\t\tv[v[p][i]].push_back(v[p][i]);\n\t\tv[p].pop_back();\n\t}\n\tv[p].pop_back();\n\tfindd(b,p,h);\n\tv[p].push_back(a);\n}\nvoid pile_onto(int a,int b){\n\tint pa,ha,pb,hb;\n\tfindd(a,pa,ha);\n\tfindd(b,pb,hb);\n\tfor(int i=v[pb].size()-1;i>hb;i--){\n\t\tv[v[pb][i]].push_back(v[pb][i]);\n\t\tv[pb].pop_back();\n\t}\n\tfor(int i=ha;i<=v[pa].size()-1;i++)\n\t\tv[pb].push_back(v[pa][i]);\n\tint u=v[pa].size()-1;\n\tfor(int i=ha;i<=u;i++)\n\t\tv[pa].pop_back();\n}\nvoid pile_over(int a,int b){\n\tint pa,ha,pb,hb;\n\tfindd(a,pa,ha);\n\tfindd(b,pb,hb);\t\n\tfor(int i=ha;i<=v[pa].size()-1;i++)\n\t\tv[pb].push_back(v[pa][i]);\n\tint u=v[pa].size()-1;\n\tfor(int i=ha;i<=u;i++)\n\t\tv[pa].pop_back();\n}\nvoid out()\n{\n    for(int i=0;i<n;i++)\n    {\n        cout<<i<<\":\";\n        if(v[i].empty())\n        {\n            cout<<endl;\n            continue;\n        }\n        for(int j=0;j<v[i].size();j++)\n            cout<<\" \"<<v[i][j];\n        cout<<endl;\n    }\n}\nchar s1[10],s2[10];\nint a,b;\nsigned main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=0;i<n;i++)\n    {\n        v[i].push_back(i);\n    }\n    while(1)\n    {\n        scanf(\"%s\",s1);\n        if(strcmp(s1,\"quit\")==0)break;\n        scanf(\"%d%s%d\",&a,s2,&b);\n        int wa,wb,ha,hb;\n        findd(a,wa,ha);\n        findd(b,wb,hb);\n        if(wa==wb)continue;\n        if(strcmp(s1,\"move\")==0&&strcmp(s2,\"onto\")==0)move_onto(a,b);//\u5224\u65ad\u5b57\u7b26\u4e32\u662f\u5426\u76f8\u7b49\n        if(strcmp(s1,\"move\")==0&&strcmp(s2,\"over\")==0)move_over(a,b);\n        if(strcmp(s1,\"pile\")==0&&strcmp(s2,\"onto\")==0)pile_onto(a,b);\n        if(strcmp(s1,\"pile\")==0&&strcmp(s2,\"over\")==0)pile_over(a,b);\n    }\n\tout();\n\treturn 0;\n}\n```\n\u671b\u6d1b\u8c37\u901a\u8fc7\n",
        "postTime": 1587388887,
        "uid": 148195,
        "name": "gcwixsxr",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2790 \u3010ccj\u4e0ezrz\u4e4b\u79ef\u6728\u95ee\u9898\u3011"
    },
    {
        "content": "\u6b64\u9898\u5f88\u7b80\u5355\uff0c\u6a21\u62df\u5373\u53ef\u3002\u53ef\u4ee5\u7528vector\u6765\u505a\uff0c\u867d\u7136\u6211\u7684\u505a\u6cd5\u6709\u70b9\u9ebb\u70e6\uff0c\u4f46\u662f\u601d\u8def\u8fd8\u662f\u633a\u6e05\u6670\u7684\uff0c\u628a\u6bcf\u4e00\u4e2a\u64cd\u4f5c\u90fd\u5355\u72ec\u5199\u4e00\u6bb5\u51fd\u6570\uff0c\u81ea\u5df1\u597d\u597d\u4f53\u4f1a\u5427\n\n\u9644\u4ee3\u7801\n\n```cpp\n#include<cstring>\n#include<vector>\n#include<cstdio>\nusing namespace std;\nint n,a,b,h1,q1,h2,q2;\nchar p[10],q[10];\nvector<int>s[32];\nvoid find(){\n    for (int i=0;i<n;i++)\n    for (int o=0;o<s[i].size();o++)\n    {if (s[i][o]==a){h1=i;q1=o;}if (s[i][o]==b){h2=i;q2=o;}};\n}\nvoid moveonto(){\n    for (int i=q1+1;i<s[h1].size();i++)\n    s[s[h1][i]].push_back(s[h1][i]);\n    for (int i=q2+1;i<s[h2].size();i++)\n    s[s[h2][i]].push_back(s[h2][i]);\n    s[h1].resize(q1);\n    s[h2].resize(q2+1);\n    s[h2].push_back(a);\n}\nvoid moveover(){\n    for (int i=q1+1;i<s[h1].size();i++)\n    s[s[h1][i]].push_back(s[h1][i]);\n    s[h1].resize(q1);\n    s[h2].push_back(a);\n}\nvoid pileonto(){\n    for (int i=q2+1;i<s[h2].size();i++)\n    s[s[h2][i]].push_back(s[h2][i]);\n    s[h2].resize(q2+1);\n    for (int i=q1;i<s[h1].size();i++)\n    s[h2].push_back(s[h1][i]);\n    s[h1].resize(q1);\n}\nvoid pileover(){\n    for (int i=q1;i<s[h1].size();i++)\n    s[h2].push_back(s[h1][i]);\n    s[h1].resize(q1);\n}\nint main()\n{\n    scanf(\"%d\",&n);\n    for (int i=0;i<n;i++)s[i].push_back(i);\n    for(;;)\n    {\n        scanf(\"%s\",p);\n        if (strcmp(p,\"quit\")==0)break;\n        scanf(\"%d%s%d\",&a,q,&b);\n        find();\n        if (h1==h2)continue;\n        if (strcmp(p,\"move\")==0 && strcmp(q,\"onto\")==0)moveonto();\n        if (strcmp(p,\"move\")==0 && strcmp(q,\"over\")==0)moveover();\n        if (strcmp(p,\"pile\")==0 && strcmp(q,\"onto\")==0)pileonto();\n        if (strcmp(p,\"pile\")==0 && strcmp(q,\"over\")==0)pileover();\n    }\n    for (int i=0;i<n;i++)\n    {\n        printf(\"%d:\",i);\n        for (int o=0;o<s[i].size();o++)\n        printf(\" %d\",s[i][o]);\n        printf(\"\\n\");\n    }\n    return 0;\n}\n```",
        "postTime": 1470226534,
        "uid": 14738,
        "name": "1124828077ccj",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2790 \u3010ccj\u4e0ezrz\u4e4b\u79ef\u6728\u95ee\u9898\u3011"
    },
    {
        "content": "\u524d\u5f80[\u9898\u76ee](https://www.luogu.com.cn/problem/P2790)\n\nn<25\uff0c\u76f4\u63a5\u4e0a\u6a21\u62df\u3002\n\n\u9898\u89e3\u91cc\u7684\u5927\u4f6c\u4eec\uff08\u4e0d\u5305\u62ec\u6211\uff09\u90fd\u662fvector\uff0c\u90a3\u4e48\u6211\u5c31\u5199\u4e86\u4e00\u4e2a\u6700\u6734\u7d20\u7684\u7528\u6570\u7ec4\u6765\u6a21\u62df\uff0c\u4f9b\u5927\u5bb6\u53c2\u8003\u3002\n\n\u91cc\u9762\u6709\u5751\u70b9\u6ce8\u610f\u4e00\u4e0b\uff1a\n\n1.a,b\u90fd\u662f\u6728\u5757\u7f16\u53f7\uff0c\u800c\u4e0d\u662f\u4f4d\u7f6e\uff0c\u8981\u662f\u50cf\u6211\u8fd9\u79cd\u50bb\u4e4e\u4e4e\u7684\u4eba\u4e00\u6837\u628a\u5b83\u641e\u9519\u4e86\uff0c\u90a3\u5c31\u53ea\u80fd\u91cd\u5199\u3002\n\n2.\u5f53a,b\u5728\u540c\u4e00\u4e2a\u4f4d\u7f6e\u4e0a\u662f\u5c31\u8be5\u5ffd\u7565\u8fd9\u6761\u8bed\u53e5\u3002\n\n3.\u6700\u540e\u4e00\u70b9\u5c31\u662f\u8981\u975e\u5e38\u7ec6\u5fc3\uff0c\u7279\u522b\u662f\u6211\u8fd9\u79cd~~\u6ca1\u4e8b\u627e\u4e8b\u7528\u6570\u7ec4\u5199\u7684~~\uff0c\u5199\u4e86\u4e00\u5927\u5806\u5bc6\u5bc6\u9ebb\u9ebb\u3002\n\n\u5177\u4f53\u6211\u4f1a\u5728\u4ee3\u7801\u4e2d\u6ce8\u91ca\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,x,y,vis[30],a[30][30];//vis[i]\u5b58\u50a8\u6728\u5757i\u5f53\u524d\u7684\u4f4d\u7f6e\uff1ba[i][j]\u5b58\u50a8i\u4f4d\u7f6e\u4e0a\u7b2cj\u4e2a\u6728\u5757\u7f16\u53f7\uff0ca[i][0]\u5b58\u50a8i\u4f4d\u7f6e\u4e0a\u6728\u5757\u6570\u91cf\uff1b \nstring s1,s2;\n\nint main()\n{\n\tcin>>n;\n\tfor (int i=0;i<n;i++) a[i][0]=1,a[i][1]=vis[i]=i;//\u4e00\u5f00\u59cb\u6bcf\u4e2a\u6728\u5757\u5728\u81ea\u5df1\u7684\u4f4d\u7f6e\u4e0a \n\twhile (cin>>s1 && s1!=\"quit\"){//\u5f53\u9047\u5230quit\u5219\u9000\u51fa \n\t\tcin>>x>>s2>>y;\n\t\tif (vis[x]==vis[y]) continue;//x,y\u5728\u540c\u4e00\u4e2a\u4f4d\u7f6e \n\t\t//\u5206\u6210\u56db\u79cd\u60c5\u51b5\u8ba8\u8bba \n\t\tif (s1==\"move\" && s2==\"onto\"){\n\t\t\twhile (a[vis[x]][a[vis[x]][0]]!=x && a[vis[x]][0]>0)//\u628ax\u4e4b\u4e0a\u7684\u6728\u5757\u5f52\u4f4d \n\t\t\t  vis[a[vis[x]][a[vis[x]][0]]]=a[a[vis[x]][a[vis[x]][0]]][++a[a[vis[x]][a[vis[x]][0]]][0]]=a[vis[x]][a[vis[x]][0]],a[vis[x]][0]--;\n\t\t\twhile (a[vis[y]][a[vis[y]][0]]!=y && a[vis[y]][0]>0)//\u628ay\u4e4b\u4e0a\u7684\u6728\u5757\u5f52\u4f4d \n\t\t\t  vis[a[vis[y]][a[vis[y]][0]]]=a[a[vis[y]][a[vis[y]][0]]][++a[a[vis[y]][a[vis[y]][0]]][0]]=a[vis[y]][a[vis[y]][0]],a[vis[y]][0]--;\n\t\t\ta[vis[y]][++a[vis[y]][0]]=x;//\u628ax\u79fb\u5230y\u4e0a\u9762 \n\t\t\ta[vis[x]][0]--;\n\t\t\tvis[x]=vis[y];\n\t\t}\n\t\telse if (s1==\"move\" && s2==\"over\"){\n\t\t\twhile (a[vis[x]][a[vis[x]][0]]!=x && a[vis[x]][0]>0)//\u628ax\u4e4b\u4e0a\u7684\u6728\u5757\u5f52\u4f4d \n\t\t\t  vis[a[vis[x]][a[vis[x]][0]]]=a[a[vis[x]][a[vis[x]][0]]][++a[a[vis[x]][a[vis[x]][0]]][0]]=a[vis[x]][a[vis[x]][0]],a[vis[x]][0]--;\n\t\t    a[vis[y]][++a[vis[y]][0]]=x;//\u628ax\u79fb\u5230y\u4e0a\u9762\n\t\t\ta[vis[x]][0]--;\n\t\t\tvis[x]=vis[y];\n\t\t}\n\t\telse if (s1==\"pile\" && s2==\"onto\"){\n\t\t\twhile (a[vis[y]][a[vis[y]][0]]!=y && a[vis[y]][0]>0)//\u628ay\u4e4b\u4e0a\u7684\u6728\u5757\u5f52\u4f4d \n\t\t\t  vis[a[vis[y]][a[vis[y]][0]]]=a[a[vis[y]][a[vis[y]][0]]][++a[a[vis[y]][a[vis[y]][0]]][0]]=a[vis[y]][a[vis[y]][0]],a[vis[y]][0]--;\n\t\t    int j=1,k=vis[x];\n\t\t    while (j<=a[vis[x]][0] && a[vis[x]][j]!=x) j++;//\u627e\u5230x\u7684\u4f4d\u7f6ej \n\t\t    for (int i=j;i<=a[k][0];i++)//\u628ax\u548cx\u4e0a\u7684\u6728\u5757\u79fb\u5230y\u4e0a\u9762 \n\t\t      a[vis[y]][++a[vis[y]][0]]=a[k][i],vis[a[k][i]]=vis[y];\n\t\t    a[k][0]=j-1;\n\t\t}\n\t\telse if (s1==\"pile\" && s2==\"over\"){\n\t\t    int j=1,k=vis[x];\n\t\t    while (j<=a[vis[x]][0] && a[vis[x]][j]!=x) j++;//\u627e\u5230x\u7684\u4f4d\u7f6ej \n\t\t    for (int i=j;i<=a[k][0];i++)//\u628ax\u548cx\u4e0a\u7684\u6728\u5757\u79fb\u5230y\u6240\u5728\u6728\u5757\u5806\u7684\u4e0a\u9762 \n\t\t      a[vis[y]][++a[vis[y]][0]]=a[k][i],vis[a[k][i]]=vis[y];\n\t\t    a[k][0]=j-1;\n\t\t}\n\t}\n\tfor (int i=0;i<n;i++){//\u8f93\u51fa \n\t\tcout<<i<<':';\n\t\tfor (int j=1;j<=a[i][0];j++)\n\t\t  cout<<' '<<a[i][j];\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1581575937,
        "uid": 146307,
        "name": "\u8881\u5b87\u8f69",
        "ccfLevel": 0,
        "title": "\u6d1b\u8c37P2790\u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P2790)\n\n[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c\uff1f](https://www.luogu.com.cn/blog/73-54-16/solution-p2790)\n\n## \u601d\u8def\uff1a\n\n\u4f9d\u7167\u9898\u610f\u76f4\u63a5\u6a21\u62df\u5373\u53ef\uff0c\u9700\u8981\u6ce8\u610f\u9898\u76ee\u4e2d\u7684\u5751\u3002**\u7279\u522b\u6ce8\u610f**\uff0c$n$ **\u6307\u7684\u662f\u79ef\u6728\u6570\u91cf\uff0c\u4e0d\u662f\u6307\u4ee4\u6570**\uff0c\u5982\u679c\u7528\u6570\u7ec4\u6a21\u62df\uff0c\u8fd8\u8981\u7279\u522b\u6ce8\u610f\u7ec6\u8282\uff08\u540e\u9762\u4f1a\u8bf4\uff09\u3002\n\n\uff08\u672c\u9898\u89e3\u4f7f\u7528\u81ea\u589e\u81ea\u51cf\u8fd0\u7b97\u7b26\uff0c\u4e0d\u61c2\u5b83\u4eec\u7684\u540c\u5b66\u53ef\u4ee5\u5148[\u767e\u5ea6](https://www.baidu.com/)\uff09\u3002\n\n## \u4ee3\u7801\u62c6\u5206\uff1a\n\n### \u5b9a\u4e49\uff1a\n\n- \u9700\u8981\u8bb0\u5fc6 $a$ \u548c $b$ \u5728\u54ea\u4e00\u4e2a\u79ef\u6728\u5806\u91cc\uff0c\u65b9\u4fbf\u4ee5\u540e\u5bfb\u627e\u3002\n\n- \u5efa\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\u5b58\u79ef\u6728\u7684\u8be6\u7ec6\u4f4d\u7f6e\uff0c\u4f8b\u5982\uff0c$ans_{i,j}$ \u8868\u793a\u5728\u7f16\u53f7\u4e3a $i$ \u7684\u79ef\u6728\u5806\u4e2d\u4ece\u4e0b\u5f80\u4e0a\u6570\u7b2c $j$ \u4e2a\u4f4d\u7f6e\u7684\u79ef\u6728\u7f16\u53f7\u3002\n\n- \u8fd8\u9700\u8981\u8bb0\u5fc6\u6bcf\u5806\u79ef\u6728\u7684\u6570\u91cf\uff0c\u65b9\u4fbf\u4ee5\u540e\u8fdb\u884c\u79fb\u4f4d\u64cd\u4f5c\u3002\n\n- \u5b9a\u4e49\u56db\u4e2a\u53d8\u91cf\u5b58\u6307\u4ee4\u4fe1\u606f\uff0c\u4e24\u4e2a `int` \u7c7b\u578b \u4e24\u4e2a `string `\u7c7b\u578b\uff08`char` \u4e5f\u884c\uff09\uff0c\u8fd8\u9700\u5b9a\u4e49\u79ef\u6728\u6570 $n$\u3002\n\n```cpp\nint ans[105][105];//ans\u5b58x\u73b0\u5728\u5728\u54ea \nint num[105];//\u5b58x\u53f7\u4f4d\u79ef\u6728\u6570\u91cf \nint vis[105];//\u8bb0\u5fc6i\u5b58\u5230\u4e86\u51e0\u53f7\u4f4d \nint a,b,n;\nstring nw1,nw2;//\u5b58\u6307\u4ee4 \n```\n\n### \u521d\u59cb\u5316\uff1a\n\n- \u6240\u6709\u79ef\u6728\u7f16\u53f7\u7531 $0$ \u5230 $n-1$\u3002\n\n- \u8d77\u521d\uff0c\u6bcf\u4e2a\u79ef\u6728\u90fd\u5728\u81ea\u5df1\u7f16\u53f7\u7684\u4f4d\u7f6e\u4e0a\uff0c\u6bcf\u5806\u79ef\u6728\u6570\u91cf\u90fd\u662f $1$\u3002\n\n```cpp\nfor(int i=0;i<=n-1;i++)//\u521d\u59cb\u5316 \n{\n\tvis[i]=i;//\u8bb0\u5fc6\u79ef\u6728\u4f4d\u7f6e \n\tans[i][1]=i;//\u521d\u59cb\u7684\u79ef\u6728\u5806\u4e0a \n\tnum[i]=1;//\u8bb0\u5fc6\u6570\u91cf \n}\n```\n\n### \u6838\u5fc3\u6a21\u62df\uff1a\n\n- **\u91cd\u70b9**\uff1a\u5faa\u73af\u7684\u8bed\u53e5\u683c\u5f0f\u4e3a `while(true)`\uff0c\u4e0d\u662f `for(int i=1;i<=n;i++)`\uff01\uff01\uff01\n\n- \u9047\u5230 `quit` \u65f6\u5e94\u7acb\u523b\u505c\u6b62\u5faa\u73af\u3002\n\n- \u5f53\u79ef\u6728 $a$ \u548c\u79ef\u6728 $b$ \u5728\u540c\u4e00\u5806\u91cc\u65f6\uff0c\u5e94\u5f53\u5ffd\u7565\u8fd9\u6761\u6307\u4ee4\u3002\n\n- $a$ \u548c $b$ \u662f\u79ef\u6728\u7f16\u53f7\uff0c\u4e0d\u662f\u79ef\u6728\u5806\u53f7\uff0c\u5b83\u4eec\u7684\u4f4d\u7f6e\u5e94\u8be5\u7528\u8bb0\u5fc6\u5316\u6570\u7ec4\u5bfb\u627e\uff0c\u8c03\u7528\u3002\n\n\n#### \u5bfb\u627e $a$ \u548c $b$ \u5728\u79ef\u6728\u5806\u4e2d\u7684\u4f4d\u7f6e\uff1a\n\n- \u5df2\u7ecf\u8bb0\u5fc6\u8fc7\u4e86\u3002\n\n```cpp\nint x=vis[a];//\u5bfb\u627ea\u5728\u79ef\u6728\u4e2d\u7684\u4f4d\u7f6e \nint y=vis[b];//\u5bfb\u627eb\u5728\u79ef\u6728\u4e2d\u7684\u4f4d\u7f6e\n```\n\n\n#### $a$ \u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u5f52\u4f4d:\n\n- \u9700\u8981\u5f52\u4f4d\u7684\u6709\uff1a\u79ef\u6728\u7684\u8bb0\u5fc6\u4f4d\u7f6e\uff0c\u8be6\u7ec6\u4f4d\u7f6e\u3002\n\n- $a$ \u6240\u5728\u79ef\u6728\u5806\u7684\u6570\u91cf\u53ef\u4ee5\u8fb9\u5faa\u73af\u8fb9\u51cf\u3002\n\n```cpp\nfor(int j=num[x];j>=1;j--)//a\u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u5f52\u4f4d\n{\n\tif(ans[x][j]==a)  break;//\u5230a\u4e86\u5c31\u505c\u6b62\u5bfb\u627e \n\tnum[x]--;//a\u79ef\u6728\u5854\u4e0a\u79ef\u6728\u6570\u51cf\u4e00 \n\tint z=ans[x][j];//\u8ba1\u7b97\u5f53\u524d\u79ef\u6728\u5806\u9876\u7684\u503c \n\tans[z][++num[z]]=z;//\u5f52\u4f4d \n\tvis[z]=z;//\u8bb0\u5fc6\u5f52\u4f4d \n}\n```\n#### $b$ \u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u5f52\u4f4d:\n\n- \u7c7b\u6bd4 $a$ \u4e0a\u65b9\u79ef\u6728\u7684\u5f52\u4f4d\u65b9\u6cd5\u3002\n\n```cpp\nfor(j=num[y];j>=1;j--)//\u628ab\u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u5f52\u4f4d\n{\n\tif(ans[y][j]==b)  break;\n\tnum[y]--;\n\tint z=ans[y][j];\n\tans[z][++num[z]]=z;\n\tvis[z]=z;\n}\n```\n#### \u628a $a$ \u79fb\u5230 $b$ \u4e0a\u9762\uff1a\n\n- \u4e0d\u8981\u5fd8\u4e86\u8bb0\u5fc6\u7684\u66f4\u6539\uff0c\u540c\u65f6\uff0c\u56e0\u4e3a\u5faa\u73af\u7ed3\u675f\u6761\u4ef6\uff0c\u8fd8\u8981\u628a $a$ \u539f\u6765\u6240\u5728\u7684\u79ef\u6728\u5806\u7684\u79ef\u6728\u6570\u51cf $1$\u3002\n\n```cpp\u3001\nans[y][++num[y]]=a;//\u628aa\u653e\u5230b\u4e0a\u65b9 \nnum[x]--;\nvis[a]=y;\n```\n\n#### \u628a $a$ \u53ca\u4e0a\u9762\u7684\u6728\u5757\u6574\u4f53\u645e\u5728 $b$ \u4e0a\u9762\uff1a\n\n- \u9700\u8981\u5148\u67e5\u627e $a$ \u8bb0\u5fc6\u91cc\u662f\u5728\u4ece\u4e0b\u5f80\u4e0a\u6570\u7684\u7b2c\u51e0\u4e2a\u79ef\u6728\u3002\n\n- \u5728\u51fd\u6570\u5185\u5b9a\u4e49\u53d8\u91cf\u65f6\u503c\u662f\u968f\u673a\u7684\uff0c\u9700\u8981\u6e05\u96f6\u3002\n\n- \u6ce8\u610f\u79fb\u4f4d\u65b9\u6cd5\uff1a\u6574\u4f53\u79fb\u4f4d\u3002\n\n```cpp\nint j,p=0,rember=0;\nwhile(ans[x][++p]!=a);//\u5bfb\u627ea\u7684\u4f4d\u7f6e \nfor(;p<=num[x];p++)//\u6ce8\u610f\u5faa\u73af\u7684\u5199\u6cd5 \n{//\u628aa\u53ca\u4e0a\u9762\u7684\u6728\u5757\u6574\u4f53\u645e\u5728b\u4e0a\u9762 \n\tint z=ans[x][p];\n\tans[y][++num[y]]=z;\n\tvis[z]=y;\n}\nnum[x]=rember-1;\n//\u73b0\u5728a\u539f\u6765\u6240\u5728\u7684\u79ef\u6728\u6570\u4e3a\n//a\u539f\u6765\u7684\u4f4d\u7f6e\u51cf1 \n//\u56e0\u4e3aa\u5df2\u7ecf\u88ab\u79fb\u8d70\u4e86 \n```\n\n### \u8f93\u51fa\uff1a\n\n- \u4ece $0$ \u5230 $n-1$\u3002\n\n- \u6ce8\u610f\u683c\u5f0f\uff1a\u5728\u5b57\u7b26`:`\u540e\u6709\u7a7a\u683c\u3002\n\n```cpp\nfor(int i=0;i<=n-1;i++)//\u6309\u7167\u9898\u610f\u8f93\u51fa\uff0c\u4ece0\u5230n-1 \n{\n\tcout<<i<<\":\";\n\tfor(int j=1;j<=num[i];j++)\n\t{\n\t\tcout<<\" \"<<ans[i][j];//\u522b\u5fd8\u4e86:\u540e\u7684\u7a7a\u683c \n\t}\n\tcout<<endl;//\u522b\u5fd8\u4e86\u6362\u884c \n}\n```\n\n## \u5b8c\u6574\u4ee3\u7801\u4e4b\u4e00\uff1a\n```cpp\n#include<bits/stdc++.h>//\u4e07\u80fd\u5934\u6587\u4ef6   \nusing namespace std;\n\nint ans[105][105];//ans\u5b58x\u73b0\u5728\u5728\u54ea \nint num[105];//\u5b58x\u53f7\u4f4d\u79ef\u6728\u6570\u91cf \nint vis[105];//\u8bb0\u5fc6i\u5b58\u5230\u4e86\u51e0\u53f7\u4f4d \nint a,b,n;\nstring nw1,nw2;//\u5b58\u6307\u4ee4 \n\nint main()\n{\n\tcin>>n;\n\t\n\tfor(int i=0;i<=n-1;i++)//\u521d\u59cb\u5316 \n\t{\n\t\tvis[i]=i;//\u8bb0\u5fc6\u79ef\u6728\u4f4d\u7f6e \n\t\tans[i][1]=i;//\u521d\u59cb\u7684\u79ef\u6728\u5806\u4e0a \n\t\tnum[i]=1;//\u8bb0\u5fc6\u6570\u91cf \n\t}\n\t\n\twhile(true)//\u6ce8\u610f\uff0c\u662f while(true),while(true),while(true)!!!!\n\t{\n\t\tcin>>nw1>>a>>nw2>>b;//\u8f93\u5165 \n\t\tif(nw1==\"quit\")  break;//\u9047\u5230quit\u505c\u6b62\n\t\t\n\t\tif(vis[a]==vis[b])  continue;//\u6307\u4ee4\u975e\u6cd5 \n\t\t\n\t\tint x=vis[a];//\u5bfb\u627ea\u5728\u79ef\u6728\u4e2d\u7684\u4f4d\u7f6e \n\t\tint y=vis[b];//\u5bfb\u627eb\u5728\u79ef\u6728\u4e2d\u7684\u4f4d\u7f6e\n\t\t\n\t\tif(nw1==\"move\"&&nw2==\"onto\")\n\t\t{\n\t\t\tfor(int j=num[x];j>=1;j--)//a\u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u5f52\u4f4d\n\t\t\t{\n\t\t\t\tif(ans[x][j]==a)  break;//\u5230a\u4e86\u5c31\u505c\u6b62\u5bfb\u627e \n\t\t\t\tnum[x]--;//a\u79ef\u6728\u5854\u4e0a\u79ef\u6728\u6570\u51cf\u4e00 \n\t\t\t\tint z=ans[x][j];//\u8ba1\u7b97\u5f53\u524d\u79ef\u6728\u5806\u9876\u7684\u503c \n\t\t\t\tans[z][++num[z]]=z;//\u5f52\u4f4d \n\t\t\t\tvis[z]=z;//\u8bb0\u5fc6\u5f52\u4f4d \n\t\t\t}\n\t\t\t\n\t\t\tfor(int j=num[y];j>=1;j--)//b\u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u5f52\u4f4d\n\t\t\t{\n\t\t\t\tif(ans[y][j]==b)  break;\n\t\t\t\tnum[y]--;\n\t\t\t\tint z=ans[y][j];\n\t\t\t\tans[z][++num[z]]=z;\n\t\t\t\tvis[z]=z;\n\t\t\t}\n\t\t\t\n\t\t\tans[y][++num[y]]=a;//\u628aa\u653e\u5230b\u4e0a\u65b9 \n\t\t\tnum[x]--;\n\t\t\tvis[a]=y;\n\t\t}\n\t\t\n\t\tif(nw1==\"move\"&&nw2==\"over\")\n\t\t{\n\t\t\tfor(int j=num[x];j>=1;j--)//\u628aa\u4e0a\u65b9\u7684\u5168\u90e8\u5f52\u4f4d\n\t\t\t{\n\t\t\t\tif(ans[x][j]==a)  break;//\u540c\u4e0a \n\t\t\t\tnum[x]--;\n\t\t\t\tint z=ans[x][j];\n\t\t\t\tans[z][++num[z]]=z;\n\t\t\t\tvis[z]=z;\n\t\t\t}\n\t\t\tnum[x]--;//\u540c\u4e0a \n\t\t\tans[y][++num[y]]=a;\n\t\t\tvis[a]=y;\n\t\t}\n\t\t\n\t\tif(nw1==\"pile\"&&nw2==\"onto\")\n\t\t{\n\t\t\tint j,p=0,rember=0;\n\t\t\t//\u4e3b\u51fd\u6570\u5185\u5b9a\u4e49\u53d8\u91cf\u65f6\u503c\u662f\u968f\u673a\u7684\uff0c\u9700\u8981\u6e05\u96f6 \n\t\t\tfor(j=num[y];j>=1;j--)//\u628ab\u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u5f52\u4f4d\n\t\t\t{\n\t\t\t\tif(ans[y][j]==b)  break;//\u540c\u4e0a \n\t\t\t\tnum[y]--;\n\t\t\t\tint z=ans[y][j];\n\t\t\t\tans[z][++num[z]]=z;\n\t\t\t\tvis[z]=z;\n\t\t\t}\n\t\t\twhile(ans[x][++p]!=a);//\u5bfb\u627ea\u7684\u4f4d\u7f6e \n\t\t\trember=p;//\u8bb0\u5f55a\u7684\u4f4d\u7f6e \n\t\t\tfor(;p<=num[x];p++)//\u6ce8\u610f\u5faa\u73af\u7684\u5199\u6cd5 \n\t\t\t{//\u628aa\u53ca\u4e0a\u9762\u7684\u6728\u5757\u6574\u4f53\u645e\u5728b\u4e0a\u9762 \n\t\t\t\tint z=ans[x][p];\n\t\t\t\tans[y][++num[y]]=z;\n\t\t\t\tvis[z]=y;\n\t\t\t}\n\t\t\tnum[x]=rember-1;\n\t\t\t//\u73b0\u5728a\u539f\u6765\u6240\u5728\u7684\u79ef\u6728\u6570\u4e3a\n\t\t\t//a\u539f\u6765\u7684\u4f4d\u7f6e\u51cf1 \n\t\t\t//\u56e0\u4e3aa\u5df2\u7ecf\u88ab\u79fb\u8d70\u4e86 \n\t\t}\t\n\t\t\n\t\tif(nw1==\"pile\"&&nw2==\"over\")\n\t\t{\n\t\t\tint p=0,rember=0;\n\t\t\twhile(ans[x][++p]!=a);\n\t\t\trember=p;//\u8bb0\u5f55a\u7684\u4f4d\u7f6e \n\t\t\tfor(;p<=num[x];p++)//\u540c\u4e0a \n\t\t\t{\n\t\t\t\tint z=ans[x][p];\n\t\t\t\tans[y][++num[y]]=z;\n\t\t\t\tvis[z]=y;\n\t\t\t}\n\t\t\tnum[x]=rember-1;//\u540c\u4e0a \n\t\t}\n\t}\n\t\n\tfor(int i=0;i<=n-1;i++)//\u6309\u7167\u9898\u610f\u8f93\u51fa\uff0c\u4ece0\u5230n-1 \n\t{\n\t\tcout<<i<<\":\";\n\t\tfor(int j=1;j<=num[i];j++)\n\t\t{\n\t\t\tcout<<\" \"<<ans[i][j];//\u522b\u5fd8\u4e86:\u540e\u7684\u7a7a\u683c \n\t\t}\n\t\tcout<<endl;//\u522b\u5fd8\u4e86\u6362\u884c \n\t}\n\treturn 0;\n}\n```\n\n## \u53e6\u4e00\u4e9b\u4ee3\u7801\uff1a\n\n[\u6e05\u5947\u7684\u4ee3\u7801](https://www.luogu.com.cn/paste/nai10uow)\n\n[\u51fd\u6570\u5c01\u88c5\u4ee3\u78011](https://www.luogu.com.cn/paste/un13yi5u)\n\n[\u51fd\u6570\u5c01\u88c5\u4ee3\u78012](https://www.luogu.com.cn/paste/h7jhzupc)\n\n[\u8fd8\u53ef\u4ee5\u70b9\u8fd9\u91cc\u4e0b\u8f7d\u4ee3\u7801](https://www.luogu.com.cn/problem/U253357)\n",
        "postTime": 1665652413,
        "uid": 735416,
        "name": "wangyixuan20090401",
        "ccfLevel": 4,
        "title": "P2790 ccj\u4e0ezrz\u4e4b\u79ef\u6728\u95ee\u9898 \u9898\u89e3"
    },
    {
        "content": "\u672c\u849f\u84bb\u6765\u4e00\u7bc7\u57fa\u7840\u9898\u89e3\n\n\u770b\u5230\u8fd9\u79cd\u4e00\u4e2a\u64cd\u4f5c\u8fdb\u884c\u591a\u6b21\u4e14\u65e0\u5e8f\u8fdb\u884c\u7684\n\n\u9996\u5148\u5c31\u60f3\u5230\u5b9a\u4e49\u51fd\u6570\u3002\n\n\u90a3\u4e48\u9996\u5148\u672c\u9898\u601d\u8def\u5c31\u663e\u800c\u6613\u89c1\u4e86\n\n\u867d\u7136\u957f\u4f46\u662f\u5f88\u597d\u5199\n\n## 1.find\u51fd\u6570\n\n\u663e\u7136\u53ea\u6709\u56db\u4e2a\u64cd\u4f5c\u7684\u51fd\u6570\u662f\u4e0d\u591f\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u5e76\u4e0d\u77e5\u9053a\uff0cb\u7684\u4f4d\u7f6e\u3002\n\n\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u4e00\u4e2afind\u51fd\u6570\u4e86\u3002\n```cpp\nvoid find(int x,int &p,int &h) {\n\tfor (int i=0; i<n; ++i)\n\t\tfor (int j=0; j<v[i].size(); ++j)//\u4e24\u91cd\u5faa\u73af\u5168\u626b\u4e00\u904d\n\t\t\tif (v[i][j]==x) {\n\t\t\t\tp = i;//p\u4e3a\u4f4d\u7f6e\n\t\t\t\th = j;//h\u4e3a\u9ad8\u5ea6\n\t\t\t\tbreak;\n\t\t\t}\n```\n~~\u5c31\u8fd9~~\n\n#### \u63a5\u4e0b\u6765\u5c31\u662f4\u4e2a\u64cd\u4f5c\u51fd\u6570\u4e86\n## 1.moveonto\u51fd\u6570\n```cpp\nvoid moveonto() {\n\tfind(a,p,h);//\u627e\u5230a\u7684\u4f4d\u7f6e\u4e0e\u9ad8\u5ea6\n\tfor (int i=v[p].size()-1; i>h; --i) {\n\t\tv[v[p][i]].push_back(v[p][i]);\n\t\tv[p].pop_back();\n\t}//\u8fd8\u539fa\u4e0a\u65b9\u5757\n\tv[p].pop_back();//\u5220\u53bba\n\tfind(b,p,h);//\u627e\u5230b\u7684\u4f4d\u7f6e\u4e0e\u9ad8\u5ea6\uff08\u63a5\u4e0b\u6765\u4e0d\u5bf9find\u8fdb\u884c\u9610\u8ff0\uff09\n\tfor (int i=v[p].size()-1; i>h; --i) {\n\t\tv[v[p][i]].push_back(v[p][i]);\n\t\tv[p].pop_back();\n\t}//\u8fd8\u539fb\u4e0a\u7684\u65b9\u5757\n\tv[p].push_back(a);\n}\n```\n## 2.moveover\u51fd\u6570\n```cpp\nvoid moveover() {\n\tfind(a,p,h);\n\tfor (int i=v[p].size()-1; i>h; --i) {\n\t\tv[v[p][i]].push_back(v[p][i]);\n\t\tv[p].pop_back();\n\t}//\u8fd8\u539fa\u4e0a\n\tv[p].pop_back();\n\tfind(b,p,h);\n\tv[p].push_back(a);//a\u7f6e\u4e8eb\u5217\u4e0a\n}\n```\n## 3.pileonto\u51fd\u6570\n```cpp\nvoid pileonto() {\n\tfind(b,p,h);\n\tfor (int i=v[p].size()-1; i>h; --i) {\n\t\tv[v[p][i]].push_back(v[p][i]);\n\t\tv[p].pop_back();\n\t}\n\tint t=p;\n\tfind(a,p,h);\n\tint l=v[p].size();\n\tfor(int i=h; i<l; i++) {\n\t\tv[t].push_back(v[p][i]);\n\t}//a\u53ca\u4e0a\u65b9\u65b9\u5757\u7f6e\u4e8eb\u5217\n\tfor(int i=v[p].size()-1; i>=h; i--) {\n\t\tv[p].pop_back();\n\t}//\u5220\u53bba\u53ca\u4ee5\u4e0a\n}\n```\n## 4pileover\u51fd\u6570\n```cpp\nvoid pileover() {\n\tfind(b,p,h);\n\tint t=p;\n\tfind(a,p,h);\n\tint l=v[p].size();//\u6570\u7ec4\u957f\u5ea6\n\tfor(int i=h; i<l; i++) {\n\t\tv[t].push_back(v[p][i]);\n\t}//\u5c06a\u53ca\u4e0a\u65b9\u6728\u5757\u645e\u4e0a\u53bb\n\tfor(int i=v[p].size()-1; i>=h; i--) {\n\t\tv[p].pop_back();//\u5f39\u51fa\n\t}\n}\n```\n## AC\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint p,h,a,b,n,u;\nstring s1,s2,s3;\nvector<int> v[630];\nvoid find(int x,int &p,int &h) {\n\tfor (int i=0; i<n; ++i)\n\t\tfor (int j=0; j<v[i].size(); ++j)\n\t\t\tif (v[i][j]==x) {\n\t\t\t\tp = i;\n\t\t\t\th = j;\n\t\t\t\tbreak;\n\t\t\t}\n}\nvoid moveonto() {\n\tfind(a,p,h);\n\tfor (int i=v[p].size()-1; i>h; --i) {\n\t\tv[v[p][i]].push_back(v[p][i]);\n\t\tv[p].pop_back();\n\t}\n\tv[p].pop_back();\n\tfind(b,p,h);\n\tfor (int i=v[p].size()-1; i>h; --i) {\n\t\tv[v[p][i]].push_back(v[p][i]);\n\t\tv[p].pop_back();\n\t}\n\tv[p].push_back(a);\n}\n\nvoid moveover() {\n\tfind(a,p,h);\n\tfor (int i=v[p].size()-1; i>h; --i) {\n\t\tv[v[p][i]].push_back(v[p][i]);\n\t\tv[p].pop_back();\n\t}\n\tv[p].pop_back();\n\tfind(b,p,h);\n\tv[p].push_back(a);\n}\nvoid pileonto() {\n\tfind(b,p,h);\n\tfor (int i=v[p].size()-1; i>h; --i) {\n\t\tv[v[p][i]].push_back(v[p][i]);\n\t\tv[p].pop_back();\n\t}\n\tint t=p;\n\tfind(a,p,h);\n\tint l=v[p].size();\n\tfor(int i=h; i<l; i++) {\n\t\tv[t].push_back(v[p][i]);\n\t}\n\tfor(int i=v[p].size()-1; i>=h; i--) {\n\t\tv[p].pop_back();\n\t}\n}\nvoid pileover() {\n\tfind(b,p,h);\n\tint t=p;\n\tfind(a,p,h);\n\tint l=v[p].size();\n\tfor(int i=h; i<l; i++) {\n\t\tv[t].push_back(v[p][i]);\n\t}\n\tfor(int i=v[p].size()-1; i>=h; i--) {\n\t\tv[p].pop_back();\n\t}\n}\nint main() {\n\tcin>>n;\n\tfor (int i=0; i<n; ++i) {\n\t\tv[i].push_back(i);\n\t}\n\twhile(1+1==2){\n\t\tcin>>s1;\n\t\tif(s1==\"quit\") {\n\n\t\t\tfor(int i=0; i<n; i++) {\n\t\t\t\tcout<<i<<':';\n\t\t\t\tfor (int j=0; j<v[i].size(); j++)\n\t\t\t\t\tcout<<' '<<v[i][j];\n\t\t\t\tcout<<endl;\n\t\t\t}//\u5224\u505c\n\t\t\tbreak;\n\t\t} else {\n\n\t\t\tcin>>a>>s2>>b;\n\t\t\tfind(a,p,h);\n\t\t\tu=p;\n\t\t\tfind(b,p,h);\n\t\t\tif(u==p)\n\t\t\t\tcontinue;//a\uff0cb\u4e0d\u80fd\u5728\u540c\u4e00\u884c\n\t\t\tif(s1==\"move\") {\n\t\t\t\tif(s2==\"onto\") {\n\t\t\t\t\tmoveonto();\n\t\t\t\t} else {\n\t\t\t\t\tmoveover();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif(s2==\"onto\") {\n\t\t\t\t\tpileonto();\n\t\t\t\t} else {\n\t\t\t\t\tpileover();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1588043340,
        "uid": 308575,
        "name": "\u8239\u533b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2790 \u3010ccj\u4e0ezrz\u4e4b\u79ef\u6728\u95ee\u9898\u3011"
    },
    {
        "content": "#### \u849f\u84bb\u53c8\u6765\u5199\u9898\u89e3\u4e86\n\n\u770b\u5230 `0<n<25` \u6211\u4eec\u77e5\u9053\uff0c\u8fd9\u662f\u4e00\u9053~~\u6c34~~\u6a21\u62df\u3002\n\n\u6211\u4eec\u9644\u4e0a\u4e00\u5f20\u56fe\uff0c\u6765\u5206\u6790\u4e00\u4e0b\u9898\u76ee\n\n\n------------\n![](https://cdn.luogu.com.cn/upload/image_hosting/ufoxt7wj.png)\n\n\n------------\n\u901a\u8fc7\u8fd9\u5f20\u56fe\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u9898\u76ee\u4e2d\u7684\u64cd\u4f5c\u6761\u7406\u6e05\u6670\u5730\u5b9e\u73b0\u3002\n\n\u56e0\u4e3a`0<n<25`\uff0c\u6240\u4ee5\u6211\u9009\u62e9\u7528vector\n\n\u5982\u679c\u4e0d\u592a\u6e05\u695avetcor\uff0c\u53ef\u4ee5\u5eb7\u5eb7\u8fd9\u4e2a\n[vetcor\u5e38\u89c1\u7528\u6cd5\u8be6\u89e3](https://www.cnblogs.com/isChenJY/p/11534378.html)\n\n##### \u6211\u4eec\u8bf4\u4e00\u4e0b\u9898\u76ee\u4e2d\u9700\u8981\u6ce8\u610f\u7684\u51e0\u4e2a\u70b9\n- \u5f52\u4f4d\n\n\u56e0\u4e3a\u9898\u76ee4\u4e2d\u64cd\u4f5c\uff0c\u4e09\u79cd\u6d89\u53ca\u5230\u4e86\u5f52\u4f4d\uff0c\u6240\u4ee5\u6211\u5355\u72ec\u62ff\u51fa\u6765\n\n```cpp\nwhile(v[cnt[tn1]].back()!=tn1)\n\t\t\t{\n\t\t\t\tcnt[v[cnt[tn1]].back()]=v[cnt[tn1]].back();\n\t\t\t\tv[v[cnt[tn1]].back()].push_back(v[cnt[tn1]].back());\n\t\t\t\tv[cnt[tn1]].pop_back();\n\t\t\t}\n```\n\u5f62\u5982\u8fd9\u6837\u7684\uff0c\u90fd\u662f\u5f52\u4f4d\u64cd\u4f5c\n- \u8f93\u51fa\n\n\u9898\u76ee\u7684\u8f93\u51fa\u4e0d\u8981\u5fd8\u4e86\u7a7a\u683c\n\n\u6700\u540e\uff0c\u4e0a\u4ee3\u7801\uff0c\u5177\u4f53\u7684\u89e3\u6790\u89c1\u6ce8\u91ca\u3002\n\n```cpp\n#include <iostream>\n#include <cstdio> \n#include <string>\n#include <vector>\n\nusing namespace std;\n\ntypedef vector<int>::iterator VI;   //\u5077\u4e2a\u61d2 \n \nvector<int> v[30];\t//vector\u6570\u7ec4 \nint cnt[30];\t//\u6807\u5fd7 \nint n;\n \nVI Find(vector<int> &v,int num)  //\u67e5\u627e\u51fd\u6570\uff0c\u627e\u5230\u6307\u5b9a\u7684\u7bb1\u5b50\u7f16\u53f7\u76ee\u524d\u6240\u5728\u7684\u4f4d\u7f6e \n{\n\tfor(VI i=v.begin();i!=v.end();i++)\n\t\tif(*i==num)\n\t\t\treturn i;\n\treturn v.begin()-1;\n}\n\nvoid out()\t\t//\u8f93\u51fa\u51fd\u6570\uff0c\u4e0d\u8981\u5fd8\u4e86\u7a7a\u683c \n{\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tcout<<i<<\":\";\n\t\tif(v[i].empty())\n\t\t{\n\t\t\tcout<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tcout<<\" \"<<v[i][0];\n\t\tfor(int j=1;j<v[i].size();j++)\n\t\t\tcout<<\" \"<<v[i][j];\n\t\tcout<<endl;\n\t}\n}\n \nint main()\n{\n\tcin>>n;\n\tfor(int i=0;i<n;i++)\t\t//\u5c061-n\u5b58\u5165v\u6570\u7ec4\u4e2d \n\t{\n\t\tv[i].clear();\n\t\tv[i].push_back(i);\n\t\tcnt[i]=i;\n\t}\n\t\n\tstring ts;\n\tint tn1,tn2;\n\t\n\twhile(cin>>ts&&ts!=\"quit\")\t//\u8f93\u5165\uff0c\u5e76\u4e14\u4e0d\u662fquit \n\t{\n\t\tif(ts==\"move\")\n\t\t{\n\t\t\tcin>>tn1>>ts>>tn2;\n\t\t\tif(cnt[tn1]==cnt[tn2])\n\t\t\t\tcontinue;\n\t\t\twhile(v[cnt[tn1]].back()!=tn1)    //\u5f52\u4f4d\u64cd\u4f5c \n\t\t\t{\n\t\t\t\tcnt[v[cnt[tn1]].back()]=v[cnt[tn1]].back();\n\t\t\t\tv[v[cnt[tn1]].back()].push_back(v[cnt[tn1]].back());\n\t\t\t\tv[cnt[tn1]].pop_back();\n\t\t\t}\n\t\t\tv[cnt[tn1]].pop_back();\n\t\t\tif(ts==\"onto\")\t\t//move...onto \n\t\t\t{\n\t\t\t\tVI i;\n\t\t\t\twhile(v[cnt[tn2]].back()!=tn2)\n\t\t\t\t{\n\t\t\t\t\tcnt[v[cnt[tn2]].back()]=v[cnt[tn2]].back();\n\t\t\t\t\tv[v[cnt[tn2]].back()].push_back(v[cnt[tn2]].back());\n\t\t\t\t\tv[cnt[tn2]].pop_back();\n\t\t\t\t}\n\t\t\t\tv[cnt[tn2]].push_back(tn1);\n\t\t\t\tcnt[tn1]=cnt[tn2];\n\t\t\t}\n\t\t\telse\t\t//move...over\n\t\t\t{\n\t\t\t\tv[cnt[tn2]].push_back(tn1);\n\t\t\t\tcnt[tn1]=cnt[tn2];    //\u66f4\u65b0 \n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcin>>tn1>>ts>>tn2;\n\t\t\tif(cnt[tn1]==cnt[tn2])\n\t\t\t\tcontinue;\n\t\t\tif(ts==\"onto\")\t\t//pile...onto \n\t\t\t{\n\t\t\t\twhile(v[cnt[tn2]].back()!=tn2)    //\u5f52\u4f4d \n\t\t\t\t{\n\t\t\t\t\tcnt[v[cnt[tn2]].back()]=v[cnt[tn2]].back();\n\t\t\t\t\tv[v[cnt[tn2]].back()].push_back(v[cnt[tn2]].back());\n\t\t\t\t\tv[cnt[tn2]].pop_back();\n\t\t\t\t}\n\t\t\t\tVI pos1=Find(v[cnt[tn1]],tn1),pos2=Find(v[cnt[tn2]],tn2);\n\t\t\t\tint tmp[25],sum=0;\n\t\t\t\tfor(VI i=v[cnt[tn1]].end()-1;i>=pos1;i--)\n\t\t\t\t{\n\t\t\t\t\ttmp[sum++]=*i;\n\t\t\t\t\tv[cnt[tn1]].erase(i);\n\t\t\t\t\tcnt[*i]=cnt[tn2];\n\t\t\t\t}\n\t\t\t\tfor(int i=0;i<sum/2;i++)\n\t\t\t\t{\n\t\t\t\t\tint t=tmp[i];\n\t\t\t\t\ttmp[i]=tmp[sum-i-1];\n\t\t\t\t\ttmp[sum-i-1]=t;\n\t\t\t\t}\n\t\t\t\tv[cnt[tn2]].insert(pos2+1,tmp,tmp+sum);  //\u6574\u4f53\u63d2\u5165\n\t\t\t}\n\t\t\telse\t  //pile...over\n\t\t\t{\n\t\t\t\tVI pos1=Find(v[cnt[tn1]],tn1);\n\t\t\t\tint tmp[25],sum=0;\n\t\t\t\tfor(VI i=v[cnt[tn1]].end()-1;i>=pos1;i--)\n\t\t\t\t{\n\t\t\t\t\ttmp[sum++]=*i;\n\t\t\t\t\tv[cnt[tn1]].erase(i);\n\t\t\t\t\tcnt[*i]=cnt[tn2];\n\t\t\t\t}\n\t\t\t\tfor(int i=0;i<sum/2;i++)\n\t\t\t\t{\n\t\t\t\t\tint t=tmp[i];\n\t\t\t\t\ttmp[i]=tmp[sum-i-1];\n\t\t\t\t\ttmp[sum-i-1]=t;\n\t\t\t\t}\n\t\t\t\tv[cnt[tn2]].insert(v[cnt[tn2]].end(),tmp,tmp+sum);  //\u6574\u4f53\u63d2\u5165 \n\t\t\t}\n\t\t}\n\t}\n\tout();   //\u8f93\u51fa \n\treturn 0;\n}\n```\n\n\u5199\u9898\u89e3\u4e0d\u6613\uff0c\u5e0c\u671b\u5404\u4f4d\u591a\u591a\u652f\u6301\uff01",
        "postTime": 1585638074,
        "uid": 167101,
        "name": "zhouj2006",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2790 \u3010ccj\u4e0ezrz\u4e4b\u79ef\u6728\u95ee\u9898\u3011"
    },
    {
        "content": "# [\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P2790)\n\n## \u601d\u8def\n\u9996\u5148\uff0c\u770b\u6570\u636e\u8303\u56f4\u80af\u5b9a\u662f\u6ca1\u9519\u7684\uff01\u53d1\u73b0 $n$ \u662f\u5c0f\u4e8e $25$\u3002\u90a3\u76f4\u63a5\u53ef\u4ee5\u4e0a\u6a21\u62df\u554a\uff01\u96be\u5f97\u7684\u6a21\u62df\u6c34\u9898\u5440\u3002\n\n\u4f46\u91cc\u9762\u6709\u4e00\u4e2a\u5751\u70b9\uff0c\u9700\u8981\u6ce8\u610f\u4e00\u4e0b\u5c31\u662f\uff1a\u5f53 $a$ \u548c $b$ \u5904\u4e8e\u540c\u4e00\u4f4d\u7f6e\u65f6\uff0c\u53ef\u4ee5\u5ffd\u7565\uff01\n\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,x,y;\nint vis[30],a[30][30];\nstring s1,s2;\nint main()\n{\n\tcin>>n;\n\tfor (int i=0;i<n;i++) \n\t{\n\t\ta[i][0]=1;\n\t\ta[i][1]=vis[i]=i;\n\t}\n\twhile (cin>>s1 && s1!=\"quit\")\n\t{\n\t\tcin>>x>>s2>>y;\n\t\tif (vis[x]==vis[y])\n\t\t{\n\t\t\tcontinue;\n\t\t}\n\t\tif (s1==\"move\" && s2==\"onto\")\n\t\t{\n\t\t\twhile (a[vis[x]][a[vis[x]][0]]!=x && a[vis[x]][0]>0)\n\t\t\t{\n\t\t\t  vis[a[vis[x]][a[vis[x]][0]]]=a[a[vis[x]][a[vis[x]][0]]][++a[a[vis[x]][a[vis[x]][0]]][0]]=a[vis[x]][a[vis[x]][0]];\n\t\t\t  a[vis[x]][0]--;\n\t\t\t}\n\t\t\twhile (a[vis[y]][a[vis[y]][0]]!=y && a[vis[y]][0]>0)\n\t\t\t{\n\t\t\t  vis[a[vis[y]][a[vis[y]][0]]]=a[a[vis[y]][a[vis[y]][0]]][++a[a[vis[y]][a[vis[y]][0]]][0]]=a[vis[y]][a[vis[y]][0]];\n\t\t\t  a[vis[y]][0]--;\n\t\t\t}\n\t\t\ta[vis[y]][++a[vis[y]][0]]=x;\n\t\t\ta[vis[x]][0]--;\n\t\t\tvis[x]=vis[y];\n\t\t}\n\t\telse if (s1==\"move\" && s2==\"over\")\n\t\t{\n\t\t\twhile (a[vis[x]][a[vis[x]][0]]!=x && a[vis[x]][0]>0)\n\t\t\t{\n\t\t\t  vis[a[vis[x]][a[vis[x]][0]]]=a[a[vis[x]][a[vis[x]][0]]][++a[a[vis[x]][a[vis[x]][0]]][0]]=a[vis[x]][a[vis[x]][0]];\n\t\t\t  a[vis[x]][0]--;\n\t\t\t}\n\t\t\ta[vis[y]][++a[vis[y]][0]]=x;\n\t\t\ta[vis[x]][0]--;\n\t\t\tvis[x]=vis[y];\n\t\t}\n\t\telse if (s1==\"pile\" && s2==\"onto\")\n\t\t{\n\t\t\twhile (a[vis[y]][a[vis[y]][0]]!=y && a[vis[y]][0]>0)\n\t\t\t{\n\t\t\t  vis[a[vis[y]][a[vis[y]][0]]]=a[a[vis[y]][a[vis[y]][0]]][++a[a[vis[y]][a[vis[y]][0]]][0]]=a[vis[y]][a[vis[y]][0]];\n\t\t\t  a[vis[y]][0]--;\n\t\t\t}\n\t\t\tint j=1,k=vis[x];\n\t\t    while (j<=a[vis[x]][0] && a[vis[x]][j]!=x)\n\t\t\t{\n\t\t\t  j++;\n\t\t\t}\n\t\t    for (int i=j;i<=a[k][0];i++)\n\t\t    {\n\t\t      a[vis[y]][++a[vis[y]][0]]=a[k][i];\n\t\t\t  vis[a[k][i]]=vis[y];\n\t\t\t}\n\t\t\ta[k][0]=j-1;\n\t\t}\n\t\telse if (s1==\"pile\"&&s2==\"over\")\n\t\t{\n\t\t    int j=1;\n\t\t\tint k=vis[x];\n\t\t    while (j<=a[vis[x]][0] && a[vis[x]][j]!=x)\n\t\t\t{\n\t\t\t\tj++;\n\t\t\t}\n\t\t    for (int i=j;i<=a[k][0];i++)\n\t\t    {\n\t\t      a[vis[y]][++a[vis[y]][0]]=a[k][i];\n\t\t\t  vis[a[k][i]]=vis[y];\n\t\t\t}\n\t\t\ta[k][0]=j-1;\n\t\t}\n\t}\n\tfor (int i=0;i<n;i++)\n\t{\n\t\tcout<<i<<':';\n\t\tfor (int j=1;j<=a[i][0];j++)\n\t\t{\n\t\t\tcout<<' '<<a[i][j];\n\t\t}\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1684758811,
        "uid": 679557,
        "name": "qinzhen",
        "ccfLevel": 0,
        "title": "P2790"
    },
    {
        "content": "\u5b9a\u4e49\u4e00\u4e2a\u5f52\u4f4d\u51fd\u6570 `reposition`\uff0c\u548c\u79fb\u52a8\u51fd\u6570 `move`\uff0c\u5219\u9898\u8ff0\u64cd\u4f5c\u5747\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e24\u4e2a\u51fd\u6570\u5b8c\u6210\u3002\n\n```python\ns = [*open(0)]\nn = int(s[0])\nA = [[i] for i in range(n)]\n\n# \u628a a \u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u5f52\u4f4d\n# p \u4e3a a \u5f53\u524d\u6240\u5728\u4f4d\u7f6e\u7684\u7f16\u53f7\ndef reposition(a, p):\n    # \u9700\u8981\u5bf9 len(A[p]) - A[p].index(a) - 1 \u4e2a\u6728\u5757\u8fdb\u884c\u5f52\u4f4d\n    for _ in range(len(A[p]) - A[p].index(a) - 1):\n        # \u4f9d\u6b21\u53d6\u51fa a \u8fd9\u4e00\u5806\u672b\u5c3e\u7684\u6728\u5757\u5f52\u4f4d\uff0c\u5373 pop \u540e\u653e\u5230\u5bf9\u5e94\u5806\u672b\u5c3e\n        x = A[p].pop()\n        A[x] += x,\n\n# \u628a a \u53ca\u4e0a\u9762\u7684\u6728\u5757\u79fb\u52a8\u81f3 b \u6240\u5728\u6728\u5757\u5806\u7684\u9876\u90e8\n# pa, pb \u4e3a\u6728\u5757 a, b \u5f53\u524d\u6240\u5728\u4f4d\u7f6e\u7684\u7f16\u53f7\ndef move(a, pa, pb):\n    A[pb] += A[pa][A[pa].index(a):] # index \u627e\u5230 a \u5728\u8fd9\u4e00\u5806\u4e2d\u7684\u4f4d\u7f6e\uff0c\u7528\u5207\u7247\u53d6\u51fa\u8fd9\u4e00\u5806\u4e2d a \u53ca\u4e0a\u9762\u7684\u6728\u5757\u52a0\u5165\u5230 b \u6240\u5728\u5806\u7684\u672b\u5c3e\n    A[pa] = A[pa][:A[pa].index(a)] # \u7528\u5207\u7247\u53d6\u51fa\u8fd9\u4e00\u5806\u4e2d a \u4e0b\u9762\u7684\u90e8\u5206\u66ff\u6362\u8fd9\u4e00\u5806\n\nfor s in s[1:-1]:\n    s = s.split()\n    a, b = int(s[1]), int(s[3])\n    # \u627e\u51fa\u6728\u5757 a, b \u5f53\u524d\u6240\u5728\u4f4d\u7f6e\u7684\u7f16\u53f7\n    pa = [i for i in range(n) if a in A[i]][0] # \u9996\u4e2a i \u6ee1\u8db3 a \u5728\u7b2c i \u5806\u4e2d\n    pb = [i for i in range(n) if b in A[i]][0] # \u9996\u4e2a i \u6ee1\u8db3 b \u5728\u7b2c i \u5806\u4e2d\n    if pa == pb: # a \u548c b \u5728\u540c\u4e00\u5806\u7684\u6307\u4ee4\u65f6\u975e\u6cd5\u6307\u4ee4\uff0c\u5e94\u5f53\u5ffd\u7565\u3002\n        continue\n    s = s[0] + s[2]\n    if s == 'moveonto':\n        reposition(a, pa)\n        reposition(b, pb)\n        move(a, pa, pb)\n    if s == 'moveover':\n        reposition(a, pa)\n        move(a, pa, pb)\n    if s == 'pileonto':\n        reposition(b, pb)\n        move(a, pa, pb)\n    if s == 'pileover':\n        move(a, pa, pb)\nfor i in range(n):\n    print(f'{i}:', *A[i])\n```",
        "postTime": 1677429743,
        "uid": 84282,
        "name": "andyli",
        "ccfLevel": 7,
        "title": "P2790 ccj\u4e0ezrz\u4e4b\u79ef\u6728\u95ee\u9898 \u9898\u89e3"
    },
    {
        "content": "### \u9884\u5904\u7406\n\n\u4e00\u5f00\u59cb\uff0c\u6bcf\u4e00\u4e2a\u79ef\u6728\u7684\u4e0a\u65b9\u53ea\u6709\u672c\u8eab\u3002\n\n```cpp\nvoid init(){\n\tfor(int i=0;i<n;i++)\n\t\tt[i].push_back(i);\n}\n```\n\n### \u627e\u79ef\u6728\u5728\u54ea\u4e00\u4e2a\u79ef\u6728\u4e4b\u4e0a\u548c\u5728\u54ea\u4e2a\u79ef\u6728\u7684\u7b2c\u51e0\u4e2a\n\n\u904d\u5386 -> \u67e5\u627e\u3002\n\n```cpp\nvoid find(int a,int &p,int &h){\n\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<t[i].size();j++)\n\t\t\tif(t[i][j]==a){\n\t\t\t\tp=i,h=j;\n\t\t\t\treturn;\n\t\t\t}\n}\n```\n\n### \u5f52\u4f4d\n\n\u5c06 $h$ \u4e0a\u65b9\u7684\u79ef\u6728\u653e\u5728\u81ea\u5df1\u539f\u672c\u7684\u4f4d\u7f6e\u7684\u6700\u4e0a\u65b9\u3002\n\n\u518d\u5c06\u79fb\u8d70\u7684\u79ef\u6728\u8fd0\u7528 resize \u79fb\u9664\u3002\n\n```cpp\nvoid homing(int p,int h){\n\tfor(int i=h+1;i<t[p].size();i++){\n\t\tint b=t[p][i];\n\t\tt[b].push_back(b);\n\t}\n\tt[p].resize(h+1);\n}\n```\n\n### \u653e\u5728\u9876\u90e8\n\n\u5c06\u8981\u79fb\u8d70\u7684\u79ef\u6728\u653e\u5728 $p2$\uff08\u6587\u7ae0\u4e2d\u7684 $b$\uff09\u3002\n\n\u518d\u5c06\u79fb\u8d70\u7684\u79ef\u6728\u8fd0\u7528 resize \u79fb\u9664\u3002\n\n```cpp\nvoid pile_onto(int p,int h,int p2){\n\tfor(int i=h;i<t[p].size();i++)\n\t\tt[p2].push_back(t[p][i]);\n\tt[p].resize(h);\n}\n```\n\n### \u8f93\u51fa\n\n\u6309\u7167\u9898\u76ee\u8f93\u51fa\u5373\u53ef\u3002\n\n```cpp\nvoid print(){\n\tfor(int i=0;i<n;i++){\n\t\tcout<<i<<\": \";\n\t\tfor(int j=0;j<t[i].size();j++)\n\t\t\tcout<<t[i][j]<<\" \";\n\t\tcout<<endl;\n\t}\n}\n```\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define For(i,a,b) for(int i=a;i<=b;i++)\nusing namespace std;\nconst int N=30;\nint n;\nvector<int>t[N];\nstring s1,s2;\nint a,b;\nvoid init(){\n\tfor(int i=0;i<n;i++)\n\t\tt[i].push_back(i);\n}\nvoid find(int a,int &p,int &h){\n\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<t[i].size();j++)\n\t\t\tif(t[i][j]==a){\n\t\t\t\tp=i,h=j;\n\t\t\t\treturn;\n\t\t\t}\n}\nvoid homing(int p,int h){\n\tfor(int i=h+1;i<t[p].size();i++){\n\t\tint b=t[p][i];\n\t\tt[b].push_back(b);\n\t}\n\tt[p].resize(h+1);\n}\nvoid pile_onto(int p,int h,int p2){\n\tfor(int i=h;i<t[p].size();i++)\n\t\tt[p2].push_back(t[p][i]);\n\tt[p].resize(h);\n}\nvoid print(){\n\tfor(int i=0;i<n;i++){\n\t\tcout<<i<<\": \";\n\t\tfor(int j=0;j<t[i].size();j++)\n\t\t\tcout<<t[i][j]<<\" \";\n\t\tcout<<endl;\n\t}\n}\nsigned main(){\n\tcin>>n;\n\tinit();\n\twhile(cin>>s1&&s1!=\"quit\"){\n\t\tcin>>a>>s2>>b;\n\t\tint pa,pb,ha,hb;\n\t\tfind(a,pa,ha);\n\t\tfind(b,pb,hb);\n\t\tif(pa==pb)continue;\n\t\tif(s2==\"onto\")homing(pb,hb);\n\t\tif(s1==\"move\")homing(pa,ha);\n\t\tpile_onto(pa,ha,pb);\n\t}\n\tprint();\n\treturn 0;\n}\n```",
        "postTime": 1647959938,
        "uid": 501923,
        "name": "duchengjun",
        "ccfLevel": 5,
        "title": "P2790\u9898\u89e3"
    },
    {
        "content": "[$\\tiny\\texttt{\u70b9\u51fb\u8fd9\u91cc\u98df\u7528\u6548\u679c\u66f4\u4f73}$](https://www.luogu.org/blog/SMARTsoft/solution-uva101)\n\n# $\\Huge\\texttt{\u7206\u70b8\u6a21\u62df}$\n$$\\large\\texttt{\u5f53\u7136\u4e0d\u4f1aTLE}$$\n\n# \u91cd\u70b9$:vector$\n### \u7279\u70b9:\n```\n\uff080\uff09vector\u662f\u4e00\u4e2a\u6a21\u677f\u7c7b,\u53ef\u4ee5\u5b9a\u4e49\u4efb\u4f55\u7c7b\u578b\u7684\u6570\u7ec4vector<\u7c7b\u578b\u540d>\u6570\u7ec4\u540d\n\uff081\uff09\u5b58\u5728\u552f\u4e00\u7684\u4e00\u4e2a\u88ab\u79f0\u4e3a\u201c\u7b2c\u4e00\u4e2a\u201d\u7684\u6570\u636e\u5143\u7d20\n\uff082\uff09\u5b58\u5728\u552f\u4e00\u7684\u4e00\u4e2a\u88ab\u79f0\u4e3a\u201c\u6700\u540e\u4e00\u4e2a\u201d\u7684\u6570\u636e\u5143\u7d20\n\uff083\uff09\u9664\u7b2c\u4e00\u4e2a\u5143\u7d20\u4e4b\u5916\uff0c\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u6570\u636e\u5143\u7d20\u5747\u53ea\u6709\u4e00\u4e2a\u524d\u9a71\n\uff084\uff09\u9664\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u4e4b\u5916\uff0c\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u6570\u636e\u5143\u7d20\u5747\u53ea\u6709\u4e00\u4e2a\u540e\u7ee7\n```\n### \u4f7f\u7528:\n```cpp\n(1)\u5934\u6587\u4ef6#include<vector>.\n\n(2)\u521b\u5efavector\u5bf9\u8c61\uff0cvector<int>vec;\n\n(3)\u5c3e\u90e8\u63d2\u5165\u6570\u5b57\uff1avec.push_back(a);\n\n(4)\u4f7f\u7528\u4e0b\u6807\u8bbf\u95ee\u5143\u7d20\uff0ccout<<vec[0]<<endl;\t//\u8bb0\u4f4f\u4e0b\u6807\u662f\u4ece0\u5f00\u59cb\u7684\u3002\n \n(5)\u4f7f\u7528\u8fed\u4ee3\u5668\u8bbf\u95ee\u5143\u7d20.\nvector<int>::iterator it;\nfor(it=vec.begin();it!=vec.end();it++)\n    cout<<*it<<endl;\n\n(6)\u63d2\u5165\u5143\u7d20\uff1a    vec.insert(vec.begin()+i,a);\u5728\u7b2ci+1\u4e2a\u5143\u7d20\u524d\u9762\u63d2\u5165a;\n\n(7)\u5220\u9664\u5143\u7d20\uff1a\nvec.erase(vec.begin()+2);\u5220\u9664\u7b2c3\u4e2a\u5143\u7d20\nvec.erase(vec.begin()+i,vec.end()+j);\u5220\u9664\u533a\u95f4[i,j-1];\u533a\u95f4\u4ece0\u5f00\u59cb\n\n(8)\u6392\u5e8f\uff1asort(vec.begin(),vec.end());\n\n(9)\u6570\u7ec4\u5927\u5c0f:vec.size();\n\n(10)\u76f4\u63a5\u8d4b\u503c:vector<int>v=vec;\n\n(11)\u6e05\u7a7a:v.clear();\n```\n\n# $\\huge\\texttt{\u4eae\u4ee3\u7801!}$\n\n\n```cpp\n#include<iostream>\t\t//cin\u548ccout \n#include<vector>\t\t//[\u4e0d\u5b9a\u957f\u6570\u7ec4](\u6572\u9ed1\u677f\u5212\u91cd\u70b9)\nusing namespace std;\n\nconst int maxn=30;\t\t//\u6700\u591a\u53ea\u670925\u5806(\u4e5f\u5c31\u662f25\u4e2a\u6728\u5757)  \nint n;\t\t//\u603b\u5806\u6570(\u4e5f\u662f\u603b\u6728\u5757\u6570) \nvector<int>pile[maxn]; //\u6570\u7ec4\u7684\u6570\u7ec4,\u6ca1\u5b66\u8fc7vector\u7684\u8bf7\u5b9a\u4e49\u4e8c\u7ef4\u6570\u7ec4 \n\nvoid find_block(int a,int&p,int&h)\t\t//\u627e\u6728\u5757a\u6240\u5728\u7684\u5806\u4ee5\u53ca\u5b83\u662fp\u5806\u7684\u7b2c\u51e0\u4e2a\u6728\u5757(\u9ad8\u5ea6h),\u4ee5[\u5f15\u7528](\u6572\u9ed1\u677f\u5212\u91cd\u70b9)\u7684\u5f62\u5f0f\u8fd4\u56de\u8c03\u7528\u8005 \n{\n\tfor(p=0;p<n;p++)\t\t//\u66b4\u529b*1 \n\t\tfor(h=0;h<pile[p].size();h++)\t\t//\u66b4\u529b*2\n\t\t\tif(pile[p][h]==a)\t\t//\u5982\u679c\u4f60\u6709\u5e78\u627e\u5230 \n\t\t\t\treturn;\t\t\t//\u5f53\u7136\u662f\u548c\u8fd9\u4e2a\u51fd\u6570\u8bf4\u62dc\u62dc\u5566 \n\t//\u7531\u4e8e\u4f20\u5165\u7684p\u548ch\u4f5c\u4e3a\u5faa\u73af\u53d8\u91cf\u4e00\u76f4\u5728\u53d8\u5316,\u6240\u4ee5\u76f4\u63a5\u8fd4\u56de\u5373\u53ef \n}\n\nvoid clear_above(int p,int h)\t\t\t//\u628a\u7b2cp\u5806\u9ad8\u5ea6\u4e3ah\u7684\u6728\u5757\u4e0a\u65b9\u7684\u6240\u6709\u6728\u5757\u79fb\u56de\u539f\u4f4d \n{\n\tfor(int i=h+1;i<pile[p].size();i++)\t\t//\u4ece\u7b2ch+1\u4e2a\u5143\u7d20\u5f00\u59cb\u64cd\u4f5c \n\t{\n\t\tint b=pile[p][i];\t\t//\u591a\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf,\u4ee3\u7801\u7b80\u6d01\u53c8\u597d\u770b \n\t\tpile[b].push_back(b); //\u628a\u6728\u5757b\u653e\u56de\u539f\u4f4d[\u6ce8\u610f\u53ea\u662f\u5728\u539f\u4f4d\u52a0\u4e86\u4e00\u4e2a\u6570,\u6728\u6709\u628a\u5b83\u5220\u6389](\u6572\u9ed1\u677f\u5212\u91cd\u70b9)\n  \t}\n\tpile[p].resize(h+1);\t//\u8fd9\u4e00\u5806\u53ea\u5e94\u4fdd\u7559\u4e0b\u68070~h\u7684\u5143\u7d20,h\u5c31\u662f\u8fd9\u4e2a\u6728\u5757\u672c\u8eab \n}\n\nvoid pile_onto(int p,int h,int p2)\t////\u628a\u7b2cp\u5806\u9ad8\u5ea6h\u53ca\u5176\u4e0a\u65b9\u7684\u6728\u5757(\u5982\u679c\u6709\u7684\u8bdd)\u6574\u4f53\u79fb\u52a8\u5230p2\u5806\u7684\u9876\u90e8\n{\n\tfor(int i=h;i<pile[p].size();i++)\t\t//\u4eceh\u8fd9\u4e2a\u5143\u7d20\u5f00\u59cb\u642c(\u6211\u5f88\u597d\u5947\u600e\u4e48\u4ece\u5e95\u4e0b\u5f00\u59cb\u62bd) \n\t\tpile[p2].push_back(pile[p][i]);\t\t//[\u6ce8\u610f\u53ea\u662f\u5728p2\u5806\u52a0\u4e86\u4e00\u4e2a\u6570,\u6728\u6709\u628a\u5b83\u5220\u6389](\u6572\u9ed1\u677f\u5212\u91cd\u70b9)\n\tpile[p].resize(h);\t\t\t\t//\u53ea\u4fdd\u7559\u4e0b\u6807\u4ece0~h\u7684\u5143\u7d20 \n}\n\nvoid print()\t\t//\u6700\u540e\u6253\u5370\u7ed3\u679c \n{\n\tfor(int i=0;i<n;i++)\t\t//\u6bcf\u4e00\u5806\u90fd\u8981\u6253\u5370 \n\t{\n\t\t//\u6309\u7167\u89c4\u5219\u6253\u5370,\u4e0d\u89e3\u91ca \n\t\tcout<<i<<':';\n\t\tfor(int j=0;j<pile[i].size();j++)\n\t\t\tcout<<' '<<pile[i][j];\n\t\tcout<<endl;\n\t}  \n}\n\nint main()\n{\n  \tcin>>n;\t\t\t//\u8f93\u5165\u603b\u5806\u6570(\u4e5f\u662f\u603b\u6728\u5757\u6570) \n  \tint a,b;\t\t//\u6307\u4ee4\u4e2d\u7684\u4e24\u4e2a\u6728\u5757\u7684\u7f16\u53f7(\u6ce8\u610f\u4e0d\u662f\u5806\u53f7)\n  \tstring s1,s2;\t/*\u4e24\u6761\u6307\u4ee4\u4e2d\u7684\u5b57\u7b26[\u89c1\u4e0b] \n\tmove a onto b: \u628aa\u548cb\u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u653e\u56de\u521d\u59cb\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u628aa\u653e\u5230b\u4e0a\u9762 \n\tmove a over b: \u628aa\u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u653e\u56de\u521d\u59cb\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u628aa\u653e\u5728b\u6240\u5728\u6728\u5757\u5806\u7684\u6700\u4e0a\u65b9 \n\tpile a onto b: \u628ab\u4e0a\u65b9\u7684\u6728\u5757\u90e8\u653e\u56de\u521d\u59cb\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u628aa\u548ca\u4e0a\u9762\u6240\u6709\u7684\u6728\u5757\u6574\u4f53\u653e\u5230b\u4e0a\u9762 \n\tpile a over b: \u628aa\u548ca\u4e0a\u9762\u6240\u6709\u7684\u6728\u5757\u6574\u4f53\u653e\u5728b\u6240\u5728\u6728\u5757\u5806\u7684\u6700\u4e0a\u65b9 \n\t*/\n  \tfor(int i=0;i<n;i++)\t\t//\u521d\u59cb\u5316\u5faa\u73af,\u4ece0\u5230\u603b\u5806\u6570(\u4e5f\u662f\u603b\u6728\u5757\u6570)\n\t  \tpile[i].push_back(i);\t//\u5c06\u6bcf\u4e00\u4e2a\u6728\u5757\u5f52\u4f4d \n\twhile(cin>>s1>>a>>s2>>b)\t//\u6bcf\u6b21\u8f93\u5165,\u5982\u679c\u4efb\u4f55\u4e00\u4e2a\u8bfb\u4e0d\u5230cin\u51fd\u6570\u5c31\u4f1areturn 0,\u7531\u4e8equit\u53ea\u67091\u4e2astring,a s2 b\u5747\u8bfb\u4e0d\u5230,\u6240\u4ee5\u4e0d\u7528\u5224\u65ad \n\t{\n\t\tint pa/*\u6728\u5757a\u5728\u54ea\u4e00\u5806*/,pb/*\u6728\u5757b\u5728\u54ea\u4e00\u5806*/,ha/*\u6728\u5757a\u662fpa\u5806\u7684\u7b2c\u51e0\u4e2a\u6728\u5757(\u9ad8\u5ea6)*/,hb/*\u6728\u5757b\u662fpb\u5806\u7684\u7b2c\u51e0\u4e2a\u6728\u5757(\u9ad8\u5ea6)*/;\n\t\tfind_block(a,pa,ha);\t\t//\u627e\u5230\u6728\u5757a\u7684\u4f4d\u7f6e \n\t\tfind_block(b,pb,hb);\t\t//\u627e\u5230\u6728\u5757b\u7684\u4f4d\u7f6e \n\t\tif(pa==pb)\t\t//\u53d1\u73b0\u4e24\u4e2a\u6728\u5757\u5728\u540c\u4e00\u5806\u975e\u6cd5\u6307\u4ee4,\u8c03\u5230\u4e0b\u4e00\u6761\u6307\u4ee4 \n\t\t\tcontinue;\t\t//\u4e0ebreak\u4e0d\u540c,\u4e0d\u4f1a\u8df3\u51fa\u5faa\u73af,\u4f1a\u76f4\u63a5\u8fdb\u5165\u4e0b\u4e00\u6b21\u5faa\u73af \n\t\t//\u6211\u4eec\u53d1\u73b0,\u5f53\u51fa\u73b0onto\u6307\u4ee4\u65f6,\u9700\u8981\u8fd8\u539fb\u6728\u5757\u4ee5\u4e0a\u7684\u6728\u5757 \n\t\t// \u540c\u3000\u7406 ,\u5f53\u51fa\u73b0move\u6307\u4ee4\u65f6,\u9700\u8981\u8fd8\u539fa\u6728\u5757\u4ee5\u4e0a\u7684\u6728\u5757\n\t\tif(s2==\"onto\")\n\t\t\tclear_above(pb,hb);\t\t//\u8fd8\u539fb\u4e0a\u9762\u7684\u6728\u5757 \n\t\tif(s1==\"move\")\n\t\t\tclear_above(pa,ha);\t\t//\u8fd8\u539fa\u4e0a\u9762\u7684\u6728\u5757\n\t\tpile_onto(pa,ha,pb);\t\t//\u5c06a\u4ee5\u53ca\u4ed6\u4e0a\u9762\u7684\u6728\u5757(\u5982\u679c\u6709\u7684\u8bdd)\u4e00\u8d77\u645e\u5728b\u6728\u5757\u6240\u5728\u7684\u5806\u7684\u9876\u90e8 \n\t}\n\tprint();\t\t\t//\u8f93\u51fa\u7ed3\u679c,\u5982\u679c\u5fd8\u4e86,\u5199\u5bf9\u4e86WA\u58f0\u4e00\u7247,\u5199\u9519\u4e86\u8fd8\u662fWA\u58f0\u4e00\u7247 \n\treturn 0;\n}\n```\n",
        "postTime": 1566966849,
        "uid": 165766,
        "name": "Times_New_man",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2790 \u3010ccj\u4e0ezrz\u4e4b\u79ef\u6728\u95ee\u9898\u3011"
    },
    {
        "content": "# \u5199\u5728\u524d\u9762\uff1a\u5982\u60f3\u83b7\u5f97\u66f4\u4f73\u9605\u8bfb\u6548\u679c\uff0c\u8bf7\u70b9\u51fb[\u8fd9\u91cc](https://blog.csdn.net/kkkksc03/article/details/84555384)\uff0c\u5982\u6709\u4efb\u4f55\u7591\u60d1\uff0c\u6b22\u8fce\u79c1\u4fe1\u4ea4\u6d41\uff01\n\n( \u2299 o \u2299 )\u554a\uff01\u597d\u50cf2000\u5b57\u4e86\uff0c\u770b\u5728\u849f\u84bb\u8fd9\u4e48\u8f9b\u82e6\u7684\u4efd\u4e0a\uff0c\u6c42\u8fc7\uff0c\u6c42\u8d5e\uff01\n\n# \u9898\u76ee\u94fe\u63a5\uff1ahttps://www.luogu.org/problemnew/show/P2790\n\u8fd9\u9898\u7801\u91cf\u7a0d\u6709\u70b9\u5927\u3002\u3002\u3002\n# \u5206\u6790\uff1a\n\u8fd9\u9053\u9898\u6a21\u62df\u5373\u53ef\u3002\u56e0\u4e3a\u8003\u8651\u5230\u6240\u6709\u7684\u64cd\u4f5cvector\u53ef\u6700\u5feb\u6377\u7684\u5b9e\u73b0\uff0c\u6240\u4ee5\u6570\u7ec4\u52a8\u6001vector\u3002\u6bcf\u4e00\u79cd\u60c5\u51b5\u5206\u522b\u8003\u8651\u3002\n\n\u5176\u4ed6\u7684\u89c1\u4ee3\u7801\u6ce8\u91ca\n## \u90e8\u5206\u8fc7\u957f\u7684\u6ce8\u91ca\u9632\u5728\u8fd9\u91cc\uff0c\u8bf7\u5bf9\u7167\u5e8f\u53f7\u5230\u4ee3\u7801\u4e2d\u67e5\u770b\u3002\n**\u2460**\uff1awa\u610f\u4e3aa\u7684\u4f4d\u7f6e\uff0c\u8bb0\u5f55\u5f53\u524da\u6240\u5728\u4f4d\u7f6e\u7684\u5e8f\u53f7\u3002\nwb\u610f\u4e3ab\u7684\u4f4d\u7f6e\uff0c\u8bb0\u5f55\u5f53\u524db\u6240\u5728\u4f4d\u7f6e\u7684\u5e8f\u53f7\u3002\nca\u610f\u4e3aa\u7684\u5c42\u6570\uff0c\u8bb0\u5f55\u5f53\u524da\u6240\u5728\u8fd9\u5806\u79ef\u6728\u4e2d\u7b2c\u51e0\u4e2a\u3002\ncb\u610f\u4e3ab\u7684\u5c42\u6570\uff0c\u8bb0\u5f55\u5f53\u524db\u6240\u5728\u8fd9\u5806\u79ef\u6728\u4e2d\u7b2c\u51e0\u4e2a\u3002\n\n\u5176\u4ed6\u5b9a\u4e49\u663e\u800c\u6613\u89c1\u3002\n\n**\u2461**\uff1asearch\u904d\u5386\u4e00\u904d\u6240\u6709\u4f4d\u7f6e\u6240\u6709\u79ef\u6728\uff0c\u627e\u5230a\u6216b\u540e\u8bb0\u5f55\u4ed6\u4eec\u7684\u4f4d\u7f6e\u548c\u4f4d\u7f6e\u4e2d\u7b2c\u51e0\u4e2a\uff0c\u76f8\u5f53\u4e8e\u4e3a\u540e\u9762\u7684\u4e00\u4e2a\u521d\u59cb\u5316\u5427\u3002\n\n**\u2462**\uff1a\u6b64\u51fd\u6570\u5373move onto\uff0c\u6309\u7167\u9898\u610f\u6a21\u62df\u5373\u53ef\uff0c\u4e4b\u540e\u2463\u2464\u2465\u5747\u5982\u6b64\uff0c\u5177\u4f53\u6a21\u62df\u6b65\u9aa4\u4f1a\u8be6\u7ec6\u8bf4\u660e\u3002\n\n# \u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<vector>\n#include<cstring>\nusing namespace std;\nint wa,wb,ca,cb;//\u2460\nchar s1[10],s2[10];\nint a,b;\nvector<int>v[30];\nint n;\nvoid search()//\u2461\n{\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tfor(int j=0;j<v[i].size();j++)\n\t\t{\n\t\t\tif(v[i][j]==a)\n\t\t\t{\n\t\t\t\twa=i;\n\t\t\t\tca=j;\n\t\t\t}\n\t\t\tif(v[i][j]==b)\n\t\t\t{\n\t\t\t\twb=i;\n\t\t\t\tcb=j;\n\t\t\t}\n\t\t}\n\t}\n}\nvoid moon()//\u2462\n{\n\tfor(int i=ca+1;i<v[wa].size();i++)\n\t{\n\t\tv[v[wa][i]].push_back(v[wa][i]);\n\t}//\u628aa\u4ee5\u4e0a\u7684\u5f52\u4f4d\n\tfor(int i=cb+1;i<v[wb].size();i++)\n\t{\n\t\tv[v[wb][i]].push_back(v[wb][i]);\n\t}//\u628ab\u4ee5\u4e0a\u7684\u5f52\u4f4d\n\tv[wa].resize(ca);//\u53ea\u4fdd\u7559\u5f53\u524dvector\u5230a-1\n\tv[wb].resize(cb+1);//\u4f46\u662fb\u8981\u4fdd\u7559\uff0c\u56e0\u4e3aa\u662f\u8981\u645e\u5230b\u4e0a\u7684\n\tv[wb].push_back(a);//\u645e\u4e0a\u53bb\n}//\u4e0b\u9762\u7684\u90fd\u6362\u6c64\u4e0d\u6362\u836f\uff0c\u6211\u60f3\u5927\u5bb6\u90fd\u5e94\u8be5\u77e5\u9053\nvoid moov()//\u2463\n{\n\tfor(int i=ca+1;i<v[wa].size();i++)\n\t{\n\t\tv[v[wa][i]].push_back(v[wa][i]);\n\t}\n\tv[wa].resize(ca);\n\tv[wb].push_back(a);\n}\nvoid pion()//\u2464\n{\n\tfor(int i=cb+1;i<v[wb].size();i++)\n\t{\n\t\tv[v[wb][i]].push_back(v[wb][i]);\n\t}\n\tv[wb].resize(cb+1);\n\tfor(int i=ca;i<v[wa].size();i++)\n\t{\n\t\tv[wb].push_back(v[wa][i]);\n\t}\n\tv[wa].resize(ca);\n}\nvoid piov()//\u2465\n{\n\tfor(int i=ca;i<v[wa].size();i++)\n\t{\n\t\tv[wb].push_back(v[wa][i]);\n\t}\n\tv[wa].resize(ca);\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tv[i].push_back(i);\n\t}\n\twhile(1)\n\t{\n\t\tscanf(\"%s\",s1);\n\t\tif(strcmp(s1,\"quit\")==0)break;//\u63d0\u524d\u5224\u65ad\u662f\u5426\u9000\u51fa\n\t\tscanf(\"%d%s%d\",&a,s2,&b);\n\t\tsearch();\n\t\tif(wa==wb)continue;//\u6839\u636e\u9898\u610f\uff0c\u5982\u679ca\u548cb\u5728\u540c\u4e00\u5806\uff0c\u90a3\u4e48\u5ffd\u7565\n\t\tif(strcmp(s1,\"move\")==0&&strcmp(s2,\"onto\")==0)moon();\n\t\tif(strcmp(s1,\"move\")==0&&strcmp(s2,\"over\")==0)moov();\n\t\tif(strcmp(s1,\"pile\")==0&&strcmp(s2,\"onto\")==0)pion();\n\t\tif(strcmp(s1,\"pile\")==0&&strcmp(s2,\"over\")==0)piov();\n\t\t//\u9010\u4e00\u5224\u65ad\u6bcf\u79cd\u64cd\u4f5c\uff0c\u5176\u4e2d\u76f8\u5e94\u7684\u5b50\u51fd\u6570\u5bf9\u5e94\u53bb\u4e24\u4e2a\u5355\u8bcd\u7684\u9996\u5b57\u6bcd\u8fde\u8d77\u6765\n\t}\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tprintf(\"%d:\",i);//\u6682\u65f6\u4e0d\u8f93\u51fa\u62ec\u53f7\uff0c\u6709\u4e86\u518d\u6253\n\t\tfor(int j=0;j<v[i].size();j++)\n\t\t{\n\t\t\tprintf(\" %d\",v[i][j]);//\u5f53\u524d\u4f4d\u7f6e\u6709\u79ef\u6728\uff0c\u90a3\u4e48\u5c31\u6253\u51fa\u6765\uff0c\u522b\u5fd8\u4e86\u7a7a\u683c\n\t\t}\n\t\tprintf(\"\\n\");//\u6bcf\u6b21\u6362\u884c\n\t}\n\treturn 0;\n}\n```\n\n~\u5b8c\u7ed3\u6492\u82b1",
        "postTime": 1543234504,
        "uid": 45475,
        "name": "ShineEternal",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2790 \u3010ccj\u4e0ezrz\u4e4b\u79ef\u6728\u95ee\u9898\u3011"
    },
    {
        "content": "\u6765\u4e00\u6ce2\u9898\u89e3\n\n\uff081\uff09\u6ce8\u610f\u56db\u4e2a\u64cd\u4f5c\uff0c\u6700\u540e\u90fd\u6709\u628aa\u53ca\u4e0a\u9762\u7684\u6728\u5757\u6574\u4f53\u653e\u5728b\u6240\u5728\u6728\u5757\u5806\u7684\u9876\u90e8\u7684\u8981\u6c42\uff08\u5982\u679c\u53ea\u662fa\u7684\u8bdd\u662f\u56e0\u4e3aa\u4e0a\u9762\u5df2\u7ecf\u6ca1\u6709\u5176\u4ed6\u6728\u5757\u4e86\uff09\uff0c\u6240\u4ee5    \u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5355\u72ec\u5199\u4e00\u4e2a\u51fd\u6570\u5b9e\u73b0\u3002\n\n\uff082\uff09\u6ce8\u610f\u5982\u679c\u662f1,3\u64cd\u4f5c\uff08\u5373\u542b\u6709onto\u7684\u64cd\u4f5c\uff09\u90fd\u9700\u8981\u628ab\u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u5f52\u4f4d\uff0c\u6240\u4ee5\u8fd9\u4e2a\u4e5f\u53ef\u4ee5\u5199\u5728\u4e00\u8d77\u3002\n\n\uff083\uff09\u6ce8\u610f\u5982\u679c\u662f1,2\u64cd\u4f5c  (\u5373\u542b\u6709move\u7684\u64cd\u4f5c\uff09\u90fd\u9700\u8981\u628aa\u4e0a\u65b9\u7684\u6728\u5757\u5168\u90e8\u5f52\u4f4d\uff0c\u6240\u4ee5\u8fd9\u4e2a\u4e5f\u53ef\u4ee5\u5199\u5728\u4e00\u8d77\u3002\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c\u5176\u5b9e\u64cd\u4f5c\u53ea\u9700\u8981\u4e24\u4e2a\u51fd\u6570\uff08\u4e00\u4e2a\u7528\u6765\u4f7f\u6728\u5757\u5f52\u4f4d\uff0c\u4e00\u4e2a\u7528\u6765\u5c06a\u53ca\u5176\u4e0a\u65b9\u6728\u5757\u6574\u4f53\u79fb\u52a8\u5230b\u4e0a\u65b9\uff09\uff0c\u4f46\u8fd8\u662f\u9700\u8981\u4e00\u4e2a\u51fd\u6570\u627e\u51faa\uff0cb\u7684\u521d\u59cb\u4f4d\u7f6e\u3002\n\n\u597d\u4e86\uff0c\u5e9f\u8bdd\u5c31\u4e0d\u8bf4\u4e86\u3002\u9898\u89e3\u5982\u4e0b\u3002\n\n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\n\n\n\n\n\n\n```cpp\n#include <cstdio>\n#include <string>\n#include <vector>\n#include <iostream>\nusing namespace std;\nconst int maxn = 30;\nint n;\nvector<int> pile[maxn];         //\u6bcf\u4e2apile[i]\u662f\u4e00\u4e2avector\n//\u627e\u6728\u5757a\u6240\u5728\u7684pile\u548cheight, \u4ee5\u5f15\u7528\u7684\u5f62\u5f0f\u8fd4\u8fd8\u8c03\u7528\u8005\nvoid find_block(int a, int& p, int& h) {\n    for(p = 0; p < n; p++)\n        for(h = 0; h < pile[p].size(); h++)\n            if (pile[p][h] == a) return;\n} \n//\u628a\u7b2cp\u5806\u9ad8\u5ea6\u4e3ah\u7684\u6728\u5757\u4e0a\u65b9\u7684\u6240\u6709\u6728\u5757\u79fb\u56de\u539f\u4f4d\nvoid clear_above(int p, int h) {\n    for(int i = h+1; i < pile[p].size(); i++) {\n        int b = pile[p][i];\n        pile[b].push_back(b);        //\u628a\u6728\u5757b\u653e\u56de\u539f\u4f4d \n    }\n    pile[p].resize(h+1);            //pile\u53ea\u5e94\u4fdd\u7559\u4e0b\u68070~h\u7684\u5143\u7d20\n} \n//\u628a\u7b2cp\u5806\u9ad8\u5ea6\u4e3ah\u53ca\u5176\u4e0a\u65b9\u7684\u6728\u5757\u6574\u4f53\u79fb\u52a8\u5230p2\u5806\u7684\u9876\u90e8\n```\nvoid pile\\_onto\n\n\n\n```cpp\n(int p, int h, int p2) {\n    for(int i = h; i < pile[p].size(); i++)\n        pile[p2].push_back(pile[p][i]);\n    pile[p].resize(h);\n} \nvoid print() {\n    for(int i = 0; i < n; i++) {\n        printf(\"%d:\", i);\n        for(int j = 0; j < pile[i].size(); j++) printf(\" %d\",pile[i][j]);\n        printf(\"\\n\");\n    }\n} \nint main() {\n    int a, b;\n    cin >> n;\n    string s1, s2;\n    for(int i = 0; i < n; i++) pile[i].push_back(i);\n    while(cin >> s1 >> a >> s2 >> b) {\n        int pa, pb, ha, hb;\n        find_block(a, pa, ha);\n        find_block(b, pb, hb);\n        if(pa == pb) continue; //\u975e\u6cd5\u6307\u4ee4\n        if (s2 == \"onto\") clear_above(pb, hb);\n        if (s1 == \"move\") clear_above(pa, ha);\n        pile_onto(pa, ha, pb); \n    }\n    print();\n    return 0;\n}\n\n```",
        "postTime": 1493470934,
        "uid": 26225,
        "name": "\u4e0d\u662f\u61a8\u61a8",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2790 \u3010ccj\u4e0ezrz\u4e4b\u79ef\u6728\u95ee\u9898\u3011"
    }
]