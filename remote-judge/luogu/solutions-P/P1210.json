[
    {
        "content": "\u9898\u76ee\u4f20\u9001\u95e8\uff1a[P1210 [USACO1.3]\u6700\u957f\u7684\u56de\u6587 Calf Flac](https://www.luogu.com.cn/problem/P1210)\n\n\u8fd9\u9053\u9898\u5c31\u662f\u627e\u4e00\u6bb5\u8bdd\u4e2d\u6700\u957f\u7684\u56de\u6587\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u4e00\u4e0b\u6837\u4f8b\uff1a\n\n\u8f93\u5165\uff1a\n```\nConfucius say: Madam, I'm Adam.\n```\n\n\u8f93\u51fa\uff1a\n```\n11\nMadam, I'm Adam\n```\n\n## \u524d\u7f6e\u77e5\u8bc6\uff1a\n\n### 1\uff1a\u5b57\u7b26\u4e32\u57fa\u672c\n\n\u5728c++\u4e2d\uff0c\u5b57\u7b26\u4e32\u6709\u4e24\u79cd\n### 1.c\u6570\u7ec4\nc\u6570\u7ec4\u662fc\u8bed\u8a00\u4e2d\u7684\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4ee5\u5728c++\u4e2d\u7528\n\u4f8b\n```cpp\n#include<iostream>\nusing namespace std;\nint main()\n{\n\tchar a[200];//\u5b9a\u4e49\u4e00\u4e2ac\u5b57\u7b26\u4e32\uff0c\u540d\u4e3aa \n\tcin>>a;//\u8f93\u5165 \n\t//scanf(\"%s\",a);\n\tcout<<a;//\u8f93\u51fa \n\t//printf(\"%s\",a);\n\treturn 0;\n } \n```\n\u6ce8\u610f\uff1a\u5728\u7528scanf\u8bfb\u5165\u65f6\uff0c\u6ca1\u6709\u53d6\u5730\u5740\u7b26\nc\u6570\u7ec4\u4e0d\u7528\u52a0\u4efb\u4f55\u591a\u4f59\u7684\u5934\u6587\u4ef6\uff0c\u4f46\u6709\u4e2a\n\u53eb\u201ccstring\u201d\u7684\u5934\u6587\u4ef6\uff0c\u6709\u66f4\u591a\u5173\u4e8ec\u6570\u7ec4\n\u7684\u51fd\u6570\n```cpp\n#include<cstring>\n#include<cstdio>\nusing namespace std;\nchar a[100],b[100];\nint main()\n{\n\tstrcpy(a,\"I Ak IOI\");//\u5c06\"I AK IOI\"\u62f7\u8d1d\u5230a\u4e2d \n\tprintf(\"%s,len=%d\\n\",a,strlen(a));//\u8f93\u51faa\u548ca\u7684\u957f\u5ea6\n\tscanf(\"%s\",b);\n\tif(strcmp(a,b)==0)//\u6bd4\u8f83a\u548cb\u7684\u5b57\u5178\u5e8f,a>b\u8fd4\u56de1,a=b\u8fd4\u56de0,a<b\u8fd4\u56de-1\n\t\tprintf(\"%s=%s\",a,b);\n\tif(strstr(a,b)!=NULL)//\u67e5\u627e\u5b57\u4e32\n\t\tprintf(\"%s is a substr of %s\\n\",b,a) ;\n\treturn 0;\t\n } \n```\n### 2.string\nc++\u7531\u4e8e\u7c7b\u7684\u5b58\u5728\uff0c\u5f15\u5165\u4e86string\u7c7b\uff0c\u9700\u8981\u201cstring\u201d\u5934\u6587\u4ef6\n\u4f8b\uff1a\n```cpp\n#include<cstdio>\n#include<string>\nusing namespace std;\nint main()\n{\n\tstring a;//\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5b57\u7b26\u4e32a\n\tscanf(\"%s\",a) ;//\u4e0d\u8bfb\u7a7a\u683c\n   getline(cin,a);//\u6b63\u884c\u8bfb\u5165,\u53ef\u8bfb\u5165\u7a7a\u683c\n\ta+=\"AK IOI\";//\u5728a\u540e\u9762\u63a5\u5165\u201cAK IOI\u201d\n\tprintf(\"%d\",a.size())//\u8f93\u51faa\u7684\u957f\u5ea6\n\tprintf(\"%c\",a[1])//\u8f93\u51faa[1]\n\treturn 0; \n}\n```\n### 3.\u5982\u4f55\u904d\u5386\u5b57\u7b26\u4e32\n\u7531\u4e8e\u5b57\u7b26\u4e32\u90fd\u662f\u4ee5'\\0'\u7ed3\u5c3e\uff0c\u6240\u4ee5\u53ef\u4ee5\u8fd9\u6837\u904d\u5386\uff1a\n```cpp\n#include<cstdio>\nusing namespace std;\nchar a[]={'I',' ','A','K',' ','I','O','I','\\0'};//\u5b57\u7b26\u4e32\u4ee5\\0\u7ed3\u5c3e\nint main()\n{\n\tprintf(\"%s\",a);\n\tfor(int i=0;a[i]!='\\0';i++)//\u5f53a[i]\u4e0d\u662f\\0\uff0c\u4e5f\u5c31\u662fa\u6ca1\u7ed3\u675f \n\t{\n\t\t/*\u76f8\u5173\u64cd\u4f5c*/ \n\t}\n\treturn 0;\n } \n```\n>\u9009\u81ea\u539f\u6765\u7684\u9898\u89e3\uff1a<https://www.luogu.com.cn/blog/huangjinyang2019/solution-uva1585>\n\n## 2.\u5b57\u7b26\u4e32\u56de\u6587\n\n\u5047\u8bbe\u6709\u4e00\u4e2a\u5b57\u7b26\u4e32\uff1a\n```\nchenzheakIoIkaehznehc\n```\n\u90a3\u5982\u4f55\u5224\u65ad\u8fd9\u4e2a\u5b57\u7b26\u4e32\u662f\u4e0d\u662f\u56de\u6587\u4e32\u5462\uff1f\n\n\u9996\u5148\u627e\u5230\u4e2d\u95f4\u503c\uff0c\u4e3alength/2\n```\nchenzheakI|oIkaehznehc\n```\n\u7136\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u627e\u4e00\u4e0b\u5bf9\u5e94\u5173\u7cfb\uff1a\n```\nc h e n z h e a k I  |  o   I   k    a e h z n e h c\n1 2 3 4 5 6 7 8 9 10   1+10 2+10 3+10...\n```\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u7b2ci\u4e2a\u5143\u7d20\u5bf9\u5e94\u7740\u7b2ci+length/2\u4e2a\u5143\u7d20\uff0c\u5047\u5982\u53d1\u73b0\u4e00\u4e2a\u4e0d\u76f8\u7b49\u7684\uff0c\u5c31return false\uff1b\n\n\u793a\u4f8b\u4ee3\u7801\uff1a\n```cpp\nbool hui(char[] pur,int length)\n{\n    for(int i=0;i<length/2;i++)\n    {\n        if(pur[i+st]!=pur[st+length-i-1])\n            return false;\n    }\n    return true;\n}\n```\n\u7136\u540e\u6709\u4e86\u8fd9\u4e9b\uff0c\u5c31\u53ef\u4ee5\u5207\u9898\u4e86\n\n# \u9898\u76ee\n\n\u6211\u4eec\u53ef\u4ee5\u5206\u6210\u51e0\u4e2a\u90e8\u5206\n\n1.\u8bfb\u5165\n\n\u6211\u4eec\u4e0d\u77e5\u9053\u8fd9\u4e2a\u5976\u725b\u6253\u7684\u6587\u7ae0\u6709\u591a\u957f\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u5927\u5bb6\u719f\u77e5\u7684while\u5faa\u73af+cin.getline\u8bfb\u5165\u53d1\u3002\u8fd9\u6837\u9047\u5230EFO~~AFO UFO~~\u7684\u65f6\u5019\u5c31\u80fd\u505c\u6b62\u8bfb\u5165\u3002\n\n\u4f46\u662f\u6211\u4eec\u5728\u8f93\u51fa\u65f6\uff0c\u6362\u884c\u4e5f\u8981\u8f93\u51fa\u3002\u90a3\u6211\u4eec\u5c31\u53ef\u4ee5\u624b\u52a8\u52a0\u4e0a\n\n\u4f8b\uff1a\n```cpp\nwhile(cin.getline(line,88))\n{\n    strcat(org,line);\n    strcat(org,\"\\n\");\n}\n```\n2.\u5904\u7406\n\n\u9898\u76ee\u4e2d\u8bf4\u8981\u628a\u9664\u4e86\u5927\u5c0f\u5199\u5b57\u6bcd\u4e4b\u5916\u7684\u90fd\u5220\u9664\uff0c\u4f46\u8f93\u51fa\u65f6\u53c8\u8981\u8f93\u51fa\u539f\u6587\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2apos\u6570\u7ec4\u8bb0\u5f55\u53d8\u5316\u524d\u7684\u4f4d\u7f6e\uff0c\u8f93\u51fa\u65f6\u7528\u5b83\u5c31\u53ef\u4ee5\u4e86\n\n\u4f8b\uff1a\n```\n    int length=strlen(org),pl=0;\n    for(int i=0;i<length;i++)\n    {\n        if(org[i]>='a'&&org[i]<='z')\n        {\n            pur[pl]=org[i];\n            pos[pl]=i;\n            pl++;\n        }\n        if(org[i]>='A'&&org[i]<='Z')\n        {\n            pur[pl]=org[i]+32;\n            pos[pl]=i;\n            pl++;\n        }\n    }\n```\n3.\u627e\u56de\u6587\u5934\u548c\u957f\u5ea6\n\n\u8fd9\u4e2a\u6211\u5c31\u4e0d\u8be6\u7ec6\u8bf4\u4e86\uff0c\u7528\u4e24\u5c42for\u5faa\u73af\u5373\u53ef\n\n```\nbool chk(int st,int length)\n{\n    if(st+length>pl)return false;\n    for(int i=0;i<length/2;i++)\n    {\n        if(pur[i+st]!=pur[st+length-i-1])\n            return false;\n    }\n    return true;\n}\nint maxn=-1,st=0;\nfor(int i=0;i<pl;i++)//\u56de\u6587\u5934\n{\n    for(int j=maxn+1;j<=2010;j++)//\u957f\u5ea6\n    {\n        if(chk(i,j)&&j>maxn)\n        {\n            maxn=j;\n            st=i;\n        }\n    }\n}\n```\n4.\u8f93\u51fa\n\n\u8fd8\u8bb0\u5f97\u4e4b\u524d\u7684pos\u4e48\uff1f\u73b0\u5728\u627e\u51fa\u56de\u6587\u5934\u548c\u5c3e\u5728\u539f\u59cb\u4e32\u91cc\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u8f93\u51fa\u8fd9\u4e00\u6bb5\u5373\u53ef\n```\ncout<<maxn<<endl;\nfor(int i=pos[st];i<=pos[st+maxn-1];i++)\n{\n    cout<<org[i];\n}\n```\n\u6700\u540e\u4e0a\u5b8c\u6574\u7a0b\u5e8f\uff1a\n```\n#include<iostream>\n#include<cstring>\nusing namespace std;\nchar org[200001];\nchar line[90];\nint pos[200001];\nchar pur[200001];\nint pl=0;\nbool chk(int st,int length)\n{\n    if(st+length>pl)return false;\n    for(int i=0;i<length/2;i++)\n    {\n        if(pur[i+st]!=pur[st+length-i-1])\n            return false;\n    }\n    return true;\n}\nint main()\n{\n    while(cin.getline(line,88))\n    {\n        strcat(org,line);\n        strcat(org,\"\\n\");\n    }\n    int length=strlen(org);\n    for(int i=0;i<length;i++)\n    {\n        if(org[i]>='a'&&org[i]<='z')\n        {\n            pur[pl]=org[i];\n            pos[pl]=i;\n            pl++;\n        }\n        if(org[i]>='A'&&org[i]<='Z')\n        {\n            pur[pl]=org[i]+32;\n            pos[pl]=i;\n            pl++;\n        }\n    }\n    int maxn=-1,st=0;\n    for(int i=0;i<pl;i++)\n    {\n        for(int j=maxn+1;j<=2010;j++)\n        {\n            if(chk(i,j)&&j>maxn)\n            {\n                maxn=j;\n                st=i;\n            }\n        }\n    }\n    cout<<maxn<<endl;\n    for(int i=pos[st];i<=pos[st+maxn-1];i++)\n    {\n        cout<<org[i];\n    }\n    return 0;\n}\n```\nbye~~",
        "postTime": 1584795494,
        "uid": 236873,
        "name": "HJY202three",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1210 \u3010[USACO1.3]\u6700\u957f\u7684\u56de\u6587 Calf Flac\u3011"
    },
    {
        "content": "c\u7248\u9898\u89e3 \u6bd4\u8f83\u7b80\u77ed\n\n\u5b9e\u9645\u4e0a\u5c31\u662f\u679a\u4e3e\u4ece\u67d0\u4e00\u4e2a\u5b57\u7b26\u5f00\u59cb\u5411\u4e24\u8fb9\u6269\u5c55\u53ef\u5f97\u5230\u7684\u56de\u6587\u957f\u5ea6\n\n```cpp\n#include <stdio.h>   \n#include <ctype.h>\n#define N 20005\nint at[N],i,n=0,l=0,able(int o),max=0,ls,t;\nchar k[N]={0},m[N]={0};//k\u4e3a\u539f\u5b57\u7b26\u4e32\uff0cm\u4e3a\u65b0\u5b57\u7b26\u4e32\nint able(int o){  //\u8ba1\u7b97\u56de\u6587\u4e32\u957f\u5ea6\n    int i,j,a1=1,a2=0;\n    for(i=o,j=1;i-j>=0&&i+j<l&&m[i-j]==m[i+j];j++)a1+=2;//\u53d6\u4e2d\u95f4\u4e00\u4e2a\uff0c\u5947\u6570\u957f\u5ea6\u56de\u6587\n    for(i=o,j=0;i-j>=0&&i+j+1<l&&m[i-j]==m[i+j+1];j++)a2+=2;//\u53d6\u4e2d\u95f42\u4e2a\uff0c\u5076\u6570\u957f\u5ea6\u56de\u6587\n    return (a1>a2)?a1:a2;//\u53d6\u6700\u5927\u503c\n}int main(){\n    while((k[n]=getchar())!=EOF)n++;//\u8bfb\u53d6\u6587\u7ae0\n    for(i=0;i<n;i++)if(isalpha(k[i])){\n        m[l]=tolower(k[i]);at[l++]=i;//\u5c06\u82f1\u6587\u5b57\u6bcd\u8f6c\u5316\u4e3a\u5c0f\u5199\u66f4\u597d\u6bd4\u8f83\uff0cat\u4fdd\u5b58\u65b0\u5b57\u7b26\u4e32\u5411\u539f\u5b57\u7b26\u4e32\u7684\u6620\u5c04\u4f4d\u7f6e\n    }for(i=0;i<l;i++){t=able(i);\n        if(t>max){max=t;ls=i+(t/2);}//\u4fdd\u5b58\u56de\u6587\u6700\u540e\u4f4d\u7f6e\n    }k[at[ls]+1]='\\0';\n    printf(\"%d\\n%s\\n\",max,&k[at[ls-max+1]]);\n    return 0;\n}\n```",
        "postTime": 1457932156,
        "uid": 11765,
        "name": "zqy1018",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1210 \u3010\u56de\u6587\u68c0\u6d4b\u3011"
    },
    {
        "content": "# \u6d1b\u8c37P1210\u6700\u957f\u7684\u56de\u6587 \n\u9996\u5148\uff0c\u6211\u521a\u5b66C++\u6ca1\u591a\u4e45\u3002\u5176\u6b21\u6211\u4e0d\u4f1a\u9a6c\u62c9\u8f66\u3002\u6700\u540e\u6211\u53ea\u662f\u4e00\u4e2a\u516d\u5e74\u7ea7\u5c0f\u5b66\u751f\u3002\u6240\u4ee5\u5927\u4f6c\u4eec\u53ef\u4ee5\u76f4\u63a5\u65e0\u89c6\n\n\u6765\u770b\u8fd9\u4e00\u9898\uff0c~~\u4ed6\u8bf4\u96be\u4e5f\u4e0d\u96be\uff0c\u8bf4\u7b80\u5355\u4e5f\u4e0d\u7b80\u5355~~\uff08\u7ecf\u5178\u5f00\u5934\uff09\n\n\u5b83\u7b2c\u4e00\u773c\u770b\u4e0a\u53bb\u53ea\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u627e\u56de\u6587\u7684\u9898\u3002\u53ef\u662f\u5982\u679c\u518d\u4ed4\u7ec6\u4e00\u770b\u4f60\u5c31\u4f1a\u53d1\u73b0\u2193\u2193\n\n1. \u8f93\u5165\u7684\u5b57\u7b26\u4e32\u4f1a\u5305\u62ec\u6807\u70b9\u7b26\u53f7\u548c\u7a7a\u683c\n1. \u5224\u65ad\u56de\u6587\u4e32\u65f6\u53c8\u4e0d\u7ba1\u6807\u70b9\u7b26\u53f7\u548c\u7a7a\u683c\n1. \u8f93\u51fa\u7684\u5b57\u7b26\u4e32\u53c8\u5305\u62ec\u6807\u70b9\u7b26\u53f7\u548c\u7a7a\u683c\n\n\u90a3\u8fd9\u9898\u8981\u600e\u4e48\u505a\u5462\n## \u8f93\u5165\n\u6211\u4eec\u53ef\u4ee5\u7528cin.getline()\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u8f93\u5165\u6574\u884c\u3002\u4e0d\u8fc7\u4e5f\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u5b83\u4e0d\u80fd\u8f93\u5165\u6362\u884c\uff0c\u4e5f\u5c31\u662f\"/n\u3002\u6240\u4ee5\u8981\u52a0\u4e0a\u6362\u884c\u7b26\n## \u5904\u7406\n\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e24\u4e2achar\u7684\u5b57\u7b26\u4e32\uff0c\u4e00\u4e2a\u6765\u5b58\u8f93\u5165\u7684\u5b57\u7b26\u4e32\uff0c\u4e00\u4e2a\u7528\u6765\u5b58\u53ea\u6709\u5b57\u6bcd\u7684\u5b57\u7b26\u4e32\uff0c\u518d\u5b9a\u4e49\u4e00\u4e2aint\u7684\u6570\u7ec4\uff0c\u6765\u5b58\u6bcf\u4e2a\u5b57\u6bcd\u7684\u4f4d\u7f6e\u3002\u7136\u540e\u5728\u5224\u65ad\u56de\u6587\n## \u8f93\u51fa\n\u4e0d\u89e3\u91ca   ~~\u81ea\u5df1\u52a8\u52a8\u8111\u5b50~~\n\n# \u7136\u540e\u5c31\u662f\u4ee3\u7801\n```cpp\n\n#include<iostream>\n#include<cstdio>\n#include<string>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\n\nchar line[105];\nchar yuan[20005];\nchar del[20005];\nint pos[20005];\nint mx = 0;\nint t;\nint len_y;\nint len_d;\n\nbool huiwen(int x,int y)\n{\n\tif(x + y - 1 >= len_d)\treturn 0;\n\tfor(int i = 0;i < y;i++)\n\t{\n\t\tif(del[i + x] != del[x + y - i - 1]) return 0;\n\t}\n\treturn 1;\n}\n\nint main()\n{\n\twhile(cin.getline(line,85))\n\t{\n\t\tstrcat(yuan,line);\n\t\tstrcat(yuan,\"\\n\");\n\t}\n\tlen_y = strlen(yuan);\n\t\n\tlen_d = 0;\n\tfor(int i = 0;i < len_y;i++)\n\t{\n\t\tif(yuan[i] >= 'a' && yuan[i] <= 'z')\n\t\t{\n\t\t\tdel[len_d] = yuan[i];\n\t\t\tpos[len_d] = i;\n\t\t\tlen_d++;\n\t\t}\n\t\tif(yuan[i] >= 'A' && yuan[i] <= 'Z')\n\t\t{\n\t\t\tdel[len_d] = yuan[i] - 'A' + 'a';\n\t\t\tpos[len_d] = i;\n\t\t\tlen_d++;\n\t\t}\t\t\n\t}\n\t\n\t\n\n\tfor(int i = 0;i < len_d;i++)\n\t{\n\t\tfor(int j = mx + 1;j < 2005;j++)\n\t\t{\n\t\t\tif(huiwen(i,j))\n\t\t\t{\n\t\t\t\tmx = j;\n\t\t\t\tt = i;\n\t\t\t}\n\t\t}\n\t}\n\tcout << mx << endl;\n\tfor(int i = pos[t];i <= pos[t + mx - 1];i++)\n\t\tprintf(\"%c\",yuan[i]);\n\treturn 0;\t\n}\n```\n\u522b\u6284\u554a",
        "postTime": 1584777597,
        "uid": 228159,
        "name": "Raymond_lei",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1210 \u3010[USACO1.3]\u6700\u957f\u7684\u56de\u6587 Calf Flac\u3011"
    },
    {
        "content": "\u4f60\u662f\u5426\u4e5f\u548c\u6211\u4e00\u6837\u5728\u5bfb\u627e\u4e0d\u662f\u66b4\u529b\u7684\u9898\u89e3\uff0c\u53ef\u60dc\u6ca1\u6709\uff0c\u90a3\u6211\u5c31\u6765\u4e00\u7bc7\u3002  \n\u5982\u679c\u80fd\u505a\u5230\u8fd9\u9898\uff0c\u540e\u7f00\u6570\u7ec4\u4e00\u5b9a\u4e5f\u6709\u4e86\u4e00\u5b9a\u7684\u63a5\u89e6\uff0c\u6211\u770b\u4e86\u4e00\u4e0b\u8fd9\u9898\u9898\u89e3\uff0c\u90fd\u662f\u66b4\u529b\u6c42\u89e3\uff0c\u6240\u4ee5\u6211\u8fd9\u91cc\u5c06\u63d0\u4f9b\u66b4\u529b\uff08\u66f4\u7b80\u6d01\uff09\u548c\u6b63\u89e3\uff08\u540e\u7f00\u6570\u7ec4\uff09\n\n#### \u66b4\u529b\u51fa\u5947\u8ff9\n```cpp\n//\u8fd9\u4e2a\u66b4\u529b\u50cf\u591a\u4f4d\u5927\u4f6c\u6240\u8bf4\uff0c\u7528\u4e24\u4e2a\u6307\u9488l\uff0cr\u5904\u7406\uff0c\u66b4\u529b\u4ee5\u6bcf\u4e2a\u5b57\u7b26\u4e3a\u4e2d\u5fc3\uff0c\u5411\u4e24\u8fb9\u6269\u5c55\uff0c\u53ea\u4e0d\u8fc7\u770b\u4e86\u4e00\u4e0b\uff0c\u6211\u8fd9\u7bc7\u66f4\u597d\u7406\u89e3\uff08\u5bf9\u6211\u6765\u8bf4z\n#include <iostream>\n#include <cstring>\n#include <cstdio>\nusing namespace std;\nchar str[200005],c[20005];\nint s[20005],anslen=1,ansst,ansen;\nint main()\n{\n\tint i=-1,j,len,L=-1,l,r;\n\twhile (scanf (\"%c\",&str[++i])!=EOF)\n\t{\n\t\tif (str[i]>='A'&&str[i]<='Z') c[++L]=str[i]+32,s[L]=i;\n\t\telse if (str[i]>='a'&&str[i]<='z') c[++L]=str[i],s[L]=i;\n\t}//\u5c06\u8f93\u5165\u6362\u6210\u5c0f\u5199\u7edf\u4e00\uff0cs[]\u7528\u6765\u8bb0\u5f55\u6362\u6210\u5c0f\u5199\u540e\u5b57\u7b26\u5728\u539f\u5b57\u7b26\u4e32\u4e2d\u7684\u4f4d\u7f6e\n\tfor (i=1; i<L; i++)//L\u4e3a\u5904\u7406\u540e\u5b57\u7b26\u4e32\uff0c\u5168\u90e8\u4e3a\u5c0f\u5199\n\t{\n\t\tbool flag=true;\n\t\tint tmp=1;\n\t\tl=i; r=i;\n\t\twhile (true)\n\t\t{\n\t\t\tif (l<0||r>L) break;\n\t\t\tif (c[l-1]==c[r+1]) tmp+=2,l--,r++;\n\t\t\telse if (c[l-1]==c[r]&&flag) tmp++,l--;\n\t\t\telse if (c[l]==c[r+1]&&flag) tmp++,r++;\n\t\t\telse break;//\u5982\u679c\u4e0d\u662f\u56de\u6587\u4e32\u5c31break\uff1b\n\t\t\tflag=false;\n\t\t}//\u8fd9\u91cc\u7684flag\u5f88\u5de7\u5999\uff0c\u4e3b\u8981\u662f\u7279\u5224\u4e00\u79cd\u4f8b\u5982aa\u8fd9\u79cd\u5f62\u5f0f\u7684\u56de\u6587\u4e32\uff0c\u81ea\u5df1\u60f3\u60f3\u4e3a\u4ec0\u4e48flag\u63a7\u5236\u7684\u4e24\u4e2aif\u8bed\u53e5\u53ea\u80fd\u5728\u7b2c\u4e00\u6b21\u4f7f\u7528\n\t\tif (tmp>anslen) anslen=tmp\uff0cansst=s[l]\uff0cansen=s[r];\n\t\t}\n\t}\n\tprintf (\"%d\\n\",anslen);\n\tfor (i=ansst; i<=ansen; i++) printf (\"%c\",str[i]);\n\tprintf (\"\\n\");\n\treturn 0;\n}\n```\n#### \u6b63\u89e3\u53f2\u65e0\u524d\u4f8b\n\n```cpp\n//\u5982\u679c\u6240\u5b66\u6ca1\u6709\u6d89\u53ca\uff0c\u5c31\u5ffd\u7565\u6b64\u7bc7\n#include <iostream>\n#include <cstring>\n#include <cstdio>\nusing namespace std;\nint ans,height[100010],sa[100010],rank[100010],c[100010],tmp[100010],n,x[100010];\nchar s[100010],str[100010];\nvoid makesa()//\u540e\u7f00\u6570\u7ec4\n{\n\tint i,j,na,len;\n\tna=max(256,n);\n\tmemset(c,0,na*sizeof(int));\n\tfor (i=0; i<n; i++) rank[i]=s[i]&0xff,c[rank[i]]++;\n\tfor (i=1; i<na; i++) c[i]+=c[i-1];\n\tfor (i=0; i<n; i++) sa[--c[rank[i]]]=i;\n\tfor (len=1; len<n; len<<=1)\n\t{\n\t\tfor (i=0; i<n; i++)\n\t\t{\n\t\t\tj=sa[i]-len;\n\t\t\tif (j<0) j+=n;\n\t\t\ttmp[c[rank[j]]++]=j;\n\t\t}\n\t\tsa[tmp[c[0]=0]]=j=0;\n\t\tfor (i=1; i<n; i++)\n\t\t{\n\t\t\tif (rank[tmp[i]]!=rank[tmp[i-1]]||rank[tmp[i]+len]!=rank[tmp[i-1]+len]) c[++j]=i;\n\t\t\tsa[tmp[i]]=j;\n\t\t}\n\t\tmemcpy(rank,sa,n*sizeof(int));\n\t\tmemcpy(sa,tmp,n*sizeof(int));\n\t\tif (j>=n-1) break;\n\t}\n}//sa[i]\u6392\u540d\u4e3ai\u7684\u540e\u7f00\u5f00\u59cb\u5b57\u7b26\u7684\u4e0b\u6807\n//rank[i]\u5f00\u59cb\u5b57\u7b26\u4e0b\u6807\u4e3ai\u7684\u540e\u7f00\u7684\u6392\u540d\n//\u8fd9\u91cc\u6392\u540d\u4e3a\u4ece\u5c0f\u5230\u5927\uff0c\u8fd8\u6709rank\u6700\u597d\u6362\u6210\u5176\u4ed6\u540d\u5b57\uff0c\u5426\u5219\u53ef\u80fd\u4f1a compile error\nvoid lcp()//\u6700\u957f\u516c\u5171\u524d\u7f00\uff0c\u81ea\u5df1\u4e86\u89e3\n{\n\tint k=0,i,j;\n\tfor (i=0; i<n; i++)\n\t{\n\t\tif (k) k--;\n\t\tj=sa[rank[i]-1];\n\t\twhile (s[i+k]==s[j+k]) k++;\n\t\theight[rank[i]]=k;\n\t}\n}\n\nint main()\n{\n\tint i=-1,j,st,en,L=-1,len;\n\twhile (scanf (\"%c\",&str[++i])!=EOF)\n\t{\n\t\tif (str[i]>='A'&&str[i]<='Z') s[++L]=str[i]+32,x[L]=i;\n\t\telse if (str[i]>='a'&&str[i]<='z') s[++L]=str[i],x[L]=i;\n\t}//\u4f5c\u7528\u540c\u4e0a\n\ts[++L]='$'; len=j=L;//\u5728\u8fd9\u91cc$\u4e3aakcii\u8f83\u5c0f\u7684\u4e00\u4e2a\u5b57\u7b26\uff0c\u6539\u4e3a\u7a7a\u683c\u4e5f\u53ef\u4ee5\uff0c\u6216\u8005\u5176\u4ed6\n\tfor (i=L; i<=2*L; i++) s[i]=s[j--];//\u5c06\u5904\u7406\u540e\u7684\u5b57\u7b26\u4e32\u53cd\u7740\u63a5\u5230\u5904\u7406\u540e\u7684\u6570\u7ec4\u4e0a\n\ts[2*L+1]=' ';//\u6ce8\u610f\uff0c\u8fd9\u91cc\u7a7a\u683c\u662f\u56e0\u4e3a\u4e0d\u80fd\u548c\u4e0a\u9762\u7684$\u91cd\u590d\uff0c\u5426\u5219\u4f1a\u5f71\u54cd\u5230\u7ed3\u679c\u3002\n\tn=strlen(s);\n\tmakesa(); lcp();\n\tfor (i=1; i<n; i++)\n\t\tif ((sa[i]<len&&sa[i-1]>len)||(sa[i]>len&&sa[i-1]<len))\n        //\u52a0\u4e0a\u63a5\u4e0a\u7684\u90a3\u90e8\u5206s\u6570\u7ec4\u53ef\u4ee5\u5206\u4e3atwo parts\u3002\u6700\u957f\u7684\u516c\u5171\u524d\u7f00\u5c06\u4e00\u4e2a\u56de\u6587\u4e32\u4e5f\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff0c\u5982\u679c\u6700\u957f\u516c\u5171\u524d\u7f00\u5728\u540c\u4e00\u90e8\u5206\uff0c\u5f97\u51fa\u7684\u7b54\u6848\u4f8b\u5982abcabc\u7535\u8111\u90fd\u4f1a\u5f53\u4f5c\u4e00\u4e2a\u56de\u6587\u4e32\uff0c\u6240\u4ee5\u4e0d\u80fd\u5728\u4e00\u4e2a\u90e8\u5206\uff0c\u5426\u5219\u5f97\u51fa\u6765\u7684\u7b54\u6848\u4e0d\u662f\u6b63\u89e3\uff0c\u7eb8\u77ed\u8bdd\u591a\uff0c\u8bf4\u4e0d\u5b8c\uff0c\u5728\u7eb8\u4e0a\u63a8\u4e00\u4e0b\u5c31ok\n\t\t{\n\t\t\tif (height[i]>ans||(height[i]==ans&&x[min(sa[i],sa[i-1])]<st)) ans=height[i],st=x[min(sa[i],sa[i-1])],en=x[min(sa[i-1],sa[i])+ans-1];\n\t\t}//\u5728\u8fd9\u91cc\u4e4b\u6240\u4ee5\u8981\u53d6\u6700\u5c0f\u503c\u662f\u56e0\u4e3asa\u8bb0\u5f55\uff0c\u4f60\u4e0d\u77e5\u9053\u8c01\u5728\u524d\uff0c\u8c01\u5728\u540e\uff0cmin(sa[i-1],sa[i])+ans-1\u5c31\u662f\u957f\u5ea6\u4e3aans\u7684\u5b57\u7b26\u4e32\u7684\u7ec8\u70b9\u5750\u6807\n        //\u8fd8\u6709if\u8bed\u53e5\u7684\u7b2c\u4e8c\u4e2a\u5224\u65ad\u4f9d\u636e\u662f\u5982\u679c\u957f\u5ea6\u76f8\u540c\uff0c\u5c31\u4f18\u5148\u8f93\u51fa\u524d\u9762\u7684\u4e00\u4e2a\u5b57\u7b26\u4e32\n\tprintf (\"%d\\n\",ans);\n\tfor (i=st; i<=en; i++) printf (\"%c\",str[i]);//st en \u8bb0\u5f55\u540c\u4e0a\n\tprintf (\"\\n\");\n\treturn 0;\n}\n```\n\n",
        "postTime": 1579350894,
        "uid": 171826,
        "name": "\u9006\u65f6\u9488\u7684\u8bb0\u5fc6",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1210 \u3010\u56de\u6587\u68c0\u6d4b\u3011"
    },
    {
        "content": "$PS:$\n- \u66f4\u597d\u7684\u6d4f\u89c8\u6548\u679c[[Luogu1210] \u56de\u6587\u68c0\u6d4b](https://www.cnblogs.com/hihocoder/p/12209301.html)\n\n- $Q$:\u548b\u90fd\u4e0d\u7528**\u540e\u7f00\u6570\u7ec4**\uff1f\uff1f\uff1f\n\n------\n\n\u540e\u7f00\u6570\u7ec4\u6a21\u677f\u4e2d\u7684$Lcp$\u53ef\u4ee5\u6c42\u51fa$Height[]$\uff0c\u7531\u6b64\u53ef\u4ee5\u77e5\u9053\u4e24\u4e2a\u76f8\u90bb\u540d\u6b21\u7684\u6700\u957f\u516c\u5171\u524d\u7f00\uff0c\u597d\u50cf\u8fd9\u9898\u548c\u8fd9\u4e2a\u6709\u70b9\u6cbe\u8fb9\u2026\u2026\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u539f\u4e32\u5316\u4e3a**\u5927\u5c0f\u5199\u7edf\u4e00\u7684\u7684\u5b57\u6bcd\u4e32**\uff0c\u7136\u540e\u5728\u672b\u5c3e\u52a0\u4e00\u4e2a\u5947\u7279\u5b57\u7b26\u6216**\u8d4b\u4e00\u4e2a\u7279\u6b8a\u503c**\uff0c\u6700\u540e\u5c06\u5b83\u53cd\u8f6c\u8d4b\u503c\u5230\u672b\u5c3e\uff0c\u6309\u7167\u540e\u7f00\u6a21\u677f\u52a0**\u53e6\u4e00\u4e2a\u7279\u6b8a\u503c**\n\n\u6c42\u51fa\u7ecf\u8fc7\u4e0a\u8ff0\u5904\u7406\u540e\u7684\u4e32\u7684$height[]$\uff0c\u5728\u6c42\u51fa\u6700\u957f\u524d\u7f00\u5373\u53ef\n\n$PS:$\u5173\u4e8e$id$\u6570\u7ec4\u7684\u6280\u5de7\u8bf7\u8bfb\u8005\u53e6\u884c\u601d\u8003\n\n------\n\n$My~code$(\u81ea\u8ba4\u4e3a\u4ee3\u7801\u7b80\u5355)\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n\nconst int N=50000;\nint n,ln,id[N],sa[N],rk[N],tmp[N],c[N],height[N];\nstring ss;\nchar s[N];\n\nvoid Read()//\u8bfb\u5165\u52a0\u53cd\u8f6c\n{\n\tstring str;\n\tfor(getline(cin,ss);getline(cin,str);ss+='\\n'+str);\n\tint len=ss.length();\n\tn=0;\n\tfor(int i=0;i<len;++i)\n\t{\n\t\tif(ss[i]>='a'&&ss[i]<='z')\n\t\t\ts[n]=ss[i],id[n]=i,++n;\n\t\tif(ss[i]>='A'&&ss[i]<='Z')//\u5b57\u7b26\u8981\u7edf\u4e00\u5927\u5c0f\u5199\n\t\t\ts[n]=ss[i]+'a'-'A',id[n]=i,++n;\n\t}\n\tfor(int i=0;i<n;++i) s[n+n-i]=s[i];\n\ts[n]=2,s[n+n+1]=1;\n\tln=n,n=n+n+2;\n}\n\nvoid Make_Sa()//\u540e\u7f00\u6570\u7ec4\u7684\u6a21\u677f\u2014\u2014\u6c42sa[]\u4e0erank[]\n{\n\tint i,j,len,na;\n\tna=256;\n\tmemset(c,0,na*sizeof(int));\n\tfor(i=0;i<n;++i)\n\t{\n\t\trk[i]=s[i]&0xff,\n\t\t++c[rk[i]];\n\t}\n\tfor(i=1;i<na;++i) c[i]+=c[i-1];\n\tfor(i=0;i<n;++i)\n\t{\n\t\t--c[rk[i]],\n\t\tsa[c[rk[i]]]=i;\n\t}\n\tfor(len=1;len<n;len<<=1)\n\t{\n\t\tfor(i=0;i<n;++i)\n\t\t{\n\t\t\tj=sa[i]-len;\n\t\t\tif(j<0) j+=n;\n\t\t\ttmp[c[rk[j]]++]=j;\n\t\t}\n\t\tc[0]=0,j=0,\n\t\tsa[tmp[0]]=0;\n\t\tfor(i=1;i<n;++i)\n\t\t{\n\t\t\tif(rk[tmp[i]]!=rk[tmp[i-1]]\n\t\t\t||rk[tmp[i]+len]!=rk[tmp[i-1]+len])\n\t\t\t\tc[++j]=i;\n\t\t\tsa[tmp[i]]=j;\n\t\t}\n\t\tmemcpy(rk,sa,n*sizeof(int)),\n\t\tmemcpy(sa,tmp,n*sizeof(int));\n\t\tif(j>=n-1) break;\n\t}\n}\n\nvoid Lcp()//\u540e\u7f00\u6570\u7ec4\u7684\u6a21\u677f\u2014\u2014\u6c42Height[]\n{\n\tint i=0,j,k=0;\n\theight[0]=0;\n\tfor(j=rk[0];i<n-1;++i,++k)\n\t\tfor(;k>=0&&s[i]!=s[sa[j-1]+k];)\n\t\t{\n\t\t\theight[j]=k, --k;\n\t\t\tj=rk[sa[j]+1];\n\t\t}\n}\n\nvoid PutAns()\n{\n\tint ID=0,Ans=0;\n\tfor(int i=1;i<n;++i)\n\t{\n\t\tif(sa[i]<ln&&sa[i-1]>ln)//\u5fc5\u987b\u4e00\u4e2a\u4e3a\u539f\u5b57\u6bcd\u4e32\uff0c\u53e6\u4e00\u4e2a\u4e3a\u53cd\u8f6c\u5b57\u6bcd\u4e32\n\t\t\tif((height[i]>Ans)\n\t\t\t||(height[i]==Ans&&sa[i]<ID))//\u5751\u70b9\uff1a\u8fd8\u6709\u5b57\u6bcd\u6700\u9760\u524d\n\t\t\t\tAns=height[i],ID=sa[i];\n\t\tif(sa[i]>ln&&sa[i-1]<ln)\n\t\t\tif(height[i]>Ans\n\t\t\t||(height[i]==Ans&&sa[i-1]<ID))\n\t\t\t\tAns=height[i],ID=sa[i-1];\n\t}\n\tprintf(\"%d\\n\",Ans);\n\tfor(int i=id[ID];i<=id[ID+Ans-1];++i)//id\u7684\u5de7\u5904\n\t\tprintf(\"%c\",ss[i]);\n}\n\nint main()\n{\n\tRead(),Make_Sa(),Lcp(),PutAns();\n\treturn 0;\n}\n```",
        "postTime": 1579337018,
        "uid": 141448,
        "name": "OItby",
        "ccfLevel": 0,
        "title": "[Luogu1210] \u56de\u6587\u68c0\u6d4b"
    },
    {
        "content": "\u9898\u76ee\u63cf\u8ff0--->[P1210 \u56de\u6587\u68c0\u6d4b](https://www.luogu.org/problemnew/show/P1210)\n\n## \u5e7f\u544a\uff1a [\u5b89\u5229blog](https://www.luogu.org/blog/RPdreamer/#)\n## \u5206\u6790:\n\n\u770b\u5230\u56de\u6587\u663e\u7136\u60f3\u5230\u4e86**manacher\u7b97\u6cd5**(**\u7ebf\u6027\u6c42\u89e3**\u56de\u6587\u4e32\u95ee\u9898\n\n\u5982\u679c\u4e0d\u4e86\u89e3\u8fd8\u662f\u53bb\u6572\u4e00\u4e0b\u677f\u5b50,\u5b66\u4e60\u4e00\u4e0b\u6bd4\u8f83\u597d.-->[manacher](https://www.luogu.org/problemnew/show/P3805)\n\n\u9898\u76ee\u8981\u6c42\u6211\u4eec\u6c42\u51fa\u53ea\u5305\u542b\u5b57\u6bcd\u7684\u56de\u6587\u4e32\u7684\u957f\u5ea6.\n\n\u5982\u679c\u4f60\u4f1amanacher,\u8fd9\u5f88\u7b80\u5355.\n\n\u53ea\u9700\u8981**\u5728\u8f93\u5165\u4e4b\u540e\u5904\u7406\u4e00\u4e0b\u6211\u4eec\u5f97\u5230\u7684\u4e32**\u5373\u53ef.\n\n**\u8fd9\u9898\u7684\u96be\u70b9\u5728\u4e8e,\u5982\u4f55\u8f93\u51fa\u539f\u4e32**\n\n---\n\n**\u5410\u69fd**\n\n\u672c\u6765\u4ee5\u4e3a\u6c42\u51fa\u6211\u4eec\u7684\u6700\u957f\u56de\u6587\u534a\u5f84\u7684\u6700\u4e2d\u95f4\u7684\u4f4d\u7f6e\u7684\u5b57\u7b26,\u5224\u65ad\u5176\u5de6\u53f3\u4e24\u4fa7\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u662f\u5426\u76f8\u7b49,\u5982\u679c\u76f8\u7b49\u6211\u4eec\u5c31\u53ef\u4ee5\u4e00\u76f4\u6269\u5c55\u8fc7\u53bb,\u76f4\u81f3\u65e0\u6cd5\u5339\u914d.\n\n\u611f\u89c9\u8fd9\u79cd\u88ab\u5361\u7684\u6982\u7387\u8fd8\u662f\u5f88\u4f4e\u7684...\n\n\u5174\u51b2\u51b2\u5730\u7801\u4e86100\u591a\u884c.\u7136\u800c\u8fd8\u662f\u88ab\u5361\u4e86,\u7edd\u671b\u5730\u5f88.\n\n---\n\n## \u89e3\u51b3\n\n**\u9996\u5148\u660e\u786e\uff1a**\n\t\n    s\u6570\u7ec4\u4e3a\u6211\u4eec\u7684\u539f\u5b57\u7b26\u6570\u7ec4.\n    str\u6570\u7ec4\u4e3a\u6211\u4eec\u53ea\u542b\u6709\u5927\u5199(\u5c0f\u5199)\u5b57\u6bcd\u7684\u5b57\u7b26\u6570\u7ec4\n    ss\u6570\u7ec4\u4e3a\u6211\u4eec\u7528\u4e8e\u8dd1manacher\u7684\u5b57\u7b26\u6570\u7ec4\n\n**\u56e0\u6b64\u8003\u8651\u53bb\u8bb0\u5f55\u5b57\u7b26\u5728\u539f\u6570\u7ec4\u4e2d\u7684\u4f4d\u7f6e.**\n\n\u5f88\u5bb9\u6613\u5c06\u6211\u4eec\u8f6c\u5316\u540e\u7684\u6570\u7ec4\u8bb0\u5f55.\n\u8fd9\u6837\u8bb0\u5f55\u2193\n```cpp\nfor(RI i=0;i<l;i++)//l\u4e3a\u6211\u4eec\u539f\u4e32\u957f\u5ea6,\u4ecel=0\u5f00\u59cb\u8bb0\u5f55.\n    {\n        if((s[i]>='a' and s[i]<='z') or (s[i]>='A' and s[i]<='Z'))\n        str[len]=s[i],pos[len]=i,len++;\n        //\u6211\u4eec\u53ea\u5b58\u50a8\u4e3a\u5b57\u6bcd\u7684\u60c5\u51b5.\n    }\n```\n\n**\u5904\u7406**\u6211\u4eec\u5f97\u5230\u7684\u6570\u7ec4\u2193\n\n```cpp\nfor(RI i=0;i<len;i++)\n    {\n        if(str[i]>='a' and str[i]<='z')\n            str[i]-=32;\n    }//\u5728\u8fd9\u91cc\u5c06\u5c0f\u5199\u8f6c\u4e3a\u5927\u5199.\n    //\u4e5f\u53ef\u4ee5\u5c06\u5927\u5199\u8f6c\u4e3a\u5c0f\u5199\n    //\u89c6\u4e2a\u4eba\u7231\u597d\u800c\u5b9a.\n```\n\n\u6b64\u65f6\u6211\u4eec\u5df2\u7ecf\u8bb0\u5f55\u4e86\u67d0\u4e00\u4f4d\u7f6e\u5bf9\u5e94\u7684\u539f\u4e32\u4f4d\u7f6e.\n\n\u63a5\u4e0b\u6765\u5c31\u662f\u6211\u4eec\u7684manacher\u64cd\u4f5c\u4e86!\n\n**\u5904\u7406**\u6211\u4eec\u7528\u4e8emanacher\u7684\u6570\u7ec4\u2193\n```cpp\nfor(RI i=0;i<len;i++)ss[2*i+1]=str[i];\n    ll=2*len+1;//\u8fd9\u91cc\u8bb0\u5f97\u53d8\u6362\u957f\u5ea6.\n//\u8fd9\u91cc\u6211\u5e76\u6ca1\u6709\u8fdb\u884c\u63d2\u5165\u5b57\u7b26\u7684\u64cd\u4f5c\n//\u662f\u56e0\u4e3a\u6211\u4eec\u7684\u5b57\u7b26\u6570\u7ec4\u9ed8\u8ba4\u4e3a\u7a7a.\n//\u8fd9\u6837\u7684\u5904\u7406\u64cd\u4f5c\u4f1a\u4f7f\u5f97\u4e2d\u95f4\u7a7a\u51fa\u4e00\u4e9b\u4f4d\u7f6e.\u4ece\u800c\u8fbe\u5230\u63d2\u5165\u5b57\u7b26\u7684\u6548\u679c.\n```\n\n\u6211\u4eec\u73b0\u5728\u9700\u8981\u8003\u8651\u7684\u662f**\u5982\u4f55\u5bf9\u6211\u4eec\u7528\u4e8emanacher\u64cd\u4f5c\u7684\u6570\u7ec4\u8fdb\u884c\u6807\u8bb0\u64cd\u4f5c**,\u5373\u5bf9\u5e94\u539f\u4e32\u4f4d\u7f6e.\n\n\u56e0\u4e3a\u6211\u4eec\u7528\u4e8emanacher\u7684\u6570\u7ec4ss[2*i+1]\u5bf9\u5e94str[i],\n\u6240\u4ee5\u6211\u4eec\u7684\u6570\u7ec4poss[2*i+1]\u4e5f\u4f1a\u5bf9\u5e94pos[i].\n\n\u6240\u4ee5\u6211\u4eec\u7684\u7b54\u6848\u5c31\u5f88\u660e\u663e\u4e86.\n\n\t\u6700\u5de6\u7aef\u4f4d\u7f6e\u5c31\u662fle=i-(RL[i]-1)+1\n\t\u6700\u53f3\u7aef\u4f4d\u7f6e\u5c31\u662fri=i+(RL[i]-1)-1\n    \u5176\u4e2dRL[i]-1\u4ee3\u8868\u4ee5i\u4e3a\u5bf9\u79f0\u8f74\u7684\u56de\u6587\u5b50\u4e32\u957f\u5ea6\n    \n\u6240\u4ee5\u6211\u4eec**\u679a\u4e3eposs[le]\u5230poss[ri]\u8f93\u51fa\u7b54\u6848**\u5373\u53ef.\n\n--------------------\u4ee3\u7801--------------------\n\n```cpp\n#include<bits/stdc++.h>\n#define IL inline\n#define RI register int\nchar s[200008],str[200008],ss[400008];\nint l,len,pos[200008],RL[200008],ll,ans,le,ri,poss[200008];\nint main()\n{\n    while(~(s[l]=getchar())){l++;}//\u8f93\u5165\u8fd8\u662f\u770b\u4e86\u5176\u4ed6\u4eba\u7684 emmmm,\u81ea\u5df1\u5199\u7684\u4e00\u4e2a\u70b8\u4e86 emmm\n    for(RI i=0;i<l;i++)\n    {\n        if((s[i]>='a' and s[i]<='z') or (s[i]>='A' and s[i]<='Z'))\n        str[len]=s[i],pos[len]=i,len++;\n    }\n    for(RI i=0;i<len;i++)\n    {\n        if(str[i]>='a' and str[i]<='z')\n            str[i]-=32;\n    }\n    int MaxRight=0,center=0;RL[0]=1;\n    for(RI i=0;i<len;i++)ss[2*i+1]=str[i],poss[2*i+1]=pos[i];//\u8fd9\u91cc\u7684\u5bf9\u5e94\u64cd\u4f5c.\n    ll=2*len+1;\n    for(RI i=1;i<ll;i++)\n    {\n        if(i<=MaxRight)\n            RL[i]=std::min(RL[2*center-i],MaxRight-i);\n        else RL[i]=1;\n        while(i-RL[i]>=0 and i+RL[i]<ll and ss[i+RL[i]]==ss[i-RL[i]])\n            RL[i]++;\n        if(i+RL[i]-1>MaxRight)MaxRight=i+RL[i]-1,center=i;\n        if(RL[i]-1>ans)\n        {\n        \tans=RL[i]-1;\n        \tle=i-RL[i]+2;\n        \tri=i+RL[i]-2;\n        }\n    }\n    printf(\"%d\\n\",ans);\n    for(RI i=poss[le];i<=poss[ri];i++)std::cout<<s[i];\n}\n```",
        "postTime": 1536224191,
        "uid": 87960,
        "name": "\u987ez",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1210 \u3010\u56de\u6587\u68c0\u6d4b\u3011"
    },
    {
        "content": "## C++\u7248  \uff08\u4e8c\u5206\u7b54\u6848\uff09\n----\n\u6211\u770b\u5f88\u591aDALAO\u90fd\u662f\u7531\u5355\u4e2a\u5b57\u7b26\u5411\u4e24\u8fb9\u62d3\u5c55\u6765\u679a\u4e3e\u6700\u957f\u56de\u6587\uff0c\u73b0\u5728\u53d1\u4e00\u7bc7\u4e8c\u5206\u7b54\u6848\u7684\u9898\u89e3\uff0c\u5e0c\u671b\u5bf9\u5927\u5bb6\u6709\u5e2e\u52a9\uff01\n\n\u6211\u770b\u5230\u8fd9\u9053\u9898\u7684\u7b2c\u4e00\u60f3\u6cd5\u662f\u679a\u4e3e\u7b54\u6848 ~~\uff08\u957f\u5ea6\uff09~~ \n\n\u4f46\u662f\u5f88\u663e\u7136\u4f1a\u8d85\u65f6\uff0c\u600e\u6837\u4f18\u5316\u679a\u4e3e\u662f\u5173\u952e\n\n\u6211\u60f3\u5230\u4e86\u4e8c\u5206\u7b54\u6848\u3002\u4f46\u662f\u4e8c\u5206\u7b54\u6848\u8981\u6c42\u7b54\u6848\u5177\u6709\u5355\u8c03\u6027\u3002\n\n\u4e4d\u4e00\u770b\uff0c\u4f3c\u4e4e\u56de\u6587\u5b50\u4e32\u6ca1\u4ec0\u4e48\u5355\u8c03\u6027\u3002\u4f46\u662f\u5982\u679c\u6211\u4eec\u5c06\u7b54\u6848\u5206\u4e3a\u5947\u5076\u4e24\u79cd\uff0c\u7b54\u6848\u7684\u5355\u8c03\u6027\u5c31\u51fa\u6765\u4e86\n\n1.\u5f53\u6700\u957f\u56de\u6587\u4e32\u957f\u5ea6\u662f\u5947\u6570\u65f6\uff1a\n\n\u4e0d\u59a8\u5047\u8bbe\u957f\u5ea6\u4e3a9\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u4f1a\u53d1\u73b0\uff0c9\u4ee5\u4e0b\u7684\u5947\u6570\u957f\u5ea6 ~~\uff081,3,5,7\uff09~~ \u90fd\u662f\u5b58\u5728\u56de\u6587\u4e32\u7684\uff0c\u5947\u6570\u7684\u5355\u8c03\u6027\u6211\u4eec\u627e\u5230\u4e86\n\n2.\u5f53\u56de\u6587\u4e32\u4e3a\u5076\u6570\u65f6\n\u540c\u7406\uff0c\u8bbe\u957f\u5ea6\u4e3a6\uff0c6\u4ee5\u4e0b\u7684\u5076\u6570\u957f\u5ea6 ~~\uff082,4\uff09~~ \u4e5f\u90fd\u662f\u53ef\u4ee5\u7684\u3002\n\n~~\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u5f00\u59cb\u4e8c\u5206\u4e86~~\n\n\u76f8\u4fe1\u5199\u7a0b\u5e8f\u5bf9\u5404\u4f4dDALAO\u4e0d\u662f\u95ee\u9898\uff0c\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=20005;\nstring s,t;int len1;\nint begin,end;\nint ans;\nstruct node\n{\n    char S;\n    int start;\n}st[maxn];\nbool ok(int x,int y)\n{\n    int rt=x,lt=y;\n    while(rt<=lt)\n    {\n        if(st[rt].S!=st[lt].S) return false;\n        rt++,lt--; \n    }\n    return true;\n}\nbool add(int x)\n{\n    int head=1,tail=x;\n    while(tail<=len1)\n    {\n        if(ok(head,tail))\n        {\n           begin=st[head].start;\n           end=st[tail].start;\n           return true;\n        }\n        head++,tail++;\n    }\n    return false;\n}\nint main()\n{\n    while(getline(cin,t))//\u6ce8\u610f\u8bfb\u5165\u6570\u636e\u7684\u5904\u7406 \n    {\n        s+=t+'\\n';\n    };\n    s=' '+s;\n    int len=s.size()-1;\n    for(int i=1;i<=len;i++)\n    {\n        if(s[i]>='A'&&s[i]<='Z') st[++len1].S=s[i]-'A'+'a',st[len1].start=i;//\u6539\u5c0f\u5199 \n        else if(s[i]>='a'&&s[i]<='z') st[++len1].S=s[i],st[len1].start=i; \n    }\n    int lt=0,rt;\n    if(len1%2==0) rt=len1;\n    else rt=len1+1;\n    while(lt+2<rt)//\u4e8c\u5206\u5947\u6570  \u7279\u522b\u6ce8\u610f lt+2 \n    {\n        int mid=(lt+rt)/2;\n        if(mid%2==0) mid++;\n        if(add(mid)) lt=mid;\n        else rt=mid;\n    }\n    int b=begin,e=end;\n    ans=lt;\n    lt=1;\n    if(len1%2==0) rt=len1+1;\n    else rt=len1;\n    while(lt+2<rt)//\u4e8c\u5206\u5076\u6570  \n    {\n        int mid=(lt+rt)/2;\n        if(mid%2==1) mid++;\n        if(add(mid)) lt=mid;\n        else rt=mid;\n    }\n    if(ans>lt)//\u6bd4\u8f83\u5927\u5c0f \n    {\n        cout<<ans<<endl;\n        for(int i=b;i<=e;i++)\n           cout<<s[i];\n    }\n    else \n    {\n        cout<<lt<<endl;\n        for(int i=begin;i<=end;i++)\n           cout<<s[i];\n    }\n    return 0;\n}\n```",
        "postTime": 1524031897,
        "uid": 76228,
        "name": "God\u306efather",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1210 \u3010\u56de\u6587\u68c0\u6d4b\u3011"
    },
    {
        "content": "# Manacher\n\n\u6b63\u786e\u8bfb\u6cd5\uff1a\u62b9\u5185A\u64a4(\u9a6c\u62c9\u8f66)\n\n(\u8ddf\u7740\u5047\u7855\u5b66\u82f1\u8bed)\n\n\u6211\u4eec\u628a\u539f\u6765\u7684\u5b57\u7b26\u4e32\uff0c\u901a\u8fc7\u7384\u5b66\u5904\u7406\uff0c\u53d8\u6210\u53ea\u7559\u4e0b\u5b57\u6bcd\uff0c\u4e14\u6bcf\u4e24\u4e2a\u5b57\u6bcd\u4e4b\u95f4\u6709\u4e00\u4e2a\u5947\u602a\u7684\u5b57\u7b26\u7684\u90a3\u79cdManacher\u4e13\u7528\u5b57\u7b26\u4e32\u3002\n\n\u5efa\u7acb\u53cc\u5c04\u5173\u7cfb`f[i]`\u8868\u793a`a[i]`\u5728b\u4e2d\u7684\u4f4d\u7f6e\uff08\u5982\u679c`a[i]`\u662f\u5b57\u6bcd\uff09\uff0c`f_[i]`\u8868\u793a`b[i]`\u5728a\u4e2d\u7684\u4f4d\u7f6e\uff08\u5982\u679c`b[i]`\u662f\u5b57\u6bcd\uff09\n\n\u7136\u540e\u5bf9b\u6570\u7ec4\u8dd1Manacher\n\n\u7136\u540e\u627e\u6700\u957f\u56de\u6587\u5b50\u4e32\u56de\u6587\u4e2d\u5fc3\u7684\u4f4d\u7f6e\uff0c\u901a\u8fc7\u8fd9\u4e2a\u4f4d\u7f6e\u76f4\u63a5\u5728b\u6570\u7ec4\u4e2d\u5148\u627e\u5de6\u53f3\u7aef\u70b9\uff0c\u7136\u540e\u5728\u627e\u5230a\u6570\u7ec4\u4e2d\u5bf9\u5e94\u4f4d\u7f6e\u8f93\u51fa\n\n\u6570\u7ec4\u8981\u5f00\u5230\u56db\u4e07\uff08\u4e0b\u9762\u7684\u4ee3\u7801\u5f00\u4e86\u4e24\u4e07RE\u4e00\u4e2a\u70b9\uff0c\u60f3\u6284\u9898\u89e3\u7684\u81ea\u5df1\u6539\u4e00\u4e0b\uff09\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nchar a[20010], b[20010];\nint f[20010], f_[20010], res[20010];\n\nint main()\n{\n    int p = 0;\n    while((a[p] = getchar())!=EOF)p++;\n    a[p]=0;\n    int len = strlen(a), j = 1;\n    memset(b, 0x25, sizeof(b));\n    for (int i = 0; i < len; i++)\n    {\n        if(isalpha(a[i]))\n        {\n            f[i] = j;\n            f_[j] = i;\n            b[j] = a[i];\n            if(islower(b[j]))\n                b[j] -= 32;\n            j+=2;\n        }\n    }\n    //\u4ece[0,j)\u8dd1\u9a6c\u62c9\u8f66\n    int more = 0, pos = 0;\n    for (int i = 0; i < j; i++)\n    {\n        if (more > i)\n            res[i] = min(res[2 * pos - i], more - i);\n        else\n            res[i] = 1;\n        while (i + res[i] < j && i - res[i] >= 0 && b[i+res[i]] == b[i-res[i]])\n            res[i]++;\n        if (i + res[i] - 1 > more)\n        {\n            more = i + res[i] - 1;\n            pos = i;\n        }\n    }\n    int maxLengthPos = 0;\n    for (int i = 1; i < j; i++)\n        if(res[i] > res[maxLengthPos])\n            maxLengthPos = i;\n    int r = maxLengthPos + res[maxLengthPos] - 2, l = maxLengthPos - res[maxLengthPos] + 2;\n    int L = f_[l], R = f_[r];\n    //printf(\"%d %d %d %d\\n\", l, r, L, R);\n    printf(\"%d\\n\", 1 + (r - l) / 2);\n    for (int i = L; i <= R; i++)\n        printf(\"%c\", a[i]);\n    return 0;\n}\n```\n\n\u8ba9\u6211\u4eec\u4e00\u8d77\u819c\u62dc\u5927\u4f6c\u6797\u745e\u5802@[olinr](https://www.luogu.org/space/show?uid=88460)\n",
        "postTime": 1536221374,
        "uid": 13091,
        "name": "ghj1222",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1210 \u3010\u56de\u6587\u68c0\u6d4b\u3011"
    },
    {
        "content": "#### \u9898\u76ee\u6b63\u89e3\u4e4b \u4f18\u5316\u679a\u4e3e\n\u8fd9\u9053\u9898\u7684\u610f\u601d\u5c31\u662f\uff1a\u7ed9\u4f60\u4e00 ~~\u5768~~ \u5806\u5b57\u7b26\u4e32\uff0c\u5176\u4e2d\u5305\u62ec\u5404\u79cd\u5947\u8469\u7b26\u53f7\uff0c\u751a\u81f3\u8fd8\u6709\u7a7a\u4e32\uff08\u7eaf\u6362\u884c\uff09\u7684\u53ef\u80fd\uff0c\u5f53\u7136\uff0c\u6211\u4eec\u53ea\u9700\u8bb0\u4f4f\u90a3\u4e9b\u5b57\u6bcd\uff08\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff09\uff0c\u7136\u540e\u5728\u5176\u4e2d\u627e\u6700\u957f\u7684\u56de\u6587\u5b57\u4e32\u3002\n\u5bf9\u4e8e\u5982\u4f55\u8bfb\u5165\uff0c\u8be6\u60c5\u770b\u7a0b\u5e8f\uff0c\u4e00\u5b9a\u8981\u7528in\u3001out\u6587\u4ef6\uff0c\u4e0d\u7136\u5c31\u4f1a\u65e0\u9650\u8bfb\u5165\u3002\u6211\u8bd5\u8fc7\u5224\u65ad\u7a7a\u4e32\u505c\u6b62\uff0c\u4f1aWA\u4e00\u4e2a\u70b9\u3002\n#### \u8fdb\u5165\u6b63\u9898 \u89e3\u9898\u601d\u8def\n\u9996\u5148\u770b\u5230\u627e\u6700\u957f\u56de\u6587\u5b57\u4e32\uff0c\u4f60\u4f1a\u60f3\u5230\u679a\u4e3e\u8fd9\u4e2a\u7b97\u6cd5\u3002\u4f46\u662f\u6211\u4eec\u770b\u770b\uff1a\u5b57\u7b26\u6587\u7ae0\u957f\u5ea620000\uff0c\u679a\u4e3e\u9700\u8981\u4f18\u5316\uff01\uff01\uff01\n\u4ed4\u7ec6\u770b\uff0c\u9898\u76ee\u4e2d\u6709\u4e2a **\u6700\u957f\u7684\u56de\u6587\u4e0d\u4f1a\u8d85\u8fc72,000\u4e2a\u5b57\u7b26** \u4e3a\u4ec0\u4e48\u8981\u63d0\u4f9b\u8fd9\u4e2a\u770b\u4f3c\u6ca1\u7528\u7684\u63d0\u793a\u5462\uff1f\u4e8e\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u8fd9\u4e2a\u770b\u51fa\u6765\uff1a\u679a\u4e3e\u4f18\u5316\u7684\u7a81\u5165\u53e3\u5c31\u5728\u8fd9\u91cc!!!\u957f\u5ea6\u53ea\u6709\u4e24\u5343\uff0c\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u4e2d\u95f4\u70b9\uff0c\u5206\u5947\u5076\u4e24\u79cd\u60c5\u51b5\u8ba8\u8bba\uff0c\u5947\u6570\uff1a12**3**21\uff0c\u5076\u65701**3**31\u3002\uff083\u4e3a\u4e2d\u95f4\u70b9\uff09\n#### \u7a0b\u5e8f\n```cpp\n#include<iostream>\n#include<fstream>\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<string>\n#include<cstring>\nusing namespace std;\nint x[20002],y[20002];//\u8bb0\u5f55p\u5b57\u7b26\u4e32\u91cc\u9762\u6bcf\u4e2a\u5b57\u7b26\u5bf9\u5e94s\u5b57\u7b26\u4e32\u6570\u7ec4\u7684\u4f4d\u7f6e\uff0c\u4fbf\u4e8e\u8f93\u51fa\nstring s[20002],p;\nint main()\n{\n    //freopen(\"calfflac.in\",\"r\",stdin);\n    //freopen(\"calfflac.out\",\"w\",stdout);\n    int k=-1,ans=0,ansx1=0,ansy1=0,ansx2=0,ansy2=0;\n    for(int i=1;getline(cin,s[i]);i++)//\u8bfb\u5165\u52a0\u5b57\u7b26\u4e32\u7f29\u51cf\u5904\u7406\n    {\n        for(int j=0;j<s[i].size();j++)\n        {\n            if(s[i][j]>='a'&&s[i][j]<='z')\n            {\n                p+=s[i][j];\n                k++;\n                x[k]=i;\n                y[k]=j;//\u8bb0\u5f55\u4f4d\u7f6e\uff0c\u4ee5\u4e0b\u4e00\u6837\n            }\n            if(s[i][j]>='A'&&s[i][j]<='Z')\n            {\n                p+=s[i][j]-'A'+'a';//\u5168\u90e8\u8f6c\u5c0f\u5199\n                k++;\n                x[k]=i;\n                y[k]=j;\n            }\n        }\n    }//\u6ce8\u610f\uff0c\u6211\u8fd9\u4e2a\u7b54\u6848\u6d4b\u8bd5\u5f97\u7528in\u3001out\u6587\u4ef6\uff0c\u4e0d\u7136\u2026\u2026\u65e0\u9650\u8f93\u5165\n    for(int i=0;i<p.size();i++)\n    {\n        int l=i,r=i,sum=1,tx1=x[i],tx2=x[i],ty1=y[i],ty2=y[i];\n        for(;l>=0&&r<p.size();l--,r++,sum+=2)//\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u5947\u6570\uff1a\u4e2d\u95f4\u4e0d\u7528\u5224\u65ad\uff0c\u7edd\u5bf9\u81ea\u8eab\u56de\u6587\uff0c\u6709\u4e00\u4e2a\n        {\n            if(p[l-1]!=p[r+1])\n            {\n                tx1=x[l];\n                ty1=y[l];\n                tx2=x[r];\n                ty2=y[r];\n                break;\n            }//\u4e0d\u662f\u56de\u6587\u5c31\u9000\u51fa\n        }\n        if(sum>ans)//\u6bd4\u8f83\uff0c\u770b\u54ea\u4e2a\u5927\n        {\n            ans=sum;\n            ansx1=tx1,ansx2=tx2;\n            ansy1=ty1,ansy2=ty2;//\u8bb0\u5f55\u65b9\u4f4d\u53ca\u5927\u5c0f\n        }\n        if(p[i]==p[i+1])//\u5076\u6570\u9700\u8981\u7279\u5224\uff0c\u53ef\u80fd\u4e0b\u4e00\u4e2a\u65e0\u6cd5\u6784\u6210\u56de\u6587\n        {\n            l=i,r=i+1,sum=2,tx1=x[i],tx2=x[i+1],ty1=y[i],ty2=y[i+1];\n            for(;l>=0&&r<p.size();l--,r++,sum+=2)//\u770b\u8fd9\u4e2a\u56de\u6587\u5b57\u7b26\u4e32\u6709\u591a\u957f\n            {\n                if(p[l-1]!=p[r+1])\n                {\n                    tx1=x[l];\n                    ty1=y[l];\n                    tx2=x[r];\n                    ty2=y[r];\n                    break;\n                }\n            }\n            if(sum>ans)\n            {\n                ans=sum;\n                ansx1=tx1,ansx2=tx2;\n                ansy1=ty1,ansy2=ty2;\n            }\n        }\n    }\n    printf(\"%d\\n\",ans);\n    for(int i=ansx1;i<=ansx2;i++)//\u5206\u591a\u79cd\u60c5\u51b5\u8f93\u51fa\n    {\n        if(i==ansx1&&ansx1==ansx2)//\u5728\u540c\u4e00\u884c\u7684\u8bdd\uff0c\u76f4\u63a5\u4ece\u5934\u8f93\u5230\u8bb0\u5f55\u7684\u5c3e\n        {\n            for(int j=ansy1;j<=ansy2;j++)\n            {\n                cout<<s[i][j];\n            }\n        }\n        else if(i==ansx1)//\u7b2c\u4e00\u884c\u9700\u8981\u8f93\u51fa\u5934\u5230\u8fd9\u4e00\u884c\u7684\u5c3e\n        {\n            for(int j=ansy1;j<s[i].size();j++)\n            {\n                cout<<s[i][j];\n            }\n        }\n        else if(i==ansx2)//\u5c3e\u884c\u8981\u8f93\u51fa\u8fd9\u4e00\u884c\u7684\u5934\u5230\u8bb0\u5f55\u7684\u5c3e\n        {\n            for(int j=0;j<=ansy2;j++)\n            {\n                cout<<s[i][j];\n            }\n        }\n        else//\u65e2\u4e0d\u662f\u5934\uff0c\u4e5f\u4e0d\u662f\u5c3e\uff0c\u76f4\u63a5\u8f93\u51fa\u8fd9\u4e00\u884c\n        {\n            cout<<s[i];\n        }\n        printf(\"\\n\");\n    }\n    return 0;\n}\n```",
        "postTime": 1523945851,
        "uid": 53695,
        "name": "\u7ae5\u5e74\u5982\u4f5c\u4e1a",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1210 \u3010\u56de\u6587\u68c0\u6d4b\u3011"
    },
    {
        "content": "\u5148\u628a\u56de\u6587\u5b57\u7b26\u5206\u4e00\u4e0b\u7c7b\uff0c\u5f53\u957f\u5ea6\u662f\u5947\u6570\u65f6\uff0c\u8be5\u4e32\u662f\u7531\u4e2d\u95f4\u4e00\u4e2a\u5411\u5916\u6269\u5c55\u7684\uff0c\u4f8b\u5982gjmjg\u3002\u5f53\u957f\u5ea6\u662f\u5076\u6570\u65f6\uff0c\u8be5\u4e32\u662f\u7531\u4e2d\u95f4\u4e24\u4e2a\u5411\u5916\u6269\u5c55\u7684\uff0c\u4f8b\u5982gjmmjg\u3002\u6211\u4eec\u8fd9\u9898\u7684\u601d\u8def\u5c31\u662f\u7ed9\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5411\u5916\u6269\u5c55\u3002\n\n\u5728work\u51fd\u6570\u4e2d\u6211\u4eec\u5206\u4e86\u4e24\u7c7b\u6765\u6269\u5c55\uff0c\u770b\u770b\u957f\u5ea6\u662f\u591a\u5c11\uff0cj\u4e3a\u6269\u5c55\u51fa\u53bb\u4e86\u51e0\u4e2a\u3002\n\u8bb2\u4e00\u4e0b\u672c\u849f\u84bb\u5728\u51cf\u5c11\u4ee3\u7801\u91cf\u4e0b\u7684\u529f\u592b\uff1aa\u6570\u7ec4\u53ef\u7528\u7684\u5b57\u6bcd\u7684\u5e8f\u53f7\uff081-26\uff09\u3002\u50a8\u5b58\u7b54\u6848\u4e32\u65f6\u53ea\u50a8\u5b58\u4e86\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u4f4d\u7f6e\uff08\u5728a\u6570\u7ec4\u4e2d\uff09\u6700\u540e\u8f93\u51fa\u65f6\u6709\u4e2anum\u770b\u770b\u5b83\u4e4b\u524d\u6709\u51e0\u4e2a\u53ef\u7528\u7684\u5b57\u7b26\uff0c\u8fd9\u662f\u4e3a\u4e86\u914d\u5408\u50a8\u5b58\u4e32\u7684\u65b9\u5f0f\u3002\n```cpp\n# include <cstdio>\n# include <algorithm>\n# include <cmath>\n# include <cstring>\nusing namespace std;\n\nconst int NR = 20010;\n\nchar c[NR];\nint a[NR],t = 0;\nint ans = 0;\nint pos,pos2;\nvoid work(int i)\n{\n  if(a[i] == a[i - 1])\n  {\n  \tint sum = 2,temp = 0;\n  \tfor(int j = 1;i + j  <= t && i - 1 - j >= 1;j++)\n  \t{\n\t  if(a[i + j] != a[i - 1 - j]) break;\n\t  temp = j,sum += 2;\t\n\t}\n\tif(sum > ans) ans = sum,pos = i - temp - 1,pos2 = i + temp;\n  }\n  int sum = 1,temp = 0;\n  for(int j = 1;i + j <= t && i - j >= 1;j++)\n  {\n  \tif(a[i + j] != a[i - j]) break;\n  \ttemp = j,sum += 2;\n  }\n  if(sum > ans) ans = sum,pos = i - temp,pos2 = i + temp;\n}\n\nint main()\n{\n  //freopen(\"test.in\",\"r\",stdin);\n  //freopen(\"test.out\",\"w\",stdout);\n  int t1 = 0;\n  while(scanf(\"%c\",&c[++t1]) != EOF)\n  {\n  \tif(c[t1] >= 'a' && c[t1] <= 'z') a[++t] = c[t1] - 'a'+ 1;\n  \tif(c[t1] >= 'A' && c[t1] <= 'Z') a[++t] = c[t1] - 'A' + 1;\n  }\n  for(int i = 2;i <= t;i++) work(i);\n  int num = 0;\n  printf(\"%d\\n\",ans);\n  for(int i = 1;i <= t1;i++)\n  {\n  \tif((c[i] >= 'a' && c[i] <= 'z') || (c[i] >= 'A' && c[i] <= 'Z'))\n\t  num++;\n  \tif(num >= pos && num <= pos2) printf(\"%c\",c[i]);\n  \tif(num == pos2) break;\n  }\n  return 0;\n}\n\n```",
        "postTime": 1542115946,
        "uid": 93382,
        "name": "_gjm2005_",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1210 \u3010\u56de\u6587\u68c0\u6d4b\u3011"
    },
    {
        "content": "\u770b\u5230\u5176\u4ed6\u89e3\u6cd5\u90fd\u662fdp\uff0c\u9a6c\u62c9\u8f66\u7b49\u7b49\uff0c\u867d\u7136\u6709\u4e00\u7bc7\u548c\u6211\u7684\u601d\u8def\u5dee\u4e0d\u591a\uff0c\u4f46\u662f\u4ee3\u7801\u5b9e\u73b0\u4e0a\u6709\u4e9b\u5dee\u522b\uff0c\u6240\u4ee5\u6765\u5206\u4eab\u4e00\u4e0b\u3002\n\n# \u5206\u6790\uff1a\n\u5982\u679c\u6211\u4eec\u679a\u4e3e\u5de6\u53f3\u7aef\u70b9\u7684\u8bdd\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u63a5\u8fd1\u7acb\u65b9\u7ea7\u522b\uff0c\u4e8e\u662f\u6211\u4eec\u5229\u7528\u56de\u6587\u4e32\u7684\u6027\u8d28\uff0c\u53ef\u4ee5\u6839\u636e\u5b83\u7684\u5bf9\u79f0\u4e2d\u5fc3\u4e86\u679a\u4e3e\uff0c\u5927\u4f53\u80fd\u964d\u5230\u5e73\u65b9\u7ea7\u522b\u3002\n\n> code\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<string>\nusing namespace std;\nstruct ben\n{\n\tchar cha;\n\tint num;\n}a[20100];\nint main()\n{\n\tstring line;\n\tstring s;\n\twhile(getline(cin,line))\n\t{\n\t\ts+=line;\n\t\ts+=\"\\n\";\n\t}\n\tint cnt=0;\n\tfor(int i=0;i<s.length();i++)\n\t{\n\t\tif(isalpha(s[i]))\n\t\t{\n\t\t\ta[cnt].cha=toupper(s[i]);\n\t\t\ta[cnt].num=i;\n\t\t\tcnt++;\n\t\t}\n\t}\n\tint ans=0,l,r;\n\tfor(int i=0;i<cnt;i++)\n\t{\n\t\tint j=1,sum=1;\n\t\twhile(i>=j&&i+j<cnt)\n\t\t{\n\t\t\tif(a[i-j].cha==a[i+j].cha)\n\t\t\t{\n\t\t\t\tsum+=2;\n\t\t\t\tif(sum>ans)\n\t\t\t\t{\n\t\t\t\t\tans=sum;\n\t\t\t\t\tl=i-j;\n\t\t\t\t\tr=i+j;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\tbreak;\n\t\t\tj++;\n\t\t}\n\t\tj=0,sum=0;\n\t\twhile(i>=j&&i+j+1<cnt)\n\t\t{\n\t\t\tif(a[i-j].cha==a[i+j+1].cha)\n\t\t\t{\n\t\t\t\tsum+=2;\n\t\t\t\tif(sum>ans)\n\t\t\t\t{\n\t\t\t\t\tans=sum;\n\t\t\t\t\tl=i-j;\n\t\t\t\t\tr=i+j+1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\tbreak;\n\t\t\tj++;\n\t\t}\n\t}\n\tint last=0; \n\tfor(int i=a[l].num;i<=a[r].num;i++)\n\t{\n\t\tif(isalpha(s[i]))last++;\n\t}\n\tprintf(\"%d\\n\",ans);\n\tfor(int i=a[l].num;i<=a[r].num;i++)cout<<s[i];\n\treturn 0;\n} \n```\n\n**\u5173\u4e8e\u8bfb\u5165\u8f93\u51fa\u7684\u4ee3\u7801\u4f18\u5316\u501f\u9274\u4e86\u7f51\u4e0a\u4e00\u7bc7blog\uff0c\u5728\u6b64orz\u4e00\u4e0b**",
        "postTime": 1562461401,
        "uid": 45475,
        "name": "ShineEternal",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1210 \u3010\u56de\u6587\u68c0\u6d4b\u3011"
    },
    {
        "content": "## [\u9898\u9762](https://www.luogu.org/problemnew/show/P1210)\n\n~~\u8fd9\u662f\u4e00\u9053\u8be1\u5f02\u7684\u9ec4\u9898~~\n\n\u5c45\u7136\u8ba9\u4f60\u6c42\u4e00\u4e32\u5427\u5566\u5427\u5566\u7684\u4e1c\u897f\u4e2d \u5b57\u6bcd\uff08\u5927\u5c0f\u5199\uff09\u6700\u957f\u7684\u56de\u6587\u4e32\u7684\u957f\u5ea6\uff0c\u8fd8\u8981\u8f93\u51fa\u5b8c\u6574\u7684\u4e32  ~~\u5410\u8840~~\n\n## \u601d\u8def\uff1a\n\n\u4fdd\u6301\u6de1\u5b9a\uff0c\u6211\u4eec\u5565\u90fd\u4e0d\u4f1a\uff0c\u5c31\u4f1aManacher\uff0c\u90a3\u5c31\u7528**Manacher**\u5927\u6cd5\uff01\n\n1\u3001\u628a\u5b57\u7b26\u4e32\u5904\u7406\u6210\u53ea\u6709\u5b57\u6bcd\uff08\u53bb\u76ae\uff09\n\n2\u3001\u628a\u5b57\u7b26\u4e32\u4e2d\u63d2\u5165`#`\u53f7\uff08\u63ba\u5047\uff09\n\n3\u3001Manacher\u8dd1\u4e00\u8dd1\u6700\u957f\u56de\u6587\u4e32\u957f\u5ea6\uff08\u5e02\u573a\u68c0\u67e5\uff09\n\n4\u3001\u6c42\u51fa\u6700\u957f\u957f\u5ea6\u540e\u518d\u91cd\u65b0\u4ee3\u5165\u539f\u6765\u7684\u5b57\u7b26\u4e32\uff08\u6253\u56de\u539f\u5f62\uff01\u5996\u5b7d\uff01\uff09\n\n\u7136\u540e\uff0c\u5c31\u5b8c\u4e86~\n\n\u5c31\u662f`\u53bb\u76ae`\u7684\u65f6\u5019\uff0c\u987a\u4fbf\u8bb0\u5f55\u4e00\u4e0b\u5b57\u7b26\u7684\u4f4d\u7f6e\uff0c\u8fd9\u6837\u91cd\u65b0\u4ee3\u5165\u65f6\u5c31\u6bd4\u8f83\u65b9\u4fbf\n\n\u5e76\u4e14\u7531\u4e8e\u5b57\u7b26\u4e32\u6709\u5f88\u591a\u884c\uff0c\u8bfb\u5165\u65f6\u5c31\u8981\u7528`getchar()`\uff0c\u76f4\u5230`EOF`\u4e3a\u6b62\n\n~~\u4f3c\u4e4eNoip2018\u666e\u53caT1\u6709\u4eba\u56e0\u4e3a\u8fd9\u4e2aWA\uff1f~~\n\nCode\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define M 20010\nusing namespace std;\nstruct node{\n\tchar c;\n\tint id;\n}a[M<<1];\nchar st[M],s[M<<1];\nint l1,l2,len,ans,res;\nint p[M<<1];\nbool check(char c)\n{\n\treturn (c>='a'&&c<='z')||(c>='A'&&c<='Z');\n}\nvoid init()\n{\n\tint i;\n\tfor(i=0;i<l1;i++)\n\t\tif(check(st[i]))\n\t\t{\n\t\t\ta[l2].c=(st[i]>='a'&&st[i]<='z')? st[i]:st[i]-'A'+'a';\n\t\t\ta[l2++].id=i;//\u8bb0\u5f55\u7f16\u53f7\uff08\u4f4d\u7f6e\uff09\n\t\t}\n\ts[0]='!';\n\ts[1]='#';\n\tfor(i=0;i<l2;i++)\n\t{\n\t\ts[i*2+2]=a[i].c;\n\t\ts[i*2+3]='#';\n\t}\n\tlen=l2*2+2;\n\ts[len]='?';\n\treturn;\n}\nvoid manacher()//\u5927\u6cd5\u4e0d\u89e3\u91ca\n{\n\tint id=0,mx=0;\n\tfor(int i=0;i<len;i++)\n\t{\n\t\tif(i<mx)\n\t\t\tp[i]=min(p[id*2-i],mx-i);\n\t\telse\n\t\t\tp[i]=1;\n\t\twhile(s[i-p[i]]==s[i+p[i]])\n            \tp[i]++;\n\t\tif(i+p[i]>mx)\n\t\t{\n\t\t\tid=i;\n\t\t\tmx=i+p[i];\n\t\t}\n\t}\n\treturn;\n}\nvoid Print(int l,int r)\n{\n\tif(l&1)//\u7531\u6269\u5c55\u540e\u7684s\u6570\u7ec4\u53d8\u56dea\u6570\u7ec4\n\t\tl=(l-3)/2;\n\telse\n\t\tl=(l-2)/2;\n\tif(r&1)\n\t\tr=(r-3)/2;\n\telse\n\t\tr=(r-2)/2;\n\tfor(int k=a[l].id;k<=a[r].id;k++)\n\t\tprintf(\"%c\",st[k]);\n\treturn;\n}\nint main()\n{\n\tint i;\n\tchar c=getchar();//\u8bfb\u5165\n\twhile(c!=EOF)\n\t{\n\t\tst[l1++]=c;\n\t\tc=getchar();\n\t}\n\tinit();//\u521d\u59cb\u5316\n\tmanacher();//\u5927\u6cd5\n\tfor(i=0;i<len;i++)//\u6c42\u6700\u957f\n\t\tans=max(ans,p[i]);\n\tfor(i=0;i<len;i++)//\u6c42\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\n\t\tif(p[i]==ans)\n\t\t\tbreak;\n\tans--;\n\tprintf(\"%d\\n\",ans);\n\tPrint(i-ans+1,i+ans-1);//\u91cd\u65b0\u4ee3\u5165\n\treturn 0;\n}\n```\n\n",
        "postTime": 1545708197,
        "uid": 83564,
        "name": "hovny",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1210 \u3010\u56de\u6587\u68c0\u6d4b\u3011"
    },
    {
        "content": "\u57fa\u672c\u5c31\u662f\u88f8\u7684Manacher,\u6211\u770b\u9898\u89e3\u4e2d\u597d\u50cf\u66b4\u529b\u641c\u4e5f\u53ef\u4ee5\u8fc7\uff08\u4ec0\u4e48\uff01\uff01\uff09\u4f46\u662f\u6211\u8fd8\u662f\u5199\u4e86\u4e2a\u5f88\u5feb\u7684Manacher= =\u3002\u5927\u5bb6\u611f\u53d7\u4e0b\uff0c\u53ef\u80fd\u6bd4\u8f83\u96be\u61c2\uff0c\u4f46\u662f\u7edd\u5bf9\u5f88\u5feb\u3002\uff08\u5f53\u7136\uff0c\u611f\u8c22\u697c\u4e0b\u7684\u8bfb\u53d6\u65b9\u6cd5\uff0c\u597d\u50cf\u7528scanf\u4e0d\u592a\u884c\u7684\u6837\u5b50\uff08\u4e00\u5b9a\u662f\u6211\u592a\u5f31\u4e86qwq\uff09\uff09\n\n\n\n```cpp\n#include<cstdio>\n#include<ctype.h>\nusing namespace std;\ninline int Min(int a,int b){return a<b?a:b;}\nconst int N=20005;\nchar st[N],st2[N],s_new[2*N];\nint p[2*N],pos[N],pos2[2*N],t,t2,lf,ri;\nint query(){\n    int j=2;\n    s_new[0]='$';s_new[1]='#';\n    for(int i=0;i<=t2;i++){\n        s_new[j]=st2[i];pos2[j]=pos[i];j++;\n        s_new[j++]='#';\n    }\n    s_new[j]='\\0';\n    return j;\n}\nint Manacher(){\n    int len=query();\n    int maxx=0,maxlen=-1,id;\n    for(int i=1;i<len;i++){\n        if(i<maxx)p[i]=Min(p[2*id-i],maxx-i);\n        else p[i]=1;\n        while(s_new[i-p[i]]==s_new[i+p[i]])p[i]++;\n        if(maxx<i+p[i])maxx=i+p[i],id=i;\n        if(maxlen<p[i]-1){\n            maxlen=p[i]-1;\n            lf=i-p[i]+2;\n            ri=i+p[i]-2;\n        }\n    }\n    //for(int i=1;i<len;i++)printf(\"%c \",s_new[i]);printf(\"\\n\");\n    //for(int i=1;i<len;i++)printf(\"%d \",pos2[i]);printf(\"\\n\");\n    return maxlen;\n}\nint main()\n{\n    while((st[t]=getchar())!=EOF)t++;t--;\n    for(int i=0;i<=t;i++)if((st[i]<='z'&&st[i]>='a')||(st[i]<='Z'&&st[i]>='A'))st2[t2]=st[i],pos[t2]=i,t2++;t2--;\n    for(int i=0;i<=t2;i++)if(st2[i]<='Z'&&st2[i]>='A')st2[i]=st2[i]-'A'+'a';\n    printf(\"%d\\n\",Manacher());\n    //printf(\"%c %c\\n\",s_new[lf+1],s_new[ri-1]);printf(\"%d %d\\n\",pos2[lf],pos2[ri]);\n    for(int i=pos2[lf];i<=pos2[ri];i++)printf(\"%c\",st[i]);printf(\"\\n\");\n    return 0;\n}\n```\n/\\*\nConfucius say: Madam, I'm Adam.\n\n\\*/",
        "postTime": 1477055838,
        "uid": 14497,
        "name": "q1293274675",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1210 \u3010\u56de\u6587\u68c0\u6d4b\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u5904\u7406\u9898\uff0c\u628a\u5b57\u6bcd\u4e00\u4e2a\u4e2a\u7b5b\u51fa\u6765\u5373\u53ef\u3002\u6c42\u56de\u6587\uff0c\u6ce8\u610f\u5947\u6570\u957f\u5ea6\u4e0e\u5076\u6570\u957f\u5ea6\u4e24\u79cd\u60c5\u51b5\u3002\n\n```delphi\n\ntype node=record\n     c:char;\n     w:longint;\nend;\nvar st,s:ansistring;\n    a:array[1..20000]of node;\n    i,m,n,l,r,ans:longint;\n    ch:char;\nbegin\n  st:='';i:=0;n:=0;\n  while not eof do\n  begin\n    read(ch);inc(n);\n    st:=st+ch;\n    if(ch>='A')and(ch<='Z')then\n    begin\n      inc(i);\n      a[i].c:=ch;\n      a[i].w:=n;\n    end else\n    if(ch>='a')and(ch<='z')then\n    begin\n      inc(i);\n      a[i].c:=chr(ord(ch)-32);\n      a[i].w:=n;\n    end;       //IF CH='1' THEN BREAK;\n  end;\n  m:=i;ans:=0;\n  for i:=1 to m do\n  begin\n    l:=i;r:=i;\n    while(l>1)and(r<m)and(a[l-1].c=a[r+1].c)and(l>1)and(r<m)do\n    begin inc(r);dec(l);end;\n    if ans<r-l+1 then\n    begin s:=copy(st,a[l].w,a[r].w-a[l].w+1);ans:=r-l+1;end;\n    if(i<>m)and(a[i].c=a[i+1].c)then\n    begin\n      l:=i;r:=i+1;\n      while(l>1)and(r<m)and(a[l-1].c=a[r+1].c)and(l>1)and(r<m)do\n      begin inc(r);dec(l);end;\n      if ans<r-l+1 then\n      begin s:=copy(st,a[l].w,a[r].w-a[l].w+1);ans:=r-l+1;end;\n    end;\n  end;\n  writeln(ans);\n  writeln(s);\nend.\n\n```",
        "postTime": 1445242110,
        "uid": 2248,
        "name": "\u6c47\u6587\u5ba2",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1210 \u3010\u56de\u6587\u68c0\u6d4b\u3011"
    },
    {
        "content": "\u7b80\u5355\u9898\u5c31\u662f\u8981\u6709\u7b80\u5355\u9898\u7684\u4e9a\u5b50\n\n\u6570\u636e\u5341\u5206\u5c0f\uff0c\u53ef\u4ee5\u66b4\u529b\u3002\n\n\u5148\u5f00\u7ed3\u6784\u4f53\u5b58\u4e0b\u6bcf\u4e2a\u4eba\u7684\u540d\u5b57\uff0c\u6536\u5165\u548c\u652f\u51fa\uff0c\u6309\u987a\u5e8f\u8bfb\u5165\u3002\n\n\u8f93\u5165\u9001\u793c\u540d\u5355\u65f6\uff0c\u904d\u5386\u4e00\u904d\uff0c\u5339\u914d\u540d\u5b57\uff0c\u52a0\u4e0a\u5e73\u5747\u6570\u3002\n\n\u6700\u540e\u6309\u987a\u5e8f\u8f93\u51fa\u6bcf\u4e2a\u4eba\u7684\u6536\u5165-\u652f\u51fa\n\n\u8be6\u7ec6\u89c1\u4ee3\u7801\u3002\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<string>\nusing namespace std;\n\nint n,x,y;\nstring b;\nstruct node\n{\n    string name;\n    int in,out;\n} a[13];\n\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++) cin>>a[i].name;\n    for(int i=1;i<=n;i++)\n    {\n        cin>>b;\n        scanf(\"%d%d\",&x,&y);\n        if(y==0) continue;              //\u9664\u6570\u4e0d\u80fd\u4e3a0\n        for(int j=1;j<=n;j++)\n            if(a[j].name==b)           //string\u5c31\u662f\u65b9\u4fbf\n                a[j].out+=(x/y)*y;      //\u5e73\u5747\u9001\u793c\n        for(int j=1;j<=y;j++)\n        {\n            cin>>b;\n            for(int k=1;k<=n;k++)\n                if(a[k].name==b)\n                    a[k].in+=x/y;       //\u5230\u8d26\n        }\n    }\n    for(int i=1;i<=n;i++)\n        cout<<a[i].name<<\" \"<<a[i].in-a[i].out<<endl;\n    return 0;\n}\n```\n",
        "postTime": 1561290485,
        "uid": 113696,
        "name": "Hanzire76",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1201 \u3010[USACO1.1]\u8d2a\u5a6a\u7684\u9001\u793c\u8005Greedy Gift Givers\u3011"
    }
]