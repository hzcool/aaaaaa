[
    {
        "content": "[Youngsc](http://youngscc.github.io/)\n\n\u6211\u4eec\u5b9a\u4e49$f[i][j]$\u4e3a\u5728\u4ee5$(i,j)$\u4e3a\u53f3\u4e0b\u89d2\u7684\u5b50\u77e9\u9635\u4e2d\u7684\u6700\u5927\u91c7\u77ff\u91cf\uff0c\u7531\u9898\u610f\u6211\u4eec\u53ef\u77e5\uff0c\u5982\u679c$(i,j)$\u662f\u5411\u5de6\u8f6c\u79fb\u77ff\uff0c\u90a3\u4e48$(i,j-1)$,\u4e00\u5b9a\u4e5f\u662f\u5411\u5de6\uff0c$(i,j-2)$\u4e00\u76f4\u5230$(i,1)$\u90fd\u662f\u5411\u5de6\uff0c\u540c\u7406\u5982\u679c$(i,j)$\u662f\u5411\u4e0a\u8f6c\u79fb\u77ff\uff0c\u90a3\u4e48$(i-1,j)$,\u4e00\u5b9a\u4e5f\u662f\u5411\u4e0a\uff0c$(i-2,j)$\u4e00\u76f4\u5230$(1,j)$\u90fd\u662f\u5411\u5de6\u3002\u8fd9\u5c31\u53ef\u4ee5\u5176\u5b9e\u6211\u4eec\u7528\u524d\u7f00\u548c\u53bb\u7ef4\u62a4\u4e00\u6bb5\u533a\u95f4\u7684\u91c7\u77ff\u91cf\u3002\n\n\n\u5728\u8f6c\u79fb\u65f6\uff0c\u6211\u4eec\u53ea\u5173\u5fc3\u5f53\u524d$(i,j)$\u7684\u91c7\u77ff\u65b9\u5411\u3002\u8bbe$A[i][j]$\u4e3a\u5411\u4e0a\u7684\u524d\u7f00\u548c\uff0c$B[i][j]$\u4e3a\u5411\u5de6\u7684\u524d\u7f00\u548c\uff0c\u90a3\u4e48\u8f6c\u79fb\u65b9\u7a0b$f[i][j]=max(f[i-1][j]+B[i][j],f[[i][j-1]+A[i][j])$.\n\n\n\u4fc4\u65e5\u989d\u8c8c\u4f3c\u662f\u591a\u7ec4\u6570\u636e\uff0c\u6211\u4e5f\u4e0d\u662f\u592a\u6e05\u695a\u53cd\u6b63\u7b2c\u4e00\u6b21\u5c31\u90a3\u4e48\u4e9b\u7136\u540e~~\u4e00\u904d\u8fc7~~\u4e86\u3002\u3002\u3002\n\n\n## \u4ee3\u7801\u5728\u8fd9\u91cc\n\n\n```cpp\n# include <algorithm>\n# include <iostream>\n# include <cstring>\n# include <cstdio>\n# include <vector>\n# include <queue>\n# include <cmath>\n# define R register\n\nusing namespace std;\n\nint n,m,a[510][510],b[510][510],f[510][510];\n\ntemplate <typename T> void in(R T &a){\n    R char c = getchar();R T x=0,f=1;\n    while(!isdigit(c)) {if(c == '-') f=-1; c=getchar();}\n    while(isdigit(c)) x=(x<<1)+(x<<3)+c-'0',c = getchar();\n    a=x*f;\n}\n\ninline void maxx(R int &a,const int b){a>b? 0:a=b;}\ninline void minn(R int &a,const int b){a<b? 0:a=b;}\n\ninline int youngsc(){\n    while(1){\n        in(n),in(m);\n        if(m+n==0)break;\n\n        for(R int i=1; i<=n; ++i)\n            for(R int j=1; j<=m; ++j)\n                in(a[i][j]),a[i][j] += a[i][j-1];\n\n        for(R int i=1; i<=n; ++i)\n            for(R int j=1; j<=m; ++j)\n                in(b[i][j]),b[i][j] += b[i-1][j];\n\n        for(R int i=1; i<=n; ++i)\n            for(R int j=1; j<=m; ++j)\n                f[i][j] = max(f[i-1][j]+a[i][j],f[i][j-1]+b[i][j]);\n\n        printf(\"%d\\n\",f[n][m]);\n    }\n    return 0;\n}\nint yg = youngsc();\nint main(){;}\n```\n\uff08\u51cf\u5c11\u4ee3\u7801\u590d\u5236\uff0c\u5171\u521b\u7f8e\u597d\u6d1b\u8c37\uff09\n",
        "postTime": 1506494196,
        "uid": 36282,
        "name": "Youngsc",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P2380 \u3010\u72d7\u54e5\u91c7\u77ff\u3011"
    },
    {
        "content": "> \u8bdd\u8bf4\u72d7\u54e5\u662f\u8c01\u554a\uff1f\n\n~~\u95f2\u8bdd\u5c11\u53d9\uff0c\u5207\u5165\u6b63\u9898~~\n\n## \u6574\u4f53\u601d\u8def\uff1a\u4e8c\u7ef4\u52a8\u6001\u89c4\u5212\n\n### \u5177\u4f53\u6b65\u9aa4\uff08\u72b6\u6001\u7684\u8bbe\u7f6e\u4e0e\u5e94\u7528\uff09\n1. \u5b9a\u4e49\u72b6\u6001\uff1a\u8bbe $F_{i,j}$ \u8868\u793a\u4ee5 $(1,1)$ \u548c $(i,j)$ \u4e3a\u5de6\u4e0a\u548c\u53f3\u4e0b\u9876\u70b9\u7684\u77e9\u5f62\u7684\u6700\u5927\u91c7\u77ff\u6570\u91cf\u3002\n\n1. \u8f85\u52a9\u72b6\u6001\uff1a\u5b9a\u4e49 $A_{i,j}$ \u8868\u793a\u4ece $(1,j)$ \u5230 $(i,j)$ \u7684\u6a2a\u5411\uff08\u7531\u897f\u5411\u4e1c\uff09\u524d\u7f00\u548c\uff0c$B_{i,j}$ \u8868\u793a\u4ece $(i, 1)$ \u5230 $(i,j)$ \u7684\u7eb5\u5411\uff08\u7531\u5317\u5411\u5357\uff09\u524d\u7f00\u548c\u3002\n\n1. \u521d\u59cb\u5316\uff1a $F$ \u7684\u6240\u6709\u70b9\u5747\u4e3a $0$ \uff08\u6700\u5c0f\u503c\uff0c\u4ec0\u4e48\u90fd\u6ca1\u6709\u91c7\uff09\n\n1. \u72b6\u6001\u8f6c\u79fb\n\n\u6309\u9898\u76ee\u4e2d\u6240\u8bf4\uff0c\u53ea\u6709**\u7531\u4e1c\u5411\u897f**\u548c**\u7531\u5357\u5411\u5317**\u7684\u4f20\u9001\u5e26\uff0c\u6240\u4ee5 $F_{i,j}$ \u53ea\u548c $F_{i-1,j}$ \u3001 $F_{i,j-1}$ \u6709\u5173\u3002\n\n\u82e5\u53d6 $F_{i-1,j}$ \uff0c \u5219\u7528\u7684\u662f**\u7531\u4e1c\u5411\u897f**\u7684\u4f20\u9001\u5e26\uff0c\u5219 $F_{i,j}=F_{i-1,j}+A_{i,j}$\uff1b\u82e5\u53d6 $F_{i,j-1}$ \uff0c \u5219\u7528\u7684\u662f**\u7531\u5357\u5411\u5317**\u7684\u4f20\u9001\u5e26,\u5219 $F_{i,j}=F_{i,j-1}+B_{i,j}$ \u3002\u81ea\u7136 $F_{i,j}$ \u53d6\u4e24\u8005\u8f83\u5927\u503c\u3002\n\n\u6240\u4ee5\u5c31\u53ef\u4ee5\u5f97\u5230\u8f6c\u79fb\u65b9\u7a0b\u4e86\uff1a\n$$F_{i,j}=\\max(F_{i-1,j}+A_{i,j},F_{i,j-1}+B_{i,j})$$\n\n\u63a5\u4e0b\u6765\u770b\u4ee3\u7801\uff08~~\u67d0\u4e9b\u7ae5\u978b\u6700\u611f\u5174\u8da3\u7684\u90e8\u5206~~ $qaq$\uff09\n## CODE\n```cpp\n#include <stdio.h>\n#include <string.h>\nint n, m;\nint a[505][505], b[505][505];\nint f[505][505];\ninline int mx(int p, int q) {\n    return p > q ? p : q;\n}\nint main(void) {\n    scanf(\"%d %d\", &n, &m);\n    while (n || m) {\n        memset(f, 0, sizeof f);\n        for (int i = 1, x; i <= n; ++i)\n            for (int j = 1; j <= m; ++j) {\n                scanf(\"%d\", &x);\n                a[i][j] = a[i][j - 1] + x;\n            }\n        for (int i = 1, x; i <= n; ++i)\n            for (int j = 1; j <= m; ++j) {\n                scanf(\"%d\", &x);\n                b[i][j] = b[i - 1][j] + x;\n            }\n        int ans = 0;\n        for (int i = 1; i <= n; ++i)\n            for (int j = 1; j <= m; ++j) {\n                f[i][j] = mx(f[i - 1][j] + a[i][j], f[i][j - 1] + b[i][j]);\n                ans = mx(f[i][j], ans);\n            }\n        printf(\"%d\\n\", ans);\n        scanf(\"%d %d\", &n, &m);\n    }\n    return 0;\n}\n```\n\n## \u9644\n\u6700\u540e\u7684\u53cb\u60c5\u63d0\u793a\uff1a\u6d1b\u8c37\u975e\u5e38\u91cd\u89c6**\u5b66\u672f\u8bda\u4fe1**\u3002\u6284\u88ad\u3001\u590d\u5236\u9898\u89e3\uff0c\u4ee5\u8fbe\u5230\u5237AC\u7387/AC\u6570\u91cf\u6216\u5176\u4ed6\u76ee\u7684\u7684\u884c\u4e3a\uff0c\u5728\u6d1b\u8c37\u662f**\u4e25\u683c\u7981\u6b62**\u7684\u3002~~\u60f3\u88ab$\\color{brown}{\\text{\u68d5}}$\u5c31\u6284\u5427\u3002~~\n\n## The end. Thanks.",
        "postTime": 1594817333,
        "uid": 214696,
        "name": "Dry_ice",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2380 \u3010\u72d7\u54e5\u91c7\u77ff\u3011"
    },
    {
        "content": "\u554a\u54c8!\u7ec8\u4e8e\u6709\u673a\u4f1a\u5199\u4e00\u7bc7\u9898\u89e3\u4e86\u3002\n\n\u6211\u7684\u601d\u8def\u662f\u8fd9\u6837\u7684(~~\u5728\u67d0\u795e\u7287\u7684\u5e2e\u52a9\u4e4b\u4e0b~~)\uff1a\u9996\u5148\u5206\u6790\u4e00\u4e0b\uff0c\u6613\u77e5\u4f20\u9001\u5e26\u4e00\u5b9a\u662f\u8981\u4e48\u5411\u4e0a\uff0c\u8981\u4e48\u5411\u53f3\u3002\u4e14\u4e00\u5b9a\u6446\u6ee1\u4e86\u6574\u4e2a\u77e9\u9635\u3002\n\n\u6240\u4ee5\u6211\u4eec\u8bbef[i][j]\u8868\u793a\uff1a\u9664\u4e86\u4ece1,1\u5230i,j\u8fd9\u4e2a\u77e9\u5f62\u4e4b\u5916\u7684\u6240\u6709\u5730\u533a\u80fd\u83b7\u5f97\u7684\u6700\u5927\u77ff\u6570\u3002\n\n\u90a3\u4e48\u4ece\u4e0a\u4e00\u4e2a\u72b6\u6001\u5230\u8fd9\u4e00\u4e2a\u72b6\u6001\uff0c\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\n\n\u2460\u4ecef[i][j+1]\u7684\u72b6\u6001\uff0c\u57281,j+1\u5230i,j+1\u94fa\u8bbe\u4e00\u6761\u4f20\u9001\u5e26\u3002\n\n\u2461\u4ecef[i+1][j]\u7684\u72b6\u6001\uff0c\u5728i+1,1\u5230i+1,j\u94fa\u8bbe\u4e00\u6761\u4f20\u9001\u5e26\u3002\n\n\u6240\u4ee5\u8fd9\u4e24\u79cd\u60c5\u51b5\u7684\u6700\u5927\u503c\u5c31\u662ff[i][j]\u7684\u503c\u3002\n\n\u8003\u8651\u5230\u6bcf\u6b21\u90fd\u8981\u6c42\u4e00\u6bb5\u533a\u95f4\u7684\u548c\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u522b\u7ef4\u62a4\u4e24\u4e2a\u6a2a\u5411\uff0c\u7eb5\u5411\u7684\u524d\u7f00\u548c\u6765\u4f18\u5316\u3002\n\nC++\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\nconst int N=1002;\nint m,n,f[N][N];\nint a[N][N],b[N][N];\nint suma[N][N],sumb[N][N];\nint main()\n{\n    scanf (\"%d%d\",&n,&m);\n    while(m!=0||n!=0){\n\n    memset(a,0,sizeof(a));///\u8fd9\u4e94\u53e5\u53ef\u4ee5\u4e0d\u8981\n    memset(b,0,sizeof(b));\n    memset(suma,0,sizeof(suma));\n    memset(sumb,0,sizeof(sumb));\n    memset(f,0,sizeof(f));\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            scanf (\"%d\",&b[i][j]);\n            sumb[i][j]=b[i][j]+sumb[i][j-1];\n        }\n    }\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            scanf (\"%d\",&a[i][j]);\n            suma[i][j]=a[i][j]+suma[i-1][j];\n        }\n    }\n    ///\n    for(int i=n;i>=0;i--)\n    {\n        for(int j=m;j>=0;j--)\n        {\n            f[i][j]=max((f[i][j+1]+suma[i][j+1]),(f[i+1][j]+sumb[i+1][j]));\n        }\n    }\n    /*for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            printf(\"%d \",f[i][j]);\n        }printf(\"\\n\");\n    }*/\n    printf(\"%d\\n\",f[0][0]);\n    scanf (\"%d%d\",&n,&m);}\n    return 0;\n}\n\n```",
        "postTime": 1518181411,
        "uid": 55600,
        "name": "huyufeifei",
        "ccfLevel": 8,
        "title": "P2380 \u82df\u54e5\u91c7\u77ff \u9898\u89e3"
    },
    {
        "content": "\u5566\u5566\u5566\uff0c\u5566\u5566\u5566\uff01\u6211\u53c8\u6765\u5566\uff01\n\ndp\uff01dp\uff01dp\uff01\uff01\uff01\u91cd\u8981\u7684\u4e8b\u60c5\u8bf4\u4e09\u904d\n\n\u5f88\u7b80\u5355\uff08\u5176\u5b9e\u9898\u76ee\u6709\u4e0d\u4e25\u8c28\uff0c\u5b83\u7684\u77ff\u8f66\u5e94\u8be5\u662f\u4e0d\u53ef\u4ee5\u91cd\u53e0\u7684\uff09\n\n\u5148\u6c42\u524d\u7f00\u548c\uff0cf[i,j]\u8868\u793a\u7b2ci\u5217j\u884c\u7684\u77ff\u53d6\u54ea\u79cd\uff08\u9898\u76ee\u592a\u6076\u5fc3\uff0c\u77ff\u7684\u540d\u5b57\u53d6\u6210\u8fd9\u6837\uff0c\u8bb0\u4e0d\u7262\uff09\uff0c\u5411\u4e0a\u8fd8\u662f\u5411\u5de6\uff0cf[i-1,j]+a[i,j]\u8868\u793a\u5411\u5de6\u53d6\uff0cf[i,j-1]+b[i,j]\u8868\u793a\u5411\u4e0a\u53d6\uff0c\u6700\u540e\u6c42max\n\n```cpp\nvar\n  a,b,f:array [0..500,0..500] of longint;\n  n,m,i,j,k,maxx:longint;\nfunction max(a,b:longint):longint;\nbegin\n  if a>b then exit(a)\n    else exit(b);\nend;\nbegin\n  read(n,m);\n  while (n<>0)or(m<>0) do\n  begin\n    for i:=1 to n do\n      for j:=1 to m do\n      begin\n        read(k);\n        a[i,j]:=a[i,j-1]+k;\n      end;\n    for i:=1 to n do\n      for j:=1 to m do\n      begin\n        read(k);\n        b[i,j]:=b[i-1,j]+k;\n      end;\n    maxx:=0;\n    for i:=1 to n do\n      for j:=1 to m do\n      begin\n        f[i,j]:=max(f[i-1,j]+a[i,j],f[i,j-1]+b[i,j]);\n        if f[i,j]>maxx then maxx:=f[i,j];\n      end;\n    writeln(maxx);\n    read(n,m);\n  end;\nend.\n\u54ce\u3002\u3002\u3002\u6211\u771f\u662f\u597d\u4eba\n```",
        "postTime": 1475759089,
        "uid": 20506,
        "name": "\u65b9\u65b9\u5c0f\u9017\u903c",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2380 \u3010\u72d7\u54e5\u91c7\u77ff\u3011"
    },
    {
        "content": "\u4e00\u9053\u4e0d\u9519\u7684\u4e8c\u7ef4 $dp$ \u7ec3\u624b\u9898.\n\n\u8bbe\u6570\u7ec4 $f_{i,j,0/1}$,\u5206\u522b\u8868\u793a\u524d $i$ \u884c\u524d $j$ \u5217\uff0c\u5728 $(i,j)$ \u91c7\u4e24\u79cd\u4e0d\u540c\u7684\u77ff\u7684\u6700\u5927\u6536\u76ca\u3002\n\n\u82e5\u5728 $(i,j)$ \u91c7\u7b2c\u4e00\u79cd\u77ff\uff0c\u90a3\u4e48\u5de6\u8fb9\u7684\u7b2c\u4e00\u79cd\u77ff\u90fd\u4f1a\u88ab\u91c7\uff0c\u4e0e\u4e0a\u9762\u65e0\u5173\uff0c\u4e0a\u9762\u5219\u4ece\u4e24\u79cd\u60c5\u51b5\u4e2d\u53d6\u6700\u5927\u503c\u3002\n\n\u90a3\u4e48\u5c31\u53ef\u4ee5\u5148\u7528\u524d\u7f00\u548c\u9884\u5904\u7406\uff0c\u72b6\u6001\u8f6c\u79fb\u4e3a $f_{i,j,0}=max(f_{i-1,j,1},f_{i-1,j,0})+a_{i,j}$\n\n\u91c7\u7b2c\u4e8c\u79cd\u77ff\u540c\u7406\uff0c\u90a3\u4e48\u6700\u7ec8\u7b54\u6848\u5219\u4e3a $\\max(f_{n,m,0},f_{n,,1})$\u3002 \n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=505;\nint a[N][N],b[N][N],n,m;\nint f[N][N][2];\nint main(){\n\twhile(scanf(\"%d%d\",&n,&m)){\n\t\tif(n==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t\t\tf[i][j][0]=f[i][j][1]=0;//\u591a\u6d4b\uff0c\u6240\u4ee5\u66f4\u65b0\u6570\u7ec4 \n\t\t\t\ta[i][j]+=a[i][j-1];//\u9884\u5904\u7406\u524d\u7f00\u548c \n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tscanf(\"%d\",&b[i][j]);\n\t\t\t\tb[i][j]+=b[i-1][j];\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tf[i][j][0]=max(f[i-1][j][1],f[i-1][j][0])+a[i][j];//\u72b6\u6001\u8f6c\u79fb \n\t\t\t\tf[i][j][1]=max(f[i][j-1][0],f[i][j-1][1])+b[i][j];\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",max(f[n][m][0],f[n][m][1]));\n\t}\n\treturn 0;\n}\n```\n\n\n\n\n",
        "postTime": 1618469676,
        "uid": 277664,
        "name": "\u968f\u4fbfAK",
        "ccfLevel": 6,
        "title": "P2380 \u72d7\u54e5\u91c7\u77ff \u9898\u89e3"
    },
    {
        "content": "\u611f\u89c9\u8fd9\u9898\u9898\u610f\u6709\u70b9\u4ee4\u4eba\u61f5\u903c\uff08\u53cd\u6b63\u6211\u7b2c\u4e00\u6b21\u770b\u65f6\u6ca1\u770b\u61c2\uff09\uff0c\u5c24\u5176\u662f\u63d0\u793a\u4e2d\u7684\u90a3\u53e5\u8bdd\n\n```cpp\n\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u80fd\u8f6c\u5f2f\uff0c\u53ea\u80fd\u8d70\u76f4\u8def\u3002\n```\n\n\u8fd9\u4ee4\u6211\u8c41\u7136\u5f00\u6717\uff0c**\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c(i,j)\u6211\u4eec\u9009\u62e9\u8f6c\u8d70yeyenum,\u90a3\u4e48(i,j-1),(i,j-2)\u4e00\u76f4\u5230(i,1)\u5230\u9700\u8981\u5411\u5de6\u8f6c\u8d70yeyenum\u3002** bloggium\u4e5f\u540c\u7406\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u8bbe$dp_{i,j}$\u4e3a**\u4ee5(i,j)\u4e3a\u5de6\u4e0b\u89d2\u7684\u77e9\u9635\u4e2d\u53ef\u4ee5\u505a\u5230\u7684\u6700\u5927\u91c7\u77ff\u91cf**,\u4f9d\u636e\u6211\u4eec\u524d\u9762\u63d0\u5230\u7684\u6027\u8d28\uff0c\u6700\u5916\u56f4\u7684\u77ff\u7269\u9700\u8981\u4e00\u5217\u6216\u4e00\u884c\u6574\u4e2a\u53d6\u6389\uff0c\u540c\u65f6\u4e0e\u5904\u7406\u524d\u7f00\u548c\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b$dp_{i,j}=max(dp_{i,j-1}+sum1_{i,j},dp_{i-1,j}+sum2_{i,j})$\uff0c\u6700\u7ec8\u7b54\u6848\u5c31\u662f$dp_{n,m}$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct oi {\n\tint y,b;\n} a[501][501];\nint n,m;\nint sum1[501][501],sum2[501][501];\nint dp[501][501];\nint main() {\n\twhile(1) {//\u6709\u591a\u7ec4\u6d4b\u8bd5\u6570\u636e\uff01\uff01\uff01\n\t\tcin>>n>>m;\n\t\tif(n==0&&m==0) {\n\t\t\treturn 0 ;\n\t\t} \n\t\tfor(int i=1; i<=n; i++) {\n\t\t\tfor(int j=1; j<=m; j++) {\n\t\t\t\tscanf(\"%d\",&a[i][j].y);\n\t\t\t}\n\t\t}\n\t\tfor(int i=1; i<=n; i++) {\n\t\t\tfor(int j=1; j<=m; j++) {\n\t\t\t\tscanf(\"%d\",&a[i][j].b);\n\t\t\t}\n\t\t}\n\t\tfor(int i=1; i<=n; i++) {//\u9884\u5904\u7406\u524d\u7f00\u548c\uff0c\u5411\u4e0a\u6216\u5411\u5de6\u65f6\u7684\u65b9\u5411\u5217\u8fd8\u662f\u884c\u9700\u8981\u6ce8\u610f\n\t\t\tfor(int j=1; j<=m; j++) {\n\t\t\t\tsum1[i][j]=sum1[i][j-1]+a[i][j].y;\n\t\t\t}\n\t\t}\n\t\tfor(int i=1; i<=n; i++) {\n\t\t\tfor(int j=1; j<=m; j++) {\n\t\t\t\tsum2[i][j]=sum2[i-1][j]+a[i][j].b;\n\t\t\t}\n\t\t}\n\t\tfor(int i=1; i<=n; i++) {\n\t\t\tfor(int j=1; j<=m; j++) {\n\t\t\t\tdp[i][j]=max(dp[i][j-1]+sum2[i][j],dp[i-1][j]+sum1[i][j]);//dp\u8f6c\u79fb\n\t\t\t}\n\t\t}\n\t\tcout<<dp[n][m]<<endl;\n\t}\n\n\treturn 0;\n}\n```\n\n",
        "postTime": 1603686877,
        "uid": 175011,
        "name": "rfsfreffr",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2380 \u3010\u72d7\u54e5\u91c7\u77ff\u3011"
    },
    {
        "content": "\u9898\u76ee\u672c\u8eab\u8fd8\u4e0d\u662f\u5f88\u96be\uff0c\u4f46\u662f\u65e0\u5948\u672c\u4eba\u592a\u84bb\uff0c\u9898\u76ee\u610f\u601d\u7406\u89e3\u9519\u4e86\u5bfc\u81f4\u4ea4\u4e86n\u53d1\u90fd\u6ca1\u8fc7\uff0c\u968f\u540e~~\u70b9\u5f00\u9898\u89e3~~\u624d\u4ecedalao\u4eec\u7684\u4ee3\u7801\u4e2d\u641e\u61c2\u9898\u76ee\u7684\u610f\u601d\u3002\u3002\u3002\u8fd9\u91cc\u6211\u628a\u81ea\u5df1\u7684\u66f2\u89e3\u8bf4\u660e\u4e00\u4e0b\u4ee5\u5e2e\u52a9\u90a3\u4e9b\u548c\u6211\u4e00\u6837\u7406\u89e3\u9519\u7684\u4eba\u80fd\u5c3d\u5febAC\n\n\u5982\u679c\u6211\u4eec\u7684\u4f20\u9001\u5e26\u662f\u8fd9\u4e48\u653e\u7684\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zkmddr6b.png)\n\n\u6b64\u65f6\u7684\u9ed1\u8272\u7684\u7403\u5e76\u4e0d\u4f1a\u79fb\u52a8\u5230\u767d\u8272\u7403\u7684\u4f4d\u7f6e(\u4e5f\u5c31\u662f\u8bf4\u6211\u4eec\u6ca1\u529e\u6cd5\u8ba9\u9ed1\u8272\u7684\u6c42\u5f3a\u884c\u5361\u8fdb\u7ea2\u8272\u7684\u8f68\u9053)\n\n~~\u5c11\u6253\u6e38\u620f\u591a\u505a\u9898~~\n\n\u90a3\u4e48\u5269\u4e0b\u6765\u7684\u5c31\u662f\u4e00\u4e2a\u6bd4\u8f83\u57fa\u7840\u7684dp\u4e86\n\n\u6211\u4eec\u5047\u8bbe$f[i][j]$\u4e3a\u4ece\u539f\u70b9\u5230$(i,j)$\u7684\u65f6\u5019\u7684\u8fd9\u4e2a\u5c0f\u77e9\u9635\u91cc\u9762\u7684\u6700\u5927\u7684\u77ff\u77f3\u6570\u91cf\n\n\u7531\u4e8e\u524d\u9762\u6211\u4eec\u7684\u6b67\u4e49\u5df2\u7ecf\u89e3\u91ca\u6e05\u695a\u4e86\uff0c \u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5982\u679c$( i , j )$\u4f4d\u7f6e\u4e0a\u7684\u4f20\u9001\u5e26\u65b9\u5411\u662f\u5411\u53f3\u7684\uff0c\u90a3\u4e48$( i, j-1 )$\u7684\u4f4d\u7f6e\u4e0a\u548c$( i, j+1 )$\u7684\u4f4d\u7f6e\u4e0a\u7684\u65b9\u5411\u5e94\u8be5\u662f\u540c\u5411\u7684\u3002\u540c\u7406\u4e5f\u53ef\u4ee5\u63a8\u5230\u7ad6\u76f4\u65b9\u5411\u4e0a\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u4e00\u4e2a\u57fa\u672c\u7684\u8f6c\u79fb\u65b9\u7a0b\u5c31\u53ef\u4ee5\u5199\u51fa\u6765\u4e86\uff1a\n\n$f[i][j]=max(f[i-1][j]+a[i][1...j],f[i][j-1]+b[1...i][j]);$\n\n\u8fd9\u91cc\u8fd8\u6709\u4e00\u70b9\u5c31\u662f\u8981\u628ab\u77ff\u548cy\u77ff\u5206\u5f00\u5230\u4e24\u4e2a\u6570\u7ec4\u91cc\u9762\u53bb\u5b58\u50a8\u3001\n\n\u7136\u540e\u53d1\u73b0\u6211\u4eec\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u6765\u52a0\u901f\u8f6c\u79fb\uff0c\u6700\u540e\u7b54\u6848\u5c31\u662ff[1][1]\u5230f[n][m]\u4e2d\u7684\u6700\u5927\u503c\n\n\u5751\u70b9\uff1a\n\u8bfb\u5165\u7684\u987a\u5e8f\u4e0d\u8981\u641e\u6df7\u4e86\n\u8981\u8bb0\u4f4f\u662f\u591a\u7ec4\u6570\u636e\uff0c\u6240\u4ee5\u6bcf\u6b21\u641e\u5b8c\u4e4b\u540e\u8981\u8bb0\u5f97\u91cd\u7f6e\n\nAC\u4ee3\u7801\uff1a\n```c\n#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn=1926;\nint s1[maxn][maxn],s2[maxn][maxn],f[maxn][maxn],n,m;\nint aa,bb;\ninline void read(int &x){\n    x = 0;\n    char c = getchar();\n    while(c<'0'||c>'9') c = getchar();\n    while(c>='0'&&c<='9'){\n        x = (x<<3)+(x<<1)+c-'0';\n        c = getchar();\n    }\n}\nint main(void) {\n\twhile(1) {\n\t\tscanf(\"%d %d\",&n,&m);\n\t\tif(n+m==0) break;\n\t\tmemset(s1,0,sizeof(s1));\n\t\tmemset(s2,0,sizeof(s2));\n\t\tmemset(f,0,sizeof(f));\n\t\tfor(int i=1; i<=n; i++) {\n\t\t\tfor(int j=1; j<=m; j++) {\n\t\t\t\tread(aa);\n\t\t\t\ts1[i][j]=s1[i][j-1]+aa;\n\t\t\t}\n\t\t}\n\t\tfor(int i=1; i<=n; i++) {\n\t\t\tfor(int j=1; j<=m; j++ ) {\n\t\t\t\tread(bb);\n\t\t\t\ts2[i][j]=s2[i-1][j]+bb;\n\t\t\t}\n\t\t}\n\t\tint ans=-1;\n\t\tfor(int i=1; i<=n; i++) {\n\t\t\tfor(int j=1; j<=m; j++) {\n\t\t\t\tf[i][j]=max(f[i-1][j]+s1[i][j],f[i][j-1]+s2[i][j]);\n\t\t\t\tans=max(ans,f[i][j]);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",ans);\n\t}\n}\n```\n",
        "postTime": 1591382961,
        "uid": 109266,
        "name": "Michael_Kong",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2380 \u3010\u72d7\u54e5\u91c7\u77ff\u3011"
    },
    {
        "content": "# \u72d7\u54e5\u91c7\u77ff\n\u989d\u3002\u3002\u3002~~\u770b\u4e0d\u61c2\u9898\u4ec0\u4e48\u610f\u601d~~ \u611f\u89c9\u633a\u7b80\u5355\u7684\uff0c\u5176\u5b9e\u5c31\u662f\u5efa\u7acb\u4e00\u4e2a**\u50cf\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb**\u4e00\u6837\u7684\u6846\u67b6\uff0c\u7136\u540e\u5750\u6807\u8f74\u4e0a\u77ff\u7684\u6700\u5927\u6570\u91cf,\u770bdalao\u4eec\u8bf4\u662f```\u68cb\u76d8DP```\uff08\u597d\u50cf\u662f\u7684\uff09;\n\n## \u57fa\u672c\u601d\u8def\uff1a\n#### \u72b6\u6001\uff1a\n\u8bbe ``` f[i][j]``` \u4e3a ```(1,1)``` \u5230 ```(i,j)``` \u7684\u5b50\u77e9\u9635\u4e2d\u7684\u6700\u5927\u91c7\u77ff\u91cf\u3002\n#### \u6838\u5fc3\u601d\u8def\uff1a\n\u7531\u9898\u610f\u6211\u4eec\u53ef\u77e5\uff0c\u5982\u679c\u70b9 ```(i,j)``` \u7684\u4f20\u9001\u5e26\u5411\u5de6\uff0c**\u90a3\u4e48\u70b9 ```(i,j-1)``` \u53ca\u5176\u5de6\u8fb9\u4e00\u5b9a\u662f\u5411\u5de6**\uff0c\u540c\u7406\uff0c\u5982\u679c  ```(i,j)``` \u7684\u4f20\u9001\u5e26\u5411\u4e0a\uff0c**\u90a3\u4e48\u70b9``` (i-1,j) ```\u53ca\u5176\u4e0a\u8fb9\u7684\u70b9,\u4e00\u5b9a\u4e5f\u662f\u5411\u4e0a**\u3002\n#### \u6570\u7ec4\uff1a\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u53bb\u7ef4\u62a4\u4e00\u6bb5\u533a\u95f4\u7684\u91c7\u77ff\u91cf\u3002  \n- ```a[i][]```\u4e3a\u77ff```yeyenum```(\u7b2c```i```\u884c)**\u5411\u53f3\uff08\u5373\u5411\u897f\uff09**\u7684\u524d\u7f00\u548c;(\u524d\u7f00\u548c\u5e94\u8be5\u662f\u77e5\u9053\u7684)\n-  ```b[i][]```\u4e3a\u77ff```bloggium```(\u7b2c```i```\u884c)**\u5411\u4e0a\uff08\u5373\u5411\u5317\uff09**\u7684\u524d\u7f00\u548c;\n\n#### \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\u5728\u72b6\u6001\u8f6c\u79fb\u65f6\uff0c**\u6211\u4eec\u53ea\u8003\u8651```(i,j) ```\u7684\u4e24\u79cd\u65b9\u5411**\u3002\u8bbe``` a\u6570\u7ec4\u8bb0\u5f55\u5411\u5de6``` \u7684\u524d\u7f00\u548c\uff0c ```b\u6570\u7ec4\u8bb0\u5f55\u5411\u4e0a``` \u7684\u524d\u7f00\u548c\uff0c\u90a3\u4e48\u8f6c\u79fb\u65b9\u7a0b\u4e3a:\n\n$\nf[i][j]=max(f[i-1][j]+a[i][j],f[[i][j-1]+b[i][j]);\n$\n\n#### \u6ce8\u610f\uff1a\n1. \u8bfb\u5165\u987a\u5e8f\uff1a\u5148 ```yeyenum\uff08\u5411\u897f\uff09\u540e bloggium \uff08\u5411\u5317\uff09```\u3002\n2. \u7ed3\u679c ```\uff08ans\uff09``` \u4e3a ```f[1][1]``` \u5230 ```f[n][m]``` \u7684\u6700\u5927\u503c\uff0c\u4e3a\u4e86\u51cf\u5c11\u4e00\u904d\u641c\u7d22\u65f6\u95f4\uff0c**\u53ef\u4ee5\u5728\u6bcf\u6b21\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u540e\u5bf9ans\u53d6\u6700\u5927\u503c\u3002**\n3. \u5efa\u8bae\u4f1a\u5199\u5feb\u8bfb\u7684\u5199\u5feb\u8bfb\uff0c**\u80fd\u51cf\u5c11\u597d\u51e0\u500d\u7684\u65f6\u95f4**\u3002\n\n## \u4ee3\u7801\uff1a\n#### Code:\n```cpp\n#include <stdio.h>\n#include <cstring>\n\nint f[505][505],a[505][505],b[505][505];\ninline int max(int a,int b){\n    return a>b?a:b;\n}\n\nint read(){\n\tint a1=0,k1=1;char c1=getchar();\n\twhile(c1<'0'||c1>'9'){\n\t\tif(c1=='-')k1=-1;c1=getchar();\n\t}\n\twhile(c1>='0'&&c1<='9'){\n\t\ta1=a1*10+c1-'0';\n\t\tc1=getchar();\n\t}\n\treturn a1*k1;\n}\n\nint main(){\n    int n,m,ans,x;\n    while(1){\n    \tn=read();m=read();\n    \tif(!n||!m)break;\n        memset(f,0,sizeof(f));\n        ans=0;\n        for(int i=1;i<=n;++i){\n            for(int j=1;j<=m;++j){\n            \tx=read();\n\t\ta[i][j]=a[i][j-1]+x;//\u5411\u897f;\n            }\n        }\n        for(int i=1;i<=n;++i){\n        \tfor(int j=1;j<=m;++j){\n        \t\tx=read();\n\t\t\tb[i][j]=b[i-1][j]+x;//\u5411\u5317;\n        \t}\n        }\n        for(int i=1;i<=n;++i){\n        \tfor(int j=1;j<=m;++j){\n                        f[i][j]=max(f[i-1][j]+a[i][j],f[i][j-1]+b[i][j]);\n\t\t        ans=max(ans,f[i][j]);\n            }\n        }\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}\n\n```\n\n## \u539f\u9898\uff1a\n[\u3010\u6d1b\u8c37\u3011P2380 \u72d7\u54e5\u91c7\u77ff](https://www.luogu.com.cn/problem/P2380)",
        "postTime": 1583944218,
        "uid": 228788,
        "name": "ChangYiMing",
        "ccfLevel": 0,
        "title": "P2380 \u72d7\u54e5\u91c7\u77ff"
    },
    {
        "content": "\u9996\u5148\uff0c\u62ff\u5230\u9898\u76ee\u540e\uff0c\u5bb9\u6613\u53d1\u73b0\u672c\u9898 dp \u53ef\u505a\uff0c\u6570\u636e $1\\le n,m\\le 500$\uff0cdp $O(nm)$ \u53ef\u4ee5\u8fc7\u3002\n### \u601d\u8def\u5206\u6790\n\u9996\u5148\uff0c\u6bcf\u6761\u9053\u8def\u90fd\u53ea\u80fd\u5411\u5317\u6216\u8005\u5411\u897f\uff0c\u6240\u4ee5\u8bf4\u6211\u4eec\u5c31\u53ef\u4ee5\u5b9a\u4e49 $dp_{i,j}$\uff0c\u8868\u793a\u4ece\u5de6\u4e0a\u89d2\u5f00\u59cb\u7684 $i\\times j$ \u8fd9\u4e2a\u77e9\u9635\u4e2d\u7684\u6700\u4f18\u89e3\u3002\u7136\u540e\uff0c\u6bcf\u6761\u7ebf\u8def\u7684\u7b54\u6848\u53ef\u4ee5\u4f7f\u7528\u524d\u7f00\u548c\u7edf\u8ba1\uff0c$sb_{i,j}$ \u8868\u793a $(i,j)$ \u8fd9\u4e2a\u4f4d\u7f6e\u8fd0\u8f93 BE \u7684\u6570\u91cf\uff1b\u540c\u7406 $sn_{i,j}$ \u8868\u793a $(i,j)$ \u8fd9\u4e2a\u4f4d\u7f6e\u8fd0\u8f93 NEW \u7684\u6570\u91cf\u3002\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u60f3\uff1a\u5982\u679c\u5f80\u897f\u8fb9\u8d70\uff0c\u90a3\u4e48\u77e9\u9635\u51cf\u5c11\u4e00\u884c\uff0c\u7b54\u6848\u4e3a $dp_{i-1,j}+sb_{i,j}$\uff1b\u5426\u5219\u5f80\u5317\u8d70\uff0c\u77e9\u9635\u51cf\u5c11\u4e00\u5217\uff0c\u7b54\u6848\u4e3a $dp_{i,j-1}+sb_{i,j}$\u3002\u7efc\u4e0a\uff0c$dp_{i,j}=\\max{dp_{i-1,j}+sb_{i,j},dp_{i,j-1}+sb_{i,j}}$\uff0c\u521d\u59cb\u72b6\u6001 dp \u5168\u90e8\u4e3a 0\uff0c\u7b54\u6848\u4e3a $dp_{n,m}$\u3002\n\n\u65f6\u95f4\u548c\u7a7a\u95f4\u590d\u6742\u5ea6\u5747\u4e3a $O(nm)$\uff0c\u53ef\u8fc7\u3002\n### AC Code:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,dp[505][505],sb[505][505],sn[505][505];\nint main(){\n\twhile(scanf(\"%d%d\",&n,&m)!=EOF&&n&&m){\n\t\tmemset(dp,0,sizeof(dp));//\u591a\u7ec4\u6d4b\u8bd5\u6570\u636e\u6ce8\u610f\u521d\u59cb\u5316\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(int j=1,BE;j<=m;j++){\n\t\t\t\tscanf(\"%d\",&BE);\n\t\t\t\tsb[i][j]=sb[i][j-1]+BE;\n\t\t\t}\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(int j=1,NEW;j<=m;j++){\n\t\t\t\tscanf(\"%d\",&NEW);\n\t\t\t\t\tsn[i][j]=sn[i-1][j]+NEW;//\u524d\u7f00\u548c\n\t\t\t} \n\t\tfor(int i=1;i<=n;i++)\n\t\t\tfor(int j=1;j<=m;j++)\n\t\t\t\tdp[i][j]=max(dp[i-1][j]+sb[i][j],dp[i][j-1]+sn[i][j]);//\u72b6\u6001\u8f6c\u79fb\n\t\tprintf(\"%d\\n\",dp[n][m]);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1636776550,
        "uid": 556362,
        "name": "UnnamedOrNamed",
        "ccfLevel": 5,
        "title": "P2380 \u72d7\u54e5\u91c7\u77ff \u9898\u89e3"
    },
    {
        "content": "#### \u8fd9\u91cc\u63d0\u4f9b\u4e00\u4e2a\u548c\u6b63\u5e38\u505a\u6cd5\u6bd4\u8f83\u4e0d\u540c\u7684\u505a\u6cd5\uff0c\u867d\u8bf4\u8c8c\u4f3c\u66f4\u590d\u6742\u4e86\u4e00\u70b9\u70b9\uff0c\u4f46\u662f\u7684\u786e\u662f\u6211\u7684\u7b2c\u4e00\u53cd\u5e94(\u53ef\u89c1\u6211\u6709\u591a\u849f)\n\nsuma[i][j]\u8868\u793a\u7b2ci\u884c\u5411\u5de6\u7684\u77ff\u7269**\u5411\u5de6**\u7684\u524d\u7f00\u548c\n\nsumb[i][j]\u8868\u793a\u7b2ci\u884c\u5411\u4e0a\u7684\u77ff\u7269**\u5411\u5de6**\u7684\u524d\u7f00\u548c\n\n**\u8fd9\u91cc\u6ce8\u610f\u4e00\u70b9\uff0c\u4e0e\u5176\u4ed6\u5de8\u4f6c\u7ed9\u7684\u9898\u89e3\u4e0d\u540c\uff0c\u6211\u7684\u524d\u7f00\u548c\u90fd\u662f\u8868\u793a\u5411\u5de6\u7684\uff01\uff01\n**\n\n**dp[i][j]\u8868\u793a\u524di\u884c\uff0c\u5411\u5de6\u7684\u4f20\u9001\u5e26\u6700\u591a\u4fee\u5230\u7b2cj\u5217\u7684\u6700\u591a\u91c7\u77ff\u6570\n**\n\n\u7531\u4e8e\u5411\u5de6\u4fee\u5efa\u7684\u4f20\u9001\u5e26\u4ece\u4e0a\u5f80\u4e0b\u4e00\u5b9a\u662f\u4e0d\u4f1a\u4e0b\u964d\u7684\uff0c\u56e0\u4e3a\u8fd9\u6837\u4e0d\u4fee\u5411\u5de6\u7684\u4f20\u9001\u5e26\u7684\u90e8\u5206\u5c31\u4e00\u5b9a\u80fd\u4fee\u5411\u4e0a\u7684\u4f20\u9001\u5e26\uff0c\u800c\u907f\u514d\u4e86\u6d6a\u8d39\u7a7a\u95f4\u3002\n\n\u4e8e\u662f\u6211\u4eec\u5f97\u5230\u5982\u4e0b\u65b9\u7a0b\uff1a\n\n**dp[i][j]=max(dp[i-1][k])+suma[i][j]+sumb[i][m]-sumb[i][j] (0<=k<=j)**\n\n\u8fd9\u4e2a\u65b9\u7a0b\u770b\u4f3cO(n3)\uff0c\u4f46\u5b9e\u9645\u4e0a\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2amaxx[]\u6570\u7ec4\u8f7b\u6613\u7684\u628ak\u7684\u679a\u4e3e\u7ed9\u7701\u7565\u6389\u3002\u8fd9\u6837\u6211\u4eec\u7684\u590d\u6742\u5ea6\u5c31\u53d8\u6210\u4e86O(n2)\n\n\u6700\u540e\u8d34\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N = 510;\nint dp[N][N],a[N][N],b[N][N],suma[N][N],sumb[N][N],maxx[N],n,m;\ninline int read() {\n    int ans=0,f=1;\n    char ch=getchar();\n    while(!isdigit(ch)) {if(ch=='-') f=-1; ch=getchar();}\n    while(isdigit(ch)) {ans=ans*10+ch-48; ch=getchar();}\n    return ans*f;\n}\nint main() {\n    while(1) {\n        int ans=0;\n        memset(dp,0,sizeof(dp));\n        memset(suma,0,sizeof(suma));\n        memset(sumb,0,sizeof(sumb));\n        n=read(); m=read();\n        if(n+m==0) break;\n        memset(dp,0,sizeof(dp));\n        for(int i=1;i<=n;i++)\n            for(int j=1;j<=m;j++) a[i][j]=read();\n        for(int i=1;i<=n;i++)\n            for(int j=1;j<=m;j++) b[i][j]=read();\n        for(int i=1;i<=n;i++)\n            for(int j=1;j<=m;j++) suma[i][j]=suma[i][j-1]+a[i][j],sumb[i][j]=sumb[i][j-1]+b[i][j];\n        for(int i=0;i<=m;i++) dp[1][i]=suma[1][i]+sumb[1][m]-sumb[1][i];\n        for(int i=2;i<=n;i++) {\n        \tmaxx[0]=dp[i-1][0];\n            for(int j=1;j<=m;j++) maxx[j]=max(maxx[j-1],dp[i-1][j]);\n            for(int j=0;j<=m;j++) dp[i][j]=maxx[j]+suma[i][j]+sumb[i][m]-sumb[i][j],ans=max(ans,dp[i][j]);\n        }\n        printf(\"%d\\n\",ans);\t\t\n    }\n    return 0;\n}\n```\n\n",
        "postTime": 1538666860,
        "uid": 22840,
        "name": "\u5218\u5907",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2380 \u3010\u72d7\u54e5\u91c7\u77ff\u3011"
    },
    {
        "content": "## P2380 \u72d7\u54e5\u91c7\u77ff \u9898\u89e3\n\u4e8c\u7ef4 `dp` \u9898\u3002\n\n\u7531\u9898\u76ee\u77e5\uff0c `yeyenum` \u77ff\u53ea\u80fd\u7531\u4e1c\u897f\u65b9\u5411\u7684\u4f20\u9001\u5e26\u8fd0\u8f93\uff0c\u800c `bloggium` \u77ff\u53ea\u80fd\u7531\u5357\u5317\u65b9\u5411\u7684\u4f20\u9001\u5e26\u8fd0\u8f93\u3002\n\n\u90a3\u4e48\u5bf9\u4e8e\u67d0\u4e2a\u5730\u65b9\u7684 `yeyenum` \u77ff\uff0c\u5982\u679c\u8981\u5f00\u91c7\uff0c\u56e0\u4e3a\u662f\u7531\u4e1c\u897f\u65b9\u5411\u7684\u4f20\u9001\u5e26\u8fd0\u8f93\uff0c\u90a3\u4e48\u5b83\u5de6\u8fb9\u7684 `yeyenum` \u77ff\u80af\u5b9a\u90fd\u8981\u5f00\u91c7\uff0c\u4f46\u5b83\u5de6\u8fb9\u7684 `bloggium` \u77ff\u5c31\u4e0d\u80fd\u88ab\u5f00\u91c7\u4e86\u3002 `bloggium` \u77ff\u540c\u7406\u3002\n\n\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528 `dp` \u6765\u89e3\u51b3\u6b64\u9898\u3002\u4ee4 $dp_{i, j, 0}$ \u4e3a\u4ee5\u7b2c `i` \u884c\uff0c\u7b2c `j` \u5217\u4e3a\u53f3\u4e0b\u89d2\u7684\u77ff\u533a\u7684\u6700\u5927\u91c7\u77ff\u91cf\uff0c\u4e14\u7b2c `i` \u884c\uff0c\u7b2c `j` \u5217\u7684 `bloggium` \u77ff\u8981\u5f00\u91c7\uff0c $dp_{i, j, 1}$ \u540c\u7406\u3002\n\n\u67d0\u4e2a\u5730\u65b9\u65e0\u8bba\u662f\u5f00\u91c7\u4ec0\u4e48\u77ff\uff0c\u5b83\u5de6\u4e0a\u90e8\u5206\u7684\u77ff\u533a\u90fd\u4e0d\u4f1a\u53d7\u5230\u5f71\u54cd\uff0c\u5f71\u54cd\u7684\u662f\u8fd9\u4e2a\u77ff\u6240\u5728\u7684\u884c\u548c\u5217\uff08\u6216\u8005\u8bf4\u88ab\u6240\u5728\u7684\u884c\u548c\u5217\u7684\u77ff\u5f71\u54cd\uff09\u3002\n\n\u53ef\u4ee5\u5f97\u5230\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$$dp_{i, j, 0} = \\max(dp_{i, j - 1, 0}, dp_{i, j - 1, 1}) + \\sum_{k = 1}^{i}bloggium_{k, j}$$\n\n$$dp_{i, j, 1} = \\max(dp_{i - 1, j, 0}, dp_{i - 1, j, 1}) + \\sum_{k = 1}^{j}yeyenum_{i, k}$$\n\n\u6ce8\u610f\u5230 $\\sum_{k = 1}^{i}bloggium_{k, j}$ \u662f\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u4f18\u5316\u7684\uff0c\u5c31\u53ef\u4ee5\u5c06\u65f6\u95f4\u590d\u6742\u5ea6\u964d\u5230 $O(n \\times m)$ \u4e86\u3002\n\nCode\uff1a\n```cpp\n#include <stdio.h>\n#define re register\nint n, m, g, sum1[501][501], sum2[501][501], dp[501][501][2];\nint main() {\n\twhile(~scanf(\"%d%d\", &n, &m)) {\n\t\tif(!n && !m) return 0;\n\t\tfor(re int i = 1; i <= n; ++i)\n\t\t\tfor(re int j = 1; j <= m; ++j)\n\t\t\t\tscanf(\"%d\", &g), sum1[i][j] = sum1[i][j - 1] + g;\n\t\tfor(re int i = 1; i <= n; ++i)\n\t\t\tfor(re int j = 1; j <= m; ++j)\n\t\t\t\tscanf(\"%d\", &g), sum2[i][j] = sum2[i - 1][j] + g;\n\t\tfor(re int i = 1; i <= n; ++i)\n\t\t\tfor(re int j = 1; j <= m; ++j)\n\t\t\t\tdp[i][j][0] = (dp[i][j - 1][0] < dp[i][j - 1][1] ? dp[i][j - 1][1] : dp[i][j - 1][0]) + sum2[i][j], dp[i][j][1] = (dp[i - 1][j][0] < dp[i - 1][j][1] ? dp[i - 1][j][1] : dp[i - 1][j][0]) + sum1[i][j];\n\t\tprintf(\"%d\\n\", (dp[n][m][0] < dp[n][m][1] ? dp[n][m][1] : dp[n][m][0]));\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1636782990,
        "uid": 490522,
        "name": "VividCycle",
        "ccfLevel": 7,
        "title": "P2380 \u72d7\u54e5\u91c7\u77ff \u9898\u89e3"
    },
    {
        "content": "\u5973\u5c11\u767d\u52fa $dp$\n\n\u7b80\u5316\u9898\u610f\uff1a$n\u00d7m$ \u7684\u7f51\u683c\u56fe\u4e2d\uff0c\u6bcf\u4e2a\u70b9\u4e24\u79cd\u77ff\u7269\uff0c\u7b2c\u4e00\u79cd\u77ff\u7269\u9700\u8981\u5411\u897f\u8fd0\u8f93\uff0c\u7b2c\u4e8c\u79cd\u77ff\u7269\u9700\u8981\u5411\u5317\u8fd0\u8f93\u3002\u4f60\u53ef\u4ee5\u9009\u62e9\u5728\u683c\u5b50\u4e0a\u5efa\u4e00\u6761\u5411\u897f\u6216\u5411\u5317\u7684\u4f20\u8f93\u5e26\uff0c\u53ea\u6709\u4f20\u8f93\u5230\u8fb9\u754c\u624d\u4f1a\u83b7\u5f97\u77ff\u7269\uff0c\u6c42\u80fd\u83b7\u5f97\u7684\u6700\u5927\u77ff\u7269\n\n\u9996\u5148\u5206\u6790\u9898\u76ee\uff0c\u56e0\u4e3a\u53ea\u6709\u4e00\u6761\u8def\u8d70\u5230\u8fb9\u754c\u624d\u4f1a\u83b7\u5f97\u77ff\u7269\uff0c\u6240\u4ee5\u5982\u679c $(x,y)$ \u5411\u897f\uff0c\u90a3\u4e48 $(x,1)$ \u5230 $(x,y)$ \u5c31\u4f1a\u5168\u90e8\u5411\u897f\uff1b\u5982\u679c $(x,y)$ \u5411\u5317\uff0c\u90a3\u4e48 $(1,y)$ \u5230 $(x,y)$ \u5c31\u4f1a\u5168\u90e8\u5411\u5317\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u60f3\u5230\u4e86\u524d\u7f00\u548c\u3002\n\n\u56e0\u4e3a\u53cd\u6b63\u6240\u6709\u70b9\u90fd\u8981\u5b89\u88c5\uff0c\u90a3\u6211\u4eec\u4e0d\u5982\u4ece $(n,m)$ \u70b9\u5f80\u56de\u53d6\n- \u5982\u679c $(n,m)$ \u5411\u5317\uff0c\u90a3\u4e48\u8f6c\u79fb\u5230 $(n,m-1)$\uff0c\u7b54\u6848\u52a0\u4e0a $s2[1][m]$ \u5230 $s2[n][m]$ \u7684\u503c\n- \u5982\u679c $(n,m)$ \u5411\u897f\uff0c\u90a3\u4e48\u8f6c\u79fb\u5230 $(n-1,m)$\uff0c\u7b54\u6848\u52a0\u4e0a $s1[n][1]$ \u5230 $s1[n][m]$ \u7684\u503c\n\n\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u53d1\u73b0\u5f80\u56de\u540c\u7406\uff0c\u53ef\u4ee5\u63a8\u5e7f\u5230 $(x,y)$ \uff0c\u8fd9\u6837\u4e0d\u5c31\u786e\u5b9a\u4e86\u6240\u6709\u70b9\u7684\u72b6\u6001\u4e86\u5417\uff1f\u5199\u6210\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u5f62\u5f0f\uff0c\u5c31\u4e0d\u4f1a\u70b8\u4e86\u3002\n\n$Code:$\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int N=1e3;\nbool vis[N][N][2];\nint n,m,s1[N][N],s2[N][N];\nll wnum[N][N],nnum[N][N];\nll ans,mem[N][N][2];\nll dfs(int x,int y,bool z)\n{\n\tll res=0;\n\tif(vis[x][y][z]) return mem[x][y][z];\n\tif(y<1||x<1) return 0;\n\tif(z==1) res+=max(dfs(x,y-1,1),dfs(x,y-1,0))+nnum[x][y];//\u5317\n\tif(z==0) res+=max(dfs(x-1,y,1),dfs(x-1,y,0))+wnum[x][y];//\u897f \n\tvis[x][y][z]=1;\n\treturn mem[x][y][z]=res;\n}\nint main()\n{\n\tint i,j;\n\twhile(cin>>n>>m){\n\t\tif(n==0&&m==0) break;\n\t\tmemset(nnum,0,sizeof(nnum));\n\t\tmemset(wnum,0,sizeof(wnum));\n\t\tmemset(vis,0,sizeof(vis));\n\t\tfor(i=1;i<=n;i++)\n\t\t\tfor(j=1;j<=m;j++)\n\t\t\t\tcin>>s1[i][j];\n\t\tfor(i=1;i<=n;i++)\n\t\t\tfor(j=1;j<=m;j++)\n\t\t\t\twnum[i][j]+=wnum[i][j-1]+s1[i][j];\n\t\tfor(i=1;i<=n;i++)\n\t\t\tfor(j=1;j<=m;j++)\n\t\t\t\tcin>>s2[i][j];\n\t\tfor(i=1;i<=m;i++)\n\t\t\tfor(j=1;j<=n;j++)\n\t\t\t\tnnum[j][i]+=nnum[j-1][i]+s2[j][i];\n\t\tans=max(dfs(n,m,1),dfs(n,m,0));\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n \treturn 0;\n}\n```\n\u65f6\u95f4\u590d\u6742\u5ea6$:O(tnm)$\n\n$Tips;$ \n- \u591a\u7ec4\u6570\u636e\u8bb0\u5f97\u60c5\u51b5\u524d\u7f00\u548c\u4ee5\u53ca\u8bb0\u5fc6\u5316\u6570\u7ec4\n- \u4e0d\u5f00 $long$ $long$ \u89c1\u7956\u5b97",
        "postTime": 1606395527,
        "uid": 225100,
        "name": "ice_in_sky",
        "ccfLevel": 0,
        "title": "P2380 \u72d7\u77ff\u91c7\u77ff"
    },
    {
        "content": "\u83dc\u9e21\u53c8\u6765\u6c34\u7eff\u9898\u4ee3\u7801\u4e86~\n\n\u9898\u76ee\u63cf\u8ff0\uff0c\u6838\u5fc3\u90e8\u5206\u5c31\u662f\u5728\u4e00\u4e2a\u77e9\u9635\u91cc\uff0c\u67d0\u4e2a\u70b9\u90fd\u53ef\u4ee5\u5411\u4e0a\u63a8\uff0c\u6216\u8005\u5411\u5de6\u63a8\uff0c\u800c\u8fd9\u4e00\u8def\u4e0a\u7684\u6bcf\u4e2a\u70b9\u90fd\u8981\u6309\u7167\u8fd9\u4e2a\u65b9\u5411\u63a8\u8fc7\u53bb\u6c42\u548c\u3002\n\n\u5176\u5b9e\u8fd9\u4e2a\u9898\u76ee\u5e76\u4e0d\u96be\uff0c\u53ea\u8981\u4f1adp\uff0c\u613f\u610f\u7528\u7eb8\u7b14\u753b\u56fe\uff0c\u53ef\u4ee5\u8f7b\u677e\u627e\u5230\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u7684\u3002\u5982\u679c\u5728\u4e00\u5f20\u56fe\u4e0a\u628a\u53ef\u80fd\u7684\u4f20\u9001\u5e26\u65b9\u5411\u5217\u51fa\u6765\uff0c\u53ef\u80fd\u4f1a\u5f97\u5230\u8fd9\u6837\u7684\u56fe\u7247\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/npin2ucx.png)\n\n\u90a3\u6211\u4eec\u968f\u4fbf\u627e\u5176\u4e2d\u7684\u4e00\u4efb\u610f\u4e00\u4e2a\u70b9\uff0c\u662f\u4e0d\u662f\u53d1\u73b0\u4e86\uff0c\u5bf9\u4e8e\u8fd9\u4e00\u70b9\u53ea\u6709\u4e24\u79cd\u53ef\u80fd\uff0c\u4e00\u79cd\u53ef\u80fd\u662f\u8fd9\u4e00\u70b9\u5411\u5de6\u4f20\u9012\uff0c\u4ed6\u4e0a\u9762\u7684\u6240\u6709\u70b9\u5c31\u90fd\u5411\u4e0a\u4f20\u9012\uff0c\u6216\u8005\u8fd9\u4e00\u70b9\u5411\u4e0a\u4f20\u9012\uff0c\u5de6\u4fa7\u7684\u70b9\u90fd\u5411\u5de6\u4f20\u9012\u3002\u5982\u679c\u6211\u4eec\u5b9a\u4e49a\u4e3a\u5411\u5de6\u4f20\u9012\u53ef\u4ee5\u5f97\u5230\u7684\u77ff\u4ea7\u4ef7\u503c\uff0c\u90a3\u4e48sa\u6570\u7ec4\u4fdd\u5b58\u8fd9\u4e2a\u70b9\u5de6\u4fa7\u6240\u6709\u70b9\u7684\u4ef7\u503c\u548c\u3002\u540c\u6837\u53ef\u4ee5\u5b9a\u4e49b\u6570\u7ec4\u548csb\u6570\u7ec4~~\uff08\u653e\u4e0b\u4f60\u90aa\u6076\u7684\u773c\u795e\uff09~~\u3002\u90a3\u5176\u4ed6\u7684\u5462\uff1f\u5c31\u662f\u5de6\u4e0a\u89d2\u70b9\u7684\u5f97\u5230\u7684\u6700\u4f18\u89e3\u3002\n\n\n\u90a3\u4e48\u5c31\u4e00\u5b9a\u53ef\u4ee5\u8f7b\u677e\u63a8\u5bfc\u51fa\u8fd9\u6837\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n\nf[i][j]=max(f[i][j-1]+sb[i][j],f[i-1][j]+sa[i][j]);\n\n\u54c8\u54c8\u54c8\uff0c\u753b\u5b8c\u56fe\u662f\u4e0d\u662f\u89c9\u5f97\u597d\u7b80\u5355\u5462\uff0c\u53ea\u8981\u8f93\u51fa\u6700\u540e\u7684f[n][m]\u5c31\u6709\u6700\u7ec8\u7684\u7b54\u6848\u4e86\u3002\n\n\u6211\u4eec\u53d1\u73b0\u51fa\u9898\u4eba\u975e\u5e38\u826f\u5fc3\u7684\u4e00\u70b9\uff0c\u5c31\u662f\u4f20\u9001\u5e26\u53ea\u80fd\u5411\u897f\u548c\u5317\uff0c\u4e5f\u5c31\u662f\u5de6\u6216\u8005\u4e0a\uff0c\u8fd9\u5c31\u4fdd\u8bc1\u6211\u4eec\u5728\u8f93\u5165a\u4e4b\u540e\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bb0\u5f55sa[i][j]\u6570\u7ec4\uff0c\u8f93\u5165b\u7684\u65f6\u5019\u53ef\u4ee5\u76f4\u63a5\u8bb0\u5f55sb[i][j]\u6570\u7ec4\u3002\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\nlong long n,m;\nlong long a[505][505],b[505][505],sa[505][505],sb[505][505];\nlong long f[505][505];\nint main()\n{\n\tscanf(\"%lld%lld\",&n,&m);\n\twhile(n+m!=0)\n\t{\n\t\tmemset(a,0,sizeof(a));//\u6570\u7ec4\u6e05\u7a7a \n\t\tmemset(b,0,sizeof(b));\n\t\tmemset(sa,0,sizeof(sa));\n\t\tmemset(sb,0,sizeof(sb));\n\t\tfor (int i=1;i<=n;i++)//\u6807\u8bb0ij\u4f4d\u7f6e\u90fd\u5411\u5de6\u63a8\u8fc7\u53bb\u7684\u4ef7\u503c \n\t\t\tfor (int j=1;j<=m;j++)\n\t\t\t{\n\t\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t\t\tsa[i][j]=sa[i][j-1]+a[i][j];\n\t\t\t}\n\t\tfor (int i=1;i<=n;i++) \n\t\t\tfor (int j=1;j<=m;j++)\n\t\t\t{\n\t\t\t\tscanf(\"%d\",&b[i][j]);\n\t\t\t\tsb[i][j]=sb[i-1][j]+b[i][j];\n\t\t\t}\n\t\tfor (int i=1;i<=n;i++)\n\t\t\tfor(int j=1;j<=m;j++)\n\t\t\t{\n\t\t\t\tf[i][j]=max(f[i][j-1]+sb[i][j],f[i-1][j]+sa[i][j]);\n\t\t\t } \n\t\tprintf(\"%lld\\n\",f[n][m]);\n\t}\n\treturn 0; \n} \n```\n",
        "postTime": 1605006249,
        "uid": 318195,
        "name": "Paris_Bentley",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P2380 \u3010\u72d7\u54e5\u91c7\u77ff\u3011"
    },
    {
        "content": "[P2380 \u72d7\u54e5\u91c7\u77ff](https://www.luogu.org/problem/P2380)\n\n\u5178\u578b\u7684\u65b9\u683cdp. \u8bbe$f[i][j]$\u8868\u793a\u5728$(i,j)$\u4f4d\u7f6e\u65f6\u7684\u6700\u5927\u503c\uff0c\u56e0\u4e3a\u4f20\u9001\u5e26\u5fc5\u987b\u662f\u76f4\u7684\uff0c\u6240\u4ee5\u5982\u679c\u5f53\u524d\u8fd9\u4e2a\u4f4d\u7f6e\u6709\u4e00\u6761\u4f20\u9001\u5e26\uff0c\u90a3\u4e48\u8fd9\u6761\u4f20\u9001\u5e26**\u5fc5\u5b9a\u5230\u8fbe\u67d0\u4e2a\u65b9\u5411\u7684\u8fb9\u754c**\uff08\u4e0d\u7136\u4fee\u4e86\u8fd9\u6761\u4f20\u9001\u5e26\u4e5f\u6ca1\u7528\uff09.\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u5199\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n\n>$f[i][j]=min(f[i-1][j]+x,f[i][j-1]+y)$\uff0c\u5176\u4e2dx\u548cy\u5206\u522b\u8868\u793a\u4e24\u4e2a\u65b9\u5411\u7684\u4f20\u9001\u5e26\u5230\u8fbe\u8fb9\u754c\u80fd\u591f\u8d21\u732e\u7684\u503c.\n\n\u53e6\u5916\u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\uff1a\u9898\u76ee\u662f\u6709\u591a\u7ec4\u6570\u636e\u7684\uff08\u8981\u4e0d\u7136\u90a3\u4e2a\u672b\u5c3e\u6709\u4ec0\u4e48\u7528\uff09\n\n```cpp\n#include<bits/stdc++.h>\n#define maxn 510\nusing namespace std;\nint n,m,a[maxn][maxn],b[maxn][maxn],f[maxn][maxn];\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\twhile(1){\n\t\tif(n==0&&m==0)break;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tscanf(\"%d\",&b[i][j]);\n\t\t\t}\n\t\t}\n        //\u8981\u770b\u597d\u5230\u5e95\u54ea\u4e2a\u77ff\u5bf9\u5e94\u54ea\u79cd\u60c5\u51b5\n\t\tint x,y;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tx=0,y=0;\n\t\t\t\tfor(int k=1;k<=i;k++)x+=b[k][j];\n\t\t\t\tfor(int k=1;k<=j;k++)y+=a[i][k];//\u8fd9\u91cc\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u4f18\u5316\u6389\u8fd9\u4e00\u7ef4\n\t\t\t\tf[i][j]=max(f[i][j-1]+x,f[i-1][j]+y);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",f[n][m]);\n\t\tscanf(\"%d%d\",&n,&m);\n\t}\n\treturn 0;\n} \n```\n",
        "postTime": 1571235511,
        "uid": 126621,
        "name": "HRLYB",
        "ccfLevel": 6,
        "title": "P2380 \u72d7\u54e5\u91c7\u77ff\uff08\u65b9\u683c\u578bdp\uff09"
    }
]