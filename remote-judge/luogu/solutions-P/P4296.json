[
    {
        "content": "### \u9898\u610f\u8f6c\u5316\uff1a\u7ed9\u51fa\u4e00\u4e2a\u6570 $n$ \uff0c\u6c42 $x^{2} \\equiv 1 \\pmod n$ \u89e3\u7684\u4e2a\u6570\n\u539f\u5f0f\u53ef\u5316\u4e3a\uff1a$x^{2}-1=k \\times n$ \u5176\u4e2d $k$ \u662f\u6b63\u6574\u6570\n\n\u56e0\u5f0f\u5206\u89e3\u53ef\u5f97\uff1a$(x+1)(x-1)=k \\times n$ \n\n\u5373 $n|(x+1)(x-1)$ \n\n\u63a5\u4e0b\u6765\u5c31\u5f88\u597d\u7406\u89e3\u4e86\uff1a\u9700\u8981\u6784\u9020 $a,b$ \u4f7f $a \\times b = n$\n\n\u5728 $a^{2}\\le n$ \u8303\u56f4\u5185\u679a\u4e3e $a$ \u5e76\u4f7f\n\n$a|(x-1),b|(x+1)$ \u6216 $a|(x+1),b|(x-1)$\n\n\u6ce8\uff1a$n=1$ \u662f\u552f\u4e00\u65e0\u89e3\u60c5\u51b5\n\n\u4e0a\u4ee3\u7801\n```cpp\n#include<cstdio>\n#include<set>/*\u7528 set \u662f\u4e3a\u4e86\u9632\u6b62\u91cd\u590d\u7b54\u6848\uff0c\u5982\u679c\u7528\u6570\u7ec4\u7136\u540e unique \u53bb\u91cd\u4e5f\u53ef\u4ee5*/\ntypedef long long ll;//\u4e0d\u5f00 long long \u89c1\u7956\u5b97\nstd::set<ll> s;\nint main(){\n\tll n;\n\tscanf(\"%lld\",&n);\n\tif(n==1){puts(\"None\");return 0;}//\u65e0\u89e3\n\tputs(\"1\");\n\tfor(register ll i=1;i*i<=n;i++)//\u679a\u4e3e a\n\t\tif(n%i==0){//\u5982\u679c\u6ee1\u8db3\u6761\u4ef6\uff08\u53ef\u4ee5\u6574\u9664\uff09\n\t\t\tll a=i,b=n/a;\n\t\t\tfor(register ll j=b+1;j<=n;j+=b)if((j+1)%i==0)s.insert(j);\n\t\t\tfor(register ll j=b-1;j<=n;j+=b)if((j-1)%i==0)s.insert(j);\n\t\t}\n\tfor(std::set<ll>::iterator it=s.begin();it!=s.end();it++)printf(\"%lld\\n\",*it);//\u7528\u6307\u9488\u8f93\u51fa\u6bd4\u8f83\u65b9\u4fbf\n\treturn 0;\n}\n\n```\n",
        "postTime": 1641824417,
        "uid": 593717,
        "name": "JuRuo_QAQ",
        "ccfLevel": 0,
        "title": "P4296 [AHOI2007] \u5bc6\u7801\u7bb1\u9898\u89e3"
    },
    {
        "content": "\u7531\u9898\u610f\u6709\n\n$x^2\\equiv 1\\;mod\\;n$\n\n\u5bf9\u9898\u76ee\u7684\u516c\u5f0f\u8fdb\u884c\u53d8\u5f62\n\n$x^2-1=k\\times n$\n\n$(x+1)(x-1)=k\\times n$\n\n\u7531\u552f\u4e00\u5206\u89e3\u5b9a\u7406\uff0c\u6211\u4eec\u6784\u9020$a,b,$\u4f7f\n\n$a|(x+1),b|(x-1)$\n\n\u6216\n\n$a|(x-1),b|(x+1)$\n\n\u7136\u540e\u6211\u4eec\u679a\u4e3e$a,b,$\u627e\u51fa\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u7684$x$\n\n\u6211\u4eec\u53ef\u4ee5\u4fdd\u8bc1\u6240\u6709\u7684$x$\u90fd\u88ab\u679a\u4e3e\u3002~~\u5218\u6c5d\u4f73\uff1a\u6709\u5174\u8da3\u7684\u8bfb\u8005\u53ef\u4ee5\u81ea\u884c\u67e5\u9605\u76f8\u5173\u8d44\u6599~~\n\n$p.s.:$ \u679a\u4e3e\u65f6\u7684\u5c0f\u6280\u5de7\uff0c\u4ee4$a\\le b$\uff0c\u5219\u679a\u4e3e$a$\uff0c\u679a\u4e3e\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u7684$kb+1\\;or\\;kb-1,\\;a$\u53ea\u7528\u679a\u4e3e\u5230$\\sqrt n$\n\n\u8bb0\u5f97\u5f00$long\\;long$~~\u8bf7\u5ffd\u7565\u6211\u7684#define int long long~~\n\n$Code$\n\n```cpp\n#pragma GCC optimize(2)\n#include <cstdio>\n#include <iostream>\n#include <set>\n#include <cmath>\n#define int long long\nusing namespace std;\nset<int> st;//set\u53bb\u91cd\nsigned main()\n{\n    int n,sn,b;\n    cin>>n;\n    sn=sqrt(n);\n    if(n==1)\n    {\n        puts(\"None\");\n        return 0;\n    }\n    st.insert(1);\n    for(int i=1;i<=sn;i++)\n    {\n        if(n%i==0)\n        {\n            b=n/i;\n            for(int j=b+1;j<=n;j+=b)\n                if((j+1)%i==0) st.insert(j);\n            for(int j=b-1;j<=n;j+=b)\n                if((j-1)%i==0) st.insert(j);\n        }\n    }\n    if(!st.size()) puts(\"None\");\n    for(set<int>::iterator it=st.begin();it!=st.end();it++)\n        printf(\"%d\\n\",*it);\n    return 0;\n}\n\n```",
        "postTime": 1587732797,
        "uid": 199750,
        "name": "\u8bd5\u8bd5\u4e8b\u5b9e\u4e0a\u5417",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4296 \u3010[AHOI2007]\u5bc6\u7801\u7bb1\u3011"
    },
    {
        "content": "\u9996\u5148\u53ef\u4ee5\u6839\u636e\u9898\u610f\u5217\u51fa\u4e00\u4e2a\u5f0f\u5b50\uff1a$(x^2-1)\\bmod n=0$\u3002\n\n\u7528\u5e73\u65b9\u5dee\u516c\u5f0f\u5c55\u5f00\u4e00\u4e0b\u5f97\u5230\uff1a$(x-1)(x+1)\\bmod n=0$\u3002\n\n\u8bbe $k=x-1$\uff0c\u90a3\u4e48\u539f\u5f0f\u5373\u4e3a $k(k+2)\\bmod n=0$\uff0c\u7136\u540e\u679a\u4e3e $n$ \u7684\u56e0\u5b50\uff0c\u8bbe $a,b$ \u90fd\u4e3a $n$ \u7684\u56e0\u5b50\u4e14\u6ee1\u8db3 $a\\times b=n$\u3002\n\n\u73b0\u5728\u679a\u4e3e\u4e00\u4e2a $j$\uff0c\u6ee1\u8db3 $0 \\le j \\le n$ \u4e14 $j\\bmod b=0$\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u5206\u7c7b\u8ba8\u8bba\u4e86\u3002\n\n- $(j-2)\\bmod a=0$\uff0c\u90a3\u4e48 $j-1$ \u5c31\u662f\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684 $x$.\n\n- $(j+2)\\bmod a=0$\uff0c\u90a3\u4e48 $j+1$ \u4e5f\u662f\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684 $x$.\n\n\u6700\u540e\u5c06\u8fd9\u4e9b\u7b54\u6848\u4e22\u8fdb set \u5c31\u597d\u4e86\u3002\n\n\u4ee3\u7801\n```cpp\n#include<set>\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define LL long long \nLL n;\nset<LL> s;\nint main(){\n\tscanf(\"%lld\",&n);\n\tif(n==1){\n\t\tprintf(\"None\");\n\t\treturn 0;\n\t}\n\tfor(int i=1;i*i<=n;i++){\n\t\tif(n%i==0){\n\t\t\tint yz1=i,yz2=n/i;\n\t\t\tfor(int j=0;j<=n;j+=yz2){\n\t\t\t\tif(j>=2&&(j-2)%yz1==0)s.insert(j-1);\n\t\t\t\tif(j<=n-2&&(j+2)%yz1==0)s.insert(j+1);\n\t\t\t}\n\t\t}\n\t}\n\tfor(set<LL>::iterator it=s.begin();it!=s.end();it++)\n\t\tprintf(\"%lld\\n\",*it);\n\treturn 0;\n} \n```",
        "postTime": 1583500719,
        "uid": 154560,
        "name": "Silver187",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4296 \u3010[AHOI2007]\u5bc6\u7801\u7bb1\u3011"
    },
    {
        "content": "## \u9898\u76ee\u5206\u6790\n\n\u9898\u76ee\u7ed9\u51fan,\u6c42$s.t. ~ x \\in [0,n) ~ , ~ x^2 \\equiv 1~ (mod ~ n)$\u7684\u6570\u91cf.\n\n\u8fd9\u91cc\u7684\u4e00\u4e2a\u5957\u8def\u5c31\u5f88\u663e\u7136\u4e86:\n\n> $x^2 \\equiv 1 ~ (mod ~ n) $\n> $\\Rightarrow x^2 -1  = kn , k \\in N$\n\n\u7136\u540e\u62c6\u4e00\u4e0b:\n\n> $(x+1)(x-1) = kn , k \\in N$\n\n\u8003\u8651\u8ba9\u5f0f\u5b50\u6210\u7acb,\u8ba9$n \\mid (x+1)(x-1)$,\u4ee4n=a*b,\u5f97\u5230:\n\n> $(x+1)(x-1) = k*a*b, k \\in N$\n\n\u8fd9\u5c31\u597d\u770b\u51fa\u5982\u679c\u8981\u6210\u7acb,\u5c31\u5f97\u4f7f$a \\mid (x+1) ~\\&~ b \\mid (x-1)$\u6216\u8005$a \\mid (x-1) ~\\&~ b \\mid (x+1)$.\n\n\u5728\u679a\u4e3ex\u7684\u8fc7\u7a0b\u4e2d\u679a\u4e3e\u51faa\u548cb\u5224\u65ad\u4e00\u4e0b\u5c31\u597d\u4e86.\n\n## \u4ee3\u7801\n\n```cpp\n#include \"iostream\"\n#include \"cstdio\"\n#include \"cstring\"\n#include \"cstdio\"\n#include \"cmath\"\n#include \"cctype\"\n#include \"iomanip\"\n#include \"algorithm\"\n#include \"time.h\"\n#include \"set\"\n#include \"map\"\n#include \"stack\"\n#include \"vector\"\n#include \"deque\"\n#include \"queue\"\n#define lxl long long\n#define R register\n#define INF 0x3f3f3f3f\n#define debug(x) printf(\"debug:%lld\\n\",x)\nconst lxl maxn=100000;\nlxl n;\nlxl ans[maxn];\ninline lxl read()\n{\n\tchar c=getchar();\n\tlxl f=1,x=0;\n\tfor(;!isdigit(c);c=getchar())(c=='-')&&(f=-1);\n\tfor(;isdigit(c);c=getchar())x=(x<<1)+(x<<3)+(c^48);\n\treturn f*x;\n}\nint main(void)\n{\n\tn=read();\n\tif(n==1)\n\t{\n\t\tprintf(\"None\\n\");\n\t\treturn 0;\n\t}\n\tfor(R int i(1);i*i<=n;++i)\n\t{\n\t\tif(n%i)continue;\n\t\tlxl a=i,b=n/i;\n\t\tfor(R int k(0),x;k*b+1<=n;++k)\n\t\t{\n\t\t\tx=k*b+1;\n\t\t\tif(!((x+1)%a))ans[++ans[0]]=x;\n\t\t}\n\t\tfor(R int k(1),x;k*b-1<=n;++k)\n\t\t{\n\t\t\tx=k*b-1;\n\t\t\tif(!((x-1)%a))ans[++ans[0]]=x;\n\t\t}\n\t}\n\tif(!ans[0])\n\t{\n\t\tprintf(\"None\\n\");\n\t\treturn 0;\n\t}\n\tstd::sort(ans+1,ans+1+ans[0]);\n\tans[0]=std::unique(ans+1,ans+1+ans[0])-ans-1;\n\tfor(R int i(1);i<=ans[0];++i)printf(\"%lld\\n\",ans[i]);\n\treturn 0;\n}\n```",
        "postTime": 1588230258,
        "uid": 54986,
        "name": "lemir3",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P4296 \u3010[AHOI2007]\u5bc6\u7801\u7bb1\u3011"
    },
    {
        "content": "## \u9898\u76ee\u5927\u610f\uff1a\n\n\u7ed9\u5b9a $n$\uff0c\u6c42\u6240\u6709\u7684 $x\\in\\mathbb{N}$\uff0c\u4f7f\u5f97 $x^2\\equiv1\\pmod n$\u3002\n\n## \u8f6c\u6362\u9898\u610f\uff1a\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u540c\u4f59\u5f0f $x^2\\equiv1\\pmod n$ \u8f6c\u6362\u4e3a\u7b49\u5f0f $x^2-1=kn$\uff0c\u5176\u4e2d $k$ \u4e3a\u500d\u6570\u3002\n\n\u7136\u540e\u6211\u4eec\u6709\n\n$$\n\\begin{aligned}\nx^2-1&=kn\\\\\n(x+1)(x-1)&=kn\\\\\nn&\\mid(x+1)(x-1)\n\\end{aligned}\n$$\n\n\u6839\u636e\u552f\u4e00\u5206\u89e3\u5b9a\u7406\uff0c\u6211\u4eec\u6709\n\n$$\n\n\\begin{aligned}\nn&\\mid(x+1)\\\\\nn&\\mid(x-1)\n\\end{aligned}\n$$\n\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u6784\u9020 $a$ \u548c $b$\uff0c\u4f7f\u5f97 $n\\mid ab$ \u4e14 $a\\mid(x+1)\\;,\\;b\\mid(x-1)$\u3002\n\n## \u4ee3\u7801\u6784\u601d\uff1a\n\n\u6211\u4eec\u53ea\u7528\u5728 $[1,\\sqrt n]$ \u7684\u8303\u56f4\u5185\u679a\u4e3e $a$\uff0c\u6b64\u65f6 $b=n/a$\u3002\u4f9d\u6b21\u679a\u4e3e\u5373\u53ef\u3002\n\n\u53ea\u6709 $n=1$ \u7684\u60c5\u51b5\u65e0\u5408\u6cd5 $x$\u3002\u5e76\u4e14\u5bf9\u4e8e\u5176\u4ed6 $n$\uff0c$x=1$ \u5fc5\u5b9a\u662f\u5176\u7684\u5408\u6cd5\u503c\uff08\u7b97\u6cd5\u7b97\u4e0d\u51fa $x=1$\uff09\u3002\n\n\u6ce8\u610f\u7b97\u51fa\u6765\u7684 $b$ \u53ef\u80fd\u6709\u91cd\u590d\uff0c\u53ef\u4ee5\u7528 `set` \u5728\u6392\u5e8f\u7684\u540c\u65f6\u53bb\u91cd\uff1b\u4e5f\u53ef\u4ee5\u5728 `sort` \u4e4b\u540e\u4f7f\u7528 `unique` \u53bb\u91cd\u3002\n\n## \u53c2\u8003\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<set>\nusing namespace std;\ntypedef long long ll;\nset<ll> ans;\nll n;\nint main(){\n    cin>>n;\n    if(n==1){\n        puts(\"None\");\n        return 0;\n    }\n    puts(\"1\");\n    for(ll i=1;i*i<=n;i++){\n        if(n%i==0){\n            ll a=i,b=n/i;\n            for(ll j=b+1;j<=n;j+=b){\n                if((j+1)%i==0) ans.insert(j);\n            }\n            for(ll j=b-1;j<=n;j+=b){\n                if((j-1)%i==0) ans.insert(j);\n            }\n        }\n    }\n    for(auto it:ans) cout<<it<<endl;\n    return 0;\n}\n```\n\u8c22\u8c22\u89c2\u770b",
        "postTime": 1652363000,
        "uid": 166234,
        "name": "Aiopr_2378",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4296 [AHOI2007] \u5bc6\u7801\u7bb1"
    },
    {
        "content": "\u5bc6\u7801 $ a $ \u5927\u4e8e\u7b49\u4e8e $ 0 $ \uff0c\u4e14\u5c0f\u4e8e $ n $ \uff0c\u800c $ a $ \u7684\u5e73\u65b9\u9664\u4ee5 $ n $\uff0c\u5f97\u5230\u7684\u4f59\u6570\u4e3a $ 1 $\u3002\n\n\u53ef\u4ee5\u5f97\u51fa $a^2\\equiv 1\\pmod n$\n\n\n\u5f88\u5bb9\u6613\u770b\u51fa $a^2 - 1\\equiv 0\\pmod  n $\n\n\u628a\u8fd9\u4e2a\u516c\u5f0f\u6539\u4e00\u4e0b\uff0c\u5c31\u662f$ (a - 1)(a + 1) = k*n$\n\n\u6211\u4eec\u679a\u4e3e$a - 1$\u548c$a + 1$\u5c31\u884c\u4e86\n\n\u9644\u4e0a\u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nlong long ans[10000];\nint main(){\n\tstd::ios::sync_with_stdio(0);\n\tlong long n, cur = 0;\n\tcin>>n;\n\tif(n == 1)\n\t{\n\t\tcout<<\"None\";\n\t\treturn 0;\n\t}\n\tfor(long long i = 1;i * i <= n;i++)\n\t{\n\t\tif(n % i != 0)continue;\n\t\tlong long a = i, b = n / i;\n\t\t\n\t\tfor(register long long j = 0;j * b + 1 <= n;++j)\n\t\t{\n\t\t\tregister long long x = j * b + 1;\n\t\t\tif((x + 1) % a == 0&&ans[cur - 1]!=x)\n\t\t\t{\n\t\t\t\tcur++;\n\t\t\t\tans[cur] = x;\n\t\t\t}\n\t\t}\n\t\tfor(register long long j = 1;j * b - 1 <= n;++j)\n\t\t{\n\t\t\tregister long long x = j * b - 1;\n\t\t\tif((x - 1) % a == 0&&ans[cur - 1]!=x)\n\t\t\t{\n\t\t\t\tcur++;\n\t\t\t\tans[cur] = x;\n\t\t\t}\n\t\t}\n\t}\n\tsort(ans + 1, ans + cur + 1);\n\tfor(int i = 1;i <= cur;i++)\n\t{\n\t\tif(ans[i] == ans[i + 1])\n\t\t{\n\t\t\tans[i] = 2000000010;\n\t\t}\n\t}\n\tsort(ans+1,ans+1+cur);\n\tfor(int i = 1;i <= cur;i++)\n\t{\n\t\tif(ans[i] == 2000000010)return 0;\n\t\tcout<<ans[i]<<endl;;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1640318270,
        "uid": 377842,
        "name": "liuxy1234",
        "ccfLevel": 0,
        "title": "\u9898\u89e3"
    },
    {
        "content": "## \u9996\u5148\u660e\u786e\u9898\u76ee\u610f\u601d\uff1a\n\u7ed9\u51fa\u4e00\u4e2a\u6570 $n$\uff0c\u6c42 $x^{2} \\equiv 1 \\pmod n$ \u89e3\u7684\u4e2a\u6570\u3002\n## \u63a8\u7406\u8fc7\u7a0b\uff1a\n\u8bbe\u4e00\u4e2a\u6b63\u6574\u6570 $k$\u3002\n\n\u5373\u53ef\u4ee5\u628a\u539f\u5f0f\u5316\u6210 $x^2+1=k\\cdot n$\n\n$\\because x^2+1=(x+1)\\cdot(x-1)$\n\n$\\therefore(x+1)\\cdot(x-1)=k\\cdot n$\n\n$\\therefore n|(x+1)\\cdot(x-1)$\n\n\u63a5\u4e0b\u6765\u53ea\u9700\u8981\u6784\u9020\u51fa\u4e24\u4e2a\u6570 $p$ \u548c $q$ \u4f7f\u5f97 $p\\cdot q=n$ \u5373\u53ef\u3002\n\n\u6240\u4ee5\uff0c\u5728 $p^2\\le n$ \u7684\u8303\u56f4\u5185\u679a\u4e3e\u6ee1\u8db3\u6761\u4ef6\u7684 $p$ \u5c31\u597d\u4e86\u3002\n## \u6761\u4ef6\uff1a\n$\\because n|(x+1)\\cdot(x-1),a\\cdot b=n$\n\n$\\therefore a\\cdot b|(x+1)\\cdot (x-1)$\n\n$\\therefore$ \u53ea\u8981 $a$ \u80fd\u6574\u9664\u5176\u4e2d\u4efb\u610f\u4e00\u4e2a\u4e14 $b$ \u80fd\u6574\u9664\u53e6\u4e00\u4e2a\u5c31\u6210\u7acb\u4e86\u3002\n\n\u5373 $a|(x-1),b|(x+1)$ \u6216 $a|(x+1),b|(x-1)$ \u8fd9\u4e24\u4e2a\u5f0f\u5b50\u3002\n## \u65e0\u89e3\uff1a\n\u89e3\u51b3\u4e86\u524d\u9762\u7684\u5185\u5bb9\uff0c\u73b0\u5728\u5c31\u8981\u8003\u8651\u54ea\u4e9b\u6570\u662f\u65e0\u89e3\u7684\u4e86\u3002\n\n\u663e\u7136\uff0c\u5f53 $n=1$ \u65f6\uff0c\u4efb\u4f55\u6570 $\\mod n$ \u90fd\u4e3a $0$\u3002\n\n\u6240\u4ee5\uff0c\u53ea\u9700\u8981\u7279\u5224\u4e00\u4e0b $n=1$ \u7684\u60c5\u51b5\u5c31\u53ef\u4ee5\u4e86\u3002\n## \u5c0f\u95ee\u9898\uff1a\n\u56e0\u4e3a\u8f93\u51fa\u7684\u7b54\u6848\u53ef\u80fd\u4f1a\u91cd\u590d\uff0c\u90a3\u600e\u4e48\u529e\u5462\uff1f\n\n\u7b54\uff1a\u4e22\u8fdb set \u5c31\u597d\u4e86\u3002\n## AC\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long \nll n,x,_x,i,j;\nset<ll> s;\nint main()\n{\n\tscanf(\"%lld\",&n);\n\tif(n==1) return 0*puts(\"None\");\n\tfor(i=1;i<=sqrt(n);i++)\n\tif(n%i==0)\n\t{\n\t\tx=i;\n\t\t_x=n/i;\n\t\tfor(j=0;j<=n;j+=_x)\n\t\t{\n\t\t\tif(j>=2&&!((j-2)%x)) s.insert(j-1);\n\t\t\tif(j<=n-2&&!((j+2)%x)) s.insert(j+1);\n\t\t}\n\t}\n\tfor(set<ll>::iterator it=s.begin();it!=s.end();it++) printf(\"%lld\\n\",*it);\n\treturn 0;\n} \n```",
        "postTime": 1652714059,
        "uid": 466065,
        "name": "Zero_s",
        "ccfLevel": 0,
        "title": "P4296 \u9898\u89e3"
    },
    {
        "content": "\u9898\u610f\uff1a\u7ed9\u4e00\u4e2a\u6b63\u6574\u6570 $n$\uff0c\u627e\u51fa\u6240\u6709\u7684 $x$ \u4f7f\u5f97 $x^2 \\equiv 1\n \\pmod n $\u3002\n \n \u5957\u8def\u9898\uff0c\u5148\u79fb\u9879\u5f97\n \n $$x^2-1 \\equiv0 \\pmod n$$\n \u6839\u636e\u5e73\u65b9\u5dee\u516c\u5f0f\u5f97\n \n $$(x+1)(x-1)\\equiv 0 \\pmod n$$\n \u4ee4 $n=ab(a,b \\in \\mathbb{N})$\uff0c\u5219\n \n $(x+1)(x-1)\\equiv 0 \\pmod{ab}$\n \n \u6539\u5199\u4e00\u4e0b\n $$(x+1)(x-1) =kab$$\n \n \u6240\u4ee5\u6ee1\u8db3\u7684\u6761\u4ef6\u4e3a\n \n $(a \\mid (x+1) \\vee b \\mid(x-1))\\wedge(a \\mid(x-1)\\vee b\\mid  (x+1))$\n \n \u679a\u4e3e $x$\uff0c$a$\uff0c$b$\uff0c\u628a\u6240\u6709\u6ee1\u8db3\u6761\u4ef6\u7684\u7b54\u6848\u4e22\u5230 `set` \u91cc\u9762\u5c31\u884c\u4e86\u3002\n \n \u4ee3\u7801\uff1a\n \n ```cpp\n #include<bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\nset<LL> ans;\nLL n;\nint main()\n{\n\tscanf(\"%lld\",&n);\n\tif(n==1)\n\t{\n\t\tputs(\"None\");\n\t\treturn 0;\n\t}\n\tputs(\"1\");\n\tint k=sqrt(n);\n\tfor(LL i=1;i<=k;i++)\n\t\tif(n%i==0)\n\t\t{\n\t\t\tLL a=i,b=n/i;\n\t\t\tfor(LL j=b-1;j<=n;j+=b) if((j-1)%a==0) ans.insert(j);\n\t\t\tfor(LL j=b+1;j<=n;j+=b) if((j+1)%a==0) ans.insert(j);\n\t\t}\n\tfor(auto it=ans.begin();it!=ans.end();it++) printf(\"%lld\\n\",*it);\n\treturn 0;\n}\n ```",
        "postTime": 1647579150,
        "uid": 280473,
        "name": "404Not_Found",
        "ccfLevel": 5,
        "title": "P4296 [AHOI2007] \u5bc6\u7801\u7bb1"
    },
    {
        "content": "**\u9898\u76ee\u5927\u610f\uff1a**\n\n\u7ed9\u5b9a $n$\uff0c\u6c42\u51fa\u6240\u6709\u6b63\u6574\u6570 $x$\uff0c\u6ee1\u8db3\u5c0f\u4e8e $n$\uff0c\n\n\u4e14 $x^2\\equiv1\\left(mod\\;n\\right)$ \u5c06\u6ee1\u8db3\u7684 $x$ \u6309\u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u4f9d\u6b21\u6362\u884c\u8f93\u51fa\n\n------------\n\n**\u601d\u8def\uff1a**\n\n$x^2=kn+1$\n\n\u79fb\u9879\u53d1\u73b0\u662f\u4e2a\u5e73\u65b9\u5dee\n\n\u5373$(x+1)(x-1)=kn$\n\n\u8003 \u8651 \u62c6 \u89e3 $k,n$ \n\n\u2460$(x+1)=k_1 \\times n_1$\n\n\u2461$(x-1)=k_2 \\times n_2$\n\n\u2462$k_1 \\times k_2=k,n_1 \\times n_2=n$\n\n\u53d1\u73b0\u53ef\u4ee5\u679a\u4e3e $n$ \u7684\u7ea6\u6570 $y$\uff0c\n\n\u8bb0\u4f5c\u5176\u4e2d\u7684 $n_1$\uff0c\n\n\u5219\u6709 $n_2=n/y$,$(x+1)=k1\\times y$\u2463\n\n\u56e0\u4e3a $x<n$,$x+1<=n$\uff0c\u8003\u8651\u679a\u4e3e\u500d\u6570$k_1$\uff0c\n\n\u5047\u8bbe\u5f53\u524d\u679a\u4e3e\u500d\u6570\u4e3a $d$\n\n\u5219\u6709 $(x+1)=d \\times y$\n\n\u5373 $x=d \\times y-1$\u2464\n\n\u2463\u2464\u5e26\u5165\u2461\uff0c\u5219\u6709 $(d \\times y-2)=k_2\\times (n/y)$\n\n\u82e5 $(d\\times y-2)$ \u4e3a $(n/y)$ \u7684\u500d\u6570\uff0c\u5219 $x=d\\times y-1$ \u4e3a\u4e00\u7ec4\u7b26\u5408\u7684\u89e3\n\n\u540c\u7406\u53ef\u4ee5\u5c06 $y$ \u8bb0\u4f5c\u5176\u4e2d\u7684$n_2$\uff0c\u5373\u7531\u2461\u63a8\u2460\n\n\u5219\u6709 $(d\\times y+2)=k1\\times (n/y)$\n\n\u82e5 $(d\\times y+2)$ \u4e3a $(n/y)$ \u7684\u500d\u6570\uff0c\u5219 $x=d\\times y+1$ \u4e3a\u4e00\u7ec4\u53ef\u80fd\u7684\u89e3\uff0c\n\n\u56e0\u4e3a\u8fd9\u91cc\u662f $(x-1)\\to(x+1)$\uff0c$x$ \u53ef\u80fd\u5927\u4e8e $n$\n\n**ps:**\n1. \u4e00\u7ec4\u7ea6\u6570 $y$ , $n/y$\uff0c\u53ef\u80fd\u5bf9\u5e94\u4e24\u4e2a\u89e3\n\u5373 $y->x-1,(n/y)->x+1$ \u6216\u8005 $y->x+1,(n/y)->x-1$\n2. \u679a\u4e3e\u500d\u6570\u65f6\uff0c\u9009\u62e9\u5927\u4e8e $\\sqrt{n}$ \u7684\uff0c\n\u4e0d\u7136 $\\sum(k_i)$ \u53ef\u80fd\u548c\u4f1a\u5f88\u5927\n\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a\u679a\u4e3e\u7684 \u7ea6\u6570\uff0c\n\u53ef\u4ee5 $(x-1)->(x+1)$ \u6216\u8005 $(x+1)->(x-1)$\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <queue>\n#include <cmath>\n\nusing namespace std;\n\ntypedef long long ll;\n\nconst int N = 1e6 + 10;\nll n, ans[N], num, cnt; \n  \nvoid Jud(ll y) \n{\n\tfor (ll d = 0; d <= n / y; d++) \n\t{\n\t\tnum = (d * y - 2);\n\t\tif (!(num % (n / y))) ans[++cnt] = d * y - 1;\t\t\n\t\tnum = (d * y + 2);\n\t\tif (!(num % (n / y))) ans[++cnt] = d * y + 1;\n\t}\n}\n\nint main() {\n\tscanf(\"%lld\", &n);\n\tif (n == 1) { printf(\"None\\n\"); return 0; }\n\tll siz = sqrt(n);\n\tfor(ll i = 1; i <= siz; i++) if (!(n % i)) Jud(n / i);\n\tsort(ans + 1, ans + cnt + 1);\n\tint m = unique(ans + 1, ans + cnt + 1) - ans - 1;\n\tint l = 1, r = m;\n\twhile (ans[r] >= n) r--;\n\twhile (ans[l] < 0) l++; \n\tif (!(r - l + 1)) printf(\"None\");\n\telse for(int i = l; i <= r; i++) printf(\"%lld\\n\", ans[i]);\n}\n\n```\n",
        "postTime": 1628756617,
        "uid": 216909,
        "name": "Viktley",
        "ccfLevel": 6,
        "title": "P4296 [AHOI2007] \u5bc6\u7801\u7bb1"
    },
    {
        "content": "# P4296 \u5bc6\u7801\u7bb1\n\u9898\u76ee\u53ef\u8f6c\u5316\u4e3a$x^2\\equiv 1 \\pmod n$\uff0c\n\n\u79fb\u9879\u53ef\u5f97$x^2-1 \\equiv 0\\pmod n$\n\n\u6839\u636e\u5e73\u65b9\u5dee\u516c\u5f0f\u53ef\u4ee5\u5f97\u5230$(x-1)(x+1)\\equiv 0 \\pmod n$\n\n\u8bbe\u6b63\u6574\u6570$k$\uff0c\u4f7f\u5f97$(x-1)(x+1)=kn$\n\n\u5bf9$n$\u8fdb\u884c\u5206\u89e3,$n= ab$\n\n\u539f\u5f0f\u6700\u7ec8\u8f6c\u5316\u4e3a$(x-1)(x+1)=kab$\n\n\u5219\u4f7f\u539f\u5f0f\u6210\u7acb\u6761\u4ef6\u5373\u4e3a$(a|(x+1) \\bigvee b|(x-1))\\bigwedge (a|(x-1)\\bigvee b|(x+1))$\n\n\n\u5728\u679a\u4e3e$x$\u7684\u65f6\u5019\u987a\u4fbf\u679a\u4e3e$a,b$\n\n## \u6ce8\u610f\uff1a\n1.\u5f53$x=1$\u65f6\u662f\u552f\u4e00\u65e0\u89e3\u60c5\u51b5\n\n2.\u8bb0\u4f4f\u5f00$long long$\n```\n#include <bits/stdc++.h>\n\ntypedef long long ll;\n\nnamespace TNT\n{\n    int b, n;\n\n    std::set<int> st;\n\n    inline void main()\n    {\n        scanf(\"%d\", &n);\n\n        if (n == 1)\n        {\n            puts(\"None\");\n            return;\n        }\n\n        st.insert(1);\n\n        for (int a = 1; a <= sqrt(n); a++)\n        {\n            if (!(n % a))\n            {\n                b = n / a;\n\n                for (ll i = b + 1; i <= n; i += b) //4e9\u4f1a\u7206int\n                    if (!((i + 1) % a))\n                        st.insert(i);\n                for (ll i = b - 1; i <= n; i += b)\n                    if (!((i - 1) % a))\n                        st.insert(i);\n            }\n        }\n        for (std::set<int>::iterator i = st.begin(); i != st.end(); i++)\n            printf(\"%d\\n\", *i);\n        return;\n    }\n} // namespace TNT\n\nint main()\n{\n    TNT::main();\n    return 0;\n}\n```\n",
        "postTime": 1598453197,
        "uid": 283889,
        "name": "SuperTNT",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4296 \u3010[AHOI2007]\u5bc6\u7801\u7bb1\u3011"
    },
    {
        "content": "\u653e\u5728\u6700\u524d\u9762\u7684\u63d0\u9192\uff1a\u4e0d\u5f00```long long```\u89c1\u7956\u5b97\uff01\n\n\u9898\u610f\uff1a\u7ed9\u5b9a\u6b63\u6574\u6570$n$\uff0c\u6c42\u96c6\u5408$S=\\{x \\; | \\;x \\in [0,n-1] \\subset \\textbf{N},\\; x^2 \\bmod n = 1  \\}$\u3002\n\n\u800c$x^2 \\bmod n=1 \\Leftrightarrow n\\;|\\;(x^2-1)  \\Leftrightarrow n\\;|\\;(x+1)(x-1)$\uff0c\u6545\u5fc5\u5b58\u5728$k \\in [1,n] \\subset \\textbf{N}^{*}$\uff0c\u4f7f\u5f97$(x+1)(x-1)=kn$\u3002\n\n\u8bbe$x+1=s \\cdot p$\uff0c$x-1=t \\cdot q$\uff0c\u5219\u5fc5\u5b58\u5728\u4e00\u79cd\u5206\u89e3\u65b9\u5f0f\uff0c\u4f7f\u5f97$s \\cdot t = k$\uff0c$p \\cdot q = n$\u3002\n\n\u5728\u679a\u4e3e\u7684\u65f6\u5019\uff0c\u6211\u4eec\u91c7\u7528\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a\n$$\n(x+1)(x-1)=s\\cdot t\\cdot n \\Leftrightarrow x+1=t \\cdot \\dfrac{s\\cdot n}{x-1}$$\n\n$$\\Leftrightarrow (x+1) \\bmod \\dfrac{s  \\cdot n}{x-1}=0 $$\n$$\\Leftrightarrow (x+1) \\bmod \\dfrac{n}{\\frac{1}{s}(x-1)} =0$$\n\u8be5\u6761\u4ef6\u8fd8\u6709\u53e6\u4e00\u7b49\u4ef7\u5f62\u5f0f$(x-1) \\bmod \\dfrac{n}{\\frac{1}{s}(x+1)} = 0$\u3002\n\n\u5219\u53ea\u8981\u679a\u4e3e$n$\u7684\u56e0\u6570$p$\u548c$k$\u7684\u56e0\u6570$s$\uff0c\u4e14\u6ee1\u8db3$p \\cdot s \\leqslant n$\uff0c\u5373\u53ef\u5224\u65ad\u5176\u662f\u5426\u6ee1\u8db3\u8981\u6c42\u3002\u5177\u4f53\u4e0a\uff0c\u8bbe$x = s \\cdot p -1$\uff0c\u5219\u53ef\u4ee5\u5f97\u51fa$p = \\dfrac{1}{s}(x+1)$\u3002\u7531\u4e8e\u6211\u4eec\u679a\u4e3e\u7684\u56e0\u6570\u662f\u6210\u5bf9\u7684\uff0c\u56e0\u6b64\u679a\u4e3e\u8f83\u5927\u7684\u90a3\u4e00\u90e8\u5206\u56e0\u6570\uff08\u5927\u4e8e$\\sqrt{n}$\uff09\u5373\u53ef\u3002\n\n\u6ce8\u610f\uff0c$n=1$\u4e3a\u552f\u4e00\u65e0\u89e3\u7684\u60c5\u51b5\uff1b\u82e5\u6709\u89e3\uff0c\u5219$x=1$\u5fc5\u7136\u5305\u542b\u5728\u5185\u3002\n\n\u6700\u540e\u5bf9\u7b54\u6848\u8fdb\u884c\u6392\u5e8f\u3001\u53bb\u91cd\u7684\u5de5\u4f5c\u3002\u6839\u636e$n$\u7684\u7ea6\u6570\u6570\u91cf\u4e0a\u754c\u4e3a$2\\sqrt{n}$\uff0c\u77e5\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$O(\\sqrt{n} \\log n)$\u3002\n\n\u53c2\u8003\u7a0b\u5e8f\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\nconst int MAXN=(1e6+5);\nint cnt,tot;\nLL N,f[MAXN],g[MAXN];\nmap<LL,bool> h;\nint main(){\n\tscanf(\"%lld\",&N);\n\tif (N==1) return printf(\"None\"),0;\n\tfor (int i=1;i*i<=N;i++)\n\t\tif (N%i==0) f[++cnt]=(LL)(N/i);\n\tg[++tot]=1,h[1]=1;\n\tfor (int i=1;i<=cnt;i++)\n\t\tfor (int j=1;f[i]*j<=N;j++){\n\t\t\tLL p=f[i]*j-1;\n\t\t\tif (!((p-1)%(N/f[i]))&&!h[p])\n\t\t\t\tg[++tot]=p,h[p]=1;\n\t\t\tp+=2; if (p+1>N) continue;\n\t\t\tif (!((p+1)%(N/f[i]))&&!h[p])\n\t\t\t\tg[++tot]=p,h[p]=1;\n\t\t}\n\tsort(g+1,g+tot+1);\n\tfor (int i=1;i<=tot;i++)\n\t\tprintf(\"%lld\\n\",g[i]);\n\treturn 0;\n}\n```",
        "postTime": 1585808671,
        "uid": 54456,
        "name": "\u9752\u4e18\u6768\u54f2",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4296 \u3010[AHOI2007]\u5bc6\u7801\u7bb1\u3011"
    }
]