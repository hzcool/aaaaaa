[
    {
        "content": "\u63a8\u5bfc\u90e8\u5206\uff1a\uff08\u9ad8\u7cbe\u89c1\u4ee3\u7801\uff09\n\n\u4ee5\u6837\u4f8b#1\u4e3a\u4f8b\uff0c\u5c06 $(42)_{10}$ \u4e09\u8fdb\u5236\u5206\u89e3\u4e3a $(1120)_3$\uff0c\u4ece\u4f4e\u4f4d\u81f3\u9ad8\u4f4d\u904d\u5386\u6b64\u6570\u3002\n\n1. \u7b2c $i$ \u4f4d\u4e3a $0$\n\n\u76f4\u63a5\u8df3\u8fc7\u3002\n\n2. \u7b2c $i$ \u4f4d\u4e3a $1$\n\n\u5728\u53f3\u76d8\u653e\u5165\u8d28\u91cf\u4e3a $3^{i-1}$ \u7684\u781d\u7801\u3002\n\n3. \u7b2c $i$ \u4f4d\u4e3a $2$\n\n\u7531\u4e8e\u6bcf\u79cd\u8d28\u91cf\u7684\u781d\u7801\u53ea\u6709\u4e00\u4e2a\uff0c\u6240\u4ee5\u4e0d\u53ef\u80fd\u540c\u65f6\u5728\u53f3\u76d8\u653e\u5165\u4e24\u4e2a\u8d28\u91cf\u4e3a $3^{i-1}$ \u7684\u781d\u7801\u3002\u89e3\u51b3\u65b9\u6848\uff1a\u5728\u5de6\u76d8\u653e\u5165 $3^{i-1}$ \u7684\u781d\u7801\uff0c\u5728\u53f3\u76d8\u653e\u5165 $3^{i}$ \u7684\u781d\u7801\uff0c\u6b64\u65f6\u5373\u76f8\u5f53\u4e8e\u5728\u53f3\u76d8\u653e\u5165 $3^{i}-3^{i-1}=2\\times 3^{i-1}$ \u7684\u781d\u7801\u3002\n\n\u5177\u4f53\u505a\u6cd5\uff1a\u5728\u5de6\u76d8\u653e\u5165\u8d28\u91cf\u4e3a $3^{i-1}$ \u7684\u781d\u7801\uff0c\u5e76\u4f7f $i+1$ \u4f4d\u52a0 $1$\uff08$i+1$ \u4f4d\u4e4b\u540e\u4e00\u5e76\u5904\u7406\u5373\u53ef\uff09\u3002\n\n4. \u7b2c $i$ \u4f4d\u4e3a $3$\n\n\u7b2c $i-1$ \u4f4d\u8fdb\u4f4d\u540e\u53ef\u80fd\u5f97\u5230\u7b2c $i$ \u4f4d\u4e3a $3$ \u7684\u60c5\u51b5\uff0c\u76f4\u63a5\u5411 $i+1$ \u4f4d\u518d\u6b21\u8fdb\u4f4d\u5373\u53ef\u3002\n\n---\n\ncode:\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nstruct node //\u4e13\u95e8\u5904\u7406 3 \u7684\u5e42\u7528 \n{\n\tint t[ 105 ] , len;\n\t\n\tnode()\n\t{\n\t\tmemset( t , 0 , sizeof t );\n\t\tt[ 1 ] = 1;\n\t\tlen = 1;\n\t}\n\n\tvoid tim() //\u4e58 3 \n\t{\n\t\tfor( int i = 1 ; i <= len ; i ++ )\n\t\t\tt[ i ] *= 3;\n\t\tfor( int i = 1 ; i <= len ; i ++ )\n\t\t\tt[ i + 1 ] += t[ i ] / 10 , t[ i ] %= 10;\n\t\tif( t[ len + 1 ] > 0 )\n\t\t\tlen ++;\n\t}\n\t\n\tvoid print() //\u8f93\u51fa \n\t{\n\t\tfor( int i = len ; i >= 1 ; i -- )\n\t\t\tprintf( \"%d\" , t[ i ] );\n\t\tputchar( ' ' );\n\t}\n};\n\nvector< int > a; //\u4fdd\u5b58\u4e09\u8fdb\u5236\u7684\u539f\u6570 \nvector< node > l , r; //\u4fdd\u5b58\u5de6\u53f3\u76d8\u4e2d\u7684\u781d\u7801 \n\nchar c[ 105 ];\nint len;\n\nint div() //\u8ba1\u7b97\u5546\uff0c\u8fd4\u56de\u4f59\u6570 \n{\n\tint t , num = 0;\n\tfor( int i = 1 ; i <= len ; i ++ )\n\t{\n\t\tt = ( num + c[ i ] ) % 3;\n\t\tc[ i ] = ( num + c[ i ] ) / 3;\n\t\tnum = t * 10;\n\t}\n\treturn t;\n}\n\nbool ept()\n{\n\tfor( int i = 1 ; i <= len ; i ++ )\n\t\tif( c[ i ] > 0 )\n\t\t\treturn false;\n\treturn true;\n}\n\nvoid input() //\u8bfb\u5165\u9ad8\u7cbe\u6574\u6570\u5e76\u8ba1\u7b97\u51fa\u5176\u4e09\u8fdb\u5236\u7684\u503c \n{\n\t\n\tscanf( \" %s\" , c + 1 );\n\tlen = strlen( c + 1 );\n\tfor( int i = 1 ; i <= len ; i ++ )\n\t\tc[ i ] -= '0';\n\twhile( ! ept() )\n\t{\n\t\ta.push_back( div() );\n\t}\n\ta.push_back( 0 );\n}\n\nsigned main()\n{\n\tinput();\n\t\n\tnode base;\n\tfor( int i = 0 ; i < a.size() ; i ++ ) //\u89c1\u4e0a\u6587\u63a8\u5bfc\u8fc7\u7a0b \n\t{\n\t\tif( a[ i ] == 3 )\n\t\t{\n\t\t\ta[ i ] = 0;\n\t\t\ta[ i + 1 ] ++;\n\t\t}\n\t\tif( a[ i ] == 2 )\n\t\t{\n\t\t\tl.push_back( base );\n\t\t\ta[ i ] = 0;\n\t\t\ta[ i + 1 ] ++;\n\t\t}\n\t\tif( a[ i ] == 1 )\n\t\t{\n\t\t\tr.push_back( base );\n\t\t}\n\t\tbase.tim();\n\t}\n\t\n\tprintf( \"%d \" , l.size() );\n\tfor( int i = 0 ; i < l.size() ; i ++ )\n\t\tl[ i ].print();\n\tprintf( \"\\n%d \" , r.size() );\n\tfor( int i = 0 ; i < r.size() ; i ++ )\n\t\tr[ i ].print();\n\treturn 0;\n}\n```\n\n---\n\nThanks for watching.",
        "postTime": 1624618988,
        "uid": 176186,
        "name": "End_Dragon",
        "ccfLevel": 5,
        "title": "\u7b80\u5355\u6570\u5b66\u63a8\u5bfc+\u9ad8\u7cbe"
    },
    {
        "content": "## [\u9898\u89e3 P7649 SCALES](https://www.luogu.com.cn/problem/P7649)\n\n### \u601d\u8def\n----\n\u6839\u636e\u9898\u76ee\uff0c\u6211\u4eec\u9700\u8981\u505a\u7684\u662f\u901a\u8fc7\u5728\u4e00\u4e2a\u5de6\u8fb9\u5df2\u6709\u7269\u4f53\u7684\u5929\u5e73\u4e24\u7aef\u653e\u781d\u7801\u4ee5\u4f7f\u5b83\u5e73\u8861\uff0c\u5176\u4e2d\u781d\u7801\u91cd\u91cf\u5fc5\u987b\u662f $3$ \u7684\u6b21\u5e42\uff0c\u4e14\u6bcf\u4e2a\u781d\u7801\u53ea\u80fd\u653e\u4e00\u6b21\uff0c\n\n\u8bb0 $m$ \u4e3a\u521d\u59cb\u91cd\u91cf\uff0c\u7b80\u5355\u62bd\u8c61\u4e00\u4e0b\u6211\u4eec\u5f97\u5230 \uff0c\n$$\\sum\\limits_{i \\in B}3^i + m = \\sum\\limits_{i \\in A}3^i \\text{\uff0c\u5176\u4e2d}\\begin{cases} A,B\\subseteq\nN\\\\A \\cap B=\\emptyset\\end{cases} $$\n\n\n\u5373\n$$m = -1\u00d7\\sum\\limits_{i \\in A}3^i + 0\u00d7\\sum\\limits_{i \\in B}3^i + 1\u00d7\\sum\\limits_{i \\in C}3^i \\text{\uff0c\u5176\u4e2d}\\begin{cases}A\\cap B\\cap C=\\emptyset\\\\A\\cup B\\cup C=N\\end{cases} $$\n\n\u4e5f\u5c31\u662f\u7528\u52a0\u51cf\u5355\u4e2a $3$ \u7684\u6b21\u5e42\u5f97\u5230 $m$ \uff0c\n\n\u5927\u80c6\u731c\u60f3\uff1a\u6240\u6709\u81ea\u7136\u6570\u90fd\u53ef\u4ee5\u5982\u6b64\u8868\u793a\uff1f\n\n\u4e0d\u59a8\u8003\u8651\u5148\u8868\u793a $0$ \u5230 $13$ \u7684\u6570\n```\n+\u8868\u793a\u9700\u8981\u653e\u5728\u53f3\u8fb9\uff08\u52a0\u4e0a\uff09 -\u8868\u793a\u653e\u5728\u5de6\u8fb9\uff08\u51cf\u53bb\uff09 /\u8868\u793a\u4e0d\u9700\u8981\n    931  \u9644:\u4e09\u8fdb\u5236\u4e0b\u8868\u793a\n00  ///  000  111  13\n01  //+  001  112  14\n02  /+-  002  120  15\n03  /+/  010  121  16\n04  /++  011  122  17\n05  +--  012  200  18\n06  +-/  020  201  19\n07  +-+  021  202  20\n08  +/-  022  210  21\n09  +//  100  211  22\n10  +/+  101  212  23\n11  ++-  102  220  24\n12  ++/  110  221  25\n13  +++  111  222  26\n```\n\n\u5bf9\u4e8e\u6bcf\u4e2a $3$ \u7684\u6b21\u5e42\uff0c\u90fd\u6709\u653e\u5de6\u8fb9\uff08\u51cf\uff09\u3001\u653e\u53f3\u8fb9\uff08\u52a0\uff09\u3001\u4e0d\u653e\uff0c\u4e09\u79cd\u72b6\u6001\uff0c\n\n\u6b63\u4e0e\u4e09\u8fdb\u5236\u4e0b $0$ \u3001 $2$ \u3001 $1$ \u5bf9\u5e94\uff01\n\n\u5f88\u597d\u7406\u89e3\uff0c\u53ea\u8981\u9700\u8981\u7528\u5230\u7684\u6bcf\u4e2a\u4f4d\u4e0a\u52a0\u4e00\u5373\u5f97\u5230\uff0c\u5373\u52a0\u4e0a\u4e09\u8fdb\u5236\u4e0b\u7684 $111...111$ \uff0c\n\n\u7136\u540e\u5c06\u53d8\u6362\u540e\u5f97\u5230\u7684 $m'$ \u8f6c\u5316\u4e3a\u4e09\u8fdb\u5236\uff0c\u68c0\u67e5\u6bcf\u4f4d\u662f\u5426\u4e3a $0$ \uff08\u5de6\uff09\u6216 $2$ \uff08\u53f3\uff09\u5373\u53ef,\n\n\u5373\n$$m' = 0\u00d7\\sum\\limits_{i \\in A}3^i + 1\u00d7\\sum\\limits_{i \\in B}3^i + 2\u00d7\\sum\\limits_{i \\in C}3^i \\text{\uff0c\u5176\u4e2d}\\begin{cases}A\\cap B\\cap C=\\emptyset\\\\A\\cup B\\cup C=N\\end{cases} $$\n\n\u5269\u4e0b\u7684\u90e8\u5206\u53d8\u6210\u4e86\u4e00\u9053\u9ad8\u7cbe\u9898\u3002\n\n### \u5b9e\u73b0\n----\n\u6709\u4e86\u601d\u8def\uff0c\u5b9e\u73b0\u4e0a\u6ce8\u610f\u7684\u5176\u5b9e\u4e5f\u8fd8\u662f\u6ee1\u591a\u7684\uff0c\n\n\u9996\u5148\u7740\u773c\u4e8e\u4e3b\u4f53\u90e8\u5206\uff0c\u5c06\u5927\u6570\u8f6c\u5316\u4e3a\u4e09\u8fdb\u5236\uff0c\u4e3a\u4e86\u4f7f\u8fd9\u4e00\u6b65\u6765\u5f97\u66f4\u7b80\u5355\uff0c\u6211\u4eec\u8003\u8651\u57fa\u4e8e\u4ebf\u8fdb\u5236\u9ad8\u7cbe\u7684\u601d\u8def\uff0c\u4f7f\u7528\u201c $3$ \u7684\u6b21\u5e42\u8fdb\u5236\u201d\u9ad8\u7cbe\u3002\n\n\u7406\u89e3\u8fd9\u4e00\u70b9\uff0c\u5728\u4ee5 $3$ \u7684\u6b21\u5e42\u4e3a\u57fa\u7684\u8fdb\u5236\u4e0b\uff0c\u4e00\u4e2a\u6570\u8f6c\u5316\u4e3a $3$ \u8fdb\u5236\uff0c\u5219\u5176\u8fde\u7eed\u51e0\u4f4d\u53ea\u4e0e\u4e00\u4f4d\u6709\u5173\u5982\uff0c\n`78(9) -> 2122(3)`\n\n\u4ed4\u7ec6\u8003\u8651\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff08\u57fa\u6570\u5c0f\u5316\u57fa\u6570\u5927\uff09\u4ece\u5341\u8fdb\u5236\u8f6c\u5316\u4e3a $3$ \u8fdb\u5236\u548c\u5e73\u65f6\u7684\u8fdb\u5236\u8f6c\u6362\u4e5f\u6ca1\u6709\u533a\u522b\uff0c\u4e58 $10$ \u3001\u52a0\u4f4e\u4f4d\u3001\u8fdb\u4f4d\u5373\u53ef\u3002\n\n\u800c\u8f93\u51fa\u65f6\u5219\u8003\u8651\u76f4\u63a5\u7528\u5230 $10$ \u7684\u6b21\u5e42\u8fdb\u5236\u5373\u53ef\u3002\n\n### \u4ee3\u7801\n----\n```cpp\n#include<cstdio>\n#include<cstring>\ntypedef unsigned long long uint64;\n#define POW3_36 150094635296999121\n#define POW10_17 100000000000000000\nchar buf[128];\ntemplate<uint64 base>//\u4e24\u4e2a\u9ad8\u7cbe\u53ea\u6709\u8fdb\u5236\u4e0d\u540c\u6240\u4ee5\u7528\u6a21\u7248\u7c7b\u4e86\nstruct hyNum{\n\tuint64 dat[8];\n\tint hy()const //\u6700\u9ad8\u4f4d\u7684dat[]\u4e0b\u6807\n\t{\n\t\tint i=7;\n\t\twhile(i>0&&dat[i]==0)\n\t\t\ti--;\n\t\treturn i;\n\t}\n\thyNum &operator*=(uint64 n)//\u5927\u8fdb\u5236\u4ec5\u5728\u6b64\u9898\u4e0b\u4e0d\u4f1a\u51fa\u9505\n\t{\n\t\t//if(n!=10&&n!=3)throw -1;\n\t\tuint64 add=0;\n\t\tint z=hy();\n\t\tfor(int i=0;i<=z;i++)\n\t\t\tdat[i]*=n,\n\t\t\tdat[i]+=add,\n\t\t\tadd=dat[i]/base,\n\t\t\tdat[i]%=base;\n\t\tdat[z+1]+=add;//\u4e4b\u524d\u8111\u62bd\u8fd9\u91cc\u8fdb\u4f4d\u5199\u9519\u4e86\uff0c\u76f4\u63a520pts...\n\t\treturn *this;\n\t}\n\thyNum &operator+=(uint64 num)\n\t{\n\t\tfor(int i=0;num;i++)\n\t\t\tdat[i]+=num,\n\t\t\tnum=dat[i]/base,\n\t\t\tdat[i]%=base;\t\t\n\t\treturn *this;\n\t}\n\thyNum &operator+=(const hyNum<base> &num)\n\t{\n\t\tfor(int i=0,z=num.hy();i<=z;i++)\n\t\t\tdat[i]+=num.dat[i],\n\t\t\tdat[i+1]+=dat[i]/base,\n\t\t\tdat[i]%=base;\n\t\treturn *this;\n\t}\n\tvoid init(const char *base10)//\u5c0610\u8fdb\u5236\u5b57\u7b26\u4e32\u6570\u5b57\u8f6c\u5316\u4e3a\u9ad8\u7cbe\u5ea6\u6570\u5b57\n\t{\n\t\tconst char *p=base10;\n\t\twhile(*p)\n\t\t{\n\t\t\t*this*=10;\n\t\t\t*this+=*p-'0';\n\t\t\tp++;\n\t\t}\n\t}\n\tbool operator>(const hyNum<base> &num)const\n\t{\n\t\tint h1=hy(),h2=num.hy();\n\t\tif(h1!=h2)\n\t\t\treturn h1>h2;\n\t\twhile(h1>0&&dat[h1]==num.dat[h1])\n\t\t\th1--;\n\t\treturn dat[h1]>num.dat[h1];\n\t}\n};\nhyNum<POW3_36> m0,pow3;\nhyNum<POW10_17>prl,prr;\nint selcbit[256],maxb=0;//\u4e09\u8fdb\u5236\u4e0b\u4ece\u4f4e\u5230\u9ad8\u6bcf\u4f4d\u7684\u6570\u5b57\u53ca\u6700\u9ad8\u4f4d\u4e0b\u6807\nvoid print(hyNum<POW10_17> num)//10\u6b21\u5e42\u8fdb\u5236\u9ad8\u7cbe\u8f93\u51fa\n{\n\tint hy=num.hy();\n\tprintf(\"%llu\",num.dat[hy]);\n\tfor(int i=hy-1;i>=0;i--)\n\t\tprintf(\"%017llu\",num.dat[i]);\n}\nint mian()\n{\n\t//\u8f93\u5165\n\tscanf(\"%s\",buf);\n\tprr.dat[0]=1,prl.dat[0]=1;\n\tpow3.dat[0]=1;\n\tm0.init(buf);\n\t\n\t//\u5224\u65ad\u8981\u52a0\u7684\u5177\u4f5311...11\n\twhile(m0>pow3)\n\t{\n\t\tpow3*=3;\n\t\tpow3+=1;\n\t}\n\tm0+=pow3;\n\t\n\t//\u8ba1\u7b97\u53d8\u6362\u540e\u6570\u4e09\u8fdb\u5236\u4e0b\u6bcf\u4f4d\u6570\u5b57\n\tint z=m0.hy();\n\tfor(int i=0;i<z;i++)\n\t{\n\t\tfor(int j=0;j<36;j++)\n\t\t\tselcbit[maxb++]=m0.dat[i]%3,\n\t\t\tm0.dat[i]/=3;\n\t}\n\twhile(m0.dat[z])\n\t\tselcbit[maxb++]=m0.dat[z]%3,\n\t\tm0.dat[z]/=3;\n\t\n\t//\u7edf\u8ba1\u7b54\u6848\n\tuint64 cntl=0,cntr=0;\n\tfor(int i=0;i<maxb;i++)\n\t\tif(selcbit[i]==0)\n\t\t\tcntl++;\n\t\telse if(selcbit[i]==2)\n\t\t\tcntr++;\n\t\n\t//\u8f93\u51fa\n\tprintf(\"%llu \",cntl);\n\tfor(int i=0;i<maxb;i++)\n\t{\n\t\tif(selcbit[i]==0)\n\t\t\tprint(prl),\n\t\t\tputchar(' ');\n\t\tprl*=3;\n\t}\n\tputchar('\\n');\n\tprintf(\"%llu \",cntr);\n\tfor(int i=0;i<maxb;i++)\n\t{\n\t\tif(selcbit[i]==2)\n\t\t\tprint(prr),\n\t\t\tputchar(' ');\n\t\tprr*=3;\n\t}\n\tputchar('\\n');\n\treturn 0;\n}\n\n```\n",
        "postTime": 1624600327,
        "uid": 274209,
        "name": "AzzyZhe",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P7649 SCALES"
    }
]