[
    {
        "content": "\u5b98\u65b9\u9898\u89e3\u5148\u6254\u8fd9\u513f\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/yoy8n1rt.png)\n\n\u8349\uff0c\u90a3\u600e\u4e48\u5b9e\u73b0\u5462\uff1f\n\n\u4e8e\u662f\u6211\u8bf7\u6559\u4e86 Dead_X \u5946\u4f6c\uff0c\u5b66\u6765\u4e86\u4ee5\u4e0b\u5b9e\u73b0\uff1a\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u503c\uff0c\u7ef4\u62a4\u5236\u9020\u51fa\u5b83\u7684\u4f4d\u7f6e\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u5305\u542b\u4e24\u4e2a set \uff0c\u4e00\u4e2a\u662f pos  \uff0c\u4ee3\u8868\u52a0\u4e0a\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u6570\uff0c\u53e6\u4e00\u4e2a\u662fneg\uff0c\u8868\u793a\u51cf\u53bb\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u6570\u3002\n\n\u5982\u679c\u53d1\u73b0\u5b58\u5728\u4e24\u4e2a\u6570\u76f8\u540c\uff0c\u5c31\u5bf9\u8fd9\u4e24\u4e2a\u6570\u7684 pos\uff0cneg \u4fdd\u5b58\u7684\u4f4d\u7f6e\u6807\u8bb0\uff0c\u76f4\u63a5 break \uff0c\u5176\u4ed6\u9ed8\u8ba4\u4e3a $0$ \u3002\n\n\u5426\u5219\u5c31\u4e0d\u65ad\u5408\u5e76\uff0c\u8bbe $a<b$ \uff0c\u8981\u8ba9 $b$ \u5403\u4e86 $a$ \uff0c\u5c31\u5728 $b$ \u7684 pos \u96c6\u5408\u4e2d\u5408\u5e76 $a$ \u7684 neg \u96c6\u5408\uff0c\u5728 $b$ \u7684 neg \u96c6\u5408\u4e2d\u5408\u5e76 $a$ \u7684 pos \u96c6\u5408\uff0c\u7136\u540e\u5c06\u503c\u76f8\u51cf\u3002\n\n\u5410\u69fd\u4e00\u53e5\uff0c\u4f60\u968f\u673a\u751f\u6210 $10^{18}$\uff0c $131$ \u4e2a\u70b9\uff0c\u5c31\u6ca1\u6709 $-1$ \u7684\u6570\u636e\uff1f\n\n\u6700\u540e\uff1a\n\n\n>sto DX orz             \n\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define debug(x) cerr<<#x<<' '<<x<<endl\n/* --------------- fast io --------------- */ // begin\nnamespace Fread {\nconst int SIZE = 1 << 26;\nchar buf[SIZE], *S, *T;\ninline char getchar() {\n\tif (S == T) {\n\t\tT = (S = buf) + fread(buf, 1, SIZE, stdin);\n\t\tif (S == T) return '\\n';\n\t}\n\treturn *S++;\n}\n} // namespace Fread\nnamespace Fwrite {\nconst int SIZE = 1 << 26;\nchar buf[SIZE], *S = buf, *T = buf + SIZE;\ninline void flush() {\n\tfwrite(buf, 1, S - buf, stdout);\n\tS = buf;\n}\ninline void putchar(char c) {\n\t*S++ = c;\n\tif (S == T) flush();\n}\nstruct NTR {\n\t~ NTR() { flush(); }\n} ztr;\n} // namespace Fwrite\n#ifdef ONLINE_JUDGE\n\t#define getchar Fread :: getchar\n\t#define putchar Fwrite :: putchar\n#endif\nnamespace Fastio {\nstruct Reader {\n\ttemplate<typename T>\n\tReader& operator >> (T& x) {\n\t\tchar c = getchar();\n\t\tT f = 1;\n\t\twhile (c < '0' || c > '9') {\n\t\t\tif (c == '-') f = -1;\n\t\t\tc = getchar();\n\t\t}\n\t\tx = 0;\n\t\twhile (c >= '0' && c <= '9') {\n\t\t\tx = x * 10 + (c - '0');\n\t\t\tc = getchar();\n\t\t}\n\t\tx *= f;\n\t\treturn *this;\n\t}\n\tReader& operator >> (char& c) {\n\t\tc = getchar();\n\t\twhile (c == '\\n' || c == ' ') c = getchar();\n\t\treturn *this;\n\t}\n\tReader& operator >> (char* str) {\n\t\tint len = 0;\n\t\tchar c = getchar();\n\t\twhile (c == '\\n' || c == ' ') c = getchar();\n\t\twhile (c != '\\n' && c != ' ') {\n\t\t\tstr[len++] = c;\n\t\t\tc = getchar();\n\t\t}\n\t\tstr[len] = '\\0';\n\t\treturn *this;\n\t}\n\tReader(){}\n} cin;\nconst char endl = '\\n';\nstruct Writer {\n\ttemplate<typename T>\n\tWriter& operator << (T x) {\n\t\tif (x == 0) { putchar('0'); return *this; }\n\t\tif (x < 0) { putchar('-'); x = -x; }\n\t\tstatic int sta[45];\n\t\tint top = 0;\n\t\twhile (x) { sta[++top] = x % 10; x /= 10; }\n\t\twhile (top) { putchar(sta[top] + '0'); --top; }\n\t\treturn *this;\n\t}\n\tWriter& operator << (char c) {\n\t\tputchar(c);\n\t\treturn *this;\n\t}\n\tWriter& operator << (char* str) {\n\t\tint cur = 0;\n\t\twhile (str[cur]) putchar(str[cur++]);\n\t\treturn *this;\n\t}\n\tWriter& operator << (const char* str) {\n\t\tint cur = 0;\n\t\twhile (str[cur]) putchar(str[cur++]);\n\t\treturn *this;\n\t}\n\tWriter(){}\n} cout;\n} // namespace Fastio\n#define cin Fastio :: cin\n#define cout Fastio :: cout\n#define endl Fastio :: endl\n/* --------------- fast io --------------- */ // end\n#define int long long\n#define maxn 100010\nstruct stO_DX_Orz{\n\tset<int>pos,neg;//\u52a0\u6cd5\u6807\u8bb0\uff0c\u51cf\u6cd5\u6807\u8bb0 \n\tint d;\n\tbool operator<(const stO_DX_Orz x)const{return d<x.d;}\n}a[maxn];\nint ans[maxn];\nstO_DX_Orz merge(stO_DX_Orz a,stO_DX_Orz b){\n\tfor(int i:b.pos)a.neg.insert(i);\n\tfor(int i:b.neg)a.pos.insert(i);\n\ta.d-=b.d;\n\treturn a;\n}\nint n,T; \nsigned main(){\n#ifndef ONLINE_JUDGE\n\tfreopen(\"testdata.in\",\"r\",stdin);\n#endif\n\tfor(cin>>T;T;T--){\n\t\tcin>>n;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tcin>>a[i].d;\n\t\t\ta[i].pos.clear();//\u591a\u6d4b\u4e0d\u6e05\u7a7a \n\t\t\ta[i].neg.clear();//* * \u4e24\u884c\u6cea \n\t\t\ta[i].pos.insert(i);\n\t\t\tans[i]=0;//\u5148\u9ed8\u8ba4\u4e3a0 \n\t\t}\n\t\tint tmp=n;\n\t\twhile(n){\n\t\t\tint o=n>>1;\n\t\t\tbool F=0;\n\t\t\tsort(a+1,a+n+1);//\u6392\u5e8f \n\t\t\tfor(int i=1;i<=o;i++)\n\t\t\tif(a[i*2-1].d==a[i<<1].d){\n\t\t\t\tF=1;//\u51fa\u73b0\u4e24\u4e2a\u4e00\u6837\u76f4\u63a5\u6807\u8bb0\u7136\u540e\u5176\u4ed6\u9ed8\u8ba40\u7ed3\u675f\u4e86 \n\t\t\t\tfor(int j:a[i*2-1].pos)ans[j]=1;\n\t\t\t\tfor(int j:a[i*2-1].neg)ans[j]=-1;\n\t\t\t\tfor(int j:a[i*2].pos)ans[j]=-1;\n\t\t\t\tfor(int j:a[i*2].neg)ans[j]=1;\n\t\t\t}\n\t\t\tif(F)break;\n\t\t\tfor(int i=1;i<=o;i++)a[i]=merge(a[i*2],a[i*2-1]);\n\t\t\tn>>=1;//\u2191\u5426\u5219\u5408\u5e76\u4e24\u4e2a\uff0c\u5404\u79cd\u4e92\u6362\u6807\u8bb0 \n\t\t}\n\t\tfor(int i=1;i<=tmp;i++)cout<<ans[i]<<' ';\n\t\tcout<<endl;\n\t\t//\u4e5f\u4e0d\u77e5\u9053\u548b\u968f\u673a\u7684\uff0c\u6570\u636e\u83ab\u5f97\u65e0\u89e3 \n\t}\n#ifndef ONLINE_JUDGE\n\tcerr<<endl<<(double)clock()/CLOCKS_PER_SEC;\n#endif\n}\n```\n",
        "postTime": 1626345909,
        "uid": 100325,
        "name": "peterwuyihong",
        "ccfLevel": 7,
        "title": "P7703 \u300cMCOI-09\u300dDream and Strings REMATCH \u8d3a\u9898\u8bb0\u5f55"
    }
]