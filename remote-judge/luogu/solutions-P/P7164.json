[
    {
        "content": "[\u9898\u9762\u94fe\u63a5](https://www.luogu.com.cn/problem/P7164)\n\n\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u4e0b\u5b98\u65b9\u9898\u89e3\u7684\u505a\u6cd5\n\n\u8003\u8651\u5206\u6cbb\uff0c\u90a3\u4e48\u91cd\u70b9\u5c31\u6765\u5230\u4e86\u600e\u4e48\u8ba1\u7b97\u6a2a\u8de8\u533a\u95f4\u4e2d\u70b9\u7684\u8d21\u732e\n\n\u8bbe $f(i,j)$ \u8868\u793a\u533a\u95f4 $[i,j]$ \u5185 $a$ \u7684\u6700\u5c0f\u503c\uff0c$g(i,j)$ \u8868\u793a\u533a\u95f4 $[i,j]$ \u5185 $b$ \u7684\u6700\u5c0f\u503c\u3002\n\n\u90a3\u4e48\u4e00\u4e2a\u533a\u95f4 $[l,r]$ \u7684\u8d21\u732e\u5c31\u662f $f(l,r) \\times g(l,r) \\times (r-l+1) $\u3002\n\n\u8bbe\u5206\u6cbb\u533a\u95f4\u4e2d\u70b9\u4e3a mid\uff0c\u63a5\u4e0b\u6765\u5bf9 $f(i,j)$ \u548c $g(i,j)$ \u7684\u6765\u6e90\u505a\u8ba8\u8bba\uff1a\n\n1. \u4e24\u8005\u90fd\u6765\u81ea mid \u5de6\u8fb9\n2. \u4e24\u8005\u90fd\u6765\u81ea mid \u53f3\u8fb9\n3. f \u7684\u6700\u5c0f\u503c\u6765\u81ea\u5de6\u8fb9\uff0cg \u7684\u6700\u5c0f\u503c\u6765\u81ea\u53f3\u8fb9\n4. g \u7684\u6700\u5c0f\u503c\u6765\u81ea\u5de6\u8fb9\uff0cf \u7684\u6700\u5c0f\u503c\u6765\u81ea\u53f3\u8fb9\n\n\u5176\u4e2d\u60c5\u51b5 1 \u548c\u60c5\u51b5 2 \u5f88\u597d\u5904\u7406\uff0c\u53cc\u6307\u9488\u626b\u4e00\u904d\u5373\u53ef\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u786e\u5b9a\u7684 l \u627e\u5230\u4e00\u4e2a r \u4f7f\u5f97 $f(mid+1,r)$ \u548c $g(mid+1,r)$ \u6070\u597d\u5927\u4e8e $f(l,mid)$ \u548c $g(l,mid)$\u3002\u56e0\u4e3a\u968f\u7740 l \u7684\u5de6\u79fb $f(l,mid)$ \u548c $g(l,mid)$ \u90fd\u662f\u5355\u8c03\u51cf\u5c11\u7684\u6240\u4ee5 r \u5355\u8c03\u5f80\u53f3\u80fd\u8d70\u591a\u8fdc\u8d70\u591a\u8fdc\u5373\u53ef\u3002\n\n\u96be\u70b9\u5728\u4e8e\u60c5\u51b53\u30014\u7684\u5904\u7406\uff0c\u8fd9\u91cc\u4ee5\u60c5\u51b53\u4e3a\u4f8b\uff1a\n\n\u62c6\u4e00\u4e0b\u94c8\u5b50:\n$$ f(l,mid) \\times g(mid+1,r) \\times (r-l+1) = $$\n$$ -l \\times f(l,mid) \\times g(mid+1,r) + (1+r) \\times f(l,mid) \\times g(mid+1,r) = $$\n$$((l \\times f(l,mid)) , f(l,mid)) \\cdot (-g(mid+1,r) , (1+r) \\times (g(mid+1,r)) $$\n\n\u56e0\u4e3a\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u786e\u5b9a\u7684 l \uff0cr \u7684\u53d6\u503c\u8303\u56f4\u662f\u56fa\u5b9a\u7684\uff08\u65b9\u6cd5\u548c\u4e0a\u9762\u60c5\u51b51\u30012\u7c7b\u4f3c\uff09\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u5feb\u901f\u6c42\u51fa\u5728\u533a\u95f4\u5185\u4e0e l \u7684\u90a3\u4e2a\u5411\u91cf\u4f5c\u70b9\u79ef\u7684\u503c\u6700\u5927\u7684 r \u7684\u90a3\u4e2a\u5411\u91cf\u3002\n\n\u7136\u540e\u6211\u4eec\u53d1\u73b0\u4e86[\u8fd9\u9053\u9898](https://www.luogu.com.cn/problem/P3309)\n\n\u7b97\u4e00\u4e0b\u590d\u6742\u5ea6\uff1a\u5206\u6cbb+\u7ebf\u6bb5\u6811\u7ef4\u62a4\u51f8\u5305+\u4e09\u5206\uff0c$O(N\\log^3N)$\uff0c\u80af\u5b9a\u662f\u8fc7\u4e0d\u53bb\u7684\u3002\n\n\u7136\u540e\u6211\u4eec\u53d1\u73b0\uff0c$l \\times f(l,mid)$ \u548c $f(l,mid)$ \u90fd\u662f\u968f\u7740 l \u5355\u8c03\u9012\u51cf\u7684\uff0c\u6240\u4ee5\u8bf4 l \u5bf9\u5e94\u7684\u5411\u91cf\u5728\u4e0d\u65ad\u5730\u9006\u65f6\u9488\u8f6c\u52a8\uff0c\u6240\u4ee5\u7ebf\u6bb5\u6811\u7ef4\u62a4\u7684\u6bcf\u4e2a\u533a\u95f4\u5185\u7684\u6700\u4f18\u89e3\u4e5f\u5e94\u8be5\u662f\u5355\u8c03\u5730\u9006\u65f6\u9488\u8f6c\u52a8\uff08\u601d\u8003\u4e00\u4e0b\u4e3a\u4ec0\u4e48\uff09\u3002\u5bf9\u4e8e\u6bcf\u6b21\u5206\u6cbb\u6c42\u89e3\uff0c\u6211\u4eec\u5bf9\u7ebf\u6bb5\u6811\u7684\u6bcf\u4e2a\u8282\u70b9\u8bb0\u5f55\u4e00\u4e0b\u4e0a\u6b21\u67e5\u8be2\u5f97\u5230\u7684\u6700\u4f18\u503c\u7684\u4f4d\u7f6e\uff0c\u5355\u8c03\u5730\u5411\u4e00\u4e2a\u65b9\u5411\u79fb\u52a8\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u7701\u53bb\u4e86\u4e09\u5206\u7684\u590d\u6742\u5ea6\uff0c$O(N\\log^2N)$\u6210\u529f AC\u3002\n\n~~\u672c\u4eba\u4eba\u50bb\u5e38\u6570\u5927\uff0c\u5f00\u4e86 O2 \u624d\u52c9\u5f3a\u8fc7\u4e86\u7684\u6837\u5b50\uff0c\u4ee3\u7801\u5341\u5206\u4e0d\u5efa\u8bae\u53c2\u8003~~\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define ls (x << 1)\n#define rs ((x << 1) | 1)\n#define int long long \nusing namespace std;\nconst int MAXN = 2e6 + 50;\nconst int MAXM = 25;\nconst int INF = 0x3f3f3f3f3f3f3f3f;\nint w[MAXN], h[MAXN], minw[MAXN][MAXM], minh[MAXN][MAXM];\nint idx[MAXN], lg[MAXN];\nint N;\nstruct node\n{\n    int x, y;\n    node(){}\n    node(int a, int b)\n    {\n        x = a;\n        y = b;\n    }\n    bool operator<(const node &tmp) const\n    {\n        return (x == tmp.x) ? y < tmp.y : x < tmp.x;\n    }\n    node operator+(const node &tmp) const\n    {\n        return node(x + tmp.x, y + tmp.y);\n    }\n    node operator-(const node &tmp) const\n    {\n        return node(x - tmp.x, y - tmp.y);\n    }\n    int operator*(const node &tmp) const\n    {\n        return x * tmp.y - y * tmp.x;\n    }\n} s[MAXN * 10], po[MAXN], q[MAXN * 2], p[MAXN];\nint tot, ans;\nstruct SegT\n{\n    int lt[MAXN * 4], rt[MAXN * 4], pos[MAXN * 4];\n    void build(int x, int l, int r)\n    {\n        int cnt = 0;\n        for (int i = l; i <= r; ++i)\n            p[++cnt] = po[i];\n        // sort(p + 1, p + cnt + 1);\n        int top = 0;\n        for (int i = 1; i <= cnt; ++i)\n        {\n            while (top > 1 && (q[top] - q[top - 1]) * (p[i] - q[top]) >= 0)\n                top--;\n            q[++top] = p[i];\n        }\n        lt[x] = tot + 1;\n        for (int i = 1; i <= top; ++i)\n        {\n            s[++tot] = q[i];\n            q[i] = node(0, 0);\n        }\n        rt[x] = tot;\n        pos[x] = rt[x];\n    }\n    void update(int x, int l, int r, int t)\n    {\n        if (r == t)\n            build(x, l, r);\n        if (l == r)\n            return;\n        int mid = (l + r) >> 1;\n        if (t <= mid)\n            update(ls, l, mid, t);\n        else\n            update(rs, mid + 1, r, t);\n    }\n    bool check(int x, node t)\n    {\n        return (s[x - 1].x * t.x + s[x - 1].y * t.y >= s[x].x * t.x + s[x].y * t.y);\n    }\n    int calc(int x, node t)\n    {\n        int now = pos[x];\n        while (check(now, t) && now > lt[x])\n            now--;\n        pos[x] = now;\n        return s[now].x * t.x + s[now].y * t.y;\n    }\n    int query(int x, int l, int r, int tl, int tr, node t)\n    {\n        if (tl > r || tr < l)\n            return -INF;\n        if (tl <= l && tr >= r)\n            return calc(x, t);\n        int mid = (l + r) >> 1;\n        return max(query(ls, l, mid, tl, tr, t), query(rs, mid + 1, r, tl, tr, t));\n    }\n} T;\nvoid rmqpre()\n{\n    for (int i = 1; i <= N; ++i)\n    {\n        minw[i][0] = w[i];\n        minh[i][0] = h[i];\n    }\n    for (int j = 1; j <= 20; ++j)\n        for (int i = 1; i <= N; ++i)\n        {\n            minw[i][j] = min(minw[i][j - 1], minw[i + (1 << (j - 1))][j - 1]);\n            minh[i][j] = min(minh[i][j - 1], minh[i + (1 << (j - 1))][j - 1]);\n        }\n}\ninline int geth(int l, int r)\n{\n    int len = r - l + 1;\n    int k = lg[len];\n    return min(minh[l][k], minh[r - (1 << k) + 1][k]);\n}\ninline int getw(int l, int r)\n{\n    int len = r - l + 1;\n    int k = lg[len];\n    return min(minw[l][k], minw[r - (1 << k) + 1][k]);\n}\nvoid calc1(int l, int r)\n{\n    int mid = (l + r) >> 1;\n    int lt = mid;\n    int rt = mid;\n    while (lt >= l)\n    {\n        while (getw(mid + 1, rt + 1) >= getw(lt, mid) && geth(mid + 1, rt + 1) >= geth(lt, mid) && rt < r)\n            rt++;\n        if (rt > mid)\n            ans = max(ans, (rt - lt + 1) * getw(lt, mid) * geth(lt, mid));\n        lt--;\n    }\n}\nvoid calc2(int l, int r)\n{\n    int mid = (l + r) >> 1;\n    int lt = mid + 1;\n    int rt = mid + 1;\n    while(rt <= r)\n    {\n        while (getw(lt - 1, mid) >= getw(mid + 1, rt) && geth(lt - 1, mid) >= geth(mid + 1, rt) && lt > l)\n            lt--;\n        if (lt < mid + 1)\n            ans = max(ans, (rt - lt + 1) * getw(mid + 1, rt) * geth(mid + 1, rt));\n        rt++;\n    }\n}\nvoid clear(int l, int r)\n{\n    tot = 0;\n}\nvoid calc3(int l, int r)//w->r,h->l\n{\n    int mid = (l + r) >> 1;\n    int tt = 0;\n    clear(l, r);\n    for (int i = mid + 1; i <= r; ++i)\n    {\n        po[++tt] = node(-getw(mid + 1, i), getw(mid + 1, i) * (1 + i));\n        T.update(1, 1, N, tt);\n    }\n    int lt = mid;\n    int rt = mid;\n    for (int i = mid; i >= l; --i)\n    {\n        while (getw(mid + 1, lt + 1) >= getw(i, mid) && lt < r)\n            lt++;\n        while (geth(mid + 1, rt + 1) >= geth(i, mid) && rt < r)\n            rt++;\n        if (rt > mid && rt > lt)\n        {\n            ans = max(ans, T.query(1, 1, N, lt - mid + 1, rt - mid, node(i * geth(i, mid), geth(i, mid))));\n            // cout << mid << \" \" << i << \":\" << lt << \" \" << rt << \":\" << ans << \" \" << endl;\n        }\n    }\n}\nvoid calc4(int l, int r)//h->r,w->l\n{\n    int mid = (l + r) >> 1;\n    int tt = 0;\n    clear(l, r);\n    for (int i = mid + 1; i <= r; ++i)\n    {\n        po[++tt] = node(-geth(mid + 1, i), geth(mid + 1, i) * (1 + i));\n        T.update(1, 1, N, tt);\n    }\n    int lt = mid;\n    int rt = mid;\n    for (int i = mid; i >= l; --i)\n    {\n        while (geth(mid + 1, lt + 1) >= geth(i, mid) && lt < r)\n            lt++;\n        while (getw(mid + 1, rt + 1) >= getw(i, mid) && rt < r)\n            rt++;\n        if (rt > mid && rt > lt)\n        {\n            ans = max(ans, T.query(1, 1, N, lt - mid + 1, rt - mid, node(i * getw(i, mid), getw(i, mid))));\n            // cout << mid << \" \" << i << \":\" << lt << \" \" << rt << \":\" << ans << endl;\n        }\n    }\n}\nvoid solve(int l, int r)\n{\n    if (l == r)\n    {\n        ans = max(w[l] * h[l], ans);\n        return;\n    }\n    int mid = (l + r) >> 1;\n    solve(l, mid);\n    solve(mid + 1, r);\n    calc1(l, r);\n    calc2(l, r);\n    calc3(l, r);\n    calc4(l, r);\n}\nsigned main()\n{\n    // freopen(\"test.in\", \"r\", stdin);\n    scanf(\"%lld\", &N);\n    for (int i = 1; i <= N; ++i)\n        scanf(\"%lld%lld\", &h[i], &w[i]);\n    rmqpre();\n    lg[1] = 0;\n    for (int i = 2; i <= N; ++i)\n        lg[i] = lg[i >> 1] + 1;\n    ans = 0;\n    solve(1, N);\n    printf(\"%lld\\n\", ans);\n    return 0;\n}\n\n```\n",
        "postTime": 1614613766,
        "uid": 63743,
        "name": "DrBit",
        "ccfLevel": 6,
        "title": "P7164 [COCI2020-2021#1] 3D Histogram \uff08\u5206\u6cbb+\u7ebf\u6bb5\u6811+\u51f8\u5305\uff09"
    },
    {
        "content": "\u53d1\u73b0\u9898\u89e3\u533a\u6ca1\u6709\u672c\u505a\u6cd5\u4e8e\u662f\u6765\u53d1\u4e00\u7bc7~\n\n\u9898\u76ee\u5927\u610f\u5c31\u662f\u8ba9\u6c42 \n\n$$\\max\\limits_{j\\leq i}\\{(i-j+1)\\min\\limits_{k=j}^ia_k\\min\\limits_{k=i}^jb_k\\}$$\n\n\u90a3\u4e48\u6211\u4eec\u8003\u8651\u628a\u4e0a\u9762\u7684\u5f0f\u5b50\u62c6\u6210\u4e09\u9879\u76f8\u4e58\uff0c\u79fb\u52a8\u6307\u9488 $i$ \u7ef4\u62a4\u6bcf\u4e2a\u6307\u9488 $j$ \u5230\u5b83\u7684\u7b54\u6848\uff0c\u6bcf\u6b21\u53d6 max \u5373\u53ef\u3002\n\n\u5207\u6362\u4e00\u4e0b\u53d8\u91cf\u540d\uff0c\u8bbe $av$ \u4e3a\u9898\u76ee\u4e2d\u7ed9\u51fa\u7684 $a$ \u6570\u7ec4\uff0c$a_j$ \u4e3a $\\min\\limits_{k=j}^{i}av_k$\uff0c\u5269\u4e0b\u4e24\u4e2a\u6570\u7ec4\u7c7b\u4f3c\u3002\n\n\u9996\u5148\u63a5\u7740\u8ba9\u6211\u4eec\u62c6\u4e00\u4e0b\u5f0f\u5b50\u3002\u4e0b\u9762\u94a6\u5b9a $j\\geq k$\uff0c\u5219$a_j\\geq a_k,b_j\\geq b_k$\u3002\n\n\u5982\u679c\u4ee4 $v_i=a_i\\times b_i$\uff0c\u5219\u82e5\u5bf9\u4e8e\u5f53\u524d\u7684 $i$\uff0c$ans_j\\geq ans_k$\uff0c\u6709\uff1a\n\n$$(i-j+1)v_j\\geq (i-k+1)v_k$$\n$$(v_j-v_k)(i+1)\\geq jv_j-kv_k$$\n$$i+1\\geq \\frac{jv_j-kv_k}{(v_j-v_k)}$$\n\n\u5bb9\u6613\u770b\u51fa\uff0c\u53ea\u8981\u6211\u4eec\u7ef4\u62a4\u51fa\u4e00\u4e2a\u51f8\u5305\u5c31\u53ef\u4ee5\u6c42\u6700\u503c\u4e86\u3002\n\n\u90a3\u4e48\u5982\u4f55\u7ef4\u62a4\u5462\uff1f\n\n\u6211\u4eec\u4f7f\u7528\u5355\u8c03\u6808\u6c42\u51fa\u5bf9\u4e8e\u5f53\u524d\u7684 $i$\uff0c\u7b2c\u4e8c\u9879\u9700\u8981\u6539\u53d8\u7684\u8303\u56f4 $[l_1,i]$\uff0c\u7b2c\u4e09\u9879\u9700\u8981\u6539\u53d8\u7684\u8303\u56f4 $[l_2,i]$\uff0c\u5728\u4e0b\u56fe\u4e2d\u8ba8\u8bba $l_1\\leq l_2$\u7684\u60c5\u51b5\uff0c$l_2\\leq l_1$ \u7684\u60c5\u51b5\u7c7b\u4f3c\u3002\u4f4d\u7f6e\u5173\u7cfb\u5982\u4e0b\u56fe\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ttsbm0z6.png)\n\n\u5bf9\u4e8e\u4fee\u6539\u64cd\u4f5c\uff1a\n\n\u5bf9\u4e8e $j\\in[l_1,l_2)$ \u8981\u5c06\u6240\u6709\u7684 $a_j\\to av_i$\uff0c\u5bf9\u4e8e $j\\in[l_2,i]$ \u8981\u5c06\u6240\u6709\u7684 $a_j\\to av_i,b_j\\to bv_i$\u3002\n\n\u533a\u95f4\u8d4b\u503c\u5927\u5bb6\u90fd\u4f1a\uff0c\u95ee\u9898\u662f\u5982\u4f55\u7ef4\u62a4\u51f8\u5305\u3002\u4fee\u6539\u540e\u663e\u7136\u6709\u5bf9\u4e8e $j\\in[l_2,i]$ \u53ea\u6709 $l_2$ \u8fd9\u4e2a\u4f4d\u7f6e\u53ef\u80fd\u5728\u51f8\u5305\u4e0a\u7ee7\u7eed\u5b58\u5728\uff0c\u6240\u4ee5\u628a\u522b\u7684\u4f4d\u7f6e\u90fd\u5220\u6389\u5c31\u884c\u4e86\u3002\u5bf9\u4e8e $j\\in[l_1,l_2)$ \u6709\u4efb\u610f $a_j$ \u76f8\u7b49\uff0c\u90a3\u4e48\u63a5\u4e0a\u4e0a\u9762\u7684\u5f0f\u5b50\uff0c\u6709\uff1a\n\n$$i+1\\geq \\frac{ja_jb_j-ka_kb_k}{a_jb_j-a_kb_k}$$\n$$i+1\\geq \\frac{jb_j-kb_k}{b_j-b_k}$$\n\n\u53d1\u73b0\u51f8\u5305\u548c $a$ \u65e0\u5173\uff0c\u4e8e\u662f\u6211\u4eec\u53e6\u5916\u7ef4\u62a4\u4e00\u4e2a $b$ \u7684\u51f8\u5305\uff0c\u6c42\u7b54\u6848\u65f6\u4e58\u4e0a\u4e00\u4e2a $a$ \u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u76f8\u5bf9\u5e94\u7684\u53e6\u4e00\u79cd\u60c5\u51b5\u6211\u4eec\u4e5f\u8981\u7ef4\u62a4 $a$ \u7684\u51f8\u5305\uff0c\u4f46\u662f\u5728\u4e0a\u9762\u7684\u60c5\u51b5\u4e2d\u663e\u7136\u6709\u5bf9\u4e8e $j\\in[l_1,l_2)$ \u53ea\u6709 $l_1$ \u8fd9\u4e2a\u4f4d\u7f6e\u53ef\u80fd\u5728\u51f8\u5305\u4e0a\u7ee7\u7eed\u5b58\u5728\u3002\u4e8e\u662f\u628a\u522b\u7684\u4f4d\u7f6e\u90fd\u5220\u6389\u5c31\u884c\u4e86\u3002\n\n\u5269\u4e0b\u90e8\u5206\u4e0d\u7528\u52a8\u3002\u7136\u540e\u6211\u4eec\u76f4\u63a5\u5728\u51f8\u5305\u4e0a\u4e8c\u5206\u5c31\u884c\u4e86......\u5417\uff1f\n\n\u5982\u679c\u7528\u7ebf\u6bb5\u6811\u8fd9\u6837\u505a\uff0c\u4e00\u4e2a\u7236\u8282\u70b9\u65e0\u6cd5\u8f7b\u6613\u5408\u5e76\u4e24\u4e2a\u5b50\u8282\u70b9\u4fe1\u606f\u3002\u6240\u4ee5\u6211\u4eec\u8003\u8651\u5206\u5757\u3002\u8bbe\u5757\u957f\u4e3a $B$\u3002\n\n\u5bf9\u4e8e\u6563\u5757\u4fee\u6539\uff0c\u6211\u4eec\u66b4\u529b\u91cd\u6784\uff0c\u590d\u6742\u5ea6 $O(B)$\uff0c\u6574\u5757\u6253\u4e0a\u533a\u95f4\u8d4b\u503c\u6807\u8bb0\u5373\u53ef\uff0c\u590d\u6742\u5ea6 $O(\\frac{n}{B})$ \u3002\n\n\u5bf9\u4e8e\u67e5\u8be2\u64cd\u4f5c\uff0c\u6563\u5757\u53ef\u4ee5\u66b4\u529b\u53d6\u6700\u503c\uff0c\u590d\u6742\u5ea6 $O(B)$ \uff0c\u6574\u5757\u53ef\u4ee5\u5728\u51f8\u5305\u4e0a\u4e8c\u5206\uff0c\u590d\u6742\u5ea6 $O(\\frac{n}{B}\\log n)$\u3002\n\n\u90a3\u4e48\u603b\u590d\u6742\u5ea6\u5c31\u662f $O(n(B+\\frac{n}{B}\\log n))$ \u7684\uff0c\u5bb9\u6613\u53d1\u73b0\u5f53 $B$ \u53d6\u5230 $\\sqrt{n\\log n}$ \u65f6\u7406\u8bba\u590d\u6742\u5ea6\u6700\u4f18\uff0c\u4e3a $O(n\\sqrt{n\\log n})$\u3002\n\n\u4e0a\u9762\u8ba8\u8bba\u7684\u662f\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u800c\u7a7a\u95f4\u590d\u6742\u5ea6\u7531\u4e8e\u53ea\u9700\u8981\u5bf9\u6bcf\u4e2a\u5757\u5f00\u5757\u957f\u7684\u51f8\u5305\uff0c\u662f $O(n)$ \u7684\u3002~~\u7206\u6807\u4e86~~\n\n\n### Code\n\n```cpp\n\n#include<cassert>\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\nnamespace EMT{\n\ttypedef long long ll;typedef long double db;\n\t#define pf printf\n\t#define F(i,a,b) for(int i=a;i<=b;i++)\n\t#define D(i,a,b) for(int i=a;i>=b;i--)\n\tinline int read(){int x=0,f=1;char ch=getchar();while(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}while(ch>='0'&&ch<='9')x=x*10+ch-'0',ch=getchar();return x*f;}\n\tinline void file(){freopen(\"cuboid.in\",\"r\",stdin);freopen(\"cuboid.out\",\"w\",stdout);}\n\tinline ll max(ll a,ll b){return a>b?a:b;}inline int min(int a,int b){return a<b?a:b;}\n\tinline void pi(int x){pf(\"%d \",x);}inline void pn(){pf(\"\\n\");}\n\tconst int N=2e5+10,B=200;const db inf=1e18;\n\tstruct dp{ll x,y;db K;friend bool operator <(dp a,dp b){return a.K<b.K;}}s[N/B+10][3][B+10];\n\tint top[N/B+10][3],bel[N],L[N/B+10],R[N/B+10],n,a[N],b[N],av[N],bv[N],lz1[N/B+10],lz2[N/B+10],nw;ll ans;\n\tinline db slope(dp &a,dp &b){return (db)(a.y-b.y)/(db)(a.x-b.x);}\n\tinline void down(int x){\n\t\tint lim=min(nw,R[x]);\n\t\tif(lz1[x]){F(i,L[x],lim)a[i]=lz1[x];lz1[x]=0;}\n\t\tif(lz2[x]){F(i,L[x],lim)b[i]=lz2[x];lz2[x]=0;}\n\t}\n\tinline void build(int x){\n\t\tint lim=min(nw,R[x]);\n\t\ttop[x][0]=0;\n\t\tF(i,L[x],lim){\n\t\t\tif(i>L[x]&&a[i]==a[i-1])continue;\n\t\t\tdp p={a[i],1ll*i*a[i],0};\n\t\t\twhile(top[x][0]>1&&slope(s[x][0][top[x][0]-1],p)<=s[x][0][top[x][0]-1].K)top[x][0]--;\n\t\t\tif(top[x][0])s[x][0][top[x][0]].K=slope(s[x][0][top[x][0]],p);s[x][0][++top[x][0]]=p;\n\t\t}s[x][0][top[x][0]].K=inf;\n\t\ttop[x][1]=0;\n\t\tF(i,L[x],lim){\n\t\t\tif(i>L[x]&&b[i]==b[i-1])continue;\n\t\t\tdp p={b[i],1ll*i*b[i],0};\n\t\t\twhile(top[x][1]>1&&slope(s[x][1][top[x][1]-1],p)<=s[x][1][top[x][1]-1].K)top[x][1]--;\n\t\t\tif(top[x][1])s[x][1][top[x][1]].K=slope(s[x][1][top[x][1]],p);s[x][1][++top[x][1]]=p;\n\t\t}s[x][1][top[x][1]].K=inf;\n\t\ttop[x][2]=0;\n\t\tF(i,L[x],lim){\n\t\t\tif(i>L[x]&&1ll*a[i]*b[i]==1ll*a[i-1]*b[i-1])continue;\n\t\t\tdp p={1ll*a[i]*b[i],1ll*i*a[i]*b[i],0};\n\t\t\twhile(top[x][2]>1&&slope(s[x][2][top[x][2]-1],p)<=s[x][2][top[x][2]-1].K)top[x][2]--;\n\t\t\tif(top[x][2])s[x][2][top[x][2]].K=slope(s[x][2][top[x][2]],p);s[x][2][++top[x][2]]=p;\n\t\t}s[x][2][top[x][2]].K=inf;\n\t}\n\tinline void change1(int l,int r,int tp,int v){\n\t\tif(bel[l]==bel[r]){\n\t\t\tdown(bel[l]);\n\t\t\tF(i,l,r)if(tp==1)a[i]=v;else b[i]=v;\n\t\t\tbuild(bel[l]);\n\t\t}else{\n\t\t\tdown(bel[l]),down(bel[r]);\n\t\t\tF(i,l,R[bel[l]])if(tp==1)a[i]=v;else b[i]=v;\n\t\t\tF(i,L[bel[r]],r)if(tp==1)a[i]=v;else b[i]=v;\n\t\t\tbuild(bel[l]),build(bel[r]);\n\t\t\tF(i,bel[l]+1,bel[r]-1){\n\t\t\t\tif(tp==1){\n\t\t\t\t\tlz1[i]=v;\n\t\t\t\t\ts[i][0][top[i][0]=1]={v,1ll*L[i]*v,inf};\n\t\t\t\t}else{\n\t\t\t\t\tlz2[i]=v;\n\t\t\t\t\ts[i][1][top[i][1]=1]={v,1ll*L[i]*v,inf};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tinline void change2(int l,int r,int v1,int v2){\n\t\tif(bel[l]==bel[r]){\n\t\t\tdown(bel[l]);\n\t\t\tF(i,l,r)a[i]=v1,b[i]=v2;\n\t\t\tbuild(bel[l]);\n\t\t}else{\n\t\t\tdown(bel[l]),down(bel[r]);\n\t\t\tF(i,l,R[bel[l]])a[i]=v1,b[i]=v2;\n\t\t\tF(i,L[bel[r]],r)a[i]=v1,b[i]=v2;\n\t\t\tbuild(bel[l]),build(bel[r]);\n\t\t\tF(i,bel[l]+1,bel[r]-1){\n\t\t\t\tlz1[i]=v1,lz2[i]=v2;\n\t\t\t\ts[i][0][top[i][0]=1]={v1,1ll*L[i]*v1,inf};\n\t\t\t\ts[i][1][top[i][1]=1]={v2,1ll*L[i]*v2,inf};\n\t\t\t}\n\t\t}\n\t}\n\tinline ll clac(dp &p,int v){\n\t\treturn 1ll*v*p.x-p.y;\n\t}\n\tinline void ask(int l,int r,int v){\n\t\tif(bel[l]==bel[r]){\n\t\t\tdown(bel[l]);\n\t\t\tF(i,l,r)ans=max(ans,1ll*a[i]*b[i]*(nw-i+1));\n\t\t}else{\n\t\t\tdown(bel[l]),down(bel[r]);\n\t\t\tF(i,l,R[bel[l]])ans=max(ans,1ll*a[i]*b[i]*(nw-i+1));\n\t\t\tF(i,L[bel[r]],r)ans=max(ans,1ll*a[i]*b[i]*(nw-i+1));\n\t\t\tF(i,bel[l]+1,bel[r]-1){\n\t\t\t\tif(lz1[i]){\n\t\t\t\t\tint x=std::lower_bound(s[i][1]+1,s[i][1]+top[i][1]+1,(dp){0,0,(db)v})-s[i][1];\n\t\t\t\t\tif(x<=top[i][1])ans=max(ans,1ll*lz1[i]*clac(s[i][1][x],v));\n\t\t\t\t\tif(x+1<=top[i][1])ans=max(ans,1ll*lz1[i]*clac(s[i][1][x+1],v));\n\t\t\t\t\tif(x-1)ans=max(ans,1ll*lz1[i]*clac(s[i][1][x-1],v));\n\t\t\t\t}else if(lz2[i]){\n\t\t\t\t\tint x=std::lower_bound(s[i][0]+1,s[i][0]+top[i][0]+1,(dp){0,0,(db)v})-s[i][0];\n\t\t\t\t\tif(x<=top[i][0])ans=max(ans,1ll*lz2[i]*clac(s[i][0][x],v));\n\t\t\t\t\tif(x+1<=top[i][0])ans=max(ans,1ll*lz2[i]*clac(s[i][0][x+1],v));\n\t\t\t\t\tif(x-1)ans=max(ans,1ll*lz2[i]*clac(s[i][0][x-1],v));\n\t\t\t\t}else{\n\t\t\t\t\tint x=std::lower_bound(s[i][2]+1,s[i][2]+top[i][2]+1,(dp){0,0,(db)v})-s[i][2];\n\t\t\t\t\tif(x<=top[i][2])ans=max(ans,clac(s[i][2][x],v));\n\t\t\t\t\tif(x+1<=top[i][2])ans=max(ans,clac(s[i][2][x+1],v));\n\t\t\t\t\tif(x-1)ans=max(ans,clac(s[i][2][x-1],v));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tinline short main(){\n\t\tn=read();\n\t\tF(i,1,n)av[i]=read(),bv[i]=read(),bel[i]=(i-1)/B+1;\n\t\tF(i,1,bel[n])L[i]=R[i-1]+1,R[i]=min(n,i*B);\n\t\tstatic int sta1[N],top1,sta2[N],top2;\n\t\tF(i,1,n){\n\t\t\tnw=i;\n\t\t\twhile(top1&&av[sta1[top1]]>=av[i])top1--;\n\t\t\tint l1=sta1[top1]+1;sta1[++top1]=i;\n\t\t\twhile(top2&&bv[sta2[top2]]>=bv[i])top2--;\n\t\t\tint l2=sta2[top2]+1;sta2[++top2]=i;\n\t\t\tif(l1<l2)change1(l1,l2-1,1,av[i]);\n\t\t\tif(l2<l1)change1(l2,l1-1,2,bv[i]);\n\t\t\tchange2(max(l1,l2),i,av[i],bv[i]);\n\t\t\tif(i==R[bel[i]])build(bel[i]);\n\t\t\task(1,i,i+1);\n\t\t}pf(\"%lld\\n\",ans);\n\t\treturn 0;\n\t}\n}\nsigned main(){return EMT::main();}\n\n```\n\n\u53ef\u80fd\u6700\u8fd1 Ynoi \u505a\u591a\u4e86\uff0c\u5bfc\u81f4\u4e00\u770b\u5230\u6570\u636e\u7ed3\u6784\u9898\u5c31\u5f80\u6839\u53f7\u4e0a\u60f3...\n\n\u6709\u6ca1\u6709\u597d\u54e5\u54e5\u80fd\u628a\u590d\u6742\u5ea6\u91cc\u9762\u7684 $\\log n$ \u53bb\u6389\u554a\uff01",
        "postTime": 1659600146,
        "uid": 451066,
        "name": "letitdown",
        "ccfLevel": 9,
        "title": "P7164\u5206\u5757\u505a\u6cd5"
    },
    {
        "content": "\u8fd9\u9898\u4f3c\u4e4e\u4e5f\u5f88\u5957\u8def\u3002\u5b9e\u9645\u4e0a\u662f\u6c42 $\\max_{l\\le r}\\min a[l,r]\\times\\min b[l,r]\\times(r-l+1)$ \u3002\u6700\u5f00\u59cb\u60f3\u7684\u662f\u6700\u503c\u5206\u6cbb\uff0c\u4f46\u662f\u6700\u503c\u5206\u6cbb\u7684\u5f0a\u7aef\u5728\u4e8e\u4e3a\u4e86\u4fdd\u8bc1\u590d\u6742\u5ea6\u53ea\u80fd\u626b\u66f4\u77ed\u7684\u90a3\u4e00\u8fb9\uff0c\u53ea\u8981\u590d\u6742\u5ea6\u4e0e\u66f4\u957f\u7684\u90a3\u4e00\u8fb9\u7684\u957f\u5ea6\u6302\u94a9\u5c31\u5bc4\u98de\u4e86\u3002\u800c\u8fd9\u9898\u662f\u81f4\u547d\u7684\u4e24\u4e2a\u6570\u7ec4\u7684 $\\min$\uff0c\u6700\u503c\u5206\u6cbb\u53ea\u80fd\u9650\u5236\u4e00\u4e2a\u6570\u7ec4\uff0c\u53e6\u4e00\u4e2a\u6570\u7ec4\u7684 $\\min$ \u7684\u4f4d\u7f6e\u53ef\u4ee5\u968f\u5fc3\u6240\u6b32\uff0c\u6240\u4ee5\u590d\u6742\u5ea6\u4e0d\u592a\u53ef\u80fd\u4e0e\u66f4\u957f\u7684\u90a3\u4e00\u8fb9\u8131\u94a9\u3002\n\n\u6700\u503c\u5206\u6cbb\u5927\u5931\u8d25\uff0c\u6211\u4eec\u53bb\u60f3\u6700\u6734\u5b9e\u7684\u6309\u4e2d\u70b9\u5206\u6cbb\uff0c\u53d1\u73b0\u8d62\u9ebb\u4e86\u3002\u8003\u8651 $a,b$ \u7684 $\\min$ \u5206\u522b\u5728\u54ea\u8fb9\u53d6\u5f97\uff0c\u5982\u679c\u90fd\u5728\u540c\u4e00\u8fb9\u90a3\u4e48\u53e6\u4e00\u8fb9\u7684\u957f\u5ea6\u662f\u4e24\u4e2a\u5f62\u5982 $\\le x,\\le y$ \u7684\u9650\u5236\uff0c$x,y$ \u90fd\u5177\u6709\u5355\u8c03\u6027\uff0c\u5728 $a,b$ \u7684\u6700\u5c0f\u503c\u5747\u5df2\u786e\u5b9a\u540e\u663e\u7136\u957f\u5ea6\u8d8a\u5927\u8d8a\u4f18\uff0c\u62ff\u53cc\u6307\u9488\u626b\u4e00\u904d\u5c31\u597d\u3002\u800c\u5982\u679c\u662f\u4e00\u5de6\u4e00\u53f3\uff0c\u4e0d\u59a8\u8bbe $a$ \u7684 $\\min$ \u5728\u5de6\u8fb9\u53d6\u5f97\uff0c$b$ \u7684 $\\min$ \u5728\u53f3\u8fb9\u53d6\u5f97\u3002\u679a\u4e3e\u5de6\u8fb9\u7684\u957f\u5ea6 $k$\uff0c\u4e0d\u96be\u770b\u51fa\u53f3\u8fb9\u7684\u5408\u6cd5\u4f4d\u7f6e\u7ec4\u6210\u4e86\u4e00\u6bb5\u533a\u95f4 $[L,R]$\u3002\u8bb0 $A_i=\\min a[M-i+1,M],B_i=\\min b[M+1,M+i]$\uff08$M$ \u4e3a\u5206\u6cbb\u4e2d\u70b9\u7684\u4e0b\u6807\uff09\uff0c\u5f53\u524d\u957f\u5ea6 $k$ \u7684\u8d21\u732e\u5373\u4e3a $\\max_{i=L}^R A_kB_i(i+k)$\uff0c\u4e8e\u662f\u76ee\u6807\u53d8\u4e3a\u6c42 $\\max_{i=L}^R B_ii+B_ik\\iff \\max_{i=L}^R (B_ii,B_i)\\cdot(1,k)$\u3002\u5373\u4e00\u6bb5\u533a\u95f4\u5185\u7684\u6240\u6709\u51fd\u6570\u7684\u6700\u503c\uff0c\u53ef\u4ee5\u7528\u7ebf\u6bb5\u6811\u5957\u674e\u8d85\u6811\u7ef4\u62a4\uff0c\u6bcf\u4e00\u5c42\u7684\u590d\u6742\u5ea6\u4e3a $O(n\\log^2n)$\uff0c\u603b\u590d\u6742\u5ea6 $O(n\\log^3n)$\u3002\u6ce8\u610f\u5230 $k$ \u662f\u9012\u589e\u7684\uff0c\u56e0\u6b64\u6700\u4f18\u89e3\u5728\u4e0a\u51f8\u58f3\u4e0a\u4e0d\u65ad**\u5411\u5de6\u79fb\u52a8**\uff0c\u7528\u7ebf\u6bb5\u6811\u7ef4\u62a4\u4e0a\u51f8\u58f3\uff0c\u6bcf\u4e2a\u7ebf\u6bb5\u6811\u7ed3\u70b9\u989d\u5916\u7ef4\u62a4\u4e00\u4e2a\u6700\u4f18\u89e3\u6307\u9488\u5c31\u53ef\u4ee5\u505a\u5230\u6bcf\u5c42 $O(n\\log n)$\uff0c\u603b\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log^2n)$\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6 $O(n\\log n)$\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff08\u4eba\u50bb\u5e38\u6570\u5927\uff0c\u4e0d\u5438\u6c27\u8dd1\u4e0d\u8fc7\u53bb/qd\uff09\uff1a\n```cpp\n//author:\u671b\u8fdc\u661f\n#include<bits/stdc++.h>\n#define pii pair<int,int>\n#define fi first\n#define se second\n#define pb push_back\n#define eb emplace_back\n#define mk make_pair\n#define sml(x,y) (x=min(x,y))\n#define big(x,y) (x=max(x,y))\n#define ll long long\n#define uint unsigned int\n#define ull unsigned long long\n#define umap unordered_map\n#define db double\n#define fo(i,x,y) for(int i=x;i<=y;++i)\n#define go(i,x,y) for(int i=x;i>=y;--i)\n#define ptc putchar\n#define emp emplace\nusing namespace std;\nll seed=chrono::system_clock::now().time_since_epoch().count();\nmt19937 rnd(seed);\ninline int rm(int x,int y){return (int)(rnd()%(y-x+1ll)+x);}\ninline int read(){int ch=getchar(),x=0,f=1;while(!isdigit(ch)){if(ch==(int)('-'))f=-1;ch=getchar();}while(isdigit(ch)){x=(x<<1)+(x<<3)+(ch^48);ch=getchar();}return x*f;}\ninline void out(int *a,int l,int r){fo(i,l,r) cout<<*(a+i)<<' ';puts(\"\");}\n\nconst int N=2e5+5,V=1e6+1;\nint n,a[N],b[N],A[N],B[N];\nll ans;//nV^2\n\nstruct vec{\n\tll x;//x:ai*i,bi*i,1 <=10^12\n\tint y;//y:ai,bi,k <=10^6\n\tvec(){x=0,y=0;}\n\tvec(ll X,int Y){x=X,y=Y;} \n}ve[N];\nvec operator+(const vec &x,const vec &y){return vec(x.x+y.x,x.y+y.y);}\nvec operator-(const vec &x,const vec &y){return vec(x.x-y.x,x.y-y.y);}\nll operator*(const vec &x,const vec &y){return x.x*y.x+(ll)x.y*y.y;} \nbool operator/(const vec &x,const vec &y){return x.x*y.y<=x.y*y.x;}\nbool operator<(const vec &x,const vec &y){return x.x<y.x;} \n\nnamespace Seg{\nstruct Node{\n\tvector<vec> ve,stk;\n\tull top,id;//\u8fd9\u91cc\u7528 ull \u5e94\u8be5\u4e0d\u4f1a\u51fa\u4e8b\u5427QAQ \n\tvoid play_it(){\n\t\ttop=0;\n\t\tfor(auto i:ve){\n\t\t\twhile(top>1&&(stk[top]-stk[top-1])/(stk[top]-i)) top--;\n\t\t\tstk[++top]=i;\n\t\t}\n\t\tid=top;\n\t\t//printf(\"top=%d\\n\",top);\n\t}\n\tll ask(int k){//\u8be2\u95ee (1,k) \u4e0e stk \u4e2d\u5411\u91cf\u4e58\u79ef\u7684\u6700\u5927\u503c\uff0ck \u5355\u589e\n\t\t//printf(\"ask(%d) %llu,%llu\\n\",k,id,top);\n\t\tvec qwq=vec(1,k);\n\t\t//ll ret=0;\n\t\t//fo(i,1,top) big(ret,qwq*stk[i]);\n\t\t//for(auto i:ve) big(ret,qwq*i);\n\t\t//return ret;\n\t\twhile(id>1&&stk[id-1]*qwq>=stk[id]*qwq) --id;\n\t\treturn stk[id]*qwq; \n\t}\n}tr[N<<2];\n#define ls(x) x<<1\n#define rs(x) x<<1|1\nvoid build(int x,int l,int r){\n\t//printf(\"build(%d,%d,%d)\\n\",x,l,r);\n\ttr[x].ve.clear();tr[x].ve.resize(r-l+1);\n\ttr[x].stk.resize(r-l+2);\n\tif(l==r){\n\t\ttr[x].ve[0]=ve[l];\n\t\ttr[x].play_it();\n\t\treturn; \n\t}\n\tint mid=(l+r)>>1;\n\tbuild(ls(x),l,mid);\n\tbuild(rs(x),mid+1,r);\n\tmerge(tr[ls(x)].ve.begin(),tr[ls(x)].ve.end(),tr[rs(x)].ve.begin(),tr[rs(x)].ve.end(),tr[x].ve.begin());\n\t//cout<<x<<\":\";for(auto i:tr[x].ve) printf(\"(%lld,%d) \",i.x,i.y);puts(\"\");\n\ttr[x].play_it();\n}\nll ask(int x,int l,int r,int L,int R,int k){\n\t//printf(\"ask(%d,%d,%d,%d,%d,%d)\\n\",x,l,r,L,R,k);\n\tif(l>=L&&r<=R) return tr[x].ask(k);\n\tint mid=(l+r)>>1;\n\tif(R<=mid) return ask(ls(x),l,mid,L,R,k);\n\tif(L>mid) return ask(rs(x),mid+1,r,L,R,k);\n\treturn max(ask(ls(x),l,mid,L,R,k),ask(rs(x),mid+1,r,L,R,k));\n}\n}\nusing namespace Seg;\n\n\nvoid divi(int l,int r){\n\t//printf(\"divi(%d,%d)\\n\",l,r);\n\tif(l==r){\n\t\tbig(ans,(r-l+1ll)*a[l]*b[l]);\n\t\treturn;\n\t}\n\tint mid=(l+r)>>1,L=mid+1,R=mid,mna=V,mnb=V;\n\t//mina,minb \u5747\u5728\u5de6\u8fb9\n\tgo(i,mid,l){\n\t\tsml(mna,a[i]),sml(mnb,b[i]);\n\t\twhile(R<r&&a[R+1]>=mna&&b[R+1]>=mnb) ++R;\n\t\tbig(ans,(R-i+1ll)*mna*mnb);\n\t}\n\t//mina,minb \u5747\u5728\u53f3\u8fb9\n\tmna=mnb=V;\n\tfo(i,mid+1,r){\n\t\tsml(mna,a[i]),sml(mnb,b[i]);\n\t\twhile(L>l&&a[L-1]>=mna&&b[L-1]>=mnb) --L;\n\t\tbig(ans,(i-L+1ll)*mna*mnb);\n\t}\n\tint Rlen=r-mid;\n\t//mna \u5728\u5de6\u8fb9\uff0cmnb \u5728\u53f3\u8fb9\n\tL=R=mid;mna=mnb=V;\n\tB[0]=V;fo(i,1,Rlen) B[i]=min(B[i-1],b[i+mid]),ve[i]=vec((ll)B[i]*i,B[i]);\n\tbuild(1,1,Rlen);\n\tgo(i,mid,l){\n\t\tsml(mna,a[i]),sml(mnb,b[i]);\n\t\twhile(L<=r&&B[L-mid]>mnb) ++L;\n\t\twhile(R<r&&a[R+1]>mna) ++R;\n\t\tif(L>R) continue;\n\t\tbig(ans,mna*ask(1,1,Rlen,L-mid,R-mid,mid-i+1));\n\t}\n\t//mnb \u5728\u5de6\u8fb9\uff0cmna \u5728\u53f3\u8fb9 \n\tL=R=mid;mna=mnb=V;\n\tA[0]=V;fo(i,1,Rlen) A[i]=min(A[i-1],a[i+mid]),ve[i]=vec((ll)A[i]*i,A[i]);\n\tbuild(1,1,Rlen);\n\tgo(i,mid,l){\n\t\tsml(mna,a[i]),sml(mnb,b[i]);\n\t\twhile(L<=r&&A[L-mid]>mna) ++L;\n\t\twhile(R<r&&b[R+1]>mnb) ++R;\n\t\tif(L>R) continue;\n\t\tbig(ans,mnb*ask(1,1,Rlen,L-mid,R-mid,mid-i+1));\n\t}\n\tdivi(l,mid);\n\tdivi(mid+1,r);\n}\n\nsigned main(){\n\tcin>>n;//if(n>=100000) return 0;\n\tfo(i,1,n) a[i]=read(),b[i]=read();\n\tdivi(1,n);\n\t//divi(1,3);\n\t//divi(1,4);\n\tcout<<ans;\n\treturn 0;\n}\n/*\n-------------------------------------------------\n*/\n```\n",
        "postTime": 1658812811,
        "uid": 238408,
        "name": "vectorwyx",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P7164 [COCI2020-2021#1] 3D Histogram"
    }
]