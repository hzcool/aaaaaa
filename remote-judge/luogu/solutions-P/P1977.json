[
    {
        "content": "\u7adf\u7136\u6ca1\u4eba\u5199\u9898\u89e3\n\nf[i][j]\u8868\u793a\u524di\u8f86\u8f66\u8d70\u4e86j\u4e2aOIer \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e5f\u4e0d\u96be\u60f3 ~~\u5176\u5b9e\u5f88\u96be~~\n\nf[i][j]=min(f[i-1][j-k]+k\\*t[i]+d,f[i][j])(1<=k<=min(j,z[i]))\n\n\u9644\u4e0a\u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstring>\n#define maxn 101\nusing namespace std;\nint n,k,d,s,f[maxn][maxn];\nstruct node{\n    int t,z;\n}a[maxn];\nint main(){\n    memset(f,10,sizeof(f));\n    cin>>n>>k>>d>>s;\n    for(int i=1;i<=n;i++)cin>>a[i].t>>a[i].z;\n    f[0][0]=0;\n    for(int i=1;i<=k;i++)\n        for(int j=0;j<=n;j++){\n            f[i][j]=f[i-1][j];\n            for(int k=0;k<=min(j,a[i].z);k++)\n                f[i][j]=min(f[i-1][j-k]+k*a[i].t+d,f[i][j]);\n        }\n    if(f[k][n]>=10000)cout<<\"impossible\";\n    else cout<<f[k][n];\n    return 0;\n}\n```",
        "postTime": 1498824625,
        "uid": 34531,
        "name": "DDOSvoid",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1977 \u3010\u51fa\u79df\u8f66\u62fc\u8f66\u3011"
    },
    {
        "content": "[Youngsc](http://youngscc.github.io/)\n\n\u8ddf\u697c\u4e0b\u7684\u72b6\u6001~~\u4e0d\u592a\u4e00\u6837~~\uff0c\u8fd9\u6837\u5c31\u7528\u4e0d\u7740\u53d6min\u4e86\u3002\n\n\u5b9a\u4e49$f[i][j]$\u4e3a\u6765\u4e86$i$\u8f86\u8f66\u65f6\u8fd8\u5269$j$\u4e2a\u4eba\u7684\u6700\u5c0f\u82b1\u8d39\u3002\n\n\u8f6c\u79fb\u65b9\u7a0b\u81ea\u7136\u800c\u7136\uff0c\u5982\u679c\u5f53\u524d\u8f66\u6709$k$\u4e2a\u7a7a\u5ea7\u4f4d\u7684\u8bdd\uff0c$f[i][j]=min{f[i-1][j+z]+d+z*t} z\u2208[1,k]$ \u6570\u636e\u5f88\u5c0f\uff0c\u8fc7\u8fd9\u4e2a~\u4e0d\u8d39\u529b~\uff0c\u6700\u540e\u7684$f[m][0]$\u5c31\u662f\u6700\u7ec8\u7b54\u6848\u3002\n\n\u56e0\u4e3a\u6bcf\u6b21\u66f4\u65b0$f[i][j]$\u90fd\u53ea\u4e0e$f[i-1][j+z]$\u6709\u5173\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06\u7b2c\u4e00\u7ef4\u6eda\u52a8\u6389\uff0c\u5f53\u7136\u8fd9\u4e48\u5f31\u7684\u6570\u636e\u4e0d\u6eda\u4e5f\u6ca1\u4ec0\u4e48\u5173\u7cfb\u3002\n\n## \u4ee3\u7801\u5728\u8fd9\u91cc\n\n\n```cpp\n# include <algorithm>\n# include <iostream>\n# include <cstring>\n# include <cstdio>\n# include <queue>\n# include <cmath>\n# define R register\n# define LL long long\n\nusing namespace std;\n\nint n,k,d,s,z,t,f[110];\n\ninline void in(R int &a){\n    R char c = getchar();R int x=0,f=1;\n    while(!isdigit(c)){if(c == '-') f=-1; c=getchar();}\n    while(isdigit(c)) x = (x<<1)+(x<<3)+c-'0',c = getchar();\n    a = x*f;\n}\n\ninline void maxx(R int &a,const int b){a>b? 0:a=b;}\ninline void minn(R int &a,const int b){a<b? 0:a=b;}\n\ninline int yg(){\n    in(n),in(k),in(d),in(s);\n    for(R int i=0; i<=k; ++i)\n        for(R int j=0; j<=n; ++j)\n            f[j] = 20000000;//\u521d\u59cb\u5316\n    f[n] = 0;//\u5f53\u524d\u5269\u4f59n\u4eba\u82b1\u8d390\uff0c\u800c\u5269\u4f59\u5176\u4ed6\u6570\u91cf\u7684\u4eba\u663e\u7136\u4e0d\u53ef\u80fd\uff0c\u6240\u4ee5\u8d4b\u4e00\u4e2a\u6781\u5927\u503c\u3002\n    for(R int i=1; i<=k; ++i)\n    {\n        in(t),in(z);\n        for(R int j=0; j<=n; ++j)\n            for(R int l=0; l<=z; ++l)\n                minn(f[j],f[j+l]+(bool)l*d+l*t);//bool\u578b\u53ef\u4ee5\u4fdd\u8bc1\u5f53\u6709\u4eba\u5750\u8f66\u65f6\u59cb\u7ec8\u589e\u52a0\u7684\u662f\u4e00\u4efd\u7684\u94b1\uff0c\u6ca1\u4eba\u5750\u7740\u7684\u65f6\u5019\u5c31\u4e0d\u589e\u52a0\u94b1\u3002\n    }\n    if(f[0] == 20000000) printf(\"impossible\");\n    else printf(\"%d\",f[0]);\n    return 0;\n}\n\nint youngsc = yg();\nint main(){;}\n```\n\uff08\u51cf\u5c11\u4ee3\u7801\u590d\u5236\uff0c\u5171\u521b\u7f8e\u597d\u6d1b\u8c37\uff09\n",
        "postTime": 1505813373,
        "uid": 36282,
        "name": "Youngsc",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1977 \u3010\u51fa\u79df\u8f66\u62fc\u8f66\u3011"
    },
    {
        "content": "\u4e3a\u4ec0\u4e48\u90fd\u6ca1\u4eba\u6253\u6eda\u52a8\u6570\u7ec4\u3002\n\n\u6765\u4e00\u53d1\u6eda\u52a8\u6570\u7ec4\u7684\u9898\u89e3\n\n### \u601d\u8def\n\n\u770b\u5230\u8fd9\u9053\u9898\uff0c\u849f\u84bb\u7684\u7b2c\u4e00\u53cd\u5e94\u5c31\u662f\u52a8\u89c4\u3002\n\n\u5148\u8003\u8651\u6784\u9020\u4e8c\u7ef4\u6570\u7ec4\uff0c$f_{i,j}$ \u4ee3\u8868\u524d $i$ \u8f86\u8f66\u9001\u8d70\u4e86 $j$ \u4e2aOIer\u3002\n\n\u8fd9\u4e2a\u65f6\u5019\u7684\u8f6c\u79fb\u65b9\u7a0b\u5e94\u8be5\u662f\uff1a\n\n$$f_{i,j}~=~min(f_{i,j}~,~f_{i-1,j-k} + k \\times t_i + d);$$\n\n\u53d1\u73b0\u597d\u50cf\u6211\u4eec\u4e0d\u5173\u5fc3\u662f\u4e0d\u662f\u524d $i$ \u8f86\u8f66\u9001\u8d70\u4e86 $j$ \u4e2aOIer\u3002\n\n\u6211\u4eec\u5173\u5fc3\u7684\u53ea\u6709\u9001\u8d70 $j$ \u4e2aOIer\u6240\u82b1\u8d39\u7684\u94b1\u3002\n\n\u6240\u4ee5\uff0c\u4e00\u4e2a\u7701\u6389\u4e00\u7ef4\u7684\u6eda\u52a8\u6570\u7ec4\u5c31\u51fa\u73b0\u4e86\u3002\n\n$$f_i~=~min(f_i~,~f_{i-k} + k \\times t_i)$$\n\n\u5176\u4e2d\uff0c$f_i$ \u4ee3\u8868\u9001\u8d70 $i$ \u4e2a\u4eba\uff0c\u6240\u9700\u7684\u6700\u5c11\u94b1\u6570\u3002\n\n$k$ \u4ee3\u8868\u8fd9\u4e00\u8f86\u8f66\u9001\u8d70\u7684\u4eba\u6570\u3002\n\n\u5176\u4f59\u7ec6\u8282\u89c1\u4ee3\u7801\u3002\n\n------------\n\n\n## Code\n```c\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n , k , d , s , sum , t[1005] , z[1005] , f[1005];   //f[i]\u4ee3\u8868\u9001\u8d70i\u4e2a\u4eba\uff0c\u6240\u9700\u7684\u6700\u5c11\u94b1\u6570 \n\nint read()                                        //\u5feb\u8bfb \n{\n\tlong long X = 0 , w = 1;\n\tchar c = getchar();\n\twhile (c < '0' || c > '9')\n\t{\n\t\tif (c == '-')\n\t\tw = -1;\n\t\tc = getchar();\n\t}\n\twhile (c >= '0' && c <= '9')\n\t\tX = X * 10 + c - '0' , c = getchar();\n\treturn X * w;\n}\n\nsigned main()\n{\n\tn = read() , k = read() , d = read() , s = read();\n\tfor(int i = 1;i <= k;i++) \n\t{\n\t\tt[i] = read() , z[i] = read();\n\t\tif(t[i] <= s) sum += z[i];              //\u7edf\u8ba1\u89c4\u5b9a\u65f6\u95f4\u5185\uff0c\u53ef\u4ee5\u627f\u8f7d\u7684\u4eba\u6570 \n\t}\n\tif(sum <= n)                                    //\u627f\u8f7d\u7684\u4eba\u6570\u6bd4\u603b\u4eba\u6570\u5c0f\uff0c\u76f4\u63a5\u8f93\u51fa \n\t{\n\t\tcout << \"impossible\";\n\t\treturn 0;\n\t}\n\tmemset(f , 0x7f , sizeof(f));\n\tf[0] = 0;\t\t\t\t\t//\u521d\u59cb\u5316 \n\tfor(int i = 1;i <= k;i++)\t\t\t\t\n\t{\n\t\tif(t[i] > s) break;\t\t\t//\u4e0d\u5728\u8303\u56f4\u5185\uff0c\u9000\u51fa\u5faa\u73af \n\t\tfor(int j = n;j >= 1;j--)\n\t\t{\n\t\t\tfor(int l = 1;l <= min(z[i] , j);l++)\n                f[j] = min(f[j - l] + l * t[i] + d , f[j]);     //\u6838\u5fc3\u4ee3\u7801 \n\t\t}\n\t}\n\tcout << f[n];\n\treturn 0;\n}\n\n```",
        "postTime": 1626918343,
        "uid": 320933,
        "name": "Mfeitveer",
        "ccfLevel": 0,
        "title": "P1977 \u51fa\u79df\u8f66\u62fc\u8f66\u9898\u89e3"
    },
    {
        "content": "DP\n## \u3010\u5206\u6790\u3011\n\u53ef\u4ee5\u7406\u89e3\u4e3a\u662f\u7ebf\u6027DP,\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a\u662f\u4e00\u4e2a \u88c5\u6ee1\u7684\u80cc\u5305\uff08\u6ee1\u7684\u80cc\u5305\u53ea\u66f4\u65b0\u6709\u89e3\u7684\u503c\uff09\uff0c\u6211\u4eec\u628a\u5b83\u7406\u89e3\u6210\u6ee1\u7684\u80cc\u5305\uff08\u4e0d\u6ee1\u7684\u80cc\u5305\u6240\u6709\u90fd\u66f4\u65b0\u7684\u5230\uff0c\u6ee1\u7684\u4e0d\u4e00\u6837\uff09\n\n\u65b9\u7a0b\uff1a\n```cpp\ndp[i][j] = min(dp[i][j],dp[i - 1][j - k] + k * Ti[i] + D);\n\n```\ndp[i][j] \u8868\u793a\u524di\u4e24\u8f66\u8f7dj\u4e2a\u4eba\u7684\u6700\u4f18\u89e3\uff1b\u6ce8\u610f\uff1adp\u521d\u59cb\u503c\u4e3a\u4e00\u4e2a\u5f88\u5927\u7684\u6570\uff0c\u6700\u540e\u518d\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u80fd\u8fbe\u5230\uff1b\n\n\u65e2\u7136\u53ef\u4ee5\u7406\u89e3\u4e3a\u662f\u80cc\u5305\uff0c\u6211\u4eec\u8003\u8651\u80fd\u5426\u6eda\u52a8;\n```cpp\n\u4e0d\u96be\u53d1\u73b0dp[i][j] \u53ea\u4e0edp[i - 1][j - k]\u6709\u5173\uff0c\u8fd9\u5c31\u53ef\u4ee5\u6eda\u52a8\u4e86\n```\n\n## \u3010Code 1\u3011(\u6ca1\u6eda\u52a8)\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <queue>\n#define re register\n#define min(x,y)(x<y?x:y)\n\nusing namespace std;\n\ntypedef long long ll;\ninline int read() {\n    re int ret=0;re bool flag=0;re char c=getchar();\n    while((c<'0')|(c>'9')) flag^=!(c^'-'),c=getchar();\n    while((c>='0')&(c<='9'))ret=(ret<<3)+(ret<<1)+(c^'0'),c=getchar();\n    return flag?-ret:ret;\n}\n\ninline void Put(char *s) { puts(s); }\ninline void Put(char c) { Put(&c); }\ninline void Put(ll x) { char c[21]={0}; sprintf(c,\"%lld\",x); Put(c); }\ninline void Put(int x) { Put(x|0ll); }\n\nconst int M = 101;\nint n,dp[M][M],Ti[M],T,z[M],D,S,K;\n\ninline void init()\n{\n    n = read(),K = read(),D = read(),S = read();\n    for(re int i = 1;i <= K; i++) Ti[i] = read(),z[i] = read();\n}\n\ninline void solve()\n{\n    memset(dp,127,sizeof(dp));\n    \n    dp[0][0] = 0;\n    for(re int i = 1;i <= K; i++)\n    {\n        for(re int j = 0;j <= n; j++)\n        {\n            dp[i][j] = dp[i - 1][j];\n            //\u5982\u679c\u4e0d\u6eda\u52a8\uff0c\u8fd9\u91cc\u4e00\u5b9a\u8981\u5148\u8d4b\u503c\n            for(re int k = 0;k <= min(j,z[i]); k++)\n            {\n                dp[i][j] = min(dp[i][j],dp[i - 1][j - k] + k * Ti[i] + D);\n            }\n        }\n    }\n    if(dp[K][n] >= 1234532)\n        puts(\"impossible\");\n    //\u8fd9\u91cc\u4e0d\u662f\u5f88\u4e25\u8c28\n    else Put(dp[K][n]);\n}\n\nint main(void)\n{\n    init();\n    \n    solve();\n    return 0;\n}\n```\n\n## \u3010Code 2\u3011\uff08\u6eda\u52a8\uff09\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <queue>\n#define re register\n#define min(x,y)(x<y?x:y)\n\nusing namespace std;\n\ntypedef long long ll;\ninline int read() {\n    re int ret=0;re bool flag=0;re char c=getchar();\n    while((c<'0')|(c>'9')) flag^=!(c^'-'),c=getchar();\n    while((c>='0')&(c<='9'))ret=(ret<<3)+(ret<<1)+(c^'0'),c=getchar();\n    return flag?-ret:ret;\n}\n\ninline void Put(char *s) { puts(s); }\ninline void Put(char c) { Put(&c); }\ninline void Put(ll x) { char c[21]={0}; sprintf(c,\"%lld\",x); Put(c); }\ninline void Put(int x) { Put(x|0ll); }\n\nconst int M = 101;\nint n,dp[M],Ti[M],T,z[M],D,S,K;\n\ninline void init()\n{\n    n = read(),K = read(),D = read(),S = read();\n    for(re int i = 1;i <= K; i++) Ti[i] = read(),z[i] = read();\n}\n\ninline void solve()\n{\n    memset(dp,127,sizeof(dp));\n    \n    dp[0] = 0;\n    for(re int i = 1;i <= K; i++)\n    {\n    \t//\u5982\u679c\u8981\u6eda\u52a8\uff0c\u8fd9\u91cc\u4e00\u5b9a\u8981\u9006\u5e8f\uff08j\uff09\n        for(re int j = n;j >= 0; j--)\n        {\n            for(re int k = 0;k <= min(j,z[i]); k++)\n            {\n                dp[j] = min(dp[j],dp[j - k] + k * Ti[i] + D);\n            }\n        }\n    }\n    if(dp[n] >= 123452) puts(\"impossible\");\n    //\u8fd9\u91cc\u4e5f\u4e0d\u662f\u5f88\u4e25\u8c28\n    else Put(dp[n]);\n}\n\nint main(void)\n{\n    init();\n    \n    solve();\n    return 0;\n}\n```",
        "postTime": 1542893540,
        "uid": 75093,
        "name": "Awdrgysxc",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1977 \u3010\u51fa\u79df\u8f66\u62fc\u8f66\u3011"
    },
    {
        "content": "\u94fe\u63a5\uff1a[\u9898\u76ee](https://www.luogu.com.cn/problem/P1977)\n\n\u6839\u636e\u9898\u76ee\uff0c\u8be5\u9898\u53ef\u4ee5\u7b80\u5316\u6210\uff1a\n\n$n$ \u4e2a\u4eba\u9009 $k$ \u8f86\u8f66\u5750\uff0c\u4ee3\u4ef7\u4e3a $d+w * v$  (\u5176\u4e2d $d$ \u4ee3\u8868\u201c\u62fc\u8f66\u201d\u7684\u4ef7\u683c\uff0c $w$ \u4ee3\u8868\u5750\u8fd9\u4e2a\u8f66\u7684\u5ea7\u4f4d\u6570\uff0c$v$ \u4ee3\u8868\u8fd9\u4e2a\u8f66 \u5230\u8fbe\u7684\u65f6\u95f4)\uff0c\u6c42\u5f53\u5269\u4f59\u4eba\u6570\u7b49\u4e8e $0$ \u65f6\uff0c\u9700\u8981\u7684\u6700\u5c11\u4ef7\u683c\u3002\n\n\u6240\u4ee5\u53ef\u4ee5\u63a8\u51fa\u52a8\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a ```dp[j]=min(dp[j],dp[j+k]+d+k*v[i])``` \uff0c\u8fb9\u754c\u6761\u4ef6\u4e3a ```dp[n]=0``` \u3002\n\n\u5176\u4e2d\uff1a\n - ```dp[n]``` \u8868\u793a\u5f53 $n$ \u4eba\u65f6\u7684\u6700\u5c0f\u82b1\u8d39\n - ```i```\uff0c```j```\uff0c```k```\u5206\u522b\u679a\u4e3e\u8f66\u3001\u5f53\u524d\u4eba\u6570\u548c\u5750\u591a\u5c11\u4f4d\u5b50\n - ```d``` \u8868\u793a ~~\u886c\u886b~~ \u201c\u62fc\u8f66\u201d\u7684\u4ef7\u683c\n - ```v[i]``` \u8868\u793a\u8f66\u5230\u8fbe\u7684\u65f6\u95f4\n\n\u63a5\u4e0a\u6765\u4e0a\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,k,d,s;\nint v[110],w[110],dp[110];\nint main(){\n    memset(dp,0x7f,sizeof(dp));//\u8bbe\u5b9a\u521d\u59cb\u503c\u4e3a\u6b63\u65e0\u7a77\n    cin>>n>>k>>d>>s;\n    dp[n]=0;//\u786e\u5b9a\u8fb9\u754c\u6761\u4ef6\uff0c\u5f53\u4e3an\u4eba\u65f6\uff0c\u6700\u5c0f\u82b1\u8d39\u4e3a0\n    for(int i=0;i<k;i++){\n    \tcin>>v[i]>>w[i];\n    }\n    for(int i=0;i<k;i++){//\u679a\u4e3e\u6bcf\u8f86\u8f66\n        for(int j=0;j<=n;j++){//\u679a\u4e3e\u5f53\u524d\u6709n\u4eba\n            for(int k=1;k<=w[i];k++){//\u679a\u4e3e\u5ea7\u4f4d\n                dp[j]=min(dp[j],dp[j+k]+d+k*v[i]);//\u52a8\u6001\u8f6c\u79fb\u65b9\u7a0b\n            }\n        }\n    }\n    if(dp[0]>2e9)cout<<\"impossible\";//\u82e5\u4ecd\u4e3a\u6b63\u65e0\u7a77\uff0c\u5219\u8ba4\u4e3a\u4e0d\u53ef\u80fd\n    else cout<<dp[0];\n    return 0;\n}\n```",
        "postTime": 1626529805,
        "uid": 289296,
        "name": "zymooll",
        "ccfLevel": 5,
        "title": "P1977\u51fa\u79df\u8f66\u62fc\u8f66"
    }
]