[
    {
        "content": "\u9898\u610f\uff1a\u7ed9\u5b9a\u5e73\u9762\u4e0a $N$ \u4e2a\u70b9\uff0c\u7b2c $i$ \u4e2a\u70b9\u7684\u5750\u6807\u4e3a $(x_i,y_i)$ \uff0c\u70b9 $i,j$ \u76f8\u8fde\u9700\u8981\u82b1\u8d39 $(x_i - x_j) ^2 + (y_i -y_j) ^2$ \u7684\u8d39\u7528\uff0c\u6c42\u4f7f\u6240\u6709\u70b9\u53ef\u4ee5\u76f8\u4e92\u5230\u8fbe\u7684\u6700\u5c0f\u8d39\u7528\u3002\n\n\u505a\u6cd5\uff1a\u4e00\u773c\u770b\u51fa\u8fd9\u662f\u4e00\u4e2a\u5e73\u9762\u4e0a\u7684\u6700\u5c0f\u751f\u6210\u6811\uff0c  $N\\leq 1000$ \u7684\u5206\u5f88\u597d\u60f3\uff1a\u76f4\u63a5\u66b4\u529b\u8fde\u8fb9\uff0c \u7136\u540e\u8dd1 MST \uff0c\u590d\u6742\u5ea6 $O(N^2)$ \u3002\n\n\u4f17\u6240\u5468\u77e5\uff0c\u5728 Kruskal \u7b97\u6cd5\u4e2d\uff0c\u5982\u679c\u5b58\u5728\u4e09\u4e2a\u70b9 $a,b,c$ \uff0c \u4e14\u8fde\u901a\u8d39\u7528 $w(a,c) < w(a,b), w(b,c) < w(a,b)$ \uff0c \u90a3\u4e48 $w(a,b)$ \u5c31\u662f\u6ca1\u7528\u7684\u4e00\u6761\u8fb9\uff0c\u56e0\u4e3a $a,b$ \u5728\u6309\u8fb9\u6743\u9009\u7684\u8fc7\u7a0b\u4e2d\u5df2\u7ecf\u8fde\u901a\u4e86\u3002\n\n\u90a3\u4e48\u5bf9\u4e8e $a=(x_1, y_1),b=(x_2,y_2),c=(x_3,y_3)$ \uff0c\u6ee1\u8db3 $x_1 \\leq x_2 < x_3, y_2 = y_3$ \u3002\u5b58\u5728\uff1a\n\n$w(a,b)=(x_2 -x_1)^2 + (y_2 - y_1) ^2 $ \u3002\n\n$w(b,c) = (x_3 - x_2)^2$ \u3002\n\n$w(a,c) = (x_3-x_1)^2+(y_2-y_1)^2$ \u3002\n\n\u5219 $w(a,b) < w(a,c),w(b,c)<w(a,c)$ , \u4e0d\u8003\u8651\u6dfb\u52a0 $w(a,c)$ \u3002\n\n\u6240\u4ee5\u5bf9\u4e8e $(x_1,y_1)$ \uff0c\u53ea\u9700\u8981\u5bf9\u6a2a\u5750\u6807\u5927\u4e8e\u7b49\u4e8e\u5b83\u7684\u4e00\u4e2a $(x_2, y_2)$ \u8fde\u8fb9\u5c31\u597d\u4e86\uff0c\u6ce8\u610f\u4e24\u4e2a\u70b9\u4e0d\u80fd\u91cd\u5408\u3002\n\n\u56e0\u4e3a $0\\leq y_i\\leq 10$ \uff0c\u76f4\u63a5\u679a\u4e3e\u7eb5\u5750\u6807\uff0c\u7136\u540e\u7528\u5e73\u8861\u6811\u5b58\u70b9 \uff0c\u590d\u6742\u5ea6\u662f $O(N\\log_2 N)$ \u3002\n\n```cpp\n#include <bits/stdc++.h>\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef __int128 int128;\ntypedef __uint128_t uint128;\nconst int mod = 1e9 + 7, N = 1e5 + 5;\nusing namespace std;\ninline int read() {\n\tint x = 0, f = 0, ch = getchar();\n\twhile(ch < '0' || ch > '9') f |= ch == '-', ch = getchar();\n\twhile(ch >= '0' && ch <= '9') x = (x << 1) + (x << 3) + (ch ^ 48), ch = getchar();\n\treturn f ? -x : x;\n}\nint fa[N], n, cnt, x[N], y[N];\ninline int getfa(int x) {\n\treturn fa[x] == x ? x : fa[x] = getfa(fa[x]);\n}\nstruct edge {\n\tint u, v;\n\tll w;\n\tedge(int _u = 0, int _v = 0, ll _w = 0ll) : u(_u), v(_v), w(_w) {}\n\tbool operator < (const edge &x) const {\n\t\treturn w < x.w;\n\t}\n} e[N * 11];\nmap<int, int> s[11];\nsigned main() {\n\tn = read();\n\tfor(int i = 1; i <= n; i++) {\n\t\tx[i] = read(), y[i] = read();\n\t\ts[y[i]].insert(make_pair(x[i], i));\n\t}\n\tfor(int i = 1; i <= n; i++) \n\t\tfor(int j = 0; j <= 10; j++) {\n\t\t\tmap<int, int>::iterator it;\n\t\t\tif(y[i] == j) it = s[j].upper_bound(x[i]);\n\t\t\telse it = s[j].lower_bound(x[i]);\n\t\t\tif(it != s[j].end()) {\n\t\t\t\tll dx = x[i] - it->first, dy = y[i] - j;\n\t\t\t\te[++cnt] = edge(i, it->second, dx * dx + dy * dy);\n\t\t\t}\n\t\t}\n\tsort(e + 1, e + cnt + 1);\n\tfor(int i = 1; i <= n; i++) fa[i] = i;\n\tll ans = 0ll;\n\tfor(int i = 1, tot = 0; i <= cnt; i++) {\n\t\tint fu = getfa(e[i].u), fv = getfa(e[i].v);\n\t\tif(fu != fv) {\n\t\t\tfa[fu] = fv;\n\t\t\tans += e[i].w;\n\t\t\ttot++;\n\t\t} if(tot == n - 1) break;\n\t}\n\tcout << ans;\n\treturn 0;\n}\n\n```",
        "postTime": 1653371454,
        "uid": 434929,
        "name": "Usada_Pekora",
        "ccfLevel": 7,
        "title": "P8191 MST"
    },
    {
        "content": "[P8191 [USACO22FEB] Moo Network G](https://www.luogu.com.cn/problem/P8191)\n\n\u66b4\u529b\u5efa\u8fb9\u518d kruskal\u3002\n\n\u8fd9\u9053\u9898\u4e0d\u7528\u76f8\u529e\u6cd5\u8bc1\u660e\u592a\u591a\u4e1c\u897f\u3002\n\n\u56e0\u4e3a\u9ad8\u5ea6\u4e0d\u8d85\u8fc7 10\uff0c\u4e00\u770b\u5c31\u662f\u901a\u8fc7\u9ad8\u5ea6\u6765\u7b80\u5316\u64cd\u4f5c\u3002\n\n\u6211\u4eec\u77e5\u9053\u90fd\u8fde\u6700\u77ed\u8fb9\u5dee\u4e0d\u591a\u5c31\u662f\u6700\u4f18\uff0c\u5728\u8fd9\u91cc\u5c31\u53ef\u4ee5\u53ef\u4ee5\u901a\u8fc7\u66b4\u529b\u5411\u4e00\u4e2a\u65b9\u5411\u90fd\u8fde\u8fb9\u3002\n\n\u6309\u7167\u6a2a\u5750\u6807\u518d\u7eb5\u5750\u6807\u6392\u4e2a\u5e8f\uff0c\u53bb\u4e2a\u91cd\uff0c\u5c31\u5f88\u597d\u505a\u4e86\u3002\n\n\u56e0\u4e3a\u8981\u5411\u56db\u5468\u53d6\u6700\u77ed\uff0c\u5411\u6b63\u65b9\u5411\u53d6\u4e2a 25 \u4e2a\u70b9\u5dee\u4e0d\u591a\u80fd\u4fdd\u8bc1\u6b63\u786e\u6027\u3002\n\n\u65f6\u95f4\u5b8c\u5168\u591f\u7528\u3002\n\n---\n\n\n```cpp\n\n#include<bits/stdc++.h>\n#define int long long\n#define ull unsigned long long\n#define For(i,a,b) for(int i=a;i<=b;i++)\n#define Rep(i,a,b) for(int i=a;i>=b;i--)\n#define f(a) ((a)*(a))\n#define p(x) printf(\"%lld \",(x))\n#define fp(x) printf(\"%.10Lf \",(x))\n#define P() puts(\"\")\n#define lowbit(x) ((x)&(-(x)))\nusing namespace std;\ninline int read()\n{\n\tchar c=getchar();int x=0;bool f=0;\n\twhile(!isdigit(c))f^=!(c^45),c=getchar();\n\twhile(isdigit(c))x=(x<<1)+(x<<3)+(c^48),c=getchar();\n\tif(f)x=-x;return x;\n}\ninline char cread()\n{\n\tchar c=getchar();\n\twhile(!isalpha(c)) c=getchar();\n\treturn c;\n}\ninline void write(int re)\n{\n\tif (re>9) write(re/10);\n\tputchar(re%10+'0');\n}\nconst int maxn=100010;\nstruct pnt \n{\n\tint x,y;\n}a[maxn];\nstruct edge\n{\n\tint u,v,w;\n}e[maxn*30];\nint n,f[maxn],tot,cnt,ans;\ninline bool cmp(pnt a,pnt b)\n{\n\tif(a.x==b.x) return a.y<b.y;\n\treturn a.x<b.x;\n}\ninline bool cmp2(edge a,edge b)\n{\n\treturn a.w<b.w;\n}\ninline int getf(int x)\n{\n\tif(f[x]==x) return x;\n\treturn f[x]=getf(f[x]);\n}\nsigned main()\n{\n\tn=read();\n\tFor(i,1,n)\n\t{\n\t\ta[i].x=read();a[i].y=read();\n\t}\n\tsort(a+1,a+n+1,cmp);\n\tFor(i,1,n)\n\t\tFor(j,i+1,min(n,i+25))\n\t\t{\n\t\t\te[++cnt].u=i;\n\t\t\te[cnt].v=j;\n\t\t\te[cnt].w=f(a[i].x-a[j].x)+f(a[i].y-a[j].y);\n\t\t}//\tadd(i,j,f(a[i].x-a[j].x)+f(a[i].y-a[j].y));\n\tsort(e+1,e+cnt+1,cmp2);\n\tFor(i,1,n) f[i]=i;\n\tint u,v,U,V;\n\tFor(i,1,cnt)\n\t{\n\t\tu=e[i].u;v=e[i].v;\n\t\tU=getf(u);V=getf(v);\n\t\tif(U!=V)\n\t\t{\n\t\t\tans+=e[i].w;\n\t\t\tf[V]=U;\n\t\t\ttot++;\n\t\t}\n\t\tif(tot>=n-1) break;\n\t}\n\tp(ans);\n}\n\n```\n\n\u611f\u8c22\u7ba1\u7406\u5458\u7684\u5ba1\u6838\u3002\n",
        "postTime": 1652185567,
        "uid": 194642,
        "name": "xiaozeyu",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P8191 [USACO22FEB] Moo Network G"
    },
    {
        "content": "USACO \u6bd4\u8d5b\u4e0a\u62ff\u6ee1\u5206\u7684\u552f\u4e00\u4e00\u9053\u9898\uff0c\u5199\u4e00\u4e2a\u9898\u89e3\u7eaa\u5ff5\u4e00\u4e0b\uff1a\n\n\u770b\u5230\u4f7f\u7528\u6700\u5c0f\u7684\u4ee3\u4ef7\u8ba9\u6240\u6709\u70b9\u4e92\u901a\u8003\u8651\u6700\u5c0f\u751f\u6210\u6811\uff0c\u4f46\u662f\u7531\u4e8e $n \\leqslant 10^5$ \u7684\u6570\u636e\u8303\u56f4\u4e0d\u80fd\u4e24\u4e24\u8fde\u8fb9\uff0c\u8003\u8651\u51cf\u5c11\u8fb9\u7684\u6570\u91cf\uff1a\n\n\u731c\u6d4b\uff1a\u5bf9\u4e8e\u6240\u6709\u70b9\u5411\u6bcf\u4e2a $y$ \u4e0e\u5de6\u4fa7\u548c\u53f3\u4fa7\u6700\u63a5\u8fd1\u7684\u70b9\u8fde\u8fb9\u7b49\u6548\u4e8e\u5411\u6240\u6709\u70b9\u8fde\u8fb9\u3002\n\n\u8bc1\u660e\uff08\u6b64\u5904\u4e3a\u4e86\u7b80\u660e\u4f7f\u7528 Kruskal \u8fdb\u884c\u8bba\u8bc1\uff0cPrim \u7684\u8bba\u8bc1\u7559\u4f5c\u7ec3\u4e60\uff09\uff1a\n\n\n\uff08\u6b64\u5904\u53ea\u8bc1\u660e\u4e3a\u5411\u5de6\u8fde\u8fb9\u7684\u60c5\u51b5\uff0c\u5411\u53f3\u8fde\u8fb9\u7684\u60c5\u51b5\u540c\u7406\u53ef\u8bc1\uff09\u8003\u8651\u8fd9\u4e48\u8fde\u4ec0\u4e48\u60c5\u51b5\u4e0b\u4e0d\u4f1a\u4ea7\u751f\u6700\u4f18\u89e3\uff1a\n\n\u5bf9\u4e8e\u70b9 $i,j,k$\uff08\u5176\u4e2d $y_i=y_j$\uff0c$x_i < x_j \\leqslant x_k$\uff09\uff0c\u5047\u5982\u8fde\u63a5\u8fb9 $(i,k)$ \u90a3\u4e48\u5c31\u610f\u5473\u7740\u6b64\u8fde\u6cd5\u4e0d\u4e00\u5b9a\u4ea7\u751f\u6700\u4f18\u89e3\u3002\n\n\u4e3a\u4e86\u8fbe\u6210\u8fd9\u4e2a\uff0c\u9700\u8981\u6ee1\u8db3 $(i,k)$ \u7684\u957f\u5ea6\u5c0f\u4e8e $(i,j)$ \u6216 $(j,k)$\u3002\u56e0\u4e3a\u5982\u679c $i,k$  \u6309\u957f\u5ea6\u6392\u5e8f\u540e\u540c\u65f6\u540e\u4e8e $(i,j)$ \u548c $(j,k)$ \uff0c\u5219\u5f53 Kruskal \u904d\u5386\u5230\u8fb9 $i,k$ \u7531\u4e8e $i,j,k$ \u4e00\u5b9a\u5728\u4e00\u4e2a\u8fde\u901a\u5757\u5185\uff0c\u6545\u8fb9 $(i,k)$ \u4e00\u5b9a\u4e0d\u4f1a\u88ab\u9009\u3002\n\n\u800c $(i,k)$ \u7684\u957f\u5ea6\u4e3a $(x_k-x_i)^2+(y_k-y_i)^2$\uff0c$(i,j)$ \u957f\u5ea6\u4e3a $(x_j-x_i)^2$\uff0c$(j,k)$ \u7684\u957f\u5ea6\u4e3a $(x_k-x_j)^2+(y_k-y_j)^2$\u3002\n\n\u53c8\u56e0\u4e3a $(y_k-y_i)^2 \\geqslant 0$\uff0c$(x_k-x_i)^2 > (x_j-x_i)^2$\uff0c\u6240\u4ee5 $(i,j)$ \u7684\u957f\u5ea6\u5c0f\u4e8e $(i,k)$ \u7684\u957f\u5ea6\u3002\n\n\u7c7b\u4f3c\u7684\uff0c$(y_k-y_j)^2=(y_k-y_i)^2$\uff0c$(x_k-x_j)^2 < (x_k-x_i)^2$\uff0c\u6240\u4ee5 $(j,k)$ \u7684\u957f\u5ea6\u5c0f\u4e8e $(i,k)$ \u7684\u957f\u5ea6\u3002\n\n\u7efc\u4e0a\uff0c$(i,j)$ \u4e0e $(j,k)$ \u5747\u5148\u4e8e $(i,k)$ \u88ab\u8003\u8651\uff0c\u5373 $(i,k)$ \u6c38\u8fdc\u4e0d\u4f1a\u88ab\u9009\u4e2d\uff0c\u6545\u6b64\u8d2a\u5fc3\u6b63\u786e\u3002\n\n\u800c\u4e14\u7531\u4e8e\u6240\u6709\u6700\u5c0f\u751f\u6210\u6811\u7b97\u6cd5\u7b49\u6548\uff0c\u7406\u8bba\u4e0a Prim \u4e5f\u53ef\u4ee5\u88ab\u7528\u6765\u89e3\u51b3\u8be5\u9898\u3002\uff08\u672a\u5b9e\u8df5\uff09\n\n\u849f\u84bb\u7684\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```c++\n#include <cstdio>\n#include <algorithm>\n#define N 100010\n#define ll long long\nint n,m,fa[N],f[11];\nll ans;\nint find(int x){return fa[x]==x?x:fa[x]=find(fa[x]);}\nvoid merge(int x, int y,ll w)\n{\n    if(find(x)!=find(y)) \n    {\n        fa[find(x)]=find(y);\n        ans+=w;\n    }\n}\nstruct edge\n{\n\tint from,to; ll w;\n\tbool operator<(edge b) const {return w<b.w;}\n}e[N*50];\n\nvoid kruskal()\n{\n\tfor(int i=1;i<=n;i++) fa[i]=i;\n\tstd::sort(e,e+m);\n\tfor(int i=0;i<m;i++) merge(e[i].from,e[i].to,e[i].w);\n}\n\nstruct oo{int x;int y;bool operator<(oo b)const{return x<b.x;}}a[N];\n#define sq(x) (ll)(x)*(x)\ninline ll calc(int x, int y) {return sq(a[x].x-a[y].x)+sq(a[x].y-a[y].y);}\nvoid run(int x)\n{\n\tfor(int j=0;j<=10;j++) if(f[j])\n\t\te[m++]=edge{f[j],x,calc(x,f[j])};\n\tf[a[x].y]=x;\n}\nint main()\n{\n\tscanf(\"%d\", &n);\n\tfor(int i=1;i<=n;i++) scanf(\"%d%d\", &a[i].x, &a[i].y);\n\tstd::sort(a+1,a+1+n);\n\tf[a[1].y]=1;\n\tfor(int i=2;i<=n;i++) run(i);\n\t\n\tfor(int i=0;i<=10;i++) f[i]=0;\n\tf[a[n].y]=n;\n\tfor(int i=n-1;i>=1;i--) run(i);\n\tkruskal();\n\tprintf(\"%lld\",ans);\n}\n```\n[AC \u8bb0\u5f55](https://www.luogu.com.cn/record/70722739)\uff08\u8bdd\u8bf4\u8fd9\u9898\u5f00 O2 \u548c[\u4e0d\u5f00](https://www.luogu.com.cn/record/70722817)\u533a\u522b\u597d\u5927\u5440 qwq\uff09",
        "postTime": 1646491005,
        "uid": 298051,
        "name": "xkcdjerry",
        "ccfLevel": 7,
        "title": "P8191 \u9898\u89e3"
    },
    {
        "content": "\u66b4\u529b\u51fa\u5947\u8ff9\n\n## Problem\n\n\u7ed9\u5b9a\u5e73\u9762\u4e0a\u4e00\u5806\u70b9\uff0c\u4efb\u4e24\u4e2a\u70b9\u8ddd\u79bb\u4e3a\u6a2a\u7eb5\u5750\u6807\u4e4b\u5dee\u7684\u5e73\u65b9\u548c\uff0c\u6c42\u8fd9\u4e00\u4e9b\u70b9\u7684\u6700\u5c0f\u751f\u6210\u6811\u3002\n\n\u7279\u6b8a\u6761\u4ef6\uff1a\u4efb\u4f55\u4e00\u4e2a\u70b9 x \u5750\u6807\u6700\u5927\u503c\u4e3a $10^6$\uff0cy \u5750\u6807\u6700\u5927\u503c\u4e3a $10$\uff0c\u4e14\u4e24\u8005\u90fd\u662f\u81ea\u7136\u6570\u3002\n\n## Solution 1\n\n$N\\le 1000.$\n\n\u4e24\u4e24\u8fde\u8fb9\uff0c\u8dd1\u6700\u5c0f\u751f\u6210\u6811\u5373\u53ef\u3002\n\n## Solution 2\n\n\u6211\u4eec\u6709\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u4e8b\u60c5\uff1ay \u5750\u6807\u6700\u5927\u53ea\u6709 $10$\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u663e\u7136\u8bc1\u660e\u8fd9\u4e2a\uff1a\n\n\u5bf9\u4e8e\u70b9 A\uff0c\u6211\u4eec\u627e\u5230\u4e24\u4e2a x \u5750\u6807\u6bd4 A \u5927\u7684\u70b9 B \u548c C\uff0c\u5e76\u4e14 C \u7684 x \u5750\u6807\u6bd4 B \u7684\u5927\u8d85\u8fc7 $10$\uff0c\u5219\u663e\u7136 B \u79bb A \u66f4\u8fd1\u3002\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u5148\u6309\u7167 x \u5750\u6807\u6392\u4e00\u904d\u5e8f\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u5c31\u53ef\u4ee5\u53d1\u73b0\u6700\u5c0f\u751f\u6210\u6811\u4e0a\u7684\u8fb9\u8fde\u63a5\u7684\u4e24\u4e2a\u70b9\u5bf9\u5e94\u7684\u6570\u7ec4\u4e0b\u6807\u4e0d\u4f1a\u592a\u8fdc\u3002\uff08\u5b9e\u9645\u8ddd\u79bb\u4e5f\u4e0d\u4f1a\u592a\u8fdc\uff09\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u5c31\u8ba9\u6bcf\u4e2a\u70b9\u548c\u4e0e\u5b83\u6392\u5b8c\u5e8f\u540e\u5750\u6807\u5dee\u4e0d\u8d85\u8fc7 50 \u7684\u70b9\u8fde\u8fb9\uff0c\u5176\u5b83\u7684\u4e0d\u8fde\u3002\uff08\u8fd9\u4e2a\u6570\u5b57\u662f\u600e\u4e48\u51fa\u6765\u7684\uff0c\u6211\u5176\u5b9e\u4e5f\u4e0d\u77e5\u9053\uff09\n\n**update: 50 \u662f\u7ed3\u5408\u65f6\u95f4\u548c\u7a7a\u95f4\u8003\u8651\u51fa\u6765\u7684\u3002**\n\n\u7136\u540e Kruscal \u5c31\u6ca1\u4e86\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u5c31\u80fd\u60ca\u4eba\u5730\u53d1\u73b0\uff0c\u4f60 A \u4e86\u8fd9\u9898\uff01\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vd6dwxog.png)\n\n\u65f6\u95f4\u7684\u8bdd\uff0c\u4e00\u79d2\u4ee5\u5185\u80fd\u8dd1\u5b8c\u5427\u3002\u81ea\u5df1\u4e5f\u6ca1\u60f3\u51fa\u6765\u600e\u4e48 hack\u3002\n\n## Code\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\nconst int N=100005;\nstruct node{\n\tll x,y;\n\tbool operator <(const node& p) const{return x<p.x;}\n}a[N];\nint n;\nstruct edge{\n\tint u,v;\n\tll w;\n\tbool operator <(const edge& p) const{return w<p.w;}\n\tvoid init(int uu,int vv,ll ww){u=uu,v=vv,w=ww;};\n}E[N*50];\nint m=0;\nll dis(int p,int q)\n{\n\treturn (a[p].x-a[q].x)*(a[p].x-a[q].x)+(a[p].y-a[q].y)*(a[p].y-a[q].y);\n}\nint f[N];\nint find(int x)\n{\n\treturn f[x]==x?x:f[x]=find(f[x]);\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++) scanf(\"%lld%lld\",&a[i].x,&a[i].y);\n\tsort(a+1,a+n+1);\n\tint now;\n\tfor(int i=1;i<n;i++)\n\t{\n\t\tnow=i+1;\n\t\tfor(int j=1;j<=50;j++)\n\t\t{\n\t\t\tE[++m].init(i,now,dis(i,now));\n\t\t\tnow++;\n\t\t\tif(now>n) break;\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++) f[i]=i;\n\tsort(E+1,E+m+1);\n\tll ans=0,tot=n;\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tint u=E[i].u,v=E[i].v;\n\t\tll w=E[i].w;\n\t\tif(find(u)==find(v)) continue;\n\t\tf[find(u)]=find(v);\n\t\tans+=w;\n\t\tif(!(--tot)) break;\n\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n\n```\n\n\u5b8c\u7ed3\u6492\u82b1",
        "postTime": 1646137752,
        "uid": 148507,
        "name": "_Imaginary_",
        "ccfLevel": 0,
        "title": "2022 USACO FEB Gold T3"
    }
]