[
    {
        "content": "\u5176\u5b9e\u5462\u5927\u81f4\u601d\u8def\u548c\u4e0b\u9762\u7684\u5927\u4f6c\u4eec\u90fd\u5f88\u50cf\u3002\n\u53d1\u8fd9\u7bc7\u9898\u89e3\u7684\u76ee\u7684\u5c31\u662f\u52a0\u4e86\u4e00\u70b9~~\u4f18\u5316~~\u9a97\u5206\u6280\u5de7\u3002\n\n\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n\u8bbe$dp[i][j][x][y][k]$\u8868\u793a\u5de6\u4e0a$(i,j)$\uff0c\u53f3\u4e0b$(x,y)$\uff0c\u7b2c$k$\u6b21\u5272\u7684\u6700\u5927\u9762\u79ef\u3002\n\u5219\u5bf9\u4e8e\n## $\\sum_{k=1}^{n}$\n\u5f00\u59cb\u66f4\u65b0\uff0c\u6709\uff1a(~~\u4e00\u53e3\u6c14\u8bfb\u5b8c\u8fd9\u4e2a\u65b9\u7a0b~~)\n\n#### $\u2211_{i=1}^{8}\u2211_{j=1}^{8}\u2211_{x=1}^{8}\u2211_{y=1}^{8}$       \n$a=j\u2026\u2026y-1;b=i\u2026\u2026x-1;$\n##### $dp[i][j][x][y][k]=$\n##### $min($\n\n##### $min(dp[i][j][x][a][k-1]+dp[i][a+1][x][y][0],dp[i][j][x][a][0]+dp[i][a+1][x][y][k-1]),$\n##### $min(dp[i][j][b][y][k-1]+dp[b+1][j][x][y][0],dp[i][j][b][y][0]+dp[b+1][j][x][y][k-1])$\n##### $);$\n\n\u4f46\u662f\u3002\n## \u522b\u4ee5\u4e3a\u63a8\u51fa\u4e86\u65b9\u7a0b\u5c31\u4e07\u4e8b\u5927\u5409\u4e86\uff01\uff01\uff01\n\u60a8\u7684\u8fb9\u754c\u6761\u4ef6\u5462\uff08\u8fd9\u9898~~\u5f88\u7b80\u5355~~\uff09\u3002\n\u4f46\u662f\u8fd9\u9898\u7684\u521d\u59cb\u5316\u662f\u91cd\u70b9\uff01\uff01\uff01\u91cd\u70b9\uff01\uff01\uff01\u91cd\u70b9\uff01\uff01\uff01\n\u597d\u51e0\u7bc7\u90fd\u662f6\u91cd\u5faa\u73af\u66b4\u529b\u7b97\u7684\u3002\n\u672c\u5b9d\u5b9d\uff1a\u524d\u7f00\u548c\u5148\u6c42\u51fa\u6765\u5c31\u597d\u4e86\u3002\n\n\u90a3\u4e48\u597d\uff0c\u521d\u59cb\u5316\u7684\u8bdd\u662f\u8981\u628a\u6240\u6709\u5de6\u4e0a\u4e3a$(i,j)$\u53f3\u4e0a\u4e3a$(x,y)$,\u5272\u4e860\u6b21\u7684\u9762\u79ef\u6c42\u51fa\u6765\u3002\u8fd9\u91cc\uff0c\u672c\u5b9d\u5b9d\u7528\u4e86\u4e00\u4e2a\u524d\u7f00\u548c\u7684\u601d\u60f3\u548c\u5bb9\u65a5\u539f\u7406\u3002\n\u5148\u5728\u8f93\u5165\u7684\u65f6\u5019\u5c31\u5904\u7406\u51fa\u6765\u6240\u6709\u5de6\u4e0a$(1,1)$\u53f3\u4e0a$(i,j)$\u7684\u5f97\u5206\uff08\u524d\u7f00\u548c\uff09\uff1b\n\u7136\u540e\u5229\u7528\u5bb9\u65a5\u539f\u7406\uff08\u5177\u4f53\u89c1\u4ee3\u7801\uff09\n\u80fd\u5c11\u4e9b~~\u4e09~~\u4e24\u4e2a\u5faa\u73af\u5462\u3002\u3002\u3002\n\u4e0a\u4ee3\u7801\uff08\u7801\u98ce\u4e0d\u597d\u8bf7\u539f\u8c05\uff09\n\n```cpp\n//by Su Qingnian\n//QAQ\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nint n;//n\u662f\u603b\u5171\u5207\u7684\u5200\u6570\nint map[9][9];//\u5b58\u56fe\uff0c\u4ef7\u503c\nint sum[9][9];//\u524d\u7f00\u548c\u6570\u7ec4\nint dp[9][9][9][9][15];//dp\u66b4\u529b\u6570\u7ec4\ninline void add(int i,int j)\n{\n//\u8fd9\u4e2a\u51fd\u6570\u662f\u8ba1\u7b97\u524d\u7f00\u548c\u6570\u7ec4\u3002\u5de6\u4e0a(1,1)\u53f3\u4e0b(i,j)\u7684\u4ef7\u503c\n//\u597d\u597d\u60f3\u60f3\u4e3a\u4ec0\u4e48\u3002\uff08\u6269\u5c55\u8fd9\u4e2a\u70b9\u65f6\u5de6\u8fb9\u77e9\u5f62+\u53f3\u8fb9\u77e9\u5f62-\u91cd\u53e0\u7684\u90e8\u5206+\u8fd9\u4e2a\u70b9\u7684\u4ef7\u503c\uff09\n    sum[i][j]=sum[i-1][j]+sum[i][j-1]-sum[i-1][j-1]+map[i][j];\n    return ;\n}\ninline int s(int x1,int y1,int x2,int y2)\n{\n//\u8fd9\u4e2a\u662f\u7528\u6765\u8ba1\u7b97\u5de6\u4e0a(x1,y1)\u53f3\u4e0b(x2,y2)\u7684\u4ef7\u503c\n//\u8fd8\u662f\u5bb9\u65a5\u539f\u7406\n    int now=sum[x2][y2]-sum[x2][y1-1]-sum[x1-1][y2]+sum[x1-1][y1-1];\n    return now;\n}\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=8;i++)\n      for(int j=1;j<=8;j++)\n      scanf(\"%d\",&map[i][j]),\n      add(i,j);//\u8f93\u5165\uff0c\u5904\u7406\u524d\u7f00\u548c\n    \n//debug\n//\tfor(int i=1;i<=8;i++,puts(\"\"))\n//\t  for(int j=1;j<=8;j++)\n//\t  printf(\"%-5d \",sum[i][j]); \n//\u5904\u7406\u52070\u5200\u65f6\u5404\u77e9\u5f62\u4ef7\u503c\u7684\u5e73\u65b9\n    for(int i=1;i<=8;i++)\n     for(int j=1;j<=8;j++)\n       for(int x=i;x<=8;x++)\n         for(int y=j;y<=8;y++)\n           dp[i][j][x][y][0]+=s(i,j,x,y),\n           dp[i][j][x][y][0]*=dp[i][j][x][y][0];\n//dp\u8fc7\u7a0b\uff0c\u6df1\u5438\u4e00\u53e3\u6c14\u8bfb\u5b8c\u8fd9\u4e00\u9762\u65b9\u7a0b\u3002\n\tfor(int k=1;k<n;k++)\n      for(int i=1;i<=8;i++)\n        for(int j=1;j<=8;j++)\n          for(int x=i;x<=8;x++)\n            for(int y=j;y<=8;y++)\n            {\n            \tint minn=0x3f3f3f3f;\n            \tfor(int a=j;a<y;a++)\n                  minn=min(minn,min(dp[i][j][x][a][k-1]+dp[i][a+1][x][y][0],dp[i][j][x][a][0]+dp[i][a+1][x][y][k-1]));\n                for(int b=i;b<x;b++)\n                  minn=min(minn,min(dp[i][j][b][y][k-1]+dp[b+1][j][x][y][0],dp[i][j][b][y][0]+dp[b+1][j][x][y][k-1]));\n            \tdp[i][j][x][y][k]=minn;\n            }\n    printf(\"%d\",dp[1][1][8][8][n-1]); \n //\u8f93\u51fa\uff0c\u7a0b\u5e8f\u62dc\u62dc\u3002\n    return 0;\n}\n```",
        "postTime": 1519269977,
        "uid": 57699,
        "name": "Arcturus1350",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1436 \u3010\u68cb\u76d8\u5206\u5272\u3011"
    },
    {
        "content": "\u55ef\uff0c\u770b\u6570\u636e\u8303\u56f4\u8fd9\u4e48\u5c0f\uff0c\u80af\u5b9a\u641e\u4e00\u5806\u5faa\u73af\u66b4\u529bdp\u3002\n\n\u63a8\u5f0f\u5b50\u5e94\u8be5\u4e0d\u662f\u592a\u96be\uff0c\u8bbedp[k][i][j][p][q]\u8868\u793a\u4ece(i,j)\u5230(p,q)\u4e2d\u5206\u6210k\u4e2a\u77e9\u5f62\u6700\u5c0f\u7684\u5e73\u65b9\u548c\u3002\n\n\u90a3\u4e48\u521d\u59cb\u5316\u5c31\u662fdp[1][i][j][p][q]=sum(i,j,p,q)^2\n\n\u81f3\u4e8e\uff0csum\u53ef\u4ee5\u7528\u4e00\u4e2a\u4e8c\u7ef4\u524d\u7f00\u548c\u7684\u9884\u5904\u7406\u641e\u3002\n\n\u8003\u8651\u4e00\u4e0b\u5177\u4f53\u7684dp\u8f6c\u79fb\u8fc7\u7a0b\uff1a\n\n\u518d\u679a\u4e3e\u4e00\u4e2at\uff0c\u8868\u793a\u628ai\u5230p\u884c\u4ecet\u884c\u8fd9\u4e2a\u5206\u6210\u4e24\u5757\uff0c\u4e00\u5757\u5206\u4e00\u6b21\uff0c\u4e00\u5757\u5206k-1\u6b21\uff0c\n\n\u4e5f\u8868\u793a\u628aj\u5230q\u5217\u4ecet\u5217\u5206\u6210\u4e24\u5757\uff0c\u4e00\u5757\u5206\u4e00\u6b21\uff0c\u4e00\u5757\u5206k-1\u6b21\n\n\u90a3\u4e48\u6574\u4e2a\u65b9\u7a0b\u5c31\u5f88\u6e05\u6670\u4e86\uff1a\n\nChkMin(dp[tk][i][j][p][q],min(dp[tk-1][i][j][t-1][q]+dp[1][t][j][p][q],dp[1][i][j][t-1][q]+dp[tk-1][t][j][p][q]));\n\nChkMin(dp[tk][i][j][p][q],min(dp[tk-1][i][j][p][t-1]+dp[1][i][t][p][q],dp[1][i][j][p][t-1]+dp[tk-1][i][t][p][q]));\n\n\u770b\u8d77\u6765\u6709\u70b9\u5bf9\u79f0\u7684\u5473\u9053= =\n\n\u81f3\u4e8e\u6eda\u52a8\u6570\u7ec4\u4f18\u5316\u4ec0\u4e48\u7684\uff0c\u53ef\u4ee5\u8003\u8651\u628adp[1][][][][]\u7528\u4e00\u4e2a\u6570\u7ec4\u5355\u72ec\u8bb0\u5f55\uff0ctk\u4e0etk-1\u5c31\u7528tk&1,tk&1^1\u6765\u8868\u793a\u4e5f\u662f\u53ef\u4ee5\u7684\u3002\n\n\u4f46\u662f\uff0c\u5e76\u6ca1\u6709\u5fc5\u8981\u3002For\u5faa\u73af\u6bd4\u8f83\u591a\uff0c\u53ef\u4ee5\u8003\u8651\u5f04\u4e2a#define\n\n\n\u53c2\u8003\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#define REP(i,a,b) for (int i=(a);i<=(b);i++)\n#define DREP(i,a,b) for (int i=(a);i>=(b);i--)\nusing namespace std;\ntemplate<class T>inline void ChkMin(T &a,T b){if (b<a)a=b;}\nconst int N=8;\nint n=8,k;\nint dp[2*N][N][N][N][N];\nint a[N][N],s[N][N];\nint main(){\n    memset(dp,0x3f,sizeof(dp));\n    scanf(\"%d\",&k);\n    REP(i,1,n)REP(j,1,n)scanf(\"%d\",&a[i][j]);\n    REP(i,1,n)REP(j,1,n)s[i][j]=s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j];\n    REP(i,1,n)REP(j,1,n)REP(p,i,n)REP(q,j,n){\n        int t=s[p][q]-s[p][j-1]-s[i-1][q]+s[i-1][j-1];\n        dp[1][i][j][p][q]=t*t;\n    }\n    REP(tk,2,k)DREP(i,n,1)DREP(j,n,1)\n        REP(p,i,n)REP(q,i,n){\n            REP(t,i+1,p)ChkMin(dp[tk][i][j][p][q],min(dp[tk-1][i][j][t-1][q]+dp[1][t][j][p][q],dp[1][i][j][t-1][q]+dp[tk-1][t][j][p][q]));\n            REP(t,j+1,q)ChkMin(dp[tk][i][j][p][q],min(dp[tk-1][i][j][p][t-1]+dp[1][i][t][p][q],dp[1][i][j][p][t-1]+dp[tk-1][i][t][p][q]));\n        }\n    printf(\"%d\",dp[k][1][1][n][n]);\n    return 0;\n}\n```",
        "postTime": 1504786510,
        "uid": 54916,
        "name": "I_AM_HelloWord",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1436 \u3010\u68cb\u76d8\u5206\u5272\u3011"
    },
    {
        "content": "## ~~\u6c34\u9898\uff01~~\n#### \u770b\u5b8c\u8fd9\u9053\u9898\u7684\u7b2c\u4e00\u611f\u53d7\u3002\u3002\n#### \u9996\u5148 \u8f6c\u79fb\u65b9\u7a0b\u7279\u522b\u6e05\u6670\uff0c\u5176\u6b21\u60c5\u51b5\u5f88\u5c11\uff0c\u6216\u8005\u8bf4\u6570\u636e\u5f88\u6c34\u3002\n#### \u4e00\u6b21AC\u540e \u6211\u770b\u5230\u9898\u89e3\u5927\u591a\u662f6\u5c42\u66b4\u529b\u6c34\u8fc7\u7684\u3002\u3002 ~~\u6211\u8ba4\u4e3a\u5e03\u661f~~\u3002\n\n\n------------\n\u597d\u4e86\uff0c\u8bf4\u6b63\u4e8b\u3002\n\u6211\u4e0d\u662f\u4f7f\u7528dp\u6765\u505a\u7684 \u800c\u662f\u66f4\u4eb2\u6c11\u7684dfs\uff01~~\uff08\u6211\u624d\u4e0d\u4f1a\u8bf4\u6211\u60f3\u51fa\u8f6c\u79fb\u65b9\u7a0b\u4f46\u4e0d\u4f1adp\u5462\u3002\uff09~~\n\u5f53\u7136 \u6211\u7684\u8fd9\u4e2adfs\u662f\u4e3a\u4e86\u8ba9\u4eba\u66f4\u597d\u7406\u89e3 \u91c7\u53d6\u7684\u8f83\u4e3a\u88f8\u7684dfs \u6240\u4ee5\u79d2\u6570\u5927\u7ea60.4s\u5de6\u53f3\u3002\n\u611f\u5174\u8da3\u7684dalao\u6216\u8005\u795e\u7287\u53ef\u4ee5\u52a0\u4ee5\u4fee\u6539\u3002\n\u4e0d\u591a\u8bf4\u4e86 \u4e0a\u4ee3\u7801\n```\n/*\u672c\u7bc7\u91c7\u7528\u4e86\u524d\u7f00\u548c\u4f18\u5316+\u6700\u4f18\u5316\u526a\u679d \u6709\u4e00\u5b9a\u6570\u5b66\u57fa\u7840\u548cdfs\u57fa\u7840\u7684\u540c\u5b66\u57fa\u672c\u90fd\u80fd\u79d2\u61c2*/\n#include <bits/stdc++.h>\nusing namespace std;\nlong long S[20][20],ans=99999999;\nint n;\ninline int read()\n{\n\tint w=1,d=0; char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')w=-1; ch=getchar();}\n\twhile(ch>='0'&&ch<='9')d=d*10+ch-'0',ch=getchar();\n\treturn w*d;\n} \nvoid init()\n{\n\tn=read();\n\tint k;\n\tfor(int i=1;i<=8;i++)\n\tfor(int j=1;j<=8;j++)\n\t{\n\t\tk=read();\n\t\tS[i][j]=S[i-1][j]+S[i][j-1]-S[i-1][j-1]+k;\n        //\u524d\u7f00\u548c\u4f18\u5316 \u4e0d\u61c2\u7684\u53ef\u4ee5\u5c1d\u8bd5\u8ba1\u7b97\u4e00\u4e0b\n\t}\n}\nlong long power(int zx,int zy,int sx,int sy)\n{\n\tlong long k = S[sx][sy]-S[zx-1][sy]-S[sx][zy-1]+S[zx-1][zy-1];\n\treturn k*k;\n}\nvoid dfs(int zx,int zy,int sx,int sy,long long sum,int cur)\n{\n\t/*\n    \t\u91cd\u4e2d\u4e4b\u91cd\u7684\u90e8\u5206\u6765\u4e86\u3002\n        \u9996\u5148 \u8fd9\u9053\u9898\u53ea\u80fd\u6309\u8fb9\u5207 \u6240\u4ee5\u53ea\u6709\u6a2a\u5207\u548c\u7ad6\u5207\u4e24\u79cd\u60c5\u51b5\u3002\n        \u4f46\u5207\u5b8c\u4e4b\u540e\uff0c\u5e94\u8be5\u8003\u8651\u7ee7\u7eed\u5207\u90a3\u534a\u8fb9\u4f1a\u4f7f\u7b54\u6848\u66f4\u4f18\u3002\n        \u8fd9\u662fdp\u89e3\u6cd5\u6240\u8981\u7ee7\u7eed\u4f18\u5316\u8003\u8651\u7684 \u8fd9\u91cc\u6682\u4e14\u4e0d\u63d0\u3002\n        \u987a\u5e26\u4e00\u63d0 dfs\u7684\u53d8\u91cf\u5206\u522b\u4e3a \u6700\u4e0b\u89d2\u7684\u5750\u6807 \u6700\u4e0a\u89d2\u7684\u5750\u6807 \u5f53\u524d\u503c \u5207\u7684\u4e2a\u6570\n    */\n\tif(sum>ans) return ;\n\tif(cur==n)\n\t{\n\t\tsum+=power(zx,zy,sx,sy);\n\t\tans=min(ans,sum);\n\t\treturn ;\n\t}\n\tfor(int i=zx;i<sx;i++)\n\t{\n\t\tdfs(zx,zy,i,sy,sum+power(i+1,zy,sx,sy),cur+1);\n\t\tdfs(i+1,zy,sx,sy,sum+power(zx,zy,i,sy),cur+1);\n\t}\n\tfor(int i=zy;i<sy;i++)\n\t{\n\t\tdfs(zx,zy,sx,i,sum+power(zx,i+1,sx,sy),cur+1);\n\t\tdfs(zx,i+1,sx,sy,sum+power(zx,zy,sx,i),cur+1);\n\t}\n}\nint main()\n{\n\tinit();\n\tdfs(1,1,8,8,0,1);\n\tcout<<ans;\n}\n```\n\u611f\u8c22\u5927\u5bb6\u5173\u6ce8 \u672c\u849f\u84bb\u7684\u6c34\u9898\u89e3\u3002\u3002",
        "postTime": 1539767550,
        "uid": 74598,
        "name": "\u6076\u706c\u5fc3",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1436 \u3010\u68cb\u76d8\u5206\u5272\u3011"
    },
    {
        "content": "\u770b\u4e86\u770b\u9898\u89e3\uff0c\u597d\u50cf\u5e76\u6ca1\u6709\u4eba\u5199\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u9898\u89e3\uff1b\u90a3\u6211\u5c31\u6765\u4e00\u5206\u5427\n\n\u9996\u5148\u6211\u4eec\u7528sum[i][j][k][l] \u8868\u793a\u5de6\u4e0a\u7aef\u70b9\u4e3a\uff08i\uff0cj\uff09\u53f3\u4e0b\u7aef\u70b9\u4e3a\uff08k\uff0cl\uff09\u8fd9\u6bb5\u533a\u95f4\u5185\u6240\u6709\u503c\u7684\u548c\n\n\u7136\u540e\u7528dp[x][y][xx][yy][k]\u8868\u793a\uff08x\uff0cy\uff09\u5230\uff08xx\uff0cyy\uff09\u5185\u5207\u5272k\u6b21\u6240\u5f97\u7684\u6700\u5c0f\u5e73\u65b9\u548c\n\n\u7136\u540e\u7528vis\u5224\u91cd\u5c31\u884c\u4e86\n\n\u4ee5\u4e0b\u662f\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nconst int maxn=10;\nint dp[maxn][maxn][maxn][maxn][maxn*2];\nint sum[maxn][maxn][maxn][maxn];\nbool vis[maxn][maxn][maxn][maxn];\nint map[maxn][maxn];\nint n;\nvoid dfs(int x,int y,int xx,int yy)\n{\n    if(vis[x][y][xx][yy])return;vis[x][y][xx][yy]=true;\n    dp[x][y][xx][yy][0]=sum[x][y][xx][yy]*sum[x][y][xx][yy];\n    for(int i=x;i<xx;i++)\n    {\n        dfs(x,y,i,yy);dfs(i+1,y,xx,yy);\n    }\n    for(int i=y;i<yy;i++)\n    {\n        dfs(x,y,xx,i);dfs(x,i+1,xx,yy);\n    }\n    for(int k=1;k<=n-1;k++)\n    {\n        for(int i=x;i<xx;i++)\n        {\n            dp[x][y][xx][yy][k]=min(dp[x][y][xx][yy][k],dp[x][y][i][yy][k-1]+sum[i+1][y][xx][yy]*sum[i+1][y][xx][yy]);\n            dp[x][y][xx][yy][k]=min(dp[x][y][xx][yy][k],dp[i+1][y][xx][yy][k-1]+sum[x][y][i][yy]*sum[x][y][i][yy]);\n        }\n        for(int i=y;i<=yy;i++)\n        {\n            dp[x][y][xx][yy][k]=min(dp[x][y][xx][yy][k],dp[x][y][xx][i][k-1]+sum[x][i+1][xx][yy]*sum[x][i+1][xx][yy]);\n            dp[x][y][xx][yy][k]=min(dp[x][y][xx][yy][k],dp[x][i+1][xx][yy][k-1]+sum[x][y][xx][i]*sum[x][y][xx][i]);\n        }\n    }\n}\nint main()\n{\n    memset(dp,0x3f,sizeof(dp));\n    scanf(\"%d\",&n);\n    for(int i=1;i<=8;i++)for(int j=1;j<=8;j++) scanf(\"%d\",&map[i][j]),sum[1][1][i][j]=map[i][j];\n    for(int i=1;i<=8;i++)for(int j=1;j<=8;j++) sum[1][1][i][j]+=sum[1][1][i-1][j]+sum[1][1][i][j-1]-sum[1][1][i-1][j-1];\n    for(int i=1;i<=8;i++)for(int j=1;j<=8;j++)for(int k=1;k<=i;k++)for(int l=1;l<=j;l++)\n    {\n        sum[k][l][i][j]=sum[1][1][i][j]+sum[1][1][k-1][l-1]-sum[1][1][k-1][j]-sum[1][1][i][l-1];\n    }\n    dfs(1,1,8,8);printf(\"%d\\n\",dp[1][1][8][8][n-1]);\n}\n\n```",
        "postTime": 1504946054,
        "uid": 25365,
        "name": "zhouenji",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1436 \u3010\u68cb\u76d8\u5206\u5272\u3011"
    },
    {
        "content": "emmmm\n\u5176\u5b9e\u662f\u53ef\u4ee5\u770b\u6211\u7684[\u4e00\u7bc7\u8bb2DP\u7684\u535a\u5ba2](https://www.luogu.org/blog/handsome-only/post-suan-fa-yi-shu-yu-xin-xi-xue-jing-sai-dong-tai-gui-hua-ru-men)\u7684\u6765\u7740\n\u8bdd\u8bf4\u8fd8\u6709\u554a\uff0c\u539f\u9898\u4e0d\u662f\u6c42\u65b9\u5dee\u4e48\u3002\u3002\u3002\n\u65e0\u6240\u8c13\u4e86\u5dee\u4e0d\u591a\u5427\uff0c\u90a3\u6211\u5c31\u6309\u65b9\u5dee\u7684\u6765\u5199\u54af\u3002\n\u9996\u5148\u6211\u4eec\u8fd8\u662f\u8981\u5316\u7b80\u4e00\u4e0b\u5747\u65b9\u5dee\u7684\uff0c\u56e0\u4e3a\u6253\u8d77\u6765\u5b9e\u5728\u662f\u592a\u9ebb\u70e6\uff0c\u8fd9\u91cc\u76f4\u63a5\u5199\u51fa\u7ed3\u8bba\u5427\u3002\u5747\u65b9\u5dee\u7684\u5e73\u65b9=\uff08\u2211xi^2\uff09/n-\uff08x\u5e73\u5747\u503c\uff09^2\u3002\u771f\u7684\u662f\u96be\u6253\u554a\uff0c\u51d1\u5408\u770b\u4e0b\u5427\u3002\u5bf9\u4e8e\u8fd9\u4e2a\u9898\u76ee\u6765\u8bf4\uff0c\u6211\u4eec\u5c31\u8981\u6240\u5f00\u7684DP\u6570\u7ec4\u662f\u4e00\u4e2a\u4e94\u7ef4\u6570\u7ec4\uff0c\u8868\u793a\u4e00\u4e2a\u8303\u56f4\uff08\u5de6\u4e0a\u89d2\u6a2a\u7eb5\u5750\u6807\u548c\u53f3\u4e0b\u89d2\u6a2a\u7eb5\u5750\u6807\u4ee5\u53ca\u5f53\u524d\u5206\u5272\u6b21\u6570\uff09\uff0c\u72b6\u6001\u4e0e\u72b6\u6001\u4e4b\u95f4\u662f\u6709\u7740\u4e00\u5b9a\u7684\u8054\u7cfb\u7684\uff0c\u6211\u4eec\u5c06\u72b6\u6001\u4e0e\u72b6\u6001\u4e4b\u95f4\u7684\u4e00\u79cd\u5173\u7cfb\uff08\u591a\u4ee5\u65b9\u7a0b\u7684\u5f62\u5f0f\u8868\u793a\uff09\u79f0\u4e3a\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u3002\u5bf9\u4e8e\u8fd9\u4e2a\u9898\u76ee\uff0c\u8bb0\u5f55f[x1][y1][x2][y2][k]\u662f\u72b6\u6001\uff0c\u518d\u591a\u5f00\u4e00\u4e2as[x1][y1][x2][y2]\u8bb0\u5f55\u77e9\u5f62\u6743\u503c\u548c\u7684\u5e73\u65b9\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a\n\n\tf[x1][y1][x2][y2][k]=min{min(f[x1][y1][i][y2][k-1])+s[i+1][y1][x2][y2],f[i+1][y1][x2][y2][k-1])+s[x1][y1][i][y2]),min(f[x1][y1][x2][j][k-1])+s[x1][j+1][x2][y2]),f[x1][j][x2][y2][k-1])+s[x1][y1][x2][j])};\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u7ea6\u4e3aO\uff08m^5 *n\uff09\u5bf9\u4e8e\u8fd9\u9053\u9898\u6765\u8bf4\u662f\u5b8c\u5168odk\u7684; \u63a5\u4e0b\u6765\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\nusing namespace std;\nint sum[9][9][9][9];//\u8bb0\u5f55\u5e73\u65b9\u548c \nint dp[9][9][9][9][20];  \nint num[9][9];\nint main(){\n    int n; \n    while(scanf(\"%d\",&n)!=EOF){\n        for(int i=1;i<=8;i++)\n            for(int j=1;j<=8;j++)\n                scanf(\"%d\",&num[i][j]);\n        for(int x1=1;x1<=8;x1++)\n        for(int y1=1;y1<=8;y1++)\n            for(int x2=1;x2<=8;x2++)\n                for(int y2=1;y2<=8;y2++){\n                    int t=0;\n                    for(int i=x1;i<=x2;i++)\n                        t+=num[i][y2];\n                    if(y1==1&&x1==1)\n                    sum[x1][y1][x2][y2]=sum[x1][y1][x2][y2-1]+t;  \n                    else sum[x1][y1][x2][y2]=sum[1][1][x2][y2]-sum[1][1][x1-1][y2]-sum[1][1][x2][y1-1]+sum[1][1][x1-1][y1-1];  \n                    dp[x1][y1][x2][y2][0]=sum[x1][y1][x2][y2]*sum[x1][y1][x2][y2];  \n                }\n        for(int k=1;k<n;k++)\n            for(int x1=1;x1<=8;x1++)\n                for(int y1=1;y1<=8;y1++)\n                    for(int x2=1;x2<=8;x2++)\n                        for(int y2=1;y2<=8;y2++){\n                            int t=0x3f3f3f3f;\n                            for(int a=x1;a<x2;a++){\n                                int t1=min(dp[x1][y1][a][y2][k-1]+dp[a+1][y1][x2][y2][0],dp[a+1][y1][x2][y2][k-1]+dp[x1][y1][a][y2][0]);\n                                t=min(t,t1);\n                            }\n                            for(int b=y1;b<y2;b++){\n                                int t1=min(dp[x1][y1][x2][b][k-1]+dp[x1][b+1][x2][y2][0],dp[x1][b+1][x2][y2][k-1]+dp[x1][y1][x2][b][0]);    \n                                t=min(t,t1);\n                            }\n                            dp[x1][y1][x2][y2][k]=t;   \n                        }\n        double average=(double)(sum[1][1][8][8])/n;\n        average*=average;\n        double ans=((double)(dp[1][1][8][8][n-1])/n)-average;\n        ans=sqrt(ans);\n        printf(\"%.3lf\\n\",ans);\n    }\n    return 0;\n}\n```\n\n~~emmmm\u8fd8\u662f\u4e0d\u8981\u6284\u554a\uff0c\u8fd9\u4e2a\u8f93\u51fa\u7684\u662f\u65b9\u5dee\u3002~~",
        "postTime": 1524301346,
        "uid": 50964,
        "name": "clearlove7777",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1436 \u3010\u68cb\u76d8\u5206\u5272\u3011"
    },
    {
        "content": "f[x1][y1][x2][y2][k]\u8868\u793a\u5de6\u4e0a\u89d2\uff08x1,y1\uff09\u53f3\u4e0b\u89d2\uff08x2,y2\uff09\u7684\u77e9\u5f62\u662f\u88ab\u5206\u51fa\u6765\u7684\u7b2ck\u4e2a\u77e9\u5f62\u65f6\uff0c\u5e73\u65b9\u548c\u7684\u6700\u5c0f\u503c\u3002\n\n\u8c8c\u4f3c\u548c\u697c\u4e0a\u7684\u4e0d\u4e00\u6837\n\n \n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nconst int inf=1e9;\n#define upr(i,x,y) for(int i=x;i<=y;i++)\n#define dnr(i,x,y) for(int i=x;i>=y;i--)\nint tp,sum[10][10],f[10][10][10][10][20];\nvoid dn(int &x,int y){if(x>y)x=y;} \nint get(int x1,int y1,int x2,int y2){\n    int tp=sum[x2][y2]+sum[x1-1][y1-1]-sum[x1-1][y2]-sum[x2][y1-1];\n    return tp*tp;\n}\nint main(){\n    freopen(\"1.in\",\"r\",stdin);\n    int n,ans=inf;\n    scanf(\"%d\",&n);\n    n--;\n    upr(i,1,8) upr(j,1,8) {\n        scanf(\"%d\",&tp);\n        sum[i][j]=sum[i-1][j]+sum[i][j-1]-sum[i-1][j-1]+tp;\n    }\n    upr(i,1,8) f[i][1][8][8][1]=get(1,1,i-1,8),f[1][1][i][8][1]=get(i+1,1,8,8),\n               f[1][1][8][i][1]=get(1,i+1,8,8),f[1][i][8][8][1]=get(1,1,8,i-1);\n    upr(k,2,n)\n    upr(x1,1,8)\n    upr(y1,1,8)\n    upr(x2,x1,8)\n    upr(y2,y1,8){\n        f[x1][y1][x2][y2][k]=inf;\n        upr(i,1,x1-1) if(f[i][y1][x2][y2][k-1]) dn(f[x1][y1][x2][y2][k],f[i][y1][x2][y2][k-1]+get(i,y1,x1-1,y2));\n        upr(i,x2+1,8) if(f[x1][y1][i][y2][k-1]) dn(f[x1][y1][x2][y2][k],f[x1][y1][i][y2][k-1]+get(x2+1,y1,i,y2));\n        upr(i,1,y1-1) if(f[x1][i][x2][y2][k-1]) dn(f[x1][y1][x2][y2][k],f[x1][i][x2][y2][k-1]+get(x1,i,x2,y1-1));\n        upr(i,y2+1,8) if(f[x1][y1][x2][i][k-1]) dn(f[x1][y1][x2][y2][k],f[x1][y1][x2][i][k-1]+get(x1,y2+1,x2,i));\n        if(k==n) dn(ans,f[x1][y1][x2][y2][k]+get(x1,y1,x2,y2));\n    }\n    cout<<ans;\n    return 0;\n}\n```",
        "postTime": 1494598258,
        "uid": 19534,
        "name": "_Touch_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1436 \u3010\u68cb\u76d8\u5206\u5272\u3011"
    },
    {
        "content": "\u505a\u6cd5\u4e4b\u524d\u7684\u9898\u89e3\u90fd\u8bf4\u7684\u5dee\u4e0d\u591a\u4e86\uff0c\u57fa\u672c\u4e0a\u5c31\u662f\u8fd9\u4e2a\u6837\u5b50\u3002\u8fd9\u91cc\u518d\u660e\u786e\u4e0b\u601d\u8def\uff1a \n- $dp[k][x1][y1][x2][y2]$\u8868\u793a$(x1,y1)$\u548c$(x2,y2)$\u95f4\u5206\u6210$k$\u90e8\u5206\u65f6\u7684\u6700\u5c0f\u5e73\u65b9\u548c\n- \u521d\u59cb\u5316$$dp[1][x1][y1][x2][y2]=pf(sum(x1,y1,x2,y2));$$ \u5c31\u662f\u8bf4\u5206\u62101\u90e8\u5206\u65f6\uff08\u5373\u4e0d\u5206\uff09\u6700\u5c0f\u503c\u4e3a**\u533a\u95f4(x1,y1)\u5230(x2,y2)\u7684\u5e73\u65b9**\n- \u9012\u63a8\u5173\u7cfb\u5f0f:  $dp[k][x1][y1][x2][y2]=$  \n$min($  \n\t$$min(dp[1][x1][y1][a][y2]+dp[k-1][a+1][y1][x2][y2],$$  \n        $$dp[k-1][x1][y1][a][y2]+dp[1][a+1][y1][x2][y2])(a=x1.to.x2),$$  \n\t$$min(dp[1][x1][y1][x2][a]+dp[k-1][x1][a+1][x2][y2],$$  \n    \t$$dp[k-1][x1][y1][x2][a]+dp[1][x1][a+1][x2][y2])(a=y1.to.y2)$$  \n        \n$)$  \n\n\n\u8fd9\u91cc\u5bf9\u8fd9\u4e2a\u5173\u7cfb\u5f0f\u8fdb\u884c\u89e3\u8bf4\uff1a~~\uff08\u7ec8\u4e8e\u8fdb\u5165\u6b63\u9898\u4e86\uff09~~\n\n\n------------\n\u5f00\u59cb\uff0c\u5927\u5bb6\u5e94\u8be5\u90fd\u60f3\u7684\u662f\u987a\u63a8\uff0c\u5373\u5207\u5f00\uff0c\u9009\u62e9\uff0c\u518d\u5207\uff0c\u518d\u9009\u3002\u6b64\u65f6\uff0c\u7531\u4e8e\u53ea\u80fd\u9009\u62e9\u5e76\u5207\u5176\u4e2d\u4e00\u5757\uff0c\u4e14\u4e0d\u80fd\u5207\u5b8c\u4e00\u5757\u518d\u5207\u5269\u4e0b\u7684\u53e6\u4e00\u5757\uff0c\u6240\u4ee5\u65e0\u6cd5\u5efa\u7acb\u9012\u63a8\u5173\u7cfb\u5f0f\u3002  \n\u6240\u4ee5\uff0c\u6211\u4eec\u4f7f\u7528\u9006\u63a8\u7684\u65b9\u5f0f\uff0c\u9009\u62e9\u7b2c1\u6b21\u5207\u5272\u7684\u4f4d\u7f6e\u3002\u6b64\u65f6\uff0c\u5176\u4e2d\u4e00\u5757\u8981\u5206\u6210$k-1$\u5757\uff08\u5df2\u6c42\u51fa\u89e3\uff09\uff0c\u800c\u53e6\u4e00\u5757\u5c31\u653e\u7f6e\u4e0d\u5207\u3002\u7531\u4e8e\u6709\u6a2a\u5207\u3001\u7ad6\u5207\u4e24\u79cd\u5207\u6cd5\uff0c\u6240\u4ee5\u5206\u522b\u7528$a$\u679a\u4e3e\u884c\u3001\u5217\u8fdb\u884c\u5207\u5272\uff0c\u518d\u6bd4\u8f83\u51fa\u6bcf\u79cd\u5207\u6cd5\u4e24\u79cd\u9009\u62e9\u7684\u5c0f\u503c\uff0c\u9009\u7528\uff0c\u518d\u5206\u522b\u6bd4\u51fa\u6a2a\u7ad6\u6700\u5c0f\u503c\uff0c\u518d\u6bd4\u8f83\u6a2a\u5207\u503c\u548c\u7ad6\u5207\u503c\uff0c\u9009\u7528\u6700\u5c0f\u503c\u5373\u53ef\u3002  \n\n\n\u6700\u540e\uff0c\u9644\u4e0aAC\u4ee3\u7801\n\n\n------------\n```cpp\n#include<iostream>\nusing namespace std;\nint dp[16][9][9][9][9],a[9][9],n;\n#define sum(i,j,ii,jj) (a[ii][jj]-a[i-1][jj]-a[ii][j-1]+a[i-1][j-1])\n#define pf(a) (a*a)\nint main()\n{\n\tint i,j,k,ii,jj,kk;\n\tcin>>n;\n\tfor(i=1;i<=8;i++)\n\tfor(j=1;j<=8;j++)\n\tcin>>a[i][j],a[i][j]+=a[i-1][j]+a[i][j-1]-a[i-1][j-1];\n\tfor(i=1;i<=8;i++)\n\tfor(j=1;j<=8;j++)\n\tfor(ii=i;ii<=8;ii++)\n\tfor(jj=j;jj<=8;jj++)\n\tdp[1][i][j][ii][jj]=pf(sum(i,j,ii,jj));\n\tfor(k=2;k<=n;k++)\n\tfor(i=1;i<=8;i++)\n\tfor(j=1;j<=8;j++)\n\tfor(ii=i;ii<=8;ii++)\n\tfor(jj=j;jj<=8;jj++)\n\t{\n\t\tdp[k][i][j][ii][jj]=1<<30;\n\t\tfor(kk=i;kk<ii;kk++)\n\t\tdp[k][i][j][ii][jj]=min(dp[k][i][j][ii][jj],min(dp[1][i][j][kk][jj]+dp[k-1][kk+1][j][ii][jj],dp[k-1][i][j][kk][jj]+dp[1][kk+1][j][ii][jj]));\n\t\tfor(kk=j;kk<jj;kk++)                                                                                                                         //\u9006\u63a8 \n\t\tdp[k][i][j][ii][jj]=min(dp[k][i][j][ii][jj],min(dp[1][i][j][ii][kk]+dp[k-1][i][kk+1][ii][jj],dp[k-1][i][j][ii][kk]+dp[1][i][kk+1][ii][jj]));\n\t}\n\tcout<<dp[n][1][1][8][8]<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1520088470,
        "uid": 35137,
        "name": "a___",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1436 \u3010\u68cb\u76d8\u5206\u5272\u3011"
    },
    {
        "content": "[Youngsc](http://youngscc.github.io/)\n\n\u641e\u4e0d\u61c2\u9ed1\u79d1\u6280\u3002\u3002\u3002\n\n\u8fd9\u662f\u4e00\u4e2a\u4e8c\u7ef4\u533a\u95f4DP\n\n\u6240\u4ee5\u6570\u636e\u6bd4\u8f83\u5c0f\uff0cfor\u6bd4\u8f83\u591a\uff1b\n\nf[x][y][p][q][k] \u8868\u793a\u4ee5\uff08x\uff0cy\uff09\u4e3a\u5de6\u4e0a\u7aef\u70b9\uff0c\uff08p\uff0cq\uff09\u4e3a\u53f3\u4e0b\u7aef\u70b9\u7684\u77e9\u5f62\u5206\u5272\u4e3ak\u5757\u513f\u7684\u65b9\u6848\u6570\n\n\u6240\u4ee5\u5f53K = 1\u65f6\u5c31\u662f\u603b\u5206\u503c\u7684\u5e73\u65b9\uff1b\n\n\u6b64\u5904\u8981\u7528\u5230\u4e8c\u7ef4\u524d\u7f00\u548c\u8ba1\u7b97\u4efb\u610f\u533a\u95f4\u5206\u503c\n\n\u9996\u5148\u679a\u4e3e\u4f60\u8981\u66f4\u65b0\u7684\u5206\u5757\u513f\u65b9\u6848(\u653e\u5728\u679a\u4e3e\u70b9\u7684\u4e0a\u8fb9\u4e0b\u8fb9\u65e0\u6240\u8c13)\n\n\u7136\u540e\u662f\u679a\u4e3e\u5de6\u4e0a\u53f3\u4e0b\u7aef\u70b9\n\n\u6700\u540e\u679a\u4e3e\u51b3\u7b56\uff0c\u65e2\u6a2a\u7740\u5206\u5272\u548c\u7eb5\u7740\u5206\u5272\uff0c\u6ce8\u610f\u662f\u5206\u5272\u5b8c\u4e4b\u540e\u518d\u5206\u5272\u5176\u4e2d\u7684\u4e00\u5757\uff0c\u6240\u4ee5\u53ea\u9700\u679a\u4e3e1\u548ck-1\u7684\u60c5\u51b5\u3002\n\n\u7136\u540e\u5c31\u6ca1\u6709\u7136\u540e\u4e86\u3002\u3002\u3002\n\n\u4ee3\u7801\u6bd4\u8f83\u4e11\uff0c\u5404\u4f4d\u5927\u4f6c\u51d1\u5408\u770b\u3002\n\n\n```cpp\n# include <algorithm>\n# include <iostream>\n# include <cstring>\n# include <cstdio>\n# include <string>\n# include <cmath>\n# include <queue>\n# include <map>\n# define R register\n# define LL long long\n# define M 100010\n\nusing namespace std;\n\nint a[9][9],n,f[9][9][9][9][16],s[9][9];\n\nvoid in(R int &a){\n    char c = getchar(); R int x = 0,f = 1;\n    while(c < '0'|| c > '9') {if(c == '-') f = -1; c = getchar();}\n    while(c >= '0'&&c <= '9') x = x*10+c-'0',c = getchar();\n    a = x*f;\n}\n\nint main(){\n    memset(f,127/3,sizeof(f));\n    in(n);\n    for(R int i = 1;i <= 8; ++i)\n        for(R int j = 1;j <= 8; ++j)\n            in(a[i][j]),\n            s[i][j] = s[i-1][j]+s[i][j-1]-s[i-1][j-1]+a[i][j];\n\n    for(R int x = 1;x <= 8;++x)\n        for(R int y = 1;y <= 8; ++y)\n            for(R int p = x;p <= 8; ++p)\n                for(R int q = y;q <= 8; ++q){\n                    R int d = s[p][q] - s[x-1][q] - s[p][y-1] + s[x-1][y-1];\n                    f[x][y][p][q][] = d*d;\n                }\n\n    for(R int k = 1;k <= n;++k)\n        for(R int x = 8;x >= 1;--x)\n            for(R int y = 8;y >= 1; --y)\n                for(R int p = x;p <= 8; ++p)\n                    for(R int q = y;q <= 8; ++q)\n                    {\n                        for(R int g = x;g < p; ++g)\n                            f[x][y][p][q][k] = min(f[x][y][p][q][k],min(f[x][y][g][q][1]+f[g+1][y][p][q][k-1],f[x][y][g][q][k-1]+f[g+1][y][p][q][1]));\n                        for(R int g = y;g < q; ++g)\n                            f[x][y][p][q][k] = min(f[x][y][p][q][k],min(f[x][y][p][g][1]+f[x][g+1][p][q][k-1],f[x][y][p][g][k-1]+f[x][g+1][p][q][1]));\n                    }\n    cout << f[1][1][8][8][n];\n}\n```\n",
        "postTime": 1499730250,
        "uid": 36282,
        "name": "Youngsc",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1436 \u3010\u68cb\u76d8\u5206\u5272\u3011"
    },
    {
        "content": "DP~\n\u539f\u9898\u5e94\u8be5\u662fNOI1999D1T2\uff0c\u6bd4\u8fd9\u9053\u8981\u591a\u51fa\u4e00\u4e9b\u516c\u5f0f\u63a8\u5bfc~\n\n\u7528f[i][x1][y1][x2][y2]\u8868\u793a\u4ece\u5de6\u4e0a\u89d2\u4e3a(x1,y1)\uff0c\u53f3\u4e0b\u89d2\u4e3a(x2,y2)\u7684\u77e9\u5f62\u5206\u5272i\u6b21\u7684\u6700\u5c0f\u503c\uff0c\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e00\u5757\uff0c\u6709\u6a2a\u5207\u548c\u7eb5\u5207\u4e24\u7c7b\uff0c\u5bf9\u4e8e\u6bcf\u79cd\u5207\u6cd5\uff0c\u53c8\u6709\u5de6\u8fb9\uff08\u4e0a\u8fb9\uff09\u8fd8\u53ef\u4ee5\u518d\u5207\u548c\u53f3\u8fb9\uff08\u4e0b\u8fb9\uff09\u8fd8\u53ef\u4ee5\u518d\u5207\u4e24\u79cd\uff0c\u5206\u522bDP\u5373\u53ef~\n\n\uff08\u53e6\u8fd9\u9053\u9898\u4e5f\u53ef\u4ee5\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u601d\u8def\u548cDP\u5dee\u4e0d\u591a\u3002\uff09\n\n\n\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cmath>\nusing namespace std;\nint n,num[9][9],k,f[15][9][9][9][9];\nint cal(int u1,int v1,int u2,int v2)\n{\n    int ans=num[u2][v2]-num[u1-1][v2]-num[u2][v1-1]+num[u1-1][v1-1];\n    return ans*ans;\n}\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=8;i++)\n      for(int j=1;j<=8;j++)\n      {\n          scanf(\"%d\",&k);\n          num[i][j]=num[i][j-1]+k;\n      }\n    for(int i=2;i<=8;i++)\n      for(int j=1;j<=8;j++) num[i][j]+=num[i-1][j];\n    for(int x1=1;x1<=8;x1++)\n      for(int y1=1;y1<=8;y1++)\n        for(int x2=x1;x2<=8;x2++)\n          for(int y2=y1;y2<=8;y2++) f[0][x1][y1][x2][y2]=cal(x1,y1,x2,y2);\n    for(int i=1;i<n;i++)\n      for(int x1=1;x1<=8;x1++)\n        for(int y1=1;y1<=8;y1++)\n          for(int x2=x1;x2<=8;x2++)\n            for(int y2=y1;y2<=8;y2++)\n            {\n                f[i][x1][y1][x2][y2]=999999999;\n                for(int k=y1;k<y2;k++) f[i][x1][y1][x2][y2]=min(f[i][x1][y1][x2][y2],min(f[i-1][x1][y1][x2][k]+f[0][x1][k+1][x2][y2],f[0][x1][y1][x2][k]+f[i-1][x1][k+1][x2][y2]));\n                for(int k=x1;k<x2;k++) f[i][x1][y1][x2][y2]=min(f[i][x1][y1][x2][y2],min(f[i-1][x1][y1][k][y2]+f[0][k+1][y1][x2][y2],f[0][x1][y1][k][y2]+f[i-1][k+1][y1][x2][y2]));\n            }\n    printf(\"%d\\n\",f[n-1][1][1][8][8]);\n    return 0;\n}\n```",
        "postTime": 1476780991,
        "uid": 16334,
        "name": "licone",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1436 \u3010\u68cb\u76d8\u5206\u5272\u3011"
    },
    {
        "content": "# \u5206\u6790\uff1a\n\u8fd9\u9053\u9898\u5176\u5b9e\u5c31\u662f\u533a\u95f4DP\u7684\u4e8c\u7ef4\u5316\u561b......  \n\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u5f97\u5230\u72b6\u6001\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DP( i, j, x, y, k )$\uff1a\u539f\u68cb\u76d8\u4e0a\u4ee5$(i, j)$\u4e3a\u5de6\u4e0a\u89d2\uff0c$(x, y)$\u4e3a\u53f3\u4e0b\u89d2\u7684\u77e9\u5f62\u5206\u5272$k$\u6b21\u7684\u6700\u5c0f\u5e73\u65b9\u548c\u3002  \n\u4ee5\u53ca\u8f6c\u79fb\u65b9\u7a0b\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$score(i, j, x,y)$\uff1a  \u539f\u68cb\u76d8\u4e0a\u4ee5$(i, j)$\u4e3a\u5de6\u4e0a\u89d2\uff0c$(x, y)$\u4e3a\u53f3\u4e0b\u89d2\u7684\u77e9\u5f62\u7684\u5206\u503c\u3002   \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$DP(i, j, x, y, k)=min\\{min_{p=i}^{x-1}\\{min{\\{score(i,j,p,y)^2+DP(p+1,j,x,y,k-1),DP(i,j,p,y,k-1) + score( p + 1, j, x, y )^2\\}}\\},min_{p=j}^{y-1}\\{min\\{score( i, j, x, p )^2 + DP(i,p+1,x,y,k-1), DP(i,j,x,p,k-1) + score( i, p + 1, x, y )^2\\}\\}\\}$  \n\u770b\u7740\u5f88\u957f\uff0c\u5176\u5b9e\u5199\u8d77\u6765\u4e0d~~\u5f88~~\u8d39\u52b2\u3002  \n\u7b54\u6848\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ans=DP(1,1,8,8,N-1)$  \n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(8^5\\times N)$  \n\u7a7a\u95f4\u590d\u6742\u5ea6\uff1a$O(8^4\\times N)$\n# \u4ee3\u7801:\n```cpp\n#include <cstdio>\n#include <cstring>\n\ntypedef long long LL;\n\nconst int MAXSIZ = 15, MAXN = 20;\n\ntemplate<typename _T>\nvoid read( _T &x )\n{\n\tx = 0;char s = getchar();int f = 1;\n\twhile( s > '9' || s < '0' ){if( s == '-' ) f = -1; s = getchar();}\n\twhile( s >= '0' && s <= '9' ){x = ( x << 3 ) + ( x << 1 ) + ( s - '0' ), s = getchar();}\n\tx *= f;\n}\n\ntemplate<typename _T>\nvoid write( _T x )\n{\n\tif( x < 0 ){ putchar( '-' ); x = ( ~ x ) + 1; }\n\tif( 9 < x ){ write( x / 10 ); }\n\tputchar( x % 10 + '0' );\n}\n\ntemplate<typename _T>\n_T MIN( const _T a, const _T b )\n{\n\treturn a < b ? a : b;\n}\n\nLL DP[MAXSIZ][MAXN][MAXN][MAXN][MAXN];\nint board[MAXSIZ][MAXSIZ], preSum[MAXSIZ][MAXSIZ];\nint N;\n\nLL sqr( const LL num )\n{\n\treturn num * num;\n}\n\nLL getSum( const int lx, const int ly, const int rx, const int ry )\n{\n\treturn preSum[rx][ry] - preSum[lx - 1][ry] - preSum[rx][ly - 1] + preSum[lx - 1][ly - 1];\n}\n\nint main()\n{\n\tread( N );\n\tfor( int i = 1 ; i <= 8 ; i ++ )\n\t{\n\t\tfor( int j = 1 ; j <= 8 ; j ++ )\n\t\t{\n\t\t\tread( board[i][j] );\n\t\t\tpreSum[i][j] = preSum[i][j - 1] + board[i][j];\n\t\t}\n\t\tfor( int j = 1 ; j <= 8 ; j ++ )\n\t\t{\n\t\t\tpreSum[i][j] += preSum[i - 1][j];\n\t\t}\n\t}\n\tmemset( DP, 0x3f, sizeof( DP ) );\n\tfor( int i = 8 ; i >= 1 ; i -- )\n\t{\n\t\tfor( int x = i ; x <= 8 ; x ++ )\n\t\t{\n\t\t\tfor( int j = 8 ; j >= 1 ; j -- )\n\t\t\t{\n\t\t\t\tfor( int y = j ; y <= 8 ; y ++ )\n\t\t\t\t{\n\t\t\t\t\tDP[i][j][x][y][0] = sqr( getSum( i, j, x, y ) );\n\t\t\t\t\tfor( int k = 1 ; k < N ; k ++ )\n\t\t\t\t\t{\n\t\t\t\t\t\tfor( int p = i ; p < x ; p ++ )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tDP[i][j][x][y][k] = MIN( DP[i][j][x][y][k], MIN( sqr( getSum( i, j, p, y ) ) + DP[p + 1][j][x][y][k - 1], DP[i][j][p][y][k - 1] + sqr( getSum( p + 1, j, x, y ) ) ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor( int p = j ; p < y ; p ++ )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tDP[i][j][x][y][k] = MIN( DP[i][j][x][y][k], MIN( sqr( getSum( i, j, x, p ) ) + DP[i][p + 1][x][y][k - 1], DP[i][j][x][p][k - 1] + sqr( getSum( i, p + 1, x, y ) ) ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\twrite( DP[1][1][8][8][N - 1] ), putchar( '\\n' );\n\treturn 0;\n}\n```",
        "postTime": 1562247042,
        "uid": 123809,
        "name": "crashed",
        "ccfLevel": 0,
        "title": "[P1436]\u68cb\u76d8\u5206\u5272"
    },
    {
        "content": "\u4e3b\u8981\u601d\u8def\u548c\u697c\u4e0b\u4e00\u6837  \u4e0d\u8fc7\u8981\u6ce8\u610f\u8bfb\u9898 \u9898\u76ee\u63cf\u8ff0\u662f\u6bcf\u6b21\u5206\u5272\u51fa\u4e24\u4e2a\u77e9\u5f62\u540e\u53ea\u80fd\u9009\u4e00\u4e2a\u7ee7\u7eed\u5206\u5272 \u4e0d\u80fd\u5206\u5272\u5b8c\u4e00\u4e2a\u540e\u5728\u5206\u5272\u53e6\u4e00\u4e2a\uff08\u5c31\u662f\u5728\u8fd9\u91ccWA\u4e86...\uff09 \u5bb9\u6613\u60f3\u5230dp[i][j][i1][j1][k]\u8868\u793a\u4ee5i j\u4e3a\u5de6\u4e0a\u89d2 i1 j1 \u4e3a\u53f3\u4e0b\u89d2\u5206\u5272k\u6b21\u7684\u6700\u5c0f\u503c \u90a3\u4e48\u5728\u521d\u59cb\u5316\u4e00\u4e0bdp[i][j][i1][j1][0]\u548c\u8ba8\u8bba\u6a2a\u5411\u5207\u5272\u548c\u7eb5\u5411\u5207\u5272\u7684\u60c5\u51b5 \u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e4b\u95f4\u5728\u8ba8\u8bba\u54ea\u4e00\u5757\u4e0d\u5207 \u54ea\u4e00\u5757\u7ee7\u7eed\u5207\u5373\u53ef(\u9644\u4e0a\u4ee3\u7801 \u9884\u5904\u7406\u5f88\u66b4\u529b \u5efa\u8bae\u53c2\u8003\u697c\u4e0blncone\u7684\u5904\u7406 \u633a\u806a\u660e\u7684)\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\nusing namespace std;\nint n;\nint map[10][10],sum[10][10];\nint dp[10][10][10][10][20];\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=8;i++)\n     for(int j=1;j<=8;j++) scanf(\"%d\",&map[i][j]);\n    for(int i=1;i<=8;i++)\n     for(int j=1;j<=8;j++)\n      for(int i1=i;i1<=8;i1++)\n       for(int j1=j;j1<=8;j1++)\n       {\n            for(int a=i;a<=i1;a++)\n          for(int b=j;b<=j1;b++) \n           dp[i][j][i1][j1][0]+=map[a][b];\n         dp[i][j][i1][j1][0]=dp[i][j][i1][j1][0]*dp[i][j][i1][j1][0];  \n       }        \n    for(int k=1;k<n;k++)\n     for(int i=1;i<=8;i++)\n      for(int j=1;j<=8;j++)\n       for(int i1=i;i1<=8;i1++)\n        for(int j1=j;j1<=8;j1++)\n        {\n          dp[i][j][i1][j1][k]=2102365841;    \n          //\u7eb5\u5411\u5207\u5272\n          for(int a=j;a<j1;a++)\n            dp[i][j][i1][j1][k]=min(dp[i][j][i1][j1][k],min(dp[i][j][i1][a][k-1]+dp[i][a+1][i1][j1][0],dp[i][j][i1][a][0]+dp[i][a+1][i1][j1][k-1]));\n          //\u6a2a\u5411\u5207\u5272\n          for(int b=i;b<i1;b++)\n            dp[i][j][i1][j1][k]=min(dp[i][j][i1][j1][k],min(dp[i][j][b][j1][k-1]+dp[b+1][j][i1][j1][0],dp[i][j][b][j1][0]+dp[b+1][j][i1][j1][k-1]));\n        }   \n    printf(\"%d\",dp[1][1][8][8][n-1]);    \n    return 0;\n}\n```",
        "postTime": 1477102918,
        "uid": 22060,
        "name": "Memorize",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1436 \u3010\u68cb\u76d8\u5206\u5272\u3011"
    }
]