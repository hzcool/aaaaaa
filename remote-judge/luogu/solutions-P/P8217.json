[
    {
        "content": "\u770b\u4e86\u4e00\u4e0b\u5927\u5bb6\u7684\u9898\u89e3\uff0c\u8fd9\u91cc\u51fa\u9898\u4eba\u8fd8\u662f\u5199\u4e00\u4e0b\u6700\u7b80\u5355\u7684\u5b98\u65b9\u9898\u89e3\u5427\u3002\n\n\u9996\u5148 $n$ \u548c $m$ \u53ef\u4ee5\u901a\u8fc7\u8f93\u5165\u7684\u6700\u540e\u4e00\u884c\u5f97\u51fa\u3002\u7531\u4e8e $A_{ij}>0$\uff0c\u6700\u540e\u4e00\u884c\u4e00\u5b9a\u662f\u4e00\u5806\u975e `.` \u5b57\u7b26\u52a0\u4e0a\u4e00\u5806 `.` \u7ec4\u6210\uff0c\u5176\u4e2d\u975e `.` \u5b57\u7b26\u7684\u4e2a\u6570\u662f $4m+1$, `.` \u7684\u4e2a\u6570\u662f $2n$\u3002\n\n\u5f97\u5230 $n$ \u548c $m$ \u4ee5\u540e\u8003\u8651\u8ba1\u7b97\u6bcf\u4e00\u5217\u6709\u591a\u5c11\u4e2a\u6b63\u65b9\u4f53\u3002\u8fd9\u4e2a\u503c\u53ef\u4ee5\u901a\u8fc7\u9876\u9762\u9ad8\u5ea6\u51cf\u53bb\u5e95\u9762\u9ad8\u5ea6\u7684\u5dee\uff08\u6216\u8005\u8bf4\u5e95\u9762\u884c\u53f7\u51cf\u53bb\u9876\u9762\u884c\u53f7\uff09\u9664\u4ee5 $3$ \u5f97\u5230\u3002\u751a\u81f3\u6211\u4eec\u4e0d\u5fc5\u8003\u8651\u54ea\u4e2a\u9876\u9762\u548c\u54ea\u4e2a\u5e95\u9762\u5bf9\u5e94\uff0c\u6211\u4eec\u53ea\u9700\u8981\u6c42\u51fa\u6240\u6709\u9876\u9762\u7684\u884c\u53f7\u548c\u548c\u6240\u6709\u5e95\u9762\u7684\u884c\u53f7\u548c\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u7531\u4e8e\u9876\u9762\u4e0d\u4f1a\u88ab\u906e\u6321\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u5b57\u7b26\u4e32 `/   /` \uff08\u4e24\u4e2a\u659c\u6760\u4e4b\u95f4\u4e09\u4e2a\u7a7a\u683c\uff09\u5339\u914d\u9876\u9762\u3002\u8fd9\u6837\u9876\u9762\u7684\u884c\u53f7\u548c\u5c31\u80fd\u6c42\u4e86\u3002\n\n\u5e95\u9762\u5462\uff1f\u5728 $r-1,r-3,r-5,\\cdots,r-2n+1$ \u884c\u5747\u5206\u522b\u6709 $m$ \u4e2a\u5e95\u9762\uff0c\u6240\u4ee5\u6240\u6709\u5e95\u9762\u7684\u884c\u53f7\u548c\u4e3a $m\\sum\\limits_{i=1}^n(r-2i+1)=mn(r-n)$\u3002\n\n\u5339\u914d\u9876\u9762\u53ef\u4ee5\u7528 `strstr` \u51fd\u6570\u3002\u7136\u540e\u8fd9\u9898\u5c31\u505a\u5b8c\u4e86\u3002\u4e0d\u9700\u8981\u4efb\u4f55\u7684 DFS \u6216\u8005 Check \u51fd\u6570\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nchar map[555][444];\nint main()\n{\n\tint r,c;\n\tscanf(\"%d%d\\n\",&r,&c);\n\tfor(int i=1;i<=r;++i,getchar())\n\t\tfor(int j=1;j<=c;++j)\n\t\t\tmap[i][j]=getchar();               //\u8f93\u5165\n\tint p=strstr(map[r]+1,\".\")-map[r];\n\tint m=p-2>>2,n=c-p+1>>1;                           //\u8ba1\u7b97m\u548cn\n\tint ans=m*n*(r-n);                                 //\u8ba1\u7b97\u5e95\u9762\u884c\u53f7\u548c\n\tfor(int i=2;i<=r;++i)\n\t{\n\t\tint now=1;\n\t\tchar* tmp;\n\t\twhile(tmp=strstr(map[i]+now,\"/   /\"))\n\t\t\tans-=i,now=tmp-map[i]+4;           //\u8ba1\u7b97\u6bcf\u884c\u6709\u591a\u5c11\u4e2a\u9876\u9762\n\t}\n\tprintf(\"%d\\n\",ans/3);\n\treturn 0;\n}\n```\n",
        "postTime": 1667663941,
        "uid": 7528,
        "name": "E_Space",
        "ccfLevel": 10,
        "title": "P8217 [THUPC2022 \u521d\u8d5b] \u6570\u6b63\u65b9\u4f53 \u5b98\u65b9\u9898\u89e3"
    },
    {
        "content": "\u975e\u5e38\u7b80\u5355\uff0c~~\u6211\u4eec\u751a\u81f3\u53ef\u4ee5\u7528\u89c6\u9891\u91cc\u7684\u6559\u7a0b\u505a\uff08\u731d\u4e0d\u53ca\u9632\uff09~~\n\n\u89c6\u9891\u91cc\u600e\u4e48\u8bf4\u7684\u7684\uff1f\n\n> \u5b66\u9738\u9898\n\n> \u6570\u6b63\u65b9\u4f53\n\n> \u5934\u9876\u6807\u6570\u6cd5\n\nOK \uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u7528\u5934\u9876\u6807\u6570\u6cd5\u6765\u505a\u5c31\u597d\u4e86\uff08\n\n\u9996\u5148\u662f\u627e\u5934\u9876\uff1a\u904d\u5386\u6574\u4e2a\u56fe\u627e\u5230\u6240\u6709\u7684\u9876\u5c42\uff08\u8fd9\u4e2a\uff1a\n\n```\n  +---+\n /   /\n+---+\n\n```\n\n)\n\n\u7136\u540e\u6807\u6570\uff1a\u5224\u65ad\u4e00\u4e0b\u8fd9\u4e2a\u9876\u5c42\u662f\u7b2c\u51e0\u5c42\uff1b\n\n\u7136\u540e\u7d2f\u8ba1\u7b54\u6848\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u7136\u540e\u600e\u4e48\u5224\u65ad\u7b2c\u51e0\u5c42\u5462\uff1f\n\n```\n\u5047\u8bbe\u6211\u4eec\u5728\u8fd9\n ->  +---+\n    /   /\n   +---+\n  /   /\n +---+ \n |   |\n\n```\n\n```\n\u5c1d\u8bd5\u6cbf\u68f1\u5411\u5357\u65b9\u79fb\u52a8\n     +---+\n    /   /\n-> +---+\n  /   /\n +---+ \n |   |\n\n```\n\n```\n\u7ee7\u7eed\u5c1d\u8bd5\u6cbf\u68f1\u5411\u5357\u65b9\u79fb\u52a8\n    \t +---+\n    \t/   /\n       +---+\n      /   /\n  -> +---+ \n     |   |\n     |   |\n     +---+\n\n```\n\n```\n\u53d1\u73b0\u4e0d\u80fd\u5411\u5357\u65b9\u79fb\u52a8\uff0c\u53d1\u73b0\u53ef\u4ee5\u5411\u4e0b\u4e00\u5c42\u79fb\u52a8\uff0c\u540c\u65f6\u8fd9\u4e2a\u5757\u7684\u9ad8\u5ea6+1\uff0c\u63a5\u4e0b\u6765\u7ee7\u7eed\u5c1d\u8bd5\u5411\u5357\u65b9\u79fb\u52a8\n    \t +---+\n    \t/   /\n       +---+\n      /   /\n     +---+ \n     |   |\n     |   |\n  -> +---+\n\n```\n\n\u7136\u540e\u4e00\u76f4\u79fb\u52a8\u5230\u4e0d\u80fd\u52a8\u5c31\u597d\u4e86\u3002\n\n\u5148\u4ee5\u4e3a\u662f\u4e2a\u5927\u6a21\u62df\uff0c\u7ed3\u679c\u53ea\u670930\u884c\uff08\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint r,c,ans;\nchar mmp[2000][2000];\nbool check(int x,int y){\n\tif(x+2>r||y-2<1||y+4>c||mmp[x+2][y-2]!='+'||mmp[x][y+4]!='+'||mmp[x+2][y+2]!='+'||mmp[x][y+1]!='-'||mmp[x][y+2]!='-'||mmp[x][y+3]!='-')\n\t\treturn false;\n\telse\n\t\treturn true;\n}\nint main(){\n\tcin>>r>>c;\n\tgetchar();\n\tfor(int i=1;i<=r;i++){\n\t\tfor(int j=1;j<=c+1;j++)\n\t\t\tmmp[i][j]=getchar();\n\t}\n\tfor(int i=1;i<=r;i++)\n\t\tfor(int j=1;j<=c;j++){\n\t\t\tint x,y;\n\t\t\tif(mmp[i][j]=='+'&&check(i,j)){\n\t\t\t\tx=i,y=j;\n\t\t\t\twhile(x+2<=r){\n\t\t\t\t\twhile(mmp[x+2][y-2]=='+')\n\t\t\t\t\t\tx=x+2,y=y-2;\n\t\t\t\t\twhile(mmp[x+3][y]=='+')\n\t\t\t\t\t\tx=x+3,ans++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tcout<<ans;\n}\n```\n",
        "postTime": 1647073997,
        "uid": 167279,
        "name": "Danno0v0",
        "ccfLevel": 7,
        "title": "THUPC.K\u6570\u6b63\u65b9\u4f53 \u9898\u89e3"
    },
    {
        "content": "\u6839\u636e\u5c0f\u5154\u8001\u5e08\u6559\u6211\u4eec\u7684\u65b9\u6cd5\uff0c\u6211\u4eec\u5e94\u8be5\u4ece\u4e0a\u5f80\u4e0b\u6570\u3002\n\n\u4f46\u662f\u53d1\u73b0\u627e\u4e0d\u5230\u5934\u9876\uff0c\u600e\u4e48\u529e\u5462\uff1f\n\n\u8003\u8651\u5e95\u5c42\u5f88\u5bb9\u6613\u627e\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u4ece\u4e0b\u5f80\u4e0a\u6570\u3002\n\n\u5177\u4f53\u5730\uff0c\u8003\u8651\u6bcf\u4e00\u5c42\u5e95\u8fb9\u5fc5\u7136\u662f\u7531 ``+---+`` \u548c ``+/+`` \uff08\u6b64\u5904\u65e0\u6cd5\u659c\u7740\uff0c\u5927\u5bb6\u611f\u6027\u7406\u89e3\u4e00\u4e0b\uff09\u6784\u6210\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5bb9\u6613\u5730\u5728\u6bcf\u4e00\u5c42\u4ece\u524d\u5f80\u540e\u6570\u3002\u8bb0\u5f55\u4e00\u4e2a $x$ \u8868\u793a\u5f53\u524d\u6a2a\u6392\u7684\u6b63\u65b9\u4f53\u6570\u3002\u82e5\u4e0b\u4e00\u6761\u8fb9\u662f ``+---+``\uff0c\u5219 $x$ \u7684\u503c\u52a0\u4e00\u3002\u82e5\u4e0b\u4e00\u6761\u8fb9\u662f ``+/+``\uff0c\u5219\u7b54\u6848\u52a0\u4e0a $x$\u3002\u8bb0\u5f97\u5728\u641c\u7d22\u6bcf\u4e00\u5c42\u7684\u65f6\u5019\u8bb0\u5f55\u4e0a\u4e00\u5c42\u7684\u8d77\u70b9\u548c\u7ec8\u70b9\u3002\n\n\u4ee3\u7801\uff1a\n\n```c++\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,p,q,ans;\nchar mp[1005][1005];\nvoid dfs(int x,int y){\n\tint qwq=0,f=0;\n\twhile(1){\n\t\twhile(mp[x][y+4]=='+'&&mp[x][y+3]=='-'&&mp[x][y+2]=='-'&&mp[x][y+1]=='-'&&(!(mp[x-2][y+2]=='+'&&mp[x-1][y+1]=='/'))){\n\t\t\tif(f==0)f=1,p=x-3,q=y;\n\t\t\ty+=4,qwq++;\n\t\t}\n\t\tif(!(mp[x-2][y+2]=='+'&&mp[x-1][y+1]=='/'))break;\n\t\tans+=qwq;\n\t\tx-=2;\n\t\ty+=2;\n\t}\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"\\n\");\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tscanf(\"%c\",&mp[i][j]);\n\t}\n\tp=n,q=1;\n\twhile(p>=0&&q>=0){\n\t\tint x=p,y=q;\n\t\tp=q=-1;\n\t\tdfs(x,y);\n\t}\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n\n```",
        "postTime": 1647436653,
        "uid": 104662,
        "name": "PrincessQi",
        "ccfLevel": 0,
        "title": "\u5b66\u9738\u9898"
    },
    {
        "content": "\u961f\u4f0d\u505a\u51fa\u7684\u552f\u4e00\u4e00\u9053\u9898\u3002\u6211\u8fd8\u662f\u592a\u83dc\u4e86\u3002\n\nWYXkk\uff1a\u8fd9\u9898\u7684\u96be\u70b9\u5728\u4e8e\u4f60\u8981\u770b\u51fa\u8fd9\u662f\u4e00\u9053\u53ef\u505a\u9898\u3002\n\n\u9996\u5148\u5927\u6982\u7b97\u4e00\u4e0b $r,c$ \u7684\u8303\u56f4\u53d1\u73b0\u90fd $\\le 1000$\u3002\n\n\u89c2\u5bdf\u6027\u8d28\uff1a\u6ca1\u6709\u7acb\u65b9\u4f53\u88ab\u6321\u4f4f\uff0c\u5219\u6bcf\u5217\u7acb\u65b9\u4f53\u6570\u4e0d\u51cf\u3002\n\n\u8003\u8651\u4e00\u5217\u4e00\u5217\u8ba1\u7b97\uff0c\u5217\u4e0e\u5217\u7684\u5206\u5272\uff1a\u56db\u4e2a `-`\u3002\n\n\u5982\u679c\u4f60\u770b\u4e0a\u9762\u4e00\u683c\u5b57\u7b26\u770b\u5230\u4e86 `|`\uff0c\u8bf4\u660e\u8fd9\u4e00\u5217\u8fd9\u4e00\u884c\u6709\u8fd9\u4e2a\u7bb1\u5b50\uff0c\u7ee7\u7eed\u722c\u9ad8\u3002\n\n\u5982\u679c\u4f60\u6ca1\u6709\u770b\u89c1\uff0c\u770b\u5230\u7684\u662f `/`\uff0c\u8bf4\u660e\u8fd9\u4e00\u5217\u8fd9\u4e00\u884c\u7ed3\u675f\u4e86\uff0c\u7d2f\u52a0\uff0c\u6362\u5230\u4e0b\u4e00\u884c\u3002\n\n\u611f\u89c9\u4ee3\u7801\u5199\u7684\u975e\u5e38\u5c0f\u6e05\u65b0\uff0c\u63a5\u4e0b\u6765\u770b\u4ee3\u7801\u5427\u3002\n\n```\nll r,c,t,ans;\nchar ch[N][N];\nint main(){\n    //freopen(\".in\",\"r\",stdin);\n    //freopen(\".out\",\"w\",stdout);\n    r=read(),c=read();\n    for(int i=1;i<=r;i++){\n        for(int j=1;j<=c;j++){\n            ch[i][j]=getchar();\n            while(ch[i][j]!='-'&&ch[i][j]!='+'&&ch[i][j]!='.'&&ch[i][j]!=' '&&ch[i][j]!='/'&&ch[i][j]!='|') ch[i][j]=getchar();\n        }\n    }\n    for(int i=1;i<=c;i+=4){\n        t=0;ll y=i,x=r;\n        while(x>=1&&y<=c){\n            //cout<<x<<' '<<y<<endl;\n            if(x-1>=1&&y+1<=c&&ch[x-1][y+1]=='/'){x-=2,y+=2;ans+=t;continue;}\n            if(x-1>=1&&ch[x-1][y]=='|'){x-=3;t++;continue;}\n            x-=2,y+=2;\n        }\n        //cout<<ans<<endl;\n    }\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n```",
        "postTime": 1647433657,
        "uid": 278629,
        "name": "Rubidium_Chloride",
        "ccfLevel": 7,
        "title": "\u6a02\u4e50\u6a02\u697d\u6a02\u6a02\u697d\u4e50\u697d"
    },
    {
        "content": "### Preface\n\n[\u672c\u9898\u306e\u9006\uff08make_data\uff09](https://www.luogu.com.cn/problem/P1058)\n\n\u5b66\u9738\u9898\uff0c\u6570\u6b63\u65b9\u4f53\uff0c\u5934\u9876~~\u6d47\u7b51~~\u6807\u6ce8\u6cd5\uff01\n\n### Analysis\n\n\u901a\u8fc7\u9996\u884c\u524d\u7f00 `.` \u4e2a\u6570\u53ef\u77e5\u4ece\u524d\u5f80\u540e\u7684\u5c42\u6570 $layer$\u3002\n\n\u901a\u8fc7\u672b\u884c\u540e\u7f00 `.` \u4e2a\u6570\u53ef\u77e5\u4ece\u5de6\u5f80\u53f3\u7684\u5c42\u6570 $n$\uff08\u597d\u50cf\u4e0e\u9898\u9762\u53d8\u91cf\u540d\u91cd\u4e86 qwq\uff09\u3002\n\n\u7531\u4e8e\u4e0d\u5b58\u5728\u4e2d\u95f4\u51f9\u7684\u60c5\u51b5\uff0c\u5b58\u5728\u4e00\u79cd simple \u7684\u505a\u6cd5\uff1a\n\n```\n......+---+........\n...../   /|........\n....+---+ |........\n....|   | +---+....\n....|   |/   /|....\n....+---+---+ |....\n.../   /|   | +---+\n..+---+ |   |/   /|\n..|   | +---+---+ |\n..|   |/   /   /| +\n..+---+---+---+ |/|\n./   /   /|   | + |\n+---+---+ |   |/| +\n|   |   | +---+ |/.\n|   |   |/   /| +..\n+---+---+---+ |/...\n|   |   |   | +....\n|   |   |   |/.....\n+---+---+---+......\n```\n\n![\u89e3\u6cd5](https://cdn.luogu.com.cn/upload/image_hosting/rc5ojrk5.png)\n\n\uff08\u5176\u5b9e\u5c31\u662f\u5dee\u5206\u8f6c\u539f\u5e8f\u5217\uff09\n\n\u8fd9\u6837\u5c31\u5f97\u5230\u4e86\u5934\u9876\u6807\u6ce8\uff0c\u52a0\u8d77\u6765\u5373\u53ef\u3002\n\n### Code\n\n```cpp\n//Said no more counting dollars. We'll be counting stars.\n#include<bits/stdc++.h>\nusing namespace std;\n#define For(i,j,k) for(int i=j;i<=k;i++)\n#define gc getchar\n#define pc putchar\ninline int read(){\n\tint x=0;char c=gc();bool f=0;\n\twhile(!isdigit(c)){if(c=='-')f=1;c=gc();}\n\twhile(isdigit(c)){x=(x<<3)+(x<<1)+c-48;c=gc();}\n\tif(f)x=-x;return x;\n}\ninline void write(int x){if(x<0){pc('-');x=-x;}if(x>9)write(x/10);pc(x%10+'0');}\n#define G 450\n#define N 55\nint r,c,ans=0,layer=0;\nchar mp[G][G];\nint a[N],n,xx[N],yy[N];\nint upward(int& x,int& y){\n\tint res=0;\n\twhile(mp[x-1][y]=='|' || mp[x-1][y]=='+'){\n\t\tx--;\n\t\tres++;\n\t}\n\treturn res/3;\n}\nvoid calc(){\n\tFor(i,1,n) a[i]+=upward(xx[i],yy[i]);\n\tFor(i,1,n) ans+=a[i];\n\tFor(i,1,n) xx[i]-=2;\n\tFor(i,1,n) yy[i]+=2;\n}\nsigned main(){\n\tr=read();\n\tc=read();\n\tFor(i,1,r){\n\t\tFor(j,1,c) mp[i][j]=gc();\n\t\tgc();\n\t}\n\twhile(mp[1][layer+1]=='.') layer++;\n\tlayer>>=1;\n\twhile(mp[r][n+1]!='.') n++;\n\tn=(n-1)>>2;\n\tFor(i,1,n) xx[i]=r;\n\tFor(i,1,n) yy[i]=i*4+1;\n\tFor(i,1,layer) calc();\n\twrite(ans);\nreturn 0;}\n```",
        "postTime": 1647532227,
        "uid": 101868,
        "name": "I_am_Accepted",
        "ccfLevel": 0,
        "title": "P8217 [THUPC2022 \u521d\u8d5b] \u6570\u6b63\u65b9\u4f53"
    },
    {
        "content": "\u9996\u5148\u6309\u7167\u5bbd$\\times$\u9ad8\u5206\u5c42\uff0c\u6bcf\u5c42\u4ece\u4e0b\u5f80\u4e0a\u6570\uff0c\u5f53\u76ee\u524d\u5f80\u4e0a\u8d70\u5c31\u5f80\u4e0a\u8d70\uff0c\u540c\u65f6\u8ba9\u5f53\u524d\u5c42\u7684\u9ad8\u5ea6\u52a01\uff1b\u5982\u679c\u4e0d\u80fd\u5f80\u4e0a\u8d70\u5c31\u5f80\u540e\u8d70\uff0c\u4e5f\u5c31\u662f\u8d70 `/` \uff0c\u6bcf\u8d70\u4e00\u6b21\u5c31\u628a\u603b\u7b54\u6848\u52a0\u4e0a\u5f53\u524d\u5c42\u7684\u9ad8\u5ea6\u3002\n\n\u6ce8\u610f\u7ec6\u8282\uff0c\u6309\u7167\u6bcf\u4e00\u4e2a\u6b63\u65b9\u4f53\u7684\u53f3\u4e0b\u89d2\u7684\u70b9\u4f5c\u4e3a\u4e00\u5c42\u7684\u5f00\u59cb\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nchar s[6005][6005];\nstring gsc;\nint r,c;\nint n,m;\n\nbool Check(int x,int y){ return 1<=x&&x<=n&&1<=y&&y<=m; }\nstruct zz{ int x,y; };\nint f[1005][1005];\nvector<zz> q;\nint ans=0,sum=0;\nbool flag;\n\nvoid F__k(int i,int j){\t// \u300a\u5173\u4e8e\u897f\u897f\u5f17\u5f3a\u8feb\u6211\u6539\u51fd\u6570\u540d\u8fd9\u4ef6\u4e8b\u300b \n\tif(!Check(i,j)) return ;\n\tif(Check(i-3,j)&&s[i-3][j]=='+') sum++, F__k(i-3,j);\n\telse if(Check(i-2,j+2)&&s[i-2][j+2]=='+') ans+=sum,F__k(i-2,j+2);\n}\n\nint main(){\n\tgetline(cin,gsc);\n\tr=0;\n\tint po;\n\tfor(int i=0;i<gsc.size();i++) if(gsc[i]>='0'&&gsc[i]<='9') r=r*10+(gsc[i]-'0'); else{ po=i+1; break;}\n\tc=0;\n\tfor(int i=po;i<gsc.size();i++) if(gsc[i]>='0'&&gsc[i]<='9') c=c*10+(gsc[i]-'0'); else break;\n\tfor(int i=1;i<=r;i++){\n\t\tgetline(cin,gsc);\n\t\tfor(int j=1;j<=c;j++) s[i][j]=gsc[j-1];\t\n\t}\n\tn=r,m=c;bool flag=0;\n\tbool faf=0;\n\tfor(int i=n;i>=1;i--){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tsum=0;\n\t\t\tif(s[i][j]!='+') continue;\n\t\t\tif(!flag){flag=1;continue; }\n\t\t\tF__k(i,j);\n\t\t\tfaf=1;\n\t\t}\n\t\tif(faf) goto  FFF;\n\t}\n\tFFF:;\n\tprintf(\"%d\\n\",ans);\n}\n```\n\n",
        "postTime": 1647506024,
        "uid": 225883,
        "name": "MiRaciss",
        "ccfLevel": 7,
        "title": "[THUPC2022 \u521d\u8d5b] \u6570\u6b63\u65b9\u4f53 \u9898\u89e3"
    },
    {
        "content": "\u9898\u610f\uff1a\u7ed9\u51fa\u6b63\u65b9\u4f53\u5b57\u7b26\u753b\uff0c\u6c42\u51fa\u6709\u591a\u5c11\u6b63\u65b9\u4f53\u3002\n\n\u6362\u79cd\u601d\u8def\uff0c\u4ece\u4fa7\u9762\u6570\u3002\n\n\u5982\u679c\u6211\u4eec\u77e5\u9053\u6bcf\u4e2a\u4fa7\u9762\u7684\u4f4d\u7f6e $(x, y)$\uff08\u56fe\u4e2d `#`\uff09\u4ee5\u53ca\u4e0e\u4fa7\u9762\u90a3\u4e00**\u6392**\uff08\u5de6\u53f3\u76f8\u90bb\uff09\u6b63\u65b9\u4f53\u5bf9\u5e94\u7684\u5b57\u7b26 `.` \u7684\u6570\u91cf $c$\uff0c\u5c31\u53ef\u4ee5\u6c42\u51fa\u8fd9\u4e00\u6392\u6b63\u65b9\u4f53\u7684\u6570\u91cf $=\\dfrac{y-c}{4}$\u3002\uff08\u4fa7\u9762\u5982\u56fe\u4e2d `#` \u6240\u793a\uff0c\u76f8\u5bf9\u5e94\u7684\u5b57\u7b26 `.` \u5982\u56fe\u4e2d `@` \u6240\u793a\uff09\n\n\u5728\u7b2c\u4e00\u5e45\u56fe\u4e2d\uff0c\u4e0e\u88ab\u7edf\u8ba1\u7684\u4fa7\u9762\u5bf9\u5e94\u7684 `.` \u7684\u4e2a\u6570\u4e3a $0$\u3002\n\n```plain\n..+---+---+\n./   /   /|\n+---+---+#|\n|   |   |#+\n|   |   |/.\n+---+---+..\n```\n\n```plain\n....+---+........\n.../   /|........\n..+---+ |........\n..|   | +---+---+\n..|   |/   /   /|\n@@+---+---+---+#|\n./   /   /|   |#+\n+---+---+ |   |/|\n|   |   | +---+ |\n|   |   |/   /| +\n+---+---+---+ |/.\n|   |   |   | +..\n|   |   |   |/...\n+---+---+---+....\n```\n\n\u4f46\u662f\uff0c\u6709\u65f6 `.` \u4f1a\u88ab\u6b63\u65b9\u4f53\u6321\u4f4f\uff0c\u8fd9\u65f6\u5982\u4f55\u6570\u5462\uff1f\n\n```plain\n....+---+---+....\n.../   /   /|....\n..+---+---+ |....\n./   /|   | +---+\n+---+ |   |/   /|\n@@  | +---+---+#|\n|   |/   /|   |#+\n+---+---+ |   |/|\n|   |   | +---+ |\n|   |   |/   /| +\n+---+---+---+ |/.\n|   |   |   | +..\n|   |   |   |/...\n+---+---+---+....\n```\n\n\u7531\u4e8e\u91cd\u529b\uff0c\u5728\u6bcf\u4e2a $1 \\times m$ \u7684\u533a\u57df\uff0c\u6700\u5de6\u4fa7\u7684 $A_{i, 1}$ \u4e2a\u6b63\u65b9\u4f53\u4e00\u5b9a\u662f\u5de6\u5bf9\u9f50\u7684\uff0c\u56e0\u6b64\u53ea\u8981\u627e\u5230\u6ca1\u6709\u88ab\u6321\u4f4f\u7684\u3001\u548c\u88ab\u7edf\u8ba1\u8fd9\u6392\u6b63\u65b9\u4f53\u5de6\u5bf9\u9f50\u7684 `.` \u5c31\u884c\u4e86\u3002\uff08\u6ca1\u6709\u88ab\u6321\u4f4f\u7684\u3001\u5bf9\u9f50\u7684 `.` \u5982\u56fe\u4e2d `%` \u6240\u793a\uff09\n\n```plain\n....+---+---+....\n.../   /   /|....\n%%+---+---+ |....\n./   /|   | +---+\n+---+ |   |/   /|\n@@  | +---+---+#|\n|   |/   /|   |#+\n+---+---+ |   |/|\n|   |   | +---+ |\n|   |   |/   /| +\n+---+---+---+ |/.\n|   |   |   | +..\n|   |   |   |/...\n+---+---+---+....\n```\n\n\u5982\u4f55\u7edf\u8ba1\u5462\uff1f\u7531\u4e8e\u91cd\u529b\uff0c\u5728\u6bcf\u4e2a $1 \\times m$ \u7684\u533a\u57df\uff0c\u6b63\u65b9\u4f53\u662f\u50cf\u56fe\u4e2d\u8fd9\u6837\u6392\u5217\u7684\uff0c\u56e0\u6b64\u53ea\u8981\u4e0d\u65ad\u5411\u5de6\u5411\u4e0a\u627e `.` \u5c31\u884c\u4e86\u3002\n\n```plain\n..+---+........\n./   /|........\n+---+ |........\n|   | +---+....\n|   |/   /|....\n+---+---+ |....\n|   |   | +---+\n|   |   |/   /|\n+---+---+---+ |\n|   |   |   | +\n|   |   |   |/.\n+---+---+---+..\n```\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(\\text{\u80fd\u8fc7})$\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\nint r, c;\nchar s[maxn][maxn];\nint A;\n\nbool isx(int x, int y) { return x >= 0 && x < r && y >= 0 && y < c && s[x][y] == '|'; }\n\nint main()\n{\n    scanf(\"%d%d\", &r, &c);\n    for (int i = 0; i < r; ++i) {\n        char ch = getchar();\n        while (ch != '.' && ch != '+' && ch != '|' && ch != '-') ch = getchar();\n        for (int j = 0; j < c; ++j) s[i][j] = ch, ch = getchar();\n    }\n    for (int i = 0; i < r; ++i) {\n        for (int j = 0; j < c; ++j) {\n            if (isx(i, j) && isx(i + 1, j) && isx(i - 1, j + 2) && isx(i - 1, j + 2)) {\n                int x = i - 1, y = j;\n                while (y && s[x][y - 1] != '.') {\n                    if (s[x][y - 1] == '-') y -= 4;\n                    else x -= 3;\n                }\n                A += (j - y) / 4;\n            }\n        }\n    }\n    printf(\"%d\", A);\n    return 0;\n}\n```",
        "postTime": 1647440180,
        "uid": 151589,
        "name": "_\u2062\u3000",
        "ccfLevel": 0,
        "title": "P8217 \u9898\u89e3"
    },
    {
        "content": "\u597d\u7684\uff0c\u4e00\u4e2a\u666e\u53ca\u7ec4\u7684\u849f\u84bb\u53d1\u73b0\u81ea\u5df1\u4f1a\u505a\u6e05\u534e\u6821\u8d5b\u7684\u9898\u76ee\uff0c\u4e8e\u662f\u6ee1\u6000\u6fc0\u52a8\u7684\u5199\u4e0b\u4e86\u8fd9\u4e00\u7bc7\u9898\u89e3\uff08\u6c42\u901a\u8fc7\uff09\n\n\u5176\u5b9e\u8fd9\u9053\u9898\u7279\u522b\u7684\u7b80\u5355\uff0c\u6211\u4eec\u4f7f\u7528\u4e00\u79cd\u5c0f\u5b66\u6570\u5b66\u6700\u5e38\u7528\u7684\u6570\u6b63\u65b9\u4f53\u7684\u65b9\u6cd5\u2014\u2014\u5934\u9876\u6807\u6570\u6cd5\uff01\u6211\u4eec\u5176\u5b9e\u53ea\u9700\u8981\u627e\u51fa\u5934\u9876\uff0c\u7136\u540e\u6570\u51fa\u5b83\u662f\u7b2c\u51e0\u5c42\uff0c\u7136\u540e\u5c06\u6240\u6709\u5934\u9876\u76f8\u52a0\u5c31\u597d\u4e86\uff01\n\n1.\u90a3\u4e48\u6211\u4eec\u8be5\u5982\u4f55\u53bb\u627e\u51fa\u8fd9\u4e00\u4e2a\u5934\u9876\u5462\uff1f\u6211\u7684\u65b9\u6cd5\u662f\u53bb\u5b9a\u4f4d\u5b83\u7684\u53f3\u4e0b\u89d2\uff0c\u56e0\u4e3a\u6bcf\u4e00\u4e2a\u5934\u9876\u7684\u9876\u9762\u7684\u53f3\u4e0b\u89d2\u5b83\u7684\u4e0a\u9762\u662f\u6ca1\u6709\u9876\u70b9'+'\u7684\n\u5e76\u4e14\u5b83\u7684\u53f3\u8fb9\u6709\u4e00\u4e2a\u9876\u70b9'+',\u53f3\u4e0a\u89d2\u6709\u4e00\u4e2a\u9876\u70b9'+'\u8fd9\u6837\u5c31\u53ef\u4ee5\u627e\u51fa\u5934\u9876\u4e86\u3002\n\n2.\u6211\u4eec\u8be5\u5982\u4f55\u53bb\u6570\u51fa\u8fd9\u4e2a\u9876\u9762\u5728\u7b2c\u51e0\u5c42\u5462\uff1f\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u5f80\u4e0b\u4e09\u683c\u5982\u679c\u6709'+'\u53f7\u8bf4\u660e\u5b83\u4e0b\u9762\u8fd8\u6709\uff0c\u5c31\u53ef\u4ee5\u7ee7\u7eed\u5f80\u4e0b\u641c\u7d22\uff0c\u5982\u679c\u6ca1\u6709'+'\u53f7\u5728\u5224\u65ad\u662f\u4e0d\u662f\u88ab\u906e\u6321\u4e86\uff0c\u600e\u4e48\u5224\u65ad\uff1f\u53ea\u8981\u5224\u65ad\u5b83\u7684\u5de6\u4e0b\u89d2\u6709\u6ca1\u6709\u9876\u70b9'+'\u53f7\u5c31\u53ef\u4ee5\u4e86\uff0c\u56e0\u4e3a\u5982\u679c\u6ca1\u6709\u88ab\u906e\u4f4f\u7684\u8bdd\uff0c\u9876\u9762\u7684\u53f3\u4e0b\u89d2\u9876\u70b9\u7684\u5de6\u4e0b\u89d2\u662f\u6ca1\u6709'+'\u53f7\u7684\u3002\n\n\u4e8e\u662f\u6211\u4eec\u5c31\u89e3\u51b3\u4e86\u8fd9\u4e00\u9053\u9898\uff0c\u4e0a\u4ee3\u7801\uff01\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cstring>\nusing namespace std;\nconst int MAXN=1e4;\nint MAP[MAXN][MAXN];\nint n,m;\nstring s;\nint ans;\nint DFS(int x,int y)\n{\n\tif(MAP[x+3][y]=='+') return DFS(x+3,y)+1;//\u5982\u679c\u4e0b\u9762\u6709\u4e00\u5c42\n\tif(MAP[x+2][y-2]=='+') return DFS(x+2,y-2);//\u5982\u679c\u662f\u88ab\u906e\u4f4f\u4e86\n\treturn 0;//\u6700\u5e95\u5c42\n}\nint main()\n{\n\tcin>>n>>m;\n\tgetline(cin,s);//\u5438\u6389\u6362\u884c\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tMAP[i][j]=getchar();\n\t\t}\n\t\tgetline(cin,s);//\u5438\u6389\u6362\u884c\n\t}\n\tfor(int i=3;i<=n;i++)\n\t{\n\t\tfor(int j=5;j<=m;j++)\n\t\t{\n\t\t\tif(MAP[i][j]=='+' && MAP[i][j-4]=='+' && MAP[i-3][j]!='+' && MAP[i-2][j+2]=='+')//\u5224\u65ad\u9876\u5c42\n\t\t\t{\n\t\t\t\tans+=DFS(i,j);//\u52a0\u4e0a\u8fd9\u4e2a\u9876\u5c42\u53ca\u5176\u4e0b\u9762\u7684\u6b63\u65b9\u4f53\u6570\u91cf\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans;//\u5b8c\u7f8e\u8f93\u51fa\n\treturn 0;\n}",
        "postTime": 1647410896,
        "uid": 483252,
        "name": "\u7f57\u5c0f\u83dc",
        "ccfLevel": 4,
        "title": "\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3"
    }
]