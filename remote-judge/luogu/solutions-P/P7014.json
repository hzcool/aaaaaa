[
    {
        "content": "\u9996\u5148\u6ce8\u610f\u5230\u540c\u4e00\u7ef4\u76f8\u7b49\u7684\u77e9\u5f62\u90fd\u662f\u4e0d\u80fd\u6263\u8d77\u6765\u7684\uff0c\u6240\u4ee5\u53ea\u7528\u8003\u8651 $x,y,z$ \u76f8\u7b49\u7684\u4e09\u7c7b\u77e9\u5f62\u7684\u5212\u5206\u65b9\u5f0f\u3002\n\n\u8003\u8651 $y$ \u76f8\u7b49\u7684\u77e9\u5f62 $A$ \u548c $z$ \u76f8\u7b49\u7684\u77e9\u5f62 $B$ \u6263\u8d77\u6765\u7684\u6761\u4ef6\uff1a\n\n$$\n\\begin{cases}\ny_{B_{\\min}}\\le y_{A}\\le y_{B_{\\max}}\\\\\nz_{A_{\\min}}\\le z_{B}\\le z_{A_{\\max}}\\\\\n\\end{cases}\n$$\n\n\u8fd9\u4e24\u4e2a\u6761\u4ef6\u90fd\u5f88\u597d\u5224\u65ad\u3002\u5173\u952e\u5728\u4e8e $x$ \u5750\u6807\u3002\u5206\u6790\u8fd9\u4e9b\u77e9\u5f62\u5728 $x$ \u8f74\u4e0a\u7684\u6295\u5f71\uff0c\u53ef\u4ee5\u53d1\u73b0\u6295\u5f71\u90fd\u662f\u4e00\u4e2a\u533a\u95f4\uff0c\u800c\u4e14\u6709 $A$ \u4e2d\u77e9\u5f62\u7684\u6295\u5f71\u533a\u95f4\u4e0e $B$ \u4e2d\u77e9\u5f62\u7684\u6295\u5f71\u533a\u95f4\u76f8\u4ea4\u3002\n\n\u6b63\u96be\u5219\u53cd\uff0c\u626b\u63cf\u7ebf\u5224\u65ad\u6709\u65e0\u4e24\u4e2a\u533a\u95f4\u76f8\u79bb\u6216\u8005\u5305\u542b\u5373\u53ef\u3002\n\n\u5176\u5b83\u60c5\u51b5\u7c7b\u4f3c\uff0c\u53ea\u9700\u5c06\u5750\u6807\u53d8\u6362\u4e00\u4e0b\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log n)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define For(i,a,b) for(int i=(a);i<=(b);++i)\n#define Rof(i,a,b) for(int i=(a);i>=(b);--i)\nusing namespace std;\nconst int Maxn=1e6,inf=1e9+7;\n\ninline int read()\n{\n    int x=0,f=1;\n    char ch=getchar();\n    while(ch<'0' || ch>'9')\n    {\n        if(ch=='-') f=-1;\n        ch=getchar();\n    }\n    while(ch>='0' && ch<='9')\n    {\n        x=x*10+ch-'0';\n        ch=getchar();\n    }\n    return x*f;\n}\n\nint T,n;\nstruct Square{int x1,y1,z1,x2,y2,z2;};\nstruct Node{int l,r,op;};\ninline bool operator<(Node a,Node b) {return a.l<b.l;}\nvector<Square> X,Y,Z;\n\nvector<Node> v;\ninline int CheckYZ()\n{\n    if(Y.empty() || Z.empty()) return 0;\n    int Zmn=inf,Zmx=-inf,Ymn=inf,Ymx=-inf;\n    for(auto i:Z) Zmn=min(Zmn,i.z1),Zmx=max(Zmx,i.z2);\n    for(auto i:Y) Ymn=min(Ymn,i.y1),Ymx=max(Ymx,i.y2);\n    for(auto i:Y) if(i.z1>=Zmn || i.z2<=Zmx) return 0;\n    for(auto i:Z) if(i.y1>=Ymn || i.y2<=Ymx) return 0;\n    int yl=-inf,yr=inf,zl=-inf,zr=inf;\n    v.clear(),v.shrink_to_fit();\n    for(auto i:Y)\n        yl=max(yl,i.x1),yr=min(yr,i.x2),\n        v.push_back((Node){i.x1,i.x2,1});\n    for(auto i:Z) \n        zl=max(zl,i.x1),zr=min(zr,i.x2),\n        v.push_back((Node){i.x1,i.x2,2});\n    if(yr<=zl || zr<=yl) return 0;\n    sort(v.begin(),v.end()),yr=zr=-inf;\n    for(auto i:v)\n    {\n        if(i.op==1) {if(zr>=i.r) return 0; yr=max(yr,i.r);}\n        if(i.op==2) {if(yr>=i.r) return 0; zr=max(zr,i.r);}\n    }\n    return 1;\n}\ninline int CheckXY()\n{\n    if(X.empty() || Y.empty()) return 0;\n    swap(X,Z);\n    for(auto &i:X) swap(i.x1,i.z1),swap(i.x2,i.z2);\n    for(auto &i:Y) swap(i.x1,i.z1),swap(i.x2,i.z2);\n    for(auto &i:Z) swap(i.x1,i.z1),swap(i.x2,i.z2);\n    int chk=CheckYZ();\n    swap(X,Z);\n    for(auto &i:X) swap(i.x1,i.z1),swap(i.x2,i.z2);\n    for(auto &i:Y) swap(i.x1,i.z1),swap(i.x2,i.z2);\n    for(auto &i:Z) swap(i.x1,i.z1),swap(i.x2,i.z2);\n    return chk;\n}\ninline int CheckXZ()\n{\n    if(X.empty() || Z.empty()) return 0;\n    swap(X,Y);\n    for(auto &i:X) swap(i.x1,i.y1),swap(i.x2,i.y2);\n    for(auto &i:Y) swap(i.x1,i.y1),swap(i.x2,i.y2);\n    for(auto &i:Z) swap(i.x1,i.y1),swap(i.x2,i.y2);\n    int chk=CheckYZ();\n    swap(X,Y);\n    for(auto &i:X) swap(i.x1,i.y1),swap(i.x2,i.y2);\n    for(auto &i:Y) swap(i.x1,i.y1),swap(i.x2,i.y2);\n    for(auto &i:Z) swap(i.x1,i.y1),swap(i.x2,i.y2);\n    return chk;\n}\n\ninline void Solve()\n{\n    n=read(),X.clear(),Y.clear(),Z.clear();\n    X.shrink_to_fit(),Y.shrink_to_fit(),Z.shrink_to_fit();\n    For(i,1,n)\n    {\n        int x1=read(),y1=read(),z1=read(),x2=read(),y2=read(),z2=read();\n        if(x1>x2) swap(x1,x2); if(y1>y2) swap(y1,y2); if(z1>z2) swap(z1,z2);\n        Square k=(Square){x1,y1,z1,x2,y2,z2};\n        if(x1==x2) X.push_back(k);\n        if(y1==y2) Y.push_back(k);\n        if(z1==z2) Z.push_back(k);\n    }\n    if(n==1) {printf(\"NO\\n\"); return;}\n    if((!X.empty())+(!Y.empty())+(!Z.empty())==1) {printf(\"NO\\n\"); return;}\n    int XY=CheckXY(),XZ=CheckXZ(),YZ=CheckYZ();\n    if((!X.empty())+(!Y.empty())+(!Z.empty())==2)\n    {\n        if(XY || YZ || XZ) printf(\"YES\\n\");\n        else printf(\"NO\\n\");\n        return;\n    }\n    if((XY && XZ) || (XY && YZ) || (XZ && YZ)) printf(\"YES\\n\");\n    else printf(\"NO\\n\");\n}\n\nint main()\n{\n    T=read();\n    while(T--) Solve();\n    return 0;\n}\n```",
        "postTime": 1681998499,
        "uid": 148913,
        "name": "Graphcity",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P7014 [CERC2013]Chain & Co."
    },
    {
        "content": "\u597d\u50cf\u6ca1\u7528\u5230\u6b63\u65b9\u5f62\u548c\u8fb9\u957f\u76f8\u7b49\u8fd9\u4e24\u4e2a\u6761\u4ef6\uff1f\n\n\u6709\u70b9\u5361\u5e38\u7684\u5355 $\\log$ \u505a\u6cd5\u3002\n\n\u7531\u4e8e\u4efb\u610f\u4e24\u4e2a\u77e9\u5f62\u7684\u8fb9\u754c\u4e0d\u4ea4\uff0c\u6240\u4ee5\u53ea\u6709\u5e73\u884c\u4e8e\u4e0d\u540c\u5750\u6807\u8f74\u7684\u4e24\u4e2a\u77e9\u5f62\u4f1a\u51fa\u73b0\u201c\u4e0d\u53ef\u5206\u79bb\u201d\u3002\n\n\u8003\u8651\u4e00\u4e2a\u5e73\u884c\u4e8e $x$ \u8f74\u7684\u77e9\u5f62 $i$ \u548c\u4e00\u4e2a\u5e73\u884c\u4e8e $y$ \u8f74\u7684\u77e9\u5f62 $j$ \u8981\u6ee1\u8db3\u4ee5\u4e0b\u4e09\u4e2a\u6761\u4ef6\u624d\u4f1a\u4e0d\u53ef\u5206\u79bb\u3002\n\n- $xl_j<x_i<xr_j$\u3002\n\n- $yl_i<y_j<yr_i$\u3002\n\n- \u533a\u95f4 $[zl_i, zr_i]$ \u548c\u533a\u95f4 $[zl_j, zr_j]$ \u6709\u4ea4\u4e14\u4e92\u4e0d\u5305\u542b\u3002\n\n$x$ \u8f74\u548c $z$ \u8f74\uff0c$y$ \u8f74\u548c $z$ \u8f74\u540c\u7406\u3002\n\n\u8003\u8651\u5efa\u56fe\u3002\u5c06\u53ef\u4ee5\u5206\u79bb\u7684\u77e9\u5f62\u4e4b\u95f4\u8fde\u8fb9\uff0c\u5982\u679c\u6700\u540e\u53ea\u6709\u4e00\u4e2a\u8fde\u901a\u5757\u5c31\u65e0\u6cd5\u5206\u6210\u4e24\u4e2a\u96c6\u5408\u3002\n\n\u76f4\u63a5\u5efa\u56fe\u662f $O(n^2)$ \u7684\uff0c\u8003\u8651\u4f18\u5316\u3002\n\n\u7531\u4e8e\u53ea\u8981\u6c42\u8fde\u901a\u5757\u6570\u91cf\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u5e76\u67e5\u96c6\u4f18\u5316\u3002\n\n\u56e0\u4e3a\u4e24\u4e2a\u77e9\u5f62\u53ea\u8981\u6709\u4efb\u610f\u4e00\u4e2a\u6761\u4ef6\u4e0d\u6ee1\u8db3\u5c31\u4f1a\u8fde\u8fb9\uff0c\u5e76\u4e14\u5bf9\u4e8e\u6bcf\u4e2a\u7ef4\u5ea6\u662f\u72ec\u7acb\u7684\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06\u4e09\u4e2a\u7ef4\u5ea6\u5355\u72ec\u62ff\u51fa\u6765\u8fde\u8fb9\u3002\n\n\u8003\u8651\u5bf9\u4e8e $x$ \u8f74\u7684\u8fde\u8fb9\u65b9\u6cd5\u3002$y$ \u8f74\u548c $z$ \u8f74\u540c\u7406\u3002\n\n- \u4e24\u4e2a\u5e73\u884c\u4e8e $x$ \u8f74\u7684\u77e9\u5f62\uff0c\u4e00\u5b9a\u4f1a\u6709\u8fde\u8fb9\u3002\n\n- \u4e00\u4e2a\u5e73\u884c\u4e8e $x$ \u8f74\u7684\u77e9\u5f62\u548c\u4e00\u4e2a\u4e0d\u5e73\u884c\u4e8e $x$ \u8f74\u7684\u77e9\u5f62 $j$\uff0c\u5f53 $x_i\\leq xl_j$ \u6216 $x_i \\geq xr_j$ \u7684\u65f6\u5019\u4f1a\u548c\u77e9\u5f62 $i$ \u6709\u8fde\u8fb9\u3002\n\n\u8fd9\u79cd\u60c5\u51b5\u6309\u7167\u533a\u95f4\u7684\u7ed3\u5c3e\u6216\u5f00\u5934\u6392\u5e8f\uff0c\u7136\u540e\u628a\u5355\u70b9\u4ece\u5c0f\u5230\u5927\u6216\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u6bcf\u79cd\u60c5\u51b5\u5206\u522b\u626b\u4e00\u904d\u5373\u53ef\u3002\n\n- \u4e24\u4e2a\u4e0d\u5e73\u884c\u4e8e $x$ \u8f74\u7684\u77e9\u5f62 $i,j$\uff0c\u5f53\u533a\u95f4 $[xl_i,xr_i]$ \u548c\u533a\u95f4 $[xl_j,xr_j]$ \u4e0d\u4ea4\u6216\u5305\u542b\u65f6\u4f1a\u6709\u8fde\u8fb9\u3002\n\n\u8fd9\u79cd\u60c5\u51b5\u4ee5\u53f3\u7aef\u70b9\u4e3a\u7b2c\u4e00\u5173\u952e\u5b57\uff0c\u5de6\u7aef\u70b9\u4e3a\u7b2c\u4e8c\u5173\u952e\u5b57\u6392\u5e8f\uff0c\u518d\u7528\u4e2a\u6808\u7ef4\u62a4\u4e00\u4e0b\u5373\u53ef\u3002\n\n~~\u4e0d\u77e5\u9053\u548b\u63cf\u8ff0\uff0c\u4ee3\u7801\u53ef\u80fd\u66f4\u6e05\u6670\u3002~~\n\n\u590d\u6742\u5ea6 $O(n\\log n)$\uff0c\u74f6\u9888\u5728\u6392\u5e8f\u3002\n\n[Code](https://www.luogu.com.cn/paste/sf2iok8n)",
        "postTime": 1681991864,
        "uid": 190227,
        "name": "Sampson_YW",
        "ccfLevel": 0,
        "title": "P7014"
    }
]