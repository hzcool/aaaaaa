[
    {
        "content": "# \u9898\u5916\u8bdd\uff1a\n\n\u9898\u89e3\u597d\u50cf\u6ca1\u6709\u56fe\uff0c\u53d1\u4e2a\u6709\u56fe\u7684\uff0c\u5e0c\u671b\u80fd\u5e2e\u52a9\u4f60\u4eec\u66f4\u597d\u7684\u7406\u89e3\n\n------------\n# \u601d\u8def\uff1a\n\n\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u8d2a\u5fc3\u5427\uff0c\u89c1\u7684\u633a\u591a\u7684\uff0c\u4e00\u5f00\u59cb\u505a\u7684\u8bdd\u5f88\u96be\u60f3\u5230\u8fd9\u4e2a\u53cd\u6094\u673a\u5236\n\n### \u8f6c\u5316\u95ee\u9898\n\n\u6211\u4eec\u628a\u6bcf\u76f8\u90bb\u4e24\u4e2a\u529e\u516c\u697c\u4e4b\u95f4\u7684\u8ddd\u79bb\u7b97\u51fa\u6765\uff0c\u62bd\u8c61\u51fa\u6765\u70b9\uff0c\u4e5f\u5c31\u662f\u6709$n-1$\u4e2a\u70b9\uff0c\u7b2c$i$\u4e2a\u70b9\u7684\u70b9\u6743\u8868\u793a\u7b2c$i$\u680b\u697c\u4e0e\u7b2c$i+1$\u680b\u697c\u7684\u8ddd\u79bb\n\n\u90a3\u4e48\uff0c\u5f53\u6211\u4eec\u9009\u4e86\u7b2c$i$\u4e2a\u70b9\u65f6\uff0c\u6211\u4eec\u5c31\u4e0d\u80fd\u518d\u9009$i-1,i+1$\u8fd9\u4e24\u4e2a\u70b9\u4e86\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u9009\u4e86\u7b2c$i$\u4e2a\u70b9\u7684\u8bdd\uff0c\u5c31\u4e0d\u80fd\u518d\u6709\u7535\u7f06\u8fde\u63a5\u7b2c$i$\u548c\u7b2c$i+1$\u680b\u697c\u4e86\uff0c\u800c\u9009$i-1,i+1$\u8fd9\u4e24\u4e2a\u70b9\u7684\u8bdd\uff0c\u53c8\u4f1a\u8fde\u63a5\u4e00\u4e0b\u7b2c$i$\u6216\u7b2c$i+1$\u680b\u697c\uff0c\u4e0d\u7b26\u5408\u9898\u610f\u3002\n\n\u90a3\u4e48\u8fd9\u6837\u505a\u4e86\u4e4b\u540e\uff0c\u9898\u76ee\u5c31\u53d8\u4e3a\uff0c\u7ed9\u5b9a$n-1$\u4e2a\u70b9\uff0c\u8981\u4f60\u9009\u51fa$k$\u4e2a\u70b9\uff0c\u5e76\u4e14\u8fd9$k$\u4e2a\u70b9\u4e24\u4e24\u4e0d\u76f8\u90bb\uff08\u5982\u679c\u6ca1\u770b\u61c2\u8bf7\u91cd\u590d\u770b\u4e0a\u9762\u8fd9\u6bb5\u8bdd\uff09\n\n\u90a3\u4e48\u95ee\u9898\u8f6c\u5316\u4e86\u4e4b\u540e\u5462\uff1f\uff1f\uff1f\n### \u6211\u4eec\u5148\u6765\u770b\u4e00\u4e2a**\u9519\u8bef\u7684\u601d\u8def**\uff1a\n\n\u6211\u4eec\u5f04\u4e00\u4e2a\u5c0f\u6839\u5806\uff08\u672c\u849f\u84bb\u7528\u7684\u4f18\u5148\u961f\u5217\u4ee3\u66ff\uff09\n\n\u628a\u6bcf\u4e00\u4e2a\u70b9\u653e\u8fdb\u53bb\uff0c\u7136\u540e\u6bcf\u6b21\u8d2a\u5fc3\u53d6\u6700\u5c0f\u503c\uff0c\u53d6\u4e86\u4e00\u4e2a\u70b9\u540e\u5c31\u628a\u76f8\u90bb\u7684\u70b9\u6807\u8bb0\u4e3a\u4e0d\u80fd\u53d6\n\n\u5982\u679c\u4f60\u8ba4\u4e3a\u8fd9\u662f\u5bf9\u7684\u8bdd\uff0c\u5c31\u770b\u770b\u4e0b\u9762\u8fd9\u4e2a\u6837\u4f8b\uff08\u697c\u5c42$5$\u4e2a\uff0c\u8981\u8fde\u63a5\u7535\u7f06\u6570$2$\u4e2a\uff09\uff1a\n\n![](https://i.loli.net/2019/02/15/5c665076ca5c9.png)\n\n\u957f\u65b9\u5f62\u662f\u697c\u5c42\uff0c\u5706\u5f62\u662f\u62bd\u8c61\u51fa\u6765\u7684\u70b9\uff0c\u90a3\u4e48\u5982\u679c\u6309\u7167\u4e0a\u9762\u7684\u601d\u8def\u7684\u8bdd\uff0c\u6211\u4eec\u4f1a\u5148\u53d6$1$\uff0c\u4e5f\u5c31\u662f\u4e0b\u56fe\uff1a\n\n![](https://i.loli.net/2019/02/15/5c6650ee1e7a5.png)\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u53ea\u80fd\u53d6$9$\u4e86\uff0c\u7b54\u6848\u5c31\u662f$10$\uff0c\u53ef\u662f\uff0c\u8fd9\u662f\u6700\u4f18\u7684\u5417\uff1f\uff1f\n\n\u6211\u4eec\u7528\u8089\u773c\u90fd\u80fd\u770b\u51fa\u6765\u9009\u62e9$2,2$\u66f4\u4f18,\u90a3\u4e48\u6211\u4eec\u5c31\u8981\u589e\u6dfb\u4e00\u4e2a\u53cd\u6094\u673a\u5236\uff1a\n\n\u5f53\u6211\u4eec\u53d6\u4e86\u4e00\u4e2a\u70b9\u540e\uff0c\u6211\u4eec\u8981\u518d\u52a0\u5165\u4e00\u4e2a\u70b9\uff0c\u8fd9\u4e2a\u70b9\u7684\u6743\u503c\u4e3a\u5de6\u8fb9\u7684\u70b9\u6743$+$\u53f3\u8fb9\u7684\u70b9\u6743$-$\u81ea\u8eab\u7684\u70b9\u6743,\u4e3a\u4ec0\u4e48\u8fd9\u6837\u5c31\u80fd\u53cd\u6094\u4e86\u5462\uff1f\uff1f\n\n\u6211\u4eec\u8fb9\u6a21\u62df\u8fb9\u89e3\u91ca\uff1a\n\n\u5f53\u6211\u4eec\u53d6\u4e86$1$\u70b9\u540e\uff0c\u628a\u4e24\u4e2a$2$\u6807\u8bb0\u4e3a\u8bbf\u95ee\u8fc7,\u5e76\u4e14\u66f4\u65b0$1$\u8282\u70b9\u7684\u5de6\u53f3\uff0c$1$\u8282\u70b9\u5de6\u8fb9\u5df2\u7ecf\u7a7a\u4e86\uff0c\u53f3\u8fb9\u5219\u662f$9$\u8282\u70b9\uff0c\u7136\u540e\u5728$1$\u8282\u70b9\u4f4d\u7f6e\u52a0\u5165\u4e00\u4e2a\u70b9\u6743\u4e3a$2+2-1$\u7684\u70b9\n\n\u5982\u4e0b\u56fe\uff1a\n\n![](https://i.loli.net/2019/02/15/5c66533adaef9.png)\n\n\u90a3\u4e48\u4f18\u5148\u961f\u5217\u4e0b\u4e00\u4e2a\u70b9\u4e3a$2$\uff0c\u800c$2$\u88ab\u8bbf\u95ee\u8fc7\u4e86\uff0c\u76f4\u63a5\u4e0b\u4e00\u4e2a\u70b9\uff0c\u4e0b\u4e00\u4e2a\u70b9\u8fd8\u662f$2$\uff0c\u800c$2$\u4e5f\u88ab\u8bbf\u95ee\u8fc7\u4e86\uff0c\u518d\u4e0b\u4e00\u4e2a\u70b9\uff0c\u4e0b\u4e00\u4e2a\u70b9\u4e3a$3$\uff0c\u628a\u4e0e\u5b83\u76f8\u90bb\u7684$9$\u6807\u8bb0\u4e3a\u8bbf\u95ee\u8fc7\uff0c\u800c\u4e14\u73b0\u5728\u5df2\u7ecf\u53d6\u4e86$2$\u4e2a\u70b9\u4e86\uff08\u672c\u6837\u4f8b\u9898\u76ee\u89c4\u5b9a\u4e86\u5b89\u88c5$2$\u6761\u7535\u7f06\uff09\u6240\u4ee5\u66f4\u65b0$ans$\uff0c\u5e76\u4e14\u9000\u51fa\n\n\u6700\u540e\u5982\u4e0b\u56fe\uff1a\n\n![](https://i.loli.net/2019/02/15/5c6653fc4c443.png)\n\n\u770b\u51fa\u6765\u4e86\u5417\uff1f\u5176\u5b9e\u8fd9\u5c31\u76f8\u5f53\u4e8e\u6211\u4eec\u53d6\u4e86$2,2$\u4e24\u4e2a\u70b9\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f$ans=1+3$,\u4e5f\u7b49\u4e8e$2+2$\u5440\uff0c\u8fd8\u8bb0\u5f97$3$\u600e\u4e48\u6765\u7684\u5417\uff1f$3=2+2-1$\uff0c\u90a3\u4e48\u4ee3\u56de\u53bb\u5c31\u662f\n\n$4=1+3=1+2+2-1=2+2$\n\n\u4e5f\u5c31\u662f\u8bf4\u53d6\u4e86$3$\u8fd9\u4e2a\u70b9\uff0c\u5c31\u76f8\u5f53\u4e8e\u6ca1\u6709\u53d6$1$\u8fd9\u4e2a\u70b9\uff0c\u800c\u662f\u53d6\u4e86$2,2$\u8fd9\u4e24\u4e2a\u70b9\n\n\u4f60\u770b\u61c2\u4e86\u8fd9\u4e2a\u53cd\u6094\u673a\u5236\u5417$qwq$\n\n\u81f3\u4e8e\u5de6\u53f3\u8282\u70b9\u7684\u66f4\u65b0\uff0c\u6211\u4eec\u7528\u53cc\u5411\u94fe\u8868\u5b9e\u73b0\uff1a\n\n\n------------\n\u63a5\u4e0b\u6765\u662f\u7f8e\u6ecb\u6ecb\u7684\u4ee3\u7801\u65f6\u95f4~~~\n\n~~~cpp\n#include<iostream>\n#include<cstdio>\n#include<queue>\n#include<cstring>\n#define N 500007\n#define inf 0x3f3f3f3f\nusing namespace std;\nstruct Place\n{\n\tint val,l,r;\n}p[N];\nstruct Node\n{\n\tint val,id;\n\tbool operator <(Node it) const\n\t{\n\t\treturn val>it.val;\n\t} \n};\nint n,m,ans,last;\nbool vis[N];\npriority_queue<Node> q;\nvoid Del(int x)\n{\n\tp[x].l=p[p[x].l].l;\n\tp[x].r=p[p[x].r].r;\n\tp[p[x].l].r=x;\n\tp[p[x].r].l=x;\n}\nint main()\n{\n\tscanf(\"%d%d%d\",&n,&m,&last);\n\tfor(int i=1;i<n;++i)\n\t{\n\t\tint in;\n\t\tscanf(\"%d\",&in);\n\t\tp[i].val=in-last;\n\t\tlast=in;\n\t\tp[i].l=i-1;\n\t\tp[i].r=i+1;\n\t\tq.push((Node){p[i].val,i});\n\t}\n\tp[0].val=p[n].val=inf;//\u6ce8\u610f\u8fd9\u91cc \n\tfor(int i=1;i<=m;++i)\n\t{\n\t\twhile(vis[q.top().id])\n\t\t\tq.pop();\n\t\tNode now=q.top();\n\t\tq.pop();\n\t\tans+=now.val;\n\t\tvis[p[now.id].l]=vis[p[now.id].r]=1;\n\t\tp[now.id].val=p[p[now.id].l].val+p[p[now.id].r].val-p[now.id].val;\n\t\tq.push((Node){p[now.id].val,now.id});\n\t\tDel(now.id);\n\t}\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n~~~",
        "postTime": 1550210441,
        "uid": 96968,
        "name": "3493441984zz",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "[\u535a\u5ba2\u56ed\u98df\u7528\u5730\u5740](https://www.cnblogs.com/BaseAI/p/12119618.html)\n\n## Problem\n\n[Luogu \u9898\u76ee\u5730\u5740](https://www.luogu.com.cn/problem/P3620)\n\n[ACwing \u9898\u76ee\u5730\u5740](https://www.acwing.com/problem/content/149/)\n\n## Sulotion\n\n\u4ee3\u7801\u77ed\uff0c\u601d\u7ef4\u5f3a\uff0c\u5b9e\u73b0\u5999\uff08\u5c31\u7b97\u731c\u51fa\u6027\u8d28\u4e5f\u4e0d\u4e00\u5b9a\u4f1a\u5b9e\u73b0\uff09\uff0c\u795e\u4ed9\u9898\u554a\uff0c\u79d1\u79d1\uff08\u6211\u592a\u83dc\u4e86\u800c\u5df2\uff09\u3002\n\n----\n\n- \u9996\u5148\u6709\u4e00\u4e2a\u663e\u7136\u7684\u6027\u8d28\uff1a\u9009\u51fa\u6765\u7684\u8fd9 $k$ \u5bf9\u70b9\u4e00\u5b9a\u76f8\u90bb\u3002\n\n\u6839\u636e\u8fd9\u4e2a\u6027\u8d28\uff0c\u6211\u4eec\u505a\u7b2c\u4e00\u6b65\u95ee\u9898\u8f6c\u6362\uff1a\u8bb0\u4e24\u4e2a\u70b9 $i$ \u548c $i+1$ \u4e4b\u95f4\u7684\u8ddd\u79bb\u4e3a $D_i$\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u5f97\u5230\u4e00\u4e2a\u957f\u5ea6\u4e3a $n-1$ \u7684\u6570\u7ec4 $D$\uff0c\u6211\u4eec\u8981\u5728 $D$ \u4e2d\u9009\u51fa $k$ \u4e2a\u6570\uff0c\u5e76\u4e14\u8fd9 $k$ \u4e2a\u6570\u4e24\u4e24\u4e0d\u80fd\u76f8\u90bb\u3002\n\n----\n\n\uff08~~\u505a\u5230\u8fd9\u91cc\u5c31\u4e0d\u4f1a\u4e86\u662f\u5427\uff1f~~\uff09\u65e2\u7136\u6ca1\u6709\u4ec0\u4e48\u5934\u7eea\uff0c\u6211\u4eec\u5c31\u4ece $k=1$ \u7684\u60c5\u51b5\u9010\u6b65\u63a8\u8d77\uff0c\u8003\u8651\u50cf [[\u7b97\u8fdb]\u5e8f\u5217](https://www.acwing.com/problem/content/148/) \uff08\u5c31\u662f\u4e0a\u4e00\u9898\uff0c\u867d\u7136\u8fd9\u4e24\u9898\u770b\u8d77\u6765\u6beb\u65e0\u8054\u7cfb\u7684\u6837\u5b50\uff09\u4e00\u6837\u7528**\u6570\u5b66\u5f52\u7eb3\u6cd5**\u89e3\u51b3\u95ee\u9898\u3002\n\n- $k=1$\n\n\u663e\u7136\u6211\u4eec\u8981\u9009 $\\min\\{D_i\\}$\uff0c\u5e76\u4e14\u8bb0\u8fd9\u4e2a\u6570\u4e3a $D_m$\u3002\n\n- $k=2$\n\n\u663e\u7136\u51b3\u7b56\u96c6\u5408\u53ea\u6709\u4e24\u4e2a\u90e8\u5206\uff1a1.\u9009 $D_m + D_{m'}$ \uff08$D_{m'}$ \u662f\u4e0d\u4e0e $D_m$ \u76f8\u90bb\u7684\u6700\u5c0f\u503c\uff09\uff1b2.\u9009 $D_{m-1} + D_{m+1}$\u3002\n\n\u5982\u679c\u4f60\u4e0d\u7406\u89e3\u7684\u8bdd\uff0c\u8fd9\u91cc\u6709\u89e3\u91ca\uff1a\u5982\u679c\u6211\u4eec\u8003\u8651\u9009 $D_{m-1}$ \u6216\u8005 $D_{m+1}$\uff0c\u8fd9\u5c31\u8981\u4f7f $D_m$ \u6362\u6210\u522b\u7684\u6570\uff0c\u5047\u8bbe\u5c06 $D_m$ \u6362\u6210 $D_x$\uff0c$D_{m-1}+D_x$ \uff08\u5047\u8bbe\u9009 $D_{m-1}$\uff0c$D_{m+1}$ \u540c\u7406\uff09\uff0c\u90a3\u4e48 $D_m+D_x$ \u4e00\u5b9a\u53ef\u4ee5\u6bd4\u5b83\u4f18\u3002**\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u4e0d\u7528\u7ba1 $D_{m-1}$ \u4e0e\u5176\u4ed6\u6570\u7ec4\u5408\u80fd\u5426\u5f97\u5230\u6700\u4f18\u89e3\uff0c\u56e0\u4e3a\u5b83\u4e00\u5b9a\u662f\u4e0d\u80fd\u7684\uff0c\u53ea\u8981\u8003\u8651 $D_{m-1}$ \u548c $D_{m+1}$ \u80fd\u5426\u7ec4\u6210\u6700\u4f18\u89e3\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u5728 $D_m+D_{m'}$ \u91cc\u9762\u6ca1\u6709\u8003\u8651\u5230\u3002**\n\n- $k=3$\n\n\uff08~~k=3\uff0c\u5b83\u663e\u5f97\u6742\u4e71\u65e0\u7ae0\u3002\u6240\u4ee5\u6211\u4eec\u4e0d\u5728\u4e4e\u6570\u5b66\u7684\u4e25\u8c28\u6027\uff0c\u76f4\u63a5\u8ba8\u8bba\u6211\u4eec\u60f3\u770b\u5230\u7684~~\uff09\n\n\u73b0\u5728\u5df2\u7ecf\u9009\u51fa $k=2$ \u7684\u60c5\u51b5\uff0c\u5047\u8bbe\u5982\u4e0b\u56fe\u6240\u793a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4g806qrb.png)\n\n\u4ee4 $k=2$ \u4e2d\u9009\u51fa\u6765\u7684\u5206\u522b\u662f $D_{m-1},D_{m+1}$ \uff08\u548c\u4e0a\u56fe\u4e00\u6837\uff0c\u4ed6\u4eec \u201c\u95f4\u63a5\u76f8\u90bb\u201d\uff09\n\n\u90a3\u4e48\u51b3\u7b56\u96c6\u5408\u4e5f\u53ea\u6709\u4e24\u4e2a\u90e8\u5206\uff1a1.\u9009 $D_{m-2}+D_{m}+D_{m+2}$\uff1b2.\u9009 $D_{m-1}+D_{m+1}+D_{m'}$\uff08$D_{m'}$ \u5c31\u662f\u4e0d\u5e72\u6270\u8fd9\u4e24\u4e2a\u70b9\u7684\u6700\u5c0f\u7684\u4e00\u4e2a\u70b9\uff09\n\n**\u76f4\u89c2\u5730\u6765\u8bf4\uff0c\u8981\u4e48\u9009\u84dd\u8272\u90e8\u5206\uff0c\u8981\u4e48\u9009\u7ea2\u8272\u90e8\u5206 + $D_{m'}$**\n\n\u5982\u679c\u4f60~~\u8fd8\u662f~~\u4e0d\u7406\u89e3\u7684\u8bdd\uff0c\u7ee7\u7eed\u89e3\u91ca\uff1a\u5982\u679c\u6211\u9009\u4e86\u84dd\u8272\u90e8\u5206\u7684\u4e00\u4e2a\u70b9 $D_b$ (blue)\uff0c\u90a3\u4e48\u5c31\u8981\u5e72\u6270\u4e00\u4e2a\u751a\u81f3\u591a\u4e2a\u70b9\uff0c\u88ab\u5e72\u6270\u7684\u70b9\u8bb0\u4e3a $D_r$ (red)\uff0c\u5c06\u5b83\u66f4\u6362\u4e3a\u5176\u4ed6\u7684\u70b9 $D_e$ (else)\uff0c\u56e0\u4e3a\u5176\u4ed6\u90e8\u5206\u6ca1\u6709\u53d8\u5316\uff0c\u56e0\u4e3a\u6709 $D_e+D_r < D_e+D_b$\uff0c\u90a3\u4e48\u6211\u4eec\u4f1a\u53d1\u73b0\u8fd9\u6837\u9009\u53d6\u662f\u4e0d\u53ef\u884c\u7684\uff01\u5982\u679c\u5e72\u6270\u4e86\u591a\u4e2a\u70b9\uff08\u6700\u591a\u4e3a\u4e24\u4e2a\uff09\uff0c\u8bb0\u4e3a $D_{r1},D_{r2}$ \uff0c\u5c06\u5b83\u66f4\u6362\u4e3a\u5176\u4ed6\u7684\u70b9 $D_{e1},D_{e2}$\uff0c\u5047\u8bbe $D_{e1}+D_{e2}+D_b<D_{r1}+D_{r2}+D_{m'}$ \u56e0\u4e3a $D_{e1}>=D_{m'}$\uff0c\u90a3\u4e48 $D{e_2}+D_b<D_{r1}+D_{r2}$\uff0c\u5982\u6b64\u4e00\u6765\uff0c\u8fd9\u4e0d\u662f\u8bf4\u660e $D_{r1},D_{r2}$ \u4e0d\u662f\u4e0a\u4e00\u8f6e\u7684\u6700\u4f18\u89e3\uff01\uff1f\u8fd9\u4e0e\u6761\u4ef6\u76f8\u77db\u76fe\uff0c\u6545\u4e0d\u6210\u7acb\u3002\n\n----\n\n\u505a\u51fa\u4ee5\u4e0a\u5206\u6790\u540e\uff0c\u6211\u4eec\u6478\u7d22\u51fa\u6765\u4e00\u4e2a\u6027\u8d28\uff1a\uff08\u5148\u4e0a\u4e00\u5f20\u56fe\uff0c\u5047\u8bbe\u5f53\u524d\u9009\u4e86 $k$ \u5bf9\u70b9\u4e86\uff09\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qo6fs0h8.png)\n\n**\u5982\u679c\u6709\u4e00\u4e9b\u70b9 \u201c\u95f4\u63a5\u76f8\u90bb\u201d\uff0c\u82e5\u6709\u4e00\u4e2a\u70b9\u88ab\u5e72\u6270\uff08\u9009\u4e86\u4e00\u4e2a\u84dd\u8272\u70b9\uff09\uff0c\u6240\u6709\u7684\u70b9\u6539\u53d8\u4f4d\u7f6e\uff08\u7ea2\u8272\u53d8\u84dd\u8272\u533a\u57df\uff09**\uff0c\u5f62\u8c61\u5730\u89e3\u91ca\u4e3a\uff1a**\u201c\u540c\u751f\u6b7b\uff0c\u5171\u8fdb\u9000\u201d**\u3002\u9996\u5148\u8fd9\u4e2a\u6027\u8d28\u662f\u6211\u4eec\u901a\u8fc7\u521a\u624d\u8fd9\u4e9b\u5206\u6790\u731c\u51fa\u6765\u7684\uff0c\u5bf9\u4e8e\u4efb\u610f\u60c5\u51b5\uff0c\u53ef\u4ee5\u7528\u6211\u7ed9\u51fa\u6765\u7684\u8fd9\u79cd\u65b9\u6cd5\u505a\u7c7b\u4f3c\u5206\u6790\uff0c~~\u8fd9\u6837\u8bc1\u660e\u662f\u4e0d\u662f\u4e25\u8c28\u7684\u5c31\u4e0d\u77e5\u9053\u4e86~~\uff0c\u4f46\u662f\u8fd9\u4e2a\u7ed3\u8bba\u662f\u53ef\u4ee5\u8bc1\u660e\u7684\uff0c\u5177\u4f53\u6211\u4e5f\u4e0d\u4f1a\u3001\u3001\n\n----\n\n\u5f53\u7136\u4f60\u8fd8\u4f1a\u60f3\u554a\uff0c\u6211\u4eec\u9009\u7684\u70b9\u662f\u79bb\u6563\u7684\u5440\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u5f20\u56fe\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ihg960gw.png)\n\n**\u4f46\u662f\u5bf9\u4e8e\u95f4\u63a5\u76f8\u90bb\u7684\u8fd9\u4e9b\u70b9 \u4e0a\u9762\u8fd9\u4e2a\u6027\u8d28\u6210\u7acb\u5440\uff01qwq**\n\n----\n\n\u73b0\u5728\u4e5f\u8bb8\u4f60\u5bf9\u8fd9\u4e2a\u7b97\u6cd5\u7684\u601d\u60f3\u5927\u6982\u660e\u767d\u4e86\uff0c\u5374\u4e0d\u77e5\u9053\u600e\u4e48\u5b9e\u73b0\uff0c\u8fd9\u5c31\u8981\u5f15\u51fa\u6211\u4eec \u201c\u5999\u201d \u7684\u4ee3\u7801\u5b9e\u73b0\u4e86\n\n- \u5f00\u4e00\u4e2a\u5c0f\u6839\u5806\uff0c\u7ed3\u70b9\u5b58\u653e $val,pos$ \uff0c\u5f00\u4e00\u4e2a\u94fe\u8868\u3002$pos$ \u8868\u793a\u8fd9\u4e2a\u7ed3\u70b9\u5728\u94fe\u8868\u4e2d\u76f8\u5e94\u7684\u4f4d\u7f6e\u3002\n\n- \u7136\u800c\u8fd9\u4e2a $val$ \u5c31\u5999\u4e86\uff0c\uff0c\uff0c\u5148\u8bb2\u5b9e\u73b0\u6d41\u7a0b\uff1a\n\n- \u6bcf\u6b21\u4ece\u5806\u4e2d\u53d6\u51fa\u4e00\u4e2a\u7ed3\u70b9\uff0c\u5c06 $ans+=val$\uff0c\u5c06\u94fe\u8868\u4e2d $pos,L[pos],R[pos]$ \u4e2d\u4e09\u4e2a\u7ed3\u70b9\u5220\u53bb\uff0c\u52a0\u5165\u5728\u8fd9\u4e2a\u4f4d\u7f6e\u52a0\u5165\u4e00\u4e2a\u65b0\u7684\u7ed3\u70b9\uff0c\u8fd9\u4e2a\u65b0\u7ed3\u70b9\u7684 $val=val(L[pos])+val(R[pos])-val(pos)$\uff0c\u518d\u628a\u8fd9\u4e2a\u7ed3\u70b9\u52a0\u5165\u5806\u3002**\u7ed3\u5408\u201c\u7ea2\u84dd\u70b9\u7684\u8bf4\u6cd5\u201d\uff0c\u5176\u5b9e\u6211\u4eec\u662f\u628a\u84dd\u70b9\u533a\u57df\u770b\u6210\u4e00\u79cd\u72b6\u6001\u52a0\u5165\u8fdb\u4e86\u5806,val\u662f\u8bb0\u5f55\u7ea2\u70b9\u533a\u57df\u548c\u84dd\u70b9\u533a\u57df\u7684\u5dee\u503c**\uff08\u81ea\u5df1\u6a21\u62df\u4e00\u4e0b\u4f1a\u6709\u4e00\u70b9\u70b9 \u5bb9\u65a5\u822c\u5de7\u5999\u7684\u611f\u89c9qwq\uff09\u3002\n\n- \u91cd\u590d $k$ \u6b21\u5f97\u5230\u7b54\u6848\u3002\n\n----\n\n\u8fd8\u6709 **\u4e00\u70b9\u70b9\u7ec6\u8282**\uff0c\u5982\u679c\u6211\u4eec\u9047\u5230\u4e0b\u9762\u8fd9\u79cd\u60c5\u51b5\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gprseajw.png)\n\n\u7ea2\u70b9\u5728\u8fb9\u7f18\uff0c\u6211\u628a\u5b83\u53eb\u505a \u201c**\u84dd\u70b9\u4f1a\u6ea2\u51fa**\u201d\uff0c\u8fd9\u79cd\u60c5\u51b5\u6211\u4eec\u80af\u5b9a\u4e0d\u80fd\u518d\u5c06\u84dd\u70b9\u533a\u57df\u653e\u5165\u5806\u91cc\u9762\u4e86\u3002\u53cd\u8fc7\u6765\uff0c\u6211\u4eec\u4e0d\u53d6\u51fa\u5b83\u5c31\u53ef\u4ee5\u4e86\u3002\u6709\u4e00\u4e2a\u5c0f $Trick$\uff0c\u5c06\u94fe\u8868\u7684\u5934\u5c3e\uff08\u865a\u62df\uff09\u7ed3\u70b9\u7684 $val=INF$ \u5373\u53ef\u3002\n\n----\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c\u8fd9\u9898\u8003\u5bdf\u4e86\u6211\u4eec **\u4f18\u5148\u961f\u5217+\u53cc\u5411\u94fe\u8868** \u7684\u7075\u6d3b\u8fd0\u7528\u3002\n\n## Code\n\nTalk is cheap.Show me the Code.\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define INF 1e18\nusing namespace std;\ninline int read() {\n\tint x=0,f=1; char ch=getchar();\n\twhile(ch<'0' || ch>'9') { if(ch=='-') f=-1; ch=getchar(); }\n\twhile(ch>='0'&&ch<='9') { x=(x<<3)+(x<<1)+(ch^48); ch=getchar(); }\n\treturn x * f;\n}\nconst int N = 100007;\nint n,K,ans;\nint D[N],L[N],R[N],val[N];\nbool vis[N];\npriority_queue<pair<int,int> > q;\nsigned main()\n{\n\tn = read(), K = read();\n\tint last = read();\n\tfor(int i=2,x;i<=n;++i) x = read(), D[i-1] = x-last, last = x;\n\tfor(int i=1;i<n;++i) val[i] = D[i], L[i] = i-1, R[i] = i+1, q.push(make_pair(-val[i],i));\n\tval[0] = val[n] = INF;\n\tfor(int i=1;i<=K;++i) {\n\t\twhile(vis[q.top().second]) q.pop();\n\t\tint x = -q.top().first, pos = q.top().second; q.pop();\n\t\t//printf(\"x = %d\\n\",x);\n\t\tans += x; int l = L[pos], r = R[pos];\n\t\tL[pos] = L[l], R[pos] = R[r];\n\t\tR[L[pos]] = pos, L[R[pos]] = pos;\n\t\tvis[l] = vis[r] = 1;\n\t\tval[pos] = val[l] + val[r] - x;\n\t\t//printf(\"updata x = %d\\n\",val[pos]);\n\t\tq.push(make_pair(-val[pos],pos));\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n\n## Summary\n\n\u8fd9\u662f\u4e00\u9053\u601d\u7ef4\u9898\uff0c\u6211\u8fd8\u662f\u8981\u5f3a\u884c\u5728\u8fd9\u4e2d\u95f4\u5b66\u5230\u5957\u8def(\u9003:\n\n- **\u5584\u4e8e\u4ece\u7b80\u5355\u7684\u60c5\u51b5\u5165\u624b\uff0c\u8003\u8651\u6570\u5b66\u5f52\u7eb3\u6cd5\uff0c\u4ece\u800c\u731c\u51fa\u4e00\u4e9b\u6027\u8d28**\n\n- **\u7075\u6d3b\u8fd0\u7528\u53cc\u5411\u94fe\u8868\uff0c\u7075\u6d3b\u5b9e\u73b0\u4ee3\u7801\uff08\u53cc\u5411\u94fe\u8868\u771f\u662f\u4e00\u79cd\u795e\u5947\u7684\u6570\u636e\u7ed3\u6784\uff09**",
        "postTime": 1577688104,
        "uid": 147511,
        "name": "\u57fa\u5730A_I",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "\u4e0d\u96be\u60f3\u5230\uff0c\n\u4e3a\u4e86\u4f7f\u5e03\u7ebf\u957f\u5ea6\u5c3d\u91cf\u5c0f\uff0c\u6bcf\u5bf9\u5e03\u7ebf\u7684\u529e\u516c\u697c\u4e00\u5b9a\u662f\u76f8\u90bb\u7684\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5728\u8bfb\u5165\u65f6\u8ba1\u7b97\u5dee\u5206\u6570\u7ec4\u4fdd\u5b58\u6bcf\u76f8\u90bb\u4e24\u4e2a\u529e\u516c\u697c\u7684\u8ddd\u79bb\n\n\u8fd9\u6837\u95ee\u9898\u8f6c\u5316\u4e3a\uff0c\n**\u5728\u5dee\u5206\u6570\u7ec4\u4e2d\u627ek\u4e2a\u6570\uff0c\u6ee1\u8db3k\u4e2a\u6570\u4e4b\u548c\u6700\u5c0f\u4e14\u4e92\u4e0d\u76f8\u90bb**\n\n\u8bbe\u5dee\u5206\u6570\u7ec4\u4e3ab[]\uff0c\n\u5176\u4e2d\u6700\u5c0f\u7684\u6570\u4e3ab[i]\n\n\u663e\u7136\u6700\u4f18\u89e3\u5fc5\u5b9a\u662f\u4e00\u4e0b\u5176\u4e2d\u4e00\u79cd\n\n1.\u5305\u542bb[i]\u4ee5\u53ca\u9664b[i-1]\u548cb[i+1]\u7684\u6570\n\n2.\u5305\u542bb[i-1]\u548cb[i+1]\u4ee5\u53ca\u9664b[i]\uff0cb[i-2]\uff0cb[i+2]\n\n\u4ece\u8fd9\u4e00\u70b9\u6269\u5c55\uff0c\n\u53ef\u4ee5\u5148\u53d6b[i]\uff0c\u5e76\u4ee5b[i-1]+b[i+1]-b[i]\u66ff\u6362\uff0c\n\n\u7136\u540e\u5728\u65b0\u6570\u5217\u4e2d\u7ee7\u7eed\u91cd\u590dk-1\u6b21\u5f97\u5230\u6700\u540e\u7ed3\u679c\n\n\u8fd9\u6837\u82e5b[i]\u4e0d\u5c5e\u4e8e\u6700\u4f18\u89e3\uff0c\u5219b[i-1]+b[i+1]-b[i]\u5fc5\u5b9a\u88ab\u9009\uff0c\u6ee1\u8db3\u4e86\u4e0a\u8ff0\u7b2c\u4e8c\u79cd\u60c5\u51b5\n\n\u66f4\u5177\u4f53\u505a\u6cd5\u662f\uff0c\n\u5c06\u539f\u5dee\u5206\u6570\u7ec4\u6bcf\u4e2a\u503c\u63d2\u5165\u5806\uff0c\n\u5e76\u5c06\u6570\u7ec4\u4ee5\u94fe\u8868\u4e32\u8d77\u6765\n\n\u6bcf\u6b21\u53d6\u5806\u9876\u6700\u5c0f\u503c\u66f4\u65b0\u7b54\u6848\uff0c\u5e76\u5220\u9664\u8be5\u503c\uff0c\n\n\u8bbe\u6700\u5c0f\u503c\u7f16\u53f7\u4e3ai\uff0c\n\u90a3\u4e48\u518d\u63d2\u5165b[ pre[i] ]+b[ nxt[i] ]-b[i]\uff0c\n\u5e76\u66f4\u65b0\u94fe\u8868\n\n\u91cd\u590dk\u6b21\u5373\u5f97\u6700\u4f18\u89e3\n*************************\n\n```\n#include<iostream>\n#include<vector>\n#include<algorithm>\n#include<queue>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\ntypedef long long lt;\n \nlt read()\n{\n    lt f=1,x=0;\n    char ss=getchar();\n    while(ss<'0'||ss>'9'){if(ss=='-')f=-1;ss=getchar();}\n    while(ss>='0'&&ss<='9'){x=x*10+ss-'0';ss=getchar();}\n    return f*x;\n}\n \nconst int maxn=500010;\nint n,k,cnt;\nlt a[maxn],b[maxn];\nstruct node{lt val;int num;}mi[maxn];\nint pre[maxn],nxt[maxn],judge[maxn];\nlt ans;\n \nvoid swapp(int x,int y)\n{\n    node tt=mi[x];\n    mi[x]=mi[y]; mi[y]=tt;\n}\n \nvoid ins(lt val,int num)\n{\n    mi[++cnt].val=val; mi[cnt].num=num;\n    int p=cnt;\n    while(p>1)\n    {\n        if(mi[p>>1].val>mi[p].val){ swapp(p,p>>1); p>>=1;}\n        else break;\n    }\n}\n \nvoid pop()\n{\n    mi[1]=mi[cnt--];\n    int p=1,s=p<<1;\n    while(s<=cnt)\n    {\n        if(s<cnt&&mi[s].val>mi[s+1].val) s++;\n        if(mi[p].val>mi[s].val){ swapp(p,s); p=s; s=p<<1;}\n        else break; \n    }\n}\n \nint main()\n{\n    n=read();k=read();\n    for(int i=1;i<=n;++i) a[i]=read();\n    for(int i=1;i<n;++i)\n    {\n        b[i]=a[i+1]-a[i];\n        ins(b[i],i);\n        pre[i]=i-1; nxt[i]=i+1;\n    }\n    b[0]=b[n]=2e9;//\u6ce8\u610f0\u53f7\u548cn\u53f7\u8d4b\u6781\u5927\u503c\n    nxt[0]=1; pre[n+1]=n;\n    while(k--)\n    {\n        while(judge[mi[1].num]) pop();\n        int val=mi[1].val,num=mi[1].num; pop();//\u53d6\u5806\u9876\u6700\u5c0f\u503c\n         \n        ans+=val;\n        b[num]=b[pre[num]]+b[nxt[num]]-b[num];//\u65b0\u63d2\u5165\u5f97\u503c\n        judge[pre[num]]=judge[nxt[num]]=1;//\u4e24\u65c1\u5f97\u503c\u4e0d\u80fd\u518d\u53d6\n         \n        pre[num]=pre[pre[num]]; nxt[pre[num]]=num;//\u66f4\u65b0\u94fe\u8868\n        nxt[num]=nxt[nxt[num]]; pre[nxt[num]]=num;\n         \n        ins(b[num],num);//\u63d2\u5165\u65b0\u503c\n    }\n    printf(\"%lld\",ans);\n    return 0;\n}\n```\n\n",
        "postTime": 1529043960,
        "uid": 60885,
        "name": "niiick",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "\u6211\u6765\u4e00\u4efd\u4e0d\u540c\u65b9\u6cd5\u7684\u9898\u89e3\n\n\u8003\u8651\u6734\u7d20dp\uff0c\u8bbe  $f[i][j][0/1]$ \u4e3a\u524d $i$ \u4e2a\u623f\u5b50\uff0c\u8fde\u4e86 $j$ \u6761\u7ebf\uff0c\u5e76\u4e14\u7b2c $i$ \u4e2a\u623f\u5b50\u662f/\u5426\u548c\u7b2c $i-1$ \u4e2a\u623f\u5b50\u8fde\u7ebf\u3002\u90a3\u4e48\u7b54\u6848\u5c31\u662f $\\min(f[n][k][0],f[n][k][1])$ \u3002\n\u8f6c\u79fb\u5f88\u7b80\u5355\uff0c\u4ec0\u4e48 $f[i][j][0]=\\min(f[i-1][j][0],f[i-1][j][1]), f[i][j][1]=f[i-1][j-1][0]+pos[i]-pos[i-1]$\u3002\n\n\u7136\u800c\u5e76\u5f00\u4e0d\u4e0b\u3002\u4f46\u662f\u53d1\u73b0\u8fd9\u4e2a\u4e1c\u897f\u5f88\u50cf\u4e5d\u7701\u8054\u8003D2T2\u3002\n\n\u8bbe $h(x)$ \u4e3a $\\min(f[n][x][0],f[n][x][1])$ \uff08\u5c31\u662f $k=x$ \u65f6\u7684\u7b54\u6848\uff09\uff0c\u90a3\u4e48\u8fd9\u662f\u80af\u5b9a\u662f\u4e00\u4e2a\u589e\u51fd\u6570\u3002\u6211\u4eec\u7ee7\u7eed\u6253\u8868\u53d1\u73b0\uff0c\u8fd9\u8fd8\u662f\u4e00\u4e2a\u4e0b\u51f8\u51fd\u6570\uff08\u53ef\u4ee5\u611f\u6027\u7684\u7406\u89e3\u4e00\u4e0b\uff0c\u4e00\u5f00\u59cb\u53ef\u4ee5\u9009\u5c0f\u70b9\u7684\uff0c\u540e\u6765\u5c31\u6ca1\u529e\u6cd5\u4e86\uff09\u3002\u7136\u800c\u5e76\u4e0d\u4f1a\u8bc1\u660e~~OI\u6ca1\u6709\u8bc1\u660e~~\n\n\u90a3\u4e48\u6211\u4eec\u8003\u8651\u7528\u4e00\u6761\u659c\u7387\u4e3a $slope$ \u7684\u76f4\u7ebf\u53bb\u5207\u8fd9\u4e2a\u51fd\u6570\u3002\u5207\u5230\u7684\u7b2c\u4e00\u4e2a\u70b9\u80af\u5b9a\u6ee1\u8db3 $h(x)-slope *x$ \u6700\u5c0f\u3002\u800c\u6211\u4eec\u53d1\u73b0\u8fd9\u4e2a\u5f0f\u5b50\u662f\u6709\u610f\u4e49\u7684\uff1a\u76f8\u5f53\u4e8e\u6211\u4eec\u53ef\u4ee5\u8fde\u6ca1\u6709\u9650\u5236\u6761\u8fb9\uff0c\u5e76\u4e14\u6bcf\u8fde\u4e00\u6761\u8fb9\u90fd\u53ef\u4ee5\u989d\u5916\u4f7f\u7b54\u6848\u51cf\u5c11 $slope$ \u3002\u8fd9\u6837\u7684\u8bdd\u6211\u4eec\u5c31\u53ef\u4ee5dp\u51fa\u6ee1\u8db3 $h(x)-slope *x$ \u6700\u5c0f\u7684 $x$ \uff0cdp\u65b9\u6cd5\u8ddf\u6734\u7d20dp\u5dee\u4e0d\u591a\uff0c\u53ea\u4e0d\u8fc7\u53ef\u4ee5\u53bb\u6389\u8fde\u8fb9\u6570\u9650\u5236\u7684\u90a3\u4e00\u7ef4\uff0c\u7136\u540e\u518d\u8bb0\u4e00\u4e2a $g[i][0/1]$ \u8868\u793a\u6700\u4f18\u72b6\u6001\u4e0b\u7684\u8fde\u8fb9\u6570\u3002\n\n\u8fd9\u4e2a $x$ \u4e0d\u4e00\u5b9a\u7b49\u4e8e $k$ \uff08\u5982\u679c\u7b49\u4e8e $k$ \u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u6c42\u51fa\u7b54\u6848\u4e86\uff09\uff0c\u4f46\u662f\u56e0\u4e3a $h(x)$ \u662f\u4e00\u4e2a\u51f8\u51fd\u6570\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4e8c\u5206\u8fd9\u4e2a\u659c\u7387\uff0c\u7136\u540e\u6bcf\u6b21\u6839\u636edp\u51fa\u7684\u7ed3\u679c\u6765\u8c03\u6574\u4e8c\u5206\u7684 $slope$ \u3002\u6700\u7ec8\u5207\u5230 $k$ \u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u6c42\u51fa\u7b54\u6848 $h(k)$ \u4e86\u3002\n\n\u4e5f\u6709\u5207\u4e0d\u5230 $k$ \u7684\u65f6\u5019\uff0c\u6bd4\u5982\u8bf4 $h(k+1)-h(k)=h(k)-h(k-1)$ \uff0c\u6240\u4ee5\u6211\u4eec\u6539\u5728 $x \\le k$ \u65f6\u66f4\u65b0\u7b54\u6848\u3002\n\n``` cpp\n#include<bits/stdc++.h>\n#define maxn 100010\n#define ll long long\nusing namespace std;\n\nint g[maxn][2],pos[maxn],n,k;\nll f[maxn][2];\nconst ll INF=1LL<<60;\ninline void check(ll &x,int &y,ll X,int Y){\n\tif(x>X||(x==X&&y>Y))\n\t\tx=X,y=Y;\n}\nvoid solve(ll s){\n\tf[1][0]=g[1][0]=0,f[1][1]=INF;\n\tfor(int i=2;i<=n;i++){\n\t\tf[i][0]=f[i-1][0],g[i][0]=g[i-1][0];\n\t\tcheck(f[i][0],g[i][0],f[i-1][1],g[i-1][1]);\n\t\tf[i][1]=f[i-1][0]-s+pos[i]-pos[i-1],g[i][1]=g[i-1][0]+1;\n\t}\n}\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%d\",&pos[i]);\n\tll l=0,r=1e9+10,ans;\n\twhile(l<r){\n\t\tint ansg;\n\t\tll mid=l+r>>1,ansf=INF;\n\t\tsolve(mid);\n\t\tfor(int i=0;i<=1;i++)\n\t\t\tcheck(ansf,ansg,f[n][i],g[n][i]);\n\t\tif(ansg<=k)\n\t\t\tans=ansf+mid*k,l=mid+1;\n\t\telse\n\t\t\tr=mid;\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1524618491,
        "uid": 31564,
        "name": "zhoutb2333",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "# \u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011\n\n\u4f20\u9001\u95e8[QwQ](https://www.luogu.com.cn/problem/P3620)\n\n## \u9898\u76ee\u5206\u6790\n\n\u8fd9\u9053\u9898\u7528\u5230\u4e86\u7f51\u7edc\u6d41\uff08\u8c8c\u4f3c\uff09\u4e2d\u4e00\u4e2a\u6bd4\u8f83\u91cd\u8981\u7684\u601d\u60f3\uff1a**\u9000\u6d41\u601d\u60f3**\uff08\u5927\u6982\u5c31\u662f\u53cd\u6094\u673a\u5236\uff08\u4e5f\u5c31\u662f\u9ad8\u7ea7\u8d2a\u5fc3\uff09\uff09\uff01\n\n**\u9898\u610f\uff1a**\u4ece$n$\u2212$1$\u4e2a\u70b9\u9009\u53d6$k$\u7684\u4e0d\u76f8\u90bb\u7684\u70b9\u4f7f\u5f97\u6240\u5f97\u7b54\u6848\u6700\u5927\u3002\n\n\u6211\u5230\u8fd9\u91cc\u662f\u5148\u60f3\u5230\u4e00\u4e2a$dp$\uff0c\u7ed3\u679c\u4e00\u770b\u6570\u636e\u8303\u56f4\u76f4\u63a5\u61f5\u903c\uff0c$O(n2)$\u7528\u811a\u8dbe\u5934\u60f3\u90fd\u662f\u8fc7\u4e0d\u4e86\u7684\u3002~~\u7136\u540e\u60f3\u4e86\u60f3\u4f3c\u4e4e\u7f51\u7edc\u6d41\u4e5f\u80fd\u505a\uff0c\u4e0d\u8fc7\u590d\u6742\u5ea6\u8c8c\u4f3c\u4e5f\u8fc7\u4e0d\u53bb\u3002\u3002\u3002~~\n\n\u6839\u636e\u8fdb\u9636\u6307\u5357\uff0c\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u7ed3\u8bba\uff1a\n\u5bf9\u4e8e\u4efb\u610f\u4e00\u5bf9\uff08\u76f8\u90bb\u4e24\u4e2a\uff09\u529e\u516c\u697c $i$ , $j$ \uff0c\u5c40\u90e8\u6700\u4f18\u89e3\u53ea\u4f1a\u6709\u4e24\u79cd\u60c5\u51b5:\n\n1. \u8fde$i$\uff0c$j$\n1. \u8fde$i$-1,$i$\u548c$j$,$j+1$\n\n\u663e\u800c\u6613\u89c1\uff0c1\u60c5\u51b5\u6700\u4f18\u65f6$ i$\u22121 ,$ i $\u548c$j,j+1$\u662f\u4e0d\u80fd\u9009\u7684\u3002\n\n\u5bf9\u4e8e2\u60c5\u51b5\uff0c\u7531\u4e8e\u6240\u6709\u8ddd\u79bb\u90fd\u662f\u6b63\u6570\uff0c\u6545\u9009\u62e9$i$\u22121,$i$\u548c$j,j+1$\u4e24\u6bb5\u4e00\u5b9a\u6bd4\u53ea\u9009\u5176\u4e2d\u67d0\u4e00\u6bb5\u66f4\u4f18\u3002\n\n\u4f46\u662f\u6211\u4eec\u53d1\u73b0\u5982\u679c\u76f4\u63a5\u8d2a\u5fc3\uff0c\u4e5f\u5c31\u662f\u6bcf\u6b21\u9009\u62e9\u6700\u5c0f\u8ddd\u79bb\u7d2f\u52a0\u8fdb\u7b54\u6848\uff0c\u662f\u6709\u540e\u6548\u6027\u7684\uff0c\u56e0\u4e3a\u8fd9\u4f1a\u5bfc\u81f4\u6700\u5c0f\u8ddd\u79bb\u4e24\u4fa7\u7684\u8ddd\u79bb\u4e0d\u53ef\u9009\u62e9\uff0c\u4f46\u6700\u4f18\u89e3\u4ecd\u7136\u6709\u53ef\u80fd\u5305\u542b\u5b83\u4eec\u4e24\u4e2a\u3002\n\n\u6ce8\u610f\u5230\u6b64\u5904\u76f4\u63a5\u8d2a\u5fc3\u7684\u540e\u6548\u6027\u4ea7\u751f\u7684\u539f\u56e0**\u4ec5\u4ec5\u662f\u56e0\u4e3a\u5176\u5f71\u54cd\u4e86\u5f53\u524d\u72b6\u6001\u4e0b\u6700\u77ed\u8ddd\u79bb\u4e24\u4fa7\u7684\u8ddd\u79bb\u7684\u9009\u62e9**\uff0c\u65e2\u7136\u5982\u6b64\uff0c\u90a3\u6211\u4eec\u4e0d\u59a8\u8003\u8651\u4e00\u4e2a**\u53ef\u4ee5\u53cd\u6094\u5e76\u6d88\u9664\u4e4b\u524d\u9009\u62e9\u7684\u5f71\u54cd**\u7684\u8d2a\u5fc3\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u79cd\u8d2a\u5fc3\uff1a\u5efa\u7acb\u94fe\u88681\u223c$n$\u22121\uff0c\u5bf9\u5e94\u6240\u6709\u8ddd\u79bb\uff0c\u5e76\u6620\u5c04\u5230\u4e00\u4e2a\u4f18\u5148\u961f\u5217\u4e2d\u3002\u6bcf\u6b21\u8d2a\u5fc3\u9009\u62e9\u6700\u77ed\u8ddd\u79bb$kd$\u7d2f\u52a0\u8fdb\u7b54\u6848\uff0c\u5047\u8bbe\u5176\u6240\u5728\u4f4d\u7f6e\u4e3a$d$\uff0c\u628a$d$\u22121,$d$+1\u4e24\u6bb5\u6253\u4e0a\u6807\u8bb0\uff0c\u8868\u793a\u4e0d\u80fd\u9009\u62e9\uff0c\u518d\u5728\u94fe\u8868\u4e2d\u5220\u9664$d$\u22121,$d$,$d$+1\u7684\u8282\u70b9\uff0c\u5728\u5806\u4e2d\u4e5f\u5220\u9664\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u518d\u5728\u94fe\u8868\u539f\u6765\u7684\u4f4d\u7f6e\u52a0\u5165\u65b0\u8282\u70b9\uff0c\u5176\u6743\u503c\u4e3a$kd$\u22121+$kd$+1\u2212$kd$\uff08$k$\u4e3a\u8ddd\u79bb\u5927\u5c0f\uff09\uff0c\u540c\u65f6\u4e5f\u5728\u5806\u4e2d\u65b0\u589e\u4e00\u4e2a\u6743\u503c\u4e3a$kd$\u22121+$kd$+1\u2212$kd$\u7684\u8282\u70b9\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u5f53\u6211\u4eec\u5728\u4e4b\u540e\u7684\u72b6\u6001\u4e2d\u518d\u6b21\u9009\u62e9\u65b0\u8282\u70b9\u65f6\uff0c\u5c31\u4f1a\u6d88\u9664\u4e4b\u524d\u9009\u62e9$d$\u7684\u5f71\u54cd\uff0c\u76f8\u5f53\u4e8e\u9009\u62e9\u4e86$d$\u22121,$d$+1\u800c\u4e0d\u9009$d$\u3002\n\n\u4e0b\u56fe\u4e2d\uff0c\u9ed1\u8272\u586b\u5145\u8868\u793a\u9009\u62e9\u8be5\u6bb5\u3002\n\n\u7b2c\u4e00\u6b21\u9009\u62e9\u4f4d\u7f6e$d$\u7684\u70b9\u65f6\uff0c\u7b54\u6848$ans$=\u22ef+$kd$\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/78suk9zd.png)\n\n\u7b2c\u4e8c\u6b21\u9009\u62e9\u8be5\u4f4d\u7f6e\u7684\u70b9\uff0c\u7b54\u6848$ans$=\u22ef+$kd$+$kd$\u22121+$kd$+1\u2212$kd$=\u22ef+$kd$\u22121+$kd$+1\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/y64zujrc.png)\n\n\u6211\u4eec\u5220\u9664\u539f\u8282\u70b9\u5e76\u65b0\u589e\u8282\u70b9\u7684\u64cd\u4f5c\u5b9e\u9645\u4e0a\u76f8\u5f53\u4e8e\u5bf9\u4e00\u4e2a\u5b50\u95ee\u9898\u505a\u51fa\u4e86\u51b3\u7b56\uff0c\u5e76\u9010\u6b65\u89e3\u51b3\u89c4\u6a21\u66f4\u5927\u7684\u5b50\u95ee\u9898\u3002\n\n\u4e0b\u56fe\u4e2d\u5982\u679c\u7ea2\u6846\u5185\u8868\u793a\u5f53\u524d\u72b6\u6001\u7684\u6700\u4f18\u89e3\uff0c\u5b9e\u9645\u4e0a\u4ed6\u5c31\u662f\u8be5\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\uff0c\u5728\u4e4b\u540e\u7684\u51b3\u7b56\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e2a\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3\uff0c\u800c\u4e0d\u7528\u8003\u8651\u5176\u5185\u90e8\u662f\u5982\u4f55\u6784\u6210\u7684\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bydzv20p.png)\n\n\u6211\u4eec\u9700\u8981\u8bc1\u660e\u66f4\u4e00\u822c\u7684\u60c5\u51b5\u4ee5\u89e3\u51b3\u6574\u4e2a\u95ee\u9898\uff0c\u4e0b\u9762\u6211\u4eec\u8bc1\u660e\u5168\u5c40\u6700\u4f18\u89e3\u4e5f\u6ee1\u8db3\u8fd9\u4e2a\u6027\u8d28\u3002\n\n\u9996\u5148\uff0c\u663e\u7136\u6211\u4eec\u7684\u8d2a\u5fc3\u5177\u6709\u51b3\u7b56\u5305\u5bb9\u6027\uff0c\u4efb\u610f\u7684\u5b50\u95ee\u9898\u4e00\u5b9a\u5305\u542b\u4e86\u6bd4\u5b83\u66f4\u5c0f\u7684\u6240\u6709\u5b50\u95ee\u9898\uff08\u8fd9\u662f\u4e00\u4e2a\u533a\u95f4\u4e0a\u7684\u95ee\u9898\uff09\u3002\n\n\u6211\u4eec\u4e0d\u59a8\u4f7f\u7528\u5fae\u6270\u6cd5\u548c\u8303\u56f4\u7f29\u653e\u6cd5\u8fdb\u884c\u8d2a\u5fc3\u6b63\u786e\u6027\u7684\u8bc1\u660e\u3002\n\n\u5c1d\u8bd5\u8bc1\u660e\u6807\u8bb0\u4e0d\u53ef\u9009\u62e9\u533a\u57df\u7684\u64cd\u4f5c\u7684\u6b63\u786e\u6027\uff0c\u5047\u8bbe\u5f53\u524d\u5b50\u95ee\u9898\u72b6\u6001\u5982\u4e0b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/2x4b1ogy.png)\n\n\u5373\uff0c\u524d\u4e00\u6b65\u65f6\uff0c\u5b50\u95ee\u9898\u6700\u4f18\u89e3\u4e3a\u9ed1\u8272\u533a\u57df\uff0c\u5f53\u524d\u6700\u77ed\u8ddd\u79bb\u4e3a\u7070\u8272\u533a\u57df\u3002\n\n\u5982\u679c\u6b64\u65f6\u6211\u4eec\u9009\u62e9\u4e86\u7070\u8272\u533a\u57df\uff0c\u90a3\u4e48\u4e00\u5b9a\u6709**\u6240\u6709\u8ddd\u79bb**$>$**\u6700\u53f3\u8fb9\u7684\u90a3\u6bb5\u7070\u8272\u8ddd\u79bb**\uff0c\u4e14\u5df2\u7ecf\u9009\u62e9\u7684**\u6240\u6709\u9ed1\u8272\u533a\u57df\u7684\u4efb\u610f\u4e00\u4e2a\u7684\u8ddd\u79bb**$<$**\u7070\u8272\u533a\u57df\u7684\u8ddd\u79bb**\uff0c\u56e0\u6b64\u5728\u8fd9\u4e2a\u5b50\u95ee\u9898\u4e2d\u6211\u4eec\u4e00\u65e6\u9009\u62e9\u4e86\u7070\u8272\u533a\u57df\uff0c\u4e00\u5b9a\u4f1a\u51cf\u5c11\u4e00\u4e2a\u6bd4\u7070\u8272\u533a\u57df\u66f4\u5c0f\u7684\u8ddd\u79bb\uff0c\u589e\u52a0\u4e00\u4e2a\u6bd4\u7070\u8272\u533a\u57df\u66f4\u5927\u7684\u8ddd\u79bb\u5230\u7b54\u6848\u4e2d\uff0c\u8fd9\u4e00\u5b9a**\u4e0d\u662f**\u6700\u4f18\u89e3\u3002\n\n\u663e\u7136\u8fd9\u4e2a\u6027\u8d28\u53ef\u4ee5\u6269\u5c55\u5230\u4efb\u610f\u5b50\u95ee\u9898\uff0c\u5373\u4efb\u610f\u65f6\u523b\u505a\u51fa\u5982\u4e0a\u8d2a\u5fc3\u51b3\u7b56\u4e0d\u4f1a\u4f7f\u5f97\u7ed3\u679c\u53d8\u5dee\u3002\n\n\n\n\u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u8981\u6ce8\u610f\u4e00\u4e9b**\u7ec6\u8282**\uff1a\u94fe\u8868\u7684\u4e0a\u4e0b\u754c\u5904\u7406\uff0c\u6211\u4eec\u8981\u4fdd\u8bc1\u8868\u5934\u548c\u8868\u5c3e\u4e0d\u88ab\u9009\u62e9\uff08\u5b83\u4eec\u4e0d\u5305\u542b\u5728\u4efb\u4e00\u5b50\u95ee\u9898\u4e2d\uff09\uff0c\u53ea\u9700\u628a\u521d\u503c\u8d4b\u4e3a\u65e0\u7a77\u5927\u5373\u53ef\u3002\n\n### AC\u4ee3\u7801\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<queue>\n#define inf 0x3f3f3f3f\n#define N 100005\n#define rep(i,x,y) for (register int i=x;i<=y;++i) \nusing namespace std; \nint n,k,list,ans,pre[N],suf[N],a[N],t,T; \npriority_queue<pair< int ,int >,vector< pair < int ,int > >,greater<pair< int ,int > > > q; \nint main(){ \n\tscanf(\"%d%d\",&n,&k); \t\n\tans=0; list=0;\n\tmemset(pre,0,sizeof(pre)); \n\tmemset(suf,0,sizeof(suf));\n\twhile (q.size()) q.pop(); \n\trep(i,1,n) {\n\t\tscanf(\"%d\",&t); a[i]=t-list; list=t; \n\t\tpre[i]=i-1,suf[i]=i+1;  \n\t}\n\tpre[2]=suf[n]=0; \n\tfor(register int i=2;i<=n;++i) q.push(make_pair(a[i],i)); \n\tfor(register int i=1;i<=k;++i) {\n\t\twhile (q.top().first!=a[q.top().second]) q.pop(); \n\t\tpair< int ,int > e=q.top(); q.pop(); ans+=e.first; \n\t\tint l=pre[e.second],r=suf[e.second]; \n\t\ta[e.second]=(l&&r)?min(a[l]+a[r]-a[e.second],inf):inf; a[l]=a[r]=inf; \n\t\tsuf[pre[e.second]=pre[l]]=e.second,pre[suf[e.second]=suf[r]]=e.second;\n\t\tq.push(make_pair(a[e.second],e.second)); \n\t}\n\tprintf(\"%d\\n\",ans); \n\treturn 0; \n}\n```\n\n\u6c42\u70b9\u8d5eQwQ",
        "postTime": 1579509258,
        "uid": 225703,
        "name": "jyz666",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "\u7531\u4e8e\u81ea\u5df1\u4e0d\u60f3\u624b\u5199\u5806~~\uff08\u592a\u61d2\uff09~~\uff0c\u5c31\u51b3\u5b9a\u7528STL\u6c34\u8fc7\u53bb\uff0c\u800c\u9898\u89e3\u4e2d\u53c8\u6ca1\u6709\u7528\u4f18\u5148\u961f\u5217\u505a\u7684\uff0c\u5c31\u51b3\u5b9a\u6765\u5199\u7bc7STL\u7684\u9898\u89e3\u5566\n\n\u5177\u4f53\u8bc1\u660e\uff0c\u505a\u6cd5\u697c\u4e0a\u5927\u4f6c\u5df2\u7ecf\u8bb2\u7684\u5f88\u6e05\u695a\u4e86\uff0c\u8fd9\u9053\u9898\u7684\u91cd\u70b9\u5c31\u662f\u5904\u7406\u597d\u5408\u5e76\u3002\n```cpp\n#include <cstdio>\n#include <queue>\nusing namespace std;\nconst int inf = 1e9 + 7;\nint f[100005], l[100005], nxt[100005], pre[100005], n, k, ans;\nstruct node{int id, val;}now;\nbool operator < (node a, node b) {return a.val > b.val;}\npriority_queue <node> Q;\nint main() {\n\tscanf(\"%d %d\", &n, &k);\n\tfor(int i = 1 ; i <= n ; ++ i) scanf(\"%d\", &f[i]);\n\tfor(int i = 1 ; i < n ; ++ i) l[i] = f[i + 1] - f[i], nxt[i] = i + 1, pre[i] = i - 1;// \u9884\u5904\u7406\u51fa\u5de6\u53f3\u4e0e\u76f8\u90bb\u7684\u957f\u5ea6 \n\tnxt[n - 1] = 0;//\u5904\u7406\u8fb9\u754c\uff0c\u9632\u6b62\u8d8a\u754c\uff0c\u540e\u9762\u66f4\u597d\u5904\u7406 \n\tfor(int i = 1 ; i < n ; ++ i) Q.push((node){i, l[i]});\n\tfor(int i = 1 ; i <= k ; ++ i) {\n\t\tnow = Q.top(), Q.pop();\n\t\tif(now.val != l[now.id]) { // \u5982\u679c\u4e24\u4e2a\u503c\u4e0d\u76f8\u540c\uff0c\u5219\u5df2\u7ecf\u5408\u5e76 \n\t\t\t++ k;\n\t\t\tcontinue;\n\t\t}\n\t\tans += now.val;\n\t\tint lp = pre[now.id], rn = nxt[now.id];//\u65b0\u7684\u5de6\u53f3\u8fb9\u754c \n\t\tnxt[now.id] = nxt[rn]; pre[nxt[now.id]] = now.id; // \u66f4\u65b0\u8fb9\u754c \n\t\tpre[now.id] = pre[lp]; nxt[pre[now.id]] = now.id; // \u66f4\u65b0\u8fb9\u754c \n\t\tl[now.id] = (lp && rn) ? min(inf, l[lp] + l[rn] - l[now.id]) : inf; //\u66f4\u65b0\u5408\u5e76\u540e\u7684\u503c\n\t\t//\u82e5lp rn\u4e2d\u6709\u4e00\u4e2a\u662f0\uff0c\u90a3\u4e48\u5c31\u628a\u957f\u5ea6\u8bbe\u4e3ainf \n\t\tl[lp] = l[rn] = inf;Q.push((node){now.id, l[now.id]});//\u628a\u5408\u5e76\u540e\u7684\u6254\u8fdb\u5806\u4e2d \n\t}\n\tprintf(\"%lld\", ans);\n}\n```",
        "postTime": 1538919677,
        "uid": 44777,
        "name": "djh123",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "\u539f\u9898\u53ef\u4ee5\u8f6c\u5316\u4e3a\u5728\u4e00\u4e2a\u6570\u8f74\u4e0a\u6709n\u4e2a\u70b9\uff0c\u4ece\u91cc\u9762\u9009\u51fa2k\u4e2a\u70b9\u7ec4\u6210k\u7ec4\uff0c\u6bcf\u7ec4\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u548c\u6700\u5c0f\u3002\n\n\u9996\u5148\u8fd9\u9053\u9898\u6709\u4e00\u4e2a\u975e\u5e38\u660e\u663e\u7684\u6027\u8d28\uff0c\u6bcf\u4e2a\u70b9\u53ea\u4f1a\u548c\u4e0e\u81ea\u5df1\u76f8\u90bb\u7684\u4e24\u4e2a\u70b9\u8fde\u7ebf\u3002\n\n\u8bc1\u660e\uff1a\u5047\u8bbe\u6709a,b,c\u4e09\u4e2a\u76f8\u90bb\u70b9(a<b<c).\u5047\u8bbea\u548cc\u8fde\u8fb9\uff0c\u5982\u679cb\u6ca1\u6709\u88ab\u8fde\u8fb9\uff0c\u5219a\u4e0eb\u8fde\u8fb9\u663e\u7136\u6bd4a\u4e0ec\u4f18\u3002\n\n\u5982\u679cb\u4e0e\u53e6\u4e00\u4e2a\u70b9d\u8fde\u8fb9\uff0c\u90a3\u4e48d<a\u6216d>c\u3002\u5f53d>c\u65f6\u5982\u679ccd\u548cab\u76f8\u4e92\u8fde\u8fb9\u7684\u8bdd\u4f1a\u7701\u4e0bbc\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0cd<a\u65f6\u540c\u7406\u3002\n\n\u5bf9\u4e8e60%\u7684\u6570\u636e,n<=10000\u3002\n\n\u7ed3\u5408\u4ee5\u4e0a\u6027\u8d28\uff0c60\u5206\u7684\u505a\u6cd5\u975e\u5e38\u597d\u60f3\u3002\n\nf[i][j]\u8868\u793a\u8003\u8651\u524di\u4e2a\u70b9\uff0c\u5df2\u7ecf\u5f62\u6210j\u5bf9\u70b9\u7684\u6700\u5c0f\u8ddd\u79bb\uff0cnum[i]\u8868\u793a\u7b2ci\u4e2a\u70b9\u7684\u5750\u6807\u3002\n\n\u5982\u679c\u8fd9\u4e2a\u70b9\u4e0d\u4e0e\u5176\u4ed6\u70b9\u7ec4\u6210\u4e00\u5bf9\uff0c\u90a3\u4e48f[i][j]=f[i-1][j]\u3002\n\n\u5426\u5219\u8fd9\u4e2a\u70b9\u53ea\u80fd\u548c\u524d\u9762\u7684\u70b9\u7ec4\u6210\u4e00\u5bf9\uff0cf[i][j]=f[i-2][j-1]+num[i]-num[i-1]\u3002\n\nf[i][j]=min(f[i-1][j],f[i-2][j-1]+num[i]-num[i-1]);\n\n\u65f6\u95f4\u590d\u6742\u5ea6O(nk) \u8fd9\u9053\u9898\u7a7a\u95f4\u9650\u5236\u53ea\u670932M\uff0c\u53ef\u4ee5\u6eda\u52a8\u6570\u7ec4\u4f18\u5316\u8fc7\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u572860\u5206\u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u5206\u6790\u3002\n\n100\u5206\u7684\u6570\u636e\u70b9\u662fn<=100000\u3002\n\n\u8fd9\u4e2a\u6570\u636e\u8303\u56f4\u5982\u679c\u628ank\u4e2d\u7684\u4e00\u7ef4\u964d\u4e3alog\u7ea7\u522b\u5c31\u80fd\u8fc7\u3002\n\n\u6211\u4eec\u73b0\u5728\u53ef\u4ee5\u5bf9\u9898\u76ee\u8fdb\u884c\u8fdb\u4e00\u6b65\u8f6c\u5316\u3002\u5bf9\u539f\u6570\u7ec4\u6c42\u4e00\u4e2a\u5dee\u5206\uff0c\u7136\u540e\u9898\u76ee\u8f6c\u5316\u4e3a\u5728n-1\u4e2a\u503c\u91cc\u9009\u62e9\u4e0d\u76f8\u90bb\u7684k\u4e2a\u3002\n\n\u7ed3\u5408\u590d\u6742\u5ea6\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u8d2a\u5fc3\uff0c\u6bcf\u6b21\u627en-1\u4e2a\u503c\u91cc\u9762\u6700\u5c0f\u7684\u52a0\u5165\uff0c\u7136\u540e\u628a\u4e0e\u5b83\u76f8\u90bb\u7684\u503c\u5220\u9664\uff0c\u4f7f\u7528\u5806\u4f18\u5316\u53ef\u4ee5\u8fbe\u5230klogn\u7684\u6548\u7387\u3002\n\n\u7136\u800c\u8fd9\u79cd\u7b97\u6cd5\u5f88\u660e\u663e\u5c31\u80fd\u88ab\u8bc1\u660e\u662f\u9519\u8bef\u7684\u2026\u2026\n\n\u6bd4\u59824\u4e2a\u503c3 2 3 1000000 \u6309\u7167\u8d2a\u5fc3\u539f\u5219\u4f1a\u9009\u62e92+1000000\uff0c\u7136\u800c\u6700\u4f18\u89e3\u5f88\u660e\u663e\u662f3+3 \u2190\\_\u2190\n\n\u6240\u4ee5\u6211\u4eec\u9700\u8981\u60f3\u4e00\u4e2a\u8d2a\u5fc3\u7b56\u7565\u3002\n\n\u8fd9\u91cc\u6709\u4e00\u4e2a\u975e\u5e38\u7cbe\u5999\u7684\u8f6c\u5316\u3002\u5047\u8bbe\u5728\u539f\u5148\u7684n\u4e2a\u70b9\u4e0a\u6709abcde5\u4e2a\u76f8\u90bb\u70b9(a<b<c<d<e)\uff0c\u6211\u4eec\u628a\u5b83\u5dee\u5206\u4ee5\u540e\u5c31\u662fab,bc,cd,de\u56db\u4e2a\u503c\u3002\n\n\u5047\u8bbebc\u662f\u6700\u5c0f\u7684\u90a3\u4e2a\uff0c\u6211\u4eec\u8d2a\u5fc3\u628abc\u9009\u51fa\u6765\uff0c\u7136\u540e\u52a0\u5165\u7b54\u6848\u4ee5\u540e\u5220\u9664\u3002\u4e4b\u540e\u6211\u4eec\u540c\u65f6\u628a\u4e0ebc\u76f8\u90bb\u7684ab,cd\u53d6\u51fa\u6765\u3002\u628a\u8fd9\u4e09\u4e2a\u503c\u5168\u90fd\u5220\u9664\u540e\u5408\u6210\u4e00\u4e2a\u65b0\u7684\u503c\uff0c\u8fd9\u4e2a\u503c=ab+cd-bc\u3002\u90a3\u4e48\u5982\u679c\u6211\u4eec\u518d\u6b21\u901a\u8fc7\u8d2a\u5fc3\u539f\u5219\u628a\u8fd9\u4e2aab+cd-bc\u9009\u51fa\u6765\u52a0\u5165\u7b54\u6848\uff0c\u90a3\u4e48\u5176\u4e2d\u7684-bc\u4f1a\u548c\u4e00\u5f00\u59cb\u9009\u62e9\u7684bc\u62b5\u6d88\uff0c\u76f8\u5f53\u4e8e\u6211\u4eec\u8fd9\u4e24\u6b21\u9009\u62e9\u4e86ab+cd\uff0c\u4e5f\u5c31\u662f\u4e0ebc\u76f8\u90bb\u7684\u4e24\u6bb5\u3002\u6bcf\u4e00\u6b21\u9009\u62e9\u4f1a\u628a\u5df2\u9009\u62e9\u7684\u6bb5\u7684\u6570\u91cf+1\uff0c\u6240\u4ee5\u9009\u62e9k\u6b21\u4ee5\u540e\u7684ans\u5c31\u662f\u6700\u4f18\u89e3\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u6bcf\u6b21\u4ece\u5806\u91cc\u9009\u62e9\u4e00\u4e2a\u70b9\uff0c\u7136\u540e\u540c\u65f6\u5220\u9664\u4e0e\u4e4b\u76f8\u90bb\u7684\u70b9\uff0c\u7136\u540e\u52a0\u5165\u4e00\u4e2a\u65b0\u70b9\uff0c\u64cd\u4f5ck\u6b21\u3002\u5355\u6b21\u64cd\u4f5c\u4e3a4logn\u7684\u6548\u7387(3\u6b21\u53d6\u51fa\u548c1\u6b21\u52a0\u5165\uff09\uff0c\u6240\u4ee5\u6700\u540e\u6548\u7387\u4e3a4klogn\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u7ef4\u62a4\u4e00\u4e2a\u94fe\u8868\u8868\u793a\u6bcf\u4e2a\u503c\u7684\u524d\u9a71\u540e\u7ee7\uff0c\u5bf9\u4e8e\u8d77\u59cb\u4f4d\u7f6e\u548c\u7ed3\u675f\u4f4d\u7f6e\uff0c\u6211\u4eec\u53ef\u4ee5\u4eba\u4e3a\u521b\u9020\u4e00\u4e2a0\u53f7\u70b9\u548cn\u53f7\u70b9(\u56e0\u4e3a\u4e00\u5171n-1\u4e2a\u503c\uff0c\u6ce8\u610f\u8fd9\u91cc\u7684\u70b9\u662f\u5dee\u5206\u4ee5\u540e\u7684\uff0c\u4e0d\u8981\u548c\u539f\u6570\u7ec4\u641e\u6df7\uff09\uff0c\u5b83\u4eec\u7684\u503c\u4e3ainf\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u5904\u7406\u4e00\u4e2a\u5355\u5411\u94fe\u8868\u3002\n\n\u73b0\u5728\u8fd8\u6709\u4e24\u4e2a\u95ee\u9898\uff0c\u5982\u4f55\u4ece\u5806\u91cc\u5feb\u901f\u627e\u5230\u4e00\u4e2a\u70b9\u5bf9\u5e94\u7684\u4f4d\u7f6e\uff0c\u8fd8\u6709\u5982\u4f55\u4ece\u5806\u91cc\u5220\u9664\u4e00\u4e2a\u968f\u610f\u70b9(\u975e\u6839\u8282\u70b9)\u3002\n\n\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u5f00\u4e00\u4e2a\u6570\u7ec4f\uff0cf[i]\u8868\u793a\u7b2ci\u53f7\u70b9\u5728\u5806\u91cc\u7684\u4f4d\u7f6e\u662f\u54ea\u91cc\u3002\u5728\u7ef4\u62a4\u5806\u7684\u6027\u8d28\u65f6\u628af\u6570\u7ec4\u4e00\u5757\u4ea4\u6362\u5373\u53ef\u3002\n\n\u7b2c\u4e8c\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u8fd8\u662f\u4ece\u5806\u7684\u6700\u540e\u627e\u4e00\u4e2a\u8282\u70b9\u63d2\u5165\u4f60\u8981\u5220\u9664\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u5411\u4e0b\u7ef4\u62a4\u3002\u6ce8\u610f\u5982\u679c\u4f60\u65e0\u6cd5\u5411\u4e0b\u7ef4\u62a4\uff0c\u4f60\u9700\u8981\u5411\u4e0a\u7ef4\u62a4\uff0c\u56e0\u4e3a\u4ece\u5806\u5c3e\u5f80\u5806\u4e2d\u95f4\u7684\u968f\u610f\u8282\u70b9\u63d2\u5165\u4e00\u4e2a\u503c\u65f6\uff0c\u8fd9\u4e2a\u503c\u4e0d\u4e00\u5b9a\u6bd4\u8fd9\u4e2a\u8282\u70b9\u7684\u7236\u4eb2\u8282\u70b9\u5927\uff0c\u6bd4\u5982\u4e00\u4e2a\u5806\u6570\u7ec4\u91cc\u662f1 6 2 8 9 3 4 \u5f88\u660e\u663e\u8fd9\u6ee1\u8db3\u5806\u7684\u6027\u8d28(\u56e0\u4e3a\u4e0d\u4f1a\u63d2\u56fe\u6240\u4ee5\u5c31\u76f4\u63a5\u5199\u6570\u7ec4\u4e86\uff0c\u770b\u4e0d\u61c2\u7684\u8bf7\u81ea\u884c\u753b\u51fa\u8fd9\u4e2a\u5806)\u4f46\u662f\u5f53\u4f60\u60f3\u5220\u96648\u7684\u65f6\u5019\uff0c\u4f60\u628a4\u63d2\u51658\u7684\u4f4d\u7f6e\uff0c\u4f46\u662f4\u6bd4\u5b83\u7684\u7236\u8282\u70b96\u8fd8\u8981\u5c0f\uff0c\u6240\u4ee5\u4f60\u8fd8\u8981\u5411\u4e0a\u7ef4\u62a4\u3002\n\n\u6ce8\u610f\u5230\u8fd9\u4e00\u5768\u7ec6\u8282\u95ee\u9898\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u5f00\u59cb\u5199\u4ee3\u7801\u4e86\uff0c\u4e0b\u9762\u9644\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint    num[200005],n;\nint ans;\nint heap[200005],fheap[200005],sz;\nint pre[200005],nxt[200005],k;\nint x1,x2;\ninline void swap(int &x,int &y)\n{\n    x^=y,y^=x,x^=y;\n}\ninline void del(int x)\n{\n    heap[x]=heap[sz--];\n    fheap[heap[sz+1]]=x;\n    int now=x,nxt;\n    if(num[heap[now]]>=num[heap[now>>1]])\n    {\n        nxt=now<<1;\n        while(nxt<=sz)\n        {\n            if(nxt<sz)\n            nxt=num[heap[nxt]]<num[heap[nxt|1]]?nxt:nxt|1;\n            if(num[heap[now]]<num[heap[nxt]])\n            break;\n            swap(fheap[heap[now]],fheap[heap[nxt]]);\n            swap(heap[now],heap[nxt]);\n            now=nxt;nxt=now<<1;\n        }\n    }\n    else\n    {\n        nxt=now>>1;\n        while(nxt)\n        {\n            if(num[heap[now]]>=num[heap[nxt]])\n            break;\n            swap(fheap[heap[now]],fheap[heap[nxt]]);\n            swap(heap[now],heap[nxt]);\n            now=nxt,nxt=now>>1;\n        }\n    }\n}\ninline void push(int x)\n{\n    heap[++sz]=x;\n    fheap[x]=sz;\n    int now=sz,nxt=now>>1;\n    while(nxt)\n    {\n        if(num[heap[now]]>=num[heap[nxt]])\n        break;\n        swap(fheap[heap[now]],fheap[heap[nxt]]);\n        swap(heap[now],heap[nxt]);\n        now=nxt,nxt=now>>1;\n    }\n}\nvoid read(int &ans,char ch=getchar())\n{\n    ans=0;\n    for(;ch<'0'||ch>'9';ch=getchar());\n    for(;ch>='0'&&ch<='9';ans=ans*10+ch-48,ch=getchar());\n}\nint main()\n{\n    read(n),read(k);\n    read(x1);\n    for(int i=2;i<=n;i++)\n    {\n        pre[i]=i-1;\n        nxt[i]=i+1;\n        read(x2);\n        num[i]=x2-x1;\n        x1=x2;\n        push(i);\n    }\n    num[1]=1e9+7;\n    num[n+1]=1e9+7;\n    push(1);\n    push(++n);\n    for(int i=1;i<=k;i++)\n    {\n        int x=heap[1];\n        del(1);del(fheap[pre[x]]);del(fheap[nxt[x]]);\n        x1=num[pre[x]],x2=num[nxt[x]];\n        num[++n]=x1+x2-num[x];\n        ans+=num[x];\n        pre[n]=pre[pre[x]];\n        nxt[n]=nxt[nxt[x]];\n        nxt[pre[pre[x]]]=n;\n        pre[nxt[nxt[x]]]=n;\n        push(n);\n    }\n    printf(\"%d\",ans);\n}\n\n```",
        "postTime": 1493991066,
        "uid": 17828,
        "name": "revenger",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3620 \u3010[APIO2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "# P3620\u9898\u89e3\n\n[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P3620)\n\n## \u9898\u76ee\u5206\u6790\n\n\u5bb9\u6613\u53d1\u73b0\uff0c\u6700\u4f18\u89e3\u4e2d\u76f8\u90bb\u4e24\u4e2a\u529e\u516c\u697c\u4e00\u5b9a\u662f\u76f8\u90bb\u7684\uff0c\u6211\u4eec\u6c42\u51fa\u6bcf\u76f8\u90bb\u4e24\u4e2a\u529e\u516c\u697c\u4e4b\u95f4\u7684\u8ddd\u79bb$a$\uff0c\u8bb0\u4e3a $a_1,a_2,a_3 \u2026 a_{N-1}$ \uff0c\u90a3\u4e48\u95ee\u9898\u53ef\u4ee5\u8f6c\u5316\u4e3a\u4ece\u6570\u7ec4a\u4e2d\u9009\u51fa\u4e0d\u8d85\u8fc7K\u4e2a\u6570\uff0c\u4f7f\u4ed6\u4eec\u7684\u548c\u6700\u5c0f\uff0c\u5e76\u4e14\u76f8\u90bb\u4e24\u4e2a\u6570\u4e0d\u80fd\u540c\u65f6\u88ab\u9009\u3002\n\n[\u8fd9\u6837\u672c\u9898\u5c31\u88ab\u8f6c\u5316\u4e3a\u4e86P1484](https://www.luogu.com.cn/problem/P1484) \uff08\u4e0d\u8fc7P1484\u662f\u4e00\u4e2a\u73af\u8fd9\u662f\u4e00\u6761\u94fe\uff0c\u800c\u4e14\u672c\u9898\u6709\u591a\u7ec4\u6570\u636e\uff09\n\n\u6bd4\u5982\u6837\u4f8b\u5c31\u53ef\u4ee5\u88ab\u8f6c\u5316\u4e3a  $2,1,2,6$ \uff0c\u90a3\u4e48\u6211\u4eec\u9009\u62e9\u7b2c\u4e00\u4e2a\u548c\u7b2c\u4e09\u4e2a2\uff0c\u5c31\u5f97\u5230\u4e86\u6700\u4f18\u89e34\u3002\n\n## \u89e3\u9898\u601d\u8def\n\n\u5982\u679c K = 1\uff0c\u90a3\u4e48\u7ed3\u679c\u5c31\u662f$a$\u6570\u7ec4\u4e2d\u7684\u6700\u5c0f\u503c\u3002\n\n\u5982\u679c K = 2\uff0c\u90a3\u4e48\u5c31\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\n\n1. \u9009\u62e9\u6700\u5c0f\u503c $a_i$ \uff0c\u4e0d\u9009 $a_{i-1} ,a_{i+1} $ \uff0c\u518d\u4ece\u5269\u4e0b\u7684\u6570\u4e2d\u9009\u62e9\u6700\u5c0f\u503c\u3002\n1. \u4e0d\u9009\u6700\u5c0f\u503c $a_i$ \uff0c\u9009 $a_{i-1} ,a_{i+1} $ \u3002\n\n\u4e3a\u4ec0\u4e48\u4e0d\u9009\u6700\u5c0f\u503c $a_i$ \u5c31\u8981\u9009 $a_{i-1} ,a_{i+1} $ \u5462\uff1f\n\n\u5982\u679c\u53ea\u9009\u4e86 $a_{i-1} ,a_{i+1} $ \u4e2d\u7684\u4e00\u4e2a\uff0c\u90a3\u4e48\u628a\u9009\u4e86\u7684\u6362\u6210\u4e86 $a_i$ \u4e00\u5b9a\u66f4\u4f18\u3002\n\n\u663e\u7136$a_i , a_{i-1} ,a_{i+1} $\u90fd\u4e0d\u9009\u4e0d\u662f\u6700\u4f18\u89e3\u3002\n\n**\u6240\u4ee5\u6700\u5c0f\u503c\u5de6\u53f3\u4e24\u4fa7\u7684\u6570\u8981\u4e48\u90fd\u9009\uff0c\u8981\u4e48\u90fd\u4e0d\u9009\u3002**\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5148\u9009\u4e0a $a$ \u6570\u7ec4\u4e2d\u7684\u6700\u5c0f\u503c\uff08\u7b2c\u4e00\u79cd\u60c5\u51b5\uff09\uff0c\u7136\u540e\u5c06\u7136\u540e\u5c06 $a_{i-1},a_i,a_{i+1}$ \u4ece\u6570\u5217\u4e2d\u5220\u9664\uff0c\u5e76\u5728\u539f\u4f4d\u7f6e\u63d2\u5165\u4e00\u4e2a\u65b0\u5143\u7d20$a_{i-1}-a_i+a_{i+1}$ \u3002\u8fd9\u6837\u539f\u95ee\u9898\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a\u4ece $a$\u6570\u7ec4\u4e2d\u9009 $K-1$ \u7684\u6570\u7684\u5b50\u95ee\u9898\uff0c\u663e\u7136\u91cd\u590d\u8fd9\u4e2a\u64cd\u4f5c $k-1$\u6b21\u5c31\u53ef\u4ee5\u6c42\u51fa\u6700\u7ec8\u7ed3\u679c\u3002\n\n## \u4ee3\u7801\u5b9e\u73b0\u601d\u8def\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5efa\u7acb\u4e00\u4e2a\u94fe\u8868 Q\uff0c\u5206\u522b\u8bb0\u5f55$a_1,a_2,a_3 \u2026 a_{N-1}$ \u3002 \u518d\u5efa\u7acb\u4e00\u4e2a\u4e8c\u5143\u7ec4\u5c0f\u6839\u5806\uff0c\u6bcf\u4e2a\u5143\u7d20\u4e0e\u94fe\u8868\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u6210\u4e00\u4e00\u6620\u5c04\u5173\u7cfb\uff0c\u7b2c\u4e8c\u5143\u8bb0\u5f55\u5bf9\u5e94\u94fe\u8868\u4e2d\u7684\u6307\u9488\u3002\n\n\u6bcf\u6b21\u53d6\u51fa\u5806\u9876\uff0c\u66f4\u65b0\u7b54\u6848\u3002\u518d\u5220\u9664\u8282\u70b9\uff08\u94fe\u8868\u4e2d\u6253\u6807\u8bb0\u3001\u66f4\u65b0\u5de6\u53f3\u8282\u70b9\u6570\u7ec4\uff0c\u5c0f\u6839\u5806\u4e2d\u5220\u9664\uff09\u3001\u63d2\u5165\u65b0\u8282\u70b9\u3002\n\n\u6267\u884c$K$\u6b21\u540e\u8f93\u51fa\n\n## \u6613\u9519\u70b9\n- \u672c\u9898\u6570\u636e\u662f\u4e00\u6761\u94fe\u800c\u4e0d\u662f\u73af\n- \u8bb0\u5f97\u5f00 long long\n\n## AC\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define ull unsigned long long\n#define ll long long\n#define INF 0x3f3f3f3f\nusing namespace std;\nvoid read(int &x){\n\tint f=1;x=0;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9') {if(ch=='-') f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9') {x=x*10+ch-'0';ch=getchar();}\n\tx*=f;\n}\n#define N 100010\npriority_queue < pair <ll,int > > q;\nint n,k,le[N],r[N];\nbool v[N];\nlong long ans,a[N];\nvoid del(int x){\n\tle[r[x]]=le[x];\n\tr[le[x]]=r[x];\n\tv[x]=1;\n}\nint main(){\n\tread(n),read(k);\n\tfor(int i=1;i<=n;i++) scanf(\"%lld\",&a[i]);\n\tn--;\n\t//le[1]=n,le[n]=n-1,r[1]=2,r[n]=1;\n\tfor(int i=1;i<=n;i++){\n\t\tle[i]=i-1,r[i]=i+1;\n\t\ta[i]=a[i+1]-a[i];\n\t\tq.push(make_pair(-a[i],i));\n\t}\n\ta[0]=a[n+1]=1234567890;\n\twhile(k--){\n\t\tint x,y;\n\t\twhile(v[q.top().second]) q.pop();\n\t\tx=q.top().second;q.pop();\n\t\tans+=a[x];\n\t\t//printf(\"%lld %d\\n\",ans,x);\n\t\ta[x]=a[le[x]]+a[r[x]]-a[x];\n\t\tv[x]=0;\n\t\tdel(le[x]),del(r[x]);\n\t\tq.push(make_pair(-a[x],x));\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n\n```\n\n\n\n",
        "postTime": 1590750466,
        "uid": 235658,
        "name": "llzzxx712",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "\n\u76f8\u4fe1\u5927\u5bb6\u5df2\u7ecf\u770b\u8fc7\u5f88\u591adalao\u7684\u8bc1\u660e\u4e86\uff0c\u800c\u4e14\u672c\u849f\u84bb\u4e5f\u4e0d\u592a\u4f1a\n\n\u5c31\u4e0d\u591a\u8d58\u8ff0\u5566\uff0c\u6211\u63d0\u4f9b\u4e2a\u6570\u7ec4\u505a\u53cc\u5411\u94fe\u8868\u7684\u5427\n\n\u53cc\u5411\u94fe\u8868\u7684\u6838\u5fc3\u5c31\u662f\u7528\u4e24\u4e2a\u6570\u7ec4\u5206\u522b\u50a8\u5b58\u81ea\u5df1\u524d\u9762\u548c\u540e\u9762\u6570\u7684\u5750\u6807\n\n\u5206\u522b\u79f0\u4e3a\u524d\u9a71\uff0c\u540e\u9a71\uff08\u53cd\u6b63\u6211\u662f\u8fd9\u4e48\u53eb\u7684qwq\uff09\n\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\nll ans;\nint n, k;\nint qian[500021];//\u524d\u9a71\u6570\u7ec4\nint hou[500021];//\u540e\u9a71\u6570\u7ec4\nint a[500021];//\u8bfb\u5165\u6570\u7ec4\nset<pair<int, int> > s;//\u5806\nint main () {\n\tscanf(\"%d%d\", &n, &k);\n\tfor (int i = 0; i < n; i++) {\n\t\tscanf(\"%d\", &a[i]);\n\t\tqian[i + 1] = i;//\u524d\u9a71\u9884\u5904\u7406\n\t\thou[i] = i + 1;//\u540e\u9a71\u9884\u5904\u7406\n\t}\n\tfor (int i = n - 1; i > 0; i--) {\n\t\ta[i] -= a[i - 1];//\u6c42\u67e5\u5206\n\t\ts.insert(make_pair(a[i], i));//\u7ed1\u8d77\u6765\u585e\u8fdb\u53bb\n\t}\n\ta[0] = 1e9, a[n] = 1e9;//\u9632\u6b62\u8d8a\u754c\n\twhile (k--) {\n\t\tint x = s.begin() -> second;//\u53d6\u6700\u5c0f\u7684\u5750\u6807\n\t\ts.erase(s.begin());//\u5220\u6389\n\t\tans += a[x];//\u56e0\u4e3a\u662f\u6700\u5c0f\uff0c\u76f4\u63a5\u52a0\u5165\u7b54\u6848\n\t\ts.erase(make_pair(a[qian[x]], qian[x]));//\u5c06\u524d\u9762\u7684\u5220\u6389\n\t\ts.erase(make_pair(a[hou[x]], hou[x]));//\u5c06\u540e\u9762\u7684\u5220\u6389\n\t\ta[x] = a[qian[x]] + a[hou[x]] - a[x];//\u524d\u540e\u5408\u5e76\n\t\ts.insert(make_pair(a[x], x));//\u5408\u5e76\u540e\u518d\u7ed1\u8d77\u6765\u585e\u8fdb\u53bb\n\t\tqian[x] = qian[qian[x]];//\u66f4\u65b0\u524d\u9a71\u5750\u6807\n\t\thou[x] = hou[hou[x]];//\u66f4\u65b0\u540e\u9a71\u5750\u6807\n\t\tqian[hou[x]] = x;// i \u7684\u524d\u9a71\u7684\u540e\u9a71\u8fd8\u662f i \n\t\thou[qian[x]] = x;// i \u7684\u540e\u9a71\u7684\u524d\u9a71\u8fd8\u662f i\n\t}\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1563435265,
        "uid": 155944,
        "name": "Sundial",
        "ccfLevel": 0,
        "title": "Luogu3620   bzoj1150  \u53cc\u5411\u94fe\u8868"
    },
    {
        "content": "\u9996\u5148\uff0c\u6bcf\u6761\u7535\u7f06\u5fc5\u987b\u662f\u76f8\u90bb\u7684\u4e24\u5e62\u697c\u4e4b\u95f4\u8fde\u63a5\u7684\u3002\u5426\u5219\uff0c\u6211\u4eec\u7528\u540c\u6837\u7684\u5b57\u6bcd\u8868\u793a\u8fde\u5728\u4e00\u8d77\u7684\u4e24\u5e62\u697c\uff0c\u5982\u679c\u6709\u7c7b\u4f3c a \\* a \u7684\u60c5\u51b5\uff0c\u90a3\u4e48\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n+ a \\*  a\u4e2d\u5f53\u4e2d\u7684\u90a3\u5e62\u697c\u6ca1\u6709\u8fde\u7535\u7f06\uff0c\u90a3\u4e48\u53ef\u4ee5\u5c06\u6539\u4e3a a  a \\*\uff0c\u6bd4\u539f\u6765\u66f4\u4f18\u3002\n+ \u5982\u679c\u5f53\u4e2d\u7684\u697c\u6709\u8fde\u7535\u7f06\uff0c\u4f8b\u5982 a b a \\* \\* \\* b\uff0c\u90a3\u4e48\u5c06\u5f53\u4e2d\u7684 a \u548c b \u4ea4\u6362\u4f4d\u7f6e\uff0c\u6539\u4e3a a a b \\* \\* \\* b \u6bd4\u539f\u6765\u66f4\u4f18\u3002\n\n\u6240\u4ee5\u73b0\u5728\u53ea\u7528\u8003\u8651\u76f8\u90bb\u7684\u697c\u4e4b\u95f4\u7684\u5dee\u5373\u53ef\u3002\u5047\u8bbe $d[i]=pos[i]-pos[i-1]$\uff0c\u9898\u76ee\u5373\u6c42\u5728 $d$ \u4e2d\u9009\u62e9 $k$ \u4e2a\u4e0d\u76f8\u90bb\u7684\u6570\u3002\u6211\u4eec\u8003\u8651 $d$ \u4e2d\u6700\u5c0f\u7684\u6570 $d_k$\uff0c\u4ee5\u53ca\u5176\u4e24\u8fb9\u7684\u6570 $d_{k-1}, d_{k+1}$\u3002\n\n\u5982\u679c $d_{k-1},d_{k+1}$ \u5747\u4e0d\u9009\uff0c\u90a3\u4e48\u5982\u679c\u6ca1\u6709\u9009\u62e9 $d_k$\uff0c\u90a3\u4e48\u5c06\u9009\u62e9\u7684\u5176\u4e2d\u4e00\u4e2a\u6570\u6539\u4e3a $d_k$ \u4e00\u5b9a\u66f4\u4f18\u3002\u8bf4\u660e\u4e00\u5b9a\u9009\u62e9\u4e86 $d_k$\u3002\n\n\u5982\u679c $d_{k-1}, d_{k+1}$  \u53ea\u9009\u62e9\u4e86\u4e00\u4e2a\uff0c\u90a3\u4e48\u4e0d\u80fd\u9009\u62e9 $d_k$\uff0c\u6b64\u65f6\u5982\u679c\u5c06\u9009\u62e9\u7684\u90a3\u4e2a\u6539\u4e3a $d_k$ \u4e00\u5b9a\u66f4\u4f18\u3002\u8bf4\u660e\u4e0d\u80fd\u53ea\u9009\u4e00\u4e2a\u3002\n\n\u7efc\u4e0a\uff0c\u6211\u4eec\u8bc1\u660e\u4e86\uff1a\u8981\u4e48\u9009 $d_k$\uff0c\u8981\u4e48 $d_{k-1}, d_{k+1}$ \u540c\u65f6\u9009\u3002\n\n\u6b64\u65f6\u6211\u4eec\u8003\u8651\u600e\u4e48\u8ba8\u8bba\u8fd9\u4e24\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u8fd9\u6837\uff1a\u5148\u53d6\u51fa $d_k$\uff0c\u7d2f\u52a0\u5728\u7b54\u6848\u4e0a\uff0c\u7136\u540e\u53bb\u6389 $d_{k-1}, d_{k+1}$\uff0c\u63d2\u5165 $d_{k-1} + d_{k+1} - d_k$\u3002\u5982\u679c\u8fd9\u4e2a\u6570\u6700\u540e\u88ab\u9009\u4e86\uff0c\u76f8\u5f53\u4e8e\u5c06 $d_k$ \u66ff\u6362\u4e3a $d_{k-1}$ \u548c $d_{k+1}$\uff0c\u5426\u5219\u5c31\u662f\u9009\u62e9\u4e86 $d_k$\u3002\u8fd9\u6837\u4fbf\u9ad8\u6548\u5730\u89e3\u51b3\u4e86\u5206\u7c7b\u5730\u95ee\u9898\u3002\n\n\u5b9e\u73b0\uff1a\u4f7f\u7528\u94fe\u8868\u548c set \u5373\u53ef\u3002\n\n~~\u6700\u540e\u8bf7\u5927\u5bb6\u81ea\u89c9\u65e5\u819cUM~~\n\n[Code](https://www.luogu.com.cn/paste/rqffg67l)\n\n",
        "postTime": 1594193084,
        "uid": 319914,
        "name": "Aftershock",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3620\u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "\u76f4\u63a5\u8d2a\u5fc3(\u6bcf\u6b21\u9009\u6700\u5c0f)\u7684\u8bdd\u663e\u7136\u4e0d\u5bf9...\u6837\u4f8b\u90fd\u8fc7\u4e0d\u4e86...\n\u9009\u4e24\u4e2a\u529e\u516c\u697c\u7684\u65f6\u5019,\u663e\u7136\u4e0d\u80fd\u8de8\u8d8a\u53e6\u4e00\u4e2a\u697c,\u8fd9\u6837\u4e0d\u4f18...\n\u4e8e\u662f \u5148\u628a\u539f\u6570\u5217\u5904\u7406\u6210n-1\u4e2a\u7684\u6570(\u6bcf\u4e00\u4e2a\u529e\u516c\u697c\u548c\u4e0a\u4e00\u4e2a\u7684\u8ddd\u79bb),\u5b58\u5728a[]\u4e2d\n\u9898\u76ee\u5c31\u662f \u8981\u6c42\u9009\u51faK\u4e2a\u4e0d\u76f8\u90bb\u7684\u6570,\u4f7f\u5f97\u9009\u51fa\u7684\u6570\u7684\u548c\u6700\u5c0f\n\n\u4f9d\u7136\u8003\u8651\u8d2a\u5fc3,\u6bcf\u6b21\u9009\u6700\u5c0f\u7684 \n\u4f46\u662f\u82e5a[]\u662f2 1 2 6,\u8981\u9009K=2\u4e2a,\u5148\u9009\u4e861,\u7136\u540e\u4f1a\u53d1\u73b0\u4e24\u4e2a2\u90fd\u6ca1\u6cd5\u9009,\u53ea\u597d\u90096,\u8fd9\u6837\u5c31\u5c34\u5c2c\u4e86...\n1\u9009\u4e86\u5c31\u9009\u4e86\u5427,\u6211\u4eec\u8003\u8651\u8865\u6551\u63aa\u65bd...\n\u5c31\u662f\u90091\u7684\u65f6\u5019,\u5728\u5806\u91cc\u5220\u6389\u4e24\u4e2a2,\u7136\u540e\u5728\u5806\u4e2d\u63d2\u51652+2-1\n\u76f8\u5f53\u4e8e \u6211\u4eec\u4ee5\u540e\u53ef\u4ee5\u53d6\u5230\u90a3\u4e24\u4e2a2,\u800c\u4e142+2-1\u53ef\u4ee5\u8868\u793a\u9009\u4e86\u4e24\u4e2a\u6570,\u56e0\u4e3a\u521a\u624d\u9009\u4e861,\u6240\u4ee5\u5728\u8fd9\u91cc-1\n\n\u8fd8\u6709\u4e2a\u8fb9\u754c\u95ee\u9898...\u6bd4\u5982\u53d6\u4e86\u7b2c\u4e00\u4e2a\u6570\u6216\u6700\u540e\u4e00\u4e2a\u6570,\u90a3\u4e48\u628aa[0]\u548ca[n]\u8d4b\u6210\u6781\u5927\u503c\u5457...\n\n\u56e0\u4e3a\u8fb9\u754c\u7684\u6570 \u7684\u4e24\u4fa7 \u53ea\u6709\u4e00\u4e2a\u6709\u6548\u7684\u6570,\u65e0\u6cd5\u8865\u6551\u4e86(\u8865\u6551\u7684\u65f6\u5019\u9700\u8981\u4fe9\u6570...),\u8d4b\u6210\u6781\u5927\u503c\u90a3\u4e48\u4ee5\u540e\u90fd\u65e0\u6cd5\u53d6\u5230\n\n\u90a3\u5c31\u8981\u5b58\u50a8 \u4e00\u4e2a\u6570\u7684\u524d\u4e00\u4e2a\u6570\u662f\u591a\u5c11,\u540e\u4e00\u4e2a\u6570\u662f\u591a\u5c11(\u65b9\u4fbf\u5220\u9664)\n\n7 2 1 2 6 8 \u53d61,\u5220\u6389\u4fe92,\u7136\u540e\u65b0\u5f00\u4e00\u4e2a\u94fe\u8868\u7a7a\u95f4a[++n],\u5b58\u50a82+2-1,\u7528\u8fd9\u4e2a\u94fe\u8868\u7a7a\u95f4\u53d6\u4ee32 1 2\n\n\u65b0\u7684\u94fe\u8868\u7a7a\u95f4,\u524d\u9a71\u662f7\u6240\u5728\u4f4d\u7f6e,\u540e\u7ee7\u662f6\u6240\u5728\u4f4d\u7f6e...\u4e0d\u8981\u5fd8\u4e86\u4fee\u6539 7\u548c6 \u7684\u524d\u9a71\u548c\u540e\u7ee7...\n\n    \u7279\u522b\u5730,0\u7684\u524d\u9a71\u548cn\u7684\u540e\u7ee7\u90fd\u662f\u672c\u8eab...\u65b9\u4fbf\u4fee\u6539...\n\n\u65f6\u95f4\u590d\u6742\u5ea6 O( K*log(n) )\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm> \n#define N 100009\nusing namespace std;\nint n,dis[N],la,lheap,heap[N<<3],pos[N<<3],K,now,point[N<<3][2],prev,next;\nlong long a[N<<3],ans;\ninline void push(int x)\n{\n    int i=++lheap;\n    heap[i]=x;\n    pos[x]=i;//pos\u7528\u6765\u8bb0\u5f55\u94fe\u8868a[]\u7b2cx\u4e2a\u4f4d\u7f6e \u5728\u5806\u4e2d\u7684\u4f4d\u7f6e\n    while (i>1)\n        if (a[ heap[i] ]<a[ heap[i/2] ])\n            {\n                swap(heap[i],heap[i/2]);\n                swap(pos[ heap[i] ],pos[ heap[i/2] ]);\n                i>>=1;\n            }\n        else return;\n}\ninline int del(int x)//\u8fd9\u91cc\u5220\u9664\u7684\u65f6\u5019,\u4ec5\u4ec5\u662f\u8d4b\u4e86\u4e00\u4e2a\u6781\u5927\u503c,\u585e\u5230\u5806\u6700\u9760\u4e0b\u7684\u4f4d\u7f6e\u5566~\n{\n    int i=pos[x];\n    a[x]=1e12;\n    while (i*2<=lheap)\n        {\n            int p=i*2;\n            if ( a[ heap[p+1] ]<a[ heap[p] ] ) p++;\n            if ( a[ heap[p] ]<a[ heap[i] ] )\n                {\n                    swap(heap[i],heap[p]);\n                    swap(pos[ heap[i] ],pos[ heap[p] ]);\n                    i=p;               \n                }\n            else break;\n        }\n}\ninline int pop()\n{\n    int i=1,rt=heap[1];\n    heap[1]=heap[lheap--];\n    pos[ heap[1] ]=1;\n    while (i*2<=lheap)\n        {\n            int p=i*2;\n            if ( a[ heap[p+1] ]<a[ heap[p] ] ) p++;\n            if ( a[ heap[p] ]<a[ heap[i] ] )\n                {\n                    swap(heap[i],heap[p]);\n                    swap(pos[ heap[i] ],pos[ heap[p] ]);\n                    i=p;\n                }\n            else return rt;\n        }\n    return rt;\n}\nint main()\n{\n    int i,j,k;\n    cin>>n>>K>>dis[1];\n    a[0]=a[n]=1e12;//\u8fb9\u754c\u8d4b\u4e00\u4e2a\u6781\u5927\u503c...(\u56e0\u4e3aa[]\u4e2d\u662fn-1\u4e2a\u6570,\u540e\u8fb9\u754c\u663e\u7136\u662fn)\n    point[0][1]=1,point[0][0]=0,point[n][1]=n,point[n][0]=n-1;//\u9898\u89e3\u4e2d\u6709\u89e3\u91ca...\n    push(0),push(n);\n    for (i=1;i<n;i++)\n        {\n            scanf(\"%d\",&dis[i+1]);\n            a[i]=dis[i+1]-dis[i];\n            point[i][0]=i-1;\n            point[i][1]=i+1;\n            push(i);\n        }\n     \n    for (la=n;K;K--)\n        {\n            ans+=a[now=pop()];//pop\u5b8c\u4e86\u540e,\u8981\u5148push,\u56e0\u4e3a\u5806\u662f\u5728\u4e0d\u65ad\u6269\u5c55\u7684,pop\u540e\u90a3\u4e2a\u5143\u7d20\u4f9d\u7136\u5728heap\n            prev=point[now][0],next=point[now][1]; //\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a,push\u540e\u53ef\u4ee5\u628a\u5b83\u8986\u76d6\n            a[++la]=a[prev]+a[next]-a[now];\n \n            point[la][0]=point[prev][0];\n            point[ point[prev][0] ][1]=la;\n            point[la][1]=point[next][1];\n            point[ point[next][1] ][0]=la;\n\n            push(la);//push\u8981\u5728del\u4e4b\u524d,\n            del( prev ),del( next );\n        }\n    cout<<ans<<endl;\n}\n```\n\n",
        "postTime": 1555662262,
        "uid": 155661,
        "name": "\u5c71\u6c34\u4e00\u7a0b_",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "## \u9898\u610f\u7b80\u8ff0\n\n\u7ed9\u5b9a $n$ \u680b\u5efa\u7b51\uff0c\u9009\u51fa $k$ \u5bf9\uff0c\u4f7f\u5176\u8ddd\u79bb\u4e4b\u548c\u6700\u5c0f\u3002\n\n## \u9898\u89e3\n\n\u53ef\u4ee5\u60f3\u89c1\uff0c\u8fd9 $k$ \u5bf9\u5efa\u7b51\u6bcf\u5bf9\u90fd\u662f\u76f8\u90bb\u7684\u3002\u6211\u4eec\u8bbe $L_{i}=A_{i}-A_{i-1}$\uff0c\u5176\u4e2d $A_{i}$ \u4e3a\u9898\u76ee\u4e2d\u8f93\u5165\u7684\u5e8f\u5217\u3002\u5373 $L$ \u4e3a $A$ \u7684\u5dee\u5206\u5e8f\u5217\u3002\n\n\u7531\u4e8e\u5df2\u7ecf\u88ab\u9009\u8fc7\u7684\u4f4d\u7f6e\u4e0d\u80fd\u518d\u6b21\u88ab\u9009\uff0c\u6240\u4ee5\u5982\u679c\u6211\u4eec\u9009\u4e86 $L_{i}$ \u90a3\u4e48 $L_{i+1}$ \u548c $L_{i-1}$ \u90fd\u4e0d\u80fd\u9009\u4e86\u3002\u5982\u679c\u6211\u4eec\u9009\u4e86 $L_{i+1}$ \u548c $L_{i-1}$ \u90a3\u4e48\u6211\u4eec\u4e5f\u4e0d\u80fd\u9009 $L_{i}$ \u4e86\u3002\n\n\u6211\u4eec\u8bbe $L$ \u4e2d\u7684\u6700\u5c0f\u503c\u4e3a $L_{m}$\u3002\u8003\u8651\u5f53\u524d\u60c5\u51b5\u7684\u6bcf\u4e00\u4e2a\u6700\u4f18\u89e3\uff0c\u5219\u53ea\u6709\u4ee5\u4e0b\u4e24\u79cd\u60c5\u5f62\uff1a\n\n1. \u9009 $L_{m}$\n\n2. \u9009 $L_{m+1}$ \u548c $L_{m-1}$\n\n\u5982\u6b64\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u7b56\u7565\uff1a\u6bcf\u6b21\u9009\u62e9 $L$ \u4e2d\u7684\u6700\u5c0f\u503c\u5373 $L_{m}$\uff0c\u7136\u540e\u5220\u9664 $L_{m},L_{m-1},L_{m+1}$\u3002\u5982\u679c\u6211\u4eec\u9009\u62e9\u4e86 $L_{m+1}+L_{m-1}-L_{m}$ \u7684\u8bdd\uff0c\u5373\u5220\u9664 $L_{m}$\uff0c\u9009\u62e9 $L_{m}$\u3002\u5426\u5219\u5373\u8ba4\u4e3a\u9009\u62e9 $L_{m}$ \u662f\u5f53\u524d\u7684\u6700\u4f18\u7b56\u7565\u3002\n\n\u601d\u8def\u6765\u81ea\u674e\u715c\u4e1c\u7684\u84dd\u4e66\u3002\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n\nusing namespace std;\n\nconst int N = 1e5 + 5;\nint n, k, tot, rhs, ans, dis[N], lists[N];\n\nstruct ListNode {\n\tstruct LinkList {\n\t\tint prev, next;\n\t\tint val, id;\n\t} p[N];\n\t\n\tvoid remove(int x) {\n\t\tp[p[x].prev].next = p[x].next;\n\t\tp[p[x].next].prev = p[x].prev;\n\t}\n} list;\n\nstruct HeapNode {\n\tstruct Heap {\n\t\tint val, id;\n\t} h[N];\n\t\n\tvoid upward(int x) {\n\t\twhile (x > 1) {\n\t\t\tif (h[x].val < h[x >> 1].val) {\n\t\t\t\tswap(h[x], h[x >> 1]);\n\t\t\t\tswap(list.p[h[x].id].id, list.p[h[x >> 1].id].id);\n\t\t\t\tx >>= 1;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t}\n\t\n\tvoid downward(int x) {\n\t\tint s = x << 1;\n\t\twhile (s <= tot) {\n\t\t\tif (s < tot && h[s].val > h[s + 1].val) ++s;\n\t\t\tif (h[s].val < h[x].val) {\n\t\t\t\tswap(h[s], h[x]);\n\t\t\t\tswap(list.p[h[s].id].id, list.p[h[x].id].id);\n\t\t\t\tx = s;\n\t\t\t\ts = x << 1;\n\t\t\t}\n\t\t\telse break;\n\t\t}\n\t}\n\t\n\tvoid remove(int x) {\n\t\tif (x == --tot + 1) return ;\n\t\tswap(h[x], h[tot + 1]);\n\t\tswap(list.p[h[x].id].id, list.p[h[tot + 1].id].id);\n\t\tupward(x);\n\t\tdownward(x);\n\t}\n\t\n\tvoid extract(int x) {\n\t\th[1] = h[n--];\n\t\tdownward(1);\n\t}\n\t\n\tint backtop() {\n\t\treturn h[1].val;\n\t}\n} heap;\n\nsigned main() {\n\tscanf(\"%d %d %d\", &n, &k, &rhs);\n\tfor (int i = 1; i < n; ++i) {\n\t\tint x; scanf(\"%d\", &x);\n\t\tlist.p[i].val = x - rhs;\n\t\tlist.p[i].prev = i - 1;\n\t\tlist.p[i].next = i + 1;\n\t\tlist.p[i].id = ++tot;\n\t\trhs = x;\n\t\theap.h[tot].val = list.p[i].val;\n\t\theap.h[tot].id = i;\n\t\theap.upward(tot);\n\t}\n\tfor (int i = 1; i <= k; ++i) {\n\t\tans += heap.backtop();\n\t\tif (!list.p[heap.h[1].id].prev || list.p[heap.h[1].id].next == n) {\n\t\t\tif (!list.p[heap.h[1].id].prev) {\n\t\t\t\theap.remove(list.p[list.p[heap.h[1].id].next].id);\n\t\t\t\tlist.remove(list.p[heap.h[1].id].next);\n\t\t\t}\n\t\t\telse {\n\t\t\t\theap.remove(list.p[list.p[heap.h[1].id].prev].id);\n\t\t\t\tlist.remove(list.p[heap.h[1].id].prev);\n\t\t\t}\n\t\t\tlist.remove(heap.h[1].id);\n\t\t\theap.remove(1);\n\t\t}\n\t\telse {\n\t\t\tint temp = heap.h[1].id;\n\t\t\theap.h[1].val = list.p[list.p[heap.h[1].id].prev].val + list.p[list.p[heap.h[1].id].next].val - list.p[heap.h[1].id].val;\n\t\t\tlist.p[heap.h[1].id].val = heap.h[1].val;\n\t\t\theap.downward(1);\n\t\t\theap.remove(list.p[list.p[temp].prev].id);\n\t\t\theap.remove(list.p[list.p[temp].next].id);\n\t\t\tlist.remove(list.p[temp].prev);\n\t\t\tlist.remove(list.p[temp].next);\n\t\t}\n\t}\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}\n```",
        "postTime": 1590126841,
        "uid": 161849,
        "name": "cirnovsky",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "#### [\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/wxy-max/p/12834098.html)\n---\n# \u66b4\u529b\n## \u601d\u8def\n\u9996\u5148\u8fd9\u9053\u9898\u6709\u4e00\u4e2a\u6781\u4e3a\u660e\u663e\u7684\u6027\u8d28\uff1a\u8981\u4f7f\u6bcf\u6bb5\u6700\u77ed\uff0c\u53ea\u80fd\u4f7f\u5176\u8fd9\u4e00\u6bb5\u53ea\u7ecf\u8fc7\u4e24\u4e2a\u7aef\u70b9\uff0c\u4e2d\u95f4\u4e0d\u7ecf\u8fc7\u4efb\u4f55\u5efa\u7b51\u3002\n\n\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u6027\u8d28\uff0c\u679a\u4e3e\u6bcf\u7ec4\u53ef\u884c\u65b9\u6848\uff0c\u6700\u540e\u9009\u51fa\u957f\u5ea6\u524d$k$\u5c0f\u7684\u65b9\u6848\u3002\n\n## \u590d\u6742\u5ea6\u5206\u6790\n\u56e0\u4e3a\u4e00\u5171\u6709$n$\u4e2a\u5efa\u7b51\uff0c\u5b58\u5728$n-1$\u4e2a\u95f4\u9694\uff0c\u6bcf\u4e2a\u95f4\u9694\u90fd\u6709\u9009\u6216\u4e0d\u9009\u7684\u4e24\u79cd\u53ef\u80fd\uff0c\u56e0\u6b64\u66b4\u529b\u679a\u4e3e\u7684\u590d\u6742\u5ea6\u4e3a$O(2^n)$\u3002\n\n# \u6b63\u89e3\uff08\u8d2a\u5fc3\uff09\n\n## \u601d\u8def\n\u6211\u4eec\u4ece\u9898\u76ee\u7ed9\u51fa\u7684\u6837\u4f8b\u5f00\u59cb\u624b\u73a9\u3002\n\n\u5982\u56fe\uff0c\u5b9a\u4e49$F[i]$\u4e3a\u7b2c$i$\u4e2a\u95f4\u9694\u7684\u8ddd\u79bb\u3002\n![](https://cdn.luogu.com.cn/upload/image_hosting/7ixdjuk5.png)\n\n\u90a3\u4e48\u5f88\u663e\u7136\uff0c\u5982\u679c\u6211\u4eec\u8981\u60f3\u8ba9\u5f53\u524d\u65b9\u6848\u7684\u8ddd\u79bb\u603b\u548c\u5c3d\u53ef\u80fd\u5c0f\uff0c\u80af\u5b9a\u8981\u4f18\u5148\u9009\u5f53\u524d\u8ddd\u79bb\u6700\u5c0f\u7684\u3002\u6211\u4eec\u5b9a\u4e49$F[u]$\u4e3a\u96c6\u5408$F$\u4e2d\u6700\u5c0f\u7684\u5143\u7d20\u3002\n\n\u90a3\u4e48\u6211\u4eec\u662f\u4e0d\u662f\u53ef\u4ee5\u6bcf\u6b21\u9009\u53d6\u6211\u4eec\u80fd\u9009\u7684\u6700\u5c0f\u7684\u5143\u7d20\u5462\uff1f\u6839\u636e\u6837\u4f8b\u6765\u770b\u5f88\u663e\u7136\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a\u4f60\u80fd\u9009\u7684\u6700\u5c0f\u7684\u5143\u7d20\u53ef\u80fd\u975e\u5e38\u5927\uff0c\u8fdc\u5927\u4e8e$F[u-1]$\u4e0e$F[u+1]$\u3002\n\n\u800c\u6839\u636e\u7ed9\u51fa\u7684\u6837\u4f8b\uff0c\u6211\u4eec\u9009\u4e2d\u7684\u4e24\u4e2a\u5143\u7d20\u5168\u5c40\u6700\u5c0f\u503c$F[u]$\u4e24\u8fb9\u7684\u5143\u7d20$F[u-1]$\u4e0e$F[u+1]$\u3002\u90a3\u4e48\u5f88\u663e\u7136\u6211\u4eec\u5c31\u6709\u4e86\u4ee5\u4e0b\u51e0\u79cd\u9009\u62e9\u65b9\u6cd5\uff1a\n\n1.\u9009\u62e9\u5168\u5c40\u6700\u5c0f\u503c$F[u]$\uff0c\u4e0e\u9664\u4e86$F[u-1]$\u548c$F[u+1]$\u7684\u5168\u5c40\u6700\u5c0f\u503c\u3002\n\n2.\u9009\u62e9\u5168\u5c40\u6700\u5c0f\u503c$F[u]$\u4e24\u8fb9\u7684\u5143\u7d20\u5176\u4e2d\u4e00\u4e2a$F[u-1]$\u6216$F[u+1]$\u5e76\u9009\u53d6\u5176\u4ed6\u5143\u7d20\u4f7f\u5176\u5c3d\u91cf\u5c0f\u3002\n\n\u800c\u5bf9\u4e8e\u65b9\u6848\u4e8c\u6765\u8bf4\uff0c\u5982\u679c\u6211\u4eec\u8981\u8ba9\u65b9\u6848\u800c\u7684\u72b6\u6001\u7a7a\u95f4\u8fdb\u4e00\u6b65\u7f29\u5c0f\uff0c\u5373\u8ba9\u5176\u72b6\u6001\u7a7a\u95f4\u6240\u5305\u62ec\u7684\u5143\u7d20\u5c3d\u91cf\u5c11\u5e76\u4e0d\u9057\u6f0f\u6240\u53ef\u80fd\u662f\u7b54\u6848\u7684\u5143\u7d20\uff0c\u90a3\u4e48\u9009\u53d6\u4e86$F[u-1]$\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u4e00\u5b9a\u8981\u9009\u53d6$F[u+1]$\uff0c\u53cd\u4e4b\u4ea6\u662f\u5982\u6b64\uff0c\u800c\u4e0d\u80fd\u5728\u5176\u4ed6\u5143\u7d20\u4e2d\u201c\u627e\u5c0f\u4e09\u201d\u3002\n\n\u4e3a\u4ec0\u4e48\uff1f\n\n\u56e0\u4e3a\u5982\u679c\u6211\u4eec\u9009\u53d6\u4e86$F[u-1]$\u4e0e\u4e00\u4e2a\u5143\u7d20$F[a]$\uff0c\u90a3\u4e48\u5fc5\u7136\u6709$F[a] + F[u] < F[u-1]+F[u]$\uff0c\u800c\u5bf9\u4e8e$F[u+1]$\u4e5f\u662f\u5982\u6b64\u3002\n\n#### \u5373\u6700\u5c0f\u503c\u4e24\u4fa7\u7684\u70b9\u8981\u4e48\u5168\u9009\uff0c\u8981\u4e48\u5168\u4e0d\u9009\u3002\n\n\u6240\u4ee5\uff0c\u5982\u679c\u6211\u4eec\u9009\u62e9\u4e86$F[u+1]$\u4e0e$F[u-1]$\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\uff0c\u6211\u4eec\u5fc5\u987b\u9009\u62e9\u5176\u4ee4\u4e00\u4e2a\u624d\u80fd\u4f7f\u5176\u72b6\u6001\u7a7a\u95f4\u5c3d\u91cf\u5c0f\uff0c\u590d\u6742\u5ea6\u5c3d\u91cf\u4f18\u3002\n\n\u90a3\u4e48\u5bf9\u4e8e$k=2$\u6211\u4eec\u5c31\u63a8\u51fa\u4e86\u4e24\u79cd\u57fa\u672c\u7684\u9009\u6cd5\uff1a\n\n1.\u9009\u62e9\u5168\u5c40\u6700\u5c0f\u503c$F[u]$\uff0c\u4e0e\u9664\u4e86$F[u-1]$\u548c$F[u+1]$\u7684\u5168\u5c40\u6700\u5c0f\u503c\u3002\n\n2.\u9009\u62e9\u5168\u5c40\u6700\u5c0f\u503c$F[u]$\u4e24\u8fb9\u7684\u5143\u7d20$F[u+1]$\u4e0e$F[u-1]$\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u6bd4\u8f83$F[u]$\u4e0e\u5408\u6cd5\u7684\u5168\u5c40\u6700\u5c0f\u503c$F[v]$\u7684\u548c$F[u]+F[v]$\u4e0e$F[u+1]+F[u-1]$\u7684\u7b54\u6848\u6765\u5f97\u5230\u7b54\u6848\u3002\n\n\u90a3\u4e48\u6211\u4eec\u8fd9\u79cd\u601d\u8def\u80fd\u5426\u63a8\u5e7f\u5230$k>2$\u7684\u60c5\u51b5\u5462\uff1f\n\n\u6211\u4eec\u53ef\u4ee5\u5148\u627e\u5230\u5168\u5c40\u6700\u5c0f\u503c$F[u]$\uff0c\u7ef4\u62a4\u4e00\u4e2a\u96c6\u5408$S$\uff0c\u5c06$F[u-1]+F[u-1]$\u4e0e$F$\u96c6\u5408\u4e2d\u9664\u4e86$F[u]$ $F[u-1]$\u53ca$F[u+1]$\u4ee5\u5916\u7684\u5143\u7d20\u4e0e$F[u]$\u76f8\u52a0\u540e\u52a0\u5165\u96c6\u5408\u7ef4\u62a4\uff0c\u5e76\u5c06\u95ee\u9898\u8f6c\u5316\u4e3a\u201c\u6c42\u89e3\u4ece$F$\u96c6\u5408\u4e2d\u9009\u51fa\u4e0d\u8d85\u8fc7$K-1$\u4e2a\u6570\uff0c\u4f7f\u5176\u548c\u6700\u5c0f\u201d\u3002\n\n\n\u800c\u6211\u4eec\u5982\u679c\u9009\u62e9\u4e86$F[u+1]+F[u-1]$\u8fd9\u4e2a\u72b6\u6001\u8bf4\u660e\u6211\u4eec\u76ee\u524d\u9009\u62e9\u7684\u6700\u4f18\u7b54\u6848\u4e2d\u4e0d\u5305\u62ec$F[u]$,\u5c06\u7b54\u6848\u66f4\u65b0\u4e3a$F[u+1]+F[u-1]$\u5982\u679c\u9009\u62e9\u4e86$F[v]$\uff0c\u5219\u5c06$F[v]$\u66f4\u65b0\u4e3a\u7b54\u6848\u3002\u800c\u5982\u679c\u662f\u524d\u8005\uff0c\u6211\u4eec\u5219\u9700\u8981\u5c06$S$\u96c6\u5408\u4e2d\u7684\u5143\u7d20\u5168\u90fd\u66f4\u65b0\u4e3a$F[u+1]+F[u-1]+F[i]$\uff0c\u800c\u5bf9\u4e8e\u8fd9\u4e2a\u72b6\u6001\u800c\u8a00\u6211\u4eec\u540c\u6837\u6709\u4e24\u79cd\u9009\u62e9\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u5408\u6cd5\u7684\u6700\u5c0f\u7684$F[v]$\u6216\u8005\u9009\u62e9$F[u-2]$,$F[u]$\uff0c\u4e0e$F[u+2]$\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5c06$F[u-2]$,$F[u]$\u4e0e$F[u+2]$\u4e00\u540c\u52a0\u5165\u96c6\u5408$S$\u7ef4\u62a4\u3002\u800c\u5bf9\u4e8e\u540e\u8005\uff0c\u6211\u4eec\u7684\u9009\u62e9\u65b9\u6848\u540c\u6837\u4e3a$F[u]+F[u+2]$\u4e0e$F[v]$\u3002\n\n\u800c\u5176\u4e2d$F$\u96c6\u5408\u56e0\u4e3a\u6211\u4eec\u8981\u5feb\u901f\u5730\u627e\u51fa\u5e76\u4fee\u6539\u67d0\u4e2a\u5143\u7d20\u524d\u9762\u7684\u5143\u7d20\u7684\u524d\u9762\u7684\u5143\u7d20\u4e0e\u540e\u9762\u7684\u5143\u7d20\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u94fe\u8868\u7ef4\u62a4\uff0c\u800c$S$\u96c6\u5408\u8981\u5feb\u901f\u627e\u51fa\u6700\u5c0f\u7684\u5143\u7d20\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u5c0f\u6839\u5806\u7ef4\u62a4\u3002\n\n\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u521d\u59cb\u5316$ans=0$\uff0c$F$,$S$\uff08\u5168\u90e8\u5143\u7d20\u5747\u52a0\u5165\u5230$F$\u4e0e$S$\u96c6\u5408\uff09\uff0c\u6bcf\u6b21\u5c06\u5806\u9876\u53d6\u51fa\u52a0\u5230$ans$\uff0c\u5e76\u5728\u94fe\u8868\u4e2d\u79fb\u9664\u5806\u9876\u6240\u5bf9\u5143\u7d20\u4e0e\u5806\u9876\u6240\u5bf9\u5143\u7d20\u7684\u524d\u9a71\u4e0e\u540e\u7ee7\uff0c\u5728\u5806\u4e2d\u79fb\u9664\u5806\u9876\u6240\u5bf9\u5e94\u7684\u524d\u9a71\u4e0e\u540e\u7ee7\u3002\u5c06\u5806\u9876\u7684\u524d\u9a71\u4e0e\u540e\u7ee7\u7684\u548c\u51cf\u53bb\u5806\u9876\u7684\u503c\u63d2\u5165\u5806\u4e2d\u7ef4\u62a4\uff0c\u5e76\u5728\u94fe\u8868\u4e2d\u63d2\u5165\u5143\u7d20\uff0c\u5176\u524d\u9a71\u4e3a\u5806\u9876\u6240\u5bf9\u5143\u7d20\u7684\u524d\u9a71\u7684\u524d\u9a71\uff0c\u540e\u7ee7\u4e3a\u5806\u9876\u6240\u5bf9\u5143\u7d20\u540e\u7ee7\u7684\u540e\u7ee7\u3002\u91cd\u590d$k$\u6b21\u5f97\u5230\u7684\u5c31\u4e3a\u7b54\u6848\u3002\n\n## \u590d\u6742\u5ea6\u5206\u6790\n\n\u521d\u59cb\u5316\u94fe\u8868\u7684\u590d\u6742\u5ea6\u4e3a$O(n)$\uff0c\u521d\u59cb\u5316\u4e8c\u53c9\u5806\u7684\u590d\u6742\u5ea6\u4e3a$O(n\\ log\\ n)$\u3002\n\n\u800c\u94fe\u8868\u4e0e\u5806\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u6700\u591a\u8fdb$n$\u6b21\u5220$n$\u6b21\uff0c\u56e0\u6b64\u603b\u7684\u590d\u6742\u5ea6\u4e3a$O(n\\ log\\ n)$\n\n## \u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint f[100010],a[100010],pre[100010],next[100010],v[100010];\nint n,m,p,i,x,ans;\n\nvoid up(int p)\n{\n\twhile(p>1)\n\t\tif(a[f[p]]<a[f[p>>1]])\n\t\t{\n\t\t\tswap(f[p],f[p>>1]);\n\t\t\tswap(v[f[p]],v[f[p>>1]]);\n\t\t\tp>>=1;\n\t\t}\n\t\telse break;\n}\n\nvoid down(int l,int r)\n{\n\tint t=2*l;\n\twhile(t<=r)\n\t{\n\t\tif(t<r&&a[f[t]]>a[f[t+1]]) t++;\n\t\tif(a[f[l]]>a[f[t]])\n\t\t{\n\t\t\tswap(f[l],f[t]);\n\t\t\tswap(v[f[l]],v[f[t]]);\n\t\t\tl=t,t=2*l;\n\t\t}\n\t\telse break;\n\t}\n}\n\nvoid insert(int x)\n{\n\tf[++p]=x; v[x]=p;\n\tup(p);\n}\n\nvoid erase(int x)\n{\n\tf[v[x]]=f[p]; v[f[p]]=v[x]; p--;\n\tup(v[x]),down(v[x],p);\n}\n\nint main()\n{\n\tcin>>n>>m;\n\tfor(i=1;i<=n;i++) scanf(\"%d\",&a[i]);\n\tfor(i=1;i<n;i++)\n\t{\n\t\ta[i]=a[i+1]-a[i];\n\t\tnext[i]=i+1,pre[i+1]=i;\n\t\tinsert(i);\n\t}\n\tfor(i=1;i<=m;i++)\n\t{\n\t\tx=f[1]; ans+=a[x];\n\t\tif(pre[x]==0&&next[x]==n) break;\n\t\tif(pre[x]==0)\n\t\t{\n\t\t\terase(x),erase(next[x]);\n\t\t\tpre[next[next[x]]]=0;\n\t\t}\n\t\telse if(next[x]==n)\n\t\t{\n\t\t\terase(x),erase(pre[x]);\n\t\t\tnext[pre[pre[x]]]=n;\n\t\t}\n\t\telse{\n\t\t\terase(x),erase(pre[x]),erase(next[x]);\n\t\t\ta[x]=a[pre[x]]+a[next[x]]-a[x];\n\t\t\tinsert(x);\n\t\t\tpre[x]=pre[pre[x]]; next[pre[x]]=x;\n\t\t\tnext[x]=next[next[x]]; pre[next[x]]=x;\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0; \n}\n```\n\n\n",
        "postTime": 1588701985,
        "uid": 317459,
        "name": "RyexAwl",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011\uff08\u8d2a\u5fc3\uff0c\u4e8c\u53c9\u5806\uff09"
    },
    {
        "content": "### \u53ef\u53cd\u6094\u7684\u8d2a\u5fc3\uff01\uff01\uff01\n\u770b\u5230\u9898\u9762\uff0c\u5f88\u663e\u7136\u53ef\u4ee5\u5f97\u5230\u6bcf\u680b\u5199\u5b57\u697c\u5fc5\u5b9a\u8981\n\u548c\u5176\u76f8\u90bb\u7684\u5199\u5b57\u697c\u76f8\u8fde\u63a5\u3002\n\n\u5f88\u81ea\u7136\u7684\u7528\u5806\u6765\u7ef4\u62a4\u3002\n\n\u53ef\u662f\u5426\u662f\u6bcf\u6b21\u5c06\u5806\u9876\u7684\u672a\u53d6\u7ebf\u6bb5\u53d6\u8d70\uff0c\u5e76\u6253\u6807\u8bb0\u5462\uff1f\n\n\u7531\u6837\u4f8b\u5c31\u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u662f\u4e0d\u884c\u7684\u3002\u3002\n\n\u90a3\u4e48\u8be5\u600e\u4e48\u529e\u5462\uff1f\n\n\u4e8e\u662f\u6211\u4eec\u8981\u7ed9\u7a0b\u5e8f\u4e00\u4e2a\u201c\u540e\u6094\u201c\u7684\u673a\u4f1a\uff1a\u5c06\u5f39\u51fa\u7684\u4e24\u4fa7\u529e\u516c\u697c\u5bf9\u5408\u4e3a\u4e00\u5bf9\uff0c\u5176\u8ddd\u79bb\u4e3a\u4e24\u4e2a\u529e\u516c\u697c\u5bf9\u7684\u8ddd\u79bb\u548c-\u5f39\u51fa\u7684\u529e\u516c\u697c\u8ddd\u79bb\u3002\n\n\u8fd9\u6837\u6211\u4eec\u53d6\u8fd9\u4e2a\u5bf9\u7684\u65f6\u5019\u5c31\u76f8\u5f53\u4e8e\u51cf\u53bb\u4e86\u4e2d\u95f4\u7684\u5bf9\u800c\u53d6\u4e86\u65c1\u8fb9\u4e24\u4fa7\u7684\u5bf9\uff0c\u5c31\u662f\u4e00\u4e2a\u201c\u540e\u6094\u201d\u7684\u8fc7\u7a0b\u5566\uff01\n\n\u7ef4\u62a4\u4e24\u4fa7\u7684\u5bf9\u53ef\u4ee5\u7528\u94fe\u8868\u6765\u5b9e\u73b0\u3002\n\n**\u6ce8\u610f\u4e00\u5b9a\u8981\u6e05\u7a7a\u6709\u5173\u53d8\u91cf\uff1b** \n## \u4ee3\u7801\u5982\u4e0b\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define reg register\n#define rep(a,b,c) for(reg int a=(b),a##_end_=(c); a<=a##_end_; ++a)\n#define drep(a,b,c) for(reg int a=(b),a##_end_=(c); a>=a##_end_; --a)\n#define debug(x) cerr<<#x<<\" = \"<<x<<endl;\nint Read() {\n    int res=0,f=1;\n    char c;\n    while(c=getchar(),c<48)if(c=='-')f=-1;\n    do res=(res<<3)+(res<<1)+(c^48);\n    while(c=getchar(),c>=48);\n    return res*f;\n}\nvoid Min(double &A,double B) {\n    if(A>B)A=B;\n}\nconst int M=1e5+5;\nint n,k,Ans,A[M],S[M],L[M],R[M];\nbool vis[M];\nvoid Add(int num) {\n    L[num]=num-1,R[num]=num+1;\n}\nvoid Del(int num) {\n    vis[num]=1;\n    L[R[num]]=L[num];\n    R[L[num]]=R[num];\n}\nstruct node {\n    int id;\n    bool operator<(node _)const {\n        return S[id]>S[_.id];\n    }\n};\npriority_queue<node>Q;\nint main() {\n    n=Read(),k=Read();\n    rep(i,1,n)A[i]=Read(),L[i]=i-1,R[i]=i+1;\n    rep(i,1,n-1) {\n        S[i]=A[i+1]-A[i];\n        Q.push((node)<%i%>);\n    }\n    S[0]=S[n]=1e9;\n    rep(i,1,k){\n        node Now=Q.top();\n        Q.pop();\n        if(vis[Now.id]) {\n            i--;\n            continue;\n        }\n        Ans+=S[Now.id];\n        S[Now.id]=S[L[Now.id]]+S[R[Now.id]]-S[Now.id];\n        Del(L[Now.id]),Del(R[Now.id]);\n        Q.push((node)<%Now.id%>);\n    }\n    printf(\"%d\",Ans);\n}\n```",
        "postTime": 1559899001,
        "uid": 137284,
        "name": "dsjkafdsaf",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    },
    {
        "content": "\u9996\u5148\u5462\n\n\u7b80\u8981\u9898\u610f\uff1a\n\n\u4ece$n$\u4e2a\u70b9\u4e2d\u9009\u53d6$k$\u4e2a\u70b9\uff0c\u6700\u5c0f\u5316\u6bcf\u5bf9\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\n\n\u660e\u786e\u4e00\u70b9\uff1a\u8981\u4f7f\u5f97\u6bcf\u5bf9\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u6700\u5c0f\uff0c\u90a3\u8fd9\u4e24\u4e2a\u70b9\u4e00\u5b9a\u662f\u76f8\u90bb\u7684\n\n\u7531\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u7b80\u5355\u7684\u60f3\u6cd5\uff1a\u5c06\u8ddd\u79bb\u4e24\u4e24\u5dee\u5206\uff0c\u76f4\u63a5\u4ece\u4e2d\u9009\u51fa\u6700\u5c0f\u7684$k$\u4e2a\n\n\u4f46\u662f\uff0c\u8fd9\u6837\u7684\u60f3\u6cd5\u5b58\u5728\u4e00\u79cd\u53ef\u80fd\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u6240\u9009\u53d6\u7684$k$\u4e2a\u8ddd\u79bb\u53ef\u80fd\u91cd\u590d\u9009\u53d6\u4e24\u4e2a\u76f8\u540c\u7684\u529e\u516c\u697c\u3002\u4e0d\u6ee1\u8db3\u9898\u4e2d\u6240\u8a00\"**\u4efb\u4e00\u4e2a\u529e\u516c\u697c\u90fd\u5c5e\u4e8e\u552f\u4e00\u7684\u914d\u5bf9\u7ec4(\u6362\u53e5\u8bdd\u8bf4\uff0c\u8fd9 2K \u4e2a\u529e\u516c\u697c\u4e00\u5b9a\u662f\u76f8\u5f02\u7684)**\"\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u5047\u8bbe\u9009\u53d6\u4e86\u5dee\u5206\u540e\u7684\u7b2c$i$\u6bb5\uff0c\u5219\u7b2c$i-1$\u6bb5\u548c\u7b2c$i+1$\u6bb5\u5747\u65e0\u6cd5\u88ab\u9009\u53d6\uff0c\u4f46\u6700\u7ec8\u7b54\u6848\u4e5f\u53ef\u80fd\u662f\u9009\u53d6\u7b2c$i$\u6bb5\u548c$i+1$\u6bb5\n\n\u56e0\u6b64\u53ef\u4ee5\u518d\u9009\u53d6\u4e86\u7b2c$i$\u6bb5\u540e\uff0c\u5c06\u7b2c$i-1$\u548c\u7b2c$i+1$\u6bb5\u6807\u4e3a\u4e0d\u53ef\u9009\uff0c\u518d\u5c06$len[i-1]+len[i+1]-len[i]$\u52a0\u5165\u53ef\u9009\u6bb5\u4e2d\uff0c\u4ee3\u8868\u540c\u65f6\u9009\u62e9\u7b2c$i-1$\u548c\u7b2c$i+1$\u6bb5\u3002\n\uff08ps:$len[i]$\u4ee3\u8868\u5dee\u5206\u6570\u7ec4\uff09\n  \n\u90a3\u8981\u540c\u65f6\u9009\u62e9\u7b2c$i-1$\u548c\u7b2c$i+2$\u6bb5\u5462\uff1f\n\n\u5982\u679c\u540c\u65f6\u9009\u62e9\u7b2c$i-1$\u548c\u7b2c$i+2$\u6bb5\u800c\u4e0d\u662f\u7b2c$i-1$\u548c\u7b2c$i+1$\u6bb5\u7684\u8bdd\u5219\u5fc5\u987b\u8981\u6ee1\u8db3$len[i+2] \\leq len[i+1]$\n\u5148\u9009\u62e9\u7b2c$i$\u6bb5\u7684\u6761\u4ef6\u662f$len[i] \\leq len[i-1]$\n\u5219$len[i+2] \\leq len[i+1]+len[i-1]-len[i]$\n\n\u4e8e\u662f\u4e4e\u5462\u7b2c$i-2$\u6bb5\u548c\u7b2c$i$\u6bb5\u540c\u65f6\u88ab\u9009\u62e9\uff0c\u7b54\u6848\u66f4\u4f18\uff0c\u4e0e\u5047\u8bbe\u77db\u76fe\n\n\u56e0\u6b64\u5f97\u5230\u8d2a\u5fc3\u7b97\u6cd5\uff1a\n- \u5c06\u8f93\u5165\u7684\u5e8f\u5217\u5dee\u5206\u6210$n$\u6bb5\uff0c\u4e14\u5c06$n$\u6bb5\u653e\u5165\u5806\u4e2d\n- \u9009\u51fa\u5806\u4e2d\u7b54\u6848\u6700\u5c0f\u7684\u4e00\u6bb5\uff0c\u52a0\u5165\u7b54\u6848\u4e2d\n- \u5c06\u8be5\u6bb5\u7684\u524d\u4e00\u6bb5\u548c\u540e\u4e00\u6bb5\u6807\u4e3a\u4e0d\u53ef\u7528\n- \u5c06\u8be5\u6bb5\u5728\u4e0b\u4e00\u6b21\u7684\u9009\u62e9\u4e2d\u7684\u6743\u503c\u6539\u4e3a$len[pre]+len[nxt]-len[now]$\n- \u6700\u540e\u91cd\u590d\u4e0a\u8ff0\u6b65\u9aa4$k$\u6b21\uff0c\u5f97\u5230\u7b54\u6848\n\n\n\u6700\u540e\u770b\u4e00\u4e0b\u4ee3\u7801\u5427\uff1a\n$vis$\u6570\u7ec4\u7528\u4e8e\u6807\u8bb0\u4e00\u6bb5\u662f\u5426\u53ef\u7528\uff0c\n$sum$\u5462\u662f\u6240\u8c13\u7684\u5dee\u5206\uff0c\n$q$\u5462\u4e3a\u4f18\u5148\u961f\u5217\n```cpp\nfor(int i=1;i<=k;i++){\n    while(vis[(q.top()).id])q.pop();\n    node x = q.top();q.pop();\n    ans+=x.num;\n    int a=pre[x.id],b=nxt[x.id];\n    int v=sum[a]+sum[b]-sum[x.id];\n    sum[x.id]=v;\n    q.push((node){v,x.id});\n    pre[x.id]=pre[a];nxt[pre[a]]=x.id;vis[a]=1;\n    nxt[x.id]=nxt[b];pre[nxt[b]]=x.id;vis[b]=1;\n    }\n```\n\n\n",
        "postTime": 1548765779,
        "uid": 38852,
        "name": "Sakurajima_Mai",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3620 \u3010[APIO/CTSC 2007]\u6570\u636e\u5907\u4efd\u3011"
    }
]