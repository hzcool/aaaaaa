[
    {
        "content": "\u8fd9\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684\u6570\u5217\u591a\u5e42\u6b21\u6c42\u548c\u5417 .\n\n\u548b\u9898\u89e3\u5168\u662f\u5148\u901a\u5206\u7684 .\n\n\u9996\u5148\u5199\u51fa\u7b54\u6848\u7684 OGF\uff1a\n$$F(z)=\\sum_{k\\ge 0}\\sum_{i=1}^na_i^kz^k=\\sum_{i=1}^n\\dfrac1{1-a_iz}$$\n\u7136\u540e\u8003\u8651\u5206\u6cbb NTT\uff0c\u6bcf\u6b21\u4ece\u4e2d\u70b9\u5206\u6cbb\uff0c\u52a8\u6001\u7ef4\u62a4\u7b54\u6848\u7684\u5206\u5b50\u548c\u5206\u6bcd\uff0c\u5408\u5e76\u65f6\u66b4\u529b\u901a\u5206\u8ba1\u7b97 .\n\n\u5bf9\u4e8e $\\dfrac ab+\\dfrac cd=\\dfrac{ad+bc}{bd}$\uff0c\u53ef\u4ee5\u53d1\u73b0\u5206\u5b50\u5206\u6bcd\u7684\u6b21\u6570\u5747\u88ab\u63a7\u5236\u5728\u53ef\u63a7\u8303\u56f4\u5185\uff0c\u4e8e\u662f\u53ef\u4ee5\u6839\u636e\u7c7b\u4f3c\u4e00\u5806\u4e00\u6b21\u591a\u9879\u5f0f\u4e58\u6cd5\u7684\u5206\u6790\u5f97\u5230\u590d\u6742\u5ea6\u4e3a $\\Theta(n\\log^2n)$ .",
        "postTime": 1675852876,
        "uid": 227514,
        "name": "jijidawang",
        "ccfLevel": 0,
        "title": "P7431"
    },
    {
        "content": "\u9898\u610f\uff1a\u7ed9\u5b9a\u6570\u7ec4 $a$\uff0c\u5bf9\u4e8e $1\\le k\\le n$\uff0c\u8ba1\u7b97 $\\sum_{i=1}^na_i^k$\u3002\n\n\u6784\u9020\u6bcd\u51fd\u6570 $F(x)$ \u4f7f\u5f97\n\n$$F(x)=\\sum_{k\\ge1}x^k\\sum_{i=1}^na_i^k$$\n\n\u63a8\u67ff\u5b50\n\n$$F(x)=\\sum_{k\\ge1}\\sum_{i=1}^n(xa_i)^k$$\n\n$$=\\sum_{i=1}^n\\sum_{k\\ge1}(xa_i)^k$$\n\n$$=\\sum_{i=1}^n\\frac{xa_i}{1-xa_i}$$\n\n$$=\\frac{\\sum_{i=1}^na_i\\prod_{j\\neq i}(1-xa_j)}{\\prod_{i=1}^n(1-xa_i)}x$$\n\n\u7136\u540e\u4f60\u601d\u8003\u4e0b\u9762\u7684\u4e1c\u897f\u548c\u4e0a\u9762\u7684\u4e1c\u897f\u6709\u4ec0\u4e48\u725b\u903c\u7684\u5173\u7cfb\u3002\n\n\u7136\u540e\u4f60\u53d1\u73b0\uff1a\n\n$$(\\prod_{i=1}^n(1-xa_i))^{'}=-\\sum_{i=1}^na_i\\prod_{j\\neq i}(1-xa_j)$$\n\n\u7136\u540e\u4f60\u76f4\u63a5~~yk\u94fe~~\u5206\u6cbb\u505a\u6389\u5206\u6bcd\uff0c\u6c42\u4e00\u4e2a\u5bfc\u5c31\u662f\u5206\u5b50\u4e86\uff0c\u590d\u6742\u5ea6 $O(n\\log^2n)$\n\n\u73b0\u5728\u662f $18:30$\uff0c\u6211\u770b\u6211\u4ec0\u4e48\u65f6\u5019\u5199\u5b8c\u3002\n\n\u73b0\u5728\u662f $18:34$\uff0c\u6211\u5199\u5b8c\u4e86\u3002\n\n```cpp\nint T;\nint n,a[maxn];\npoly solve(int l,int r){\n\tif(l==r)return (poly){1,p-a[l]};\n\tint mid=(l+r)>>1;\n\treturn solve(l,mid)*solve(mid+1,r);\n}\nsigned main(){\n#ifndef ONLINE_JUDGE\n\tfreopen(\"testdata.in\",\"r\",stdin);\n#endif\n\tfor(cin>>T;T;T--){\n\t\tcin>>n;\n\t\tfor(int i=1;i<=n;i++)cin>>a[i];\n\t\tpoly g=solve(1,n);\n\t\tpoly f=Qd(g);\n\t\tf=-f*Inv(g);\n\t\tf.resize(n+1);\n\t\tint ans=0;\n\t\tfor(int i=0;i<n;i++)ans^=f[i];cout<<ans<<endl;\n\t}\n#ifndef ONLINE_JUDGE\n\tcerr<<endl<<(double)clock()/CLOCKS_PER_SEC;\n#endif\n}\n```\n\u4e0a\u9762\u662f\u6211\u7684\u591a\u9879\u5f0f\u677f\u5b50\uff0c[\u5b89\u5229\u4e00\u6ce2](https://www.luogu.com.cn/blog/Peterprpr/mu-ban)\u3002",
        "postTime": 1632306649,
        "uid": 100325,
        "name": "peterwuyihong",
        "ccfLevel": 7,
        "title": "P7431 [THUPC2017] \u5c0f L \u7684\u8ba1\u7b97\u9898 \u8bb0\u5f55"
    },
    {
        "content": "[$\\text{Link}$](https://www.luogu.com.cn/problem/P7431)\n\n$\\text{upd 2022.2.8}$\uff1a\u4fee\u6539 $\\LaTeX$ \u548c\u9519\u8bef\u7684\u5f0f\u5b50\u3002\n## \u9898\u610f\n$$f_k=(\\sum_{i=1}^na_i^k)\\bmod 998244353$$\n\u8ba1\u7b97\u51fa $f_1\\sim f_n$\u3002\n## \u601d\u8def\n\u7b97\u51fa $f$ \u6570\u5217\u7684 $\\text{OGF}$ $F(x)$\n\n$$\\begin{aligned}F(x)&=\\sum_{i\\ge0}x^i\\Big(\\sum_{j=1}^n{a_j}^i\\Big)\\\\&=\\sum_{j=1}^n\\sum_{i\\ge0}{(a_jx)}^i\\\\&=\\sum_{j=1}^n\\dfrac{1}{1-a_jx}\\\\&=\\sum_{j=1}^n\\Big(1-\\dfrac{-a_jx}{1-a_jx}\\Big)\\\\&=n-x\\sum_{j=1}^n\\dfrac{-a_j}{1-a_jx}\\end{aligned}$$\n\u6211\u4eec\u53d1\u73b0\u6709 $\\dfrac{-a_j}{1-a_jx}=(\\ln(1-a_jx))'$\uff0c\u5f97\uff1a\n$$F(x)=n-x\\sum_{j=1}^n(\\ln(1-a_jx))'$$\n\u53c8\u6709 $a'+b'=(a+b)'$\uff0c\u5f97\uff1a\n$$\\begin{aligned}F(x)&=n-x(\\sum_{j=1}^n\\ln(1-a_jx))'\\\\&=n-x(\\ln\\prod_{j=1}^n(1-a_jx))'\\end{aligned}$$\n\u8fd9\u4e2a\u53ef\u4ee5\u5206\u6cbb $\\text{NTT}$ \u6c42\u51fa\u3002\n\n\u518d\u89c1 qwq~",
        "postTime": 1615372356,
        "uid": 365127,
        "name": "cyffff",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P7431\u3010[THUPC2017] \u5c0f L \u7684\u8ba1\u7b97\u9898\u3011"
    },
    {
        "content": "### \u9898\u610f\n\n$T$ \u7ec4\u6570\u636e\uff0c\u6bcf\u7ec4\u6570\u636e\u7ed9\u5b9a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217 $a$\uff0c\u5bf9\u4e8e $1\\leq k\\leq n$ \u6c42\uff1a\n\n$$\\sum\\limits_{i=1}^{n}a_i^k$$\n\n$\\texttt{Data Range:}T\\leq 10,\\sum n\\leq 4\\times 10^5$\u3002\n\n### \u9898\u89e3\n\n\u677f\u9898\uff0c\u84af\u4e86\u4ee5\u524d\u5199\u7684\u4e00\u4e9b\u4e1c\u897f\u5c31 AC \u4e86\u3002\n\n\u611f\u89c9\u8fd9\u79cd\u4e1c\u897f\u6211\u81ea\u5df1\u7406\u89e3\u5c31\u5f88\u7b80\u5355\u5199\u51fa\u6765\u5c31\u5199\u4e0d\u6e05\u695a\u554a\u2026\u2026\n\n\u8003\u8651\u5c06\u7b54\u6848\u7684 GF \u5199\u51fa\u6765\uff1a\n\n$$\\sum\\limits_{i=1}^{n}\\frac{a_i}{1-a_ix}$$\n\n\u76f4\u63a5\u901a\u5206\uff1a\n\n$$\\frac{\\sum\\limits_{i=1}^{n}a_i\\prod\\limits_{j\\neq i}(1-a_jx)}{\\prod\\limits_{i=1}^{n}(1-a_ix)}$$\n\n\u6ce8\u610f\u5230\u5bf9\u5206\u6bcd\u6c42\u5bfc\u5f97\u5230\u7684\u662f\u8d1f\u7684\u5206\u5b50\uff0c\u6240\u4ee5\u5206\u6cbb NTT \u7b97\u51fa\u5206\u6bcd\u4e4b\u540e\u76f4\u63a5\u6c42\u7b54\u6848\u7136\u540e\u53d6\u8d1f\u5373\u53ef\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef int ll;\ntypedef long long int li;\ntypedef unsigned long long int ull;\nconst ll MAXN=1048581,MOD=998244353;\nll test,n,res;\nll omgs[MAXN],x[MAXN],f[MAXN],g[MAXN];\nvector<ll>tmpf[MAXN<<1];\ninline ll read()\n{\n    register ll num=0,neg=1;\n    register char ch=getchar();\n    while(!isdigit(ch)&&ch!='-')\n    {\n        ch=getchar();\n    }\n    if(ch=='-')\n    {\n        neg=-1;\n        ch=getchar();\n    }\n    while(isdigit(ch))\n    {\n        num=(num<<3)+(num<<1)+(ch-'0');\n        ch=getchar();\n    }\n    return num*neg;\n}\ninline ll qpow(ll base,ll exponent)\n{\n    ll res=1;\n    while(exponent)\n    {\n        if(exponent&1)\n        {\n            res=(li)res*base%MOD;\n        }\n        base=(li)base*base%MOD,exponent>>=1;\n    }\n    return res;\n}\ninline void setupOmg(ll cnt)\n{\n    ll limit=__lg(cnt)-1;\n    omgs[0]=1,omgs[1<<limit]=qpow(31,1<<(21-limit));\n    for(register int i=limit;i;i--)\n    {\n        omgs[1<<(i-1)]=(li)omgs[1<<i]*omgs[1<<i]%MOD;\n    }\n    for(register int i=1;i<cnt;i++)\n    {\n        omgs[i]=(li)omgs[i&(i-1)]*omgs[i&-i]%MOD;\n    }\n}\ninline ll& reduce(ll &x)\n{\n\treturn x+=x>>31&MOD;\n}\ninline void DIF(ll *cp,ll cnt)\n{\n\tll lim=__lg(cnt),len=cnt>>1,x;\n\tfor(register int i=0;i<lim;i++,len>>=1)\n\t{\n\t\tfor(register int *j=cp,*omg=omgs;j!=cp+cnt;j+=len<<1,omg++)\n\t\t{\n\t\t\tfor(register int *k=j;k!=j+len;k++)\n\t\t\t{\n\t\t\t\tx=(li)*omg*k[len]%MOD,reduce(k[len]=*k-x),reduce(*k+=x-MOD);\n\t\t\t}\n\t\t}\n\t}\n}\ninline void DIT(ll *cp,ll cnt)\n{\n\tll lim=__lg(cnt),len=1,x,invl;\n\tfor(register int i=0;i<lim;i++,len<<=1)\n\t{\n\t\tfor(register int *j=cp,*omg=omgs;j!=cp+cnt;j+=len<<1,omg++)\n\t\t{\n\t\t\tfor(register int *k=j;k!=j+len;k++)\n\t\t\t{\n\t\t\t\treduce(x=*k+k[len]-MOD);\n\t\t\t\tk[len]=(li)(*k-k[len]+MOD)**omg%MOD,*k=x;\n\t\t\t}\n\t\t}\n\t}\n\treverse(cp+1,cp+cnt),invl=MOD-(MOD-1)/cnt;\n\tfor(register int i=0;i<cnt;i++)\n\t{\n\t\tcp[i]=(li)cp[i]*invl%MOD;\n\t}\n}\ninline void NTT(ll *cp,ll cnt,ll inv)\n{\n    inv==1?DIF(cp,cnt):DIT(cp,cnt);\n}\ninline void conv(ll fd,ll *f,ll *g,ll *res)\n{\n    static ll tmpf[MAXN],tmpg[MAXN];\n    ll cnt=1,limit=-1;\n    while(cnt<(fd<<1))\n    {\n        cnt<<=1,limit++;\n    }\n    for(register int i=0;i<cnt;i++)\n    {\n\t\ttmpf[i]=i<fd?f[i]:0,tmpg[i]=i<fd?g[i]:0;\n    }\n    NTT(tmpf,cnt,1),NTT(tmpg,cnt,1);\n    for(register int i=0;i<cnt;i++)\n    {\n\t\ttmpf[i]=(li)tmpf[i]*tmpg[i]%MOD;\n    }\n    NTT(tmpf,cnt,-1),memcpy(res,tmpf,fd<<3);\n}\ninline void inv(ll fd,ll *f,ll *res)\n{\n\tstatic ll tmp[MAXN],tmpr[MAXN];\n\tll cnt=2,limit=0;\n\ttmpr[0]=res[0]=qpow(f[0],MOD-2);\n\twhile(cnt<(fd<<1))\n\t{\n\t\tfor(register int i=0;i<cnt;i++)\n\t\t{\n\t\t\ttmp[i]=f[i],tmpr[i]=i<(cnt>>1)?res[i]:0;\n\t\t}\n\t\tNTT(tmp,cnt,1),NTT(tmpr,cnt,1);\n\t\tfor(register int i=0;i<cnt;i++)\n\t\t{\n\t\t\ttmp[i]=(li)tmp[i]*tmpr[i]%MOD;\n\t\t}\n\t\tNTT(tmp,cnt,-1),memset(tmp,0,cnt<<1),NTT(tmp,cnt,1);\n\t\tfor(register int i=0;i<cnt;i++)\n\t\t{\n\t\t\ttmp[i]=(li)tmp[i]*tmpr[i]%MOD;\n\t\t}\n\t\tNTT(tmp,cnt,-1);\n\t\tfor(register int i=(cnt>>1);i<cnt;i++)\n\t\t{\n\t\t\tres[i]=!tmp[i]?0:MOD-tmp[i];\n\t\t}\n\t\tcnt<<=1,limit++;\n\t}\n\tfor(register int i=fd;i<cnt;i++)\n\t{\n\t\tres[i]=0;\n\t}\n}\ninline void deriv(ll fd,ll *f,ll *res)\n{\n    for(register int i=1;i<fd;i++)\n    {\n        res[i-1]=(li)f[i]*i%MOD;\n    }\n    res[fd-1]=0;\n}\ninline void lnDeriv(ll fd,ll *f,ll *res)\n{\n\tstatic ll tmp[MAXN],tmp2[MAXN],tmp3[MAXN],tmp4[MAXN];\n\tll cnt=1,r,invr;\n\tif(fd<=1)\n\t{\n\t\treturn (void)(res[0]=(li)f[0]*qpow(f[0],MOD-2));\n\t}\n\twhile(cnt<=fd)\n\t{\n\t\tcnt<<=1;\n\t}\n\tinv(cnt>>1,f,tmp4),deriv(fd,f,tmp),memcpy(tmp3,tmp,cnt<<1);\n\tfor(register int i=0;i<cnt;i++)\n\t{\n\t\ttmp2[i]=i<(cnt>>1)?tmp4[i]:0,tmp3[i]=i<(cnt>>1)?tmp3[i]:0; \n\t}\n\tNTT(tmp2,cnt,1),NTT(tmp3,cnt,1);\n\tfor(register int i=0;i<cnt;i++)\n\t{\n\t\tres[i]=tmp3[i]=(li)tmp3[i]*tmp2[i]%MOD;\n\t}\n\tNTT(res,cnt,-1),r=MOD-(MOD-1)/cnt,invr=qpow(r,MOD-2);\n\tfor(register int i=0;i<cnt;i++)\n\t{\n\t\tres[i]=tmp4[i]=i<(cnt>>1)?res[i]:0,tmp3[i]=f[i];\n\t}\n\tNTT(tmp3,cnt,1),NTT(tmp4,cnt,1);\n\tfor(register int i=0;i<cnt;i++)\n\t{\n\t\ttmp3[i]=(li)tmp3[i]*tmp4[i]%MOD;\n\t}\n\tNTT(tmp3,cnt,-1),reverse(tmp3+1,tmp3+cnt);\n\tfor(register int i=(cnt>>1);i<cnt;i++)\n\t{\n\t\ttmp3[i]=(tmp3[cnt-i]+MOD-tmp[i])%MOD;\n\t}\n\tfor(register int i=0;i<(cnt>>1);i++)\n\t{\n\t\ttmp3[i]=(li)tmp3[i]*invr%MOD;\n\t}\n\tmemset(tmp3,0,cnt<<1),NTT(tmp3,cnt,1);\n\tfor(register int i=0;i<cnt;i++)\n\t{\n\t\ttmp3[i]=(li)tmp3[i]*tmp2[i]%MOD;\n\t}\n\tNTT(tmp3,cnt,-1);\n\tfor(register int i=cnt>>1;i<cnt;i++)\n\t{\n\t\tres[i]=MOD-tmp3[i];\n\t}\n}\n#define ls node<<1\n#define rs (node<<1)|1\ninline void calc(ll l,ll r,ll node)\n{\n\tstatic ll tmp[MAXN],tmp2[MAXN];\n\ttmpf[node].clear();\n\tif(l==r)\n\t{\n\t\treturn tmpf[node].push_back(1),tmpf[node].push_back(MOD-x[l]);\n\t}\n\tll mid=(l+r)>>1,sz,sz2;\n\tcalc(l,mid,ls),calc(mid+1,r,rs),sz=tmpf[ls].size(),sz2=tmpf[rs].size();\n\tmemset(tmp,0,max(sz,sz2)<<2),memset(tmp2,0,max(sz,sz2)<<2);\n\tcopy(tmpf[ls].begin(),tmpf[ls].end(),tmp);\n\tcopy(tmpf[rs].begin(),tmpf[rs].end(),tmp2);\n\tconv(max(sz,sz2),tmp,tmp2,tmp),tmpf[node].resize(sz+sz2-1);\n\tcopy(tmp,tmp+sz+sz2-1,tmpf[node].begin());\n}\ninline void solve()\n{\n\tn=read(),res=0;\n\tfor(register int i=1;i<=n;i++)\n\t{\n\t\tx[i]=read()%MOD;\n\t}\n\tcalc(1,n,1),copy(tmpf[1].begin(),tmpf[1].end(),f),lnDeriv(n+1,f,g);\n\tfor(register int i=0;i<n;i++)\n\t{\n\t\tres^=((MOD-g[i])%MOD);\n\t}\n\tprintf(\"%d\\n\",res);\n}\nint main()\n{\n    test=read(),setupOmg(1048576);\n    for(register int i=0;i<test;i++)\n    {\n    \tsolve();\n\t}\n}\n```",
        "postTime": 1615470822,
        "uid": 60990,
        "name": "Karry5307",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P7431 \u3010[THUPC2017] \u5c0f L \u7684\u8ba1\u7b97\u9898\u3011"
    },
    {
        "content": "## \u9898\u610f:\n\n\u7ed9\u5b9a $a_1$, $a_2$, $\\cdots$, $a_n$ \u5bf9\u4e8e $k\\in[1,n]\\bigcap\\mathbb N$ \u6c42 $\\sum_{i=1}^n a_i^k$\n\n## solution:\n\n\u9996\u5148\u8bbe: $f_k=\\sum_{i=1}^n a_i^k$\n\n\u8fd9\u4e2a\u5f62\u5f0f\u7684\u5f0f\u5b50\u770b\u7740\u5c31\u5f88\u50cf\u300e\u725b\u987f\u6052\u7b49\u5f0f\u300f\u5c31\u662f\u4e0b\u9762\u8fd9\u4e2a:\n\n### Lemma\n\n\u5bf9\u4e8e\u4e00\u4e2a\u591a\u9879\u5f0f $f(x)=\\sum_{i=0}^na_ix^i$ \u5b83\u7684\u6839\u5206\u522b\u662f $x_1$, $x_2$, $\\cdots$, $x_n$ \u8bb0 $f_k=\\sum_{i=1}^n x_i^k$ \u90a3\u4e48 $\\forall k\\in [1,n]$ \u6211\u4eec\u6709:\n$$\n\\sum_{i=1}^kf_ia_i+ka_{n-k}=0\n$$\n\u8ba9\u6211\u4eec\u6765\u5c1d\u8bd5\u8bc1\u660e\u4e00\u4e0b\u8fd9\u4e2a\n\n\u6211\u4eec\u8bbe $\\sigma_k(x_1,x_2,\\cdots,x_n)$ \u4e3a $k$ - \u521d\u7b49\u5bf9\u79f0\u591a\u9879\u5f0f\n\n\u6211\u4eec\u6709:\n$$\n\\begin{aligned}\n\\sigma_1&=f_1\\\\\n2\\sigma_2&=\\sigma_1f_1-f_2\\\\\n3\\sigma_3&=\\sigma_2 f_1-\\sigma_1 f_2+f_3\\\\\n&\\dots\\\\\nn\\sigma_n&=\\sum_{i=1}^{n} (-1)^{i} \\sigma_{i} f_{n-i} + (-1)^{n-1} f_n\n\\end{aligned}\n$$\n\u53cd\u5411\u8868\u793a:\n$$\nf_k=(-1)^{k-1} k \\sigma_{k}+\\sum_{i=1}^{k-1} (-1)^{k-i-1}\\sigma_{k-i} f_i\n$$\n\u6ce8\u610f\u5230\u97e6\u8fbe\u5b9a\u7406\u548c $\\sigma$ \u4e0d\u53ef\u5206\u5272\u7684\u5173\u7cfb \u628a\u97e6\u8fbe\u5b9a\u7406\u5e26\u5165\u5373\u53ef\u5f97\u5230\u539f\u5f0f\n\n### \u8fd4\u56de\u539f\u9898\n\n\u6211\u4eec\u5148\u628a\u539f\u6765\u7684\u65b9\u7a0b\u8fd8\u539f\u51fa\u6765: $\\prod_{i=1}^{n}(x-a_i)$ \u8bbe $x^i$ \u7684\u7cfb\u6570\u4e3a $a'_i$\n\n\u8003\u8651\u5c06\u5b83\u7684\u7cfb\u6570\u7ffb\u8f6c \u5f97\u5230:\n$$\n\\mathcal G(x)=\\sum_{i=0}^{n} a'_{n-i}x^i\n$$\n\u518d\u8bbe\u51fa\u6765\u751f\u6210\u51fd\u6570:\n$$\n\\mathcal F(x)=\\sum_{i} f_ix^i\\\\\n\\mathcal H(x)=\\sum_{i=0}^nia'_{n-i}x^i\n$$\n\u6839\u636e **Lemma** \u6709:\n$$\n\\mathcal F(x)\\mathcal G(x) + \\mathcal H(x)=0\\\\\n\\mathcal F(x)=\\frac{-\\mathcal H(x)}{\\mathcal G(x)}\n$$\n\u590d\u6742\u5ea6 $\\mathcal O(n\\log^2 n)$ \u74f6\u9888\u5728\u5206\u6cbb fft \u6c42\u539f\u6765\u7684\u65b9\u7a0b\u4e0a \u7ed9\u51fa\u6211\u7684\u5b9e\u73b0:\n\n```cpp\nread(n);\nstd::vector<int> a(n + 1);\nfor (int i = 1; i <= n; i++) read(a[i]);\nfunction<poly(int,int)> divide = [&](int l,int r)\n{\n\tif (l == r) return (poly) {mod - a[l],1};\n\tint mid = (l + r) >> 1;\n\treturn divide(l,mid) * divide(mid + 1,r);\n};\npoly f = divide(1,n);\nreverse(f.begin(),f.end());\npoly g = f;\nfor (int i = 0; i < g.size(); i++) g[i] = (mod - g[i] * i % mod) % mod;\nf = getinv(f) * g;\nint ans = 0;\nfor (int i = 1; i <= n; i++) ans ^= f[i];\nwriteln(ans);\n```\n\n",
        "postTime": 1616152159,
        "uid": 68030,
        "name": "serverkiller",
        "ccfLevel": 0,
        "title": "\u300cTHUPC 2017\u300d\u5c0f L \u7684\u8ba1\u7b97\u9898"
    }
]