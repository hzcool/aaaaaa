[
    {
        "content": "~~\u8bf7\u76f4\u63a5\u53bb\u770bp2703\u9898\u89e3~~\n\n\u76f4\u63a5\u628a\u8f93\u5165\u770b\u6210\u5f80\u7a7a\u767d\u533a\u57df\u4e0a\u6dfb\u52a0\u65b9\u683c\u4e4b\u540e\u590d\u5236p2703\u4ee3\u7801\u4f1a\u70b8\uff0c\u81f3\u5c11\u6211\u7684\n\n\u4f1a\u70b8\uff0c\u8fd9\u8ba9\u6211\u5341\u5206\u6c14\u6124\uff0c\u4ee5\u81f3\u4e8e\u6211\u4e0d\u5f97\u4e0d~~\u6253\u7535\u8bdd\u7ed9\u738b\u516b\u5c6f\u5b50\u5987\u5973\u534f\u4f1a\u628a\u51fa\u6570~~\n\n~~\u636e\u7684\u4e0b\u653e\u5230\u82de\u7c73\u5730\u52b3\u6539~~\u8fdb\u884c\u5927\u91cf\u9b54\u6539\uff0c\u4f46\u4e8b\u5b9e\u4e0a\u8fd9\u6837\u5341\u5206\u6709\u6548\uff0c\u4ee5\u81f3\u4e8e\u6211\u9694\n\n\u58c1\u7684\u5927\u4f6c\u76f4\u63a5\u8279\u8fc7\u53bb\u4e86\uff0c\u4f46\u4ed6\u61d2\u5f97\u5199\u9898\u89e3\uff08\u4e0d\u5c51\uff09\uff0c\u6240\u4ee5\u4ed6\u5c31\u53eb\u6211\u5199\u4e00\u4e2a\uff0c\u4f46\u6211\n\n\u4e5f\u61d2\u5f97\u5199\uff0c\u6240\u4ee5\u6211\u51b3\u5b9a\u628ap2703\u7684\u9898\u89e3\u590d\u5236\u9b54\u6539\u4e00\u4e0b\u5c31\u597d\u4e86\uff08\u53cd\u6b63\u601d\u8def\u4e00\u6837\uff09\n\n\u4ee4f[i][j][k]\u8868\u793a\u5904\u7406\u5230i\uff0c\u7b2ci\u884c\u957f\u4e3aj\uff0c\u6700\u540e\u72b6\u6001\u662f\u51f9/\u51f8\u7684\u6700\u5c0f\u4ee3\u4ef7\n\n\u8f6c\u79fb\uff1a\n```\nf[i][j][k]=min(f[i-1][j-1][k],f[i-1][p][1-k])(p<j&&k==1 || p>j&&k==0)\n```\n\n\u7136\u540e\u4f60\u628a\u8fd9\u4e2a\u4e1c\u897f\u5199\u51fa\u6765\u4ea4\u4e0a\u53bb\u5c31TLE~~\u8eab\u8d25\u540d\u88c2~~\u4e86\n\n\u7136\u540e\u6211\u4eec\u8003\u8651\u600e\u4e48\u4f18\u5316\u8fd9\u4e2a\u4e1c\u897f\n\n\u4ee4g[i]\u8868\u793a\u76ee\u524di\u4f4d\u7f6e\u4e0a\u7684\u9ad8\u5ea6\n\n\u5f88\u5bb9\u6613\u53d1\u73b0\uff0c\u6bcf\u6b21\u8f6c\u79fb\u7684\u65f6\u5019\uff0c\u771f\u6b63\u6709\u7528j\u7684\u53ea\u6709\u4e00\u5c0f\u90e8\u5206\n\n\u5c31\n```\ng[c]-2~g[c](i-2<=c<=i+2)\n```\n\u8fd9\u4e00\u5c0f\u6bb5\n\n\u600e\u4e48\u8bc1\u660e\uff1f\n\n\u5f53\u7136\u662f\u9760~~\u6570\u5b66\u77e5\u8bc6\u8bc1~~\u6253\u8868\u627e\u89c4\u5f8b\u554a\uff01\n\n\u6253\u51e0\u4e2a\u8868\uff0c\u5927\u80c6\u731c\u6d4b\u8fd9\u4e2a\u7ed3\u8bba\uff0c\u7136\u540ej\u7684\u679a\u4e3e\u8303\u56f4\u5c31\u662f\u6709\u9650\u7684\u4e86\n\n\u7136\u540e\u590d\u6742\u5ea6\u5c31\u662f\u7ebf\u6027\u7684\u4e86\uff0c\u7136\u540e\u5c31A\u4e86\n\n\u7136\u540e\u8bb0\u5f97\u5f00longlong\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1000000+10;\nconst long long inf=0x7f7f7f7f7f7f7f7f;\ntypedef long long ll;\ntypedef double ddf;\ntypedef int _int;\n#define int ll\nint n,m;\nint l[N],g[N],f[2][N][2],pr,nt;\nint t[2],s[2][N];\nint ass;\nvoid fuck(){\n    memset(f,0x7f,sizeof(f));\n    t[1]=0;\n    for(int j=1;j<=3;j++){\n        for(int k=g[j]-2;k<=g[j];k++){\n            if(k<=g[1])s[1][++t[1]]=k;\n        }\n    }\n    for(int i=1;i<=t[1];i++)f[1][i][0]=f[1][i][1]=g[1]-s[1][i];\n    pr=0,nt=1;\n    for(int i=2;i<=n;i++){\n        pr^=1,nt^=1;t[nt]=0;\n        int lf=max(1ll,i-2),rf=min(n,i+2);\n        for(int j=lf;j<=rf;j++){\n            for(int k=g[j]-2;k<=g[j];k++){\n                if(k<=g[i])s[nt][++t[nt]]=k;\n            }\n        }\n        for(int j=1;j<=t[nt];j++){\n            f[nt][j][1]=f[nt][j][0]=inf;\n            for(int k=1;k<=t[pr];k++){\n                if(s[pr][k]>s[nt][j])f[nt][j][0]=min(f[nt][j][0],f[pr][k][1]);\n                else if(s[pr][k]<s[nt][j])f[nt][j][1]=min(f[nt][j][1],f[pr][k][0]);\n                else f[nt][j][0]=min(f[nt][j][0],f[pr][k][0]),f[nt][j][1]=min(f[nt][j][1],f[pr][k][1]);\n            }\n            f[nt][j][0]+=g[i]-s[nt][j];\n            f[nt][j][1]+=g[i]-s[nt][j];\n        }\n    }\n    int re=inf;\n    for(int i=1;i<=t[nt];i++)re=min(re,min(f[nt][i][0],f[nt][i][1]));\n    ass+=re;\n}\n_int main(){\n    scanf(\"%lld\",&n);\n    for(int i=1;i<=n;i++)scanf(\"%lld\",&g[i]);\n    //fuck();\n    fuck();\n    printf(\"%lld\",ass);\n    return 0;\n}\n```",
        "postTime": 1522050521,
        "uid": 38725,
        "name": "xiwang",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2314 \u3010[HNOI2005]\u6728\u68b3\u3011"
    }
]