[
    {
        "content": "[\u539f\u9898\u94fe\u63a5](https://www.luogu.org/problemnew/show/P1481)\n\n**\u5b57\u7b26\u4e32\u7248\u6700\u957f\u4e0a\u5347\u5b50\u5e8f\u5217\u3002**\n\n\u5404\u4f4d\u5927\u4f6c\u90fd\u7528string\u5417\uff1f\n\n\u867d\u7136string\u65b9\u4fbf\uff0c\u4f46\u6211\u4e0d\u4f1a\u7528string\uff0c\u6240\u4ee5\u6211\u8fd8\u662f\u7528char\u6570\u7ec4\u597d\u4e86\u3002\u3002\n\n\u770b\u5230\u4e00\u4e2a\u5927\u4f6c\u7528char\u7684\u51fd\u6570strncmp()\uff0c\u5176\u5b9e\uff0cchar\u91cc\u4e5f\u6709\u4e00\u4e2a\u51fd\u6570\uff0c\u53eb\u505a\uff1a\n```cpp\nstrstr(s1,s2)\n\n\u4f5c\u7528\uff1a\n\u5224\u65ads2\u662f\u5426\u4e3as1\u7684\u5b50\u4e32\u3002\n\u5982\u679c\u6ca1\u627e\u5230\uff0c\u8fd4\u56deNULL;\n\u5982\u679c\u627e\u5230\u4e86\uff0c\u8fd4\u56de\u8fd9\u4e2a\u5b50\u4e32\u7b2c\u4e00\u4e2a\u5b57\u7b26\u7684\u5730\u5740\u3002\n\n\u5982\uff1a\nchar s1[]=\"habch\",s2[]=\"abc\"\nstrstr(s1,s2)\u5c31\u8fd4\u56des1\u4e2d'a'\u7684\u5730\u5740\n\n\u5934\u6587\u4ef6\u4e3a\uff1a\n\n#include<cstring>\n```\n\u4f30\u8ba1\u6ca1\u4ec0\u4e48\u4eba\u77e5\u9053\u5427\u3002\u3002\u3002\n\n\u4e8e\u662f\u6211\u679c\u65ad\u6253\u4e86\u4e00\u4e2adp\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nchar s[2010][80];//\u4e8c\u7ef4char\u5b58\u50a8\u591a\u4e2a\u5b57\u7b26\u4e32\nint f[2010],n,ans;\nint main()\n{\n\tios::sync_with_stdio(0);//cin,cout\u4f18\u5316\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>s[i];//\u6574\u884c\u8bfb\u5165\n\t\tf[i]=1;\n\t\tfor(int j=i-1;j>=1;j--)\n\t\t\tif(strstr(s[i],s[j])!=NULL)//\u627e\u5f97\u5230\u8fd9\u4e2a\u5b50\u4e32\n\t\t\t\tf[i]=max(f[j]+1,f[i]);//dp\u5904\u7406\n\t\tans=max(f[i],ans);\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n\u4f46\u662f\u4ea4\u4e0a\u53bb\uff0cWA\u4e86\u4e00\u534a\u3002\u3002\u3002\n\n\u540e\u6765\uff0c\u6211\u53d1\u73b0\u4e86\u95ee\u9898\uff1a\n```cpp\ns1=\"hhhabchhh\"\ns2=\"abc\"\ns2\u662fs1\u7684\u5b50\u4e32\uff0c\u4f46s2\u5e76\u4e0d\u80fd\u63a5\u5728s1\u4e0a\uff0c\u4e0d\u80fd\u7ec4\u6210\u8bcd\u94fe\u3002\n\u8981\u60f3\u8981s2\u80fd\u63a5\u5728s1\u4e0a\uff0c\u5219s2\u9996\u5b57\u7b26\u5730\u5740==s1\u9996\u5b57\u7b26\u5730\u5740\n\u6240\u4ee5\u6211\u4eec\u4fee\u6539\u4ee3\u7801\uff1a\n\nfor(int j=i-1;j>=1;j--)\n\tif(strstr(s[i],s[j])==s[i])\n    //\u4e0d\u4ec5\u8981\u627e\u5f97\u5230\u8fd9\u4e2a\u5b50\u4e32\uff0c\u8fd8\u5fc5\u987b\u80fd\u63a5\u5728s[i]\u4e0a\n    //\u5373\uff1a\u8fd4\u56de\u7684\u9996\u5b57\u7b26\u5730\u5740==s[i]\u7684\u9996\u5b57\u7b26\u5730\u5740\n\t\tf[i]=max(f[j]+1,f[i]);//\u7b26\u5408\u8981\u6c42\uff0c\u8fdb\u884cdp\nans=max(f[i],ans);\n```\n\u4fee\u6539\u540e\u7ec8\u4e8eAC\u4e86\uff01\n\n**AC \u4ee3\u7801\uff1a**\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nchar s[2010][80];\nint f[2010],n,ans;\nint main()\n{\n\tios::sync_with_stdio(0);\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>s[i];\n\t\tf[i]=1;\n\t\tfor(int j=i-1;j>=1;j--)\n\t\t\tif(strstr(s[i],s[j])==s[i])\n\t\t\t\tf[i]=max(f[j]+1,f[i]);\n\t\tans=max(f[i],ans);\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```",
        "postTime": 1548986296,
        "uid": 151935,
        "name": "Rainbow_qwq",
        "ccfLevel": 0,
        "title": "P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "\u54c7\u4e00\u4e2a\u597d\u597d\u7684\u5b57\u5178\u6811\u9898\u88ab\u53d8\u6210\u4e86dp\uff0c\u5e94\u8be5\u662f\u4ece\u6839\u8282\u70b9\u5f00\u59cb\u5efa\u6811\uff0c\u5efa\u7acb\u6bcf\u4e00\u4e2a\u5355\u8bcd\uff0c\u6bcf\u4e00\u4e2a\u5355\u72ec\u7684\u94fe\u4e0a\u90fd\u662f\u4e00\u5806\u5355\u8bcd\u7ec4\u6210\uff0c\u6700\u540emax\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\n\n     \n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nconst int MAXN=2010;\nstruct edge{\n    int link[27];\n    int s;\n}t[MAXN];\nint n,m,cnt;\nint ans;\nvoid zbr(char *c)\n{\n  int ansm=0;\n  int p=0;\n  int i;\n  int len=strlen(c);\n  for(int i=0;i<len;i++)\n  {\n      int zz=c[i]-'a'+1;\n      if(t[p].link[zz]==0)\n      t[p].link[zz]=++cnt;\n      p=t[p].link[zz];\n      ansm+=t[p].s;\n      }    \n      if(ansm>=ans)\n      ans=ansm+1;\n      t[p].s++;\n } \n int main()\n {\n     int i;\n     char c[110]=\"\";\n     scanf(\"%d\",&n);\n     for(int i=1;i<=n;i++)\n     {\n         scanf(\"%s\",c);\n         zbr(c);\n     }\n     printf(\"%d\\n\",ans);\n     return 0;\n}\n```",
        "postTime": 1510918194,
        "uid": 31826,
        "name": "RetrO",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\uff0c\u53eb\u6211\u505a\uff0c\u4e0d\u5c31\u7b80\u5355\u4e86\u5417\uff1f\uff1f\uff1f\u6211\u4f7f\u7528\n### ~~\u6b63\u4ea4\u5206\u89e3\u6cd5\uff01~~STRING\u5934\u6587\u4ef6\u306efind()\u51fd\u6570\n\n```cpp\n#include<iostream>\n#include<string>\nusing namespace std;\nstring s[2018];\nint wz[2018],n;\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>s[i];wz[i]=1;for(int j=i-1;j>=1;j--)\n\t\tif(s[i].find(s[j])==0) wz[i]=(wz[j]+1)>wz[i]?(wz[j]+1):wz[i];\n\t\twz[0]=wz[i]>wz[0]?wz[i]:wz[0];\n\t}cout<<wz[0];\n\treturn 0;\n}\n```\n\u6211\u4eec\u5148\u8bfb\u5165\uff0c\u7136\u540e\u4f7f\u7528\u7c7b\u4f3c\u5bfc\u5f39\u62e6\u622a\u7684\u601d\u8def(\u4e0d\u8fc7\u66f4\u7b80\u5355\uff0c\u53ef\u770b\u505a\u662f\u53ea\u6c42\u6700\u5927\u80fd\u51fb\u843d\u7684\u70ae\u5f39\u6570\u91cf)\uff0c\u82e5s[j]\u80fd\u5728s[i]\u4e2d\u51fa\u73b0\uff0c\u90a3\u4e48\u66f4\u65b0wz[i]\u7684\u503c,\u8f93\u5165\u4e00\u4e2a\u5904\u7406\u4e00\u4e2a\uff0c\u6c42max\u3002\n#### find\u7528\u6cd5\n```cpp\n//string\u7c7b\u7684\u67e5\u627e\u51fd\u6570\uff1a\n\nint find(char c, int pos = 0) const;//\u4ecepos\u5f00\u59cb\u67e5\u627e\u5b57\u7b26c\u5728\u5f53\u524d\u5b57\u7b26\u4e32\u7684\u4f4d\u7f6e\nint find(const char *s, int pos = 0) const;//\u4ecepos\u5f00\u59cb\u67e5\u627e\u5b57\u7b26\u4e32s\u5728\u5f53\u524d\u4e32\u4e2d\u7684\u4f4d\u7f6e\nint find(const char *s, int pos, int n) const;//\u4ecepos\u5f00\u59cb\u67e5\u627e\u5b57\u7b26\u4e32s\u4e2d\u524dn\u4e2a\u5b57\u7b26\u5728\u5f53\u524d\u4e32\u4e2d\u7684\u4f4d\u7f6e\nint find(const string &s, int pos = 0) const;//\u4ecepos\u5f00\u59cb\u67e5\u627e\u5b57\u7b26\u4e32s\u5728\u5f53\u524d\u4e32\u4e2d\u7684\u4f4d\u7f6e\n//\u67e5\u627e\u6210\u529f\u65f6\u8fd4\u56de\u6240\u5728\u4f4d\u7f6e\uff0c\u5931\u8d25\u8fd4\u56destring::npos\u7684\u503c\n\nint rfind(char c, int pos = npos) const;//\u4ecepos\u5f00\u59cb\u4ece\u540e\u5411\u524d\u67e5\u627e\u5b57\u7b26c\u5728\u5f53\u524d\u4e32\u4e2d\u7684\u4f4d\u7f6e\nint rfind(const char *s, int pos = npos) const;\nint rfind(const char *s, int pos, int n = npos) const;\nint rfind(const string &s,int pos = npos) const;\n//\u4ecepos\u5f00\u59cb\u4ece\u540e\u5411\u524d\u67e5\u627e\u5b57\u7b26\u4e32s\u4e2d\u524dn\u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u5b57\u7b26\u4e32\u5728\u5f53\u524d\u4e32\u4e2d\u7684\u4f4d\u7f6e\uff0c\u6210\u529f\u8fd4\u56de\u6240\u5728\u4f4d\u7f6e\uff0c\u5931\u8d25\u65f6\u8fd4\u56destring::npos\u7684\u503c\n\nint find_first_of(char c, int pos = 0) const;//\u4ecepos\u5f00\u59cb\u67e5\u627e\u5b57\u7b26c\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\nint find_first_of(const char *s, int pos = 0) const;\nint find_first_of(const char *s, int pos, int n) const;\nint find_first_of(const string &s,int pos = 0) const;\n//\u4ecepos\u5f00\u59cb\u67e5\u627e\u5f53\u524d\u4e32\u4e2d\u7b2c\u4e00\u4e2a\u5728s\u7684\u524dn\u4e2a\u5b57\u7b26\u7ec4\u6210\u7684\u6570\u7ec4\u91cc\u7684\u5b57\u7b26\u7684\u4f4d\u7f6e\u3002\u67e5\u627e\u5931\u8d25\u8fd4\u56destring::npos\n\nint find_first_not_of(char c, int pos = 0) const;\nint find_first_not_of(const char *s, int pos = 0) const;\nint find_first_not_of(const char *s, int pos,int n) const;\nint find_first_not_of(const string &s,int pos = 0) const;\n//\u4ece\u5f53\u524d\u4e32\u4e2d\u67e5\u627e\u7b2c\u4e00\u4e2a\u4e0d\u5728\u4e32s\u4e2d\u7684\u5b57\u7b26\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u5931\u8d25\u8fd4\u56destring::npos\n\nint find_last_of(char c, int pos = npos) const;\nint find_last_of(const char *s, int pos = npos) const;\nint find_last_of(const char *s, int pos, int n = npos) const;\nint find_last_of(const string &s,int pos = npos) const;\n\nint find_last_not_of(char c, int pos = npos) const;\nint find_last_not_of(const char *s, int pos = npos) const;\nint find_last_not_of(const char *s, int pos, int n) const;\nint find_last_not_of(const string &s,int pos = npos) const;\n//find_last_of\u548cfind_last_not_of\u4e0efind_first_of\u548cfind_first_not_of\u76f8\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u662f\u4ece\u540e\u5411\u524d\u67e5\u627e\n\n```\n",
        "postTime": 1518180559,
        "uid": 50092,
        "name": "da32s1da",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "## \u5982\u679c\u8fd9\u7bc7\u9898\u89e3\u901a\u8fc7\u4e86\uff0c\u90a3\u5b83\u5c31\u662f\u672c\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\u4e86\n\n\u4e0d\u8981\u95ee\u6211\u4e3a\u4ec0\u4e48\u7a81\u7136\u60f3\u5199\u9898\u89e3\uff0c~~\u53ef\u80fd\u662f\u56e0\u4e3a\u4e0a\u8bfe\u7684\u65f6\u5019\u7a81\u7136\u8111\u62bd\uff1f\u6216\u8005\u7a81\u7136\u624b\u95f2\uff1f\uff08bu\uff09~~ \n\u5927\u6982\u662f\u56e0\u4e3a\u60f3\u6311\u6218\u4e00\u4e0b\u6700\u77ed\u4ee3\u7801\u53ed\u2026\u2026~~\u65b9\u6cd5\u4e0d\u91cd\u8981~~\n\n~~**\u5176\u5b9e\u4e5f\u6ca1\u6307\u671b\u7740\u80fd\u88ab\u901a\u8fc7\uff0cZoe\u5728\u7ebf\u4f5c\u6b7b**~~\n\n### \u54b3\u54b3\uff0c\u4ee5\u4e0b\u6b63\u6587\uff1a\n\n\u56e0\u4e3a\u505a\u8fd9\u9053\u9898\u524d\u521a\u505a\u8fc7\u6700\u957f\u4e0a\u5347\u5b50\u5e8f\u5217\uff0c\u6240\u4ee5\u5f88\u5feb\u5c31\u60f3\u51fa\u6765dp\u600e\u4e48\u505a\u4e86\u2014\u2014\u628a\u5224\u65ad\u6761\u4ef6\u6539\u4e00\u4e0b\u5c31\u597d\u5566\u3002\n\n\u90a3\u4e48\u5224\u65ad\u6761\u4ef6\u600e\u4e48\u5199\u5462\uff1f\u6b64\u5904\u6211\u7528\u5230\u7684\u662fstring\u81ea\u5e26\u7684\u51fd\u6570substr\u3002\u4e3e\u4f8b\u5982\u4e0b\uff1a\n\n```cpp\nstring s=\"123456\";\nstring t=s.substr(0,3); //\u4eces\u76840\u53f7\u4f4d\u7f6e\u622a\u53d6\u8fde\u7eed\u7684\u957f\u5ea6\u4e3a3\u7684\u5b50\u4e32\ncout <<t; \n```\n\n\u6240\u4ee5\u4e0a\u9762\u7a0b\u5e8f\u8f93\u51fa\u7684\u662f123\u3002\n\n\u90a3\u4e48\u6211\u4eec\u7684dp\u600e\u4e48\u5199\u5462\uff1f\u4f5c\u4e3a\u4e00\u53ea\u521d\u5b66dp\u7684\u849f\u84bb\uff0c\u8001\u5e08\u544a\u8bc9\u6211\u9700\u8981\u8003\u8651\u56db\u70b9\u95ee\u9898\uff1a\n\n1. \u72b6\u6001\uff1a$f_i$ \u8868\u793a\u4ee5\u7b2c$i$\u53f7\u4f4d\u7f6e\u7ed3\u5c3e\u6700\u591a\u53ef\u4ee5\u53d6\u7684\u5355\u8bcd\u6570\n\n2. \u7b54\u6848\uff1a$f_n$\n\n3. \u8f6c\u79fb\uff1a$f_i = max(f_j+1,f_i)$\n\n4. \u521d\u503c\uff1a$f_i = 1$\n\n\u90a3\u63a5\u4e0b\u6765\u7684\u4e8b\u60c5\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u6309\u7167\u4e0a\u8ff0\u601d\u8def\u5199\u4ee3\u7801\u5c31\u597d\u5566\uff0cAC\u4ee3\u7801\u5949\u4e0a\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n, f[2010], ans;\nstring s[2010];\nint main()\n{\n\tscanf (\"%d\", &n);\n\tfor (int i=1; i<=n; i++)\n\t\tcin >>s[i];\n\t\n\tfor (int i=1; i<=n; i++)\n\t{\n\t\tf[i] = 1;\n\t\tfor (int j=1; j<i; j++)\n\t\t\tif (s[j]==s[i].substr(0,s[j].size())) //\u4eces[i]\u76840\u53f7\u4f4d\u7f6e\u622a\u53d6s[j]\u957f\u5ea6\u7684\u5b50\u4e32\uff0c\u5224\u65ad\u662f\u5426\u4e0es[j]\u76f8\u7b49\u3002\n\t\t\t\tf[i] = max(f[j]+1, f[i]);\n\t\tans = max(f[i], ans);\n\t}\n\tprintf (\"%d\", ans);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1584184239,
        "uid": 192376,
        "name": "Zoe_Granger",
        "ccfLevel": 7,
        "title": "\u9898\u89e3P1481"
    },
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n\u6309\u7167\u5b57\u5178\u5e8f\u8f93\u5165$n$\u4e2a\u957f\u5ea6\u4e0d\u8d85\u8fc7$75$\u7684\u5b57\u7b26\u4e32\u3002\u8be2\u95ee\u4ece\u4e2d\u6700\u591a\u9009\u62e9\u51fa\u591a\u5c11\u6b4c\u5b57\u7b26\u4e32\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u5b57\u7b26\u4e32\u90fd\u662f\u540e\u9762\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u524d\u7f00\u3002\n\n## \u9898\u89e3\n\n\u697c\u4e0a\u7ed9\u4e86\u633a\u591a$\\text{Trie,\u66b4\u529b\u5339\u914d,map}$\u7684\u505a\u6cd5\uff0c\u8fd9\u91cc\u8bb2\u4e00\u8bb2$\\text{Hash}$\u4ee5\u53ca\u5b83\u7684\u76f8\u5173\u4f18\u5316\u5427\u3002\n\n\u6839\u636e\u9898\u610f\uff0c\u8bbe$dp_i$\u8868\u793a\u4ee5\u7b2c$i$\u4e2a\u5b57\u7b26\u4e32\u7ed3\u5c3e\u7684\u5b57\u7b26\u4e32\u94fe\u7684\u6700\u5927\u957f\u5ea6\u3002\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u63a8\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$$dp_i=\\max_{\\text{$s_j$\u4e3a$s_i$\u524d\u7f00}}\\{dp_j\\}+1$$\n\n\u90a3\u4e48\u5982\u4f55\u5224\u65ad\u90a3\u4e9b\u5b57\u7b26\u4e32\u662f$i$\u7684\u524d\u7f00\u5462\uff1f\n\n\u9898\u76ee\u975e\u5e38\u826f\u5fc3\u5730\u544a\u8bc9\u4e86\u6211\u4eec\u8fd9\u4e9b\u5b57\u7b26\u4e32\u90fd\u662f\u6309\u7167\u5b57\u5178\u5e8f\u6392\u5217\u7684\u3002\u56e0\u6b64\uff0c\u82e5$s_j$\u4e3a$s_i$\u7684\u524d\u7f00\uff0c\u90a3\u4e48\u80af\u5b9a\u5c31\u6709$j<i$\u3002\u4e8e\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06$i$\u4e4b\u524d\u6240\u6709\u7684\u5b57\u7b26\u4e32\u63d2\u5165\u5230\u54c8\u5e0c\u8868\u91cc\u3002\u7136\u540e\u641c\u7d22\u8d77\u6765\u5c31\u975e\u5e38\u65b9\u4fbf\u4e86\u3002\n\n\u8fd9\u91cc\u6309\u7167\u8fd9\u6837\u7684\u65b9\u6cd5\u8fdb\u884c\u54c8\u5e0c\uff1a\n\n$$H(S)=\\sum_{i=0}^{S.size-1}S_i\\times seed^i$$\n\n\u6362\u53e5\u8bdd\u8bf4\uff0c\u5c31\u662f\u5c06$S$\u8f6c\u6362\u6210$seed$\u8fdb\u5236\u3002\u4e3a\u4e86\u65b9\u4fbf\u5904\u7406\uff0c\u6211\u4eec\u5bf9\u5b83\u4f7f\u7528$\\text{unsigned long long}$\u7684\u81ea\u7136\u6ea2\u51fa\u3002(\u5373\u81ea\u52a8\u5bf9$2^{64}$\u53d6\u6a21)\n\n\u5f88\u663e\u7136\uff0c\u5f53$i$\u8fdb\u884c\u5230\u7b2c$k$\u6b65\u65f6\uff0c$H$\u7684\u503c\u4e3a$S$\u7684\u524d\u7f00$S_{0..k}$\u7684\u54c8\u5e0c\u503c\u3002\u56e0\u6b64\u6211\u4eec\u53ea\u9700\u8981\u901a\u8fc7\u8fd9\u4e2a\u54c8\u5e0c\u503c\u5bfb\u627e\u524d\u9762\u662f\u5426\u6709\u5b57\u7b26\u4e32\u7684\u54c8\u5e0c\u503c\u4e3a$H$\u5c31\u53ef\u4ee5\u4e86\u3002\u5173\u4e8e\u54c8\u5e0c\u8868\u7684\u5b9e\u73b0\uff0c\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\u7528$\\text{map}$\u76f4\u63a5\u6620\u5c04\u3002\u8fd9\u91cc\u7528\u94fe\u5f0f\u524d\u5411\u661f\u5b9e\u73b0\u4e00\u4e2a\u7b80\u5355\u7684\u94fe\u8868\u54c8\u5e0c\u3002\n\n\u6211\u4eec\u77e5\u9053\uff0c\u94fe\u5f0f\u524d\u5411\u661f\uff08\u5c31\u662f\u56fe\u8bba\u91cc\u7ecf\u5e38\u7528\u6765\u5efa\u56fe\u7684\u90a3\u4e2a\uff09\uff0c\u5176\u672c\u8d28\u4e3a**\u52a8\u6001\u94fe\u8868**\u3002$\\text{add(u,v,w)}$\u672c\u8d28\u4e0a\u548c\u90bb\u63a5\u8868\u7c7b\u4f3c\uff0c\u5c31\u662f\u5728\u5934\u6307\u9488\u4e3a$u$\u7684\u94fe\u8868\u91cc\u63d2\u5165\u4e86\u4e24\u4e2a\u6570$u$\u548c$w$\u3002\u7531\u4e8e\u54c8\u5e0c\u503c\u53ef\u80fd\u5f88\u5927($2^{64}$\u7ea7\u522b)\uff0c\u6240\u4ee5\u6211\u4eec\u5c06\u5b83\u5bf9$T=10^5+3$\u53d6\u6a21\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u8fdb\u884c\u521d\u6b65\u5206\u7c7b\uff08\u4e24\u4e2a\u76f8\u540c\u7684\u54c8\u5e0c\u503c\u6a21\u540c\u4e00\u4e2a\u6570\u4f59\u6570\u76f8\u540c\uff09\uff1b\u7136\u540e\u6bcf\u4e2a\u94fe\u8868\u5185\u63d2\u5165\u54c8\u5e0c\u503c\u539f\u59cb\u6570\u636e$H$\uff0c\u67e5\u8be2\u7684\u65f6\u5019\u53ea\u9700\u8981\u641c\u7d22\u5bf9\u5e94\u8868\u5934\u4e2d\u662f\u5426\u6709\u5bf9\u5e94\u54c8\u5e0c\u503c\u5373\u53ef\u3002\n\n\u7528\u8fd9\u79cd\u65b9\u6cd5\u7684\u6709\u70b9\u662f\u5728\u4e0d\u5f00$O(2)$\u7684\u60c5\u51b5\u4e0b\u5f97\u5230\u6bd4$\\text{map}$\u66f4\u5feb\u7684\u901f\u5ea6(\u5f00\u4e86$O2$\u4f9d\u65e7\u5bb9\u6613\u88ab$\\text{STL}$\u540a\u6253$\\text{orz}$)\u3002\u540c\u65f6\u7528\u53d6\u6a21\u7f29\u5c0f\u4e86\u7a7a\u95f4\u590d\u6742\u5ea6\uff0c\u7528\u51e0\u4e4e\u53ef\u4ee5\u5ffd\u7565\u7684\u5c0f\u89c4\u6a21\u7684\u641c\u7d22\u907f\u514d\u4e86\u54c8\u5e0c\u78b0\u649e\uff0c\u6700\u7ec8\u80fd\u83b7\u5f97\u8f83\u597d\u7684\u6548\u679c\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6$\\mathcal O(L)$\uff0c\u5176\u4e2d$L$\u4e3a\u5b57\u7b26\u4e32\u603b\u957f\u5ea6\u3002\n\n\u867d\u7136\u54c8\u5e0c\u7b97\u6cd5\u8bb2\u4e86\u4e00\u5927\u5806\uff0c\u7136\u800c\u5b9e\u73b0\u8d77\u6765\u53ea\u6709\u94fe\u5f0f\u524d\u5411\u661f\u548c\u51e0\u53e5\u8bdd\u7684\u67e5\u627e\u3002\u6240\u4ee5\u5176\u5b9e\u7801\u91cf\u633a\u5c0f\u7684\u3002\n\n## \u53c2\u8003\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define up(l,r,i) for(int i=l;i<=r;i++)\n#define dn(l,r,i) for(int i=l;i>=r;i--)\nusing namespace std;\n\ntypedef long long LL;\nconst int INF =2147483647;\nint qread(){\n    int w=1,c,ret;\n    while((c=getchar())> '9'||c< '0')\n    w=(c=='-'?-1:1); ret=c-'0';\n    while((c=getchar())>='0'&&c<='9')\n    ret=ret*10+c-'0';\n    return ret*w;\n}\ntypedef unsigned long long ULL;\nconst int MAXN =2e3+3,MAXM=75+3;\nint n,dp[MAXN],ans; char T[MAXM]; ULL seed=13331;\n\nint reads(char *s){\n    int len=0,c; while((c=getchar())==10||c==13||c==32);\n    if(c==EOF) return -1;\n    s[len++]=c;  while((c=getchar())!=10&&c!=13&&c!=32&&c!=EOF)\n    s[len++]=c;  s[len]=0; return len;\n}\nconst int SIZ=1e5+3;\nint head[SIZ],nxt[MAXN],val[MAXN],tot; ULL ver[MAXN];\nvoid add(int u,ULL v,int w){\n    ver[++tot]=v,nxt[tot]=head[u],val[tot]=w,head[u]=tot;\n}\nint  fnd(ULL h){\n    int p=h%SIZ; for(int i=head[p];i;i=nxt[i])\n    if(ver[i]==h) return val[i]; return 0;\n}\nint main(){\n    n=qread(); up(1,n,i){\n        int lt=reads(T); ULL h=0; up(1,lt,j){\n            h=h*seed+T[j-1],dp[i]=max(dp[i],dp[fnd(h)]);\n        }\n        ++dp[i]; add(h%SIZ,h,i),ans=max(ans,dp[i]);\n    }\n    printf(\"%d\\n\",ans);\n    return 0;   \n}\n```",
        "postTime": 1583406230,
        "uid": 68344,
        "name": "\u79bb\u6563\u5c0f\u6ce2\u53d8\u6362\u00b0",
        "ccfLevel": 9,
        "title": "\u3010\u9898\u89e3\u3011\u3010P1481 \u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "**\u597d\u5427\uff0c\u770b\u4e86\u90a3\u4e48\u591a\u9898\u89e3\uff0c\u90fd\u6ca1\u6709\u4e00\u4e2a\u7528map\u7684**\n\n**\u8ba9\u6211\u6765\u79c0\u4e00\u4e0b\uff08\u9003**\n\n\n------------\n\u9996\u5148\uff0c\u5148\u628a\u6240\u6709\u7684\u5b57\u7b26\u4e32\u7528map\u8bb0\u5f55\u4e2a\u6570\n\n\u7136\u540e\u518d\u628a\u6bcf\u4e2a\u5b57\u7b26\u4e32\u622a\u53d6\uff0c\u7528sum\u5b58\u5b50\u4e32\u7684\u603b\u4e2a\u6570\n\n\u6700\u540e\u4e0eans\u53d6\u6700\u5927\u503c\n\n\n------------\n\u4ee3\u7801\u5949\u4e0a\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nmap <string,int> f;\nint n,ans;\nstring s[2005];\nint main()\n{\n    cin>>n;\n    for(int i=1;i<=n;i++)\n    {\n        cin>>s[i];\n        f[s[i]]++;\n    }\n    for(int i=1;i<=n;i++)\n    {\n        int sum=0; string a=\"\";\n        for(int j=0;j<s[i].size();j++) a+=s[i][j],sum+=f[a];\n        ans=max(ans,sum);\n    }\n    cout<<ans;\n    return 0;\n}\n```\n",
        "postTime": 1579411396,
        "uid": 69288,
        "name": "zuytong",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "\u7ffb\u4e86\u7ffb\u9898\u89e3\u6ca1\u6709\u54c8\u5e0c\u505a\u6cd5\uff0c\u6765\u53d1\u4e00\u4e0b\u3002\n\n## $Solution$\n\n\u672c\u9898\u5c31\u662f\u7528\u4e00\u4e2a\u5355\u8bcd\u4f5c\u4e3a\u8bcd\u6839\uff0c\u6709\u591a\u5c11\u4e2a\u5355\u8bcd\u662f\u4ed6\u7684\u524d\u7f00\uff0c\u6c42\u6700\u591a\u524d\u7f00\u7684\u4e2a\u6570\u3002\n\n\u8003\u8651\u54c8\u5e0c\u5b9e\u73b0\u6bd4\u8f83\u524d\u7f00\u7684\u8fc7\u7a0b\u3002\n\n\u5148\u9884\u5904\u7406\u54c8\u5e0c\u6570\u7ec4 $Ha_{i, j}$ \u8868\u793a\u7b2c $i$ \u4e2a\u5230\u7b2c $j$ \u4f4d\u7684\u54c8\u5e0c\u503c\u3002\n\n\u6bd4\u8f83\u65b9\u6cd5\u5c31\u662f\u5224\u65ad $Ha[i][len] == Ha[j][len]$ \u3002\n\n\u91c7\u7528\u4e86\u81ea\u7136\u6ea2\u51fa\u54c8\u5e0c\uff0c\u6bd4\u8f83\u65b9\u4fbf\u4e0d\u7528\u53d6\u6a21\u3002\n\n## $Code:$\n\n```cpp\n#include <bits/stdc++.h>\n//#include <tr1/unordered_map>\n//#include\"Bignum/bignum.h\"\n//#define lll bignum\n#define lowbit(x) (x & -x)\n#define debug(x) (cout << \"#x = \" << (x) << endl)\n#define Set(x, i) memset (x, i, sizeof(x))\n#define R register\n#define For(i, j, k) for(R int i = (j); i <= (k); ++i)\n#define foR(i, j, k) for(R int i = (j); i >= (k); --i)\n#define Cross(i, j, k) for(R int i = (j); i; i = (k))\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\nconst ll N = 2011;\nconst ll INF = 5e16;\n\n/*\n\t\u8bbe f[i] \u8868\u793a\u7528\u7b2c i \u4e2a\u5355\u8bcd\u505a\u8bcd\u5934\u80fd\u5305\u542b\u7684 \n\t\u6700\u591a\u7684\u5355\u8bcd\u6570\u3002 \n*/\n\nll n, f[N];\nchar s[N][N];\n\nnamespace IO {\n\n\tinline char gc() {\n\t\tstatic char buf[100000], *p1 = buf, *p2 = buf;\n\t\treturn (p1 == p2) && (p2 = (p1 = buf) +\n\t\t\tfread (buf, 1, 100000, stdin), p1 == p2)? EOF: *p1++;\n\t}\n\n\t#define dd ch = getchar()\n\tinline ll read() {\n\t\tll x = 0; bool f = 0; char dd;\n\t\tfor (; !isdigit (ch); dd) f ^= (ch == '-');\n\t\tfor (; isdigit (ch); dd)  x = x * 10 + (ch ^ 48);\n\t\treturn f? -x: x;\n\t}\n\t#undef dd\n\n\tinline void write( ll x ) {\n\t\tif (x < 0) putchar ('-'), x = -x;\n\t\tif (x > 9) write (x / 10); putchar (x % 10 | 48);\n\t}\n\n\tinline void wrn ( ll x ) { write (x); putchar (' '); }\n\n\tinline void wln ( ll x ) { write (x); putchar ('\\n'); }\n\n\tinline void wlnn ( ll x, ll y ) { wrn (x), wln (y); }\n\n}\n\nusing IO::wln;\nusing IO::read;\n\nll Ans = 0;\null Base = 131, Ha[N][N];\n\nint main()\n{\n//\tfreopen(\".in\", \"r\", stdin);\n//\tfreopen(\".out\", \"w\", stdout);\n\tn = read();\n\tFor ( i, 1, n ) cin >> (s[i] + 1);\n\tFor ( i, 1, n ) {\n\t\tll len = strlen (s[i] + 1);\n\t\tFor ( j, 1, len ) Ha[i][j] = Ha[i][j - 1] * Base + s[i][j];\n\t}\n\tFor ( i, 1, n ) {\n\t\tll A = 0, len = strlen (s[i] + 1);\n\t\tFor ( j, 1, n ) {\n\t\t\tll Len = strlen (s[j] + 1);\n\t\t\tif (len >= Len && Ha[i][Len] == Ha[j][Len]) ++A;\n\t\t}\n\t\tf[i] = A;\n\t} \n\tFor ( i, 1, n ) Ans = max (Ans, f[i]);\n\treturn wln (Ans), 0;\n}\n\n/*\n\n*/\n\n\n\n```",
        "postTime": 1561332734,
        "uid": 104379,
        "name": "Cesare",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "## \u4f3c\u4e4e\u8fd8\u6ca1\u62d3\u6251\u7684\u65b9\u6cd5\n## \u6211\u6765\u4e00\u53d1\n\u524d\u7f00\u5411\u5176\u540e\u9762\u8fde\u8fb9\n\n\u6bcf\u4e2a\u70b9\u3001\u6bcf\u6761\u8fb9\u53ea\u53ef\u80fd\u505a\u4e00\u6b21\n\n$O(n+m)$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nchar s[2010][75];\nint next[2010][2010];\nint f[2010];\nint n;\nint in[2010];\nbool vis[2010];\nint zan[2010];\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;++i)\n\t\tscanf(\"%s\",s[i]);\n\tfor(int i=1;i<=n;++i)\n\t\tfor(int j=1;j<=n;++j)\n\t\t{\n\t\t\tif(i!=j)\n\t\t\t{\n\t\t\t\tif(strlen(s[i])>=strlen(s[j]))continue;\n\t\t\t\tbool flag=true;\n\t\t\t\tint len=strlen(s[i]);\n\t\t\t\tfor(int k=0;k<len;++k)\n\t\t\t\t\tif(s[i][k]!=s[j][k])\n\t\t\t\t\t{\n\t\t\t\t\t\tflag=false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n                //\u5224\u65ad\n\t\t\t\tif(flag)\n\t\t\t\t{\n\t\t\t\t\tnext[i][++next[i][0]]=j;\n\t\t\t\t\t++in[j];\n\t\t\t\t}\n                //\u8fde\u8fb9\n\t\t\t}\n\t\t}\n\tint cnt=n;\n\tfor(int i=1;i<=n;++i)\n\t\tzan[i]=in[i];\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tfor(int j=1;j<=n;++j)\n\t\t{\n\t\t\tif(!vis[j]&&in[j]==0)\n\t\t\t{\n\t\t\t\tfor(int k=1;k<=next[j][0];++k)\n\t\t\t\t\t--zan[next[j][k]];\n\t\t\t\tvis[j]=true;\n\t\t\t\t--cnt;\n\t\t\t}\n\t\t}\n\t\tif(cnt==0)\n\t\t{\n\t\t\tprintf(\"%d\",i);\n\t\t\treturn 0;\n\t\t}\n\t\tfor(int j=1;j<=n;++j)\n\t\t\tin[j]=zan[j];\n\t}\n    //\u62d3\u6251\n\treturn 0;\n}\n```",
        "postTime": 1519909527,
        "uid": 29519,
        "name": "qianfujia",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "### \u8fd9\u9053\u9898\u4e5f\u662f\u6700\u6700\u957f\u4e0d\u4e0b\u964d\u5b50\u5e8f\u5217\u7684\u601d\u8def\u2026\u2026\n\n\u770b\u4e86\u770b\u5176\u4ed6\u9898\u89e3\uff0c\u62d3\u6251\u3001\u54c8\u5e0c\u2026\u2026\u672c\u849f\u84bb\u53ea\u4f1a\u7528find\u51fd\u6570\u3002\n\n\u53ef\u4ee5\u628a\u6bcf\u4e00\u4e2a\u5b57\u7b26\u4e32\u770b\u4f5c\u4e00\u4e2a\u6570\uff0c\u5176\u4e2d\u5982\u679ca\u5b57\u7b26\u4e32\u5305\u542bb\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u770b\u505aa\u6570\u6bd4b\u6570\u5927\u3002\u7136\u540e\u5c31\u53ef\u4ee5\u8dd1\u4e00\u8fb9\u6700\u957f\u5347\u4e86\u3002\n\u6ce8\u610f\u6700\u540e\u8981\u7edf\u8ba1\u7b54\u6848\u3002\n```\n#include<iostream>\n\n#define maxn 2001\n\nusing namespace std;\n\nint n,f[maxn],maxlen;//f[i]\u8868\u793a\u5230\u7b2ci\u4e2a\u4e32\u6700\u957f\u94fe\u957f\u5ea6\nstring s[maxn];\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>s[i];\n\t\tf[i]=1;//\u521d\u59cb\u503c\u6bcf\u4e00\u4e2a\u4e32\u90fd\u662f\u4e00\u6761\u5355\u72ec\u7684\u94fe\uff0c\u957f\u5ea6\u4e3a1\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=i+1;j<=n;j++){//\u679a\u4e3ei\u5f80\u540e\u7684\u4e32\n\t\t\tif(s[j].find(s[i])==0) f[j]=max(f[j],f[i]+1);//\u7531i\u9012\u63a8\u5230j\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tmaxlen=max(maxlen,f[i]);//\u7edf\u8ba1\u7b54\u6848\n\t}\n\tcout<<maxlen<<endl;\n\treturn 0;\n}\n```\n#### \u5173\u4e8efind\u51fd\u6570\u7684\u4e00\u70b9\uff1a\n\n\u5982\u679ca\u5b57\u7b26\u4e32\u4e0d\u5305\u542bb\u4e32\uff0ca.find(b)\u8fd4\u56destring::npos",
        "postTime": 1575775467,
        "uid": 153139,
        "name": "\u98ce\u7fbd\u8dc3",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "# \u89e3\u6cd5\uff1a\u8bb0\u5fc6\u5316\u641c\u7d22\n\ndfs\u4e2d\u5224\u65ad\u65b9\u6cd5\uff1a\u6211\u4f7f\u7528\u4e86string\u4e2d\u7684find\u51fd\u6570\uff01\n\nfind\u51fd\u6570\u5982\u679c\u627e\u5230\uff0c\u4f1a\u8fd4\u56de\u627e\u5230\u7684\u5f00\u5934\u7684\u4f4d\u7f6e\u7684\u4e0b\u6807\u3002\n\n\u4e3e\u4f8b\uff1a\n\nabc\n\nabcabc\n\n012345\n\nabcabc.find(abc)=0\n\n\u672c\u9898\u7531\u4e8e\u8981\u6c42\u662f\u524d\u7f00\uff0c\u6240\u4ee5\u5f00\u5934\u4f4d\u7f6e\u4e0b\u6807\u5e94\u8be5\u662f0\uff01\n\n-----------------------------------\n\n\u9700\u8981\u6ce8\u610f\u4e00\u4e0b\uff1a\u8981for\u5faa\u73af\u679a\u4e3e\u6bcf\u4e00\u4e2a\u8d77\u59cb\u70b9\uff0c\u5982\u679c\u53ea\u662f\u5355\u7eaf\u7684dfs(1)\u4f1aWA\uff01\n\n\u4ee3\u7801\u6709\u6ce8\u91ca\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,ans,f[200005];\nstring s[20005];\nint dfs(int Nnum){//Nnum\u8868\u793a\u73b0\u5728\u641c\u5230\u7684\u5b57\u7b26\u4e32\u7684\u5e8f\u53f7\n\tif(f[Nnum]!=-1) return f[Nnum];//\u8bb0\u5fc6\u5316\n\tint dfs1=0;//\u7528\u4e8e\u8bb0\u5fc6\u5316\n    for(int i=Nnum+1;i<=n;i++) //\u5f80\u540e\u9762\u641c\n        if(s[i].find(s[Nnum])==0) //\u5982\u679c\u5f53\u524d\u5b57\u7b26\u4e32\u662f\u540e\u9762\u5b57\u7b26\u4e32\u7684\u524d\u7f00\n\t\t\tdfs1=max(dfs1,dfs(i)+1); \n    return f[Nnum]=dfs1;//\u6807\u8bb0\n}\nint main(){\n    memset(f,-1,sizeof(f));//\u521d\u59cb\u5316\n\tscanf(\"%d\",&n);\n    for(int i=1;i<=n;i++) cin>>s[i];\n    for(int i=1;i<=n;i++) printf(\"%d\\n\",dfs(i)+1);\n    return 0;\n}\n```\n\nok",
        "postTime": 1562839603,
        "uid": 75064,
        "name": "prefer",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "**C++\u7684\u8e39\u6811\u505a\u6cd5**\n\n\u7528\u8e39\u6811\u6784\u5efa\u7136\u540e\u518d\u8dd1\u904dDFS\u5c31\u884c\u4e86\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\nusing namespace std;\nstruct tiel{\n\tint non[26];\n\tint ed;//\u5f53\u524d\u8282\u70b9\u662f\u51e0\u4e2a\u5355\u8bcd\u7684\u7ed3\u5c3e\n}a[800000];\nint nod=0;\nint n;\nint len;\nint anss;\nchar noc[400];\nvoid dfs(int nod,int ans){\n\tans+=a[nod].ed;//ans\u8bb0\u5f55\n\tbool die=1;\n\tfor(int w=0;w<=25;w++){\n\t\tif(a[nod].non[w]!=0)dfs(a[nod].non[w],ans),die=false;//\u5982\u679c\u8fd9\u4e2a\u8282\u70b9\u4e0b\u9762\u6ca1\u6709\u4e86\u5c31\u6536\u5c3e\n\t}\n\tif(die==true)anss=max(anss,ans);//\u53d6\u6700\u5927\u7684\n}\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int w=1;w<=n;w++){\n\t\tscanf(\"%s\",noc);\n\t\tlen=strlen(noc);\n\t\tint nonc=0;\n\t\tfor(int i=0;i<len;i++){\n\t\t\t//\u6211\u61d2\u5f97\u5199\u6784\u9020\u51fd\u6570\u4e86\uff0cTiel\u6811\u6784\u5efa\u90e8\u5206\n\t\t\twhile(a[nonc].non[noc[i]-'a']!=0&&i<len){\n\t\t\t\tnonc=a[nonc].non[noc[i]-'a'];\n\t\t\t\tif(i==len-1)a[nonc].ed++;\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif(i<len){\n\t\t\t\tnod++;\n\t\t\t\ta[nonc].non[noc[i]-'a']=nod;\n\t\t\t\tnonc=nod;\n\t\t\t\tif(i==len-1)a[nonc].ed++;\n\t\t\t}\n\t\t\t//Tiel\u6811\u6784\u5efa\u90e8\u5206\n\t\t}\n\t}\n\tdfs(0,0);\n\tprintf(\"%d\",anss);\n}\n\n```",
        "postTime": 1530689650,
        "uid": 59630,
        "name": "NTG_Adiord",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "# **C++ STL \u5927\u6cd5\u597d\uff01**\n\nC++STL\u91cc\u6709\u4e00\u4e2a\u53eb**string**\u7684\u4e1c\u897f\uff0c\u5b83\u6709\u4e00\u4e2a\u53eb**find\uff08\uff09**\u7684\u51fd\u6570\uff0c\u5f53**s1.find(s2)=0** \u65f6\uff0c**s1\u7684\u524d\u7f00\u5c31\u662fs2**\u4e86\u3002\n\n\u5269\u4e0b\u7684\u4fbf\u662f\u719f\u77e5\u7684**\u6700\u957f\u4e0a\u5347\u5b50\u5e8f\u5217**\u4e86\u3002\n\n  \n\n    \n    \n```cpp\n    #include<bits/stdc++.h>//\u4e07\u80fd\u5e93\u5927\u6cd5\u597d\n    using namespace std;\n    int n,ans=0;\n    string s[2010];//STL\u5927\u6cd5\u597d\n    int dp[2010];\n    int max(int x,int y)//\u7cfb\u7edf\u51fd\u6570\u6162\n    {\n        return x<y?    y:x;\n    }\n    int main()\n    {\n        ios::sync_with_stdio(0);//\u61d2\u4eba\u505a\u6cd5\n        cin>>n;\n        for(int i=1;i<=n;i++)    cin>>s[i];\n        for(int i=1;i<=n;i++)\n        {\n            dp[i]=1;\n            for(int j=1;j<i;j++)\n                if(s[i].find(s[j])==0)//\u91cd\u5934\u620f\u5728\u8fd9\u91cc\n                    dp[i]=max(dp[i],dp[j]+1);\n            ans=max(ans,dp[i]);\n        }\n        cout<<ans;\n        return 0;\n}\n```",
        "postTime": 1513064125,
        "uid": 41584,
        "name": "daniel14311531",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "#### \u5206\u660e\u5c31\u662f\u4e00\u9053Trie\u6811\u88f8\u9898...\n\u7528Trie\u6811\u50a8\u5b58\u5b57\u6bcd\uff0c\u7136\u540e\u8dd1\u4e00\u904dbfs\uff0c\u8bb0\u5f55\u8fd9\u4e2a\u5355\u8bcd\u5305\u542b\u4e86\u591a\u5c11\u4e2a\u5355\u8bcd\u3002\n\n\uff08\u5982\u679c\u67d0\u4e00\u4e2a\u5b57\u6bcd\u662f\u53e6\u4e00\u4e2a\u5355\u8bcd\u7684\u7ed3\u5c3e\uff0c\u90a3\u4e48\u8ba1\u6570\u5668+1\uff09\n```cpp\n#include<iostream>\n#include<cmath>\n#include<cstring>\n#include<cstdio>\n#include<queue>\nusing namespace std;\nstruct tree\n{\n\tint son[26],cnt;\n\tbool word;\n\ttree(){memset(son,0,sizeof(son)),cnt=0,word=false;}\n}t[150000];\nint num;\nqueue <int> q;\ninline void insert(string s)\n{\n\tint now=0;\n\tfor(register int i=0;i<s.size();i++)\n\t{\n\t\tint v=s[i]-'a';\n\t\tif(!t[now].son[v]) t[now].son[v]=++num;\n\t\tnow=t[now].son[v];\n\t}\n\tt[now].word=1;\n}                                                    //\u5efa\u6811\u5b58\u8bcd\u4e0d\u7528\u591a\u8bf4 \ninline int bfs()                                     //\u5e7f\u641cbfs \n{\n\tint now=0,ans=0;\n\tq.push(now);\n\twhile(!q.empty())\n\t{\n\t\tnow=q.front();\n\t\tq.pop();\n\t\tfor(register int i=0;i<26;i++)\n\t\t{\n\t\tif(t[now].son[i]) q.push(t[now].son[i]);\n\t\tt[t[now].son[i]].cnt=t[now].cnt;\n\t\tif(t[t[now].son[i]].word) t[t[now].son[i]].cnt++; //\u5224\u65ad\u8be5\u5b57\u6bcd\u662f\u4e0d\u662f\u53e6\u4e00\u4e2a\u5355\u8bcd\u7684\u7ed3\u5c3e \n\t\t}\n\t\tif(ans<t[now].cnt) ans=t[now].cnt;\n\t}\n\treturn ans;\n}\nint main()\n{\n\tint n,i,ans;\n\tstring s;\n\tscanf(\"%d\",&n);\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tcin>>s;\n\t\tinsert(s);\n\t}\n\tans=bfs();\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1551005396,
        "uid": 59980,
        "name": "lianliangyu",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "## string\u4e2d\uff0c\u522b\u4eba\u90fd\u7528find\uff0c\u6211\u7528substr\uff01\n### code:\n![](https://cdn.luogu.com.cn/upload/pic/38466.png)",
        "postTime": 1539868074,
        "uid": 90693,
        "name": "_\u2022\u0301\u3078\u2022\u0301\u256c_",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "**\u601d\u8def\u548c\u697c\u4e0b\u7684\u5176\u5b9e\u5dee\u4e0d\u4e86\u591a\u5c11\uff0c\u4f46\u662f\uff0c\u697c\u4e0b\u7684\u90fd\u592a\u590d\u6742\u4e86\uff0c\u6ca1\u6709\u6b63\u786e\u5730\u597d\u597d\u4f7f\u7528char\u7684\u76f8\u5173\u51fd\u6570\uff0c\u4e00\u4e2astrncmp\u80fd\u641e\u5b9a\u7684\u4e3a\u4ec0\u4e48\u8981\u90a3\u4e48\u590d\u6742**\n\n\u6211\u4e00\u5f00\u59cb\u4ee5\u4e3a\u7528string\u66f4\u65b9\u4fbf\uff0c\u4f46\u662f\u6ca1\u6709\u627e\u5230\u6bd4\u8f83\u597d\u7684\u6bd4\u8f83\u51fd\u6570\uff0c\u7d22\u6027\u5c31\u7528\u4e86char\n\n\n\u601d\u8def\uff1a\u9996\u5148\u8003\u8651\u5230\u5b57\u7b26\u4e32\u5e94\u8be5\u8981\u6392\u5e8f\uff0c\u4e0d\u8fc7\u9898\u5e72\u91cc\u8bf4\u660e\u4e86\uff0c\u6309\u5b57\u5178\u5e8f\u7ed9\u51fa\uff0c\u90a3\u5c31\u5f88\u597d\u529e\u4e86\uff0c\u4e0d\u7136\u6211\u4e5f\u4e0d\u77e5\u9053char\u600e\u4e48\u6392\u3002\n\n**\u6838\u5fc3\u8981\u70b9**\u662f\u7528f[i]\u8868\u793a\u7b2ci\u4e2a\u5b57\u6bcd\u80fd\u5f97\u5230\u7684\u6700\u4f18\u89e3\uff0c\u53ea\u9700\u4e00\u4e2aj(1<=j<i)\uff0c\u5728\u4e0b\u6807\u4e3aj\u7684f\u4e2d\u627e\u5230\u4e00\u4e2a\u53ef\u4ee5\u5339\u914d\u5e76\u4e14\u503c\u6700\u5927\u7684\uff0c\u9009\u62e9\u8fd9\u4e2af[j]\uff0c\u5e76\u52a0\u4e0a\u5b83\u672c\u8eab\u7684\u8fd9\u4e00\u4e2a\u5355\u8bcd\u6570\uff0c\u5373f[i]=f[j]+1\n\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#define MAXN 2001\nchar s[MAXN][76];\nint f[MAXN];\nint main()\n{\n    int n;\n    scanf(\"%d\\n\",&n);\n    for(int i=1;i<=n;i++)\n        scanf(\"%s\",s[i]);\n    f[1]=1;//\u521d\u59cb\u5316\uff0c\u7b2c\u4e00\u4e2a\u5b57\u4e32\u7684\u6700\u4f18\u89e3\u4e3a1\n    for(int i=2;i<=n;i++)\n    {\n        int MAX=0;\n        for(int j=i-1;j>=1;j--)\n            if(MAX<f[j]&&!strncmp(s[i],s[j],strlen(s[j])))//\u627e\u5230\u4e00\u4e2a\u6700\u5927\u7684\uff0c\u91cd\u70b9\u662fstrncmp\u8fd9\u4e2a\u51fd\u6570\uff0c\u7528\u6cd5:strncmp(\u5b57\u7b26\u4e321\uff0c\u5b57\u7b26\u4e322\uff0c\u957f\u5ea6n\uff09\n                MAX=f[j];\n        f[i]=MAX+1;\n    }\n    int ans=0;\n    for(int i=1;i<=n;i++)//\u56e0\u4e3a\u6700\u4f18\u89e3\u4e0d\u4e00\u5b9a\u5728f[n]\u4e2d\uff0c\u6240\u4ee5\u9700\u8981\u626b\u4e00\u904d\n        if(ans<f[i])\n            ans=f[i];\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1480832854,
        "uid": 20116,
        "name": "never_see",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "~~\u8fd9\u662f\u4e00\u7bc7\u5947\u5947\u602a\u602a\u7684\u9898\u89e3~~\n\n\u6700\u5f00\u59cb\u770b\u5230\u8fd9\u9053\u9898\u628a\u6211\u5413\u4e86\u4e00\u8df3,\u6211\u4ee5\u4e3a\u8981\u81ea\u5df1\u7ec4\u5355\u8bcd~~\u8bed\u6587\u592a\u5dee\u4e86~~,\u7136\u540e\u4ed4\u7ec6\u4e00\u770b\u9898,\u53d1\u73b0\u8fd9\u4e0d\u5c31\u662fdp\u5417?\n\n\u800c\u4e14\u8fd9\u4e2a\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u8fd8\u633a\u597d\u5199\u7684:   $f_i$=$max($$f_i,f_j+1$);\n\n\u7136\u540e\u76f4\u63a5\u4e0a\u4ee3\u7801:\n```\n#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn=2010;\nint n,ans,dp[maxn];\nstring s[maxn];\nint main() \n{\n    cin>>n;//\u8f93\u5165\n    for (int i=1;i<=n;i++) \n    {\n        cin>>s[i];\n        dp[i]=1;//\u521d\u59cb\u5316 \n        for (int j=1;j<i;j++) \n       {\n            if (s[i].find(s[j])==0) //\u67e5\u627es[i]\u91cc\u6709\u6ca1\u6709\u4e0es[j]\u4e00\u6837\u7684\u5b50\u4e32\n\t    {\n                dp[i]=max(dp[i],dp[j]+1);//\u8f6c\u79fb\n            }\n        }\n        ans=max(ans,dp[i]);//\u5728\u5faa\u73af\u4e2d\u5c31\u628aans\u6c42\u51fa,\u4e0d\u5fc5\u518d\u5faa\u574f\n    }\n    cout<<ans<<endl;\n   \u5b8c\u7ed3\n}\n",
        "postTime": 1584490551,
        "uid": 200060,
        "name": "Magia",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "DP\n\u5224\u65ad\u4e00\u4e2a\u5355\u8bcd\u662f\u4e0d\u662f\u53e6\u4e00\u4e2a\u5355\u8bcd\u7684\u524d\u7f00\uff0c\u7ed9\u51fa\u66b4\u529b\u548c\u53cc\u5173\u952e\u5b57hash\u4e24\u79cd\u6253\u6cd5\n\n```cpp\n//\u66b4\u529b\n#include<iostream>\n#include<cstring>\nusing namespace std;\nstring s[2005];\nint f[2005];\nbool pd(int x,int y)\n{\n    if(s[x].size()>s[y].size())\n    {    \n     for(int i=0;i<s[y].size();i++)\n      if(s[x][i]!=s[y][i])\n       return false;\n    return true;\n    }\n    else\n     return false;\n}\nint main()\n{\n    int N,maxx=0;\n    cin>>N;\n    for(int i=1;i<=N;i++)\n    {\n        cin>>s[i];\n        int maxn=0;\n        for(int j=1;j<i;j++)\n         if(pd(i,j))\n          maxn=max(maxn,f[j]);\n        f[i]=maxn+1;\n        maxx=max(maxx,f[i]);\n    }\n    cout<<maxx;\n}\n//hash,\u7c7b\u4f3c\u524d\u7f00\u548c\n#include<iostream>\n#include<cstring>\nusing namespace std;\nstring s[2005];\nint f[2005];\nunsigned long long h1[2005][80],h2[2005][80],p1[1000],p2[1000];\nvoid hash1(int x)\n{\n    h1[x][1]=s[x][0]-'a'+1;\n    for(int i=2;i<=s[x].size();i++)\n     h1[x][i]=(s[x][i-1]-'a'+1)*p1[i]+h1[x][i-1];\n}\nvoid hash2(int x)\n{\n    h2[x][1]=s[x][0]-'a'+1;\n    for(int i=2;i<=s[x].size();i++)\n     h2[x][i]=(s[x][i-1]-'a'+1)*p2[i]+h2[x][i-1];\n}\nbool pd(int x,int y)\n{\n  if(s[x].size()<=s[y].size())\n   return false;\n  if(h1[y][s[y].size()]==h1[x][s[y].size()]&&h2[y][s[y].size()]==h2[x][s[y].size()])\n   return true;\nreturn false;\n}\nint main()\n{\n    int N,maxx=0;\n    cin>>N;\n    p1[0]=p2[0]=1;\n    for(int i=1;i<=76;i++)\n     p1[i]=p1[i-1]*29;\n    for(int i=1;i<=76;i++)\n     p2[i]=p2[i-1]*37;\n    for(int i=1;i<=N;i++)\n    {\n        cin>>s[i];\n        hash1(i);\n        hash2(i);\n        int maxn=0;\n        for(int j=1;j<i;j++)\n         if(pd(i,j))\n          maxn=max(maxn,f[j]);\n        f[i]=maxn+1;\n        maxx=max(maxx,f[i]);\n    }\n    cout<<maxx;\n}\n```",
        "postTime": 1493348126,
        "uid": 25224,
        "name": "daks",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "\u76f4\u63a5\u6309\u957f\u5ea6sort\u4e00\u4e0b\u540e\u6c42lis\u5373\u53ef\uff0c\u6ce8\u610f\u5355\u8bcd\u8981\u4ece\u7b2c\u4e00\u4f4d\u5f00\u59cb\u5339\u914d\n\n\u00b7\u00b7\u00b7cpp\n\n\n    \n\n                    \n                    \n```cpp\n#include<iostream>\n#include<cstdio>\n#include<string>\n#include<cstring>\n#include<algorithm>\n#define rep(i,s,t) for(int i=s;i<=t;i++)\nusing namespace std;\nint n;\nstring word[2500];\nint f[2500];\nint cmp(string a,string b)\n{\n    if(a.size()<b.size()) return true;\n    if(a.size()>b.size()) return false;\n    return a<b;\n}\nint main()\n{\n    scanf(\"%d\",&n);\n    rep(i,1,n)\n    cin>>word[i];\n    sort(word+1,word+n+1,cmp);\n    rep(i,1,n) f[i]=1;\n    rep(i,1,n)\n        rep(j,1,i-1)\n        {int site=word[i].find(word[j]);\n                if(site==0)\n                    f[i]=max(f[i],f[j]+1);\n        }\n    int ans=0;\n    rep(i,1,n)\n    ans=max(ans,f[i]);\n    printf(\"%d\",ans);\n    return 0;\n}\n```\n\u00b7\u00b7\u00b7",
        "postTime": 1478954421,
        "uid": 14205,
        "name": "ronwhite",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "\u672c\u9898\u2248\u6700\u957f\u4e0d\u964d\u5b50\u5e8f\u5217\uff0c\u53ea\u4e0d\u8fc7\u8c8c\u4f3c\u662f\u5b57\u7b26\u4e32\u7248\u7684\u2026\u2026\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\u2026\u2026\u7b97\u4e86\u6211\u4eec\u4e0d\u63a8\u4e86\uff0c\u5c31\u6a21\u62df\u5427\u2026\u2026\n\n```cpp\n#include<string>\n#include<iostream>\nusing namespace std;\nstring a[2001];\nint n,b[2001],maxn=1,sum,pd;\nint main()\n{\n    cin>>n;\n    for(int i=1;i<=n;i++){cin>>a[i];}\n    b[1]=1;//\u7b2c\u4e00\u4e2a\u6700\u957f\u4e3a1\n    for(int i=2;i<=n;i++)\n    {\n        sum=0;\n        for(int j=i-1;j>=1;j--)\n        {\n            pd=1;//\u5224\u65ad\u662f\u5426\u6bcf\u4e00\u4f4d\u76f8\u540c\n            if(b[j]<sum||a[i].size()<a[j].size()){continue;}//\u5fae\u5c0f\u7684\u526a\u679d\uff08\u6beb\u65e0\u5375\u7528\uff09\n            for(int k=0;k<a[j].size();k++){if(a[i][k]!=a[j][k]){pd=0;break;}}//\u5982\u679c\u6709\u4e00\u4f4d\u4e0d\u4e00\u6837\uff0c\u9000\u51fa\n            if(pd){sum=max(sum,b[j]);}//\u5982\u679c\u524d\u7f00\u76f8\u540c\uff0c\u627e\u6700\u5927\u7684\n        }\n        b[i]=sum+1,maxn=max(maxn,b[i]);//\u6700\u957f\u4e0d\u964d\u2026\u2026\n    }\n    cout<<maxn;\n}\n```",
        "postTime": 1471958835,
        "uid": 14378,
        "name": "doby",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "\u672c\u6765\u89c9\u5f97\u8fc7\u4e0d\u4e86\u7684\u4ee3\u7801\u5c31\u8fd9\u6837\u795e\u5947AC\u4e86\u3002\u3002\u3002\n\n\u524d\u4e00\u4e2a\u5355\u8bcd\u662f\u540e\u4e00\u4e2a\u7684\u524d\u7f00\u65f6\u5c31+1\u3002\u3002\n\n\n```cpp\nvar i,j,n,ans:longint;\n    s:array[1..2001] of string;\n    f:array[1..2001] of longint;\nbegin\n  readln(n);\n  for i:=1 to n do\n    readln(s[i]);\n  for i:=1 to n do\n    for j:=1 to n do\n      if pos(s[i],s[j])=1\n        then inc(f[j]);\n  for i:=1 to n do\n    if f[i]>ans then ans:=f[i];\n  writeln(ans);\nend.\n```",
        "postTime": 1443926410,
        "uid": 3889,
        "name": "q18921892",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "\u6211\u4e5f\u4e0d\u77e5\u600e\u4e48\u56de\u4e8b\u7528Trie\u6811\u5199\u4e00\u4e0b\u5c31\u6c34\u8fc7\u3002\u3002\n\ntype\n Trie=record\n\n       got:longint;\n\nnext:array['a'..'z']of longint\n\n```cpp\n      end;\nvar\n n,i,Tot,Now,Tmp,Ans:longint;\n c:char;\n t:array[0..150005]of Trie;\nbegin\n readln(n);\n for i:=1 to n do\n begin\n  Now:=0;\n  Tmp:=0;\n  while not eoln do\n  begin\n   inc(Tmp,t[Now].got);\n   read(c);\n   if t[Now].next[c]>0 then\n    Now:=t[Now].next[c]\n   else\n    begin\n     inc(Tot);\n     t[Now].next[c]:=Tot;\n     Now:=Tot\n    end\n  end;\n  readln;\n  inc(t[Now].got);\n  inc(Tmp,t[Now].got);\n  if Tmp>Ans then Ans:=Tmp\n end;\n write(Ans)\nend.\n```",
        "postTime": 1438440797,
        "uid": 8073,
        "name": "s_h_y",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    },
    {
        "content": "\u7c7b\u4f3c\u6700\u957f\u4e0d\u4e0b\u964d\u5b50\u5e8f\u5217\u7684\u4e00\u9053dp\n\n\u65e0\u975e\u5c31\u662f\u628a\u5224\u65ad\u5927\u5c0f\u6362\u6210\u5224\u65ad\u524d\u7f00\n\n**f[i]\u8868\u793a[1,i]\u4e2d\u5230\u7b2ci\u4e2a\u5355\u8bcd\u7684\u6700\u5927\u524d\u7f00\u6570\u91cf**\n\n\u5e76\u4e0d\u77e5\u9053\u4e00\u4e9b\u5927\u4f6c\u4e3a\u4ec0\u4e48\u8981\u7528\u590d\u6742\u7684\u51fd\u6570\u5224\u65ad\u524d\u7f00\uff0c\u56e0\u4e3a\u9898\u76ee\u4e2d\u8bf4\u660e\u4e0d\u4f1a\u6709\u91cd\u590d\u7684\u5355\u8bcd\uff0c\u6240\u4ee5\u5982\u679cpos(a,b)=1\uff0c\u90a3\u4e48a\u5c31\u4e00\u5b9a\u662fb\u7684\u524d\u7f00\n\n\u7136\u540e\u5c31\u662f\u5341\u5206\u8001\u5b9e\u7684dp\u4ee3\u7801...\n\n```cpp\npas\nprogram loubcomtuter;\nvar a:array[0..2001] of string;\n    f:array[0..2001] of integer;\n    n,i,j,max:integer;\nbegin\n readln(n);\n for i:=1 to n do f[i]:=1;//\u521d\u59cb\u5316\uff0c\u6ca1\u6709\u524d\u7f00\u7684\u60c5\u51b5\u4e0b\u957f\u5ea6\u4e3a1\n for i:=1 to n do\n  begin\n   readln(a[i]);\n   for j:=1 to i-1 do//\u56e0\u4e3a\u6309\u7167\u5b57\u5178\u987a\u5e8f\uff0c\u4e4b\u540e\u7684\u5355\u8bcd\u91cc\u4e00\u5b9a\u6ca1\u6709a[i]\u7684\u524d\u7f00\n    if (pos(a[j],a[i])=1) and (f[j]>=f[i]) then inc(f[i]);//\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n  end;\n  for i:=1 to n do if f[i]>max then max:=f[i];//f[n]\u4e0d\u4e00\u5b9a\u662f\u6700\u4f18\u89e3\uff0c\u627e\u524d\u7f00\u6570\u91cf\u6700\u591a\u7684\n write(max);\nend.\n```",
        "postTime": 1507958384,
        "uid": 5464,
        "name": "ChoHakuNe",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1481 \u3010\u9b54\u65cf\u5bc6\u7801\u3011"
    }
]