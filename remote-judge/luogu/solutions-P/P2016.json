[
    {
        "content": "# Solution\n\u6811\u5f62\u7ed3\u6784!!!\n\n\u56e0\u4e3a\u662f\u4e00\u68f5\u6811,\u6240\u4ee5\u5bf9\u4e8e\u6bcf\u4e2a\u8282\u70b9,\u6211\u4eec\u90fd\u628a\u5b83\u5f53\u6210\u6839\u8282\u70b9\u5904\u7406$\\to$\u6811\u5f62dp!!!\n\n>\u6ce8\u610f\uff0c\u67d0\u4e2a\u58eb\u5175\u5728\u4e00\u4e2a\u7ed3\u70b9\u4e0a\u65f6\uff0c\u4e0e\u8be5\u7ed3\u70b9\u76f8\u8fde\u7684\u6240\u6709\u8fb9\u5c06\u90fd\u53ef\u4ee5\u88ab\u4e86\u671b\u5230\u3002\n\n\u5b9a\u4e49\u72b6\u6001dp[u][0/1]\u8868\u793au\u8fd9\u4e2a\u8282\u70b9\u4e0d\u653e/\u653e\u58eb\u5175\n\n\u6839\u636e\u9898\u610f,\u5982\u679c\u5f53\u524d\u8282\u70b9\u4e0d\u653e\u7f6e\u58eb\u5175,\u90a3\u4e48\u5b83\u7684\u5b50\u8282\u70b9\u5fc5\u987b**\u5168\u90e8**\u653e\u7f6e\u58eb\u5175,\u56e0\u4e3a\u8981\u6ee1\u8db3\u58eb\u5175\u53ef\u4ee5\u770b\u5230\u6240\u6709\u7684\u8fb9,\u6240\u4ee5\n$$dp[u][0]+=dp[to][1]$$\n\u5176\u4e2dto\u662fu\u7684\u5b50\u8282\u70b9\n\n\u5982\u679c\u5f53\u524d\u8282\u70b9\u653e\u7f6e\u58eb\u5175,\u5b83\u7684\u5b50\u8282\u70b9\u9009\u4e0d\u9009\u5df2\u7ecf\u4e0d\u91cd\u8981\u4e86(**\u56e0\u4e3a\u6811\u5f62dp\u81ea\u4e0b\u800c\u4e0a,\u4e0a\u9762\u7684\u8282\u70b9\u4e0d\u9700\u8981\u8003\u8651**),\u6240\u4ee5\n$$dp[u][1]+=min(dp[to][0],dp[to][1])$$\n\n\u6b22\u8fce\u8e29\u535a\u5ba2[real_l](https://www.cnblogs.com/real-l/p/9620350.html)\n\n# Code\n```cpp\n#include<bits/stdc++.h>\n#define rg register\n#define il inline\n#define Min(a,b) (a)<(b)?(a):(b)\n#define Max(a,b) (a)>(b)?(a):(b)\nusing namespace std;\n\nconst int N=1510;\n\nvoid in(int &ans) {\n    ans=0; char i=getchar();\n    while(i<'0' || i>'9') i=getchar();\n    while(i>='0' && i<='9') ans=(ans<<1)+(ans<<3)+i-'0',i=getchar();\n}\n\nint n,cur;\n\nint to[N<<1],nex[N<<1],head[N];\nint dp[N][2];\n\nil void add(int a,int b) {\n    to[++cur]=b;\n    nex[cur]=head[a];\n    head[a]=cur;\n}\n\nil void read() {\n    for(rg int i=1;i<=n;i++) {\n        int x,k,y; in(x),in(k);\n        for(rg int j=1;j<=k;j++) {\n            in(y); add(x,y),add(y,x);\n        }\n    }\n}\n\nvoid dfs(int u,int fa) {\n    dp[u][1]=1,dp[u][0]=0;\n    for(rg int i=head[u];i;i=nex[i]) {\n        if(to[i]==fa) continue;\n        dfs(to[i],u);\n        dp[u][0]+=dp[to[i]][1];\n        dp[u][1]+=Min(dp[to[i]][1],dp[to[i]][0]);\n    }\n}\n\nint main()\n{\n    in(n); read(); dfs(0,-1);\n    printf(\"%d\\n\",Min(dp[0][0],dp[0][1]));\n    return 0;\n}\n```",
        "postTime": 1536566867,
        "uid": 45210,
        "name": "kikuss",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u4e00\u9053\u4e0d\u9519\u7684**\u8d2a\u5fc3**\u9898\u3002\n\n\u8d2a\u5fc3\uff1a\u5982\u679c\u4ece\u53f6\u5411\u6839\u5e7f\u5ea6\u64cd\u4f5c\uff0c\u5f53\u4e00\u4e2a\u8282\u70b9\u7684\u7236\u4eb2\u8282\u70b9\u7684\u6240\u6709\u513f\u5b50\u5168\u90e8\u90fd\u64cd\u4f5c\u8fc7\u5c31\u5bf9\u5b83\u8fdb\u884c\u64cd\u4f5c\uff0c\u90a3\u4e48\u5982\u679c\u8be5\u8282\u70b9\u6709\u4e00\u4e2a\u513f\u5b50\u6ca1\u6709**\u70b9\u4eae**\uff08\u5373\u88ab\u77ad\u671b\u5230\uff0c\u6216\u8005\u8bf4\u88ab\u8986\u76d6\u3002\uff09\u90a3\u4e48\u60f3\u8be5\u513f\u5b50\u4e00\u5b9a\u6240\u6709\u513f\u5b50\u8282\u70b9\u90fd\u5df2\u7ecf\u8fdb\u884c\u8fc7\u64cd\u4f5c\u4e86\uff08\u56e0\u4e3a\u662f\u5e7f\u5ea6\uff0c\u64cd\u4f5c\u4e00\u4e2a\u70b9\u7684\u524d\u63d0\u662f\u5b83\u7684\u6240\u6709\u513f\u5b50\u8282\u70b9\u90fd\u64cd\u4f5c\u8fc7\u3002\uff09\uff0c\u90a3\u4e48\u70b9\u4eae\u8be5\u70b9\u5fc5\u7136\u53ea\u80fd\u70b9\u4eae\u5b83\u672c\u8eab\u548c\u5b83\u7684\u7236\u4eb2\u8282\u70b9\uff0c\u800c\u70b9\u4eae\u5b83\u7684\u7236\u4eb2\u8282\u70b9\u5219\u662f\u81f3\u5c11\u70b9\u4eae\u5b83\u672c\u8eab\u548c\u5b83\u7684\u7236\u4eb2\u8282\u70b9\uff08\u56e0\u4e3a\u7236\u4eb2\u8282\u70b9\u53ef\u80fd\u8fd8\u6709\u5176\u4ed6\u8282\u70b9\u3002\uff09\u3002\u5728\u8d39\u7528\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0c\u65e0\u8bba\u5982\u4f55\u70b9\u4eae\u7236\u4eb2\u8282\u70b9\u90fd\u662f\u8f83\u4f18\u7684\u51b3\u7b56\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO\uff08n\uff09\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nvector<int>tree[1505];\nqueue<int>q;\nint f[1505],root,ans,a,k,point,n,output[1505];//\u89e3\u91ca\uff1a\u4ece\u5de6\u5230\u53f3\u4f9d\u6b21\u4e3a\u7236\u4eb2\uff0c\u6839\uff0c\u7b54\u6848\uff0c\u8f93\u5165\u9879*4\uff0c\u51fa\u5ea6\u3002\nint light[1505];\nint main(){\n    std::ios::sync_with_stdio(false); \n    cin>>n;\n    for(register int i=1;i<=n;i++)f[i]=-1;\n    if(n==1){//\u5bf9\u5355\u8282\u70b9\u6bd4\u8f83\u7701\u4e8b\u7684\u7279\u5224\n        cout<<\"1\";\n        return 0;\n    }\n    for(register int i=1;i<=n;i++){\n        cin>>a>>k;\n        for(register int j=1;j<=k;j++){\n            cin>>point;\n            tree[a].push_back(point);\n            f[point]=a;\n        }\n    }\n    for(register int i=0;i<n;i++)if(tree[i].size()==0){q.push(i);}\n    for(register int i=0;i<n;i++)if(f[i]==-1)root=i;\n    for(register int i=0;i<n;i++)output[i]=tree[i].size();\n    while(!q.front()==root){\n        int now=q.front();\n        q.pop();\n        output[f[now]]--;\n        if(!light[now]){light[f[now]]=1;}//\u5982\u679c\u81ea\u5df1\u6ca1\u88ab\u70b9\u4eae\uff0c\u5c31\u70b9\u4eae\u7236\u4eb2\n        if(output[f[now]]==0)q.push(f[now]);//\u5982\u679c\u7236\u4eb2\u7684\u513f\u5b50\u90fd\u5904\u7406\u4e86\uff0c\u5c31\u7b49\u4f1a\u5904\u7406\u7236\u4eb2\n    }\n    for(register int i=0;i<n;i++)if(light[i]==1)ans++;\n    cout<<ans; \n}\n```",
        "postTime": 1510182906,
        "uid": 38055,
        "name": "Npse_D",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\n# .\n\u8fd9\u9898\u5176\u5b9e\u6709\u51e0\u79cd\u65b9\u6cd5\uff0c\u5176\u4e2d\u6bd4\u8f83\u663e\u800c\u6613\u89c1\u7684\u6216\u8bb8\u662f**\u6811\u5f62dp**\u5427\uff0c\u697c\u4e0b\u6709\u5f88\u591a\u5927\u4f6c\u5df2\u7ecf\u89e3\u91ca\u8fc7\u4e86\uff0c\uff08\u8fd9\u91cc\n\n\u5c31\u4e0d\u518d\u8bf4\u4e86)\uff0c\u4ed4\u7ec6\u4e00\u770b\u9898\u5c31\u53ef\u4ee5\u53d1\u73b0\u8fd9\u662f\u4e00\u4e2a\u5178\u578b\u7684**\u6700\u5c0f\u70b9\u8986\u76d6**\u3002\u6700\u5c0f\u70b9\u8986\u76d6\u6307\u7684\u662f\u5728\u4e00\u4e2a\u56fe\u4e2d\uff1a\u4e00\u4e2a\u70b9\n\n\u8986\u76d6\u4e0e\u4e4b\u8fde\u63a5\u7684\u8fb9\uff0c\u6c42\u7528\u6700\u5c11\u7684\u70b9\u53ef\u4ee5\u8986\u76d6\u3002\u8fd9\u548c\u9898\u76ee\u8981\u6c42\u4e00\u6a21\u4e00\u6837\u3002\u540c\u65f6\u8fd8\u6709\u4e00\u4e2a\u5b9a\u7406\uff0c\u6700\u5c0f\u70b9\u8986\u76d6=\n\n\u6700\u5927\u5339\u914d\u6570\u3002\u5982\u679c\u662f\u65e0\u5411\u56fe\u5219/2\u3002\u56e0\u6b64\u5c31\u5f88\u5bb9\u6613\u60f3\u5230\u6253\u5308\u7259\u5229\u7b97\u6cd5\u4e86\u3002\n\n\n# .\n\n```cpp\n#include<queue>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<queue>\n#define N 7000\nusing namespace std;\ninline void read(int &x)\n{\n    x=0;\n    int p=1;\n    char c=getchar();\n    while(!isdigit(c)){if(c=='-')p=-1;c=getchar();}\n    while(isdigit(c)) {x=(x<<1)+(x<<3)+(c^'0');c=getchar();}\n    x*=p;\n}\nint n;\nint to[N],beg[N],nex[N],match[N];\nint vis[N];\nint e;\nint ans;\nvoid add(int x,int y)\n{\n    to[++e]=y;\n    nex[e]=beg[x];\n    beg[x]=e;\n}\nint dfs(int x)\n{\n    for(int i=beg[x];i;i=nex[i])\n    {\n        int y=to[i];\n        if(!vis[y])\n        {\n            vis[y]=1;\n            if(!match[y]||dfs(match[y]))\n            {\n                match[y]=x;\n                return 1;\n            }\n        }\n    }\n    return 0;\n}\nint main()\n{\n    while(scanf(\"%d\",&n)!=EOF)\n    {\n        memset(beg,0,sizeof(beg));\n        e=0;\n        for(int i=1;i<=n;i++)\n        {\n            int x,gs;\n            read(x);\n            read(gs);\n            x++;\n            int y;\n            for(int j=1;j<=gs;j++)read(y),y++,add(x,y),add(y,x);\n        }\n        ans=0;\n        memset(match,0,sizeof(match));\n        for(int i=1;i<=n;i++)\n        {\n        memset(vis,0,sizeof(vis));\n        if(dfs(i))ans++;\n        }\n        printf(\"%d\\n\",ans/2);\n    }\n    return 0;\n}\n```",
        "postTime": 1506672434,
        "uid": 22016,
        "name": "pengym",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "# P2016\n## \u9898\u610f\n\u5728\u4e00\u68f5\u6811\u4e0a\u7684\u8282\u70b9\u653e\u4e00\u4e9b\u58eb\u5175\uff0c\u4f7f\u6240\u6709\u8fb9\u90fd\u81f3\u5c11\u6709\u4e00\u4e2a\u7aef\u70b9\u6709\u5175\uff0c\u6c42\u6700\u5c0f\u7684\u58eb\u5175\u6570\u3002\n\n## \u4e00\u70b9\u70b9\u7ecf\u9a8c\n\u663e\u7136\uff0c\u8fd9\u662f\u4e00\u4e2a\u6811\u4e0a\u7684dp\u95ee\u9898\u3002\n\n\u6709\u53e5\u8bdd\u8bf4\u5f97\u597d\uff1a\u8981\u662f\u4e00\u9053\u9898\u4e0d\u591f\u96be\uff0c\u6211\u4eec\u5c31\u628a\u4ed6\u653e\u5230\u6811\u4e0a\u3002\n\n\u5176\u5b9e\u8fd9\u53e5\u8bdd\u53cd\u8fc7\u6765\u4e5f\u6210\u7acb\uff1a\u8981\u662f\u6811\u4e0a\u592a\u96be\uff0c\u6211\u4eec\u5c31\u628a\u4ed6\u653e\u5230\u94fe\u4e0a\u3002\n\n\u6240\u4ee5\uff0c\u672c\u7bc7\u9898\u89e3\u5c31\u4f1a\u4ece\u94fe\u8bb2\u8d77\u3002\n## \u601d\u8003\n\u5148\u8003\u8651\u94fe\u4e0a\u7684\u60c5\u51b5\uff08\u867d\u7136\u4e0d\u662f\u90e8\u5206\u5206\uff09\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8282\u70b9\uff0c\u53ea\u6709\u9009\u6216\u8005\u4e0d\u9009\u4e24\u79cd\u60c5\u51b5\u3002\n\u5982\u679c\u9009\u7684\u8bdd\uff0c\u4e0a\u4e00\u4e2a\u8282\u70b9\u9009\u6216\u8005\u4e0d\u9009\u6ca1\u6709\u5173\u7cfb\n\n\u8981\u662f\u4e0d\u9009\u7684\u8bdd\uff0c\u4e0a\u4e00\u4e2a\u8282\u70b9\u5c31\u5fc5\u987b\u9009.\n\n\u6211\u4eec\u4e0d\u59a8\u9ed8\u8ba4\u8282\u70b9\u7f16\u53f7\u4e3a$1,2,3\\cdots n$\n\n\u5219\u6211\u4eec\u53ef\u4ee5\u63a8\u51fa\u4e24\u4e2a\u5f0f\u5b50\uff1a\n\n$f(i,0)=f(i-1,1)$\n\n$f(i,1)=\\min(f(i-1,0),f(i-1,1))+1$\n\n\u7b2c\u4e8c\u7ef4\u76840\u4ee3\u8868\u9009\uff0c1\u4ee3\u8868\u4e0d\u9009\u3002\n\n\u63a5\u7740\uff0c\u6211\u4eec\u628a\u8fd9\u4e2a\u9898\u653e\u5230\u6811\u4e0a\u3002\n\n\u4e00\u822c\u6811\u4e0a\u7684dp\uff0c\u90fd\u4f1a\u7528dfs\u7684\u65b9\u5f0f\u89e3\u51b3\u3002\n\n\u5e26\u7740\u521a\u624d\u7684\u601d\u8def\uff0c\u5047\u8bbe\u6211\u5df2\u7ecf\u5904\u7406\u597d\u4e86\u6240\u6709\u5b50\u6811\u7684\u4fe1\u606f\uff0c\n\n\u90a3\u4e48\u5bf9\u4e8e\u8fd9\u4e2a\u70b9\uff0c\u8981\u662f\u9009\uff0c\u5219\u6240\u6709\u7684\u5b50\u6811\u53ef\u4ee5\u9009\u6216\u4e0d\u9009\n\n\u8981\u662f\u4e0d\u9009\uff0c\u90a3\u4e48\u6240\u6709\u7684\u5b50\u6811\u5c31\u5fc5\u987b\u9009\n\n\u90a3\u4e48\u4e24\u4e2a\u5f0f\u5b50\u4e5f\u5c31\u6709\u4e86\uff1a\n\n$f(u,0)=\\sum f(soni,1)$\n\n$f(u,1)=1+\\sum \\min(f(soni,0),f(soni,1))$\n\n($soni$\u4ee3\u8868\u7b2ci\u4e2a\u513f\u5b50\uff0c\u8fd9\u91cc\u7b80\u5355\u5199\u4e86)\n\n\u7136\u540e\u6700\u540e\u7684\u7b54\u6848\u5c31\u662f$\\min(f(1,0),f(1,1))$\uff08\u6211\u9ed8\u8ba4\u4ee51\u4e3a\u6839\uff09\n\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read(){\n\tregister int x=0;\n\tregister bool f=0;\n\tregister char c=getchar();\n\twhile(c<'0'||c>'9'){\n\t\tif(c=='-') f=1;\n\t\tc=getchar();\n\t}\n\twhile(c>='0'&&c<='9'){\n\t\tx=(x<<3)+(x<<1)+c-48;\n\t\tc=getchar();\n\t}\n\treturn f?-x:x;\n}\nconst int maxm=20000;\nconst int maxn=2000;\nstruct _{\n\tint to,nxt;\n}e[maxm];\nint h[maxn],n,m,cnt,f[maxn][2];\nvoid add(int u,int v){\n\te[++cnt].nxt=h[u];\n\te[cnt].to=v;\n\th[u]=cnt;\n}\nvoid dfs(int u,int fa){\n\tf[u][1]++;\n\tfor(int i=h[u];i;i=e[i].nxt){\n\t\tint v=e[i].to;\n\t\tif(v==fa) continue;\n\t\tdfs(v,u);\n\t\tf[u][0]+=f[v][1];\n\t\tf[u][1]+=min(f[v][0],f[v][1]);\n\t}\n}\nsigned main(){\n\tn=read();\n\tfor(int i=1;i<=n;i++){\n\t\tint a=read()+1,k=read();\n\t\tfor(int j=1;j<=k;j++){\n\t\t\tint b=read()+1;\n\t\t\tadd(a,b);add(b,a);\n\t\t}\n\t} \n\tdfs(1,0);\n\tprintf(\"%d\",min(f[1][1],f[1][0]));\n\treturn 0;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n```\n\n",
        "postTime": 1575709042,
        "uid": 120074,
        "name": "BFqwq",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u6b64\u9898\u662f\u4e00\u9053\u975e\u5e38\u660e\u663e\u7684\u6811\u72b6\u52a8\u89c4\uff0c\u4e2a\u4eba\u8ba4\u4e3a\u4e0eP1352\u662f\u6709\u70b9\u50cf\u7684\uff0c\u5728\u505a\u8fd9\u9053\u9898\u76ee\u4e4b\u524d\u5927\u5bb6\u53ef\u4ee5\u53bb\u5c1d\u8bd5\u4e00\u4e0b\uff08\u90a3\u4e00\u9053\u4f3c\u4e4e\u66f4\u7b80\u5355\uff09\n\n\u8bdd\u4e0d\u591a\u8bf4\uff0c\u76f4\u63a5\u8bb2\u601d\u8def\u4e86\n\nf[i][0] \u8868\u793a\u4e0d\u5728\u8fd9\u4e2a\u4f4d\u7f6e\u653e\u7f6e\u58eb\u5175\u800c\u4f7fi\u8282\u70b9\u53ca\u5176\u6240\u6709\u5b50\u6811\u4e0a\u7684\u70b9\u90fd\u80fd\u88ab\u77ad\u671b\u5230\u7684\u6700\u5c0f\u82b1\u8d39\uff08\u6700\u5c11\u9700\u8981\u653e\u7f6e\u591a\u5c11\u4e2a\u58eb\u5175\uff09\n\nf[i][1] \u8868\u793a\u5728\u8fd9\u4e2a\u4f4d\u7f6e\u653e\u7f6e\u58eb\u5175\u800c\u4f7fi\u8282\u70b9\u53ca\u5176\u6240\u6709\u5b50\u6811\u4e0a\u7684\u70b9\u90fd\u80fd\u88ab\u77ad\u671b\u5230\u7684\u6700\u5c0f\u82b1\u8d39\n\n\u76ee\u6807\u4e3a min(f[root][0],f[root][1])\n\n\u7528y\u6765\u5386x\u7684\u6240\u6709\u5b50\u8282\u70b9\n\n\u4e14\u6bcf\u6b21\u9884\u5904\u7406 f[x][0]=0 , f[x][1]=1\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u9488\u4e3a\uff1a\n\nf[x][0]+=f[y][1];\n\t\nf[x][1]+=min(f[y][1],f[y][0]);\n\n\u90a3\u4e48\u6700\u540e\u642c\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,f[5000][5000],father[5000];\nvector<int> s[5000];\ninline void dfs(int x){\n\tf[x][0]=0;\n\tf[x][1]=1;\n\tif(s[x].size()==0)return;\n\tfor(register int i=0;i<s[x].size();i++){\n\t\tint y=s[x][i];\n\t\tdfs(y);\n\t\tf[x][0]+=f[y][1];\n\t\tf[x][1]+=min(f[y][1],f[y][0]);\n\t}\n}\nint main(){\n\tint n;\n\tscanf(\"%d\",&n);\n\tint a,b,z;\n\tfor(register int i=1;i<=n;i++){\n\t\tscanf(\"%d%d\",&a,&b);\n\t\ta++;\n\t\tfor(register int j=1;j<=b;j++){\n\t\t\tscanf(\"%d\",&z);\n\t\t\tz++;\n\t\t\ts[a].push_back(z);\n\t\t\tfather[z]=1;\n\t\t}\n\t}\n\tint root;\n\tfor(register int i=1;i<=n;i++){\t//\u9898\u76ee\u672a\u6307\u5b9a\u6839\u8282\u70b9,\u56e0\u6b64\u9700\u8981\u81ea\u5df1\u627e\u6839\u8282\u70b9 \n\t\tif(father[i]==0){\n\t\t\troot=i;\n\t\t\tbreak;\n\t\t}\n\t}\n\tdfs(root);\n\tcout<<min(f[root][0],f[root][1]);\n}\n```\n",
        "postTime": 1564240879,
        "uid": 99247,
        "name": "\u5514\u554a\u5514",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "## \u6811\u5f62DP\n\n\u8bbe$f[i][0]$\u662fi\u8fd9\u4e2a\u8282\u70b9\u4e0d\u653e\u7684\u6700\u5c11\u6570\u91cf\u3002\n\n$f[i][1]$\u5c31\u662f\u653e\u7684\u6700\u5c11\u6570\u91cf\u3002\n\n\u90a3\u4e48\u8f6c\u79fb\u5c31\u662f  \n$f[i][0]$+=$f[j][1]$   \n$f[i][1]$+=$min(f[j][1],f[j][0])$ ($j$\u662f$i$\u7684\u513f\u5b50)\n\n\u4ee3\u7801\u5c31\u5f88\u597d\u5199\u4e86\u3002\n\n#### \u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=1510;\nint n,f[maxn][2];\nvector<int> G[maxn];\ninline void dfs(int x,int fa){\n    f[x][1]=1;\n    for(int i=0;i<G[x].size();i++){\n        int to=G[x][i];\n        if(to==fa) continue;\n        dfs(to,x);\n    }\n    for(int i=0;i<G[x].size();i++){\n        int to=G[x][i];\n        if(to==fa) continue;\n        f[x][0]+=f[to][1];\n        f[x][1]+=min(f[to][0],f[to][1]);\n    }\n}\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++){\n        int x,k;scanf(\"%d%d\",&x,&k);x++;\n        for(int i=1;i<=k;i++){\n            int y;scanf(\"%d\",&y);y++;\n            G[x].push_back(y);G[y].push_back(x);\n        }\n    }\n    dfs(1,0);\n    printf(\"%d\\n\",min(f[1][0],f[1][1]));\n    return 0;\n}\n```\n",
        "postTime": 1568972333,
        "uid": 128682,
        "name": "ChrisK",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "f(x) \u8868\u793a\u9009\u5b9a x, \u4fdd\u8bc1\u5b50\u6811\u5408\u6cd5\uff0c\u5b50\u6811\u5185\u6240\u9700\u8981\u7684\u6700\u5c0f\u70b9\u6570\u3002\n\ng(x) \u8868\u793a\u4e0d\u9009\u62e9 x, \u4fdd\u8bc1\u5b50\u6811\u5408\u6cd5\u6240\u9700\u8981\u7684\u6700\u5c0f\u70b9\u6570\n\nf(x) = \u2211min{f(son[x]), g(son[x])}\n\ng(x) = \u2211f(son[x])\n\n```cpp\n#include<stdio.h>\n#define inf 1000000000\nint n,a,b,c,idx,head[1501],f[1501][2];\nstruct Edge\n{\n    int to,next;\n}edge[3001];\nint min(int x,int y)\n{\n    if(x<y)\n        return x;\n    return y;\n}\nvoid addedge(int x,int y)\n{\n    ++idx;\n    edge[idx].to=y;\n    edge[idx].next=head[x];\n    head[x]=idx;\n}\nvoid dfs(int x,int from)\n{\n    f[x][1]=1;\n    f[x][0]=0;\n    if(head[x]==0) f[x][0]=inf;\n    for(int i=head[x];i;i=edge[i].next)\n    {\n        if(edge[i].to!=from)\n        {\n            dfs(edge[i].to,x);\n            f[x][1]+=min(f[edge[i].to][1],f[edge[i].to][0]);\n            f[x][0]+=f[edge[i].to][1];\n        }\n    }   \n}\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)\n    {\n        scanf(\"%d%d\",&a,&b);a++;\n        for(int j=1;j<=b;j++)\n        {\n            scanf(\"%d\",&c);c++;\n            addedge(a,c);\n            addedge(c,a);\n        }\n    }\n    dfs(1,0);\n    printf(\"%d\",min(f[1][1],f[1][0]));\n} \n```",
        "postTime": 1533625357,
        "uid": 70138,
        "name": "jiangminghong",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "# \u9898\u89e3 P2016 \u6218\u7565\u6e38\u620f\r\n\r\n\u8fd9\u9898\u4e00\u773c\u770b\u4e0a\u53bb\u662f\u4e00\u9053\u6811\u5f62DP\u7684\u9898\u76ee\uff0c\u7136\u540e\u540e\u9762\u4e00\u60f3\u597d\u50cf\u53ef\u4ee5\u7528\u4e8c\u5206\u56fe\u6765\u505a\uff08\u867d\u7136\u662f\u6559\u7ec3\u63d0\u9192\u7684\uff09\uff0c\u6545\u4ea7\u751f\u4e86\u6b64\u4efd\u9898\u89e3\u3002\r\n\r\n## \u9898\u76ee\u5927\u610f\r\n\r\n\u7ed9\u5b9a\u4e00\u4e2a\u65e0\u6839\u6811\uff0c\u6bcf\u4e2a\u8282\u70b9\u53ef\u4ee5\u201c\u7ba1\u5236\u201d\u4e00\u5806\u7ed9\u5b9a\u70b9\uff0c\u6c42\u9009\u62e9\u6700\u5c11\u7684\u70b9\u6570\u6765\u8986\u76d6\u8fd9\u68f5\u6811\u3002\r\n\r\n## Solution\r\n\r\n\u8fd9\u9898\u7684\u201c\u8986\u76d6\u201d\u770b\u8d77\u6765\u6709\u90a3\u4e48\u4ebf\u70b9\u70b9\u50cf\u6700\u5c0f\u70b9\u8986\u76d6\uff0c\u6240\u4ee5\u53ef\u4ee5\u60f3\u60f3\u5982\u4f55\u7528\u4e8c\u5206\u56fe\u6765\u89e3\u3002\r\n\r\n### \u5982\u4f55\u5efa\u7acb\u4e8c\u5206\u56fe\uff1f\r\n\r\n\u6ce8\u610f\u5230\u8fd9\u662f\u4e00\u68f5\u6811\uff0c\u5219\u6bcf\u5c42\u4e4b\u95f4\u80af\u5b9a\u4e0d\u4f1a\u6709\u8fde\u63a5\uff0c\u800c\u4e14\u6ca1\u6709\u8de8\u8d8a\u4e24\u5c42\u7684\u8fb9\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u539f\u56fe\u5212\u5206\u4e3a\u5947\u6570\u5c42\u548c\u5076\u6570\u5c42\u3002\r\n\r\n\u7136\u540e\u8dd1\u5308\u7259\u5229\u8c8c\u4f3c\u5c31\u53ef\u4ee5\u4e86\u3002\r\n\r\nTips\uff1a\u6700\u5c0f\u70b9\u8986\u76d6\u6570\u5c31\u662f\u6700\u5927\u5339\u914d\u6570\u3002\r\n\r\n## Code\r\n\r\n```cpp\r\n#include <bits/stdc++.h>\r\nusing namespace std;\r\n\r\nconst int N = 1505;\r\n\r\nvector <int> G[N];\r\n\r\nint n, ind, k, r;\r\nint ans, tot, dep[N], points[N];//tot\u8868\u793a\u5947\u6570\u5c42\u70b9\u4e2a\u6570\uff0cdep[]\u8868\u793a\u6bcf\u4e2a\u70b9\u7684\u5c42\u6570\uff0cpoints[]\u8868\u793a\u6240\u6709\u5947\u6570\u5c42\u70b9\r\n\r\nbool vis[N];\r\n\r\nvoid Pre (int k) {//\u5904\u7406\u51fa\u5c42\u6570\r\n\tfor (int i = 0; i < (int)G[k].size(); ++i) {\r\n\t\tint to = G[k][i];\r\n\t\tif (vis[to]) continue ;\r\n\t\tvis[to] = true, dep[to] = dep[k] + 1;\r\n\t\tPre(to);\r\n\t}\r\n}\r\n\r\nint match[N];\r\n\r\nbool DFS (int k) {//\u5308\u7259\u5229\u677f\u5b50\r\n\tfor (int i = 0; i < (int)G[k].size(); ++i) {\r\n\t\tint to = G[k][i];\r\n\t\tif (!vis[to]) {\r\n\t\t\tvis[to] = true;\r\n\t\t\tif (!match[to] || DFS(match[to])) {\r\n\t\t\t\tmatch[to] = k; return true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nint main() {\r\n\tscanf(\"%d\", &n);\r\n\tfor (int Case = 0; Case ^ n; ++Case) {\r\n\t\tscanf(\"%d%d\", &ind, &k); ++ind;\r\n\t\tfor (int i = 0; i ^ k; ++i) {\r\n\t\t\tscanf(\"%d\", &r); ++r;\r\n\t\t\tG[ind].push_back(r), G[r].push_back(ind);\r\n\t\t}\r\n\t}\r\n\tvis[1] = true, dep[1] = 1, Pre(1);\r\n\tfor (int i = 1; i <= n; ++i)//\u53d6\u51fa\u5947\u6570\u5c42\u70b9\r\n\t\tif (dep[i] % 2 == 1) points[++tot] = i;\r\n\tfor (int i = 1; i <= tot; ++i) {//\u6700\u5927\u5339\u914d\r\n\t\tmemset(vis, false, sizeof(vis));\r\n\t\tif (DFS(points[i])) ++ans;\r\n\t}\r\n\tprintf(\"%d\\n\", ans);\r\n\treturn 0;\r\n}\r\n```",
        "postTime": 1617344747,
        "uid": 176843,
        "name": "Scarab",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u6218\u7565\u6e38\u620f"
    },
    {
        "content": "\u5178\u578b\u7684\u6811\u5f62dp\uff0c\u5f53\u524d\u70b9\u5982\u679c\u9009\uff0c\u513f\u5b50\u5c31\u5728\u9009\u548c\u4e0d\u9009\u7684\u72b6\u6001\u91cc\u627e\u4e2a\u6700\u5c0f\u503c\u52a0\u4e0a\uff0c\u5f53\u524d\n\n\u70b9\u5982\u679c\u4e0d\u9009\uff0c\u90a3\u513f\u5b50\u7684\u72b6\u6001\u5c31\u53ea\u80fd\u662f\u9009\u3002\n\n\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u8bbedp[i][0]\u8868\u793a\u4e0d\u9009\u7b2ci\u4e2a\u70b9\u65f6\u7b2ci\u4e2a\u70b9\u7684\u5b50\u6811\u91cc\u6700\u5c0f\u4f7f\u7528\u7684\u70b9\u6570\uff0c\n\ndp[i][1]\u5219\u662f\u9009\u7b2ci\u4e2a\u70b9\u3002\u7531\u4e0a\u9762\u7684\u5206\u6790\u53ef\u77e5dp[i][0]=\u03a3dp[v][1],dp[i]\n\n[1]=\u03a3min(dp[v][0],dp[v][1])\uff0c\u6b64\u5904\u8fd8\u8981\u6ce8\u610f\u4efb\u4f55dp[i][1]\u7684\u521d\u59cb\u503c\u5747\u4e3a1\u3002\n\n```#include<cstdio>\n#include<algorithm>\nusing namespace std;\nconst int maxn=2000;\nstruct soren\n{\n    int n,t;\n};\nint a,b,c,d,i,j,tot,root,h[maxn];\nint g[maxn],dp[maxn][2];\nsoren e[maxn];\nvoid add(int u,int v)\n{\n    tot++;\n    e[tot].t=v;\n    e[tot].n=h[u];\n    h[u]=tot;\n}\nvoid tree(int u)\n{\n    int v,k;\n    dp[u][1]=1;\n    for (k=h[u];k!=0;k=e[k].n)\n    {\n        v=e[k].t;\n      \ttree(v);\n      \tdp[u][0]=dp[u][0]+dp[v][1];\n      \tdp[u][1]=dp[u][1]+min(dp[v][0],dp[v][1]);\n    }\n}\nint main()\n{\n    scanf(\"%d\",&a);\n    for (i=1;i<=a;i++)\n    {\n        scanf(\"%d%d\",&b,&c);\n        for (j=1;j<=c;j++)\n        {\n            scanf(\"%d\",&d);\n            add(b,d);\n            g[d]++;\n        }\n    }\n    for (i=0;i<a;i++)\n     if (g[i]==0) root=i;\n    tree(root);\n    printf(\"%d\\n\",min(dp[root][1],dp[root][0]));\n    return 0;\n}```",
        "postTime": 1538642325,
        "uid": 16599,
        "name": "wek_deng",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u4e00\u6b21A\u7684\u7b80\u5355\u6811\u5f62dp\u9898\u76ee\uff0cC++\u798f\u5229\u54e6\n\ntt\u6570\u7ec4\u5b58\u50a8\u6709\u4ec0\u4e48\u7f16\u53f7\uff0cc\u6570\u7ec4\u5224\u65ad\u662f\u4e0d\u662f\u6839\u8282\u70b9\n\n1\u3001    \u5efa\u6811\n\n2\u3001    \u9012\u5f52\u6c42\u89e3\n\nf[i][0]\u8868\u793a\u4e0d\u9009\u8fd9\u4e2a\u8282\u70b9\uff0c\u8fd9\u6837\u5c31\u4f1a\u6709\u5b69\u5b50\u8282\u70b9\u9009\n\nf[i][1]\u8868\u793a\u9009\u8fd9\u4e2a\u8282\u70b9\uff0c\u8fd9\u6837\u5c31\u4f1a\u6709\u5b69\u5b50\u8282\u70b9\u4e0d\u9009or\u9009\u3010\u4e0d\u8981\u5fd8\u4e86\u52a0\u81ea\u5df1\u76841\n\n\u6700\u540e\u5410\u69fd\u4e00\u53e5\uff0c\u8fd9\u9898\u548c\u6ca1\u6709\u4e0a\u53f8\u7684\u821e\u4f1a\u597d\u50cf\u3002\u3002\u3002\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nbool c[1600],d[1600];\nint tt[1600],a[1600][1600],f[1600][2],n,h=0;\nvoid make()\n{\n    int i,j;\n    memset(d,1,sizeof(d));\n    memset(c,1,sizeof(c));\n    for (i=1;i<=n;i++)\n      {\n          int x,k;\n          scanf(\"%d%d\",&x,&k);\n          if (d[x]) {\n              tt[++h]=x; d[x]=false;\n          }\n          for (j=1;j<=k;j++)\n          {\n              int e;\n              scanf(\"%d\",&e);\n            a[x][++a[x][0]]=e; \n            if (d[e]) {\n                tt[++h]=e; d[e]=false;\n            }\n            c[e]=false; \n         } \n      }\n}\nvoid dfs(int i)\n{\n    if (a[i][0]==0)\n    {\n        f[i][1]=1; return;\n    }\n    int k;\n    for (k=1;k<=a[i][0];k++)\n      dfs(a[i][k]);\n    for (k=1;k<=a[i][0];k++)\n      {\n          f[i][0]+=f[a[i][k]][1];\n         f[i][1]+=min(f[a[i][k]][0],f[a[i][k]][1]);\n      }\n    f[i][1]+=1;\n}\nint main()\n{\n    int i,he=0;\n    scanf(\"%d\",&n);\n    make();\n    sort(tt+1,tt+h); \n    for (i=1;i<=h;i++)\n      if (c[tt[i]])\n        {\n            dfs(tt[i]);\n            he+=min(f[tt[i]][0],f[tt[i]][1]);\n        }\n    printf(\"%d\",he);\n}\n\n```",
        "postTime": 1474794623,
        "uid": 17774,
        "name": "wwyx2001",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u672c\u9898\u662f\u4e00\u9053\u7ecf\u5178\u7684\u6700\u5c0f\u8fb9\u8986\u76d6\u95ee\u9898\uff0c\u4e5f\u53eb\u6570\u7684\u6700\u5927\u72ec\u7acb\u96c6\uff1b\u4e00\u5b9a\u8981\u548c\u6700\u5927\u70b9\u8986\u76d6\u533a\u5206\uff08P3942\u5c06\u519b\u4ee4\uff09\n\n\u672c\u9898\u53ef\u4ee5\u8003\u8651\u6811\u5f62DP\uff1b\u8bbef[x][1]\u8868\u793ax\u8282\u70b9\u653e\u7f6e\u58eb\u5175\u65f6\uff0c\u4ee5x\u4e3a\u6839\u7684\u5b50\u6811\u9700\u8981\u7684\u6700\u5c11\u58eb\u5175\u6570\uff1bf[x][0]\u8868\u793ax\u8282\u70b9\u4e0d\u653e\u7f6e\u58eb\u5175\u65f6\uff0c\u4ee5x\u4e3a\u6839\u7684\u5b50\u6811\u9700\u8981\u7684\u6700\u5c11\u58eb\u5175\u6570\u3002\n\n\u5219\u8f6c\u79fb\u5c31\u4e3af[u][0]+=f[v][1];f[u][1]=max(f[v][1],f[v][0]);\u6700\u540e\u7b54\u6848\u5c31\u4e3amin(f[1][1],f[1][0])\uff1b\n\n\n```\n#include <cstdio>\n#include <iostream>\n#include <cstring>\nusing namespace std;\n\nint n,x,y,z,tot;\nint head[1501],f[1501][2];\nstruct Edge\n{\n    int to,next;\n}edge[3001];\n\ninline void addedge(int x,int y)\n{\n    ++tot;\n    edge[tot].to=y;\n    edge[tot].next=head[x];\n    head[x]=tot;\n}\n\ninline void dfs(int u,int fa)\n{\n    f[u][1]=1;\n    f[u][0]=0;\n    if(head[u]==0) f[u][0]=100000000;\n    for(int i=head[u];i;i=edge[i].next)\n    {\n        if(edge[i].to!=fa)\n        {\n            dfs(edge[i].to,u);\n            f[u][1]+=min(f[edge[i].to][1],f[edge[i].to][0]);\n            f[u][0]+=f[edge[i].to][1];\n        }\n    }   \n}\n\nint main( )\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)\n    {\n        scanf(\"%d%d\",&x,&y);\n\t\tx++;\n        for(int j=1;j<=y;j++)\n        {\n            scanf(\"%d\",&z);\n\t\t\tz++;\n            addedge(x,z);\n            addedge(z,x);\n        }\n    }\n    dfs(1,0);\n    printf(\"%d\",min(f[1][1],f[1][0]));\n} \n```\n\n\u6700\u540e\u795d\u5927\u5bb6CSP2019rp++,score++;\n",
        "postTime": 1573011355,
        "uid": 115480,
        "name": "like1",
        "ccfLevel": 0,
        "title": "P2016\u6218\u7565\u6e38\u620f\u9898\u89e3"
    },
    {
        "content": "\u4e4b\u524d\u505aP2279\u5c31\u611f\u89c9\u5230\u662f\u91cd\u9898\uff0c\u4f46\u662f\u5f53\u65f6\u5bf9DP\u4e0d\u719f\uff0c\u7528\u7684\u662f$O(N)$\u7684\u8d2a\u5fc3\u3002\u4eca\u5929\u518d\u6765\u770b\uff0c\u6811\u5f62DP\u540c\u6837\u662f$O(N)$\uff0c\u5e76\u4e14\u597d\u5199\u5f97\u591a\u3002\n\n\u9898\u76ee\u6ca1\u6709\u6307\u5b9a\u6839\uff0c\u6240\u4ee5\u53ef\u4ee5\u968f\u610f\u6307\u5b9a\uff0c\u8981\u6c42\u662f\u6bcf\u4e00\u6761\u8fb9\u4e24\u7aef\u81f3\u5c11\u6709\u4e00\u4e2a\u88ab\u8986\u76d6\uff0c\u6240\u4ee5\u5bf9\u4e8e\u4e00\u4e2a\u7236\u8282\u70b9`x`\uff0c\u5982\u679c\u9009\u4e86\u81ea\u5df1\uff0c\u513f\u5b50\u9009\u6216\u4e0d\u9009\u90fd\u53ef\u4ee5\uff0c\u5982\u679c\u6ca1\u9009\u81ea\u5df1\uff0c\u90a3\u4e48\u5c31\u5fc5\u987b\u9009\u6240\u6709\u513f\u5b50\u3002\u7528`f1`\u8868\u793a\u9009\uff0c`f0`\u8868\u793a\u6ca1\u6709\u9009\uff0c\u90a3\u4e48\n\n$$ f0[x] = \\sum f1[y]; $$\n$$f1[x] = \\sum (min(f0[y], f1[y]));$$\n\n\u6ce8\u610f`f1[]`\u7684\u521d\u503c\u5e94\u8be5\u8d4b\u4e3a1\uff0c$min(f0[root], f1[root])$\u5c31\u662f\u7b54\u6848\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define MAX (1500 + 7)\nusing namespace std;\n\nint N, root, ec, head[MAX], f0[MAX], f1[MAX];\n\nstruct Edge{ int y, nxt; } E[MAX << 1];\nvoid add(int x, int y)\n{\n\tE[++ec] = Edge{y, head[x]};\n\thead[x] = ec;\n}\n\n#define y E[p].y\nvoid DFS(int x, int fa)\n{\n\tf1[x] = 1;\n\tfor (int p = head[x]; p; p=E[p].nxt)\n\t\tif (y != fa)\n\t\t{\n\t\t\tDFS(y, x);\n\t\t\tf0[x] += f1[y];\n\t\t\tf1[x] += min(f0[y], f1[y]);\n\t\t}\n}\n#undef y\n\nint main()\n{\n\tscanf(\"%d\", &N), root = 19260817 % N;\n\tfor (int i = 0, x, y, k; i < N; i++)\n\t{\n\t\tscanf(\"%d%d\", &x, &k);\n\t\twhile (k--)\n\t\t{\n\t\t\tscanf(\"%d\", &y);\n\t\t\tadd(x, y), add(y, x);\n\t\t}\n\t}\n\tDFS(root, 0);\n\tprintf(\"%d\\n\", min(f0[root], f1[root]));\n}\n```",
        "postTime": 1572052200,
        "uid": 73489,
        "name": "NyaRu_Official",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u5176\u5b9e\u8fd9\u5c31\u662f\u4e00\u9053\u7b80\u5355\u7684\u6811\u5f62$\\text{DP}$          \n\u6211\u4eec\u53ef\u4ee5\u8bbe$f[0/1][i]$\u4e3a\u7b2c$i$\u4e2a\u70b9\u653e\u58eb\u5175\u6216\u4e0d\u653e\u58eb\u5175\u7684\u4ee5\u8fd9\u4e2a\u7ed3\u70b9\u4e3a\u6839\u7684\u5b50\u6811\u7684\u58eb\u5175\u6700\u5c0f\u4e2a\u6570\uff080\u8868\u793a\u4e0d\u653e\uff0c1\u8868\u793a\u653e\uff09    \n\u63a5\u4e0b\u6765\u6211\u4eec\u8981\u5206\u7c7b\u8ba8\u8bba\u7b2c$i$\u4e2a\u70b9\u7684\u52a8\u6001\u8f6c\u79fb\u65b9\u7a0b     \n$\\large 1.\\text{\u4e0d\u653e}$       \n\u5f53\u7b2c$i$\u4e2a\u70b9\u4e0d\u653e\u58eb\u5175\u7684\u65f6\u5019\uff0c\u90a3\u4ed6\u7684\u513f\u5b50\u7ed3\u70b9\u5c31\u5fc5\u987b\u8981\u653e\u58eb\u5175\uff0c\u5373\uff1a\n$$\\large f[0][i]+=f[0][v]$$\n\u5176\u4e2d\uff0c$v$\u4e3a$i$\u7684\u513f\u5b50\u7ed3\u70b9           \n$\\large 1.\\text{\u653e}$               \n\u5f53\u7b2c$i$\u4e2a\u70b9\u653e\u58eb\u5175\u7684\u65f6\u5019\uff0c\u90a3\u4ed6\u7684\u513f\u5b50\u7ed3\u70b9\u5c31\u53ef\u653e\u53ef\u4e0d\u653e\uff0c\u5373\uff1a\n$$\\large f[1][i]+=min(f[1][v],f[0][v])$$\nv\u7684\u5b9a\u4e49\u4e0e\u4e0a\u6587\u76f8\u540c          \n$\\large \\text{Code\uff1a}$            \n```cpp\n#include<cstdio>\n#include<cstring>\n#define N 7000 \nusing namespace std;\nint max(int a,int b){if(a>b)return a;return b;}\nint min(int a,int b){if(a<b)return a;return b;}\nint f[2][N+1];\nint tot,st[N+1];\nstruct edge\n{\n\tint to,last;\n}e[N+1];\nvoid add(int a,int b)\n{\n\te[++tot].to=b;\n\te[tot].last=st[a];\n\tst[a]=tot;\n}\nvoid dfs(int u)\n{\n\tfor(int i=st[u];i!=0;i=e[i].last)\n\t{\n\t\tint v=e[i].to;\n\t\tdfs(v);\n\t\tf[0][u]+=f[1][v];\n\t\tf[1][u]+=min(f[1][v],f[0][v]);\n\t}\n\tf[1][u]+=1;\n}\nint main()\n{\n\tint n;\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint u,k;\n\t\tscanf(\"%d %d\",&u,&k);\n\t\tfor(int j=1;j<=k;j++)\n\t\t{\n\t\t\tint v;\n\t\t\tscanf(\"%d\",&v);\n\t\t\tadd(u+1,v+1);//\u7531\u4e8e\u9898\u76ee\u4e0b\u6807\u4ece\u96f6\u5f00\u59cb\uff0c\u4e3a\u4e86\u65b9\u4fbf\uff0c\u4e0b\u6807\u5747\u540e\u79fb\u4e00\u4f4d\n\t\t}\n\t}\n\tdfs(1);\n\tprintf(\"%d\\n\",min(f[0][1],f[1][1]));\n\treturn 0;\n}\n```\n",
        "postTime": 1564657029,
        "uid": 111475,
        "name": "doctorZ_",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "[\u9898\u76ee](https://www.luogu.org/problemnew/show/P2016)\n\n\u89e3\u6cd5\u8ddf dalao @real_ljs \u7c7b\u4f3c\uff0c\u4f46\u6ca1\u6709\u7528\u5230\u9012\u5f52\n\n---\n\n**\u3010\u5206\u6790\u3011**\n--\n\n\u9898\u76ee\u76f8\u5f53\u4e8e\u9700\u8981\u6c42\u8986\u76d6\u8fd9\u9897\u6811\u9700\u8981\u7684\u6700\u5c0f\u70b9\u6570\n\n\u7528 $Dp_{i,0/1}$ \u8868\u793a\u5728\u8fd9\u68f5\u6811\u4e2d\uff0c**\u4ee5 $i$ \u4e3a\u6839\u8282\u70b9\u7684\u5b50\u6811**\u5728**\u9009/\u4e0d\u9009\u6839\u8282\u70b9**\u7684\u60c5\u51b5\u4e0b\uff0c\u8986\u76d6\u8fd9\u68f5\u6811\u6240\u6709\u8fb9\u9700\u8981\u7684**\u6700\u5c0f\u70b9\u6570**\n\n\u6240\u4ee5\uff0c\u5f53\u4e0d\u9009\u8fd9\u4e2a\u8282\u70b9 $i$ \u65f6\uff0c\u5219\u6240\u6709  \u4ee5**\u5176\u5b50\u8282\u70b9\u4e3a\u6839\u8282\u70b9**\u7684\u5b50\u6811  \u90fd\u5fc5\u9009\u6839\u8282\u70b9\n\n\u5f53\u9009\u62e9\u8fd9\u4e2a\u8282\u70b9 $i$ \u65f6\uff0c\u5b83\u80fd\u8fde\u63a5\u5230\u6240\u6709\u7684\u5b50\u8282\u70b9\uff0c\u6240\u4ee5  \u4ee5**\u5176\u5b50\u8282\u70b9\u4e3a\u6839\u8282\u70b9**\u7684\u5b50\u6811  \u53ef\u4ee5\u9009\u5219\u5176\u6839\u8282\u70b9\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u9009\n\n\u5f52\u7eb3\u6210\u65b9\u7a0b\u7ec4\uff0c\u53ef\u80fd\u66f4\u5bb9\u6613\u7406\u89e3\uff1a\n\n$\\begin{cases}Son_i\\neq \\varnothing\\\\\\ \\\\ \\displaystyle Dp_{i,0}=\\sum_{j\\in Son_i}Dp_{j,1}\\\\\\ \\\\\\displaystyle Dp_{i,1}=1+\\sum_{j\\in Son_i}min(Dp_{j,0},Dp_{j,1})\\end{cases}$\n\n\u5176\u4e2d\uff0c$Son_i$ \u4e3a $i$ \u7684\u5b50\u8282\u70b9\u96c6\u5408\n\n\u663e\u7136\uff0c\u8fb9\u754c\u4e3a\n\n$\\begin{cases}Son_i=\\varnothing\\\\Dp_{i,0}=0\\\\Dp_{i,1}=1\\end{cases}$\n\n\u5982\u679c\u5b9a\u4e49 $Son_i=\\varnothing$ \u65f6 $\\displaystyle \\sum_{j\\in Son_i}Dp_{j,1}=\\sum_{j\\in Son_i}min(Dp_{j,0},Dp_{j,1})=0$\n\n\u9012\u63a8\u5f0f\u53ca\u5176\u8fb9\u754c\u4fbf\u80fd\u5199\u5728\u4e00\u8d77\u4e86\uff1a\n\n$\\begin{cases}\\displaystyle Dp_{i,0}=0+\\sum_{j\\in Son_i}Dp_{j,1}\\\\\\ \\\\\\displaystyle Dp_{i,1}=1+\\sum_{j\\in Son_i}min(Dp_{j,0},Dp_{j,1})\\end{cases}$\n\n\u7b54\u6848\u5373\u4e3a $min(Dp_{root,0},Dp_{root,1})$\n\n---\n\n\u5f88\u663e\u7136\uff0c\u6839\u636e\u6811\u5f62dp\u7684\u7279\u70b9\uff0c\u6211\u4eec\u8981\u4ece\u53f6\u5b50\u5f00\u59cb\u56de\u6eaf\u56de\u53bb\uff0c\u4e00\u822c\u7528dfs\uff0c\u6216\u8005\u8bf4\u662f\u9012\u5f52\uff0c\u6765\u8f85\u52a9\u8fdb\u884c\n\n\u4f46\u662f\uff0c\u6bd5\u7adf\u672c\u4eba\u4e0d\u559c\u6b22\u9012\u5f52\uff0c\u6240\u4ee5\u60f3\u5230\u4e86\u4e00\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u907f\u514d\u4f7f\u7528\u9012\u5f52\n\n\u6211\u4eec\u6765\u60f3\u60f3\uff0c\u8fd9\u9898\u7684\u6811\u5f62dp\u53ea\u8981\u6ee1\u8db3\u5b50\u8282\u70b9\u7684dp\u5728\u7236\u8282\u70b9\u4e4b\u524d\u5b8c\u6210\u5373\u53ef\n\n\u90a3\u6211\u4eec\u53ef\u4ee5\u5148\u4ece\u6839\u8282\u70b9\u5f00\u59cbbfs\u4e00\u4e0b\uff0c\u628a\u6811\u538b\u6210\u4e00\u6761\u94fe\uff0c\u7136\u540e\u518d\u628abfs\u8bbf\u95ee\u7684\u8282\u70b9\u5012\u5e8f\u5b8c\u6210dp\u5373\u53ef\n\n\u56e0\u4e3abfs\u8fc7\u7a0b\u4e2d\uff0c\u5b50\u8282\u70b9\u4e00\u5b9a\u7531\u7236\u8282\u70b9\u62d3\u5c55\u800c\u6765\uff0c\u6545\u5b50\u8282\u70b9\u5728bfs\u4e2d\u4e00\u5b9a\u5728\u7236\u8282\u70b9\u4e4b\u540e\u8bbf\u95ee\u5230\n\ndp\u7684\u65f6\u5019\u6211\u4eec\u5012\u53d9\u8bbf\u95ee\uff0c\u5c31\u4e00\u5b9a\u80fd\u4fdd\u8bc1\u5b50\u8282\u70b9\u5148\u5b8c\u6210dp\uff0c\u518d\u7531\u7236\u8282\u70b9\u5b8c\u6210dp\n\n\u5177\u4f53\u5b9e\u73b0\u65b9\u6cd5\u4e5f\u4e0d\u96be\uff0c\u6700\u540e\u5012\u53d9\u8bbf\u95ee\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u6808\uff0c\u6211\u4eec\u8ba9\u8fd9\u4e2a\u6570\u7ec4\u5728bfs\u7684\u65f6\u5019\u505a\u961f\u5217\uff0cdp\u7684\u65f6\u5019\u518d\u5f53\u4f5c\u6808\u5373\u53ef\n\n---\n\n\u8003\u8651\u4e00\u4e0b\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\n\n\u8bfb\u5165\u5404\u4e2a\u8282\u70b9\u9700\u8981 $O(n)$\uff0c\u8bfb\u5165\u4ed6\u4eec\u7684\u5b50\u8282\u70b9\u6570\u4e5f\u9700\u8981 $O(n)$\n\n\u8bfb\u5165\u5b50\u8282\u70b9\u4e3a $\\displaystyle \\sum_{i=1}^n Card(Son_i)=n-1$ \uff0c\u4e5f\u4e3a $O(n)$ \u7684\n\n\u627e\u6839\u8282\u70b9\u3001bfs\u4e3a $O(n)$\n\ndp\u7684\u5185\u5c42\u6b21\u4e3a $O(\\ \\ Card(Son_i)\\ \\ )$\n\ndp\u7684\u590d\u6742\u5ea6\u4e3a $\\displaystyle O(\\ \\ \\sum_{i=1}^n[1+Card(Son_i)]\\ \\ )=O(\\ \\ \\displaystyle n+\\sum_{i=1}^nCard(Son_i)\\ \\ )=O(n+n-1)$\n\n\u56e0\u6b64\uff0cdp\u7684\u590d\u6742\u5ea6\u4e3a $O(n)$ \n\n\u5f88\u663e\u7136\uff0c\u603b\u590d\u6742\u5ea6\u4e5f\u4e3a $O(n)$\n\n~~\u7b80\u76f4\u5feb\u5f97\u98de\u8d77~~\n\n---\n\n**\u3010\u4ee3\u7801\u3011**\n--\n\n\u90a3\u672c\u849f\u84bb\u5c31\u653e ~~\u6211\u7801\u98ce\u6781\u4e11\u7684~~  \u4ee3\u7801\u4e86\n\n```cpp\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n#define f(a,b,c,d) for(register int a=b,c=d;a<=c;a++)\n#define g(a,b,c,d) for(register int a=b,c=d;a>=c;a--)\nconst int MAXN=1510;\ntypedef int i32;\ntypedef unsigned int u32;\ntypedef long long int i64;\ntypedef unsigned long long int u64;\ntypedef i32 ar[MAXN];\ntypedef i32 mt[MAXN][MAXN];\n#define cls(s) memset(s,0,sizeof(s))\ninline i32 min(int a,int b) { return (a<b)?a:b; }\n//\u6761\u4ef6\u53cd\u5c04\u822c\u7684\u4e00\u5806\u5b9a\u4e49\n\nnamespace IO{\n    // #define LOCAL\n    #ifdef LOCAL\n        inline char gc() { return getchar(); }\n    #else\n        inline char gc(){\n            static char s[1<<20|1]={0},*p1=s,*p2=s;\n            return (p1==p2)&&(p2=(p1=s)+fread(s,1,1<<20,stdin),p1==p2)?EOF:*(p1++);\n        }\n    #endif\n    inline i32 read(){\n        register int ans=0;register char c=gc();register bool neg=0;\n        while(c<48||c>57) neg^=!(c^'-'),c=gc();\n        while(c>=48&&c<=57) ans=(ans<<3)+(ans<<1)+(c^48),c=gc();\n        return neg?-ans:ans;\n    }\n    char Output_Ans[1<<20|1]={0},*Output_Cur=Output_Ans;\n    inline void output() { Output_Cur-=fwrite(Output_Ans,1,Output_Cur-Output_Ans,stdout); }\n    inline void print(char c){\n        if(Output_Cur-Output_Ans+1>>20) output();\n        *(Output_Cur++)=c;\n    }\n    inline void print(i32 ans){\n        char s[20]={0};\n        if(Output_Cur-Output_Ans+sprintf(s,\"%d\",ans)>>20) output();\n        Output_Cur+=sprintf(Output_Cur,\"%d\",ans);\n    }\n}\nusing namespace IO;\n//\u6761\u4ef6\u53cd\u5c04\u822c\u7684\u8bfb\u5165\u8f93\u51fa\u4f18\u5316\n\ni32 d_N,d_Cur;\nar ar_d_Stk;\nmt mt_d_Son;\ninline void pre(){\n    d_N=read();\n    bool b_Notroot[MAXN]={0};\n    f(i,1,I,d_N){\n        i32 d_Pos=read();\n        mt_d_Son[d_Pos][0]=read();\n        //\u7b2c\u4e00\u4f4d\u5b58\u5b50\u8282\u70b9\u6570\n        f(j,1,J,mt_d_Son[d_Pos][0])\n            mt_d_Son[d_Pos][j]=read(),b_Notroot[ mt_d_Son[d_Pos][j] ]=1;\n    }\n    //\u8bfb\u5165\uff0c\u5e76\u540c\u65f6\u5224\u5b9a\u6839\u8282\u70b9\n\n    ar_d_Stk[d_Cur]=0;\n    while(b_Notroot[ ar_d_Stk[d_Cur] ]) ar_d_Stk[d_Cur]++;\n    d_Cur++;\n    //\u5bfb\u627e\u6839\u8282\u70b9\uff0c\u653e\u5165\u961f\u5217\u5934\n\n    i32 d_Head=0;\n    while(d_Head<d_Cur){\n        i32 d_Pos=ar_d_Stk[d_Head++];\n        f(i,1,I,mt_d_Son[d_Pos][0])\n            ar_d_Stk[d_Cur++]=mt_d_Son[d_Pos][i];\n    }\n    //bfs\u538b\u6811\u4e3a\u94fe\n}\nint main(){\n    pre();\n    i32 mt_d_Dp[MAXN][2]={0};\n    while(d_Cur--){\n        i32 i=ar_d_Stk[d_Cur];//\u53d6\u51fa\u6808\u9876\n        mt_d_Dp[i][0]=0,mt_d_Dp[i][1]=1;\n        if(mt_d_Son[i][0])\n            f(j,1,J,mt_d_Son[i][0]){\n                i32 d_Kid=mt_d_Son[i][j];\n                mt_d_Dp[i][0]+=mt_d_Dp[d_Kid][1];\n                mt_d_Dp[i][1]+=min(mt_d_Dp[d_Kid][0],mt_d_Dp[d_Kid][1]);\n            }\n    }\n    print( min(mt_d_Dp[ ar_d_Stk[d_Cur] ][0],mt_d_Dp[ ar_d_Stk[d_Cur] ][1]) );\n    output();\n    return 0;\n}\n```\n\n\u6700\u540e\u5b89\u5229\u4e00\u4e0b [\u672c\u849f\u84bb\u7684\u535a\u5ba2](https://www.luogu.org/blog/JustinRochester/)",
        "postTime": 1562131767,
        "uid": 36031,
        "name": "JustinRochester",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u6bd4\u8f83\u6c34\u7684\u4e00\u9053\u88f8\u6811\u5f62DP\uff08\u770b\u5230\u9898\u89e3\u91cc\u8fd8\u6709\u5f88\u591a\u5927\u795e\u6709\u522b\u7684\u505a\u6cd5\uff09  \n\u7528dp[1][i]\u8868\u793a\u8868\u793a\u5728i\u70b9\u6709\u58eb\u5175\u5e76\u4f7f\u5176\u5b50\u6811\u5168\u88ab\u5360\u9886\u7684\u6240\u9700\u6700\u5c11\u7684\u58eb\u5175\u6570\uff0c\u7528dp[0][i]\u8868\u793ai\u70b9\u6ca1\u6709\u58eb\u5175\u7684\u6700\u5c0f\u503c\uff0c\u6613\u5f97\u51fadp[0][u]=dp[1][v]\u4e4b\u548c\uff0c\u5176\u4e2dv\u662fu\u7684\u5b50\u8282\u70b9\uff0cdp[1][u]=min(dp[1][v],dp[0][v])\u4e4b\u548c\uff0c\u5177\u4f53\u7528\u9012\u5f52\u5b9e\u73b0  \n```\nvoid solve(int u,int fa)\n{\n\t//if(!sum[u])return;\n\tint a1=0,a2=0;\n\tfor(int i=0;i<edge[u].size();i++)\n\t{\n\t\tint v=edge[u][i];\n\t\tif(v==fa)continue;\n\t\tsolve(v,u);\n\t\tdp[0][u]+=dp[1][v];\n\t\tdp[1][u]+=min(dp[1][v],dp[0][v]);\n\t}\n\tdp[1][u]++;\n}\n\n```\n\u6709\u4e00\u4e2a\u7ec6\u8282\uff0c\u8fd9\u4e2a\u9898\u5e76\u6ca1\u6709\u7ed9\u51fa\u660e\u786e\u7684\u6839\u8282\u70b9\uff0c\u6240\u4ee5\u8981\u53cc\u5411\u5efa\u8fb9\uff0c\u5e76\u5728dfs\u7684\u8fc7\u7a0b\u4e2d\u8bb0\u5f55\u7236\u8282\u70b9\u5c31\u597d\u4e86  \n\u4e0a\u5b8c\u6574\u4ee3\u7801\uff08vector\u5b9e\u73b0\uff09\n```\n#include<iostream>\n#include<cstdio>\n#include<vector>\nusing namespace std;\nconst int oo=1433223;\nvector <int> edge[1510];\nint dp[2][1510],n,x,y,sum[1510],z;\nvoid solve(int u,int fa)\n{\n\t//if(!sum[u])return;\n\tint a1=0,a2=0;\n\tfor(int i=0;i<edge[u].size();i++)\n\t{\n\t\tint v=edge[u][i];\n\t\tif(v==fa)continue;\n\t\tsolve(v,u);\n\t\tdp[0][u]+=dp[1][v];\n\t\tdp[1][u]+=min(dp[1][v],dp[0][v]);\n\t}\n\tdp[1][u]++;\n}\nint main()\n{\n\t//freopen(\"pg.in\",\"r\",stdin);\n\t//freopen(\"pg.out\",\"w\",stdout);\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>x>>sum[x];\n\t\tfor(int i=1;i<=sum[x];i++)\n\t\t{\n\t\t\tcin>>z;\n\t\t\tedge[x].push_back(z);\n\t\t\tedge[z].push_back(x);\n\t\t}\n\t}\n\tsolve(0,0);\n\tint ans=min(dp[0][0],dp[1][0]);\n\tcout<<ans;\n\treturn 0;\n}\n```\n\n",
        "postTime": 1551163931,
        "uid": 86830,
        "name": "\u4e2d\u4e8c\u75c5",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u6765\u4e00\u53d1\u8d2a\u5fc3\n\n\n\u8fd9\u9898\u5f88\u660e\u663e\u662f\u6811\u4e0a\u7684\u6700\u5c0f\u70b9\u8986\u76d6\n\n\n\u6309\u7167\u53cd\u65b9\u5411\u7684\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u5e8f\u5217\u6765\u8fdb\u884c\u8d2a\u5fc3.\u6bcf\u68c0\u67e5\u4e00\u4e2a\u7ed3\u70b9,\u5982\u679c\u5f53\u524d\u70b9\u548c\u5f53\u524d\u70b9\u7684\u7236\u8282\u70b9\u90fd\u4e0d\u5c5e\u4e8e\u9876\u70b9\u8986\u76d6\u96c6\u5408,\u5219\u5c06\u7236\u8282\u70b9\u52a0\u5165\u5230\u9876\u70b9\u8986\u76d6\u96c6\u5408,\u5e76\u6807\u8bb0\u5f53\u524d\u8282\u70b9\u548c\u5176\u7236\u8282\u70b9\u90fd\u88ab\u8986\u76d6.\n\n\n\u4e0b\u9762\u662f\u4ee3\u7801\n\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1505;\nint f[N],ans,t,n;\nint b[N],in[N];\nint head[N],tail[2*N],nxt[2*N];\nvoid addto(int x,int y)\n{\n    t++;\n    nxt[t]=head[x];\n    head[x]=t;\n    tail[t]=y;\n}\nvoid dfs(int k)\n{\n    in[++t]=k;\n    for(int i=head[k];i;i=nxt[i]){\n        dfs(tail[i]);\n    }\n}\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++){\n        int k,xx;\n        scanf(\"%d\",&xx);\n        xx++;\n        scanf(\"%d\",&k);\n        for(int j=1;j<=k;j++){\n            int x;\n            scanf(\"%d\",&x);\n            x++;\n            addto(xx,x);\n            f[x]=xx;\n        }\n    }\n    t=0;\n    dfs(1);\n    for(int i=n;i>=2;i--)\n        if(!b[in[i]]&&!b[f[in[i]]])b[f[in[i]]]=true;\n    for(int i=1;i<=n;i++)\n        if(b[i])ans++;\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1507461889,
        "uid": 34604,
        "name": "\u5c0f\u624b\u51b0\u51c9",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\n```cpp\n//\u540c\u697c\u4e0b\u6240\u8ff0\uff0c\u8fd9\u4e0e\u6ca1\u6709\u4e0a\u53f8\u7684\u821e\u4f1a\u5f88\u50cf\u3002\n//\u9996\u5148\u8bf4\u660e\uff0c\u6211\u8fd9\u4e2a\u7a0b\u5e8f\u8fc7\u4e0d\u4e86\u53ea\u67091\u4e2a\u70b9\u7684\u6811\uff0c\u8fd9\u4e2a\u4e1c\u897f\u8981\u7279\u5224\u4e00\u4e0b\u5c31\u884c\uff0c\u6211\u89c9\u5f97\u6ca1\u6709\u8fd9\u6837\u7684\u6570\u636e\u5c31\u6ca1\u6709\u7279\u5224\u4e86\n//\u5176\u5b9e\u7279\u5224\u4e5f\u5f88\u7b80\u5355 \uff0c\u5c31\u662f\u5728\u8f93\u5165\u9636\u6bb5\u7684\u65f6\u5019 if \u4e00\u4e0b\u5c31ok\u3002\n//\u6211\u7528\u6811\u5f62 dp \u8fc7\u7684\uff0c\u53ef\u4ee5\u770b\u770b\u601d\u8def\u3002\n//\u4ee3\u7801\u6700\u7b80\u6d01\uff0c\u9898\u89e3\u6700\u6b63\u5e38\u3002 \n#include<bits/stdc++.h>\n#define maxn 1000+600+1\nusing namespace std;\nstruct node{\n    vector<int>ch;                             //\u8bb0\u5f55\u5b69\u5b50\u8282\u70b9\u3002 \n};                          \nnode p[maxn];\nint a,b,m,child,dp[maxn][2];                   //dp[father][0]\u8868\u793a\u4e0d\u5360father\u8fd9\u4e2a\u70b9\uff0c\u5360\u9886\u4e86\u4ee5\u8282\u70b9father\u4e3a\u6839\u7684\u6811\u7684\u6700\u5c11\u5175\u6570\u3002 \nvoid dfs(int x){                               //dp[father][1]\u8868\u793a\u5360father\u8fd9\u4e2a\u70b9\u4ee5\u540e\uff0c\u5360\u9886\u4e86\u4ee5father\u4e3a\u6839\u7684\u6811\u7684\u6700\u5c11\u5175\u6570\u3002 \n    for(int i=0;i<p[x].ch.size();i++){     \n        int son=p[x].ch[i];\n        dfs(son);\n         dp[x][0]+=dp[son][1];                  \n         dp[x][1]+=min(dp[son][0],dp[son][1]);\n    }                                         //\u8fd9\u4e24\u4e2adp\u65b9\u7a0b\u81ea\u5df1\u624b\u52a8\u753b\u56fe\u7406\u89e3\u3002 \n}\nint main(){\n    cin>>m;\n    for(int i=0;i<m;i++) \n    dp[i][1]=1;\n    for(int i=0;i<m;i++){\n        cin>>a>>b; \n        for(int j=1;j<=b;j++){\n        cin>>child;\n        p[a].ch.push_back(child);\n      }\n    }                                        //\u8bfb\u5165\u3002 \n    dfs(0);                                      \n    cout<<min(dp[0][0],dp[0][1]);            \n    return \u96f6;                               //\u7ed9\u4e2a\u96f6\u81ea\u5df1\u4f53\u4f1a\u4ec0\u4e48\u610f\u601d\u3002 \n}\n```",
        "postTime": 1504921662,
        "uid": 55334,
        "name": "\u65f6\u5d0e\u72c2\u4e09\u8001\u516c",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u4e00\u4e2a\u9700\u8981\u8d39\u70b9\u8111\u5b50\u7684\u6811\u5f62dp\n\n\u53ef\u4ee5\u770b\u6210\u4e00\u4e2a\u8fb9\u8ddf\u4e00\u4e2a\u70b9\n\n\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u524d\u5411\u661f\u7528\u6765\u5b58\u8fd9\u4e2a\u56fe\uff0c\u65b9\u4fbf\u6211\u4eec\u5230\u65f6\u5019\u76f4\u63a5\u904d\u5386\u4e0b\u53bb\n\ndp\u90e8\u5206\uff0c\u5176\u5b9e\u4e00\u4e2a\u68cb\u5b50\u6709\u653e\u6216\u4e0d\u653e\u7684\u4e24\u79cd\u9009\u62e9\uff0c\u5982\u679c\u4ed6\u653e\u4ed6\u5c31\u4ece\u513f\u5b50\u8282\u70b9\u540c\u6837\u7684\u4e24\u79cd\u72b6\u6001\u4e0b\u8f6c\u79fb\u8fc7\u6765\uff0c\u53d6min\u503c\n\n\u5982\u679c\u9009\u62e9\u4e0d\u653e\uff0c\u90a3\u4e48\u4ed6\u5fc5\u987b\u7531\u513f\u5b50\u770b\u5230\uff0c\u90a3\u4e48\u53ea\u80fd\u4ece\u513f\u5b50\u653e\u7684\u60c5\u51b5\u4e0b\u8f6c\u79fb\u8fc7\u6765\n\n\u90a3\u4e48\u601d\u8def\u5c31\u5f88\u6e05\u695a\u4e86\n\n\u4e0a\u4ee3\u7801\n```\n#include <stdio.h>\n#include <iostream>\nusing namespace std;\n\n\nstruct point {\n\tint pre;\n\tint to;\n};\n\n\nint root;\nint n;\nint top;\nint x , k , t;\nbool ff[1505];\nint v[1505];\nint f[1505][3];//0\u4ee3\u8868\u4e0d\u653e \uff0c 1\u4ee3\u8868\u653e\npoint tree[1505];\n\n\nvoid qxx(int fa , int child)\n{\n\ttree[++top].pre = v[fa];\n\ttree[top].to = child;\n\tv[fa] = top;\n}\n\n\nvoid dfs_dp(int k)\n{\n\tf[k][1] = 1;\n\tfor(int i = v[k]; i; i = tree[i].pre){\n\t\tdfs_dp(tree[i].to);//\u4f18\u5148\u8ba9\u513f\u5b50\u8fdb\u884cdp \u4ee5\u4fdd\u8bc1\u5230\u81ea\u5df1\u7684\u65f6\u5019\u53ef\u4ee5\u4ece\u513f\u5b50\u8f6c\u79fb\u8fc7\u6765\n\t\tf[k][0] += f[tree[i].to][1];\n\t\tf[k][1] += min(f[tree[i].to][1] , f[tree[i].to][0]);\n\t}\n\treturn ;\n}\n\n\nint main()\n{\n\tscanf(\"%d\" , &n);\n\tfor(int i = 1; i <= n; ++i){\n\t\tscanf(\"%d %d\" , &x , &k);\n\t\tfor(int i = 1; i <= k; ++i){\n\t\t\tscanf(\"%d\" , &t);\n\t\t\tff[t] = true;\n\t\t\tqxx(x , t);\n\t\t}\n\t}\n\twhile(ff[root]) root++;\n\tdfs_dp(root);\n\tprintf(\"%d\" , min(f[root][1] , f[root][0]));\n} \n```\n",
        "postTime": 1583454624,
        "uid": 218311,
        "name": "Update\u10e6",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "#### \u9898\u76ee\u5927\u610f\n\u7ed9\u51fa\u4e00\u68f5\u6811\uff0c\u5982\u679c\u5728\u4e00\u4e2a\u70b9 $x$ \u653e\u4e86\u4e00\u4e2a\u58eb\u5175\uff0c\u8be5\u58eb\u5175\u5c06\u4f1a\u8986\u76d6\u6240\u6709\u4e0e\u70b9 $x$ \u76f4\u63a5\u76f8\u90bb\u7684\u8fb9\u3002\u6c42\u6700\u5c11\u653e\u591a\u5c11\u4e2a\u58eb\u5175\uff0c\u4f7f\u5f97\u6240\u6709\u8fb9\u90fd\u88ab\u8986\u76d6\n\n#### \u89e3\u9898\u601d\u8def\n\n\u5f88\u7b80\u5355\u7684\u4e00\u9053\u9898\uff0c\u8ddf[P2899 [USACO08JAN]\u624b\u673a\u7f51\u7edcCell Phone Network](https://www.luogu.com.cn/problem/P2899)\u975e\u5e38\u76f8\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u6539\u6210\u4e86\u8986\u76d6\u8fb9\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u70b9\uff0c\u6211\u4eec\u8003\u8651\u653e\u4e0d\u653e\u58eb\u5175\uff0c\u6240\u4ee5\u8981\u5f00\u4e00\u7ef4\u53bb\u50a8\u5b58\u662f\u5426\u653e\u58eb\u5175\u7684\u72b6\u6001\n\n$f[x][0]$ \u8868\u793a\u4ee5 $x$ \u4e3a\u6839\u7684\u5b50\u6811\u4e2d\uff0c\u70b9 $x$ \u4e0d\u653e\u58eb\u5175\u6240\u9700\u8981\u7684\u6700\u5c0f\u58eb\u5175\u6570\u91cf\n$f[x][1]$ \u5219\u8868\u793a\u4ee5 $x$ \u4e3a\u6839\u7684\u5b50\u6811\u4e2d\uff0c\u70b9 $x$ \u653e\u58eb\u5175\u6240\u9700\u8981\u7684\u6700\u5c0f\u58eb\u5175\u6570\u91cf\n\n\u8f6c\u79fb\u65b9\u7a0b\uff1a  \n$f[x][0]=\\sum f[y][1]$\uff0c\u5176\u4e2d $y$ \u4e3a $x$ \u7684\u5b50\u8282\u70b9  \n$f[x][1]=1+ \\sum min(f[y][0],f[y][1])$\uff0c\u56e0\u4e3a $x$ \u5230 $y$ \u7684\u8fb9\u5df2\u7ecf\u88ab\u8986\u76d6\u4e86\uff0c\u6240\u4ee5\u70b9 $y$ \u653e\u4e0d\u653e\u90fd\u6ca1\u5173\u7cfb\n\n\u6700\u540e\u7b54\u6848\u5c31\u662f $min(f[1][0],f[1][1])$  \n**PS:** \u8fd9\u91cc\u70b9 $1$ \u4f5c\u4e3a\u6839\uff0c\u5176\u5b9e\u62ff\u4efb\u610f\u4e00\u4e2a\u70b9\u505a\u6839\u90fd\u53ef\u4ee5\n\n**\u4ee3\u7801**\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<vector>\nusing namespace std;\nconst int Maxn=1520,inf=0x3f3f3f3f;\nvector <int> e[Maxn];\nint f[Maxn][2];\nint n;\ninline int read()\n{\n\tint s=0,w=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n\twhile(ch>='0' && ch<='9')s=(s<<3)+(s<<1)+(ch^48),ch=getchar();\n\treturn s*w;\n}\nvoid dfs(int x,int fa)\n{\n\tf[x][1]=1;\n\tfor(int i=0;i<e[x].size();++i)\n\t{\n\t\tint y=e[x][i];\n\t\tif(y==fa)continue;\n\t\tdfs(y,x);\n\t\tf[x][1]+=min(f[y][1],f[y][0]);\n\t\tf[x][0]+=f[y][1];\n\t}\n}\nint main()\n{\n//\tfreopen(\"in.txt\",\"r\",stdin);\n\tn=read();\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tint x=read()+1,cnt=read(); // \u7a0b\u5e8f\u4e2d\u50a8\u5b58\u7684\u8282\u70b9\u7f16\u53f7\u662f 1~n\n\t\twhile(cnt--)\n\t\t{\n\t\t\tint y=read()+1;\n\t\t\te[x].push_back(y);\n\t\t\te[y].push_back(x);\n\t\t}\n\t}\n\tdfs(1,0);\n\tprintf(\"%d\\n\",min(f[1][1],f[1][0]));\n\treturn 0;\n}\n```",
        "postTime": 1579057507,
        "uid": 120362,
        "name": "Priori_Incantatem",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u53c8\u662f\u4e00\u9053\u6811\u5f62dp\uff0c\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u7236\u8282\u70b9\u4e3au\uff0c\u5b50\u8282\u70b9\u4e3av\u3002\u5982\u679c\u5360\u9886u\u90a3\u4e48\u5360\u4e0d\u5360\u9886v\u5c31\u53ef\u4ee5\u6709\uff0c\u4e5f\u53ef\u4ee5\u6ca1\u6709\u3002\u4f46\u662f\u5982\u679cv\u4e0d\u9009\uff0c\u90a3\u4e48\u5c31\u5fc5\u987b\u8981\u9009u\u4e86\u3002\u6240\u4ee5\u72b6\u6001\u5b9a\u4e49\u4e3adp[u][0]\u4e3a\u4e0d\u9009\u62e9u\u8282\u70b9\uff0cu\uff08\u5305\u62ecu\uff09\u7684\u5b50\u6811\u90fd\u88ab\u8986\u76d6\u7684\u6700\u5c0f\u8986\u6570\uff0cdpp[u][1]\u8868\u793a\u9009\u62e9u\u8282\u70b9\uff0cu\u7684\u5b50\u6811\uff08\u5305\u62ecu\uff09\u90fd\u88ab\u8986\u76d6\u7684\u6700\u5c0f\u8986\u76d6\u6570\u3002\n\u4e3a\u4e86\u9632\u6b62\u8d85\u65f6\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u8bb0\u5fc6\u5316\u641c\u7d22\u3002\u7b97\u662f\u6811\u5f62dp\u5165\u95e8\u9898\u5427\u3002\n```c\n#include<bits/stdc++.h>\n#pragma GCC optimize(2)\n#define MAXN 1505\n#define INF 0x3f3f3f3f\nusing namespace std;\n\nvector<int> G[MAXN];\nint dp[MAXN][2];\nint n,u,k,v;\n\nint dfs(int root,int op)\n{\n    if(dp[root][op]!=-1)\n        return dp[root][op];\n    if(G[root].size()==0)\n    {\n        if(op==0)\n            dp[root][op]=0;                 //\u4e0d\u9009\u53f6\u5b50\u8282\u70b9\uff0c\u5e76\u4e14\u8986\u76d6\u6240\u6709\u5b50\u6811\u4e3a0\uff1b\n        else if(op==1)\n            dp[root][op]=1;                   //\u9009\u53d6\u53f6\u5b50\u8282\u70b9\u5e76\u4e14\u8986\u76d6\u5b50\u6811\u4e3a1\uff1b\n        return dp[root][op];\n    }\n    else\n    {\n        if(op==0)\n            dp[root][0]=0;\n        else if(op==1)\n            dp[root][1]=1;\n        for(int i=0;i<G[root].size();i++)\n        {\n            int v=G[root][i];\n            if(op==0)\n            {\n                dp[root][0]+=dfs(v,1);\n            }\n            else if(op==1)\n            {\n                dp[root][1]+=min(dfs(v,1),dfs(v,0));\n            }\n        }\n    }\n    return dp[root][op];\n}\n\nint main()\n{\n    scanf(\"%d\",&n);\n    memset(dp,-1,sizeof(dp));\n    for(int i=0;i<n;i++)\n    {\n        scanf(\"%d %d\",&u,&k);\n        while(k--)\n        {\n            scanf(\"%d\",&v);\n            G[u].push_back(v);\n        }\n    }\n    printf(\"%d\\n\",min(dfs(0,1),dfs(0,0)));\n    return 0;\n}\n\n```\n",
        "postTime": 1571568473,
        "uid": 210155,
        "name": "abandentsky",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u8fd9\u9898\u8fd8\u662f\u663e\u800c\u6613\u89c1\u7684\u6811\u5f62dp\u5427\u3002\u3002\u3002\u3002\u3002\uff08\u5148%%zxt\n\n\u8fd9\u9898\u5176\u5b9e\u5c31\u662f\u8981\u6c42\u6811\u7684\u6700\u5927\u72ec\u7acb\u96c6\n\n\u6211\u4eec\u6309\u7167\u8981\u6c42\u6784\u5efa\u4e00\u5f20\u5173\u7cfb\u56fe\uff0c\u53ef\u89c1\u8fd9\u662f\u4e00\u68f5\u6811\u3002\n\u4efb\u4f55\u4e00\u4e2a\u70b9\u7684\u53d6\u820d\u53ef\u4ee5\u770b\u4f5c\u662f\u4e00\u79cd\u51b3\u7b56\uff0c\u8bbef[x][1]\u8868\u793ax\u70b9\u653e\u58eb\u5175\u65f6\uff0c\u4ee5x\u4e3a\u6839\u7684\u5b50\u6811\u9700\u8981\u7684\u6700\u5c11\u58eb\u5175\u6570\uff1bf[x][0]\u8868\u793ax\u70b9\u4e0d\u653e\u58eb\u5175\u65f6\uff0c\u4ee5x\u4e3a\u6839\u7684\u5b50\u6811\u9700\u8981\u7684\u6700\u5c11\u58eb\u5175\u6570\u3002\n\n\u5f53\u70b9x\u4e0d\u653e\u65f6\uff0c\u5b83\u7684\u6240\u6709\u513f\u5b50\u90fd\u5fc5\u987b\u653e\uff0c\u5373f[x][0]+=f[y][1]//y\u662fx\u7684\u6240\u6709\u513f\u5b50\u3002\n\n\u5f53x\u70b9\u653e\u65f6\uff0c\u5b83\u7684\u6240\u6709\u513f\u5b50\u653e\u4e0e\u4e0d\u653e\u65e0\u6240\u8c13\uff0c\u4f46\u5e94\u8be5\u53d6\u4e24\u79cd\u60c5\u51b5\u7684\u6700\u5c0f\u503c\u3002f[x][1]=1+min{f[y][1],f[y][0]}//y\u662fx\u7684\u513f\u5b50\u3002\n\n\u521d\u59cb\u6761\u4ef6\uff1af[x][0]=0,f[x][1]=1\u3002\n\nans=min{f[root][0],f[root][1]}\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=1600;;\nstruct {int num,child[maxn];} node[maxn];\nint f[maxn][2],a[maxn],n,root;\ninline void read(){\n\tios::sync_with_stdio(false);\n\tint i,j,x,y;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>x;\n\t\tcin>>node[x].num;\n\t\tfor(j=1;j<=node[x].num;j++){\n\t\t\tcin>>y;\n\t\t\tnode[x].child[j]=y;\n\t\t\ta[y]=1;\n\t\t}\n\t}\n\troot=0;\n\twhile(a[root]) root++;\n}\ninline void dp(int x){\n\tint i,j;\n\tf[x][1]=1;\n\tf[x][0]=0;\n\tif(node[x].num==0) return;\n\tfor(i=1;i<=node[x].num;i++){\n\t\tdp(node[x].child[i]);\n\t\tf[x][0]+=f[node[x].child[i]][1];\n\t\tf[x][1]+=min(f[node[x].child[i]][0],f[node[x].child[i]][1]);\n\t}\n}\nint main(){\n\tread();\n\tdp(root);\n\tcout<<min(f[root][0],f[root][1]);\n\treturn 0;\n}\n```\n",
        "postTime": 1570793177,
        "uid": 125969,
        "name": "Genjige\u845b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "## [\u94fe\u63a5](https://www.luogu.org/problemnew/show/P2016)\n\n\u8fd9\u9053\u9898\u660e\u663e\u662f\u6811\u5f62$dp$\n\n\u56e0\u4e3a\u8981\u770b\u4f4f\u6bcf\u4e00\u6761\u8def\n\n\u6240\u4ee5\u53ef\u4ee5\u628a\u6bcf\u6761\u8fb9~~\u5b89\u6392~~\u5206\u6790\u4e00\u4e0b\n\n\u8bbe$x$\u4e3a\u5f53\u524d\u8282\u70b9\uff0c$Son(x)$\u4e3a$x$\u7684\u513f\u5b50\u96c6\u5408\n\n\u5728\u4ee5$x$\u4e3a\u6839\u7684\u5b50\u6811\u4e2d\n\n\u8bbe$f[x][0]$\u4e3a\u4e0d\u9009$x$\u6240\u5f97\u7684\u6700\u5c0f\u4ee3\u4ef7,$f[x][1]$\u4e3a\u9009$x$\u7684\u6700\u5c0f\u4ee3\u4ef7\n\n\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\n1. \u4e0d\u9009$x$\uff1a\u8fd9\u6837$Son(x)$\u5168\u90fd\u8981\u9009\uff0c\u5373$$f[x][0]=\\sum_{y\u220bSon(x)}f[y][1]$$\n2. \u9009$x$\uff1a\u8fd9\u65f6\uff0c$Son(x)$\u9009\u4e0d\u9009\u90fd\u884c\uff0c\u6240\u4ee5$$f[x][1]=\\{\\sum_{y\u220bSon(x)}min(f[y][0],f[y][1])\\}+1$$\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\u6765\uff1a\n\n\u5bf9\u4e8e$x\u220bV$,$f[y\u220bSon(x)]$\u4e0d\u9700\u8981\u6c42$f[x]$!!!\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f00\u5fc3\u7684\u62d3\u6251\u6392\u5e8f\u5566~~\n\n$P.S$\uff1a\u6570\u636e\u8303\u56f4\u662f$[0,n)$,\u8981$+1$\u8f6c\u5316\u6210$[1,n]$\n\n$Talk\\ is\\ cheap,show\\ you\\ the\\ code.$\n```cpp\n#include<algorithm>\n#include<cstdio>\n#define N 2000\nusing namespace std;\nint f[N][2],n;\nint fa[N],deg[N],q[N],root;\nvoid add(int x,int y)\n{fa[y]=x;++deg[x];}\nvoid dp()\n{\n\tint l=0,r=0,ft;\n\tfor(int i=1;i<=n;++i)\n\tif(!deg[i])q[++r]=i,f[i][1]=1;\n\twhile(l<r)\n\t{\n\t\tft=fa[q[++l]];++f[q[l]][1];\n\t\tf[ft][0]+=f[q[l]][1];\n\t\tf[ft][1]+=min(f[q[l]][0],f[q[l]][1]);\n\t\tif(!--deg[ft])q[++r]=ft;\n\t\tif(!fa[q[l]]){root=q[l];return;}\n\t}\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1,x,y,d;i<=n;++i)\n\t{\n\t\tscanf(\"%d%d\",&x,&d);\n\t\tfor(int j=1;j<=d;++j)\n\t\tscanf(\"%d\",&y),add(x+1,y+1);\n\t}\n\tdp();\n\tprintf(\"%d\",min(f[root][0],f[root][1]));\n\treturn 0;\n}\n```",
        "postTime": 1539352464,
        "uid": 84836,
        "name": "a999999",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u76ee\u771f\u795e\u5947\uff0c\u6211\u81ea\u5df1\u9020\u4e86\u4e00\u7ec4\u6570\u636eHack\u4e86\u81ea\u5df1\uff0c\u7ed3\u679c\u63d0\u4ea4AC\u4e86\u3002\u3002\u3002\u3002\n\norzorz.\n\n\u9898\u610f\u662f\n\n\u5728\u4e00\u68f5\u6811\u79cd\uff0c\u5728\u67d0\u4e9b\u70b9\u653e\u58eb\u5175\uff0c\u4f7f\u6bcf\u4e2a\u70b9\u90fd\u80fd\u88ab\u770b\u5b88\u5230\uff0c\u6c42\u6700\u5c11\u51e0\u4e2a\u70b9\u3002\n\n\n\u660e\u663e\u662f\u6811\u5f62DP\n-----\n\nDP[i][0/1]\u8868\u793ai\u70b9\u9009\u6216\u4e0d\u9009\u7684\u6700\u5c0f\u503c\n\n\u660e\u663e dp[i][0]=$\u03a3$dp[j$\u2208$son[i]][1] \n\ndp[i][1]=$\u03a3min$(dp[j$\u2208$son[i]][0/1])+1 \n\n\u6211\u81ea\u5236\u7684\u4e00\u7ec4\u6837\u4f8b\n\n```cpp\n12\n1 2 2 3\n2 2 4 5\n3 2 6 7\n4 2 8 9 \n5 2 10 11\n6 0\n7 0\n8 1 12\n9 0\n10 0\n11 0\n12 0\n```\n\nans:\n\n```cpp\n4\n```\n\nwhy?\n\u7ea2\u8272\u52fe\u548c\u9ed1\u8272\u52fe\u90fd\u53ef\u4ee5\n\n![](https://cdn.luogu.com.cn/upload/pic/22388.png)\n\n\u6700\u91cd\u8981\u7684\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std ;\n#define N 1510\n#define inf 10000000\nvector <int> g[N] ;\nbool v[N],vis[N] ;\nint dp[N][2] ;\nint n,k,root ;\nint a[N] ;\nvoid dfs(int x){\n\tif (vis[x]) return ;\n\tvis[x]=true ;\n\tint t=0;\n\tfor (int i=0;i<g[x].size();i++){\n\t\tint to=g[x][i] ;\n\t\tdfs(to) ;\n\t\tt+=dp[to][1] ;\n\t} \n\tdp[x][0]=t ;\n\tt=0;\n\tfor (int i=0;i<g[x].size();i++){\n\t\tint to=g[x][i] ;\t\n\t\tdfs(to) ;\n\t\tt+=min(dp[to][1],dp[to][0]) ;\n\t}\n\tdp[x][1]=t+1 ;\n}\nint main(){\n\tscanf(\"%d\",&n) ;\n\tmemset(v,true,sizeof(v)) ;\n\tmemset(dp,0,sizeof(dp)) ;\n\tfor (int i=1;i<=n;i++){\n\t\tscanf(\"%d%d\",&a[i],&k) ;\n\t\tfor (int j=1;j<=k;j++){\n\t\t\tint t ;\n\t\t\tscanf(\"%d\",&t) ;\n\t\t\tv[t]=false ;\n\t\t\tg[a[i]].push_back(t) ;\n\t\t}\n\t}\n\tfor (int i=0;i<n;i++) if (v[a[i]]) root=a[i] ;\n\tdfs(root);\n\tint ans=min(dp[root][0],dp[root][1]) ;\n\tprintf(\"%d\\n\",ans) ;\n}\n```\n",
        "postTime": 1530856142,
        "uid": 54900,
        "name": "__Hacheylight__",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u8868\u793a\u67d0\u5927\u4f6c\u544a\u8bc9\u6211\u8fd9\u662f\u6811\u5f62DP\uff0c\uff0c\uff0c\n\n\u4e0d\u8fc7\u6211\u89c9\u5f97\u8fd9\u8ddf\u5c06\u519b\u4ee4\u957f\u5f97\u5f88\u50cf\n\n\u4e0d\u8fc7\u662f\u5b83\u7684\u5f31\u5316\u7248\u672c\n\n\u6240\u4ee5\u4f60\u4eec\u505a\u4e86\u8fd9\u9053\u9898\u4e4b\u540e\u53ef\u4ee5\u987a\u4fbf\u628a\u5c06\u519b\u4ee4\u548c\u6d88\u9632\u5c40\u7684\u8bbe\u7acb\u505a\u4e86\uff0c\u90fd\u5dee\u4e0d\u591a\n\n\u56e0\u4e3a\u5c06\u519b\u4ee4\u4e2d\u4e00\u4e2a\u70b9\u7684\u7ba1\u8f96\u8303\u56f4\u662f\u7ed9\u5b9a\u7684\uff0c\n\n\u6240\u4ee5DFS\u8981\u667a\u80fd\u4e00\u4e9b\uff0c\u628a\u4e00\u4e2a\u70b9\u80fd\u5230\u7684\u8303\u56f4\u90fd\u8d70\u4e86\n\n\u4f46\u8fd9\u4e2a\u9898\u4e0d\u7528\uff0c\n\n\u56e0\u4e3a\u4e00\u4e2a\u70b9\u53ea\u80fd\u7ba1\u5b83\u65c1\u8fb9\u7684\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define AC 1500\nstruct abc{\n    int date,next;\n};\nabc chain[AC*3+200];\nint ans,head[AC+200],tot,n,m,times[AC+200],father[AC+200];\nbool look[AC+200],vis[AC+200];\nvoid add(int from,int want)//\u52a0\u8fb9\n{\n    chain[++tot].date=want;\n    chain[tot].next=head[from];\n    head[from]=tot;\n}\nvoid DFS(int now)\n{\n    times[++tot]=now;\n    vis[now]=true;//\u8bb0\u5f55\u88ab\u8bbf\u95ee\u8fc7\n    for(int i=head[now];i;i=chain[i].next)\n    {\n        if(!vis[chain[i].date])DFS(chain[i].date),father[chain[i].date]=now;//\u4e00\u4e2a\u70b9\u5728\u5b83\u4e4b\u524d\u88ab\u8bbf\u95ee\u8fc7\uff0c\u53c8\u4e0e\u5b83\u76f8\u8fde\uff0c\u8bf4\u660e\u8fd9\u4e2a\u70b9\u662f\u7236\u4eb2\uff0c\u53cd\u4e4b\u662f\u513f\u5b50\n    }\n}\nint main()\n{\n    int i,t,w;\n    scanf(\"%d\",&n);\n    for(i=1;i<=n;i++)\n    {\n        scanf(\"%d%d\",&w,&m);\n        w++;\n        for(int j=1;j<=m;j++)  \n        {\n            scanf(\"%d\",&t);\n            t++;\n            add(w,t);//\u53cc\u5411\u52a0\u8fb9\uff0c\u56e0\u4e3a\u4e0d\u77e5\u9053\u54ea\u4e2a\u662f\u7236\u8282\u70b9\uff0c\u54ea\u4e2a\u662f\u5b50\u8282\u70b9\n            add(t,w);\n        }\n    }\n    tot=0;\n    DFS(1);\n        //\u56e0\u4e3a\u4e00\u4e2a\u70b9\u7684\u7ba1\u8f96\u8303\u56f4\u5f88\u5c0f\uff0c\u6240\u4ee5\u6ca1\u6709\u5fc5\u8981\u6c42\u51fa\u6bcf\u4e2a\u70b9\u7684\u4e25\u683c\u7684\u6df1\u5ea6\uff0c\u53ea\u9700\u8981\u6c42\u51fa\u4e00\u4e2a\u70b9\u4e0e\u5b83\u7956\u5148\u4e4b\u95f4\u7684\u8bbf\u95ee\u6b21\u5e8f\u5373\u53ef\n        //\u4e0b\u9762\u7684for\u5faa\u73af\u4ece\u6700\u540e\u8bbf\u95ee\u7684\u5f00\u59cb\uff0c\u7531\u4e8e\u7ba1\u8f96\u8303\u56f4\u5c0f\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u4fdd\u8bc1\u4e00\u4e2a\u70b9\u7684\u513f\u5b50\u8282\u70b9\u5728\u5b83\u4e4b\u524d\u88ab\u904d\u5386\u8fc7\u5373\u53ef\uff0c\u5144\u5f1f\u4e0d\u7ba1\n       //\u56e0\u4e3a\u4e00\u4e2a\u70b9\u7ba1\u8f96\u8303\u56f4\u592a\u5c0f\uff0c\u4e0d\u80fd\u901a\u8fc7\u4e0a\u9762\u7684\u70b9\u6765\u7ba1\u5144\u5f1f\uff0c\u6240\u4ee5\u53ea\u4fdd\u8bc1\u8fd9\u4e2a\u6761\u4ef6\u5373\u53ef\n    for(i=n;i>=2;i--)\n    {\n        if(!look[times[i]]&&!look[father[times[i]]])look[father[times[i]]]=true,ans++;\n```\n}//\u56e0\u4e3a\u662f\u4e00\u68f5\u6811\uff0c\u6240\u4ee5\u4ece\u4e0b\u9762\u5f00\u59cb\u904d\u5386\u4e00\u5b9a\u662f\u6700\u4f18\u7684\uff0c\u4e0d\u4fe1\u4f60\u4eec\u53ef\u4ee5\u753b\u4e2a\u56fe\u9a8c\u8bc1\u4e00\u4e0b\uff0c\u540c\u6837\u4e00\u4e2a\u58eb\u5175\uff0c\u653e\u5728\u6700\u5e95\u4e0b\u4e0e\u653e\u5728\u6700\u5e95\u4e0b\u7684\u7236\u4eb2\u76f8\u6bd4\uff0c\u663e\u7136\u653e\u7236\u4eb2\u66f4\u4f18\uff0c\u56e0\u4e3a\u53ef\u4ee5\u591a\u8986\u76d6\u4e00\u4e2a\u70b9\n    printf(\"%d\",ans);\n\n    return 0;\n\n}",
        "postTime": 1510409245,
        "uid": 47136,
        "name": "ww3113306",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "[\u535a\u5ba2\u94fe\u63a5](http://www.cnblogs.com/cellular-automaton/p/7588108.html)\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\nusing namespace std;\n\ninline long long read(){\n    long long num=0,f=1;\n    char ch=getchar();\n    while(!isdigit(ch)){\n        if(ch=='-')    f=-1;\n        ch=getchar();\n    }\n    while(isdigit(ch)){\n        num=num\\*10+ch-'0';\n        ch=getchar();\n    }\n    return num\\*f;\n}\n\nstruct Edge{\n    int next,to;\n}edge[1000010];\nint head[10000],num=0;\ninline void add(int from,int to){\n    edge[++num]=(Edge){    head[from],to};\n    head[from]=num;\n}\n\nint f[1700][3];\nint size[2000];\n\nvoid find(int x,int fa){\n    size[x]=1;\n    for(int i=head[x];i;i=edge[i].next){\n        int to=edge[i].to;\n        if(to!=fa){\n            find(to,x);\n            size[x]+=size[to];\n        }\n    }\n}\n\nvoid dfs(int x,int fa){\n    f[x][1]=1;f[x][0]=0;\n    if(size[x]==1)    return;\n    for(int i=head[x];i;i=edge[i].next){\n        int to=edge[i].to;\n        if(to!=fa){\n            dfs(to,x);\n            f[x][1]+=min(f[to][0],f[to][1]);\n            f[x][0]+=f[to][1];\n        }\n    }\n}\nint ans=0x7fffffff;\nint main(){\n    int n=read();\n    for(int i=1;i<=n;++i){\n        int p=read(),s=read();\n        for(int j=1;j<=s;++j){\n            int q=read();\n            add(p,q);\n            add(q,p);\n        }\n    }\n    \n    for(int i=0;i<n;++i){\n        memset(f,0,sizeof(f));\n        memset(size,0,sizeof(size));\n        find(i,i);\n        dfs(i,i);\n        ans=min(ans,min(f[i][1],f[i][0]));\n    }\n    printf(\"%d\",ans);\n    \n    return 0;\n}\n ![](https://cdn.luogu.com.cn/upload/pic/8242.png) \n\n",
        "postTime": 1506250506,
        "uid": 25815,
        "name": "\u5c01\u766b",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    },
    {
        "content": "\u8fd9\u9898\u7b97\u4e00\u4e2a\u6bd4\u8f83\u57fa\u7840\u7684\u6811\u5f62DP\u7c7b\u95ee\u9898\u4e86\uff0c\u4e00\u53e5\u8bdd\u9898\u610f\u2014\u2014\u6811\u5f62\u5185\u6700\u5c0f\u70b9\u8986\u76d6\u3002\n\n\u7b80\u5355\u8bb2\u4e00\u4e0b\u601d\u8def\u3002\u9996\u5148\u5224\u65ad\u6839\u8282\u70b9\uff0c\u5176\u6b21\u4e00\u4e2adfs\u5c31\u7ed3\u675f\u4e86\u3002dp[i][0]\u4ee3\u8868\u5728\u4ee5i\u4e3a\u6839\u8282\u70b9\u7684\u5b50\u6811\u5185\uff0c\u4e0d\u53d6i\u70b9\u6700\u5c11\u9700\u8981\u53d6\u591a\u5c11\u4e2a\u70b9\uff1bdp[i][1]\u4ee3\u8868\u53d6i\u70b9\u6700\u5c11\u9700\u8981\u53d6\u591a\u5c11\u4e2a\u70b9\u3002\n\n\u8f6c\u79fb\u5f88\u7b80\u5355\uff0c\u4e0d\u53d6\u8fd9\u4e2a\u70b9\u5c31\u5fc5\u987b\u53d6\u5b50\u8282\u70b9\uff1b\u53d6\u8fd9\u4e2a\u70b9\u5c31\u65e0\u6240\u8c13\uff08\u56e0\u4e3a\u6211\u4eec\u662f\u4ece\u4e0b\u5f80\u4e0a\u9012\u63a8\uff09\u3002\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nconst int MAXN = 1505;\nint head[MAXN], ind[MAXN], dp[MAXN][3];\nint cnt, n, root;\n\nstruct Edge\n{\n    int to;\n    int nxt;\n}e[MAXN];\n\nvoid AddEdge (int from, int to)\n{\n    e[++ cnt].to = to;\n    e[cnt].nxt = head[from];\n    head[from] = cnt;\n    ++ ind[to];\n}\n\nvoid dfs (int now, int father)\n{\n    for (int i = head[now]; i; i = e[i].nxt)\n    {\n        int v = e[i].to;\n        dfs (v, now);\n        dp[now][0] += dp[v][1];\n        dp[now][1] += min (dp[v][1], dp[v][0]);\n    }\n    dp[now][1] += 1;\n}\n\nint main()\n{\n    scanf (\"%d\", &n);\n    \n    for (int i = 0; i < n; ++ i)\n    {\n        int x, m, v;\n        scanf (\"%d%d\", &x, &m);\n        for (int i = 1; i <= m; ++ i)\n        {\n            scanf (\"%d\", &v);\n            AddEdge (x, v);\n        }\n    }\n    for (int i = 0; i < n; ++ i)\n        if (!ind[i])\n        {\n            root = i;\n            break;\n        }\n    dfs (root, root);\n    printf (\"%d\\n\", min (dp[root][1], dp[root][0]));\n    return 0;\n}\n```\n",
        "postTime": 1562665142,
        "uid": 59317,
        "name": "legend_life",
        "ccfLevel": 0,
        "title": "P2016 \u6218\u7565\u6e38\u620f\u9898\u89e3"
    },
    {
        "content": "\u601d\u8def\uff1a\n\n\u6811\u5f62DP\uff0c\u601d\u8def\u7b80\u5355\n\n\u2460m\u4e0d\u653e\uff0cf[m,0]=f[m\u7684\u513f\u5b50,1];\n\n\u2461m\u653e\uff0cf[m,0]=min(f[m\u7684\u513f\u5b50,1],f[m\u7684\u513f\u5b50,0]);\n\n\u521d\u59cb\u5316\u65f6\uff0cf[x,0]:=0;f[x,1]:=1;\n\n```delphi\n\nvar\n  v:array[0..2000]of boolean;\n  f:array[0..2000,0..1]of integer;\n  c:array[0..2000,0..2000]of integer;\n  i,j,k,m,n,r,a:integer;\nfunction min(x,y:integer):integer;\nbegin\n  if x>y then exit(y)\n    else exit(x);\nend;\n\nfunction tree(m:integer):integer;\nvar\n  i:integer;\nbegin\n  f[m,0]:=0;\n  f[m,1]:=1;//\u521d\u59cb\u5316\n  for i:=1 to c[m,0]do\n    tree(c[m,i]);\n  for i:=1 to c[m,0]do\n    begin\n      inc(f[m,0],f[c[m,i],1]);\n      inc(f[m,1],min(f[c[m,i],1],f[c[m,i],0]));\n    end;\n  if (f[m,0]<>0)and(f[m,1]=0)then\n    exit(f[m,0]);\n  if (f[m,1]<>0)and(f[m,0]=0)then\n    exit(f[m,1]);\n  exit(min(f[m,0],f[m,1]));\nend;\nbegin\n  fillchar(f,sizeof(f),255);\n  fillchar(v,sizeof(v),true);\n  readln(n);\n  for i:=1 to n do\n    begin\n      read(m);\n      read(c[m,0]);\n      for j:=1 to c[m,0]do\n        begin\n          read(c[m,j]);\n          v[c[m,j]]:=false;\n        end;\n    end;\n  for i:=0 to n-1 do\n    if v[i] then\n      begin\n        r:=i;\n        break;\n      end;\n  writeln(tree(r));//\u8f93\u51fa\u4ee5\u6839\u8282\u70b9\u4e3a\u6839\u7684\u6700\u5c0f\u5175\u529b\u503c\nend.\n\n```",
        "postTime": 1445945806,
        "uid": 5431,
        "name": "\u96be\u4e0a\u52a0\u5170",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2016 \u3010\u6218\u7565\u6e38\u620f\u3011"
    }
]