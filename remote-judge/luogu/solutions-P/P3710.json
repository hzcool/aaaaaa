[
    {
        "content": "\u672c\u6765\u8fd9\u9898\u662f\u6253\u7b97\u6b63\u5e38\u6784\u9020\u6570\u636e\u7684\uff0c\u7ed3\u679c\u51fa\u73b0\u4e86\u610f\u5916\uff0c\u6211\u7684\u6807\u7a0b\u5e38\u6570\u5b9e\u5728\u611f\u4eba\uff0c\u5b9e\u5728\u8981\u5361\u6389\u66b4\u529b\u5927\u6982\u8981\u5f00100s\u4e00\u4e2a\u70b9......\u7136\u540e\u5c31\u53ea\u80fd\u51fa\u968f\u673a\u6570\u636e\u4e86\uff0c\u5e76\u4e0d\u77e5\u9053\u6709\u6ca1\u6709\u4ec0\u4e48\u795e\u5947\u7b97\u6cd5\u53ef\u4ee5\u8fc7\uff0c\u5c31\u5f53\u505a\u826f\u5fc3\u9001\u5206\u597d\u4e86\u3002\n\n\n\u8003\u8651\u5c06\u65f6\u95f4\u8f74\u5206\u5757\uff0c\u5757\u5927\u5c0f$\\sqrt{m}$\u5de6\u53f3\uff0c\u6bcf\u4e00\u6b21\u5904\u7406\u8fd9\u4e00\u5757\u5185\u7684\u8be2\u95ee\u3002\n\n\n\u5bf9\u4e8e\u8fd9\u4e00\u5757\u5185\u7684\u8be2\u95ee\uff0c\u4fee\u6539\u7684\u5b58\u5728\u4e0e\u5426\u90fd\u662f\u4e00\u6837\u7684\uff0c\u9664\u4e86\u8fd9\u4e00\u5757\u5185\u7684\u8be2\u95ee\u548c\u8fd9\u4e00\u5757\u5185\u64a4\u9500\u7684\u8be2\u95ee\u3002\n\n\n\u8003\u8651\u4ee5\u8fd9\u4e00\u5757\u5185\u7684\u8be2\u95ee\u548c\u8fd9\u4e00\u5757\u5185\u64a4\u9500\u7684\u8be2\u95ee\u7684\u63d2\u5165\u70b9\u4f5c\u4e3a\u5173\u952e\u70b9\uff0c\u8fd9\u4e9b\u5173\u952e\u70b9\u628a\u5f53\u524d\u65f6\u95f4\u8f74\u5206\u6210\u4e86\u82e5\u5e72\u5757\uff0c\u76f8\u90bb\u5173\u952e\u70b9\u4e4b\u95f4\u5efa\u4e00\u68f5\u7ebf\u6bb5\u6811\u6216\u8005\u5e73\u8861\u6811\u7ef4\u62a4\u6807\u8bb0\u3002\n\n\n\u67e5\u8be2\u7684\u65f6\u5019\u67e5\u8be2\u7b2c\u4e00\u68f5\u7ebf\u6bb5\u6811\uff0c\u5224\u65ad\u7b2c\u4e00\u4e2a\u5173\u952e\u70b9\u7684\u8be2\u95ee\u662f\u5426\u5305\u542b\u5b83\uff0c\u5305\u542b\u5219\u66f4\u65b0\uff0c\u4f9d\u6b21\u67e5\u8be2\u5224\u65ad\u3002\n\n\n\u8fd9\u4e2a\u505a\u6cd5\u590d\u6742\u5ea6\u662f$O(m\\sqrt{m}logm)$\u7684\uff0c\u5e38\u6570\u5f88\u5927\uff0c\u6240\u4ee5\u5e76\u4e0d\u80fd\u8dd1\u8fc7\u66b4\u529b...\n\n\n\u56e0\u4e3a\u662f\u968f\u673a\u6570\u636e\uff0c\u53ea\u8981\u628a\u5757\u5927\u5c0f\u8c03\u6210$4\\sqrt{m}$\u5de6\u53f3\u5c31\u80fd\u8dd1\u5f97\u5f88\u5feb\u4e86\u3002\n",
        "postTime": 1492355841,
        "uid": 4134,
        "name": "fjzzq2002",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P3710 \u3010\u65b9\u65b9\u65b9\u7684\u6570\u636e\u7ed3\u6784\u3011"
    },
    {
        "content": "\u7531\u4e8e\u53ef\u4ee5\u79bb\u7ebf\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u6bcf\u4e2a\u4fee\u6539\u64cd\u4f5c\u7684\u7ed3\u675f\u65f6\u95f4\u3002\n\n\u6240\u4ee5\u6bcf\u4e2a\u4fee\u6539\u64cd\u4f5c\u76f8\u5f53\u4e8e\u5bf9\u4e00\u4e2a\u5e8f\u5217\u4e0a\u533a\u95f4,\u65f6\u95f4\u4e0a\u4e00\u4e2a\u533a\u95f4\u7684\u8be2\u95ee\u9020\u6210\u5f71\u54cd\u3002\n\n\u5b9e\u8d28\u4e0a\u5c31\u662f\u77e9\u5f62\u4fee\u6539\uff0c\u5355\u70b9\u8be2\u95ee\u3002\n\n\u7528kd-tree\u5373\u53ef\u3002\n\n\u65f6\u95f4O(nlog^2)\u7a7a\u95f4O(n)\n\n\u4e0d\u9700\u8981\u6570\u636e\u968f\u673a\n\n\u7a7a\u95f4\u4e5f\u53ea\u7528\u4e8626mb\n\n```cpp\n#include<bits/stdc++.h>\nusing std::sort;\nusing std::nth_element;\n\n#define ll long long\nvoid chmax(int &x,int y) { if(x<y)x=y; }\nvoid chmin(int &x,int y) { if(x>y)x=y; }\nconst int N=150100,D=998244353;\nint n,m,i;\nint type,l,r,x;\nstruct query\n{\n    int type,l,r,x;\n}q[N];\nint last[N];\nint id[N],num,dy[N],rt;\nbool x_xiao(int x,int y)\n{\n    return q[x].x<q[y].x;\n}\nint f[N],c[N][2];\nint t_mx[N],t_mn[N],x_mn[N],x_mx[N];\nvoid up(int y,int x)\n{\n    chmax(t_mx[y],t_mx[x]);\n    chmin(t_mn[y],t_mn[x]);\n    chmax(x_mx[y],x_mx[x]);\n    chmin(x_mn[y],x_mn[x]);\n}\nvoid up(int x)\n{\n    if(c[x][0])up(x,c[x][0]);\n    if(c[x][1])up(x,c[x][1]);\n}\nvoid sc(int y,int x,bool d)\n{\n    f[x]=y;\n    c[y][d]=x;\n}\nint build(int l,int r,bool type)\n{\n    int rt=l+r>>1;\n    if(!type) //\u4ee5\u65f6\u95f4\u4e3a\u5173\u952e\u5b57\n    {\n        nth_element(id+l,id+rt,id+r+1);\n    }\n    else//\u4ee5\u4f4d\u7f6e\u4e3a\u5173\u952e\u5b57 \n    {\n        nth_element(id+l,id+rt,id+r+1,x_xiao);\n    }\n    int x=id[rt]; \n    dy[x]=rt;\n    t_mx[rt]=t_mn[rt]=x;x_mx[rt]=x_mn[rt]=q[x].x;\n    if(l!=rt) sc(rt,build(l,rt-1,!type),0);\n    if(r!=rt) sc(rt,build(rt+1,r,!type),1);\n    up(rt);\n    return rt;\n}\n\nstruct Tag\n{\n    int a,b;\n    Tag(int _a=1,int _b=0) { a=_a;b=_b; }\n    friend Tag operator +(const Tag &x,const Tag &y)\n    {\n        return Tag((ll)x.a*y.a%D,((ll)x.b*y.a+y.b)%D);\n    }\n}tag[N],a[N],I;\nvoid add(int x,const Tag &ad)\n{\n    tag[x]=tag[x]+ad;\n    a[x]=a[x]+ad;\n}\nvoid down(int x)\n{\n    if(tag[x].a!=1||tag[x].b)\n    {\n        if(c[x][0])add(c[x][0],tag[x]);\n        if(c[x][1])add(c[x][1],tag[x]);\n        tag[x]=I;\n    }\n}\nint st[100],top;\nint qiu(int x)\n{\n    t_mx[x]=0;t_mn[x]=N;x_mx[x]=0;x_mn[x]=N;\n    up(x);\n    for(int i=x;i=f[i];) up(st[++top]=i);\n    for(;top;--top) down(st[top]);\n    return a[x].b;\n}\n\nint t_r,x_l,x_r;\nTag now;\nvoid add(int x)\n{\n    if(x_mn[x]>x_r||x_mx[x]<x_l||t_mn[x]>t_r||t_mx[x]<i) return ;\n    if(x_mn[x]>=x_l&&x_mx[x]<=x_r&&t_mx[x]<=t_r) {add(x,now);return ;}\n    int i=id[x];\n    if(q[i].x>=x_l&&q[i].x<=x_r&&i<=t_r) a[x]=a[x]+now;\n    down(x);\n    add(c[x][0]);add(c[x][1]); \n}\n\nint main()\n{\n    freopen(\"1.in\",\"r\",stdin);freopen(\"3.out\",\"w\",stdout);\n    scanf(\"%d%d\",&n,&m);\n    for(i=1;i<=m;++i) \n    {\n        scanf(\"%d\",&q[i].type);\n        if(q[i].type<=2) \n        { \n          last[i]=N;\n          scanf(\"%d%d%d\",&q[i].l,&q[i].r,&q[i].x); \n          q[i].x%=D;\n        }\n        else \n        {scanf(\"%d\",&q[i].x);\n         if(q[i].type==4) last[q[i].x]=i;\n         else id[++num]=i;\n        }\n    }\n    rt=build(1,num,0);\n    for(i=1;i<=m;++i)\n    {\n       if(q[i].type==4) continue;\n       if(q[i].type==3) { printf(\"%d\\n\",qiu(dy[i]));continue; }\n       t_r=last[i];x_l=q[i].l;x_r=q[i].r;\n       if(q[i].type==1) now=Tag(1,q[i].x);\n       else now=Tag(q[i].x,0);\n       add(rt);\n    }\n}\n```",
        "postTime": 1492407668,
        "uid": 9168,
        "name": "kczno1",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3710 \u3010\u65b9\u65b9\u65b9\u7684\u6570\u636e\u7ed3\u6784\u3011"
    },
    {
        "content": "\u5982\u679c\u6ca1\u6709\u6700\u540e\u4e00\u4e2a\u64cd\u4f5c\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a\u7ebf\u6bb5\u6811\u6765\u89e3\u51b3\uff08\u7ebf\u6bb5\u68112\u5f31\u5316\u7248\uff09\u3002\n\n\u6211\u4eec\u8003\u8651\u5bf9\u4e8e\u65f6\u95f4\u8f74\u5206\u5757\uff0c\u8bbe\u5757\u7684\u5927\u5c0f\u4e3a $w$\uff0c\u6bcf\u4e2a\u5757\u5185\u7528\u4e00\u68f5\u7ebf\u6bb5\u6811\u7ef4\u62a4\u4e24\u4e2a\u53c2\u6570 $a,b$\uff0c\u8868\u793a$x$\u7ecf\u8fc7\u8fd9\u4e00\u6bb5\u533a\u95f4\u4e4b\u540e\u4f1a\u53d8\u6210 $ax+b$\u3002\n\n\u90a3\u4e48\u4fee\u6539\u5c31\u662f\u4e00\u68f5\u7ebf\u6bb5\u6811\u4e0a\u7684\u533a\u95f4\u4fee\u6539\uff0c\u590d\u6742\u5ea6$O(\\log n)$\u3002\n\n\u67e5\u8be2\u6211\u4eec\u67e5\u8be2\u524d\u7f00\u7684\u51e0\u4e2a\u5757\uff0c\u96f6\u6563\u90e8\u5206\u66b4\u529b\u67e5\u8be2\uff0c\u590d\u6742\u5ea6 $O(\\dfrac{m\\log m}{w})$\u3002\n\n\u5982\u679c\u6709\u64a4\u9500\u64cd\u4f5c\uff0c\u6211\u4eec\u628a\u64a4\u9500\u64cd\u4f5c\u6240\u5728\u7684\u5757\u66b4\u529b\u91cd\u6784\u4e00\u4e0b\uff0c\u590d\u6742\u5ea6 $O(w\\log m)$\u3002\n\n\u663e\u7136\uff0c\u5728\u968f\u673a\u6570\u636e\u4e0b\uff0c$w=\\sqrt m$ \u7684\u65f6\u5019\u6700\u4f18\u3002\n\n\u4f46\u662f\u8fd9\u4e2a\u505a\u6cd5\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u662f $O(n\\sqrt m)$ \u7684\uff0c\u4f1a $20$ \u5206MLE\n\n**\u4f18\u53161**\n\n\u6211\u4eec\u53d1\u73b0\u4e00\u4e2a\u5757\u91cc\u9762\u7684\u64cd\u4f5c\u6b21\u6570\u6700\u591a\u6709 $\\sqrt m$ \u4e2a\uff0c\u4e5f\u5c31\u662f\u5173\u952e\u70b9\u6700\u591a\u53ea\u4f1a\u6709 $2\\sqrt m$ \u4e2a\uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651\u5757\u5185\u79bb\u6563\u5316\u4e4b\u540e\u5efa\u6811\uff0c\u8fd9\u6837\u6211\u4eec\u7ebf\u6bb5\u6811\u7684\u8282\u70b9\u603b\u6570\u5c31\u964d\u4f4e\u5230\u4e86 $O(m)$ \u7ea7\u522b\u3002\n\n\u4f46\u662f\u6ce8\u610f\u79bb\u6563\u5316\u7684\u7ec6\u8282\uff0c\u56e0\u4e3a\u540e\u9762\u67e5\u8be2\u7684\u65f6\u5019\u67e5\u8be2\u7684\u4f4d\u7f6e\u53ef\u80fd\u8fd9\u4e00\u5757\u91cc\u9762\u90fd\u6ca1\u6709\uff0c\u6240\u4ee5\u5bf9\u4e8e $[l,r]$ \u533a\u95f4\u6211\u4eec\u9700\u8981\u79bb\u6563\u5316 $l,r,l-1,r-1$\u3002\n\n\n~~\u7136\u540e\u4f60\u5c31\u4f1aTLE~~\n\n**\u4f18\u53162**\n\n\u6211\u4eec\u53d1\u73b0\u5728\u968f\u673a\u6570\u636e\u4e0b\uff0c\u6709\u4e00\u534a\u591a\u7684\u64cd\u4f5c\u5728\u66b4\u529b\u91cd\u6784\u7684\u65f6\u5019\u662f\u4e0d\u9700\u8981\u7684\uff0c\u4f46\u662f\u6211\u4eec\u6bcf\u6b21\u8fd8\u662f\u5224\u65ad\u4e86\u4e00\u904d\uff0c\u5f71\u54cd\u4e86\u65f6\u95f4\uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651\u5e76\u67e5\u96c6\u7ef4\u62a4 $i$  \u4e4b\u540e\u8df3\u5230\u4e86\u54ea\u91cc\uff0c\u8fd9\u6837~~\u7406\u8bba\u4e0a~~\u53ef\u4ee5\u8282\u7701\u4e00\u534a\u7684\u65f6\u95f4\u3002\n\n**\u4f18\u53163**\n\n\u6211\u4eec\u5728\u66b4\u529b\u91cd\u6784\u4e4b\u524d\u4e0d\u9700\u8981\u904d\u5386\u6bcf\u4e00\u4e2a\u8282\u70b9\uff0c\u56e0\u4e3a\u6709\u4e9b\u4f4d\u7f6e\u6211\u4eec\u53ef\u80fd\u540e\u9762\u4e00\u76f4\u90fd\u8bbf\u95ee\u4e0d\u5230\uff0c\u6240\u4ee5\u6211\u4eec\u76f4\u63a5\u6253\u4e00\u4e2a $clear$ \u6807\u8bb0\u5c31\u53ef\u4ee5\u4e86\n\n~~\u56e0\u4e3a\u8fd9\u4e2a\u7ebf\u6bb5\u6811\u5e38\u6570\u5f88\u5927\uff0c\u6240\u4ee5\u8981\u5361\u5e38~~\n\n**\u5361\u5e38**\n\n- \u5c3d\u91cf\u7528\u51cf\u6cd5\u66ff\u4ee3\u53d6\u6a21\u3002\n\n- \u80fd\u4e0d\u5199\u51fd\u6570\u5c31\u4e0d\u5199\u51fd\u6570\uff0c\u628a pushdown\uff0c\u8fd8\u6709\u64cd\u4f5c 3 \u64cd\u4f5c 4 \u7684\u51fd\u6570\u6254\u51fa\u6765\u3002\n\n- \u628a\u4e00\u4e9b\u65e0\u610f\u4e49\u7684\u8d4b\u503c\u5220\u6389\u3002\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u8fc7\u4e86\uff08\n\n\u603b\u590d\u6742\u5ea6\u662f$O(m\\sqrt m\\log n)$\n\n~~\u7136\u540e\u6210\u529f\u559c\u63d0\u6700\u5dee\u89e3~~\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n# define Rep(i,a,b) for(register int i=a;i<=b;++i)\n# define _Rep(i,a,b) for(register int i=a;i>=b;--i)\n# define RepG(i,u) for(int i=head[u];~i;i=e[i].next)\n\nconst int N=1.5e5+5;\nconst int W=450;\nconst int mod=998244353;\nconst int MAX_SIZE=1<<22;\nchar *ll,*rr,buf[MAX_SIZE];\n\ninline int gc() {\n    if(ll==rr)\n        if(ll==(rr=(ll=buf)+fread(buf,1,MAX_SIZE,stdin))) return -1;\n    return *ll++; \n}\n\ntemplate<typename T> void read(T &x){\n    char c=gc();\n    int f=1;x=0;\n    for(;!isdigit(c);c=gc())if(c=='-')f=-1;\n    for(;isdigit(c);c=gc())x=(x<<1)+(x<<3)+(c-'0');\n    x*=f;\n}\n\nint n,m,sq,bl;\nint l[N],r[N],pos[N];\nint root[W],tot,Q[W];\nint fa[N];\nint b[W][W<<2];\n\nint find(int x){\n\tif(fa[x]==x)return x;\n\treturn fa[x]=find(fa[x]);\t\n}\n\nstruct misaka{\n\tint opt,x,y,k;\t\n}q[N];\n\nstruct mikoto{\n\tint lc,rc;\n\tint a,b;\n\tint tagp,tagm;\t\n\tbool clr;\n}seg[N*20];\n\ninline void renew(int u,int add,int mul,bool clr){\n\tif(clr){\n\t\tseg[u].a=seg[u].tagm=1;\n\t\tseg[u].b=seg[u].tagp=0;\n\t\tseg[u].clr=true;\n\t}\n\tif(mul!=1){\n\t\tseg[u].a=1ll*seg[u].a*mul%mod;\n\t\tseg[u].b=1ll*seg[u].b*mul%mod;\n\t\tseg[u].tagm=1ll*seg[u].tagm*mul%mod;\n\t\tseg[u].tagp=1ll*seg[u].tagp*mul%mod;\n\t}\n\tif(add){\n\t\tseg[u].b+=add;\n\t\tif(seg[u].b>mod)seg[u].b-=mod;\n\t\tseg[u].tagp+=add;\n\t\tif(seg[u].tagp>mod)seg[u].tagp-=mod;\n\t}\n}\n\nint build(int l,int r){\n\tint u=++tot;\n\tseg[u].a=1;\n\tseg[u].tagm=1;\n\tif(l==r)return u;\n\tint mid=l+r>>1;\n\tseg[u].lc=build(l,mid);\n\tseg[u].rc=build(mid+1,r);\n\treturn u;\t\n}\n\nvoid update(int u,int l,int r,int ql,int qr,int mul,int add){\n\tif(l>=ql&&r<=qr){\n\t\trenew(u,add,mul,0);\n\t\treturn;\n\t}\n\trenew(seg[u].lc,seg[u].tagp,seg[u].tagm,seg[u].clr);\n\trenew(seg[u].rc,seg[u].tagp,seg[u].tagm,seg[u].clr);\n\tseg[u].tagp=0,seg[u].tagm=1;\n\tseg[u].clr=false;\n\tint mid=l+r>>1;\n\tif(ql<=mid)update(seg[u].lc,l,mid,ql,qr,mul,add);\n\tif(qr>mid)update(seg[u].rc,mid+1,r,ql,qr,mul,add);\n}\n\nvoid query(int u,int l,int r,int x,int &val){\n\tif(l==r){\n\t\tval=1ll*val*seg[u].a%mod+seg[u].b;\n\t\tif(val>mod)val-=mod;\n\t\treturn;\t\n\t}\n\trenew(seg[u].lc,seg[u].tagp,seg[u].tagm,seg[u].clr);\n\trenew(seg[u].rc,seg[u].tagp,seg[u].tagm,seg[u].clr);\n\tseg[u].tagp=0,seg[u].tagm=1;\n\tseg[u].clr=false;\n\tint mid=l+r>>1;\n\tif(x<=mid)return query(seg[u].lc,l,mid,x,val);\n\telse return query(seg[u].rc,mid+1,r,x,val);\t\n}\n\ninline void init(){\n\tsq=sqrt(m);\n\tRep(i,1,m)pos[i]=(i-1)/sq+1;\n\tbl=pos[m];\n\tRep(i,1,bl)l[i]=(i-1)*sq+1,r[i]=i*sq;\n\tr[bl]=m;\n\tRep(i,1,m+1)fa[i]=i;\n\tRep(k,1,bl){\n\t\tb[k][++Q[k]]=n;\n\t\tRep(i,l[k],r[k])\n\t\t\tif(q[i].opt<=2){\n\t\t\t\tb[k][++Q[k]]=q[i].x;\n\t\t\t\tb[k][++Q[k]]=q[i].x-1;\n\t\t\t\tb[k][++Q[k]]=q[i].y;\n\t\t\t\tb[k][++Q[k]]=q[i].y-1;\t\n\t\t\t}\n\t\tsort(b[k]+1,b[k]+Q[k]+1);\n\t\tQ[k]=unique(b[k]+1,b[k]+Q[k]+1)-b[k]-1;\n\t\tRep(i,l[k],r[k])\n\t\t\tif(q[i].opt<=2){\n\t\t\t\tq[i].x=lower_bound(b[k]+1,b[k]+Q[k]+1,q[i].x)-b[k];\n\t\t\t\tq[i].y=lower_bound(b[k]+1,b[k]+Q[k]+1,q[i].y)-b[k];\t\n\t\t\t}\n\t\troot[k]=build(1,Q[k]);\n\t}\n\t_Rep(i,m,1)if(q[i].opt>2)fa[i]=find(i+1);\n}\t\n\nsigned main()\n{\n\tread(n),read(m);\n\tRep(i,1,m){\n\t\tread(q[i].opt),read(q[i].x);\n\t\tif(q[i].opt<=2)read(q[i].y),read(q[i].k);\n\t\tif(q[i].k>mod)q[i].k-=mod;\n\t}\t\n\tinit();\n\tRep(i,1,m)\n\t\tif(q[i].opt==1)update(root[pos[i]],1,Q[pos[i]],q[i].x,q[i].y,1,q[i].k);\n\t\telse if(q[i].opt==2)update(root[pos[i]],1,Q[pos[i]],q[i].x,q[i].y,q[i].k,0);\n\t\telse if(q[i].opt==3){\n\t\t\tint x=i,p=q[i].x;\n\t\t\tint val=0;\n\t\t\tfor(int i=1;i<pos[x];i++){\n\t\t\t\tint pos=lower_bound(b[i]+1,b[i]+Q[i]+1,p)-b[i];\n\t\t\t\tquery(root[i],1,Q[i],pos,val);\n\t\t\t}\n\t\t\tint now=find(l[pos[x]]);\n\t\t\twhile(now<=x){\n\t\t\t\tint at=lower_bound(b[pos[x]]+1,b[pos[x]]+Q[pos[x]]+1,p)-b[pos[x]];\n\t\t\t\tif(q[now].opt==1&&q[now].x<=at&&q[now].y>=at){\n\t\t\t\t\tval+=q[now].k;\n\t\t\t\t\tif(val>mod)val-=mod;\t\n\t\t\t\t}\n\t\t\t\telse if(q[now].opt==2&&q[now].x<=at&&q[now].y>=at)val=1ll*val*q[now].k%mod;\n\t\t\t\tnow=find(now+1);\n\t\t\t}\n\t\t\tprintf(\"%d\\n\",val);\t\n\t\t}\n\t\telse{\n\t\t\tint p=q[i].x,x=i;\n\t\t\tfa[p]=find(p+1);\n\t\t\tint now=find(l[pos[p]]);\n\t\t\trenew(root[pos[p]],0,1,1);\n\t\t\tint top=min(r[pos[p]],x);\n\t\t\twhile(now<=top){\n\t\t\t\tif(q[now].opt==1)update(root[pos[p]],1,Q[pos[p]],q[now].x,q[now].y,1,q[now].k);\n\t\t\t\telse if(q[now].opt==2)update(root[pos[p]],1,Q[pos[p]],q[now].x,q[now].y,q[now].k,0);\n\t\t\t\tnow=find(now+1);\n\t\t\t}\t\n\t\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1597548437,
        "uid": 97344,
        "name": "devout",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3710 \u3010\u65b9\u65b9\u65b9\u7684\u6570\u636e\u7ed3\u6784\u3011"
    },
    {
        "content": "## $\\text{Solution}$\n\n\u8003\u8651\u5bf9\u4e8e\u6bcf\u4e2a\u64cd\u4f5c\u5904\u7406\u5b58\u5728\u533a\u95f4\u3002\n\n\u52a0\u4e0a\u65f6\u95f4\u8f74\u4e00\u7ef4\u5c31\u662f\u77e9\u9635\u7684\u4fee\u6539\u548c\u5355\u70b9\u67e5\u4e86\u3002\n\n\u8003\u8651 2-D tree \u7ef4\u62a4\u3002\n\n## $\\text{Code}$ \n\n~~\u5176\u5b9e\u8fd9\u9898\u4e0d\u96be\u7801\uff0c\u7ec6\u8282\u6709\u70b9\u591a\u800c\u5df2\uff0c\u7801\u4e862h\uff0c\u4e00\u904d\u8fc7\u3002~~\n\n```cpp\n#include <bits/stdc++.h>\n\n#define N (int)(1.5e5+5)\n#define int long long\n#define mod 998244353\n\nusing namespace std;\n\nstruct Point {\n\tint x,y,val;\n}s[N];\n\nstruct node {\n\tint l,r,ll,rr,val,op;\n}q[N];\n\nint ls[N],rs[N],L[N],R[N],D[N],U[N],add[N],mul[N];\nint n,m,tot,ans,rt;\n\nint rd() {\n\tint f=1,sum=0; char ch=getchar();\n\twhile(!isdigit(ch)) {if(ch=='-') f=-1;ch=getchar();}\n\twhile(isdigit(ch)) {sum=(sum<<3)+(sum<<1)+ch-'0';ch=getchar();}\n\treturn sum*f;\n}\n\nint ff(int x) {\n\treturn x*x;\n}\n\nbool Get(int l,int r) {\n\tint sumx=0,sumy=0,disx=0,disy=0;\n\tfor(int i=l;i<=r;i++) sumx+=s[i].x,sumy+=s[i].y;\n\tsumx/=(r-l+1); sumy/=(r-l+1);\n\tfor(int i=l;i<=r;i++) {\n\t\tdisx+=ff(sumx-s[i].x);\n\t\tdisy+=ff(sumy-s[i].y);\n\t}\n\treturn disx>=disy;\n}\n\nbool cmp1(Point x,Point y) {\n\treturn x.x==y.x?x.y<y.y:x.x<y.x;\n}\n\nbool cmp2(Point x,Point y) {\n\treturn x.y==y.y?x.x<y.x:x.y<y.y;\n}\n\nvoid push_up(int x) {\n\tL[x]=R[x]=s[x].x;\n\tD[x]=U[x]=s[x].y;\n\tif(ls[x]) {\n\t\tL[x]=min(L[x],L[ls[x]]); R[x]=max(R[x],R[ls[x]]);\n\t\tD[x]=min(D[x],D[ls[x]]); U[x]=max(U[x],U[ls[x]]);\n\t}\n\tif(rs[x]) {\n\t\tL[x]=min(L[x],L[rs[x]]); R[x]=max(R[x],R[rs[x]]);\n\t\tD[x]=min(D[x],D[rs[x]]); U[x]=max(U[x],U[rs[x]]);\n\t}\n}\n\nint build(int l,int r) {\n\tif(l>r) return 0;\n\tint mid=(l+r)>>1;\n\tbool fl=Get(l,r);\n\tnth_element(s+l,s+mid,s+r+1,fl?cmp1:cmp2);\n\tmul[mid]=1; add[mid]=0;\n\tls[mid]=build(l,mid-1); rs[mid]=build(mid+1,r);\n\tpush_up(mid);\n\treturn mid;\n}\n\nvoid push_add(int x,int v) {\n\t(s[x].val+=v)%=mod; (add[x]+=v)%=mod;\n} \n\nvoid push_mul(int x,int v) {\n\t(s[x].val*=v)%=mod; (add[x]*=v)%=mod; (mul[x]*=v)%=mod;\n}\n\nvoid push_down(int x) {\n\tif(mul[x]!=1) {\n\t\tif(ls[x]) push_mul(ls[x],mul[x]);\n\t\tif(rs[x]) push_mul(rs[x],mul[x]);\n\t\tmul[x]=1;\n\t}\n\tif(add[x]) {\n\t\tif(ls[x]) push_add(ls[x],add[x]);\n\t\tif(rs[x]) push_add(rs[x],add[x]);\n\t\tadd[x]=0;\n\t}\n}\n\nvoid update1(int l,int r,int cl,int cr,int cll,int crr,int val) {\n\tif(l>r) return;\n\tint mid=(l+r)>>1;\n\tif(L[mid]>cr||R[mid]<cl||D[mid]>crr||U[mid]<cll) return;\n\tif(cl<=L[mid]&&R[mid]<=cr&&cll<=D[mid]&&U[mid]<=crr) {\n\t\tpush_add(mid,val);\n\t\treturn;\n\t}\n\tif(cl<=s[mid].x&&s[mid].x<=cr&&cll<=s[mid].y&&s[mid].y<=crr) (s[mid].val+=val)%=mod;\n\tpush_down(mid);\n\tif(ls[mid]) update1(l,mid-1,cl,cr,cll,crr,val);\n\tif(rs[mid]) update1(mid+1,r,cl,cr,cll,crr,val);\n}\n\nvoid update2(int l,int r,int cl,int cr,int cll,int crr,int val) {\n\tif(l>r) return;\n\tint mid=(l+r)>>1;\n\tif(L[mid]>cr||R[mid]<cl||D[mid]>crr||U[mid]<cll) return;\t\n\tif(cl<=L[mid]&&R[mid]<=cr&&cll<=D[mid]&&U[mid]<=crr) {\n\t\tpush_mul(mid,val);\n\t\treturn;\n\t}\n\tif(cl<=s[mid].x&&s[mid].x<=cr&&cll<=s[mid].y&&s[mid].y<=crr) (s[mid].val*=val)%=mod;\n\tpush_down(mid);\n\tif(ls[mid]) update2(l,mid-1,cl,cr,cll,crr,val);\n\tif(rs[mid]) update2(mid+1,r,cl,cr,cll,crr,val);\n}\n\nvoid query(int l,int r,int x,int y) {\n\tif(l>r) return;\n\tint mid=(l+r)>>1;\n\tif(R[mid]<x||L[mid]>x||U[mid]<y||D[mid]>y) return;\n\tif(s[mid].x==x&&s[mid].y==y) {\n\t\tans=s[mid].val;\n\t\treturn;\n\t}\n\tpush_down(mid);\n\tif(ls[mid]) query(l,mid-1,x,y);\n\tif(rs[mid]) query(mid+1,r,x,y);\n}\n\nsigned main() {\n\tint op,x,y,z;\n\tn=rd(); m=rd();\n\tfor(int i=1;i<=m;i++) {\n\t\top=rd();\n\t\tif(op<=2) {\n\t\t\tx=rd(); y=rd(); z=rd();\n\t\t\tq[i]=node{x,y,i,m,z,op};\n\t\t} else if(op==3) {\n\t\t\tx=rd();\n\t\t\ts[++tot]=Point{x,i,0};\n\t\t\tq[i].op=3; q[i].l=x; q[i].r=i;\n\t\t} else {\n\t\t\tx=rd();\n\t\t\tq[x].rr=i;\n\t\t}\n\t}\t\n\tbuild(1,tot);\n\tfor(int i=1;i<=m;i++) {\n\t\tif(!q[i].op) continue;\n\t\tif(q[i].op==3) {\n\t\t\tans=0;\n\t\t\tquery(1,tot,q[i].l,q[i].r);\n\t\t\tprintf(\"%lld\\n\",ans);\n\t\t} else if(q[i].op==1) {\n\t\t\tupdate1(1,tot,q[i].l,q[i].r,q[i].ll,q[i].rr,q[i].val); //add\n\t\t} else {\n\t\t\tupdate2(1,tot,q[i].l,q[i].r,q[i].ll,q[i].rr,q[i].val); //mul\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1625109721,
        "uid": 125901,
        "name": "FxorG",
        "ccfLevel": 7,
        "title": "P3710 \u65b9\u65b9\u65b9\u7684\u6570\u636e\u7ed3\u6784"
    },
    {
        "content": "## [My Blog](https://yzxoi.top/archives/1738)\n\n## Description\n\n> \u9898\u76ee\u94fe\u63a5\uff1a[P3710](https://www.luogu.com.cn/problem/P3710)\n\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217\uff0c\u4e00\u5f00\u59cb\u5e8f\u5217\u7684\u6570\u5168\u662f $0$\uff0c\u6709 $m$ \u4e2a\u64cd\u4f5c\u3002\n\n1. \u533a\u95f4\u52a0\n2. \u533a\u95f4\u4e58\n3. \u5355\u70b9\u67e5\n4. \u64a4\u9500\u7b2c $p$ \u4e2a\u64cd\u4f5c\uff08\u4fdd\u8bc1\u4e3a\u52a0\u3001\u4e58\u64cd\u4f5c\uff09\n\n$1\\leq n,m\\leq 150000$\uff0c\u65f6\u95f4\u9650\u5236 $4s$\uff0c\u4fdd\u8bc1\u6570\u636e\u968f\u673a\u3002\n\n## Solution\n\n\u9996\u5148\u5982\u679c\u53ea\u6709\u524d $3$ \u4e2a\u64cd\u4f5c\u53ef\u4ee5\u4f7f\u7528\u7ebf\u6bb5\u6811\u3002\n\n\u7136\u540e\u8003\u8651\u7b2c $4$ \u4e2a\u64cd\u4f5c\u5982\u4f55\u8f6c\u5316\u3002\n\n\u7531\u4e8e\u4e0d\u662f\u5f3a\u5236\u5728\u7ebf\uff0c\u6240\u4ee5\u53ef\u4ee5\u5148\u628a\u6240\u6709\u8be2\u95ee\u90fd\u5148\u79bb\u7ebf\u4e0b\u6765\uff0c\u7136\u540e\u4ece\u540e\u5f80\u524d\u626b\u4e00\u904d\u6240\u6709\u7b2c $4$ \u4e2a\u64cd\u4f5c\uff0c\u5f97\u51fa\u6bcf\u4e2a $1,2$ \u64cd\u4f5c\u7684\u751f\u6548\u533a\u95f4\u3002\n\n\u7136\u540e\u5c31\u8f6c\u5316\u6210\u4e86\u4e2a\u4e8c\u7ef4\u5e73\u9762\u95ee\u9898\uff1a\n\n1. \u77e9\u9635\u52a0\n2. \u77e9\u9635\u4e58\n3. \u5355\u70b9\u67e5\n\n\u7531\u4e8e\u672c\u849f\u84bb\u4e0d\u4f1a KD-TREE\uff0c\u6240\u4ee5\u5c31\u76f4\u63a5\u7528\u56db\u53c9\u6811\u5566~~\uff08\u867d\u7136\u56db\u53c9\u6811\u7684\u590d\u6742\u5ea6\u8c8c\u4f3c\u662f\u5047\u7684\uff09~~\n\n\u7136\u800c\u5185\u5b58\u9650\u5236\u4e3a 128MB\uff0c\u6240\u4ee5\u9700\u8981\u5148\u628a\u6240\u6709\u8be2\u95ee\u9700\u8981\u4f7f\u7528\u7684\u533a\u95f4\u5148\u627e\u51fa\u6765\uff0c\u53ea\u5bf9\u8fd9\u4e2a\u533a\u95f4\u4fee\u6539&\u67e5\u8be2\u5373\u53ef\uff08\u8fd9\u79cd\u65b9\u6cd5\u53ea\u80fd\u9488\u5bf9\u4e8e\u5355\u70b9\u67e5\u8be2\uff09\u3002\n\n## Code\n\n```cpp\n#include<bits/stdc++.h>\n#define Tp template<typename Ty>\n#define Ts template<typename Ty,typename... Ar>\n#define W while\n#define I inline\n#define RI register int\n#define LL long long\n#define Cn const\n#define CI Cn int&\n#define gc getchar\n#define D isdigit(c=gc())\n#define pc(c) putchar((c))\n#define min(x,y) ((x)<(y)?(x):(y))\n#define max(x,y) ((x)>(y)?(x):(y))\nusing namespace std;\nnamespace Debug{\n\tTp I void _debug(Cn char* f,Ty t){cerr<<f<<'='<<t<<endl;}\n\tTs I void _debug(Cn char* f,Ty x,Ar... y){W(*f!=',') cerr<<*f++;cerr<<'='<<x<<\",\";_debug(f+1,y...);}\n\tTp ostream& operator<<(ostream& os,Cn vector<Ty>& V){os<<\"[\";for(Cn auto& vv:V) os<<vv<<\",\";os<<\"]\";return os;}\n\t#define gdb(...) _debug(#__VA_ARGS__,__VA_ARGS__)\n}using namespace Debug;\nnamespace FastIO{\n\tTp I void read(Ty& x){char c;int f=1;x=0;W(!D) f=c^'-'?1:-1;W(x=(x<<3)+(x<<1)+(c&15),D);x*=f;}\n\tTs I void read(Ty& x,Ar&... y){read(x),read(y...);}\n\tTp I void write(Ty x){x<0&&(pc('-'),x=-x,0),x<10?(pc(x+'0'),0):(write(x/10),pc(x%10+'0'),0);}\n\tTp I void writeln(Cn Ty& x){write(x),pc('\\n');}\n}using namespace FastIO;\nCn int N=150010,P=998244353;\nint n,m,A[N],rt;\nstruct Que{int opt,l,r,x;}q[N];\nclass SegmentTree{\n\tprivate:\n\t\tint cnt;\n\t\tstruct node{int son[4],S,T,sz;}T[N*20];//\u7531\u4e8e\u6bcf\u4e2a\u8be2\u95ee\u6700\u591a\u53ea\u80fd\u626blog\u7684\u533a\u95f4\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u5f00 N*20\uff0cS\u7ef4\u62a4\u548c\uff0cT\u4e3a\u4e58\u61d2\u6807\u8bb0\n\t\t#define midX (a+c>>1)\n\t\t#define midY (b+d>>1)\n\t\t#define S0 T[x].son[0],a,b,midX,midY\n\t\t#define S1 T[x].son[1],midX+1,b,c,midY\n\t\t#define S2 T[x].son[2],a,midY+1,midX,d\n\t\t#define S3 T[x].son[3],midX+1,midY+1,c,d\n\t\tI void NW(int& x,CI a,CI b,CI c,CI d){!x&&(T[x=++cnt].sz=(c-a+1)*(d-b+1),\n\t\tT[x].T=1,T[x].S=T[x].son[0]=T[x].son[1]=T[x].son[2]=T[x].son[3]=0);}\n\t\t#define PD(x,a,b,c,d) (x&&T[x].sz>1&&(T[x].S||T[x].T>1)&&(\\\n\t\tT[x].son[0]&&(T[T[x].son[0]].T=1LL*T[T[x].son[0]].T*T[x].T%P,T[T[x].son[0]].S=1LL*T[T[x].son[0]].S*T[x].T%P,(T[T[x].son[0]].S+=T[x].S)%=P,0),\\\n\t\tT[x].son[1]&&(T[T[x].son[1]].T=1LL*T[T[x].son[1]].T*T[x].T%P,T[T[x].son[1]].S=1LL*T[T[x].son[1]].S*T[x].T%P,(T[T[x].son[1]].S+=T[x].S)%=P,0),\\\n\t\tT[x].son[2]&&(T[T[x].son[2]].T=1LL*T[T[x].son[2]].T*T[x].T%P,T[T[x].son[2]].S=1LL*T[T[x].son[2]].S*T[x].T%P,(T[T[x].son[2]].S+=T[x].S)%=P,0),\\\n\t\tT[x].son[3]&&(T[T[x].son[3]].T=1LL*T[T[x].son[3]].T*T[x].T%P,T[T[x].son[3]].S=1LL*T[T[x].son[3]].S*T[x].T%P,(T[T[x].son[3]].S+=T[x].S)%=P,0),\\\n\t\tT[x].S=0,T[x].T=1))\n\tpublic:\n\t\tI void B(int& x,CI a,CI b,CI c,CI d,CI Qx,CI Qy){//\u9884\u5148\u5efa\u70b9\n\t\t\tNW(x,a,b,c,d);if(a==c&&b==d) return ;\n\t\t\tQx<=midX&&Qy<=midY&&(B(S0,Qx,Qy),0),\n\t\t\tQx>midX&&Qy<=midY&&(B(S1,Qx,Qy),0),\n\t\t\tQx<=midX&&Qy>midY&&(B(S2,Qx,Qy),0),\n\t\t\tQx>midX&&Qy>midY&&(B(S3,Qx,Qy),0);\n\t\t}\n\t\tI void Add(int& x,CI a,CI b,CI c,CI d,CI Qa,CI Qb,CI Qc,CI Qd,CI v){//\u77e9\u9635\u52a0\n\t\t\tif(!x) return ;if(Qa<=a&&Qb<=b&&c<=Qc&&d<=Qd) return void((T[x].S+=v)%=P);\n\t\t\tPD(x,a,b,c,d),Qa<=midX&&Qb<=midY&&(Add(S0,Qa,Qb,min(Qc,midX),min(Qd,midY),v),0),\n\t\t\tQc>midX&&Qb<=midY&&(Add(S1,max(Qa,midX+1),Qb,Qc,min(Qd,midY),v),0),\n\t\t\tQa<=midX&&Qd>midY&&(Add(S2,Qa,max(Qb,midY+1),min(Qc,midX),Qd,v),0),\n\t\t\tQc>midX&&Qd>midY&&(Add(S3,max(Qa,midX+1),max(Qb,midY+1),Qc,Qd,v),0);\n\t\t}\n\t\tI void Mul(int& x,CI a,CI b,CI c,CI d,CI Qa,CI Qb,CI Qc,CI Qd,CI v){//\u77e9\u9635\u4e58\n\t\t\tif(!x) return ;if(Qa<=a&&Qb<=b&&c<=Qc&&d<=Qd) return T[x].T=1LL*T[x].T*v%P,void(T[x].S=1LL*T[x].S*v%P);\n\t\t\tPD(x,a,b,c,d),Qa<=midX&&Qb<=midY&&(Mul(S0,Qa,Qb,min(Qc,midX),min(Qd,midY),v),0),\n\t\t\tQc>midX&&Qb<=midY&&(Mul(S1,max(Qa,midX+1),Qb,Qc,min(Qd,midY),v),0),\n\t\t\tQa<=midX&&Qd>midY&&(Mul(S2,Qa,max(Qb,midY+1),min(Qc,midX),Qd,v),0),\n\t\t\tQc>midX&&Qd>midY&&(Mul(S3,max(Qa,midX+1),max(Qb,midY+1),Qc,Qd,v),0);\n\t\t}\n\t\tI int Q(int &x,CI a,CI b,CI c,CI d,CI Qx,CI Qy){//\u5355\u70b9\u67e5\n\t\t\tif(!x) return 0;if(a==c&&b==d) return T[x].S;\n\t\t\tRI S=0;return PD(x,a,b,c,d),Qx<=midX&&Qy<=midY&&((S+=Q(S0,Qx,Qy))%=P),\n\t\t\tQx>midX&&Qy<=midY&&((S+=Q(S1,Qx,Qy))%=P),\n\t\t\tQx<=midX&&Qy>midY&&((S+=Q(S2,Qx,Qy))%=P),\n\t\t\tQx>midX&&Qy>midY&&((S+=Q(S3,Qx,Qy))%=P),S;\n\t\t}\n}S;\nint main(){\n\tRI i;for(read(n,m),i=1;i<=m;i++) read(q[i].opt),q[i].opt<=2&&(read(q[i].l,q[i].r),0),read(q[i].x),A[i]=m;\n\tfor(i=m;i>=1;i--) q[i].opt==4&&(A[q[i].x]=i);//\u5148\u627e\u51fa\u6bcf\u4e2a\u4fee\u6539\u64cd\u4f5c\u7684\u751f\u6548\u533a\u95f4\n\tfor(i=1;i<=m;i++) if(q[i].opt==3) S.B(rt,1,1,m,n,i,q[i].x);//\u9884\u5148\u5efa\u70b9\n\tfor(i=1;i<=m;i++) if(q[i].opt==1) S.Add(rt,1,1,m,n,i,q[i].l,A[i],q[i].r,q[i].x);\n\telse if(q[i].opt==2) S.Mul(rt,1,1,m,n,i,q[i].l,A[i],q[i].r,q[i].x);\n\telse if(q[i].opt==3) writeln(S.Q(rt,1,1,m,n,i,q[i].x));return 0;\n}\n```\n\n",
        "postTime": 1617860108,
        "uid": 37103,
        "name": "yzxoi",
        "ccfLevel": 7,
        "title": "LuoguP3710 \u65b9\u65b9\u65b9\u7684\u6570\u636e\u7ed3\u6784"
    },
    {
        "content": "\u56e0\u4e3a\u6709\u64a4\u9500\u64cd\u4f5c\uff0c\u6240\u4ee5\u4fee\u6539\u64cd\u4f5c\u53ef\u80fd\u4f1a\u53ea\u4f1a\u5b58\u5728\u4e00\u6bb5\u65f6\u95f4\uff0c\u56e0\u6b64\u628a\u65f6\u95f4\u770b\u4f5c\u4e00\u7ef4\uff0c\u88ab\u4fee\u6539\u7684\u5e8f\u5217\u770b\u4f5c\u4e00\u7ef4\u3002\n\n\u53ef\u4ee5\u628a\u64cd\u4f5c\u90fd\u79bb\u7ebf\u4e0b\u6765\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u4fee\u6539\u64cd\u4f5c\uff0c\u5c31\u662f\u5728\u4e8c\u7ef4\u5e73\u9762\u4e0a\u5bf9\u4e00\u4e2a\u77e9\u5f62\u8fdb\u884c\u4fee\u6539\uff0c\u8be2\u95ee\u64cd\u4f5c\uff0c\u5c31\u662f\u67e5\u8be2\u5355\u70b9\u6743\u503c\u3002\n\n\u5177\u4f53\u5b9e\u73b0\u65f6\uff0c\u53ef\u4ee5\u5bf9\u6240\u6709\u8be2\u95ee\u64cd\u4f5c\u67e5\u8be2\u7684\u5355\u70b9\u5efa$K-D\\ Tree$\uff0c\u7136\u540e\u5728$K-D\\ Tree$\u4e0a\u77e9\u5f62\u4fee\u6539\u5373\u53ef\u3002\n\n$code:$\n\n```cpp\n#include<bits/stdc++.h>\n#define maxn 600010\n#define p 998244353\nusing namespace std;\ntypedef long long ll;\ntemplate<typename T> inline void read(T &x)\n{\n    x=0;char c=getchar();bool flag=false;\n    while(!isdigit(c)){if(c=='-')flag=true;c=getchar();}\n    while(isdigit(c)){x=(x<<1)+(x<<3)+(c^48);c=getchar();}\n    if(flag)x=-x;\n}\nint n,m,root,tot,type,cnt;\nll ans;\nstruct node\n{\n    int opt,u,d,pos;\n    ll v;\n}q[maxn];\nstruct KD_tree\n{\n    int d[2],mi[2],ma[2],ls,rs;\n    ll val,add,mul;\n}t[maxn],dat[maxn];\nbool cmp(const KD_tree &a,const KD_tree &b)\n{\n    return a.d[type]<b.d[type];\n}\nvoid pushup(int cur)\n{\n    int ls=t[cur].ls,rs=t[cur].rs;\n    for(int i=0;i<=1;++i)\n    {\n        t[cur].ma[i]=t[cur].mi[i]=t[cur].d[i];\n        if(ls)\n        {\n            t[cur].ma[i]=max(t[cur].ma[i],t[ls].ma[i]);\n            t[cur].mi[i]=min(t[cur].mi[i],t[ls].mi[i]);\n        }\n        if(rs)\n        {\n            t[cur].ma[i]=max(t[cur].ma[i],t[rs].ma[i]);\n            t[cur].mi[i]=min(t[cur].mi[i],t[rs].mi[i]);\n        }\n    }\n}\nvoid pushadd(int cur,ll v)\n{\n    t[cur].val=(t[cur].val+v)%p,t[cur].add=(t[cur].add+v)%p;\n}\nvoid pushmul(int cur,ll v)\n{\n    t[cur].val=t[cur].val*v%p,t[cur].add=t[cur].add*v%p,t[cur].mul=t[cur].mul*v%p;\n}\nvoid pushdown(int cur)\n{\n    int ls=t[cur].ls,rs=t[cur].rs;\n    if(t[cur].mul!=1) pushmul(ls,t[cur].mul),pushmul(rs,t[cur].mul),t[cur].mul=1;\n    if(t[cur].add) pushadd(ls,t[cur].add),pushadd(rs,t[cur].add),t[cur].add=0;\n}\nvoid build(int l,int r,int k,int &cur)\n{\n    cur=++tot,type=k;\n    int mid=(l+r)>>1;\n    nth_element(dat+l+1,dat+mid+1,dat+r+1,cmp);\n    t[cur]=dat[mid],t[cur].mul=1;\n    if(l<mid) build(l,mid-1,k^1,t[cur].ls);\n    if(r>mid) build(mid+1,r,k^1,t[cur].rs);\n    pushup(cur);\n}\nbool out(int cur,int u,int d,int l,int r)\n{\n    return u>t[cur].ma[0]||d<t[cur].mi[0]||l>t[cur].ma[1]||r<t[cur].mi[1];\n}\nbool in(int cur,int u,int d,int l,int r)\n{\n    return u<=t[cur].mi[0]&&d>=t[cur].ma[0]&&l<=t[cur].mi[1]&&r>=t[cur].ma[1];\n}\nbool check(int cur,int u,int d,int l,int r)\n{\n    return u<=t[cur].d[0]&&d>=t[cur].d[0]&&l<=t[cur].d[1]&&r>=t[cur].d[1];\n}\nvoid modify_add(int cur,int u,int d,int l,int r,ll v)\n{\n    if(out(cur,u,d,l,r)) return;\n    if(in(cur,u,d,l,r))\n    {\n        pushadd(cur,v);\n        return;\n    }\n    if(check(cur,u,d,l,r)) t[cur].val=(t[cur].val+v)%p;\n    int ls=t[cur].ls,rs=t[cur].rs;\n    pushdown(cur);\n    if(ls) modify_add(ls,u,d,l,r,v);\n    if(rs) modify_add(rs,u,d,l,r,v);\n}\nvoid modify_mul(int cur,int u,int d,int l,int r,ll v)\n{\n    if(out(cur,u,d,l,r)) return;\n    if(in(cur,u,d,l,r))\n    {\n        pushmul(cur,v);\n        return;\n    }\n    if(check(cur,u,d,l,r)) t[cur].val=t[cur].val*v%p;\n    int ls=t[cur].ls,rs=t[cur].rs;\n    pushdown(cur);\n    if(ls) modify_mul(ls,u,d,l,r,v);\n    if(rs) modify_mul(rs,u,d,l,r,v);\n}\nvoid query(int cur,int x,int y)\n{\n    if(x>t[cur].ma[0]||x<t[cur].mi[0]||y>t[cur].ma[1]||y<t[cur].mi[1]) return;\n    if(x==t[cur].d[0]&&y==t[cur].d[1])\n    {\n        ans=t[cur].val;\n        return;\n    }\n    int ls=t[cur].ls,rs=t[cur].rs;\n    pushdown(cur);\n    if(ls) query(ls,x,y);\n    if(rs) query(rs,x,y);\n}\nint main()\n{\n    read(n),read(m);\n    for(int i=1;i<=m;++i)\n    {\n        read(q[i].opt);\n        if(q[i].opt<=2) read(q[i].u),read(q[i].d),read(q[i].v);\n        if(q[i].opt==3) read(q[i].pos),dat[++cnt].d[0]=q[i].pos,dat[cnt].d[1]=i;\n        if(q[i].opt==4) read(q[i].pos),q[q[i].pos].pos=i;\n    }\n    for(int i=1;i<=m;++i)\n        if(q[i].opt<=2&&!q[i].pos)\n            q[i].pos=m;\n    build(1,cnt,0,root);\n    for(int i=1;i<=m;++i)\n    {\n        if(q[i].opt==1) modify_add(root,q[i].u,q[i].d,i,q[i].pos,q[i].v);\n        if(q[i].opt==2) modify_mul(root,q[i].u,q[i].d,i,q[i].pos,q[i].v);\n        if(q[i].opt==3) query(root,q[i].pos,i),printf(\"%lld\\n\",ans);\n    }\n    return 0;\n} \n```\n",
        "postTime": 1592207271,
        "uid": 172489,
        "name": "lhm_",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3710 \u3010\u65b9\u65b9\u65b9\u7684\u6570\u636e\u7ed3\u6784\u3011"
    },
    {
        "content": "#### Solution\n\n\u4e00\u9053\u6bd4\u8f83\u7b80\u5355\u7684 KD-T \u7ec3\u4e60\u9898\uff08\u96fe\uff09\n\n\u6211\u4eec\u628a\u6bcf\u4e00\u4e2a\u64cd\u4f5c\u5f53\u6210\u662f\u5bf9\u4e8e\u4e00\u4e2a\u4e8c\u7ef4\u5e73\u9762\u8fdb\u884c\u64cd\u4f5c\uff0c\u4ee5\u65f6\u95f4\u4e3a\u7eb5\u5750\u6807\uff0c\u5e8f\u5217\u7684\u4e0b\u6807\u4e3a\u6a2a\u5750\u6807\u7684\u8bdd\uff0c\u53ef\u4ee5\u53d1\u73b0\u6bcf\u4e00\u4e2a\u4fee\u6539\u64cd\u4f5c\u5f71\u54cd\u7684\u65f6\u95f4\u6bb5\u5373\u4e3a\u5176\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u65f6\u95f4\u5230\u88ab\u64a4\u9500\u7684\u65f6\u95f4\uff0c\u76f8\u5f53\u4e8e\u4e00\u4e2a\u5e73\u9762\u4e0a\u7684\u77e9\u5f62\u7684\u52a0\u6cd5\u4ee5\u53ca\u4e58\u6cd5\u3002\u4ee5\u8be2\u95ee\u7684\u70b9$(p, t)$\uff08 $p,t$ \u5206\u522b\u4e3a\u5e8f\u5217\u4f4d\u7f6e\u4ee5\u53ca\u67e5\u8be2\u7684\u65f6\u95f4 \uff09\u5efa\u4e00\u4e2a KD-T\uff0c\u7136\u540e\u7ef4\u62a4\u77e9\u5f62\u52a0\u4ee5\u53ca\u77e9\u5f62\u7684\u4e58\u6cd5\uff0c\u6700\u540e\u5355\u70b9\u67e5\u8be2\u5373\u53ef\u5f97\u5230\u7b54\u6848\u3002\n\n\u590d\u6742\u5ea6: $O(n \\sqrt{n})$\n\n#### Code\n```cpp\n#include <bits/stdc++.h>\n#define Rep(i, l, r) for(int i = l ; i <= r ; i ++)\n#define Lep(i, r, l) for(int i = r ; i >= l ; i --)\nusing namespace std;\nconst int Mod = 998244353;\ninline void read() {}\ntemplate <typename T, typename... Args>\ninline void read(T& x, Args&... args) {\n\tint flag = 1; x = 0;\n\tchar ch = getchar();\n\tfor( ; ch > '9' || ch < '0' ; ch = getchar()) if(ch == '-') flag = -1;\n\tfor( ; ch >= '0' &&  ch <= '9' ; ch = getchar()) x = x * 10 + ch - '0';\n\tx * flag, read(args...);\n}\nconst int MAXN = 1.5e5 + 50;\nstruct Martix {\n\tint X[2], Y[2], op, d;\n} M[MAXN];\nstruct Node {\n\tint P[2];\n} N[MAXN], Q[MAXN];\nstruct KDT {\n\tint M[2], Mi[2], ls, rs, x, y;\n\tint tagMul, tagAdd, val;\n} T[MAXN];\nint n, m, op, siz, id, rt = 0, cnt;\ninline bool cmp0(Node a, Node b) { return a.P[0] < b.P[0]; }\ninline bool cmp1(Node a, Node b) { return a.P[1] < b.P[1]; }                     \nvoid build(int &x, int l, int r, int D) {\n\tif(l > r) return ;\n\tif(!x) x = ++ cnt;\n\tint mid = (l + r) >> 1;\n\tif(!D) nth_element(N + l, N + mid, N + 1 + r, cmp0);\n\telse nth_element(N + l, N + mid, N + 1 + r, cmp1);\n\tT[x].tagAdd = T[x].val = 0, T[x].tagMul = 1;\n\tT[x].M[0] = T[x].Mi[0] = T[x].x = N[mid].P[0];\n\tT[x].M[1] = T[x].Mi[1] = T[x].y = N[mid].P[1];\n\tbuild(T[x].ls, l, mid - 1, D ^ 1);\n\tbuild(T[x].rs, mid + 1, r, D ^ 1);\n\tint ls = T[x].ls, rs = T[x].rs;\n\tRep(i, 0, 1) { \n\t\tif(ls) T[x].M[i] = max(T[ls].M[i], T[x].M[i]), \n\t\t\t   T[x].Mi[i] = min(T[ls].Mi[i], T[x].Mi[i]);\n\t\tif(rs) T[x].M[i] = max(T[rs].M[i], T[x].M[i]), \n\t\t\t   T[x].Mi[i] = min(T[rs].Mi[i], T[x].Mi[i]);\n\t}\n\treturn ;\n}\nbool out(Martix a, KDT b) {\n\treturn (a.X[0] > b.M[0] || a.X[1] < b.Mi[0] || a.Y[0] > b.M[1] || a.Y[1] < b.Mi[1]);\n}\nbool in(Martix a, KDT b) {\n\treturn (a.X[1] >= b.M[0] && a.X[0] <= b.Mi[0] && a.Y[1] >= b.M[1] && a.Y[0] <= b.Mi[1]);\n}\nvoid ad(int x, int k, int op) {\n\tint &M = T[x].tagMul, &Ad = T[x].tagAdd, &val = T[x].val;\n\tif(op == 1) Ad += k, Ad %= Mod, val += k, val %= Mod;\n\tif(op == 2) M = 1ll * k * M % Mod, Ad = 1ll * Ad * k % Mod, val = 1ll * val * k % Mod;\n\treturn ;\n}\nvoid pushdown(int x) {\n\tint &M = T[x].tagMul, &Ad = T[x].tagAdd;\n\tint ls = T[x].ls, rs = T[x].rs;\n\tif(M == 1 && !Ad) return;\n\tad(ls, M, 2), ad(rs, M, 2);\n\tad(ls, Ad, 1), ad(rs, Ad, 1);\n\tM = 1, Ad = 0; return ;\n}\nvoid change(int x, Martix s, int D) {\n\tif(in(s, T[x])) {\n\t\tad(x, s.d, s.op);\n\t\treturn ; \n\t}\n\tif(T[x].x >= s.X[0] && T[x].x <= s.X[1] && T[x].y >= s.Y[0] && T[x].y <= s.Y[1]) {\n\t\tif(s.op == 1) T[x].val += s.d, T[x].val %= Mod;\n\t\tif(s.op == 2) T[x].val = 1ll * T[x].val * s.d % Mod;\n\t}\n\tif(out(s, T[x])) return ;\n\tpushdown(x);\n\tif(T[x].ls) change(T[x].ls, s, D ^ 1);\n\tif(T[x].rs) change(T[x].rs, s, D ^ 1);\n\treturn ;\n}\nint GetAns(int x, int X, int Y, int D) {\n\tif(!x) return 0;\n\tif(X > T[x].M[0] || X < T[x].Mi[0] || Y > T[x].M[1] || Y < T[x].Mi[1]) return 0;\n\tif(T[x].x == X && T[x].y == Y) return T[x].val;\n\tpushdown(x);\n\tint ans = 0;\n\tans |= GetAns(T[x].ls, X, Y, D ^ 1);\n\tans |= GetAns(T[x].rs, X, Y, D ^ 1);\n\treturn ans;\n}\n\nint main() {\n\tread(n, m);\n\tRep(i, 1, m) {\n\t\tread(op);\n\t\tif(op <= 2) read(M[i].X[0], M[i].X[1], M[i].d), M[i].Y[0] = i, M[i].op = op;\n\t\tif(op == 3) read(N[++ siz].P[0]), N[siz].P[1] =  i, Q[siz] = N[siz];\n\t\tif(op == 4) read(id), M[id].Y[1] = i;\n\t}\n\tbuild(rt, 1, siz, 0);\n\tRep(i, 1, m) if(M[i].Y[0]) { \n\t\tif(M[i].Y[1] == 0) M[i].Y[1] = m;\n\t\tchange(rt, M[i], 0); \n\t}\n\tRep(i, 1, siz) printf(\"%d\\n\", GetAns(rt, Q[i].P[0], Q[i].P[1], 0));\n\t\n\treturn 0;\n}\n```",
        "postTime": 1631687023,
        "uid": 67817,
        "name": "MuYC",
        "ccfLevel": 6,
        "title": "P3710 \u65b9\u65b9\u65b9\u7684\u6570\u636e\u7ed3\u6784 \u9898\u89e3"
    },
    {
        "content": "\u5176\u5b9e\u8fd9\u9053\u9898\u662f\u6709$O(m\\log^2n)$\u7684\u505a\u6cd5\u7684\u3002\n\n\u53ef\u4ee5\u6309\u7167\u524d\u9762\u5b54\u7237\u7684\u8bf4\u6cd5\uff0c\u5c06\u8be2\u95ee\u79bb\u7ebf\uff0c\u7136\u540e\u53d8\u6210\u77e9\u5f62\u4fee\u6539\u3002\n\n\u8fd9\u65f6\u5019\uff0c\u5982\u679c\u7528\u56db\u53c9\u6811\u6362\u6389k-d tree\u7684\u8bdd\uff0c\u590d\u6742\u5ea6\u5c31\u4f1a\u7531\u5355\u6b21 $O(\\sqrt n)$\u53d8\u6210\u5355\u6b21$O(\\log^2n)$\u3002\n\n\u6ce8\u610f\u4e00\u4e0b\u7a7a\u95f4\u95ee\u9898\uff0c\u5c06\u9700\u8981\u7684\u70b9\u9884\u5904\u7406\u51fa\u6765\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u4ee3\u7801:\n```cpp\n\n#include<bits/stdc++.h>\n#define Rep(i,a,b) for(register int i=(a);i<=(b);++i)\n#define Repe(i,a,b) for(register int i=(a);i>=(b);--i)\n#define rep(i,a,b) for(register int i=(a);i<(b);++i)\n#define pb push_back\n#define mx(a,b) (a>b?a:b)\n#define mn(a,b) (a<b?a:b)\ntypedef unsigned long long uint64;\ntypedef unsigned int uint32;\ntypedef long long ll;\nusing namespace std;\n\nnamespace IO\n{\n    const uint32 Buffsize=1<<15,Output=1<<24;\n    static char Ch[Buffsize],*S=Ch,*T=Ch;\n    inline char getc()\n    {\n        return((S==T)&&(T=(S=Ch)+fread(Ch,1,Buffsize,stdin),S==T)?0:*S++);\n    }\n    static char Out[Output],*nowps=Out;\n    \n    inline void flush(){fwrite(Out,1,nowps-Out,stdout);nowps=Out;}\n\n    template<typename T>inline void read(T&x)\n    {\n        x=0;static char ch;T f=1;\n        for(ch=getc();!isdigit(ch);ch=getc())if(ch=='-')f=-1;\n        for(;isdigit(ch);ch=getc())x=x*10+(ch^48);\n        x*=f;\n    }\n\n    template<typename T>inline void write(T x,char ch='\\n')\n    {\n        if(!x)*nowps++='0';\n        if(x<0)*nowps++='-',x=-x;\n        static uint32 sta[111],tp;\n        for(tp=0;x;x/=10)sta[++tp]=x%10;\n        for(;tp;*nowps++=sta[tp--]^48);\n        *nowps++=ch;\n    }\n}\nusing namespace IO;\n\nvoid file(void)\n{\n    FILE*DSD=freopen(\"water.in\",\"r\",stdin);\n    FILE*CSC=freopen(\"water.out\",\"w\",stdout);\n}\n\nconst int MAXN=1.5e5+7;\n\nconst int mod=998244353;\n\nstatic int n,m,tt,ee;\n\nstatic struct oper\n{\n\tint opt,l,r,d,st,ed;\n}p[MAXN];\n\nstatic int ids[MAXN];\n\nstatic struct ask{int u,v;}q[MAXN];\n\ninline void init()\n{\n\tread(n),read(m);\n\tstatic int opt,u;\n\tstatic int cnt=0,lst=0;\n\tRep(i,1,m)\n\t{\n\t\tread(opt);\n\t\tif(opt<=2)lst=0,ids[i]=++tt,p[tt].opt=opt,read(p[tt].l),read(p[tt].r),read(p[tt].d),p[tt].st=cnt+1,p[tt].ed=m;\n\t\telse if(opt==3)\n\t\t{\n\t\t\tif(!lst)++cnt;\n\t\t\tq[++ee].v=cnt,read(q[ee].u);\n\t\t\tlst=1;\n\t\t}\n\t\telse lst=0,read(u),p[ids[u]].ed=cnt;\n\t}\n\tRep(i,1,tt)if(p[i].ed>cnt)p[i].ed=cnt;\n\tm=cnt;\n\t//Rep(i,1,tt)if(p[i].st<=1)cerr<<p[i].l<<' '<<p[i].r<<' '<<p[i].d<<endl;\n}\n\nnamespace Segment_Tree\n{\n\tconst int NODE=MAXN*30;\n\n\tint add[NODE],mul[NODE],e,son[NODE][2][2];\n\n\tvoid preget(int&h,int l0,int r0,int l1,int r1,int u,int v)\n\t{\n\t\tif(l0>r0||l1>r1)return;\n\t\tif(!h)mul[h=++e]=1;\n\t\tif(l0==r0&&l1==r1)return;\n\t\tint md0=(l0+r0)>>1,md1=(l1+r1)>>1;\n\t\tif(u<=md0)\n\t\t{\n\t\t\treturn v<=md1?preget(son[h][0][0],l0,md0,l1,md1,u,v):\n\t\t\tpreget(son[h][0][1],l0,md0,md1+1,r1,u,v);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn v<=md1?preget(son[h][1][0],md0+1,r0,l1,md1,u,v):\n\t\t\tpreget(son[h][1][1],md0+1,r0,md1+1,r1,u,v);\n\t\t}\n\t}\n\n\tinline int ad(int u,int v){return(u+=v)>=mod?u-mod:u;}\n\n\tinline void pushdown(int u)\n\t{\n\t\tregister int dir,cur;\n\t\tif(mul[u]^1)\n\t\t{\n\t\t\tcur=mul[u],mul[u]=1;\n\t\t\tRep(i,0,1)Rep(j,0,1)if(dir=son[u][i][j])\n\t\t\t{\n\t\t\t\tadd[dir]=(uint64)add[dir]*cur%mod;\n\t\t\t\tmul[dir]=(uint64)mul[dir]*cur%mod;\n\t\t\t}\n\t\t}\n\t\tif(add[u])\n\t\t{\n\t\t\tcur=add[u],add[u]=0;\n\t\t\tRep(i,0,1)Rep(j,0,1)if(dir=son[u][i][j])\n\t\t\t\tadd[dir]=ad(add[dir],cur);\n\t\t}\n\t}\n\n\t#define other u0,v0,u1,v1,delt\n\n\tvoid pls(int h,int l0,int r0,int l1,int r1,int u0,int v0,int u1,int v1,int delt)\n\t{\n\t\tif(!h)return;\n\t\tif(u0<=l0&&r0<=v0&&u1<=l1&&r1<=v1){add[h]=ad(add[h],delt);return;}\n\t\tint md0=(l0+r0)>>1,md1=(l1+r1)>>1;\n\t\tpushdown(h);\n\t\tif(u0<=md0)\n\t\t{\n\t\t\tif(u1<=md1)pls(son[h][0][0],l0,md0,l1,md1,other);\n\t\t\tif(v1>md1)pls(son[h][0][1],l0,md0,md1+1,r1,other);\n\t\t}\n\t\tif(v0>md0)\n\t\t{\n\t\t\tif(u1<=md1)pls(son[h][1][0],md0+1,r0,l1,md1,other);\n\t\t\tif(v1>md1)pls(son[h][1][1],md0+1,r0,md1+1,r1,other);\n\t\t}\n\t}\n\n\tvoid tim(int h,int l0,int r0,int l1,int r1,int u0,int v0,int u1,int v1,int delt)\n\t{\n\t\tif(!h)return;\n\t\tif(u0<=l0&&r0<=v0&&u1<=l1&&r1<=v1)\n\t\t{add[h]=(uint64)add[h]*delt%mod,mul[h]=(uint64)mul[h]*delt%mod;return;}\n\t\tint md0=(l0+r0)>>1,md1=(l1+r1)>>1;\n\t\tpushdown(h);\n\t\tif(u0<=md0)\n\t\t{\n\t\t\tif(u1<=md1)tim(son[h][0][0],l0,md0,l1,md1,other);\n\t\t\tif(v1>md1)tim(son[h][0][1],l0,md0,md1+1,r1,other);\n\t\t}\n\t\tif(v0>md0)\n\t\t{\n\t\t\tif(u1<=md1)tim(son[h][1][0],md0+1,r0,l1,md1,other);\n\t\t\tif(v1>md1)tim(son[h][1][1],md0+1,r0,md1+1,r1,other);\n\t\t}\n\t}\n\n\tint query(int h,int l0,int r0,int l1,int r1,int u,int v)\n\t{\n\t\tif(!h)return 0;\n\t\tif(l0==r0&&l1==r1)return add[h];\n\t\tint md0=(l0+r0)>>1,md1=(l1+r1)>>1;\n\t\tpushdown(h);\n\t\tif(u<=md0)\n\t\t{\n\t\t\treturn v<=md1?query(son[h][0][0],l0,md0,l1,md1,u,v):\n\t\t\tquery(son[h][0][1],l0,md0,md1+1,r1,u,v);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn v<=md1?query(son[h][1][0],md0+1,r0,l1,md1,u,v):\n\t\t\tquery(son[h][1][1],md0+1,r0,md1+1,r1,u,v);\n\t\t}\n\t}\n}\nusing namespace Segment_Tree;\n\nstatic int rt;\n\ninline void solve()\n{\n\tstatic int ps=1;\n\tRep(i,1,ee)preget(rt,1,n,1,m,q[i].u,q[i].v);\n\tRep(i,1,ee)\n\t{\n\t\twhile(ps<=tt&&p[ps].st<=q[i].v)\n\t\t{\n\t\t\tif(p[ps].st<=p[ps].ed)\n\t\tp[ps].opt==1?pls(rt,1,n,1,m,p[ps].l,p[ps].r,p[ps].st,p[ps].ed,p[ps].d):\n\t\ttim(rt,1,n,1,m,p[ps].l,p[ps].r,p[ps].st,p[ps].ed,p[ps].d);\n\t\t\t++ps;\n\t\t}\n\t\twrite(query(rt,1,n,1,m,q[i].u,q[i].v));\n\t}\n\tflush();\n}\n\nint main()\n{\n\tinit();\n\tsolve();\n\treturn 0;\n}\n\n```",
        "postTime": 1546587039,
        "uid": 7035,
        "name": "Great_Influence",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3710 \u3010\u65b9\u65b9\u65b9\u7684\u6570\u636e\u7ed3\u6784\u3011"
    }
]