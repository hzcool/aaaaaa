[
    {
        "content": ">[\u63a8\u9500](https://www.cnblogs.com/Varuxn/p/15089787.html)\n\n# \u89e3\u9898\u601d\u8def\n\u975e\u5e38\u597d\u7684\u4e00\u9053**\u6784\u9020**\u9898\u3002\n\n\u5728\u624b\u52a8\u6a21\u62df\u51e0\u4e2a\u6837\u4f8b\uff08\u4e5f\u8bb8\u4e0d\u6b62\u51e0\u4e2a\uff09\u4e4b\u540e\u5462\u3002\n\n\u5c31\u53ef\u4ee5\u53d1\u73b0\u5176\u5b9e\u8fd9\u4e9b\u64cd\u4f5c\u7684\u5f00\u59cb\u4ee5\u53ca\u6700\u540e\u51e0\u6b65\u662f\u6709\u76f8\u901a\u4e4b\u5904\u7684\u3002\n\n\u5173\u4e8e\u624b\u52a8\u6a21\u62df\u7684\u6837\u4f8b\u653e\u5728\u4e86\u6587\u7ae0\u672b\u5c3e\uff0c\u9700\u8981\u7684\u81ea\u53d6\u3002\n\n\u5148\u8003\u8651\u64cd\u4f5c\u6b21\u6570\u3002\n\n\u5c1d\u8bd5\u63a2\u7d22\u7b54\u6848\u7684\u4e0b\u754c\uff0c\u8bbe x \u4e3a\u5e8f\u5217\u4e2d\u76f8\u90bb\u7684\u76f8\u540c\u5143\u7d20\u5bf9\u6570\u3002\n\n\u90a3\u4e48\u521d\u59cb\u4e3a $x=0$\uff0c\u800c\u6700\u7ec8 $x=2(n-1)$.\n\n\u4e14\u9664\u4e86\u7b2c\u4e00\u6b21\u64cd\u4f5c\u6bcf\u6b21\u64cd\u4f5c\u6700\u591a\u53ef\u4ee5\u4f7f x \u52a0 2\u3002\n\n\u90a3\u4e48\u7b54\u6848\u4e0b\u754c\u5c31\u662f n\u3002\n\n\u7136\u540e\uff0c\u901a\u8fc7\u624b\u52a8\u6a21\u62df\u7684\u6837\u4f8b\u53ef\u4ee5\u53d1\u73b0\uff1a\n\n\u9664\u4e86\u4e09\u64cd\u4f5c\u4e4b\u5916\u7684\u6240\u6709\u64cd\u4f5c\uff0c\u5176\u5b9e\u90fd\u53ef\u4ee5\u901a\u8fc7\u9012\u5f52\u4ece\u4ee5\u524d\u7684\u72b6\u6001\u8f6c\u79fb\u8fc7\u6765\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/l4m2f7zk.png)\n\n\u63a5\u4e0b\u6765\u5c31\u662f\u8fb9\u754c\uff0c\u6211\u4eec\u53d1\u73b0\u5176\u5b9e\u6bcf\u4e00\u6b21\u7684\u9012\u5f52\u90fd\u4f1a\u628a\u5e8f\u5217\u7684\u957f\u5ea6\u7f29\u5c0f 8 \u3002\n\n\u56e0\u6b64\uff0c\u8fb9\u754c\u5c31\u662f $\\bmod\\;8$ \u4e4b\u540e\u7684 4 \u79cd\u4f59\u6570\u3002\n\n\u7531\u4e8e 3 \u7684\u8f6c\u79fb\u662f\u4e0d\u89c4\u5219\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u8981\u5c06\u6b64\u79cd\u8fb9\u754c\u8c03\u6574\u5230 7\u3002\n# \u5176\u5b83\n\n\u6d1b\u8c37\u7684\u8bc4\u6d4b\u673a\u597d\u50cf\u5e76\u4e0d\u4f1a\u544a\u8bc9\u4f60\u8fd9\u9053\u9898\u51fa\u9519\u7684\u5730\u65b9\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u5199\u4e00\u4e2a Special_Judge \u3002\n\n\u5c06 n \u7684\u5927\u5c0f\u4ee5\u53ca\u81ea\u5df1\u7684\u7a0b\u5e8f\u8f93\u51fa\uff0c\u653e\u8fdb\u53bb\uff0c\u770b\u770b\u6700\u540e\u7684\u5e8f\u5217\u662f\u5426\u7b26\u5408\u8981\u6c42\u3002\n\n\u5f53\u7136\u6211\u4e5f\u5199\u4e86\u4e00\u4efd\uff0c\u653e\u5728\u540e\u9762\n\n# code\n## AC \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define ull unsigned long long\n#define f() cout<<\"Pass\"<<endl\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch>'9'||ch<'0')\n\t{\n\t\tif(ch=='-')\tf=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t\tx=(x<<1)+(x<<3)+(ch^48);\n\t\tch=getchar();\n\t}\n\treturn x*f;\n}\nconst int N=110;\nint n;\nvoid print(int x,int y)\t{printf(\"%lld to %lld\\n\",x,y);}\nvoid Judge(int l)\n{\n\tprint(l+1,l-2);\n\tprint(l+4,l+1);\n\tprint(l+2,l-4);\n}\nvoid solve(int l,int r)\n{\n\tif(r-l+1<=2)\treturn ;\n\tif(r-l+1==10)\n\t{\n\t\tprint(r-2,l-2);\n\t\tprint(l+2,r-2);\n\t\tprint(r-4,l+2);\n\t\tprint(l-1,r-4);\n\t\tprint(r-1,l-1);\n\t\treturn ;\n\t}\n\tif(r-l+1==12)\n\t{\n\t\tprint(r-2,l-2);\n\t\tprint(r-5,r-2);\n\t\tprint(l+1,r-5);\n\t\tprint(r-6,l+1);\n\t\tprint(l-1,r-6);\n\t\tprint(r-1,l-1);\n\t\treturn ;\n\t}\n\tif(r-l+1==14)\n\t{\n\t\tprint(l+7,l-2);\n\t\tprint(l+4,l+7);\n\t\tprint(l+11,l+4);\n\t\tprint(l+2,l+11);\n\t\tprint(l+8,l+2);\n\t\tprint(l-1,l+8);\n\t\tprint(l+12,l-1);\n\t\treturn ;\n\t}\n\tprint(r-2,l-2);\n\tprint(l+2,r-2);\n\tsolve(l+4,r-4);\n\tprint(l-1,r-5);\n\tprint(r-1,l-1);\n}\nsigned main()\n{\n\tn=read();\n\tif(n==3)\tJudge(1);\n\telse\tsolve(1,2*n);\n\treturn 0;\n}\n```\n## Special_Judge\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define ull unsigned long long\n#define f() cout<<\"Pass\"<<endl\nusing namespace std;\ninline int read()\n{\n\tint x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch>'9'||ch<'0')\n\t{\n\t\tif(ch=='-')\tf=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t\tx=(x<<1)+(x<<3)+(ch^48);\n\t\tch=getchar();\n\t}\n\treturn x*f;\n}\nint n;\nchar ch[500];\nvoid move(int y,int x)\n{\n\tch[x]=ch[y];\n\tch[x+1]=ch[y+1];\n\tch[y+1]=ch[y]='_';\n}\nvoid print()\n{\n\tfor(int j=2*n-1;j<=4*n;j++)\n\t\tcout<<ch[j];\n\tcout<<'\\n';\n}\nsigned main()\n{\n\tn=read();\n\tfill(ch+1,ch+4*n+1,'_');\n\tfor(int i=2*n+1;i<=4*n;i++)\n\t\tif(i&1)\tch[i]='B';\n\t\telse\tch[i]='A';\n\tfor(int i=1,l,r;i<=n;i++)\n\t{\n\t\tl=read();\n\t\tr=read();\n\t\tprint();\n\t\tmove(l+2*n,r+2*n);\n\t}\n\tprint();\n\treturn 0;\n}\n```\n# \u6837\u4f8b\n* n=3 \n```cpp\n__BABABA\nABB__ABA\nABBBAA__\nABBB____\n```\n* n=4\n```cpp\n__BABABABA\nABBABAB__A\nABBA__BBAA\nA__ABBBBAA\nAAAABBBB__\n```\n* n=5\n```cpp\n__BABABABABA\nABBABABAB__A\nABBA__BABBAA\nABBAABB__BAA\nA__AABBBBBAA\nAAAAABBBBB__\n```\n* n=6\n```cpp\n__BABABABABABA\nABBABABABAB__A\nABBABABA__BBAA\nABB__ABAABBBAA\nABBAAAB__BBBAA\nA__AAABBBBBBAA\nAAAAAABBBBBB__\n```\n* n=7\n```cpp\n__BABABABABABABA\nABBABABAB__ABABA\nABBABA__BBAABABA\nABBABAABBBAAB__A\nABBA__ABBBAABBAA\nABBAAAABBB__BBAA\nA__AAAABBBBBBBAA\nAAAAAAABBBBBBB__\n```",
        "postTime": 1627886353,
        "uid": 190322,
        "name": "Varuxn",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6892 [ICPC2014 WF]Baggage"
    },
    {
        "content": "## Link\n\n[P6892 [ICPC2014 WF]Baggage](https://www.luogu.com.cn/problem/P6892)\n\n## Solution\n\n~~\u7b97\u662f\u7784\u4e86\u773c\u63d0\u793a\u505a\u51fa\u6765\u7684\u5427~~\n\n\u5927\u6982\u601d\u8def\u5c31\u662f\u8003\u8651\u5c06\u4e00\u4e2a\u89c4\u6a21\u4e3a $n$ \u7684\u95ee\u9898\u4e0d\u65ad\u5730\u8f6c\u5316\u4e3a\u89c4\u6a21\u4e3a $n-4$ \u7684\u95ee\u9898\uff0c\u7136\u540e\u51c6\u5907\u5206\u522b\u51c6\u5907\u597d  $n=3$\uff0c$4$\uff0c$5$\uff0c$6$ \u65f6\u7684\u8868\uff0c\u9012\u5f52\u641e\u4e00\u641e\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u5177\u4f53\u70b9\uff0c\u6bd4\u5982\u4f60\u6709\u4e00\u4e2a\u8fd9\u6837\u7684\u4e1c\u897f\uff08$n=8$\uff09\uff1a\n\n```\nl              r\n2121212121212121\n```\n\n\u90a3\u4e48\u4f60\u5148\u8f6c\u5316\u4e00\u4e0b\uff0c\u5177\u4f53\u8fc7\u7a0b\u662f $r-2\\to l-2$\uff0c$l+2\\to r-2$\uff1a\n\n```\n  l   l'     r'  r\n122100212121212211\n```\n\n\u7136\u540e\u4ece $l'$ \u5230 $r'$ \u7684\u90e8\u5206\u5c31\u662f\u4e00\u4e2a $n-4$ \u7684\u95ee\u9898\uff0c\u6ce8\u610f\u5230\u6211\u4eec\u53ef\u4ee5\u5c06\u5176\u5728\u5de6\u79fb $2$ \u4f4d\u7684\u524d\u63d0\u4e0b\u89e3\u51b3\uff0c\u50cf\u8fd9\u6837\uff1a\n\n```\n  l   l'     r'  r\n122111112222002211\n```\n\n\u7136\u540e\u5c31\u662f\u89e3\u51b3\u8fb9\u89d2\uff0c\u5177\u4f53\u8fc7\u7a0b\u662f $l-1\\to r-5$\uff0c$r-1\\to l-1$\uff1a\n\n```\n100111112222222211\n111111112222222200\n```\n\n\u7136\u540e\u5c31\u505a\u5b8c\u4e86\u3002\n\n$4$ \u5f20\u8868\uff1a\n\n```\n4321012345(\u4f4d\u7f6e)\n0000212121\n0012200121\n0012221100\n1112220000\n```\n\n```\n2101234567(\u4f4d\u7f6e)\n0021212121\n1221212001\n1221002211\n1001222211\n1111222200\n```\n\n```\n210123456789(\u4f4d\u7f6e)\n002121212121\n122121212001\n122100212211\n122112200211\n100112222211\n111112222200\n```\n\n```\n210123456789AB(\u4f4d\u7f6e)\n00212121212121\n12212121212001\n12212121002211\n12200121122211\n12211120022211\n10011122222211\n11111122222200\n```\n\n```\n210123456789ABCD(\u4f4d\u7f6e)\n0021212121212121\n1221212120012121\n1221210022112121\n1221211222112001\n1221001222112211\n1221111222002211\n1001111222222211\n1111111222222200\n```\n\n\u5565\uff0c\u4f60\u95ee\u6211\u600e\u4e48\u641e\u51fa\u8fd9\u51e0\u5f20\u8868\uff1f\n\n\u624b\u73a9\u4e0b\u6837\u4f8b\uff0c\u5927\u6982\u5c31\u80fd\u627e\u5230\u89c4\u5f8b\u4e86\u3002\n\n## Code\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n\n#define _N 110\n\nint n;\n\nvoid inline excg(int x, int y) {\n\tprintf(\"%d to %d\\n\", x, y);\n}\n\nvoid inline mov3(int pt) {\n\texcg(pt + 1, pt - 2);\n\texcg(pt + 4, pt + 1);\n\texcg(pt + 2, pt - 4);\n}\nvoid inline mov4(int pt) {\n\texcg(pt + 5, pt - 2);\n\texcg(pt + 2, pt + 5);\n\texcg(pt - 1, pt + 2);\n\texcg(pt + 6, pt - 1);\n}\nvoid inline mov5(int pt) {\n\texcg(pt + 7, pt - 2);\n\texcg(pt + 2, pt + 7);\n\texcg(pt + 5, pt + 2);\n\texcg(pt - 1, pt + 5);\n\texcg(pt + 8, pt - 1);\n}\nvoid inline mov6(int pt) {\n\texcg(pt + 9, pt - 2);\n\texcg(pt + 6, pt + 9);\n\texcg(pt + 1, pt + 6);\n\texcg(pt + 5, pt + 1);\n\texcg(pt - 1, pt + 5);\n\texcg(pt + 10, pt - 1);\n}\nvoid inline mov7(int pt) {\n\texcg(pt + 7, pt - 2);\n\texcg(pt + 4, pt + 7);\n\texcg(pt + 11, pt + 4);\n\texcg(pt + 2, pt + 11);\n\texcg(pt + 8, pt + 2);\n\texcg(pt - 1, pt + 8);\n\texcg(pt + 12, pt - 1);\n}\n\nvoid calc(int l, int r) {\n\tint len = r - l + 1;\n\tif (len <= 14) {\n\t\tswitch (len) {\n\t\t\tcase 6:\n\t\t\t\tmov3(l);\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tmov4(l);\n\t\t\t\tbreak;\n\t\t\tcase 10:\n\t\t\t\tmov5(l);\n\t\t\t\tbreak;\n\t\t\tcase 12:\n\t\t\t\tmov6(l);\n\t\t\t\tbreak;\n\t\t\tcase 14:\n\t\t\t\tmov7(l);\n\t\t\t\tbreak;\n\t\t}\n\t\treturn;\n\t}\n\texcg(r - 2, l - 2);\n\texcg(l + 2, r - 2);\n\tcalc(l + 4, r - 4);\n\texcg(l - 1, r - 5);\n\texcg(r - 1, l - 1);\n}\n\nint main() {\n\tscanf(\"%d\", &n);\n\tcalc(1, n << 1);\n\treturn 0;\n}\n```\n\n## Inspiration\n\n\u6211\u8ba4\u4e3a\u8fd9\u9898\u770b\u51fa\u9012\u5f52\u4e4b\u540e\u7684\u5206\u6790\u5e76\u4e0d\u96be\uff0c\u5173\u952e\u5c31\u662f\u95ee\u9898\u5411\u5c0f\u89c4\u6a21\u7684\u4e00\u4e2a\u8f6c\u5316\uff0c\u8fd9\u4e2a\u5728\u8fd9\u9053\u9898\u4e2d\u5e76\u6ca1\u6709\u90a3\u4e48\u663e\u7136\uff0c\u8981\u80fd\u51c6\u786e\u7684\u627e\u5230\u7a81\u7834\u53e3\u8fd8\u662f\u6ca1\u90a3\u4e48\u5bb9\u6613\u7684\u3002\n\n\u6838\u5fc3\u7ed3\u8bba\uff1a\n\n- \u53ef\u4ee5\u9012\u5f52\u5904\u7406\n- \u957f $2n$ \u7684\u5e8f\u5217\u53ea\u9700\u8981 $n$ \u6b21\u64cd\u4f5c\uff08\u5728\u5bfb\u627e\u5c0f\u60c5\u51b5\u7684\u89e3\u65f6\u8fd9\u4e2a\u4fe1\u5ff5\u5f88\u6709\u7528\uff09",
        "postTime": 1618652428,
        "uid": 244096,
        "name": "FangZeLi",
        "ccfLevel": 7,
        "title": "P6892\u9898\u89e3"
    },
    {
        "content": "2014 ACM ICPC World Finals A baggage\u3002\n\n~~\u4e3a\u4ec0\u4e48\u90fd\u770b\u8fc7\u9898\u89e3\u8fd8\u505a\u4e86\u8fd9\u4e48\u4e45\u554a\uff08~~\n\n\u4e00\u4e2a\u91cd\u8981\u7684\u60f3\u6cd5\u662f\u8bc1\u660e\u7b54\u6848\u7684\u4e0b\u754c\u662f\u4e0d\u4f4e\u4e8e $n$ \u7684\u3002\n\n\u6211\u4eec\u53d1\u73b0\u5982\u679c\u60f3\u8981\u6784\u9020\u5408\u6cd5\u5e8f\u5217\u90a3\u4e48\u524d\u540e\u76f8\u540c\u7684\u94fe\u63a5\u6570\u91cf\u4e3a $2n - 1$\uff0c\u4e00\u6b21\u64cd\u4f5c\u53ea\u80fd\u9020\u6210\u6700\u591a\u4e24\u4e2a\u5408\u6cd5\u94fe\u63a5\uff0c\u6240\u4ee5\u4e0b\u754c\u64cd\u4f5c\u6b21\u6570\u53ef\u4ee5\u8bc1\u660e\u4e0d\u4f4e\u4e8e $\\lceil \\frac{2n - 1}{2}\\rceil = n$\u3002\n\n\u5bf9\u4e8e $n \\leq 7$ \u7684\u7b54\u6848\u901a\u8fc7\u7206\u641c\u53d1\u73b0\u6700\u5c0f\u7684\u64cd\u4f5c\u6b21\u6570\u90fd\u662f $n$\uff0c\u63a8\u6d4b $n \\geq 8$ \u7684\u7b54\u6848\u4e5f\u662f $n$\u3002\n\n\u53d1\u73b0\u5b58\u5728\u8fd9\u6837\u4e00\u79cd\u6784\u9020\u65b9\u6848\uff0c\u8bbe $L$ \u4e3a $1$\uff0c$R$ \u4e3a $2n$\uff1a\n\n```cpp\nmove(R - 2 , L - 2) , move(L + 2 , R - 2);\n```\n\u90a3\u4e48\u4e2d\u95f4\u7684\u8282\u70b9\u5c31\u4f1a\u53d8\u4e3a\u4e00\u4e2a $n - 4$ \u89c4\u6a21\u7684\u95ee\u9898\uff0c\u9012\u5f52\u5904\u7406\uff1b\n\u7ed3\u675f\u540e\u518d\u8fdb\u884c\u4e00\u6b21\n```cpp\nmove(L - 1 , R - 5) , move(R - 1 , L - 1);\n```\n\u5373\u53ef\u89e3\u51b3\u539f\u95ee\u9898\uff0c\u56e0\u4e3a\u6837\u4f8b\u5c31\u662f\u8fd9\u4e48\u6784\u9020\u7684\u6240\u4ee5\u8fd9\u91cc\u7684\u601d\u7ef4\u96be\u5ea6\u5176\u5b9e\u8fd8\u597d\uff08\uff08\uff08\uff08\uff08\uff08\n\n\u6240\u4ee5\u6709\u8c01\u6559\u6211\u600e\u4e48\u5199\u6bd4\u8f83\u5757\u7684\u641c\u7d22\u5417\u3002\n\n```cpp\n/*\n\u8003\u8651\u4e00\u4e2a\u95ee\u9898\u7684\u5f52\u7ea6\u3002\n\u7531\u4e8e n >= 3\uff0c\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0b n >= 3 \u7684\u7b54\u6848\u3002\n\u641e\u4e86 30min\u3002\u3002\u3002 \n\u7b49\u4e00\u4e0b\uff0c\u4e5f\u5c31\u662f\u8bf4\u6211\u8fd8\u8981\u628a n <= 4 \u7684\u60c5\u51b5\u5168\u90e8\u6253\u51fa\u6765\u8868\u3002\u3002\u3002 \n*/\n#include \"bits/stdc++.h\"\nusing namespace std;\n#define ll long long\nconst int Len = 405;\nint n,m;\nstruct Node\n{\n\tint x,y;\n\tNode(){x = y = 0;}\n\tNode(int X,int Y){x = X , y = Y;}\n};\nvector<Node> Psy[15];\ninline void pt(int x,int y){printf(\"%d to %d\\n\",x,y);}\nvoid work(int N,int ad)\n{\t\n\tint L = ad + 1 , R = ad + 2 * N;//[1,2n]\n\tif(N <= 7) \n\t{\n\t\tif(N <= 4) for(int i = 0 ; i < Psy[N].size() ; i ++) printf(\"%d to %d\\n\",Psy[N][i].x + ad,Psy[N][i].y + ad);\n\t\telse\n\t\t{\t\n\t\t\tif(N == 5) \n\t\t\t{\n            \tpt(R - 2 , L - 2);\n            \tpt(L + 2 , R - 2);\n            \tpt(R - 4 , L + 2);\n            \tpt(L - 1 , R - 4);\n            \tpt(R - 1 , L - 1);\n        \t}\n        \tif(N == 6) \n\t\t\t{\n            \tpt(R - 2 , L - 2);\n            \tpt(R - 5 , R - 2);\n            \tpt(L + 1 , R - 5);\n            \tpt(R - 6 , L + 1);\n            \tpt(L - 1 , R - 6);\n            \tpt(R - 1 , L - 1);\n        \t}\n        \tif(N == 7) \n\t\t\t{\n            \tpt(R - 6 , L - 2);\n            \tpt(L + 4 , R - 6);\n            \tpt(R - 2 , L + 4);\n            \tpt(L + 2 , R - 2);\n            \tpt(R - 5 , L + 2);\n            \tpt(L - 1 , R - 5);\n            \tpt(R - 1 , L - 1);\n        \t}\n\t\t}\n\t\treturn;\n\t}\n\telse\n\t{\n\t\tpt(R - 2 , L - 2) , pt(L + 2 , R - 2);\n\t\twork(N - 4 , ad + 4);\n\t\tpt(L - 1 , R - 5) , pt(R - 1 , L - 1);\n\t}\n}\nmap<ll,ll> dp,pre[3];//B:1,A:2\nint now[Len];\nbool check()\n{\n\tfor(int i = 1 ; i <= 4 * n ; i ++) \n\t{\n\t\tif(now[i] == 0) continue;\n\t\tif(now[i])\n\t\t{\n\t\t\tfor(int j = i ; j <= i + n - 1 ; j ++) if(now[j] != 2) return 0;\n\t\t\tfor(int j = i + n ; j <= i + 2 * n - 1 ; j ++) if(now[j] != 1) return 0;\n \t\t}\n \t\treturn 1;\n\t}\n\treturn 0;\n}ll bg;\ninline ll ds(){ll res = 0,ml = 1;for(int i = 1 ; i <= (n * 4) ; i ++) res += ml * now[i] , ml *= 3;return res;}\ninline void rec(ll ml){for(int i = 1 ; i <= (4 * n) ; i ++) now[i] = ml % 3 , ml /= 3;}\ninline void bk(ll Now){if(!dp[Now] && Now != bg) dp[Now] = 114;}\ninline void Out(){for(int i = 1 ; i <= (4 * n) ; i ++) printf(\"%d \",now[i]);puts(\"\");}\nbool flaw;\nvoid dfs(int as)\n{\n\tif(flaw) return;\n\tif(as >= 6) return;\n\tll Now = ds();bk(Now);\n\tif(as > dp[Now]) return;\n\tdp[Now] = as;\n\t//if(as == 3){printf(\"%d %lld\\n\",as,Now);Out();}\n\tif(check()) \n\t{\n\t\tif(as == 5) flaw = 1;\n\t\treturn;\n\t}\n\tfor(int i = 1 ; i < (4 * n) ; i ++) \n\t{\n\t\tif(now[i] && now[i + 1]) \n\t\t{\n\t\t\tfor(int j = 1 ; j < (4 * n) ; j ++)\n\t\t\t{\n\t\t\t\tif(!now[j] && !now[j + 1]) \n\t\t\t\t{\n\t\t\t\t\tint a = now[i] , b = now[i + 1];\n\t\t\t\t\tnow[i] = now[i + 1] = 0;\n\t\t\t\t\tnow[j] = a , now[j + 1] = b;\n\t\t\t\t\tll to = ds();bk(to);\n\t\t\t\t\tif(dp[to] > as + 1) \n\t\t\t\t\t{\n\t\t\t\t\t\tpre[0][to] = Now , pre[1][to] = i - 2 * n , pre[2][to] = j - 2 * n;\n\t\t\t\t\t\tdfs(as + 1);\n\t\t\t\t\t}\n\t\t\t\t\tnow[j] = 0 , now[j + 1] = 0;\n\t\t\t\t\tnow[i] = a , now[i + 1] = b;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nvoid Output(ll rec)\n{\n\tif(rec == bg) return;\n\tOutput(pre[0][rec]);\n\tprintf(\"Psy[5].push_back(Node(%lld, %lld));\\n\",pre[1][rec],pre[2][rec]); \n}\nint main()\n{\n\t/*n = 5;int op = 1;\n\tfor(int i = 2 * n + 1 ; i <= 4 * n ; i ++) now[i] = op , op = 3 - op;\n\tbg = ds();\n\tdfs(0);\t\n\tconst int LEN = 2 * n;ll as = 114,ass = 0;\n\tfor(int i = 2 * n ; i <= 4 * n ; i ++)\n\t{\n\t\tll rs = 0;int l = i - LEN + 1;ll ml = 1;\n\t\tfor(int j = 1 ; j < l ; j ++) ml *= 3;\n\t\tfor(int j = l ; j <= l + n - 1 ; j ++) \n\t\t{\n\t\t\trs += 2 * ml;\n\t\t\tml *= 3;\n\t\t}\n\t\tfor(int j = l + n ; j <= l + LEN - 1 ; j ++) rs += ml , ml *= 3;\n\t\tif(dp[rs] && dp[rs] < as) as = dp[rs] ,  ass = rs;\n\t}\n\tif(ass) Output(ass);*/\n\tPsy[3].push_back(Node(2, -1));\n\tPsy[3].push_back(Node(5, 2));\n\tPsy[3].push_back(Node(3, -3));\n\tPsy[4].push_back(Node(6, -1));\n\tPsy[4].push_back(Node(3, 6));\n\tPsy[4].push_back(Node(0, 3));\n\tPsy[4].push_back(Node(7, 0));\n\tscanf(\"%d\",&n);work(n , 0);\n\t\n\treturn 0;\n}\n```",
        "postTime": 1664853397,
        "uid": 132533,
        "name": "Hakuoro",
        "ccfLevel": 0,
        "title": "2tu1\u304b\u308f\u3044\u3044"
    }
]