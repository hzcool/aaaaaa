[
    {
        "content": "\u56e0\u4e3a$\\text{mex}$\u662f\u4e0d\u5728\u751f\u6210\u6811\u5185\u7684\u6700\u5c0f\u7684\u81ea\u7136\u6570\uff0c\u90a3\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u679a\u4e3e\u7b54\u6848\u662f$x$\uff0c$\\text{check}$\u7684\u65f6\u5019\uff0c\u5982\u679c\u4e00\u6761\u8fb9\u7684\u8fb9\u6743\u662f$x$\uff0c\u90a3\u4e48\u8fd9\u6761\u8fb9\u5c31\u4e0d\u5e94\u8be5\u51fa\u73b0\u5728\u751f\u6210\u6811\u91cc\uff0c\u5426\u5219\u4e00\u5b9a\u975e\u6cd5\u3002\n\n\u90a3\u4e48\u5c31\u6709\u4e00\u4e2a\u6bd4\u8f83\u663e\u7136\u7684\u505a\u6cd5\uff1a\u679a\u4e3e\u7b54\u6848$x$\uff0c\u628a\u8fb9\u6743\u4e3a$x$\u7684\u6240\u6709\u8fb9\u5220\u6389\uff0c\u770b\u5269\u4e0b\u7684\u8fb9\u80fd\u4e0d\u80fd\u6c42\u51fa\u4e00\u68f5\u751f\u6210\u6811\u3002\n\n\u8fd9\u6837\u76f4\u63a5\u66b4\u529b\u53bb\u505a\u7684\u590d\u6742\u5ea6\u662f$O(mw\\log m)$\u7684\uff0c\u5bf9\u4e8e\u8fd9\u79cd\u5220\u6389\u4e00\u90e8\u5206\u8fb9\u7684\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u7528\u5206\u6cbb\u53bb\u4f18\u5316\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u7528$solve(l,r)$\u5c31\u8868\u793a\u6743\u503c\u8303\u56f4\u5728$[l,r]$\u7684\u8fb9\u6ca1\u6709\u52a0\u8fdb\u53bb\uff0c\u6bcf\u6b21\u6dfb\u52a0$[l,mid]$\u5230$[mid+1, r]$\uff0c\u6dfb\u52a0$[mid+1, r]$\u5230$[l, mid]$\uff0c\u7528\u53ef\u64a4\u9500\u5e76\u67e5\u96c6\u7ef4\u62a4\u8fde\u901a\u6027\u5373\u53ef\uff0c\u590d\u6742\u5ea6$O(m\\log m \\log w)$\uff0c\u5b9e\u73b0\u7684\u7a0d\u5fae\u597d\u4e00\u70b9\u5c31\u80fd\u901a\u8fc7\u4e86\u3002\n\n```cpp\n\n#include <cstdio>\n#include <iostream>\n#include <cstring>\n#include <algorithm>\n#include <vector>\nusing namespace std;\nconst int N = 1e6 + 50, M = 4e6 + 50;\nint head[N], to[M], nxt[M], val[M], tot;\nbool vis[N];\n\nint fa[N], siz[N], cnt, n, m, ans = 0x3f3f3f3f;\nstruct node {\n\tint u, v, w;\n}e[M];\nbool operator < (const node &a, const node &b) {\n\treturn a.w < b.w;\n}\n\nint find(int x) { return x == fa[x] ? x : find(fa[x]); }\n\nint unit(int x, int y) {\n\tint fx = find(x), fy = find(y);\n\tif(fx == fy) return 0;\n\tif(siz[fx] > siz[fy]) { fa[fy] = fx; siz[fx] += siz[fy]; return fy; }\n\telse { fa[fx] = fy; siz[fy] += siz[fx]; return fx; }\n}\n\nvoid del(int x) {\n\tsiz[fa[x]] -= siz[x];\n\tfa[x] = x;\n}\n\nvoid solve(int l, int r, int pos) {\n\tif(l == r) { if(siz[find(1)] == n) { cout << l; exit(0);} return ; }\n\tint mid = (l + r) >> 1;\n\tint tmp = pos, lsbl = 0;\n\tvector <int> v;\n\tfor(; e[pos].w <= r && pos <= m; ++ pos) if((e[pos].w > mid) && (lsbl = unit(e[pos].u, e[pos].v))) v.push_back(lsbl);\n\tsolve(l, mid, tmp);\n\tfor(int i = v.size() - 1; i >= 0; -- i) del(v[i]); v.clear();\n\tpos = tmp, lsbl = 0;\n\tfor(; e[pos].w <= mid && pos <= m; ++ pos) if(lsbl = unit(e[pos].u, e[pos].v)) v.push_back(lsbl);\n\tsolve(mid + 1, r, pos);\n\tfor(int i = v.size() - 1; i >= 0; -- i) del(v[i]); v.clear();\n}\n\nint main() {\n\tscanf(\"%d%d\", &n, &m);\n\tfor(int i = 1; i <= n; ++ i) fa[i] = i, siz[i] = 1;\n\tfor(int i = 1; i <= m; ++ i) scanf(\"%d%d%d\", &e[i].u, &e[i].v, &e[i].w);\n\tsort(e + 1, e + 1 + m);\n\tsolve(0, e[m].w + 1, 1);\n\treturn 0;\n}\n\n\n```",
        "postTime": 1573256704,
        "uid": 44777,
        "name": "djh123",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P5631 \u3010\u6700\u5c0fmex\u751f\u6210\u6811\u3011"
    },
    {
        "content": "# \u6700\u5c0fmex\u751f\u6210\u6811\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P5631)\n## \u9898\u76ee\u63cf\u8ff0\n\u7ed9\u5b9a\u4e00\u4e2a$n$\u4e2a\u70b9$m$\u6761\u8fb9\u7684\u65e0\u5411\u56fe\uff0c\u6c42\u51fa\u5176\u6700\u5c0f$\\text{mex}$\u751f\u6210\u6811\u3002\n## \u601d\u8def\n### $\\text{80 pts}$\n\u6211\u4eec\u76f4\u63a5\u8d2a\u5fc3\uff0c\u6c42\u51fa\u6700\u5927\u751f\u6210\u6811\u3002\n\n\u5f88\u660e\u663e\uff0c\u8fd9\u4e2a\u8d2a\u5fc3\u9519\u5f97\u4e00\u584c\u7cca\u6d82\uff0c\u4f46\u662f\u80fd\u591f\u6210\u529f\u5730\u9a97\u5230$80 pts$\u3002\n\n\u4ee3\u7801\u8fd9\u91cc\u5c31\u4e0d\u7ed9\u51fa\u3002\n### \u7ebf\u6bb5\u6811\u5206\u6cbb\n\u4e0d\u96be\u770b\u51fa\u53ef\u4ee5\u7528\u7ebf\u6bb5\u6811\u5206\u6cbb\u3002\n\n\u6211\u4eec\u5bf9\u4e8e\u6743\u503c\u5efa\u4e00\u68f5\u7ebf\u6bb5\u6811\uff0c\u7136\u540e\u5bf9\u4e8e\u63d2\u5165$(u,v,w)$\u7684\u4e00\u6b21\u64cd\u4f5c\uff0c\u5728\u7ebf\u6bb5\u6811\u4e0a\u5c31\u5bf9\u5e94\u7740\uff1a\n\n1. \u5728$[0,w-1]$\u63d2\u5165$(u,v)$\n\n2. \u5728$[w+1,\\text {maxw}]$\u63d2\u5165$(u,v)$\n\n$\\text {maxw}$\u5c31\u662f\u6307\u7684\u6700\u5927\u6743\u503c$+1$\uff08\u56e0\u4e3a\u662f\u6c42$\\text {mex}$\u6240\u4ee5\u8981\u52a01\uff09.\n\n\u7136\u540e\u9012\u5f52\u5230\u67d0\u4e00\u6743\u503c\u65f6\uff0c\u52a0\u5165\u7684\u6240\u6709\u8fb9\u5c31\u662f$m$\u6761\u8fb9\u4e2d\u9664\u4e86\u8fd9\u4e2a\u6743\u503c\u7684\u6240\u6709\u8fb9\uff0c\u53ea\u9700\u8981\u5224\u65ad\u8fd9\u65f6\u5176\u4ed6\u8fb9\u662f\u5426\u53ef\u4ee5\u7ec4\u6210\u4e00\u68f5\u6811\u5c31\u597d\u4e86\u3002\n\n\u5982\u4f55\u7ef4\u62a4\u5f53\u524d\u53ef\u4e0d\u53ef\u4ee5\u6784\u6210\u4e00\u68f5\u6811\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u7528\u5e76\u67e5\u96c6\u7ef4\u62a4\u8054\u901a\u6570\uff0c\u5f53\u8054\u901a\u6570\u4e3a1\u7684\u65f6\u5019\u663e\u7136\u5c31\u53ef\u4ee5\u3002\n\n\u5177\u4f53\u89c1\u4ee3\u7801\u5427\uff0c\u4e5f\u4e0d\u662f\u5f88\u96be\uff0c\u4e00\u6b21\u5c31$A$\u4e86\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$\\Theta(w\\log w\\log n)$\u3002$w$\u4e3a\u6700\u5927\u6743\u503c\u3002\u7136\u800c\u65f6\u95f4\u8fd8\u662f\u88ab\u4e00\u5806\u5de8\u4f6c\u540a\u6253\u3002\n### $\\text {Code}$\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define Int register int\n#define pr pair<int,int>//\u4e00\u6761\u8fb9 \n#define MAXN 2000005\n#define MAXX 100005\n\nint read ()\n{\n\tint x = 0;char c = getchar();int f = 1;\n\twhile (c < '0' || c > '9'){if (c == '-') f = -f;c = getchar();}\n\twhile (c >= '0' && c <= '9'){x = (x << 3) + (x << 1) + c - '0';c = getchar();}\n\treturn x * f;\n}\n\nvoid write (int x)\n{\n\tif (x < 0){x = -x;putchar ('-');}\n\tif (x > 9) write (x / 10);\n\tputchar (x % 10 + '0');\n}\n\nint n,m,Ans,Maxm;//Ans\u8868\u793a\u76ee\u524d\u7684\u8fde\u901a\u6570,Maxn\u662f\u8fb9\u6743\u4e0a\u9650 \n\nint fa[MAXN],size[MAXN];\n\nstack <int> S;\n\nint findSet (int x)\n{\n\twhile (x ^ fa[x]) x = fa[x];\n\treturn x;\n}\n\nvoid unionSet (int x,int y)\n{\n\tif (x == y) return ;\n\tif (size[x] > size[y]) swap (x,y);\n\tAns --,size[y] += size[x],fa[x] = y,S.push (x);\n}\n\nvoid Init ()\n{\n\tfor (Int i = 1;i <= n;++ i) fa[i] = i,size[i] = 1;\n}\n\nvector <pr> tree[MAXX << 2];\n\nvoid Delete (int tag)\n{\n\twhile (S.size () > tag)\n\t{\n\t\tint x = S.top();S.pop ();\n\t\tAns ++,size[fa[x]] -= size[x],fa[x] = x;\n\t}\n}\n\nvoid update (int k,int l,int r,int tl,int tr,pr Edge)\n{\n\tif (l > tr || tl > r) return ;\n\tif (l >= tl && r <= tr) return tree[k].push_back (Edge);\n\tint mid = (l + r) >> 1;\n\tupdate (k << 1,l,mid,tl,tr,Edge);\n\tupdate (k << 1 | 1,mid + 1,r,tl,tr,Edge);\n}\n\nvoid Divide (int k,int l,int r)\n{\n\tint tag = S.size();\n\tfor (Int i = 0;i < tree[k].size();++ i)\n\t{\n\t\tint u = tree[k][i].first,v = tree[k][i].second;\n\t\tu = findSet (u),v = findSet (v);\n\t\tunionSet (u,v);\n\t}\n\tif (l == r)\n\t{\n\t\tif (Ans == 1)\n\t\t{\n\t\t\twrite (l),putchar ('\\n');\n\t\t\texit (0);\n\t\t}\n\t\treturn Delete (tag);\n\t}\n\tint mid = (l + r) >> 1;\n\tDivide (k << 1,l,mid);\n\tDivide (k << 1 | 1,mid + 1,r);\n\treturn Delete (tag);\n}\n\nint from[MAXN],tooo[MAXN],w[MAXN]; \n\nsigned main()\n{\t\n\tAns = n = read (),m = read ();\n\tInit ();\n\tfor (Int i = 1;i <= m;++ i)\n\t{\n\t\tfrom[i] = read (),tooo[i] = read (),w[i] = read ();\n\t\tMaxm = max (Maxm,w[i] + 1);\n\t}\n\tfor (Int i = 1;i <= m;++ i)\n\t\tupdate (1,0,Maxm,0,w[i] - 1,make_pair (from[i],tooo[i])),\n\t\tupdate (1,0,Maxm,w[i] + 1,Maxm,make_pair (from[i],tooo[i]));\n\tDivide (1,0,Maxm);\n\treturn 0;\n}\n```\n",
        "postTime": 1584948513,
        "uid": 124781,
        "name": "Walking_Dead",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5631 \u3010\u6700\u5c0fmex\u751f\u6210\u6811\u3011"
    },
    {
        "content": "\u63d0\u4f9b\u4e00\u4e2a\u7a7a\u95f4$O(n+m)$\u7684\u505a\u6cd5$.$\n\n\u8fd9\u9053\u9898\u9700\u8981\u7ebf\u6bb5\u6811\u5206\u6cbb$,$\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u6c42\u51fa\u6700\u5927\u751f\u6210\u6811\u7528\u6765\u7f29\u5c0f\u4e00\u4e0b\u7b54\u6848\u8303\u56f4\u4ee5\u51cf\u5c0f\u5e38\u6570$.$\n\n\u7136\u540e\u56e0\u4e3a$N=1e6,M=2e6$\u770b\u8d77\u6765\u6709\u70b9\u5927$,$\u6240\u4ee5\u6700\u597d\u4e0d\u8981\u7528$O(NlogN)$\u7684\u7a7a\u95f4$.$\n\n\u5728\u7ebf\u6bb5\u6811\u5206\u6cbb\u7684\u8fc7\u7a0b\u4e2d$,$\u5982\u679c\u4e00\u4e2a\u8282\u70b9$x$ $($ \u4ee3\u8868\u7684\u533a\u95f4\u4e3a $[L,R]$ $)$ \u4e0a\u6709\u8fb9\u9700\u8981$insert$ $,$\u53ea\u6709\u4ee5\u4e0b\u4e24\u79cd\u53ef\u80fd$:$\n\n$1.$ $x$\u662f\u7ebf\u6bb5\u6811\u7684\u6839 $,$ \u4e14\u8fb9\u6743 $w \u2209 [L,R]$\n\n$2.$ $x$\u662f\u7ebf\u6bb5\u6811\u975e\u6839\u8282\u70b9 $,$ \u4e14\u8fb9\u6743 $w \u2209 [L,R],w \u2208 [L_{fa_x},R_{fa_x}].$\n\n\u7528\u53ef\u64a4\u9500\u5e76\u67e5\u96c6\u7ef4\u62a4\u5373\u53ef$.$\n\n\u7136\u540e\u5c31\u53ef\u4ee5$O(n+m)$\u7a7a\u95f4\u4e86$.$\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O(mlognlogw)$\n\n\u4ee3\u7801 $:$\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntemplate <typename T> void read(T &x){\n\tstatic char ch; x = 0,ch = getchar();\n\twhile (!isdigit(ch)) ch = getchar();\n\twhile (isdigit(ch)) x = x * 10 + ch - '0',ch = getchar();\n}\nconst int N = 1000005,M = 2000005,W = 100005;\nint n,m;\nstruct Union_Find_Set{\n\tint o[N<<1],ofa[N<<1],ork[N<<1],osiz[N<<1],top; int fa[N],rk[N],siz;\n\tinline void init(int n){ siz = n,top = 0; for (register int i = 1; i <= n; ++i) fa[i] = i,rk[i] = 1; }\n\tinline int Find(int x){ return x == fa[x] ? x : Find(fa[x]); }\n\tinline void rework(int k){ ++k; while (--k) fa[o[top]] = ofa[top],rk[o[top]] = ork[top],siz += osiz[top],--top;  }\n\tinline int check(){ return siz == 1; }\n\tinline int Merge(int x,int y){\n\t\tx = Find(x),y = Find(y); if (x == y) return 0;\n\t\tif (rk[x] > rk[y]) swap(x,y);\n\t\t++top,o[top] = x,ofa[top] = fa[x],ork[top] = rk[x],osiz[top] = 1;\n\t\t++top,o[top] = y,ofa[top] = fa[y],ork[top] = rk[y],osiz[top] = 0;\n\t\tfa[x] = y,--siz; if (rk[x] == rk[y]) ++rk[y]; \n\t\treturn 2;\n\t}\n\tinline int Find2(int x){ return x == fa[x] ? x : (fa[x] = Find2(fa[x])); }\n\tinline bool Merge2(int x,int y){ x = Find2(x),y = Find2(y); if (x^y) fa[x] = y,--siz; return x^y; }\n}S;\nstruct Edge{ int x,y,w; bool operator < (Edge ww) const{ return w < ww.w; } }e[M],tmp[M];\nint Ne[M],He[W],_k;\ninline void Sort(){\n\tregister int pos = 0,p;\n\tfor (register int i = 1; i <= m; ++i) ++_k,tmp[_k] = e[i],Ne[_k] = He[e[i].w],He[e[i].w] = _k;\n\tfor (register int i = 0; i < W; ++i) for (p = He[i]; p ; p = Ne[p]) e[++pos] = tmp[p];\n}\nint tl[W],tr[W],mxw; bool cnt[W];\ninline int solve1(){\n\tregister int i;\n\tfor (S.init(n),i = m; i && !S.check(); --i) if (S.Merge2(e[i].x,e[i].y)) cnt[e[i].w] = 1;\n\tfor (i = 0; ; ++i) if (!cnt[i]) return i;\n}\ninline void solve(int L,int R,int l,int r){\n\tint kk = 0;\n\tif (l == L) for (register int i = tr[r]+1; i <= tr[R]; ++i) kk += S.Merge(e[i].x,e[i].y);\n\telse for (register int i = tl[L]; i < tl[l]; ++i) kk += S.Merge(e[i].x,e[i].y);\n\tif (S.check()){ cout << l << '\\n'; exit(0); }\n\tif (l < r) solve(l,r,l,l+r>>1),solve(l,r,(l+r>>1)+1,r);\n\tS.rework(kk);\n}\nint main(){\n\tregister int i;\n\tread(n),read(m);\n\tfor (i = 1; i <= m; ++i) read(e[i].x),read(e[i].y),read(e[i].w);\n\tfor (i = 1; i < m; ++i) if (e[i].w > e[i+1].w){ Sort(); break; }\n\tmxw = solve1(); e[m+1].w = -1;\n\tfor (i = 0; i <= mxw; ++i){ tl[i] = i?(tr[i-1]+1):1,tr[i] = tr[i-1]; while (e[tr[i]+1].w == i) ++tr[i]; }\n\tS.init(n); for (i = tr[mxw]+1; i <= m; ++i) S.Merge(e[i].x,e[i].y); solve(0,mxw,0,mxw);\n\treturn 0;\n}\n```",
        "postTime": 1588839914,
        "uid": 52518,
        "name": "s_r_f",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P5631 \u3010\u6700\u5c0fmex\u751f\u6210\u6811\u3011"
    },
    {
        "content": "\u679a\u4e3e\u4e00\u4e2a\u7b54\u6848 $ans$\uff0c\u90a3\u4e48\u6211\u4eec\u76f8\u5f53\u4e8e\u8981\u6c42\u5728\u5220\u53bb\u8fb9\u6743\u4e3a $ans$ \u7684\u8fb9\u540e\u56fe\u662f\u5426\u5b58\u5728\u4e00\u68f5\u751f\u6210\u6811\uff0c\u5373\u56fe\u662f\u5426\u8fde\u901a\u3002\n\n\u663e\u7136\u53ef\u4ee5\u8003\u8651\u7ebf\u6bb5\u6811\u5206\u6cbb\u3002\n\u5177\u4f53\u7684\uff0c\u5efa\u4e00\u68f5\u4ee5\u8fb9\u6743\u4e3a\u4e0b\u6807\u7684\u7ebf\u6bb5\u6811\uff0c\u5bf9\u4e8e\u6bcf\u6761\u8fb9\u6743\u4e3a $w$ \u7684\u8fb9\u5c06\u5176\u653e\u5230 $[0,w-1]$ \u548c $[w+1,10^5]$ \u4e0a\u3002\n\u7136\u540e\u5728\u7ebf\u6bb5\u6811\u4e0a\u904d\u5386\uff0c\u904d\u5386\u5230\u4e00\u4e2a\u8282\u70b9\u5c31\u5c06\u5b83\u4e0a\u9762\u6302\u7740\u7684\u8fb9\u8fde\u4e0a\uff0c\u8fd9\u6837\u5b50\u5230\u53f6\u7ed3\u70b9\u65f6\u5c31\u8fde\u4e0a\u4e86\u6240\u6709\u4e0d\u5305\u542b\u8be5\u8fb9\u6743\u7684\u8fb9\uff0c\u5224\u65ad\u56fe\u662f\u5426\u8fde\u901a\u5373\u53ef\u3002\n\n\u7528\u4e00\u4e2a\u53ef\u64a4\u9500\u5e76\u67e5\u96c6\u7ef4\u62a4\u4e0a\u8ff0\u8fc7\u7a0b\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e24\u4e2a $\\log$\uff0c\u4f46\u662f\u5b83\u8fc7\u4e86 /jk\n\n\u6211\u5199\u7684\u53ef\u80fd\u6bd4\u8f83\u4e11\uff0c\u8dd1\u5f97\u5f88\u6162 /kel\n\n```cpp\n// ===================================\n//   author: M_sea\n//   website: http://m-sea-blog.com/\n// ===================================\n#include <algorithm>\n#include <iostream>\n#include <cstdlib>\n#include <cstring>\n#include <cstdio>\n#include <vector>\n#include <cmath>\n#define re register\nusing namespace std;\n\ninline int read() {\n    int X=0,w=1; char c=getchar();\n    while (c<'0'||c>'9') { if (c=='-') w=-1; c=getchar(); }\n    while (c>='0'&&c<='9') X=X*10+c-'0',c=getchar();\n    return X*w;\n}\n\nconst int N=1000000+10,M=2000000+10,L=100000;\n\nint n,m;\n\nint fa[N],sz[N],sta[N],top=0;\ninline int find(int x) { return x==fa[x]?x:find(fa[x]); }\ninline void merge(int x,int y) {\n    x=find(x),y=find(y);\n    if (x==y) return;\n    if (sz[x]>sz[y]) swap(x,y);\n    fa[x]=y,sz[y]+=sz[x],sta[++top]=x;\n}\ninline void undo(int pos) {\n    while (top>pos) { int x=sta[top--]; sz[fa[x]]-=sz[x],fa[x]=x; }\n}\n\n#define ls (o<<1)\n#define rs (o<<1|1)\nvector<pair<int,int> > vec[L<<2];\ninline void modify(int o,int l,int r,int ql,int qr,pair<int,int> e) {\n    if (ql<=l&&r<=qr) { vec[o].push_back(e); return; }\n    int mid=(l+r)>>1;\n    if (ql<=mid) modify(ls,l,mid,ql,qr,e);\n    if (qr>mid) modify(rs,mid+1,r,ql,qr,e);\n}\ninline void solve(int o,int l,int r) {\n    int tmp=top;\n    for (re auto i:vec[o]) merge(i.first,i.second);\n    if (l==r) {\n        if (sz[find(1)]==n) { printf(\"%d\\n\",l); exit(0); }\n    } else {\n        int mid=(l+r)>>1;\n        solve(ls,l,mid),solve(rs,mid+1,r);\n    }\n    undo(tmp);\n}\n#undef ls\n#undef rs\n\nint main() {\n    n=read(),m=read();\n    for (re int i=1;i<=m;++i) {\n        int u=read(),v=read(),w=read();\n        if (w>0) modify(1,0,L,0,w-1,make_pair(u,v));\n        if (w<L) modify(1,0,L,w+1,L,make_pair(u,v));\n    }\n    for (re int i=1;i<=n;++i) fa[i]=i,sz[i]=1;\n    solve(1,0,L);\n    return 0;\n}\n```",
        "postTime": 1574600300,
        "uid": 38370,
        "name": "M_sea",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P5631 \u3010\u6700\u5c0fmex\u751f\u6210\u6811\u3011"
    },
    {
        "content": "- \u9996\u5148\u5148\u628a\u6b63\u89e3\u653e\u51fa\u6765\uff1a\n\n\u5982\u679c\u80fd\u4e0d\u9009\u4e00\u4e2a\u6743\u503c\u7684\u8fb9\uff0c\u4e5f\u80fd\u6210\u4e3a\u4e00\u68f5\u751f\u6210\u6811\uff0c\u90a3\u4e48\u6700\u5c0f\u7684\u8fd9\u4e2a\u6743\u503c\u5c31\u662f\u95ee\u9898\u7684\u89e3\n\n\u4e0d\u8fc7\u76f4\u63a5\u8fd9\u6837\u7b97\u662f $O(NW\\alpha(N))$ \uff08\u7528\u8def\u5f84\u538b\u7f29\u5e76\u67e5\u96c6\uff09\n\n\u8003\u8651\u5206\u6cbb\uff0c\u5148\u628a\u6743\u503c $[l,mid]$ \u7684\u8fb9\u7ed9\u64a4\u9500\uff0c\u5206\u6cbb\u540e\u52a0\u4e0a\u6765\u518d\u628a $[mid,r]$ \u7684\u8fb9\u64a4\u9500\uff0c\u5206\u6cbb\u540e\u518d\u52a0\u4e0a\u6765\n\n\u5f53 $l=r$ \u65f6\uff0c\u5c31\u5224\u65ad\u5e76\u67e5\u96c6\u68ee\u6797\u7684\u6839\u7684\u5927\u5c0f\u662f\u5426\u4e3a $N$ \uff0c\u56e0\u6b64\u5e76\u67e5\u96c6\u662f\u6309\u79e9\u5408\u5e76\uff0c\u540c\u65f6\u8fd8\u8981\u7ef4\u62a4\u4e00\u4e2a $\\text{size}$\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u663e\u7136\u662f $O(N\\log N\\log W)$\n\n- \u63a5\u7740\u63d0\u4f9b\u4e00\u4e2a\u5047\u7b97\u6cd5\uff08\u5efa\u8bae\u52a0\u5f3a\u6570\u636e\uff0c\u80fd\u8fc7\uff09\uff1a\n\n\u9996\u5148\u6c42\u51fa\u6240\u6709\u7684\u5272\u8fb9\uff0c\u8fd9\u4e9b\u5272\u8fb9\u662f\u5fc5\u9009\u7684\uff0c\u7136\u540e\u4f60\u8c8c\u4f3c\u89c9\u5f97\u5176\u5b83\u8fb9\u90fd\u53ef\u4ee5\u88ab\u66ff\u6362\uff0c\u4e0d\u8fc7\u4f60\u9519\u4e86\n\n\u786e\u5b9e\u53ef\u4ee5\u88ab\u66ff\u6362\uff0c\u4f46\u662f\u8fd9\u5e76\u4e0d\u4ee3\u8868\u4ed6\u80fd\u66ff\u6362\u6210\u6743\u503c\u4e0d\u540c\u7684\u8fb9\n\n\u697c\u4e0b\u7684\u9898\u89e3\u662f\u5224\u662f\u4e0d\u662f\u4e00\u7ec4\u8fb9\u53ef\u4ee5\u88ab\u8fd9\u4e2a $\\text{hack}$ \uff1a\n\n\t5 5\n\t1 2 0\n\t2 3 1\n\t3 4 1\n\t4 5 1\n\t5 2 1\n\n\u800c\u6211\u662f\u5224\u6743\u503c\u662f\u5426\u76f8\u7b49\u7684\uff0c\u53ef\u4ee5\u88ab\u8fd9\u4e2a $\\text{hack}$ \uff1a\n\n\t5 5\n\t1 2 0\n\t2 3 1\n\t3 4 2\n\t4 5 1\n\t5 2 1\n\n\u518d\u63d0\u4f9b\u4e00\u4e0b\u5047\u7b97\u6cd5\u7684\u4ee3\u7801\uff08\u548c\u697c\u4e0b\u7684\u5224\u91cd\u8fb9\u65b9\u5f0f\u7565\u6709\u4e0d\u540c~~\u53cd\u6b63\u90fd\u662f\u5047\u7684~~\uff09\uff1a\n\n```cpp\n#include <cstdio>\n#include <utility>\n#include <vector>\nusing namespace std;\nint n,m,sum,dfn[1000001],low[1000001];\nbool ans[100002];\nvector<pair<int,int> > e[1000001];\ninline int read(){\n    char ch=getchar();int res=0,w=1;\n    while(ch<'0'||ch>'9') {if(ch=='-') w=-1;ch=getchar();}\n    while(ch>='0'&&ch<='9') {res=res*10+ch-'0';ch=getchar();}\n    return res*w;\n}\ninline int Min(int x,int y) {return x<y?x:y;}\nvoid tarjan(int x,int fa){\n\tdfn[x]=low[x]=++sum;\n\tfor(register int i=0;i<e[x].size();i++)\n\t\tif(!dfn[e[x][i].first])\n\t\t{\n\t\t\ttarjan(e[x][i].first,e[x][i].second);low[x]=Min(low[x],low[e[x][i].first]);\n\t\t\tif(low[e[x][i].first]>dfn[x]) ans[e[x][i].second]=true;\n\t\t}\n\t\telse if(e[x][i].second!=fa) low[x]=Min(low[x],dfn[e[x][i].first]);\n}\nsigned main(){\n\tn=read();m=read();\n\twhile(m--) {int u=read(),v=read(),c=read();e[u].push_back(make_pair(v,c));e[v].push_back(make_pair(u,c));}\n\ttarjan(1,114514);\n\tfor(register int i=0;;i++)\n\t\tif(!ans[i]) {printf(\"%d\\n\",i);return 0;}\n    return 0;\n}\n```",
        "postTime": 1585012446,
        "uid": 80679,
        "name": "Register",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P5631 \u3010\u6700\u5c0fmex\u751f\u6210\u6811\u3011"
    },
    {
        "content": "\u8003\u8651\u5982\u4f55\u5224\u65ad\u80fd\u5426\u8ba9 $x$ \u6210\u4e3a\u7b54\u6848\uff0c\u628a\u6240\u6709\u6743\u503c\u4e3a $x$ \u7684\u8fb9\u5220\u6389\u540e\uff0c\u82e5\u56fe\u8054\u901a\u5219\u6709\u751f\u6210\u6811\uff0c\u8fd9\u6837\u7684\u751f\u6210\u6811\u7684\u8fb9\u4e2d\u4e00\u5b9a\u4e0d\u5305\u542b\u6743\u503c $x$\u3002\u6240\u4ee5\u8fd9\u4e2a\u5220\u6389\u4e86\u6240\u6709 $w_e=x$ \u7684 $e$ \u8fb9\u540e\u56fe\u8054\u901a\u662f $x$ \u53ef\u4ee5\u4e3a\u7b54\u6848\u7684**\u5fc5\u8981\u6761\u4ef6**\u3002\n\n\u663e\u7136\u53ea\u8981 $1\\to x-1$ \u90fd\u4e0d\u80fd\u6210\u4e3a\u7b54\u6848\uff0c\u90a3\u4e48\u6ee1\u8db3\u4e0a\u8ff0\u5fc5\u8981\u6761\u4ef6\u5373\u4e3a\u6700\u5c0f\u7684 $\\text{mex}$ \u503c\uff0c\u8fd9\u662f\u5145\u8981\u7684\u3002\n\n\u4e8e\u662f\u53ef\u4ee5\u8003\u8651\u7ebf\u6bb5\u6811\u5206\u6cbb\uff0c\u5f53\u524d\u5206\u6cbb\u533a\u95f4 $[l,r]$ \u8868\u793a\u6743\u503c\u5728 $[l,r]$ \u4e4b\u95f4\u7684\u8fb9\u90fd\u4e0d\u52a0\u8fdb\u56fe\u91cc\u3002\u6bcf\u6b21\u9012\u5f52\u5c31\u76f8\u5f53\u4e8e\u52a0\u4e0a\u6743\u503c\u5728 $[l,mid]$ \u6216\u8005 $[mid+1,r]$ \u7684\u8fb9\uff0c\u4f7f\u7528\u53ef\u64a4\u9500\u5e76\u67e5\u96c6\u7ef4\u62a4\uff0c\u4f18\u5148\u8dd1\u5de6\u533a\u95f4\u5373\u53ef\u3002\n\n\u4e3a\u4e86\u65b9\u4fbf\u53ef\u4ee5\u5728\u9012\u5f52\u7684\u65f6\u5019\u4f20\u4e00\u4e2a\u533a\u95f4 $L,R$\uff0c\u8868\u793a\u5c06\u8fb9\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u540e\u6700\u5927\u7684 $L$ \u4f7f\u5f97 $w_{e_L}< l$ \u548c\u6700\u5c0f\u7684 $R$ \u4f7f\u5f97 $w_{e_R} > r$\uff0c\u9012\u5f52\u7684\u540c\u65f6\u52a0\u8fb9\u548c\u64a4\u9500\u5373\u53ef\u3002\n\n```cpp\n#include <bits/stdc++.h>\nnamespace mystd {\n\tinline int read() {\n\t    char c = getchar();\n\t    int x = 0, f = 1;\n\t    while (c < '0' || c > '9') f = (c == '-') ? -1 : f, c = getchar();\n\t    while (c >= '0' && c <= '9') x = (x << 1) + (x << 3) + c - '0', c = getchar();\n\t    return x * f;\n\t}\n\tinline void write(int x) {\n\t    if (x < 0) x = ~(x - 1), putchar('-');\n\t    if (x > 9) write(x / 10);\n\t    putchar(x % 10 + '0');\n\t}\n}\nusing namespace std;\nusing namespace mystd;\n\nconst int maxn = 2e6 + 200;\nstruct edge { int u, v, w; } e[maxn];\nint n, m, fa[maxn], sz[maxn];\nstack<int> op;\n\nint getf(int x) { return x == fa[x] ? x : getf(fa[x]); }\nvoid merge(int x, int y) {\n\tx = getf(x), y = getf(y);\n\tif (x == y) return;\n\tif (sz[x] > sz[y]) swap(x, y);\n\tfa[x] = y, sz[y] += sz[x], op.push(x);\n}\n\nvoid del(int tp) {\n\twhile (op.size() > tp) {\n\t\tint x = op.top(); op.pop();\n\t\tsz[fa[x]] -= sz[x], fa[x] = x;\n\t}\n}\n\n#define mid ((l + r) >> 1)\nvoid conquer(int l, int r, int lp, int rp) {\n\tif (l == r) {\n\t\tif (sz[getf(1)] == n) write(l), exit(0);\n\t\treturn;\n\t}\n\tint tp = op.size(), pos = rp + 1;\n\twhile (pos > 1 && e[pos - 1].w > mid) pos--, merge(e[pos].u, e[pos].v);\n\tconquer(l, mid, lp, pos - 1), del(tp), pos = lp - 1;\n\twhile (pos < m && e[pos + 1].w <= mid) pos++, merge(e[pos].u, e[pos].v);\n\tconquer(mid + 1, r, pos + 1, rp), del(tp);\n}\n\nint main() {\n\tn = read(), m = read();\n\tfor (int i = 1; i <= n; i++) fa[i] = i, sz[i] = 1;\n\tfor (int i = 1; i <= m; i++) e[i] = (edge) { read(), read(), read() };\n\tsort(e + 1, e + m + 1, [](const edge &x, const edge &y) { return x.w < y.w; });\n\tconquer(0, e[m].w + 1, 1, m);\n\treturn 0;\n}\n\n```",
        "postTime": 1673245523,
        "uid": 306573,
        "name": "Ender32k",
        "ccfLevel": 0,
        "title": "P5631 \u6700\u5c0fmex\u751f\u6210\u6811 \u9898\u89e3"
    },
    {
        "content": "mex \u751f\u6210\u6811\u3002\n\n\u5176\u5b9e\u672c\u8d28\u601d\u60f3\u90fd\u662f\u4e00\u6837\u7684\u3002                 \n\n\u4f46\u662f\u89c1\u8fc7\u7684 trick \u6ca1\u60f3\u5230\u8fd8\u662f\u633a\u4e22\u8138\u7684\u3002               \n\n\u6211\u4eec\u8003\u8651\u4e00\u79cd\u6781\u5176\u66b4\u529b\u7684\u505a\u6cd5\uff0c\u5373\u679a\u4e3e\u6bcf\u4e2a\u6743\u503c\u662f\u5426\u53ef\u4ee5\u4f5c\u4e3a\u7b54\u6848\u3002\u90a3\u4e48\u76f8\u5bf9\u5e94\u7684\u5c31\u662f\u8be2\u95ee\u6392\u597d\u5e8f\u540e\u4e0d\u8981\u4e00\u4e2a\u533a\u95f4\u7684\u8fb9\u662f\u5426\u53ef\u4ee5\u8ba9\u539f\u56fe\u8054\u901a\uff0c\u4e5f\u53ef\u4ee5\u662f\u8be2\u95ee\u5e8f\u5217\u524d\u7f00\u8fb9\u548c\u5e8f\u5217\u540e\u7f00\u8fb9\u662f\u5426\u80fd\u4f7f\u5f97\u539f\u56fe\u8054\u901a\u3002             \n\n\u5982\u679c\u6bcf\u6b21\u679a\u4e3e\u90fd\u8dd1\u4e00\u904d\u7684\u8bdd\u6211\u4eec\u53ef\u4ee5\u505a\u5230 $\\Theta(nw \\times a(n))$ \u7684\u4f18\u79c0\u590d\u6742\u5ea6\uff0c\u4e0d\u8fc7\u8fd9\u5e76\u4e0d\u80fd\u901a\u8fc7\u6b64\u9898\u3002                     \n\n\u8003\u8651\u5230\u6211\u4eec\u5176\u5b9e\u5728\u5176\u4e2d\u91cd\u590d\u5904\u7406\u4e86\u8bb8\u591a\u4fe1\u606f\uff0c\u60f3\u5230\u8981\u91cd\u590d\u5229\u7528\u8fd9\u4e9b\u4fe1\u606f\u3002      \n\n\u53d1\u73b0\u503c\u57df\u5f88\u5c0f\uff0c\u5bf9\u4e8e\u503c\u57df\u5efa\u7acb\u7ebf\u6bb5\u6811\uff0c\u5bf9\u4e8e\u7ebf\u6bb5\u6811\u8282\u70b9 $[l , r]$ \u6211\u4eec\u5c1d\u8bd5\u6c42\u51fa\u503c\u57df\u5728 $[l , r]$ \u95f4\u7684\u8fb9\u672a\u8fde\u65f6\u7684\u56fe\u7684\u72b6\u6001\u3002\u8fd9\u4e2a\u53ef\u4ee5\u7528\u5e76\u67e5\u96c6\u7ef4\u62a4\u3002\u8fd9\u65f6\u5019\u6211\u4eec\u5982\u679c\u518d\u9012\u5f52\u4e0b\u53bb\u76f4\u5230\u53f6\u5b50\u8282\u70b9\uff0c\u5c31\u53ef\u4ee5 $O(1)$ \u5224\u65ad\u6bcf\u4e2a\u6743\u503c\u4f5c\u4e3a\u7b54\u6848\u662f\u5426\u53ef\u884c\u4e86\u3002\uff08\u867d\u7136\u503c\u57df\u5927\u4e5f\u53ef\u4ee5\u505a\uff0c\u4f46\u662f\u8fd9\u4e5f\u662f\u4e2a\u63d0\u793a\u65b9\u5411\uff09                \n\n\u8003\u8651\u5230\u4e0a\u8ff0\u8bf4\u7684\u91cd\u590d\u5229\u7528\u4fe1\u606f\uff0c\u6211\u4eec\u8003\u8651\u7528\u53ef\u64a4\u9500\u5e76\u67e5\u96c6\uff0c\u5bf9\u7ebf\u6bb5\u6811\u8fdb\u884c\u5148\u5e8f\u904d\u5386\uff0c\u5982\u679c\u6709\u8fb9\u4e0d\u7528\u4e86\u5c31\u76f4\u63a5\u64a4\u9500\u3002\u7531\u4e8e\u8fb9\u5148\u8fdb\u540e\u51fa\u6240\u4ee5\u5f00\u6808\u7ef4\u62a4\u5373\u53ef\uff0c\u53ef\u4ee5\u8bc1\u660e\u6bcf\u6761\u8fb9\u8d21\u732e $O(\\log w)$ \u6b21\uff0c\u6700\u540e\u603b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n \\log n \\log w)$ \u3002            \n\n\u7531\u4e8e $w$ \u8f83\u5c0f\uff0c\u5e76\u4e14\u53ef\u64a4\u9500\u5e76\u67e5\u96c6\u7684\u5e38\u6570\u6bd4\u8f83\u5c0f\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7\u6b64\u9898\u3002       \n```cpp\n#include \"bits/stdc++.h\"\nusing namespace std;\nconst int Len = 1e6 + 5;\nint n,m,top,maxw;\nstruct ee\n{\n\tint u,v,w;\n}Edge[Len << 1];\nbool cmp(ee x , ee y){return x.w < y.w;}\n/*\n\u8be2\u95ee\u533a\u95f4\u524d\u540e\u7f00\u8fb9\u662f\u5426\u53ef\u4ee5\u8054\u901a\u539f\u56fe\n\u7528\u53cc\u6307\u9488\u626b\u4e0d\u77e5\u9053\u80fd\u4e0d\u80fd\u8fc7 \n\u53ef\u4ee5\u8fc7\uff0c\u6392\u5e8f\u540e\u5012\u5e8f\u63d2\u8fb9\u5373\u53ef\u6267\u884c\u5012\u5220 \n\u9519\u4e86\n\u770b\u4e86\u9898\u89e3\uff0c\u4f7f\u7528\u5efa\u7acb\u7ebf\u6bb5\u6811\u7684\u65b9\u5f0f\u53ef\u4ee5\u505a\u5230\u5229\u7528\u524d\u7f6e\u4fe1\u606f\u4e14\u4ee5\u6808\u7684\u5f62\u5f0f\u5220\u8fb9\u52a0\u8fb9 \n*/\nstruct Node\n{\n\tint u,v,siz;\n\tNode(){u = 0 , v = 0 , siz = 0;}\n\tNode(int U,int V,int SIZ){u = U , v = V , siz = SIZ;}\n}stk[Len << 1];\nstruct UnionF\n{\n\tint fa[Len],siz[Len];\n\tvoid makeSet(int x){for(int i = 1 ; i <= x ; i ++) fa[i] = i , siz[i] = 1;}\n\tint findSet(int x){return fa[x] == x ? fa[x] : findSet(fa[x]);}\n\tvoid unionSet(int x,int y)\n\t{\n\t\tint u = findSet(fa[x]) , v = findSet(fa[y]);\n\t\tif(u == v) return;\n\t\tif(siz[u] < siz[v]) swap(u , v);\n\t\tstk[++ top] = Node(u , v , siz[u]);\n\t\tfa[v] = u , siz[u] += siz[v];\n\t}\n\tvoid del(int ID)\n\t{\n\t\tint u = stk[ID].u , v = stk[ID].v;\n\t\tfa[v] = v , siz[u] = stk[ID].siz;\n\t}\n}S1;\nvoid Solve(int l,int r,int pos)\n{\n\tif(l == r){if(S1.siz[S1.findSet(1)] == n){printf(\"%d\\n\",l);exit(0);}return;}\n\tint mid = (l + r) >> 1;\n\tint idx = pos , now = top;\n\tfor(; Edge[idx].w <= r && idx <= m ; idx ++) if(Edge[idx].w > mid) S1.unionSet(Edge[idx].u , Edge[idx].v);\n\tSolve(l , mid , pos);\n\twhile(top > 0 && top > now) S1.del(top --);\n\tidx = pos;\n\tfor(; Edge[idx].w <= mid && idx <= m ; idx ++) S1.unionSet(Edge[idx].u , Edge[idx].v);\n\tSolve(mid + 1 , r , idx);\n\twhile(top > 0 && top > now) S1.del(top --);\n}\nint main()\n{\n\tscanf(\"%d %d\",&n,&m);\n\tfor(int i = 1 ; i <= m ; i ++){scanf(\"%d %d %d\",&Edge[i].u,&Edge[i].v,&Edge[i].w);maxw = max(maxw , Edge[i].w);}\n\tsort(Edge + 1 , Edge + 1 + m , cmp);\n\tS1.makeSet(n);\n\tSolve(0 , maxw + 1 , 1);\n\treturn 0;\n}\n```",
        "postTime": 1629204692,
        "uid": 132533,
        "name": "Hakuoro",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5631 \u6700\u5c0fmex\u751f\u6210\u6811"
    },
    {
        "content": "\u9000\u5f79\u9009\u624b\u56e0\u81ea\u4e60\u8bfe\u592a\u591a\u5230\u673a\u623f\u6c34\u7bc7\u9898\u89e3\uff08\n\n\u8fd9\u9898\u4e00\u773c\u770b\u4e0a\u53bb\u5c31\u6709\u4e00\u4e2a$\\Theta(nwlogn)$\u7684\u66b4\u529b\uff0c\u5373\u679a\u4e3e$mex$\u503c\u4e3a$i$\u65f6\u56fe\u80fd\u5426\u8054\u901a\uff0c\u7b54\u6848\u6700\u5927\u4e3a$maxw +1$\n\n\u6211\u4eec\u8003\u8651\u4f18\u5316\u8fd9\u4e2a\u66b4\u529b\uff0c\u90a3\u4e48\u8fd9\u663e\u7136\u5c31\u8f6c\u6362\u6210\u4e86\u4e00\u4e2a\u52a0\u8fb9\u5220\u8fb9\u7684\u56fe\u8fde\u901a\u6027\u95ee\u9898\uff0c\u76f4\u63a5\u7ebf\u6bb5\u6811\u5206\u6cbb\u52a0\u53ef\u64a4\u9500\u5e76\u67e5\u96c6\u5373\u53ef\uff0c\u590d\u6742\u5ea6\u662f$\\Theta(mlogw+wlogmlogn)$\u800c\u4e14\u8dd1\u4e0d\u6ee1\uff0c\u56e0\u4e3a\u5728\u5206\u6cbb\u8fc7\u7a0b\u4e2d\u6c42\u51fa\u7b54\u6848\u76f4\u63a5\u5c31$return$\u4e86\u3002\n\n$\\large Code:$\n\n```cpp\nstruct edge {\n\tint u, v, w;\n}e[2000001];\nint ans, n = read<int>(), m = read<int>(), siz = 0;\nvector<int>ve[400005];\ninl void insert(int k, int l, int r, int x, int y, int i) {\n\tif (x > y)return;\n\tif (l >= x && r <= y)return ve[k].push_back(i);\n\tre mid = l + r >> 1;\n\tif (x <= mid)insert(k << 1, l, mid, x, y, i);\n\tif (y > mid)insert(k << 1 | 1, mid + 1, r, x, y, i);\n}\nint fa[1000001], st[2000001], top, si[2000001];\ninl int find(int x) { return fa[x] ? find(fa[x]) : x; }\ninl void del(int x) { while (top > x)si[fa[st[top]]] -= si[st[top]], fa[st[top--]] = 0; }\ninl void divide(int k, int l, int r) {\n\tre mid = l + r >> 1, rtop = top;\n\tfor (auto i : ve[k]) {\n\t\tre u = find(e[i].u), v = find(e[i].v);\n\t\tif (u != v) {\n\t\t\tif (si[u] < si[v])swap(u, v);\n\t\t\tfa[v] = u, si[u] += si[v], st[++top] = v;\n\t\t}\n\t}\n\tif (l == r) {\n\t\tif (si[find(1)] == n)ans = l, writeln(ans), exit(0);\n\t}\n\telse divide(k << 1, l, mid), divide(k << 1 | 1, mid + 1, r);\n\tdel(rtop);\n}\nsigned main() {\n\tfor (re i = 1; i <= m; i++) e[i].u = read<int>(), e[i].v = read<int>(), e[i].w = read<int>(), siz = max(e[i].w, siz);\n\tfor (re i = 1; i <= m; i++) insert(1, 0, siz, 0, e[i].w - 1, i), insert(1, 0, siz, e[i].w + 1, siz, i);\n\tfor (re i = 1; i <= n; i++)si[i] = 1;\n\tans = siz + 1;\n\tdivide(1, 0, siz), writeln(ans);\n}\n```\n\n",
        "postTime": 1575640441,
        "uid": 110271,
        "name": "Genius_Z",
        "ccfLevel": 0,
        "title": "P5631 \u6700\u5c0fmex\u751f\u6210\u6811"
    }
]