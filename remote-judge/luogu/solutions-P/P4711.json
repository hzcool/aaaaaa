[
    {
        "content": "\u9898\u76ee\u96be\u5ea6\u7edd\u5bf9\u6ca1\u6709\u5230\u63d0\u9ad8+\n\n\u9996\u5148\u6211\u4eec\u8981\u5148\u6709\u4e2a\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u8868\uff0c\u56e0\u4e3a\u6211\u4e0d\u592a\u4f1amap\u6240\u4ee5\u6211\u5c31\u7528\u4e86pair\u3002map\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u597d\u50cf\u4f4e\u4e8epair\uff1f\n\n\u5bf9\u4e8e\u4e0b\u6807\u7684\u5904\u7406\uff0c\u7528\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u5feb\u901f\u8bfb\u5165\u7684\u65b9\u6cd5\u8bfb\u5165\u540e\u9762\u7684\u6570\u5b57\uff0c\u7136\u540e\u7ed9\u4ed6\u4e58\u4e00\u4e0b\u5373\u53ef\n\n\u5bf9\u4e8e\u62ec\u53f7\u7684\u5904\u7406\uff0c\u663e\u7136\u9012\u5f52\u662f\u6bd4\u8f83\u65b9\u4fbf\u7684\uff0c\u901a\u8fc7\u9012\u5f52\u5f97\u5230\u62ec\u53f7\u5185\u7684\u539f\u5b50\u56e2\u7684\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\uff0c\u7136\u540e\u5982\u679c\u540e\u9762\u6709\u4e00\u4e2a\u4e0b\u6807\u5c31\u4f1a\u597d\u5199\u5f88\u591a\u3002\n\n\u5bf9\u4e8e\u6c34\u5408\u7269\u7684\u5904\u7406\uff0c\u53ef\u4ee5\u4e00\u5f00\u59cb\u5c31\u5904\u7406\u6389\u3002\u6ce8\u610f\u7c7b\u4f3c\u4e00\u6c34\u5408\u6c28\u4e4b\u7c7b\u7684\u4e1c\u897f\uff0c\u6ca1\u6709\u7cfb\u6570\u9ed8\u8ba4\u4e3a1\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n// luogu-judger-enable-o2\n#include <iostream>\n#include <cstdio>\n#include <cctype>\n\nusing namespace std;\n\nint L;\n\ndouble ans=0.0000;\n\nstring str;\n\npair <string,double> score[]=\n{\n    make_pair(\"H\",1),\n    make_pair(\"C\",12),\n    make_pair(\"N\",14),\n    make_pair(\"O\",16),\n    make_pair(\"F\",19),\n    make_pair(\"Na\",23),\n    make_pair(\"Mg\",24),\n    make_pair(\"Al\",27),\n    make_pair(\"Si\",28),\n    make_pair(\"P\",31),\n    make_pair(\"S\",32),\n    make_pair(\"Cl\",35.5),\n    make_pair(\"K\",39),\n    make_pair(\"Ca\",40),\n    make_pair(\"Mn\",55),\n    make_pair(\"Fe\",56),\n    make_pair(\"Cu\",64),\n    make_pair(\"Zn\",65),\n    make_pair(\"Ag\",108),\n    make_pair(\"I\",127),\n    make_pair(\"Ba\",137),\n    make_pair(\"Hf\",178.5),\n    make_pair(\"Pt\",195),\n    make_pair(\"Au\",197),\n    make_pair(\"Hg\",201),\n};\n\nvoid Solve_H2O()\n{\n    int pos=str.find('~');\n    if (pos!=-1)\n    {\n        int tot=0;\n        for (int i=pos+1;isdigit(str[i]);i++)\n            tot=tot*10+str[i]-48;\n        if (tot==0)\n            tot=1;\n        ans=ans+tot*1.0*18;\n        str.erase(pos,100);\n    }\n}\n\ndouble getmass(string s)\n{\n    for (int i=0;;i++)\n        if (s==score[i].first)\n            return score[i].second;\n}\n\ndouble solve(int x)\n{\n    double now=0,sum=0;\n    while (str[x]!=')')\n    {\n        //cout << x << \" \" << str[x] << endl;\n        if (str[x]>='A' && str[x]<='Z')\n        {\n            sum+=now;\n            now=0;\n            if (str[x+1]>='a' && str[x+1]<='z')\n            {\n                now=getmass(str.substr(x,2));\n                x=x+2;\n            }\n            else\n            {\n                now=getmass(str.substr(x,1));\n                x++;\n            }\n        }\n        else if (str[x]=='(')\n        {\n            sum+=now;\n            now=0;\n            int layer=1;\n            int y=x+1;\n            while (layer)\n            {\n                if (str[y]=='(')\n                    layer++;\n                if (str[y]==')')\n                    layer--;\n                y++;\n            }\n            now=solve(x+1);\n            x=y;\n        }\n        else if (str[x]=='_')\n        {\n            x=x+2;\n            int c=0;\n            while (isdigit(str[x]))\n                c=c*10+str[x++]-48;\n            now*=c;\n            x++;\n        }\n    }\n    return sum+now;\n}\n\nint main()\n{\n    cin >> str;\n    Solve_H2O();\n    str+=')';\n    cout << ans+solve(0) << endl;\n    return 0;\n}\n```\n\n\u8fd9\u4e2a\u9898\u6211\u5199\u4e86\u534a\u4e2a\u5c0f\u65f6\u2026\u2026",
        "postTime": 1529380935,
        "uid": 8457,
        "name": "chen_zhe",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "\u8fd9\u9898\u4e48\uff0c\u7edd\u5bf9\u6ca1\u6709\u84dd\u9898\u96be\u5ea6\uff0c\u6211\u4e2a\u4eba\u8ba4\u4e3a\u9ec4\u9898\u5c01\u9876\uff0c\u6bd5\u7adf\u8fd9\u662f\u5c11\u89c1\u7684\u4e0d\u6bd2\u7624\u7684\u6a21\u62df\u9898\u3002  \n\u8fd9\u9898\u5f88\u826f\u5fc3\u7684\u6ca1\u6709\u62ec\u53f7\u5d4c\u5957\uff0c\u8fd9\u6837\u5c31\u4e0d\u7528\u9012\u5f52\u90a3\u4e48\u9ebb\u70e6\u4e86\uff0c\u76f4\u63a5\u8bfb\u8fdb\u6765\u626b\u4e00\u904d\u5373\u53ef\uff0c\u5177\u4f53\u8fd8\u662f\u770b\u4ee3\u7801\u5427\u3002  \n```cpp\n#include<cstdio>\n#include<cstring>\n#include<string>\n#include<map>\nusing namespace std;\nchar a[110],b[10];//a\u662f\u8bfb\u8fdb\u6765\u7684\u6574\u4e2a\u5b57\u7b26\u4e32\uff0cb\u662f\u4e34\u65f6\u5b57\u7b26\u6570\u7ec4\uff0c\u5b58\u5f53\u524d\u5143\u7d20\nint l,ll;//l\u4e3aa\u7684\u957f\u5ea6\uff0cll\u4e3ab\u7684\u957f\u5ea6\nmap<string,double>mp;//map\u5927\u6cd5\u597d\uff0c\u5b58\u5143\u7d20\u5bf9\u5e94\u7684\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\nint cs(int &i)//\u7c7b\u4f3c\u5feb\u8bfb\uff0c\u5c06\u5b57\u7b26\u8f6c\u5316\u4e3a\u6570\u5b57\uff0c\u540c\u65f6\u5c06\u4e3b\u51fd\u6570\u7684i\u540c\u6b65\u626b\u8fc7\n{\n\tint x=0;\n\tfor(;a[i]>='0'&&a[i]<='9';i++)\n\t\tx=x*10+(a[i]-'0');\n\treturn x;\n}\ndouble js(int &i)//\u8ba1\u7b97\u5f53\u524d\u626b\u5230\u7684\u5143\u7d20\u7684\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\uff0c\u540c\u6837\u5c06\u4e3b\u51fd\u6570\u7684i\u540c\u6b65\n{\n\tdouble s=0;//\u8bb0\u5f55\u8d28\u91cf\n\tmemset(b,0,sizeof(b));//\u6e05\u7a7a\u4e34\u65f6\u5b57\u7b26\u6570\u7ec4\n\tfor(ll=-1;((a[i]>='A'&&a[i]<='Z')||(a[i]>='a'&&a[i]<='z'))&&(ll<0||(ll>=0&&(a[i]>='a'&&a[i]<='z')));i++)\n\t\tb[++ll]=a[i];\n    //\u627e\u5230\u76ee\u524d\u626b\u5230\u7684\u5143\u7d20\n    //\u56e0\u4e3a\u5143\u7d20\u5f00\u5934\u5fc5\u662f\u5927\u5199\u5b57\u6bcd\n    //\u6240\u4ee5\u5f53\u626b\u5230\u7684\u5b57\u7b26\u4e0d\u4e3a\u5c0f\u5199\u5b57\u6bcd(\u5df2\u5c06\u8fd9\u4e2a\u5143\u7d20\u7684\u9996\u5b57\u6bcd\u8bfb\u5165)\u8bf4\u660e\u5f53\u524d\u5143\u7d20\u5df2\u626b\u5b8c\n\tif(a[i]=='_')//\u82e5\u8fd9\u5143\u7d20\u540e\u9762\u6709\u4e0b\u6807\uff0c\u5c31\u5c06\u6570\u5b57\u8bfb\u5165\u5e76\u4e58\u4e0a\u8be5\u5143\u7d20\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\n\t{\n\t\ti+=2;//\u76f4\u63a5\u8df3\u8fc7'_{'\n\t\ts+=mp[b]*cs(i);\n\t}\n\telse//\u82e5\u6ca1\u6709\u4e0b\u6807\uff0c\u76f4\u63a5\u7d2f\u52a0\u4e0a\u8be5\u5143\u7d20\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\n\t{\n\t\ts+=mp[b];\n\t\ti--;\n\t}\n\treturn s;\n}\nint main()\n{\n\tint i,o;\n\tdouble s,k;\n\tmp[\"H\"]=1;//\u4ee5\u4e0b\u4e3a\u521d\u59cb\u5316\n\tmp[\"C\"]=12;\n\tmp[\"N\"]=14;\n\tmp[\"O\"]=16;\n\tmp[\"F\"]=19;\n    mp[\"Na\"]=23;\n\tmp[\"Mg\"]=24;\n\tmp[\"Al\"]=27;\n\tmp[\"Si\"]=28;\n    mp[\"P\"]=31;\n\tmp[\"S\"]=32;\n\tmp[\"Cl\"]=35.5;\n\tmp[\"K\"]=39;\n    mp[\"Ca\"]=40;\n\tmp[\"Mn\"]=55;\n\tmp[\"Fe\"]=56;\n\tmp[\"Cu\"]=64;\n    mp[\"Zn\"]=65;\n\tmp[\"Ag\"]=108;\n\tmp[\"I\"]=127;\n\tmp[\"Ba\"]=137;\n    mp[\"Hf\"]=178.5;\n\tmp[\"Pt\"]=195;\n\tmp[\"Au\"]=197;\n\tmp[\"Hg\"]=201;\n\tscanf(\"%s\",a);//\u5408\u6cd5\u5b57\u7b26\u4e32\u76f4\u63a5%s\u8bfb\u5165\n\tl=strlen(a);//\u8ba1\u7b97\u957f\u5ea6\n\tfor(i=0;i<l;i++)//\u76f4\u63a5\u626b\n\t{\n\t\tif(a[i]>='A'&&a[i]<='Z')//\u82e5\u4e3a\u5927\u5199\u5b57\u6bcd\uff0c\u8bf4\u660e\u626b\u5230\u4e00\u4e2a\u5143\u7d20\uff0c\u76f4\u63a5\u7d2f\u52a0\u4e0a\u53bb\n\t\t\ts+=js(i);\n\t\tif(a[i]=='(')//\u82e5\u4e3a\u5de6\u62ec\u53f7\uff0c\u5219\u8ba1\u7b97\u62ec\u53f7\u5185\u7684\u8d28\u91cf\n\t\t{\n\t\t\ti++;//\u8df3\u8fc7'('\n\t\t\tfor(k=0;a[i]!=')';i++)//\u56e0\u4e3a\u6ca1\u6709\u62ec\u53f7\u5d4c\u5957\u6216\u662f\u6c34\u5408\u7269\uff0c\u91cc\u9762\u5fc5\u662f\u5404\u79cd\u5143\u7d20\uff0c\u6240\u4ee5\u76f4\u63a5\u7d2f\u52a0\u81f3\u9047\u5230')'\n\t\t\t\tk+=js(i);\n\t\t\tif(a[i+1]=='_')//\u5224\u65ad\u662f\u5426\u6709\u4e0b\u6807\n\t\t\t\ts+=k*cs(i+=3);//\u6709\u5219\u5c06\u6570\u5b57\u4e58\u4e0a\uff0ci+=3\u662f\u4e3a\u8df3\u8fc7'_{'\n\t\t\telse\n\t\t\t\ts+=k;//\u6ca1\u6709\u5c31\u76f4\u63a5\u52a0\u4e0a\n\t\t}\n\t\tif(a[i]=='~')//\u82e5\u6709\u6c34\u5408\u7269\n\t\t{\n\t\t\ti++;//\u8df3\u8fc7'~'\n\t\t\tif(a[i]=='H')//\u82e5\u4e3a'H'\uff0c\u8bf4\u660e\u53ea\u542b\u4e00\u4e2a\u6c34\u5206\u5b50\uff0c\u76f4\u63a5\u7d2f\u52a0\n\t\t\t\ts+=18;//\u4e00\u4e2a\u6c34\u5206\u5b50\u7684\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u4e3a18\n\t\t\telse\n\t\t\t\ts+=cs(i)*18;//\u4e0d\u4e3a'H'\u8bf4\u660e\u6709\u6570\u91cf\uff0c\u5c06\u5176\u4e58\u4e0a\u5373\u53ef\n\t\t\tbreak;//\u56e0\u4e3a\u6c34\u5408\u7269\u80af\u5b9a\u5728\u6700\u540e\uff0c\u6240\u4ee5\u76f4\u63a5\u8df3\u51fa\u5373\u53ef\n\t\t}\n\t}\n\to=s;//\u5229\u7528int\u5f3a\u5236\u8f6c\u6362\u6765\u5224\u65ad\u662f\u5426\u6709.5\n\tif(o==s)\n\t\tprintf(\"%d\",o);\n\telse\n\t\tprintf(\"%.1f\",s);\n\treturn 0;\n}\n```",
        "postTime": 1529389492,
        "uid": 60181,
        "name": "Iowa_BattleShip",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "# \u66b4\u529b\u6a21\u62df\uff0c\u8fd9\u9898\u54ea\u6765\u7684\u84dd\u8272\u2026\u2026\n\n\u672c\u9898\u548c17\u5e74NOIPD1T2\u6bd4\u8f83\u76f8\u4f3c\uff0c\u57fa\u672c\u90fd\u662f\u5b57\u7b26\u4e32\u8bfb\u5165\uff0c\u6808\u5b58\u50a8\uff0c\u5224\u65ad\uff0c\u8f93\u51fa\u3002\n\u4e0b\u9762\u7684\u9898\u89e3\u90fd\u4e0d\u662f\u5f88\u8be6\u7ec6\uff0c\u5e76\u4e14\uff08\u8c8c\u4f3c\uff1f\uff09\u6ca1\u6709\u4f7f\u7528\u6808\u5904\u7406\u7684\u65b9\u6cd5\uff0c\u5728\u8fd9\u91cc\u5217\u51fa\u4e00\u4e9b\u53ef\u80fd\u7684\u60c5\u51b5\uff0c\u89e3\u51b3\u65b9\u6848\u4ee5\u53ca\u57fa\u672c\u601d\u8def\u3002\n\n1\uff09\t\u56e0\u4e3a\u9898\u5e72\u4e2d\u5316\u5b66\u5f0f\u88ab\u5f88\u660e\u663e\u7684\u5206\u6210\u4e86\u4e24\u90e8\u5206\uff0c\u5373\u524d\u5206\u5b50+\u6c34\u5408\uff0c\u6211\u4eec\u5f88\u81ea\u7136\u7684\u60f3\u5230\u628a\u6c34\u548c\u524d\u9762\u7684\u5206\u5b50\u5206\u5f00\u5904\u7406\u3002\u7531\u4e8e~\u540e\u9762\u53ea\u53ef\u80fd\u51fa\u73b0\u6c34\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u8bfb\u53d6\u6c34\u7684\u7cfb\u6570\u5373\u53ef\u3002**\u6ce8\u610f\u6c34\u524d\u7cfb\u6570\u7701\u7565\u65f6\u4e3a1**\u3002\u4e0b\u9762\u8ba8\u8bba\u5bf9\u524d\u9762\u5206\u5b50\u7684\u5904\u7406\u3002\n\n2\uff09\t\u663e\u7136\uff0c\u5143\u7d20\u7684\u5206\u5b50\u91cf\u6211\u4eec\u9700\u8981\u6253\u4e00\u5f20\u8868\u3002\u4f7f\u7528map+(ctrl+f\u9a9a\u64cd\u4f5c\u5373\u53ef)\u3002\u5bf9\u4e8e\u8bfb\u5165\u95ee\u9898\uff0c\u6211\u4eec\u9009\u62e9\u5b57\u7b26\u4e32\u8bfb\u5165\u3002\n\n3\uff09\t\u5728\u8bfb\u5165\u540e\uff0c\u6211\u4eec\u7684\u5b57\u7b26\u4e00\u5171\u6709\u51e0\u79cd\u5f62\u5f0f\uff1a\n\n\t\t1\u3001\u5143\u7d20\n        2\u3001\u539f\u5b50\u56e2\uff08\u5e26\u62ec\u53f7\u7684\uff09\n        3\u3001\u7cfb\u6570\uff08\u4e0b\u6807\uff09\n\n4\uff09\t\u9996\u5148\u8003\u8651\u5bf9\u5143\u7d20\u7684\u5904\u7406\uff0c\u5373\u600e\u4e48\u5224\u5b9a\u5f53\u524d\u5143\u7d20\uff1a\n\n\u9996\u5148\u660e\u786e\u5143\u7d20\u4e00\u5b9a\u4e3a\u5927\u5199\u5b57\u6bcd\u5f00\u5934\uff0c\u5728\u672c\u9898\u7684\u8f93\u5165\u683c\u5f0f\u4e2d\uff0c\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u7684\u53ea\u53ef\u80fd\u662f\u5143\u7d20\uff0c\u6240\u4ee5\u6211\u4eec\u9009\u62e9\u5224\u65ad\u5982\u679c\u662f\u5927\u5199\u5b57\u6bcd\u5c31\u8ba4\u4e3a\u5b83\u662f\u4e00\u4e2a\u5143\u7d20\u3002\u5bf9\u4e8e\u5143\u7d20\u7684\u957f\u5ea6\u4e3a\u4e24\u4e2a\u5b57\u7b26\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5224\u65ad\u5b83\u7684\u4e0b\u4e00\u4f4d\u662f\u4e0d\u662f\u5c0f\u5199\u5b57\u6bcd\u3002\u5982\u679c\u662f\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5143\u7d20\u662f\u4e2a\u4e24\u4f4d\u6570\u3002\n\n5\uff09\t\u5904\u7406\u4e0b\u6807\uff1a\n\n\u6211\u4eec\u5728\u626b\u63cf\u5b57\u7b26\u4e32\u7684\u65f6\u5019\u5982\u679c\u53d1\u73b0\u201c_\u201d\u5b57\u7b26\uff0c\u6211\u4eec\u76f4\u63a5\u4ece\u5b83\u540e\u9762\u7b2c\u4e8c\u4f4d\u5f00\u59cb\u5904\u7406\uff0c\u4f7f\u7528\u5feb\u901f\u8bfb\u5165\u7684\u601d\u60f3\u628a\u4e0b\u6807\u5b58\u4e0b\u6765\u3002\n\n6\uff09\t\u5904\u7406\u539f\u5b50\u56e2\uff1a\n\n\u7531\u4e8e\u539f\u5b50\u56e2\u540e\u9762\u53ef\u80fd\u6709\u7cfb\u6570\uff0c\u6211\u4eec\u8003\u8651\u76f4\u63a5\u628a\u4e00\u4e2a\u539f\u5b50\u56e2\u5f53\u6210\u4e00\u4e2a\u5143\u7d20\u5b58\u50a8\u5373\u53ef\u3002\u5728\u539f\u5b50\u56e2\u5185\u90e8\u7684\u5904\u7406\u53c2\u7167\uff084\uff09\uff085\uff09\uff0c\u6700\u540e\u5728\u8bfb\u5230\u201c)\u201d\u5b57\u7b26\u65f6\u505c\u6b62\uff0c\u628a\u5206\u5b50\u91cf\u52a0\u8d77\u6765\u5f53\u505a\u4e00\u4e2a\u5143\u7d20\u5b58\u50a8\u5373\u53ef\u3002\n\n7\uff09\t\u5904\u7406\u5143\u7d20\uff08\u539f\u5b50\u56e2\uff09\u4e0e\u4e0b\u6807\u7684\u5173\u7cfb\uff1a\n\n\u9996\u5148\u660e\u786e\u4e00\u70b9\uff1a\u4e0b\u6807\u4e00\u5b9a\u6307\u7684\u662f\u5728\u51fa\u73b0\u4e0b\u6807\u4e4b\u524d\u6700\u540e\u4e00\u4e2a\u5143\u7d20\uff08\u539f\u5b50\u56e2\uff09\u7684\u5927\u5c0f\u3002\u8fd9\u70b9\u548c\u6808\u5f88\u50cf\uff1a\u53ea\u5bf9\u521a\u521a\u5165\u6808\u7684\u5143\u7d20\u8fdb\u884c\u64cd\u4f5c\uff0c\u4e8e\u662f\u6211\u4eec\u60f3\u5230\u624b\u5199\u4e00\u4e2a\u6808\uff0c\u4f7f\u7528\u6808\u4fdd\u5b58\u5355\u4e2a\u5143\u7d20\uff08\u539f\u5b50\u56e2\uff09\u7684\u5206\u5b50\u91cf\uff0c\u7136\u540e\u7528\u53e6\u4e2a\u4e00\u6570\u7ec4\u5bf9\u5e94\u6570\u7ec4\u5e8f\u53f7\u4fdd\u5b58\u5176\u4e0b\u6807\u3002\n\n\u81f3\u6b64\uff0c\u6240\u6709\u95ee\u9898\u90fd\u89e3\u51b3\u4e86\uff0c\u53ef\u4ee5\u5f00\u5fc3\u7684\u5f00\u59cb\u6a21\u62df\u4e86\u3002\n\n\u5728\u8fd9\u91cc\u603b\u7ed3\u51e0\u70b9\u6ce8\u610f\u4e8b\u9879\u548c\u6536\u83b7\uff1a\n\n\t\t1\u3001\u6d6e\u70b9\u6570\u8fd0\u7b97\uff01\uff01\u5343\u4e07\u522b\u524d\u9762\u5f00\u6d6e\u70b9\u6570\u540e\u9762\u6709\u4e00\u4e2a\u5730\u65b9\u624b\u6b8b\u5199\u4e86\u4e2aint\uff0c\u4f60\u5c31\u76f4\u63a5\u70b8\u4e86\u3002\n        2\u3001STL\u7684string\u578b\u53ef\u4ee5\u76f4\u63a5\u628a\u5b57\u7b26\u62fc\u63a5\u5230\u540e\u9762\uff0c\u5176\u683c\u5f0f\u4e3a\n        \ts+=ch;\n           \u6ce8\u610f\u6bcf\u6b21\u4f7f\u7528\u524d\u8981\u8c03\u7528clear()\u51fd\u6570\u6e05\u96f6\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\u6ce8\u610f\u6240\u6709\u975evoid\u578b\u51fd\u6570\u7684\u8fd4\u56de\u503c\u662fi\u7684\u65b0\u503c\n```cpp\n#include<map>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#define maxn 10010\n\ninline void qr(int &x) {\n    char ch=getchar();int f=1;\n    while(ch>'9'||ch<'0')\t{\n        if(ch=='-')\tf=-1;\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9')\tx=(x<<1)+(x<<3)+(ch^48),ch=getchar();\n    x*=f;\n    return;\n}\n\ninline int max(const int &a,const int &b) {if(a>b) return a;else return b;}\ninline int min(const int &a,const int &b) {if(a<b) return a;else return b;}\ninline int abs(const int &x) {if(x>0) return x;else return -x;}\n\ninline void swap(int &a,int &b) {\n    int c=a;a=b;b=c;return;\n}\n\n/\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u4ee5\u4e0a\u662f\u5934\u6587\u4ef6\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014/\n\nstd::map<std::string,double>che;\n\nvoid build() {\n\tche[\"H\"]=1;\n\tche[\"C\"]=12;\n\tche[\"N\"]=14;\n\tche[\"O\"]=16;\n\tche[\"F\"]=19;\n\tche[\"Na\"]=23;\n\tche[\"Mg\"]=24;\n\tche[\"Al\"]=27;\n\tche[\"Si\"]=28;\n\tche[\"P\"]=31;\n\tche[\"S\"]=32;\n\tche[\"Cl\"]=35.5;\n\tche[\"K\"]=39;\n\tche[\"Ca\"]=40;\n\tche[\"Mn\"]=55;\n\tche[\"Fe\"]=56;\n\tche[\"Cu\"]=64;\n\tche[\"Zn\"]=65;\n\tche[\"Ag\"]=108;\n\tche[\"I\"]=127;\n\tche[\"Ba\"]=137;\n\tche[\"Hf\"]=178.5;\n\tche[\"Pt\"]=195;\n\tche[\"Au\"]=197;\n\tche[\"Hg\"]=201;\n}\t//\u6211\u7231\u6253\u8868\n\nstd::string str;\ndouble a[maxn],ans;\t\t\nint b[maxn],top;\n\n/*\n\t*a\u662f\u5b58\u50a8\u5206\u5b50\u91cf\u7684\u624b\u5199\u6808\uff0c\u6808\u9876\u4e3atop\u3002\n    *b\u662f\u5b58\u50a8\u4e0b\u6807\u7684\u5bf9\u5e94\u6570\u7ec4\u3002\n    *ans\u65e2\u662f\u603b\u5206\u5b50\u91cf\u3002\n*/\n\ninline void newlet(int l,int r) {\n/*\n\t*\u5904\u7406\u65b0\u5143\u7d20\uff0c\u5176\u4e2d\u5143\u7d20\u7684\u957f\u5ea6\u4e3a[l,r]\n*/\n\tstd::string temp;\n\ttemp.clear();\n\tif(l^r) {\n\t\ttemp+=str[l];temp+=str[r];\n\t}\n\telse temp+=str[l];\n\ta[++top]=che[temp];\n}\n\ninline int getnum(int k) {\n/*\n\t*\u83b7\u5f97\u7cfb\u6570\n    *\u5bf9\u5e94\u5b58\u6570\u4e0b\u6807\n*/\n\tint t=k+2,temp=0;;\n\twhile(str[t]>='0'&&str[t]<='9') temp=(temp<<3)+(temp<<1)+(str[t]^48),++t;\n\tif(!temp)\ttemp=1;\n\tb[top]=temp;\n\treturn t;\n}\n\ninline int getset(int k) {\n/*\n\t*\u8fd9\u91cc\u5904\u7406\u539f\u5b50\u56e2\n    *\u524d\u9762\u5148\u5904\u7406\u5143\u7d20\uff0c\u4f7f\u7528temp\u5b58\u50a8\u5df2\u7ecf\u6709\u7684\u5206\u5b50\u91cf\u3002\n    *\u5728\u8bfb\u5165\u5b8c\u4e00\u4e2a\u5206\u5b50\u540e\u7acb\u523b\u5224\u65ad\u662f\u5426\u6709\u4e0b\u6807\uff0c\u5982\u679c\u6709\u4e0b\u6807\u76f4\u63a5\u4e58\u4e0a\n*/\n\tdouble temp=0;std::string t;int p=1;\n\tfor(int i=k+1;i;++i) {\n\t\tt.clear();\n\t\tif(str[i]==')')\t{\n\t\t\ta[++top]=temp;return i;\n\t\t}\n\t\tif(str[i+1]>='a'&&str[i+1]<='z') {\n\t\t\tt+=str[i];t+=str[i+1];++i;\n\t\t}\n\t\telse t+=str[i];\n\t\tif(str[i+1]=='_') {\n\t\t\tint te=i+3,tem=0;\n\t\t\twhile(str[te]>='0'&&str[te]<='9') tem=(tem<<3)+(tem<<1)+(str[te]^48),++te;\n\t\t\tif(!tem) tem=1;\n\t\t\tp=tem;i=te;\n\t\t}\n\t\ttemp+=che[t]*p;p=1;\n\t}\n}\n\ninline void getwater(int k) {\n//\t\u76f4\u63a5\u5904\u7406\u6c34\u7684\u7cfb\u6570\n\tint t=k+1,temp=0;\n\twhile(str[t]>='0'&&str[t]<='9') temp=(temp<<3)+(temp<<1)+(str[t]^48),++t;\n\tif(!temp)\ttemp=1;\t\t\t//\u4e3a0\u5373\u4e3a1\n\ta[++top]=18*temp;\n}\n\nint main() {\n\tbuild();\n\tstd::cin>>str;\n\tint l=str.length();\n\tfor(int i=0;i^l;++i) {\n\t\tbool pd=false;\n\t\tswitch(str[i]) {\n\t\t\tcase '_':\t\t//\u7cfb\u6570\n\t\t\t\ti=getnum(i);\n\t\t\t\tpd=true;\n\t\t\t\tbreak;\n\t\t\tcase '(':\t\t//\u539f\u5b50\u56e2\n\t\t\t\ti=getset(i);\n\t\t\t\tpd=true;\n\t\t\t\tbreak;\n\t\t\tcase '~':\t\t//\u6c34\n\t\t\t\tgetwater(i);i=l-1;\n\t\t\t\tpd=true;break;\n\t\t}\n\t\tif(pd)\tcontinue;\n        //\u5982\u679c\u4e0a\u9762\u90fd\u4e0d\u662f\uff0c\u5219\u4e00\u5b9a\u662f\u4e2a\u65b0\u5143\u7d20\n\t\tif(str[i+1]>='a'&&str[i+1]<='z') {\n\t\t\tnewlet(i,i+1);++i;\n\t\t}\n\t\telse newlet(i,i);\n\t}\n\tfor(int i=1;i<=top;++i) {\n\t\tif(!b[i])\tb[i]=1;\n\t\tans+=a[i]*b[i];\n\t}\t//\u9000\u6808\u8f93\u51fa\n\tlong long int c=ans;\n\tif(ans!=double(c)) {printf(\"%.1lf\\n\",ans);}\n\telse printf(\"%lld\\n\",c);\n\treturn 0\uff1b\n}\n```",
        "postTime": 1529402058,
        "uid": 65363,
        "name": "\u4e00\u6276\u82cf\u4e00",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "\u66b4\u529b\u6a21\u62df\u554a\uff0c\u4ec0\u4e48\u6280\u672f\u542b\u91cf\u90fd\u6ca1\u6709\uff0c\u6a21\u62df\u7684\u65f6\u5019\u4ee3\u7801\u957f\u4e00\u70b9\u65e0\u6240\u8c13\uff0c\u53ea\u8981\u8c03\u8bd5\u7684\u65f6\u5019\u522b\u628a\u81ea\u5df1\u7ed5\u6655\u5c31\u884c\u4e86\uff0cNOIP 2017\u65f6\u95f4\u590d\u6742\u5ea6\u6211\u5c31\u88ab\u81ea\u5df1\u4ee3\u7801\u7ed5\u8fdb\u53bb\u4e86\uff0c\u6b7b\u6d3b\u8c03\u4e0d\u51fa\u6765\uff0c\u76f4\u63a5GG\u3002\n\n\u8fd8\u6709\uff0c\u6bd4\u8d5b\u5b8c\u4e86\u4e4b\u540e\u4e00\u770b\u6807\u7b7e\u5c45\u7136\u662f\u84dd\u9898\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u6bd4\u8fd9\u590d\u6742\u591a\u4e86\u624d\u662f\u7eff\u9898\u3002\n\n\u601d\u8def\u5c31\u662f\u5148\u8bfb\u8fdb\u53bb\uff0c\u7136\u540e\u4e00\u4f4d\u4e00\u4f4d\u7684\u5904\u7406\uff0c\u9047\u5230\u5927\u5199\u5b57\u6bcd\u5c31\u5224\u65ad\u5143\u7d20\uff0c\u9047\u5230 _ \u5c31\u628a\u540e\u9762\u5927\u62ec\u53f7\u4e2d\u7684\u6570\u5b57\u63d0\u53d6\u51fa\u6765\uff0c\u9047\u5230\u62ec\u53f7\u7684\u8bdd\u6253\u4e2a\u6807\u8bb0\uff0c\u4e2d\u95f4\u7684\u8d28\u91cf\u5148\u4e0d\u52a0\u5230\u603b\u8d28\u91cf\u4e2d\uff0c\u9047\u5230\u53f3\u62ec\u53f7\u5c31\u63d0\u53d6\u7cfb\u6570\u3002\u9047\u5230  ~ \u5c31\u8ba1\u7b97\u6c34\u7684\u8d28\u91cf\u3002\n\n\n\u6ce8\u610f\uff1a\u6c34\u7684\u7cfb\u6570\u6709\u53ef\u80fd\u662f1\uff0c\u7701\u7565\u4e0d\u5199\u3002\n\n\u6211\u7684\u4ee3\u7801\u4e2dnow_x\u5f88\u9b3c\u755c\uff0c\u8df3\u6765\u8df3\u53bb\uff0c\u8ba4\u771f\u770b\u4e0d\u96be\u7406\u89e3\u3002\n\ncode\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\ndouble f1,f2,f3,f5,ans,f8,f9;\nint len,now_x,f4;\nbool b1;\nchar s[2001];\ndouble get_word()//\u66b4\u529b\u5224\u65ad\u5143\u7d20\u79cd\u7c7b \n{\n    if(s[now_x]=='A')\n    {\n        now_x++;\n        if(s[now_x]=='l')\n            return 27;\n        if(s[now_x]=='u')\n            return 197;\n        if(s[now_x]=='g')\n            return 108;\n    }\n    if(s[now_x]=='B')\n    {\n        now_x++;\n        return 137;\n    }\n    if(s[now_x]=='C')\n    {\n        now_x++;\n        if(s[now_x]=='a')\n            return 40;\n        if(s[now_x]=='u')\n            return 64;\n        if(s[now_x]=='l')\n            return 35.5;\n        now_x--;\n        return 12;\n    }\n    if(s[now_x]=='F')\n    {\n        now_x++;\n        if(s[now_x]=='e')\n            return 56;\n        now_x--;\n        return 19;\n    }\n    if(s[now_x]=='H')\n    {\n        now_x++;\n        if(s[now_x]=='g')\n            return 201;\n        if(s[now_x]=='f')\n            return 178.5;\n        now_x--;\n        return 1;\n    }\n    if(s[now_x]=='I')\n        return 127;\n    if(s[now_x]=='K')\n        return 39;\n    if(s[now_x]=='M')\n    {\n        now_x++;\n        if(s[now_x]=='n')\n            return 55;\n        if(s[now_x]=='g')\n            return 24;\t\n    }\t\n    if(s[now_x]=='N')\n    {\n        now_x++;\n        if(s[now_x]=='a')\n            return 23;\n        now_x--;\n        return 14;\n    }\n    if(s[now_x]=='O')\n        return 16;\n    if(s[now_x]=='P')\n    {\n        now_x++;\n        if(s[now_x]=='t')\n            return 195;\n        now_x--;\n        return 31;\n    }\n    if(s[now_x]=='S')\n    {\n        now_x++;\n        if(s[now_x]=='i')\n            return 28;\n        now_x--;\n        return 32;\n    }\n    if(s[now_x]=='Z')\n    {\n        now_x++;\n        return 65;\n    }\n}\ndouble getmath()//\u63d0\u53d6\u6570\u5b57 \n{\n    int f8=0;\n    while(1)\n    {\n        if((s[now_x]>='0')&&(s[now_x]<='9'))\n        {\n            f8*=10;\n            f8+=s[now_x]-'0';\t\t\t\n        }\n        else\n            break;\n        now_x++;\n    }\n    return f8;\n}\nvoid work()\n{\n    now_x=0;\n    while(1)\n    {\n        if(now_x>=len)//\u5904\u7406\u5b8c\u7684\u8bdd\u5c31\u8df3\u51fa \n            break;\n        if((s[now_x]>='A')&&(s[now_x]<='Z'))\n        {\n            f1=get_word();//\u63d0\u53d6\u5230\u7684\u5143\u7d20\u8d28\u91cf \n            now_x++;\n            if(s[now_x]=='_')\n            {\n                now_x+=2;\n                f3=getmath();//\u7cfb\u6570 \n                now_x++;\n            }\n            else\n                f3=1;\n            if(b1==false)//\u5224\u65ad\u662f\u5426\u5728\u62ec\u53f7\u4e2d \n                ans+=f1*f3;//\u5982\u679c\u5728\uff0c\u5148\u8ba1\u7b97\u62ec\u53f7\u5185\u7684\u8d28\u91cf \n            else\n                f2+=f1*f3;//\u4e0d\u5728\u5c31\u52a0\u5230\u603b\u8d28\u91cf\u5185 \n                continue;\t\t\n        }\n        if(s[now_x]=='(')//\u5224\u65ad\u62ec\u53f7 \n        {\n            b1=true;\n            now_x++;\n            f2=0;\n            continue;\n        }\n        if(s[now_x]==')') \n        {\n            now_x++;\n            if(s[now_x]=='_')\n            {\n                now_x+=2;\n                f3=getmath();\n                now_x++;\n            }\n            else\n                f3=1;//\u6ca1\u6709\u5199\u7cfb\u6570\u4e3a1 \n            ans+=f2*f3;//\u4e58\u4e0a\u7cfb\u6570 \n            b1=false;\n            continue;\n        }\n        if(s[now_x]=='~')//\u5904\u7406\u6c34 \n        {\n            now_x++;\n            if((s[now_x]>='0')&&(s[now_x]<='9'))\n                ans+=getmath()*18;\n            else\n                ans+=18;//\u6ca1\u5199\u7cfb\u6570\u7684\u8bdd\u5c31\u662f1 \n            break;//\u5904\u7406\u5b8c\u6c34\u5c31\u76f4\u63a5\u8df3\u51fa\uff0c\u540e\u9762\u4e0d\u4f1a\u6709\u522b\u7684\u5143\u7d20 \n        }\n    }\n    return ;\n}\nint main()\n{\n    cin>>s;\n    len=strlen(s);//\u5316\u5b66\u5f0f\u957f\u5ea6 \n    now_x=0;//\u6307\u5411\u5c06\u8981\u5904\u7406\u7684\u6570\u5b57 \n    work();\n    f4=ans;\n    f5=f4;\n    if(ans==f5)\n        printf(\"%0.0f\",ans);//\u5224\u65ad\u8f93\u51fa\u6574\u6570\u8fd8\u662f\u4e00\u4f4d\u5c0f\u6570 \n    else\n        printf(\"%0.1f\",ans);\n    return 0;\n}\n```",
        "postTime": 1529396152,
        "uid": 29210,
        "name": "cym_233",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "## **\u76f4\u63a5\u66b4\u529b\u626b\u4e00\u904d\uff0c\u54ea\u6765\u7684\u84dd\u9898\u3002**\n~~\u9876\u591a\u9ec4\u9898~~\n\u6211\u4eec\u9010\u4e2a\u6765\u5206\u6790\n\n### \u7b2c\u4e00\u6b65\uff1a\u6253\u8868\u5b58\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\n#### \u4f60\u53ef\u4ee5\u76f4\u63a5\u7528$double$\u5b58\uff0c\u8fd9\u91cc\u4e3a\u4e86\u65b9\u4fbf~~(\u4f7f\u4ee3\u7801\u66f4\u597d\u770b)~~\u5c31\u7528$map$\u5bb9\u5668\u3002\n\n```cpp\nmap<string,double> chem\n```\n\n```cpp\nvoid init(void) {//\u6253\u8868\u987a\u5e8f\u662f\u4e3a\u4e86\u8ba9\u4ee3\u7801\u66f4\u5de5\u6574\n\tchem[\"I\"]=127;//\u5b9e\u5728\u5904\u7406\u4e0d\u4e86 QwQ\n\tchem[\"H\"]=1,chem[\"Ag\"]=108,chem[\"Hg\"]=201;\n\tchem[\"O\"]=16,chem[\"Au\"]=197,chem[\"Na\"]=23;\n\tchem[\"K\"]=39,chem[\"Ca\"]=40,chem[\"Pt\"]=195;\n\tchem[\"Mg\"]=24,chem[\"Al\"]=27,chem[\"Si\"]=28;\n\tchem[\"P\"]=31,chem[\"S\"]=32,chem[\"Cl\"]=35.5;\n\tchem[\"Fe\"]=56,chem[\"Cu\"]=64,chem[\"Zn\"]=65;\n\tchem[\"Mn\"]=55,chem[\"C\"]=12,chem[\"Ba\"]=137;\n\tchem[\"Hf\"]=178.5,chem[\"N\"]=14,chem[\"F\"]=19;\n}//\u7ec8\u4e8e\u6572\u5b8c\u4e86\uff0c\u8bb0\u5f97\u68c0\u67e5\u4e00\u904d\n```\n\n### \u7b2c\u4e8c\u6b65\uff1a\u5224\u65ad\u5b57\u7b26\u4e32\u4e2d\u6bcf\u4e2a\u5b57\u7b26\u7c7b\u578b\n```cpp\n//\u5341\u8fdb\u5236\u6570\u5b57\nbool IfDNum(char ch) {\n    return (ch<='9' && ch>='0');\n}\n\n//\u5927\u5199\u5b57\u6bcd\nbool IfBLet(char ch) {\n    return (ch<='Z' && ch>='A');\n}\n\n//\u5c0f\u5199\u5b57\u6bcd\nbool IfSLet(char ch) {\n    return (ch<='z' && ch>='a');\n}\n\n//\u83b7\u53d6\u5b57\u7b26\u4e32\u67d0\u4f4d\u5f00\u59cb\u7684\u6570\u503c\nint getnum(int id) {\n\tint x=0;\n\tfor(int i=id; IfDNum(s[i]); i++) x=x*10+s[i]-'0';\n\treturn x;\n}\n```\n\n### \u7b2c\u4e09\u6b65\uff1a\u5224\u65ad\u5b57\u7b26\u4e32\u4e2d\u7684\u5143\u7d20\n#### \u5f88\u7b80\u5355\uff0c\u76f4\u63a5\u5224\u65ad\u5143\u7d20\u5c31\u53ef\u4ee5\u4e86\u3002\n```cpp\ndouble find(char ch1, char ch2='0');\n//\u53c2\u6570\u5982\u679c\u662f\u4e00\u4e2a\u5b57\u7b26\uff0c\u5c31\u662fch1\u3002'0'\u53ea\u662f\u7528\u6765\u5224\u65ad\u4e00\u4e2a\u8fd8\u662f\u4e24\u4e2a\u53c2\u6570\n```\n\n```cpp\ndouble find(char ch1, char ch2='0') {\n\t//ch2=='0'\u4e00\u4e2a\u53c2\u6570\uff0c\u67e5\u627e\u4ec5\u4e3a\u4e00\u4e2a\u5b57\u6bcd\u7684\u5316\u5b66\u5143\u7d20\n    if(ch1=='I' && ch2=='0') return chem[\"I\"];\n    if(ch1=='K' && ch2=='0') return chem[\"K\"];\n    if(ch1=='S' && ch2=='0') return chem[\"S\"];\n    if(ch1=='P' && ch2=='0') return chem[\"P\"];\n    if(ch1=='H' && ch2=='0') return chem[\"H\"];\n    if(ch1=='C' && ch2=='0') return chem[\"C\"];\n    if(ch1=='N' && ch2=='0') return chem[\"N\"];\n    if(ch1=='O' && ch2=='0') return chem[\"O\"];\n    if(ch1=='F' && ch2=='0') return chem[\"F\"];\n    \n\t//ch2!='0'\u4e24\u4e2a\u53c2\u6570\uff0c\u67e5\u627e\u4e3a\u4e24\u4e2a\u5b57\u6bcd\u7684\u5316\u5b66\u5143\u7d20\n    if(ch1=='N' && ch2!='a') return chem[\"Na\"];\n    if(ch1=='P' && ch2!='t') return chem[\"Pt\"];\n    if(ch1=='S' && ch2!='i') return chem[\"Si\"];\n    if(ch1=='M' && ch2=='g') return chem[\"Mg\"];\n    if(ch1=='A' && ch2=='l') return chem[\"Al\"];\n    if(ch1=='C' && ch2=='a') return chem[\"Ca\"];\n    if(ch1=='C' && ch2=='l') return chem[\"Cl\"];\n    if(ch1=='C' && ch2=='u') return chem[\"Cu\"];\n    if(ch1=='M' && ch2=='n') return chem[\"Mn\"];\n    if(ch1=='F' && ch2=='e') return chem[\"Fe\"];\n    if(ch1=='Z' && ch2=='n') return chem[\"Zn\"];\n    if(ch1=='A' && ch2=='g') return chem[\"Ag\"];\n    if(ch1=='B' && ch2=='a') return chem[\"Ba\"];\n    if(ch1=='H' && ch2=='f') return chem[\"Hf\"];\n    if(ch1=='A' && ch2=='u') return chem[\"Au\"];\n    if(ch1=='H' && ch2=='g') return chem[\"Hg\"];\n    return 0;//\u53ef\u4ee5\u53bb\u6389\n}\n//\u51fd\u6570\u8fd4\u56de\u503c\u662f\u5143\u7d20\u7684\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\n```\n\n### \u7b2c\u56db\u6b65\uff1a\u6c42\u89e3\u3002\n#### \u628a\u5b57\u7b26\u4e32\u89e3\u6790\u6210\u591a\u4e2a\u5316\u5b66\u5f0f\uff0c\u5e76\u5206\u522b\u8ba1\u7b97\u5206\u5b50\u8d28\u91cf\uff0c\u6700\u540e\u76f8\u52a0\u6216\u76f8\u4e58\u3002\n\u89e3\u6790\u6210**\u591a\u4e2a**\u5316\u5b66\u5f0f\n```cpp\nif(IfBLet(s[i])) {//\u5982\u679c\u662f\u5927\u5199\u5b57\u6bcd\uff0c\u4e3a\u5143\u7d20\u5f00\u5934\n\t//\u7b2c\u4e8c\u4e2a\u5b57\u6bcd\u975e\u5c0f\u5199\uff0c\u5219\u4e3a\u4e00\u4e2a\u5b57\u6bcd\u7684\u5316\u5b66\u5143\u7d20\n\tif(!IfSLet(s[i+1])) tmp=find(s[i]),sum+=tmp;\n    \u5426\u5219\u4e3a\u4e24\u4e2a\u5b57\u6bcd\u7684\u5316\u5b66\u5143\u7d20\n\telse tmp=find(s[i],s[i+1]),sum+=tmp,i++;//\u6b63\u5728\u8bfb\u53d6i+1\n\tcontinue;//\u8df3\u8fc7\u5176\u4ed6\u5224\u65ad\n}\n```\n\n\u5982\u679c\u6709**\u62ec\u53f7**\u5728\u62ec\u53f7**\u5185\u90e8**\u89e3\u6790\u5316\u5b66\u5f0f\n```cpp\nif(s[i]=='(') {//\u68c0\u6d4b\u5230\u5de6\u62ec\u53f7\n\tint ll=i+1,rr=0;\n\tfor(int j=i+1; j<=len; j++){\n\t\tif(s[j]==')') {//\u53f3\u62ec\u53f7\u7ed3\u675f\n\t\t\trr=j-1;\n\t\t\tbreak;\n\t\t}\n\t}\n\ttmp=solve(ll, rr);//\u518d\u6b21\u89e3\u6790\n\tsum+=tmp;//\u52a0\u548c\n\ti=rr+1;//\u6b63\u5728\u8bfb\u53d6\u7684i\u52a0\u5230\u5316\u5b66\u5f0f\u540e\n\tcontinue;//\u8df3\u8fc7\u5176\u4ed6\u5224\u65ad\n}\n```\n\n\u4e58\u4e0a\u539f\u5b50**\u6570\u76ee**\n```cpp\nif(s[i]=='_') {//\u68c0\u6d4b\u5230\u6570\u5b57\n\tint k=getnum(i+2);//\u83b7\u53d6\u5b57\u7b26\u4e32i+2\u4f4d\u6570\u503c\n\tfor(int j=i+1; j<=len; j++) {\n\t\tif(s[j]=='}') {//\u53f3\u62ec\u53f7\u7ed3\u675f\n\t\t\ti=j;\n\t\t\tbreak;\n\t\t}\n\t}\n\ttmp*=k-1;//\u4e58\u4e0a\u6570\u503c\uff0c\u56e0\u4e3a\u4e4b\u524d\u7b97\u8fc7\u4e00\u904d\uff0c\u6240\u4ee5\u8981-1\n\tsum+=tmp;//\u52a0\u548c\n}\n```\n\u6c42\u89e3\u51fd\u6570**\u5b8c\u6574**\u4ee3\u7801\uff1a\n```cpp\ndouble solve(int l,int r) {\n\tdouble sum=0,tmp=0;\n\tfor(int i=l; i <= r; i++) {\n\t\tif(IfBLet(s[i])) {\n\t\t\tif(!IfSLet(s[i+1])) tmp=find(s[i]),sum+=tmp ;\n\t\t\telse tmp=find(s[i],s[i+1]),sum+=tmp,i++;\n\t\t\tcontinue;\n\t\t}\n\t\tif(s[i]=='(') {\n\t\t\tint ll=i+1,rr=0;\n\t\t\tfor(int j=i+1; j<=len; j++){\n\t\t\t\tif(s[j]==')') {\n\t\t\t\t\trr=j-1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttmp=solve(ll, rr);\n\t\t\tsum+=tmp;\n\t\t\ti=rr+1;\n\t\t\tcontinue;\n\t\t}\n\t\tif(s[i]=='_') {\n\t\t\tint k=getnum(i+2);\n\t\t\tfor(int j=i+1; j<=len; j++) {\n\t\t\t\tif(s[j]=='}') {\n\t\t\t\t\ti=j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttmp*=k-1;\n\t\t\tsum+=tmp;\n\t\t}\n\t}\n\treturn sum;//\u8fd4\u56de\u5316\u5b66\u5f0f\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\n}\n```\n### \u7b2c\u4e94\u6b65\uff1amain\u51fd\u6570\u3002\n#### ~(.)\u5728$main$\u51fd\u6570\u4e2d\u76f4\u63a5\u5224\u65ad\uff0c\u6700\u540e**\u76f8\u52a0**\n\n\u7b97\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf **\u5982\u9898**\n\n>zcy \u6559\u4f60\u7b97\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\n\n1. \u6bcf\u4e2a\u5143\u7d20\u4ee5\u5927\u5199\u5f00\u5934\uff1b\n2. \u8ba1\u7b97\u5206\u5b50\u8d28\u91cf\u7684\u65b9\u6cd5\u5c31\u662f\u5bf9\u6bcf\u4e2a\u539f\u5b50\u51fa\u73b0\u7684\u6b21\u6570\u4e58\u5bf9\u5e94\u7684\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\u6c42\u548c\uff1b\n3. ~( . ) \u76f8\u5f53\u4e8e\u52a0\uff1b\n4. \u4e0b\u6807\u76f8\u5f53\u4e8e\u4e58\u3002\n\n$main()$\n```cpp\ninit(),read(s+1);//\u521d\u59cb\u5316+\u8bfb\u5165\u5b57\u7b26\u4e32\nlen=strlen(s+1);//\u83b7\u53d6\u957f\u5ea6\ndouble sum=0;\nfor(int i=1; i<=len; i++) {\n\tint l=i,r=0,k=1;\n\tfor(int j=i+1; j<=len; j++) {\n\t\tif(s[j]=='~') {\n\t\t\tr=j-1;//\u5207\u5f00\u5316\u5b66\u5f0f\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif(IfDNum(s[i])) {//\u5f97\u5230\u5206\u5b50\u6570\u76ee\n\t\tk=getnum(i);\n\t}\n\twhile(IfDNum(s[i])) i++;\n\tif(!r) r=len;\n\tsum+=solve(l, r)*k, i=r+1;//\u5206\u5b50\u8d28\u91cf*\u5206\u5b50\u6570\n    //\u6b63\u5728\u8bfb\u53d6\u7684i\u52a0\u5230\u5316\u5b66\u5f0f\u540e\n}\nreturn (int)sum==sum?printf(\"%d\\n\",(int)sum)&0:printf(\"%.1f\\n\",sum)&0;//\u6050\u6015\u53ea\u6709\u6211\u4e00\u4e2a\u4eba\u8fd9\u6837\u5199\u4e86\uff0c\u81ea\u5df1\u4f53\u4f1a\u3002\n//\u6574\u6570\u8981\u53bb0\n```\n\n\n\u6700\u540e\u9644\u4e0a~~\u9ad8\u6e05\u65e0\u7801~~\u4ee3\u7801(\u4e0d\u8981\u5410\u69fd\uff0c\u6211\u4e2a\u4eba\u6bd4\u8f83\u559c\u6b22$fread$)\n## Code:\n```cpp\n#include <map>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n\nnamespace READ {\n#define SIZE 100000\n#define ll long long\n    //fread->read\n    bool Error=0;\n    inline char nc() {\n#ifdef WIN32\n        return getchar();\n#endif\n        static char buf[SIZE],*p1=buf+SIZE,*pend=buf+SIZE;\n        if (p1==pend) {\n            p1=buf;\n            pend=buf+fread(buf,1,SIZE,stdin);\n            if (pend==p1) {\n                Error=1;\n                return -1;\n            }\n        }\n        return *p1++;\n    }\n    inline bool blank(char ch) {\n        return ch==' '||ch=='\\n'||ch=='\\r'||ch=='\\t';\n    }\n    inline void read(char *s) {\n        char ch=nc();\n        for (; blank(ch); ch=nc());\n        if (Error)return;\n        for (; !blank(ch)&&!Error; ch=nc())*s++=ch;\n        *s=0;\n    }\n#undef ll\n#undef SIZE\n};\n\nusing namespace READ;\nusing namespace std;\n\nint len;\nchar s[205];\nmap<string,double> chem;\n\nbool IfDNum(char ch) {\n\treturn (ch<='9' && ch>='0');\n}\n\nbool IfBLet(char ch) {\n\treturn (ch<='Z' && ch>='A');\n}\n\nbool IfSLet(char ch) {\n\treturn (ch<='z' && ch>='a');\n}\n\nint getnum(int id) {\n\tint x=0;\n\tfor(int i=id; IfDNum(s[i]); i++) x=x*10+s[i]-'0';\n\treturn x;\n}\n\nvoid init(void) {\n\tchem[\"I\"]=127;\n\tchem[\"H\"]=1,chem[\"Ag\"]=108,chem[\"Hg\"]=201;\n\tchem[\"O\"]=16,chem[\"Au\"]=197,chem[\"Na\"]=23;\n\tchem[\"K\"]=39,chem[\"Ca\"]=40,chem[\"Pt\"]=195;\n\tchem[\"Mg\"]=24,chem[\"Al\"]=27,chem[\"Si\"]=28;\n\tchem[\"P\"]=31,chem[\"S\"]=32,chem[\"Cl\"]=35.5;\n\tchem[\"Fe\"]=56,chem[\"Cu\"]=64,chem[\"Zn\"]=65;\n\tchem[\"Mn\"]=55,chem[\"C\"]=12,chem[\"Ba\"]=137;\n\tchem[\"Hf\"]=178.5,chem[\"N\"]=14,chem[\"F\"]=19;\n}\n\ndouble find(char ch1, char ch2='0') {\n\tif(ch1=='I' && ch2=='0') return chem[\"I\"];\n\tif(ch1=='K' && ch2=='0') return chem[\"K\"];\n\tif(ch1=='S' && ch2=='0') return chem[\"S\"];\n\tif(ch1=='P' && ch2=='0') return chem[\"P\"];\n\tif(ch1=='H' && ch2=='0') return chem[\"H\"];\n\tif(ch1=='C' && ch2=='0') return chem[\"C\"];\n\tif(ch1=='N' && ch2=='0') return chem[\"N\"];\n\tif(ch1=='O' && ch2=='0') return chem[\"O\"];\n\tif(ch1=='F' && ch2=='0') return chem[\"F\"];\n\n\tif(ch1=='N' && ch2!='0') return chem[\"Na\"];\n\tif(ch1=='P' && ch2!='0') return chem[\"Pt\"];\n\tif(ch1=='S' && ch2!='0') return chem[\"Si\"];\n\n\tif(ch1=='M' && ch2=='g') return chem[\"Mg\"];\n\tif(ch1=='A' && ch2=='l') return chem[\"Al\"];\n\tif(ch1=='C' && ch2=='a') return chem[\"Ca\"];\n\tif(ch1=='C' && ch2=='l') return chem[\"Cl\"];\n\tif(ch1=='C' && ch2=='u') return chem[\"Cu\"];\n\tif(ch1=='M' && ch2=='n') return chem[\"Mn\"];\n\tif(ch1=='F' && ch2=='e') return chem[\"Fe\"];\n\tif(ch1=='Z' && ch2=='n') return chem[\"Zn\"];\n\tif(ch1=='A' && ch2=='g') return chem[\"Ag\"];\n\tif(ch1=='B' && ch2=='a') return chem[\"Ba\"];\n\tif(ch1=='H' && ch2=='f') return chem[\"Hf\"];\n\tif(ch1=='A' && ch2=='u') return chem[\"Au\"];\n\tif(ch1=='H' && ch2=='g') return chem[\"Hg\"];\n\treturn 0;\n}\n\ndouble solve(int l,int r) {\n\tdouble sum=0,tmp=0;\n\tfor(int i=l; i <= r; i++) {\n\t\tif(IfBLet(s[i])) {\n\t\t\tif(!IfSLet(s[i+1])) tmp=find(s[i]),sum+=tmp;\n\t\t\telse tmp=find(s[i],s[i+1]),sum+=tmp,i++;\n\t\t\tcontinue;\n\t\t}\n\t\tif(s[i]=='(') {\n\t\t\tint ll=i+1,rr=0;\n\t\t\tfor(int j=i+1; j<=len; j++){\n\t\t\t\tif(s[j]==')') {\n\t\t\t\t\trr=j-1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttmp=solve(ll, rr);\n\t\t\tsum+=tmp;\n\t\t\ti=rr+1;\n\t\t\tcontinue;\n\t\t}\n\t\tif(s[i]=='_') {\n\t\t\tint k=getnum(i+2);\n\t\t\tfor(int j=i+1; j<=len; j++) {\n\t\t\t\tif(s[j]=='}') {\n\t\t\t\t\ti=j;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttmp*=k-1;\n\t\t\tsum+=tmp;\n\t\t}\n\t}\n\treturn sum;\n}\nint main(int argc,char *argv[]) {\n\tinit(),read(s+1);\n\tlen=strlen(s+1);\n\tdouble sum=0;\n\tfor(int i=1; i<=len; i++) {\n\t\tint l=i,r=0,k=1;\n\t\tfor(int j=i+1; j<=len; j++) {\n\t\t\tif(s[j]=='~') {\n\t\t\t\tr=j-1;//cnt\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(IfDNum(s[i])) {\n\t\t\tk=getnum(i);\n\t\t}\n\t\twhile(IfDNum(s[i])) i++;\n\n\t\tif(!r) r=len;\n\t\tsum+=solve(l, r)*k, i=r+1;\n\t}\n\treturn (int)sum==sum?printf(\"%d\\n\",(int)sum)&0:printf(\"%.1f\\n\",sum)&0;\n}\n```",
        "postTime": 1546839364,
        "uid": 91522,
        "name": "Catreap",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "## \u7b2c\u4e00\u6b21\u5199\u9898\u89e3\uff0c\u53bb\u5e74NOIP245\u5206\uff08\u5dee15\u5206\u7701\u4e00\uff09\u6709\u70b9\u849f\u8bf7\u539f\u8c05\n##### \u6709\u4e00\u4e2a\u5b66\u957f\u8981\u6c42\u6211\u591a\u6253\u6253\u9ad8\u96be\u5ea6\u6a21\u62df\uff0c\u7136\u540e\u6211\u82b1\u4e862\u5c0f\u65f6\u5206\u6790\u5b8c\u6210\u4e86\n\u8fd9\u9053\u9898\u5b9e\u9645\u4e0a\u5c31\u662f\u6a21\u62df\u3002\u8bfb\u53d6\u5b57\u7b26\u4e32\u8fdb\u884c\u539f\u5b50\u8d28\u91cf\u7684\u5904\u7406\n\u7136\u800c\u8981\u6ce8\u610f\u67d0\u4e9b\u9898\u76ee\u4e2d\u8bb2\u5230\u7684\u7279\u6b8a\u7b26\u53f7\u8fdb\u884c\u5904\u7406\u5c31\u884c\uff08\u4ee3\u7801\u4e2d\u8be6\u7ec6\u8bb2\u89e3\uff09\n\n~~switch case \u8bed\u53e5\u5b9e\u9645\u4e0a\u5c31\u662fif\uff0c\u4f46\u8fd9\u9053\u9898\u7528if\u4ee3\u7801\u592a\u591a\uff0c\u4ee4\u4eba\u770b\u7740\u51cc\u4e71~~\nswitch case\u53ea\u80fd\u7528int char\u7b49\u6574\u578b\u6570\u636e\uff0c\u5c0f\u6570\u548c\u6761\u4ef6\u8868\u8fbe\u5f0f\u662f\u4e0d\u5141\u8bb8\u7528\u7684\n\n```cpp\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nstring B;//\u5b57\u7b26\u4e32\nchar A[99999];//\u5148\u5b58\u5230\u6570\u7ec4\u91cc\nint num,F;//\u539f\u5b50\u4e2a\u6570\u3001\u5b57\u7b26\u4e32\u957f\u5ea6\ndouble tot,ins,now;//\u603b\u8d28\u91cf \u539f\u5b50\u56e2\u8d28\u91cf \u73b0\u5728\u7684\u539f\u5b50\u6216\u8005\u539f\u5b50\u56e2\u8d28\u91cf\nbool kh=false,stop=false,mark=false;\n  //\u662f\u5426\u5728\u62ec\u53f7\u5185,\u662f\u5426\u9700\u8981\u505c\u4e86,\u6709\u6ca1\u6709\u7ed3\u6676\u6c34\nvoid pushinto()\n{\n    if(!num) num=1;//num\u5982\u679c\u6ca1\u6709\u7edf\u8ba1 \u5c31\u8bbe\u4e3a1\n    if(kh) ins+=num*now;//\u5728\u62ec\u53f7\u5185\u63d2\u5165\u539f\u5b50\u56e2\n    else tot+=num*now;//\u5426\u5219\u63d2\u5165\u603b\u6570\n    num=0;//\u91cd\u7f6e\u539f\u5b50\u6570\u91cf\u548c\u73b0\u5728\u539f\u5b50\u8d28\u91cf\n    now=0;\n}\nint main()\n{\n    int i=0,j;\n    cin>>B;\n    memset(A,'*',sizeof(A));//\u5148\u628aA\u6807\u6210\u5176\u4ed6\u7c7b\u578b\u7684\u5b57\u7b26\n    F=B.length();\n    for(i=0;i<F;i++) A[i]=B[i];//\u7b2c\u4e00\u6b21\u6211\u76f4\u63a5\u8bfb\u53d6\u7684B[i],\u6709\u65f6\u5019\u7a0b\u5e8f\u4f1a\u5d29\u6e83\uff0c\u6240\u4ee5\u6211\u5c31\u628a\u5b57\u7b26\u4e32B\u6539\u4e3a\u5b57\u7b26\u6570\u7ec4A\n    i=0;//\u4ece\u7b2c0\u4f4d\u8bfb\u53d6\n    while((i<F)&&(!stop))//\u5b57\u7b26\u6ca1\u6709\u8bfb\u5b8c\u5e76\u4e14\u4e0d\u9700\u8981\u624b\u52a8\u505c\u6b62\n    {\n        switch(A[i])//\u5bf9\u5b57\u7b26\u6570\u7ec4\u4e00\u4e2a\u4e2a\u5224\u65ad\n        {\n            case 'A':\n            {\n                pushinto();\n                switch(A[i+1])\n                {\n                    case 'l':{now=27,i++;break;} \n                    case 'g':{now=108,i++;break;} \n                    case 'u':{now=197,i++;break;} \n                    default:break;\n                }\n                break;\n            }\n            case 'B':\n            {\n                pushinto();\n                i++;\n                now=137;\n                break;\n            }\n            case 'C':\n            {\n                pushinto();\n                switch(A[i+1])\n                {\n                    case 'l':{now=35.5;i++;break;} \n                    case 'a':{now=40;i++;break;} \n                    case 'u':{now=64;i++;break;} \n                    default: {now=12;break;} \n                }\n                break;\n            }\n            case 'F':\n            {\n                pushinto();\n                switch(A[i+1])\n                {\n                    case 'e':{now=56;i++;break;} \n                    default: {now=19;break;} \n                }\n                break;\n            }\n            case 'H':\n            {\n                pushinto();\n                switch(A[i+1])\n                {\n                    case 'f':{now=178.5;i++;break;} \n                    case 'g':{now=201;i++;break;} \n                //\tcase 'u':now=64;i++;break;\n                    default: {now=1;break;} \n                }\n                break;\n            }\n            case 'I':\n            {\n                pushinto();\n                now=127;break;\n            }\n            case 'K':\n            {\n                pushinto();\n                now=39;break;\n            }\n            case 'M':\n            {\n                pushinto();\n                switch(A[i+1])\n                {\n                    case 'g':{now=24;i++;break;} \n                    case 'n':{now=55;i++;break;} \n                    default: break;\n                }\n                break;\n            }\n            case 'N':\n            {\n                pushinto();\n                switch(A[i+1])\n                {\n                    case 'a':{now=23;i++;break;} \n                    default: {now=14;break;} \n                }\n                break;\n            }\n            case 'O':\n            {\n                pushinto();now=16;\n                break;\n            } \n            case 'P':\n            {\n                pushinto();\n                switch(A[i+1])\n                {\n                    case 't':{now=195;i++;break;} \n                    default: {now=31;break;} \n                }\n                break;\n            }\n            case 'S':\n            {\n                pushinto();\n                switch(A[i+1])\n                {\n                    case 'i':{now=28;i++;break;} \n                    default: {now=32;break;} \n                }\n                break;\n            }\n            case 'Z':{pushinto();now=65;i++;break;} \n  //----\u672c\u7ebf\u4e4b\u4e0a\u5747\u4e3a\u8bfb\u53d6\u5143\u7d20\n  //\u6ce8\u610f\uff0c\u8bfb\u5230\u65b0\u5143\u7d20\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u8fdb\u884cpushinto\u5904\u7406\n            case '_':{i++;break;} \n  //\u8bfb\u5230\u4e0b\u5212\u7ebf\u5c31\u52a0\u901f\u4e00\u6b21,\u76f4\u63a5\u8bfb\u53d6\u6570\u5b57\n            case '{':break;//\u9632\u6b62BUG\n            case '}':{pushinto();break;}\n //\u8bfb\u53d6\u5b8c\u539f\u5b50(\u56e2)\u4e0b\u6807,\u5c31\u5b58\u5165\u539f\u5b50\u56e2\u6570\u5b57\u6216\u8005\n            case '(':{pushinto();kh=1;break;}\n            case ')': {kh=0;now+=ins*max(num,1);ins=0;break;}\n  //\u5904\u7406\u4e24\u8fb9\u62ec\u53f7\n            case 48:case 49:case 50:case 51:case 52:case 53:\n            case 54:case 55:case 56:case 57:\n            {\n                num=num*10+A[i]-48;\n                break;\n            } \n  //\u8fd9\u5b9e\u9645\u4e0a\u662f\u5904\u7406\u6570\u5b570~9(\u51c6\u786e\u7684\u8bf4\u662f\u5904\u7406\u5b57\u7b26//\u4e32'0'~'9')\n            case '~':{\n                pushinto();mark=1;stop=1;\n                break;\n            }\n  //\u6709\u7ed3\u6676\u6c34\u7684\u8bdd\uff0c\u5bf9\u4e0a\u4e00\u4e2a\u5143\u7d20\u8fdb\u884c\u5904\u7406\u3002\u6807\u8bb0\u7ed3\u6676\u6c34\u5b58\u5728\uff0c\u9000\u51fa\u8bfb\u53d6\u5b57\u7b26\n            default:{stop=1;break;}\n  //\u9632\u6b62\u9519\u8bef\u7684\u5b57\u7b26\u8bfb\u5165\n        }\n        i++;//\u8bfb\u53d6\u4e0b\u4e00\u4f4d\n    }\n    pushinto();\n\tif(mark) now=18; //\u6709\u7ed3\u6676\u6c34\u7684\u8bdd\u76f4\u63a5\u6807\u8bb0\u6210\u539f\u5b50\u8d28\u91cf18,\u7136\u540e\u7ee7\u7eed\u8bfb\u53d6\u5b57\u7b26\n    while(mark&&A[i]>=48&&A[i]<=57)//\u5982\u679c\u8fd9\u4e00\u4f4d\u662f\u6570\u5b57,\u90a3\u5c31\u8bfb\u53d6\u6570\u5b57\u5904\u7406,\u5426\u5219\u76f4\u63a5pushinto(\u4e0d\u8981\u5fd8\u8bb0now=0\u65f6pushinto\u76f4\u63a5\u628anow\u770b\u505a1\uff0c\u56e0\u4e3a\u539f\u5b50\u6ca1\u6709\u7cfb\u6570)\n    {\n        num=num*10+A[i]-48;\n        i++;\n    }\n    pushinto();//\u6700\u540e\u65e0\u8bba\u5982\u4f55\u518dpushinto\u4e00\u4e0b\uff0c\u9632\u6b62\u6700\u540e\u7684\u539f\u5b50\u6ca1\u6709\u63d2\u5165\u603b\u91cf\n    cout<<tot;\n    return 0;\n}\n```\n\n```\n\n\n\n## \u5982\u679c\u9898\u89e3\u6709\u4e0d\u8db3\u4e4b\u5904\uff0c\u8bf7\u5404\u4f4d\u5927\u4f6c\u79c1\u4fe1\u6307\u51fa\uff0cthanks\n",
        "postTime": 1555152967,
        "uid": 115947,
        "name": "huangx607087",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "\u4e00\u9053\u6a21\u62df\n\n\u5148\u770b\u9898\n\n\u4e0b\u9762\u7684\u8868\u2026\u2026\n\n```\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nchar ng[5];\ndouble rr;\nint main(){\n    while(scanf(\"%s\",ng)!=EOF){\n        scanf(\"%lf\",&rr);\n        printf(\"\\tss.clear();\\n\");\n        printf(\"\\tss=\\\"%s\\\";\\n\",ng);\n        printf(\"\\txd[ss]=%g;\\n\",rr);\n        memset(ng,0,sizeof(ng));\n    }\n}\n```\n\n\u5148\u6253\u8868\u5427\uff01\n\n\u8fd9\u91cc\u7684xd\u662fmap<string,double>,ss\u4e3a\u4e00\u4e2astring\n\nng\n```\n\tss.clear();\n\tss=\"H\";\n\txd[ss]=1;\n\tss.clear();\n\tss=\"C\";\n\txd[ss]=12;\n\tss.clear();\n\tss=\"N\";\n\txd[ss]=14;\n\tss.clear();\n\tss=\"O\";\n\txd[ss]=16;\n\tss.clear();\n\tss=\"F\";\n\txd[ss]=19;\n\tss.clear();\n\tss=\"Na\";\n\txd[ss]=23;\n\tss.clear();\n\tss=\"Mg\";\n\txd[ss]=24;\n\tss.clear();\n\tss=\"Al\";\n\txd[ss]=27;\n\tss.clear();\n\tss=\"Si\";\n\txd[ss]=28;\n\tss.clear();\n\tss=\"P\";\n\txd[ss]=31;\n\tss.clear();\n\tss=\"S\";\n\txd[ss]=32;\n\tss.clear();\n\tss=\"Cl\";\n\txd[ss]=35.5;\n\tss.clear();\n\tss=\"K\";\n\txd[ss]=39;\n\tss.clear();\n\tss=\"Ca\";\n\txd[ss]=40;\n\tss.clear();\n\tss=\"Mn\";\n\txd[ss]=55;\n\tss.clear();\n\tss=\"Fe\";\n\txd[ss]=56;\n\tss.clear();\n\tss=\"Cu\";\n\txd[ss]=64;\n\tss.clear();\n\tss=\"Zn\";\n\txd[ss]=65;\n\tss.clear();\n\tss=\"Ag\";\n\txd[ss]=108;\n\tss.clear();\n\tss=\"I\";\n\txd[ss]=127;\n\tss.clear();\n\tss=\"Ba\";\n\txd[ss]=137;\n\tss.clear();\n\tss=\"Hf\";\n\txd[ss]=178.5;\n\tss.clear();\n\tss=\"Pt\";\n\txd[ss]=195;\n\tss.clear();\n\tss=\"Au\";\n\txd[ss]=197;\n\tss.clear();\n\tss=\"Hg\";\n\txd[ss]=201;\n```\n\n\u4e4b\u540e\u5206\u6790\n\n\u8fd9\u4e2a\u5f0f\u5b50\u5230\u5e95\u5206\u6210\u4e86\u4ec0\u4e48\u5462\uff1f\n\n\u6781\u5b8f\u89c2\uff1a\u6574\u4e2a\u5206\u5b50\u5f0f\uff0c~\u5207\u5272\u5206\u5b50\u5f0f\n\n\u5b8f\u89c2\uff1a\u5355\u4e2a\u5206\u5b50\u5f0f\uff0c\u7531\u5143\u7d20\u7ec4\u6210\n\n\u5fae\u89c2\uff1a\u5355\u4e2a\u5143\u7d20\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u5206\u5b50\u8d28\u91cf\u7684\u8ba1\u7b97\u662f\u7531\u8fd9\u4e09\u5c42\u9012\u8fdb\u800c\u6210\n\n\u8fd9\u91cc\u7528\u4e09\u4e2a\u6570\u8868\u793a\u4e09\u5c42\n```\ns,s1,s2\n```\n\n\u4e4b\u540e\uff0c\u6211\u4eec\u770b\u770b\n\n\u5728\u5355\u4e2a\u5206\u5b50\u5f0f\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\u524d\u7f00\u6570\u5b57\n\n\u6b64\u65f6\u6211\u4eec\u9700\u8981\u7279\u5224\n\n\u5f53\u5176\u4e3a\u8868\u8fbe\u5f0f\u7b2c\u4e00\u4e2a\u5b57\u7b26\u65f6\u5f00\u59cb\u5224\u65ad\u6570\u5b57\u5373\u53ef\n\n\u90a3\u4e48\u5c31\u6709\u4e00\u4e2a\u5f88\u6d41\u7545\u7684\u601d\u8def\n\n```\n\u78b0\u5230~\u65f6\u4ece\u7b2c\u4e8c\u5c42\u4f20\u8f93\u5230\u7b2c\u4e00\u5c42\uff08\u5355\u4e2a\u5206\u5b50\u5f0f\u7b97\u5b8c\uff09\uff0c\u5e76\u4e14\u5224\u65ad\u524d\u7f00\u6570\u5b57\n\u78b0\u5230\u5143\u7d20\u65f6\u5148\u5c06\u7b2c\u4e09\u5c42\u6570\u636e\u4f20\u5230\u7b2c\u4e8c\u5c42\uff08\u5355\u4e2a\u5143\u7d20\u7b97\u5b8c\uff09\uff0c\u540e\u8ba1\u7b97\u5230\u7b2c\u4e09\u5c42\n\u78b0\u5230_\u65f6\u83b7\u53d6\u4e0b\u6807\u6570\u5b57\u5e76\u4e0e\u7b2c\u4e09\u5c42\u76f8\u4e58\n\u78b0\u5230(\u65f6\u8ba1\u7b97\u524d\u540e\u8868\u8fbe\u5f0f\u7684\u957f\u5ea6\uff0c\u5c06\u8ba1\u7b97\u7ed3\u679c\u4fdd\u5b58\u5230\u7b2c\u4e09\u5c42\uff01\n\u4e3a\u4ec0\u4e48\u5462\uff1f\n\u56e0\u4e3a\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u53ef\u80fd\u8fd8\u6709\u4e0b\u6807\u5bf9\u5e94\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u662f\u88ab\u5f53\u505a\u4e00\u4e2a\u5143\u7d20\u7684\n```\n\u597d\u4e86\uff0c\u770b\u4ee3\u7801\n```\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<map>\n#include<string>\n#include<iostream>\n#include<cstdlib>\nusing namespace std;\nbool ib(char a){\n    return a>='A' && a<='Z';\n}\nbool is(char a){\n    return a>='a' && a<='z';\n}\nbool in(char a){\n    return a>='0' && a<='9';\n}\nmap<string , double> xd;\nchar ys[110];\nstring ss;\ndouble run(int wh,int la){\n\t//\u5de6\u53f3\u7aef \n    int now=0,rr=0,bs=1;\n    //now\u8ba1\u7b97\u62ec\u53f7\uff0crr\u8ba1\u7b97\u4e0b\u6807,bs\u8ba1\u7b97\u5355\u4e2a\u5206\u5b50\u5f0f\u7684\u524d\u7f00\u6570\u5b57 \n    double s=0,s1=0,s2=0;\n    //\u4e09\u5c42 \n    bool ks=true;\n    //\u662f\u5426\u4e3a\u5355\u4e2a\u5206\u5b50\u5f0f\u7684\u524d\u7f00\u6570\u5b57 \n    for(int i=wh;i<=la;){\n    \tif(in(ys[i]) && ks){\n    \t\t//\u5f00\u5934\u6570\u5b57 \n    \t\tprintf(\"@ktsz\\n\");\n    \t\tbs=0;\n    \t\t//\u7c7b\u4f3c\u5feb\u8bfb\u7684\u65b9\u6cd5\u8ba1\u7b97 \n    \t\twhile(in(ys[i]))\tbs=bs*10+(int)(ys[i]-'0'),++i;\n    \t}\n        else\tif(ys[i]=='('){\n        \t//\u5d4c\u5957 \n        \tprintf(\"@qt\\n\");\n        \t//now\u4e3a\u5de6\u62ec\u53f7\u6570\u91cf\u51cf\u53f3\u62ec\u53f7\u6570\u91cf \n        \tnow=1;\n        \tint ii=i;\n        \ts1+=s2;\n        \ts2=0;\n        \twhile(now){//\u5f53\u62ec\u53f7\u6570\u91cf\u4ecd\u672a\u5339\u914d\u65f6 \n        \t\t++ii;\n        \t\tif(ys[ii]=='(')\t++now;\n        \t\tif(ys[ii]==')')\t--now;\n        \t}\n        \ts2=run(i+1,ii-1);//\u5d4c\u5957\u8fd0\u7b97 \n        \ti=ii+1;\n        \t/*\n\t\t\t\u8fd9\u91cc\u80fd\u5148\u7528O(n)\u7b97\u6cd5\u5339\u914d\u62ec\u53f7\uff0c\u6211\u61d2\uff0c\u6240\u4ee5\u2026\u2026 \n\t\t\t*/ \n        }\n        if(ib(ys[i])){\n        \t//\u5143\u7d20 \n        \tprintf(\"@ys\\n\");\n        \t//\u5148\u5c06\u4e0a\u4e00\u4e2a\u5143\u7d20\u7684\u503c\u52a0\u56de\u53bb \n            s1+=s2;\n            s2=0;\n            //\u83b7\u53d6\u5143\u7d20\u540d\u5b57+ \u8ba1\u7b97 \n            ss.clear();\n            ss+=ys[i];\n            if(is(ys[++i]))  ss+=ys[i];\n            /*\n            \u8fd9\u91cc\u5f88\u4ec1\u6148\uff0c\u6ca1\u6709\u7ed9\u7c7b\u4f3cUuo\u7684\u4e09\u5b57\u7b26\u5143\u7d20\uff0c\u82e5\u771f\u8981\u7684\u8bdd\u628aif\u6362\u6210while\u518d\u52a0\u7279\u5224\uff08while\u80fd\u52a0else?\uff09 \n            */\n            else\t--i;\n            s2=xd[ss];\n        }\n        else\tif(ys[i]=='_'){\n        \t//\u4e0b\u6807 \n        \tprintf(\"@xb\\n\");\n            ++i;\n            //\u8ba1\u7b97 \n            rr=0;\n            while(in(ys[++i]))  rr=rr*10+(int)(ys[i]-'0');\n            //\u4e58\u8fdb\u53bb \n            s2*=rr;\n        }\n        else\tif(ys[i]=='~'){\n        \t//\u5206\u5272 \n        \tprintf(\"@fg\\n\");\n        \t//\u8ba1\u7b97\u597d\u5355\u4e2a\u5206\u5b50\u5f0f\u4e86 \n        \ts1+=s2;\n        \ts+=s1*bs;\n        \ts1=0;s2=0;\n        \t//\u500d\u6570\u521d\u59cb\u5316\u4e3a1\uff01\uff01\uff01 \n        \tbs=1;\n        \tks=true;\n        \t++i;\n        \tcontinue;\n        }\n        //\u5728\u4e00\u6b21\u975e\u5206\u5272\uff08\u4e0a\u8fb9continue\u4e86\uff09\u7684\u5b57\u7b26\u4e2d\uff0c\u82e5\u4e0d\u662f\u5b57\u6bcd\uff0c\u5c31\u5c06\u5f00\u59cb\u6807\u8bb0\u8bbe\u4e3afalse \n        ks=false;\n        ++i;\n    }\n    //\u8ba1\u7b97 \n    s1+=s2;\n    s+=s1*bs;\n    //\u8fd4\u56de \n    printf(\"@--------bye,rt %g\\n\",s);\n    return s;\n}\nint main(){\n\t//\u6253\u8868 \n    ss.clear();\n    ss=\"H\";\n    xd[ss]=1;\n    ss.clear();\n    ss=\"C\";\n    xd[ss]=12;\n    ss.clear();\n    ss=\"N\";\n    xd[ss]=14;\n    ss.clear();\n    ss=\"O\";\n    xd[ss]=16;\n    ss.clear();\n    ss=\"F\";\n    xd[ss]=19;\n    ss.clear();\n    ss=\"Na\";\n    xd[ss]=23;\n    ss.clear();\n    ss=\"Mg\";\n    xd[ss]=24;\n    ss.clear();\n    ss=\"Al\";\n    xd[ss]=27;\n    ss.clear();\n    ss=\"Si\";\n    xd[ss]=28;\n    ss.clear();\n    ss=\"P\";\n    xd[ss]=31;\n    ss.clear();\n    ss=\"S\";\n    xd[ss]=32;\n    ss.clear();\n    ss=\"Cl\";\n    xd[ss]=35.5;\n    ss.clear();\n    ss=\"K\";\n    xd[ss]=39;\n    ss.clear();\n    ss=\"Ca\";\n    xd[ss]=40;\n    ss.clear();\n    ss=\"Mn\";\n    xd[ss]=55;\n    ss.clear();\n    ss=\"Fe\";\n    xd[ss]=56;\n    ss.clear();\n    ss=\"Cu\";\n    xd[ss]=64;\n    ss.clear();\n    ss=\"Zn\";\n    xd[ss]=65;\n    ss.clear();\n    ss=\"Ag\";\n    xd[ss]=108;\n    ss.clear();\n    ss=\"I\";\n    xd[ss]=127;\n    ss.clear();\n    ss=\"Ba\";\n    xd[ss]=137;\n    ss.clear();\n    ss=\"Hf\";\n    xd[ss]=178.5;\n    ss.clear();\n    ss=\"Pt\";\n    xd[ss]=195;\n    ss.clear();\n    ss=\"Au\";\n    xd[ss]=197;\n    ss.clear();\n    ss=\"Hg\";\n    xd[ss]=201;\n    //IO \n    scanf(\"%s\",ys);\n    printf(\"%g\",run(0,strlen(ys)-1));\n}\n```\ncopy\u4ee3\u7801\u7684\u90fd\u5f97WA!!!",
        "postTime": 1541234916,
        "uid": 60864,
        "name": "tiger2005",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "\u4f5c\u4e3a\u4e00\u4e2a\u5408\u683c\u7684\u849f\u84bb\uff0c\u6211\u53ea\u4f1a\u4e00\u4e2a\u4e00\u4e2a\u5b57\u7b26\u5224\u65ad QAQ\u3002\n\n\u601d\u8def\uff1a\n\n1. \u8f93\u5165\u5b57\u7b26\u4e32\uff0c\u628a\u6bcf\u4e2a\u5143\u7d20\u62c6\u5206\u51fa\u6765\uff0c\u52a0\u4e0a\u5bf9\u5e94\u7684\u5206\u5b50\u8d28\u91cf\u3002\n\n2. \u5982\u679c\u6709\u500d\u6570\u5c31\u4e58\u8d77\u6765\u518d\u52a0\u5230 ans \u91cc\u3002\n\n3. \u5982\u679c\u662f\u539f\u5b50\u56e2\u5c31\u5148\u5c06\u62ec\u53f7\u91cc\u7684\u6240\u6709\u5143\u7d20\u6c42\u51fa\u540e\u518d\u4e58\u500d\u6570\u3002\n\n4. \u6c34\u5408\u7269\u5c31\u5148\u628a\u500d\u6570\u5b58\u8d77\u6765\uff0c\u518d\u628a\u6c34\u5408\u7269\u7528\u4e00\u4e2a\u53d8\u91cf\u5b58\u8d77\u6765\uff0c\u6700\u540e\u628a\u6c34\u5408\u7269\u4e58\u500d\u6570\u518d\u52a0\u5230 ans \u91cc\u3002\n\n\u6ce8\u610f\uff1a\u6c34\u5408\u7269\u5982\u679c\u524d\u9762\u6ca1\u6709\u6570\u5b57\u5c31\u9ed8\u8ba4\u4e3a 1\u3002\n\nCODE\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n\tstring s;\n\tdouble ans=0,nowc;//nowc \u8868\u793a\u73b0\u5728\u627e\u5230\u7684\u5143\u7d20\n\tdouble shui=0,shuim=0,sh=0;//\u6570\u5b57\uff0c\u72b6\u6001\uff0c\u500d\u6570 \n\tdouble kuo=0,kuom=0,ku=0;//\u540c\u4e0a\n\tint zm=0;//\u8868\u793a\u5143\u7d20\u957f\u5ea6\n\tcin>>s;//\u8f93\u5165\n\tint i;\n\tfor(i=0; i<s.length(); i++) {\n\t\tif(s[i]>='A'&&s[i]<='Z') {\n        //\u5982\u679c\u662f\u5927\u5199\u5b57\u6bcd\n\t\t\tint ymy=0;//\u6570\u5b57\n         //\u6f2b\u957f\u7684\u6253\u8868\n\t\t\tif(s[i]=='A'&&s[i+1]=='l') {\n\t\t\t\tnowc=27;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='A'&&s[i+1]=='g') {\n\t\t\t\tnowc=108;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='A'&&s[i+1]=='u') {\n\t\t\t\tnowc=197;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='B'&&s[i+1]=='a') {\n\t\t\t\tnowc=137;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='C')\t{\n\t\t\t\tnowc=12;\n\t\t\t\tzm=1;\n\t\t\t}\n\t\t\tif(s[i]=='C'&&s[i+1]=='a')\t{\n\t\t\t\tnowc=40;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='C'&&s[i+1]=='l')\t{\n\t\t\t\tnowc=35.5;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='C'&&s[i+1]=='u')\t{\n\t\t\t\tnowc=64;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='F')\t{\n\t\t\t\tnowc=19;\n\t\t\t\tzm=1;\n\t\t\t}\n\t\t\tif(s[i]=='F'&&s[i+1]=='e')\t{\n\t\t\t\tnowc=56;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='H')\t{\n\t\t\t\tnowc=1;\n\t\t\t\tzm=1;\n\t\t\t}\n\t\t\tif(s[i]=='H'&&s[i+1]=='f')\t{\n\t\t\t\tnowc=178.5;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='H'&&s[i+1]=='g')\t{\n\t\t\t\tnowc=201;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='I')\t{\n\t\t\t\tnowc=127;\n\t\t\t\tzm=1;\n\t\t\t}\n\t\t\tif(s[i]=='K')\t{\n\t\t\t\tnowc=39;\n\t\t\t\tzm=1;\n\t\t\t}\n\t\t\tif(s[i]=='M'&&s[i+1]=='g')\t{\n\t\t\t\tnowc=24;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='M'&&s[i+1]=='n')\t{\n\t\t\t\tnowc=55;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='N')\t{\n\t\t\t\tnowc=14;\n\t\t\t\tzm=1;\n\t\t\t}\n\t\t\tif(s[i]=='N'&&s[i+1]=='a')\t{\n\t\t\t\tnowc=23;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='O')\t{\n\t\t\t\tnowc=16;\n\t\t\t\tzm=1;\n\t\t\t}\n\t\t\tif(s[i]=='P')\t{\n\t\t\t\tnowc=31;\n\t\t\t\tzm=1;\n\t\t\t}\n\t\t\tif(s[i]=='P'&&s[i+1]=='t')\t{\n\t\t\t\tnowc=195;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='S')\t{\n\t\t\t\tnowc=32;\n\t\t\t\tzm=1;\n\t\t\t}\n\t\t\tif(s[i]=='S'&&s[i+1]=='i')\t{\n\t\t\t\tnowc=28;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tif(s[i]=='Z'&&s[i+1]=='n')\t{\n\t\t\t\tnowc=65;\n\t\t\t\tzm=2;\n\t\t\t}\n\t\t\tfor(int j=i+zm+2; s[j]>='0'&&s[j]<='9'; j++)\n\t\t\t\tymy=ymy*10+(s[j]-'0');//\u5224\u65ad\u6570\u91cf\n\n\t\t\tif(s[i+zm]=='_'&&!shuim&&!kuom)ans+=nowc*ymy;\n\t\t\telse if(s[i+zm]=='_'&&shuim)shui+=nowc*ymy;\n\t\t\telse if(shuim&&s[i+zm]=='_')shui+=nowc*ymy;\n\t\t\telse if(shuim)shui+=nowc;\n\t\t\telse if(kuom&&s[i+zm]=='_')kuo+=nowc*ymy;\n\t\t\telse if(kuom)kuo+=nowc;\n\t\t\telse ans+=nowc;\n\t\t} //\u5224\u65ad\u8981\u52a0\u5230\u54ea\u4e00\u7c7b\u91cc\n\t\t\n\t\telse if(s[i]=='~') {//\u6c34\u5408\u7269\n\t\t\tshuim=1;\n         //\u540e\u9762\u7684\u5143\u7d20\u5168\u90e8\u52a0\u5230\u6c34\u5408\u7269\u91cc\u6700\u540e\u7edf\u4e00\u4e58\n\t\t\tfor(int j=i+1; s[j]>='0'&&s[j]<='9'; j++)\n\t\t\t\tsh=sh*10+(s[j]-'0');//\u6c34\u5408\u7269\u7684\u500d\u6570\n\t\t\tif(sh==0)sh=1;//\u5982\u679c\u6ca1\u6709\u5219\u9ed8\u8ba4\u4e3a 1 \n\t\t} \n\t\t\n\t\telse if(s[i]=='(')kuom=1;\n        //\u5de6\u62ec\u53f7\u4ee3\u8868\u539f\u5b50\u56e2\u51fa\u73b0\uff0c\u5148\u5b58\u5230\u7279\u5b9a\u53d8\u91cf\u91cc\n\t\t\n\t\t\n\t\telse if(s[i]==')') {\n\t\t\tfor(int j=i+3; s[j]>='0'&&s[j]<='9'; j++)\n\t\t\t\tku=ku*10+(s[j]-'0');//\u6c42\u500d\u6570\n\t\t\t\tans+=kuo*ku;//\u52a0\u5230\u7b54\u6848\u91cc\n\t\t\t\tkuom=0;\n\t\t\t\tku=0;\n\t\t}\n\t}\n\nans+=shui*sh;//\u6c34\u5408\u7269\u4e58\u8d77\u6765\u52a0\u5230 ans \ncout<<ans;\nreturn 0;\n}\n```\n",
        "postTime": 1630113244,
        "uid": 373293,
        "name": "_Hikouwastaken_",
        "ccfLevel": 5,
        "title": "\u3010\u9898\u89e3\u3011P4711"
    },
    {
        "content": "## \u3010\u6dfc\u3011+\u8bc4\u4ef7\n\u8fd9\u9053\u9898\u5bf9\u672c\u849f\u84bb\u6765\u8bf4**\u6bd4\u8f83\u7279\u522b**\uff0c\u56e0\u4e3a\u8fd9\u662f\u672c\u4eba$\\color{green}\\ {AC}$ \u7684**\u7b2c\u4e00\u9053\u7eff\u9898**\uff01\n\n\u8fd9\u662f\u4e00\u9053\u6bd4\u8f83\u6709\u96be\u5ea6\u7684\u6a21\u62df\u9898\uff0c\u636e\u5404\u4f4d\u9898\u89e3\u533a\u7684\u5927\u4f6c\u8bf4\uff0c\u8fd9\u9053\u9898**\u66fe\u7ecf\u662f\u84dd\u9898**\uff1f\uff01\n\n\u672c\u9898**\u7ec6\u8282\u8f83\u591a**\uff0c\u63a5\u4e0b\u6765\u4f1a\u4e00\u4e00\u8be6\u7ec6\u8bf4\u660e\u3002\n## \u9898\u76ee\u5927\u610f\n\u7ed9\u51fa\u4e00\u4e2a\u5316\u5b66\u5f0f\uff0c\u6c42\u7ed9\u5b9a\u7269\u8d28\u7684\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3002\n\n\u5316\u5b66\u5f0f\u683c\u5f0f\u5927\u5bb6\u5e94\u8be5\u90fd\u770b\u8fc7\u4e86\uff0c\u5c31\u4e0d\u7ec6\u8bb2\u4e86\u3002[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P4711)\n## \u666e\u53ca\u70b9\n\u672c\u9898\u4f7f\u7528```string```\u7c7b\u578b\u5b57\u7b26\u4e32\uff0c\u4f1a\u7528\u5230\u4ee5\u4e0b\u51e0\u79cd\u5b57\u7b26\u4e32\u51fd\u6570\uff1a\n\n1. ```s.find(a,b)```\uff1a\u4ece\u5b57\u7b26\u4e32 $s$ \u7684\u7b2c $b$ \u4e2a\u5b57\u7b26\u8d77\u5bfb\u627e\u5b57\u7b26\u4e32 $a$ \uff0c\u627e\u5230\u5219\u8fd4\u56de\u7b2c\u4e00\u4e2a\u627e\u5230\u7684\u4f4d\u7f6e\uff0c\u5426\u5219\u8fd4\u56de $-1$ \u3002\u5176\u4e2d $b$ \u53ef\u4ee5\u7701\u7565\u3002\n1. ```s.substr(a,b)```\uff1a\u622a\u53d6\u4ece $s$ \u5b57\u7b26\u4e32\u4e2d\u7684\u7b2c $a$ \u4e2a\u5b57\u7b26\u8d77\u7684 $b$ \u4e2a\u5b57\u7b26\u3002\n\n## \u601d\u8def\n\u672c\u4eba\u7684\u601d\u8def\uff1a\n```cpp\ndouble read(string a){\n\tdouble s=0,t=0; //s\u5b58\u653e\u603b\u8d28\u91cf\uff0ct\u5b58\u653e\u76ee\u524d\u5f85\u5904\u7406\u7684\u5143\u7d20\n```\n\n### 1. \u51c6\u5907\u5de5\u4f5c\n\u5148\u5bf9\u7740\u9644\u8868\u6253\u4e24\u4e2a\u8868\uff0c\u4e00\u4e2a\u5b58\u5143\u7d20\uff0c\u4e00\u4e2a\u5b58\u5bf9\u5e94\u8d28\u91cf\uff08\u8981\u7528```double```\u7c7b\u578b\uff09\uff0c\u4e0b\u6807\u5bf9\u9f50\uff08\u4e5f\u53ef\u4ee5\u7528\u7ed3\u6784\u4f53\uff09\uff1a\n```cpp\nconst string y[]={\" \",\"H\",\"C\",\"N\",\"O\",\"F\",\"Na\",\"Mg\",\"Al\",\"Si\",\"P\",\"S\",\"Cl\",\"K\",\"Ca\",\"Mn\",\"Fe\",\"Cu\",\"Zn\",\"Ag\",\"I\",\"Ba\",\"Hf\",\"Pt\",\"Au\",\"Hg\"};\nconst double no[]={0,1,12,14,16,19,23,24,27,28,31,32,35.5,39,40,55,56,64,65,108,127,137,178.5,195,197,201};\n//\u6253\u8868\uff08\u672c\u4eba\u559c\u6b22\u4ece\u4e0b\u68071\u5b58\u8d77\uff09 \n```\n\u63a5\u7740\u5199\u6bd4\u8f83\u51fd\u6570\uff0c```string```\u7c7b\u578b\u7684\u597d\u5904\u6765\u4e86\uff1a\u53ef\u4ee5\u50cf\u6570\u5b57\u4e00\u6837\u76f4\u63a5\u6bd4\u8f83\uff01\n```cpp\ndouble fi(string a){\n\tfor(int i=1;i<=25;i++)\n\t\tif(y[i]==a) //string\u7684\u597d\u5904\uff1a\u53ef\u4ee5\u76f4\u63a5\u6bd4\u8f83 \n\t\t\treturn no[i];  \n\treturn -1;\n} //\u5bfb\u627e\u5bf9\u5e94\u7684\u5206\u5b50\u8d28\u91cf \n```\n### 2.\u5904\u7406\u5b57\u7b26\u4e32\n$i$ \u4ee3\u8868\u73b0\u5728\u6b63\u5728\u5904\u7406\u5b57\u7b26\u4e32 $a$ \u4e2d\u7b2c\u51e0\u4e2a\u5b57\u7b26\uff0c\u5728\u5faa\u73af\u91cc\u53ef\u4ee5\u589e\u51cf\u3002\n```\n\tfor(int i=0;i<a.size();i++){\n       //\u5904\u7406     \n    }\n```\n\u5b57\u7b26\u4e32\u4e2d\u7684\u5b57\u7b26\u6709\u51e0\u79cd\u8981\u91cd\u70b9\u6ce8\u610f\uff1a\n\n1. ```'('```\uff1a\u8981\u622a\u51fa\u62ec\u53f7\u5185\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u7528```a.find()```\u548c```a.substr()```\u5d4c\u5957\uff1a\n```cpp\nif(a[i]=='(') t=read(a.substr(i+1,a.find(')')-i)),i=a.find(')')+1; //\u8fd9\u91cc\u628a\u540e\u9762\u7684')'\u4e5f\u622a\u4e86\u8fdb\u53bb\uff0c\u5bf9\u5e94\u4e0b\u65b9\u7684\u5224\u65ad\n\telse if(a[i]==')') return s;\n```\n1. ```'_'```\uff1a\u9047\u5230\u8fd9\u4e2a\u5b57\u7b26\u65f6\u4e0d\u80fd\u76f4\u63a5\u52a0\uff0c\u540e\u9762\u8fd8\u8ddf\u7740\u5143\u7d20\u6570\u91cf\uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u7528\u5feb\u8bfb\u601d\u60f3\u8bfb\u5165\u6570\u91cf\uff0c\u518d\u8c03\u7528**\u5f85\u5904\u7406\u7684\u5143\u7d20\u8d28\u91cf** $t$ \u4e58\u4e0a\u6570\u91cf\uff1a\n```cpp\n\tif(a[i]=='_'){\n\t\tdouble s2=0;\n\t\tfor(i+=2;a[i]>='0'&&a[i]<='9';i++)\n        //i+=2 \u8df3\u8fc7'_'\u548c'{'\n\t\t\ts2=s2*10+(a[i]-'0');\n\t\ts+=t*s2;\n\t}\n```\n1. ```'~'```\uff1a\u5b57\u7b26\u4e32\u7684\u7ed3\u5c3e\uff0c\u540e\u9762\u8ddf\u6570\u91cf\u548c```H_{2}O```\u3002\u65e2\u7136```H_{2}O=18```\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u7528 $s2 \\times 18$ \u5373\u53ef\uff0c\u5176\u4e2d $s2$ \u662f\u6570\u91cf\u3002\n\n**\u91cd\u70b9**\uff1a\u6c34\u4e4b\u524d\u5982\u679c\u5b58\u5728\u6570\u5b57\uff0c\u4fdd\u8bc1\u4e00\u5b9a\u662f\u5927\u4e8e 2 \u7684\u6b63\u6574\u6570\uff0c**\u5982\u679c\u7701\u7565\u8be5\u90e8\u5206\u5219\u9ed8\u8ba4\u4e3a 1**\u3002\n\n```cpp\nif(a[i]=='~'){\n\t\tdouble s2=0;\n\t\tif(a[i+1]=='H') return 18+s; //\u4e0d\u52a0\u7684\u8bdd #12 \u4f1a\u9519 \n\t\tfor(i+=1;a[i]>='0'&&a[i]<='9';i++)\n\t\t\ts2=s2*10+(a[i]-'0');\n\t\ts+=s2*18; return s;\n\t}\n```\n\n\n## AC\u4ee3\u7801\n\u4e3a\u4e86\u60a8\u4e0d\u88ab\u68d5\uff0c\u8bf7\u4e0d\u8981\u6284\u88ad\u4ee3\u7801\uff01\n```cpp\n//P4711 AC\u4ee3\u7801 \n#include<bits/stdc++.h>\nusing namespace std; //\u4e07\u80fd\u5f00\u5934 \nconst string y[]={\" \",\"H\",\"C\",\"N\",\"O\",\"F\",\"Na\",\"Mg\",\"Al\",\"Si\",\"P\",\"S\",\"Cl\",\"K\",\"Ca\",\"Mn\",\"Fe\",\"Cu\",\"Zn\",\"Ag\",\"I\",\"Ba\",\"Hf\",\"Pt\",\"Au\",\"Hg\"};\nconst double no[]={0,1,12,14,16,19,23,24,27,28,31,32,35.5,39,40,55,56,64,65,108,127,137,178.5,195,197,201};\n//\u6253\u8868 \ndouble fi(string a){\n\tfor(int i=1;i<=25;i++)\n\t\tif(y[i]==a) //string\u7684\u597d\u5904\uff1a\u53ef\u4ee5\u76f4\u63a5\u6bd4\u8f83 \n\t\t\treturn no[i];  \n\treturn -1;\n} //\u5bfb\u627e\u5bf9\u5e94\u7684\u5206\u5b50\u8d28\u91cf \ndouble read(string a){ //\u6838\u5fc3 \n\tdouble s=0,t=0; //s\u5b58\u653e\u603b\u8d28\u91cf\uff0ct\u5b58\u653e\u76ee\u524d\u5f85\u5904\u7406\u7684\u5143\u7d20 \n\tfor(int i=0;i<a.size();i++){\n\t\tif(a[i]>='A'&&a[i]<='Z'){ //\u627e\u5230\u4e00\u4e2a\u5143\u7d20 \n\t\t\tif(a[i+1]>='a'&&a[i+1]<='z'&&i<a.size()-1){ //\u5224\u65ad\u5143\u7d20\u957f\u5ea6+\u9632\u8d8a\u754c\u64cd\u4f5c \n\t\t\t\tif(!(a[i-1]>='A'&&a[i-1]<='Z'||(a[i-1]>='a'&&a[i-1]<='z')||a[i-1]=='}')) s+=t;\n\t\t\t\t//\u675c\u7edd\u91cd\u590d\u8ba1\u7b97\uff01\uff01 \n\t\t\t\tt=fi(a.substr(i,2)); //\u622a2\u4e2a\u5b57\u7b26 \n\t\t\t}\n\t\t\telse{\n\t\t\t\tt=fi(a.substr(i,1)); //\u4e00\u4e2a\u5b57\u7b26\u5c31\u591f\u4e86 \n\t\t\t\tif(a[i+1]!='_') s+=t; \n\t\t\t}\n\t\t}\n\t\telse if(a[i]>='a'&&a[i]<='z'&&a[i+1]!='_') s+=t;\n\t\telse if(a[i]=='(') t=read(a.substr(i+1,a.find(')')-i)),i=a.find(')')+1;\n\t\t//i\u53d8\u4e86\uff0c\u6240\u4ee5\u4e0b\u65b9\u7684 if(a[i]=='_') \u4e0d\u52a0else \n\t\telse if(a[i]==')') return s;\n\t\tif(a[i]=='_'){\n\t\t\tdouble s2=0;\n\t\t\tfor(i+=2;a[i]>='0'&&a[i]<='9';i++)\n\t\t\t\ts2=s2*10+(a[i]-'0');\n\t\t\ts+=t*s2;\n\t\t}\n\t\telse if(a[i]=='~'){\n\t\t\tdouble s2=0;\n\t\t\tif(a[i+1]=='H') return 18+s; //\u4e0d\u52a0\u7684\u8bdd #12 \u4f1a\u9519 \n\t\t\tfor(i+=1;a[i]>='0'&&a[i]<='9';i++)\n\t\t\t\ts2=s2*10+(a[i]-'0');\n\t\t\ts+=s2*18; return s;\n\t\t}\n\t}\n\treturn s; //\u5343\u4e07\u522b\u5fd8\u52a0\u4e86\uff01 \n}\nint main(){\n\tstring a; cin>>a;\n\tcout<<read(a);\n\treturn 0; //\u6781\u77ed\u4e3b\u4ee3\u7801\uff0c\u522b\u5fd8\u4e86\u8fd9\u884c \n}\n```\n\u5236\u4f5c\u4e0d\u6613\uff0c\u6c42\u901a\u8fc7\uff0c\u6c42\u70b9\u8d5e\uff01",
        "postTime": 1624931573,
        "uid": 390228,
        "name": "DWT8125",
        "ccfLevel": 0,
        "title": "P4711 \u9898\u89e3"
    },
    {
        "content": "\u4e3a\u4e86\u8ddf\u4e0ayg\u5927\u795e\u8c1c\u4e00\u6837\u7684\u6b65\u4f10,\u672c\u849f\u84bb\u53c8\u56de\u5f52\u4e86......\n\n\u56de\u5f52\u540e\u4fbf\u9009\u62e9\u4e86\u8fd9\u9898,\u4e0e\u65b0\u4e0a\u7684\u5b66\u79d1\u6709\u5173,\u987a\u4fbf\u628a\u5143\u7d20\u8868\u80cc\u4e86......\n\n\u601d\u8def:\u4e0e\u5176\u8fb9\u8bfb\u8fb9\u505a,\u6700\u540e\u6240\u6709\u53d8\u91cf\u90fd\u6df7\u4e71\u4e86,\u4e0d\u5982\u5148\u628a\u7ed9\u7684\u8868\u8fbe\u5f0f\u8f6c\u5316\u4e3a\u57fa\u672c\u6b63\u5e38\u7684\u5316\u5b66\u5f0f.\n\u7136\u540e\u518d\u6309\u9898\u610f\u8fdb\u884c\u6a21\u62df\u5c31AC\u4e86.\n\nCode:\n```#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<cstdlib>\n#include<algorithm>\n#include<ctime>\n#include<map>\nusing namespace std;\nint len,x,n,yg;//len\u662f\u5904\u7406\u540e\u7684\u5b57\u7b26\u4e32\u957f\u5ea6,x\u4e3a\u5b57\u7b26\u4e32\u6570\u7ec4\u4e0b\u6807,n\u7684\u4f5c\u7528\u662f\u5904\u7406\u7cfb\u6570,yg\u7528\u4e8e\u6700\u540e\u5bf9\u7ed3\u679c\u8f93\u51fa\u662f\u6574\u6570\u8fd8\u662f\u5c0f\u6570\u7684\u5224\u65ad\nchar c;//c\u4e3a\u4e00\u5f00\u59cb\u8981\u8bfb\u5165\u7684\u5b57\u7b26\ndouble ans,tot;//ans\u4e3a\u7b54\u6848,tot\u7528\u4e8e\u5904\u7406\u62ec\u53f7\u91cc\u7684\u5316\u5b66\u5f0f,\u672c\u9898\u660e\u786e\u8bf4\u660e\u4e86\u6ca1\u6709\u62ec\u53f7\u5d4c\u5957\u7684\u60c5\u51b5\u51fa\u73b0,\u5426\u5219\u5c31\u9700\u8981\u5f00\u4e00\u4e2atot\u6570\u7ec4\u4e86\nstring s,ts;//s\u4e3a\u5904\u7406\u597d\u7684\u5b57\u7b26\u4e32,ts\u4e3a\u5f53\u524d\u6b63\u5728\u5904\u7406\u7684\u5316\u5b66\u5143\u7d20\nbool flag=false;//flag\u4e3a\u5224\u65ad\u662f\u5426\u5728\u62ec\u53f7\u4e2d\u7684bool\u578b\u53d8\u91cf\nmap <string,double> Map;//\u4e07\u80fd\u7684map\nvoid start(){\n    Map[\"H\"]=1.0;\n    Map[\"C\"]=12.0;\n    Map[\"N\"]=14.0;\n    Map[\"O\"]=16.0;\n    Map[\"F\"]=19.0;\n    Map[\"Na\"]=23.0;\n    Map[\"Mg\"]=24.0;\n    Map[\"Al\"]=27.0;\n    Map[\"Si\"]=28.0;\n    Map[\"P\"]=31.0;\n    Map[\"S\"]=32.0;\n    Map[\"Cl\"]=35.5;\n    Map[\"K\"]=39.0;\n    Map[\"Ca\"]=40.0;\n    Map[\"Mn\"]=55.0;\n    Map[\"Fe\"]=56.0;\n    Map[\"Cu\"]=64.0;\n    Map[\"Zn\"]=65.0;\n    Map[\"Ag\"]=108.0;\n    Map[\"I\"]=127.0;\n    Map[\"Ba\"]=137.0;\n    Map[\"Hf\"]=178.5;\n    Map[\"Pt\"]=195.0;\n    Map[\"Au\"]=197.0;\n    Map[\"Hg\"]=201.0;\n}//\u5316\u5b66\u5143\u7d20\u8868,\u5168\u90e8\u5b58\u8fdbmap\u91cc\nint main(){\n    start();\n    while(~scanf(\"%c\",&c)){//\u8fd9\u662f\u8bfb\u5165\u7684\u4e00\u79cd\u5c0f\u6280\u5de7,\u5b57\u7b26\u4e32\u5355\u4e2a\u5b57\u6bcd\u8bfb\u5165\u4e13\u7528\n        if((c>='A'&&c<='Z')||(c>='a'&&c<='z')||c=='('||c==')'){//\u5982\u679c\u662f\u5b57\u6bcd,\u6216\u662f\u62ec\u53f7,\u65e0\u9700\u5904\u7406,\u76f4\u63a5\u52a0\u5165\u5b57\u7b26\u4e32\n            s+=c;//string\u578b\u53ef\u4ee5\u76f4\u63a5\u628a\u5b57\u7b26\u62fc\u63a5\u5230\u540e\u9762,\u540e\u9762\u7684\u4ee3\u7801\u4e0d\u518d\u8d58\u8ff0\n        }\n        else if(c=='_'){//\u5982\u679c\u662f'_'\n            scanf(\"%c\",&c);//\u8bfb\u5165\u65e0\u7528\u7684'{'\n            scanf(\"%c\",&c);//\u8bfb\u5165\u7b2c\u4e00\u4e2a\u5b57\u7b26\n            while(c>='0'&&c<='9'){//\u5982\u679c\u7b2c\u4e00\u4e2a\u8bfb\u5165\u7684\u662f\u6570\u5b57,\u90a3\u4e48\u6301\u7eed\u8bfb\u5165\u6570\u5b57\n                s+=c;\n                scanf(\"%c\",&c);\n            }//\u5982\u679c\u7b2c\u4e00\u4e2a\u8bfb\u5165\u7684\u4e0d\u662f\u6570\u5b57,\u5219\u662f\u65e0\u7528\u7684'}',\u5bf9\u5904\u7406\u7ed3\u679c\u65e0\u5f71\u54cd\n        }\n        else if(c=='~'){//\u5982\u679c\u662f'~'\n            scanf(\"%c\",&c);//\u8bfb\u5165\u7b2c\u4e00\u4e2a\u5b57\u7b26\n            if(c=='H'){//\u5982\u679c\u8bfb\u5165\u7684\u7b2c\u4e00\u4e2a\u662f'H',\u5219\u8bf4\u660e\u6c34\u5408\u7269\u7cfb\u6570\u4e3a1\n                s+='~';//\u5b57\u7b26\u4e32\u540e\u52a0\u4e0a'~',\u65b9\u4fbf\u5224\u65ad\u662f\u6c34\u5408\u7269\n                s+='1';//\u52a0\u4e0a\u5176\u7cfb\u65701\n                scanf(\"%c\",&c);//\u8bfb\u5165\u65e0\u7528\u7684'_'\n                scanf(\"%c\",&c);//\u8bfb\u5165\u65e0\u7528\u7684'{'\n                scanf(\"%c\",&c);//\u8bfb\u5165\u65e0\u7528\u7684'2'\n                scanf(\"%c\",&c);//\u8bfb\u5165\u65e0\u7528\u7684'}'\n                scanf(\"%c\",&c);//\u8bfb\u5165\u65e0\u7528\u7684'O'\n            }\n            else{//\u5982\u679c\u8bfb\u5165\u7684\u7b2c\u4e00\u4e2a\u4e0d\u662f'H',\u5219\u8bf4\u660e\u6c34\u5408\u7269\u7cfb\u6570\u4e0d\u4e3a1\n                s+='~';//\u5b57\u7b26\u4e32\u540e\u52a0\u4e0a'~',\u65b9\u4fbf\u5224\u65ad\u662f\u6c34\u5408\u7269\n                while(c>='0'&&c<='9'){//\u6301\u7eed\u8bfb\u5165\u6570\u5b57\n                    s+=c;\n                    scanf(\"%c\",&c);\n                }//\u5728\u8bfb\u5165\u6570\u5b57\u65f6\u5df2\u7ecf\u8bfb\u8fc7\u65e0\u7528\u7684'H'\n                scanf(\"%c\",&c);//\u8bfb\u5165\u65e0\u7528\u7684'_'\n                scanf(\"%c\",&c);//\u8bfb\u5165\u65e0\u7528\u7684'{'\n                scanf(\"%c\",&c);//\u8bfb\u5165\u65e0\u7528\u7684'2'\n                scanf(\"%c\",&c);//\u8bfb\u5165\u65e0\u7528\u7684'}'\n                scanf(\"%c\",&c);//\u8bfb\u5165\u65e0\u7528\u7684'O'\n            }\n        }\n    }\n    len=s.size();//string\u7c7b\u578b\u7684\u5b57\u7b26\u4e32\u957f\u5ea6\u7528.size()\n    while(x<len){//\u5faa\u73af\n        if(s[x]=='('){//\u5982\u679c\u662f'('\n            flag=true;//flag\u6807\u8bb0\u4e3a\u771f\n        }\n        if(flag){//\u5982\u679cflag\u4e3a\u771f,\u5373\u5df2\u7ecf\u5904\u4e8e\u62ec\u53f7\u4e2d\n            tot=0.0;//\u6e05\u96f6\uff01\uff01\uff01\n            x++;//\u4e0b\u6807++\n            while(s[x]!=')'){//\u5982\u679c\u8fd8\u6ca1\u8bfb\u5230')',\u5373\u4f9d\u65e7\u5904\u5728\u62ec\u53f7\u4e2d\n                if(s[x]>='A'&&s[x]<='Z'&&s[x+1]>='a'&&s[x+1]<='z'){//\u5982\u679c\u662f\u4e24\u4e2a\u5b57\u6bcd\u7684\u5143\u7d20\n                    ts=\"\";//\u6e05\u7a7a\uff01\uff01\uff01\n                    ts+=s[x],ts+=s[x+1];//\u52a0\u4e0a\u8fd9\u4e24\u4e2a\u5b57\u6bcd\n                    x+=2;//\u4e0b\u6807+2\n                    n=0;//\u6e05\u96f6\uff01\uff01\uff01\n                    if(s[x]>='0'&&s[x]<='9'){//\u5c06\u6b64\u5143\u7d20\u7cfb\u6570\u5904\u7406\u51fa\u6765\n                        while(s[x]>='0'&&s[x]<='9'){\n                            n=n*10+(s[x]-'0');\n                            x++;\n                        }\n                    }\n                    if(n>1){//\u5982\u679c\u7cfb\u6570\u5927\u4e8e1\n                        tot+=Map[ts]*n;//tot\u52a0(\u5143\u7d20\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\u4e58\u4e0a\u7cfb\u6570)\n                    }\n                    else{\n                        tot+=Map[ts];//\u5426\u5219tot\u52a0\u5143\u7d20\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\n                    }\n                }\n                else if(s[x]>='A'&&s[x]<='Z'){//\u5982\u679c\u53ea\u662f\u5355\u4e2a\u5b57\u6bcd\u7684\u5143\u7d20\n                    ts=\"\";//\u6e05\u7a7a\uff01\uff01\uff01\n                    ts+=s[x];//\u52a0\u4e0a\u8fd9\u4e00\u4e2a\u5b57\u6bcd\n                    x++;//\u4e0b\u6807++\n                    n=0;//\u6e05\u96f6\uff01\uff01\uff01\n                    if(s[x]>='0'&&s[x]<='9'){//\u5c06\u6b64\u5143\u7d20\u7cfb\u6570\u5904\u7406\u51fa\u6765\n                        while(s[x]>='0'&&s[x]<='9'){\n                            n=n*10+(s[x]-'0');\n                            x++;\n                        }\n                    }\n                    if(n>1){//\u5982\u679c\u7cfb\u6570\u5927\u4e8e1\n                        tot+=Map[ts]*n;//tot\u52a0(\u5143\u7d20\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\u4e58\u4e0a\u7cfb\u6570)\n                    }\n                    else{\n                        tot+=Map[ts];//\u5426\u5219tot\u52a0\u5143\u7d20\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\n                    }\n                }\n                else if(s[x]=='~'){//\u5982\u679c\u662f'~'\n                    x++;//\u4e0b\u6807++\n                    n=0;//\u6e05\u96f6\uff01\uff01\uff01\n                    if(s[x]>='0'&&s[x]<='9'){//\u5c06\u6c34\u5408\u7269\u7cfb\u6570\u5904\u7406\u51fa\u6765\n                        while(s[x]>='0'&&s[x]<='9'){\n                            n=n*10+(s[x]-'0');\n                            x++;\n                        }\n                    }\n                    tot+=n*18.0;//\u6ce8\u610f,\u6c34\u7684\u5143\u7d20\u8d28\u91cf\u4e3aH2O=(1\u00d72+16)=18,\u76f4\u63a5\u7528\u5176\u4e58\u4e0a\u7cfb\u6570\u5373\u53ef\n                }\n            }\n            x++;//\u4e0b\u6807++\n            n=0;//\u6e05\u96f6\uff01\uff01\uff01\n            if(s[x]>='0'&&s[x]<='9'){//\u5c06\u6574\u4e2a\u62ec\u53f7\u7684\u7cfb\u6570\u5904\u7406\u51fa\u6765\n                while(s[x]>='0'&&s[x]<='9'){\n                    n=n*10+(s[x]-'0');\n                    x++;\n                }\n            }\n            if(n>1){//\u5982\u679c\u7cfb\u6570\u5927\u4e8e1\n                ans+=tot*n;//\u7b54\u6848\u52a0\u4e0a(tot\u4e58\u4e0a\u7cfb\u6570)\n            }\n            else{\n                ans+=tot;//\u5426\u5219\u76f4\u63a5\u52a0\u4e0atot\n            }\n            flag=false;\n        }//\u62ec\u53f7\u5916\u7684\u5904\u7406\u4e0e\u62ec\u53f7\u5185\u7684\u4e00\u6a21\u4e00\u6837,\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\n        else if(s[x]>='A'&&s[x]<='Z'&&s[x+1]>='a'&&s[x+1]<='z'){\n            ts=\"\";\n            ts+=s[x],ts+=s[x+1];\n            x+=2;\n            n=0;\n            if(s[x]>='0'&&s[x]<='9'){\n                while(s[x]>='0'&&s[x]<='9'){\n                    n=n*10+(s[x]-'0');\n                    x++;\n                }\n            }\n            if(n>1){\n                ans+=Map[ts]*n;\n            }\n            else{\n                ans+=Map[ts];\n            }\n        }\n        else if(s[x]>='A'&&s[x]<='Z'){\n            ts=\"\";\n            ts+=s[x];\n            x++;\n            n=0;\n            if(s[x]>='0'&&s[x]<='9'){\n                while(s[x]>='0'&&s[x]<='9'){\n                    n=n*10+(s[x]-'0');\n                    x++;\n                }\n            }\n            if(n>1){\n                ans+=Map[ts]*n;\n            }\n            else{\n                ans+=Map[ts];\n            }\n        }\n        else if(s[x]=='~'){\n            x++;\n            n=0;\n            if(s[x]>='0'&&s[x]<='9'){\n\n                while(s[x]>='0'&&s[x]<='9'){\n                    n=n*10+(s[x]-'0');\n                    x++;\n                }\n            }\n            ans+=n*18.0;\n        }\n    }\n    yg=(int)ans;\n    if(ans==(double)yg){\n        printf(\"%d\",yg);\n    }\n    else{\n        printf(\"%.1f\",ans);\n    }//\u6700\u540e\u7531\u4e8eans\u5b9a\u4e49\u7684\u662fdouble\u578b,\u6240\u4ee5\u9700\u8981\u5224\u65ad\u7b54\u6848\u662f\u5426\u4e3a\u6574\u6570,\u82e5\u4e3a\u6574\u6570,\u5219\u8f93\u51fa\u5176\u6574\u6570\u5f62\u5f0f,\u5426\u5219\u8f93\u51fa\u5176\u5c0f\u6570\u5f62\u5f0f\n    return 0;\n}```\n",
        "postTime": 1530712896,
        "uid": 31021,
        "name": "Limerick",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "\u6069\u8fd9\u9898\u5176\u5b9e\u5e76\u6ca1\u6709\u90a3\u4e48\u96be\uff0c\u6839\u672c\u6ca1\u6709\u5fc5\u8981\u641e\u4ec0\u4e48\u5355\u8c03\u6808\u4ec0\u4e48\u7684\uff0c\u6240\u4ee5\u6211\u6765\u4e00\u53d1\u5f88\u77ed\u7684\u9898\u89e3\u3002\n\n\u672c\u9898\u7684\u601d\u8def\u5c31\u662f\u9010\u4e2a\u51fb\u7834\uff0c\u6211\u7684\u601d\u8def\u662f\u8fd9\u6837\u7684\uff1a\n\n# 1.\u5143\u7d20\n\n\u5bf9\u4e8e\u5355\u4e2a\u5143\u7d20\u7684\u5904\u7406\u5e94\u8be5\u662f\u5f88\u7b80\u5355\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u6709\u5f3a\u5927\u7684map\uff0c\u4e00\u4e2a\u8868\u5c31\u7ed3\u675f\u4e86\u3002\n\n# 2.\u4e0b\u6807\n\n\u8fd9\u91cc\u6211\u4e3b\u8981\u5206\u4e24\u79cd\u60c5\u51b5\u770b\uff1a\n\n- \u5bf9\u539f\u5b50\u7684\u4e0b\u6807\n\n\u53ea\u9700\u8981\u4fdd\u5b58\u6bcf\u4e2a\u5143\u7d20\u7684\u503c\uff08last\uff09\uff0c\u5982\u679c\u53d1\u73b0\u4e0b\u6807\u5c31\u628a\u5df2\u7ecf\u52a0\u5230ans\u91cc\u7684last\u51cf\u6389\uff0c\u91cd\u65b0\u52a0\u4e0alast\u00d7\u4e0b\u6807\u7cfb\u6570\u5c31\u53ef\u4ee5\u4e86\u3002\n\n- \u5bf9\u539f\u5b50\u56e2\u7684\u4e0b\u6807\n\n\u8fd9\u4e2a\u7b49\u4f1a\u4f1a\u5728\u539f\u5b50\u56e2\u7684\u90e8\u5206\u91cc\u89e3\u91ca\n\n# 3.\u539f\u5b50\u56e2\n\n\u8fd9\u4e2a\u5bf9\u4e8e\u539f\u5b50\u56e2\u4e2d\u53ef\u80fd\u51fa\u73b0\u7684**\u5d4c\u5957**\u95ee\u9898\uff0c\u6211\u9009\u62e9\u4e86\u9012\u5f52\u89e3\u51b3\n\n\u539f\u5b50\u56e2\u4e2d\u7684\u539f\u5b50\u8ddf\u539f\u5b50\u56e2\u5916\u7684\u539f\u5b50\u662f\u4e00\u4e2a\u89e3\u51b3\u65b9\u6cd5\uff08\u539f\u5b50+\u4e0b\u6807\uff09\n\n\u7136\u540e\u63a5\u4e0b\u6765\u5c31\u662f**\u539f\u5b50\u56e2\u7684\u4e0b\u6807**\u4e86\n\n\u8fd9\u4e2a\u95ee\u9898\u9700\u8981\u6211\u4eec\u5bf9\u539f\u5b50\u56e2\u4e2d\u7684\u8fd0\u7b97\u7ed3\u679c\u8fdb\u884c\u4e00\u4e2atmp\u7684\u4fdd\u5b58\uff0c\u7136\u540e\u5728\u9000\u51fa\u51fd\u6570\u4e4b\u524d\u68c0\u67e5\u5916\u9762\u6709\u6ca1\u6709\u4e0b\u6807\uff0c\u6709\u7684\u8bdd\u7acb\u5373\u89e3\u51b3\u3002\n\n# 4.\u6c34\u5408\u7269\n\n\u8fd9\u4e2a\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u68c0\u6d4b\u5230~\u540e\u76f4\u63a5\u8ba1\u7b97\u7cfb\u6570\uff0c\u7136\u540e\u4e58\u4ee518\uff08H_{2}O\u7684\u503c\uff09\u5c31\u53ef\u4ee5\u4e86\n\n\u5177\u4f53\u7684\u4e00\u4e9b\u5751\u70b9\u4f1a\u5728\u4ee3\u7801\u91cc\u8bf4\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ndouble ans,last;//\u5c0f\u5fc3\u522b\u624b\u6b8b\u6253\u6210int\u4e86\uff08\u56e0\u4e3a\u6709.5\u7684\u5b58\u5728\uff09\nstring a;\nmap <string,double> mp;//\u4e00\u4e2amap\u5176\u5b9e\u53ef\u4ee5\u5e2e\u6211\u4eec\u5f88\u591a\u5fd9\ninline void start(){mp[\"H\"]=1;\nmp[\"C\"]=12;\nmp[\"N\"]=14;\nmp[\"O\"]=16;\nmp[\"F\"]=19;\nmp[\"Na\"]=23;\nmp[\"Mg\"]=24;\nmp[\"Al\"]=27;\nmp[\"Si\"]=28;\nmp[\"P\"]=31;\nmp[\"S\"]=32;\nmp[\"Cl\"]=35.5;\nmp[\"K\"]=39;\nmp[\"Ca\"]=40;\nmp[\"Mn\"]=55;\nmp[\"Fe\"]=56;\nmp[\"Cu\"]=64;\nmp[\"Zn\"]=65;\nmp[\"Ag\"]=108;\nmp[\"I\"]=127;\nmp[\"Ba\"]=137;\nmp[\"Hf\"]=178.5;\nmp[\"Pt\"]=195;\nmp[\"Au\"]=197;\nmp[\"Hg\"]=201;}//\u6253\u8868\nint ys(int k){\n\tstring s=\"\";int j=k+1;s+=a[k];\n\tfor (;a[j]>='a'&&a[j]<='z';j++)s+=a[j];\n\tans+=last=mp[s];//\u5b58\u4e0b\u4e0a\u4e00\u4e2a\u503c\uff0c\u4e3a\u4e0b\u6807\u4f5c\u51c6\u5907\n\treturn j;\n}//\u5bf9\u5355\u4e2a\u5143\u7d20\u5904\u7406\uff1a\u7528string\u63d0\u53d6\u5355\u4e2a\u5143\u7d20\uff0c\u7136\u540e\u76f4\u63a5\u62ffmp\u6620\u5c04\u8868\u641e\nint xb(int k){\n\tint j=k+2,s=0;\n\tfor (;a[j]>='0'&&a[j]<='9';j++)s=s*10+a[j]-'0';\n\tans-=last,ans+=last*s;\n\treturn j;\n}//\u5916\u90e8\u4e0b\u6807\ndouble tmp,tlast;//tmp\u4e3a\u62ec\u53f7\u91cc\u7684\u8fd0\u7b97\u7ed3\u679c\uff0ctlast\u4e3a\u62ec\u53f7\u91cc\u7684\u4e0a\u4e00\u4e2a\u503c\nint xbk(int k){\n\tint j=k+2,s=0;\n\tfor (;a[j]>='0'&&a[j]<='9';j++)s=s*10+a[j]-'0';\n\ttmp-=tlast,tmp+=tlast*s;\n\treturn j;\n}//\u62ec\u53f7\u91cc\u7684\u4e0b\u6807\nint ysk(int k){\n\tstring s=\"\";int j=k+1;s+=a[k];\n\tfor (;a[j]>='a'&&a[j]<='z';j++)s+=a[j];\n\ttmp+=tlast=mp[s];\n\treturn j;\n}//\u62ec\u53f7\u91cc\u7684\u5143\u7d20\ninline int kh(int k){\n\tint j=k+1,h=1;//h\u8868\u793a\u5f53\u524d\u672a\u5339\u914d\u7684\u5de6\u62ec\u53f7\u6570\n\twhile (h!=0){\n\t\tif (a[j]==')')h--;//\u5339\u914d\u5230\u4e00\u4e2a\n\t\tif (!h)break;\n\t\tif (a[j]>='A'&&a[j]<='Z'){\n\t\t\tj=ysk(j);\n\t\t\tif (a[j]=='_')j=xbk(j)+1;\n\t\t}else if (a[j]=='(')h++,j=kh(j);//\u53c8\u51fa\u6765\u4e00\u4e2a\uff0c\u9012\u5f52\n\t}\n\tif (a[j+1]=='_')ans+=tmp,last=tmp,j=xb(j+1);//\u539f\u5b50\u56e2\u7684\u4e0b\u6807\n\ttmp=0;//\u8bb0\u5f97\u5f520\n\treturn j;\n}//\u62ec\u53f7\nvoid sh(int k){\n\tint j=k+1,f=0;\n\tfor (;a[j]>='0'&&a[j]<='9';j++)f=f*10+a[j]-'0';\n\tif (!f)f++;//\u6ce8\u610f\uff01\uff01\uff01\u5982\u679cf\u6ca1\u63d0\u53d6\u5230\u8bf4\u660e\u7701\u7565\u4e86\u7cfb\u6570\uff0c\u5343\u4e07\u522b\u5fd8\u4e86\u9ed8\u8ba4\u4e3a1\uff01\n\tans+=f*18;\n}//\u6c34\u5408\u7269\nint main(){\n    start();\n\tcin>>a;\n\tfor (int i=0;i<a.size();i++){\n\t\tif (a[i]>='A'&&a[i]<='Z')i=ys(i)-1;\n\t\telse if (a[i]=='_')i=xb(i);\n\t\telse if (a[i]=='(')i=kh(i);\n\t\telse if (a[i]=='~'){sh(i);break;}\n\t}\n\tprintf (\"%g\",ans);//%g\u7684\u8f93\u51fa\u53ef\u4ee5\u7701\u6389\u591a\u4f59\u76840\n\treturn 0;\n}\n\n```",
        "postTime": 1529848501,
        "uid": 39863,
        "name": "\u5f15\u9886\u5929\u4e0b",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "**\u590d\u6742\u7684\u6a21\u62df**\n\n\u8fd9\u9053\u9898\u6211\u7684\u601d\u8def\u5c31\u662f\u628a\u6bcf\u4e2a\u90e8\u5206\u7684\u5206\u5b50\u91cf\u90fd\u7b97\u51fa\u6765\uff0c\u518d\u505a\u548c\u5c31\u884c\u4e86\uff0c\u6bd4\u8f83\u7b80\u5355\uff0c\u5c31\u662f\u5bb9\u6613\u51fa\u4e00\u4e9b\u5c0fBug\uff0c~~\uff08\u8bdd\u8bf4\u6211\u8fd9\u9053\u9898\u505a\u4e86\u4e09\u4e2a\u5c0f\u65f6\uff09~~\n\n\u5bf9\u4e8e\u6c34\u5408\u7269\u76f4\u63a5\u7b97\u5c31\u597d\u4e86\uff0c\u4ec0\u4e48\u62ec\u53f7\u5440\u76f4\u63a5\u8df3\u8fc7\u5c31\u597d\u4e86\u3002\n\n\u4ee3\u7801\u5982\u4e0b~~\uff08\u5176\u5b9e\u53ef\u4ee5\u4e0d\u9012\u5f52\u7684\uff09~~\n```c\n#include<stdio.h>\n#include<string>\n#include<string.h>\n\u53cd\u5bf9\u6284\u88ad\u9898\u89e3\u7684\uff01\nusing namespace std;\nchar a[100][100]={\"H\",\"C\",\"N\",\"O\",\"F\",\"Na\",\"Mg\",\"Al\",\"Si\",\"P\",\"S\",\"Cl\",\"K\",\"Ca\",\"Mn\",\"Fe\",\"Cu\",\"Zn\",\"Ag\",\"I\",\"Ba\",\"Hf\",\"Pt\",\"Au\",\"Hg\"};//\u6253\u4e86\u4e24\u5f20\u8868 \nfloat b[100]={1,12,14,16,19,23,24,27,28,31,32,35.5,39,40,55,56,64,65,108,127,137,178.5,195,197,201};\nchar aa[110];\nint lenx=0;\nfloat calc(int &i,int d)\t\n{\n\tfloat ans=0;\n\tchar tmp[100]={0};\n\tint temp=0;\n\twhile(aa[i]!='\\0')\n\t{\n\t\tif(aa[i]>='A'&&aa[i]<='Z'||aa[i]=='(')//\u5904\u7406\u65b0\u7684\u5143\u7d20 \n\t\t{\n\t\t\tfor(int j=0;j<26;j++)\n\t\t\t{\n\t\t\t\tif(strcmp(tmp,a[j])==0) //\u67e5\u8868 \n\t\t\t\t{\n\t\t\t\t\tif(temp==0) ans+=b[j];\n\t\t\t\t\telse ans+=temp*b[j];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemset(tmp,0,sizeof(tmp));\n\t\t\ttmp[0]=aa[i]; //\u8bb0\u5f55\u5143\u7d20 \n\t\t\ttemp=0;\n\t\t}\n\t\tif(aa[i]>='a'&&aa[i]<='z')//\u4e00\u4e2a\u5143\u7d20\u7684\u540e\u534a\u6bb5\uff08\u4e00\u4e2a\u5143\u7d20\u6700\u591a2\u5b57\u8282\uff09 \n\t\t{\n\t\t\ttmp[1]=aa[i];\n\t\t}\n\t\tif(aa[i]>='0'&&aa[i]<='9')//\u5904\u7406\u6570\u5b57 \n\t\t{\n\t\t\ttemp=temp*10+(aa[i]-'0');\n\t\t}\n\t\tif(aa[i]=='(')//\u5206\u5b50\u56e2 \n\t\t{\n\t\t\tans+=calc(++i,1);\n\t\t}\n\t\tif(aa[i]==')'&&d==1)//\u5206\u5b50\u56e2\u5904\u7406\u5b8c\n\t\t{\n\t\t\tfor(int j=0;j<26;j++)//\u5904\u7406\u6700\u540e\u7684\u4e00\u4e2a\u5143\u7d20 \n\t\t\t{\n\t\t\t\tif(strcmp(tmp,a[j])==0) \n\t\t\t\t{\n\t\t\t\t\tif(temp==0) ans+=b[j];\n\t\t\t\t\telse ans+=temp*b[j];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(aa[i+1]=='_')//\u5206\u5b50\u56e2\u540e\u8fd8\u6709\u7cfb\u6570 \n\t\t\t{\n\t\t\t\ttemp=0;\n\t\t\t\tfor( ;aa[i]!='}';i++)\n\t\t\t\t{\n\t\t\t\t\tif(aa[i]>='0'&&aa[i]<='9')//\u5904\u7406\u6570\u5b57 \n\t\t\t\t\t{\n\t\t\t\t\t\ttemp=temp*10+(aa[i]-'0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tans*=temp;\n\t\t\t}\n\t\t\treturn ans;\n\t\t}\n\t\tif(aa[i]=='~')//\u6c34\u5408\u7269 \n\t\t{\n\t\t\tint j=i+1;\n\t\t\tint tmpp=0;\n\t\t\twhile(1)//\u5904\u7406\u6c34\u5408\u7269\u7684\u7cfb\u6570 \n\t\t\t{\n\t\t\t\tif(aa[j]=='H') break;\n\t\t\t\ttmpp=tmpp*10+aa[j]-'0';\n\t\t\t\tj++;\n\t\t\t}\n\t\t\tif(tmpp==0) ans+=18;//H2O\u5206\u5b50\u91cf18 \n\t\t\telse        ans+=18*tmpp;\n\t\t\tlenx=j;\n\t\t\ti+=lenx+6;\n\t\t}\t \n\t\ti++;\n\t}\n\tfor(int j=0;j<26;j++)//\u5904\u7406\u6700\u540e\u7684\u4e00\u4e2a\u5143\u7d20 \n\t{\n\t\tif(strcmp(tmp,a[j])==0) \n\t\t{\n\t\t\tif(temp==0) ans+=b[j];\n\t\t\telse ans+=temp*b[j];\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn ans;\n}\nint main()\n{\n\n\tfloat ans=0;\n\tscanf(\"%s\",aa);\n\tint i=0;\n\tans=calc(i,0);\n\tif(ans-(int)ans>0)\n\t{\n\t\tif(ans-(int)ans>0.8) printf(\"%d\",(int)ans+1);//\u5904\u7406int\u7684\u95ee\u9898\uff08\u907f\u514d1.999999999\uff09 \n\t\telse                 printf(\"%.1f\",ans);//\u8f93\u51fa\u540e\u5e260.5\u7684\u7b54\u6848 \n\t}\n\telse                     printf(\"%d\",(int)ans);//\u6b63\u597d\u662f\u6574\u6570 \n\treturn 0;\n}\n```\n\u7b2c\u4e00\u6b21\u5199\u9898\u89e3\uff0c\u5927\u5bb6\u591a\u591a\u5305\u6db5",
        "postTime": 1529511117,
        "uid": 71922,
        "name": "\u5f71\u5b50\u9c7cllt",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u662f\u840c\u65b0\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\uff0c~~\u7b80\u5355\u6613\u61c2~~emmm\uff0c\u6211\u7684\u7a0b\u5e8f\u5c31\u662f\u4e00\u4e2a\u5927\u6a21\u62df\u3002\u3002\u3002\u6a21\u62df\u3002\u3002\u3002\u62df\u3002\u3002\u3002\u601d\u8def\u662f\u5c06\u5143\u7d20\u6309\u5b57\u6bcd\u5206\u7c7b\uff0c\u7136\u540e\u63d0\u524d\u7279\u5224\u6bcf\u4e00\u4e2a\u5143\u7d20\uff01\u4e0b\u9762\u8d34\u4ee3\u7801\u3002\n\n------------\n\n\n    #include<iostream>\n    #include<math.h>\n    #include<stdio.h>\n    #include<cstring>\n    #include<string.h>\n\n    using namespace std;\n\n    double ans,a,z,sh=18;//\u6c34\u7684\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u662f18\uff01\n\n    double H=1,C=12,N=14,O=16,F=19,Na=23,Mg=24,Al=27,Si=28,P=31,S=32,Cl=35.5,K=39,Ca=40,Mn=55,Fe=56,Cu=64,Zn=65,Ag=108,I=127,Ba=137,Hf=178.5,Pt=195,Au=197,Hg=201; //~~\u7b80\u5355\u7684~~\u8d4b\u503c;\n\n\tchar s[200];\n\n\tint t=0;  //\u4ee3\u8868\u8fd8\u9700\u8df3\u591a\u5c11\u6b21\u5faa\u73af\uff01\n\n\tbool b=0;  //\u6807\u8bb0\u662f\u5426\u5728\u62ec\u53f7\u91cc\u9762\n\n\tvoid hh (bool p, double x ){\n\n        if (p==1) a+=x; //a\u662f\u62ec\u53f7\u5185\u7684\u6682\u65f6\u8ba1\u6570\u5668;\n    \n        if (p==0) ans+=x;//ans\u662f\u603b\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\uff01\n    \n\t\treturn;    \n\t}\n\n\tint main(){\n\n\t\tcin>>s;\n\t    int l=strlen(s);//\u65e0\u8111\u8bfb\u5165\n\t    for ( int i=0;i<=l;i++ ){//\u9488\u5bf9\u6bcf\u4e00\u4e2a\u5b57\u7b26\u7279\u5224\uff01    \n\t\t    if ( t>0 ){//\u8df3\u8fc7\u672c\u56de\u5408\uff01\n\t\t    \tt--;\n\t\t\t    continue;\n\t    \t}\n\t\t    if ( s[i]=='('){\n\t\t    b=1;//\u6709\u62ec\u53f7\u65f6\u6807\u8bb0\uff01\n\t\t\ta=0;\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]==')'){\n\t\t\tb=0;\n\t\t\tif ( s[i+1]=='_' ) {\n\t\t\t\t\tint m=i+3,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*a;\n\t\t\t        ans+=z;\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=a;\n\t\t\t\t\tans+=z;\n\t\t\t\t\ta=0;\n\t\t\t\t\tt=0;\n\t\t\t    }\n\t\t\t\tcontinue;\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]=='~'){\n\t\t\tint m=i+1,num;//num\u662f\u6c34\u5206\u5b50\u7684\u6570\u91cf\n            if (s[m]!='H'){\n\t\t\t\tnum=s[m]-'0';\n\t\t\t    while (s[m+1]!='H'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t    \tm++;\n\t\t\t    }\n\t\t\t\tt=m-i+6;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnum=1;\n\t\t\t\tt=6;\n\t\t\t}\n\t\t\tans+=sh*num;\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]=='H'){\n\t\t\tif ( s[i+1]=='f' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Hf;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Hf;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t} \n\t\t\tif ( s[i+1]=='g' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Hg;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Hg;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( s[i+1]=='_' ) {\n\t\t\t\tint m=i+3,num=0;\n\t\t\t    num=s[m]-'0';\n\t\t\t    while (s[m+1]!='}'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t\t    m++;\n\t\t\t    }\n\t\t\t    t=m-i+1;\n\t\t\t    z=num*H;\n\t\t\t    hh(b,z);\n\t\t\t    continue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tz=H;\n\t\t\t\tt=0;\n\t\t\t}\n\t\t\thh(b,z);\n\t\t\tcontinue;\n\t\t}\n\t    if ( s[i]=='C'){\n\t\t\tif ( s[i+1]=='l' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Cl;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Cl;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t} \n\t\t\tif ( s[i+1]=='u' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Cu;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Cu;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( s[i+1]=='a' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Ca;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Ca;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( s[i+1]=='_' ) {\n\t\t\t\tint m=i+3,num=0;\n\t\t\t    num=s[m]-'0';\n\t\t\t    while (s[m+1]!='}'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t\t    m++;\n\t\t\t    }\n\t\t\t    t=m-i+1;\n\t\t\t    z=num*C;\n\t\t\t    hh(b,z);\n\t\t\t    continue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tz=C;\n\t\t\t\tt=0;\n\t\t\t}\n\t\t\thh(b,z);\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]=='N'){\n\t\t\tif ( s[i+1]=='a' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Na;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Na;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( s[i+1]=='_' ) {\n\t\t\t\tint m=i+3,num=0;\n\t\t\t    num=s[m]-'0';\n\t\t\t    while (s[m+1]!='}'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t\t    m++;\n\t\t\t    }\n\t\t\t    t=m-i+1;\n\t\t\t    z=num*N;\n\t\t\t    hh(b,z);\n\t\t\t    continue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tz=N;\n\t\t\t\tt=0;\n\t\t\t}\n\t\t\thh(b,z);\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]=='F'){\n\t\t\tif ( s[i+1]=='e' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Fe;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Fe;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( s[i+1]=='_' ) {\n\t\t\t\tint m=i+3,num=0;\n\t\t\t    num=s[m]-'0';\n\t\t\t    while (s[m+1]!='}'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t\t    m++;\n\t\t\t    }\n\t\t\t    t=m-i+1;\n\t\t\t    z=num*F;\n\t\t\t    hh(b,z);\n\t\t\t    continue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tz=F;\n\t\t\t\tt=0;\n\t\t\t}\n\t\t\thh(b,z);\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]=='S'){\n\t\t\tif ( s[i+1]=='i' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Si;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Si;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( s[i+1]=='_' ) {\n\t\t\t\tint m=i+3,num=0;\n\t\t\t    num=s[m]-'0';\n\t\t\t    while (s[m+1]!='}'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t\t    m++;\n\t\t\t    }\n\t\t\t    t=m-i+1;\n\t\t\t    z=num*S;\n\t\t\t    hh(b,z);\n\t\t\t    continue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tz=S;\n\t\t\t\tt=0;\n\t\t\t}\n\t\t\thh(b,z);\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]=='P'){\n\t\t\tif ( s[i+1]=='t' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Pt;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Pt;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( s[i+1]=='_' ) {\n\t\t\t\tint m=i+3,num=0;\n\t\t\t    num=s[m]-'0';\n\t\t\t    while (s[m+1]!='}'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t\t    m++;\n\t\t\t    }\n\t\t\t    t=m-i+1;\n\t\t\t    z=num*P;\n\t\t\t    hh(b,z);\n\t\t\t    continue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tz=P;\n\t\t\t\tt=0;\n\t\t\t}\n\t\t\thh(b,z);\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]=='M'){\n\t\t\tif ( s[i+1]=='g' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Mg;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Mg;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( s[i+1]=='n' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Mn;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Mn;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif ( s[i]=='A'){\n\t\t\tif ( s[i+1]=='g' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Ag;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Ag;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( s[i+1]=='l' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Al;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Al;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( s[i+1]=='u' ){\n\t\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\t\tint m=i+4,num=0;\n\t\t\t        num=s[m]-'0';\n\t\t\t        while (s[m+1]!='}'){\n\t\t\t\t        num=num*10+(s[m+1]-'0');\n\t\t\t\t        m++;\n\t\t\t        }\n\t\t\t        t=m-i+1;\n\t\t\t        z=num*Au;\n\t\t\t        hh(b,z);\n\t\t\t        continue;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tz=Au;\n\t\t\t\t\tt=1;\n\t\t\t\t}\n\t\t\t\thh(b,z);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tif ( s[i]=='K'){\n\t\t\tif ( s[i+1]=='_' ) {\n\t\t\t\tint m=i+3,num=0;\n\t\t\t    num=s[m]-'0';\n\t\t\t    while (s[m+1]!='}'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t\t    m++;\n\t\t\t    }\n\t\t\t    t=m-i+1;\n\t\t\t    z=num*K;\n\t\t\t    hh(b,z);\n\t\t\t    continue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tz=K;\n\t\t\t\tt=0;\n\t\t\t}\n\t\t\thh(b,z);\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]=='O'){\n\t\t\tif ( s[i+1]=='_' ) {\n\t\t\t\tint m=i+3,num=0;\n\t\t\t    num=s[m]-'0';\n\t\t\t    while (s[m+1]!='}'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t\t    m++;\n\t\t\t    }\n\t\t\t    t=m-i+1;\n\t\t\t    z=num*O;\n\t\t\t    hh(b,z);\n\t\t\t    continue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tz=O;\n\t\t\t\tt=0;\n\t\t\t}\n\t\t\thh(b,z);\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]=='I'){\n\t\t\tif ( s[i+1]=='_' ) {\n\t\t\t\tint m=i+3,num=0;\n\t\t\t    num=s[m]-'0';\n\t\t\t    while (s[m+1]!='}'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t\t    m++;\n\t\t\t    }\n\t\t\t    t=m-i+1;\n\t\t\t    z=num*I;\n\t\t\t    hh(b,z);\n\t\t\t    continue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tz=I;\n\t\t\t\tt=0;\n\t\t\t}\n\t\t\thh(b,z);\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]=='Z'){\n\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\tint m=i+4,num=0;\n\t\t\t    num=s[m]-'0';\n\t\t\t    while (s[m+1]!='}'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t\t    m++;\n\t\t\t    }\n\t\t\t    t=m-i+1;\n\t\t\t    z=num*Zn;\n\t\t\t    hh(b,z);\n\t\t\t    continue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tz=Zn;\n\t\t\t\tt=1;\n\t\t\t}\n\t\t\thh(b,z);\n\t\t\tcontinue;\n\t\t}\n\t\tif ( s[i]=='B'){\n\t\t\tif ( s[i+2]=='_' ) {\n\t\t\t\tint m=i+4,num=0;\n\t\t\t    num=s[m]-'0';\n\t\t\t    while (s[m+1]!='}'){\n\t\t\t\t    num=num*10+(s[m+1]-'0');\n\t\t\t\t    m++;\n\t\t\t    }\n\t\t\t    t=m-i+1;\n\t\t\t    z=num*Ba;\n\t\t\t    hh(b,z);\n\t\t\t    continue;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tz=Ba;\n\t\t\t\tt=1;\n\t\t\t}\n\t\t\thh(b,z);\n\t\t\tcontinue;\n\t\t}\n\t}\t\n\tprintf(\"%lf\",ans);//\u5b8c\u7f8e\u8f93\u51fa\uff01\uff01\uff01\n\treturn 0;\n    }",
        "postTime": 1529384364,
        "uid": 58146,
        "name": "\u65e7\u65f6\u5170\u53f0",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "~~\u4f5c\u4e3a\u5c0f\u849f\u84bb\u7684\u6211\u5927\u6982\u53ea\u80fd\u5207\u4e00\u5207A\u9898B\u9898\u4e86~~\n\n\u4ee5\u4e0b\u662f\u6b63\u6587\uff1a\n\t\u9898\u610f\u7b80\u8ff0\uff1a\n    \n    \u7ed9\u4f60\u8f93\u5165\u4e00\u4e2a\u5316\u5b66\u5f0f\uff0c\u6c42\u51fa\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\uff0c\u4fdd\u8bc1\u5316\u5b66\u5f0f\u4e2d\u6ca1\u6709\u7a7a\u683c\u3002\n\n## \u9898\u89e3 \uff1a\n\u9996\u5148\u6211\u4eec\u9700\u8981\u628a\u9898\u91cc\u7684\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\u6253\u4e00\u4e2a\u8868\uff0c\u7528pair\u554a\uff0c\u7528map\u554a\uff0c\n\u6216\u8005\u50cf\u6211\u4e00\u6837\u7528if..\u76f8\u4fe1\u5404\u4f4d\u5927\u4f6c\u4f1a\u6709\u66f4\u9ad8\u7ea7\u7684\u64cd\u4f5c\uff1b\n    \n\u7136\u540e\u8003\u8651\u89e3\u9898\uff0c\u6211\u4eec\u53d1\u73b0\u5bf9\u4e8e\u6bcf\u4e2a~\u4e5f\u5c31\u662f\u52a0\u53f7\uff0c \n\u53ef\u4ee5\u5206\u6210\u4e24\u90e8\u5206\u89e3\u9898\uff0c\u5c31\u662f\u52a0\u53f7\u524d\u7684\u548c\u52a0\u53f7\u540e\u7684\uff0c \u5206\u522b\u9012\u5f52\u4e00\u6b21\u89e3\u51b3\u5373\u53ef\u3002\n    \u5bf9\u4e8e\u6c34\u5316\u7269\u524d\u7684\u7cfb\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u6b21\u7c7b\u4f3c\u4e8e\u8bfb\u5165\u4f18\u5316\u7684\u65b9\u5f0f\u6765\u5b58\u4e0b\u6765\uff0c\n    \u6211\u4eec\u628a\u6bcf\u4e2a\u62ec\u53f7\u8df3\u8fc7\uff0c\u62ec\u53f7\u5185\u7684\u9012\u5f52\u89e3\u51b3\u3002\u5bf9\u4e8e\u5927\u62ec\u53f7\u5185\u7684\u7cfb\u6570\uff0c\u53ef\u4ee5\u7528\u4e00\u4e2alst \u5b58\u4e00\u4e0b\u4e0a\u6b21\u7b97\u5f97\u7684\u539f\u5b50\u56e2/\u539f\u5b50\u7684\u8d28\u91cf\uff0c\u4e0b\u6b21\u52a0\u5b83\u7684\u7cfb\u6570-1\u500d\u5373\u53ef\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u539f\u5b50\uff0c \u6211\u4eec\u5224\u65ad\u4e00\u4e0b\u540e\u9762\u7684\u5b57\u6bcd\u662f\u5426\u662f\u5c0f\u5199\u5b57\u6bcd\uff0c \u662f\u7684\u8bdd\u4f20\u4e24\u4e2a\u5b57\u7b26\u5224\u65ad\uff0c \u5426\u5219\u4f20\u4e00\u4e2a\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u539f\u5b50\u56e2\uff0c \u6211\u4eec\u9012\u5f52\u89e3\u51b3\uff0c\u8fd9\u4e2a\u9012\u5f52\u6700\u591a\u4e0d\u4f1a\u8d85\u8fc7\u4e24\u5c42\uff0c\u5176\u5b9e\u6211\u7684\u4ee3\u7801\u76f8\u5f53\u4e8e\u5728\u4e3b\u51fd\u6570\u5c55\u5f00\u4e86\u4e00\u6b21\u9012\u5f52\uff0c\u7cbe\u7b80\u4ee3\u7801\u7684\u8bdd\u53ef\u4ee5\u90fd\u538b\u8fdb\u4e00\u4e2a\u51fd\u6570\u91cc\uff0c \u53e6\u5916\u6211\u7684\u7279\u5224\u597dLow\u554aQwQ. \n\n\u5206\u6790\u65f6\u95f4\u590d\u6742\u5ea6\u7684\u8bdd\uff0c \u662f$O(n)$\u7684\uff0c \u56e0\u4e3a\u6bcf\u6b21\u9012\u5f52\u90fd\u628a\u6b64\u6bb5\u8df3\u8fc7\u4e86\uff0c \u7a7a\u95f4\u590d\u6742\u5ea6\u51e0\u4e4e\u53ef\u4ee5\u5ffd\u7565\u4e0d\u8ba1\uff0c \u7cfb\u7edf\u6808\u6700\u591a\u8c03\u75283\u5c42\uff0c \u6570\u7ec4\u53ea\u9700\u8981\u5f00\u4e00\u4e2a100\u7684char\u548c\u6253\u8868\u7684double\n\n***\u4e0b\u9762\u662f\u4ee3\u7801***\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cmath>\n#include <iostream>\n#include <cctype>\nusing namespace std;\nchar s[200];\ndouble H = 1, C = 12, N = 14, O = 16, F = 19, Na = 23, Mg = 24, Al = 27, Si = 28, P = 31, S = 32, Cl = 35.5, K = 39, Ca = 40, Mn = 55, Fe = 56, Cu = 64, Zn = 65, Ag = 108, I = 127, Ba = 137, Hf = 178.5, Pt = 195, Au = 197, Hg = 201;\nint n;\ndouble find(char ch) {\n    if(ch=='I') return I;\n    if(ch=='K') return K;\n    if(ch=='S') return S;\n    if(ch=='P') return P;\n    if(ch=='H') return H;\n    if(ch=='C') return C;\n    if(ch=='N') return N;\n    if(ch=='O') return O;\n    if(ch=='F') return F;\n    return 0;\n}\ndouble find(char ch1, char ch2) {\n    if(ch1=='N') return Na;\n    if(ch1=='P') return Pt;\n    if(ch1=='S') return Si;\n    if(ch1=='M' && ch2=='g') return Mg;\n    if(ch1=='A' && ch2=='l') return Al;\n    if(ch1=='C' && ch2=='a') return Ca;\n    if(ch1=='C' && ch2=='l') return Cl;\n    if(ch1=='C' && ch2=='u') return Cu;\n    if(ch1=='M' && ch2=='n') return Mn;\n    if(ch1=='F' && ch2=='e') return Fe;\n    if(ch1=='Z' && ch2=='n') return Zn;\n    if(ch1=='A' && ch2=='g') return Ag;\n    if(ch1=='B' && ch2=='a') return Ba;\n    if(ch1=='H' && ch2=='f') return Hf;\n    if(ch1=='A' && ch2=='u') return Au;\n    if(ch1=='H' && ch2=='g') return Hg;\n    return 0;\n}\nint gett(int idx) {\n    int x = 0;\n    for(int i = idx ; isdigit(s[i]) ; i ++ ) x = x*10+s[i]-'0';\n    return x;\n}\ndouble calc(int l,int r) {\n    double now = 0, lst;\n    for(int i = l; i <= r; i++) {\n        if(s[i]>='A'&&s[i]<='Z') {\n            if(s[i+1]<'a'||s[i+1]>'z') {\n                lst = find(s[i]);\n                now += lst ;\n            }\n            else {\n                lst = find(s[i], s[i+1]);\n                now += lst ;\n                i ++;\n            }\n            continue;\n        }\n        if(s[i]=='(') {\n            int ll = i+1, rr= 0;\n            for(int j=i+1;j<=n;j++)\n                if(s[j]==')') {rr = j - 1;break;}\n            lst = calc(ll, rr);\n            now+=lst;\n            i = rr+1;\n        }\n        else if(s[i]=='_') {\n            int k = gett(i+2);\n            for(int j = i+1; j<=n;j++) {\n                if(s[j]=='}') {i = j;break;}\n            }\n            lst *= k-1;\n            now += lst ;\n        }\n    }\n    return now;\n}\nint main() {\n    scanf(\"%s\", s+1);\n    n = strlen(s+1);\n    double sum = 0;\n    for(int i=1;i<=n;i++) {\n        int l = i, r = 0, k = 1;\n        for(int j = i+1; j<=n; j++) if(s[j]=='~') {r = j-1;break;}\n        if(isdigit(s[i])) k = gett(i);\n        while(isdigit(s[i]))i++;\n        if(!r) r = n-1; \n        sum+= calc(l, r)*k, i = r+1;\n    }\n    printf(\"%.1f\\n\",sum);\n}\n```\n\u6b22\u8fce\u6765\u6211\u7684\u535a\u5ba2\u770b\u770b \uff1a [\u535a\u5ba2\u94fe\u63a5](https://www.cnblogs.com/tobichi)",
        "postTime": 1529365104,
        "uid": 69014,
        "name": "ToBiChi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u9898\u89e3"
    },
    {
        "content": "\u672c\u849f\u84bb\u5199\u7684\u7b2c\u4e00\u9053\u5927\u6a21\u62df\u9898\uff08~~\u6211\u4eec\u673a\u623f\u67d0\u5de8\u4f6c\u8bf4\u662f\u4e2d\u6a21\u62df~~\uff09\n\n\u6211\uff1a~~\u201c A\u4e86\u8fd9\u9053\u9898\uff0c\u5988\u5988\u518d\u4e5f\u4e0d\u540c\u62c5\u5fc3\u6211\u7b97\u4e0d\u5bf9\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u5566~ \u201d~~\n\n## \u601d\u8def\n\u505a\u8fd9\u79cd\u6a21\u62df\u9898\u65f6\uff0c\u9700\u8981\u4e00\u4e2a\u660e\u786e\u7684\u601d\u8def\u3002\n\n\u6211\u4eec\u5728\u5f00\u59cb\u4e4b\u524d\uff0c\u5148\u6765\u7814\u7a76\u4e00\u4e0b\u8fd9\u4e9b\u5316\u5b66\u5f0f\u3002\n\n\u8fd9\u4e9b\u5316\u5b66\u5f0f\uff0c\u7531\u5c0f\u62ec\u53f7\uff0c\u5927\u62ec\u53f7\uff0c\u4e0b\u5212\u7ebf\uff0c\u6570\u5b57\uff0c\u5316\u5b66\u5143\u7d20\u7ec4\u6210\u3002\n\n\u770b\u5230\u8fd9\u4e9b\uff0c\u662f\u4e0d\u662f\u89c9\u5f97\u65e0\u4ece\u4e0b\u624b\uff1f\u662f\u4e0d\u662f\u5c1d\u8bd5\u53bb\u5b9e\u73b0\u4e86\u4f46\u662f\u5b9e\u73b0\u4e0d\u4e86\uff1f\n\n\u522b\u7740\u6025\uff0c\u6162\u6162\u6765\u3002\n\n\u6211\u4eec\u5148\u8ba8\u8bba\u5355\u4e2a\u7684\u5143\u7d20\u3002eg\uff1a$ Ag $ , $ Cu $\n\n\u5bf9\u4e8e\u5355\u4e2a\u7684\u5143\u7d20\uff0c\u6211\u4eec\u53ea\u9700\u8981\u9884\u5148\u5c06\u8fd9\u4e9b\u5143\u7d20\u4e0e\u4ed6\u4eec\u7684\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\u5b58\u597d\uff0c\u7528\u7684\u65f6\u5019\u8c03\u51fa\u6765\u5c31\u53ef\u4ee5\u4e86\u3002\u5bf9\u4e8e\u8fd9\u4e2a\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2amap\u5b9e\u73b0\uff08~~STL\u5927\u6cd5\u597d~~\uff09\u3002\n\n\u66f4\u5177\u4f53\u7684\uff0cmap\u5e94\u8be5\u8fd9\u6837\u5b9a\u4e49\uff1a`map<string,double>` \uff08\u5177\u4f53\u7684\u5f85\u4f1a\u53ef\u4ee5\u770b\u770b\u4ee3\u7801\uff09\n\n\u597d\uff0c\u5355\u4e2a\u5143\u7d20\u8bb2\u5b8c\u4e86\uff0c\u73b0\u5728\u6211\u4eec\u6765\u8ba8\u8bba\u6ca1\u6709\u539f\u5b50\u56e2\u4e14\u6709\u4e00\u4e2a\u5143\u7d20\u6709\u4e0b\u6807\u7684\u5316\u5b66\u7269\u8d28\u3002 eg\uff1a$ CO_2 $\uff0c$ Na_2SO_4 $\n\n\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a $ i $  \u6e38\u6807\u6765\u786e\u5b9a\u73b0\u5728\u6b63\u5728\u8bfb\u7684\u5b57\u7b26\u4f4d\u7f6e\uff0c $last$ \u6765\u8bb0\u5f55\u4e0a\u4e00\u4e2a\u5143\u7d20\u7684\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u5982\u679c\u68c0\u6d4b\u5230\u5143\u7d20\uff0c\u5e76\u4e14\u8be5\u5143\u7d20\u7684\u4e0b\u4e00\u4f4d\u4e0d\u662f\u4e0b\u5212\u7ebf\uff0c\u7b54\u6848\u52a0\u4e0a\u8be5\u5143\u7d20\u7684\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\u3002\u5426\u5219\u542f\u52a8 $ last $ \u8bb0\u5f55\u5f53\u524d\u8bfb\u5165\u5143\u7d20\u7684\u76f8\u5bf9\u539f\u5b50\u8d28\u91cf\u3002\n\n\u6709\u4e0b\u6807\u7684\u5316\u5b66\u5143\u7d20\u89e3\u51b3\u5566\uff0c\u4e0b\u9762\u5f00\u59cb\u8ba8\u8bba\u5e26\u6709\u539f\u5b50\u56e2\u7684\u5316\u5b66\u5f0f\u3002\n\n\u54ce\uff0c\u5e26\u6709\u5c0f\u62ec\u53f7\u7684\u5594\uff0c\u600e\u4e48\u73a9\u554a\uff1f\uff08~~\u4e4b\u524d\u5c31\u662f\u5728\u8fd9\u91cc\u5361\u4e86\u534a\u5929~~\uff09\n\n\u522b\u614c\uff0c\u6211\u4eec\u6765\u8bd5\u7740\u628a\u6574\u4e2a\u5316\u5b66\u5f0f\u62ec\u8d77\u6765\u3002\n\n\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u53ef\u4ee5~~\u5f88\u5bb9\u6613\u7684~~\u53d1\u73b0\uff0c\u5bf9\u4e8e\u5e26\u62ec\u53f7\u7684\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5355\u72ec\u89e3\u51b3\u62ec\u53f7\u91cc\u9762\u7684\u5185\u5bb9\u5c31\u884c\u4e86\u3002\u600e\u4e48\u89e3\u51b3\uff1f\u5f53\u7136\u662f\u9012\u5f52\u5566~\u3002\u56e0\u4e3a\u62ec\u53f7\u91cc\u9762\u7684\u5185\u5bb9\u90fd\u8fd8\u662f\u539f\u5b50\u56e2\u6216\u8005\u5316\u5b66\u5f0f\u3002\n\n\u6700\u540e\u5269\u4e0b\u7684\u662f\u5e26\u6c34\u7684\u5316\u5b66\u5f0f\uff0c\u6211\u4eec\u5355\u72ec\u5904\u7406\u5b83\u3002\u9996\u5148\u8bfb\u5165\u7684\u65f6\u5019\u5bfb\u627e\u6c34\u5206\u5b50\u8fde\u63a5\u7b26 \u201c~\u201d \uff0c\u518d\u5c06\u5b83\u540e\u9762\u7684\u6570\u5b57\u8bfb\u5165\u5c31\u53ef\u4ee5\u4e86\uff0c\u5982\u679c\u6ca1\u6709\u6570\u5b57\uff0c\u9ed8\u8ba4\u4e3a 1 \u3002\n\n**\u53cb\u60c5\u63d0\u793a\uff1a\u5efa\u8bae\u9664\u4e86\u6e38\u6807\u4f7f\u7528\u6574\u578b\u53d8\u91cf\uff0c\u5176\u4ed6\u7684\u8fd0\u7b97\u90fd\u8981\u7528 double \u7c7b\u578b\u3002**\n\n## \u4ee3\u7801\n\u63a5\u4e0b\u6765\u662f\u5927\u5bb6\u6700\u559c\u6b22\u7684\u4ee3\u7801~\n\n\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<cstring>\n#include<string>\n#include<queue>\n#include<map>\n#define ll long long\nusing namespace std;\n\nmap<string,double> app;\n\ndouble ans;\n\nstring elememts[26]={\"H\",\"C\",\"N\",\"O\",\"F\",\"Na\",\"Mg\",\"Al\",\"Si\",\"P\",\"S\",\"Cl\",\"K\",\"Ca\",\"Mn\",\"Fe\",\"Cu\",\"Zn\",\"Ag\",\"I\",\"Ba\",\"Hf\",\"Pt\",\"Au\",\"Hg\"};\nstring s;\n\nvoid init_elements()\n{\n\tfor(int i=0;i<25;++i)  //\u8fd9\u6837\u6709\u70b9\u5c0f\u9ebb\u70e6\u4e86\n\t{\n\t\tif(i==0) app[elememts[i]]=1;\n\t\tif(i==1) app[elememts[i]]=12;\n\t\tif(i==2) app[elememts[i]]=14;\n\t\tif(i==3) app[elememts[i]]=16;\n\t\tif(i==4) app[elememts[i]]=19;\n\t\tif(i==5) app[elememts[i]]=23;\n\t\tif(i==6) app[elememts[i]]=24;\n\t\tif(i==7) app[elememts[i]]=27;\n\t\tif(i==8) app[elememts[i]]=28;\n\t\tif(i==9) app[elememts[i]]=31;\n\t\tif(i==10) app[elememts[i]]=32;\n\t\tif(i==11) app[elememts[i]]=35.5;\n\t\tif(i==12) app[elememts[i]]=39;\n\t\tif(i==13) app[elememts[i]]=40;\n\t\tif(i==14) app[elememts[i]]=55;\n\t\tif(i==15) app[elememts[i]]=56;\n\t\tif(i==16) app[elememts[i]]=64;\n\t\tif(i==17) app[elememts[i]]=65;\n\t\tif(i==18) app[elememts[i]]=108;\n\t\tif(i==19) app[elememts[i]]=127;\n\t\tif(i==20) app[elememts[i]]=137;\n\t\tif(i==21) app[elememts[i]]=178.5;\n\t\tif(i==22) app[elememts[i]]=195;\n\t\tif(i==23) app[elememts[i]]=197;\n\t\tif(i==24) app[elememts[i]]=201;\n\t}\n}\n\ndouble water(int l,int r)\n{\n\tint i=l+1,num=0;\n\twhile(s[i]>='0'&&s[i]<='9')\n\t{\n\t\tnum=num*10+s[i]-'0';\n\t\ti++;\n\t}\n\tif(num==0) return 18;\n\treturn num*18;\n}\n\ndouble answer(int l,int r)\n{\n\tint i=l;\n\tdouble now=0,last=0;\n\twhile(i<=r)\n\t{\n\t\tif(s[i]>='A'&&s[i]<='Z')\n\t\t{\n\t\t\tif(s[i+1]>='a'&&s[i+1]<='z') \n\t\t\t{\n\t\t\t\tif(s[i+2]!='_')\n\t\t\t\t{\n\t\t\t\t\tstring str;\n\t\t\t\t\tstr+=s[i];\n\t\t\t\t\tstr+=s[i+1];\n\t\t\t\t\tnow+=app[str];\n\t\t\t\t\ti+=2;\n\t\t\t\t}\n\t\t\t\telse \n\t\t\t\t{\n\t\t\t\t\tstring str;\n\t\t\t\t\tstr+=s[i];\n\t\t\t\t\tstr+=s[i+1];\n\t\t\t\t\tnow+=app[str];\n\t\t\t\t\tlast=app[str];\n\t\t\t\t\ti+=2;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse \n\t\t\t{\n\t\t\t\tif(s[i+1]!='_')\n\t\t\t\t{\n\t\t\t\t\tstring str;\n\t\t\t\t\tstr=s[i];\n\t\t\t\t\tnow+=app[str];\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tstring str;\n\t\t\t\t\tstr=s[i];\n\t\t\t\t\tnow+=app[str];\n\t\t\t\t\tlast=app[str];\n\t\t\t\t\ti++;\n\t\t\t\t}\t\n\t\t\t}\n\t\t}\n\t\tif(s[i]=='(')\n\t\t{\n\t\t\tint j;\n\t\t\tfor(j=i+1;j<s.size();++j)\n\t\t\t{\n\t\t\t\tif(s[j]==')') break;\n\t\t\t}\n\t\t\tdouble t=answer(i+1,j-1);\n\t\t\ti=j+1;\n\t\t\tif(s[i]=='_') \n\t\t\t{\n\t\t\t\tlast=t;\n\t\t\t}\n\t\t\tnow+=t;\t\n\t\t}\n\t\tif(s[i]=='_')\n\t\t{\n\t\t\tif(last==0)\n\t\t\t{\n\t\t\t\tstring str2;\n\t\t\t\tstr2=s[i-1];\n\t\t\t\ti+=2; \n\t\t\t\tint num=0;\n\t\t\t\twhile(s[i]!='}')\n\t\t\t\t{\n\t\t\t\t\tnum=num*10+s[i]-'0';\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tnow+=(num-1)*app[str2];\t\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tint num=0;\n\t\t\t\ti+=2;\n\t\t\t\t//cout<<s[i]<<\" \";\n\t\t\t\twhile(s[i]!='}')\n\t\t\t\t{\n\t\t\t\t\tnum=num*10+s[i]-'0';\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tnow+=(num-1)*last;\n\t\t\t}\t\t\n\t\t\ti++;\t\n\t\t}\n\t\tif(s[i]=='~') return now; \n\t}\n\treturn now;\n}\n\nint main()\n{\n\tinit_elements();  //\u5316\u5b66\u5143\u7d20\u521d\u59cb\u5316\n\tcin>>s;\n\tans=answer(0,s.size()-1);  \n\tint t=s.find('~',0);\n\tif(t!=s.npos) ans+=water(t,s.size()-1);\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1628900792,
        "uid": 433518,
        "name": "\u540d\u5b57\u597d\u96be\u53d6144",
        "ccfLevel": 0,
        "title": "P4711\u3010\u5316\u5b66\u3011 \u76f8\u5bf9\u5206\u5b50\u8d28\u91cf \u7b80\u5355\u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u6709\u8fd9\u4e48\u7e41\u5417\uff1f\n\u6bcf\u6b21\u8bfb\u5165\u4e00\u4e2a\u5185\u5bb9\u5e76\u5224\u65ad\uff1a\n\n\uff081\uff09\uff1a\u2018~\u2019\uff0c\u5f80\u540e\u770b\uff0c\u662f\u6570\u5b57\u5c31\u53d6\u51fa\u6765\u4e58\u4ee518\uff1b\u662f\u2018H\u2019\u5c31\u76f4\u63a5\u52a0\u4e0a18\uff1b\n\n\uff082\uff09\uff1a\u2018(\u2019\uff0c\u5904\u7406\u5185\u90e8\u5185\u5bb9\u548c\u5916\u4fa7\u4e00\u6837\uff1b\n\n\uff083\uff09\uff1a\u5b57\u6bcd\uff0c\u53d6\u51fa\u8fd9\u79cd\u5143\u7d20\uff1b\n\n\uff084\uff09\uff1a\u6570\u5b57\uff0c\u53d6\u51fa\u6765\u5c31\u53ef\u4ee5\u3002\n\n\uff085\uff09\uff1a\u5176\u5b83\u5b57\u7b26\u65e0\u9700\u8003\u8651\u3002\n\n\u5176\u4e2d\u9047\u5230\u524d\u4e09\u79cd\u60c5\u51b5\u65f6\u7d2f\u52a0\u8fdb\u7b54\u6848\uff0c\u6700\u540e\u518d\u628a\u6ca1\u52a0\u7684\u52a0\u4e0a\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nmap<string, double> chem;\nvoid init() {\n\tchem[\"H\"] = 1;\n\tchem[\"C\"] = 12;\n\tchem[\"N\"] = 14;\n\tchem[\"O\"] = 16;\n\tchem[\"F\"] = 19;\n\tchem[\"Na\"] = 23;\n\tchem[\"Mg\"] = 24;\n\tchem[\"Al\"] = 27;\n\tchem[\"Si\"] = 28;\n\tchem[\"P\"] = 31;\n\tchem[\"S\"] = 32;\n\tchem[\"Cl\"] = 35.5;\n\tchem[\"C\"] = 12;\n\tchem[\"K\"] = 39;\n\tchem[\"Ca\"] = 40;\n\tchem[\"Mn\"] = 55;\n\tchem[\"Fe\"] = 56;\n\tchem[\"Cu\"] = 64;\n\tchem[\"Zn\"] = 65;\n\tchem[\"Ag\"] = 108;\n\tchem[\"I\"] = 127;\n\tchem[\"Ba\"] = 137;\n\tchem[\"Hf\"] = 178.5;\n\tchem[\"Pt\"] = 195;\n\tchem[\"Au\"] = 197;\n\tchem[\"Hg\"] = 201;\n}\nstring s;\ndouble ans = 0;\nint num = 1;\nstring ele;\ndouble szele;\nint into(int p0) {\n\tint p;\n\tfor (p = p0; s[p] != ')'; p++) {\n\t\tif (s[p] >= 'A' && s[p] <= 'Z') {\n\t\t\tszele += chem[ele] * num;\n\t\t\tnum = 1, ele.clear();\n\t\t\tele.push_back(s[p]);\n\t\t\tif (s[p+1] >= 'a' && s[p+1] <= 'z')\n\t\t\t\tele.push_back(s[++p]);\n\t\t}\n\t\tif (s[p] >= '0' && s[p] <= '9') {\n\t\t\tnum = s[p] - '0';\n\t\t\twhile (s[p+1] >= '0' && s[p+1] <= '9') num = num * 10 + s[++p] - '0';\n\t\t}\n\t}\n\tszele += chem[ele] * num;\n\treturn p;\n}\nint main() {\n\tinit();\n\tcin >> s;\n\tfor (int p = 0; p < s.size(); p++) {\n\t\tif (s[p] == '~') {\n\t\t\tif (!szele) szele = chem[ele];\n\t\t\tans += szele * num;\n\t\t\tszele = 0, num = 1, ele.clear();\n\t\t\tif (s[p+1] == 'H') {\n\t\t\t\tans += 18;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tnum = 0;\n\t\t\twhile (s[p+1] != 'H') num = num * 10 + s[++p] - '0';\n\t\t\tans += num * 18;\n\t\t\tbreak;\n\t\t}\n\t\tif (s[p] == '(') {\n\t\t\tif (!szele) szele = chem[ele];\n\t\t\tans += szele * num;\n\t\t\tszele = 0, num = 1, ele.clear();\n\t\t\tp = into(p + 1);\n\t\t\tcontinue;\n\t\t}\n\t\tif (s[p] >= 'A' && s[p] <= 'Z') {\n\t\t\tif (!szele) szele = chem[ele];\n\t\t\tans += szele * num;\n\t\t\tszele = 0, num = 1, ele.clear();\n\t\t\tele.push_back(s[p]);\n\t\t\tif (s[p+1] >= 'a' && s[p+1] <= 'z')\n\t\t\t\tele.push_back(s[++p]);\n\t\t}\n\t\tif (s[p] >= '0' && s[p] <= '9') {\n\t\t\tnum = s[p] - '0';\n\t\t\twhile (s[p+1] >= '0' && s[p+1] <= '9') num = num * 10 + s[++p] - '0';\n\t\t}\n\t}\n\tif (!szele) szele = chem[ele];\n\tans += szele * num; \n\tcout << ans << endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1554028254,
        "uid": 61068,
        "name": "01190220csl",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "~~\u8bdd\u8bf4\u8fd9\u9898\u4e3a\u4ec0\u4e48\u662f `\u63d0\u9ad8+\u7701\u9009-`~~\n\u8fd9\u9898\u53ea\u8981\u6309\u7167\u9898\u76ee\u8bf4\u7684\u505a\u5c31\u53ef\u4ee5\u4e86\uff08\u7528\u9012\u5f52\u4f1a\u6bd4\u8f83\u597d\uff09\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```\n#include <iostream>\n#include <string>\n#include <cctype>\n#include <map>\nusing namespace std;\n\nmap<string, double> m;\nvoid init()\n{\n    m[\"H\"] = 1;\n    m[\"C\"] = 12;\n    m[\"N\"] = 14;\n    m[\"O\"] = 16;\n    m[\"F\"] = 19;\n    m[\"Na\"] = 23;\n    m[\"Mg\"] = 24;\n    m[\"Al\"] = 27;\n    m[\"Si\"] = 28;\n    m[\"P\"] = 31;\n    m[\"S\"] = 32;\n    m[\"Cl\"] = 35.5;\n    m[\"K\"] = 39;\n    m[\"Ca\"] = 40;\n    m[\"Mn\"] = 55;\n    m[\"Fe\"] = 56;\n    m[\"Cu\"] = 64;\n    m[\"Zn\"] = 65;\n    m[\"Ag\"] = 108;\n    m[\"I\"] = 127;\n    m[\"Ba\"] = 137;\n    m[\"Hf\"] = 178.5;\n    m[\"Pt\"] = 195;\n    m[\"Au\"] = 197;\n    m[\"Hg\"] = 201;\n}\n\ndouble f(string str)\n{\n    if (m.count(str))\n        return m[str];\n    size_t pos = str.find('~');\n    if (pos != string::npos)\n        return f(str.substr(0, pos)) + f(str.substr(pos + 1));\n    if (isupper(str[0]))\n    {\n        int t = 1, flag = bool(islower(str[1])), ok = 0;\n        if (str[flag + 1] == '_')\n            t = stoi(str.substr(flag + 3, (pos = str.find('}')) - flag - 3)), ok = 1;\n        return t * m[str.substr(0, flag + 1)] + f(str.substr(ok ? (pos + 1) : (flag + 1)));\n    }\n    int t = 0, i = 0;\n    while (isdigit(str[i]))\n        t = t * 10 + str[i++] - '0';\n    if (t > 0)\n        return t * f(str.substr(i));\n    if (str[0] == '(')\n    {\n        int cnt = 1, len = str.length();\n        for (i = 1; i < len; i++)\n        {\n            if (str[i] == '(')\n                cnt++;\n            else if (str[i] == ')')\n                cnt--;\n            if (cnt == 0)\n                break;\n        }\n        t = 1;\n        if(str[i + 1] == '_')\n            t = stoi(str.substr(i + 3, (pos = str.find(i + 3, '}')) - i - 3)), cnt = 1;\n        return t * f(str.substr(1, i - 1)) + f(str.substr(cnt ? (i + 1) : (pos + 1)));\n    }\n    return 0;\n}\n\nint main()\n{\n    init();\n    string str;\n    cin >> str;\n    cout << f(str) << endl;\n    return 0;\n}\n```\n\u4ee3\u7801\u53ef\u80fd\u6709\u70b9\u4e71\uff0c\u4f46\u53ea\u8981\u8ba4\u771f\u4e00\u770b\u5c31\u4f1a\u53d1\u73b0\u5176\u5b9e\u8fd9\u9898\u5f88\u7b80\u5355\u3002\n\u5927\u5bb6\u6709\u6ca1\u6709\u6ce8\u610f\u5230\u4ee3\u7801\u4e2d\u7684`f`\u51fd\u6570\u4e2d\uff0c\u7528\u5230\u4e86\u4e00\u4e2a\u51fd\u6570`stoi`\uff0c\u8fd9\u4e2a\u51fd\u6570\u662f`C++11`\u65b0\u589e\u7684\uff0c\u53ef\u4ee5\u628a\u5b57\u7b26\u4e32\u53d8\u6210\u6574\u6570\u3002",
        "postTime": 1530760387,
        "uid": 84282,
        "name": "andyli",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "## \u840c\u65b0\u6765\u6c34\u9898\u89e3\uff0c\u795e\u7287\u52ff\u55b7:)\nemmm\u4e00\u9053\u7ecf\u5178\u7684\u66b4\u529b\u6a21\u62df\u7684\u9898\u76ee\uff08\u4f5c\u4e3a\u61d2\u764c\u60a3\u8005\u672c\u849f\u84bb\u8868\u793a\u5f88\u5934\u75bc\uff09\u7136\u800c\u4f5c\u4e3a\u552f(du)\u4e00(xiu)\u7684P\u515a\u2026\u2026\u8bdd\u4e0d\u591a\u8bf4\uff0c\u4e0a\u9898\u89e3\uff01\n```pascal\nvar s,s1,s2:string;\n    tot,m,mm:real;\n    l,ll,r,rr,x:longint;\nbegin\n  readln(s);//\u4e00\u4e2a\u770b\u4f3c\u6b63\u5e38\u7684\u8bfb\u5165\n  while length(s)>0 do\n  begin\n    if ('A'<=s[1]) and (s[1]<='Z') then\n    begin\n      tot:=tot+m;\n      if ('a'<=s[2]) and (s[2]<='z') then s1:=copy(s,1,2)\n        else s1:=copy(s,1,1);//\u622a\u53d6\u539f\u5b50\u7684\u5316\u5b66\u5f0f\n      r:=length(s1);\n      case s1 of\n        'H':m:=1;\n        'C':m:=12;\n        'N':m:=14;\n        'O':m:=16;\n        'F':m:=19;\n        'Na':m:=23;\n        'Mg':m:=24;\n        'Al':m:=27;\n        'Si':m:=28;\n        'P':m:=31;\n        'S':m:=32;\n        'Cl':m:=35.5;\n        'K':m:=39;\n        'Ca':m:=40;\n        'Mn':m:=55;\n        'Fe':m:=56;\n        'Cu':m:=64;\n        'Zn':m:=65;\n        'Ag':m:=108;\n        'I':m:=127;\n        'Ba':m:=137;\n        'Hf':m:=178.5;\n        'Pt':m:=195;\n        'Au':m:=197;\n        'Hg':m:=201;\n      end;\n    end;//\u6253\u8868\u5224\u65ad\n    if s[1]='_' then\n    begin\n      l:=3;\n      r:=pos('}',s);\n      val(copy(s,l,r-l),x);\n      m:=m*x;\n    end;//another \u60c5\u51b5\n    if s[1]='(' then//\u53c8another\u60c5\u51b5\uff0c\u5373\u5316\u5b66\u5f0f\u4e2d\u7684\u5316\u5b66\u5f0f\uff0c\u5d4c\u5957\n    begin\n      tot:=tot+m;\n      m:=0;\n      l:=2;\n      r:=pos(')',s);\n      s1:=copy(s,l,r-l);\n      while length(s1)>0 do\n      begin\n        if ('A'<=s1[1]) and (s1[1]<='Z') then\n        begin\n          m:=m+mm;\n          if ('a'<=s1[2]) and (s1[2]<='z') then s2:=copy(s1,1,2)\n            else s2:=copy(s1,1,1);\n          rr:=length(s2);\n          case s2 of\n            'H':mm:=1;\n            'C':mm:=12;\n            'N':mm:=14;\n            'O':mm:=16;\n            'F':mm:=19;\n            'Na':mm:=23;\n            'Mg':mm:=24;\n            'Al':mm:=27;\n            'Si':mm:=28;\n            'P':mm:=31;\n            'S':mm:=32;\n            'Cl':mm:=35.5;\n            'K':mm:=39;\n            'Ca':mm:=40;\n            'Mn':mm:=55;\n            'Fe':mm:=56;\n            'Cu':mm:=64;\n            'Zn':mm:=65;\n            'Ag':mm:=108;\n            'I':mm:=127;\n            'Ba':mm:=137;\n            'Hf':mm:=178.5;\n            'Pt':mm:=195;\n            'Au':mm:=197;\n            'Hg':mm:=201;\n          end;\n        end;\n        if s1[1]='_' then\n        begin\n          ll:=3;\n          rr:=pos('}',s1);\n          val(copy(s1,ll,rr-ll),x);\n          mm:=mm*x;\n        end;\n        delete(s1,1,rr);\n      end;\n      m:=m+mm;\n    end;//\u5224\u65ad\u6574\u4e2a\u62ec\u53f7\u5185\u7684\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\n    if s[1]='~' then\n    begin\n      tot:=tot+m;\n      if s[2]='H' then m:=18\n      else\n      begin\n        val(copy(s,2,pos('H',s)-2),x);\n        m:=18*x;//\u4e0d\u7528\u8bf4\u4e86\u4e00\u5b9a\u662fH2O\n      end;\n      r:=length(s);\n    end;\n    delete(s,1,r);//\u5224\u65ad\u5b8c\u4e00\u90e8\u5206\u5220\u6389\u4e00\u90e8\u5206\n  end;\n  tot:=tot+m;\n  writeln(tot:0:1);//\u53d6\u5c0f\u6570\u70b9\u540e\u4e00\u4f4d\nend.\n```\n\u5927\u529f\u544a\u6210\uff01\n\u603b\u7684\u6765\u8bf4\u5c31\u662f\u5c06\u5316\u5b66\u5f0f\u5206\u6210\u4e00\u4e2a\u4e2a\u5c0f\u90e8\u5206\uff08\u8fd9\u4e2a\u8c01\u90fd\u77e5\u9053\u2014w\u2014b\uff09\u7136\u540e\u518d\u4e00\u5757\u4e00\u5757\u5730\u52a0\u8d77\u6765\u2014\u2014\u6a21\u62df\u662f\u6b63\u89e3\uff01\n#### \u4e2a\u4eba\u8ba4\u4e3a\u62ec\u53f7\u7684\u5904\u7406\u5e94\u8be5\u662f\u6700\u9ebb\u70e6\u7684\uff0c\u56e0\u4e3a\u7a0b\u5e8f\u91cc\u8fd8\u8981\u518d\u5957\u4e00\u6bb5\u7a0b\u5e8f\uff08\u53ef\u80fd\u5b50\u7a0b\u5e8f\u4f1a\u53cb\u597d\u4e00\u70b9\uff09\n### \u4e0d\u8fc7\u603b\u800c\u8a00\u4e4b\u3001\u8a00\u800c\u603b\u4e4b\u4e0d\u8981\u88ab\u773c\u524d\u7684\u96be\u5ea6\u8bc4\u4ef7\u6240\u8ff7\u60d1\u2014\u2014\u771f\u7684\u6ca1\u90a3\u4e48\u96be\uff01\uff01\uff01",
        "postTime": 1530632770,
        "uid": 36908,
        "name": "Gu_Pigeon",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "\u4e00\u9053\u7eaf\u6a21\u62df\uff0c\u4e0d\u5982\u8ba9\u849f\u84bb\u6765\u4e00\u7bc7\u9898\u89e3\n\n\u975e\u5e38\u7684\u65e0\u8111\uff0c\u628a\u6240\u6709\u5143\u7d20\u7528\u53d8\u91cf\u5b58\u4e00\u4e0b\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u7528 m() \u51fd\u6570\u627e\u51fa\u5bf9\u5e94\u5143\u7d20\u7684\u8d28\u91cf\n\n\u7136\u540e\u5c31\u65e0\u8111\u6a21\u62df\u5c31OK\u5566~\n\n\u5982\u679c\u8bf8\u4f4d\u5927\u4f6c\u6709\u66f4\u597d\u7684\u601d\u8def\uff0c\u6b22\u8fce\u8bc4\u8bba\uff01\n\n```cpp\n#include <stdio.h>\n#include <string.h>\n#include <iostream>\nusing namespace std;\n\nfloat H\t= 1 ;\nfloat C\t= 12;\nfloat N\t= 14;\nfloat O\t= 16;\nfloat F\t= 19;\nfloat Na= 23;\nfloat Mg= 24;\nfloat Al= 27;\nfloat Si= 28;\nfloat P\t= 31;\nfloat S\t= 32;\nfloat Cl= 35.5;\nfloat K\t= 39;\nfloat Ca= 40;\nfloat Mn= 55;\nfloat Fe= 56;\nfloat Cu= 64;\nfloat Zn= 65;\nfloat Ag= 108;\nfloat I\t= 127;\nfloat Ba= 137;\nfloat Hf= 178.5;\nfloat Pt= 195;\nfloat Au= 197;\nfloat Hg= 201;\nfloat HO= 18;\nfloat ans   ;\n\nstring M;\nint len,flag;\n\nfloat m(int i)\n{\n    if(M[i] == 'H'){\n        if(M[i+1] == 'f'){flag = 1;return Hf;}\n        if(M[i+1] == 'g'){flag = 1;return Hg;}\n        else\t\t\t\t\t  {return H ;}\n    } \n    if(M[i] == 'N'){\n        if(M[i+1] == 'a'){flag = 1;return Na;}\n        else\t\t\t\t\t  {return N ;}\n    }\n    if(M[i] == 'A'){\n        if(M[i+1] == 'l'){flag = 1;return Al;}\n        if(M[i+1] == 'u'){flag = 1;return Au;}\n        if(M[i+1] == 'g'){flag = 1;return Ag;}\n    }\n    if(M[i] == 'I')\t\t\t  \t  {return I ;}\n    if(M[i] == 'O')\t\t\t  \t  {return O ;}\n    if(M[i] == 'F'){\n        if(M[i+1] == 'e'){flag = 1;return Fe;}\n        else\t\t\t\t\t  {return F ;}\n    }\n    if(M[i] == 'M'){\n        if(M[i+1] == 'g'){flag = 1;return Mg;}\n        if(M[i+1] == 'n'){flag = 1;return Mn;}\n    }\n    if(M[i] == 'S'){\n        if(M[i+1] == 'i'){flag = 1;return Si;}\n        else\t\t\t\t\t  {return S ;}\n    }\n    if(M[i] == 'C'){\n        if(M[i+1] == 'l'){flag = 1;return Cl;}\n        if(M[i+1] == 'a'){flag = 1;return Ca;}\n        if(M[i+1] == 'u'){flag = 1;return Cu;}\n        else\t\t\t\t\t  {return C ;}\n    }\n    if(M[i] == 'P'){\n        if(M[i+1] == 't'){flag = 1;return Pt;}\n        else\t\t\t\t\t  {return P ;}\n    }   \n    if(M[i] == 'B')\t\t {flag = 1;return Ba;}\n    if(M[i] == 'Z')\t\t {flag = 1;return Zn;}\n    if(M[i] == 'K')\t\t \t\t  {return K ;}\n    return -1;\n}\n\nint main()\n{\n    cin >> M;\n    len = M.size();\n    for(int i=0;i<len;i++)\n    {\n        if(M[i] == '_'){\n            int num = M[i+2]-48;\n            if(m(i-1) == -1)ans += (num-1)*m(i-2);\n            else\t\t\tans += (num-1)*m(i-1);\n            flag = 0;\n            i += 3;\n        }\n        else if(M[i] == '('){\n            float _ans;\tint num;\n            while(M[++i] !=')'){\n                if(M[i] == '_'){\n                    int num = M[i+2]-48;\n                    if(m(i-1) == -1)_ans += (num-1)*m(i-2);\n                    else\t\t\t_ans += (num-1)*m(i-1);\n                    flag = 0;\n                    i += 3;\n                }\n                else{\n                    _ans += m(i);\n                    if(flag == 1)\ti++,flag=0;\n                }\n            }\n            if(M[++i] == '_'){\n                i+=2;\n                int num = M[i]-48;\n                while(1<M[++i]-48 && M[i]-48<=9){\n                    num *= 10;\n                    num += M[i]-48;\n                }\n                ans += _ans*(num);\n            }\n        }\n        else if(M[i] == '~'){\n            int num = 1;\n            if(1<=M[++i]-48 && M[i]-48<=9){\n                num = M[i]-48;\n                while(1<=M[++i]-48 && M[i]-48<=9){\n                    num *= 10;\n                    num += M[i++]-48;\n                }\n            }\n            ans += num*HO;\n            i += 6;\n        }\n        else{\n            ans += m(i);\n            if(flag == 1)\ti++,flag=0;\n        }\n    }\n    cout << ans << endl;\n    return 0;\n}\n\n```",
        "postTime": 1529379772,
        "uid": 47629,
        "name": "A4paper",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "### \u4e00\u9053\u6ca1\u600e\u4e48\u6709\u6280\u672f\u542b\u91cf\u7684\u5927\u6a21\u62df\n#### \u76f4\u63a5\u4e0a\u4ee3\u7801\uff1a\n\n```c\n#include<map>//map\u5927\u6cd5\u597d\n#include<cstring>\n#include<iostream>\nusing namespace std;\nmap<string,double> ma;\nstring s;\ndouble ans,nans;//ans\u662f\u6700\u7ec8\u7b54\u6848,nans\u662f\u5f53\u524d\u90e8\u5206\u4e34\u65f6\u7684\u7b54\u6848\uff08\u6bd4\u5982\u62ec\u53f7\u5185\u7684\u4e00\u90e8\u5206\uff09\nbool A(char c){return (c>='A' && c<='Z');}//\u5224\u65ad\u662f\u5426\u4e3a\u5927\u5199\u5b57\u6bcd\nbool a(char c){return (c>='a' && c<='z');}//\u5224\u65ad\u662f\u5426\u4e3a\u5c0f\u5199\u5b57\u6bcd\nint main()\n{\n\tma[\"H\"]=1;ma[\"C\"]=12;ma[\"N\"]=14;ma[\"O\"]=16;\n\tma[\"F\"]=19;ma[\"Na\"]=23;ma[\"Mg\"]=24;ma[\"Al\"]=27;\n\tma[\"Si\"]=28;ma[\"P\"]=31;ma[\"S\"]=32;ma[\"Cl\"]=35.5;\n\tma[\"K\"]=39;ma[\"Ca\"]=40;ma[\"Mn\"]=55;ma[\"Fe\"]=56;\n\tma[\"Cu\"]=64;ma[\"Zn\"]=65;ma[\"Ag\"]=108;ma[\"I\"]=127;\n\tma[\"Ba\"]=137;ma[\"Hf\"]=178.5;ma[\"Pt\"]=195;\n\tma[\"Au\"]=197;ma[\"Hg\"]=201;\n    //\u5148\u9884\u5904\u7406\u4e00\u4e0b\u5143\u7d20\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\n\tcin>>s;//\u8bfb\u5165\u5b57\u7b26\u4e32\n\tint l=s.length(),now=0;//l\u4e3a\u5b57\u7b26\u4e32\u957f\u5ea6,now\u662f\u5f53\u524d\u7684\u4f4d\u7f6e\n\twhile(now<l){\n\t\tif(s[now]=='('){//\u5982\u679c\u8bfb\u5230\u5de6\u62ec\u53f7\n\t\t\tnow++;//\u4f4d\u7f6e+1\n\t\t\tans+=nans;//\u628a\u4e34\u65f6\u7b54\u6848\u52a0\u5230ans\u91cc\n\t\t\tnans=0;//\u4e34\u65f6\u7b54\u6848\u6e05\u96f6\n\t\t\twhile(s[now]!=')'){//\u5982\u679c\u5f53\u524d\u4e0d\u662f\u53f3\u62ec\u53f7\n\t\t\t\twhile(A(s[now])){//\u5982\u679c\u662f\u5143\u7d20\u5f00\u5934\uff08\u5927\u5199\u5b57\u6bcd\uff09\n\t\t\t\t\tstring ss=\"\";//\u5b9a\u4e49\u4e00\u4e2a\u5b57\u7b26\u4e32\n\t\t\t\t\tss+=s[now];\n\t\t\t\t\twhile(a(s[++now])){//\u5c0f\u5199\u5b57\u6bcd\u8bf4\u660e\u8fd8\u662f\u540c\u4e00\u4e2a\u5143\u7d20\n\t\t\t\t\t\tss+=s[now];//\u50a8\u5b58\n\t\t\t\t\t}\n\t\t\t\t\tif(s[now]=='_'){//'_'\u8bf4\u660e\u6709\u7cfb\u6570\n\t\t\t\t\t\tnans+=(s[now+2]-'0')*ma[ss];\n                    //\u5f80\u540e\u6570\u7b2c\u4e8c\u4e2a\u662f\u7cfb\u6570,\u4e58\u8d77\u6765\u52a0\u5230\u4e34\u65f6\u53d8\u91cf\u91cc\u53bb\n\t\t\t\t\t\tnow+=4;//\u4f4d\u7f6e\u540e\u79fb\n\t\t\t\t\t}\n\t\t\t\t\telse nans+=ma[ss];//map\u6620\u5c04,\u52a0\u5165\u603b\u7b54\u6848\n\t\t\t\t} \n\t\t\t}\n\t\t}\n\t\telse if(A(s[now]))//\u4e0e\u4e0a\u9762\u76f8\u540c,\u4e0d\u89e3\u91ca\n\t\t\twhile(A(s[now]))\n\t\t\t{\n\t\t\t\tstring ss=\"\";\n\t\t\t\tss+=s[now];\n\t\t\t\twhile(a(s[++now])){\n\t\t\t\t\tss+=s[now];\n\t\t\t\t}\n\t\t\t\tif(s[now]=='_'){\n\t\t\t\t\tnans+=(s[now+2]-'0')*ma[ss];\n\t\t\t\t\tnow+=4;\n\t\t\t\t}\n\t\t\t\telse nans+=ma[ss];\n\t\t\t} \n\t\telse if(s[now]=='_'){\n\t\t\tans+=(s[now+2]-'0')*nans;\n\t\t\tnow+=4;nans=0;//\u6ce8\u610f\u8fd9\u91cc\u56e0\u4e3a\u4e0d\u5728\u62ec\u53f7\u5185,\u591a\u4e86\u4e00\u4e2a\u6e05\u96f6\n\t\t}\n\t\telse if(s[now]=='~'){//\u5982\u679c\u662f\u6c34\u5408\u7269\n\t\t\tans+=nans;nans=0;//\u5148\u628a\u4e34\u65f6\u7b54\u6848\u52a0\u4e0a\u5e76\u6e05\u96f6\n\t\t\tif(s[++now]>='1' && s[now]<='9')//\u5982\u679c\u7b2c\u4e00\u4f4d\u662f\u6570\u5b57\n\t\t\t\twhile(s[now]>='0' && s[now]<='9')\n                \tnans=nans*10+s[now++]-'0';//\u5c31\u8ba1\u7b97\u7cfb\u6570\n\t\t\telse nans=1;//\u4e0d\u662f\u6570\u5b57\u5c31\u9ed8\u8ba4\u4e3a\u4e00\n\t\t\tans+=nans*18;\u7b54\u6848\u52a0\u4e0a\u7cfb\u6570\u4e58\u4ee5\u6c34\u7684\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf18\n\t\t\tnans=0;//\u6e05\u7a7a\u4e34\u65f6\u7b54\u6848\n\t\t\tnow+=6;//\u4f4d\u7f6e\u540e\u79fb\uff08\u5176\u5b9e\u4e5f\u53ef\u4ee5\u76f4\u63a5break\uff09\n\t\t}\n\t}\n\tcout<<ans+nans;\u8f93\u51fa\u7b54\u6848\u52a0\u4e0a\u4e34\u65f6\u7b54\u6848\n\treturn 0;//\u597d\u4e60\u60ef\n}\n```\n\u773c\u7741\u7741\u770b\u7740\u8fd9\u9053\u9898\u88ab\u5237\u6210\u63d0\u9ad8+/\u7701\u9009-\n\n\u5176\u5b9e\u6ca1\u6709\u90a3\u4e48\u96be , \u7a0d\u5fae\u7ec6\u5fc3\u4e00\u70b9\u5c31\u80fd\u505a\u5bf9",
        "postTime": 1529378602,
        "uid": 56653,
        "name": "\u73c5\u8090",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "\u5927\u6982\u662f\u849f\u84bb\u7684\u7b2c2\u7bc7\u9898\u89e3\u4e86\u3002\n\n\u4eca\u5929\u8fc7\u6765\u770b\u5c45\u7136\u6210\u4e86\u84dd\u9898\u2026\u2026 \u5728\u6211\u770b\u6765\u8fd9\u9053\u9898\u9664\u4e86\u8981\u8010\u5fc3\u4e00\u70b9\u6ca1\u6709\u7b97\u6cd5\u96be\u5ea6\u554a\u2026\u2026\n\n\u4e0d\u778e\u626f\uff0c\u8fd9\u9053\u9898\u5c31\u662f\u626b\u4e00\u904d\u5b57\u7b26\u4e32\uff0c\u5e72\u8106\u4e0a\u4ee3\u7801 + \u6ce8\u91ca\u5427\u3002\n\n\u57fa\u672c\u601d\u8def\uff1a\n\n1. \u9996\u5148\u7b97\u51fa\u6c34\u5408\u90e8\u5206\u7684\u8d28\u91cf\uff0c\u7136\u540e\u622a\u6389\u90a3\u4e00\u90e8\u5206\u518d\u5904\u7406\u53ef\u4ee5\u964d\u4f4e\u4e00\u70b9\u601d\u8003\u96be\u5ea6\uff1b\n\n2. \u5206\u5b50\u90e8\u5206\u6bcf\u4e00\u90e8\u5206\u90fd\u662f \u201c\u90e8\u5206_{\u6570\u91cf}\u201d \uff0c\u6240\u4ee5\u5224\u65ad\u8fd9\u91cc\u7684\u65f6\u5019\u5148\u626b\u5230\u5927\u62ec\u53f7\uff0c\u628a\u7cfb\u6570\u5b58\u4e0b\u6765\uff0c\u518d\u53bb\u626b\u5316\u5b66\u5f0f\u90e8\u5206\u7b97\u8d28\u91cf\uff0c\u6700\u540e\u8fd9\u90e8\u5206\u7684\u8d28\u91cf\u5c31\u662f \u7cfb\u6570 * \u90e8\u5206\u8d28\u91cf\u3002\n\n3. \u81f3\u4e8e\u5206\u5b50\u90e8\u5206\u5916\u9762\u6709\u62ec\u53f7\u7684\u8bdd\uff0c\u5176\u5b9e\u91cc\u9762 \u201c\u5143\u7d20_{ \u6570\u91cf }\u201d \u7684\u5904\u7406\u4e0e2\u76f8\u4f3c\u3002\n\n4. \u63a5\u4e0a\u9762\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u5316\u5b66\u5f0f\uff08\u5143\u7d20\uff09\u90e8\u5206\u90fd\u4f1a\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\uff0c\u6240\u4ee5\u5224\u65ad\u8fd9\u4e2a\u5f88\u65b9\u4fbf\u3002\n\n5. map + string \u5927\u6cd5\u3002\n\n(ps. \u53d8\u91cf\u540d\u662f\u6211\u6628\u665a\u767e\u5ea6\u7684\u82f1\u6587\u2026\u2026~~\u5410\u69fd\u6bd2\u7624\u7684\u6211\u540c\u610f\u4f60\u7684\u770b\u6cd5~~ \u7b11)\n\n```cpp\n#include <map>\n#include <cctype>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nmap<string, double> atom;\n\nchar Molecole[105];\n\ninline void Set_Atom_mass() {\t// \u521d\u59cb\u5316map\n\tatom[\"H\"] = 1, atom[\"He\"] = 2;\n\tatom[\"C\"] = 12, atom[\"N\"] = 14, atom[\"O\"] = 16, atom[\"F\"] = 19;\n\tatom[\"Na\"] = 23, atom[\"Mg\"] = 24, atom[\"Al\"] = 27, atom[\"Si\"] = 28;\n\tatom[\"S\"] = 32, atom[\"Cl\"] = 35.5, atom[\"K\"] = 39, atom[\"Ca\"] = 40;\n\tatom[\"Mn\"] = 55, atom[\"Fe\"] = 56, atom[\"Cu\"] = 64, atom[\"Zn\"] = 65;\n\tatom[\"Ag\"] = 108, atom[\"I\"] = 127, atom[\"Ba\"] = 137, atom[\"Hf\"] = 178.5;\n\tatom[\"P\"] = 31, atom[\"Pt\"] = 195, atom[\"Au\"] = 197, atom[\"Hg\"] = 201;\n}\n\ninline bool Ishulet(char x) {\t// \u5927\u5199\u5b57\u6bcd\n\tif( x >= 'A' && x <= 'Z' ) return true;\n\telse return false;\n}\ninline bool Ispilet(char x) {\t// \u5c0f\u5199\u5b57\u6bcd\n\tif( x >= 'a' && x <= 'z' ) return true;\n\telse return false;\n}\n\nint main(int argc, char const *argv[])\n{\n\tscanf(\"%s\", Molecole), Set_Atom_mass();\n\tint len = strlen(Molecole);\n\n\tdouble Molecole_mass = 0;\n\tfor(int i = 0; i < len; ++i)\n\t\tif( Molecole[i] == '~' ) {\t// \u626b\u5230\u6c34\u5408\u90e8\u5206\uff0c\u5148\u52a0\u5230\u7b54\u6848\u91cc\u7136\u540e\u622a\u6389\n\t\t\tint t = i, Coefficient = 0;  len = i;\n\t\t\twhile( isdigit( Molecole[++t] ) )\t// \u7b97\u7cfb\u6570\n\t\t\t\tCoefficient = (Coefficient * 10) + (Molecole[t] ^ 48);\n\t\t\tif( !Coefficient ) Molecole_mass = 18;\n\t\t\telse Molecole_mass = 18 * Coefficient;\t// \u6c34\u5206\u5b50\u8d28\u91cf\u4e58\u7cfb\u6570\n\t\t}\n\n\tfor(int i = 0; i < len; ++i)\n\t\tif( Molecole[i] == '(' ) {\t\t// \u539f\u5b50\u56e2\n\t\t\tint t = i, Coefficient = 0;\n\t\t\tdouble Atomic_mass = 0;\n\t\t\twhile( Molecole[++t] != ')' );\n\t\t\tint p = t;\n\t\t\tif( Molecole[t+1] == '_' ) {\t// \u7b97\u7cfb\u6570\n\t\t\t\twhile( !isdigit( Molecole[p] ) ) ++p;\n\t\t\t\twhile( isdigit( Molecole[p] ) )\n\t\t\t\t\tCoefficient = (Coefficient * 10) + (Molecole[p] ^ 48), ++p;\n\t\t\t}\n\t\t\telse Coefficient = 1;\n\n\t\t\twhile( i < t ) {\t// \u539f\u5b50\u56e2\u91cc\u7684\u5355\u4e2a\u5143\u7d20\uff0c\u540c\u4e0b\n\t\t\t\tif( Ishulet( Molecole[i] ) ) {\n\t\t\t\t\tstring Element; Element += Molecole[i];\n\t\t\t\t\tif( Ispilet( Molecole[i+1] ) ) Element += Molecole[++i];\n\t\t\t\t\tdouble Element_mass = atom[Element];\n\t\t\t\t\tif( Molecole[i+1] != '_' ) {\n\t\t\t\t\t\tAtomic_mass += Element_mass, ++i; continue;\n\t\t\t\t\t}\n\t\t\t\t\twhile( !isdigit( Molecole[i] ) ) ++i;\n\t\t\t\t\tint Coefficient = 0;\n\t\t\t\t\twhile( isdigit( Molecole[i] ) )\t\t// \u7b97\u7cfb\u6570\n\t\t\t\t\t\tCoefficient = (Coefficient * 10) + (Molecole[i] ^ 48), ++i;\n\t\t\t\t\tAtomic_mass += Coefficient * Element_mass;\t// \u90e8\u5206\u8d28\u91cf\u4e58\u7cfb\u6570\n\t\t\t\t}\n\t\t\t\t++i;\n\t\t\t}\n\t\t\tMolecole_mass += Coefficient * Atomic_mass;\n\t\t\ti = p;\n\t\t}\n\t\telse if( Ishulet( Molecole[i] ) ) {\t\t// \u5355\u4e2a\u5143\u7d20\n\t\t\tstring Element; Element += Molecole[i];\n\t\t\tif( Ispilet( Molecole[i+1] ) ) Element += Molecole[++i];\n\t\t\tdouble Element_mass = atom[Element];\n\t\t\tif( Molecole[i+1] != '_' ) {\t// \u6ca1\u6709\u7cfb\u6570\n\t\t\t\tMolecole_mass += Element_mass; continue;\n\t\t\t}\n\t\t\twhile( !isdigit( Molecole[i] ) ) ++i;\n\t\t\tint Coefficient = 0;\n\t\t\twhile( isdigit( Molecole[i] ) ) \t// \u7b97\u7cfb\u6570\n\t\t\t\tCoefficient = (Coefficient * 10) + (Molecole[i] ^ 48), ++i;\n\t\t\tif( !Coefficient ) Coefficient = 1;\n\t\t\tMolecole_mass += Coefficient * Element_mass;\t// \u90e8\u5206\u8d28\u91cf\u4e58\u7cfb\u6570\n\t\t}\n\t\t\n\tcout << Molecole_mass << endl;\t// \u6700\u7ec8\u7b54\u6848\n    \n\t// printf(\"_______________________________________________\\n\");\n\t// printf(\"Process Exited Correctly With A Return Value 0.\\n\");\n\treturn 0;\n}\n\n```\n\n\u5982\u679c\u4e0d\u61c2\u5c31\u95ee\u5427x\u3002",
        "postTime": 1529378098,
        "uid": 59478,
        "name": "\u67d2\u547d\u4e5d\u9668_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "\t\u5927\u6a21\u62df\uff0c\u53c8\u6ca1\u6709\u90e8\u5206\u5206...\u5bf9\u4e8e\u7801\u529b\u5dee\u7684\u9009\u624b\u6781\u4e0d\u53cb\u597d\u3002  \n\t\n    \u9996\u5148\u770b\u4e00\u70b9\u7b80\u5355\u7684\u90e8\u5206\uff0c\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u7b26\u53f7\u7684\uff0c\u8fd9\u662f\u5176\u4ed6\u90e8\u5206\u7684\u57fa\u7840\uff0c\u53ef\u4ee5\u60f3\u5230\u7528\u4e00\u4e2amap\u6765\u4fdd\u5b58\u5143\u7d20\u7684\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\uff0c\u5982\u679c\u6015\u51fa\u73b0\u7cbe\u5ea6\u95ee\u9898\uff0c\u53ef\u4ee5\u5168\u90e8*10\uff0c\u8f93\u51fa\u65f6\u518d/10\uff0c\u8fd9\u4e2a\u8868\u53ef\u4ee5\u624b\u52a8\u6253\u4e5f\u53ef\u4ee5\u7528word\u7684\u4e00\u4e9b\u5947\u5999\u5e94\u7528\u6765\u5b9e\u73b0\u3002\uff08\u5177\u4f53\u53c2\u89c1\u51fa\u9898\u4eba\u6628\u665a\u7684\u76f4\u64ad\u6253\u8868\uff09\n    \n\t\u9996\u5148\u662f\u8bfb\u5165\uff0c\u65e2\u7136\u6ca1\u6709\u7a7a\u683c\uff0c\u76f4\u63a5cin\u5c31\u53ef\u4ee5\u3002\u56e0\u4e3a\u62ec\u53f7\u6ca1\u6709\u5d4c\u5957\uff0c\u6240\u4ee5\u4ece\u5934\u5f00\u59cb\u626b\u4e00\u904d\uff0c\u8fb9\u626b\u8fb9\u505a\u3002\n\n1.\u5982\u679c\u627e\u5230\u4e00\u4e2a\u5927\u5199\u5b57\u6bcd\uff0c\u5c31\u770b\u770b\u4e4b\u540e\u6709\u6ca1\u6709\u7d27\u90bb\u7684\u5c0f\u5199\u5b57\u6bcd\uff0c\u4ece\u800c\u7ec4\u5408\u51fa\u8fd9\u4e2a\u5143\u7d20\u7b26\u53f7\uff0c\u518d\u5411\u540e\u626b\uff0c\u5982\u679c\u6709\u4e0b\u5212\u7ebf\uff0c\u5c31\u5411\u540e\u8df3\u4e24\u6b65\uff0c\u6309\u7167\u5feb\u901f\u8bfb\u5165\u7684\u601d\u8def\u8bfb\u5165\u4e0b\u6807\u3002\n\n2.\u5982\u679c\u627e\u5230\u4e00\u4e2a~\uff0c\u5c31\u8bfb\u5165\u6c34\u7684\u7cfb\u6570\uff0c\u52a0\u8fdbans\u91cc\uff0c\u6ce8\u610f\uff1a\u6c34\u53ef\u80fd\u6ca1\u6709\u7cfb\u6570\uff08$NH_{3}-H_{2}O$)\n\n3.\u5982\u679c\u51fa\u73b0\u5de6\u62ec\u53f7\uff0c\u5c31\u9012\u5f52\u7684\u8fdb\u884c\u4e0a\u8ff0\u8fc7\u7a0b\uff0c\u4f46\u662f\u62ec\u53f7\u6ca1\u6709\u5d4c\u5957\uff0c\u6240\u4ee5\u53ef\u4ee5\u5077\u61d2\u4e00\u4e0b\uff0c\u76f4\u63a5\u628a1\u90e8\u5206\u7684\u4ee3\u7801\u590d\u5236\u8fc7\u6765...\n\n\u7136\u540e\u5c31\u505a\u5b8c\u4e86\u3002\n\n```cpp\n# include <cstdio>\n# include <iostream>\n# include <cstring>\n# include <string>\n# include <map>\n\nusing namespace std;\n\nstring a,no;\nint l,h=0,ans=0,num;\nmap <string,int> m;\n\nvoid init()\n{\n\tm[\"H\"]=10;\n\tm[\"C\"]=120;\n\tm[\"N\"]=140;\n\tm[\"O\"]=160;\n\tm[\"F\"]=190;\n\tm[\"Na\"]=230;\n\tm[\"Mg\"]=240;\n\tm[\"Al\"]=270;\n\tm[\"Si\"]=280;\n\tm[\"P\"]=310;\n\tm[\"S\"]=320;\n\tm[\"Cl\"]=355;\n\tm[\"K\"]=390;\n\tm[\"Ca\"]=400;\n\tm[\"Mn\"]=550;\n\tm[\"Fe\"]=560;\n\tm[\"Cu\"]=640;\n\tm[\"Zn\"]=650;\n\tm[\"Ag\"]=1080;\n\tm[\"I\"]=1270;\n\tm[\"Ba\"]=1370;\n\tm[\"Hf\"]=1785;\n\tm[\"Pt\"]=1950;\n\tm[\"Au\"]=1970;\n\tm[\"Hg\"]=2010;\n}\n\nint main()\n{\n\tcin>>a;\n\tl=a.length();\n\tinit();\n\th=0;\n\tno=\"\";\n\twhile (h!=l)\n\t{\n\t\tif(a[h]=='(')\n\t\t{\n\t\t\tint s=0;\n\t\t\th++;\n\t\t\twhile (a[h]!=')')\n\t\t\t{\n\t\t\t\tno=\"\";\n\t\t\t\tif(a[h]>='A'&&a[h]<='Z')\n\t\t\t\t{\n\t\t\t\t\tif(a[h+1]<='z'&&a[h+1]>='a') no+=a[h],no+=a[h+1],h++;\n\t\t\t\t\t\telse no+=a[h];\n\t\t\t\t}\n\t\t\t\tif(a[h+1]!='_')\n\t\t\t\t{\n\t\t\t\t\ts+=m[no];\n\t\t\t\t\tno=\"\";\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\th=h+3;\n\t\t\t\t\tnum=0;\n\t\t\t\t\twhile (a[h]>='0'&&a[h]<='9')\n\t\t\t\t\t{\n\t\t\t\t\t\tnum=(num<<3)+(num<<1)+(a[h]^48);\n\t\t\t\t\t\th++;\n\t\t\t\t\t}\n\t\t\t\t\ts+=num*m[no];\n\t\t\t\t\tno=\"\";\n\t\t\t\t}\n\t\t\t\th++;\n\t\t\t}\n\t\t\tif(a[h+1]!='_')\n\t\t\t\tans+=s;\n\t\t\telse\n\t\t\t{\n\t\t\t\th=h+3;\n\t\t\t\tnum=0;\n\t\t\t\twhile (a[h]>='0'&&a[h]<='9')\n\t\t\t\t{\n\t\t\t\t\tnum=(num<<3)+(num<<1)+(a[h]^48);\n\t\t\t\t\th++;\n\t\t\t\t}\n\t\t\t\tans+=num*s;\n\t\t\t\tno=\"\";\n\t\t\t}\n\t\t}\n\t\telse  if(a[h]=='~')\n\t\t{\n\t\t\th++;\n\t\t\tif(a[h]=='H')\n\t\t\t\tans+=180;\n\t\t\telse\n\t\t\t{\n\t\t\t\tnum=0;\n\t\t\t\twhile (a[h]>='0'&&a[h]<='9')\n\t\t\t\t{\n\t\t\t\t\tnum=(num<<3)+(num<<1)+(a[h]^48);\n\t\t\t\t\th++;\n\t\t\t\t}\n\t\t\t\tans+=num*180;\n\t\t\t\tno=\"\";\n\t\t\t}\n\t\t\th+=5;\n\t\t}\n\t\telse if(a[h]>='A'&&a[h]<='Z')\n\t\t{\n\t\t\tif(a[h+1]<='z'&&a[h+1]>='a') no+=a[h],no+=a[h+1],h++;\n\t\t\telse no+=a[h];\n\t\t\tif(a[h+1]!='_')\n\t\t\t{\n\t\t\t\tans+=m[no];\n\t\t\t\tno=\"\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\th=h+3;\n\t\t\t\tnum=0;\n\t\t\t\twhile (a[h]>='0'&&a[h]<='9')\n\t\t\t\t{\n\t\t\t\t\tnum=(num<<3)+(num<<1)+(a[h]^48);\n\t\t\t\t\th++;\n\t\t\t\t}\n\t\t\t\tans+=num*m[no];\n\t\t\t\tno=\"\";\n\t\t\t}\n\t\t}\n\t\th++;\t\t\t\n\t}\n\tif(ans%10) \n\t\tprintf(\"%.1lf\",ans*0.1);\n\telse\n\t\tprintf(\"%d\",ans/10);\n\treturn 0;\n}\n```",
        "postTime": 1529374801,
        "uid": 34204,
        "name": "shzr",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "\u989d\u2026\u2026\u53d1\u8868\u4e00\u4e0b\u770b\u6cd5\u5427\u3002\u5176\u5b9e\u8fd9\u4e00\u9898\u6839\u672c\u7b97\u4e0d\u4e0a\u84dd\u9898\uff0c\u6211\u89c9\u5f97\u9ec4\u9898\u5c31\u53ef\u4ee5\u4e86\uff08\u6bd5\u7adf\u53ea\u662f\u4e00\u9053\u5b57\u7b26\u4e32\u5904\u7406\u9898\u800c\u5df2\uff0c\u4f30\u6478\u7740\u6bd4\u67d0\u5e74$NOIP$\u63d0\u9ad8\u7ec4\u7684\u7b2c\u4e00\u9898\u8fd8\u8981\u7b80\u5355\uff09\n\n-----------------------------------------------\u5206\u5272\u7ebf--------------------------------------------\n\n## \u57fa\u672c\u7b97\u6cd5\n\n\u770b\u5230\u9898\u89e3\u91cc\u9762\u5f88\u591a\u4eba\u90fd\u662f\u76f4\u63a5\u7528\u5faa\u73af\u5199\u7684\uff0c\u4e5f\u4e0d\u662f\u8bf4\u4e0d\u80fd\u8fd9\u6837\u5199\uff0c\u53ea\u4e0d\u8fc7\u672c\u4eba\u89c9\u5f97\u7528\u5faa\u73af\u5199\u7684\u8bdd**\u76f4\u89c2\u6027\u4e0d\u9ad8**\uff0c\u4e14\u51fa\u9519\u7684\u53ef\u80fd\u4e5f\u5f88\u5927\u3002\u4e8e\u662f\u672c\u4eba\u5c31\u7528\u4e86**\u5b50\u51fd\u6570\uff08\u4e5f\u5c31\u662f\u9012\u5f52\uff09**\u6765\u5199\u8fd9\u4e00\u9053\u9898\u3002\n\n---\n\n## \u5b9e\u73b0\u8fc7\u7a0b\n\n\u9996\u5148\uff0c\u6700\u57fa\u672c\u7684\u64cd\u4f5c\u5c31\u662f\u7528\u4e00\u4e2a\u6307\u9488\uff08\u7528$cur$\u8868\u793a\uff09\u626b\u63cf\u6574\u4e2a\u5b57\u7b26\u4e32\u3002\u7136\u540e\uff0c\u6211\u4eec\u505a\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n### 1.\u5f53$cur$\u6307\u5411\u7684\u662f\u4e00\u4e2a\u5927\u5199\u5b57\u6bcd\u65f6\uff1a\n\n\u8fd9\u5c31\u4ee3\u8868\u6211\u4eec\u627e\u5230\u4e86\u4e00\u4e2a\u5143\u7d20\uff0c\u4f46\u6211\u4eec\u9700\u8981\u77e5\u9053**\u6211\u4eec\u627e\u5230\u7684\u5143\u7d20\u662f\u4ec0\u4e48**\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u7528\u4e00\u4e2a\u4e34\u65f6\u6307\u9488$p$\u53bb\u626b\u63cf\u540e\u9762\u7684\u5b57\u6bcd\uff1a\n\n```cpp\nif(isupper(s[cur]))\n{\n\tstring tmp;\n\ttmp+=s[cur];\n\t\n\tint p=cur+1;\n\t\n\twhile(islower(s[p])) tmp+=s[p],p++;\n```\n\n\u8fd9\u6837\u626b\u63cf\u5b8c\u4e4b\u540e\uff0ctmp\u5c31\u662f\u6211\u4eec\u627e\u5230\u7684\u5143\u7d20\u3002\n\n\u7136\u540e\uff0c\u5982\u679c\u540e\u9762\u6709\u4e0b\u6807\uff0c\u6211\u4eec\u5c31\u63d0\u53d6\u51fa\u4e0b\u6807\u4e2d\u7684\u6570\u5b57\uff0c\u5426\u5219\u5c31\u7ed3\u675f\u8fd9\u6b21\u5faa\u73af\u3002\n\n\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\u7684\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\nif(isupper(s[cur]))\n{\n\tstring tmp;\n\ttmp+=s[cur];\n\t\n\tint p=cur+1;\n\t\n\twhile(islower(s[p])) tmp+=s[p],p++;\n\t\n\tdouble base=col(tmp);\n\t\n\tif(s[p]=='_')\n\t{\n\t\tp+=2;\t//\u76f4\u63a5\u8df3\u5230\u6570\u5b57\u6240\u5728\u7684\u4f4d\u7f6e\n\t\t\n\t\tint num=0;\n\t\twhile(isdigit(s[p])) num=num*10+s[p]-'0',p++;\n\t\t\n\t\tp++;\t//\u626b\u63cf\u5b8c\u6570\u5b57\u540e\uff0cp\u4f1a\u505c\u7559'}'\u4e0a\uff0c\u6240\u4ee5\u8981\u52a0\u4e00\u8df3\u8fc7\u5b83\n\t\tret+=base*num;\n\t}\n\telse ret+=base;\n\t\n\tcur=p;\n}\n```\n\n\u5927\u5bb6\u53ef\u80fd\u4f1a\u95ee\uff0c\u8fd9\u53e5\u8bdd\u662f\u4ec0\u4e48\u610f\u601d\uff1f\n\n```cpp\ndouble base=col(tmp);\n```\n\n\u8fd8\u8bb0\u5f97\u9898\u76ee\u4e0b\u9762\u90a3\u4e2a\u5143\u7d20\u539f\u5b50\u91cf\u7684\u8868\u5417\uff1f\u8fd9\u4e2a$col$\u51fd\u6570\u5c31\u662f\u5904\u7406\u5143\u7d20\u539f\u5b50\u91cf\u7684\u3002\uff08\u8f93\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de\u4e00\u4e2adouble\u7c7b\u578b\u7684\u6570\uff09\u81f3\u4e8e\u5982\u4f55\u5b9e\u73b0\u8fd9\u4e2a\u51fd\u6570\uff0c\u5c31\u7559\u7ed9\u5927\u5bb6\u601d\u8003\u5427~~\uff08\u672c\u4eba\u662f\u76f4\u63a5\u6253\u8868\u7684\uff09~~\u3002\n\n---\n\n### 2.\u5f53$cur$\u6307\u5411\u7684\u662f\u5de6\u62ec\u53f7\u65f6\n\n\u8fd9\u6837\u4e5f\u4e0d\u96be\uff0c\u6211\u4eec\u53ef\u4ee5\u518d\u65b0\u5efa\u4e00\u4e2a\u6307\u9488$p$\uff0c\u53bb\u76f4\u63a5\u627e\u51fa\u53f3\u62ec\u53f7\u6240\u5728\u7684\u4f4d\u7f6e\uff08\u56e0\u4e3a**\u62ec\u53f7\u4e0d\u4f1a\u5d4c\u5957**\uff0c\u6240\u4ee5\u4e0d\u7528\u7ef4\u62a4\u4e00\u4e2a\u6808\uff09\u3002\n\n```cpp\nif(s[cur]=='(')\n{\n\tint p=++cur;\n\twhile(s[p]!=')') p++;\n```\n\n\u7136\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u9012\u5f52\u5904\u7406\u4ececur\u5230p-1\u7684\u8fd9\u4e00\u6bb5\u5b50\u4e32\u4e86\uff0c\u81f3\u4e8e\u4e0b\u6807\u4e4b\u7c7b\u7684\u64cd\u4f5c\u5219\u662f\u4e00\u6a21\u4e00\u6837\u7684\u3002\u5177\u4f53\u53ef\u4ee5\u770b\u4ee3\u7801\uff1a\n\n```cpp\nif(s[cur]=='(')\n{\n\tint p=++cur;\t//cur++\u662f\u56e0\u4e3acur\u5f53\u524d\u6307\u5411\u7684\u662f\u5de6\u62ec\u53f7\uff0c\u8981\u518d\u52a0\u4e00\u624d\u80fd\u6307\u5411\u91cc\u9762\u7684\u5143\u7d20\n\twhile(s[p]!=')') p++;\n\t\n\tdouble base=solve(s.substr(cur,p-cur));\t//\u76f8\u5f53\u4e8e\u628a\u62ec\u53f7\u91cc\u7684\u5143\u7d20\u770b\u6210\u4e00\u4e2a\u6574\u4f53\u53bb\u8ba1\u7b97\n\t\n\tp++;\t//\u56e0\u4e3a\u8981\u68c0\u67e5\u662f\u5426\u6709\u4e0b\u6807\uff0c\u6240\u4ee5\u8981\u52a0\u4e00\n\tif(s[p]=='_')\n\t{\n\t\tp+=2;\n\t\t\n\t\tint num=0;\n\t\twhile(isdigit(s[p])) num=num*10+s[p]-'0',p++;\n\t\t\n\t\tp++;\n\t\t\n\t\tret+=base*num;\n\t}\n\telse ret+=base;\n\t\n\tcur=p;\n}\n```\n\n---\n\n### 3.\u5982\u679c$cur$\u6307\u5411\u7684\u662f'~'\n\n\u90a3\u5c31\u8bf4\u660e\u6211\u4eec\u627e\u5230\u4e86\u6c34\u5408\u7269\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u8ba1\u7b97\u6c34\uff08$H_{2}O$\uff09\u524d\u9762\u7684\u6570\u5b57\u518d\u4e58\u4e0a\u6c34\u7684\u8d28\u91cf\u5373\u53ef\uff08\u6c34\u7684\u8d28\u91cf\u4e3a2\\*1+1\\*16=$18$\uff09\u3002\n\n# \u4f46\u662f\uff0c\u6709\u4e00\u4e2a\u5751\uff01\uff01\uff01\n## \u6c34\u5206\u5b50\u524d\u9762\u53ef\u80fd\u6ca1\u6709\u6570\u91cf\uff01\uff01\uff01\n\n\u6ca1\u9519\uff0c\u6574\u4e2a\u9898\u76ee\u552f\u4e00\u7684\u5751\u5c31\u5728\u8fd9\u91cc\uff0c\u5f53\u7136\u4e86\uff0c\u586b\u8fd9\u4e2a\u5751\u4e5f\u5f88\u7b80\u5355\uff0c\u7279\u5224\u4e00\u4e0b\u5373\u53ef\u3002\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\nif(s[cur]=='~')\n{\n\tint p=++cur;\n\t\t\n\tint num=0;\n\twhile(isdigit(s[p])) num=num*10+s[p]-'0',p++;\n\t\n\tif(!num) num=1;\t//\u5982\u679c\u6ca1\u6709\u626b\u63cf\u5230\u6570\u5b57\uff0c\u5c31\u9ed8\u8ba4\u4e3a1\n\t\n\tret+=H_2O*num;\t//H_2O\u662f\u4e00\u4e2a\u5e38\u91cf\uff0c\u672c\u4eba\u5728\u4e4b\u524d\u5b9a\u4e49\u4e86\n\t\n\tbreak;\t//\u5728\u9898\u76ee\u5b9a\u4e49\u4e2d\uff0c\u6c34\u5408\u7269\u7684\u540e\u9762\u4e0d\u4f1a\u6709\u5176\u4ed6\u5143\u7d20\u4e86\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u7ed3\u675f\u5faa\u73af\n}\n```\n\n---\n\n## \u5b8c\u6574\u4ee3\u7801\n\n```cpp\n#include<string>\n#include<iostream>\n#include<ctype.h>\nusing namespace std;\n\nconst int H_2O=18;\t//\u591a\u5b9a\u4e49\u5e38\u91cf\u662f\u4e2a\u597d\u4e60\u60ef:)\n\ndouble col(string s)\t//\u8fd9\u5c31\u662fcol\u51fd\u6570\uff08\u600e\u4e48\u6837\uff0c\u591f\u7b80\u5355\uff08\u5212\u6389\uff09\u5427\uff09\n{\n\tif(s==\"H\") return 1;\n\tif(s==\"C\") return 12;\n\tif(s==\"N\") return 14;\n\tif(s==\"O\") return 16;\n\tif(s==\"F\") return 19;\n\tif(s==\"Na\") return 23;\n\tif(s==\"Mg\") return 24;\n\tif(s==\"Al\") return 27;\n\tif(s==\"Si\") return 28;\n\tif(s==\"P\") return 31;\n\tif(s==\"S\") return 32;\n\tif(s==\"Cl\") return 35.5;\n\tif(s==\"K\") return 39;\n\tif(s==\"Ca\") return 40;\n\tif(s==\"Mn\") return 55;\n\tif(s==\"Fe\") return 56;\n\tif(s==\"Cu\") return 64;\n\tif(s==\"Zn\") return 65;\n\tif(s==\"Ag\") return 108;\n\tif(s==\"I\") return 127;\n\tif(s==\"Ba\") return 137;\n\tif(s==\"Hf\") return 178.5;\n\tif(s==\"Pt\") return 195;\n\tif(s==\"Au\") return 197;\n\tif(s==\"Hg\") return 201;\n}\n\ndouble solve(string s)\n{\n\tdouble ret=0.0;\n\t\n\tint cur=0;\n\twhile(cur<s.size())\n\t{\n\t\tif(isupper(s[cur]))\n\t\t{\n\t\t\tstring tmp;\n\t\t\ttmp+=s[cur];\n\t\t\t\n\t\t\tint p=cur+1;\n\t\t\t\n\t\t\twhile(islower(s[p])) tmp+=s[p],p++;\n\t\t\t\n\t\t\tdouble base=col(tmp);\n\t\t\t\n\t\t\tif(s[p]=='_')\n\t\t\t{\n\t\t\t\tp+=2;\n\t\t\t\t\n\t\t\t\tint num=0;\n\t\t\t\twhile(isdigit(s[p])) num=num*10+s[p]-'0',p++;\n\t\t\t\t\n\t\t\t\tp++;\n\t\t\t\tret+=base*num;\n\t\t\t}\n\t\t\telse ret+=base;\n\t\t\t\n\t\t\tcur=p;\n\t\t}\n\t\telse if(s[cur]=='(')\n\t\t{\n\t\t\tint p=++cur;\n\t\t\twhile(s[p]!=')') p++;\n\t\t\t\n\t\t\tdouble base=solve(s.substr(cur,p-cur));\n\t\t\t\n\t\t\tp++;\n\t\t\tif(s[p]=='_')\n\t\t\t{\n\t\t\t\tp+=2;\n\t\t\t\t\n\t\t\t\tint num=0;\n\t\t\t\twhile(isdigit(s[p])) num=num*10+s[p]-'0',p++;\n\t\t\t\t\n\t\t\t\tp++;\n\t\t\t\t\n\t\t\t\tret+=base*num;\n\t\t\t}\n\t\t\telse ret+=base;\n\t\t\t\n\t\t\tcur=p;\n\t\t}\n\t\telse if(s[cur]=='~')\n\t\t{\n\t\t\tint p=cur+1;\n\t\t\t\t\n\t\t\tint num=0;\n\t\t\twhile(isdigit(s[p])) num=num*10+s[p]-'0',p++;\n\t\t\t\n\t\t\tif(!num) num=1;\n\t\t\t\n\t\t\tret+=H_2O*num;\n\t\t\t\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\treturn ret;\n}\n\nint main()\n{\n\tios::sync_with_stdio(false);\n\t\n\tstring s;\n\tcin>>s;\n\t\n\tcout<<solve(s);\n\t\n\treturn 0;\n}\n```",
        "postTime": 1530331865,
        "uid": 76049,
        "name": "info___tion",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    },
    {
        "content": "\u5f88\u7b80\u5355\u7684\u4e00\u9898\uff0c\u5b57\u7b26\u4e32\u5904\u7406\u5e76\u6ca1\u90a3\u4e48\u590d\u6742\uff0c\u778e\u62cd\u5c31\u62cd\u51fa\u6765\u4e86\uff08\u867d\u7136\u597d\u50cf\u4e5f\u62cd\u4e8645min\uff09\n\n\u6211\u8fd9\u4e2a\u4ee3\u7801\u5e94\u8be5\u662f\u6bd4\u8f83\u7b80\u6d01\u7684\n\n\u5148\u58f0\u660e\uff1asum1\u8bb0\u5f55\u4e00\u4e2a\u62ec\u53f7\uff08\u4e5f\u53ef\u80fd\u65e0\u62ec\u53f7\uff09\u91cc\u7684\u8d28\u91cf\uff0csum2\u8bb0\u5f55\u6709\u524d\u7f00\u7684\u4e00\u5806\u539f\u5b50\u7684\u603b\u8d28\u91cf\uff08\u5305\u542b\u591a\u4e2asum1\uff09\n\n\u73b0\u5728\u63a2\u8ba8\u89e3\u51b3\u51e0\u4e2a\u95ee\u9898\n\n1.\u5982\u4f55\u5b58\u8868\u3001\u67e5\u8868\uff1f\n\n\u8bba\u4ee3\u7801\u7b80\u6d01\u5ea6\u80af\u5b9a\u9009map\u3002\u4e0d\u77e5\u9053\u662f\u4e0d\u662f\u6211\u706b\u661f\u4e86\uff0c\u53ef\u4ee5\u76f4\u63a5\u5bf9map\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u65b9\u5f0f\u548c\u4e8c\u7ef4\u6570\u7ec4\u521d\u59cb\u5316\u5dee\u4e0d\u591a\u3002\n\n\u7528\u6570\u7ec4\u521d\u59cb\u5316\u4e5f\u80fd\u505a\uff0c\u5f00\u4e2akey,value\u6570\u7ec4\uff0c\u521d\u59cb\u5316\u7684\u65f6\u5019\u6279\u91cfinsert\u5c31\u884c\u4e86\n\n\u641e\u4e86\u8fd9\u4e48\u4e45oi\u5e94\u8be5\u4f1a\u5229\u7528\u5de5\u5177\u5427\u2026\u2026\u628a\u8868\u683c\u590d\u5236\u5230excel\uff0c\u7528\u516c\u5f0f\u52a0\u5206\u9694\u7b26\u4e4b\u7c7b\u7684\n\n\u907f\u514d\u6d6e\u70b9\u95ee\u9898\uff0c\u5148\u5c06\u6240\u6709\u8d28\u91cf*2\uff0c \u8f93\u51fa\u7684\u65f6\u5019\u5947\u5076\u5206\u7c7b\u5373\u53ef\n\n2.\u591a\u5b57\u6bcd\u7684\u5143\u7d20\n\n\u5927\u5199\u5b57\u6bcd\u80af\u5b9a\u662f\u5f00\u5934\uff0c\u5982\u679c\u4e0b\u4e00\u4e2a\u662f\u5c0f\u5199\u5b57\u6bcd\u90a3\u4e48\u8bfb\u4e0b\u53bb\uff0c\u8bb0\u5f97\u5b58\u8fd9\u4e2a\u5143\u7d20\u540d\u79f0\n\n3.\u4e0b\u6807\n\n\u8bfb\u5b8c\u4e00\u4e2a\u5143\u7d20\u540e\u8c03\u7528\u4e00\u4e0b\u51fd\u6570\n\n\u51fd\u6570\u68c0\u67e5\u4e0b\u4e00\u4e2a\u5b57\u7b26\u662f\u5426\u662f'_'\uff0c\u5982\u679c\u662f\u5219\u4e00\u76f4\u8bfb\u5230'}'\u987a\u4fbf\u6539\u53d8\u5faa\u73af\u53d8\u91cf\u7684\u503c\uff0c\u5426\u5219\u8fd4\u56de1\n\n\u5c06\u539f\u5b50\u91cf*\u6570\u91cf\u52a0\u5230sum1\u91cc\u53bb\n\n4.\u62ec\u53f7\n\n\u5148\u7ed3\u7b97\u4e00\u4e2asum1  sum2+=sum1\n\n\u5982\u679c\u662f\u540e\u62ec\u53f7\uff0c\u9700\u8981\u51fd\u6570\u68c0\u6d4b\u540e\u7f00\n\n\u7136\u540e\u6e05\u7a7asum1\n\n\u5982\u679c\u6709\u62ec\u53f7\u5d4c\u5957\uff0c\u628asum\u6539\u4e3a\u6570\u7ec4\u5373\u53ef\uff0c\u7ed3\u7b97\u7684\u65f6\u5019a[i-1]+=a[i]*cnt, a[i]=0\n\n5.\u6c34\u5408\u7269 \n\n\u54c8\uff1f\u6c34\u5408\u7269\uff1f\u76f4\u63a5\u5f53\u4f5c\u4e00\u5927\u5806'~'\u4e32\u8d77\u6765\u7684\u7269\u8d28\u505a\u7684\u2026\u2026\n\n\u7ba1\u5b83\u6709\u591a\u5c11\u4e2a'~'\uff0c\u76f4\u63a5\u5728\u5b57\u7b26\u4e32\u6700\u524d\u9762\u548c\u6700\u540e\u9762\u5404\u52a0\u4e00\u4e2a'~'\uff08\u8bfb\u5165\u7684\u65f6\u5019\u4ece\u4e0b\u68071\u5f00\u59cb\u8bfb\uff09\n\n\u5148\u7ed3\u7b97sum2\uff08\u8981\u4e58\u524d\u7f00\u7684cnt\uff09\uff0c\u7136\u540esum,cnt\u90fd\u6e05\u96f6\n\n\u63a5\u7740\u8bfb\u4e0b\u4e00\u4e2a\u524d\u7f00\uff08\u6ce8\u610f\u5982\u679c\u8bfb\u7684\u662f0\uff0c\u6539\u4e3a1\uff09\n\n--\n\u7136\u540e\u5c31\u6ca1\u4e86  \u5168\u7a0b\u987a\u7740\u8bfb\uff0c\u4e0d\u8003\u8651\u67e5\u8868\u5176\u5b9e\u662f\u6b63\u597d\u7684O(L)\n\n\u6700\u540e\u4e0a\u4ee3\u7801\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <string>\n#include <cctype>\n#include <map>\nusing namespace std;\nconst int n=25;\nconst char keys[25][4]={\"H\",\"C\",\"N\",\"O\",\"F\",\"Na\",\"Mg\",\"Al\",\"Si\",\"P\",\"S\",\"Cl\",\"K\",\"Ca\",\"Mn\",\"Fe\",\"Cu\",\"Zn\",\"Ag\",\"I\",\"Ba\",\"Hf\",\"Pt\",\"Au\",\"Hg\"};\nconst double values[25]={1,12,14,16,19,23,24,27,28,31,32,35.5,39,40,55,56,64,65,108,127,137,178.5,195,197,201};\nmap<string,int> dict;\nchar str[110];\nint l;\nint readnum(int &i) { //\u4ece'_'\u5f00\u59cb\u8bfb\uff0c\u8fd4\u56de\u8be5\u540e\u7f00\u7684\u6570\u503c\n\tif (str[i]!='_') {\n\t\ti--; //\u62b5\u6d88\u5faa\u73af\u7ed3\u675f\u540ei\u7684\u81ea\u589e\n\t\treturn 1;\n\t}\n\tint cnt=str[i+=2]-'0'; //\u56e0\u4e3a\u9ed8\u8ba4i\u5bf9\u5e94\u7684\u662f'_'\uff0c\u6240\u4ee5\u8981\u5f80\u540e\u8df32\u4e2a\n\twhile (str[++i]!='}') { //\u5f88\u666e\u901a\u7684\u8bfb\u6570\n\t\tcnt=cnt*10+str[i]-'0';\n\t}\n\treturn cnt;\n}\nint main() {\n\tfor (int i=0;i<n;i++) {\n\t\tdict.insert(make_pair(keys[i],values[i]*2)); //\u5b58\u7684\u662f\u4e24\u500d\uff0c\u907f\u514d\u6d6e\u70b9\n\t}\n\tscanf(\"%s\",str+1);\n\tstr[0]='~';\n\tl=strlen(str);\n\tstr[l++]='~';\n\tint ans=0;\n\tint cnt1=1; //\u524d\u7f00\u8ba1\u6570\n\tint sum=0,sum2=0; //\u62ec\u53f7\u5185\u7684\u548c\uff0c\u540c\u4e2a\u524d\u7f00\u4e0b\u7684\u548c\n\tfor (int i=0;i<l;i++) {\n\t\tchar ch=str[i];\n\t\tstring elem;\n\t\telem+=ch;\n\t\tif (ch>='A' && ch<='Z') {\n\t\t\twhile (islower(str[i+1])) { //\uff08\u5176\u5b9e\u8fd9\u6837\u5bf9\u4e8e\u4efb\u610f\u957f\u5ea6\u7684\u5143\u7d20\u540d\u90fd\u80fd\u8bfb\uff09\n\t\t\t\telem+=str[++i];\n\t\t\t}\n\t\t\tsum+=dict[elem]*readnum(++i);\n\t\t} else if (ch=='(') {\n\t\t\tsum2+=sum;\n\t\t\tsum=0;\n\t\t} else if (ch==')') {\n\t\t\tsum2+=sum*readnum(++i);\n\t\t\tsum=0;\n\t\t} else if (ch=='~') {\n\t\t\tans+=cnt1*(sum2+=sum);\n\t\t\tsum=sum2=0;\n\t\t\tcnt1=0;\n\t\t\twhile (isdigit(str[i+1])) { //\u8bfb\u524d\u7f00\n\t\t\t\tcnt1=cnt1*10+str[++i]-'0';\n\t\t\t}\n\t\t\tif (cnt1==0) cnt1=1;\n\t\t}\n\t}\n\tif (ans&1) { //\u76f4\u63a5\u7b80\u5355\u5206\u7c7b\u8ba8\u8bba\n\t\tprintf(\"%.1f\\n\",ans*0.5);\n\t} else {\n\t\tprintf(\"%d\\n\",ans/2);\n\t}\n\treturn 0;\n}\n\n```\n\n",
        "postTime": 1530180005,
        "uid": 32771,
        "name": "\u554a\u561e\u561e\u561e\u561e",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4711 \u3010\u300c\u5316\u5b66\u300d\u76f8\u5bf9\u5206\u5b50\u8d28\u91cf\u3011"
    }
]