[
    {
        "content": "### \u524d\u8a00\n\n\u672c\u6587\u5c06\u5bf9\u6b64\u9898\u7684\u5173\u952e\u7ed3\u8bba\u8fdb\u884c\u7c97\u7565\u8bc1\u660e\u3002\u4f3c\u4e4e\u6b64\u524d\u90fd\u53ea\u6709\u627e\u89c4\u5f8b\u3001\u800c\u6ca1\u6709\u63d0\u5230\u8bc1\u660e\u7684\u9898\u89e3\uff1f\n\n------\n\n### \u9884\u5907\n\n\u524d\u7f6e\u77e5\u8bc6\uff1aSG \u51fd\u6570\u3002\u7bc7\u5e45\u5173\u7cfb\u5c31\u4e0d\u626f\u4e86\u3002\n\n$f(x)$ \u4e3a $x$ \u7684\u4e8c\u8fdb\u5236\u672b\u5c3e\u9996\u4e2a $0$ \u7684\u51fa\u73b0\u4f4d\u7f6e\uff08\u6807\u53f7\u4ece $0$ \u5f00\u59cb\uff09\u3002\u4f8b\u5982 $f(5) = (101)_2 = 1$ \u3002\n\n$\\mathrm{sg}(x,\\ y)$ \u4e3a\u4e00\u7ec4\u5206\u522b\u6709 $x + 1,\\,y + 1$ \u4e2a\u77f3\u5b50\u7684 $\\mathrm{sg}$ \u503c\u3002**\u6ce8\u610f\u6709 $+1$** \u3002\n\n$S_z$ \u8868\u793a\u6ee1\u8db3 $x + y + 1 = z$ \u7684 $\\mathrm{sg}(x,\\,y)$ \u6784\u6210\u7684\u81ea\u7136\u6570\u96c6\u5408\u3002\u7279\u522b\u5730\uff0c$S_0 = \\varnothing$ \u3002\n\n------\n\n### \u5f15\u7406\n\n> \u5f15\u7406 $1$ \uff1a$\\mathrm{sg}(0,\\,0) = 0$ \u3002\n\n\u7ec8\u6b62\u5c40\u9762\u7684 $\\mathrm{sg}$ \u503c\u4e3a $0$ \u3002\n\n> \u5f15\u7406 $2$ \uff1a$\\mathrm{sg}(x,\\,y) = \\mathrm{mex}(S_x \\cup S_y)$ \u3002\n\nSG \u51fd\u6570\u7ecf\u5178\u7ed3\u8bba\u3002\u540e\u7ee7\u5c40\u9762\u53ef\u4ee5\u5206\u5272 $x + 1$ \u6216 $y + 1$ \u3002\u6ce8\u610f\u4e8b\u5148\u7684\u5b9a\u4e49\uff0c$S_x$ \u4e0d\u662f $S_{x-1}$ \u6216 $S_{x+1}$ \u3002\n\n------\n\n### \u7ed3\u8bba\n\n\u53ef\u80fd\u8981\u53eb\u201c\u547d\u9898\u201d\uff1f\u65e2\u7136\u90fd\u77e5\u9053\u4e86\u5c31\u5f53\u7ed3\u8bba\u5427\u3002~~\uff08\u6570\u5b66\u4e0d\u597d\uff09~~\n\n> \u7ed3\u8bba $1$ \uff1a$S_z$ \u7b49\u540c\u4e8e $z$ \u4e8c\u8fdb\u5236\u4e0b $1$ \u7684\u4f4d\u7f6e\u96c6\u5408\u3002\u4f8b\u5982 $S_5 = \\{0,\\,2\\}$ \u3002\n\n\u8f85\u52a9\u7ed3\u8bba\u3002\n\n> \u7ed3\u8bba $2$ \uff1a$\\mathrm{sg}(x,\\,y) = f(x\\ |\\ y)$ \u3002\u4f8b\u5982 $\\mathrm{sg}(1,\\,4) = f(5) = 1$ \u3002\n\n\u5173\u952e\u7ed3\u8bba\u3002\n\n------\n\n### \u8bc1\u660e\n\n\u8003\u8651\u5f52\u7eb3\u6cd5\u8bc1\u660e\u4ee5\u4e0a\u4e24\u4e2a\u7ed3\u8bba\u3002\u5373\u9010\u6b65\u653e\u5927 $z$\u00a0\uff0c\u8bc1\u660e\u8be5 $z$\u00a0\u4e0b\u7ed3\u8bba $1$\u00a0\u53ca\u6ee1\u8db3 $x + y = z$\u00a0\u7684\u7ed3\u8bba $2$\u00a0\u7684\u6b63\u786e\u6027\u3002\n\n\u6839\u636e\u5f15\u7406 $1$ \uff0c\u7ed3\u8bba $2$ \u5728 $z = 0$ \u65f6\u6b63\u786e\u3002\u5047\u8bbe\u5df2\u8bc1 $z - 1$\u00a0\u65f6\u7ed3\u8bba $2$\u00a0\u7684\u6b63\u786e\u6027\uff0c\u8003\u8651 $S_{z}$ \u5305\u542b\u5143\u7d20 $p$ \u7684\u6761\u4ef6\u3002\n\n\u7531\u5b9a\u4e49\u548c\u7ed3\u8bba $2$ \u53ef\u77e5\uff0c\u9700\u5b58\u5728 $x + y = z - 1$ \u4e14 $f(x\\ |\\ y)=p$ \uff0c\u5f97 $x,\\,y$ \u5728\u4e8c\u8fdb\u5236\u4e0b\uff0c\u7b2c $p$ \u4f4d\u90fd\u4e3a $0$ \uff0c\u7b2c $0 \\sim p - 1$ \u4f4d\u90fd\u81f3\u5c11\u6709\u4e00\u4e2a\u662f $1$ \u3002\n\n\u8003\u8651\u6700\u52a3\u6781\u9650\uff0c\u7b2c $0 \\sim p - 1$ \u4f4d\u53ea\u6709\u5176\u4e2d\u4e00\u4e2a\u662f $1$ \uff0c\u7531\u4e8e\u4ea4\u6362\u5f8b\uff0c\u8fd9\u4e9b $1$ **\u90fd\u5728 $x$ \u4e2d\u662f\u6ca1\u6709\u5173\u7cfb\u7684**\u3002\n\n\u6b64\u65f6\uff0c\u56e0\u4e3a $x + y + 1 = z$ \uff0c\u6a21\u62df\u4e8c\u8fdb\u5236\u8fd0\u7b97\uff08$+ 1$ \u4f1a\u5bfc\u81f4\u4e0a\u8ff0\u6240\u6709 $1$ \u8fdb\u4f4d\u5230\u7b2c $p$ \u4f4d\uff09\uff0c$z$ \u7684\u7b2c $p$ \u4f4d\u4e3a $1$ \uff0c**\u7b2c $0 \\sim p - 1$ \u4f4d\u4e3a $0$** \u3002\n\n\u53cd\u89c2\u6700\u4f18\u6781\u9650\u4e0b\uff0c$y$ \u7684\u7b2c $0 \\sim p - 1$ \u4f4d\u4e5f\u90fd\u662f $1$ \uff0c\u5b9e\u9645\u4e0a\uff0c\u8fd9\u4e9b\u4f4d\u4e0d\u7ba1\u600e\u4e48\u5b89\u6392 $0,\\,1$ \uff0c\u4e1d\u6beb\u4e0d\u5f71\u54cd $z$ \u7684\u7b2c $p$ \u4f4d\u4e3a $1$ \u7684\u4e8b\u5b9e\uff08\u89c1\u4e0a\u65b9\u7c97\u4f53\u6587\u5b57\uff09\u3002\n\n\u6545 $z$ \u4e8c\u8fdb\u5236\u7b2c $p$ \u4f4d\u4e3a $0$ \u65f6\uff0c$S_{z}$ \u4e0d\u53ef\u80fd\u5305\u542b\u5143\u7d20 $p$ \u3002\u4e3a $1$ \u65f6\uff0c\u663e\u7136\u4ee4 $x = 2^{p} - 1,\\,y = z - 2^p$ \u5373\u53ef\u6ee1\u8db3\u6761\u4ef6\u3002\n\n\u65e2\u7136\u6709\u4e86 $z$ \u65f6\u7ed3\u8bba $1$ \u7684\u6b63\u786e\u6027\uff0c\u4e0d\u59a8\u4ee5\u6b64\u63a8\u51fa $z$ \u65f6\u7ed3\u8bba $2$ \u7684\u6b63\u786e\u6027\u3002\n\n$$\\mathrm{sg}(x,\\,y) = \\mathrm{mex}(S_x \\cup S_y)=\\mathrm{mex}(S_{x\\ |\\ y}) = f(x\\ |\\ y)$$\n\n\u6839\u636e\u7ed3\u8bba $1$ \uff0c$S$\u00a0\u662f $1$\u00a0\u7684\u4f4d\u7f6e\u96c6\u5408\uff0c\u6613\u8bc1 $S_x \\cup S_y = S_{x\\ |\\ y}$\u00a0\uff0c\u5e76\u4e14 $x\\ |\\ y \\leqslant x + y = z$ \u5728\u5df2\u8bc1\u8303\u56f4\u5185\u3002\u540c\u65f6\uff0c$\\mathrm{mex}$\u00a0\u662f\u6700\u5c0f\u672a\u51fa\u73b0\u81ea\u7136\u6570\uff0c\u914d\u4e0a\u4f4d\u7f6e\u96c6\u5408\uff0c\u6b63\u597d\u5c31\u662f $f$\u00a0\u7684\u5b9a\u4e49\u3002\u6545\u53ef\u8bc1\u4efb\u610f $z$ \u4e0b\u4e24\u4e2a\u7ed3\u8bba\u3002",
        "postTime": 1554205223,
        "uid": 26673,
        "name": "Sooke",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2148 \u3010[SDOI2009]E&D\u3011"
    },
    {
        "content": "~~\u524d\u9762\u7684Dalao\u4eec\u601d\u8def\u611f\u89c9\u4e0d\u662f\u5f88\u6e05\u6670\u554a\uff0c\u6253\u8868\u548c\u4ee3\u7801\u5b9e\u73b0\u4e5f\u6709\u70b9\u5947\u602a\u800c\u4e0d\u662f\u5f88\u7b80\u6d01~~\n\n\u4e8e\u662f\u849f\u84bb\u8865\u4e00\u53d1\u9898\u89e3\n\n\u5148\u5b89\u5229\u849f\u84bb\u4ecd\u5728\u65bd\u5de5\u7684[\u535a\u5f08\u8bba\u603b\u7ed3](http://www.cnblogs.com/flashhu/p/8665204.html)\n\n\u9996\u5148\u6839\u636e\u9898\u76ee\uff0c\u77f3\u5b50\u88ab\u4e24\u4e24\u5206\u7ec4\u4e86\uff0c\u4e8e\u662f\u6839\u636eSG\u5b9a\u7406\uff0c\u6211\u4eec\u53ea\u8981\u6c42\u51fa\u6bcf\u4e00\u7ec4\u7684SG\u503c\u518d\u5168\u90e8\u5f02\u6216\u8d77\u6765\u5c31\u597d\u5566\u3002\n\n\u628a\u6bcf\u4e00\u5bf9\u6570\u770b\u6210\u4e00\u4e2aICG\uff0c\u9996\u5148\uff0c\u6211\u4eec\u5c1d\u8bd5\u6784\u9020\u6e38\u620f\u7684\u72b6\u6001\u8f6c\u79fbDAG\u3002\u628a\u4e00\u5806\u77f3\u5b50\u62ff\u6389\uff0c\u53e6\u4e00\u5806\u4efb\u610f\u62c6\u6210\u4e24\u5806\uff0c\u7b49\u4e8e\u8bf4\u7531\u72b6\u6001$(a,b)$\u53ef\u4ee5\u8f6c\u79fb\u5230$\\{(c,d),c+d=a$\u6216$c+d=b\\}$\n\n\u4e00\u773c\u770b\u4e0d\u51fa\u6765\u8fd9\u662f\u8981\u5e72\u795e\u9a6c\u3002\u3002\u3002\u3002\u3002\u3002\u7136\u540e\u5f00\u59cb\u6253\u8868\u3002\u5176\u5b9e\u6253\u8868\u7684\u65b9\u5f0f\u53ef\u4ee5\u66f4\u7b80\u5355\u3002\u9996\u5148\uff0c\u89c2\u5bdf\u4e0a\u5f0f\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2aa\uff0c\u6240\u6709$c+d=a$\u7684$(c,d)$\u7684$SG$\u503c\u96c6\u5408\u6211\u4eec\u53ef\u4ee5\u5148\u7528\u4e00\u4e2abitset\u5b58\u8d77\u6765\uff0c\u8fd9\u6837\u5f53\u6211\u4eec\u6c42$(a,b)$\u7684$SG$\u503c\u65f6\u6211\u4eec\u76f4\u63a5\u5c06$a$\u548c$b$\u5bf9\u5e94\u7684\u4e24\u4e2a\u96c6\u5408\u5e76\u8d77\u6765\u518d\u6c42$mex$\u5c31\u597d\u5566\u3002\u4e8e\u662f\u5f97\u5230\u4e86\u6253\u8868\u4ee3\u7801\uff08bitset\u5b9e\u5728\u662f\u592a\u597d\u7528\u5566\uff09\n```\n#include<cstdio>\n#include<bitset>\n#include<iostream>\nusing namespace std;\nconst int N=10,M=N+1;//\u968f\u4fbf\u8c03\u5927\u5c0f\ntypedef bitset<M> B;\nB s[M];\nint ans[M][M];\ninline int mex(B b){//\u5e72\u4ec0\u4e48\u5c31\u4e0d\u89e3\u91ca\u4e86\u5427\n\tint i=0;\n\twhile(b[i])++i;\n\treturn i;\n}\nint main(){\n\tint i,j,k;\n\tfor(i=2;i<=N;++i)\n\t\tfor(j=1,k=i-1;k;++j,--k)\n\t\t\ts[i].set(ans[j][k]=mex(s[j]|s[k]));//\u679a\u4e3e\u5408\u5e76\n\tfor(i=0;i<N;++i)printf(\"%3d\",i);puts(\"\");\n\tfor(i=1;i<N;++i){//\u8f93\u51fa\u77e9\u9635\n\t\tprintf(\"%2d:\",i);\n\t\tfor(j=1;i+j<=N;++j)\n\t\t\tprintf(\"%3d\",ans[i][j]);\n\t\tputs(\"\");\n\t}\n\tfor(i=1;i<=N;++i){//\u8f93\u51fa\u5bf9\u4e8e\u6bcf\u4e00\u4e2aa\uff0c\u6240\u6709c+d=a\u7684(c,d)\u7684SG\u503c\u96c6\u5408\n\t\tprintf(\"%2d:SG%d \",i,mex(s[i]));\n\t\tcout<<s[i]<<endl;\n\t}\n\treturn 0;\n}\n```\n\u6253\u51fa\u6765\u7684\u7b54\u6848\u77e9\u9635\n```\n 0:  1  2  3  4  5  6  7  8  9\n 1:  0  1  0  2  0  1  0  3  0\n 2:  1  1  2  2  1  1  3  3\n 3:  0  2  0  2  0  3  0\n 4:  2  2  2  2  3  3\n 5:  0  1  0  3  0\n 6:  1  1  3  3\n 7:  0  3  0\n 8:  3  3\n 9:  0\n```\n\u600e\u4e48\u770b\u4e5f\u6ca1\u770b\u51fa\u4ec0\u4e48\u7279\u522b\u7684\u5730\u65b9\n\n\u4f46\u63a5\u7740\u770b\u770b\u5bf9\u4e8e\u6bcf\u4e00\u4e2a$a$\uff0c\u6240\u6709$c+d=a$\u7684$(c,d)$\u7684SG\u503c\u96c6\u5408\n```\n 1:SG0 00000000000\n 2:SG1 00000000001\n 3:SG0 00000000010\n 4:SG2 00000000011\n 5:SG0 00000000100\n 6:SG1 00000000101\n 7:SG0 00000000110\n 8:SG3 00000000111\n 9:SG0 00000001000\n10:SG1 00000001001\n```\n\u8bf6\uff0c$S_i$\u7b49\u4e8e$i-1$\u7684\u4e8c\u8fdb\u5236\u8868\u793a\uff01\uff01\uff08\u6211\u592a\u5f31\u4e86\uff0c\u4e0d\u4f1a\u8bc1\uff09\n\n\u90a3\u5bf9\u4e8e\u8be2\u95ee\u7684\u6bcf\u4e00\u5bf9\u6570$(i,j)$\uff0c\u76f4\u63a5\u6c42$(i-1)\\mid(j-1)$\uff08\u6309\u4f4d\u6216\uff09\u7684\u4e8c\u8fdb\u5236\u7684\u6700\u4f4e\u76840\u6240\u5728\u7684\u4e8c\u8fdb\u5236\u4f4d\uff0c\u628a\u6240\u6709\u7684\u5f02\u6216\u8d77\u6765\u5c31\u597d\u5566\n\n\u4ee3\u7801\u5e94\u8be5\u5f88\u597d\u61c2\u554a\uff0c\u76f4\u63a5\u4f4d\u8fd0\u7b97\u641e\u4e00\u641e\u5c31\u884c\u5566\n```\n#include<cstdio>\n#define R register int\nconst int SZ=1<<21;\nchar ibuf[SZ],*pi=ibuf-1;\ninline int in(){\n\twhile(*++pi<'-');\n\tR x=*pi&15;\n\twhile(*++pi>'-')x*=10,x+=*pi&15;\n\treturn x;\n}\nint main(){\n    fread(ibuf,1,SZ,stdin);\n\tR T=in(),n,x,cnt,ans;\n\twhile(T--){\n\t\tans=0;\n\t\tn=in()>>1;\n\t\twhile(n--){\n\t\t\tcnt=0;\n\t\t\tx=(in()-1)|(in()-1);\n\t\t\twhile(x&1)++cnt,x>>=1;\n\t\t\tans^=cnt;\n\t\t}\n\t\tputs(ans?\"YES\":\"NO\");\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1523612827,
        "uid": 61325,
        "name": "FlashHu",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P2148 \u3010[SDOI2009]E&D\u3011"
    },
    {
        "content": "\u5176\u5b9e\u5bf9\u4e8e\u53ea\u6709\u4e00\u7ec4\u7684\u60c5\u51b5\u6211\u4eec\u5f88\u5bb9\u6613\u53d1\u73b0\u53ea\u8981\u6839\u636e\u4e24\u5806\u7684\u5947\u5076\u6027\u5c31\u80fd\u5f97\u51fa\u662f\u5426\u6709\u5fc5\u80dc\u7b56\u7565\n\nsg\u51fd\u6570\u636e\u8bf4\u662f\u535a\u5f08\u8bba\u7684\u5fc5\u6740\u795e\u5668\uff0c\u6709\u5fc5\u8981\u5148\u5b66\u4e60\u4e00\u4e0bsg.......\n\n\n\u4e0b\u9762\u5c31\u662fsg(x,y)\u51fd\u6570\u5728\u672c\u9898\u76ee\u4e2d\u7684\u4ee3\u7801\u5b9e\u73b0\n\n```cpp\nint sg(int x,int y)\n{\n    long long tmp=2;\n    for(int i=0;;i++,tmp*=2)\n        if( ( x - 1 ) % tmp < tmp/2 && (y-1)%tmp < tmp/2 )\n            return i;\n}\n```\n\u8fd9\u6837\u6211\u4eec\u77e5\u9053\u4e86\u4e00\u7ec4\u7684\u60c5\u51b5\uff0c\u8981\u63a8\u5e7f\u5230n\u7ec4\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u8fd9\u6837\u7684\u6027\u8d28\u66f4\u5feb\u5730\u6253\u8868\u627e\u89c4\u5f8b\n\u6211\u4eec\u53d1\u73b0\u8fd9\u4e9b\u7b54\u6848\u5176\u5b9e\u662f\u6709\u89c4\u5f8b\u7684\uff0c\u597d\u50cf\u6709\u4e2a\u5b66\u540d\u53eb\u505a\u963f\u8fbe\u739b\u77e9\u9635\uff1f\n\n\n\u4e0d\u8fc7\u6700\u540e\u4e8b\u5b9e\u4e0a\u5c31\u4e00\u4e2asg\u5c31\u53ef\u4ee5\u4e86.....\n\n\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\nint T,n;\nint a,b;\nint ans;\nint sg(int x,int y)\n{\n    long long tmp=2;\n    for(int i=0;;i++,tmp*=2)\n        if( ( x - 1 ) % tmp < tmp/2 && (y-1)%tmp < tmp/2 )\n            return i;\n}\nvoid work()\n{\n    cin>>n;ans=0;\n    for(int i=1;i<=n/2;i++)\n    {\n        cin>>a>>b;\n        ans^=sg(a,b);\n    }\n    if(ans)    puts(\"YES\");\n    else puts(\"NO\");\n    return;\n}\nint main()\n{\n    scanf(\"%d\",&T);\n    for(int i=1;i<=T;i++)\n        work();\n}\n```",
        "postTime": 1503112319,
        "uid": 38348,
        "name": "Goes",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2148 \u3010[SDOI2009]E&D\u3011"
    },
    {
        "content": "\u9762\u5bf9\u4e00\u9053\u6beb\u65e0\u5934\u7eea\u7684\u9898\u76ee\n\n\u9996\u5148\u53ef\u4ee5\u53d1\u73b0N/2\u5806\u4e8c\u5143\u7ec4\u90fd\u662f\u72ec\u7acb\u6e38\u620f\uff0c\u6240\u4ee5\u53ea\u8981\u6c42\u51fa\u6bcf\u4e2a\u4e8c\u5143\u7ec4\u7684SG\u51fd\u6570\u5c31\u80fd\u89e3\u51b3\u95ee\u9898\n\n\u5728\u6beb\u65e0\u5934\u7eea\u7684\u60c5\u51b5\u4e0b\uff0c\u672c\u849f\u84bb\u51c6\u5907\u5148\u7528[\u66b4\u529b](http://paste.ubuntu.com/25386637/)\u625350\\*50\u7684\u4e8c\u5143\u7ec4\u7684\u8868\u683c\n\n\u518d\u5728\u4e0a\u9762\u627e\u89c4\u5f8b\u5427\n\n\u5bf9\u4e8e\u4e00\u4e2a\u4e8c\u5143\u7ec4$(a,b) \\Leftrightarrow(b,a)$\n\n\u4e0d\u96be\u53d1\u73b0\n\n- \u82e5a,b\u662f\u5947\u6570,\u5219SG[(a,b)]=0\n\n\u7136\u540e\u770b\u4e86\u4e00\u4f1a\uff0c\u53d1\u73b0\u4e00\u4e2a\u4e0d\u592a\u91cd\u8981\u7684\u7ed3\u8bba\n\n\u82e5a%2=0,\u5219\u7b2ca\u884c\u540e\u9762\u6bcflowbit(a)\u4e2a\u6570\u90fd\u662f\u4e00\u4e2a\u6570\n\n\u7136\u540e\u52a8\u7528\u5927\u773c\u89c2\u5bdf\u6cd5\uff0c\u5f97\u5230\u5269\u4f59\u4e24\u4e2a\u89c4\u5f8b\n\n- \u82e5a,b\u662f\u5076\u6570,\u5219SG[(a,b)]=SG[(a/2,b/2)]+1\n\n- \u82e5a\u662f\u5076\u6570b\u662f\u5947\u6570,\u5219SG[(a,b)]=SG[(a,b+1)]\n\n\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u8fd9\u4e2a\u548c\u66f4\u6b63\u51cf\u635f\u672f\u5dee\u4e0d\u591a\u7684\u7b97\u6cd5log\u590d\u6742\u5ea6\u7b97\u51fa\u4e00\u4e2a\u4e8c\u5143\u7ec4\u7684SG\u51fd\u6570\u4e86\n\n\u4ee3\u7801\u8fd8\u662f\u7070\u5e38\u77ed\n\n```cpp\n#include <stdio.h>\nint GetSG(int a,int b)\n{\n    int py=0;\n    while(1)\n    {\n        if(a&1&&b&1)\n            return py;\n        if(a&1)\n            ++a;\n        else if(b&1)\n            ++b;\n        else\n        {\n            a>>=1;\n            b>>=1;\n            ++py;\n        }\n    }\n}\n\nint T,N;\n\nint main()\n{\n    scanf(\"%d\",&T);\n    int wia,wi;\n    for(wia=1;wia<=T;++wia)\n    {\n        int Sgx=0;\n        scanf(\"%d\",&N);\n        N/=2;\n        int a,b;\n        for(wi=1;wi<=N;++wi)\n        {\n            scanf(\"%d %d\",&a,&b);\n            Sgx^=GetSG(a,b);\n        }\n        if(Sgx)\n            printf(\"YES\\n\");\n        else\n            printf(\"NO\\n\");\n    }\n    return 0;\n}\n```",
        "postTime": 1503627040,
        "uid": 25508,
        "name": "Night_Aurora",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2148 \u3010[SDOI2009]E&D\u3011"
    },
    {
        "content": "\u6211\u770b\u5927\u5bb6\u7528\u7684\u90fd\u662fo(nlogn)\u7684\u65b9\u6cd5\uff0c\u6211\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cd\u4f18\u5316\u7b97\u6cd5\uff08\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\uff0c\u5b83\u7684\u901f\u5ea6\u548cnlogn\u7684\u4e00\u6837\u5feb\uff0c\u6709\u77e5\u9053\u7684\u8bf7\u79c1\u4fe1\u6211\u4e00\u4e0b\uff0c\u8c22\u8c22\uff09\n\n\u5176\u5b9e\u6211\u662f\u53c2\u8003@Goes\u7684\u65b9\u6cd5\u505a\u7684\uff08\u7b2c\u4e00\u7bc7\uff09\uff0c\u4ed6\u7684\u6838\u5fc3\u4ee3\u7801\uff1a\n\n```cpp\nint sg(int x,int y)\n{\n    long long tmp=2;\n    for(int i=0;;i++,tmp*=2)\n        if( ( x - 1 ) % tmp < tmp/2 && (y-1)%tmp < tmp/2 )\n            return i;\n}\n```\n\u6211\u53d1\u73b0\uff0c\u8fd9\u5176\u5b9e\u5c31\u662f\u5728\u6c42x-1\u548cy-1\u6700\u540e\u4e00\u4e2a0\u5728\u5012\u6570\u7b2c\u51e0\u4f4d\uff08\u8981\u51cf1\uff0c\u8fd9\u4e2a\u5148\u4e0d\u7ba1\uff09\uff0c\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u8bd5\u4e00\u4e0b\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u6709\u5982\u4e0b\u7b97\u6cd5\uff1a\n\n\u5148\u6c42\u51fa(x-1)|(y-1)\uff0c\u56e0\u4e3a\u8981\u6c42x-1\u548cy-1\u7684\u67d0\u4e00\u4f4d\u540c\u65f6\u4e3a0\uff0c\u6240\u4ee5\u5bf9\u4e8e\u8fd9\u4e00\u4f4d\u4e24\u4e2a\u6570\u4e2d\u6709\u4e00\u4e2a\u662f1\u5c31\u662f\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\uff0c\u6309\u4f4d\u53d6\u6216\u4e86\u4ee5\u540e\u96c6\u4e2d\u5728\u6700\u540e\u76841\u90fd\u662f\u4e0d\u7b26\u5408\u6761\u4ef6\u7684\uff0c\u53ea\u8981\u52a0\u4e00\u4e2a1\uff0c\u8fd9\u4e9b1\u5c31\u90fd\u53d8\u62100\uff0c\u6700\u540e\u4e00\u4e2a0\u5c31\u53d8\u6210\u4e861\uff0c\u8fd9\u6837\u5c31\u53ea\u8981\u6c42\u6700\u540e\u4e00\u4e2a1\u5728\u5012\u6570\u7b2c\u51e0\u4f4d\u5c31\u884c\u4e86\uff08\u7528lowbit\uff09\n\n\u597d\u50cf\u6709\u70b9\u96be\u7406\u89e3\uff0c\u4e3e\u4e2a\u4f8b\u5b50\uff1a\n\nx-1:100110001\n\ny-1:101110111\uff08\u5171\u540c\u76840\u5728\u5012\u6570\u7b2c\u56db\u4f4d\uff09\n\n  (x-1)|(y-1):101110111\uff080\u5728\u5012\u6570\u7b2c\u56db\u4f4d\uff09\n\n(x-1)|(y-1)+1:101111000\uff081\u5728\u5012\u6570\u7b2c\u56db\u4f4d\uff09\n\n\u6700\u7ec8\u7ed3\u679c\u662f3\uff0c\u53ef\u4ee5\u5bf9\u7167\u7740\u4f8b\u5b50\u7406\u89e3\u4e00\u4e0b\n\n\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662fo(n)\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint T,i,n,x,y,z,ans;\nint read(){\n    int re=0;\n    char ch;\n    do ch=getchar();while (ch<'0'||ch>'9');\n    while (ch>='0' && ch<='9') re=(re<<3)+(re<<1)+(ch^48),ch=getchar();\n    return re;\n}\nint main(){\n    T=read();\n    while (T--){\n        n=read();ans=0;\n        n>>=1;\n        for (i=0;i<n;i++){\n            x=read();y=read();\n            z=((x-1)|(y-1))+1;\n            x=(int)log2(z&(-z));\n            //\u4f30\u8ba1\u7a0b\u5e8f\u6162\u7684\u539f\u56e0\u662f\u8fd9\u4e2alog2\n            ans^=x;\n        }\n        printf(\"%s\\n\",ans?\"YES\":\"NO\");\n    }\n}\n```",
        "postTime": 1515309320,
        "uid": 22469,
        "name": "Mingoal",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2148 \u3010[SDOI2009]E&D\u3011"
    },
    {
        "content": "- \u5c40\u9762 $(x,y)~~~ x,y>0$\n- \u64cd\u4f5c $(x,y)\\rightarrow(a,b)~~~a+b=x$ \u6216 $a+b=y$\n\n$x,y\\le 2\\times 10^9$\n\n\u5148\u624b\u5fc5\u8d25\u8fd8\u662f\u5fc5\u80dc\uff1f\n\n---\n\n\u9996\u5148\u6253\u4e2a\u8868\uff0c\u6734\u7d20\u7b97 $\\operatorname{sg}$\n\n```cpp\nstd::map<pii, int> sg;\n\nint calc(pii c) {\n    if (sg.count(c)) return sg[c];\n    std::vector<int> s;\n    rep(i, 1, c.first - 1) s.push_back(calc({i, c.first - i}));\n    rep(i, 1, c.second - 1) s.push_back(calc({i, c.second - i}));\n    std::sort(s.begin(), s.end());\n    s.erase(std::unique(s.begin(), s.end()), s.end());\n    int lst = -1;\n    for (auto i : s) {\n        if (i != lst + 1) return sg[c] = lst + 1;\n        lst = i;\n    }\n    return sg[c] = lst + 1;\n}\n```\n\n\u7136\u540e\u8f93\u5230 Excel\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bysauhxc.png)\n\n\u975e\u5e38\u7684\u6709\u89c4\u5f8b\n\n```cpp\n#define c(x, p) (x % p ? x % p : p) // 0 % p = p\nint sg(ui x, ui y) {\n    for (ui i = 0, p = 2; i < 31; i++, p *= 2) {\n        if ((c(x, p) <= p / 2) && (c(y, p) <= p / 2)) return i;\n    }\n    return 31;\n}\n```\n\n$i$ \u4ece\u5c0f\u5230\u5927\u8003\u8651\uff0c `if` \u4e2d\u7684\u6761\u4ef6\u610f\u601d\u662f\u5728\u6b63\u65b9\u5f62\u7684\u5de6\u4e0a\u89d2 $1/4$\n\n```cpp\n#define rep(i, l, r) for (int i = (l); i <= (r); ++i)\n#define per(i, l, r) for (int i = (l); i >= (r); --i)\ntypedef pair<int, int> pii;\ntypedef long long ll;\ntypedef unsigned int ui;\ntypedef unsigned long long ull;\n\n#define c(x, p) (x % p ? x % p : p)\n\nint sg(ui x, ui y) {\n    for (ui i = 0, p = 2; i < 31; i++, p *= 2) {\n        if ((c(x, p) <= p / 2) && (c(y, p) <= p / 2)) return i;\n    }\n    return 31;\n}\n\nint main() {\n#ifdef LOCAL\n    freopen(\"input\", \"r\", stdin);\n#endif\n    std::ios::sync_with_stdio(false);\n    cout.tie(0);\n    int T;\n    cin >> T;\n    while (T--) {\n        cerr << \"doing \" << T << endl;\n        int n;\n        cin >> n;\n        n /= 2;\n        int ans = 0;\n        rep(i, 1, n) {\n            int x, y;\n            cin >> x >> y;\n            // cerr << x << ' ' << y << endl;\n            ans ^= sg(x, y);\n        }\n        cout << (ans ? \"YES\" : \"NO\") << std::endl;\n    }\n    return 0;\n}\n```",
        "postTime": 1570089154,
        "uid": 9903,
        "name": "Chaigidel",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2148 \u3010[SDOI2009]E&D\u3011"
    },
    {
        "content": "\n\u867d\u7136\u4e0b\u9762\u6709\u5927\u4f6c\u5df2\u7ecf\u8bc1\u8fc7\u672c\u9898\u7ed3\u8bba\u4e86\uff0c\u4f46\u662f\u8fd8\u662f\u81ea\u5df1\u5199\u4e86\u4e00\u4e2a\u8bc1\u660e\uff0c\u611f\u89c9\u6709\u4e00\u70b9\u4e0d\u4e00\u6837\uff0c\u4e0d\u77e5\u9053\u8bc1\u660e\u662f\u5426\u6b63\u786e\u3002\u8bf7\u5927\u4f6c\u67e5\u9519\u3002\n\n# \u9898\u610f\n\n\u6709\u4e00\u4e9b\u6e38\u620f\uff0c\u6bcf\u4e2a\u6e38\u620f\u90fd\u662f\u8fd9\u6837\u7684\uff1a\n\n\u6709\u4e24\u5806\u77f3\u5b50\uff0c\u6bcf\u6b21\u64cd\u4f5c\u53ef\u4ee5\u4e22\u6389\u5176\u4e2d\u4e00\u5806\uff0c\u5e76\u4e14\u628a\u53e6\u4e00\u5806\u5206\u81f3\u5c11\u4e00\u4e2a\u5230\u4e22\u6389\u7684\u8fd9\u5806\uff0c\u4fdd\u8bc1\u6bcf\u5806\u81f3\u5c11\u6709\u4e00\u4e2a\u77f3\u5b50\uff0c\u4e0d\u80fd\u64cd\u4f5c\u7684\u4eba\u8f93\u3002\n\n\u6bcf\u6b21\u53ef\u4ee5\u6311\u4e00\u4e2a\u6e38\u620f\u64cd\u4f5c\uff0c\u6700\u540e\u4e0d\u80fd\u64cd\u4f5c\u7684\u4eba\u8f93\u3002\n\n# \u601d\u8def\n\n\u9996\u5148\u6253\u8868\u627e\u51fa\u89c4\u5f8b\uff0c\u6211\u4eec\u77e5\u9053\u4e86$sg(i,j)=f((i-1)|(j-1))$\uff0c$f(x)$\u8868\u793a$x$\u4e8c\u8fdb\u5236\u4e0b\u6700\u4f4e\u76840\u4f4d\u3002\u7136\u540e\u5c31\u53ef\u4ee5\u505a\u9898\u4e86\uff0c\u4e8b\u5b9e\u80dc\u4e8e\u96c4\u8fa9\u3002\n\n\u65e0\u804a\u4e4b\u4f59\uff0c\u6211\u4eec\u6765\u8bc1\u660e\u8fd9\u4e2a\u601d\u8def\u7684\u6b63\u786e\u6027\u3002\n\n\u8bbe$S(i)=\\{sg(x,y)|x+y=i\\}$\uff0c\u90a3\u4e48$sg(i,j)=mex(S(i) \\cup S(j))$\u3002\n\n\u7136\u540e\u6211\u4eec\u53ea\u8981\u8bf4\u660e$S(i)$\u4e2d\u7684\u5143\u7d20\u5c31\u662f$i-1$\u5728\u4e8c\u8fdb\u5236\u4e0b\u7684\u6240\u67091\u4f4d\u5373\u53ef\u3002\n\n\u9996\u5148$i=1$\u65f6\uff0c$S(i)=\\varnothing$\uff0c\u6210\u7acb\u3002\n\n\u73b0\u5728\u5047\u8bbe$i-1(i\\ge 2)$\u65f6\u7ed3\u8bba\u6b63\u786e\u6027\u5df2\u7ecf\u88ab\u8bc1\u660e\uff0c\u8003\u8651$i$\u65f6\u7684\u60c5\u51b5\uff0c$S(i)=\\{f(x|y)|x+y=i-2\\}$\u3002\u5bf9\u4e8e\u67d0\u4e00\u7ec4$x$\u548c$y$\uff0c\u5047\u8bbe$f(x|y)=k$\uff0c\u90a3\u4e48$x$\u548c$y$\u7684\u540e$k+1$\u4f4d\u5927\u6982\u957f\u8fd9\u4e2a\u6837\u5b50\uff1a\n\n| | k | k-1 | k-2 | ...| 1 | 0 |\n|-----------: |-----------: |-----------: |-----------: |-----------: |-----------: |-----------: |\n|x| 0 | 1 | 0 | ... | 1 | 0 |\n|y| 0 | 1 | 1 | ... | 0 | 1 |\n\n\u6240\u4ee5$0$ ~ $k$\u4f4d\u76f8\u52a0\u7684\u548c\u7684\u8303\u56f4\u662f$[2^k-1,2^{k+1}-2]$\uff0c\u56e0\u4e3a$i-1=x+y+1$\uff0c\u6240\u4ee5$i-1$\u7684\u540e$k+1$\u4f4d\u7684\u8303\u56f4\u5e94\u8be5\u662f$i-1\\in [2^k,2^{k+1}-1]$\uff0c\u7b2c$k$\u4f4d\u80af\u5b9a\u662f1\u3002\u6240\u4ee5\u6211\u4eec\u8bc1\u660e\u4e86$S(i)$\u53ea\u53ef\u80fd\u5305\u542b$i-1$\u76841\u4f4d\uff0c\u90a3\u4e48\u63a5\u4e0b\u6765\u8bc1\u660e$i-1$\u6240\u6709\u76841\u4f4d\u90fd\u5728$S(i)$\u4e2d\u3002\n\n\u5148\u7cfb\u7edf\u5730\u63cf\u8ff0\u4e00\u4e0b\u8fd9\u4e2a\u547d\u9898\uff0c\u5373$\\forall k \\in S(i)$\uff0c\u90fd\u5b58\u5728\u4e00\u7ec4$x,y(x+y+1=i-1)$\u4f7f\u5f97$f(x|y)=k$\u3002\n\u56e0\u4e3a$x|y$\u7684\u7b2ck\u4f4d\u662f0\uff0c$0$ ~ $k-1$\u4f4d\u5168\u662f1\uff0c\u6240\u4ee5\u7c7b\u4f3c\u4e0a\u9762\u7684\u8bc1\u6cd5\uff0c\n\u8981\u60f3\u6ee1\u8db3$f(x|y)=k$\u5fc5\u987b\u6ee1\u8db3$(x+y+1)mod\\; 2^{k+1} \\in [2^k,2^{k+1}-1]$\u3002\n\u53c8\u56e0\u4e3a$i-1$\u7684\u7b2ck\u4f4d\u662f1\uff0c\u6240\u4ee5$(x+y+1)mod \\; 2^{k+1}=(i-1)mod \\; 2^{k+1} \\in [2^k,2^{k+1}-1]$\u3002\n\u6240\u4ee5\u4e00\u5b9a\u5b58\u5728\u4e00\u7ec4$x,y(x+y+1=i-1)$\uff0c\u4f7f\u5f97$f(x|y)=k$\u3002\n\n\u8bc1\u6bd5\uff01\n\n\n\n# \u4ee3\u7801\n\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N = 2e4+10;\nint T, n, ans;\n\nint lowzero(int x){\n    for (int i = 0; ; ++i, x >>= 1)\n        if (!(x & 1)) return i;\n}\n\nint main()\n{\n    for (scanf(\"%d\", &T); T--; ){\n        ans = 0;\n        for (scanf(\"%d\", &n), n >>= 1; n--; ){\n            int x, y;\n            scanf(\"%d%d\", &x, &y);\n            ans ^= lowzero((x - 1) | (y - 1));\n        }\n        printf(\"%s\\n\", ans ? \"YES\" : \"NO\");\n    }\n    return 0;\n}\n```\n",
        "postTime": 1563973704,
        "uid": 27999,
        "name": "\u5c0f\u8d8a\u8d8a",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2148 \u3010[SDOI2009]E&D\u3011"
    },
    {
        "content": "\u8fd9\u9898\u9898\u89e3\u597d\u5c11\uff0c\u5c31\u53d1\u4e86\u4e00\u7bc7\u3002\n\n\u8fd9\u662f\u4e00\u9053\u4ee3\u7801\u91cf\u6bd4\u8f83\u5c11\u7684\u84dd\u9898\uff0c\u6211\u7684\u4ee3\u7801\u53ea\u6709 34 \u884c\u3002\n\n### \u9898\u76ee\u63cf\u8ff0\uff1a\n\n\u5c0f E \u4e0e \u5c0f W \u8fdb\u884c\u4e00\u9879\u540d\u4e3a `E&D` \u6e38\u620f\u3002\n\n\u6e38\u620f\u7684\u89c4\u5219\u5982\u4e0b\uff1a\u684c\u5b50\u4e0a\u6709 $2n$ \u5806\u77f3\u5b50\uff0c\u7f16\u53f7\u4e3a $1 \\sim 2n$\u3002\u5176\u4e2d\uff0c\u4e3a\u4e86\u65b9\u4fbf\u8d77\u89c1\uff0c\u6211\u4eec\u5c06\u7b2c $2k-1$ \u5806\u4e0e\u7b2c $2k$ \u5806\uff08 $1 \\le k \\le n1 \\le k \\le n$ \uff09 \u89c6\u4e3a\u540c\u4e00\u7ec4\u3002\u7b2c $i$ \u5806\u7684\u77f3\u5b50\u4e2a\u6570\u7528\u4e00\u4e2a\u6b63\u6574\u6570 $S_i$ \u8868\u793a\u3002\n\n\u4e00\u6b21\u5206\u5272\u64cd\u4f5c\u6307\u7684\u662f\uff0c\u4ece\u684c\u5b50\u4e0a\u4efb\u53d6\u4e00\u5806\u77f3\u5b50\uff0c\u5c06\u5176\u79fb\u8d70\u3002\u7136\u540e\u5206\u5272\u5b83\u540c\u4e00\u7ec4\u7684\u53e6\u4e00\u5806\u77f3\u5b50\uff0c\u4ece\u4e2d\u53d6\u51fa\u82e5\u5e72\u4e2a\u77f3\u5b50\u653e\u5728\u88ab\u79fb\u8d70\u7684\u4f4d\u7f6e\uff0c\u7ec4\u6210\u65b0\u7684\u4e00\u5806\u3002\u64cd\u4f5c\u5b8c\u6210\u540e\uff0c\u6240\u6709\u5806\u7684\u77f3\u5b50\u6570\u5fc5\u987b\u4fdd\u8bc1\u5927\u4e8e $0$\u3002\u663e\u7136\uff0c\u88ab\u5206\u5272\u7684\u4e00\u5806\u7684\u77f3\u5b50\u6570\u81f3\u5c11\u8981\u4e3a $2$\u3002\u4e24\u4e2a\u4eba\u8f6e\u6d41\u8fdb\u884c\u5206\u5272\u64cd\u4f5c\u3002\u5982\u679c\u8f6e\u5230\u67d0\u4eba\u8fdb\u884c\u64cd\u4f5c\u65f6\uff0c\u6240\u6709\u5806\u7684\u77f3\u5b50\u6570\u5747\u4e3a $1$\uff0c\u5219\u6b64\u65f6\u6ca1\u6709\u77f3\u5b50\u53ef\u4ee5\u64cd\u4f5c\uff0c\u5224\u6b64\u4eba\u8f93\u6389\u6bd4\u8d5b\u3002\n\n\u5c0f E \u8fdb\u884c\u7b2c\u4e00\u6b21\u5206\u5272\u3002\u4ed6\u60f3\u77e5\u9053\uff0c\u662f\u5426\u5b58\u5728\u67d0\u79cd\u7b56\u7565\u4f7f\u5f97\u4ed6\u4e00\u5b9a\u80fd\u6218\u80dc \u5c0f W\u3002\u56e0\u6b64\uff0c\u4ed6\u6c42\u52a9\u4e8e\u5c0f F\uff0c\u4e5f\u5c31\u662f\u4f60\uff0c\u8bf7\u4f60\u544a\u8bc9\u4ed6\u662f\u5426\u5b58\u5728\u5fc5\u80dc\u7b56\u7565\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u521d\u59cb\u65f6\u684c\u5b50\u4e0a\u6709 $4$ \u5806\u77f3\u5b50\uff0c\u6570\u91cf\u5206\u522b\u4e3a $1,2,3,1$\u3002\u5c0f E \u53ef\u4ee5\u9009\u62e9\u79fb\u8d70\u7b2c $1$ \u5806\uff0c\u7136\u540e\u5c06\u7b2c $2$ \u5806\u5206\u5272\uff08\u53ea\u80fd\u5206\u51fa $1$ \u4e2a\u77f3\u5b50\uff09\u3002\u63a5\u4e0b\u6765\uff0c\u5c0f W \u53ea\u80fd\u9009\u62e9\u79fb\u8d70\u7b2c $4$ \u5806\uff0c\u7136\u540e\u5c06\u7b2c $3$ \u5806\u5206\u5272\u4e3a $1$ \u548c $2$\u3002\u6700\u540e\u8f6e\u5230\u5c0f E\uff0c\u4ed6\u53ea\u80fd\u79fb\u8d70\u540e\u4e24\u5806\u4e2d\u6570\u91cf\u4e3a $1$ \u7684\u4e00\u5806\uff0c\u5c06\u53e6\u4e00\u5806\u5206\u5272\u4e3a $1$ \u548c $1$\u3002\u8fd9\u6837\uff0c\u8f6e\u5230\u5c0f W \u65f6\uff0c\u6240\u6709\u5806\u7684\u6570\u91cf\u5747\u4e3a $1$\uff0c\u5219\u4ed6\u8f93\u6389\u4e86\u6bd4\u8d5b\u3002\u6545 \u5c0f E \u5b58\u5728\u5fc5\u80dc\u7b56\u7565\u3002\n\n### \u601d\u8def\uff1a\n\n\u5bf9\u4e8e\u76f8\u90bb\u7684\u4e24\u4e2a\u6570\uff0c\u6211\u4eec\u5c06\u5176\u89c6\u4e3a\u4e00\u7ec4\uff0c\u90a3\u4e48\uff08 $1,1$ \uff09\u7684 SG \u51fd\u6570\u503c\u4e3a $0$\uff0c\u7136\u540e\u8fdb\u884c\u5217\u4e3e\uff1a\n\n```\n1: 0 1 0 2 0 1 0 3 0\n2: 1 1 2 2 1 1 3 3\n3: 0 2 0 2 0 3 0\n4: 2 2 2 2 3 3\n5: 0 1 0 3 0\n6: 1 1 3 3\n7: 0 3 0\n8: 3 3\n9: 0\n```\n\n\u5982\u679c\u6211\u4eec\u659c\u7740\u770b\uff0c\u4e5f\u5c31\u662f\u5c06\u4e00\u4e2a\u6570\u5206\u89e3\u6210\u4e24\u4e2a\u6570\u4e4b\u548c\u540e\uff0c\u53ef\u4ee5\u5f97\u5230\u7684\u540e\u7eed\u72b6\u6001\u7684 SG \u51fd\u6570\uff1a\n\n```\n2: 0\n3: 1\n4: 0 1\n5: 2\n6: 0 2\n7: 1 2\n8: 0 1 2\n9: 3\n```\n\n\u8fd9\u770b\u8d77\u6765\u5f88\u50cf\u4e8c\u8fdb\u5236\u7684\u8868\u793a\u65b9\u6cd5\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u4e8c\u8fdb\u5236\u6765\u8868\u793a\uff0c\u5f53\u6211\u4eec\u9047\u5230\u4e00\u4e2a\u5c40\u9762\u7684\u65f6\u5019\uff0c\u5176 SG \u51fd\u6570\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fd9\u6837\u5f97\u5230\u4e86\u3002\n\n### CODE\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N = 100010;\nint head[N], num, sg[N];\nint main()\n{\n\tint T;\n\tscanf (\"%d\", &T);\n\twhile(T --)\n\t{\n\t\tint n, ans = 0;\n\t\tscanf (\"%d\", &n);\n\t\tn >>= 1;\n\t\tfor (int i = 1; i <= n; i ++)\n\t\t{\n\t\t\tint a, b;\n\t\t\tscanf (\"%d %d\", &a, &b);\n\t\t\ta --; b --;\n\t\t\ta |= b;\n\t\t\tint temp = 0;\n\t\t\twhile (a & 1)\n\t\t\t{\n\t\t\t\t++ temp;\n\t\t\t\ta >>= 1;\n\t\t\t}\n\t\t\tans ^= temp;\n\t\t}\n\t\tif (ans)\n\t\t\tprintf (\"YES\\n\");\n\t\telse\n\t\t\tprintf (\"NO\\n\");\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1680514974,
        "uid": 925577,
        "name": "ULSG_XBaiC",
        "ccfLevel": 0,
        "title": "P2148 [SDOI2009] E&D \u9898\u89e3"
    },
    {
        "content": "## \u601d\u8def\n\n\u9996\u5148\u53ef\u4ee5\u7528 SG \u5b9a\u7406\u628a\u8fd9\u4e2a\u95ee\u9898\u8f6c\u6362\u6210\u6c42\u4e00\u7ec4\u77f3\u5b50\u7684 SG \u503c\uff0c\u7136\u540e\u518d\u5f02\u6216\u8d77\u6765\u3002\n\n\u8bbe $\\text{SG}(x,y)$ \u4e3a\u5f53\u524d\u72b6\u6001\u4e0b\u7684 SG \u503c\u3002\u518d\u8bbe $S_z=\\{\\text{SG}(x,y)|x+y=z,x,y\\in N_{+}\\}$\uff0c\u5219\u6839\u636e\u9898\u610f\uff0c$\\text{SG}(x,y)=\\text{mex}(S_x \\cup S_y)$\u3002\n\n\u63a5\u4e0b\u6765\u6709\u4e00\u4e2a\u91cd\u8981\u7ed3\u8bba\uff1a$S_z$ \u662f $(z-1)$ \u5728\u4e8c\u8fdb\u5236\u4e0b $1$ \u7684\u4f4d\u7f6e\u96c6\u5408\uff08\u4f4d\u7f6e\u4ece $0$ \u5f00\u59cb\uff0c\u4e0b\u540c\uff09\u3002\n\n\u8003\u8651\u4f7f\u7528\u6570\u5b66\u5f52\u7eb3\u6cd5\u8bc1\u660e\u3002\n\n\u9996\u5148\uff0c\u5f53 $z=1$ \u7684\u65f6\u5019\uff0c$S_z=\\varnothing$\uff0c\u7b49\u4e8e $0$ \u5728\u4e8c\u8fdb\u5236\u4e0b $1$ \u7684\u4f4d\u7f6e\u96c6\u5408\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u5047\u8bbe $1\\sim z-1$ \u7684\u65f6\u5019\u4e0a\u9762\u7684\u7ed3\u8bba\u5df2\u7ecf\u8bc1\u660e\u4e86\uff0c\u73b0\u5728\u6765\u8bc1\u660e $z$ \u7684\u65f6\u5019\u662f\u5bf9\u7684\u3002\n\n\u8003\u8651 $x,y \\le z-1$ \u65f6 $\\text{SG}(x,y)$ \u6709\u4ec0\u4e48\u6027\u8d28\u3002\u56e0\u4e3a $S_x,S_y$ \u90fd\u662f $x-1,y-1$ \u5728\u4e8c\u8fdb\u5236\u4e0b $1$ \u7684\u4f4d\u7f6e\uff0c\u6240\u4ee5 $S_x \\cup S_y$ \u5c31\u662f $(x-1)|(y-1)$ \u5728\u4e8c\u8fdb\u5236\u4e0b $1$ \u7684\u4f4d\u7f6e\u3002\u8bbe $f(x)$ \u4e3a $x$ \u5728\u4e8c\u8fdb\u5236\u4e0b\u7b2c\u4e00\u4e2a $0$ \u7684\u4f4d\u7f6e\uff0c\u5219 $\\text{SG}(x,y)=f((x-1)|(y-1))$\u3002\n\n\u518d\u6765\u770b $S_z$ \u7684\u5b9a\u4e49\uff1a$S_z=\\{\\text{SG}(x,y)|x+y=z,x,y\\in N_{+}\\}$\u3002\u90a3\u4e48\u8fd9\u91cc\u7684 $x,y$ \u4e00\u5b9a\u90fd $\\le z-1$\u3002\u6240\u4ee5 $S_z=\\{f((x-1)|(y-1))|x+y=z,x,y\\in N_{+}\\}$\u3002\n\n\u8f6c\u6362\u4e00\u4e0b\uff0c\u5c06 $z,x,y$ \u90fd\u51cf\u4e00\uff0c\u53d8\u6210\u4e86 $T_z=\\{f(x|y)|x+y+1=z,x,y \\in N\\}$\u3002\u6240\u4ee5\u73b0\u5728\u5c31\u9700\u8981\u8bc1\u660e $T_z$ \u662f $z$ \u5728\u4e8c\u8fdb\u5236\u4e0b $1$ \u7684\u4f4d\u7f6e\u96c6\u5408\u3002\n\n\u73b0\u5728\u5c31\u8981\u5bf9\u4e8c\u8fdb\u5236\u4f4d\u662f $1$ \u6216 $0$ \u4e24\u79cd\u60c5\u51b5\u5206\u522b\u8bc1\u660e\u3002\n\n* \u5bf9\u4e8e $z$ \u7684\u4e8c\u8fdb\u5236\u4e0b $1$ \u7684\u4f4d\u7f6e $k$\uff0c\u5b58\u5728\u4e00\u5bf9 $x,y$ \u6ee1\u8db3 $x+y+1=z$ \u4f7f\u5f97 $f(x|y)=k$\u3002\u5f53 $k=0$ \u65f6\uff0c\u6784\u9020 $x=0,y=z-1$ \u5373\u53ef\uff0c\u56e0\u4e3a $z-1$ \u7684\u6700\u540e\u4e00\u4f4d\u4e00\u5b9a\u662f $0$\u3002\u5426\u5219\uff0c\u6784\u9020 $x=2^k-1,y=i-2^k$ \u5373\u53ef\u3002\u56e0\u4e3a $x$ \u4fdd\u8bc1\u4e86\u7b2c $0 \\sim k-1$ \u4f4d\u90fd\u662f $1$\uff0c\u6b64\u65f6 $x$ \u7b2c $k$ \u4f4d\u5df2\u7ecf\u6ca1\u6709\u4e86\uff0c\u800c $y$ \u7684\u7b2c $k$ \u4f4d\u4e00\u5b9a\u662f $0$\u3002\n\n* \u5bf9\u4e8e $z$ \u7684\u4e8c\u8fdb\u5236\u4e0b $0$ \u7684\u4f4d\u7f6e $k$\uff0c\u4e0d\u5b58\u5728\u4e00\u5bf9 $x,y$ \u6ee1\u8db3 $x+y+1=z$ \u4f7f\u5f97 $f(x|y)=k$\u3002\u5f53 $z$ \u7684\u7b2c $0 \\sim k-1$ \u4f4d\u90fd\u662f $0$ \u7684\u65f6\u5019\uff0c\u51cf\u4e00\u540e $z$ \u7684\u7b2c $0 \\sim k$ \u4f4d\u5c31\u90fd\u53d8\u6210 $1$ \u4e86\u3002\u4f46\u8981\u6c42 $x,y$ \u7684\u7b2c $k$ \u4f4d\u90fd\u662f $0$\uff0c\u8fd9\u6837\u5c31\u8981\u6c42\u6bcf\u4e00\u4f4d\u90fd\u6709\u8fdb\u4f4d\u3002\u4f46\u662f\u5728\u7b2c $0$ \u4f4d\u7684\u65f6\u5019\u4e00\u5b9a\u4e0d\u4f1a\u6709\u8fdb\u4f4d\uff0c\u6240\u4ee5\u4e0d\u5b58\u5728\u3002\u5426\u5219\uff0c\u51cf\u4e00\u4e4b\u540e\u4e0d\u4f1a\u5f71\u54cd\u7b2c $k$ \u4f4d\uff0c\u4e14\u524d\u9762\u5fc5\u7136\u81f3\u5c11\u5b58\u5728\u4e00\u4e2a $0$\u3002\u53c8\u56e0\u4e3a $x,y$ \u7684\u7b2c $0 \\sim k-1$ \u4f4d $x,y$ \u81f3\u5c11\u6709\u4e00\u4e2a $1$\uff0c\u6240\u4ee5 $0$ \u5fc5\u7136\u4f1a\u4ea7\u751f\u8fdb\u4f4d\u3002\u63a5\u4e0b\u6765\uff0c\u6bcf\u4e00\u4f4d\u90fd\u4f1a\u4ea7\u751f\u8fdb\u4f4d\u3002\u4e00\u76f4\u5230\u7b2c $k$ \u4f4d\uff0c\u6b64\u65f6 $x,y$ \u7684\u7b2c $k$ \u4f4d\u662f $0$\uff0c\u52a0\u4e0a\u8fdb\u4f4d\u5c31\u53d8\u6210 $1$ \u4e86\uff0c\u4e0e $z$ \u7684\u7b2c $k$ \u4f4d\u662f $0$ \u77db\u76fe\u3002\u6240\u4ee5\u4e0d\u5b58\u5728\u3002\n\n\u8fd9\u6837\u5c31\u8bc1\u660e\u4e86\u8fd9\u4e2a\u7ed3\u8bba\u3002\n\n\u56e0\u4e3a\u8fd9\u4e2a\u7ed3\u8bba\u6210\u7acb\uff0c\u6240\u4ee5\u6839\u636e\u4e0a\u9762\uff0c$\\text{SG}(x,y)=f((x-1)|(y-1))$\u3002\u8fd9\u6837\u6c42\u51fa\u6bcf\u4e2a $\\text{SG}(x,y)$ \u7136\u540e\u5f02\u6216\u8d77\u6765\u5373\u53ef\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n; int a[20010];\nint f(int x)\n{\n\tint now=0;\n\twhile(x%2) x/=2,++now;\n\treturn now;\n}\nint main()\n{\n\tint t; cin>>t; while(t--)\n\t{\n\t\tcin>>n;\n\t\tfor(int i=1; i<=n; ++i) cin>>a[i];\n\t\tint now=0;\n\t\tfor(int i=1; i<=n; i+=2) now^=f((a[i]-1)|(a[i+1]-1));\n\t\tcout<<(now?\"YES\":\"NO\")<<'\\n';\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1672709417,
        "uid": 353688,
        "name": "\u738b\u7199\u6587",
        "ccfLevel": 0,
        "title": "P2148 \u9898\u89e3"
    }
]