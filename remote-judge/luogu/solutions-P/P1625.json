[
    {
        "content": "\u849f\u84bb\u4e5f\u80fd\u5199\u51fa\u6765\u7684AC\u4ee3\u7801\uff01\u663e\u7136\u9898\u76ee\u662f\u8ba9\u6c42\n\n\n$$\\frac{0!}{m!}+\\frac{1!}{(m+1)!}+\\frac{2!}{(m+2)!}+\\cdots+\\frac{(n-1)!}{(m+n-1)!}$$\n\n\u6613\u901a\u5206\u4e3a\n\n\n$$\\dfrac{0!\\dfrac{(m+n-1)!}{m!}+1!\\dfrac{(m+n-1)!}{(m+1)!}+\\cdots+(n-1)!\\dfrac{(m+n-1)!}{(m+n-1)!}}{(m+n-1)!}$$\n\n\n\u89c2\u5bdf\u5230\u5206\u6bcd\u662f\u4e2a\u5947\u5927\u65e0\u6bd4\u7684\u6570\uff0c\u5018\u82e5\u662f\u786c\u7b97\u5206\u6bcd\u6700\u540e\u518d\u9664\u514d\u4e0d\u4e86\u9ad8\u7cbe\u9664\u9ad8\u7cbe\u3002\u54e6\u6211\u7684\u8001\u4f19\u8ba1\uff0c\u770b\u5728\u6885\u6797\u7684\u80e1\u5b50\u7684\u9762\u5b50\u4e0a\uff0c\u4f60\u4e00\u5b9a\u4e0d\u60f3\u5199\u5b83\u7684\u3002\u4e8e\u662f\u6211\u4eec\u5c31\u6709\u4e00\u4e2a\u4f18\u5316\uff1a**\u5148\u5c06\u5206\u6bcd\u5206\u89e3\u8d28\u56e0\u6570\uff0c\u6700\u540e\u8fdb\u884c\u9ad8\u7cbe\u9664\u4f4e\u7cbe\u7ea6\u5206**\u3002\n\n\n\u518d\u8003\u8651\u5206\u5b50\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c\u5206\u5b50\u53ef\u4ee5\u5316\u6210\u597d\u591a\u4e2a$x\\dfrac{y}{z}$\uff0c\u4e14\u5982\u679c\u6211\u4eec\u77e5\u9053\u67d0\u4e00\u9879\uff0c\u90a3\u4e48\u5176\u4e0b\u4e00\u9879\u53ef\u4ee5\u901a\u8fc7$x$\u4e58\u67d0\u4e2a\u6570\uff0c$z$\u4e58\u67d0\u4e2a\u6570\uff08\u5373$\\dfrac{y}{z}$\u9664\u67d0\u4e2a\u6570\uff0c\u4e14\u9664\u5b8c\u5fc5\u5b9a\u662f\u6574\u6570\uff09\u5f97\u5230\uff0c\u7136\u540e\u5206\u5b50\u603b\u548c\u518d\u52a0\u4e0a\u5b83\u3002\u8fd9\u6837\u5c31\u4f1a\u8dd1\u5f97\u98de\u5feb\u3002\n\n\n\u7ec6\u8282\u4e5f\u662f\u9700\u8981\u6ce8\u610f\u7684\u3002\u8fd9\u91cc\u6ce8\u610f\u4e00\u70b9\uff0c\u6211\u7684\u9664\u6cd5\u4e3a\u4e86\u8fd9\u9053\u9898\u505a\u4e86\u70b9\u6539\u52a8\uff0c\u5373\u5018\u82e5\u6709\u64cd\u4f5c`bool qaq=a/b;`\u5176\u4e2da\u4e3a\u9ad8\u7cbe\u5ea6\u6570\uff0cb\u4e3aint\uff0c\u8981\u662f$b|a$\u5219\u6709qaq\u88ab\u8d4b\u503ctrue\uff0c **\u4e14a\u88abb\u9664\u6389**\u3002\u5426\u5219\uff0cqaq\u88ab\u8d4b\u503c\u4e3afalse\uff0c**\u4e14a\u4e0d\u53d1\u751f\u6539\u53d8**\u3002\n\n\n```cpp\n#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <vector>\nusing namespace std;\nstruct bigInt{\n    int num[2500], len;\n    bigInt operator+(bigInt &x)const{\n        bigInt re;\n        memset(re.num, 0, sizeof(re.num));//\u4e0d\u52a0\u521d\u59cb\u5316\u5927\u7ea6\u4f1a\u6709\u5947\u602a\u7684\u9519\u8bef\uff0c\u6211\u8c03\u4e86\u4e00\u4e2a\u5c0f\u65f6QAQ \n        re.len = max(len, x.len);\n        for(int i=1; i<=re.len; i++)\n            re.num[i] = num[i] + x.num[i];\n        int jw=0;\n        for(int i=1; i<=re.len; i++){\n            re.num[i] += jw;\n            jw = re.num[i] / 10;\n            re.num[i] %= 10;\n        }\n        if(jw)\n            re.num[++re.len] = jw;\n        return re;\n    }\n    bigInt operator*(int &x)const{\n        bigInt re;\n        memset(re.num, 0, sizeof(re.num));\n        re.len = len;\n        for(int i=1; i<=re.len; i++)\n            re.num[i] = num[i] * x;\n        int jw=0;\n        for(int i=1; i<=re.len; i++){\n            re.num[i] += jw;\n            jw = re.num[i] / 10;\n            re.num[i] %= 10;\n        }\n        while(jw){\n            re.num[++re.len] = jw%10;\n            jw /= 10;\n        }\n        return re;\n    }\n    bool operator/(const int &x){\n        bigInt re;\n        memset(re.num, 0, sizeof(re.num));\n        re.len = len;\n        int tw=0;\n        for(int i=len; i>=1; i--){\n            tw = tw * 10 + num[i];\n            re.num[i] = tw / x;\n            tw %= x;\n        }\n        if(tw)    return false;//\u9664\u4e0d\u5e72\u51c0 \n        while(!re.num[re.len])    re.len--;\n        if(!re.len)    re.len++;\n        len = re.len;\n        for(int i=1; i<=re.len; i++)\n            num[i] = re.num[i];\n        return true;\n    }\n    bigInt prt(){//\u8f93\u51fa\u51fd\u6570 \n        for(int i=len; i>=1; i--)\n            putchar(num[i]+'0');\n        putchar('\\n');\n    }\n}fz, fztemp, fm;//fz\u8868\u793a\u5206\u5b50\uff0cfm\u8868\u793a\u5206\u6bcd\uff0cfztemp\u8868\u793a\u5f53\u524d\u5904\u7406\u5206\u5b50\u7684\u90a3\u4e00\u9879 \nvector<int> zys;//\u8d28\u56e0\u6570 \nint n, m;\nbool isp[1005];\nvoid shai(){//\u7b5b\u6cd5\u7b5b\u8d28\u6570 \n    memset(isp, true, sizeof(isp));\n    isp[0] = isp[1] = false;\n    for(int i=2; i<=1000; i++)\n        if(isp[i])\n            for(int j=i+i; j<=1000; j+=i)\n                isp[j] = false;\n}\nvoid makezys(int x){//\u5bf9\u67d0\u4e2a\u6570\u5206\u89e3\u8d28\u56e0\u6570 \n    for(int i=2; i<=x; i++)\n        if(isp[i])\n            while(x%i==0){\n                zys.push_back(i);\n                x /= i;\n            }\n}\nint main(){\n    cin>>n>>m;\n    shai();\n    fztemp.len = fm.len = 1;\n    fztemp.num[1] = fm.num[1] = 1;\n    fz.len = 1;\n    fz.num[1] = 0;\n    for(int i=1; i<=n+m-1; i++)\n        makezys(i);\n    for(int i=m+1; i<=n+m-1; i++)\n        fztemp = fztemp * i;//\u5148\u5904\u7406\u51fa0!*(n+m-1)!/m! \n    for(int i=0; i<=n-1; i++){\n        if(i)    fztemp / (m+i);\n        if(i)    fztemp = fztemp * i;//\u4e3a\u4e86\u907f\u514d0!\u7684\u5c34\u5c2c\u52a0\u4e0aif(i) \n        fz = fz + fztemp;\n    }\n    for(int i=0; i<zys.size(); i++){\n        if(fz/zys[i])    ;\n        else            fm = fm*zys[i];//\u4e0d\u53ef\u7ea6\u5206\uff0c\u53ea\u597d\u5728\u5206\u6bcd\u4e2d\u4fdd\u7559\u5b83\u4e86 \n    }\n    fz.prt();\n    fm.prt();\n    return 0;\n}\n```",
        "postTime": 1509154687,
        "uid": 44733,
        "name": "poorpool",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1625 \u3010\u6c42\u548c\u3011"
    },
    {
        "content": "~~**\u60f3\u8981\u6210\u4e3a\u4fe1\u606f\u5b66\u5927\u4f6c\uff0c\u5c31\u4e00\u5b9a\u8981\u5b66\u597d\u5c0f\u5b66\u5965\u6570\u2026\u2026**~~\n\n\u9898\u76ee\u8981\u6c42\u7684\u662f\uff1a\n\n$$\\prod_{i=1}^{n}(\\frac{1}{\\prod_{j=i}^{m+i-1}j})$$\n\n\u6211\u4eec\u60f3\u529e\u6cd5\u5bf9\u5176\u8fdb\u884c**\u88c2\u9879\u6c42\u548c**\n\n\u6211\u4eec\u5148\u6765\u770b\u8fd9\u4e2a\u591a\u9879\u5f0f\u4e58\u79ef\u4e2d\u7684\u5176\u4e2d\u4efb\u610f\u4e00\u9879\u3002\u5b83\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a\n\n$$\\frac{1}{k(k+1)(k+2)...(k+m-1)}$$\n\n\u6211\u4eec\u9700\u8981\u60f3\u529e\u6cd5\u5bf9\u5176\u8fdb\u884c\u88c2\u9879\u3002\u6765\u770b\u8fd9\u4e2a\u5f0f\u5b50\uff1a\n\n$$\\frac{1}{k(k+1)(k+2)...(k+m-2)}-\\frac{1}{(k+1)(k+2)(k+3)...(k+m-1)}$$\n\n\u6211\u4eec\u5c06\u4e24\u4e2a\u5206\u6570\u901a\u5206\uff1a\n\n$$\\frac{(k+m-1)-k}{k(k+1)(k+2)...(k+m-1)}$$\n\n\u5373\n\n$$\\frac{m-1}{k(k+1)(k+2)...(k+m-1)}=\\frac{1}{k(k+1)(k+2)...(k+m-1)}*(m-1)$$\n\n\u6240\u4ee5\n\n$$\\frac{1}{k(k+1)(k+2)...(k+m-1)}$$\n$$=\\frac{1}{m-1}*\\frac{m-1}{k(k+1)(k+2)...(k+m-1)}$$\n$$=\\frac{1}{m-1}*(\\frac{1}{k(k+1)(k+2)...(k+m-2)}-\\frac{1}{(k+1)(k+2)(k+3)...(k+m-1)})$$\n\n\u6240\u4ee5\u6211\u4eec\u5bf9\u539f\u5f0f\u8fdb\u884c\u53d8\u6362\n\n$$\\prod_{i=1}^{n}(\\frac{1}{\\prod_{j=i}^{m+i-1}j})$$\n$$=(\\frac{1}{m-1})(\\frac{1}{1*...*(m-1)}-\\frac{1}{2*...*m}+\\frac{1}{2*...*m}-\\frac{1}{3*...*(m+1)}$$\n\n$$+...+\\frac{1}{n*...*(n+m-2)}-\\frac{1}{(n+1)*...*(n+m-1)})$$\n\n\u4e2d\u95f4\u9879\u5168\u90fd\u4e92\u76f8\u62b5\u6d88\n\n$$=(\\frac{1}{m-1})(\\frac{1}{1*...*(m-1)}-\\frac{1}{(n+1)*...*(n+m-1)})$$\n\n\u901a\u5206\n\n$$=\\frac{(\\prod_{i=n+1}^{n+m-1})-(\\prod_{i=1}^{m-1})}{(m-1)(\\prod_{i=1}^{m-1})(\\prod_{i=n+1}^{n+m-1})}$$\n\n\u663e\u7136\u65e0\u6cd5\u7ee7\u7eed\u5316\u7b80\u4e86\u3002\u4e8e\u662f\uff0c\u6211\u4eec\u9700\u8981\u7528\u5230\u9ad8\u7cbe\u5ea6\u3002\n\n\u5148\u628a\u5206\u6bcd\u5206\u5b50\u7b97\u51fa\u6765\uff0c\u7136\u540e\u8fdb\u884c\u5316\u7b80\uff0c\u5373\u68c0\u67e5\u5206\u6bcd\u5206\u5b50\u662f\u5426\u6709\u76f8\u540c\u56e0\u6570\uff0c\u6709\u5219\u9664\u53bb\u3002**\u6ce8\u610f\uff1a\u56e0\u4e3a\u5206\u6bcd\u662f\u7531\u82e5\u5e72\u5c0f\u4e8e\u7b49\u4e8e$n+m-1$\u7684\u6570\u76f8\u4e58\u5f97\u5230\uff0c\u6240\u4ee5\u5206\u6bcd\u7684\u6700\u5927\u8d28\u56e0\u6570\u4e0d\u4f1a\u8d85\u8fc7$n+m-1$\uff0c\u5373\u5316\u7b80\u65f6\u9664\u6570\u7684\u6700\u5927\u8fb9\u754c\u8bbe\u4e3a$n+m-1$\u5373\u53ef\u3002**\n\n\u9ad8\u7cbe\u51cf\u3001\u4e58\u3001\u9664\u90fd\u9700\u8981\u7528\u5230\u2026\u2026\u795d\u60a8\u6253\u4ee3\u7801\u6109\u5feb\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#include<string>\n#include<iostream>\nusing namespace std;\nint n,m;\nstruct GJD//\u9ad8\u7cbe\u5ea6\u7ed3\u6784\u4f53\n{\n\tchar shu[50000];\n\tint len;\n\tGJD(){memset(shu,0,sizeof(shu));len=0;}\n}mm,nn,_1,lc,nn1,nn2;//mm\u4e3a\u5206\u6bcd\uff0cnn\u4e3a\u5206\u5b50\nint x;\nGJD times(GJD a,int b)//\u4e58\u6cd5\n{\n\tx=0;\n\tmemset(lc.shu,0,sizeof(lc.shu));lc.len=0;\n\twhile(lc.len<=a.len||x)\n\t{\n\t\tx+=a.shu[lc.len]*b;\n\t\tlc.shu[lc.len]=x%10;\n\t\tx/=10;\n\t\tlc.len++;\n\t}\n\twhile(lc.shu[lc.len-1]==0)\n\t{\n\t\tlc.shu[lc.len-1]=0;\n\t\tlc.len--;\n\t}\n\treturn lc;\n}\nGJD minu(GJD a,GJD b)//\u51cf\u6cd5\n{\n\tmemset(lc.shu,0,sizeof(lc.shu));lc.len=0;\n\tx=0;\n\twhile(lc.len<=a.len||x!=0)\n\t{\n\t\tx+=a.shu[lc.len]-b.shu[lc.len];\n\t\tif(x>=0)\n\t\t{\n\t\t\tlc.shu[lc.len]=x;\n\t\t\tx=0;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlc.shu[lc.len]=x+10;\n\t\t\tx=-1;\n\t\t}\n\t\tlc.len++;\n\t}\n\twhile(lc.shu[lc.len-1]==0)\n\t{\n\t\tlc.shu[lc.len-1]=0;\n\t\tlc.len--;\n\t}\n\treturn lc;\n}\nbool equals(GJD a,GJD b)//\u5224\u65ad\u662f\u5426\u76f8\u7b49\uff08\u7528\u4e8e\u5224\u65ad\u662f\u5426\u6574\u9664\uff09\n{\n\tif(a.len!=b.len)return false;\n\tfor(int i=0;i<a.len;i++)\n\t{\n\t\tif(a.shu[i]!=b.shu[i])return false;\n\t}\n\treturn true;\n}\nGJD divide(GJD a,int b)//\u9664\u6cd5\n{\n\tx=0;\n\tmemset(lc.shu,0,sizeof(lc.shu));lc.len=0;\n\tfor(int i=a.len-1;i>=0;i--)\n\t{\n\t\tx=x*10+a.shu[i];\n\t\tlc.shu[lc.len]=x/b;lc.len++;\n\t\tx=x%b;\n\t}\n\tfor(int i=0;i<=(lc.len-1)/2;i++)swap(lc.shu[i],lc.shu[lc.len-1-i]);\n\twhile(lc.shu[lc.len-1]==0)\n\t{\n\t\tlc.shu[lc.len-1]=0;\n\t\tlc.len--;\n\t}\n\treturn lc;\n}\nvoid print(GJD a)//\u8f93\u51fa\n{\n\tfor(int i=a.len-1;i>=0;i--)printf(\"%d\",(int)a.shu[i]);\n\tprintf(\"\\n\");\n}\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\t_1.shu[0]=1;_1.len=1;nn1=nn2=_1;\n\tmm=times(_1,m-1);\n\tfor(int i=1;i<=m-1;i++)mm=times(mm,i);\n\tfor(int i=n+1;i<=n+m-1;i++)mm=times(mm,i);\n\tfor(int i=n+1;i<=n+m-1;i++)nn1=times(nn1,i);\n\tfor(int i=1;i<=m-1;i++)nn2=times(nn2,i);\n\tnn=minu(nn1,nn2);\n\tfor(int i=2;i<=n+m-1;i++)\n\t{\n\t\twhile(equals(times(divide(nn,i),i),nn)&&equals(times(divide(mm,i),i),mm))//\u5982\u679ca/b*b=a\uff0c\u5219b|a\n\t\t{\n\t\t\tnn=divide(nn,i);\n\t\t\tmm=divide(mm,i);\n\t\t}\n\t}\n\tprint(nn);print(mm);\n\treturn 0;\n}\n```",
        "postTime": 1530341895,
        "uid": 32275,
        "name": "KesdiaelKen",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1625 \u3010\u6c42\u548c\u3011"
    },
    {
        "content": "**upts\uff1a\u4fee\u6539\u4e86\u539f\u6765\u9898\u89e3\u4e2d\u7684\u683c\u5f0f\u9519\u8bef\u3002**\n\n\u9996\u5148\uff0c\u8fd9\u4e00\u9053\u9898\u662f\u53ef\u4ee5\u7528~~\u5c0f\u5b66\u4e09\u5e74\u7ea7~~\u5965\u6570\u77e5\u8bc6\u63a8\u51fa\u6765\u7684\uff0c\u4e5f\u5c31\u662f\u88c2\u9879\u3002\n\n\u8ba9\u6211\u4eec\u6765\u5148\u770b\u4e00\u4e0b\u6bd4\u8f83\u7b80\u5355\u7684\u88c2\u9879\uff1a\n\n$\\dfrac{1}{n\\times(n+1)}$\n\n$=\\dfrac{n+1-n}{n\\times(n+1)}$\n\n$=\\dfrac{n+1}{n\\times(n+1)}-\\dfrac{n}{n\\times(n+1)}$\n\n$=\\dfrac{1}{n}-\\dfrac{1}{n+1}$\n\n\u6240\u4ee5\uff0c\u8fd9\u5c31\u53ef\u4ee5\u7528\u4e8e\u9898\u76ee\u4e2d $m=2$ \u7684\u60c5\u51b5\u3002\n\n$\\sum\\limits_{i=1}^n \\dfrac{1}{i\\times(i+1)} $\n\n=$\\sum\\limits_{i=1}^n \\dfrac{1}{i}-\\dfrac{1}{i+1} $\n\n=$1-\\dfrac{1}{n+1}$\n\n\u90a3\u8ba9\u6211\u4eec\u770b\u770b $m>2$ \u7684\u60c5\u51b5\uff0c\u8fd9\u91cc\u6211\u4eec\u62ff $m=3$ \u7684\u60c5\u51b5\u4e3e\u4f8b\u3002\n\n$\\dfrac{1}{n\\times(n+1)\\times(n+2)}$\n\n$=\\dfrac{1}{2}\\times\\dfrac{n+2-n}{n\\times(n+1)\\times(n+2)}$\n\n$=\\dfrac{1}{2}\\times(\\dfrac{n+2}{n\\times(n+1)\\times(n+2)}-\\dfrac{n}{n\\times(n+1)\\times(n+2)})$\n\n$=\\dfrac{1}{2}\\times(\\dfrac{1}{n\\times(n+1)}-\\dfrac{1}{(n+1)\\times(n+2)})$\n\n\u7136\u540e\u53c8\u53ef\u4ee5\u6109\u5feb\u7684\u6d88\u6389\u4e86\n\n\u6240\u4ee5\uff0c\u7ecf\u8fc7\u8fd9\u4e2a\u89c4\u5f8b\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u5230:\n\n$\\dfrac{1}{\\prod\\limits_{i=1}^m i} $\n\n=$\\dfrac{1}{m-1}*(\\dfrac{1}{\\prod\\limits_{i=1}^{m-1} i}- \\dfrac{1}{\\prod\\limits_{i=2}^m i})$\n\n\u6240\u4ee5\uff1a\n\n$Ans=\\dfrac{1}{m-1} \\sum\\limits_{i=1}^n (\\dfrac{1}{\\prod\\limits_{j=i}^{i+m-2} j}- \\dfrac{1}{\\prod\\limits_{j=i+1}^{i+m-1} j})$\n\n$=\\dfrac{1}{m-1}\\times(\\dfrac{1}{\\prod\\limits_{i=1}^{m-2} i}-\\dfrac{1}{\\prod\\limits_{j=n+1}^{n+m-1} i})$\n\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint n,m,x=1,y=1;\nsigned main(){\n\tscanf(\"%lld%lld\",&n,&m);\n\t for(int i=0;i<m-1;i++)x*=i+1,y*=i+n+1;\n\t int z=__gcd(x,y);\n\t int tot=x;\n\t x=y/z-x/z;\n\t y=tot*y/z;\n\t tot=__gcd(x,(m-1));\n\t x/=tot;\n\t y*=(m-1)/tot;\n\t tot=__gcd(x,y);\n\t x/=tot,y/=tot;\n\t printf(\"%lld\\n%lld\",x,y);\n}\n```\n\n\u7136\u800c\u4e0a\u8ff0\u4ee3\u7801\u5e76\u4e0d\u80fd\u901a\u8fc7\u6b64\u9898\uff0c\u9700\u8981\u5f00\u9ad8\u7cbe\u5ea6\u3002\n\n~~\u559c\u6b22 Python \u7684\u540c\u5b66\u53ef\u4ee5\u5c1d\u8bd5\u5199\u4efd Python \u4ee3\u7801\u3002~~\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int maxn=100010;//\u9ad8\u7cbe\u5ea6\u6a21\u677f\nint a[maxn],b[maxn],res[maxn];\nstring add(string s1,string s2){\n    int n=s1.length(),m=s2.length();\n    for(int i=0;i<n;i++)a[i]=s1[n-1-i]-'0';\n    for(int i=0;i<m;i++)b[i]=s2[m-1-i]-'0';\n    int len=max(n,m)+1;\n    for(int i=n;i<len;i++)a[i]=0;\n    for(int i=m;i<len;i++)b[i]=0;\n    for(int i=0;i<len;i++)res[i]=0;\n    for(int i=0;i<len;i++){\n        res[i]+=a[i]+b[i];\n        if(res[i]>=10){\n            res[i+1]+=res[i]/10;\n            res[i]%=10;\n        }\n    }\n    int i=len-1;\n    while(res[i]==0&&i>0)i--;\n    string s=\"\";\n    for(;i>=0;i--)s+=(char)(res[i]+'0');\n    return s;\n}\nstring sub(string s1,string s2){\n    int n=s1.length(),m=s2.length();\n    for(int i=0;i<n;i++)a[i]=s1[n-1-i]-'0';\n    for(int i=0;i<m;i++)b[i]=s2[m-1-i]-'0';\n    int len=max(n,m);\n    for(int i=n;i<len;i++)a[i]=0;\n    for(int i=m;i<len;i++)b[i]=0;\n    for(int i=0;i<len;i++)res[i]=0;\n    for(int i=0;i<len;i++){\n        res[i]+=a[i]-b[i];\n        if(res[i]<0){\n            res[i+1] --;\n            res[i] += 10;\n        }\n    }\n    int i=len-1;\n    while(res[i]==0&&i>0)i--;\n    string s=\"\";\n    for(;i>=0;i--)s+=(char)(res[i]+'0');\n    return s;\n}\nbool cmp(string s1,string s2){\n    int n=s1.length(),m=s2.length();\n    int i;\n    for(i=0;i<n-1&&s1[i]=='0';i++);\n    s1=s1.substr(i);\n    for(i=0;i<m-1&&s2[i]=='0';i++);\n    s2=s2.substr(i);\n    if(s1.length()!=s2.length())return s1.length()<s2.length();\n    return s1<s2;\n}\nstring Add(string s1,string s2){\n    if(s1[0]=='-'&&s2[0]=='-'){\n        return \"-\"+add(s1.substr(1),s2.substr(1));\n    }\n    else if(s1[0]=='-'){\n        s1=s1.substr(1);\n        if(cmp(s1,s2)==true){\n            return sub(s2,s1);\n        }else{\n            return \"-\"+sub(s1,s2);\n        }\n    }\n    else if(s2[0]=='-'){\n        s2=s2.substr(1);\n        if(cmp(s1,s2)){\n            return \"-\"+sub(s2,s1);\n        }else{\n            return sub(s1,s2);\n        }\n    }\n    else{\n        return add(s1,s2);\n    }\n}\nstring Sub(string s1,string s2){\n    if(s2[0]=='-'){\n        s2=s2.substr(1);\n        return Add(s1,s2);\n    }else{\n        return Add(s1,\"-\"+s2);\n    }\n}\nstring multi(string s1,string s2){\n    int n=s1.length(), m=s2.length();\n    for(int i=0;i<n;i++)a[i]=s1[n-1-i]-'0';\n    for(int i=0;i<m;i++)b[i]=s2[m-1-i]-'0';\n    int len=n+m;\n    for(int i=n;i<len;i++)a[i]=0;\n    for(int i=m;i<len;i++)b[i]=0;\n    for(int i=0;i<len;i++)res[i]=0;\n    for(int i=0;i<n;i++)\n        for(int j=0;j<m;j++)\n            res[i+j]+=a[i]*b[j];\n    for(int i=0;i<len;i++){\n        res[i+1]+=res[i]/10;\n        res[i]%=10;\n    }\n    int i=len-1;\n    while(res[i]==0&&i>0)i--;\n    string s=\"\";\n    for(;i>=0;i--)s+=(char)(res[i]+'0');\n    return s;\n}\npair<string,string> divide(string s1,string s2) {//pair<\u5546,\u4f59\u6570>\n    string s=\"\",t=\"\";\n    int n=s1.length(),m=s2.length();\n    bool flag=false;\n    for(int i=0;i<n;i++){\n        s+=s1[i];\n        int num=0;\n        while(cmp(s,s2)==false){\n            num++;\n            s=sub(s,s2);\n        }\n        if(num>0){\n            flag=true;\n            char c=(char)(num+'0');\n            t+=c;\n        }\n        else if(flag){\n            t+='0';\n        }\n    }\n    if(t.length()==0)t=\"0\";\n    while(s[0]=='0'&&s.length()>1)s=s.substr(1);\n    return make_pair(t,s);\n}\nstring gcd(string a,string b){\n\tif(b==\"0\")return a;\n\treturn gcd(b,divide(a,b).second);\n}\nstring n,m,x=\"1\",y=\"1\";\nsigned main(){\n\tcin>>n>>m;\n\t for(string i=\"1\";cmp(i,m);i=Add(i,\"1\"))x=multi(x,i),y=multi(Add(i,n),y);//\u4e24\u4e2a\u5927\u5206\u6bcd\n\t string z=gcd(x,y);\n\t string tot=x;\n\t x=divide(Sub(y,x),z).first;\n\t y=divide(multi(tot,y),z).first;\n\t tot=gcd(x,(Sub(m,\"1\")));\n\t x=divide(x,tot).first;\n\t y=multi(y,divide(Sub(m,\"1\"),tot).first);\n\t tot=gcd(x,y);\n\t x=divide(x,tot).first,y=divide(y,tot).first;\n\t cout<<x+'\\n'+y;\n}\n```\n\n\u53e6\u5916\uff0c\u6574\u6570\u7684\u7c7b\u4f3c\u8fd0\u7b97\u4e5f\u662f\u53ef\u4ee5\u88c2\u9879\u7684\uff0c[T164463](https://www.luogu.com.cn/problem/T164563) \u548c [T166186](https://www.luogu.com.cn/problem/T164566) \u5c31\u662f\u7528\u6574\u6570\u88c2\u9879\u7684\u65b9\u6cd5\u505a\u7684\uff0c\u5982\u679c\u6709\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u770b\u4e0b[\u9898\u89e3](https://www.luogu.com.cn/blog/diu/ti-xie-u149189-xin-xue-hao-post)\u3002",
        "postTime": 1606194447,
        "uid": 310802,
        "name": "_Diu_",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1625 \u3010\u6c42\u548c\u3011"
    },
    {
        "content": "[P1625 \u6c42\u548c](https://www.luogu.com.cn/problem/P1625)\n\nNOIP2021 \u5feb\u5230\u4e86\uff0c\u9000\u5f79\u4e4b\u540e\u5927\u6982\u5c31\u662f\u5929\u5929 python \u9898\u5427\u3002\n\n## \u3010\u9898\u610f\u3011\n\n\u6c42 ${\\sum_{i=1}^n}\\frac1{\\prod_{j=i}^{i+m-1}j}$\u3002\n\n## \u3010\u5206\u6790\u3011\n\n\u7b80\u6d01\u7684\u9898\u9762\uff0c\u865a\u5047\u7684\u5f0f\u5b50\uff0c\u5f62\u540c\u865a\u8bbe\u7684\u6570\u636e\u8303\u56f4\u3002\n\n\u79ef\u7684\u503c\u5f88\u5927\uff0cpython \u5927\u6cd5\u597d\u554a\u3002\n\n\u6a21\u62df\u5373\u53ef\u3002\n\n## \u3010\u7b97\u6cd5\u3011\n\n\u6a21\u62df\n\n## \u3010\u4ee3\u7801\u3011\n\n```python\ndef gcd(x,y):\n    if y==0:\n        return x\n    else:\n        return gcd(y,x%y)\nn,m=map(int,input().split())\nP,Q=0,1\nfor i in range (1,n+1,1):\n    now=1\n    for j in range(i,i+m,1):\n        now*=j\n    P,Q=P*now+Q,now*Q\ng=gcd(P,Q)\nprint(P//g)\nprint(Q//g)\n```\n",
        "postTime": 1636549570,
        "uid": 116251,
        "name": "\u7834\u5fc6",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1625 \u3010\u6c42\u548c\u3011"
    },
    {
        "content": "\u901a\u8fc7\u901a\u5206\uff0c\u53ef\u4ee5\u53d1\u73b0\u5206\u6bcd\u5c31\u662f(n+m-1)!\uff0c\u800c\u5206\u5b50\u5219\u662f\u82e5\u5e72\u4e2a\u6ee1\u8db3(n+m-1)!\u4e2d\u53bb\u6389\u8fde\u7eed\u7684\u4e00\u6bb5\u7684\u548c\u3002\u90a3\u4e48\u8fd9\u4e2a\u5206\u5b50\u5982\u4f55\u6c42\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u5148\u6c42\u51fa(m+1)*****(n+m-1)\u653e\u5728\u7d2f\u4e58\u5668res\u91cc\u9762\uff0c\u7136\u540e\u6bcf\u6b21\u76f8\u5f53\u4e8e\u524d\u9762\u4e58\u4e0a\u4e00\u4e2a\uff0c\u540e\u9762\u9664\u6389\u4e00\u4e2a\u3002\u4e5f\u5c31\u662f\u8fd9\u6837\n\n```cpp\nfor (int i=1;i<=n;i++)\n    {\n        fenzi=fenzi+res;\n        res=res*i;\n        res=res/(m+i);\n    }\n```\n\u4e3a\u4e86\u907f\u514d\u9ad8\u7cbe\u5ea6\u9664\u6cd5\uff0c\u6211\u4eec\u5c06\u5206\u6bcd\u8d28\u56e0\u6570\u5206\u89e3\uff0c\u7136\u540e\u6211\u4eec\u5c31\u53ea\u8981\u7ea6\u5206\u7684\u65f6\u5019\u7ea6\u4f4e\u7cbe\u5ea6\u4e86\u3002\n\n\u4ee5\u4e0b\u662fcpp\u4ee3\u7801\uff0c\u4f7f\u7528\u91cd\u8f7d\u8fd0\u7b97\u7b26\u5b9e\u73b0\u9ad8\u7cbe\u5ea6\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\nusing namespace std;\n\n#define ll long long\n#define mem(Arr,x) memset(Arr,x,sizeof(Arr))\n\nconst int maxN=600;\nconst int maxNum=5000;\nconst int inf=2147483647;\n\nclass BigInteger\n{\npublic:\n    int siz;\n    ll Num[maxNum];\n    BigInteger();\n    BigInteger(int x);\n    BigInteger(ll x);\n    void operator = (int B);\n    bool operator == (int B);\n    bool operator == (BigInteger B);\n    bool operator < (BigInteger B);\n    BigInteger operator + (BigInteger B);\n    BigInteger operator * (ll B);\n    BigInteger operator / (ll B);\n};\n\nostream& operator << (ostream & os,BigInteger A)\n{\n    if (A.siz==0)\n    {\n        os<<0;\n        return os;\n    }\n    for (int i=A.siz;i>=1;i--)\n        os<<A.Num[i];\n    return os;\n}\n\nint n,m;\nint Fac[1000];//\u5b58\u56e0\u5b50\u7684\u4e2a\u6570\n\nint main()\n{\n    cin>>n>>m;\n    BigInteger fenzi=0;\n    BigInteger res=1;\n    for (int i=m+1;i<=n+m-1;i++)//\u8ba1\u7b97\u5206\u5b50\n        res=res*i;\n    for (int i=1;i<=n;i++)\n    {\n        fenzi=fenzi+res;\n        res=res*i;\n        res=res/(m+i);\n    }\n    mem(Fac,0);//\u5206\u89e3\u5206\u6bcd\n    for (int i=1;i<=n+m-1;i++)\n    {\n        int x=i;\n        for (int j=2;j<=x;j++)\n            while (x%j==0)\n            {\n                Fac[j]++;\n                x=x/j;\n            }\n    }\n    for (int i=2;i<=n+m-1;i++)//\u7ea6\u5206\n        while (Fac[i]!=0)\n        {\n            BigInteger s;\n            s=fenzi/i;\n            s=s*i;\n            if (s==fenzi)\n            {\n                fenzi=fenzi/i;\n                Fac[i]--;\n            }\n            else\n                break;\n        }\n    cout<<fenzi<<endl;//\u8f93\u51fa\u5206\u5b50\n    BigInteger fenmu=1;\n    for (int i=2;i<=n+m-1;i++)//\u8ba1\u7b97\u5206\u6bcd\n        while (Fac[i]!=0)\n        {\n            fenmu=fenmu*i;\n            Fac[i]--;\n        }\n    cout<<fenmu<<endl;//\u8f93\u51fa\u5206\u6bcd\n    fclose(stdin);\n    fclose(stdout);\n}\n\nBigInteger::BigInteger()\n{\n    siz=0;\n    mem(Num,0);\n}\n\nBigInteger::BigInteger(int B)\n{\n    siz=0;\n    mem(Num,0);\n    while (B!=0)\n    {\n        siz++;\n        Num[siz]=B%10;\n        B=B/10;\n    }\n}\n\nBigInteger::BigInteger(ll B)\n{\n    siz=0;\n    mem(Num,0);\n    while (B!=0)\n    {\n        siz++;\n        Num[siz]=B%10;\n        B=B/10;\n    }\n}\n\nvoid BigInteger::operator = (int B)\n{\n    siz=0;\n    mem(Num,0);\n    while (B!=0)\n    {\n        siz++;\n        Num[siz]=B%10;\n        B=B/10;\n    }\n}\n\nbool BigInteger::operator == (BigInteger B)\n{\n    if (siz!=B.siz)\n        return 0;\n    for (int ii=1;ii<=siz;ii++)\n        if (Num[ii]!=B.Num[ii])\n            return 0;\n    return 1;\n}\n\nbool BigInteger::operator == (int B)\n{\n    BigInteger A(B);\n    if (A==B)\n        return 1;\n    return 0;\n}\n\nbool BigInteger::operator < (BigInteger B)\n{\n    if (siz<B.siz)\n        return 1;\n    if (siz>B.siz)\n        return 0;\n    for (int ii=siz;ii>=1;ii--)\n    {\n        if (Num[ii]>B.Num[ii])\n            return 0;\n        if (Num[ii]<B.Num[ii])\n            return 1;\n    }\n}\n\nBigInteger BigInteger::operator + (BigInteger B)\n{\n    BigInteger Ans;\n    Ans.siz=max(siz,B.siz);\n    for (int ii=1;ii<=Ans.siz;ii++)\n        Ans.Num[ii]=Num[ii]+B.Num[ii];\n    for (int ii=1;ii<Ans.siz;ii++)\n    {\n        Ans.Num[ii+1]+=Ans.Num[ii]/10;\n        Ans.Num[ii]%=10;\n    }\n    while (Ans.Num[Ans.siz]>=10)\n    {\n        Ans.Num[Ans.siz+1]+=Ans.Num[Ans.siz]/10;\n        Ans.Num[Ans.siz]%=10;\n        Ans.siz++;\n    }\n    return Ans;\n}\n\nBigInteger BigInteger::operator * (ll B)\n{\n    BigInteger Ans;\n    for (int ii=1;ii<=siz;ii++)\n        Ans.Num[ii]=1ll*Num[ii]*(ll)(B);\n    Ans.siz=siz;\n    for (int ii=1;ii<Ans.siz;ii++)\n    {\n        Ans.Num[ii+1]+=Ans.Num[ii]/10;\n        Ans.Num[ii]%=10;\n    }\n    while (Ans.Num[Ans.siz]>=10)\n    {\n        Ans.Num[Ans.siz+1]+=Ans.Num[Ans.siz]/10;\n        Ans.Num[Ans.siz]%=10;\n        Ans.siz++;\n    }\n    return Ans;\n}\n\nBigInteger BigInteger::operator / (ll B)\n{\n    BigInteger Ans;\n    int res=0;\n    for (int ii=siz;ii>=1;ii--)\n    {\n        res=res*10+Num[ii];\n        Ans.Num[ii]=res/B;\n        res=res%B;\n    }\n    Ans.siz=siz;\n    while (Ans.Num[Ans.siz]==0)\n        Ans.siz--;\n    return Ans;\n}\n```",
        "postTime": 1505554300,
        "uid": 21377,
        "name": "songyuchen",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1625 \u3010\u6c42\u548c\u3011"
    },
    {
        "content": "\u7ffb\u8bd1\u4e00\u4e0b\u9898\u76ee\u8981\u6c42\uff1a  \n\u8ba9\u6211\u4eec\u6c42\n$$\\frac{0!}{m!}+\\frac{1!}{(m+1)!}+\\frac{2!}{(m+2)!}+...+\\frac{(n-1)!}{(m+n-1)!}$$  \n\u90a3\u4e48\u5404\u4f4d\u4e0d\u60f3\u6253\u9ad8\u7cbe\u5ea6\u548c\u5206\u6570\u52a0\u6cd5\u7684\u6211\u4eec\u4e00\u5b9a\u80fd\u60f3\u5230 ~~\u4e07\u6076~~ \u4e07\u80fd\u7684 Python \u3002  \n\u867d\u7136\u8fd9\u91cc\u5df2\u7ecf\u6709\u4e00\u4e9b\u7528 Python \u8bed\u8a00\u7684\u9898\u89e3\uff0c\u4f46\u662f\u5927\u591a\u4f7f\u7528 C/C++ \u98ce\u683c\u7684\u547d\u4ee4\u5f0f\u7f16\u7a0b ~~\u6d6a\u8d39\u4e86 Python \u5927\u597d\u7684\u6807\u51c6\u5e93~~ \uff0c\u8fd9\u91cc\u83dc\u9e21\u7ed9\u51fa\u4e00\u4e2a\u5229\u7528 Python STL \u7684 5 \u884c\u9898\u89e3\uff1a\uff08\u9644\u8be6\u7ec6\u8bb2\u89e3\uff09 \n```python\nfrom fractions import Fraction as F\nfrom math import factorial as f\nn,m=map(int,input().split())\ng=sum(F(f(i),f(m+i)) for i in range(n))\nprint(g.numerator, g.denominator, sep='\\n')\n```\n\u524d\u9762\u4e09\u884c\u90fd\u662f\u5e38\u89c1\u64cd\u4f5c\uff1a  \n\u7b2c\u4e00\u884c\u4ece `fractions`\uff08\u5206\u6570\u5e93\uff09\u5bfc\u5165 `Fraction`\uff08\u5206\u6570\u7c7b\uff09\u5e76\u53d6\u522b\u540d\u4e3a `F` \u3002  \n\u7b2c\u4e8c\u884c\u4ece `math` \uff08\u6570\u5b66\u5e93\uff09 \u5bfc\u5165 `fractorial` \uff08\u9636\u4e58\u51fd\u6570\uff09\u5e76\u53d6\u522b\u540d\u4e3a `f` \u3002  \n\u7b2c\u4e09\u884c\u662f\u4e00\u4e2a\u8bfb\u5165\u4e00\u884c\u4e2d\u7684\u591a\u4e2a\u6574\u6570\u7684\u5e38\u7528\u6280\u5de7\u3002  \n\n\u7b2c\u56db\u884c\u5219\u662f\u7a0b\u5e8f\u7684\u6838\u5fc3\uff1a\uff08\u4e00\u884c\u6c42\u51fa\u7b54\u6848\uff09\n* \u9996\u5148\uff0c`sum(xxx for i in range(n))` \u4f1a\u5c06 $i$ \u4ece $0$ \u5faa\u73af\u5230 $n-1$ \uff0c\u5e76\u4e14\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $i$ \u6c42\u503c `xxx` \uff0c\u6700\u540e\u8fd4\u56de\u7ed3\u679c\u7684\u548c\u3002\n* \u5176\u6b21\uff0c `F(x,y)` \u4f1a\u8fd4\u56de\u4e00\u4e2a\u53ef\u4ee5\u8fdb\u884c\u52a0\u51cf\u4e58\u9664\u7684\u5404\u79cd\u64cd\u4f5c\u7684\u5206\u6570\u5bf9\u8c61\uff0c\u5176\u4e2d\u5206\u5b50\u4e3a $x$ \uff0c\u5206\u6bcd\u4e3a $y$ \u5e76\u81ea\u52a8\u7ea6\u5206\u3002  \n* \u6700\u540e\uff0c `f(x)` \u5219\u4f7f\u7528\u5206\u6cbb\u4f18\u5316\u7684\u5feb\u901f\u9636\u4e58\u7b97\u6cd5\u6c42\u51fa $x!$ \u7684\u503c\u3002\n\n\u7b2c\u4e94\u884c\u610f\u601d\u662f\u8f93\u51fa `g` \u7684 `numerator` \uff08\u5206\u5b50\uff09 \u548c `denominator` \uff08\u5206\u6bcd\uff09\uff0c\u5176\u4e2d `sep='\\n'` \uff08\u5373\u7528 `\\n` \u5206\u5f00\uff09  \n\n\u4e5f\u5c31\u8fd9\u6837\uff0c\u6211\u4eec\u7528\u4e94\u884c\u4ee3\u7801\u5207\u6389\u4e86\u8fd9\u9053\u7d2b\u9898\u3002  \n\n[AC\u8bb0\u5f55](https://www.luogu.com.cn/record/54821489)  \n\n\u540e\u8bb0\uff1a\u6709\u610f\u601d\u7684\u4e00\u70b9\u662f\uff0c\u7531\u4e8e PyPy \u5728\u542f\u52a8\u65f6\u4f1a\u81ea\u52a8\u7f16\u8bd1\u4ee3\u7801\uff0c\u6240\u4ee5\u6ca1\u6709\u52a0\u901f\u53cd\u800c\u4f7f\u5f97\u8fd0\u884c\u65f6\u95f4[\u53d8\u6210\u4e86\u539f\u6765\u7684\u56db\u500d\u591a](https://www.luogu.com.cn/record/54821528)\u3002",
        "postTime": 1627918927,
        "uid": 298051,
        "name": "xkcdjerry",
        "ccfLevel": 7,
        "title": "P1625\u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9053\u9898\u641e\u4f18\u5316\u771f\u8017\u8111\u3002\u3002\u3002\n\n\u601d\u8def\uff1a\n\n\u53ef\u4ee5\u628a\u539f\u6765\u7684\u5f0f\u5b50\u8fdb\u884c\u901a\u5206\uff0c\u53d1\u73b0\u5206\u6bcd\u5c31\u662f(n+m-1)!\uff0c\u5206\u5b50\u5177\u6709\u4ee5\u4e0b\u89c4\u5f8b\uff1a\n\n(m+1)\\*(m+2)\\*\u2026\\*(n+m-1)+1\\*(m+2)\\*\u2026\\*(n+m-1)+1\\*2\\*(m+3)\\*\u2026\\*(n+m-1)+\u2026+1\\*2\\*\u2026(n-1)\u3002\n\n\u4e8e\u662f\u53ea\u8981\u7528\u9ad8\u7cbe\u5ea6\u6765\u6a21\u62df\u4ee5\u4e0a\u89c4\u5f8b\u5373\u53ef\u3002\u6700\u540e\u9700\u8981\u7ea6\u5206\u3002\n\n\u6ce8\u610f\u4e8b\u9879\uff1a\n\n1\u3001\u6700\u540e\u518d\u7ea6\u5206\u5e94\u8be5\u8d3c\u6162\uff0c\u4e0d\u5982\u628a\u5206\u6bcd\u8d28\u56e0\u6570\u5206\u89e3\uff0c\u518d\u4e00\u4e00\u770b\u4e58\u51fa\u7684\u5206\u5b50\u80fd\u5426\u9664\u5c3d\u8d28\u56e0\u5b50\uff1b\n\n2\u3001\u9ad8\u7cbe\u5ea6\u8fd0\u7b97\u5305\u62ec\u9ad8\u7cbe\u52a0\u9ad8\u7cbe\u3001\u9ad8\u7cbe\u4e58\u4f4e\u7cbe\u3001\u9ad8\u7cbe\u9664\u4f4e\u7cbe\u3001\u9ad8\u7cbe\u6a21\u9ad8\u7cbe\u3001\u9ad8\u7cbe\u6bd4\u5927\u5c0f\u3002\uff08\u9ad8\u7cbe\u4e58\u9ad8\u7cbe\u6bd4\u9ad8\u7cbe\u9664\u4f4e\u7cbe\u6162\uff01\uff01\uff01\uff09\n\n3\u3001\u6700\u91cd\u8981\u7684\u4f18\u5316\uff1a\u53d1\u73b0\u5206\u5b50\u6bcf\u4e00\u9879\u6709\u76f8\u4f3c\u4e4b\u5904\uff0c\u603b\u5171\u6709n-1\u9879\uff0c\u4ece\u7b2c\u4e8c\u9879\u5f00\u59cb\uff0c\u7b2ci\u9879\u90fd\u662f(\u7b2ci-1\u9879/(m+i)\\*i)\u3002\u8fd9\u6837\u6bcf\u7b97\u51fa\u5206\u5b50\u4e00\u9879\u7684\u8fc7\u7a0b\u4e2d\u90fd\u5c11\u4e86\u4e00\u4e32\u9ad8\u7cbe\u4e58\u4f4e\u7cbe\uff0cTLE\u6c38\u8fdc\u6210\u4e3a\u5386\u53f2\u3002\u3002\u3002\n\n4\u3001\u5176\u5b9e\u4e5f\u6ca1\u5fc5\u8981\u5199\u9ad8\u7cbe\u6a21\u4f4e\u7cbe\uff0c\u9898\u76ee\u4e2d\u6211\u662f\u7528\u8fd9\u4e2a\u6765\u5224\u662f\u5426\u80fd\u6574\u9664\uff0c\u8981\u5224tot%i==0\u53ef\u4ee5\u901a\u8fc7cheng=tot/i;cheng=cheng\\*i\uff0c\u518d\u5224cheng==tot\u5373\u53ef\u3002\n\n```cpp\n#include<iostream>\n#include<cmath>\n#include<cstring>\n#include<cstdio>\n#include<cstdlib>\n#include<algorithm>\n#define il inline\n#define re register\n#define ll unsigned long long\n#define fp(i,a,b) for(re int i=a;i<=b;i++)\n#define fq(i,a,b) for(re int i=a;i>=b;i--)\nusing namespace std;\n```\nclass BigInteger\n{ \npublic:\n\nint size,num[10086];//size\u4ee3\u8868\u6570\u7684\u957f\u5ea6\uff0cnum\u5b58\u5927\u6574\u578b\u6570\n\n```cpp\n    BigInteger()//\u5b9a\u4e49\u65f6\u81ea\u52a8\u6e05\u96f6\n        {\n            size=0;\n            memset(num,0,sizeof(num));\n        }\n    BigInteger(int data)\n        {\n            size=0;\n            while (data!=0)\n            {\n                size++;\n                num[size]=data%10;\n                data=data/10;\n            }\n        }\n    il void init(int data)//\u7528\u6765\u7ed9\u5927\u6574\u578b\u53d8\u91cf\u8d4b\u6574\u578b\u503c\n        {\n            size=0;\n            while (data!=0)\n            {\n                size++;\n                num[size]=data%10;\n                data=data/10;\n            }\n        }\n    il void ycb(BigInteger A)//\u5927\u6574\u6570\u8d4b\u503c\u51fd\u6570\n    {\n      int s1=size,s2=A.size;\n      size=s2;\n      for(int i=s2;i>=1;i--)\n        num[i]=A.num[i];\n    }\n    void print()\n    {\n        for (int i=size;i>=1;i--)\n            printf(\"%d\",num[i]);\n    }\n};\nil BigInteger operator + (BigInteger A,BigInteger B)//\u9ad8\u7cbe\u5ea6\u52a0\u6cd5\n{\n    BigInteger Ans;\n    re int s=max(A.size,B.size);\n    Ans.size=s;\n    for (re int i=1;i<=s;i++)\n        Ans.num[i]=A.num[i]+B.num[i];\n    for (re int i=1;i<=s;i++)\n        if (Ans.num[i]>=10)\n        {\n            Ans.num[i+1]+=Ans.num[i]/10;\n            Ans.num[i]=Ans.num[i]%10;\n        }\n    if (Ans.num[s+1]!=0)\n        Ans.size++;\n    return Ans;\n}\nil BigInteger operator * (BigInteger A,re int b)//\u9ad8\u7cbe\u4e58\u4f4e\u7cbe\n{\n    BigInteger Ans;\n    re int s1=A.size;\n    Ans.size=s1;\n    re int yy=0;\n    fp(i,1,s1)\n    {\n        Ans.num[i]=A.num[i]*b+yy;\n        yy=Ans.num[i]/10;\n        Ans.num[i]%=10;\n    }\n    while(yy)\n    {\n        Ans.num[++Ans.size]=yy%10;\n        yy/=10;\n    }\n    return Ans;\n}\nil BigInteger operator / (BigInteger A,re int b)//\u9ad8\u7cbe\u9664\u5355\u7cbe\n{\n    BigInteger Ans;\n    re int s1=A.size,k;\n    k=s1;\n    for(re int i=s1;i>=1;i--)\n    {\n        Ans.num[i]=A.num[i]/b;\n        if(i!=1) A.num[i-1]+=(A.num[i]%b*10);\n           A.num[i]/=b;\n    }\n    while(k>=1&&Ans.num[k]==0) k--;\n    Ans.size=k;\n    return Ans;\n}\nil int operator % (BigInteger A,re int b)//\u9ad8\u7cbe\u6a21\u9ad8\u7cbe\n{\n    BigInteger Ans;\n    re int s1=A.size,k;\n    k=s1;\n    for(re int i=s1;i>=1;i--)\n    {\n        Ans.num[i]=A.num[i]/b;\n        A.num[i-1]+=(A.num[i]%b*10);\n           A.num[i]/=b;\n    }\n    return A.num[0];\n}\nil bool operator > (BigInteger A,BigInteger B)//\u9ad8\u7cbe\u6bd4\u5927\u5c0f\n{\n    re int s1=A.size,s2=B.size;\n    if(s1<s2) return 0;\n    if(s1>s2) return 1;\n    for(re int i=s1;i>=1;i--)\n        if(A.num[i]<B.num[i]) return 0;\n        else return 1;\n    return 0;\n}\nBigInteger tot,cheng;\nint n,m,f[501]={};\nil int gi()\n{\n   re int x=0;\n   re short int t=1;\n   re char ch=getchar();\n  while((ch<'0'||ch>'9')&&ch!='-') ch=getchar();\n  if(ch=='-') t=-1,ch=getchar();\n  while(ch>='0'&&ch<='9') x=x*10+ch-48,ch=getchar();\n  return x*t;\n}\nint main()\n{\n    freopen(\"sum.in\",\"r\",stdin);\n    freopen(\"sum.out\",\"w\",stdout);\n    n=gi();m=gi();\n    tot=0;\n    cheng.init(1);\n    fp(j,m+1,m+n-1) cheng=cheng*j;\n    tot=cheng;\n    fp(i,1,n-1)\n    {\n        cheng=cheng/(m+i);\n        cheng=cheng*i;\n        tot=tot+cheng;\n```\n}//\u6700\u91cd\u8981\u4f18\u5316\n```cpp\n    fp(i,2,n+m-1)\n    {\n        int x=i;\n        fp(k,2,x)\n            while(x%k==0) f[k]++,x/=k;//\u8d28\u56e0\u6570\u5206\u89e3\n    }\n    fp(i,2,n+m-1)//\u7ed9\u5206\u5b50\u7ea6\u5206\n        while(f[i])\n        {\n            if(tot%i!=0) break;\n            else\n            {\n                f[i]--;\n                tot=tot/i;\n            }\n        }\n    tot.print();//\u8f93\u51fa\u5206\u5b50\n    printf(\"\\n\");\n    tot=1;\n    fp(i,2,n+m-1)\n        while(f[i]--) tot=tot*i;//\u7ed9\u5206\u6bcd\u7ea6\u5206\n    tot.print();//\u8f93\u51fa\u5206\u6bcd\n    printf(\"\\n\");\n    return 0;\n}\n```",
        "postTime": 1505819139,
        "uid": 21534,
        "name": "ysner",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1625 \u3010\u6c42\u548c\u3011"
    },
    {
        "content": "### \u9898\u610f\n\n\u7ed9\u5b9a\u4e24\u4e2a\u6574\u6570 $n,m$\uff0c\u6c42\n\n$$\\sum\\limits_{i=1}^{n}\\frac{1}{\\prod\\limits_{j=i}^{i+m-1}j}$$\n\n$\\texttt{Data Range:}1\\leq n+m\\leq 500$\n\n### \u9898\u89e3\n\n[\u4e0d\u4e00\u5b9a\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/Karry5307/p/13805544.html)\n\n\u5c0f\u5b66\u5965\u6570\uff0c\u88c2\u9879\u76f8\u6d88\u3002\n\n\u6bd4\u5982\u8bf4\u6709\u5982\u4e0b\u4f8b\u5b50\uff1a\n\n$$\\frac{1}{1\\times2\\times3}=\\frac{1}{2}\\left(\\frac{1}{1\\times2}-\\frac{1}{2\\times 3}\\right)$$\n\n\u8003\u8651\u4ee5\u8fd9\u4e2a\u4f5c\u4e3a\u8303\u4f8b\u6765 generalize \u4e00\u4e0b\n\n$$\\frac{1}{\\prod\\limits_{j=i}^{i+m-1}j}=\\frac{1}{m-1}\\left(\\frac{1}{\\prod\\limits_{j=i}^{i+m-2}j}-\\frac{1}{\\prod\\limits_{j=i+1}^{i+m-1}j}\\right)$$\n\n\u7136\u540e\u6c42\u548c\u5c31\u597d\u4e86\uff0c\u6ce8\u610f\u5230\u53f3\u8fb9\u662f\u53e0\u7f29\u6c42\u548c\uff0c\u76f4\u63a5\u7528\u6700\u540e\u4e00\u9879\u51cf\u53bb\u7b2c\u4e00\u9879\u5373\u53ef\u3002\n\n$$\\sum\\limits_{i=1}^{n}\\frac{1}{\\prod\\limits_{j=i}^{i+m-1}j}=\\frac{1}{m-1}\\sum\\limits_{i=1}^{n}\\left(\\frac{1}{\\prod\\limits_{j=i}^{i+m-2}j}-\\frac{1}{\\prod\\limits_{j=i+1}^{i+m-1}j}\\right)=\\frac{1}{m-1}\\left(\\frac{1}{\\prod\\limits_{j=1}^{m-1}j}-\\frac{1}{\\prod\\limits_{j=n+1}^{n+m-1}j}\\right)$$\n\n\u63a5\u4e0b\u6765\u8003\u8651\u5982\u4f55\u4e0d\u5199\u9ad8\u7cbe\u9664\u9ad8\u7cbe\u6765\u901a\u8fc7\u8fd9\u4e2a\u9898\u3002\n\n\u663e\u7136\u62ec\u53f7\u5185\u7684\u4e1c\u897f\u901a\u5206\u662f\u53ef\u4ee5\u9760\u5206\u5b50\u5206\u6bcd\u7684\u8d28\u56e0\u6570\u5206\u89e3\u5f62\u5f0f\u7684\u3002\n\n\u4e8e\u662f\u53ea\u8981\u5148\u7b97\u51fa\u62ec\u53f7\u5185\u5206\u5b50\u5206\u6bcd\u7684\u8d28\u56e0\u6570\u5206\u89e3\u5f62\u5f0f\uff0c\u518d\u7528\u9ad8\u7cbe\u4e58\u7b97\u51fa\u5b9e\u9645\u5206\u5b50\uff0c\u51cf\u53bb $1$ \u4e4b\u540e\u518d\u8d28\u56e0\u6570\u5206\u89e3\u3002\u6700\u540e\u5206\u5b50\u5206\u6bcd\u62b5\u6389\u5c31\u597d\u4e86\u3002\n\n\u6240\u4ee5\u8fd9\u4e2a\u65f6\u5019\u53ea\u9700\u8981\u8003\u8651\u9ad8\u7cbe\u9664\u4f4e\u7cbe\u548c\u9ad8\u7cbe\u6a21\u4f4e\u7cbe\u4e24\u4e2a\u64cd\u4f5c\u5c31\u597d\u4e86\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef int ll;\ntypedef long long int li;\nconst ll MAXN=2e5+51,BASE=1000000000;\nconst li BASE2=(li)BASE*BASE;\nstruct BigInt{\n\tvector<ll>v;\n\tll neg;\n\tBigInt();\n\tBigInt(const string &x);\n\tBigInt(const char *x);\n\tBigInt(ll x);\n\tBigInt(li x);\n\tBigInt(const BigInt &x);\n\tinline void setup();\n\tinline void setupStr(const char *str);\n\tinline BigInt& reduce();\n\tinline ll isZero()const;\n\tinline string toString()const;\n\tinline void op()const;\n\tinline BigInt &operator =(const string &x);\n\tinline BigInt &operator =(const char *x);\n\tinline BigInt &operator =(ll x);\n\tinline BigInt &operator =(li x);\n\tinline BigInt &operator =(const BigInt &x);\n\tinline ll compareAbs(const BigInt &x)const;\n};\nll n,m,c;\nBigInt f,g;\nll fn[MAXN],fd[MAXN];\ninline ll read()\n{\n    register ll num=0,neg=1;\n    register char ch=getchar();\n    while(!isdigit(ch)&&ch!='-')\n    {\n        ch=getchar();\n    }\n    if(ch=='-')\n    {\n        neg=-1;\n        ch=getchar();\n    }\n    while(isdigit(ch))\n    {\n        num=(num<<3)+(num<<1)+(ch-'0');\n        ch=getchar();\n    }\n    return num*neg;\n}\ninline void BigInt::setup()\n{\n\tneg=0,v.clear(),v.push_back(0);\n}\ninline void BigInt::setupStr(const char *str)\n{\n\tll len;\n\tchar token[10];\n\tsetup(),len=strlen(str),*str=='-'?neg=1,++str,--len:1,token[9]=0;\n\tif(!len||(len==1&&*str=='0'))\n\t{\n\t\treturn (void)(neg=0);\n\t}\n\tv.clear();\n\tfor(register int i=1;i*9<=len;i++)\n\t{\n\t\tmemcpy(token,str+(len-i*9),9),v.push_back((ll)(strtol(token,NULL,10)));\n\t}\n\tif(len%9)\n\t{\n\t\tmemcpy(token,str,len%9),token[len%9]=0;\n\t\tv.push_back((ll)(strtol(token,NULL,10)));\n\t}\n\treduce();\n}\ninline ll BigInt::isZero()const\n{\n\treturn v.size()==1&&!v.back();\n}\ninline BigInt& BigInt::reduce()\n{\n\twhile(v.size()>1&&!v.back())\n\t{\n\t\tv.pop_back();\n\t}\n\treturn isZero()?neg=0:1,*this;\n}\ninline string BigInt::toString()const\n{\n\tstring res;\n\tchar token[10];\n\tll c=v.size()-1;\n\tneg&&!this->isZero()?res.push_back('-'):(void)1;\n\tfor(sprintf(token,\"%d\",v[c]);res+=token,c--;sprintf(token,\"%09d\",v[c]));\n\treturn res;\n}\ninline void BigInt::op()const\n{\n\treturn (void)(cout<<this->toString());\n}\nBigInt::BigInt()\n{\n\tsetup();\n}\nBigInt::BigInt(const string &x)\n{\n\tthis->setupStr(x.c_str());\n}\nBigInt::BigInt(const char *x)\n{\n\tthis->setupStr(x);\n}\nBigInt::BigInt(ll x)\n{\n\tsetup(),x<0?(neg=1,x=-x):1,v.back()=x%BASE;\n\tx>=BASE?v.push_back(x/BASE):(void)1;\n}\nBigInt::BigInt(li x)\n{\n\tsetup(),x<0?(neg=1,x-=x):1,v.back()=x%BASE;\n\tx>=BASE?v.push_back(x/BASE%BASE):(void)1;\n\tx>=BASE2?v.push_back(x%BASE2):(void)1;\n}\nBigInt::BigInt(const BigInt &x)\n{\n\tneg=x.neg,v=x.v;\n}\ninline BigInt& BigInt::operator =(const string &x)\n{\n\treturn this->setupStr(x.c_str()),*this;\n}\ninline BigInt& BigInt::operator =(const char *x)\n{\n\treturn this->setupStr(x),*this;\n}\ninline BigInt& BigInt::operator =(ll x)\n{\n\tsetup(),x<0?(neg=1,x=-x):1,v.back()=x%BASE;\n\treturn x>=BASE?v.push_back(x/BASE):(void)1,*this;\n}\ninline BigInt& BigInt::operator =(li x)\n{\n\tsetup(),x<0?(neg=1,x=-x):1,v.back()=x%BASE;\n\tx>=BASE?v.push_back(x/BASE%BASE):(void)1;\n\treturn x>=BASE2?v.push_back(x%BASE2):(void)1,*this;\n}\ninline BigInt& BigInt::operator =(const BigInt &x)\n{\n\tneg=x.neg,v=x.v,*this;\n}\ninline ll BigInt::compareAbs(const BigInt &x)const\n{\n\tif(v.size()!=x.v.size())\n\t{\n\t\treturn (v.size()<x.v.size())?-1:1;\n\t}\n\tfor(register int i=v.size()-1;i>=0;i--)\n\t{\n\t\tif(v[i]!=x.v[i])\n\t\t{\n\t\t\treturn (v[i]<x.v[i])?-1:1;\n\t\t}\n\t}\n\treturn 0;\n}\ninline BigInt unsignedAdd(BigInt &x,BigInt &y)\n{\n\tBigInt res;\n\tll mx=max(x.v.size(),y.v.size()),carry=0;\n\tx.v.resize(mx+1),y.v.resize(mx+1),res.v.resize(mx+1);\n\tfor(register int i=0;i<=mx;i++)\n\t{\n\t\t(res.v[i]=x.v[i]+y.v[i]+carry)>=BASE?res.v[i]-=BASE,carry=1:carry=0;\n\t}\n\treturn x.reduce(),y.reduce(),res.reduce();\n}\ninline BigInt unsignedSub(BigInt &x,BigInt &y)\n{\n\tBigInt res;\n\tll mx=max(x.v.size(),y.v.size()),carry=0;\n\tx.v.resize(mx+1),y.v.resize(mx+1),res.v.resize(mx+1);\n\tfor(register int i=0;i<=mx;i++)\n\t{\n\t\t(res.v[i]=x.v[i]-y.v[i]+carry)<0?res.v[i]+=BASE,carry=-1:carry=0;\n\t} \n\treturn x.reduce(),y.reduce(),res.reduce();\n}\ninline BigInt operator +(BigInt x,BigInt y)\n{\n\tBigInt res;\n\tres=x.neg==y.neg?unsignedAdd(x,y):unsignedSub(x,y);\n\treturn res.neg=x.neg!=y.neg?(x.compareAbs(y)>=0?x.neg:y.neg):x.neg,res;\n}\ninline BigInt operator +=(BigInt &x,BigInt y)\n{\n\treturn x=x+y,x;\n}\ninline BigInt operator -(BigInt x,BigInt y)\n{\n\tBigInt res;\n\tres=x.neg==y.neg?unsignedSub(x,y):unsignedAdd(x,y);\n\treturn res.neg=x.neg==y.neg?(x.compareAbs(y)>=0?x.neg:y.neg):x.neg,res;\n}\ninline BigInt operator -=(BigInt &x,BigInt y)\n{\n\treturn x=x-y,x;\n}\ninline BigInt operator *(BigInt x,ll u)\n{\n\tBigInt res;\n\tll mx=x.v.size(),carry=0;\n\tx.v.resize(mx+1),res.v.resize(mx+1),res.neg=x.neg,u<0?res.neg^=1,u=-u:1;\n\tfor(register int i=0;i<=mx;i++)\n\t{\n\t\tres.v[i]=((li)x.v[i]*u+carry)%BASE,carry=((li)x.v[i]*u+carry)/BASE;\n\t}\n\treturn x.reduce(),res.reduce();\n}\ninline BigInt operator *(BigInt x,BigInt y)\n{\n\tif(x.isZero()||y.isZero())\n\t{\n\t\treturn BigInt();\n\t}\n\tBigInt res;\n\tll n=x.v.size(),m=y.v.size(),j,k;\n\tli cur=0,carry=0;\n\tres.neg=x.neg^y.neg,res.v.resize(n+m);\n\tfor(register int i=0;i<n+m;i++)\n\t{\n\t\tfor(i<m?(j=0,k=i):(j=i-m+1,k=m-1);j<n&&k>=0;j++,k--)\n\t\t{\n\t\t\tcur+=(li)x.v[j]*y.v[k],carry+=cur/BASE,cur%=BASE;\n\t\t}\n\t\tres.v[i]=cur,cur=carry%BASE,carry/=BASE;\n\t}\n\treturn res.reduce();\n}\ninline BigInt operator /(BigInt x,ll u)\n{\n\tBigInt res;\n\tli cur=0;\n\tres.neg=x.neg,u<0?res.neg^=1,u=-u:1,res.v.resize(x.v.size()+1);\n\tfor(register int i=x.v.size()-1;i>=0;i--)\n\t{\n\t\tcur=cur*BASE+x.v[i],cur-=(li)(res.v[i]=cur/u)*u;\n\t}\n\treturn res.reduce();\n}\ninline li operator %(BigInt x,ll u)\n{\n\tli cur=0;\n\tfor(register int i=x.v.size()-1;i>=0;i--)\n\t{\n\t\tcur=cur*BASE+x.v[i],cur-=(li)(cur/u)*u;\n\t}\n\treturn cur;\n}\ninline BigInt qpow(BigInt base,ll exponent)\n{\n\tBigInt res=1;\n\twhile(exponent)\n\t{\n\t\tif(exponent&1)\n\t\t{\n\t\t\tres=res*base;\n\t\t}\n\t\tbase=base*base,exponent>>=1;\n\t}\n\treturn res;\n}\nint main()\n{\n\tn=read(),m=read(),f=g=1;\n\tfor(register int i=n+1;i<=n+m-1;i++)\n\t{\n\t\tc=i;\n\t\tfor(register int j=2;j<=sqrt(c);j++)\n\t\t{\n\t\t\twhile(c%j==0)\n\t\t\t{\n\t\t\t\tfd[j]++,fn[j]++,c/=j;\n\t\t\t}\n\t\t}\n\t\tc!=1?fd[c]++,fn[c]++:1;\n\t}\n\tfor(register int i=1;i<=m-1;i++)\n\t{\n\t\tc=i;\n\t\tfor(register int j=2;j<=sqrt(c);j++)\n\t\t{\n\t\t\twhile(c%j==0)\n\t\t\t{\n\t\t\t\tfn[j]--,c/=j;\n\t\t\t}\n\t\t}\n\t\tc!=1?fn[c]--:1;\n\t}\n\tfor(register int i=1;i<=501;i++)\n\t{\n\t\tf=f*qpow(i,fn[i]),fn[i]=0;\n\t}\n\tf=f-1,fd[m-1]++;\n\tfor(register int i=2;i<=501;i++)\n\t{\n\t\twhile(f%i==0)\n\t\t{\n\t\t\tfn[i]++,f=f/i;\n\t\t}\n\t}\n\tfor(register int i=1;i<=501;i++)\n\t{\n\t\tif(fd[i]>fn[i])\n\t\t{\n\t\t\tg=g*qpow(i,fd[i]-fn[i]);\n\t\t}\n\t\tif(fn[i]>fd[i])\n\t\t{\n\t\t\tf=f*qpow(i,fn[i]-fd[i]);\n\t\t}\n\t}\n\tf.op(),puts(\"\"),g.op();\n}\n```",
        "postTime": 1602508022,
        "uid": 60990,
        "name": "Karry5307",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1625 \u3010\u6c42\u548c\u3011"
    },
    {
        "content": "## \u9898\u89e3 P1625\u3010\u6c42\u548c\u3011\n\n\u9996\u5148\uff0c\u5148\u6765\u4e00\u6ce2\u6570\u5b66\u63a8\u5bfc\u516c\u5f0f\uff1a\n\n$$\\sum_{i=1}^{n}\\frac{1}{\\prod_{j=i}^{i+m-1}j}$$\n\n$$=\\sum_{i=1}^{n}\\frac{m-1}{(m-1)(\\prod_{j=i}^{i+m-1}j)}$$\n\n$$=\\sum_{i=1}^{n}\\frac{1}{m-1}\\left(\\frac{i+m-1}{\\prod_{j=i}^{i+m-1}j}-\\frac{i}{\\prod_{j=i}^{i+m-1}j}\\right)$$\n\n$$=\\sum_{i=1}^{n}\\frac{1}{m-1}\\left(\\frac{1}{\\prod_{j=i}^{i+m-2}j}-\\frac{1}{\\prod_{j=i+1}^{i+m-1}j}\\right)$$\n\n$$=\\frac{1}{m-1}\\left(\\frac{1}{\\prod_{i=1}^{m-1}}-\\frac{1}{\\prod_{i=n+1}^{n+m-1}}\\right)$$\n\n$$=\\frac{\\prod_{i=n+1}^{n+m-1}-\\prod_{i=1}^{m-1}}{(m-1)(\\prod_{i=1}^{m-1})(\\prod_{i=n+1}^{n+m-1})}$$\n\n\u63a8\u5230\u8fd9\u53d1\u73b0\u597d\u50cf\u4e0d\u80fd\u518d\u63a8\u4e86\uff0c\u6240\u4ee5\u5c31\u76f4\u63a5\u8ba1\u7b97\u4e86\u3002\n\n\u90a3\uff0c\u6700\u540e\u7684\u7ea6\u5206\u600e\u4e48\u5904\u7406\u5462\uff1f\n\n\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5206\u6bcd\u662f\u4e00\u5927\u5806\u5355\u7cbe\u5ea6\u6570\u7684\u4e58\u79ef\uff0c\u90a3\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u6bcf\u4e00\u4e2a\u5206\u6bcd\u7684\u5355\u7cbe\u5ea6\u6570\u679a\u4e3e\uff0c\u7136\u540e\u770b\u80fd\u4e0d\u80fd\u6574\u9664\u5206\u5b50\uff0c\u5982\u679c\u80fd\u5c31\u4e00\u76f4\u9664\u4e0b\u53bb\uff0c\u5982\u679c\u4e0d\u80fd\u5c31\u8f6c\u5230\u4e0b\u4e00\u4e2a\u5355\u7cbe\u5ea6\u6570\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u641e\u5b9a\u7ea6\u5206\u5566\uff08\u6492\u82b1\uff09\n\n\u96be\u9053\u8fd9\u9053\u9898\u5c31\u8fd9\u4e48\u7b80\u5355\u5417\uff1f\n\n\u7136\u800c\uff0c\u4e00\u770b\u6570\u636e\u8303\u56f4\uff0c$n+m\\le500$\uff1f\uff01\n\n~~\u8c01\u51fa\u7684\u9898\u554aQAQ~~\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u5c31\u8981\u6253\u9ad8\u7cbe\u5566-v-\n\n\u8fd9\u91cc\u9700\u8981\u4ee5\u4e0b\u4e09\u4e2a\u9ad8\u7cbe\u5ea6\u64cd\u4f5c\uff1a\n\n* \u9ad8\u7cbe\u51cf\u9ad8\u7cbe\n\n* \u9ad8\u7cbe\u4e58\u5355\u7cbe\n\n* \u9ad8\u7cbe\u9664\u5355\u7cbe\n\n\u5e9f\u8bdd\u4e0d\u591a\u8bf4\u4e86\uff0c\u5177\u4f53\u4ee3\u7801\u770b\u4e0b\u9762\uff08\u542b\u6ce8\u91ca\uff09\uff1a\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\nint n, m;\nint x[100010], y[100010], z[100010], w[100010], a, b;\nvoid mul(int *a, int b){//\u9ad8\u7cbe\u4e58\u5355\u7cbe \n\tfor(int i = 1; i <= a[0]; ++i) a[i] *= b;\n\tint x = 0;\n\tfor(int i = 1; i <= a[0]; ++i){\n\t\ta[i] += x;\n\t\tx = a[i] / 10;\n\t\ta[i] %= 10;\n\t}\n\twhile(x){\n\t\ta[++a[0]] = x % 10;\n\t\tx /= 10;\n\t}\n\twhile(a[a[0]] == 0 && a[0] > 0) a[0]--;\n\treturn;\n}\nvoid jian(int *a, int *b, int *c){//\u9ad8\u7cbe\u51cf\u9ad8\u7cbe\n    //c\u4e3a\u5dee \n\tc[0] = a[0];\n\tfor(int i = 1; i <= c[0]; ++i){\n\t\tif(a[i] < b[i]){\n\t\t\ta[i] += 10;\n\t\t\ta[i + 1]--;\n\t\t}\n\t\tc[i] = a[i] - b[i];\n\t}\n\twhile(c[c[0]] == 0 && c[0] > 0) c[0]--;\n\treturn;\n}\nvoid print(int *a){//\u8f93\u51fa\u7b54\u6848 \n\tif(a[0] == 0) printf(\"0\");\n\telse for(int i = a[0]; i >= 1; --i) printf(\"%d\", a[i]);\n\tprintf(\"\\n\");\n}\nvoid chu(int *a, int b, int *c, int &d){//\u9ad8\u7cbe\u9664\u5355\u7cbe\u3002\u6ce8\u610f\uff01\u8fd9\u91cc\u7684\u4f59\u6570\u8981\u5f15\u7528\uff0c\u8981\u4e0d\u7136\u4f59\u6570\u662f\u4e0d\u4f1a\u53d8\u7684 \n\td = 0;\n\tmemset(c, 0, sizeof(c));\n\tfor(int i = a[0]; i >= 1; --i){\n\t\td = (d << 3) + (d << 1) + a[i];\n\t\tc[++c[0]] = d / b;\n\t\td %= b;\n\t}\n\tfor(int i = 1; i <= c[0] / 2; ++i) swap(c[i], c[c[0] - i + 1]);\n\twhile(c[c[0]] == 0 && c[0] > 0) c[0]--;\n\treturn;\n}\nint main(){\n\tscanf(\"%d%d\", &n, &m);\n\tx[0] = y[0] = x[1] = y[1] = z[0] = w[0] = z[1] = w[1] = 1;\n\tmul(y, m - 1);//\u5904\u7406\u5206\u6bcd1 \n\tfor(int i = 1; i <= (m - 1); ++i) mul(y, i), mul(w, i);//\u5904\u7406\u5206\u6bcd2+\u5904\u7406\u5206\u5b501 \n\tfor(int i = (n + 1); i <= (n + m - 1); ++i) mul(y, i), mul(z, i);//\u5904\u7406\u5206\u6bcd3+\u5904\u7406\u5206\u5b502 \n\tjian(z, w, x);//\u5904\u7406\u5206\u5b503 \n\t//\u4ece\u8fd9\u91cc\u5f00\u59cb\u5904\u7406\u7ea6\u5206 \n\tfor(int i = 2; i <= (m - 1); ++i){\n\t\tchu(x, i, z, a);//\u5148\u9664\u4e00\u4e0b \n\t\twhile(a == 0){\n\t\t\tmemcpy(x, z, sizeof(x));//\u88ab\u9664\u6570\u8f6c\u6210\u5546 \n\t\t\tchu(y, i, w, b);\n\t\t\tmemcpy(y, w, sizeof(y));//\u5206\u6bcd\u4e5f\u8981\u5904\u7406 \n\t\t\tchu(x, i, z, a);//\u518d\u9664\u4e00\u4e0b\u5eb7\u4e00\u5eb7 \n\t\t}\n\t}\n\tfor(int i = (n + 1); i <= (n + m - 1); ++i){\n\t\tchu(x, i, z, a);\n\t\twhile(a == 0){\n\t\t\tmemcpy(x, z, sizeof(x));\n\t\t\tchu(y, i, w, b);\n\t\t\tmemcpy(y, w, sizeof(y));\n\t\t\tchu(x, i, z, a);\n\t\t}\n\t}//\u540c\u4e0a \n\tprint(x);//\u8f93\u51fa\u5206\u5b50 \n\tprint(y);//\u8f93\u51fa\u5206\u6bcd \n\treturn 0;//\u5b8c\u7ed3\u6492\u82b1-v- \n}\n```\n\u8fd9\u9053\u9898\u8bf4\u5b9e\u8bdd\u4e5f\u4e0d\u7b97\u592a\u96be\uff0c\u4e3b\u8981\u662f\u5361\u9ad8\u7cbe\u548c\u63a8\u5bfc\u516c\u5f0f\uff0c\u4ed4\u7ec6\u60f3\u60f3\u5c31\u57fa\u672c\u505a\u51fa\u6765\u4e86\u3002\n\n\u90a3\u4e48\uff0c\u5c31\u62dc\u62dc\u54af~~\n\n## End",
        "postTime": 1578982826,
        "uid": 147999,
        "name": "Warriors_Cat",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1625 \u3010\u6c42\u548c\u3011"
    },
    {
        "content": "### \u8f6c\u81ea\u6211\u4eec\u7ade\u8d5b\u8001\u5e08x**y **\u7684\u9898\u89e3\n\n#### 1.\u3010\u51fa\u9898\u610f\u56fe\u3011 \n\u8003\u5bdf\u9009\u624b\u7684\u6570\u5b66\u89e3\u9898\u80fd\u529b\uff0c\u53ca\u5bf9\u9ad8\u7cbe\u5ea6\u52a0\u6cd5\u3001\u51cf\u6cd5\u3001\u9ad8\u7cbe\u5ea6\u00d7\u5355\u7cbe\u5ea6\u3001\u9ad8\u7cbe\u5ea6\u00f7\u5355\u7cbe\u5ea6\u7684\u638c\u63e1\u3002\n\n\u901a\u8fc7\u672c\u9898\u8981\u5b66\u4f1a\uff1a\u9ad8\u7cbe\u5ea6\u6c42\u4f59\u548c\u9ad8\u7cbe\u5ea6\u7ea6\u5206\n#### 2.\u3010\u601d\u8def\u70b9\u62e8\u3011\n![](https://s2.ax1x.com/2019/07/09/ZyTx61.png)\n#### 3.\u3010Code\u3011\uff08\u849f\u84bb\u4f18\u5316\u8fc7\u7684\u7248\u672c\uff09\n```cpp\n// luogu-judger-enable-o2\n#include<bits/stdc++.h>\n#define reg register\n#define ll long long\n#define wei 10000\nusing namespace std;\nint f[1000005],a[1000005]={1,1},b[1000005]={1,1},n,m;\nbool r[1000005];\ninline void out(reg int a[])\n{ \n\tcout<<a[a[0]];\n\tfor(reg int i=a[0]-1;i>=1;i--)cout<<a[i]/1000<<a[i]/100%10<<a[i]/10%10<<a[i]%10;\n\tcout<<endl;\n}\ninline void cd(reg int a[],reg int x)\n{ \n\tfor(reg int i=1;i<=a[0];i++)a[i]=a[i]*x;\n\tfor(reg int i=1;i<=a[0];i++){a[i+1]+=a[i]/wei;a[i]%=wei;}\n\twhile(a[a[0]+1]>0)\n\t{\n\t\ta[0]++;\n\t\ta[a[0]+1]=a[a[0]]/wei;\n\t\ta[a[0]]%=wei;\n\t}\n}\ninline void cg(reg int a[],reg int b[],reg int c[])\n{ \n\tmemset(c,0,sizeof c);\n\tc[0]=a[0]+b[0];\n\tfor(reg int i=1;i<=a[0];i++)\n\tfor(reg int j=1;j<=b[0];j++)\n\t{ \n\t\tc[i+j-1]+=a[i]*b[j];\n\t\tc[i+j]+=c[i+j-1]/wei;\n\t\tc[i+j-1]%=wei;\n\t}\n\twhile(c[0]>0&&c[c[0]]==0)c[0]--;\n}\ninline void jian(reg int a[],reg int b[])\n{ \n\tfor(reg int i=1;i<=a[0];i++)\n\t{ \n\t\tif(a[i]<b[i])\n\t\t{\n\t\t\ta[i+1]--;\n\t\t\ta[i]+=wei; \n\t\t}\n\t\ta[i]=a[i]-b[i];\n\t}\n\twhile(a[a[0]]==0&&a[0]>0)a[0]--;\n}\ninline void divide(reg int a[],reg int x)\n{ \n\treg int k=0;\n\tfor(reg int i=a[0];i>=1;i--)\n\t{\n\t\tk=k*wei+a[i];\n\t\ta[i]=k/x;\n\t\tk%=x;\n\t}\n\twhile(a[a[0]]==0&&a[0]>0)a[0]--;\n}\ninline int mo(reg int a[],reg int x)\n{ \n\treg int k=0,i;\n\tfor(i=a[0];i>=1;i--){k=k*wei+a[i];k%=x;}\n\treturn k;\n}\ninline void yuefen()\n{ \n\treg int i=2;\n\twhile(i<=m+n)\n\t{ \n\t\tif(r[i]==0)\n\t\t{ \n\t\t\twhile(!mo(b,i)&&!mo(f,i))\n\t\t\t{\n\t\t\t\tdivide(b,i);\n\t\t\t\tdivide(f,i);\n\t\t\t}\n\t\t\tfor(reg int j=i*i;j<=m+n;j+=i)r[j]=1;\n\t\t}\n\t\ti++;\n\t}\n}\nint main()\n{ \n\tios::sync_with_stdio(0);\n\tcin>>n>>m;\n\tfor(reg int i=2;i<=m-1;i++)cd(a,i);\n\tfor(reg int i=n+1;i<=n+m-1;i++)cd(b,i);\n\tcg(a,b,f);\n\tcd(f,m-1);\n\tjian(b,a);\n\tyuefen();\n\tout(b);\n\tout(f);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1562662121,
        "uid": 48993,
        "name": "liuyifan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1625 \u3010\u6c42\u548c\u3011"
    }
]