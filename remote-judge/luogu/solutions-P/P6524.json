[
    {
        "content": "\u9996\u5148\u8fd9\u9053\u9898\u771f\u7684\u5f88\u6bd2\u7624\uff0c\u5f88\u6bd2\u7624\u2026\u2026\u6211\u5728\u8003\u8bd5\u65f6WA\u4e8633\u6b21\uff08~~\u60b2\u58ee\u554a~~\uff09\n\n\u8fd9\u9053\u9898\u9700\u8981\u8003\u8651\u7684\u7ec6\u8282\u633a\u591a\uff0c\u6211\u8ba4\u4e3a\u662f\u4e00\u9053\u7eff\u9898\u5230\u84dd\u9898\u7684\u96be\u5ea6\u5427\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u5c31\u6765\u770b\u770b\u6211\u7684\u5fc3\u8def\u5386\u7a0b\u5427\u3002\u3002\u3002\uff08\u4e0b\u9762\u9898\u89e3\u7528\u8bcd\u4e0d\u5f53\u8bf7\u89c1\u8c05\uff09\n\n$$Start$$\n\n## Part1:\u770b\u5230\u8fd9\u9053\u9898\u65f6\u7684\u60f3\u6cd5\n\n\u8fd9\u9053\u9898\u95ee\u7684\u662f\u603b\u82b1\u8d39\u6700\u5927\u548c\u7b2c\u4e8c\u5927\uff08\u6211\u4e00\u5f00\u59cb\u770b\u5230k\u5927\u6709\u70b9\u614c\u2026\u2026\u7ed3\u679ck<=2)\n\n\u90a3\u5954\u7740\u4ece\u7b80\u5355\u5230\u96be\u7684\u60f3\u6cd5\uff0c\u5148\u5f00\u59cb\u8003\u8651\u6700\u5927\u503c\u3002\n\n\u9996\u5148\uff0c\u6293\u4f4f\u4e00\u4e2a\u5173\u952e\u8bcd\uff1a**2|m**\n\n\u8fd9\u8bf4\u660e\u6211\u53ea\u80fd\u591f\u53d6\u5076\u6570\u6761\u8def\n\n\u90a3\u73b0\u5728\uff0c\u5c31\u62ffm=6\u4e3e\u4e2a\u6817\u5b50\uff1a\n\n\u8bbe\u7aef\u70b9\u4e3a1~6\uff0c\u5219\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\uff1a\n\n\u6240\u6709\u8ddd\u79bb=\uff081\uff0c2\uff09+\uff081\uff0c3\uff09+\uff081\uff0c4\uff09+\uff081\uff0c5\uff09+\uff081\uff0c6\uff09+\uff082\uff0c3\uff09+\uff082\uff0c4\uff09+\uff082\uff0c5\uff09+\uff082\uff0c6\uff09+\uff083\uff0c4\uff09+\uff083\uff0c5\uff09+\uff083\uff0c6\uff09+\uff084\uff0c5\uff09+\uff084\uff0c6\uff09+\uff085\uff0c6\uff09=\uff08\uff081\uff0c2\uff09+\uff082\uff0c6\uff09\uff09+\uff08\uff081\uff0c3\uff09+\uff083\uff0c6\uff09\uff09+\uff08\uff081\uff0c4\uff09+\uff084\uff0c6\uff09\uff09+\uff08\uff081\uff0c5\uff09+\uff085\uff0c6\uff09\uff09+\uff081\uff0c6\uff09+\uff08\uff082\uff0c3\uff09+\uff083\uff0c5\uff09\uff09+\uff08\uff082\uff0c4\uff09+\uff084\uff0c5\uff09\uff09+\uff082\uff0c5\uff09+\uff083\uff0c4\uff09=5\uff081\uff0c6\uff09+3\uff082\uff0c5\uff09+\uff083\uff0c4\uff09\n\n\u7136\u540e\u6211\u4eec\u4f1a\u5403\u60ca\u7684\u53d1\u73b0\uff0c\u7adf\u7136\u7cfb\u6570\u662f\u7b49\u5dee\u6570\u5217\uff01\u8fd8\u662f\u5947\u6570\u7b49\u5dee\u6570\u5217!\n\n**\u8fd9\u9002\u4e0d\u9002\u7528\u4e8e\u6240\u6709\u60c5\u51b5\u5462\uff1f**\n\n\u5176\u5b9e\u8fd9\u5341\u5206\u597d\u60f3\uff0c\u6bd4\u5982\u8bf4\u6709\uff081\uff0c6),\u6211\u5c31\u8981\u4e00\u8fb9\u7684\u7aef\u70b9\u662f1\uff0c\u4e00\u8fb9\u7684\u7aef\u70b96\uff0c\u800c\u521a\u597d\u7aef\u70b9\u4e0d\u540c\u53ef\u4ee5\u4e00\u4e00\u914d\u5bf9\uff0c\u800c\u4e14\u4e5f\u6070\u597d\u5c06\u6bcf\u6761\u542b\u67091\u62166\u7684\u8fb9\u5168\u90e8\u7528\u5b8c\uff0c\u90fd\u53ef\u4ee5\u914d\u6210$m-1$\u4e2a\u5bf9\uff0c\u6240\u4ee5\u4e0d\u9700\u518d\u8003\u86511\uff0c6\uff0c\u53ea\u9700\u8003\u86512\uff0c3\uff0c4\uff0c5\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\n\n\u6240\u4ee5\u6211\u4eec\u5f97\u5230\u4e86\u8fd9\u4e2a\u770b\u8d77\u6765\u5f88\u6f02\u4eae\u7684\u5f0f\u5b50\u3002\u65e2\u7136\u5f97\u5230\u4e86\u8fd9\u4e2a\u67ff\u5b50\uff0c\u90a3\u6709\u4ec0\u4e48\u7528\u5462\uff1f\n\n**\u5176\u5b9e\u5f97\u5230\u4e86\u8fd9\u4e2a\u67ff\u5b50\uff0c$k=1$\u5c31\u5df2\u7ecf\u505a\u5b8c\u4e86\u3002**\n\n\u4e3a\u4ec0\u4e48\u5462\uff1f\n\n\u5176\u5b9e\u5341\u5206\u7b80\u5355\u3002\u4f60\u601d\u8003\u4e00\u4e0b\uff0c\u5c31\u4f1a\u5f88\u8f7b\u677e\u7684\u53d1\u73b0\uff1a\n\n**\u80af\u5b9a\u4ece\u4e24\u7aef\u5f00\u59cb\u9009\u55bd**\n\n\u56e0\u4e3a\u9009\u4e24\u7aef\u7684\u8bdd\uff0c\u53ef\u4ee5\uff081\uff0cm\uff09,\uff082\uff0cm-1\uff09\u2026\u2026\u90fd\u53d6\u5230\u6700\u5927\u503c\n\n\u8fd9\u8fd8\u662f\u5341\u5206\u660e\u663e\u7684\u3002\n\n\u6210\u529f\u62ff\u523042\u5206\uff01\n\n\u5f88\u597d\uff0c\u76ee\u524d\u4e3a\u6b62\u4e00\u5207\u987a\u5229\n\n\uff08~~\u6765\u5427\uff0c\u7ed9\u81ea\u5df1\u9f13\u9f13\u638c\u5427~~\uff09\n\n## Part2.\u63a8\u7b2c\u4e8c\u5927\n\n~~\u6bd2\u7624\u5f00\u59cb~~\n\n\u524d\u9762\u6211\u76f8\u4fe1\u5927\u90e8\u5206\u4eba\u90fd\u6253\u51fa\u6765\u4e86\n\n\u4f46\u5173\u952e\u95ee\u9898\u5728\u4e8e\u2014\u2014\u7b2c\u4e8c\u5927\u80bf\u4e48\u63a8\uff1f\n\n**\u5176\u5b9e\u5f88\u7b80\u5355\u2014\u2014\u628a\u6700\u9760\u4e2d\u95f4\u7684\u5f80\u4e2d\u95f4\u79fb\u4e00\u683c\u5373\u53ef\u3002**\n\n\u90a3\u95ee\u9898\u6765\u4e86\u2014\u2014Why\uff1f\n\n\u9996\u5148\uff0c\u52a8\u4ed6\u4eec\u4e24\u8fb9\u7684\u5c31\u5fc5\u987b\u8981\u52a8\u6700\u4e2d\u95f4\u7684\u3002\n\n\u90a3\u6700\u4e2d\u95f4\u7684\u81f3\u5c11\u8981\u5f80\u4e2d\u95f4\u79fb\u4e00\u683c\uff0c\u90a3\u4e48\u4e2d\u95f4\u7684\u548c\u8fd9\u4e2a\u65b9\u6848\u4e00\u6837\uff0c**\u4e24\u8fb9\u7684\u51cf\u5c0f\u4e86**\uff0c\u6240\u4ee5\u6210\u7acb\u3002\n\n\u90a3\u4e48-1\u5462\uff1f\n\n\u4ed6\u8bf4\u4e86\u6ca1\u6709\u53ef\u80fd\uff0c\u90a3\u4e48\u5c31\u662f\u5f53k=2\u65f6\u4e14m=n\u561b\u3002\n\n\u4f60\u81ea\u4fe1\u7684\u4ea4\u4e86\u4e0a\u53bb\uff0c\u770b\u89c1\u4e00\u53ea\u53ea\u7eff\u9e1f\u4eae\u8d77\u5341\u5206\u6fc0\u52a8\u3002\n\n\u7ed3\u679c\u5192\u51fa\u4e86\u96f6\u661f\u7684\u51e0\u70b9\u7ea2\u8272\u2014\u201442\n\n~~\u6346\u7ed1\u6d4b\u8bd5\u6700\u70e6\u4e86~~\n\n\u4f60\u8111\u5b50\u91cc\u53ef\u80fd\u4f1a\u95ea\u8fc7\u7684\u4e00\u4e2a\u60f3\u6cd5\u2014\u2014\u662f\u4e0d\u662f\u6570\u636e\u6709\u70b9\u95ee\u9898\uff1f\n\n\u6211\u4e00\u5f00\u59cb\u4e5f\u662f\u8fd9\u4e48\u60f3\u7684\uff0c\u4f46\u770b\u5df2\u7ecf\u67095\u4e2a\u5927\u4f6cAC\uff0c\u5c31\u77e5\u9053\u6ca1\u95ee\u9898\u3002\n\n\u6211\u518d\u5ea6\u5ba1\u89c6\u81ea\u5df1\u7684\u8bc1\u660e\u8fc7\u7a0b\uff0c\u540e\u6765\u4e3e\u4e86\u51e0\u4e2a\u4f8b\u5b50\u540e\u5c31\u77e5\u9053\u4e86\u3002\n\n### Wrong 1:\u8c01\u544a\u8bc9\u4f60\u53ea\u6709m=n\uff0ck=2\u65f6\u624d\u662f-1\uff1f\n\n\u6211\u4ed4\u7ec6\u7684\u518d\u770b\u4e86\u8fd9\u4e2a\u9898\u9762\uff0c\u628a\u89c6\u7ebf\u805a\u7126\u5728\u4e86\u4e24\u4e2a\u5b57\uff1a\n\n#### \u4e25\u683c\n\n\u7b2c\u4e8c\u5927\uff0c\u4e25\u683c\uff0c\u6211\u4eff\u4f5b\u77e5\u9053\u4e86\u4ec0\u4e48\uff1a\u8981\u662f\u5168\u662f\u7b2c\u4e00\u5927\uff0c\u4f1a\u600e\u6837\uff1f\n\n\u90a3\u600e\u4e48\u624d\u4f1a\u505a\u5230\u5462\uff1f\n\n\u5168\u90e8\u76f8\u7b49\u4e0d\u5c31\u597d\u4e86\uff1f\n\n\u6240\u4ee5\u8fd9\u4e2a\u5730\u65b9\u9700\u8981\u7279\u5224\uff0c\u7279\u5224\u8fd9\u4e2a\u60c5\u51b5\u3002\n\n\u4f60\u4e00\u8fb9\u9a82\u9a82\u54a7\u54a7\u7684\u8bf4\u6570\u636e\u6076\u5fc3\uff0c\u51fa\u8fd9\u4e48\u591a-1\uff0c\u4e00\u8fb9\u53c8\u4ea4\u4e86\u4e0a\u53bb\u2014\u2014\n\n\u54ce\uff0c\u51e0\u53ea\u7ea2\u9e1f\u53d8\u7eff\u4e86\uff0c\u4f46\u4f9d\u7136\u662f42\u2026\u2026\n\n\u6211\u4eca\u5929\u5c31\u8ddf42\u8fc7\u4e0d\u53bb\u4e86\u2026\u2026\n\n**\u52a0\u6cb9\u5427\uff0c\u7ee7\u7eed\u52aa\u529b\u2026\u2026**\n\n### Wrong 2:\u8c8c\u4f3c$k=2$\u7684\u8fc7\u7a0b\u6709\u70b9\u6bdb\u75c5\u2026\u2026\n\n\u518d\u8ba4\u8ba4\u771f\u771f\u7684\u770b\u6765\u4e00\u904d\u6211\u7684\u8bc1\u660e\u3002\n\n\u7a81\u7136\u60f3\u5230\u4e86\u4ec0\u4e48\u2014\u2014\n\n\u4e07\u4e00\u6211\u4e24\u4e2a\u9009\u7684\u6570\u4e00\u6837\u80bf\u4e48\u529e\uff1f\n\n\u4e3e\u4e86\u4e2a\u4f8b\u5b50\u53d1\u73b0\u2014\u2014\u90a3\u5c31\u7ee7\u7eed\u5f80\u524d\u9009\u5457\n\n\u54ce\uff0c\u5bf9\u54ce\uff0c\u4e8e\u662f\u6211\u7acb\u9a6c\u4ed8\u51fa\u4e86\u884c\u52a8\u3002\n\n1\u5206\u949f\u6572\u597d\u4e86\u4ee3\u7801\n\n\u6ee1\u6000\u671f\u5f85\u7684\u770b\u7740\u8bc4\u6d4b\u7ed3\u679c\n\n\u7ed3\u679cSubtesk1&2\u5168\u8fc7\uff0c\u4f60\u5728\u60f3\uff1a\u54ce\uff0c\u603b\u7b97\u8fc7\u4e86\u2026\u2026\n\n\u7ed3\u679c\u2026\u2026\n\n![\u6211\u592a\u96be\u4e86](https://cdn.luogu.com.cn/upload/image_hosting/gc19hsoy.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n58\u2026\u2026\n\n\u81f3\u5c11\u4e5f\u8bf4\u7684\u8fc7\u53bb\u4e86\u561b\u2026\u2026\n\n\u662f\uff0c\u5417\u2026\u2026\n\n**\u6ee1\u6000\u7edd\u671b\u4e5f\u8981\u52a0\u6cb9\u554a\uff01**\n\n**Wrong 3:Wrong 2\u7684\u5ef6\u4f38**\n\n\u7ed3\u679c\u4f60\u7a81\u7136\u7075\u673a\u4e00\u52a8\uff0c\u60f3\u5230\u4e00\u4e2a\u5947\u602a\u7684\u6570\u636e\uff1a\n```\n8 6 2\n\n5 6 6 6 6 6 7 8\n```\n\u7ed3\u679c\u53d1\u73b0\u6700\u7ec8\u7684\u7b54\u6848\u662f\u9519\u8bef\u7684\u3002\n\nWrong answer:9\n\ncorrect answer:5\uff08\u81ea\u884c\u624b\u63a8\uff09\n\n\u7136\u540e\u4f60\u624d\u53d1\u73b0\u2014\u2014\u4e07\u4e00\u5230\u5bf9\u9762\u65f6\u4f9d\u7136\u76f8\u540c\uff0c\u90a3\u6211\u8fd9\u4e2a\u6570\u53c8\u4e0d\u80fd\u6362\u5230\u5bf9\u9762\u53bb\u3002\n\n\u90a3\u80bf\u4e48\u529e\u5462\uff1f\n\n\u53ea\u8981\u628a\u4ece\u4e2d\u95f4\u5f80\u5916\u5ef6\u4f38\u7b2c\u4e00\u4e2a\u8df3\u51fa\u8fd9\u4e2a\u7684\uff0c\u7136\u540e\u53d8\u4e3a\u548c\u90a3\u4e2a\u6570\u76f8\u540c\u7684\u4e0d\u5c31\u597d\u4e86\uff1f\n\n\u6bd4\u5982\u8bf4\uff0c\u5728\u8fd9\u4e2a\u6837\u4f8b\u4e2d\u5c31\u662f\u628a7\u6362\u62106\u6216\u80055\u6362\u62106\u5c31\u597d\u4e86\u3002\n\n\u516c\u5f0f\u81ea\u5df1\u63a8\u95ee\u9898\u5e94\u8be5\u4e0d\u5927\uff0c\u4e0b\u9762\u6ce8\u91ca\u91cc\u4e5f\u5199\u4e86\u3002\n\n\u90a3\u63a5\u4e0b\u6765\u770b\u4ee3\u7801\uff0c\u597d\u597d\u7406\u89e3\u4e00\u4e0b\u8fd9\u9053\u597d\u9898\u5427\u3002\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ninline long long read()\n{\n\tlong long sum=0,naga=1;char ch=getchar();\n\twhile(ch>'9'||ch<'0'){if(ch=='-')naga=-1;ch=getchar();}\n\twhile(ch<='9'&&ch>='0')sum=sum*10+ch-'0',ch=getchar();\n\treturn sum*naga;\n}//\u5feb\u8bfb \nlong long n,m,k,taxi,a[300009];\nint main()\n{\n\tn=read(),m=read(),k=read();\n\tfor(int i=1;i<=n;i++)a[i]=read();\n\tsort(a+1,a+n+1);//\u6392\u5e8f\u540e\u4ece\u4e24\u7aef\u6536\u7f29 \n\tif((m==n||a[1]==a[n])&&k==2)\n\t{\n\t\tcout<<-1<<endl;\n\t\treturn 0;\n\t}\n\tlong long now=1,cnt=m-1,ans=0;//now\u8bb0\u5f55\u5230\u7b2c\u51e0\u4e2a\u70b9\uff0ccnt\u8bb0\u5f55\u8981\u4e58\u7684\u6570\uff0cans\u7edf\u8ba1\u7b54\u6848 \n\twhile(cnt>0)//\u4e58\u79ef\u5927\u4e8e\u96f6\u5c31\u4e0d\u65ad\u52a0\u4e0a\u53bb \n\t{\n\t\tans+=(a[n-now+1]-a[now])*cnt;\n\t\tcnt-=2,now++;\n\t}\n\tlong long l=m/2,r=n-m/2+1;\n\tif(k==1)cout<<ans<<endl;//\u6700\u5927\u503c \n\telse\n\t{\n\t\tlong long r1=r,l1=l,L=0,R=0;\n\t\twhile(a[r1]==a[r]&&r1>1)r1--;//\u627e\u6700\u9760\u5de6\u7684\u4e0e\u53f3\u8fb9\u76f8\u540c\u7684 \n\t\twhile(a[l1]==a[l]&&l1<n)l1++;//\u540c\u4e0a \n\t\tif(r1<=l)L=(2*(l-r1)+1)*(a[l]-a[r1]);//\u51cf\u53bb\u5931\u53bb\u4e86\u7684\u5dee\u503c\u548c\u4ed6\u4f1a\u505a\u7684\u8d21\u732e \n\t\telse L=a[l1]-a[l];//\u5426\u5219\u5c31\u5f53\u662f\u4e2d\u95f4\u7684\u76f4\u63a5\u51cf\u6389 \n\t\tif(l1>=r)R=(2*(l1-r)+1)*(a[l1]-a[r]); \n\t\telse R=a[r]-a[r1];//\u540c\u4e0a \n\t\tans=max(ans-L,ans-R);//\u6700\u5927\u662fans,\u90a3\u4e48\u7b2c\u4e8c\u5927\u5c31\u662f\u4e24\u79cd\u65b9\u6cd5\u7684\u6700\u5927\u503c \n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;//\u5b8c\u7f8e\uff0c\u6536\u5de5 \n}\n```\n#### \u6700\u540e\uff0c\u518d\u5c0f\u58f0BB\u4e00\u53e5\uff1a\n\n\u6211\u597d\u50cf\u662f\u8dd1\u7684\u6700\u5feb\u7684\u54ce\uff08\u5e94\u8be5\u662f\u52a0\u4e86\u5feb\u8bfb\u7684\u7f18\u6545\u2026\u2026\uff09",
        "postTime": 1588611071,
        "uid": 97304,
        "name": "Mophie",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6524 \u3010\u300cWdoi-1\u300d\u6258\u5361\u9a6c\u514b\u3011"
    },
    {
        "content": "\u9065\u60f3\u5f53\u5e74\u6211\u56e0\u4e3a\u8fd9\u9898 std \u9505\u4e86\u5c31\u6ca1\u4ea4\u9898\u89e3\uff0c\u7136\u540e\u4e00\u76f4\u6ca1\u53bb\u7ba1\u5b83\uff0c\u4e3a\u5565\u4f1a\u6709\u8fd9\u4e48\u4e0d\u8d1f\u8d23\u4efb\u7684\u51fa\u9898\u4eba\u554a\uff0c\u81ea\u88c1\uff0c\u8bf7\uff08\u65e0\u6148\u60b2\uff09\u3002\n\n\u8003\u8651\u5982\u4f55\u7531\u4e00\u4e2a\u72b6\u6001 $S$\uff0c\u5c06\u4e00\u4e2a $x$  \u79fb\u52a8\uff0c\u4f7f\u5f97\u7b54\u6848\u66f4\u5927\u3002\n  \n\u56e0\u4e3a\u5c06 $x_i$ \u79fb\u52a8\u5230 $x_j$\uff0c\u5b9e\u9645\u4e0a\u53ef\u4ee5\u8ba4\u4e3a\u662f\u8fdb\u884c\u591a\u6b21 $x_k$ \u79fb\u52a8\u5230 $x_{k+1}$ \u7684\u64cd\u4f5c\uff0c\u6216\u8005\u662f\u591a\u6b21 $x_{k+1}$ \u79fb\u52a8\u5230 $x_k$\u3002\n  \n\u5c06 $x_i$ \u79fb\u52a8\u5230 $x_{i+1}$ \u6539\u53d8\u7684\u7b54\u6848 $\\delta = (x_{i+1} - x_i) \\times (left - right)$\uff0c$left$ \u8868\u793a\u5728 $x_i$ \u5de6\u8fb9\uff08\u5305\u62ec $x_i$\uff09 \u6709\u591a\u5c11\u4e2a\u9009\u62e9\u7684\u6570\uff0c$right$ \u8868\u793a\u5728 $x_{i+1}$ \u53f3\u8fb9\uff08\u5305\u62ec $x_{i+1}$\uff09 \u6709\u591a\u5c11\u4e2a\u9009\u62e9\u7684\u6570\u3002\n  \n\uff08\u6b64\u5904\u6211\u4eec\u4e0d\u8ba4\u4e3a $x_i = x_{i+1}$ \u65f6\u8fd9\u6837\u79fb\u52a8\u4e00\u6b21\u662f\u64cd\u4f5c\uff09\u3002\n  \n\u90a3\u4e48\u5bf9\u4e8e\u524d $\\dfrac{m}{2}$ \u4e2a\u6570\uff0c\u8fd9\u4e2a\u503c\u662f $< 0$ \u7684\uff0c\u5bf9\u4e8e\u540e $\\dfrac{m}{2}$ \u4e2a\u6570\uff0c\u8fd9\u4e2a\u503c\u662f $>0$ \u7684\u3002\n  \n\u800c\u5bf9\u4e8e\u540e $\\dfrac{m}{2}$ \u4e2a\u6570\u7684\u4efb\u610f\u4e00\u4e2a\uff0c\u4f60\u5c06\u5176\u4e0d\u65ad\u5411\u53f3\u8fb9\u79fb\u540e\uff0c$left$ \u4f1a\u4e0d\u65ad\u589e\u5927\uff0c$right$ \u4e0d\u65ad\u51cf\u5c0f\uff0c$\\delta > 0$  \u59cb\u7ec8\u6210\u7acb\u3002\n  \n\u4e5f\u5c31\u662f\u5bf9\u4e8e\u4e00\u4e2a\u72b6\u6001\uff0c\u6211\u4eec\u53bb\u6389 $x_i$\uff0c\u52a0\u5165 $x_j$\uff0c\u7b54\u6848\u5fc5\u5b9a\u589e\u52a0\uff0c\u5176\u4e2d $j > i$\uff0c\u5176\u4e2d $i$ \u662f\u5f53\u524d\u72b6\u6001\u7684\u540e $\\dfrac{m}{2}$ \u4e2a\u3002\n  \n\u524d $\\dfrac{m}{2}$ \u4e2a\u4e5f\u662f\u540c\u7406\uff0c\u53bb\u6389 $x_i$\uff0c\u52a0\u5165 $x_j$\uff0c\u7b54\u6848\u5fc5\u5b9a\u589e\u52a0\uff0c\u5176\u4e2d $j < i$\uff0c$i$ \u662f\u5f53\u524d\u72b6\u6001\u7684\u524d $\\dfrac{m}{2}$ \u4e2a\u3002\n  \n\u4e8e\u662f $k=1$ \u7684\u7ed3\u8bba\u5c31\u5f88\u663e\u7136\u4e86\uff1a\u56e0\u4e3a\u524d $\\dfrac{m}{2}$ \u548c\u540e $\\dfrac{m}{2}$ \u4e2a\u662f\u67d0\u79cd\u610f\u4e49\u4e0a\u72ec\u7acb\u7684\uff0c\u4e00\u5b9a\u9009\u6700\u5de6\u8fb9 $\\dfrac{m}{2}$ \u4e2a\uff0c\u6700\u53f3\u8fb9 $\\dfrac{m}{2}$ \u4e2a\u3002\n  \n\u800c\u5bf9\u4e8e\u6240\u6709\u72b6\u6001\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u901a\u8fc7\u82e5\u5e72\u6b21\u53bb\u6389 $x_i$\uff0c\u52a0\u5165 $x_j$ \u7684\u64cd\u4f5c\u6765\u4e0d\u65ad\u589e\u5927\u7b54\u6848\uff0c\u4ece\u800c\u5f97\u5230\u6700\u4f18\u89e3\u3002\n  \n\u73b0\u5728\u6211\u4eec\u7531\u6700\u4f18\u89e3\u5012\u9000\u53cd\u5411\u64cd\u4f5c\uff0c\u5c31\u80fd\u591f\u51cf\u5c0f\u7b54\u6848\u3002\n  \n\u56e0\u4e3a\u6c42\u7684\u662f $k=2$\uff0c\u6240\u4ee5\u4e00\u5b9a\u53ea\u9700\u8981\u53cd\u5411\u64cd\u4f5c\u4e00\u6b21\uff0c\u8bbe\u4f60\u53cd\u5411\u64cd\u4f5c\u591a\u6b21\u5f97\u5230\u8d21\u732e $x$\uff0c\u4e00\u6b21\u5f97\u5230\u8d21\u732e $y$\uff0c\u6839\u636e\u5b9a\u4e49\u6709 $x < y$\uff0c\u56e0\u4e3a $y < ans$\uff0c\u6240\u4ee5 $x$ \u4e00\u5b9a\u4e0d\u80fd\u4f5c\u4e3a\u6b21\u5c0f\u503c\u3002\n  \n\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u662f\u8981\u4ece\u6700\u4f18\u72b6\u6001\u8fdb\u884c\u4e00\u6b21\u53cd\u5411\u64cd\u4f5c\u5f97\u5230\u6700\u5927\u7684\u7b54\u6848\u3002\n  \n\u56e0\u4e3a\u53ea\u8fdb\u884c\u4e00\u6b21\u53cd\u5411\u64cd\u4f5c\uff0c\u6240\u4ee5\u8fd9\u6b21\u64cd\u4f5c\u4e00\u5b9a\u662f\u4ece\u524d $\\dfrac{m}{2}$ \u4e2a\u6216\u540e $\\dfrac{m}{2}$ \u4e2a\u79fb\u52a8\u4e00\u4e2a\u5230\u4e2d\u95f4\u533a\u57df\u3002\n  \n\u90a3\u4e48\u524d $\\dfrac{m}{2}$ \u4e2a\u548c\u540e $\\dfrac{m}{2}$ \u4e2a\u53c8\u72ec\u7acb\u4e86\uff0c\u6240\u4ee5\u53ea\u770b\u524d\u9762\u7684\u60c5\u51b5\u3002\n  \n\u8bbe\u6211\u4eec\u8981\u4ece $x_i$ \u79fb\u52a8\u5230 $x_j$\uff0c\u6709\u7ed3\u8bba\uff1a$x_j$ \u4e00\u5b9a\u662f $x_i$ \u53f3\u8fb9\u7b2c\u4e00\u4e2a\u4e0e $x_j$ \u4e0d\u540c\u7684\u6570\u3002\n  \n\u8fd9\u4e2a\u5b9e\u9645\u4e0a\u975e\u5e38\u663e\u7136\uff0c\u56e0\u4e3a\u4f60\u9047\u5230\u7b2c\u4e00\u4e2a\u6709\u6548\u79fb\u52a8\u540e\u505c\u4e0b\uff0c\u663e\u7136\u662f\u6bd4\u7ee7\u7eed\u5f80\u53f3\u79fb\u52a8\u6539\u53d8\u7684 $\\delta$ \u66f4\u5c0f\u7684\u3002\n  \n\u4f60\u518d\u601d\u8003\u4e00\u4e0b\uff0c\u5c31\u4f1a\u53d1\u73b0\u5176\u5b9e\u53ea\u6709\u4e24\u79cd\u53ef\u80fd\u6700\u4f18\u7684\u65b9\u6848\uff0c\u4e00\u4e2a\u662f $i = \\dfrac{m}{2}$\uff0c\u4e00\u4e2a\u662f $j = \\dfrac{m}{2} + 1$\uff0c\u8bc1\u660e\u5982\u4e0b\uff1a\n  \n\u5047\u8bbe\u4f60\u73b0\u5728\u9009\u4e86 $x_p,x_q$\uff0c\u5176\u4e2d $p \\neq \\dfrac{m}{2},q \\neq \\dfrac{m}{2} + 1$\u3002\n  \n\u90a3\u4e48\u5982\u679c $x_q = x_{\\frac{m}{2} + 1}$\uff0c\u90a3\u4e48\u9009 $q$ \u548c\u9009 $\\dfrac{m}{2} + 1$ \u7b49\u4ef7\u3002\n  \n\u5982\u679c $x_p = x_{\\frac{m}{2}}$\uff0c\u90a3\u4e48\u9009 $p$ \u548c\u9009 $\\dfrac{m}{2} $ \u7b49\u4ef7\u3002\n  \n\u5982\u679c\u90fd\u4e0d\u6210\u7acb\uff0c\u90a3\u4e48 $x_p < x_{\\frac{m}{2}},x_{\\frac{m}{2} + 1} < x_q$\uff0c\u4f60\u628a $q$ \u6362\u6210 $\\dfrac{m}{2} + 1$ \u663e\u7136\u662f\u53ef\u4ee5\u5e76\u4e14\u66f4\u4f18\u7684\u3002\n  \n\u6700\u540e\u653e\u4e00\u4e0b\u521a\u5199\u7684 std\uff1a\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n#define ll long long\nusing namespace std;\nint n,m,k;\nint x[300005];\nint tag[300005];\n\nll get(){\n\tll tmp = 0,res = 0,tot = 0;\n\tfor(int i = 1;i <= n;i++){\n\t\tif(!tag[i]) continue;\n\t\tres += tot * x[i] - tmp;\n\t\ttmp += x[i];\n\t\ttot++;\n\t}\n\treturn res;\n}\n\nll max(ll a,ll b){\n\tif(a > b) return a;\n\treturn b;\n}\n\nint main(){\n\tscanf(\"%d%d%d\",&n,&m,&k);\n\tfor(int i = 1;i <= n;i++) scanf(\"%d\",&x[i]);\n\tsort(x + 1,x + n + 1);\n\tfor(int i = 1;i <= m / 2;i++) tag[i] = 1;\n\tfor(int i = 1;i <= m / 2;i++) tag[n - i + 1] = 1;\n\tll ans = get(),se = -1;\n\tif(k == 1){\n\t\tprintf(\"%lld\\n\",ans);\n\t\treturn 0;\n\t}\n\tif(m == n){\n\t\tprintf(\"-1\\n\");\n\t\treturn 0;\n\t}\n\tint j = m / 2 + 1;\n\twhile(x[m / 2] == x[j] && j + 1 < n - m / 2 + 1) j++;\n\tif(x[m / 2] != x[j] && j < n - m / 2 + 1){\n\t\ttag[m / 2] = 0;tag[j] = 1;\n\t\tse = max(se,get());\n\t\ttag[m / 2] = 1;tag[j] = 0;\n\t}\n\tj = m / 2;\n\twhile(x[m / 2 + 1] == x[j] && j - 1 >= 1) j--;\n\tif(x[m / 2 + 1] != x[j] && j >= 1){\n\t\ttag[m / 2 + 1] = 1;tag[j] = 0;\n\t\tse = max(se,get());\n\t\ttag[m / 2 + 1] = 0;tag[j] = 1;\n\t}\n\tj = n - m / 2;\n\twhile(x[n - m / 2 + 1] == x[j] && j - 1 > m / 2) j--;\n\tif(x[n - m / 2 + 1] != x[j] && j > m / 2){\n\t\ttag[n - m / 2 + 1] = 0;tag[j] = 1;\n\t\tse = max(se,get());\n\t\ttag[n - m / 2 + 1] = 1;tag[j] = 0;\n\t}\n\tj = n - m / 2 + 1;\n\twhile(x[n - m / 2] == x[j] && j + 1 <= n) j++;\n\tif(x[n - m / 2] != x[j] && j <= n){\n\t\ttag[n - m / 2] = 1;tag[j] = 0;\n\t\tse = max(se,get());\n\t\ttag[n - m / 2] = 0;tag[j] = 1;\n\t}\n\tprintf(\"%lld\\n\",se);\n\treturn 0;\n}\n```\n",
        "postTime": 1615977068,
        "uid": 49776,
        "name": "chenxinyang2006",
        "ccfLevel": 0,
        "title": "P6524 \u9898\u89e3"
    },
    {
        "content": "# P6524 \u300cWdoi-1\u300d\u6258\u5361\u9a6c\u514b \u9898\u89e3\n\n\n\u5148\u524d\u6392\u58f0\u660e\u4e00\u4e0b,\u849f\u84bb\u521a\u5b66OI\u6ca1\u591a\u4e45,\u800c\u4e14\u662f\u81ea\u5b66\u7684,\u6240\u4ee5\u5199\u7684\u53ef\u80fd\u6bd4\u8f83~~sb+\u7d2f\u8d58+\u8868\u8fbe\u4e0d\u6e05\u695a~~\n\n\u5927\u81f4\u601d\u8def\u548c\u4e0a\u9762\u90a3\u4f4ddalao\u7684\u5dee\u4e0d\u591a,\u6709\u4e2a\u9519\u8bef\u4e5f\u662f\u770b\u4e86\u4e0a\u9762\u90a3\u4f4ddalao\u7684\u9898\u89e3\u624d\u53d1\u73b0\u7684qwq\n\n## **\u5927\u81f4\u9898\u610f**\n\n\u5728**n**\u4e2a\u70b9\u4e2d\u9009**m**\u4e2a\u70b9\u8fdb\u884c**\u4e24\u4e24\u76f8\u8fde**,\u4e24\u4e2a\u70b9\u76f8\u8fde\u6240\u4ea7\u751f\u7684\u8d39\u7528\u4e3a\u4e24\u70b9\u8ddd\u79bb\u4e4b\u5dee\u7684\u7edd\u5bf9\u503c\n\u6c42**\u4e25\u683c\u7b2ck\u5927\u8d39\u7528\u503c(\u5373\u4e0d\u5b58\u5728\u5e76\u5217\u60c5\u51b5\u7684\u7b2c k \u5927\u65b9\u6848\uff09**\n\n## \u601d\u8def\n\u5148\u6765\u770b\u4e00\u4e0b\u8fd9\u4e2a\u6570\u636e\u8303\u56f4,**k<=2**\n\n\u4e5f\u5c31\u662f\u8bf4\u53ea\u6709**\u7b2c\u4e00\u5927**\u548c**\u7b2c\u4e8c\u5927**\u4e24\u79cd\u53ef\u80fd\n\n\u5148\u6765\u770b\u4e00\u4e0bk=1\u7684\u65f6\u5019\u7684\u60c5\u51b5:\n# k=1\n\n\u6211\u4eec\u5047\u8bbea1~a8\u662f\u9012\u589e\u7684,\u4e14n=8,m=6,k=1\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/8kfaz7oq.png)\n\n\u5148\u5047\u8bbe\u6211\u4eec\u9009\u53d6\u4e86$a_1$,$a_2$,$a_{3}$,$a_{6}$,$a_{7}$,$a_{8}$\u8fd9\u51e0\u4e2a\u6570\n\n\u603b\u8d39\u7528\u503c=$\\sum\\limits_{i=1,j=i+1}^{n-1,n}a_j-a_i$ \n\n\u901a\u8fc7\u89c2\u5bdf\u53ef\u4ee5\u53d1\u73b0\u6709\u4e9b\u503c\u662f\u53ef\u4ee5\u8fdb\u884c\u62fc\u63a5\u7684\n\n\u5982$a_1$~$a_8$=$a_1$~$a_3$+$a_3$~$a_8$=$a_1$~$a_6$+$a_6$~$a_8$=...\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d2lcgwxn.png)\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u8fd9\u4e2a\u62fc\u63a5\u770b\u6210\u662f\u5728\u8fd9\u4e00\u6bb5\u7684**\u54ea\u4e2a\u4f4d\u7f6e\u65ad\u5f00**\n\n\u8fd9\u6837\u4e00\u8f6e\u4e0b\u6765\u5c31\u76f8\u5f53\u4e8e\u628a\u5f00\u5934\u4e3a1\u548c\u7ed3\u5c3e\u4e3a8\u7684\u6240\u6709\u6bb5\u6570\u5168\u90e8\u52a0\u5b8c\u4e86 \u8fd9\u6837\u6211\u4eec\u5c31\u4e0d\u7528\u518d\u8003\u86511\u548c8\u4e86\n\u53ef\u4ee5\u5c06\u56fe\u7b80\u5316\u6210\u4e0b\u9762\u8fd9\u4e2a\u6837\u5b50\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7xhv1f3q.png)\n\n(\u5982\u56fe)\n\n\u540c\u6837\n$a_2$~$a_7$\u8fd9\u6bb5\u4e5f\u4e00\u6837,\u4ee5\u6b64\u7c7b\u63a8,\u76f4\u5230\u7f29\u5c0f\u5230\u4e0d\u80fd\u518d\u7f29\u7684\u65f6\u5019\u505c\u4e0b\u5c31\u53ef\u4ee5\u4e86\n\n(\u5927\u81f4\u8fc7\u7a0b)\n![](https://cdn.luogu.com.cn/upload/image_hosting/chk50fh5.png)\n\n\u6839\u636e\u65ad\u70b9\u6570\u91cf\u7684\u89c4\u5f8b\n\n\n\u4e0d\u96be\u63a8\u51fa\u8d39\u7528\u503c=$\\sum\\limits_{i=1}^\\frac{m}{2}(m-2(i-1)-1)*(a_{n-i+1}*a_i)$\n\n\u628a$(m-2(i-1)-1)*(a_{n-i+1}*a_i)$\u770b\u6210\u4e00\u4e2a**\u7ec4**\n\n\n\u6839\u636e\u8d2a\u5fc3\u539f\u5219\n\n\u5f53k=1\u65f6\n\n\u6bcf\u6b21\u53ea\u9700\u8981\u5206\u522b\u53d6\u539f\u6570\u5217\u6392\u5e8f\u540e**\u6700\u5927\u548c\u6700\u5c0f\u7684\u4e24\u4e2a\u503c\u5f62\u6210\u7684\u7ec4**,\u5373\u53ef\n\n\u5982\u56fe(n=8,m=6)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ycwc66og.png)\n\n\n\u8fd9\u6837k=1\u7684\u60c5\u51b5\u5c31\u505a\u5b8c\u4e86\n\n\u4e0b\u9762\u6765\u770bk=2\u7684\u60c5\u51b5\n\n# k=2\n\n\u4e5f\u5c31\u662f\u6b21\u5927\u7684\u8d39\u7528\u503c\n\n\u6839\u636e\u524d\u9762\u90a3\u4e2a\u5f0f\u5b50\n\n\u5f88\u660e\u663e\u53ef\u4ee5\u770b\u51fa,\u5982\u679c\u8981\u5f97\u5230\u6b21\u5c0f\u8d39\u7528\u503c,\u5c31\u8981\u53d6\u6539\u53d8\u6700\u9760\u8fd1\u4e2d\u95f4\u7684\u90a3\u4e2a\u70b9\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/i0frh7yc.png)\n(\u5de6\u53f3\u4e24\u79cd\u65b9\u5411)\n\n\n\u4f46\u4ece\u56fe\u4e2d\u7684\u6570\u636e\u660e\u663e\u53ef\u4ee5\u770b\u51fa,\u5f53\u4e2d\u95f4\u7684\u6240\u6709\u503c\u548c\u6700\u9760\u8fd1\u4e2d\u95f4\u7684\u90a3\u4e2a\u503c\u76f8\u7b49\u65f6,\u662f\u65e0\u6cd5\u6539\u53d8\u603b\u6570\u503c\u7684\n\n\u56e0\u6b64\u5728\u6700\u9760\u4e2d\u95f4\u7684\u90a3\u4e2a\u503c\u65e0\u6cd5\u5bf9\u603b\u6570\u503c\u8fdb\u884c\u6539\u53d8\u65f6\n\n\u5c31\u53ea\u80fd\u53bb\u8003\u8651\u6539\u53d8\u7b2c\u4e8c\u9760\u8fd1\u4e2d\u95f4\u7684\u503c\u4e86,\u4ee5\u6b64\u7c7b\u63a8\n\n\u5982\u679c\u4e0d\u7ba1\u600e\u4e48\u79fb\u52a8\u90fd\u65e0\u6cd5\u6539\u53d8\u603b\u6570\u503c\n\n\u5373\u5404\u9879\u5747\u76f8\u7b49\u6216n==m\u65f6\n\n\u8f93\u51fa-1\n\n\u8d34\u4e0a\u4e11\u964b\u4e0d\u582a\u7684\u4ee3\u7801\u548c\u5927\u81f4\u6d41\u7a0b\u56fe\n![](https://cdn.luogu.com.cn/upload/image_hosting/7h357q80.png)\n\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long n,m,k,a[300010],ans,ansL,ansR;\nint main(){\n\tcin>>n>>m>>k;\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%d\",&a[i]);\n\t}\n\tsort(a+1,a+n+1); \n\tfor(int i=1;i<=m/2;i++){\n\t\tans+=(m-2(i-1)-1)*(a[n-i+1]-a[i]);//\u6c42\u7b2c1\u5927\u548c\n\t}\n\t\n\tif(k==1) cout<<ans;\n\telse{\n\t\tif(n==m||a[1]==a[n]){\n\t\t\tcout<<-1;\n\t\t\treturn 0;\n\t\t}\n\t\tfor(int i=m/2+1;i<=n-m/2;i++){\n\t\t\t\n\t\t\tif(a[i]!=a[m/2]){\n\t\t\t\tansL=a[i]-a[m/2];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tif(i==n-m/2){\n\t\t\t\t\n\t\t\t\tfor (int j=m/2-1;j>=1;j--) {\n                    if (a[j]!=a[m/2]){\t\n                    \tansL=(m-2*j+1)*(a[m/2]-a[j]);//\u7b97\u5dee\u503c\n                    \tbreak;\n\t\t\t\t\t}\n                }\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor(int i=n-m/2;i>=m/2+1;i--){\n\n\t\t\tif(a[i]!=a[n-m/2+1]){\n\t\t\t\tansR=a[n-m/2+1]-a[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(i==m/2+1){\n\t\t\t\t\n\t\t\t\tfor(int j=m/2+2;j<=n;j++){\n\t\t\t\t\tif (a[j]!=a[n-m/2+1]){\n\t\t\t\t\t\t\n                    \tansR=(2*(j-n)+m-1)*(a[j]-a[n-m/2+1]);//\u5316\u7b80\u4e86\u4e00\u4e0b \n                    \tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcout<<max(ans-ansL,ans-ansR);\n\t}\n}\n```\n\n\n\n\n",
        "postTime": 1592629574,
        "uid": 244466,
        "name": "xcxc82",
        "ccfLevel": 0,
        "title": "P6524\u9898\u89e3"
    }
]