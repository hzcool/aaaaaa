[
    {
        "content": "\u6211\u4eec\u9047\u89c1\u7684\u666e\u901a\u7ebf\u6027\u57fa\uff08\u5982\u6a21\u677f\u9898\uff09\uff0c\u90fd\u662f\u5728\u6709\u51732\u8fdb\u5236\u4e0e\u5176\u5f02\u6216\u548c\u4e0a\u7528\u7684\n\n\u800c\u8fd9\u91cc\u7528\u7684\u662f\u5b9e\u6570\u7684\u7ebf\u6027\u57fa\uff0c\u5728\u5b66\u5b9e\u6570\u7684\u7ebf\u6027\u57fa\u4e4b\u524d\uff0c\u5fc5\u987b\u77e5\u9053\u9ad8\u65af\u6d88\u5143\u7684\u539f\u7406\uff08\u56e0\u4e3a\u6211\u5b66\u7ebf\u6027\u57fa\u7684\u65f6\u5019\u6ca1\u5b66\u9ad8\u65af\u6d88\u5143\uff01\uff01\uff01\uff09\n\n\u90a3\u4e48\u6211\u5148\u8bb2\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u7528\u9ad8\u65af\u6d88\u5143\u3002\n\n\n\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5982\u679c\u7269\u54c1aj\u53ef\u4ee5\u7528a1....aj-1\u7ec4\u5408\u800c\u51fa\u7684\u8bdd\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u516c\u5f0f\u5f97\u5230\n\n\tk1*a1.x1+k2*a2.x1+k3*a3.x1+...+kj-1*aj-1.x1=aj.x1\n    k1*a1.x2+k2*a2.x2+k3*a3.x2+...+kj-1*aj-1.x2=aj.x2\n    ......\n    k1*a1.xm+k2*a2.xm+k3.a3.xm+...+kj-1*aj-1.xm=aj.xm\n    \n\u6211\u4eec\u5c31\u662f\u8981\u6c42\u51fa\u662f\u5426\u6709\u8fd9\u6837\u7684\u4e00\u7ec4k\u4f7f\u5f97\u4e0a\u8ff0\u7b49\u5f0f\u6210\u7acb\n\n\u81f3\u4e8e\u6c42\u89e3\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u9ad8\u65af\u6d88\u5143\u3002\n\n\u4f46\u662f\u7531\u4e8e\u8fd9\u6837\u505a\u592a\u8fc7\u4e8e\u9ebb\u70e6\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u7ed3\u5408\u7ebf\u6027\u57fa\n\n\u5047\u5982\u6211\u4eec\u5c06\u6bcf\u4e2a\u7269\u54c1\u7684\u5c5e\u6027\u770b\u4f5c\u5411\u91cf\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u8981\u6c42\u7684\u5c31\u662f\u5176\u4e2d\u7684\u4e00\u7ec4\u57fa\uff08\u5982\u679c\u4e00\u4e2a\u7269\u54c1\u53ef\u4ee5\u901a\u8fc7\u5176\u4ed6\u7684\u7269\u54c1\u7ec4\u5408\u800c\u6210\uff0c\u90a3\u4e48\u5b83\u5c31\u4e0d\u80fd\u662f\u57fa\u7684\u4e00\u90e8\u5206\uff09\n\n\u6211\u4eec\u4e0a\u9762\u7684\u7b49\u5f0f\u8f6c\u5316\u4e00\u4e0b\u53d8\u6210\u4e0b\u9762\u7684\n\n\ta1.x1,a1.x2,a1.x3...a1.xm ........1\n    a2.x1,a2.x2,a2.x3...a2.xm ........2\n    a3.x1,a3.x2,a3.x3...a3.xm ........3\n    ...\n    aj.x1,aj.x2,aj.x3...aj.xm ........4\n    \n\u6211\u4eec\u5982\u679c\u7528\u9ad8\u65af\u6d88\u5143\uff0c\u7528\u7b2c\u4e00\u884c\u7684x1\u6d88\u53bb\u4e0b\u9762\u6240\u6709\u884c\u7684x1\n\n\u7136\u540e\u7528\u7b2c\u4e8c\u884c\u5269\u4e0b\u7684x2\uff08\u5982\u679cx2\u6ca1\u6709\u7684\u8bdd\u53ef\u4ee5\u6362\u4e00\u4e0b\u884c\uff09,\u7136\u540e\u628a\u5269\u4e0b\u7684\u884c\u7684x2\u6d88\u53bb\n\n.....\n\n\u5982\u679c\u6d88\u5230\u6700\u540e\uff0c\u5269\u4e0b\u7684j\u6240\u6709\u9879\u4e3a0\uff0c\u90a3\u4e48aj\u5c31\u53ef\u4ee5\u4e0d\u9009\u4e86\u3002\n\n\u591a\u4e48\u6109\u5feb\u7684\u662f\u7528\u9ad8\u65af\u6d88\u5143\u5c31\u884c\u4e86\uff01\n\n\u8fd9\u91cc\u5c31\u4e0d\u8bb2\u9ad8\u65af\u6d88\u5143\u4e86\n\n\u5982\u679c\u5728\u6d88\u8fc7\u5143\u540e\u6709\u4e00\u4e2a\u4f4d\u7f6e\u4e0d\u662f0\uff0c\u90a3\u4e48\u5b83\u5c31\u53ef\u4ee5\u4f5c\u4e3a\u7b2ci\u4f4d\u7684\u57fa\uff08\u53ef\u4ee5\u8fd9\u4e48\u8bf4\u5417\uff1f\uff09\n\n\u5269\u4e0b\u7684\u5c31\u662f\u8d2a\u5fc3\u4e86\n\n\u4e0b\u9762\u5c31\u662f\u4ee3\u7801\uff0c\u7ed3\u5408\u4e0a\u9762\u7406\u89e3\u4e00\u4e0b\n\n```\n#include<bits/stdc++.h>\n#define cmp 1e-5\nusing namespace std;\nstruct node{\n\tdouble a[510];\n\tint w;\n\tbool operator <(const node x) const{\n\t\treturn w<x.w;\n\t}\n};\nnode q[510];\nint p[510],n,m,ans,cnt;\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tscanf(\"%lfd\",&q[i].a[j]);\n\tfor(int i=1;i<=n;i++) scanf(\"%d\",&q[i].w);\n\tsort(q+1,q+n+1);\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(q[i].a[j]<=cmp&&q[i].a[j]>=-cmp) continue;\n\t\t\tif(!p[j]){\n\t\t\t\tp[j]=i;\n\t\t\t\tcnt++;ans+=q[i].w;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdouble alpha=q[i].a[j]/q[p[j]].a[j];\n\t\t\t\tfor(int k=j;k<=m;k++){\n\t\t\t\t\tq[i].a[k]-=alpha*q[p[j]].a[k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d %d\",cnt,ans);\n}\n```",
        "postTime": 1533798944,
        "uid": 71080,
        "name": "\u8363\u4e00\u9e23",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3265 \u3010[JLOI2015]\u88c5\u5907\u8d2d\u4e70\u3011"
    },
    {
        "content": "\u4eba\u8bdd\u9898\u610f\uff1a$n$ \u4e2a\u88c5\u5907\uff0c\u6bcf\u4e2a\u88c5\u5907 $m$ \u4e2a\u5c5e\u6027\uff0c\u6bcf\u4e2a\u88c5\u5907\u8fd8\u6709\u4e2a\u4ef7\u683c\u3002\u5982\u679c\u624b\u91cc\u6709\u7684\u88c5\u5907\u7684\u6bcf\u4e00\u9879\u5c5e\u6027\u4e3a\u5b83\u4eec\u5206\u914d\u7cfb\u6570\uff08\u5b9e\u6570\uff09\u540e\u53ef\u4ee5\u76f8\u52a0\u5f97\u5230\u67d0\u4ef6\u88c5\u5907\uff0c\u5219\u4e0d\u5fc5\u8981\u4e70\u8fd9\u4ef6\u88c5\u5907\u3002\u6c42\u6700\u591a\u88c5\u5907\u4e0b\u7684\u6700\u5c0f\u82b1\u8d39\u3002\n\n\n###\u7ebf\u6027\u76f8\u5173\n\n\u5728\u5411\u91cf\u7a7a\u95f4 $V$ \u7684\u4e00\u7ec4\u5411\u91cf $A$\uff0c\u5982\u679c\u5b58\u5728\u4e0d\u5168\u4e3a\u96f6\u7684\u6570 $k1,k2,\u00b7\u00b7\u00b7,km$ \uff0c\u4f7f\u5f97\n\n$k_{1}a_{1}+k_{2}a_{2}$+...+k\\_{m}a\\_{m}=b$\n\n\u5219\u79f0\u5411\u91cf\u7ec4A\u662f\u7ebf\u6027\u76f8\u5173\u7684\n\n\n###\u4eba\u8bdd\u7ebf\u6027\u76f8\u5173\n\n\u4e00\u7ec4\u6570\u636e\u4e2d\u6709\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u91cf\u53ef\u4ee5\u88ab\u5176\u4f59\u91cf\u8868\u793a\u3002\n\n\n\u6240\u4ee5\u9898\u9762\u663e\u7136\u5c31\u662f\u7ebf\u6027\u76f8\u5173\u7684\u5b9a\u4e49\uff0c\u76f4\u63a5\u4e0a\u5b9e\u6570\u4e0b\u7684\u7ebf\u6027\u57fa\u5373\u53ef\u3002\u8c8c\u4f3c\u5361\u7cbe\u5ea6\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <cmath>\n#include <queue>\n#include <cstdio>\n#include <iomanip>\n#include <cstdlib>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\n#define N 510\n#define eps 1e-6\n#define double long double\n#define ll long long\nusing namespace std;\ninline int read() \n{ \n    int x=0,f=1;char ch=getchar(); \n    while(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();} \n    while(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();} \n    return x*f; \n}\nstruct zgz\n{\n    int cost;\n    double x[N];\n}a[N];\nbool cmp(zgz a,zgz b)\n{return a.cost<b.cost;}\nint cnt,sum,p[N],n,m;\nint main()\n{\n    n=read(),m=read();\n    for(int i=1;i<=n;i++)\n    for(int j=1;j<=m;j++)\n    scanf(\"%Lf\",&a[i].x[j]);\n    for(int i=1;i<=n;i++)\n    a[i].cost=read();\n    sort(a+1,a+n+1,cmp);\n    for(int i=1;i<=n;i++)\n    for(int j=1;j<=m;j++)\n    if(fabs(a[i].x[j])>eps)\n    {\n        if(!p[j])\n        {\n            p[j]=i;\n            cnt++,sum+=a[i].cost;\n            break;\n        }\n        else\n        {\n            double t=a[i].x[j]/a[p[j]].x[j];\n            for(int k=j;k<=m;k++)\n            a[i].x[k]-=a[p[j]].x[k]*t;\n        }\n    }\n    printf(\"%d %d\\n\",cnt,sum);\n}\n```\n\u4e00\u4e9b\u5176\u4ed6\u7684\u7ebf\u6027\u57fa\u76f8\u5173\u9898\u76ee\u53ef\u4ee5\u5728\u4e2a\u4eba\u535a\u5ba2\u4e2d\u627e\u5230\uff1a\n\nhttp://www.zgz233.xyz/2017/07/05/bzoj-4004-jloi2015%E8%A3%85%E5%A4%87%E8%B4%AD%E4%B9%B0/\n",
        "postTime": 1505887689,
        "uid": 30459,
        "name": "\u6d88\u5931\u7684\u6d77\u5cb8\u7ebf",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3265 \u3010[JLOI2015]\u88c5\u5907\u8d2d\u4e70\u3011"
    },
    {
        "content": "\u5173\u4e8e\u7cbe\u5ea6\u95ee\u9898\n\n\u5728\u6a21\u8d28\u6570\u610f\u4e49\u4e0b\u8fdb\u884c\u9ad8\u65af\u6d88\u5143\u5373\u53ef\n\n\u9664\u6cd5\u6362\u6210\u9006\u5143\n\n\u867d\u7136\u5e38\u6570\u5927\u4e86\u4e9b\uff0c\u4f46\u5e76\u4e0d\u5f71\u54cd\u65f6\u95f4\u590d\u6742\u5ea6\n\n\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5982\u679c\u8d28\u6570\u9009\u5f97\u592a\u5c0f\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u4e00\u4e9b\u60c5\u51b5\u8bef\u5224\n\n\u6240\u4ee5\u6211\u4eec\u901a\u5e38\u9009\u62e9$p>\\max\\{v^2\\}$\u7684\u8d28\u6570\n\n```cpp\n#include\"cstdio\"\n#include\"cstring\"\n#include\"iostream\"\n#include\"algorithm\"\n#include\"cmath\"\nusing namespace std;\n\nconst int MAXN=505;\nconst int MOD=19260817;\n\nint n,m,cnt,sum;\nstruct rpg{\n\tint v[MAXN],val;\n}a[MAXN],lb[MAXN];\n\nbool cmp(rpg a,rpg b){return a.val<b.val;}\n\nint getinv(int x){return x==1?1:(long long)(MOD-MOD/x)*getinv(MOD%x)%MOD;}\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=1;j<=m;++j){\n\t\t\tscanf(\"%d\",&a[i].v[j]);\n\t\t}\n\t}for(int i=1;i<=n;++i) scanf(\"%d\",&a[i].val);\n\tsort(a+1,a+n+1,cmp);\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=1;j<=m;++j){\n\t\t\tif(!a[i].v[j]) continue;\n\t\t\tif(!lb[j].val){lb[j]=a[i];lb[j].val=1;sum+=a[i].val;++cnt;break;}\n\t\t\tint tmp=(long long)a[i].v[j]*getinv(lb[j].v[j])%MOD;\n\t\t\tfor(int k=m;k>=j;--k) a[i].v[k]-=(long long)lb[j].v[k]*tmp%MOD,a[i].v[k]%=MOD;\n\t\t}\n\t}printf(\"%d %d\\n\",cnt,sum);\n\treturn 0;\n}\n```",
        "postTime": 1550318986,
        "uid": 31293,
        "name": "Adove",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3265 \u3010[JLOI2015]\u88c5\u5907\u8d2d\u4e70\u3011"
    },
    {
        "content": "## \u771f\u00b7\u3010\u6a21\u677f\u3011\u00b7\u7ebf\u6027\u57fa\n#### \u4e00\u53e5\u8bdd\u9898\u610f:\u9009\u51fa\u6700\u591a\u5411\u91cf\uff0c\u4f7f\u5176\u7ebf\u6027\u65e0\u5173\u5e76\u4ef7\u503c\u6700\u5c0f\n~~\u5e94\u8be5\u505a\u5230\u8fd9\u4e00\u9898\u7684\u4eba\u90fd\u4f1a\u5199\u5f02\u6216\u7ebf\u6027\u57fa\u4e86\u5427\uff08\u9003~~\n\n\u770b\u5230\u8fd9\u9053\u9898\uff0c\u6211\u6700\u5148\u60f3\u5230\u7684\u5c31\u662f[P4570 [BJWC2011]\u5143\u7d20](https://www.luogu.com.cn/problem/P4570)\u3002\u8fd9\u4e24\u9053\u9898\u6709\u4e9b~~\u8c1c\u4e4b~~\u76f8\u4f3c\uff0c\u90fd\u662f\u8981\u6c42\u67d0\u79cd\u795e\u4ed9\u64cd\u4f5c\u540e\u7684\u6700\u503c\uff0c\u53ea\u4e0d\u8fc7\u628a\u6574\u6570\u6362\u6210\u4e86\u5411\u91cf\uff0c\u628a\u5f02\u6216\u64cd\u4f5c\u6362\u6210\u4e86\u4e24\u79cd\u8fd0\u7b97\uff1a\n\n- \u5411\u91cf\u52a0\u6cd5 $a+b$\uff0c$a$\u3001$b$\u5747\u4e3a\u5411\u91cf\n- \u6807\u91cf\u4e58\u6cd5 $a\\times k$\uff0c$a$\u4e3a\u5411\u91cf\uff0c$k$\u4e3a\u5b9e\u6570\n\n\u6700\u540e\uff0c\u4e00\u4e2a\u662f\u5e0c\u671b\u5f02\u6216\u548c\u4e0d\u4e3a$0$,\u53e6\u4e00\u4e2a\u4e3a\u5411\u91cf\u4e3a$0$\u3002~~\u662f\u4e0d\u662f\u5f88\u50cf\u5440~~\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u7c7b\u6bd4\u5f02\u6216\u7ebf\u6027\u57fa\u7684\u6784\u9020\u65b9\u6cd5\uff1a\n\n\u7528$p_i$\u8868\u793a\u7ebf\u6027\u57fa\u6570\u7ec4\u6700\u9ad8\u4f4d\u4e3a\u7b2c$i$\u4f4d\u7684\u5411\u91cf\n\n\u5728\u5f02\u6216\u7ebf\u6027\u57fa\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u628a\u6700\u9ad8\u4f4d\u6d88\u6389\uff1a\n```cpp\nvoid insert(long long x){\n\tfor(int i=max_wei-1;i>=0;i--){\n\t\tif(!((x>>i)&1))continue;\n\t\tif(!b[i]){b[i]=x;return;}\n\t\tx^=b[i];\n\t}\n}\n```\n\u5728\u5b9e\u6570\u7ebf\u6027\u57fa\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u52a0\u548c\u4e58\u628a\u6700\u9ad8\u4f4d\u6d88\u6389\uff1a\n$$c'=c-\\frac {c_i}{(p_i)_i} \\times p_i$$\n\n\u5f88\u663e\u7136\uff0c\u7ecf\u8fc7\u8fd9\u6837\u7684\u64cd\u4f5c\uff0c\u6700\u9ad8\u4f4d\u4ec0\u4e48\u7684\u5c31\u6ca1\u4e86\n\n\u4e8e\u662f\uff0c\u5c31\u53ef\u4ee5\u7167\u7740**\u5f02\u6216\u7ebf\u6027\u57fa**\u628a\u6a21\u677f\u6253\u51fa\u6765\u4e86\n```cpp\nvoid insert(Vector c){\n\tfor(int i=m-1;i>=0;i--) {\n\t\tif(c[i]==0)continue;\n\t\tif(b[i][i]==0){b[i]=c;return true;}\n\t\tlong double t=c.a[i]/b[i][i];\n\t\tc=c-b[i]*t;\n\t}\n}\n```\n\u4e8e\u662f\uff0c\u6211\u4eec\u628a\u88c5\u5907\u6309\u4ef7\u503c\u5347\u5e8f\u6392\u4e2a\u5e8f\uff0c\u518d\u4f9d\u6b21\u63d2\u5165\u7ebf\u6027\u57fa\u5c31OK\u4e86\n\n\u4f17\u6240\u5468\u77e5\uff0c**C++** \u5bf9\u5b9e\u6570\u5341\u5206\u4e0d\u53cb\u597d ~~\u4e00\u4e0d\u5c0f\u5fc3\u5c31\u7206\u7cbe\u5ea6~~\uff0c\u56e0\u6b64\u8fd0\u7b97\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u5c0f\u5fc3\uff0c\u6bd4\u5982\uff1a\n$$c'=\\frac {(p_i)_i}{c_i} \\times c- p_i$$\n\n\u5728\u6570\u5b66\u7684\u89d2\u5ea6\u4e0a\uff0c\u65e0\u7591\u662f\u6b63\u786e\u7684\uff0c\u4f46\u5728\u5199\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u7206\n\n#### \u4e0aDM\n```cpp\n#pragma optimize(2)\n#include<bits/stdc++.h>\nusing namespace std;\ntemplate<typename T>\ninline void read(T &x){\n\tx=0;char c=getchar();bool f=false;\n\tfor(;!isdigit(c);c=getchar())f!=c=='-';\n\tfor(;isdigit(c);c=getchar())x=x*10+c-'0';\n\tif(f)x=-x;\n}\ntemplate<typename T ,typename ...Arg>\ninline void read(T &x,Arg &...args){\n\tread(x);read(args...);\n}\ntemplate<typename T>\ninline void write(T x){\n\tif(x<0)putchar('-'),x=-x;\n\tif(x>=10)write(x/10);\n\tputchar(x%10+'0');\n}\nconst int max_wei=700;\nconst long double eps=1e-5; \nint n,m,num=0,cost=0;;\ntemplate<class T>\nstruct Vector{\n\tT a[max_wei];\n\tvoid init(){for(int i=0;i<m;i++)a[i]=0;}\n\tVector operator+(const Vector b)const{\n\t\tVector<T> c;c.init();for(int i=0;i<m;i++)\n\t\tc.a[i]=a[i]+b.a[i];return c;\n\t}\n\tVector operator-(const Vector b)const{\n\t\tVector<T> c;c.init();for(int i=0;i<m;i++)\n\t\tc.a[i]=a[i]-b.a[i];return c;\n\t}\n\tVector operator*(T x)const{\n\t\tVector<T> c;c.init();for(int i=0;i<m;i++)\n\t\tc.a[i]=a[i]*x;return c;\n\t}\n};\nstruct Leaner_Basis{\n\tVector<long double>b[max_wei];\n\tbool insert(Vector<long double> c){//\u5c06\u5411\u91cfc\u63d2\u5165\u7ebf\u6027\u57fa \u5e76\u8fd4\u56de\u80fd\u5426\u63d2\u5165 \n\t\tfor(int i=m-1;i>=0;i--) {\n\t\t\tif(abs(c.a[i])<eps)continue;\n\t\t\tif(abs(b[i].a[i])<eps){b[i]=c;return true;}\n\t\t\tlong double t=c.a[i]/b[i].a[i];\n\t\t\tc=c-b[i]*t;\n\t\t} \n\t\treturn false;\n\t}\n}B;\nstruct node{\n\tint cost;\n\tVector<long double>c;\n\tbool operator<(const node b)const{\n\treturn cost<b.cost;}\n}a[500+10];\nsigned main(){\n\t//freopen(\"buy.in\",\"r\",stdin);\n\t//freopen(\"buy.out\",\"w\",stdout);\n\tread(n,m);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=0;j<m;j++)\n\t\t\tread(a[i].c.a[j]);\n\tfor(int i=1;i<=n;i++)\n\t\tread(a[i].cost);\n\tsort(a+1,a+1+n);\n\tfor(int i=1;i<=n;i++)\n\t\tif(B.insert(a[i].c))\n\t\t\tnum++,cost+=a[i].cost;\n\tprintf(\"%d %d\",num,cost);\n}\n```\n",
        "postTime": 1591709792,
        "uid": 174304,
        "name": "jun\u5934\u5409\u5409",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P3265 \u3010[JLOI2015]\u88c5\u5907\u8d2d\u4e70\u3011"
    },
    {
        "content": "\u4e00\u9053\u771f\u6b63\u610f\u4e49\u4e0b\u7684**\u7ebf\u6027\u57fa**\u88f8\u9898\n\n\u5e73\u65f6\u6211\u4eec\u8bf4\u7684\u5173\u4e8e\u7ebf\u6027\u57fa\u5728OI\u4e2d\u4e3b\u8981\u9488\u5bf9\u4e8c\u8fdb\u5236\u4e0b\u7684\uff0c\u800c\u8fd9\u91cc\u7684\u7ebf\u6027\u57fa\u56de\u5f52\u4e86\u672c\u6e90\uff0c\u662f\u5173\u4e8e\u5411\u91cf\u7684\u7ebf\u6027\u57fa\n\n\u6211\u4eec\u8003\u8651\u4e8c\u8fdb\u5236\u4e0b\u7ebf\u6027\u57fa\u7684\u7b97\u6cd5\uff0c\u5b83\u4e3b\u8981\u5c31\u662f\u5c06\u6570\u5206\u89e3\u6210\u8bb8\u591a\u4e2a\u4e8c\u8fdb\u5236\u4f4d\n\n\u7136\u540e\u5728\u6bcf\u4e00\u4f4d\u7684\u653e\u5165\u5bf9\u5e94\u7684\u6570\u6765\u6d88\u53bb\u540e\u9762\u7684\u6570\uff0c\u4e3b\u8981\u7528\u7684\u662f**\u5f02\u6216**\n\n\u800c\u5173\u4e8e\u5411\u91cf\u7684\u5462\uff0c\u6211\u4eec\u8003\u8651\u5728\u5411\u91cf\u7684\u6bcf\u4e00\u4f4d\u653e\u5165\u5bf9\u5e94\u7684\u5411\u91cf\uff0c\u7136\u540e\u7528\u5f53\u524d\u7684\u8fd9\u4e00\u4f4d\u53bb\u6d88\u53bb\u4e4b\u540e\u7684\u8fd9\u4e00\u4f4d\n\n\u90a3\u4e48\u5177\u4f53\u600e\u4e48\u64cd\u4f5c\u5462\uff0c\u5176\u5b9e\u5c31\u662f\u4e2a**\u9ad8\u65af\u6d88\u5143**\u7684\u8fc7\u7a0b\uff0c\u56e0\u6b64\u6211\u4eec\u5c31\u7c7b\u6bd4\u5f97\u51fa\u4e86\u4e00\u822c\u7ebf\u6027\u57fa\u7684\u6784\u9020\u65b9\u5f0f\n\n\u7136\u540e\u5bf9\u4e8e\u8fd9\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u60f3\u5230**\u8d2a\u5fc3**\u5730\u628a\u88c5\u5907\u6309\u4ef7\u503c\u4ece\u5c0f\u5230\u5927\u52a0\u5165\uff0c\u56e0\u4e3a\u82e5\u5b58\u5728\u4e00\u7ec4\u5411\u91cf\u7ebf\u6027\u76f8\u5173\uff0c\u90a3\u4e48\u80af\u5b9a\u662f\u5220\u53bb\u8f83\u5927\u7684\u90a3\u4e2a\u624d\u4f1a\u66f4\u4f18\n\n\u56e0\u6b64\u8fd9\u9898\u5c31\u505a\u5b8c\u4e86\uff0c\u6ce8\u610f\u7cbe\u5ea6\u4f1a\u6709\u70b9\u5361\uff0c\u5efa\u8bae\u5f00```long double```\n\nCODE\n\n```cpp\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\n#define RI register int\n#define CI const int&\nusing namespace std;\nconst int N=505;\nconst long double EPS=1e-6;\nstruct data\n{\n    long double mat[N]; int val;\n    inline long double& operator [] (CI x) { return mat[x]; }\n    friend inline bool operator < (const data& A,const data& B)\n    {\n        return A.val<B.val;\n    }\n}a[N]; int n,m,p[N],ans1,ans2;\nint main()\n{\n    RI i,j,k; for (scanf(\"%d%d\",&n,&m),i=1;i<=n;++i)\n    for (j=1;j<=m;++j) scanf(\"%Lf\",&a[i][j]);\n    for (i=1;i<=n;++i) scanf(\"%d\",&a[i].val);\n    for (sort(a+1,a+n+1),i=1;i<=n;++i) for (j=1;j<=m;++j)\n    {\n        if (fabs(a[i][j])<EPS) continue;\n        if (!p[j]) { p[j]=i; ++ans1; ans2+=a[i].val; break; }\n        double dv=1.0*a[i][j]/a[p[j]][j];\n        for (k=j;k<=m;++k) a[i][k]-=dv*a[p[j]][k];\n    }\n    return printf(\"%d %d\",ans1,ans2),0;\n}\n```\n\n",
        "postTime": 1561901819,
        "uid": 41698,
        "name": "hl666",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3265 \u3010[JLOI2015]\u88c5\u5907\u8d2d\u4e70\u3011"
    },
    {
        "content": "**~~\u672c\u6587\u540c\u6b65\u53d1\u8868\u4e8e\u7a9d\u7684\u4e2a\u4eba\u535a\u5ba2~~\u548c\u90a3\u8fb9\u6587\u7ae0\u7ed3\u6784\u5dee\u522b\u592a\u5927\u4e86(\u56e0\u4e3a\u90a3\u8fb9\u4f1a\u6709\u5355\u72ec\u4e00\u7bc7\u8bb2\u62df\u9635)\u6240\u4ee5\u53ea\u653e\u4e00\u4e2a[\u5230\u4e3b\u9875\u7684\u94fe\u63a5](http://39.107.58.77/)\u5c31\u662f\u4e86.**\n\n## \u5b9a\u4e49\n\n### \u62df\u9635\n\n\u5b9a\u4e49\u4e00\u4e2a\u62df\u9635\u662f\u4e8c\u5143\u7ec4$(S,L)$\u6ee1\u8db3\n\n- $S$\u662f\u4e00\u4e2a**\u6709\u9650\u96c6**;\n- $L$\u662f\u4e00\u4e2a**\u975e\u7a7a\u6709\u9650\u96c6**,\u5176\u5143\u7d20\u662f$S$\u7684\u90e8\u5206\u5b50\u96c6;\n- \u9057\u4f20\u6027:$\\forall A\\subseteq B\\in L$\u4e00\u5b9a\u6709$A\\in L$;\n- \u4ea4\u6362\u6027:$\\forall A,B\\in L,|A|<|B|$\u90fd\u6709$\\exists x\\in B-A$(\u5373\u5b58\u5728$x\\in B$\u4f46$x\\not\\in A$)\u6ee1\u8db3$A\\cup\\{x\\}\\in L$.\n\n#### \u4e3e\u4f8b\n\n\u6bd4\u5982,$(\\{1,2,3,4\\},\\{\\varnothing,\\{1\\},\\{1,2\\},\\{1,2,3\\},\\{1,3\\},\\{2\\},\\{2,3\\},\\{3\\}\\})$\u662f\u4e00\u4e2a\u62df\u9635,\u56e0\u4e3a\n\n- \u663e\u7136\u6ee1\u8db3\u524d\u4e24\u6761\u6027\u8d28;\n- \u89c2\u5bdf\u53d1\u73b0\u6ee1\u8db3\u9057\u4f20\u6027,\u6bd4\u5982\u5bf9\u4e8e$\\{1,3\\}\\in L$\u7684\u5b50\u96c6$\\varnothing$\u548c$\\{1\\}$\u548c$\\{3\\}$\u4e5f\u90fd\u5728$L$\u4e2d;\n- \u89c2\u5bdf\u53d1\u73b0\u6ee1\u8db3\u4ea4\u6362\u6027,\u6bd4\u5982\u5bf9\u4e8e$A=\\{1,3\\}$\u4e14$B=\\{1,2,3\\}$\u663e\u7136\u53ef\u4ee5\u627e\u5230$x=2$\u6ee1\u8db3$x\\in B-A$\u4e14$A\\cup\\{x\\}=\\{1,2,3\\}\\in L$.\n\n\u52a0\u6df1\u4e00\u4e0b\u7406\u89e3,$L$\u662f$S$\u5b50\u96c6\u7684\u96c6\u5408(\u4e5f\u5c31\u662f\u5143\u7d20\u662f\u96c6\u5408\u7684\u96c6\u5408),\u5728\u9057\u4f20\u6027\u4e2d\u7684$A$\u548c$B$\u4e5f\u90fd\u662f$S$\u5b50\u96c6\u7684\u96c6\u5408;\u800c\u5728\u4ea4\u6362\u6027\u4e2d$A$\u548c$B$\u662f$S$\u7684\u5b50\u96c6(\u4e5f\u5c31\u662f\u5176\u4e2d\u7684\u5143\u7d20\u5c31\u662f$S$\u4e2d\u7684\u5143\u7d20).\u6240\u4ee5\u6ce8\u610f\u89c2\u5bdf\u5927\u62ec\u53f7\u6570\u91cf.\n\n### \u72ec\u7acb\u96c6\n\n- \u5bf9\u4e8e\u96c6\u5408$U\\subseteq S$\u4e14$U\\in L$\u79f0$U$\u4e3a**\u72ec\u7acb\u96c6**;\n- \u5bf9\u4e8e\u72ec\u7acb\u96c6$U$\u5b58\u5728$x\\in S$\u6ee1\u8db3$x\\not\\in U$\u4e14$U\\cup\\{x\\}\\in L$\u5219\u79f0$U$\u662f**\u53ef\u6269\u5c55\u7684**,\u79f0$x$\u662f$U$\u7684\u4e00\u4e2a\u6269\u5c55;\n- \u79f0\u4e00\u4e2a\u4e0d\u53ef\u6269\u5c55\u7684\u72ec\u7acb\u96c6$U$\u4e3a\u6700\u5927\u72ec\u7acb\u96c6;\n\n\u53ef\u77e5\u62df\u9635\u6700\u5927\u72ec\u7acb\u96c6\u5927\u5c0f\u76f8\u540c.\u8bc1\u660e:\u8bbe$A$\u4e0e$B$\u662f\u4e24\u4e2a\u6700\u5927\u72ec\u7acb\u96c6,\u4e0d\u59a8\u8bbe$|A|<|B|$\u7531\u62df\u9635\u7684\u4ea4\u6362\u6027\u6709$A$\u4e00\u5b9a\u662f\u53ef\u6269\u5c55\u7684,\u4e0d\u662f\u6700\u5927\u72ec\u7acb\u96c6,\u4e0e\u5047\u8bbe\u77db\u76fe.\n\n### \u52a0\u6743\u62df\u9635\n\n\u52a0\u5165\u4e00\u4e2a\u6743\u91cd\u51fd\u6570$w(a)>0$\u8868\u793a$a$\u5143\u7d20\u7684\u6743\u91cd,\u5b9a\u4e49\u96c6\u5408\u6743\u91cd\u4e3a$w(A)=\\sum_{a\\in A}w(a)$.\u73b0\u5728\u6211\u4eec\u5e0c\u671b\u5bf9\u4e8e\u8fd9\u6837\u7684\u52a0\u6743\u62df\u9635\u6c42\u51fa\u4e00\u4e2a\u72ec\u7acb\u96c6$A$\u6ee1\u8db3$w(A)$\u6700\u5927\u5316,\u79f0$A$\u4e3a\u6700\u4f18\u5b50\u96c6.\n\n\u5bb9\u6613\u53d1\u73b0$A$\u4e00\u5b9a\u662f\u6700\u5927\u72ec\u7acb\u96c6(\u56e0\u4e3a$w(a)$\u662f\u6b63\u6570,\u6545\u663e\u7136\u80fd\u591a\u52a0\u8fdb\u6765\u4e00\u4e2a\u4f1a\u66f4\u4f18).sh\n\n## \u62df\u9635\u8d2a\u5fc3\n\n\u62df\u9635\u8d2a\u5fc3\u5c31\u662f\u8981\u6c42\u51fa\u6700\u4f18\u5b50\u96c6.\n\n### \u7b56\u7565\n\n```\n/*\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u6700\u4f18\u5b50\u96c6*/\nfunction set solve(M,w) /*\u62df\u9635\u548c\u6743\u91cd\u51fd\u6570*/\n\tA\u2190\u7a7a\u96c6\n\t\u5c06M.S\u6309\u6743\u91cd\u6392\u5e8f\n\tfor x\u5c5e\u4e8eM.S do\n\t\tif A\u5e76\u4e0a{x}\u5c5e\u4e8eM.L\n\t\t\tA\u2190A\u5e76\u4e0a{x}\n\t\tend if\n\tend for\n\treturn A\nend function\n```\n\n### \u6b63\u786e\u6027\u8bc1\u660e\n\n\u5bf9\u4e8e\u62df\u9635$M=(S,L)$\u82e5$A$\u4e3a\u5176\u6700\u4f18\u5b50\u96c6$T$\u7684\u5b50\u96c6,\u5143\u7d20$a$\u662f\u96c6\u5408$\\{x|A\\cup\\{x\\}\\in L\\}$\u4e2d\u7684\u6743\u91cd\u6700\u5927\u5143\u7d20,\u5219$A'=A\\cup\\{a\\}\\subseteq T$.\n\n\u8bc1\u660e:\u5047\u8bbe$A'\\not\\in T$\u5219\u4ee4$T'=T$.\u7531\u77e9\u9635\u7684\u4ea4\u6362\u6027\u77e5\u82e5$|T|>|T'|$\u4e00\u5b9a\u5b58\u5728$t\\in T-T'$\u6ee1\u8db3$T'\\cup\\{t\\}\\in L$.\u6240\u4ee5\u4e0d\u65ad\u4ee4$T'\\leftarrow T'\\cup\\{t\\}$\u76f4\u5230$|T|=|T'|$\u4e14\u6b64\u65f6\u5e94\u6709$T=(T'-\\{a\\})\\cup\\{t\\}$.\u4f46\u662f\u7531\u6761\u4ef6$w(a)\\ge w(t)$\u63a8\u51fa$w(T)=w(T')-w(a)+w(t)\\le w(T')$\u8bf4\u660e$T$\u4e0d\u662f\u6700\u4f18\u5b50\u96c6,\u4e0e\u5047\u8bbe\u77db\u76fe.\n\n\u8fd9\u6837\u5c31\u8bc1\u660e\u4e86\u6bcf\u4e00\u6b21\u5e76\u4e0a\u5269\u4e0b\u5143\u7d20\u4e2d\u6700\u5927\u7684\u4e00\u5b9a\u662f\u6700\u4f18\u89e3,\u5e76\u4e14\u6700\u5f00\u59cb$A=\\varnothing$\u663e\u7136\u5c5e\u4e8e$T$,\u6545\u8d2a\u5fc3\u7b56\u7565\u6b63\u786e.\n\n### \u590d\u6742\u5ea6\u5206\u6790\n\n\u5047\u8bbe\u603b\u5171\u6709$n$\u4e2a\u5143\u7d20,\u4e00\u4e2a\u6392\u5e8f$n\\lg n$,\u4e00\u4e2a\u8d2a\u5fc3$n$,\u5224\u65ad\u72ec\u7acb\u96c6$t$,\u52a0\u8d77\u6765\u5c31\u662f$\\Theta(n\\lg n+nt)$,\u5177\u4f53\u5230\u8fd9\u9053\u9898\u5c31\u662f$n^3$(\u5411\u91cf\u7ef4\u5ea6\u540c\u9636).\n\n## \u6784\u9020\u62df\u9635\n\n\u63a5\u4e0b\u6765\u5c31\u662f\u8981\u9488\u5bf9\u8fd9\u9053\u9898\u6784\u9020\u4e00\u4e2a\u62df\u9635\u6765\u8fdb\u884c\u8d2a\u5fc3.\n\n\u8bbe$S$\u4e3a\u5168\u90e8\u88c5\u5907\u7684\u96c6\u5408,$L$\u4e3a\u6ee1\u8db3\u6761\u4ef6\u7684\u5b50\u96c6(\u5176\u4e2d\u88c5\u5907\u5168\u90e8\u5411\u91cf\u65e0\u5173)\u7684\u96c6\u5408.\u8bc1\u660e$(S,L)$\u662f\u4e00\u4e2a\u62df\u9635\u56e0\u4e3a\u5176\u6ee1\u8db3\n\n- \u524d\u4e24\u6761\u6027\u8d28,\u663e\u7136;\n- \u9057\u4f20\u6027:\u5982\u679c\u66f4\u591a\u7684\u88c5\u5907\u5411\u91cf\u65e0\u5173,\u5219\u4ece\u4e2d\u53bb\u6389\u4e00\u90e8\u5206\u5269\u4e0b\u7684\u663e\u7136\u4ecd\u7136\u5411\u91cf\u65e0\u5173;\n- \u4ea4\u6362\u6027:\u5bf9\u4e8e$A,B\\in L$\u4e14$|A|<|B|$\u5047\u8bbe\u4e0d\u5b58\u5728$x\\in B-A$\u5219\u8868\u793a$B$\u4e2d\u7684\u5143\u7d20\u90fd\u53ef\u4ee5\u7528$A$\u4e2d\u7684\u5143\u7d20\u8868\u793a\u51fa\u6765,\u4f46\u53c8\u56e0\u4e3a$|A|<|B|$\u4e14$A$\u548c$B$\u5f53\u4e2d\u5143\u7d20\u5206\u522b\u7ebf\u6027\u65e0\u5173,\u63a8\u51fa\u77db\u76fe.\n\n\u6784\u9020\u6743\u91cd\u51fd\u6570$w(i)=x-c_i$,\u5176\u4e2d$x$\u6ee1\u8db3$x>\\max\\{c_i\\}$.\u8fd9\u4e2a$w$\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u6743\u91cd\u51fd\u6570\u56e0\u4e3a\u663e\u7136\u4e3a\u6b63,\u6700\u540e\u5f97\u5230\u7684\u6700\u4f18\u5b50\u96c6$A$\u7684\u6743\u91cd$w(A)=|A|x-\\sum_{a\\in A}w(a)$.\u6700\u5927\u5316$w(A)$\u5c31\u662f\u8981\u6700\u5c0f\u5316$\\sum_{a\\in A}c_a$,\u7b26\u5408\u9898\u8bbe.\n\n\u8fd9\u6837\u5c31\u8bc1\u660e\u4e86\u8d2a\u5fc3\u7684\u6b63\u786e\u6027,\u81f3\u4e8e\u5177\u4f53\u5b9e\u73b0\u5176\u5b83\u9898\u89e3\u5df2\u7ecf\u8bf4\u5f97\u5f88\u6e05\u695a\u4e86\u8fd9\u91cc\u5c31\u4e0d\u518d\u8d58\u8ff0,\u4ec5\u7ed9\u51fa\u4ee3\u7801\u4ee5\u4f9b\u53c2\u8003.\n\n## Code\n\n```cpp\n#include <algorithm>\n#include <cstdio>\nusing namespace std;\n\nconst double eps=0.0001;\nstruct bxt {\n\tint c; double a[505];\n\tbool operator <(const bxt &op) const {\n\t\treturn c<op.c;\n\t}\n};\n\nint main() {\n\tstatic int b[505];\n\tstatic bxt z[505];\n\tint n,m,p=0,q=0; double w;\n\tscanf(\"%d%d\",&n,&m);\n\tfor (int i=0;i<n;++i) for (int j=0;j<m;++j)\n\t\tscanf(\"%lf\",&z[i].a[j]);\n\tfor (int i=0;i<n;++i) scanf(\"%d\",&z[i].c);\n\tsort(z,z+n);\n\tfor (int i=0;i<n;++i) for (int j=0;j<m;++j) {\n\t\tif (z[i].a[j]>-eps&&z[i].a[j]<eps) continue;\n\t\telse if (!b[j]) {b[j]=i+1; ++p; q+=z[i].c; break;}\n\t\telse {\n\t\t\tw=z[i].a[j]/z[b[j]-1].a[j];\n\t\t\tfor (int k=j;k<m;++k)\n\t\t\t\tz[i].a[k]-=w*z[b[j]-1].a[k];\n\t\t}\n\t}\n\tprintf(\"%d %d\",p,q);\n\treturn 0;\n}\n```",
        "postTime": 1595552257,
        "uid": 54189,
        "name": "konjacq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3265 \u3010[JLOI2015]\u88c5\u5907\u8d2d\u4e70\u3011"
    },
    {
        "content": "## P3265 - \u88c5\u5907\u8d2d\u4e70\n\n\u7ed9 $n$ \u4e2a $m$ \u7ef4\u5411\u91cf\uff0c\u6bcf\u4e2a\u5411\u91cf\u6709\u4e00\u4e2a\u6743\u503c\uff0c\u6c42\u6700\u591a\u53ef\u4ee5\u9009\u591a\u5c11\u4e2a\u7ebf\u6027\u65e0\u5173\u5411\u91cf\uff0c\u4ee5\u53ca\u6781\u5927\u7ebf\u6027\u65e0\u5173\u7ec4\u7684\u6743\u503c\u548c\u6700\u5c0f\u662f\u591a\u5c11\u3002\n\n\u521d\u7b49\u884c\u53d8\u6362\u4e0d\u6539\u53d8\u5217\u7684\u7ebf\u6027\u76f8\u5173\u6027\uff0c\u8fd9\u662f\u597d\u7684\u3002\u8003\u8651\u89c2\u5bdf\u9ad8\u65af\u6d88\u5143\u4e4b\u540e\u7684\u5411\u91cf\u4eec\uff0c\u662f\u7b49\u4ef7\u7684\u3002\n\n\u6ce8\u610f\u5230\u9ad8\u65af\u6d88\u5143\u5929\u7136\u5730\u9009\u62e9\u5217\u53f7\u5b57\u5178\u5e8f\u6700\u5c0f\u7684\u4e00\u7ec4\u57fa\u4f5c\u4e3a\u4e3b\u5143\u5217\u3002\u4e00\u4e2a\u731c\u60f3\u662f\uff0c\u5c06\u5217\u4eec\u6309\u7167 cost \u6392\u5e8f\uff0c\u90a3\u4e48\u9ad8\u65af\u6d88\u5143\u9009\u62e9\u7684\u662f\u6743\u503c\u548c\u6700\u5c0f\u7684\u57fa\u3002\u8fd9\u770b\u8d77\u6765\u662f\u663e\u7136\u7684\uff0c\u5b9e\u5219\u4e0d\u663e\u7136\uff0c\u56e0\u4e3a\u5b57\u5178\u5e8f\u6700\u5c0f\u4e0d\u4ee3\u8868\u6743\u503c\u548c\u6700\u5c0f\uff0c\u53ef\u80fd\u51fa\u73b0 $a_1+a_4>a_2+a_3$ \u7684\u60c5\u51b5\u3002\u8003\u8651\u8bc1\u660e\u4e00\u4e0b\u6b64\u5904\u5b57\u5178\u5e8f\u6700\u5c0f\u786e\u5b9e\u662f\u603b\u6743\u503c\u6700\u5c0f\u3002\n\n\u89c2\u5bdf\u884c\u7b49\u4ef7\u7b80\u5316\u9636\u68af\u578b\u7684\u5217\u4eec\uff0c\u8bbe\u4e3b\u5143\u5217\u5e8f\u53f7\u662f $i_{1\\sim s}$\uff0c\u6709 $\\pmb a_{i_j}=\\pmb e_j$\uff0c\u4ee4 $i_{s+1}=n+1$\uff0c\u90a3\u4e48\u5c06\u5217\u5206\u4e3a $\\{[i_j,i_{j+1})\\}$ \u8fd9\u4e9b\u8fde\u7eed\u6bb5\uff0c\u90a3\u4e48\u7b2c $j$ \u6bb5\u662f\u53ea\u6709\u524d $j$ \u884c\u624d\u53ef\u80fd\u975e\u96f6\u3002\u90a3\u4e48\u524d $j$ \u6bb5\u7ec4\u6210\u7684\u5411\u91cf\u7ec4\u7684\u79e9\u663e\u7136\u4e3a $j$\uff0c$j+1$ \u884c\u4e0b\u9762\u5168\u662f $0$ \u4e86\u90fd\uff0c\u4e8e\u662f\u524d $j$ \u6bb5\u6700\u591a\u80fd\u9009\u51fa $j$ \u4e2a\u7ebf\u6027\u65e0\u5173\u5411\u91cf\uff0c\u90a3\u4e48\u9009\u51fa\u7684\u7b2c $j$ \u4e2a\u7684\u4f4d\u7f6e\u80af\u5b9a\u4e0d\u5728 $i_j$ \u524d\u9762\uff08\u4e0d\u7136\u4e0d\u53ef\u80fd\u5b9e\u73b0\u5728\u524d $j-1$ \u6bb5\u8fd9\u4e2a $\\mathrm{rank}=j-1$ \u7684\u5411\u91cf\u7ec4\u91cc\u9762\u9009 $j$ \u4e2a\u7ebf\u6027\u65e0\u5173\u5411\u91cf\uff09\uff0c\u90a3\u4e48\u6b63\u786e\u6027\u5c31\u663e\u7136\u4e86\u5427\uff08\u56e0\u4e3a\u6bcf\u4e2a\u4f4d\u7f6e\u90fd\u9009\u4e86\u7406\u8bba\u6700\u524d\u4f4d\u7f6e\uff09\u3002\n\n",
        "postTime": 1627883614,
        "uid": 138400,
        "name": "chenxia25",
        "ccfLevel": 9,
        "title": "p3265"
    },
    {
        "content": "&emsp;&emsp;[\u6233\u8fd9\u91cc](https://www.cnblogs.com/crashed/p/12742251.html)\u83b7\u5f97\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c\u3002\n# \u9898\u76ee\n&emsp;&emsp;[\u70b9\u8fd9\u91cc](https://www.luogu.com.cn/problem/P3265)\u770b\u9898\u76ee\u3002  \n# \u5206\u6790\n&emsp;&emsp;\u53ef\u4ee5\u53d1\u73b0\uff0c\u4e00\u7ec4\u88c5\u5907\u53ef\u4ee5\u540c\u65f6\u8d2d\u4e70\u7684\u6761\u4ef6\u662f**\u8fd9\u7ec4\u88c5\u5907\u7ebf\u6027\u65e0\u5173**\u3002  \n&emsp;&emsp;\u9996\u5148\u4e0d\u96be\u53d1\u73b0\u4e00\u4e2a\u62df\u9635$M=<S,I>$\uff0c\u5176\u4e2d\uff1a  \n&emsp;&emsp;$S$\u4e3a\u88c5\u5907\u7684\u96c6\u5408\uff1b\u5982\u679c$A\\subseteq S$\uff0c\u90a3\u4e48$A\\in I$\u5f53\u4e14\u4ec5\u5f53$A$\u5185\u7684\u5143\u7d20\u7ebf\u6027\u65e0\u5173\u3002  \n&emsp;&emsp;\u663e\u7136$M$\u662f\u4e00\u4e2a\u5b50\u96c6\u7cfb\u7edf\uff0c\u8003\u8651\u4e00\u4e0b\u5b83\u7684\u4ea4\u6362\u6027\uff1a  \n&emsp;&emsp;\u5bf9\u4e8e$A,B\\in I$\uff0c\u5982\u679c$|A|<|B|$\uff0c\u6211\u4eec\u9700\u8981\u8bc1\u660e$\\exists x\\in B-A, A\\cup \\{x\\}\\in I$\uff0c\u5373\u65b0\u7684\u96c6\u5408\u4ecd\u7136\u7ebf\u6027\u65e0\u5173\u3002  \n&emsp;&emsp;\u8003\u8651\u53cd\u8bc1\u6cd5\uff0c\u5373\u5047\u8bbe\u4e0d\u5b58\u5728\u8fd9\u6837\u7684$x$\u3002\u8fd9\u610f\u5473\u7740$\\forall x\\in B-A$\uff0c$x$\u90fd\u53ef\u4ee5\u5728$A$\u4e2d\u8868\u793a\u51fa\u6765\u3002\u90a3\u4e48$B$\u4e2d\u7684\u5143\u7d20\u90fd\u53ef\u4ee5\u5728$A$\u4e2d\u8868\u793a\u51fa\u6765\u3002\u8fd9\u610f\u5473\u7740$B$\u7684\u7ebf\u6027\u7a7a\u95f4\u5305\u542b\u5728$A$\u7684\u7ebf\u6027\u7a7a\u95f4\u5185\u3002\u7531\u4e8e$|A|<|B|$\u4e14$A,B$\u5404\u81ea\u7ebf\u6027\u65e0\u5173\uff0c\u77db\u76fe\u3002\u56e0\u6b64\u5b58\u5728\u4ea4\u6362\u6027\u3002  \n&emsp;&emsp;\u56e0\u6b64\u8fd9\u662f\u4e00\u4e2a\u62df\u9635\u3002\u6211\u4eec\u5c31\u53ef\u4ee5\u6309\u7167\u88c5\u5907\u7684\u82b1\u8d39\uff0c\u7ef4\u62a4\u7ebf\u6027\u65e0\u5173\u7ec4\uff0c\u4ece\u5c0f\u5230\u5927\u8fdb\u884c\u8d2a\u5fc3\u3002  \n&emsp;&emsp;\u600e\u4e48\u7ef4\u62a4\u7ebf\u6027\u65e0\u5173\u7ec4\u5462\uff1f  \n&emsp;&emsp;\u5982\u679c\u6bcf\u6b21\u68c0\u67e5\u90fd\u7528\u9ad8\u65af\u6d88\u5143\uff0c\u65f6\u95f4\u4f1a\u88ab\u5361\u5230$O(n^4)$\uff0c\u5f53\u7136\u662f\u4e0d\u53ef\u4ee5\u7684\u3002  \n&emsp;&emsp;\u6211\u4eec\u4e00\u4e2a\u5e38\u7528\u4e8e\u7ef4\u62a4\u7ebf\u6027\u65e0\u5173\u7ec4\u7684\u7ed3\u6784\u2014\u2014\u7ebf\u6027\u57fa\u3002  \n&emsp;&emsp;\u8003\u8651\u9b54\u6539\u7ebf\u6027\u57fa\u3002\u6211\u4eec\u5c06\u5411\u91cf\u770b\u6210 \u201c $x$ \u8fdb\u5236 \u201d \u7684\u6570\u3002\u63d2\u5165\u5411\u91cf$\\boldsymbol z$\u7684\u65f6\u5019\uff0c\u5728$x_i$\u4f4d\u4e0a\uff0c\u5982\u679c\u6ca1\u6709\u5143\u7d20\u5c31\u63d2\u5165$z$\uff1b\u5426\u5219\u6211\u4eec\u7528\u7ebf\u6027\u57fa\u4e0a\u7684\u5143\u7d20\uff0c\u5c06$\\boldsymbol z$\u4e0a\u7684$x_i$\u7684\u7cfb\u6570\u6d88\u6210 0 \u3002\u5bf9\u4e8e\u4e00\u4e2a\u5411\u91cf\uff0c\u5982\u679c\u53ef\u4ee5\u63d2\u5165\u5230\u7ebf\u6027\u57fa\u4e2d\uff0c\u5c31\u8bf4\u660e\u5b83\u52a0\u5165\u540e\u7ec4\u5185\u4ecd\u7136\u662f\u7ebf\u6027\u65e0\u5173\u7684\uff0c\u9700\u8981\u8ba1\u5165\u7b54\u6848\u3002  \n&emsp;&emsp;\u65f6\u95f4$O(n^3)$\u3002  \n# \u4ee3\u7801\n```cpp\n#include <cstdio>\n#include <algorithm>\n\n#define spawn vector ret = vector()\n#define rush for( int i = 1 ; i <= M ; i ++ )\n#define op( c ) vector operator c ( vector b ) const { spawn; rush ret[i] = vec[i] c b[i]; return ret; }\n#define reop( c ) void operator c##= ( vector b ) { *this = *this c b; } \n\nconst double eps = 1e-4;\nconst int MAXN = 505, MAXM = 505;\n\ntemplate<typename _T>\nvoid read( _T &x )\n{\n\tx = 0;char s = getchar();int f = 1;\n\twhile( s > '9' || s < '0' ){if( s == '-' ) f = -1; s = getchar();}\n\twhile( s >= '0' && s <= '9' ){x = ( x << 3 ) + ( x << 1 ) + ( s - '0' ), s = getchar();}\n\tx *= f;\n}\n\ntemplate<typename _T>\nvoid write( _T x )\n{\n\tif( x < 0 ){ putchar( '-' ); x = ( ~ x ) + 1; }\n\tif( 9 < x ){ write( x / 10 ); }\n\tputchar( x % 10 + '0' );\n}\n\ntemplate<typename _T>\n_T ABS( _T x )\n{\n\treturn x < 0 ? -x : x;\n}\n\nint cost[MAXN], seq[MAXN];\nint N, M;\nbool taken[MAXM];\n\nstruct vector\n{\n\tdouble vec[MAXN];\n\tvector() { for( int i = 0 ; i < MAXM ; i ++ ) vec[i] = 0; }\n\tdouble& operator [] ( const int indx ) { return vec[indx]; }\n\top( + ) op( - ) reop( + ) reop( - )\n\tvector operator * ( const double &b ) const { spawn; rush ret[i] = vec[i] * b; return ret; }\n};\n\nvector base[MAXM], z[MAXN];\n\nbool cmp( const int &x, const int &y ) { return cost[x] < cost[y]; }\nbool equal( const double a, const double b = 0 ) { return ABS( a - b ) <= eps; }\n\nbool insert( const int indx )\n{\n\tdouble coe;\n\tfor( int i = 1 ; i <= M ; i ++ )\n\t\tif( ! equal( z[indx][i] ) )\n\t\t{\n\t\t\tif( ! taken[i] ) { taken[i] = true, base[i] = z[indx]; return true; }\n\t\t\tcoe = z[indx][i] / base[i][i];\n\t\t\tz[indx] -= base[i] * coe;\n\t\t}\n\treturn false;\n}\n\nint main()\n{\n\tint v, ans = 0, tot = 0;\n\tread( N ), read( M );\n\tfor( int i = 1 ; i <= N ; i ++ )\n\t\tfor( int j = 1 ; j <= M ; j ++ )\n\t\t\tread( v ), z[i][j] = v;\n\tfor( int i = 1 ; i <= N ; i ++ ) read( cost[i] ), seq[i] = i;\n\tstd :: sort( seq + 1, seq + 1 + N, cmp );\n\tfor( int i = 1 ; i <= N ; i ++ )\n\t\tif( insert( seq[i] ) )\n\t\t\ttot ++, ans += cost[seq[i]];\n\twrite( tot ), putchar( ' ' ), write( ans ), putchar( '\\n' );\n\treturn 0;\n}\n```",
        "postTime": 1587431091,
        "uid": 123809,
        "name": "crashed",
        "ccfLevel": 0,
        "title": "[JLOI2015]\u88c5\u5907\u8d2d\u4e70"
    },
    {
        "content": "# \u9898\u76ee\n&emsp;&emsp;[luogu](https://www.luogu.com.cn/problem/P3265).  \n# \u9898\u89e3\n&emsp;&emsp;~~\u4e3a\u4e86\u6c34\u5495\u503c\u88ab\u8feb\u8425\u4e1aqwq\u3002~~  \n&emsp;&emsp;\u9996\u5148\uff0c\u5bf9\u4e8e\u9898\u76ee\u4e2d\u6240\u63cf\u8ff0\u7684\u201c\u80fd\u88ab\u7ec4\u5408\u51fa\u7684\u88c5\u5907\u6ca1\u6709\u7528\u201d\u5176\u5b9e\u5c31\u662f\u8981\u6c42\u8fd9\u4e9b\u88c5\u5907\u7684\u5c5e\u6027\u5411\u91cf**\u7ebf\u6027\u4e0d\u76f8\u5173**\u3002  \n&emsp;&emsp;\u4e8e\u662f\u4e4e\uff0c\u8fd9\u5c31\u662f\u4e00\u9053\u7ecf\u5178\u7684~~\u62df\u9635~~\u8d2a\u5fc3\u9898\u4e86\u3002\n## \u7b97\u6cd5\n&emsp;&emsp;\u8d2a\u5fc3\uff0c\u6309\u8d39\u7528\u4e0d\u51cf\u7684\u987a\u5e8f\u679a\u4e3e\u6bcf\u4e2a\u88c5\u5907\uff0c\u5e76\u7ef4\u62a4\u4e00\u4e2a $m$ \u7ef4\u7684\u7ebf\u6027\u57fa\u3002\u82e5\u8be5\u88c5\u5907\u7684\u5c5e\u6027\u5411\u91cf\u80fd\u591f\u52a0\u5165\u7ebf\u6027\u57fa\uff0c\u5219\u8868\u660e\u5b83\u4e0e\u5df2\u9009\u62e9\u7684\u5c5e\u6027\u5411\u91cf\u7ebf\u6027\u4e0d\u76f8\u5173\uff08\u53ef\u4ee5\u7c7b\u6bd4\u5f02\u6216\u7ebf\u6027\u57fa\uff09\uff0c\u5c31\u8981\u9009\u62e9\u8be5\u88c5\u5907\u3002\n## \u7ebf\u6027\u57fa\n&emsp;&emsp;~~OIer \u4e0d\u548c\u5b9e\u6570\u73a9\u3002~~  \n&emsp;&emsp;\u9996\u5148\uff0c\u56de\u5fc6\u4e00\u4e0b OI \u5e38\u89c1\u7684[\u5f02\u6216\u7ebf\u6027\u57fa](https://www.luogu.com.cn/problem/P3812)\u3002  \n&emsp;&emsp;\u7c7b\u4f3c\u4e8e\u5f02\u6216\u7ebf\u6027\u57fa\u7684\u63d2\u5165\u65b9\u5f0f\uff0c\u6211\u4eec\u94a6\u5b9a $x_1$ \u4e3a\u201c\u6700\u9ad8\u4f4d\u201d\uff0c $x_m$ \u4e3a\u201c\u6700\u4f4e\u4f4d\u201d\u3002\u4e8e\u662f\u4ece\u9ad8\u4f4d\u5230\u4f4e\u4f4d\u68c0\u67e5\uff0c\u82e5\u7ebf\u6027\u57fa\u4e2d\u7b2c $i$ \u4e2a\u4f4d\u7f6e\u4e3a\u7a7a\uff0c\u5219\u63d2\u5165 $\\{x_m\\}$ \u5230\u8be5\u4f4d\u7f6e\uff0c\u63d2\u5165\u6210\u529f\uff1b\u5426\u5219\uff0c\u7528\u9ad8\u65af\u6d88\u5143\u7684\u601d\u60f3\uff0c\u5229\u7528\u7ebf\u6027\u57fa\u4e2d\u5df2\u6709\u7684\u5411\u91cf\u5c06 $x_i$ \u6d88\u4e3a $0$\uff0c\u7ee7\u7eed\u68c0\u67e5\uff0c\u76f4\u5230\u63d2\u5165\u6210\u529f\u6216\u8005\u68c0\u67e5\u5b8c\u6240\u6709\u4f4d\u7f6e\uff0c\u8868\u660e\u8be5\u5411\u91cf\u548c\u5df2\u6709\u5411\u91cf\u7ebf\u6027\u76f8\u5173\u3002\n## \u6b63\u786e\u6027\u8bc1\u660e\n&emsp;&emsp;\u53ef\u8df3\u8fc7\u3002~~OIer \u4e5f\u4e0d\u9700\u8981\u8bc1\u660e\u7b97\u6cd5\u3002~~  \n&emsp;&emsp;\u4ee4\u5b50\u96c6\u7cfb\u7edf $M=(S,I)$\uff0c\u5176\u4e2d\uff1a\n$$S=\\{\\boldsymbol z_n\\}$$\n&emsp;&emsp;\u5373\u5168\u4f53\u5411\u91cf\u7ec4\u6210\u7684\u96c6\u5408\u3002\n$$I=\\{T~|~T\\subseteq S~\\wedge~T~\\text{\u4e2d\u7684\u5411\u91cf\u7ebf\u6027\u4e0d\u76f8\u5173}\\}$$\n&emsp;&emsp;\u201c\u7ebf\u6027\u4e0d\u76f8\u5173\u201d\u5c31\u662f\u6211\u4eec\u89c4\u5b9a\u7684\u96c6\u5408\u72ec\u7acb\u6027\u3002\u73b0\u5728\u53ea\u9700\u8981\u8bc1\u660e $M$ \u662f\u4e00\u4e2a\u62df\u9635\u3002  \n### \u9057\u4f20\u6027\u8bc1\u660e\n&emsp;&emsp;\u8981\u8bc1\uff1a\n$$\n(\\forall A\\subseteq B,B\\in L)~A\\in L\n$$\n&emsp;&emsp;~~\u663e\u7136\u3002~~ \u8003\u8651\u53cd\u8bc1\uff0c\u82e5 $A\\not\\in L$\uff0c\u5219\u8868\u660e $A$ \u4e2d\u7684\u5411\u91cf\u7ebf\u6027\u76f8\u5173\u3002\u5373\u5b58\u5728 $\\boldsymbol z\\in A$ \u4f7f\u5f97 $\\boldsymbol z$ \u80fd\u591f\u901a\u8fc7 $A-\\{\\boldsymbol z\\}$ \u4e2d\u7684\u5411\u91cf\u7ebf\u6027\u53d8\u6362\u5f97\u5230\u3002\u56e0\u4e3a $A\\subseteq B$\uff0c\u6240\u4ee5 $\\boldsymbol z\\in B,(A-\\{\\boldsymbol z\\})\\subseteq B$\uff0c\u56e0\u6b64 $B$ \u72ec\u7acb\u6027\uff08\u5176\u4e2d\u5411\u91cf\u7ebf\u6027\u76f8\u5173\uff09\uff0c\u4f46 $B\\in L$\uff0c\u77db\u76fe\u3002\n### \u4ea4\u6362\u6027\u8bc1\u660e\n&emsp;&emsp;\u8981\u8bc1\uff1a\n$$\n(\\forall A,B\\in L,|A|<|B|)(\\exists \\boldsymbol z\\in B-A)~A\\cup\\{\\boldsymbol z\\}\\in L\n$$\n&emsp;&emsp;~~\u81ea\u4ece\u770b\u4e86\u79bb\u6563\u6570\u5b66\u4e4b\u540e\u516c\u5f0f\u5199\u51fa\u6765\u5c31\u5f88\u9b3c\u755covo\u3002~~  \n&emsp;&emsp;\u8bbe\u4e09\u4e2a\u96c6\u5408 $A'=A-B$\uff0c$U=A\\bigcap B$\uff0c$B'=B-A$\u3002\uff08\u8111\u8865\u4e00\u4e2a\u97e6\u6069\u56few\u3002\uff09  \n&emsp;&emsp;\u76f8\u5f53\u4e8e\u8981\u8bc1\u660e\uff0c\u5b58\u5728\u4e00\u4e2a $\\boldsymbol z\\in B'$\uff0c\u4f7f\u5f97 $\\boldsymbol z$ \u4e0e $A$ \u4e2d\u7684\u5411\u91cf\u7ebf\u6027\u65e0\u5173\u3002\u7531\u4e8e $A=A'\\bigcup U,B=B'\\bigcup U$\uff0c\u6545\u53ea\u9700\u4fdd\u8bc1 $\\boldsymbol z$ \u4e0e $A'$ \u4e2d\u7684\u5411\u91cf\u7ebf\u6027\u65e0\u5173\u3002  \n&emsp;&emsp;\u63a5\u7740\uff0c\u8003\u8651\u5230 $|A|<|B|\\Rightarrow |A'|<|B'|$\uff0c\u4e14 $B'$ \u7684\u5411\u91cf\u7ebf\u6027\u65e0\u5173\uff0c\u7c7b\u4f3c\u4e8e\u591a\u5143\u65b9\u7a0b\u7ec4\u6709\u552f\u4e00\u89e3\u81f3\u5c11\u9700\u8981\u53d8\u5143\u4e2a\u6570\u4e2a\u65b9\u7a0b\uff0c\u6545 $\\boldsymbol z$ \u7684\u5b58\u5728\u6027\u5df2\u8bc1\u3002  \n\n&emsp;&emsp;\u7efc\u4e0a\uff0c$M$ \u662f\u62df\u9635\u3002~~\u63a5\u4e0b\u6765\u53ea\u9700\u8981\u53cd\u624b\u8d2a\u5fc3\u62cd\u4e0a\u53bb\u5c31OK\u3002~~\n## \u4ee3\u7801\n```cpp\n#include <cstdio>\n#include <algorithm>\n\ntypedef long double LD;\n\nconst int MAXN = 500;\nconstexpr LD EPS = 1e-6;\nint n, m;\n\nstruct Equipment {\n\tint cost;\n\tLD x[MAXN + 5];\n\tinline bool operator < ( const Equipment t ) const { return cost < t.cost; }\n} equ[MAXN + 5];\n\ninline LD abs_ ( const LD x ) { return x < 0 ? -x : x; }\n\nclass RealLinearBasic {\nprivate:\n\tLD basic[MAXN + 5][MAXN + 5];\n\npublic:\n\tinline bool insert ( LD* x ) {\n\t\tfor ( int i = 1; i <= m; ++ i ) {\n\t\t\tif ( abs_ ( x[i] ) < EPS ) continue;\n\t\t\tif ( abs_ ( basic[i][i] ) < EPS ) {\n\t\t\t\tfor ( int j = i; j <= m; ++ j ) basic[i][j] = x[j];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tdouble k = x[i] / basic[i][i];\n\t\t\tfor ( int j = i; j <= m; ++ j ) x[j] -= k * basic[i][j];\n\t\t}\n\t\treturn false;\n\t}\n} rlb;\n\nint main () {\n\tscanf ( \"%d %d\", &n, &m );\n\tfor ( int i = 1; i <= n; ++ i ) {\n\t\tfor ( int j = 1; j <= m; ++ j ) {\n\t\t\tscanf ( \"%Lf\", &equ[i].x[j] );\n\t\t}\n\t}\n\tfor ( int i = 1; i <= n; ++ i ) scanf ( \"%d\", &equ[i].cost );\n\tstd :: sort ( equ + 1, equ + n + 1 );\n\tint cnt = 0, cst = 0;\n\tfor ( int i = 1; i <= n; ++ i ) {\n\t\tif ( rlb.insert ( equ[i].x ) ) {\n\t\t\t++ cnt, cst += equ[i].cost;\n\t\t}\n\t}\n\tprintf ( \"%d %d\\n\", cnt, cst );\n\treturn 0;\n}\n```",
        "postTime": 1587205422,
        "uid": 123807,
        "name": "Rainybunny",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3265 \u3010[JLOI2015]\u88c5\u5907\u8d2d\u4e70\u3011"
    },
    {
        "content": "\u4f20\u9001\u95e8\uff1a\n\nhttps://www.luogu.com.cn/problem/P3265\n\n\n\n## \u5206\u6790\n\n\u91c7\u53d6\u8fd9\u6837\u7684\u8d2a\u5fc3\u7b56\u7565\uff1a\u5c06\u7269\u54c1\u770b\u4f5c\u662f\u77e9\u9635\u4e2d\u7684**\u884c**\uff0c\u6309\u7167\u82b1\u8d39**\u5347\u5e8f\u6392\u5e8f**\uff0c\u7136\u540e\u4ece $1-n$\u200b\u200b \u626b\u63cf\uff0c\u5f53\u7b2c $i$\u200b\u200b \u4e2a**\u884c**\u548c\u524d\u9762\u52a0\u5165\u7684\u6240\u6709**\u884c**\u7ebf\u6027\u65e0\u5173\u7684\u65f6\u5019\uff0c\u5c31\u5c06\u5176\u82b1\u8d39\u8ba1\u5165\u7b54\u6848\uff0c\u53cd\u4e4b\u4e0d\u8ba1\u5165\u3002\n\n\n\n\u8fd9\u6837\u505a\u4e3a\u4ec0\u4e48\u662f\u5bf9\u7684\u5462\uff1f\u91c7\u7528\u5f52\u7eb3\u6cd5\u6765\u8bc1\u660e\uff1a\n\n\u4e0b\u8bc1\uff1a\u524d $n$\u200b\u200b \u884c\u91c7\u53d6\u4e0a\u8ff0\u7b56\u7565\u80fd\u591f\u5728**\u4fdd\u8bc1\u9009\u51fa\u7684\u884c\u6784\u6210\u7684\u7ebf\u6027\u7a7a\u95f4\u4e0e\u524d $n$\u200b \u884c\u6784\u6210\u7684\u7ebf\u6027\u7a7a\u95f4\u76f8\u7b49\u7684\u524d\u63d0\u4e0b**\u82b1\u8d39\u6700\u5c0f\u3002\n\n- \u524d $1$ \u884c\uff0c\u6211\u4eec\u80af\u5b9a\u9700\u8981\u5c06\u7b2c\u4e00\u884c\u52a0\u5165\u8d21\u732e\uff0c\u6ee1\u8db3\u3002\n- \u5047\u8bbe\u524d $k$ \u884c\u6ee1\u8db3\u4e0a\u8ff0\u8d2a\u5fc3\u7b56\u7565\u3002\n- \u4e0b\u53ea\u9700\u8bc1\u660e\u524d $k+1$ \u884c\u91c7\u53d6\u4e0a\u8ff0\u8d2a\u5fc3\u7b56\u7565\u662f\u6700\u4f18\u7684\u3002\n    - \u5982\u679c\u524d $k$ \u884c\u6784\u6210\u7684\u7ebf\u6027\u7a7a\u95f4\u548c\u524d $k+1$ \u884c\u6784\u6210\u7684\u7ebf\u6027\u7a7a\u95f4\u76f8\u7b49\uff08\u4e5f\u5c31\u662f\u7b2c $k+1$\u200b\u200b **\u884c**\u80fd\u88ab\u524d $k$\u200b \u884c\u9009\u51fa\u7684**\u884c**\u7ebf\u6027\u8868\u51fa\uff09\uff0c\u90a3\u4e48\u6211\u4eec\u80af\u5b9a\u4e0d\u9009\u53d6\uff0c\u6ee1\u8db3\u6700\u4f18\u3002\n    - \u5982\u679c\u4e0d\u76f8\u7b49\uff0c\u4e5f\u5c31\u662f\u7b2c $k+1$\u200b \u884c\u4e0e\u524d $k$\u200b \u884c\u7ebf\u6027\u65e0\u5173\u3002\u5047\u8bbe\u6211\u4eec\u4e0d\u9009\u53d6\u7b2c $k+1$\u200b \u884c\uff0c\u90a3\u4e48\u65e0\u8bba\u5982\u4f55\u4ece\u524d $k$\u200b \u884c\u8fdb\u884c\u9009\u53d6\u4e5f\u4e0d\u80fd\u4f7f\u5f97\u9009\u51fa\u7684\u884c\u6784\u6210\u7684\u7ebf\u6027\u7a7a\u95f4\u4e0e\u524d $k+1$\u200b\u200b\u200b \u884c\u6784\u6210\u7684\u7ebf\u6027\u7a7a\u95f4\u76f8\u7b49\uff0c\u56e0\u6b64\u5fc5\u987b\u9009\u3002\n\n\n\n## \u5b9e\u73b0\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\n#define debug(x) cerr << #x << \": \" << (x) << endl\n#define rep(i,a,b) for(int i=(a);i<=(b);i++)\n#define dwn(i,a,b) for(int i=(a);i>=(b);i--)\n#define pb push_back\n#define all(x) (x).begin(), (x).end()\n\nusing ll = long long;\n\ninline void read(int &x){\n    int s=0; x=1;\n    char ch=getchar();\n    while(ch<'0' || ch>'9') {if(ch=='-')x=-1;ch=getchar();}\n    while(ch>='0' && ch<='9') s=(s<<3)+(s<<1)+ch-'0',ch=getchar();\n    x*=s;\n}\n\nconst int N=550;\nconst double eps=1e-5;\n\nint n, m;\nint w[N][N], c[N];\nint idx[N];\n\nbool zero(double x){\n\treturn abs(x)<eps;\n}\n\nbool zero(vector<double> a){\n\tfor(auto i: a) if(!zero(i)) return false;\n\treturn true;\n}\n\nvoid change(vector<double> &a, vector<double> &b){\n\trep(i,0,m-1){\n\t\tif(zero(a[i]) && !zero(b[i])) return;\n\t\tif(!zero(a[i]) && zero(b[i])){\n\t\t\tswap(a, b);\n\t\t\treturn;\n\t\t}\n\t\tif(!zero(a[i]) && !zero(b[i])){\n\t\t\tdouble rate=a[i]/b[i];\n\t\t\trep(j,i,m-1) a[j]-=rate*b[j];\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nint main(){\n\tcin>>n>>m;\n\trep(i,1,n) rep(j,1,m) read(w[i][j]);\n\trep(i,1,n) read(c[i]);\n\trep(i,1,n) idx[i]=i;\n\tsort(idx+1, idx+1+n, [](int x, int y){\n\t\treturn c[x]<c[y];\n\t});\n\t\n\tvector<vector<double>> a;\n\tll res=0;\n\trep(i,1,n){\n\t\tint p=idx[i];\n\t\tvector<double> row;\n\t\trep(j,1,m) row.pb(w[p][j]);\n\t\t\n\t\tfor(auto &vec: a) change(row, vec);\n\t\tif(!zero(row)) a.pb(row), res+=c[p];\n\t}\n\t\n\tcout<<a.size()<<' '<<res<<endl;\n\t\n\treturn 0;\n\n```\n\n",
        "postTime": 1643966931,
        "uid": 138960,
        "name": "Tenshi",
        "ccfLevel": 0,
        "title": "[JLOI2015]\u88c5\u5907\u8d2d\u4e70"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u4e0d\u5c31\u662f\u7ebf\u6027\u57fa\uff1f\n\n\u6211\u4eec\u53d1\u73b0\u8fd9\u4e2a\u88c5\u5907\u548c\u5f02\u6216\u6709\u7740\u76f8\u540c\u4e4b\u5904\u3002\u6bd4\u5982\u8bf4\uff1a\n\n$$k_1\\times z_1+k_2\\times z_2=z_3$$\n\n\u90a3\u4e48\uff1a\n\n$$z_1=\\frac{z_3-k_2\\times z_2}{k_1}$$\n\n\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5148\u6309\u82b1\u8d39\u6392\u5e8f\uff0c\u4f9d\u6b21\u653e\u5230\u7ebf\u6027\u57fa\u91cc\u3002\u653e\u5165\u7684\u8fc7\u7a0b\u4e2d\u6211\u4eec\u548c\u6a21\u677f\u5dee\u4e0d\u591a\uff0c\u5c31\u662f\u628a\u6bcf\u4e00\u4f4d\u6328\u4e2a\u6d88\u6389\uff0c\u6709\u70b9\u50cf\u9ad8\u65af\u6d88\u5143\u3002\n\n\u7528 `double` \u7cbe\u5ea6\u6ca1\u95ee\u9898\u3002\n\n```cpp\n//Don't act like a loser.\n//This code is written by huayucaiji\n//You can only use the code for studying or finding mistakes\n//Or,you'll be punished by Sakyamuni!!!\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\n\nint read() {\n\tchar ch=getchar();\n\tint f=1,x=0;\n\twhile(ch<'0'||ch>'9') {\n\t\tif(ch=='-')\n\t\t\tf=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9') {\n\t\tx=x*10+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn f*x;\n}\n\nconst int MAXN=500+10;\nconst long double eps=1e-6;\n\nint n,m,cnt;\n\nstruct item {\n\tlong double a[MAXN];\n\tint cost;\n}it[MAXN],p[MAXN];\n\nbool cmp(item x,item y) {\n\treturn x.cost<y.cost;\n}\n\nvoid insert(item x) {\n\titem xx=x;\n\tint mark=-1,minn=1e9+10;\n\tfor(int i=m;i;i--) {\n\t\tif(fabs(x.a[i])<eps) {\n\t\t\tcontinue;\n\t\t}\n\t\tif(fabs(p[i].a[i])>eps) {\n\t\t\tlong double k=x.a[i]/p[i].a[i];\n\t\t\tfor(int j=i;j;j--) {\n\t\t\t\tx.a[j]-=k*p[i].a[j];\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tp[i]=x;\n\t\t\tcnt++; \n\t\t\treturn ;\n\t\t}\n\t}\n}\n\nsigned main() {\n\tn=read();\n\tm=read();\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tcin>>it[i].a[j];\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++) {\n\t\tcin>>it[i].cost;\n\t}\n\tsort(it+1,it+n+1,cmp); \n\tfor(int i=1;i<=n;i++) {\n\t\tinsert(it[i]); \n\t} \n\t\n\tint ans=0;\n\tfor(int i=m;i;i--) {\n\t\tans+=p[i].cost;\n\t}\n\tcout<<cnt<<\" \"<<ans<<endl;\n\treturn 0;\n}\n\n```",
        "postTime": 1616286059,
        "uid": 132976,
        "name": "huayucaiji",
        "ccfLevel": 6,
        "title": "LG 3265 [JLOI2015]\u88c5\u5907\u8d2d\u4e70"
    },
    {
        "content": "#### \u5199\u5728\u524d\u9762\n\n\u7ebf\u6027\u57fa\u7684\u6c34\u9898~~\u7adf\u7136\u662f\u7d2b\u9898~~\uff0c\u53ef\u601c\u6211\u9ad8\u4e2d\u7684\u5411\u91cf\u57fa\u7840\u7f51\u8bfe\u6f0f\u542c\u4e86\u51e0\u8282\uff0c\u5bfc\u81f4\u6628\u5929\u770b\u4e86\u4e00\u5929\u90fd\u6ca1\u770b\u61c2\uff0c\u6de6\n\n#### \u601d\u8def\n\n\u628a$n$\u4ef6\u88c5\u5907\u770b\u6210$n$\u4e2a\u957f\u5ea6\u4e3a$m$\u7684\u5411\u91cf\uff0c\u6839\u636e\u9898\u76ee\u610f\u601d\uff0c\u8d2d\u4e70\u7684**\u5411\u91cf\u7ebf\u6027\u65e0\u5173**\u7684\uff08\u5982\u679c\u7ebf\u6027\u76f8\u5173\u5c31\u4e0d\u4f1a\u53bb\u8d2d\u4e70\u4e86\uff09,\u9898\u76ee\u8981\u6c42\u6211\u4eec\u6c42\u51fa\u8be5\u7ebf\u6027\u7a7a\u95f4\u7684\u57fa\n\n\u53ef\u4ee5\u628a$a_{i,j}$\u770b\u6210\u7cfb\u6570\u77e9\u9635\uff0c\u6bcf\u4e2a\u88c5\u5907$z_i$\u5373\u4e3a\u4e00\u4e2a\u884c\u5411\u91cf\uff0c\u7528\u9ad8\u65af\u6d88\u5143\u6c42\u51fa\u884c\u79e9\u5c31\u662f\u6700\u5c11\u8d2d\u4e70\u7684\u88c5\u5907\u6570\u91cf\n\n\u6700\u5c11\u82b1\u7684\u94b1\u53ef\u4ee5\u7528**\u8d2a\u5fc3**\u6765\u6c42\u89e3:\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4e3b\u5143$x_i$,\u5728\u524d$i-1$\u5217\u4e3a$0$\uff0c\u7b2c$i$ \u5217\u4e0d\u4e3a$0$\u7684\u884c\u5411\u91cf\u4e2d\uff0c\u9009\u51fa\u4ef7\u683c\u6700\u4f4e\u7684\u53bb\u6d88\u5143\n\n**\u8bc1\u660e**\uff1a~~\u5e94\u8be5\u4e0d\u7528\u5199\u4e86~~\n\n\u8bbe\u82b1\u94b1\u6700\u5c11\u7684\u57fa\u4e3a$z[i_1],z[i_2],\u2026\u2026z[i_p]$\u8be5\u57fa\u5185\u4e0d\u5305\u542b\u4ef7\u683c\u6700\u4f4e\u7684\u884c\u5411\u91cf$z[k]$\n\n\u56e0\u4e3a\u6781\u5927\u7ebf\u6027\u4e0d\u76f8\u5173\u5b50\u96c6\uff0c\u6240\u4ee5$z[k]$\u4e00\u5b9a\u53ef\u4ee5\u88ab\u4e0a\u8ff0\u57fa\u8868\u51fa\n\n\u53ef\u8bbe:$z[k]=b_1z[i_1]+b_2z[i_2]+\u2026\u2026b_pz[i_p]$\n\n\u5316\u7b80\u5f97:$z[i_p]=(z[k]-b_1z[i_1]-\u2026\u2026b_{p-1}z[i_{p-1}])/b_p$\n\n\u663e\u7136$z[i_p]$\u80fd\u88ab\u4e0a\u9762\u7684\u57fa\u8868\u51fa\uff0c\u5373\u4e0a\u8ff0\u57fa\u4e0e\u4e00\u5f00\u59cb\u8bbe\u51fa\u7684\u57fa\u76f8\u540c\uff0c\u4f46\u662f\u4e0a\u8ff0\u57fa\u603b\u4ef7\u683c\u66f4\u5c0f\n\n\u8bc1\u6bd5\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=520;//\u6de6 \nlong double a[N][N],eps=1e-8;\nint n,m,w[N];\nint dim,ans;\nint main()\n{\n//\tfreopen(\".in\",\"r\",stdin);\n//\tfreopen(\".out\",\"w\",stdout);\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=1;j<=m;++j){\n\t\t\tdouble x;\n\t\t\tscanf(\"%lf\",&x);\n\t\t\ta[i][j]=x;\n\t\t}\n\t}\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tint val;\n\t\tscanf(\"%d\",&val);\n\t\tw[i]=val;\n\t}\n\tfor(int i=1;i<=m;++i)\n\t{\n\t\tint now=0;\n\t\tfor(int j=dim+1;j<=n;++j)\n\t\t\tif(fabs(a[j][i])>eps&&(now==0||w[j]<w[now])) \n\t\t\t\tnow=j;\n\t\tif(now==0) continue;\n\t\t++dim;ans+=w[now];\n\t\tfor(int j=1;j<=m;++j) swap(a[now][j],a[dim][j]);\n\t\tswap(w[now],w[dim]);\n\t\tfor(int j=1;j<=n;++j) \n\t\t{\n\t\t\tif(dim!=j&&fabs(a[j][i])>eps)\n\t\t\t{\n\t\t\t\tlong double rate=a[j][i]/a[dim][i];\n\t\t\t\tfor(int k=i;k<=m;++k) a[j][k]-=rate*a[dim][k];\t\n\t\t\t} \n\t\t}\n\t}\n\tcout<<dim<<\" \"<<ans;\n\treturn 0;\n}\n\n\n```\n",
        "postTime": 1587288143,
        "uid": 122557,
        "name": "pyyyyyy",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3265 \u3010[JLOI2015]\u88c5\u5907\u8d2d\u4e70\u3011"
    },
    {
        "content": "\u53ef\u4ee5\u4f5c\u4e3a\u7ebf\u6027\u57fa\u7684\u6a21\u677f\u6765\u505a\u3002\n\n# \u524d\u7f6e\u77e5\u8bc6\uff1a\n\n\u505a\u8fc7\u9ad8\u65af\u6d88\u5143\u5c31\u884c\u3002\n\n# Solution\n\n\u6211\u7684\u7406\u89e3\u662f\u628a\u7ebf\u6027\u57fa\u5f53\u6210**\u6d88\u4e0d\u5b8c\u7684\u9ad8\u65af\u6d88\u5143**\uff0c\u8bb2\u4e00\u4e0b\u5b9e\u73b0\u6b65\u9aa4\uff1a\n\n\u5047\u8bbe\u6211\u4eec\u5728\u5904\u7406\u7b2c $i$ \u4e2a\u7269\u54c1\uff0c\u7b2c $j$ \u4e2a\u5c5e\u6027\uff08\u56e0\u4e3a\u6bcf\u4e2a\u5c5e\u6027\u53ef\u80fd\u6d88\u5b8c\uff0c\u6240\u4ee5\u6bcf\u4e2a\u5143\u7d20\u8981**\u7269\u5c3d\u5176\u7528**\uff0c\u6545\u5143\u7d20\u7f16\u53f7\u548c\u5c5e\u6027\u7f16\u53f7\u53ef\u80fd\u4e0d\u4e00\u6837\uff09\u3002\n\n1. \u627e\u5230\u7269\u54c1 $i$ \u5230 $n$ \u4e2d\u7b2c $j$ \u4e2a\u5c5e\u6027\u4e0d\u4e3a\u96f6\u7684\u4e14\u82b1\u8d39\u6700\u5c0f\u7684\uff0c\u548c\u7b2c $i$ \u4e2a\u7269\u54c1\u4ea4\u6362\uff0c\u5982\u679c\u627e\u4e0d\u5230\u5c31\u5230\u4e0b\u4e00\u4e2a\u5c5e\u6027\u3002\n\n2. \u5bf9\u4e8e\u7269\u54c1 $i+1$ \u5230 $n$\uff0c\u7528\u7b2c $i$ \u4e2a\u7269\u54c1\u6d88\u53bb\u5176\u7b2c $j$ \u4e2a\u5c5e\u6027\u3002\n\n3. \u7edf\u8ba1\u7b54\u6848\u3002\n\n**\u4e00\u5b9a\u8981\u63a7\u5236\u7cbe\u5ea6\uff01\uff01\uff01**\n\n**Code**\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst double eps=1e-5;\nint n,m,c[505],cnt,ans;\ndouble a[505][505];\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++) \n\t\tfor(int j=1;j<=m;j++) \n\t\t\tscanf(\"%lf\",&a[i][j]);\n\tfor(int i=1;i<=n;i++) \n\t\tscanf(\"%d\",&c[i]);\n\tfor(int i=1,j=1;i<=m&&j<=n;i++,j++) {//i:\u00ca\u00f4\u00d0\u00d4 j:\u00ce\u00ef\u00c6\u00b7 \n\t\tint Min=2147483647,Minx=-1;\n\t\tfor(int k=j;k<=n;k++) \n\t\t\tif(fabs(a[k][i])>eps&&c[k]<Min) \n\t\t\t\tMin=c[k],Minx=k;\n\t\tif(!~Minx) {\n\t\t\tj--;continue;\n\t\t}\n\t\tfor(int k=i;k<=m;k++) \n\t\t\tswap(a[j][k],a[Minx][k]);\n\t\tswap(c[j],c[Minx]);\n\t\tfor(int k=j+1;k<=n;k++) {\n\t\t\tdouble div=a[k][i]/a[j][i];\n\t\t\tfor(int l=i;l<=m;l++) \n\t\t\t\ta[k][l]-=a[j][l]*div;\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++) {\n\t\tbool flag=0;\n\t\tfor(int j=1;j<=m;j++) \n\t\t\tif(fabs(a[i][j])>eps) {\n\t\t\t\tflag=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\tcnt+=flag,ans+=flag*c[i];\n\t}\n\tprintf(\"%d %d\",cnt,ans);\n\treturn 0;\n}\n```",
        "postTime": 1652186010,
        "uid": 383791,
        "name": "Others",
        "ccfLevel": 7,
        "title": "P3265 \u9898\u89e3"
    }
]