[
    {
        "content": "\u5b9a\u7406\uff1a\u5bf9\u4e8e\u7ed9\u5b9a\u7684\u6b63\u6574\u6570n>2\uff0c\u4e3a\u4e86\u5c06n\u5199\u6210\u82e5\u5e72\u4e2a\u6b63\u6574\u6570\u4e4b\u548c\uff0c\u5e76\u4e14\u4f7f\u8fd9\u4e9b\u6b63\u6574\u6570\u7684\u4e58\u79ef\u6700\u5927\u3002\u53ea\u987b\u5c06 n\u5199\u6210\u82e5\u5e72\u4e2a2\u4e0e3\u7684\u548c\uff0c\u5e76\u6ee1\u8db3\uff1a\r\n\r\n 2p+3q=n.\r\n\r\n\u5176\u4e2d\uff0c \r\n\r\nq=(n-2p)/3.\r\n\r\n    \u5b9a\u7406\u7684\u8bc1\u660e\uff1a\u8bbea\u662f\u5c06n\u505a\u6700\u5927\u4e58\u79ef\u5206\u89e3\uff08\u7b80\u79f0\u6700\u4f18\u5206\u89e3\uff09\u540e\u7684\u4efb\u4e00\u9879\uff0c\u4e0b\u9762\u8bc12\u2264a\u22644\u3002\r\n\r\n1. \u82e5a=1\uff0c\u8bbeb\u662f\u5c06n\u505a\u6700\u4f18\u5206\u89e3\u540e\u7684\u53e6\u4e00\u9879\uff0c\u5219 a\\*b=1\\*b=b<1+b\uff0c\u5373\u628aa,b\u5408\u5e76\u4e3a\u4e00\u9879\u540e\uff0c\u603b\u4e58\u79ef\u4f1a\u66f4\u5927\uff0c\u6545\u5fc5\u67092\u2264a\u3002\r\n2. \u82e5a\u22655\uff0c\u5219\u5bb9\u6613\u8bc1\u660e\u8fd9\u65f6\u6210\u7acb\uff1aa<3(a-3)\uff0c\u5373\u628aa\u5206\u89e3\u4e3a\u4e24\u9879\uff1a3\u4e0ea-3\u4e4b\u540e\uff0c\u603b\u548c\u4e0d\u53d8\uff0c\u800c\u603b\u4e58\u79ef\u4f1a\u66f4\u5927\uff0c\u6545\u5fc5\u6709a\u22644\u3002\r\n3. \u7531\u4e8e4=2\\*2=2+2\uff0c\u56e0\u6b64\u6700\u4f18\u5206\u89e3\u4e2d\uff0c\u53ef\u75282\u4e2a2\u4ee3\u66ff1\u4e2a4\u3002\u53c8\u7531\u4e8e2+2+2=3+3\uff0c\u800c2\\*2\\*2<3\\*3\uff0c\u56e0\u6b643\u4e2a2\u5e94\u8be5\u75282\u4e2a3\u4ee3\u66ff\u3002\u8bc1\u6bd5\u3002\r\n\r\n\r\n\u8865\u5145\u4e0b\u9762\u8bc1\u660e\u5b9e\u73b0\u7684\u4ee3\u7801\r\n```cpp\r\n#include<iostream>\r\n#include<cstdio>\r\n#include<algorithm>\r\n#include<cstring>\r\n#include<cmath>\r\n#include<vector>\r\nusing namespace std;\r\nint n;\r\nclass Big{\r\npublic:\r\n    vector<int> bits;\r\n    int cnt;\r\n    void clear(){\r\n    \tcnt=0;\r\n    \tbits.push_back(1);\r\n    }\r\n    void mul(int n){\r\n        for(int i=0;i<=bits.size();i++){\r\n\t\t\tbits[i]*=n;\r\n        }\r\n        for(int i=0;i<bits.size();i++){\r\n            if(bits[i]>=10){\r\n                if(i+1<bits.size())\r\n                    bits[i+1]+=bits[i]/10;\r\n                else{\r\n                \tbits.push_back(bits[i]/10);\r\n                }\r\n                bits[i]%=10;\r\n            }\r\n        }\r\n    }\r\n    void print(){\r\n\t\tfor(int i=bits.size()-1;i>=0;i--){\r\n    \t\tputchar('0'+bits[i]);\r\n    \t}\r\n    \tprintf(\"\\n\");\r\n    }\r\n    void re(){\r\n    \treverse(bits.begin(),bits.end());\r\n    }\r\n    int siz(){\r\n    \treturn bits.size();\r\n    }\r\n    void choose_print(int len){\r\n    \tint tot=0;\r\n\t\tfor(int i=bits.size()-1;i;i--){\r\n\t\t\ttot++;\r\n\t\t\tputchar('0'+bits[i]);\r\n\t\t\tif(tot==len){\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tprintf(\"\\n\");\r\n    }\r\n}ans;\r\nint main(){\r\n\tcin>>n;\r\n\tans.clear();\r\n//\tcout<<21378<<endl;\r\n\twhile(n>4){\r\n\t\tans.mul(3);\r\n\t\tn-=3;\t\r\n\t}\t\r\n\tif(n==4){\r\n\t\tans.mul(4);\r\n\t}\r\n\tif(n==3){\r\n\t\tans.mul(3);\r\n\t}\r\n\tif(n==2){\r\n\t\tans.mul(2);\r\n\t}\r\n\tcout<<ans.siz()<<endl;\r\n\tif(ans.siz()<=100){\r\n\t\tans.print();\r\n\t}\r\n\telse{\r\n\t\tans.choose_print(100);\r\n\t}\r\n//\tans.print();\r\n}\r\n```",
        "postTime": 1519709411,
        "uid": 28147,
        "name": "\u5289\u5b50\u98ba",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4157 \u3010[SCOI2006]\u6574\u6570\u5212\u5206\u3011"
    },
    {
        "content": "\u4ee5\u4e0b\u7eaf\u53e3\u80e1\uff0c\u5982\u679c\u95ee\u9898\u6c42\u79c1\u4fe1\u6211\u3002\n\n\u6839\u636e\u5747\u503c\u4e0d\u7b49\u5f0f\uff08\u8bc1\u660e\u5728\u6700\u4e0b\u9762\uff09\uff1a\n$$\\prod_{i=1}^n x_i\\le \\left(\\frac{\\sum_{i=1}^nx_i}{n}\\right)^n$$\n\u5148\u4e0d\u8003\u8651\u6574\u6570\u7684\u9650\u5236\uff0c\u6211\u4eec\u5e94\u5c06\u4e00\u4e2a\u6570\u5747\u5300\u5730\u5206\u6210$k$\u4efd\uff0c\u6bcf\u4e2a\u6570\u4e3a$x$\uff0c\u90a3\u4e48\u6709\uff1a\n$$n=kx$$\n\n\u53e6\u4e58\u79ef\u4e3a$y$\uff0c\u6709\uff1a\n$$y=x^k=x^{\\frac{n}{x}}=(x^{\\frac{1}{x}})^n$$\n\n\u4e8e\u662f\u95ee\u9898\u5c31\u53d8\u6210\u4e86\u6c42$y=x^{\\frac{1}{x}}$\u5728$x>0$\u4e0a\u7684\u6781\u503c\u3002\n\n\u4e24\u8fb9\u540c\u53d6\u5bf9\u6570\uff1a\n$$\\ln y = \\frac{1}{x}\\ln x$$\n\u4e24\u8fb9\u540c\u65f6\u5173\u4e8e$x$\u6c42\u5bfc\uff1a\n$$\\frac{y'}{y}=-\\frac{1}{x^2}\\ln x+\\frac{1}{x^2}=\\frac{1-\\ln x}{x^2}$$\n\n\u53f3\u8fb9\u5e94\u8be5\u6ca1\u95ee\u9898\uff0c\u90a3\u5de6\u8fb9\u4e3a\u4ec0\u4e48\u4e0d\u662f$\\frac{1}{y}$\u5462\uff1f\n\n\u56e0\u4e3a$y$\u662f\u4e2a\u56e0\u53d8\u91cf\uff0c\u5176\u5bfc\u6570\u4e0d\u4e00\u5b9a\u5c31\u662f$1$\uff0c\u5373$x$\u589e\u52a0$\\mathrm{d}x$\uff0c$y$\u4e0d\u4e00\u5b9a\u589e\u52a0$\\mathrm{d}x$\u3002\n\n\u4f46\u6211\u4eec\u6709\uff1a\n$$f[g(x)]=f'(x)g'(x)$$\n\u4e8e\u662f\uff1a\n\n$$y'=\\frac{1-\\ln x}{x^2}y=\\frac{1-\\ln x}{x^2}x^{\\frac{1}{x}}$$\n\n\u5f53$y'=0$\u65f6\uff1a\n$$\\frac{1-\\ln x}{x^2}x^{\\frac{1}{x}}=0$$\n\u7531\u4e8e$x>0$\uff1a\n$$1-\\ln x=0$$\n\u5373\uff1a\n$$x=e$$\n\u4f46$e$\u4e0d\u662f\u6574\u6570\uff0c\u7531\u4e8e$\\lfloor e\\rfloor=2,\\lceil e\\rceil=3$\uff0c\u4e14\n\n$$2^{\\frac{1}{2}}\\approx1.4142135623730950488016887242097$$\n$$3^{\\frac{1}{3}}\\approx1.4422495703074083823216383107801$$\n\n\u6240\u4ee5\n$$2^{\\frac{1}{2}}<3^{\\frac{1}{3}}$$\n\n\u56e0\u6b64\u5e94\u8be5\u5c3d\u91cf\u53d6$3$\uff0c\u591a\u51fa\u6765\u7684\u53d6$2$\u3002\n\n\u4e0b\u9762\u7ed9\u51fa\u5747\u503c\u4e0d\u7b49\u5f0f\u7684\u4e00\u79cd\u8bc1\u6cd5\uff1a\n\n\u6709\u4e00\u79cd\u53eb\u201c\u53cd\u5411\u5f52\u7eb3\u6cd5\u201d\u7684\u4e1c\u897f\uff0c\u5b83\u662f\u4ece$n$\u5230$n-1$\u6765\u8bc1\u660e\u547d\u9898\u3002\n\n\u6211\u4eec\u4ee4\u539f\u547d\u9898\u4e3a$P(n)$\u3002\n\n\u9996\u5148\uff0c$n=2$\u65f6\u663e\u7136\u4e3a\u771f\uff1a\n$$\\sqrt{ab}\\le \\frac{a+b}{2}$$\n\u7136\u540e\u8bc1\u660e$P(n)$\u548c$P(2)$\u8574\u6db5\u7740$P(2n)$\uff1a\n\n\u56e0\u4e3a\uff1a\n$$\\prod_{i=1}^n x_i\\le \\left(\\frac{\\sum_{i=1}^nx_i}{n}\\right)^n$$\n$$\\prod_{i=n+1}^{2n} x_i\\le \\left(\\frac{\\sum_{i=n+1}^{2n}x_i}{n}\\right)^n$$\n\u4e24\u5f0f\u76f8\u4e58\uff1a\n$$\\prod_{i=1}^{2n} x_i\\le \\left(\\frac{\\sum_{i=1}^{n}x_i}{n}\\right)^n\\times\\left(\\frac{\\sum_{i=n+1}^{2n}x_i}{n}\\right)^n\\le \\left(\\frac{\\sum_{i=1}^{2n}x_i}{2n}\\right)^{2n}$$\n\u6700\u540e\u8bc1\u660e$P(n)$\u8574\u6db5\u7740$P(n-1)$\uff1a\n\n\u4ee4$x_n=\\frac{\\sum_{i=1}^{n-1}x_i}{n-1}$\u5373$x_n$\u4e3a\u524d$n-1$\u9879\u7684\u5e73\u5747\u503c\uff0c\u6211\u4eec\u53d1\u73b0\u8fd9$n$\u9879\u7684\u5e73\u5747\u503c\u4e3a\u524d$n-1$\u9879\u7684\u5e73\u5747\u503c\uff0c\u5373\uff1a\n$$\\prod_{i=1}^{n-1} x_i\\times\\frac{\\sum_{i=1}^{n-1}x_i}{n-1}\\le \\left(\\frac{\\sum_{i=1}^{n-1}x_i}{n-1}\\right)^n$$\n\u4e24\u8fb9\u540c\u9664$\\frac{\\sum_{i=1}^{n-1}x_i}{n-1}$\uff1a\n$$\\prod_{i=1}^{n-1} x_i \\le \\left(\\frac{\\sum_{i=1}^{n-1}x_i}{n-1}\\right)^{n-1}$$",
        "postTime": 1549436442,
        "uid": 84088,
        "name": "pufanyi",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4157 \u3010[SCOI2006]\u6574\u6570\u5212\u5206\u3011"
    },
    {
        "content": "(\u7adf\u7136\u6ca1\u6709\u4eba\u5199c++\u7684\u9898\u89e3\uff0c\u679c\u7136c++\u7684\u9ad8\u7cbe\u76f8\u6bd4\u4e0ePython\u548cJava\u5b9e\u5728\u662f\u592a\u9ebb\u70e6\u4e86)\n\n\u4e00\u5f00\u59cb\u770b\u5230\u8fd9\u9898\u8fd8\u4ee5\u4e3a\u662f**DP**\uff0c\u50cf\u662f**\u5212\u5206\u4e00\u4e2a\u5e8f\u5217**\u4e00\u6837\uff0c\u4f46\u662f\u600e\u4e48\u60f3\u90fd\u60f3\u4e0d\u51fa\u6765\uff0c\u4e3b\u8981\u662f\u65f6\u95f4\u4e0a\u627f\u53d7\u4e0d\u8d77\uff0c\u9ad8\u7cbe\u4e58\u9ad8\u7cbe\u6709n^2,\u9ad8\u7cbe\u4e58\u5355\u7cbe\u4e5f\u8981\u6709n\u7684\u590d\u6742\u5ea6\uff0c\u518d\u7b97\u4e0aDP\u7684\u590d\u6742\u5ea6\u60f3\u90fd\u4e0d\u7528\u60f3\u4e00\u5b9aTLE\u3002FFT\u7684\u9ad8\u7cbe\u4e58\u6211\u8fd9\u4e2a\u849f\u84bb\u4e0d\u4f1a\uff0c\u4e58\u6cd5\u6ca1\u6709\u529e\u6cd5\u4f18\u5316\uff0c\u6240\u4ee5\u53ea\u80fd\u60f3\u522b\u7684\u529e\u6cd5\u4e86\u3002\n\n\u5212\u5206\u5e8f\u5217\u4e3b\u8981\u662f\u5c06\u4e00\u4e2a\u5e8f\u5217\u5212\u5206\u4e3ak\u6bb5\uff0c\u4f46\u8fd9\u9898\u6ca1\u6709\u8981\u6c42\u6570\u88ab\u5212\u5206\u7684\u90e8\u5206\u6570\uff0c\u4e5f\u6ca1\u6709\u9650\u5236\u662f\u5426\u76f8\u540c\uff0c\u663e\u7136\u80af\u5b9a\u662f**\u5212\u5206\u7684\u8d8a\u5e73\u5747\uff0c\u5b83\u4eec\u603b\u7684\u79ef\u8d8a\u5927**(\u8fd9\u4e2a\u5c31\u4e0d\u7528\u89e3\u91ca\u4e86\u5427\uff0c\u6bd5\u7adf\u8fde\u6211\u8fd9\u4e2a\u849f\u84bb\u90fd\u77e5\u9053)\uff0c\u6240\u4ee5\u53ef\u4ee5\u6765**\u679a\u4e3e\u5212\u5206\u7684\u90e8\u5206\u6570\u6216\u6bcf\u4e00\u90e8\u5206\u7684\u503c**\u3002\n\n**\u679a\u4e3e**\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#define ll long long\nusing namespace std;\n\nint n,ans;\n\ninline int power(int x,int p) {//\u5feb\u901f\u5e42 \n\tif(p==0)return 1;\n\tll ans=1;\n\twhile(p) {\n\t\tif(p&1) {\n\t\t\tans*=x;\n\t\t}\n\t\tx*=x;\n\t\tp/=2;\n\t}\n\treturn ans;\n}\n\nint main() {\n\tscanf(\"%d\",&n);\n\tfor(int i=2; i<=n; i++) {//\u679a\u4e3e\u6bcf\u4e00\u4efd\u7684\u503c\n\t\tans=max(ans,power(i,n/i)*max(1,(n%i)));//\u7279\u5224\u4f59\u6570\n\t\tans=max(ans,power(i,n/i-1)*(n%i+i));//\u4f59\u6570\u4e3a1\u7684\u65f6\u5019\u8981\u52a0\u4e0a\uff0c\u4e58\u4ee51\u7684\u8bdd1\u6ca1\u6709\u4efb\u4f55\u8d21\u732e\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n\n\u4e0d\u8fc7\u8fd9\u6837\u8fd8\u662f\u6709\u70b9\u6162\uff0c\u6240\u4ee5\u8981\u7ee7\u7eed\u4f18\u5316\u3002\u53ef\u4ee5\u8fd1\u4f3c\u7684\u770b\u51fa\u8fd9\u662f\u4e00\u4e2a**\u5355\u5cf0**\u7684\u51fd\u6570\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u7528**\u4e09\u5206**\u6765\u4f18\u5316\uff0c\u53ef\u4ee5\u8dd1\u7684\u7a0d\u5fae\u5feb\u4e00\u70b9\u3002\n\n**\u4e09\u5206**\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#define ll long long\nusing namespace std;\n\nint l,r,midl,midr,n,ans;\n\ninline int power(int x,int p) { //\u5feb\u901f\u5e42\n\tif(p==0)return 1;\n\tll ans=1;\n\twhile(p) {\n\t\tif(p&1) {\n\t\t\tans*=x;\n\t\t}\n\t\tx*=x;\n\t\tp/=2;\n\t}\n\treturn ans;\n}\n\ninline int calc(int k) { //\u8ba1\u7b97\u6bcf\u4e00\u4efd\u503c\u4e3ak\u65f6\u7684\u7b54\u6848\n\treturn max(power(k,n/k)*max(1,(n%k)),power(k,n/k-1)*(n%k+k));\n}//\u7279\u5224\u4f59\u6570\uff0c\u56e0\u4e3a\u4f59\u6570\u4e3a1\u7684\u65f6\u5019\u8981\u52a0\u4e0a\uff0c\u4e58\u4ee51\u7684\u8bdd1\u53c8\u6ca1\u6709\u4efb\u4f55\u8d21\u732e\n\nint main() {\n\tscanf(\"%d\",&n);\n\tl=1;\n\tr=n;\n\twhile(l<r) { //\u4e09\u5206\u6bcf\u4e00\u4efd\u7684\u503c\n\t\tint block=(r-l)/3;\n\t\tmidl=l+block;\n\t\tmidr=r-block;\n\t\tif(calc(midl)>=calc(midr)) {\n\t\t\tr=midr-1;\n\t\t} else {\n\t\t\tl=midl+1;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",calc(l));\n\treturn 0;\n}\n```\n\n\u4f46\u662f\u4e09\u5206\u4ecd\u7136\u4e0d\u662f\u6b63\u89e3\uff0c\u5b83\u8fd8\u662f\u4e0d\u591f\u5feb\u3002\n\n\u56e0\u4e3a\u5212\u5206\u7684\u8d8a\u5e73\u5747\uff0c\u5b83\u4eec\u603b\u7684\u79ef\u8d8a\u5927\uff0c\u6240\u4ee5\u8bf4\u5212\u5206\u51fa\u6765\u7684\u5927\u591a\u6570\u6570\u5176\u5b9e\u662f\u4e00\u6837\u7684\uff0c\u8fd9\u9898\u6700\u540e\u7684\u7ed3\u679c\u53ef\u4ee5\u8fd1\u4f3c\u7684\u5199\u4e3a(n/k)^k\uff0c\u7136\u800c\u8fd9\u4e2a(n/k)\u5927\u591a\u6570\u7684\u60c5\u51b5\u90fd\u662f3\uff0c\u8fd9\u663e\u5f97\u5f88\u795e\u5947\uff0c\u4f46\u5176\u5b9e\u8fd9\u662f\u5fc5\u7136\u7684\uff0c\u5982\u679c(n/k)\u53ef\u4ee5\u4e3a\u6d6e\u70b9\u6570\uff0c\u90a3\u4e48\u4e09\u5206\u8fd9\u4e2a(n/k)\u4f1a\u4e0d\u65ad\u7684\u903c\u8fd1**2.71828**,\u8fd9\u4e2a\u6570\u60f3\u5fc5\u5927\u5bb6\u90fd\u8ba4\u8bc6\u5427\uff0c\u4e5f\u5c31\u662f**e**\u7684\u8fd1\u4f3c\u503c\uff0c\u6240\u4ee5\u8bf4(n/k)\u8d8a\u63a5\u8fd1e\uff0c\u6700\u7ec8\u7684\u503c\u8d8a\u5927\u3002(\u6240\u4ee5\u8bf4\u4e0a\u9762\u7684\u65b9\u6cd5\u90fd\u662f\u5e9f\u8bdd\uff0c\u4ec0\u4e48\u7528\u90fd\u6ca1\u6709\uff0c\u53ea\u662f\u6211\u81ea\u5df1\u5f31\uff0c\u6ca1\u6709\u60f3\u5230\u800c\u5df2\uff0c**\u51fd\u6570y=x^(1/x)\u7684\u6700\u5927\u503c\u5728x=e\u65f6\u5f97**\u5927\u6982\u4e5f\u5c31\u6211\u8fd9\u4e2a\u849f\u84bb\u4e0d\u77e5\u9053\u4e86)\u56e0\u4e3a\u8981\u662f\u6574\u6570\uff0c\u800c3\u662f\u6700\u63a5\u8fd1e\u7684\u6574\u6570\uff0c\u6240\u4ee5\u8981\u5c3d\u91cf\u628a\u6bcf\u4e00\u4efd\u5206\u62103\u3002\u77e5\u9053\u4e86\u8fd9\u4e00\u70b9\u540e\u5c31\u5f88\u6c34\u4e86\uff0c\u53ea\u8981\u6bcf\u4efd\u5206\u62103\uff0c\u7136\u540e\u7279\u5224\u4e00\u4e0b\u4f59\u6570\u3002\u7136\u540e\u5199\u4e2a\u9ad8\u7cbe\u4e58\u5355\u7cbe\uff0c\u6216\u8005\u7528\u9ad8\u7cbe\u4e58\u9ad8\u7cbe(\u8fd9\u6837\u53ef\u4ee5\u7528\u5feb\u901f\u5e42),\u7136\u540e\u5c31\u80fd\u6c34\u8fc7\u4e86\u3002\n\n**AC\u4ee3\u7801**\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#define ll long long\nusing namespace std;\n\nstruct bigint { //\u7ed3\u6784\u4f53\u5b58\u9ad8\u7cbe\n\tint mark,size,num[20005];\n\tinline bigint operator=(const bigint& x) { //\u91cd\u8f7d\u8d4b\u503c\u7b26\u53f7\n\t\tmemset(num,0,sizeof num);\n\t\tmark=x.mark;\n\t\tsize=x.size;\n\t\tfor(int i=1; i<=x.size; i++) {\n\t\t\tnum[i]=x.num[i];\n\t\t}\n\t\treturn *this;\n\t}\n};\n\ninline void change(bigint &x) { //\u68c0\u67e5\u524d\u5bfc\u96f6\n\twhile(x.num[x.size]==0) {\n\t\tx.size--;\n\t}\n\tif(x.size<=0)x.size=1,x.num[1]=0;\n}\n\ninline void write(bigint x) { //\u8f93\u51fa\u9ad8\u7cbe\u6570\n\tchange(x);\n\tif(x.mark==1) {\n\t\tputchar('-');\n\t}\n\tfor(int i=x.size; i>=max(1,x.size-99); i--) { //\u9650\u5236\u4e3a100\u4f4d\n\t\tputchar(x.num[i]+'0');\n\t}\n\tputchar('\\n');\n}\n\ninline bigint tobigint(ll a) { //\u5c06\u6574\u5f62\u8f6c\u5316\u4e3a\u9ad8\u7cbe\u6570\n\tbigint c;\n\tmemset(c.num,0,sizeof c.num);\n\tif(a<0) {\n\t\ta=-a;\n\t\tc.mark=1;\n\t} else c.mark=0;\n\tc.size=0;\n\twhile(a>0) {\n\t\tc.num[++c.size]=a%10;\n\t\ta=a/10;\n\t}\n\tchange(c);\n\treturn c;\n}\n\ninline bigint operator*(bigint a,bigint b) { //\u9ad8\u7cbe\u4e58\u9ad8\u7cbe(\u672c\u4eba\u849f\u84bb\uff0c\u4e0d\u4f1a\u7528FFT)\n\tbigint c;\n\tmemset(c.num,0,sizeof c.num);\n\tif(a.mark==b.mark) {\n\t\tc.mark=0;\n\t} else {\n\t\tc.mark=1;\n\t}\n\tc.size=a.size+b.size-1;\n\tfor(int i=1; i<=a.size; i++) {\n\t\tfor(int j=1; j<=b.size; j++) {\n\t\t\tc.num[i+j-1]+=a.num[i]*b.num[j];\n\t\t\tif(c.num[i+j-1]>9) {\n\t\t\t\tc.num[i+j]+=c.num[i+j-1]/10;\n\t\t\t\tc.num[i+j-1]%=10;\n\t\t\t\tif(i+j>c.size)c.size++;\n\t\t\t}\n\t\t}\n\t}\n\tchange(c);\n\treturn c;\n}\n\ninline bigint operator*(bigint a,int b) { //\u9ad8\u7cbe\u4e58\u5355\u7cbe\n\treturn a*tobigint(b);//\u5077\u4e86\u4e2a\u61d2\uff0c\u76f4\u63a5\u8f6c\u5316\u4e58\u9ad8\u7cbe\u8fdb\u884c\u8ba1\u7b97\n}\n\nint n,p,l;\nbigint ans;\n\ninline bigint pow(bigint x,int p) { //\u9ad8\u7cbe\u5feb\u901f\u5e42\n\tif(p==0) {\n\t\treturn tobigint(1);\n\t}\n\tbigint ans=tobigint(1);\n\twhile(p) {\n\t\tif(p&1)ans=ans*x;\n\t\tx=x*x;\n\t\tp/=2;\n\t}\n\treturn ans;\n}\n\nint main() {\n\tscanf(\"%d\",&n);\n\tl=n%3;//l\u5b58\u4f59\u6570\n\tif(l==1) { //\u4f59\u6570\u4e3a1\u7279\u5224\n\t\tl=l+3;\n\t\tp=n/3-1;\n\t} else { //\u540c\u4e0a\n\t\tp=n/3;\n\t}\n\tans=pow(tobigint(3),p)*max(l,1);//\u8ba1\u7b97\n\tprintf(\"%d\\n\",ans.size);\n\twrite(ans);\n\treturn 0;\n}\n```\n(\u672c\u4eba\u5b9e\u5728\u662f\u592a\u6e23\u4e86\uff0c\u9ad8\u7cbe\u5199\u7684\u592a\u4e11\uff0c\u5176\u5b9e\u4e0d\u7528\u90a3\u4e48\u957f)",
        "postTime": 1518075642,
        "uid": 27884,
        "name": "zhaotiensn",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4157 \u3010[SCOI2006]\u6574\u6570\u5212\u5206\u3011"
    },
    {
        "content": "\u53ef\u4ee5\u7b80\u5355\u7684\u7528 python \u505a\uff1a\n\n\u6839\u636e\u5927\u773c\u89c2\u5bdf\u6cd5\uff0c\u6211\u4eec\u53d1\u73b0\uff0c  $n$ \u53ea\u80fd\u62c6\u6210\u4e00\u5806 $2$ \u548c $3$ \u7684\u548c\u3002\u800c\u4e14 $3$ \u8981\u5c3d\u91cf\u591a\u3002\n\n\u90a3\u4e48\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n*  $n \\bmod 3 =0$ \u76f4\u63a5\u628a $n$ \u62c6\u6210 $\\dfrac n 3$ \u4e2a $3$ \u3002\n\n*  $n \\bmod 3 =1$ \u56e0\u4e3a\u6ca1\u6709\u529e\u6cd5\u76f4\u63a5\u628a $n$ \u62c6\u6210 $\\dfrac n 3$ \u4e2a $3$\uff0c\u6240\u4ee5\u5148\u51cf\u53bb\u4e24\u4e2a $2$ \uff0c\u5269\u4e0b\u7684 $n \\bmod 3 =0$ \uff0c\u540c\u4e0a\u3002\n\n* $n \\bmod 3 =2$ \u7528\u540c\u6837\u7684\u65b9\u6cd5\uff0c\u51cf\u53bb $1$ \u4e2a $2$ \u5c31\u53ef\u4ee5\u4f7f\u5269\u4e0b\u7684 $n \\bmod 3 =0$ \u3002\n\n```python\nn=int(input())\nn=int(n)\nif n%3==0:\n    ans=3**(int(n/3))\nif n%3==1:\n    ans=3**(int((n-4)/3))*4\nif n%3==2:\n    ans=3**(int((n-2)/3))*2\nans=str(ans)\nprint(len(ans))\ni=0\nwhile i<len(ans) and i<100:\n    print(ans[i],end='')\n    i=i+1\n```\n",
        "postTime": 1584863236,
        "uid": 203623,
        "name": "Ntokisq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4157 \u3010[SCOI2006]\u6574\u6570\u5212\u5206\u3011"
    },
    {
        "content": "# \u7b2c\u4e8c\u7bc7\u84dd\u9898\u9898\u89e3\n\n\u8ba9\u6211\u4eec\u60f3\u4e00\u60f3\uff0cn\u5212\u5206\u6210\u4ec0\u4e48\u6700\u4f18\uff1f\n\n~~\uff08\u9996\u5148\u4e00\u5b9a\u8981\u4fdd\u8bc1\u5212\u5206\u51fa\u6765\u7684\u6570\u63a5\u8fd1\uff09~~\n\n\u6765\u66b4\u641c\u679a\u4e3e\u4e00\u4e0b\uff1a\n```\nn=1:1=1\nn=2:2=2\nn=3:3=3\nn=4:4=2*2\nn=5:6=2*3\nn=6:9=3*3\nn=7:12=3*2*2\nn=8:18=3*3*2\nn=9:27=3*3*3\n...... \n```\n\u90fd\u662f2\u62163\u5462~~~\n\n\u6240\u4ee5\u5f97\u5230~~\u8d2a\u5fc3~~\u6570\u5b66\u7b56\u7565\uff1a\u53d63\u53d6\u5230n<3\u6216n=4\n\n\u8fdb\u4e00\u6b65\uff1a\n```\nif(n%3==0)ans=pow(3,n/3);\nif(n%3==1)ans=pow(3,n/3-1)*4\nif(n%3==2)ans=pow(3,n/3)*2\n```\n\u6240\u4ee5\u6709\u4e8630\u5206\u4ee3\u7801\uff1a\n```\n#include<bits/stdc++.h>\nusing namespace std;\nlong long n;\nlong long ans;\nint cmp;\ninline long long read(){\n\tlong long x=0,f=1;\n\tchar c=getchar();\n\tif(c=='-')f=-1;\n\telse x=x*10+c-'0';\n\tc=getchar();\n\twhile(c>='0'&&c<='9')x=x*10+c-'0',c=getchar();\n\treturn x*f;\n}\nint main(){\n\tn=read();\n\tif(n%3==0)ans=pow(3,n/3);\n\tif(n%3==1)ans=pow(3,n/3-1)*4;\n\tif(n%3==2)ans=pow(3,n/3)*2;\n\tlong long aans=ans;\n\twhile(aans)aans/=10,cmp++;\n\tcout<<cmp<<endl;\n\tcout<<ans;\n\treturn 0;\n}\n\n```\n\n# \uff1f\uff1f\uff1f\uff1f \u65b9\u6cd5\u9519\u4e86\uff1f\uff1f\uff1f\uff1f\n\n### \u63d0\u793a\uff1a\u5728\u7ed9\u5b9a\u7684\u8303\u56f4\u5185\uff0c\u6700\u5927\u4e58\u79ef\u7684\u4f4d\u6570\u4e0d\u8d85\u8fc75000\u4f4d\u3002----by P4157[SCOI2006]\u6574\u6570\u5212\u5206\n\n\n\n~~(\u773c\u778e*1)~~\n\n\u52a0\u9ad8\u7cbe~~\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nlong long n;\nint a[5010];\nvoid mul(int x){\n\tint q=0;\n\tfor(int i=1;i<=a[0]+1;i++){\n\t\ta[i]=a[i]*x+q;\n\t\tq=a[i]/10;\n\t\ta[i]%=10;\n\t}\n\tif(a[a[0]+1])a[0]++;\n}\ninline long long read(){\n\tlong long x=0,f=1;\n\tchar c=getchar();\n\tif(c=='-')f=-1;\n\telse x=x*10+c-'0';\n\tc=getchar();\n\twhile(c>='0'&&c<='9')x=x*10+c-'0',c=getchar();\n\treturn x*f;\n}\nint main(){\n\tcin>>n;\n\ta[0]=1,a[1]=1;\n\tif(n%3==0){\n\t\tfor(int i=1;i<=n/3;i++)mul(3);\n\t\tcout<<a[0]<<endl;\n\t\tfor(int i=a[0];i>=1;i--)cout<<a[i];\n\t\treturn 0;\n\t}\n\tif(n%3==1){\n\t\tfor(int i=1;i<=n/3-1;i++)mul(3);\n\t\tmul(4);\n\t\tcout<<a[0]<<endl;\n\t\tfor(int i=a[0];i>=1;i--)cout<<a[i];\n\t\treturn 0;\n\t}\n\tif(n%3==2){\n\t\tfor(int i=1;i<=n/3;i++)mul(3);\n\t\tmul(2);\n\t\tcout<<a[0]<<endl;\n\t\tfor(int i=a[0];i>=1;i--)cout<<a[i];\n\t\treturn 0;\n\t}\n\treturn 0;\n}\n\n\n```\n# 50\uff1f\uff1f\uff1f\n\n### \u7b2c2\u884c\u8f93\u51fa\u6700\u5927\u4e58\u79ef\u7684\u524d100\u4f4d\uff0c\u5982\u679c\u4e0d\u8db3100\u4f4d\uff0c\u5219\u6309\u5b9e\u9645\u4f4d\u6570\u8f93\u51fa\u6700\u5927\u4e58\u79ef\u3002----by P4157[SCOI2006]\u6574\u6570\u5212\u5206\n\n\n~~(\u773c\u778e*2)~~\n\n##### \u518d\u62a2\u6551\u4e00\u4e0b\u5427\u2026\u2026\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nlong long n;\nint a[5010];\nvoid mul(int x){\n\tint q=0;\n\tfor(int i=1;i<=a[0]+1;i++){\n\t\ta[i]=a[i]*x+q;\n\t\tq=a[i]/10;\n\t\ta[i]%=10;\n\t}\n\tif(a[a[0]+1])a[0]++;\n}\ninline long long read(){\n\tlong long x=0,f=1;\n\tchar c=getchar();\n\tif(c=='-')f=-1;\n\telse x=x*10+c-'0';\n\tc=getchar();\n\twhile(c>='0'&&c<='9')x=x*10+c-'0',c=getchar();\n\treturn x*f;\n}\nint main(){\n\tcin>>n;\n\ta[0]=1,a[1]=1;\n\tif(n%3==0){\n\t\tfor(int i=1;i<=n/3;i++)mul(3);\n\t\tcout<<a[0]<<endl;\n\t\tfor(int i=a[0];i>=max(a[0]-99,1);i--)cout<<a[i];\n\t\treturn 0;\n\t}\n\tif(n%3==1){\n\t\tfor(int i=1;i<=n/3-1;i++)mul(3);\n\t\tmul(4);\n\t\tcout<<a[0]<<endl;\n\t\tfor(int i=a[0];i>=max(a[0]-99,1);i--)cout<<a[i];\n\t\treturn 0;\n\t}\n\tif(n%3==2){\n\t\tfor(int i=1;i<=n/3;i++)mul(3);\n\t\tmul(2);\n\t\tcout<<a[0]<<endl;\n\t\tfor(int i=a[0];i>=max(a[0]-99,1);i--)cout<<a[i];\n\t\treturn 0;\n\t}\n\treturn 0;\n}\n\n\n```\n\u7ec8\u4e8eAC\u4e86\n",
        "postTime": 1573451704,
        "uid": 90706,
        "name": "_jimmywang_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4157 \u3010[SCOI2006]\u6574\u6570\u5212\u5206\u3011"
    },
    {
        "content": "# \u53c8\u662f\u9ad8\u7cbe\u5ea6\u7684\u9898\u76ee\uff0c\u4f46\u662f\u8fd9\u6b21\u6211\u4e0d\u7528\u6a21\u677f\uff0c\u9009\u62e9\u62c6\u5206\u4e4b\u540e\u7b80\u5355\u5316\n\n\u8981\u6c42\u6574\u6570\u5212\u5206\uff0c\u4e14\u79ef\u8d8a\u5927\uff0c\u5c31\u5982\u540c\u77e9\u5f62\u5468\u957f\u5212\u5206\u6c42\u9762\u79ef\u6700\u5927\uff0c\u90a3\u4e48\u5c31\u662f\u6b63\u65b9\u5f62\u6700\u5927\uff0c\u5373\u8d8a\u5e73\u5747\u7b54\u6848\u8d8a\u5927\u3002\n\u4e8e\u662f\uff0c\u5c06\u4e00\u4e2a\u6570\u5212\u5206\uff0c\u5c31\u662f\u4e0d\u65ad\u5206\u6210\u4e24\u4efd\u7684\u8fc7\u7a0b\uff0c\u5982\u679c\u662f\u5947\u6570\u5219\u4e3an/2\u548cn/2+1\uff0c\u5076\u6570\u5219\u4e3an/2\u548cn/2\uff0c\u6700\u7ec8\u7ed3\u679c\u5fc5\u5b9a\u662fx\u4e2a3\u548cy\u4e2a2\u3002\n\u7531\u4e8e2^3=8,2+2+2=6\uff0c\u800c3^2=9,3+3=6\uff0c\u5982\u679c\u9047\u52303\u4e2a2\u5219\u7528\u4e24\u4e2a\u4e09\u66ff\u6362\n\n## \u9898\u76ee\u7684\u5c0f\u5751\u70b9\n1:3\u4e0e2\u7684\u66ff\u6362\n2\uff1a\u8fdb\u4f4d\u7684\u8ba1\u7b97\n3\uff1a\u5173\u4e8e\u66ff\u6362\u4e4b\u540e\u7684\u6b8b\u7559\u95ee\u9898\n### \u4ee3\u7801\n```\n#include<iostream>\n#include<queue>\n#include<cstring>\n#include<cstdio>\n#include<cctype>\n#include<algorithm>\nusing namespace std;\nlong long n;\nqueue<long long>q;\nint f[50005],cnt=1;//\u50a8\u5b58\u539f\u6570\nint a[50005];//\u8fdb\u4f4d\u6570\u7ec4\nint c2,c3;\nvoid change(int x)\n{\n    for(int i=1;i<cnt;++i)\n    {\n        f[i]*=x;\n        if(f[i]>=10)\n        {\n            a[i+1]=f[i]/10;\n            f[i]=f[i]%10;\n        }\n    }//\u7b2c\u4e00\u6b21\u4e58\u548c\u8fdb\u4f4d\u5904\u7406\uff0c\u4e00\u5b9a\u8981\u5f00\u4e00\u4e2a\u6570\u7ec4\u4e0d\u7136\u4f1a\u628a\u8fdb\u4f4d\u7684\u6570\u4e00\u8d77\u505a\u4e0b\u4e00\u6b21\u4e58\u6cd5\n    f[cnt]*=x;\n    if(f[cnt]>=10)\n    {\n      \n        a[cnt+1]=f[cnt]/10;\n        f[cnt]=f[cnt]%10;\n        cnt++;\n    }//\u5f53\u8d85\u51fa\u5f53\u524d\u6700\u5927\u4f4d\u6570\u65f6\u8981\u52a0\u7279\u5224\u8fdb\u4f4d\uff0c\u5e76\u66f4\u65b0\u6700\u5927\u4f4d\u6570cnt\n    for(int i=1;i<=cnt;++i)\n    {\n    \tf[i]=a[i]+f[i];\n    \tif(f[i]>=10)\n    \t{\n    \t\tf[i+1]+=f[i]/10;\n    \t\tf[i]=f[i]%10;\n    \t\tif(i==cnt) cnt++;\n    \t}\t\n    } //\u52a0\u4e0a\u8fdb\u4f4d\u7684\u6570\uff0c\u5e76\u4e14\u4e5f\u8981\u5224\u65ad\u662f\u5426\u9700\u8981\u8fdb\u4f4d\n    memset(a,0,sizeof(a));//\u7528\u5b8c\u6e05\u96f6\n}\nint main()\n{\n    scanf(\"%d\",&n);\n    q.push(n);\n    while(!q.empty())\n    {\n        int x=q.front();q.pop();\n        if(x==2||x==3)\n        {\n        \t(x==2)?c2++:c3++;\n            continue;\n        }\n        q.push(x/2);\n        q.push(x-x/2);\n    }//\u961f\u5217\u5206\u89e3\u56e0\u6570\n    if(c2>=3)\n    {\n    \tc3+=c2/3*2;\n    \tc2=c2%3;\n    }//\u75283\u66ff\u63622\n    f[1]=1;//\u521d\u503c\u4e0d\u80fd\u4e3a0\n    for(int i=1;i<=c3/2;++i)\n    change(9); //\u7531\u4e8e\u6211\u7684\u7b97\u6cd5\u4e3a\u4e00\u4f4d\u4e58\u591a\u4f4d\uff0c3\u4e5f\u662f\u4e58\uff0c9\u4e5f\u662f\u4e58\uff0c\u4e0d\u5982\u75289\u66ff\u63623\u53ef\u4ee5\u8282\u7ea6\u4e00\u70b9\u65f6\u95f4\n    if(c3%2!=0)\n    \tchange(3);//\u591a\u51fa\u76843\u8981\u4e58\u56de\n    if(c2!=0)//\u8fd9\u91cc\u4e00\u5b9a\u8981\u7279\u5224\uff0c\u5728\u4e0b\u56e0\u4e3a\u6ca1\u7279\u5224\u78b0\u89c13\u7684\u500d\u6570\u5c31\u5168\u90e8\u8f93\u51fa0\n    change(c2*2);\n    cout<<cnt<<endl;\n    reverse(f+1,f+cnt+1);//\u6570\u7ec4\u7ffb\u8f6c\uff0c\u5176\u5b9e\u65e0\u6240\u8c13\uff0c\u53ea\u4e0d\u8fc7\u770b\u8d77\u6765\u8212\u670d\n    for(int i=1;i<=min(100,cnt);i++)\n    \tcout<<f[i];\n}\n```\n\u5176\u5b9e\u8fd9\u9898\u76f4\u63a5\u62ff\u4e00\u4e2a\u6a21\u677f\u505a\u4e5f\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u4e0d\u8fc7\u65e2\u7136\u90fd\u62c6\u5206\u5f00\u4e86\u53c8\u4e58\u56de\u53bb\u611f\u89c9\u633a\u70e6\u7684\uff0c\u800c\u4e14\u4e00\u4f4d\u4e58\u591a\u4f4d\u4ee3\u7801\u5b9e\u73b0\u4e5f\u6bd4\u591a\u4f4d\u4e58\u591a\u4f4d\u7b80\u5355\u6613\u61c2\u7684\u591a\uff0c\u4e8e\u662f\u5c31\u591a\u591a\u6307\u6559\u5427\u3002",
        "postTime": 1533625484,
        "uid": 41887,
        "name": "Shikita",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4157 \u3010[SCOI2006]\u6574\u6570\u5212\u5206\u3011"
    },
    {
        "content": "\u8bdd\u8bf4\u8fd9\u662f\u6211\u7b2c\u4e00\u7bc7\u6570\u8bba\u65b9\u9762\u7684\u9898\u89e3\u554a\u2026\u2026\u5982\u6709\u4e0d\u8db3\uff0c\u8bf7\u5927\u4f6c\u4eec\u7ed9\u4e88\u6307\u5bfc\n# \u9898\u76ee\u63cf\u8ff0\n[~\u540c\u6837\u7684\u5c0f\u7f51\u5740~](https://www.luogu.org/problemnew/show/P4157)\n# \u9898\u610f\u5206\u6790\n\u7ed9\u51fa\u4e00\u4e2a\u6570$n$\uff0c\u628a\u8fd9\u4e2a\u6570\u5206\u89e3\u6210\u5f88\u591a\u4e2a\u6b63\u6574\u6570\u7684\u548c\uff0c\u7136\u540e\u628a\u5206\u89e3\u51fa\u6765\u7684\u8fd9\u4e9b\u6570\u6491\u8d77\u6765\uff0c\u6c42\u6700\u5927\u7684\u79ef\n# \u6570\u5b66\u5206\u6790\n\u6309\u7167\u90a3\u53e5\u8001\u8bdd\uff0c\u6570\u5b66\u4e0a\u6765\u5148\u6253\u8868\uff0c\u6240\u4ee5\n1. \u6392\u9664\uff08\u6d6a\u8d39\uff09\n2. \u6700\u5927\u79ef$\\ =2$\n3. \u6700\u5927\u79ef$\\ =3$\n4. \u6700\u5927\u79ef$\\ =2*2=4$\n5. \u6700\u5927\u79ef$\\ =2*3=6$\n6. \u6700\u5927\u79ef$\\ =3*3=9$\n7. \u6700\u5927\u79ef$\\ =2*2*3=12$\n8. \u6700\u5927\u79ef$\\ =2*3*3=18$\n\u2026\u2026\u2026\u2026\u2026\u2026\n\n\u8bf6\uff1f\u5217\u4e3e\u4e86\u8fd9\u4e48\u591a(\u54ea\u91cc\u591a\u4e86)\uff0c\u90fd\u662f\u5206\u89e3\u62102\u548c3\uff1f\u90a3\u662f\u4e0d\u662f\u5c31\u53ef\u4ee5\u6309\u7167\u8fd9\u4e2a\u89c4\u5f8b\uff0c\u5168\u90e8\u90fd\u5206\u89e3\u62102\u548c3\u5462\uff1f\n\u7b54\u6848\u662f\u80af\u5b9a\u7684\u3002\n\n\u4e3a\u4ec0\u4e48\u5462\uff1f~~\u56e0\u4e3a\u8fd9\u662f\u4e00\u4e2a\u7ed3\u8bba\u9898\u3002~~\n\n\u5c3d\u53ef\u80fd\u5c06\u8fd9\u4e2a\u6570\u5206\u6210\u4e24\u534a\u6765\u89e3\u51b3\u3002\u5982\u679c\u662f\u5076\u6570\uff0c\u90a3\u4e48\u5206\u6210$n/2+n/2$\uff1b\u5982\u679c\u662f\u5947\u6570\uff0c\u90a3\u4e48\u5206\u6210$n/2+(n/2+1)$\u3002\u8fd9\u6837\u5206\u4e0b\u6765\uff0c\u4e00\u5b9a\u4f1a\u5206\u52302\u548c3\uff0c\u4e5f\u5c31\u662f\u5f88\u5c0f\u7684\u5947\u6570\u548c\u5076\u6570\u3002\n\n\u4e3a\u4ec0\u4e48\u4e0d\u5206\u52301\u5462\uff1f\u4e0a\u9762\u5df2\u7ecf\u5f88\u597d\u7684\u7528\u4e00\u4e2a\u8bcd\u8bf4\u660e\u4e86\u2014\u2014\u6d6a\u8d39\u3002\u51cf\u4e86\u4e00\u4e2a1\uff0c\u7ed3\u679c\u4e00\u70b9\u53d8\u5316\u4e5f\u6ca1\u6709\n \n\u518d\u6765\u8bf4\uff0c2\u548c3\uff0c\u4f18\u5148\u5206\u54ea\u4e2a\uff1f\n\n\u56e0\u4e3a$2+2+2=3+3$\uff0c\u800c\u6b64\u65f6$2*2*2<3*3$\uff0c\u6240\u4ee5\u5e94\u8be5\u591a\u90093\u3002\n\n\u6240\u4ee5\uff0c\u5c31\u53ef\u4ee5\u9488\u5bf9$n$\u9664\u4ee53\u7684\u4f59\u6570\u8fdb\u884c\u5206\u7c7b\u8ba8\u8bba\u3002\u7279\u522b\u5730\uff0c\u5982\u679c\u4f59\u6570\u4e3a1\uff0c\u5e94\u8be5\u5c11\u5206\u4e00\u4e2a3\uff0c\u8f6c\u5316\u6210$2*2$\u3002\n\n\u6700\u540e\uff0c\u5982\u679c\u4f60\u4e0d\u4f1a\u9ad8\u4e58\u9ad8\uff0c\u8bf7~~\u7ec3\u4e60Python~~[\u53f3\u8f6c\u8fd9\u9053\u9898](https://www.luogu.org/problemnew/show/P1303)\n# \u4ee3\u7801\n\u6211\u7684\u6a21\u677f\u5199\u771f\u7684Very Ugly\uff0c\u800c\u4e14\u592a\u849f\u4e86\uff0c\u8fd8\u4e0d\u4f1aFFT\uff0c\u5982\u679c\u60a8\u89c9\u5f97\u4e0d\u597d\u770b\uff0c\u656c\u8bf7\u8c05\u89e3\n```cpp\n#include<map>\n#include<set>\n#include<list>\n#include<queue>\n#include<deque>\n#include<stack>\n#include<ctime>\n#include<cmath>\n#include<vector>\n#include<bitset>\n#include<cstdio>\n#include<cctype>\n#include<string>\n#include<cstdlib>\n#include<cstring>\n#include<climits>\n#include<iomanip>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define reg register\ninline bool OpenFile() {\n    freopen(\"divide.in\",\"r\",stdin);\n    freopen(\"divide.out\",\"w\",stdout);\n    return 1;\n}\n//bool _Open=OpenFile();\ntemplate <typename T>\ninline T read() {\n    T a=0; char c=getchar(),f=1;\n    while(c<'0'||c>'9') {\n        if(c=='-') f=-f;\n        if(c==-1) return c;\n        c=getchar();\n    }\n    while(c>='0'&&c<='9') a=(a<<1)+(a<<3)+(c^48),c=getchar();\n    return a*f;\n}\ntemplate <class T>\ninline int write(T x) {\n    if(x<0) x=(~x)+1, putchar('-');\n    if(x/10) write(x/10);\n    return putchar(x%10|48);\n}\ntemplate <class T>\ninline int write(T x,char c) {\n    return write(x)&&putchar(c);\n}\ntemplate <class T>\ninline T Max(T a,T b) { return a>b?a:b; }\ntemplate <class T>\ninline T Min(T a,T b) { return a<b?a:b; }\ntemplate <class T>\ninline T Abs(T a) { return a<0?-a:a; }\nstruct bigint{\n    int a[10001];\n    inline bigint& operator = (const char *s) {\n        memset(a,0,sizeof a);\n        int len=strlen(s);\n        a[0]=len;\n        for(reg int i=0,j;(j=len-i)&&i<len;i++)\n            a[j]=s[i]^48;\n        return *this;\n    }\n    inline bigint& operator = (const int &a) {\n        char s[5001];\n        sprintf(s,\"%d\",a);\n        return *this=s;\n    }\n    inline bigint() {}\n    inline bigint(const char *s) { *this=s; }\n    inline bigint(const int &a) { *this=a; }\n    inline void input() {\n        char s[5001];\n        scanf(\"%s\",s); *this=s;\n    }\n    inline void output() {\n        for(reg int i=a[0];i>=1;i--) write(a[i]);\n    }\n    inline bigint operator * (const bigint & b) {\n        bigint c; c=0;\n        c.a[0]=a[0]+b.a[0];\n        for(reg int i=1;i<=a[0];i++)\n            for(reg int j=1;j<=b.a[0];j++) {\n                c.a[i+j-1]+=a[i]*b.a[j];\n                c.a[i+j]+=c.a[i+j-1]/10;\n                c.a[i+j-1]%=10;\n            }\n        while(!c.a[c.a[0]]) c.a[0]--;\n        if(!c.a[0]) c.a[0]=1;\n        return c;\n    }\n}ans;\ninline bigint piow(bigint a,int b) {//\u53cd\u6b63\u53ea\u662f2\u548c3\u76f8\u4e58\u8d77\u6765\uff0c3\u7684\u5e42\u76f4\u63a5\u5feb\u901f\u5e42\u89e3\u51b3\n    bigint ans=1;\n    while(b) {\n        if(b&1) ans=ans*a;\n        a=a*a;\n        b>>=1;\n    }\n    return ans;\n}\nint main() {\n    int n=read<int>();\n    int t=n/3,t1=n%3;\n    if(t1==0) ans=piow(3,t);\n    else if(t1==1) ans=piow(3,t-1)*4;\n    else ans=piow(3,t)*2;\n    write(ans.a[0],'\\n');\n    for(reg int i=ans.a[0],j=1;i>=1&&j<=100;i--,j++)//\u8f93\u51fa\u524d\u4e00\u767e\u4f4d\n        write(ans.a[i]);\n}\n```",
        "postTime": 1546840016,
        "uid": 104241,
        "name": "Sora\u9171",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4157 \u3010[SCOI2006]\u6574\u6570\u5212\u5206\u3011"
    },
    {
        "content": "\u6700\u8fd1\u518d\u7ec3**FFT**\uff0c\u4e00\u770b\u8fd9\u4e2a\u9898\uff0c\u662f\u4e2a\u7ed3\u8bba\u9898\uff0c\u5373\u5c3d\u53ef\u80fd\u591a\u53d63\u3002\n\n\u7136\u540e\u662f\u4e2a\u9ad8\u7cbe\u4e86\uff0c\u4f46\u662f\u6211\u8fd9\u91cc\u7528FFT\u5b9e\u73b0\u3002\n```\n#pragma GCC optimize(3)\n#include<cstdio>\n#include<cmath>\n#include<iostream>\nusing namespace std;\ntypedef double D;\nconst int N=16500;\nconst D pai=3.141592653589793238462643383279;\nstruct cox{\n    D x,y;\n    cox(D xx=0,D yy=0){x=xx;y=yy;}\n}a[N],b[N];\ncox operator + (const cox &u,const cox &v){\n    return cox(u.x+v.x,u.y+v.y);\n}\ncox operator - (const cox &u,const cox &v){\n    return cox(u.x-v.x,u.y-v.y);\n}\ncox operator * (const cox &u,const cox &v){\n    return cox(u.x*v.x-u.y*v.y,u.x*v.y+u.y*v.x);\n}\nint n,rnk[N],c[N],len=16384,cn=13;\nvoid fft(cox *t,int op){\n    for(int i=0;i<len;i++)if(i<rnk[i])swap(t[i],t[rnk[i]]);\n    for(int i=1;i<len;i<<=1){\n        cox wn(cos(pai/i),op*sin(pai/i));\n        for(int j=0,jj=i<<1;j<len;j+=jj){\n            cox w(1,0);\n            for(int k=0;k<i;k++,w=w*wn){\n                cox r=t[j+k],rr=w*t[i+j+k];\n                t[j+k]=r+rr;\n                t[i+j+k]=r-rr;\n            }\n        }\n    }\n}\n//FFT\nvoid po(int op){\n    if(op){\n        fft(a,1);fft(b,1);\n        for(int i=0;i<=len;i++)a[i]=a[i]*b[i];\n        for(int i=0;i<=len;i++)b[i]=b[i]*b[i];\n        fft(a,-1);fft(b,-1); //\u5904\u7406\u4e58\u6cd5\n        \n        for(int i=0;i<=len;i++)c[i]=(int)(a[i].x/len+0.5);\n        for(int i=0;i<=len;i++)\n        if(c[i]>=10)c[i+1]+=c[i]/10,c[i]%=10;\n        for(int i=0;i<=len;i++)a[i].x=c[i],a[i].y=0,c[i]=0;//\u5904\u7406\u8fdb\u4f4d\n        \n        for(int i=0;i<=len;i++)c[i]=(int)(b[i].x/len+0.5);\n        for(int i=0;i<=len;i++)\n        if(c[i]>=10)c[i+1]+=c[i]/10,c[i]%=10;\n        for(int i=0;i<=len;i++)b[i].x=c[i],b[i].y=0,c[i]=0;//\u5904\u7406\u8fdb\u4f4d\n    }else{\n        fft(b,1);\n        for(int i=0;i<=len;i++)b[i]=b[i]*b[i];\n        fft(b,-1);  //\u5904\u7406\u4e58\u6cd5\n        \n        for(int i=0;i<=len;i++)c[i]=(int)(b[i].x/len+0.5);\n        for(int i=0;i<=len;i++)\n        if(c[i]>=10)c[i+1]+=c[i]/10,c[i]%=10;\n        for(int i=0;i<=len;i++)b[i].x=c[i],b[i].y=0,c[i]=0;  //\u5904\u7406\u8fdb\u4f4d\n    }\n}//\u5feb\u901f\u5e42\nint main(){\n    scanf(\"%d\",&n);\n    if(n==1){puts(\"1\");return 0;}\n    if(n==2){puts(\"2\");return 0;}\n    if(n%3==1)a[0]=4,n-=4;\n    else if(n%3==2)a[0]=2,n-=2;\n    else a[0]=1;\n    b[0]=3;n/=3;\n    for(int i=0;i<len;i++)rnk[i]=(rnk[i>>1]>>1)|((i&1)<<cn);//\u9884\u5904\u7406\n    for(;n;n>>=1)po((n&1)?1:0);//\u5feb\u901f\u5e42\n    int i;\n    for(i=len;a[i].x==0;i--);\n    printf(\"%d\\n\",i+1);\n    if(i<=99)for(;i>=0;i--)printf(\"%d\",(int)a[i].x);\n    else for(int j=100;j;j--,i--)printf(\"%d\",(int)a[i].x);//\u8f93\u51fa\n}\n```",
        "postTime": 1536291553,
        "uid": 50092,
        "name": "da32s1da",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P4157 \u3010[SCOI2006]\u6574\u6570\u5212\u5206\u3011"
    },
    {
        "content": "\u53ef\u4ee5\u63a8\u51fa3^n\u5927\u4e8e\u7b49\u4e8en^3\uff0c\u7136\u540e\u5199\u4e2a\u9ad8\u7cbe\u4e58\u5c31\u51fa\u6765\u4e86\n\n\u539f\u7406\u8bf7\u89c1\uff1a[3^n\u2265n^3](https://blog.csdn.net/qq_43890190/article/details/86145567)\n\n\u5176\u5b9e\u4e5f\u53ef\u4ee5\u7528dp\u505a\uff0c\u4f46\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u8fd8\u6ca1\u60f3\u51fa\u6765\n\n\u4ee5\u4e0b\u662f\u4ee3\u7801\uff1a\n```\n#include<cstdio>\ninline void read(int &x) {\n    x=0;\n    int f=1;\n    char s=getchar();\n    while(s<'0'||s>'9') {\n        if(s=='-')\n            f=-1;\n        s=getchar();\n    }\n    while(s>='0'&&s<='9') {\n        x=x*10+s-48;\n        s=getchar();\n    }\n    x*=f;\n}\ninline void pr(int x) {\n    if(x<0) {\n        putchar('-');\n        x=-x;\n    }\n    if(x>9)\n        pr(x/10);\n    putchar(x%10+48);\n}//\u5feb\u8bfb\u5feb\u8f93\u4e0d\u89e3\u91ca\nint i,n,j,k,x,cnt=1,a[5005]={1},o;//cnt\u8868\u793a\u4f4d\u6570\ninline void cheng(int x) {//\u9ad8\u7cbe\u4e58\n    for(i=cnt-1;i>=0;i--) {//\u4ece\u9ad8\u4f4d\u5f80\u4f4e\u4f4d\u4e58\n        a[i]*=x;\n        if(i==cnt-1&&a[i]>10)//\u6700\u9ad8\u4f4d\u7684\u8fdb\u4f4d\u64cd\u4f5c\n            cnt++;\n        a[i+1]+=a[i]/10;//\u5904\u7406\u8fdb\u4f4d\n        a[i]=a[i]%10;\n    }\n}\nint main() {\n    read(n);\n    while(n>5) {//3^n>n^3\uff0c\u5c3d\u91cf\u4e583\n        cheng(3);\n        n-=3;\n    }\n    if(n==3)//\u5269\u4e09\u4e58\u4e09\n        cheng(3);\n    else if(n==4)//\u5269\u56db\u4e58\u56db\n        cheng(4);\n    else if(n==5)//\u5269\u4e94\u4e58\u516d\uff0c2*3=6\n        cheng(6);\n    for(i=0;i<cnt;i++) {//\u4ece\u4f4e\u4f4d\u5230\u9ad8\u4f4d\u5904\u7406\u4e00\u904d\u8fdb\u4f4d\uff0c\u4e00\u5b9a\u8981\u4ece\u4f4e\u4f4d\u5230\u9ad8\u4f4d\n        if(i==cnt-1&&a[i]>=10)//\u6700\u9ad8\u4f4d\n            cnt++;\n        a[i+1]+=a[i]/10;\n        a[i]=a[i]%10;\n    }\n    pr(cnt),putchar('\\n');\n    if(cnt>=100)//\u524d100\u4f4d\n        for(i=cnt-1,o=0;o<100;i--,o++)\n            pr(a[i]);\n    else\n        for(i=cnt-1;i>=0;i--)\n            pr(a[i]);\n}\n```\n  [\u6211\u7684\u535a\u5ba2\u94fe\u63a5](https://blog.csdn.net/qq_43890190/article/details/86144757 )",
        "postTime": 1547013238,
        "uid": 104822,
        "name": "\u4e0d\u601d\u8fdb\u53d6\u601d\u4f60",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4157 \u3010[SCOI2006]\u6574\u6570\u5212\u5206\u3011"
    },
    {
        "content": "\u6570\u5b66\uff0c\u8d2a\u5fc3\uff0c\u9ad8\u7cbe\n\n\u7528\u591a3\u5c112\u65e01\u7b56\u7565\n\n\u4e3a\u4ec0\u4e48\u5462\uff1f\uff1f\uff1f\n\n\u5047\u8bben\u4e3a\u8981\u5212\u5206\u7684\u6570\n\n\u5148\u8bf4\u65e01 \u5982\u679cn=(n-1)+1 \u4e0d\u5982n=n\n\n\u56e0\u4e3a1\u00d7(n-1)=n-1<n\n\n\u518d\u8bf4\u591a3\n\n\u5982\u679cn=6\n\n\u591a2 6=2+2+2 2\u00d72\u00d72=8\n\n\u591a3 6=3+3 3\u00d73=9\n\n9>8\n\n\u90a3\u4e3a\u4ec0\u4e48\u4e0d\u7528\u591a4\u751a\u81f3\u591a\u66f4\u5927\u7684\u6570\u7684\u7b56\u7565\u5462\uff1f\n\n\u5982\u679cn=12\n\n\u591a3 12=3+3+3+3 3\u00d73\u00d73\u00d73=81\n\n\u591a4 12=4+4+4 4\u00d74\u00d74=64\n\n\u591a6 12=6+6 6\u00d76=36\n\n\u591a\u5927\u4e8e4\u7684\u6570\uff0c\u5b83\u4eec\u751a\u81f3\u6bd4\u591a2\u8fd8\u5dee\n\n\u591a2 12=2+2+2+2+2+2 2\u00d72\u00d72\u00d72\u00d72\u00d72=64\n\n64>36\n\n\u5148\u5206\u6210\u5c3d\u91cf\u591a\u76843\n\n\u5982\u679c\u4f59\u65700 \u521a\u521a\u597d\u76f4\u63a5\u4e58\u5c31\u884c\u4e86\n\n\u5982\u679c\u4f59\u65701 \u5c11\u4e00\u4e2a3\uff0c\u591a\u4e24\u4e2a2\uff083\u00d71<2\u00d72\uff09\n\n\u5982\u679c\u4f59\u65702 \u5c31\u75282\u4e58\n\n\u4e0d\u5b58\u5728\u4f59\u6570>=3\u7684\u60c5\u51b5\uff08\u4f59\u6570\u5c0f\u4e8e\u9664\u65703\uff09\n\n\u518d\u9ad8\u7cbe\u4e58\u5c31\u884c\u4e86\uff08\u6ca1\u8c01\u4e0d\u4f1a\u9ad8\u7cbe\uff0c\u800c\u4e14\u8fd8\u662f\u9ad8\u7cbe\u4e58\u5355\u7cbe\u8fd8\u6765\u505a\u84dd\u9898\u5427\uff0c\u4e0d\u7136\u56de\u5230\u6a59\u9898\u53bb\u5427\uff0c\u6216\u8005\u8d76\u7d27\u767e\u5ea6\u4e00\u4e0b\uff09\n\n\u4e0b\u9762\u662f\u4ee3\u7801\uff0c\u6709\u70b9\u957f\uff0c~~\u56e0\u4e3a\u849f\u84bb\u6c34\u5e73\u4e0d\u884c~~\uff1a\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<cstdio>\nusing namespace std;\nint a[10005];\nint main()\n{\n    int n,p=0,l=0;\n    cin>>n;\n    if (n==1)\n     {\n     \tcout<<1<<endl;\n     \tcout<<1<<endl;\n     \treturn 0;\n     }\n    int b=0;\n    for (int i=0;i<=10005;i++)\n      a[i]=0;\n    do\n    {\n        if (n==4)\n          {\n          \tb=2;\n          \tbreak;\n          }\n        if (n==2)\n          {\n            b=1;\n            break;\t\n          }\n        if (n>4||n==3)\n          {\n          \tp++;\n          \tn=n-3;\n          }\n    }while (n>0);\n    //cout<<b<<' '<<p<<endl;\n    if (b==1)\n      {\n      \ta[1]=2;\n      \tl=1;\n      }\n    if (b==0)\n      {\n      \ta[1]=1;\n      \tl=1;\n      }\n    if (b==2)\n      {\n      \ta[1]=4;\n      \tl=1;\n      }\n    //cout<<l<<endl;\n    for (int i=1;i<=p;i++)\n      {\n        for (int j=1;j<=l;j++)\n      \t  a[j]=a[j]*3;\n      \tfor (int j=1;j<=l;j++)\n      \t  {\n      \t  \ta[j+1]=a[j]/10+a[j+1];\n      \t  \ta[j]=a[j]%10;\n          }\n        if (a[l+1]!=0) l++;\t\n      }\n    cout<<l<<endl;\n    if (l<=100)\n    {\n        for (int i=l;i>=1;i--)\n          cout<<a[i];\n    }\n    else\n    {\n        for(int i=l;i>=l-99;i--)\n          cout<<a[i];\n    }\n    cout<<endl;\n    return 0;\n}\n```\n\u8c22\u8c22\u5de8\u4f6c\u4eec\u7684\u6b23\u8d4f\uff01\uff01\uff01\n\n\n\n\n\n\n\n\n\n",
        "postTime": 1546506338,
        "uid": 36957,
        "name": "RainFestival",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4157 \u3010[SCOI2006]\u6574\u6570\u5212\u5206\u3011"
    },
    {
        "content": "\u7ed3\u8bba\u9898\u3002\n\n\u9996\u5148\uff0c\u7b54\u6848\u4e00\u5b9a\u662f$3^k$\u6216\u8005$2*3^k$\u6216\u8005$4*3^k$\uff08\u53d6\u51b3\u4e8e\u4f59\u6570\uff09\uff0c\u539f\u56e0\u662f3\u6700\u9760\u8fd1e\uff0c\u81f3\u4e8e\u4e3a\u4ec0\u4e48\uff0c\u5199\u4e2a\u51fd\u6570\u63a8\u4e00\u63a8\u6781\u5927\u503c\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\n\u7136\u540e\u5c31\u662f\u4f4d\u6570\u4e86\u3002\u8ba1\u7b97\u65b9\u6cd5\u5c31\u662f\u53d6\u5bf9\u6570\uff0c\u5177\u4f53\u6765\u8bf4\uff1a\n\n\n\n$digits=Ln(ans)=\\frac{log_2ans}{log_2 10}=\\frac{(0/1/2)+klog_2 3}{log_2 10}$\n\n\n\u7136\u540e\u7b2c\u4e8c\u95ee\u663e\u7136\u662f\u9ad8\u7cbe\u3002\u4e3a\u4e86\u5077\u61d2\u5c31\u7528python3\u4e86\u3002\n\n\n\u4ee3\u7801:\n\n```py\nfrom math import log\nx=int(input())\na=x%3;x//=3\nif(a==1):\n    x=x-1\n    a=a+1\nelse:\n    if(a==2):\n        a=1\nd=pow(2,a)*pow(3,x)\n\nx=int(log(d)/log(10))+1\nprint(x)\nif(x<=100):\n    print(d)\nelse:\n    d//=pow(10,x-100)\n    print(int(d))\n```",
        "postTime": 1517218910,
        "uid": 7035,
        "name": "Great_Influence",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4157 \u3010[SCOI2006]\u6574\u6570\u5212\u5206\u3011"
    }
]