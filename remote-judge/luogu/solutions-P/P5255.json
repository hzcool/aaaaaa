[
    {
        "content": "$n$\u8fd9\u4e48\u5927\uff0c\u4e00\u773c\u77e9\u9635\u5feb\u901f\u5e42\u3002\n\n\u4ece\u7b2c$i$\u5217\u8f6c\u79fb\u5230\u7b2c$i+1$\u5217\uff0c\u6bcf\u4e00\u5217\u6709$32$\u79cd\u72b6\u6001\uff0c\u66b4\u529b\u679a\u4e3e\uff0c\u5224\u65ad\u80fd\u5426\u8f6c\u79fb\uff0c\u8f6c\u79fb\u77e9\u9635\u5c31\u641e\u597d\u4e86\u3002\n\n\u521d\u59cb\u5316\u7528**\u9ed1\u767d\u9ed1\u767d\u9ed1\u767d**\uff0c\u80fd\u8f6c\u79fb\u5230\u6240\u6709\u60c5\u51b5\u3002\n\n\u6ce8\u610f\u9ad8\u7cbe\u3002\n\n\u6ca1\u4e86\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint m,p,s,Ans;\nchar t[105];\nstruct mat{\n\tint c[32][32];\n\tvoid clear(){memset(c,0,sizeof(c));}\n\tmat operator *(const mat &o)const{\n\t\tmat r;\n\t\tr.clear();\n\t\tfor(int i=0;i<s;i++)\n\t\tfor(int k=0;k<s;k++)\n\t\tfor(int j=0;j<s;j++)\n\t\tif(c[i][k]&&o.c[k][j])\n\t\tr.c[i][j]=(r.c[i][j]+c[i][k]*o.c[k][j])%p;\n\t\treturn r;\n\t}\n}f,g;\nstruct BigInt{\n\tint c[105],len;\n\tvoid rad(){\n\t\tscanf(\"%s\",t);\n\t\tlen=strlen(t);\n\t\tfor(int i=0;i<len;i++)c[i]=t[i]-48;\n\t\treverse(c,c+len);\n\t}\n\tbool pd(){return len>1||c[0];}\n\tvoid div(){\n\t\tint tmp=0;\n\t\tfor(int i=len-1;i>=0;i--){\n\t\t\ttmp=tmp*10+c[i];\n\t\t\tc[i]=tmp>>1;\n\t\t\ttmp&=1;\n\t\t}\n\t\tif(!c[len-1])len--;\n\t}\n\tbool je(){return c[0]&1;}\n}n;\nint main(){\n\tn.rad();scanf(\"%d%d\",&m,&p);\n\ts=1<<m;\n\tfor(int i=0;i<s;i++)\n\tfor(int j=0;j<s;j++){\n\t\tint tmp=1;\n\t\tfor(int k=0;k<m-1;k++){//\u6ce8\u610f-1\n\t\t\tif(((i>>k)&(i>>(k+1))&(j>>k)&(j>>(k+1)))&1){tmp=0;break;}//2*2\u9ed1\n\t\t\tif(!(((i>>k)|(i>>(k+1))|(j>>k)|(j>>(k+1)))&1)){tmp=0;break;}//2*2\u767d\n\t\t}\n\t\tg.c[j][i]=tmp;\n        //\u8f6c\u79fb\u77e9\u9635\n\t}\n\tint tmp=0;\n\tfor(int i=0;i<m;i++)tmp+=(i&1)*(1<<i);\n\tf.c[0][tmp]=1;//\u521d\u59cb\u5316 \u9ed1\u767d\u9ed1\u767d\n\tfor(;n.pd();n.div(),g=g*g)\n\tif(n.je())f=f*g;\n\tfor(int i=0;i<s;i++)Ans+=f.c[0][i];//\u7d2f\u52a0\u6700\u540e\u4e00\u5217\u6240\u6709\u60c5\u51b5\n\tprintf(\"%d\\n\",Ans%p);\n}\n```",
        "postTime": 1552698316,
        "uid": 50092,
        "name": "da32s1da",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P5255 \u3010\u7f8e\u4e3d\u5bb6\u56ed \u3011"
    }
]