[
    {
        "content": "\u6211\u53d1\u73b0\uff0c\u6211\u73b0\u5728\u5728\u4f60\u8c37\u53d1\u58f0\uff08\u5f71\u54cd\u529b\u5927\u7684\uff09\u7684\u552f\u4e00\u65b9\u5f0f\u53ea\u6709\u53d1\u9898\u89e3\u4e86\u3002\n\n\u8fd9\u662f\u6211\u521d\u4e2d\u4e09\u5e74\u7b2c\u4e8c\u6b21\u88ab\u4f60\u8c37\u7981\u8a00\uff0c\u5728\u4e00\u5e74\u7684\u6c89\u5bc2\u4e4b\u540e\uff0c\u6211\u53c8\u5728\u4f60\u8c37\u4e0a\u53d1\u58f0\u4e86\uff0c\u7136\u800c\u597d\u666f\u4e0d\u957f\uff0c\u6211\u53c8\u88ab\u7981\u8a00\u4e86\u3002\n\n\u597d\u4e86\u4e0d\u626f\u4e86\uff0c\u770b\u770b\u8fd9\u9898\u5427\u3002\n\n###  _\u56e0\u4e3a\u4e0d\u53ef\u80fd\u6709\u4e24\u4e2a\u6a2a\u7740\u7684\u7ba1\u5b50\u63d2\u5728\u540c\u4e00\u884c\uff0c\u6240\u4ee5\u8fd9\u9898\u5c31\u5f88\u597d\u6a21\u62df\u4e86\u3002_ \n\n _**\u6b65\u9aa4\uff1a**_ \n\t\n 1.\u6211\u4eec\u5148\u66b4\u529b\u627e\u5230\u7b2c\u4e00\u4e2a\u7bb1\u5b50\u3002\n \n 2.\u7136\u540e\u518d\u4ece\u4e0b\u5f80\u4e0a\u679a\u4e3e\u6c34\u4f4d\uff0c\u4e00\u65e6\u53d1\u73b0\u8fd9\u4e00\u884c\u6709\u7ba1\u5b50\u8fde\u7740\uff0c\u5c31\u9a6c\u4e0a\u987a\u8fd9\u7ba1\u5b50\u4e0b\u53bb,\u5230\u8fbe\u7bb1\u5b50x\u3002\n\n3.\u5bf9x\u91cd\u590d2\u64cd\u4f5c\n\n4.\u5982\u679c\u6ca1\u7ba1\u5b50\u4e86\uff0c\u5c31\u8f93\u51fa\u6b64\u65f6\u7f16\u53f7\n\n## **\u6240\u4ee5\u80af\u5b9aDFS**\n\nCode:\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint read(){\n\tint ret=0,f=1;char ch=getchar();\n\twhile (ch<'0'||ch>'9'){if (ch=='-') f=-f;ch=getchar();}\n\twhile (ch>='0'&&ch<='9') ret=(ret<<3)+(ret<<1)+ch-'0',ch=getchar();\n\treturn ret*f;\n}\nconst int maxn=1005,flg[4][2]={{-1,0},{0,1},{1,0},{0,-1}};\nint n,m;\nchar A[maxn][maxn];\nvoid DFS(int u,int x,int y){\n\tint L=0,H=0;\n\twhile (A[x][y]!='+') y--;\n\twhile (A[x+L+1][y]!='+') ++L;L+=2;\n\twhile (A[x][y+H+1]!='+') ++H;H+=2;//\u7b97\u7bb1\u5b50\u5bbd\u5ea6\u548c\u9ad8\u5ea6\n\tfor (int i=x;i<=x+L-1&&!u;i++)\n\tfor (int j=y;j<=y+H-1&&!u;j++)\n\tif (A[i][j]>='0'&&A[i][j]<='9'){//\u627e\u7f16\u53f7\n\t\tchar ch=A[i][j];\n\t\twhile (ch>='0'&&ch<='9') u=(u<<3)+(u<<1)+ch-'0',ch=A[i][++j];//\u7c7b\u4f3c\u5feb\u8bfb\u7684\u64cd\u4f5c\n\t\tbreak;\n\t}\n\tfor (int i=x+L-2;i>=x-1;i--)//\u679a\u4e3e\u6c34\u4f4d\uff0c\u5e76\u904d\u5386\n\tif (A[i][y-1]=='-'||A[i][y+H]=='-'){\n\t\tint nx=i,ny,f;//f\u662f\u65b9\u5411\uff0c0\uff0c1\uff0c2\uff0c3\u5177\u4f53\u4ee3\u8868\u4ec0\u4e48\u65b9\u5411\u770bflg\u6570\u7ec4\n\t\tif (A[i][y-1]=='-') ny=y-1,f=3;\n\t\telse ny=y+H,f=1;\n\t\twhile (true){\n\t\t\tnx+=flg[f][0],ny+=flg[f][1];\n\t\t\tif (A[nx][ny]=='+'){\n\t\t\t\tif ((f==0||f==2)&&A[nx][ny-1]!='.') f=3;else\n\t\t\t\tif ((f==0||f==2)&&A[nx][ny+1]!='.') f=1;else\n\t\t\t\tif ((f==1||f==3)&&A[nx+1][ny]!='.') f=2;//\u5224\u65ad\u7ba1\u5b50\u662f\u5426\u6362\u65b9\u5411\n\t\t\t}else\n\t\t\tif (A[nx-flg[f][0]][ny-flg[f][1]]=='|'&&A[nx][ny]=='-') break;//\u5224\u65ad\u662f\u5426\u8d70\u5230\u6c34\u7bb1\u4e0a\u4e86\n\t\t}\n\t\tDFS(0,nx,ny);//\u7ee7\u7eed\u8d70\n\t}\n\tprintf(\"%d\\n\",u);\n}\nint main(){\n\tn=read(),m=read();\n\tfor (int i=1;i<=n;i++) scanf(\"%s\",A[i]+1);\n\tfor (int i=1;i<=n;i++)\n\tfor (int j=1;j<=m;j++)\n\tif (A[i][j]=='+'){DFS(1,i,j);return 0;}//\u7b2c\u4e00\u4e2a\u7bb1\u5b50\u80af\u5b9a\u5728\u6700\u4e0a\u9762\uff0c\u56e0\u4e3a'+'\u4e0a\u4e0d\u80fd\u63d2\u7ba1\u5b50\n\treturn 0;\n}\n```\n",
        "postTime": 1575793486,
        "uid": 98390,
        "name": "O2\u4eba",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5053 \u3010[COCI2017-2018#7] Clickbait\u3011"
    },
    {
        "content": "## \u9898\u76ee\u601d\u8def\n\n\u8fd9\u9053\u9898\u9898\u9762\u975e\u5e38\u957f\uff0c\u4f46\u662f\u4ed4\u7ec6\u8bfb\u5c31\u4f1a\u53d1\u73b0\u5b9e\u9645\u4e0a\u544a\u8bc9\u7684\u5c31\u662f\u8f93\u5165\u6bcf\u4e2a\u5b57\u7b26\u4ee3\u8868\u7740\u4ec0\u4e48\uff0c\u90fd\u662f\u54ea\u4e2a\u90e8\u5206\uff0c\u975e\u5e38\u597d\u7406\u89e3~~\u867d\u7136\u6211\u7406\u89e3\u4e86\u5f88\u4e45~~\u3002\n\n\u4e00\u822c\u8fd9\u79cd\u9898\u76ee\u5df2\u7ecf\u544a\u8bc9\u600e\u4e48\u505a\u7684\uff0c\u90fd\u662f\u5148\u6309\u7740\u9898\u76ee\u6240\u63cf\u8ff0\u7684\u7eaf\u6a21\u62df\uff0c\u7136\u540e\u5728\u8003\u8651\u522b\u7684\u7b97\u6cd5\uff0c\u7136\u800c\u8fd9\u9053\u9898\u53ef\u4ee5**\u7eaf\u6a21\u62df**\u3002\n\n\u8bfb\u9898\u4e0d\u96be\u53d1\u73b0\u8fd9\u9053\u9898\u548c\u7bb1\u5b50\u6709\u5bc6\u5207\u7684\u5173\u8054\uff0c\u800c\u4e14\u662f\u4ece\u7b2c\u4e00\u4e2a\u7bb1\u5b50\u5f00\u59cb\u6f0f\u7684\uff0c\u6240\u4ee5\u7a0b\u5e8f\u7b2c\u4e00\u6b65\u5c31\u662f\u8981\u627e\u51fa\u7b2c\u4e00\u4e2a\u7bb1\u5b50\n\u4ed4\u7ec6\u60f3\u4e00\u4e0b\uff0c\u56e0\u4e3a\u7bb1\u5b50\u4e0a\u9762\u662f\u4e0d\u53ef\u80fd\u53e0\u7740\u7bb1\u5b50\u7684\uff0c\u6240\u4ee5\u53ea\u8981\u4ece\u7b2c\u4e00\u884c\u5f00\u59cb\u66b4\u529b\u641c\u7d22\uff0c\u641c\u7d22\u5230 + \u5c31\u4ee3\u8868\u627e\u5230\u4e86\u7bb1\u5b50\u7684\u62d0\u89d2\n\u6c34\u662f\u4ece\u4e0b\u5f80\u4e0a\u6162\u6162\u5347\u9ad8\u7684\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u66b4\u529b\u6a21\u62df\u5230\u6709\u7ba1\u9053\u7684\u90a3\u4e00\u5c42\uff0c\u5c31\u7ee7\u7eed\u987a\u7740\u641c\u7d22\u3002\n\n\u4e00\u65e6\u641c\u7d22\u5230\u7bb1\u5b50\uff0c\u5c31\u91cd\u590d\u548c\u7b2c\u4e00\u4e2a\u7bb1\u5b50\u4e00\u6837\u7684\u64cd\u4f5c\uff0c\u7ee7\u7eed\u4e00\u5c42\u4e00\u5c42\u641c\u7d22\u4e0b\u53bb\uff0c\u76f4\u5230\u88c5\u6ee1\u4e86\uff0c\u56de\u6eaf\u3002\n\n\u6700\u540e\u8003\u8651\u7279\u6b8a\u60c5\u51b5\uff1a\u6700\u4e0d\u60f3\u78b0\u5230\u7684\u60c5\u51b5\u5f53\u7136\u662f\u7bb1\u5b50\u4e2d\u67d0\u4e00\u5c42\u6709\u4e24\u6839\u7ba1\u9053\u5ef6\u4f38\u51fa\u53bb\uff0c\u5f53\u7136\u9898\u76ee\u544a\u8bc9\u4f60\u8fd9\u4e0d\u53ef\u80fd\u6240\u4ee5\u66b4\u641c\u5c31\u597d\u4e86\u3002\n\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint direction[4][2]={{-1,0},{0,1},{1,0},{0,-1}}; //\u6570\u7ec4\u540d\u5df2\u7ecf\u5f88\u660e\u663e\u4e86\uff0c\u5c31\u662f\u5de6\u4e0a\u53f3\u4e0b\u56db\u4e2a\u65b9\u5411 \nchar c[1001][1001];\nint n,m;\nvoid dfs(int x,int y,int id){\n\tint len=0,height=0;\n\twhile(c[x][y]!='+')y--;\n\twhile(c[x+len+1][y]!='+')len++;\n\t  len+=2; // \u4e0d\u8981\u5fd8\uff0c\u52a0\u53f7\u8fd8\u6ca1\u7b97 \n\twhile(c[x][y+height+1]!='+')height++;\n\t height+=2; // \u4e0d\u8981\u5fd8\uff0c\u52a0\u53f7\u8fd8\u6ca1\u7b97\n\tfor(int i=x;i<=x+len-1&&!id;i++)\n\t  for(int j=y;j<=y+height-1&&!id;j++)\n\t    if(c[i][j]>='0'&&c[i][j]<='9'){\n\t    \tchar cc=c[i][j];\n\t    \twhile(cc>='0'&&cc<='9'){\n\t\t\t    id=id*10+cc-'0'; //\u4e0e\u5feb\u8bfb\u8bfb\u5165\u6570\u5b57\u5dee\u4e0d\u591a\uff0c\u7136\u800c\u8fd9\u91cc\u662f\u7b97\u7bb1\u5b50\u7684\u7f16\u53f7 \n\t\t        cc=c[i][++j]; //\u5feb\u8bfb\u662f\u7ee7\u7eed\u8bfb\u5165\uff0c\u8fd9\u91cc\u4e5f\u662f\u7ee7\u7eed\u5f80\u53f3\u641c\u7d22\u6570\u5b57 \n\t\t    }\n\t\t    break; \n\t\t}\n\tfor(int i=x+len-2;i>=x-1;i--) //\u679a\u4e3e\u6c34\n\t  if(c[i][y-1]=='-'||c[i][y+height]=='-'){ //\u679a\u4e3e\u5230\u4e86\n\t      int prex=i,prey,nowdirection;\n\t\t  if(c[i][y-1]=='-')\n\t\t    prey=y-1,nowdirection=3;\n\t\t  else\n\t\t    prey=y+height,nowdirection=1;\n\t\t    while(1){\n\t\t  \t    prex+=direction[nowdirection][0];\n\t\t  \t    prey+=direction[nowdirection][1];\n\t\t  \t    if(c[prex][prey]=='+'){\n\t\t  \t  \t    if((nowdirection==0||nowdirection==2)&&c[prex][prey-1]!='.')\n\t\t\t\t\t  nowdirection=3; //\u5411\u4e0b\u679a\u4e3e\n\t\t\t\t\telse if((nowdirection==0||nowdirection==2)&&c[prex][prey+1]!='.')\n\t\t\t\t\t  nowdirection=1; //\u5411\u4e0a\u679a\u4e3e \n\t\t\t\t\telse if((nowdirection==1||nowdirection==3)&&c[prex+1][prey]!='.')\n\t\t\t\t\t  nowdirection=2; //\u5411\u53f3\u679a\u4e3e \n\t\t\t    }\n\t\t\t    else if(c[prex-direction[nowdirection][0]][prey-direction[nowdirection][1]]=='|'&&c[prex][prey]=='-')break; //\u5224\u65ad\u662f\u5426\u53c8\u9047\u5230\u4e86\u5bb9\u5668 \n\t\t    } \n\t\t   dfs(prex,prey,0); //\u641c\u7d22 \n\t  } \n\t  cout<<id<<endl;\n}\nint main(){\n\tfreopen(\"clickbait.in\",\"r\",stdin);\n\tfreopen(\"clickbait.out\",\"w\",stdout);\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)scanf(\"%s\",c[i]+1); //\u8bfb\u5165\u5b57\u7b26\u4e32\u57fa\u672c\u64cd\u4f5c\n\tfor(int i=1;i<=n;i++)\n\t  for(int j=1;j<=m;j++) //\u66b4\u529b\u641c\u7d22\uff0c\u627e\u5230\u7b2c\u4e00\u4e2a\u7bb1\u5b50 \n\t    if(c[i][j]=='+'){\n\t    \tdfs(i,j,1);  \n\t    \treturn 0; //\u627e\u5230\u4e86\u5c31\u53ef\u4ee5\u5b8c\u4e8b\u4e86 \n\t\t} \n\treturn 0; //\u4e3b\u7a0b\u5e8f\u5c31\u8fd9\u4e9b \n}\n```\n\n\n## \u7ed3\u8bed\n\n\u5f88\u591a DFS \uff08\u6bd4\u5982\u8bf4\u8fd9\u9898\uff09\u5b9e\u9645\u4e0a\u90fd\u662f\u6a21\u62df\uff0c\u6bd4\u8f83\u8003\u4ee3\u7801\uff0c\u6240\u4ee5\u505a\u8fd9\u79cd\u9898\u7684\u65f6\u5019\u8981\u4ed4\u7ec6\uff0c\u5199\u9519\u4e00\u4e2a\u5b57\u5c31\u7b49\u4e8e\u4e00\u4e2a\u5b57\u6ca1\u5199\u3002\n\n**\u8c22\u8c22\u5927\u5bb6\u7684\u9605\u8bfb**",
        "postTime": 1648530569,
        "uid": 422996,
        "name": "HeCao2008",
        "ccfLevel": 0,
        "title": "P5053 [COCI2017-2018#7] Clickbait \u9898\u76ee\u89e3\u6790"
    }
]