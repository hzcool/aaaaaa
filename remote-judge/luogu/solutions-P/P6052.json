[
    {
        "content": "### Update on 2020.5.11\n\nbitset \u4f18\u5316\u7b5b\u6cd5\u3002\n\n\u9996\u5148 $10^7$ \u7ec4\u8be2\u95ee\uff0c\u80af\u5b9a\u8981\u9884\u5904\u7406\u51fa\u8303\u56f4\u5185\u7684\u6240\u6709\u7d20\u6570\u7136\u540e $O(1)$ \u5224\u65ad\u3002\n\n\u7ebf\u6027\u7b5b\u4f1a\u7206\u7a7a\u95f4\uff08\u4f3c\u4e4e\u4e5f\u80fd\u8fc7\uff1f\uff09\uff0c\u53ea\u80fd\u7528\u57c3\u6c0f\u7b5b\u3002\n\n\u5148\u7b5b\u6389 $2,3$ \u7684\u500d\u6570\uff0c\u7136\u540e\u5728 $6$ \u4e2a\u91cc\u9762\u53ea\u7528\u7b5b $2$ \u4e2a\uff1a$i(6i+1)$\uff0c$i(6i+5)$\u3002\n\n\u7528 bitset \u538b\u4e00\u4e0b\u4f4d\u5c31\u884c\u4e86\u3002\u6ce8\u610f\u4e0d\u9700\u8981\u7b5b\u5076\u6570\uff0c\u53ef\u5927\u5927\u51cf\u5c11\u65f6\u95f4\u548c\u7a7a\u95f4\u3002\n\nstd\uff1a\n\n```\n// luogu-judger-enable-o2\n#include<bits/stdc++.h>\nusing namespace std;\nint k=1,s[10005],prime[10005];\nbitset<50110005>vst;\ninline bool Prime(register int n){\n\treturn n<2?0:(n==2?1:(n%2&&!vst[n>>1]));\n}\nint main() {\n//\tfreopen(\"5.in\",\"r\",stdin);\n//\tfreopen(\"5.out\",\"w\",stdout);\n\tfor(int i=9; i<=100030000; i+=6)vst[i>>1]=1;\n\tfor(int i=15; i<=100030000; i+=10)vst[i>>1]=1;\n\tfor(register int i=7; i<=20000; i+=2){\n\t\tif(vst[i>>1])continue;\n\t\tfor(register int j=i*(i/6*6+1); j<=100030000; j+=i*6){\n\t\t\tvst[j>>1]=1;\n            vst[(j>>1)+(i<<1)]=1;\n\t\t}\n\t}\n\tint T,x0,y0,s=0;\n\tscanf(\"%d%d%d\",&T,&x0,&y0);\n\twhile(T--){\n\t\tx0=((7*x0+13)^(x0/13-7));\n\t\ty0=((7*y0+13)^(y0/13-7));\n\t\tint x=(x0%10000+10000)%10000+1,y=(y0%10000+10000)%10000+1;\n\t\tif(Prime(x)&&Prime(y)&&Prime(x*y-3*(x-y)))s++;\n\t}\n\tcout<<s;\n\treturn 0;\n}\n```",
        "postTime": 1580975008,
        "uid": 42156,
        "name": "feecle6418",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6067 \u3010[RC-02] yltx \u6570\u5bf9\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u7ed9\u51fa\u4e00\u4e2a Miller-Rabin \u7684\u505a\u6cd5\uff0c\u4f46\u662f\u76f4\u63a5\u5957\u6a21\u677f\u4f1aTLE\uff0c\n\n\u8003\u8651\u642d\u914d\u7ebf\u6027\u7b5b\uff0c\u5c0f\u8303\u56f4\u7528\u7ebf\u6027\u7b5b\u7b5b\u51fa\u7684\u8d28\u6570\uff0c\u8fd9\u9053\u9898\u867d\u7136\u6bd4\u8f83\u88f8\uff0c\n\n\u4f46\u662f\u91cc\u9762\u7684\u5751\u70b9\u7279\u522b\u591a\uff1a\n\n> \u7d20\u6570\u6570\u5bf9 $(x,y)$ \u6ee1\u8db3 $x\\times y-3\\times (x-y)$ \u662f\u7d20\u6570\n\n $x,y$ \u548c $x\\times y-3\\times (x-y)$ \u90fd\u5fc5\u987b\u662f\u7d20\u6570\uff0c\n \n \u6240\u4ee5\u4e3a\u4e86\u907f\u514d\u4e09\u500d\u7684\u5e38\u6570\u5bfc\u81f4TLE\uff0c\u90a3\u4e48\u5e94\u8be5\u91c7\u7528\u9884\u5904\u7406\u5c0f\u8303\u56f4\u7684\u65b9\u5f0f\uff1b\n \n \u800c\u4e14\u8fd9\u4e0a\u9762\u7684\u6240\u6709\u6570\u5fc5\u987b\u662f\u5927\u4e8e1\u7684\u6b63\u6570\uff0c\u6240\u4ee5\u8d1f\u6570\u8fd8\u8981\u7279\u5224\u3002\n \n \u6ce8\u610f\u5355\u7eaf\u7684\u7ebf\u6027\u7b5b\u53ef\u80fd\u4f1aMLE\uff0c\u6240\u4ee5\u6570\u7ec4\u4e0d\u8981\u5f00\u592a\u5927\u3002\n \n---\n# \u4ee3\u7801\n```cpp\n#include <cstdio>\n#include <cctype>\n#define rr register\nusing namespace std;\ntypedef long long lll; int ans,T,x0,y0;\nconst int P[4]={2,3,5,7},M=1000011;\nbool v[M]; int prime[M],Cnt;\ninline signed iut(){\n\trr int ans=0; rr char c=getchar();\n\twhile (!isdigit(c)) c=getchar();\n\twhile (isdigit(c)) ans=(ans<<3)+(ans<<1)+(c^48),c=getchar();\n\treturn ans;\n}\ninline signed ksm(int x,int y,int mod){\n\trr int ans=1;\n\tfor (;y;y>>=1,x=(lll)x*x%mod)\n\t    if (y&1) ans=(lll)ans*x%mod;\n\treturn ans;\n}\ninline void Pro(){\n\tv[1]=1;\n\tfor (rr int i=2;i<M;++i){\n\t\tif (!v[i]) prime[++Cnt]=i;\n\t\tfor (rr int j=1;j<=Cnt&&prime[j]*i<M;++j){\n\t\t\tv[i*prime[j]]=1;\n\t\t\tif (i%prime[j]==0) break;\n\t\t}\n\t}\n}\ninline bool mr(int n){\n\tif (n<2) return 0;\n    if (n==2||n==3||n==5||n==7) return 1;\n    if (!(n&1)||!(n%3)||!(n%5)||!(n%7)) return 0;\n    rr lll m=n-1; rr int Cnt=0;\n    while (!(m&1)) m>>=1,++Cnt;\n\tfor (rr int i=0;i<4&&P[i]<n;++i){\n\t\trr int now=ksm(P[i],m,n),last=now;\n\t\tfor (rr int j=1;j<=Cnt;++j){\n\t\t\tnow=(lll)now*now%n;\n\t\t\tif (now==1&&last!=1&&last!=n-1) return 0;\n\t\t\tlast=now;\n\t\t}\n\t\tif (now!=1) return 0;\n\t} \n\treturn 1;\n}\nsigned main(){\n\tscanf(\"%d%d%d\",&T,&x0,&y0),Pro();\n\twhile(T--){\n\t\tx0=((7*x0+13)^(x0/13-7)),y0=((7*y0+13)^(y0/13-7));\n\t\trr int x=(x0%10000+10000)%10000+1,y=(y0%10000+10000)%10000+1;\n\t\tif (v[x]||v[y]) continue;\n\t\trr int now=x*y-3*(x-y);\n\t\tif (now<2) continue;\n\t\tif (now<M&&v[now]) continue;\n\t\tif (now>=M) ans+=mr(now);\n\t\t    else ++ans;\n\t}\n\treturn !printf(\"%d\",ans);\n} \n```",
        "postTime": 1608714237,
        "uid": 37782,
        "name": "lemondinosaur",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6052 \u3010[RC-02] yltx \u6570\u5bf9\u3011"
    }
]