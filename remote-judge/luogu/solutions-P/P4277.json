[
    {
        "content": "## \u4e00\u4e9b\u524d\u8a00\n\n\u8fd9\u9053\u9898\u5bf9\u4e8e\u6211\u4eec\u673a\u623f\u6709\u7740\u91cc\u7a0b\u7891\u4e00\u6837\u7684\u610f\u4e49\uff0c\u56e0\u4e3a\u5b83\u8ba9\u6211\u4eec\u6700\u80fd\u6284\u9898\u89e3\u6700\u83dc\u7684\u90a3\u53ea\u5f53\u573a\u9000\u5f79\u3002\n\n\u90a3\u6b21\u662f\u9ad8\u4e00NOIP\u4e4b\u540e\u4e0d\u4e45\u7684\u4e00\u6b21\u6a21\u62df\u8d5b\uff0c\u8003\u4e86\u4e09\u9053\u9898\uff0c\u8fd9\u4e2a\u662fT3\uff0c\u8003\u5b8c\u4e4b\u540e\u5927\u90e8\u5206\u4eba\u524d\u4e24\u9898\u62ff\u4e86\u5927\u90e8\u5206\u5206\uff0cT3\u7206\u96f6\uff0c\u90a3\u5144\u5f1f\u524d\u4e24\u9898\u7206\u96f6\uff0cT3\u5207\u4e86\uff0c\u540e\u6765\u6559\u7ec3\u53d1\u73b0\u662fcopy\u7684Solution\uff0c\u4ed6\u5c31\u9000\u5f79\u4e86\u3002\n\n\uff08\u672c\u6765\u60f3\u653e\u4e2a\u6211\u4eec\u5b66\u6821OJ\u7684\u622a\u56fe\uff0c\u4f46\u662f\u4ed6\u88ab\u6211\u4eec\u6559\u7ec3\u4eceOJ\u91cc\u8e22\u4e86\uff0c\u8868\u683c\u91cc\u6ca1\u6709\u4ed6\u4e86\u3002\n\n## \u89e3\u9898\u601d\u8def\n\n\u8003\u8651\u628a\u5927\u7684\u95ee\u9898\u9010\u6b65\u5206\u89e3\n\n\u9996\u5148\u6211\u4eec\u6574\u4f53\u89e3\u9898\u6846\u67b6\u5c31\u662f\u679a\u4e3e\u6240\u6709\u53ef\u4ee5\u70b9\u71c3\u7684\u70b9\u4f5c\u4e3a\u65b9\u6848\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u65b9\u6848\uff0c\u7b97\u51fa\u6240\u6709\u7ef3\u5b50\u88ab\u71c3\u5c3d\u7684\u65f6\u95f4\u7684\u6700\u5927\u503c\uff0c\u6c42\u51fa\u8fd9\u4e9b\u6700\u5927\u503c\u7684\u6700\u5c0f\u503c\u5c31\u662f\u7b54\u6848\u3002\n\n\u90a3\u4e48\u5f53\u6211\u4eec\u786e\u5b9a\u4e86\u70b9\u71c3\u70b9\u65f6\uff0c\u5982\u4f55\u786e\u5b9a\u6bcf\u6839\u7ef3\u5b50\u88ab\u71c3\u5c3d\u7684\u65f6\u95f4\uff1f\n\n\u4e3a\u4e86\u65b9\u4fbf\u5b58\u50a8\uff0c\u6211\u4eec\u628a\u4e00\u6839\u7ef3\u5b50\u4ece\u4e2d\u95f4\u6298\u534a\u5206\u6210\u4e24\u6839\u5b58\u50a8\u3002\u6211\u4eec\u4ee5\u62c6\u5b8c\u540e\u6240\u6709\u7684\u7ef3\u5b50\u7aef\u70b9\u4e3a\u8282\u70b9\uff0c\u4ee5\u6bcf\u6839\u7ef3\u5b50\u71c3\u70e7\u65f6\u95f4\u4e3a\u8fb9\u6743\u5efa\u56fe\u3002\u663e\u7136\uff0c\u4ece$s$\u70b9\u71c3\u7684\u8bdd\uff0c\u6bcf\u4e00\u4e2a\u8282\u70b9$i$\u88ab\u71c3\u5230\u7684\u65f6\u95f4\u70b9\u5c31\u662f$s$\u5f00\u59cb\u7684\u5355\u6e90\u6700\u77ed\u8def\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u6c42\u51fa\u4e86\u6240\u6709\u7aef\u70b9\u7684\u88ab\u70b9\u71c3\u7684\u65f6\u95f4\u3002\n\n\u5df2\u77e5\u7ef3\u5b50\u4e24\u7aef\u70b9\u7684\u70b9\u71c3\u65f6\u95f4\u548c\u71c3\u70e7\u901f\u5ea6\uff0c\u5982\u4f55\u6c42\u51fa\u7ef3\u5b50\u71c3\u5c3d\u65f6\u95f4\uff1f\u663e\u7136\u662f\u5c0f\u5b66\u76f8\u9047\u95ee\u9898\uff0c\u5927\u5bb6\u90fd\u4f1a\u63a8\u3002\n\n\u8fd9\u6837\u8fd9\u4e2a\u95ee\u9898\u5c31\u88ab\u5b8c\u7f8e\u89e3\u51b3\u4e86\u3002\n\n## \u7a0b\u5e8f\u5b9e\u73b0\n\n\u8fd9\u9053\u9898\u7684\u601d\u8def\u5f88\u5de7\uff0c\u5e76\u4e14\u7a0b\u5e8f\u5b9e\u73b0\u7ec6\u8282\u8f83\u591a\uff0c\u5927\u5bb6\u53ef\u4ee5\u770b\u4ee3\u7801\u6ce8\u91ca\u3002\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <iomanip>\n#include <cstring>\n//\u9632CE+\u9632\u6284\u88ad \n#define x1 partychicken\n#define x2 vcode\n#define y1 ubospica\n#define y2 greygoods\n\nusing namespace std;\nconst int MAXN = 2005;\nconst double EPS = 1e-6;\nconst double INF = 1e9;\n\nint n, m;\nint id[4005][4005];//\u5982\u679c\u5750\u6807(i, j)\u662f\u7ef3\u5b50\u7aef\u70b9\uff0c\u90a3\u4e48\u5efa\u7684\u56fe\u4e2d\u7684\u8282\u70b9\u4e3aid[i][j] \nint cant[MAXN];//\u7ef3\u5b50\u6298\u534a\u540e\u4e2d\u95f4\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u5f00\u59cb\u70b9\uff0c\u5728\u8fd9\u6807\u4e00\u4e0b \nint to[MAXN], nxt[MAXN], head[MAXN], ecnt;\ndouble val[MAXN], dis[MAXN];\nint lid[MAXN], rid[MAXN], tot;//\u6bcf\u6839\u7ef3\u5b50\u4e24\u7aef\u70b9\u5bf9\u5e94\u56fe\u4e2d\u7684\u8282\u70b9\u7f16\u53f7 \ndouble v[MAXN];//\u6bcf\u6839\u7ef3\u5b50\u71c3\u70e7\u901f\u5ea6 \ndouble ans;\n\nvoid Add(int u, int v, double w) {\n\tto[++ecnt] = v; val[ecnt] = w; nxt[ecnt] = head[u]; head[u] = ecnt;\n\tto[++ecnt] = u; val[ecnt] = w; nxt[ecnt] = head[v]; head[v] = ecnt;\n//\tcerr << u << ' ' << v << ' ' << w << '\\n';\n}\n\nvoid SetStick(int x1, int y1, int x2, int y2, double len) {\n\tx1 <<= 1; x1 += 2001;//\u4e3a\u4e86\u4fbf\u4e8e\u8ba1\u7b97\uff0c\u628a\u5750\u6807\u8c03\u6574\u8c03\u6b63 \n\ty1 <<= 1; y1 += 2001;\n\tx2 <<= 1; x2 += 2001;\n\ty2 <<= 1; y2 += 2001;\n\tint x3 = (x1 + x2 >> 1), y3 = (y1 + y2 >> 1);//\u4e2d\u95f4\u70b9 \n\tif (!id[x1][y1]) id[x1][y1] = ++n;//\u5728\u56fe\u4e2d\u5efa\u51fa\u8282\u70b9 \n\tif (!id[x2][y2]) id[x2][y2] = ++n;\n\tif (!id[x3][y3]) id[x3][y3] = ++n;\n\tcant[id[x3][y3]] = 1;//\u4e2d\u95f4\u70b9\u4e0d\u80fd\u70b9\u71c3 \n\tAdd(id[x1][y1], id[x3][y3], len / 2.0);\n\tAdd(id[x3][y3], id[x2][y2], len / 2.0);\n\tlid[++tot] = id[x1][y1]; rid[tot] = id[x3][y3]; v[tot] = 1.0 / len;//\u8bb0\u5f55\u6bcf\u6761\u8fb9\u7684\u4fe1\u606f \n\tlid[++tot] = id[x3][y3]; rid[tot] = id[x2][y2]; v[tot] = 1.0 / len;\n}\n\nint q[MAXN], ql, qr;\nint vis[MAXN];\n\nvoid SPFA(int s) {//\u5355\u6e90\u6700\u77ed\u8def \n\tfor (int i = 1; i <= n; i++) dis[i] = INF; dis[s] = 0;\n\tql = qr = 1; q[1] = s;\n\tmemset(vis, 0, sizeof(vis)); vis[s] = 1;\n\twhile (ql <= qr) {\n\t\tint u = q[ql++ % n]; vis[u] = 0;\n\t\tfor (int i = head[u]; i; i = nxt[i]) {\n\t\t\tint v = to[i];\n\t\t\tif (dis[v] - dis[u] > val[i] + EPS) {\n\t\t\t\tdis[v] = dis[u] + val[i];\n\t\t\t\tif (!vis[v]) {\n\t\t\t\t\tvis[v] = 1;\n\t\t\t\t\tq[++qr % n] = v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n//\tcerr << '*';\n//\tfor (int i = 1; i <= n; i++) cerr << dis[i] << ' ';\n//\tcerr << '\\n';\n}\n\ndouble EndTime(int sid) {//\u76f8\u9047\u95ee\u9898\uff0c\u8ba1\u7b97\u7ef3\u5b50\u88ab\u71c3\u5c3d\u7684\u65f6\u95f4 \n\tdouble t1 = dis[lid[sid]], t2 = dis[rid[sid]], V = v[sid];\n\tif (t1 - t2 > EPS) swap(t1, t2);\n\tif (t2 - t1 > 0.5 / V) return t1 + 0.5 / V;\n\tdouble res1 = t2;\n\tdouble res2 = (0.5 - V * (t2 - t1)) / (V * 2.0);\n\treturn res1 + res2;\n}\n\nvoid Cal(int s) {//\u8ba1\u7b97\u4ece\u8282\u70b9s\u70b9\u71c3\uff0c\u6240\u6709\u7ef3\u5b50\u88ab\u71c3\u5c3d\u7684\u65f6\u95f4 \n\tSPFA(s);\n\tdouble res = 0;\n\tfor (int i = 1; i <= tot; i++) res = max(res, EndTime(i));\n\tans = min(ans, res);//\u66f4\u65b0\u603b\u7b54\u6848 \n}\n\nint main() {\n\tcin >> m;\n\tfor (int i = 1; i <= m; i++) {\n\t\tint x1, y1, x2, y2; double t;\n\t\tcin >> x1 >> y1 >> x2 >> y2 >> t;\n\t\tSetStick(x1, y1, x2, y2, t);\n\t}\n\tans = INF;\n\tfor (int i = 1; i <= n; i++) {//\u679a\u4e3e\u70b9\u71c3\u70b9 \n\t\tif (cant[i]) continue;\n\t\tCal(i);\n\t}\n\tcout << fixed << setprecision(4) << ans << '\\n';\n\treturn 0;\n}\n```",
        "postTime": 1576543041,
        "uid": 126376,
        "name": "Irelia\u10e6",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4277 \u3010\u6cb3\u57ce\u8377\u53d6\u7684\u70df\u82b1\u3011"
    },
    {
        "content": "# \u8403\u9999\u7684\u65b0\u5e74\u5bb4\u4f1a\u7b2c\u4e09\u9898\u9898\u89e3#3\u6cb3\u57ce\u8377\u53d6\u7684\u70df\u82b1\n## by Wy12121212\n\n[\u9898\u76ee\u94fe\u63a5](https://www.luogu.org/problemnew/show/P4279)\n\n## \u8fd9\u9898\u80fd\u88abdfs\u5361\u8fc7\u7684\u8bf4\uff0c\u4f46\u662f\u8fd9\u91cc\u53ea\u4ecb\u7ecdstd\u505a\u6cd5\uff0c\u5982\u679c\u60f3\u4e86\u89e3dfs\u505a\u6cd5\u53ef\u4ee5@oscar \u5927\u7237\n\n\u9898\u610f:\u5750\u6807\u7cfb\u4e0a\u6709\u5f88\u591a\u7ef3\u5b50\uff0c\u957f\u5ea6\u4e0d\u662f1\u5c31\u662f$\\sqrt 2$,\u4e14\u8fd9\u4e9b\u7ef3\u5b50\u7684\u7aef\u70b9\u90fd\u5728\u683c\u5b50\u4e0a\uff0c\u4fdd\u8bc1\u7ef3\u5b50\u4e0d\u91cd\u5408\u4e14\u8054\u901a\uff0c\u73b0\u5728\u8ba9\u4f60\u4ece\u4e00\u70b9\u70b9\u71c3\u7ef3\u5b50\u4f7f\u71c3\u70e7\u5c3d\u7684\u603b\u65f6\u95f4\u6700\u77ed\u3002\u8bf7\u4f60\u8f93\u51fa\u6700\u77ed\u7684\u71c3\u70e7\u65f6\u95f4\u3002\n\n**\u672c\u9898\u505a\u9898\u96be\u5ea6:** \u63d0\u9ad8\n\n**\u672c\u9898\u601d\u8003\u96be\u5ea6:** \u63d0\u9ad8\n\n**\u8003\u67e5\u77e5\u8bc6\u70b9:**\u56fe\u8bba\uff0c\u6700\u77ed\u8def\n\n**\u9996\u5148\u6211\u4eec\u8981\u77e5\u9053\u8fd9\u4e9b\u8981\u70b9\uff1a**\n\n1\u3001\u7ef3\u5b50\u53ef\u80fd\u76f8\u4ea4\uff0c\u56e0\u6b64\u7ef3\u5b50\u53ef\u4ee5\u80fd\u4ece\u4e2d\u95f4\u88ab\u70b9\u71c3\u3002\n\n2\u3001\u7ef3\u5b50\u53ef\u80fd\u4ece\u4e24\u8fb9\u88ab\u70b9\u71c3\uff0c\u76f4\u81f3\u71c3\u5c3d\u3002\u7136\u800c\u4e24\u4fa7\u7684\u70b9\u71c3\u65f6\u95f4\u53ef\u80fd\u4e0d\u76f8\u540c\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u4e00\u5b9a\u4f1a\u5728\u7ef3\u5b50\u7684\u4e2d\u95f4\u71c3\u5c3d\u3002\n\n\u7136\u540e\uff0c\u663e\u7136\u4ece(i,j)\u70b9\u71c3\u540e\u71c3\u5230(x,y)\u5904\u7684\u65f6\u95f4t\u5373\u4e3anode[i,j]->node[x,y]\u7684\u6700\u77ed\u8ddd\u79bb\uff0c\u6240\u4ee5\u6211\u4eec\u4ee5\u7ef3\u5b50\u7684\u7aef\u70b9\u4e3a\u9876\u70b9\u5efa\u4e00\u4e2a\u65e0\u5411\u56fe(\u5982\u679c\u6709\u4e24\u6839\u7ef3\u5b50\u76f8\u4ea4\u5c31\u628a\u4ea4\u70b9push\u8fdb\u53bb)\u3002\u4e4b\u540e\u8dd1\u4e00\u904dfloyd\u6c42\u51fa\u4efb\u610f\u4e24\u70b9\u95f4\u7684\u6700\u77ed\u8def\u5f84\u5373\u71c3\u70e7\u5230\u8fd9\u4e2a\u70b9\u7684\u65f6\u95f4\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u6bcf\u4e2a\u70b9\u4f5c\u4e3a\u8d77\u70b9st,\u7a0d\u4f5c\u89c2\u5bdf\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u516c\u5f0f\uff0c\u8bbe\u7ef3\u5b50L\u4e24\u4e2a\u7aef\u70b9\u5206\u522b\u4e3aA\u3001B\uff0c\u5219L\u7684\u71c3\u5c3d\u65f6\u95f4\u4e3a\n\n**  (time[L]+|dis[st][B]-dis[st][A]|)/2+min(time[A],time[B])**\n  \n\u6240\u4ee5\u6211\u4eec\u6c42\u51fa\u6240\u6709\u7684\u8d77\u706b\u70b9\u4e2dmax(time[1-n])\u6700\u5c0f\u7684\u503c\u5c31\u53ef\u4ee5\u4e86\uff0c\u600e\u4e48\u6837\uff0c\u662f\u4e0d\u662f\u5f88\u6c34\u554aqwq\n\n\u7136\u540e\u8fd9\u91cc\u662fstd\uff1a\n\n```cpp\n#include<cstdio>\n#include<map>\n#include<cmath>\n#include<queue>\n#include<iostream>\n#include<cstring>\n#include<cstdlib>\n#define x first\n#define y second\nusing namespace std;\nstruct B\n{\n    int f,t;\n    double d;\n}b[20000];\npair<double,double> a[10000];\nmap <pair<double,double>,int>id;\nint m,n,st[10500];\ndouble dis[3000][3000],ans,sum,arr[10500];\nint ee;\nint main()\n{\n    //freopen(\"firework.in\",\"r\",stdin);\n    //freopen(\"firework.out\",\"w\",stdout);\n    scanf(\"%d\",&m);\n    for (int i=1;i<=m;i++)\n    {\n        pair<double,double> u,v;\n        int f,t;\n        double d;\n        scanf(\"%lf%lf%lf%lf%lf\",&u.x,&u.y,&v.x,&v.y,&d);\n        sum+=d;\n        if (!id.count(u)) id[u]=++n,a[n]=u,st[n]=1;\n        if (!id.count(v)) id[v]=++n,a[n]=v,st[n]=1;\n        f=id[u],t=id[v];\n        if (u.x!=v.x&&u.y!=v.y)\n        {\n            double xx=(u.x+v.x)/2.0,yy=(u.y+v.y)/2.0;\n            pair<double,double> mid=pair<double,double>(xx,yy);\n            if (!id.count(mid)) id[mid]=++n,a[n]=mid;\n            int md=id[mid];\n            /*addedge(f,md,d/2.0);\n            addedge(md,f,d/2.0);\n            addedge(md,t,d/2.0);\n            addedge(t,md,d/2.0);*/\n            dis[f][md]=dis[md][f]=dis[md][t]=dis[t][md]=d/2.0;\n            //fff[f][md]=fff[md][f]=fff[md][t]=fff[t][md]=1;\n            b[++ee].f=f,b[ee].t=md,b[ee].d=d/2.0;\n            b[++ee].f=md,b[ee].t=t,b[ee].d=d/2.0;\n        }\n        else b[++ee].f=f,b[ee].t=t,b[ee].d=d;\n        //fff[f][t]=fff[t][f]=1;\n        //addedge(f,t,d);\n        //addedge(t,f,d);\n        dis[f][t]=dis[t][f]=d;\n    }\n    ans=sum;\n    //for(int i=1;i<=n;i++)spfa(i);\n    for (int k=1;k<=n;k++)\n        for (int i=1;i<=n;i++)\n            for (int j=1;j<=n;j++)\n                if (dis[i][k]&&dis[k][j]&&(dis[i][j]==0||dis[i][j]>dis[i][k]+dis[k][j]))\n                    dis[i][j]=dis[i][k]+dis[k][j];\n    for (int i=1;i<=n;i++)\n        if (st[i])\n        {\n            double timm=0,tim;\n            for (int j=1;j<=ee;j++)\n            {\n                if (dis[i][b[j].f]<dis[i][b[j].t])tim=dis[i][b[j].t]+(b[j].d-dis[i][b[j].t]+dis[i][b[j].f])/2;\n                else tim=dis[i][b[j].f]+(b[j].d-dis[i][b[j].f]+dis[i][b[j].t])/2;\n                timm=max(timm,tim);\n            }\n            if (ans==0||ans>timm) ans=timm;\n        }\n    printf(\"%.4lf\\n\",ans);\n    return 0; \n}\n```\n\n\u5982\u679c\u4f60\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u52a0\u5165**\u6211\u7684\u56e2\u961f**\u53d1\u5e16\u63d0\u95ee\u6216\u8005\u52a0\u6211\u7684qq\uff0c\u79c1\u4fe1\u6211\u53ef\u80fd\u770b\u4e0d\u89c1\n\n",
        "postTime": 1520685497,
        "uid": 49662,
        "name": "Wy12121212",
        "ccfLevel": 0,
        "title": "\u8403\u9999\u7684\u65b0\u5e74\u5bb4\u4f1a\u7b2c\u4e09\u9898\u9898\u89e3#3\u6cb3\u57ce\u8377\u53d6\u7684\u70df\u82b1"
    },
    {
        "content": "## \u5173\u4e8eP4277 \u3010\u6cb3\u57ce\u8377\u53d6\u7684\u70df\u82b1\u3011\u7684\u9898\u89e3\n\n\u5b66\u6821\u7684\u4e00\u573a\u8003\u8bd5\uff1a\n\n[\u70b9\u8fdb\u53bb\u4f60\u4e5f\u65e0\u6cd5\u767b\u9646\u7684\u4f20\u9001\u95e8](http://www.accoders.com/contest.php?cid=1771)\n\n\u6280\u80fd\u6bd4\u62fc\uff0c\u5206\u7ec4\u65b9\u6848\uff0c\u52c7\u58eb\u7684\u7bdd\u706b\n\n1.\u56fd\u738b\u8981\u5ac1\u5973\u513f\u5566\uff01OI\u6751\u5e84\u91cc\u7684\u52c7\u58eb\u4eec\u90fd\u60f3\u53bb\u8bd5\u8bd5\uff0c\u4f46\u662f~~(\u4e0d\u597d\u7684\u4e8b\u90fd\u53eb\u4f46\u662f)~~......\n\n2.\u7ecf\u8fc7OI\u6751\u5b50\u91cc\u7684\u5185\u90e8\u9009\u62d4\uff0c\u5f88\u591a\u52c7\u58eb\u90fd\u83b7\u5f97\u4e86\u6751\u957f\u7684\u9752\u7750\uff0c\u6751\u957f\u4e3a\u4e86......\n\n3.OI\u6751\u5e84\u7684\u52c7\u58eb\u5982\u613f\u5a36\u4e86\u56fd\u738b\u5973\u513f\uff0c\u6751\u957f\u6253\u7b97......\n\n\u8bb2\u4e86~~\u7531\u6751\u957f\u6697\u7bb1\u64cd\u4f5c\u4f7f\u4e00\u7fa4OIER~~\u52c7\u58eb\u5a36~~\u4e00\u4f4d~~\u516c\u4e3b\u7684\u6545\u4e8b\n\n~~\u7531\u60c5\u8282\u5c31\u80fd\u770b\u51fa\u6570\u636e\u6c34\u7684\u4e00\u6279~~\n\n\u3010\u6cb3\u57ce\u8377\u53d6\u7684\u70df\u82b1\u3011\u7684\u60c5\u8282\u5c31\u7f8e\u4e86\u5f88\u591a\n\nT3\u4e2d\u51fa\u73b0\u4e86\u4e00\u4e2a\u7f8e\u89c2~~\u626d\u66f2~~\u7684\u56fe\u7247\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/15120.png)\n\n\u9898\u610f\uff1a\n\n\u73b0\u9700\u71c3\u5c3d\u4e00\u644a\u5947\u602a\u7684\u7ef3\u5b50\uff08\u5b66\u6821\u91cc\u662f\u6728\u68cd\uff0c\u5dee\u4e0d\u591a\uff09\uff0c\u8981\u627e\u4e00\u4e2a\u6574\u70b9\u70b9\u706b\uff0c\u4f7f\u5f97\u71c3\u5c3d\u65f6\u95f4\u6700\u77ed\n\n### \u8981\u660e\u767d\u706b\u7684\uff08\u6b64\u9898\u4e2d\uff09\u7279\u6027\uff1a\n\n- \u70b9\u71c3\u540e\uff0c\u706b\u4f1a\u6cbf\u7740\u6728\u68cd\u5411\u524d\u65b9\u71c3\u70e7\uff0c\u53ef\u4ee5\u70b9\u71c3\u4e0e\u5b83\u76f8\u63a5\u7684\u6728\u68cd\n- \u53ea\u80fd\u5728\u6728\u68cd\u7684\u4e24\u7aef\u70b9\u71c3\u3002\n\n\u4e0b\u9762\u662f\u4e00\u4e9b~~\u6ca1\u591a\u5927\u7528\u5904\u7684~~\u8bdd\uff1a\n\n\n\n------------\n\n\n\u77e5\u8bc6\u70b9\uff1a\u6784\u56fe+\u6700\u77ed\u8def\u5e94\u7528\n\n\u5728\u6b64\u9898\u4e2d\u662f\u4e00\u4e2a\u8fde\u901a\u56fe\uff0c\u5982\u679c\u6211\u4eec\u76f4\u63a5\u6784\u56fe\u5904\u7406\u6bd4\u8f83\u590d\u6742~~\u6839\u672c\u4e0d\u4f1a~~\u3002\n\n\u6211\u4eec\u5bf9\u539f\u95ee\u9898\u8fdb\u884c\u8f6c\u6362:\n\n\u7531\u4e8e\u7ef3&\u68cd\u4e0e\u7ef3&\u68cd\u4e4b\u95f4\u53ea\u80fd\u5728\u7ef3&\u68cd\u7684\u4e24\u7aef\u6216\u4e2d\u95f4\u76f8\u4ea4\u3002\u6211\u4eec\u628a\u6bcf\u6839\u7ef3&\u68cd\u62c6\u5206\u6210\u4e24\u6839\u76f8\u7b49\u7684\u5c0f\u7ef3&\u68cd\uff0c\u8fd9\u6837\uff0c\u7ef3&\u68cd\u7684\u6570\u91cf\u589e\u52a0\u4e86\u4e00\u500d\u3002\n\n\u539f\u95ee\u9898\u5c31\u8f6c\u5316\u4e3a\uff0c\u7ef3&\u68cd\u4e0e\u7ef3&\u68cd\u4e4b\u95f4\u53ea\u80fd\u5728\u7ef3&\u68cd\u7684\u4e24\u7aef\u76f8\u4ea4\uff0c\u8fd9\u6837\u5904\u7406\u8d77\u6765\u5c31\u6bd4\u8f83\u65b9\u4fbf\u3002\n\n\u6211\u4eec\u4ee5\u7ef3&\u68cd\u4e3a\u8fb9\uff0c\u7ef3&\u68cd\u4e0e\u7ef3&\u68cd\u4e4b\u95f4\u7684\u4ea4\u70b9\u4e3a\u9876\u70b9\uff0c\u6784\u5efa\u4e00\u4e2a\u8fde\u901a\u56fe\uff0c\u95ee\u9898\u53d8\u4e3a\u5bfb\u627e\u4e00\u4e2a\u5408\u9002\u7684\u9876\u70b9\uff0c\u4f7f\u5f97\u70b9\u71c3\u4ee5\u540e\u5b8c\u5168\u71c3\u70e7\u7684\u65f6\u95f4\u6700\u77ed\u3002\n\n\n------------\n\n\u6709\u7528\u7684\uff1a\n\n- \u4e00\u4e2a\u7ef3&\u68cd\u53ef\u62c6\u6210\u4e24\u622a\u5c0f\u7684\u7ef3&\u68cd\n\n- \u5f88\u663e\u7136~~\uff08\u201c\u663e\u7136\u201d\u662f\u6ca1\u6709\u539f\u56e0\u7684\uff09~~\uff0c\u71c3\u70e7\u65f6\u95f4\u7b49\u4e8e\u70b9\u71c3\u7684\u9876\u70b9\u5230\u56fe\u4e2d\u6700\u8fdc\u70b9\u7684\u65f6\u95f4\uff0c\u5982\u4e0b\u56fe:\n\n![](https://cdn.luogu.com.cn/upload/pic/46628.png)\n\n\n\n------------\n\n\n\u7531\u4e0a\u8ff0\uff0c\u9700\u6c42\u6700\u77ed\u8def\uff1a\n\n\u4e8e\u662f\u6211\u4eec~~\u600e\u4e48\u4f1a\u6709\u6211~~\u53ef\u4ee5\u5229\u7528Floyd's\u7b97\u6cd5\u6c42\u51fa\u4efb\u610f\u4e24\u70b9\u95f4\u7684\u6700\u77ed\u8ddd\u79bb\n\n\u4f59\u4e0b\u8fd8\u9700\u68c0\u67e5\u6bcf\u4e00\u6761&\u6839 \u7ef3&\u68cd\u662f\u5426\u71c3\u5c3d\n\n\u5f53\u7136\uff0c\u5982\u679c\u6ca1\u6709\u5b8c\u5168\u71c3\u70e7\uff0c\u5e94\u6c42\u51fa\u5269\u4f59\u8fb9\u71c3\u70e7\u6240\u9700\u6700\u957f\u65f6\u95f4\n\n\u4e00\u4e9b\u6709~~\uff08\u6709\uff1f\uff09~~\u7528\u7684\u8bdd\uff1a\n\n------------\n\n\u5bf9\u4e8e\u71c3\u70e7\u65f6\u95f4\u4e3aL\u7684\u6728\u68cd\uff0c\u5b83\u7684\u4e24\u7aef\u88ab\u70b9\u71c3\u7684\u65f6\u523b\u4e3aT1\u548cT2\n\n\u5982\u679cT1 = T2+L \u6216\u8005\u662f T2 = T1+L,\u90a3\u4e48\u71c3\u70e7\u5230T1 \u548c T2 \u7684\u6700\u5927\u65f6\u523b\uff0c\u8fd9\u6839\u6728\u68cd\u5df1\u7ecf\u5b8c\u5168\u71c3\u70e7 \n\n\u5982\u679cT1\u4e0eT2\u4e4b\u95f4\u7684\u65f6\u95f4\u5dee\u4e0d\u7b49\u4e8eL\uff0c\u90a3\u4e48\u5c31\u8bf4\u660e\u706b\u662f\u4ece\u4e0d\u540c\u7684\u8def\u5f84\u71c3\u70e7\u5230\u8fd9\u6839\u6728\u68cd\u7684\u4e24\u7aef\u3002\u706b\u5c06\u4ece\u4e24\u7aef\u5411\u4e2d\u95f4\u71c3\u70e7\uff0c\u5e76\u5728\u6728\u68cd\u5185\u7684\u67d0\u4e2a\u70b9\u71c3\u5b8c\n\n\u5728\u7b80\u5355\u60c5\u51b5\u4e2d\uff0c\u5982\u679c\u662f\u4ece\u4e24\u7aef\u540c\u65f6\u70b9\u71c3\uff0c\u71c3\u70e7\u65f6\u95f4\u4e3aL/2\u3002\n\n\u66f4\u4e00\u822c\u5730\uff0c\u5982\u679cT1\u4e0eT2\u4e0d\u7b49\uff0c\u6211\u4eec\u8bbe\u4e00\u7aef\u662f\u4ece0\u65f6\u523b\u70b9\u71c3\uff0c\u53e6\u4e00\u7aef\u662f\u4eceT\u65f6\u523b\u70b9\u71c3\uff0c\u90a3\u4e48\u8fd9\u6839\u6728\u68cd\u7684\u71c3\u70e7\u65f6\u95f4\u4e3a\n\n#### T + (L-\uff08T-0\uff09)/2. \n\n\u5373\uff0c\u4e00\u7aef\u5148\u71c3\u70e7T\u65f6\u95f4\u540e\uff0c\u53e6\u4e00\u7aef\u624d\u5f00\u59cb\u71c3\u70e7\uff0c\u5b8c\u5168\u71c3\u70e7\u540e\u7684\u65f6\u95f4\u4e3a\n\n#### \uff08L-(T-0)\uff09/2.\n\n------------\n\n## Floyd's :\n\n------------\n\n```cpp\n#include<bits/stdc++.h>\n\nusing namespace std;\n\ndouble max(double a,double b)\n{\n\tif(a>b)return a;\n\telse return b;\n}\ndouble min(double a,double b)\n{\n\tif(a<b)return a;\n\telse return b;\n}\nint n;\nint a1,a2,b1,b2,a1_5,b1_5,a[10001][10001];\ndouble t;\ndouble e[3001][3001],dis[3001][3001];\nint tot=0;\nbool mid[3001];\ndouble minx=0x7fffffff,maxx=-0x7fffffff;\nint main()\n{\n\tmemset(dis,0x7fffffff,sizeof(dis));\n\tmemset(e,0x7fffffff,sizeof(e));\n\tmemset(mid,false,sizeof(mid));\n\tscanf(\"%d\",&n);\n\tfor(register int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d%d%d%d%lf\",&a1,&b1,&a2,&b2,&t);\n\t\ta1=a1*2+400,b1=b1*2+400,a2=a2*2+400,b2=b2*2+400;\n\t\ta1_5=(a1+a2)/2;\n\t\tb1_5=(b1+b2)/2;\n\t\tif(!a[a1][b1])a[a1][b1]=++tot;\n\t\tif(!a[a2][b2])a[a2][b2]=++tot;\n\t\tif(!a[a1_5][b1_5])\n\t\t{\n\t\t\ta[a1_5][b1_5]=++tot;\n\t\t\tmid[tot]=true;\n\t\t}\n\t\te[a[a1][b1]][a[a1_5][b1_5]]=t*1.00000/2;\n\t\te[a[a1_5][b1_5]][a[a1][b1]]=t*1.00000/2;\n\t\te[a[a2][b2]][a[a1_5][b1_5]]=t*1.00000/2;\n\t\te[a[a1_5][b1_5]][a[a2][b2]]=t*1.00000/2;\n\t\tdis[a[a1][b1]][a[a1_5][b1_5]]=t*1.00000/2;\n\t\tdis[a[a1_5][b1_5]][a[a1][b1]]=t*1.00000/2;\n\t\tdis[a[a2][b2]][a[a1_5][b1_5]]=t*1.00000/2;\n\t\tdis[a[a1_5][b1_5]][a[a2][b2]]=t*1.00000/2;\n\t}\n\tfor(register int k=1;k<=tot;k++)\n\t{\n\t\tfor(register int i=1;i<=tot;i++)\n\t\t{\n\t\t\tfor(register int j=1;j<=tot;j++)\n\t\t\t{\n\t\t\t\tif(dis[i][k]<0x7fffffff&&dis[k][j]<0x7fffffff)\n\t\t\t\t{\n\t\t\t\t\tdis[i][j]=min(dis[i][j],dis[i][k]+dis[k][j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(register int k=1;k<=tot;k++)\n\t{\n\t\tif(mid[k])continue;\n\t\tmaxx=-0x7ffffff;\n\t\tfor(register int i=1;i<=tot;i++)maxx=max(maxx,dis[k][i]);\n\t\tfor(register int i=1;i<=tot;i++)\n\t\t{\n\t\t\tfor(register int j=1;j<=tot;j++)\n\t\t\t{\n\t\t\t\tif(dis[k][i]<e[i][j]+dis[k][j]&&dis[k][j]<dis[k][i]+dis[i][j])\n\t\t\t\t{\n\t\t\t\t\tmaxx=max(maxx,max(dis[k][i],dis[k][j])+(e[i][j]-max(dis[k][i],dis[k][j])+min(dis[k][i],dis[k][j]))/2.0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\tminx=min(minx,maxx);\n\t}\n\tprintf(\"%.4lf\",minx);\n\treturn 0;\n}\n```\n\n------------\n\n\u5176\u5b9e\uff0c\u53ea\u8981\u4e0d\u76f4\u63a5\u6284\u9898\u89e3\uff0cCtrl+c & Ctrl+v \u633a\u597d\u7684\n\n\u4f46\u662f~~\uff08\u524d\u9762\u8bf4\u8fc7\u201c\u4f46\u662f\u201d\u4e0d\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u8bcd\uff09~~\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u4ea4\u4e0a\u6d1b\u8c37\u4e0d\u53ef\u80fd\u5bf9\n\n\u4e0a\u4ee3\u7801\u662f\u9488\u5bf9\u6211\u6821OJ\u7684\u9898\uff0c\u6570\u636e\u6c34\u7684\u4e00\u6279,\u622a\u53d6:\n\n------------\n\n\u3010\u6570\u636e\u8303\u56f4\u3011\n\n100%\u7684\u6570\u636e\uff1a\n\n1<=n<=40;\n\n|a|,|b|,|c|,|d|\u2264200, 0\u2264t\u22641e7;\n\n------------\n\n\u8fd0\u7528\u90bb\u63a5\u77e9\u9635\u7b49\u77e5\u8bc6\u70b9\uff0c10\u5206\u4e0d\u9519\u4e86\n\n![](https://cdn.luogu.com.cn/upload/pic/46636.png)\n\n\u505a\u6700\u77ed\u8def\u65b9\u6cd5\u592a\u591a\u4e86\uff0c\u4f8b\u5982SPFA\uff0c\u4e2d\u56fd\u7b97\u6cd5\u5f53\u7136\u8981\u7528~~\uff08\u6a21\u677f\u597d\u5957\uff09~~\n\n\u6709\u4e86\u524d\u9762\u4ee3\u7801\u7684\u57fa\u7840\u5f53\u7136\u597d\u5199\n\n\u5949\u4e0a\uff1a\n\n\n\n------------\n\n```cpp\n#include<bits/stdc++.h>\n\nusing namespace std;\n\ndouble max(double a,double b)\n{\n\tif(a>b)return a;\n\telse return b;\n}\ndouble min(double a,double b)\n{\n\tif(a<b)return a;\n\telse return b;\n}\nstruct node\n{\n\tint from,to;\n\tdouble val;\n\tint nxt;\n\tnode(int from=0,int to=0,double val=0,int nxt=0):from(from),to(to),val(val),nxt(nxt){};\n};\nint n,tot=0,len=0;\ndouble val;\nint a1,a2,b1,b2,am,bm;\nint f[10000];\nnode edge[20000];\nint head[10000],a[4000][4000];\ndouble dis[10000];\nbool vis[10000];\ndouble ans=0x7fffffff;\nvoid add(int from,int to,double val)\n{\n    edge[++len]=node(from,to,val,head[from]);\n\thead[from]=len;\n}\nint Num(int x,int y)\n{ \n    if(!a[x][y])a[x][y]=++tot; \n\treturn a[x][y]; \n}\nvoid SPFA(int s)\n{\n    deque<int> q;\n\tmemset(vis,0,sizeof(vis));\n\tmemset(dis,127,sizeof(dis));\n\tdis[s]=0;\n\tq.push_front(s);\n\tvis[s]=1;\n\twhile(!q.empty())\n\t{\n\t    int cur=q.front();\n\t\tq.pop_front();\n\t\tvis[cur]=0;\n\t\tfor(register int i=head[cur];i;i=edge[i].nxt)\n\t\t{\n\t\t    int id=edge[i].to;\n\t\t\tif(dis[id]>dis[cur]+edge[i].val)\n\t\t\t{\n\t\t\t    dis[id]=dis[cur]+edge[i].val;\n\t\t\t\tif(!vis[id])\n\t\t\t\t{\n\t\t\t\t    vis[id]=true;\n\t\t\t\t\tif(q.empty())q.push_front(id);\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t    if(dis[id]<dis[q.front()])q.push_front(id);\n\t\t\t\t\t\telse q.push_back(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\ndouble calculate(int x)\n{\n    double s=max(dis[edge[x].from],dis[edge[x].to]);\n\ts+=(edge[x].val-abs(dis[edge[x].from]-dis[edge[x].to]))/2;\n\treturn s;\n}\ndouble check(int x)\n{\n    SPFA(x);\n    double ans=0;\n    for(register int i=1;i<=len;i+=2)ans=max(ans,calculate(i));\n    return ans;\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(register int i=1;i<=n;i++)\n\t{\n        scanf(\"%d%d%d%d\",&a1,&b1,&a2,&b2);\n        a1=a1*2+2000,a2=a2*2+2000,b1=b1*2+2000,b2=b2*2+2000;\n        am=(a1+a2)/2,bm=(b1+b2)/2;\n\t\tscanf(\"%lf\",&val);\n\t\tval/=2;\n        add(Num(a1,b1),Num(am,bm),val);\n\t\tadd(Num(am,bm),Num(a1,b1),val);\n\t\tadd(Num(a2,b2),Num(am,bm),val);\n\t\tadd(Num(am,bm),Num(a2,b2),val);\n\t\tf[Num(a1,b1)]=1;\n\t\tf[Num(a2,b2)]=1;\n\t}\n\tfor(register int i=1;i<=tot;i++)if(f[i])ans=min(check(i),ans);\n\tprintf(\"%.4lf\",ans);\n\treturn 0;\n}\n```\n\n------------\n\n\u8fd9\u4e2aSPFA\u81ea\u7136\u662f\u53ef\u8fc7\u7684\n\n![](https://cdn.luogu.com.cn/upload/pic/46641.png)\n\nFloyd's\u7b97\u6cd5\u5df2\u7ecf\u6709\u5927\u4f6c\u5199\u7684\u5f88\u597d\uff0c\u5c31\u4e0d\u9700\u8981\u6211\u7684\u4e86~~\n\n\u597d\u4e0d\u5bb9\u6613\u5199\u51fa\u6765\u4e86\uff0c\u5f53\u7136\u8981\u53d1\u9898\u89e3~~ ~~\u53ea\u6709\u4e00\u7bc7\uff0c\u8fc7\u7684\u6982\u7387\u5927\u4e00\u4e9b~~\n\n\u6211\u8981\u662f\u8fc7\u4e0d\u53bb\uff0c\u5c82\u4e0d\u5c34\u5c2c\uff0c\u6c42\u8fc7o(\u2565\ufe4f\u2565)o\n\n\u8c22\u8c22Thanks\u266a(\uff65\u03c9\uff65)\uff89\n\n\u518d\u89c1\u30fe(\uffe3\u25bd\uffe3)Bye~Bye~",
        "postTime": 1545225722,
        "uid": 92589,
        "name": "XSZCaesar",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4277 \u3010\u6cb3\u57ce\u8377\u53d6\u7684\u70df\u82b1\u3011"
    }
]