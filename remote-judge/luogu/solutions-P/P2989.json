[
    {
        "content": "\u539f\u9898\u4f20\u9001\u95e8[>Here<](https://www.luogu.org/problemnew/show/P2989)\n\n\u6211\u768401\u5206\u6570\u89c4\u5212\u5b66\u4e60\u7b14\u8bb0[>Here<](https://www.luogu.org/blog/PopulusEuphratica/post-xue-xi-bi-ji-01-fen-shuo-gui-hua)\n\n\u8fd9\u9898\u662f\u4e00\u905301\u5206\u6570\u89c4\u5212\u95ee\u9898\uff0c\u4e8c\u5206\u548c\u5224\u5b9a\u7684\u65b9\u6cd5\u90fd\u6bd4\u8f83\u5e38\u89c4\uff0c\u6bcf\u6b21\u4e8c\u5206$mid$\u65f6\u5224\u65ad\u80fd\u4e0d\u80fd\u4f7f\u9009\u51fa\u7684\u6570\u4e4b\u548c\u4e3a\u8d1f\u6570\u5c31\u53ef\u4ee5\u4e86\u3002\u5bf9\u4e8e\u8981\u6c42\u7684\u6ee1\u8db3\u6bd4\u7387\u6700\u5927\u7684\u6761\u4ef6\u4e0b\u4f7f\u91cd\u91cf\u6700\u5c0f\uff0c\u53ea\u8981\u53cc\u5173\u952e\u5b57\u6392\u5e8f\u4ee5\u540e\u9009\u62e9\u5c31\u53ef\u4ee5\u4e86\u3002\u5728\u4e8c\u5206\u65f6\u987a\u4fbf\u5b58\u4e00\u4e0b\u9009\u4e2d\u7684\u96f6\u4ef6\uff0c\u6700\u540e\u8f93\u51fa\u5c31\u597d\u4e86\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n\nstruct point{\n\tdouble val;\n\tint pos,m;\n}num[10001];\nbool cmp(point a,point b){\n\treturn a.val==b.val ? a.m<b.m : a.val<b.val;\n} \ndouble F[10001],M[10001],l,r,mid;\nint n,ans[10001],top,tem[10001],ttop;\nbool judge(double u){\n\tfor(int i=0;i<=n;i++)num[i].val=M[i]*u-F[i],num[i].m=M[i],num[i].pos=i;\n\tstd::sort(num+1,num+n+1,cmp);\n\tttop=0;\n\tfor(int i=1;num[0].val>0.0&&i<=n;i++)tem[++ttop]=num[i].pos,num[0].val+=num[i].val;\n\tif(num[0].val>0.0)return 0;\n\ttop=ttop;\n\tfor(int i=1;i<=top;i++)ans[i]=tem[i];\n\treturn 1;\n}\nint main(){\n\tscanf(\"%lf%lf%d\",F,M,&n);\n\tfor(int i=1;i<=n;i++)scanf(\"%lf%lf\",F+i,M+i);\n\tl=0.0,r=10000000.0;\n\twhile(r-l>=0.0001){\n\t\tmid=(l+r)/2;\n\t\tif(judge(mid))l=mid;\n\t\telse r=mid;\n\t}\n\tstd::sort(ans+1,ans+top+1);\n\tfor(int i=1;i<=top;i++)printf(\"%d\\n\",ans[i]);\n\tif(!top)puts(\"NONE\");\n}\n```",
        "postTime": 1534040502,
        "uid": 30903,
        "name": "Isonan",
        "ccfLevel": 0,
        "title": "luoguP2989 [USACO10MAR]\u5bf9\u901f\u5ea6\u7684\u9700\u8981Need For Speed"
    },
    {
        "content": "## 45 pts\n\n\u7206\u641c\u3002\u679a\u4e3e\u6bcf\u4e2a\u96f6\u4ef6\u9009\u8fd8\u662f\u4e0d\u9009\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(2^n)$\n\n## Code:\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ndouble f,m,a[10001],b[10001],cnta,ans[10001],maxs,zh[10001];\nint n;\nvoid dfs(int now,int cnt,double x,double y)\n{\n\tif(now==n+1){\n\t\tif(x/y>maxs){\n\t\t\tcnta=cnt;\n\t\t\tfor(int i=1;i<=cnta;i++) ans[i]=zh[i];\n\t\t\tmaxs=x/y;\n\t\t}\n\t\treturn;\n\t}\n\tdfs(now+1,cnt,x,y);\n\tzh[cnt+1]=now;\n\tdfs(now+1,cnt+1,x+a[now],y+b[now]);\n}\nint main()\n{\n\tcin>>f>>m>>n;\n\tfor(int i=1;i<=n;i++) cin>>a[i]>>b[i];\n\tdfs(1,0,f,m);\n\tif(cnta==0){\n\t\tcout<<\"NONE\";\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=cnta;i++) cout<<ans[i]<<endl;\n\treturn 0;\n} \n```\n\n## 100 pts\n\n\u8003\u8651\u8d2a\u5fc3\u3002\u8d2a\u5fc3\u7b56\u7565\u662f \u6309\u7167 $ \\frac{F}{M} $ \u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u6700\u540e\u7684\u7ed3\u679c\u4e00\u5b9a\u662f\u6700\u4f18\u7684\u3002\n\n\u6392\u5e8f\u540e\uff0c\u5bf9\u4e8e\u7b2c $i$ \u4e2a\u96f6\u4ef6\uff08\u5df2\u9009\u524d $i-1$ \u4e2a\u96f6\u4ef6\uff0c\u5f53\u524d\u7b54\u6848\u6700\u4f18\uff09\uff0c\u6211\u4eec\u628a\u9009\u4e86\u7b2c $i$ \u4e2a\u96f6\u4ef6\u7684\u7b54\u6848\u4e0e\u539f\u6765\u7684\u7b54\u6848\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u5c0f\u4e86\uff0c\u5219\u4e0d\u9009\u7b2c $i$ \u4e2a\u96f6\u4ef6\uff0c\u4e5f\u4e0d\u9009\u5176\u4ed6\u96f6\u4ef6\u3002\n\n\u6700\u540e\u6309\u7f16\u53f7\u6392\u5e8f\u540e\u8f93\u51fa\u7b54\u6848\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(n \\log n)$\n\n## Code:\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct node{\n\tdouble x,y;\n\tint num;\n}a[10001];\nbool cmp(node a,node b)\n{\n\treturn a.x/a.y>b.x/b.y;\n}\nbool num(node a,node b)\n{\n\treturn a.num<b.num;\n}\nint n,i;\ndouble f,m,ans;\nint main()\n{\n\tcin>>f>>m>>n;\n\tfor(i=1;i<=n;i++){\n\t\tcin>>a[i].x>>a[i].y;\n\t\ta[i].num=i;\n\t}\n\tsort(a+1,a+1+n,cmp);\n\tans=f/m;\n\tfor(i=1;i<=n;i++){\n\t\tf+=a[i].x,m+=a[i].y;\n\t\tif(f/m>ans) ans=f/m;\n\t\telse{\n\t\t\tif(i==1){\n\t\t\t\tcout<<\"NONE\";\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tsort(a+1,a+i,num);\n\t\t\tfor(int j=1;j<i;j++) cout<<a[j].num<<endl;\n\t\t\treturn 0;\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1638610878,
        "uid": 486484,
        "name": "Gaode_Sean",
        "ccfLevel": 6,
        "title": "P2989 \u9898\u89e3"
    },
    {
        "content": "### \u624b\u63a8\u4e00\u7ec4\u5f0f\u5b50\n$\\because$ \u6700\u5927\u5316\n$$\\frac {F+\\sum_{i=1}^{n}X_i\\times F_i}{M+\\sum_{i=1}^{n}X_i\\times M_i}$$\n      \u6700\u5c0f\u5316\n$$\\sum_{i=1}^{n}Xi\\times Mi+M$$\n\n~~\u8fd9\u4e2a\u4e1c\u897f\u770b\u8d77\u6765\u975e\u5e38nb \u90a3\u6211\u4eec\u63a5\u4e0b\u6765\u5c31\u8981\u628a\u5b83\u5e72\u6b7b~~\uff08bushi\uff09\n\n\u8fd9\u662f\u5565\u610f\u601d\u5462\n\n\u6211\u4eec\u5df2\u77e5$F,M$ \u7136\u540e\u5f00\u59cb\u9009\u6570\n\n\u9009\u6570\u7684\u65f6\u5019\u8981\u5148\u6392\u5e8f \u5047\u5982\u6211\u4eec\u6709\u4e00\u79cd\u65b9\u6cd5\u53ef\u4ee5\u4f7f\u7b54\u6848\u6700\u4f18\n\n\u7136\u540e\u80fd\u62ff\u5c31\u62ff\u5373\u53ef\n\n### \u90a3\u4e48\u600e\u4e48\u6392\u5e8f\u5462\n\n\u6027\u611f\u7406\u89e3\u4e00\u4e0b \u628a$Fi$\u548c$Mi$\u505a\u4e00\u4e2a\u6bd4\u503c\n\n### \u4e25\u683c\u8bc1\u660e\uff1a\nif\uff1a $\\frac{F}{M}<\\frac{Fi}{Mi}<\\frac{Fj}{Mj}$\n\nso: $\\frac{F+Fj}{M+Mj}>\\frac{F+Fi}{M+Mi}$\n\n\u6570\u5b66\u9898\u8981\u4ec0\u4e48\u4ee3\u7801\u554a\n\n[\u5c0f\u5e7f\u544a](http://www.coupdetat.cn)",
        "postTime": 1572145218,
        "uid": 58064,
        "name": "COUPDETAT",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2989 \u3010[USACO10MAR]\u5bf9\u901f\u5ea6\u7684\u9700\u8981Need For Speed\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u611f\u89c9\u50cf\u662f\u6a59\u9898\uff0c\u8d2a\u5fc3\u6392\u4e2a\u5e8f\u5c31\u8fc7\u4e86\uff0c\u5c31\u662f\u4e2d\u6587\u7ffb\u8bd1\u6709\u70b9\u5751\uff0c\u5982\u679c\u4e0d\u8bb8\u8981\u52a0\u65b0\u7684\u96f6\u4ef6\u90a3\u4e48\u8f93\u51faNone\uff0c\u540e\u9762\u7684one\u662f\u5927\u5199\u7684\u3002\n\u5c31\u6309\u7167\u6240\u8c13\u7684\u6027\u4ef7\u6bd4\u6392\u5e8f\u8bb0\u5f55\u4e0b\u4ed6\u539f\u6765\u7684\u7f16\u53f7\u5c31\u884c\u4e86\uff0c\u6027\u4ef7\u6bd4\u6700\u5927\u7684\u62ff\u4e86\u53cd\u800c\u8fd8\u964d\u4f4e\u7684\u8bdd\u90a3\u4e48\u540e\u9762\u90fd\u53ef\u4ee5\u76f4\u63a5\u4e0d\u7528\u62ff\u4e86\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ndouble F,M;\nint n;\nstruct f{\n\tlong long int a,b;\n\tint num;\n}a[10005];\nbool cmp(f a,f b)\n{\n\treturn a.a*b.b>b.a*a.b;//\u8fd9\u4e2a\u7b49\u4ef7\u4e8ea.a/a.b>b.a/b.b;\u4e0d\u8fc7\u8fd9\u6837\u5199\u4e0d\u4f1a\u51fa\u73b0\u4e22\u7cbe\u5ea6\u7684\u95ee\u9898\u3002\n}\nbool ans[10005];\nint main()\n{\n\tscanf(\"%lf%lf%d\",&F,&M,&n);\n\tfor(int i=1;i<=n;i++)\n\tscanf(\"%lld%lld\",&a[i].a,&a[i].b),a[i].num=i;\n\tsort(a+1,a+1+n,cmp);\n\tdouble s=F/M;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tF+=a[i].a,M+=a[i].b;\n\t\tif((F/M)>s)\n\t\t{\n\t\t\ts=F/M;\n\t\t\tans[a[i].num]=true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\tbool x=1;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tif(ans[i])\n\t\t{\n\t\t\tprintf(\"%d\\n\",i);\n\t\t\tx=0;\n\t\t}\n\t}\n\tif(x)\n\tprintf(\"NONE\");\n\treturn 0;\n}\n```\n",
        "postTime": 1572952814,
        "uid": 155626,
        "name": "\u8001\u54b8\u9c7c\u4e86",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2989 \u3010[USACO10MAR]\u5bf9\u901f\u5ea6\u7684\u9700\u8981Need For Speed\u3011"
    },
    {
        "content": "\u6570\u5b66\u8fd0\u7b97\n\n\u5982\u679c\u6ee1\u8db3 F / M < Fi / Mi < Fj / Mj\uff0c\u5c31\u5f97\u51fa (F+Fj) / (M+Mj) > (F+Fi) / (M+Mi)\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\nstruct node\n{\n    double f,m;\n    int num;\n};\nint n,i,b[10005];\ndouble f,m;\nnode a[10005];\nchar ch;\nint getnum()\n{\n    ch=getchar();\n    for (;ch<'0' || ch>'9';ch=getchar());\n    int ret=0;\n    for (;ch>='0' && ch<='9';ch=getchar()) ret=ret*10+ch-48;\n    return ret;\n}\nbool cmp(node a,node b)\n{\n    if ((a.f/a.m)!=(b.f/b.m)) return (a.f/a.m)>(b.f/b.m);\n    return a.m<b.m;\n}\nbool cmq(int a,int b)\n{\n    return a<b;\n}\nvoid init()\n{\n    f=getnum();m=getnum();n=getnum();\n    for (i=1;i<=n;i++)\n    {\n        a[i].f=getnum();a[i].m=getnum();a[i].num=i;\n    }\n}\nvoid solve()\n{\n    sort(a+1,a+n+1,cmp);\n    for (i=1;i<=n;i++)\n    {\n        if ((a[i].f/a[i].m)<(f/m)) break;\n        if ((a[i].f/a[i].m)==(f/m) && a[i].m>m) break;\n        f+=a[i].f;m+=a[i].m;\n        b[++b[0]]=a[i].num;\n    }\n    if (b[0]==0)\n    {\n        printf(\"NONE\");\n        return;\n    }\n    sort(b+1,b+b[0]+1,cmq);\n    for (i=1;i<=b[0];i++) printf(\"%d\\n\",b[i]);\n}\nint main()\n{\n    init();\n    solve();\n    return 0;\n}\n```",
        "postTime": 1486447562,
        "uid": 31697,
        "name": "plwz",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2989 \u3010[USACO10MAR]\u5bf9\u901f\u5ea6\u7684\u9700\u8981Need For Speed\u3011"
    }
]