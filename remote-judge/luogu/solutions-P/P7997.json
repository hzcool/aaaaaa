[
    {
        "content": "\u5bb9\u6613\u53d1\u73b0\uff0c\u6700\u5927\u7684\u7b54\u6848 $<2 \\times a_{max}$\u200b\n\n\u5bb9\u6613\u53d1\u73b0\uff0c\u4e00\u4e2a\u70b9\u82e5\u80fd\u591f\u5728 $x$ \u65f6\u523b\u5230\u8fbe\uff0c\u5219\u4e00\u5b9a\u80fd\u5728 $x+2$ \u65f6\u523b\u5230\u8fbe\n\n\u4e8e\u662f\u6211\u4eec\u5c06\u4e00\u4e2a\u70b9\u62c6\u70b9\uff0c\u62c6\u6210\u5947\u6570\u6b65\u5230\u8fbe\u4ee5\u53ca\u5076\u6570\u6b65\u5230\u8fbe\n\n\u4e4b\u540e\u6211\u4eec\u518d\u8fde\u8fb9\u5e76\u9884\u5904\u7406\u51fa\u6700\u77ed\u8def\n\n\u7136\u540e\u76f4\u63a5\u5728\u7ebf\u56de\u7b54\u5373\u53ef",
        "postTime": 1640687498,
        "uid": 559616,
        "name": "\u20ac\u20ac\u00a3",
        "ccfLevel": 0,
        "title": "p7997\u9898\u89e3"
    },
    {
        "content": "\u8865\u53bb\u5e74\u7684\u4f5c\u4e1a\u9898\uff0c\u4ea4\u4e86\u4e24\u9875\u624d\u8fc7\uff0c\u7279\u6b64\u7eaa\u5ff5\n\n------------\n\n\u8003\u8651\u6700\u4f18\u60c5\u51b5\u4e0d\u4f1a\u8d85\u8fc7 $2\\times\\max(a_1,a_2,...,a_n)-1$\uff0c\u9898\u76ee\u4e2d\u53d6 $3999$ \u5373\u53ef\u3002\n\n\u8003\u8651\u5efa\u56fe\uff0c\u5171 $4000$ \u4e2a\u70b9\uff0c\u6700\u591a $8\\times10^6$ \u6761\u8fb9\u3002\n\n\u5982\u679c\u8d70 $m$ \u6761\u8fb9\u80fd\u5230\u8fbe $x$\uff0c\u90a3\u4e48\u8fde\u7eed\u505a\u4e24\u6b21\u6700\u96be\u7684\u9898\uff0c\u4e00\u52a0\u4e00\u51cf\u62b5\u6d88\uff0c\u5f97\u5230\u8d70 $m+2$ \u6761\u8fb9\u4e00\u5b9a\u4e5f\u80fd\u5230\u8fbe $x$\u3002\n\n\u4e8e\u662f\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u70b9\uff0c$\\operatorname{bfs}$ \u7ef4\u62a4\u5947\u6570\u548c\u5076\u6570\u5e03\u8d70\u5230\u7684\u6700\u77ed\u8def\u3002\n\n\u8fd9\u6837\u5f53\u7ed9\u5b9a $m$ \u65f6\uff0c\u6211\u4eec\u53ea\u9700\u8981\u679a\u4e3e\u5947\u6570\u548c\u5076\u6570\u5e03\u8d70\u5230\u6700\u4f18\u60c5\u51b5\u7684\u6700\u77ed\u8def\u5206\u522b\u9700\u8981\u591a\u5c11\u3002\n\n\u5f53\u65e0\u6cd5\u53d6\u5230\u6700\u5927\u503c\u65f6\uff0c\u8d70 $m$ \u6b65\u6700\u5927\u80fd\u8d70\u5230\u54ea\u4e2a\u70b9\uff0c\u8fd9\u4e00\u6b65\u53ef\u4ee5\u7ef4\u62a4\u4e00\u4e2a\u5947\u6570\u6216\u5076\u6570\u5e03\u7684\u524d\u7f00\u6700\u5927\u503c\u3002\n\n------------\n\n\u8bf4\u7684\u7b80\u5355\uff0c\u5199\u8d77\u6765\u8fd8\u662f\u5f88\u51fa\u9519\u7684\u3002\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,bool> p;\nstatic char buf[100],*p1=buf,*p2=buf,obuf[100],*p3=obuf;\n#define getchar() p1==p2&&(p2=(p1=buf)+fread(buf,1,100,stdin),p1==p2)?EOF:*p1++\n#define putchar(x) (p3-obuf<100)?(*p3++=x):(fwrite(obuf,p3-obuf,1,stdout),p3=obuf,*p3++=x)\ntemplate<typename item>\ninline void read(register item &x){\n    x=0;register int f=1;register char c=getchar();\n    while(c<'0'||c>'9'){if(c=='-')f=-1;c=getchar();}\n    while(c>='0'&&c<='9')x=(x<<3)+(x<<1)+(c-'0'),c=getchar();\n    x*=f;\n}\nstatic char cc[100];\ntemplate<typename item>\ninline void print(register item x){ \n\tregister int len=0;\n\tif(x<0)x=-x,putchar('-');\n    if(x==0)putchar('0');\n\twhile(x)cc[len++]=x%10+'0',x/=10;\n\twhile(len--)putchar(cc[len]);\n}\n//\u6ca1\u5fc5\u8981\u5feb\u8bfb\u5feb\u5199\uff0c\u8c03\u8bd5\u7684\u65f6\u5019TLE\u4e86\uff0c\u539f\u56e0\u4e0d\u5728\u6b64\nconst int maxn=4084;\nstruct Node{\n    int to,ne;\n}e[maxn*maxn/2];\nll m;\nint n,T,a[maxn],dis[maxn][2],ans[maxn];\nint head[maxn],ecnt=1;\nvoid add(int u,int v){\n    e[ecnt]={v,head[u]};\n    head[u]=ecnt++;\n    return ;\n}\nqueue<p> q;\nvoid bfs(int x){\n    memset(dis,0x7f,sizeof(dis));\n    dis[x][0]=0;\n    q.push({x,0});\n    p t;\n    while(!q.empty()){\n        t=q.front();\n        q.pop();\n        for(int i=head[t.first];i;i=e[i].ne){\n            if(e[i].to!=x&&dis[e[i].to][t.second^1]>1e9){//\u7f6a\u9b41\u7978\u9996\uff0c3999->1e9,TLE+MLE->AC\n                dis[e[i].to][t.second^1]=dis[t.first][t.second]+1;\n                q.push({e[i].to,t.second^1});\n            }\n        }\n    }\n    return ;\n}\nint main(){\n    read(n);\n    read(T);\n    for(int i=1;i<=n;i++)\n        read(a[i]);\n    for(int i=0;i<=3999;i++)\n        for(int j=1;j<=n;j++)\n            if(i>=a[j])\n                add(i,i-a[j]);\n            else if(i+a[j]<=3999)\n                add(i,i+a[j]);\n    bfs(0);\n    for(int i=1;i<=3999;i++){\n        if(dis[i][0]<=3999)\n            ans[dis[i][0]]=i;\n        if(dis[i][1]<=3999)\n            ans[dis[i][1]]=i;\n    }\n    for(int i=2;i<=3999;i++)\n        ans[i]=max(ans[i],ans[i-2]);//\u524d\u7f00\n    while(T--){\n        read(m);\n        if(m>3999)\n            print(ans[m&1?3999:3998]);\n        else\n            print(ans[m]);\n        putchar('\\n');\n    }\n    fwrite(obuf,p3-obuf,1,stdout);\n    return 0;\n}\n//tjn&&lyn--1314\n```\n",
        "postTime": 1678890996,
        "uid": 526094,
        "name": "Wf_yjqd",
        "ccfLevel": 0,
        "title": "P7997 [WFOI - 01] \u5237\u9898 \uff08problem\uff09\u9898\u89e3"
    },
    {
        "content": "~~\u770b\u7740\u5927\u4f6c\u4eec\u90fd\u7528\u725b\u903c\u7b97\u6cd5\uff0c\u849f\u84bb\u8868\u793a\u4e0d\u660e\u767d~~\n# Solution : dp\n\n\u8003\u8651dp,\u8bbe $f_{i,j}$ \u4e3a\u505a\u4e86 $j$ \u9898\u7684\u80fd\u529b\u503c\u4e3a $i$ \uff0c\u5f88\u5bb9\u6613\u53ef\u4ee5\u5f97\u5230\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n$f_{i,j}=f_{i,j}|f_{i+a_k,j-1}|f_{i-a_k,j-1}$\n\n\u663e\u7136\u590d\u6742\u5ea6\u662f $n\\cdot max_M$ \uff0c\u663e\u7136\u8fc7\u4e0d\u4e86\u3002\n\n\u901a\u8fc7\u6253\u8868\u6211\u4eec\u53d1\u73b0\u5728\u505a $5$ \u9898\u53ca\u4ee5\u5185~~\u6211\u4e5f\u4e0d\u77e5\u9053\u5177\u4f53\u662f\u591a\u5c11\u53cd\u6b63\u5f88\u5c0f\u5c31\u5bf9\u4e86~~\u5c31\u53ef\u4ee5\u5b8c\u6210\u5bf9\u80fd\u8fbe\u6210\u7684\u80fd\u529b\u503c\u7684\u8986\u76d6\uff0c\u6240\u4ee5\u5728\u5b8c\u6210\u8986\u76d6\u540e\u5e76\u4e0d\u9700\u8981\u91cd\u590d\u505a\uff0c\u53ea\u9700\u8981\u8bb0\u5f55\u5f53\u524d\u7684\u9898\u6570\uff0c\u5927\u4e8e\u7b49\u4e8e\u8fd9\u4e2a\u9898\u6570\u5c31\u8f93\u51fa\u6700\u5927\u80fd\u529b\u503c\u5c31\u5bf9\u4e86\uff0c\u5176\u4f59\u7684\u5728\u52a8\u6001\u89c4\u5212\u8fc7\u7a0b\u4e2d\u8bb0\u5f55\u7b54\u6848\uff0c $O(1)$ \u67e5\u8be2\u5373\u53ef\u3002\n\n[\u5b9e\u6d4b\u8dd1\u7684\u5c31\u6162\u90a3\u4e48\u4ebf\u70b9\u70b9](https://www.luogu.com.cn/record/66047038)\n\n\n```cpp\n#include<bits/stdc++.h>\n#define re register\nusing namespace std;\n\nconst int N=4e3+1;\nint n,a[2001],ans[N];\nbool dp[N][2001];//dp[i][j]\u7b2c j \u5929\u7684\u80fd\u529b\u503c\u4e3ai \n\ninline long long read() { long long X=0; bool flag=1; char ch=getchar(); while(ch<'0'||ch>'9') {if(ch=='-') flag=0; ch=getchar();} while(ch>='0'&&ch<='9') {X=(X<<1)+(X<<3)+ch-'0'; ch=getchar();}  if(flag) return X; return ~(X-1);}\ninline void print(int X) { if(X<0) {X=~(X-1); putchar('-');} if(X>9) print(X/10); putchar(X%10+'0'); }\n\n\nsigned main()\n{\n\tn=read(); int m=read(); int day=2005;\n\tfor(re int i=1;i<=n;++i) a[i]=read();\n\tsort(a+1,a+1+n);\n\tdp[0][0]=true;\n\tif(n!=1)\n\t{\n\t\tfor(re int j=1;j<=2000;++j)//\u7b2c\u51e0\u5929 \n\t\t{\n\t\t\tfor(re int i=0;i<=a[n]*2-1;++i)//\u73b0\u5728\u7684\u80fd\u529b\n\t\t\t{\n\t\t\t\tfor(re int k=1;k<=n;++k)//\u7b2c\u51e0\u5957 \n\t\t\t\t{\n\t\t\t\t\tif(i+a[k]<4000) dp[i][j]=dp[i][j]|dp[i+a[k]][j-1];//\u662f-\u5f97\u5230\u7684 \n\t\t\t\t\tif(i-a[k]<a[k]&&i-a[k]>=0) dp[i][j]=dp[i][j]|dp[i-a[k]][j-1];\n\t\t\t\t\t//\u662f+\u5f97\u5230\u7684 \n\t\t\t\t}\n\t\t\t}\n\t\t\tint cnt=0;\n\t\t\tfor(re int i=0;i<2*a[n];++i) if(dp[i][j]){ans[j]=i;++cnt;}\n\t\t\tif(cnt==a[n]*2) {day=j; break;}\n\t\t}\n\t}\n\twhile(m--)\n\t{\n\t\tlong long k=read();\n\t\tif(k>=day&&n!=1) cout<<a[n]*2-1<<endl;\n\t\telse\n\t\t{\n\t\t\tif(n==1)\n\t\t\t{\n\t\t\t\tprint(k%2==1?a[1]:0); puts(\"\");\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tprint(ans[k]); puts(\"\");\t\n\t\t\t}\n\t\t}\t\n\t}\n\treturn 0;\n}\n/*\n10\n6 19 34 35 56 63 82 82 83 99\n*/\n```\n",
        "postTime": 1642819553,
        "uid": 341110,
        "name": "starry_lasky",
        "ccfLevel": 0,
        "title": "P7997"
    },
    {
        "content": "\u7ecf\u5386\u4e86 NOIp2021 \u7684\u6d17\u793c\uff0c\u770b\u5565\u90fd\u50cf dp\u3002\u3002\u3002\n\n\u90a3\u8fd9\u9053\u9898\u5c31\u5dee\u4e0d\u591a\u4e86\n\n\u4e00\u4e2a\u80fd\u529b\u503c $x$ \u901a\u8fc7\u4e00\u4e2a $a_i$ \u53ef\u4ee5\u8f6c\u5316\u5230\u53e6\u4e00\u4e2a\u80fd\u529b\u503c $y$\uff0c\u800c\u8fd9\u4e2a\u8f6c\u5316\u7684\u6761\u4ef6\u53ea\u4e0e $x$ \u548c $a_i$ \u8c01\u5927\u8c01\u5c0f\u6709\u5173\u3002\n\n\u6240\u4ee5\u6211\u4eec\u8003\u8651 $dp_i$ \u8868\u793a\u5f97\u5230\u80fd\u529b\u503c $i$ \u81f3\u5c11\u8981\u51e0\u6b21\u64cd\u4f5c\uff0c\u8fd9\u6837\u6bcf\u4e2a\u8f6c\u5316\u5c31\u53d8\u6210\u4e86\u4e00\u6761\u4ece $i$ \u5230 $j$ \u7684\u201c\u8fb9\u201d\uff0c\u800c\u5269\u4e0b\u7684\u95ee\u9898\u5c31\u662f\u6700\u77ed\u8def\u5566\u3002\n\n\u552f\u4e00\u8981\u89e3\u51b3\u7684\u5c31\u662f $m$ \u53ef\u80fd\u5f88\u5927\n\n\u90a3\u4e48\u6211\u4eec\u6ce8\u610f\u5230 $ans<2a_n$\uff0c\u5176\u4e2d $a_n$ \u662f $a$ \u4e2d\u6700\u5927\u7684\u4e00\u9879\uff0c\u90a3\u4e48\u6700\u77ed\u8def\u80af\u5b9a\u4e5f\u4e0d\u4f1a\u5f88\u5927\u3002\n\n\u7528\u6700\u77ed\u8def\u8d70\u5230 $x$ \u540e\uff0c$m$ \u6b21\u64cd\u4f5c\u5269\u4e0b\u7684\u6b65\u6570\u201c\u5212\u6c34\u201d\u5c31\u884c\u4e86\uff0c\u4e5f\u5c31\u662f\u8bf4\u4e0d\u505c\u5730\u64cd\u4f5c $a_n$\uff0c\u8fd9\u6837\u6bcf $2$ \u6b21\u64cd\u4f5c\u540e\u5c31\u4f1a\u56de\u5230 $\\,x$\u3002\u4f46\u8fd9\u9700\u8981\u5230 $x$ \u7684\u6b65\u6570\u4e0e $m$ \u5947\u5076\u6027\u76f8\u540c\uff0c\u6240\u4ee5\u5904\u7406\u6700\u77ed\u8def\u65f6\u8981\u628a\u5947\u6700\u77ed\u8def\u548c\u5076\u6700\u77ed\u8def\u90fd\u5904\u7406\u51fa\u6765\u3002\n\nOver. \u89c1\u4ee3\u7801\n\n```cpp\n//coder: YB-Elsa of Ahtohallan\n#include<bits/stdc++.h>\n#define fu(i,a,b) for(register int i = a, I = (b) + 1; i < I; ++i)\n#define fd(i,a,b) for(register int i = a, I = (b) - 1; i > I; --i)\nusing namespace std;\ntypedef long long ll;\nconst int N=2022;\n\ninline int read(){\n    int x=0;char ch=getchar();\n    while(!isdigit(ch))ch=getchar();\n    while(isdigit(ch))x=(x<<1)+(x<<3)+ch-'0',ch=getchar();\n    return x;\n}int n,T,a[N];\nll dp[N<<1][2];\n//dp[i][p] \u8868\u793a\u505a\u51fai\u7684\u6700\u5c0f\u6b65\u6570\uff08p\u8868\u793a\u6b65\u6570\u5947\u5076\u6027\uff09 \n//dp[i+a[k]] <- dp[i]+1 (i<a[k])\n//dp[i-a[k]] <- dp[i]+1 (i>=a[k]) \nqueue<int> q;\nll m;bool flg;\nsigned main(){\n//\tfreopen(\"frozen.in\",\"r\",stdin);\n\tn=read(),T=read();\n\tfu(i,1,n)a[i]=read();\n\t//\u65e0\u804a\u7684\u5c0f\u4f18\u5316 \n\tsort(a+1,a+n+1);\n\tn=unique(a+1,a+n+1)-a-1;\n\t//spfa\u5904\u7406\u6700\u77ed\u8def \n\tmemset(dp,0x7f,sizeof(dp));\n\tdp[0][0]=0;\n\tq.push(0);\n\twhile(!q.empty()){\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tfu(i,1,n){\n\t\t\tif(x<a[i]){\n\t\t\t\tflg=0;\n\t\t\t\tif(dp[x+a[i]][0]>dp[x][1]+1){\n\t\t\t\t\tdp[x+a[i]][0]=dp[x][1]+1;\n\t\t\t\t\tq.push(x+a[i]);flg=1;\n\t\t\t\t}if(dp[x+a[i]][1]>dp[x][0]+1){\n\t\t\t\t\tdp[x+a[i]][1]=dp[x][0]+1;\n\t\t\t\t\tif(!flg)q.push(x+a[i]);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tflg=0;\n\t\t\t\tif(dp[x-a[i]][0]>dp[x][1]+1){\n\t\t\t\t\tdp[x-a[i]][0]=dp[x][1]+1;\n\t\t\t\t\tq.push(x-a[i]);flg=1;\n\t\t\t\t}if(dp[x-a[i]][1]>dp[x][0]+1){\n\t\t\t\t\tdp[x-a[i]][1]=dp[x][0]+1;\n\t\t\t\t\tif(!flg)q.push(x-a[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\twhile(T--){\n\t\tscanf(\"%lld\",&m);\n\t\tfd(i,a[n]<<1,0)\n\t\t\tif(dp[i][m&1LL]<=m){\n\t\t\t\tprintf(\"%d\\n\",i);\n\t\t\t\tbreak;\n\t\t\t}\n\t}\n    return 0;\n}\n```\n",
        "postTime": 1641547704,
        "uid": 104292,
        "name": "YellowBean_Elsa",
        "ccfLevel": 7,
        "title": "\u9898\u89e3P7997"
    },
    {
        "content": "\u8fd9\u9898\u5b9e\u9645\u4e0a\u8ddf [P5663 [CSP-J2019] \u52a0\u5de5\u96f6\u4ef6](https://www.luogu.com.cn/problem/P5663)  \u6709\u5f02\u66f2\u540c\u5de5\u4e4b\u5999\u3002\n\n~~\u7136\u800c\u6211\u6bd4\u8d5b\u65f6\u5374\u6ca1\u6709\u505a\u51fa P7997\u3002~~\n\n\u8fd9\u4e24\u9898\u7684\u6574\u4f53\u601d\u8def\u90fd\u662f\u5229\u7528\u5947\u5076\u6027 + \u6700\u77ed\u8def\u8fdb\u884c\u7684\u5224\u65ad\u3002\n\n\u9996\u5148\uff0c\u6839\u636e\u9898\u76ee\u6240\u7ed9\u7684\u89c4\u5219\uff0c\u6700\u540e\u7684\u5230\u7684\u6570\u5728 $[0, 2 \\times \\max a - 1]$ \u4e4b\u95f4\u3002\u6240\u4ee5\u8bf4\u5b9e\u9645\u4e0a\u6211\u4eec\u8981\u6c42\u7684\u4e5f\u5c31\u662f $0$ \u5230\u8fd9\u51e0\u4e2a\u6570\u7684\u5355\u6e90\u6700\u77ed\u8def\u3002\n\n\u6211\u4eec\u5728\u770b\u4e00\u4e0b $m$ \u7684\u8303\u56f4\uff0c\u8db3\u8db3\u6709 $10^{18}$\uff0c\u4f46\u8fd9\u53ea\u4e0d\u8fc7\u662f\u4e3a\u4e86\u5413\u552c\u4eba\u7684\u3002\u56e0\u4e3a\u603b\u5171\u53ef\u884c\u7684\u6570\u6700\u591a\u4e5f\u53ea\u6709 4000 \u4e2a\u3002\u6211\u4eec\u60f3\u5230\u5229\u7528\u5947\u5076\u6027\u3002\u5bf9\u4e8e\u4e00\u4e2a\u6574\u6570 $y$\uff0c\u5982\u679c\u5b58\u5728\u4e00\u4e2a $x$ \u4f7f\u5f97\u5728 $x$ \u6b65\u5185\u80fd\u5230\u8fbe $y$\uff0c\u4f7f\u5f97 $x \\le m$ \u5e76\u4e14 $x$ \u4e0e $m$ \u9664\u4ee5 2 \u7684\u4f59\u6570\u76f8\u540c\uff0c\u90a3\u4e48\u663e\u7136\u6211\u4eec\u53ef\u4ee5\u5728\u521a\u597d $m$ \u6b65\u5185\u5230\u8fbe $y$\u3002\uff08\u5269\u4e0b\u7684 $m - x$ \u6b65\u53ea\u9700\u5728\u76f8\u90bb\u4e24\u4e2a\u8282\u70b9\u6765\u56de\u8d70\u52a8\u5373\u53ef\uff09\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntemplate <class T>\ninline void Rd(T &x) {\n    x = 0;\n    bool f = 0;\n    char ch = getchar();\n    while (!isdigit(ch)) f |= ch == '-', ch = getchar();\n    while (isdigit(ch)) x = (x << 3) + (x << 1) + (ch ^ 48), ch = getchar();\n    if (f)\n        x = -x;\n}\ntypedef long long ll;\nint n, m, Q, a[2005], maxa;\nll f[4005][2];\nbool v[4005][2];\nvector<int> e[4005];\nint main() {\n    Rd(n), Rd(Q);\n    for (int i = 1; i <= n; ++i) Rd(a[i]), maxa = max(maxa, a[i]);\n    for (int i = 0; i <= 2 * maxa - 1; ++i)\n    \tfor (int j = 1; j <= n; ++j) \n    \t\te[i].push_back(i >= a[j] ? i - a[j] : i + a[j]);\n\tmemset(f, 0x3f, sizeof f);\n    f[0][0] = 0;\n    queue<pair<int, bool> > q;\n    v[0][0] = 1;\n    q.push(make_pair(0, 0));\n    while (q.size()) {\n    \tint x = q.front().first;\n    \tbool p = q.front().second;\n    \tq.pop();\n    \tfor (int i = 0; i < e[x].size(); ++i) {\n    \t\tint y = e[x][i];\n    \t\tif (v[y][p ^ 1]) continue;\n    \t\tf[y][p ^ 1] = f[x][p] + 1;\n    \t\tv[y][p ^ 1] = 1;\n    \t\tq.push(make_pair(y, p ^ 1));\n\t\t} \n\t}\n\twhile (Q--) {\n\t\tll m;\n\t\tRd(m);\n\t\tfor (int i = 2 * maxa - 1; i >= 0; --i)\n\t\t\tif (f[i][m & 1] <= m) {\n\t\t\t\tprintf(\"%d\\n\", i);\n\t\t\t\tbreak;\n\t\t\t}\t\n\t}\n    return 0;\n}\n```",
        "postTime": 1640759694,
        "uid": 162196,
        "name": "\u4f1f\u5927\u7684\u738b\u592b\u5b50",
        "ccfLevel": 6,
        "title": "P7997 [WFOI - 01] \u5237\u9898 \uff08problem\uff09 \u9898\u89e3"
    },
    {
        "content": "## \u4e00\u70b9\u5e9f\u8bdd\n\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P7997)\n\n[My blog](https://www.luogu.com.cn/blog/128433/#)\n\n%%%[czk](https://www.luogu.com.cn/user/121908)\uff0c\u8fb9\u542c\u8bfe\u8fb9\u6253\u6708\u8d5b\n\n## \u601d\u8def\n\n\u4e00\u4e2a\u660e\u663e\u7684\u7ed3\u8bba\uff1a\u80fd\u529b\u503c\u6700\u591a\u4e0d\u4f1a\u8d85\u8fc7 $2 \\cdot \\max a_i-1$\u3002\n\n\u53c8\u4e00\u4e2a\u660e\u663e\u7684\u7ed3\u8bba\uff1a\u6211\u4eec\u8fde\u7eed\u4e24\u6b21\u9009\u62e9\u96be\u5ea6\u6700\u9ad8\u7684\u9898\u505a\uff0c\u80fd\u529b\u503c\u4e0d\u53d8\n\n\u90a3\u4e48\u80fd\u529b\u503c\u7684\u8303\u56f4\u53ea\u53ef\u80fd\u662f $0,1,\\dots 2 \\cdot \\max a_i-1$\uff0c\u6700\u591a\u6709 $4000$ \u79cd\u4e0d\u540c\u7684\u80fd\u529b\u503c\u3002\n\n\u5047\u8bbe\u5f53\u524d\u80fd\u529b\u503c\u4e3a $x$\uff0c\u90a3\u4e48\u9009\u62e9\u7b2c $i$ \u9053\u9898\u540e\u80fd\u529b\u503c\u5c06\u53d8\u6210\u4e00\u4e2a\u56fa\u5b9a\u7684\u503c\uff0c\u4e8e\u662f\u8003\u8651\u5efa\u56fe\u641e\u3002\n\n\u5c06\u80fd\u529b\u503c\u4f5c\u4e3a\u8282\u70b9\uff0c\u5bf9\u4e8e\u7b2c $i$ \u9898\uff0c\u5c06 $0$ \u5230 $a_i-1$ \u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9 $x$ \u5411 $x+a_i$ \u8fde\u4e00\u6761\u6709\u5411\u8fb9\uff0c\u5c06 $a_i$ \u5230 $2 \\cdot \\max a_i-1$ \u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9 $x$ \u5411 $x+a_i$ \u4e5f\u8fde\u4e00\u6761\u6709\u5411\u8fb9\u3002\n\n\u7136\u540e\u4ee5 $0$ \u4e3a\u8d77\u70b9\uff0c\u8dd1\u5947\u5076\u56fe\u6700\u77ed\u8def\uff0c\u7edf\u8ba1\u4e00\u4e0b\u7b54\u6848\u5373\u53ef\u3002\n\n## \u4ee3\u7801\n```cpp\nstruct edge\n{\n\tint v,n;\n} e[8000005];\nll n,m,t,a[2005],l,h[4005],d[4005][2],maxn,ans[1000005][2];\ninline void add(int u,int v)\n{\n\te[++l].v=v,e[l].n=h[u],h[u]=l;\n}\nqueue<int> q,s;\nint main()\n{\n\tn=read(),t=read();\n\tfor (int i=1;i<=n;++i)\n\t\ta[i]=read();\n\tsort(a+1,a+1+n);\n\tfor (int i=1;i<=n;++i)//\u5efa\u56fe\n\t{\n\t\tfor (int j=0;j<a[i];++j)\n\t\t\tadd(j,j+a[i]);\n\t\tfor (int j=a[i];j<2*a[n];++j)\n\t\t\tadd(j,j-a[i]);\n\t}\n\tmemset(d,0x3f,sizeof(d));//\u6700\u77ed\u8def\n\td[0][0]=0;\n\tq.push(0),s.push(0);\n\twhile (!q.empty())\n\t{\n\t\tint t=q.front(),r=s.front();\n\t\tq.pop(),s.pop();\n\t\tfor (int b=h[t];b;b=e[b].n)\n\t\t{\n\t\t\tint v=e[b].v;\n\t\t\tif (d[v][r^1]<=d[t][r]+1)\n\t\t\t\tcontinue;\n\t\t\td[v][r^1]=d[t][r]+1;\n\t\t\tq.push(v),s.push(r^1);\n\t\t}\n\t}\n\tfor (int i=0;i<=2*a[n];++i)//\u7edf\u8ba1\u7b54\u6848\n\t{\n\t\tif (d[i][0]==d[4001][0])\n\t\t\td[i][0]=-1;\n\t\tif (d[i][1]==d[4001][0])\n\t\t\td[i][1]=-1;\n\t}\n\tfor (int i=0;i<=2*a[n];++i)\n\t{\n\t\tmaxn=max(maxn,max(d[i][0],d[i][1]));\n\t\tif (d[i][0]!=-1)\n\t\t\tans[d[i][0]][d[i][0]&1]=i;\n\t\tif (d[i][1]!=-1)\n\t\t\tans[d[i][1]][d[i][1]&1]=i;\n\t}\n\tfor (int i=1;i<=maxn;++i)\n\t\tans[i][0]=max(ans[i][0],ans[i-1][0]),ans[i][1]=max(ans[i][1],ans[i-1][1]);\n\twhile (t--)\n\t{\n\t\tm=read();\n\t\tif (m>=maxn)\n\t\t\twrite(ans[maxn][m&1],'\\n');\n\t\telse\n\t\t\twrite(ans[m][m&1],'\\n');\n\t}\n\treturn 0;\n}\n\n```\n",
        "postTime": 1640849383,
        "uid": 128433,
        "name": "C6H14",
        "ccfLevel": 7,
        "title": "\u3010\u9898\u89e3\u3011P7997"
    },
    {
        "content": "### \u7b80\u5316\u9898\u610f\n\n\u4f60\u6709\u4e00\u4e2a\u957f\u4e3a $n$ \u7684\u6570\u7ec4 $a$\uff0c\u4f60\u6709\u4e00\u4e2a\u6574\u6570 $x$\u3002\u6bcf\u6b21\u4f60\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u6570 $a_i$\uff0c\u82e5\u6570 $x\\ge a_i$\uff0c\u5219 $x$ \u4f1a\u53d8\u6210 $x-a_i$\uff0c\u5426\u5219\u53d8\u6210 $x+a_i$\u3002\n\n\u6c42\u5728\u9009\u6070\u597d $m$ \u4e2a\u6570\u7684\u60c5\u51b5\u4e0b\u6700\u7ec8 $x$ \u503c\u7684\u6700\u5927\u503c\u3002\n\n### Solution\n\n\u591a\u7ec4\u8be2\u95ee\uff0c\u8be2\u95ee\u4e4b\u95f4\u4e92\u76f8\u72ec\u7acb\uff0c\u6bcf\u6b21\u8be2\u95ee $x$ \u521d\u503c\u4e3a $0$\u3002\n\u8bb0 $\\max{a_i}=mx$\n\n\u5bf9\u4e8e\u6bcf\u6b21\u67e5\u8be2\uff0c\u82e5 $m\\ge n$\uff0c\u5219\u7ecf\u9a8c\u503c\u6700\u5927\u5e94\u8be5\u662f $2mx-1$\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a $\\bm {m\\le 4\\times 10^3}$\n\n\u4e00\u4e2a\u503c $x$ \u901a\u8fc7\u589e\u6216\u51cf $a_i$ \u8f6c\u5316\u6210 $y$\uff0c\u4e0e $y$ \u548c $a_i$ \u7684\u5927\u5c0f\u5173\u7cfb\u6709\u5173\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9\u548c $x$ \u548c\u6bcf\u4e00\u4e2a\u503c $a_i$\uff0c\u6240\u6709\u7684\u7ecf\u9a8c\u503c\u4f5c\u4e3a\u70b9\u3002\u901a\u8fc7\u8bbe\u5b9a\u503c\u4f5c\u4e3a\u8fb9\u6765\u8f6c\u5316\u3002\u5efa\u8fb9\u65b9\u5f0f\u5982\u4e0b\uff1a\n\n\u82e5 $x\\ge a_i$\uff0c\u5efa\u8fb9 $x-a_i$\n\n\u5426\u5219\uff0c\u5efa\u8fb9 $a_i+x$\n\n\u4ee5\u8282\u70b9 $0$\uff0c\u4f5c\u4e3a\u8d77\u70b9\uff08\u8fd9\u4e2a\u4eba\u7684\u521d\u59cb\u503c\u662f $0$\uff09\uff0c\u5bf9 $0$ \u4e0e\u6240\u6709\u7684\u7ecf\u9a8c\u503c\uff08\u5373 $a_i$\uff09\u8fde\u8fb9 $a_i$\u3002\n\n\u56e0\u4e3a\u5bf9\u4e8e\u6240\u6709\u7684 $n$ \u90fd\u6709 $n\\rightarrow n+2$\uff0c\u6240\u4ee5\u8981\u5206\u4e3a\u5947\u6570\u548c\u5076\u6570\uff0c\u5bf9\u6b64\u4ece $0$ \u5f00\u59cb\u8dd1\u5947\u5076\u56fe\u6700\u77ed\u8def\u5373\u53ef\u3002",
        "postTime": 1663064844,
        "uid": 605313,
        "name": "Nullptr_qwq",
        "ccfLevel": 0,
        "title": "P7997 Sol"
    },
    {
        "content": "\u9996\u5148\u5047\u8bbe $a$ \u4e2d\u6700\u5927\u7684\u662f $A$\uff0c\u90a3\u4e48\u4f60\u8fbe\u5230\u7684\u503c\u4e00\u5b9a\u4e0d\u4f1a\u8fbe\u5230 $2\\times A$\u3002\u56e0\u4e3a\u5f53\u4f60\u8fbe\u5230 $A$ \u53ca\u4ee5\u4e0a\u65f6\uff0c\u4f60\u5c31\u5fc5\u987b\u8981\u51cf\u53bb\u4e00\u4e2a\u503c\uff0c\u65e0\u6cd5\u4e0a\u5347\u4e86\u3002\n\n\u8003\u8651\u5230\u5982\u679c\u4f60\u5728\u7b2c $i$ \u5929\u8fbe\u5230\u4e86 $x$\uff0c\u90a3\u4e48\u4f60\u5728\u7b2c $i+2$ \u5929\u4e5f\u53ef\u4ee5\u8fbe\u5230 $x$\u3002\u8bc1\u660e\u5c31\u662f\u7528\u4e24\u6b21 $A$ \u76f8\u4e92\u62b5\u6d88\u3002\u6240\u4ee5\u5bf9\u4e8e\u6bcf\u4e2a $x$\uff0c\u4f60\u8981\u7b97\u51fa\u7b2c\u4e00\u4e2a\u5947\u6570\u548c\u5076\u6570 $i$ \u6ee1\u8db3\u5728\u7b2c $i$ \u5929\u53ef\u4ee5\u5230\u8fbe $x$\u3002\n\n\u4f60\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u548c [[CSP-J2019] \u52a0\u5de5\u96f6\u4ef6](https://www.luogu.com.cn/problem/P5663) \u975e\u5e38\u76f8\u4f3c\u3002\u53ea\u8981\u628a\u56fe\u5efa\u51fa\u6765\uff0c\u8dd1\u4e00\u904d\u5947\u5076\u6700\u77ed\u8def\u5c31\u884c\u4e86\u3002\u7531\u4e8e\u8fb9\u6743\u90fd\u662f $1$\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 BFS \u505a\u5230 $O(nA)$ \u7684\u590d\u6742\u5ea6\u3002\n\n\u6700\u540e\u5bf9\u4e8e\u6bcf\u4e2a\u8be2\u95ee\uff0c\u5728\u5947\u6570\u548c\u5076\u6570\u91cc\u627e\u4e00\u4e0b lower_bound \u5c31\u597d\u4e86\u3002\n\n```cpp\n// By: Little09\n// Problem: T216142 [WFOI - 01]  \u5237\u9898 \uff08problem\uff09\n// Contest: Luogu\n// URL: https://www.luogu.com.cn/problem/T216142?contestId=58414\n// Memory Limit: 512 MB\n// Time Limit: 1000 ms\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\nconst ll inf=2000000000000000000; \nint n,T;\nconst int N=2e3+5;\nint a[N],MAX;\nll ans[N*4];\nvector<int>t[N*4];\ninline ll read()\n{\n    ll F=1,ANS=0;\n\tchar C=getchar();\n    while (C<'0'||C>'9')\n\t{\n\t\tif (C=='-') F=-1;\n\t\tC=getchar();\n\t}\n    while (C>='0'&&C<='9')\n\t{\n\t\tANS=ANS*10+C-'0';\n\t\tC=getchar();\n\t}\n    return F*ANS;\n}\nvoid add(int x,int y)\n{\n\tt[x].push_back(y);\n}\nqueue<int>q;\nbool used[N*4];\nvoid bfs()\n{\n\tfor (int i=1;i<=4*MAX;i++) ans[i]=inf;\n\tused[0]=1,ans[0]=0;\n\tq.push(0);\n\twhile (!q.empty())\n\t{\n\t\tint u=q.front();\n\t\tq.pop();\n\t\tfor (int i=0;i<t[u].size();i++)\n\t\t{\n\t\t\tint v=t[u][i];\n\t\t\tif (used[v]) continue;\n\t\t\tans[v]=ans[u]+1;\n\t\t\tq.push(v);\n\t\t\tused[v]=1;\n\t\t}\n\t}\n}\nll w[N*2],r[N*2];\nint main()\n{\n\tn=read(),T=read(),MAX=10;\n\tfor (int i=1;i<=n;i++) a[i]=read(),MAX=max(MAX,a[i]);\n\tfor (int i=0;i<2*MAX;i++)\n\t{\n\t\tfor (int j=1;j<=n;j++)\n\t\t{\n\t\t\tif (i<a[j]) add(i,i+a[j]+2*MAX),add(i+2*MAX,i+a[j]);\n\t\t\telse add(i,i-a[j]+2*MAX),add(i+2*MAX,i-a[j]);\n\t\t}\n\t}\n\tbfs();\n\tfor (int i=MAX*2-1;i>=0;i--)\n\t{\n\t\tw[i]=ans[i];\n\t\tif (i!=MAX*2-1) w[i]=min(w[i+1],w[i]);\n\t}\n\tfor (int i=MAX*4-1;i>=MAX*2;i--)\n\t{\n\t\tr[i-MAX*2]=ans[i];\n\t\tif (i!=MAX*4-1) r[i-MAX*2]=min(r[i-MAX*2+1],r[i-MAX*2]);\n\t}\n\twhile (T--)\n\t{\n\t\tll x=read();\n\t\tint u;\n\t\tif (x%2==0) u=upper_bound(w,w+MAX*2,x)-w-1;\n\t\telse u=upper_bound(r,r+MAX*2,x)-r-1;\n\t\tprintf(\"%d\\n\",u);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1640698824,
        "uid": 151475,
        "name": "Little09",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P7997 [WFOI - 01] \u5237\u9898 \uff08problem\uff09"
    },
    {
        "content": "\u8003\u8651\u5efa\u56fe\u3002\n\n\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9 $ u $ \u548c\u6570\u5b57\u91cc\u7684\u5143\u7d20 $a_i$\uff0c\u8fdb\u884c\u5982\u4e0b\u5efa\u8fb9\uff1a\n\n1. \u82e5 $ u<a_i $\uff0c\u5219\u5efa\u4e00\u6761\u7531 $ u $ \u5230 $ u+a_i $ \u7684\u6709\u5411\u8fb9\u3002\n\n1. \u82e5 $ u\\geq a_i $\uff0c\u5219\u5efa\u4e00\u6761\u7531 $ u $ \u5230 $ u-a_i $ \u7684\u6709\u5411\u8fb9\u3002\n\n\u90a3\u4e48\u82e5\u80fd\u4ece\u8282\u70b9 $ 0 $ \u7ecf\u8fc7 $ m $ \u6761\u8fb9\u5230\u8282\u70b9 $ u $\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u505a $ m $ \u9898\u8ba9\u521d\u59cb\u80fd\u529b\u5230\u8fbe $ u $\u3002\u663e\u7136\u5927\u4e8e\u7b49\u4e8e $ 2\\times \\max\\limits_{1\\le i\\le n} a_i -1$ \u7684 $ u $ \u662f\u6ca1\u7528\u7684\uff0c\u6240\u4ee5\u6700\u591a $ 4000 $ \u4e2a\u70b9\u3002\n\n\u8003\u8651\u8282\u70b9 $ 0 $ \u5230\u8282\u70b9 $ u $ \u7684\u6700\u77ed\u8def\uff0c\u8bbe\u4e3a $ d $\u3002\n\n\u5219\u5bf9\u4e8e\u4e00\u4e2a\u5927\u4e8e $ d $ \u7684\u6570 $ m $\uff0c\u4ec5\u9700\u6ee1\u8db3 $m\\equiv d \\pmod2$ \u5c31\u53ef\u4ee5\u4ece $0$ \u5230 $ u $\uff0c\u6240\u4ee5\u9884\u5904\u7406 $ 0 $ \u5230\u6bcf\u4e00\u4e2a\u8282\u70b9\u7684\u5947\u7684\u6700\u77ed\u8def\u548c\u5076\u7684\u6700\u77ed\u8def\u5373\u53ef\uff08BFS\uff09\u3002\n\n\u7136\u540e\u53ef\u4ee5\u5148\u66b4\u529b\u6c42\u597d $ m=1,2,3......4000 $ \u65f6\u7684\u7b54\u6848\u3002\n\n\u5728\u8be2\u95ee\u65f6\uff0c\u5982\u679c $ m\\le 4000 $ \u5219\u8f93\u51fa\u9884\u5904\u7406\u7684\u7b54\u6848\uff0c\u5426\u5219\u5224\u65ad\u662f\u5426\u662f\u5947\u6570\uff0c\u82e5\u662f\u5219\u8f93\u51fa $ m=3999 $ \u7684\u7b54\u6848\uff0c\u4e0d\u662f\u5219\u8f93\u51fa $ m=4000 $ \u7684\u7b54\u6848\u3002\n\n\u53ef\u4f18\u5316\u81f3 $ \\operatorname{O}(\\max \\ a_i+4000+T) $\uff0c\u6211\u7684\u4ee3\u7801\u662f $\\operatorname{O}(4000\\times \\max \\ a_i+T) $\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstatic char buf[1000000],*pa=buf,*pd=buf;\nstatic char buf2[1000000],*pp=buf2;\n#define getchar() pa==pd&&(pd=(pa=buf)+fread(buf,1,1000000,stdin),pa==pd)?EOF:*pa++\ninline void pc(char ch){\n\tif(pp-buf2==1000000) fwrite(buf2,1,1000000,stdout),pp=buf2;\n\t*pp++=ch;\n}\nvoid pcc(){\n\tfwrite(buf2,1,pp-buf2,stdout);\n\tpp=buf2;\n}\ninline long long read(){\n\tlong long x=0;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9') ch=getchar();\n\twhile(ch>='0'&&ch<='9'){\n\t\tx=(x<<3)+(x<<1)+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn x;\n}\ninline void write(int x){\n\tstatic int sta[20];\n\tint top=0;\n\tif(x<0) pc('-'),x=-x;\n\tdo{\n\t\tsta[top++]=x%10,x/=10;\n\t}while(x);\n\twhile(top) pc(sta[--top]+48);\n}\ninline int mn(int x,int y){\n\treturn x<y?x:y;\n}\ninline int mx(int x,int y){\n\treturn x>y?x:y;\n}\ninline void asdf(int &x,int &y){\n\tx^=y^=x^=y;\n}\nint t,n,a[20010],mxx,step[40010][2],mxxx[10010];\nbool vis[40010][2];\nlong long m;\nvector<int>g[40010];\nstruct node{\n\tint x;\n\tbool fl;\n};\nint main(){\n\tn=read();\n\tt=read();\n\tfor(int i=1;i<=n;i++) a[i]=read(),mxx=mx(mxx,a[i]);\n\tfor(int i=0;i<=(mxx<<1)-1;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tg[i].push_back(i<a[j]?i+a[j]:i-a[j]);\n\t\t}\n\t}\n\tqueue<node>q;\n\tq.push((node){0,0});\n\tvis[0][0]=1;\n\tmemset(step,0x3f3f3f3f,sizeof(step));\n\tstep[0][0]=0;\n\twhile(!q.empty()){\n\t\tnode u=q.front();\n\t\tq.pop();\n\t\tbool tmp=step[u.x][u.fl]&1;\n\t\tfor(int i=0;i<g[u.x].size();i++){\n\t\t\tif(!vis[g[u.x][i]][tmp^1]){\n\t\t\t\tvis[g[u.x][i]][tmp^1]=1;\n\t\t\t\tstep[g[u.x][i]][tmp^1]=step[u.x][u.fl]+1;\n\t\t\t\tq.push((node){g[u.x][i],tmp^1});\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=4000;i>=0;i--){\n\t\tint fl=i&1;\n\t\tfor(int j=(mxx<<1)-1;j>=0;j--){\n\t\t\tif(step[j][fl]<=i){\n\t\t\t\tmxxx[i]=j;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\twhile(t--){\n\t\tm=read();\n\t\tif(m<=4000) write(mxxx[m]);\n\t\telse{\n\t\t\tif(m&1) write(mxxx[3999]);\n\t\t\telse write(mxxx[4000]);\n\t\t}\n\t\tpc('\\n');\n\t}\n\tpcc();\n\treturn 0;\n}\n\n```\n",
        "postTime": 1640693464,
        "uid": 289230,
        "name": "ricky0916",
        "ccfLevel": 7,
        "title": "P7997 \u9898\u89e3"
    }
]