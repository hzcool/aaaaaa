[
    {
        "content": "\u4e00\u9053\u70e6\u4eba\u3001\u70e6\u4eba\u3001\u9664\u6b64\u4e4b\u5916\u6ca1\u4e86\u7684\u9898\u3002\n\n------------\n\n\u9996\u5148\u4e00\u4e2a\u89c2\u5bdf\u662f\uff0c\u7ecf\u8fc7\u4e00\u6b65\uff0c\u539f\u672c\u56fe\u6837\u7684\u8fb9\u754c\u5fc5\u7136\u4f1a\u5411\u56db\u4e2a\u65b9\u5411\u5404\u6269\u5f20\u4e00\u683c\u3002\u5c31\u7b97\u6709 `bug` \u5b58\u5728\uff0c\u56db\u4e2a\u65b9\u5411\u4e0a\u6bcf\u8fb9\u90fd\u81f3\u5c11\u6709\u4e24\u4e2a\u683c\u5b50\uff0c\u4ecd\u7136\u4f1a\u4fdd\u8bc1\u8fb9\u754c\u6269\u5f20\u3002\n\n\u8fdb\u800c\uff0c\u56de\u6eaf\u4e00\u6b65\uff0c\u56fe\u6837\u7684\u8fb9\u754c\u5fc5\u7136\u4f1a\u56db\u4e2a\u65b9\u5411\u5404\u6536\u7f29\u4e00\u683c\u3002\n\n\u9996\u5148\u5ffd\u7565 `bug` \u7684\u5b58\u5728\u3002\u6b64\u65f6\uff0c\u6211\u4eec\u5c1d\u8bd5\u4ece\u540e\u7ee7\u6001\u63a8\u56de\u521d\u6001\u3002\u624b\u52a8\u63a8\u63a8\u5373\u53ef\u5f97\u5230 $g_{i,j}=\\bigotimes\\limits_{u=0}^2\\bigotimes\\limits_{v=0}^2g_{i-u,j-v}$ \u7684 DP \u5f0f\uff0c\u5176\u4e2d $g_{i,j}$ \u521d\u59cb\u5373\u4e3a\u540e\u7ee7\u6001\u7684\u503c\uff0c\u4e0d\u5728\u8303\u56f4\u5185\u7684\u6001\u89c6\u4f5c $0$\u3002\u8fd9\u6837\u4e4b\u540e\uff0c\u77e9\u9635\u5de6\u4e0a\u89d2 $(n-2)\\times(m-2)$ \u7684\u77e9\u9635\u5373\u4e3a\u521d\u6001\u3002\n\n\u5047\u5982\u6ca1\u6709 `bug`\uff0c\u5219\u77e9\u9635\u7684\u6700\u53f3\u4e24\u5217\u548c\u6700\u4e0b\u4e24\u884c\u5e94\u8be5\u5168\u4e3a $0$\u3002\u4f46\u662f\u56e0\u4e3a `bug`\uff0c\u6700\u53f3\u4e24\u5217\u548c\u6700\u4e0b\u4e24\u884c\u4e2d\u53ef\u80fd\u4f1a\u51fa\u73b0 `1`\u3002\n\n\u4f46\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u8fd9\u4e9b `1` \u7684\u5206\u5e03\u53cd\u63a8\u51fa\u51fa `bug` \u7684\u4f4d\u7f6e\u3002\u5177\u4f53\u800c\u8a00\uff0c\u67d0\u4e2a\u4f4d\u7f6e\u5982\u679c\u51fa `bug`\uff0c\u5176\u5f71\u54cd\u5230\u7684\u662f\u4ee5\u4e4b\u4e3a\u5de6\u4e0a\u89d2\u7684\u5f62\u5982\n\n```\n1101101101..\n1101101101..\n0000000000..\n1101101101..\n1101101101..\n0000000000..\n1101101101..\n..........\n```\n\n\u7684\u90e8\u5206\u3002\u6839\u636e\u6700\u53f3\u4e24\u5217\u548c\u6700\u4e0b\u4e24\u884c\u4e2d\u7684 `1`\uff0c\u6211\u4eec\u53ef\u4ee5\u552f\u4e00\u786e\u5b9a\u8be5\u4f4d\u7f6e\uff0c\u6216\u8005\u5224\u5b9a\u5176\u4e0d\u5408\u6cd5\u3002\u786e\u5b9a\u51fa\u9505\u7684\u4f4d\u7f6e\u540e\uff0c\u53ea\u9700\u64a4\u56de\u5176\u5f71\u54cd\u5373\u53ef\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u4fbf\u5b9e\u73b0\u4e86\u53cd\u63a8\u3002\n\n\u4e0d\u65ad\u53cd\u63a8\uff0c\u76f4\u5230\u5224\u5b9a\u65e0\u6cd5\u53cd\u63a8\uff0c\u6216\u8005\u5269\u4f59\u90e8\u5206\u7684\u957f\u6216\u5bbd\u5df2\u7ecf\u4e0d\u5927\u4e8e $2$\uff0c\u65e0\u6cd5\u53cd\u63a8\u4e86\u3002\u8fd9\u6837\u628a\u56db\u8fb9\u538b\u7f29\u538b\u7f29\u5c31\u53ef\u4ee5\u8f93\u51fa\u4e86\u3002\n\n\u590d\u6742\u5ea6 $\\min(n,m)nm$\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m;\nchar s[310][310];\nbool f[310][310],g[310][310];\nint main(){\n\tscanf(\"%d%d\",&m,&n);\n\tfor(int i=0;i<n;i++)scanf(\"%s\",s[i]);\n\tfor(int i=0;i<n;i++)for(int j=0;j<m;j++)f[i][j]=(s[i][j]=='#');\n\twhile(n>=3&&m>=3){\n\t\tfor(int i=0;i<n;i++)for(int j=0;j<m;j++){\n\t\t\tg[i][j]=0;\n\t\t\tfor(int p=0;p<3;p++)for(int q=0;q<3;q++)if(i>=p&&j>=q)g[i][j]^=g[i-p][j-q];\n\t\t\tg[i][j]^=f[i][j];\n\t\t}\n//\t\tfor(int i=0;i<n;i++,puts(\"\"))for(int j=0;j<m;j++)printf(\"%d\",f[i][j]);puts(\"\");\n//\t\tfor(int i=0;i<n;i++,puts(\"\"))for(int j=0;j<m;j++)printf(\"%d\",g[i][j]);puts(\"\");\n\t\tbool fd=false;\n\t\tfor(int i=0;i<3;i++)for(int j=0;j<3;j++){\n\t\t\tbool ok=true;\n\t\t\tint x,y;\n//\t\t\tprintf(\"QWQ:%d,%d\\n\",i,j);\n\t\t\tfor(int p=n+1-i,sta=true;ok;p-=3){\n//\t\t\t\tprintf(\"%d,%d\\n\",p,sta);\n\t\t\t\tif(p<0&&sta)sta=false,x=p+3;\n\t\t\t\tif(sta)for(int u=0;u<3;u++)for(int v=0;v<2;v++)\n\t\t\t\t\tif(p+u>=0&&p+u<n&&g[p+u][m-2+v]!=(u!=2&&(j+v)%3!=2))sta=false,x=p+3;\n\t\t\t\tif(!sta)for(int u=0;u<3;u++)for(int v=0;v<2;v++)\n\t\t\t\t\tif(p+u>=0&&p+u<n&&g[p+u][m-2+v])ok=false;\n\t\t\t\tif(p<0)break;\n\t\t\t}\n\t\t\tif(!ok)continue;\n\t\t\tfor(int q=m+1-j,sta=true;ok;q-=3){\n//\t\t\t\tprintf(\"%d,%d\\n\",q,sta);\n\t\t\t\tif(q<0&&sta)sta=false,y=q+3;\n\t\t\t\tif(sta)for(int u=0;u<2;u++)for(int v=0;v<3;v++)\n\t\t\t\t\tif(q+v>=0&&q+v<m&&g[n-2+u][q+v]!=((i+u)%3!=2&&v!=2))sta=false,y=q+3;\n\t\t\t\tif(!sta)for(int u=0;u<2;u++)for(int v=0;v<3;v++)\n\t\t\t\t\tif(q+v>=0&&q+v<m&&g[n-2+u][q+v])ok=false;\n\t\t\t\tif(q<0)break;\n\t\t\t}\n\t\t\tif(!ok)continue;\n//\t\t\tprintf(\"QQQ:%d,%d\\n\",x,y);\n\t\t\tfor(int p=x;p<n;p++)for(int q=y;q<m;q++)if((p-x)%3!=2&&(q-y)%3!=2)g[p][q]^=1;\n\t\t\tfd=true;break;\n\t\t}\n\t\tif(!fd)break;\n\t\tn-=2,m-=2;\n\t\tfor(int i=0;i<n;i++)for(int j=0;j<m;j++)f[i][j]=g[i][j];\n\t}\n\tint L=0,R=n-1,U=m-1,D=0;\n\twhile(L<R){bool ok=true;for(int t=D;t<=U;t++)if(f[L][t]){ok=false;break;}if(!ok)break;L++;}\n\twhile(L<R){bool ok=true;for(int t=D;t<=U;t++)if(f[R][t]){ok=false;break;}if(!ok)break;R--;}\n\twhile(D<U){bool ok=true;for(int t=L;t<=R;t++)if(f[t][D]){ok=false;break;}if(!ok)break;D++;}\n\twhile(D<U){bool ok=true;for(int t=L;t<=R;t++)if(f[t][U]){ok=false;break;}if(!ok)break;U--;}\n\tif(L==R&&U==D){puts(\"#\");return 0;}\n\tfor(int i=L;i<=R;i++,putchar('\\n'))for(int j=D;j<=U;j++)putchar(f[i][j]?'#':'.');\n\treturn 0;\n}\n```\n\n",
        "postTime": 1641458083,
        "uid": 123369,
        "name": "xtx1092515503",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6935 \u3010[ICPC2017 WF]Replicate Replicate Rfplicbte\u3011"
    }
]