[
    {
        "content": "**update on 2020.6.26**\uff1a\u4fee\u6539\u4e86\u6587\u7ae0\u4e2d\u7684\u4e00\u4e9b\u9519\u8bef\uff0c\u5e0c\u671b\u7ba1\u7406\u5458\u91cd\u65b0\u5ba1\u6838\u540e\u901a\u8fc7\n\n-------------\n\n\u8fd9\u9053\u9898\u662f\u4e00\u9053\u80cc\u5305\u9898\uff0c\u4f46\u6709\u4e9b\u9898\u89e3\u7684\u89e3\u91ca\u4e0d\u662f\u975e\u5e38\u8be6\u7ec6\uff0c\u6240\u4ee5\u6211\u5199\u4e86\u4e00\u7bc7\u9898\u89e3\u6765\u5e2e\u52a9\u50cf\u6211\u4e00\u6837\u7684\u849f\u84bb\n\n\u601d\u8def\uff1a$dp[i][j]$\u4ee3\u8868 $i$\u7528$j$\u4e2a\u5e73\u65b9\u6570\u6240\u53ef\u4ee5\u7ec4\u6210\u7684\u65b9\u6848\u6570\uff0c\u8fd9\u6837\u5bf9\u4e8e\u4e00\u4e2a$n$\uff0c\u53ea\u8981\u8f93\u51fa $dp[n][1-4]$\u7684\u548c\u5c31\u884c\u4e86\u3002\n\n\u90a3\u4e48\u600e\u4e48\u8ba1\u7b97\u5462\uff1f\u56e0\u4e3a\u6bcf\u4e2a\u6570\u53ef\u4ee5\u7528\u65e0\u6570\u6b21\uff0c\u6240\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u5b8c\u5168\u80cc\u5305\u7684\u65b9\u6cd5\uff08\u5982\u679c\u4f60\u4e0d\u77e5\u9053\u4ec0\u4e48\u662f\u5b8c\u5168\u80cc\u5305\uff0c\u8bf7\u770b[\u8fd9\u9053\u9898](https://www.luogu.org/problemnew/show/P1616)\uff09\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u6570$n$\u90fd\u53ef\u4ee5\u7531$n$\u51cf\u53bb\u4e00\u4e2a\u5e73\u65b9\u6570\u53ef\u5f97\uff0c\u5219\u53ef\u4ee5\u63a8\u51fa$dp[i][j]+=dp[i-k*k][j-1]$\n\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u5199\u51fa\u4ee3\u7801\u4e86\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int M=32768; \nint t,n;\nint dp[33000][5]={1};//\u6ce8\u610f\uff0cdp[0][0]\u8981\u8bbe\u4e3a1\uff0c\u5426\u5219\u4f1a\u5168\u8f93\u51fa0 \n\nint main()\n{\n\tfor (int i=1;i*i<=M;i++)//\u679a\u4e3e\u6240\u6709\u5e73\u65b9\u6570 \n\t\tfor (int j=i*i;j<=M;j++)//\u56e0\u4e3aj-i*i\u8981>=0(\u5426\u5219\u4f1aRE)\uff0c\u6240\u4ee5\u76f4\u63a5\u4ecei*i\u5f00\u59cb \n\t\t\tfor (int sum=1;sum<=4;sum++)//\u679a\u4e3e\u4f7f\u7528\u6b21\u6570 \n\t\t\t\tdp[j][sum]+=dp[j-i*i][sum-1];//\u8ba1\u7b97 \n\tcin>>t;\n\twhile(t--)//\u5faa\u73aft\u6b21 \n\t{\n\t\tint n,ans=0;\n\t\tcin>>n;\n\t\tfor (int i=1;i<=4;i++)\n\t\t\tans+=dp[n][i];\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1554269220,
        "uid": 141179,
        "name": "pigstd",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1586 \u3010\u56db\u65b9\u5b9a\u7406\u3011"
    },
    {
        "content": "\u5c31\u662f\u4e00\u4e2a\u80cc\u5305\uff0c\u628a\u6bcf\u4e2a\u5e73\u65b9\u6570\u770b\u6210\u4e00\u4e2a\u7269\u54c1\uff0c\n\n\u6c42\u65b9\u6848\u6570\u3002\n\n\u56e0\u4e3a\u5bf9\u7528\u7684\u6570\u7684\u4e2a\u6570\u6709\u8981\u6c42\uff0c\n\n\u6240\u4ee5\u662f\u4e8c\u7ef4\u8d39\u7528\u80cc\u5305\n\n\u8981\u6ce8\u610f\u7684\u662f\u6bcf\u4e2a\u6570\u662f\u4e0d\u9650\u4e2a\u6570\u7684\uff0c\n\n\u6240\u4ee5\u5faa\u73af\u7684\u65f6\u5019\u8981\u6b63\u7740\u6765\u3002\n\n\u4e0a\u4ee3\u7801\n\n    \n```cpp\n#include<cstdio>\n#include<iostream>\nusing namespace std;\nint f[32770][5];\nint main()\n{\n    int i,j,l,n=32768,t,ans;\n    f[0][0]=1;\n    for(i=1;i*i<=n;i++)\n        for(j=i*i;j<=n;j++)\n            for(l=1;l<=4;l++)\n                f[j][l]+=f[j-i*i][l-1];\n    scanf(\"%d\",&t);\n    while(t--)\n    {\n        ans=0;\n        scanf(\"%d\",&n);\n        for(i=1;i<=4;i++)\n            ans+=f[n][i];\n        printf(\"%d\\n\",ans);\n    }\n    return 0;\n}\n\n```",
        "postTime": 1507372738,
        "uid": 52527,
        "name": "dj114133643",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1586 \u3010\u56db\u65b9\u5b9a\u7406\u3011"
    },
    {
        "content": "<hr>\n\u65b9\u6cd51\uff1a\u76f4\u63a5\u679a\u4e3e\uff0c\u7528\u56db\u91cd\u5faa\u73af\u679a\u4e3e\u6bcf\u4e2a\u503c\u5373\u53ef\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e0d\u597d\u4f30\u8ba1\u3002\n\n\n<hr>\n\u65b9\u6cd52\uff1a\u5148\u9884\u5904\u7406\uff0c\u7528f[i][j]\u8868\u793ai\u7528j\u4e2a\u5b8c\u5168\u5e73\u65b9\u6570\u76f8\u52a0\u5f97\u5230\u7684\u65b9\u6848\u6570\u3002\n\nf[i][j]=\u03a3f[i-k\\*k][j-1](k\\*k<=i)\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u6570n\uff0c\u8f93\u51faf[n][1]+f[n][2]+f[n][3]+f[n][4]\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6O(32768\\*181\\*4)\n\n\n<hr>",
        "postTime": 1380683123,
        "uid": 203,
        "name": "JOHNKRAM",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P1586 \u3010\u56db\u65b9\u5b9a\u7406\u3011"
    },
    {
        "content": "\u66f4\u65b0\u65e5\u5fd7\uff1a\n\n2020/6/10 \u4fee\u9519\u8bef\u3002\u3002\n\n\n\u770b\u5230\u4e00\u7bc7\u7bc7dp\u9898\u89e3\uff0c\u849f\u84bb\u4e0d\u7981\u543c\u51fa\u4e00\u53e5\uff1a\u540c\u5fd7\u4eec\uff0c\u4f60\u4eec\u8033\u719f\u80fd\u8be6\u7684\u201c\u66b4\u529b\u51fa\u5947\u8ff9\uff0c\u9a97\u5206\u8fc7\u6837\u4f8b\u201d\u54ea\u53bb\u4e86\uff1f\n\n\u662f\u7684\uff0c\u8fd9\u9898\u7684\u786e\u53ef\u4ee5\u7528\u66b4\u529b\u505a\uff0c\u800c\u4e14\u4ee3\u7801\u65e0\u6bd4\u58ee\u89c2\u3002\n\n\u601d\u8def\uff1a\n\u56db\u91cd\u5faa\u73af\u679a\u4e3e\u56db\u4e2a\u6570\uff0c\u7136\u540e\u5224\u65ad$i^2+j^2+k^2+q^2$ \u4e0e$n$ \u662f\u5426\u76f8\u7b49\u5373\u53ef\u3002\u4e3a\u4e86\u907f\u514d\u6570\u5b57\u91cd\u590d\uff0c\u5f53\u524d\u91cd\u5faa\u73af\u7684\u53d8\u91cf\u6700\u5c0f\u503c\u5e94\u4e3a\u4e0a\u4e00\u91cd\u7684\u6700\u5927\u503c\uff0c\u6211\u4e00\u5f00\u59cb\u52a0\u4e86\u4e00\uff0c\u7ed3\u679c\u6837\u4f8b\u90fd\u6ca1\u8fc7\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint t,n;\nlong long ans;\ninline int read() {\n\tchar ch=getchar();\n\tint x(0),f(1);\n\twhile(ch<'0'||ch>'9') {if(ch=='-') f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9') {x=(x<<3)+(x<<1)+(ch^48);ch=getchar();}\n\treturn x*f;\n}\nint main() {\n\tt=read();\n\twhile(t--) {\n\t\tn=read();\n\t\tans=0;//\u522b\u5fd8\u521d\u59cb\u5316\n\t\tfor(register int i(0);i*i<=n;++i)\n\t\t\tfor(register int j=i;i*i+j*j<=n;++j)\n\t\t\t\tfor(register int k=j;i*i+j*j+k*k<=n;++k)\n\t\t\t\t\tfor(register int q=k;i*i+j*j+k*k+q*q<=n;++q) {//\u66b4\u529b\u679a\u4e3e\n\t\t\t\t\t\tif((i*i+j*j+k*k+q*q)==n) ++ans;//\u5224\u65ad\u5f53\u524d\u65b9\u6848\u662f\u5426\u53ef\u884c\n\t\t\t\t\t}\n\t\tprintf(\"%lld\\n\",ans);//\u8f93\u51fa\u7ed3\u679c\n\t}\n\treturn 0;\n}\n```\n\n~~\u53e6\uff1a\u5361\u5e38\u6c38\u8fdc\u662f\u6211\u4eec\u7684\u597d\u4f19\u4f34\uff08\u9003~~",
        "postTime": 1584521282,
        "uid": 186034,
        "name": "Callous_Murder",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1586 \u3010\u56db\u65b9\u5b9a\u7406\u3011"
    },
    {
        "content": "\u5b9e\u9645\u4e0a\u8fd9\u5c31\u662f\u4e00\u4e2a\u4e8c\u7ef4\u8d39\u7528\u7684\u80cc\u5305\u95ee\u9898\u3002\u4e00\u4e2a\u8d39\u7528\u4e3a\u6570\u7684\u5927\u5c0f\uff0c\u53e6\u4e00\u4e2a\u8d39\u7528\u4e3a1\uff0c\u4e14\u8fd9\u4e00\u4e2a\u8d39\u7528\u6700\u5927\u4e3a$4$\u3002\n\n\n\n\u5b9a\u4e49$f[j][k]$\u8868\u793a\u6570\u5b57$j$\u5206\u89e3\u4e3a$k$\u4e2a\u5e73\u65b9\u6570\u7684\u65b9\u6848\u6570\uff0c\u6613\u5f97\n$$\nf[j][k]=f[j][k]+f[j-i*i][k-1]\n$$\n\u4e14\u4e0d\u96be\u53d1\u73b0\uff0c\u8fd9\u4e2a\u9002\u7528\u4e8e\u6240\u6709\u7684\u6570\uff0c\u56e0\u6b64\u4e0d\u5fc5\u6c42$t$\u6b21\uff0c\u76f4\u63a5\u6c42\u51fa\u5230$n_{max}$\uff08\u5373\u4e3a$32768$\uff09\u7684\u6240\u6709$f$\u6570\u7ec4\u7684\u503c\uff0c\u7136\u540e\u9488\u5bf9\u6bcf\u4e2a$n$\uff0c\u8f93\u51fa$f[n][1]+f[n][2]+f[n][3]+f[n][4]$\u5373\u53ef\u3002\n\n\n\n## \u4ee3\u7801\n\n```c++\n#include<bits/stdc++.h>\n\nusing namespace std;\n\nint t,dp[40010][5];\n\nint main() {\n\tcin>>t;\t\n\t\n\tdp[0][0]=1;\n\tfor(int i=1;i<=sqrt(32768);i++) {\n\t\tfor(int j=i*i;j<=32768;j++) {\n\t\t\tfor(int k=1;k<=4;k++) {\n\t\t\t\tdp[j][k]+=dp[j-i*i][k-1];\n\t\t\t}\n\t\t}\n\t}\n\t\n\twhile(t) {\n\t\tint n;\n\t\tcin>>n;\n\t\tcout<<dp[n][1]+dp[n][2]+dp[n][3]+dp[n][4]<<endl;\n\t\tt--;\n\t}\n\t\n\treturn 0;\n}\n```\n\n",
        "postTime": 1574437603,
        "uid": 71936,
        "name": "HoshiuZ",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1586 \u3010\u56db\u65b9\u5b9a\u7406\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u7684\u505a\u6cd5\u6709\u5f88\u591a\uff0c\u800c\u6211\u8981\u7ed9\u5927\u5bb6\u4ecb\u7ecd\u5176\u4e2d\u7684\u4e24\u79cd\u505a\u6cd5\uff1a**\u66b4\u529b\u679a\u4e3e**\uff0c**\u80cc\u5305**\n\n- \u66b4\u529b\u679a\u4e3e\u6cd5\n\n\u6545\u540d\u601d\u8bae\uff0c\u6211\u4eec\u6309\u7167\u9898\u610f\u6a21\u62df\u5373\u53ef\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528~~5\u5c42\u5faa\u73af\u5d4c\u5957~~\uff0c\u7b2c\u4e00\u5c42\u662f1->t\uff0c\u679a\u4e3e\u6570\u636e\u7ec4\u6570\uff0c\u7b2c\u4e8c\u5c42\u5230\u7b2c\u4e94\u5c42\u5219\u5206\u522b\u679a\u4e3e4\u4e2a\u6570\uff0c\u7531\u4e8e\u6570\u636e\u5206\u89e3\u4e3a\u4e0d\u8d85\u8fc7\u56db\u4e2a\u6574\u6570\uff0c\u6240\u4ee5**\u5faa\u73af\u8981\u4ece\u96f6\u5f00\u59cb**\uff0c\u4e3a\u4e86\u9632\u6b62\u91cd\u590d\uff0c**\u4e0b\u4e00\u5c42\u5faa\u73af\u7684\u8d77\u59cb\u4f4d\u7f6e\u5e94\u4e3a\u4e0a\u4e00\u5c42\u5faa\u73af\u7684\u4f4d\u7f6e**\uff0c\u590d\u6742\u5ea6\u4e3a$O(t*n^4)$\n\n\u4e0b\u9762\u4e0a\u4ee3\u7801(\u9650\u4e8e\u7bc7\u5e45\uff0c\u5feb\u8bfb\u7701\u7565)\uff1a\n```cpp\n#pragma GCC optimize(3)\n#include<bits/stdc++.h>\n#define fint register int\nusing namespace std;\ninline int read();\nsigned main()\n{\n\tint t,ans,n;\n\tt=read();\n\tfor(fint T=1;T<=t;T++)\n\t{\n\tn=read();\n\tans=0;\n\tfor(fint i=0;i*i<=n;i++)\n\tfor(fint j=i;j*j+i*i<=n;j++)\n\tfor(fint k=j;k*k+j*j+i*i<=n;k++)\n\tfor(fint l=k;k*k+j*j+i*i+l*l<=n;l++)\n\tif(i*i+j*j+k*k+l*l==n)\n\tans++;\n\tprintf(\"%d\\n\",ans);\n\t}\n\treturn 0;\n} \n```\n\u8fd9\u79cd\u65b9\u6cd5\u7531\u4e8e\u65f6\u95f4\u590d\u6742\u5ea6\u592a\u9ad8\uff0c\u9700\u8981\u4f7f\u7528O3\u4f18\u5316\uff0c\u4e0d\u8fc7~~\u8003\u573a\u9a97\u5206~~\u6548\u679c\u6760\u6760\u7684\uff01\n\n- \u4e8c\u7ef4\u8d39\u7528\u7684\u5b8c\u5168\u80cc\u5305\u95ee\u9898\n\n\u6211\u4eec\u77e5\u9053\uff0c\u5b8c\u5168\u80cc\u5305\u662f\u4e00\u4ef6\u7269\u54c1\u53ef\u53d6\u65e0\u9650\u6b21\u7684\u80cc\u5305\u95ee\u9898\uff0c\u5176\u57fa\u672c\u4ee3\u7801\u5f62\u5f0f\u5982\u4e0b\uff1a\n```cpp\n//n\u4e3a\u7269\u54c1\u6570\uff0cm\u4e3a\u5bb9\u91cf\uff0cv[]\u4e3a\u4ef7\u503c\uff0cw[]\u4e3a\u7269\u54c1\u91cd\u91cf\nfor(int i=1;i<=n;i++)\nfor(int j=w[i];j<=m;j++)\nf[j]=max(f[j],f[j-w[i]]+v[i]);\n```\n\u5176\u8ddf01\u80cc\u5305\u6700\u5927\u7684\u533a\u522b\u5c31\u662f**\u7b2c\u4e8c\u7ef4\u8981\u6b63\u5411\u5faa\u73af**\uff0c\u4ee5\u6ee1\u8db3\u7269\u54c1\u53d6\u7528\u8981\u6c42\u3002\n\n\u800c\u4e8c\u7ef4\u8d39\u7528\u80cc\u5305\u95ee\u9898\u4ec5\u9700\u8981\u589e\u52a0\u4e00\u5c42\u5faa\u73af\uff0c\u53ef\u4ee5\u8fd1\u4f3c\u7684\u8ba4\u4e3a\u662f\u7b2c\u4e8c\u5c42\u5faa\u73af\u8dd1\u4e24\u904d\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n//n\u4e3a\u7269\u54c1\u6570\uff0cm\u4e3a\u5bb9\u91cf\uff0cv[]\u4e3a\u4ef7\u503c\uff0cw[].a\u4e3a\u7269\u54c1a\u91cd\u91cf,w[].b\u4e3a\u7269\u54c1b\u91cd\u91cf\nfor(int i=1;i<=n;i++)\nfor(int j=w[i].a;j<=m;j++)\nfor(int j=w[i].b;j<=m;j++)\nf[j][k]=max(f[j][k],f[j-w[i].a][k-w[i].b]+v[i]);\n```\n\u56de\u5230\u8fd9\u9053\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u77e518*18=33124\u5373\u5927\u4e8e32768\u7684\u6700\u5c0f\u5e73\u65b9\u6570\uff0c**\u90a3\u4e4818\u5c31\u662f\u7269\u54c1\u4ef6\u6570**\uff0c\u5373\u9009\u7528\u7684\u7269\u54c1\u4e0d\u53ef\u80fd\u8d85\u8fc718\uff1b**\u7269\u54c1\u7684\u7b2c\u4e00\u7ef4\u8d39\u7528\u4fbf\u662f\u7269\u54c1\u6570\u91cf\u7684\u5e73\u65b9**\uff0c\u80cc\u5305\u5bb9\u91cf\u4fbf\u662f32768\uff0c**\u7b2c\u4e8c\u7ef4\u8d39\u7528\u4fbf\u662f\u9898\u76ee\u4e2d\u4e0d\u8d85\u8fc7\u56db\u4e2a\u6574\u6570**\uff0c\u80cc\u5305\u5bb9\u91cf\u4e3a4\uff1b\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5199\u51fa\u8f6c\u79fb\u65b9\u7a0b\n```cpp\nfor(fint i=1;i<=182;i++)\nfor(fint j=i*i;j<=32768;j++)\nfor(fint k=1;k<=4;k++)\nf[j][k]+=f[j-i*i][k-1];\n```\n\u90a3\u4e48f[j][k]\u4fbf\u662f\u9009\u7528k\u4ef6\u7269\u54c1\u5e73\u65b9\u548c\u4e3an\u7684\u79cd\u6570\uff0c\u7a0d\u52a0\u5904\u7406\uff0c\u5373\u5f97\u7b54\u6848\u3002\n```cpp\nfor(fint i=1;i<=t;i++)\nn=read(),get_tot(n);\n\ninline void get_tot(int x)\n{\n\tint ans=f[x][1]+f[x][2]+f[x][3]+f[x][4];\n\tprintf(\"%d\\n\",ans);\n\treturn ;\n}\n```\n\u5b8c\u6574\u4ee3\u7801\u5c31\u4e0d\u4e0a\u4e86\u3002\n\n\u90a3\u4e48\u8fd9\u9053\u9898\u5c31\u7ed3\u675f\u4e86\uff0c\u6211\u4e3a\u5927\u5bb6\u8be6\u7ec6\u7684\u68b3\u7406\u4e86**\u8003\u573a\u66b4\u529b\u9a97\u5206**/**\u5b8c\u5168\u80cc\u5305**/**\u4e8c\u7ef4\u8d39\u7528\u80cc\u5305**\u7684\u77e5\u8bc6\u53ca\u5176\u53d8\u5f62\uff0c\u7801\u4e86\u534a\u5929\uff0c\u5e0c\u671b\u5927\u5bb6\u559c\u6b22\uff01",
        "postTime": 1584973741,
        "uid": 244059,
        "name": "king_xbz",
        "ccfLevel": 0,
        "title": "P1586\u2014\u2014\u56db\u65b9\u5b9a\u7406\u7684\u4e24\u79cd\u89e3\u6cd5"
    },
    {
        "content": "### \u8fd9\u9053\u9898\u662f\u7ecf\u5178\u768401\u80cc\u5305\n\n### \u5148\u6784\u9020a[i]\uff0c\u5c31\u662f\u5e73\u65b9\u6570\uff0c\u8fd9\u662f\u7269\u54c1\u5927\u5c0f\uff0cn\u5c31\u662f\u80cc\u5305\u5927\u5c0f\uff0c\u8bbef[i]\u8868\u793a\u80cc\u5305\u5927\u5c0f\u4e3ai\u80fd\u88c5\u6ee1\u7684\u65b9\u6848\n\n### \u6838\u5fc3\u5982\u4e0b\uff1a\n```cpp\nfor (int i=1;i<=\u7269\u54c1\u603b\u6570;i++)\n       for (int j=a[i];j<=\u80cc\u5305\u6700\u9ad8\u4ef7\u503c;j++)\n          f[j]+=f[j-a[i]];\n```\n### f[][]\u7684\u7b2c\u4e8c\u7ef4\u5c31\u662f\u5e73\u65b9\u6570\u7684\u4e2a\u6570\uff0c\u5728\u89e3\u51b3\u4e86\u65b9\u6848\u603b\u6570\u600e\u4e48\u6c42\u4e4b\u540e\uff0c\u5c31\u8981\u8003\u8651\u53ea\u80fd\u7528\u56db\u4e2a\u6216\u56db\u4e2a\u4ee5\u4e0b\u3002\u6240\u4ee5\u8981\u52a0\u4e00\u7ef4\u3002\n\n### \u603b\u7ed3\u4e3af[j][k]\u4ee3\u8868\u4ef7\u503c\u4e0a\u7ebf\u4e3aj\uff0c\u53d6k\u4e2a\u6570\u4f5c\u7ec4\u5408\u65f6\u7684\u65b9\u6848\u603b\u6570\u3002\u5219\u6700\u540e\u7b54\u6848\u4e3af[n][1]\u5230f[n][4]\u7684\u548c\u3002\n\n### \u4ee3\u7801\u975e\u5e38\u7b80\u5355\uff0c\u76f8\u4fe1\u5927\u5bb6\u80fd\u770b\u61c2\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint a[185],f[32770][5],m,n;\nint main()\n{   for(int i=1;i<=181;i++)\n    a[i]=i*i;             \n    f[0][0]=1; \n    for (int i=1;i<=181;i++)\n       for (int j=a[i];j<=32768;j++)\n          for(int k=1;k<=4;k++)\n          f[j][k]+=f[j-a[i]][k-1];\n    cin>>n;\n    for(int i=1;i<=n;i++)\n    {\n        cin>>m;\n        cout<<f[m][1]+f[m][2]+f[m][3]+f[m][4]<<endl;\n    }\n    return 0;\n}\n```\n",
        "postTime": 1554714899,
        "uid": 128822,
        "name": "OI\u754c\u7684\u5c0f\u6df7\u6df7",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1586 \u3010\u56db\u65b9\u5b9a\u7406\u3011"
    },
    {
        "content": "##\u56e0\u4e3a$\\sqrt{32768}$=181\uff0c\u6240\u4ee5\u53ea\u8981\u679a\u4e3e181\u4ee5\u5185\u7684\u5e73\u65b9\uff0c\u5c06\u5e73\u65b9\u6253\u6210\u8868\uff0c\u518d\u52a04\u4e2a\u526a\u679d\uff0c\u8dd1\u7684\u975e\u5e38\u5feb(\u81f3\u5c11\u4e0d\u8d85\u65f6)\u3002\n\n\u697c\u4e0b\u9898\u89e3\u6ca1\u6709\u526a\u679d\uff0c\u8dd1\u51fa1540ms\uff0c\u6211\u52a0\u4e864\u4e2a\u526a\u679d\uff0c\u8dd1\u51fa704ms\u3002\n\n\u6240\u4ee5\uff1a\n\n#\u526a\u679d\u7279\u91cd\u8981\uff01\n\n\u4e0a\u4ee3\u7801\n\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\nusing namespace std;\nint a[100005],f[205],dp[100005];\ninline void read(int &a)//\u5feb\u8bfb\n{\n    int k=1; a=0; char c=getchar();\n    while(c<'0'||'9'<c){if(c=='-')k=-1; c=getchar();}\n    while('0'<=c&&c<='9'){a=a*10+c-'0'; c=getchar();}\n    a*=k;\n}\nint main()\n{\n    int t,i,j,k,l,mxa=0;\n    cin>>t;\n    for (i=1;i<=t;i++)\n    {\n        read(a[i]);\n        mxa=max(a[i],mxa);//\u6c42\u51fa\u6700\u5927\u503c\uff0c\u540e\u9762\u597d\u526a\u679d\n    }\n    for (i=1;i<=200;i++)//\u6c42\u51fa1~200\u7684\u5e73\u65b9\uff08\u5176\u5b9e\u5230181\u5373\u53ef\uff0c\u7406\u7531\u89c1\u4e0a\u9762\uff09\n    f[i]=i*i;\n    for (i=0;i<=181;i++)//\u679a\u4e3e\n    {\n        if (f[i]>mxa)//\u526a\u679d\n        break;\n        for (j=i;j<=181;j++)\n        {\n            if (f[i]+f[j]>mxa)//\u526a\u679d\n            break;\n            for (k=j;k<=181;k++) \n            {\n                if (f[i]+f[j]+f[k]>mxa)//\u526a\u679d\n                break;\n                for (l=k;l<=181;l++)\n                {\n                    if (f[i]+f[j]+f[k]+f[l]>mxa)//\u526a\u679d\n                    break;\n                    dp[f[i]+f[j]+f[k]+f[l]]++;//\u5982\u679c\u53ef\u884c\u5c31\u7d2f\u52a0\n                }\n            }\n        }\n    }\n    for (i=1;i<=t;i++)\n    cout<<dp[a[i]]<<endl;//\u8f93\u51fa\n    return 0;\n}\n\n```",
        "postTime": 1511106056,
        "uid": 43395,
        "name": "Dream_It_Possible",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1586 \u3010\u56db\u65b9\u5b9a\u7406\u3011"
    },
    {
        "content": "##\u8fd9\u9898\u6211\u7684\u4e3b\u8981\u601d\u8def\u662f\u5148\u628a1~32768\u7684\u7b97\u672f\u5e73\u65b9\u6839\u7b97\u51fa\u6765\u6253\u4e2a\u8868\uff08\u4e5f\u5c31\u662f1~181\u7684\u5e73\u65b9\uff0c\u4e0b\u9762\u7684dalao\u8bb2\u8fc7\u4e86\uff09\uff0c\u7136\u540e\u7a77\u4e3e4\u4e2a\u6570\u7684\u503c\uff08\u6709\u70b9\u50cf\u6df1\u641c\uff09\uff0c\u6700\u540e\u5224\u91cd\u8f93\u51fa\u5c31\u884c\u4e86~~~\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<cstring>\n#include<queue>\n#include<map>\n#include<cmath>\nconst int inf=2147483647;\nconst int ine=-2147482647;\nusing namespace std;\n#define in(t) freopen(\"t.in\",\"r\",stdin)\n#define out(t) freopen(\"t.out\",\"w\",stdout)\n#define m(a) memset(a,0,sizeof(a))\ntypedef long long ll;\nint p[200],n,ans=0,f[5];\nbool tp[40000];\ninline void d(){\n    int j=0;\n    for(int i=0;i<=182;i++){\n        p[++j]=i*i;\n        tp[p[j]]=1 ;\n    }\n}\n//\u8fd9\u662f\u6253\u8868\nvoid dfs(int i,int s){\n//\u4e3b\u8981\u4ee3\u7801\uff0c\u7528\u6765\u7a77\u4e3e\u6bcf\u4e00\u4e2a\u6570\u7684\u503c\uff08i\u662f\u6570\u7684\u5e8f\u53f7\uff08\u7b2c\u51e0\u4e2a\uff09\uff0cs\u662f\u8fd8\u5269\u4e0b\u7684\u6570\u503c\uff0c\u4e5f\u5c31\u662f\u51cf\u53bb\u524d\u9762\u7684\u6570\u540e\u5269\u4e0b\u7684\uff09\n    if(i==4){//\u7ed3\u675f\u6761\u4ef6\uff0ci=4\n        if(!tp[s])\n            return;\n            //\uff08tp\u662f\u4e0a\u9762\u6253\u7684\u5e73\u65b9\u6570\u7684\u8868\uff09\u5982\u679c\u6700\u540e\u4e00\u4e2a\u4e5f\u4e3a\u5e73\u65b9\u6570\u5c31\u53ef\u4ee5\u5f80\u4e0b\u505a\u5224\u91cd\u7684\u6b65\u9aa4\uff08\u524d\u9762\u7684\u6570\u5728\u641c\u7684\u65f6\u5019\u5df2\u7ecf\u662f\u5e73\u65b9\u6570\u4e86\uff0c\u4e0d\u7528\u7ba1\uff09\n        bool pd=1;\n        f[4]=s;\n        for(int l=1;l<4;++l){\n            if(f[l]>f[l+1]){\n                pd=0;\n                return;\n            }\n        }\n        //\u5982\u679c\u8fd9\u662f\u5b57\u5178\u5e8f\u6700\u5c0f\u7684\u4e00\u4e2a\u6570\u96c6\u6392\u5217\u5c31\u8bf4\u660e\u5b83\u662f\u7b2c\u4e00\u4e2a\u51fa\u73b0\u7684\uff0c\u6ca1\u6709\u91cd\u590d\n        if(pd)\n            ++ans;\n        return;\n    }\n    int t=(int)(sqrt)(s)+1;\n    //\u56e0\u4e3a\u6211\u5df2\u7ecf\u6253\u4e86\u4e00\u4e2a\u5e73\u65b9\u6570\u8868\u4e86\uff0c\u6240\u4ee5\u76f4\u63a5\u4ece\u6839\u53f7s\u7ed3\u675f\uff0c+1\u662f\u4e3a\u4e86\u4fdd\u9669\u4e00\u70b9\u3002\u3002\u3002\n    for(int j=1;j<=t;++j){\n        f[i]=p[j];\n        dfs(i+1,s-p[j]);\n    }\n    //f[i]\u662f\u8bb0\u5f55\u6bcf\u4e00\u4e2a\u6570\uff0c\u7528\u6765\u4e0a\u9762\u7684\u5224\u91cd\uff0cs\u6bcf\u6b21\u51cf\u53bb\u73b0\u5728\u7684\u6570\n}\nint main(){\n    int t;\n    d();\n    //d()\u6253\u8868\n    scanf(\"%d\",&t);\n    while(t--){\n        scanf(\"%d\",&n);\n        dfs(1,n);\n        //\u4ece1\u5f00\u59cb\u641c\u7d22\uff0cs\u4e00\u5f00\u59cb\u7b49\u4e8en\n        printf(\"%d\\n\",ans);\n        ans=0;\n        //\u6700\u540e\u8981\u5f520\n    }\n    return 0;\n}\n\n```",
        "postTime": 1514375643,
        "uid": 33718,
        "name": "Jyf624761709",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1586 \u3010\u56db\u65b9\u5b9a\u7406\u3011"
    },
    {
        "content": "\u56db\u91cd\u5faa\u73af\u4e5f\u662f\u53ef\u4ee5\u8fc7\u7684\u3002\n\n\u5148\u505a\u4e00\u4e2a\u5e73\u65b9\u6570\u8868\uff0c\u7701\u53bb\u6bcf\u6b21\u8ba1\u7b97\u7684\u65f6\u95f4\uff0c\u518d\u7528\u56db\u91cd\u5faa\u73af\u505a\u9884\u5904\u7406\uff0c\u5728\u5faa\u73af\u4e2d\u51fa\u73b0\u7684\u6bcf\u4e00\u4e2a\u6570x\u90fd\u5728f[x]\u52a0\u4e00\uff0c\u7ed3\u675f\u65f6f[i]\u50a8\u5b58\u7684\u5c31\u662fi\u7684\u65b9\u6848\u6570\u3002\n\n\u53e6\u5916\u7531\u4e8e\u65b9\u4fbf\uff08\u548c\u5077\u61d2\uff09\uff0c\u4e0d\u6ee1\u56db\u4e2a\u7684\u53ef\u4ee5\u75280\u4ee3\u66ff\u3002\n\n\u4ee5\u4e0b\u662f\u4ee3\u7801\n\n```pascal\nvar i,j,k,l,n,s,t:longint;a:array[0..181]of integer;f:array[0..131044]of integer;\nbegin\nfor i:=0 to 181 do\n a[i]:=i*i;\nreadln(n);\ns:=181;\nfor i:=0 to s do\n for j:=i to s do\n  for k:=j to s do\n   for l:=k to s do\n    inc(f[a[i]+a[j]+a[k]+a[l]]);\nfor i:=1 to n do\n  begin\n   readln(t);\n   writeln(f[t]);\n  end;\nend.\n```",
        "postTime": 1484562958,
        "uid": 32785,
        "name": "Michael_Lei",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1586 \u3010\u56db\u65b9\u5b9a\u7406\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u56e0\u4e3a\u53ef\u80fd\u4f1a\u8f93\u5165\u5f88\u591a\u4e2a\u6570\uff0c\u6240\u4ee5\u5148\u8fdb\u884c\u9884\u5904\u7406\uff0c\u5c06\u9898\u76ee\u8303\u56f4\u5185\u7684\u6bcf\u4e00\u4e2a\u6570\u7684\u65b9\u6848\u6570\u90fd\u63d0\u524d\u8ba1\u7b97\u51fa\u6765\uff0c\u7136\u540e\u76f4\u63a5\u8f93\u51fa\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,i,j,l,o,ans,t,f[5][35000];\nint main()\n{\n    scanf(\"%d\",&t);//\u8bfb\u5165\u6570\u7684\u4e2a\u6570\n    f[0][0]=1;//\u8bbe\u5b9a\u521d\u59cb\u503c\n        for(i=1;i*i<=32769;i++)//\u679a\u4e3e\u53ef\u80fd\u51fa\u73b0\u7684\u7ec4\u6210\u6570 \u3002\u6ce8\u610f:\u5148\u679a\u4e3e\u53ef\u80fd\u51fa\u73b0\u7684\u7ec4\u6210\u6570\uff0c\u4e0d\u7136\u4f1a\u65e0\u6cd5\u6392\u9664\u91cd\u590d\u7684\u65b9\u6848\n        {\n            for(l=1;l<=4;l++)//\u7531l\u4e2a\u6570\u7ec4\u6210 \n            {\n                for(j=i*i;j<=32769;j++)//\u7531l\u4e2a\u6570\u7ec4\u6210j \n                    f[l][j]+=f[l-1][j-i*i];//\u5bf9\u5e94\u65b9\u6848\u6570\u52a0\u4e0a\u53d6i*i\u7684\u65b9\u6848\u6570\n            }\n        }\n    for(i=1;i<=t;i++)//\u7528for\u8bfb\u5165\u6bcf\u4e00\u4e2a\u6570\n    {\n        ans=0;//ans\u7684\u521d\u59cb\u503c\u4e3a0\n        scanf(\"%d\",&n);//\u8bfb\u5165\n        for(j=1;j<=4;j++)\n            ans+=f[j][n];//ans\u5206\u522b\u52a0\u4e0a\u75311\u30012\u30013\u30014\u4e2a\u6570\u7ec4\u6210\u7684\u65b9\u6848\u603b\u6570\n        printf(\"%d\\n\",ans);    //\u8f93\u51fa\n    }\n    return 0;//\u7ed3\u675f\n}\n```",
        "postTime": 1500016845,
        "uid": 47136,
        "name": "ww3113306",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1586 \u3010\u56db\u65b9\u5b9a\u7406\u3011"
    }
]