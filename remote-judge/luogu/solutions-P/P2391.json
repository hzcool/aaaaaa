[
    {
        "content": "**\u5e76\u67e5\u96c6\u7ef4\u62a4\u5e8f\u5217\u8fde\u901a\u6027**\u7684\u4e00\u9053\u597d\u9898\u3002\n\n\u6211\u4eec\u77e5\u9053\uff0c\u5e76\u67e5\u96c6\u53ef\u4ee5\u7ef4\u62a4\u56fe\u7684\u8fde\u901a\u6027\uff0c\u5f53\u7136\u7c7b\u6bd4\u5230\u5e8f\u5217\u4e0a\u4e5f\u662f\u53ef\u884c\u7684\u3002\n\n\u5728\u56fe\u4e0a\uff0c$fa[x]=fa[y]$\uff0c\u5219\u79f0$x,y$\u8fde\u901a\u3002\n\n\u800c\u5728\u8fd9\u9053\u9898\u4e2d\uff0c\u53ef\u4ee5\u7528$fa[x]$\u8868\u793a$x$\u540e\u7b2c\u4e00\u4e2a\u53ef\u64cd\u4f5c\u7684\u8282\u70b9\u3002\n\n\u8003\u8651\u9898\u76ee\u542b\u4e49\uff0c\u4e00\u4e2a\u96ea\u82b1\u7684\u989c\u8272\u662f\u5b83\u6700\u540e\u88ab\u67d3\u4e0a\u7684\u989c\u8272\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u5012\u5e8f\u679a\u4e3e\u67d3\u8272\u64cd\u4f5c\uff0c\u5728\u67d3\u8272\u533a\u95f4\u5185\u8fdb\u884c\u8df3\u8dc3\u67d3\u8272\uff0c\u5e76\u7ef4\u62a4\u8fde\u901a\u6027\u3002\n\n[\u7c7b\u4f3c\u9898\u76ee](https://www.luogu.com.cn/problem/P4145)\n\n\u8fd9\u9053\u9898\u76ee~~\u66b4\u529b\u53ef\u8fc7~~\uff0c\u4f46\u662f\u5982\u679c\u662f\u4e0a\u9762\u63a8\u7684\u90a3\u9053\u9898\uff0c\u4e00\u4e2a\u70b9\u53ef\u4ee5\u591a\u6b21\u64cd\u4f5c\uff0c\u66b4\u529b~~\u5927\u6982\u7387\u8fc7\u4e0d\u4e86~~\u3002\n\n```\n//fa[i]\u8868\u793a\uff0ci\u524d\u9762\u7b2c\u4e00\u4e2a\u6ca1\u67d3\u8272\u7684\u96ea\u82b1\n#include<bits/stdc++.h>\nusing namespace std;\n#define reg register\ninline int read(){\n    reg char c;reg int f=1,x=0;\n    while(!isdigit(c)) { if(c=='-') f=-1;c=getchar(); }\n    while(isdigit(c)) { x=x*10+c-'0';c=getchar(); }\n    return x*f;\n}\nint n,m,p,q,fa[1000001],col[1000001];\ninline int myfind(int x){ if(x==fa[x]) return x;return fa[x]=myfind(fa[x]); }\nint main(){\n    n=read(),m=read(),p=read(),q=read();\n    for(reg int i=1;i<=n;++i) fa[i]=i;\n    for(reg int i=m;i>=1;--i){//\u4f9d\u7167\u9898\u610f\uff0c\u5012\u5e8f\u67d3\u8272\uff08\u989c\u8272\u4ee5\u6700\u540e\u4e00\u6b21\u67d3\u4e0a\u7684\u989c\u8272\u4e3a\u51c6\uff09\n        int l=(i*p+q)%n+1,r=(i*q+p)%n+1;\n        if(l>r) swap(l,r);\n        for(reg int j=r;j>=l;){\n            int t=myfind(j);\n            if(t==j){\n                col[j]=i,fa[j]=myfind(j-1)/*\u7ef4\u62a4\u8fde\u901a\u6027*/;\n            }j=fa[j];//\u76f4\u63a5\u8df3\u5230\u4e0b\u4e00\u4e2a\u53ef\u67d3\u8272\u7684\u70b9\n        }\n    }\n    for(reg int i=1;i<=n;++i) printf(\"%d\\n\",col[i]);\n}\n```\n\n\u518d\u63a8\u8350\u4e00\u9053\u9898\uff0c\u9700\u8981\u4e0e\u8d2a\u5fc3\u7ed3\u5408\u3002\n\n[supermarket](https://www.luogu.com.cn/problem/UVA1316)\n",
        "postTime": 1586660303,
        "uid": 134640,
        "name": "zsaskk",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    },
    {
        "content": "ps:\u8fd9\u7bc7\u9898\u89e3\u4e00\u5b9a\u8bf7\u8fc7QAQ\uff01\uff01\uff01\u539f\u56e0\u5f88\u7b80\u5355\uff0c\u6d1b\u8c37\u6570\u636e\u8fc7\u6c34\uff0c90%A\u4e86\u7684\u9898\u89e3\u5176\u5b9e\u90fd\u662f\u6709\u95ee\u9898\u7684\uff01\uff01\uff01\uff08\u672c\u4eba\u5728\u672c\u5730\u6d4b\u4e86\u5f88\u591a\u7ec4\u5408\u6cd5\u6570\u636e\uff0c\u51e0\u4e4e\u6240\u6709\u9898\u89e3\u90fd\u89811s\u4ee5\u4e0a\uff0c\u800c\u672c\u7bc7\u9898\u89e30.5s\u5de6\u53f3\uff09\n\n\u65b9\u6cd5\uff1a\u53cc\u5411\u94fe\u8868+\u7f29\u70b9\n\n\u9996\u5148\u5f88\u591adalao\u90fd\u8bf4\u8fc7\u4e86\uff0c\u8981\u4ece\u540e\u5f80\u524d\u67d3\u8272\uff0c\u9047\u89c1\u67d3\u8fc7\u8272\u7684\u5c31\u4e0d\u7ba1\u5b83\u3002\u4f46\u662f\uff0c\u8fd9\u6837\u5176\u5b9e\u4f1a\u6d6a\u8d39\u5f88\u591a\u65f6\u95f4\uff0c\u662f\u8981T\u7684\u3002\n\n\u6240\u4ee5\u6211\u4eec\u8003\u8651\uff0c\u5728\u67d3\u8272\u7684\u540c\u65f6\uff0c\u628a\u67d3\u8fc7\u8272\u7684\u533a\u95f4\u7f29\u4e3a\u4e00\u4e2a\u70b9\uff0c\u8fd9\u6837\u5c31\u80fd\u5927\u5927\u8282\u7701\u65f6\u95f4\u3002\u56e0\u4e3a\u662f\u7ebf\u6027\uff0c\u6240\u4ee5\u6211\u4eec\u91c7\u53d6\u94fe\u8868\u3002\n\n\u4e4b\u524d\u5df2\u7ecf\u6709dalao\u53d1\u8fc7\u94fe\u8868\u7684\u9898\u89e3\u4e86\uff0c\u4f46\u662f\u4ed6\u53ea\u5c06\u67d3\u8fc7\u8272\u7684\u533a\u95f4\u7684\u5de6\u53f3\u7aef\u70b9\u8fde\u5728\u4e00\u8d77\uff0c\u800c\u4e2d\u95f4\u7684\u70b9\u8fd8\u662f\u6ca1\u6709\u53d8\u5316\uff0c\u8fd9\u6837\u5c31\u4f1a\u9020\u6210\u5f88\u591a\u4e0d\u5fc5\u8981\u7684\u8fd0\u7b97\u3002\u672c\u9898\u89e3\u5728\u6b64\u57fa\u7840\u4e0a\u6539\u8fdb\uff0c\u5c06\u4e2d\u95f4\u70b9\u4e5f\u76f4\u63a5\u4e0e\u5de6\u53f3\u7aef\u70b9\u76f8\u8fde\uff0c\u6548\u7387\u4e3a\u5047O\uff08n\uff09\uff08\u5c31\u662f\u5f88\u903c\u8fd1O\uff08n\uff09\uff09\uff1b\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\n#define R register\nusing namespace std;\nint n,m,color[1000010],pre[1000010],nxt[1000010],p,q;\ntemplate <typename T> void in(R T &a)\n{\n    R char c = getchar();R T x=0,f=1;\n    while(!isdigit(c)) {if(c == '-') f=-1; c=getchar();}\n    while(isdigit(c)) x=(x<<1)+(x<<3)+c-'0',c = getchar();\n    a=x*f;\n}\nint main()\n{\n\t//freopen(\"color.in\",\"r\",stdin);\n\t//freopen(\"color.out\",\"w\",stdout);\n\tin(n),in(m),in(p),in(q);\n\tfor(R int i=1;i<=n;i++)\n\t{\n\t\tnxt[i]=i+1;//\u94fe\u8868\u521d\u59cb\u5316\n\t\tpre[i]=i-1;\n\t}\n\tfor(R int i=m;i>=1;i--)//\u4ece\u540e\u5f80\u524d\n\t{\n\t\tR int l=(i*p+q)%n+1,r=(i*q+p)%n+1;//\u8ba1\u7b97\u5de6\u53f3\u7aef\u70b9\n        if(l>r) l^=r,r^=l,l^=r;\n        R int now=l;\n        while(now<=r)//\u6572\u9ed1\u677f\uff01\uff01\uff01\n        {\n        \tR int temp=0;//\u5982\u679c\u6ca1\u67d3\u8fc7\u8272\uff0c\u5c31\u67d3\u8272\u3001\u5c06\u8be5\u70b9\u4e0e\u533a\u95f4\u5de6\u53f3\u7aef\u70b9\u76f8\u8fde\uff0c\u8bb0\u5f55\u539f\u672c\u7684\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u4e3atemp\n            if(!color[now]) color[now]=i,pre[now]=pre[l],temp=nxt[now],nxt[now]=nxt[r];\n            temp==0?now=nxt[now]:now=temp;//temp\u4e0d\u4e3a\u96f6\uff0c\u5219\u8df3\u5230\u539f\u672c\u7684\u4e0b\u4e00\u4e2a\u70b9\uff1b\u4e3a\u96f6\uff0c\u5219\u8bf4\u660e\u8be5\u70b9\u5df2\u7ecf\u67d3\u8fc7\u8272\uff08\u5c31\u662f\u5df2\u7ecf\u7f29\u8fc7\u70b9\uff0c\u76f4\u63a5\u8df3\u5230\u7f29\u70b9\u540e\u7684\u4e0b\u4e00\u4e2a\u7aef\u70b9\uff09\n        }\n\t}\n\tfor(R int i=1;i<=n;i++) printf(\"%d\\n\",color[i]);\n\treturn 0;\n}\n/*\n4 3 2 4\n*/\n```",
        "postTime": 1534775161,
        "uid": 55805,
        "name": "Bay_Max",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    },
    {
        "content": "# \u6b63\u89e3\u5f53\u7136\u662f\u5e76\u67e5\u96c6\uff0c\u4f46\u662f\u6211\u7adf\u7136\u7528\u66b4\u529b\u8fc7\u5566\uff0c\u83ab\u540d\u5176\u5999\uff01\uff01\n### \u8fd8\u4e0d\u662f\u5361\u8fc7\u53bb\u7684\n## \u65f6\u95f4\u590d\u6742\u5ea6O\uff08n*m\uff09\u6b63\u5e38\u60c5\u51b5\u8fc7\u4e0d\u53bb\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define dd c=getchar()\nint read(){int s=0,w=1;char c;while (dd,c>'9' || c<'0') if (c=='-') w=-1;while (c>='0' && c<='9') s=s*10+c-'0',dd;return s*w;}\n#undef dd\nvoid write(int x) {if (x<0) putchar('-'),x=-x;if (x>=10) write(x/10);putchar(x%10|'0');}\nvoid wln(int x) {write(x);puts(\"\");}//\u5fc5\u987b\u8981\u5f00\u5404\u79cd\u8bfb\u5165\u8f93\u51fa\nint const N=1e7+5;\nint q,p,i,j,m,n,a[N],x,y,f;\nint main(){\n\tfreopen(\"paint.in\",\"r\",stdin);\n\tfreopen(\"paint.out\",\"w\",stdout);\n\tn=read(),m=read(),p=read(),q=read();\n\tfor(i=1;i<=n;i++){\n\t\tf=0;\n\t\tfor(j=m;j>=m-n;j--){//\u5012\u8fc7\u6765\u8fdb\u884c\u5faa\u73af\uff0c\u7531\u4e8e\u6570\u636e\uff0c\u53ef\u4ee5\u8fc7\uff0c\u6b63\u7740\u53ea\u80fd\u62ff50\u5206\n\t\t\tx=(j*p+q)%n+1;\n\t\t\ty=(j*q+p)%n+1;\n\t\t\tif(x>y) swap(x,y);//\u4ea4\u6362\u4e00\u4e0b\uff0c\u975e\u5e38\u91cd\u8981\uff01\uff01\uff01\uff01\n\t\t\tif((i>=x)&&(i<=y)){\n\t\t\t\twrite(j);\n\t\t\t\tf=1;\n\t\t\t\tbreak;//\u6709\u7b54\u6848\u76f4\u63a5\u8f93\u51fa\uff0c\u9000\u51fa\u5faa\u73af\n\t\t\t}\n\t\t}\n\t\tif(f==0) write(0);\n\t\tprintf(\"\\n\");\n\t}\n\treturn 0;\n}\n```\n# \u4ee5\u4e0b\u662f\u5e76\u67e5\u96c6\u6b63\u89e3\uff0c\u697c\u4e0a\u5927\u4f6c\u5df2\u7ecf\u6709\u89e3\u91ca\n### \u5982\u679c\u5c06\u64cd\u4f5c\u5012\u7740\u8fdb\u884c\uff0c\u4f60\u60ca\u8bb6\u7684\u53d1\u73b0\u597d\u50cf\u6bcf\u4e2a\u70b9\u53ea\u9700\u8981\u4fee\u6539\u4e00\u6b21\u3002\n### \u6240\u4ee5\u5982\u679c\u4e00\u4e2a\u70b9i\u88ab\u67d3\u8272\u4e86\uff0c\u4f60\u53ef\u4ee5\u5c06\u4ed6\u7684\u7236\u4eb2\u6539\u6210i+1\uff0c\u4e0b\u6b21\u5c31\u4f1a\u76f4\u63a5\u7565\u8fc7\u8fd9\u4e2a\u70b9\u4e86\n### \u8fd9\u4e2a\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528\u94fe\u8868\u5c06\u6240\u6709\u6ca1\u7528\u7684\u70b9\u5220\u4e86\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\n#define dd c=getchar()\nint read() {int s=0,w=1;char c;while (dd,c>'9' || c<'0') if (c=='-') w=-1;while (c>='0' && c<='9') s=s*10+c-'0',dd;return s*w;}\n#undef dd\nvoid write(int x) {if (x<0) x=-x,putchar('-');if (x>=10) write(x/10);putchar(x%10|'0');}\nvoid wln(int x) {write(x);putchar('\\n');}void wsp(int x) {write(x);putchar(' ');}\n\nconst int N=1e6+5;\nint col[N],fa[N];\n\nint find(int x){\n\tint t=x,p;\n\twhile (t!=fa[t]) t=fa[t];\n\twhile (x!=fa[x]) p=x,x=fa[x],fa[p]=t;\n\treturn t;\n}\n\nint main(){\n\tfreopen(\"paint.in\",\"r\",stdin);\n    freopen(\"paint.out\",\"w\",stdout);\n\tint n,m,p,q;\n    scanf(\"%d%d%d%d\",&n,&m,&p,&q);\n    for (int i=1;i<=n+2;i++) fa[i]=i;\n    for (int i=m;i>=1;i--){\n        int l=(i*p+q)%n+1,r=(i*q+p)%n+1;\n        if (l>r) swap(l,r);\n        for (int j=l;j<=r;){\n            int t=find(j);\n            if (t==j){\n                col[j]=i;fa[j]=j+1;\n            }\n            j=t;\n        }\n    }\n    for (int i=1;i<=n;i++)\n        wln(col[i]);\n}\n```",
        "postTime": 1550559996,
        "uid": 172612,
        "name": "\u7c73\u5947\u5947\u7c73",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u53ef\u4ee5\u7528\u5e76\u67e5\u96c6\u6765\u6253\uff08\u7136\u800c\u6211\u4e00\u5f00\u59cb\u8111\u62bd\u7adf\u7136\u7528\u4e86\u53cc\u5411\u94fe\u8868-.-\uff09\uff0c\u4ece\u6700\u540e\u5f00\u59cb\u5f80\u524d\u8fdb\u884c\u6d82\u8272\uff0c\u56e0\u4e3a\u663e\u7136\u540e\u9762\u7684\u4f18\u5148\u7ea7\u5927\u4e8e\u524d\u9762\uff0c\u540e\u9762\u7684\u4f1a\u5c06\u524d\u9762\u6d82\u7684\u989c\u8272\u8986\u76d6\u3002\u8fd9\u6837\u6211\u4eec\u53ea\u8981\u5feb\u901f\u67e5\u627e\u4e0b\u4e00\u4e2a\u6ca1\u88ab\u6d82\u7684\u70b9\u5c31\u884c\u4e86\uff0c\u56e0\u6b64\u6211\u60f3\u5230\u4e86\u5e76\u67e5\u96c6\uff0c\u53ea\u8981\u4fdd\u8bc1\u6bcf\u4e2a\u96c6\u5408\u7684fa\u6ca1\u88ab\u6d82\u8fc7\u5c31\u884c\u4e86\u3002\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u590d\u6742\u5ea6\u8fc7\u9ad8\u3002\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#define MAXN 1001000\nusing namespace std;\nint mp[MAXN],fa[MAXN],n,m,p,q;\nint find(int x){return (fa[x]<0)?x:fa[x]=find(fa[x]);}\nint main()\n{\n    scanf(\"%d%d%d%d\",&n,&m,&p,&q);\n    memset(fa,-1,sizeof fa);\n    for(int i=m;i>=1;i--)\n    {\n        int mi=(i*p+q)%n+1,ma=(i*q+p)%n+1;//\u8fd9\u91cc\u7684\u64cd\u4f5c\u8981\u6ce8\u610f\u4e0b\u56e0\u4e3am\u4e3a10000000\uff0c\u6240\u4ee5\u5c3d\u91cf\u51cf\u5c11\u591a\u4f59\u7684\u64cd\u4f5c\n        if(mi>ma)swap(mi,ma);\n        mi=find(mi);\n        while(mi<=ma)mp[mi]=i,fa[mi]=mi+1,mi=find(mi+1);\n    }\n    for(int i=1;i<=n;i++)printf(\"%d\\n\",mp[i]);\n    return 0;\n}\n\n```",
        "postTime": 1504846482,
        "uid": 11413,
        "name": "Sky_star",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    },
    {
        "content": "### \u601d\u8def\u6846\u67b6\n\n\u8fd9\u4e2a\u662f\u4e0d\u4e00\u6837\u7684\u505a\u6cd5\uff0c\u662f\u7ebf\u6bb5\u6811+\u4e00\u70b9\u70b9\u601d\u7ef4\u4f18\u5316\u3002\n\n\uff08\u5927\u5bb6\u4f3c\u4e4e\u90fd\u662f\u5199\u7684\u94fe\u8868\u505a\u6cd5\u554a...\u6211\u4e0d\u4f1a\u6253\u94fe\u8868\u554a...\uff09\n\n\u6211\u4eec\u53d1\u73b0$(i\\times p+q)\\mod n+1$\u8fd9\u4e2a\u5f0f\u5b50\uff0c\u53ef\u4ee5\u5148\u628a$i$\u5bf9$n$\u53d6\u819c\u4e4b\u540e\u518d\u7b97\uff01\uff01\uff01\u4e5f\u5c31\u662f\u8bf4\uff0c\u6709\u5f88\u591a\u6b21\u533a\u95f4\u8986\u76d6\u64cd\u4f5c\u90fd\u662f\u8986\u76d6\u7684\u540c\u4e00\u5757\u533a\u95f4\uff01\n\n\u90a3\u4e48\u672c\u8d28\u4e0d\u540c\u7684\u4fee\u6539\u64cd\u4f5c\u5c31\u53ea\u6709$n$\u4e2a\uff0c\u518d\u52a0\u4e0a\u6700\u540e$m\\mod n$\u4e2a\u9664\u4e0d\u5c3d\u7684\u3002\n\n\u7279\u5224$m<n$\u7684\u60c5\u51b5\u3002\n\n\u65e0\u8bba\u54ea\u79cd\u60c5\u51b5\uff0c\u590d\u6742\u5ea6\u90fd\u662f$O(n \\log n)$\u7684\u3002\u5bf9\u4e8e$n\\le 10^6$\u7684\u6570\u636e\uff0c\u8db3\u591f\u4e86\u3002\n\n### \u5177\u4f53\u5b9e\u73b0\u601d\u8def\n\n\u663e\u7136\uff0c\u5728\u540c\u4e00\u4e2a\u540c\u4f59\u7cfb\u91cc\uff0c\u6700\u540e\u9762\u90a3\u6b21\u8986\u76d6\u7684\u989c\u8272\u662f\u7b54\u6848\u3002\u90a3\u4e48\u6211\u4eec\u628a$m$\u6b21\u64cd\u4f5c\uff0c\u6bcf$n$\u4e2a\u5206\u4e00\u5757\uff08\u9664\u4e0d\u5c3d\u7684\u5148\u4e0d\u7ba1\uff09\u3002\u663e\u7136\uff0c\u6700\u540e\u4e00\u5757\u7684\u64cd\u4f5c\u53ef\u4ee5\u628a\u524d\u9762\u51e0\u5757\u7684\u64cd\u4f5c\u5168\u90e8\u90fd\u8986\u76d6\u6389\u3002\u6240\u4ee5\u6700\u540e\u4e00\u5757\u662f\u552f\u4e00\u6709\u7528\u7684\u4e00\u5757\u3002\n\n$m$\u9664\u4ee5$n$\uff0c\u53ef\u4ee5\u753b\u51fa\u8fd9\u6837\u7684\u56fe\uff1a\n\n![](https://i.loli.net/2020/02/18/XlqZi1oEI9UYnsN.jpg)\n\n`last`\u6307\u9488\u8868\u793a\u6700\u540e\u4e00\u5757\u6709\u7528\u7684\u533a\u95f4**\u524d\u9762\u4e00\u4e2a\u4f4d\u7f6e**\uff0c\u90a3\u4e48\u6700\u540e\u4e00\u5757\u6709\u7528\u7684\u67d3\u8272\u64cd\u4f5c\u5c31\u662f$i=last+1,last+2\\cdots last+n$\u7684\u65f6\u5019\u3002\n\n\u5bb9\u6613\u8ba1\u7b97\u51fa `last` \u6307\u9488\u4e3a\uff1a$n(\\lfloor\\dfrac{m}{n}\\rfloor-1)$\n\n\n\u6700\u540e$m\\mod n$\u4e2a\u7279\u5224\u6389\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nnamespace Flandre_Scarlet\n{\n    #define N 1666666\n    #define F(i,l,r) for(int i=l;i<=r;++i)\n    #define D(i,r,l) for(int i=r;i>=l;--i)\n    #define Fs(i,l,r,c) for(int i=l;i<=r;c)\n    #define Ds(i,r,l,c) for(int i=r;i>=l;c)\n    #define MEM(x,a) memset(x,a,sizeof(x))\n    #define FK(x) MEM(x,0)\n    #define Tra(i,u) for(int i=G.Start(u),__v=G.To(i);~i;i=G.Next(i),__v=G.To(i))\n    #define p_b push_back\n    #define sz(a) ((int)a.size())\n    #define iter(a,p) (a.begin()+p)\n    void R1(int &x)\n    {\n        x=0;char c=getchar();int f=1;\n        while(c<'0' or c>'9') f=(c=='-')?-1:1,c=getchar();\n        while(c>='0' and c<='9') x=(x<<1)+(x<<3)+(c^48),c=getchar();\n        x=(f==1)?x:-x;\n    }\n    void Rd(int cnt,...)\n    {\n        va_list args;\n        va_start(args,cnt);\n        F(i,1,cnt) \n        {\n            int* x=va_arg(args,int*);R1(*x);\n        }\n        va_end(args);\n    }\n    class SegmentTree //\u7ebf\u6bb5\u6811\uff0c\u533a\u95f4\u8986\u76d6\uff0c\u5355\u70b9\u6c42\u503c\n    {\n    public:\n        struct node\n        {\n            int l,r,c,s;\n        }tree[N<<2];\n        #define ls index<<1\n        #define rs index<<1|1\n\n        #define L tree[index].l\n        #define R tree[index].r\n        #define S tree[index].s\n        #define C tree[index].c\n\n        #define lL tree[ls].l\n        #define lR tree[ls].r\n        #define lS tree[ls].s\n        #define lC tree[ls].c\n\n        #define rL tree[rs].l\n        #define rR tree[rs].r\n        #define rS tree[rs].s\n        #define rC tree[rs].c\n        void Build(int l,int r,int index=1)\n        {\n            L=l,R=r;\n            if (l==r) {S=C=0;return;}\n            int mid=(l+r)>>1;\n            Build(l,mid,ls); Build(mid+1,r,rs);\n        }\n        void ChangeOne(int x,int index=1)\n        {\n            C=S=x;\n        }\n        void PushDown(int index=1) \n        {\n            if (C)\n            {\n                ChangeOne(C,ls); ChangeOne(C,rs);\n                C=0;\n            }\n        }\n        void Change(int l,int r,int x,int index=1)\n        //l\u5230r\u8986\u76d6\u4e0ax\n        {\n            if (l>R or L>r) return;\n            if (l<=L and R<=r) return ChangeOne(x,index);\n            PushDown(index);\n            Change(l,r,x,ls); Change(l,r,x,rs);\n        }\n        int Query(int pos,int index=1)\n        //\u67e5\u8be2\u7b2cpos\u4e2a\u4f4d\u7f6e\u7684\u503c\n        {\n            if (pos<L or R<pos) return 0;\n            if (L==R) return S;\n            PushDown(index);\n            return Query(pos,ls)+Query(pos,rs);\n        }\n    }T;\n\n    int n,m,p,q;\n    void Input()\n    {\n        Rd(4,&n,&m,&p,&q);\n    }\n    void Soviet()\n    {\n        #define ll(i) ((i*p+q)%n+1)\n        #define rr(i) ((i*q+p)%n+1)\n        T.Build(1,n);\n        if (m<n) //m<n\u76f4\u63a5\u7279\u5224\n        {\n            F(i,1,m) \n            {\n                int l=ll(i),r=rr(i); if (l>r) swap(l,r);\n                //\u8bb0\u5f97\u5224\u65adl>r\u7684\u60c5\u51b5\n                T.Change(l,r,i);\n            }\n            F(i,1,n) printf(\"%d\\n\",T.Query(i));\n        }\n        else\n        {\n            int last=(m/n-1)*n;\n            F(i,1,n) //\u627e\u5230\u6700\u540e\u4e00\u5757\u6709\u7528\u7684\u533a\u95f4\n            {\n                int l=ll(i),r=rr(i); if (l>r) swap(l,r);\n                T.Change(l,r,++last);\n            }\n            F(i,last+1,m) //\u6700\u540em%n\u4e2a\u4e5f\u5224\u6389\n            {\n                int l=ll(i),r=rr(i); if (l>r) swap(l,r);\n                T.Change(l,r,i);\n            }\n            F(i,1,n) printf(\"%d\\n\",T.Query(i));\n        }\n    }\n\n    #define Flan void\n    Flan IsMyWife()\n    {\n        Input();\n        Soviet();\n    }\n}\nint main()\n{\n    Flandre_Scarlet::IsMyWife();\n    getchar();getchar();\n    return 0;\n}\n```",
        "postTime": 1582017622,
        "uid": 106252,
        "name": "LightningUZ",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    },
    {
        "content": "\u5148\u770b\u9898\u76ee\u53d1\u73b0\uff0c\u8fd9\u9053\u9898\u8981\u6c42\u7684\u552f\u4e00\u64cd\u4f5c\u662f\u533a\u95f4\u4fee\u6539\uff0c\u7b2c\u4e00\u53cd\u5e94\u60f3\u5230\u4e86\u7ebf\u6bb5\u6811\u3002\u4f46\u662f\u6839\u636e\u6570\u636e\u8303\u56f4\u6765\u770b\uff0c\u5355\u7eaf\u7528\u7ebf\u6bb5\u6811\u7edd\u5bf9\u4f1aTLE(mlog2n)\uff0c\u8fd9\u65f6\u5c31\u5f97\u60f3\u5982\u4f55\u4f18\u5316\u3002\u5728\u81ea\u5df1\u505a\u51e0\u4e2a\u6570\u636e\u540e\u4f1a\u53d1\u73b0\uff0c\u6700\u540e\u4e00\u6b21\u64cd\u4f5c\u6240\u586b\u7684\u989c\u8272\u4f1a\u5168\u90e8\u4fdd\u7559\uff0c\u800c\u5012\u6570\u7b2c\u4e8c\u6b21\u64cd\u4f5c\u6240\u586b\u7684\u989c\u8272\u4ec5\u4f1a\u88ab\u5012\u6570\u7b2c\u4e00\u6b21\u64cd\u4f5c\u6240\u8986\u76d6\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u800c\u6ce8\u610f\u65f6\u95f4\u590d\u6742\u5ea6\u9ad8\u4e3b\u8981\u662f\u591a\u6b21\u91cd\u590d\u7684\u586b\u8272\u64cd\u4f5c\u9020\u6210\u7684\u3002\u8fd9\u65f6\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u7279\u5f81\uff1a\u524d\u9762\u51e0\u6b21\u64cd\u4f5c\u7684\u989c\u8272\u51e0\u4e4e\u5168\u90e8\u88ab\u8986\u76d6\uff0c\u5927\u90e8\u5206\u586b\u8272\u7684\u65f6\u95f4\u4f1a\u88ab\u6d6a\u8d39\u3002\u6240\u4ee5\uff0c\u53ef\u4ee5\u4ece\u6700\u540e\u4e00\u79cd\u989c\u8272\u5f00\u59cb\u586b\uff0c\u4e4b\u540e\u6bcf\u586b\u4e00\u79cd\u989c\u8272\u53ea\u8986\u76d60\u7684\u4f4d\u7f6e\uff0c\u4e0d\u52a8\u5df2\u586b\u8272\u7684\u533a\u57df\u3002\u8fd9\u6837\u5904\u7406\u53ef\u4ee5\u4f7f\u65f6\u95f4\u590d\u6742\u5ea6\u5927\u5927\u964d\u4f4e(n)\u3002\u64cd\u4f5c\u4e0e\u666e\u901a\u7ebf\u6bb5\u6811\u5dee\u4e0d\u591a\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstdlib>\n#include<cctype>\n#include<iostream>\n#define For(i,a,b) for((i)=(a);(i)<=(b);++(i))\n#define Forward(i,a,b) for((i)=(a);(i)>=(b);--(i))\nusing namespace std;\nconst int MAXN=1000000+100;\ntemplate<typename T>\ninline void read(T &x)//\u5feb\u901f\u8bfb\u5165\n{\n    T s=0,f=1;\n    char k=getchar();\n    while(!isdigit(k)&&k!='-')k=getchar();\n    if(k=='-')\n    {\n        f=-1;\n        k=getchar();\n    }\n    while(isdigit(k))\n    {\n        s=(s<<3)+(s<<1)+(k^'0');\n        k=getchar();\n    }\n    x=s*f;\n}\nint n,m,p[MAXN<<2];\nvoid insert(int h,int l,int r,int x,int y,int z)//\u6d82\u8272\n{\n    if(p[h]==0&&x<=l&&r<=y)//\u6ce8\u610f\u5f53\u6b64\u6bb5\u989c\u8272\u4e0d\u4e3a0\u65f6\uff0c\u4e0d\u80fd\u5168\u90e8\u6d82\u6389\n    {\n        p[h]=z;\n        return;\n    }\n    int mid=(l+r)>>1;\n    if(p[h]==0)p[h]=-1;\n    else if(p[h]>0)return;//\u5f53\u8fd9\u4e00\u6bb5\u5168\u90e8\u88ab\u586b\u6389\u65f6\uff0c\u4e0d\u5fc5\u518d\u586b\u4e86\u3002\n    if(x<=mid)insert(h<<1,l,mid,x,y,z);\n    if(y>mid)insert(h<<1|1,mid+1,r,x,y,z);\n}\nvoid output(int h,int l,int r)//\u8f93\u51fa\n{\n    if(p[h]!=-1)for(int i=l;i<=r;++i)printf(\"%d\\n\",p[h]);\n    else\n    {\n        int mid=(l+r)>>1;\n        output(h<<1,l,mid);\n        output(h<<1|1,mid+1,r);\n    }\n}\nint k,q;\nint main(void)\n{\n    //freopen(\"snow.out\",\"w\",stdout);\n    int i;\n    read(n);\n    read(m);\n    read(k);\n    read(q);\n    Forward(i,m,1)\n    {\n        int u=(k*i+q)%n+1,v=(i*q+k)%n+1;\n        if(u>v)swap(u,v);\n        insert(1,1,n,u,v,i);//\u7ebf\u6bb5\u6811\u64cd\u4f5c\n    }\n    output(1,1,n);\n    return 0;\n}\n\n```",
        "postTime": 1500724723,
        "uid": 7035,
        "name": "Great_Influence",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    },
    {
        "content": "\u603b\u7ed3\u4e00\u4e0b\u8fd9\u9053\u9898\u7684\u505a\u6cd5\n- \u66b4\u529b\u6a21\u62df\n- \u5e76\u67e5\u96c6\n- \u53cc\u5411\u94fe\u8868+\u7f29\u70b9\n- \u7ebf\u6bb5\u6811\n- \u6302\u94fe+\u5806\n\n\u4ee5\u4e0a\u90fd\u662f\u76ee\u524d\u7684\u9898\u89e3\u533a\u91cc\u7684\u9898\u89e3\u3002\n\n\u5728\u7b2c\u4e00\u79cd\u7b97\u6cd5\u4e2d\uff0c\u9898\u89e3\u533a\u51fa\u73b0\u4e24\u7bc7\uff0c\u4f46\u662f\u90fd\u6781\u4e3a\u7b80\u77ed\uff0c\u6ca1\u6709\u5206\u6790\u3002\n\n\u7b80\u5316\u9898\u610f\uff0c$n$ \u4e2a\u6570\uff0c$m$ \u6b21\u64cd\u4f5c\uff0c\u6bcf\u6b21\u64cd\u4f5c\u628a\u7b2c\u628a\u7b2c\uff08$i*p+q$\uff09%$N+1$ \u4e2a\u6570\u5230\u7b2c\uff08$i*q+p$\uff09% $N+1$\u4e2a\u6570\u4e4b\u95f4\u7684\u6240\u6709\u6570\u66f4\u65b0\u4e3a$i$\u3002\n\n\u5148\u8fdb\u884c\u6700\u76f4\u63a5\u7684\u66b4\u529b\u6a21\u62df\uff0c\u5faa\u73af\u8d4b\u503c\u8986\u76d6\u3002\n```cpp\n\tfor(i=1;i<=m;i++)\n\t{\n\t\tint a=(i*p+q)%n+1,b=(i*q+p)%n+1;\n\t\tint c=min(a,b),d=max(a,b);\n\t\tfor(j=c;j<=d;j++)\n\t\t{\n\t\t\ts[j]=i;\n\t\t}\n\t}\n\t\n```\n\u65f6\u95f4\u590d\u6742\u5ea6$O(NM)$\uff0c\u671f\u671b\u5f97\u520620\u5206\uff0c\u5b9e\u9645\u5f97\u520628\u5206\u3002\n\n1\u3001\u56e0\u4e3a\u662f\u540e\u9762\u7684\u64cd\u4f5c\u8986\u76d6\u524d\u9762\u7684\u64cd\u4f5c\uff0c\u6240\u4ee5\u53ef\u4ee5\u4ece\u540e\u5f80\u524d\u64cd\u4f5c\uff0c\u5982\u679c\u76ee\u6807\u533a\u57df\u88ab\u8986\u76d6\u8fc7\u4e86\uff0c\u5c31\u65e0\u9700\u518d\u8986\u76d6\u3002\n\n2\u3001\u56e0\u4e3a\u64cd\u4f5c\u662f\u4e00\u4e2a\u533a\u57df\u6027\u7684\uff0c\u6240\u4ee5\u4e00\u5b9a\u662f\u8fde\u7eed\u7684\uff0c\u6240\u4ee5\u4ece\u5de6\u5f00\u59cb\uff0c\u4e00\u65e6\u627e\u5230\u4e00\u4e2a\u5df2\u7ecf\u8986\u76d6\u8fc7\u7684\u6570\uff0c\u5c31\u53ef\u4ee5break\u4e86\uff0c\u518d\u4ece\u53f3\u5f00\u59cb\uff0c\u627e\u5230\u7b2c\u4e00\u4e2a\u5df2\u7ecf\u8986\u76d6\u8fc7\u7684\u6570\uff0cbreak\u3002\n\n$Code$\n```cpp\n\tfor(i=m;i>=1;i--)\n\t{\n\t\ta=(i*p+q)%n+1,b=(i*q+p)%n+1;\n\t\tc=min(a,b),d=max(a,b);\n\t\tfor(j=c;j<=d;j++)\n\t\t{\n\t\t\tif(st[j]) break;\n\t\t\telse {\n\t\t\t\tst[j]=1;\n\t\t\t\ts[j]=i;\n\t\t\t}\n\t\t}\n\t\tfor(j=d;j>=c;j--)\n\t\t{\n\t\t\tif(st[j]) break;\n\t\t\telse {\n\t\t\t\tst[j]=1;\n\t\t\t\ts[j]=i;\n\t\t\t}\n\t\t}\n\t}\n```\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(N)$\uff0c\u671f\u671b\u5f97\u5206100\u5206\uff0c\u5b9e\u9645\u5f97\u5206100\u5206\n\n$Tips$\uff1a\u56e0\u4e3a\u53ea\u6709n\u4e2a\u70b9\u9700\u8981\u8986\u76d6\uff0c\u7136\u540e\u6bcf\u4e2a\u70b9\u53ea\u8986\u76d6\u4e00\u6b21\uff0c\u6240\u4ee5\u603b\u7684\u65f6\u95f4\u662f$O(N)$",
        "postTime": 1596686152,
        "uid": 225100,
        "name": "ice_in_sky",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    },
    {
        "content": "# \u5e76\u67e5\u96c6\u771f\u662f\u4e00\u4e2a\u7ef4\u62a4\u8fde\u901a\u6027\u7f8e\u5999\u7684\u6570\u636e\u7ed3\u6784\u554a\uff01\n\n\u6b64\u9898\u6211\u4eec\u89c2\u5bdf\u5230\u6bcf\u4e2a\u70b9\u67d3\u8272\u53ef\u80fd\u88ab\u4e0b\u4e00\u6b21\u67d3\u8272\u8986\u76d6\uff0c\u6240\u4ee5\u9996\u5148\u9700\u8981\u5c06\u4fee\u6539\u53cd\u5411\uff0c\u4f7f\u524d\u9762\u7684\u67d3\u8272\u70b9\u70b9\u4e0d\u80fd\u8986\u76d6\u540e\u9762\u7684\u67d3\u8272\u70b9\u4fdd\u8bc1\u6700\u540e\u4fee\u6539\u7684\u4e0d\u88ab\u8986\u76d6\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u6a21\u62df\u8fc7\u7a0b\u4e2d\u4e0b\u4e00\u6b21\u67d3\u54ea\u4e00\u4e2a\u7684\u989c\u8272\u4f7f\u7528\u5e76\u67e5\u96c6\u3002f[i]\u8868\u793a\u79bbi\u6700\u8fd1\uff0c\u4e0b\u6b21\u4fee\u6539\u5e94\u8be5\u88ab\u4fee\u6539\u5230\u7684\u70b9\u3002\u6700\u540e\u5c31\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6a21\u62df\u5566\u3002\n\n\u7531\u4e8e\u6bcf\u4e2a\u70b9\u6700\u591a\u88ab\u4fee\u6539\u4e00\u6b21\uff0c\u590d\u6742\u5ea6O(n).\n\n\u4e0a\u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<queue>\n#include<vector>\n#include<cstring>\n#include<cmath>\nusing namespace std;\n#define ll long long\n#define max(a,b) a>b?a:b\n#define min(a,b) a<b?a:b\nconst int maxn=1e6+7;\nvoid read(int &x)\n{\n  char c=getchar();\n x=0;\n  int flag=1;\n while(!isdigit(c))\n {\n   if(c=='-')flag=-1;\n   c=getchar();\n }\n while(isdigit(c))\n{\nx=x*10+c-48;\nc=getchar();\n}\n  x*=flag;\n}\nint n,m,p,q;\nint fa[maxn];\nint find(int x)\n{\n  if(x==fa[x])return x;\n  else\n  {\n    fa[x]=find(fa[x]);\n    return fa[x];\n  }\n}\nint color[maxn];\nint main()\n{\n  read(n),read(m),read(p),read(q);\n  for(int i=1;i<=n;i++)fa[i]=i;\n  for(int i=m;i>=1;i--)\n  {\n    int l=(i*p+q)%n+1;\n    int r=(i*q+p)%n+1;\n    if(l>r)swap(l,r);\n    for(int j=r;j>=l;)\n    {\n      int tb=find(j);\n      if(tb==j)\n      {\n        color[j]=i;\n        fa[j]=find(j-1);\n      }\n      j=fa[j];\n    }\n  }\n  for(int i=1;i<=n;i++)\n  {\n    cout<<color[i]<<endl;\n  }\n  return 0;\n}\n\n```",
        "postTime": 1509949380,
        "uid": 28053,
        "name": "aface0427",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    },
    {
        "content": "\u601d\u8def\u662f\u6302\u94fe+\u5806\u3002\n\n\u5148\u5faa\u73af\u51fa\u6bcf\u4e00\u4e2a\u4fee\u6539\u70b9\uff0c\u7136\u540e\u6302\u94fe\u4fdd\u5b58\u4fee\u6539\u3002\u5177\u4f53\u505a\u6cd5\u662f\u5c06\\[l,r,c\\]\u6302\u5728\u94fe\u8868l\u4e0a\uff0c\u4fdd\u5b58r\uff0cc\u5c31\u662f\u8282\u70b9\u7f16\u53f7\u3002\n\n\u7136\u540e\u5728\u8f93\u51fa\u7684\u65f6\u5019\uff0c\u904d\u5386\u6bcf\u4e00\u6761\u94fe\u8868\uff0c\u63d2\u5165\u5806\u4e2d\u3002\u5728\u5806\u4e2d\u6bcf\u4e00\u6b21\u53d6c\u6700\u5927\u7684\u4fee\u6539\uff0c\u5982\u679cr\u5c0f\u4e8ei\u5c31\u5f39\u51fa\u3002\n\n\u8fd8\u6709\u4e00\u4e2a\u5c0f\u4f18\u5316\uff0c\u5982\u679cr\u786e\u5b9a\uff0c\u5219c\u8d8a\u5927\u8d8a\u597d\u3002\u6240\u4ee5\u53ef\u4ee5\u540c\u65f6\u5b58\u4e0b\u6bcf\u4e00\u4e2ari\u5bf9\u5e94\u7684\u6700\u5927c\uff0c\u51cf\u5c11\u63d2\u5165\u64cd\u4f5c\u3002\n\n```cpp\n#include <queue>\n#include <cstdio>\nusing namespace std;\n\nint beg[1000005];\nint ri[10000005];\nint nxt[10000005];\nint qi[10000005];\n\nint maxi[1000005];\n\nint main()\n{\n\tint n,m,p,q;\n\tscanf(\"%d%d%d%d\",&n,&m,&p,&q);\n\tp %= n;\n\tq %= n;\n\t\n\tint l = q+1;\n\tint r = p+1;\n\tfor(int i=1; i<=m; ++i)\n\t{\n\t\tl += p; //\u7528+\u4ee3\u66ff*\uff0c-\u4ee3\u66ff%\uff0c\u51cf\u5c11\u5e38\u6570\n\t\tr += q;\n\t\t\n\t\tif(l>n)\n\t\t{\n\t\t\tl -= n;\n\t\t}\n\t\tif(r>n)\n\t\t{\n\t\t\tr -= n;\n\t\t}\n\t\t\n\t\tif(l<r)\n\t\t{\n\t\t\tri[i] = r;\n\t\t\tnxt[i] = beg[l];\n\t\t\tbeg[l] = i;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tri[i] = l;\n\t\t\tnxt[i] = beg[r];\n\t\t\tbeg[r] = i;\n\t\t}\n\t}\n\t\n\tpriority_queue<pair<int,int> > pq;\n\tfor(int i=1; i<=n; ++i)\n\t{\n\t\twhile(!pq.empty() && pq.top().second<i)\n\t\t{\n\t\t\tpq.pop();\n\t\t}\n\t\tfor(int p=beg[i]; p; p=nxt[p])\n\t\t{\n\t\t\tif(p > maxi[ri[p]]) //\u5c0f\u4f18\u5316\n\t\t\t{\n\t\t\t\tpq.push(make_pair(p,ri[p]));\n\t\t\t\tmaxi[ri[p]] = p;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!pq.empty())\n\t\t{\n\t\t\tprintf(\"%d\\n\",pq.top().first);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tprintf(\"0\\n\");\n\t\t}\n\t}\n}\n```",
        "postTime": 1563507733,
        "uid": 49458,
        "name": "\u6728\u6728\uff01",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    },
    {
        "content": "[Youngsc](http://youngscc.github.io/)\n\n\u697c\u4e0b\u8bf4\u4ed6\u4e00\u6765\u662f\u7528\u7684\u662f\u94fe\u8868\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u5199\u7684~~\u4e0d\u592a\u5bf9~~\u5c31\u6539\u6210\u5e76\u67e5\u96c6\u4e86\uff0c\u5176\u5b9e\u53cc\u5411\u94fe\u8868\u5bf9\u4e8e\u8fd9\u9053\u9898\u662f\u53ef\u505a\u7684\u3002\n\n\u4ece\u6700\u540e\u4e00\u4e2a\u64cd\u4f5c\u5f80\u524d\u626b\u8fd9\u4e2a\u4e0d\u7528\u591a\u8bf4\uff0c\u5f53\u6211\u4eec\u5bf9\u4e00\u4e2a\u533a\u95f4\u8fdb\u884c\u67d3\u8272\u4e4b\u540e\uff0c\u6211\u4eec\u5c31\u5c06\u5176\u4ece\u94fe\u8868\u4e2d\u5220\u9664\uff0c\u7136\u540e\u8fdb\u884c\u4e0b\u4e00\u6b21\u67d3\u8272\uff0c\u5982\u679c\u8bf4\u6b64\u65f6\u7684\u5de6\u7aef\u70b9\u5df2\u7ecf\u88ab\u5220\u9664\uff0c\u4f1a\u4e0d\u4f1a\u5f71\u54cd\u6211\u7684\u67d3\u8272\uff0c\u7b54\u6848\u662f\u4e0d\u4f1a\u7684\uff0c\u56e0\u4e3a\u94fe\u8868\u4e2d\u6240\u8c13\u7684\u5220\u9664\u65e0\u975e\u662f\u5c06\u4e24\u4e2a\u7aef\u70b9\u4e24\u8fb9\u7684\u8282\u70b9\u76f8\u4e92\u8fde\u63a5\u8d77\u6765\uff0c\u4e5f\u5c31\u662f\u8bf4\u6211\u867d\u7136\u4e0d\u80fd\u4ece\u4fdd\u7559\u4e0b\u6765\u7684\u8282\u70b9\u627e\u5230\u5df2\u7ecf\u5220\u9664\u8282\u70b9\uff0c\u56e0\u4e3a\u4ed6\u7684\u6307\u9488\u5df2\u7ecf\u6539\u53d8\uff0c\u4f46\u6211\u4f9d\u7136\u53ef\u4ee5\u4ece\u5df2\u7ecf\u5220\u9664\u7684\u8282\u70b9\u627e\u5230\u4fdd\u7559\u7684\u8282\u70b9\uff0c\u56e0\u4e3a\u6b64\u65f6\u7684\u6307\u9488\u5e76\u6ca1\u6709\u53d1\u751f\u6539\u53d8\uff0c\u6211\u53ea\u9700\u8981\u5224\u65ad\u6709\u6ca1\u6709\u67d3\u8fc7\u989c\u8272\u5c31\u884c\u4e86\u3002\u53f3\u7aef\u70b9\u5df2\u7ecf\u67d3\u8272\u540c\u7406\u3002\n\n\n## \u4ee3\u7801\u5982\u4e0b\n\n```cpp\n# include <algorithm>\n# include <iostream>\n# include <cstring>\n# include <cstdio>\n# include <queue>\n# include <cmath>\n# define R register\n# define LL long long\n\nusing namespace std;\n\nint n,m,col[1000010],pre[1000010],nxt[1000010],p,q;\n\ntemplate <typename T> void in(R T &a){\n    R char c = getchar();R T x=0,f=1;\n    while(!isdigit(c)) {if(c == '-') f=-1; c=getchar();}\n    while(isdigit(c)) x=(x<<1)+(x<<3)+c-'0',c = getchar();\n    a=x*f;\n}\n\ninline int youngsc(){\n    in(n),in(m),in(p),in(q);\n    for(R int i=1; i<=n; ++i)\n    {\n        nxt[i] = i+1;\n        pre[i] = i-1;\n    }\n    for(R int i=m; i>=1; --i)\n    {\n        R int l=(i*p+q)%n+1, r=(i*q+p)%n+1;\n        if(l>r) l^=r,r^=l,l^=r;\n        R int now = l;\n        while(now <= r)\n        {\n            if(!col[now]) col[now] = i;\n            now = nxt[now];\n        }\n        nxt[pre[l]] = nxt[r];\n        pre[nxt[r]] = pre[l];\n    }\n    for(R int i=1; i<=n; ++i) printf(\"%d\\n\",col[i]);\n    return 0;\n}\nint yg = youngsc();\nint main(){;}\n\n```",
        "postTime": 1506391864,
        "uid": 36282,
        "name": "Youngsc",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    },
    {
        "content": "# \u66b4\u529b\u78be\u6807\u7b97\u3002    \n\u601d\u8def\uff1a \u4ece\u540e\u5f80\u524d\u5bf9\u6bcf\u4e00\u4e2a\u70b9\u8fdb\u884c\u904d\u5386\uff01   \n\u76ee\u524d\u6700\u4f18\u89e3.    \n\u4e3b\u4f53\u4ee3\u780110\u884c\uff08\u5305\u62ec\u5934\u6587\u4ef6\u548c\u53d8\u91cf\u5b9a\u4e49\uff09    \n\u90a3\u5c31\u770b\u4e00\u6ce2\u4ee3\u7801\u5427.........  \n```\n#include<bits/stdc++.h>\ninline int read(){   //\u4ee5\u4e0b\u90e8\u5206\u90fd\u662f\u4f18\u5316\n\tint X=0;char ch=getchar();\n\twhile(!isdigit(ch)) ch=getchar();\n\twhile(isdigit(ch)) X=X*10+ch-'0',ch=getchar();\n\treturn X;\n}\nvoid print(int X){\n\tif(X>=10) print(X/10);\n\tputchar(X%10+'0');\n}\ninline int min(int a,int b){return a>b?b:a;}\ninline int max(int a,int b){return a<b?b:a;}    //\u4e0b\u9762\u5c31\u662f\u4e3b\u9898\u4ee3\u7801\u4e86\uff01\nint  a,b,c,d,e[1000002];\nint main(){\n\ta=read(),b=read(),c=read(),d=read();\n\tfor(int i=1;i<=a;++i)\n\t\tfor(int j=b;j>=0;j--)\n\t\t\tif((min((j*c+d)%a+1,(j*d+c)%a+1)<=i&&max((j*c+d)%a+1,(j*d+c)%a+1)>=i)||j==0){\n\t\t\t\tprint(j);putchar(10);break;\n\t\t\t}\n\treturn 0;\n}\n```",
        "postTime": 1538395109,
        "uid": 107101,
        "name": "Viston",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    },
    {
        "content": "\u6211\u8ba4\u4e3a\u8fd9\u9053\u9898\u6ca1\u6709\u5fc5\u8981\u7528\u94fe\u8868\u548c\u5e76\u67e5\u96c6\uff0c\u8fd9\u662f\u4e00\u9053\u6a21\u62df\u9898\uff0c\u6211\u4eec\u4ece\u540e\u5f80\u524d\u6765\u6a21\u62df\u6bcf\u6b21\u64cd\u4f5c\uff0c\u5bf9\u4e8e\u6bcf\u6b21\u64cd\u4f5c\uff0c\u66f4\u65b0\u533a\u95f4\u5de6\u53f3\u7aef\u70b9\uff0c\u76f4\u5230\u5176\u8986\u76d6\u6574\u4e2a\u533a\u95f4\uff0c\u8f93\u51fa\u7b54\u6848\u3002\u9644\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<iostream>\nusing namespace std;\nstruct node{\n    int l,r,va;\n}a[1000001];\nlong long n,m,p,q,tot,sum,b[1000001];\nint main()\n{\n    cin>>n>>m>>p>>q;\n    int k=m;\n    int xx=(m*p+q)%n+1;\n    int yy=(m*q+p)%n+1;\n    if(xx>yy)\n    {\n        swap(xx,yy);\n    }\n    sum+=yy-xx+1;\n    a[++tot].l=xx;\n    a[tot].r=yy;\n    a[tot].va=m;\n    k=m-1;\n    int left=xx,right=yy;\n    for(int k=m-1;k>=1;k--)\n    {\n        int x=(k*p+q)%n+1;\n        int y=(k*q+p)%n+1;\n        if(x>y)\n        {\n            swap(x,y);\n        }\n        if(x<left)\n        {\n            a[++tot].l=x;\n            a[tot].r=left-1;\n            a[tot].va=k;\n            if(k!=m)\n            {\n                sum+=left-x;\n            }\n            left=x;\n        }\n            if(y>right)\n        {\n            a[++tot].l=right+1;\n            a[tot].r=y;\n            a[tot].va=k;\n            if(k!=m)\n            {\n                sum+=y-right;\n            }\n            right=y;\n        }\n    }\n    for(int i=1;i<=tot;i++)\n    {\n        for(int j=a[i].l;j<=a[i].r;j++)\n        {\n            b[j]=a[i].va;\n        }\n    }\n    for(int i=1;i<=n;i++)\n    {\n        printf(\"%d\\n\",b[i]);\n    }\n    return 0;\n}\n```",
        "postTime": 1507203269,
        "uid": 45185,
        "name": "was_n",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2391 \u3010\u767d\u96ea\u7691\u7691\u3011"
    }
]