[
    {
        "content": "\u6dfb\u52a0\u4e86\u4e00\u4e9b\u8bf4\u660e\u5462 $ qwq $  \n\n\u54ce\u5440\uff0c\u4ece\u4eca\u5e74\u63d0\u9ad8\u7ec4\u6e38\u8fc7\u540e\uff0c\u6211\u6df1\u611f\u6a21\u62df\u7684\u91cd\u8981\u6027\uff01\n\n\u4e8e\u662f\u4fbf\u5199\u4e86\u8fd9\u9053\u5927\u6a21\u62df\uff0c\u501f\u6b64\u6765\u7ec3\u4e00\u4e0b\u624b\u611f\u3002\n\n\u597d\u4e86\uff0c\u8bdd\u4e0d\u591a\u8bf4\uff0c\u6211\u4eec\u8fdb\u5165\u6b63\u9898\uff1a\n\n\u9996\u5148\u770b\u5230\u8fd9\u9898\u540e\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u9898\u76ee\u8981\u6211\u4eec\u6c42\u6700\u5c0f\u7684\u8def\u5f84\u957f\u5ea6\u4e0e\u5176\u5bf9\u5e94\u7684\n\u5f00\u59cb\u70b9\u4e0e\u7ed3\u675f\u70b9\u3002\n\n\u5b9e\u9645\u53ea\u8981\u6c42\u51fa\u6700\u5c0f\u8def\u5f84\u5176\u4ed6\u5747\u53ef\u8fce\u5203\u800c\u89e3\u3002\n\n\u518d\u770b\u770b\u9898\u76ee\uff0c\u4f60\u4f1a\u53d1\u73b0\u4e00\u53e5\u5173\u952e\u7684\u8bdd\uff1a**\u6377\u5f84\u5fc5\u987b\u662f\u76f4\u7ebf\u3002**\n\n\u8fd9\u610f\u5473\u7740\u5c0f\u84c9\u84c9\u53ea\u53ef\u627e\u4e00\u6761\u7b14\u76f4\u7684\u6700\u77ed\u8def\u5f84\uff0c\u800c\u4e14\u5b83\u7684\u51fa\u53d1\u70b9\u4e0e\u7ed3\u675f\u70b9\u5fc5\u5b9a\u662f\u542b\u6709**\u76f8\u540c\u6a2a\u5750\u6807\u6216\u76f8\u540c\u7eb5\u5750\u6807**\u7684\uff01\n\n\u800c\u6211\u4eec\u600e\u4e48\u627e\u5230\u76f8\u540c\u6a2a\u5750\u6807\u6216\u76f8\u540c\u7eb5\u5750\u6807\u5462\uff0c\u4e0d\u96be\u60f3\u5230\uff0c\u53ea\u7528\u5bf9\u6a2a\u7eb5\u5750\u6807\u5206\u522b\u8fdb\u884c\u6392\u5e8f\u5373\u53ef\u3002\n\n\u800c\u53e6\u5916\u4e00\u4e2a\u5173\u4e8e\u51fa\u53d1\u70b9\u4e0e\u7ed3\u675f\u70b9\u7684\u95ee\u9898\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u70b9\u7f16\u53f7\u7684\u5927\u5c0f\uff08\u4e5f\u5c31\u662f\u5c0f\u84c9\u84c9\u5230\u8fbe\u7684\u5148\u540e\uff09\u6765\u5224\u65ad\u3002\n\n**\u7279\u522b\u63d0\u9192\uff1a** \u5982\u679c\u68c0\u7d22\u5230\u7684\u4e24\u4e2a\u70b9\u7f16\u53f7\u5dee\u4e3a\u4e00\uff08\u5b83\u4eec\u76f8\u90bb\uff09\uff0c\u5219\u5fc5\u8981\u820d\u5f03\u8fd9\u9898\u6700\u77ed\u8def\u7ecf\u3002\u4f60\u95ee\u4e3a\u4ec0\u4e48\uff1f\u56e0\u4e3a\u5b83\u4eec\u4e4b\u95f4\u5df2\u7ecf\u6709\u8def\u4e86\u554a\uff01\n\n\n\n**\u90a3\u672c\u9898\u5373\u53ef\u53d8\u4e3a\uff1a**\n\n* \u5728\u4e00\u5f20\u7ed9\u5b9a\u7684\u56fe\u4e2d\u627e\u5230\u6700\u77ed\u7684\u6709\u6a2a\u5750\u6807\u6216\u7eb5\u5750\u6807\u76f8\u540c\u7684\u4e24\u4e2a\u70b9\u7684\u8ddd\u79bb\uff0c\u6709\u591a\u7ec4\u60c5\u51b5\u65f6\uff0c\u9009\u8d77\u59cb\u70b9\u6700\u5c0f\u7684\uff1b\u82e5\u8fd8\u5b58\u5728\u591a\u7ec4\u60c5\u51b5\uff0c\u9009\u7ed3\u675f\u70b9\u6700\u5927\u7684\u3002\n\n\u5206\u6790\u7ed3\u675f~\n\n\u90a3\u4e4b\u540e\u5c31\u662f\u8f7b\u677e\u7684\u624b\u52a8\u6a21\u62df\u4e86\uff08\u901f\u5ea6\u98de\u5feb\uff09\u3002\n\n\u8fd8\u6709\u4e00\u4e9b\u5173\u952e\u70b9\u5728\u4ee3\u7801\u4e2d\u63d0\u5230\u3002\n![](https://cdn.luogu.com.cn/upload/image_hosting/k4ey9ysp.png)\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n; \nstring s;\nint minn=1e9;\nint here=1e9,to=-1e9;\nchar xiang;\nstruct node\n{\n\tint x;int y;\n\tint bian;\n}rong[250005];\nbool cmp1(node a,node b)\n{\n\treturn a.x<b.x || (a.x==b.x && a.y<b.y);\n}\nbool cmp2(node a,node b)\n{\n\treturn a.y<b.y || (a.y==b.y && a.x<b.x);\n}\n//\u4e24\u4e2a\u6392\u5e8f\uff0c\u4e0d\u7528\u591a\u8bf4\u3002\nvoid jx()\n{\n\tint tmp,a,b;\n\tchar er;\n\tfor(int i=1;i<=n-1;i++)\n\t{\n\t\tif(rong[i].x==rong[i+1].x)//\u627e\u5230\u76f8\u540c\u6a2a\u5750\u6807\u65f6\n\t\t{\n\t\t\ttmp=abs(rong[i].y-rong[i+1].y);//\u8bb0\u5f55\u8def\u5f84\u957f\u5ea6\n\t\t\tif(rong[i].bian<rong[i+1].bian)//\u6839\u636e\u7f16\u53f7\u5927\u5c0f\u5224\u65ad\u51fa\u53d1\u70b9\u4e0e\u7ec8\u70b9\n\t\t    {\n\t\t\t    a=rong[i].bian;\n\t\t\t    b=rong[i+1].bian;\t\t\n\t\t\t\tif(rong[i].y<rong[i+1].y) er='N';//\u522b\u5fd8\u4e86\u65b9\u5411\u8bb0\u5f55\n\t\t\t\telse er='S';\n                \n\t\t    }\n\t\t    else //\u540c\u7406\n\t\t    {\n\t\t\t    a=rong[i+1].bian;\n\t\t\t    b=rong[i].bian;\t\t\n\t\t\t\tif(rong[i+1].y<rong[i].y) er='N';\n\t\t\t\telse er='S';\n\t\t    }\n\t\t\tif(a+1==b) continue;//\u5982\u679c\u7f16\u53f7\u76f8\u90bb\u5219\u5df2\u6709\u8def\u5f84\uff0c\u820d\u53bb\n\t\t\tif(minn==tmp)//\u8fdb\u884c\u6700\u7ec8\u51b3\u7b56\n\t\t\t{\n\t\t\t\tif(here>a) \n\t\t\t\t{\n\t\t\t\t\tminn=tmp; here=a; to=b; xiang=er;\n\t\t\t\t}\n\t\t\t\telse if(here==a)\n\t\t\t\t{\n\t\t\t\t\tif(b>to)\n\t\t\t\t    {\n\t\t\t\t    \tminn=tmp; here=a; to=b; xiang=er;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(minn>tmp)\n\t\t\t{\n\t\t\t\tminn=tmp; here=a; to=b; xiang=er;\n\t\t\t}\n            \n\t    }\t\n\t}\n}\nvoid jy()\n{\n\tint tmp,a,b;\n\tchar er;\n\tfor(int i=1;i<=n-1;i++)\n\t{\n\t\tif(rong[i].y==rong[i+1].y)//\u627e\u5230\u76f8\u540c\u7eb5\u5750\u6807\u65f6\n\t\t{\n\t\t\ttmp=abs(rong[i].x-rong[i+1].x);//\u8bb0\u5f55\u8def\u5f84\u957f\u5ea6\n\t\t\tif(rong[i].bian<rong[i+1].bian)//\u6839\u636e\u7f16\u53f7\u5927\u5c0f\u5224\u65ad\u51fa\u53d1\u70b9\u4e0e\u7ec8\u70b9\n\t\t    {\n\t\t\t    a=rong[i].bian;\n\t\t\t    b=rong[i+1].bian;\t\t\n\t\t\t\tif(rong[i].x<rong[i+1].x) er='E';//\u522b\u5fd8\u4e86\u65b9\u5411\u8bb0\u5f55\n\t\t\t\telse er='W';\n\t\t    }\n\t\t    else //\u540c\u7406\n\t\t    {\n\t\t\t    a=rong[i+1].bian;\n\t\t\t    b=rong[i].bian;\t\t\n\t\t\t\tif(rong[i+1].x<rong[i].x) er='E';\n\t\t\t\telse er='W';\n\t\t    }\n\t\t\tif(a+1==b) continue;//\u5982\u679c\u7f16\u53f7\u76f8\u90bb\u5219\u5df2\u6709\u8def\u5f84\uff0c\u820d\u53bb\n\t\t\tif(minn==tmp)//\u8fdb\u884c\u6700\u7ec8\u51b3\u7b56\n\t\t\t{\n\t\t\t\tif(here>a) \n\t\t\t\t{\n\t\t\t\t\tminn=tmp; here=a; to=b; xiang=er;\n\t\t\t\t}\n\t\t\t\telse if(here==a)\n\t\t\t\t{\n\t\t\t\t\tif(b>to)\n\t\t\t\t    {\n\t\t\t\t    \tminn=tmp; here=a; to=b; xiang=er;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(minn>tmp)\n\t\t\t{\n\t\t\t\tminn=tmp; here=a; to=b; xiang=er;\n\t\t\t}\n\t    }\t\n\t}\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tcin>>s;\n\trong[0].x=250005;rong[0].y=250005;//\u9632\u6b62\u51fa\u73b0\u8d1f\u6570\u3002\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tint k=i+1;\n\t\trong[k].bian=k;\n\t\trong[k].x=rong[k-1].x;\n\t\trong[k].y=rong[k-1].y;\n\t\tif(s[i]=='N') rong[k].y++;\n\t    if(s[i]=='W') rong[k].x--;\n\t    if(s[i]=='E') rong[k].x++;\n\t    if(s[i]=='S') rong[k].y--;\n\t}\n\tsort(rong+1,rong+1+n,cmp1);//\u6a2a\u5750\u6807\u6392\u5e8f\u3002\n\tjx();//\u67e5\u627e\u3002\n\tsort(rong+1,rong+1+n,cmp2);//\u7eb5\u5750\u6807\u6392\u5e8f\u3002\n\tjy();//\u67e5\u627e\u3002\n\tcout<<minn<<\" \"<<here<<\" \"<<to<<\" \"<<xiang;\n\treturn 0;\n}\n```\n\n\n\u5b8c\u7ed3\u6492\u82b1 $QAQ$\n\n\u6c42\u8d5e\u8d5e\uff01\n\n\n\n\n\n\n\n",
        "postTime": 1605325150,
        "uid": 307416,
        "name": "Ice_Kiss\u10e6",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1686 \u3010\u6311\u6218\u3011"
    },
    {
        "content": "[\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/P1686)\n# \u524d\u7f6e\u77e5\u8bc6\t\n\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb $x_A=x_B$ \u65f6\uff0c\u82e5\uff08 $y_A>y_B$ \uff09\uff0c $AB = y_A - y_B$ \uff0c\u53cd\u4e4b\u4ea6\u7136\u3002\n $y_A=y_B$ \u65f6\uff0c\u540c\u7406\u3002\n# \u89e3\u9898\u601d\u8def\n\u5728\u9898\u76ee\u63cf\u8ff0\u4e2d\uff0c\u6709\u8fd9\u6837\u4e00\u53e5\u8bdd\uff1a\n\n>  **\u6ce8\u610f\uff1a\u6377\u5f84\u5fc5\u987b\u662f\u76f4\u7ebf\u3002**  \n> \n\u6240\u4ee5\uff0c\u8d77\u70b9\u7ec8\u70b9\u5750\u6807\u8981\u4e48 $x$ \u5750\u6807\uff0c\u8981\u4e48 $y$ \u5750\u6807\u76f8\u540c\n\u90a3\u8fd9\u9053\u9898\u5c31\u53d8\u5f97\u7b80\u5355\u591a\u4e86\u3002\n\u6a2a\u7eb5\u5750\u6807**\u5206\u522b\u6c42\u4e00\u6b21**\u5c31\u53ef\u4ee5\u4e86\uff0c\u627e\u5230\u6bcf\u4e00\u5bf9 $x$ \u6216 $y$ \u5750\u6807\u76f8\u540c\u7684\u70b9\uff0c\u627e\u5230\u5176\u4e2d\u7684\u6700\u77ed\u8ddd\u79bb\u5373\u53ef\u3002\n\n**\u6ce8\u610f\uff1a\u4e0d\u80fd\u51fa\u73b0\u672c\u6765\u5c31\u53ef\u4ee5\u7531\u8d77\u70b9\u8d70\u5411\u7ec8\u70b9\u7684\u201c\u6377\u5f84\u201d\uff0c\u5373\u4e24\u70b9\u76f8\u90bb\uff08\u7f16\u53f7\u5dee\u503c\u4e3a1\uff09\u7684\u60c5\u51b5\u3002**\n\u56e0\u4e3a\u9700\u8981\u6392\u5e8f\uff0c\u6211\u4eec\u5f00\u4e00\u4e2a\u7ed3\u6784\u4f53\u5b58\u50a8\u6bcf\u4e00\u4e2a\u70b9\u7684 $x$ \u3001 $y$ \u5750\u6807\u548c\u7f16\u53f7\u3002\n```cpp\nstruct node{\n\tint x,y,id;\n}s[250050];\n```\n---\n\u6392\u5e8fx\u5750\u6807\n```cpp\nbool cmp1(node a,node b){\n\treturn a.x<b.x||(a.x==b.x&&a.y<b.y);\n}\n```\n\u6392\u5e8fy\u5750\u6807\uff0c\u540c\u7406\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u8bb2\u4ee3\u7801\u7684**\u6700\u6700\u6700\u6700\u6700\u91cd\u70b9\u90e8\u5206**\uff0c\u5224\u65ad\u70b9\u4e0e\u70b9\u4e4b\u95f4\u662f\u5426\u6709\u201c\u6377\u5f84\u201d\uff0c\u5e76\u5b58\u50a8\u7b26\u5408\u9898\u76ee\u7684\u6700\u4f18\u201c\u6377\u5f84\u201d\u3002\n\u8fd9\u91cc\u7ed3\u5408\u5206\u6790**\u5357\u5317\u65b9\u5411\u4e0a**\u7684\u201c\u6377\u5f84\u201d\u7684\u4ee3\u7801\u6ce8\u91ca\u8fdb\u884c\u5206\u6790\u3002\n```cpp\nsort(s+1,s+1+n,cmp1); \ndista = 250005;\nfor(int i=1;i<n;i++){\n\tif(s[i].x!=s[i+1].x||abs(s[i].id-s[i+1].id)==1) continue;\n\t//\u4e24\u70b9x\u5750\u6807\u4e0d\u76f8\u540c\uff0c\u65e0\u6cd5\u5f62\u6210\u6377\u5f84\n\t//\u4e24\u70b9\u76f8\u90bb\uff0c\u65e0\u6cd5\u5f62\u6210\u6377\u5f84\n\tint d,sta,end;//sta \u8d77\u70b9 end \u7ec8\u70b9\n\tchar dire;//\u65b9\u5411\n\td = s[i+1].y - s[i].y;//\u4e24\u70b9\u8ddd\u79bb\n\tif(s[i].id<s[i+1].id){\n\t\tsta = s[i].id;\n\t\tend = s[i+1].id;\n\t\tdire = 'N';\n\t}\n\telse{\n\t\tsta = s[i+1].id;\n\t\tend = s[i].id;\n\t\tdire = 'S';\n\t}\n\tif((d<dista) || (d==dista&&sta<id_start) || (d==dista&&sta==id_start&&end>id_end)){//\u82e5\u7b26\u5408\u9898\u76ee\u6761\u4ef6\uff0c\u5b58\u50a8\n\t\tdista = d;//\u6700\u77ed\u8ddd\u79bb\n\t\tid_start = sta;//\u6700\u4f18\u6377\u5f84\u7684\u8d77\u70b9\n\t\tid_end = end;//\u6700\u4f18\u6377\u5f84\u7684\u7ec8\u70b9\n\t\tdirection = dire;//\u6700\u4f18\u6377\u5f84\u7684\u65b9\u5411\n\t}\n}\n```\n**\u4e1c\u897f\u65b9\u5411\u4e0a**\u7684\u5206\u6790\u540c\u7406\uff0c\u4ee3\u7801\u4e0e\u4e0a\u6587\u4ee3\u7801\u76f8\u4f3c\uff0c\u4e0d\u518d\u91cd\u590d\u5206\u6790\u3002\n\n**\u6ce8\u610f\uff1a\u672c\u9898\u5728\u8f93\u5165\u5b57\u7b26\u4e32\u65f6\u9700\u8981\u505a\u5224\u65ad\u662f\u5426\u4e3a\u201cNSEW\u201d\u5b57\u7b26\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u8bc6\u522b\u6362\u884c\u7b26\uff0c\u5bfc\u81f4\u6700\u7ec8\u7ed3\u679c\u51fa\u9519\u3002**\n```cpp\nch = getchar();\nwhile(ch<'A'||ch>'Z') ch = getchar();\n```\n# \u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\n#include<cstdlib>\nusing namespace std;\nstruct node{\n\tint x,y,id;\n}s[250050];\nint n,dista,id_start,id_end;\nchar direction;\nbool cmp1(node a,node b){\n\treturn a.x<b.x||(a.x==b.x&&a.y<b.y);\n}\nbool cmp2(node a,node b){\n\treturn a.y<b.y||(a.y==b.y&&a.x<b.x);\n}\nint main(){\n\tcin>>n;\n\ts[0].x = s[0].y = s[0].id = 0;\n\tfor(int i=1;i<=n;i++){\n\t\tchar ch;\n\t\tch = getchar();\n\t\twhile(ch<'A'||ch>'Z') ch = getchar();\n\t\tif(ch=='N'){\n\t\t\ts[i].x = s[i-1].x;\n\t\t\ts[i].y = s[i-1].y+1;\n\t\t}\n\t\telse if(ch=='S'){\n\t\t\ts[i].x = s[i-1].x;\n\t\t\ts[i].y = s[i-1].y-1;\n\t\t}\n\t\telse if(ch=='W'){\n\t\t\ts[i].x = s[i-1].x-1;\n\t\t\ts[i].y = s[i-1].y;\n\t\t}\n\t\telse if(ch=='E'){\n\t\t\ts[i].x = s[i-1].x+1;\n\t\t\ts[i].y = s[i-1].y;\n\t\t}\n\t\ts[i].id = i;\n\t}\n\tsort(s+1,s+1+n,cmp1); \n\tdista = 250005;\n\tfor(int i=1;i<n;i++){\n\t\tif(s[i].x!=s[i+1].x||abs(s[i].id-s[i+1].id)==1) continue;\n\t\tint d,sta,end;\n\t\tchar dire;\n\t\td = s[i+1].y - s[i].y;\n\t\tif(s[i].id<s[i+1].id){\n\t\t\tsta = s[i].id;\n\t\t\tend = s[i+1].id;\n\t\t\tdire = 'N';\n\t\t}\n\t\telse{\n\t\t\tsta = s[i+1].id;\n\t\t\tend = s[i].id;\n\t\t\tdire = 'S';\n\t\t}\n\t\tif((d<dista) || (d==dista&&sta<id_start) || (d==dista&&sta==id_start&&end>id_end)){\n\t\t\tdista = d;\n\t\t\tid_start = sta;\n\t\t\tid_end = end;\n\t\t\tdirection = dire;\n\t\t}\n\t}\n\t\n\tsort(s+1,s+1+n,cmp2);\n\tfor(int i=1;i<n;i++){\n\t\tif(s[i].y!=s[i+1].y||abs(s[i].id-s[i+1].id)==1) continue;\n\t\tint d,sta,end;\n\t\tchar dire;\n\t\td = s[i+1].x-s[i].x;\n\t\tif(s[i].id<s[i+1].id){\n\t\t\tsta = s[i].id;\n\t\t\tend = s[i+1].id;\n\t\t\tdire = 'E';\n\t\t}\n\t\telse{\n\t\t\tsta = s[i+1].id;\n\t\t\tend = s[i].id;\n\t\t\tdire = 'W';\n\t\t}\n\t\tif((d<dista) || (d==dista&&sta<id_start) || (d==dista&&sta==id_start&&end>id_end)){\n\t\t\tdista = d;\n\t\t\tid_start = sta;\n\t\t\tid_end = end;\n\t\t\tdirection = dire;\n\t\t}\n\t}\n\tprintf(\"%d %d %d %c\",dista,id_start,id_end,direction);\n\treturn 0;\n}\n```",
        "postTime": 1652539839,
        "uid": 365472,
        "name": "caizehua",
        "ccfLevel": 0,
        "title": "P1686 \u6311\u6218 \u9898\u89e3"
    },
    {
        "content": "#### \u5199\u5728\u524d\u9762\n\u8fd9\u9053\u9898\u6709\u70b9\u6c34\uff0c\u4e0d\u5e94\u8be5\u662f\u7d2b\u9898\u96be\u5ea6\u3002\u800c\u4e14\u4e5f\u4e0d\u50cf\u662f\u4e00\u9053\u6a21\u62df\u9898 : )\n\n------------\n\n\u6700\u77ed\u6377\u5f84\u662f\u6377\u5f84\u6700\u77ed\u800c\u4e0d\u662f\u603b\u957f\u5ea6\u6700\u77ed\uff01\uff01\uff01\n\n\u6700\u77ed\u6377\u5f84\u662f\u6377\u5f84\u6700\u77ed\u800c\u4e0d\u662f\u603b\u957f\u5ea6\u6700\u77ed\uff01\uff01\uff01\n\n\u6700\u77ed\u6377\u5f84\u662f\u6377\u5f84\u6700\u77ed\u800c\u4e0d\u662f\u603b\u957f\u5ea6\u6700\u77ed\uff01\uff01\uff01\n\n\u91cd\u8981\u7684\u4e8b\u60c5\u8bf4\u4e09\u904d ~~(\u522b\u95ee\u6211\u4e3a\u4ec0\u4e48\u89c9\u5f97\u91cd\u8981)~~\n\n[\u6700\u77ed\u6377\u5f84\u7684\u89e3\u91ca](https://www.luogu.com.cn/discuss/438377)\n\n### \u5206\u6790\n\n\u505a\u6a21\u62df\u9898\u6700\u91cd\u8981\u7684\u662f**\u7406\u6e05\u695a\u9898\u610f**\n\n\u9898\u610f\u7b80\u5316\uff1a\n\n\u7ed9\u4f60\u4e00\u4e9b\u70b9\uff0c\u8ba9\u4f60\u6c42\u51fa\u6a2a\u5750\u6807\u6216\u7eb5\u5750\u6807\u76f8\u540c\u7684\u70b9\u4e4b\u95f4\u7684\u6700\u77ed\u8ddd\u79bb(**\u6743\u91cd\u4e3a:1.\u8ddd\u79bb 2.\u8d77\u59cb\u70b9\u7684\u7f16\u53f7 3.\u7ec8\u6b62\u70b9\u7684\u7f16\u53f7**)\n\n\u7531\u4e8e $x,y$ \u4e4b\u95f4\u4e0d\u4f1a\u4e92\u76f8\u5f71\u54cd\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5206\u5f00\u505a~\n\n\u7528 `sqrt` \u6309\u627e $x,y$ \u5206\u522b\u6392\u5e8f\n\n```cpp\nstruct node\n{\n\tint x,y,num;//num\u4e3a\u5f53\u524d\u70b9\u7684\u7f16\u53f7\uff0c\u76f8\u8fde\u7684\u70b9 \n}k[350003];\nbool cmpx(node a,node b){return (a.x<b.x)||(a.x==b.x&&a.y<b.y);}\nbool cmpy(node a,node b){return (a.y<b.y)||(a.y==b.y&&a.x<b.x);}\n//x\u548cy\u7684cmp\n```\n\n\u6392\u5e8f\u540e**\u53ea\u9700\u8981\u6bd4\u5bf9\u4e34\u8fd1\u7684\u4e24\u70b9**\u5373\u53ef,\u5373 `k[i].x(y)` \u4e0e `k[i+1].x(y)`\u3002\n\n\u5982\u679c\u4e24\u70b9\u4e4b\u95f4\u6709\u8fde\u7ebf\uff0c\u5373 `abs(k[i].num-k[i+1].num) =1`\uff0c`continue` \u5373\u53ef\u3002\n\n\u67e5\u627e\uff1a\n\n```cpp\nvoid fx()\n{\n\tchar f2;\n\tint a1,f1,t1;\n\tsort(k,k+n+1,cmpx);\n\tfor(int i=0;i<=n-1;i++)\n\t{\n\t\tif(k[i].x==k[i+1].x)\n\t\t{\n\t\t\tif(abs(k[i].num-k[i+1].num)==1)continue;//\u4e24\u70b9\u4e4b\u95f4\u6709\u8fde\u7ebf\n\t\t\ta1=abs(k[i].y-k[i+1].y);//\u4e24\u70b9\u8ddd\u79bb\n\t\t\tint s,t;\n\t\t\tif(k[i].num<k[i+1].num)s=i,t=i+1;//\u5224\u65ad\u8c01\u662ffrom\uff0c\u8c01\u662fto\n            \t\t//s\u5b58\u50a8from\u7684\u7f16\u53f7,t\u5b58\u50a8to\u7684\u7f16\u53f7\n\t\t\telse s=i+1,t=i;\n\t\t\tf1=k[s].num;\n\t\t\tt1=k[t].num;\n\t\t\tif(k[s].y<k[t].y)f2='E';//\u5224\u65ad\u65b9\u5411\n\t\t\telse f2='W';\n\t\t\tif(ans==a1)//\u5224\u65ad\u662f\u5426\u9700\u8981\u66ff\u6362\u7b54\u6848\n\t\t\t{\n\t\t\t\tif(from>f1)ans=a1,from=f1,to=t1,face=f2;\n\t\t\t\telse if(from==f1&&to<t1)ans=a1,from=f1,to=t1,face=f2;\n\t\t\t}\n\t\t\tif(ans>a1)ans=a1,from=f1,to=t1,face=f2;\n\t\t}\n\t}\n}\nvoid fy()//\u4e0efx()\u51e0\u4e4e\u4e00\u6837\n{\n\tchar f2;\n\tint a1,f1,t1;\n\tsort(k,k+n+1,cmpy);\n\tfor(int i=0;i<=n-1;i++)\n\t{\n\t\tif(k[i].y==k[i+1].y)\n\t\t{\n\t\t\tif(abs(k[i].num-k[i+1].num)==1)continue;\n\t\t\ta1=abs(k[i].x-k[i+1].x);\n\t\t\tint s,t;\n\t\t\tif(k[i].num<k[i+1].num)s=i,t=i+1;\n\t\t\telse s=i+1,t=i;\n\t\t\tf1=k[s].num;\n\t\t\tt1=k[t].num;\n\t\t\tif(k[s].x<k[t].x)f2='N';\n\t\t\telse f2='S';\n\t\t\tif(ans==a1)\n\t\t\t{\n\t\t\t\tif(from>f1)ans=a1,from=f1,to=t1,face=f2;\n\t\t\t\telse if(from==f1&&to<t1)ans=a1,from=f1,to=t1,face=f2;\n\t\t\t}\n\t\t\tif(ans>a1)ans=a1,from=f1,to=t1,face=f2;\n\t\t}\n\t}\n}\n```\n\n\u8c22\u8c22\u4f60\u770b\u5230\u8fd9\u91cc~\n\u4e0b\u9762\u4e0a\u5168\u90e8\u4ee3\u7801\n\n\n------------\n\nCode\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read()\n{\n\tint f=1,x=0;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=x*10+(ch-'0');ch=getchar();}\n\treturn f*x;\n}\nconst int ho=250003;//ho\u662f\u4e3a\u4e86\u907f\u514d\u51fa\u73b0\u8d1f\u7684\u5750\u6807\nint n;\nint ans=1e8,from=1e8,to=-1e8;//\u4e00\u5b9a\u8981\u4ed8\u521d\u503c\u4e0d\u7136\u4f1a\u6b7b\u5f97\u5f88\u60e8~\nchar face;\nstring c;\nint nx=ho,ny=ho,x=ho,y=ho;\nstruct node\n{\n\tint x,y,num;\n}k[350003];\nbool cmpx(node a,node b){return (a.x<b.x)||(a.x==b.x&&a.y<b.y);}\nbool cmpy(node a,node b){return (a.y<b.y)||(a.y==b.y&&a.x<b.x);}\nvoid fx()\n{\n\tchar f2;\n\tint a1,f1,t1;\n\tsort(k,k+n+1,cmpx);\n\tfor(int i=0;i<=n-1;i++)\n\t{\n\t\tif(k[i].x==k[i+1].x)\n\t\t{\n\t\t\tif(abs(k[i].num-k[i+1].num)==1)continue;\n\t\t\ta1=abs(k[i].y-k[i+1].y);\n\t\t\tint s,t;\n\t\t\tif(k[i].num<k[i+1].num)s=i,t=i+1;\n\t\t\telse s=i+1,t=i;\n\t\t\tf1=k[s].num;\n\t\t\tt1=k[t].num;\n\t\t\tif(k[s].y<k[t].y)f2='E';\n\t\t\telse f2='W';\n\t\t\tif(ans==a1)\n\t\t\t{\n\t\t\t\tif(from>f1)ans=a1,from=f1,to=t1,face=f2;\n\t\t\t\telse if(from==f1&&to<t1)ans=a1,from=f1,to=t1,face=f2;\n\t\t\t}\n\t\t\tif(ans>a1)ans=a1,from=f1,to=t1,face=f2;\n\t\t}\n\t}\n}\nvoid fy()\n{\n\tchar f2;\n\tint a1,f1,t1;\n\tsort(k,k+n+1,cmpy);\n\tfor(int i=0;i<=n-1;i++)\n\t{\n\t\tif(k[i].y==k[i+1].y)\n\t\t{\n\t\t\tif(abs(k[i].num-k[i+1].num)==1)continue;\n\t\t\ta1=abs(k[i].x-k[i+1].x);\n\t\t\tint s,t;\n\t\t\tif(k[i].num<k[i+1].num)s=i,t=i+1;\n\t\t\telse s=i+1,t=i;\n\t\t\tf1=k[s].num;\n\t\t\tt1=k[t].num;\n\t\t\tif(k[s].x<k[t].x)f2='N';\n\t\t\telse f2='S';\n\t\t\tif(ans==a1)\n\t\t\t{\n\t\t\t\tif(from>f1)ans=a1,from=f1,to=t1,face=f2;\n\t\t\t\telse if(from==f1&&to<t1)ans=a1,from=f1,to=t1,face=f2;\n\t\t\t}\n\t\t\tif(ans>a1)ans=a1,from=f1,to=t1,face=f2;\n\t\t}\n\t}\n}\nint main()\n{\n\tn=read();\n\tk[0].x=ho;\n\tk[0].y=ho;\n\tk[0].num=0;\n\tcin>>c;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tif(c[i-1]=='N')nx++;\n\t\telse if(c[i-1]=='S')nx--;\n\t\telse if(c[i-1]=='E')ny++;\n\t\telse if(c[i-1]=='W')ny--;\n\t\tk[i].x=nx;\n\t\tk[i].y=ny;\n\t\tk[i].num=i;\n\t}\n\tfx();\n\tfy();\n\tcout<<ans<<\" \"<<from<<\" \"<<to<<\" \"<<face<<endl;\n\treturn 0;\n}\n```\n\n\n\n------------\n\n**\u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\uff0c\u8bfb\u5165\u65b9\u5411\u6700\u597d\u4f7f\u7528string\uff0c\u7528char\u53ef\u80fd\u4f1a\u51fa\u73b0\u83ab\u540d\u5176\u5999\u7684\u9519\u8bef\u3002** ~~(\u522b\u95ee\u6211\u600e\u4e48\u77e5\u9053\u7684)~~\n\n\u5b8c\u7ed3\u6492\u82b1~\u8c22\u8c22\u89c2\u770b",
        "postTime": 1652347048,
        "uid": 331947,
        "name": "hegm",
        "ccfLevel": 0,
        "title": "P1686 \u6311\u6218 \u9898\u89e3"
    },
    {
        "content": "## \u7b2c\u4e00\u7bc7\u9898\u89e3\uff1f\n\n### \u8bdd\u8bf4\u4ece\u6765\u6ca1\u4e3a\u7070\u9898\u5199\u8fc7\u9898\u89e3\u8bf6\n\n## \u597d\u5427\u5f00\u59cb\u8fdb\u5165\u6b63\u9898\n\n\u9996\u5148\u56e0\u4e3a\u9898\u76ee\u4e2d\u51fa\u4e86\u4e00\u70b9\u5c94\u5b50\uff0c\u5bfc\u81f4\u6709\u4e00\u5f20\u56fe\u6ca1\u6709\u663e\u793a\u3002\u4e0d\u8fc7\u6ca1\u5173\u7cfb\uff0c\u8fd9\u9053\u9898\u76ee\u7684\u5927\u610f\u5c31\u662f\uff1a\n\n\u4f60\u6709$n$\u4e2a\u64cd\u4f5c\uff0c\u6bcf\u4e2a\u64cd\u4f5c\u4f7f\u4f60\u5411\u56db\u4e2a\u65b9\u5411\u79fb\u52a81\u683c\uff0c\u4f60\u8981\u627e\u5230\u4e24\u4e2a\u6b21\u5e8f\u4e0d\u76f8\u90bb\u4f46\u5750\u6807\u4f4d\u4e8e\u540c\u4e00\u5e73\u884c\u4e0e\u5750\u6807\u8f74\u7684\u76f4\u7ebf\u4e0a\u7684\u70b9\u3002\n\n~~\u4ec0\u4e48\uff0c\u770b\u4e0d\u61c2\uff1f~~\n\n\u90a3\u6211\u4eec\u76f4\u63a5\u5f00\u59cb\u8bb2\u7a0b\u5e8f\n\n\u9996\u5148\u6211\u4eec\u5bf9\u5750\u6807\u8fdb\u884c\u6392\u5e8f\uff0c\u5206\u522b\u6309$x$\u548c$y$\u6392\u3002\u6211\u4eec\u5148\u5bf9\u4e1c\u897f\u8d70\u5411\u7684\u8fdb\u884c\u64cd\u4f5c\uff0c\u518d\u5bf9\u5357\u5317\u8d70\u5411\u7684\u8fdb\u884c\u64cd\u4f5c\u3002\n\n\u5f53\u4e24\u70b9$x$\u5750\u6807\u6216$y$\u5750\u6807\u76f8\u540c\u65f6\uff0c\u5c31\u5224\u65ad\u4e24\u70b9\u7684\u8ddd\u79bb\uff08\u5c31\u662f\u6377\u5f84\u957f\u5ea6\uff09\uff0c\u5982\u679c\u8fd9\u4e24\u70b9\u539f\u6765\u4e0d\u662f\u76f8\u90bb\u7684\uff0c\u90a3\u4e48\u5c31\u8bb0\u5f55\u4e0b\u6765\u3002\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\nstruct node{\n    int num,x,y;\n}a[1111111];\nint n,l,r,ll,rr;\nint ans;\nchar dir,d,ch;\nbool cmp1(node xx,node yy){//stl\u7528\uff0c\u4f46\u6700\u540e\u5220\u6389\u4e86\uff08\u65b9\u4fbfpascal\u515a\uff09\n    return xx.x<yy.x || xx.x==yy.x && xx.y<yy.y;\n}\nbool cmp2(node xx,node yy){\n    return xx.y<yy.y || xx.y==yy.y && xx.x<yy.x;\n}\nvoid qsort1(int l,int r){//\u8fd9\u624d\u662f\u771f\u6b63\u7684\u5feb\u6392\uff0c\u6309x\u6392\u5e8f\n    int i=l,j=r;\n    node k=a[(l+r)/2];\n    do{\n        while ((a[i].x<k.x)||((a[i].x==k.x)&&(a[i].y<k.y))) i++;\n        while ((a[j].x>k.x)||((a[j].x==k.x)&&(a[j].y>k.y))) j--;\n        if (i<=j){\n            node t=a[i];a[i]=a[j];a[j]=t;\n            i++;j--;\n        }\n    }while (!(i>j));\n    if (i<r) qsort1(i,r);\n    if (j>l) qsort1(l,j);\n}\nvoid qsort2(int l,int r){//\u6309y\u6392\u5e8f\n    int i=l,j=r;\n    node k=a[(l+r)/2];\n    do{\n        while ((a[i].y<k.y)||((a[i].y==k.y)&&(a[i].x<k.x))) i++;\n        while ((a[j].y>k.y)||((a[j].y==k.y)&&(a[j].x>k.x))) j--;\n        if (i<=j){\n            node t=a[i];a[i]=a[j];a[j]=t;\n            i++;j--;\n        }\n    }while (!(i>j));\n    if (i<r) qsort2(i,r);\n    if (j>l) qsort2(l,j);\n}\nint init(){\n    scanf(\"%d\",&n);\n    for (int i=1;i<=n;++i){\n        scanf(\"%c\",&ch);\n        while (ch!='W' && ch!='N' && ch!='S' && ch!='E') scanf(\"%c\",&ch);//\u6ce8\u610f\uff0c\u8fd9\u53e5\u8bdd\u5fc5\u987b\u52a0\uff0c\u5426\u5219\u53ea\u80fd\u62ff80\u5206\uff01\uff01\uff01\uff01\uff01\n        a[i]=a[i-1];\n        a[i].num=i;//\u8fd9\u4e2a\u70b9\u7684\u5e8f\u53f7\n        if (ch=='E') a[i].y++;\n        else if (ch=='W') a[i].y--;\n        else if (ch=='N') a[i].x++;\n        else if (ch=='S') a[i].x--;//\u6a21\u62df\u4e3b\u4eba\u516c\u7684\u8d70\u52a8\uff0c\u83b7\u5f97\u4ed6\u7684\u5750\u6807\n    }\n}\nbool pd(int x,int y,int z){//\u5224\u65ad\u65b0\u7684\u89e3\u662f\u5426\u6ee1\u8db3\u9898\u76ee\u4e2d\u6742\u4e03\u6742\u516b\u7684\u6761\u4ef6\n    if (x<ans) return(true);\n    if (x>ans) return(false);\n    if (l>y) return(true);\n    if (l<y) return(false);\n    if (r<z) return(true);\n    return(false);\n}\nvoid doing1(){//\u4e24\u70b9x\u5750\u6807\u76f8\u540c\n    for (int i=1;i<n;++i){\n        if (a[i].x==a[i+1].x){\n            int dis=a[i+1].y-a[i].y;//\u4e24\u70b9\u7684\u8ddd\u79bb\n            if (a[i].num<a[i+1].num){\n                ll=a[i].num;\n                rr=a[i+1].num;\n                dir='E';//\u5411\u4e1c\n            }\n            else{\n                ll=a[i+1].num;\n                rr=a[i].num;\n                dir='W';//\u5411\u897f\n            }\n            if (ll+1==rr) continue;//\u5982\u679c\u8fd9\u4e24\u4e2a\u70b9\u76f8\u90bb\uff0c\u5f53\u7136\u6ee1\u8db3\u4e0a\u9762\u7684\u6761\u4ef6\uff0c\u4f46\u662f\u4e0d\u5408\u9898\u610f\n            if (pd(dis,ll,rr)){//\u5982\u679c\u8fd9\u4e2a\u89e3\u88ab\u91c7\u7eb3\n                ans=dis;l=ll;r=rr;\n                d=dir;\n            }\n        }\n    }\n}\nvoid doing2(){//\u548cdoing1\u540c\u7406\n    for (int i=1;i<n;++i){\n        if (a[i].y==a[i+1].y){\n            int dis=a[i+1].x-a[i].x;\n            if (a[i].num<a[i+1].num){\n                ll=a[i].num;\n                rr=a[i+1].num;\n                dir='N';\n            }\n            else{\n                ll=a[i+1].num;\n                rr=a[i].num;\n                dir='S';\n            }\n            if (ll+1==rr) continue;\n            if (pd(dis,ll,rr)){\n                ans=dis;l=ll;r=rr;\n                d=dir;\n            }\n        }\n    }\n}\nint main(){\n    //freopen(\".in\",\"r\",stdin);\n    //freopen(\".out\",\"w\",stdout);\n    \n    init();\n    ans=2147483647;\n    qsort1(1,n);//\u53ef\u4ee5\u6362\u6210 sort(a+1,a+1+n,cmp1);\n    doing1();\n    qsort2(1,n);//\u53ef\u4ee5\u6362\u6210 sort(a+1,a+1+n,cmp2);\n    doing2();\n    printf(\"%d %d %d %c\\n\",ans,l,r,d);\n    \n    fclose(stdin);\n    fclose(stdout);\n    return 0;\n}\n```\n\n\u7a0b\u5e8f\u6bd4\u8f83\u957f\uff0c\u4f46\u5f88\u591a\u90fd\u662f\u5feb\u6392\u5360\u7528\u7684\uff0cC++\u515a\u53ea\u8981\u628a\u4e24\u4e2a\u5feb\u6392\u6362\u6210stl\u7684\u5c31\u53ef\u4ee5\u4e86\uff08cmp\u5df2\u7ecf\u7ed9\u51fa\uff09\n\n\u6ce8\u610f\uff0cC++\u8bfb\u5165\u7684\u65f6\u5019\u5fc5\u987b\u5224\u65ad\u8bfb\u5165\u7684\u6570\u636e\u7684\u5408\u6cd5\u6027\uff0c\u4e0d\u7136\u4f1a\u51fa\u9519\uff08pascal\u5c31\u6ca1\u6709\u8fd9\u4e48\u9ebb\u70e6\u4e86\uff09\n\n----\n\n### THE END",
        "postTime": 1545227303,
        "uid": 107231,
        "name": "zombie462",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1686 \u3010\u6311\u6218\u3011"
    },
    {
        "content": "~~\u7b2c\u4e8c\u9053\u5927\u6a21\u62df\uff0c\u796d\u4e4b~~\n\n\u4e0d\u8fc7\u8fd9\u9053\u9898\u611f\u89c9\u4e0d\u50cf\u5927\u6a21\u62df\u7684\u4e9a\u5b50\uff1f\n\n---\n\u9996\u5148\u6ce8\u610f\u5230\u4e00\u53e5\u8bdd\uff1a\n>\u6377\u5f84\u5fc5\u987b\u662f\u76f4\u7ebf\u3002\n\n\u6240\u4ee5\u8d77\u70b9\u7ec8\u70b9\u8981\u4e48\u6a2a\u5750\u6807\u76f8\u540c\u8981\u4e48\u7eb5\u5750\u6807\u76f8\u540c\u3002\n\n\u90a3\u5c31\u597d\u529e\u4e86\u9e2d\uff01\n\n\u6a2a\u7eb5\u5750\u6807\u5206\u522b\u6c42\u4e00\u6b21\u5c31\u53ef\u4ee5\u4e86\uff0c\u627e\u5230\u6bcf\u4e00\u5bf9 \u6a2a\u3001\u7eb5\u5750\u6807\u6709\u4e00\u4e2a\u76f8\u540c \u7684\u70b9\u627e\u5230\u4e4b\u4e2d\u7684\u6700\u77ed\u8ddd\u79bb\u5373\u53ef\u3002\n\n\u6ce8\u610f\u4e0d\u80fd\u51fa\u73b0\u672c\u6765\u5c31\u80fd\u4ece\u8d77\u70b9\u8d70\u5411\u7ec8\u70b9\u7684\u201c\u6377\u5f84\u201d\u3002\n\n---\n\n###  \u4ee3\u7801\u89e3\u6790\n\n\u4e3a\u4e86\u65b9\u4fbf\u6392\u5e8f\uff0c\u5148\u4e3a\u6bcf\u4e00\u4e2a\u70b9\u521b\u7acb\u4e00\u4e2a\u7ed3\u6784\u4f53\uff1a\n```cpp\nstruct path{\n\tint x,y,st;\n}p[250005];\n```\n`x` , `y` \u5206\u522b\u662f\u6a2a\u7eb5\u5750\u6807\uff0c`st` \u662f\u8fd9\u4e2a\u70b9\u7684\u7f16\u53f7\u3002\n\n\u7136\u540e\uff0c\u6839\u636e\u8f93\u5165\u7684 `NESW` \u6765\u521d\u59cb\u5316\u6bcf\u4e00\u4e2a\u70b9\u3002\n\n```cpp\n\tp[0].x=p[0].y=p[0].st=0;//\u8bbe\u8d77\u59cb\u70b9\u4e3a\uff080,0\uff09\n\tfor(int i=1;i<=n;i++){\n\t\tch=getchar();\n\t\twhile(ch<'A'||ch>'Z') ch=getchar();//\u9632\u6b62\u8bfb\u53d6\u5230\u6362\u884c\u3001\u7a7a\u683c\n\t\tswitch(ch){\n\t\t\tcase 'N':p[i].x=p[i-1].x+1;p[i].y=p[i-1].y;break;\n\t\t\tcase 'S':p[i].x=p[i-1].x-1;p[i].y=p[i-1].y;break;\n\t\t\tcase 'W':p[i].y=p[i-1].y-1;p[i].x=p[i-1].x;break;\n\t\t\tcase 'E':p[i].y=p[i-1].y+1;p[i].x=p[i-1].x;break;\n\t\t}\n\t\tp[i].st=i;\n\t}\n```\n\n\u5148\u6839\u636e\u6a2a\u5750\u6807\u6392\u4e00\u6b21\u5e8f\u3002\n\n```cpp\nbool cmp1(path a,path b){\n\treturn a.x<b.x||a.x==b.x&&a.y<b.y;\n}\n```\n```cpp\n\tsort(p+1,p+n+1,cmp1);\n```\n\n\u6ce8\u610f\u6b64\u5904\u4e0d\u80fd\u4ec5\u6839\u636e\u6a2a\u5750\u6807\u6392\u5e8f\uff0c\u5728\u6a2a\u5750\u6807\u76f8\u540c\u65f6\u5e94\u6309\u7167\u7eb5\u5750\u6807\u6392\u5e8f\u3002\n\n\u8fd9\u6837\u5904\u7406\u540e\uff0c\u5728\u7b97\u6700\u77ed\u8ddd\u79bb\u65f6\u5c31\u53ef\u4ee5\u53ea\u7b97\u7eb5\u5750\u6807\u76f8\u90bb\u7684\u4e24\u4e2a\u70b9\u7684\u8ddd\u79bb\uff0c\u5927\u5927\u8282\u7701\u65f6\u95f4\u3002\n\n\u7136\u540e\u662f**\u91cd\u70b9**\u90e8\u5206\uff0c\u7528\u6ce8\u91ca\u7684\u65b9\u5f0f\u8bb2\u89e3\u3002\n\n```cpp\n\tfor(int i=2;i<=n;i++){\n\t\tif(p[i].x!=p[i-1].x||abs(p[i].st-p[i-1].st)==1) continue;\n\t\t// \u5982\u679c\u4e0e\u524d\u4e00\u4e2a\u70b9\u6a2a\u5750\u6807\u4e0d\u540c\u5219\u4e0d\u80fd\u5f62\u6210\u6377\u5f84\u3002\n\t\t// \u5982\u679c\u4e24\u4e2a\u70b9\u7f16\u53f7\u662f\u76f8\u90bb\u7684\u5219\u4e0d\u80fd\u7b97\u4f5c\u201c\u6377\u5f84\u201d\u3002\n\t\tint d=abs(p[i].y-p[i-1].y),ssp,eep;\n\t\t// d\u662f\u4e24\u70b9\u7684\u8ddd\u79bb,ssp\u662f\u4e24\u70b9\u4e2d\u7684\u8d77\u70b9\uff0ceep\u662f\u4e24\u70b9\u4e2d\u7684\u7ec8\u70b9\n\t\tchar ddir;//\u6377\u5f84\u7684\u65b9\u5411\n\t\tif(p[i].st<p[i-1].st){//\u5982\u679c\u7eb5\u5750\u6807\u5927\u7684\u53cd\u800c\u7f16\u53f7\u5c0f\n\t\t\tssp=p[i].st;eep=p[i-1].st;//\u8d77\u70b9\u662f\u7f16\u53f7\u5c0f\u7684\u90a3\u4e00\u4e2a\n\t\t\tddir='W';//\u65b9\u5411\u662f\u5411\u897f\uff08\u9700\u8981\u81ea\u5df1\u63a8\u4e00\u4e0b\u54e6\uff09\n\t\t}\n\t\telse{//\u540c\u7406\n\t\t\tssp=p[i-1].st;eep=p[i].st;\n\t\t\tddir='E';\n\t\t}\n\t\tbool chag=false;//\u662f\u5426\u66f4\u65b0\u7b54\u6848\n\t\tif(d<mind) chag=true;\n\t\t//mind\u5b58\u50a8\u6700\u77ed\u8ddd\u79bb\n\t\t//\u5982\u679c\u5f53\u524d\u8ddd\u79bb\u5c0f\u4e8e\u6700\u77ed\u8ddd\u79bb\u5219\u66f4\u65b0\n\t\telse if(d==mind){//\u5982\u679c\u5f53\u524d\u8ddd\u79bb\u7b49\u4e8e\u6700\u77ed\u8ddd\u79bb\n\t\t\tif(ssp<sp) chag=true;//\u9009\u62e9\u8d77\u59cb\u70b9\u7f16\u53f7\u5c0f\u7684\u90a3\u4e00\u4e2a\n\t\t\telse if(ssp==sp){//\u5982\u679c\u8d77\u59cb\u70b9\u76f8\u540c\n\t\t\t\tif(eep>ep) chag=true;//\u9009\u62e9\u7ec8\u70b9\u7f16\u53f7\u5927\u7684\u90a3\u4e00\u4e2a\n\t\t\t}\n\t\t}\n\t\tif(chag){//\u5982\u679c\u9700\u8981\u66f4\u65b0\n\t\t\tsp=ssp;ep=eep;dire=ddir;mind=d;\n\t\t}\n```\n---\n\u7eb5\u5750\u6807\u7684\u5904\u7406\u4e5f\u540c\u7406\uff0c\u4ee3\u7801\u51e0\u4e4e\u4e00\u81f4\uff0c\u4e0d\u518d\u8d58\u8ff0\u3002\n\n\u5982\u679c\u6709\u7591\u95ee\u89c1\u4e0b\u9762\u4ee3\u7801\u3002\n\n### \u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nstruct path{\n\tint x,y,st;\n}p[250005];\nbool cmp1(path a,path b){\n\treturn a.x<b.x||a.x==b.x&&a.y<b.y;\n}\nbool cmp2(path a,path b){\n\treturn a.y<b.y||a.y==b.y&&a.x<b.x;\n}\nint n,mind,sp,ep;\nchar ch,dire;\nint main(){\n\tscanf(\"%d\",&n);\n\tp[0].x=p[0].y=p[0].st=0;\n\tfor(int i=1;i<=n;i++){\n\t\tch=getchar();\n\t\twhile(ch<'A'||ch>'Z') ch=getchar();\n\t\tswitch(ch){\n\t\t\tcase 'N':p[i].x=p[i-1].x+1;p[i].y=p[i-1].y;break;\n\t\t\tcase 'S':p[i].x=p[i-1].x-1;p[i].y=p[i-1].y;break;\n\t\t\tcase 'W':p[i].y=p[i-1].y-1;p[i].x=p[i-1].x;break;\n\t\t\tcase 'E':p[i].y=p[i-1].y+1;p[i].x=p[i-1].x;break;\n\t\t}\n\t\tp[i].st=i;\n\t}\n\tmind=250001;\n\tsort(p+1,p+n+1,cmp1);\n\tfor(int i=2;i<=n;i++){\n\t\tif(p[i].x!=p[i-1].x||abs(p[i].st-p[i-1].st)==1) continue;\n\t\tint d=abs(p[i].y-p[i-1].y),ssp,eep;\n\t\tchar ddir;\n\t\tif(p[i].st<p[i-1].st){\n\t\t\tssp=p[i].st;eep=p[i-1].st;\n\t\t\tddir='W';\n\t\t}\n\t\telse{\n\t\t\tssp=p[i-1].st;eep=p[i].st;\n\t\t\tddir='E';\n\t\t}\n\t\tbool chag=false;\n\t\tif(d<mind) chag=true;\n\t\telse if(d==mind){\n\t\t\tif(ssp<sp) chag=true;\n\t\t\telse if(ssp==sp){\n\t\t\t\tif(eep>ep) chag=true;\n\t\t\t}\n\t\t}\n\t\tif(chag){\n\t\t\tsp=ssp;ep=eep;dire=ddir;mind=d;\n\t\t}\n\t}\n\tsort(p+1,p+n+1,cmp2);\n\tfor(int i=2;i<=n;i++){\n\t\tif(p[i].y!=p[i-1].y||abs(p[i].st-p[i-1].st)==1) continue;\n\t\tint d=abs(p[i].x-p[i-1].x),ssp,eep;\n\t\tchar ddir; \n\t\tif(p[i].st<p[i-1].st){\n\t\t\tssp=p[i].st;eep=p[i-1].st;\n\t\t\tddir='S';\n\t\t}\n\t\telse{\n\t\t\tssp=p[i-1].st;eep=p[i].st;\n\t\t\tddir='N';\n\t\t}\n\t\tbool chag=false;\n\t\tif(d<mind) chag=true;\n\t\telse if(d==mind){\n\t\t\tif(ssp<sp) chag=true;\n\t\t\telse if(ssp==sp){\n\t\t\t\tif(eep>ep) chag=true;\n\t\t\t}\n\t\t}\n\t\tif(chag){\n\t\t\tsp=ssp;ep=eep;dire=ddir;mind=d;\n\t\t}\n\t}\n\tcout<<mind<<\" \"<<sp<<\" \"<<ep<<\" \"<<dire;\n\treturn 0;\n}\n```",
        "postTime": 1612451368,
        "uid": 258085,
        "name": "\u6c5f\u6237\u5ddd\u00b7\u841d\u535c",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1686 \u3010\u6311\u6218\u3011"
    },
    {
        "content": "\u8c14\u96f6\u8c14\u96f6\u5e74\u8c14\u6708\u8c14\u5341\u8c14\u65e5\uff0cUpdate,\u4fee\u4e86\u6392\u7248\u3002\n\n\u9ebb\u70e6\u7ba1\u7406\u91cd\u65b0\u8fc7\u4e0b\uff01\n\n\u4e0a\u624b\u9274\u5b9a\u5927\u6a21\u62df\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\n\n\u4f17\u6240\u5468\u77e5\uff0c\u5927\u6a21\u62df\u4e00\u822c\u4e0d\u5361\u5e38\uff0c\u5f00\u4e2aO2\u57fa\u672c\u4e0a\u600e\u4e48\u5199\u90fd\u53ef\u4ee5\uff08\u67d0\u67d0\u6bd2\u7624\u9664\u5916\uff09\n\n\u4e8e\u662f\u5e73\u65f6\u4e0d\u6562\u7528\u7684\uff0c\u5404\u79cd\u5e38\u6570\u5927\u7684\u7b97\u6cd5/\u6570\u636e\u7ed3\u6784\uff0c\u5168\u90e8\u90fd\u80fd\u968f\u4fbf\u7528\u4e86\uff01\n\n\u4ecb\u7ecd\u4e00\u79cd~~\u6ee5\u7528\u7ea2\u9ed1\u6811\u7684~~\u4ee3\u7801\u7a0d\u77ed\u7684\u65b9\u6cd5\uff08\u5176\u5b9e\u611f\u89c9\u8fd8\u662f\u9760\u6570\u636e\u6c34\u8fc7\u7684\u5427\uff09\u3002\n\n\u4e0d\u77e5\u9053\u6709\u6ca1\u6709\u60f3\u9519\uff0c\u6211\u7684\u7406\u89e3\u662f\u80fd\u53cd\u590d\u7ecf\u8fc7\u540c\u4e00\u4e2a\u70b9\uff08\u5982\u679c\u4e0d\u662f\u90a3\u4e48\u4e0b\u65b9\u5206\u6790\u53ef\u7b80\u5316\uff0c\u7406\u89e3\u540e\u81ea\u884c\u5b8c\u6210\uff0c\u5e76\u4e0d\u96be\uff09\u3002\n\n\u9898\u76ee\u8f6c\u5316\u4e00\u4e0b\uff1a\n```plain\n\u8981\u5728\u7ed9\u5b9a\u6298\u7ebf\uff08\u6bcf\u4e00\u6bb5\u90fd\u662f\u6c34\u5e73/\u5782\u76f4\u7684\u4e14\u4e0d\u662f\u5f88\u957f\uff09\u4e0a\u627e\u5230\u4e24\u4e2a\u70b9\uff0c\n\n\u5b83\u4eecx\u5750\u6807\u4e0ey\u5750\u6807\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u76f8\u7b49\uff0c\n\n\u8981\u6c42\u8ddd\u79bb\u6700\u77ed\u7684\u524d\u63d0\u4e0b\uff0c\n\n\u7b2c\u4e00\u4e2a\u70b9\u7f16\u53f7\u6700\u5c0f\uff0c\n\n\u5728\u6b64\u57fa\u7840\u4e0a\u7b2c\u4e8c\u4e2a\u70b9\u7f16\u53f7\u6700\u5927\n```\n\u9996\u5148\u8003\u8651\u600e\u4e48\u6ee1\u8db3\u540c\u4e00x\u5750\u6807\u3002\uff08\u6216\u540c\u4e00y\u5750\u6807\uff0c\u4e0d\u8fc7\u540c\u7406\uff09\n\njuruo\u4e5f\u6ca1\u60f3\u592a\u591a\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u6bcf\u4e2ax\u5750\u6807\u62c9\u4e00\u4e2aset\u7ef4\u62a4\u6240\u6709x\u5750\u6807\u4e3a\u5b83\u7684\u70b9\u96c6\uff0c\u6309y\u5750\u6807\u5927\u5c0f\u6392\u5e8f\u3002\uff08\u5176\u5b9evector+\u65f6\u5019\u6392\u5e8f\u4e5f\u53ef\u4ee5~~\u4f46\u6211\u592a\u61d2\u4e86~~\uff09\n\n\u4e0d\u96be\u53d1\u73b0\u6700\u7ec8\u7684\u70b9\u4e00\u5b9a\u662f\u76f8\u90bb\u4e24\u70b9\u3002\n\n\u4e3a\u6b64\u9700\u8981\u628a\u6574\u4e2a\u5750\u6807\u7cfb\u5e73\u79fb\u4e00\u4e0b\u4fdd\u8bc1\u6bcf\u4e00\u6b65\u6a2a\u7eb5\u5750\u6807\u975e\u8d1f\u3002\n\n\u8003\u8651\u5230\u8fd8\u5bf9\u7f16\u53f7\u6709\u8981\u6c42\uff0c\u6240\u4ee5\u8fd8\u8981\u5b58\u4e2a\u7f16\u53f7\u3002\n\njuruo\u672c\u4eba\u60f3\u52303\u79cd\u5b9e\u73b0\u65b9\u6cd5\uff1a\n```plain\n1.\u5728set\u4e2d\u5b58\u7684\u7c7b\u578b\u4e3apoint\uff08\u81ea\u5b9a\u4e49\u4e8c\u5143\u7ec4\uff09,\u7b2c\u4e00\u4e2a\u6570\u662fy\u5750\u6807\uff0c\u7b2c\u4e8c\u4e2a\u6570\u662f\u5230\u8fbe(x,y)\u70b9\u7684\u6700\u5c0f\u7f16\u53f7\uff0c\u7528map\u5b58\u4e0b\u5230\u8fbe(x,y)\u70b9\u7684\u6700\u5927\u7f16\u53f7\u3002\n2.\u540c\u4e0a\uff0c\u5927\u5c0f\u4e92\u6362\u3002\n3.\u75282\u4e2amap\u5206\u522b\u5b58\u6700\u5927\uff0c\u6700\u5c0f\u503c\u3002\n```\n\u5176\u5b9e\u6ca1\u4ec0\u4e48\u533a\u522b~~\u53cd\u6b63\u7a9d\u7801\u7684\u90fd\u8981\u5438\u6c27\u624d\u80fd\u8fc7~~\u3002\n\n\u8bb0\u5f55\u4e0b\u6765\u4e4b\u540e\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u5c31\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\u4e86\u66b4\u529b\u904d\u5386set\uff0c\u5224\u65ad\u6700\u5c0f\u7f16\u53f7\u7684\u5dee\u662f\u4e0d\u662f1\uff08<-\u9760\u6570\u636e\u6c34\u8fc7\uff0c\u6709\u53cd\u4f8b\uff09\uff0c\u5224\u65ad\u7f16\u53f7\u5927\u5c0f\uff0c\u66f4\u65b0\u957f\u5ea6\u548c\u65b9\u5411\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\n\n\u5148\u4e0d\u8bf4\u4e86\u4e0a\u4ee3\u7801\u5427\uff0c\u76f8\u4fe1dalao\u4eec\u5df2\u7ecf\u4f1a\u4e86\u3002\n\n\u6ce8\uff1a\u4e8c\u7ef4map\u4e3a\u4e86\u7701\u4e00\u53ealog(\u542c\u4eba\u8bf4\u5d4c\u5957\u662f2\u53ea)\u6545\u91c7\u7528pair.\n```cpp\n//\u65b9\u6cd51\uff0c\u7b2c\u4e00\u6b21\u63d0\u4ea4\u65f6\u7684\uff0c\u7801\u98ce\u5de8\u4e11\uff08\n#include<bits/stdc++.h>\nusing namespace std;\nconst int eps=250009;\nconst int N=(eps<<1);\nstruct point{\n\tint p,id;\n\tbool operator < (const point&w)const{\n\t\treturn p<w.p;\n\t}\n\tbool operator == (const point&w)const{\n\t\treturn p==w.p;\n\t}\n\tpoint(){}\n\tpoint(int p,int id):p(p),id(id){}\n};\nset<point>sx[N],sy[N];\nmap<pair<int,int>,int>mp;\nint n;\nchar s[eps];\nint st,ed,dx,dy,num=INT_MAX;\nchar ans;\nint main(){\n\tscanf(\"%d%s\",&n,s);\n\tregister int x=eps,y=eps;\n\tmp[make_pair(eps,eps)]=-1;\n\tsx[eps].insert(point(eps,-1));\n\tsy[eps].insert(point(eps,-1));\n\tfor(register int i=0;i<n;++i){\n\t\tif(s[i]=='N')++x;\n\t\tif(s[i]=='S')--x;\n\t\tif(s[i]=='W')--y;\n\t\tif(s[i]=='E')++y;\n\t\tif(!mp.count(make_pair(x,y)))sx[x].insert(point(y,i)),sy[y].insert(point(x,i));\n\t\tmp[make_pair(x,y)]=max(mp[make_pair(x,y)],i);\n\t\n\t}\n\tfor(register int i=0;i<N;++i)if(sx[i].size()>1){\n\t\tfor(register set<point>::iterator it=sx[i].begin();it!=--sx[i].end();){\n\t\t\tregister point a=*it;\n\t\t\tregister point b=*++it;\n\t\t\tif(b.p-a.p>num||abs(b.id-a.id)==1)continue;\n\t\t\tif(a.id>b.id)swap(a,b);\n\t\t\tif(abs(b.p-a.p)==num){\n\t\t\t\tif(a.id>st||a.id==st&&mp[make_pair(i,b.p)]<ed)continue;\n\t\t\t}\n\t\t\tst=a.id,ed=mp[make_pair(i,b.p)],dx=0,dy=b.p-a.p,num=abs(dy);\n\t\t}\n\t}\n\tfor(register int i=0;i<N;++i)if(sy[i].size()>1){\n\t\tfor(register set<point>::iterator it=sy[i].begin();it!=--sy[i].end();){\n\t\t\tregister point a=*it;\n\t\t\tregister point b=*++it;\n\t\t\tif(b.p-a.p>num||abs(b.id-a.id)==1)continue;\n\t\t\tif(a.id>b.id)swap(a,b);\n\t\t\tif(abs(b.p-a.p)==num){\n\t\t\t\tif(a.id>st||a.id==st&&mp[make_pair(b.p,i)]<ed)continue;\n\t\t\t}\n\t\t\tst=a.id,ed=mp[make_pair(b.p,i)],dx=b.p-a.p,dy=0,num=abs(dx);\n\t\t}\n\t}\n\tif(!dy)ans=(dx>0?'N':'S');\n\telse ans=(dy>0?'E':'W');\n\tprintf(\"%d %d %d %c\\n\",num,st+1,ed+1,ans);\n    return 0;\n}\n```\n```cpp\n//\u65b9\u6cd5\u4e09\u3002\n#include<bits/stdc++.h>\nusing namespace std;\nconst int eps=250009;\nconst int N=(eps<<1);\nset<int>sx[N],sy[N];\nmap<pair<int,int>,int>minp,maxp;\nint n;\nchar s[eps];\nint st,ed,dx,dy,num=INT_MAX;\nchar ans;\nint main(){\n\tscanf(\"%d%s\",&n,s);\n\tregister int x=eps,y=eps;\n\tminp[make_pair(eps,eps)]=maxp[make_pair(eps,eps)]=-1;\n\tsx[eps].insert(eps);\n\tsy[eps].insert(eps);\n\tfor(register int i=0;i<n;++i){\n\t\tif(s[i]=='N')++x;\n\t\tif(s[i]=='S')--x;\n\t\tif(s[i]=='W')--y;\n\t\tif(s[i]=='E')++y;\n\t\tpair<int,int>p=make_pair(x,y);\n\t\tif(!maxp.count(p))sx[x].insert(y),sy[y].insert(x);\n\t\tmaxp[p]=max(maxp[p],i);\n\t\tif(!minp.count(p)||minp[p]>i)minp[p]=i;\n\t}\n\t//\u8c14\u8c141 \n\tfor(register int i=0;i<N;++i)if(sx[i].size()>1){\n\t\tfor(register set<int>::iterator it=sx[i].begin();it!=--sx[i].end();){\n\t\t\tregister int a=*it,b=*++it;\n\t\t\tpair<int,int>pa=make_pair(i,a),pb=make_pair(i,b);\n\t\t\tregister int na=minp[pa],nb=minp[pb];\n\t\t\tif(b-a>num||abs(na-nb)==1)continue;\n\t\t\tif(na>nb)swap(a,b),swap(na,nb),swap(pa,pb);\n\t\t\tif(abs(a-b)==num){\n\t\t\t\tif(na>st||na==st&&maxp[pb]<ed)continue;\n\t\t\t}\n\t\t\tst=na,ed=maxp[pb],dx=0,dy=b-a,num=abs(dy);\n\t\t}\n\t}\n\t//\u8c14\u8c142 \n\tfor(register int i=0;i<N;++i)if(sy[i].size()>1){\n\t\tfor(register set<int>::iterator it=sy[i].begin();it!=--sy[i].end();){\n\t\t\tregister int a=*it,b=*++it;\n\t\t\tpair<int,int>pa=make_pair(a,i),pb=make_pair(b,i);\n\t\t\tregister int na=minp[pa],nb=minp[pb];\n\t\t\tif(b-a>num||abs(na-nb)==1)continue;\n\t\t\tif(na>nb)swap(a,b),swap(na,nb),swap(pa,pb);\n\t\t\tif(abs(a-b)==num){\n\t\t\t\tif(na>st||na==st&&maxp[pb]<ed)continue;\n\t\t\t}\n\t\t\tst=na,ed=maxp[pb],dx=b-a,dy=0,num=abs(dx);\n\t\t}\n\t}\n\t//\u8c14\u8c143 \n\tif(!dy)ans=(dx>0?'N':'S');\n\telse ans=(dy>0?'E':'W');\n\tprintf(\"%d %d %d %c\\n\",num,st+1,ed+1,ans);\n    return 0;\n}\n```\n\u65b9\u6cd5\u4e00\u4ee3\u7801\u53ea\u670969\u884c\uff0c\u65b9\u6cd5\u4e09\u53ea\u670957\u884c\uff01\n\n\u800c\u4e14\u4ee5\u65b9\u6cd5\u4e09\u4e3a\u6817\u5b50\uff0c\u8c14\u8c141\u5230\u8c14\u8c142\uff08\u89c1\u6ce8\u91ca\uff09\u4e0e\u8c14\u8c142\u5230\u8c14\u8c143\u4e4b\u95f4\u662f\u51e0\u4e4e\u5b8c\u5168\u4e00\u6837\u7684\uff01\n\nCtrl+C+V\u51e0\u4e4e\u4e0d\u600e\u4e48\u7528\u6539\uff01\n\n\u6240\u4ee5\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7STL\u771f\u597d\u3002\n\n\u521d\u6b65\u9274\u5b9a$\\operatorname{O}(n\\operatorname{lg}n)$\u6216$\\operatorname{O}(n\\operatorname{lg}^2n)$\uff0c\u5982\u679c\u662f\u4e24\u53ea$\\operatorname{lg}$\u7684\u8bdd\u628asort\u6539\u6210vector\u79bb\u7ebf\u6392\u5e8f\uff08\u5f53\u7136\u4e5f\u73c2\u4ee5\u94fe\u5f0f\u524d\u5411\u661f\uff09\u5c31\u53d8\u5355$\\operatorname{lg}$\u4e86~\n\n\u6700\u540e~~\u4e0d\u8981\u8138\u5730~~\u63a8\u9500[\u535a\u5ba2](https://www.luogu.com.cn/blog/2007100723874wxz/)\u548c[\u8bed\u8a00](https://www.luogu.com.cn/blog/2007100723874wxz/define)",
        "postTime": 1582242595,
        "uid": 250637,
        "name": "UnyieldingTrilobite",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1686 \u3010\u6311\u6218\u3011"
    },
    {
        "content": "**STL \u5927\u6cd5\u597d**\r\n\r\n\u601d\u8def\u90fd\u5f88\u6e05\u6670\uff0c\u5148\u4ee5\u8d77\u59cb\u70b9\u4e3a\u539f\u70b9 $(0,0)$ \u5efa\u7acb\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\uff0c\u5206\u522b\u8ba1\u7b97\u51fa\u6bcf\u4e00\u6b65\u8d70\u5230\u7684\u4f4d\u7f6e\u3002\r\n\r\n\u5bf9\u4e8e\u6bcf\u4e2a\u70b9\uff0c\u5728 $x$ \u8f74\u548c $y$ \u8f74\u4e24\u4e2a\u65b9\u5411\u5206\u522b\u8003\u8651\u662f\u5426\u53ef\u4ee5\u76f4\u63a5\u8d70\u6377\u5f84\uff08\u5373\u5411\u5de6/\u5411\u4e0a\u6216\u5411\u53f3/\u5411\u4e0b**\u4e0d\u6cbf\u539f\u6765\u7684\u8def\u5f84\u8d70\u5230\u522b\u7684\u4f4d\u7f6e**\uff09\u3002\r\n\r\n\u4e0b\u9762\u8003\u8651\u5b9e\u73b0\u3002\u770b\u5230\u522b\u7684 dalao \u4eec\u90fd\u7528\u7684 `sort` \u76f4\u63a5\u6392\u5e8f\uff0c~~\u8c8c\u4f3c\u6ca1\u5b66\u5230 STL \u7684\u7cbe\u9ad3~~\uff0c\u672c\u849f\u84bb\u63d0\u4f9b\u4e00\u79cd\u777f\uff08ruo\uff09\u667a\u7684\u505a\u6cd5\uff1a\r\n\r\n```cpp\r\nunordered_map<int, map<int, int>> X, Y;\r\n```\r\n\r\n\u5176\u4e2d\uff0c`X[i][j]` \u8868\u793a\u5750\u6807\u4e3a $(i,j)$ \u7684\u4f4d\u7f6e\u7684\u6700\u5927\u7f16\u53f7\uff0c`Y[i][j]` \u8868\u793a\u5750\u6807\u4e3a $(j,i)$ \u7684\u4f4d\u7f6e\u7684\u6700\u5927\u7f16\u53f7\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u4f4d\u7f6e\uff0c\u76f4\u63a5\u627e\u5230\u5176\u5728 `X` \u548c `Y` \u4e24\u4e2a `map` \u4e2d\u7684\u4f4d\u7f6e\uff0c\u5e76\u5bf9\u5de6\u53f3\u7684\u5143\u7d20\u8fdb\u884c\u8003\u5bdf\uff0c\u518d\u66f4\u65b0\u7b54\u6848\u5373\u53ef\u3002\r\n\r\n\u7528\u5d4c\u5957 `map` \u5e38\u6570\u5927\u65e0\u6cd5\u907f\u514d\uff0c\u4e0d\u8fc7\u6700\u77ed\u4ee3\u7801\u8fd8\u662f\u6709\u7684\uff1a\r\n```cpp\r\n#include <cstdio>\r\n#include <vector>\r\n#include <map>\r\n#include <unordered_map>\r\n#define maxn 250005\r\nusing namespace std;\r\n\r\nusing pii = pair<int, int>;\r\ninline void setmax(int& x, int y) { if(x < y) x = y; }\r\n\r\nchar s[maxn];\r\n\r\ninline pii dt(char c)\r\n{\r\n\tswitch(c)\r\n\t{\r\n\t\tcase 'N': return pii(-1, 0);\r\n\t\tcase 'E': return pii(0, 1);\r\n\t\tcase 'S': return pii(1, 0);\r\n\t\tdefault: return pii(0, -1);\r\n\t}\r\n}\r\n\r\n#define move if(i < n) {auto [dx, dy] = dt(s[i]); x += dx, y += dy;}\r\n\r\nint main()\r\n{\r\n\tint n;\r\n\tscanf(\"%d%s\", &n, s);\r\n\tint x = 0, y = 0, d_ans = 1e9, f_ans = 0, t_ans = 0;\r\n\tchar dir_ans;\r\n\tauto ok = [&](int dis, int from, int to) -> bool {\r\n\t\tif(dis != d_ans) return dis < d_ans;\r\n\t\tif(from != f_ans) return from < f_ans;\r\n\t\treturn to > t_ans;\r\n\t};\r\n\tauto update = [&](int dis, int from, int to, char dir) {\r\n\t\tif(ok(dis, from, to))\r\n\t\t\td_ans = dis, f_ans = from, t_ans = to, dir_ans = dir;\r\n\t};\r\n\tunordered_map<int, map<int, int>> X, Y;\r\n\tx = y = 0;\r\n\tfor(int i=0; i<=n; i++)\r\n\t{\r\n\t\tsetmax(X[x][y], i);\r\n\t\tsetmax(Y[y][x], i);\r\n\t\tmove\r\n\t}\r\n\tx = y = 0;\r\n\tvector<pii> ans;\r\n\tfor(int i=0; i<=n; i++)\r\n\t{\r\n\t\tauto get_ans = [&](auto& m, int y, char left, char right) {\r\n\t\t\tauto it = m.find(y);\r\n\t\t\t// left\r\n\t\t\tif(it != m.begin())\r\n\t\t\t{\r\n\t\t\t\tit --;\r\n\t\t\t\tint j = it->second;\r\n\t\t\t\tif(j > i + 1) update(y - it->first, i, j, left);\r\n\t\t\t\tit ++;\r\n\t\t\t}\r\n\t\t\t// right\r\n\t\t\tif(++it != m.end())\r\n\t\t\t{\r\n\t\t\t\tint j = it->second;\r\n\t\t\t\tif(j > i + 1) update(it->first - y, i, j, right);\r\n\t\t\t}\r\n\t\t};\r\n\t\tget_ans(X[x], y, 'W', 'E');\r\n\t\tget_ans(Y[y], x, 'N', 'S');\r\n\t\tmove\r\n\t}\r\n\tprintf(\"%d %d %d %c\\n\", d_ans, f_ans, t_ans, dir_ans);\r\n\treturn 0;\r\n}\r\n```\r\n\u8fd9\u6bb5\u4ee3\u7801\u6ca1\u6709\u538b\u884c\uff0c\u5171 $76$ \u884c\uff0c\u6574\u4f53\u76f8\u5bf9\u6bd4\u8f83\u7b80\u6d01\uff0c\u53ef\u4ee5\u7b97\u662f\u6700\u77ed\u4ee3\u7801\u5427\u3002\r\n\r\n*\u6e29\u99a8\u63d0\u9192\uff1aSTL \u914d\u5408 `lambda` \u8868\u8fbe\u5f0f\u6548\u679c\u66f4\u4f73\uff0c\u89c1\u4ee3\u7801\u3002*\r\n\r\n### \u987a\u4fbf\u63d2\u4e00\u53e5\u5634\r\n\r\n\u65e0\u610f\u4e2d\u53d1\u73b0\u4e86[\u8fd9\u7ec4 hack \u6570\u636e](https://www.luogu.com.cn/discuss/485540)\uff0c\u6b63\u786e\u8f93\u51fa\u5e94\u8be5\u662f `1 0 5 N`\uff0c\u7136\u800c\u5f88\u591a\u9898\u89e3\u6ca1\u6709\u8003\u8651\u4ece $0$ \u53f7\u70b9\u5f00\u59cb\u7684\u6377\u5f84\uff0c\u8f93\u51fa\u4e86 `1 1 4 N`\uff08\u4e0a\u9762\u7684\u4ee3\u7801\u8f93\u51fa\u7ed3\u679c\u6b63\u786e\uff09\uff0c\u5e0c\u671b\u80fd\u628a\u8fd9\u7ec4\u6570\u636e\u52a0\u5230\u6d4b\u8bd5\u70b9\u91cc\u3002",
        "postTime": 1673271295,
        "uid": 324562,
        "name": "GoodCoder666",
        "ccfLevel": 0,
        "title": "P1686 \u6311\u6218 \u9898\u89e3"
    },
    {
        "content": "\u672c\u9898\u5c31\u662f\u8981\u627e\u5230\u6700\u77ed\u7684\u6377\u5f84\u3002\n\n\u6ce8\u610f\u4e8b\u9879\uff1a\n\n+ \u6377\u5f84\u5fc5\u987b\u662f\u76f4\u7ebf\u3002\n+ \u8981\u6c42\u6377\u5f84\u6700\u77ed\u800c\u975e\u603b\u8def\u7a0b\u6700\u77ed\u3002\n+ \u6377\u5f84\u4e0d\u4e0e\u539f\u6709\u7684\u8def\u91cd\u5408\n\n\u65e2\u7136\u5728\u540c\u4e00\u76f4\u7ebf\u4e0a\uff0c\u5219\u8be5\u6377\u5f84\u7684\u8d77\u70b9\u4e0e\u7ec8\u70b9\u7684\u6a2a\u5750\u6807\u6216\u7eb5\u5750\u6807\u76f8\u7b49\u3002\u8981\u628a\u6a2a\u5750\u6807\u6216\u7eb5\u5750\u6807\u76f8\u540c\u7684\u805a\u5728\u4e00\u8d77\u53ea\u9700\u8981\u6392\u4e2a\u5e8f\u5373\u53ef\u3002\n\n\u6377\u5f84\u6700\u77ed\u7684\u8bdd\uff08\u4ee5\u6a2a\u5750\u6807\u76f8\u7b49\u4e3e\u4f8b\uff09\uff0c\u53ea\u9700\u8981\u4ee5 $x$ \u4e3a\u7b2c\u4e00\u5173\u952e\u5b57\uff0c\u4ee5 $y$ \u4e3a\u7b2c\u4e8c\u5173\u952e\u5b57\u6392\u5e8f\u540e\uff0c\u627e\u76f8\u90bb\u7684\u4e24\u4e2a\u5e76\u6c42\u6700\u77ed\u5c31\u597d\u3002\n\n\u4e0d\u4e0e\u539f\u6709\u8def\u5f84\u91cd\u5408\u3002\u56e0\u4e3a\u628a\u6bcf\u4e00\u4e2a\u70b9\u90fd\u8bb0\u4e0b\u6765\u4e86\uff0c\u6240\u4ee5\u8d77\u70b9\u4e0e\u7ec8\u70b9\u7684\u5e8f\u53f7\u53ea\u5dee $1$ \u5c31\u8bf4\u660e\u539f\u6765\u5df2\u6709\u8def\u5f84\u3002\n\n\u5206\u6790\u7ed3\u675f\uff0c\u770b\u4ee3\u7801\u3002\n\n```cpp\n#include<algorithm> \n#include<cstdio>\nusing namespace std;\nconst int N = 250000 + 5;\nstruct node\n{\n\tint x, y, id;//x,y \u4e3a\u6a2a\u7eb5\u5750\u6807; id \u662f\u5e8f\u53f7 !:\u4ece1\u5f00\u59cb \n}a[N];\nbool cmpx(node a, node b)//\u4ee5 x \u4e3a\u7b2c\u4e00\u5173\u952e\u5b57 \n{\n\treturn a.x == b.x ? a.y < b.y : a.x < b.x;\n}\nbool cmpy(node a, node b)//\u4ee5 y \u4e3a\u7b2c\u4e00\u5173\u952e\u5b57 \n{\n\treturn a.y == b.y ? a.x < b.x : a.y < b.y;\n}\nint n;\nchar s[N];\nstruct stsearr//\u7b54\u6848,\u6574\u5408\u540e\u65b9\u4fbf\u8d4b\u503c \n{\n\tint lenth;//\u957f\u5ea6 \n\tint head, tail;//\u8d77\u70b9\u548c\u7ec8\u70b9 \n\tchar fang;//\u65b9\u5411 \n}ans;\nvoid do_x()//\u67e5\u627e\u7ad6\u7684\u6377\u5f84 \n{\n\tstsearr t;\n\tfor (int i = 2;i <= n; i++)\n\t{\n\t\tif (a[i].x == a[i - 1].x)//\u7ad6\u7740\u7684\u76f4\u7ebf \n\t\t{\n\t\t\tt.lenth = a[i].y - a[i - 1].y;//\u6392\u5e8f\u4e2d\u4ee5\u4ece\u5c0f\u5230\u5927 \n\t\t\tif (a[i].id < a[i - 1].id)//id \u5c0f\u7684\u662f\u8d77\u70b9 \n\t\t\t{\n\t\t\t\tt.fang = 'S';\n\t\t\t\tt.head = a[i].id;\n\t\t\t\tt.tail = a[i - 1].id;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tt.fang = 'N';\n\t\t\t\tt.head = a[i - 1].id;\n\t\t\t\tt.tail = a[i].id;\n\t\t\t}\n\t\t\tif (t.head + 1 == t.tail)//\u5224\u65ad\u662f\u5426\u4e0e\u539f\u6709\u8def\u5f84\u91cd\u5408 \n\t\t\t\tcontinue;\n\t\t\tif (t.lenth < ans.lenth)//\u66f4\u65b0\u7b54\u6848 \n\t\t\t\tans = t;\n\t\t\telse if (t.lenth == ans.lenth)\n\t\t\t{\n\t\t\t\tif (t.head < ans.head)\n\t\t\t\t\tans = t;\n\t\t\t\telse if (t.head == ans.head)\n\t\t\t\t\tif (t.tail > ans.tail)\n\t\t\t\t\t\tans = t;\n\t\t\t}\n\t\t}\n\t}\n}\nvoid do_y()//\u67e5\u627e\u7ad6\u7684\u6377\u5f84 \n{\n\tstsearr t;\n\tfor (int i = 2;i <= n; i++)//\u4e0e\u4e0a\u540c\u7406 \n\t{\n\t\tif (a[i].y == a[i - 1].y)\n\t\t{\n\t\t\tt.lenth = a[i].x - a[i - 1].x;\n\t\t\tif (a[i].id < a[i - 1].id)\n\t\t\t{\n\t\t\t\tt.fang = 'W';\n\t\t\t\tt.head = a[i].id;\n\t\t\t\tt.tail = a[i - 1].id;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tt.fang = 'E';\n\t\t\t\tt.head = a[i - 1].id;\n\t\t\t\tt.tail = a[i].id;\n\t\t\t}\n\t\t\tif (t.head + 1 == t.tail)\n\t\t\t\tcontinue;\n\t\t\tif (t.lenth < ans.lenth)\n\t\t\t\tans = t;\n\t\t\telse if (t.lenth == ans.lenth)\n\t\t\t{\n\t\t\t\tif (t.head < ans.head)\n\t\t\t\t\tans = t;\n\t\t\t\telse if (t.head == ans.head)\n\t\t\t\t\tif (t.tail > ans.tail)\n\t\t\t\t\t\tans = t;\n\t\t\t}\n\t\t}\n\t}\n}\nsigned main()\n{\n\tscanf (\"%d\", &n);\n\tscanf (\"%s\", s + 1);\n\t//\u5c0f\u6280\u5de7:\u8fd9\u6837\u53ef\u4ee5\u4ece 1 \u4e0b\u6807\u5f00\u59cb\u8bfb\u5165 \n\tfor (int i = 1;i <= n; i++)\n\t{\n\t\ta[i].id = i;\n\t\ta[i].x = a[i - 1].x;\n\t\ta[i].y = a[i - 1].y;\n\t\tif (s[i] == 'N')//\u5904\u7406\u56db\u79cd\u65b9\u5411 \n\t\t\ta[i].y++;\n\t\telse if (s[i] == 'E')\n\t\t\ta[i].x++;\n\t\telse if (s[i] == 'W')\n\t\t\ta[i].x--;\n\t\telse if (s[i] == 'S')\n\t\t\ta[i].y--;\n\t}\n\tans.lenth = 1e9;//\u627e\u6700\u5c0f\u503c,\u8d4b\u6700\u5927\u503c \n\tsort(a + 1, a + n + 1, cmpx);\n\tdo_x();\n\tsort(a + 1, a + n + 1, cmpy);\n\tdo_y();\n\tprintf (\"%d %d %d %c\", ans.lenth, ans.head, ans.tail, ans.fang);\n\treturn 0;\n} \n```\n\n\u5e0c\u671b\u53ef\u4ee5\u5e2e\u5230\u5927\u5bb6\u3002\n\n\u5982\u6709\u9519\u8bef\u6b22\u8fce\u79c1\u4fe1\u6307\u51fa\u3002",
        "postTime": 1657521180,
        "uid": 191819,
        "name": "__shadow__",
        "ccfLevel": 0,
        "title": "P1686 \u6311\u6218 \u9898\u89e3"
    },
    {
        "content": "\u9898\u9762\u4e5f\u662f\u5341\u5206\u7b80\u6d01\u4e86\u3002\n\n\u5c31\u662f\u6211\u4eec\u5fc5\u987b\u5728\u4e00\u6761\u8def\u4e0a\u627e\u5230\u4e00\u6761\u6377\u5f84\u3002\n\n\u518d\u770b\u4e00\u904d\u9898\uff0c\u6211\u4eec\u53d1\u73b0\u6377\u5f84\u5fc5\u987b\u662f\u76f4\u7684\u3002\u8fd9\u610f\u5473\u7740\u8fd9\u6761\u6377\u5f84\u4e24\u70b9\u7684\u6a2a\u5750\u6807\u6216\u8005\u662f\u7eb5\u5750\u6807\u4e2d\u7684\u4e00\u4e2a\u5fc5\u987b\u662f\u76f8\u540c\u7684\u3002\n\n\u90a3\u5982\u4f55\u627e\u5230\u6a2a\u7eb5\u5750\u6807\u76f8\u540c\u7684\u4e24\u4e2a\u70b9\u5462\uff1f\n\nhmmmmmm\u2026\u2026\n\n**\u6392\u5e8f\uff01**\n\n\u672c\u9898\u5c31\u53d8\u4e3a\u4e86\uff1a\u5728\u4e00\u5f20\u56fe\u4e2d\u627e\u6700\u77ed\u7684\u6a2a\u5750\u6807\u6216\u7eb5\u5750\u6807\u76f8\u540c\u7684\u4e24\u4e2a\u70b9\u7684\u8ddd\u79bb\u3002\n\n\u4e4b\u540e\u5c31\u662f\u6a21\u62df\u4e86~~~\n\ncode:\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint n; \nstring s;\nint ans1=1e9;\nint ans2=1e9,ans3=-1e9;\nchar ans4;\nstruct node{\n\tint x;\n\tint y;\n\tint e;\n}m[250005];\nbool cmp1(node a,node b){return a.x<b.x||(a.x==b.x&&a.y<b.y);}\nbool cmp2(node a,node b){return a.y<b.y||(a.y==b.y&&a.x<b.x);}//\u4e24\u4e2a\u6392\u5e8f\u51fd\u6570\u3002 \nvoid find_x(){\n\tint num,a,b;\n\tchar p;\n\tfor(int i=1;i<=n-1;i++){\n\t\tif(m[i].x==m[i+1].x){//\u627e\u5230\u76f8\u540c\u5750\u6807 \n\t\t\tnum=abs(m[i].y-m[i+1].y);//\u8bb0\u5f55\u957f\u5ea6 \n\t\t\tif(m[i].e<m[i+1].e){//\u5224\u65ad\u51fa\u53d1\u7ec8\u6b62\u70b9 \n\t\t\t    a=m[i].e;\n\t\t\t    b=m[i+1].e;\t\t\n\t\t\t\tif(m[i].y<m[i+1].y) p='N';//\u8bb0\u5f55\u65b9\u5411\n\t\t\t\telse p='S';\n\t\t    }\n\t\t    else{\n\t\t\t    a=m[i+1].e;\n\t\t\t    b=m[i].e;\t\t\n\t\t\t\tif(m[i+1].y<m[i].y) p='N';\n\t\t\t\telse p='S';\n\t\t    }//\u53e6\u4e00\u79cd \n\t\t\tif(a+1==b) continue;//\u5982\u679c\u4ed6\u4eec\u4fe9\u5df2\u7ecf\u6709\u8def\u5f84\uff0c\u4e0d\u8981 \n\t\t\tif(ans1==num){//\u5224\u65ad\u50a8\u5b58\u7b54\u6848 \n\t\t\t\tif(ans2>a){\n\t\t\t\t\tans1=num; \n\t\t\t\t\tans2=a; \n\t\t\t\t\tans3=b; \n\t\t\t\t\tans4=p;\n\t\t\t\t}\n\t\t\t\telse if(ans2==a){\n\t\t\t\t\tif(b>ans3){\n\t\t\t\t    \tans1=num; \n\t\t\t\t\t\tans2=a; \n\t\t\t\t\t\tans3=b; \n\t\t\t\t\t\tans4=p;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(ans1>num){\n\t\t\t\tans1=num; \n\t\t\t\tans2=a; \n\t\t\t\tans3=b; \n\t\t\t\tans4=p;\n\t\t\t}\n            \n\t    }\t\n\t}\n}\nvoid find_y(){//\u548c\u4e0a\u9762\u7684\u4e00\u6837\uff0c\u53ea\u4e0d\u8fc7\u662f\u4ece\u5357\u5317\u65b9\u5411\u8f6c\u6362\u6210\u4e1c\u897f\u65b9\u5411 \n\tint num,a,b;\n\tchar p;\n\tfor(int i=1;i<=n-1;i++){\n\t\tif(m[i].y==m[i+1].y){\n\t\t\tnum=abs(m[i].x-m[i+1].x);\n\t\t\tif(m[i].e<m[i+1].e){\n\t\t\t    a=m[i].e;\n\t\t\t    b=m[i+1].e;\t\t\n\t\t\t\tif(m[i].x<m[i+1].x) p='E';\n\t\t\t\telse p='W';\n\t\t    }\n\t\t    else{\n\t\t\t    a=m[i+1].e;\n\t\t\t    b=m[i].e;\t\t\n\t\t\t\tif(m[i+1].x<m[i].x) p='E';\n\t\t\t\telse p='W';\n\t\t    }\n\t\t\tif(a+1==b) continue;\n\t\t\tif(ans1==num){\n\t\t\t\tif(ans2>a){\n\t\t\t\t\tans1=num; \n\t\t\t\t\tans2=a; \n\t\t\t\t\tans3=b; \n\t\t\t\t\tans4=p;\n\t\t\t\t}\n\t\t\t\telse if(ans2==a){\n\t\t\t\t\tif(b>ans3){\n\t\t\t\t    \tans1=num; \n\t\t\t\t\t\tans2=a; \n\t\t\t\t\t\tans3=b; \n\t\t\t\t\t\tans4=p;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(ans1>num){\n\t\t\t\tans1=num; \n\t\t\t\tans2=a; \n\t\t\t\tans3=b; \n\t\t\t\tans4=p;\n\t\t\t}\n\t    }\t\n\t}\n}\nint main(){\n\tcin>>n;\n\tcin>>s;\n\tm[0].x=0x7fffffff;\n\tm[0].y=0x7fffffff;\n\tfor(int i=0;i<n;i++){\n\t\tint k=i+1;\n\t\tm[k].e=k;\n\t\tm[k].x=m[k-1].x;\n\t\tm[k].y=m[k-1].y;\n\t\tif(s[i]=='N') m[k].y++;\n\t    if(s[i]=='W') m[k].x--;\n\t    if(s[i]=='E') m[k].x++;\n\t    if(s[i]=='S') m[k].y--;\n\t}\n\tsort(m+1,m+1+n,cmp1);\n\tfind_x();\n\tsort(m+1,m+1+n,cmp2);\n\tfind_y();//\u6392\u5e8f\u4e0e\u67e5\u627e \n\tcout<<ans1<<\" \"<<ans2<<\" \"<<ans3<<\" \"<<ans4;//\u8f93\u51fa \n\treturn 0;\n}\n```\n",
        "postTime": 1617339416,
        "uid": 300024,
        "name": "miao5",
        "ccfLevel": 4,
        "title": "P1686"
    },
    {
        "content": "[\u9898\u9762](https://www.luogu.com.cn/problem/P1686)\n\n\u770b\u5230\u5173\u952e\u8bcd\uff1a**\u6377\u5f84\u5fc5\u987b\u662f\u76f4\u7ebf**\u3002\n\n\u90a3\u4e5f\u5c31\u610f\u5473\u7740\u6377\u5f84\u4e2d\u7684\u6240\u6709\u70b9\u8981\u4e48\u6a2a\u5750\u6807\u76f8\u540c\u8981\u4e48\u7eb5\u5750\u6807\u76f8\u540c\u3002\n\n\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5148\u627e\u51fa\u6240\u6709\u6a2a\u5750\u6807\u6216\u7eb5\u5750\u6807\u76f8\u540c\u7684\u70b9\uff0c\u7136\u540e\u6309\u4ed6\u4eec\u4e0d\u540c\u7684\u90a3\u4e00\u4e2a\u5750\u6807\u6392\u5e8f\uff0c\u6377\u5f84\u5c31\u662f\u76f8\u90bb\u4e24\u4e2a\u70b9\u7684\u8ddd\u79bb\u3002\n\n\u6bd4\u5982\u6837\u4f8b\u4e00\uff1a\n\n\u6211\u4eec\u5148\u5c06\u6240\u7ed9\u51fa\u7684\u884c\u8d70\u8def\u7ebf\u5904\u7406\u51fa\u6765\u3002\n\n```\n(0,0)\n(1,0)\n(2,0)\n(3,0)\n(3,1)\n(4,1)\n(5,1)\n(5,0)\n(5,-1)\n(5,-2)\n(4,-2)\n(3,-2)\n(3,-3)\n```\n\n\u7136\u540e\u627e\u5230\u6240\u6709\u6a2a\u5750\u6807\u76f8\u540c\u7684\u70b9\u3002\n\n```\n(0,0)\n(1,0)\n(2,0)\n(3,0),(3,1),(3,-2),(3,-3)\n(4,1),(4,-2)\n(5,1),(5,0),(5,-1),(5,-2)\n```\n\n\u7136\u540e\u6309\u7eb5\u5750\u6807\u6392\u5e8f\u3002\n\n```\n(0,0)\n(1,0)\n(2,0)\n(3,-3),(3,-2),(3,0),(3,1)\n(4,-2),(4,1)\n(5,-2),(5,-1),(5,0),(5,1)\n```\n\n\u90a3\u4e48\u6377\u5f84\u5c31\u662f\uff1a\n\n$(3,-3)\\to(3,-2),(3,-2)\\to(3,0),(3,0)\\to(3,1),(4,-2)\\to(4,1),(5,-2)\\to(5,-1),(5,-1)\\to(5,0),(5,0)\\to(5,1)$\u3002\n\n\u4e4b\u540e\u7eb5\u5750\u6807\u4e5f\u4e00\u6837\u64cd\u4f5c\u4e00\u6b21\u5c31\u884c\u4e86\u3002\n\n\u4f46\u662f\u8fd9\u6837\u7b97\u51fa\u6765\u6700\u77ed\u7684\u6377\u5f84\u957f\u5ea6\u4e3a $1$\uff0c\u4e3a\u4ec0\u4e48\uff1f\n\n\u539f\u56e0\u662f\u6709\u7684\u70b9\u662f\u76f8\u90bb\u7684\uff0c\u6bd4\u5982\u7b2c\u4e00\u6b65\u8d70 $(1,0)$\uff0c\u7b2c\u4e8c\u6b65\u8d70 $(1,1)$\uff0c\u867d\u7136\u6a2a\u5750\u6807\u76f8\u540c\uff0c\u4f46\u4e0d\u7b97\u662f\u6377\u5f84\u3002\n\n\u89e3\u51b3\u529e\u6cd5\u662f\u5224\u65ad\u8def\u5f84\u8d77\u70b9\u548c\u7ec8\u70b9\u7684\u7f16\u53f7\u662f\u5426\u4e0d\u76f8\u90bb\u3002\n\n\u5982\u679c\u76f8\u90bb\u8bc1\u660e\u8fd9\u4e2a\u4e0d\u662f\u6377\u5f84\uff0c\u5426\u5219\u5c31\u662f\u6377\u5f84\u3002\n\n\u90a3\u9898\u76ee\u5c31\u8f6c\u53d8\u4e3a\uff1a\n\n\u7ed9\u51fa\u4e00\u6761\u8def\u5f84\uff0c\u627e\u51fa\u4e24\u4e2a\u70b9\u4f7f\u5f97\u8fd9\u4e24\u4e2a\u70b9\u8ddd\u79bb\u6700\u77ed\u4e14\u6a2a\u5750\u6807\u6216\u7eb5\u5750\u6807\u76f8\u540c\u4e14\u7f16\u53f7\u4e0d\u76f8\u90bb\u3002\n\n\u6392\u5e8f\u5c31\u641e\u5b9a\u4e86\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define N 250005\nusing namespace std;\nint n,xx,yy;char ch;\nstruct Point{int x,y,id;};\nstruct Point p[N];\ninline bool cmp1(Point a,Point b){\n    return a.x^b.x?a.x<b.x:a.y<b.y;\n}\ninline bool cmp2(Point a,Point b){\n return a.y^b.y?a.y<b.y:a.x<b.x;\n}\ninline bool cmp3(Point a,Point b){\n    return a.id<b.id;\n}\nint ans(INT_MAX),s,t,w,ss,tt;\nint main(){\n    scanf(\"%d\",&n);p[0]=(Point){0,0,0};\n    for(int i(1);i<=n;++i){\n        scanf(\" %c\",&ch);\n        if(ch=='N') ++xx;\n        if(ch=='S') --xx;\n        if(ch=='W') --yy;\n        if(ch=='E') ++yy;\n        p[i]=(Point){xx,yy,i};\n    }//\u9884\u5904\u7406\u51fa\u6240\u6709\u4f1a\u8d70\u5230\u7684\u70b9\n    sort(p,p+1+n,cmp1);\n    for(int i(1);i<=n;++i){\n        if(p[i].x^p[i-1].x) continue;\n        if(abs(p[i].id-p[i-1].id)^1){\n            w=abs(p[i].y-p[i-1].y);\n            if(p[i].id<p[i-1].id){ss=i;tt=i-1;}\n            else{ss=i-1;tt=i;}\n            if(w<ans){ans=w;s=p[ss].id;t=p[tt].id;}\n            else if(!(w^ans)){\n                if(p[ss].id<s){s=p[ss].id;t=p[tt].id;}\n                else if(!(p[ss].id^s)) t=max(p[tt].id,t);\n            }\n        }\n    }//\u627e\u5230\u6a2a\u5750\u6807\u76f8\u540c\u7684\u70b9\n    sort(p,p+1+n,cmp2);\n    for(int i(1);i<=n;++i){\n        if(p[i].y^p[i-1].y) continue;\n        if(abs(p[i].id-p[i-1].id)^1){\n            w=abs(p[i].x-p[i-1].x);\n            if(p[i].id<p[i-1].id){ss=i;tt=i-1;}\n            else{ss=i-1;tt=i;}\n            if(w<ans){ans=w;s=p[ss].id;t=p[tt].id;}\n            else if(!(w^ans)){\n                if(p[ss].id<s){s=p[ss].id;t=p[tt].id;}\n                else if(!(p[ss].id^s)) t=max(p[tt].id,t);\n            }\n        }\n    }//\u627e\u5230\u7eb5\u5750\u6807\u76f8\u540c\u7684\u70b9\n    printf(\"%d %d %d \",ans,s,t);\n    sort(p+1,p+1+n,cmp3);//\u8fd9\u4e2a\u6392\u5e8f\u53ef\u4ee5\u4e0d\u8981\uff0c\u4f46\u662f\u4ee3\u7801\u4f1a\u590d\u6742\u4e00\u70b9\uff0c\u6211\u61d2\u5f97\u5199\u5c31\u76f4\u63a5\u6392\u5e8f\u4e86\n    if(p[s].x^p[t].x) puts(p[s].x<p[t].x?\"N\":\"S\");\n    else puts(p[s].y<p[t].y?\"E\":\"W\");\n    return 0;\n}\n```",
        "postTime": 1667009001,
        "uid": 554574,
        "name": "gyyyyx",
        "ccfLevel": 0,
        "title": "\u6311\u6218"
    },
    {
        "content": "\u9996\u5148\u8bf4\u4e00\u4e0b\uff0c\u8fd9\u9898\u7684\u5173\u952e\u70b9\u5728\u4e8e\u6377\u5f84\u7684\u5224\u5b9a\u548c\u5e73\u9762\u7684\u626b\u63cf\u3002\n\n![](https://cdn.luogu.com.cn/upload/pic/472.png)\n\n### 1.\u5982\u4f55\u5224\u5b9a\u6377\u5f84\n\u770b\u4e0a\u9762\u8fd9\u5f20\u56fe\uff0c\u5982\u679c\u662f\u4f60\u6765\u505a\uff0c\u4f60\u80af\u5b9a\u4e00\u773c\u5c31\u770b\u89c1\u4e86 C\u2014\u2014D \u548c C\u2014\u2014E \u8fd9\u4e24\u6761\u6377\u5f84\uff0c\u4ed4\u7ec6\u60f3\u4e00\u4e0b\uff0c\u4f60\u662f\u600e\u4e48\u770b\u51fa\u6765\u7684\uff1f\n\n\u9898\u4e2d\u8bb2\u6377\u5f84\u53ea\u6709\u6a2a\u7ad6\u4e24\u79cd\u60c5\u51b5\uff0c\u6240\u4ee5\u6211\u4eec\u4eba\u773c\u5728\u626b\u63cf\u8fd9\u5f20\u56fe\u7684\u65f6\u5019\u5c31\u4f1a\u4e0b\u610f\u8bc6\u5730\u627e\u6709\u6ca1\u6709\u4e24\u4e2a\u70b9\u4e0d\u76f8\u8fde\u5e76\u4e14\u5176\u8fde\u7ebf\u4e3a\u4e1c\u897f\u6216\u5357\u5317\u65b9\u5411\uff0c\u8fd9\u4fbf\u662f\u4eba\u5224\u65ad\u6377\u5f84\u7684\u65b9\u6cd5\uff0c\u540c\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5176\u8f6c\u6362\u6210\u4ee3\u7801\uff0c\u6765\u6a21\u62df\u4eba\u7684\u5224\u5b9a\u8fc7\u7a0b\uff0c\u5177\u4f53\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n\u5148\u7528\u7ed3\u6784\u4f53\u5b58\u50a8\u6a2a\u7eb5\u5750\u6807\uff1a\n```cpp\nstruct node{\n\tint x,y;\n\tint num;//\u6b64\u4e3a\u70b9\u7684\u5e8f\u53f7\uff0c\u5224\u65ad\u70b9\u662f\u5426\u76f8\u8fde\n}a[1000001];\n```\n\u5bf9\u4e8e\u4e24\u4e2a\u70b9\uff0c\u5982\u679c\u5b83\u4eec\u4e0d\u76f8\u8fde\uff0c\u5e76\u4e14\u6a2a\u5750\u6807\u76f8\u540c\u6216\u7eb5\u5750\u6807\u76f8\u540c\uff0c\u4fbf\u53ef\u4ee5\u8ba4\u4e3a\u5b83\u4eec\u4e4b\u95f4\u6709\u6377\u5f84\uff0c\u6700\u540e\u53d6\u6700\u5c0f\u7684\u4e00\u4e2a\u5373\u53ef\u3002\n\n\n### 2.\u5982\u4f55\u626b\u63cf\u8fd9\u4e2a\u5e73\u9762\n\u521a\u624d\u8bb2\u4e86\u5224\u5b9a\u7684\u65b9\u6cd5\uff0c\u63a5\u4e0b\u6765\u8bb2\u5982\u4f55\u904d\u5386\u8fd9\u4e2a\u5e73\u9762\u3002\n\n\u5982\u679c\u7528\u66b4\u529b\u4e24\u4e24\u679a\u4e3e\u7684\u65b9\u6cd5\uff0c\u590d\u6742\u5ea6\u4e3a $O({N}^{2})$ \uff0c\u5f88\u660e\u663e\u4e0d\u884c\uff0c\u8fd9\u91cc\u5c31\u8981\u7528\u5230\u8d2a\u5fc3\u4e86\uff0c\u6240\u6709\u70b9\u5750\u6807\u6392\u5e8f\uff08\u6a2a\u7eb5\u5206\u5f00\u5904\u7406\uff09\uff0c\u6bcf\u6b21\u5904\u7406\u6392\u5e8f\u597d\u76f8\u90bb\u7684\u70b9\u5c31\u884c\u4e86\uff0c\u5982\u679c\u8fd8\u4e0d\u7406\u89e3\uff0c\u53ef\u4ee5\u81ea\u884c\u6a21\u62df\u4e00\u4e0b\u3002\n```cpp\nbool cmp2(node a1,node a2){\n\treturn (a1.x<a2.x) || (a1.x==a2.x && a1.y<a2.y);//\u5750\u6807\u6392\u5e8f\u5f88\u5173\u952e\n}\nbool cmp1(node a1,node a2){\n\treturn (a1.y<a2.y) || (a1.y==a2.y && a1.x<a2.x);\n}\n```\n\u4e0e\u524d\u9762\u8bb2\u7684\u5224\u5b9a\u76f8\u7ed3\u5408\uff0c\u65b9\u6cd5\u5c31\u6e05\u6670\u4e86\uff1a\n```cpp\nif(a[i].x==a[i+1].x){\n\tif(abs(a[i].num-a[i+1].num)==1){\n\t\tcontinue;\n\t}\n\tint dis=a[i+1].y-a[i].y;\n\tchar dt;\n\tint fr,t;\n\tif(a[i].num<a[i+1].num){\n\t\tdt='N';\n\t\tfr=a[i].num;\n\t\tt=a[i+1].num;\n\t}\n\telse{\n\t\tdt='S';\n\t\tfr=a[i+1].num;\n\t\tt=a[i].num;\n\t}\n}\n```\n\n### AC code:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct node{\n\tint x,y;\n\tint num;\n}a[1000001];\nchar c;\nbool cmp2(node a1,node a2){\n\treturn (a1.x<a2.x) || (a1.x==a2.x && a1.y<a2.y);\n}\nbool cmp1(node a1,node a2){\n\treturn (a1.y<a2.y) || (a1.y==a2.y && a1.x<a2.x);\n}\nint main(){\n\tint n;\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>c;\n\t\ta[i].num=i;\n\t\tif(c=='N'){\n\t\t\ta[i].x=a[i-1].x;\n\t\t\ta[i].y=a[i-1].y+1;\n\t\t}\n\t\tif(c=='S'){\n\t\t\ta[i].x=a[i-1].x;\n\t\t\ta[i].y=a[i-1].y-1;\n\t\t}\n\t\tif(c=='E'){\n\t\t\ta[i].y=a[i-1].y;\n\t\t\ta[i].x=a[i-1].x+1;\n\t\t}\n\t\tif(c=='W'){\n\t\t\ta[i].y=a[i-1].y;\n\t\t\ta[i].x=a[i-1].x-1;\n\t\t}\n\t}\n\tsort(a,a+n+1,cmp1);//\u5148\u5904\u7406\u6a2a\u5411\u6377\u5f84 \n\tint ans=1e8,from=1e8,to=-1e8;//\u6ce8\u610f\u521d\u59cb\u5316 \n\tchar dire;//\u6700\u7ec8\u65b9\u5411 \n\tfor(int i=0;i<n;i++){\n\t\tif(a[i].y==a[i+1].y){\n\t\t\tif(abs(a[i].num-a[i+1].num)==1){\n\t\t\t\tcontinue;//\u5982\u679c\u5df2\u7ecf\u6709\u8fde\u7ebf\u4e86\uff0c\u76f4\u63a5continue \n\t\t\t}\n\t\t\tint dis=abs(a[i].x-a[i+1].x),fr,t;//\u7b97\u8ddd\u79bb \n\t\t\tchar dt;//\u5b58\u50a8\u6682\u65f6\u7684\u65b9\u5411 \n\t\t\tif(a[i].num<a[i+1].num){\n\t\t\t\tfr=a[i].num;\n\t\t\t\tt=a[i+1].num; \n\t\t\t\tdt='E';//\u5224\u65ad\u8d77\u70b9\u4e0e\u7ec8\u70b9\uff0c\u4e0b\u540c \n\t\t\t}\n\t\t\telse{\n\t\t\t\tfr=a[i+1].num;\n\t\t\t\tt=a[i].num;\n\t\t\t\tdt='W';\n\t\t\t}\n\t\t\tif(dis==ans){//\u5982\u679c\u6709\u76f8\u540c\u7684\u60c5\u51b5\uff0c\u6309\u9898\u610f\u5904\u7406 \n\t\t\t\tif(fr<from){\n\t\t\t\t\tfrom=fr;\n\t\t\t\t\tdire=dt;\n\t\t\t\t\tto=t;\n\t\t\t\t}\n\t\t\t\telse if(fr==from){\n\t\t\t\t\tif(t>to){\n\t\t\t\t\t\tfrom=fr;\n\t\t\t\t\t\tto=t;\n\t\t\t\t\t\tdire=dt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(dis<ans){//\u8fd9\u6761\u6377\u5f84\u66f4\u77ed\uff0c\u6539\u53d8\u6570\u636e \n\t\t\t\tans=dis;\n\t\t\t\tfrom=fr;\n\t\t\t\tdire=dt;\n\t\t\t\tto=t;\n\t\t\t}\n\t\t}\n\t}\n\tsort(a,a+n+1,cmp2);//\u4e0e\u4e0a\u9762\u4e00\u6837\uff0c\u5904\u7406\u7eb5\u5411\u6377\u5f84 \n\tfor(int i=0;i<n;i++){\n\t\tif(a[i].x==a[i+1].x){\n\t\t\tif(abs(a[i].num-a[i+1].num)==1){\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint dis=a[i+1].y-a[i].y;\n\t\t\tchar dt;\n\t\t\tint fr,t;\n\t\t\tif(a[i].num<a[i+1].num){\n\t\t\t\tdt='N';\n\t\t\t\tfr=a[i].num;\n\t\t\t\tt=a[i+1].num;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdt='S';\n\t\t\t\tfr=a[i+1].num;\n\t\t\t\tt=a[i].num;\n\t\t\t}\n\t\t\tif(dis==ans){\n\t\t\t\tif(fr<from){\n\t\t\t\t\tdire=dt;\n\t\t\t\t\tfrom=fr;\n\t\t\t\t\tto=t;\n\t\t\t\t}\n\t\t\t\telse if(fr==from){\n\t\t\t\t\tif(t>to){\n\t\t\t\t\t\tto=t;\n\t\t\t\t\t\tfrom=fr;\n\t\t\t\t\t\tdire=dt;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(dis<ans){\n\t\t\t\tans=dis;\n\t\t\t\tdire=dt;\n\t\t\t\tfrom=fr;\n\t\t\t\tto=t;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<\" \"<<from<<\" \"<<to<<\" \"<<dire;\n\treturn 0;\n}\n\n```\n\n",
        "postTime": 1657518758,
        "uid": 227977,
        "name": "newbeeglass",
        "ccfLevel": 6,
        "title": "P1686\u9898\u89e3"
    }
]