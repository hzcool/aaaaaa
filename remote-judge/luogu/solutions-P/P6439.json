[
    {
        "content": "\u601d\u8def\uff1a\n\n\u5148\u628a\u6240\u6709\u62ec\u53f7\u7684\u4f4d\u7f6e\u8bb0\u5f55\u4e0b\u6765\uff0c\u4ee5 pair \u7684\u5f62\u5f0f\u50a8\u5b58\u3002\n\n\u8bbe\u5171\u6709 $k$ \u5bf9\u62ec\u53f7\uff0c\u5219\u8bbe\u8ba1\u72b6\u6001\uff0c\u5373\u5217\u4e3e $\\sum\\limits_{i=1}^{2^k-1}i$ \u3002\u8fd9\u91cc $i$ \u7684\u4e8c\u8fdb\u5236\u4e2d\u6700\u540e\u7b2c $p$ \u4f4d\u4e3a $1$ \u5219\u4ee3\u8868\u53bb\u6389\u7b2c $p$ \u4e2a\u62ec\u53f7\u3002\u53cd\u4e4b\uff0c\u4e0d\u53bb\u6389\u7b2c $p$ \u4e2a\u62ec\u53f7\u3002\uff08\u56e0\u4e3a\u5fc5\u987b\u53bb\u6389\u81f3\u5c11\u4e00\u4e2a\u62ec\u53f7\uff0c\u6240\u4ee5 $i=0$ \u4e0d\u9700\u8981\u8003\u8651\uff09\n\n\u5c06\u6240\u6709\u7684\u7b54\u6848\u5b58\u5165\u4e00\u4e2a set \uff08\u56e0\u4e3a set \u6709\u6392\u5e8f\u548c\u53bb\u91cd\u7684\u529f\u80fd\uff09\uff0c\u6700\u540e\u5c06 set \u91cc\u6240\u6709\u7684\u5143\u7d20\u4f9d\u6b21\u8f93\u51fa\u5c31\u884c\u4e86\uff01\n\n**\u5bf9\u4e8e set \u7684\u4e24\u4e2a\u6ce8\u610f\uff1a**\n\n**1. \u8bbf\u95ee set \u5185\u5143\u7d20\u65f6\u5fc5\u987b\u4f7f\u7528\u5bf9\u5e94\u7684\u6307\u9488\uff01\uff01\u4f46\u662f\u5728\u8c03\u7528\u65f6\u53ef\u4ee5\u901a\u8fc7\u5728\u6307\u9488\u524d\u52a0 `*` \u8c03\u7528\uff0c\u5982 `*it` **\n\n**2. set \u63d2\u5165\u5143\u7d20\u7528 insert \uff0c\u800c\u4e0d\u662f vector \u6216 queue \u7684 push(\\_back)**\n\n\u4e0e @\u262f\u262f\u67ab\u262f\u262f \u7684\u9898\u89e3\u7684\u4e0d\u4e00\u6837\u5904\u5728\u4e8e\u8fd9\u4e2a\u4ee3\u7801\u53ef\u4ee5\u8fb9\u8bb0\u5f55\u8fb9\u53bb\u91cd\u8fb9\u6392\u5e8f\uff0c\u800c TA \u7684\u9898\u89e3\u662f\u5728\u6240\u6709\u7684\u7b54\u6848\u7b97\u597d\u540e\u8fdb\u884c\u6392\u5e8f\n\n\u6b63\u89e3\u4ee3\u7801\uff08\u4e0d\u8981\u6284\uff01\uff09\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int err=-120712,N=209;\nstring st;\nvector<pair<int,int> >kh;\nstring construct(int stat,string st){\n\tbool ava[N];int pointer=0;\n\tmemset(ava,-1,sizeof(ava));\n\twhile(stat){\n\t\tif(stat&1){\n\t\t\tava[kh[pointer].first]=ava[kh[pointer].second]=0;\n\t\t}\n\t\tstat>>=1;\n\t\tpointer++;\n\t}//\u8bb0\u5f55\u4fdd\u7559\u5b57\u8282\n\tstring ret;\n\tfor(int i=0;i<st.size();++i)\n\tif(ava[i]) ret=ret+st[i];//\u7ec4\u6210\u7b54\u6848\n\treturn ret;\n}\nset<string>ans;\nint main(){\n\tcin>>st;\n\tvector<int>tmp;\n\tfor(int i=0;i<st.size();++i){\n\t\tif(st[i]=='(') tmp.push_back(i);\n\t\tif(st[i]==')'){\n\t\t\tkh.push_back(make_pair(tmp[tmp.size()-1],i));\n\t\t\ttmp.pop_back();\n\t\t}\n\t}//\u8bb0\u5f55\u62ec\u53f7\u4f4d\u7f6e\n\tfor(int i=1;i<(1<<kh.size());++i) ans.insert(construct(i,st));//\u751f\u6210\u7b54\u6848\n\tfor(set<string>::iterator it=ans.begin();it!=ans.end();++it) cout<<*it<<endl;//\u8f93\u51fa\u7b54\u6848\n\treturn 0;}\n```",
        "postTime": 1625727602,
        "uid": 224222,
        "name": "fz20181223",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P6439 \u3010[COCI2011-2012#6] ZAGRADE\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P6439)\n\n[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/lbh2021/p/14932733.html)\n\n**\u7b97\u6cd5\u5206\u6790\uff1a\u8bb0\u5fc6\u5316\u641c\u7d22**\n\n~~\u4e00\u9053\u6c34\u9898\u3002~~\n\n\u5efa\u8bae\u96be\u5ea6\uff1a\u9ec4\u3002\n\n\u9996\u5148\u5229\u7528\u6808\u8fdb\u884c\u62ec\u53f7\u5339\u914d\uff0c\u9047\u5230\u5de6\u62ec\u53f7\u5165\u6808\uff0c\u9047\u5230\u53f3\u62ec\u53f7\u5219\u628a\u6808\u9876\u5f39\u51fa\u5e76\u8bb0\u5f55\u3002\u4e0d\u591a\u8bf4\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\ninline void cot() {\n\tstack<int> s;\n\tF(i,1,n) {\n\t\tif(c[i]=='(')s.push(i);\n\t\tif(c[i]==')')b[++cnt]= {s.top(),i},s.pop();\n\t}\n}\n```\n\n\u7136\u540e\u5c31\u662f\u641c\u7d22\uff0c\u7531\u4e8e\u62ec\u53f7\u6570\u91cf\u8f83\u5c11\uff0c\u53ef\u4ee5\u7528\u72b6\u538b\u8bb0\u5f55\u4f7f\u7528\u60c5\u51b5\u3002\u5bf9\u4e8e\u6bcf\u4e00\u79cd\u72b6\u6001\uff0c\u66b4\u529b\u7edf\u8ba1\u6d88\u53bb\u7684\u62ec\u53f7\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u518d\u66b4\u529b\u5c06\u5269\u4f59\u7684\u5b57\u7b26\u52a0\u5230\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u3002\u7528 string \u50a8\u5b58\uff0c\u6700\u7ec8\u53ef\u4ee5\u76f4\u63a5 sort \u6392\u5e8f\uff0c\u5728\u8fc7\u7a0b\u4e2d\u5c31\u65e0\u9700\u8003\u8651\u5b57\u5178\u5e8f\u3002\u4e8e\u662f\u5c31\u5199\u5b8c\u4e86\u2026\u2026\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define reg register\n#define F(i,a,b) for(reg int i=a;i<=b;++i)\nusing namespace std;\nconst int N=1e4+10,M=250;\nint n,cnt,now;\nbool vis[M],meet[N];\nchar c[M];\nstruct P {\n\tint l,r;\n} b[N];\nstring s[N];\ninline void cot() {//\u62ec\u53f7\u5339\u914d \n\tstack<int> s;\n\tF(i,1,n) {\n\t\tif(c[i]=='(')s.push(i);\n\t\tif(c[i]==')')b[++cnt]= {s.top(),i},s.pop();\n\t}\n}\ninline void inp(int sta) {//\u66b4\u529b\u7ec4\u5408\u5b57\u7b26 \n\t++now;\n\tF(i,1,cnt) {\n\t\tint l=b[i].l,r=b[i].r;\n\t\tif(sta&(1<<i-1))vis[l]=vis[r]=1;\n\t}\n\tF(i,1,n){\n\t\tif(!vis[i])s[now]+=c[i];\n\t\tvis[i]=0;\n\t}\n}\nvoid dfs(int sta) {\n\n\tif(meet[sta])return;\n\tmeet[sta]=1;//\u8bb0\u5fc6\u5316 \n\n\tif(sta)inp(sta);//\u8bb0\u5f55\u5f53\u524d\u72b6\u6001\u4e0b\u7684\u5b57\u7b26\u4e32 \n\tF(i,1,cnt) {//\u641c\u7d22 \n\t\tif(sta&(1<<i-1))continue;\n\t\tdfs(sta|(1<<i-1));\n\t}\n}\nint main() {\n\tgetline(cin,s[0]);\n\tn=s[0].size();\n\tF(i,0,n-1)if(s[0][i]!=' ')c[i+1]=s[0][i];\n\tcot();\n\tdfs(0);\n\tsort(s+1,s+now+1);//\u6392\u5e8f \n\tnow=unique(s+1,s+now+1)-s-1;//\u53bb\u91cd \n\tF(i,1,now)cout<<s[i]<<endl;\n\treturn 0;\n}\n```\n[AC](https://www.luogu.com.cn/record/52085092)\n\n\u6b22\u8fce\u4ea4\u6d41\u8ba8\u8bba\uff0c\u8bf7\u70b9\u4e2a\u8d5e\u54e6~",
        "postTime": 1624611570,
        "uid": 415473,
        "name": "\u262f\u262f\u67ab\u262f\u262f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6439 [COCI2011-2012#6] ZAGRADE"
    },
    {
        "content": "#  P6439 [COCI2011-2012#6] ZAGRADE \u9898\u89e3\n\n~~\u6700\u4f18\u89e3\uff0c\u563f\u563f~~\n\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P6439)\n\n\u8fd9\u9053\u9898\u7684\u9898\u76ee\u8981\u6c42\u4f60\u5220\u6389\u4e00\u4e9b\u5339\u914d\u7684\u62ec\u53f7\uff0c\u8ba9\u4f60\u6309\u7167\u5b57\u5178\u5e8f\u8f93\u51fa\u6240\u6709\u5220\u6389\u540e\u7684\u6240\u6709\u53ef\u80fd\u7684\u8868\u8fbe\u5f0f\u3002\n\n\u6211\u4eec\u53d1\u73b0\u8fd9\u9053\u9898\u76ee\u9700\u8981\u8ba9\u6211\u4eec\u6765\u627e\u5339\u914d\u62ec\u53f7\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53ef\u4ee5\u4f7f\u7528 **\u6808** \u6a21\u62df\u3002\u9047\u5230\u505a\u62ec\u53f7\u5c31\u5165\u6808\uff0c\u9047\u5230\u6709\u62ec\u53f7\u5c31\u548c\u6808\u9876\u7684\u5de6\u62ec\u53f7\u5339\u914d\uff0c\u5e76\u4e14\u51fa\u6808\u3002\n\n\u7136\u540e\u5c31\u662f $\\text{dfs}$ \u8fd9\u4e2a\u5e8f\u5217\uff0c\u9009\u62e9\u5220\u9664\u6216\u8005\u4e0d\u5220\u9664\u67d0\u4e00\u5bf9\u62ec\u53f7\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u5566\u3002\u5220\u9664\u8fd9\u4e2a\u8fc7\u7a0b\u81ea\u8ba4\u4e3a\u4f7f\u7528 **\u94fe\u8868** \u8f83\u4e3a\u65b9\u4fbf\u3002\n\n\u6700\u540e\u6309\u7167\u5b57\u5178\u5e8f\u8f93\u51fa\u7684\u8bdd\u7528 $\\text{set}$ \u5c31\u597d\u5566 $\\text{qwq}$\u3002 \n\n$\\text{Code:}$\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 210;\nint st[N], l[N], r[N], nxt[N], n, top;\nchar s[N];\nset<string> t;\nstring getstr() {\n    string ans;\n    for (int i = r[0]; i; i = r[i]) ans.push_back(s[i]);\n    return ans;\n}\ninline void del(int x) { l[r[x]] = l[x], r[l[x]] = r[x]; }\ninline void rem(int x) { r[l[x]] = x, l[r[x]] = x; }\nvoid dfs(int step, int cnt) {\n    if (!step) {\n        if (cnt) t.insert(getstr());\n        return;\n    }\n    dfs(r[step], cnt);\n    if (s[step] == '(') del(step), del(nxt[step]), dfs(step + 1, cnt + 1), rem(nxt[step]), rem(step);\n}\nint main() {\n    scanf(\"%s\", s + 1), n = strlen(s + 1);\n    for (int i = 1; i <= n; i++) {\n        if (s[i] == '(') st[++top] = i;\n        if (s[i] == ')') nxt[st[top--]] = i;\n    }\n    for (int i = 0; i <= n; i++) r[i] = i + 1, l[i + 1] = i;\n    r[n] = 0, l[0] = n, dfs(1, 0);\n    for (set<string>::iterator it = t.begin(); it != t.end(); it++) printf(\"%s\\n\", it->c_str());\n    return 0;\n}\n```",
        "postTime": 1663289924,
        "uid": 615348,
        "name": "zhouershan",
        "ccfLevel": 7,
        "title": "P6439 [COCI2011-2012#6] ZAGRADE \u9898\u89e3"
    }
]