[
    {
        "content": "\u8fd9\u9898\u5c31\u4e00**\u8d2a\u5fc3**\n\n\u5047\u8bbe\u4f60\u6709\u4e00\u79cd**\u5230\u4e86\u673a\u623f\u5c31\u5fc5\u987bAK**\u7684\u6b32\u671b\n\n\u800c\u4e14\u6709\u8d85\u80fd\u529b\u53ef\u4ee5**\u8ba9\u81ea\u5df1AK\u7684\u673a\u623f\u53d8\u5f97WA\u3001TLE\u3001MLE......\uff0c\u7136\u540e\u8fd4\u8fd8\u4f60\u7684\u65f6\u95f4**\n\n\u5047\u8bbe\u4f60\u8d70\u5230\u4e86\u4e00\u4e2a\u673a\u623f\uff0cAK\u4e86\u4e4b\u524d\u7684\u6240\u6709\u673a\u623f\uff0c\u4f46\u662f\u65f6\u95f4\u8d85\u8fc7\u4e86m\uff0c\u4f60\u662f\u9009\u62e9\u7528\u65f6\u6700\u5c11\u7684\u673a\u623fWA\u6389\uff0c\u8fd8\u662f\u6700\u591a\u7684\u5462(\u76f8\u5f53\u4e8e\u8def\u8fc7)\n\n\u7b54\u6848\u80af\u5b9a\u662f\u4e0d\u5728\u7528\u65f6\u6700\u591a\u7684\u673a\u623fAK\n\n\u4e8e\u662f\u6309\u673a\u623f\u5230\u5bb6\u7684\u8ddd\u79bb\u4ece\u8fd1\u5230\u8fdc\u6392\u5e8f\n\n\u4e00\u4e2a\u4e00\u4e2a\u673a\u623f\u7684\u53bbAK ~~dreaming~~\n\n\u5f53\u4f60\u5f53\u4e86i\u673a\u623f\u540e\uff0c\u4e8e\u662f\u5224\u65adm\u65f6\u95f4\u662f\u5426\u7528\u5b8c\uff0c\u5982\u679c\u8d85\u4e86\uff0c\u90a3\u5c31\u53cd\u590d\u4f7f\u4e4b\u524d\u7528\u6700\u591a\u65f6\u95f4AK\u7684\u673a\u623f\u53d8\u5f97WA\uff0c\u5e76\u8fd4\u8fd8\u65f6\u95f4\uff0c\u76f4\u5230\u7528\u7684\u65f6\u95f4\u5c11\u4e8em\uff0c\u90a3\u4e48\u7ee7\u7eed\u5f80\u524d\u8d70\n\n\u5728\u8def\u4e0a\u53d6max\u5c31\u597d\u4e86\n\n\u8fd8\u6ca1\u61c2\u5c31\u770b\u770b\u4ee3\u7801\u5b9e\u73b0\n\n```cpp\n//12252024832524\n#include <queue>\n#include <cstdio>\n#include <algorithm>\n#define Max(x,y) (x>y?x:y)\nusing namespace std;\n\ntypedef long long LL;\nconst LL MAXN = 100005;\nLL n,m;\nstruct node\n{\n\tLL x,t;\n\tbool operator < (const node &px)const\n\t{\n\t\treturn x < px.x;\n\t}\n}cr[MAXN];//computer room \u673a\u623f\npriority_queue<LL> q;\n\nLL Read()\n{\n\tLL x = 0,f = 1;char c = getchar();\n\twhile(c > '9' || c < '0'){if(c == '-')f = -1;c = getchar();}\n\twhile(c >= '0' && c <= '9'){x = (x*10) + (c^48);c = getchar();}\n\treturn x * f;\n}\n\nint main()\n{\n\tn = Read();\n\tm = Read();\n\tfor(int i = 1;i <= n;++ i)\n\t{\n\t\tcr[i].x = Read();\n\t\tcr[i].t = Read();\n\t}\n\tsort(cr+1,cr+n+1);//\u6309\u8ddd\u79bb\u6392\u5e8f \n\tLL tim = 0,ans = 0,AK = 0;\n\tfor(int i = 1;i <= n;++ i)\n\t{\n\t\ttim += cr[i].x - cr[i-1].x;//\u8d70\u5230i\u673a\u623f\u6240\u7528\u65f6\u95f4 \n\t\tq.push(cr[i].t);//AK\u7684\u6b32\u671b \n\t\tAK++;\n\t\ttim += cr[i].t;\n\t\twhile(!q.empty() && tim > m)//\u5982\u679c\u7528\u7684\u65f6\u95f4\u591a\u4e8em\uff0c\u53d1\u52a8\u8d85\u80fd\u529b \n\t\t{\n\t\t\tAK --;\n\t\t\ttim -= q.top();\n\t\t\tq.pop();\n\t\t}\n\t\tif(tim > m)//\u8fd4\u8fd8\u6240\u6709\u65f6\u95f4\uff0c\u4f46\u662f\u4ecd\u7136\u8d85\u8fc7\u4e86m \n\t\t\tbreak;//\u522b\u8d70\u4e86\uff0c\u518d\u8d70\u4e5f\u6ca1\u65f6\u95f4AK\u4e86\n\t\tans = Max(ans,AK);//\u53d6max \n\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1563359823,
        "uid": 137437,
        "name": "PPL_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2107 \u3010\u5c0fZ\u7684AK\u8ba1\u5212\u3011"
    },
    {
        "content": "~~\u4e0d\u4f1a\u5806\u7684\u849f\u84bb\u6253\u6392\u5e8f\u540e\u60ca\u5947\u7684\u53d1\u73b0\u8dd1\u5f97\u6bd4\u5806\u5feb\n\uff08\u670b\u53cb\u5199\u5806\u7528\u4e86260ms\uff0c\u800c\u6211\u53ea\u7528\u4e86210ms\uff09~~\n\n\u601d\u8def\uff1b\n\n1.\u628a\u6bcf\u4e00\u5bb6\u673a\u623f\u7684\u8def\u7a0b\u548cAK\u65f6\u95f4\u8bb0\u4e0b\u6765\uff0c\u518d\u7528\u53e6\u5916\u4e00\u4e2a\u6570\u7ec4\u6c47\u603b\n\uff08\u4e0d\u8fb9\u8bfb\u8fb9\u6c47\u603b\u7684\u539f\u56e0\u5728\u4e0b\u9762\uff09\n\n2.\u7528\u8fd9\u4e2a\u6c47\u603b\u7684\u6570\u636e\u6392\u5e8f\uff1b\n\n**3.\u91cd\u70b9\uff1a\u4ece x1 \u5230 x2 \u6240\u8017\u8d39\u7684\u65f6\u95f4\u4e3a |x1 \u2212 x2|\u3002**\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u5237\u5b8c\u4e00\u5bb6\u673a\u623f\uff0c\u5230\u53e6\u4e00\u5bb6\u673a\u623f\u6240\u7528\u7684\u65f6\u95f4\u5e94\u4e3a\n\n |\u8fd9\u5bb6\u673a\u623f\u7684\u4f4d\u7f6e-\u4e0b\u4e00\u5bb6\u673a\u623f\u7684\u4f4d\u7f6e|\n \n\uff08\u5728\u8fd9\u91cc\u53ef\u4ee5\u7b80\u5316\u4e3a\u201c\u4e0b\u4e00\u5bb6\u7684\u4f4d\u7f6e-\u8fd9\u5bb6\u7684\u4f4d\u7f6e\u201d\uff0c\u56e0\u4e3a\u673a\u623f\u5728\u8857\u4e0a\u7684\u4f4d\u7f6e\u4e00\u5b9a\u662f\u6b63\u7684\uff09\n\n**\u6240\u4ee5\u8d70\u8def\u65f6\u95f4\u662f\u5fc5\u987b\u8981\u5206\u79bb\u51fa\u6765\u7684\u3002**\u6211\u8bbe\u4e86\u4e00\u4e2a\u53d8\u91cf\"last\"\uff0c\u6765\u8bb0\u4f4f\u8fd9\u5bb6\u7684\u4f4d\u7f6e\uff0c\u5e76\u5728\u5230\u8fbe\u53e6\u4e00\u5bb6\u673a\u623f\u65f6\u66f4\u65b0\n\n\u597d\u4e86\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nstruct AK     //\u5b9a\u4e49\u4e86\u4e00\u4e2a\u53eb\u201cAK\u201d\u7684\u7ed3\u6784\u4f53\uff0c\u9632\u6b62\u7b49\u4e00\u4e0b\u6392\u5b8c\u5e8f\u6570\u636e\u5bf9\u4e0d\u4e0a\u53f7\n{\n    long long int road;  //\u8bb0\u5f55\u6bcf\u4e00\u5bb6\u673a\u623f\u7684\u4f4d\u7f6e\n    long long int time;  //\u8bb0\u5f55\u6bcf\u4e00\u5bb6\u673a\u623f\u7684AK\u65f6\u95f4\n    long long int fnl;  //\u628a\u4e0a\u9762\u7684\u6570\u636e\u6c47\u603b\n};\nAK a[200000]; //\u5b9a\u4e49\u6570\u7ec4\nint\tcmp(AK aa,AK b) //\u6bd4\u8f83\u51fd\u6570\uff08\u5728\u7ed3\u6784\u4f53\u5185\uff0c\u6240\u6709\u8fd0\u7b97\u90fd\u9700\u8981\u91cd\u65b0\u5b9a\u4e49\uff09\n{\n    return aa.fnl<b.fnl;\n    }\nlong long int ans;//\u53ef\u4ee5\u5237\u7684\u673a\u623f\u6570\u91cf\nlong long int last;//\u4e0a\u4e00\u5bb6\u673a\u623f\u7684\u4f4d\u7f6e\uff0c\u521d\u59cb\u4e3a0\u5373\u81ea\u5df1\u5bb6\nlong long int used_time;//\u5df2\u4f7f\u7528\u7684\u5355\u4f4d\u65f6\u95f4\nint main()\n{\n    long long int n,m;//\u673a\u623f\u6570\u4e0e\u53ef\u7528\u65f6\u95f4\n    scanf(\"%lld%lld\",&n,&m);\n    for(int i = 1;i <= n;i++)\n    {\n    scanf(\"%lld%lld\",&a[i].road,&a[i].time);//\u8bfb\u5165\u673a\u623f\u4f4d\u7f6e\u4e0eAK\u65f6\u95f4\n    a[i].fnl = a[i].road + a[i].time;//\u6c47\u603b\n}\n    sort(a+1,a+n+1,cmp);//\u7528\u6bd4\u8f83\u51fd\u6570\u6392\u5e8f\uff08\u9700\u65f6\u5c11\u7684\u673a\u623f\u80af\u5b9a\u5728\u524d\uff09\n    for(int h = 1;;h++)\n    {\n        if(used_time + a[h].fnl-last > m\uff09{printf(\"%lld\",ans);break;}\n        //\u5224\u65ad\uff1a\u65f6\u95f4\u8d85\u4e86\u5c31\u7ec8\u6b62\u5faa\u73af\u5e76\u8f93\u51fa\u53ef\u5237\u7684\u673a\u623f\u6570\n        else used_time += a[h].fnl-last;\n        //\u5426\u5219\u5c31\u628a\u65f6\u95f4\u52a0\u4e0a\u53bb\n        last = a[h].road;\n        //**\u66f4\u65b0\u8fd9\u5bb6\u673a\u623f\u7684\u4f4d\u7f6e\n        ans+=1\uff1b\n        //\u53c8AK\u4e86\u4e00\u5bb6\u673a\u623f     | |\n                           _____\n    }\n    return 0;\n}\n```\n\n~~\u5c0fZ\u6015\u662flmh\u626e\u7684~~",
        "postTime": 1531464195,
        "uid": 81364,
        "name": "Calc_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2107 \u3010\u5c0fZ\u7684AK\u8ba1\u5212\u3011"
    },
    {
        "content": "\u601d\u8def\uff1a\u7528 **\u6392\u5e8f + \u5806** \u6765\u5b9e\u73b0**\u8d2a\u5fc3**\n\n\u4e0d\u5f97\u4e0d\u8bf4\u8fd9\u4f4d\u5c0fZ\u6bd4\u6211\u5f3a\u592a\u591a\u4e86QAQ\u3002\n\n----\n\n\u6b63\u7247\u5f00\u59cb\uff1a\n\n\u9996\u5148\u8bfb\u5165\u6570\u636e\uff0c\u5904\u7406\u4e00\u4e0b\u4ece\u4e0a\u4e00\u4e2a\u673a\u623f\u8d70\u5230\u672c\u5730\u70b9\u7684\u8def\u7a0b\uff08\u7b49\u4f1a\u8981\u7528\uff09\uff0c\u7136\u540e\u6309\u7167\u5f53\u524d\u5730\u70b9\u5230\u5bb6\u7684\u8ddd\u79bb\u6392\u5e8f\u3002\n\n\u63a5\u4e0b\u6765\u5c31\u662f\u6c42\u89e3\u90e8\u5206\uff1a\n\n\u9996\u5148\uff0c\u5efa\u7acb\u4e00\u4e2a\u5927\u6839\u5806\u3002\u7136\u540e\u904d\u5386\u6392\u597d\u5e8f\u7684\u6570\u636e\uff0c\u8981\u662f\u8fd9\u4e2a\u623f\u95f4\u80fd AK \uff0c\u90a3\u5c31 AK \u4e86\u518d\u8d70\u5457\u3002\u8981\u662f\u8fd9\u4e2a\u673a\u623f\u65f6\u95f4\u4e0d\u591f\u4e86\uff0c\u5c31\u4ece\u539f\u6765\u90a3\u91cc\u627e\u4e00\u4e2a\u65f6\u95f4\u6700\u5927\u7684\uff0c\u8fd0\u7528~~\u5965\u4e49\u00b7\u8fd4\u8fd8\u65f6\u95f4~~\uff0c\u628a\u65f6\u95f4\u62ff\u56de\u6765\u7ed9\u8fd9\u4e2a\u673a\u623fAK\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u8981\u4e0d\u65ad\u53d6$\\max$\u3002\n\n\u5728\u51b3\u7b56\u8fc7\u7a0b\u4e2d\uff0c\u8981\u662f\u51fa\u73b0\u5c31\u7b97\u600e\u4e48\u53cd\u8fd8\u65f6\u95f4\u4e5f\u4e0d\u591f\u7684\u8bdd\uff0c\u8bf4\u660e\u540e\u9762\u7684\u4f60\u538b\u6839\u5c31 AK \u4e0d\u4e86\uff0c\u6240\u4ee5\u660e\u667a\u7684\u7ed3\u675f~~\u88c5B~~\u5faa\u73af\u3002\n\n\u4ee3\u7801\u89c1\u4e0b\uff08\u56fe\u7701\u4e8b\u7528\u4e86 pair \uff0c\u56e0\u4e3a\u53ef\u4ee5\u4e0d\u7528\u91cd\u8f7d\u8fd0\u7b97\u7b26\uff09\u3002\n\n``` cpp\n#include<bits/stdc++.h>\n#define int long long\n#define pi pair<int,int>\n#define F first\n#define S second\n#define mp make_pair\nusing namespace std;\npi a[100005];\npriority_queue<pi> q;\nint now,pro,sum;//now\u662f\u5f53\u524d\u65f6\u95f4\uff0cpro\u662f\u5f53\u524d\u9898\u76ee\uff0csum\u662f\u6700\u7ec8\u7b54\u6848\nsigned main() {\n\tint n,m;\n\tcin>>n>>m;\n\tfor(int i=1; i<=n; i++) {\n\t\tint x,y;\n\t\tcin>>x>>y;\n\t\ta[i]=mp(x,y);\n\t}\n\tsort(a+1,a+n+1);\n\tfor(int i=1; i<=n; i++) {\n\t\tnow+=a[i].F-a[i-1].F;//\u52a0\u4e0a\u8d70\u8def\u7684\u65f6\u95f4\n\t\tq.push(mp(a[i].S,a[i].F));\n\t\t++pro;\n\t\tnow+=a[i].S;\n\t\tif(now>m) {\n\t\t\twhile(now>m&&q.size()) {//\u8fd4\u8fd8\u65f6\u95f4\n\t\t\t\tpro--;\n\t\t\t\tnow-=q.top().F;\n\t\t\t\tq.pop();\n\t\t\t}\n\t\t}\n\t\tif(now>m) {//\u4e0a\u6587\u6240\u8ff0\u660e\u667a\u9009\u62e9\n\t\t\tbreak;\n\t\t}\n\t\tsum=max(sum,pro);\n\t}\n\tcout<<sum;\n\treturn 0;\n}\n```",
        "postTime": 1585406156,
        "uid": 189521,
        "name": "ahawzlc",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2107 \u3010\u5c0fZ\u7684AK\u8ba1\u5212\u3011"
    },
    {
        "content": "**\u6ca1\u4eba\u53d1\u9898\u89e3**\n\n###\u901a\u8fc7\u7387\u771f\u7684\u662f\u4f4e\u7684\u53ef\u4ee5\uff08\u4e3b\u8981\u662f\u6837\u4f8b\u8fc7\u6c34\u5bfc\u81f4\u7684\uff09\n\n\u4e00\u5f00\u59cb\u770b\u5230\u9898\u76ee\u6ca1\u6709\u4e00\u70b9\u5934\u7eea\u3002\u3002\u3002\n\n\u60f3\u4e86\u4e00\u4f1a\uff0c\u7136\u540e\u5c31\u7528\u65f6\u95f4\u590d\u6742\u5ea6n^3\u7684dp\u4e71\u641e\uff0c60\u5206\uff08\u559c\u6ecb\u6ecb\uff09\u3002\n\n\u7b80\u8981\u8bb2\u4e0b\uff1a\n\nf[i,j]\u8868\u793a\u53bb\u4e86i\u4e2a\u673a\u623f,\u6700\u540e\u4e00\u4e2a\u4e3aj\n\n**\u8f6c\u79fb\u65b9\u7a0b\uff1af[i,j]:=x[j]+t[j]+min{f[i-1,k]}**\n\n\u63a5\u4e0b\u6765\u5c31\u53bb\u770b\u901a\u8fc7\u7684dalao\u7684\u4ee3\u7801\uff0c\u5c45\u7136\u6709Splay\uff08\u849f\u84bb\u7684\u6211\u4e00\u8138\u61f5\u903c\uff09\uff0c\u4e0d\u8fc7\u6700\u7ec8\u8fd8\u662f\u627e\u5230\u4e86\u4e00\u4e2a\u6211\u770b\u5f97\u61c2\u7684\uff1a\u5806\u3002\n\n\u601d\u8def\u662f\u8fd9\u6837\u7684\uff1a\n\n\u5148\u5bf9\u5750\u6807\u8fdb\u884c\u6392\u5e8f\uff0c\u7136\u540e\u53bb\u679a\u4e3e1\u5230n\u4e2a\u673a\u623f\u3002\n\n\u5982\u679c\u5f53\u524d\u673a\u623f\u7684\u5750\u6807\uff08\u6ce8\u610f\u662f\u5750\u6807\uff09\u5927\u4e8em\u5c31\u8df3\u51fa\u5faa\u73af\uff0c\u7136\u540e\u5047\u8bbe\u6211\u4eec\u5f53\u524d\u673a\u623f\u4e3a\u8981\u5230\u7684\u6700\u540e\u4e00\u4e2a\uff0c\u90a3\u4e48\u4ed6\u8981**\u8d70\u7684**\u8def\u7a0b\u5c31\u5e94\u8be5\u4e3ax[i]\uff08\u4e4b\u524d\u5df2\u7ecf\u5bf9\u5750\u6807\u6392\u8fc7\u5e8f\u4e86\uff09\uff0c\u90a3\u4e48\u5269\u4e0b\u7684\u4f53\u529b\uff0c\u5c31\u8981\u53bbAK\u4e86\u3002\n\n\u7528\u4e00\u4e2a\u5927\u6839\u5806\u4fdd\u5b58\u4ece\u7b2c\u4e00\u4e2a\u673a\u623f\u5230\u5f53\u524d\u673a\u623f**\u53bb\u7684**\u673a\u623f\u7684t[]\uff0c\u7528\u4e00\u4e2a\u53d8\u91cf\u4fdd\u5b58\u5f53\u524d\u5927\u6839\u5806\u4e2d\u4fdd\u5b58\u7740\u7684t[]\u7684\u603b\u548c\uff0c\u7136\u540e\u628a\u5f53\u524d\u7684t[i]\u52a0\u5165\u5927\u6839\u5806\uff08\u5806\u7684\u5e38\u89c4\u64cd\u4f5cput\uff09,\u603b\u548c\u52a0\u4e0at[i]\uff0c\u63a5\u4e0b\u6765\u7528\u4e2awhile\u5faa\u73af\uff0c\u5982\u679c\u5f53\u524d\u53bb\u7684\u673a\u623f\u7684\u603b\u548c\u5c0f\u4e8e\u5269\u4e0b\u7684\u4f53\u529b\u5c31\u9000\u51fa\uff0c\u5426\u5219\u603b\u548c\u9700\u51cf\u53bb\u5806\u4e2d\u6700\u5927\u90a3\u4e2a\u503c\uff0c\u4e5f\u5c31\u662f\u5806\u9876heap[1]\uff08\u8fd9\u91cc\u6709\u79cd\u8d2a\u5fc3\u7684\u601d\u60f3\u5728\u91cc\u9762\uff0c\u60f3\u8981\u53bb\u5f97\u591a\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u8981\u5c3d\u53ef\u80fd\u53bbt[]\u5c0f\u7684\uff0c\u5c11\u53bb\u5927\u7684\uff09\uff0c\u7136\u540e\u628a\u5806\u9876\u7684\u5143\u7d20\u4ece\u5927\u6839\u5806\u4e2d\u5220\u9664\uff08\u5806\u7684\u5e38\u89c4\u64cd\u4f5cget\uff09\uff0c\u90a3\u4e48\u6700\u540e\u6211\u53bb\u7684\u673a\u623f\u6570\u5c31\u5e94\u4e3a\u5927\u6839\u5806\u91cc\u7684\u5143\u7d20\u4e2a\u6570\uff0c\u518d\u5728\u8fd9\u4e9b\u5143\u7d20\u4e2a\u6570\u4e2d\u53d6\u4e00\u4e2amax\u4e3a\u6211\u4eec\u8981\u7684\u7b54\u6848\u3002\n\n\u6574\u4e2a\u8fc7\u7a0b\u5c31\u662f\u8fd9\u6837\uff0c\u672c\u849f\u84bb\u5c45\u7136\u82b1\u4e86\u4e00\u4e0b\u5348\u53bb\u8c03\u8bd5\uff0c\u771f\u7684\u662f\u5996\u602a\u5427\uff01\n\n\u63a5\u4e0b\u6765\u732e\u4e0a\u6211\u90a3\u6ca1\u6709jzl\u4ee3\u7801\u4e11\u964b\u7684\u4ee3\u7801\n\n60\u5206dp\u4ee3\u7801\uff1a\n\n```cpp\nuses math;\nvar\n  x,y:array[0..100000]of int64;\n  f:array[0..1001,0..1001]of qword;\n  n,i,j,k,ans,x1:longint;\n  m:int64;\nprocedure kp(l,r:longint);\nvar\n  i,j:longint;\n  mid:int64;\n  begin\n    i:=l;\n    j:=r;\n    mid:=x[(l+r) >> 1];\n    repeat\n      while x[i]<mid do inc(i);\n      while x[j]>mid do dec(j);\n      if i<=j then \n        begin\n          x[0]:=x[i];x[i]:=x[j];x[j]:=x[0];\n          y[0]:=y[i];y[i]:=y[j];y[j]:=y[0];\n          inc(i);\n          dec(j);\n        end;\n    until i>j;\n    if i<r then kp(i,r);\n    if l<j then kp(l,j);\n  end;//\u5feb\u6392\nbegin\n  readln(n,m);\n  for i:=1 to n do readln(x[i],y[i]);\n  kp(1,n);\n  for i:=1 to n do \n    begin\n      f[1,i]:=x[i]+y[i];\n      if x[i]+y[i]<=m then ans:=1;\n    end;//\u8fb9\u754c\n  for i:=2 to n do \n    for j:=i to n do \n      begin\n        f[i,j]:=maxlongint shl 31;\n        x1:=0;\n        for k:=i-1 to j-1 do\n          if f[i-1,k]<f[i,j] then begin f[i,j]:=f[i-1,k];x1:=k; end;\n        inc(f[i,j],x[j]+y[j]-x[x1]);\n        if f[i,j]<=m then \n          if i>ans then ans:=i; \n      end;//dp\n  write(ans);\nend.\n```\nAC\u4ee3\u7801\uff1a\n\n\n```cpp\nvar\n  heap,x,y:array[0..200001]of int64;\n  n,i,j,len,ans:longint;\n  m,sum,zz:int64;\nprocedure swap(var x,y:int64);\nvar\n  t:int64;\n  begin\n    t:=x;\n    x:=y;\n    y:=t;\n  end;\nprocedure kp(l,r:longint);\nvar\n  i,j:longint;\n  mid:int64;\n  begin\n    i:=l;\n    j:=r;\n    mid:=x[(l+r) >> 1];\n    repeat\n      while x[i]<mid do inc(i);\n      while x[j]>mid do dec(j);\n      if i<=j then \n        begin\n          x[0]:=x[i];x[i]:=x[j];x[j]:=x[0];\n          y[0]:=y[i];y[i]:=y[j];y[j]:=y[0];\n          inc(i);\n          dec(j);\n        end;\n    until i>j;\n    if i<r then kp(i,r);\n    if l<j then kp(l,j);\n  end;//\u5bf9\u5750\u6807\u8fdb\u884c\u6392\u5e8f\nprocedure put(x:longint);\nvar\n  son:longint;\n  begin\n    inc(len);\n    heap[len]:=x;\n    son:=len;\n    while (son<>1)and(heap[son]>heap[son >> 1]) do\n      begin\n        swap(heap[son],heap[son >> 1]);\n        son:=son >> 1;\n      end; \n  end;//\u5806\u7684\u5e38\u89c4\u64cd\u4f5cput\uff0c\u4e0d\u61c2\u7684\u540c\u5b66\u53ef\u4ee5\u53bb\u67e5\u767e\u5ea6\nprocedure get;\nvar\n  fa,son:longint;\n  begin\n    dec(len);\n    heap[1]:=heap[len];\n    fa:=1;\n    while (fa*2<=len)or(fa*2+1<=len) do \n      begin\n        if (fa*2+1>len)or(heap[fa*2]>heap[fa*2+1]) \n          then son:=fa*2\n          else son:=fa*2+1;\n        if heap[fa]<heap[son] then \n          begin\n            swap(heap[fa],heap[son]);\n            fa:=son;\n          end\n          else break;\n      end;\n  end;//\u5806\u7684\u5e38\u89c4\u64cd\u4f5cget\nbegin\n  readln(n,m);\n  for i:=1 to n do readln(x[i],y[i]);\n  kp(1,n);\n  for i:=1 to n do \n    begin\n      zz:=m-x[i];\n      if zz<0 then break;\n      put(y[i]); inc(sum,y[i]);\n      while sum>zz do \n        begin\n          dec(sum,heap[1]);\n          get;\n        end;\n      if len>ans then ans:=len;\n    end;//\u4e0a\u9762\u5e94\u8be5\u8bb2\u7684\u5f88\u6e05\u695a\u4e86 ~~\u5996\u602a\u5427~~\n  write(ans);\nend.\n\n```",
        "postTime": 1503047945,
        "uid": 25355,
        "name": "\u590f\u8272\u796d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2107 \u3010\u5c0fZ\u7684 AK \u8ba1\u5212\u3011"
    },
    {
        "content": "\u5237\u4e8c\u53c9\u5806\u7684\u9898\uff0c\u53d1\u73b0\u8fd9\u9898\u9700\u8981\u7528\u5c0f\u6839\u5806\uff0c\u53c8\u4e0d\u4f1a\u7528heap\uff0c\u5c31\u7528\u4e86\u4e0e\u5176\u6027\u8d28\u6709\u4e9b\u76f8\u4f3c\u7684\u6808\u8fc7\u4e86 \n\ncode\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define p 6732148\n#define h 2001\nusing namespace std;\nstruct node\n{\n\tint x;\n\t//x\u8868\u793a\u8def\u7a0b \n\tint t;\n\t//t\u8868\u793a\u65f6\u95f4 \n\tint tot;\n\t//tot\u8868\u793a\u8def\u7a0b\uff0b\u65f6\u95f4 \n}\na[p];\n//\u5b9a\u4e49\u7ed3\u6784\u4f53 \nstack <int>q;\n//\u5b9a\u4e49stl\u91cc\u7684\u6808 \nbool cmp(node aa,node bb);\n//\u81ea\u5b9a\u4e49\u6bd4\u8f83\u51fd\u6570 \nsigned main()\n{\n\tint n,m;\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t{\n\tcin>>a[i].x>>a[i].t;\n\ta[i].tot=a[i].x+a[i].t;//\u8f93\u5165\u8def\u7a0b\uff0c\u65f6\u95f4\uff0c\u5e76\u8ba1\u7b97\u50a8\u5b58\u4ed6\u4eec\u7684\u603b\u548c \n}\n\tsort(a+1,a+n+1,cmp);//\u7531\u5927\u5230\u5c0f\u6392\u5e8f \n\tfor(int i=1;i<=n;i++)\n\t\tif(a[i].tot<=m)\n\t\tq.push(i);\n\t\t//\u5982\u679c\u8def\u7a0b\u52a0\u65f6\u95f4\u5927\u4e8e\u603b\u65f6\u95f4\uff0c\u5219\u76f4\u63a5\u4e0d\u5165\u6808 \uff1b\u5176\u4f59\u7684\u5165\u6808 \n\t\tint pos=0;\n\t\t//\u4e0a\u4e00\u7ad9\u7684\u4f4d\u7f6e \n\t\tint tt=0;\n\t\t//\u80fdak\u7684\u673a\u623f\u6570 \n\t\tint tim=0;\n\t\t//\u5df2\u82b1\u8d39\u603b\u65f6\u95f4 \n\twhile(!q.empty())\n\t{\n\t\tint head=q.top();\n\t\tq.pop();\n\t\t//\u53d6\u6808\u9876\u5143\u7d20\u5e76\u51fa\u6808\uff0c\u7531\u4e8e\u5165\u6808\u987a\u5e8f\u662ftot\u4e0b\u7531\u5927\u5230\u5c0f\uff0c\u6240\u4ee5\u51fa\u6808\u662f\u7531\u5c0f\u5230\u5927 \n\t\tif(m-a[head].tot+pos>=tim)\n\t\t//\u5982\u679c\u603b\u65f6\u95f4\u6bcf\u6b21\u6d88\u8017\u7684\u65f6\u95f4>\u5f53\u524d\u5df2\u82b1\u8d39\u603b\u65f6\u95f4 \n\t\t{\n\t\ttim+=a[head].tot-pos;\n\t\t//\u5f53\u524d\u5df2\u82b1\u8d39\u65f6\u95f4 \u589e\u52a0 \n\t\tpos=a[head].x;\n\t\t//\u50a8\u5b58\u5f53\u524d\u4f4d\u7f6e \n\t\ttt++;\n\t\t//ak\u673a\u623f\u52a0\u4e00 \n\t}\n}\n\tcout<<tt;//\u8f93\u51fa \n\treturn 0;\n}\nbool cmp(node aa,node bb)\n{\n\treturn aa.tot>bb.tot;//\u5b9a\u4e49\u6309\u7167tot\u7531\u5927\u5230\u5c0f\u6392\u5217\u7ed3\u6784\u4f53\u6210\u5458 \n}",
        "postTime": 1577014688,
        "uid": 244059,
        "name": "king_xbz",
        "ccfLevel": 0,
        "title": "\u597d\u50cf\u8fd8\u6ca1\u6709\u7528stl\u6808\u7684\u9898\u89e3\uff0c\u672c\u849f\u84bb\u6765\u53d1\u4e00\u6ce2 ~~"
    },
    {
        "content": "```cpp\n#include<iostream>\n#include<queue>\n#include<algorithm>\nusing namespace std;\nstruct data\n{\n\tlong long wei,time,tot;\n}a[100001];\nlong long n,m,sum,ans,head;\nbool cmp(data a,data b)\n{\n\treturn a.tot<b.tot;\n}\nint main()\n{\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>a[i].wei>>a[i].time;\n\t\ta[i].tot=a[i].wei+a[i].time;//\u8ba1\u7b97\u603b\u548c\n\t}\n\tsort(a+1,a+n+1,cmp);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tif(sum+a[i].tot-head>m)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t\tsum=sum+a[i].tot-head;\n\t\tans++;\n\t\thead=a[i].wei;\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```\n//\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u6240\u9700\u65f6\u95f4\u7684\u603b\u548c\uff0c\u518d\u8fdb\u884c\u4e00\u6b21\u6392\u5e8f\uff0c\u6bcf\u6b21\u6309\u6700\u5c0f\u503c\u53bb\u673a\u623fAK\uff0c\u540c\u65f6\uff0c\u6211\u4eec\u7528\u4e00\u4e2ahead\u8bb0\u5f55\u4ed6\u6240\u5728\u7684\u4f4d\u7f6e\uff0c\u5982\u679csum+\u65f6\u95f4-\u6240\u5728\u4f4d\u7f6e\u6765\u5224\u65ad\u662f\u5426\u80fd\u5230\u8fbe\uff0c\u80fd\u5219\u66f4\u65b0\uff0c\u4e0d\u80fd\u8df3\u51fa\u5faa\u73af\uff0c\u8f93\u51fa\u3002\u540c\u65f6\uff0chead\u4f1a\u62b5\u6d88\u91cd\u590d\u8d70\u7684\u8def\uff0c\u76f8\u5f53\u4e8e\u53ea\u8d70\u4e00\u904d\u3002\n",
        "postTime": 1538546818,
        "uid": 103334,
        "name": "Honor\u8a89",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2107 \u3010\u5c0fZ\u7684AK\u8ba1\u5212\u3011"
    },
    {
        "content": "/\\*\n\u8d2a\u5fc3\u88f8\u9898:\n\n1.\u6613\u77e5\u5230\u4e86\u67d0\u4e00\u4e2a\u70b9\u90fd\u4e0d\u80fd\u53ef\u80fd\u518d\u5f80\u56de\u8d70(\u4e00\u5b9a\u4e0d\u662f\u6700\u4f18\u89e3,\u5426\u5219\u5728\u539f\u6765\u5c31\u5df2\u7ecf\u8fdb\u53bbAK\u4e86);\n\n2.\u56e0\u6b64\u6211\u4eec\u60f3\u5230\u4e86\u5148\u5bf9\u5750\u6807\u6392\u5e8f,\u5982\u679c\u5f53\u524d\u8fd9\u4e2a\u70b9\u79bb\u8d77\u70b9\u7684\u8ddd\u79bb\u5df2\u7ecf\u5927\u4e8e\u4e86\u89c4\u5b9a\u7684\u75b2\u52b3\u503c,\u5c31break(\u4e0d\u53ef\u80fd\u8d70\u5230\u8fd9\u4e2a\u70b9);\n\n3.\u6211\u4eec\u7528\u4e00\u4e2a\u5927\u6839\u5806\u6765\u7ef4\u62a4\u4ece\u8d77\u70b9\u8d70\u5230\u5f53\u524d\u8fd9\u4e2a\u70b9\u7684\u5df2\u8d70\u8fdb\u7684\u673a\u623f\u6240\u6d88\u8017\u7684\u75b2\u52b3\u503c(\u6ce8\u610f\u4e0d\u5305\u62ec\u8def\u7a0b\u7684\u75b2\u52b3\u503c)\n\n\u5982\u679c\u6240\u6709\u7684\u75b2\u52b3\u503c(\u8def\u7a0b\u7684\u75b2\u52b3\u503c+\u673a\u623f\u6240\u6d88\u8017\u7684\u75b2\u52b3\u503c)\u5df2\u5927\u4e8e\u89c4\u5b9a\u7684\u75b2\u52b3\u503c,\u5206\u6790\u53ef\u77e5\u8def\u7a0b\u7684\u75b2\u52b3\u503c\u4e0d\u53ef\u907f\u514d,\n\n\u4e0d\u53ef\u80fd\u6539\u53d8,\u6240\u4ee5\u53ea\u80fd\u5c11\u8d70\u8fdb\u4e00\u4e9b\u673a\u623f,\u56e0\u4e3a\u6bcf\u4e00\u4e2a\u673a\u623f\u90fdAK\u4e00\u6b21,\u6240\u5373\u5c06\u75b2\u52b3\u503c\u6700\u5927\u7684\u673a\u623f\u8e22\u6389\u5373\u53ef(\u6ce8\u610f,\u8fd9\u662f\u4e00\u4e2awhile\u5faa\u73af\u7684\u8fc7\u7a0b)\n\n\\*/\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<queue>\n#define LL long long\nusing namespace std;\npriority_queue<LL> p;\n\tLL n,m,t=0,ans=0,sum=0;\n\tstruct node{LL x,y;} a[100001];\nbool cmp(node x,node y)\n{\n\treturn x.x<y.x;\n}\nint main()\n{\n\tLL x,y;\n\tscanf(\"%lld %lld\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%lld %lld\",&x,&y);\n\t\tif(x<=m&&y<=m) a[++t].x=x,a[t].y=y;\n\t}\n\tn=t;\n\tsort(a+1,a+n+1,cmp);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tbool bz=false;\n\t\tp.push(a[i].y);\n\t\tsum+=a[i].y+a[i].x-a[i-1].x;\n\t\tif(sum<=m)\n\t\t{\n\t\t\tbz=true;\n\t\t\tans++;\n\t\t}\n\t\twhile(sum>m)\n\t\t{\n\t\t\tbz=false;\n\t\t\tif(bz) ans--;\n\t\t\tsum-=p.top();\n\t\t\tp.pop();\n\t\t}\n\t}\n\tprintf(\"%lld\",ans);\n}\n```\n\n  \n2018.6.4\u6709\u66f4\u6539\uff0c\u9700\u8981\u6ce8\u610f\uff0c\u88ab\u90b1\u57ce\u9510\u5927\u795eHack\u4e86\u3002\n```cpp\n8 23827\n6882 30879\n16861 1781\n15525 5729\n15288 2878\n6265 3603\n25429 22415\n7249 12656\n12499 31642\n```\n\u6b63\u786e\u7ed3\u679c\u4e3a\n```cpp\n2\n```",
        "postTime": 1513749510,
        "uid": 31955,
        "name": "Mark_ZZY",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2107 \u3010\u5c0fZ\u7684 AK \u8ba1\u5212\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u8d2a\u5fc3+\u5806\u7684\u597d\u9898.\n\n\u66b4\u529b\u601d\u8def:\n\u7531\u4e8e\u6240\u7528\u65f6\u95f4\u5176\u5b9e\u7b49\u4e8e\u8d70\u5230\u6700\u540e\u4e00\u4e2a\u4f4d\u7f6e\u7684\u5750\u6807(\u90a3\u4e48\u6700\u540e\u4e00\u4e2a\u4f4d\u7f6e\u4e00\u5b9a\u6709\u9009).\u8bbe\u524d\u9762\u6709k\u4e2a\u673a\u623f,\u5219\u76f4\u63a5\u6309\u6240\u7528\u65f6\u95f4\u6392\u5e8f,\u5148\u53d6\u7528\u65f6\u5c11\u7684,\u76f4\u5230\u65f6\u95f4\u4e0d\u591f.\u590d\u6742\u5ea6:$O(n^2*\\log(n))$\n\n\u4f18\u5316\u601d\u8def:\u53ef\u4ee5\u53d1\u73b0\u6bcf\u6b21\u90fd\u5bf9\u524dk\u4e2a\u65f6\u95f4\u6392\u5e8f\u662f\u6781\u4e0d\u4f18\u79c0\u7684.\n\u8003\u8651\u8d2a\u5fc3\u2014\u2014\u524d\u9762\u7528\u65f6\u6700\u591a\u5220\u9664\uff0c\u76f4\u5230\u80fd\u52a0\u5165\u81ea\u8eab\u3002(\u7528\u5927\u6839\u5806\u7ef4\u62a4\u65f6\u95f4\u5373\u53ef)\n\n\u8fd9\u6837\u6bcf\u4e2a\u65f6\u95f4\u53ea\u4f1a\u8fdb\u5806\u4e00\u6b21\uff0c\u51fa\u5806\u4e00\u6b21\u3002\n\u590d\u6742\u5ea6:$O(n*\\log(n))$\n\n\u4ee3\u7801:\n```cpp\n#include<queue>\n#include<cstdio>\n#include<cctype>\n#include<cstring>\n#include<algorithm>\n#define g getchar()\nusing namespace std;\ntypedef long long ll;\nconst int N=1e5+10;\ntemplate<class o>void qr(o&x) {\n    char c=g;int f=1;x=0;\n    while(!isdigit(c)){if(c=='-')f=-1;c=g;}\n    while(isdigit(c))x=x*10+c-'0',c=g;\n    x*=f;\n}\nstruct node {\n    ll x,t;\n    bool operator <(node b)const {return x<b.x;}\n}a[N];\nint n,ans;ll m;\npriority_queue<ll>q;\nint main() {\n    qr(n);qr(m);\n    for(int i=1;i<=n;i++)qr(a[i].x),qr(a[i].t);\n    sort(a+1,a+n+1);\n    for(int i=1;i<=n;i++) {\n        while(m-a[i].x<a[i].t&&q.size())\n            m+=q.top(),q.pop();\n        if(m-a[i].x>=a[i].t) {\n            m-=a[i].t;q.push(a[i].t);\n\t\t\tans=max(ans,(int)q.size());\n        }\n    }\n    printf(\"%d\\n\",ans);\n    return 0;\n}\n```\n2020.2.7 update\uff1a\u53d1\u73b0\u4e00\u4e2a\u9519\u8bef\n",
        "postTime": 1569075595,
        "uid": 118826,
        "name": "2018LZY",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2107 \u3010\u5c0fZ\u7684AK\u8ba1\u5212\u3011"
    },
    {
        "content": "\u8bfb\u5165\u7684\u8ddd\u79bb\u4e0d\u4e00\u5b9a\u662f\u6709\u5e8f\u7684\uff0c\u8bfb\u8fdb\u6765\u5148\u8981\u4ee5\u8ddd\u79bb\u4e3a\u5173\u952e\u5b57\u6392\u5e8f\uff0c\u5bf9\u4e8e\u672c\u8eab\u8ddd\u79bb\u5927\u4e8e\u6709\u7684\u603b\u65f6\u95f4\u7684\uff0c\u6216\u8005\u662f\u672c\u8eab\u65f6\u95f4\u5927\u4e8e\u603b\u65f6\u95f4\u7684\uff0c\u90fd\u5904\u7406\u6389\u3002\u7136\u540e\u7528\u5927\u6839\u5806\u6765\u5b58AK\u7684\u673a\u623f\u7528\u7684\u65f6\u95f4\uff08\u4e0d\u8981\u5b58\u8ddd\u79bb\uff09\u3002\u5f53\u9047\u5230\u518d\u5f80\u91cc\u585e\u4e00\u4e2a\u65f6\u95f4\u8981\u8d85\u9650\u65f6\uff0c\u5c31\u628a\u4f60\u524d\u9762\u7528\u7684\u6700\u5927\u7684\u53bb\u6389\uff0c\u76f4\u5230\u80fd\u518d\u585e\uff0c\u518d\u52a0\u4e0a\u672c\u8eab\u7684\u8ddd\u79bb\uff08\u7528while\u6765\u5b9e\u73b0\uff09\u3002\n\u4e0b\u9762\u662f\u4e00\u6bb5\u4e11\u964b\u7684AC\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\npriority_queue<int> q;\nint n,total,ans,anss;\nlong long m,sum;\ninline int read(){\n       int s=0,f=1;char c=getchar();\n       while(!isdigit(c)){if(c=='-')f=-1;c=getchar();}\n       while(isdigit(c)){s=s*10+c-'0';c=getchar();}\n       return s*f;\n}\ninline void write(int x){\n       if(x<0){x=-x;putchar('-');}\n       if(x>9)write(x/10);\n       putchar(x%10+'0');\n}\ninline long long readl(){\n       long long s=0,f=1;char c=getchar();\n       while(!isdigit(c)){if(c=='-')f=-1;c=getchar();}\n       while(isdigit(c)){s=s*10+c-'0';c=getchar();}\n       return s*f;\n}\nstruct node{\n    long long value;\n    long long t;\n}a[100010];\nbool cmp(node a,node b){return a.t<b.t;}\nint main(){\n    n=read();cin>>m;\n    for(int i=1;i<=n;i++){\n        long long x,y;\n        cin>>x>>y;\n        if(y<=m&&x<=m){\n            a[++total].t=x;\n            a[total].value=y;\n        }\n    }\n    sort(a+1,a+total+1,cmp);\n    for(int i=1;i<=total;i++){\n        sum+=a[i].value+a[i].t-a[i-1].t;\n        q.push(a[i].value);\n        ans++;\n        while(sum>m){\n            sum-=q.top();\n            q.pop();\n            ans--;\n        }\n        anss=max(anss,ans);\n    }\n    cout<<anss<<endl;\n    return 0;\n}\n\n\n```",
        "postTime": 1530704437,
        "uid": 59047,
        "name": "_czwjp",
        "ccfLevel": 7,
        "title": "\u8d2a\u5fc3+\u5806\u4f18\u5316"
    },
    {
        "content": "\u8bbe\u4e8c\u5143\u7ec4f[i]\u8868\u793a\u5f53\u524d\u8d70\u5230\u4e86\u7b2ci\u4e2a\u673a\u623f\u65f6\uff0c\u5269\u4f59\u591a\u5c11\u65f6\u95f4\uff0c\u6700\u591a\u80fdak\u591a\u5c11\u9898\uff0cSTA\u8868\u793a\u9009\u62e9ak\u7684\u673a\u623f\u7684\u96c6\u5408\uff08\u5305\u62ec\u7b2ci\u4e2a\uff09\uff0c\u5b9a\u4e49\u4e8c\u5143\u7ec4\u8fd0\u7b97\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a\uff1a\n\n![dp](http://img.blog.csdn.net/20170820230035935?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTXJUaW5UaW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)\n\n\u8868\u793a\u5982\u679c\u65f6\u95f4\u672c\u8eab\u5c31\u591f\uff0c\u90a3\u4e48X\u53ef\u4e3a\u7a7a\u96c6\uff0c|x|=0\uff0cak\u7684\u9898\u5c31\u52a01\uff0c\u5982\u679c\u65f6\u95f4\u4e0d\u591f\uff0c\u90a3\u5c31\u9700\u8981\u5728\u5df2\u9009\u62e9ak\u7684\u673a\u623f\u4e2d\u53bb\u6389\u4e00\u90e8\u5206\u6765\u817e\u51fa\u65f6\u95f4\uff0cak\u7684\u9898\u7684\u6570\u91cf\u5c31\u52a0\u4e0a\uff081-\u53bb\u6389\u7684\u673a\u623f\u6570\uff09\uff0c\u5728\u4e8c\u5143\u7ec4\u8fd0\u7b97\u8fc7\u7a0b\u4e2d\uff0c\u5269\u4f59\u65f6\u95f4\u8981\u4fdd\u8bc1>=0,\u6700\u540e\u7b54\u6848\u4e3af[i]\u5728i\u53d61~n\u4e2d\u7684\u6700\u5927\u503c\uff0c\u53ef\u662f\u6bcf\u6b21\u8f6c\u79fb\u7684\u4ee3\u4ef7\u592a\u5927\uff0c\u56e0\u6b64\u8003\u8651\u4f18\u5316\u3002 \u7531\u4e8e\u6bcf\u4e2a\u673a\u623f\u90fd\u53ea\u80fdak\u4e00\u6b21\uff0c\u6240\u4ee5\u8003\u8651\u8d2a\u5fc3\uff0c\u6bcf\u6b21\u53bb\u6389\u8017\u65f6\u6700\u5927\u7684\u673a\u623f\uff0c\u76f4\u5230\u65f6\u95f4\u4e0d\u8d85\uff0c\u8fd9\u6837\u53ef\u4ee5\u7528\u5806\u6765\u7ef4\u62a4\u9009\u62e9ak\u7684\u673a\u623f\u96c6\u5408\u3002\n\u5176\u5b9e\u8fd8\u53ef\u4ee5\u4ece\u53e6\u5916\u4e00\u4e2a\u89d2\u5ea6\u7406\u89e3\uff1a\n\n\n\u53ef\u4ee5\u679a\u4e3e\u6700\u540eak\u7684\u673a\u623fi\uff0c\u7136\u540e\u8def\u7a0b\u82b1\u8d39\u5c31\u662f\u5b9a\u503c\u4e86\uff0c\u4e3ax[i]\uff0c\u90a3\u5269\u4e0bm-x[i]\u5c31\u80fd\u7528\u4e8eak\u9898\u76ee\u4e86\uff0c\u6839\u636e\u8d2a\u5fc3\uff0c\u53ef\u4ee5\u6bcf\u6b21\u9009\u62e9\u524di\u4e2a\u673a\u623f\u4e2d\u8017\u65f6\u6700\u5c11\u7684\u673a\u623fak\u76f4\u5230\u603b\u65f6\u95f4\u8d85\u8fc7m-x[i]\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u7528\u5806\u6765\u7ef4\u62a4\uff0c\u8fd9\u6837\u6bcf\u6b21\u7684\u590d\u6742\u5ea6\u4e3aO\uff08nlogn\uff09\uff0c\u7531\u4e8e\u8981\u679a\u4e3en\u4e2a\u673a\u623f\uff0c\u603b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO\uff08n^2logn)\u3002\u53ef\u662f\u5149\u8fd9\u6837\u65f6\u95f4\u590d\u6742\u5ea6\u8fc7\u9ad8\uff0c\u65e0\u6cd5\u5fcd\u53d7\u3002\u8003\u8651\u4f18\u5316\uff0c\u5b9e\u9645\u4e0a\uff0c\u679a\u4e3e\u6700\u540eak\u7684\u673a\u623f\u65f6\uff0c\u4ece\u7b2ci\u4e2a\u5230\u7b2ci+1\u4e2a\u65f6\uff0c\u524di+1\u4e2a\u673a\u623f\u4e2d\u8017\u65f6\u6700\u5c11\u7684\u5e76\u4e0d\u9700\u8981\u91cd\u65b0\u7edf\u8ba1\uff0c\u56e0\u4e3a\u53ea\u662f\u65b0\u589e\u4e86\u7b2ci+1\u4e2a\u673a\u623f\uff0c\u6240\u4ee5\u76ee\u524d\u7684\u6700\u5c0f\u8981\u4e48\u662f\u524di\u4e2a\u91cc\u7684\u6700\u5c0f\uff0c\u8981\u4e48\u5c31\u662f\u7b2ci+1\u4e2a\u3002\n\n\n\u5177\u4f53\u5b9e\u73b0\u65f6\uff0c\u4e0d\u5fc5\u4e00\u4e2a\u4e00\u4e2a\u5730\u6dfb\u52a0\uff0c\u53ea\u9700\u9006\u5411\u601d\u7ef4\uff0c\u5728\u8003\u8651\u7b2ci\u4e2a\u673a\u623f\u4e3a\u7ed3\u675f\u70b9\u65f6\uff0c\u53ea\u8981\u5728\u7b2ci-1\u4e2a\u673a\u623f\u4e3a\u7ed3\u675f\u70b9\u7684\u57fa\u7840\u4e0a\u5148\u53bb\u6389\u8017\u65f6\u6700\u5927\u7684\u76f4\u5230\u65f6\u9650\u4e0d\u8d85\u3002\n\n\u56e0\u4e3a\u6bcf\u4e2a\u673a\u623f\u53ea\u4f1a\u8fdb\u5806\u4e00\u6b21\u51fa\u5806\u4e00\u6b21\uff0c\u6240\u4ee5\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO(nlogn\uff09\u3002\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#define f(i,l,r) for(i=(l);i<=(r);i++)\nusing namespace std;\nconst int MAXN=100005;\nstruct Bar{\n    long long x;\n    int t;\n    bool operator < (const Bar& X)const{\n        return x<X.x;\n    }\n}a[MAXN];\nint n,ans=0,sz;\nlong long m,sum,res;\nlong long heap[MAXN];\ninline void pushup(int p)                   //\u5806\u7684\u57fa\u672c\u64cd\u4f5c \n{\n    int fa=p>>1,a=heap[p];\n    while(fa&&a>heap[fa]){\n        heap[p]=heap[fa];\n        p=fa;\n        fa>>=1;\n    }\n    heap[p]=a;\n}\ninline void pushdown(int p)\n{\n    int son=p<<1,a=heap[p];\n    while(son<=sz){\n        if(son<sz&&heap[son+1]>heap[son]) son++;\n        if(a>=heap[son]) break;\n        heap[p]=heap[son];\n        p=son;\n        son<<=1;\n    }\n    heap[p]=a;\n}\ninline void insert(int a)\n{\n    heap[++sz]=a;\n    pushup(sz);\n}\ninline void Pop()\n{\n    heap[1]=heap[sz--];\n    pushdown(1);\n}\nint main()\n{\n    ios::sync_with_stdio(false);         //\u5173\u95ed\u6d41\u540c\u6b65 \n    int i,j;\n    cin>>n>>m;\n    f(i,1,n){\n        cin>>a[i].x>>a[i].t;\n    }\n    sort(a+1,a+1+n);\n    f(i,1,n){\n        res=m-a[i].x;                 //\u80fd\u5206\u914d\u7ed9\u505a\u9898\u7684\u65f6\u95f4 \n        if(res<0) break;\n        sum+=a[i].t;                  //\u505a\u9898\u7684\u603b\u65f6\u95f4 \n        insert(a[i].t);               //\u5c06\u8981\u505a\u7684\u9898\u52a0\u5165\u5806\u4e2d \n        if(res-sum>=0){               //\u5982\u679c\u80fd\u5206\u914d\u7684\u65f6\u95f4\u8db3\u591f  \n            ans=max(ans,sz);          \n        }\n        else{\n            while(res-sum<0){         //\u6839\u636e\u8d2a\u5fc3\uff0c\u6bcf\u6b21\u628a\u8017\u65f6\u6700\u5927\u7684\u53bb\u6389\uff0c\u77e5\u9053\u65f6\u95f4\u591f \n                sum-=heap[1];\n                Pop();\n            }\n            ans=max(ans,sz);          //\u66f4\u65b0\u7b54\u6848 \n        }\n    }\n    cout<<ans<<endl;\n    return 0; \n}\n```",
        "postTime": 1503405098,
        "uid": 18601,
        "name": "\u6770\u68ee\u7684\u4f2f\u6069",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2107 \u3010\u5c0fZ\u7684 AK \u8ba1\u5212\u3011"
    },
    {
        "content": "```cpp\n/*\n\u672c\u9898\u76ee\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5806\u6392\u5e8f\u5916\u52a0\u4e00\u4e2a\u8d2a\u5fc3\u7684\u7b97\u6cd5\n\uff08\u540c\u673a\u623f\u7684\u5927\u4f6c\u6559\u6211\u7684)\n\u6211\u4eec\u5148\u5c06\u5982\u679c\u4e00\u4e2a\u673a\u623f\u4e5f\u4e0d\u8fdb\u6700\u8fdc\u80fd\u8d70\u5230\u7684\u70b9\u5b58\u8d77\u6765\uff08\u5176\u4ed6\u70b9\u4e0d\u53ef\u80fd\u8d70\u5230\uff0c\u653e\u5f03\u5b83\u4eec\uff09\n\u518d\u7528\u5806\u5b58\u6211\u6bcf\u6b21\u7684\u82b1\u8d39\uff0c\n\u8d85\u8fc7m\u7684\u65f6\u95f4\u8303\u56f4\u65f6\u53bb\u6389\u6700\u201c\u8d35\u201d\u7684\u70b9\uff0c\n\u8ba9\u4e00\u4e2a\u6bd4\u6700\u201c\u8d35\u201d\u7684\u70b9\u201c\u4fbf\u5b9c\u201d\u8fdb\u6765\n*/\n#include<bits/stdc++.h>\nusing namespace std;\nconst int ma=1e5+10;\nint n,cnt,ans;\nlong long a[ma],m;//a\u5b58\u5806\nstruct EE{\n    long long x;\n    int y;\n}e[ma];\nvoid su(int x)//\u4e0a\u6d6e\u64cd\u4f5c\n{\n    while(x>>1>=1&&a[x>>1]<a[x])\n    {\n        swap(a[x>>1],a[x]);\n        x>>=1; \n    }\n}\nvoid sx(int x)//\u4e0b\u6c89\u64cd\u4f5c\n{\n    while(x<<1<=cnt)\n    {\n        int t=x,p=x<<1;\n        if(a[p]>a[t])\n        t=p;\n        if(p+1<=cnt&&a[p+1]>a[t])\n        t=p+1;\n        if(t==x)\n        break;\n        swap(a[t],a[x]);\n        x=t;\n    }\n}\nvoid add(int x)//\u52a0\u5165\u4e00\u4e2a\u65b0\u503c\n{\n    a[++cnt]=x;\n    su(cnt);//\u4e0a\u6d6e\n}\nvoid rm()//\u53bb\u6389\u7b2c\u4e00\u4e2a\u503c\n{\n    a[1]=a[cnt--];\n    sx(1);//\u4e0b\u6c89\n}\nbool cmp(EE c,EE d)\n{\n    return c.x<d.x;\n}\nint main()\n{\n    long long p=0,x;//p\u5b58\u6211\u7528\u7684\u65f6\u95f4\n    int y,cn=0;//cn\u5b58\u6211\u9700\u8981\u7684\u70b9\u7684\u6570\u91cf\n    scanf(\"%d%lld\",&n,&m);\n    for(int i=1;i<=n;i++)\n    {\n        scanf(\"%lld%d\",&x,&y);\n        if(x<=m)//\u6211\u4e00\u4e2a\u673a\u623f\u4e5f\u4e0d\u8fdb\u90fd\u8d70\u4e0d\u5230\u7684\u70b9\u5c31\u653e\u5f03\n        {\n            e[++cn].x=x;\n            e[cn].y=y;\n        }\n    }\n    sort(e+1,e+1+cn,cmp);//\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\n    for(int i=1;i<=cn;i++)\n    {\n        p+=e[i].x+e[i].y-e[i-1].x;//p\u8868\u793a\u6211\u5230\u7b2ci\u4e2a\u673a\u623f\u8fc7\u7a0b\u4e2d\u6bcf\u4e2a\u673a\u623f\u90fd\u8d70\u7684\u8bdd\u8981\u82b1\u8d39\u7684\u65f6\u95f4\n        add(e[i].y);//\u5b58\u5165\u5806\u4e2d\n        ans++;//\u7b54\u6848\u52a0\u4e00\n        if(p>m)//\u65f6\u95f4\u4e0d\u591f\u4e86\n        {\n            ans--;//\u7b54\u6848\u51cf\u4e00\uff08\u51cf\u53bb\u6211\u4e0a\u9762\u6211\u591a\u52a0\u7684\u4e00\uff09\n            p-=a[1];//\u53bb\u6389\u82b1\u8d39\u65f6\u95f4\u6700\u957f\u7684\u70b9\n            rm();//\u5806\u7684\u53bb\u9664\n        }\n    }\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1527696180,
        "uid": 87449,
        "name": "\u4efb\u68a6\u534e",
        "ccfLevel": 0,
        "title": "\u5c0fZ\u7684AK\u8ba1\u5212"
    }
]