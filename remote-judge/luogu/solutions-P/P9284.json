[
    {
        "content": "## \u9898\u76ee\u5206\u6790\n\n\u51e0\u4e4e\u662f\u626b\u63cf\u7ebf\u6a21\u677f\u3002\n\n\u4ee5\u4e0b\u53ea\u8003\u8651\u8be2\u95ee\u5728\u884c\u4e2d\u7684\u60c5\u51b5\uff08\u5728\u5217\u4e2d\u540c\u7406\uff09\u3002\u8bb0\u4e00\u4e2a\u77e9\u5f62 $x$ \u8f83\u5c0f\u7684\u8fb9\u4e3a\u4e0b\u8fb9\u6846\uff0c\u8f83\u5927\u7684\u4e3a\u4e0a\u8fb9\u6846\u3002\u6211\u4eec\u8003\u8651\u7b2c $i$ \u884c\u7684\u7b2c $j$ \u5217\u4ec0\u4e48\u65f6\u5019\u4f1a\u88ab\u8986\u76d6\uff0c\u53d1\u73b0\u5f53\u4e14\u4ec5\u5f53\u5728\u524d $i$ \u884c\u4e2d\u8be5\u5217\u6240\u9047\u5230\u7684\u77e9\u5f62\u4e0b\u8fb9\u6846\u6570\u91cf\u6bd4\u4e0a\u8fb9\u6846\u591a\u65f6\u4f1a\u88ab\u8986\u76d6\u3002\u4e8e\u662f\u53ef\u4ee5\u79bb\u7ebf\u4e0b\u6765\u7528\u7ebf\u6bb5\u6811\u7ef4\u62a4\u5dee\u5206\uff0c\u78b0\u5230\u4e0b\u8fb9\u6846\u65f6\u5bf9 $[y1,y2]$ \u533a\u95f4\u52a0 $1$\uff0c\u78b0\u5230\u4e0a\u8fb9\u6846\u65f6\u533a\u95f4\u51cf $1$\u3002\n\n\u6ce8\u610f\u8be2\u95ee\u65f6\u65e2\u8981\u5224\u65ad\u662f\u5426\u6709\u8986\u76d6\uff0c\u8fd8\u8981\u5224\u65ad\u662f\u5426\u5b8c\u5168\u8986\u76d6\uff0c\u6240\u4ee5\u7ebf\u6bb5\u6811\u7ef4\u62a4\u533a\u95f4\u548c\u4e0e\u533a\u95f4 $\\min$ \u5373\u53ef\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u7ebf\u6027\u5bf9\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7\u672c\u9898\u3002\n\n## \u4ee3\u7801\n\n```cpp\n/*\n  author: PEKKA_l  \n  Sexy_goodier _ xiaoqing\n */\n#include <iostream>\n#include <cstring>\n#include <algorithm>\n#include <vector>\nusing namespace std;\n#define mp make_pair\n#define pb push_back\n#define fi first\n#define se second\n#define int long long\n\nint n,m,b,q,xa,ya,xb,yb,flag,c,l,r,ans[200005];\nvector <pair<pair<int,int>,int>> cz1[100005],cz2[100005],q1[100005],q2[100005];\n\nstruct tree\n{\n\tint sum,minn,tagadd;\n}tree[400005];\n\n#define ls(x) (x<<1)\n#define rs(x) ((x<<1)|1)\n#define n(x) tree[x].sum\n#define m(x) tree[x].minn\n#define tg(x) tree[x].tagadd\n#define md(x,y) ((x+y)>>1)\n#define push_up(x) n(x)=n(ls(x))+n(rs(x));m(x)=min(m(ls(x)),m(rs(x)))\n\nvoid czadd(int k,int l,int r,int p) {n(p)+=k*(r-l+1); m(p)+=k; tg(p)+=k;}\nvoid push_down(int l,int mid,int r,int p) {czadd(tg(p),l,mid,ls(p)); czadd(tg(p),mid+1,r,rs(p)); tg(p)=0;}\nvoid build(int l,int r,int p)\n{\n\tn(p)=m(p)=tg(p)=0; if(l==r) return; int mid=md(l,r);\n\tbuild(l,mid,ls(p)); build(mid+1,r,rs(p));\n}\nvoid czadd(int l,int r,int x,int y,int k,int p)\n{\n\tif(l>=x&&r<=y) {czadd(k,l,r,p); return;} int mid=md(l,r); push_down(l,mid,r,p);\n\tif(mid>=x) czadd(l,mid,x,y,k,ls(p)); if(mid<y) czadd(mid+1,r,x,y,k,rs(p)); push_up(p);\n}\nint asks(int l,int r,int x,int y,int p)\n{\n\tif(l>=x&&r<=y) return n(p); int mid=md(l,r),nans=0; push_down(l,mid,r,p);\n\tif(mid>=x) nans+=asks(l,mid,x,y,ls(p)); if(mid<y) nans+=asks(mid+1,r,x,y,rs(p)); return nans;\n}\nint askm(int l,int r,int x,int y,int p)\n{\n\tif(l>=x&&r<=y) return m(p); int mid=md(l,r),nans=1e18; push_down(l,mid,r,p);\n\tif(mid>=x) nans=min(nans,askm(l,mid,x,y,ls(p))); if(mid<y) nans=min(nans,askm(mid+1,r,x,y,rs(p))); return nans;\n}\n\nsigned main()\n{\n\tcin>>n>>m>>b;\n\tfor(int i=1;i<=b;i++)\n\t{\n\t\tcin>>xa>>ya>>xb>>yb; cz1[xa].pb(mp(mp(ya,yb),1)); cz1[xb+1].pb(mp(mp(ya,yb),-1));\n\t\tcz2[ya].pb(mp(mp(xa,xb),1)); cz2[yb+1].pb(mp(mp(xa,xb),-1));\n\t}\n\tcin>>q;\n\tfor(int i=1;i<=q;i++) {cin>>flag>>c>>l>>r; if(flag==1) q1[c].pb(mp(mp(l,r),i)); else q2[c].pb(mp(mp(l,r),i));}\n\tbuild(1,m,1);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(auto j:cz1[i]) czadd(1,m,j.fi.fi,j.fi.se,j.se,1);\n\t\tfor(auto j:q1[i]) {if(askm(1,m,j.fi.fi,j.fi.se,1)) ans[j.se]=2; else if(asks(1,m,j.fi.fi,j.fi.se,1)) ans[j.se]=1;}\n\t}\n\tbuild(1,n,1);\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tfor(auto j:cz2[i]) czadd(1,m,j.fi.fi,j.fi.se,j.se,1);\n\t\tfor(auto j:q2[i]) {if(askm(1,m,j.fi.fi,j.fi.se,1)) ans[j.se]=2; else if(asks(1,m,j.fi.fi,j.fi.se,1)) ans[j.se]=1;}\n\t}\n\tfor(int i=1;i<=q;i++) {if(!ans[i]) cout<<\"MISS\"<<endl; else if(ans[i]==1) cout<<\"HIT\"<<endl; else cout<<\"SUNK\"<<endl;}\n}\n```\n",
        "postTime": 1682858856,
        "uid": 529697,
        "name": "PEKKA_l",
        "ccfLevel": 6,
        "title": "P9284 \u9898\u89e3"
    }
]