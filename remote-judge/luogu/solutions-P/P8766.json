[
    {
        "content": "\u8003\u8651\u6570\u4f4d dp\u3002\u4e0b\u6587\u8bb0 $x_i$ \u8868\u793a $x$ \u5728\u4e8c\u8fdb\u5236\u610f\u4e49\u4e0b\u7684\u7b2c $i$ \u4f4d\u3002\n\n\u8003\u8651\u679a\u4e3e $a$ \u4f5c\u4e3a\u6700\u5927\u503c\uff0c\u5219\u539f\u9898\u53ef\u4ee5\u89c6\u4f5c\u6c42\u6ee1\u8db3\u4e00\u4e9b\u9650\u5236\u7684\u6709\u5e8f\u6570\u5bf9 $(a, b, c)$ \u7684\u6570\u91cf\u3002\n\n- \u5bf9\u4e8e\u9650\u5236 $a > b$\uff0c\u7b49\u4ef7\u4e8e\u4ece\u9ad8\u4f4d\u5411\u4f4e\u4f4d\u5747\u6709 $b_i = a_i$\uff0c\u76f4\u5230\u9996\u6b21\u51fa\u73b0 $(a_i, b_i) = (1, 0)$\n- \u5bf9\u4e8e $a > c$ \u540c\u4e0a\u3002\n- \u5bf9\u4e8e\u9650\u5236 $a < b + c$\uff0c\u7531\u539f\u9650\u5236 2 \u53ef\u77e5 $a = b \\oplus c$\uff0c$b \\oplus c < b + c$ \u5f53\u4e14\u4ec5\u5f53 $\\exists (b_i, c_i) = (1, 1)$\u3002\n- \u5bf9\u4e8e\u9650\u5236 $a = b \\oplus c$\uff0c\u5728\u8f6c\u79fb\u8fc7\u7a0b\u4e2d\u53ea\u8003\u8651 $(a_i, b_i, c_i) = (0, 1, 1), (0, 0, 0), (1, 0, 1), (1, 1, 0)$ \u56db\u79cd\u53ef\u80fd\u60c5\u5f62\u5373\u53ef\u3002\n\n\u53ea\u6709\u6ee1\u8db3\u6240\u6709\u9650\u5236\u7684\u6570\u5bf9\u4f1a\u5bf9\u7b54\u6848\u4ea7\u751f\u8d21\u732e\u3002\u6211\u4eec\u7528\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\u538b\u7f29\u524d\u4e09\u4e2a\u9650\u5236\u7684\u5f53\u524d\u72b6\u6001\uff0c\u8bb0\u5fc6\u5316\u641c\u7d22\u5b9e\u73b0 dp\uff0c\u5177\u4f53\u7ec6\u8282\u89c1\u4ee3\u7801\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nusing i64 = long long;\nconstexpr int N = 32;\n\nint a[N]; i64 f[N][8][2];\ni64 dfs(int cur, int state, bool fulc){\n\tif(cur < 0) return state == 7;\t// \u540c\u65f6\u6ee1\u8db3\u6240\u6709\u9650\u5236\n\tif(~f[cur][state][fulc]) return f[cur][state][fulc];\n\tint dig = fulc ? a[cur] : 1; i64 res = 0;\n\tfor(int k = 0; k <= dig; k++){\n\t\tif(k == 0){\n\t\t\tint b = state & 1, c = state >> 1 & 1;\n\t\t\tres += dfs(cur - 1, state, fulc && (k == dig)); // (a_i, b_i, c_i) = (0, 0, 0)\n\t\t\tif(b == 1 && c == 1) res += dfs(cur - 1, state | 4, fulc && (k == dig)); // (a_i, b_i, c_i) = (0, 1, 1)\n\t\t}\n\t\tif(k == 1){\n\t\t\tres += dfs(cur - 1, state | 1, fulc && (k == dig)); // (a_i, b_i, c_i) = (1, 0, 1)\n\t\t\tres += dfs(cur - 1, state | 2, fulc && (k == dig)); // (a_i, b_i, c_i) = (1, 1, 0)\n\t\t}\n\t}\n\treturn f[cur][state][fulc] = res;\n}\nvoid solve(){\n\tmemset(f, -1, sizeof f);\n\tint n; cin >> n;\n\tint L = -1;\n\twhile(n) a[++L] = n % 2, n /= 2;\n\tcout << dfs(L, 0, 1) * 3 << \"\\n\";\n}\nint main(){\n\tios::sync_with_stdio(false); \n\tcin.tie(nullptr); cout.tie(nullptr);\n\tint T = 1;\n\tcin >> T;\n\twhile(T--)\n\t\tsolve();\n}\n```\n\n",
        "postTime": 1679421447,
        "uid": 710100,
        "name": "ChroneZ_ZU",
        "ccfLevel": 4,
        "title": "P8766 [\u84dd\u6865\u676f 2021 \u56fd AB] \u5f02\u6216\u4e09\u89d2 - \u9898\u89e3"
    }
]