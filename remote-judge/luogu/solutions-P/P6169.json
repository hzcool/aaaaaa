[
    {
        "content": "\u9898\u610f\uff1a\u7ed9\u5b9a $N$ \u4e2a\u6570\u7684\u96c6\u5408 $A$\uff0c\u6c42\u51fa\u4e00\u4e2a\u5b50\u96c6\u6ee1\u8db3\u5b83\u7684\u548c\u5728 $[L, R]$ \u5185\u3002\n\n\u7279\u6b8a\u6027\u8d28\uff1a$R - L \\ge \\max A - \\min A$\u3002\n\n\u66b4\u529b\uff1a\u5f53\u7136\u53ef\u4ee5\u7528 bitset \u4f18\u5316\u80cc\u5305\u505a\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(\\dfrac{NW}{64})$\uff0c\u8c8c\u4f3c\u53ef\u4ee5\u8fc7 Subtask 5\u3002\n\n\u8fd9\u5b8c\u5168\u6ca1\u6709\u8003\u8651\u7279\u6b8a\u6027\u8d28\uff0c\u800c\u8fd9\u6b63\u662f\u6b63\u89e3\u4e0d\u540c\u4e4b\u5904\u3002\u6211\u4eec\u6765\u63a2\u7a76\u4e00\u4e0b\u5b83\u5230\u5e95\u8868\u8fbe\u4e86\u4ec0\u4e48\u3002\n\n\u6b63\u89e3\uff1a\u731c\u60f3\u5bf9\u5e8f\u5217\u6392\u5e8f\u4e4b\u540e\uff0c\u7b54\u6848\u53ef\u4ee5\u662f\u4e00\u4e2a\u7ebf\u6bb5\u3002\n\n\u56e0\u4e3a\u53ea\u8981\u4e22\u6389\u4e00\u4e2a\u7ebf\u6bb5\u5de6\u4fa7\u7684\u5143\u7d20\u518d\u589e\u52a0\u4e00\u4e2a\u53f3\u4fa7\u7684\u5143\u7d20\uff0c\u5bf9\u7b54\u6848\u7684\u5f71\u54cd\u4e00\u5b9a\u4e0d\u8d85\u8fc7 $\\max A - \\min A$\uff0c\u4e5f\u5c31\u4e0d\u8d85\u8fc7 $R - L$\uff0c\u4e00\u5b9a\u4e0d\u4f1a\u9519\u8fc7\u7b54\u6848\u3002\n\n\u5b9e\u73b0\u65f6\u5148\u4e00\u8def\u53d6\u524d\u7f00\u5230\u548c $\\le L$\uff0c\u7136\u540e\u6a21\u62df\u524d\u9762\u8fc7\u7a0b\u5373\u53ef\u3002\u590d\u6742\u5ea6\u74f6\u9888\u662f\u6392\u5e8f\u7684 $O(N \\log N)$\uff0c\u53cc\u6307\u9488 $O(N)$\u3002\n\nCode:\n\n```cpp\n#include <bits/stdc++.h>\n#include \"molecules.h\"\n#define rgi register int\n#define ll long long\n#define pii pair<int,int>\n#define mkp make_pair\n#define fi first\n#define se second\nusing namespace std;\nint n;\nll s,L,R;\nvector<int> ans;\nvector<pii> a;\nvector<int> find_subset(int LL,int RR,vector<int> w)\n{\n\tn=w.size();\n\tL=LL,R=RR;\n\tfor(rgi i=0;i<n;++i)\n\t\ta.push_back(mkp(w[i],i));\n\tsort(a.begin(),a.end());\n\tfor(rgi l=0,r=0;l<n;++l)\n\t{\n\t\twhile(s<L&&r<n)\n\t\t\ts+=(ll)a[r++].fi;\n\t\tif(s>=L&&s<=R)\n\t\t{\n\t\t\tfor(rgi i=l;i<r;++i)\n\t\t\t\tans.push_back(a[i].se);\n\t\t\treturn ans;\n\t\t}\n\t\ts-=a[l].fi;\n\t}\n\treturn vector<int>();\n}\n```\n\n\u5b98\u65b9\u9898\u89e3\u8fd8\u6709\u4e00\u79cd\u505a\u6cd5\uff0c\u5c31\u662f\u7b54\u6848\u53ef\u4ee5\u662f\u4e00\u6bb5\u524d\u7f00\u52a0\u4e00\u6bb5\u540e\u7f00\u3002\n\n\u5176\u5b9e\u9053\u7406\u662f\u4e00\u6837\u7684\uff0c\u5148\u628a\u524d\u7f00\u53d6\u5b8c\u7136\u540e\u6162\u6162\u51cf\u524d\u7f00\u957f\u5ea6\u52a0\u540e\u7f00\u540e\u7f00\u957f\u5ea6\u5373\u53ef\uff0c\u6bcf\u6b21\u79fb\u52a8\u4e5f\u4e0d\u4f1a\u8d85\u8fc7 $\\max A - \\min A \\le R - L$\uff0c\u4e0d\u4f1a\u9519\u8fc7\u7b54\u6848\u3002\n\nCode:\n\n```cpp\n#include <bits/stdc++.h>\n#include \"molecules.h\"\n#define rgi register int\n#define ll long long\n#define pii pair<int,int>\n#define mkp make_pair\n#define fi first\n#define se second\nusing namespace std;\nint n;\nll s,L,R;\nvector<int> ans;\nvector<pii> a;\n\nvector<int> find_subset(int LL,int RR,vector<int> w) {\n    n = w.size(); a.resize(n);\n    L = LL, R = RR;\n    for (int i = 0; i < n; ++i) {\n        a[i].fi = w[i];\n        a[i].se = i;\n        s += (ll)w[i];\n    }\n    sort(a.begin(), a.end());\n    for (int i = n - 1, j = n; i < j && i >= -1;) { // interval [0, i] \\cup [j, n - 1]\n        while (s > R && i >= 0) {\n            s -= (ll)a[i].fi;\n            --i;\n        }\n        if (L <= s && s <= R) {\n            for (int k = 0; k <= i; ++k) ans.push_back(a[k].se);\n            for (int k = j; k < n; ++k) ans.push_back(a[k].se);\n            return ans;\n        }\n        --j;\n        s += (ll)a[j].fi;\n    }\n    return vector<int>();\n}\n```",
        "postTime": 1606894932,
        "uid": 78302,
        "name": "gznpp",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P6169 [IOI2016] molecules"
    },
    {
        "content": "#  [IOI2016]molecules \u9898\u89e3\n\n\u5728\u770b\u5230\u9898\u76ee\u540e\u63d0\u53d6\u5173\u952e\u8bcd\uff1a\u5b50\u96c6\u3002\n\n\u65e2\u7136\u95ee\u7684\u662f\u5b50\u96c6\uff0c\u90a3\u5c31\u8bf4\u660e\u4e86\uff0c\u5728\u5bf9\u6570\u5217\u6392\u5e8f\u7684\u60c5\u51b5\u4e0b\u4e0d\u5f71\u54cd\u9898\u76ee\u6c42\u89e3\uff0c\u4e14\u5bb9\u6613\u60f3\u5230\uff0c\u6392\u5e8f\u540e\u7684\u6570\u5217\u4e2d\u7684\u7b54\u6848\u8981\u4e48\u6ca1\u6709\uff0c\u5426\u5219\u90fd\u662f**\u8fde\u7eed\u7684**\u4e00\u6bb5\u6570\u3002\n\n\u968f\u540e\u53ef\u4ee5\u5bf9\u6570\u5217\u53d6\u524d\u7f00\u548c\uff0c\u7531\u4e8e\u6392\u8fc7\u5e8f\uff0c\u6240\u4ee5\u5177\u6709\u4e8c\u5206\u6027\uff0c\u53ef\u4ee5\u4e8c\u5206\u627e\u5230\u7b54\u6848\uff0c\u968f\u624b\u4e22\u5230 vector \u91cc return \u5c31\u597d\u4e86\u3002\n\n\u603b\u590d\u6742\u5ea6 $ O(n \\log n) $\u3002 \n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long maxn,cnt,ans[200001];\nstruct node{\n\tint id;\n\tlong long num;\n\tbool operator < (const node &t) const {\n\t\treturn num<t.num;\n\t}\n}a[200001];\nlong long s[200001];\nvector<int> find_subset(int l,int r,vector<int>w){\n\tint n=w.size();\n\tfor(int i=1;i<=n;i++){\n\t\ta[i].id=i;\n\t\ta[i].num=w[i-1];\n\t}\n\tsort(a+1,a+n+1);\n\tfor(int i=1;i<=n;i++){\n\t\ts[i]=s[i-1]+a[i].num;\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tint ll=i,rr=n+1;\n\t\twhile(rr-ll>1){\n\t\t\tint mid=(ll+rr)>>1;\n\t\t\tif(s[mid]-s[i-1]<=r){\n\t\t\t\tll=mid;\n\t\t\t}else{\n\t\t\t\trr=mid;\n\t\t\t}\n\t\t}\n\t\tint R=ll;\n\t\tif(l<=s[R]-s[i-1]&&s[R]-s[i-1]<=r){\n\t\t\tif(R-i+1>=maxn){\n\t\t\t\tcnt=0;\n\t\t\t\tmaxn=R-i+1;\n\t\t\t\tfor(int k=i;k<=R;k++){\n\t\t\t\t\tans[++cnt]=a[k].id;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tvector<int>answer;\n\tfor(int i=1;i<=cnt;i++){\n\t\tanswer.push_back(ans[i]-1);\n\t}\n\treturn answer;\n}\n```\n",
        "postTime": 1639402856,
        "uid": 368124,
        "name": "victoryang",
        "ccfLevel": 5,
        "title": "[IOI2016]molecules \u9898\u89e3"
    }
]