[
    {
        "content": "\u8fd9\u91cc\u662f\u51fa\u9898\u4eba\u5b98\u65b9\u9898\u89e3\u3002\n\n### Task 1\n\n\u53ea\u6709\u4e00\u9897\u5b50\u5f39\uff0c\u6240\u4ee5\u5411\u53f3\u6216\u8005\u5411\u4e0a\u79fb\u52a8\u4e00\u6b65\u5c31\u53ef\u4ee5\uff0c\u4f46\u662f\u7531\u4e8e\u9898\u76ee\u9650\u5236 $k=100$\uff0c\u6307\u4ee4\u4f1a\u91cd\u590d $100$ \u6b21\uff0c\u673a\u5668\u4eba\u4f1a\u79fb\u52a8\u5230\u753b\u9762\u4e4b\u5916\u800c\u7206\u70b8\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5728\u8eb2\u907f\u5b50\u5f39\u540e\u56de\u5230\u539f\u6765\u7684\u4f4d\u7f6e\u3002\n\n```cpp\nif(n==1)cout<<\"401\";\nelse cout<<\"302\";\n```\n\n### Task 2\n\n\u6211\u4eec\u53ef\u4ee5\u5199\u4e00\u4e2a\u5b50\u5f39\u53ef\u89c6\u5316\u7684\u7a0b\u5e8f\u6765\u8f85\u52a9\u5206\u6790\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u793a\u4f8b\uff1a\n\n```cpp\nconst int N = 2e6 + 9;\nint n, m, b, d, k, maxc, p[5], X, Y, tp, cost;\nstruct B {\n  int l, r, x, y, p, q;\n} a[N];\nlist<B> now;\n\nsigned main() {\n  ifstream fin(\"0.in\");\n  fin.tie(0);\n  fin >> n >> m >> b >> d >> k >> maxc;\n  char mp[n + 3][m + 3];\n  rep (i, 0, 4)\n    fin >> p[i];\n  re (i, b)\n    fin >> a[i].l >> a[i].r >> a[i].x >> a[i].y >> a[i].p >> a[i].q;\n  cerr<<\"end\\n\";\n  char c;\n  do c = getchar();\n  while (c != '\\n');\n  sort(a + 1, a + b + 1, [](const B &a, const B &b) { return a.l < b.l; });\n  re (t, d) {\n    each (x, now)\n      x.x += x.p, x.y += x.q;\n    while (a[tp + 1].l == t) now.push_back(a[++tp]);\n    memset(mp, '.', sizeof mp);\n    each (x, now)\n      if (0 <= x.x && x.x <= n && 0 <= x.y && x.y <= m) mp[x.x][x.y] = 'x';\n    cerr << \"time: \" << t << '\\n';\n    per (i, min(m,100), 0) {\n      rep (j, 0, min(n,100))\n        putchar(mp[j][i]);\n      putchar('\\n');\n    }\n    for (auto it = now.begin(); it != now.end();) {\n      if (it->r <= t || it->x < 0 || it->x > n || it->y < 0 || it->y > m)\n        it = now.erase(it);\n      else\n        ++it;\n    }\n    char c;\n    do c = getchar();\n    while (c != '\\n');\n  }\n  return 0;\n}\n```\n\n\u901a\u8fc7\u53ef\u89c6\u5316\u7a0b\u5e8f\uff0c\u6211\u4eec\u53d1\u73b0\u4e00\u4e9b\u5b50\u5f39\u5899\u7ec4\u6210\u4e86\u4e00\u4e2a\u7a7a\u5fc3\u77e9\u5f62\uff0c\u800c\u6709\u4e00\u9897\u5b50\u5f39\u4e00\u76f4\u5728\u8d76\u7740\u673a\u5668\u4eba\u8dd1\u3002\u4e14\u8f6c\u52a8\u4e3a\u987a\u65f6\u9488\u6216\u8005\u9006\u65f6\u9488\u3002\u5206\u522b\u5224\u65ad\u8fd9\u4e24\u79cd\u60c5\u51b5\uff0c\u5199\u4e00\u4e2a\u6cbf\u7740\u8fb9\u7f18\u8f6c\u7684\u7a0b\u5e8f\u5373\u53ef\u3002\n\n\u6ce8\u610f\u6570\u636e\u4e2d\u7684 $k \\le $ \u6211\u4eec\u9700\u8981\u8f6c\u7684\u5708\u6570\u3002\u4e5f\u5c31\u662f\u6211\u4eec\u9700\u8981\u624b\u52a8\u5faa\u73af\u591a\u6b21\uff0c\u6ce8\u610f\u4e0d\u8981\u8ba9\u4ee3\u4ef7\u8d85\u8fc7 $maxc$\u3002\n\n### Task 3\n\n\u53d1\u73b0\u8fd9\u4e2a\u70b9 $n,m$ \u5f88\u5c0f\uff0c\u4e14\u8ba9\u6211\u4eec\u8f93\u51fa\u7684\u662f\u6700\u4f18\u65b9\u6848\uff0c\u76f4\u63a5\u8003\u8651 dp\uff0c\u8bbe $dp(t,i,j)$ \u4e3a\u5728 $t$ \u65f6\u523b\u8d70\u5230 $(i,j)$ \u7684\u6700\u5c11\u4ee3\u4ef7\uff0c\u8f6c\u79fb\u5373\u53ef\u3002\u590d\u6742\u5ea6\u770b\u4f60\u7684\u5b9e\u73b0\uff0c\u53ef\u4ee5\u662f $O(n^2bd)$\uff0c\u6216\u8005 $O(nbd)$\u3002\n\n```cpp\nre(t,d){\n  memset(vis,0,sizeof vis);\n  each (x, now){\n    rep(i,0,n)rep(j,0,m)if(Ck(x.x,x.y,x.x+x.p,x.y+x.q,i,j))vis[i][j]=1;\n    x.x += x.p, x.y += x.q;\n  }\n  while (a[tp + 1].l == t) now.push_back(a[++tp]),vis[now.back().x][now.back().y]=1;\n  rep(i,0,n)rep(j,0,m)if(!vis[i][j])\n    rep(di,0,4)if(Ck(i-DX[di],j-DY[di])){\n      int nw=dp[t-1][i-DX[di]][j-DY[di]]+p[di];\n      if(nw<dp[t][i][j])dp[t][i][j]=nw,lst[t][i][j]=di;\n    }\n  for (auto it = now.begin(); it != now.end();) {\n    if (it->r <= t || it->x < 0 || it->x > n || it->y < 0 || it->y > m)\n      it = now.erase(it);\n    else\n      ++it;\n  }\n}\n```\n\n### Task 4\n\n\u8fd9\u4e9b\u5b50\u5f39\u6570\u636e\u5168\u90e8\u90fd\u662f\u968f\u673a\u7684\uff0c\u4e14\u5b50\u5f39\u6bd4\u8f83\u7a00\u758f\u3002\u5199\u4e2a\u66b4\u641c\u5373\u53ef\uff0c\u4e00\u65e6\u627e\u5230\u4e00\u79cd\u5c0f\u4e8e\u7b49\u4e8e $maxc$ \u7684\u65b9\u6848\u5c31\u8f93\u51fa\u3002\n\n\u6211\u4eec\u53d1\u73b0\u9759\u6b62\u7684\u4ee3\u4ef7\u8fdc\u4f4e\u4e8e\u79fb\u52a8\u7684\u4ee3\u4ef7\uff0c\u6240\u4ee5\u66b4\u641c\u7684\u903b\u8f91\u91cc\u8981\u4f18\u5148\u9759\u6b62\u3002\n\n```cpp\nvoid Dfs(int t,int c,int X,int Y,vector<int>res){\n  if(c>maxc)return;\n  if(X<0||Y<0||X>n||Y>m)return;\n  if(t==d){\n    if(c<=maxc){\n      ans=res,maxc=c;\n      each(x,ans)cout<<x;\n      cout<<'\\n';\n    }\n    exit(0);\n  }\n  re(i,b)\n    if(a[i].l==t&&a[i].x==X&&a[i].y==Y)return;\n    else if(a[i].l<t&&t<=a[i].r&&\n        Ck(a[i].x+(t-a[i].l-1)*a[i].p,\n          a[i].y+(t-a[i].l-1)*a[i].q,\n          a[i].x+(t-a[i].l)*a[i].p,\n          a[i].y+(t-a[i].l)*a[i].q,X,Y))return;\n  int rnk[]={0,1,2,3,4};\n  sort(rnk,rnk+5,[](int a,int b){return p[a]<p[b];});\n  shuffle(rnk+1,rnk+5,rnd);\n  rep(ii,0,4){\n    int i=rnk[ii];\n    auto ress=res;ress.push_back(i);\n    Dfs(t+1,c+p[i],X+dx[i],Y+dy[i],ress);\n  }\n}\n```\n\n### Task 5\n\n\u4e00\u4e9b\u9759\u6b62\u7684\u5b50\u5f39\u5f62\u6210\u4e86\u4e00\u4e9b\u8ff7\u5bab\uff0c\u800c\u4e14\u5728\u6700\u540e\u4e00\u79d2\u4f1a\u7ed9\u9664\u4e86\u4e00\u4e2a\u70b9\u5916\u5176\u4ed6\u6240\u6709\u70b9\u6765\u4e00\u4e2a\u300c\u5168\u5c4f\u79d2\u6740\u300d\u3002\u6240\u4ee5\u8fd9\u51e0\u4e2a task \u7684\u76ee\u6807\u5c31\u53d8\u6210\u4e86\u300c\u6700\u5c11\u7684\u79fb\u52a8\u6b65\u6570\u79fb\u52a8\u5230\u6307\u5b9a\u7684\u76ee\u6807\u70b9\u300d\u3002\u8dd1\u4e00\u4e2a\u6700\u77ed\u8def\u5c31\u53ef\u4ee5\u3002\u6ce8\u610f\u5f00 `long long`\u3002\n\n```cpp\nbool vis[N];\nbool ban[3333][3333];\nint dis[N];\nvector<pair<int,int>>e[N];\n\ninline bool Ck(int x,int y){return 0 <= x && x <= n && 0 <= y && y <= m && !ban[x][y];}\ninline int Id(int x,int y){return x*(m+1)+y;}\n\nvoid Spfa(int s) {\n  memset(dis,0x3f,sizeof dis);\n  dis[s] = 0;\n  queue<int> q;\n  q.push(s);\n  vis[s] = false;\n  while (!q.empty()) {\n    int u = q.front();\n    q.pop();\n    vis[u] = 0;\n    each(i,e[u]){\n      int v=i.first;\n      if (dis[u] + i.second < dis[v]) {\n        dis[v] = dis[u] + i.second;\n        if (!vis[v]) q.push(v),vis[v] = true;\n      }\n    }\n  }\n}\n\nsigned main(){\n  ios::sync_with_stdio(false),cin.tie(0),cout.tie(0);\n  cin>>n>>m>>b>>d>>k>>maxc;\n  rep(i,0,4)cin>>p[i];\n  re(i,b)cin>>a[i].l>>a[i].r>>a[i].x>>a[i].y>>a[i].p>>a[i].q;\n  re(i,b)if(a[i].l==1)ban[a[i].x][a[i].y]=1;\n  rep(i,0,n)rep(j,0,m)re(dir,4)if(Ck(i+DX[dir],j+DY[dir]))e[Id(i,j)].push_back({Id(i+DX[dir],j+DY[dir]),p[dir]});\n  Spfa(0);\n  memset(ban,0,sizeof ban);\n  re(i,b)if(a[i].l==inf)ban[a[i].x][a[i].y]=1;\n  int X=0,Y=0;\n  rep(i,0,n)rep(j,0,m)if(!ban[i][j]){X=i,Y=j;break;}\n  cout<<dis[Id(X,Y)]<<'\\n';\n  return 0;\n}\n```\n\n### Task 6\n\n\u5bb9\u6613\u53d1\u73b0\u5bf9\u4e8e $i \\in [1,b - 1]$\uff0c\u7b2c $i$ \u4e2a\u5b50\u5f39\u4e00\u76f4\u4f1a\u5b9a\u683c\u5728 $x_i$ \u4f4d\u7f6e\uff0c\u5728 $r_i$ \u65f6\u523b\u6d88\u5931\u3002\u53c8\u56e0\u4e3a $k$ \u5f88\u5927\uff0c\u6700\u4f18\u89e3\u663e\u7136\u662f\u5148\u5b9a\u683c\u4e00\u6bb5\u65f6\u95f4\uff0c\u518d\u5411\u53f3\u8d70\u4e00\u683c\u3002\u7ecf\u8fc7\u7f1c\u5bc6\u7684\u8ba1\u7b97\uff0c\u53ef\u4ee5\u53d1\u73b0\u7b54\u6848\u5c31\u662f\uff1a$\\max_{i=1}^m\\{\\lfloor \\dfrac{r_i}{x_i} \\rfloor\\}$\u3002\n\n\u6ce8\u610f\u8981\u5f00\u9ad8\u7cbe\u5ea6\u3002\n\n### Task 7\n\n\u8fd8\u662f\u4e00\u5806\u9759\u6b62\u7684\u5b50\u5f39\uff0c\u4f46\u662f\u4f60\u53d1\u73b0\u8fd9\u4e2a $n,m$ \u90fd\u7279\u522b\u5927\uff0c\u800c\u4e14\u8fd9\u6b21\u7684 $k$ \u4e0d\u662f $1$ \u4e86\uff0c\u8fd9\u4e1c\u897f\u597d\u50cf\u6ca1\u6709\u4ec0\u4e48\u597d\u65b9\u6cd5\u80fd\u505a\u3002\u5b9e\u9645\u4e0a\u51fa\u9898\u4eba\u4e5f\u6ca1\u6709\u6839\u636e\u6570\u636e\u76f4\u63a5\u505a\u7684\u89e3\u6cd5\u3002\u89e3\u51b3\u8fd9\u4e2a Task \u9700\u8981\u4ece gen \u672c\u8eab\u5165\u624b\u3002\n\n\u4f7f\u7528\u53cd\u7f16\u8bd1\u8f6f\u4ef6\u8fdb\u884c\u7834\u89e3\uff0c\u7528 $32$ \u4f4d\u4ee5 PD \u683c\u5f0f\u6253\u5f00\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u627e\u5230 `main` \u51fd\u6570\u8fdb\u5165\uff0c\u6309\u4e0b `F5` \u751f\u6210\u4f2a\u4ee3\u7801\uff1a\n\n```cpp\nint __cdecl main(int argc, const char **argv, const char **envp)\n{\n  int result; // eax\n  __main();\n  freopen(\"0.in\", \"w\", &__iob[1]);\n  scanf(\"%d\", &seed);\n  if ( (unsigned int)(seed - 1) > 0x3FFFFFFE )\n  {\n    fprintf(&__iob[2], \"Invalid seed\\n\");\n    result = -1;\n  }\n  else\n  {\n    puts(\"100000 100000 300000 1000000000 100 1000\");\n    puts(\"999999999 1 1 1 1\");\n    GenAns();\n    GenHintData();\n    GenData();\n    result = 0;\n  }\n  return result;\n}\n```\n\n`main` \u4e2d\u8c03\u7528\u4e86 `GenAns`\uff08\u751f\u6210\u7b54\u6848\uff09\u3001`GenHintData`\uff08\u751f\u6210\u63d0\u793a\u6570\u636e\uff09\u3001`GenData`\uff08\u751f\u6210\u5176\u5b83\u6570\u636e\uff09 \u4e09\u4e2a\u51fd\u6570\u3002\u4f60\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u7a0b\u5e8f\u662f\u5148\u751f\u6210\u7b54\u6848\uff0c\u518d\u6839\u636e\u7b54\u6848\u751f\u6210\u6570\u636e\u7684\u3002\n\n\u518d\u6765\u770b\u770b `GenHintData`\uff1a\n\n```cpp\nint GenHintData(void)\n{\n  unsigned int v0; // ebx\n  v0 = rnd();\n  printf(\"1 1 \");\n  printf(\"%d \", v0 >> 24);\n  printf(\"%d \", BYTE2(v0));\n  printf(\"%d \", BYTE1(v0));\n  return printf(\"%d\\n\", (unsigned __int8)v0);\n}\n```\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u8be5\u51fd\u6570\u6240\u505a\u7684\u5c31\u662f\u751f\u6210\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u7136\u540e\u5206\u56db\u6bb5\u6253\u5370\u51fa\u6765\u3002\n\n\u63a5\u7740\u6765\u770b `GenAns`\uff1a\n\n```cpp\nint GenAns(void)\n{\n  signed int v0; // ebx\n  int result; // eax\n  int v2; // edx\n  int v3; // edi\n  v0 = 1;\n  do\n  {\n    result = (rnd() & 3) + 1; // \u751f\u6210 [1,4] \u968f\u673a\u6570\n    ans[v0] = result;\n    v2 = dword_84397C[v0] + dx[result]; // \u79fb\u52a8\u540e\u7684 x \u5750\u6807\n    X[v0] = v2;\n    v3 = dword_47303C[v0] + dy[result]; // \u79fb\u52a8\u540e\u7684 y \u5750\u6807\n    Y[v0] = v3;\n    if ( v2 < 0 || v3 < 0 ) // \u68c0\u67e5\u662f\u5426\u8d85\u51fa\u753b\u9762\n    {\n      ans[v0] = 5 - result; // \u53d6\u53cd\u65b9\u5411\uff08\u5de6\u4e0b\u4e0a\u53f3\uff09->\uff08\u53f3\u4e0a\u4e0b\u5de6\uff09\n      X[v0] = dword_84397C[v0] + dx[5 - result];\n      result = dword_47303C[v0] + dy[5 - result];\n      Y[v0] = result;\n    }\n    ++v0;\n  }\n  while ( v0 != 1001 ); // \u5faa\u73af 1000 \u6b21\n  return result;\n}\n```\n\n\u53ef\u4ee5\u770b\u5230\uff0c\u53cd\u7f16\u8bd1\u540e\u7684\u51fd\u6570\u8fd8\u662f\u6bd4\u8f83\u6613\u8bfb\u7684\uff0c\u5b83\u7528 `rnd` \u51fd\u6570\u751f\u6210\u4e86\u4e00\u4e2a\u957f\u5ea6\u4e3a $1000$ \u7684\u7b54\u6848\u5e8f\u5217\u3002\n\n\u518d\u6765\u770b\u770b `rnd`\uff1a\n\n```cpp\nunsigned int rnd(void)\n{\n  unsigned int v0; // edx\n  unsigned int result; // eax\n  v0 = 32 * ((((seed << 13) ^ (unsigned int)seed) >> 17) ^ (seed << 13) ^ seed);\n  result = v0 ^ (((seed << 13) ^ (unsigned int)seed) >> 17) ^ (seed << 13) ^ seed;\n  seed ^= v0 ^ (((seed << 13) ^ (unsigned int)seed) >> 17) ^ (seed << 13);\n  return result;\n}\n```\n\n\u53d1\u73b0\u8fd9\u5c31\u662f\u4e2a Xorshift\uff0c\u5176\u7b49\u540c\u4e8e `x^=x<<13,x^=x>>17,x^=x<<5`\u3002\n\n\u73b0\u5728\u95ee\u9898\u53d8\u6210\u4e86\uff0c\u6839\u636e\u4e00\u4e2a\u751f\u6210\u7684\u968f\u673a\u6570\uff0c\u63a8\u7b97\u51fa\u4e00\u5f00\u59cb\u7684 `seed`\uff0c\u8fdb\u800c\u63a8\u7b97\u51fa\u6700\u5f00\u59cb\u751f\u6210\u7684 $1000$ \u4e2a\u968f\u673a\u6570\u662f\u4ec0\u4e48\u3002\u6211\u4eec\u53ef\u4ee5\u628a\u6bcf\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u5f53\u6210\u4e00\u4e2a\u672a\u77e5\u6570\uff0c\u7528\u9ad8\u65af\u6d88\u5143\u89e3\u5f02\u6216\u65b9\u7a0b\u7ec4\u6765\u6839\u636e\u4e0b\u4e00\u4e2a\u968f\u673a\u6570\u89e3\u51fa\u4e0a\u4e00\u4e2a\u968f\u673a\u6570\u3002\u91cd\u590d\u8dd1 $1000$ \u6b21\u5373\u53ef\u5f97\u5230\u6700\u5f00\u59cb\u7684 `seed`\uff0c\u7136\u540e\u6a21\u62df\u6570\u636e\u751f\u6210\u5373\u53ef\u3002\n\n```cpp\nsigned main(){\n  ios::sync_with_stdio(false),cin.tie(0),cout.tie(0);\n  cin>>n>>m>>b>>d>>k>>maxc;\n  rep(i,0,4)cin>>p[i];\n  re(i,b)cin>>a[i].l>>a[i].r>>a[i].x>>a[i].y>>a[i].p>>a[i].q;\n  seed=(a[1].x<<24)|(a[1].y<<16)|(a[1].p<<8)|a[1].q;\n  per(i,1000,1)ans[i]=Rev()%4+1;\n  re(i,1000){\n    X[i]=X[i-1]+dx[ans[i]],Y[i]=Y[i-1]+dy[ans[i]];\n    if(X[i]<0||Y[i]<0)ans[i]=5-ans[i],X[i]=X[i-1]+dx[ans[i]],Y[i]=Y[i-1]+dy[ans[i]];\n    cout<<ans[i];\n  }\n  cout<<'\\n';\n  return 0;\n}\n```\n\n### Task 8\n\n\u6211\u4eec\u53d1\u73b0\u6240\u6709\u7684\u5b50\u5f39\u5168\u90fd\u662f\u4ece\u6700\u53f3\u9762\u5f80\u6b63\u5de6\u65b9\u53d1\u5c04\u4e14\u901f\u5ea6\u76f8\u540c\u3002\u800c\u4e14\u6211\u4eec\u53ea\u80fd\u5411\u4e0a\u8d70\u3001\u5411\u4e0b\u8d70\u548c\u9759\u6b62\u4e0d\u52a8\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a\u5b50\u5f39\u4e0d\u52a8\uff0c\u800c\u662f\u76f8\u5bf9\u7684\u673a\u5668\u4eba\u5728\u52a8\u3002\n\n\u90a3\u4e48\u95ee\u9898\u5c31\u8f6c\u5316\u4e3a\u4e86\u673a\u5668\u4eba\u6bcf\u6b21\u53ef\u4ee5\u4ece $(x,y)$ \u5f00\u59cb\u79fb\u52a8\uff0c\u6709 $3$ \u79cd\u79fb\u52a8\u65b9\u6848\uff1a\n\n- \u79fb\u52a8\u5230 $(x+k,y)$\uff0c\u524d\u63d0\u662f $(x,y)\\sim(x+k)$ \u4e4b\u95f4\u6ca1\u6709\u5b50\u5f39\u3002\n- \u79fb\u52a8\u5230 $(x+k,y+1)$\uff0c\u524d\u63d0\u662f $(x,y+1)\\sim(x+k,y+1)$ \u4e4b\u95f4\u6ca1\u6709\u5b50\u5f39\u3002\n- \u79fb\u52a8\u5230 $(x+k,y-1)$\uff0c\u524d\u63d0\u662f $(x,y-1)\\sim(x+k,y-1)$ \u4e4b\u95f4\u6ca1\u6709\u5b50\u5f39\u3002\n\n\u8bbe $f(i,j)$ \u4e3a\u5230\u8fbe $(i,j)$ \u7684\u6700\u5c0f\u4ee3\u4ef7\uff0c\u90a3\u4e48\u8f6c\u79fb\u5c31\u5f88\u663e\u7136\u4e86\u3002\n\n\u4e00\u5171 $O(nm)$ \u4e2a\u72b6\u6001\uff0c\u6bcf\u6b21\u8f6c\u79fb\u524d\u7f00\u548c\u5224\u65ad\u5408\u6cd5\uff0c\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(nm)$\n\n```cpp\n#include <bits/stdc++.h>\n#define fi first\n#define sc second\nusing namespace std;\ntypedef pair<int,int> pi;\nconst int maxn=1205,inf=0x3f3f3f3f;\nint f[2][maxn],n,m,b,d,p0,p1,p4,cnt,ans=inf,ls[maxn];\npi p[maxn*20];\nbool book[maxn];\nint main() {\n    int x,y,z;\n    scanf(\"%d%d%d%d%*d%*d\",&n,&m,&b,&d);\n    scanf(\"%d%d%*d%*d%d\",&p0,&p1,&p4);\n    for(int i=1; i<=b; i++) {\n        scanf(\"%*d%*d%d%d%*d%d\",&x,&y,&z),z=-z;\n        if((y+z-1)/z<=d)p[++cnt]=pi((y+z-1)/z,x),ls[x]=max(ls[x],(y+z-1)/z);\n        if(y%z==0&&y/z+1<=d)p[++cnt]=pi(y/z+1,x),ls[x]=max(ls[x],y/z+1);\n    }\n    sort(p+1,p+cnt+1),memset(f,0x3f,sizeof(f)),f[0][0]=0;\n    int lst=1;\n    for(int i=0; i<=n; i++)cout<<ls[i]<<\" \\n\"[i==n];\n    for(int i=1; i<=d; i++) {\n        memset(book,0,sizeof(book));\n        while(lst<=cnt&&p[lst].fi<=i)book[p[lst].sc]=1,lst++;\n        int now=i&1,lst=now^1;\n        memset(f[now],0x3f,sizeof(f[now]));\n        for(int j=0; j<=n; j++) {\n            if(book[j])continue;\n            f[now][j]=min(inf,f[lst][j]+p0);\n            if(j)f[now][j]=min(f[now][j],f[lst][j-1]+p4);\n            if(j<n)f[now][j]=min(f[now][j],f[lst][j+1]+p1);\n        }\n        for(int j=0; j<=n; j++)if(ls[j]<i)ans=min(ans,f[now][j]);\n        if(lst>cnt)break;\n    }\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1644402359,
        "uid": 207996,
        "name": "yzy1",
        "ccfLevel": 9,
        "title": "P8121 \u9898\u89e3"
    }
]