[
    {
        "content": "\u60f3\u5fc5\u5927\u5bb6\u5e94\u8be5\u975e\u5e38\u7cbe\u901a\u4e24\u79cd\u641c\u7d22\u7b97\u6cd5\u2014\u2014\u4e5f\u5c31\u662f**\u6df1\u5ea6\u4f18\u5148\u641c\u7d22dfs**\u548c**\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22bfs**\u4e86\uff0c\u8fd9\u65f6\u597d\u5947\u7684\u5b9d\u5b9d\u4eec\u4e5f\u8bb8\u4f1a\u95ee\u5566\uff1a\u6df1\u5ea6\u548c\u5e7f\u5ea6\u5230\u5e95\u8fd8\u6709\u4ec0\u4e48\u610f\u601d\u5462\uff1f\u5176\u5b9e\u5b83\u4eec\u8fd8\u6709\u53e6\u5916\u4e00\u5c42\u542b\u4e49\u2014\u2014**\u56fe\u7684\u904d\u5386**\u3002\n\n\u76f8\u4fe1\u5728\u5ea7\u7684\u5404\u4f4d\u5e94\u8be5\u77e5\u9053\u56fe\u662f\u4e2a\u5565\u73a9\u610f\uff0c\u5e94\u8be5\u4e5f\u77e5\u9053\u201c\u904d\u5386\u201d\u662f\u5565\uff1a\u6240\u8c13\u201c**\u904d\u5386**\u201d\uff0c\u5c31\u662f**\u628a\u56fe\u4e0a\u7684\u6bcf\u4e2a\u9876\u70b9\u90fd\u627e\u4e00\u904d**\u5457\uff01\u4f46\u662f\u8981\u627e\u53ef\u4e0d\u80fd\u778e\u627e\uff0c\u8981\u4e0d\u4f1a\u628a\u81ea\u5df1\u627e\u6655\uff0c\u54b1\u8fd9\u91cc\u5c31\u6709\u4e24\u79cd\u201c\u9632\u6655\u201d\u7684\u597d\u65b9\u6cd5\uff01\u6b63\u6240\u8c13\u201c**\u4e3e\u4f8b\u662f\u7406\u89e3\u7684\u8bd5\u91d1\u77f3**\u201d\uff0c\u54b1\u5c31\u62ff\u6837\u4f8b\u6765\u8bf4\uff01\n\n![\u6233\u6211\u770b\u6837\u4f8b](https://cdn.luogu.com.cn/upload/image_hosting/mrqi5io9.png)\n\n### \u65b9\u6cd5A\n\n\u54b1\u4eec\u53ef\u4ee5\u4e00\u6b65\u4e00\u6b65\u5411\u524d\u53bb\u8d70\uff1a\n\n\u4ece1\u51fa\u53d1\uff0c\u5148\u53bb\u6700\u5c0f\u76842\n\n\u7136\u540e\u4ece2\u51fa\u53d1\uff0c\u6cbf\u8def\u52305\n\n\u518d\u4ece5\u51fa\u53d1......\u54a6\uff1f\u6ca1\u8def\u4e86\uff1f\u597d\u5427\u90a3\u5c31\u56de\u53bb\u52302\u5427\n\n\u51fa\u53d1\u70b9\u53c8\u5230\u4e862\uff0c\u8fd9\u65f6\u50195\u5df2\u7ecf\u5230\u8fc7\u5566\uff0c\u90a3\u5c31\u53bb6\n\n6\u53c8\u6ca1\u8def\u4e86\uff0c\u597d\u529e\uff01\u56de\u52302\uff0c\u7531\u4e8e2\u901a\u5f80\u76845\u548c6\u90fd\u6765\u8fc7\u4e86\uff0c\u6240\u4ee5\u518d\u56de\u53bb\u52301\uff0c\u8fd9\u65f6\u50191\u7684\u8def\u4e2d2\u5df2\u7ecf\u8d70\u8fc7\u4e86\uff0c\u6ca1\u8d70\u8fc7\u7684\u6700\u524d\u4e00\u4e2a\u662f3\uff0c\u90a3\u5c31\u5728\u8d70\u52303\n\n........\n\n\u5c31\u8fd9\u6837\u4e00\u6b65\u4e00\u6b65\u8d70\u8fc7\u53bb\uff0c\u53ef\u4ee5\u5f97\u5230\u987a\u5e8f\uff1a\n```\n1 2 5 6 3 7 8 4\n```\n\n\u8fd9\u79cd\u65b9\u6cd5\u5c31\u662f\u4e00\u6b65\u4e00\u6b65\u53bb\u5c1d\u8bd5\uff0c\u5148\u4ece\u4e00\u6761\u8def\u8d70\u5230\u9ed1\uff0c\u8d70\u5b8c\u4e86\u5c31\u56de\u53bb\u627e\u53e6\u4e00\u6761\uff0c\u603b\u7ed3\u62107\u4e2a\u5b57\u5c31\u662f\u201c**\u4e0d\u649e\u5357\u5899\u4e0d\u56de\u5934**\u201d\uff0c\u6709\u6ca1\u6709\u53d1\u73b0\u8ddf\u6211\u4eec\u7684\u201c**\u6df1\u5ea6\u4f18\u5148\u641c\u7d22**\u201d\u8ff7\u4e4b\u76f8\u4f3c\uff1f\uff1f\uff1f\u6240\u4ee5\uff0c\u6211\u4eec\u53eb\u5b83\u201c**\u56fe\u7684\u6df1\u5ea6\u4f18\u5148\u904d\u5386**\u201d\n\n### \u65b9\u6cd5B\n\n~~\u60f3\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u4f60\u9700\u8981\u638c\u63e1\u4e00\u9879\u6280\u80fd\u2014\u2014\u5206\u8eab\u672f~~\n\n\u8fd8\u662f\u4ece1\u51fa\u53d1\uff0c\u54b1\u5148\u628a\u80fd\u8d70\u7684\u90fd\u8d70\u4e00\u904d\uff0c\u4f9d\u6b21\u5230\u8fbe2\uff0c3.4\n\n1\u7684\u8d70\u5b8c\u4e86\uff0c\u54b1\u5c31\u4ece\u4e0b\u4e00\u4e2a\u6ca1\u5f80\u4e0b\u8d70\u7684\u5730\u70b9\u5f00\u59cb\uff0c\u4e5f\u5c31\u662f\u4ece2\u51fa\u53d1\uff0c\u5230\u8fbe5\uff0c6\n\n2\u7684\u4e5f\u8d70\u5b8c\u4e86\uff0c\u76ee\u524d\u6700\u9760\u524d\u7684\u8fd8\u6ca1\u5f80\u4e0b\u8d70\u8fc7\u7684\u70b9\u662f3\uff0c\u597d\u7684\uff0c\u4ece3\u5230\u8fbe7\uff0c8\n\n\u7136\u540e\u4e0b\u4e00\u4e2a\u6ca1\u5f80\u4e0b\u201c\u6269\u5c55\u201d\u7684\u5730\u70b9\u662f4\uff0c\u54c7\uff0c\u8fd9\u65f6\u50197\uff0c8\u90fd\u5df2\u7ecf\u8d70\u8fc7\u4e86\u5462\uff0c\u90a3\u5c31\u8d70\u5b8c\u5566\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u987a\u5e8f\uff1a\n```\n1 2 3 4 5 6 7 8\n```\n\u603b\u4e4b\u5c31\u662f\u628a\u6bcf\u4e2a\u6ca1\u6709\u5411\u4e0b\u8d70\u8fc7\u7684\u5730\u65b9\u90fd\u8d70\u4e00\u904d\uff0c\u5982\u679c\u4f60\u770b\u61c2\u4e86\uff0c\u4f60\u53ef\u4ee5\u53d1\u73b0\u8fd9\u4e2a\u65b9\u6cd5\u548c\u201c**\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22**\u201d\u7b97\u6cd5\u5f88\u50cf\uff0c\u6211\u4eec\u5c31\u53eb\u5b83\u201c**\u56fe\u7684\u5e7f\u5ea6\u4f18\u5148\u904d\u5386**\u201d\n\n\n\n------------\n\u4e24\u79cd\u904d\u5386\u65b9\u6cd5\u90fd\u8bb2\u5b8c\u4e86\uff0c\u63a5\u4e0b\u6765\u54b1\u4eec\u8003\u8651\u7684\u5c31\u53ea\u6709\u7ec6\u8282\u95ee\u9898\u4e86\uff0c\u9996\u5148\uff0c\u8fd9\u4e2a\u9898\u6570\u636e\u8303\u56f4\u90a3\u4e48\u5927\uff0c**\u7528\u90bb\u63a5\u77e9\u9635\u5b58\u80af\u5b9a\u662f\u4f1a\u7206\u7684**\uff0c\u90a3\u54b1\u4eec\u5c31\u7528\u4e00\u79cd\u65b0\u7684\u65b9\u6cd5\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec**\u7528\u4e00\u4e2a\u7ed3\u6784\u4f53vector\uff08\u4e3a\u4e86\u8282\u7701\u7a7a\u95f4\uff0c\u54b1\u7528vector\u6765\u5b58\uff09\u5b58\u50a8\u6bcf\u4e2a\u8fb9\u7684\u8d77\u70b9\u548c\u7ec8\u70b9**\uff0c\u7136\u540e**\u7528\u4e00\u4e2a\u4e8c\u7ef4vector\uff08\u4e5f\u5c31\u662f\u4e00\u4e2avector\u6570\u7ec4\uff09\u5b58\u50a8\u8fb9\u7684\u4fe1\u606f**\u3002\n\n\u8fd9\u4e2a\u5b58\u50a8\u65b9\u6cd5\u53ef\u80fd\u6709\u70b9\u96be\u7406\u89e3\uff0c\u4e0d\u8fc7\u5176\u5b9e\u4e5f\u6ca1\u90a3\u4e48\u96be\uff1a**\u6211\u4eec\u7528$e$[$a$][$b$]=$c$\uff0c\u6765\u8868\u793a\u9876\u70b9$a$\u7684\u7b2c$b$\u6761\u8fb9\u662f$c$\u53f7\u8fb9**\u3002\u54b1\u4e3e\u4e2a\u6817\u5b50\uff0c\u8fd8\u662f\u62ff\u6837\u4f8b\u8bf4\u5427\uff1a\n\n```\n8 9\n1 2 //0\u53f7\u8fb9\uff08\u7531\u4e8evector\u7684\u4e0b\u6807\u662f\u4ece0\u5f00\u59cb\u7684\uff0c\u54b1\u5c31\u201c\u5165\u4e61\u968f\u4fd7\u201d\uff0c\u4ece0\u5f00\u59cb\uff09\n1 3 //1\u53f7\u8fb9\n1 4 //2\u53f7\u8fb9\n2 5 //3\u53f7\u8fb9\n2 6 //4\u53f7\u8fb9\n3 7 //5\u53f7\u8fb9\n4 7 //6\u53f7\u8fb9\n4 8 //7\u53f7\u8fb9\n7 8 //8\u53f7\u8fb9\n```\n\u6700\u540e\u4e8c\u7ef4vector\u4e2d\u7684\u5b58\u50a8\u4f1a\u5982\u4e0b\u6240\u793a\uff1a\n```\n0 1 2 //1\u53f7\u9876\u70b9\u8fde\u77400\u30011\u30012\u53f7\u8fb9\n3 4\t//2\u53f7\u9876\u70b9\u8fde\u77403\u30014\u53f7\u8fb9\n5\t//3\u53f7\u9876\u70b9\u8fde\u77405\u53f7\u8fb9\n6 7 //4\u53f7\u9876\u70b9\u8fde\u77406\u30017\u53f7\u8fb9\n\t//5\u53f7\u9876\u70b9\u6ca1\u6709\u8fb9\n\t//6\u53f7\u9876\u70b9\u6ca1\u6709\u8fb9\n8\t//7\u53f7\u9876\u70b9\u8fde\u77408\u53f7\u8fb9\n\t//8\u53f7\u9876\u70b9\u6ca1\u6709\u8fb9\n\n```\n\u770b\u662f\u4e0d\u662f\u5bf9\u4e0a\u53f7\u4e86\uff1f\u8fd9\u4e2a\u65b9\u6cd5\u6bd4\u8f83\u597d\u61c2\uff0c\u53c8\u8282\u7701\u7a7a\u95f4\uff0c\u662f\u4e2a\u597d\u65b9\u6cd5\u3002*\uff08\u6b64\u65b9\u6cd5\u7531\u5927\u4f6cvectorwyx\u53d1\u660e\uff09*\n\n\u6700\u540e\uff0c\u522b\u5fd8\u4e86\u9898\u76ee\u8981\u6c42\uff1a\u201c**\u5982\u679c\u6709\u5f88\u591a\u7bc7\u6587\u7ae0\u53ef\u4ee5\u53c2\u9605\uff0c\u8bf7\u5148\u770b\u7f16\u53f7\u8f83\u5c0f\u7684\u90a3\u7bc7**\u201d\n\n\u90a3\u5c31**\u6392\u5e8f**\u5457\uff01\u54b1\u4eec\u6309\u7167\u9898\u76ee\u8981\u6c42\uff0c**\u6309\u7167\u7ec8\u70b9\u4ece\u5c0f\u5230\u5927\u6392\u5217\uff0c\u5982\u679c\u7ec8\u70b9\u76f8\u540c\u6309\u8d77\u70b9\u4ece\u5c0f\u5230\u5927\u6392\u5217** \u6ce8\u610f\u6211\u4eec\u8bf4\u7684\u7b2c\u51e0\u53f7\u8fb9\u662f\u6307\u6392\u5e8f\u540e\u7684\u5e8f\u53f7\n\n\n```cpp\n//\u51c6\u5907\u5de5\u4f5c\uff1a\nstruct edge{\n\tint u,v; //\u8bb0\u5f55\u8fb9\u7684\u7ed3\u6784\u4f53\uff0cu\u8d77\u70b9\uff0cv\u7ec8\u70b9\n};\nvector <int> e[100001];  //\u5b58\u5177\u4f53\u4fe1\u606f\u7684\u4e8c\u7ef4vector\nvector <edge> s;  //\u5b58\u8fb9\u7684\u7ed3\u6784\u4f53vector\u6570\u7ec4\nbool cmp(edge x,edge y){  //\u6392\u5e8f\u89c4\u5219\n\tif(x.v==y.v)  //v\u76f8\u540c\u6309u\u6392\u5e8f\n\treturn x.u<y.u;\n\telse return x.v<y.v;  //\u5426\u5219\u6309v\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\n}\n\n```\n\n```cpp\n//main\u51fd\u6570\u91cc\u7684\u5185\u5bb9\t\n\tint n,m;  \n\tcin>>n>>m; //n\u4e2a\u9876\u70b9\uff0cm\u6761\u8fb9\uff0c\u6ca1\u5565\u597d\u8bf4\u7684\n\tfor(int i=0;i<m;i++){ //m\u6761\u8fb9\n\t\tint uu,vv;  \n\t\tcin>>uu>>vv;  \n\t\ts.push_back((edge){uu,vv}); //\u521d\u59cb\u5316\u5b58\u8fb9\u7684s\u6570\u7ec4  \n\t}\n\tsort(s.begin(),s.end(),cmp);\n        //\u4f18\u96c5\u5730\u6392\u4e2a\u5e8f\uff08\u522b\u5fd8\u4e86vector\u7684\u64cd\u4f5c\uff1astart\u8fd4\u56de\u7b2c\u4e00\u4e2a\uff08\u6307\u9488\uff09,end\u8fd4\u56de\u6700\u540e\u4e00\u4e2a\uff08\u6307\u9488\uff09\uff09\n\tfor(int i=0;i<m;i++)\n\t\te[s[i].u].push_back(i); \n\t//\u521d\u59cb\u5316e\u6570\u7ec4\uff0c\u5728e[s[i].u]\uff08\u4e5f\u5c31\u662fi\u53f7\u8fb9\u7684\u8d77\u70b9s[i].u\u8fde\u63a5\u7684\u8fb9\u7684\u6570\u7ec4\uff09\u4e2d\u5b58\u5165i\u53f7\u8fb9\n```\n\u63a5\u4e0b\u6765\u5c31\u662f\u904d\u5386\u7684\u8fc7\u7a0b\uff0c\u7531\u4e8e\u4f60\u4eec\u5bf9\u4e24\u79cd\u641c\u7d20\u7684\u8fc7\u7a0b\u90a3\u4e48\u719f\u6089\uff0c\u4e00\u5b9a\u53ef\u4ee5\u770b\u61c2\u4e0b\u9762\u7684~~\u6ca1\u6709\u6ce8\u91ca\u7684~~\u4ee3\u7801\uff01\n\uff08\u9a97\u4f60\u4eec\u7684\uff0c\u50cf\u6211\u8fd9\u4e48\u5fc3\u5730\u5584\u826f\uff0c\u600e\u4e48\u53ef\u80fd\u4e0d\u7ed9\u4f60\u4eec\u52a0\u6ce8\u91ca\uff09\n\n```cpp\nbool vis1[100001]={0},vis2[100001]={0};\n//vis\u6570\u7ec4\u7528\u6765\u5224\u65ad\u6709\u6ca1\u6709\u904d\u5386\u8fc7\u8fd9\u4e2a\u9876\u70b9\uff0cvis1\u7528\u4e8e\u6df1\u641c\uff0cvis2\u7528\u4e8e\u5e7f\u641c\uff08\u6211\u624d\u4e0d\u4f1a\u544a\u8bc9\u4f60\u6211\u61d2\u5f97memset\u5462\uff09\n```\n```cpp\nvoid dfs(int x){  //dfs\u2014\u2014\u6df1\u5ea6\u4f18\u5148\u904d\u5386\uff0cx\u8868\u793a\u5f53\u524d\u904d\u5386\u5230x\u53f7\u9876\u70b9\n\tvis1[x]=1;  //\u8fd9\u4e2a\u9876\u70b9\u5df2\u7ecf\u8d70\u8fc7\u5566\uff01\n\tcout<<x<<\" \"; //\u8f93\u51fa~\n\tfor(int i=0;i<e[x].size();i++){ //\u4e00\u6761\u4e00\u6761\u8fb9\u53bb\u641c\u7d22\n\t\tint point=s[e[x][i]].v;  //\u627e\u51fa\u5f53\u524d\u8fd9\u6761\u8fb9\uff08\u4e5f\u5c31\u662fe[x][i]\uff09\u7684\u7ec8\u70b9\n\t\tif(!vis1[point]){   //\u5982\u679c\u8fd9\u4e2a\u70b9\u6ca1\u8d70\u8fc7\n\t\t\tdfs(point); //\u90a3\u5c31\u63a5\u7740\u5f80\u4e0b\u641c\u5427\uff01\n\t\t}\n\t}\n}\n```\n\n```cpp\nvoid bfs(int x){   //bfs\u2014\u2014\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\uff08x\u4f9d\u7136\u662f\u7b2c\u51e0\u53f7\u9876\u70b9\uff0c\u4e0d\u8fc7\u65e2\u7136\u4e0d\u9012\u5f52\u5176\u5b9e\u4f20\u8fd9\u4e2a\u53c2\u6570\u4e5f\u6ca1\u5565\u7528\uff09\n\tqueue <int> q;  //\u6ca1\u6709\u961f\u5217\u90a3\u8fd8\u53eb\u5e7f\u641c\u5417\n\tq.push(x);  //\u5148\u628a\u7b2c\u4e00\u4e2a\u9876\u70b9\u63a8\u8fdb\u53bb\uff0c\u8f93\u51fa\uff0c\u6807\u8bb0\u8bbf\u95ee\u8fc7\n\tcout<<x<<\" \";  \n\tvis2[x]=1; \n\twhile(!q.empty()){   //\u5e7f\u641c\u677f\u5b50\uff0c\u4e0a\uff01\n\t\tint fro=q.front();  //\u628a\u961f\u9996\u53d6\u51fa\u6765\n\t\tfor(int i=0;i<e[fro].size();i++){   //\u6bcf\u6761\u8fb9\u53bb\u8bd5\n\t\t\tint point=s[e[fro][i]].v;  //\u53d6\u7ec8\u70b9\uff08\u548cdfs\u5dee\u4e0d\u591a\uff09\n\t\t\tif(!vis2[point]){  //\u6ca1\u8bbf\u95ee\u8fc7\uff0c\u63a8\u8fdb\u53bb\uff0c\u8f93\u51fa\uff0c\u6807\u8bb0\n\t\t\t\tq.push(point); \n\t\t\t\tcout<<point<<\" \";\n\t\t\t\tvis2[point]=1;\n\t\t\t}\n\t\t}\n\t\tq.pop();  //\u961f\u9996\u641c\u5b8c\u5566\uff01\u628a\u5b83\u5f04\u51fa\u53bb\n\t}\n}\n```\n\n\u8fd9\u7bc7\u9898\u89e3\u5c31\u5230\u8fd9\u91cc\u5566\uff01Finally:AC code:\n\n```cpp\n#include<iostream>  //\u5934\u6587\u4ef6\u5934\u6587\u4ef6\u5934\u6587\u4ef6\n#include<vector>\n#include<queue>\n#include<algorithm>\nusing namespace std;  \nstruct edge{       //\u5b58\u8fb9\u7ed3\u6784\u4f53\n\tint u,v;\n}; \nvector <int> e[100001];  //\u4e24\u4e2avector\u521a\u624d\u5df2\u7ecf\u8be6\u7ec6\u8bb2\u8fc7\u4e86\nvector <edge> s;\nbool vis1[100001]={0},vis2[100001]={0}; //\u6807\u8bb0\u6570\u7ec4\nbool cmp(edge x,edge y){  //\u6392\u5e8f\u89c4\u5219\n\tif(x.v==y.v)\n\treturn x.u<y.u;\n\telse return x.v<y.v;\n}\nvoid dfs(int x){  //\u6df1\u5ea6\u4f18\u5148\u904d\u5386\n\tvis1[x]=1;\n\tcout<<x<<\" \";\n\tfor(int i=0;i<e[x].size();i++){\n\t\tint point=s[e[x][i]].v;\n\t\tif(!vis1[point]){\n\t\t\tdfs(point);\n\t\t}\n\t}\n}\nvoid bfs(int x){  //\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\n\tqueue <int> q;\n\tq.push(x);\n\tcout<<x<<\" \";\n\tvis2[x]=1;\n\twhile(!q.empty()){\n\t\tint fro=q.front();\n\t\tfor(int i=0;i<e[fro].size();i++){\n\t\t\tint point=s[e[fro][i]].v;\n\t\t\tif(!vis2[point]){\n\t\t\t\tq.push(point); \n\t\t\t\tcout<<point<<\" \";\n\t\t\t\tvis2[point]=1;\n\t\t\t}\n\t\t}\n\t\tq.pop();\n\t}\n}\nint main(){\n\tint n,m;  //\u8f93\u5165\uff0c\u5b58\u8fb9\n\tcin>>n>>m; \n\tfor(int i=0;i<m;i++){\n\t\tint uu,vv;\n\t\tcin>>uu>>vv;\n\t\ts.push_back((edge){uu,vv});   \n\t}\n\tsort(s.begin(),s.end(),cmp);  //\u6392\u5e8f\n\tfor(int i=0;i<m;i++)   \n\t\te[s[i].u].push_back(i); \n\tdfs(1);   //\u4ece1\u53f7\u9876\u70b9\u5f00\u59cb\u6df1\u641c\n\tcout<<endl;\n\tbfs(1);   //\u5e7f\u641c\u4ea6\u540c\u7406\n}\n```\n\n### The  End~~~\n",
        "postTime": 1578831682,
        "uid": 239405,
        "name": "yangrunze",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5318 \u3010\u3010\u6df1\u57fa18.\u4f8b3\u3011\u67e5\u627e\u6587\u732e\u3011"
    },
    {
        "content": "\u4e0a\u624b\u9274\u5b9a\u5927\u819c\u4f60\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\n\n\u9898\u76ee\u8bf4\u4e86\u534a\u5929\uff0c\u5176\u5b9e\u5c31\u662f\u7ed9\u4f60\u4e00\u5f20\u6709\u5411\u56fe\uff0c\u8981\u4f60\u628a\u5b83\u6df1\u5ea6\u904d\u5386\u4e00\u904d\u518d\u5e7f\u5ea6\u904d\u5386\u4e00\u904d\u3002\n\n\u4e00\u4e9b\u7ec6\u8282\uff1a\n```plain\n\u8003\u8651\u5230\u8981\u6392\u5e8f\uff0c\u7528set\u4ee3\u66ff\u90bb\u63a5\u8868\u7684vector.\n\u4e3a\u4e86\u66f4\u7b80\u6d01\u7684\u5199\u6cd5\u91c7\u7528C++11.\n```\n\u7136\u540e\u8fdb\u5165\u4e3b\u8981\u95ee\u9898\uff1a\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u548c\u5e7f\u5ea6\u4f18\u5148\u904d\u5386\u600e\u4e48\u5b9e\u73b0\uff1f\n\n\u7edf\u4e00\u8d77\u89c1\uff0c\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u5f20\u6e05\u5355\uff0c\u8bb0\u5f55\u73b0\u5728\u53ef\u4ee5\u904d\u5386\u7684\u70b9\u3002\n\n\u6df1\u5ea6\u4f18\u5148\uff1a\n\n\u65e2\u7136\u662f\u6df1\u5ea6\u4f18\u5148\uff0c\u90a3\u4e48\u904d\u5386\u5b8c\u4e00\u4e2a\u70b9x\u540e\u80af\u5b9a\u7acb\u523b\u904d\u5386\u5b83\u7684\u90bb\u5c45\u8282\u70b9\uff08\u56e0\u4e3a\u8fd9\u4e9b\u70b9\u73b0\u5728\u80af\u5b9a\u6bd4\u6e05\u5355\u91cc\u5176\u5b83\u70b9\u90fd\u6df1\uff09\u3002\n\n->\u628ax\u7684\u90bb\u5c45\u52a0\u5165\u6e05\u5355\u540e\u7acb\u523b\u53d6\u51fa\u3002\n\n->\u540e\u8fdb\u5148\u51fa\u3002\n\n**\u7528\u6808\u5b9e\u73b0\uff01**\n\n\u5982\u679c\u60f3\u8981\u4ee3\u7801\u53d8\u5f97\u77ed\u4e00\u4e9b\uff08\u4ee5\u5e38\u6570\u4e3a\u4ee3\u4ef7\uff0c\u4e0d\u8fc7\u53ef\u4ee5\u65e0\u89c6\uff09\uff0c\u53ef\u4ee5\u628a\u4eba\u5de5\u5f00\u7684\u6808\u6539\u6210\u7cfb\u7edf\u51fd\u6570\u8c03\u7528\u6808\u3002\uff08\u597d\u5904\uff1a\u4ee3\u7801\u77ed\uff0c**\u7701\u7a7a\u95f4\uff01\uff01\uff01**\uff09\n\n\u7c7b\u4f3c\u8fd9\u6837\uff1a\n```cpp\n\tif(vis[x])return;vis[x]=1;//bool\u6570\u7ec4vis\u8bb0\u5f55\u662f\u5426\u88ab\u8bbf\u95ee\u8fc7\n\tprintf(\"%d \",x);//\u8f93\u51fa\u6b63\u5728\u8bbf\u95ee\u7684\u70b9\n\tfor(int v:e[x])dfs(v);//\u9012\u5f52\u8bbf\u95ee\u90bb\u5c45\n```\n\u5e7f\u5ea6\u4f18\u5148\uff1a\n\n\u601d\u8003\u7565\u5fae\u590d\u6742\uff0c\u5c31\u76f4\u63a5\u7ed9\u7ed3\u8bba\u4e86\uff1a\n\n\u4e00\u4e2a\u961f\u5217\uff0c\u6bcf\u6b21\u53d6\u961f\u9996\u904d\u5386\u90bb\u5c45\u52a0\u5165\u961f\u5c3e\u3002\uff08\u53ef\u4ee5\u5f52\u7eb3\u8bc1\u660e\u4e00\u5b9a\u7b26\u5408\u201c\u5e7f\u5ea6\u4f18\u5148\u201d\u7684\u5b9a\u4e49\uff09\n\n\u961f\u5217\u4e48\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u5c31\u6ca1\u6709dfs\u7684\u798f\u5229\u4e86\u3002\n\n\u4e0a\u4ee3\u7801\uff1a\n```cpp\nqueue<int>q;\nq.push(1);//\u6e05\u5355\u91cc\u7b2c\u4e00\u4e2a\u70b9\nwhile(!q.empty()){//\u8fd8\u6709\u6ca1\u8bbf\u95ee\u7684\uff1f\n\tint x=q.front();q.pop();//\u6e05\u5355\u9996\u5143\u7d20\n\tif(vis[x])continue;vis[x]=1;\n\tprintf(\"%d \",x);//\u904d\u5386\u5230\n\tfor(int v:e[x])q.push(v);//\u52a0\u5165\u6e05\u5355\n}\n```\n\u5b8c\u6574\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m;\nset<int>e[100009];\nbool vis[100009];\nvoid init(){\n\tfor(scanf(\"%d%d\",&n,&m);m;--m){\n\t\tint u=0,v=0;\n\t\tscanf(\"%d%d\",&u,&v);\n\t\te[u].insert(v);\n\t}\n}\nvoid dfs(int x=1){\n\tif(vis[x])return;vis[x]=1;\n\tprintf(\"%d \",x);\n\tfor(int v:e[x])dfs(v);\n}\nvoid bfs(){\n\tqueue<int>q;\n\tq.push(1);\n\twhile(!q.empty()){\n\t\tint x=q.front();q.pop();\n\t\tif(vis[x])continue;vis[x]=1;\n\t\tprintf(\"%d \",x);\n\t\tfor(int v:e[x])q.push(v);\n\t}\n}\nint main(){\n\tinit();\n\tdfs();\n\tputchar('\\n');\n\tmemset(vis,0,sizeof(vis));\n\tbfs();\n\tputchar('\\n');\n\treturn 0;\n}\n```\nOver.",
        "postTime": 1582553283,
        "uid": 250637,
        "name": "UnyieldingTrilobite",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P5318 \u3010\u3010\u6df1\u57fa18.\u4f8b3\u3011\u67e5\u627e\u6587\u732e\u3011"
    },
    {
        "content": "\u4e00\u9053\u56fe\u7684\u904d\u5386\u7684\u57fa\u7840\u5165\u95e8\u9898\u3002\n\n\u9898\u76ee\u5927\u610f\u53ef\u4ee5\u6982\u62ec\u4e00\u4e0b\uff1a\u6709\u4e00\u5f20\u6709\u5411\u56fe\uff0c\u6c42\u5176\u8fdb\u884c\u6df1\u5ea6\u4f18\u5148\u641c\u7d22($DFS$)\u548c\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22($BFS$)\u7684\u4e24\u4e2a\u5b57\u5178\u5e8f\u6700\u5c0f\u7684\u904d\u5386\u5e8f\u5217\u3002\n\n\u9996\u5148\u6211\u4eec\u5f97\u660e\u767d\u4ec0\u4e48\u53eb$DFS$\u548c$BFS$\u3002\n\n$DFS$\uff0c\u7528\u901a\u4fd7\u7684\u8bdd\u6765\u8bf4\uff0c\u5c31\u662f\u4f60\u4ece\u56fe\u7684\u4e00\u4e2a\u7ed3\u70b9\u51fa\u53d1\uff0c\u9009\u62e9\u4e86\u4e0b\u4e00\u4e2a\u4f60\u9700\u8981\u904d\u5386\u7684\u7ed3\u70b9\uff0c\u7136\u540e\u4f60\u518d\u4ee5\u4f60\u6240\u9009\u62e9\u7684\u70b9\u4f5c\u4e3a\u65b0\u7684\u8d77\u70b9\uff0c\u7ee7\u7eed\u5411\u4e0b\u9009\u62e9\uff0c\u76f4\u5230\u4f60\u9009\u62e9\u7684\u7ed3\u70b9\u6ca1\u6709\u4e86\u4e0b\u4e00\u4e2a\u7ed3\u70b9\uff0c\u6216\u8005\u5b83\u6240\u6709\u7684\u5b50\u8282\u70b9\u90fd\u88ab\u8bbf\u95ee\u8fc7\u3002\n\n**\u90a3\u4e48\u6b64\u65f6\u600e\u4e48\u529e\u5462\uff1f**\n\n\u90a3\u4f60\u5c31\u8981\u6309\u7167\u4f60\u9009\u62e9\u7684\u8def\u5f84\uff0c\u4f9d\u6b21\u8df3\u56de\uff0c\u76f4\u5230\u4f60\u8df3\u56de\u7684\u8282\u70b9\u6709\u4e86\u5b57\u8282\u70b9\uff0c\u518d\u8fdb\u884c\u904d\u5386\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\n\n$BFS$\uff0c\u7528\u901a\u4fd7\u7684\u8bdd\u6765\u8bf4\uff0c\u5c31\u662f\u4f60\u4ece\u56fe\u4e2d\u7684\u4e00\u4e2a\u8282\u70b9\u51fa\u53d1\uff0c\u5176\u6709\u51e0\u4e2a\u5b50\u8282\u70b9\uff0c\u4f60\u4f1a\u5148\u5c06\u8fd9\u6240\u6709\u7684\u5b50\u8282\u70b9\u904d\u5386\uff0c\u518d\u6311\u5176\u4e2d\u7684\u4e00\u4e2a\u5b50\u8282\u70b9\uff0c\u904d\u5386\u5b83\u7684\u6240\u6709\u5b50\u8282\u70b9\uff0c\u518d\u6362\u5230\u53e6\u5916\u4e00\u4e2a\u7ed3\u70b9\u904d\u5386\u5176\u6240\u6709\u7684\u5b50\u8282\u70b9\u3002\u8fd9\u6837\u4e00\u5c42\u5c42\u904d\u5386\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\n\n**\u90a3\u4e48\u8be5\u7528\u4ec0\u4e48\u7b97\u6cd5\u5b9e\u73b0\u5462\uff1f**\n\n\u5bf9\u4e8e$DFS$\uff0c\u7531\u4e8e\u5b83\u9700\u8981\u5f80\u56de\u8df3\uff0c\u6240\u4ee5\u5c31\u9700\u8981\u7528\u9012\u5f52\u7b97\u6cd5\uff1b\n\n\u5bf9\u4e8e$BFS$\uff0c\u7531\u4e8e\u5b83\u9700\u8981\u4e00\u5c42\u5c42\u904d\u5386\uff0c\u6240\u4ee5\u9700\u8981\u7528\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\u6765\u5b58\u50a8\u6bcf\u4e00\u5c42\u7684\u8282\u70b9\uff0c\u800c\u6839\u636e\u6211\u6240\u63cf\u8ff0\u7684\uff0c\u9009\u7528\u961f\u5217($queue$)\u662f\u6700\u4e3a\u5408\u9002\u7684\u3002\n\n\u5bf9\u4e86\uff0c\u8fd9\u9053\u9898\u8282\u70b9\u6570$\\leq10^5$\uff0c\u4f7f\u7528\u90bb\u63a5\u77e9\u9635\u4f1a$MLE$\uff0c\u90a3\u4e48\u5c31\u53ea\u80fd\u8003\u8651\u91c7\u7528\u90bb\u63a5\u8868\u3002\n\n\u53c8\u7531\u4e8e\u672c\u9898\u9700\u8981\u6c42\u5b57\u5178\u5e8f\u6700\u5c0f\u7684\u5e8f\u5217\uff0c\u90a3\u4e48\u5c31\u8981\u5c06\u90bb\u63a5\u8868\u5b58\u50a8\u7684\u7ed3\u70b9\u6309\u4ece\u5c0f\u5230\u5927\u8fdb\u884c\u6392\u5e8f\u3002\n\n\u603b\u4f53\u5c31\u662f\u8fd9\u6837\u7684\uff0c\u8bb0\u5f97\u4e24\u6b21\u904d\u5386\u4e2d\u95f4\u8981\u6e05\u7a7a\u4f60\u904d\u5386\u65f6\u6240\u9700\u8981\u7684\u6807\u8bb0\u6570\u7ec4\u3002\n\n```cpp\n#include <iostream>\n#include <vector>\n#include <queue>\n#include <cstring>\n#include <algorithm>\nusing namespace std;\n\nconst int MAXN = 100010;\n\nstd::vector<int> G[MAXN];\nint n, m;\nbool visited[MAXN];\nqueue<int> q;\n\nvoid dfs(int x, int cur) {//x\u6307\u5f53\u524d\u6240\u5728\u7684\u8282\u70b9\uff0ccur\u6307\u5df2\u904d\u5386\u8fc7\u7684\u8282\u70b9\u4e2a\u6570\n\tvisited[x] = true;//\u6807\u8bb0\u4ee5\u907f\u514d\u91cd\u590d\u8bbf\u95ee\n\tcout << x << \" \";//\u8f93\u51fa\n\tif (cur == n) return ;\n\tfor (int i=0; i<G[x].size(); i++)\n\t\tif (!visited[G[x][i]]) dfs(G[x][i], cur+1);//\u8bb0\u5f97\u8981\u5224\u65ad\u662f\u5426\u904d\u5386\u8fc7\n}\n\nvoid bfs(int x) {\n\tmemset(visited, false, sizeof(visited));//\u8bb0\u5f97\u4e00\u5b9a\u8981\u6e05\u7a7a\n\tvisited[x] = true;\n\tq.push(x);\n\twhile (!q.empty()) {\n\t\tint v = q.front();\n\t\tq.pop();//\u8bb0\u5f97\u8981\u5f39\u51fa\uff0c\u5426\u5219\u4f1a\u4e00\u76f4\u5728\u7b2c\u4e00\u5c42\u904d\u5386\n\t\tcout << v << \" \";//\u8f93\u51fa\n\t\tfor (int i=0; i<G[v].size(); i++) \n\t\t\tif (!visited[G[v][i]]) {\n\t\t\t\tvisited[G[v][i]] = true;\n\t\t\t\tq.push(G[v][i]);//\u8bb0\u5f97\u8981\u5165\u961f\n\t\t\t}\n\t}\n}\n\nint main() {\n\tcin >> n >> m;\n\tfor (int i=1; i<=m; i++) {\n\t\tint u, v;\n\t\tcin >> u >> v;\n\t\tG[u].push_back(v);//\u6807\u51c6\u90bb\u63a5\u8868\u5efa\u6709\u5411\u56fe\n\t}\n\tfor (int i=1; i<=n; i++) sort(G[i].begin(), G[i].end());//\u6807\u51c6vector\u6392\u5e8f\n\tdfs(1, 0);\n\tcout << endl;\n\tbfs(1);\n\tcout << endl;\n\treturn 0;//\u5b8c\u7ed3\u6492\u82b1\uff01\n}\n```",
        "postTime": 1578653482,
        "uid": 88213,
        "name": "zhangyuhan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5318 \u3010\u3010\u6df1\u57fa18.\u4f8b3\u3011\u67e5\u627e\u6587\u732e\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P5318)\n\n\u6839\u636e\u672c\u849f\u84bb~~\u7ec6\u81f4~~\u7c97\u7565\u7684\u5206\u6790\n\n\u8fd9\u660e\u663e\u662f\u4e00\u9053~~\u6c34\u9898~~\u6a21\uff08du\uff09\u677f\uff08liu\uff09\u9898\n\n\u53ef\u6211\u7adf\u7136\u6ca1\u6709\u4e00\u904dAC;\n\n\u4e3a\u66f4\u597d\u5730\u98df\u7528\u672c\u9898\u89e3\u9700\u8981\u4e86\u89e3\u4ee5\u4e0b\u5185\u5bb9\n\n1.dfs\uff08~~\u5927\u6cd5\u5e08~~\u6df1\u641c\uff09\n\n2.bfs\uff08~~\u51b0\u6cd5\u5e08~~\u5e7f\u641c\uff09/[dij\u6700\u77ed\u8def](https://www.luogu.com.cn/blog/Varuxn/dij-shi-xian-zui-duan-lu)\n\n3.[STL vector\u7684\u4f7f\u7528](https://www.luogu.com.cn/blog/Varuxn/vector-ji-cao)\n\n4.[STL \u961f\u5217\u7684\u4f7f\u7528](https://www.luogu.com.cn/blog/Varuxn/dui-lie-hu-tai-xiao-gen-dui-ji-cao)\n\n\u5176\u6b21\u5c31\u662f\u4e00\u4e9b\u4f18\u5316\uff08\u672c\u4eba\u5728\u6b64\u5904\u5361\u4e86while(1)n++\u6b21\uff09\n\n\u4e0b\u9762\u9644\u4e0a\u4ee3\u7801\n\n\n```\n#include<bits/stdc++.h>//\u4e07\u80fd\u6587\u4ef6\u5934 \nusing namespace std;\ninline int read()//\u4e8c\u8fdb\u5236\u4f18\u5316\u7684\u5feb\u8bfb \n{\n    int x=0,f=1;\n    char ch=getchar();\n    while(ch<'0'||ch>'9')\n\t{\n        if(ch=='-')\n            f=-1;\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9')\n\t{\n        x=(x<<1)+(x<<3)+(ch^48);\n        ch=getchar();\n    }\n    return x*f;\n}\nint n,m;\nbool b[100005];//\u5b9a\u4e49b\u6570\u7ec4\u9632\u6b62\u91cd\u590d\u8f93\u51fa \nvector<int > a[100005];//STL\u5927\u6cd5\u597d \nvoid dfs(int x,int r)//x\u8868\u793a\u6240\u5728\u70b9\uff0cr\u8868\u793a\u5269\u4f59\u672a\u904d\u5386\u7684\u70b9 \n{\n\tb[x]=true;//\u8bb0\u5f55\u67d0\u70b9\u5df2\u7ecf\u8f93\u51fa\u8fc7 \n\tif(!r)//\u5982\u679c\u6bcf\u4e2a\u70b9\u90fd\u904d\u5386\u8fc7\u7ec8\u6b62\u9012\u5f52 \n\t{\n\t\tcout<<x<<' ';\n\t\treturn ;\n\t}\n\tcout<<x<<' ';//\u8f93\u51fa \n\tfor(int i=0;i<a[x].size();i++)\n\tif(!b[a[x][i]]) dfs(a[x][i],r-1);//\u67e5\u627e\u4ecex\u53ef\u4ee5\u5230\u7684\u70b9\uff0c\u5e76\u904d\u5386 \n}\nvoid bfs()\n{\n\tqueue<int> q;//\u8fd8\u662fSTL \n\tq.push(1);b[1]=true;//\u628a1\u70b9\u653e\u5165\u961f\u5217\u4e2d\uff0c\u5e76\u6807\u8bb01\u70b9\u5df2\u7ecf\u904d\u5386\u8fc7 \n\twhile(!q.empty())\n\t{\n\t\tint s=q.front(); q.pop();//\u62ff\u51fa\u961f\u5217\u9996\u7684\u90a3\u4e2a\u70b9 \n\t\tcout<<s<<' ';//\u8f93\u51fa \n\t\tfor(int i=0;i<a[s].size();i++) if(b[a[s][i]]==false) q.push(a[s][i]),b[a[s][i]]=true;//\u628a\u70b9s\u6240\u80fd\u5230\u8fbe\u7684\u70b9\u904d\u5386\uff0c\u4e3a\u9632\u6b62TLE\u548c\u91cd\u590d\u8f93\u51fa\uff0c\u8bb0\u5f55\u5df2\u904d\u5386\u8fc7\u7684\u70b9 \n\t}\n}\nint main()\n{\n\tn=read();//\u8bfb\u5165 \n\tm=read();\n\tfor(int i=1;i<=m;i++) \n\t{\n\t\tint x,y;\n\t\tx=read();//\u8bfb\u5165\n\t\ty=read();\n\t\ta[x].push_back(y);//\u5efa\u56fe \u8868\u793ax\u53ef\u4ee5\u5230y \n\t}\n\tfor(int i=1;i<=n;i++)//\u628a\u6bcf\u6761\u8def\u6240\u901a\u5411\u7684\u70b9\u4ece\u5c0f\u5230\u5927\u6392\u5217\uff08\u9898\u76ee\u4e2d\u6709\u8981\u6c42\uff09 \n\tsort(a[i].begin(),a[i].end());//\u5feb\u6392  \n\tdfs(1,n);//\u8fdb\u884c\u6df1\u641c \u4ece1\u70b9\u5f00\u59cb\uff0c\u8fdb\u884cn\u6b21 \n\tcout<<endl;//\u6362\u884c \n\tfor(int i=1;i<=n;i++) b[i]=false;//\u521d\u59cb\u5316 \n\tbfs();//\u8fdb\u884c\u5e7f\u641c \n\treturn 0;\n}\n```\n\n\u671b\u7ba1\u7406\u5927\u5927\u7ed9\u8fc7",
        "postTime": 1578481587,
        "uid": 190322,
        "name": "Varuxn",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5318 \u3010\u3010\u6df1\u57fa18.\u4f8b3\u3011\u67e5\u627e\u6587\u732e\u3011"
    }
]