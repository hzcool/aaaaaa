[
    {
        "content": "## \u53c8\u662f\u9b3c\u755c\u7684\u5b66\u6821\u8003\u8bd5\u9898\u3002\u3002\u3002\n\n\u9898\u76ee\u7684\u6837\u4f8b\u592a\u5f31\u4e86\uff0c\u6709\u624b\u5c31\u80fd\u8fc7\uff0c\u8fd9\u5bfc\u81f4\u4e86\u6211\u768458\u5206\uff08\u81ea\u5df1\u61d2\u5f97\u9020\u6570\u636e\u3002\u3002\u3002\uff09\n\u6240\u4ee5\u6211\u4eec\u91cd\u65b0\u9020\u4e00\u7ec4\u6570\u636e\uff0c\u8ddf\u7740\u6570\u636e\u6765\u5206\u6790\u8fd9\u9053\u9898\n\n```cpp\n0 \t0 \t4\n-1 \tY \t\n-2 \tX \t\n1 \tY \t\n2 \tX \t\n3 \t3 \t6\n-1 \tX \t\n2 \tY \t\n1 \tX \t\n-2 \tY \t\n1 \tY \t\n-1 \tY \t\n```\n\n\n\n\u4e5f\u5c31\u662f\u628a\u9898\u76ee\u6837\u4f8b\u6539\u4e86\u4e00\u4e0b\uff0c\u4f46\u8fd9\u6837\u5c31\u53ef\u4ee5\u8ba9\u6211\u4eec\u6ce8\u610f\u5230\u4e3b\u4eba\u516c\u7684**\u901f\u5ea6\u4e3a1**\uff0c\u800c\u5e76\u975ed\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xrlqas8r.png)\n\n\u501f\u52a9\u56fe\u6211\u4eec\u6765\u770b\u770b\u4ed6\u4eec\u7684\u8fd0\u52a8\u8f68\u8ff9\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5ug8yjxd.png)\n\n#### \u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u6a21\u62df\u65f6\u95f4\uff0c\u8fd9\u6837\u5728\u6bcf\u4e00\u79d2\u949f\u5185\u53bb\u8ba1\u7b97\u4e24\u4eba\u7684\u8ddd\u79bb\uff0c\u7136\u540e\u53bb\u5b83\u548cans\u7684min\u5373\u53ef\n\n\u4f46\u5982\u679c\u6bcf\u6b21\u8f93\u5165\u7684d\u4e0d\u662f1\u6216-1\u600e\u4e48\u529e\u5462\uff1f\u5c31\u53ef\u4ee5\u628a\u5b83\u62c6\u5f00\uff0c\u62c6\u6210d\u4e2a\u9879\uff0c\u5c31\u50cf\u8fd9\u6837\n\n```cpp\nscanf(\"%d%c%c\",&g[i].ad,&x,&g[i].az);\n\t\tif(abs(g[i].ad)!=1){\n\t\t\tint xx=g[i].ad/abs(g[i].ad);\n\t\t\tint cc=abs(g[i].ad);//\u6570\u636e\u4f1a\u6539\u53d8\uff0c\u6240\u4ee5\u4e2d\u9014\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\u50a8\u5b58 \n\t\t\tfor(int j=i;j<=i+cc-1;j++){\n\t\t\t\tg[j].ad=xx;\n\t\t\t\tg[j].az=g[i].az;\n\t\t\t}\n\t\t\ti+=cc-1;\n\t\t\tam+=cc-1;//\u522b\u5fd8\u4e86\u6700\u540e\u5bf9am\u548ci\u8fdb\u884c\u5904\u7406\uff0c\u56e0\u4e3a\u4f60\u7684\u9879\u53d8\u591a\u4e86 \n\t\t}\n```\n\n\n### \u5168\u7bc7\u7684AC\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint find(int a,int b){\n\tint c=a%b;\n\twhile(c!=0){\n\t\ta=b;\n\t\tb=c;\n\t\tc=a%b;\n\t}\n\treturn b;\n}\nstruct G{\n\tint ad,bd;\n\tchar az,bz;\n}g[10005];\nint ax,ay,bx,by,am,bm,ft;//\u521d\u59cb\u6570\u636e\u4fdd\u7559 ft\u5c31\u662f\u6700\u5c0f\u516c\u500d\u6570\uff0c\u5373\u679a\u4e3e\u79d2\u6570 \nchar x;\n\nint main(){\n\tdouble ans=0;\n\tscanf(\"%d%d%d\",&ax,&ay,&am);\n\tfor(int i=1;i<=am;i++){\n\t\tscanf(\"%d%c%c\",&g[i].ad,&x,&g[i].az);\n\t\tif(abs(g[i].ad)!=1){\n\t\t\tint xx=g[i].ad/abs(g[i].ad);\n\t\t\tint cc=abs(g[i].ad);//\u6570\u636e\u4f1a\u6539\u53d8\uff0c\u6240\u4ee5\u4e2d\u9014\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf\u50a8\u5b58 \n\t\t\tfor(int j=i;j<=i+cc-1;j++){\n\t\t\t\tg[j].ad=xx;\n\t\t\t\tg[j].az=g[i].az;\n\t\t\t}\n\t\t\ti+=cc-1;\n\t\t\tam+=cc-1;//\u522b\u5fd8\u4e86\u6700\u540e\u5bf9am\u548ci\u8fdb\u884c\u5904\u7406\uff0c\u56e0\u4e3a\u4f60\u7684\u9879\u53d8\u591a\u4e86 \n\t\t}\n\t}\n\tscanf(\"%d%d%d\",&bx,&by,&bm);//b\u7684\u8f93\u5165\u4e0ea\u76f8\u540c \n\tfor(int i=1;i<=bm;i++){\n\t\tscanf(\"%d%c%c\",&g[i].bd,&x,&g[i].bz);\n\t\tif(abs(g[i].bd)!=1){\n\t\t\tint xx=g[i].bd/abs(g[i].bd);\n\t\t\tint cc=abs(g[i].bd);\n\t\t\tfor(int j=i;j<=i+cc-1;j++){\n\t\t\t\tg[j].bd=xx;\n\t\t\t\tg[j].bz=g[i].bz;\n\t\t\t}\n\t\t\ti+=cc-1;\n\t\t\tbm+=cc-1;\n\t\t}\n\t}\n\tft=max(am,bm)/find(am,bm)*min(am,bm);//\u6700\u5c0f\u516c\u500d\u6570\u5373\u6a21\u62df\u79d2\u6570\uff1b\n\tans=sqrt((ax-bx)*(ax-bx)+(ay-by)*(ay-by));\n\tfor(int i=1;i<=ft;i++){\n\t\tint ca=i%am,cb=i%bm;\n\t\tif(ca==0) ca=am;\n\t\tif(cb==0) cb=bm; //\u6ca1\u6709\u5b58g[0]\uff0c\u5373\u6a21\u4e0b\u6765\u7b49\u4e8e\u96f6\u5c31\u662f\u7b2cam/bm\u6b65 \n\t\tif(g[ca].az=='X') ax+=g[ca].ad;\n\t\telse ay+=g[ca].ad;\n\t\tif(g[cb].bz=='X') bx+=g[cb].bd;\n\t\telse by+=g[cb].bd;\n\t\tans=min(ans,sqrt((ax-bx)*(ax-bx)+(ay-by)*(ay-by)));//\u4e24\u70b9\u4e4b\u95f4\u8ddd\u79bb\u516c\u5f0f \n\t}\n\tprintf(\"%.2lf\",ans);//\u8f93\u51fa\u4e24\u4f4d \n\treturn 0;\n}\n```\n\n\n## \u611f\u8c22\u652f\u6301\u849f\u84bb\uff1a\uff09",
        "postTime": 1607757758,
        "uid": 372603,
        "name": "frank520",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3843 \u3010[TJOI2007]\u8ff7\u8def\u3011"
    },
    {
        "content": "## 14\u5206\u9519\u56e0\n\u5e94\u8be5\u662f\u770b\u9519\u4e86\u9898\uff0c$d$ \u662f\u6bcf\u4e2a\u4efb\u52a1\u603b\u5171\u8981\u8d70\u7684\u8def\u7a0b\uff0c\u800c\u4e24\u4e2a\u4eba\u6bcf\u79d2\u53ea\u80fd\u8d70\u4e00\u4e2a\u5355\u4f4d\u3002\n## \u89e3\u6790\n\u56e0\u4e3a\u8fd9\u9053\u9898\u6570\u636e\u89c4\u6a21\u5e76\u4e0d\u5927\uff0c\u4e14\u6d4b\u8bd5\u70b9\u5e76\u4e0d\u5201\u94bb\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u66b4\u529b\u679a\u4e3e\u3002 \n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u6bcf\u4e2a\u4efb\u52a1\u62c6\u5206\uff0c\u5c06\u6bcf\u79d2\u4e24\u4e2a\u4eba\u7684\u5750\u6807\u5b58\u50a8\u6765\u3002\u7136\u540e\u627e\u51fa\u4e24\u4eba\u8d70\u5b8c\u81ea\u5df1\u7684\u5468\u671f\u5206\u522b\u6240\u82b1\u65f6\u95f4\u7684\u6700\u5c0f\u516c\u6570\u3002\u4e5f\u5c31\u662f\u4e24\u4eba\u4f4d\u7f6e\u7684\u5468\u671f\uff0c\u5982\u4e00\u4e2a\u4eba\u8d70 $4$ \u6b21\u56de\u5230\u51fa\u53d1\u70b9\uff0c\u53e6\u4e00\u4e2a\u4eba\u8d70 $6$ \u6b21\u56de\u5230\u51fa\u53d1\u70b9\uff08\u6b21\u6570\u53ea\u80fd\u662f\u5076\u6570\u6b21\uff0c\u4e0d\u7136\u5c31\u56de\u4e0d\u53bb\u4e86\uff0c\u8fd9\u70b9\u5927\u5bb6\u5e94\u8be5\u90fd\u61c2\u5427\uff09\u90a3\u4e48\u8fd9\u4e24\u4e2a\u4eba\u6bcf $12$ \u79d2\u7684\u76f8\u5bf9\u4f4d\u7f6e\u5c31\u4f1a\u91cd\u590d\u4e00\u6b21\u3002\n## \u6700\u5c0f\u516c\u500d\u6570\u6c42\u6cd5\n```cpp\nint gcd(int a,int b)\n{\n    return (b==0)?a:gcd(b,(a%b));//\u4e09\u76ee\u8fd0\u7b97\u7b26\u3002\n}\n```\n\u5148\u6c42\u51fa\u6700\u5927\u516c\u56e0\u6570\uff0c\u6700\u5c0f\u516c\u500d\u6570\u5c31\u662f\u4e24\u4e2a\u6570\u7684\u79ef\u4e0e\u6700\u5927\u516c\u56e0\u6570\u7684\u5546\uff0c\u8fd9\u70b9\u5e94\u8be5\u80fd\u81ea\u5df1\u8bc1\u660e\u5427\uff0c\u7136\u540e\u627e\u51fa\u6700\u5c0f\u8ddd\u79bb\u5c31\u884c\u4e86\u3002\n## AC\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=10005;\nint ax[N],ay[N],bx[N],by[N];//\u5206\u522b\u5b58\u4e24\u4eba\u6bcf\u4e2a\u65f6\u523b\u7684\u6a2a\uff0c\u7eb5\u5750\u6807\u3002\ndouble len[N],minn=1.0*1e9;\nint gcd(int a,int b)\n{\n    return (b==0)?a:gcd(b,(a%b));\n}\nint main()\n{\n    int m1,m2,nb,len1=0,len2=0,m,XR;\n    char ch;\n    scanf(\"%d%d%d\",&ax[0],&ay[0],&m1);\n    for(int i=1;i<=m1;i++)\n    {\n        scanf(\"%d %c\",&nb,&ch);\n        XR=abs(nb);nb/=XR;//\u56e0\u4e3a\u6bcf\u79d2\u53ea\u80fd\u8d70\u4e00\u6b65\uff0c\u628a\u6bcf\u4e00\u4e2ad\u8f6c\u6362\u6210d\u4e2a\u4e00\u6b65\u3002\n        if(ch=='X') {while(XR){len1++;ax[len1]=ax[len1-1]+nb;ay[len1]=ay[len1-1];XR--;}}\n        else if(ch=='Y') {while(XR){len1++;ay[len1]=ay[len1-1]+nb;ax[len1]=ax[len1-1];XR--;}}\n    }\n    scanf(\"%d%d%d\",&bx[0],&by[0],&m2);\n    for(int i=1;i<=m2;i++)\n    {\n        scanf(\"%d %c\",&nb,&ch);\n        XR=abs(nb);nb/=XR;\n        if(ch=='X') {while(XR){len2++;bx[len2]=bx[len2-1]+nb;by[len2]=by[len2-1];XR--;}}\n        else if(ch=='Y') {while(XR){len2++;by[len2]=by[len2-1]+nb;bx[len2]=bx[len2-1];XR--;}}\n    }\n    m=len1/gcd(len1,len2)*len2;//\u627e\u51fa\u5468\u671f\uff0c\u66b4\u529b\u679a\u4e3e\u3002\n    for(int i=1;i<=m;i++)\n    {\n        int xx=abs(ax[i%len1]-bx[i%len2]),yy=abs(ay[i%len1]-by[i%len2]);\n        long long QAQ=xx*xx+yy*yy;\n        if(QAQ<minn) minn=QAQ;\n    }\n    minn=sqrt(minn);\n    printf(\"%0.2lf\",minn);\n    return 0;\n}\n```\n",
        "postTime": 1607811304,
        "uid": 385145,
        "name": "\u795e\u7737\u4e4b\u6a31\u82b1",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P3843 \u3010[TJOI2007]\u8ff7\u8def\u3011"
    },
    {
        "content": "14\u5206\u53ef\u80fd\u662f\u6ca1\u4ed4\u7ec6\u8bfb\u9898\u3002\u3002\u3002\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint ma,mb;\nint a[100500][2],b[100500][2];\n//\u4fdd\u5b58\u5468\u671f\u5185A,B\u7684\u4f4d\u7f6e\ndouble minn=10000000;\n//\u8f97\u8f6c\u76f8\u9664\u6cd5\nint gcd(int a,int b){\n\tif(b==0) return a;\n\telse return gcd(b,a%b);\n}\nint main(){\n\tint na=0,nb=0;\n    //\u8bfb\u5165\u8ba1\u7b97A,B\n\tscanf(\"%d%d%d\",&a[0][0],&a[0][1],&ma);\n\tfor(int i=1;i<=ma;i++){\n\t\tint d;\n\t\tchar c[3];\n\t\tscanf(\"%d%s\",&d,c);\n\t\tif(c[0]=='X'){\n\t\t\tint dd=abs(d);\n\t\t\tint s=d/dd;\n\t\t\tfor(int j=0;j<dd;j++){\n\t\t\t\tna++;\n\t\t\t\ta[na][0]=a[na-1][0]+s,a[na][1]=a[na-1][1];\n\t\t\t}\n\t\t}else{\n\t\t\tint dd=abs(d);\n\t\t\tint s=d/dd;\n\t\t\tfor(int j=0;j<dd;j++){\n\t\t\t\tna++;\n\t\t\t\ta[na][1]=a[na-1][1]+s,a[na][0]=a[na-1][0];\n\t\t\t}\n\t\t}\n\t}\n\tscanf(\"%d%d%d\",&b[0][0],&b[0][1],&mb);\n\tfor(int i=1;i<=mb;i++){\n\t\tint d;\n\t\tchar c[3];\n\t\tscanf(\"%d%s\",&d,c);\n\t\tif(c[0]=='X'){\n\t\t\tint dd=abs(d);\n\t\t\tint s=d/dd;\n\t\t\tfor(int j=0;j<dd;j++){\n\t\t\t\tnb++;\n\t\t\t\tb[nb][0]=b[nb-1][0]+s,b[nb][1]=b[nb-1][1];\n\t\t\t}\n\t\t}else{\n\t\t\tint dd=abs(d);\n\t\t\tint s=d/dd;\n\t\t\tfor(int j=0;j<dd;j++){\n\t\t\t\tnb++;\n\t\t\t\tb[nb][1]=b[nb-1][1]+s,b[nb][0]=b[nb-1][0];\n\t\t\t}\n\t\t}\n\t}\n\tint m=na*nb/gcd(na,nb);\n    //lcm(a,b)=a*b/gcd(a,b)\n\tint ia=0,ib=0;\n\tfor(int i=0;i<m;i++){\n\t\tdouble dis=sqrt((double)((a[ia][0]-b[ib][0])*(a[ia][0]-b[ib][0])+(a[ia][1]-b[ib][1])*(a[ia][1]-b[ib][1])));\n        //\u6211\u7adf\u7136\u5199\u6210\u4e86int\n\t\tif(minn>dis) minn=dis;\n\t\tif(minn==0.00){\n\t\t\tprintf(\"0.00\");\n\t\t\treturn 0;\n            //\u8282\u7ea6\u65f6\u95f4\n\t\t}\n\t\tia++;if(ia==na) ia=0;\n\t\tib++;if(ib==nb) ib=0;\n\t}\n\tprintf(\"%0.2lf\",minn);\n\treturn 0;\n}\n```",
        "postTime": 1541168515,
        "uid": 118144,
        "name": "ykkz000",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P3843 \u3010[TJOI2007]\u8ff7\u8def\u3011"
    }
]