[
    {
        "content": "\u4ea4\u6362\u76f8\u90bb\u4e24\u4e2a\u6570\u5c31\u51b3\u5b9a\u4e86\u662f\u6c42\u9006\u5e8f\u5bf9\n\n\u5bf9\u4e8eA\u4e2d\u7684\u4e00\u4e2a\u5b57\u7b26\u5728B\u4e2d\u7684\u4f4d\u7f6e\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u540c\u4e00\u4e2a\u5b57\u7b26\u80af\u5b9a\u662f\u6309\u4ece\u524d\u5f80\u540e\u7684\u987a\u5e8f\u51fa\u73b0\u5728B\u4e2d\u7684\u3002\n\n\u6bd4\u5982A\u4e32ABABA\uff0cB\u4e32BAABA\n\n\u6211\u4eec\u80af\u5b9a\u662f\u628aA\u4e2d\u7684\u7b2c\u4e00\u4e2aA\u653e\u5728B\u4e2d\u7684\u7b2c\u4e00\u4e2aA\u4e0a\uff0c\u4f9d\u6b21\u7c7b\u63a8\u3002\n\n\u56e0\u4e3a\u5982\u679c\u7b2c\u4e00\u4e2aA\u653e\u5728\u4e86\u540e\u9762\uff0c\u90a3\u4e48\u5c31\u6709\u53ef\u80fd\u4ea7\u751f\u66f4\u5bf9\u9006\u5e8f\u5bf9\uff08\u56e0\u4e3a\u4f60\u628a\u5927\u7684\u6570\u653e\u5728\u4e86\u524d\u9762\uff09\u3002\u7531\u6b64\u5f97\u8bc1\u3002\n\n\u597d\u5427\u5176\u5b9e\u4e5f\u633a\u663e\u7136\u7684\uff0c\u6211\u4e5f\u662f\u65e0\u804a\u624d\u6765\u6c34\u6c34\u9898\u89e3\u7684\u3002\n\n\u4e0b\u9762\u662f\u4ee3\u7801\uff08\u697c\u4e0a\u90a3\u4f4dZJa\u961f\u7237\u4e0d\u653e\u771f\u662f\u53ef\u60dc\u4e86\uff09\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint c[26][1000001],n,a[1000001],d[26];\nlong long f[1000001];\nint lowbit(int x){\n\treturn x&(-x);\n}\nvoid insert(int x){\n\tint i;\n\tfor(i=x;i<=n;i+=lowbit(i))f[i]++;\n}\nlong long query(int x){\n\tint i;\n\tlong long ans=0;\n\tfor(i=x;i;i-=lowbit(i))ans+=f[i];\n\treturn ans;\n}\nint main(){\n\tlong long ans=0;\n\tint i;\n\tchar s[1000001],s1[1000001];\n\tscanf(\"%d\",&n);\n\tscanf(\"%s\",s);\n\tscanf(\"%s\",s1);\n\tfor(i=0;i<n;i++)\n\t\tc[s[i]-'A'][++c[s[i]-'A'][0]]=i;\n\tfor(i=0;i<n;i++){\n\t\ta[i+1]=c[s1[i]-'A'][++d[s1[i]-'A']]+1;\n\t}\t\n\tfor(i=1;i<=n;i++){\n\t\t//printf(\"%d\\n\",i);\n\t\tans+=query(n)-query(a[i]-1);\n\t\t//printf(\"%d\\n\",i);\n\t\tinsert(a[i]);\n\t}\n\tprintf(\"%lld\",ans);\n}\n```",
        "postTime": 1532088407,
        "uid": 50251,
        "name": "\u59ec\u5c0f\u8def\u79cb\u5b50",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3531 \u3010[POI2012]LIT-Letters\u3011"
    },
    {
        "content": "# \u9006\u5e8f\u5bf9\n\u6709\u6ca1\u6709\u53d1\u73b0\u548cNOIP2013\u706b\u67f4\u6392\u961f\u5f88\u50cf\n\n[\u4f20\u9001\u95e8](https://www.luogu.org/problem/P1966)\n\n\u76f8\u4f3c\u7684\n\n\u8bbe\u7b2c\u4e00\u4e2a\u4e32\u4e3aa\uff0c\u7b2c\u4e8c\u4e2a\u4e32\u4e3ab\n\n\u6211\u4eec\u53ef\u4ee5\u627e\u51faa\u4e32\u4e2d\u7b2cx\u6b21\u51fa\u73b0\u7684\u5b57\u7b26c1\u4e0e\u5176\u5728b\u4e2d\u7b2cx\u6b21\u51fa\u73b0\u7684\u76f8\u540c\u7684\u5b57\u7b26c2\u7684\u4f4d\u7f6e\uff0c\u8ba1\u5165p\u6570\u7ec4\n\n\u6b64\u65f6\u53ea\u9700\u6c42\u51fap\u6570\u7ec4\u7684\u9006\u5e8f\u5bf9\u5373\u53ef\n\n\u4e3a\u4ec0\u4e48\uff1f\n\n\u56e0\u4e3a\u6211\u4eec\u8981\u901a\u8fc7\u4ea4\u6362\u4f7f\u5f97a\u4e32\u5bf9\u5e94\u7684p\u6570\u7ec4\u4e0eb\u4e32\u7684p\u6570\u7ec4\u76f8\u540c\n\n\u4f46a\u4e32\u4e0ea\u4e32\u81ea\u8eab\u5904\u7406\u51fa\u6765\u7684p\u6570\u7ec4\u5c31\u662f{1,2,3,4,...,n}\n\n\u6240\u4ee5\u4ea4\u6362\u7684\u6b21\u6570\u7b49\u540c\u4e8e\u6c42\u9006\u5e8f\u5bf9\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nstring a,b;\nint n;\nlong long ans;\nint p[10000050];\nvector<int>v[27];\nint tp[27];\nint c[10000050];\nint lowbit(int x)\n{\n\treturn x&-x;\n}\nvoid add(int i)\n{\n\twhile(i<=n)\n\t{\n\t\tc[i]++;\n\t\ti+=lowbit(i);\n\t}\n}\nint sum(int i)\n{\n\tint res=0;\n\twhile(i)\n\t{\n\t\tres+=c[i];\n\t\ti-=lowbit(i);\n\t}\n\treturn res;\n}\nint main()\n{\n\tios::sync_with_stdio(0);\n\tcin>>n;\n\tcin>>a>>b;\n\tmemset(tp,-1,sizeof(tp));\n\tfor(int i=0;i<n;i++)\n\t\tv[b[i]-'A'+1].push_back(i+1);\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tp[i+1]=v[a[i]-'A'+1][++tp[a[i]-'A'+1]];\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tadd(p[i]);\n\t\tans+=sum(n)-sum(p[i]);\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1566744742,
        "uid": 99643,
        "name": "\u9648\u5200\u4ed4",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3531 \u3010[POI2012]LIT-Letters\u3011"
    },
    {
        "content": "\u8865\u4e00\u53d1\u5f52\u5e76\u6392\u5e8f\u7684\n\n\u5f52\u5e76\u6392\u5e8f\u6c42\u9006\u5e8f\u5bf9\u7684\u65b9\u5f0f\u5f88\u7b80\u5355\n\n\u5f52\u5e76\u6392\u5e8f\u662f\u5c06\u6570\u5217a[l,h]\u5206\u6210\u4e24\u534aa[l,mid]\u548ca[mid+1,h]\u5206\u522b\u8fdb\u884c\u5f52\u5e76\u6392\u5e8f\uff0c\u7136\u540e\u518d\u5c06\u8fd9\u4e24\u534a\u5408\u5e76\u8d77\u6765\u3002\n\n\u5728\u5408\u5e76\u7684\u8fc7\u7a0b\u4e2d\uff08\u8bbel<=i<=mid\uff0cmid+1<=j<=h\uff09\uff0c\u5f53a[i]<=a[j]\u65f6\uff0c\u5e76\u4e0d\u4ea7\u751f\u9006\u5e8f\u6570\uff1b\u5f53a[i]>a[j]\u65f6\uff0c\u5728\n\n\u524d\u534a\u90e8\u5206\u4e2d\u6bd4a[i]\u5927\u7684\u6570\u90fd\u6bd4a[j]\u5927\uff0c\u5c06a[j]\u653e\u5728a[i]\u524d\u9762\u7684\u8bdd\uff0c\u9006\u5e8f\u6570\u8981\u52a0\u4e0amid+1-i\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<deque>\n#include<queue>\n#define LL long long \n#define lb(x)    ((x)&(-x))\nusing namespace std;\nconst int MAXN=40000001;\ninline int read()\n{\n    char c=getchar();int x=0,f=1;\n    while(c<'0'||c>'9')    {if(c=='-')    f=-1;c=getchar();}\n    while(c>='0'&&c<='9')    x=x*10+c-48,c=getchar();return x*f;\n}\nint n;\nqueue<int>q[28];\nint a[MAXN];\nint tree[MAXN];\nlong long ans=0;\nint tmp[MAXN];\nvoid Sort(int l,int r)\n{\n    if(l==r)    return ;\n    int mid=l+r>>1;\n    Sort(l,mid);Sort(mid+1,r);\n    int nowl=l,nowr=mid+1,nowpos=l;\n    while(nowl<=mid&&nowr<=r)\n    {\n        if(a[nowl]<=a[nowr])    tmp[nowpos++]=a[nowl],nowl++;\n        else tmp[nowpos++]=a[nowr],nowr++,ans=ans+mid-nowl+1;\n    }\n    while(nowl<=mid)    tmp[nowpos++]=a[nowl],nowl++;\n    while(nowr<=r)        tmp[nowpos++]=a[nowr],nowr++;\n    for(int i=l;i<=r;i++)    a[i]=tmp[i];\n}\nint main()\n{\n    n=read();\n    for(int i=1;i<=n;i++)\n    {\n        char c=getchar();\n        q[c-'A'].push(i);\n    }\n    char c=getchar();// \u53ef\u6076\u7684\u6362\u884c\u7b26 \n    for(int i=1;i<=n;i++)\n    {\n        char c=getchar();\n        a[i]=q[c-'A'].front();\n        q[c-'A'].pop();\n    }\n    Sort(1,n);\n    printf(\"%lld\",ans);\n    return 0;\n}\n```",
        "postTime": 1508837040,
        "uid": 36984,
        "name": "attack",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3531 \u3010[POI2012]LIT-Letters\u3011"
    },
    {
        "content": "**\u6811\u72b6\u6570\u7ec4\u6c42\u9006\u5e8f\u5bf9**\n\n**\u5148\u5bf9B\u5e8f\u5217\u7f16\u53f7**\n\n**\u6839\u636eB\u5e8f\u5217\u7684\u7f16\u53f7\u7ed9A\u5e8f\u5217\u7f16\u53f7**\n\n**\u6ce8\u610f\u76f8\u540c\u7684\u60c5\u51b5**\n\n**B\u5e8f\u5217\u4e2d\u5728\u524d\u9762\u7684\u7f16\u53f7\u5c0f**\n\n**A\u5e8f\u5217\u4e2d\u4e5f\u662f\u5728\u524d\u9762\u7684\u7f16\u53f7\u5c0f\uff08\u5bf9\u4e8e\u76f8\u540c\u7684\u5b57\u6bcd\u6765\u8bf4\uff09**\n\n**\u7528\u94fe\u8868\u7ef4\u62a4\u4e0a\u9762\u7684\u7f16\u53f7**\n\n**\u6c42\u9006\u5e8f\u5bf9\u5c31\u53ef\u4ee5\u4e86**\n\n\n    \n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<cmath>\n#include<algorithm>\n#include<map> \n#include<vector>\n#define maxn 1001001\n#define ll long long\nusing namespace std;\nint n;\nvector<int>G[100];\nint vis[maxn];\nstring a,b;\nint c[maxn];\nstruct node\n{\n    int cost,place;\n}num[maxn];\nll ans;  \nint add(int x,int k)\n{\n    for(int i=x;i<=n;i+=i&(-i)) c[i]+=k;\n}\nint query(int x)\n{\n    int sum=0;\n    for(int i=x;i>0;i-=i&(-i)) sum+=c[i];\n    return sum;\n}\nint cmp(node x,node y)\n{\n    return x.cost>y.cost;\n}\nint main()\n{\n    cin>>n;\n    cin>>a;\n    cin>>b;\n    int len=a.size();\n    for(int i=0;i<len;i++) G[(int)b[i]].push_back(i+1);  //\u7ed9B\u7f16\u53f7 \n    for(int i=0;i<len;i++)\n    {\n        num[i+1].cost=G[(int)a[i]][vis[(int)a[i]]];     //\u6839\u636eB\u7ed9A\u7f16\u53f7 \n        vis[(int)a[i]]++;\n        num[i+1].place=i+1;\n    }\n    //\u88f8\u6c42\u9006\u5e8f\u5bf9 \n    sort(num+1,num+n+1,cmp);\n    for(int i=1;i<=n;i++)\n    {\n        add(num[i].place,1);\n        ans+=query(num[i].place-1);\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n```",
        "postTime": 1509502100,
        "uid": 18441,
        "name": "Drug__Lover",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P3531 \u3010[POI2012]LIT-Letters\u3011"
    },
    {
        "content": "\u5199\u4e86$7$\u6708\u6d1b\u8c37\u6708\u8d5b$div2$\u7684$T3$\uff0c\u987a\u4fbf\u6765\u5199\u4e00\u5199\u8fd9\u9898\u7ec3\u7ec3\u624b\uff0c\u8fd9\u4e24\u9898\u7684\u6838\u5fc3\u505a\u6cd5\u6709\u76f8\u4f3c\u4e4b\u5904\u3002\u8fd8\u6709\u4e00\u9053[P1966 \u706b\u67f4\u6392\u961f](https://www.luogu.com.cn/problem/P1966)\uff0c\u4e5f\u5dee\u4e0d\u591a\u3002\n\n\u7b80\u5316\u9898\u610f\uff1a\u4e24\u4e2a\u5b57\u7b26\u4e32$a$\uff0c$b$\u3002\u6bcf\u6b21\u4ea4\u6362$b$\u4e2d\u76f8\u90bb\u7684\u4e24\u4e2a\u5b57\u7b26\uff0c\u6c42\u6700\u5c11\u7684\u4ea4\u6362\u6b21\u6570\uff0c\u4f7f$a=b$\u3002\n\n\u8fd9\u5f88\u660e\u786e\u5c31\u662f\u4e24\u4e2a\u5e8f\u5217$a$\uff0c$b$\u5192\u6ce1\u4ea4\u6362$b$\uff0c\u4f7f$b=a$\uff0c\u6c42\u6700\u5c0f\u4ea4\u6362\u6b21\u6570\u3002\u8ba9a\u5e8f\u5217\u4e2d\u6bcf\u4e2a\u5143\u7d20\u7684\u4e0b\u6807\u4e3a$1...n$\u3002\u5728\u7b2c\u4e8c\u4e2a\u5e8f\u5217\u4e2d\u6c42\u4e0e\u7b2c\u4e00\u4e2a\u5e8f\u5217\u4e2d\u4e0e\u4e4b\u5bf9\u5e94\u7684\u5143\u7d20\u7684\u4e0b\u6807\u4f5c\u4e3a\u8be5\u5143\u7d20\u7684\u4e0b\u6807\u3002\n```cpp\n\u4f8b\uff1a\nABC  BCA   \u539f\uff1a231\n123  231    1->213 2->123 ans=2\n```\n\u4ea4\uff0c10\u5206......\u56e0\u4e3a\u6211\u4eec\u5ffd\u7565\u4e86\uff08\u8fd8\u6ca1\u6709\u8003\u8651\u5230\uff09\uff0c\u5e8f\u5217\u4e2d\u4f1a\u51fa\u73b0\u76f8\u540c\u5b57\u7b26\u7684\u60c5\u51b5......\n\n\u6539\uff1a\u6211\u4eec\u53ef\u4ee5\u5c06\u6bcf\u4e00\u79cd\u76f8\u540c\u7684\u5b57\u7b26\u7f16\u53f7\uff0c\n```cpp\n\u4f8b\uff1aABABA\n   \u7b2c\u4e00\u4e2aA\u4e3aA1 \u7b2c\u4e00\u4e2aB\u4e3aB1\n   \u7b2c\u4e8c\u4e2aA\u4e3aA2 \u7b2c\u4e8c\u4e2aB\u4e3aB2\n   \u7b2c\u4e09\u4e2aA\u4e3aA3\n   \u5e8f\u53f7\u4e0d\u53d8\n   ABABA\tBAABA   A1\u5bf9A1\uff0cA2\u5bf9A2\uff0cB1\u5bf9B1\uff0cB2\u5bf9B2\n   12345    21345  //\u5176\u5b9e\u662f\u7b2c\u4e8c\u4e2a\u8868\u683c\u7b2ci\u4e2aA\u5bf9\u7b2c\u4e00\u4e2a\u8868\u683c\u7b2ci\u4e2aA\uff0c\u7b2c\u4e8c\u4e2a\u8868\u683c\u7b2ci\u4e2aB\u5bf9\u7b2c\u4e00\u4e2a\u8868\u683c\u7b2ci\u4e2aB\n```\n\n\u7136\u540e\u5c31\u662f\u4e00\u6837\u7684\u64cd\u4f5c\uff0c\u6c42\u9006\u5e8f\u5bf9\u5373\u53ef\u3002\n\n$Code$\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint seat[5000001],st[5000001],c[5000001];\nll ans;\nvector<int> p[301];\n\nvoid msort(ll x,ll y)\n{\n    if(x==y)  return;\n    ll mid=(x+y)/2,i=x,j=mid+1,k=x;\n    msort(x,mid),msort(mid+1,y);\n    while(i<=mid&&j<=y)\n    if(seat[i]<=seat[j])\n    c[k++]=seat[i++];\n    else c[k++]=seat[j++],ans+=mid-i+1;\n    while(i<=mid) c[k++]=seat[i++];\n    while(j<=y) c[k++]=seat[j++];\n    for(int l=x;l<=y;l++)\n    seat[l]=c[l];\n} \n\nint main()\n{\n\tint i,j,len;\n\tstring a,b;\n\tcin>>len;\n\tcin>>a>>b;\n\tfor(i=0;i<len;i++)\n\t{\n\t\tp[a[i]].push_back(i);\n\t}//\u7f16\u53f7\u8fc7\u7a0b\u3002a[i]\u7684cnt\u53f7\n\tfor(i=0;i<len;i++)\n\t{\n\t\tseat[i+1]=p[b[i]][st[b[i]]]+1;\n\t\tst[b[i]]++;//st\u8868\u793a\u7b2ccnt\u53f7\n\t}\n\tmsort(1,len);//\u5f52\u5e76\u6c42\u9006\u5e8f\u5bf9\n\tprintf(\"%lld\",ans);\n \treturn 0;\n}\n\n```\n\u65f6\u95f4\u590d\u6742\u5ea6$O(NlogN)$\uff0c\u9884\u5904\u7406$O(N)$\uff0c\u5f52\u5e76\u6c42\u9006\u5e8f\u5bf9$O(NlogN)$\u3002\u603b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u662f$O(NlogN)$ \u671f\u671b\u5f97\u5206$100$\u5206\uff0c\u5b9e\u9645\u5f97\u5206$100$\u5206\n\n$Tips$\uff1a\u7f16\u53f7\u5904\u7406\u662f\u8fd9\u9898\u7684\u7279\u70b9\u3002\n\n\n\n",
        "postTime": 1595937892,
        "uid": 225100,
        "name": "ice_in_sky",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3531 \u3010[POI2012]LIT-Letters\u3011"
    },
    {
        "content": "\u76f8\u90bb\u4ea4\u6362-\u9006\u5e8f\u5bf9\u3002\n\n\u53ef\u4ee5\u7c7b\u6bd4\u9898\u76ee\uff1a[P1966 \u706b\u67f4\u6392\u961f](/problem/P1966)(NOIP2013)\n\n$a$ \u548c $b$ \u6392\u5e8f\u540e\uff0c\u5e0c\u671b\u8c03\u6574 $b$ \u7684\u987a\u5e8f\uff0c\u8ba9 $b$ \u4e2d\u7b2c $i$ \u5c0f\u7684\u4f4d\u7f6e $idx$ \u4e0e $a$ \u4e2d\u7b2c $i$ \u5c0f\u7684\u4f4d\u7f6e $idx$ \u76f8\u540c\u3002\n\n\u4e5f\u5c31\u662f\uff1a$q[a[i].idx] = b[i].idx$\u3002\n\n\u6c42q\u7684\u9006\u5e8f\u5bf9\u3002\n\n\u76f8\u540c\u6570\u5b57\u6309\u7167\u51fa\u73b0\u7684id\u4ece\u5c0f\u5230\u5927\u4f9d\u6b21\u6392\u5e8f\u5373\u53ef\u3002\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\nint read()\n{\n\tint x = 0, f = 1;\n\tchar c = getchar();\n\twhile(c<'0' || c>'9'){if(c=='-')f=-1; c = getchar();}\n\twhile(c>='0'&&c<='9'){x = x*10+c-'0'; c = getchar();}\n\treturn x*f;\n}\n/*\n\u53c2\u80031966\u706b\u67f4\u6392\u961f\n3531 POI2012 letters\nxa:  1   2   3   4\nra\uff1a 4   1   3   2\n a\uff1a 73  13  43  23\n b\uff1a 11  31  21  71\nxb:  1   2    3   4\n\na':  13 23  43  73\nxa:  2  4   3    1\n\n\n b'\uff1a 11  21  31  71\nxb':  1   3   2   4\n\nq[xa[i]] = xb[i]\nq:    4   1   2   3\n\n*/\ntypedef long long LL;\nconst LL MAXN = 1000005;\nstruct Node\n{\n\tchar val;\n\tLL idx;\n\tbool operator < (const Node &t) const\n\t{\n\t\tif(val==t.val) return idx<t.idx;\n\t\treturn val<t.val;\n\t}\n}a[MAXN],b[MAXN];\nLL q[MAXN],c[MAXN];\nint N;\nint lowbit(LL x){return x&(-x);}\nLL sum(LL x)\n{\n\tLL res = 0;\n\twhile(x>0)\n\t{\n\t\tres += c[x];\n\t\tx-= lowbit(x);\n\t}\n\treturn res;\n}\nvoid add(LL x, LL d)\n{\n\twhile(x<=N)\n\t{\n\t\tc[x] += d;\n\t\tx += lowbit(x);\n\t}\n}\nchar str[MAXN];\nint main()\n{\n\tN = read();\n\tscanf(\"%s\",str);\n\tfor(LL i = 1; i<=N; i++)\n\t{\n\t\ta[i].val = str[i-1];\n\t \ta[i].idx = i;\n    }\n    scanf(\"%s\",str);\n    for(LL i = 1; i<=N; i++)\n    {\n\t\tb[i].val = str[i-1];\n\t\tb[i].idx = i;\n\t}\n\tsort(a+1,a+N+1); sort(b+1,b+N+1);\n\tfor(LL i = 1; i<=N; i++) q[a[i].idx] = b[i].idx;\n\tLL ans = 0;\n\tfor(LL i = N; i>=1; i--)\n\t{\n\t\tans += sum(q[i]-1);\n\t\tadd(q[i],1);\n\t}\n\tcout << ans <<endl;\n\treturn 0;\n}\n\n```",
        "postTime": 1596627288,
        "uid": 56822,
        "name": "__charlie520__",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P3531 \u3010[POI2012]LIT-Letters\u3011"
    },
    {
        "content": "\u672c\u6765\u60f3\u5b66\u70b9\u65b0\u4e1c\u897f\uff0c\u7ed3\u679c\u770b\u4e86\u534a\u5929Splay\uff0c\u6ca1\u641e\u61c2\u3002\u53ea\u80fd\u6765\u6c34\u9898\u4e86\u3002\u7ed3\u679c\u8fd8\u4e0d\u4f1a\u505a\u8fd9\u4e2a\u9898\u76ee\u3002\u770b\u4e86\u9898\u89e3\u624d\u53d1\u73b0\u5f88\u7b80\u5355\uff0c\u539f\u6765\u5c31\u662f\u7ed9\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u7f16\u53f7\uff0c\u7136\u540e\u628a\u8fd9\u4e2a\u7f16\u53f7\u5bf9\u5e94\u5230\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e32\u4e0a\uff0c\u6700\u540e\u6c42\u9006\u5e8f\u5bf9\u5c31\u597d\u4e86\u3002\u6bd4\u5982\u8fd9\u6837\uff1a\nA  B   C \u5bf9\u5e94\u7f16\u53f7\u4e3a1,2,3\nB  C   A \u5bf9\u5e94\u7f16\u53f7\u4e3a2,3,1\u3002\n\u5b8c\u4e86\u5c31\u662f\u5bf92,3,1\u6c42\u4e00\u904d\u9006\u5e8f\u5bf9\u5c31\u5b8c\u4e86\u3002\u5f88\u7b80\u5355\u662f\u5427\uff01\n```c\n#include<stdio.h>\n#include<iostream>\n#include<algorithm>\n#define MAXN  1000005\ntypedef  long long  LL;\nusing namespace std;\n\nchar s1[MAXN];\nchar s2[MAXN];\nint n;\nint tt[26][MAXN],d[26],a[MAXN];\nLL c[MAXN];\n\n//\u6570\u7ec4\u8bf4\u660e\uff1att[i][j]\u8868\u793a\u7b2ci\u4e2a\u5b57\u6bcd\uff08A\u662f\u7b2c\u4e00\u4e2a\uff0cB\u662f\u7b2c\u4e8c\u4e2a\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff09\uff1b\n//d[i]\u8868\u793a\u7b2ci\u4e2a\u5b57\u6bcd\u51fa\u73b0\u4e86\u51e0\u6b21\n//a[i]\u6570\u7ec4\u5c31\u662f\u91cd\u65b0\u5bf9s2\u5b57\u7b26\u4e32\u8fdb\u884c\u7f16\u53f7\u3002\n\nvoid init()\n{\n    for(int i=0;i<n;i++)\n    {\n        tt[s1[i]-'A'][++tt[s1[i]-'A'][0]]=i;         //\u5176\u4e2dtt[i][j],\u5f53j\u7b49\u4e8e0\u65f6\uff0c\u662f\u4e00\u4e2a\u8ba1\u6570\u5355\u5143\uff0c\u7528\u6765\u8bb0\u5f55i\u8fd9\u4e2a\u5b57\u6bcd\u51fa\u73b0\u4e86\u51e0\u6b21\n                                                                        //i\u8fd9\u4e2a\u5b57\u6bcd\u7b2ctt[s1[i]-'A'][0]\u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e\u662f\n    }\n    for(int i=0;i<n;i++)\n    {\n        a[i+1]=tt[s2[i]-'A'][++d[s2[i]-'A']]+1;       //\u7ed9s1\u4ece1\u5230n\u7f16\u53f7\uff0c\u7136\u540e\u6bcf\u4e2a\u5b57\u6bcd\u5bf9\u5e94\u5230s2\u4e0a\uff0c\u7ed9s2\u7f16\u53f7\u3002\n    }                                                                             //\u8981\u6ce8\u610f\u628a\u811a\u6807\u4ece0\u5f00\u59cb\u6539\u5230\u4ece1\u5f00\u59cb\u3002\n}\n\nint lowbit(int x)\n{\n    return (x&((-1)*x));\n}\n\nvoid add(int x,int d)\n{\n    while(x<=n)\n    {\n        c[x]+=d;\n        x+=lowbit(x);\n    }\n}\n\nLL sum(int x)\n{\n    LL ans=0;\n    while(x>0)\n    {\n        ans+=c[x];\n        x-=lowbit(x);\n    }\n    return ans;\n}\n\nint main()\n{\n    scanf(\"%d\",&n);\n    scanf(\"%s\",s1);\n    scanf(\"%s\",s2);\n    init();\n    LL ans=0;\n    for(int i=1;i<=n;i++)       //\u6c42\u9006\u5e8f\u5bf9\n    {\n        ans+=sum(n)-sum(a[i]);\n        add(a[i],1);\n    }\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n\n```\n",
        "postTime": 1568983158,
        "uid": 210155,
        "name": "abandentsky",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3531 \u3010[POI2012]LIT-Letters\u3011"
    },
    {
        "content": "\u7531\u4e8e\u76f8\u540c\u7684\u4e0d\u4f1a\u4ea4\u6362\uff0c\u6240\u4ee5A,B\u6700\u540e\u7684\u5bf9\u5e94\u5173\u7cfb\u6211\u4eec\u662f\u77e5\u9053\u7684\u3002\n\n\u628aA\u4e2d\u7684\u5143\u7d20\u6362\u6210\u4ed6\u5728B\u4e2d\u7684\u4f4d\u7f6e\uff0c\u6c42\u4e00\u4e0b\u9006\u5e8f\u5bf9\u5c31\u662f\u7b54\u6848\u4e86\u3002\n\n```cpp\n#include<bits/stdc++.h>\n\n#define ll long long\n#define N 1000100\nchar a[N],b[N];\nint t[26],next[N];\nint n,c[N];\n\nint qiu(int i)\n{\n    int x=0;\n    for (;i;i-=i&-i) x+=c[i];\n    return x;\n}\n\nvoid add(int i)\n{\n    for (;i<=n;i+=i&-i) ++c[i];\n}\n\nint main()\n{\n    freopen(\"1.in\",\"r\",stdin);\n    int i,x;\n    scanf(\"%d\",&n);\n    scanf(\"%s%s\",a+1,b+1);\n    for (i=n;i;--i) \n    {\n        x=b[i]-'a';\n        next[i]=t[x]; t[x]=i;\n    }\n    ll ans=0;\n    for (i=1;i<=n;++i)\n    {\n        x=a[i]-'a';\n        int dy=t[x];t[x]=next[dy];\n        dy=n-dy+1;\n        ans+=qiu(dy);add(dy);\n    }\n    printf(\"%lld\",ans);\n}\n```",
        "postTime": 1485954113,
        "uid": 9168,
        "name": "kczno1",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3531 \u3010[POI2012]LIT-Letters\u3011"
    },
    {
        "content": "\u51e0\u4e2a\u9898\u89e3\u8bf4\u7684\u90fd\u5f88\u4e0d\u6e05\u695a\uff0c\u4e3a\u4ec0\u4e48\u662f\u9006\u5e8f\u5bf9\u95ee\u9898\u56f0\u6270\u4e86\u6211\u51e0\u4e2a\u5c0f\u65f6\uff0c\u6700\u540e\u53d1\u73b0\u786e\u5b9e\u4e0d\u592a\u597d\u8bf4\uff0c\u81ea\u5df1\u591a\u624b\u6a21\u51e0\u7ec4\u6570\u636e\uff0c\u4f60\u4f1a\u53d1\u73b0\u7b54\u6848\u548c\u9006\u5e8f\u5bf9\u60ca\u4eba\u7684\u4e00\u81f4\u3002\r\n\r\n\u8bfb\u5165\u7684\u65f6\u5019\u6709\u6362\u884c\u7b26\uff08\u5199\u6cd5\u4e0d\u540c\u7684\u8bdd\uff0c\u5177\u4f53\u6211\u4e5f\u4e0d\u77e5\u9053\u5f71\u54cd\u4e0d\u5f71\u54cd\uff09\r\n\r\nans\u4e00\u5b9a\u8981\u7528long long\u4e0d\u7136\u4f1a50\uff0c\u5f97\u51fa\u5947\u602a\u7684\u7ed3\u679c\uff08\u5982\u8d1f\u6570\r\n\u5728\u8fd9\u91cc\u7528\u6811\u72b6\u6570\u7ec4\u5b9e\u73b0\uff0c\u7ed9\u5404\u4f4d\u4e00\u4e2a\u601d\u8def\r\n\r\n```cpp\r\n#include<iostream>\r\n#include<cstdio>\r\n#include<cstring>\r\n#include<algorithm>\r\n#define maxn 6000000\r\n#define ll long long\r\nusing namespace std;\r\nint n,c[maxn],pp[maxn],q[maxn],qq[maxn];\r\nll ans;\r\nchar cc;\r\nstruct node\r\n{\r\n    int p;\r\n    int num;\r\n}a[maxn],b[maxn];\r\nint cmp(node aa,node bb)\r\n{\r\n    if(aa.p==bb.p) return aa.num<bb.num;\r\n    return aa.p<bb.p;\r\n}\r\nint lowbit(int x)\r\n{\r\n    return x&-x;\r\n}\r\nvoid add(int x,int y)\r\n{\r\n    for(int i=x;i<=n;i+=lowbit(i))\r\n     c[i]+=y;\r\n}\r\nint sum(int x)\r\n{\r\n    int ss=0;\r\n    for(int i=x;i>0;i-=lowbit(i))\r\n     ss+=c[i];\r\n    return ss;\r\n}\r\nint main()\r\n{\r\n    scanf(\"%d\",&n);\r\n    getchar();\r\n    for(int i=1;i<=n;i++)\r\n     {\r\n         cin>>cc;\r\n         a[i].p=cc-'A'+1;\r\n         a[i].num=i;\r\n     }\r\n    getchar();\r\n    for(int i=1;i<=n;i++)\r\n     {\r\n         cin>>cc;\r\n         b[i].p=cc-'A'+1;\r\n         b[i].num=i;\r\n     }\r\n    sort(a+1,a+1+n,cmp);\r\n    sort(b+1,b+1+n,cmp);\r\n    for(int i=1;i<=n;i++)\r\n     pp[a[i].num]=b[i].num;\r\n    for(int i=n;i>=1;i--)\r\n     {\r\n         ans+=sum(pp[i]-1);\r\n         add(pp[i],1);\r\n     }\r\n    printf(\"%lld\",ans);\r\n    return 0;\r\n}\r\n```",
        "postTime": 1509528124,
        "uid": 49851,
        "name": "\u777f\u5c7f\u9752\u886b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3531 \u3010[POI2012]LIT-Letters\u3011"
    }
]