[
    {
        "content": "\u8003\u8651\u5bf9\u6bcf\u4e2a\u5e73\u884c\u4e8e\u5706\u67f1\u5e95\u9762\u7684\u622a\u9762\uff0c\u8bb0\u5176\u5230\u5706\u67f1\u5e95\u9762\u7684\u8ddd\u79bb\u4e3a $x$\uff0c\u4e0d\u59a8\u6c42\u51fa\u622a\u9762\u4e0a\u6709\u6cb9\u7684\u9762\u79ef $f(x)$\uff0c\u7136\u540e\u4f7f\u7528\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5\u6c42\u51fa $\\int_{-r}^{l+r} f(x)\\mathrm dx$ \u5373\u4e3a\u7b54\u6848\u3002\n\n\u6211\u4eec\u4ee5\u622a\u9762\u4e0a\u5706\u67f1\u8f74\u4e0e\u622a\u9762\u7684\u4ea4\u70b9\u4e3a\u539f\u70b9\uff0c\u622a\u9762\u4e0a\u8fc7\u539f\u70b9\u4e14\u5e73\u884c\u4e8e\u5e95\u9762\u7684\u76f4\u7ebf\u4e3a $x$ \u8f74\uff0c\u8fc7\u539f\u70b9\u4e14\u5782\u76f4\u4e8e $x$ \u8f74\u7684\u76f4\u7ebf\u4e3a $y$ \u8f74\u5efa\u7acb\u5750\u6807\u7cfb\uff0c\u90a3\u4e48\u4e0d\u96be\u53d1\u73b0\u6211\u4eec\u53ea\u9700\u8981\u6c42\u51fa\u622a\u9762\u6240\u622a\u5f97\u5706\u7684\u534a\u5f84\u4ee5\u53ca\u6c34\u9762\u4e0e\u622a\u9762\u4ea4\u7ebf\u5728\u5750\u6807\u7cfb\u4e2d\u7684\u9ad8\u5ea6\u5373\u53ef\u6c42\u5f97\u622a\u9762\u4e0a\u6709\u6cb9\u90e8\u5206\u7684\u9762\u79ef\uff0c\u6211\u4eec\u4e0d\u59a8\u5206\u5f00\u8ba8\u8bba\u8fd9\u4e24\u4e2a\u95ee\u9898\uff1a\n\n\u5bf9\u4e8e\u6c34\u9762\u4e0e\u622a\u9762\u4ea4\u7ebf\u5728\u5750\u6807\u7cfb\u4e2d\u7684\u9ad8\u5ea6 $Y$\uff1a\n\n\u4e0d\u59a8\u8003\u8651\u5176\u4e0e\u5e95\u9762\u7684\u9ad8\u5ea6 $Y + \\dfrac d2$\uff0c\u90a3\u4e48\u6709\uff1a\n$$\n\\frac {Y + \\frac d2}{h-x\\cdot \\frac tl} = \\frac {l}{\\sqrt {l^2-t^2}}\\implies Y = \\frac {h\\cdot l-x\\cdot t}{\\sqrt {l^2-t^2}} - \\frac d2\n$$\n![0018.PNG](https://s2.loli.net/2022/01/09/TlQLPXpWVJd5rZh.png)\n\n\u5bf9\u4e8e\u6240\u622a\u5f97\u5706\u7684\u534a\u5f84 $R$\uff0c\u5206\u4e24\u79cd\u60c5\u51b5\u8ba8\u8bba\uff1a\n\n- $x\\in [0,l]$\uff0c\u90a3\u4e48 $R = \\dfrac d2$\u3002\n\n- \u5426\u5219\u6c42\u51fa $x$ \u8d85\u51fa\u7684\u90e8\u5206\u7684\u957f\u5ea6 $x'=-x$ \u6216 $x-l$\uff08\u6839\u636e\u5728\u5de6\u4fa7\u6216\u8005\u53f3\u4fa7\uff09\uff0c\u7136\u540e\u4e0d\u96be\u5f97\u5230\uff1a\n\n$$\nR=\\sqrt {r^2-\\left(\\sqrt {r^2 -\\frac {d^2}4}+x'\\right)^2}\n$$\n\n\u7136\u540e\u5927\u529b\u79ef\u5206\u5c31\u505a\u5b8c\u4e86\u3002 \n\n```cpp\nconst ff EPS = 1e-8, INF = 1e5, PI = acos(-1);\n\nff d, l, r, t, h;\n\nff Sq(ff x) { return x * x; }\n\nff F(ff x) {\n\tff l_d = sqrt(Sq(l) - Sq(t)) + EPS;\n\tff Y = (h * l - t * x) / l_d - d / 2, R = 0;\n\tif(x > -EPS && x < l + EPS) R = d / 2;\n\telse {\n\t\tR = Sq(r) - Sq(sqrt(Sq(r) - Sq(d / 2)) + (x < EPS ? -x : x - l));\n\t\tif(R < 0) return 0;\n\t\tR = sqrt(R);\n\t}\n\tff s_cir = Sq(R) * PI;\n\tif(Y > R - EPS) return s_cir;\n\tif(Y < -R + EPS) return 0;\n\tff s = sqrt(Sq(R) - Sq(Y)) * Y,\n\t\ts_arc = acos(Y / R) * Sq(R);\n\treturn s_cir - s_arc + s;\n}\n\nff Simp(ff L, ff R) {\n\treturn (R - L) * (F(L) + 4 * F((L + R) / 2) + F(R)) / 6;\n}\nff Asr(ff L, ff R, ff ans, int step) {\n\tff mid = (L + R) / 2, fl = Simp(L, mid), fr = Simp(mid, R);\n\tif(fabs(fl + fr - ans) < EPS && step < 0) return (fl + fr + ans) / 2;\n\treturn Asr(L, mid, fl, step - 1) + Asr(mid, R, fr, step - 1);\n}\nff Solve(ff L, ff R) {\n\treturn Asr(L, R, Simp(L, R), 12);\n}\n\nint main() {\n\trd(d, l, r, t, h);\n\td /= 100; l /= 100; r /= 100; t /= 100; h /= 100;\n\tprintf(\"%.2lf\\n\", Solve(-r, l + r));\n\treturn 0;\n}\n```",
        "postTime": 1641744585,
        "uid": 34238,
        "name": "zhylj",
        "ccfLevel": 9,
        "title": "P6988"
    }
]