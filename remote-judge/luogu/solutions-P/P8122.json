[
    {
        "content": "### \u7406\u89e3\u9898\u610f\n\n\u8fd9\u662f\u4e00\u4e2a\u4ea4\u4e92\u9898\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $N$ \u7684\u672a\u77e5\u7684\u6570\u5217 $x_i$\uff0c\u5e76\u4e14\u4fdd\u8bc1\u5176\u5355\u8c03\u9012\u589e\uff0c\u4f60\u53ef\u4ee5\u7528\u4efb\u610f\u987a\u5e8f\u8be2\u95ee\u5176\u4e2d\u81f3\u591a $S$ \u4e2a\u6570\uff0c\u5e76\u4e14\u5bf9\u4e8e\u7ed9\u5b9a\u7684\u503c $A$ \u548c $K$\uff0c\u8981\u6c42\u4ece $N$ \u4e2a\u6570\u4e2d\u9009\u51fa $K$ \u4e2a\u6570\uff08\u4e0d\u80fd\u91cd\u590d\uff09\uff0c\u4f7f\u5f97\u5b83\u4eec\u7684\u548c $\\in[A,2A]$\u3002\n\n### \u5206\u6790\n\n1. \u5148\u53d6\u524d $K-1$ \u4e2a\uff0c\u7136\u540e\u4e8c\u5206\u627e\u5230\u5e8f\u5217\u4e2d\u6700\u540e\u4e00\u4e2a $i$\uff0c\u4f7f\u5f97 $(\\sum_{j=1}^{K-1}x_j)+x_i\\le 2A$\u3002\n2. \u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u6837\u7684 $i$ \u5219\u65e0\u89e3\u3002\n3. \u5982\u679c\u627e\u5230\u7684\u8fd9\u6837\u7684\u548c\u6070\u597d $\\ge A$\uff0c\u5219\u627e\u5230\u4e00\u7ec4\u89e3\u3002\n4. \u5426\u5219\uff0c\u5982\u679c\u5b58\u5728\u89e3\u5219\u4e00\u5b9a\u53ef\u4ee5\u7528 $[1,K-1]$ \u548c $[i-K+1,i]$ \u4e2d\u7684\u6570\u5f97\u5230\u4e00\u7ec4\u89e3\u3002\n\n\u6b21\u6570\u4e3a\n$$\\log n+2K-2$$\n\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define pb push_back\n#define rep(i,a,b) for(int i=a,i##end=b;i<=i##end;++i)\nextern \"C\" {\n\tlong long skim(int i);\n\tvoid answer(vector<int> v);\n\tvoid impossible();\n\tvoid solve(int n, int k, ll L, int m) {\n\t\tstatic const int N = 1e6 + 10;\n\t\tassert(m >= 40);\n\t\tif (k > n) return impossible();\n\t\tstatic ll a[N];\n\t\trep(i, 1, n) a[i] = -1;\n\t\tll s = 0;\n\t\trep(i, 1, k - 1) s += a[i] = skim(i);\n\t\tif (s > 2 * L) return impossible();\n\t\tint l = k, r = n, res = -1;\n\t\twhile (l <= r) {\n\t\t\tint mid = (l + r) >> 1;\n\t\t\ta[mid] = skim(mid);\n\t\t\tif (s + a[mid] >= L && s + a[mid] <= 2 * L) {\n\t\t\t\tvector <int> t;\n\t\t\t\trep(i, 1, k - 1) t.pb(i);\n\t\t\t\tt.pb(mid);\n\t\t\t\treturn answer(t);\n\t\t\t}\n\t\t\tif (s + a[mid] > 2 * L) r = mid - 1;\n\t\t\telse l = mid + 1, res = mid;\n\t\t}\n\t\tif (res == -1) return impossible();\n\t\tif (a[k] == -1) a[k] = skim(k);\n\t\trep(i, max(k + 1, res - k + 1), res) if (a[i] == -1) a[i] = skim(i);\n\t\tstatic int pos[N], c = 0;\n\t\trep(i, 1, res) if (~a[i] && (i <= k || i > res - k)) pos[c++] = i;\n\t\trep(S, 0, (1 << c) - 1) if (__builtin_popcount(S) == k) {\n\t\t\tll v = 0;\n\t\t\trep(i, 0, c - 1) if (S & (1 << i)) v += a[pos[i]];\n\t\t\tif (v >= L && v <= 2 * L) {\n\t\t\t\tvector <int> t;\n\t\t\t\trep(i, 0, c - 1) if (S & (1 << i)) t.pb(pos[i]);\n\t\t\t\treturn answer(t);\n\t\t\t}\n\t\t}\n\t\treturn impossible();\n\t}\n}\n```\n\u5ba1\u6838\u5927\u5927\u6c42\u8fc7\u2026",
        "postTime": 1680339898,
        "uid": 564941,
        "name": "\u5929\u91ce\u661f\u6cb3",
        "ccfLevel": 0,
        "title": "P8122 \u9898\u89e3"
    }
]