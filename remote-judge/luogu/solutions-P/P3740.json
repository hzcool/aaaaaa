[
    {
        "content": "\u8fd9\u9053\u9898\u6211\u6709\u4e24\u79cd\u505a\u6cd5\uff1a\u7ebf\u6bb5\u6811\u548c\u6d6e\u6c34\u6cd5\uff08\u8868\u793a\u4e0d\u4f1a\u79bb\u6563\u5316\uff0c\u597d\u5728\u6570\u636e\u8fd8\u7528\u4e0d\u5230\uff09\u3002\n\n1. \u7ebf\u6bb5\u6811 \u7ef4\u62a4\u533a\u95f4\u662f\u5426\u88ab\u67d3\u8272\uff1a\u533a\u95f4\u4fee\u6539\u6ca1\u88ab\u67d3\u8272\u7684\u70b9\uff0c\u6807\u8bb0\uff0c++ans\uff1b\u5982\u679c\u533a\u95f4\u7684\u70b9\u5168\u88ab\u67d3\u8fc7\u8272\uff0c\u90a3ans\u4e0d\u53d8\u3002\n\n2. \u6d6e\u6c34\u6cd5\uff0c\u4e13\u95e8\u89e3\u51b3\u8fd9\u7c7b\u533a\u95f4\u67d3\u8272\u95ee\u9898\uff1a\n\n\u8bb0\u5f55\u67d0\u4e00\u4e2a\u7ebf\u6bb5\u662f\u4e0d\u662f\uff08\u6216\u8005\u662f\u6709\u4e00\u90e8\u5206\uff09\u6d6e\u5230\u4e86\u6700\u4e0a\u9762\u3002\n\n\u4e0a\u6d6e\u601d\u60f3\uff1a\u8bbe\u7ad6\u76f4\u5e73\u9762\u4e2d\u5b58\u5728\u6709\u4e00\u4e9b\u9ad8\u5ea6\u4e0d\u540c\u7684\u7ebf\u6bb5\uff0c\u5f53\u4e00\u4e2a\u7ebf\u6bb5\u4e0a\u65b9\u6ca1\u6709\u88ab\u5176\u4ed6\u7ebf\u6bb5\u6321\u7740\u65f6\uff0c\u8fd9\u4e2a\u7ebf\u6bb5\u5c31\u53ef\u4ee5\u4e0a\u6d6e\uff0c\u5982\u679c\u4e00\u4e2a\u7ebf\u6bb5\uff08\u6216\u662f\u5b83\u7684\u4e00\u90e8\u5206\uff09\u53ef\u4ee5\u4e0a\u6d6e\u5230\u65e0\u9650\u9ad8\uff0c\u90a3\u4e48\u663e\u7136\uff0c\u8fd9\u4e2a\u7ebf\u6bb5\uff08\u6216\u8fd9\u4e00\u90e8\u5206\uff09\u6240\u5728\u7684\u9ad8\u5ea6\u662f\u4ed6\u6240\u8986\u76d6\u7684\u8fd9\u4e00\u4e2a\u6570\u8f74\u8303\u56f4\u5185\uff08\u5c06\u5e73\u9762\u7684\u65e0\u9650\u4f4e\u7684\u5730\u65b9\u770b\u505a\u6709\u4e00\u4e2a\u6570\u8f74\uff09\u6700\u9ad8\u7684\u3002\n\n\u6d6e\u6c34\u6cd5\u5176\u5b9e\u662f\u4e00\u4e2a\u9012\u5f52\u7684\u8fc7\u7a0b\uff0c\u9996\u5148\uff0c\u5f53\u4e00\u6761\u7ebf\u6bb5\u6ee1\u8db3\u4e0a\u6d6e\u7684\u6761\u4ef6\u65f6\uff0c\u8ba9\u4ed6\u4e0a\u6d6e\uff08\u7528 while \u5faa\u73af\u63a7\u5236\uff09\uff0c\u4f46\u662f\u5f53\u4ed6\u4e0d\u6ee1\u8db3\u4e0a\u6d6e\u7684\u6761\u4ef6\u65f6\uff0c\u5c06\u4ed6\u88ab\u6321\u4f4f\u7684\u90a3\u4e00\u6bb5\u5207\u6389\uff0c\u7136\u540e\u63a5\u7740\u9012\u5f52\u7684\u8ba9\u4ed6\u5269\u4e0b\u7684\u90a3\u90e8\u5206\u4e0a\u6d6e\u3002\n\n\uff08\u6458\u81eahttp://www.cnblogs.com/SueMiller/archive/2011/08/05/2128794.html\uff0c\u7f51\u4e0a\u6ca1\u6709\u5f88\u591a\u76f8\u5173\u7684\uff09\n\n\n\u8865\u4ee3\u7801\uff1a1.\u7ebf\u6bb5\u6811\n\n```cpp\n#include<cmath>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nconst int N=10000005,M=1005;\n\nint n,m,Ans,A[M],B[M];\nbool flag,colored[N<<2];\n\nint read()\n{\n    int now=0;char c=getchar();\n    while(c<'0'||c>'9')c=getchar();\n    while(c>='0'&&c<='9')now=(now<<3)+(now<<1)+c-'0',c=getchar();\n    return now;\n}\n\nvoid PushUp(int rt)\n{\n    colored[rt]= colored[rt<<1]&&colored[rt<<1|1];\n}\n\n/*void Build(int l,int r,int rt)\n{\n    if(l==r)\n      return;\n    int m=(l+r)>>1;\n    Build(l,m,rt<<1);\n    Build(m+1,r,rt<<1|1);\n    PushUp(rt);\n}*/\n\nvoid Modify(int l,int r,int rt,int L,int R)\n{\n    if(colored[rt]) return;\n    if(L<=l && r<=R)\n    {\n        flag=1;colored[rt]=1;\n        return;\n    }\n    int m=(l+r)>>1;\n    if(L<=m) Modify(l,m,rt<<1,L,R);\n    if(m<R) Modify(m+1,r,rt<<1|1,L,R);\n    PushUp(rt);\n}\n\nint main()\n{\n    freopen(\"ha14d.in\",\"r\",stdin);\n    freopen(\"ha14d.out\",\"w\",stdout);\n    n=read();m=read();\n//    Build(1,n,1);\n    for(int i=1;i<=m;i++)\n      A[i]=read(),B[i]=read();\n    for(int i=m;i>=1;i--)\n    {\n        flag=0;\n        Modify(1,n,1,A[i],B[i]);\n        if(flag) ++Ans;\n    }\n    printf(\"%d\",Ans);\n    fclose(stdin);fclose(stdout);\n    return 0;\n}\n```\n2.\u6d6e\u6c34\u6cd5\uff1a\n\n```cpp\n#include<cstdio>\nusing namespace std;\nconst int N=10000005,M=1005;\n\nint n,m,Ans,cur,A[M],B[M];\nbool vis[M];\n\nint read()\n{\n    int now=0;char c=getchar();\n    while(c<'0'||c>'9')c=getchar();\n    while(c>='0'&&c<='9')now=(now<<3)+(now<<1)+c-'0',c=getchar();\n    return now;\n}\n\nvoid Solve(int a,int b,int now)\n{\n    if(vis[cur]) return;\n    while(now<=m && (a>=B[now]||b<=A[now]))//\u9700\u8981\u7b49\u4e8e \n      ++now;\n    if(now>m)\n      ++Ans,vis[cur]=1;//printf(\"%d:%d--%d\\n\",Ans,a,b);\n    if(a<A[now] && A[now]<b) Solve(a,A[now],now+1);//\u4e0d\u80fd\u7b49\u4e8e \n    if(b>B[now] && B[now]>a) Solve(B[now],b,now+1);\n}\n\nint main()\n{\n//    freopen(\"ha14d.in\",\"r\",stdin);\n//    freopen(\"ha14d.out\",\"w\",stdout);\n    n=read();m=read();\n    for(int i=1;i<=m;i++)\n      A[i]=read(),B[i]=read(),++B[i];//\u53f3\u7aef\u70b9\u518d\u52a01\uff0c\u56e0\u4e3a\u4e24\u7aef\u70b9\u662f\u90fd\u4e0d\u80fd\u653e\u5176\u4ed6\u6d77\u62a5\u7684(\u770b\u4e0d\u89c1) \n    for(cur=m-1;cur>=1;cur--)\n      Solve(A[cur],B[cur],cur+1);\n    printf(\"%d\",++Ans);\n//    fclose(stdin);fclose(stdout);\n    return 0;\n}\n```\n\u5176\u5b9e\u8fd8\u53ef\u4ee5\u66b4\u529b \uff1a\u8fd9\u9898\u6570\u636e\u771f\u6c34\uff0c\u66b4\u529b\u5c31\u80fdac\u3002cogs\u4e0a\u52a0\u5f3a\u4e86\u6570\u636e\u66b4\u529b\u53ea\u80fd80\uff08\u8fd8\u662f\u633a\u9ad8\u7684\uff09\u3002\n",
        "postTime": 1495868482,
        "uid": 39887,
        "name": "SovietPower\u2728",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "## [\u66f4\u597d\u7684\u9605\u8bfb](https://www.cnblogs.com/yzhang-rp-inf/p/9932483.html)\n\n#### woc\uff0c\u4eca\u5929\u5df2\u7ecf\u662fday -1\u4e86\n\n#### \u518d\u5199\u4e00\u9897\u73c2\u6735\u8389\u6811\u6765++rp\u5427\n\n#### \u5426\u5219\u5c31\u8981AFO\u4e86qaq\n\n#### \u8fd9\u6709\u53ef\u80fd\u662f\u6211\u6700\u540e\u4e00\u7bc7\u9898\u89e3/\u535a\u5ba2qaq\n\n#### \u539f\u9898\u4f20\u9001\u95e8\uff1a[P3740 [HAOI2014]\u8d34\u6d77\u62a5](https://www.luogu.org/problemnew/show/3740)\n\n#### \u8003\u524d\u5237\u6c34\u9898\u5230\u5e95\u662f\u5bf9\u8fd8\u662f\u9519qaq\n\n#### \u53cd\u6b63\u8fd9\u9898\u662f\u5f88\u6c34\n\n## \u524d\u7f6e\u829d\u58eb\uff1a\u73c2\u6735\u8389\u6811\n\n### [\u7a9d\u535a\u5ba2\u91cc\u5bf9\u73c2\u6735\u8389\u6811\u7684\u4ecb\u7ecd](https://www.cnblogs.com/yzhang-rp-inf/p/9443659.html )\n\n### \u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\u81ea\u5df1\u770b\u770b\u5427\n\n#### \u6bcf\u8d34\u4e00\u5f20\u6d77\u62a5\u66b4\u529bassign_val\n\n#### \u6700\u540e\u7528\u6876\u6392\u601d\u60f3\u7edf\u8ba1\u4e00\u4e0b\u5373\u53ef\n\n```cpp\n#pragma GCC optimize(\"O3\")\n#include <bits/stdc++.h>\n#define IT set<node>::iterator\nusing namespace std;\ninline int read()\n{\n    int x=0,f=1; char c=getchar();\n    for(;!isdigit(c);c=getchar()) if(c=='-') f=-1;\n    for(;isdigit(c);c=getchar()) x=x*10+c-'0';\n    return x*f;\n}\nstruct node\n{\n    int l,r;\n    mutable int v;\n    node(int L, int R=-1, int V=0):l(L), r(R), v(V) {}\n    bool operator<(const node& o) const\n    {\n        return l < o.l;\n    }\n};\nset <node> s;\nIT split(int pos)\n{\n    IT it = s.lower_bound(node(pos));\n    if (it != s.end() && it->l == pos) \n        return it;\n    --it;\n    int L = it->l, R = it->r, V = it->v;\n    s.erase(it);\n    s.insert(node(L, pos-1, V));\n    return s.insert(node(pos, R, V)).first;\n}\nvoid assign_val(int l,int r,int val)\n{\n    IT itr=split(r+1),itl=split(l);\n    s.erase(itl,itr);\n    s.insert(node(l,r,val));\n}\nbool vis[1005];\nint main()\n{\n    int n=read(),m=read();\n    s.insert(node(1,n+5));\n    for(register int i=1;i<=m;++i)\n    {\n        int l=read(),r=read();\n        assign_val(l,r,i);\n    }\n    int res=0;\n    IT itr=split(n+1),itl=split(1);\n    for(;itl!=itr;++itl)\n        if(!vis[itl->v]&&itl->v>=1&&itl->v<=m)\n        {\n            ++res;\n            vis[itl->v]=true;\n        }\n    printf(\"%d\",res);\n    return 0;\n}\n```\n\n# \u6700\u540e\uff0c\u6211\u4e3a\u4f17\u5927\u4f6c\u9001\u4e0a\u849f\u84bb\u7684\u795d\u798f\n\n```cpp\n#pragma GCC optimize(\"O2\")\n#pragma GCC optimize(\"O3\")\n#include <bits/stdc++.h>\n#define I_ak_ioi using namespace std;\nI_ak_ioi; \nstruct NOIP{\n\tint rp;\n\tint score;\n\tint rank;\n}NOIP2018;\nint main()\n{\n\twhile(19260817)\n\t{\n\t\t++NOIP2018.rp;\n\t\tNOIP2018.score=AK;\n\t\tNOIP2018.rank=1;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1541687540,
        "uid": 37881,
        "name": "yzhang",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "$\\ \\ \\ \\ \\ \\ \\ $\u672c\u9898\u6240\u7528\u7684\u7b97\u6cd5\u9664\u4e86\u7ebf\u6bb5\u6811,\u8fd8\u53ef\u4ee5\u7528\u6d6e\u6c34\u6cd5,\u672c\u7bc7\u9898\u89e3\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u8be5\u65b9\u6cd5\n#### 1.\u7b80\u4ecb  \n$\\ \\ \\ \\ \\ \\ \\ $\u8fd9\u4e2a\u7b97\u6cd5\u7684\u53d7\u4f17\u9762\u4f3c\u4e4e\u5f88\u5c0f\u5462,\u76ee\u524d\u597d\u50cf\u9664\u4e86**\u533a\u95f4\u67d3\u8272\u95ee\u9898**\u4e4b\u5916\u6ca1\u6709\u4ec0\u4e48\u5176\u4ed6\u7684\u9898\u53ef\u7528\u4e86\u3002\u4f46\u5b83\u53ef\u4ee5\u8282\u7701\u4e0d\u5c11\u7801\u91cf\u7684,\u8c03\u8bd5\u96be\u5ea6\u66f4\u5c0f\u4e00\u4e9b\u3002~~\u60f3\u60f3\u533a\u95f4\u67d3\u8272\u95ee\u9898\u4e00\u822c\u662f\u4ec0\u4e48\u7b97\u6cd5~~  \n\n#### 2.\u5927\u81f4\u601d\u8def  \n$\\ \\ \\ \\ \\ \\ \\ $\u6211\u4eec\u5148\u653e\u4e00\u9053 ~~\u677f~~ \u4f8b\u9898[\u6d74\u8c37\u94fe\u63a5](https://www.luogu.com.cn/problem/P3740)  \n \n$\\ \\ \\ \\ \\ \\ \\ $\u4e0a\u9762\u8fd9\u9053\u9898\u6d6e\u6c34\u6cd5\u7684\u601d\u8def\u5176\u5b9e\u5f88\u7b80\u5355\u3002\u6211\u4eec\u53ea\u8981\u628a\u6574\u4e2a\u770b\u6210\u4e00\u6c60\u6c60\u6c34\u3002\uff08\u96fe  \n$\\ \\ \\ \\ \\ \\ \\ $\u5177\u4f53\u7684\u8bdd,\u6211\u4eec\u4e3e\u4e2a\u4f8b\u5b50\u3002  \n```\n100 3\n1 9\n2 4 \n6 8\n```\n$\\ \\ \\ \\ \\ \\ \\ $\u9996\u5148\u5efa\u4e00\u4e2a\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb,\u6bcf\u4e00\u4e2a\u6574\u70b9\u6211\u4eec\u90fd\u53ef\u4ee5\u653e\u4e0a\u4e00\u4e2a\u6570\u5b57\u8868\u793a\u90a3\u662f\u7b2c\u51e0\u5e45\u6d77\u62a5\u3002  \n$\\ \\ \\ \\ \\ \\ \\ $\u5012\u5e8f(\u6700\u540e\u8d34\u4e0a\u53bb\u7684\u4e00\u5b9a\u662f\u80fd\u770b\u5230\u7684)\u904d\u5386\u6bcf\u4e00\u5e45\u6d77\u62a5,\u628a\u7b2c $i$ \u5e45\u6d77\u62a5\u5148\u5728 $y=i$ \u8fd9\u6761\u76f4\u7ebf\u4e0a\u5bf9\u5e94\u7684\u4f4d\u7f6e\u653e\u597d\u3002  \n$\\ \\ \\ \\ \\ \\ \\ $\u4e3e\u4e2a\u4f8b\u5b50,\u6700\u540e\u4e24\u5e45\u6d77\u62a5\u653e\u4e0a\u53bb\u5c31\u4f1a\u6210\u8fd9\u4e2a\u6837\u5b50\u3002    \n![THEVZZ82~6D5QA1__3QZYJ7.png](https://i.loli.net/2020/01/29/y2QTm5P163aSJzW.png)  \n$\\ \\ \\ \\ \\ \\ \\ $\u7531\u4e8e\u68d5\u8272\u6d77\u62a5\u524d\u9762\u6ca1\u6709\u4efb\u4f55\u906e\u6321,\u56e0\u6b64\u5b83\u662f\u53ef\u4ee5\u88ab\u770b\u89c1\u7684,$ans+1$ \u3002  \n$\\ \\ \\ \\ \\ \\ \\ $\u518d\u653e\u4e00\u5e45\u4e0a\u53bb,\u56fe\u5c31\u662f\u8fd9\u4e2a\u6837\u5b50.  \n![YRZ_NM8_JDV61P_SD9~Y989.png](https://i.loli.net/2020/01/29/tHa7JgrTN6chjns.png)  \n$\\ \\ \\ \\ \\ \\ \\ $\u7531\u4e8e\u7d2b\u8272\u6d77\u62a5\u4e00\u90e8\u5206\u524d\u9762\u8fd8\u662f\u6ca1\u6709\u906e\u6321,\u56e0\u6b64\u5b83\u53ef\u4ee5\u88ab\u770b\u89c1\u3002  \n$\\ \\ \\ \\ \\ \\ \\ $\u53ef\u60dc\u7535\u8111\u4e0d\u50cf\u4eba\u4e00\u6837,\u80fd\u591f\u4e00\u773c\u770b\u51fa\u6765\u4e4b\u524d\u6709\u6ca1\u6709\u906e\u6321\u3002\u6240\u4ee5\u5bf9\u4e8e\u6bcf\u4e00\u5e45\u6d77\u62a5,\u6211\u4eec\u53ef\u4ee5\u5c06\u5b83\u6ca1\u6709\u88ab\u4e0a\u4e00\u5e45\u6d77\u62a5\u8986\u76d6\u7684\u533a\u95f4\u4e0a\u6d6e,\u5176\u4f59\u7684\u7559\u5728\u539f\u5904.\u6700\u540e\u53ea\u8981\u6709\u4efb\u610f\u4e00\u90e8\u5206\u6d6e\u5230\u6700\u9876\u7aef\u5c31\u53ef\u4ee5\u5224\u65ad\u5b83\u80fd\u88ab\u770b\u5230.    \n$\\ \\ \\ \\ \\ \\ \\ $\u521a\u521a\u90a3\u5e45\u56fe\u4e0a\u6d6e\u4e00\u6b21\u53d8\u6210  \n![6U_JG8KFU_B8_`WW~H_DE8A.png](https://i.loli.net/2020/01/29/hEImnUPfu6v3C8L.png)  \n$\\ \\ \\ \\ \\ \\ \\ $\u518d\u4e0a\u6d6e\u4e00\u6b21\u53d8\u6210  \n![`5F5JM7`_2P5DQL~_9ALVX2.png](https://i.loli.net/2020/01/29/shSGLETg6crPfRu.png)  \n$\\ \\ \\ \\ \\ \\ \\ $\u7136\u540e\u7531\u4e8e\u5b83\u5df2\u7ecf\u4e0a\u6d6e\u5230\u6700\u8868\u9762\u4e86,\u56e0\u6b64\u5b83\u662f\u53ef\u4ee5\u88ab\u8bb0\u5165\u7b54\u6848\u7684.  \n$\\ \\ \\ \\ \\ \\ \\ $\u5bf9\u4e8e\u4e4b\u540e\u7684\u6bcf\u4e00\u5e45\u6d77\u62a5,\u6211\u4eec\u90fd\u505a\u4e00\u6b21\u8fd9\u6837\u7684\u4e0a\u6d6e\u5373\u53ef.  \n\n#### 3.\u5b9e\u9645\u5b9e\u73b0  \n$\\ \\ \\ \\ \\ \\ \\ $\u9996\u5148\u5148\u58f0\u660e,\u8fd9\u4e2a\u7b97\u6cd5\u5176\u5b9e\u662f\u7384\u5b66\u590d\u6742\u5ea6( $\\Theta(N+$\u5f88\u5c0f\u7684\u5e38\u6570$)$ )(\u4e0d\u4f1a\u8bc1\u660e),\u4f46\u662f\u5b83\u8ddf\u7ebf\u6bb5\u6811\u662f\u5dee\u4e0d\u591a\u7684.\u8bf7\u653e\u5fc3\u98df\u7528\u3002  \n$\\ \\ \\ \\ \\ \\ \\ $\u5bf9\u4e8e\u6bcf\u4e00\u5e45\u5148\u8d34\u4e0a\u53bb\u7684\u6d77\u62a5,\u5b83\u6700\u591a\u6709\u4e09\u79cd\u60c5\u51b5,**\u5de6\u534a\u90e8\u5206\u3001\u88ab\u6321\u4f4f\u90e8\u5206\u3001\u53f3\u534a\u90e8\u5206**  \n$\\ \\ \\ \\ \\ \\ \\ $\u6240\u4ee5\u6211\u4eec\u7528 $while$ \u5faa\u73af\u4e0d\u505c\u5730\u5bf9\u6bd4\u5b83\u662f\u5426\u80fd\u6574\u4f53\u76f4\u63a5\u4e0a\u6d6e\u5e76\u8fdb\u884c\u64cd\u4f5c,\u5982\u679c\u4e0d\u80fd\u5c31\u53ea\u80fd\u628a\u5b83\u62c6\u6210\u4e24\u90e8\u5206(**\u5de6\u534a\u90e8\u5206\u3001\u53f3\u534a\u90e8\u5206**)\u8fdb\u884c\u4e0a\u6d6e,\u4f9d\u6b21\u7c7b\u63a8,\u76f4\u5230\u4e0a\u6d6e\u81f3\u6700\u9ad8\u5c42.  \n$\\ \\ \\ \\ \\ \\ \\ $\u6240\u4ee5\u8fd9\u4e2a\u64cd\u4f5c\u4e5f\u544a\u8bc9\u6211\u4eec\u8fd9\u662f**\u9012\u5f52**\u3002\n\n$\\ \\ \\ \\ \\ \\ \\ $\u5177\u4f53\u64cd\u4f5c\u65f6\u8fd8\u6709\u4e24\u4e2a\u6ce8\u610f\u4e8b\u9879:  \n$\\ \\ \\ \\ \\ \\ \\ 1.$\u5982\u679c\u6709\u7ebf\u6bb5\u521a\u597d\u7aef\u70b9\u76f8\u63a5\u7684\u60c5\u51b5\u4e5f\u662f\u8981\u7b97\u8986\u76d6\u7684,\u4f46\u662f\u5b9e\u9645\u65f6\u4e0d\u4f1a\u88ab\u8ba1\u7b97,\u56e0\u6b64\u6211\u4eec\u8ba9\u53f3\u7aef\u70b9\u5ef6\u957f $1$ \u4e2a\u5355\u4f4d\u957f\u5ea6\u5373\u53ef.  \n$\\ \\ \\ \\ \\ \\ \\ 2.$\u5b83\u6709\u53ef\u80fd\u4f1a\u5728\u9012\u5f52\u8fc7\u7a0b\u4e2d\u591a\u6b21\u4e0a\u6d6e\u540c\u4e00\u6761\u7ebf\u6bb5\u7684\u4e0d\u540c\u90e8\u5206,\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5f00 $vis$  \n\n$$\\mathcal{CODE}$$  \n```cpp\n#include <cstdio>\nbool vis[1005];\nint n,m,ans,A[1005],B[1005];\nvoid Solve(int a,int b,int now,int num)\n{\n    if(vis[num]) return;//Warning 2\n    while(now<=m&&(a>=B[now]||b<=A[now])) now++;\n    if(now>m) ans++,vis[num]=1;\n    if(a<A[now]&&A[now]<b) Solve(a,A[now],now+1,num); \n    if(b>B[now]&&B[now]>a) Solve(B[now],b,now+1,num);\n}\n\nint main() {\n    scanf(\"%d %d\",&n,&m);\n    for(int i=1;i<=m;i++) \n\t{\n\t\tscanf(\"%d %d\",&A[i],&B[i]);\t\n\t\tB[i]++;//Warning 1\n\t}\n    for(int i=m-1;i>=1;i--) Solve(A[i],B[i],i+1,i);\n    printf(\"%d\",ans+1);\n    return 0;\n}\n```\n\n",
        "postTime": 1582033881,
        "uid": 160701,
        "name": "Azaz\u0435l",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "## \u672c\u849f\u84bb\u53d1\u5e03\u4e0b\u9898\u89e3\uff0c\u8bf7\u52ff\u55b7\n## \u6211\u6bd4\u8f83\u5f31\uff0c\u5728\u8001\u5e08\uff08~~\u8d85\u795e\u7287~~\uff09\u548c\u540c\u5b66\uff08~~\u795e\u7287~~\uff09\u7684\u5168\u529b\u8bb2\u89e3\u4e0b\uff0c\u7ec8\u4e8e\u4f1a\u4e86\u7ebf\u6bb5\u6811\u7684\u89e3\u9898\u65b9\u6cd5\uff08~~\u7136\u800c\u53ea\u4f1a\u7ebf\u6bb5\u6811~~\uff09\n# \u533a\u95f4\u6811\u548c\u70b9\u6811\u90fd\u53ef\u4ee5\uff0c\u5148\u8bb2\u533a\u95f4\u6811(\u53ea\u8bb2\u5927\u610f)\n![69519](https://cdn.luogu.com.cn/upload/pic/69519.png )\n## \u770b\u6e05\u9898\u76ee\u7684\u8f93\u5165\u8981\u6c42\uff0c\u867d\u7136\u9898\u76ee\u8f93\u5165\u7684\u662f1\u52304\uff0c\u4f46\u662f\u56e0\u4e3a\u9898\u76ee\u7ed9\u7684\u6570\u636e\u662f\u5355\u4f4d\u533a\u95f4\u800c\u4e0d\u662f\u5750\u6807\uff0c\u6240\u4ee5\u771f\u5b9e\u7684\u5750\u6807\u8868\u793a\u5e94\u8be5\u662f1\u52305\n```cpp\nfor(int j=1;j<=m;j++)     \n      {\n      scanf(\"%d%d\",&b[j].l,&b[j].r); \n       b[j].r++;//\u9700\u8981\u52a01\uff0c\u6765\u8868\u793a\u771f\u5b9e\u5750\u6807    \n       k[++id]=b[j].l;\n       k[++id]=b[j].r;\n       //k\u6570\u7ec4\u628a\u5750\u6807\u8bb0\u4e0b\u6765\uff0c\u5f85\u4f1a\u8981\u7528\n      } \n```\n## \u7136\u540e\uff0c\u518d\u6ce8\u610f\u4e00\u4e0b\uff0c\u9898\u76ee\u7ed9\u7684\u6d77\u62a5\u957f\u5ea6n<=10000000,\u56e0\u4e3a\u7ebf\u6bb5\u6811\u7684\u6784\u9020\u539f\u7406\uff0c\u6211\u4eec\u81f3\u5c11\u8981\u5efa4\u4e58\u4ee5\u957f\u5ea6\uff0c\u540c\u65f6\u65f6\u95f4\u590d\u6742\u5ea6\uff08n*log(n)\uff09\uff0c\u6240\u4ee5\u76f4\u63a5\u5904\u7406\u7684\u8bdd\uff0c\u80af\u5b9a\u5c31\u70b8\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u79bb\u6563\u5316\n```cpp\n    sort(k+1,k+2*m+1);//\u6392\u5e8f\u64cd\u4f5c\n    int num=unique(k+1,k+2*m+1)-k;//\u53bb\u91cd\u64cd\u4f5c\n    get(1,1,num);//\u8fd9\u65f6\u5019\u8fdb\u884c\u5efa\u6811\u64cd\u4f5c\uff0c\u6811\u6700\u957f\u4e5f\u5c31\u662f2*m\uff0c\u5f53\u7136\u5c31\u4e0d\u4f1a\u70b8\u4e86\n    for(int j=1;j<=m;j++)\n     {\n      int l=lower_bound(k+1,k+num,b[j].l)-k;  \n      //lower_bound()\u7528\u6765\u627e\u51fa\u7b2c\u4e00\u4e2a\u5927\u4e8e\u7b49\u4e8e\u4f60\u7684\u6570\u7684\u4f4d\u7f6e\n      int r=lower_bound(k+1,k+num,b[j].r)-k;        \n      ins(1,l,r,j);//\u63d2\u5165\u64cd\u4f5c\u3002   \n     }\n```\n## \u5728\u8fd9\u91cc\u8981\u7740\u91cd\u7684\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u53bb\u91cd\uff0c\u56e0\u4e3a\u5982\u679c\u4f60\u4e0d\u53bb\u91cd\u7684\u8bdd\uff0c\u539f\u6765\u4e0e\u4f60\u5171\u70b9\u7684\u70b9\uff0c\u548c\u539f\u6765\u548c\u4f60\u76f8\u90bb\u7684\u70b9\uff0c\u90fd\u4f1a\u589e\u52a0\u4e00\u6bb5\u4e0d\u5b58\u5728\u7684\u8ddd\u79bb\uff0c\u800c\u5bfc\u81f4\u6570\u636e\u9519\u8bef\uff0c\u8fd9\u91cc\u5176\u5b9e\u8fd8\u6d89\u53ca\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u4f46\u6211\u4eec\u5728\u70b9\u6811\u8bb2\n# \u63d2\u5165\u64cd\u4f5c\n```cpp\nvoid ins(int rt,int l,int r,int k)\n{\n if(l>=a[rt].r || r<=a[rt].l)    \n     return;//\u56e0\u4e3a\u662f\u533a\u95f4\u6811\uff0c\u6240\u4ee5\u91cd\u70b9\u65e0\u4ea4\u96c6\uff0c\u7b97\u662f\u76f8\u79bb\u72b6\u51b5\n      //\u800c\u70b9\u6811\u4e0d\u7b97\u76f8\u79bb\u72b6\u51b5\n if(l<=a[rt].l && a[rt].r<=r)\n    {\n      a[rt].c=k;         \n      return;//\u53ea\u6709\u5728\u8986\u76d6\u533a\u95f4\u7684\u65f6\u5019\uff0c\u624d\u8fdb\u884c\u67d3\u8272\n    }    \n pushd(rt);\n ins(rt<<1,l,r,k);\n ins(rt<<1|1,l,r,k);\n pushup(rt);\n}\n ```\n# pushd()\u4e0epushup()\u6d89\u53ca\u4e86\u7ebf\u6bb5\u6811\u7684\u5ef6\u8fdf\u64cd\u4f5c\uff08lazy\uff09\n## \u5f53\u4f60\u8981\u8986\u76d6\u989c\u8272\u7684\u533a\u57df\u4e0e\u4f60\u5f53\u524d\u8282\u70b9\u7684\u533a\u57df\u76f8\u4ea4\u65f6\uff0c\u4f60\u4e0d\u80fd\u76f4\u63a5\u53bb\u6539\u53d8\u5b50\u8282\u70b9\u7684\u989c\u8272\uff0c\u56e0\u4e3a\u4e0a\u4e00\u6b21\u7684\u6539\u53d8\u53ea\u505c\u7559\u5728\u7236\u8282\u70b9\uff0c\u6240\u4ee5\u8981\u628a\u7236\u8282\u70b9\u7684\u4fe1\u606f\u4f20\u7ed9\u5b50\u8282\u70b9\n```cpp\nvoid pushd(int rt)\n{\n if(a[rt].c!=-1)//-1\u8868\u793a\u6742\u8272\uff0c\u5982\u679c\u672c\u8eab\u662f\u6742\u8272\uff0c\u5219\u4e0d\u9700\u8981\u5411\u4e0b\u4f20\u9012    \n  {\n  a[rt<<1].c=a[rt<<1|1].c=a[rt].c;                                    \n  }   \n}\n```\n## \u7136\u800c\u5b50\u8282\u70b9\u7684\u60c5\u51b5\u4e5f\u4f1a\u5f71\u54cd\u7236\u8282\u70b9\uff08\u6539\u53d8\u5b50\u8282\u70b9\u53ef\u628a\u7236\u8282\u70b9\u7531\u7eaf\u8272\u6539\u4e3a\u6742\u8272\uff0c\u4e5f\u53ef\u7531\u6742\u8272\u6539\u4e3a\u7eaf\u8272\uff09\n```cpp\nvoid pushup(int rt)\n{\n if(a[rt<<1].c==a[rt<<1|1].c)\n    a[rt].c=a[rt<<1].c;    \n else\n   a[rt].c=-1;    \n}\n```\n\n# \u7136\u540e\u67e5\u8be2\n```cpp\nvoid an(int rt)\n{\n  if(a[rt].c>0)\n  {\n   if(!col[a[rt].c])//\u7528\u4e00\u4e2a\u6570\u7ec4\uff0c\u6765\u770b\u989c\u8272\u662f\u5426\u51fa\u73b0\u8fc7\uff0c\u907f\u514d\u91cd\u590d             \n     {\n      col[a[rt].c]=1;\n      ans++;                           \n     }    \n   return;//\u67e5\u5230\u7eaf\u8272\uff0c\u4fbf\u4e0d\u518d\u5f80\u4e0b\u67e5     \n  }\n if(a[rt].l+1==a[rt].r)\n     return;//\u6700\u7ec8\u53f6\u8282\u70b9\n pushd(rt);//\u56e0\u4e3a\u53ef\u80fd\u63d2\u5165\u7684\u65f6\u5019\u6ca1\u6709\u7a7f\u8d8a\n         //\u6240\u4ee5\u4ecd\u8981\u5f80\u4e0b\u4f20\u9012\n an(rt<<1);\n an(rt<<1|1);\n}\n```\n\n## \u4ece\u6811\u7684\u6839\u8282\u70b9\u5f00\u59cb\u67e5\uff0c\u67e5\u8be2\u6709\u591a\u5c11\u79cd\u989c\u8272\uff0c\u6ce8\u610f\uff1a\u5728\u5efa\u6811\u7684\u65f6\u5019\uff0c\u5fc5\u987b\u8981\u7ed9\u6811\u4e0a\u5e95\u8272\uff0c\u67e5\u8be2\u7684\u65f6\u5019\u67e5\u5230\u5e95\u8272\uff0c\u662f\u4e0d\u80fd\u7b97\u4f5c\u6d77\u62a5\u7684\n# \u73b0\u5728\u6765\u8bb2\u70b9\u6811\uff08\u533a\u522b\u5728\u79bb\u6563\u5316\uff0c\u5176\u4f59\u90fd\u4e00\u6837\uff09\n## \u524d\u9762\u8bf4\u5230\u9898\u76ee\u5728\u8f93\u5165\u6570\u636e\u7684\u65f6\u5019\uff0c\u662f\u5728\u8f93\u5165\u5355\u4f4d\u533a\u95f4\uff0c\u6240\u4ee5\u53f3\u754c\u8981\u52a0\u52a0\uff0c\u4f46\u90a3\u662f\u56e0\u4e3a\u533a\u95f4\u6811\u7684\u53f6\u8282\u70b9\u662f\u4e00\u4e2a\u533a\u95f4\n## \u4f46\u662f\u70b9\u6811\u7684\u53f6\u8282\u70b9\u662f\u5355\u72ec\u7684\u4e00\u4e2a\u70b9\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u53ef\u4ee5\u628a\u5355\u4f4d\u533a\u95f4\u770b\u4f5c\u4e00\u4e2a\u70b9\uff0c\u6240\u4ee5\u53f3\u754c\u4e0d\u9700\u8981\u52a0\u52a0\uff0c\u76f4\u63a5\u8f93\u5165\u5c31\u597d\u4e86\n## \u7136\u540e\u91cd\u70b9\u6765\u4e86\uff0c\u79bb\u6563\u5316\uff08\u8ba4\u771f\u770b\uff0c\u96be\u70b9\u5c31\u5728\u8fd9\u91cc\uff09![69544](https://cdn.luogu.com.cn/upload/pic/69544.png )\n## \u8fd9\u662f\u79bb\u6563\u5316\u7684\u6548\u679c\u56fe\uff08\u5047\u8bbe\u5e95\u90e8\u8fd8\u6709\u989c\u8272\uff09\n## \u5982\u679c\u662f\u533a\u95f4\u6811\u7684\u8bdd\uff0c\uff081,2\uff09\u4e0e\uff082,3\uff09\u662f\u76f8\u79bb\u7684\uff0c\uff082,3\uff09\u4e0e\uff083,4\uff09\u662f\u76f8\u79bb\u7684\uff0c\u6240\u4ee5\uff082,3\uff09\u533a\u95f4\u4ee3\u8868\u4e86\u539f\uff083,5\uff09\u533a\u95f4\uff0c\u6240\u4ee5\uff083,5\uff09\u533a\u95f4\u4ecd\u7136\u5b58\u5728\uff08\u6709\u540c\u5b66\u53ef\u80fd\u4f1a\u60f3\u8fd9\u4f1a\u4e0d\u4f1a\u628a\u539f\u76f8\u90bb\u7684\u6539\u4e3a\u4e0d\u76f8\u90bb\uff0c\u4e0d\u7528\u62c5\u5fc3\uff0c\u5728\u533a\u95f4\u6811\u65f6\uff0c\u6211\u4eec\u628ar\u8fdb\u884c\u4e86\u52a0\u52a0\uff0c\u6240\u4ee5\u79bb\u6563\u5316\u65f6\u5904\u7406\u7684\u662f\u4e8c\u6b21\u6570\u636e\uff0c\u539f\u76f8\u90bb\u7684\u53d8\u6210\u4e86\u4ea4\u96c6\uff0c\u800c\u539f\u7a7a\u4e00\u4e2a\u7684\u53d8\u6210\u4e86\u76f8\u90bb\uff0c\u6240\u4ee5\u4e0d\u5f71\u54cd\uff09\n## \u4f46\u5982\u679c\u662f\u70b9\u6811\uff0c\uff082,2\uff09\u548c(3,3)\u90fd\u662f\u70b9\uff0c\u800c\u5b83\u4eec\u5171\u540c\u5f71\u54cd\u4e86\uff082,3\uff09\uff0c\u6240\u4ee5\u539f\uff083,5\uff09\u533a\u95f4\u6d88\u5931\u4e86\uff0c\u6240\u4ee5\u5728\u79bb\u6563\u5316\u65f6\u8981\u5224\u65ad\u8fd9\u4e00\u70b9\u4e0e\u4e0a\u4e00\u70b9\u662f\u5426\u76f8\u90bb\uff0c\u5982\u679c\u4e0d\u76f8\u90bb\uff0c\u5219\u8981\u9694\u5f00\n```cpp\n    sort(x+1,x+k+1);\n      x[0]=-1;//\u9884\u9632\u7b2c\u4e00\u4f4d\u662f0\u7684\u60c5\u51b5\n      k=0;//\u8ba1\u6570\n      for(int i=1;i<=n*2;i++)\n      {\n        \n         if(x[i]!=x[i-1])\n           x[++k]=x[i];//\u53bb\u91cd\u64cd\u4f5c\n      }\n      for(int i=k;i>=1;i--)\n      {\n        if(x[i]\uff01=x[i-1]+1)\n          x[++k]=x[i-1]+1;//\u6709\u7a7a\u9699\u5219\u521b\u9020\u65b0\u6570\u636e\n      }\n      sort(x+1,x+k+1);//\u518d\u6392\u5e8f\uff0c\u539f\u76f8\u90bb\u7684\u6570\u636e\u5c31\u9694\u5f00\u4e86\n      get(1,1,k);\n      for(int i=1;i<=n;i++)\n      {\n\n        int l,r;\n        l=lower_bound(x+1,x+k+1,b[i][0])-x;\n        r=lower_bound(x+1,x+k+1,b[i][1])-x;\n        ins(1,l,r,i);   \n      }\n```\n\n\n\n\n\n\n\n\n",
        "postTime": 1565069826,
        "uid": 159592,
        "name": "\u5fc3\u7075\u95f4\u7684\u8df3\u8dc3",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "# \u6211\u975e\u5e38\u559c\u6b22\u66b4\u529b\u7684\u6570\u636e\u7ed3\u6784\uff0c\u6240\u4ee5\u6211\u7528\u66b4\u529bA\u4e86\u8fd9\u9053\u9898\n```cpp\n//Code by : Y-k-y \n#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <queue>\n#include <vector>\n#include <map>\n#include <set>\n#include <bitset>\n#define ll long long\nconst int N=10000010;\nusing namespace std;\ninline int read()\n{\n\tint res=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){res=res*10+ch-'0';ch=getchar();}\n\treturn res*f;\n}\ninline void wr(int x)\n{\n    if(x<0){putchar('-');x=-x;}\n    if(x>9) wr(x/10);putchar(x%10+'0');\n}\nint n,m,x,y;\nint a[N],t[N];//\u539f\u6570\u7ec4\u3001\u6876 \n\nint main()\n{\n\tn=read();m=read();\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tx=read();y=read();\n\t\tfor(int j=x;j<=y;j++)//\u76f4\u63a5\u4fee\u6539 \n\t\ta[j]=i;\n\t}\n\tt[0]=1;//\u9632\u6b62\u4e0d\u8d34\u65f6\u4e5f\u52a0\u4e0a \n\tint num=0;//\u8ba1\u6570 \n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tif(!t[a[i]]){//\u5982\u679c\u6ca1\u51fa\u73b0\u8fc7\u8fd9\u79cd\u989c\u8272\uff0c++ \n\t\t\tnum++;\n\t\t\tt[a[i]]=1;\n\t\t}\n\t}\n\twr(num);//\u5feb\u8f93 \n\treturn 0;\n}\n```\n\u5b8c\u7ed3\u6563\u82b1",
        "postTime": 1556105186,
        "uid": 71844,
        "name": "\u6768\u94e0\u8fdc",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u8fd9\u9898\u53ef\u4ee5\u6362\u4e00\u4e2a\u601d\u8def\uff0c\u5c06\u6d77\u62a5\u5012\u7740\u201c\u8d34\u201d\uff0c\u6bcf\u4e00\u4e2a\u6d77\u62a5\u8d34\u5230\u4e4b\u524d\u6d77\u62a5\u7684\u4e0b\u9762\uff0c\u5982\u679c\u6ca1\u6709\u88ab\u906e\u6321\uff0c\u5219ans++\n\n\u5177\u4f53\u5185\u5bb9\u89c1\u4ee3\u7801:\n```cpp\n#include <cstdio>\n#include <algorithm>\n#include <set>\n\nusing namespace std;\n\nconst int INF = 0x3f3f3f3f;\n\nstruct Seg\n{\n    int a;\n    int b;\n    bool operator < (const Seg& s) const \n    { return a < s.a; }\n};\n\nint N, M;\nint ans = 0;\nset<Seg> S; //\u5899\u4e0a\u88ab\u6d77\u62a5\u8986\u76d6\u7684\u533a\u57df\nSeg A[1005];\n\ninline int Union(Seg a, Seg b)\n{\n    if (a.b < b.a || b.b < a.a) return 0;\n    return min(a.b, b.b) - max(a.a, b.a) + 1;\n}\n\nint main()\n{\n    scanf(\"%d%d\", &N, &M);\n    for (int i = 1; i <= M; i++) scanf(\"%d%d\", &A[i].a, &A[i].b);\n        \n    S.empty();   \n    for (int i = M; i >= 1; i--)\n    {\n        Seg& p = A[i];\n        Seg seg = (Seg){INF, 0};\n    \tint spac = p.b - p.a + 1;//\u6d77\u62a5\u5728\u5899\u4e0a\u7684\u9762\u79ef\n        //\u9632\u6b62\u6d77\u62a5\u8d34\u5728 \"\u2014\u2014\u2014\u2014  \u2014\u2014\u2014\u2014\" \u4e2d\u95f4\u7684\u533a\u57df\n        \n        for (set<Seg>::iterator j = S.begin(); j != S.end() && spac > 0;)\n        {\n            Seg s = (Seg)(*j); j++;\n            spac -= Union(s, p);\n            if (!(s.b < p.a || p.b < s.a)) //\u6d77\u62a5\u4e0e\u5df2\u8986\u76d6\u533a\u57df\u76f8\u4ea4\n            {\n                seg = (Seg){min(seg.a, s.a), max(seg.b, s.b)};//\u53d6\u5e76\u96c6\n                S.erase(s);\n            }\n        }\n        \n        if (spac > 0) ans++; //\u6d77\u62a5\u9732\u51fa\n        \n        if (seg.b < p.a || p.b < seg.a) S.insert(p); \n        //\u6d77\u62a5\u4e0e\u6240\u6709\u5df2\u8986\u76d6\u533a\u57df\u4e0d\u76f8\u4ea4, \u5efa\u7acb\u4e00\u4e2a\u65b0\u533a\u57df\n        else S.insert((Seg){min(seg.a, p.a), max(seg.b, p.b)});\n    }\n    printf(\"%d\\n\", ans);\n    return 0;\n} \n```",
        "postTime": 1545917906,
        "uid": 73562,
        "name": "0x80mem",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\uff08\u5443\u3002\u3002\u3002\u672c\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3qwq\uff09\u3002\u3002\u4e0d\u5e9f\u8bdd\u4e86\u8bb2\u6b63\u9898\u3002\u3002\u601d\u8def\u6765\u6e90\u4e8e\u94fa\u5730\u6bef\uff08[-->\u4f20\u9001\u95e8](https://www.luogu.org/problemnew/show/P1003)\uff09\u3002\u3002\u5148\u7b97\u51fa\u6bcf\u4e00\u4e2a\u683c\u5b50\u4e0a\u8986\u76d6\u7684\u6d77\u62a5\u5e76\u628a\u53ef\u89c1\u7684\u6d77\u62a5\u505a\u6807\u8bb0\u7136\u540e\u7b97\u51fa\u6709\u591a\u5c11\u6d77\u62a5\u662f\u53ef\u89c1\u7684\u3002\u3002\u4f46\u662f\u4f5c\u4e3a\u7701\u9009\u9898\u600e\u4e48\u53ef\u80fd\u4f1a\u90a3\u4e48\u7b80\u5355\u3002\u3002\u6240\u4ee5\u52a0\u4e86\u4e24\u4e2a\u5c0f\u4f18\u5316\u3002\u3002\u7f29\u5c0f\u8303\u56f4\u548c\u6807\u914d\u5feb\u8bfb\u3002\u3002\u3002\u4e0b\u9762\u653eAC\u4ee3\u7801\u3002\u3002\u3002\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n\nusing namespace std;\n\nvoid R(int &x){\n    int f=1;\n    x=0;\n    char s=getchar();\n    while(s<'0'||s>'9'){\n        if(s=='-'){\n            f=-1;\n        }\n        s=getchar(); \n    }\n    while(s>='0'&&s<='9'){\n        x=x*10+s-'0';\n        s=getchar();\n    }\n    x*=f;\n}\n\nconst int MAXN=10000001;\n\nint main(){\n    int n,m;\n    R(n);\n    R(m);\n    int a[m+1],b[m+1],f[m+1];\n    int beginmi=MAXN,endma=0;\n    for(int i=1;i<=m;i++){\n        R(a[i]);\n        R(b[i]);\n        f[i]=0;\n        beginmi=min(beginmi,a[i]);\n        endma=max(endma,b[i]);\n    }\n    for(int i=beginmi;i<=endma;i++){\n        for(int j=m;j>=1;j--){\n            if(i<=b[j]&&i>=a[j]){\n                f[j]=1;\n                break;\n            }\n        }\n    }\n    int ans=0;\n    for(int i=1;i<=m;i++){\n        ans+=f[i];\n    }\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1523357851,
        "uid": 88006,
        "name": "BLUESKY007",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "# talk is cheep show me the code\n\n\u672c\u9898\u53ef\u4ee5\u5f53\u4f5c\u6a21\u677f\u9898\uff0c\u7b97\u662f\u6bd4\u8f83\u7ecf\u5178\u7684\u3002\n\n\u8fd9\u79cd\u7ebf\u6bb5\u8986\u76d6\u7684\u95ee\u9898\u7684\u5957\u8def\uff0c\u4e00\u822c\u662f\u201c\u6d6e\u6c34\u6cd5\u201d\uff0c\u6216\u8005\u641e\u4e2a\u5e76\u4e0d\u9700\u8981\u5199\u5b8c\u6574\u7684\u7ebf\u6bb5\u6811\u3002\n\n\u601d\u8def\u8fd8\u662f\u5f88\u6e05\u695a\u7684\uff0c\u5012\u5e8f\u5904\u7406\uff1a\n\t\n        \u5bf9\u4e8e\u67d0\u5f20\u6d77\u62a5\uff1a\u82e5\u5b58\u5728\u67d0\u4e00\u90e8\u5206\u6ca1\u6709\u88ab\u5b8c\u5168\u8986\u76d6\n        \u90a3\u4e48 1. \u5728\u5b83\u4e4b\u524d\u7684\u5bf9\u5b83\u6ca1\u6709\u5f71\u54cd\n             2.\u5728\u5b83\u4e4b\u540e\u7684\u6d77\u62a5\u5df2\u7ecf\u88ab\u5904\u7406\u8fc7\u4e86\u3002\n        \u6240\u4ee5\u8fd9\u5f20\u6d77\u62a5\u53ef\u89c1\n        \n\u4e3a\u4ec0\u4e48\u8bf4\u7ebf\u6bb5\u6811\u5e76\u4e0d\u9700\u8981\u5199\u5b8c\u6574\u5462\uff0cemmm\n\n1. build\u53ef\u4ee5\u7701\u4e86\uff0c\u61d2\u5f97\u89e3\u91ca\n1. lazy\u6807\u8bb0\u53ef\u4ee5\u6254\u4e86\uff0c\u5982\u679c\u67d0\u4e2a\u533a\u95f4\u88ab\u5b8c\u5168\u8986\u76d6\u4e86\uff0c\u90a3\u4e5f\u4e0d\u7528\u5411\u5b83\u7684\u5b50\u533a\u95f4\u641c\u7d22\u4e86\uff0c\u6240\u4ee5\u4e0d\u5411\u4e0b\u4f20\u9012\u8986\u76d6\u4fe1\u606f\u4e5f\u662f\u6ca1\u95ee\u9898\u7684\u3002\n1. \u7ef4\u62a4\uff1f\u4e0d\u5b58\u5728\u7684\u3002\n\n\u672c\u9898\u6570\u636e\u91cf\u5f88\u5c0f\uff0c\u4e0d\u9700\u8981\u79bb\u6563\u5316\uff0c\u4f46\u662f\u60a8\u8981\u662f\u5199\u4e86\u8fd9\u6837\u7684\u4e1c\u897f\n```\nint L[N<<2],R[N<<2]\n```\n\u90a3\u4e5f\u662f\u4f1aMLE\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5199\u6210\u4e0b\u9762\u8fd9\u4e2a\u6837\u5b50\uff0c\u8c03\u7528insert(modify)\u65f6\uff0c\u628a\u5f53\u524d\u533a\u95f4\u7684\u5de6\u53f3\u8fb9\u754c\u4f20\u8fdb\u53bb\u3002\u89c1\u4ee3\u7801\u3002\n\u7ebf\u6bb5\u6811\u8fd9\u4e2a\u4e1c\u897f\uff0c\u6700\u597d\u8fd8\u662f\u80cc\u4e24\u5957\u6a21\u677f\uff0c\u4e00\u5957\u7b80\u5355\u5bb9\u6613\u7406\u89e3\u7684\uff08\u53ef\u4ee5\u770bsol\u7684\u8bb2\u4e49\uff0c\u6216\u8005juruo\u7684\u6211\u53d1\u7684\u9898\u89e3\uff09\uff0c\u4e00\u5957\u7701\u4e86\u5b58\u50a8\u6bcf\u4e2a\u533a\u95f4\u5de6\u53f3\u7aef\u70b9\u7684\uff08\u53ef\u80fd\u6bd4\u8d77\u524d\u8005\u591a\u5199\u4e2a10\u884c\u5de6\u53f3\uff09\n\n\n```\n//P3740 [HAOI2014]\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\nconst int N=10000000+1;\nconst int M=1000+10;\nint Cover[N<<2];\nint n,m;\nint ans;\nint a[M],b[M];\n#define lc(o) (o<<1)\n#define rc(o) ((o<<1)|1)\nvoid pushup(int o){\n  Cover[o]=(Cover[lc(o)]&Cover[rc(o)]);\n}\nint beCovered=1;\nvoid insert(int o,int l,int r,int L,int R){\n  if(Cover[o]) return ;\n  if(l<=L&&R<=r&&(!Cover[o])){\n    Cover[o]=1;\n    beCovered=0;\n    return ;\n  }\n  int mid=(L+R)>>1;\n  if(l<=mid)\n    insert(lc(o),l,r,L,mid);\n  if(r>mid)\n    insert(rc(o),l,r,mid+1,R);\n\n  pushup(o);\n}\nint main(){\n  cin>>n>>m;\n  for(int i=0;i<m;i++)\n    cin>>a[i]>>b[i];\n\n  for(int i=m-1;i>=0;i--){\n    beCovered=1;\n    insert(1,a[i],b[i],1,n);\n    if(!beCovered) ans++;\n  }\n  cout<<ans<<endl;\n\n  return 0;\n}\n\n```\n\n",
        "postTime": 1518007786,
        "uid": 15295,
        "name": "hehelego",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "# \u5e74\u7eaa\u8f7b\u8f7b\u5199\u4ec0\u4e48\u7ebf\u6bb5\u6811\uff0c\u4f60\u8bf4\u73c2\u6735\u8389\u6811\u4e0d\u9999\u4e48\uff1f\uff1f\uff1f\n\n\u4e0d\u61c2\u73c2\u6735\u8389\u6811\u7684\u540c\u5b66\u53ef\u4ee5\u770b\u770boi wiki\u7684[\u4ecb\u7ecd](https://oi-wiki.org/ds/odt/)\n\n\u7b80\u5355\u6765\u8bf4\u73c2\u6735\u8389\u6811\u7684\u539f\u7406\u5c31\u662f\u7ef4\u62a4\u62e5\u6709\u76f8\u540c\u5143\u7d20\u7684\u533a\u95f4\n\n```cpp\nstruct Node {\n\tmutable int l, r;\n\tmutable int id;\n\tauto operator<(const Node & o) const -> bool {\n\t\treturn l < o.l;\n\t}\n};\n```\n\u5177\u4f53\u5230\u672c\u9898\u5c31\u662f\u5c06\u4e00\u6574\u5f20\u6d77\u62a5\u7684\u533a\u95f4\u5f53\u4f5c\u4e00\u4e2a\u8282\u70b9\uff0c\u6bcf\u4e2a\u4e0d\u540c\u7684\u6d77\u62a5\u7684\u533a\u95f4\u67d3\u4e0a\u4e0d\u540c\u7684\u989c\u8272\uff0c\u52a0\u5165\u65b0\u7684\u6d77\u62a5\u5c31\u76f8\u5f53\u4e8e\u73c2\u6735\u8389\u6811\u7684  _assign_  \u64cd\u4f5c\n\n\u6700\u540e\u66b4\u529b\u7684\u626b\u4e00\u904d[1, 0] (\u6574\u4e2a\u5899)\u8fd9\u4e2a\u533a\u95f4 \u8bb0\u5f55\u8bbf\u95ee\u5230\u7684\u989c\u8272\u7684\u79cd\u7c7b(\u521d\u59cb\u65f6\u6574\u4e2a\u5899\u56f4\u4e00\u6574\u4e2a\u533a\u95f4 \u989c\u8272id\u4e3a0)\n\n```cpp\n#include <iostream>\n#include <algorithm>\n#include <set>\n\nusing namespace std;\n\nstruct Node {\n\tmutable int l, r;\n\tmutable int id;\n\tauto operator<(const Node & o) const -> bool {\n\t\treturn l < o.l;\n\t}\n};\nusing Iter = set<Node>::iterator;\n\nset<Node> odt;\n\n//\u7528\u4e8e\u8bb0\u5f55\u989c\u8272\u7684\u96c6\u5408\nset<int> colors;\n\nauto split(int p) -> Iter {\n\tauto it = odt.lower_bound(Node {p, 0, 0});\n\tif(it != odt.end() && it->l == p) {\n\t\treturn it;\n\t}\n\t--it;\n\tauto x = *it;\n\todt.erase(it);\n\todt.insert(Node {x.l, p - 1, x.id});\n\treturn odt.insert(Node {p, x.r, x.id}).first;\n}\n\nauto assign(int x, int y, int id) -> void {\n\t//\u8bb0\u5f97\u5148split y + 1 \u518d split x\n\tauto iterR = split(y + 1);\n\tauto iterL = split(x);\n\todt.erase(iterL, iterR);\n\todt.insert(Node {x, y, id});\n}\n\nauto countColor(int x, int y) -> int {\n\tauto iterR = split(y + 1);\n\tauto iterL = split(x);\n\tfor(; iterL != iterR; ++iterL) {\n\t\tif(iterL->id != 0) {\n\t\t\tcolors.insert(iterL->id);\n\t\t}\n\t}\n\t//size\u5373\u4e3a\u989c\u8272\u6570\n\treturn colors.size();\n}\n\nint main() {\n\t//\u52a0\u901fcin cout\n\tios::sync_with_stdio(false);\n\tcin.tie(nullptr);\n\tcout.tie(nullptr);\n\tint n, m;\n\tcin >> n >> m;\n\t//\u521d\u59cb\u65f6\u6574\u4e2a\u533a\u95f4\u989c\u8272id\u4e3a0\n\todt.insert(Node {1, n, 0});\n\tfor (int i = 1; i <= m; ++i) {\n\t\tint l, r;\n\t\tcin >> l >> r;\n\t\t//\u7ed9\u6d77\u62a5\u533a\u95f4\u67d3\u8272 \u6bcf\u4e2a\u533a\u95f4\u989c\u8272\u4e0d\u540c\n\t\tassign(l, r, i);\n\t}\n\tcout << countColor(1, n) << endl;\n\n\treturn 0;\n}\n```\n ",
        "postTime": 1573570822,
        "uid": 146652,
        "name": "\u4e07\u7269\u4e00",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "  \u8fd9\u9053\u9898\u53ef\u4ee5\u7406\u89e3\u4e3a\u7ed9\u8fde\u7eed\u7684\u4e00\u6bb5\u533a\u95f4\u67d3\u8272\uff0c\u7136\u540e\u6700\u540e\u8be2\u95ee\u53ef\u4ee5\u770b\u89c1\u591a\u5c11\u79cd\u989c\u8272\u3002\u9898\u76ee\u5e76\u4e0d\u590d\u6742\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u8003\u8651\uff0c\u6700\u540e\u653e\u4e0a\u53bb\u7684\u6d77\u62a5\u4e00\u5b9a\u4e0d\u4f1a\u88ab\u4efb\u4f55\u6d77\u62a5\u906e\u6321\uff0c\u4e8e\u662f\u53ef\u4ee5\u5148\u628a\u6d77\u62a5\u5b58\u4e0b\u6765\uff0c\u7136\u540e\u5728\u533a\u95f4\u4e0a\u9006\u5e8f\u64cd\u4f5c\uff0c\u9700\u8981\u7684\u64cd\u4f5c\u6709\uff1a\n -  1\u3001\u8be2\u95ee\u4e00\u4e2a\u533a\u95f4\u662f\u5426\u88ab\u5b8c\u5168\u67d3\u8272\u3002\n - 2\u3001\u4f7f\u4e00\u4e2a\u533a\u95f4\u5168\u90e8\u67d3\u8272\u3002\n \n  \u5f88\u660e\u663e\u8fd9\u53ef\u4ee5\u7ebf\u6bb5\u6811\u6765\u7ef4\u62a4\uff0c\u7528\u4e00\u4e2a\u6807\u8bb0\u6765\u8868\u793a\u533a\u95f4\u662f\u5426\u88ab\u5b8c\u5168\u67d3\u8272\uff0c\u4f20\u9012\u4fe1\u606f\u53ef\u4ee5\u7528\u6309\u4f4d\u4e0e\u201c&\u201d\u6765\u652f\u6301\uff0c \u7136\u540espread\u7b49\u4e0b\u4f20\u64cd\u4f5c\u540c\u7ebf\u6bb5\u6811\u6a21\u677f\u3002\n  \n   \u4f46\u8fd9\u9898\u6570\u636e\u8303\u56f4\u5f88\u5927\uff0c\u9700\u8981\u79bb\u6563\u5316\uff0c\u7b2c\u4e00\u6b21\u505a\u8fd9\u9053\u9898\u7684\u65f6\u5019\u53ea\u670970\u5206\uff0c\u5173\u952e\u5c31\u5728\u4e8e\u79bb\u6563\u5316\u662f\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\u7684\uff0c\u7b2c\u4e00\u79cd\u662f\u8fde\u7eed\u6027\uff0c\u7b2c\u4e8c\u79cd\u662f\u79bb\u6563\u578b\uff0c\u6240\u8c13\u79bb\u6563\u578b\u7684\u533a\u95f4\u5c31\u662f\u533a\u95f4\u4e2d\u7684\u70b9\u96c6\uff0c\u4f8b\u5982[3,8]\u5c31\u4ee3\u8868\u4e86{3,4,5,6,7,8}\uff0c\u800c\u53e6\u4e00\u79cd\u8fde\u7eed\u6027\u5219\u5728\u6570\u8f74\u4e0a\u662f\u4ee5\u4e00\u6761\u7ebf\u6bb5\u6765\u4f53\u73b0\u7684\uff0c\u8fd9\u9053\u9898\u5c31\u662f\u8fde\u7eed\u578b\u7684\u79bb\u6563\u5316\uff0c\u4e8e\u662f\u5c31\u8981\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c\u4ee5\u9632\u76f8\u90bb\u7684\u533a\u95f4\u5c06\u4e24\u4e2a\u7aef\u70b9\u7ed9\u8bef\u8986\u76d6\u4e86\uff0c\u6211\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u79bb\u6563\u4e09\u4e2a\u5173\u952e\u70b9\uff0c\u9664\u4e86\u5de6\u53f3\u7aef\u70b9\u5916\uff0c\u518d\u79bb\u6563\u4e00\u4e2a\u53f3\u7aef\u70b9+1\u7684\u70b9\uff0c\u95ee\u9898\u5c31\u89e3\u51b3\u4e86\u3002\n   \n  \u4e0a\u4ee3\u7801\uff1a\n  ```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int SIZE=1e4+10;\nstruct node {\n\tint l,r;\n\tbool data,add;\n} t[4*SIZE];\nint n,Left[SIZE],Right[SIZE],m;\nint num[5*SIZE],ans,cnt,tot;\nvoid build(int p,int l,int r) {\n\tt[p].l=l,t[p].r=r;\n\tif(l==r) {\n\t\tt[p].data=false;\n\t\treturn;\n\t}\n\tint mid=(l+r)/2;\n\tbuild(p*2,l,mid);\n\tbuild(p*2+1,mid+1,r);\n}\nvoid spread(int p) {\n\tif(t[p].add) {\n\t\tt[p*2].data=1;\n\t\tt[p*2+1].data=1;\n\t\tt[p*2].add=1;\n\t\tt[p*2+1].add=1;\n\t\tt[p].add=0;\n\t}\n}\nvoid change(int p,int l,int r) {\n\tif(l<=t[p].l&&r>=t[p].r) {\n\t\tt[p].data=1;\n\t\tt[p].add=1;\n\t\treturn;\n\t}\n\tspread(p);\n\tint mid=(t[p].l+t[p].r)/2;\n\tif(l<=mid) change(p*2,l,r);\n\tif(r>mid) change(p*2+1,l,r);\n\tt[p].data=(t[p*2].data&t[p*2+1].data);\n}\nbool ask(int p,int l,int r) {\n\tif(l<=t[p].l&&r>=t[p].r) {\n\t\treturn t[p].data;\n\t}\n\tspread(p);\n\tint mid=(t[p].l+t[p].r)/2;\n\tbool val=1;\n\tif(l<=mid) val&=ask(p*2,l,r);\n\tif(r>mid) val&=ask(p*2+1,l,r);\n\treturn val;\n}\nint query(int x){\n\treturn lower_bound(num+1,num+tot+1,x)-num;\n}\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1; i<=m; i++){\n\t\tscanf(\"%d%d\",&Left[i],&Right[i]);\n\t\tnum[++cnt]=Left[i];\n\t\tnum[++cnt]=Right[i];\n\t\tnum[++cnt]=Right[i]+1;//\u8fd9\u5c31\u662f\u79bb\u6563\u53f3\u7aef\u70b9+1\u7684\u70b9\n\t}\n\tsort(num+1,num+cnt+1);\n\ttot=unique(num+1,num+cnt+1)-(num+1);\n\tbuild(1,1,tot+10);\n\tfor(int i=m; i>=1; i--) {\n\t\tint Le=query(Left[i]),Ri=query(Right[i]);\n\t\tif(!ask(1,Le,Ri)){\n\t\t\tans++;\n\t\t\tchange(1,Le,Ri);\n\t\t}\n\t}\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1571388916,
        "uid": 55568,
        "name": "le_\u661f\u8fb0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "# \u4e0d\u592a\u6562\u76f8\u4fe1\u8fd9\u662f\u4e00\u9053\u7eff\u9898\u3002\u3002\u3002\n## \u5404\u4f4d\u5927\u4f6c\u7684\u9898\u89e3\u90fd\u592a\u6b63\u786e\u4e86\uff0c\u6211\u5c31\u7ed9\u4e00\u7bc7\u6700\u66b4\u529b\u7684\u5427\uff01\n\n1.  \u6d77\u62a5\u7528k\u8868\u793a\uff0c\u6bcf\u6b21\u65b0\u7684\u4e00\u5f20\u5219\u901a\u8fc7k++\u6765\u533a\u522b\u3002\n\n2.  \u5728[a,b]\u7684\u533a\u95f4\u5185\uff0c\u7ed9\u6bcf\u4e00\u4e2at[i]\u90fd\u8d4b\u503c\u4e3a\u65b0\u7684k\uff08\u539f\u6709\u503c\u7684\u8986\u76d6\u6389\uff09\u3002\n\n3. \u5224\u65ad[1,n]\u662f\u5426\u5168\u88ab\u8986\u76d6\u3002\u662f\u5219\u4ee4w=0\uff0c\u5426\u5219w=1\u3002\uff08\u6700\u540e\u8981\u51cf\u6389w\uff09\u3002\n\n4. \u5982\u679c\u6709\u4e0d\u540c\u7684\u6d77\u62a5\u9732\u51fa\u6765\uff08\u5373g[i]\u6709\u4e0d\u540c\u7684\u503c\u51fa\u73b0\uff09\uff0csum++\uff08\u8ba1\u6570\uff09\u3002\n\n5. sum-w\u5373\u4e3a\u7b54\u6848\u3002\n\n------------\n### ~~\u672c\u4ee5\u4e3a\u662f\u4e00\u9053\u7ebf\u6bb5\u6811\uff0c\u7ed3\u679c\u88ab\u9a97\u4e86\u3002~~\n\n------------\n\n\n$\\color{red}\\text{\u9644AC\u4ee3\u7801\uff1a}$\n```cpp\n#include<bits/stdc++.h>\n#define maxn 10000009\nusing namespace std;\nlong long int n,m,sum,w,k;\nint t[maxn],g[maxn];\n\ntemplate<typename T>\nvoid read(T &x){\n\tx=0;int f=1;char ch=getchar();\n\twhile(ch>'9'||ch<'0'){\n\t\tif (ch=='-') f=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9'){\n\t\tx=x*10+ch-'0';\n\t\tch=getchar();\n\t}\n\tx*=f;\n}\nint main(){\n\tread(n),read(m);\n\tfor (int i=1;i<=m;i++){\n\t\tint a,b;\n\t\tread(a),read(b);\n\t\tk++;//\u66f4\u65b0k\u3002\n\t\tfor (int j=a;j<=b;j++)\n\t\t\tt[j]=k;//\u5728[a,b]\u7684\u533a\u95f4\u5185\uff0c\u7ed9\u6bcf\u4e00\u4e2at[i]\u90fd\u8d4b\u503c\u4e3a\u65b0\u7684k\uff08\u539f\u6709\u503c\u7684\u8986\u76d6\u6389\uff09\u3002\n\t\t\n\t}\n\tfor (int i=1;i<=n;i++){\n\t\tif(t[i]==0){\n\t\t\tw=1;break;//\u5224\u65ad[1,n]\u662f\u5426\u5168\u88ab\u8986\u76d6\u3002\u662f\u5219\u4ee4w=0\uff0c\u5426\u5219w=1\u3002\uff08\u6700\u540e\u8981\u51cf\u6389w\uff09\u3002\n\t\t}\n\t}\n\tfor (int i=1;i<=n;i++){\n\t\tif(g[t[i]]==0){\n\t\t\tsum++;g[t[i]]=1;//\u5982\u679c\u6709\u4e0d\u540c\u7684\u6d77\u62a5\u9732\u51fa\u6765\uff08\u5373g[i]\u6709\u4e0d\u540c\u7684\u503c\u51fa\u73b0\uff09\uff0csum++\uff08\u8ba1\u6570\uff09\u3002\n\t\t}\n\t}\n\tcout<<sum-w;//sum-w\u5373\u4e3a\u7b54\u6848\u3002\n\treturn 0;\n}\n\n\n```\n$\\color{green}\\text{\u597d\u4e86\u5c31\u662f\u8fd9\u6837\uff0c\u795d\u5927\u5bb6\u5207\u7eff\u9898\u6109\u5feb\uff01}$",
        "postTime": 1569071728,
        "uid": 234293,
        "name": "nju_zdd",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u5199\u9898\u89e3\n\n\u5012\u5e8f\u67d3\u8272\uff08\u8fd9\u6837\u67d3\u5b8c\u7684\u989c\u8272\u5c31\u4e0d\u4f1a\u88ab\u8986\u76d6\uff09\uff0c\u7ebf\u6bb5\u6811\u7ef4\u62a4\u662f\u5426\u67d3\u8272\uff0c\u6bcf\u6b21\u67d3\u8272\u65f6\u52a0\u5165\u533a\u95f4\uff0c\u82e5\u6210\u529f\u67d3\u8272\uff0c\u7b54\u6848 ++\n\n\u7ebf\u6bb5\u6811\u66f4\u65b0\u65f6\u66f4\u65b0\u5230\u6700\u5e95\u5c42\u5b50\u8282\u70b9\u53ca\u4e0d\u9700\u8981\u4e0b\u4f20\u6807\u8bb0\uff0c\u4f46\u9700\u8981\u56de\u6eaf\u65f6\u7684\u4e0a\u4f20\u66f4\u65b0\n\n```cpp\n#include<cstdio>\n#define maxn 10000001\nusing namespace std;\nint n,m,ans = 0;\nbool flag;\nint b[2001];\nint e[2001];\nbool tree[maxn * 4];\nvoid update(int now)//\u5de6\u53f3\u4e24\u4e2a\u533a\u95f4 \u90fd\u67d3\u8272\u4e86\uff0c\u90a3\u4e48\u8fd9\u4e2a\u533a\u95f4\u4e5f\u67d3\u5b8c\u4e86\n{\n    tree[now] = tree[now << 1] && tree[now << 1 | 1];\n}\nint read()\n{\n    int num = 0;\n    int f = 1;\n    char c = getchar();\n    while (c > '9' || c <'0')\n    {\n        if(c == '-')\n          f = -1;\n        c = getchar();\n    }\n    while(c >= '0' && c <= '9')\n    {\n        num *= 10;\n        num += c - '0';\n        c = getchar();\n    }\n    return f * num;\n}\nvoid add(int l,int r,int now,int ln,int rn)\n{\n    if(l > rn ||r < ln)return;\n    if(tree[now])return;\n    if( l == r) //\u67d3\u8272\u7684\u6700\u5e95\u5c42\u8282\u70b9\n    {\n        flag = true;\n        tree[now] = true;\n        return;\n    }\n    int mid = (l + r) >> 1;\n    add(l,mid,now << 1,ln,rn);\n    add(mid + 1,r,now << 1 | 1,ln,rn);\n    update(now);\n}\nint main()\n{\n    n = read();m = read();\n    for(int i = 1;i <= m;i ++)\n    {\n        b[i] = read();e[i] = read();\n    }\n    for(int i = m;i >= 1;i --)\n    {\n        flag = false;\n        add(1,n,1,b[i],e[i]);\n        if(flag)ans ++;    //\u82e5\u67d3\u8272\u589e\u52a0\u8ba1\u6570\u5668\n    }\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1495853719,
        "uid": 39865,
        "name": "fastle",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u6570\u636e\u6c34\u7684\u4e00\u903c\u554a\u3002\u3002\u3002\u3002\n\n\u76f4\u63a5\u66b4\u529b\u5c31\u80fd\u8fc7\u5427\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nconst int MAXN=10000001;\nint n,m,x,y;\nint read(int & n)\n{\n    char c='/';int x=0,flag=0;\n    while(c<'0'||c>'9')\n    {c=getchar();\n    if(c=='-')flag=1;}\n    while(c>='0'&&c<='9')\n    {x=x*10+c-48;c=getchar();}\n    if(flag)n=-x;\n    else n=x;\n    return n;\n}\nint a[MAXN];\nint vis[MAXN];\nint now=1;\nint ans=0;\nint main()\n{\n    //freopen(\"a.in\",\"r\",stdin);\n    //freopen(\"b.out\",\"w\",stdout);\n    read(n);read(m);\n    for(int i=1;i<=m;i++)\n    {\n        read(x);read(y);\n        if(x>y)swap(x,y);\n        for(int j=x;j<=y;j++)\n        a[j]=i;\n    }\n    for(int i=1;i<=n;i++)\n    {\n        if(vis[a[i]]==0&&a[i]!=0)\n        {\n            ans++;\n            vis[a[i]]=1;\n        }\n    }\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1495796532,
        "uid": 36984,
        "name": "attack",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u9898\u89e3\u91cc\u5404\u4f4d\u90fd\u7528\u7684\u7ebf\u6bb5\u6811\u3001\u6d6e\u6c34\u6cd5\uff0c\u672c\u849f\u84bb\u5b8c\u5168\u4e0d\u4f1a\uff0c\u8fd9\u91cc\u7ed9\u51fa\u6211\u7684\u65b9\u6cd5\uff0c\u65e2\u6ca1\u6709\u7ebf\u6bb5\u6811\u4e5f\u6ca1\u6709\u6d6e\u6c34\u6cd5\uff0c\u8f83\u4e3a\u6613\u61c2\uff08?\uff09\u3002\n\n\u53ef\u4ee5\u53d1\u73b0$n$\u7684\u8303\u56f4\u6781\u5176\u5927\uff0c\u4f46\u662f$m$\u7684\u8303\u56f4\u5f88\u5c0f\uff0c\u53ea\u67091000\uff0c\u6240\u4ee5\u53ef\u4ee5\u60f3\u5230\u4e00\u4e2a\u5927\u81f4\u4e3a$m^2$\u7684\u7b97\u6cd5\u3002\n\n\u5047\u8bbe\u8f93\u5165\u987a\u5e8f\u4ee3\u8868\u65f6\u95f4\u987a\u5e8f\uff0c\u4e00\u884c\u4e3a\u4e00\u5929\uff08\u8fd9\u6837\u597d\u7406\u89e3\uff09\n\n\u6bcf\u5f53\u4e00\u5f20\u6d77\u62a5\u8d34\u5230\u5899\u4e0a\u65f6\uff0c\u53ea\u9700\u8981\u77e5\u9053\u8fd9\u5f20\u6d77\u62a5\u5bf9\u4ee5\u524d\u8d34\u7684\u6d77\u62a5\u9020\u6210\u4e86\u4ec0\u4e48\u5f71\u54cd\u5373\u53ef\u3002\n\n\u5177\u4f53\u4fee\u6539\u65b9\u6cd5\uff1a\u901a\u8fc7\u4fee\u6539\u4e00\u5f20\u6d77\u62a5\u5de6\u7aef\u70b9\u53f3\u7aef\u70b9\u4f4d\u7f6e\u5b9e\u73b0\u3002\n\n\u5047\u8bbe\u4e00\u5f20\u6d77\u62a5\u5de6\u7aef\u70b9\u4e3a$l_i$\uff0c\u53f3\u7aef\u70b9\u4e3a$r_i$\n\n\uff08\u6ce8\uff1a\u4e0b\u5217\u56fe\u4e2d\u7ea2\u8272\u8868\u793a\u4ee5\u524d\u8d34\u7684\u6d77\u62a5\uff0c\u84dd\u8272\u8868\u793a\u4eca\u5929\u8d34\u7684\u6d77\u62a5\uff09\n\n-  \u60c5\u51b5\u4e00\uff1a\u5b8c\u5168\u8986\u76d6\uff0c\u5982\u56fe\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mdti1arm.png)\n\n\u53ef\u4ee5\u4e13\u95e8\u8bbe\u8ba1\u4e00\u4e2abool\u6570\u7ec4\uff0c$u_i=1$\u8868\u793a\u8fd9\u4e2a\u6d77\u62a5\u6ca1\u6709\u7528\u4e86\u3002\n\n- \u60c5\u51b5\u4e8c\uff1a\u6beb\u4e0d\u76f8\u5173\uff0c\u5982\u56fe\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/t5zacxo1.png)\n\n\u8fd9\u65f6\u6211\u4eec\u4e0d\u7528\u7ba1\u5c31\u884c\u3002\n\n- \u60c5\u51b5\u4e09\uff1a\u8986\u76d6\u4e86\u5de6\u8fb9\u90e8\u5206\uff0c\u5982\u56fe\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/kp7szukv.png)\n\n\u6b64\u65f6\u8981\u5c06\u7ea2\u8272\u6d77\u62a5\u7684\u5de6\u7aef\u70b9\u632a\u5230\u84dd\u8272\u6d77\u62a5\u53f3\u7aef\u70b9\u7684\u53f3\u8fb9\u3002\n\n\u56e0\u4e3a\u7ea2\u8272\u6d77\u62a5\u7684\u5730\u76d8\u88ab\u84dd\u8272\u6d77\u62a5\u76d6\u6389\u4e86\u4e00\u90e8\u5206\uff0c\u90a3\u4e00\u90e8\u5206\u5df2\u7ecf\u4e0d\u518d\u662f\u7ea2\u8272\u6d77\u62a5\u7684\u5730\u76d8\u4e86\uff0c\u53ef\u4ee5\u89c6\u4e3a\u7ea2\u8272\u6d77\u62a5\u672c\u6765\u5c31\u6ca1\u6709\u8fd9\u4e2a\u5730\u76d8\u3002\n\n- \u60c5\u51b5\u56db\uff1a\u8986\u76d6\u4e86\u53f3\u8fb9\u90e8\u5206\uff0c\u5982\u56fe\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vbca6gly.png)\n\n\u5c06\u7ea2\u8272\u6d77\u62a5\u7684\u53f3\u7aef\u70b9\u632a\u5230\u84dd\u8272\u6d77\u62a5\u5de6\u7aef\u70b9\u7684\u5de6\u8fb9\u3002\n\n- \u60c5\u51b5\u4e94\uff0c\u4e5f\u662f\u6700\u9ebb\u70e6\u7684\uff0c\u521a\u597d\u5288\u5f00\u4e86\u4ee5\u524d\u7684\u6d77\u62a5\uff0c\u5982\u56fe\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/p3fisct3.png)\n\n\u8fd9\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u89c6\u4e3a\u8fd9\u4e2a\u7ea2\u8272\u6d77\u62a5\u4e0d\u518d\u662f\u4e00\u4e2a\u6574\u4f53\u4e86\uff0c\u800c\u662f\u53d8\u6210\u4e86\u989c\u8272\u76f8\u540c\u7684\u4e24\u5f20\u6d77\u62a5\u3002\n\n\u7b2c\u4e00\u5f20\u6d77\u62a5\u7684$l_j$\u8fd8\u662f\u539f\u6765\u7684\u7ea2\u8272\u6d77\u62a5\u7684$l_i$\uff0c\u800c$r_j$\u53d8\u6210\u4e86\u84dd\u8272\u6d77\u62a5\u5de6\u7aef\u70b9\u7684\u5de6\u8fb9\u3002\n\n\u7b2c\u4e8c\u5f20\u6d77\u62a5\u7684$l_k$\u53d8\u6210\u4e86\u84dd\u8272\u6d77\u62a5\u53f3\u7aef\u70b9\u7684\u53f3\u8fb9\uff0c\u800c$r_k$\u8fd8\u662f\u539f\u6765\u7684\u7ea2\u8272\u6d77\u62a5\u7684$r_i$\u3002\n\n\u4e3a\u4e86\u907f\u514d\u7edf\u8ba1\u65f6\u8ba4\u6210\u4e24\u5f20\u4e0d\u540c\u7684\u6d77\u62a5\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4e00\u4e2a\u6570\u7ec4$d$\uff0c$d_i$\u6765\u6807\u8bb0\u5b83\u7684\u989c\u8272\uff0c\u591a\u5f20\u6d77\u62a5\u989c\u8272\u76f8\u540c\u5c31\u89c6\u4e3a\u8fd9\u4e9b\u6d77\u62a5\u662f\u540c\u4e00\u5f20\u6d77\u62a5\u3002\n\n\u5230\u8fd9\u91cc\uff0c\u6bcf\u5f20\u6d77\u62a5\u7684\u4fe1\u606f\u70b9\u5c31\u51fa\u6765\u4e86\uff0c$l$\u8868\u793a\u5de6\u7aef\u70b9\u4f4d\u7f6e\uff0c$r$\u8868\u793a\u53f3\u7aef\u70b9\u4f4d\u7f6e\uff0c$u$\u8868\u793a\u662f\u5426\u6c38\u8fdc\u79bb\u5f00\u4e86\u8fd9\u9762\u5899\uff0c$d$\u8868\u793a\u989c\u8272\u3002\n\n\u56e0\u4e3a\u6211\u4eec\u968f\u65f6\u6709\u53ef\u80fd\u5728\u589e\u52a0\u65b0\u6d77\u62a5\uff0c\u6d77\u62a5\u603b\u6570\u662f\u4e0d\u53ef\u4f30\u91cf\u7684\uff0c\u6240\u4ee5\u8981\u7528C++\u7684STL\u4e2d\u7684vector\n\n\u5982\u679c\u4e0d\u6e05\u695avector\u7684\u8bdd\uff0c\u76f4\u63a5\u628a\u4ed6\u7406\u89e3\u6210\u4e00\u4e2a\u53ef\u4ee5\u81ea\u52a8\u4f38\u7f29\u957f\u77ed\u7684\u6570\u7ec4\uff0c\u6709\u4e00\u4e2a\u53ebpush_back\u7684\u51fd\u6570\u53ef\u4ee5\u5728\u8fd9\u4e2a\u6570\u7ec4\u540e\u9762\u6324\u8fdb\u53bb\u4e00\u4e2a\u6570\u3002\n\n ```cpp\nstruct photo{\n\tint l,r,d;\n\tbool u;\n};\nvector<photo> a;\n```\n\u4e0b\u9762\u7684\u7801\u98ce\u8fc7\u4e11\uff0c\u9700\u8981\u9010\u884c\u7406\u89e3\u3002\n ```cpp\nfor(register int i=1;i<=m;++i){\n\tphoto p;\n    s=a.size(); //\u56e0\u4e3a\u6d77\u62a5\u603b\u6570\u4e0d\u4e00\u5b9a\u662fm\u4e86\uff08\u60c5\u51b5\u4e94\u4f1a\u589e\u52a0\u6d77\u62a5\u6570\uff09\uff0c\u6240\u4ee5\u9700\u8981\u5b9e\u65f6\u66f4\u65b0\u6d77\u62a5\u6570\u91cf\n\tp.l=read();\n    p.r=read();\n    p.d=i;// \u7b2ci\u4e2a\u6d77\u62a5\u989c\u8272\u6807\u8bb0\u4e3ai\uff0c\u7edd\u5bf9\u5c31\u4e0d\u4f1a\u641e\u6df7\u4e86\n    p.u=0;//\u521a\u8d34\u7684\u6d77\u62a5\u4e0d\u53ef\u80fd\u5168\u88ab\u8986\u76d6\n\n    // \u8d34\u6d77\u62a5\u524d\u9700\u8981\u5ba1\u6838\uff0c\u770b\u770b\u8fd9\u5f20\u6d77\u62a5\u9020\u6210\u7684\u5f71\u54cd\n\n\tfor(register int j=s-1;j>=0;--j) if(!a[j].u){  // \u5982\u679c\u8fd9\u5f20\u6d77\u62a5\u5df2\u7ecf\u9635\u4ea1\u5c31\u8df3\u8fc7\n   \n\t\tif(p.l>a[j].r || p.r<a[j].l) continue;// \u6beb\u65e0\u5173\u7cfb\u5c31\u8df3\u8fc7\uff08\u60c5\u51b5\u4e8c\uff09\n\t\tif(p.l<=a[j].l && p.r>=a[j].r) {a[j].u=1;continue;} //\u5b8c\u5168\u8986\u76d6\uff0c\u6807\u8bb0\u4e00\u4e0b\u8fd9\u5f20\u6d77\u62a5\u51c9\u4e86\uff0c\u7136\u540e\u4e0d\u7ba1\u4e86\uff08\u60c5\u51b5\u4e00\uff09\n        \n\t\tif(p.l>a[j].l && p.l<a[j].r && p.r>a[j].l && p.r<a[j].r) a.push_back((photo){p.r+1,a[j].r,a[j].d,0}),a[j].r=p.l-1;\n        /*\n         * \u5982\u679c\u662f\u8981\u5288\u6210\u4e24\u534a\uff08\u60c5\u51b5\u4e94\uff09\uff0c\n         * \u653e\u4e00\u4e2a\u65b0\u7684\u6d77\u62a5\uff08\u548c\u539f\u6765\u6d77\u62a5\u989c\u8272\u4e00\u6837\uff09\uff0c\u518d\u66f4\u65b0\u539f\u6765\u6d77\u62a5\u5927\u5c0f\uff0c\n         * if\u91cc\u9762\u7684\u6761\u4ef6\u9700\u8981\u4ed4\u7ec6\u5480\u56bc\n         */\n        \n\t\tif(p.l>a[j].l && p.l<a[j].r) a[j].r=p.l-1; //\u60c5\u51b5\u56db\n\t\tif(p.r>=a[j].l && p.r<a[j].r) a[j].l=p.r+1;//\u60c5\u51b5\u4e09\n\n\t\tif(a[j].l>a[j].r) a[j].u=1; \n       // \u5982\u679c\u4e00\u5f20\u6d77\u62a5\u88ab\u6298\u78e8\u5230\u5de6\u7aef\u70b9\u5728\u53f3\u7aef\u70b9\u53f3\u8fb9\uff0c\u8bf4\u660e\u4ed6SPFA\u4e86\n\t}\n\ta.push_back(p); //\u6240\u6709\u4e8b\u60c5\u641e\u5b8c\u540e\uff0c\u8fd9\u5f20\u4e34\u65f6\u6d77\u62a5\u5c31\u5ba1\u6838\u901a\u8fc7\u8d34\u5899\u4e0a\u4e86\n}\n```\n\u6700\u7ec8\u6211\u4eec\u628a\u6240\u6709\u6d77\u62a5\u5ba1\u6838\u901a\u8fc7\u4e86\uff0c\u7136\u540e\u628a\u8fd9\u51e0\u5929\u7684\u6d3b\u7740\u7684\u6d77\u62a5\u6570\u4e00\u6570\u5c31\u884c\u3002\n ```cpp\nmap<int,bool> k;\t// k\u5b58\u50a8\u4e00\u4e2a\u989c\u8272\u662f\u5426\u51fa\u73b0\u8fc7\u4e86\n/*\n  * C++\u4e2d\u7684map\u53ef\u4ee5\u89c6\u4e3a\u4e00\u4e2a\u4e07\u80fd\u6570\u7ec4\uff0c\u5b83\u7684\u4e0b\u6807\u53ef\u4ee5\u662f\u4efb\u4f55\u4e1c\u897f\n  * map<int,bool> \u7c7b\u4f3c\u4e8e\u521b\u5efa\u4e00\u4e2a bool \u7c7b\u578b\u7684\u6570\u7ec4\uff0c\u5b83\u7684\u4e0b\u6807\u7684\u7c7b\u578b\u662f int\n  * \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cmap\u7684\u67e5\u8be2\u548c\u4fee\u6539\u4e0d\u662fO(1)\uff0c\u662fO(logn)\n  */\ns=a.size();\nfor(register int i=0;i<s;++i)\n\tif(!a[i].u && !k[a[i].d]){ // \u5982\u679c\u8fd9\u5f20\u6d77\u62a5\u8fd8\u201c\u6d3b\u7740\u201d\u800c\u4e14\u8fd8\u6ca1\u51fa\u73b0\u8fc7\n    \t++ans; // \u5899\u4e0a\u53c8\u591a\u4e86\u4e00\u5f20\u80fd\u88ab\u770b\u89c1\u8fc7\u7684\u6d77\u62a5\n        k[a[i].d]=1; // \u6807\u8bb0\u8fd9\u5f20\u6d77\u62a5\u51fa\u73b0\u8fc7\u4e86\uff0c\u907f\u514d\u4ee5\u540e\u53c8\u9047\u5230\u5b83\u5c31\u91cd\u590d\u7d2f\u52a0\n    }\nwrite(ans);\n```\n$\\color{Red}\\text{\u57fa\u672c\u5b8c\u6574\u4ee3\u7801}$\uff08\u7701\u7565\u4e86\u5feb\u8bfb\u5feb\u5199\u51fd\u6570\uff09\n\n ```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nint n,m,ans,s; // n\uff0cm\u548c\u9898\u610f\u4e00\u6837\uff0cans\u8868\u793a\u7b54\u6848\uff0cs\u8868\u793avector\u7684\u957f\u5ea6\nstruct photo{\n\tint l,r,d;\n\tbool u;\n};// \u6bcf\u4e2a\u53d8\u91cf\u4ec0\u4e48\u610f\u601d\u89c1\u4e0a\u6587\n\nvector<photo> a; // \u5b58\u6d77\u62a5\nmap<int,bool> k; // \u5224\u91cd\n\nint main(){\n\tn=read(),m=read();\n   \n\tfor(register int i=1;i<=m;++i){\n\tphoto p;\n    s=a.size(); //\u56e0\u4e3a\u6d77\u62a5\u603b\u6570\u4e0d\u4e00\u5b9a\u662fm\u4e86\uff08\u60c5\u51b5\u4e94\u4f1a\u589e\u52a0\u6d77\u62a5\u6570\uff09\uff0c\u6240\u4ee5\u9700\u8981\u5b9e\u65f6\u66f4\u65b0\u6d77\u62a5\u6570\u91cf\n\tp.l=read();\n    p.r=read();\n    p.d=i;// \u7b2ci\u4e2a\u6d77\u62a5\u989c\u8272\u6807\u8bb0\u4e3ai\uff0c\u7edd\u5bf9\u5c31\u4e0d\u4f1a\u641e\u6df7\u4e86\n    p.u=0;//\u521a\u8d34\u7684\u6d77\u62a5\u4e0d\u53ef\u80fd\u5168\u88ab\u8986\u76d6\n\n    // \u8d34\u6d77\u62a5\u524d\u9700\u8981\u5ba1\u6838\uff0c\u770b\u770b\u8fd9\u5f20\u6d77\u62a5\u9020\u6210\u7684\u5f71\u54cd\n\n\tfor(register int j=s-1;j>=0;--j) if(!a[j].u){  // \u5982\u679c\u8fd9\u5f20\u6d77\u62a5\u5df2\u7ecf\u9635\u4ea1\u5c31\u8df3\u8fc7\n   \n\t\tif(p.l>a[j].r || p.r<a[j].l) continue;// \u6beb\u65e0\u5173\u7cfb\u5c31\u8df3\u8fc7\uff08\u60c5\u51b5\u4e8c\uff09\n\t\tif(p.l<=a[j].l && p.r>=a[j].r) {a[j].u=1;continue;} //\u5b8c\u5168\u8986\u76d6\uff0c\u6807\u8bb0\u4e00\u4e0b\u8fd9\u5f20\u6d77\u62a5\u51c9\u4e86\uff0c\u7136\u540e\u4e0d\u7ba1\u4e86\uff08\u60c5\u51b5\u4e00\uff09\n        \n\t\tif(p.l>a[j].l && p.l<a[j].r && p.r>a[j].l && p.r<a[j].r) a.push_back((photo){p.r+1,a[j].r,a[j].d,0}),a[j].r=p.l-1;\n        /* \u5982\u679c\u662f\u8981\u5288\u6210\u4e24\u534a\uff08\u60c5\u51b5\u4e94\uff09\uff0c\n         * \u653e\u4e00\u4e2a\u65b0\u7684\u6d77\u62a5\uff08\u548c\u539f\u6765\u6d77\u62a5\u989c\u8272\u4e00\u6837\uff09\uff0c\u518d\u66f4\u65b0\u539f\u6765\u6d77\u62a5\u5927\u5c0f\uff0c\n         * if\u91cc\u9762\u7684\u6761\u4ef6\u9700\u8981\u4ed4\u7ec6\u5480\u56bc\n         */\n\t\tif(p.l>a[j].l && p.l<a[j].r) a[j].r=p.l-1; //\u60c5\u51b5\u56db\n\t\tif(p.r>=a[j].l && p.r<a[j].r) a[j].l=p.r+1;//\u60c5\u51b5\u4e09\n\n\t\tif(a[j].l>a[j].r) a[j].u=1; \n       // \u5982\u679c\u4e00\u5f20\u6d77\u62a5\u88ab\u6298\u78e8\u5230\u5de6\u7aef\u70b9\u5728\u53f3\u7aef\u70b9\u53f3\u8fb9\uff0c\u8bf4\u660e\u4ed6SPFA\u4e86\n\t}\n\ta.push_back(p); //\u6240\u6709\u4e8b\u60c5\u641e\u5b8c\u540e\uff0c\u8fd9\u5f20\u4e34\u65f6\u6d77\u62a5\u5c31\u5ba1\u6838\u901a\u8fc7\u8d34\u5899\u4e0a\u4e86\n}\n\ts=a.size();\n\tfor(register int i=0;i<s;++i)\n\t\tif(!a[i].u && !k[a[i].d]){ // \u5982\u679c\u8fd9\u5f20\u6d77\u62a5\u8fd8\u201c\u6d3b\u7740\u201d\u800c\u4e14\u8fd8\u6ca1\u51fa\u73b0\u8fc7\n  \t     ++ans; // \u5899\u4e0a\u53c8\u591a\u4e86\u4e00\u5f20\u80fd\u88ab\u770b\u89c1\u8fc7\u7684\u6d77\u62a5\n   \t     k[a[i].d]=1; // \u6807\u8bb0\u8fd9\u5f20\u6d77\u62a5\u51fa\u73b0\u8fc7\u4e86\uff0c\u907f\u514d\u4ee5\u540e\u53c8\u9047\u5230\u5b83\u5c31\u91cd\u590d\u7d2f\u52a0\n    \t}\n\twrite(ans);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1580968982,
        "uid": 181776,
        "name": "_Arahc_",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u770b\u5230\u8fd9\u9898\uff0c\u5dee\u70b9\u624b\u6296\u62cd\u4e86\u4e2a\u7ebf\u6bb5\u6811\u4e0a\u53bb\u3002\u7136\u540e\u4e00\u770b\u6570\u636e\u8303\u56f4\uff0c$0\\leq N\\leq10^7\\space\\space 1\\leq M\\leq1000$\n\n$\\Theta(nlogn)$\u4e0d\u592a\u7a33\uff0c\u4f46\u662f$\\Theta(m^2)$\u7a33\u5982\u72d7\u554a\u3002\n\n\u6240\u4ee5\u53ef\u4ee5\u8bfb\u5165n\u7136\u540e\u6254\u6389n\uff0c\u76f4\u63a5\u79bb\u7ebf\u8bfb\u5165\u7136\u540e\u5bf9\u6bcf\u4e2a\u6d77\u62a5\u679a\u4e3e\u5176\u6709\u6ca1\u6709\u88ab\u8986\u76d6\u3002\u5728\u5224\u8986\u76d6\u7684\u65f6\u5019\uff0c\u5148\u6309\u7167l\u6392\u5e8f\uff0c\u7136\u540e\u626b\u4e00\u904d\u5c31\u597d\u3002\n\n~~\u7ebf\u6bb5\u6811\u7684\u9898\u4e3a\u4ec0\u4e48\u8981\u7528\u7ebf\u6bb5\u6811\u505a\u5462~~\n\n\u9644\u66b4\u529b\u4ee3\u7801\uff1a\n\n```cpp\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nstruct poster\n{\n\tint l;\n\tint r;\n\tint time;\n};\n\nposter pi[1005];\n\nbool cmp(poster a,poster b)\n{\n\treturn a.l<b.l;\n}\n\nint main()\n{\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1; i<=m; ++i)\n\t{\n\t\tscanf(\"%d%d\",&pi[i].l,&pi[i].r);\n\t\tpi[i].time = i;\n\t}\n\t\n\tsort(pi+1,pi+1+m,cmp);\n\t\n\tint ans = 0;\n\tfor(int i=1; i<=m; ++i)\n\t{\n\t\tint thl = pi[i].l;\n\t\tfor(int j=1; j<=m; ++j) //\u5fc5\u987b\u4ece1\u5f00\u59cb\u626b\n\t\t{\n\t\t\tif(pi[j].l > thl) //\u80af\u5b9a\u6f0f\u98ce\u4e86\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(pi[j].time>pi[i].time && pi[j].r>=thl)\n\t\t\t{\n\t\t\t\tthl = pi[j].r+1;\n\t\t\t}\n\t\t\tif(thl>pi[i].r) //\u80af\u5b9a\u6ca1\u4e86\n\t\t\t{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(thl<=pi[i].r)\n\t\t{\n\t\t\t++ans;\n\t\t}\n\t}\n\t\n\tprintf(\"%d\",ans);\n}\n```",
        "postTime": 1564804371,
        "uid": 49458,
        "name": "\u6728\u6728\uff01",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "## \u611f\u89c9\u672c\u9898\u771f\u4e0d\u96be\n\u4e00\u770b\u9898\u76ee\uff0c\u4fbf\u89c9\u5f97\u5e94\u662f\u6570\u7ec4\u4e0a\u7684\u64cd\u4f5c\n\n#### \u6b63\u5e38\u601d\u7ef4\u80af\u5b9a\u662f\u4ece\u7b2c\u4e00\u5757\u60f3\u540e\u8986\u76d6\uff0c\u6700\u540e\u987a\u7740\u626b\u4e00\u904d\u8ba1\u6570\u8f93\u51fa\u3002\n\n\u8fd9\u5e94\u8be5\u4f1a**TLE**\u7684\u3002~~\u4f46\u636e\u8bf4\u8fc7\u4e86\u3002\uff08\u771f\u6c34\uff09~~\n\n\u9996\u5148\u6765\u770b\u79bb\u6563\u5316\uff0c\u5e76\u4e0d\u662f\u592a\u597d\u529e\u7684\u3002\n\n##### \u2026\u2026\u2026\u2026\u800c\u4e14\u96be\u5199\uff0c\u8fd9\u662f\u5173\u952e\uff01\uff01\uff01\n\n\u6240\u4ee5\u561b\uff0c\u4ece\u6700\u540e\u8d34\u4e0a\u53d6\u5f97\u4e00\u4e2a\u5f00\u59cb\u5c31\u53ef\u4ee5\u4e86\uff0c\u4e0d\u8986\u76d6\uff0c\u53ea\u6dfb\u52a0\u3002\n\n### ~~\uff08\u4e00\u4e0b\u89e3\u8bf4\u6709\u70b9\u8111\u6d1e\uff09~~\n\n\u65e2\u7136\u4ece\u5934\u5f80\u540e\u4e0d\u884c\uff0c\u4e3a\u4f55\u4e0d\u4ece\u7ed3\u675f\u72b6\u6001\u8003\u8651\uff1a\u8986\u5728\u540c\u4e00\u5c42\u4e0a\u7684\uff0c\u53ea\u6709\u6700\u540e\u4e00\u4e2a\u53ef\u4ee5\u770b\u89c1\u3002\u90a3\u4e48\uff0c\u6ca1\u8986\u8fc7\u7684\u8bb0\u4e3a0\uff0c\u8986\u76d6\u8fc7\u7684\u8bb0\u5f55\u7f16\u53f7\uff0c\u9047\u4e0a\u5df2\u88ab\u8986\u76d6\u8fc7\u7684\u683c\u5b50\uff0c\u76f4\u63a5\u8df3\u5230\u8be5\u683c\u5b50\u7f16\u53f7\u5bf9\u5e94\u7684\u672b\u5c3e\uff08\u5e94\u4e3a\u4fdd\u8bc1\u4e2d\u95f4\u4efb\u4f55\u4e00\u4e2a\u683c\u5b50\u662f\u5df2\u7ecf\u88ab\u8986\u76d6\u7684\uff09\u3002\n\n\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u732e\u4e0a31\u884c\u7684\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint num[10000010];\nint n,m,out; \nint in[10010][2];\nint main()\n{\n\tcin>>n>>m;\n\tfor(int i = 1;i <= m;i++)\n\t{\n\t\tcin>>in[i][0]>>in[i][1];\t\t//\u5148\u8bfb\u4e0b\u6765\n\t}\n\tfor(int i = m;i >= 1;i--)\t\t\t//\u4ece\u540e\u5411\u524d\n\t{\n\t\tbool l = 0;\n\t\tfor(int j = in[i][0];j <= in[i][1];j++)\n\t\t{\n\t\t\tif(num[j] == 0)\n\t\t\t{\n\t\t\t\tif(l == 0)\n\t\t\t\tout++;\t\t\t//\u8bb0\u6570\n\t\t\t\tnum[j] = i;\t\t//\u586b\u5145\n\t\t\t\tl = 1;\t\t\t//\u6807\u8bb0\uff0c\u4ee5\u514d\u91cd\u590d\u6280\u672f\n\t\t\t}\n\t\t\telse\n\t\t\tj = in[num[j]][1];  \t\t//\u8df3\u8dc3\n\t\t}\n\t}\n\tcout<<out;\n\treturn 0;\n}\n```\n",
        "postTime": 1557308038,
        "uid": 55698,
        "name": "\u6cbb\u6da8\u7684\u9992\u5934",
        "ccfLevel": 7,
        "title": "31\u884c\u7684\u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9053\u9898\u6211\u7b97\u4e86\u7b97\u7a7a\u95f4\uff0c\u53d1\u73b0\u7ebf\u6bb5\u6811\u6050\u6015\u8981\u52a8\u6001\u5f00\u70b9\uff0c\u592a\u9ebb\u70e6\u4e86\uff0c\u4e8e\u662f\u5c31\u5199\u4e86\u79bb\u6563\u5316\u52a0\u4e0a\u66b4\u529b\u3002  \n\u4f46\u662f\u76f4\u63a5\u79bb\u6563\u5316\u662f\u4e0d\u884c\u7684\u3002\u8003\u8651\u8fd9\u6837\u7684\u4e09\u4e2a\u533a\u95f4\uff1a[1,5][1,2][4,5]\uff0c\u5982\u679c\u7528\u6807\u51c6\u7684\u79bb\u6563\u5316\uff0c\u5c31\u4f1a\u51fa\u73b0\u9519\u8bef\u3002\u56e0\u4e3a\u6807\u51c6\u7684\u79bb\u6563\u5316\u628a\u533a\u95f4\u4e8c\u548c\u533a\u95f4\u4e09\u7684\u4e24\u4e2a\u7aef\u70b9\u653e\u5728\u4e86\u4e00\u8d77\uff0c\u5bfc\u81f4\u7b2c\u4e00\u4e2a\u533a\u95f4\u88ab\u5b8c\u5168\u8986\u76d6\u3002  \n\u8003\u8651\u79bb\u6563\u5316\u7684\u672c\u8d28\uff1a\u5728\u4e0d\u6539\u53d8\u6570\u636e\u7684\u53ef\u7528\u6027\u8d28\u7684\u60c5\u51b5\u4e0b\uff0c\u51cf\u5c0f\u5176\u8303\u56f4\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u79bb\u6563\u5316\u53ea\u9700\u8981\u4fdd\u7559\u6570\u636e\u95f4\u7684\u5927\u5c0f\u5173\u7cfb\u8fd9\u4e00\u4e2a\u6027\u8d28\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u7528\u6392\u5e8f\u540e\u7684\u7f16\u53f7\u4ee3\u66ff\u539f\u672c\u6570\u503c\u3002\u4f46\u662f\u73b0\u5728\uff0c\u6211\u4eec\u9700\u8981\u540c\u65f6\u4fdd\u7559\u4e24\u4e2a\u6027\u8d28\uff1a\u5927\u5c0f\u5173\u7cfb\u548c\u662f\u5426\u76f8\u90bb\u3002\u600e\u4e48\u529e\u5462\uff1f\u8fd8\u662f\u6392\u5e8f\uff0c\u4e4b\u540e\uff0c\u5bf9\u4e8e\u4e24\u4e2a\u5dee\u5927\u4e8e2\u7684\u6570\uff0c\u628a\u4ed6\u4eec\u7684\u5dee\u7f29\u5c0f\u52302\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u628a\u6240\u6709\u5927\u4e8e2\u7684\u95f4\u9694\u6539\u4e3a2\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u540c\u65f6\u4fdd\u7559\u4e24\u4e2a\u6027\u8d28\u4e86\u3002\n\u4ee3\u7801\uff1a\n```\n#include <cstdlib>\n#include <iostream>\n#include <cstdio>\n#include <math.h>\n#include <cstring>\n#include <time.h>\n\n#pragma warning(disable:4996)\n#define INF 2000000005//2 * 10^9\n#define lowbit(a) ((a)&-(a))\ninline long long max(long long a, long long b)\n{\n\treturn a > b ? a : b;\n}\ninline long long min(long long a, long long b)\n{\n\treturn a < b ? a : b;\n}\n\nconst int MAXN = 5005;\n\nstruct data {\n\tint id;\n\tint w;\n\tbool operator < (data t)\n\t{\n\t\treturn w < t.w;\n\t}\n};\n\ndata temp[MAXN];\n\nvoid msort(data *a, int l, int r)\n{\n\tif (l == r)\n\t\treturn;\n\tint mid = (l + r) / 2;\n\tmsort(a, l, mid);\n\tmsort(a, mid + 1, r);\n\tint i = l, j = mid + 1, k = l;\n\twhile (k <= r)\n\t{\n\t\tif (j > r || i <= mid&&a[i] < a[j])\n\t\t\ttemp[k++] = a[i++];\n\t\telse\n\t\t\ttemp[k++] = a[j++];\n\t}\n\tfor (i = l; i <= r; i++)\n\t\ta[i] = temp[i];\n}\n\nint xxx, N;\nint l[MAXN], r[MAXN];\ndata a[MAXN];\n\nvoid init()\n{\n\tint i;\n\n\tscanf(\"%d %d\", &xxx, &N);\n\tfor (i = 1; i <= N; i++)\n\t{\n\t\tscanf(\"%d %d\", &a[i * 2].w, &a[i * 2 + 1].w);\n\t\ta[i * 2].id = i * 2;\n\t\ta[i * 2 + 1].id = i * 2 + 1;\n\t}\n\tmsort(a, 2, N * 2 + 1);\n\n\tint cnt = 0;\n\tfor (i = 2; i <= N * 2 + 1; i++)\n\t{\n\t\tif (i == 2 || a[i].w != a[i - 1].w)\n\t\t\tcnt++;\n\t\tif (a[i].w - a[i - 1].w > 1)\n\t\t\tcnt++;\n\t\tif (a[i].id & 1)\n\t\t\tr[a[i].id / 2] = cnt;\n\t\telse\n\t\t\tl[a[i].id / 2] = cnt;\n\t}\n}\n\nint t[MAXN];\n\nvoid cover(int l, int r, int k)\n{\n\tfor (int i = l; i <= r; i++)\n\t\tt[i] = k;\n}\nbool judge(int l, int r)\n{\n\tfor (int i = l; i <= r; i++)\n\t\tif (!t[i])\n\t\t\treturn true;\n\treturn false;\n}\n\nint main()\n{\n\tinit();\n\n\tint cnt = 0;\n\tfor (int i = N; i >= 1; i--)\n\t\tif (judge(l[i], r[i]))\n\t\t{\n\t\t\tcnt++;\n\t\t\tcover(l[i], r[i], 1);\n\t\t}\n\n\tprintf(\"%d\", cnt);\n\n\tsystem(\"pause\");\n\treturn 0;\n}\n```",
        "postTime": 1535804865,
        "uid": 64366,
        "name": "ddwqwq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "#\u7ebf\u6bb5\u6811\u7248\u7684\u6d77\u62a5\n\u5982\u679c\u6709\u4e0d\u4f1a[\u7ebf\u6bb5\u6811](https://www.cnblogs.com/ezoihy/p/8893615.html)\n\u7684\u5c0f\u670b\u53cb\u53ef\u4ee5\u70b9\u8fd9\u91cc\n\u5b9e\u9645\u4e0a\u8fd9\u4e2a\u4e0e\u666e\u901a\u7684\u7ebf\u6bb5\u6811\u76f8\u5dee\u4e0d\u5927\uff0c\u53ea\u662f\u8c8c\u4f3c\u6570\u636e\u592a\u6c34\uff0c**~~\u66b4\u529b\u90fd\u53ef\u4ee5\u8fc7\u554a~~**\n\n###\u672c\u6765\u4ee5\u4e3a\u8981\u79bb\u6563\u7684\uff0c\u7ed3\u679c\u6ca1\u6253\u5c31A\u4e86\n\n\n    \n```cpp\n    #include<iostream>\n    #include<cstdio>\n    #include<cstring>\n    using namespace std;\n    const int Max=40000001;\n    struct Node{\n        int x,y,id;\n    }node[10001];\n    int n,m,sum[Max],lazy[Max],tot[1001];\n    void pushdown(int o,int len){//pushdown\uff1a\u5bf9\u4e8elazy\u6807\u8bb0\u7684\u4e00\u4e2a\u4e0b\u4f20\n        if(lazy[o]){\n            int left=o<<1,right=left+1;\n            lazy[right]=lazy[left]=lazy[o];\n            sum[left]=lazy[o];\n            sum[right]=lazy[o];\n            lazy[o]=0;\n        }\n    }\n    void update(int o,int l,int r,int x,int y,int v){//\u4e00\u4e2a\u4e0a\u4f20\u64cd\u4f5c\n        if(x<=l and r<=y){\n            sum[o]=lazy[o]=v;//sum[i]\u8868\u793ai\u8fd9\u4e2a\u8282\u70b9\u5f53\u524d\u7684\u989c\u8272\n            return;\n        }\n        pushdown(o,r-l+1);\n        int mid=(l+r)>>1,left=o<<1,right=left+1;\n        if(x<=mid)update(left,l,mid,x,y,v);\n        if(y>mid)update(right,mid+1,r,x,y,v);\n    }\n    void query(int o,int l,int r,int x,int y){//\u7edf\u8ba1\u5404\u4e2a\u989c\u8272\u90fd\u6709\u591a\u5c11\u4e2a\u662f\u5916\u9732\u7684\n        if(!(l^r)){\n            tot[sum[o]]++;//\u5373sum[o]\u8fd9\u4e2a\u8282\u70b9\u7684\u989c\u8272\u7684tot+1,tot[i]\u8868\u793ai\u8fd9\u4e2a\u989c\u8272\u5916\u9732\u7684\u4e2a\u6570\n            return;\n        }\n        int mid=(l+r)>>1,left=o<<1,right=left+1;\n        pushdown(o,r-l+1);\n        if(x<=mid)query(left,l,mid,x,y);\n        if(mid+1<=y)query(right,mid+1,r,x,y);\n    }\n    int main(){\n        int maxn=-1,ans=0;\n        scanf(\"%d%d\",&m,&n);\n        for(register int i=1;i<=n;i++){\n            scanf(\"%d%d\",&node[i].x,&node[i].y);\n            maxn=max(node[i].y,maxn);\n            node[i].id=i;\n        }\n        for(register int i=1;i<=n;i++){\n            update(1,1,maxn,node[i].x,node[i].y,node[i].id);\n        }\n        query(1,1,maxn,1,maxn);//\u7edf\u8ba1\u7b54\u6848\n        for(register int i=1;i<=n;i++){\n            if(tot[i])ans++;\n        }\n        printf(\"%d\\n\",ans);\n        return 0;\n}\n```",
        "postTime": 1514376337,
        "uid": 48146,
        "name": "ezoiHY",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u5148\u5c06\u7ebf\u6bb5\u6309\u5de6\u7aef\u70b9\u6392\u5e8f\uff0c\u6309\u65f6\u95f4\u4ece\u524d\u5230\u540e\u679a\u4e3e\u6bcf\u4e00\u4e2a\u7ebf\u6bb5\uff0c\u5224\u65ad\u51fa\u73b0\u65f6\u95f4\u5728\u5b83\u540e\u9762\u7684\u7ebf\u6bb5\u80fd\u5426\u5b8c\u5168\u8986\u76d6\u5b83\uff0c\u5982\u679c\u80fd\u5219\u7b54\u6848\u51cf\u4e00\uff08\u521d\u59cb\u7b54\u6848\u4e3a$n$\uff09\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e00\u6761\u7ebf\u6bb5$s_i$\uff0c\u6c42\u51fa$s_{i+1}$\u5230$s_n$\u8fd9\u4e9b\u7ebf\u6bb5\u7684\u5e76\u96c6\u3002\u626b\u63cf\u6bcf\u4e00\u6761\u7ebf\u6bb5\uff0c\u5982\u679c\u5176$id$\u5c0f\u4e8e\u6216\u7b49\u4e8e$i$\uff0c\u5219\u5ffd\u7565\u8fd9\u6761\u7ebf\u6bb5\u3002\u8bb0\u5f55\u5f53\u524d\u6240\u6709\u7ebf\u6bb5\u6700\u9760\u53f3\u7684\u53f3\u7aef\u70b9$maxr$\uff0c\u4ee5\u53ca$minl$\uff0c$minl$\u4ee3\u8868\u76ee\u524d\u8fde\u7eed\u7ebf\u6bb5\u4e2d\u6700\u9760\u5de6\u7684\u5de6\u7aef\u70b9\u3002\u5bf9\u4e8e\u6bcf\u4e00\u6761\u7ebf\u6bb5\uff0c\u5982\u679c\u5176\u5de6\u7aef\u70b9\u5c0f\u4e8e$maxr$\uff0c\u5219\u66f4\u65b0$maxr$\u3002\u5426\u5219\uff0c\u5c06$maxr$\u8bbe\u4e3a\u5176\u53f3\u7aef\u70b9\uff0c\u5c06$minl$\u8bbe\u4e3a\u5176\u5de6\u7aef\u70b9\u3002\u4efb\u4f55\u65f6\u5019\uff0c\u53ea\u8981$minl<s_i.l$\u4e14$s_i.r<maxr$,\u90a3\u4e48$s_i$\u540e\u9762\u7684\u7ebf\u6bb5\u80fd\u5b8c\u5168\u8986\u76d6$s_i$\u3002\n\n\u672c\u8d28\u4e0a\u662f\u4e00\u79cd\u66b4\u529b\uff0c\u65f6\u95f4\u590d\u6742\u5ea6$O(m^2)$\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint n,m,ans;\nstruct Seg{\n\tint l,r,id;\n}seg[1000];\nbool comp(Seg a,Seg b)\n{\n\treturn a.l<b.l;\n}\n\nint main(void)\n{\n\tscanf(\"%d%d\",&n,&m);\n\tans=m;\n\tfor(int i=0;i<m;i++){\n\t\tscanf(\"%d%d\",&seg[i].l,&seg[i].r);\n\t\tseg[i].id=i;\n\t}\n\tsort(seg,seg+m,comp);\u6392\u5e8f\n\tfor(int i=0;i<m;i++){\n\t\tint pos,minl,maxr=-100;\n\t\tfor(int j=0;j<m;j++)\n\t\t\tif(seg[j].id==i){\n\t\t\t\tpos=j;\n\t\t\t\tbreak;\u627e\u5230\u8be5\u7ebf\u6bb5\u7684\u4f4d\u7f6e\n\t\t\t}\n\t\tfor(int j=0;j<m;j++){\n\t\t\tif(seg[j].id<=seg[pos].id)\n\t\t\t\tcontinue;\u53bb\u9664\u4e4b\u524d\u7684\u7ebf\u6bb5\n            \n            \u6c42\u7ebf\u6bb5\u5e76\u96c6\u4e2d\u7684\u4e00\u6bb5\n\t\t\tif(seg[j].l<=maxr+1)\n\t\t\t\tmaxr=max(maxr,seg[j].r);\n\t\t\telse{\n\t\t\t\tminl=seg[j].l;\n\t\t\t\tif(seg[pos].r>maxr&&seg[pos].l<minl)\n\t\t\t\t\tbreak;\n\t\t\t\tif(seg[pos].l>=minl)\n\t\t\t\t\tmaxr=seg[j].r;\n\t\t\t}\n            \n            \u8be5\u7ebf\u6bb5\u5728\u5b83\u540e\u9762\u7684\u7ebf\u6bb5\u5e76\u96c6\u4e2d\u7684\u7ebf\u6bb5\u91cc\u9762\n\t\t\tif(minl<=seg[pos].l&&seg[pos].r<=maxr){\n\t\t\t\tans--;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1559714601,
        "uid": 60202,
        "name": "csyakuoi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u6765\u4e00\u4e2a\u6307\u9488\u7248\u7684\u7ebf\u6bb5\u6811\n\n\u66b4\u529b\u5f04\u4e00\u5f04\u5c31\u53ef\u4ee5\u8fc7\u4e86\n\n(\u5f53\u7136\uff0c\u4e5f\u53ef\u80fd\u662f\u6570\u636e\u6c34......)\n\n---\n\n**\u3010\u5206\u6790\u3011**\n--\n\n\u9996\u5148\uff0c\u80af\u5b9a\u662f\u628a\u8d34\u7eb8\u90fd\u6254\u8fdb\u4e00\u4e2a\u6808\u4e2d\uff0c\u8d8a\u540e\u9762\u7684\u8d8a\u5148\u5224\u65ad\n\n\u8fd9\u8fb9\u505a\u4e00\u4e2a\u7b80\u8981\u7684\u8bf4\u660e\uff1a\n\n\u5982\u679c\u4e00\u4e2a\u6d77\u62a5\u80fd\u88ab\u770b\u5230\uff0c\u5373\u5b83\u5b58\u5728\u4e00\u90e8\u5206\u672a\u88ab\u906e\u6321\n\n\u4e5f\u5c31\u662f\u8bf4\u540e\u9762\u7684\u6d77\u62a5\u4e3a\u628a\u8be5\u6d77\u62a5\u6240\u5728\u7684\u6240\u6709\u533a\u95f4\u8986\u76d6\n\n\u90a3\u4e48\u5c31\u662f\u8bf4\u6211\u4eec\u5f00\u4e00\u4e2a\u7ebf\u6bb5\u6811\uff0c\u4ece\u540e\u5f80\u524d\u679a\u4e3e\u6d77\u62a5\uff0c\u5982\u679c\u6709\u90e8\u5206\u672a\u88ab\u906e\u6321\u5c31\u7b54\u6848 $Ans+1$ \uff0c\u5e76\u4e14\u5c06\u5b83\u7684\u6240\u6709\u8986\u76d6\u533a\u95f4\u6253\u4e0a\u6807\u8bb0\n\n\u66b4\u529b\u5f00\u7ebf\u6bb5\u6811\u7406\u8bba\u4e0a\u5b58\u5f97\u4e0b\uff0c\u4f46\u662f\u5f88\u5371\u9669\n\n\u6240\u4ee5\u6211\u4eec\u8fd9\u4e48\u8003\u8651\uff1a\u5982\u679c\u4e00\u4e2a\u533a\u95f4\u5df2\u7ecf\u5b8c\u6574\u5730\u88ab\u8986\u76d6\u4e86\uff0c\u90a3\u4e48\u8bbf\u95ee\u6240\u6709\u5b83\u7684\u5b50\u533a\u95f4\u90fd\u4e00\u5b9a\u662f\u65e0\u89e3\u7684\n\n\u6240\u4ee5\u5bf9\u4e8e\u4e00\u4e2a**\u5b8c\u5168\u88ab\u8986\u76d6\u7684\u533a\u95f4**\uff0c\u5b83\u7684\u5de6\u53f3\u5b69\u5b50\u5df2\u7ecf\u6ca1\u6709\u5b58\u5728\u7684\u5fc5\u8981\u4e86\u3002\n\n\u8fd9\u4e2a\u65f6\u5019\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528\u7684\u662f\u6307\u9488\uff0c\u5c31\u53ef\u4ee5\u628a**\u6307\u5411\u5de6\u53f3\u5b69\u5b50\u7684\u6307\u9488**\u3001**\u5b83\u4eec**\u548c**\u5b83\u4eec\u5b69\u5b50**\u7684\u6307\u9488\u5168\u90e8\u5220\u9664\uff0c\u91ca\u653e\u7a7a\u95f4\uff0c\u907f\u514d $MLE$\n\n\u5220\u9664\u5b50\u8282\u70b9\u53ca\u5176\u5b50\u8282\u70b9\u7684\u6307\u9488\u53ef\u4ee5\u7528\u6790\u6784\u51fd\u6570\u5b9e\u73b0\n\n\u800c\u6807\u8bb0\u7684\u8f6c\u79fb\u4e5f\u5f88\u65b9\u4fbf\uff0c\u6211\u4eec\u8fd9\u4e48\u60f3\uff0c\u5982\u679c\u6709\u5f80\u4e0b\u8bbf\u95ee\uff0c\u4e00\u5b9a\u662f\u5f53\u524d\u533a\u57df\u6ca1\u6709\u88ab\u8986\u76d6\n\n\u800c\u4e14\u5982\u679c\u5b83\u7684\u5de6\u53f3\u5b69\u5b50\u90fd\u88ab\u5b8c\u5168\u8986\u76d6\uff0c\u5b83\u4e00\u5b9a\u4e5f\u4f1a\u88ab\u5b8c\u5168\u8986\u76d6\n\n\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5f88\u52a8\u6001\u7684\u7533\u8bf7\u7a7a\u95f4\u5e76\u6bd4\u8f83\u9ad8\u6548\u7684\u6267\u884c\n\n\u5177\u4f53\u7684\u6b65\u9aa4\u53ef\u4ee5\u53c2\u8003\u672c\u849f\u84bb\u7684\u4ee3\u7801\n\n---\n\n**\u3010\u4ee3\u7801\u3011**\n--\n\n\u90a3\u672c\u849f\u84bb\u5c31\u653e  ~~\u6211\u7801\u98ce\u6781\u4e11\u7684~~  \u4ee3\u7801\u4e86\uff1a\n\n```cpp\n#include<cstdio>\nusing namespace std;\n#define f(a,b,c) for(register int a=b,LIMA=c;a<=LIMA;a++)\n#define g(a,b,c) for(register int a=b,LIMA=c;a>=LIMA;a--)\n#define Min(a,b) ((a<b)?a:b)\n#define Max(a,b) ((a>b)?a:b)\n#define File(s) freopen(s\".in\",\"r\",stdin);freopen(s\".out\",\"w\",stdout)\ntypedef long long int ll;\ntypedef unsigned long long int ull;\nconst int MAXN=1010;\ntypedef int ar[MAXN];\ninline ll read(){\n    register ll ans=0;register char c=getchar();register bool neg=0;\n    while((c<'0')|(c>'9')) neg^=!(c^'-'),c=getchar();\n    while((c>='0')&(c<='9')) ans=(ans<<3)+(ans<<1)+(c^48),c=getchar();\n    return neg?-ans:ans;\n}//\u6761\u4ef6\u53cd\u5c04\u7684\u7ed3\u679c\nstruct Node{\n\tint L,R;\n\tbool Used;//Used==1 \u8868\u793a\u8be5\u533a\u95f4\u88ab\u5b8c\u5168\u8986\u76d6\n\tNode *Lc,*Rc;\n\tNode(int Head,int Tail):L(Head),R(Tail) {\n\t\tUsed=0;\n\t\tLc=Rc=0;\n\t}\n    //\u6784\u9020\u51fd\u6570\uff0c\u521d\u59cb\u60c5\u51b5\u4e0b\u90fd\u672a\u8986\u76d6\uff0c\u4e14\u4e00\u5f00\u59cb\u4e0d\u9700\u8981\u77e5\u9053\u5b50\u8282\u70b9\n\t~Node() { if(Lc) delete(Lc); if(Rc) delete(Rc); }//\u6790\u6784\u51fd\u6570\n\tbool Query(int Head,int Tail){\n\t\tbool Alw=0;//\u8868\u793a\u8be5\u533a\u95f4\u662f\u5426\u5b58\u5728\u7a7a\u4f4d\n\t\tif(Used) return Alw;//\u5df2\u7ecf\u88ab\u5b8c\u5168\u8986\u76d6\n\t\tif(Head==L&&Tail==R){\n\t\t\tUsed=1;\n\t\t\treturn 1;\n\t\t}//\u8986\u76d6\u8be5\u533a\u95f4\n\t\tint Mid=L+R>>1;\n\t\tif(Tail<=Mid){\n\t\t\tif(!Lc) Lc=new Node(L,Mid);\n\t\t\tAlw=Lc->Query(Head,Tail);\n\t\t}\n\t\telse if(Head>Mid){\n\t\t\tif(!Rc) Rc=new Node(Mid+1,R);\n\t\t\tAlw=Rc->Query(Head,Tail);\n\t\t}\n\t\telse{\n\t\t\tif(!Lc) Lc=new Node(L,Mid);\n\t\t\tif(!Rc) Rc=new Node(Mid+1,R);\n\t\t\tAlw=(Lc->Query(Head,Lc->R))|(Rc->Query(Rc->L,Tail));\n\t\t}\n\t\tif(!Alw) return 0;\n        //\u4e0d\u5b58\u5728\u7a7a\u4f4d\uff0c\u4e00\u5b9a\u6ca1\u6709\u4fee\u6539\uff0c\u53ef\u4ee5\u76f4\u63a5\u8df3\u51fa\n\t\tif(Lc!=0&&Rc!=0) Used=Lc->Used&Rc->Used;\n        //\u66f4\u65b0Used\n\t\tif(Used) delete(Lc),delete(Rc),Lc=Rc=0;\n        //\u5982\u679c\u8be5\u533a\u95f4\u88ab\u5b8c\u5168\u8986\u76d6\uff0c\u5219\u5176\u5b50\u8282\u70b9\u4ee5\u65e0\u610f\u4e49\n\t\treturn 1;\n\t}\n}*Root;\nint main(){\n\tRoot=new Node(1,read());\n\tint M=read(),Ans=0;\n\tar Start,End;\n\tf(i,1,M) Start[i]=read(),End[i]=read();\n    //\u8fdb\u6808\n\tg(i,M,1) if(Root->Query(Start[i],End[i])) Ans++;\n    //\u82e5\u8be5\u6d77\u62a5\u7684\u533a\u95f4\u5b58\u5728\u7a7a\u4f4d\uff0c\u5219\u770b\u5f97\u5230\n\tprintf(\"%d\",Ans);\n\treturn 0;\n}\n```",
        "postTime": 1541234909,
        "uid": 36031,
        "name": "JustinRochester",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u5410\u69fd\u4e00\u4e0b\u6570\u636e\u771f\u7684\u4e0d\u5f3a\uff0c\u603b\u89c9\u5f97\u4e0e\u9898\u76ee\u4e2d\u7684\u6570\u636e\u8303\u56f4\u4e0d\u7b26\u3002\u5b8c\u5168\u5f00\u4e2a\u626b\u4e00\u904d\u5f00\u4e2aset\u5373\u53ef\u901a\u8fc7\u554a\u3002\n```\n#include <cstdio>\n#include <iostream>\n#include <set>\nint n,m,l,r,vis[10000001];\nstd::set<int> s;\nint main()\n{\n\tscanf(\"%d %d\",&n,&m);\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tscanf(\"%d %d\",&l,&r);\n\t\tfor(int j=l;j<=r;j++) vis[j]=i;\n\t}\n\tfor(int i=1;i<=n;i++) if(vis[i]) s.insert(vis[i]);\n\tprintf(\"%d\\n\",s.size());\n\treturn 0;\n} \n```",
        "postTime": 1540568066,
        "uid": 45822,
        "name": "zylll",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u7eaf\u66b4\u529b\u6a21\u62df\u3002\u3002\u3002\u7adf\u7136\u8fc7\u4e86\u7adf\u7136\u8fc7\u4e86\u7adf\u7136\u8fc7\u4e86\uff01\uff01\uff01\u5efa\u8bae\u6570\u636e\u662f\u4e0d\u662f\u53ef\u4ee5\u589e\u5927\u4e00\u4e9b\u3002\u3002\u3002\u3002\u3002\n\u4e5f\u5c31\u662f\u8f93\u5165\u7684\u65f6\u5019\u5728\u6bcf\u4e2a\u4e0a\u9762\u6807\u4e0a\u6570\u5b57\u3002\u3002\u3002\u8868\u793a\u4e0a\u8272\u3002\u3002\u3002\u3002\n\u6700\u540e\u4e3a\u4e86\u4f18\u5316\u5728\u641c\u7d22\u7684\u65f6\u5019\u76f4\u63a5\u641c\u7d22\u6d77\u62a5\u81ea\u5df1\u7684\u533a\u57df\u5c31\u53ef\u4ee5\u4e86  \u53ea\u8981\u6709\u81ea\u5df1\u7684\u989c\u8272\uff08\u5373\u5e8f\u53f7\uff09\u5c31\u53ef\u4ee5ans++\u4e86\uff01\n\u6700\u540e\u8f93\u51faans\u5373\u4e3a\u7b54\u6848\u3002\u3002\u3002\u3002\n```c\n#include<iostream>\n#include<algorithm>\n#include<cstdio>\ntemplate <class T> void read(T &x)\n{\n\tint f=0;  x=0;  char ch=getchar();\n\twhile(ch<'0'||ch>'9') \n\t{\n\t\tf|=(ch=='-');\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t\tf=(x>>1)+(x>>3)+(ch^48);\n\t\tch=getchar();\n\t}\n\tx=f?x:-x;\n}\nint a[10000001],n,m,zuo[1001],you[1001];\nusing namespace std;\nint main(){\n\tscanf(\"%d %d\",&n,&m);\n\tint ans=0;\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tscanf(\"%d %d\",&zuo[i],&you[i]);\n\t\tfor(int j=zuo[i];j<=you[i];j++)\n\t\t{\n\t\t\ta[j]=i;\n\t\t}\n\t}\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tfor(int j=zuo[i];j<=you[i];j++)\n\t\t{\n\t\t\tif(a[j]==i)\n\t\t\t{\n\t\t\t\tans++;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1523355127,
        "uid": 55412,
        "name": "\u65e0\u7fa1qwq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u6570\u636e\u8303\u56f4\u867d\u5927\uff0c\u5b9e\u9645\u6570\u636e\u5374\u5e76\u6ca1\u6709\u591a\u5927\u3002\n\n\u7eaf\u66b4\u529b\u5373\u53ef\u6c34\u8fc7\n\n\u4e0d\u8fc7\u6211\u8fd9\u4e2a\u5f04\u4e86\u4e2a\u201c\u4e8c\u5206\u201d\uff0c\u53ea\u80fd\u8bf4\u662f\u6bd4\u8f83\u6015\u7eaf\u66b4\u529b\u8d85\u65f6\n\n\u6b63\u89e3\u53ef\u4ee5\u7528\u7ebf\u6bb5\u6811\uff0c\u4e5f\u53ef\u4ee5\u7528\u5e76\u67e5\u96c6\n\n\n\n\n```cpp\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#define date 10000005\nusing namespace std;\nint n,m;\nint a,b;\nint sum;\nint ans;\nint wall[date];\nbool visited[1005];\nint main()\n{\n//    freopen(\"ha14d.in\",\"r\",stdin);\n//    freopen(\"ha14d.out\",\"w\",stdout);\n    visited[0]=1;\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=m;i++)\n    {\n        scanf(\"%d%d\",&a,&b);\n        int mid=(a+b)>>1;\n        for(int j=mid+1;j<=b,a<=mid;j++,a++,b--,mid--)\n        {\n            wall[j]=i;\n            wall[b]=i;\n            wall[mid]=i;\n            wall[a]=i;\n        }\n    }\n    for(int i=1;i<=n;i++)\n    {\n        if(!visited[wall[i]])\n        {\n            visited[wall[i]]=1;\n            ans++;\n        }\n    }\n    printf(\"%d\",ans);\n//    fclose(stdin);\n//    fclose(stdout);\n    return 0;\n}\n```",
        "postTime": 1495853946,
        "uid": 39864,
        "name": "\u4e0d\u4e89\u4e0d\u95f9",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u9707\u60ca\uff01~~25\u884c\u4ee3\u7801\u89e3\u51b3~~\u3002\n\n\u6211\u505a\u8fd9\u9053\u9898\u6ca1\u6709\u60f3\u592a\u591a\uff0c\u56e0\u4e3a\u6d77\u62a5\u9ad8\u5ea6\u548c\u5899\u4e00\u6837\u9ad8\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u770b\u505a\u662f\u4e00\u4e2a\u7ebf\u6bb5\u3002 \n\n\u7136\u540e\u5148\u58f0\u660e\u4e00\u4e2a\u6570\u7ec4a\uff0c\u8f93\u5165\u4e00\u4e2a\u533a\u95f4\u5c31\u628a\u8fd9\u4e2a\u533a\u95f4\u7684\u6570\u7ec4\u8986\u76d6\u6210\u8fd9\u5f20\u6d77\u62a5\u7684\u5e8f\u53f7\uff0c\u6700\u540e\u53ea\u8981\u6570\u8fd9\u4e2a\u6570\u7ec4\u91cc\u6709\u591a\u5c11\u4e0d\u4e00\u6837\u7684\u6570\u5c31\u662f\u53ef\u89c1\u7684\u6d77\u62a5\u6570\u3002\n\n\u770b\u5b8c\u5927\u4f6c\u7684\u9898\u89e3\u4e4b\u540e\u89c9\u5f97\u597d\u50cf\u975e\u5e38\u9ad8\u6df1\uff0c\u539f\u672c\u4ee5\u4e3a\u662f\u8fc7\u4e0d\u4e86\u7684\u3002~~\u4e00\u8fb9\u76f4\u63a5AC~~ ~~\u6ca1\u60f3\u5230\u7adf\u7136\u8fc7\u4e86\u3002\n\u9644\u4e0a\u4ee3\u7801\n\n\n------------\n\n\n------------\n```cpp\n#include<iostream>\nusing namespace std;\nint a[10000001],b[10000001];\nint main()\n{\n\tint n,m,tot=0;\n\tcin>>n>>m;\n\tint x,y;\n\tfor(int i=1;i<=m;++i)\n\t{\n\t\tcin>>x>>y;\n\t\tfor(int j=x;j<=y;++j)\n\t\t\ta[j]=i;\n\t}\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tif(b[a[i]]==0&&a[i]!=0)\n\t\t{\n\t\t\tb[a[i]]++;\n\t\t\ttot++;\n\t\t}\n\t}\n\tcout<<tot;\n\treturn 0;\n}\n```",
        "postTime": 1534579299,
        "uid": 114616,
        "name": "\u5212\u8239\u4e0d\u9760\u6868",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    },
    {
        "content": "\u770b\u4e86\u4e00\u4e2a\u670b\u53cb\u7684\u4ee3\u7801\uff0c\u6539\u8fdb\u4e86\u4e00\u4e0b\u601d\u8def\uff0c\u53d8\u5f97\u5f02\u5e38\u7b80\u6d01\u3002\n```cpp\n#include<iostream> \nusing namespace std; \nint n,m,a,b,i,j,q[10000001],ans[10000001],x;\n int main() {\n  cin>>n>>m; for(i=1;i<=m;++i) \n { cin>>a>>b; for(j=a;j<=b;++j) q[j]=i; }\n  for(i=1;i<=n;++i) ans[q[i]]++;\n   for(i=1;i<=n;++i) if(ans[i]!=0) \n   x++; \n   cout<<x; \n   }\n```",
        "postTime": 1540690753,
        "uid": 51386,
        "name": "return\u5148\u751f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3740 \u3010[HAOI2014]\u8d34\u6d77\u62a5\u3011"
    }
]