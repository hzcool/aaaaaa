[
    {
        "content": "\u5176\u5b9e\u8fd9\u9898\u5f88\u7b80\u5355\uff0c\u627e\u5bf9\u65b9\u6cd5\u662f\u5173\u952e\u3002\n\n\u627e\u5230\u65e0\u98ce\u7684o\u70b9\uff0c\u7136\u540e\u5f00\u59cb\u63a8\u8def\u5f84\uff0c\u7136\u540e\u5c06\u80fd\u5230\u7684\u70b9\u8bbe\u4e3atrue\uff0c\u6700\u540e\u7edf\u8ba1TRUE\u7684\u4e2a\u6570\u5c31AC\n\n\n\n\n   \n      \n \n    \n```cpp\n#include<iostream>\nusing namespace std;\nint i,j,n,m,num;\nchar a[1002][1002];\nbool b[1002][1002];\nvoid gui(int i,int j)   //\u63a8\u8def\u5f84\n{  b[i][j]=true; //\u5c06\u8fd9\u70b9\u8bb0\u4e3atrue\n  if(a[i+1][j]=='u') gui(i+1,j);\n  if(a[i-1][j]=='d') gui(i-1,j);\n  if(a[i][j+1]=='l') gui(i,j+1);\n  if(a[i][j-1]=='r') gui(i,j-1);\n}\nint main()\n{\n   //freopen(\"Lsan.in\",\"r\",stdin);\n   //freopen(\"Lsan.out\",\"w\",stdout);\n   cin>>n>>m;\n   for(i=1;i<=n;i++) for(j=1;j<=m;j++) cin>>a[i][j];\n   for(i=1;i<=n;i++) for(j=1;j<=m;j++)\n      if(a[i][j]=='o') gui(i,j);  //\u5982\u679c\u662f\u65e0\u98ce\u70b9\uff0c\u5219\u5f00\u59cb\u63a8\u8def\n     for(i=1;i<=n;i++) for(j=1;j<=m;j++) if(b[i][j]) num++; //\u7edf\u8ba1\u4e2a\u6570\n    cout<<num<<'\\n'; //\u4e2a\u4eba\u4e60\u60ef\uff0c\u559c\u6b22\u6253\u6362\u884c\u7b26\n //fclose(stdin);fclose(stdout);\n //system(\"pause\");\n return 0;   \n}\n```",
        "postTime": 1510143505,
        "uid": 28974,
        "name": "Angel_Virus",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u8fd8\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u53ea\u8981\u7528\u641c\u7d22\u5c31\u53ef\u4ee5\u4e86\u3002\u6211\u7528\u7684\u662f\u6df1\u641c\u3002\n### \u601d\u8def\uff1a\n\u4eceo\u70b9\u5f00\u59cb\u641c\u7d22\u8def\u5f84\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c11\u4e00\u4e9b\u4e0d\u5fc5\u8981\u7684\u641c\u7d22\u3002\u5c06\u80fd\u5230\u7684\u70b9\u8d4b\u503c\u4e3a1\uff0c\u4e4b\u540e\u5728\u4e3b\u51fd\u6570\u91cc\u8ba1\u7b97\u7b54\u6848\u3002\n\n\u4e0a\u4ee3\u7801\uff01\n\n```cpp\n#include<iostream>\nusing namespace std;\nint n,m,ans=0,cnt[1010][1010];//n\u548cm\u4e0d\u7528\u8bf4\u4e86\uff0cans\u662f\u7b54\u6848\uff08\u653e\u4f1e\u5175\u7684\u70b9\u6570\uff09\uff0ccnt\u662f\u7528\u6765\u8bb0\u5f55\u8fd9\u4e2a\u70b9\u662f\u5426\u80fd\u5230\u8fbe\u3002\nchar a[1010][1010];\nvoid dfs(int i,int j){//\u6df1\u641c\u51fd\u6570\n\tcnt[i][j]=1;//\u8bb0\u5f55\u4e3a1\n\tif(a[i-1][j]=='d'){//\u4e0a\u9762\u7684\u70b9\u662f\u5426\u522e\u5357\u98ce  \n\t\tdfs(i-1,j);\n\t}\n\tif(a[i+1][j]=='u'){//\u4e0b\u9762\u7684\u70b9\u662f\u5426\u522e\u5317\u98ce\n\t\tdfs(i+1,j);\n\t}\n\tif(a[i][j+1]=='l'){//\u5de6\u9762\u7684\u70b9\u662f\u5426\u522e\u897f\u98ce\n\t\tdfs(i,j+1);\n\t}\n\tif(a[i][j-1]=='r'){//\u53f3\u9762\u7684\u70b9\u662f\u5426\u522e\u4e1c\u98ce\n\t\tdfs(i,j-1);\n\t}\n}\nint main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tcin>>a[i][j];\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(a[i][j]=='o'){//\u4ece\u65e0\u98ce\u70b9\u5f00\u59cb\u641c\u7d22\n\t\t\t\tdfs(i,j);\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(cnt[i][j]==1){//\u7edf\u8ba1\u80fd\u5230\u8fbe\u7684\u70b9\u7684\u4e2a\u6570\n\t\t\t\tans++;\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;//\u6109\u5feb\u8f93\u51fa\n\treturn 0;//\u62dc\u62dc\uff01\n}\n```\n\n\u795d\u5927\u5bb6\u65e9\u65e5AC\uff01\n",
        "postTime": 1579757209,
        "uid": 192818,
        "name": "Sea_Level",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u4e00\u5f00\u59cb\u6211\u662f\u6253\u7b97\u4e00\u4e2a\u4e2a\u70b9\u53bb\u5224\u65ad\u662f\u5426\u53ef\u884c\u7684\uff0c\u663e\u7136\u4ee3\u7801\u96be\u6253\uff0c\u8fd8\u5bb9\u6613TLE\uff0c\u5b8c\u5168\u4e0d\u7b26\u5408\u8fd9\u9053\u9898\u201c\u666e\u53ca-\u201d\u7684\u96be\u5ea6\u3002\u6240\u4ee5\u4e3a\u4f55\u4e0d\u4ece\u65e0\u98ce\u70b9\u56db\u5468\u627e\u8d77\u6765\u5462\uff1f\n\n\u56e0\u4e3a\u6709\u5f88\u591a\u65e0\u98ce\u70b9\uff0c\u6240\u4ee5\u5224\u65ad\u56db\u5468\u662f\u4e2a\u91cd\u590d\u7684\u5de5\u4f5c\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528\u9012\u5f52\u6765\u8fdb\u884c\u6df1\u641c\u3002\n\n\u4e0d\u591a\u8bf4\u4e86\uff0c\u8be6\u7ec6\u6ce8\u91ca\u4ee3\u7801\u91cc\u6709\uff1a\n\n```c\n\n#include<bits/stdc++.h>\nusing namespace std;\nlong long n,m,ans;//\u5176\u5b9e\u8fd9\u9898\u7684\u8303\u56f4\u4e0d\u7528longlong\uff0c\u4e2a\u4eba\u4e60\u60ef\u4e0d\u4f1a\u8d85\u65f6\u5c31\u7528longlong \nchar sa[1005][1005];\nbool flag[1005][1005];\nvoid dfs(long long a,long long b)\n//\u6df1\u641c\n{\n    if(sa[a-1][b]=='d'&&a-1>=1)//\u662f\u4e0a\u65b9\u65f6\u5224\u65ad\u662f\u5426\u8d8a\u754c\n    {\n        flag[a-1][b]=1;\n        dfs(a-1,b);\n    }\n\t/*\u6ce8\u610f\uff0c\u8fd9\u4e0d\u80fd\u6253else*/if(sa[a+1][b]=='u'&&a+1<=n)//\u662f\u4e0b\u65b9\u65f6\u5224\u65ad\u662f\u5426\u8d8a\u754c\n    {\n        flag[a+1][b]=1;\n        dfs(a+1,b);\n    }\n    /*\u8fd9\u4e5f\u4e0d\u53ef\u4ee5*/if(sa[a][b+1]=='l'&&b+1<=m)//\u662f\u53f3\u8fb9\u65f6\u5224\u65ad\u662f\u5426\u8d8a\u754c\n    {\n        flag[a][b+1]=1;\n        dfs(a,b+1);\n    }\n    /*\u540c\u4e0a*/if(sa[a][b-1]=='r'&&b-1>=1)//\u662f\u5de6\u8fb9\u65f6\u5224\u65ad\u662f\u5426\u8d8a\u754c\n    {\n        flag[a][b-1]=1;\n        dfs(a,b-1);\n    }\n}\nint main()\n{\n    cin>>n>>m;\n    for(int i=1;i<=n;i++)\n    { \n        for(int j=1;j<=m;j++)\n        {\n\t\t\tcin>>sa[i][j];\n\t\t}    \n\t}\n\t//\u8f93\u5165 \n    for(int i=1;i<=n;i++)\n    {\n    \tfor(int j=1;j<=m;j++)\n    \t{\n\t\t\tif(sa[i][j]=='o')\n            {\n\t\t\t    dfs(i,j);//\u5f00\u59cb\u6df1\u641c \n\t\t\t\tans++;//\u6ce8\u610f\u65e0\u98ce\u70b9\u672c\u8eab\u4e5f\u662f\u4e00\u4e2a\u7b54\u6848 \n\t\t\t}\n\t\t}       \n\t}    \n    for(int i=1;i<=n;i++)\n    {\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tif(flag[i][j]==1)\n\t\t\t{\n\t\t\t\tans++;//\u904d\u5386\u4e00\u904d\uff0c\u627e\u51fa\u53ef\u884c\u7684\u964d\u843d\u70b9 \n\t\t\t}  \n\t\t}     \n\t} \n    cout<<ans;//\u8f93\u51fa \n    return 0;//\u5b8c\u7f8e\u7ed3\u675f \n}\n\n\n```\n",
        "postTime": 1583548038,
        "uid": 275834,
        "name": "Ca1JH",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "\u8fd9\u9898\u662f\u4e2a\u7528\u6765\u7ec3\u4e8c\u7ef4\u5e76\u67e5\u96c6\u7684\u597d\u9898\u554a.  \n\u641c\u7d22\u4e5f\u662f\u53ef\u4ee5\u505a\u7684,\u4f46\u662f\u7528\u641c\u7d22\u603b\u611f\u89c9\u4e0d\u662f\u5f88\u8212\u670d,\u4e8e\u662f\u6211\u7528\u4e86\u5e76\u67e5\u96c6.  \n\u548c\u4e00\u7ef4\u5e76\u67e5\u96c6\u4e00\u6837,\u5982\u679c\u4ece\u8fd9\u4e2a\u683c\u5b50\u80fd\u591f\u5230\u8fbe\u4e0e\u5b83\u76f8\u90bb\u7684\u56db\u4e2a\u65b9\u5411\u7684\u683c\u5b50\u4e4b\u4e00,\u5c31\u628a\u8fd9\u4e2a\u683c\u5b50\u8fde\u5230\u5b83\u6240\u80fd\u591f\u5230\u8fbe\u7684\u683c\u5b50\u4e0a\u9762,\u6700\u540e\u67e5\u627e\u6709\u591a\u5c11\u4e2a\u683c\u5b50\u7684\u7236\u4eb2\u662f$'o'$\u5373\u53ef.  \n\u52a0\u4e2a\u8def\u5f84\u538b\u7f29\u5c31\u53ef\u4ee5\u901a\u8fc7\u8fd9\u9053\u9898\u4e86.\n```cpp\n#include<bits/stdc++.h> //Ithea Myse Valgulious\nusing namespace std;\n#define yi first\n#define er second\ntypedef pair<int,int> node;//\u7528pair\u5b58\u50a8\u4e00\u4e2a\u4f4d\u7f6e.\nchar c[1010][1010];\nint n,m;node fa[1010][1010];//\u6bcf\u4e2a\u4f4d\u7f6e\u6307\u5411\u7684\u4f4d\u7f6e.\n\nnode find(node x){\nreturn fa[x.yi][x.er]==x?x:fa[x.yi][x.er]=find(fa[x.yi][x.er]);\n}//\u8def\u5f84\u538b\u7f29\u548c\u4e00\u7ef4\u662f\u7c7b\u4f3c\u7684.\n\nint main(){\nint i,j;\nscanf(\"%d%d\",&n,&m);\nfor (i=1;i<=n;++i) for (j=1;j<=m;++j) fa[i][j]=node(i,j);//\u521d\u59cb\u5316\nfor (i=1;i<=n;++i) scanf(\"%s\",c[i]+1);\nfor (i=1;i<=n;++i){\n  for (j=1;j<=m;++j){\n    switch(c[i][j]){\n      case 'u': fa[i][j]=find(fa[i-1][j]); break;\n      case 'l': fa[i][j]=find(fa[i][j-1]); break;\n      case 'd': fa[i][j]=find(fa[i+1][j]); break;\n      case 'r': fa[i][j]=find(fa[i][j+1]); break;\n      }\n      /*\n      \u6839\u636e4\u4e2a\u65b9\u5411\u5224\u65ad\u5b83\u7684\u7236\u4eb2.\u8fd9\u91cc\u4e0d\u76f4\u63a5\u8fde\u63a5\u5230\u5bf9\u5e94\u7684\u683c\u5b50\u7684\u7236\u4eb2\u7684\u8bdd\u4f1aMLE.\n      \u6bd4\u5982\u8bf4\n      5 5\n      rrrrd\n      dllll\n      rrrrd\n      dllll\n      rrrro\n      \u8fd9\u4e2a\u6570\u636e\u6269\u5927\u52301000 1000\u5c31\u70b8\u4e86.\n      */\n    }\n  }\nint ans=0;\nfor (i=1;i<=n;++i){\n  for (j=1;j<=m;++j){\n    node f=find(node(i,j));\n    ans+=c[f.yi][f.er]=='o';\n    }\n  }printf(\"%d\",ans);\n}\n```",
        "postTime": 1528374240,
        "uid": 49371,
        "name": "Fuko_Ibuki",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u5176\u5b9e\u662f\u4e00\u9053\u975e\u5e38\u7b80\u5355\u7684\u5e7f\u641c\u9898\uff0c\u628a\u6240\u6709\u65e0\u98ce\u5e26\u5165\u961f\uff0c\u5e7f\u641c\u65f6\u5224\u65ad\u8fd9\u4e2a\u70b9\u7684\u4e0a\u4e0b\u5de6\u53f3\u65b9\u80fd\u5426\u5230\u8fbe\u8fd9\u4e2a\u70b9\uff0c\u5982\u679c\u53ef\u4ee5\u5230\u8fbe\u5c31\u5c06\u5176\u5165\u961f\n\n```cpp\n#include<cstdio>\n#include<queue>\nusing namespace std;\nchar ch[1010][1010];\nint n,m,ans,vis[1010][1010];\nstruct place{\n    int x,y;\n    place(int a,int b){\n        this->x=a;\n        this->y=b;\n    }\n};\nqueue<place>q;\nint main(){\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++){\n        scanf(\"%s\",ch[i]+1);\n        for(int j=1;j<=n;j++)\n            if(ch[i][j]=='o'){\n                q.push(place(i,j));//\u5982\u679c\u8fd9\u4e2a\u70b9\u4e3a\u65e0\u98ce\u5e26\uff0c\u5c31\u5c06\u8fd9\u4e2a\u70b9\u5165\u961f \n                vis[i][j]=1;\n            }\n    }\n    while(!q.empty()){\n        place a=q.front();\n        q.pop();\n        ans++;\n        if(ch[a.x+1][a.y]=='u'&&!vis[a.x+1][a.y]){\n            q.push(place(a.x+1,a.y));\n            vis[a.x+1][a.y]=1;\n```\n}//\u5224\u65ad\u8fd9\u4e2a\u70b9\u7684\u4e0b\u65b9\u70b9\u662f\u5426\u4e3au\uff0c\u5982\u679c\u4e3au\u5373\u4e0b\u65b9\u70b9\u53ef\u5230\u8fbe\u8fd9\u4e2a\u70b9\uff0c\u5c31\u5c06\u4e0b\u65b9\u70b9\u5165\u961f\n        if(ch[a.x-1][a.y]=='d'&&!vis[a.x-1][a.y]){\n\n            q.push(place(a.x-1,a.y));\n\n            vis[a.x-1][a.y]=1;\n\n}//\u5224\u65ad\u8fd9\u4e2a\u70b9\u7684\u4e0a\u65b9\u70b9\u662f\u5426\u4e3ad\uff0c\u5982\u679c\u4e3ad\u5373\u4e0a\u65b9\u70b9\u53ef\u5230\u8fbe\u8fd9\u4e2a\u70b9\uff0c\u5c31\u5c06\u4e0a\u65b9\u70b9\u5165\u961f\n\n        if(ch[a.x][a.y+1]=='l'&&!vis[a.x][a.y+1]){\n\n            q.push(place(a.x,a.y+1));\n\n            vis[a.x][a.y+1]=1;\n\n}//\u5224\u65ad\u8fd9\u4e2a\u70b9\u7684\u53f3\u65b9\u70b9\u662f\u5426\u4e3al\uff0c\u5982\u679c\u4e3al\u5373\u53f3\u65b9\u70b9\u53ef\u5230\u8fbe\u8fd9\u4e2a\u70b9\uff0c\u5c31\u5c06\u53f3\u65b9\u70b9\u5165\u961f\n\n        if(ch[a.x][a.y-1]=='r'&&!vis[a.x][a.y-1]){\n\n            q.push(place(a.x,a.y-1));\n\n            vis[a.x][a.y-1]=1;\n\n}//\u5224\u65ad\u8fd9\u4e2a\u70b9\u7684\u5de6\u65b9\u70b9\u662f\u5426\u4e3ar\uff0c\u5982\u679c\u4e3ar\u5373\u5de6\u65b9\u70b9\u53ef\u5230\u8fbe\u8fd9\u4e2a\u70b9\uff0c\u5c31\u5c06\u5de6\u65b9\u70b9\u5165\u961f\n\n    }\n    printf(\"%d\",ans);\n\n    return 0; \n\n}",
        "postTime": 1507297882,
        "uid": 49097,
        "name": "ezoiHQM",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "\u601d\u8def\u5f88\u7b80\u5355\uff0c\u628a\u6bcf\u4e2a\u65e0\u98ce\uff08O\uff09\u70b9\u5f53\u8d77\u59cb\u70b9\u5411\u56db\u5468\u6269\u5c55\uff0c\u5982\u679c\u53ef\u4ee5\u5230\u8fbe\u8fd9\u4e2a\u8d77\u59cb\u70b9\uff0c\u5219\u4ee5\u8fd9\u4e2a\u70b9\u4e5f\u5411\u56db\u5468\u6269\u5c55\n\n\u6ce8\u610f\u8bb0\u5f55\u6269\u5c55\u8fc7\u7684\u70b9\n\n\n\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#define MAXN 1010\nusing namespace std;\nconst int dx[4]={-1,1,0,0};\nconst int dy[4]={0,0,-1,1};\nconst int ac[4]={2,1,4,3};\nint m,n,a[MAXN][MAXN],ans=0;\nbool b[MAXN][MAXN];\nbool bfs(int x,int y)\n{\n    ans++;\n    b[x][y]=1;\n    int xx,yy;\n    for(int i=0;i<4;++i)\n    {\n        xx=x,yy=y;\n        xx+=dx[i],yy+=dy[i];\n        if(a[xx][yy]==ac[i]) bfs(xx,yy);\n    }\n    return 0;\n}\nint main()\n{\n    freopen(\"hhh.in\",\"r\",stdin);\n    freopen(\"hhh.out\",\"w\",stdout);\n    scanf(\"%d%d\",&n,&m);\n    char ch[MAXN];\n    for(int i=1;i<=n;++i)\n    {\n        scanf(\"%s\",ch);\n        for(int j=0;j<m;++j)\n        {\n            switch(ch[j])\n            {\n                case 'u':a[i][j+1]=1;break;\n                case 'd':a[i][j+1]=2;break;\n                case 'l':a[i][j+1]=3;break;\n                case 'r':a[i][j+1]=4;break;\n                case 'o':a[i][j+1]=-1;break;\n            }\n        }\n    }\n    memset(b,sizeof(b),0);\n    for(int i=1;i<=n;++i)\n        for(int j=1;j<=m;++j)\n            if(a[i][j]==-1&&!b[i][j]) bfs(i,j);\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1487753556,
        "uid": 20714,
        "name": "Void_f",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "# \u849f\u84bb\u6765\u53d1\u9898\u89e3\u5566\uff01\n\n### \u770b\u89c1dalao\u90fd\u7528\u7684DFS\uff0c\u90a3\u6211\u6765\u53d1\u4e00\u6ce2DP.\n\n\u9996\u5148\u89e3\u91ca\u4e00\u4e0b\u9898\u610f:\u7ed9\u5b9a\u98ce\u5411\u5730\u56fe\uff0c\u6709\u591a\u5c11\u4e2a\u70b9\u6ee1\u8db3\u6700\u540e\u53ef\u4ee5\u5439\u5230\u65e0\u98ce\u70b9\uff08\u6216\u672c\u6765\u5c31\u662f\u65e0\u98ce\u70b9\uff09.\n\n\u90a3\u6211\u4eec\u53ef\u4ee5\u7528**DP**\u6765\u6c42\u89e3.\n\n\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2adp[1001][1001]\u4ee3\u8868\u5f53\u524d\u7684\u5e97\u662f\u5426\u80fd\u88ab\u5439\u5411\u65e0\u98ce\u70b9.\n\n\u90a3\u53ea\u8981\u5728\u5faa\u73af\u4e2d\u5224\u65ad\u5f53\u524d\u70b9\u662f\u4ec0\u4e48\u98ce\u5411\uff0c\u518d\u8ddf\u636e\u98ce\u5411\u8f6c\u79fb\u72b6\u6001\u5373\u53ef.\n\n\u4f46\u8981\u6ce8\u610f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u4e0d\u662f\u4e00\u904d\u5c31\u80fd\u628a\u6240\u6709\u7684\u70b9\u6b63\u786e\u5224\u65ad\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u9700\u8981\u591a\u6b21DP\u8fdb\u884c\u6c42\u89e3.\n\n**Code**:\n(\u6709\u89e3\u91ca)\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nbool dp[1001][1001];\nchar maps[1001][1001];\nint n,m,ans,last;\nint main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tcin>>maps[i][j];//\u8f93\u5165\u5730\u56fe\n\t\t\tif(maps[i][j]=='o')dp[i][j]=1;//\u5148\u628a\u65e0\u98ce\u70b9\u6807\u8bb0\u62101 \n\t\t}\n\t}\n\twhile(1){last=ans;//\u628a\u4e0a\u6b21\u8ba1\u7b97\u7684ans\u5b58\u5728last\u91cc\uff0c\u65b9\u4fbf\u4e4b\u540e\u9000\u51fawhile\u5faa\u73af \n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tif(maps[i][j]=='r')if(j+1<=m)dp[i][j]=dp[i][j+1];\n\t\t\t\tif(maps[i][j]=='l')if(j-1>=1)dp[i][j]=dp[i][j-1];\n\t\t\t\tif(maps[i][j]=='u')if(i-1>=1)dp[i][j]=dp[i-1][j];\n\t\t\t\tif(maps[i][j]=='d')if(i+1<=n)dp[i][j]=dp[i+1][j];\n\t\t\t\t//\u8fd9\u4e9b\u662f\u6838\u5fc3\u4ee3\u7801\uff0c\u6839\u636e\u98ce\u5411\u8fdb\u884c\u72b6\u6001\u8f6c\u79fb\n\t\t\t}\n\t\t}\n\t\tans=0;\n\t\t//\u5148\u628aans\u6e05\u96f6 \n\t\tfor(int i=1;i<=n;i++){\n\t\t\tfor(int j=1;j<=m;j++){\n\t\t\t\tif(dp[i][j])ans++;\n\t\t\t\t//\u5982\u679c\u6807\u4e861\u5c31\u7edf\u8ba1 \n\t\t\t}\n\t\t}\n\t\tif(last==ans){\n\t\t\tcout<<ans;\n\t\t\treturn 0;\n\t\t\t/*\u8fd9\u91cc\u89e3\u91ca\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u8fd9\u6837\u5199.\n\t\t\t\u4e00\u904d\u904dDP\u540e\uff0c\u5982\u679c\u5df2\u7ecf\u662f\u6700\u7ec8\u7b54\u6848\uff0c\u90a3\u518dDP\u4e00\u8fb9\u7b54\u6848\u5c31\u5e94\u8be5\u4e0d\u53d8.\n\t\t\t\u90a3\u5c31\u7528last\u5b58\u4e0a\u6b21\u7684\u7b54\u6848\uff0c\u5728DP\u5b8c\u4e00\u904d\u540e\u8ddf\u6b64\u6b21ans\u8fdb\u884c\u6bd4\u8f83\uff0c\u5982\u679c\u4e0d\u53d8\u5c31\u53ef\u4ee5\u786e\u5b9a\u662f\u6700\u7ec8\u7b54\u6848\u4e86. \n\t\t\t*/ \n\t\t}\n\t}\n}\n```\n\u90a3\u9898\u89e3\u5c31\u7ed3\u675f\u4e86\uff0c\u5404\u4f4d\u518d\u89c1\uff01",
        "postTime": 1575558490,
        "uid": 100091,
        "name": "GaryH",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "~~\u7279\u522b\u7533\u660e\uff1a\u672c\u4eba\u7231\u597d\u6df1\u641c~~\n\n\u8fd9\u9898\u561b\uff0c\u5bf9\u6bcf\u4e2a\u70b9\u7684\u641c\u4e00\u904d\uff0c\u80fd\u591f\u5230\u8fbe\u65e0\u98ce\u70b9\u7684\u90fd\u52a0\u8d77\u6765\uff0c\u8bb0\u5fc6\u5316\u4e00\u4e0b\u5c31\u884c\u4e86\uff0c\u4e0d\u8981\u5fd8\u4e86\u5224\u8fb9\u754c\u4ee5\u53ca\u6765\u56de\u8d70\u7684\u70b9\u5c31\u884c\u4e86\n\n\u4e0b\u9762\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int size=1000;\nint n,m;\n\nchar ch[size+10][size+10];\nint yes[size+10][size+10];   //3\u4e3a\u6b63\u5728\u8bbf\u95ee\uff0c2\u4e3a\u53ef\u5230\u8fbe\uff0c1\u4e3a\u4e0d\u53ef\u5230\u8fbe\uff0c0\u4e3a\u4e0d\u77e5\u9053 \n\nbool dfs(int x,int y)\n{\n\tif(yes[x][y]>0) return yes[x][y]==2;\n\tyes[x][y]=3;             //\u4e00\u5b9a\u8981\u8bb0\u5f97\u6807\u6b63\u5728\u8bbf\u95ee\uff0c\u5426\u5219\u5168TLE\u6216MLE\n\tchar chr=ch[x][y];\n\tint xx=x,yy=y;\n\tif(chr=='o')             //\u5230\u8fbe\u65e0\u98ce\u70b9 \n\t{\n\t\tyes[x][y]=2;\n\t\treturn true;\n\t}\n\tif(chr=='u') xx--;\n\tif(chr=='d') xx++;\n\tif(chr=='r') yy++;\n\tif(chr=='l') yy--;\n\tif(xx<=0||xx>n||yy<=0||yy>m) return false;  //\u51fa\u754c\n\tif(dfs(xx,yy))\n\t{\n\t\tyes[x][y]=2;\n\t\treturn true;\n\t}\n\telse\n\t{\n\t\tyes[x][y]=1;\n\t\treturn false;\n\t}\n\treturn 0;\n}\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++) cin>>ch[i][j];\n\tmemset(yes,0,sizeof(yes));   //\u521d\u59cb\u5316\u4e3a\u20180\u2019\u2014\u2014\u4e0d\u77e5\u9053\n\tint cnt=0;\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tbool flag=dfs(i,j);  //\u80fd\u5426\u5230\u8fbe \n\t\t\tif(flag) cnt++;\n\t\t}\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}\n```",
        "postTime": 1526883345,
        "uid": 54728,
        "name": "wangxuye",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "dfs\u53ef\u89e3\uff0c\u8981\u6ce8\u610f\u53ef\u80fd\u4e00\u5f00\u59cb\u5c31\u843d\u5728\u201co\u201d\u4e0a\uff0c\u8fd9\u4e5f\u662f\u4e00\u4e2a\u53ef\u884c\u7684\u70b9\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint sum=0,n,m;\nchar a[1001][1001];\nint di[4]={-1,1,0,0}; \nint dj[4]={0,0,-1,1}; //\u89c4\u5b9a\u56db\u4e2a\u65b9\u5411\nchar d[4]={'d','u','r','l'};\nvoid search(int line,int row)\n{\n    for(int i=0;i<4;i++)\n    {\n    \tif(a[line+di[i]][row+dj[i]]==d[i]) //\u5982\u679c\u627e\u5230\u6b63\u597d\u6ee1\u8db3\u6761\u4ef6\u7684\u70b9\uff0c\u4e5f\u5c31\u662f\u53ef\u4ee5\u5230\u8fbe\u65e0\u98ce\u533a\u7684\u70b9\uff0c\n    \t{\n    \t\tsum++; //\u7b54\u6848+1\n    \t\tsearch(line+di[i],row+dj[i]); //\u4ee5\u5f53\u524d\u70b9\u4e3a\u57fa\u70b9\u7ee7\u7eed\u641c\u7d22\uff0c\u6807\u51c6dfs...\n        }\n    }\n}\nint main(){\n    cin>>n>>m;\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n    cin>>a[i][j];\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n    if(a[i][j]=='o') //\u627e\u5230\u4e00\u4e2a\u65e0\u98ce\u70b9\u5c31\u5f00\u59cb\u641c\u7d22\n    {\n     sum++; //\u65e0\u98ce\u70b9\u4e5f\u662f\u4e00\u4e2a\u53ef\u884c\u70b9\uff0c\u6ce8\u610f\u7b54\u6848\u8981+1\n     search(i,j); //\u5f00\u59cb\u641c\u7d22\n    }\n    cout<<sum;\n    return 0;\n}\n```",
        "postTime": 1518342917,
        "uid": 50663,
        "name": "\u9648\u5e74\u98ce\u891b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "\u6570\u636e\u8303\u56f4\u5f88\u6c34\uff0c\u53ef\u4ee5\u91c7\u7528\u679a\u4e3e\u6bcf\u4e00\u4e2a\u65e0\u98ce\u70b9\u7684\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u7ed3\u679c\uff0c\u5373\u4e0a\u9762\u7684\u70b9\u53ef\u4ee5\u7528\u2018d\u2019\u6765\u5230\u8fbe\uff0c\u4e0b\u9762\u7684\u7528\u2018u\u2019\uff0c\u5de6\u9762\u7684\u2018r\u2019\uff0c\u53f3\u9762\u7684\u2018l\u2019\n\n```cpp\n#include <iostream>\n#include <cstring>\nusing namespace std;\nconst int MAX=1010;\nbool vst[MAX][MAX];\nchar ch[MAX][MAX];\nint n,m;\nvoid run(int x,int y)//dfs\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff0c\u8003\u8651\u5230\u4e0d\u7b26\u5408\u4e0b\u5217\u6761\u4ef6\u7684\u70b9\u65e0\u6cd5\u5230\u8fbe   \u6b63\u5728\u8ba8\u8bba\u7684\u70b9\uff0c\u6240\u4ee5\u6ca1\u6709\u8bbe\u7f6ereturn \uff1b\n{\n    if(ch[x-1][y]=='d'&&x-1>=1)//\u4e0a\u65b9\u70b9\uff0c\u5224\u65ad\u8d8a\u754c\n    {\n        vst[x-1][y]=true;\n        run(x-1,y);\n    }\n    if(ch[x+1][y]=='u'&&x+1<=n)//\u4e0b\u65b9\u70b9\uff0c\u5224\u65ad\u8d8a\u754c\n    {\n        vst[x+1][y]=true;\n        run(x+1,y);\n    }\n    if(ch[x][y+1]=='l'&&y+1<=m)//\u53f3\u65b9\u70b9\uff0c\u5224\u65ad\u8d8a\u754c\n    {\n        vst[x][y+1]=true;\n        run(x,y+1);\n    }\n    if(ch[x][y-1]=='r'&&y-1>=1)//\u5de6\u65b9\u70b9\uff0c\u5224\u65ad\u8d8a\u754c\n    {\n        vst[x][y-1]=true;\n        run(x,y-1);\n    }\n}\nint main()\n{\n    cin>>n>>m;\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n            cin>>ch[i][j];\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n            if(ch[i][j]=='o')\n                run(i,j),vst[i][j]=true;\n    int ans=0;\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n            if(vst[i][j]==true)\n                ans++;\n    cout<<ans<<endl;\n    return 0;\n}\n```",
        "postTime": 1503389592,
        "uid": 27599,
        "name": "loadingnow",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "\u53d1\u73b0\u697c\u4e0b\u90fd\u662f\u5148\u627e\u65e0\u98ce\u70b9\u5bbd\u641c\u7684\u89e3\u6cd5\uff0c\u8fd9\u662f\u628a\u95ee\u9898\u8f6c\u5316\u6210\u4e86\u9006\u5411\n\n\u4f46\u662f\n\u6211\u4eec\u4e3a\u4ec0\u4e48\u8981\u8f6c\u5316\u5462\uff1f\n\n\u6211\u4eec\u662f\u53ef\u4ee5BL\u7684\uff0c\u5bf9\uff0c\u6ca1\u9519\uff0c\u5c31\u662f\u6df1\u641c\n\n\u7528it[i][j]\u6765\u8868\u793a\u8fd9\u4e2a\u70b9\u53ef\u4e0d\u53ef\u4ee5\u5230\u65e0\u98ce\u70b9\n\n\u90a3\u4e48\uff0cans=\u03a3it[i][j]\n\n\u5bf9\u4e8e\u4e00\u4e2a\u70b9\uff0c\u5982\u679c\u6211\u4eec\u4e4b\u524d\u6ca1\u6709\u8bbf\u95ee\u8fc7\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u66b4\u529b\u6269\u5c55\n\n\u6269\u5c55\u9014\u4e2d\u5982\u679c\u9047\u5230\u4e00\u4e2a\u66fe\u7ecf\u6269\u5c55\u8fc7\u7684\u70b9\uff0c\u90a3\u4e48\u5b83\u7684\u6269\u5c55\u7ed3\u679c\uff08\u4ee5\u53ca\u6cbf\u9014\u7ecf\u8fc7\u70b9\u7684\u7ed3\u679c\uff09\u5c31\u90fd\u662f\u5df2\u77e5\u7684\u4e86\uff1a\u5c31\u662f\u90a3\u4e2a\u6269\u5c55\u8fc7\u7684\u70b9\n\n\u90a3\u4e48\uff0c\u6bcf\u4e2a\u70b9\u90fd\u53ea\u4f1a\u6269\u5c55\u4e00\u6b21\uff0c\u590d\u6742\u5ea6O\uff08N^2\uff09\n\n\n\u8d34\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nchar map[1010][1010];\nbool vis[1010][1010],it[1010][1010];//vis[i][j]\u8868\u793a\u662f\u5426\u8bbf\u95ee\u8fc7\uff0cit\u8bb0\u5f55\u662f\u5426\u80fd\u5230\u8fbe\nint n,m,ans;\nbool tryit(int i,int j)\n{\n    if(vis[i][j]==true)\n    {\n        return it[i][j];//\u8bbf\u95ee\u8fc7\u4e86\uff0c\u76f4\u63a5\u8fd4\u56de\n    }\n    vis[i][j]=true;//\u6807\u8bb0\n    if(map[i][j]=='o') return it[i][j]=true;//\u5230\u8fbe\u65e0\u98ce\u70b9\n    if(i>n||j>m||i<=0||j<=0) return it[i][j]=false;//\u8d8a\u754c\n        if(map[i][j]=='u') i--;\n    if(map[i][j]=='d') i++;\n    if(map[i][j]=='l') j--;\n    if(map[i][j]=='r') j++;//\u5224\u65ad\u65b9\u5411\n    return it[i][j]=tryit(i,j);//\u7ee7\u7eed\u641c\u7d22\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;++i)\n    {\n        for(int j=1;j<=m;++j)\n        {\n            cin>>map[i][j];\n        }\n    }\n    for(int i=1;i<=n;++i)\n    {\n        for(int j=1;j<=m;++j)\n        {\n            if(!vis[i][j])//\u6ca1\u6269\u5c55\u8fc7\uff0c\u641e\u6bd4\u5229\uff0c\u5478\uff0c\u66b4\u529b\n            {\n                it[i][j]=tryit(i,j);\n            }\n            ans+=it[i][j];//\u7136\u540e\u7d2f\u548c\n        }\n    }\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1501240794,
        "uid": 35718,
        "name": "MloVtry",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "\n\n    \n\n\n```cpp\n//\u57fa\u672c\u601d\u8def\uff1a\u6240\u6709\u65e0\u98ce\u70b9\u90fd\u53ef\u4ee5\u76f4\u63a5\u653e\u7f6e\u4f1e\u5175\n//                 \u5982\u679c\u4e00\u4e2a\u70b9p\u53ef\u4ee5\u653e\u7f6e\u4f1e\u5175\u4e14\u5b83\u65c1\u8fb9\u7684\u70b9k\u53ef\u4ee5\u5230\u8fbep\uff0c\u5219k\u4e5f\u53ef\u4ee5\u653e\u7f6e\u4f1e\u5175\n//      \u6ce8\u610f\uff1a\u6b64\u9898\u5e94\u8be5\u7528\u9012\u5f52\u51fd\u6570\u641c\u7d22  \u7528\u961f\u5217\u641c\u7d22\u4f1aTLE\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <iostream>\nusing namespace std;\nint m,n;\nchar l[1001][1001];\nbool ptb[1001][1001];\nint ans=0;//\u6700\u7ec8\u7b54\u6848 \nstruct point//\u5b9a\u4e49  \u7ed3\u6784\u4f53  \u70b9 \n{\n    int x,y;\n    point(int px,int py)//\u6784\u9020\u51fd\u6570\n    {\n        x=px;y=py;\n    }\n    point()//\u6784\u9020\u51fd\u6570    \u8fd9\u4e2a\u6784\u9020\u51fd\u6570\u4e00\u5b9a\u8981\u5199\uff0c\u5426\u5219\u901a\u4e0d\u8fc7\u7f16\u8bd1\n    {\n        x=0;y=0;\n    }\n};\npoint nwp[1000001];//\u65e0\u98ce\u70b9 \nint nwpn=0;//\u65e0\u98ce\u70b9\u7684\u6570\u91cf \nvoid dfs(point tp)//dfs\u641c\u7d22\u51fd\u6570\n{\n    ans++;\n    if (l[tp.x][tp.y-1]=='r'&&(!ptb[tp.x][tp.y-1])) dfs(point(tp.x,tp.y-1));//\u5982\u679ctp\u5de6\u8fb9\u7684\u70b9\u7684\u98ce\u5411\u5411\u53f3\uff0c\u5219dfs(tp\u5de6\u8fb9\u7684\u70b9)\n    if (l[tp.x][tp.y+1]=='l'&&(!ptb[tp.x][tp.y+1])) dfs(point(tp.x,tp.y+1));\n    if (l[tp.x+1][tp.y]=='u'&&(!ptb[tp.x+1][tp.y])) dfs(point(tp.x+1,tp.y));\n    if (l[tp.x-1][tp.y]=='d'&&(!ptb[tp.x-1][tp.y])) dfs(point(tp.x-1,tp.y));\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    char rs[1001];\n    memset(ptb,false,sizeof(ptb));\n    for (int i=1;i<=n;i++)\n    {\n        scanf(\"%s\",&rs);\n        for (int j=1;j<=m;j++)\n        {\n            l[i][j]=rs[j-1];\n            if (rs[j-1]=='o') nwp[++nwpn]=point(i,j);\n        }\n    }\n    for (int i=1;i<=nwpn;i++)//dfs(\u6240\u6709\u65e0\u98ce\u70b9)\n    {\n        dfs(nwp[i]);\n    }\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1490283944,
        "uid": 40004,
        "name": "\u9ece\u660e\u884c\u8005",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "\u5176\u5b9e\u8fd9\u662f\u4e00\u9053\u5f88\u7b80\u5355\u7684[u]\u5e7f\u641c[/u]\u9898\u76ee\uff1a\n\n\u961f\u5217\u4e2d\u5148\u5b58\u597d\u6bcf\u4e2a\u201co\u201d\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u6269\u5c55\u5c31\u53ef\u4ee5\u4e86\uff08\u6269\u5c55\u597d\u7684\u70b9\u8bb0\u5f97\u6807\u793a\u6389\uff09\n\n\u6700\u540e\u8f93\u51fa\u603b\u4e2a\u6570\uff08\u5c3e\u6307\u9488\uff09\n\n<hr>\n\u4e0a\u7a0b\u5e8f\uff1a\n\n```delphi\n\nvar n,m,h,t,i,j,p,q:longint;a:array[1..1000,1..1000]of char;\n    x,y:array[1..1000000]of longint;\nbegin\n  readln(n,m);\n  h:=0;t:=0;\n  for i:=1 to n do\n  begin\n  for j:=1 to m do\n  begin\n  read(a[i,j]);\n  if a[i,j]='o' then begin inc(t);x[t]:=i;y[t]:=j;end;//'o'\u5165\u961f\n  end;\n  readln;\n  end;\n  repeat//\u5f00\u59cb\u641c\n  inc(h);\n  p:=x[h];q:=y[h];\n  if p>1 then\n  if a[p-1,q]='d' then  //\u4e0a\u9762\u7684\u70b9\u98ce\u5f80\u4e0b\u5439\uff0c\u5c31\u80fd\u5230\u8fd9\u4e2a\u70b9\n  begin\n  a[p-1,q]:='o';//\u6807\u793a\n  inc(t);       //\u5165\u961f\n  x[t]:=p-1;\n  y[t]:=q;\n  end;\n  if p<n then\n  if a[p+1,q]='u' then  //\u4ee5\u4e0b\u540c\u4e0a\n  begin\n  a[p+1,q]:='o';\n  inc(t);\n  x[t]:=p+1;\n  y[t]:=q;\n  end;\n  if q>1 then\n  if a[p,q-1]='r' then\n  begin\n  a[p,q-1]:='o';\n  inc(t);\n  x[t]:=p;\n  y[t]:=q-1;\n  end;\n  if q<m then\n  if a[p,q+1]='l' then\n  begin\n  a[p,q+1]:='o';\n  inc(t);\n  x[t]:=p;\n  y[t]:=q+1;\n  end;\n  until h=t;\n  writeln(t);  //\u5c3e\u6307\u9488\u4ee3\u8868\u5171\u5165\u961f\u4e86\u51e0\u4e2a\u6570\uff0c\u5c31\u76f8\u5f53\u4e8e\u53ef\u4ee5\u653e\u4f1e\u5175\u7684\u70b9\u4e2a\u6570\nend.\n\n```",
        "postTime": 1383442345,
        "uid": 885,
        "name": "wanglichao1121",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "\u6b64\u9898\u53ef\u4ee5\u8fd9\u6837\u6765\u601d\u8003\uff1a\n\n\u4f1e\u5175\u53ea\u6709\u5230\u65e0\u51e4\u7684o\u70b9\u624d\u80fd\u964d\u843d\n\n\u90a3\u6211\u4eec\u4e0d\u59a8\u5c31\u4eceo\u70b9\u627e\u8d77\uff0c\u9006\u63a8\u4e0a\u53bb\n\n\u6bcf\u6b21\u7ecf\u8fc7\u4e00\u4e2a\u70b9\uff0c\u6807\u8bb0\u4e00\u4e0b\n\uff08\u8868\u793a\u8fd9\u4e2a\u70b9\u53ef\u4ee5\u5230o\u70b9\uff09\n\n\u6ce8\u610f\uff1a\u679a\u4e3e\u56db\u5468\u80fd\u5426\u5230\u8fbe\u7684\u65f6\u5019\u8981\u53cd\u4e00\u4e0b\n\n\u6bd4\u5982A\u5728B\u7684\u5317\u65b9,A\u70b9\u7684\u4f1e\u5175\u98d8\u5230B\u70b9\u9700\u8981\u5411\u5357\u7684\u98ce\n\n\u6700\u540e\u6570\u4e00\u4e0b\u6807\u8bb0\u7684\u4e2a\u6570\n\n\u6ce8\u91ca\u89c1\u4ee3\u7801\n\ncode\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nchar a[1100][1100];\nbool tong[1011][1011];//\u6876\u6570\u7ec4\u6807\u8bb0\nint i,j,n,m,s;\nvoid dfs(int x,int y)\n{\n\tif (x<1||y<1||x>n||y>m||tong[x][y])\n\treturn;\n\ttong[x][y]=1;\n\tif (a[x+1][y]=='u')\n\tdfs(x+1,y);//\u679a\u4e3e\u5357\u8fb9\u7684\u70b9\n\tif (a[x-1][y]=='d')\n\tdfs(x-1,y);//\u679a\u4e3e\u5317\u8fb9\u7684\u70b9\n\tif (a[x][y+1]=='l')\n\tdfs(x,y+1);//\u679a\u4e3e\u4e1c\u8fb9\u7684\u70b9\n\tif (a[x][y-1]=='r')\n\tdfs(x,y-1);//\u679a\u4e3e\u897f\u8fb9\u7684\u70b9\n}\nint main()\n{\n\tcin>>n>>m;\n\tfor (i=1;i<=n;++i)//++i\u6bd4i++\u5feb\n\tfor (j=1;j<=m;++j)\n\t\tcin>>a[i][j];\n\t\tfor (i=1;i<=n;++i)\n\t\tfor (j=1;j<=m;++j)\n\t\tif (a[i][j]=='o')\n   \tdfs(i,j);//\u627e\u5230\u4e00\u4e2a\u6ca1\u6709\u98ce\u7684\u70b9\uff0c\u641c\u7d22\n\tfor (i=1;i<=n;++i)\n\tfor (j=1;j<=m;++j)\n\tif (tong[i][j])s++;//\u7edf\u8ba1\u80fd\u5230\u8fbe\u7684\u70b9\u7684\u6570\u76ee\n\tcout<<s;\n } \n```\n",
        "postTime": 1569752479,
        "uid": 234101,
        "name": "yyandy",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u5f88\u660e\u663e\u7684\u5e7f\u641c\uff08\u6c34\uff09\u9898\n\n\u4ece\u65e0\u98ce\u70b9\u5f00\u59cb\u6269\u5c55\n\n\u77e5\u9053\u4e0d\u80fd\u8d70\u4e3a\u6b62\n\n\n\u5949\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n\nusing namespace std;\nint n,m,que[10000][5],h,t,sum;\nint mx[5]={0,0,0,1,-1},//1 2 3 4\n\tmy[5]={0,1,-1,0,0};//E W S N//\u63a7\u5236\u65b9\u5411\nbool vis[1005][1005];//\u6807\u8bb0\u6570\u7ec4\nint a[1005][1005];\nvoid bfs(){\n\th=t=1;\n\twhile(h<=t){\n\t\tint x=que[h][1],y=que[h][2];\n\t\tfor(int i=1;i<=4;i++){\n\t\t\tint tx=mx[i]+x,ty=my[i]+y;\n\t\t\tif(tx>=1&&tx<=n&&ty>=1&&tx<=n&&i==a[tx][ty]&&vis[tx][ty]==0){\n\t\t\t\tvis[tx][ty]=1;sum++;\n\t\t\t\tque[++t][1]=tx;que[t][2]=ty;\n\t\t\t}\n\t\t}\n\t\th++;\n\t}\n}\nint main()\n{\n\tios::sync_with_stdio(0);\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tchar x;\n\t\t\tcin>>x;\n\t\t\tif(x=='u') a[i][j]=3;\n\t\t\telse if(x=='d') a[i][j]=4;\n\t\t\telse if(x=='l') a[i][j]=1;\n\t\t\telse if(x=='r') a[i][j]=2;\n\t\t\telse a[i][j]=0;//\u8f93\u5165\u65f6\u8f6c\u5316\u65b9\u5411\n\t\t}\n\t}for(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(a[i][j]==0){\n\t\t\t\tque[1][1]=i;que[1][2]=j;sum++;\n\t\t\t\tbfs();\n\t\t\t}\n\t\t}\n\t}cout<<sum;\n\treturn 0;\n}\n```\n\u9898\u89e3\u91cc\u6709\u4f7f\u7528DFS\u505a\u7684\uff0c\u6bd4\u8fd9\u66f4\u7b80\u6d01\uff0c\u800c\u4e14\u5f00\u4e86O2\u4f18\u5316\u7684DFS\u6bd4\u6211\u7684BFS\u8fd8\u8981\u5feb\n\n\u543e\u738b\u5251\u950b\u6240\u6307\uff0c\u543e\u7b49\u5fc3\u4e4b\u6240\u5411\u3002",
        "postTime": 1523053671,
        "uid": 60939,
        "name": "\u6e05\u98ce\u6211\u5df2\u901d",
        "ccfLevel": 0,
        "title": "\u89e3\u9898\u62a5\u544a P1913 \u3010L\u56fd\u7684\u6218\u6597\u4e4b\u4f1e\u5175\u3011"
    }
]