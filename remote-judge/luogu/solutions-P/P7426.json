[
    {
        "content": "## Update\n- $\\texttt{2021.3.11}$ \u4fee\u590d\u4e86\u4e00\u4e2a\u7b14\u8bef\u3002\n\n## Content\n\u592a\u957f\u4e86\uff0c\u8bf7\u76f4\u63a5\u8df3\u8f6c\u56de[\u9898\u9762](https://www.luogu.com.cn/problem/P7426)\u67e5\u770b\u3002\n\n**\u6570\u636e\u8303\u56f4\uff1a$n\\leqslant 10^4$\uff0c$0\\leqslant a,b\\leqslant 59$\uff0c$0\\leqslant c\\leqslant 100$\uff0c$m\\leqslant 10^5$\uff0c$0\\leqslant l\\leqslant 100$\uff0c$0\\leqslant s\\leqslant 10^6$\u3002**\n\n\u53d8\u91cf\u542b\u4e49\u540c\u539f\u9898\u9762\u3002\n## Solution\n\u5f88\u70e6\u4eba\u7684\u4e00\u9053\u5927\u6a21\u62df\u3002\n\n\u65e2\u7136\u9898\u76ee\u8bf4\u6210\u7ee9\u5206\u4e94\u90e8\u5206\uff0c\u90a3\u6211\u4eec\u7684\u7a0b\u5e8f\u4e5f\u5206\u4e94\u90e8\u5206\u8fdb\u884c\uff1a\n### Part 1 \u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9\n\u8fd9\u4e2a\u76f4\u63a5\u8f93\u5165\u5b8c\u5c31\u5f80\u603b\u5206\u6570\u91cc\u9762\u52a0\uff0c\u4e0d\u9700\u8981\u591a\u8bb2\u3002\n### Part 2 \u957f\u8dd1\u6210\u7ee9\n\u8bfb\u5165\u7684\u65f6\u5019\u8fd0\u7528\u4e86\u4e00\u4e2a\u5c0f trick\uff1a\u6211\u4eec\u77e5\u9053 `scanf` \u662f\u53ef\u4ee5\u6309\u7167\u683c\u5f0f\u8bfb\u5165\u7684\uff0c\u6240\u4ee5\u76f4\u63a5\u7528 `\"%d'%d\\\"\"` \u7684\u683c\u5f0f\u8bfb\u5165\u5373\u53ef\u3010**\u6ce8\u610f\uff01\u5728\u5b57\u7b26\u4e32\u91cc\u9762\u60f3\u8981\u6253\u5165 `\"` \u9700\u8981\u5728\u5176\u524d\u9762\u52a0\u4e00\u4e2a\u53cd\u659c\u6760\uff08`\\`\uff09**\u3011\u3002\n\n\u7136\u540e\uff0c\u76f4\u63a5\u62ff\u5206\u949f\u6570\u548c\u79d2\u6570\u53bb\u5bf9\u6bd4\u663e\u7136\u6709\u70b9\u9ebb\u70e6\uff0c\u6211\u4eec\u4e0d\u59a8\u76f4\u63a5\u5c06\u5176\u8f6c\u5316\u4e3a\u79d2\u6570\u3002\u6211\u4eec\u90fd\u77e5\u9053 $1$ \u5206\u949f\u6709 $60$ \u79d2\uff0c\u6240\u4ee5\u5c06\u8bfb\u5165\u7684\u65f6\u95f4\u76f4\u63a5\u8f6c\u5316\u6210\u79d2\u6570\u5c31\u662f $a\\times 60+b$\u3002\u518d\u53bb\u6bd4\u5bf9\u9898\u76ee\u4e2d\u7684\u8868\u683c\u3002\u628a\u9898\u76ee\u4e2d\u7684\u8868\u683c\u4e2d\u7684\u65f6\u95f4\u8f6c\u5316\u6210\u79d2\u6570\uff0c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u8868\u683c\uff08\u5efa\u8bae\u53bb\u9898\u89e3\u754c\u9762\u67e5\u770b\uff09\uff1a\n\n| \u957f\u8dd1\u5f97\u5206 | $20$ | $18$ | $16$ | $14$ | $12$ | $10$ | $8$ | $6$ | $4$ | $2$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| \u7537\u751f/\u79d2 | $750$ | $780$ | $810$ | $840$ | $870$ | $910$ | $950$ | $990$ | $1030$ | $1080$ |\n| \u5973\u751f/\u79d2 | $400$ | $417$ | $434$ | $451$ | $470$ | $485$ | $500$ |  $515$ | $530$ | $540$ |\n\n\u7136\u540e\u76f4\u63a5\u4e00\u6ce2 if-else \u641e\u5b9a\u3002\n### Part 3 \u9633\u5149\u957f\u8dd1\n\u672c\u9898\u7684**\u91cd\u5934\u620f**\uff0c\u56e0\u4e3a\u8981\u8003\u8651\u7684\u60c5\u51b5\u5b9e\u5728\u662f\u592a\u591a\u4e86\u3002\n\n\u9996\u5148\u8981\u5c06\u5bf9\u5e94\u7684\u957f\u8dd1\u6570\u636e\u8f6c\u5165\u5230\u5bf9\u5e94\u7684\u4eba\u4e2d\u3002\u8fd9\u91cc\u5982\u679c\u76f4\u63a5\u5f00\u6570\u7ec4\u7684\u8bdd\uff0c\u663e\u7136\uff0c$10^4\\times 1.5\\times 10^5=1.5\\times 10^ 9$ \u663e\u7136\u7a7a\u95f4\u7206\u70b8\uff0c\u6240\u4ee5\u8003\u8651\u5f00\u4e2a `vector`\uff0c\u8bfb\u5165\u7684\u65f6\u5019\u5c06\u6240\u6709\u7684\u6570\u636e\u50a8\u5b58\u5230\u4e00\u4e2a\u7ed3\u6784\u4f53\u53d8\u91cf\u5f53\u4e2d\uff0c\u518d\u76f4\u63a5\u8f6c\u5165\u5230\u5bf9\u5e94\u7684\u4eba\u4e2d\u53bb\u3002\n\n\u8fd9\u91cc\u53c8\u6709\u4e00\u4e2a trick\uff1a\u6211\u4eec\u901a\u8fc7 STL \u4e2d\u7684 `map`\uff0c\u5c06\u6240\u6709\u7684\u4eba\u7684\u5b66\u53f7\u6620\u5c04\u5230\u5176\u5728\u8f93\u5165\u6570\u636e\u4e2d\u7684\u7f16\u53f7\uff0c\u8fd9\u6837\u5904\u7406\u8d77\u6765\u5c31\u5f88\u7b80\u5355\uff0c\u4e0d\u9700\u8981\u518d\u53bb\u66b4\u529b\u5faa\u73af\u627e\u4e86\u3002\n\n\u6240\u6709\u7684\u957f\u8dd1\u539f\u59cb\u6570\u636e\u90fd\u8f6c\u79fb\u5230\u5bf9\u5e94\u7684\u4eba\u4e0a\u9762\u53bb\u540e\uff0c\u6211\u4eec\u6ce8\u610f\u5230\uff0c\u5728\u6bcf\u4e2a\u4eba\u5e95\u4e0b\u7684\u957f\u8dd1\u539f\u59cb\u6570\u636e\u5e76\u4e0d\u4e00\u5b9a\u662f\u6709\u5e8f\u7684\uff0c\u7136\u800c\u9898\u76ee\u5f53\u4e2d **\u5f00\u59cb\u65f6\u95f4\u9700\u4e0e\u4e0a\u6761\u5408\u6cd5\u8bb0\u5f55\u7684\u7ed3\u675f\u65f6\u95f4\u95f4\u9694 $6$ \u5c0f\u65f6\u4ee5\u4e0a\uff08\u5305\u542b $6$ \u5c0f\u65f6\uff09** \u8fd9\u4e2a\u6761\u4ef6\u8981\u6c42\u6211\u4eec\u4e00\u5b9a\u8981\u5bf9\u8fd9\u4e9b\u6570\u636e\u8fdb\u884c\u4e00\u5b9a\u7a0b\u5ea6\u7684\u6392\u5e8f\u3002\n\n\u65e2\u7136\u8fd9\u6837\u90a3\u5c31\u5bf9\u8fd9\u4e9b\u6570\u636e\u6392\u5e8f\u5427\uff0c\u8fd9\u91cc\u4f60\u53ef\u4ee5\u76f4\u63a5\u5728\u7ed3\u6784\u4f53\u4e0b\u9762\u5b9a\u4e49\u91cd\u8f7d\u8fd0\u7b97\u7b26\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5f04\u4e00\u4e2a `compare` \u51fd\u6570\uff0c\u90fd\u80fd\u591f\u8d77\u5230\u81ea\u5b9a\u4e49\u6392\u5e8f\u7684\u4f5c\u7528\u3002\n\n\u8fd9\u9053\u9898\u76ee\u5bf9\u4e8e\u9633\u5149\u957f\u8dd1\u7684\u5408\u6cd5\u6761\u4ef6\u5b9e\u5728\u662f\u591a\uff0c\u4f46\u6211\u4eec\u53ea\u80fd\u591f\u4e00\u4e2a\u4e00\u4e2a\u53bb\u5bf9\u4e86\uff0c\u5efa\u8bae\u6309\u7167\u4ee5\u4e0b\u6b21\u5e8f\uff1a\n\n- \u5982\u679c\u7537\u751f\u8dd1\u6b65\u8def\u7a0b $<3000$ \u7c73\uff0c\u5973\u751f\u8dd1\u6b65\u8def\u7a0b $<1500$ \u7c73\uff0c\u90a3\u4e48\u8fd9\u6761\u8bb0\u5f55\u5c31\u4e0d\u5408\u6cd5\u3002\n- \u5426\u5219\uff0c\u5982\u679c\u8dd1\u6b65\u901f\u5ea6 $<2\\operatorname{m/s}$\uff0c\u6216\u8005 $>5\\operatorname{m/s}$\uff0c\u6216\u8005\u5e73\u5747\u6b65\u5e45 $>1.5\\operatorname{m/s}$\uff0c\u6216\u8005\u603b\u4f11\u606f\u65f6\u95f4 $>270$ \u79d2\uff08\u540c\u6837\u4e5f\u662f\u7528\u7684\u5904\u7406\u957f\u8dd1\u6210\u7ee9\u65f6\u7684 trick\uff09\uff0c\u90a3\u4e48\u8fd9\u6761\u8bb0\u5f55\u4e0d\u5408\u6cd5\u3002\n- \u5426\u5219\uff0c\u5982\u679c\u76ee\u524d\u8bb0\u5f55\u662f\u8fd9\u4f4d\u540c\u5b66\u7684\u7b2c $1$ \u6761\u957f\u8dd1\u8bb0\u5f55\uff0c\u90a3\u4e48\u8fd9\u6761\u8bb0\u5f55\u5c31\u5df2\u7ecf\u662f\u5408\u6cd5\u7684\u4e86\uff0c\u8ba1\u5165\u8ba1\u6570\u5668\u3002\n- \u5982\u679c\u8fd9\u6761\u8bb0\u5f55\u4e0d\u662f\u7b2c $1$ \u6761\u8bb0\u5f55\uff0c\u90a3\u4e48\u7ee7\u7eed\u5f80\u4e0b\u5224\u65ad\u3002\u63d0\u53d6\u51fa\u4e0a\u6761\u8bb0\u5f55\u7684\u7ed3\u675f\u65f6\u95f4\u7684\u5e74\u3001\u6708\u3001\u65e5\u3001\u65f6\u3001\u5206\u3001\u79d2\u548c\u76ee\u524d\u8bb0\u5f55\u7684\u5f00\u59cb\u65f6\u95f4\u7684\u5e74\u3001\u6708\u3001\u65e5\u3001\u65f6\u3001\u5206\u3001\u79d2\u3002\n- \u5982\u679c\u6708\u4efd\u4e0d\u4e00\u6837\uff0c\u90a3\u4e48\u5224\u65ad\u662f\u5426\u8d85\u8fc7\u4e86 $1$ \u4e2a\u6708\u3002\u8d85\u8fc7\u4e86\u4e00\u4e2a\u6708\u7684\u8bdd\u8fd9\u6761\u8bb0\u5f55\u5c31\u662f\u5408\u6cd5\u7684\u3002\n- \u5426\u5219\u8fd9\u4e24\u6761\u8bb0\u5f55\u5c31\u662f\u76f8\u90bb\u6708\u4efd\u7684\uff0c\u7136\u540e\u6211\u4eec\u518d\u770b\u4e0a\u6b21\u5408\u6cd5\u8bb0\u5f55\u7684\u7ed3\u675f\u65f6\u95f4\u662f\u4e0d\u662f\u5728\u4e0a\u4e00\u4e2a\u6708\u7684\u6700\u540e\u4e00\u5929\uff0c\u4e14\u8be5\u6761\u8bb0\u5f55\u7684\u5f00\u59cb\u65f6\u95f4\u662f\u4e0d\u662f\u5728\u672c\u6708\u7684\u7b2c\u4e00\u5929\u3002\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u4e48\u8fd9\u6761\u8bb0\u5f55\u5c31\u662f\u5408\u6cd5\u7684\u3002\n- \u5426\u5219\uff0c\u8fd9\u4e24\u5929\u5176\u5b9e\u53ea\u76f8\u9694\u4e00\u5929\uff0c\u6211\u4eec\u518d\u770b\u770b\u5b83\u4eec\u7684\u95f4\u9694\u65f6\u95f4\u662f\u5426\u5927\u4e8e $6$ \u5c0f\u65f6\uff0c\u4e5f\u5c31\u662f $21600$ \u79d2\u5373\u53ef\u3002\u6708\u4efd\u4e0d\u4e00\u6837\u7684\u5c31\u7b97\u5904\u7406\u5b8c\u4e86\u3002\n- \u63a5\u4e0b\u6765\uff0c\u5982\u679c\u8fd9\u4e24\u4e2a\u65e5\u671f\u4e0d\u5728\u540c\u4e00\u5929\uff0c\u6211\u4eec\u518d\u770b\u76f8\u9694\u5929\u6570\uff0c\u5982\u679c\u8d85\u8fc7 $1$ \u5929\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8bb0\u5f55\u5c31\u662f\u5408\u6cd5\u7684\u3002\n- \u5426\u5219\uff0c\u90a3\u4e48\u8fd9\u4e24\u4e2a\u65e5\u671f\u76f8\u9694\u5929\u6570\u6b63\u597d\u4e00\u5929\uff0c\u6211\u4eec\u53ea\u9700\u8981\u770b\u8fd9\u4e24\u4e2a\u8bb0\u5f55\u7684\u95f4\u9694\u65f6\u95f4\u662f\u5426\u5927\u4e8e $6$ \u5c0f\u65f6\u5373\u53ef\u3002\u5929\u4efd\u4e0d\u4e00\u6837\u7684\u60c5\u51b5\u4e5f\u5904\u7406\u5b8c\u4e86\u3002\n- \u6700\u540e\uff0c\u8fd9\u4e24\u4e2a\u65e5\u671f\u6b63\u597d\u662f\u5728\u540c\u4e00\u5929\uff0c\u76f4\u63a5\u62ff\u4e24\u4e2a\u65f6\u95f4\u76f8\u51cf\u770b\u65f6\u95f4\u662f\u5426\u5927\u4e8e $6$ \u5c0f\u65f6\u5373\u53ef\u3002\n\n\u5408\u6cd5\u8bb0\u5f55\u7684\u6570\u91cf\u5c31\u8fd9\u6837\u641e\u5b9a\u4e86\u3002\u90a3\u4e48\u4ece\u8fd9\u91cc\u5f00\u59cb\u5c31\u5f88\u7b80\u5355\u4e86\uff01\u9996\u5148\uff0c\u8fd9\u4e00\u90e8\u5206\u7684\u5206\u6570\u53ea\u9700\u8981\u4e00\u6ce2 if-else \u5c31\u80fd\u591f\u641e\u5b9a\u3002\n### Part 4 \u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\n\u53ea\u9700\u8981\u770b\u7ed9\u51fa\u7684\u5b57\u7b26\u662f\u5426\u662f `P`\uff0c\u662f\u7684\u8bdd\u5206\u6570 $+10$\uff0c\u5426\u5219\u4e0d\u53d8\u3002\n### Part 5 \u5927\u4e00\u4e13\u9879\u8ba1\u5212\n\u8fd9\u91cc\u53c8\u5206\u4e3a\u4e24\u90e8\u5206\u3002\n#### Part 5.1 \u51fa\u52e4\n\u7531\u9898\u76ee\u53ef\u77e5\uff0c\u6b21\u6570\u5c31\u7b49\u4e8e\u73ed\u7ea7\u8bad\u7ec3\u8425\u7684\u53c2\u52a0\u6b21\u6570\u548c\u5728 Part 3 \u91cc\u9762\u5904\u7406\u5b8c\u7684\u9633\u5149\u957f\u8dd1\u5408\u6cd5\u8bb0\u5f55\u6b21\u6570\u7684\u548c\u3002\u5f97\u5230\u51fa\u52e4\u6b21\u6570\u4e4b\u540e\u53c8\u662f\u4e00\u6ce2 if-else \u641e\u5b9a\u5206\u6570\u3002\n#### Part 5.2 \u671f\u672b\u68c0\u6d4b\n\u8fd9\u4e2a\u76f4\u63a5\u8f93\u5165\u5b8c\u5c31\u5f80\u603b\u5206\u6570\u91cc\u9762\u52a0\uff0c\u4e0d\u9700\u8981\u591a\u8bb2\u3002\n\n\u6700\u540e\u7684\u8f93\u51fa\u7b49\u7b2c\u4e5f\u662f\u76f4\u63a5\u4e00\u6ce2 if-else \u641e\u5b9a\u3002\n\n\u90a3\u4e48\u8fd9\u9053\u9898\u76ee\u4e5f\u5c31\u7b97\u505a\u5b8c\u4e86\u3002\u6700\u540e\u53cb\u60c5\u63d0\u793a\uff0c\u505a\u8fd9\u9053\u9898\u76ee\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u6c89\u4e0b\u5fc3\u6765\u4e00\u6b65\u4e00\u6b65\u53bb\u505a\uff01\u4e0d\u7136\u7a0d\u6709\u4e2a\u4e00\u4e0d\u7559\u795e $100$ \u5206\u5c31**\u5168\u6ca1\u6709\u4e86**\u3002\n\n\u4e0b\u9762\u7ed9\u51fa\u5177\u4f53\u4ee3\u7801\u5b9e\u73b0\uff0c\u914d\u6709\u8be6\u7ec6\u6ce8\u91ca\uff0c\u4ec5\u4f9b\u53c2\u8003\uff0c\u8bf7\u52ff\u6284\u88ad\u3002\n## Code\n```cpp\nstruct sunnyrun {\n\tint y, m, d, hs, ms, ss, ht, mt, st, rest, step;\n\tdouble l;\n\tbool operator < (const sunnyrun& tmp) const {\n\t\t//\u6309\u7167\u8bb0\u5f55\u5f00\u59cb\u65f6\u95f4\u6392\u5e8f\n\t\tif(y != tmp.y) return y < tmp.y;\n\t\telse if(m != tmp.m) return m < tmp.m;\n\t\telse if(d != tmp.d) return d < tmp.d;\n\t\telse if(hs != tmp.hs) return hs < tmp.hs;\n\t\telse if(ms != tmp.ms) return ms < tmp.ms;\n\t\treturn ss < tmp.ss;\n\t}\n};\nstruct student {\n\tint mf, s, a, b, pf, f, c, score, num2, num;\n\tll p;\n\tvector<sunnyrun> q;\n\t/*\n\t\tmf\uff1a1 \u8868\u793a\u7537\u751f\uff0c0 \u8868\u793a\u5973\u751f\n\t\tpf\uff1a1 \u8868\u793a\u901a\u8fc7\uff0c0 \u8868\u793a\u6ca1\u6709\u901a\u8fc7\t\n\t*/\n}a[10007];\nconst int mm[17] = {0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\ndouble l;\nmap<ll, int> vis;\n\ninline int calcms(int a, int b) {return a * 60 + b;}\n// \u5206\u79d2\u5f62\u5f0f\u7684\u65f6\u95f4\u8f6c\u6362\u6210\u79d2\ninline int calchms(int a, int b, int c) {return a * 3600 + b * 60 + c;}\n// \u65f6\u5206\u79d2\u5f62\u5f0f\u7684\u65f6\u95f4\u8f6c\u6362\u6210\u79d2\ninline int s1(int x) {return a[x].s;} //\u76f4\u63a5\u8ba1\u5165\u5206\u6570\ninline int s2(int x) {\n\tif(a[x].mf) {\n\t\tif(calcms(a[x].a, a[x].b) <= 750) return 20;\n\t\telse if(calcms(a[x].a, a[x].b) > 750 && calcms(a[x].a, a[x].b) <= 780) return 18;\n\t\telse if(calcms(a[x].a, a[x].b) > 780 && calcms(a[x].a, a[x].b) <= 810) return 16;\n\t\telse if(calcms(a[x].a, a[x].b) > 810 && calcms(a[x].a, a[x].b) <= 840) return 14;\n\t\telse if(calcms(a[x].a, a[x].b) > 840 && calcms(a[x].a, a[x].b) <= 870) return 12;\n\t\telse if(calcms(a[x].a, a[x].b) > 870 && calcms(a[x].a, a[x].b) <= 910) return 10;\n\t\telse if(calcms(a[x].a, a[x].b) > 910 && calcms(a[x].a, a[x].b) <= 950) return 8;\n\t\telse if(calcms(a[x].a, a[x].b) > 950 && calcms(a[x].a, a[x].b) <= 990) return 6;\n\t\telse if(calcms(a[x].a, a[x].b) > 990 && calcms(a[x].a, a[x].b) <= 1030) return 4;\n\t\telse if(calcms(a[x].a, a[x].b) > 1030 && calcms(a[x].a, a[x].b) <= 1080) return 2;\n\t\telse return 0; // \u5982\u679c\u4e0a\u9762\u7684\u90fd\u4e0d\u7b26\u5408\u4e00\u5b9a\u8981\u8bb0\u5f97 return 0\uff01\u4e0d\u7136\u53ef\u80fd\u4f1a RE\n\t} else {\n\t\tif(calcms(a[x].a, a[x].b) <= 400) return 20;\n\t\telse if(calcms(a[x].a, a[x].b) > 400 && calcms(a[x].a, a[x].b) <= 417) return 18;\n\t\telse if(calcms(a[x].a, a[x].b) > 417 && calcms(a[x].a, a[x].b) <= 434) return 16;\n\t\telse if(calcms(a[x].a, a[x].b) > 434 && calcms(a[x].a, a[x].b) <= 451) return 14;\n\t\telse if(calcms(a[x].a, a[x].b) > 451 && calcms(a[x].a, a[x].b) <= 470) return 12;\n\t\telse if(calcms(a[x].a, a[x].b) > 470 && calcms(a[x].a, a[x].b) <= 485) return 10;\n\t\telse if(calcms(a[x].a, a[x].b) > 485 && calcms(a[x].a, a[x].b) <= 500) return 8;\n\t\telse if(calcms(a[x].a, a[x].b) > 500 && calcms(a[x].a, a[x].b) <= 515) return 6;\n\t\telse if(calcms(a[x].a, a[x].b) > 515 && calcms(a[x].a, a[x].b) <= 530) return 4;\n\t\telse if(calcms(a[x].a, a[x].b) > 530 && calcms(a[x].a, a[x].b) <= 540) return 2;\n\t\telse return 0; // \u540c\u4e0a\n\t}\n}\ninline int s3(int x) {\n\tint cnt = 0, flg1 = 0; sunnyrun lst;\n\tsort(a[x].q.begin(), a[x].q.end()); //\u6309\u7167\u8bb0\u5f55\u5f00\u59cb\u65f6\u95f4\u6392\u5e8f\n\tint sze = a[x].q.size();\n\tF(i, 0, sze - 1) {\n\t\tsunnyrun now = a[x].q[i];\n\t\tif(now.l < (a[x].mf ? 3.0 : 1.5)) continue; //\u8def\u7a0b\u4e0d\u8fbe\u6807\uff0c\u4e0d\u5408\u6cd5\n\t\tint ts = calchms(now.hs, now.ms, now.ss), tt = calchms(now.ht, now.mt, now.st);\n\t\tdouble v = now.l * 1000.0 / (tt - ts), pe = now.l * 1000.0 / now.step;\n\t\tif(v < 2 || v > 5 || pe > 1.5 || now.rest > 270) continue; //\u901f\u5ea6\u3001\u6b65\u5e45\u3001\u603b\u4f11\u606f\u65f6\u95f4\u4e2d\u4efb\u610f\u4e00\u4e2a\u4e0d\u8fbe\u6807\uff0c\u4e0d\u5408\u6cd5\n\t\tif(!flg1) {flg1 = 1, lst = a[x].q[i], cnt++; continue;} //\u4ee5\u4e0a\u6761\u4ef6\u90fd\u8fbe\u6807\u4e14\u662f\u7b2c\u4e00\u4e2a\u8bb0\u5f55\uff0c\u5408\u6cd5\n\t\tts = calchms(lst.ht, lst.mt, lst.st), tt = calchms(now.hs, now.ms, now.ss); //\u5f00\u59cb\u65f6\u95f4\u548c\u7ed3\u675f\u65f6\u95f4\n\t\tif(now.m != lst.m) { //\u4e0d\u662f\u4e00\u4e2a\u6708\n\t\t\tif(now.m - 1 != lst.m) {lst = now, cnt++; continue;} //\u95f4\u9694\u8d85\u8fc7\u4e00\u4e2a\u6708\uff0c\u5408\u6cd5\n\t\t\telse {\n\t\t\t\tif(mm[lst.m] != lst.d || now.d != 1) {lst = now, cnt++; continue;} //\u4e0a\u6761\u5408\u6cd5\u8bb0\u5f55\u7684\u7ed3\u675f\u65f6\u95f4\u662f\u4e0a\u4e2a\u6708\u7684\u6700\u540e\u4e00\u5929\u3001\u8be5\u6761\u8bb0\u5f55\u7684\u5f00\u59cb\u65f6\u95f4\u662f\u8fd9\u4e2a\u6708\u7684\u7b2c\u4e00\u5929\u5f53\u4e2d\u6709\u4e00\u6761\u4e0d\u7b26\u5408\uff0c\u5408\u6cd5\n\t\t\t\telse if(86400 + tt - ts < 21600) continue; //\u95f4\u9694\u53ea\u6709\u4e00\u5929\uff0c\u5e76\u4e14\u95f4\u9694\u65f6\u95f4\u5c0f\u4e8e 6 \u5c0f\u65f6\uff0c\u4e0d\u5408\u6cd5\n\t\t\t}\n\t\t} else if(now.d != lst.d) { //\u4e0d\u662f\u540c\u4e00\u5929\n\t\t\tif(now.d - 1 != lst.d) {lst = now, cnt++; continue;} //\u95f4\u9694\u5929\u6570\u8d85\u8fc7 1 \u5929\uff0c\u5408\u6cd5\n\t\t\telse if(86400 + tt - ts < 21600) continue; //\u95f4\u9694\u53ea\u6709\u4e00\u5929\uff0c\u5e76\u4e14\u95f4\u9694\u65f6\u95f4\u5c0f\u4e8e 6 \u5c0f\u65f6\uff0c\u4e0d\u5408\u6cd5\n\t\t} else if(tt - ts < 21600) continue; //\u95f4\u9694\u65f6\u95f4\u5c0f\u4e8e 6 \u5c0f\u65f6\uff0c\u4e0d\u5408\u6cd5\n\t\tlst = now, cnt++; //\u5408\u6cd5\n\t}\n\ta[x].num2 = cnt; //\u8ba1\u5165\u6b21\u6570\n\tif(a[x].num2 >= 21) return 10;\n\telse if(a[x].num2 >= 19 && a[x].num2 <= 20) return 9;\n\telse if(a[x].num2 >= 17 && a[x].num2 <= 18) return 8;\n\telse if(a[x].num2 >= 14 && a[x].num2 <= 16) return 7;\n\telse if(a[x].num2 >= 11 && a[x].num2 <= 13) return 6;\n\telse if(a[x].num2 >= 7 && a[x].num2 <= 10) return 4;\n\telse if(a[x].num2 >= 3 && a[x].num2 <= 6) return 2;\n\telse return 0;\n}\ninline int s4(int x) {return a[x].pf ? 10 : 0;} //\u76f4\u63a5\u8ba1\u5165\u5206\u6570\ninline int s5(int x) {\n\ta[x].num = a[x].c + a[x].num2;\n\tif(a[x].num >= 18) return 5 + a[x].f; //\u51fa\u52e4\u6b21\u6570\u548c\u671f\u672b\u68c0\u6d4b\u6210\u7ee9\u7efc\u5408\u5224\u65ad\n\telse if(a[x].num >= 15 && a[x].num <= 17) return 4 + a[x].f;\n\telse if(a[x].num >= 12 && a[x].num <= 14) return 3 + a[x].f;\n\telse if(a[x].num >= 9 && a[x].num <= 11) return 2 + a[x].f;\n\telse if(a[x].num >= 6 && a[x].num <= 8) return 1 + a[x].f;\n\telse return a[x].f;\n}\n\nint main() {\n\tint n = Rint;\n\tF(i, 1, n) {\n\t\ta[i].p = Rll; char ch[2]; scanf(\"%s\", ch);\n\t\ta[i].mf = (ch[0] == 'M'); //\u6027\u522b\u662f\u5426\u662f\u7537\n\t\ta[i].s = Rint;\n\t\tscanf(\"%d'%d\\\"\", &a[i].a, &a[i].b); //\u5f3a\u5236\u6309\u7167 a'b\" \u7684\u683c\u5f0f\u8bfb\u5165 a,b\n\t\tscanf(\"%s\", ch); a[i].pf = (ch[0] == 'P');\n\t\ta[i].f = Rint, a[i].c = Rint; vis[a[i].p] = i; //\u5efa\u7acb\u6620\u5c04\u5173\u7cfb\n\t}\n\tint m = Rint;\n\tF(i, 1, m) {\n        sunnyrun ins; //\u5f85\u63d2\u5165\u5143\u7d20\n\t\tint date = Rint; ins.y = date / 10000, ins.m = date % 10000 / 100, ins.d = date % 100;\n\t\tll px = Rll; int id = vis[px]; //\u6620\u5c04\u51fa\u8be5\u5b66\u751f\u5728\u8f93\u5165\u6570\u636e\u4e2d\u7684\u7f16\u53f7\n\t\tscanf(\"%d:%d:%d %d:%d:%d\", &ins.hs, &ins.ms, &ins.ss, &ins.ht, &ins.mt, &ins.st); //\u5f3a\u5236\u6309\u7167 hh:mm:ss hh:mm:ss \u7684\u683c\u5f0f\u8bfb\u5165\u8be5\u6761\u8bb0\u5f55\u7684\u5f00\u59cb\u65f6\u95f4\u548c\u7ed3\u675f\u65f6\u95f4\u7684\u65f6\u5206\u79d2\n\t\tscanf(\"%lf\", &ins.l); //\u8def\u7a0b\n\t\tint ax, bx; scanf(\"%d'%d\\\"\", &ax, &bx); ins.rest = calcms(ax, bx), ins.step = Rint; //\u5f3a\u5236\u6309\u7167 a'b\" \u7684\u683c\u5f0f\u8bfb\u5165 a,b\n\t\ta[id].q.push_back(ins); //\u63d2\u5165\u5bf9\u5e94\u7ed3\u6784\u4f53\u5143\u7d20\u4e0b\u7684 vector \u4e2d\n\t}\n\tF(i, 1, n) {\n\t\ta[i].score = s1(i) + s2(i) + s3(i) + s4(i) + s5(i); //\u4e94\u4e2a\u90e8\u5206\u7684\u5206\u6570\u5408\u8ba1\n\t\tprintf(\"%lld %d \", a[i].p, a[i].score);\n\t\tif(a[i].score >= 95 && a[i].score <= 100) puts(\"A\"); //\u5224\u65ad\u7b49\u7b2c\n\t\telse if(a[i].score >= 90 && a[i].score < 95) puts(\"A-\");\n\t\telse if(a[i].score >= 85 && a[i].score < 90) puts(\"B+\");\n\t\telse if(a[i].score >= 80 && a[i].score < 85) puts(\"B\");\n\t\telse if(a[i].score >= 77 && a[i].score < 80) puts(\"B-\");\n\t\telse if(a[i].score >= 73 && a[i].score < 77) puts(\"C+\");\n\t\telse if(a[i].score >= 70 && a[i].score < 73) puts(\"C\");\n\t\telse if(a[i].score >= 67 && a[i].score < 70) puts(\"C-\");\n\t\telse if(a[i].score >= 63 && a[i].score < 67) puts(\"D+\");\n\t\telse if(a[i].score >= 60 && a[i].score < 63) puts(\"D\");\n\t\telse puts(\"F\");\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1615355074,
        "uid": 112917,
        "name": "Eason_AC",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P7426 \u3010[THUPC2017] \u4f53\u80b2\u6210\u7ee9\u7edf\u8ba1\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u76ee\u76f8\u5f53\u7b80\u5355\u3002\n\n\u4e8b\u5b9e\u4e0a\u9664\u4e86\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\uff0c\u9633\u5149\u957f\u8dd1\u548c\u5927\u4e00\u4e13\u9879\u8ba1\u5212\u7684\u51fa\u52e4\u6b21\u6570\uff0c\u5176\u4ed6\u7684\u8f93\u5165\u90fd\u5df2\u7ecf\u7ed9\u51fa\u6216\u8005\u901a\u8fc7\u975e\u5e38\u7b80\u5355\u7684\u5224\u65ad\u5c31\u80fd\u641e\u5b9a\u3002\n\n\u4e3a\u4e86\u8ba9\u5355\u4f4d\u7edf\u4e00\uff0c\u6211\u628a\u6240\u6709\u7684\u65f6\u95f4\u90fd\u8f6c\u4e3a\u79d2\uff0c\u6240\u6709\u7684\u8ddd\u79bb\u90fd\u8f6c\u4e3a\u7c73\u3002\n\n\u7136\u540e\u6839\u672c\u4e0d\u7528 if-else \u6765\u8fdb\u884c\u7e41\u7410\u7684\u5224\u65ad\u597d\u5427\u3002\u3002\u76f4\u63a5\u7528\u6570\u7ec4\u5b58\u4e0b $\\{\\text{\u83b7\u5f97\u8fd9\u4e2a\u5206\u6570\u7684\u4e0b\u9650},\\text{\u83b7\u5f97\u7684\u5206\u6570}\\}$\uff0c\u626b\u4e00\u904d\u5c31\u53ef\u4ee5\u4e86\uff08\u751a\u81f3\u4e0d\u7528\u5224\u65ad\u8fb9\u754c\uff0c\u4e22\u4e2a $\\{\\inf,0\\}$ \u5c31\u884c\uff09\u3002\n\n\u63a5\u4e0b\u6765\u7684\u4e8b\u60c5\u5c31\u975e\u5e38\u6e05\u65b0\u81ea\u7136\u2014\u2014\u8f93\u5165\u5b66\u751f\u7684\u65f6\u5019\u6c42\u51fa\u6240\u6709\u9664\u4e86\u9633\u5149\u957f\u8dd1\u548c\u5927\u4e00\u4e13\u9879\u8ba1\u5212\u7684\u51fa\u52e4\u6b21\u6570\u7684\u4e1c\u897f\u3002\n\n\u81f3\u4e8e\u9633\u5149\u957f\u8dd1\uff0c\u6309\u9898\u610f\u6a21\u62df\uff08\u4ec0\u4e48 $6$ \u5c0f\u65f6\u4e4b\u7c7b\u7684\u56e0\u4e3a\u5df2\u7ecf\u628a\u65f6\u95f4\u90fd\u8f6c\u5316\u4e3a\u79d2\u4e86\u6240\u4ee5\u5c31\u5f88\u5bb9\u6613\u5224\u65ad\u4e86\uff09\u3002\n\n\u6211\u8c03\u7684\u65f6\u5019\u9047\u5230\u7684\u5751\uff08\u90fd\u662f\u9633\u5149\u957f\u8dd1\u91cc\u9762\u7684\uff09\uff1a\n\n* \u5fd8\u8bb0\u628a\u5929\u8f6c\u6362\u4e3a\u7684\u79d2\u6570\u52a0\u5230\u65f6\u95f4\u4e0a\n\n* `pre` \u6570\u7ec4\uff0c\u5373\u4e0a\u4e00\u6b21\u5408\u6cd5\u7684\u9633\u5149\u957f\u8dd1\u7684\u5408\u6cd5\u65f6\u95f4\uff0c\u521d\u59cb\u5316\u65f6\u4e0d\u8981\u8bbe\u6210\u4e00\u4e2a\u5f88\u5927\u7684\u8d1f\u6570\uff0c\u5426\u5219\u4f1a\u7206 int\n\n\u4ee3\u7801\u4e3a\u4e86\u589e\u52a0\u4e00\u4e9b\u53ef\u8bfb\u6027\uff0c\u6ca1\u6709\u7279\u610f\u538b\u884c\uff0c\u53cd\u800c\u589e\u52a0\u4e86\u4e00\u4e9b\u884c\u6570\uff0c\u4f46\u4ecd\u662f\u622a\u6b62\u73b0\u5728\uff082021.3.13 15:44\uff09\u6d1b\u8c37\u4e0a\u901a\u8fc7\u7684\u4eba\u4e2d\u4ee3\u7801\u6700\u77ed\u7684\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct student\n{\n\tstring p;\n\tchar sex;\n\tint s;\n\tint c;\n\tfriend bool operator <(student x,student y)\n\t{\n\t\treturn x.p<y.p;\n\t}\n}a[10005];\nunordered_map<string,int> cl;\nint pre[10005];\nint he[10005];\nconst int nvs[]={20,18,16,14,12,10,8,6,4,2,0};\nconst int na[]={12*60+30,13*60,13*60+30,14*60,14*60+30,15*60+10,15*60+50,16*60+30,17*60+10,18*60,1000000000};\nconst int nv[]={6*60+40,6*60+57,7*60+14,7*60+31,7*60+50,8*60+5,8*60+20,8*60+35,8*60+50,9*60,1000000000};\nconst int mon[]={0,31,28,31,30,31,30,31,31,30,31,30,31};\nconst int ygc[]={21,19,17,14,11,7,3,0};\nconst int ygs[]={10,9,8,7,6,4,2,0};\nconst int dyc[]={18,15,12,9,6,0};\nconst int dys[]={5,4,3,2,1,0};\nconst int dj[]={95,90,85,80,77,73,70,67,63,60,0};\nconst string djf[]={\"A\",\"A-\",\"B+\",\"B\",\"B-\",\"C+\",\"C\",\"C-\",\"D+\",\"D\",\"F\"};\nint gettime()\n{\n\tint a,b;\n\tchar del;\n\tcin>>a>>del>>b>>del;\n\treturn a*60+b;\n}\nint getday()\n{\n\tstring a;\n\tcin>>a;\n\tint m=(a[4]-'0')*10+a[5]-'0',d=(a[6]-'0')*10+a[7]-'0',i;\n\tfor(i=1;i<m;i++)\n\t\td+=mon[i];\n\treturn d;\n}\nint getjd()\n{\n\tint a,b,c;\n\tchar del;\n\tcin>>a>>del>>b>>del>>c;\n\treturn a*60*60+b*60+c;\n}\nvoid print(int x)\n{\n\tint i;\n\tfor(i=0;x<dj[i];i++);\n\tcout<<djf[i]<<endl;\n}\nint main()\n{\n\tint n,m,i,j,s,f,ti,h,zan,st,ed;\n\tstring p;\n\tdouble l;\n\tchar op;\n\tcin>>n;\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tpre[i]=-1e8;\n\t\tcin>>a[i].p>>a[i].sex>>a[i].s;\n\t\tti=gettime();\n\t\tcin>>op>>f>>a[i].c;\n\t\ta[i].sex=a[i].sex=='M';\n\t\tif(op=='P') a[i].s+=10;\n\t\ta[i].s+=f;\n\t\tcl[a[i].p]=i;\n\t\tif(a[i].sex)\n\t\t\tfor(j=0;ti>na[j];j++);\n\t\telse\n\t\t\tfor(j=0;ti>nv[j];j++);\n\t\ta[i].s+=nvs[j];\n\t}\n\tcin>>m;\n\twhile(m--)\n\t{\n\t\tti=getday()*24*60*60;\n\t\tcin>>p;\n\t\tst=getjd(),ed=getjd();\n\t\tcin>>l;\n\t\tl*=1000;\n\t\th=cl[p];\n\t\tzan=gettime();\n\t\tcin>>s;\t\n\t\tif(!h) continue;\n\t\tif(a[h].sex&&l<3000||!a[h].sex&&l<1500) continue;\n\t\tif(l<2*(ed-st)||l>5*(ed-st)) continue;\n\t\tif(zan>4*60+30) continue;\n\t\tif(l>1.5*s) continue;\n\t\tif(st+ti-pre[h]<6*60*60) continue;\n\t\tpre[h]=ed+ti;\n\t\the[h]++;\n\t}\n\tfor(i=1;i<=n;i++)\n\t{\n\t\ta[i].c+=he[i];\n\t\tfor(j=0;he[i]<ygc[j];j++);\n\t\ta[i].s+=ygs[j];\n\t\tfor(j=0;a[i].c<dyc[j];j++);\n\t\ta[i].s+=dys[j];\n\t}\n\tsort(a+1,a+1+n);\n\tfor(i=1;i<=n;i++)\n\t\tcout<<a[i].p<<' '<<a[i].s<<' ',print(a[i].s);\n}\n```",
        "postTime": 1615621532,
        "uid": 203623,
        "name": "Ntokisq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P7426 [THUPC2017] \u4f53\u80b2\u6210\u7ee9\u7edf\u8ba1"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u7bc7\u5f53\u524d $(\\verb!2021.3.30!)$ \u6700\u77ed\u9898\u89e3\u3002\n\n\u5c3d\u7ba1\u8fd9\u9898\u662f\u4e00\u9053\u975e\u5e38\u65e0\u8111\u7684\u6a21\u62df\u9898\uff0c\u4f46\u6211\u4ecd\u5e0c\u671b\u4f60\u80fd\u83b7\u5f97\u4e00\u4e9b\u5173\u4e8e\u6a21\u62df\u7684\u6280\u5de7\u3002\n\n## \u9898\u89e3\n\n\u56e0\u4e3a\u8fd9\u9898\u6bd4\u8f83\u957f\uff0c\u6240\u4ee5\u8fd9\u91cc\u5148\u8bb2\u51e0\u4e2a\u4e0b\u6587\u4f1a\u7528\u5230\u7684\u51fd\u6570\u3002\n\n- $\\verb!trans(m,s)!$ \uff0c\u7528\u4e8e\u5c06 $m$ \u5206 $s$ \u79d2\u8f6c\u6362\u4e3a\u79d2\u3002\u5373 $trans(m,s)=60\\times m+s$ \u3002\u8fd9\u4e2a\u51fd\u6570\u4e3b\u8981\u7528\u4e8e\u5c06\u4e8c\u5143\u7ec4 $(m,s)$ \u8f6c\u6362\u4e3a\u5355\u4e2a\u6570\u3002\n\n- $\\verb!date(m,d)!$ \uff0c\u7528\u4e8e\u5c06 $m$ \u6708 $d$ \u65e5\u8f6c\u6362\u4e3a\u65e5\u3002\u5b9e\u73b0\u8d77\u6765\u6bd4 $\\verb!trans!$ \u7a0d\u5fae\u9ebb\u70e6\u4e00\u4e9b\uff0c\u4f60\u9700\u8981\u8bb0\u5f55 $2017$ \u5e74\u6bcf\u6708\u7684\u65e5\u671f\u6570 $D_i$ \uff0c\u7136\u540e\u8fd4\u56de $d+\\sum_{i<m} D_i$ \u3002\u8fd9\u4e2a\u51fd\u6570\u4e3b\u8981\u7528\u4e8e\u5b9a\u4f4d\u7edd\u5bf9\u65e5\u671f\u3002\n\n- $\\verb!find(w,*P,*Q)!$ \uff0c\u627e\u5230\u7b2c\u4e00\u4e2a $P_x$ \u6ee1\u8db3 $P_x\\le w$ \uff0c\u7136\u540e\u8fd4\u56de $Q_x$ \u3002\u8fd9\u4e2a\u51fd\u6570\u4e3b\u8981\u7528\u4e8e\u67e5\u8868\u3002\n\n\u6709\u4e86\u8fd9\u4e09\u4e2a\u51fd\u6570\uff0c\u6211\u4eec\u5904\u7406\u8fd9\u9898\u5c31\u975e\u5e38\u7b80\u5355\u4e86\u3002\n\n\u6211\u4eec\u7528\u4e00\u4e2a\u7ed3\u6784\u4f53 $P_i=\\{name,sex,score,count_1,count_2,date\\}$ \u63cf\u8ff0\u6bcf\u4e2a\u5b66\u795e\u3002\u91cc\u9762\u5b58\u50a8\u6bcf\u4e2a\u4eba\u7684\u6807\u53f7\u3001\u6027\u522b\u3001\u603b\u5206\u3001\u9633\u5149\u957f\u8dd1\u6b21\u6570\u3001\u73ed\u7ea7\u8bad\u7ec3\u8425\u53c2\u52a0\u6b21\u6570\u3001\u4e0a\u4e00\u6b21\u5408\u6cd5\u9633\u5149\u957f\u8dd1\u7684\u7edd\u5bf9\u65e5\u671f\u3002\u5176\u4ed6\u9879\u76ee\u53ef\u4ee5\u5728\u8f93\u5165\u7684\u65f6\u5019\u5c31\u8fdb\u884c\u5904\u7406\uff0c\u4e8e\u662f\u5c31\u4e0d\u5b58\u653e\u5728\u7ed3\u6784\u4f53\u91cc\u4e86\u3002\n\n- **\u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9**\u76f4\u63a5\u8f93\u5165\u3002\u8fd9\u662f\u6700\u5bb9\u6613\u5904\u7406\u7684\u4e00\u9879\u3002\n\n- **\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9**\u867d\u7136\u9ebb\u70e6\u4e00\u4e9b,\u4f46\u4e5f\u662f\u6bd4\u8f83\u5bb9\u6613\u5904\u7406\u7684\u3002\u6211\u4eec\u8f93\u5165\u6bcf\u4e2a\u4eba\u7684\u957f\u8dd1\u6210\u7ee9 $(a,b)$ \u540e\uff0c\u76f4\u63a5\u4f7f\u7528 $trans(a,b)$ \u8ba1\u7b97\u51fa\u6240\u7528\u79d2,\u7136\u540e\u6839\u636e\u6027\u522b\u67e5\u8868\u5c31\u884c\u4e86\u3002\u67e5\u8868\u4f7f\u7528\u51fd\u6570 $find$ \u3002\n\n- **\u9633\u5149\u957f\u8dd1**\u6bd4\u8f83\u96be\u5904\u7406\u3002\u5f53\u6211\u4eec\u8bfb\u5165\u6bcf\u6761\u9633\u5149\u957f\u8dd1\u8bb0\u5f55\u65f6\uff0c\u5148\u627e\u5230\u5b66\u53f7\u6240\u5bf9\u5e94\u7684\u90a3\u4e2a\u5b66\u751f\u3002\u5bf9\u4e8e\u6bcf\u6761\u8bb0\u5f55\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e00\u6bd4\u5bf9\u9898\u76ee\u7ed9\u51fa\u7684\u6761\u4ef6\uff08\u957f\u8dd1\u7684\u957f\u5ea6\u3001\u901f\u5ea6\u3001\u6b65\u957f\u3001\u5f00\u59cb\u65f6\u95f4\u8ddd\u79bb\u4e0a\u4e00\u6b21\u5408\u6cd5\u8bb0\u5f55\u7ed3\u675f\u65f6\u95f4\u7684\u65f6\u95f4\u5dee\u3001\u4f11\u606f\u65f6\u95f4\uff09\uff0c\u8fdb\u800c\u51b3\u5b9a\u8fd9\u6761\u8bb0\u5f55\u662f\u5426\u5408\u6cd5\u3002\u8fd9\u91cc\u5efa\u8bae\u5c06\u6240\u6709\u51fa\u73b0\u8fc7\u7684\u65f6\u95f4\u5229\u7528 $trans$ \u548c $date$ \u51fd\u6570\u8f6c\u6362\u4e3a\u4ee5\u79d2\u4e3a\u5355\u4f4d\u7684\u7edd\u5bf9\u65f6\u95f4\uff0c\u8fd9\u6837\u53ef\u4ee5\u8282\u7701\u5f88\u591a\u7684\u5de5\u4f5c\u91cf\u3002\u5982\u679c\u5408\u6cd5\uff0c\u5c31\u8ba1\u5165\u5230\u8be5\u540d\u5b66\u751f\u7684 $count_1$ \u5f53\u4e2d\u3002\u7b49\u7edf\u8ba1\u5b8c $m$ \u6761\u8bb0\u5f55\uff0c\u6211\u4eec\u5c31\u6839\u636e\u6bcf\u540d\u5b66\u751f\u5408\u6cd5\u9633\u5149\u957f\u8dd1\u7684\u4e2a\u6570\uff0c\u901a\u8fc7\u67e5\u8868\u83b7\u53d6\u5bf9\u5e94\u5206\u6570\u3002\u67e5\u8868\u4f7f\u7528 $find$ \u51fd\u6570\u3002\n\n- **\u5927\u4e00\u4e13\u9879\u8ba1\u5212**\u76f8\u5bf9\u9633\u5149\u957f\u8dd1\u5c31\u975e\u5e38\u7b80\u5355\u4e86\u3002\u671f\u672b\u8003\u6838\u5206\u6570\u76f4\u63a5\u52a0\u5230 $score$ \u4e0a\uff0c\u51fa\u52e4\u5206\u6570\u6839\u636e $count_1$ \u548c $count_2$ \u7684\u603b\u548c\u8fdb\u884c\u67e5\u8868\u3002\u67e5\u8868\u4ecd\u7136\u4f7f\u7528 $find$ \u51fd\u6570\u3002\n\n\u6700\u540e\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u51fa\u6bcf\u540d\u5b66\u751f\u7684\u6700\u7ec8\u5f97\u5206\u3002\u6211\u4eec\u7ee7\u7eed\u67e5\u8868\uff0c\u7136\u540e\u5206\u914d\u5bf9\u5e94\u7684\u7b49\u7b2c\u3002\u6309\u7167\u5b66\u53f7\u76f4\u63a5\u6392\u5e8f\u540e\u8f93\u51fa\u3002\n\n## \u53c2\u8003\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define up(l,r,i) for(register int i=l,END##i=r;i<=END##i;++i)\nusing namespace std;\ntypedef long long i64;\nconst int MAXN =1e4+3,INF=1<<30;\nstruct Node{\n\tchar sx; i64 nm; int sc,c,t,d; bool operator <(Node t){return nm<t.nm;}\n}P[MAXN]; \n#define trs(x,y) (x*60+y)\nconst int A[]={trs(12,30),trs(13, 0),trs(13,30),trs(14, 0),trs(14,30),trs(15,10),trs(15,50),trs(16,30),trs(17,10),trs(18,0),INF};\nconst int B[]={trs( 6,40),trs( 6,57),trs( 7,14),trs( 7,31),trs( 7,50),trs( 8,5 ),trs( 8,20),trs( 8,35),trs( 8,50),trs( 9,0),INF};\nconst int C[]={20,18,16,14,12,10,8,6,4,2,0};\nconst int D[]={2,6,10,13,16,18,20,INF},E[]={0,2,4,6,7,8,9,10};\nconst int F[]={      5,8,11,14,17,INF},G[]={  0,1,2,3,4,5   };\nconst int H[]={59,62,66,69,72,76,79,84,89,94,100},I[]={0,1,2,3,4,5,6,7,8,9,10};\nconst int J[]={31,28,31,30,31,30,31,31,30,31,30,31};\nconst char W[][3]={\"F\",\"D\",\"D+\",\"C-\",\"C\",\"C+\",\"B-\",\"B\",\"B+\",\"A-\",\"A\"};\nint dat(int m,int d){int s=0; up(1,m-1,i) s+=J[i-1]; return s+d;}\nint fnd(int w,const int *P,const int *Q){\n\tup(0,INF,i) if(w<=P[i]) return Q[i]; return 0;\n}\nint f,a,b,d,n,m,a1,a2,a3,dd=-INF/2,b1,b2,b3,c1,c2,d1,d2,d3,s; i64 x; float l; char ps; map<i64,int> M;\nint main(){\n\tscanf(\"%d\",&n); up(1,n,i){\n\t\tscanf(\"%lld%*c%c%d%d%*c%d%*c%*c%c%d%d\",&P[i].nm,&P[i].sx,&P[i].sc,&a,&b,&ps,&f,&P[i].c);\n\t\tP[i].sc+=(ps=='P'?10:0)+f+fnd(trs(a,b),P[i].sx=='M'?A:B,C),M[P[i].nm]=i,P[i].d=-INF/2;\n\t}\n\tscanf(\"%d\",&m); up(1,m,i){\n\t\tscanf(\"%d%lld%d%*c%d%*c%d%d%*c%d%*c%d%f%d%*c%d%*c%d\",&d,&x,&a1,&a2,&a3,&b1,&b2,&b3,&l,&c1,&c2,&s);\n\t\td1=dat(d%10000/100,d%100)*86400,d2=a1*3600+trs(a2,a3),d3=b1*3600+trs(b2,b3),x=M[x];\n\t\tif(d1+d2-P[x].d>=6*3600&&l+1e-9>=(P[x].sx=='M'?3:1.5)&&trs(c1,c2)<=trs(4,30)&&\n\t\t   l*1e3/s-1e-9<=1.5&&2.0-1e-9<=l*1e3/(d3-d2)&&l*1e3/(d3-d2)<=5.0+1e-9)\n\t\tP[x].d=d1+d3,++P[x].t;\n\t}\n\tup(1,n,i) P[i].sc+=fnd(P[i].t,D,E)+fnd(P[i].t+P[i].c,F,G);\n\tsort(P+1,P+1+n); up(1,n,i){\n\t\tprintf(\"%lld %d %s\\n\",P[i].nm,P[i].sc,W[fnd(P[i].sc,H,I)]);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1617106630,
        "uid": 330759,
        "name": "\u56e7\u4ed9",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 \u3010P7426\u3011\u3010 [THUPC2017] \u4f53\u80b2\u6210\u7ee9\u7edf\u8ba1\u3011"
    },
    {
        "content": "\u968f\u673a\u8df3\u5230\u7684\u8fd9\u9053\u9898\uff08x\n\n\u89c2\u5bdf\u5230\u6709\u4e94\u4e2a\u90e8\u5206\uff0c\u5176\u4e2d\u4e00\uff0c\u4e8c\uff0c\u56db\u662f\u5f88\u597d\u89e3\u51b3\u7684\uff0c\u90a3\u5c31\u8003\u8651\u5148\u89e3\u51b3\u6389\u8fd9\u4e09\u4e2a\u90e8\u5206\u3002\n\n### Part 0: \u51c6\u5907\u9636\u6bb5\n\n------------\n\n**\u6211\u4eec\u9700\u8981\u4e9b\u4ec0\u4e48\uff1f**\n\n- \u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u5b58\u50a8\u6bcf\u4e2a\u5b66\u751f\u7684\u5404\u9879\u4fe1\u606f\uff0c\u5305\u62ec\u4e94\u9879\u6210\u7ee9\uff0c\u5b66\u53f7\uff0c\u201c\u9633\u5149\u957f\u8dd1\u201d \u7684\u5408\u6cd5\u6b21\u6570\uff0c\u4e00\u4e2a $\\texttt{vector}$ \u7528\u6765\u5b58\u50a8 \u201c\u9633\u5149\u957f\u8dd1\u201d \u7684\u8bb0\u5f55\uff0c\u4ee5\u53ca\u8fd9\u4e2a\u5b66\u751f\u7684\u6027\u522b\u3002\n\n- \u4e00\u4e2a $\\texttt{map}$\uff0c\u7528\u6765\u5efa\u7acb\u5b66\u53f7\u4e0e\u8f93\u5165\u987a\u5e8f\u7684\u5173\u7cfb\uff0c\u56e0\u4e3a\u5f00\u4e0d\u4e86\u90a3\u4e48\u5927\u7684\u6570\u7ec4\u3002\n\n- \u53e6\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u8868\u793a \u201c\u9633\u5149\u957f\u8dd1\u201d \u7684\u8bb0\u5f55\u4fe1\u606f\uff0c\u5305\u62ec\u65f6\u95f4\uff0c\u8ddd\u79bb\u548c\u6b65\u6570\uff0c\u8fd9\u91cc\u4f1a\u7ed9\u7ed3\u6784\u4f53\u914d\u7f6e\u4e00\u4e2a\u7528\u4e8e\u6bd4\u8f83\u7684\u51fd\u6570\u3002\n\n- \u4e00\u9897\u51c6\u5907\u597d\u809d\u7684\u5fc3\uff08x\n\n**\u5982\u4f55\u8f93\u5165\uff1f**\n\n$\\texttt{scanf}$ \u80fd\u591f\u5f88\u597d\u5730\u6ee1\u8db3\u9898\u76ee\u8981\u6c42\u7684\u8f93\u5165\uff0c\u4ee5 `%d'%d\\\"` \u8f93\u5165\u5c31\u597d\u4e86\u3002\n\n### Part 1: \u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9\n\n------------\n\n\u6309\u7167\u9898\u76ee\u8f93\u5165\u7684\uff0c\u76f4\u63a5\u52a0\u8fdb\u53bb\u5c31\u597d\u5566\u3002\n\n```cpp\nvoid subtask1(int node,int x){a[node].x1=x;}\n```\n\n### Part 2: \u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\n\n------------\n\n\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\u7ed9\u51fa\u4e86\u4e00\u4e2a\u8868\u683c\uff0c\u5f53\u4f60\u7684\u6210\u7ee9\u6ee1\u8db3 $a_i\\leq k < a_{i+1}$ \u65f6\uff0c\u83b7\u5f97\u7684\u5206\u6570\u5c31\u662f $f_i$\u3002\uff08\u6211\u7528\u5faa\u73af\u6253\u4e86\u4e00\u4e0b\u7ed3\u679c\u6ca1\u8fc7\uff09\n\n\u5982\u679c\u4f60\u4e5f\u50cf\u6211\u4e00\u6837\u6253\u4e86\u4e2a\u5faa\u73af\u7ed3\u679c\u4e0d\u884c\uff0c\u90a3\u5c31\u66b4\u529b\u7528 $\\texttt{if-else if}$ \u5224\u5427\u3002\n\n|\u5751\u70b9 $1$\uff1a\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\u6ca1\u6709\u8003\u8651\u6027\u522b\u95ee\u9898|\n|----|\n\n\u4e3a\u4e86\u65b9\u4fbf $\\texttt{if}$ \u7684\u5224\u65ad\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u5c06 $a$ \u5206 $b$ \u79d2\u8f6c\u5316\u4e3a $a\\times 60+b$ \u79d2\u3002\n\n**\u52a1\u5fc5\u6ce8\u610f\u4ee3\u7801\u7684\u6574\u6d01\uff0c\u5426\u5219\u4f60\u4e0d\u4f1a\u60f3\u7740\u67e5\u4ee3\u7801\u7684\u3002**\n\n```cpp\nvoid subtask2(int node,int x,int y){\n\tint s=x*60+y;\n\tif(a[node].sex==1){\n\t\tif(s>1080)                   a[node].x2=0;\n\t\telse if(s>1030&&s<=1080)     a[node].x2=2;\n\t\telse if(s> 990&&s<=1030)     a[node].x2=4;\n\t\telse if(s> 950&&s<= 990)     a[node].x2=6;\n\t\telse if(s> 910&&s<= 950)     a[node].x2=8;\n\t\telse if(s> 870&&s<= 910)     a[node].x2=10;\n\t\telse if(s> 840&&s<= 870)     a[node].x2=12;\n\t\telse if(s> 810&&s<= 840)     a[node].x2=14;\n\t\telse if(s> 780&&s<= 810)     a[node].x2=16;\n\t\telse if(s> 750&&s<= 780)     a[node].x2=18;\n\t\telse                         a[node].x2=20;\n\t}else{\n\t\tif(s>540)                  a[node].x2=0;\n\t\telse if(s>530&&s<=540)     a[node].x2=2;\n\t\telse if(s>515&&s<=530)     a[node].x2=4;\n\t\telse if(s>500&&s<=515)     a[node].x2=6;\n\t\telse if(s>485&&s<=500)     a[node].x2=8;\n\t\telse if(s>470&&s<=485)     a[node].x2=10;\n\t\telse if(s>451&&s<=470)     a[node].x2=12;\n\t\telse if(s>434&&s<=451)     a[node].x2=14;\n\t\telse if(s>417&&s<=434)     a[node].x2=16;\n\t\telse if(s>400&&s<=417)     a[node].x2=18;\n\t\telse                       a[node].x2=20;\n\t}\n}\n```\n### Part 3: \u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\n\n------------\n\n\u9898\u76ee\u5df2\u7ecf\u7ed9\u51fa\u6765\u4e86\uff1a\n\n- \u5982\u679c\u8f93\u5165\u4e3a $\\texttt{P}$\uff0c\u5219\u6b64\u90e8\u5206\u5f97 $10$ \u5206\uff1b\n\n- \u5982\u679c\u8f93\u5165\u4e3a $\\texttt{F}$\uff0c\u5219\u6b64\u90e8\u5206\u7684 $0$ \u5206\u3002\n\n```cpp\nvoid subtask4(int node,char ch){\n\tif(ch=='P') a[node].x4=10;\n\tif(ch=='F') a[node].x4=0;\n}\n```\n\n### Part 4: \u9633\u5149\u957f\u8dd1\n\n------------\n\n\u6574\u4e2a\u9898\u6700\u96be\u7684\u4e00\u90e8\u5206\uff0c\u4f46\u662f\u4e0d\u8981\u6015\uff0c\u6211\u4eec\u6162\u6162\u5206\u6790\u3002\n\n\u6211\u521a\u521a\u8bf4\u5230\uff0c\u5b66\u751f\u7684\u7ed3\u6784\u4f53\u4e2d\u6709\u4e00\u4e2a\u4e13\u95e8\u7528\u4e8e\u5b58 \u201c\u9633\u5149\u957f\u8dd1\u201d \u8bb0\u5f55\u7684 $\\texttt{vector}$\uff0c\u8fd9\u91cc\u5c31\u8981\u7528\u5230\u3002\n\n|\u5751\u70b9 $2$\uff1a\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4eba\u7684\u8bb0\u5f55\uff0c\u6ca1\u6709\u8fdb\u884c\u4e00\u5b9a\u7a0b\u5ea6\u7684\u6392\u5e8f\u3002|\n|----|\n\n\u4e3a\u4e86\u65b9\u4fbf\u5b58\u50a8\u6211\u4eec\u4e0a\u6761\u8bb0\u5f55\uff0c\u5b9a\u4e49\u4e00\u4e2a $\\texttt{lst}$ \u5c31\u597d\u3002\n\n|\u5751\u70b9 $3$\uff1a$\\texttt{lst}$ \u6ca1\u88ab\u8d4b\u503c\u4e3a\u7b2c\u4e00\u6761\u6ee1\u8db3\u6761\u4ef6\u7684\u8bb0\u5f55\u3002|\n|----|\n\n\u5bf9\u4e8e\u8fd9\u4e00\u4e2a\uff0c\u6211\u4eec\u5b9a\u4e49 $\\texttt{flag}$ \u6765\u8868\u793a\u5f53\u524d\u662f\u5426\u4e3a\u7b2c\u4e00\u6761\u6ee1\u8db3\u6761\u4ef6\u7684\u8bb0\u5f55\uff0c\u5982\u679c\u662f\uff0c\u8fd9\u6761\u8bb0\u5f55\u4e00\u5b9a\u6ee1\u8db3\u6761\u4ef6\uff0c\u5e76\u5c06 $\\texttt{lst}$ \u8d4b\u503c\u4e3a\u8fd9\u4e00\u6761\u8bb0\u5f55\u3002\n\n|\u5751\u70b9 $4$\uff1a\u7b2c\u4e00\u6761\u6ee1\u8db3\u6761\u4ef6\u7684\u8bb0\u5f55\u5e76\u975e\u662f\u5f53\u524d\u8fd9\u4e2a\u4eba\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\u3002|\n|----|\n\n\u5982\u4f55\u5bf9\u4e00\u6761\u8bb0\u5f55\u8fdb\u884c\u5904\u7406\uff1f\n\n\u5176\u5b9e\u9664\u4e86\u65f6\u95f4\u9650\u5236\uff0c\u5176\u4ed6\u90fd\u662f\u5f88\u5bb9\u6613\u5224\u65ad\u7684\u3002\n\n\u6309\u7167\u9898\u76ee\u8981\u6c42\u4e00\u4e2a\u4e00\u4e2a\u6765\uff1a\n\n- \u5982\u679c\u662f\u7537\u751f\uff0c\u8ddd\u79bb\u9700\u4e0d\u5c0f\u4e8e $3000$ \u7c73\uff1b\u5982\u679c\u662f\u5973\u751f\uff0c\u8ddd\u79bb\u9700\u4e0d\u5c0f\u4e8e $1500$ \u7c73\u3002\n\n|\u5751\u70b9 $5$\uff1a\u6ca1\u6709\u8003\u8651\u6027\u522b\u5bf9\u8bb0\u5f55\u4e2d\u8ddd\u79bb\u7684\u5f71\u54cd\u3002|\n|----|\n\n- \u6682\u505c\u65f6\u95f4\u4e0d\u5f97\u5927\u4e8e $270$ \u79d2\u3002\n\n- \u901f\u5ea6\u5e94\u6ee1\u8db3 $v\\in [2,5]$\u3002\n\n- \u6b65\u5e45\u4e0d\u80fd\u5927\u4e8e $1.5$\u3002\n\n\u6700\u540e\u5c31\u662f\u8003\u8651\u4e0e\u4e0a\u6761\u65f6\u95f4\u95f4\u9694\u7684\u9650\u5236\u3002\n\n- \u5982\u679c\u4e0d\u5728\u540c\u4e00\u6708\n\n\t\u89c2\u5bdf\u662f\u5426\u5728\u76f8\u90bb\u4e24\u4e2a\u6708\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u8fd9\u6761\u8bb0\u5f55\u5c31\u6ee1\u8db3\u6761\u4ef6\u3002\n    \n    \u5982\u679c\u5728\u76f8\u90bb\u4e24\u4e2a\u6708\uff0c\u4e0a\u4e00\u6761\u8bb0\u5f55\u5f97\u5728\u8be5\u6708\u6700\u540e\u4e00\u5929\uff0c\u8fd9\u4e00\u6761\u8bb0\u5f55\u5f97\u5728 $1$ \u53f7\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u6ee1\u8db3\u6761\u4ef6\n    \n    \u5982\u679c\u4e0a\u8ff0\u6761\u4ef6\u5747\u6ee1\u8db3\uff0c\u8981\u8003\u8651\u662f\u5426\u76f8\u5dee $6$ \u5c0f\u65f6\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5219\u8fd9\u6761\u8bb0\u5f55\u6ee1\u8db3\u6761\u4ef6\u3002\n    \n- \u5982\u679c\u5728\u540c\u4e00\u4e2a\u6708\n\t\n    \u89c2\u5bdf\u662f\u5426\u5728\u76f8\u90bb\u7684\u4e24\u5929\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u8fd9\u6761\u8bb0\u5f55\u5c31\u6ee1\u8db3\u6761\u4ef6\u3002\n    \n    \u5982\u679c\u5728\u76f8\u90bb\u4e24\u5929\uff0c\u90a3\u5c31\u770b\u662f\u5426\u76f8\u5dee $6$ \u5c0f\u65f6\uff0c\u5982\u679c\u76f8\u5dee\u81f3\u5c11 $6$ \u5c0f\u65f6\uff0c\u8fd9\u6761\u8bb0\u5f55\u5c31\u6ee1\u8db3\u6761\u4ef6\uff0c\u4e0d\u662f\u5c31\u4e0d\u6ee1\u8db3\u3002\n    \n    \u5982\u679c\u5728\u540c\u4e00\u5929\uff0c\u5c31\u770b\u662f\u5426\u76f8\u5dee $6$ \u5c0f\u65f6\u5c31\u597d\u4e86\u3002\n    \n|\u5751\u70b9 $6$\uff1a\u6ca1\u6709\u8003\u8651\u4e0d\u540c\u6708\u4efd\u6216\u662f\u4e0d\u540c\u5929\u7684\u60c5\u51b5\u3002|\n|----|\n\n~~\u542c\u4e0a\u53bb\u5f88\u7b80\u5355\uff0c\u5feb\u8bd5\u8bd5\u770b\u5427\uff01~~\n\n```cpp\nvoid subtask3(int node){\n\tsort(a[node].s.begin(),a[node].s.end());\n\trecord lst;\n\tbool flag=false;\n\tfor(register int i=0;i<a[node].s.size();i++){\n\t\trecord now=a[node].s[i];\n\t\tif(a[node].sex==1&&now.l<3.0) continue;\n\t\tif(a[node].sex==0&&now.l<1.5) continue; \n\t\tint S=now.s1*3600+now.s2*60+now.s3;\n\t\tint T=now.t1*3600+now.t2*60+now.t3;\n\t\tdouble v=now.l*1000.0/(T-S),p=now.l*1000.0/now.p;\n\t\tif(v<2||v>5||p>1.5||now.q>270) continue;\n\t\tif(!flag){\n\t\t\tflag=true;\n\t\t\tlst=a[node].s[i],a[node].cnt++;\n\t\t\tcontinue;\n\t\t}\n\t\tS=lst.t1*3600+lst.t2*60+lst.t3,T=now.s1*3600+now.s2*60+now.s3;\n\t\tif(now.M!=lst.M){\n\t\t\tif(now.M-1!=lst.M){\n\t\t\t\tlst=now;a[node].cnt++;\n\t\t\t\tcontinue;\n\t\t\t}else{\n\t\t\t\tif(cal[lst.M]!=lst.D||now.D!=1){\n\t\t\t\t\tlst=now;a[node].cnt++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}else if(86400+T-S<21600) continue;\n\t\t\t}\n\t\t}else if(now.D!=lst.D){\n\t\t\tif(now.D-1!=lst.D){\n\t\t\t\tlst=now,a[node].cnt++;\n\t\t\t\tcontinue;\n\t\t\t}else if(86400+T-S<21600) continue;\n\t\t}else if(T-S<21600) continue;\n\t\tlst=now,a[node].cnt++;\n\t}\n\tif(a[node].cnt>=21)                       a[node].x3=10;\n\telse if(a[node].cnt>=19&&a[node].cnt<=20) a[node].x3=9;\n\telse if(a[node].cnt>=17&&a[node].cnt<=18) a[node].x3=8;\n\telse if(a[node].cnt>=14&&a[node].cnt<=16) a[node].x3=7;\n\telse if(a[node].cnt>=11&&a[node].cnt<=13) a[node].x3=6;\n\telse if(a[node].cnt>= 7&&a[node].cnt<=10) a[node].x3=4;\n\telse if(a[node].cnt>= 3&&a[node].cnt<= 6) a[node].x3=2;\n\telse                                      a[node].x3=0;\n}\n```\n\n### Part 5: \u5927\u4e00\u4e13\u9879\u8ba1\u5212\n\n------------\n\n\u6839\u636e\u6211\u4eec\u4ece $\\texttt{subtask 3}$ \u5f97\u5230\u7684\u6ee1\u8db3\u6761\u4ef6\u7684\u8bb0\u5f55\u6761\u6570\uff0c\u5c31\u53ef\u4ee5\u5f88\u987a\u5229\u7684\u63a8\u51fa\u8fd9\u4e00\u90e8\u5206\u3002\n\n```cpp\nvoid subtask5(int node){\n\ta[node].ans=a[node].m+a[node].cnt;\n\tif(a[node].ans>=18)                       a[node].x5=5+a[node].n;\n\telse if(a[node].ans>=15&&a[node].ans<=17) a[node].x5=4+a[node].n;\n\telse if(a[node].ans>=12&&a[node].ans<=14) a[node].x5=3+a[node].n;\n\telse if(a[node].ans>= 9&&a[node].ans<=11) a[node].x5=2+a[node].n;\n\telse if(a[node].ans>= 6&&a[node].ans<= 8) a[node].x5=1+a[node].n;\n\telse                                      a[node].x5=a[node].n;\n}\n```\n\n\u81f3\u6b64\u6240\u6709\u4ee3\u7801\u5c31\u5b8c\u6210\u4e86\uff0c\u5982\u679c\u8fd8\u662f\u4e0d\u5bf9\uff0c\u5c31\u4ed4\u7ec6\u770b\u770b\u6709\u6ca1\u6709\u4e00\u4e9b\u57fa\u7840\u6027\u7684\u9519\u8bef\uff08\n\n### Part 6: \u603b\u4ee3\u7801\n\n------------\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nconst int N=1e5+5;\nstruct record{\n\tint s1,s2,s3,t1,t2,t3,q,M,D,p;\n\tdouble l;\n\tbool operator < (const record &x) const{\n\t\tif(M!=x.M) return M<x.M;\n\t\telse if(D!=x.D) return D<x.D;\n\t\telse if(s1!=x.s1) return s1<x.s1;\n\t\telse if(s2!=x.s2) return s2<x.s2;\n\t\treturn s3<x.s3;\n\t}\n};\nstruct student{\n\tll node;\n\tint x1,x2,x3,x4,x5,cnt,ans;\n\tbool sex;\n\tint n,m;\n\tvector<record> s;\n}a[N];\nint T,n;\nint cal[20]={0,31,28,31,30,31,30,31,31,30,31,30,31};\nmap<ll,int> f;\nvoid subtask1(int node,int x){a[node].x1=x;}\nvoid subtask2(int node,int x,int y){\n\tint s=x*60+y;\n\tif(a[node].sex==1){\n\t\tif(s>1080)                   a[node].x2=0;\n\t\telse if(s>1030&&s<=1080)     a[node].x2=2;\n\t\telse if(s> 990&&s<=1030)     a[node].x2=4;\n\t\telse if(s> 950&&s<= 990)     a[node].x2=6;\n\t\telse if(s> 910&&s<= 950)     a[node].x2=8;\n\t\telse if(s> 870&&s<= 910)     a[node].x2=10;\n\t\telse if(s> 840&&s<= 870)     a[node].x2=12;\n\t\telse if(s> 810&&s<= 840)     a[node].x2=14;\n\t\telse if(s> 780&&s<= 810)     a[node].x2=16;\n\t\telse if(s> 750&&s<= 780)     a[node].x2=18;\n\t\telse                         a[node].x2=20;\n\t}else{\n\t\tif(s>540)                  a[node].x2=0;\n\t\telse if(s>530&&s<=540)     a[node].x2=2;\n\t\telse if(s>515&&s<=530)     a[node].x2=4;\n\t\telse if(s>500&&s<=515)     a[node].x2=6;\n\t\telse if(s>485&&s<=500)     a[node].x2=8;\n\t\telse if(s>470&&s<=485)     a[node].x2=10;\n\t\telse if(s>451&&s<=470)     a[node].x2=12;\n\t\telse if(s>434&&s<=451)     a[node].x2=14;\n\t\telse if(s>417&&s<=434)     a[node].x2=16;\n\t\telse if(s>400&&s<=417)     a[node].x2=18;\n\t\telse                       a[node].x2=20;\n\t}\n}\nvoid subtask3(int node){\n\tsort(a[node].s.begin(),a[node].s.end());\n\trecord lst;\n\tbool flag=false;\n\tfor(register int i=0;i<a[node].s.size();i++){\n\t\trecord now=a[node].s[i];\n\t\tif(a[node].sex==1&&now.l<3.0) continue;\n\t\tif(a[node].sex==0&&now.l<1.5) continue; \n\t\tint S=now.s1*3600+now.s2*60+now.s3;\n\t\tint T=now.t1*3600+now.t2*60+now.t3;\n\t\tdouble v=now.l*1000.0/(T-S),p=now.l*1000.0/now.p;\n\t\tif(v<2||v>5||p>1.5||now.q>270) continue;\n\t\tif(!flag){\n\t\t\tflag=true;\n\t\t\tlst=a[node].s[i],a[node].cnt++;\n\t\t\tcontinue;\n\t\t}\n\t\tS=lst.t1*3600+lst.t2*60+lst.t3,T=now.s1*3600+now.s2*60+now.s3;\n\t\tif(now.M!=lst.M){\n\t\t\tif(now.M-1!=lst.M){\n\t\t\t\tlst=now;a[node].cnt++;\n\t\t\t\tcontinue;\n\t\t\t}else{\n\t\t\t\tif(cal[lst.M]!=lst.D||now.D!=1){\n\t\t\t\t\tlst=now;a[node].cnt++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}else if(86400+T-S<21600) continue;\n\t\t\t}\n\t\t}else if(now.D!=lst.D){\n\t\t\tif(now.D-1!=lst.D){\n\t\t\t\tlst=now,a[node].cnt++;\n\t\t\t\tcontinue;\n\t\t\t}else if(86400+T-S<21600) continue;\n\t\t}else if(T-S<21600) continue;\n\t\tlst=now,a[node].cnt++;\n\t}\n\tif(a[node].cnt>=21)                       a[node].x3=10;\n\telse if(a[node].cnt>=19&&a[node].cnt<=20) a[node].x3=9;\n\telse if(a[node].cnt>=17&&a[node].cnt<=18) a[node].x3=8;\n\telse if(a[node].cnt>=14&&a[node].cnt<=16) a[node].x3=7;\n\telse if(a[node].cnt>=11&&a[node].cnt<=13) a[node].x3=6;\n\telse if(a[node].cnt>= 7&&a[node].cnt<=10) a[node].x3=4;\n\telse if(a[node].cnt>= 3&&a[node].cnt<= 6) a[node].x3=2;\n\telse                                      a[node].x3=0;\n}\nvoid subtask4(int node,char ch){\n\tif(ch=='P') a[node].x4=10;\n\tif(ch=='F') a[node].x4=0;\n}\nvoid subtask5(int node){\n\ta[node].ans=a[node].m+a[node].cnt;\n\tif(a[node].ans>=18)                       a[node].x5=5+a[node].n;\n\telse if(a[node].ans>=15&&a[node].ans<=17) a[node].x5=4+a[node].n;\n\telse if(a[node].ans>=12&&a[node].ans<=14) a[node].x5=3+a[node].n;\n\telse if(a[node].ans>= 9&&a[node].ans<=11) a[node].x5=2+a[node].n;\n\telse if(a[node].ans>= 6&&a[node].ans<= 8) a[node].x5=1+a[node].n;\n\telse                                      a[node].x5=a[node].n;\n}\nrecord ins;\nint main(){\n\tscanf(\"%d\",&T);\n\tfor(register int i=1;i<=T;i++){\n\t\tchar sex,ch;\n\t\tint x,s,t;\n\t\tscanf(\"%lld %c %d %d'%d\\\" %c %d %d\",&a[i].node,&sex,&x,&s,&t,&ch,&a[i].n,&a[i].m);\n\t\tif(sex=='M') a[i].sex=1;\n\t\tif(sex=='F') a[i].sex=0;\n\t\tsubtask1(i,x),subtask2(i,s,t),subtask4(i,ch);\n\t\tf[a[i].node]=i;\n\t} \n\tscanf(\"%d\",&n);\n\tfor(register int i=1;i<=n;i++){\n\t\tint date,s1,s2,s3,t1,t2,t3,q1,q2,p;\n\t\tll node;double l;\n\t\tscanf(\"%d %lld %d:%d:%d %d:%d:%d %lf %d'%d\\\" %d\",&date,&node,&s1,&s2,&s3,&t1,&t2,&t3,&l,&q1,&q2,&p);\n\t\tins.M=date%10000/100,ins.D=date%100,ins.s1=s1,ins.s2=s2,ins.s3=s3,ins.t1=t1,ins.t2=t2,ins.t3=t3;\n\t\tins.l=l,ins.q=q1*60+q2,ins.p=p;\n\t\ta[f[node]].s.push_back(ins);\n\t}\n\tfor(register int i=1;i<=T;i++){\n\t\tsubtask3(i),subtask5(i);\n\t\tint k=a[i].x1+a[i].x2+a[i].x3+a[i].x4+a[i].x5;\n\t\tprintf(\"%lld %d \",a[i].node,k);\n\t\tif(k>=95&&k<=100)    puts(\"A\");\n\t\telse if(k>=90&&k<95) puts(\"A-\");\n\t\telse if(k>=85&&k<90) puts(\"B+\");\n\t\telse if(k>=80&&k<85) puts(\"B\");\n\t\telse if(k>=77&&k<80) puts(\"B-\");\n\t\telse if(k>=73&&k<77) puts(\"C+\");\n\t\telse if(k>=70&&k<73) puts(\"C\");\n\t\telse if(k>=67&&k<70) puts(\"C-\");\n\t\telse if(k>=63&&k<67) puts(\"D+\");\n\t\telse if(k>=60&&k<63) puts(\"D\");\n\t\telse                 puts(\"F\");\n\t}\n}\n```\n",
        "postTime": 1622005254,
        "uid": 380579,
        "name": "LRCAKIOI",
        "ccfLevel": 6,
        "title": "[P7426] [THUPC2017] \u4f53\u80b2\u6210\u7ee9\u7edf\u8ba1"
    },
    {
        "content": "[\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/P7426)\n\n\u5199\u8fd9\u9053\u9898\u6700\u91cd\u8981\u7684\u662f\u6761\u7406\u6e05\u6670\u3002\n\n\u9664\u4e86\u9633\u5149\u957f\u8dd1\u5916\uff0c\u5176\u4ed6\u7684\u90fd\u80fd\u5728\u8bfb\u5165\u7684\u65f6\u5019\u5904\u7406\u6389\u3002\n\n\u5904\u7406\u9633\u5149\u957f\u8dd1\u6700\u5934\u75bc\u7684\u5c31\u662f\u5904\u7406\u65f6\u95f4\u3002\n\n\u628a\u65f6\u95f4\u5355\u4f4d\u90fd\u53d8\u6210\u79d2\u5c31\u597d\u5566\u3002\n\n\u6211\u4eec\u7b97\u51fa\u4ece $2017$ \u5e74 $1$ \u6708 $1$ \u65e5 $0$ \u70b9\u5230\u8fd9\u65f6\u523b\u6709\u591a\u5c11\u79d2\u5c31\u884c\u5566\u3002\n\n\u4ee3\u7801\u6ce8\u91ca\u5f88\u8be6\u7ec6\uff0c\u5177\u4f53\u770b\u4ee3\u7801\u5427\u3002\n\n```cpp\n#include<algorithm>\n#include<iostream>\n#include<cstdio>\n#include<map>\n#define LD long double\nusing namespace std;\nint n,m;\nconst int N=4010;\nmap<int,int>mp;\nint read()\n{\n    int res=0;char ch=getchar();bool XX=false;\n    for(;!isdigit(ch);ch=getchar())(ch=='-') && (XX=true);\n    for(;isdigit(ch);ch=getchar())res=(res<<3)+(res<<1)+(ch^48);\n    return XX?-res:res;\n}\n/*---------\u4ee5\u4e0b\u662f\u5f97\u5206--------------*/\nvoid dengji(int x)//\u7b49\u7ea7 \n{\n\tif(95<=x&&x<=100)printf(\"A\");\n\tif(90<=x&&x<=94)printf(\"A-\");\n\tif(85<=x&&x<=89)printf(\"B+\");\n\tif(80<=x&&x<=84)printf(\"B\");\n\tif(77<=x&&x<=79)printf(\"B-\");\n\tif(73<=x&&x<=76)printf(\"C+\");\n\tif(70<=x&&x<=72)printf(\"C\");\n\tif(67<=x&&x<=69)printf(\"C-\");\n\tif(63<=x&&x<=66)printf(\"D+\");\n\tif(60<=x&&x<=62)printf(\"D\");\n\tif(0<=x&&x<=59)printf(\"F\");\n}\nint yangguang(int x)//\u9633\u5149\u5f97\u5206 \n{\n\tif(21<=x)return 10;\n\tif(19<=x&&x<=20)return 9;\n\tif(17<=x&&x<=18)return 8;\n\tif(14<=x&&x<=16)return 7;\n\tif(11<=x&&x<=13)return 6;\n\tif(7<=x&&x<=10)return 4;\n\tif(3<=x&&x<=6)return 2;\n\treturn 0;\n}\nint chuqin(int x)//\u51fa\u52e4 \n{\n\tif(18<=x)return 5;\n\tif(15<=x&&x<=17)return 4;\n\tif(12<=x&&x<=14)return 3;\n\tif(9<=x&&x<=11)return 2;\n\tif(6<=x&&x<=8)return 1;\n\treturn 0;\n}\nint ti(int a,int b){return a*60+b;}//\u5206\u949f\u8f6c\u5316\u4e3a\u79d2 \nint changpao(char x,int t)//\u957f\u8dd1  \n{\n\tint res=0;\n\tif(x=='M')\n\t{\n\t\tif(t<=ti(18,0) )res=2;\n\t\tif(t<=ti(17,10))res=4;\n\t\tif(t<=ti(16,30))res=6;\n\t\tif(t<=ti(15,50))res=8;\n\t\tif(t<=ti(15,10))res=10;\n\t\tif(t<=ti(14,30))res=12;\n\t\tif(t<=ti(14,0) )res=14;\n\t\tif(t<=ti(13,30))res=16;\n\t\tif(t<=ti(13,0) )res=18;\n\t\tif(t<=ti(12,30))res=20;\n\t}\n\telse \n\t{\n\t\tif(t<=ti(9,0) )res=2;\n\t\tif(t<=ti(8,50))res=4;\n\t\tif(t<=ti(8,35))res=6;\n\t\tif(t<=ti(8,20))res=8;\n\t\tif(t<=ti(8,5) )res=10;\n\t\tif(t<=ti(7,50))res=12;\n\t\tif(t<=ti(7,31))res=14;\n\t\tif(t<=ti(7,14))res=16;\n\t\tif(t<=ti(6,57))res=18;\n\t\tif(t<=ti(6,40))res=20;\n\t}\n\treturn res;\n}\n/*------------\u4ee5\u4e0a\u662f\u5f97\u5206---------*/\nstruct xuesheng//\u5b66\u751f \n{\n\tint id,ans,cnt,tot,las;//ans:\u603b\u5f97\u5206 cnt\u548ctot:\u51fa\u52e4 las\uff1a\u6700\u540e\u4e00\u6b21\u5408\u6cd5\u8bb0\u5f55\u65f6\u95f4 \n\tchar xb;//\u6027\u522b \n\tfriend bool operator <(const xuesheng &x,const xuesheng &y)\n\t{\n\t\treturn x.id<y.id;\n\t}\n}a[N];\nvoid duru()\n{\n\tint lin,x,y;char xxx[10];\n\tcin>>n;\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\ta[i].id=read();\n\t\t\n\t\tscanf(\"%s\",xxx);\n\t\ta[i].xb=xxx[0];\n\n\t\tlin=read();a[i].ans+=lin;//\u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9\n\n\t\tx=read();y=read();a[i].ans+=changpao(a[i].xb,ti(x,y));//\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\n\t\t\n\t\tscanf(\"%s\",xxx);if(xxx[0]=='P')a[i].ans+=10;//\u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\n\t\t\n\t\tlin=read();a[i].ans+=lin;//\u671f\u672b\u68c0\u6d4b\u6210\u7ee9\n\t\ta[i].cnt=read();//\u53c2\u52a0\u73ed\u7ea7\u8bad\u7ec3\u8425\u7684\u6b21\u6570\n\t\ta[i].las=-9999999;\n\t}\n\tsort(a+1,a+1+n);\n\tfor(int i=1;i<=n;++i)mp[a[i].id]=i;\n}\nint yyy[15]={0,31,28,31,30,31,30,31,31,30,31,30,31};//\u8bb0\u5f55\u6bcf\u4e2a\u6708\u6709\u591a\u5c11\u5929 \nint sj(int yue/*\u6708*/,int ri/*\u65e5*/)//\u8fd4\u56de\u4ece1\u67081\u65e50\u70b9\u5230\u8fd9\u4e00\u5929\u6709\u591a\u5c11\u79d2 \n{\n\tint res=0;\n\tfor(int i=1;i<yue;++i)res+=yyy[i];\n\tres+=ri;\n\treturn res*24*60*60;//\u79d2 \n}\nint Ti(int a,int b,int c)//\u5c0f\u65f6\u8f6c\u5316\u4e3a\u79d2 \n{\n\treturn a*3600+b*60+c;//\u79d2 \n}\nvoid yang_guang_chang_pao()//\u5904\u7406\u9633\u5149\u957f\u8dd1\u6570\u636e \n{\n\tint rq,hao,t1,t2,t3,t4,t5,t6,t7,t8,stp,T1,T2,T;\n\tlong double jl;\n\tcin>>m;\n\twhile(m--)\n\t{\n\t\trq=read();rq%=10000;T=sj(rq/100,rq%100);//rq\uff1a\u65e5\u671f \n\t\thao=read();  hao=mp[hao];//\u5b66\u53f7 \n\t\tt1=read();t2=read();t3=read();//\u5f00\u59cb\u65f6\u95f4 \n\t\tt4=read();t5=read();t6=read();//\u7ed3\u675f\u65f6\u95f4 \n\t\tcin>>jl;jl*=1000;//\u8ddd\u79bb \n\t\tt7=read();t8=read();//\u6682\u505c\u65f6\u95f4 \n\t\tstp=read();\n\t\tT1=Ti(t1,t2,t3);T2=Ti(t4,t5,t6);//\u8f6c\u5316\u4e3a\u79d2\t\n\t\tif((a[hao].xb=='M'&&jl<3000) || (a[hao].xb=='F'&&jl<1500))continue;//\u4e0d\u7b26\u5408\u8981\u6c421\n\t\tif(jl/((LD)T2-T1) < 2 || jl/((LD)T2-T1) > 5)continue;//\u4e0d\u7b26\u5408\u8981\u6c422\n\t\tif(ti(t7,t8)>ti(4,30))continue;//\u4e0d\u7b26\u5408\u8981\u6c423\n\t\tif(jl/(LD)stp>1.5)continue;//\u4e0d\u7b26\u5408\u8981\u6c424\n\t\t\n\t\t\n\t\tif(T + T1 - a[hao].las < Ti(6,0,0))continue;\n\t\t++a[hao].tot;a[hao].las=T+T2;//\u8bb0\u5f97\u66f4\u65b0\u6700\u540e\u4e00\u6761\u5408\u6cd5\u8bb0\u5f55\u7684\u7ed3\u675f\u65f6\u95f4 \n\t}\n}\nvoid shuchu()\n{\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\ta[i].ans+=yangguang(a[i].tot); \n\t\ta[i].ans+=chuqin(a[i].cnt+a[i].tot);//\u51fa\u52e4\u5206\u6570 \n\t\tprintf(\"%d %d \",a[i].id,a[i].ans);dengji(a[i].ans);\n\t\tputs(\"\");\n\t}\n}\nint main()\n{\n\tduru();//\u8bfb\u5165 \n\tyang_guang_chang_pao();//\u5904\u7406\u9633\u5149\u957f\u8dd1\u7684\u6570\u636e \n\tshuchu();//\u8f93\u51fa \n\tfclose(stdin);fclose(stdout);\n\treturn 0;\n}\n```",
        "postTime": 1626396359,
        "uid": 153843,
        "name": "wljss",
        "ccfLevel": 0,
        "title": "P7426 [THUPC2017] \u4f53\u80b2\u6210\u7ee9\u7edf\u8ba1 \u6a21\u62df"
    },
    {
        "content": "**\u6211\u7684\u4ee3\u7801\u957f\u5ea6\u8f83\u5176\u4ed6\u9898\u89e3\u66f4\u957f\uff0c\u4f46\u662f\u4e2a\u4eba\u8ba4\u4e3a\u6bd4\u8f83\u597d\u7406\u89e3\u3002**\n\n\u8fd9\u9053\u9898\u662f\u4e00\u9053\u601d\u7ef4\u96be\u5ea6\u5f88\u4f4e\uff0c\u4f46\u662f\u6bd4\u8f83\u96be\u8c03\u7684\u4e00\u9053\u9898\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u770b\u8f93\u5165\u683c\u5f0f\uff0c\u4e86\u89e3\u4fe1\u606f\u662f\u5982\u4f55\u88ab\u50a8\u5b58\u7684\u3002\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e24\u4e2a\u7ed3\u6784\u4f53\u50a8\u5b58\u4fe1\u606f\uff0c\u7136\u540e\u5185\u90e8\u518d\u5efa\u7acb\u4e00\u4e2a\u8bfb\u5165\u7684\u51fd\u6570\u3002\n\n```cpp\nstruct \u300c\u7f8e\u5143\u7b26\u53f7\u300dYangGuang {\n\tint wanchengnian, wanchengyue, wanchengri;\n\tstring laiyuanxuehao;\n\tint kaishishijianh, kaishishijianm, kaishishijians;\n\tint jieshushijianh, jieshushijianm, jieshushijians;\n\tdouble yundongjvli;\n\tint zantingshijiana, zantingshijianb;\n\tint zongbushu;\n};\n\nstruct \u300c\u7f8e\u5143\u7b26\u53f7\u300dStudent {\n\tstring xuehao;\n\tbool xingbie;\n\tint tiyukezhuanxiangchengji;\n\tint tiyuchangpaoceshichengjia, tiyuchangpaoceshichengjib;\n\tbool tizhiceshitongguo;\n\tint dayizhuanxiangjihua;\n\tint banjixunlianying;\n\tvector<\u300c\u7f8e\u5143\u7b26\u53f7\u300dYangGuang> dat;\n} stu[maxn];\n```\n\n\u4e3a\u4e86\u65b9\u4fbf\u7406\u89e3\uff0c\u9898\u76ee\u4e2d\u7684\u53d8\u91cf\u6211\u90fd\u6362\u6210\u4e86\u4e2d\u6587\u62fc\u97f3\u3002**\u8fd9\u91cc\u6709\u4e2a\u5751\u70b9**\uff0c\u5c31\u662f\u300c\u9633\u5149\u957f\u8dd1\u300d\u6570\u636e\u4e2d\uff0c\u8fd0\u52a8\u8ddd\u79bb\u5355\u4f4d\u5e76\u4e0d\u662f $\\text m$\uff0c\u800c\u662f $\\text{km}$\uff0c\u6240\u4ee5\u9700\u8981\u4e58\u4e0a $1000$ \u5c06\u5176\u8f6c\u5316\u4e3a m\u3002\u5426\u5219\uff0c\u5728\u540e\u9762\u8ba1\u7b97\u5224\u65ad\u6570\u636e\u5408\u6cd5\u7684\u65f6\u5019\uff0c\u8ba1\u7b97\u5e73\u5747\u901f\u5ea6\u548c\u6b65\u5e45\u65f6\u4f1a\u6709\u9519\u8bef\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u5b66\u751f\uff0c\u4ed6\u7684\u9633\u5149\u957f\u8dd1\u4fe1\u606f**\u9700\u8981\u901a\u8fc7\u4e00\u4e2a $\\text{vector}$ \u6765\u50a8\u5b58**\uff0c\u56e0\u4e3a $\\text{vector}$ \u662f\u52a8\u6001\u5206\u914d\u7a7a\u95f4\u7684\uff0c\u5982\u679c\u4f60\u5f00\u4e86\u4e00\u4e2a\u957f\u5ea6\u4e3a $m$ \u7684\u6570\u7ec4\uff0c\u8fd9\u6837\u603b\u7a7a\u95f4\u5c31\u4f1a\u53d8\u6210 $n\\times m$\uff0c\u662f\u50a8\u5b58\u4e0d\u4e0b\u7684\u3002\n\n\u4e3a\u4e86\u8bfb\u5165\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u7ed3\u6784\u4f53\u91cc\u9762\u5efa\u7acb\u4e00\u4e2a $\\text{read}$ \u51fd\u6570\u6765\u8f93\u5165\u6570\u636e\u3002\u5bf9\u4e8e\u8f93\u5165\u65b9\u5f0f\u662f $\\texttt{a:b:c}$ \u6216\u8005\u662f $\\texttt{a'b\"}$ \u7684\u60c5\u51b5\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 $\\text{scanf}$\u3002\u5f53\u7136\uff0c\u4f60\u53ef\u4ee5\u4ee5\u5efa\u7acb\u4e00\u4e2a $\\text{char}$ \u7c7b\u578b\u53d8\u91cf\u6765\u541e\u6389\u4e2d\u95f4\u65e0\u7528\u7684 $\\texttt{:}$ \u548c $\\texttt{'}$\u3002\n\n\u300c\u9633\u5149\u957f\u8dd1\u300d\u6570\u636e\u7684\u8bfb\u5165\u65b9\u5f0f\uff1a\n\n```cpp\nvoid read() {\n    string tmp;\n    cin >> tmp;\n    wanchengnian = strtol(tmp.substr(0, 4));\n    wanchengyue = strtol(tmp.substr(4, 2));\n    wanchengri = strtol(tmp.substr(6, 2));\n    cin >> laiyuanxuehao;\n    scanf(\"%lld:%lld:%lld\", &kaishishijianh, &kaishishijianm, &kaishishijians);\n    scanf(\"%lld:%lld:%lld\", &jieshushijianh, &jieshushijianm, &jieshushijians);\n    cin >> yundongjvli;\n    yundongjvli *= 1000;\n    scanf(\"%lld'%lld\\\"\", &zantingshijiana, &zantingshijianb);\n    cin >> zongbushu;\n}\n```\n\n\u5b66\u751f\u7684\u6570\u636e\u7684\u8bfb\u5165\u65b9\u5f0f\uff1a\n\n```cpp\nvoid read(int i) {\n    cin >> xuehao;\n    mp[xuehao] = i;\n    char tmp;\n    cin >> tmp;\n    tmp == 'M' ? xingbie = 1 : xingbie = 0;\n    cin >> tiyukezhuanxiangchengji;\n    scanf(\"%lld'%lld\\\"\", &tiyuchangpaoceshichengjia, &tiyuchangpaoceshichengjib);\n    cin >> tmp;\n    tmp == 'P' ? tizhiceshitongguo = true : false;\n    cin >> dayizhuanxiangjihua;\n    cin >> banjixunlianying;\n}\n```\n\n\u8fd9\u91cc\u6211\u4eec\u5efa\u7acb\u4e86\u4e00\u4e2a $\\text{map}$ \u7c7b\u578b\u7684 $\\text{mp}$ \u6765\u50a8\u5b58\u5bf9\u5e94\u5b66\u53f7\u7684\u4e0b\u6807\u3002\u5982\u679c\u6211\u4eec\u66b4\u529b\u67e5\u627e\u6bcf\u4e2a\u5b66\u53f7\u5bf9\u5e94\u4e0b\u6807\u7684\u8bdd\uff0c\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4f1a\u53d8\u6210 $\\mathcal{O}(nm)$\uff0c**\u4f1a\u8d85\u65f6**\u3002\n\n\u7136\u540e\uff0c\u6211\u4eec\u9700\u8981\u5224\u65ad\u4e00\u4e2a\u9633\u5149\u957f\u8dd1\u6570\u636e\u662f\u5426\u5408\u6cd5\uff0c\u8fd9\u91cc\u9762\u6bd4\u8f83\u9ebb\u70e6\u7684\u5c31\u662f\u5982\u4f55\u5224\u65ad\u5f53\u524d\u6570\u636e\u548c\u4e0a\u4e00\u4e2a\u5408\u6cd5\u6570\u636e\u76f8\u8ddd\u7684\u65f6\u95f4\u8d85\u8fc7\u4e86 $\\text{6h}$\uff0c\u8fd9\u91cc\u6211\u5c55\u793a\u4e00\u4e0b\u6211\u7684\u4ee3\u7801\uff1a\n\n```cpp\n\u300c\u7f8e\u5143\u7b26\u53f7\u300dYangGuang last = stu.dat[stu.dat.size() - 1];\nif (now.wanchengyue != last.wanchengyue) {\n    if (now.wanchengyue - 1 != last.wanchengyue) {\n        return true;\n    }\n    else {\n        if (month[last.wanchengyue] != last.wanchengri || now.wanchengri != 1) {\n            return true;\n        }\n        else if (86400 + now.kaishishijianh * 60 * 60 + now.kaishishijianm * 60 + now.kaishishijians - last.jieshushijianh * 60 * 60 - last.jieshushijianm * 60 - last.jieshushijians < 21600) {\n            return false;\n        }\n    }\n}\nelse if (now.wanchengri != last.wanchengri) {\n    if (now.wanchengri - 1 != last.wanchengri) {\n        return true;\n    }\n    else if (86400 + now.kaishishijianh * 60 * 60 + now.kaishishijianm * 60 + now.kaishishijians - last.jieshushijianh * 60 * 60 - last.jieshushijianm * 60 - last.jieshushijians < 21600) {\n        return false;\n    }\n}\nelse if (now.kaishishijianh * 60 * 60 + now.kaishishijianm * 60 + now.kaishishijians - last.jieshushijianh * 60 * 60 - last.jieshushijianm * 60 - last.jieshushijians < 21600) {\n    return false;\n}\nreturn true;\n```\n\n\u6211\u5206\u4e86\u56db\u79cd\u60c5\u51b5\u8ba8\u8bba\uff1a\n\n1. \u4e0d\u5728\u540c\u4e00\u6708\n2. \u4e0d\u5728\u540c\u4e00\u65e5\n3. \u5176\u4ed6\n\n\u53ea\u9700\u8981\u5c06\u5f53\u524d\u65e5\u671f\u548c\u4e0a\u6b21\u65e5\u671f\u8f6c\u5316\u4e3a\u79d2\uff0c\u7136\u540e\u76f8\u51cf\u770b\u76f8\u5dee\u65f6\u95f4\u662f\u5426\u5927\u4e8e $21600$ \u79d2\uff0c\u4e5f\u5c31\u662f $\\text{6h}$ \u5373\u53ef\u3002\u6211\u4eec\u53ef\u4ee5\u5148\u8bfb\u5165\u8fd9\u4e9b\u4fe1\u606f\u7684\u540c\u65f6\u5224\u65ad\u8fd9\u4e2a\u4fe1\u606f\u662f\u5426\u5408\u6cd5\uff0c\u5982\u679c\u5408\u6cd5\u7684\u8bdd\uff0c\u5c31\u52a0\u5165\u5230\u5b66\u53f7\u5bf9\u5e94\u7684\u5b66\u751f\u4fe1\u606f\u4e2d\u7684 $\\text{vector}$ \u6570\u7ec4\u91cc\u9762\u3002\n\n\u8f93\u5165\u8fc7\u540e\uff0c\u6211\u4eec\u5c31\u4ece $1$ \u5f00\u59cb\u679a\u4e3e\u6bcf\u4e2a\u5b66\u751f\uff0c\u7136\u540e\u8ba1\u7b97\u51fa\u5bf9\u5e94\u7684\u6210\u7ee9\u5373\u53ef\u3002\n\n```cpp\nfor (int i = 1; i <= n; i++) {\n    int score = 0;\n    score += stu[i].tiyukezhuanxiangchengji;\n\n    if (stu[i].xingbie) {\n        int cost = stu[i].tiyuchangpaoceshichengjia * 60 + stu[i].tiyuchangpaoceshichengjib;\n        if (cost <= 12 * 60 + 30) {\n            score += 20;\n        }\n        else if (cost <= 13 * 60) {\n            score += 18;\n        }\n        else if (cost <= 13 * 60 + 30) {\n            score += 16;\n        }\n        else if (cost <= 14 * 60) {\n            score += 14;\n        }\n        else if (cost <= 14 * 60 + 30) {\n            score += 12;\n        }\n        else if (cost <= 15 * 60 + 10) {\n            score += 10;\n        }\n        else if (cost <= 15 * 60 + 50) {\n            score += 8;\n        }\n        else if (cost <= 16 * 60 + 30) {\n            score += 6;\n        }\n        else if (cost <= 17 * 60 + 10) {\n            score += 4;\n        }\n        else if (cost <= 18 * 60) {\n            score += 2;\n        }\n    }\n    else {\n        int cost = stu[i].tiyuchangpaoceshichengjia * 60 + stu[i].tiyuchangpaoceshichengjib;\n        if (cost <= 6 * 60 + 40) {\n            score += 20;\n        }\n        else if (cost <= 6 * 60 + 57) {\n            score += 18;\n        }\n        else if (cost <= 7 * 60 + 14) {\n            score += 16;\n        }\n        else if (cost <= 7 * 60 + 31) {\n            score += 14;\n        }\n        else if (cost <= 7 * 60 + 50) {\n            score += 12;\n        }\n        else if (cost <= 8 * 60 + 5) {\n            score += 10;\n        }\n        else if (cost <= 8 * 60 + 20) {\n            score += 8;\n        }\n        else if (cost <= 8 * 60 + 35) {\n            score += 6;\n        }\n        else if (cost <= 8 * 60 + 50) {\n            score += 4;\n        }\n        else if (cost <= 9 * 60) {\n            score += 2;\n        }\n    }\n\n    int ygtimes = stu[i].dat.size();\n    if (ygtimes >= 3 && ygtimes <= 6) {\n        score += 2;\n    }\n    else if (ygtimes >= 7 && ygtimes <= 10) {\n        score += 4;\n    }\n    else if (ygtimes >= 11 && ygtimes <= 13) {\n        score += 6;\n    }\n    else if (ygtimes >= 14 && ygtimes <= 16) {\n        score += 7;\n    }\n    else if (ygtimes >= 17 && ygtimes <= 18) {\n        score += 8;\n    }\n    else if (ygtimes >= 19 && ygtimes <= 20) {\n        score += 9;\n    }\n    else if (ygtimes >= 21) {\n        score += 10;\n    }\n\n\n    if (stu[i].tizhiceshitongguo) {\n        score += 10;\n    }\n\n    int times = ygtimes + stu[i].banjixunlianying;\n    if (times >= 6 && times <= 8) {\n        score += 1;\n    }\n    else if (times >= 9 && times <= 11) {\n        score += 2;\n    }\n    else if (times >= 12 && times <= 14) {\n        score += 3;\n    }\n    else if (times >= 15 && times <= 17) {\n        score += 4;\n    }\n    else if (times >= 18) {\n        score += 5;\n    }\n    score += stu[i].dayizhuanxiangjihua;\n\n    cout << stu[i].xuehao << ' ' << score << ' ';\n    if (score < 60) {\n        puts(\"F\");\n    }\n    else if (score < 63) {\n        puts(\"D\");\n    }\n    else if (score < 67) {\n        puts(\"D+\");\n    }\n    else if (score < 70) {\n        puts(\"C-\");\n    }\n    else if (score < 73) {\n        puts(\"C\");\n    }\n    else if (score < 77) {\n        puts(\"C+\");\n    }\n    else if (score < 80) {\n        puts(\"B-\");\n    }\n    else if (score < 85) {\n        puts(\"B\");\n    }\n    else if (score < 90) {\n        puts(\"B+\");\n    }\n    else if (score < 95) {\n        puts(\"A-\");\n    }\n    else {\n        puts(\"A\");\n    }\n}\n```\n\n\u5230\u6b64\uff0c\u8fd9\u9053\u9898\u5c31\u7ed3\u675f\u4e86\u3002\n\n[\u9644\u4e0a\u4ee3\u7801](https://www.luogu.com.cn/paste/p4gbxgss)",
        "postTime": 1644138375,
        "uid": 670262,
        "name": "Cerisier",
        "ccfLevel": 0,
        "title": "P7426 [THUPC2017] \u4f53\u80b2\u6210\u7ee9\u7edf\u8ba1"
    },
    {
        "content": "\u8fd9\u9053\u9898\u76ee\u7684\u9898\u610f\u8fd8\u662f\u597d\u7406\u89e3\u7684\uff0c\u5c31\u662f\u6839\u636e\u4e00\u7cfb\u5217\u7684\u4fe1\u606f\u8ba1\u7b97\u5206\u6570\u5e76\u8bc4\u7ea7\uff0c\u7136\u800c\u8981\u6ce8\u610f\u7684\u7ec6\u8282\u5f88\u591a\u3002\u5206\u6570\u7684\u8ba1\u7b97\u53ef\u4ee5\u5206\u4e3a\u51e0\u4e2a\u90e8\u5206\uff0c\u6240\u4ee5\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u90e8\u5206\u3002\n\n### \u5904\u7406\u65f6\u5206\u79d2\n\n\u8fd9\u4e9b\u65f6\u5206\u79d2\u7684\u8f93\u5165\u592a\u9ebb\u70e6\u4e86\uff0c\u7528 `scanf` \u8fd8\u8981\u683c\u5f0f\u5316\u8f93\u5165\u3002\u7136\u800c\uff0c\u4e00\u4e2a\u5feb\u8bfb\u89e3\u51b3\u4e00\u5207\u8f93\u5165\u683c\u5f0f\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u5feb\u8bfb\u53ea\u5173\u5fc3\u6570\u5b57\u662f\u5426\u8fde\u7eed\uff0c\u81f3\u4e8e\u4e2d\u95f4\u662f\u4ec0\u4e48\u5b57\u7b26\u4e0d\u5173\u5fc3\uff0c\u6240\u4ee5\u7528\u5feb\u8bfb\u5373\u53ef\u3002\n\n\u4e3a\u4e86\u5904\u7406\u95ee\u9898\u65b9\u4fbf\uff0c\u5e94\u8be5\u628a\u65f6\u5206\u79d2\u8f6c\u5316\u4e3a\u79d2\u6570 $t$\uff0c\u8ba1\u7b97\u516c\u5f0f\u5982\u4e0b\uff1a\n\n$$t=3600h+60m+s$$\n\n\u8fd9\u4e2a\u516c\u5f0f\u5728\u4e4b\u540e\u7684\u8ba1\u7b97\u5341\u5206\u6709\u7528\uff0c\u56e0\u4e3a\u8fd9\u6837\u5904\u7406\u540e\uff0c\u5c31\u4e0d\u7528\u518d\u8003\u8651\u4ec0\u4e48\u8fdb\u4f4d\u9000\u4f4d\u7684\u4e8b\u60c5\u4e86\u3002\n\n### \u5904\u7406\u65e5\u671f\n\n\u9898\u76ee\u4fdd\u8bc1\u65e5\u671f\u90fd\u662f `2017MMDD` \u7684\u5f62\u5f0f\uff0c\u6240\u4ee5\u53ef\u4ee5\u5c06\u6bcf\u4e2a\u65e5\u671f\u51cf\u53bb $20170000$\uff0c\u5206\u79bb\u51fa `MM` \u548c `DD` \u5c31\u53ef\u4ee5\u4e86\u3002\u6700\u540e\u8fd4\u56de\u7684\u65f6\u5019\u518d\u4e58\u4e0a $86400$\uff0c\u4fbf\u4e8e\u4e4b\u540e\u5224\u65ad\u65f6\u95f4\u95f4\u9694\u662f\u5426\u5408\u6cd5\uff08\u8de8\u5929\u7684\u60c5\u51b5\uff09\u3002\n\n### \u5904\u7406\u8dd1\u6b65\u6210\u7ee9\n\n\u5bf9\u9898\u76ee\u4e2d\u7ed9\u51fa\u7684\u8868\u683c\u7a0d\u4f5c\u4fee\u6539\uff08\u540c\u5904\u7406\u65f6\u5206\u79d2\uff09\uff0c\u5c31\u53ef\u4ee5\u53ea\u6839\u636e\u4e00\u4e2a\u91cf\u6765\u8ba1\u7b97\u6210\u7ee9\uff0c\u5f88\u65b9\u4fbf\u3002\n\n### \u5904\u7406\u4e00\u4e9b\u6742\u4e03\u6742\u516b\u7684\u6210\u7ee9\n\n\u5bf9\u4e8e\u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\uff0c\u5982\u679c\u662f `P` \uff0c\u603b\u6210\u7ee9\u5c31\u52a0 $10$\uff0c\u5426\u5219\u4e0d\u53d8\u3002\u5bf9\u4e8e\u671f\u672b\u68c0\u6d4b\u6210\u7ee9\uff0c\u76f4\u63a5\u5c06\u8bfb\u5165\u7684\u6570\u636e\u52a0\u5230\u603b\u6210\u7ee9\u91cc\u9762\u5373\u53ef\u3002\u521d\u59cb\u51fa\u52e4\u6b21\u6570\u5c31\u662f\u53c2\u52a0\u73ed\u7ea7\u8bad\u7ec3\u8425\u7684\u6b21\u6570\u3002\n\n### \u5904\u7406\u9633\u5149\u957f\u8dd1\u7684\u6210\u7ee9\uff08\u91cd\u96be\u70b9\uff09\n\n\u8fd9\u4e2a\u90e8\u5206\u662f\u6700\u6700\u6700\u5173\u952e\u7684\u90e8\u5206\uff0c\u5341\u5206\u70e6\u4eba\u3002\u5148\u5c06\u521d\u59cb\u7684\u8f93\u5165\u6570\u636e\u88c5\u6210\u4e00\u4e2a\u7ed3\u6784\u4f53\u5e76\u6309\u5b66\u53f7\u6392\u5e8f\uff0c\u63a5\u7740\u7528 `map` \u6765\u505a\u4e00\u4e2a\u5b66\u53f7\u5230\u8003\u53f7\u7684\u6620\u5c04\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u628a\u8003\u53f7\u8f6c\u5316\u4e3a\u7f16\u53f7\u3002\u65e5\u671f\u7684\u5904\u7406\u65b9\u6cd5\u548c\u4e24\u4e2a\u5173\u4e8e\u65f6\u95f4\u7684\u8ba1\u7b97\u6839\u636e\u4e0a\u9762\u7684\u5904\u7406\u65b9\u6cd5\u8fdb\u884c\u8ba1\u7b97\u5373\u53ef\u3002\u8dd1\u6b65\u7684\u8ddd\u79bb\u5355\u4f4d\u662f `km`\uff0c\u8981\u628a\u5b83\u8f6c\u5316\u4e3a `m`\uff0c\u5c31\u5f97\u5c06 $l$ \u4e58\u4ee5 $1000$\u3002\u6682\u505c\u65f6\u95f4\u4e5f\u6309\u4e0a\u9762\u7684\u5904\u7406\u65b9\u6cd5\u8fdb\u884c\u8ba1\u7b97\u3002\u518d\u76f4\u63a5\u8f93\u5165\u603b\u6b65\u6570\u3002\u6ce8\u610f\uff0c\u5c31\u7b97\u8f93\u5165\u6ca1\u8f93\u5b8c\u5c31\u5df2\u77e5\u975e\u6cd5\u4e86\uff0c\u4e5f\u8981\u628a\u8fd9\u4e00\u884c\u7684\u8f93\u5165\u8f93\u5b8c\uff0c\u5426\u5219\u63a5\u4e0b\u6765\u4f1a\u6b7b\u7684\u5f88\u60e8\uff08\u8fde\u9501\u53cd\u5e94\uff09\u3002\n\n\u63a5\u4e0b\u6765\u7684\u5904\u7406\u6b65\u9aa4\u5982\u4e0b\uff1a\n\n- \u770b\u8fd9\u4e2a\u4eba\u8fd9\u6b21\u7684\u5f00\u59cb\u65f6\u95f4\u4e0e\u4e0a\u6b21\u7684\u7ed3\u675f\u65f6\u95f4\u4e4b\u5dee\uff0c\u5982\u679c\u5c0f\u4e8e $21600$\uff0c\u5c31\u975e\u6cd5\u3002\n- \u770b\u8fd9\u4e2a\u4eba\u7684\u5e73\u5747\u901f\u7387\uff0c\u5982\u679c\u4e0d\u5728\u89c4\u5b9a\u7684\u8303\u56f4\u5185\uff0c\u5c31\u975e\u6cd5\u3002\n- \u770b\u8fd9\u4e2a\u4eba\u8dd1\u7684\u8def\u7a0b\u4e0e\u6b65\u6570\u7684\u6bd4\u503c\uff0c\u5982\u679c\u5927\u4e8e $1.5$\uff0c\u5c31\u975e\u6cd5\u3002\n- \u770b\u8fd9\u4e2a\u4eba\u7684\u6682\u505c\u65f6\u95f4\uff0c\u5982\u679c\u5927\u4e8e $270$\uff0c\u5c31\u975e\u6cd5\u3002\n- \u5206\u6027\u522b\u5224\u65ad\u8dd1\u6b65\u7684\u8ddd\u79bb\u662f\u5426\u5408\u6cd5\u3002\n\n\u5982\u679c\u8fd9\u4e9b\u90fd\u5408\u6cd5\uff0c\u5c31\u66f4\u65b0\u8fd9\u4e2a\u4eba\u7684\u6700\u8fd1\u4e00\u6b21\u5408\u6cd5\u8bb0\u5f55\u3001\u9633\u5149\u957f\u8dd1\u5408\u6cd5\u6b21\u6570\u548c\u51fa\u52e4\u6b21\u6570\u3002\n\n### \u8f93\u51fa\u7b54\u6848\n\n\u76f4\u63a5\u6309\u6392\u5b8c\u5e8f\u540e\u7684\u7ed3\u6784\u4f53\u904d\u5386\uff0c\u66f4\u65b0\u4e00\u4e0b\u5206\u6570\uff08\u8fd8\u672a\u5904\u7406\u9633\u5149\u957f\u8dd1\u5408\u6cd5\u6b21\u6570\u548c\u51fa\u52e4\u6b21\u6570\uff09\uff0c\u6839\u636e\u9898\u610f\u8f93\u51fa\u5373\u53ef\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<map>\n#include<ctime>\n#include<cstdio>\n#include<cctype>\n#include<algorithm>\n#define ll long long\nusing namespace std;\nconst ll N=1e4+7;\nll read(){\n\tchar c;\n\tll x=0,f=1;\n\twhile(!isdigit(c=getchar()))\n\t\tf-=2*(c=='-');\n\twhile(isdigit(c)){\n\t\tx=x*10+f*(c-48);\n\t\tc=getchar();\n\t}\n\treturn x;\n}\nstruct stu{\n\tll n,se,sc,ot,sun,las;\n\tbool operator <(stu b){\n\t\treturn n<b.n;\n\t}\n};\nvoid out(ll s){//\u6839\u636e\u5206\u6570\u8f93\u51fa\u7b49\u7ea7\n\tif(s<60){\n\t\tputs(\"F\");\n\t\treturn;\n\t}\n\tif(s<63){\n\t\tputs(\"D\");\n\t\treturn;\n\t}\n\tif(s<67){\n\t\tputs(\"D+\");\n\t\treturn;\n\t}\n\tif(s<70){\n\t\tputs(\"C-\");\n\t\treturn;\n\t}\n\tif(s<73){\n\t\tputs(\"C\");\n\t\treturn;\n\t}\n\tif(s<77){\n\t\tputs(\"C+\");\n\t\treturn;\n\t}\n\tif(s<80){\n\t\tputs(\"B-\");\n\t\treturn;\n\t}\n\tif(s<85){\n\t\tputs(\"B\");\n\t\treturn;\n\t}\n\tif(s<90){\n\t\tputs(\"B+\");\n\t\treturn;\n\t}\n\tif(s<95){\n\t\tputs(\"A-\");\n\t\treturn;\n\t}\n\tputs(\"A\");\n}\nll calc(ll h,ll m,ll s){//\u8ba1\u7b97\u65f6\u5206\u79d2\n\treturn h*3600+m*60+s;\n}\nll n,m;\nstu a[N];\nmap<ll,ll>r;\nll test(ll m,ll s,ll se){//\u6839\u636e\u8dd1\u6b65\u6210\u7ee9\u53ca\u6027\u522b\u8ba1\u7b97\u5206\u6570\n\tll t=calc(0,m,s);\n\tif(se){\n\t\tif(t>1080)\n\t\t\treturn 0;\n\t\tif(t>1030)\n\t\t\treturn 2;\n\t\tif(t>990)\n\t\t\treturn 4;\n\t\tif(t>950)\n\t\t\treturn 6;\n\t\tif(t>910)\n\t\t\treturn 8;\n\t\tif(t>870)\n\t\t\treturn 10;\n\t\tif(t>840)\n\t\t\treturn 12;\n\t\tif(t>810)\n\t\t\treturn 14;\n\t\tif(t>780)\n\t\t\treturn 16;\n\t\tif(t>750)\n\t\t\treturn 18;\n\t\treturn 20;\n\t}\n\tif(t>540)\n\t\treturn 0;\n\tif(t>530)\n\t\treturn 2;\n\tif(t>515)\n\t\treturn 4;\n\tif(t>500)\n\t\treturn 6;\n\tif(t>485)\n\t\treturn 8;\n\tif(t>470)\n\t\treturn 10;\n\tif(t>451)\n\t\treturn 12;\n\tif(t>434)\n\t\treturn 14;\n\tif(t>417)\n\t\treturn 16;\n\tif(t>400)\n\t\treturn 18;\n\treturn 20;\n}\nll rev(ll s){//2017****\u8f6c\u5316\u4e3a\u8fd9\u4e00\u5e74\u91cc\u9762\u7684\u7b2c\u67d0\u5929\u4e58\u4ee586400\n\ts-=20170000;\n\tll m=s/100;\n\tll d=s%100;\n\tswitch(m){\n\t\tcase 12:\n\t\t\td+=30;\n\t\tcase 11:\n\t\t\td+=31;\n\t\tcase 10:\n\t\t\td+=30;\n\t\tcase 9:\n\t\t\td+=31;\n\t\tcase 8:\n\t\t\td+=31;\n\t\tcase 7:\n\t\t\td+=30;\n\t\tcase 6:\n\t\t\td+=31;\n\t\tcase 5:\n\t\t\td+=30;\n\t\tcase 4:\n\t\t\td+=31;\n\t\tcase 3:\n\t\t\td+=28;\n\t\tcase 2:\n\t\t\td+=31;\n\t}\n\treturn d*86400;\n}\nll csun(ll c){//\u6839\u636e\u9633\u5149\u957f\u8dd1\u5408\u6cd5\u6b21\u6570\u8ba1\u7b97\u6210\u7ee9\n\tif(c<3)\n\t\treturn 0;\n\tif(c<7)\n\t\treturn 2;\n\tif(c<11)\n\t\treturn 4;\n\tif(c<14)\n\t\treturn 6;\n\tif(c<17)\n\t\treturn 7;\n\tif(c<19)\n\t\treturn 8;\n\tif(c<21)\n\t\treturn 9;\n\treturn 10;\n}\nll caot(ll c){//\u6839\u636e\u51fa\u52e4\u6b21\u6570\u8ba1\u7b97\u6210\u7ee9\n\tif(c<6)\n\t\treturn 0;\n\tif(c<9)\n\t\treturn 1;\n\tif(c<12)\n\t\treturn 2;\n\tif(c<15)\n\t\treturn 3;\n\tif(c<18)\n\t\treturn 4;\n\treturn 5;\n}\nint main(){\n\tn=read();\n\tfor(ll i=1;i<=n;++i){\n\t\ta[i].n=read();\n\t\tchar c=0;\n\t\twhile(!isalpha(c))\n\t\t\tc=getchar();\n\t\ta[i].se=c=='M';//0\u4e3a\u5973\u6027\uff0c1\u4e3a\u7537\u6027\n\t\ta[i].sc=read();//\u8bfb\u5165\u521d\u59cb\u5206\u6570\n\t\tll mi=read();\n\t\tll s=read();\n\t\ta[i].sc+=test(mi,s,a[i].se);\n\t\tc=0;\n\t\twhile(!isalpha(c))\n\t\t\tc=getchar();\n\t\ta[i].sc+=10*(c=='P');//\u6839\u636e\u662f\u5426\u901a\u8fc7\u6d4b\u8bd5\u66f4\u65b0\u6210\u7ee9\n\t\ta[i].sc+=read();//\u76f4\u63a5\u52a0\u4e0a\u671f\u672b\u68c0\u6d4b\u6210\u7ee9\n\t\ta[i].ot=read();//ot\u4e3a\u51fa\u52e4\u6b21\u6570\n\t}\n\tsort(a+1,a+n+1);//\u6309\u7167\u5b66\u53f7\u6392\u5e8f\n\tfor(ll i=1;i<=n;++i)\n\t\tr[a[i].n]=i;//\u6620\u5c04\n\tm=read();\n\tfor(ll i=1;i<=m;++i){\n\t\tll d=rev(read());\n\t\tll id=r[read()];\n\t\tll h=read();\n\t\tll mi=read();\n\t\tll s=read();\n\t\tll st=calc(h,mi,s)+d;\n\t\th=read();\n\t\tmi=read();\n\t\ts=read();\n\t\tll ed=calc(h,mi,s)+d;\n\t\tdouble dis;\n\t\tscanf(\"%lf\",&dis);\n\t\tdis*=1000;//\u8981\u4e58\u4ee51000\uff0c\u8f6c\u6362\u5355\u4f4d\n\t\tmi=read();\n\t\ts=read();\n\t\tll pa=calc(0,mi,s);\n\t\tll cnt=read();\n\t\tif(pa>270)\n\t\t\tcontinue;\n\t\tll ti=ed-st;\n\t\tif(st-a[id].las<21600)\n\t\t\tcontinue;\n\t\tdouble sp=dis/ti;\n\t\tif(sp<2||sp>5)\n\t\t\tcontinue;\n\t\tif(dis/cnt>1.5)\n\t\t\tcontinue;\n\t\tif(a[id].se){\n\t\t\tif(dis<3000)\n\t\t\t\tcontinue;\n\t\t}\n\t\telse{\n\t\t\tif(dis<1500)\n\t\t\t\tcontinue;\n\t\t}\n\t\ta[id].las=ed;\n\t\t++a[id].sun;\n\t\t++a[id].ot;\n\t}\n\tfor(ll i=1;i<=n;++i){\n\t\ta[i].sc+=csun(a[i].sun);\n\t\ta[i].sc+=caot(a[i].ot);\n\t\tprintf(\"%lld %lld \",a[i].n,a[i].sc);\n\t\tout(a[i].sc);\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1615607409,
        "uid": 181378,
        "name": "Alarm5854",
        "ccfLevel": 7,
        "title": "\u9898\u89e3P7426"
    },
    {
        "content": "## \u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\n\n#### [\u9898\u9762\u4f20\u9001\u7ad9](https://www.luogu.com.cn/problem/P7426)\n$Updata$:\u611f\u8c22 @Eason_AC \u7684\u63d0\u793a\u3002\u7531\u4e8e\u8f93\u5165\u65f6\u662f\u6309\u5b66\u53f7\u5b57\u5178\u5e8f\u8f93\u5165\uff0c\u6240\u4ee5\u8f93\u51fa\u7684\u65f6\u5019\u4e0d\u7528 $\\text{sort}$ \u4e86\u3002\n\n## \u6b63\u6587\n\u53ea\u770b\u4e00\u773c\uff0c\u4fbf\u77e5\u8fd9\u662f\u4e00\u9053\u5927\u6a21\u62df\u7684~~\u6c34\u9898~~\u6076\u5fc3\u9898\u76ee\u3002\n\n\u6839\u636e\u9898\u610f\uff0c\u4f53\u80b2\u8bfe\u7684\u603b\u8bc4\u6210\u7ee9\u7531\u4e94\u90e8\u5206\u7ec4\u6210\uff0c\u6240\u4ee5\u5f88\u5feb\u554a\uff0c\u6211\u4eec\u5c31\u80fd~~\u4f7f\u7528\u677e\u679c\u8695\u8c46\u95ea\u7535\u4e94\u8fde\u97ad~~\u81ea\u7136\u800c\u7136\u7684\u5c06\u9898\u76ee\u8981\u6c42\u5206\u6210\u4e94\u4e2a\u00b7\u00b7\u00b7\u00b7\u00b7\u554a\u5478\uff0c\u662f\u516d\u4e2a\u677f\u5757\u3002\n\n### 0.\u8f93\u5165\n\u5728\u8fd9\u91cc\uff0c\u6211\u7528\u4e86 $\\text{map}$  (STL\u5927\u6cd5\u597d)\uff0c\u5c06\u5b66\u7c4d\u53f7**\u79bb\u6563\u5316**~~\u6211\u624d\u4e0d\u4f1a\u544a\u8bc9\u4f60\u662f\u56e0\u4e3a\u6211\u524d\u51e0\u5929\u521a\u5b66\u4f1a\u7528 map~~\uff0c\u5e76\u4e14\u5728\u540e\u9762\u7684\u7a0b\u5e8f\u4e2d\u4fbf\u4e8e\u641c\u627e\u4f4d\u7f6e\u3002\n\n\u7528\u4e86$\\text{struct}$\uff0c\u7528\u4e86$\\text{struct}$\uff0c~~\u5c0f\u9ea6\u4ea9\u4ea7\u4e00\u5343\u516b~~ \u5143\u7d20\u8054\u7ed3\u771f\u65b9\u4fbf\uff08\u4e0d\u4f1a\u5427\u4e0d\u4f1a\u5427\uff0c\u90fd$\\mathrm{1202}$\u5e74\u4e86\uff0c\u8fd8\u6709\u4eba\u4e0d\u4f1a\u7528\u7ed3\u6784\u4f53\u5417\u3002\n\n\u5bf9\u4e8e\u5b57\u7b26\u4e32\u7684\u8f93\u5165\uff0c\u7531\u4e8e\u5b83\u7684\u7279\u6b8a\u7ed3\u6784\uff08\u6570\u5b57+$\\mathrm{1}$\u4e2a\u5b57\u7b26+\u6570\u5b57+$\\mathrm{1}$\u4e2a\u5b57\u7b26\uff09\uff0c\u6211\u4eec\u53ef\u4ee5**\u5148\u8f93\u5165\u6570\u5b57\uff0c\u518d\u8f93\u5165\u5b57\u7b26\uff0c\u518d\u6570\u5b57**\u00b7\u00b7\u00b7\u00b7\u00b7\n\n#### \u4ee3\u7801\u5982\u4e0b\n```cpp\nstruct node{\n\tunsigned int name;\n\tchar coup,pas;\n\tint sc1,sc2,rtm,tms,rtms;\n\tint ssc;\n\tlong long tf;\n\tlong long tfd;\n}a[10001];\nmap<long long ,int> maps;\n\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\nint x1,x2;\nchar y1,y2;\nfor(int i = 1;i <= n;i ++){\n\tcin >> k;\n\tmaps[k]=i;\n\ta[i].name = k;\n\tcin >> a[i].coup;\n\tcin >> a[i].sc1;\n\tcin >> x1 >> y1 >> x2 >> y2;\n\ta[i].rtm = x1*60 + x2;\n\tcin >> a[i].pes;\n\tcin >> a[i].sc2 >> a[i].tms;\n}\n\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\n```\n\n### 1.\u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9 + \u671f\u672b\u6210\u7ee9\n\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff0c\u5f88\u663e\u7136\uff0c\u76f4\u63a5\u52a0\u3002\n\n\u53e6\u5916\uff0c\u65b9\u4fbf\u8d77\u89c1\uff0c\u8fd9\u4e24\u9879\u53ef\u4ee5\u76f4\u63a5\u52a0\u7684\u6210\u7ee9\uff0c\u6211\u628a\u4ed6\u4eec\u653e\u5230\u4e00\u8d77\u3002\n\n### 2.\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\n\n\u5bf9\u4e8e\u6211\u8fd9\u6837\u7684\u5b66\u751f\u6765\u8bf4~~\u4e00\u5343\u771f\u6076\u5fc3~~\u8dd1\u6b65\u662f\u5f3a\u8eab\u5065\u4f53\u7684\u597d\u65b9\u6cd5\u3002\n\n\u5206\u4e0e\u79d2\u4e4b\u95f4\u7684\u6bd4\u8f83\u4e0d\u662f\u90a3\u4e48\u5bb9\u6613\uff0c\u4f46\u79d2\u4e0e\u79d2\u4e4b\u95f4\u7684\u6bd4\u8f83\u662f\u8f83\u7b80\u5355\u7684\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u5c06\u8f93\u5165\u7684\u5206\u548c\u79d2\u5168\u90e8\u8f6c\u5316\u4e3a\u79d2\uff0c\u8fd9\u6837\u4e00\u6765\uff0c~~\u53ef\u4ee5\u5c11\u6253\u4e00\u4e9b\u4ee3\u7801~~\u4ee3\u7801\u4f1a\u66f4\u52a0\u7b80\u6d01\u3002\n\n\u5269\u4e0b\u7684\u4e0d\u5fc5\u591a\u8bf4\uff0c$\\text{if - if else - else }$\u8865\u4e0a\u5373\u53ef\u3002\n### 3.\u3010\u9633\u5149\u957f\u8dd1\u3011\n\n\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u901a\u8fc7 $\\text{map}$ \u7684\u79bb\u6563\u5316\uff0c\u5c06~~\u957f\u957f\u7684~~\u5b66\u53f7\u6620\u5c04\u4e3a~~\u77ed\u77ed\u7684~~\u6570\u7ec4\u4e0b\u6807\uff0c\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u65b9\u4fbf\u7684\u5904\u7406\u3002\n\n\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u540c\u6837\u53ef\u4ee5\u5c06\u5206\u4e0e\u79d2\u7684\u6bd4\u8f83\uff0c\u8f6c\u5316\u4e3a\u79d2\u7684\u6bd4\u8f83\u3002\u5982\u6b64\u4e00\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u8f83\u4e3a\u65b9\u4fbf\u7684\u5bf9**\u5e73\u5747\u901f\u5ea6**\u548c**\u5f00\u59cb\u65f6\u95f4\u4e0e\u4e0a\u6b21\u7ed3\u675f\u65f6\u95f4\u76f8\u9694\u5927\u4e8e$\\mathrm{6}$\u5c0f\u65f6**\u7684\u5224\u65ad\u3002\n\n\u5e73\u5747\u901f\u5ea6\u4e0d\u5fc5\u591a\u8bf4\uff0c\u76f4\u63a5\u9664\u5c31\u53ef\u4ee5\u3002\n\n\u5bf9\u4e8e**\u5f00\u59cb\u65f6\u95f4\u4e0e\u4e0a\u6b21\u7ed3\u675f\u65f6\u95f4\u76f8\u9694\u5927\u4e8e$\\mathrm{6}$\u5c0f\u65f6**\u7684\u5224\u65ad\uff0c\u56e0\u4e3a\u9898\u76ee\u4e2d\u5df2\u7ecf\u7ed9\u51fa\u4e86\u65f6\u95f4\u4fdd\u8bc1\u6709\u5e8f\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06\u4e0a\u6b21\u5408\u6cd5\u7ed3\u675f\u65f6\u95f4\u76f4\u63a5\u4e0e\u672c\u6b21\u5f00\u59cb\u65f6\u95f4\u8fdb\u884c\u6bd4\u8f83\u3002\n\n\u6211\u4eec\u77e5\u9053\u4e0a\u6b21\u5408\u6cd5\u7684\u65e5\u671f\u548c\u5177\u4f53\u65f6\u95f4\u548c\u672c\u6b21\u7684\u65e5\u671f\u4e0e\u65f6\u95f4\u3002\u5bf9\u4e8e\u65e5\u671f\uff0c\u5b9e\u9645\u4e0a\u53ea\u6709**\u4e24\u79cd**\u60c5\u51b5\uff1a\u76f8\u540c\u6216\u4e0d\u76f8\u540c\u3002\u5982\u679c\u76f8\u540c\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5bf9\u65f6\u95f4\u8fdb\u884c\u6bd4\u8f83\uff1b\u5982\u679c\u4e0d\u76f8\u540c\uff0c\u90a3\u4e48\u6211\u4eec\u7684\u672c\u6b21\u65f6\u95f4\u5c31\u8981\u52a0\u4e0a\u65e5\u671f\u95f4\u7684\u76f8\u5dee\u5c0f\u65f6\u6570\u3002\n\n\u867d\u8bf4\u5982\u6b64\uff0c\u5bf9\u4e8e\u5927\u4e8e\u7b49\u4e8e $\\mathrm{2}$ \u5929\u7684\u65e5\u671f\u5dee\uff0c\u6211\u4eec\u53ea\u9700\u8981\u52a0\u4e0a $\\mathrm{48}$ \u5c0f\u65f6\u5c31\u53ef\u4ee5\u4e86\uff0c\u56e0\u4e3a~~\u592a\u61d2\u4e86~~\u5b83\u4eec\u662f\u7b49\u6548\u7684\u3002\n\n\u5e73\u5747\u6b65\u5e45\u4e5f\u4e0d\u5fc5\u591a\u8bf4\uff0c\u76f4\u63a5\u9664\u3002\uff08\u8bb0\u5f97\u8981\u628a $\\text{km}$ \u6362\u6210 $\\text{m}$\uff0c\u8981\u7528  $\\text{double}$\uff09\n\n\u603b\u6682\u505c\u65f6\u95f4\u76f4\u63a5\u6bd4\u8f83\u5373\u53ef\u3002\n\n\u7537\u5973\u751f\u7684\u8dd1\u6b65\u8ddd\u79bb\u76f4\u63a5 $\\text{if}$ \u5224\u65ad\u5373\u53ef\u3002\n\n\u6700\u540e\u8bb0\u5f55\u5408\u6cd5\u8dd1\u6b65\u6b21\u6570\uff0c\u5e76\u5b58\u50a8\u5408\u6cd5\u7684\u7ed3\u675f\u65f6\u95f4\u548c\u65e5\u671f\u3002\n\n$\\text{if}$ \u5224\u65ad\u6240\u5f97\u5206\u6570\u3002\n\n### 4.\u4f53\u8d28\u6d4b\u8bd5\n\u76f4\u63a5\u5224\u65ad\u5373\u53ef\u3002\n\n### 5.\u51fa\u52e4\n\n\u8fd9\u4e2a\u76f4\u63a5\u5c06**\u8bfe\u7a0b\u6b21\u6570**\u4e0e**\u5408\u6cd5\u8dd1\u6b65\u6b21\u6570**\u76f8\u52a0\uff0c\u8fdb\u884c\u5224\u65ad\u5373\u53ef\u3002\n\n\u51fa\u4e8e\u4e2a\u4eba\u4e60\u60ef\uff0c\u6211\u5c06\u5927\u90e8\u5206\u4e0a\u6587\u4e2d\u7684\u5206\u6570\u52a0\u51cf\u653e\u5728\u4e00\u8d77\uff0c\u4fbf\u4e8e\u68c0\u67e5\u3002\n\n## \u5b8c\u6574\u4ee3\u7801\n#### \u6211\u77e5\u9053\u4f60\u4eec\u5728\u7b49\u8fd9\u4e2a\uff08\n##### \u7801\u98ce\u7b80\u964b\uff0c\u5c06\u5c31\u7740\u770b\u5427\u3002\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint mond[12]={31,28,31,30,31,30,31,31,30,31,30,31};\nstruct node{\n\tunsigned int name;\n\tchar coup,pas;\n\tint sc1,sc2,rtm,tms,rtms;\n\tint ssc;\n\tlong long tf;\n\tlong long tfd;\n}a[10001];\nmap <long long,int> maps;\nbool cmp(node x,node y){\n\treturn x.name < y.name;\n}\nint main(){\n\tint n;\n\tcin >> n;\n\tlong long x1,x2,x3,xx,l;\n\tchar y1,y2;\n\tint k;\n\t//\u8f93\u5165 \n\tfor(int i = 1;i <= n;i ++){\n\t\tcin >> k;\n\t\tmaps[k]=i;\n\t\ta[i].name = k;\n\t\tcin >> a[i].coup;\n\t\tcin >> a[i].sc1;\n\t\tcin >> x1 >> y1 >> x2 >> y2;\n\t\ta[i].rtm = x1*60 + x2;\n\t\tcin >> a[i].pas;\n\t\tcin >> a[i].sc2 >> a[i].tms;\n\t}\n\tint m;\n\tcin >> m;\n\tint dt,steps;\n\tint js,ks;\n\tmap<long long,int> :: iterator iter;\n\t//\u8dd1\u6b65\u8bb0\u5f55 \n\tfor(int i = 1;i <= m;i ++){\n\t\tcin >> dt >> k;\n\t\titer = maps.find(k);\n\t\tk=iter->second;\n\t\tcin >>x1 >> y1 >> x2 >> y2 >> x3 ;\n\t\tks = x1*3600 + x2 *60 + x3;\n\t\tcin >>x1 >> y1 >> x2 >> y2 >> x3 ;\n\t\tjs = x1*3600 + x2 * 60 +x3;\n\t\txx = js-ks;\n//\t\tcout << xx << endl;\n\t\tcin >> x1 >> y1 >> x2;\n\t\tl=x1*1000 + x2*10;\n\t\tcin >> x1 >> y1 >> x2 >> y2;\n\t\tcin >> steps;\n\t\tdouble fl = double(l)/double(xx);\n\t\tif(fl < 2 || fl > 5)continue;\n\t\tif(double(l)/double(steps) > 1.5)continue;\n\t\tif(x1 == 4 && x2 >30 || x1 > 4)continue;\n\t\tif(ks - a[k].tf < 6*3600){\n\t\t\tint sec=1;\n\t\t\tif(dt == a[k].tfd)continue;\n\t\t\telse {\n\t\t\t\tif(a[k].tfd/10000 != dt/10000){\n\t\t\t\t\tif(a[k].tfd%10000/100 != 12 && a[k].tfd%100 != 31\n\t\t\t\t\t&& dt%10000/100 != 1 && dt % 100 != 1) sec = 2;\n\t\t\t\t}else {\n\t\t\t\t\tif(a[k].tfd%10000/100 != dt%10000/100){\n\t\t\t\t\t\tif(a[k].tfd%100 != mond[a[k].tfd%10000/100] \n\t\t\t\t\t\t&& dt % 100 != mond[dt%10000/100]) sec = 2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(dt%100-a[k].tfd % 100 >= 2)sec = 2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(ks+sec*24*3600-a[k].tf < 6*3600)continue;\t\n\t\t}\n\t\tif(a[k].coup == 'M' && l < 3000)continue;\n\t\tif(a[k].coup == 'F' && l < 1500)continue;\n\t\ta[k].rtms ++;\n\t\ta[k].tf = js;\n\t\ta[k].tfd = dt;\n\t}\n\t//\u5904\u7406\n\tfor(int i=1;i<=n;i++){\n\t\t//\u4f53\u80b2\u8bfe + \u671f\u672b\u6d4b\u8bd5 \n\t\ta[i].ssc = a[i].sc1+a[i].sc2;\n//\t\tcout << a[i].ssc << \" \";\n\t\t//\u8bfe\u5916\u957f\u8dd1 \n\t\tif(a[i].rtms>=21)a[i].ssc += 10;\n\t\telse if(a[i].rtms >= 19)a[i].ssc +=9;\n\t\telse if(a[i].rtms >= 17)a[i].ssc += 8;\n\t\telse if(a[i].rtms >= 14)a[i].ssc += 7;\n\t\telse if(a[i].rtms >= 11)a[i].ssc+=6;\n\t\telse if(a[i].rtms >= 7)a[i].ssc += 4;\n\t\telse if(a[i].rtms >= 3)a[i].ssc+=2;\n//\t\tcout << a[i].ssc << \" \";\n\t\t//\u51fa\u52e4\n\t\tint cq=a[i].rtms + a[i].tms; \n\t\tif(cq >= 18)a[i].ssc += 5;\n\t\telse if(cq >= 15)a[i].ssc +=4;\n\t\telse if(cq >= 12)a[i].ssc +=3;\n\t\telse if(cq >= 9)a[i].ssc +=2;\n\t\telse if(cq >= 6)a[i].ssc +=1;\n//\t\tcout << a[i].ssc <<\" \";\n\t\t//\u4f53\u8d28 \n\t\tif(a[i].pas == 'P')a[i].ssc +=10;\n\t\t//\u957f\u8dd1\u6d4b\u8bd5\n\t\t//\u7537 \n\t\tif(a[i].coup == 'M'){\n\t\t\tif(a[i].rtm <= 12*60 + 30)a[i].ssc+=20;\n\t\telse if(a[i].rtm <= 13*60)a[i].ssc+=18;\n\t\telse if(a[i].rtm <= 13*60 + 30)a[i].ssc+=16;\n\t\telse if(a[i].rtm <= 14*60)a[i].ssc+=14;\n\t\telse if(a[i].rtm <= 14*60 + 30)a[i].ssc+=12;\n\t\telse if(a[i].rtm <= 15*60 + 10)a[i].ssc+=10;\n\t\telse if(a[i].rtm <= 15*60 + 50)a[i].ssc+=8;\n\t\telse if(a[i].rtm <= 16*60 + 30)a[i].ssc+=6;\n\t\telse if(a[i].rtm <= 17*60 + 10)a[i].ssc+=4;\n\t\telse if(a[i].rtm <= 18*60)a[i].ssc+=2;\n\t\t} \n\t\t//\u5973 \n\t\telse {\n\t\t\tif(a[i].rtm <= 6*60 + 40)a[i].ssc+=20;\n\t\telse if(a[i].rtm <= 6*60 + 57)a[i].ssc+=18;\n\t\telse if(a[i].rtm <= 7*60 + 14)a[i].ssc+=16;\n\t\telse if(a[i].rtm <= 7*60 + 31)a[i].ssc+=14;\n\t\telse if(a[i].rtm <= 7*60 + 50)a[i].ssc+=12;\n\t\telse if(a[i].rtm <= 8*60 + 5)a[i].ssc+=10;\n\t\telse if(a[i].rtm <= 8*60 + 20)a[i].ssc+=8;\n\t\telse if(a[i].rtm <= 8*60 + 35)a[i].ssc+=6;\n\t\telse if(a[i].rtm <= 8*60 + 50)a[i].ssc+=4;\n\t\telse if(a[i].rtm <= 9*60)a[i].ssc+=2;\n\t\t} \n//\t\tcout << a[i].ssc <<\" \";\n\n\t} \n\tfor(int i=1;i<=n;i++){\n\t\tcout << a[i].name <<\" \" << a[i].ssc <<\" \";\n//\t\tcout << a[i].rtm << \" \" << a[i].rtms  <<\" \" << a[i].ssc << \" \"<<a[i].tms;\n\t\tif(a[i].ssc >= 95)cout << \"A\";\n\t\telse if(a[i].ssc >= 90)cout << \"A-\";\n\t\telse if(a[i].ssc >= 85)cout << \"B+\";\n\t\telse if(a[i].ssc >= 80)cout << \"B\";\n\t\telse if(a[i].ssc >= 77)cout << \"B-\";\n\t\telse if(a[i].ssc >= 73)cout << \"C+\";\n\t\telse if(a[i].ssc >= 70)cout << \"C\";\n\t\telse if(a[i].ssc >= 67)cout << \"C-\";\n\t\telse if(a[i].ssc >= 63)cout << \"D+\";\n\t\telse if(a[i].ssc >= 60)cout << \"D\";\n\t\telse cout << \"F\";\n\t\tcout << endl;\n\t}\nreturn 0;\n}\n\n\n```",
        "postTime": 1615386140,
        "uid": 195388,
        "name": "alvis",
        "ccfLevel": 5,
        "title": "P7426 [THUPC2017] \u4f53\u80b2\u6210\u7ee9\u7edf\u8ba1 \u9898\u89e3"
    },
    {
        "content": "## Description\n\n[$\\color{blue}\\texttt{\u3010\u9898\u76ee\u4f20\u9001\u95e8\u3011}$](https://www.luogu.com.cn/problem/P7426)\n\n## Solution\n\n### Part 1 \u51e0\u4e2a\u5b9a\u4e49\n\n#### Part 1.1 \u7ed3\u6784\u4f53\n\n\u5148\u521b\u5efa\u51e0\u4e2a\u7ed3\u6784\u4f53 $\\tt Time,runInfo,studentInfo$\uff0c\u5206\u522b\u5b58\u50a8\u65f6\u95f4\u70b9\u3001\u8dd1\u6b65\u4fe1\u606f\u3001\u6bcf\u540d\u5b66\u751f\u7684\u5b66\u53f7\uff0c\u6027\u522b\u7b49\u4fe1\u606f\u3002\n\n```cpp\nstruct Time{\n\tint mon,d,h,m,s;\n\tll absoluteTime;\n};\nstruct runInfo{\n\tll endTime;\n\tll p;\n\tint sh,sm,ss;\n\tint eh,em,es;\n\tdouble runDist;\n\tint rm,rs;\n\tint runStep;\n};\nstruct studentInfo{\n\tll num;\t\t\t//\u5b66\u53f7\n\tchar sex;\t\t//\u6027\u522b\n\tint PEScore;\t\t//\u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9\n\tint lrm,lrs;\t\t//\u957f\u8dd1\u65f6\u95f4 \u5206/\u79d2\n\tchar bodyTest;\t\t//\u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\n\tint endTermScore;\t//\u671f\u672b\u6210\u7ee9\n\tint trainingTime;\t//\u53c2\u52a0\u300c\u73ed\u7ea7\u8bad\u7ec3\u8425\u300d\u7684\u6b21\u6570\n\tint totScore;\t\t//\u603b\u5206\n\tint runT;\t\t//\u300c\u9633\u5149\u957f\u8dd1\u300d\u7684\u5408\u6cd5\u6b21\u6570\n\tvector<runInfo> run;\t//\u8dd1\u6b65\u4fe1\u606f\n}stu[N];\n```\n\n#### Part 1.2 \u5224\u5b9a\u533a\u95f4\n\n\u5b9a\u4e49\u51e0\u4e2a\u6570\u7ec4\u5206\u522b\u5b58\u50a8\u6bcf\u4e2a\u533a\u95f4\u7684\u5e95\u7ebf\u5206\u6570\uff0c\u8fd9\u6837\u5c31\u7701\u53bb\u4e86\u5f88\u591a `if-else` \u8bed\u53e5\u3002\n\n\u8fd9\u91cc\u6211\u4eec\u628a\u6240\u6709 `mm'ss\"` \u4e4b\u7c7b\u7684\u6570\u636e\u5168\u53d8\u4e3a\u4ee5\u79d2\u5b58\u50a8\uff0c\u4f1a\u7b80\u5355\u5f88\u591a\u3002\n\n```cpp\npair<int,string> score[20]={{95,\"A\"},{90,\"A-\"},{85,\"B+\"},{80,\"B\"},{77,\"B-\"},{73,\"C+\"},{70,\"C\"},{67,\"C-\"},{63,\"D+\"},{60,\"D\"},{0,\"F\"}};\n\nstring Phigros(int sc){ //\u968f\u4fbf\u53d6\u7684\u51fd\u6570\u540d\uff08\u9003\n\tfor(int i=0;i<11;i++) if(sc>=score[i].first) return score[i].second;\n\treturn \"\u03c6\";\n}\n```\n\n### Part 2 \u4e94\u4e2a\u5206\u6570\n\n#### Part 2.1 \u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9\n\n\u76f4\u63a5\u52a0\u5230\u603b\u5206\u5373\u53ef\u3002\n\n#### Part 2.2 \u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\n\n\u626b\u4e00\u904d\u5224\u5b9a\u6570\u7ec4\uff0c\u52a0\u5230\u603b\u5206\u3002\n\n#### Part 2.3 \u300c\u9633\u5149\u957f\u8dd1\u300d\u6210\u7ee9\n\n\u672c\u9898\u91cd\u70b9\u6765\u88ad\uff01\n\n\u8fd9\u91cc\u6211\u4eec\u5f15\u5165\u4e00\u4e2a\u201c\u7edd\u5bf9\u65f6\u95f4\u201d\u7684\u6982\u5ff5\uff0c\u5373 $\\tt absoluteTime$\uff0c\u5b9a\u4e49\u4e3a\u4ece `2022/1/1 01:00` \u5f00\u59cb\u7ecf\u8fc7\u7684\u79d2\u6570\uff0c\u8fd9\u4e2a\u53ef\u4ee5 $\\mathcal O(1)$ \u6c42\u51fa\uff0c\u968f\u540e\u6bd4\u8f83\u4e24\u4e2a\u65f6\u95f4\u65f6\u6bd4\u8f83\u7edd\u5bf9\u65f6\u95f4\u5373\u53ef\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e00\u6761\u8bb0\u5f55\uff0c\u6211\u4eec\u5148\u5224\u65ad\u5b83\u662f\u5426\u6ee1\u8db3\u9898\u9762\u524d\u56db\u4e2a\u6761\u4ef6\uff0c\u6ee1\u8db3\u4e14\u4e4b\u524d\u8fd8\u6ca1\u6709\u8bb0\u5f55\u5c31\u8bbe\u4e3a\u6700\u540e\u4e00\u6761\u5408\u6cd5\u8bb0\u5f55\uff0c\u5426\u5219\u518d\u6bd4\u8f83\u5f53\u524d\u548c\u73b0\u5728\u7684\u7edd\u5bf9\u65f6\u95f4\u662f\u5426\u5c0f\u4e8e $6 \\times 60 \\times 60$ \u5373\u53ef\u3002\u6ce8\u610f\u5f00\u59cb\u65f6\u95f4\u9700\u4e0e\u4e0a\u6761\u5408\u6cd5\u8bb0\u5f55\u7684\u7ed3\u675f\u65f6\u95f4\u95f4\u9694 $6$ \u5c0f\u65f6\u4ee5\u4e0a **\uff08\u5305\u542b $6$ \u5c0f\u65f6\uff09**\uff1b\n\n- \u5982\u679c\u4f60 $90$ pts\uff0c\u770b\u770b\u4f60\u662f\u4e0d\u662f\u6ca1\u5305\u542b $6$ \u5c0f\u65f6\u3002\n\n\u6700\u540e\u8bb0\u5f55\u4e00\u4e0b\u5408\u6cd5\u8bb0\u5f55\u6570\u91cf\uff0c\u4f9b Part 2.5 \u4f7f\u7528\u3002\n\n#### Part 2.4 \u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\n\n\u5224\u65ad\u5b57\u7b26\u662f\u5426\u4e3a $\\tt P$\uff0c\u968f\u540e\u52a0\u5165\u603b\u5206\u5373\u53ef\u3002\n\n#### Part 2.5 \u300c\u5927\u4e00\u4e13\u9879\u8ba1\u5212\u300d\u6210\u7ee9\n\n\u6309\u7167\u9898\u9762\u6a21\u62df\u52a0\u5206\u5373\u53ef\u3002\n\n## Code\n\n\u56e0\u4ee3\u7801\u592a\u957f\uff0c\u653e[\u4e91\u526a\u8d34\u677f](https://www.luogu.com.cn/paste/jsawzg4x)\u4e2d\u3002\n\n## Conclusion\n\n\u4e00\u5b9a\u8981\u6c89\u4e0b\u6c14\u5199\uff0c\u4e0d\u7136\u5c0f\u5c0f\u7684\u4e00\u4e2a\u9519\u8bef\u4e5f\u4f1a\u8ba9\u8bc4\u6d4b\u7ed3\u679c\u4ece $\\color{green}\\tt AC$ \u53d8\u4e3a $\\color{red} \\tt WA$\u3002\n",
        "postTime": 1657009774,
        "uid": 501865,
        "name": "TheSky233",
        "ccfLevel": 4,
        "title": "P7426 [THUPC2017] \u4f53\u80b2\u6210\u7ee9\u7edf\u8ba1 \u9898\u89e3"
    },
    {
        "content": "\u7a0d\u5fae\u770b\u4e0b\u9898\u76ee  \n\u5f88\u660e\u663e\uff0c\u672c\u9898\u662f\u4e00\u4e2a\u5927\u6a21\u62df\u00b7\u00b7\u00b7\u00b7\u00b7  \n\u90a3\u5c31\u4e0d\u591a\u8bf4\u4e86\uff0c\u4e0a\u601d\u8def\uff01\uff01\uff01 \n\n\u6211\u7684\u601d\u8def\u662f\u2014\u2014\uff08~~\u6ca1\u601d\u8def~~\uff09\u9898\u76ee\u548b\u8bf4\u54b1\u548b\u6765\uff08~(\uffe3\u25bd\uffe3)~*\uff09\u3002 \n##\n\n### \u5b9a\u4e49\uff1a\n\u9488\u5bf9\u6b64\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u6784\u9020\u4e24\u4e2a\u7ed3\u6784\u4f53 $a_{i}$ \u548c $b_{i}$\uff0c\u5206\u522b\u8868\u793a\u6bcf\u4f4d\u5b66\u751f\u548c\u6bcf\u6b21\u7684\u201c\u9633\u5149\u957f\u8dd1\u201d\u3002\n### \u8f93\u5165\uff1a\n\u9898\u76ee\u6709\u8bf4\uff0c\u5c31\u6309\u7167\u9898\u76ee\u8868\u8ff0\u6765\u6784\u9020\u4ee3\u7801\u5c31\u884c\u4e86(\uff5e\uffe3\u25bd\uffe3)\uff5e\u3002 \n\n### Solve\uff1a\n$1$\u3001\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5b66\u751f\u6765\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5c06\u5176\u7684\u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9\u548c\u300c\u5927\u4e00\u4e13\u9879\u8ba1\u5212\u300d\u7684\u671f\u672b\u68c0\u6d4b\u6210\u7ee9\u76f4\u63a5\u52a0\u5165\u8fd9\u4f4d\u5b66\u751f\u7684\u603b\u5206\u6570\u3002  \n$2$\u3001\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5b66\u751f\u6765\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u9898\u76ee\u7ed9\u51fa\u7684\u5224\u65ad\u6761\u4ef6\u5c06\u5176\u7684\u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\u3001\u671f\u672b\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\u8ba1\u7b97\u51fa\u6765\uff0c\u800c\u540e\u52a0\u5165\u8fd9\u4f4d\u5b66\u751f\u7684\u603b\u5206\u6570\u3002  \n$3$\u3001\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5b66\u751f\u6765\u8bf4\uff0c\u6700\u96be\u4e5f\u662f\u6700\u91cd\u8981\u7684\u5c31\u662f\u5176\u7684\u201c\u9633\u5149\u957f\u8dd1\u201d\uff1a  \n$\\ \\ \\ \\ \\ (1)$ \u5224\u65ad\u5176\u7684\u6027\u522b\uff0c\u7136\u540e\u518d\u6839\u636e\u9898\u76ee\u7ed9\u7684\u5224\u65ad\u6761\u4ef6\u5224\u65ad\u662f\u5426\u5408\u6cd5  \n$\\ \\ \\ \\ \\ (2)$ \u5224\u65ad\u5176\u7684\u5e73\u5747\u901f\u5ea6\u3001\u603b\u6682\u505c\u65f6\u95f4\u3001\u5e73\u5747\u6b65\u5e45\u662f\u5426\u5408\u6cd5\u3002  \n$\\ \\ \\ \\ \\ (3)$ \u4e0e\u5176\u4e0a\u4e00\u6b21\u7684\u5408\u6cd5\u8bb0\u5f55\u8fdb\u884c\u6bd4\u8f83\uff0c\u5224\u65ad\u662f\u5426\u5408\u6cd5\u3002\uff08\u7528\u4e24\u4e2a\u6570\u7ec4\u5b58\u50a8\u6bcf\u4e00\u4e2a\u5b66\u751f\u7684\u4e0a\u4e00\u6761\u5408\u6cd5\u8bb0\u5f55\u7684\u5b8c\u6210\u65e5\u671f\u548c\u65f6\u95f4\uff09\u3002  \n$4$\u3001\u5229\u7528\u9898\u76ee\u4e2d\u7684\u5224\u65ad\u6761\u4ef6\u5224\u65ad\u6bcf\u4e00\u4f4d\u5b66\u751f\u201c\u9633\u5149\u957f\u8dd1\u201d\u7684\u6210\u7ee9\u548c\u300c\u5927\u4e00\u4e13\u9879\u8ba1\u5212\u300d\u7684\u51fa\u52e4\u5206\uff0c\u7136\u540e\u52a0\u5165\u8be5\u5b66\u751f\u7684\u603b\u5206\u6570\u3002  \n$5$\u3001\u5229\u7528\u9898\u76ee\u4e2d\u7684\u201c\u767e\u5206\u5236\u6210\u7ee9\u4e0e\u7b49\u7ea7\u3001\u7ee9\u70b9\u201d\uff0c\u7b97\u51fa\u6bcf\u4f4d\u5b66\u751f\u7684\u7b49\u7ea7\u3002\n\n## Code\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int maxn=11111,maxm=2e5;\nint read() {\n\tint x = 0, f = 1;\n\tchar ch = getchar();\n\twhile (!isdigit(ch))f = ch == '-' ? -1 : 1, ch = getchar();\n\twhile (isdigit(ch))x = (x << 1) + (x << 3) + (ch ^ 48), ch = getchar();\n\treturn x * f;\n}\nvoid write(int x) {\n\tif (x < 0) x = -x, putchar('-');\n\tif (x > 9) write(x / 10);\n\tputchar(x % 10 + '0');\n}\nstruct student{\n\tint id;\n\tchar sex;\n\tint mark_PE;\n\tint runpts;\n\tchar body;\n\tint fin;\n\tint cla;\n\tint mark;\n\tint lastdate;\n\tint lasttime;\n\tint timess;\n}a[maxn];\nstruct run\n{\n\tint day;\n\tint id;\n\tint start;\n\tint end;\n\tdouble dis;\n\tint stop;\n\tint step;\n}b[maxm];\nint runptsboy(int x)\n{\n\tif(x<=750)return 20;\n\tif(x<=780)return 18;\n\tif(x<=810)return 16;\n\tif(x<=840)return 14;\n\tif(x<=870)return 12;\n\tif(x<=910)return 10;\n\tif(x<=950)return 8;\n\tif(x<=990)return 6;\n\tif(x<=1030)return 4;\n\tif(x<=1080)return 2;\n\treturn 0;\n}\nint runptsgirl(int x)\n{\n\tif(x<=400)return 20;\n\tif(x<=417)return 18;\n\tif(x<=434)return 16;\n\tif(x<=451)return 14;\n\tif(x<=470)return 12;\n\tif(x<=485)return 10;\n\tif(x<=500)return 8;\n\tif(x<=515)return 6;\n\tif(x<=530)return 4;\n\tif(x<=540)return 2;\n\treturn 0;\n}\nmap<int,int>mp;\nbool sunrunning(int x){\n\tif(b[x].dis/(b[x].end-b[x].start)<2||b[x].dis/(b[x].end-b[x].start)>5) return false;\n\tif(b[x].stop>270) return false;\n\tif(b[x].dis/b[x].step>1.5) return false;\n\tif(a[mp[b[x].id]].sex=='M')\n\t\tif(b[x].dis<3000) return false;\t\n\tif(a[mp[b[x].id]].sex=='F')\n\t\tif(b[x].dis<1500) return false;\n\tif(b[x].day==a[mp[b[x].id]].lastdate)\n\t\tif(b[x].start-21600<a[mp[b[x].id]].lasttime) return false;\n\tif(b[x].day-1==a[mp[b[x].id]].lastdate)\n\t\tif(b[x].start+(86400-a[mp[b[x].id]].lasttime)<21600) return false;\n\ta[mp[b[x].id]].lastdate=b[x].day;\n\ta[mp[b[x].id]].lasttime=b[x].end;\n\treturn true;\n}\nint SunRun(int x){\n\tif(x>=21) return 10;\n\tif(x>=19) return 9;\n\tif(x>=17) return 8;\n\tif(x>=14) return 7;\n\tif(x>=11) return 6;\n\tif(x>=7)  return 4;\n\tif(x>=3) return 2;\n\treturn 0;\n}\nint work(int x){\n\tif(x>=18) return 5;\n\tif(x>=15) return 4;\n\tif(x>=12) return 3;\n\tif(x>=9) return 2;\n\tif(x>=6) return 1;\n\treturn 0;\n}\nstring grade(int x){\n\tif(x>=95) return \"A\";\n\tif(x>=90) return \"A-\";\n\tif(x>=85) return \"B+\";\n\tif(x>=80) return \"B\";\n\tif(x>=77) return \"B-\";\n\tif(x>=73) return \"C+\";\n\tif(x>=70) return \"C\";\n\tif(x>=67) return \"C-\";\n\tif(x>=63) return \"D+\";\n\tif(x>=60) return \"D\";\n\treturn \"F\";                  \n}\nint n,m;\nmain() {\n\tn=read();\n\tfor (int i = 1; i <= n; i++) {\n\t\ta[i].id=read();cin>>a[i].sex;a[i].mark_PE=read();\n\t\tint x, y;char c;\n\t\tmp[a[i].id] = i;\n\t\tscanf(\"%lld%c%lld%c%c\", &x, &c, &y, &c, &c);\n\t\ta[i].runpts = x * 60 + y;\n\t\tcin >> a[i].body;a[i].fin=read();a[i].cla=read();\n\t\tif (a[i].sex == 'M')a[i].mark += runptsboy(a[i].runpts);\n\t\telse a[i].mark += runptsgirl(a[i].runpts);\n\t\ta[i].mark += a[i].mark_PE;\n\t\ta[i].mark+= a[i].fin;\n\t\tif (a[i].body == 'P') a[i].mark+= 10;\n\t}\n\tm=read();\n\tfor (int i = 1; i <= m; i++) {\n\t\tint x, y, z;char c;\n\t\tb[i].day=read();b[i].id=read();\n\t\tscanf(\"%lld:%lld:%lld\", &x, &y, &z);\n\t\tb[i].start = x * 3600 + y * 60 + z;\n\t\tscanf(\"%lld:%lld:%lld\", &x, &y, &z);\n\t\tb[i].end = x * 3600 + y * 60 + z;\n\t\tcin >> b[i].dis;\n\t\tb[i].dis*=1000.0;\n\t\tscanf(\"%lld%c%lld%c%c\", &x, &c, &y, &c, &c);\n\t\tb[i].stop = x * 60 + y;\n\t\tb[i].step=read();\n\t\tif(sunrunning(i)) a[mp[b[i].id]].timess++;\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\ta[i].mark+=SunRun(a[i].timess);\n\t\ta[i].mark+=work(a[i].timess+a[i].cla);\n\t\tstring s=grade(a[i].mark);\n\t\tprintf(\"%lld %lld \",a[i].id,a[i].mark);\n\t\tcout<<s;\n\t\tputs(\"\");\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1644635019,
        "uid": 447897,
        "name": "wyc2022",
        "ccfLevel": 0,
        "title": "[THUPC2017] \u4f53\u80b2\u6210\u7ee9\u7edf\u8ba1"
    },
    {
        "content": "## \u9898\u76ee\u7b80\u6790\n\n### \u4e00\u3001\u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9\n\n\u5df2\u7ecf\u76f4\u63a5\u7ed9\u51fa\uff0c\u76f4\u63a5\u52a0\u5165\u603b\u6210\u7ee9\u5373\u53ef\u3002\n\n### \u4e8c\u3001\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\n\n\u5c06\u7ed9\u5b9a\u65f6\u95f4\u8f6c\u6362\u4e3a\u79d2\uff08$t=a\\times 60+b$\uff09\u6309\u7167\u7ed9\u5b9a\u6027\u522b\u548c\u8868\u683c\uff08\u8868\u683c\u4e5f\u8f6c\u6362\u4e3a\u79d2\uff09\uff0c```else if ```  \u5224\u65ad\u5206\u6570\u5373\u53ef\u3002\n\n### \u4e09\u3001\u9633\u5149\u957f\u8dd1\n\n\u6bd4\u8f83\u9ebb\u70e6\uff0c\u8bfb\u5165\u65f6\uff0c\u5148\u5c06\u8bfb\u5165\u65e5\u671f\u53bb\u6389\u5e74\u4efd\uff08\u90fd\u662f $2017$ \u5e74\uff0c\u6ca1\u6709\u610f\u4e49\uff09\u540e\u8f6c\u6362\u4e3a\u79d2\uff0c\u518d\u5c06\u5f00\u59cb\u3001\u7ed3\u675f\u3001\u6682\u505c\u65f6\u95f4\u4e5f\u8f6c\u6362\u4e3a\u79d2\u3002\u5224\u65ad\u65f6\uff0c\u5148\u5224\u65ad\u8be5\u5b66\u751f\u6700\u540e\u4e00\u6b21\u5408\u6cd5\u8bb0\u5f55\u65f6\u95f4\uff08\u5b66\u751f\u5b66\u53f7\u4e0e\u6700\u540e\u4e00\u6b21\u5408\u6cd5\u8bb0\u5f55\u65f6\u95f4\u53ef\u4ee5\u7528 ```map ``` \u5bf9\u5e94\uff09\u4e0e\u6b64\u6b21\u65f6\u95f4\u95f4\u9694\u662f\u5426\uff0c\u7136\u540e\u5224\u65ad\u5408\u6cd5\u6027\u522b\u5224\u65ad\u8ddd\u79bb\u662f\u5426\u5408\u6cd5\uff0c\u518d\u6682\u505c\u65f6\u95f4\u662f\u5426\u4e0d\u8d85\u8fc7 $270$ \u79d2\uff0c\u6700\u540e\u6309\u7167 $l\\times1000/s$ \u5224\u65ad\u6b65\u5e45\uff0c $l\\times1000/(last-begin)$ \u5224\u65ad\u5408\u6cd5\u6027\u3002\n\n**\u5982\u679c\u5408\u6cd5\uff0c\u8981\u8bb0\u5f97\u66f4\u65b0\u8be5\u5b66\u751f\u6700\u540e\u4e00\u6b21\u5408\u6cd5\u8bb0\u5f55\u65f6\u95f4\uff0c\u7ed9\u8be5\u540c\u5b66\u7684\u9633\u5149\u957f\u8dd1\u5408\u6cd5\u6b21\u6570 $+1$\u3002**\n\n### \u56db\u3001\u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\n\n\u5224\u65ad\u662f\u5426\u662f $P$ \u5373\u53ef\uff0c\u662f\u5c31\u5206\u6570 $+10$\u3002\n\n### \u4e94\u3001\u300c\u5927\u4e00\u4e13\u9879\u8ba1\u5212\u300d\u6210\u7ee9\n\n\u5c06\u9633\u5149\u957f\u8dd1\u5408\u6cd5\u6b21\u6570\u52a0\u4e0a\u8bfb\u5165\u7684 $c$ \u7b97\u51fa\u51fa\u52e4\u6b21\u6570\u518d\u5c06\u51fa\u52e4\u6b21\u6570\u6309\u7167\u8868\u683c\u6240\u5bf9\u5e94\u5206\u6570\u8d4b\u5206\u540e\u52a0\u4e0a $f$ \u5373\u53ef\u3002\n\n### \u6c47\u603b\n\n\u5c06\u4e0a\u8ff0\u6210\u7ee9\u7d2f\u52a0\u540e\u6309\u5206\u6570\u8d4b\u7b49\u7ea7\u518d\u6309\u7167\u5b66\u53f7\u6392\u5e8f\u8f93\u51fa\u5373\u53ef\n\n## \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nll sus,n,s,ac,b,get_to,phy_sum,f,c,class_run,m,ans[10005],qu_m,leg=21600,ti;\nll tw_mo[18]={0,31,28,31,30,31,30,31,31,30,31,30,31};\ndouble l,lm,w,stri;\nstring p,id[10005];\nmap<string,ll>c_sum,run_sum;\nmap<string,ll>sc;\nmap<string,ll>mf;\nchar gen,phy;\nstruct zid\n{\n\tstring name;\n\tll grade;\n\tstring lev;\n}ak[10005];//\u6210\u7ee9\u7ed3\u6784\u4f53\nbool cmp(zid a,zid b)\n{\n\treturn a.name<b.name;\n}\nll long_run(ll time,char mn)\n{\n\tif(mn=='M')\n\t{\n\t\tif(time<=750)\n\t\t\treturn 20;\n\t\telse if(time<=780)\n\t\t\treturn 18;\n\t\telse if(time<=810)\n\t\t\treturn 16;\n\t\telse if(time<=840)\n\t\t\treturn 14;\n\t\telse if(time<=870)\n\t\t\treturn 12;\n\t\telse if(time<=910)\n\t\t\treturn 10;\n\t\telse if(time<=950)\n\t\t\treturn 8;\n\t\telse if(time<=990)\n\t\t\treturn 6;\n\t\telse if(time<=1030)\n\t\t\treturn 4;\n\t\telse if(time<=1080)\n\t\t\treturn 2;\n\t\telse\n\t\t\treturn 0;\n\t}\n\telse\n\t{\n\t\tif(time<=400)\n\t\t\treturn 20;\n\t\telse if(time<=417)\n\t\t\treturn 18;\n\t\telse if(time<=434)\n\t\t\treturn 16;\n\t\telse if(time<=451)\n\t\t\treturn 14;\n\t\telse if(time<=470)\n\t\t\treturn 12;\n\t\telse if(time<=485)\n\t\t\treturn 10;\n\t\telse if(time<=500)\n\t\t\treturn 8;\n\t\telse if(time<=515)\n\t\t\treturn 6;\n\t\telse if(time<=530)\n\t\t\treturn 4;\n\t\telse if(time<=540)\n\t\t\treturn 2;\n\t\telse\n\t\t\treturn 0;\n\t}\n}//\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\u8ba1\u7b97\nll get_camp(ll sum)\n{\n\tif(sum>=18)\n\t\treturn 5;\n\telse if(sum>=15)\n\t\treturn 4;\n\telse if(sum>=12)\n\t\treturn 3;\n \telse if(sum>=9)\n\t\treturn 2;\n \telse if(sum>=6)\n\t\treturn 1;\n\telse\n\t\treturn 0;\n}//\u300c\u5927\u4e00\u4e13\u9879\u8ba1\u5212\u300d\u51fa\u52e4\u6b21\u6570\u6210\u7ee9\u8ba1\u7b97\nll get_day()\n{\n\tll a=45,mo,da,s=0;\n\tcin>>a;\n\ta-=20170000;\n\tda=a%100;\n\tmo=(a-da)/100;\n\tfor(ll i=1;i<mo;++i)\n\t\ts+=tw_mo[i];\n\ts+=da;\n\treturn s*86400;\n}//\u9633\u5149\u957f\u8dd1\u4e2d\u8bb0\u5f55\u7684\u5b8c\u6210\u65e5\u671f\u8f6c\u79d2\nll get_begin()\n{\n\tll ht,mt,s;\n\tchar s1,s2;\n\tcin>>ht>>s1>>mt>>s2>>s;\n\treturn ht*3600+mt*60+s;\n}//\u9633\u5149\u957f\u8dd1\u4e2d\u8bb0\u5f55\u7684\u8d77\u59cb\u65f6\u95f4\u8f6c\u79d2\nll get_sus()\n{\n\tll a,b;\n\tchar ls1,ls2;\n\tcin>>a>>ls1>>b>>ls2;\n\treturn a*60+b;\n}//\u671f\u672b\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\u8f6c\u79d2\nstring get_lev(ll gr)\n{\n\tif(gr>=95)\n\t\treturn \"A\";\n\telse if(gr>=90)\n\t\treturn \"A-\";\n \telse if(gr>=85)\n\t\treturn \"B+\";\n \telse if(gr>=80)\n\t\treturn \"B\";\n\telse if(gr>=77)\n\t\treturn \"B-\";\n \telse if(gr>=73)\n\t\treturn \"C+\";\n\telse if(gr>=70)\n\t\treturn \"C\";\n\telse if(gr>=67)\n\t\treturn \"C-\";\n \telse if(gr>=63)\n\t\treturn \"D+\";\n \telse if(gr>=60)\n\t\treturn \"D\";\n \telse\n\t\treturn \"F\";\n}//\u6253\u7b49\u7ea7\nll get_long(ll sum)\n{\n\tif(sum>=21)\n\treturn 10;\n\telse if(sum>=19)\n\treturn 9;\n\telse if(sum>=17)\n\treturn 8;\n\telse if(sum>=14)\n\treturn 7;\n\telse if(sum>=11)\n\treturn 6;\n\telse if(sum>=7)\n\treturn 4;\n\telse if(sum>=3)\n\treturn 2;\n\telse\n\treturn 0;\n}//\u9633\u5149\u957f\u8dd1\u7684\u5408\u6cd5\u6b21\u6570\u8ba1\u7b97\u6210\u7ee9\nint main()\n{\n\tios::sync_with_stdio(0);\n\tcin>>n;\n\tchar ls1,ls2;\n\tfor(ll i=1;i<=n;++i)\n\t{\n\tcin>>p;\n\tcin>>gen;\n\tcin>>s;\n\tcin>>ac>>ls1>>b>>ls2;\n\tget_to=long_run(ac*60+b,gen);\n\tcin>>phy;\n\tif(phy=='P')\n\t\tphy_sum=10;\n\telse\n\t\tphy_sum=0;\n\tcin>>f>>c;\n\tans[i]=f+phy_sum+get_to+s;\n\tc_sum[p]=c;\n\tsc[p]=0;\n\tmf[p]=gen;\n\tid[i]=p;\n\t}\n\tll mp;\n\tcin>>mp;\n\tll begin,last;\n\tchar xb;\n\tfor(ll i=1;i<=mp;++i)\n\t{\n\t\tti=get_day();\n\t\tcin>>p;\n\t\tbegin=get_begin()+ti;\n\t\tlast=get_begin()+ti;\n\t\tcin>>l;\n\t\tlm=l*1000.00*1.00;\n\t\tsus=get_sus();\n\t\tcin>>s;\n\t\txb=mf[p];//\u4e0a\u6b21\u5408\u6cd5\u8bb0\u5f55\u65f6\u95f4\n\t\tif(xb=='M')\n\t\t{\n\t\t\tif(l<3.00)\n\t\t\tcontinue;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(l<1.50)\n\t\t\tcontinue;\n\t\t}//\u5224\u65ad\u8ddd\u79bb\n\t\tif(sus>270)\n\t\t{\n\t\t\tcontinue;\n\t\t}//\u5224\u65ad\u4f11\u606f\u65f6\u95f4\n\t\tw=double(lm/(double(last-begin)*1.00));//\u5e73\u5747\u901f\u5ea6\n\t\tif(w>5.00||w<2.00)\n\t\tcontinue;\n\t\tstri=lm/double(s*1.00);//\u5e73\u5747\u6b65\u5e45\n\t\tif(stri>1.50)\n\t\tcontinue;\n\t\tif(begin-sc[p]<21600)\n\t\t\tcontinue;\n\t\tsc[p]=last;++run_sum[p];\n\t}\n\tfor(ll i=1;i<=n;++i)\n\t{\n\t\tans[i]+=get_camp(c_sum[id[i]]+run_sum[id[i]])+get_long(run_sum[id[i]]);\n\t\tak[i].grade=ans[i];\n\t\tak[i].name=id[i];\n\t\tak[i].lev=get_lev(ans[i]);\n\t}\n\tsort(ak+1,ak+1+n,cmp);\n\tfor(ll i=1;i<=n;++i)\n\t\tcout<<ak[i].name<<\" \"<<ak[i].grade<<' '<<ak[i].lev<<'\\n';\n}\n```\n\n\n\n",
        "postTime": 1654380024,
        "uid": 443649,
        "name": "NATO",
        "ccfLevel": 5,
        "title": "P7426\u5927\u6a21\u62df"
    },
    {
        "content": "# P7426 [THUPC2017] \u4f53\u80b2\u6210\u7ee9\u7edf\u8ba1\n\n\u3010\u9898\u76ee\u5927\u610f\u3011[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P7426)\n\n\u8fd9\u53ef\u4ee5\u8bf4\u662f\u662f $\\text{THUPC}$ \u6700\u7b80\u5355\u7684\u4e00\u9053\u5927\u6a21\u62df\u5427\u2026\u2026\u6bd5\u7adf\u8fd9\u9053\u9898\u5728\u6a21\u62df\u4e0a\u51e0\u4e4e\u6ca1\u6709\u601d\u7ef4\u96be\u5ea6\uff0c\u8981\u6c42\u6a21\u62df\u7684\u4e8b\u4ef6\u4ec5\u4ec5\u662f\u5224\u65ad\u4e00\u4e2a\u8bb0\u5f55\u7684\u5408\u6cd5\u6027\u548c\u5bf9\u4e8e\u6bcf\u4e2a\u5b66\u751f\u7b97\u5206\uff0c\u7b97\u6bd4\u8f83\u7b80\u5355\u7684\u4e00\u9053\u6a21\u62df\u3002\u8fd9\u9053\u9898\u4e5f\u662f\u6211\u4e3a\u6570\u4e0d\u591a\u4ec5\u9760\u6837\u4f8b\u4e0d\u770b\u9898\u89e3\u4e0d\u6c42\u8c03 $\\text{1A}$ \u7684\u5927\u6a21\u62df\u3002\n\n\u672c\u6765\u5e76\u4e0d\u60f3\u5199\u8fd9\u9053\u9898\u7684\u9898\u89e3\uff0c\u4f46\u521a\u624d\u6c34\u8ba8\u8bba\u7684\u65f6\u5019\u53c8\u770b\u89c1\u4e00\u4e2a\u8fd9\u9053\u9898\u7206\u96f6\u7684\u53ef\u601c\u4eba\uff0c\u751a\u81f3\u8fd8\u662f\u56e0\u4e3a\u6570\u7ec4\u5f00\u5c0f\u5168\u90e8 $\\text{RE}$ \u7684\uff0c\u540c\u65f6\u770b\u5230\u4ed6\u5bf9\u4e8e\u65f6\u95f4\u7684\u5904\u7406\u5341\u5206\u4ee4\u4eba\u6349\u6025\uff0c\u6709\u611f\u800c\u53d1\uff0c\u5728\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u4e9b\u6211\u505a\u8fd9\u9053\u9898\u65f6\u7684\u6280\u5de7\u548c\u65b9\u6cd5\uff0c\u5e0c\u671b\u80fd\u5bf9\u5927\u5bb6\u6709\u5e2e\u52a9\u3002\n\n\n\n## Part I. \u8bfb\u9898\n\n\u505a\u5927\u6a21\u62df\u7684\u9996\u8981\u6b65\u9aa4\u5c31\u662f\u8bfb\u9898\uff0c\u8ba4\u771f\u4ed4\u7ec6\u5730\u8bfb\uff0c\u6ce8\u610f\u9700\u8981\u6a21\u62df\u7684\u548c\u4e0e\u6a21\u62df\u5bc6\u5207\u76f8\u5173\u7684\u5173\u952e\u4fe1\u606f\u3002\n\n> \u5bf9\u4e8e\u5927\u4e00\u7684\u540c\u5b66\u4eec\u6765\u8bf4\uff0c\u4f53\u80b2\u8bfe\u7684\u603b\u8bc4\u6210\u7ee9\u7531\u4e94\u90e8\u5206\u7ec4\u6210\uff1a\u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9\uff08\u6ee1\u5206 $50$ \u5206\uff09\u3001\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\uff08\u6ee1\u5206 $20$ \u5206\uff09\u3001\u300c\u9633\u5149\u957f\u8dd1\u300d\u6210\u7ee9\uff08\u6ee1\u5206 $10$ \u5206\uff09\u3001\u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\uff08\u6ee1\u5206 $10$ \u5206\uff09\u3001\u300c\u5927\u4e00\u4e13\u9879\u8ba1\u5212\u300d\u6210\u7ee9\uff08\u6ee1\u5206 $10$ \u5206\uff09\u3002\n\n\u4ece\u8fd9\u6bb5\u8bdd\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u672c\u9898\u8981\u6c42\u6211\u4eec\u6a21\u62df\u7684\u662f\u4e00\u4e2a\u8ba1\u7b97\u603b\u5206\u7684\u8fc7\u7a0b\uff0c\u800c\u603b\u6210\u7ee9\u7531 $5$ \u90e8\u5206\u7ec4\u6210\uff0c\u90a3\u4e0d\u59a8\u8fd0\u7528\u9762\u5411\u5bf9\u8c61\u7684\u601d\u60f3\uff0c\u5c06\u6bcf\u4e2a\u5b66\u751f\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\u5bf9\u8c61\u8ba1\u7b97\u6210\u7ee9\uff0c\u5f00\u6210\u4e00\u4e2a\u7ed3\u6784\u4f53\u5b58\u50a8\u4fe1\u606f\u3002\u6839\u636e\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u8fd9\u4e2a\u7c7b\u7684\u521d\u6b65\u7ed3\u6784\u5982\u4e0b\uff1a\n\n```cpp\nstruct stu{\n\tint speclass,ttest;\n\tint stest,sbody,sfinal; \n}\n```\n\n\u8fdb\u4e00\u6b65\u8bfb\u9898\uff0c\u53d1\u73b0\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\u9700\u8981\u8fdb\u884c\u4e00\u624b\u8f6c\u5316\uff0c\u800c\u4e14\u548c\u6027\u522b\u6709\u5173\u3002\u5177\u4f53\u600e\u4e48\u8f6c\u5316\u5148\u653e\u5728\u4e00\u8fb9\u3002\u6211\u4eec\u53ef\u4ee5\u7ee7\u7eed\u5b8c\u5584\u5b66\u751f\u7c7b\uff0c\u6dfb\u52a0\u6027\u522b\u4e00\u9879\u3002\u7531\u4e8e\u5b57\u7b26\u6bd4\u5bf9\u65f6\u6253\u5b57\u6bd4\u8f83\u591a\uff0c\u4e0d\u59a8\u8bbe\u7537\u751f\u4e3a $1$\uff0c\u5973\u751f\u4e3a $0$\u3002\u7ee7\u7eed\u8bfb\u9898\uff0c\u53c8\u53d1\u73b0\u4e00\u4e2a\u9700\u8981\u6a21\u62df\u7684\u5bf9\u8c61\uff0c\u5373 \u201c\u9633\u5149\u957f\u8dd1\u201d \u8bb0\u5f55\u3002\u53d1\u73b0\u4e00\u6761\u5408\u6cd5\u7684 \u201c\u9633\u5149\u957f\u8dd1\u201d \u8bb0\u5f55\u6709\u4e00\u4e2a\u548c\u5176\u5b83\u9650\u5236\u90fd\u4e0d\u540c\u7684\u9650\u5236\uff0c\u90a3\u5c31\u662f\uff1a\n\n> \u5f00\u59cb\u65f6\u95f4\u9700\u4e0e\u4e0a\u6761\u5408\u6cd5\u8bb0\u5f55\u7684\u7ed3\u675f\u65f6\u95f4\u95f4\u9694 $6$ \u5c0f\u65f6\u4ee5\u4e0a\uff08\u5305\u542b $6$ \u5c0f\u65f6\uff09\u3002\n\n\u4e3a\u4ec0\u4e48\u8bf4\u5b83\u4e0d\u540c\uff1f\u56e0\u4e3a\u5176\u5b83\u9650\u5236\u90fd\u53ea\u548c\u8fd9\u6761\u8bb0\u5f55\u672c\u8eab\u7684\u72b6\u6001\uff0c\u6216\u8005\u548c\u786e\u5b9a\u7684\u72b6\u6001\u76f8\u5173\uff08\u5b66\u751f\u6027\u522b\u4e0d\u540c\uff0c\u53ef\u4ee5\u76f4\u63a5\u786e\u8ba4\uff09\uff1b\u800c\u8fd9\u6761\u9650\u5236\u65e2\u548c\u8fd9\u4e2a\u5b66\u751f\u6709\u5173\uff0c\u8fd8\u548c\u5176\u5b83\u7684\u8bb0\u5f55\u6709\u5173\u3002\u6240\u4ee5\u4e0d\u59a8\u5c06\u6700\u7ec8\u6709\u6548\u8bb0\u5f55\u7684\u4e8b\u4ef6\u4e5f\u8bb0\u5f55\u5230\u5b66\u751f\u7c7b\u91cc\uff0c\u5177\u4f53\u600e\u4e48\u8bb0\u5f55\u7a0d\u540e\u5206\u6790\u3002\u53d1\u73b0\u4e00\u540d\u5b66\u751f\u7684 \u201c\u9633\u5149\u957f\u8dd1\u201d \u6210\u7ee9\u548c\u4ed6\u7684\u6709\u6548\u6b21\u6570\u6709\u5173\uff0c\u90a3\u4e48\u5b66\u751f\u7c7b\u91cc\u8fd8\u9700\u8981\u4e00\u4e2a\u8bb0\u5f55\u6709\u6548\u6b21\u6570\u7684\u91cf\u3002\n\n\u4f53\u8d28\u6d4b\u8bd5\u90e8\u5206\u6ca1\u5565\u597d\u8bf4\u7684\uff0c\u201c\u5927\u4e00\u4e13\u9879\u8ba1\u5212\u201d \u91cc\u671f\u672b\u6d4b\u8bd5\u6210\u7ee9\u4e5f\u7ed9\u51fa\u4e86\uff0c\u5c31\u5269\u4e00\u4e2a \u201c\u73ed\u7ea7\u8bad\u7ec3\u8425\u201d \u7684\u53c2\u52a0\u6b21\u6570\u8fd8\u6ca1\u5904\u7406\u3002\u7531\u4e8e\u6700\u7ec8\u9700\u8981\u7edf\u8ba1\u4e00\u4e2a \u201c\u51fa\u52e4\u6b21\u6570\u5206\u201d\uff0c\u800c\u51fa\u52e4\u6b21\u6570\u8fd8\u9700\u8981\u52a0\u4e0a\u9633\u5149\u957f\u8dd1\u6b21\u6570\uff0c\u540c\u65f6\u957f\u8dd1\u6b21\u6570\u9700\u8981\u72ec\u7acb\u8ba1\u7b97\u6210\u7ee9\uff0c\u6240\u4ee5\u4e24\u79cd\u6b21\u6570\u5206\u5f00\u5b58\u50a8\uff0c\u6700\u7ec8\u8ba1\u7b97\u65f6\u518d\u5408\u5728\u4e00\u8d77\u3002\u7ecf\u8fc7\u4e0a\u9762\u7684\u5206\u6790\uff0c\u6211\u4eec\u5df2\u7ecf\u5bf9\u7a76\u7adf\u8981\u5e72\u4ec0\u4e48\u4e86\u5982\u6307\u638c\uff0c\u5f00\u59cb\u7684 \u201c\u5b66\u751f\u7c7b\u201d \u4e5f\u5df2\u7ecf\u5b8c\u5584\u5982\u4e0b\uff1a\n\n```cpp\nstruct stu{\n\tstring id;bool sex;// \u5b66\u751f\u5b66\u53f7\uff0c\u6027\u522b\n\tint speclass,ttest; // \u4f53\u80b2\u8bfe\u6210\u7ee9\uff0c\n\tint stest,sbody,sfinal,tclass;// \u6d4b\u8bd5\u5206\u3001\u4f53\u8d28\u5206\u3001\u671f\u672b\u5206\u3001\u73ed\u7ea7\u8bad\u7ec3\u6b21\u6570\n\tint tsunrun,ssunrun,sattend;// \u957f\u8dd1\u6b21\u6570\u3001\u5206\u6570\uff0c\u51fa\u5e2d\u5206\n\tint stotal,grade; // \u603b\u5206\uff0c\u7b49\u7b2c\uff08\u91c7\u7528\u6574\u6570\u5b58\u50a8\uff0c\u8f93\u51fa\u65f6\u6620\u5c04\uff09\n\tlong long tprerec; // \u4e0a\u6b21\u957f\u8dd1\u65f6\u95f4\n\tbool operator <(const stu& a) const{\n\t\treturn id<a.id; // \u8f93\u51fa\u65f6\u6392\u4e2a\u5e8f\n\t}\n}stu[10010];\n```\n\n\u53e6\u5916\uff0c\u5bf9\u4e8e\u9700\u8981\u7ef4\u62a4\u5f88\u591a\u4fe1\u606f\u7684\u7ed3\u6784\u4f53\uff0c\u53d8\u91cf\u540d\u522b\u8d77\u6210 $a,b,c\\ldots$ \u8fd9\u79cd\uff0c\u4e00\u5b9a\u8981\u80fd\u8ba9\u81ea\u5df1\u6e05\u695a\u5730\u77e5\u9053\u8fd9\u4e2a\u53d8\u91cf\u662f\u5e72\u561b\u7528\u7684\uff0c\u5426\u5219\u8c03\u4ee3\u7801\u8c03\u4e0d\u51fa\u6765\u7684\u65f6\u5019\u5d29\u6e83\u7684\u5c31\u662f\u81ea\u5df1\uff0c\u5e76\u4e14\u6ca1\u4eba\u4f1a\u5e2e\u4f60\u8c03\u3002\n\n## Part II. \u5904\u7406\n\n\u660e\u786e\u9898\u610f\u540e\uff0c\u76ee\u524d\u7684\u95ee\u9898\u5c31\u662f\u786e\u8ba4\uff0c\u9762\u5bf9\u4e0d\u540c\u683c\u5f0f\u7684\u6570\u636e\u5982\u4f55\u8fdb\u884c\u5904\u7406\u3002\u9996\u5148\u4e0d\u96be\u53d1\u73b0\uff0c\u672c\u9898\u548c\u65f6\u95f4\u5173\u7cfb\u5341\u5206\u5bc6\u5207\uff0c\u800c\u53c8\u56e0\u4e3a\u51fa\u73b0\u4e86\u4e24\u4e2a\u65f6\u523b\u95f4\u65f6\u95f4\u95f4\u9694\u7684\u8ba1\u7b97\uff0c\u6240\u4ee5\u5206\u522b\u5b58\u50a8\u5e74\u6708\u65e5\u65f6\u5206\u79d2\u4f1a\u975e\u5e38\u9ebb\u70e6\u3002\u8054\u60f3\u5230\u6211\u4eec\u65e5\u5e38\u4f7f\u7528\u7684\u8ba1\u7b97\u673a\u5904\u7406\u65f6\u95f4\u95f4\u9694\u65f6\uff0c\u90fd\u662f\u5c06\u65f6\u523b\u8f6c\u6362\u4e3a\u4e00\u4e2a\u6574\u6570 \u201c\u65f6\u95f4\u6233\u201d \u8fdb\u884c\u8ba1\u7b97\u3002\u53c8\u56e0\u4e3a\u672c\u9898\u4e2d\u65f6\u95f4\u90fd\u5728 $2017$ \u5e74\uff0c\u4e0d\u59a8\u4ee5 $2016$ \u5e74 $12$ \u6708 $31$ \u65e5 $00:00$ \u4e3a $0$ \u70b9\uff08\u4e3a\u4ec0\u4e48\u9009\u8fd9\u4e2a\u65f6\u95f4\uff0c\u63a5\u4e0b\u6765\u4f1a\u8bf4\u660e\uff09\uff0c\u8ba1\u7b97\u4efb\u610f\u65f6\u95f4\u70b9\u5230 $0$ \u70b9\u7ecf\u8fc7\u7684\u79d2\u6570\u4f5c\u4e3a\u65f6\u95f4\u6233\uff0c\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u5730\u8ba1\u7b97\u65f6\u95f4\u95f4\u9694\u3002\n\n\u600e\u4e48\u5c06\u5e74\u6708\u65e5\u65f6\u5206\u79d2\u7684\u65f6\u95f4\u8f6c\u5316\u4e3a\u65f6\u95f4\u6233\u5462\uff1f\u53ea\u9700\u8981\u5148\u8003\u8651\u7ecf\u8fc7\u4e86\u51e0\u5929\uff0c\u7136\u540e\u8003\u8651\u5728\u5f53\u5929\u7ecf\u8fc7\u4e86\u51e0\u79d2\u5373\u53ef\u3002\u800c\u600e\u4e48\u8ba1\u7b97\u7ecf\u8fc7\u7684\u5929\u6570\u5462\uff1f\u628a\u6708\u548c\u65e5\u5206\u5f00\u8ba1\u7b97\u5373\u53ef\u3002\u4f8b\u5982\uff1a$2017$ \u5e74 $2$ \u6708 $2$ \u65e5 $04:10:05$\uff0c\u5148\u8003\u8651\u6708\uff0c$1$ \u6708\u6709 $31$ \u5929\uff0c\u53c8\u7ecf\u8fc7\u4e86 $2$ \u5929\uff0c\u6240\u4ee5\u603b\u5171\u7ecf\u8fc7\u4e86 $33$ \u5929\u3002\u4f46\u8fd9\u6837\u4f1a\u51fa\u73b0\u4e00\u4e2a\u95ee\u9898\uff0c\u90a3\u5c31\u662f\u4e8b\u5b9e\u4e0a $2$ \u6708 $2$ \u65e5\u5373\u5f53\u5929\u5e76\u6ca1\u6709\u7ecf\u8fc7\u3002\u6240\u4ee5\u6211\u4eec\u5c31\u6709\u4e86\u4e00\u4e2a\u65b9\u4fbf\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u5c06 $0$ \u70b9\u524d\u79fb\u4e00\u5929\u5373\u53ef\u3002\u8fd9\u90e8\u5206\u7684\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\nint sday[13]={0,31,59,90,120,151,181,212,243,273,304,334,365};\n// 2017 \u5e74\u662f\u5e73\u5e74\uff0c2 \u6708\u6709 29 \u5929\u3002\u8fd9\u91cc\u9884\u5904\u7406\u4e00\u4e0b\u6708\u4efd\u7684\u524d\u7f00\u548c\u65b9\u4fbf\u8ba1\u7b97\nlong long gettime(string date, string time){\n\tlong long ret=0;\n\tdate=date.substr(4);// \u622a\u6389\u5e74\u4efd\n\tint mon=(date[0]-'0')*10+date[1]-'0'; // \u622a\u53d6\u6708\u4efd\u548c\u65e5\u671f\n\tint day=(date[2]-'0')*10+date[3]-'0';\n\tret+=(sday[mon-1]+day)*86400; // \u8ba1\u7b97\u7ecf\u8fc7\u5929\u6570 \u6bcf\u5929\u6709 86400 \u79d2\n\tint second=0,minute=0,hour=0;\n\thour=(time[0]-'0')*10+time[1]-'0'; // \u5206\u79bb\u65f6\u5206\u79d2\n\tminute=(time[3]-'0')*10+time[4]-'0';\n\tsecond=(time[6]-'0')*10+time[7]-'0';\n\tret+=hour*3600+minute*60+second;\n\treturn ret;\n}\n```\n\n\u4f46\u662f\u6211\u4eec\u8fd8\u53d1\u73b0\uff0c\u8fd8\u6709\u4e00\u79cd\u65f6\u95f4\u7684\u8868\u793a\u65b9\u5f0f `x'y\"` \uff0c\u800c\u4e14\u957f\u5ea6\u4e0d\u56fa\u5b9a\u3002\u4f46\u8fd9\u91cc\u7684\u8ba1\u7b97\u975e\u5e38\u7b80\u5355\uff0c\u6211\u4eec\u4e3a\u4e86\u65b9\u4fbf\u53ef\u4ee5\u5199\u4e00\u4e2a\u51fd\u6570\u8ba1\u7b97\u3002\n\n\u653b\u514b\u4e86\u5904\u7406\u65f6\u95f4\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u8003\u8651\u5982\u4f55\u8fdb\u884c\u67d0\u4e9b\u6307\u6807\u548c\u6700\u7ec8\u5206\u6570\u7684\u8f6c\u6362\u3002\u4e0d\u96be\u53d1\u73b0\u8fd9\u4e9b\u8f6c\u6362\u90fd\u662f \u201c\u67e5\u8868\u201d \u8f6c\u6362\uff0c\u6240\u4ee5\u4e0d\u59a8\u6a21\u62df\u4e00\u4e0b\u6211\u4eec\u67e5\u8868\u65f6\u7684\u505a\u6cd5\uff0c\u6309\u5f97\u5206\u4ece\u9ad8\u5230\u4f4e\u987a\u5e8f\u904d\u5386\u8868\u4e2d\u7684\u6807\u51c6\uff0c\u904d\u5386\u5230\u67d0\u4e2a\u5f97\u5206\u65f6\u5982\u679c\u6ee1\u8db3\u6761\u4ef6\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5f97\u5206\u5c31\u662f\u6700\u7ec8\u5f97\u5206\u3002\u53ea\u9700\u8981\u624b\u52a8\u628a\u8fd9\u4e2a\u8868\u6253\u51fa\u6765\u5faa\u73af\u5224\u65ad\u5373\u53ef\uff0c\u4ee3\u7801\u7b80\u6d01\u5f88\u591a\u3002\n\n## Part III. \u603b\u7ed3\n\n\u4e8b\u5b9e\u4e0a\uff0c\u7ecf\u8fc7\u524d\u9762\u7684\u5206\u6790\uff0c\u53d1\u73b0\u8fd9\u9053\u9898\u5176\u5b9e\u5e76\u6ca1\u6709\u591a\u96be\uff0c\u53ea\u662f\u9700\u8981\u6ce8\u610f\u4e00\u4e9b\u7ec6\u8282\u7684\u5904\u7406\u548c\u6a21\u62df\u7684\u6280\u5de7\uff0c\u540c\u65f6\u9700\u8981\u4f18\u79c0\u7684\u4ee3\u7801\u80fd\u529b\u3002\u4f46\u8bf4\u8d77\u6765\u5bb9\u6613\uff0c\u771f\u6b63\u5730\u505a\u8d77\u6765\u4f60\u5c31\u4f1a\u53d1\u73b0\u8fd8\u6709\u5404\u79cd\u5c0f\u95ee\u9898\u9700\u8981\u89e3\u51b3\uff0c\u6240\u4ee5\u4ecd\u7136\u5efa\u8bae\u4e0d\u8981\u505c\u7559\u4e8e \u201c\u53e3\u80e1\u201d\uff0c\u8981\u771f\u6b63\u52a8\u624b\u5199\u4e00\u904d\u3002\u5927\u6a21\u62df\u5e76\u4e0d\u662f\u7eaf\u7cb9\u7684 \u201c\u7801\u519c\u9898\u201d\uff0c\u5b83\u5f88\u597d\u5730\u8003\u9a8c\u4e86\u9009\u624b\u7684\u5fc3\u6001\u3001\u5206\u6790\u80fd\u529b\u548c\u4ee3\u7801\u80fd\u529b\uff0c\u8fd9\u4e9b\u90fd\u662f\u4f5c\u4e3a\u4e00\u540d $\\text{OIer}$ \u6240\u5fc5\u5907\u7684\u54c1\u8d28 \u3002\u672c\u9898\u6211\u542b\u8c03\u8bd5\u65f6\u6ce8\u91ca\u7684\u4ee3\u7801\u957f\u5ea6\u4e3a $4.25\\text{KB}$\uff0c\u4f46\u5220\u53bb\u6ce8\u91ca\u540e\u4f1a\u66f4\u77ed\u3002\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n//#define endl '\\n'\nusing namespace std;\nunordered_map<string,int> id;\nunordered_map<int,string> grade;\nstruct stu{\n\tstring id;bool sex;\n\tint speclass,ttest;\n\tint stest,sbody,sfinal,tclass;\n\tint tsunrun,ssunrun,sattend;\n\tint stotal,grade;\n\tlong long tprerec;\n\tbool operator <(const stu& a) const{\n\t\treturn id<a.id;\n\t}\n}stu[10010];\nint sday[13]={0,31,59,90,120,151,181,212,243,273,304,334,365};\nint stestm[21]={0,1080,1080,1030,1030,990,990,950,950,910,910,\n\t\t\t\t870,870,840,840,810,810,780,780,750,750};\nint stestf[21]={0,540,540,530,530,515,515,500,500,485,485,470,\n\t\t\t\t470,451,451,434,434,417,417,400,400};\nint sattend[6]={0,6,9,12,15,18};\nint ssunrun[11]={0,3,3,7,7,11,11,14,17,19,21};\nint lgrade[11]={0,60,63,67,70,73,77,80,85,90,95};\nlong long gettime(string date, string time){\n\tlong long ret=0;\n\tdate=date.substr(4);\n\tint mon=(date[0]-'0')*10+date[1]-'0';\n\tint day=(date[2]-'0')*10+date[3]-'0';\n\tret+=(sday[mon-1]+day)*86400;\n\tint second=0,minute=0,hour=0;\n\thour=(time[0]-'0')*10+time[1]-'0';\n\tminute=(time[3]-'0')*10+time[4]-'0';\n\tsecond=(time[6]-'0')*10+time[7]-'0';\n\tret+=hour*3600+minute*60+second;\n\treturn ret;\n}\nint getdur(string s){\n\tint x=0,a=0,b=0;\n\twhile (s[x]!='\\''){\n\t\ta*=10;a+=s[x]-'0';x++;\n\t}\n\tx++;\n\twhile (s[x]!='\"'){\n\t\tb*=10;b+=s[x]-'0';x++;\n\t}\n\treturn a*60+b;\n}\nint main(){\n\tios::sync_with_stdio(0);\n\tcin.tie(nullptr);cout.tie(nullptr);\n\tgrade[0]=\"F\";grade[1]=\"D\";grade[2]=\"D+\";grade[3]=\"C-\";\n\tgrade[4]=\"C\";grade[5]=\"C+\";grade[6]=\"B-\";grade[7]=\"B\";\n\tgrade[8]=\"B+\";grade[9]=\"A-\";grade[10]=\"A\";\n\tint n,m;cin>>n;\n\tfor (int i=1;i<=n;i++){\n\t\tcin>>stu[i].id;\n\t\tchar sex;cin>>sex;\n\t\tstu[i].sex=(sex=='M')?1:0;\n\t\tcin>>stu[i].speclass;\n\t\tstring ttest;cin>>ttest;\n\t\tint timet=getdur(ttest);\n\t\tif (stu[i].sex){\n\t\t\tfor (int j=20;j>=0;j--){\n\t\t\t\tif (timet<=stestm[j]){\n\t\t\t\t\tstu[i].stest=j;break;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tfor (int j=20;j>=0;j--){\n\t\t\t\tif (timet<=stestf[j]){\n\t\t\t\t\tstu[i].stest=j;break;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tchar pass;cin>>pass;\n\t\tif (pass=='P') stu[i].sbody=10;\n\t\telse stu[i].sbody=0;\n\t\tcin>>stu[i].sfinal>>stu[i].tclass;\n\t\tid[stu[i].id]=i;\n\t}\n\tcin>>m;\n\twhile (m--){\n\t\tstring date,studentid,stime,etime;\n\t\tcin>>date>>studentid>>stime>>etime;\n\t\tdouble dist;int step;string pdur;\n\t\tcin>>dist>>pdur>>step;\n\t\tint dis=dist*1000;\n\t\tint stuid=id[studentid];\n\t\tlong long tstart=gettime(date,stime);\n\t\tif (tstart-stu[stuid].tprerec<21600){\n//\t\t\tcout<<\"Time less than 6hrs\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tif (stu[stuid].sex){\n\t\t\tif (dis<3000){\n//\t\t\t\tcout<<\"Distance not enough\"<<endl;\n\t\t\t\tcontinue; \n\t\t\t}\n\t\t}else if (dis<1500){\n//\t\t\tcout<<\"Distance not enough\"<<endl;\n\t\t\tcontinue; \n\t\t}\n\t\tint tpause=getdur(pdur);\n\t\tif (tpause>270){\n//\t\t\tcout<<\"Pause too long\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tdouble adis=(double)dis/step;\n\t\tif (adis>1.50) {\n//\t\t\tcout<<\"Average distance too long\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tlong long tend=gettime(date,etime);\n\t\tint tdlt=tend-tstart;\n\t\tdouble aspeed=(double)dis/tdlt;\n\t\tif (aspeed<2.0||aspeed>5.0){\n//\t\t\tcout<<\"Average speed too fast or slow\"<<endl;\n\t\t\tcontinue;\n\t\t}\n\t\tstu[stuid].tsunrun++;\n\t\tstu[stuid].tprerec=tend;\n//\t\tcout<<\"Record Valid\"<<endl;\n\t}\n\tfor (int i=1;i<=n;i++){\n\t\tint tmp=stu[i].tclass+stu[i].tsunrun;\n\t\tfor (int j=10;j>=0;j--){\n\t\t\tif (stu[i].tsunrun>=ssunrun[j]){\n\t\t\t\tstu[i].ssunrun=j;break;\n\t\t\t}\n\t\t}\n\t\tfor (int j=5;j>=0;j--){\n\t\t\tif (tmp>=sattend[j]){\n\t\t\t\tstu[i].sattend=j;break;\n\t\t\t}\n\t\t}\n\t\tstu[i].stotal=stu[i].sattend+stu[i].speclass+stu[i].stest;\n\t\tstu[i].stotal+=stu[i].ssunrun+stu[i].sbody+stu[i].sfinal;\n\t\tfor (int j=10;j>=0;j--){\n\t\t\tif (stu[i].stotal>=lgrade[j]){\n\t\t\t\tstu[i].grade=j;break;\n\t\t\t}\n\t\t}\n\t}\n\tsort(stu+1,stu+1+n);\n\tfor (int i=1;i<=n;i++){\n//\t\tcout<<\"ID:\" <<stu[i].id<<\"  Sex:\"<<stu[i].sex<<endl;\n//\t\tcout<<\"Total Score:\"<<stu[i].stotal<<\"  Grade:\"<<grade[stu[i].grade]<<endl;\n//\t\tcout<<\"SunRun Score:\"<<stu[i].ssunrun<<\"  Valid Count:\"<<stu[i].tsunrun<<endl; \n//\t\tcout<<\"Test Score:\"<<stu[i].stest<<\"  Body Score:\"<<stu[i].sbody<<endl;\n//\t\tcout<<\"Class Score:\"<<stu[i].speclass<<\"  Final Score:\"<<stu[i].sfinal<<endl;\n//\t\tcout<<\"Attend Count:\"<<stu[i].tsunrun+stu[i].tclass<<\"  Attend Score:\"<<stu[i].sattend<<endl;\n\t\tcout<<stu[i].id<<' '<<stu[i].stotal<<' '<<grade[stu[i].grade]<<endl; \n\t}\n\treturn 0;\n} \n```\n\n\u5230\u6b64\u7ed3\u675f\uff0c\u5b8c\u7ed3\u6492\u82b1 $\\sim$",
        "postTime": 1652107382,
        "uid": 574568,
        "name": "Dr_Gilbert",
        "ccfLevel": 7,
        "title": "P7426 [THUPC2017] \u4f53\u80b2\u6210\u7ee9\u7edf\u8ba1"
    },
    {
        "content": "### \u524d\u8a00\n\n\u672c\u9898\u601d\u8def\u548c\u4ee3\u7801\u8f83\u957f\uff0c\u6709\u4e9b\u4e1c\u897f\u5728\u9898\u89e3\u9875\u9762\u770b\u5f97\u4e0d\u662f\u5f88\u8212\u670d\u3002\n\n\u5efa\u8bae\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684\u201c\u5728 TA \u7684\u535a\u5ba2\u4e2d\u67e5\u770b\u201d\u3002\n\n\u53e6\u5916\uff0c\u63a5\u4e0b\u6765\u7684\u6807\u9898\u6709 $3$ \u5c42\uff0c\u6ce8\u610f\u533a\u5206\u3002\n\n### \u601d\u8def\n\n#### 1 \u8f93\u5165\u5b66\u751f\u4fe1\u606f\u4e0e\u521d\u6b65\u8ba1\u7b97\n\n\u53ef\u4ee5\u4f7f\u7528[\u7ed3\u6784\u4f53](https://www.runoob.com/cprogramming/c-structures.html)\u6765\u5b58\u50a8\u6570\u636e\u3002\n\n##### 1.1 \u5b66\u53f7\u4e0e\u6027\u522b\n\n\u8f93\u5165\u5b66\u53f7\uff0c\u4e0d\u9700\u8981\u5b57\u7b26\u4e32\uff0c\u53ea\u9700\u8981 `long long` \u5c31\u53ef\u4ee5\u4e86\u3002\u8bb0\u5f97\u591a\u6765\u4e00\u4e2a `getchar`\u3002\n\n\u6027\u522b\u4f7f\u7528 `getchar` \u76f4\u63a5\u8f93\u5165\uff0c\u4f7f\u7528 `bool` \u5b58\u50a8\u3002\u5b83\u63a5\u4e0b\u6765\u6709\u5f88\u5927\u5f71\u54cd\u3002\n\n##### 1.2 \u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9\n\n\u8f93\u5165\u4e00\u4e2a\u6574\u6570\uff0c\u7136\u540e\u5b58\u597d\uff0c\u5f85\u4f1a\u7b97\u8fdb\u603b\u5206\u3002\n\n\u611f\u89c9\u8fd9\u662f\u6240\u6709\u5206\u6570\u4e2d\u6700\u7b80\u5355\u7684\u4e00\u4e2a\u3002\n\n##### 1.3 \u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\n\n\u4f7f\u7528 `scanf` \u8f93\u5165\u957f\u8dd1\u6570\u636e\u3002\n\n\u5bf9\u4e8e\u5f62\u5982 `a'b\"` \u7684\u6570\u636e\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5199 `scanf`\uff1a\n\n```\nscanf(\"%d'%d\\\"\",&a,&b);\n```\n\n\u6ce8\u610f\u5012\u6570\u7b2c\u4e8c\u4e2a `\"` \u7684\u524d\u9762\u6709\u4e00\u4e2a `\\`\uff0c`\\` \u662f\u8f6c\u4e49\u5b57\u7b26\u3002\n\n\u7136\u540e\u5c06\u65f6\u95f4\u8f6c\u6362\u6210\u79d2\uff0c\u4e3a $a\\times60+b$\u3002\n\n\u63a5\u4e0b\u6765\uff0c\u5c06\u8ba1\u5206\u6807\u51c6\u7684\u5206\u949f\u8f6c\u5316\u4e3a\u79d2\uff1a\n\n| \u5206\u6570 | $20$ | $18$ | $16$ | $14$ | $12$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| \u7537\u751f\u6807\u51c6\uff08\u79d2\uff09 | $750$ | $780$ | $810$ | $840$ | $870$ |\n| \u5973\u751f\u6807\u51c6\uff08\u79d2\uff09 | $400$ | $417$ | $434$ | $451$ | $470$ |\n\n| \u5206\u6570 | $10$ | $8$ | $6$ | $4$ | $2$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| \u7537\u751f\u6807\u51c6\uff08\u79d2\uff09 | $910$ | $950$ | $990$ | $1030$ | $1080$ |\n| \u5973\u751f\u6807\u51c6\uff08\u79d2\uff09 | $485$ | $500$ | $515$ | $530$ | $540$ |\n\n\u7136\u540e\u7528\u4e00\u4e2a\u51fd\u6570 `askcp` \u6765\u8f6c\u5316\u3002\n\n\u8bb0\u5f97\u591a\u6765\u4e00\u4e2a `getchar`\u3002\n\n##### 1.4 \u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\n\n\u4f7f\u7528 `getchar` \u8f93\u5165\u4e00\u4e2a\u5b57\u7b26\uff0c\u518d\u5224\u65ad\uff0c\u8981\u4e48 $10$ \u5206\uff0c\u8981\u4e48\u62b1\u94c3\u3002\n\n##### 1.5 \u671f\u672b\u68c0\u6d4b\u6210\u7ee9\u548c\u73ed\u7ea7\u8bad\u7ec3\u8425\u53c2\u52a0\u6b21\u6570\n\n\u5148\u8f93\u5165\u597d\uff0c\u5230\u65f6\u5019\u5904\u7406\u5927\u4e00\u4e13\u9879\u6210\u7ee9\u7684\u65f6\u5019\u8981\u7528\u3002\n\n##### 1.6 \u6807\u8bc6\u5b66\u751f\n\n\u6392\u4e00\u4e0b\u5e8f\uff0c\u5b9a\u4e49 `find` \u51fd\u6570\uff0c\u91c7\u7528\u4e8c\u5206\u6cd5\uff0c\u901a\u8fc7\u5b66\u53f7\u8fd4\u56de\u4e0b\u6807\u3002\n\n#### 2 \u9633\u5149\u957f\u8dd1\u8bb0\u5f55\u7684\u8f93\u5165\u4e0e\u521d\u6b65\u5904\u7406\n\n##### 2.1 \u65e5\u671f\u4e0e\u5b66\u53f7\n\n\u8f93\u5165\u597d\uff0c\u65e5\u671f\u7528 `int`\uff0c\u5b66\u53f7\u7528 `long long`\u3002\n\n\u53e6\u5916\uff0c\u5b9e\u6d4b\u6240\u6709\u7684\u65e5\u671f\u90fd\u662f\u5728 $2017$ \u5e74\u7684\u540c\u4e00\u4e2a\u6708\u3002\u6572\u4ee3\u7801\u65f6\u6ca1\u8003\u8651\u5230\uff0c\u4f46\u662f\u6700\u540e\u8fc7\u4e86\u3002\n\n##### 2.2 \u65f6\u95f4\n\n\u9996\u5148\u8f93\u5165\u597d\u5f00\u59cb\u65f6\u95f4\u4e0e\u7ed3\u675f\u65f6\u95f4\u3002\n\n\u8bbe\u5f00\u59cb\u4e8e $sh:sm:ss$\uff0c\u7ed3\u675f\u4e8e $eh:em:es$\u3002\u90a3\u4e48\u6301\u7eed\u65f6\u95f4 $s$\uff08\u5355\u4f4d\u662f\u79d2\uff09\u5c31\u662f\uff1a\n\n$$s=eh\\times3600+em\\times60+es-sh\\times3600-sm\\times60-ss$$\n\n\u5f85\u4f1a\u8981\u7528\u3002\n\n##### 2.3 \u8ddd\u79bb\u3001\u6682\u505c\u65f6\u95f4\u4e0e\u6b65\u6570\n\n\u8f93\u5165\u8fdb\u53bb\uff0c\u6682\u505c\u65f6\u95f4\u8f6c\u5316\u6210\u79d2\u6570\u597d\u8ba1\u7b97\u3002\n\n#### 3 \u5224\u65ad\u9633\u5149\u957f\u8dd1\u662f\u5426\u5408\u6cd5\n\n##### 3.1 \u57fa\u672c\u6570\u636e\n\n\u9996\u5148\u8ba1\u7b97\u51fa\u57fa\u672c\u6570\u636e\uff08\u5c31\u662f\u4e0d\u6d89\u53ca\u5176\u5b83\u8bb0\u5f55\u7684\u6570\u636e\uff09\uff0c\u5982\u679c\u8fd9\u90fd\u8fc7\u4e0d\u4e86\u5c31\u80af\u5b9a\u4e0d\u5408\u6cd5\u4e86\uff0c\u76f4\u63a5 `continue`\u3002\n\n##### 3.2 \u8ddd\u79bb\n\n\u5224\u65ad\u4e00\u4e0b\u5373\u53ef\u3002\u8fd9\u8ddf\u6027\u522b\u6709\u5173\uff0c\u8bb0\u5f97\u5206\u7c7b\u8ba8\u8bba\u3002\u4e0d\u5408\u6cd5\u5c31 `continue`\u3002\n\n##### 3.3 \u65f6\u95f4\u95f4\u9694\n\n\u6211\u4eec\u53ef\u4ee5\u8bbe $la$ \u6570\u7ec4\uff0c\u7b2c $i$ \u4e2a\u5b66\u751f\u7684\u4e0a\u4e00\u6761\u5408\u6cd5\u8bb0\u5f55\u4e3a\u7b2c $la_i$ \u53f7\u8bb0\u5f55\u3002\n\n\u5982\u679c\u8fd9\u662f\u8fd9\u4e2a\u5b66\u751f\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\u5c31\u662f\u5408\u6cd5\u7684\u3002\n\n\u5982\u679c\u5929\u6570\u95f4\u9694\u5927\u4e8e\u7b49\u4e8e $2$ \u5c31\u662f\u5408\u6cd5\u7684\u3002\n\n\u8bbe\u5f53\u524d\u8bb0\u5f55\u5f00\u59cb\u4e8e $sh:sm:ss$\uff0c\u4e0a\u4e00\u6761\u5408\u6cd5\u8bb0\u5f55\u7ed3\u675f\u4e8e $eh:em:es$\uff0c\u5929\u6570\u95f4\u9694\u4e3a $k$\u3002\u90a3\u4e48\u8fd9\u4e5f\u662f\u5408\u6cd5\u7684\uff1a\n\n$$sh\\times 3600+sm\\times60+ss-eh\\times3600-em\\times60-es+k\\times86400\\ge21600$$\n\n### 4 \u6700\u7ec8\u6210\u7ee9\u8ba1\u7b97\n\n#### 4.1 \u9633\u5149\u957f\u8dd1\u6b21\u6570\n\n\u5bf9\u4e8e\u6bcf\u4e00\u6761\u5408\u6cd5\u7684\u9633\u5149\u957f\u8dd1\uff0c\u8fdb\u884c\u6b21\u6570\u7d2f\u52a0\u3002\n\n#### 4.2 \u9633\u5149\u957f\u8dd1\u5206\u6570\n\n\u6211\u4eec\u53ef\u4ee5\u6574\u7406\u51fa\u8fd9\u4e2a\u8868\u683c\uff1a\n\n| \u5206\u6570 | $10$ | $9$ | $8$ | $7$ | $6$ | $4$ | $2$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| \u6b21\u6570 | $21$ | $19$ | $17$ | $14$ | $11$ | $7$ | $3$ |\n\n\u7528\u4e00\u4e2a\u51fd\u6570 `askyg` \u5c31\u53ef\u4ee5\u8ba1\u7b97\u4e86\u3002\n\n#### 4.3 \u5927\u4e00\u4e13\u9879\u6210\u7ee9\n\n\u7b97\u597d\u51fa\u52e4\u603b\u6b21\u6570\u3002\u4e5f\u53ef\u4ee5\u6709\u4e00\u5f20\u8868\u683c\uff1a\n\n| \u5206\u6570 | $5$ | $4$ | $3$ | $2$ | $1$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| \u6b21\u6570 | $18$ | $15$ | $12$ | $9$ | $6$ |\n\n\u8bbe\u5206\u6570\u4e3a $s$\uff0c\u6b21\u6570\u4e3a $t$\uff0c\u5219\uff1a\n\n$$s=\\left\\lfloor(t-3)\\div3\\right\\rfloor$$\n\n#### 4.4 \u603b\u5206\u548c\u7b49\u7ea7\n\n\u8ba1\u7b97\u603b\u5206\u548c\u7b49\u7ea7\u3002\n\n\u53ef\u4ee5\u5c06\u7b49\u7ea7\u5206\u4e3a $11$ \u7b49\uff0c\u7136\u540e\u8f93\u51fa\u65f6\u518d\u8f6c\u5316\u3002\n\n| \u7b49\u7ea7 | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n| \u603b\u5206 | $95$ | $90$ | $85$ | $80$ | $77$ | $73$ |\n\n| \u7b49\u7ea7 | $7$ | $8$ | $9$ | $10$ | $11$ |\n| -----------: | -----------: | -----------: | -----------: | -----------: | -----------: |\n| \u603b\u5206 | $70$ | $67$ | $63$ | $60$ | $0$ |\n\n\u5f88\u660e\u663e\uff0c\u6837\u4f8b\u4e2d\u7684\u5b66\u751f\u8ddd\u79bb\u53ca\u683c\u53ea\u5dee $1$ \u5206\uff0c$8$ \u6761\u9633\u5149\u957f\u8dd1\u8bb0\u5f55\u53ea\u6709 $2$ \u6761\u5408\u6cd5\u3002\n\n### \u4ee3\u7801\u4e0e\u8bb0\u5f55\n\n\u8fd9\u9053\u5927\u6a21\u62df\u4ee3\u7801\u6709 $227$ \u884c\uff0c\u6bd4\u8f83\u957f\u3002\u6ce8\u610f\u8ba4\u771f\u7814\u7a76\u540e\u518d\u597d\u597d\u60f3\u3002\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\n#define max_n 10000\nint n;//\u4eba\u6570\nstruct S;\nstruct Y;\nint askcp(int a,int b,bool x);\nint askcq(int cs);\nbool cmp(S a,S b);\nint find(long long xh);\nint askcq(int cq);\nstruct S{//\u5b66\u751f\n\t//\u4e3b\u8981\u4fe1\u606f\n\tlong long xh;//\u5b66\u53f7\n\tbool xb;//\u6027\u522b 0\u7537 1\u5973\n\tint ty;//\u4f53\u80b2\u4e13\u9879\u8bfe\u6210\u7ee9\n\tint cp;//\u957f\u8dd1\u6d4b\u8bd5\u6210\u7ee9\n\tint yg;//\u9633\u5149\u957f\u8dd1\u6210\u7ee9\n\tint tz;//\u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\n\tint dy;//\u5927\u4e00\u4e13\u9879\u8ba1\u5212\u6210\u7ee9\n\tint sum;//\u603b\u5206\n\tint dj;//\u7b49\u7ea7\n\t//\u6b21\u8981\u4fe1\u606f\n\tint cq;//\u51fa\u52e4\u6b21\u6570\uff08\u5927\u4e00\u4e13\u9879\u8ba1\u5212\uff09\n\tint qm;//\u671f\u672b\u68c0\u6d4b\u6210\u7ee9\uff08\u5927\u4e00\u4e13\u9879\u8ba1\u5212\uff09\n\tint bj;//\u73ed\u7ea7\u8bad\u7ec3\u8425\u53c2\u52a0\u6b21\u6570\uff08\u51fa\u52e4\u6b21\u6570\uff09\n\tint ygcs;//\u9633\u5149\u957f\u8dd1\u6b21\u6570\uff08\u9633\u5149\u957f\u8dd1\u6210\u7ee9\u3001\u51fa\u52e4\u6b21\u6570\uff09\n\t//\u51fd\u6570\n\tS(){//\u521d\u59cb\u5316\n\t\tygcs=0;\n\t}\n\tint askcq(){//\u8be2\u95ee\u51fa\u52e4\u6b21\u6570\n\t\tcq=bj+ygcs;\n\t\treturn cq;\n\t}\n\tint asksum(){//\u8be2\u95ee\u603b\u5206\n\t\tsum=ty+cp+yg+tz+dy;\n\t\treturn sum;\n\t}\n\tint askdj(){//\u8be2\u95ee\u7b49\u7ea7\n\t\tif(sum>=95)return 1;\n\t\tif(sum>=90)return 2;\n\t\tif(sum>=85)return 3;\n\t\tif(sum>=80)return 4;\n\t\tif(sum>=77)return 5;\n\t\tif(sum>=73)return 6;\n\t\tif(sum>=70)return 7;\n\t\tif(sum>=67)return 8;\n\t\tif(sum>=63)return 9;\n\t\tif(sum>=60)return 10;\n\t\treturn 11;\n\t}\n}s[max_n+2];//\u5b66\u751f\nint la[max_n+2];//\u4e0a\u4e00\u6761\u5408\u6cd5\u8bb0\u5f55\n#define max_m 150000\nint m;//\u9633\u5149\u957f\u8dd1\u8bb0\u5f55\u6570\nstruct Y{//\u9633\u5149\u957f\u8dd1\n\t//\u4e3b\u8981\u4fe1\u606f\n\tint rq;//\u65e5\u671f\n\tlong long xh;//\u5b66\u53f7\n\tint s;//\u79d2\u6570\n\tfloat jl;//\u8fd0\u52a8\u8ddd\u79bb\n\tint zt;//\u603b\u6682\u505c\u79d2\u6570\n\tint bs;//\u603b\u6b65\u6570\n\tbool u;//\u662f\u5426\u6709\u7528\n\t//\u6b21\u8981\u4fe1\u606f\n\tint sh,sm,ss;//\u5f00\u59cb\u65f6\u95f4\uff08\u79d2\u6570\uff09\n\tint eh,em,es;//\u7ed3\u675f\u65f6\u95f4\uff08\u79d2\u6570\uff09\n\t//\u51fd\u6570\n\tY(){//\u521d\u59cb\u5316\n\t\tu=false;\n\t}\n\tbool askuse(){//\u662f\u5426\u6709\u7528\n\t\tfloat sd=jl*1000/s;//\u901f\u5ea6\n\t\tfloat bf=jl*1000/bs;//\u6b65\u5e45\n\t\tint x=find(xh);\n\t\tif(sd<2||sd>5||zt>270||bf>1.5)u=false;\n\t\telse u=true;\n\t\treturn u;\n\t}\n}y[max_m+2];//\u9633\u5149\u957f\u8dd1\nint askcp(int a,int b,bool x){//\u8be2\u95ee\u957f\u8dd1\u6210\u7ee9\n\tint ans=a*60+b;\n\tif(x==0){//\u7537\u751f\n\t\tif(ans<=750)return 20;\n\t\tif(ans<=780)return 18;\n\t\tif(ans<=810)return 16;\n\t\tif(ans<=840)return 14;\n\t\tif(ans<=870)return 12;\n\t\tif(ans<=910)return 10;\n\t\tif(ans<=950)return 8;\n\t\tif(ans<=990)return 6;\n\t\tif(ans<=1030)return 4;\n\t\tif(ans<=1080)return 2;\n\t}\n\telse{//\u5973\u751f\n\t\tif(ans<=400)return 20;\n\t\tif(ans<=417)return 18;\n\t\tif(ans<=434)return 16;\n\t\tif(ans<=451)return 14;\n\t\tif(ans<=470)return 12;\n\t\tif(ans<=485)return 10;\n\t\tif(ans<=500)return 8;\n\t\tif(ans<=515)return 6;\n\t\tif(ans<=530)return 4;\n\t\tif(ans<=540)return 2;\n\t}\n\treturn 0;\n}\nint askyg(int cs){//\u8be2\u95ee\u9633\u5149\u957f\u8dd1\u6210\u7ee9\n\tif(cs>=21)return 10;\n\tif(cs>=19)return 9;\n\tif(cs>=17)return 8;\n\tif(cs>=14)return 7;\n\tif(cs>=11)return 6;\n\tif(cs>=7)return 4;\n\tif(cs>=3)return 2;\n\treturn 0;\n}\nbool cmp(S a,S b){//\u6392\u5e8f\n\treturn a.xh<b.xh;\n}\nint find(long long xh){//\u5bfb\u627e\u4e0b\u6807\n\tint l=1,r=n;\n\tint mid;\n\twhile(l<=r){\n\t\tmid=(l+r)>>1;\n\t\tif(s[mid].xh<xh)l=mid+1;\n\t\telse if(s[mid].xh>xh)r=mid-1;\n\t\telse return mid;\n\t}\n\treturn mid;\n}\nint askcq(int cq){//\u8be2\u95ee\u51fa\u52e4\u5206\u6570\n\tif(cq>=18)return 5;\n\tif(cq>=15)return 4;\n\tif(cq>=12)return 3;\n\tif(cq>=9)return 2;\n\tif(cq>=6)return 1;\n\treturn 0;\n}\nint main(){\n\t#ifndef ONLINE_JUDGE\n\tfreopen(\"P7426_1.in\",\"r\",stdin);\n\tfreopen(\"P7426_1.out\",\"w\",stdout);\n\t#endif\n\tscanf(\"%d\",&n);//\u8f93\u5165\u4eba\u6570\n\tfor(int i=1,a,b;i<=n;++i){//\u8f93\u5165\u5b66\u751f\u4fe1\u606f\n\t\tscanf(\"%lld\",&s[i].xh);getchar();//\u8f93\u5165\u5b66\u53f7\n\t\tif(getchar()=='M')s[i].xb=0;\n\t\telse s[i].xb=1;//\u8f93\u5165\u6027\u522b\n\t\tscanf(\"%d\",&s[i].ty);//\u8f93\u5165\u4f53\u80b2\u8bfe\u4e13\u9879\u6210\u7ee9\n\t\tscanf(\"%d'%d\\\"\",&a,&b);//\u8f93\u5165\u957f\u8dd1\u6d4b\u8bd5\n\t\ts[i].cp=askcp(a,b,s[i].xb);getchar();//\u8ba1\u7b97\u957f\u8dd1\u6210\u7ee9\n\t\tif(getchar()=='P')s[i].tz=10;\n\t\telse s[i].tz=0;//\u8f93\u5165\u4f53\u8d28\u6d4b\u8bd5\u6210\u7ee9\n\t\tscanf(\"%d\",&s[i].qm);//\u8f93\u5165\u671f\u672b\u68c0\u6d4b\u6210\u7ee9\n\t\tscanf(\"%d\",&s[i].bj);//\u8f93\u5165\u73ed\u7ea7\u8bad\u7ec3\u8425\u53c2\u52a0\u6b21\u6570\n\t}\n\tsort(s+1,s+n+1,cmp);//\u6392\u5e8f\n\tscanf(\"%d\",&m);//\u8f93\u5165\u9633\u5149\u957f\u8dd1\u8bb0\u5f55\u6570\n\tfor(int i=1,a,b;i<=m;++i){//\u8f93\u5165\u9633\u5149\u957f\u8dd1\u8bb0\u5f55\n\t\tscanf(\"%d\",&y[i].rq);//\u8f93\u5165\u65e5\u671f\n\t\tscanf(\"%lld\",&y[i].xh);//\u8f93\u5165\u5b66\u53f7\n\t\tscanf(\"%d:%d:%d\",&y[i].sh,&y[i].sm,&y[i].ss);//\u8f93\u5165\u5f00\u59cb\u65f6\u95f4\n\t\tscanf(\"%d:%d:%d\",&y[i].eh,&y[i].em,&y[i].es);//\u8f93\u5165\u7ed3\u675f\u65f6\u95f4\n\t\ty[i].s=y[i].eh*3600+y[i].em*60+y[i].es-y[i].sh*3600-y[i].sm*60-y[i].ss;//\u8ba1\u7b97\u6301\u7eed\u65f6\u95f4\n\t\tscanf(\"%f\",&y[i].jl);//\u8f93\u5165\u8ddd\u79bb\n\t\tscanf(\"%d'%d\\\"\",&a,&b);//\u8f93\u5165\u6682\u505c\u65f6\u95f4\n\t\ty[i].zt=a*60+b;//\u8ba1\u7b97\u6682\u505c\u79d2\u6570\n\t\tscanf(\"%d\",&y[i].bs);//\u8f93\u5165\u603b\u6b65\u6570\n\t}\n\tfor(int i=1,x;i<=m;++i){//\u5904\u7406\u9633\u5149\u957f\u8dd1\u5408\u4e0d\u5408\u6cd5\n\t\tif(!y[i].askuse())continue;//\u57fa\u672c\u4fe1\u606f\u5df2\u7ecf\u4e0d\u5408\u6cd5\n\t\tx=find(y[i].xh);\n\t\tif((s[x].xb==0&&y[i].jl<3)||(s[x].xb==1&&y[i].jl<1.5)){\n\t\t\ty[i].u=false;\n\t\t\tcontinue;\n\t\t}\n\t\tif(la[x]==0){//\u6ca1\u6709\u4e0a\u4e00\u6761\u5408\u6cd5\u8bb0\u5f55\n\t\t\tla[x]=i;\n\t\t\ty[i].u=true;\n\t\t\tcontinue;\n\t\t}\n\t\tif(y[i].rq-y[la[x]].rq>=2){//\u65e5\u671f\u5dee\u8ddd\u5927\u4e8e\u7b49\u4e8e2\u5929\n\t\t\tla[x]=i;\n\t\t\ty[i].u=true;\n\t\t\tcontinue;\n\t\t}\n\t\tif(y[i].sh*3600+y[i].sm*60+y[i].ss-y[la[x]].eh*3600-y[la[x]].em*60-y[la[x]].es+(y[i].rq-y[la[x]].rq)*86400>=21600){//\u65f6\u95f4\u5dee\u8ddd\u5927\u4e8e\u7b49\u4e8e6\u5c0f\u65f6\n\t\t\tla[x]=i;\n\t\t\ty[i].u=true;\n\t\t\tcontinue;\n\t\t}//\u8fd9\u6761if\u5f88\u957f\uff0c\u597d\u597d\u8bb0\n\t\ty[i].u=false;\n\t}\n\tfor(int i=1,x;i<=m;++i){//\u8bb0\u5f55\u4e0e\u6210\u7ee9\u7684\u8f6c\u5316\n\t\tif(!y[i].u)continue;\n\t\tx=find(y[i].xh);\n\t\t++s[x].ygcs;\n\t}\n\tfor(int i=1;i<=n;++i){\n\t\ts[i].yg=askyg(s[i].ygcs);\n\t\ts[i].askcq();\n\t\ts[i].dy=askcq(s[i].cq)+s[i].qm;\n\t\ts[i].asksum();\n\t\ts[i].dj=s[i].askdj();\n\t}\n\tfor(int i=1,a;i<=n;++i){\n\t\tprintf(\"%lld %d \",s[i].xh,s[i].sum);\n\t\ta=s[i].dj;\n\t\tif(a==1)printf(\"A\");\n\t\tif(a==2)printf(\"A-\");\n\t\tif(a==3)printf(\"B+\");\n\t\tif(a==4)printf(\"B\");\n\t\tif(a==5)printf(\"B-\");\n\t\tif(a==6)printf(\"C+\");\n\t\tif(a==7)printf(\"C\");\n\t\tif(a==8)printf(\"C-\");\n\t\tif(a==9)printf(\"D+\");\n\t\tif(a==10)printf(\"D\");\n\t\tif(a==11)printf(\"F\");\n\t\tprintf(\"\\n\");\n\t}\n\treturn 0;\n}\n```\n\n[\u8bb0\u5f55\u4f20\u9001\u95e8](https://www.luogu.com.cn/record/55386760)\n\nBy **dengziyue**",
        "postTime": 1628501323,
        "uid": 387840,
        "name": "happy_dengziyue",
        "ccfLevel": 6,
        "title": "P7426\u9898\u89e3"
    },
    {
        "content": "## \u9898\u610f\u5206\u6790\n\n- \u7ed9\u4f60\u4e00\u5806\u5b66\u751f\u7684\u4fe1\u606f\uff0c\u518d\u7ed9\u4f60\u4e00\u5806\u5b66\u751f\u7684\u8dd1\u6b65\u8bb0\u5f55\uff0c\u4f60\u9700\u8981**\u6b63\u786e**\u7684\u5904\u7406\u8dd1\u6b65\u8bb0\u5f55\u5e76\u4e14\u7edf\u8ba1\u6bcf\u4e2a\u5b66\u751f\u6709\u591a\u5c11\u6761\u8bb0\u5f55\u662f\u7b26\u5408\u89c4\u5b9a\u7684\u3002\n\n### \u5410\u69fd\n\n- \u8fd9\u9898\u6211\u6628\u5929\u6211\u4eec\u673a\u623f\u7684\u6a21\u62df\u8d5b\u9898\uff0c\u662f `T3`\uff0c\u653e `T3` \u5f88~~\u826f\u5fc3~~\u51c9\u5fc3\uff0c\u56e0\u4e3a\u7b2c\u4e00\u9898\u662f\u4e2a\u795e\u4ed9\u671f\u671b\uff0c\u7b2c\u4e8c\u9898\u662f\u4e2a\u795e\u4ed9\u6982\u7387\u2026\u2026\n\n### \u5904\u7406\u8bfb\u5165\n\n- \u9996\u5148\u7ed9\u51fa\u51e0\u4e2a\u7ed3\u6784\u4f53\uff0c\u4fbf\u4e8e\u7406\u89e3\u6211\u7684\u4ee3\u7801\uff1a\n\n  ```cpp\n  class Student {\n  \tpublic:\n  \t\tint num; //\u79bb\u6563\u5316\u540e\u7684\u7f16\u53f7 \n  \t\tlong long id; //\u5b66\u53f7 \n  \t\tbool sex; //\u6027\u522b \n  \t\tint Pes; //\u4f53\u80b2\u4e13\u9879\u6210\u7ee9 \n  \t\tint mit, sed; //\u957f\u8dd1\u5206\uff0c\u79d2\n  \t\tbool pass; //\u662f\u5426\u901a\u8fc7\u4f53\u80b2\u6d4b\u8bd5\n  \t\tint Pef; // \u671f\u672b\u6210\u7ee9\n  \t\tint c; //\u53c2\u52a0\u73ed\u7ea7\u8bad\u7ec3\u8425\u7684\u6b21\u6570 \n  \t\tint cnt; //\u9633\u5149\u957f\u8dd1\u5408\u683c\u6b21\u6570 \n  \t\tint g1, g2;\n  \t\tinline bool operator < (const Student a) const {\n  \t\t\treturn a.id > id;\n  \t\t}\n  };\n  ```\n\n  ```cpp\n  class Sun_Running {\n  \tpublic:\n  \t\tint mon, dy; //\u6708\u3001\u65e5\n  \t\tlong long id; //\u5b66\u53f7\n  \t\tint shr, smit, ssed; //\u5f00\u59cb\u65f6\uff0c\u5206\uff0c\u79d2 \n  \t\tint ehr, emit, esed; //\u7ed3\u675f\u65f6\uff0c\u5206\uff0c\u79d2 \n  \t\tdouble ln; // \u8fd0\u52a8\u8ddd\u79bb\n  \t\tint spa, spb; //\u6682\u505c\u65f6\u95f4\n  \t\tint s; // \u8fd0\u52a8\u6b65\u6570 \n  };\n  ```\n\n  ```cpp\n  class Day {\n  \tpublic:\n  \t\tint hr, mit, sed;\n  \t\tint ddy;\n  \t\t//\u65f6\u5206\u79d2 \n  };\n  ```\n\n  \n\n- \u7136\u540e\u53d1\u73b0\u8bfb\u5165\u7684\u65f6\u5019\u53ef\u4ee5\u901a\u8fc7 `scanf` \u7684\u9a9a\u64cd\u4f5c\u6765\u7279\u522b\u65b9\u4fbf\u7684\u5904\u7406\uff0c\n\n- \u50cf\u4e0b\u9762\u8fd9\u6837\uff1a\n\n  ```cpp\n  for(int i = 1; i <= n; ++i) {\n  \t\tscanf(\"%lld\", &st[i].id);\n  \t\tst[i].num = i;\n  \t\tchar x; cin >> x;\n  \t\tst[i].sex = x == 'M' ? true : false;\n  \t\tscanf(\"%lld\", &st[i].Pes);\n  \t\tint a1, b1;\n  \t\tscanf(\"%lld\\'%lld\\\"\", &a1, &b1);\n  \t\tst[i].mit = a1, st[i].sed = b1;\n  \t\tcin >> x;\n  \t\tst[i].pass = x == 'P' ? true : false;\n  \t\tscanf(\"%lld\", &st[i].Pef);\n  \t\tscanf(\"%lld\", &st[i].c);\n  \t\tM[st[i].id] = i;\n  \t}\n  ```\n\n- \u7136\u540e\u8bfb\u9898\u53d1\u73b0\u9664\u4e86**\u9633\u5149\u8dd1\u6b65**\u5269\u4e0b\u7684\u90fd\u5f88\u597d\u5904\u7406\uff0c\u56e0\u4e3a\u9633\u5149\u8dd1\u6b65\u8fd8\u8981\u989d\u5916\u5904\u7406\u8dd1\u6b65\u8bb0\u5f55\n\n### \u5904\u7406\u9633\u5149\u8dd1\u6b65\n\n- \u9996\u5148\uff0c\u6211\u5199\u4e86\u4e00\u4e2a\u51fd\u6570\uff0c\u6765\u6c42\u51fa\u4e24\u4e2a\u65f6\u95f4\u7684\u95f4\u9694\u79d2\u6570\uff1a\n\n  ```cpp\n  inline int Get_Time(Day a, Day b); //\u5f97\u5230\u4e24\u4e2a\u65f6\u95f4\u76f8\u90bb\u7684\u79d2\u6570 \n  \n  inline int Get_Time(Day a, Day b) {\n  \tint ha = a.hr, mia = a.mit, sea = a.sed;\n  \tint hb = b.hr, mib = b.mit, seb = b.sed;\n  \tint ch = 0, cm = 0, cs = 0;\n  \t//\u5dee\u51e0\u5c0f\u65f6 \u5dee\u51e0\u5206\u949f \u5dee\u51e0\u79d2 \n  \t//\u5148\u628aa\u3001b\u6362\u7b97\u6210\u6574\u70b9\uff0c\u7136\u540e\u6c42\u5dee\u503c\n  \t\n  \tint nha = ha, nhb = hb;\n  \tint nmia = mia, nmib = mib;\n  \tif(sea != 0) {\n  \t\tnmia++;\n  \t\tif(nmia == 60) {\n  \t\t\tnha++;\n  \t\t\tnmia = 0;\n  \t\t}\n  \t\tcs += 60 - sea;\n  \t\tsea = 0;\n  \t}\n  \tif(nmia != 0)  {\n  \t\tnha++;\n  \t\tif(nha == 24)\n  \t\t\tnha = 0;\n  \t\tcm += 60 - nmia;\n  \t\tnmia = 0;\n  \t}\n      //\u7528 ddy \u6765\u5224\u65ad\u4e24\u4e2a\u65f6\u95f4\u662f\u5426\u5904\u4e8e\u540c\u4e00\u5929\n  \tif(a.ddy != b.ddy) {\n  \t\tint x1 = 24 - nha, x2 = nhb;\n  \t\tch += (nha == 0) ? x2 : (x2 + x1);\n  \t}\n  \telse\n  \t\tch += (nhb - nha);\n  \tcm += nmib;\n  \tcs += seb;\n  \tcm += ch * 60;\n  \tcs += cm * 60;\n  \treturn cs;\n  }\n  ```\n\n- \u6211\u4eec\u8bfb\u5165\u65f6\u5bf9\u8bb0\u5f55\u672c\u8eab\u5224\u65ad\u662f\u5426\u5408\u6cd5\uff1a\n\n  ```cpp\n  inline bool check2(Sun_Running x); // \u5224\u65ad\u8bb0\u5f55\u672c\u8eab\u662f\u5426\u5408\u683c\n  for(int i = 1; i <= m; ++i) { // \u8bfb\u5165\n  \tstring ddy;\n  \tcin >> ddy;\n  \tint x1 = (ddy[4] - '0') * 10 + ddy[5] - '0';\n  \tint x2 = (ddy[6] - '0') * 10 + ddy[7] - '0';\n  \trc[i].mon = x1, rc[i].dy = x2;\n  \tscanf(\"%lld\", &rc[i].id);\n  \tscanf(\"%lld:%lld:%lld\", &rc[i].shr, &rc[i].smit, &rc[i].ssed);\n  \tscanf(\"%lld:%lld:%lld\", &rc[i].ehr, &rc[i].emit, &rc[i].esed);\n  \tscanf(\"%lf\", &rc[i].ln);\n  \trc[i].ln *= 1000; // \u6ce8\u610f\u8fd9\u91cc\u7684\u5355\u4f4d\u6362\u7b97\n  \tscanf(\"%lld\\'%lld\\\"\", &rc[i].spa, &rc[i].spb);\n  \tscanf(\"%lld\", &rc[i].s);\n  \tint num = Get_num(rc[i].id);\n  \tif(check2(rc[i]))\n  \t\tsrun[num].push_back(i);\n  }\n  inline bool check2(Sun_Running x) {\n  \tint num = Get_num(x.id); // \u5f97\u5230 id\n  \tbool sex = st[num].sex; // \u901a\u8fc7 id \u5f97\u5230\u6027\u522b\n      // \u5224\u65ad\u8ddd\u79bb\u662f\u5426\u591f\u5927\n  \tif(sex) {\n  \t\tif(x.ln < 3000)\n  \t\t\treturn false;\n  \t}\n  \tif(!sex) {\n  \t\tif(x.ln < 1500)\n  \t\t\treturn false;\n  \t}\n      // \u6c42\u51fa\u8dd1\u6b65\u65f6\u95f4\n  \tDay x1, x2;\n  \tx1.hr = x.shr, x1.mit = x.smit, x1.sed = x.ssed;\n  \tx2.hr = x.ehr, x2.mit = x.emit, x2.sed = x.esed;\n  \tx1.ddy = x2.ddy = 1;\n  \tint Tsimes = Get_Time(x1, x2);\n  \tdouble tmm = Tsimes;\n  \tdouble v = x.ln / tmm;\n  \tif(v < 2.0 or v > 5.0)\n  \t\treturn false;\n      // \u6c42\u901f\u5ea6\n  \tx1.hr = 0, x1.mit = 0, x1.sed = 0;\n  \tx2.hr = 0, x2.mit = x.spa, x2.sed = x.spb;\n  \tx1.ddy = x2.ddy = 1;\n  \t// \u8ba1\u7b97\u6682\u505c\u65f6\u95f4\n  \tint ddd = Get_Time(x1, x2);\n  \tif(ddd > 270)\n  \t\treturn false;\n      // \u6682\u505c\u65f6\u95f4\u4e0d\u8d85\u8fc7 4'30\"\n  \tdouble xs = x.s * 1.0;\n  \tdouble xx = x.ln / xs;\n  \tif(xx > 1.5)\n  \t\treturn false;\n      // \u6b65\u5e45\u4e0d\u8d85\u8fc7 1.5\n  \treturn true;\n  }\n  ```\n\n- \u8bb0\u5f55\u5408\u6cd5\uff0c\u5219\u6211\u4eec\u5c06\u5b83\u653e\u5165\u6bcf\u4e2a\u4eba\u6240\u5bf9\u5e94\u7684 `vector` \u6765\u5224\u65ad\u4e24\u4e2a\u76f8\u90bb\u5408\u6cd5\u8bb0\u5f55\u662f\u5426\u8d85\u8fc7 `6h`\uff1a\n\n  ```cpp\n  inline bool check1(Sun_Running a, Sun_Running b); // \u5224\u65ad a\u3001b \u4e24\u6761\u8bb0\u5f55\u662f\u5426\u76f8\u5dee 6 \u5c0f\u65f6\n  inline bool check1(Sun_Running a, Sun_Running b) {\n  \tint ma = a.mon, mb = b.mon, da = a.dy, db = b.dy;\n  \t// a\u3001b \u7684\u5e74\u6708\u65e5\n  \tint ha = a.ehr, mia = a.emit, sea = a.esed;\n  \t// a\u7684\u7ed3\u675f\u65f6\u95f4\n  \tint hb = b.shr, mib = b.smit, seb = b.ssed;\n  \t\n  \tif(ma < mb) {\n  \t\tif(da == Month[ma] and db == 1) {\n  \t\t\tDay x1, x2;\n  \t\t\tx1.hr = ha, x1.mit = mia, x1.sed = sea, x1.ddy = 1;\n  \t\t\tx2.hr = hb, x2.mit = mib, x2.sed = seb, x2.ddy = 2;\n  \t\t\treturn check0(x1, x2);\n              // a\u3001b \u5206\u522b\u4e3a\u4e24\u4e2a\u6708\u7684\u76f8\u90bb\u8bb0\u5f55\n  \t\t}\n  \t\telse\n  \t\t\treturn true;\n  \t}\n  \tif(da != db) {\n  \t\tif(db != da + 1)\n  \t\t\treturn true;\n          // a\u3001b\u5929\u6570\u4e0d\u76f8\u90bb\n  \t\tDay x1, x2;\n  \t\tx1.hr = ha, x1.mit = mia, x1.sed = sea, x1.ddy = 1;\n  \t\tx2.hr = hb, x2.mit = mib, x2.sed = seb, x2.ddy = 2;\n  \t\treturn check0(x1, x2);\n  \t}\n  \telse {\n  \t\tif(hb - ha <= 4)\n  \t\t\treturn false;\n          //\u5982\u679c\u65f6\u5dee\u5c0f\u4e8e 4 \u5c0f\u65f6\uff0c\u90a3\u4e48\u5206\u548c\u79d2\u80af\u5b9a\u51d1\u4e0d\u591f 6\u5c0f\u65f6\uff0c\u76f4\u63a5\u8fd4\u56de true\n  \t\tDay x1, x2;\n  \t\tx1.hr = ha, x1.mit = mia, x1.sed = sea, x1.ddy = 1;\n  \t\tx2.hr = hb, x2.mit = mib, x2.sed = seb, x2.ddy = 1;\n  \t\treturn check0(x1, x2);\n  \t}\n  }\n  ```\n\n- \u5224\u65ad\u5b8c\u4e86\u4e4b\u540e\u5c31\u8ba1\u6570\uff0c\u8bb0\u5f55\u6bcf\u4e2a\u4eba\u6709\u591a\u5c11\u6761\u5408\u6cd5\u7684\u8bb0\u5f55\uff1a\n\n  ```cpp\n  inline int G_Sun_Run(Student x); // \u5f97\u5230\u9633\u5149\u8dd1\u6b65\u6210\u7ee9\n  //\u7528 V \u8868\u793a\u6bcf\u6761\u8bb0\u5f55\u662f\u5426\u5408\u6cd5\n  inline int G_Sun_Run(Student x) {\n  \tint cnt = 0, num = Get_num(x.id);\n  \tif(srun[num].size() == 0)\n  \t\treturn 0;\n  \tmemset(V, 0, sizeof(V));\n  \tV[0] = true;\n  \tfor(int i = 0; i < srun[num].size() - 1; ++i) {\n  \t\tint j = i + 1;\n  \t\tif(check1(rc[srun[num][i]], rc[srun[num][j]])) {\n  \t\t\tV[j] = true;\n  \t\t}\n  \t\telse {\n  \t\t\tbool flag = false;\n  \t\t\tint k;\n  \t\t\tfor(k = j + 1; k < srun[num].size(); ++k) {\n  \t\t\t\tif(check1(rc[srun[num][i]], rc[srun[num][k]]))\n  \t\t\t\t\tbreak;\n  \t\t\t\tif(k == srun[num].size() - 1) {\n  \t\t\t\t\tflag = true;\n  \t\t\t\t\tbreak;\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\tif(flag) {\n  \t\t\t\tbreak;\n  \t\t\t}\n  \t\t\telse {\n  \t\t\t\ti = k - 1, V[k] = true;\n  \t\t\t}\n  \t\t}\n  \t}\n  \t\n  \tfor(int i = 0; i < srun[num].size(); ++i)\n  \t\tcnt += (V[i] == true);\n  \treturn cnt;\n  }\n  ```\n\n- \u8fd9\u6837\u5904\u7406\u5b8c\u9633\u5149\u8dd1\u6b65\u540e\uff0c\u672c\u9898\u7684\u6838\u5fc3\u5c31\u7ed3\u675f\u4e86\u3002\n\n### \u7ed9\u51fa\u5b8c\u6574\u4ee3\u7801\n\nCode\uff1a\u8fdb[\u526a\u5207\u677f](https://www.luogu.com.cn/paste/gk6ju3v2)\u770b\u6211 `600` \u884c\u88f9\u811a\u4ee3\u7801",
        "postTime": 1626475444,
        "uid": 383204,
        "name": "Areka6219",
        "ccfLevel": 0,
        "title": "P7426 Solution"
    },
    {
        "content": "### \u9996\u5148\uff0c\u6ca1\u5565\uff0c\u5c31\u662f\u4e2a\u5927\u6a21\u62df(R.I.P)\u3002\n\n######  ~~\u5c31\u662f\u8003\u8bd5\u6574\u8fd9\u4e2a\u9898\u633a\u4e0d\u505a\u4eba\u7684\u3002~~\n\n\u4e13\u9879\u6210\u7ee9\uff0c\u957f\u8dd1\u6210\u7ee9\uff0c\u4f53\u8d28\u6d4b\u8bd5\uff0c\u5927\u4e00\u4e13\u9879\u662f\u6bd4\u8f83\u7b80\u5355\u7684\u90e8\u5206\uff0c\u4e3b\u8981\u7684\u96be\u70b9\u5728\u4e8e\u5982\u4f55\u5904\u7406\u9633\u5149\u8dd1\u6b65\u3002\n\n\u5bf9\u4e8e\u5b66\u53f7\uff0c\u662f\u4e2a\u5341\u4f4d\u6570\uff0c\u6570\u7ec4\u4e0d\u592a\u597d\u5f00\uff0c\u5c31\u7528 map<string , int> \u89e3\u51b3\uff0c\u7528\u4e00\u4e2a string \u8bb0\u5f55\u5b66\u53f7\n\n## \u53d8\u91cf\u89e3\u91ca\n```cpp\nstruct node {\n\tint score,Run,Sun,phi,Fir,Cla;\n\tint sum;\n\tchar Male,Is;\n\tstring name;\n    \n   //score\u4e3a\u4e13\u9879,Run\u4e3a\u957f\u8dd1,phi\u4e3a\u4f53\u8d28,Fir\u4e3a\u5927\u4e00\u7684\u524d5\u5206\n   //sum\u4e3a\u603b\u5206,Male\u4e3a\u6027\u522b,Cla\u4e3a\u51fa\u52e4\u6b21\u6570\u3002\n   //name\u4e3a\u5b66\u53f7\n}q[4010];\n\n\nstruct Q {\n\tint id,St,Ed;\n   //\u8fd9\u4e2a\u662f\u8bb0\u5f55\u8dd1\u6b65\u8bb0\u5f55\n   //id\u662f\u6240\u5c5e\u5b66\u53f7\n   //St,Ed\u5206\u522b\u4e3a\u8f6c\u5316\u6210\u79d2\u540e\u7684\u8d77\u6b62\u65f6\u95f4\n}fk[maxn];\n\nint bow[4010];\n```\n\n## \u4ee3\u7801\u5b9e\u73b0\n\n\u90a3\u6211\u4eec\u6765\u5206\u5757\u5904\u7406\uff1a\n\n###  \u4e13\u9879\u6210\u7ee9\n\t\t\n \u76f4\u63a5\u8f93\u5165\u5373\u53ef\u3002\n \n###  \u957f\u8dd1\u6d4b\u8bd5\n\t\t\n   \u5bf9\u4e8e\u7537\u5973\u5206\u522b\u5904\u7406\uff0c\u6309\u7167\u6210\u7ee9\u6bb5\u8d4b\u5206\u5373\u53ef\u3002\n        \n   ```cpp\n\tint x,y;\n\t\tscanf(\"%d'\" , &x);\n\t\tscanf(\"%d\" , &y);\n\t\tgetchar();\n\t\tx = x * 100 + y;\n\t\tif(q[cnt].Male == 'M') {\n\t\t\tif(x <= 1230) q[cnt].Run = 20;\n\t\t\tif(x > 1230 and x <= 1300) q[cnt].Run = 18;\n\t\t\tif(x > 1300 and x <= 1330) q[cnt].Run = 16;\n\t\t\tif(x > 1330 and x <= 1400) q[cnt].Run = 14;\n\t\t\tif(x > 1400 and x <= 1430) q[cnt].Run = 12;\n\t\t\tif(x > 1430 and x <= 1510) q[cnt].Run = 10;\n\t\t\tif(x > 1510 and x <= 1550) q[cnt].Run = 8;\n\t\t\tif(x > 1550 and x <= 1630) q[cnt].Run = 6;\n\t\t\tif(x > 1630 and x <= 1710) q[cnt].Run = 4;\n\t\t\tif(x > 1710 and x <= 1800) q[cnt].Run = 2;\n\t\t\tif(x > 1800) q[cnt].Run = 0;\n\t\t}\n\t\tif(q[cnt].Male == 'F') {\n\t\t\tif(x <= 640) q[cnt].Run = 20;\n\t\t\tif(x > 640 and x <= 657) q[cnt].Run = 18;\n\t\t\tif(x > 657 and x <= 714) q[cnt].Run = 16;\n\t\t\tif(x > 714 and x <= 731) q[cnt].Run = 14;\n\t\t\tif(x > 731 and x <= 750) q[cnt].Run = 12;\n\t\t\tif(x > 750 and x <= 805) q[cnt].Run = 10;\n\t\t\tif(x > 805 and x <= 820) q[cnt].Run = 8;\n\t\t\tif(x > 820 and x <= 835) q[cnt].Run = 6;\n\t\t\tif(x > 835 and x <= 850) q[cnt].Run = 4;\n\t\t\tif(x > 850 and x <= 900) q[cnt].Run = 2;\n\t\t\tif(x > 900) q[cnt].Run = 0;\n\t\t}\n\t\tq[cnt].sum+=q[cnt].Run;\n```\n\n\u5176\u4e2d Run \u4e3a\u957f\u8dd1\u6d4b\u8bd5\u5206\u6570\uff0csum \u4e3a\u603b\u5206\u3002\n\n### \u4f53\u8d28\u6d4b\u8bd5\n\n\u540c\u4e13\u9879\u6210\u7ee9\uff0c\u76f4\u63a5\u8f93\u5165\u5373\u53ef\u3002\n\n### \u5927\u4e00\u4e13\u9879\n\n\u8fd9\u4e2a\u5206\u6570\u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u4e00\u90e8\u5206\u4e3a\u76f4\u63a5\u7ed9\u51fa\uff0c\u53e6\u4e00\u90e8\u5206\u9760\u51fa\u52e4\u6b21\u6570\u52a0\u4e0a\u9633\u5149\u8dd1\u6b65\u6210\u529f\u6b21\u6570\u3002\n\n\u6240\u4ee5\u6211\u4eec\u5148\u5c06\u51fa\u52e4\u6b21\u6570\u8bb0\u5f55\u4e0b\u6765\u6700\u540e\u52a0\u4e0a\u9633\u5149\u8dd1\u6b65\u6b21\u6570\u3002\n\n```cpp\n\t\tcin >> q[cnt].Is;//\u4f53\u8d28\u662f\u5426\u5408\u683c\n\t\tif(q[cnt].Is == 'P') q[cnt].phi = 10;\n\t\telse q[cnt].phi = 0; \n\t\tq[cnt].sum += q[cnt].phi;\n\t\tq[cnt].Fir = read();//\u7b2c\u4e00\u90e8\u5206\u5206\n\t\tq[cnt].sum += q[cnt].Fir;\n\t\tq[cnt].Cla = read();//\u51fa\u52e4\u6b21\u6570\n```\n## \u9633\u5149\u8dd1\u6b65\uff08\u672c\u9898\u96be\u70b9\uff09\n\n\u5982\u679c\u76f4\u63a5\u7528\u4e24\u6b21\u65f6\u95f4\u6bd4\u8f83\uff0c\u6211\u4eec\u4f1a\u4ea7\u751f\u8bb8\u591a\u7684\u7279\u5224\u6761\u4ef6\u3002\u5341\u5206\u9ebb\u70e6\u4e14\u6613\u9519\u3002\u6240\u4ee5\u6211\u4eec\u4e0d\u5982\u5c06\u65f6\u95f4\u8f6c\u5316\u6210\u79d2\uff0c\u9898\u76ee\u4e2d\u5df2\u7ecf\u8bf4\u5230\u65f6\u95f4\u4e3a 2017 \u5e74\u6240\u4ee5\u6211\u4eec\u5e76\u4e0d\u9700\u8981\u8f6c\u5316\u95f0\u5e74\u6b64\u7c7b ex \u7684\u7279\u5224\u3002\u82e5\u6211\u4eec\u5c06\u5176\u8f6c\u5316\u6210\u79d2\uff08\u5230 2017.1.1)\uff0c\u9700\u8981\u4e00\u4e2a\u5927\u5c0f\u4e3a $365 * 24 * 60 * 60 = 31104000$ \u7684\u6570\u50a8\u5b58\uff0c\u663e\u7136\uff0c int \u80fd\u505a\u5230\u8fd9\u4e00\u5207\u3002\n\nP.S. \u672c\u4eba\u8f83\u7b28\uff0c\u5c31\u7528\u6734\u7d20\u65b9\u6cd5\u8f6c\u5316\u6210\u79d2\u4e86\uff0c\u5e94\u8be5\u5f88\u597d\u7406\u89e3\u3002\n\n```cpp\nint to_second(int x , int a , int b , int c) {\n\t//x\u4e3a\u65e5\u671f,abc,\u5206\u522b\u4e3ah min s\n\tint ans = 0;\n\tx = x % 10000;\n\tint mon = x / 100,day = x % 100;\n\tif(mon == 1) {\n\t\tans += (day - 1) * 24 * 60 * 60;\n\t}\n\telse if(mon ==  2) {\n\t\tans += 31 * 24 * 60 * 60;\n\t\tans += (day - 1) * 24 * 60 * 60;\n\t}\n\telse if(mon ==  3) {\n\t\tans += 31 * 24 * 60 * 60;\n\t\tans += 29 * 24 * 60 * 60;\n\t\tans += (day - 1) * 24 * 60 * 60;\n\t}\n\telse if(mon ==  4) {\n\t\tans += 31 * 24 * 60 * 60;\n\t\tans += 29 * 24 * 60 * 60;\n\t\tans += 31 * 24 * 60 * 60;\n\t\tans += (day - 1) * 24 * 60 * 60;\n\t}\n\telse if(mon ==  5) {\n\t\tans += 31 * 24 * 60 * 60;\n\t\tans += 29 * 24 * 60 * 60;\n\t\tans += 31 * 24 * 60 * 60;\n\t\tans += 30 * 24 * 60 * 60;\n\t\tans += (day - 1) * 24 * 60 * 60;\n\t}\n\tans += a * 60 * 60 + b * 60 + c;\n\treturn ans;\n}\n```\n\u4ee5\u6b64\u7c7b\u63a8\u5373\u53ef\u3002\n\n\u518d\u770b\u5230\u6211\u4eec\u7684 $n$ \u662f $4000$ \u7684\u7528 sort \u8981\u7528\u5230\u5b57\u7b26\u4e32\u7684\u6bd4\u8f83\uff0c\u6240\u4ee5\u6211\u5c31\u5728 sort \u4e4b\u524d\u63d0\u524d\u628a\u4e0d\u5408\u9002\u7684\u7b5b\u6389\uff0c\u6700\u540e\u5224\u65ad\u95f4\u9694\u65f6\u95f4\u3002\n\n```cpp\nbool cmp(Q a , Q b) {\n\tif(a.id != b.id) return a.id < b.id;\n   //\u5148\u6309\u7167\u5b66\u53f7\u6392\n\treturn a.Ed < b.Ed;\n   //\u518d\u6309\u7167\u7ec8\u6b62(\u8d77\u59cb\u4e5f\u53ef\u4ee5)\u6392\u5e8f\n} \n```\n\n```cpp\nint last;\n\tfor(int i = 1 ; i <= n ; i ++) {\n\t\t\n\t\tq[i].Sun = 1;last = fk[++tot].Ed;\n\t\tfor(int j = 2 ; j <= bow[i] ; j ++) {\n        //bow\u662fi\u9664\u95f4\u9694\u65f6\u95f4\u7684\u5408\u6cd5\u4e2a\u6570\n\t\t\ttot ++;\n\t\t\tint st = fk[tot].St;\n\t\t\tif(st - last >= 6 * 60 * 60) q[i].Sun ++,last = fk[tot].Ed;\n\t\t\t//,cout << tot << endl;\n\t\t\t\n\t\t}\n\t}\n```\n\u73b0\u5728\u518d\u7b5b\u95f4\u9694\u65f6\u95f4\u5c31\u5341\u5206\u65b9\u4fbf\u5566\u3002\n\n\u9700\u8981\u6ce8\u610f\u7684\u662f last\uff08\u4e0a\u6b21\u5408\u6cd5\u7684\u7ed3\u675f\u65f6\u95f4\uff09\u5fc5\u987b\u8981\u5728\u5408\u6cd5\u7d2f\u8ba1\u7b54\u6848\u7684\u65f6\u5019\u518d\u66f4\u65b0\u3002\n\n\u7531\u4e8e\u4ee3\u7801\u91cf\u8fc7\u957f\uff089kb\uff09\uff0c\u8fd9\u91cc\u5c31\u4e0d\u518d\u7c98\u51fa\u6765\u4e86\u3002",
        "postTime": 1626424088,
        "uid": 122757,
        "name": "PrefixAMS",
        "ccfLevel": 5,
        "title": "P7426 \u5e26\u6a21\u62df\u9898\u89e3"
    }
]