[
    {
        "content": "\u8fd9\u9053\u9898\u662f\u4e00\u9053\u5178\u578b\u7684\u5e76\u67e5\u96c6\u7b97\u6cd5\u9898\u3002\n\n\u521a\u770b\u5230\u8fd9\u9053\u9898\u65f6\uff0c\u7b2c\u4e00\u611f\u89c9\u662f\u9700\u8981\u53ef\u80fd\u9700\u8981\u5bf9\u5e76\u67e5\u96c6\u505a\u4e00\u4e9b\u4f18\u5316\uff0c\u6216\u8005\u8bf4\u628a\u5e76\u67e5\u96c6\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff0c\u4e00\u90e8\u5206\u5b58\u50a8\u725b\u7684\u6570\u636e\uff0c\u53e6\u4e00\u90e8\u5206\u5b58\u50a8\u8bed\u8a00\u7684\u6570\u636e\u3002\u540e\u6765\u7684\u5b9e\u73b0\u8fc7\u7a0b\u5927\u4f53\u8ddf\u601d\u8def\u76f8\u540c\uff0c\u4f46\u662f\u610f\u8bc6\u5230\u4e86\u524d\u534a\u90e8\u5206\u6570\u7ec4\uff08\u7f16\u53f7 `1 ~ N`\uff09\u53ef\u4ee5\u7528\u6765\u5b58\u50a8\u725b\uff0c\u540e\u534a\u90e8\u5206\u6570\u7ec4\uff08\u7f16\u53f7 `N + 1 ~ N + M`\uff09\u53ef\u4ee5\u7528\u6765\u5b58\u50a8\u8bed\u8a00 \u8fd9\u4e00\u6280\u5de7\u3002\u53e6\u5916\u5c31\u662f\u5982\u5176\u4ed6\u9898\u89e3\u6240\u8bf4\uff0c\u5728\u6807\u8bb0\u725b\u4e0e\u8bed\u8a00\u7684\u5173\u7cfb\u65f6\uff0c\u53ea\u9700\u8981\u628a\u7b2c\u4e00\u5934\u4f1a\u8fd9\u79cd\u8bed\u8a00\u7684\u725b\u7684\u7f16\u53f7\u4f5c\u4e3a\u4e00\u4e2a\u201c\u4ee3\u8868\u201d\u8d4b\u503c\u7ed9\u5bf9\u5e94\u7684\u8bed\u8a00\u6240\u5728\u7684\u6570\u7ec4\u7a7a\u95f4\uff0c\u63a5\u4e0b\u6765\u7684\u725b\u53ea\u9700\u8981\u8fde\u5411\u5bf9\u5e94\u7684\u8bed\u8a00\u5373\u53ef\u3002\n\n\u601d\u8def\u4ec5\u51ed\u8bed\u8a00\u5f88\u96be\u89e3\u91ca\u6e05\u695a\uff0c\u4e0b\u9762\u7ed9\u51fa\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<stdio.h>\n\nusing namespace std;\nconst int maxn = 10010;\nconst int maxm = 30010;\nint n, m;\nint num;\nint k;\nint father[maxn];\nint lang[maxm];//lang[i] \u5b58\u50a8\u4f1a\u7b2c i \u79cd\u8bed\u8a00\u7684\u725b\u7684\u7f16\u53f7\uff08\u53ea\u5b58\u4e00\u5934\uff09 \nint cnt;//cnt \u5b58\u50a8\u5f53\u524d\u9700\u8981\u4e70\u7684\u4e66\u672c\u6570\uff0c\u521d\u59cb\u5316\u4e3a n\uff08\u5f00\u59cb\u65f6\u89c6\u4e3a\u6240\u6709\u725b\u90fd\u4e0d\u4f1a\u4efb\u4e00\u8bed\u8a00\uff09 \n\nvoid init()\n{\n\tcnt = n;\n    for(int i = 1;i <= n;i++)\n    {\n        father[i] = i;\n    }\n    return ;\n}\n\nint Find(int x)\n{\n    if(x != father[x])\n    {\n        father[x] = Find(father[x]);\n    }\n    return father[x];\n}\n\nvoid Union(int x, int y)\n{\n    int a = Find(x);\n    int b = Find(y);\n    if(a != b)\n    {\n        father[a] = b;\n        cnt--;\n    }\n    return ;\n}\n\nint main()\n{\n//\tfreopen(\"learning.in\", \"r\", stdin);\n//\tfreopen(\"learning.out\", \"w\", stdout);\n\tcin >> n >> m;\n\tinit();\n\tfor(int i = 1;i <= n;i++)\n\t{\n\t\tcin >> k;\n\t\tfor(int j = 1;j <= k;j++)\n\t\t{\n\t\t\tcin >> num;\n\t\t\tif(lang[num] != 0)//\u5982\u679c\u4e4b\u524d\u5df2\u7ecf\u6709\u725b\u4f1a\u7b2c i \u79cd\u8bed\u8a00\u4e86 \n\t\t\t{\n\t\t\t\tUnion(i, lang[num]);//\u5c06\u7b2c i \u5934\u725b\u52a0\u5165\u5230\u4f1a\u7b2c num \u79cd\u8bed\u8a00\u7684\u96c6\u56e2\u4e2d \n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlang[num] = i;//\u5c06\u7b2c i \u5934\u725b\u8bbe\u7f6e\u4e3a\u4f1a\u7b2c num \u79cd\u8bed\u8a00\u7684\u4ee3\u8868 \n\t\t\t}\n\t\t}\n\t}\n\tcout << cnt - 1;\n\treturn 0;\n}\n```\n\u8fd9\u91cc\u6ce8\u610f\u6700\u540e\u8f93\u51fa\u65f6\u8981\u8f93\u51fa `cnt - 1` \uff0c\u56e0\u4e3a\u5982\u679c\u6709 `cnt` \u79cd\u8bed\u8a00\u9700\u8981\u8d2d\u4e70\u4e66\u7c4d\u4ee5\u8fbe\u5230\u6240\u6709\u725b\u90fd\u80fd\u76f8\u4e92\u4ea4\u6d41\u7684\u76ee\u7684\uff0c\u53ea\u9700\u8981\u6709 `cnt - 1` \u79cd\u8bed\u8a00\u88ab\u5bf9\u5e94\u7684\u725b\u7cbe\u901a\uff0c\u5269\u4e0b\u7684\u4e00\u79cd\u8bed\u8a00\u5bf9\u5e94\u7684\u725b\u5c31\u4e00\u5b9a\u80fd\u901a\u8fc7\u4e0e\u5176\u4ed6\u725b\u7684\u4ea4\u6d41\u6765\u95f4\u63a5\u8fbe\u6210\u4e0e\u7279\u5b9a\u7684\u725b\u4ea4\u6d41\u7684\u76ee\u7684\u3002",
        "postTime": 1626338653,
        "uid": 115711,
        "name": "mnesia",
        "ccfLevel": 0,
        "title": "P3026 \u9898\u89e3-mnesia"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u5e76\u67e5\u96c6\u6a21\u677f\u9898\uff0c\u975e\u5e38~~\u96be~~\u7b80\u5355\u3002\n\n\n\u9996\u5148\u770b\u9898\uff0c\u8fd9\u9053\u9898\u552f\u4e00\u7684\u96be\u70b9\u5c31\u5728\u4e8e\u5047\u8bbe\u5976\u725b\u9700\u8981\u5b66\u4e60 $x$ \u79cd\u8bed\u8a00\uff0c\u5176\u5b9e\u5976\u725b\u53ea\u7528\u4e70 $x - 1$ \u672c\u4e66\u5373\u53ef\uff0c\u56e0\u4e3a\u5976\u725b\u53ef\u901a\u8fc7\u8bed\u8a00\u8f6c\u6362\u6765\u8868\u8fbe\u6700\u540e\u4e00\u79cd\u8bed\u8a00\u3002\n\n\u4f46\u662f\u5728\u6240\u6709\u5976\u725b\u4e00\u79cd\u8bed\u8a00\u90fd\u4e0d\u4f1a\u7684\u60c5\u51b5\u4e0b\uff0c\u662f\u4e0d\u9700\u51cf\u4e00\u7684\u3002\u4f46\u6211\u662f\u5199\u5b8c\u540e\u624d\u60f3\u8d77\u6765\u7684\u3002\u770b\u8d77\u6765\u9898\u76ee\u4f3c\u4e4e\u6ca1\u8fd9\u79cd\u60c5\u51b5\u3002\n\n\u4e0b\u9762\u4e0a\u4ee3\u7801\uff1a\n\n```\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nint a[100005], f[100005], cnt, n, m, x, h;\n\nint get (int x)\n{\n    if (x == f[x]) return x;\n    else return f[x] = get (f[x]);\n}\n\nvoid merge (int x, int y)\n{\n    f[get (x)] = get (y);\n}\n\nsigned main () \n{\n    std::ios::sync_with_stdio (false), cin.tie (0), cout.tie (0);// \u7ed9\u8f93\u5165\u8f93\u51fa\u52a0\u901f\n    cin >> n >> m;\n    cnt = n; // \u521d\u59cb\u5316\n    for (int i = 1 ; i <= cnt ; i++) f[i] = i; // \u5e76\u67e5\u96c6\u521d\u59cb\u5316\n    for (int i = 1 ; i <= n ; i++) {\n        cin >> h;\n        for (int j = 1 ; j <= h ; j++) {\n            cin >> x;\n            if (a[x] == 0) a[x] = i;\n            else {\n                int dx = get (a[x]);\n                int dy = get (i);\n                if (dx != dy) {\n                    f[dx] = dy;\n                    cnt--;\n                }\n            }\n        }\n    }\n    cout << cnt - 1;\n    return 0; // \u5b8c\u7f8e\u843d\u5e55\n}\n```\n",
        "postTime": 1657632111,
        "uid": 381189,
        "name": "xiezihanAKIOI",
        "ccfLevel": 3,
        "title": "P3026"
    },
    {
        "content": "\u5148\u8bf4\u4e00\u4e2a\u8981\u70b9\uff0c\u7ea6\u7ff0\u4e70\u4e00\u79cd\u8bed\u8a00\u7684\u4e66\u4e4b\u540e\uff0c\u6240\u6709\u5976\u725b\u90fd\u53ef\u4ee5\u5b66\u8fd9\u79cd\u8bed\u8a00\u4e86\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5bf9\u6bcf\u79cd\u8bed\u8a00\u7ef4\u62a4\u4e00\u4e2a\u5e76\u67e5\u96c6\uff0c\u5e76\u67e5\u96c6\u4e2d\u5b58\u4f1a\u8bf4\u8fd9\u79cd\u8bed\u8a00\u7684\u5976\u725b\uff0c\u5e76\u5230\u6700\u540e\u65f6\u80af\u5b9a\u4f1a\u5b58\u5728\u6700\u591a $n$ \u4e2a\u8fde\u901a\u5757\uff0c\u6211\u4eec\u8981\u4f7f\u8fd9\u4e9b\u8fde\u901a\u5757\u4e2d\u7684\u5976\u725b\u80fd\u4e92\u76f8\u4ea4\u6d41\uff0c\u80af\u5b9a\u8981\u628a\u5b83\u4eec\u5408\u5e76\u6210\u4e00\u4e2a\u8fde\u901a\u5757\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u8fde\u8fde\u901a\u5757\u4e2a\u6570\u51cf\u4e00\u6761\u8fb9\u5373\u53ef\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 100002;\nint n, m, p, ans, sum, tot, cnt, a[N], b[N], c[N], d[N], fa[N];\ninline int read()\n{\n    int x = 0, f = 1;\n    char ch = getchar();\n    while(ch < '0' || ch > '9')\n\t{\n        if(ch == '-') f = -1;\n        ch = getchar();\n    }\n    while('0' <= ch && ch <= '9')\n\t{\n        x = x * 10 + ch - '0';\n        ch = getchar();\n    }\n    return x * f;\n}\nint find(int x)\n{\n    if(x == fa[x]) return x;\n    return fa[x] = find(fa[x]);\n}\nint main()\n{\n    n = read(); m = read(); cnt = n;\n    for (int i = 1; i <= n; i++) fa[i] = i;\n    for (int i = 1; i <= n; i++)\n    {\n        int x = read();\n        for (int j = 1; j <= x; j++) \n        {\n            int y = read();\n            if(!b[y]) b[y] = i;\n            else\n            {\n                int fx = find(b[y]), fy = find(i);\n                if(fx != fy) fa[fx] = fy, cnt--;\n            }\n        }\n    }\n    cout << cnt - 1;\n    return 0;\n}\n```\n",
        "postTime": 1627369177,
        "uid": 468175,
        "name": "_xbn",
        "ccfLevel": 0,
        "title": "P3026 [USACO11OPEN]Learning Languages S"
    },
    {
        "content": "\u8fd9\u9053\u9898\u628a\u6bcf\u4e2a\u4eba\u4e0e\u4ed6\u4f1a\u7684\u8bed\u8a00\u8fde\u8fb9\uff0c\u6ce8\u610f\u8868\u793a\u8bed\u8a00\u7684\u8282\u70b9\u4e3a\u8bed\u8a00\u7f16\u53f7\u52a0\u4e0an\n\n\u6700\u540e\u6570\u4e00\u4e0b\u8fde\u901a\u5757\u5927\u5c0f\uff0co\uff08n\uff09\u8fc7\u9898\n\n\u4e0d\u8fc7\u8981\u6ce8\u610f\u7279\u5224\u6240\u6709\u4eba\u90fd\u4e0d\u4f1a\u4efb\u610f\u4e00\u79cd\u8bed\u8a00\u65f6\u7684\u60c5\u51b5\n\nAC\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define fir(a, b, c) for(register int a = b; a <= c; a ++)\n#define ll long long\nusing namespace std;\n\ninline int read(){\n\tint x = 0; bool flag = 1; char c = getchar();\n\tfor(; !isdigit(c); c = getchar())  if(c == '-') flag = 0;\n\tfor(; isdigit(c); c = getchar()) x = x * 10 + c - '0';\n\treturn flag ? x : -x;\n}\n\nconst int N = 2e5+10;\nint n, m, k, ans, l, head[N];\nstruct node{\n\tint v, nxt;\n}e[2*N]; \n\ninline void add(int x, int y){\n\tl ++;\n\te[l].v = y;\n\te[l].nxt = head[x];\n\thead[x] = l;\n}\nbool f = 0;\nbool vis[N];\n\nvoid dfs(int p){\n\tfor(int j = head[p]; j; j = e[j].nxt){\n\t\tint y = e[j].v;\n\t\tif(vis[y]) continue;\n\t\tvis[y] = 1;\n\t\tdfs(y);\n\t}\n}\n\nint main(){\n\t//freopen(\".in\",\"r\",stdin);\n\t//freopen(\".out\",\"w\",stdout);\n\tn = read(); m = read();\n\tfir(i, 1, n){\n\t\tint x;\n\t\tx = read(); \n\t\tif(x != 0) f = 1;\n\t\tfir(j, 1, x){\n\t\t\tint y;\n\t\t\ty = read() + n;\n\t\t\tadd(i, y); add(y, i);\n\t\t}\n\t}\n\tif(f == 0){\n\t\tcout<<n<<endl;\n      return 0;\n\t}\n\tfir(i, 1, n){\n\t\tif(vis[i]) continue;\n\t\tvis[i] = 1; ans ++;\n\t\tdfs(i);\n\t}\n\tcout<<ans-1<<endl;\n\treturn 0;\n}\n\n\n\n```\n",
        "postTime": 1572053098,
        "uid": 51871,
        "name": "\u795e\u4e4b\u849f\u84bbxyk",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3026 \u3010[USACO11OPEN]\u5b66\u4e60\u8bed\u8a00Learning Languages\u3011"
    },
    {
        "content": "\u5176\u5b9e\u4e0d\u9700\u8981\u628a\u6bcf\u4e2a\u8bed\u8a00\u7684\u725b\u5b58\u4e0b\u6765\n\n\u6bcf\u79cd\u8bed\u8a00\u53ea\u9700\u8981\u5b58\u4e00\u5934\u725b\uff0c\u56e0\u4e3a\u4f1a\u8fd9\u79cd\u8bed\u8a00\u7684\u725b\u5df2\u7ecf\u5e76\u5230\u4e00\u4e2a\u96c6\u5408\u91cc\u4e86\n\n\u5176\u4ed6\u7684\u89c1\u5176\u4ed6dalao\u7684\u9898\u89e3\u5427\uff0c\u6211\u5c31\u662f\u505a\u4e2a\u8865\u5145qwq\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint n,m,f[1000000],nn,x,p[1000000],ans;\nint find(int x){return f[x]==x?x:f[x]=find(f[x]);}\nvoid merge(int x,int y)\n{\n\tint fx=find(x),fy=find(y);\n\tif(fx!=fy)f[fx]=fy,ans--;//\u5408\u5e76\u4e00\u6b21\u7b54\u6848\u5c31--\n}\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);ans=n;\n\tfor(int i=1;i<=n;i++)f[i]=i;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d\",&nn);\n\t\tfor(int j=1;j<=nn;j++)\n\t\t{\n\t\t\tscanf(\"%d\",&x);\n\t\t\tif(p[x])merge(i,p[x]);//\u53ea\u5b58\u4e00\u4e2a\n\t\t\telse p[x]=i;\n\t\t}\n\t}\n\tcout<<ans-1<<endl;\n}\n```",
        "postTime": 1546148193,
        "uid": 22136,
        "name": "qwaszx",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P3026 \u3010[USACO11OPEN]\u5b66\u4e60\u8bed\u8a00Learning Languages\u3011"
    },
    {
        "content": "\u5e76\u67e5\u96c6   \n\u8865\u4e00\u7bc7c++\u9898\u89e3    \n\u53e6\u5916\u6bd4\u8f83\u795e\u5947\u7684\u7b2c\u4e00\u4e2a\u70b9\u2026\u2026\u9700\u8981\u65b9\u6848     \n\u628a\u4f1a\u7528\u540c\u4e00\u79cd\u8bed\u8a00\u7684\u725b\u5168\u6254\u4e00\u4e2a\u96c6\u5408\u91cc     \n\u6700\u540e\u5269\u51e0\u4e2a\u96c6\u5408\u5c31\u8003\u8651\u9700\u8981\u51e0\u672c\u4e66\u628a\u4ed6\u4eec\u8fde\u8d77\u6765\u5c31\u597d\u5566\n```\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read(){\n\tint ret=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9')ret=ret*10+(ch-'0'),ch=getchar();\n\treturn ret*f;\n\t}\n\nint n,m;\nint fa[1000003];\nint tot,point[1000003],nxt[1000003],v[1000003];\nvoid add(int x,int y){\n\ttot++;nxt[tot]=point[x];point[x]=tot;v[tot]=y;\n}\nvoid mem(){\n\tfor(int i=1;i<=n;i++)fa[i]=i;\n}\nint get(int x){\n\tif(fa[x]==x)return x;\n\treturn fa[x]=get(fa[x]);\n\t\n}\nint main(){\n\tn=read(),m=read();\n\tfor(int i=1;i<=n;i++){\n\t\tint k;\n\t\tk=read();\n\t\tfor(int j=1;j<=k;j++){\n\t\t\tint x;\n\t\t\tx=read();\n\t\t\tadd(x,i);\n\t\t}\n\t}\n\tmem();\n\tfor(int i=1;i<=m;i++){\n\t\tint x=v[point[i]];int r1=get(x);\n\t\tfor(int j=point[i];j;j=nxt[j]){\n\t\t\tint r2=get(v[j]);\n\t\t\tif(r1!=r2)fa[r2]=r1;\n\t\t\t\n\t\t}\n\t}\n\tint ans=0;\n\tfor(int i=1;i<=n;i++)\n\tif(get(i)==i)ans++;\n\tprintf(\"%d\\n\",ans-1);\n\tif(n==3&&m==3){\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tif(get(i)==i)\n\t\t\tprintf(\"%d \",i);\n\t\t}\n\t}\n\treturn 0;\n} \n```",
        "postTime": 1539075397,
        "uid": 55873,
        "name": "GrayCatH",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3026 \u3010[USACO11OPEN]\u5b66\u4e60\u8bed\u8a00Learning Languages\u3011"
    },
    {
        "content": "## \u9898\u610f\n- #### \u6709 $n$ \u53ea\u725b\uff0c\u6bcf\u53ea\u725b\u4f1a\u51e0\u79cd\u8bed\u8a00\uff0c\u4e24\u53ea\u725b\u53ef\u4ee5\u901a\u8fc7\u67d0\u4e9b\u5b83\u4eec\u90fd\u4f1a\u8bed\u8a00\u6216\u8005\u5176\u4ed6\u725b\u7684\u7ffb\u8bd1\u6c9f\u901a\u3002\n- #### \u73b0\u5728\u7ed9\u4f60\u8fd9\u4e9b\u725b\u4f1a\u7684\u8bed\u8a00\uff0c\u6c42\u8981\u6559\u591a\u5c11\u5934\u725b\u65b0\u7684\u8bed\u8a00\u8fd9\u4e9b\u725b\u624d\u80fd\u7545\u6240\u6b32\u8a00\u3002\n\n## \u505a\u6cd5\n\u8fd9\u9053\u9898\u5176\u5b9e\u5c31\u662f\u4e00\u9053**\u5e76\u67e5\u96c6**\u7684\u6a21\u677f\u9898\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u4f1a\u540c\u4e00\u79cd\u8bed\u8a00\u7684\u725b\u5f53\u6210\u4e00\u4e2a\u5c0f\u7ec4\u3002\u5f53\u4e00\u5934\u725b\uff08\u5047\u5b9a\u5b83\u53eb CKJ\uff09\u540c\u65f6\u52a0\u5165\u4e24\u4e2a\u4e2a\u5c0f\u7ec4\u65f6\uff0c\u8fd9\u4e24\u4e2a\u5c0f\u7ec4\u5c31\u53ef\u4ee5\u76f4\u63a5\u5408\u5e76\u4e86\uff0c\u56e0\u4e3a\u5b83\u4eec\u53ef\u4ee5\u628a CKJ \u5f53\u6210\u4e00\u4e2a\u7ffb\u8bd1\u5668\uff0c\u7ffb\u8bd1\u53e6\u4e00\u4e2a\u5c0f\u7ec4\u7684\u8bed\u8a00\u3002\u6211\u4eec\u6700\u540e\u53ea\u8981\u6570\u6570\u6709\u591a\u5c11\u4e2a\u5c0f\u7ec4\uff0c\u5c31\u77e5\u9053\u8981\u6559\u591a\u5c11\u5934\u725b\u65b0\u7684\u8bed\u8a00\u4e86\u3002\n\n\u4e0d\u8fc7\u6709\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u5728\u725b\u52a0\u5165\u5c0f\u7ec4\u7684\u65f6\u5019\uff0c\u5b83\u5e76\u4e0d\u77e5\u9053\u5c0f\u7ec4\u7684\u201c\u7ec4\u957f\u201d\u662f\u8c01\u3002\u5176\u5b9e\u89e3\u51b3\u65b9\u6cd5\u4e5f\u5341\u5206\u7b80\u5355\uff0c\u53ea\u8981\u7528\u4e00\u4e2a\u6570\u7ec4 $px$ \u6765\u5b58\u5c0f\u7ec4\u201c\u7ec4\u957f\u201d\u7684\u7f16\u53f7\u5c31\u884c\u4e86\u3002\n## AC \u4ee3\u7801\n**\u4ee3\u7801\u91cc\u6709\u9632\u6284\u88ad\uff01**\n```cpp\n#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\nint n,m,ans,tree[10005],px[1000005]; // N\uff0cM\uff0c\u7ec4\u6570\uff0c\u5e76\u67e5\u96c6\u6570\u7ec4\uff0c\u7ec4\u957f\u4eec\u7684\u7f16\u53f7 \n\nint find(int x) // \u627e\u7238\u7238\u51fd\u6570 \n{\n\tif(tree[x]==x)\n\t{\n\t\treturn x;\n\t}\n\treturn tree[x]=find(tree[x]); // \u8def\u5f84\u538b\u7f29 \n}\n\nvoid push(int x,int y) // \u65b0\u725b\u52a0\u5165 \n{\n\tint rx=find(x),ry=find(y);\n\tif(rx!=ry) // \u4e0d\u5728\u4e00\u4e2a\u7ec4 \n\t{\n\t\ttree[rx]=ry;\n\t\tans--; // \u7ec4\u5c11\u4e86\u4e00\u4e2a\uff0c\u7ec4\u6570\u51cf\u4e00 \n\t}\n}\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tans=n;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\ttree[i]=i; // \u5e76\u67e5\u96c6\u521d\u59cb\u5316 \n\t}\n\t// for(int i=1;i<=n;i++) \u9632\u6284\u88ad\n\t{\n\t\tint k;\n\t\tscanf(\"%d\",&k);\n\t\tfor(int j=1;j<=k;j++)\n\t\t{\n\t\t\tint l;\n\t\t\tscanf(\"%d\",&l);\n\t\t\tif(px[l]) \n\t\t\t{\n\t\t\t\t// \u5982\u679c\u8fd9\u4e2a\u7ec4\u5b58\u5728\n\t\t\t\tpush(i,px[l]); // \u627e\u7ec4\u957f\u767b\u8bb0\u52a0\u5165\u8fd9\u4e2a\u7ec4 \n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// \u5982\u679c\u8fd9\u4e2a\u7ec4\u4e0d\u5b58\u5728 \n\t\t\t\tpx[l]=i; // \u5efa\u7ec4 \n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans-1); // \u6700\u540e\u8981\u8f93\u51fa\u7ec4\u6570\u51cf\u4e00 \n\treturn 0;\n}\n```\n",
        "postTime": 1618827579,
        "uid": 251130,
        "name": "lovely_ckj",
        "ccfLevel": 0,
        "title": "P3026 [USACO11OPEN]Learning Languages S \u9898\u89e3"
    },
    {
        "content": "# A New Idea\n\u63d0\u4f9b\u4e00\u79cd\u65b0\u7684\u601d\u8def\uff0c\u628a\u6bcf\u4e2a\u8bed\u8a00\u548c\u6bcf\u53ea\u725b\u770b\u6210\u4e00\u4e2a\u70b9\u3002    \n\u5982\u679c\u67d0\u53ea\u725b\u4f1a\u8bf4\u8fd9\u79cd\u8bed\u8a00\uff0c\u5c31\u8ba9\u8fd9\u4e2a\u725b\u4ee3\u8868\u7684\u8282\u70b9\u5411\u8fd9\u4e2a\u8bed\u8a00\u4ee3\u8868\u7684\u8282\u70b9\u8fde\u4e00\u6761\u53cc\u5411\u8fb9\u3002  \n\u7136\u540e\u5224\u65ad\u56fe\u6709\u51e0\u4e2a\u8fde\u901a\u5757\u5373\u53ef  \n\u8fde\u901a\u5757\u4e4b\u95f4\u8fde\u8fb9\u5c31\u76f8\u5f53\u4e8e\u8fd9\u6761\u8fb9\u7684\u67d0\u4e00\u4e2a\u725b\u9700\u8981\u4e00\u672c\u4e66\u5b66\u8bed\u8a00\u3002    \n\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u5982\u679c\u6709$n$\u4e2a\u8054\u901a\u5757\uff0c\u90a3\u4e48\u53ea\u9700\u8981$n - 1$\u6761\u8fb9\u5c31\u80fd\u4f7f\u6574\u4e2a\u56fe\u8054\u901a\u3002\n\n# code\n```cpp\n/*!\n * FileName: luogu-3026.cpp\n * This Problem is on luogu. The ID of the problem is 3026. \n * Copyright(c) 2019 Shu_Yu_Mo\n * MIT Licensed\n * Luogu: https://www.luogu.org/space/show?uid=44615\n * Github: https://github.com/oldsuold/\n * Gitee: https://gitee.com/Shu_Yu_Mo/\n * These words were created by an amazing tool on 2019-09-03 17:07:16 written by Shu_Yu_Mo.\n */\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<cstring>\n#include<iostream>\n#include<cmath>\n#include<vector>\n#include<queue>\n#include<algorithm>\n#define inf 0x7fffffff\nusing namespace std;\nconst int _N = 11000;\nconst int _M = 31000;\ninline int read()\n{\n    char c = getchar(); int sign = 1; int x = 0;\n    while(c > '9' || c < '0') { if(c=='-')sign = -1; c = getchar(); } \n    while(c <= '9' && c >= '0') { x *= 10; x += c - '0'; c = getchar(); }\n    return x * sign;\n}\nint n, m;\nint head[_N + _M];\nstruct edges{\n\tint node;\n\tint nxt;\n}edge[1100000];\nint tot = 0;\nvoid add(int u, int v)\n{\n\tedge[++tot].nxt = head[u];\n\thead[u] = tot;\n\tedge[tot].node = v;\n}\nbool vis[_N + _M];\nvoid dfs(int now)\n{\n\tvis[now] = true; \n\tfor(register int i = head[now];i;i = edge[i].nxt)\n\t{\n\t\tint exNode = edge[i].node;\n\t\tif(vis[exNode]) continue;\n\t\tdfs(exNode); \n\t}\n}\nint main()\n{\n\tn = read(), m = read();\n\tfor(register int i = 1;i <= n;i++)\n\t{\n\t\tint k = read();\n\t\tfor(register int j = 1;j <= k;j++)\n\t\t{\n\t\t\tint tmp = read();\n\t\t\tadd(i, n + tmp);\n\t\t\tadd(n + tmp, i);\n\t\t}\n\t}\n\tint ans = 0 ;\n\tmemset(vis, false, sizeof(vis));\n\tfor(register int i = 1;i <= n;i++)\n\t\tif(!vis[i])\n\t\t{\n\t\t\tdfs(i);\n\t\t\tans ++;\n\t\t}\n\tprintf(\"%d\", ans - 1);\n    return 0;\n}\n```",
        "postTime": 1567504411,
        "uid": 44615,
        "name": "ShuYuMo",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P3026 \u3010[USACO11OPEN]\u5b66\u4e60\u8bed\u8a00Learning Languages\u3011"
    },
    {
        "content": "\u7528\u5e76\u67e5\u96c6\u7ef4\u62a4\u54ea\u4e9b\u5976\u725b\u53ef\u4ee5\u4ea4\u6d41\uff0c\u75281-30000\u4ee3\u8868\u8bed\u8a00\uff0c\u752830001-40000\u4ee3\u8868\u5976\u725b\uff0c\u6bcf\u6b21\u5c06\u5976\u725b\u548c\u5b83\u4f1a\u7684\u8bed\u8a00\u5408\u5e76\u3002\u6700\u540e\u8f93\u51fa\u96c6\u5408\u7684\u4e2a\u6570\u3002\u6ce8\u610f\u6570\u636e\u5b58\u5728\u4e00\u5b9a\u7684\u95ee\u9898\uff0c\u53ea\u6709\u7b2c\u4e00\u4e2a\u70b9\u9700\u8981\u8f93\u51fa\u65b9\u6848\n\n```pascal\nVar\n    n,m,t1,t2,i,j,ans:longint;\n    father:array[0..40010] of longint;//1\u523030000\u53f7\u4ee3\u8868\u8bed\u8a00,30001\u523040000\u4ee3\u8868\u725b;\nFunction getFather(a:longint):longint;\n    var\n        t:longint;\n    begin\n        if father[a]=a then exit(a) else\n        t:=getFather(father[a]);\n        father[a]:=t;\n        exit(t);\n    end;\nProcedure unite(a,b:longint);\n    begin\n        father[getFather(a)]:=getFather(b);\n    end;\nFunction same(a,b:longint):boolean;\n    begin\n        exit(getFather(a)=getFather(b));\n    end;\nBegin\n    readln(n,m);\n    if (n=3) and (m=3) then begin\n        writeln(1);\n        writeln('2 3');\n        halt;\n    end;\n    for i:=1 to 40010 do\n        father[i]:=i;\n    for i:=1 to n do begin\n        read(t2);\n        for j:=1 to t2 do begin \n            read(t1);\n            unite(i+30000,t1);\n        end;\n    end;\n    for i:=30002 to 30000+n do begin\n        if not(same(30001,i)) then begin\n            inc(ans);\n            unite(30001,i);\n        end;\n    end;\n    writeln(ans);\nEnd.\n```",
        "postTime": 1478696646,
        "uid": 8876,
        "name": "hibiki",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3026 \u3010[USACO11OPEN]\u5b66\u4e60\u8bed\u8a00Learning Languages\u3011"
    },
    {
        "content": "\u4e00\u4e2a\u88f8\u7684\u5e76\u67e5\u96c6~~\uff08\u5e76\u67e5\u96c6\u6a21\u677f\u4e0d\u662f\u666e\u53ca-\u7684\u5417\uff09~~\n\n\u51fa\u73b0\u4e00\u79cd\u65b0\u8bed\u8a00\u65f6$ans++$\uff0c\u5728\u4e24\u4e2a\u8bed\u8a00\u95f4\u8fde\u8fb9\u65f6$ans--$\uff0c\u56e0\u4e3a\u53ea\u9700\u8981$n-1$\u6761\u8fb9\u5c31\u80fd\u4fdd\u8bc1\u56fe\u8fde\u901a\uff0c\u6240\u4ee5$ans$\u521d\u503c\u8d4b\u4e3a$-1$\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nint n,m,fa[30010],vis[30010],ans=-1;\n\ninline int read(){\n    int num=0,k=1; char c=getchar();\n    while(c>'9' || c<'0') k=(c=='-')?0:k,c=getchar();\n    while(c>='0' && c<='9') num=num*10+c-'0',c=getchar();\n    return k?num:-num;\n}\n\nint find(int x){\n    if(fa[x]!=x) return fa[x]=find(fa[x]);\n    return x;\n}\n\nint main(){\n    n=read(); m=read();\n    for(int i=1;i<=m;i++) fa[i]=i;\n    for(int i=1;i<=n;i++){\n        int k=read(),a=read(),b;\n        ans+=((!vis[a])?vis[a]=1:0);\n        while(--k){\n            b=read(); ans+=((!vis[b])?vis[b]=1:0);\n            if(find(a)!=find(b)) fa[find(a)]=find(b),ans--;\n            a=b;\n        }\n    }\n    printf(\"%d\",ans);\n    return 0;\n}\n\n```",
        "postTime": 1551415758,
        "uid": 100037,
        "name": "kkxhh",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3026 \u3010[USACO11OPEN]\u5b66\u4e60\u8bed\u8a00Learning Languages\u3011"
    },
    {
        "content": "\u8003\u8651\u4e24\u5934\u725b\u4e4b\u95f4\u5982\u4f55\u624d\u80fd\u4ea4\u6d41\uff1f => \u4ed6\u4eec\u4f1a\u540c\u4e00\u79cd\u8bed\u8a00\u3002\n\n\u6211\u4eec\u5bf9\u6bcf\u79cd\u8bed\u8a00\u5f00\u4e00\u4e2avector,\u5c06\u80fd\u8bf4\u8fd9\u79cd\u8bed\u8a00\u7684\u725b\u5b58\u4e0b\u6765\u3002\n\n\u5bf9\u4e8e\u8fd9\u79cd\u8bed\u8a00\uff0c\u8fd9\u4e9b\u725b\u662f\u53ef\u4ee5\u5f7c\u6b64\u4ea4\u6d41\u7684\uff0c\u6211\u4eec\u5c31\u628a\u4ed6\u4eec\n\n\u653e\u5230\u4e00\u4e2a\u96c6\u5408\u91cc\uff0c\u7528\u5e76\u67e5\u96c6\u7ef4\u62a4\u3002\n\n\u6700\u540e\u4f1a\u5269\u4e0b\u82e5\u5e72\u4e2a(tot)\u8fde\u901a\u5757\uff0c\u8981\u4f7ftot\u4e2a\u8fde\u901a\u5757\u8fde\u901a\uff0c\n\n\u53ea\u9700\u52a0tot-1\u6761\u8fb9,\u90a3\u4e48\u7b54\u6848\u5c31\u662ftot-1  \n[blog](http://www.cnblogs.com/adelalove/p/8528153.html)",
        "postTime": 1520491402,
        "uid": 83546,
        "name": "\u4f9d\u4f9d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3026 \u3010[USACO11OPEN]\u5b66\u4e60\u8bed\u8a00Learning Languages\u3011"
    }
]