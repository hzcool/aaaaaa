[
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\u7ed9\u5b9a\u4e00\u4e2a $n \\times n$ \u7684\u65b9\u683c\uff0c\u53ea\u80fd\u4ece\u4e0b\u6216\u4ece\u53f3\u79fb\u52a8\u5f53\u524d\u683c\u5b50\u4e0a\u7684\u6570\u90a3\u4e48\u591a\u7684\u6b65\u6570\uff0c\u6c42\u51fa\u4ece\u5de6\u4e0a\u89d2\u5230\u53f3\u4e0b\u89d2\u7684\u65b9\u6848\u6570\u3002 \n## \u601d\u8def\n\u5bf9\u4e8e\u6c42\u65b9\u6848\u6570\u7684\u9898\u76ee\uff0c\u4e0d\u96be\u53d1\u73b0\u8fd9\u662f\u4e00\u9053 dp \u9898\u3002\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e5f\u975e\u5e38\u597d\u63a8\u3002\n\n\u8bbe $dp[i][j]$ \u8868\u793a\u73b0\u5728\u5728\u7b2c $i$ \u884c\u7b2c $j$ \u5217\u65f6\u7684\u65b9\u6848\u6570\uff0c\u7531\u9898\u610f\u5f97\uff1a\n\n\n $\\begin{Bmatrix}dp[i+g[i][j]][j]+=dp[i][j],i+g[i][j]\u2264n\\\\dp[i][j+g[i][j]]+=dp[i][j],j+g[i][j]\u2264n\\end{Bmatrix}$\n\n\n\u5176\u4e2d\u8fb9\u754c\u4e3a $dp[1][1]=1$,\u7b54\u6848\u4e3a $dp[n][n]$\u3002\n\n\u4f46\u662f\uff0c\u6211\u4eec\u53d1\u73b0\u9898\u76ee\u7684\u6570\u636e\u8303\u56f4\u6781\u5927\uff0c\u4e0d\u5f97\u4e0d\u7528\u9ad8\u7cbe\u5ea6\u3002\n\n\u4e8e\u662f\u2014\u2014\u4eba\u751f\u82e6\u77ed\uff0c\u6211\u7528 python!\n\n## code\n```python\ndp=[]\ng=[]\nfor i in range(0,110):\n    dp.append([])\n    g.append([])\n    for j in range(0,110):\n        dp[i].append(0)\nn=int(input())\nfor i in range(1,n+1):\n    g[i]=input().split()\n    g[i].append(int(g[i][n-1]))\n    for j in range(n-1,0,-1):\n        g[i][j]=int(g[i][j-1])\n    \ndp[1][1]=1\ng[n][n]=1\nfor i in range(1,n+1):\n    for j in range(1,n+1):\n        if(i+g[i][j]<=n):\n            dp[i+g[i][j]][j]+=dp[i][j]\n        if(j+g[i][j]<=n):\n            dp[i][j+g[i][j]]+=dp[i][j]\nprint(dp[n][n])\n```\n",
        "postTime": 1639751189,
        "uid": 399674,
        "name": "Naro_Ahgnay",
        "ccfLevel": 0,
        "title": "P7642 [BalticOI 2006 Day 2] JUMP THE BOARD! \u9898\u89e3"
    },
    {
        "content": "# P7642 \u9898\u89e3\n## Description\n\u7ed9\u5b9a\u4e00\u5f20 $n \\times n$ \u7684\u5730\u56fe $g$\uff0c\u6bcf\u6b21\u53ea\u80fd\u5411\u53f3\u6216\u8005\u5411\u4e0b\u79fb\u52a8\uff0c\u79fb\u52a8\u7684\u683c\u5b50\u6570\u4e3a\u5f53\u524d\u683c\u5b50\u91cc\u7684\u6570\u503c\uff0c\u6c42\u6709\u591a\u5c11\u79cd\u8def\u5f84\u80fd\u4ece $(1,1)$ \u5230\u8fbe $(n,n)$\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0ql0hhx0.png)\n\n## Solution\n\n\u6c34\u9898\u4e00\u9053\uff0c\u4f46\u8fd8\u662f\u4ece $0$ \u8bb2\u8d77\u5427\u3002\n\n\n\n### 70 pts\n\n\u5f88\u5e38\u89c1\u7684\u4e00\u79cd\u89e3\u6cd5\uff1adp\u3002\n\n\u8bbe\u8d70\u5230 $(i,j)$ \u7684\u65b9\u6848\u6570\u4e3a $f[i][j]$\u3002\n\n\u56e0\u4e3a\u4e0d\u786e\u5b9a\u4e0a\u4e00\u6b65\u4ece\u54ea\u6765\uff0c\u6240\u4ee5\u53ef\u4ee5\u8003\u8651\u4ece $(i,j)$ \u63a8\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5373\uff1a\n\n$$\\begin{cases}f[i+g[i][j]][j]=\\sum f[i][j]\\\\f[i][j+g[i][j]]=\\sum f[i][j]\\end{cases}$$\n\n\u8fd9\u6837\u505a\uff0c\u590d\u6742\u5ea6\u5c31\u662f $\\mathcal O(n^2)$\uff0c\u672c\u9898\u6570\u636e\u6781\u5c0f $n \\leq 100$\uff0c\u6240\u4ee5\u65f6\u95f4\u5f88\u7a33\u3002\n\n### code\n\n```cpp\nnamespace GG{\n\tll n,g[N][N],f[N][N];\n\tint main(){\n\t\tn=read();\n\t\tfor(ll i=1;i<=n;i++)\n\t\t\tfor(ll j=1;j<=n;j++)\n\t\t\t\tg[i][j]=read();\n\t\tg[n][n]=1;\n\t\tf[1][1]=1;\n\t\tfor(ll i=1;i<=n;i++)\n\t\t\tfor(ll j=1;j<=n;j++){\n//\t\t\t\tif(i+g[i][j]==n&&j+g[i][j]==n)printf(\"%lld %lld\\n\",i,j);\n\t\t\t\tif(i+g[i][j]<=n)f[i+g[i][j]][j]+=f[i][j];\n\t\t\t\tif(j+g[i][j]<=n)f[i][j+g[i][j]]+=f[i][j];\n\t\t\t}\n//\t\tfor(ll i=1;i<=n;i++,puts(\"\"))\n//\t\t\tfor(ll j=1;j<=n;j++)printf(\"%lld \",f[i][j]);\n\t\twriteln(f[n][n]);\n\t\treturn 0;\n\t}\n}\n```\n\n\n\n\u6ce8\u610f\u5230\u9898\u76ee\u91cc\u6709\u4e00\u53e5\u8bdd\uff1a\n\n> \u5408\u6cd5\u8def\u5f84\u7684\u6570\u91cf\u53ef\u80fd\u76f8\u5f53\u5927\u3002\u4f7f\u7528 $64$ \u4f4d\u6574\u6570\u53d8\u91cf\uff08C \u4e2d\u7684 `long long int`\uff0cPascal \u4e2d\u7684 `Int64`\uff09\u53ea\u80fd\u83b7\u5f97 $70 \\%$ \u7684\u5206\u6570\u3002\u53ef\u4ee5\u4fdd\u8bc1\u6240\u6709\u7684\u8f93\u5165\u5bfc\u81f4\u7684\u8def\u5f84\u6570\u53ef\u4ee5\u7528\u4e0d\u8d85\u8fc7 $100$ \u4f4d\u7684\u6570\u5b57\u5199\u51fa\u3002\n\n\n### 100pts\n\n\u8001\u8001\u5b9e\u5b9e\u7684\u7528\u9ad8\u7cbe\u5ea6\u5b9e\u73b0 $\\text{75 pts}$ \u7684\u7b97\u6cd5\uff01\n\n### code\n\n```cpp\n#define p *this\nconst ll MAX_SIZE=105;\nstruct Huge{\n\tstatic const ll pot=9;\n\tstatic const ll mod=1e9;\n\n\tll s[MAX_SIZE>>2],len;\n\tbool flag;\n\n\tHuge(){\n\t\tmemset(s,0,sizeof(s));\n\t\tflag=1;len=1;\n\t}\n\n\tinline void init(){\n\t\tmemset(s,0,sizeof(s));\n\t\tflag=1;len=1;\n\t}\n\n\tHuge operator = (int x){flag=(x>=0?1:0);x=abs(x);s[2]=x/mod;s[1]=x%mod;return p;}\n\tHuge operator = (string num){\n        ll l=num.size(),ed;\n        init();len=0;\n        if(num[0]=='-')flag=0,ed=1;\n        else flag=1,ed=0;\n        for(ll i=l-1;i>=ed;i-=pot){\n            ++len;\n            ll w=1;\n            for(ll j=i;j>i-pot&&j>=ed;j--){\n            \ts[len]+=(num[j]^48)*w;\n            \tw=(w<<3)+(w<<1);\n            }\n        }\n        return p;\n    }\n\n\tHuge operator + (Huge a){\n\t\tif(flag^a.flag)return a.flag^=1,(p-a);\n\t\tHuge c;\n\t\tc.len=max(len,a.len);\n\t\tc.flag=flag;\n\t\tfor(ll i=1;i<=c.len;i++){\n\t\t\tc.s[i]+=s[i]+a.s[i];\n\t\t\tif(c.s[i]>=mod){\n\t\t\t\tc.s[i]-=mod;\n\t\t\t\tc.s[i+1]++;\n\t\t\t}\n\t\t}\n\t\tif(c.s[c.len+1])c.len++;\n\t\treturn c;\n\t}\n\n\tHuge operator += (Huge a){\n\t\tp=p+a;\n\t\treturn p;\n\t}\n\tHuge operator /= (Huge a){\n\t\tp=p/a;\n\t\treturn p;\n\t}\n\n};\n\n\nostream& operator << (ostream &out,const Huge &a){\n\tif(!a.flag)putchar('-');\n\tprintf(\"%lld\",a.s[a.len]);\n\tfor(ll i=a.len-1;i>=1;i--)printf(\"%09lld\",a.s[i]);\n\treturn out;\n}\nnamespace GG{\n\tll n,g[N][N];\n\tHuge f[N][N];\n\tint main(){\n\t\tn=read();\n\t\tfor(ll i=1;i<=n;i++)\n\t\t\tfor(ll j=1;j<=n;j++)\n\t\t\t\tg[i][j]=read();\n\t\tg[n][n]=1;\n\t\tf[1][1]=1;\n\t\tfor(ll i=1;i<=n;i++)\n\t\t\tfor(ll j=1;j<=n;j++){\n//\t\t\t\tif(i+g[i][j]==n&&j+g[i][j]==n)printf(\"%lld %lld\\n\",i,j);\n\t\t\t\tif(i+g[i][j]<=n)f[i+g[i][j]][j]+=f[i][j];\n\t\t\t\tif(j+g[i][j]<=n)f[i][j+g[i][j]]+=f[i][j];\n\t\t\t}\n//\t\tfor(ll i=1;i<=n;i++,puts(\"\"))\n//\t\t\tfor(ll j=1;j<=n;j++)printf(\"%lld \",f[i][j]);\n\t\tcout<<f[n][n]<<endl;\n\t\treturn 0;\n\t}\n}\n```\n\n\u55ef\uff0c\u8fd9\u5c31\u7ed3\u675f\u4e86\uff0c\u53ef\u4ee5\u770b\u5230\u8fd9\u9898\u8fd8\u662f\u633a\u6c34\u7684\uff0c\u52a0\u4e2a\u9ad8\u7cbe\u5ea6\u800c\u5df2\uff08\n\n",
        "postTime": 1624878521,
        "uid": 291706,
        "name": "GspTools",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P7642 \u3010[BalticOI 2006 Day 2] JUMP THE BOARD!\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u8f83\u4e3a\u5165\u95e8\u7684\u8ba1\u6570 $\\text{DP}$ \u9898\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u660e\u767d\u6bcf\u5904\u4e8e\u4e00\u4e2a\u683c\u5b50\uff0c\u6211\u4eec\u6709\u4e24\u79cd\u8d70\u6cd5\uff1a\u5f80\u4e0b\u8d70\u6216\u5f80\u53f3\u8d70\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u660e\u767d\uff08\u6709\u70b9\u7c7b\u4f3c\u4e8e\u5c0f\u5965\u4e2d\u7684\u8df3\u53f0\u9636\u95ee\u9898\uff09\u5b83\u7684\u4e0b\u4e00\u6b65\u53ef\u4ee5\u7ee7\u627f\u5b83\u7684\u6240\u6709\u65b9\u6cd5\u6570\u3002\u6240\u4ee5\u72b6\u6001\u88c5\u58f9\u65b9\u57ce\u5c31\u5f88\u597d\u7406\u89e3\u4e86\uff1a\n\n\u8bbe $f_{i,j}$ \u4e3a\u8d70\u5230\u7b2c $i$ \u884c\u7b2c $j$ \u5217\u7684\u65b9\u6cd5\u6570\uff0c\u5219\n\n$$f_{i+a_{i,j},j}\\leftarrow f_{i+a_{i,j},j}+f_{i,j}$$\n\n$$f_{i,j+a_{i,j}}\\leftarrow f_{i,j+a_{i,j}}+f_{i,j}$$\n\n\u524d\u63d0\u662f\u4e0d\u8d85\u51fa\u683c\uff0c\u8fd8\u8981\u7279\u5224 $a_{i,j}=0$ \u7684\u60c5\u51b5\u3002\n\n**\u6ce8\uff1a\u672c\u9898\u6570\u636e\u8303\u56f4\u8f83\u5927\uff0c\u5e94\u4f7f\u7528\u9ad8\u7cbe\uff08\u4ec5\u9700\u652f\u6301\u52a0\u6cd5\u548c\u8f93\u51fa\uff09\u3002**\n\n\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\n\nconst int N=105;\n\nint n,a[N][N];\n\nstruct Bigint\n{\n\tint x[105];\n\tBigint()\n\t{\n\t\tmemset(x, 0, sizeof(x));\n\t\tx[0] = 1;\n\t}\n\tvoid print()\n\t{\n\t\tfor (int i = x[0]; i >= 1; i--)\n\t\t{\n\t\t\tcout << x[i];\n\t\t}\n\t\tcout << endl;\n\t}\n\tBigint operator+(const Bigint &B) const\n\t{\n\t\tBigint c;\n\t\tc.x[0] = max(x[0], B.x[0]);\n\t\tfor (int i = 1; i <= c.x[0]; i++)\n\t\t\tc.x[i] = x[i] + B.x[i];\n\t\tfor (int i = 1; i <= c.x[0]; i++)\n\t\t{\n\t\t\tc.x[i + 1] += c.x[i] / 10;\n\t\t\tc.x[i] %= 10;\n\t\t}\n\t\tif (c.x[c.x[0] + 1] > 0) c.x[0]++;\n\t\treturn c;\n\t}\n}f[N][N];\n\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tcin>>a[i][j];\n\tf[1][1].x[1]=1;\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tif(!a[i][j]) continue;\n\t\t\tif(i+a[i][j]<=n) f[i+a[i][j]][j]=f[i+a[i][j]][j]+f[i][j];\n\t\t\tif(j+a[i][j]<=n) f[i][j+a[i][j]]=f[i][j+a[i][j]]+f[i][j];\n\t\t}\n\tf[n][n].print();\n\treturn 0;\n}\n```\n\n**\u864e\u5e74\u7b2c\u4e00\u7bc7\u9898\u89e3\u82e5\u6709\u9519\u8bef\uff0c\u6b22\u8fce\u6307\u51fa\uff01**\n",
        "postTime": 1643723879,
        "uid": 304775,
        "name": "linyinuo2008",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P7642 \u3010[BalticOI 2006 Day 2] JUMP THE BOARD!\u3011"
    },
    {
        "content": "[\u9898\u76ee\u94fe\u63a5](/problem/P7642)\n\n\u9898\u76ee\u5927\u610f\uff1a\u7ed9\u5b9a $n\\times n$ \u7684\u77e9\u9635 $a$\uff0c\u4ece $(1,1)$ \u5f00\u59cb\uff0c\u6bcf\u6b21\u53ef\u5411\u4e0b\u6216\u53f3\u8d70 $a_{i,j}$ \u683c\uff0c\u6c42\u8d70\u5230 $(n,n)$ \u6709\u51e0\u79cd\u65b9\u6848\u3002\n\n\u8003\u8651 dp\u3002\u8bbe $f_{i,j}$ \u8868\u793a\u4ece $(i,j)$ \u8d70\u5230 $(n,n)$ \u6709\u591a\u5c11\u79cd\u65b9\u6848\uff0c\u90a3\u4e48\u663e\u7136\u8fb9\u754c\u6761\u4ef6\u662f $f_{n,n}=1$\uff0c\u7b54\u6848\u4e3a $f_{1,1}$\u3002\n\n\u8f6c\u79fb\u4e5f\u5f88\u7b80\u5355\uff0c\u5bf9\u4e8e $(i,j)$\uff0c\u5728\u4e0d\u8d8a\u754c\u7684\u60c5\u51b5\u4e0b\u662f\u4e0b\u9762\u4e24\u8005\u4e4b\u548c\uff1a\u5411\u53f3\u8d70\uff0c\u65b9\u6848\u6570\u6709 $f_{i,j+a_{i,j}}$\uff1b\u5411\u4e0b\u8d70\uff0c\u65b9\u6848\u6570\u6709 $f_{i+a_{i,j},j}$\u3002\n\n\u8fd9\u6837\u5c31\u53ef\u4ee5 dp \u4e86\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$\u3002\u6ce8\u610f\u5230\u8981\u9ad8\u7cbe\uff0c\u56e0\u6b64\u6211\u4eec~~\u4e0d\u8981\u8138\u7684~~\u4f7f\u7528 python\u3002\u4ee3\u7801\u5982\u4e0b\uff1a\n```python\nn = int(input())\na, f = [], []\nfor i in range(n):\n\ta.append(list(map(int, input().split())))\n\tf.append([0] * n)\nfor i in range(n - 1, -1, -1):\n\tfor j in range(n - 1, -1, -1):\n\t\tif i == j == n - 1:\n\t\t\tf[i][j] = 1\n\t\t\tcontinue\n\t\tif i + a[i][j] < n:\n\t\t\tf[i][j] += f[i + a[i][j]][j]\n\t\tif j + a[i][j] < n:\n\t\t\tf[i][j] += f[i][j + a[i][j]]\nprint(f[0][0])\n```",
        "postTime": 1663722734,
        "uid": 127949,
        "name": "cmk666",
        "ccfLevel": 7,
        "title": "P7642 \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9053\u9898\u96be\u5176\u5b9e\u96be\u5728\u9ad8\u7cbe\uff08\n\n\u8fc7\u6cb3\u5352\u7684\u6539\u7248\u3002\n\n\u8fc7\u6cb3\u5352\u5bf9\u4e8e\u683c\u5b50 $i,j$ \u90fd\u53ef\u4ee5\u66f4\u65b0 $i+1,j$ \u548c $i,j+1$ \u7684\u503c\u3002\n\n\u90a3\u4e48\u5bf9\u4e8e\u8fd9\u9053\u9898\uff0c\u6bcf\u4e2a\u683c\u5b50 $i,j$ \u53ef\u4ee5\u66f4\u65b0 $i+num_{i,j},j$ \u548c $i,j+num_{i,j}$ \u3002\n\n\u7136\u540e\u7a0d\u5fae\u503c\u5f97\u6ce8\u610f\u7684\u662f $num_{i,j}=0$ \u7684\u65f6\u5019\u4e0d\u8981\u66f4\u65b0\uff0c\u5426\u5219\u4f1a\u88ab\u66f4\u65b0\u4e09\u6b21\u3002\n\n\u7136\u540e\u53e6\u4e00\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u5c31\u662f\u8981\u7528\u9ad8\u7cbe\u4e86\u3002\n\ncode\uff1a\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint n,mmp[103][103];\nint dp[103][103][101];\nint length[103][103];\nvoid add(int x1,int y1,int x2,int y2)\n{\n\tint len=max(length[x1][y1],length[x2][y2]);\n\tfor(int i=1;i<=len;i++)\n\t{\n\t\tdp[x1][y1][i]+=dp[x2][y2][i];\n\t\tdp[x1][y1][i+1]+=(dp[x1][y1][i])/10;\n\t\tdp[x1][y1][i]%=10;\n\t}\n\tint s=100;\n\twhile(!dp[x1][y1][s]) s--;\n\tlength[x1][y1]=s;\n}\nint main()\n{\n    cin>>n;\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=n;j++)\n        {\n        \tcin>>mmp[i][j];\n        }\n    }\n    dp[1][1][1]=1;\n    length[1][1]=1;\n    for(int i=1;i<=n;i++)\n    {\n    \tfor(int j=1;j<=n;j++)\n    \t{\n    \t\tif(mmp[i][j])\n    \t\t{\n    \t\t\tadd(i+mmp[i][j],j,i,j);\n    \t\t\tadd(i,j+mmp[i][j],i,j);\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=length[n][n];i>=2;i--)\n\t{\n\t\tcout<<dp[n][n][i];\n\t}\n\tcout<<dp[n][n][1];\n }\n```\n",
        "postTime": 1639582851,
        "uid": 167279,
        "name": "Danno0v0",
        "ccfLevel": 7,
        "title": "P7642"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P7642)\n\n~~\u5982\u679c\u4e0d\u7528\u9ad8\u7cbe\u662f~~\u4e00\u9053\u7b80\u5355\u7684 DP \u9898\u3002\n\n\u8bbe $f_{i,j}$ \u8868\u793a\u8d70\u5230\u7b2c $i$ \u884c\u7b2c $j$ \u5217\u7684\u603b\u65b9\u6848\u6570\uff0c$val_{i,j}$ \u8868\u793a\u7b2c $ i $ \u884c\u7b2c $ j $ \u5217\u7684\u6b65\u957f\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u683c\u5b50 $ (i,j) $ \u63a5\u4e0b\u6765\u8d70\u7684\u8def\u53ea\u6709\u4e24\u79cd\u53ef\u80fd\uff1a\u4ece $ (i,j) $ \u8d70\u5230 $ (i+val_{i,j},j) $\uff1b\u4ece $ (i,j) $ \u8d70\u5230 $ (i,j+val_{i,j}) $\u3002\u4e8e\u662f\u53ef\u4ee5\u4f9d\u6b64\u5199\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$ f_{i+val_{i,j},j} \\gets \\sum f_{i,j} $\n\n$ f_{i,j+val_{i,j}} \\gets \\sum f_{i,j} $\n\n\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u5bf9\u4e8e $ val_{i,j} = 0 $ \u7684\u70b9\u662f\u6b7b\u80e1\u540c\uff0c\u9700\u8981\u7279\u5224\u3002\u8fd8\u6709\u7b54\u6848\u53ef\u80fd\u8f83\u5927\uff0c\u9700\u8981\u4f7f\u7528\u9ad8\u7cbe\u3002\n\nAC Code:\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAXN=101;\n\nstruct Number{\n\tint arr[MAXN],len;\n}f[MAXN+10][MAXN+10];\nint n,val[MAXN][MAXN];\n\nvoid print(Number x){\n\tfor (int i=MAXN-x.len;i<MAXN;i++)\n\t\tcout<<x.arr[i];\n\tcout<<endl;\n}\nNumber new_number(){\n\tNumber x;\n\tx.len=1;\n\tmemset(x.arr,0,sizeof(x.arr));\n\treturn x;\n}\nNumber number_add(Number x,Number y){\n\tint p=0;\n\tfor (int i=MAXN-1;i>=MAXN-max(x.len,y.len)||p;i--){\n\t\tx.arr[i]+=y.arr[i]+p;\n\t\tp=x.arr[i]/10;\n\t\tx.arr[i]%=10;\n\t\tx.len=max(x.len,MAXN-i);\n\t}\n\treturn x;\n} //\u4e00\u4e9b\u9ad8\u7cbe\u6a21\u677f\n\nvoid input(){\n\tcin>>n;\n\tfor (int i=1;i<=n;i++)\n\t\tfor (int j=1;j<=n;j++)\n\t\t\tcin>>val[i][j]; \n}\n\nvoid init(){\n\tfor (int i=0;i<MAXN+10;i++)\n\t\tfor (int j=0;j<MAXN+10;j++)\n\t\t\tf[i][j]=new_number(); //\u521d\u59cb\u5316\n}\n\nvoid DP(){\n\tf[1][1].arr[MAXN-1]=1;\n\tf[1][1].len=1;\n\tfor (int i=1;i<=n;i++)\n\t\tfor (int j=1;j<=n;j++)\n\t\t\tif (val[i][j]){ //\u7279\u5224val[i][j]=0\u7684\u60c5\u51b5\n\t\t\t\tf[i+val[i][j]][j]=number_add(f[i][j],f[i+val[i][j]][j]);\n\t\t\t\tf[i][j+val[i][j]]=number_add(f[i][j],f[i][j+val[i][j]]);\n\t\t\t}\n}\n\nvoid output(){\n\t/*for (int i=1;i<=n;i++)\n\t\tfor (int j=1;j<=n;j++){\n\t\t\tprintf(\"f[%d][%d] = \\n\",i,j);\n\t\t\tprint(f[i][j]);\n\t\t}*/\n\tprint(f[n][n]);\n}\n\nint main(){\n\tinput();\n\tinit();\n\tDP();\n\toutput();\n\treturn 0; //\u597d\u4e60\u60ef\n}\n```\n",
        "postTime": 1628238022,
        "uid": 305925,
        "name": "Liu45318",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P7642 \u3010[BalticOI 2006 Day 2] JUMP THE BOARD!\u3011"
    },
    {
        "content": "# \u9898\u76ee\u5927\u610f\n\u5728\u4e00\u4e2a $n\\times n$ \u7684\u77e9\u9635\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u65b9\u683c\u5185\u7684\u975e\u8d1f\u6574\u6570\u8868\u793a\u80fd\u4ece\u8fd9\u683c\u5411\u4e0b\u6216\u5411\u53f3\u79fb\u52a8\u7684\u8ddd\u79bb\uff0c\u6c42\u4ece $(1,1)$ \u5904\u79fb\u52a8\u5230 $(n,n)$ \u5904\u7684\u65b9\u6848\u6570\u3002\n# \u601d\u8def\n\u56e0\u4e3a\u6bcf\u6b21\u53ea\u80fd\u5411\u4e0b\u6216\u8005\u5411\u53f3\u79fb\u52a8\uff0c\u6240\u4ee5\u5728\u4ece\u4e0a\u5f80\u4e0b\uff0c\u4ece\u5de6\u5f80\u53f3\u626b\u7684\u65f6\u5019\u65e0\u540e\u6548\u6027\uff0c\u660e\u663e\u662f\u4e00\u9053\u52a8\u6001\u89c4\u5212\u9898\u76ee\uff0c\u72b6\u6001\u4e0e\u8f6c\u79fb\u65b9\u7a0b\u4e5f\u975e\u5e38\u660e\u663e\u3002\n\n\u7528\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4 ```dp[i][j]``` \u8bb0\u5f55\u5230\u8fbe $(i,j)$ \u7684\u65b9\u6848\u6570\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5982\u4e0b\uff1a\n\n$\\left\\{\\begin{matrix}\ndp_{i+a_{i,j},j}+=dp_{i,j}\n \\\\\ndp_{i,j+a_{i,j}}+=dp_{i,j}\n\\end{matrix}\\right.$\n\n\u6ce8\u610f\u8981\u5c06 $i+a_{i,j}$ \u6216 $j+a_{i,j}$ \u5927\u4e8e $n$ \u7684\u60c5\u51b5\u6392\u9664\uff0c\u8d77\u59cb $dp$ \u6570\u7ec4\u4e3a\u7a7a\uff0c\u8fb9\u754c\u60c5\u51b5 ```dp[1][1]=1```\uff0c\u7136\u540e\u7528\u5237\u8868\u7684\u5f62\u5f0f\u5199\u5c31\u884c\u4e86\u3002\n\n\u7136\u540e\u4f60\u4e00\u8fb9\u611f\u53f9\u8fd9\u9053\u9898\u592a\u6c34\u4e86\u4e00\u8fb9\u4ea4\u7b54\u6848\uff0c\u53d1\u73b0\u53ea\u62ff\u4e86 $70$ \u5206\uff0c\u518d\u56de\u53bb\u770b\u9898\u76ee\uff0c\u53d1\u73b0\u7b54\u6848\u662f\u4e0d\u8d85\u8fc7 $100$ \u4f4d\u7684\u6570\u5b57\uff0c\u7adf\u7136\u8fd8\u8981\u5f00\u9ad8\u7cbe\uff08\u518d\u89c1\u4e86\uff0c\u6211\u4eb2\u7231\u7684 ```__int128```\uff09\u3002\n\n\u7136\u540e\u6211~~\u5728\u6781\u5ea6\u6124\u6012\u7684\u60c5\u51b5\u4e0b~~\u5199\u51fa\u4e86\u4ee5\u4e0b\u7684\u9ad8\u7cbe\u6a21\u677f\uff1a\n```\nstruct bignum{\n\tint num[105],len;\n\tbignum(){//\u521d\u59cb\u5316\n\t\tmemset(num,0,sizeof(num));\n\t\tlen=1;\n\t}\n\tbignum operator =(int x){//\u8d4b\u503c\n\t\tlen=0;\n\t\twhile(x){\n\t\t\tnum[len++]=x%10;\n\t\t\tx/=10;\n\t\t}\n\t\treturn *this;\n\t}\n\tbignum operator +(bignum &a){//\u52a0\u6cd5\n\t\tbignum b;\n\t\tfor(int i=0;i<max(len,a.len);i++){\n\t\t\tb.num[i]+=a.num[i]+num[i];\n\t\t\tif(b.num[i]>=10){\n\t\t\t\tb.num[i+1]++;\n\t\t\t\tb.num[i]-=10;\n\t\t\t}\n\t\t}\n\t\tfor(int i=max(len,a.len);i>=0;i--){\n\t\t\tif(b.num[i]){\n\t\t\t\tb.len=i+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn b;\n\t}\n\tvoid print(){//\u8f93\u51fa\n\t\tfor(int i=len-1;i>=0;i--){\n\t\t\tprintf(\"%d\",num[i]);\n\t\t}\n\t}\n};\n```\n# \u4ee3\u7801\n\u7136\u540e\u5c31\u662f\u5b8c\u6574\u7684\u4ee3\u7801\uff1a\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=105;\nint n,a[N][N];\nstruct bignum{\n\tint num[105],len;\n\tbignum(){\n\t\tmemset(num,0,sizeof(num));\n\t\tlen=1;\n\t}\n\tbignum operator =(int x){\n\t\tlen=0;\n\t\twhile(x){\n\t\t\tnum[len++]=x%10;\n\t\t\tx/=10;\n\t\t}\n\t\treturn *this;\n\t}\n\tbignum operator +(bignum &a){\n\t\tbignum b;\n\t\tfor(int i=0;i<max(len,a.len);i++){\n\t\t\tb.num[i]+=a.num[i]+num[i];\n\t\t\tif(b.num[i]>=10){\n\t\t\t\tb.num[i+1]++;\n\t\t\t\tb.num[i]-=10;\n\t\t\t}\n\t\t}\n\t\tfor(int i=max(len,a.len);i>=0;i--){\n\t\t\tif(b.num[i]){\n\t\t\t\tb.len=i+1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn b;\n\t}\n\tvoid print(){\n\t\tfor(int i=len-1;i>=0;i--){\n\t\t\tprintf(\"%d\",num[i]);\n\t\t}\n\t}\n};\nbignum dp[N][N];\nint main(){\n\tscanf(\"%d\",&n);\n\tdp[1][1]=1;//\u4e0d\u8981\u5fd8\u4e86\u8fb9\u754c\u6761\u4ef6\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(a[i][j]==0)continue;//\u5343\u4e07\u8981\u6ce8\u610f\u5224\u6389\u4e3a\u96f6\u7684\u60c5\u51b5\uff0c\u8981\u4e0d\u7136\u4f1a\u4e00\u76f4\u539f\u5730\u8e66\u8fea\uff08\u7b11\uff09\n\t\t\tif(i+a[i][j]<=n)dp[i+a[i][j]][j]=dp[i+a[i][j]][j]+dp[i][j];\n\t\t\tif(j+a[i][j]<=n)dp[i][j+a[i][j]]=dp[i][j+a[i][j]]+dp[i][j];\n\t\t}\n\t}\n\tdp[n][n].print();\n\treturn 0;\n}\n```",
        "postTime": 1666913651,
        "uid": 698657,
        "name": "free_fall",
        "ccfLevel": 5,
        "title": "P7642 [BalticOI 2006 Day 2] JUMP THE BOARD! \u9898\u89e3"
    },
    {
        "content": "# P7642 [BalticOI 2006 Day 2] JUMP THE BOARD! \u9898\u89e3\n\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P7642)\n\n\u770b\u5230\u8fd9\u79cd\u68cb\u76d8\u4e0a\u7684\u95ee\u9898\uff0c\u90fd\u53ef\u4ee5\u60f3\u5230 $\\text{dp}$\uff0c\u7528 $f_{i,j}$ \u8868\u793a\u8d70\u5230\u70b9 $i,j $ \u7684\u65b9\u6848\u6570\u3002\u8f6c\u79fb\u5373\u4ece $f_{i,j}$ \u8f6c\u79fb\u81f3 $f_{i+a_{i,j},j}$ \u548c $f_{i,j+a_{i,j}}$\uff0c\u6ce8\u610f\u4e0d\u8981\u6ea2\u51fa\u68cb\u76d8\u8303\u56f4\u3002\n\n\u8fd9\u9053\u9898\u76ee\u662f\u9700\u8981\u9ad8\u7cbe\u7684\uff0c\u56e0\u4e3a\u6700\u540e\u7b54\u6848\u6709 $100$ \u4f4d\u3002\u4f46\u662f\u53ea\u6d89\u53ca\u52a0\u6cd5\uff0c\u56e0\u6b64\u8fd8\u662f\u5f88\u597d\u4e9b\u7684\uff0c\u800c\u4e14\u53ef\u4ee5\u7528 `long long` \u538b $18$ \u4f4d\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2 \\dfrac{\\log V} \\omega)$\uff0c\u5176\u4e2d $V = 10^{100}$\uff0c$\\omega = 18$\u3002\n\n$\\text{Code:}$\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 1e2 + 10;\nconst long long P = 1000000000000000000;\ninline int read() {\n    static int ans;\n    static char c;\n    c = getchar(), ans = 0;\n    while (!isdigit(c)) c = getchar();\n    while (isdigit(c)) ans = (ans << 1) + (ans << 3) + (c ^ 48), c = getchar();\n    return ans;\n}\ninline void add(long long a[], long long b[]) {\n    for (int i = 1; i <= max(a[0], b[0]); i++) {\n        a[i] += b[i];\n        if (a[i] >= P) a[i] -= P, ++a[i + 1];\n    }\n    while (a[a[0] + 1]) ++a[0];\n}\ninline void write(long long a[]) {\n    printf(\"%lld\", a[a[0]]);\n    for (int i = a[0] - 1; i >= 1; i--) printf(\"%018lld\", a[i]);\n}\nlong long f[N][N][7];\nint a[N][N];\nint main() {\n    int n;\n    cin >> n, f[1][1][0] = f[1][1][1] = 1;\n    for (int i = 1; i <= n; i++)\n        for (int j = 1; j <= n; j++) {\n            if (a[i][j] = read()) {\n                if (i + a[i][j] <= n) add(f[i + a[i][j]][j], f[i][j]);\n                if (j + a[i][j] <= n) add(f[i][j + a[i][j]], f[i][j]);\n            }\n        }\n    write(f[n][n]);\n    return 0;\n}\n```",
        "postTime": 1663723364,
        "uid": 615348,
        "name": "zhouershan",
        "ccfLevel": 7,
        "title": "P7642 [BalticOI 2006 Day 2] JUMP THE BOARD! \u9898\u89e3"
    },
    {
        "content": "\u9898\u76ee\u4e00\u773c\u5c31\u6709\u611f\u89c9\u4e86\uff0c\u94c1\u5b9a\u662f **$dp$** \u3002   \n\u8fd9\u9898\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e5f\u5f88\u597d\u63a8:   \n\n$\\begin{cases}\nf(i+a(i,j),j) \\gets f(i+a(i,j),j)+f(i,j) ,& a(i,j)+i \\leq n\\\\\nf(i,j+a(i,j)) \\gets f(i,j+a(i,j))+f(i,j) ,& a(i,j)+j \\leq n\\\\\n\\end{cases}$   \n\n    \n\u4f46\u662f\u6ce8\u610f\u5230\u9898\u76ee\u4e2d\u4e00\u53e5\u8bdd\uff1a   \n>\u5408\u6cd5\u8def\u5f84\u7684\u6570\u91cf\u53ef\u80fd\u76f8\u5f53\u5927\u3002\u4f7f\u7528 64 \u4f4d\u6574\u6570\u53d8\u91cf\uff08C \u4e2d\u7684 long long int\uff0cPascal \u4e2d\u7684 Int64\uff09\u53ea\u80fd\u83b7\u5f97 70  \u7684\u5206\u6570\u3002\u53ef\u4ee5\u4fdd\u8bc1\u6240\u6709\u7684\u8f93\u5165\u5bfc\u81f4\u7684\u8def\u5f84\u6570\u53ef\u4ee5\u7528\u4e0d\u8d85\u8fc7 100 \u4f4d\u7684\u6570\u5b57\u5199\u51fa\u3002   \n   \n\u6240\u4ee5\u8fd8\u8981\u52a0\u9ad8\u7cbe\u5ea6\uff0c~~\u8fd9\u624d\u662f\u4e07\u6076\u4e4b\u6e90~~\u3002   \n\u53ea\u9700\u8981\u91cd\u8f7d\u52a0\u6cd5\u8fd0\u7b97\u7b26\u5373\u53ef\u3002  \n$\\text{Code:}$ \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nstruct Bigint{\n\tint a[109]={};\n\tvoid print(){\n\t\tfor(int i=a[0];i>=1;--i) cout<<a[i];\n\t}\n\tBigint  operator+(const Bigint b)const{\n\t\tBigint c;\n\t\tc.a[0]=max(a[0],b.a[0]);\n\t\tfor(int i=1;i<=c.a[0];i++)c.a[i]=a[i]+b.a[i];\n\t\tfor(int i=1;i<=c.a[0];i++)c.a[i+1]+=c.a[i]/10,c.a[i]%=10;\n\t\tif(c.a[c.a[0]+1])c.a[0]++;\n\t\treturn c;\n\t}\n\t\n};//\u9ad8\u7cbe\u5ea6\uff0c\u91cd\u8f7d\u52a0\u6cd5\u8fd0\u7b97\u7b26\nBigint f[109][109];\nint a[109][109];\nint n;\nsigned main(){ cin>>n;\n\tfor(int i=1;i<=n;++i) for(int j=1;j<=n;++j) cin>>a[i][j],f[i][j].a[0]=1;\n\tf[1][1].a[1]=1;\n\tfor(int i=1;i<=n;++i)\n\t\tfor(int j=1;j<=n;++j){ if(!a[i][j]) continue;\n\t\tif(i+a[i][j]<=n) f[i+a[i][j]][j]=f[i+a[i][j]][j]+f[i][j];\n\t\tif(j+a[i][j]<=n) f[i][j+a[i][j]]=f[i][j+a[i][j]]+f[i][j];\n\t}\n\tf[n][n].print();\n}\n```\n",
        "postTime": 1660218386,
        "uid": 643561,
        "name": "Mizuki_official",
        "ccfLevel": 5,
        "title": "\u9898\u89e3p7642"
    }
]