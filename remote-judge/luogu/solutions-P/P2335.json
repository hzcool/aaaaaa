[
    {
        "content": "[\u83b7\u5f97\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://shenyouran.github.io/P2335/)\n\n\u8fd9\u9053\u9898\u6709\u591a\u79cd\u89e3\u6cd5\uff0c\u6211\u4eec\u6765\u9010\u4e00\u5206\u6790\u3002\n\n### $\\color{green}\\text{\u65b9\u6cd51\uff1a\u6570\u7ec4\u4fdd\u5b58\u6cd5}$\n\n\u5bf9\u4e8e\u8f93\u5165\uff0c\u6211\u4eec\u4e0d\u4ec5\u8981\u8f93\u5165\u5c4f\u5e55\uff0c\u4e5f\u8981\u4fdd\u5b58\u503c\u4e3a$1$\uff0c\u5373\u767d\u8272\u7684\u4f4d\u7f6e\u3002\u6211\u4eec\u628a\u767d\u8272\u533a\u57df\u7684\u6bcf\u4e00\u4e2a\u70b9\u90fd\u8fdb\u884c\u4fdd\u5b58\u3002\n\n\u8f93\u5165\u4ee5\u540e\uff0c\u6211\u4eec\u8ba1\u7b97\u6bcf\u4e00\u4e2a\u70b9\u5230\u6240\u6709\u767d\u70b9\u7684\u8ddd\u79bb\uff0c\u53d6\u5176\u6700\u5c0f\u5e76\u8f93\u51fa\u3002\u5982\u679c\u8be5\u533a\u57df\u5df2\u7ecf\u4e3a\u767d\u70b9\uff0c\u5373\u503c\u4e3a$1$\uff0c\u5219\u76f4\u63a5\u8f93\u51fa$0$\u5373\u53ef\u3002\n\n\u671f\u671b\u5f97\u5206\uff1a$\\color{#52C410}100$\n\n\u65f6\u95f4\u6d88\u8017\uff1a$\\color{#52C410}354\\text{ms}$\n\n\u7a0b\u5e8f\u8fc7\u7a0b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/88h1yzqb.png)\n\n\u4ee3\u7801\u89e3\u51b3\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define dist(x_1,x_2,y_1,y_2)abs(x_1-x_2)+abs(y_1-y_2)//\u5b9a\u4e49\u4e24\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u516c\u5f0f\nusing namespace std;\nint n,m,white[22501][2],cnt;//white\u6570\u7ec4\u4fdd\u5b58\u767d\u70b9\u7684\u5750\u6807\uff0ccnt\u4fdd\u5b58\u767d\u70b9\u4e2a\u6570\nbool screen[151][151];//screen\u6570\u7ec4\u4fdd\u5b58\u5c4f\u5e55\uff0c\u767d\u8272\u4e3a1\uff0c\u9ed1\u8272\u4e3a0\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1,x;j<=m;j++)\n        {\n            scanf(\"%d\",&x);\n            screen[i][j]=x;//\u5148\u7ed9\u5c4f\u5e55\u8d4b\u503c\n            if(x)//\u5982\u679c\u662f\u767d\u8272\u7684\u5c31\u6267\u884c\n            {\n                white[++cnt][0]=i;\n                white[cnt][1]=j;\n                //\u70b9\u6570+1\uff0c\u5e76\u4e14\u628a\u8fd9\u4e2a\u70b9\u7684\u5750\u6807\u8fdb\u884c\u8d4b\u503c\n            }\n        }\n    }\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1,dis;j<=m;j++)\n        {\n            if(screen[i][j])//\u7279\u5224\u767d\u70b9\u53ef\u4ee5\u8282\u7701\u65f6\u95f4\n            {\n                printf(\"0 \");//\u4e0d\u8981\u6f0f\u6389\u7a7a\u683c\n                continue;\n            }\n            dis=0x3f3f3f3f;//\u6700\u5c0f\u8ddd\u79bb\u9ed8\u8ba4\u8981\u5f88\u5927\n            for(int k=1;k<=cnt;k++)dis=min(dis,dist(i,white[k][0],j,white[k][1]));//\u6bcf\u4e00\u6b21\u90fd\u53d6\u6700\u5c0f\u8ddd\u79bb\n            printf(\"%d \",dis);//\u8f93\u51fa\u627e\u5230\u7684\u6700\u5c0f\u8ddd\u79bb\n        }\n        putchar('\\n');//\u6362\u884c\u7528putchar\u66f4\u5feb\u4e00\u4e9b\n    }\n    return 0;\n}\n```\n\n### $\\color{green}\\text{\u65b9\u6cd52\uff1a\u6df1\u5ea6\u4f18\u5148\u641c\u7d22}$\n\n\u8fd9\u9053\u9898\u7528\u6df1\u641c\u786e\u5b9e\u4e0d\u662f\u5f88\u5408\u9002\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8fd9\u9898\u8bad\u7ec3\u6211\u4eec\u7684\u641c\u7d22\u80fd\u529b\u3002\n\n\u4e3b\u8981\u7684\u601d\u8def\u5c31\u662f\u7531\u6bcf\u4e00\u4e2a\u9ed1\u70b9\u5f00\u59cb\u8fdb\u884c\u641c\u7d22\uff0c\u7136\u540e\u4e0d\u505c\u5730\u671d$8$\u4e2a\u65b9\u5411\u62d3\u5c55\u5e76\u4fdd\u5b58\u6700\u77ed\u8def\u5f84\u5373\u53ef\u3002\n\n\u7136\u800c\uff0c\u6211\u4eec\u53d1\u73b0\uff0c$\\text{DFS}$\u5bf9\u4e8e\u89e3\u51b3\u8fd9\u79cd\u9898\u76ee\u6765\u8bf4\uff0c\u5b9e\u5728\u592a\u6162\uff0c\u6548\u7387\u4f4e\u4e0b\uff0c\u53ea\u6709\u5f00$\\mathcal O2$\u624d\u80fd\u8fc7\u3002\n\n\u5bf9\u4e8e\u641c\u7d22\uff08\u5305\u62ec\u6df1\u641c\u548c\u5e7f\u641c\u4e24\u79cd\u65b9\u6cd5\uff09\uff0c\u62d3\u5c55\u7684\u5185\u5bb9\u5982\u4e0b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pqukeniy.png)\n\n\u671f\u671b\u5f97\u5206\uff1a$\\color{#52C410}90\\,\\to \\,100(\\mathcal O2)$\n\n\u65f6\u95f4\u6d88\u8017\uff1a$\\color{#FFC116}2.88\\text{s}\\color{#52C410}\\to 1.87\\text{s}(\\mathcal O2)$\n\n\u4ee3\u7801\u5b9e\u73b0\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define dist(x_1,x_2,y_1,y_2)abs(x_1-x_2)+abs(y_1-y_2)\nusing namespace std;\nint n,m,dis,dx[]={-1,-1,-1,0,0,1,1,1},dy[]={-1,0,1,-1,1,-1,0,1};//\u65b9\u5411\u589e\u91cf\u6570\u7ec4\u4e0b\u6807\u67098\u4e2a\nbool screen[151][151],vis[151][151];//screen\u6570\u7ec4\u4fdd\u5b58\u5c4f\u5e55\uff0cvis\u6570\u7ec4\u4fdd\u5b58\u5bf9\u5e94\u70b9\u662f\u5426\u88ab\u8bbf\u95ee\u8fc7\nvoid dfs(int x,int y,int d)\n{\n    if(screen[x][y])dis=d;//\u5982\u679c\u662f\u767d\u70b9\u5c31\u66f4\u65b0\u6700\u5c0f\u8ddd\u79bb\n    for(int i=0;i<8;i++)\n    {\n        int nx=x+dx[i],ny=y+dy[i];//\u65b0\u62d3\u5c55\u7684\u70b9\u7684\u5750\u6807\n        if(nx<1||ny<1||nx>n||ny>m||vis[nx][ny]||d+1>=dis)continue;//\u5982\u679c\u51fa\u4e86\u8fb9\u754c\u3001\u5df2\u7ecf\u88ab\u8bbf\u95ee\u6216\u8005\u4e0b\u4e00\u6b21\u7684\u8ddd\u79bb\u5927\u4e8e\u6700\u5c0f\u8ddd\u79bb\uff0c\u5c31\u4e0d\u8fdb\u884c\u8be5\u70b9\u7684\u62d3\u5c55\n        vis[nx][ny]=true;//\u6807\u8bb0\u8bbf\u95ee\n        dfs(nx,ny,d+dist(x,nx,y,ny));//\u65b0\u7684\u53c2\u6570\u8868\uff1a\u6a2a\u5750\u6807\u4e3anx\uff0c\u7eb5\u5750\u6807\u4e3any\uff0c\u8ddd\u79bb\u4e3a\u5f53\u524d\u8ddd\u79bb\u52a0\u4e0a\u8fd9\u4e24\u70b9\u7684\u8ddd\u79bb\n        vis[nx][ny]=false;//\u56de\u6eaf\u2014\u2014\u6807\u8bb0\u672a\u8bbf\u95ee\n    }\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1,x;j<=m;j++)\n        {\n            scanf(\"%d\",&x);\n            screen[i][j]=x;\n        }\n    }\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            if(screen[i][j])\n            {\n                printf(\"0 \");\n                continue;\n            }\n            memset(vis,false,sizeof(vis));//\u5148\u6807\u8bb0\u6240\u6709\u70b9\u4e3a\u672a\u8bbf\u95ee\u8fc7\n            dis=0x3f3f3f3f;//\u8fdb\u884c\u6700\u5c0f\u8ddd\u79bb\u7684\u521d\u59cb\u5316\n            dfs(i,j,0);//\u5f00\u59cb\u641c\u7d22\uff0c\u53c2\u6570\u8868\uff1a\u6a2a\u7eb5\u5750\u6807\u5206\u522b\u4e3ai\u548cj\uff0c\u521d\u59cb\u8ddd\u79bb\u4e3a0\n            printf(\"%d \",dis);//\u8f93\u51fa\u6700\u5c0f\u8ddd\u79bb\n        }\n        putchar('\\n');\n    }\n    return 0;\n}\n```\n\n### $\\color{green}\\text{\u65b9\u6cd53\uff1a\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22}$\n\n$\\text{BFS}$\u7684\u7279\u70b9\u662f\u627e\u6700\u4f18\u89e3\uff0c\u6240\u4ee5\u53ef\u4ee5\u5b8c\u7f8e\u5730\u89e3\u51b3\u672c\u9898\uff0c\u800c\u4e14\u662f\u8fd9\u4e9b\u65b9\u6cd5\u4e2d\u8017\u65f6\u6700\u5c11\u7684\u3002\n\n\u5bf9\u4e8e\u641c\u7d22\uff08\u5305\u62ec\u6df1\u641c\u548c\u5e7f\u641c\u4e24\u79cd\u65b9\u6cd5\uff09\uff0c\u5927\u4f53\u6846\u67b6\u5982\u4e0b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/l116e93j.png)\n\n\u671f\u671b\u5f97\u5206\uff1a$\\color{#52C410}100$\n\n\u65f6\u95f4\u6d88\u8017\uff1a$\\color{#52C410}73\\text{ms}$\n\n\u4ee3\u7801\u5b9e\u73b0\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define dist(x_1,x_2,y_1,y_2)abs(x_1-x_2)+abs(y_1-y_2)\nusing namespace std;\nint n,m,dx[]={-1,-1,-1,0,0,1,1,1},dy[]={-1,0,1,-1,1,-1,0,1};\nbool screen[151][151],vis[151][151];\nstruct node\n{\n    int x,y;\n}q[22501];//\u5b9a\u4e49\u7ed3\u6784\u4f53\u7c7b\u578b\u961f\u5217\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1,x;j<=m;j++)\n        {\n            scanf(\"%d\",&x);\n            screen[i][j]=x;\n        }\n    }\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1,front,rear,dis;j<=m;j++)\n        {\n            //\u5b9a\u4e49front\uff08\u961f\u5934\uff09\uff0crear\uff08\u961f\u5c3e\uff09\u548cdis\uff08\u6700\u5c0f\u8ddd\u79bb\uff09\n            if(screen[i][j])//\u7279\u5224\n            {\n                printf(\"0 \");\n                continue;\n            }\n            front=rear=1;//\u4e00\u5f00\u59cb\u961f\u5934\u961f\u5c3e\u90fd\u4e3a1\n            dis=0x3f3f3f3f;\n            memset(vis,false,sizeof(vis));//\u6240\u6709\u5143\u7d20\u5747\u4e3a\u88ab\u8bbf\u95ee\u8fc7\n            q[1]=(node){i,j};//\u7b2c\u4e00\u6b21\u7684\u72b6\u6001\u5c31\u662f\u521d\u59cb\u4f4d\u7f6e\n            while(front<=rear)\n            {\n                node f=q[front];\n                for(int k=0;k<8;k++)\n                {\n                    int nx=f.x+dx[k],ny=f.y+dy[k],d=dist(i,nx,j,ny);//\u4fdd\u5b58\u6700\u5c0f\u8ddd\u79bb\n                    if(nx<1||ny<1||nx>n||ny>m||d>=dis||vis[nx][ny])continue;//\u5982\u679c\u51fa\u8fb9\u754c\u3001\u8ddd\u79bb\u5927\u4e8e\u7b49\u4e8e\u6700\u5c0f\u8ddd\u79bb\u6216\u8005\u88ab\u8bbf\u95ee\u8fc7\u5c31\u4e0d\u518d\u7ee7\u7eed\n                    vis[nx][ny]=true;//\u6807\u8bb0\u8bbf\u95ee\n                    q[++rear]=(node){nx,ny};//\u5165\u961f\n                    if(screen[nx][ny])dis=d;//\u8d4b\u503c\u6700\u5c0f\u8ddd\u79bb\n                }\n                front++;//\u961f\u5934\u6307\u9488\u52a01\n            }\n            printf(\"%d \",dis);//\u8f93\u51fa\u6700\u5c0f\u8ddd\u79bb\n        }\n        putchar('\\n');\n    }\n    return 0;\n}\n```\n\n\u603b\u4e4b\uff0c\u867d\u7136\u4e00\u9898\u6709\u591a\u89e3\uff0c\u4f46\u5728\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u8bbe\u6cd5\u627e\u5230\u6700\u4f18\u7684\u65b9\u6cd5\u662f\u81f3\u5173\u91cd\u8981\u7684\u3002",
        "postTime": 1593775140,
        "uid": 137367,
        "name": "hensier",
        "ccfLevel": 6,
        "title": "P2335 [SDOI2005]\u4f4d\u56fe \u9898\u89e3"
    },
    {
        "content": "#### \u8fd9\u9898\u5176\u5b9e\u5e76\u4e0d\u7528\u641c\u7d22\u3002\u53ea\u9700\u8981\u8bb0\u5f55\u6240\u6709\u7684\u767d\u70b9\uff0cn1\u3001n2\u3001n3\u2026\u2026\u2026\u20261. \u7136\u540e\uff0c\u8ba1\u7b97n1\u5230\u6240\u6709\u9ed1\u70b9\u7684\u8ddd\u79bb\uff0c\u8ba1\u7b97n2\u5230\u6240\u6709\u9ed1\u70b9\u7684\u8ddd\u79bb\uff0c\u5982\u679c\u8ddd\u79bb\u66f4\u5c0f\uff0c\u90a3\u4e48\u5c31\u66f4\u65b0\u3002\nAC\u4ee3\u7801\u5982\u4e0b  \n\n```c\n\n#include<cstdio>\n#include<cmath>\n#include<iostream>\n#include<list>//\u94fe\u8868\uff0c\u7c7b\u4f3c\u4e8e\u52a8\u6001\u6570\u7ec4 \u5feb\u901f\u7684\u63d2\u5165\u548c\u5220\u9664\uff0c\u4f46\u662f\u968f\u673a\u8bbf\u95ee\u5374\u6bd4\u8f83\u6162.\n#include<cstring>\n#include<queue>//\u961f\u5217 \n#include<stack>//\u6808 \n#include<algorithm>//min,max,swap,sort\u51fd\u6570 \n\nusing namespace std;\n\nint N,M;\n\nint dis[151][151];//\u6bcf\u4e2a\u70b9\u5230\u767d\u50cf\u7d20\u6700\u77ed\u8ddd\u79bb \n\nint m[151][151];// \u5b58\u56fe \u4f46\u8fd9\u9898\u5176\u5b9e\u6ca1\u5fc5\u8981\n\nint t;\n\nstruct Node{\n\n\tint x,y;\n};\n\nqueue<Node>Q;\n  \nint main(){\n\n\tscanf(\"%d %d\",&N,&M);\n    \n\tfor(int i=1;i<=N;i++){//\u521d\u59cb\u5316\uff0c\u6700\u77ed\u8ddd\u79bb\u521d\u59cb\u5316\u6700\u5927 \n    \n\t\tfor(int j=1;j<=M;j++){\n        \n\t\t\tdis[i][j]=0x7fffffff;\t\n            \n\t\t}\n        \n\t}\n    \n\tfor(int i=1;i<=N;i++){\n    \n\t\tfor(int j=1;j<=M;j++){\n        \n\t\t\tscanf(\"%d\",&t);\n            \n\t\t\tm[i][j]=t;\n            \n\t\t\tif(t==1){//\u8bb0\u5f55\u767d\u50cf\u7d20\u5750\u6807 \n            \n\t\t\t\tQ.push((Node){i,j});\t\n                \n\t\t\t}\n            \n\t\t}\n\t\t\n\t}\n    \n\tNode tmp;\n    \n\twhile(Q.empty()!=true){//\u904d\u5386\u767d\u50cf\u7d20\u5230\u6240\u6709\u9ed1\u70b9\u7684\u8ddd\u79bb\n    \n\t\ttmp=Q.front();\n        \n\t\tQ.pop();\n        \n\t\tfor(int i=1;i<=N;i++){\n        \n\t\t\tfor(int j=1;j<=M;j++){\n            \n\t\t\t\tdis[i][j]=min(dis[i][j],abs(i-tmp.x)+abs(j-tmp.y));\t//\u4fdd\u7559\u6700\u77ed\u7684\u8ddd\u79bb \n                \n\t\t\t}\n            \n\t\t}\t\n        \n\t}\n    \n\tfor(int i=1;i<=N;i++){//\u8f93\u51fa \n    \n\t\tfor(int j=1;j<=M;j++){\n        \n\t\t\tprintf(\"%d \",dis[i][j]);\n            \n\t\t}\n        \n\t\tprintf(\"\\n\");\n        \n\t}\t\n    \n    return 0;\n    \n}\n```\n\n",
        "postTime": 1529576586,
        "uid": 33108,
        "name": "\u63d0\u7763",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2335 \u3010[SDOI2005]\u4f4d\u56fe\u3011"
    },
    {
        "content": "BFS\u7684\u5957\u8def ~~\u8fd9\u662f\u4e00\u9053\u5b8c\u5168\u76f8\u4f3c\u7684\u539f\u9898~~\n\n\u7528\u4e00\u4e2a\u6570\u7ec4dis[i][j]\u8868\u793a\u5750\u6807\u4e3a(i,j)\u7684\u70b9\u79bb\u767d\u70b9\u7684\u6700\u77ed\u8ddd\u79bb\u3002dis\u521d\u59cb\u5316\u4e3a-1\n\n\u6bcf\u4e2a\u767d\u70b9\u5165\u961f\u65f6\u90fd\u5c06\u81ea\u5df1\u5bf9\u5e94\u7684dis\u4f4d\u7f6e\u8bbe\u7f6e\u4e3a0.\u6839\u636e\u9898\u610f\uff0c\n\u9898\u76ee\u4e2d\u4e24\u70b9\u8ddd\u79bb\u7684\u8ba1\u7b97\u65b9\u5f0f\u76f8\u5f53\u4e8e\u201c\u4e00\u4e2a\u4eba\u4eceA\u70b9\uff0c\u6bcf\u6b21\u53ea\u80fd\u5411\u4e0a\u4e0b\u5de6\u53f3\u56db\u4e2a\u65b9\u5411\u8d70\u4e00\u683c\uff0c\u95ee\u8d70\u5230B\u70b9\u8981\u591a\u5c11\u6b21\uff1f\u201d\n\n\u63a5\u7740\u5c31\u5bf9\u4e8e\u6bcf\u4e2a\u8981\u6269\u5c55\u7684\u70b9\uff0c\u6269\u5c55\u51fa\u6240\u6709\u72b6\u6001\u3002\u8bbe\u6269\u5c55\u51fa\u7684\u65b0\u70b9\u5750\u6807\u4e3a(nx,ny),\n\n\u5982\u679c\n\ndis[nx][ny] != -1,\u5219\u5df2\u7ecf\u6709\u66f4\u4f18\u89e3\u4e86\uff08BFS\u7684\u7279\u6027\uff09\uff0c\u6545\u6b64\u70b9\u65e0\u9700\u5165\u961f\u3002nx\uff0cny\u51fa\u754c\u4e5f\u65e0\u9700\u5165\u961f\u3002\n\n\u5426\u5219\uff0c\n\n\u8d4b\u503cdis[nx][ny]\uff0c\u5e76\u5c06\u6b64\u70b9\u5165\u961f\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint a[155][155],dis[155][155],f,e,n,m;\n//f:\u961f\u9996\uff0ce:\u961f\u5c3e\u4e4b\u540e\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u961f\u5217\u8303\u56f4\u4e3a[f,e)\nstruct Node{int x,y,cnt;};\nNode q[100005]; //\u961f\u5217\nint dx[] = {1,0,-1,0},dy[] = {0,1,0,-1};//\u56db\u4e2a\u65b9\u5411\nint main ()\n{\n\tmemset(dis,-1,sizeof(dis));//\u521d\u59cb\u5316\n\tscanf(\"%d%d\",&n,&m);\n\tfor (int i = 1;i <= n;i++)\n\t\tfor (int j = 1;j <= m;j++)\n\t\t{\n\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t\tif (a[i][j])\n\t\t\t{\n\t\t\t\tdis[i][j] = 0;\n\t\t\t\tq[e++] = {i,j,0};\n\t\t\t}\n\t\t}\n\twhile (f != e)\n\t{\n\t\tNode nd = q[f++];//\u51fa\u961f\n\t\tfor (int i = 0;i < 4;i++)\n\t\t{\n\t\t\tint nx = nd.x + dx[i],ny = nd.y + dy[i];\n\t\t\tif (nx < 1 || nx > n || ny < 1 || ny > m || dis[nx][ny] != -1) //\u5224\u65ad\u662f\u5426\u9700\u5165\u961f\n\t\t\t\tcontinue;\n\t\t\tdis[nx][ny] = nd.cnt + 1;\n\t\t\tq[e++] = {nx,ny,nd.cnt + 1};//\u5165\u961f\n\t\t}\n\t}\n\tfor (int i = 1;i <= n;i++)\n\t{\n\t\tfor (int j = 1;j <= m;j++) printf(\"%d \",dis[i][j]);\n\t\tprintf(\"\\n\");\n\t} //\u8f93\u51fa\n\treturn 0;\n}\n```\n\u597d\u4e00\u9053\u5e7f\u641c",
        "postTime": 1532218049,
        "uid": 92602,
        "name": "SIGSEGV",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2335 \u3010[SDOI2005]\u4f4d\u56fe\u3011"
    },
    {
        "content": "\u5176\u5b9e\u8fd9\u9898\u53ef\u4ee5\u8dd1\u6700\u77ed\u8def\n\n\u5148\u628a\u6240\u6709\u767d\u8272\u70b9\u6807\u8bb0\u4e3a\u8ddd\u79bb\u4e3a0\uff0c\u7136\u540e\u5f3a\u884c\u8dd1DJ\u5c31\u53ef\u4ee5\u4e86\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <queue>\n#include <vector>\n\nstruct Vec2//\u5750\u6807\u6570\u636e \n{\n    int x; \n    int y;\n    int dis;\n};\n\nstruct Cmp//\u4f18\u5148\u961f\u5217\u6bd4\u8f83\u51fd\u6570 \n{\n    bool operator() (const Vec2& v1, const Vec2& v2)\n    {\n        return v1.dis > v2.dis;\n    }\n};\n\nbool map[200][200];//\u4f4d\u56fe \nbool visit[200][200];//\u8bbf\u95ee\u8bb0\u5f55 \nint ans[200][200];//\u7ed3\u679c \n\nint next[4][2] = {{0, 1}, {0, -1}, {1, 0}, {-1, 0}};//\u4e0b\u4e00\u4e2a\u70b9 \n\nstd::priority_queue<Vec2, std::vector<Vec2>, Cmp> queue;//\u4f18\u5148\u961f\u5217 \n\nint main()\n{\n    int width = 0;\n    int height = 0;\n    std::cin >> width >> height;\n    \n    memset(map, 0, sizeof(map));\n    memset(ans, 0x7fffffff, sizeof(ans));\n    memset(visit, 0, sizeof(visit));//\u521d\u59cb\u5316\n    \n    for (int i = 0; i < width; i++)\n    {\n        for (int j = 0; j < height; j++)\n        {\n            int color = 0;\n            std::cin >> color;\n            map[i][j] = (bool)color;\n            \n            if (color)//\u628a\u6240\u6709\u767d\u8272\u50cf\u7d20\u70b9\u6807\u8bb0\u4e3a\u8ddd\u79bb\u4e3a0\uff0c\u653e\u8fdb\u4f18\u5148\u961f\u5217 \n            {\n                Vec2 v;\n                v.x = i;\n                v.y = j;\n                v.dis = 0;\n                queue.push(v);\n            }\n        }\n    }\n    \n    while (!queue.empty())//\u5982\u679c\u961f\u5217\u4e0d\u4e3a\u7a7a \n    {\n        Vec2 v = queue.top();\n        queue.pop();\n        \n        if (visit[v.x][v.y])//\u5df2\u7ecf\u8bbf\u95ee\u8fc7\u4e86 \n        {\n            continue;\n        }\n        \n        visit[v.x][v.y] = true;\n        ans[v.x][v.y] = v.dis;//\u8bb0\u5f55 \n        \n        for (int i = 0; i < 4; i++)//\u56db\u4e2a\u65b9\u5411\u7ee7\u7eed\u641c\u7d22 \n        {\n            int nx = v.x + next[i][0];\n            int ny = v.y + next[i][1];//\u4e0b\u4e00\u4e2a\u70b9\u7684\u5750\u6807 \n            \n            if (nx >= 0 && nx < width && ny >= 0 && ny < height)//\u662f\u5426\u8d8a\u754c \n            {\n                Vec2 temp;\n                temp.x = nx;\n                temp.y = ny;\n                temp.dis = v.dis + 1;//\u8ddd\u79bb+1s\n                queue.push(temp);\n            }\n        }\n    }    \n    \n    for (int i = 0; i < width; i++)//\u8f93\u51fa\u7ed3\u679c\n    {\n        for (int j = 0; j < height; j++)\n        {\n            std::cout << ans[i][j] << \" \";\n        }\n        std::cout << std::endl;\n    }\n    \n    return 0;\n}\n```",
        "postTime": 1491534868,
        "uid": 15854,
        "name": "NeilKleist",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2335 \u3010[SDOI2005]\u4f4d\u56fe\u3011"
    },
    {
        "content": "[\u66f4\u4f73\u7684\u9605\u8bfb\u6548\u679c\u3002](https://vipblog.github.io/PzZ3xYQBd/)\n\n## description\uff1a\n\n\n#### \u9898\u76ee\u63cf\u8ff0\n\n\u73b0\u5728\u6211\u4eec\u7ed9\u51fa\u4e00\u4e2a $n\\times m$ \u7684\u5355\u8272\u4f4d\u56fe\uff0c\u4e14\u8be5\u56fe\u4e2d\u81f3\u5c11\u542b\u6709\u4e00\u4e2a\u767d\u8272\u7684\u50cf\u7d20\u3002\u6211\u4eec\u7528 $(i, j)$ \u6765\u4ee3\u8868\u7b2c $i$ \u884c\u7b2c $j$ \u5217\u7684\u50cf\u7d20\uff0c\u5e76\u4e14\u5b9a\u4e49\u4e24\u70b9 $p_1=(i_1, j_1)$ \u548c $p_2=(i_2, j_2)$ \u4e4b\u95f4\u7684\u8ddd\u79bb\u4e3a\uff1a\n\n$$ d(p_1,p_2)=|i_1 - i_2| + |j_1-j_2| $$\n\n\u4efb\u52a1\uff1a\n\n\u8bf7\u5199\u4e00\u4e2a\u7a0b\u5e8f\uff1a\n\n\u4ece\u6587\u672c\u6587\u4ef6 BIT.IN \u4e2d\u8bfb\u5165\u8be5\u4f4d\u56fe\uff1b\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u50cf\u7d20\uff0c\u8ba1\u7b97\u51fa\u79bb\u8be5\u50cf\u7d20\u6700\u8fd1\u7684\u767d\u8272\u50cf\u7d20\u4e0e\u5b83\u7684\u8ddd\u79bb\uff1b\n\n\u628a\u7ed3\u679c\u8f93\u51fa\u3002\n\n#### \u8f93\u5165\u683c\u5f0f\n\n\u7b2c\u4e00\u884c\u5305\u62ec\u4e24\u4e2a\u7528\u7a7a\u683c\u5206\u5f00\u7684\u6574\u6570 $n$ \u548c $m$\uff0c$1\\le n\\le 150$\uff0c$1\\le m\\le 150$\u3002\n\n\u4ee5\u4e0b\u7684 $n$ \u884c\u6bcf\u884c\u5305\u62ec\u4e00\u4e2a\u957f\u5ea6\u4e3a $m$ \u7684\u6574\u6570\u4e3a\u96f6\u6216\u4e00\uff0c\u5728\u7b2c $i+1$ \u884c\u7684\u7b2c $j$ \u4e2a\u5b57\u7b26\u5982\u679c\u4e3a `1`\uff0c\u90a3\u4e48\u8868\u793a\u50cf\u7d20 $(i, j)$ \u4e3a\u767d\u7684\uff0c\u5426\u5219\u4e3a\u9ed1\u7684\u3002\n\n#### \u8f93\u51fa\u683c\u5f0f\n\n\u8f93\u51fa\u4e00\u4e2a $n\\times m$ \u7684\u6570\u8868\uff0c\u5176\u4e2d\u7684\u7b2c $i$ \u884c\u7684\u7b2c $j$ \u4e2a\u6570\u5b57\u4e3a $f(i, j)$ \u8868\u793a\u50cf\u7d20 $(i, j)$ \u5230\u6700\u8fd1\u7684\u767d\u8272\u50cf\u7d20\u7684\u8ddd\u79bb\u3002\n\n## solution\uff1a\n\n\u89c2\u5bdf\u5230\u6570\u636e\u8303\u56f4\u8f83\u5c0f\uff0c\u90a3\u4e0d\u59a8\u76f4\u63a5\u627e\u51fa\u6240\u6709\u7684\u767d\u70b9\uff0c\u7136\u540e\u4f9d\u6b21\u66f4\u65b0\u5230\u6bcf\u4e2a\u9ed1\u70b9\u7684\u8ddd\u79bb\u3002\u5982\u679c\u8ddd\u79bb\u6bd4\u539f\u6765\u8fd9\u4e2a\u9ed1\u70b9\u7684\u6700\u4f73\u8ddd\u79bb\u66f4\u5c0f\uff0c\u90a3\u4e48\u5c31\u66f4\u5c0f\u5b83\u3002\n\n\u6700\u52a3\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(n^4)$\uff0c\u7136\u800c\u4e00\u822c\u8fdc\u65e0\u6cd5\u8fbe\u5230\u3002\n\n\n## code\uff1a\n\n```cpp\n#include<cstdio>\n#include<queue>\n#include<algorithm>\nusing namespace std;\nqueue<pair<int,int> >q;\nint dis[155][155],a[155][155];\nint abs(int x)\n{\n\tif(x<0)return -x;\n\treturn x;\n}\nint main()\n{\n\tmemset(dis,0x3f,sizeof(dis));\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t\tif(a[i][j]==1)\n\t\t\t{\n\t\t\t\tq.push(make_pair(i,j));\n\t\t\t}\n\t\t}\n\t}\n\twhile(!q.empty())\n\t{\n\t\tint x=q.top().first;\n\t\tint y=q.top().second;\n\t\tq.pop();\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tfor(int j=1;j<=m;j++)\n\t\t\t{\n\t\t\t\tif(a[i][j]==0)\n\t\t\t\t{\n\t\t\t\t\tdis[i][j]=min(dis[i][j],abs(i-x)+abs(j-y));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tif(a[i][j]==1)\n\t\t\t{\n\t\t\t\tprintf(\"0 \");\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tprintf(\"%d \",dis[i][j]);\n\t\t\t}\n\t\t}\n\t\tprintf(\"\\n\");\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1592046673,
        "uid": 45475,
        "name": "ShineEternal",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2335 \u3010[SDOI2005]\u4f4d\u56fe\u3011"
    },
    {
        "content": "\u8fd9\u9898\u5176\u5b9e\u5c31\u662f\u4e0d\u65ad\u53d6\u6bcf\u5757\u5bf9\u767d\u5757\u7684min\n\u4e8c\u8bdd\u4e0d\u8bf4\u4e0a\u4ee3\u7801\nc++\uff1a\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint n,m,k;\nint b[155][155];\nchar a[155][155];\nstruct xiabiao {\n\tint x,y;\n} c[100005];\nvoid work(int xx,int yy) {\n\tfor(int i=1; i<=k; i++) {\n\t\tb[xx][yy]=min(abs(c[i].x-xx)+abs(c[i].y-yy),b[xx][yy]); // \u5bf9\u6bcf\u4e00\u4e2a\u767d\u5757\u53d6\u6700\u5c0f\u503c \n\t}\n}\nint main() {\n\tcin>>n>>m;\n\tmemset(b,0x3f,sizeof(b)); // \u8ddd\u79bb\u8981\u53d6\u6700\u5c0f\uff0c\u6240\u4ee5\u8981\u521d\u59cb\u5316\u5927\u7684\u503c \n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=m; j++) {\n\t\t\tcin>>a[i][j];\n\t\t\tif(a[i][j]=='1') { //\u76f4\u63a5\u9884\u5904\u7406\n\t\t\t\tb[i][j]=0; // \u81ea\u8eab\u65e0\u8ddd\u79bb\n\t\t\t\tk++;\n\t\t\t\tc[k].x=i; //\u50a8\u5b58\u767d\u5757\u4fe1\u606f\n\t\t\t\tc[k].y=j;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=m; j++) {\n\t\t\tif(a[i][j]=='0') {\n\t\t\t\twork(i,j); //\u4e00\u4e2a\u4e00\u4e2a\u7b97\u8ddd\u79bb\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=m; j++) {\n\t\t\tcout<<b[i][j]<<\" \";\n\t\t}\n\t\tcout<<endl;\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1566211366,
        "uid": 82121,
        "name": "\u738b\u94b0\u7fd4",
        "ccfLevel": 0,
        "title": "P2335 [SDOI2005]\u4f4d\u56fe"
    },
    {
        "content": "\u9898\u76ee\u5206\u6790\uff1a\n\n\u8bfb\u9898\u540e\u4e0d\u96be\u60f3\u5230\uff1a\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u9ed1\u8272\u50cf\u7d20\uff0c\u90fd\u53bb\u8fdb\u884c\u4e00\u6b21\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\uff0c\u627e\u5230\u6700\u8fd1\u7684\u767d\u8272\u50cf\u7d20\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u767d\u8272\u50cf\u7d20\uff0c\u6700\u8fd1\u7684\u767d\u8272\u50cf\u7d20\u5c31\u662f\u81ea\u5df1\u3002\u4f46\u662fn\uff0cm\u7684\u8303\u56f4\u8fc7\u5927\uff0c\u8d85\u65f6\uff01\n\n\u6545\u6b64\u9898\u91c7\u7528\uff1a\u591a\u6e90\u6700\u77ed\u8def\u7b97\u6cd5\n\n\u5bf9\u6bcf\u4e00\u4e2a\u767d\u70b9\u8fdb\u884c\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\uff0c\u7531\u5b83\u53bb\u66f4\u65b0\u9ed1\u70b9\u7684\u7b54\u6848\uff0c\u518d\u7531\u5df2\u7ecf\u66f4\u65b0\u7684\u9ed1\u70b9\u53bb\u66f4\u65b0\u5176\u4ed6\u9ed1\u70b9\u7684\u7b54\u6848\uff0c\u4f46\u6bcf\u4e2a\u70b9\u4e0d\u662f\u53ea\u53bb\u4e00\u6b21\uff0c\u5f53\u6211\u4eec\u53d1\u73b0\u5b58\u5728\u66f4\u4f18\u89e3\u65f6\u5e94\u5f53\u91cd\u65b0\u52a0\u5165\u961f\u5217\u8fdb\u884c\u66f4\u65b0.\u5bf9\u6bcf\u4e00\u4e2a\u767d\u70b9\u8fdb\u884c\u5e7f\u5ea6\u4f18\u5148\u641c\u7d22\uff0c\u7531\u5b83\u53bb\u66f4\u65b0\u9ed1\u70b9\u7684\u7b54\u6848\uff0c\u518d\u7531\u5df2\u7ecf\u66f4\u65b0\u7684\u9ed1\u70b9\u53bb\u66f4\u65b0\u5176\u4ed6\u9ed1\u70b9\u7684\u7b54\u6848\uff0c\u4f46\u6bcf\u4e2a\u9ed1\u70b9\u4e0d\u662f\u53ea\u66f4\u65b0\u4e00\u6b21\uff0c\u5f53\u6211\u4eec\u53d1\u73b0\u5b58\u5728\u66f4\u4f18\u89e3\u65f6\u5e94\u5f53\u91cd\u65b0\u52a0\u5165\u961f\u5217\u8fdb\u884c\u66f4\u65b0.\n\n**\u4ee3\u7801\u5982\u4e0b\uff1a**\n```cpp\n\n#include<bits/stdc++.h>\nusing namespace std;\nstruct _\n{\n\tint x,y;\n}q[182*182+5];//\u5b58\u767d\u50cf\u7d20\u70b9\nint ans[183][183],n,m,cnt;\nbool flag[183][183]; \nint dx[4]={1,-1,0,0};\nint dy[4]={0,0,1,-1};//\u65b9\u5411\u6570\u7ec4\uff0c\u641c\u56db\u5468\u7684\u70b9 \nvoid BFS()\n{\n\tint h=1,t=cnt,nx,ny,i;\n\twhile(h<=t)//BFS\u6a21\u677f \n\t{\n\t\tfor(i=0;i<=3;i++)\n\t\t{\n\t\t\tnx=q[h].x+dx[i];\n\t\t\tny=q[h].y+dy[i];\n\t\t\tif(nx>=1&&nx<=n&&ny>=1&&ny<=m)//\u9996\u5148\u4e0d\u80fd\u8d8a\u754c \n\t\t\t{\n\t\t\t\tif(!flag[nx][ny]&&ans[q[h].x][q[h].y]+1<ans[nx][ny])\n\t\t\t\t{//\u4e3a\u9ed1\u70b9\u4e14 \uff01\uff01\uff01\u5f53\u524d\u7684\u7b54\u6848\u6bd4\u4e4b\u524d\u7684\u66f4\u4f18\uff0c\u5219\u9009\u62e9\u8fd9\u79cd\u65b9\u6848\n\t\t\t\t//\u628a\u8fd9\u4e2a\u672c\u6765\u5df2\u7ecf\u6269\u5c55\u8fc7\u7684\u8282\u70b9\u538b\u5165\uff0c\u8ba9\u5b83\u53bb\u66f4\u65b0\u5176\u5b83\u7684\u70b9\u7684\u66f4\u4f18\u7b54\u6848\n\t\t\t\t//\u6bd4\u5982 \u5f53\u524d\u70b9(x,y)\u7684\u4e0a\u4e00\u6b21\u6700\u8fd1\u8ddd\u79bb\u4e3a3\uff0c\u5b83\u7684\u4e0a\u9762\u4e00\u4e2a\u70b9(x,y+1)\u7684\u8ddd\u79bb\u4e3a4\n\t\t\t\t//\u800c\u73b0\u5728(x,y)\u7684\u8ddd\u79bb\u53ef\u4ee5\u88abnx\uff0cny\u4f18\u5316\u52302\uff0c\u90a3\u4e48(x,y+1)\u81ea\u7136\u53ef\u4ee5\u4f18\u5316\u52303\n\t\t\t\t\tt++;\n\t\t\t\t\tq[t].x=nx;\n\t\t\t\t\tq[t].y=ny;\n\t\t\t\t\tans[nx][ny]=ans[q[h].x][q[h].y]+1;//\u66f4\u65b0 \n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\th++;\n\t}\n\t//\u7ed3\u675f\u65f6\u6240\u6709\u7684\u70b9\u7684\u7b54\u6848\u5df2\u7ecf\u6700\u4f18\u4e86(\u5168\u90e8\u66f4\u65b0\u5b8c\u6bd5) \n}\nint main()\n{\n\tint i,j;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tfor(j=1;j<=m;j++)\n\t\t{\n\t\t\tchar ch;\n\t\t\tcin>>ch;\n\t\t\tif(ch=='0')flag[i][j]=false,ans[i][j]=0x7ff;//\u9ed1\u70b9\u4e3afalse\uff0cans\u5b9a\u5927\u65b9\u4fbf\u4e4b\u540e\u66f4\u65b0\u7b54\u6848 \n\t\t\telse//\u628a\u6240\u6709\u7684\u767d\u70b9\u4e22\u8fdb\u961f\u5217 \n\t\t\t{\n\t\t\t\tcnt++;\n\t\t\t\tq[cnt].x=i;q[cnt].y=j;\n\t\t\t\tflag[i][j]=true;\n\t\t\t\tans[i][j]=0; \n\t\t\t}\n\t\t}\n\t}\n\tBFS();//\u5229\u7528\u6240\u6709\u7684\u767d\u70b9\u53bb\u641c\u7d22\uff0c\u53ea\u9700\u4e00\u6b21\u641c\u7d22\u5373\u53ef \n\tfor(i=1;i<=n;i++)\n\t{\n\t\tfor(j=1;j<=m;j++)printf(\"%d \",ans[i][j]);\n\t\tprintf(\"\\n\");\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1527304565,
        "uid": 68634,
        "name": "_L_h_J_",
        "ccfLevel": 0,
        "title": "P2335 [SDOI2005]\u4f4d\u56fe"
    },
    {
        "content": "\u8fd9\u9053\u9898\u3002\u3002\u3002\u3002\u4e00\u770b\u6570\u636e\u89c4\u6a21\u5c31\u77e5\u9053\u662f\u641c\u7d22\n\n\u4f46\u641c\u7d22\u4e5f\u6709\u6280\u5de7\u554a\uff01\n\n\u6211\u8bf4\u4e00\u4e0b\u7684\u51e0\u4e2a\u601d\u8def\uff08\u53ef\u80fd\u4e0d\u4e00\u5b9a\u5bf9\uff09\n\n\u601d\u8def\u4e00\uff1a\u4ece0\u5f00\u59cb\u641c\uff0c\u4e00\u4e2a\u4e00\u4e2a0\u5206\u522b\u641c\u7d22\uff0c\u5f53\u9047\u52301\u5c31\u8fd4\u56de\uff08\u6b64\u65f6\u4e00\u5b9a\u662f\u6700\u8fd1\u7684\uff09\u3002\u4f46\u662f\uff0c\u8d39\u65f6\uff08\u5f88\u591a\u91cd\u590d\u7684\u72b6\u6001\u88ab\u53cd\u590d\u8bb0\u5f55\uff09\n\n\u601d\u8def\u4e8c\uff1a\u4f18\u53161\uff0c\u53ea\u4e0d\u8fc7\u4e00\u6b21\u8bb0\u5f55\u4e00\u4e2a\u201c\u8fde\u901a\u5206\u91cf\u201d\u76840\uff0c\u4f46\u53ef\u80fd\u4f1a\u8ff7\u4e4bWA\uff08\u4f5c\u4e3a\u61d2\u60f0\u578b\u9009\u624b\uff0c\u624d\u4e0d\u544a\u8bc9\u4f60\u662f\u4ee3\u7801\u592a\u9ebb\u70e6\u4e86\uff09\n\n\n\u6211\u4eec\u4e0d\u59a8\u629b\u5f00\u601d\u8def\u4e00\uff0c\u4e8c\uff1b\n\n\u6211\u4eec\u8fd8\u53ef\u4ee5\u4ece1\u5f00\u59cb\u641c\uff0c\u53ea\u4e0d\u8fc7\u7528\u4e86SPFA\u7684\u601d\u60f3\uff0c\u5373\u5982\u679c\u6210\u529f\u66f4\u65b0ans[i][j](\u521d\u59cb\u503c\u4e3ainf)\uff1b\u90a3\u4e48\u624d\u7ee7\u7eed\u641c\uff08\u60f3\u60f3\u8fd9\u662f\u4e3a\u4ec0\u4e48\uff09\n\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#include <cstring>\nusing namespace std;\nint n,m;int a[155][155];\nint ans[155][155];\nint mx[4]={0,0,1,-1},my[4]={1,-1,0,0};\nint qx[150*151],qy[150*151];\nint main(){\n    memset(ans,60,sizeof(ans));\n    scanf(\"%d%d\",&n,&m);int head=0,tail=0;\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n            scanf(\"%d\",&a[i][j]);\n            if(a[i][j]){\n                ans[i][j]=0;\n                qx[++tail]=i;qy[tail]=j;\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014>\u628a1\u5148\u6254\u8fdb\u961f\u5217\n            }\n        }\n    }\n    int x,y;\n    while(tail>head){\n        head++;x=qx[head];y=qy[head];\n        for(int i=0;i<4;i++){\n            if((x+mx[i]>0&&x+mx[i]<=n&&y+my[i]>0&&y+my[i]<=m)\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014>\u8fb9\u754c\n            &&((a[x+mx[i]][y+my[i]]!=1)&&(ans[x+mx[i]][y+my[i]]>ans[x][y]+1))){\n```\n|                                                  |\n                          |                                                  |\n\u5176\u5b9e\u53ef\u4ee5\u4e0d\u7528\u8fd9\u4e2a\u3002\u3002               \u4f46\u8fd9\u4e2a\u662f\u6838\u5fc3\n\n```cpp\n                qx[++tail]=x+mx[i];qy[tail]=y+my[i];\n                ans[x+mx[i]][y+my[i]]=ans[x][y]+1;\n            }\n        }\n    }\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++)cout<<ans[i][j]<<\" \";\n        cout<<endl;\n    }\n    return 0;\n}\n```",
        "postTime": 1486693220,
        "uid": 17303,
        "name": "lijialin",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2335 \u3010[SDOI2005]\u4f4d\u56fe\u3011"
    },
    {
        "content": "\u5982\u679c\u76f4\u63a5\u7528f[x][y]=min(min(min(dfs(x+1,y),dfs(x-1,y)),dfs(x,y+1)),dfs(x,y-1))+1;\u8fdb\u884c\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u8bdd\uff0c\u4f1a\u8fdb\u5165\u65e0\u9650\u5faa\u73af\u3002\n\n\u6240\u4ee5\u5206\u522b\u4ece\u5de6\u4e0a\u5230\u53f3\u4e0b\uff0c\u53f3\u4e0a\u5230\u5de6\u4e0b\uff0c\u5de6\u4e0b\u5230\u53f3\u4e0a\uff0c\u53f3\u4e0b\u5230\u5de6\u4e0a\u8fdb\u884c\u8bb0\u5fc6\u5316\u641c\u7d22\u3002\n\u5de6\u4e0a\u5230\u53f3\u4e0b\u641c\u7d22\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a f[x][y]=min(dfs(x+1,y),dfs(x,y+1))+1;,\u4ee5\u6b64\u7c7b\u63a8\u3002\n\u6700\u7ec8\u7684\u7b54\u6848\u5c31\u662f\u56db\u4e2af[x][y]\u7684\u6700\u5c0f\u503c\u3002\n\n\u7ec6\u8282\u65b9\u9762\u89c1\u4e8e\u4ee3\u7801\u3002\n\n\n```cpp\n#include <iostream>\nusing namespace std;\n\nint n,m,a[155][155],f[155][155][5],ans[155][155],\nSet[5][3]={{0,0,0},{0,1,1},{0,1,-1},{0,-1,1},{0,-1,-1}};\n\nint dfs(int x,int y,int z) {\n\tif(x>n||x<=0||y>m||y<=0) return f[x][y][z]=999;\n\tif(f[x][y][z]!=999) return f[x][y][z];\n\tif(a[x][y]) return f[x][y][z]=0;\n\tf[x][y][z]=min(dfs(x+Set[z][1],y,z),dfs(x,y+Set[z][2],z));\n\tf[x][y][z]++;\n\treturn f[x][y][z];\n}\n\nint main() {\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tcin>>a[i][j];\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tfor(int k=1;k<=4;k++) {\n\t\t\t\tf[i][j][k]=999;\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=4;i++) {\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\tfor(int k=1;k<=m;k++) {\n\t\t\t    dfs(j,k,i);\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tans[i][j]=999;\n\t\t\tfor(int k=1;k<=4;k++) {\n\t\t\t\tans[i][j]=min(ans[i][j],f[i][j][k]);\n\t\t\t}\n\t\t\tcout<<ans[i][j];\n\t\t\tif(j-m) cout<<\" \";\n\t\t}\n\t\tcout<<endl;\n\t}\n}\n```\n",
        "postTime": 1574071550,
        "uid": 245540,
        "name": "\u4fe9\u5c0f\u5708",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2335 \u3010[SDOI2005]\u4f4d\u56fe\u3011"
    },
    {
        "content": "\u540c\u697c\u4e0a@lijialin\u7684\u8bdd\uff0c\u6839\u636e\u6570\u636e\u8303\u56f4\uff0c\u8fd9\u9898\u5f88\u5bb9\u6613\u60f3\u5230\u662fBFS\n\n\u540c\u65f6BFS\u4e5f\u5e94\u8be5\u638c\u63e1\u6280\u5de7\uff0c\u4e0d\u80fd\u76f2\u76ee\u5730\u5c06\u641c\u5230\u7684\u65b9\u683c\u52a0\u5165\u641c\u7d22\u961f\u5217\uff0c\u8981\u52a0\u4e0a\u5224\u65ad\uff0c\u4fdd\u8bc1\u6bcf\u52a0\u4e00\u4e2a\u65b9\u683c\u90fd\u80fd\u6709\u7528\u3002\n\n\u8fd8\u662f\u7c7b\u4f3c\u4e8e@lijialin\u7684\u65b9\u6cd5\uff0c\u8bfb\u5165\u65f6\u5148\u5c06\u767d\u8272\u65b9\u683c\u6254\u8fdb\u961f\u5217\uff0c\u641c\u7d22\u65f6\u5c06\u6ee1\u8db3\u4e0b\u8ff0\u6761\u4ef6\u7684\u65b9\u683c\u52a0\u5165\u961f\u5217\uff0c\u5f53\u961f\u5217\u4e3a\u7a7a\uff0c\u505c\u6b62\u641c\u7d22\u3002\n\n\u6761\u4ef6\uff1a\n\n1.\u5728\u5f53\u524d\u65b9\u683c\u4e0a\u3001\u4e0b\u3001\u5de6\u3001\u53f3\u7684\u76f8\u90bb\u7684\u65b9\u683c\u3002\uff08\u663e\u800c\u6613\u89c1\uff09\n\n2.\u4e0d\u5728\u5f53\u524d\u641c\u7d22\u961f\u5217\u4e2d\u3002\uff08\u4e0d\u6ee1\u8db3\u4e5f\u53ef\u4ee5\uff0c\u4f46\u662f\u4f1a\u5f92\u589e\u5927\u91cf\u65f6\u95f4\u3001\u7a7a\u95f4\u5f00\u9500\uff09\n\n3.\u5df2\u77e5\u8def\u5f84\u957f\u4e8e\u5f53\u524d\u641c\u7d22\u5230\u7684\u8def\u5f84\u3002\uff08\u7cbe\u9ad3\u6240\u5728\uff0c\u5982\u679c\u6bd4\u5f53\u524d\u641c\u7d22\u5230\u7684\u8def\u5f84\u77ed\u4e5f\u4f1a\u5f92\u589e\u5927\u91cf\u65f6\u95f4\u3001\u7a7a\u95f4\u5f00\u9500\uff0c\u800c\u4e14\u4f1aWA\uff09\n\nPS\uff1a\u4ed4\u7ec6\u770b\u4e86@lijialin\u7684\u9898\u89e3\u540e\u53d1\u73b0\u601d\u8def\u5dee\u4e0d\u591a\uff0c\u4e0d\u8fc7\u591a\u4e00\u4efd\u9898\u89e3\u603b\u4f1a\u591a\u4e00\u4efd\u6536\u83b7\u5427\u3002\n\n[codec]\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<queue>\nusing namespace std;\nstruct pos {\n    int x,y;\n};\nconst int dx[4]={-1,1,0,0};\nconst int dy[4]={0,0,-1,1};\nint main() {\n    int n,m;\n    scanf(\"%d%d\",&n,&m);\n    bool b[n+2][m+2];\n    int f[n+2][m+2];\n    memset(b,0,sizeof(b));\n    for(int i=0;i<n+2;i++) {\n        for(int j=0;j<m+2;j++) {\n            f[i][j]=0x7fffffff;\n        }\n    }\n    queue<pos> q;\n    for(int i=1;i<=n;i++) {\n        for(int j=1;j<=m;j++) {\n            int t;\n            scanf(\"%d\",&t);\n            b[i][j]=(bool)t;\n            if(t) {\n                f[i][j]=0;\n                pos p;\n                p.x=i;\n                p.y=j;\n                q.push(p);\n            }\n        }\n    }\n    while(!q.empty()) {\n        for(int i=0;i<4;i++) {\n            if((q.front().x+dx[i])&&(q.front().x+dx[i]<=n)&&(q.front().y+dy[i])&&(q.front().y+dy[i]<=m)) {\n                if(!b[q.front().x+dx[i]][q.front().y+dy[i]]&&(f[q.front().x][q.front().y]+1<f[q.front().x+dx[i]][q.front().y+dy[i]])) {\n                    f[q.front().x+dx[i]][q.front().y+dy[i]]=f[q.front().x][q.front().y]+1;\n                    pos p;\n                    p.x=q.front().x+dx[i];\n                    p.y=q.front().y+dy[i];\n                    q.push(p);\n                }\n            }\n        }\n        q.pop();\n    }\n    for(int i=1;i<=n;i++) {\n        for(int j=1;j<=m;j++) {\n            printf(\"%d \",f[i][j]);\n        }\n        printf(\"\\n\");\n    }\n    return 0;\n}\n[/codec]\n```",
        "postTime": 1489925529,
        "uid": 10086,
        "name": "skylee",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2335 \u3010[SDOI2005]\u4f4d\u56fe\u3011"
    },
    {
        "content": "\u770b\u5230\u8bf8\u4f4ddalao\u90fd\u662f\u641c\u7d22\u6216dp\uff0c\u96be\u9053\u53ea\u6709\u6211\u4e00\u4e2a\u849f\u84bb\u7528\u4e86\u679a\u4e3e\u5417\uff1f\n\n```cpp\n#include<iostream>\n#include<cmath>\nusing namespace std;\nint map[151][151],ans[151][151];\nstruct node\n{\n    int x,y;\n}a[1000000];\nint n,m,k,i,j;\nint min(int c1,int c2)\n{\n    if(c1<c2) return c1;\n    else return c2;\n    return c1;\n}\nvoid does(int xx,int yy)\n{\n    for(int z=1;z<=k;z++)\n        ans[xx][yy]=min(abs(a[z].x-xx)+abs(a[z].y-yy),ans[xx][yy]);\n}\nint main()\n{\n    cin>>n>>m;\n    for(i=1;i<=n;i++)\n      for(j=1;j<=m;j++)\n      {\n          cin>>map[i][j];\n          ans[i][j]=1000000;\n          if(map[i][j]==1)\n          {\n              ans[i][j]=0;\n              k++; //\u7edf\u8ba1\u767d\u8272\u50cf\u7d20\u4e2a\u6570\n              a[k].x=i;\n              a[k].y=j;//\u8bb0\u5f55\u4e0b\u767d\u8272\u50cf\u7d20\u4f4d\u7f6e\n          }\n      }\n    for(i=1;i<=n;i++)\n      for(j=1;j<=m;j++)\n      if(map[i][j]==0) does(i,j);\n    for(i=1;i<=n;i++)\n      for(j=1;j<=m;j++)\n      {\n          if(j==m) cout<<ans[i][j]<<endl;\n          else cout<<ans[i][j]<<\" \"; //\u8f93\u51fa\u5199\u5f97\u96be\u770b\uff0c\u522b\u4ecb\u610f\u54c8\n      }\n      return 0;\n}\n//\u53ef\u80fd\u662f\u6570\u636e\u6bd4\u8f83\u6c34\u5427\uff0c\u849f\u84bb\u7684\u679a\u4e3e\u624d\u8fc7\u4e86\n//\u7b2c\u4e00\u6b21\u5199\u9898\u89e3\uff0c\u6709\u9519\u8bf7dalao\u4eec\u8f7b\u55b7\n```",
        "postTime": 1484910694,
        "uid": 35178,
        "name": "asuldb",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2335 \u3010[SDOI2005]\u4f4d\u56fe\u3011"
    },
    {
        "content": "\u672c\u9898\u7528\u5e7f\u5ea6\u4f18\u5148\u641c\u7d20\u505a\uff0c\u8fdb\u884c\u4f18\u5316\uff0c\u641c\u7d22\u5bf9\u89d2\u7ebf\u65f6\u6ce8\u610f\u8ddd\u79bb\u7684\u8ba1\u7b97\uff0c\u6bd4\u8f83\u7b80\u5355\uff0c\u4e5f\u53ef\u7528DP\u6765\u505a\u3002\n\n\n\n\n\n    \n```cpp\n#include <iostream>\n#include <cstdio>\n#include <queue>\n#include <cmath>\n#include <cstring>\nusing namespace std;\nint n,m,num=1;\nchar s[500][500];\nint b[10][40000];\nint a[500][500];\nconst int ax[]={0,0,1,1,1,-1,-1,-1};\nconst int ay[]={1,-1,0,1,-1,0,1,-1};\nconst int ad[]={1,1,1,2,2,1,2,2};\nqueue<int>qx;\nqueue<int>qy;\nvoid bfs(int x,int y)\n{\n    qx.push(x);\n    qy.push(y);\n    while(!qx.empty())\n    {\n        int xx=qx.front();        qx.pop();\n        int yy=qy.front();        qy.pop();\n        for(int i=0;i<8;i++)\n        {\n            if(xx+ax[i]<=0||yy+ay[i]<=0||xx+ax[i]>n||yy+ay[i]>m||a[xx+ax[i]][yy+ay[i]]<=a[xx][yy]+ad[i])continue;\n            a[xx+ax[i]][yy+ay[i]]=a[xx][yy]+ad[i];\n            qx.push(xx+ax[i]);\n            qy.push(yy+ay[i]);\n        }\n    }\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    memset(a,1,sizeof(a));\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            cin>>s[i][j];\n            if(s[i][j]=='1')\n            {\n                b[1][num]=i;\n                b[2][num]=j;\n                a[i][j]=0;\n                num++;\n            }\n        } \n    }\n    for(int i=1;i<num;i++)\n        bfs(b[1][i],b[2][i]);\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=m;j++)\n        {\n            printf(\"%d \",a[i][j]);\n        }\n        printf(\"\\n\");\n    }\n    return 0;\n}\n```",
        "postTime": 1467787346,
        "uid": 19182,
        "name": "Johnson_sky",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P2335 \u3010[SDOI2005]\u4f4d\u56fe\u3011"
    },
    {
        "content": "\u554a\u54c8 \u672c\u6765\u60f3\u7528\u641c\u7d22\u505a\uff0c\u540e\u9762\u8fd8\u662f\u7528\u52a8\u89c4\u505a\u4e86\n\n\u8f6c\u79fb\uff1a   f[i,j]:=min(f[i,j],f[i+1,j]+1,f[i-1,j]+1,f[i,j+1]+1,f[i,j-1]+1)\n\n\u7136\u800c\u8f6c\u79fb\u4e00\u6b21\u8fd8\u4e0d\u591f\uff0c\u53ef\u80fd\u627e\u5230\u7684\u4e0d\u662f\u6700\u5c0f\u7684\u3002\u90a3\u4e48\u8981\u8f6c\u79fb\u591a\u5c11\u6b21\u5462\uff1f\n\n\u6211\u4eec\u8f6c\u5316\u4e00\u4e0b\u95ee\u9898\uff0c\u6700\u591a\u4f1a\u6709\u591a\u5c11\u6b21\u79fb\u52a8\uff1fn+m\u3002\n\n\u7136\u540e\u6570\u636e\u53ea\u6709150\uff0c\u6211\u4eec\u7684\u6700\u5927\u590d\u6742\u5ea6\u4e3aO((M+N)\\*N\\*M)\uff0c\u4e0d\u4f1a\u8d85\u65f6\u3002\n\n##\u4ee3\u7801\n\n\n```delphi\n\nprogram qyp_bit;\nvar p,f:array[0..151,0..151]of longint;\n    n,m,i,j,k:longint;\nfunction min(a,b,c,d,e:longint):longint;\nbegin\n  if a<b then b:=a;\n  if b<c then c:=b;\n  if c<d then d:=c;\n  if d<e then e:=d;\n  exit(e);\nend;\nbegin\n   readln(n,m);\n   fillchar(f,sizeof(f),$0f);\n   for i:=1 to n do\n    for j:=1 to m do\n     begin\n      read(p[i,j]);\n      if p[i,j]=1 then f[i,j]:=0;\n     end;\n\n   for k:=1 to m+n do\n    for i:=1 to n do\n     for j:=1 to m do\n      f[i,j]:=min(f[i,j],f[i+1,j]+1,f[i-1,j]+1,f[i,j+1]+1,f[i,j-1]+1);\n   for i:=1 to n do\n    begin\n     for j:=1 to m do write(f[i,j],' ');\n     writeln;\n    end;\nend.\n\n```",
        "postTime": 1444302067,
        "uid": 5763,
        "name": "Great\u77bf\u8469",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2335 \u3010[SDOI2005]\u4f4d\u56fe\u3011"
    },
    {
        "content": "\u8bb0\u5f55\u4e0b\u6bcf\u4e2a\u4e3a1\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u653e\u5728\u961f\u5217\uff0c\u8fdb\u884c\u5bbd\u641c\uff0c\u5982\u679c\u961f\u5217\u4e2d\u5143\u7d20\u7684\u56db\u9762\u4e2d\u6709\u4e00\u4e2a\u6ca1\u6709\u88ab\u66f4\u65b0\u8fc7\u503c\uff0c\u90a3\u4e48\u5c31\u76f4\u63a5\u628a\u8fd9\u4e2a\u5143\u7d20\u7684\u7b54\u6848+1\u8d4b\u7ed9\u90a3\u4e2a\u5143\u7d20\uff0c\u7136\u540e\u628a\u4ed6\u52a0\u8fdb\u961f\u5217\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u6837\u4e00\u5b9a\u884c\u5462\uff1f\u9996\u5148\u88ab\u66f4\u65b0\u7684\u80af\u5b9a\u662f\u6700\u8d34\u8fd1\u767d\u50cf\u7d20\u70b9\uff0c\u800c\u4e14\u80af\u5b9a\u662f\u6700\u4f18\u7684\uff0c\u4e00\u65e6\u67d0\u4e2a\u70b9\u88ab\u66f4\u65b0\uff0c\u90a3\u4e48\u88ab\u66f4\u65b0\u7684\u503c\u4e00\u5b9a\u662f\u6700\u4f18\u7684\uff0c\u8fd9\u6837\u5de7\u5999\u5730\u8fdb\u884c\u4e86\u5bbd\u641c\n\n```delphi\n\nconst  \n  x:array[1..4]of integer=(-1,1,0,0);  \n  y:array[1..4]of integer=(0,0,-1,1);  \nvar  \n  n,m,i,j,t,h,ch:longint;  \n  g:array[-1..1000,-1..1000]of longint;  \n  px,qy:array[0..40000]of longint;  \nbegin  \n    readln(n,m);  t:=0;  \n    fillchar(g,sizeof(g),0);  \n    for i:=1 to n do begin  \n      for j:=1 to m do begin  \n        read(ch);  \n        if ch=1then begin  \n          inc(t);  \n          px[t]:=i;  \n          qy[t]:=j;  \n        end  \n        else g[i,j]:=-1;  \n      end;  \n      readln;  \n    end;  \n    ////bfs  \n    h:=0;  \n    while h<>t do begin  \n      inc(h);  \n      for i:=1 to 4 do  \n       if g[px[h]+x[i],qy[h]+y[i]]=-1 then begin  \n         inc(t);  \n         px[t]:=px[h]+x[i];  \n         qy[t]:=qy[h]+y[i];  \n         g[px[t],qy[t]]:=1+g[px[h],qy[h]];  \n       end;  \n    end;  \n    for i:=1 to n do begin  \n      for j:=1 to m do write(g[i,j],' ');  \n      writeln;  \n    end;  \nend.\n\n```",
        "postTime": 1444301701,
        "uid": 5729,
        "name": "zls6602488",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2335 \u3010[SDOI2005]\u4f4d\u56fe\u3011"
    }
]