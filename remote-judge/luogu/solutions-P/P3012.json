[
    {
        "content": "\u7528 $f[i][j][k]$ \u8868\u793a\u672b\u5c3e\u5b57\u6bcd\u7684 ascii \u7801\u4e3a $i$ \uff0c\u5927\u5199\u5b57\u6bcd\u6709 $j$ \u4e2a\uff0c\u5c0f\u5199\u5b57\u6bcd\u6709 $k$ \u4e2a\u7684\u5b57\u4e32\u7684\u65b9\u6848\u6570\u3002\n\n\u5219\uff1a\n\n$ f[t][j+1][k]+=f[i][j][k]$ (\u4e0b\u4e00\u4e2a\u5b57\u6bcd\u4e3a\u5927\u5199)\u3002\n\n$ f[t][j][k+1]+=f[i][j][k] $ (\u4e0b\u4e00\u4e2a\u5b57\u6bcd\u4e3a\u5c0f\u5199)\u3002\n\n(\u5176\u4e2d $t$ \u4ee3\u8868\u53ef\u4ee5\u63a5\u5728 $i$ \u540e\u9762\u7684\u4e0b\u4e00\u4e2a\u5b57\u6bcd)\u3002\n\n```cpp\n#include<cstdio>\n#define mod 97654321\nint u,l,n,ans=0;\nint ch[130][260];\nint v[130];\nbool vis[130];\nint f[130][300][300];\nchar c[2];\nint main(){\n\tscanf(\"%d%d%d\",&u,&l,&n);\n\tgets(c);\n\tfor(int i=1;i<=n;i++){\n\t\tgets(c);\n\t\tchar a=c[0],b=c[1];\n\t\tch[a][++ch[a][0]]=b;\n\t\tif(!vis[a]) {vis[a]=1;v[++v[0]]=a;}\n\t\tif(!vis[b]) {vis[b]=1;v[++v[0]]=b;}\n\t}\n\tfor(int i=1;i<=v[0];i++) {\n\t\tif(v[i]<97) f[v[i]][1][0]=1;\n\t\telse f[v[i]][0][1]=1;\n\t}\n\tfor(int i=0;i<=u;i++)\n\t    for(int j=0;j<=l;j++)\n\t        for(int k=1;k<=v[0];k++){\n\t        \tif(f[v[k]][i][j]) \n\t        \tfor(int t=1;t<=ch[v[k]][0];t++){\n\t\t\t\t    int tmp=ch[v[k]][t];\n\t\t\t\t    if(tmp<97) f[tmp][i+1][j]=(f[tmp][i+1][j]+f[v[k]][i][j])%mod;\n\t\t\t\t    else f[tmp][i][j+1]=(f[tmp][i][j+1]+f[v[k]][i][j])%mod;\n\t            }\n\t\t\t}\n\tfor(int i=1;i<=v[0];i++)  ans=(ans+f[v[i]][u][l])%mod;\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1638418705,
        "uid": 434929,
        "name": "Usada_Pekora",
        "ccfLevel": 7,
        "title": "P3012 \u65b9\u6848DP"
    },
    {
        "content": "\u9898\u610f\uff1a\u6c42\u4f7f\u5f97\u5b57\u7b26\u4e32\u4e2d\u6bcf\u4e00\u4e2a\u5b57\u6bcd\u540e\u9762\u7684\u5b57\u6bcd\u90fd\u80fd\u591f\u4e0e\u5176\u914d\u5bf9\uff0c\u4e14\u5927\u5199\u5b57\u6bcd\u6709u\u4e2a\u3001\u5c0f\u5199\u5b57\u6bcd\u4e3al\u4e2a\u7684\u5b57\u7b26\u4e32\u4e2a\u6570\u3002\n\n\u601d\u8def\uff1a\u52a8\u6001\u89c4\u5212\u3002\n\n\u52a8\u89c4\u7684\u65b9\u7a0b\uff1a\u8bbef[j][i][k]\u4e3a\u4ee5\u5b57\u6bcdj\u4e3a\u5f00\u5934\uff0c\u6709i\u4e2a\u5b57\u6bcd\uff0ck\u4e2a\u5927\u5199\u5b57\u6bcd\uff08\u5176\u5b9e\u4ece\u4e2d\u5df2\u7ecf\u77e5\u9053\u6709i - k\u4e2a\u5c0f\u5199\u5b57\u6bcd\uff09\u7684\u5b57\u7b26\u4e32\u3002\n\nf[j][i + 1][k + (j <= 26)] = (f[j][i + 1][k + (j <= 26)] + f[o][i][k]) \uff08o\u548cj\u662f\u5339\u914d\u7684\uff09\n\n\u4f18\u5316\uff1a\n\n1.\u4f7f\u7528vector\u6765\u51cf\u5c11\u5185\u5b58\u7684\u4f7f\u7528\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define mod 97654321\nusing namespace std;\n\nvector < int > vec[53];\n\nint u , l , n , ans;\nint f[53][501][251];\nstring s;\nchar t1 , t2;\n\nint function (char c) {\n\tif (c >= 'a' && c <= 'z') {\n\t\treturn c - 'a' + 1;\n\t} else {\n\t\treturn c - 'A' + 27;\n\t}\n}\n\nint main() {\n\tcin >> u >> l >> n;\n\tfor (int i = 1 ; i <= n ; i++) {\n\t\tcin >> t1 >> t2;\n\t\tvec[function (t1)].push_back (function (t2));\n\t}\n\tfor (int i = 1 ; i <= 26 ; i++) {\n\t\tf[i][1][0] = 1;\n\t}\n\tfor (int i = 27 ; i <= 52 ; i++) {\n\t\tf[i][1][1] = 1;\n\t} \n\tfor (int i = 1 ; i < u + l ; i++) {\n\t\tfor (int j = 1 ; j <= 26 ; j++) {\n\t\t\tfor (int k = 0 ; k <= min (u , i) ; k++) {\n\t\t\t\tfor (int o = 0 ; o < vec[j].size () ; o++) {\n\t\t\t\t\tf[j][i + 1][k] = (f[j][i + 1][k] + f[vec[j][o]][i][k]) % mod;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (int j = 27 ; j <= 52 ; j++) {\n\t\t\tfor (int k = 0 ; k <= min (u , i) ; k++) {\n\t\t\t\tfor (int o = 0 ; o < vec[j].size () ; o++) {\n\t\t\t\t\tf[j][i + 1][k + 1] = (f[j][i + 1][k + 1] + f[vec[j][o]][i][k]) % mod;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int j = 1 ; j <= 52 ; j++) {\n\t\tans = (ans + f[j][l + u][u]) % mod;\n\t}\n\tprintf (\"%d\" , ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1567830039,
        "uid": 185756,
        "name": "whc2020",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3012 \u3010[USACO11FEB]\u5976\u725b\u5b57\u6bcdCowlphabet\u3011"
    },
    {
        "content": "\u8fd8\u6ca1\u6709 C++ \u9898\u89e3\uff0c\u8fd9\u91cc\u5199\u4e00\u4efd\u5e2e\u52a9\u65b0\u624b\u3002\n\n\n\u8fd9\u9053\u9898\u770b\u8d77\u6765\u597d\u50cf\u662f\u4e00\u9053\u5b57\u7b26\u4e32\u7684\u95ee\u9898\uff0c\u7136\u800c\u5176\u5b9e\u672c\u9898\u5927\u6982\u662f\u91c7\u53d6\u7684\u52a8\u6001\u89c4\u5212\u7684\u601d\u60f3\u6765\u5b8c\u6210\u7684\u3002\n\n\u6211\u4eec\u770b\u5230\uff0c\u6bcf\u4e00\u4e2a\u5b57\u7b26\u540e\u9762\u8ddf\u7740\u7684\u5b57\u7b26\u6709\u4e00\u4e9b\u9650\u5b9a\uff0c\u7136\u800c\uff0c\u4e00\u4e2a\u5b57\u7b26\u4e32\uff08\u4e0b\u6807 1 -- n\uff09\u662f\u7531\n\n\n\uff081 - ( n - 1) \uff09 \u7684\u5b50\u4e32\u6765\u6784\u6210\u7684\uff0c\u5982\u679c\u6211\u4eec\u786e\u5b9a\u4e86\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u7531\u8fd9\u4e2a\u5b57\u7b26\u4e32\u4e3a\u524d\u7f00\uff0c\u5f80\u540e\n\n\u518d\u6784\u6210\u7684\u4e32\u5c31\u53ef\u4ee5\u901a\u8fc7\u9898\u76ee\u7ed9\u7684\u89c4\u5219\u6765\u8fdb\u884c\u6784\u9020\u3002\n\n\n\u6211\u4eec\u8bbe\u8ba1\u4e00\u4e2a\u72b6\u6001\u6765\u8868\u793a:\n\n\u6784\u9020\u4e00\u4e2a\u957f\u5ea6\u4e3a i \u7684\u4e32\uff0c\u5305\u542b j \u4e2a\u5927\u5199\uff08\u53ef\u4ee5\u7531\u6b64\u63a8\u51fa\u8fd9\u4e2a\u4e32 i - j \u5c0f\u5199\u5b57\u6bcd\uff09\uff0c\u6700\u540e\u4e00\u4e2a\u5b57\u6bcd\u662f k\uff0c\u6709\u591a\u5c11\u79cd\u4e0d\u540c\u7684\u65b9\u6848\u3002\n\n\n\u6211\u4eec\u5f97\u5230\u4e86\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\ndp[i+1][j+1][l] = dp[i+1][j+1][l] + dp[i][j][k] ( l \u662f\u5927\u5199\uff0ckl \u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u8bcd\uff09\n\ndp[i+1][j][l] = dp[i+1][j][l] + dp[i][j][k] ( l \u662f\u5c0f\u5199\uff0c kl \u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u8bcd\uff09\n\n\n\u6211\u4eec\u8981\u6c42\u7684\u7b54\u6848\u5c31\u662f \u2211(dp[u+l][u][i)     ( i \u662f\u4e00\u4e2a\u82f1\u6587\u5b57\u6bcd\uff0c\u53ef\u4ee5\u5927\u5199\u53ef\u4ee5\u5c0f\u5199\uff09\n\n\n\u8bb0\u5f97\u8981\u8fb9\u52a0\u8fb9\u6a21\u3002\n\n\n\n\nCode\n\n\n\n\n\n\n\n\n\n    \n\n\n\n\n```cpp\n#include<iostream>\n#include<vector>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define MOD 97654321\nusing namespace std;\nvector< vector<int> > edges(300);\nint u,l,p,tot = 0;\nint dp[551][255][130];\nint main()\n{\n    memset(dp,0,sizeof dp);\n    scanf(\"%d%d%d\",&u,&l,&p);\n    for (int i=0;i<p;i++)\n    {\n        char c,h;\n        cin >> c >> h;\n        edges[int(c)].push_back(int(h));\n    }\n    for (int i=65;i<=90;i++) dp[1][1][i] = 1; /// \u5927\u5199\n    for (int i=97;i<=122;i++) dp[1][0][i] = 1;\n    for (int i=1;i<u+l;i++)\n    {\n        for (int j=0;j<=i;j++)\n        {\n            for (int k=65;k<=90;k++)\n            {\n                for (int d=0;d<edges[k].size();d++)\n                {\n                    if (edges[k][d] > 90)\n                        dp[i+1][j][edges[k][d]] = (dp[i+1][j][edges[k][d]] + dp[i][j][k]) % MOD; // \u5c0f\u5199\n                    else\n                        dp[i+1][j+1][edges[k][d]] = (dp[i+1][j+1][edges[k][d]] + dp[i][j][k]) % MOD;\n                }\n            }\n            for (int k=97;k<=122;k++)\n            {\n                for (int d=0;d<edges[k].size();d++)\n                {\n                    if (edges[k][d] > 90)\n                        dp[i+1][j][edges[k][d]] = (dp[i+1][j][edges[k][d]] + dp[i][j][k]) % MOD; // \u5c0f\u5199\n                    else\n                        dp[i+1][j+1][edges[k][d]] = (dp[i+1][j+1][edges[k][d]] + dp[i][j][k]) % MOD;\n                }\n            }\n        }\n    }\n    for (int i=65;i<=90;i++) tot = (tot + dp[u+l][u][i]) % MOD;\n    for (int i=97;i<=122;i++) tot = (tot + dp[u+l][u][i]) % MOD;\n    printf(\"%d\",tot);\n    return 0;\n}\n\n```",
        "postTime": 1498804295,
        "uid": 35575,
        "name": "\u4f55\u5353\u7136",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3012 \u3010[USACO11FEB]\u5976\u725b\u5b57\u6bcdCowlphabet\u3011"
    }
]