[
    {
        "content": "\u301010\u5206\u505a\u6cd5\u3011\n\n\u66b4\u529b\u679a\u4e3e\u4e24\u4e2a\u70b9\u5224\u65ad\u4ed6\u4eec\u662f\u5426\u4f1a\u4e0e\u5706\u76f8\u4ea4\u3002\n\n\u7136\u540e\u8f6c\u5316\u4e3a\u4e00\u4e2a\u6700\u5927\u72ec\u7acb\u96c6\u7684\u95ee\u9898\u3002\u5f88\u9057\u61be\u8fd9\u4e00\u6b65\u7684\u590d\u6742\u5ea6\u662f$O(2^n)$\u7684\u3002\n\n\u301030\u5206\u505a\u6cd5/100\u5206\u505a\u6cd5\u3011\n\n\u8003\u8651\u80fd\u4e0d\u80fd\u5148\u5bf9\u6bcf\u4e2a\u70b9\u505a\u70b9\u6587\u7ae0\u3002\n\n\u6211\u4eec\u9996\u5148\u5904\u7406\u51fa\u6bcf\u4e2a\u5154\u5b50\u4e0e\u5706\u7684\u4e24\u6761\u5207\u7ebf\u3002\u53ef\u4ee5\u770b\u505a\u662f\u4ed6\u4eec\u8986\u76d6\u4e86\u5706\u4e0a\u7684\u4e00\u4e2a\u533a\u95f4\u3002\n\n\u8fd9\u4e00\u6b65\u4e0d\u96be\uff0c\u5982\u679c\u5b9e\u5728\u4e0d\u4f1a\u8bf7\u770b\u56fe\uff08\u9700\u8981\u7528\u5230atan2\u51fd\u6570\uff09![](https://cdn.luogu.com.cn/upload/pic/14007.png)\n\uff08\u8865\u4e0a\u56fe\uff09\n$cos\\alpha = r / L$\n\n$cos\\theta = atan2(y,x)$\n\n\u4ed4\u7ec6\u89c2\u5bdf\u4e0b\u56fe\u3002\n\n![](https://cdn.luogu.com.cn/upload/pic/14008.png)\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u5982\u679c\u4e24\u4e2a\u70b9\u4e0e\u5706\u76f8\u4ea4\uff0c\u90a3\u4e48\u4ed6\u4eec\u7684\u5207\u7ebf\u6240\u5904\u7406\u800c\u6765\u7684\u533a\u95f4\u662f\u76f8\u79bb\u7684\uff08\u4ece\u5de6\u5230\u53f3\u4ece\u4e0a\u5230\u4e0b\u7684\u7b2c1\u548c\u7b2c3\u4e2a\u70b9\n\u5f53\u7136\uff0c\u5982\u679c\u662f\u5305\u542b\u7684\uff0c\u4e5f\u662f\u4e00\u4e2a\u9053\u7406\uff1a\u53ef\u4ee5\u770b\u505a\u662f\u4e00\u4e2a\u70b9\u5173\u4e8e\u5706\u5fc3\u505a\u4e86\u4e00\u4e2a\u5bf9\u79f0\u3002\n\u53cd\u4e4b\uff0c\u5982\u679c\u4e24\u4e2a\u70b9\u8fde\u7ebf\u4e0d\u4e0e\u5706\u76f8\u4ea4\uff0c\u5219\u533a\u95f4\u4e00\u5b9a\u662f\u76f8\u4ea4\u4f46\u4e0d\u5305\u542b\u7684\u3002\n\n\u4e8e\u662f\u53ef\u4ee5\u7528\u5230\u7c7b\u4f3c\u4e8etc559 div11000\u7684\u601d\u60f3\uff0c\u628a\u5706\u62c9\u6210\u4e00\u6761\u76f4\u7ebf\u5e76\u5bf9\u8fc7\u62c6\u5206\u70b9\u7684\u6240\u6709\u533a\u95f4\u53d6\u4e2a\u53cd\u3002\u8fd9\u6837\u5c31\u53d8\u6210\u4e86\u627e\u5c3d\u53ef\u80fd\u591a\u7684\u7ebf\u6bb5\u5e76\u4e14\u4f7f\u5f97\u4ed6\u4eec\u5f7c\u6b64\u76f8\u4ea4\u4f46\u4e0d\u5305\u542b\u4e86\u3002\n\n\u6b64\u65f6\uff0c\u53ef\u4ee5\u6ce8\u610f\u5230\u7531\u4e8e\u9009\u62e9\u7684\u4e1c\u897f\u6bcf\u4e24\u4e2a\u7ebf\u6bb5\u90fd\u662f\u8981\u4ea4\u7684\uff0c\u6240\u4ee5\u79d1\u5b66\u8868\u8ff0\u4e00\u4e0b\uff0c\u5c31\u662f\u5bf9\u4e8e\u9009\u62e9\u7684\u533a\u95f4\u5bf9\uff08a1,b1),(a2,b2)... (ak,bk)\uff0c\u4e00\u5b9a\u4f1a\u6ee1\u8db3\u8fd9\u6837\u7684\u6027\u8d28\uff1a\n\n \u5bf9\u4e8e\u6240\u6709\u7684$1 <=i <= j<=k$, \u6709$a_i.x <= a_j.x ,a_i.y <=a_j.y$\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u7b2c2,3...k\u4e2a\u533a\u95f4\u7684\u5de6\u7aef\u70b9\u90fd\u662f\u8981\u5728\u7b2c1\u4e2a\u533a\u95f4\u7684\u53f3\u7aef\u70b9\u5de6\u4fa7\u7684\u3002\n\n\u5bf9\u533a\u95f4\u6309\u5de6\u7aef\u70b9\u6392\u5e8f\u540e\uff0c\u679a\u4e3e\u7b2c\u4e00\u4e2a\u533a\u95f4\u5e76\u8fd0\u7528\u4e0a\u9762\u7684\u6027\u8d28\u5904\u7406\u51fa\u53ef\u80fd\u5408\u6cd5\u7684\u533a\u95f4\uff0c\u7136\u540e\u62ff\u8fd9\u4e9b\u533a\u95f4\u53f3\u7aef\u70b9\u505a\u6700\u957f\u4e0a\u5347\u5b50\u5e8f\u5217\u5373\u53ef\u3002\u8fd9\u4e2aLIS\u7684\u590d\u6742\u5ea6\u51b3\u5b9a\u4f60\u7684\u603b\u590d\u6742\u5ea6\u662f\u5927\u7ea6$n^2logn$\u7684\u8fd8\u662f$n^3$\u7684\uff08\u6240\u4ee5\u603b\u7684\u6765\u8bf4\u6211\u60f3\u4e0d\u592a\u4f1a\u6709\u4eba30\u5206\u5427\uff09\u3002\n\n\u4ee3\u7801\uff1a\n```\n#include <bits/stdc++.h>\n#define MP make_pair\n#define FI first\n#define SE second\n\nusing namespace std;\nconst int maxn = 2005;\nconst double pi = acos(-1.0);\nint n,R;\ninline int read()\n{\n\tint x = 0, f = 1;\n\tchar ch = 0;\n\tfor (;!isdigit(ch); ch = getchar()) if (ch == '-') f = -1;\n\tfor (;isdigit(ch); ch = getchar()) x = x * 10 + ch - 48;\n\treturn x * f;\n}\nstruct Point\n{\n\tdouble x,y;\t\n\tPoint() {}\n\tPoint(double _x, double _y) {x = _x, y = _y;}\n\tPoint operator + (const Point &a) const{ return Point(x + a.x,y + a.y);}\n\tPoint operator += (const Point &a) {return *this = *this + a;}\n\tPoint operator - (const Point &a) const{return Point (x - a.x, y - a.y);}\n\tPoint operator -= (const Point &a) {return *this = *this - a;}\n\tdouble operator ^ (const Point &a) const{return x * a.y - y * a.x;}\n\tdouble cd() {return sqrt(x * x + y * y);}\n}a[maxn];\npair<double,double> A[maxn];\n//atan2\u51fd\u6570\u8868\u793a\u7684\u662f\u4eceX\u8f74\u9006\u65f6\u9488\u65cb\u8f6c\u7684\u89d2\u5ea6 \uff0c\uff08\u53ef\u4ee5\u662f\u8d1f\u503c\uff0c\u8fd4\u56de\u5f27\u5ea6\uff09\n//\u9700\u8981\u89d2\u5ea6\u65f6\u9700\u8981\u4e58180 / pi \ndouble b[maxn],c[maxn];\ninline int check(int x)\n{\n\tif (x == 0) return 0;\n\tint len = 0; c[++len] = b[1];\n\tfor (int i =2 ; i <= x; ++i)\n\t{\n\t\tif (b[i] > c[len]) {c[++len] = b[i]; continue;}\n\t\tint l = upper_bound(c + 1, c + len + 1,b[i]) - c;\n\t\tc[l] = b[i];\n\t}\n\treturn len;\n } \nint main()\n{\n\tn = read(), R = read();\n\n\tfor (int i = 1; i <= n; ++i) \n\t{\n\t\tint x = read(),y = read(); \n\t\ta[i] = Point(x * 1.0,y* 1.0);\n\t\tdouble k = a[i].cd(), angle = atan2(a[i].y,a[i].x),Cos = acos(R / k);\n\t\tdouble L = angle - Cos, R = angle + Cos;\n\t\twhile (L <= -pi) L += 2.0 * pi; while (R > pi) R -= 2.0 * pi;\n\t\tif (L > R) swap(L,R);\n\t\tA[i] = MP(L,R);\n\t}\n\tsort(A + 1, A + n + 1);\n\tint ans = -1;\n\tfor (int i = 1,len; i <= n; ++i)\n\t{\n\t\tlen = 0;\n\t\tfor (int j = i + 1; j <= n; ++j)\n\t\tif (A[j].FI <= A[i].SE && A[j].SE > A[i].SE)\n\t\tb[++len] = A[j].SE;\n\t\tans = max(ans,check(len));\n\t}\n\tprintf(\"%d\\n\",ans + 1);\n}\n```",
        "postTime": 1517800122,
        "uid": 47764,
        "name": "Maniac\u4e36\u575a\u679c",
        "ccfLevel": 0,
        "title": "\u3010xjoi858.3\u3011P3897 \u9898\u89e3"
    }
]