[
    {
        "content": "~~\u8bdd\u8bf4\u8fd9\u4e00\u9898\u8fd9\u4e48\u6c34\uff0c\u600e\u4e48\u53ea\u6709\u4e8c\u5341\u51e0\u4eba\u901a\u8fc7\u5462~~  \n\u9898\u5e72\u5b57\u5f88\u591a\uff0c~~\u591f\u6211\u51d1\u4e00\u7bc7\u82f1\u8bed\u4f5c\u6587\u4e86~~\uff0c\u5185\u5bb9\u4e5f\u5341\u5206\u6709\uff08zhi\uff09\u8da3\uff08zhang\uff09\uff0c\u5176\u5b9e\u5927\u610f\u5c31\u662f**\u5728\u4e00\u4e2a\u77e9\u9635\u4e2d\uff0c\u627e\u4e00\u4e2a\u548c\u6700\u5927\u7684\u5b50\u4e32**\uff0c\u4e0d\u8fc7\u8fd9\u4e2a\u5b50\u4e32\u53ef\u4ee5\u4ece\u4e00\u8fb9\u5230\u8fbe\u53e6\u4e00\u8fb9\uff0c\u4e14\u53ef\u4ee5\u8d70\u5bf9\u89d2\u7ebf\u3002  \n\u601d\u8def\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u679a\u4e3e\u6240\u6709\u70b9\uff0c\u7136\u540e\u5f80\u53f3\uff0c\u4e0b\uff0c\u53f3\u4e0b\uff0c\u53f3\u4e0a\u66b4\u641c\uff08\u9898\u76ee\u8bf4\u7684\u5f88\u6e05\u695a1<=N<=200\uff0c\u4e0d\u4f1a\u8d85\u65f6\uff09\uff0c\u8f93\u51fa\u6700\u5927\u503c\u3002  \n### \u63a5\u4e0b\u6765\u5c31\u662f\u5404\u4f4d\u671f\u5f85\u7684\u4e1c\u897f\u4e86\uff1a  \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,a[201][201],maxx=-10000000,i,j,k,w,x,y,z;  //maxx\u8981\u8db3\u591f\u5c0f \nint main()\n{\n\tcin>>n;\n\tfor(i=0;i<n;i++)\n\tfor(j=0;j<n;j++)\n\tcin>>a[i][j];                      //\u8f93\u5165\uff0c\u4e0d\u89e3\u91ca \n\tfor(i=0;i<n;i++)\n\tfor(j=0;j<n;j++,w=0,x=0,y=0,z=0)   //\u679a\u4e3e\u6240\u6709\u70b9\uff0c\u6ce8\u610fw,x,y,z\u8981\u6e05\u96f6 \n\tfor(k=0;k<n;k++)\n\t{\n\t\tw+=a[i][(j+k)%n];              //\u4e0b \n\t\tx+=a[(i+k)%n][j];              //\u53f3 \n\t\ty+=a[(i+k)%n][(j+k)%n];        //\u53f3\u4e0b \n\t\tz+=a[(i-k+n)%n][(j+k)%n];      //\u53f3\u4e0a \n\t\tmaxx=max(max(max(w,x),max(y,z)),maxx);  //\u6bd4\u8f83\u5927\u5c0f \n\t}\n\tcout<<maxx;                        //\u8f93\u51fa \n}\n```  \n\u672c\u4eba\u849f\u84bb\uff0c\u4e0d\u8fc7\u4ee3\u7801\u4e5f\u7b97\u6613\u61c2\u3002\u5982\u679c\u4ee3\u7801\u6709\u4e0d\u5584\u4e4b\u5904\uff0c\u6216\u5b58\u5728\u5e9f\u8bdd\uff0c~~\u62d2\u7edd~~\u6b22\u8fce\u5404\u4f4d\u5927\u7287\u6307\u6b63",
        "postTime": 1538797490,
        "uid": 97263,
        "name": "0\u51cc0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2940 \u3010[USACO09FEB]\u97f3\u4e50\u5996\u7cbeThe Leprechaun\u3011"
    },
    {
        "content": "## \u524d\u8a00\n###### \u770b\u5230\u4e86\u4e00\u9053\u5f88\u6c34\u7684\u9898 \uff0c\u8fd8\u4ee5\u4e3a\u5f88\u96be\u5462\uff0c\u7ed3\u679c\u3002\u3002\u3002\u3002\u3002\n## \u6b63\u89e3\n\u9898\u7684\u610f\u601d\u5c31\u662f\u5411\u4e00\u4e2a\u65b9\u5411\u8d70\uff0c\u4e00\u76f4\u8d70\uff0c\u7136\u540e\u628a\u8d70\u8fc7\u7684\u8def\u7684\u6570\u52a0\u8d77\u6765\uff0c\u770b\u770b\u54ea\u6761\u8def\u4e3a\u6700\u5927\u3002\u8fd8\u6709\u5b83\u53ef\u80fd\u4ece\u8fd9\u4e2a\u5899\u7a7f\u8fc7\u53bb\u5230\u53e6\u5916\u4e00\u4e2a\u5899\u51fa\u6765\u3002\n\n\u76f4\u63a5**\u66b4\u529b**\u641c\u7d22\uff0c\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9\u53f3\u4e0a\uff0c\u53f3\u4e0b\uff0c\u4e0b\uff0c\u53f3\u8d70\u540e\u80fd\u5f97\u591a\u5c11\u5206\uff0c\u50cf\u6211\u8fd9\u79cd\u849f\u84bb\uff0c\u8fd8\u80fd\u7528\u5565\u65b9\u6cd5\u5462\uff01\u800c\u4e14 `n` \u7684\u503c\u90a3\u4e48\u5c0f\uff0c\u4e0d\u4f1a\u70b8\u7684\u3002\n\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u4e86\uff08**\u8bb0\u5f97\u6bcf\u6b21\u521d\u59cb\u5316\u54e6**\uff09\u3002\t\n### AC\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>//i,j,k\u8981\u4ece0\u5f00\u59cb\uff0c\u4e0d\u8981\u4ece1\u5f00\u59cb\uff0c\u4e0d\u7136\u62a5\u9519 \nusing namespace std;\nint n,m[200][200],ds,dw,s,d,mx=-1*0x3f3f;\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tfor(int j=0;j<n;j++)\n\t\t{\n\t\t\tscanf(\"%d\",&m[i][j]);\n\t\t}\n\t}\n\tfor(int i=0;i<n;i++)//\u679a\u4e3e\u4f4d\u7f6e \n\t{\n\t\tfor(int j=0;j<n;j++)//\u540c\u4e0a \n\t\t{\n\t\t\tfor(int k=0;k<n;k++)// \u8d70k\u6b65 \n\t\t\t{\n\t\t\t\ts+=m[i][(j+k)%n];              //\u5411\u4e0b\u8d70\uff0c\u628a\u5bf9\u5e94\u7684\u503c\u7d2f\u52a0\n\t\t\t\td+=m[(i+k)%n][j];              //\u5411\u53f3\u8d70\uff0c\u628a\u5bf9\u5e94\u7684\u503c\u7d2f\u52a0\n\t\t\t\tds+=m[(i+k)%n][(j+k)%n];        //\u5411\u53f3\u4e0b\u8d70\uff0c\u628a\u5bf9\u5e94\u7684\u503c\u7d2f\u52a0\n\t\t\t\tdw+=m[(i-k+n)%n][(j+k)%n];      //\u5411\u53f3\u4e0a\u8d70\uff0c\u628a\u5bf9\u5e94\u7684\u503c\u7d2f\u52a0\n\t\t\t\tmx=max(max(max(s,d),max(ds,dw)),mx);  //\u6bd4\u8f83\u5927\u5c0f \u4e0d\u80fd\u653e\u5916\u9762 \n\t\t\t}\n\t\t\t\n\t\t\ts=0,d=0,ds=0,dw=0; //\u521d\u59cb\u5316 \n\t\t}\n\t}\n\tprintf(\"%d\",mx); \n}\n```\n",
        "postTime": 1638422250,
        "uid": 513253,
        "name": "\u82cf22",
        "ccfLevel": 0,
        "title": "P2940\u4e4b\u9898\u89e3"
    },
    {
        "content": "\u849f\u84bb\u4e00\u5f00\u59cb\u770b\u9898\u770b\u4e86\u534a\u5929\u7adf\u7136\u6ca1\u770b\u61c2...\n\u6240\u4ee5\u5148\u8bb2\u8bb2\u9898\u610f\n\n\n------------\n\n\u9898\u610f\u5927\u81f4\u662f\u4efb\u9009\u4e00\u4e2a\u70b9\uff0c\u518d\u4efb\u9009\u4e00\u4e2a\u65b9\u5411\uff0c\u7136\u540e\u4f1a\u4e00\u76f4\u6cbf\u7740\u8fd9\u4e2a\u65b9\u5411\u8d70\uff0c\u5982\u679c\u78b0\u5230\u4e86\u8fb9\u754c\uff0c\u5c31\u53ef\u4ee5\u975e\u5e38\u795e\u5947\u5730\u4ece\u53e6\u4e00\u4e2a\u8fb9\u754c\n\n# \u98de\u51fa\u6765\n\n\u6bcf\u5230\u4e00\u4e2a\u70b9\u5c31\u83b7\u5f97\u8fd9\u4e2a\u70b9\u4e0a\u7684\u5b9d\u85cf\uff0c\u95ee\u600e\u6837\u8d70\u83b7\u5f97\u6700\u591a\u5b9d\u85cf\u3002\n\n\n------------\n\n\u5206\u6790\u5b8c\u9898\u610f\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5c31\u662f    \u4e07\u80fd\u7684\n\n# $\\color{red}\\colorbox{black}{\u7206\u641c}$\n\n\u6211\u4eec\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9\uff0c\u901a\u8fc7\u5bf9\u8fd9\u4e2a\u70b98\u4e2a\u65b9\u5411\u7684\u65b9\u5411\u641c\u7d22\uff0c\u6bcf\u6b21\u8ba1\u7b97\u8def\u5f84\u4e0a\u7684\u5b9d\u85cf\u4e4b\u548c\uff0c\u53d6\u6700\u5927\u503c\u5c31\u53ef\u4ee5\u4e86\u3002\n\n------------\n\u4e0a\u4ee3\u7801\n\n\n```\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint dx[8]={1,1,1,-1,-1,-1,0,0},dy[8]={1,0,-1,1,0,-1,1,-1};\nint a[200][200];\nint gg;\nint ans=-0x3f3f3f3f;\nint n;\nbool visit[200][200];\nvoid read(int &x)\n{\n    x=0;\n    char ch=getchar();\n    int pd=1;\n    while(ch<'0'||ch>'9')\n    {\n    \tif(ch=='-')\n    \tpd=-pd;\n        ch=getchar();\n    }\n    while(ch<='9'&&ch>='0')\n    {\n        x=x*10+ch-'0';\n        ch=getchar();\n    }\n    x*=pd;\n}\nvoid write(const int &x)\n{\n    char f[100001];\n    int s=0;\n    int tmp=x;\n    if(tmp<0)\n    {\n    \ttmp=-tmp;\n    \tputchar('-');\n\t}\n    while(tmp>0)\n    {\n        f[s++]=tmp%10+'0';\n        tmp/=10;\n    }\n    while(s>0)\n    {\n        putchar(f[--s]);\n    }\n}\nvoid dfs(int x,int y,int k)\n{\n    gg+=a[x][y];\n    ans=max(ans,gg);\n    int ddx=x+dx[k],ddy=y+dy[k];\n    /*\n    \u901a\u8fc7\u8fd9\u4e00\u6bb5\u5c31\u53ef\u4ee5\u5b9e\u73b0\u4ece\u8fb9\u754c\u98de\u51fa\u6765\u7684\u64cd\u4f5c\n    */\n    if(ddx<=0)ddx=(ddx-1+n)%n+1;\n    if(ddx>n)ddx=ddx%n;\n    if(ddy<=0)ddy=(ddy-1+n)%n+1;\n    if(ddy>n)ddy=ddy%n;\n    if(!visit[ddx][ddy])\n    {\n        visit[ddx][ddy]=1;\n        dfs(ddx,ddy,k);\n        visit[ddx][ddy]=0;\n    }\n}\nsigned main()\n{\n    read(n);\n    for(register int i=1;i<=n;++i)\n    {\n        for(register int j=1;j<=n;++j)\n        {\n            read(a[i][j]);\n        }\n    }\n    for(register int i=1;i<=n;++i)\n    {\n        for(register int j=1;j<=n;++j)\n        {\n            for(register int k=0;k<8;++k)\n            {\n                visit[i][j]=1;//\u6bcf\u6b21\u628a\u8d77\u59cb\u70b9\u6807\u8bb0\n                dfs(i,j,k);\n                visit[i][j]=0;\n                gg=0;\n            }\n        }\n    }\n    cout<<ans;\n}\n\n```",
        "postTime": 1548135922,
        "uid": 87026,
        "name": "\u4e24\u5e74\u6253\u94c1",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2940 \u3010[USACO09FEB]\u97f3\u4e50\u5996\u7cbeThe Leprechaun\u3011"
    },
    {
        "content": "\u4e0d\u8981\u628a\u9898\u76ee\u60f3\u592a\u590d\u6742\uff0c\u5c31\u662f\u628a\u6bcf\u4e00\u4e32\u6570\u5b57\u53d6\u51fa\u6765\uff0c\u6c42\u6700\u5927\u5b50\u4e32\u548c\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint n,s[201][201],t[201],ans=-8888,v[201];\nint dfs()\n{\n    int i,j,k;\n    for(i=1;i<=n;i++)\n    {\n        k=i%n+1;\n        j=t[i];\n        ans=max(ans,j);\n        while(t[k]+j>0&&k!=i)//\u4ecei\u5f80\u540e\u9762\u52a0\uff0c\u5982\u679c\u603b\u548c\u5c0f\u4e8e0\u5c31\u9000\u51fa\u3002\n        {\n            j+=t[k];\n            ans=max(ans,j);\n            k=k%n+1;\n        }\n    }\n}\nint main()\n{\n    int i,j;\n    cin>>n;\n    for(i=1;i<=n;i++)\n    for(j=1;j<=n;j++)\n    scanf(\"%d\",&s[i][j]);\n    for(i=1;i<=n;i++)\n    {\n        for(j=1;j<=n;j++)\n        t[j]=s[i][j];\n        dfs();\n        for(j=1;j<=n;j++)\n        t[j]=s[j][i];\n        dfs();\n        int a=i-1;\n        for(j=1;j<=n;j++)\n        {\n            a++;\n            if(a>n)\n            a=1;\n            t[j]=s[j][a];\n        }\n        dfs();\n        a=i+1;\n        for(j=1;j<=n;j++)\n        {\n            a--;\n            if(a<1)\n            a=n;\n            t[j]=s[j][a];\n        }\n        dfs();//\u8fd9\u51e0\u6b65\u662f\u53d6\u51fa\u6570\u4e32\u3002\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n```",
        "postTime": 1479101199,
        "uid": 24805,
        "name": "luaddict",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2940 \u3010[USACO09FEB]\u97f3\u4e50\u5996\u7cbeThe Leprechaun\u3011"
    },
    {
        "content": "$O(n^2)$\u7b97\u6cd5\n\n\u628a\u77e9\u9635\u5206\u6210\u597d\u591a\u4e2a\u73af\uff0c\u7528O(n)\u65f6\u95f4\u6c42\u73af\u4e0a\u6700\u5927\u8fde\u7eed\u5b50\u6bb5\u548c(\u5bf9\u6700\u5927\u8fde\u7eed\u5b50\u6bb5\u548c\u4ee5\u53casum\u51cf\u53bb\u6700\u5c0f\u8fde\u7eed\u5b50\u6bb5\u548c\u53d6\u6700\u5927\u503c)\n\n\u6ce8\u610f\u8981\u7279\u5224\u5168\u90e8\u662f\u8d1f\u6570\u7684\u60c5\u51b5(\u6700\u5927\u8fde\u7eed\u5b50\u6bb5\u548c\u53ef\u80fd\u4f1a\u4e00\u4e2a\u90fd\u4e0d\u53d6)\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int N = 200;\nint ma[N << 1][N << 1];\n\nint main()\n{\n    int n, m, ans = -1E9;\n    scanf(\"%d\", &n);\n    m = n << 1;\n    for (int i = 0; i < n; ++i)\n        for (int j = 0; j < n; ++j)\n        {\n            scanf(\"%d\", &ma[i][j]);\n            ans = max(ans, ma[i][j]);\n            ma[i + n][j] = ma[i][j + n] = ma[i + n][j + n] = ma[i][j];\n        }\n    if (ans <= 0)\n    {\n        printf(\"%d\", ans);\n        return 0;\n    }\n    for (int i = 0; i < n; ++i)\n    {\n        int a = 0, b = 0, c = 0, d = 0, e = 0, f = 0, g = 0, h = 0, tmp1 = 0,\n            tmp2 = 0, tmp3 = 0, tmp4 = 0, sum1 = 0, sum2 = 0, sum3 = 0,\n            sum4 = 0;\n        for (int j = 0; j < n; ++j)\n        {\n            sum1 += ma[i][j];\n            a += ma[i][j];\n            if (a < 0) a = 0;\n            sum2 += ma[j][i];\n            b += ma[j][i];\n            if (b < 0) b = 0;\n            c += ma[i][j];\n            if (c > 0) c = 0;\n            tmp1 = min(tmp1, c);\n            d += ma[j][i];\n            if (d > 0) d = 0;\n            tmp2 = min(tmp2, d);\n            sum3 += ma[i + j][j];\n            e += ma[i + j][j];\n            if (e < 0) e = 0;\n            sum4 += ma[j][i + j];\n            f += ma[j][i + j];\n            if (f < 0) f = 0;\n            g += ma[i + j][j];\n            if (g > 0) g = 0;\n            tmp3 = min(tmp3, g);\n            h += ma[j][i + j];\n            if (h > 0) h = 0;\n            tmp4 = min(tmp4, h);\n            ans = max(ans, max(max(a, b), max(e, f)));\n        }\n        ans = max(ans, max(max(sum1 - tmp1, sum2 - tmp2),\n                           max(sum3 - tmp3, sum4 - tmp4)));\n    }\n    for (int i = n - 1; i < m - 1; ++i)\n    {\n        int a = 0, b = 0, tmp = 0, sum = 0;\n        for (int j = 0; j < n; ++j)\n        {\n            sum += ma[i - j][j];\n            a += ma[i - j][j];\n            if (a < 0) a = 0;\n            b += ma[i - j][j];\n            if (b > 0) b = 0;\n            tmp = min(tmp, b);\n            ans = max(ans, a);\n        }\n        ans = max(ans, sum - tmp);\n    }\n    printf(\"%d\", ans);\n    return 0;\n}\n```",
        "postTime": 1548142971,
        "uid": 39146,
        "name": "\u9762\u5411\u5927\u6d77",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2940 \u3010[USACO09FEB]\u97f3\u4e50\u5996\u7cbeThe Leprechaun\u3011"
    },
    {
        "content": "\u4e0d\u7528\u697c\u4e0b\u8fd9\u4e48\u9ebb\u70e6\uff0c\u76f4\u63a5\u66b4\u529b\u4ece\u56db\u4e2a\u65b9\u5411\u627e\n\n\u6570\u636e\u6bd4\u8f83\u84bb\u3002\u3002\u3002\n\n\u9644\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n using namespace std;\nint a[205][205],n,m,ans=-1e9;\nint main()\n{\n    scanf(\"%d\",&n);\n    for (int i=1;i<=n;i++)\n        for (int j=1;j<=n;j++)\n            scanf(\"%d\",&a[i][j]);\n    for (int i=1;i<=n;i++)//\u6a2a\u5411\n    {\n        for (int j=1;j<=n;j++)\n```\n{//\u679a\u4e3e\u6240\u6709\u7684\u70b9\n             \n```cpp\n            int cnt=0;\n            for (int k=0;k<n;k++)//\u7b2cK\u4e2a\u70b9\n            {\n                int x=(j+k)%n;\n                if (x==0) x=n;\n                if (cnt+a[i][x]>a[i][x]) cnt+=a[i][x];\n                else cnt=a[i][x];\n                ans=max(ans,cnt);\n            }\n        }\n    }\n    for (int i=1;i<=n;i++)//\u7eb5\u5411\n    {\n        for (int j=1;j<=n;j++)\n        {\n            int cnt=0;\n            for (int k=0;k<n;k++)\n            {\n                int x=(j+k)%n;\n                if (x==0) x=n;\n                if (cnt+a[x][i]>a[x][i]) cnt+=a[x][i];\n                else cnt=a[x][i];\n                ans=max(ans,cnt);\n            }\n        }\n    }\n    for (int i=1;i<=n;i++)//\u53f3\u4e0b\u5bf9\u89d2\n    {\n        for (int j=1;j<=n;j++)\n        {\n            int cnt=0;\n            for (int k=0;k<n;k++)\n            {\n                int x=(i+k)%n;\n                int y=(j+k)%n;\n                if (x==0) x=n;\n                if (y==0) y=n;\n                if (cnt+a[x][y]>a[x][y]) cnt+=a[x][y];\n                else cnt=a[x][y];\n                ans=max(ans,cnt);\n            }\n        }\n    }\n    for (int i=1;i<=n;i++)//\u53f3\u4e0a\u5bf9\u89d2\n    {\n        for (int j=1;j<=n;j++)\n        {\n            int cnt=0;\n            for (int k=0;k<n;k++)\n            {\n                int x=(i-k+n)%n;\n                int y=(j+k)%n;\n                if (x==0) x=n;\n                if (y==0) y=n;\n                if (cnt+a[x][y]>a[x][y]) cnt+=a[x][y];\n                else cnt=a[x][y];\n                ans=max(ans,cnt);\n            }\n        }\n    }\n    printf(\"%d\\n\",ans);\n    return 0;\n}\n```",
        "postTime": 1479122763,
        "uid": 11773,
        "name": "NaVi_Awson",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2940 \u3010[USACO09FEB]\u97f3\u4e50\u5996\u7cbeThe Leprechaun\u3011"
    },
    {
        "content": "## \u8fd9\u9898\u76f4\u63a5\u6a21\u62df\uff01\n\n\u4f60\u770b\u770b\u90a3~~\u7834~~\u6570\u636e,N<=200,\u5c31\u66b4\u641c\u4e86\u2026\u2026\n\n## \u601d\u8def\uff1a\u641c\u7d22\u6bcf\u6761\u7ebf\uff0c\u6c42\u548c\u6700\u5927\u3002\n\n\u6ce8\uff1a\u659c\u7ebf\u4e0a\u6bd4\u8f83\u96be\u61c2\u2026\u2026\n\n\u6837\u4f8b\u5374\u8fc7\u4e0d\u4e86\uff0c\u81ea\u5df1\u6d4b\u8bd5\u4e00\u904d\uff0c\u6ca1\u9519\uff01\n\n\u5c31\u9ad8\u5174\u5730\u4ea4\u4e0a\u53bb\u4e86\u3002\n\n### \u8d34\u4ee3\u7801\uff1a\n\n------------\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint m[200][200],N,s[4],max1=-1000000000;\nint main()\n{\n    cin>>N;\n    for(int i=0;i<N*N;i++)scanf(\"%d\",&m[i%N][i/N]);\n    //\u795e\u5947\u8f93\u5165\n    for(int i=0;i<N;i++)\n    { s[0]=s[1]=s[2]=s[3]=0;//\u5168\u90e8\u8d4b0\n  \t  for(int j=0;j<N;j++)\n      { s[0]+=m[i][j];//\u6a2a\u7ebf\u76f8\u52a0\n        s[1]+=m[j][i];//\u7ad6\u7ebf\u76f8\u52a0\n        s[2]+=m[(i-j+N)%N][(i+j)%N];\n        s[3]+=m[(i+j)%N][j%N];}//\u4e24\u6761\u659c\u7ebf\u76f8\u52a0\n    max1=max(max(max(s[0],s[1]),max(s[2],s[3])),max1);}//\u53d6\u6700\u5927\u503c\n    cout<<max1;\n    return 0;\n}\n```\n------------\n\n## \u53d1\u73b0\uff0c8\u4e2a\u70b9\u5168\u662fWA\u2026\u2026\n\n\u91cd\u65b0\u8bfb\u9898\uff0c\u53d1\u73b0\u539f\u6765\u53ef\u4ee5\u4e0d\u8d70\u5b8c\u2026\u2026\n\n\u91cd\u505a\u4ee3\u7801\uff1a\uff08\u4e0b\u9762\u6b63\u89e3\uff09\n\n\u53ef\u80fd\u6709\u770b\u4e0d\u61c2\u7684\u5730\u65b9\uff0c\u4e0b\u9762\u6709\u6ce8\u91ca\uff08\u4f46\u662f\u6211\u4e5f\u6ca1\u770b\u61c2\uff09\n\n------------\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint m[200][200],N,s[4],max1=-1000000000;\nint main()\n{\n    cin>>N;\n    for(int i=0;i<N*N;i++)scanf(\"%d\",&m[i/N][i%N]);\n    //\u544a\u8bc9\u4f60\u4e86\uff0c\u795e\u5947\u8f93\u5165\n    for(int i=0;i<N;i++)\n      for(int j=0;j<N;j++)//\u679a\u4e3e\u70b9\n      { s[0]=0,s[1]=0,s[2]=0,s[3]=0;//\u4e5f\u544a\u8bc9\u8fc7\u4f60\u4e86\n        for(int k=0;k<N;k++)\n        { s[0]+=m[i][(j+k)%N];//\u6a2a\u7ebf\u76f8\u52a0\n          s[1]+=m[(i+k)%N][j];//\u7ad6\u7ebf\u76f8\u52a0\n          s[2]+=m[(i-k+N)%N][(j+k)%N];//\u5de6\u659c\u7ebf\u76f8\u52a0\uff08\u5373\u548c\u76f8\u7b49\uff09\n          s[3]+=m[(i+k)%N][(j+k)%N];//\u53f3\u659c\u7ebf\u76f8\u52a0\uff08\u5373\u5dee\u76f8\u7b49\uff09\n      \t  max1=max(max(max(s[0],s[1]),max(s[2],s[3])),max1);}\n      }               //\u544a\u8bc9\u8fc7\u4f60\u591a\u5c11\u904d\u4e86\uff0c\u6c42\u6700\u5927\u503c\n    cout<<max1;\n    return 0;\n}\n```\n------------\n\n\u7ec8\u4e8eAC\u4e86\u3002\u4e8c\u5341\u51e0\u4e2a\u4eba\u8fc7\u7684\u9898\u76ee\u5f88\u6709\u6210\u5c31\u611f\uff01",
        "postTime": 1538789023,
        "uid": 118040,
        "name": "\u4ec0\u4e48\u53eb\u4e2d\u4e8c\u5440",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2940 \u3010[USACO09FEB]\u97f3\u4e50\u5996\u7cbeThe Leprechaun\u3011"
    }
]