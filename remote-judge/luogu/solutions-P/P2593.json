[
    {
        "content": "\u8fd9\u9053\u9898\u6211\u4eec\u8003\u8651\u5230\u5355\u8c03\u5c06(\u5c31\u662f\u5355\u72ec\u7684\u4e00\u5bf9)\u6709\u70b9\u9ebb\u70e6\n\n\u4e8e\u662f\u53ef\u4ee5\u6bcf\u5c40\u5148\u679a\u4e3e\u8fd9\u4e00\u5bf9\u662f\u4ec0\u4e48\u9762\u503c\uff0c\u5728\u5224\u65ad\u5269\u4e0b\u724c\u662f\u4e0d\u662f\u90fd\u662f\u51fa(\u5c31\u662f\u53e5\u8bdd)\n\n\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u9762\u503c\n\nDPC[n][ll][l]\u8868\u793a\u73b0\u5728\u9762\u503c\u4e3an\u7684\u724c\u90fd\u51fa\u5b8c\u4e86\uff0c\u4e14\u4ee5\u524d\u4e00\u4f4d\u4e3a\u5f00\u59cb\u7684\u4e09\u8fde\u51fa\u4e86ll\u4e2a\n\n\u4ee5\u8fd9\u4e00\u4f4d\u4e3a\u5f00\u59cb\u7684\u4e09\u8fde\u51fa\u4e86l\u4e2a,\u662f\u5426\u53ef\u884c\n\n\u5f88\u660e\u663e\u8fb9\u754c\u662fDP[0][0][0]=1\uff0c\u7ec8\u70b9\u662fDP[N][0][0]\n\n\u4f46\u662f\u72b6\u6001\u6709\u70b9\u591a\uff0c\u8003\u8651\u4f18\u5316\u4e00\u4e0b\u72b6\u6001\n\n\u8003\u8651\u5230\u540c\u4e00\u5f00\u5934\u7684\u4e09\u8fde\uff0c\u8d85\u8fc72\u5f20\u5176\u5b9e\u6ca1\u6709\u610f\u4e49\uff0c\u6bd4\u5982\u8bf4\u51fa3\u4e2a\u4e09\u8fde\u5f20\u76f8\u5f53\u4e8e\u51fa\u4e09\u4e2a\u5927\u5bf9(3\u5f20\u4e00\u6837\u7684\u724c)\n\n\u4ee5\u53ca4\u4e2a\u4e09\u8fde\u76f8\u5f53\u4e8e\u4e09\u4e2a\u724c\u5206\u522b\u51fa\u4e00\u4e2a\u5927\u5bf9\uff0c\u5e76\u4e14\u51fa\u4e00\u4e2a\u4e09\u8fde\n\n\u6240\u4ee5\u6211\u4eec\u53d1\u73b0DP\u65b9\u7a0b\u91cc\u7684ll\u548cl\u53ea\u9700\u8981\u662f0,1,2\u5c31\u884c\u4e86\uff0c\u800c\u4e14\u6ca1\u5fc5\u8981\u4fdd\u8bc1\u8fd9\u4e2a\u9762\u503c\u724c\u5168\u51fa\u5b8c\uff0c\u53ea\u8981\u5269\u4e0b\u724c\u6570\u53ef\u4ee5\u662f3x+4y\u8fd9\u6837\u5c31\u884c\n\n\u6240\u4ee5\u6211\u4eec\u5c31\u5217\u51fa\u4e86\u72b6\u6001\u6570900\uff0c\u8f6c\u79fb\u590d\u6742\u5ea63\u7684DP\u65b9\u7a0b\n\n\u518d\u52a0\u4e0a\u6700\u5f00\u59cb\u679a\u4e3e\u4e00\u5bf9\uff0c\u590d\u6742\u5ea6\u662fO(N\\*90000)\n\n\u603b\u4e4b\u8fd8\u662f\u7279\u522b\u4f4e\u7684\uff0c\u7528\u65f636ms\uff0c\u662f\u81f3\u4eca\u8fd9\u9053\u9898\u6700\u5feb\u6700\u4e0d\u5360\u7528\u5185\u5b58\u7684AC\u4ee3\u7801\uff0c\u6bd4\u5927\u90e8\u5206\u524d\u4eba\u4ee3\u7801\u5feb\u51e0\u5341\u500d\n\n\n\n\n\n\n```cpp\n#include <stdio.h>\n#include <string.h>\nbool DPC[110][3][3];\nint N;\nint CN[110];\nbool Mod[110];\nvoid Input()\n{\n    int wi;\n    for(wi=1;wi<=100;++wi)\n        scanf(\"%d\",CN+wi);\n    int ma,mb;\n    for(ma=0;ma*3<=100;++ma)\n        for(mb=0;mb*4+ma*3<=100;++mb)\n            Mod[ma*3+mb*4]=1;\n}\nbool DPA()\n{\n    int win,wia,wib,wnn;\n    memset(DPC,0,sizeof(DPC));\n    DPC[0][0][0]=1;\n    for(win=0;win<100;++win)\n        for(wia=0;wia<3;++wia)\n            for(wib=0;wib<3;++wib)\n                if(DPC[win][wia][wib])\n                    for(wnn=0;wnn<3&&wnn<=CN[win+1]-wia-wib;++wnn)\n                        if(Mod[CN[win+1]-wia-wib-wnn])\n                            DPC[win+1][wib][wnn]=1;\n    return DPC[100][0][0];\n}\nvoid ACA()\n{\n    int wi;\n    for(wi=1;wi<=100;++wi)\n        if(CN[wi]>1)\n        {\n            CN[wi]-=2;\n            if(DPA())\n            {\n                printf(\"Yes\\n\");\n                return;\n            }\n            CN[wi]+=2;\n        }\n    printf(\"No\\n\");\n}\nint T;\nint main()\n{\n    scanf(\"%d\",&T);\n    while(T--)\n    {\n        Input();\n        ACA();\n    }\n    return 0;\n}\n\u987a\u4fbf\u5410\u69fd\u4e00\u53e5...\u4ea4\u9898\u8981\u517b\u597d\u624b\u52a8\u9009\u62e9\u8bed\u8a00\u7684\u4e60\u60ef...\n```",
        "postTime": 1508051895,
        "uid": 25508,
        "name": "Night_Aurora",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2593 \u3010[ZJOI2006]\u8d85\u7ea7\u9ebb\u5c06\u3011"
    },
    {
        "content": "#### Description\n\n> \u73a9 $n$ \u6b21\u9ebb\u5c06\uff0c\u6bcf\u4e00\u6b21\u9ebb\u5c06\u6709\u70b9\u6570\u4e3a $1 \\sim 100$ \u7684\u724c\uff0c\u70b9\u6570\u4e3a $i$ \u7684\u724c\u6709 $a_i$ \u4e2a\uff0c\u53ef\u4ee5\u51fa\u7684\u724c\u578b\u6709\uff1a\n> - \u5bf9\u5b50\uff1a\u4e24\u5f20\u4e00\u6837\u7684\u724c\uff1b\n> - \u987a\u5b50\uff1a\u4e09\u5f20\u70b9\u6570\u4e3a\u8fde\u7eed\u81ea\u7136\u6570\u7684\u724c\uff1b\n> - \u523b\u5b50\uff1a\u4e09\u5f20\u6216\u56db\u5f20\u4e00\u6837\u7684\u724c\u3002\n> \n> \u8fd9\u4e00\u6b21\u9ebb\u5c06\u80fd\u80e1\u724c\u5f53\u4e14\u4ec5\u5f53\u53bb\u6389\u4e00\u4e2a\u5bf9\u5b50\u4e4b\u540e\u90fd\u80fd\u7528\u987a\u5b50\u548c\u523b\u5b50\u51fa\u6389\uff0c\u7403\u961f\u4e0e\u6bcf\u4e00\u6b21\u9ebb\u5c06\u662f\u5426\u80fd\u80e1\u724c\u3002\n\n~~\u867d\u7136\u6211\u6ca1\u6253\u8fc7\u9ebb\u5c06\u4f46\u6211\u4e5f\u77e5\u9053\u8fd9\u4e2a\u89c4\u5219\u5728\u626f\u6de1~~\n\n#### Solution\n\n\u5b9a\u4e49 $f_{i,j,k,0/1}$ \u4e3a\u70b9\u6570\u4e3a $i$\uff0c\u70b9\u6570\u4e3a $i-1$ \u7684\u6709 $j$ \u5f20\u724c\uff0c\u70b9\u6570\u4e3a $i$ \u7684\u6709 $k$ \u5f20\u724c\uff0c\u662f\u5426\u6709\u5bf9\u5b50\uff0c\u80fd\u5426\u628a $1 \\sim i$ \u51fa\u5b8c\uff0c\u4e3a\u4e00\u4e2a bool \u6570\u7ec4\u3002\n\n\u5206\u522b\u8003\u8651\u6bcf\u4e00\u79cd\u724c\u578b\uff08\u6ce8\u610f\u987a\u5e8f\uff09\uff1a\n\n- \u5bf9\u5b50\uff1a$f_{i,j,k,1}=f_{i,j,k-2,0}$\uff1b\n- \u523b\u5b50\uff1a\n\t- $f_{i,j,k,0}=f_{i,j,k-3,0} \\lor f_{i,j,k-4,0}$\uff1b\n    - $f_{i,j,k,1}=f_{i,j,k-3,1} \\lor f_{i,j,k-4,1}$\uff1b\n- \u987a\u5b50\uff08\u5bf9\u4e8e $f_{i,j,k,0/1}$ \u53ef\u4ee5\u8003\u8651\u51fa $k$ \u4e2a\u987a\u5b50\uff09\uff1a\n\t- $f_{i,j,k,0}=f_{i-1,a_{i-2}-k,j-k,0}$\uff1b\n    - $f_{i,j,k,1}=f_{i-1,a_{i-2}-k,j-k,1}$\n    \n\u6700\u540e\u5224\u65ad $f_{100,a_{99},a_{100},1}$ \u5373\u53ef\u3002",
        "postTime": 1621175189,
        "uid": 114914,
        "name": "\u4e00\u53ea\u4e66\u866b\u4ed4",
        "ccfLevel": 4,
        "title": "P2593 [ZJOI2006]\u8d85\u7ea7\u9ebb\u5c06 \u9898\u89e3"
    },
    {
        "content": "\u535a\u5ba2\u4e5f\u6709\u8be6\u7ec6\u7684\u4ecb\u7ecd\uff0c\u6b22\u8fce\u6765\u8e29\uff1a[\u83dc\u9e21NaVi\\_Awson\u7684\u535a\u5ba2](http://www.cnblogs.com/NaVi-Awson/p/7257368.html)\n\n\u8fd9\u9053\u9898\u9898\u89e3\u5f88\u591a\u90fd\u662f\u7528\u8d2a\u5fc3+Hash\u641c\u7d22\u505a\u7684\uff0c\u5176\u5b9eDP\u4e5f\u53ef\u4ee5\u89e3\u51b3\u8fd9\u9053\u9898\u3002\n\n\u6211\u4eec\u8003\u8651\u9009\u53d6\u9ebb\u5c06\u7684\u5148\u540e\u662f\u4e0d\u4e92\u76f8\u5f71\u54cd\u7684\u3002\u4e14\u600e\u4e48\u9009\u5f53\u524d\u724c\u53ea\u4f1a\u5f71\u54cd\u5176\u76f8\u90bb\u7684\u51e0\u5f20\u724c\uff0c\u6211\u4eec\u5c06\u8fd9\u4e9b\u5f71\u54cd\u7684\u72b6\u6001\u653e\u5165\u65b9\u7a0b\u4e2d\uff0c\u4fdd\u8bc1\u65e0\u540e\u6548\u6027\u3002\n\n\u4ee4\uff1af[i][j][k][0/1]\u8868\u793a\u201c\u62e9\u7b2ci\u53f7\u724c\u65f6\uff0c\u7b2ci-1\u53f7\u724c\u9009j\u5f20\uff0c\u7b2ci\u53f7\u724c\u9009k\u5f20\uff0c\u4e4b\u524d\u9009\u7684\u6240\u6709\u724c\u662f\u5426\uff080/1\uff09\u9009\u62e9\u4e86\u5c06\uff08\u5bf9\u5b50\uff09\u201d\u662f\u5426\u53ef\u884c\u3002\n\n\u4e8e\u662f\u5c31\u6709\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n1.\u8003\u8651\u9009\u8fd9i\u53f7\u724c\u505a\u5c06\uff08\u5bf9\u5b50\uff09\uff1aif (k>1) f[i][j][k][1]|=f[i][j][k-2][0];\n\n2.\u8003\u8651i\u53f7\u724c\u78b0\uff08\u4e09\u5f20\u76f8\u540c\uff09\uff1aif (k>2) f[i][j][k][1]|=f[i][j][k-3][1],f[i][j][k][0]|=f[i][j][k-3][0];\n3.\u8003\u8651i\u53f7\u62cd\u6760\uff08\u56db\u5f20\u76f8\u540c\uff09\uff1aif (k>3) f[i][j][k][1]|=f[i][j][k-4][1],f[i][j][k][0]|=f[i][j][k-4][0];\n4.\u8003\u8651i-2,i-1,i\u4e09\u5f20\u724c\u5403\uff08\u4e09\u4e2a\u8fde\u7eed\u6570\u5b57\uff09\uff1aif (j>=k&&a[i-2]>=k) f[i][j][k][0]|=f[i-1][a[i-2]-k][j-k][0],f[i][j][k][1]|=f[i-1][a[i-2]-k][j-k][1];\n\u6700\u540e\u7ed3\u679c\u4e3af[100][a[99]][a[100]][1]\u3002\n\n\u9644\u7684\u4ee3\u7801\u6709\u4e2a\u7384\u5b66\u7684\u5199\u6cd5\uff1a\u5f53i==1\u65f6\uff0ca[i-2]\u8d8a\u754c\uff1f\u6211\u4e5f\u4e0d\u77e5\u9053\u5b83\u8bbf\u95ee\u5230\u54ea\u53bb\u4e86...\n\n\n\n\n```cpp\n#include<set>\n#include<map>\n#include<ctime>\n#include<cmath>\n#include<queue>\n#include<stack>\n#include<cstdio>\n#include<string>\n#include<vector>\n#include<cstring>\n#include<cstdlib>\n#include<iostream>\n#include<algorithm>\n#define LL long long\n#define RE register\n#define IL inline\nusing namespace std;\nint n,a[105];\nbool f[105][105][105][2];\nint main()\n{\n    scanf(\"%d\",&n);\n    while (n--)\n    {\n        memset(f,0,sizeof(f));\n        for (RE int i=1;i<=100;i++) scanf(\"%d\",&a[i]);\n        f[0][0][0][0]=1;\n        for (RE int i=1;i<=100;i++)\n            for (RE int j=0;j<=a[i-1];j++)\n                for (RE int k=0;k<=a[i];k++)\n                {\n                    if (k>1) f[i][j][k][1]|=f[i][j][k-2][0];\n                    if (k>2) f[i][j][k][1]|=f[i][j][k-3][1],f[i][j][k][0]|=f[i][j][k-3][0];\n                    if (k>3) f[i][j][k][1]|=f[i][j][k-4][1],f[i][j][k][0]|=f[i][j][k-4][0];\n                    if (j>=k&&a[i-2]>=k) f[i][j][k][0]|=f[i-1][a[i-2]-k][j-k][0],f[i][j][k][1]|=f[i-1][a[i-2]-k][j-k][1];\n                }\n        printf(f[100][a[99]][a[100]][1] ? \"Yes\\n\":\"No\\n\");\n    }\n    return 0;\n}\n```",
        "postTime": 1501332690,
        "uid": 11773,
        "name": "NaVi_Awson",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2593 \u3010[ZJOI2006]\u8d85\u7ea7\u9ebb\u5c06\u3011"
    },
    {
        "content": "\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u70b9\u8d2a\u5fc3\u7684\u601d\u60f3\uff0c\u5982\u679c\u80fd\u591f\u51d1\u6210\u987a\u5b50\u5c31\u51d1\u51fa\uff0c\u63a5\u4e0b\u6765\u5c31\u662f4\uff0c3\uff0c2\u4e2a\u76f8\u540c\u7684\uff0c\u8fd9\u6837\u53bb\u641c\u7d22\uff0c\u4f46\u662f\u4f1aT\n\n\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u4e2aHash\u6765\u7ef4\u62a4\uff0c\u540c\u65f6\u5148\u9884\u5904\u7406\u4e00\u90e8\u5206\uff0c\u8fd9\u6837\u5c31\u80fdK\u8fc7\u53bb\u4e86\n\n```cpp\n#include <bits/stdc++.h>\n#define rep( i , l , r ) for( int i = (l) ; i <= (r) ; ++i )\n#define per( i , r , l ) for( int i = (r) ; i >= (l) ; --i )\n#define erep( i , u ) for( int i = head[(u)] ; ~i ; i = e[i].nxt )\nusing namespace std;\nconst int maxn = 100 + 5;\ntypedef unsigned long long ull;\ninline ull _read(){\n    register ull x = 0 , f = 1;\n    register char ch = getchar();\n    while( !isdigit(ch) ){ if( ch == '-' ) f = -1 ; ch = getchar(); }\n    while( isdigit(ch) ){\n        x = x * 10 + ch - '0';\n        ch = getchar();\n    }\n    return x * f;\n}\nset<ull> s;\null base[maxn] , a[maxn] , sum;\nconst ull seed = 13111ull;\nbool dfs( int k , bool tw , ull status ){\n    if( s.find(status) != s.end() ) return 0;\n    s.insert(status);\n    while( !a[k] && k <= 100 ) ++k;\n    if( k > 100 ) return tw;\n    if( a[k] && a[k + 1] && a[k + 2] && k <= 98 ){\n        --a[k] , --a[k + 1] , --a[k + 2];\n        if( dfs( k , tw , status - base[k] - base[k + 1] - base[k + 2]) ) return 1;\n        ++a[k] , ++a[k + 1] , ++a[k + 2];\n    }\n    if( a[k] >= 4 ) { a[k] -= 4; if( dfs( k , tw , status - 4 * base[k] ) ) return 1; a[k] += 4; }\n    if( a[k] >= 3 ) { a[k] -= 3; if( dfs( k , tw , status - 3 * base[k] ) ) return 1; a[k] += 3; }\n    if( a[k] >= 2 && !tw ) { a[k] -= 2; if( dfs( k , 1 , status - 2 * base[k] - base[100] ) ) return 1 ; a[k] += 2; }\n    return 0;\n}\nint main(){\n    int T = 0;\n    base[1] = 1ull; rep( i , 2 , 100 ) base[i] = base[i - 1] * seed;\n    scanf(\"%d\" , &T);\n    while( T-- ){\n        sum = 0; s.clear();\n        rep( i , 1 , 100 ) a[i] = _read() , sum += base[i] * a[i];\n        if( dfs( 1 , 0 , sum ) ) puts(\"Yes\");\n        else puts(\"No\");\n    }\n    return 0;\n}\n```",
        "postTime": 1473776774,
        "uid": 22733,
        "name": "eternal",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2593 \u3010[ZJOI2006]\u8d85\u7ea7\u9ebb\u5c06\u3011"
    },
    {
        "content": "## \u601d\u8def\n\n\u5b9a\u4e49 $f_{i,j,k,0/1}$ \u8868\u793a\u73b0\u5728\u70b9\u6570\u4e3a $i$\uff0c\u70b9\u6570\u4e3a $i - 1$ \u7684\u724c\u51fa\u4e86 $j$ \u5f20\uff0c\u70b9\u6570\u4e3a $i - 2$ \u7684\u724c\u51fa\u4e86 $k$ \u5f20\uff0c\u662f\u5426\u51fa\u8fc7\u5bf9\u5b50\u7684\u60c5\u51b5\u4e0b\u80fd\u5426\u6253\u5b8c\u3002\n\n### Case1 \u51fa\u5bf9\u5b50\n$f_{i,j,k,1} = f_{i,j,k,1}\\lor f_{i,j,k-1,0}$\n\n### Case2 \u51fa\u523b\u5b50\uff1a\n\n$f_{i,j,k,1} = f_{i,j,k,1}\\lor f_{i,j,k-3,1}$\n\n$f_{i,j,k,0} = f_{i,j,k,0}\\lor f_{i,j,k-3,0}$\n\n$f_{i,j,k,1} = f_{i,j,k,1}\\lor f_{i,j,k-4,1}$\n\n$f_{i,j,k,0} = f_{i,j,k,0}\\lor f_{i,j,k-4,0}$\n\n### Case3 \u51fa\u987a\u5b50\n\n\u5bf9\u4e8e $f_{i,j,k,0}$ \u53ef\u4ee5\u8003\u8651\u51fa $k$ \u4e2a\u987a\u5b50\uff1a\n\n$f_{i,j,k,1} = f_{i,j,k,1}\\lor f_{i-1,a_{i-2}-k,j-k,1}$\n\n$f_{i,j,k,0} = f_{i,j,k,0}\\lor f_{i-1,a_{i-2}-k,j-k,0}$\n\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nint N, A[110];\nbool Dp[110][110][110][2];\n\nint main() {\n    ios::sync_with_stdio(false);\n    cin.tie(0);\n    cout.tie(0);\n\n    cin >> N;\n    while (N--) {\n        memset(Dp, 0, sizeof Dp);\n        for (int i = 1; i <= 100; i++) cin >> A[i];\n        Dp[0][0][0][0] = true;\n        for (int i = 1; i <= 100; i++) {\n            for (int j = 0; j <= A[i - 1]; j++) {\n                for (int k = 0; k <= A[i]; k++) {\n                    if (k > 1) Dp[i][j][k][1] |= Dp[i][j][k - 2][0];\n                    if (k > 2) {\n                        Dp[i][j][k][1] |= Dp[i][j][k - 3][1];\n                        Dp[i][j][k][0] |= Dp[i][j][k - 3][0];\n                    }\n                    if (k > 3) {\n                        Dp[i][j][k][1] |= Dp[i][j][k - 4][1];\n                        Dp[i][j][k][0] |= Dp[i][j][k - 4][0];\n                    }\n                    if (j >= k && A[i - 2] >= k) {\n                        Dp[i][j][k][0] |= Dp[i - 1][A[i - 2] - k][j - k][0];\n                        Dp[i][j][k][1] |= Dp[i - 1][A[i - 2] - k][j - k][1];\n                    }\n                }\n            }\n        }\n        cout << Dp[100][A[99]][A[100]][1] << endl;\n    }\n\n    return 0;\n}\n```",
        "postTime": 1680785608,
        "uid": 461426,
        "name": "CmsMartin",
        "ccfLevel": 6,
        "title": "[ZJOI2006]\u8d85\u7ea7\u9ebb\u5c06"
    }
]