[
    {
        "content": "\u4e3b\u8981\u601d\u8def\u5c31\u662f\u4ea7\u751f\u4e66\u7684\u5168\u6392\u5217\uff08\u7528dfs\uff0c\u53ef\u4f18\u5316\uff09\uff0c\u6392\u9664\u4e0e\u559c\u6b22\u5217\u8868\u4e0d\u7b26\u5408\u7684\u65b9\u6848\u3002\n\n```cpp\n#include<iostream>\nusing namespace std;\nint book[50],s,x;\nbool flag[50],like[50][50];              //like[i][j]\u8868\u793a\u7b2ci\u4e2a\u4eba\u559c\u6b22\u7b2cj\u672c\u4e66\u3002\nvoid so(int i)                           //dfs\u4ea7\u751f\u5168\u6392\u5217\n{\n    int j;\n    for(j=1;j<=x;j++)\n    {\n        if(flag[j]&&like[i][j]){         //\u6b64\u4e66\u672a\u9009\u4e14\u7b2ci\u4e2a\u4eba\u559c\u6b22\u8fd9\u672c\u4e66\n            flag[j]=0;\n            book[i]=j;\n            if(i==x) s++;\n                else so(i+1);            //\u7ee7\u7eed\u5217\u4e3e\u7b2ci+1\u4e2a\u4eba\u7684\u4e66\n            flag[j]=1;                   //\u8fd8\u539f\u4e0e\u56de\u6eaf\n            book[i]=0;\n        }\n    }\n}\nint main()\n{\n    ios::sync_with_stdio(false);         //\u52a0\u5febcin\u3001cout\uff08\u88c5\u903c\u4e13\u7528\uff09\n    cin>>x;\n    int i,t1,t2;\n    for(i=1;i<=x;i++)                    //\u8bfb\u5165\u559c\u6b22\u5217\u8868\n    {\n        cin>>t1>>t2;\n        like[i][t1]=true;\n        like[i][t2]=true;\n    }\n    for(i=1;i<=x;i++)\n    {\n        flag[i]=true;                   //\u6807\u8bb0\u6570\u7ec4\u521d\u59cb\u5316\n    }\n    so(1);\n    cout<<s;                            //\u8f93\u51fa\u603b\u65b9\u6848\u6570\n    return 0;\n}\n```",
        "postTime": 1471571233,
        "uid": 11864,
        "name": "_xcc_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "\u770b\u4e86\u8fd9\u4e48\u591a\u9898\u89e3\uff0c\u7adf\u7136\u6ca1\u6709\u72b6\u6001\u538b\u7f29\u7684\uff0c\u6240\u4ee5\u672c\u849f\u84bb\u6765\u4e00\u53d1\u3002  \n\u8fd9\u91cc\u89e3\u91ca\u4e00\u4e0b\u72b6\u6001\u538b\u7f29\u3002  \n\u628at\u5f53\u505a2\u8fdb\u5236\u6765\u770b\uff0c\u5b83\u7684\u7b2c( i + 1 )\u4f4d\u5c31\u8868\u793a\u7b2ci\u672c\u4e66\u6709\u6ca1\u6709\u62ff\u8d70\u3002  \n\u6bd4\u5982t = (11010)2\u8868\u793a\u7b2c1 \u3001 3 \u3001 4\u672c\u53d6\u8fc7\u4e86\u3002\u8fd9\u91cc\u4e3a\u4e86\u65b9\u4fbf\u6211\u4e0d\u4f7f\u7528\u7b2c\u4e00\u4f4d  \n\u5224\u65ad\u65f6\uff0c\u53ea\u8981\u628a t & ( 1 << \u7f16\u53f7 ) \u5c31\u884c\u4e86\uff0c\u4e3e\u4e2a\u4f8b\u5b50\uff0ct = (11010)2,\u8981\u5224\u65ad\u7b2c3\u672c\uff0c1 << 3 = (01000)2,(01000)2 & (11010)2\uff0c\u7b2c4\u4f4d\u90fd\u662f1\uff0c\u6240\u4ee5\u662ftrue\u3002  \n\u53d6\u4e66\u65f6\uff0c\u53ea\u8981\u628a&\u6539\u6210|\u5c31\u884c\u4e86\uff0c\u8bf7\u81ea\u5df1\u5206\u6790\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\uff0c\u5177\u4f53\u8bf7\u53c2\u7167\u7a0b\u5e8f\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nint n;\nint a[25][2];\nint ans;\nvoid dfs( int s, int t ){\n\tif ( s > n ){\n\t\tif ( t == ( 1 << ( n + 1 ) ) - 2 )//\u4ee5\u9632\u4e07\u4e00\n\t\t\tans++;\n\t\treturn;\n\t}\n\tif ( ( ( 1 << a[s][0] ) & t ) == 0 )\n\t\tdfs( s + 1, ( 1 << a[s][0] ) | t );//\u7b80\u5355\u7684\u641c\u7d22\n\tif ( ( ( 1 << a[s][1] ) & t ) == 0 )\n\t\tdfs( s + 1, ( 1 << a[s][1] ) | t ); \n}\n\nint main(){\n\tscanf( \"%d\", &n );\n\tfor ( int i = 1; i <= n; ++i )\n\t\tscanf( \"%d%d\", &a[i][0], &a[i][1] );\n\tif ( n ) dfs( 1, 0 );//\u662f0\u5c31\u4e0d\u505a\u4e86\uff0c\u6570\u636e\u592a\u5751\uff0c\u6709n = 0\u7684\u60c5\u51b5\uff0c\u8981\u7279\u5224\u3002\n\tprintf( \"%d\", ans );\n\treturn 0;\n}\n```\n\n\u72b6\u6001\u538b\u7f29\u662f\u4e00\u79cd\u5f88\u597d\u7684\u641c\u7d22\u8f85\u52a9\u5de5\u5177\uff0c\u53ef\u4ee5\u51cf\u5c11\u65f6\u95f4\u548c\u7a7a\u95f4\u590d\u6742\u5ea6\uff0c\u5f88\u591a\u8f83\u96be\u641c\u7d22\u9898\u90fd\u53ef\u4ee5\u7528\u5230\u3002\u5f53\u7136\uff0c\u5f00\u6570\u7ec4\u4e5f\u884c\uff0c\u7ed3\u679c\u90fd\u662f\u4e00\u6837\u7684\uff0c\u4f46\u6211\u504f\u597d\u4e8e\u72b6\u6001\u538b\u7f29\u3002\u4e0d\u8fc7\uff0c\u8fd9\u91cc\u4e8b\u5b9e\u4e0a\u7528\u6570\u7ec4\u4f1a\u66f4\u5feb\u66f4\u65b9\u4fbf\uff0c\u8fd9\u91cc\u6211\u53ea\u662f\u4ece\u5e7f\u4e49\u4e0a\u6765\u8bf4\u7684\uff0c\u72b6\u538b\u7684\u4e3b\u8981\u5e94\u7528\u8fd8\u662f\u5728\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u8fd9\u91cc\u6743\u5f53\u505a\u662f\u72b6\u6001\u538b\u7f29\u7684\u7ec3\u4e60\u5427\u3002",
        "postTime": 1518964205,
        "uid": 70786,
        "name": "_louhc",
        "ccfLevel": 7,
        "title": "P1657 \u9009\u4e66 \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9053\u9898\u5c5e\u4e8e\u66b4\u529b\u641c\u7d22\uff1b\u53d8\u5316\u5728\u4e8e\u4e00\u4e2a\u4eba\u559c\u7231\u4e24\u672c\u4e66\uff1b\n\n\u6839\u636e\u6570\u636e\u8303\u56f4\uff0820\uff09\u7528\u6df1\u641c\u5373\u53ef~~\u4e0d\u4f1a\u5e7f\u641c~~\n\n\u4e0d\u8003\u8651**x==0**\u7684\u60c5\u51b5\u6700\u540e\u4e00\u4e2a\u70b9\u8fc7\u4e0d\u4e86\u3002~~\u7136\u800c\u65e0\u6cd5\u7406\u89e3\u5206\u53d10\u672c\u4e66\u7ed90\u4e2a\u4eba~~\n\n\n\u4ee5\u4e0b\u4ee3\u7801~~\u5ffd\u7565\u5176\u4e2d\u591a\u4f59\u7684\u5927\u62ec\u53f7\uff0c\u672c\u4eba\u5f3a\u8feb\u75c7\u665a\u671f~~\n\n------------\n\n```cpp\n #include <iostream>\n using namespace std;\n const int maxn=21;//\u8003\u8651\u6570\u636e\u89c4\u6a21 \n int a[maxn][2],t=0,vis[maxn],x;\n // \u6570\u7ec4a\u5b58\u8d2e\u6bcf\u4e2a\u5b66\u751f\u559c\u7231\u7684\u4e66\uff1ba[i][j]\u8868\u793a\u5b66\u751fi\u559c\u7231\u7684\u7b2cj\u672c\u4e66\uff1bvis\u6570\u7ec4\u6807\u8bb0\u662f\u5426\u641c\u7d22\u8fc7\uff1b \n void dfs(int xx){\n \tif(xx==x+1)t++;//\u5982\u679c\u641c\u7d22\u5b8c\u6210\uff0c\u589e\u52a0\u65b9\u6848\u6570\uff1b \n \telse{\n \t   for(int i=1;i<=x;i++){ //\u9009\u62e9\u6bcf\u4e00\u672c\u4e66 \n \t   \tfor(int j=0;j<=1;j++){ \n \t   \t\tif((!vis[i])&&(a[xx][j]==i)){//\u5982\u679c\u8fd9\u4e66i\u6ca1\u6709\u88ab\u9009\u8d70\uff0c\u5e76\u4e14\u540c\u5b66x\u559c\u7231\u8fd9\u672c\u4e66 \n \t   \t\t\tvis[i]=1;//\u6807\u8bb0\u4e66i\uff1b \n \t   \t\t\tdfs(xx+1);//\u8fdb\u884c\u4e0b\u4e00\u4f4d\u540c\u5b66\u7684\u641c\u7d22 \n \t   \t\t\tvis[i]=0;//\u91ca\u653e\u4e66i\uff0c\u4fbf\u4e8e\u7ee7\u7eed\u641c\u7d22\uff1b \n \t   \t\t}\n \t   \t}\n \t   }\n \t}\n }\n int  main(){\n \tcin>>x; \n \tif(x){//\u6709x==0\u8fd9\u79cd\u6bd2\u7624\u7684\u60c5\u51b5\uff1b\uff08\u65e0\u6cd5\u7406\u89e3\u5c060\u672c\u4e66\u5206\u53d1\u7ed90\u4f4d\u540c\u5b6623333\uff09\n \t//\u5f53x!=0\u65f6\u4f7f\u7528\u5e38\u89c4\u7684\u641c\u7d22\u601d\u8def\uff1b \n \tfor(int i=1;i<=x;i++){\n \t \tcin>>a[i][0]>>a[i][1];//\u8bfb\u5165\u6bcf\u4f4d\u540c\u5b66\u559c\u7231\u7684\u4e66\u7684\u7f16\u53f7\uff1b \n \t }\n \t dfs(1);\n \t cout<<t;//\u8f93\u51fa\u7ed3\u679c\t\n \t}\n \t else cout<<0;//\u5982\u679c\u4eba\u6570\u4e3a\u96f6\u5219\u65e0\u6cd5\u5206\u53d1\nreturn 0; \n }\n```\n\u641c\u7d22\u9898\u76ee\u672c\u8eab\u601d\u8003\u4ef7\u503c\u8f83\u4f4e\uff0c\u7136\u800c\u8003\u9a8c\u8010\u5fc3\u548c\u7ec6\u8282\uff1b\n\n\u9996\u4e2a\u9898\u89e3\uff1b\u5982\u679c~~\u80af\u5b9a~~\u6709\u9519\u8bef**\u656c\u8bf7\u6307\u51fa\uff0c\u611f\u6fc0\u4e0d\u5c3d**\n\n",
        "postTime": 1529285691,
        "uid": 35219,
        "name": "Baihua",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "\u3010\u9898\u89e3\u3011\uff1a\n\n[color=blue]\uff08\u4ee5\u6837\u4f8b\u5206\u6790\uff09[/color]\n\n\u53ef\u7528\u7a77\u4e3e\u6cd5\uff0c\u5148\u4e0d\u8003\u8651\u201c\u6bcf\u4eba\u90fd\u6ee1\u610f\u201d\u8fd9\u4e00\u6761\u4ef6\uff0c\u8fd9\u6837\u53ea\u5269[color=red]**\u201c\u6bcf\u4eba\u9009\u4e00\u672c\u4e14\u53ea\u80fd\u9009\u4e00\u672c\u201d**[/color]\u8fd9\u4e00\u6761\u4ef6\u3002\u5728\u8fd9\u4e2a\u6761\u4ef6\u4e0b\uff0c\u53ef\u884c\u89e3\u5c31\u662f\u4e94\u672c\u4e66\u7684\u6240\u6709\u5168\u6392\u5217\uff0c\u4e00\u5171\u67095\uff01=120\u79cd\u3002\u7136\u540e[color=green]**\u5728120\u79cd\u53ef\u884c\u89e3\u4e2d\u4e00\u4e00\u5220\u53bb\u4e0d\u7b26\u5408\u201c\u6bcf\u4eba\u90fd\u6ee1\u610f\u201d\u7684\u89e3**[/color]\uff0c\u7559\u4e0b\u7684\u5c31\u662f\u672c\u9898\u7684\u89e3\u7b54\u3002\n\n[color=brown]**\u8fd9\u4e94\u4e2a\u6570\u7684\u4e00\u79cd\u5168\u6392\u5217\u5c31\u662f\u4e94\u672c\u4e66\u7684\u4e00\u79cd\u5206\u53d1\u3002\u4f8b\u598254321\u5c31\u8868\u793a\u7b2c\u4e94\u672c\u4e66\u5206\u7ed95\uff0c\u7b2c4\u672c\u4e66\u5206\u7ed94\uff0c\u2026\uff0c\u7b2c1\u672c\u4e66\u5206\u7ed91\u3002\u201c\u559c\u7231\u4e66\u8868\u201d\u53ef\u4ee5\u7528\u4e8c\u7ef4\u6570\u7ec4\u6765\u8868\u793a\uff0c1\u8868\u793a\u559c\u7231\uff0c0\u8868\u793a\u4e0d\u559c\u7231\u3002**[/color]\n\n\u7b97\u6cd5\u8bbe\u8ba1\uff1aS1\uff1a\u4ea7\u751f5\u4e2a\u6570\u5b57\u7684\u4e00\u79cd\u5168\u6392\u5217\uff1b\n\nS2\uff1a\u68c0\u67e5\u662f\u5426\u7b26\u5408\u201c\u559c\u7231\u4e66\u8868\u201d\u7684\u6761\u4ef6\uff0c\u5982\u679c\u7b26\u5408\u5c31\u89e3++\uff1b\n\nS3\uff1a\u68c0\u67e5\u662f\u5426\u6240\u6709\u7684\u6392\u5217\u90fd\u4ea7\u751f\u4e86\uff0c\u5982\u679c\u6ca1\u6709\u4ea7\u751f\u5b8c\uff0c\u5219\u8fd4\u56deS1\uff1b\n\nS4\uff1a\u7ed3\u675f\u3002\n\n\u4e0a\u8ff0\u7b97\u6cd5\u6709\u53ef\u4ee5\u6539\u8fdb\u7684\u5730\u65b9\u3002\u6bd4\u5982\u4ea7\u751f\u4e86\u4e00\u4e2a\u5168\u6392\u521712345\uff0c\u4ece\u8868\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u9009\u7b2c\u4e94\u672c\u4e66\u5373\u7ed91\u7684\u4e66,5\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a1\u53ea\u559c\u6b22\u7b2c1,3\u672c\u4e66\u3002\u8fd9\u5c31\u662f\u8bf45XXXX\u90fd\u662f\u4e0d\u7b26\u5408\u9898\u76ee\u7684\u6761\u4ef6\u3002\u7531\u6b64\u60f3\u5230\uff0c[color=purple]**\u5982\u679c\u9009\u5b9a\u7b2c\u4e00\u672c\u4e66\u540e\uff0c\u5c31\u5f97\u7acb\u5373\u68c0\u67e5\u4e00\u4e0b\u662f\u5426\u7b26\u5408\u6761\u4ef6\uff0c\u53d1\u73b05\u662f\u4e0d\u7b26\u5408\u7684\uff0c\u540e\u9762\u56db\u4e2a\u6570\u5b57\u5c31\u4e0d\u5fc5\u9009\u4e86\uff0c\u8fd9\u6837\u5c31\u51cf\u5c11\u4e86\u8fd0\u7b97\u91cf**[/color]\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u7b2c\u4e00\u4e2a\u6570\u53ea\u57281,3\u4e2d\u9009\u62e9\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u51cf\u5c113/5\u7684\u8fd0\u7b97\u91cf\u3002\u540c\u7406\uff0c\u9009\u5b9a\u4e86\u7b2c\u4e00\u4e2a\u6570\u5b57\u540e\uff0c\u4e5f\u4e0d\u5e94\u8be5\u628a\u5176\u4ed64\u4e2a\u6570\u5b57\u4e00\u6b21\u9009\u5b9a\uff0c\u800c\u662f\u9009\u62e9\u4e86\u7b2c\u4e8c\u4e2a\u6570\u5b57\u540e\uff0c\u5c31\u7acb\u5373\u68c0\u67e5\u662f\u5426\u7b26\u5408\u6761\u4ef6\uff0c\u4f8b\u5982\uff0c[color=sorrel]**\u7b2c\u4e00\u4e2a\u6570\u90091\uff0c\u7b2c\u4e8c\u4e2a\u6570\u90092\u540e\uff0c\u7acb\u5373\u68c0\u67e5\uff0c\u53d1\u73b0\u4e0d\u7b26\u5408\u6761\u4ef6\uff0c\u5c31\u5e94\u53e6\u9009\u7b2c\u4e8c\u4e2a\u6570\uff0c\u8fd9\u6837\u5c31\u628a12XXX\u4e00\u7c7b\u7684\u5206\u6cd5\u5728\u4ea7\u751f\u524d\u5c31\u5220\u53bb\u4e86\uff0c\u53c8\u51cf\u5c11\u4e86\u4e00\u90e8\u5206\u8fd0\u7b97\u91cf**[/color]\u3002\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c\u6539\u8fdb\u540e\u7684\u7b97\u6cd5\u5e94\u8be5\u662f\uff1a[color=gold]**\u5728\u6392\u5217\u4ea7\u751f\u65f6\uff0c\u6bcf\u589e\u52a0\u4e00\u4e2a\u6570\uff0c\u5c31\u68c0\u67e5\u8be5\u6570\u662f\u5426\u7b26\u5408\u6761\u4ef6\uff0c\u4e0d\u7b26\u5408\uff0c\u5c31\u7acb\u5373\u6362\u4e00\u4e2a\uff0c\u7b26\u5408\u6761\u4ef6\u540e\uff0c\u518d\u4ea7\u751f\u4e0b\u4e00\u4e2a\u6570\u3002\u56e0\u4e3a\u4ece\u7b2ci\u672c\u4e66\u5230\u7b2ci+1\u672c\u4e66\u7684\u5bfb\u627e\u8fc7\u7a0b\u662f\u76f8\u540c\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u56de\u6eaf\u7b97\u6cd5\u3002**[/color]\u7b97\u6cd5\u8bbe\u8ba1\u5982\u4e0b\uff08\u4f2a\u4ee3\u7801\uff09\uff1a\n\n    ```delphi\n\n    int search(i)\n    {\n        for (j=1;j<=5;j++)\n            if (\u7b2ci\u4e2a\u540c\u5b66\u5206\u7ed9\u7b2cj\u672c\u4e66\u7b26\u5408\u6761\u4ef6)\n               {\n                \u8bb0\u5f55\u7b2ci\u4e2a\u6570\n                if (i==n\uff09\u89e3++\uff1b\n                else search(i+1)\uff1b\n                \u5220\u53bb\u7b2ci\u4e2a\u6570\n               }\n    }\n    \n```",
        "postTime": 1379152534,
        "uid": 165,
        "name": "\u60c5\u5230\u6df1\u5904\u4eba\u5b64\u72ec",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "\u4e0d\u7406\u89e3\u4e3a\u4ec0\u4e48\u697c\u4e0b\u7684\u5927\u4f6c\u90fd\u662f\u7528\u77e9\u9635\u5b58\u50a8\u4eba\u548c\u559c\u6b22\u7684\u4e66\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u4eba\u90fd\u559c\u6b22\u4e24\u672c\u4e66\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u5b58\u50a8\u4e24\u672c\u4e66\u6240\u4ee3\u8868\u7684\u53f7\u7801\u5c31\u53ef\u4ee5\u4e86\uff0c\u800c\u4e14\u8bbf\u95ee\u7684\u65f6\u5019\u4e5f\u53ef\u4ee5\u76f4\u63a5\u964d\u4f4e\u5230O(1)\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u800c\u4e0d\u662f\u5168\u90e8\u626b\u4e00\u904d\u7684O(N)\uff0c\u603b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e5f\u53ef\u4ee5\u964d\u4f4e\u4e00\u4e2aN\u9879\uff08\u5c3d\u7ba1\u6b64\u9898\u662f\u6307\u6570\u65f6\u95f4\u590d\u6742\u5ea6\uff09\n\n\u6211\u4eec\u53ea\u9700\u8981\u5728dfs\u7684\u8fc7\u7a0b\u4e2d\u8fdb\u884c3\u79cd\u64cd\u4f5c\uff0c\u5224\u65ad\u662f\u5426\u6240\u6709\u4eba\u90fd\u9009\u4e0a\u4e86\u4e66\uff0c\u5f53\u524d\u4eba\u9009\u7b2c\u4e00\u672c\u559c\u6b22\u7684\u4e66\uff0c\u9009\u7b2c\u4e8c\u672c\u559c\u6b22\u7684\u4e66\uff0c\u9009\u4e66\u7684\u8fc7\u7a0b\u518d\u6b21\u8fdb\u884cdfs\uff0c\u8fd9\u91cc\u6211\u4eec\u9700\u8981\u8bb0\u5f55\u4e00\u4e2atf\u6570\u7ec4\u6765\u5224\u65ad\u5f53\u524d\u8fd9\u672c\u4e66\u662f\u5426\u88ab\u9009\u8fc7\uff0c\u4e00\u5b9a\u8981\u7559\u4e0b\u8db3\u8ff9\u548c\u64e6\u9664\u8db3\u8ff9\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nconst int maxn=25;\nint n,a[maxn][2],ans;\nbool tf[maxn];\nvoid dfs(int x)//x\u662f\u5f53\u524d\u6b63\u8981\u9009\u4e66\u7684\u4eba\u7684\u7f16\u53f7\n{\n    if(x==n+1){ans++;return;}//\u5982\u679c\u6240\u6709\u4eba\u90fd\u9009\u5b8c\u4e66\u4e86\uff0c\u4e0b\u9762\u7684\u8fc7\u7a0b\u4fdd\u8bc1\u8fd9\u662f\u4e00\u4e2a\u7b54\u6848\u4e14\u6ca1\u6709\u91cd\u590d\n    if(!tf[a[x][0]])tf[a[x][0]]=true,dfs(x+1),tf[a[x][0]]=false;//\u5982\u679c\u7b2c\u4e00\u672c\u4e66\u6ca1\u6709\u88ab\u9009\u8fc7\uff0c\u9009\u62e9\u7b2c\u4e00\u672c\u4e66\uff0cdfs\n    if(!tf[a[x][1]])tf[a[x][1]]=true,dfs(x+1),tf[a[x][1]]=false;//\u540c\u4e0a\uff0c\u8bb0\u5f97\u4e00\u5b9a\u8981\u5b9e\u65f6\u66f4\u65b0tf\u6570\u7ec4\u7684\u503c\n}\nint main()\n{\n    scanf(\"%d\",&n);\n    if(n==0){printf(\"0\\n\");return 0;}//\u7279\u5224\uff0c\u672c\u4eba\u62d9\u89c1\uff0c0\u4e2a\u4eba\u4e5f\u5e94\u8be5\u662f\u4e00\u79cd\u65b9\u6848\uff0c\u603b\u65b9\u6848\u65702^0=1\uff0c\u4e0d\u6210\u7acb\u7684\u65b9\u6848\u6570\u6ca1\u6709\uff0c\u6240\u4ee5\u5e94\u8be5\u662f1\u79cd\u65b9\u6848\n    for(int i=1;i<=n;i++)scanf(\"%d%d\",a[i],a[i]+1);//\u8f93\u5165\u6bcf\u4e2a\u4eba\u559c\u6b22\u7684\u4e24\u672c\u4e66\n    dfs(1);//\u8fdb\u884cdfs\u8fc7\u7a0b\n    printf(\"%d\\n\",ans);//\u8f93\u51fa\u6700\u540e\u7684\u7b54\u6848\n    return 0;\n}\n```",
        "postTime": 1508637812,
        "uid": 43486,
        "name": "hsfzLZH1",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u7528\u53d8\u5f62\u7684\u6df1\u641c\u6765\u5b8c\u6210\n\n\u4ece\u7b2c\u4e00\u4e2a\u4eba\u5f00\u59cb\u5206\u522b\u5224\u65ad\u6bcf\u4e2a\u4eba\u559c\u6b22\u7684\u7b2c\u4e00\u672c\u548c\u7b2c\u4e8c\u672c\u4e66\u662f\u5426\u88ab\u5176\u4ed6\u4eba\u53d6\u8d70\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5c31\u628a\u8fd9\u672c\u4e66\u7ed9\u8fd9\u4e2a\u4eba\uff0c\u7ee7\u7eed\u5224\u65ad\u4e0b\u4e00\u4e2a\u4eba\n\n--------\nAC\u4ee3\u7801\uff1a\n\n```\n#include<iostream>\nusing namespace std;\nint a[100][2],x,cn=0;\nbool b[1000]={0};\nvoid dfs(int i)//\u6df1\u641c\n{\n\tif(i>x)\n\tcn++;//\u5982\u679c\u6240\u6709\u4eba\u90fd\u62ff\u5230\u4e86\u81ea\u5df1\u559c\u6b22\u7684\u4e66\uff0c\u65b9\u6848\u6570\u5c31\u52a0\u4e00\n\telse for(int j=0;j<=1;j++)\n\t\tif(!b[a[i][j]])//\u5206\u522b\u5224\u65ad\u6bcf\u4e2a\u4eba\u559c\u6b22\u7684\u7b2c\u4e00\u672c\u548c\u7b2c\u4e8c\u672c\u4e66\u662f\u5426\u88ab\u522b\u4eba\u62ff\u8d70\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5c31\u628a\u8fd9\u672c\u4e66\u7ed9\u8fd9\u4e2a\u4eba\n\t\t\t{\n\t\t\t\tb[a[i][j]]=1;//\u628a\u8fd9\u672c\u4e66\u503c\u4e3a\u5df2\u62ff\u8fc7\n\t\t\t\tdfs(i+1);//\u62ff\u5230\u4e66\u4eba\u6570\u52a0\u4e00\n\t\t\t\tb[a[i][j]]=0;//\u8fd4\u56de\u5224\u65ad\u7b2c\u4e8c\u672c\n\t\t\t}\n}\nint main()\n{\n\tcin>>x;//\u8f93\u5165\u4eba\u6570\n\tif(x==0)//\u7279\u5224\uff0c\u6d4b\u8bd5\u70b9\u5e94\u8be5\u6709\u8fd9\u4e2a\u5751\n\t{\n\t\tcout<<0;\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=x;i++)\n\tcin>>a[i][0]>>a[i][1];//\u8f93\u5165\u6bcf\u4e2a\u4eba\u559c\u597d\u7684\u4e66\n\tdfs(1);\n\tcout<<cn;\n}\n```\n",
        "postTime": 1547888639,
        "uid": 83565,
        "name": "zhanghb",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "~~\u89c2\u5bdf\u4ed6\u4eba\u63d0\u4ea4\u8bb0\u5f55\u53ef\u5f97.\u82e5n>0,\u7b54\u6848\u662f2^x.~~\n\n\u6211\u4eec\u5e94\u5f53\u901a\u8fc7\u89c4\u5f8b\u6765\u5b8c\u6210\u6b64\u9898.(.....).\n\n\u9898\u610f.\u6709x\u4e2a\u4eba.\u6bcf\u4eba\u90091\u672c\u4e66.\u4e141\u5b9a\u662f\u81ea\u5df1\u559c\u6b22\u7684\u4e66.\u6c42\u6bcf\u4e2a\u4eba\u90fd\u62ff\u5230\u4e66\u7684\u65b9\u6848\u603b\u6570..\n\n\u770b\u6837\u4f8b\u770b\u6837\u4f8b.\n\n![](https://cdn.luogu.com.cn/upload/pic/14157.png).\n\n\u7b2c1\u884c\u6bcf\u4e2a\u70b9\u8868\u793a\u4e66.\u7b2c2\u884c\u6bcf\u4e2a\u70b9\u8868\u793a\u4eba..\n\n\u4ece\u5de6\u5f80\u53f3\u6807\u53f71-n.\n\n\u4ee5\u4e0b.\u7528**R1**\u8868\u793a\u7b2c1\u4e2a\u4eba.**B1**\u8868\u793a\u7b2c1\u672c\u4e66.\u7c7b\u6bd41\u4e0b..\n\n\u7ea2\u7ebf\u4ee3\u8868\u5176\u4e2d1\u79cd\u65b9\u6cd5.\n\n\u6211\u4eec\u77e5\u9053.\u6bcf\u4e2a\u4eba\u90fd\u4f1a\u67092\u672c\u559c\u6b22\u7684\u4e66.\u90a3\u4e482\u4e2a\u4eba\u540c\u65f6\u559c\u6b221\u672c\u4e66\u7684\u8bdd.\u53e61\u4e2a\u4eba\u53ea\u80fd\u9009\u53e6\u59161\u672c\u4e66.\n\n\u4f8b\u5b50.\u4e0a\u56fe\u4e2d**R1**\u9009\u4e86**B1**.\u540c\u6837\u559c\u6b22**B1**\u7684**R4**\u4e0d\u5f97\u4e0d\u9009\u62e9**B4**.\n\n\u90a3\u4e48\u53ef\u4ee5\u770b\u5230.**B2**\u53ea\u6709**R3**\u559c\u6b22.\u8fd9\u672c\u4e66\u81ea\u7136\u5f52\u4ed6\u4e86...\n\n\u6211\u4eec\u53bb\u6389**B2**\u4e0e**R3**\u518d\u770b\u770b..\n\n![](https://cdn.luogu.com.cn/upload/pic/14158.png).\n\n\u53ef\u4ee5\u53d1\u73b0.\u6bcf\u4e2a\u4e66\u90fd\u88ab2\u4e2a\u4eba\u559c\u6b22....\n\n\u90a3\u4e48.\u53e6\u59161\u79cd\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u7684...\n\n![](https://cdn.luogu.com.cn/upload/pic/14159.png).\n\n\u5c31\u662f\u8bf4.\u786e\u5b9a1\u4e2a\u4eba\u4e4b\u540e.\u6240\u6709\u4eba\u7684\u4e66\u5168\u90e8\u786e\u5b9a\u4e86..\n\n\u8fd9\u65f6.\u6bcf\u67091\u79cd\u8fd9\u6837\u7684\u60c5\u51b5.\u5bf9\u7b54\u6848\u8d21\u732e2.\n\n![](https://cdn.luogu.com.cn/upload/pic/14168.png).\n\n\u636e\u4e58\u6cd5\u539f\u7406.2*2=4.\u4e0a\u56fe\u67094\u79cd\u60c5\u51b5.\n\n\u7ed3\u679c..\u6b64\u9898\u6210\u4e86...**\u6c42\u8054\u901a\u5757\u7684\u6570\u91cf**.....\n\n**\u6bcf\u67091\u4e2a\u8054\u901a\u5757.\u7b54\u6848\u4e582**.\n\n\u5bf9\u4e8e\u4e0d\u5408\u6cd5\u60c5\u51b5\u5224\u65ad...**\u5728\u4ee5\u6b63\u5e38\u987a\u5e8f\u7684\u60c5\u51b5\u4e0b.**.**\u67d0\u4eba2\u672c\u559c\u6b22\u7684\u4e66\u90fd\u88ab\u7edf\u8ba12\u6b21\u6216\u4ee5\u4e0a.\u5219\u8fd9\u4e2a\u4eba\u5c06\u4f1a\u62ff\u4e0d\u5230\u4e66..**.\n\n~~(\u8fd9\u4e2a\u5224\u65ad\u597d\u5047...\u6709\u65f6\u95f4\u597d\u597d\u60f3\u60f3.)..~~\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4f4e\u81f3**O(n)**\u7ea7\u522b..\n\n~~(n=0\u5224\u65ad\u8981\u52a0\u4e0a\u554a..)..~~\n\nDiu\u4ee3\u7801..\n```\nprogram P1657;\n type\n  wa=record\n   n,t:longint;\n  end;\n var\n  a:array[0..41] of wa;\n  b,f,f1,h,x,y:array[0..21] of longint;\n  i,n,p,ssum,upass:longint;\n procedure hahainc(x,y:longint); //\u8fb9\u7684\u5b58\u50a8..\n  begin\n   inc(p);\n   a[p].n:=h[x];\n   a[p].t:=y;\n   h[x]:=p;\n  end;\n procedure hahaBFS(k:longint); //BFS\u51fa\u6240\u6709\u6709\u5173\u8054\u7684\u4e66\u672c.\n  var\n   i,j,o,p,t,s:longint;\n  begin\n   o:=0;\n   p:=1;\n   b[p]:=k;\n   repeat\n    inc(o);\n    t:=b[o];\n    j:=h[t];\n    while a[j].n<>-1 do\n     begin\n      s:=a[j].t;\n      if f1[s]=0 then\n       begin\n        f1[s]:=1;\n        if (f[x[s]]=0) and (f[y[s]]=0) then ssum:=ssum<<1; //\u5176\u5b9e\u5c31\u662f\u8054\u901a\u5757\u7edf\u8ba1..\n        if (f[x[s]]>=2) and (f[y[s]]>=2) then upass:=1;  //\u5047\u7684.-\n        inc(f[x[s]]);\n        inc(f[y[s]]);\n        if f[y[s]]=1 then\n         begin\n          inc(p);\n          b[p]:=y[s];\n         end;\n       end;\n      j:=a[j].n;\n     end;\n   until o=p;\n  end;\n begin\n  readln(n);\n  filldword(f,sizeof(f)>>2,0);    //\u4e66\u672c\u8bbf\u95ee\u6807\u8bb0.\n  filldword(f1,sizeof(f1)>>2,0);  //\u4eba\u8bbf\u95ee\u6807\u8bb0.\n  filldword(h,sizeof(h)>>2,0);\n  ssum:=1; //\u7edf\u8ba1\u7cfb\u5217.\n  if n=0 then ssum:=0;\n  upass:=0;\n  p:=0;\n  for i:=1 to n do\n   begin\n    readln(x[i],y[i]);\n    hahainc(x[i],i);\n    //hahainc(y[i],i);\n   end;\n  a[0].n:=-1;\n  for i:=1 to n do\n   if f[i]=0 then hahaBFS(i);\n  if upass=1 then ssum:=upass-1;\n  writeln(ssum);\n end.\n```\n(\u0ca1\u03c9\u0ca1).\n",
        "postTime": 1517988763,
        "uid": 20454,
        "name": "BFSBFSBFSBFS",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "\u8fd9\u9898\u7528\u56fe\u8bba\u5b8c\u5168\u53ef\u4ee5$O(n)$\u505a\n\n\u9996\u5148\u5efa\u56fe\uff1a\u5bf9\u4e8e\u6bcf\u4e2a\u4eba\uff0c\u5c06\u4ed6\u559c\u6b22\u7684\u4e24\u672c\u4e66\u7684\u7f16\u53f7\u8fde\u4e00\u6761\u65e0\u5411\u8fb9\n\n\u8fd9\u6837\u5c31\u5f97\u5230\u4e86\u4e00\u4e2a$n$\u4e2a\u8282\u70b9$n$\u6761\u8fb9\u7684\u56fe\uff0c\u800c\u6bcf\u4e00\u4e2a\u5408\u6cd5\u65b9\u6848\u5c31\u662f\u4e3a\u6bcf\u4e00\u6761\u8fb9\u9009\u62e9\u4e00\u4e2a\u65b9\u5411\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u70b9\u7684\u5165\u5ea6\u4e3a1\n\n\u7136\u540e\u8003\u8651\u7b54\u6848\u5982\u4f55\u8ba1\u7b97\n\n- \u7b54\u6848\u975e0\uff0c\u5f53\u4e14\u4ec5\u5f53\u8fd9\u4e2a\u56fe\u7684\u6bcf\u4e2a\u8fde\u901a\u5757\u5185\uff0c\u70b9\u7684\u6570\u91cf\u548c\u8fb9\u7684\u6570\u91cf\u76f8\u540c\n\n\u8bc1\u660e\uff1a\n\n\uff08\u5fc5\u8981\u6027\uff09\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u8fde\u901a\u5757\uff0c\u5757\u5185\u70b9\u7684\u6570\u91cf\u5927\u4e8e\u8fb9\u7684\u6570\u91cf\uff08\u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u4e2a\u8fde\u901a\u5757\u53ea\u80fd\u662f\u6811\uff09\uff0c\u90a3\u4e48\u65e0\u8bba\u5982\u4f55\u9009\u62e9\u8fb9\u7684\u65b9\u5411\uff0c\u603b\u6709\u81f3\u5c11\u4e00\u4e2a\u70b9\u5165\u5ea6\u4e3a0\u3002\n\n\u800c\u5982\u679c\u5b58\u5728\u4e00\u4e2a\u8fde\u901a\u5757\uff0c\u5757\u5185\u8fb9\u7684\u6570\u91cf\u5927\u4e8e\u70b9\u7684\u6570\u91cf\uff0c\u90a3\u4e48\u5269\u4f59\u90e8\u5206\u70b9\u7684\u6570\u91cf\u5927\u4e8e\u8fb9\u7684\u6570\u91cf\uff0c\u53ef\u4ee5\u5f97\u51fa\u6709\u81f3\u5c11\u5b58\u5728\u4e00\u4e2a\u8fde\u901a\u5757\uff0c\u5757\u5185\u70b9\u7684\u6570\u91cf\u5927\u4e8e\u8fb9\u7684\u6570\u91cf\n\n\uff08\u5145\u5206\u6027\uff09\u53ef\u4ee5\u770b\u51fa\uff0c\u6bcf\u4e2a\u8fde\u901a\u5757\u90fd\u662f\u4e00\u4e2a\u73af\u6216\u57fa\u73af\u6811\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u8fde\u901a\u5757\uff0c\u8fd9\u6837\u6784\u9020\uff1a\u5c06\u6bcf\u4e2a\u5ea6\u4e3a1\u7684\u8282\u70b9\u5bf9\u5e94\u7684\u8fb9\u6307\u5411\u8fd9\u4e2a\u70b9\uff0c\u5bf9\u5269\u4f59\u90e8\u5206\u7ee7\u7eed\u6784\u9020\uff0c\u8fd9\u6837\u6700\u540e\u53ea\u5269\u4e00\u4e2a\u73af\uff0c\u800c\u8fd9\u4e2a\u73af\u4e0a\u53ea\u8981\u90fd\u671d\u4e00\u4e2a\u65b9\u5411\u5c31\u884c\u4e86\n\n\u5927\u81f4\u601d\u8def\u5c31\u662f\u628a\u53f6\u5b50\u8282\u70b9\u4e00\u4e2a\u4e2a\u64b8\u4e0b\u6765\uff0c\u6700\u540e\u53ea\u5269\u4e00\u4e2a\u73af\n\n- \u7b54\u6848\u975e0\u65f6\uff0c\u5982\u679c\u8fd9\u4e2a\u56fe\u6709$k$\u4e2a\u8fde\u901a\u5757\uff0c\u90a3\u4e48\u7b54\u6848\u5c31\u662f$2^k$\n\n\u7531\u4e0a\u9762\u5145\u5206\u6027\u7684\u8bc1\u660e\uff0c\u5904\u7406\u4e0d\u5728\u73af\u4e0a\u7684\u70b9\u65f6\uff0c\u53ea\u6709\u552f\u4e00\u7684\u4e00\u79cd\u6784\u9020\u65b9\u6848\uff0c\u800c\u5904\u7406\u73af\u65f6\uff0c\u6709\u4e24\u4e2a\u65b9\u5411\uff0c\u5e76\u4e14\u5404\u4e2a\u8fde\u901a\u5757\u72ec\u7acb\u3002\u7531\u4e58\u6cd5\u539f\u7406\u4e0d\u96be\u5f97\u51fa\u7b54\u6848\n\n\u7136\u540e\u5c31\u53ef\u4ee5$O(n)$\u505a\u4e86\n\n\u5173\u4e8e\u51fa\u9898\u4eba\u8bf4\u7684\u9020\u6570\u636e\u96be\uff0c\u5927\u6982\u5c31\u662f\u56e0\u4e3a\u6ca1\u6709\u53d1\u73b0\u8fd9\u4e9b\u7279\u70b9\u5427QWQ\n\n\u5177\u4f53\u505a\u6cd5\uff1a\n\n1. \u5148\u628a$n=0$\u7684\u60c5\u51b5\u7279\u5224\u6389\uff08\u7b54\u6848\u4e3a0\uff09\n\n2. \u5efa\u56fe\uff0cdfs\u4e00\u904d\uff0c\u8bb0\u5f55\u6bcf\u4e2a\u70b9\u6240\u5c5e\u7684\u8fde\u901a\u5757\n\n3. \u5224\u65ad\u6bcf\u4e2a\u8fde\u901a\u5757\u5185\u8fb9\u6570\u662f\u5426\u7b49\u4e8e\u70b9\u6570\n\n4. \u7edf\u8ba1\u8fde\u901a\u5757\u6570\u76ee\uff0c\u8ba1\u7b97\u7b54\u6848\n\n\u5176\u4e2d\u7b2c\u4e09\u6b65\u6211\u662f\u8fd9\u6837\u505a\u7684\uff1a\u8ba1\u7b97\u8fde\u901a\u5757\u5185\u70b9\u7684\u5ea6\u6570\u4e4b\u548c\uff0c\u5982\u679c\u4e0d\u6ee1\u8db3\u5ea6\u6570\u4e4b\u548c\u662f\u70b9\u4e2a\u6570\u4e4b\u548c\u7684\u4e8c\u500d\uff0c\u5219\u7b54\u6848\u4e3a0\u3002\u8fd9\u5e94\u8be5\u5f88\u663e\u7136\u5427QWQ\n\n\u6700\u540e\u653e\u4ee3\u7801\uff1a\n\n\u6ce8\uff1a\u8fd9\u91cc\u9ed8\u8ba4\u5bf9998244353\u53d6\u6a21\u4e86\uff0c\u5bf9\u4e8e\u8fd9\u4e2a\u9898\u7684\u6570\u636e\u6ca1\u95ee\u9898\n\n```\n#include<cstdio>\nlong long read(){\n\tlong long n=0;char c=getchar();\n\twhile(c<'0'||c>'9')c=getchar();\n\twhile(c>='0'&&c<='9'){n=n*10+c-'0';c=getchar();}\n\treturn n;\n}\nconst int N=300007;\n#define next next2\nint head[N],next[N*2],ver[N*2],tot;\nint gid[N];\nint deg[N];\nint cnt[N],cdeg[N];\nvoid add(int a,int b){\n\tdeg[a]++;\n\tdeg[b]++;\n\ttot++;\n\tver[tot]=b;\n\tnext[tot]=head[a];\n\thead[a]=tot;\n\ttot++;\n\tver[tot]=a;\n\tnext[tot]=head[b];\n\thead[b]=tot;\n}\n\nvoid dfs(int id,int p){\n\tgid[id]=p;\n\tfor(int i=head[id];i;i=next[i]){\n\t\tif(gid[ver[i]])continue;\n\t\tdfs(ver[i],p); \n\t}\n}\nint n,a,b;\nlong long ans=1;\nint main(){\n\tn=read();\n\tif(n==0){\n\t\tprintf(\"0\\n\");\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=n;i++){//\u5efa\u56fe\n\t\ta=read();\n\t\tb=read();\n\t\tadd(a,b);\n\t}\n\tfor(int i=1;i<=n;i++){//DFS\u6c42\u6bcf\u4e2a\u70b9\u6240\u5c5e\u7684\u8fde\u901a\u5757\u7f16\u53f7\n\t\tif(!gid[i])dfs(i,i);\n\t}\n\tfor(int i=1;i<=n;i++){//\u7edf\u8ba1\u6bcf\u4e2a\u8fde\u901a\u5757\u5185\u7684\u4fe1\u606f\n\t\tcnt[gid[i]]++;\n\t\tcdeg[gid[i]]+=deg[i];\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tif(cnt[i]*2!=cdeg[i]){//\u5224\u65ad\u4e0d\u5408\u6cd5\u60c5\u51b5\n\t\t\tprintf(\"0\\n\");\n\t\t\treturn 0;\n\t\t}\n\t\tif(cnt[i]!=0)ans=ans*2%998244353;//\u8ba1\u7b97\u7b54\u6848\n        //\u6ce8\uff1a\u8fd9\u91cccnt[i]=0\u8868\u793a\u8fd9\u4e2a\u7f16\u53f7\u6ca1\u6709\u88ab\u4f7f\u7528\uff0c\u4e5f\u5c31\u662f\u4e0d\u7b97\u4e00\u4e2a\u8fde\u901a\u5757\n\t}\n\tprintf(\"%lld\\n\",ans);\n}\n```\n\n",
        "postTime": 1569922816,
        "uid": 86649,
        "name": "Hope2075",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "**\u8fd9\u9053\u9898\u5176\u5b9e\u5c31\u662f~~\u7b80\u5355\u7c97\u66b4\u5730~~\u76f4\u63a5DFS\u5c31\u884c\u4e86**\n\n**\u4f46\u5176\u5b9e\u2014\u2014\u51fa\u9898\u4eba\u72e1\u733e\u7740\u5462\uff08\u540e\u9762\u8bf4\uff09**\n\n**\u4e0b\u9762\u4e0a\u4ee3\u7801**\n\n```\n#include <bits/stdc++.h> //\u4e07\u80fd\u5934\u6587\u4ef6~\nusing namespace std;\nint like[21][2],ans,used[21],x;\n//like\u5b58\u50a8\u559c\u6b22\u7684\u4e66\uff0cans\u662f\u7ed3\u679c\uff0cused\u5b58\u50a8\u5df2\u7ecf\u53d6\u8fc7\u7684\u4e66\uff0cx\u5982\u9898\u610f\nvoid dfs(int n)\n{\n\tif(n==x+1) //\u9012\u5f52\u7ec8\u6b62\u6761\u4ef6\n\t{\n\t\tans++;\n\t\treturn;\n\t}\n\tif(!used[like[n][0]]) //\u4e24\u672c\u559c\u6b22\u7684\u4e66\u4e2d\u7684\u4e00\u672c\n\t{\n\t\tused[like[n][0]]=1; //\u8868\u793a\u8fd9\u672c\u4e66\u53d6\u8fc7\u4e86\n\t\tdfs(n+1); \t    //\u4e0b\u4e00\u4e2a\u4eba\n\t\tused[like[n][0]]=0; //\u72b6\u6001\u6e05\u96f6\n\t}\n\tif(!used[like[n][1]]) //\u540c\u4e0a\n\t{\n\t\tused[like[n][1]]=1;\n\t\tdfs(n+1);\n\t\tused[like[n][1]]=0;\n\t}\t\n}\nint main()\n{\n\tcin>>x;\n\tif(x==0)\n\t{\n\t\tcout<<0;\n\t\treturn 0;\n\t}\n\t//\u8fd9\u5c31\u662f\u51fa\u9898\u8005\u6700\u72e1\u733e\u7684\u5730\u65b9\u2014\u2014\u6709\u4e00\u7ec4\u6d4b\u8bd5\u6570\u636ex=0\uff01\u8fd9\u65f6\u76f4\u63a5DFS\u7ed3\u679c\u662f2\uff01WA\uff01\n\tfor(int i=1;i<=x;i++)\n\t{\n\t\tcin>>like[i][0]>>like[i][1];\n\t}\n\tdfs(1); //\u7ecf\u5178\u7684DFS\n\tcout<<ans;\n}\n```\n\n**OK!**",
        "postTime": 1543749894,
        "uid": 122971,
        "name": "tlzx",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "```cpp\n//\u95f2\u6765\u65e0\u4e8b\u5199\u4e86\u4e2a\u4e8c\u8fdb\u5236\u679a\u4e3e\u3002 \n#include<iostream>\n#include<cstring>\nusing namespace std;\n\nint kasumi(int p,int q)\n{\n    if(q==0)return 1;\n    int t=kasumi(p,q/2);\n    if(q%2==0)return t\\*t;else return t\\*t\\*p;\n}//\u4e2a\u4eba\u559c\u597d\u5feb\u901f\u5e42\uff0c\u8fd9\u91cc\u7531\u4e8e\u4e0d\u662f\u91cd\u70b9\uff0c\u5c31\u4e0d\u4ecb\u7ecd\u4e86\uff0c\u5176\u5b9e\u7528pow\u95ee\u9898\u4e5f\u4e0d\u5927 \n//\u81f3\u4e8e\u51fd\u6570\u540d \u5feb(ka)\u901f(su)\u5e42(mi)\u3002\u3002\u3002 \nint main()\n{\n    int n;\n    cin>>n;\n    if(n==0){cout<<0;return 0;}//\u6ce8\u610f\u8fd9\u9898\u7684\u5751 n=0\u65f6\u8981\u7279\u5224 \n    const int y=kasumi(2,n)-1;//\u4e8c\u8fdb\u5236\u6700\u5927\u5b50\u72b6\u6001\uff0811111\u00b7\u00b7\u00b7\uff09\uff0c\u6570\u636e\u8303\u56f4\u8f83\u5c0f\u65e0\u9700\u9ad8\u7cbe \n    \n    int a1[n+1],a2[n+1];\n    for(int i=1;i<=n;i++)\n        cin>>a1[i]>>a2[i];//\u5b58\u53d6\u6bcf\u4eba \u559c\u6b22\u7684\u4e66 \n    \n    int visited[n+1],s=0;\n    for(int i=0;i<=y;i++)//\u679a\u4e3e\u81f3\u4e8c\u8fdb\u5236\u6bcf\u4e00\u4e2a\u5b50\u72b6\u6001\uff0c\u7b2ci\u4f4d\u662f1\u8868\u793a\u7b2ci\u4e2a\u4eba\u53d6\u7b2c\u4e00\u672c\u559c\u6b22\u7684\u56fe\u4e66\uff0c\u5426\u5219\u53d6\u7b2c\u4e8c\u672c\u3002 \n    {\n        memset(visited,0,sizeof(visited));//\u6807\u8bb0\u6570\u7ec4\u6e05\u96f6 \n        int f=1;//f=1\u8868\u793a\u6b64\u72b6\u6001\u53ef\u884c\uff08\u65e0\u4e24\u4eba\u9009\u540c\u4e00\u672c\u4e66\u7684\u60c5\u51b5\uff09\uff0c\u53cd\u4e4b\u4e0d\u53ef\u884c\u3002 \n        for(int j=1;j<=n;j++)//\u679a\u4e3e\u6bcf\u4e00\u4f4d \n        {\n            bool k=i&kasumi(2,j);//\u4f4d\u8fd0\u7b97\uff0ckasumi(2,j)\u4f1a\uff08\u5728\u4e8c\u8fdb\u5236\u4e0b\uff09\u5c06\u7b2cj\u4f4d \u7f6e\u62101\u5176\u4ed6\u4f4d\u90fd\u662f0\uff0c\u518d\u8fdb\u884c\u6309\u4f4d\u4e0e\uff0c\u5c31\u4f1a\u628ai\u4e8c\u8fdb\u5236\u7b2cj\u4f4d\u53d6\u51fa\u6765 \n            if(k)//k=1\u8868\u793a\u53d6\u7b2c\u4e00\u672c\uff0ck=0\u53d6\u7b2c\u4e8c\u672c\u3002 \n                if(visited[a1[j]])//\u5982\u679c\u7528\u8fc7\u5c31\u9000\u51fa \n                    {f=0;break;}\n                else \n                    visited[a1[j]]=1;//\u6253\u6807\u8bb0 \n            else \n                if(visited[a2[j]])\n                    {f=0;break;}\n                else\n                    visited[a2[j]]=1;\n        }\n        if(f)s++;//\u53ef\u884c\u5c31\u8ba1\u6570\u5668++ \n    }\n    cout<<s;//\u8f93\u51fa \n    return 0;\n}",
        "postTime": 1508939323,
        "uid": 22930,
        "name": "Lolierl",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "\u3010\u7b97\u6cd5\u5206\u6790\u3011\n       \u53ef\u7528\u7a77\u4e3e\u6cd5\uff0c\u5148\u4e0d\u8003\u8651\u201c\u6bcf\u4eba\u90fd\u6ee1\u610f\u201d \u8fd9\u4e00\u6761\u4ef6\uff0c\u8fd9\u6837\u53ea\u5269\u201c\u6bcf\u4eba\u9009\u4e00\u672c\u4e14\u53ea\u80fd\u9009\u4e00\u672c\u201d\u8fd9\u4e00\u6761\u4ef6\u3002\u5728\u8fd9\u4e2a\u6761\u4ef6\u4e0b\uff0c\u53ef\u884c\u89e3\u5c31\u662f\u4e94\u672c\u4e66\u7684\u6240\u6709\u5168\u6392\u5217\uff0c\u4e00\u5171\u67095\uff01=120\u79cd\u3002\u7136\u540e\u5728120\u79cd\u53ef\u884c\u89e3\u4e2d\u4e00\u4e00\u5220\u53bb\u4e0d\u7b26\u5408\u201c\u6bcf\u4eba\u90fd\u6ee1\u610f\u201d\u7684\u89e3\uff0c\u7559\u4e0b\u7684\u5c31\u662f\u672c\u9898\u7684\u89e3\u7b54\u3002\n       \u4e3a\u4e86\u7f16\u7a0b\u65b9\u4fbf\uff0c\u8bbe1\uff0c2\uff0c3\uff0c4\uff0c5\u5206\u522b\u8868\u793a\u8fd9\u4e94\u672c\u4e66\u3002\u8fd9\u4e94\u4e2a\u6570\u7684\u4e00\u79cd\u5168\u6392\u5217\u5c31\u662f\u4e94\u672c\u4e66\u7684\u4e00\u79cd\u5206\u53d1\u3002\u4f8b\u598254321\u5c31\u8868\u793a\u7b2c5\u672c\u4e66\uff08\u5373E\uff09\u5206\u7ed9\u5f20\uff0c\u7b2c4\u672c\u4e66\uff08\u5373D\uff09\u5206\u7ed9\u738b\uff0c\u2026\u2026\uff0c\u7b2c1\u672c\u4e66\uff08\u5373A\uff09\u5206\u7ed9\u674e\u3002\u201c\u559c\u7231\u4e66\u8868\u201d\u53ef\u4ee5\u7528\u4e8c\u7ef4\u6570\u7ec4\u6765\u8868\u793a\uff0c1\u8868\u793a\u559c\u7231\uff0c0\u8868\u793a\u4e0d\u559c\u7231\u3002\n\n\u7b97\u6cd5\u8bbe\u8ba1\uff1aS1\uff1a\u4ea7\u751f5\u4e2a\u6570\u5b57\u7684\u4e00\u4e2a\u5168\u6392\u5217\uff1b\n\n                  S2\uff1a\u68c0\u67e5\u662f\u5426\u7b26\u5408\u201c\u559c\u7231\u4e66\u8868\u201d\u7684\u6761\u4ef6\uff0c\u5982\u679c\u7b26\u5408\u5c31\u6253\u5370\u51fa\u6765\uff1b\n                  \n                  S3\uff1a\u68c0\u67e5\u662f\u5426\u6240\u6709\u7684\u6392\u5217\u90fd\u4ea7\u751f\u4e86\uff0c\u5982\u679c\u6ca1\u6709\u4ea7\u751f\u5b8c\uff0c\u5219\u8fd4\u56deS1\uff1b\n        \n                  S4\uff1a\u7ed3\u675f\u3002\n\n\u4e0a\u8ff0\u7b97\u6cd5\u6709\u53ef\u4ee5\u6539\u8fdb\u7684\u5730\u65b9\u3002\u6bd4\u5982\u4ea7\u751f\u4e86\u4e00\u4e2a\u5168\u6392\u521712345\uff0c\u4ece\u8868\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u9009\u7b2c\u4e00\u672c\u4e66\u5373\u7ed9\u5f20\u540c\u5b66\u7684\u4e66\uff0c1\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a\u5f20\u53ea\u559c\u6b22\u7b2c3\u30014\u672c\u4e66\u3002\u8fd9\u5c31\u662f\u8bf4\uff0c1\u00d7\u00d7\u00d7\u00d7\u4e00\u7c7b\u7684\u5206\u6cd5\u90fd\u4e0d\u7b26\u5408\u6761\u4ef6\u3002\u7531\u6b64\u60f3\u5230\uff0c\u5982\u679c\u9009\u5b9a\u7b2c\u4e00\u672c\u4e66\u540e\uff0c\u5c31\u7acb\u5373\u68c0\u67e5\u4e00\u4e0b\u662f\u5426\u7b26\u5408\u6761\u4ef6\uff0c\u53d1\u73b01\u662f\u4e0d\u7b26\u5408\u7684\uff0c\u540e\u9762\u7684\u56db\u4e2a\u6570\u5b57\u5c31\u4e0d\u5fc5\u9009\u4e86\uff0c\u8fd9\u6837\u5c31\u51cf\u5c11\u4e86\u8fd0\u7b97\u91cf\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u7b2c\u4e00\u4e2a\u6570\u5b57\u53ea\u57283\u30014\u4e2d\u9009\u62e9\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u51cf\u5c113/5\u7684\u8fd0\u7b97\u91cf\u3002\u540c\u7406\uff0c\u9009\u5b9a\u4e86\u7b2c\u4e00\u4e2a\u6570\u5b57\u540e\uff0c\u4e5f\u4e0d\u5e94\u8be5\u628a\u5176\u4ed64\u4e2a\u6570\u5b57\u4e00\u6b21\u9009\u5b9a\uff0c\u800c\u662f\u9009\u62e9\u4e86\u7b2c\u4e8c\u4e2a\u6570\u5b57\u540e\uff0c\u5c31\u7acb\u5373\u68c0\u67e5\u662f\u5426\u7b26\u5408\u6761\u4ef6\u3002\u4f8b\u5982\uff0c\u7b2c\u4e00\u4e2a\u6570\u90093\uff0c\u7b2c\u4e8c\u4e2a\u6570\u90094\u540e\uff0c\u7acb\u5373\u68c0\u67e5\uff0c\u53d1\u73b0\u4e0d\u7b26\u5408\u6761\u4ef6\uff0c\u5c31\u5e94\u53e6\u9009\u7b2c\u4e8c\u4e2a\u6570\u3002\u8fd9\u6837\u5c31\u628a34\u00d7\u00d7\u00d7\u4e00\u7c7b\u7684\u5206\u6cd5\u5728\u4ea7\u751f\u524d\u5c31\u5220\u53bb\u4e86\u3002\u53c8\u51cf\u5c11\u4e86\u4e00\u90e8\u5206\u8fd0\u7b97\u91cf\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c\u6539\u8fdb\u540e\u7684\u7b97\u6cd5\u5e94\u8be5\u662f\uff1a\u5728\u4ea7\u751f\u6392\u5217\u65f6\uff0c\u6bcf\u589e\u52a0\u4e00\u4e2a\u6570\uff0c\u5c31\u68c0\u67e5\u8be5\u6570\u662f\u5426\u7b26\u5408\u6761\u4ef6\uff0c\u4e0d\u7b26\u5408\uff0c\u5c31\u7acb\u523b\u6362\u4e00\u4e2a\uff0c\u7b26\u5408\u6761\u4ef6\u540e\uff0c\u518d\u4ea7\u751f\u4e0b\u4e00\u4e2a\u6570\u3002\u56e0\u4e3a\u4ece\u7b2cI\u672c\u4e66\u5230\u7b2cI+1\u672c\u4e66\u7684\u5bfb\u627e\u8fc7\u7a0b\u662f\u76f8\u540c\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u56de\u6eaf\u7b97\u6cd5\u3002\u7b97\u6cd5\u8bbe\u8ba1\u5982\u4e0b\uff1a\n\n```\nint Search(i)\n{\n   for (j=1;j<=5;j++)\n     {\n        if (\u7b2ci\u4e2a\u540c\u5b66\u5206\u7ed9\u7b2cj\u672c\u4e66\u7b26\u5408\u6761\u4ef6)\n          {\n             \u8bb0\u5f55\u7b2ci\u4e2a\u6570\n             if (i==5) \u6253\u5370\u4e00\u4e2a\u89e3;\n                    else Search(i+1);\n             \u5220\u53bb\u7b2ci \u4e2a\u6570\n          }\n     }\n}\n\n```\n\n\u3010\u53c2\u8003\u7a0b\u5e8f\u3011\n\n```\n#include<cstdio>\n#include<iostream>\n#include<cstdlib>\nusing  namespace std;\nint  book[6],c;\nbool flag[6],like[6][6]={{0,0,0,0,0,0},{0,0,0,1,1,0},{0,1,1,0,0,1},\n                                    {0,0,1,1,0,0},{0,0,0,0,1,0},{0,0,1,0,0,1}};;\nint  search(int);\nint  print();\nint  main()\n{\n  for (int i=1;i<=5;i++) flag[i]=1;\n  search(1);                                    //\u4ece\u7b2c1\u4e2a\u5f00\u59cb\u9009\u4e66\uff0c\u9012\u5f52\u3002\n} \nint search(int i)                              //\u9012\u5f52\u51fd\u6570 \n{\n  for (int j=1;j<=5; j++)                   //\u6bcf\u4e2a\u4eba\u90fd\u67095\u672c\u4e66\u53ef\u9009\n  if (flag[j]&&like[i][j])                      //\u6ee1\u8db3\u5206\u4e66\u7684\u6761\u4ef6\n  {\n    flag[j]=0;                                    //\u628a\u88ab\u9009\u4e2d\u7684\u4e66\u653e\u5165\u96c6\u5408flag\u4e2d\uff0c\u907f\u514d\u91cd\u590d\u88ab\u9009\n    book[i]=j;                                   //\u4fdd\u5b58\u7b2ci\u4e2a\u4eba\u9009\u4e2d\u7684\u7b2cj\u672c\u4e66\n    if (i==5) print();                          //i=5\u65f6\uff0c\u6240\u6709\u7684\u4eba\u90fd\u5206\u5230\u4e66\uff0c\u8f93\u51fa\u7ed3\u679c\n       else search(i+1);                    //i<5\u65f6\uff0c\u7ee7\u7eed\u9012\u5f52\u5206\u4e66\n    flag[j]=1;                                    //\u56de\u6eaf\uff1a\u628a\u9009\u4e2d\u7684\u4e66\u653e\u56de\uff0c\u4ea7\u751f\u5176\u4ed6\u5206\u4e66\u7684\u65b9\u6848\n    book[i]=0;\n  }\n}  \nint print()\n{\n  c++;                                                                //\u65b9\u6848\u6570\u7d2f\u52a01\n  cout <<\"answer \" <<c <<\":\\n\";  \n  for (int i=1;i<=5;i++)\n    cout <<i <<\": \" <<char(64+book[i]) <<endl;  //\u8f93\u51fa\u5206\u4e66\u7684\u65b9\u6848\n}\n\n```\n",
        "postTime": 1562857103,
        "uid": 177796,
        "name": "HeartBlock_Love",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "## \u89c4\u5219\uff1a\u8ba9\u4e00\u4e2a\u4eba\u4ece\u4e24\u672c\u91cc\u9762\u9009\u4e00\u672c\uff0c\u4e14\u90a3\u4e00\u672c\u6ca1\u88ab\u9009\u8fc7\n\n\n------------\n\n```c\n#include<bits/stdc++.h>\nusing namespace std;\nint x,a[21][3],total;//a\u6570\u7ec4\u8868\u793a\u6bcf\u4e2a\u4eba\u559c\u6b22\u7684\u4e66\nbool b[21];//b\u6570\u7ec4\u8868\u793a\u662f\u5426\u9009\u8fc7\nvoid dfs(int k){\n\tif(k==x+1){\n\t\ttotal++; return;//\u5982\u679c\u90fd\u9009\u8fc7\u53bb\u4e86\uff0c\u5c31\u7b26\u5408\u8981\u6c42\uff0c\u7d2f\u52a0\n\t}\n\tfor(int i=1;i<=2;i++){\n\t\tif(!b[a[k][i]])//\u8981\u662f\u53ef\u4ee5\u9009\n\t\t{b[a[k][i]]=1; //\u9009\u8fd9\u672c\n\t\tdfs(k+1);\t  //\u8ba9\u4e0b\u4e00\u4e2a\u4eba\u7ee7\u7eed\u9009\n\t\tb[a[k][i]]=0;  //\u56de\u6eaf\uff0c\u628a\u8fd9\u672c\u653e\u56de\u53bb\n\t\t}\n\t}\n}\nint main()\n{\tcin>>x;\n\tfor(int i=1;i<=x;i++)\n\tcin>>a[i][1]>>a[i][2];//\u8f93\u5165\n\tif(x==0) cout<<0;     //\u7279\u5224\uff0c\u5982\u679c\u6ca1\u6709\u4eba\u5c31\u76f4\u63a5\u8f93\u51fa0\n\telse{\n\tdfs(1);     //\u6df1\u641c\n\tcout<<total;//\u8f93\u51fa\n    }\n\treturn 0;\n} \n```",
        "postTime": 1540563202,
        "uid": 89568,
        "name": "hmh13951417981",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "\n\u7b80\u5355\u641c\u7d22\u677f\u5b50\u9898\uff0c\u5177\u4f53\u5185\u5bb9\u770b\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint love[10001][2],tot=0;\nint n;\nint flag[10001]={false};\nvoid dfs(int num)\n{\n\tif(num==n+1)//\u8d85\u8fc7n\u5c31\u4ee3\u8868\u641c\u5b8c\u4e86\n\t{\n\t\ttot++;\n\t\treturn;\n\t}\n\tif(!flag[love[num][0]])//case1\n\t{\n\t\tflag[love[num][0]]=true;\n\t\tdfs(num+1);\n\t\tflag[love[num][0]]=false;\n\t}\n\tif(!flag[love[num][1]])//case2\n\t{\n\t\tflag[love[num][1]]=true;\n\t\tdfs(num+1);\n\t\tflag[love[num][1]]=false;\n\t}\n    //\u5343\u4e07\u522b\u5fd8\u8bb0\u56de\u6eaf\u54e6QAQ\n}\nint main()\n{\n\tcin>>n;\n\tif(n==0)\n\t{\n\t\tcout<<0;\n\t\treturn 0;\n\t}//\u8fd9\u4e2a\u7279\u5224\u53ef\u4ee5\u8bf4\u662f\u7279\u522b\u7684\u6076\u5fc3qwq\n\tfor(int i=1;i<=n;i++)\n\t\tcin>>love[i][0]>>love[i][1];\n\tdfs(1);\n\tcout<<tot;\n\treturn 0;\n}\n```\n\n",
        "postTime": 1535095394,
        "uid": 93302,
        "name": "\u5b59\u5e7f\u5bb8",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "C++\uff08\u9012\u5f52\u641c\u7d22\uff09\n\n```cpp\n#include<iostream>\nusing namespace std;// \u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u8fdb\u5165\u6b63\u89e3\nint sum=0,n;// \u5b9a\u4e49\u4e24\u4e2a\u6574\u578b\uff0c\u4e00\u4e2a\u50a8\u5b58\u6b21\u6570\uff0c\u4e00\u4e2a\u8868\u793a\u6709\u51e0\u672c\u4e66\nint a[21];// \u50a8\u5b58\u6ee1\u8db3\u6761\u4ef6\u7684\u4e66\nbool b[100][100],g[100];// \u4e00\u4e2a\u8bb0\u5f55\u559c\u6b22\u7684\u4e66\uff0c\u4e00\u4e2a\u907f\u514d\u91cd\u590d\nint ll(int t)// \u641c\u7d22\n{\n    int i,j,l;\n    for(j=1;j<=n;j++)\n    {\n        if(b[t][j] && !g[j])// \u6ee1\u8db3\u6761\u4ef6\u7684\u4e66\n        {\n            g[j]=1;// \u907f\u514d\u91cd\u590d\n            a[t]=j;// \u8bb0\u5f55\u4e66\uff08\u5176\u5b9e\u8fd9\u662f\u591a\u4f59\u7684\uff09\n            if(t==n) sum++;// \u4ee5\u5b8c\u6210\u4e86\u4e00\u79cd\uff0csum\u7d2f\u52a0\n            else ll(t+1);// \u5426\u5219\uff0ct+1\uff0c\u7ee7\u7eed\u9012\u5f52\uff0c\u5411\u4e0b\u8d70\n            g[j]=0;    // \u56de\u6eaf\uff1a\u628a\u9009\u4e66\u7684\u653e\u56de\uff0c\u4ea7\u751f\u5176\u4ed6\u7684\u65b9\u6848\n            a[t]=0;  // \u540c\u4e0a\n        }\n    }\n}\nint main()// \u4e3b\u51fd\u6570\uff1a\u8f93\u5165\n{\n    int i,l,j;\n    cin>>n;// \u8f93\u5165\u51e0\u672c\u4e66    \n    for(i=1;i<=n;i++)\n    {\n        cin>>l>>j;\n        b[i][l]=1;// \u90fd\u662f\u8bb0\u5f55\u6bcf\u4eba\u559c\u6b22\u7684\u4e66\uff0c\u5c06\u5176\u8d4b\u503c\u4e3a1\n        b[i][j]=1;\n    }                \n    ll(1);// \u8fdb\u5165\u9012\u5f52\n    cout<<sum;// \u54c8\u54c8\uff0c\u8f93\u51fa\n    return 0;\u7ed3\u675f \uff0c\u529f\u5fb7\u5706\u6ee1\uff01\uff01\uff01\n}\n```",
        "postTime": 1471572086,
        "uid": 11873,
        "name": "_ljx_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "\u7b80\u5355\u7684\u9012\u5f52\u9898\u76ee~\u5e9f\u8bdd\u4e0d\u8bf4\uff0c\u76f4\u63a5\u770b\u4ee3\u7801\n\n```cpp\n#include<stdio.h>\n#include<stdlib.h>\nint i,j,k,m,n,x,y,sum,book[21];\nbool flag[21],like[21][21];\n\nint search(int z){//\u5f00\u59cb\u9012\u5f52 \n    int j;\n    for(j=1;j<=n;j++)\n        if(flag[j] && like[z][j]){//\u5982\u679c\u6ee1\u8db3\u5206\u4e66\u7684\u6761\u4ef6\u5373\u53ef\u5f00\u59cb \n            flag[j]=0;//\u5427\u88ab\u9009\u4e2d\u7684\u4e66\u653e\u5165flag\u4e2d\uff0c\u907f\u514d\u91cd\u590d \n            book[z]=j;//\u4fdd\u5b58\u7b2cz\u4e2a\u4eba\u9009\u4e2d\u7684\u4e66j \n            if(z==n)//\u5982\u679c\u7b49\u4e8en\uff0c\u5219\u6bcf\u4e2a\u4eba\u90fd\u5206\u4e66\u4e86\uff0c\u7d2f\u52a0sum \n                sum++;\n            else \n                search(z+1);//\u5426\u5219\u7ee7\u7eed\u9012\u5f52 \n            flag[j]=1;//\u56de\u6eaf\uff1a\u628a\u5df2\u7ecf\u9009\u4e2d\u7684\u4e66\u653e\u56de\uff0c\u4ea7\u751f\u5176\u4ed6\u7684\u5206\u4e66\u65b9\u6848 \n            book[z]=0;\n        }\n}\n\nint main(){\n    scanf(\"%d\",&n);//\u8bfb\u5165 \n    for(i=1;i<=n;i++){\n        scanf(\"%d%d\",&x,&y);//\u5c06\u6bcf\u4eba\u559c\u7231\u7684\u4e66\u5b58\u5165like\u6570\u7ec4\u4e2d \n        like[i][x]=1;\n        like[i][y]=1;\n        flag[i]=1;\n    }\n    search(1);//\u5f00\u59cb\u67e5\u627e\uff0c\u4ece\u7b2c\u4e00\u4e2a\u4e66\u5f00\u59cb \n    printf(\"%d\",sum);//\u8f93\u51fasum\u5373\u53ef~ \n    return 0;\n}\n```",
        "postTime": 1471571219,
        "uid": 8600,
        "name": "_YRH_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "### P1657 \u9898\u89e3\n  \u8fd9\u9053\u9898\u8981\u6c42m\u672c\u4e66\u5206\u914d\u7ed9m\u4e2a\u4eba\uff0c\u7136\u540e\u6570\u636e\u8303\u56f4~~\u592a\u6c34\u4e86~~\uff08n<=20\uff09\u3002\u6240\u4ee5\u7d22\u6027\u5f00\u59cb\u66b4\u529bdfs\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint flag=0;\nbool ans[21]={false};\nint x,a1[21],a2[21];//\u8bb0\u5f55\u559c\u6b22\u54ea\u51e0\u672c\u4e66 \nvoid dfs(int m)//\u8868\u793a\u9009\u5230\u7b2cm\u672c\u4e66\uff0c\u7b2cm\u672c\u6ca1\u9009 \n{\n\tif(m>x)//\u9009\u5b8c\u4e86 \n\t{\n\t\tflag++;//\u65b9\u6848 \n\t\treturn;\n\t}\n\tfor(int i=1;i<=x;i++)//\u679a\u4e3e\u7b2cm\u4e2a\u4eba\u9700\u8981\u7684 \n\t{\n\t\tif(ans[i]==false && (a1[m]==i || a2[m]==i))//\u5982\u679c\u53ef\u4ee5\u4e14\u6ca1\u88ab\u9009 \n\t\t{\n\t\t\tans[i]=true;//\u6807\u8bb0 \n\t\t\tdfs(m+1);\n\t\t\tans[i]=false;//\u56de\u6eaf \n\t\t}\n\t } \n}\nint main()\n{\n\tcin>>x;\n\tif(x==0)//\u6570\u636e\u5751\u7684\u7279\u5224 \n\t{\n\t\tcout<<0;\n\t\treturn 0; \n\t}\n\tfor(int i=1;i<=x;i++)\n    {\n    \tcin>>a1[i]>>a2[i];\n\t}\n\tdfs(1);\n\tcout<<flag;\n\treturn 0;\n}\n\n```\n",
        "postTime": 1573128948,
        "uid": 151187,
        "name": "cy\u6c40",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u5176\u5b9e\u548c\u5168\u6392\u5217\u662f\u6709\u5171\u540c\u4e4b\u5904\u7684\u3002\n\n\u6211\u4eec\u8fd9\u4e48\u8003\u8651n\u7684\u5168\u6392\u5217\uff1a\u6709n\u4e2a\u76d2\u5b50\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u76d2\u5b50\u4ece1-n\u4e2d\u9009\u4e00\u4e2a\u6570\u653e\u8fdb\u53bb\uff0c\u5e76\u4e14\u548c\u4e4b\u524d\u76d2\u5b50\u91cc\u9762\u7684\u6570\u4e0d\u80fd\u91cd\u590d\uff0c\u90a3\u4e48\u4ece\u7b2c\u4e00\u4e2a\u76d2\u5b50\u5230\u7b2cn\u4e2a\u76d2\u5b50\u91cc\u9762\u7684\u6570\u4fbf\u662f\u4e00\u4e2a\u6392\u5217\u3002\n\n\u800c\u8fd9\u9053\u9898\u4e0e\u5168\u6392\u5217\u76f8\u6bd4\uff0c\u552f\u4e00\u7684\u4e0d\u540c\u662f\uff1a\u6bcf\u4e2a\u76d2\u5b50\u91cc\u9762\u4e0d\u80fd\u968f\u4fbf\u4ece1-n\u91cc\u9762\u9009\u6570\u653e\u8fdb\u53bb\uff0c\u800c\u662f\u8981\u770b\u5bf9\u4e8e\u8fd9\u4e2a\u76d2\u5b50\uff08\u4eba\uff09\uff0cta\u559c\u6b22\u7684\u662f\u54ea\u4e24\u672c\u4e66\uff0c\u518d\u4ece\u4e2d\u6311\u4e00\u4e2a\u653e\u8fdb\u53bb\u3002\n\n\u56e0\u6b64\uff0c\u53ea\u8981\u6211\u4eec\u719f\u6089\u56de\u6eaf\u6cd5\uff0c\u5e76\u4e14\u80fd\u591f\u719f\u7ec3\u6253\u51fa\u5168\u6392\u5217\u7684\u4ee3\u7801\uff0c\u8fd9\u9053\u9898\u8fd8\u662f\u6bd4\u8f83easy\u7684~\n```\n#include<cstdio> \n#include<iostream>\nusing namespace std;\nint n,b[22][3],d[22];//d[i]\u8868\u793a\u7b2ci\u672c\u4e66\u6709\u6ca1\u6709\u6ca1\u5360\u7528\nlong long ans;\n\nvoid dfs(int book,int x,int y){\n\tif(d[book]==1) return ;\n\t\n\tif(x==n){\n\t\tans++;\n\t\treturn ;\n\t}\n\t\n\td[book]=1;\n\tif(y==1) dfs(b[x+1][y],x+1,y),dfs(b[x+1][y+1],x+1,y+1);\n\tif(y==2) dfs(b[x+1][y-1],x+1,y-1),dfs(b[x+1][y],x+1,y);\n\td[book]=0;\n}\n\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++) scanf(\"%d%d\",&b[i][1],&b[i][2]);\n\tdfs(b[1][1],1,1);//\u7b2c\u4e00\u4eba\u7684\u7b2c\u4e00\u672c\u4e66 \n\tdfs(b[1][2],1,2);//\u7b2c\u4e00\u4eba\u7684\u7b2c\u4e8c\u672c\u4e66 \n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1526187422,
        "uid": 50062,
        "name": "currycodingg",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "###\u4e8c\u8fdb\u5236\u89e3\u6cd5\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint x,love[2][21],ans;\nbool used[21];//\u4f4d\u8fd0\u7b97\u7248\ninline int read(){//\u8bfb\u5165\u4f18\u5316\u8d85\u7a7a\u95f4\u538b\u884c\u7248\n    int num=0;\n    char c;\n    while(isspace(c=getchar()));\n    while((num=num*10+c-48)&&isdigit(c=getchar()));\n    return num;\n}\ninline bool query(int tar){\n    memset(used,false,sizeof(used));//\u521d\u59cb\u5316\u6ca1\u9009\u4e66\n    for(int i=1;i<=x;i++,tar>>=1)//\u679a\u4e3e\u6bcf\u4e00\u4e2a\u4eba\u9009\u7684\u6bcf\u4e00\u672c\u4e66\uff0ctar&1==0\u4ee3\u8868\u9009\u7b2c\u4e00\u672c\uff0ctar&1==1\u4ee3\u8868\u9009\u7b2c\u4e8c\u672c\n        if(used[love[tar&1][i]]) return false;//\u5982\u679c\u8be5\u4e66\u88ab\u9009\u8fc7\u5219\u65b9\u6848\u9519\u8bef\n        else used[love[tar&1][i]]=true;//\u5982\u679c\u8be5\u4e66\u6ca1\u88ab\u9009\u8fc7\u5219\u6807\u8bb0\u8be5\u4e66\n    return true;//\u6240\u6709\u4eba\u9009\u7684\u4e66\u90fd\u6ca1\u6709\u91cd\u5408\n}\nint main(){\n    if(!(x=read())){//\u7279\u5224+\u538b\u884c\n        printf(\"0\");\n        return 0;\n    }\n    for(int i=1;i<=x;i++) love[0][i]=read(),love[1][i]=read();\n    int max_x=(1<<x);//\u5728\u4e0d\u5f00O2\u7684\u60c5\u51b5\u4e0b\u8282\u7ea6\u65f6\u95f4\uff0c\u4e0b\u4e00\u884c\u5f53i++\u65f6\u4fbf\u53ef\u679a\u4e3e\u4e0b\u4e00\u79cd\u60c5\u51b5\n    for(int i=0;i<max_x;i++) if(query(i)) ans++;//\u5982\u679c\u8981\u6309\u5b57\u5178\u5e8f\u8f93\u51fa\u7684\u8bdd\uff0c\u53ef\u679a\u4e3e\u683c\u96f7\u7801\uff0c\u5982\u679c\u65b9\u6848\u6b63\u786e\u5219\u8ba1\u6570\u5668++\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1499073443,
        "uid": 43464,
        "name": "Creeper_LKF",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "\u3010\u7b97\u6cd5\u5206\u6790\u3011\n\n\u53ef\u7528\u7a77\u4e3e\u6cd5\uff0c\u5148\u4e0d\u8003\u8651\u201c\u6bcf\u4eba\u90fd\u6ee1\u610f\u201d \u8fd9\u4e00\u6761\u4ef6\uff0c\u8fd9\u6837\u53ea\u5269\u201c\u6bcf\u4eba\u9009\u4e00\u672c\u4e14\u53ea\u80fd\u9009\u4e00\u672c\u201d\u8fd9\u4e00\u6761\u4ef6\u3002\u5728\u8fd9\u4e2a\u6761\u4ef6\u4e0b\uff0c\u53ef\u884c\u89e3\u5c31\u662f\u4e94\u672c\u4e66\u7684\u6240\u6709\u5168\u6392\u5217\uff0c\u4e00\u5171\u67095\uff01=120\u79cd\u3002\u7136\u540e\u5728120\u79cd\u53ef\u884c\u89e3\u4e2d\u4e00\u4e00\u5220\u53bb\u4e0d\u7b26\u5408\u201c\u6bcf\u4eba\u90fd\u6ee1\u610f\u201d\u7684\u89e3\uff0c\u7559\u4e0b\u7684\u5c31\u662f\u672c\u9898\u7684\u89e3\u7b54\u3002\n\n\u4e3a\u4e86\u7f16\u7a0b\u65b9\u4fbf\uff0c\u8bbe1\uff0c2\uff0c3\uff0c4\uff0c5\u5206\u522b\u8868\u793a\u8fd9\u4e94\u672c\u4e66\u3002\u8fd9\u4e94\u4e2a\u6570\u7684\u4e00\u79cd\u5168\u6392\u5217\u5c31\u662f\u4e94\u672c\u4e66\u7684\u4e00\u79cd\u5206\u53d1\u3002\u4f8b\u598254321\u5c31\u8868\u793a\u7b2c5\u672c\u4e66\uff08\u5373E\uff09\u5206\u7ed9\u5f20\uff0c\u7b2c4\u672c\u4e66\uff08\u5373D\uff09\u5206\u7ed9\u738b\uff0c\u2026\u2026\uff0c\u7b2c1\u672c\u4e66\uff08\u5373A\uff09\u5206\u7ed9\u674e\u3002\u201c\u559c\u7231\u4e66\u8868\u201d\u53ef\u4ee5\u7528\u4e8c\u7ef4\u6570\u7ec4\u6765\u8868\u793a\uff0c1\u8868\u793a\u559c\u7231\uff0c0\u8868\u793a\u4e0d\u559c\u7231\u3002\n\n\u7b97\u6cd5\u8bbe\u8ba1\uff1aS1\uff1a\u4ea7\u751f5\u4e2a\u6570\u5b57\u7684\u4e00\u4e2a\u5168\u6392\u5217\uff1b\n\nS2\uff1a\u68c0\u67e5\u662f\u5426\u7b26\u5408\u201c\u559c\u7231\u4e66\u8868\u201d\u7684\u6761\u4ef6\uff0c\u5982\u679c\u7b26\u5408\u5c31\u6253\u5370\u51fa\u6765\uff1b\n\nS3\uff1a\u68c0\u67e5\u662f\u5426\u6240\u6709\u7684\u6392\u5217\u90fd\u4ea7\u751f\u4e86\uff0c\u5982\u679c\u6ca1\u6709\u4ea7\u751f\u5b8c\uff0c\u5219\u8fd4\u56deS1\uff1b\n\nS4\uff1a\u7ed3\u675f\u3002\n\n\u4e0a\u8ff0\u7b97\u6cd5\u6709\u53ef\u4ee5\u6539\u8fdb\u7684\u5730\u65b9\u3002\u6bd4\u5982\u4ea7\u751f\u4e86\u4e00\u4e2a\u5168\u6392\u521712345\uff0c\u4ece\u8868\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0c\u9009\u7b2c\u4e00\u672c\u4e66\u5373\u7ed9\u5f20\u540c\u5b66\u7684\u4e66\uff0c1\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a\u5f20\u53ea\u559c\u6b22\u7b2c3\u30014\u672c\u4e66\u3002\u8fd9\u5c31\u662f\u8bf4\uff0c1\u00d7\u00d7\u00d7\u00d7\u4e00\u7c7b\u7684\u5206\u6cd5\u90fd\u4e0d\u7b26\u5408\u6761\u4ef6\u3002\u7531\u6b64\u60f3\u5230\uff0c\u5982\u679c\u9009\u5b9a\u7b2c\u4e00\u672c\u4e66\u540e\uff0c\u5c31\u7acb\u5373\u68c0\u67e5\u4e00\u4e0b\u662f\u5426\u7b26\u5408\u6761\u4ef6\uff0c\u53d1\u73b01\u662f\u4e0d\u7b26\u5408\u7684\uff0c\u540e\u9762\u7684\u56db\u4e2a\u6570\u5b57\u5c31\u4e0d\u5fc5\u9009\u4e86\uff0c\u8fd9\u6837\u5c31\u51cf\u5c11\u4e86\u8fd0\u7b97\u91cf\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u7b2c\u4e00\u4e2a\u6570\u5b57\u53ea\u57283\u30014\u4e2d\u9009\u62e9\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u51cf\u5c113/5\u7684\u8fd0\u7b97\u91cf\u3002\u540c\u7406\uff0c\u9009\u5b9a\u4e86\u7b2c\u4e00\u4e2a\u6570\u5b57\u540e\uff0c\u4e5f\u4e0d\u5e94\u8be5\u628a\u5176\u4ed64\u4e2a\u6570\u5b57\u4e00\u6b21\u9009\u5b9a\uff0c\u800c\u662f\u9009\u62e9\u4e86\u7b2c\u4e8c\u4e2a\u6570\u5b57\u540e\uff0c\u5c31\u7acb\u5373\u68c0\u67e5\u662f\u5426\u7b26\u5408\u6761\u4ef6\u3002\u4f8b\u5982\uff0c\u7b2c\u4e00\u4e2a\u6570\u90093\uff0c\u7b2c\u4e8c\u4e2a\u6570\u90094\u540e\uff0c\u7acb\u5373\u68c0\u67e5\uff0c\u53d1\u73b0\u4e0d\u7b26\u5408\u6761\u4ef6\uff0c\u5c31\u5e94\u53e6\u9009\u7b2c\u4e8c\u4e2a\u6570\u3002\u8fd9\u6837\u5c31\u628a34\u00d7\u00d7\u00d7\u4e00\u7c7b\u7684\u5206\u6cd5\u5728\u4ea7\u751f\u524d\u5c31\u5220\u53bb\u4e86\u3002\u53c8\u51cf\u5c11\u4e86\u4e00\u90e8\u5206\u8fd0\u7b97\u91cf\u3002\n\n       \n\u3010\u53c2\u8003\u7a0b\u5e8f\u3011\n\n\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cstdlib>\nusing  namespace std;\nint  book[6],c;\nbool flag[6],like[6][6]={{0,0,0,0,0,0},{0,0,0,1,1,0},{0,1,1,0,0,1},\n                                    {0,0,1,1,0,0},{0,0,0,0,1,0},{0,0,1,0,0,1}};;\nint  search(int);\nint  print();\nint  main()\n{\n  for (int i=1;i<=5;i++) flag[i]=1;\n  search(1);                                    //\u4ece\u7b2c1\u4e2a\u5f00\u59cb\u9009\u4e66\uff0c\u9012\u5f52\u3002\n} \nint search(int i)                              //\u9012\u5f52\u51fd\u6570 \n{\n  for (int j=1;j<=5; j++)                   //\u6bcf\u4e2a\u4eba\u90fd\u67095\u672c\u4e66\u53ef\u9009\n  if (flag[j]&&like[i][j])                      //\u6ee1\u8db3\u5206\u4e66\u7684\u6761\u4ef6\n  {\n    flag[j]=0;                                    //\u628a\u88ab\u9009\u4e2d\u7684\u4e66\u653e\u5165\u96c6\u5408flag\u4e2d\uff0c\u907f\u514d\u91cd\u590d\u88ab\u9009\n    book[i]=j;                                   //\u4fdd\u5b58\u7b2ci\u4e2a\u4eba\u9009\u4e2d\u7684\u7b2cj\u672c\u4e66\n    if (i==5) print();                          //i=5\u65f6\uff0c\u6240\u6709\u7684\u4eba\u90fd\u5206\u5230\u4e66\uff0c\u8f93\u51fa\u7ed3\u679c\n       else search(i+1);                    //i<5\u65f6\uff0c\u7ee7\u7eed\u9012\u5f52\u5206\u4e66\n    flag[j]=1;                                    //\u56de\u6eaf\uff1a\u628a\u9009\u4e2d\u7684\u4e66\u653e\u56de\uff0c\u4ea7\u751f\u5176\u4ed6\u5206\u4e66\u7684\u65b9\u6848\n    book[i]=0;\n  }\n}  \nint print()\n{\n  c++;                                                                //\u65b9\u6848\u6570\u7d2f\u52a01\n  cout <<\"answer \" <<c <<\":\\n\";  \n  for (int i=1;i<=5;i++)\n    cout <<i <<\": \" <<char(64+book[i]) <<endl;  //\u8f93\u51fa\u5206\u4e66\u7684\u65b9\u6848\n}\n```\n\u8f93\u51fa\u7ed3\u679c\uff1a\nzhang: C\n\nwang: A\n\nliu: B\nsun: D\nli: E\n",
        "postTime": 1509200314,
        "uid": 53405,
        "name": "yangshirui",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    },
    {
        "content": "\u7528\u56de\u6eaf\u7684\u89e3\u6cd5\uff0c\u53e6\u5916\u52a0\u4e00\u4e2a\u51fd\u6570\u5224\u65ad\u662f\u5426\u91cd\u590d\u3002\u5f53i=n\u65f6\uff0ct+1\uff0c\u6700\u540e\u8f93\u51fat\u3002\n\n***\u9700\u8981\u52a0\u5bf90\u7684\u5224\u65ad\uff08\u522b\u95ee\u6211\u4e3a\u4ec0\u4e48\uff01\uff09\uff0c\u5982\u679c\u662f0\uff0c\u76f4\u63a5\u8df3\u51fa\u3002***\n\n```cpp\nvar\n i,t,n:longint;\n b:array[1..20,1..2]of integer;\n c:array[1..20]of integer;\nfunction pd(i:integer):boolean;\n var\n  j:integer;\n begin\n  pd:=true;\n  for j:=1 to i-1 do\n   pd:=pd and (c[j]<>c[i]);\n end;\nprocedure try(i:integer);\n begin\n  if i=n+1 then begin inc(t);exit;end;\n  c[i]:=b[i,1];\n  if pd(i) then try(i+1);\n  c[i]:=b[i,2];\n  if pd(i) then try(i+1);\n  c[i]:=0;\n end;\nbegin\n readln(n);\n if n=0 then begin writeln(0);exit;end;\n t:=0;\n for i:=1 to n do\n  readln(b[i,1],b[i,2]);\n fillchar(c,sizeof(c),0);\n try(1);\n writeln(t);\nend.\n\n```",
        "postTime": 1503356219,
        "uid": 52315,
        "name": "\u6d1b\u8c37\u662f\u5927\u4f6c",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1657 \u3010\u9009\u4e66\u3011"
    }
]