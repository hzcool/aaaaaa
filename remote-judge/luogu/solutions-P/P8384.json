[
    {
        "content": "## \u9898\u76ee\u5206\u6790\n\n\u4e0d\u77e5\u9053\u7b2c\u591a\u5c11\u6b21\u505a\u51e0\u4e4e\u4e00\u6837\u7684\u9898\u4e86\uff0c\u4f46\u8fd8\u662f\u8c03\u534a\u5929\u9519\u3002\n\n\u6211\u4eec\u80af\u5b9a\u5206\u522b\u8003\u8651\u4e24\u95ee\u7684\u7b54\u6848\u3002\u5148\u770b\u7b2c\u4e00\u95ee\uff0c\u8003\u8651\u521d\u59cb\u60c5\u51b5\u662f\u6bcf\u6761\u8fb9\u90fd\u662f\u4e00\u6761\u94fe\uff0c\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a\u70b9\u6211\u4eec\u4e00\u5b9a\u8981\u5c3d\u53ef\u80fd\u591a\u5730\u628a\u5468\u56f4\u4e00\u5708\u94fe\u4e24\u4e24\u5408\u5e76\u8d77\u6765\u3002\u90a3\u4e48\u76f4\u63a5\u8d2a\u5fc3\uff0c\u6ce8\u610f\u5230\u8fd9\u662f\u80fd\u591f\u4fdd\u8bc1\u6b63\u786e\u6027\u7684\uff0c\u56e0\u4e3a\u5b83\u4e0d\u4f1a\u4f7f\u5408\u5e76\u540e\u7684\u94fe\u53d8\u5f97\u4e0d\u5408\u6cd5\u3002\u4e8e\u662f\u7b2c\u4e00\u95ee\u7684\u7b54\u6848\u662f $n-1-\\sum \\lfloor {deg_i\\over 2} \\rfloor$\u3002\n\n\u518d\u770b\u7b2c\u4e8c\u95ee\uff0c\u9996\u5148\u4f60\u53d1\u73b0\u53ef\u4ee5\u4e8c\u5206\u8f6c\u5316\u6210\u5224\u5b9a\u95ee\u9898\uff0c\u7136\u540e\u518d\u8d2a\u5fc3\u5730\u60f3\uff0c\u6bcf\u4e2a\u70b9\u4f1a\u5728\u5b50\u6811\u4e2d\u5f62\u6210\u82e5\u5e72\u6761\u94fe\uff0c\u7136\u540e\u5411\u4e0a\u4f20\u4e00\u6761\u94fe\uff0c\u663e\u7136\u6bcf\u4e2a\u70b9\u5411\u4e0a\u4f20\u5c3d\u53ef\u80fd\u77ed\u7684\u94fe\u4e00\u5b9a\u662f\u66f4\u4f18\u7684\u3002\u6211\u4eec\u7c7b\u4f3c\u6811\u4e0a $\\text{dp}$ \u7684\u65b9\u5f0f\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u70b9 $i$ \u628a\u5b83\u6240\u6709\u513f\u5b50\u4f20\u4e0a\u6765\u7684\u94fe\u957f\u63d2\u5230 $\\text{multiset}$ \u91cc\uff0c\u7136\u540e\u6839\u636e\u5b50\u8282\u70b9\u4e2a\u6570 $du_i$ \u7684\u5947\u5076\u6027\u5206\u7c7b\u5224\u65ad\uff1a\u5982\u679c $du_i\\equiv 1 \\pmod 2$\uff0c\u90a3\u4e48\u4e3a\u4e86\u4fdd\u8bc1\u94fe\u6570\u6700\u5c0f\u4e00\u5b9a\u662f\u4e24\u4e24\u5408\u5e76\u5269\u4e00\u6761\u4f20\u4e0a\u53bb\uff1b\u5982\u679c $du_i\\equiv 0 \\pmod 2$\uff0c\u90a3\u4e48\u82e5\u80fd\u4e24\u4e24\u5408\u5e76\u5b8c\u5219\u628a $0$ \u4f20\u4e0a\u53bb\uff0c\u5426\u5219\u5408\u5e76\u5b8c\u5269\u4e24\u6761\uff0c\u5176\u4e2d\u77ed\u7684\u90a3\u6761\u4f20\u4e0a\u53bb\u3002\u5176\u4f59\u60c5\u51b5\u5747\u4e0d\u5408\u6cd5\uff0c\u5bb9\u6613\u5224\u65ad\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log^2 n)$\uff0c\u53ef\u4ee5\u901a\u8fc7\u672c\u9898\u3002\n\n## \u4ee3\u7801\n\n```cpp\n/*\n  author: PEKKA_l  \n */\n#include <iostream>\n#include <cstring>\n#include <algorithm>\n#include <vector>\n#include <set>\nusing namespace std;\n#define pb push_back\n#define int long long\n\nint n,u,v,ans1,mid,flag,du[10005];\nvector <int> e[10005];\n\nint dfs(int x,int fat)\n{\n\tmultiset <int> s;\n\tfor(auto i:e[x]) {if(i==fat) continue; s.insert(dfs(i,x));}\n\tint nnum=0,cntt=0;\n\twhile(!s.empty())\n\t{\n\t\tauto it=s.end(); it--; int kk=*it; s.erase(it); if(kk>mid) flag=0;\n\t\tauto to=s.upper_bound(mid-kk); \n\t\tif(to==s.begin()) {if(cntt>1) flag=0; else nnum=kk; cntt++;}\n\t\telse {to--; s.erase(to);}\n\t}\n\tif(du[x]%2==1&&cntt>1) flag=0;\n\tif(x==1&&du[x]%2==0&&cntt) flag=0;\n\treturn nnum+1;\n}\n\nsigned main()\n{\n\tcin>>n; ans1=n-1;\n\tfor(int i=1;i<=n-1;i++) {cin>>u>>v; e[u].pb(v); e[v].pb(u); du[u]++; du[v]++;}\n\tfor(int i=1;i<=n;i++) ans1-=du[i]/2; cout<<ans1<<\" \";\n\tfor(int i=2;i<=n;i++) du[i]--;\n\tint ll=1,rr=n-1;\n\twhile(ll<=rr)\n\t{\n\t\tmid=(ll+rr)>>1; flag=1; if(dfs(1,1)>mid+1) flag=0;\n\t\tif(!flag) ll=mid+1; else rr=mid-1;\n\t}\n\tcout<<ll<<endl;\n}\n```\n",
        "postTime": 1683471021,
        "uid": 529697,
        "name": "PEKKA_l",
        "ccfLevel": 6,
        "title": "P8384 \u9898\u89e3"
    }
]