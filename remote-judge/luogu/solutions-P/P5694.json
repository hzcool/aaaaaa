[
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u633a\u597d\u7684dp\u9898\uff0c\u6211\u7684\u65b9\u6cd5\u4f1a\u7406\u89e3\u8d77\u6765\u7a0d\u5fae\u7b80\u5355\u70b9\u3002\n\n\u9898\u76ee\u5927\u610f\u5c31\u4e0d\u8d58\u8ff0\u4e86\uff0c\u6211\u4eec\u76f4\u63a5\u8003\u8651**\u72b6\u6001**\u3002\n\n\u4ee4$f[i][j][k][l]$\u8868\u793a\u9009$i$\u7ec4{},$j$\u7ec4[],$k$\u7ec4()\u4e14\u6df1\u5ea6\u4e3a$l$\u7684\u7ec4\u5408\u6709\u51e0\u79cd\u3002\u4f46\u662f\u6211\u4eec\u53d1\u73b0\u8fd9\u6837\u5bf9\u4e8eS=AB\u7684\u72b6\u6001\u8f6c\u79fb\u662f\u5f88\u96be\u5b9e\u73b0\u7684\u3002\u56e0\u4e3aAB\u7684\u6df1\u5ea6\u90fd\u4e0d\u77e5\u9053\uff0c\u9700\u8981\u4f9d\u6b21\u679a\u4e3e\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5fae\u8c03\u72b6\u6001\uff0c\u4ee4$f[i][j][k][l]$\u8868\u793a\u9009$i$\u7ec4{},$j$\u7ec4[],$k$\u7ec4()\u4e14\u6df1\u5ea6**\u5c0f\u4e8e\u7b49\u4e8e**$l$\u7684\u7ec4\u5408\u6709\u51e0\u79cd\u3002\u90a3\u4e48\u8fd9\u6837\u7684\u8bdd\uff0c\u72b6\u6001\u8f6c\u79fb~~\u8c8c\u4f3c~~\u5c31\u5bb9\u6613\u5b9e\u73b0\u4e00\u70b9\u3002\n\n\u4f46\u662f\u8fd8\u6709\u95ee\u9898\uff1a\u5bf9\u4e8e\u4e00\u4e9b\u590d\u6742\u7684SS\u4e32\uff0c\u53ef\u80fd\u4f1a\u6709\u4e0d\u6b62\u4e00\u79cd\u5206\u6cd5\u4f7f\u5b83\u5206\u6210AB\u7684\u5f62\u5f0f\u3002\n\n\u4e3e\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50\uff1a\u679a\u4e3eA\u4e3a\u4e32 $()[]$ \uff0cB\u4e3a\u4e32 $[()]$ \u65f6\uff0c\u7ec4\u5408\u4e3a $()[][()] $\uff0c\u4f46\u662f\u679a\u4e3eA\u4e3a\u4e32$()$\uff0cB\u4e3a\u4e32$[][()]$\u65f6\uff0c\u7ec4\u5408\u4e5f\u4e3a$()[][()]$\u3002\u8fd9\u6837\u5c31\u91cd\u590d\u4e86\u3002\n\n\u6240\u4ee5\u6709\u8fd9\u6837~~\u795e\u5947~~\u7684\u8f6c\u79fb\u6cd5\u51fa\u73b0\u4e86\uff1a\u5bf9\u4e8e\u6bcf\u4e2a**\u975e\u7a7a**SS\u4e32\uff0c\u6709\u4e14\u4ec5\u6709\u4e00\u79cd\u5206\u6cd5\uff1a\u627e\u5230\u4e24\u4e2aSS\u4e32A,B\uff0c\u4f7f\u5f97S=(A)B\u6216[A]B\u6216{A}B\n\n\uff08~~\u8bc1\u660e\u5e94\u8be5\u5f88\u663e\u7136\u5427~~\uff09\n\n\u6240\u4ee5\u8fd9\u9898\u5c31\u57fa\u672c\u5b8c\u7ed3\u4e86\u3002\u8f6c\u79fb\u65b9\u7a0b\u5982\u4e0b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/t5hdd54n.png)\n\n\u6700\u540e\u8fd8\u6709\u51e0\u4e2a\u7ec6\u8282\u7a0d\u5fae\u8bf4\u4e00\u4e0b\uff1a\n\n1.\u8981\u9884\u5904\u7406$f[0][0][0][i]=0$\uff0c\u56e0\u4e3a\u53ef\u4ee5\u8fdb\u884c\u8f6c\u79fb\u7684\u662f\u975e\u7a7a\u4e32\n\n2.\u5f53\u8f93\u5165d=0\u65f6\uff0c\u8f93\u51fa\u7279\u5224\u3002\u5176\u4f59\u60c5\u51b5\uff0c\u8f93\u51fa$f[a][b][c][d]-f[a][b][c][d-1]$\n\n3.$f[a][b][c][d]-f[a][b][c][d-1]$\u7531\u4e8e\u53d6\u8fc7\u6a21\uff0c\u53ef\u80fd\u662f\u8d1f\u6570\uff0c\u5904\u7406\u4e00\u4e0b\u5c31\u597d\n\n4.\u9898\u76ee\u63cf\u8ff0\u91cc\u67093\u7ec4\u6837\u4f8b\u4e0d\u8981\u9519\u8fc7\n\n\u4ee3\u7801\u5e94\u8be5\u4e0d\u7528\u653e\u4e86\u5427qwq",
        "postTime": 1585455027,
        "uid": 151475,
        "name": "Little09",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P5694 \u3010[NOI2001]\u9668\u77f3\u7684\u79d8\u5bc6\u3011"
    },
    {
        "content": "#### Description\n\n> \u6c42\u6709\u591a\u5c11\u4e2a\u7531 $L_1$ \u5bf9\u5c0f\u62ec\u53f7\uff0c$L_2$ \u5bf9\u4e2d\u62ec\u53f7\uff0c$L_3$ \u5bf9\u5927\u62ec\u53f7\u7ec4\u6210\u7684\u6df1\u5ea6\u4e3a $D$ \u7684\u5408\u6cd5\u62ec\u53f7\u4e32\uff0c\u6df1\u5ea6\u7684\u5b9a\u4e49\u8bf7\u89c1 [\u9898\u9762](https://www.luogu.com.cn/problem/P5694)\u3002       \n> \uff08\u539f\u9898\u9762\u4e2d $L_1$ \u4e3a\u5927\u62ec\u53f7\u6570\u91cf\uff0c$L_3$ \u4e3a\u5c0f\u62ec\u53f7\u6570\u91cf\uff0c\u672c\u6587\u4e3a\u4e86\u5199\u8d77\u6765\u65b9\u4fbf\u5c31\u8c03\u4e86\u4e2a\u4e2a\uff09\n\n#### Solution\n\n\u8bbe $f_{i,j,k,d}$ \u4e3a\u7531 $i$ \u5bf9\u5c0f\u62ec\u53f7\uff0c$j$ \u5bf9\u4e2d\u62ec\u53f7\uff0c$k$ \u5bf9\u5927\u62ec\u53f7\u7ec4\u6210\u7684\u6df1\u5ea6 **\u81f3\u5c11\u4e3a** $d$ \u7684\u5408\u6cd5\u62ec\u53f7\u4e32\u7684\u4e2a\u6570\uff08\u5173\u4e8e\u4e3a\u4ec0\u4e48\u662f\u81f3\u5c11\u4e3a\u4f5c\u8005\u4e5f\u4e0d\u600e\u4e48\u61c2\uff0c\u5e94\u8be5\u662f\u4e3a\u4e86\u8f6c\u79fb\u65b9\u4fbf\uff09\uff0c\u8f93\u51fa\u7684\u65f6\u5019\u8f93\u51fa $f_{L_1,L_2,L_3,D}-f_{L_1,L_2,L_3,D-1}$ \u5373\u53ef\u3002\n\n\u8003\u8651\u5c06\u4e00\u4e2a\u4e32\u5206\u4e3a\u4e24\u4e2a\u5408\u6cd5\u62ec\u53f7\u4e32\u7684\u65b9\u6cd5\u5176\u5b9e\u4e0d\u600e\u4e48\u597d\uff0c\u56e0\u4e3a\u5bb9\u6613\u91cd\u590d\uff0c\u4e5f\u4e0d\u597d\u6392\u91cd\uff0c\u56e0\u6b64\u53ef\u4ee5\u8003\u8651\u901a\u8fc7\u539f\u6709\u7684\u4e32\u53bb\u751f\u6210\u65b0\u4e32\uff0c\u5373\u7531\u4e24\u4e2a\u5408\u6cd5\u62ec\u53f7\u4e32 `A`\uff0c`B` \u53bb\u751f\u6210 `A(B)`\uff0c`A[B]` \u548c `A{B}`\u3002\n\n\u7136\u540e\u8003\u8651\u8f6c\u79fb\uff1a\n\n- $i=j=k=0$\uff0c$f_{i,j,k,d}=1$\u3002\n- \u5426\u5219\uff0c\u5206\u4e09\u79cd\u60c5\u51b5\u8003\u8651\uff1a\n\t- `A(B)`\uff0c\u56e0\u4e3a\u6309\u7167\u9898\u9762\u4e2d\u6240\u8ff0\uff0c\u62ec\u53f7\u662f\u6709\u4f18\u5148\u7ea7\u7684\uff0c\u56e0\u6b64 `()` \u91cc\u4e0d\u80fd\u6709 `[]` \u548c `{}`\uff0c\u6545 `A(B)` \u53ef\u4ee5\u4ece\u4e0b\u9762\u8fd9\u4e2a\u72b6\u6001\u8f6c\u79fb\u8fc7\u6765\uff1a\n    $$\\sum\\limits_{p_1=0}^{i-1}f_{i-p_1-1,j,k,d} \\times f_{p_1,0,0,d-1}$$\n    - `A[B]`\uff0c\u4e0e `A(B)` \u540c\u7406\uff0c\u8003\u8651\u4f18\u5148\u7ea7\uff0c\u53ef\u4ee5\u4ece\u4e0b\u9762\u8fd9\u4e2a\u72b6\u6001\u8f6c\u79fb\u8fc7\u6765\uff1a\n    $$\\sum\\limits_{p_2=0}^{j-1}\\sum\\limits_{p_1=0}^if_{i-p_1,j-p_2-1,k,d} \\times f_{p_1,p_2,0,d-1}$$\n    - `A{B}`\uff0c\u5927\u62ec\u53f7\u4f18\u5148\u7ea7\u6700\u9ad8\uff0c\u56e0\u6b64\u76f4\u63a5\u679a\u4e3e\u6240\u6709\u62ec\u53f7\u5373\u53ef\uff1a\n    $$\\sum\\limits_{p_3=0}^{k-1}\\sum\\limits_{p_2=0}^j\\sum\\limits_{p_1=0}^if_{i-p_1,j-p_2,k-p_3-1,d} \\times f_{p_1,p_2,p_3,d-1}$$\n- \u6574\u7406\u4e00\u4e0b\uff0c\u5982\u679c\u4e0d\u662f $i=j=k=0$\uff0c\u8f6c\u79fb\u65b9\u7a0b\u5e94\u5982\u4e0b\uff1a\n$$f_{i,j,k,d}=\\sum\\limits_{p_1=0}^{i-1}f_{i-p_1-1,j,k,d} \\times f_{p_1,0,0,d-1}+\\sum\\limits_{p_2=0}^{j-1}\\sum\\limits_{p_1=0}^if_{i-p_1,j-p_2-1,k,d} \\times f_{p_1,p_2,0,d-1}+\\sum\\limits_{p_3=0}^{k-1}\\sum\\limits_{p_2=0}^j\\sum\\limits_{p_1=0}^if_{i-p_1,j-p_2,k-p_3-1,d} \\times f_{p_1,p_2,p_3,d-1}$$\n\n#### Code\n\n\u6ce8\u610f\u4e00\u4e9b\u7ec6\u8282\u95ee\u9898\uff0c\u6bd4\u5982\u8bf4 $D=0$ \u65f6\u7684\u7279\u5224\u7b49\u7b49\u3002\n\n```cpp\nint ans1 (int i, int j, int k, int d) {\n\tint ans = 0;\n\tfor (int p1 = 0; p1 < i; p1++) {\n\t\tint tmp = dp[i - p1 - 1][j][k][d] * dp[p1][0][0][d - 1];\n\t\ttmp %= Mod;\n\t\tans += tmp;\n\t}\n\treturn ans % Mod;\n}\n\nint ans2 (int i, int j, int k, int d) {\n\tint ans = 0;\n\tfor (int p2 = 0; p2 < j; p2++)\n\t\tfor (int p1 = 0; p1 <= i; p1++) {\n\t\t\tint tmp = dp[i - p1][j - p2 - 1][k][d] * dp[p1][p2][0][d - 1];\n\t\t\ttmp %= Mod;\n\t\t\tans += tmp;\n\t\t}\n\treturn ans % Mod;\n}\n\nint ans3 (int i, int j, int k, int d) {\n\tint ans = 0;\n\tfor (int p3 = 0; p3 < k; p3++)\n\t\tfor (int p2 = 0; p2 <= j; p2++)\n\t\t\tfor (int p1 = 0; p1 <= i; p1++) {\n\t\t\t\tint tmp = dp[i - p1][j - p2][k - p3 - 1][d] * dp[p1][p2][p3][d - 1];\n\t\t\t\ttmp %= Mod;\n\t\t\t\tans += tmp;\n\t\t\t}\n\treturn ans % Mod;\n}\n\nfor (int i = 0; i <= L1; i++)\n\tfor (int j = 0; j <= L2; j++)\n\t\tfor (int k = 0; k <= L3; k++)\n\t\t\tfor (int d = 1; d <= D; d++) \n\t\t\t\tif (i == 0 && j == 0 && k == 0) continue;\n\t\t\t\telse {\n\t\t\t\t\tdp[i][j][k][d] = ans1(i, j, k, d) + ans2(i, j, k, d);\n\t\t\t\t\tdp[i][j][k][d] %= Mod;\n\t\t\t\t\tdp[i][j][k][d] += ans3(i, j, k, d);\n\t\t\t\t\tdp[i][j][k][d] %= Mod;\n\t\t\t\t}\n```",
        "postTime": 1621751354,
        "uid": 114914,
        "name": "\u4e00\u53ea\u4e66\u866b\u4ed4",
        "ccfLevel": 4,
        "title": "P5694 \u9898\u89e3"
    },
    {
        "content": "# \u4e00\u3001\u9898\u76ee\u5927\u610f\n\n\u6c42\u51fa\u6240\u6709\u7531L1\u4e2a{}\u3001L2\u4e2a[]\u4ee5\u53caL3\u4e2a()\u7ec4\u6210\u7684\u5408\u6cd5\u62ec\u53f7\u4e32\u4e2d\uff0c\u6df1\u5ea6\u4e3aD\u7684\u4e2a\u6570\u3002\u8fd9\u91cc\u5408\u6cd5\u7684\u5b9a\u4e49\u4e3a()\u4e0d\u80fd\u5957\u5728[]\u3001{}\u7684\u5916\u9762\uff0c[]\u4e0d\u80fd\u5957\u5728{}\u7684\u5916\u9762\u3002\u5bf9\u4e8e\u4e00\u4e2a\u5408\u6cd5\u7684\u4e32S\uff0c\u6df1\u5ea6d(S)={0 S\u4e3a\u7a7a\u4e32\uff1bd(A)+1 S=(A)\u3001[A]\u3001{A}\uff1bmax{d(A),d(B)} S=AB}\u3002\n\n# \u4e8c\u3001\u601d\u8def\n\n\u4eca\u5929\u8001\u5e08\u4e0a\u8bfe\u7ed9\u6211\u4eec\u8bb2\u7684\u9898\uff0c\u8fd9\u91cc\u53d1\u4e2a\u9898\u89e3\u518d\u6df1\u523b\u7406\u89e3\u4e00\u4e0b~~\n\n\u65e2\u7136\u5df2\u6709dalao\u53d1\u4e86\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u9898\u89e3\uff0c\u8fd9\u91cc\u5c31\u7528\u7eafdp\u7684\u5199\u6cd5\u3002\n\n\u8003\u8651\u72b6\u6001f[l1][l2][l3][d]\u4e3a\u9009l1\u4e2a{},\u9009l2\u4e2a[],\u9009l3\u4e2a()\u5e76\u4e14\u6df1\u5ea6\u4e3ad\u7684\u4e2a\u6570\u3002\u5206\u6790\u4e00\u4e0b\u4e00\u4e2a\u5408\u6cd5\u4e32\u7684\u6837\u5b50\uff0c\u53ea\u6709\u53ef\u80fd\u662f\u4e24\u79cd\uff1aS=(A)\u3001[A]\u3001{A}\u6216S=AB\uff0c\u5206\u522b\u8f6c\u79fb\u4e00\u4e0b\u3002\u7b2c\u4e00\u79cd\u60c5\u51b5\u6bd4\u8f83\u5bb9\u6613\uff0c\u679a\u4e3e\u4e00\u4e0b\u6700\u5916\u5c42\u662f\u4ec0\u4e48\u62ec\u53f7\uff0c\u9700\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f\u82e5\u5916\u9762\u662f[]\uff0c\u90a3\u4e48A\u5c31\u4e0d\u80fd\u542b\u6709{}\uff1b\u82e5\u5916\u9762\u662f()\uff0c\u90a3\u4e48A\u5c31\u4e0d\u80fd\u542b\u6709{}\u3001[]\u3002\n\n\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u8981\u8ba9max{d(A),d(B)}=d\u7684AB\u679a\u4e3e\u8d77\u6765\u5341\u5206\u7e41\u7410\uff0c\u6b64\u65f6\u6211\u4eec\u60f3\u4e00\u4e0b\u662f\u5426\u53ef\u4ee5\u5fae\u8c03\u4e00\u4e0b\u72b6\u6001\u3002\u6211\u4eec\u8003\u5bdf\u72b6\u6001f[l1][l2][l3][d]\u4e3a\u9009l1\u4e2a{},\u9009l2\u4e2a[],\u9009l3\u4e2a()\u5e76\u4e14\u6df1\u5ea6**\u4e0d\u8d85\u8fc7**d\u7684\u4e2a\u6570\u3002\u6211\u4eec\u518d\u53cd\u89c2\u4e00\u4e0b\u8fd9\u79cd\u72b6\u6001\u7684\u60c5\u51b5\u4e00\uff0c\u53d1\u73b0\u8f6c\u79fb\u65b9\u7a0b\u548c\u4e4b\u524d\u7684\u4e00\u6a21\u4e00\u6837\u3002\u4e0d\u8fc7\u8fd9\u65f6\u7684\u60c5\u51b5\u4e8c\u76f8\u8f83\u800c\u8a00\u5c31\u597d\u5199\u4e00\u4e9b\uff0c\n\u4f46\u662f\u4ecd\u9700\u6ce8\u610f\u4e0b\u9762\u7684code\u662f\u6709\u95ee\u9898\u7684\uff1a\n```\nf[l1][l2][l3][d] += f[i][j][k][d] * f[l1 - i][l2 - j][l3 - k][d]\n```\n\u56e0\u4e3a\u5bf9\u4e8e\n\n### S=()()(),\n\n### A=()\u3001B=()()\uff1b\n\n### A=()()\u3001B=()\n\n\u4f1a\u88ab\u591a\u7b97\u4e00\u6b21\u3002\n\n\u6240\u4ee5\u6211\u4eec\u8981\u4fdd\u8bc1A\u4e3a**\u6700\u77ed\u7684**\u5f62\u5982A=(A')\u3001[A']\u3001{A'}\u7684\u5408\u6cd5\u4e32\u3002\u8fd9\u65f6\u6211\u4eec\u53ea\u9700\u679a\u4e3e\u5408\u6cd5\u7684A'(\u6ce8\u610f\u662fA\u2019\u4e0d\u662fA)\u548cB\u5c31\u53ef\u4ee5\u4e86\uff0c\u5176\u6b63\u786e\u6027\u4e5f\u662f\u663e\u7136\u7684\uff1a\n\n\u5bf9\u4e8eS=A1B1,S=A2B2,\u53ea\u9700\u8bf4\u660e\u81f3\u591a\u4f1a\u88ab\u8fd9\u4e24\u4e2a\u7b97\u4e00\u6b21\u3002\u4e0d\u59a8A1\u6bd4A2\u957f\u3002\n\nS=(__ A1'__)B1\n\nS=(A2')(A2'')B2'\uff0c\u8fd9\u5c31\u4e0eA1\u7684\u6700\u5c0f\u6027\u77db\u76fe\u3002\n\n# \u4e09\u3001\u7ec6\u8282\n\n\u6b64\u9898\u7ec6\u8282\u6bd4\u8f83\u591a\u3002\n\n1.\u521d\u503c\uff1a\u4e0d\u4ec5\u5bf9\u4e8ef[0][0][0][0]=1\uff0cf[0][0][0][0~D]\u90fd\u8981\u8d4b\u62101\u3002\n\n2.\u7b2c\u4e8c\u79cd\u60c5\u51b5\u65f6\uff0c\u8981\u51cf\u6389B\u4e3a**\u7a7a\u4e32**\u65f6\uff0c\u56e0\u4e3a\u8fd9\u5df2\u7ecf\u88ab\u7b2c\u4e00\u79cd\u60c5\u51b5\u7b97\u8fc7\u4e86\u3002\n\n3.\u7531\u4e8ecode\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6240\u4ee5\u8981\u65f6\u523b\u8b66\u60d5()\u4e0d\u80fd\u5957\u5728[]\u3001{}\u7684\u5916\u9762\uff0c[]\u4e0d\u80fd\u5957\u5728{}\u7684\u5916\u9762\u3002\n\n4.\u7b54\u6848\uff1a\u5bf9\u4e8eD=0\u65f6\uff0c\u76f4\u63a5\u8f93\u51faf[L1][L2][L3][D]\uff1b\u5176\u4f59\u60c5\u51b5\u8f93\u51faf[L1][L2][L3][D]-f[L1][L2][L3][D-1]\u3002\n\n5.\u8981\u5bf911380\u53d6\u6a21\u3002\n\n# \u56db\u3001code\n```\n# include <bits/stdc++.h>\n# define MOD 11380\nusing namespace std;\n\nint L1, L2, L3, D;\nint f[15][15][15][35];\n\nint main()\n{\n    scanf(\"%d%d%d%d\", &L1, &L2, &L3, &D);\n    for (int i = 0; i <= D; i++) f[0][0][0][i] = 1;\n    for (int l1 = 0; l1 <= L1; l1++)\n        for (int l2 = 0; l2 <= L2; l2++)\n            for (int l3 = 0; l3 <= L3; l3++)\n                for (int d = 1; d <= D; d++) {\n                    if (l1) f[l1][l2][l3][d] = (f[l1][l2][l3][d] + f[l1 - 1][l2][l3][d - 1]) % MOD;\n                    if (!l1 && l2) f[l1][l2][l3][d] = (f[l1][l2][l3][d] + f[l1][l2 - 1][l3][d - 1]) % MOD;\n                    if (!l1 && !l2 && l3) f[l1][l2][l3][d] = (f[l1][l2][l3][d] + f[l1][l2][l3 - 1][d - 1]) % MOD;\n                    for (int i = 1; i <= l1; i++)\n                        for (int j = 0; j <= l2; j++)\n                            for (int k = 0; k <= l3; k++) {\n                                int tmp = f[l1 - i][l2 - j][l3 - k][d];\n                                if (i == l1 && j == l2 && k == l3) tmp = (tmp - 1 + MOD) % MOD;\n                                f[l1][l2][l3][d] = (f[l1][l2][l3][d] + f[i - 1][j][k][d - 1] * tmp) % MOD;\n                            }\n                    for (int j = 1; j <= l2; j++)\n                        for (int k = 0; k <= l3; k++) {\n                            int tmp = f[l1][l2 - j][l3 - k][d];\n                            if (l1 == 0 && j == l2 && k == l3) tmp = (tmp - 1 + MOD) % MOD;\n                            f[l1][l2][l3][d] = (f[l1][l2][l3][d] + f[0][j - 1][k][d - 1] * tmp) % MOD;\n                        }\n                    for (int k = 1; k <= l3; k++) {\n                        int tmp = f[l1][l2][l3 - k][d];\n                        if (l1 == 0 && l2 == 0 && k == l3) tmp = (tmp - 1 + MOD) % MOD;\n                        f[l1][l2][l3][d] = (f[l1][l2][l3][d] + f[0][0][k - 1][d - 1] * tmp) % MOD;\n                    }\n                }\n    if (!D) printf(\"%d\\n\", f[L1][L2][L3][D]);\n    else printf(\"%d\\n\", (f[L1][L2][L3][D] - f[L1][L2][L3][D - 1] + MOD) % MOD);\n    return 0;\n}\n```\n",
        "postTime": 1583944673,
        "uid": 116754,
        "name": "AK_IOI\u7684\u742a\u742a",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5694 \u3010[NOI2001]\u9668\u77f3\u7684\u79d8\u5bc6\u3011"
    },
    {
        "content": "\u672c\u9898\u662f\u4e00\u9053\u7ebf\u6027 dp \u7684\u9898\u76ee\u3002\n\n\u7531\u4e8e\u6570\u636e\u8303\u56f4\u6bd4\u8f83\u5c0f\uff0c\u6211\u4eec\u8bbe\u72b6\u6001\u662f\u600e\u4e48\u66b4\u529b\u600e\u4e48\u6765\uff0c\u8f6c\u79fb\u4e5f\u662f\u600e\u4e48\u8d39\u52b2\u600e\u4e48\u6765\u3002\u3002\u76f4\u63a5\u8bbe $f_{i,j,k,l}$ \u8868\u793a\u6df1\u5ea6\u662f $i$\uff0c\u4e09\u4e2a\u62ec\u53f7\u5206\u522b\u7528 $j,k,l$ \u4e2a\u7684\u65b9\u6848\u6570\uff0c\u8f6c\u79fb\u65b9\u7a0b\u4e5f\u6bd4\u8f83\u597d\u60f3\uff0c\u5c31\u4e0d\u8d58\u8ff0\u4e86\u3002\n\n\u4f46\u662f\uff0c\u5982\u679c\u7528 $i$ \u4e00\u7ef4\u6765\u8868\u793a\u6df1\u5ea6\u4e0d\u8d85\u8fc7 $i$\uff0c\u8f6c\u79fb\u65b9\u7a0b\u3001\u4ee3\u7801\u5b9e\u73b0\u90fd\u4f1a\u66f4\u5bb9\u6613\u3002\n\n\u521d\u59cb\u72b6\u6001\u663e\u7136 $f_{i,0,0,0}=1$\uff0c\u56e0\u4e3a\u6b64\u65f6 $i$ \u8868\u793a\u201c\u4e0d\u8d85\u8fc7\u8fd9\u4e2a\u6df1\u5ea6\u201d\n\n\u8f6c\u79fb\u65b9\u7a0b\u561b\uff0c\u5077\u5f20\u56fe\u8fc7\u6765\u3002\u3002\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/t5hdd54n.png)\n\n\u6211\u8fd9\u91cc\u6765\u89e3\u91ca\u4e00\u4e0b\uff1a\u6df1\u5ea6\u4e0d\u8d85\u8fc7 $D-1$\uff0c\u5185\u90e8\u62ec\u53f7\u6570\u5206\u522b\u4e3a $i,j,k$ \u7684\u65b9\u6848\u4e0e\u6df1\u5ea6\u4e0d\u8d85\u8fc7 $D$\uff0c\u62ec\u53f7\u6570\u5206\u522b\u4e3a $l_1-i-1,l_2-j,l_3-k$ \u7684\u72b6\u6001\u5408\u5e76\u6240\u8868\u793a\u7684\u542b\u4e49\u786e\u5b9e\u662f $f_{D,l_1,l_2,l_3}$\uff0c\u4e14\u4e24\u4e2a\u72b6\u6001\u7684\u65b9\u6848\u76f8\u4e92\u72ec\u7acb\uff0c\u6240\u4ee5\u7edf\u8ba1\u65f6\u5e94\u8be5\u76f8\u4e58\u518d\u6c42\u548c\u3002\u7531\u4e8e\u4e0d\u80fd\u51fa\u73b0\u5c0f\u62ec\u53f7\u5305\u542b\u4e2d\u62ec\u53f7\u4e4b\u7c7b\u7684\u9650\u5236\uff0c\u6240\u4ee5\u6c42\u5c0f\u62ec\u53f7\u5206\u5272\u7684\u65b9\u6848\u6570\u65f6\uff0c\u5185\u90e8\u4e2d\u62ec\u53f7\u5927\u62ec\u53f7\u6570\u90fd\u5fc5\u987b\u662f\u96f6\u3002\n\n\n\u8d34\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N=3e1+7;\nconst int mod=11380;\nint f[N][N][N][N];\nint d,l1,l2,l3;\nint main(void)\n{\n\tscanf(\"%d%d%d%d\",&l1,&l2,&l3,&d);\n\tfor(int i=0;i<=d;i++)\n\t\tf[i][0][0][0]=1;\n\tfor(int i=1;i<=d;i++)\n\t\tfor(int j=0;j<=l1;j++)\n\t\t\tfor(int k=0;k<=l2;k++)\n\t\t\t\tfor(int l=0;l<=l3;l++)\t{\n\t\t\t\t\tif(j)\n\t\t\t\t\t\tfor(int a=1;a<=j;a++)\n\t\t\t\t\t\t\tfor(int b=0;b<=k;b++)\n\t\t\t\t\t\t\t\tfor(int c=0;c<=l;c++)\t{\n\t\t\t\t\t\t\t\t\tf[i][j][k][l]+=f[i-1][a-1][b][c]*f[i][j-a][k-b][l-c];\n\t\t\t\t\t\t\t\t\tf[i][j][k][l]%=mod;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\tif(k)\n\t\t\t\t\t\tfor(int b=1;b<=k;b++)\n\t\t\t\t\t\t\tfor(int c=0;c<=l;c++)\t{\n\t\t\t\t\t\t\t\tf[i][j][k][l]+=f[i-1][0][b-1][c]*f[i][j][k-b][l-c];\n\t\t\t\t\t\t\t\tf[i][j][k][l]%=mod;\n\t\t\t\t\t\t\t}\n\t\t\t\t\tif(l)\n\t\t\t\t\t\tfor(int c=1;c<=l;c++)\t{\n\t\t\t\t\t\t\tf[i][j][k][l]+=f[i-1][0][0][c-1]*f[i][j][k][l-c];\n\t\t\t\t\t\t\tf[i][j][k][l]%=mod;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\tint ans=f[d][l1][l2][l3];\n\tif(d) ans-=f[d-1][l1][l2][l3];\n\tprintf(\"%d\\n\",(ans%mod+mod)%mod);\n\treturn 0;\n}\n```\n\n\u5982\u679c\u5404\u4f4d\u611f\u89c9\u6211\u7801\u98ce\u4e11\u964b\uff0c\u4e0d\u59a8\u770b\u4e00\u770b XuHt \u5927\u4f6c\u7684\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int mod = 11380;\nint f[31][11][11][11], L1, L2, L3, D;\nint main() {\n    cin >> L1 >> L2 >> L3 >> D;\n    for (int i = 0; i <= D; i++) f[i][0][0][0] = 1;\n    for (int i = 1; i <= D; i++)\n        for (int j = 0; j <= L1; j++)\n            for (int k = 0; k <= L2; k++)\n                for (int l = 0; l <= L3; l++) {\n                    if (j > 0) { // \u7b2c\u4e00\u6bb5\u6700\u5916\u5c42\u662f{}\n                        for (int p = 1; p <= j; p++)\n                            for (int q = 0; q <= k; q++)\n                                for (int r = 0; r <= l; r++)\n                                    f[i][j][k][l] = (f[i][j][k][l] + f[i - 1][p - 1][q][r] * f[i][j - p][k - q][l - r]) % mod;\n                    }\n                    if (k > 0) { // \u7b2c\u4e00\u6bb5\u6700\u5916\u5c42\u662f[]\n                        for (int q = 1; q <= k; q++)\n                            for (int r = 0; r <= l; r++)\n                                f[i][j][k][l] = (f[i][j][k][l] + f[i - 1][0][q - 1][r] * f[i][j][k - q][l - r]) % mod;\n                    }\n                    if (l > 0) { // \u7b2c\u4e00\u6bb5\u6700\u5916\u5c42\u662f()\n                        for (int r = 1; r <= l; r++)\n                            f[i][j][k][l] = (f[i][j][k][l] + f[i - 1][0][0][r - 1] * f[i][j][k][l - r]) % mod;\n                    }\n                }\n    cout << (f[D][L1][L2][L3] - (D ? f[D - 1][L1][L2][L3] : 0) + mod) % mod << endl;\n}\n```",
        "postTime": 1629985315,
        "uid": 271491,
        "name": "koreyoshi_lemon",
        "ccfLevel": 5,
        "title": "\u9668\u77f3\u7684\u79d8\u5bc6 \u89e3\u6790"
    },
    {
        "content": "[\u5728CSDN\u4e0a\u67e5\u770b](https://blog.csdn.net/jiangtaizhe/article/details/108028837)  \n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P5694)  \n## \u601d\u8def\n\u9996\u5148\u6211\u4eec\u53d1\u73b0\u53ef\u4ee5\u641c\u7d22\uff0c\u4f46\u662f\u660e\u663e\u4f1aTLE\uff0c\u56e0\u4e3a\u7ec4\u5408\u6570\u5b66\u7684\u7ed3\u679c\u662f\u4ee5\u6307\u6570\u500d\u589e\u957f\u7684\uff0c\u7ed3\u679c\u4f1a\u5f88\u5927\uff0c\u660e\u663e\u4e0d\u884c\u3002  \n\u7531\u4e8e\u4e0d\u8981\u8f93\u51fa\u8def\u5f84\uff0c\u90a3\u4e48\u8003\u8651DP\u3002   \n\u4ee4 $f_{i,j,k,d}$ \u4e3a\u6df1\u5ea6 $d$ \uff0c`{}` $i$ \u5bf9\uff0c`[]` $j$ \u5bf9\uff0c`()` $k$ \u5bf9\u7684\u7ed3\u679c\u3002  \n\u6211\u4eec\u53d1\u73b0\u8fd9\u6837\u5f88\u96be\u5f97\u51fa\u7ed3\u679c\u3002  \n\u6211\u4eec\u4ee4 $f_{i,j,k,d}$ \u4e3a\u6df1\u5ea6\u5c0f\u4e8e\u7b49\u4e8e $d$ \uff0c`{}` $i$ \u5bf9\uff0c`[]` $j$ \u5bf9\uff0c`()` $k$ \u5bf9\u7684\u7ed3\u679c\uff0c~~\u8c8c\u4f3c~~\u53ef\u4ee5\u597d\u4e00\u70b9\u5f97\u5230\u7ed3\u679c\u3002  \n\n\u6211\u4eec\u5229\u7528`{}[]()`\u5c06\u5b57\u7b26\u4e32\u8fdb\u884c\u5206\u5272\u3002\u4ee4`A` `B`\uff0c\u90a3\u4e48\u5c31\u6709\u4e09\u79cd\u60c5\u51b5\uff1a`{A}B` `[A]B` `(A)B`\uff0c\u5f53\u7136`A` `B`\u4e5f\u53ef\u80fd\u662f\u7a7a\u4e32\u3002\u4e0d\u96be\u8bc1\u660e\u8fd9\u79cdDP\u65b9\u5f0f\u662f**\u4e0d\u91cd\u4e0d\u6f0f**\u7684\u3002\nDP\u5f0f\u5982\u4e0b\uff1a  \n$$f_{i,j,k,d}=\\sum^{i-1}_{a=0}\\sum^{j}_{b=0}\\sum^{k}_{c=0}f_{a,b,c,d-1}\\times f_{i-a-1,j-b,k-c,d}\\ +\\ \\sum^{j-1}_{a=0}\\sum^{k}_{b=0}f_{i,j-1-a,k-b,d}\\times f_{0,a,b,d-1}\\ +\\ \\sum^{k-1}_{a=0}f_{i,j,k-a-1,d}\\times f_{0,0,a,d-1}$$\n\u521d\u503c\uff1a $f_{0,0,0,0}=1$ \uff08\u7a7a\u4e32\u6df1\u5ea6\u4e3a$0$\u53ea\u6709$1$\u79cd\u53ef\u80fd\uff09\n## \u7ec6\u8282\n\u5f97\u51fa\u6700\u540e\u7684 \u7ed3\u679c\u662f$f_{l_1,l_2,l_3,d}-f_{l_1,l_2,l_3,d-1}$\u3002\n\u4f46\u662f\uff0c\u5982\u679c\u8fd9\u4e48\u505a\uff0c\u5176\u5b9e\u662f\u9519\u8bef\u7684\uff0c\u56e0\u4e3a$l_1,l_2,l_3,d$\u6709\u53ef\u80fd\u4f1a\u4e3a$0$\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u53d1\u73b0\u4ee5\u4e0b\u7ed3\u8bba\uff1a  \n\n| $l_1,l_2,l_3$ | $d$ | \u7ed3\u679c | \u89e3\u91ca |\n| -- | -- | -- | -- |\n| \u90fd\u4e3a$0$ | $0$ | $1$ | \u7a7a\u4e32\u6df1\u5ea6\u4e3a$0$\u53ea\u6709$1$\u79cd\u53ef\u80fd |\n| \u90fd\u4e3a$0$ | \u4e0d\u4e3a$0$ | $0$ | \u7a7a\u4e32\u4e0d\u53ef\u80fd\u6df1\u5ea6\u4e3a$1$ |\n| \u4e0d\u90fd\u4e3a$0$ | $0$ | $0$ | \u975e\u7a7a\u4e32\u7684\u6df1\u5ea6\u4e00\u5b9a\u5927\u4e8e\u7b49\u4e8e$1$ |\n\u6700\u540e\u6ce8\u610f**\u7cbe\u5ea6\u95ee\u9898**\uff0c\u8981\u7528**unsigned long long**\u3002\n## \u4ee3\u7801\n```cpp\n#include<cstdio>\n#include<iostream>\n#define maxn 12\n#define MOD (ll)11380\n#define MODx f[i][j][k][d]%=MOD;\nusing namespace std;\ntypedef unsigned long long ll;\nll f[maxn][maxn][maxn][39];\nint l1,l2,l3,D;\nint main(){\n\tscanf(\"%d%d%d%d\",&l1,&l2,&l3,&D);\n\tfor(int i=0;i<=D;i++)\n\t    f[0][0][0][i]=1;\n\tfor(int d=1;d<=D;d++)\n\tfor(int i=0;i<=l1;i++)\n\tfor(int j=0;j<=l2;j++)\n\tfor(int k=0;k<=l3;k++){\n\t\tif(i==0&&j==0&&k==0) continue;\n\t\tfor(int a=0;a<i;a++)\n\t\tfor(int b=0;b<=j;b++)\n\t\tfor(int c=0;c<=k;c++){\n\t\tf[i][j][k][d]=(f[i][j][k][d]+(ll)f[i-a-1][j-b][k-c][d]*f[a][b][c][d-1])%MOD;\n\t\t}\n\t\t\n\t\tfor(int a=0;a<j;a++)\n\t\tfor(int b=0;b<=k;b++){\n\t\tf[i][j][k][d]=(f[i][j][k][d]+(ll)f[i][j-a-1][k-b][d]*f[0][a][b][d-1])%MOD;\n\t\t}\n\t\t\n\t\tfor(int a=0;a<k;a++){\n\t\tf[i][j][k][d]=(f[i][j][k][d]+(ll)f[i][j][k-a-1][d]*f[0][0][a][d-1])%MOD;\n\t\t}\n\t}\n\tif(D==0){\n\t\tif(l1==0&&l2==0&&l3==0) printf(\"1\");\n\t\telse printf(\"0\");\n\t}\n\telse if(l1==0&&l2==0&&l3==0){\n\t\tprintf(\"0\");\n\t}\n\telse cout<<(f[l1][l2][l3][D]-f[l1][l2][l3][D-1]+MOD)%MOD;\n\treturn 0;\n}\n\n```",
        "postTime": 1597500760,
        "uid": 215042,
        "name": "jiangtaizhe001",
        "ccfLevel": 7,
        "title": "[NOI2001]\u9668\u77f3\u7684\u79d8\u5bc6 \u9898\u89e3"
    },
    {
        "content": "\u4e00\u9053\u6709\u8da3\u7684\u9ad8\u7ef4\u8ba1\u6570 DP\u3002\u540c\u6b65\u53d1\u8868\u4e8e [\u535a\u5ba2\u56ed](https://www.cnblogs.com/Mars-LG/p/P5694.html)\u3002\n\n## \u9898\u76ee\u5927\u610f\n\u5b9a\u4e49\u5408\u6cd5\u7684\u62ec\u53f7\u4e32\u4e3a\uff1a\n1. \u4ec5\u7531 `()`, `[]`, `{}` \u7ec4\u6210\uff1b\n2. \u7a7a\u4e32\u662f\u5408\u6cd5\u62ec\u53f7\u4e32\uff1b\n3. $A$ \u662f\u5408\u6cd5\u62ec\u53f7\u4e32\u4e14\u4e0d\u542b `[]`, `{}`\uff0c\u5219 $(A)$ \u662f\u5408\u6cd5\u62ec\u53f7\u4e32\uff1b\n4. $A$ \u662f\u5408\u6cd5\u62ec\u53f7\u4e32\u4e14\u4e0d\u542b `{}`\uff0c\u5219 $[A]$ \u662f\u5408\u6cd5\u62ec\u53f7\u4e32\uff1b\n5. $A$ \u662f\u5408\u6cd5\u62ec\u53f7\u4e32\uff0c\u5219 $\\{A\\}$ \u662f\u5408\u6cd5\u62ec\u53f7\u4e32\uff1b\n6. $A,B$ \u5747\u4e3a\u5408\u6cd5\u62ec\u53f7\u4e32\uff0c\u5219 $AB$ \u4e5f\u662f\u5408\u6cd5\u62ec\u53f7\u4e32\u3002\n\n\u5b9a\u4e49\u4e00\u4e2a\u62ec\u53f7\u4e32\u7684\u6df1\u5ea6\u4e3a\u6700\u5927\u7684\u62ec\u53f7\u5d4c\u5957\u6570\uff0c\u6c42\u4f7f\u7528\u4e86 $L_1,L_2,L_3$ \u5bf9 `{}`, `[]`, `()` \u4e14\u6df1\u5ea6\u4e3a $D$ \u7684\u5408\u6cd5\u62ec\u53f7\u4e32\u6570\u91cf\uff0c\u7b54\u6848\u5bf9 $11380$ \u53d6\u6a21\u3002\n\n## \u5927\u4f53\u601d\u8def\n\u7531\u4e8e $L_1\\sim L_3,D$ \u5747\u4e0d\u5927\uff0c\u76f4\u63a5\u4f7f\u7528\u9ad8\u7ef4 DP\uff0c\u72b6\u6001\u5b9a\u4e49\u7167\u6284\u9898\u9762\u3002\u6545\u5b9a\u4e49 $F(d,i,j,k)$ \u8868\u793a\u4f7f\u7528\u4e86 $i,j,k$ \u5bf9\u5927\u3001\u4e2d\u3001\u5c0f\u62ec\u53f7\u4e14\u6df1\u5ea6\u4e3a $d$ \u7684\u6570\u91cf\u3002\n\n\u72b6\u6001\u8f6c\u79fb\u81ea\u7136\u662f\u5c06\u5f53\u524d\u4e32\u5206\u5272\u6210\u4e24\u4e2a\u4e32 $TS$\uff0c\u4f7f\u5f97 $S$ \u7684\u6df1\u5ea6\u4e3a $d$\uff0c\u7528\u67d0\u4e00\u79cd\u62ec\u53f7\u53bb\u5957\u4e00\u4e2a\u5408\u6cd5\u7684\u4e32 $T$\u3002\u7531\u4e8e\u5d4c\u5957\u4e00\u5c42\u540e\u6df1\u5ea6 $\\le d$\uff0c\u8981\u6c42\u8fd9\u4e2a\u5408\u6cd5\u4e32 $T$ \u7684\u6df1\u5ea6\u4e0d\u5927\u4e8e $d-1$\u3002\n\n\u8fd9\u65f6\uff0c\u6211\u4eec\u53d1\u73b0\u9700\u8981\u679a\u4e3e\u6240\u6709 $\\le d-1$ \u7684\u6df1\u5ea6\uff0c\u592a\u8fc7\u9ebb\u70e6\uff0c\u56e0\u6b64\u5bf9 $F$ \u505a\u524d\u7f00\u548c\u5904\u7406\uff0c\u5373\u5c06\u72b6\u6001\u5b9a\u4e49\u6539\u4e3a $F(d,i,j,k)$ \u8868\u793a\u4f7f\u7528\u4e86 $i,j,k$ \u5bf9\u5927\u3001\u4e2d\u3001\u5c0f\u62ec\u53f7\u4e14\u6df1\u5ea6 $\\le d$ \u7684\u6570\u91cf\u3002\n\n\u5bf9\u5f53\u524d\u4e32 `TS`\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u62ec\u53f7\u5d4c\u5957\u53d8\u6210 `(T)S`\uff0c`[T]S`\uff0c`{T}S`\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u679a\u4e3e $T$ \u4e2d\u5305\u542b\u591a\u5c11 `{}, [], ()`\uff0c\u5f97\u5230\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$$F(d,i,j,k)=\n\\sum_{a=0}^{i-1}\\sum_{b=0}^j\\sum_{c=0}^k F(d-1,a,b,c)\\times F(d,i-1-a,j-b,k-c)$$\n\n$$+\\sum_{b=0}^{j-1}\\sum_{c=0}^k F(d-1,0,b,c)\\times F(d,i,j-1-b,k-c)$$\n\n$$+\\sum_{c=0}^{k-1} F(d-1,0,0,c) \\times F(d,i,j,k-1-c)\n$$\n\n\u7279\u6b8a\u5730\uff0c\u5bf9\u4e8e $i=j=k=0$ \u65f6\uff0c$F(d,0,0,0)=1$\u3002\n\n\u8f93\u51fa\u65f6\uff0c\u901a\u8fc7\u524d\u7f00\u548c\u505a\u5dee\u5373\u53ef\uff0c\u9700\u8981\u7279\u5224 $D=0$ \u4ee5\u53ca $L_1=L_2 = L_3 = 0$ \u7684\u60c5\u51b5\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $O(DL^6)$\u3002\n\n## \u5b8c\u6574\u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define rep(ii,aa,bb) for(re int ii = aa; ii <= bb; ii++)\n#define Rep(ii,aa,bb) for(re int ii = aa; ii >= bb; ii--)\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef double db;\ntypedef pair<int, int> PII;\nconst ll mod = 11380;\nnamespace IO_ReadWrite {\n\t#define re register\n\t#define gg (p1 == p2 && (p2 = (p1 = _buf) + fread(_buf, 1, 1<<21, stdin), p1 == p2) ? EOF :*p1++)\n\tchar _buf[1<<21], *p1 = _buf, *p2 = _buf;\n\ttemplate <typename T>\n\tinline void read(T &x){\n\t\tx = 0; re T f=1; re char c = gg;\n\t\twhile(c > 57 || c < 48){if(c == '-') f = -1;c = gg;}\n\t\twhile(c >= 48 &&c <= 57){x = (x<<1) + (x<<3) + (c^48);c = gg;}\n\t\tx *= f;return;\n\t}\n\tinline void ReadChar(char &c){\n\t\tc = gg;\n\t\twhile(!isalpha(c)) c = gg;\n\t}\n\ttemplate <typename T>\n\tinline void write(T x){\n\t\tif(x < 0) putchar('-'), x = -x;\n\t\tif(x > 9) write(x/10);\n\t\tputchar('0' + x % 10);\n\t}\n\ttemplate <typename T>\n\tinline void writeln(T x){write(x); putchar('\\n');}\n}\nusing namespace IO_ReadWrite;\nll L1, L2, L3, D, f[35][12][12][12];\nint main () {\n\tread(L1); read(L2); read(L3); read(D);\n\tf[0][0][0][0] = 1;\n\trep(d, 1, D) {\n\t\tf[d][0][0][0] = 1;\n\t\trep(i, 0, L1) rep(j, 0, L2) rep(k, 0, L3) {\n\t\t\tif(!i && !j && !k) continue;\n\t\t\trep(a, 0, i - 1) rep(b, 0, j) rep(c, 0, k)\n\t\t\t\t(f[d][i][j][k] += f[d - 1][a][b][c] * f[d][i-1 - a][j - b][k - c]) %= mod;\n\t\t\trep(b, 0, j - 1) rep(c, 0, k)\n\t\t\t\t(f[d][i][j][k] += f[d - 1][0][b][c] * f[d][i][j-1 - b][k - c]) %= mod;\n\t\t\trep(c, 0, k - 1)\n\t\t\t\t(f[d][i][j][k] += f[d - 1][0][0][c] * f[d][i][j][k-1 - c]) %= mod;\n\t\t}\n\t}\n\tif(!D) writeln(((!L1 && !L2 && !L3) ? 1 : 0));\n\telse if(!L1 && !L2 && !L3) writeln(0);\n\telse writeln((f[D][L1][L2][L3] - f[D - 1][L1][L2][L3] + mod) % mod);\n\treturn 0;\n}\n```",
        "postTime": 1649385186,
        "uid": 279197,
        "name": "Mars_Dingdang",
        "ccfLevel": 6,
        "title": "P5694 [NOI2001] \u9668\u77f3\u7684\u79d8\u5bc6"
    },
    {
        "content": "\u6839\u636e\u6807\u7b7e\u6765\u770b\uff0c\u8fd9\u662f\u4e00\u9053\u52a8\u6001\u89c4\u5212\u7684\u9898\u76ee\u3002\n\n\u5bf9\u4e8e\u7ed9\u51fa\u7684\u8fd9\u4e9b\u53d8\u91cf\uff0c\u8bbe $f[i][j][k][d]$ \u8868\u793a\u4e32\u4e2d\u6709 $i$ \u4e2a( )\u3001$j$ \u4e2a[ ]\u3001$k$ \u4e2a{ }\u3001\u6df1\u5ea6\u4e0d\u5927\u4e8e $d$ \u65f6\u7684\u65b9\u6848\u603b\u6570\u3002\n\n\u7531\u5b9a\u4e49\u53ef\u77e5\uff0c\u4e24\u4e2a SS \u4e32\u62fc\u5728\u4e00\u8d77\u4e5f\u662f\u4e00\u4e2a SS \u4e32\uff0c\u6211\u4eec\u53ef\u4ee5\u501f\u6b64\u6765\u8fdb\u884c\u52a8\u6001\u89c4\u5212\u3002\u4f46\u662f\uff0c\u82e5\u4e00\u4e2a SS \u4e32\u4e3a ABC\uff0c\u5728\u8ba1\u7b97\u65f6\u5c31\u4f1a\u5c06 $AB+C$ \u548c $A+BC$ \u4f5c\u4e3a\u4e24\u4e2a\u65b9\u6848\u8ba1\u7b97\u5728\u5185\uff0c\u4f46\u5b9e\u9645\u4e0a\u662f\u540c\u4e00\u79cd\u65b9\u6848\u3002\n\n\u56e0\u6b64\uff0c\u4e3a\u4e86\u907f\u514d\u91cd\u590d\uff0c\u53ef\u4ee5\u5728\u52a8\u6001\u89c4\u5212\u65f6\u4ee4\u4e00\u4e2a\u4e32\u5f3a\u5236\u5728\u6700\u5916\u9762\u52a0\u4e0a\u4e00\u4e2a\u62ec\u53f7(\u5c31\u662f\u6ee1\u8db3\u8981\u6c42\u7684\u6700\u5c0f\u62ec\u53f7)\u3002\n\n\u6240\u4ee5\uff0c\u9996\u5148\u679a\u4e3e\u4e00\u4e2a\u4e32\u4e2d\u6709\u7684\u6bcf\u79cd\u62ec\u53f7\u7684\u6570\u91cf\uff0c\u7136\u540e\u628a\u6240\u6709\u62ec\u53f7\u5206\u6210\u4e24\u90e8\u5206\uff0c\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u5373\u4e3a\u5206\u6210\u7684\u4e24\u4e2a\u4e32\u7684\u4e58\u79ef\u3002\n\n\u4e0d\u8fc7\u8981\u6ce8\u610f\u53d6\u6a21\u3002\n\n\u90a3\u4e48\u8f93\u51fa\u7684\u7b54\u6848\u662f\u4ec0\u4e48\u5462\uff1f\uff1f\uff1f\n\n\u663e\u800c\u6613\u89c1\uff0c\u5982\u679c $d$ \u7684\u503c\u4e3a $0$\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u7528\u8f93\u51fa\n```\nf[l1][l2][l3][d]\n```\n\u6df1\u5ea6\u90fd\u662f $0$ \u4e86\uff0c\u90a3\u80af\u5b9a\u8f93\u51fa\u8fd9\u4e2a\u5440\uff01\uff01\n\n\n\u53cd\u4e4b\uff0c\u5c31\u8f93\u51fa\n```\n(f[l1][l2][l3][d]-f[l1][l2][l3][d-1]+mod)%mod\n```\n\u6ce8\u610f\u4e0d\u8981\u5199\u6210\n```\n(f[l1][l2][l3][d]-f[l1][l2][l3][d-1])%mod\n```\n\u8fd9\u4e24\u4e2a\u5f0f\u5b50\u4e0d\u4e00\u5b9a\u76f8\u7b49\uff08\u867d\u7136\u6211\u4e5f\u7b97\u4e0d\u51fa\u6765\u4e3a\u4ec0\u4e48\uff0c\u53ea\u4e0d\u8fc7\u662f\u731c\u5bf9\u7684\uff09\u3002\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int mod=11380;\nint l1,l2,l3,d;\nint f[15][15][15][35];\nint main()\n{\n    cin>>l1>>l2>>l3>>d;\n    f[0][0][0][0]=1;\n    for(int i=0;i<=l1;i++)\n    {\n    \tfor(int j=0;j<=l2;j++)\n    \t{\n    \t\tfor(int k=0;k<=l3;k++)\n    \t\t{\n    \t\t\tfor(int l=1;l<=d;l++)\n    \t\t\t{\n    \t\t\t\tif(i!=0||j!=0||k!=0)\n    \t\t\t\t{\n    \t\t\t\t\tint F=0;\n    \t\t\t\t\tfor(int a=0;a<k;a++)\n    \t\t\t\t\t{\n    \t\t\t\t\t\tF=(F+f[i][j][k-a-1][l]*f[0][0][a][l-1])%mod;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor(int a=0;a<j;a++)\n    \t\t\t\t\t{\n    \t\t\t\t\t\tfor(int b=0;b<=k;b++)\n    \t\t\t\t\t\t{\n    \t\t\t\t\t\t\tF=(F+f[i][j-a-1][k-b][l]*f[0][a][b][l-1])%mod;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor(int a=0;a<i;a++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor(int b=0;b<=j;b++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfor(int c=0;c<=k;c++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tF=(F+f[i-a-1][j-b][k-c][l]*f[a][b][c][l-1])%mod;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf[i][j][k][l]=F;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tf[i][j][k][l]=1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(d>0)\n\t{\n\t\tcout<<(f[l1][l2][l3][d]-f[l1][l2][l3][d-1]+mod)%mod;\n\t}\n\telse\n\t{\n\t\tcout<<f[l1][l2][l3][d];\n\t}\n    return 0;\n}\n```\n\n\u6211\u662f\u4e00\u4e2a\u7231\u5199\u9898\u89e3\u7684\u521d\u4e00\u515a\u849f\u84bb\u3002\u3002",
        "postTime": 1643787012,
        "uid": 439177,
        "name": "Super_Sheep",
        "ccfLevel": 0,
        "title": "P5694\u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\uff1a\n\n\u5b9a\u4e49\u4e00\u79cd\u7531  `()` `[]` `{}` \u505a\u6210\u7684\u8868\u8fbe\u5f0f\uff1ass\u8868\u8fbe\u5f0f\u3002\n\n\u5176\u4e2d\uff0c\u7a7a\u4e32\u4e3ass\u8868\u8fbe\u5f0f\uff0css\u8868\u8fbe\u5f0f\u4e2d\u62ec\u53f7\u5d4c\u5957 : `[]` \u4e2d\u4e0d\u80fd\u6709 `{}` ,`()`\u4e2d\u4e0d\u80fd\u6709 `[]` \u548c `{}`\u3002\n\n\u7ed9\u5b9a\u4e09\u79cd\u62ec\u53f7\u7684\u6570\u91cf\uff0c\u8981\u6c42\u6df1\u5ea6\u4e3a k \u7684ss\u8868\u8fbe\u5f0f\u5171\u6709\u591a\u5c11\u79cd\u3002\n\n### \u9898\u89e3\uff1a\n\n\u6211\u4eec\u8bbe\u72b6\u6001\uff1a$dp[b1][b2][b3][d]$ \u4e3a\u4f7f\u7528\u4e86b1\u4e2a`{}`\uff0cb2\u4e2a`[]` \uff0cb3\u4e2a`()`\uff0c\u4e14\u6df1\u5ea6\u5c0f\u4e8e\u7b49\u4e8ed\u7684\u65b9\u6848\u6570\u91cf\u3002\n\n\u63a5\u4e0b\u6765\u662f\u91cd\u5934\u620f\uff1a\u5982\u4f55\u8f6c\u79fb\u72b6\u6001\uff1f\n\n- \u6211\u4eec\u53ef\u4ee5\u5c06\u4e00\u4e2ass\u8868\u8fbe\u5f0f\u5916\u9762\u52a0\u4e0a\u62ec\u53f7\uff0c\u8f6c\u79fb\u5230\u53e6\u4e00\u4e2ass\u8868\u8fbe\u5f0f\uff1b\n- \u4e5f\u53ef\u4ee5\u5c06\u4e24\u4e2ass\u8868\u8fbe\u5f0f\u62fc\u63a5\u8d77\u6765\uff0c\u8f6c\u79fb\u5230\u53e6\u4e00\u4e2ass\u8868\u8fbe\u5f0f\u3002\n\n\u663e\u7136\u8fd9\u6709\u4e24\u79cd\u8f6c\u79fb\u89c4\u5219\u5e76\u4e0d\u597d\u5f04\uff0c\u5e76\u4e14\u7b2c\u4e8c\u6761\u8fd8\u6709\u81f4\u547d\u95ee\u9898 \n\n\u6211\u4eec\u8003\u8651ss\u8868\u8fbe\u5f0f `{[(())[()][]]}` \uff0c\u6211\u4eec\u53d1\u73b0\u5b83\u53ea\u80fd\u4ece `[(())[()][]]` \u8f6c\u79fb\u6765\uff0c\u8fd9\u5f88\u663e\u7136\u3002\n\n~~\u4e5f\u5c31\u662f`()`\u8f6c\u79fb\u5230`(())`\u3002~~\n\n\u4f46\u662f\u5bf9\u4e8ess\u8868\u8fbe\u5f0f `[()()][(())][]` , \u6211\u4eec\u53d1\u73b0\u6211\u4eec\u65e2\u53ef\u4ee5\u5c06 `[()()]` \u63a5\u4e0a\u4e2a `[(())][]` \u5f97\u5230\uff0c\u4e5f\u53ef\u4ee5\u4ece `[()()][(())]` \u63a5\u4e0a `[]` \u6765\u5f97\u5230\u3002\n\n~~\u4e5f\u5c31\u662f`()`\u5230`()()()`\u548c`()()`\u5230`()()()`\u3002~~\n\n\u8003\u8651\u5c06\u8fd9\u4e24\u79cd\u8f6c\u79fb\u65b9\u5f0f\u7edf\u4e00\uff0c\u66f4\u91cd\u8981\u7684\u662f\u4e0d\u80fd\u51fa\u73b0\u91cd\u590d\u60c5\u51b5\u3002\n\n\u6211\u4eec\u8003\u8651\u91c7\u7528\uff1a `A` \u8f6c\u79fb\u5230 `(A)B` \u7684\u8f6c\u79fb\u65b9\u5f0f\u3002\n\u8fd9\u6837\u6211\u4eec\u4ece`[()()]`\u8f6c\u79fb\u5230 `[()()][(())][]`\uff0c\u8f6c\u79fb\u65b9\u6848\u552f\u4e00\u3002\n\n\u7279\u522b\u7684\uff0c\u5f53B\u4e3a\u7a7a\u4e32\u7684\u65f6\u5019\u5c31\u76f8\u5f53\u4e8e\u5728ss\u8868\u8fbe\u5f0f\u5916\u9762\u5957\u4e86\u4e00\u4e2a\u62ec\u53f7\u3002\n\n\u786e\u5b9a\u4e86\u8f6c\u79fb\u65b9\u5f0f\u90a3\u4e48\u5c31\u5f88\u597d\u60f3\u4e86\u3002\n\u6211\u4eec\u679a\u4e3eA\u5916\u9762\u7684\u62ec\u53f7\u79cd\u7c7b\u3002\n\u5f53\u4e3a\u5927\u62ec\u53f7\u7684\u65f6\u5019\u5219\uff1a\n```cpp\nFOR(b1,a1-1) FOR(b2,a2) FOR(b3,a3){\n(dp[a1][a2][a3][d] += dp[b1][b2][b3][d-1]*dp[a1-b1-1][a2-b2][a3-b3][d]%P)%=P;\t\t\n}\n\n```\n\u4e2d\u62ec\u53f7\u7684\u65f6\u5019\uff1a\n```cpp\nFOR(b2,a2-1) FOR(b3,a3){\n(dp[a1][a2][a3][d] += dp[0][b2][b3][d-1]*dp[a1][a2-1-b2][a3-b3][d]%P)%=P ;\t\t\t\t\n}\n```\n\u5c0f\u62ec\u53f7\u7684\u65f6\u5019\n```cpp\nFOR(b3,a3-1){\n(dp[a1][a2][a3][d] += dp[0][0][b3][d-1]*dp[a1][a2][a3-b3-1][d]%P)%=P;\n}\n```\n\n\u5f53\u6211\u4eec\u679a\u4e3eA\u5916\u9762\u7684\u62ec\u53f7\u79cd\u7c7b\u65f6\uff0c\u6211\u4eec\u8981\u5728\u8f6c\u79fb\u65b9\u7a0b\u91cc\u5c06\u8fd9\u79cd\u62ec\u53f7\u51cf\u53bb\u4e00\u4e2a\u3002\u7136\u540e\u5c06A\u7684\u65b9\u6848\u6570\u4e0eB\u7684\u65b9\u6848\u6570\u76f8\u4e58\u3002\n\u8f6c\u79fb\u8fb9\u754c\u662f $dp[0][0][0][d] = 1$\n\n\n\u5b8c\u6574\u4ee3\u7801\uff1a\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#define ll long long\n#define FOR(x,y) for(int x = 0;x <= y;x ++)\n#define Pri \nusing namespace std;\n\nint read()\n{\n\tint a = 0,x = 1;\n\tchar ch = getchar();\n\twhile(ch > '9' ||ch < '0'){\n\t\tif(ch == '-') x = -1;\n\t\tch = getchar();\n\t}\n\twhile(ch >= '0' && ch <= '9'){\n\t\ta = a*10 + ch-'0';\n\t\tch = getchar();\n\t}\n\treturn a*x;\n}\nconst int N=100,P=11380;\nint l1,l2,l3,D;\nll dp[20][20][20][N];\nint main()\n{\n\tl1=  read(),l2 = read(),l3 = read(),D = read();\n\tFOR(a1,l1) FOR(a2,l2) FOR(a3,l3) FOR(d,D){\n\t\tif(a1 == 0 && a2 == 0 && a3 == 0){\n\t\t\tdp[a1][a2][a3][d] = 1;\n\t\t\t\tcontinue;\n\t\t}\n\t\tif(!d) continue;\n\t\tFOR(b1,a1-1) FOR(b2,a2) FOR(b3,a3){\n\t\t\t\t\t(dp[a1][a2][a3][d] += dp[b1][b2][b3][d-1]*dp[a1-b1-1][a2-b2][a3-b3][d]%P)%=P;\t\t\n\t\t\t\t}\n\t\t\t\n\t\t\n\t\tFOR(b2,a2-1) FOR(b3,a3){\n\t\t\t\t(dp[a1][a2][a3][d] += dp[0][b2][b3][d-1]*dp[a1][a2-1-b2][a3-b3][d]%P)%=P ;\t\t\t\t\n\t\t\t}\n\t\t\n\t\tFOR(b3,a3-1){\n\t\t\t(dp[a1][a2][a3][d] += dp[0][0][b3][d-1]*dp[a1][a2][a3-b3-1][d]%P)%=P;\n\t\t}\n\t\t\t\t\n\t}\n\tif(D == 0){\n\t\tprintf(\"%lld\",dp[l1][l2][l3][D]);\n\t\treturn 0;\n\t}\n\tprintf(\"%lld\",(P+dp[l1][l2][l3][D] - dp[l1][l2][l3][D-1])%P);\n\treturn 0;\n}\n```\n",
        "postTime": 1590279582,
        "uid": 118166,
        "name": "nao_nao",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P5694 \u3010[NOI2001]\u9668\u77f3\u7684\u79d8\u5bc6\u3011"
    },
    {
        "content": "## 1. \u601d\u8def\uff1a\n-----------------------------------------------\n### (1) \u9898\u610f\uff1a  \n\n   \u7ed9\u5b9a()[]{}\u7684\u6570\u91cf\u5206\u522b\u4e3al1\uff0cl2\uff0cl3(0<=l1\uff0cl2\uff0cl3<=10)\uff0c\u89c4\u5b9a()\u4e0d\u80fd\u5957\u5728[]\u548c{}\u7684\u5916\u9762\uff0c[]\u4e0d\u80fd\u5957\u5728{}\u7684\u5916\u9762\uff0c\u5373{} [] ()\u4f18\u5148\u7ea7\u9012\u51cf\uff0c\u73b0\u5728\u60f3\u6700\u5927\u7ec4\u6210\u5d4c\u5957\u6df1\u5ea6\u4e3ad(0<=d<=30)\u7684\u4e32\uff0c\u95ee\u4e00\u5171\u6709\u591a\u5c11\u79cd\u65b9\u6cd5\u3002\n\n### (2) \u9898\u89e3:    \n         \n  \u9996\u5148\u5f88\u5bb9\u6613\u60f3\u5230\u8bb0\u5fc6\u5316dfs\uff0cdp[a][b][c][d]\u8868\u793a{}[]()\u5206\u522b\u6709a b c\u4e2a\u5f62\u6210\u6700\u5927\u5d4c\u5957\u6df1\u5ea6\u4e3ad\u7684\u65b9\u6cd5\u6570\uff0c\u7136\u540e\u627e\u5230\u5b50\u72b6\u6001\uff0c\u4f46\u662f\u9ebb\u70e6\u7684\u662fd\u662f\u591a\u4e2a\u5b50\u95ee\u9898\u6c42max\u5f97\u5230\u7684\uff0c\u8fd9\u6837\u5728dfs\u7684\u8fc7\u7a0b\u4e2d\u6ca1\u529e\u6cd5\u63a7\u5236\u54ea\u4e00\u4e2a\u662f\u6700\u5927\u7684\uff0c\u770b\u4e86\u4e0b\u63d0\u793a\u77ac\u95f4\u77f3\u5316\u3002      \n  \n\u00a0 \u00a0dp[a][b][c][d]\u8868\u793a{}[]()\u5206\u522b\u6709a b c\u4e2a\u5f62\u6210\u6700\u5927\u5d4c\u5957\u6df1\u5ea6\u5c0f\u4e8e\u7b49\u4e8ed\u7684\u65b9\u6cd5\u6570\uff0c\u8fd9\u6837\u80fd\u5f97\u5230\u5b50\u72b6\u6001\uff0c\u7531\u4e8e\u4f18\u5148\u7ea7\u7684\u95ee\u9898\u6539\u53d8\u904d\u5386{}[]()\u7684\u987a\u5e8f\u5373\u53ef\uff0c\u679a\u4e3e\u5f53\u524d\u5728\u5de6\u8fb9\u5957\u5728\u6700\u5916\u9762\u7684\u662f{}[]\u6216()\uff0c\u6700\u540e\u5f97\u5230\u7b54\u6848\u4e3adp[a][b][c][d] \u2013 dp[a][b][c][d-1]\uff08d == 0\u65f6\u5019\u7b54\u6848\u4e3adp[a][b][c][d]\uff09\u3002\u56e0\u4e3adfs\u65f6\u5206\u5f00\u7684\u4e24\u4e2a\u4e32\u662f\u72ec\u7acb\u7684\uff0c\u6240\u4ee5\u4e0d\u4f1a\u6709\u91cd\u590d\u8ba1\u6570\u3002\n\n### (3) PS\uff1a\n\t1. \u7f51\u4e0a\u6709\u4e00\u4e2a\u60f3\u6cd5\u8bf4\u7684\u5f88\u597d\uff1a\u628a\u62ec\u53f7\u7684\u5d4c\u5957\u770b\u6210\u662f\u4e00\u68f5\u6811\u5c31\u7b80\u5355\u4e9b\uff0c\u8fd9\u68f5\u6811\u7684\u6700\u5927\u6df1\u5ea6\u4e3a D\uff0c()\u8282\u70b9\u4e0b\u9762\u4e0d\u80fd\u6709{}[]\u8282\u70b9\uff0c[]\u8282\u70b9\u4e0b\u9762\u4e0d\u80fd\u6709{}\u8282\u70b9\uff0c\u7136\u540e\u4ece\u4e0a\u5f80\u4e0b\u4f9d\u6b21\u6446\u653e\u8282\u70b9\u3002\n2. \u601d\u8def\u548c\u4ee3\u7801\u5b9e\u73b0\u53c2\u8003\u4e86\u8fd9\u7bc7\u535a\u5ba2\uff1a[\u2b55](https://blog.csdn.net/Flying_Stones_Sure/article/details/7954114)\n\n# 2. \u4ee3\u7801\uff1a\n```c\n#include <bits/stdc++.h>\nusing namespace std;\nconst int mod = 11380;\nint dp[11][11][11][31];\nbool v[11][11][11][31];\nint dfs(int l1, int l2, int l3, int deep)\n{\n\tif (l1 == 0 && l2 == 0 && l3 == 0)\n\t{\n\t\tv[l1][l2][l3][deep] = 1;\n\t\treturn dp[l1][l2][l3][deep] = 1;\n\t}\n\tif (deep == 0)\n\t{\n\t\tv[l1][l2][l3][deep] = 1;\n\t\treturn dp[l1][l2][l3][deep]  = 0;\n\t}\n\tif (v[l1][l2][l3][deep])\n\t\treturn dp[l1][l2][l3][deep];\n\tint ans = 0;\n\tfor (int i = 0; i <= l3; i++)\n\t{\n\t\tif (i)\n\t\t{\n\t\t\tans = (ans + dfs(0 , 0, i - 1, deep - 1) * dfs(l1, l2, l3 - i,deep)) % mod;\n\t\t}\n\t\tfor (int j = 0 ; j <= l2; j++)\n\t\t{\n\t\t\tif (j)\n\t\t\t{\n\t\t\t\tans = (ans + dfs(0, j - 1, i, deep - 1) * dfs(l1, l2 - j,l3 - i, deep)) % mod;\n\t\t\t}\n\t\t\tfor (int k = 1; k <= l1; k++)\n\t\t\t{\n\t\t\t\tans = (ans + dfs(k - 1, j, i, deep - 1) * dfs(l1 - k, l2 - j,l3 - i, deep)) % mod;\n\t\t\t}\n\t\t}\n\t}\n\tv[l1][l2][l3][deep] = 1;\n\treturn dp[l1][l2][l3][deep] = ans;\n}\nint main()\n{\n\tint n, m, d, t;\n\twhile(~scanf(\"%d%d%d%d\", &n, &m, &t, &d))\n\t{\n\t\tdfs(n, m, t, d);\n\t\tif(d) dfs(n, m ,t, d - 1);\n\t\tif(d) printf(\"%d\\n\", (dp[n][m][t][d] - dp[n][m][t][d - 1] + mod ) %mod);\n\t\telse printf(\"%d\\n\", dp[n][m][t][d]);\n\t}\n}\n```\n",
        "postTime": 1580995955,
        "uid": 79186,
        "name": "WB_TS_\u6b27\u5bd2",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5694 \u3010[NOI2001]\u9668\u77f3\u7684\u79d8\u5bc6\u3011"
    },
    {
        "content": " \u7b97\u6cd5\u7ade\u8d5b\u8fdb\u9636\u6307\u5357\u4e0a\u63a8\u8350\u7684 dp \u7ec3\u4e60\u9898\uff0c\u786e\u5b9e\u662f\u4e2a\u597d\u9898\u3002\n\n\u601d\u8def\u6709\u501f\u9274@\u4e5d\u4e5d\u4e5d\u4e5d \u795e\u4ed9\u7684\u9898\u89e3\u3002\n\n\u8bbe $f_{i,j,k,l}$ \u8868\u793a\u6df1\u5ea6\u4e3a $i$\uff0c\u6709$j$ \u4e2a `{}`\uff0c $k$ \u4e2a `[]` \u548c $l$ \u4e2a `()` \u65f6\u7684\u4e2a\u6570\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4e32\u53ef\u4ee5\u62c6\u6210 `(A)` \u6216 `[A]` \u6216 `{A}` \u6216 `AB` \u7684\u5f62\u5f0f\uff0c\u4f46\u8fd9\u6837\u4f3c\u4e4e\u5f88\u96be\u8f6c\u79fb\uff0c\u56e0\u4e3a\u679a\u4e3e `AB` \u662f\u4e2a\u5f88\u9ebb\u70e6\u7684\u4e1c\u897f\u3002\n\n\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u6362\u4e2a\u89d2\u5ea6\u770b\u770b\u3002 `(A)` \uff08\u5305\u62ec\u5176\u4ed6\u4e24\u79cd\uff09\u4e0d\u5c31\u662f `(A)B` \u7684\u5f62\u5f0f\u7684 $B$ \u4e3a\u7a7a\u4e32\u7684\u7279\u6b8a\u60c5\u51b5\u5417\uff01`AB` \u4e2d\u628a $A$ \u518d\u62c6\u5f00\uff08$AB$ \u4e2d $A,B$ \u4e00\u5b9a\u90fd\u4e0d\u662f\u7a7a\u4e32\u5426\u5219\u8fd9\u79cd\u62c6\u6cd5\u6ca1\u6709\u610f\u4e49\uff09\u4e0d\u5c31\u662f `(C)B` \uff08\u6216\u662f\u5176\u4ed6\u4e24\u79cd\u62ec\u53f7\uff09\u5417\uff01\n\n\u6240\u4ee5\u5176\u5b9e\u6bcf\u4e2a\u5b57\u7b26\u4e32\u90fd\u53ef\u4ee5\u4e14\u4ec5\u53ef\u4ee5\u62c6\u6210`(A)B` \uff08`[A]B`,`{A}B`\uff09\u7684\u5f62\u5f0f\uff0c\u8fd9\u6837\u5c31\u65b9\u4fbf\u8f6c\u79fb\u4e86\u3002\n\n\u8003\u8651\u8f6c\u79fb\u65b9\u7a0b\uff0c\u4ee5 `(A)B` \u4e3a\u4f8b\uff0c\u5b83\u7684\u4e2a\u6570\u5176\u5b9e\u5c31\u662f $A$ \u7684\u4e2a\u6570\u4e58\u4e0a $B$ \u7684\u4e2a\u6570\uff08\u7ec4\u5408\u6570\u5b66\u5165\u95e8\u9898\uff1f\uff09\u6240\u4ee5\u679a\u4e3e\u8fd9\u4e24\u4e2a\u73a9\u610f\u513f\u4e58\u4e00\u4e0b\u5c31\u597d\u4e86\uff0c\u5176\u4ed6\u7684\u540c\u7406\u3002\n\n\u800c\u5bf9\u4e8e\u4e09\u79cd\u62ec\u53f7\u90fd\u6ca1\u6709\u7684\u663e\u7136\u662f\u521d\u59cb\u5316\u4e3a $1$\u3002\n\n\u5373 $f_{i,j,k,l}=1(j=0,k=0,l=0),f_{i,j,k,l}=\\sum^{l-1}_{x=0}f_{i,0,0,x}*f_{i,j,k,l-1-x}+\\sum^{k-1}_{x=0}\\sum^{l}_{y=0}f_{i,0,x,y}*f_{i,j,k-1-x,l-y}+\\sum^{j-1}_{x=0}\\sum^{k}_{y=0}\\sum^{l}_{z=0}f_{i,x,y,z}*f_{i,j-1-x,k-y,l-z}$\u3002\n\n\u65b9\u7a0b\u8fd8\u662f\u597d\u7406\u89e3\u7684\uff0c\u56e0\u4e3a\u62ec\u53f7\u7684\u6570\u91cf\u4e0d\u53d8\uff0c\u6ce8\u610f\u62c6\u5206\u7684\u65f6\u5019\u7528\u4e86\u54ea\u79cd\u62ec\u53f7\u8fd9\u79cd\u62ec\u53f7\u7684\u6570\u91cf\u5c31\u8981\u51cf\u4e00\u3002\n\n@\u4e5d\u4e5d\u4e5d\u4e5d \u6ca1\u653e\u4ee3\u7801\uff0c\u6211\u653e\u4e00\u4e2a\u5427\n\n```cpp\n#include <cstdio>\nusing namespace std;\ninline int read() {\n\tint res=0,f=1; char ch=getchar();\n\twhile(ch<'0'||ch>'9') {if(ch=='-') f=-1; ch=getchar();}\n\twhile(ch>='0'&&ch<='9') {res=res*10+ch-'0'; ch=getchar();}\n\treturn res*f;\n}\nconst int mod=11380;\nint l1,l2,l3,d;\nint f[31][11][11][11];\nsigned main() {\n\tl1=read(); l2=read(); l3=read(); d=read();\n\tf[0][0][0][0]=1;\n\tfor(register int i=1;i<=d;++i) \n\t\tfor(register int j=0;j<=l1;++j)\n\t\t\tfor(register int k=0;k<=l2;++k)\n\t\t\t\tfor(register int l=0;l<=l3;++l) {\n\t\t\t\t\tif((j==0&&k==0)&&l==0) f[i][j][k][l]=1;\n\t\t\t\t\tfor(register int x=0;x<l;++x) \n\t\t\t\t\t\tf[i][j][k][l]=(f[i][j][k][l]+f[i-1][0][0][x]*f[i][j][k][l-1-x])%mod;\n\t\t\t\t\tfor(register int x=0;x<k;++x)\n\t\t\t\t\t\tfor(register int y=0;y<=l;++y)\n\t\t\t\t\t\t\tf[i][j][k][l]=(f[i][j][k][l]+f[i-1][0][x][y]*f[i][j][k-1-x][l-y])%mod;\n\t\t\t\t\tfor(register int x=0;x<j;++x)\n\t\t\t\t\t\tfor(register int y=0;y<=k;++y)\n\t\t\t\t\t\t\tfor(register int z=0;z<=l;++z)\n\t\t\t\t\t\t\t\tf[i][j][k][l]=(f[i][j][k][l]+f[i-1][x][y][z]*f[i][j-1-x][k-y][l-z])%mod;\n\t\t\t\t}\n\tif(d==0) printf(\"%d\\n\",f[d][l1][l2][l3]);//\u8981\u7279\u5224\u4e00\u4e0bd=0\u7684\u60c5\u51b5\n\telse printf(\"%d\\n\",(f[d][l1][l2][l3]-f[d-1][l1][l2][l3]+mod)%mod);\n\treturn 0;\n}\n```",
        "postTime": 1628226874,
        "uid": 149815,
        "name": "Isprime",
        "ccfLevel": 6,
        "title": "\u9898\u89e3P5694\u3010[NOI2001] \u9668\u77f3\u7684\u79d8\u5bc6\u3011"
    }
]