[
    {
        "content": "\u9996\u5148\u4e0d\u96be\u53d1\u73b0\u8fd9\u4e2a\u9898\u6ee1\u8db3\u7b54\u6848\u5355\u8c03\u6027   \n\u73b0\u5728\u8003\u8651 $\\text{check}$ \u4e00\u4e2a\u7b54\u6848 $x$    \n\u5982\u679c\u6211\u4eec\u9009\u5b9a\u4e86\u503c\u57df\u533a\u95f4\u7684\u5de6\u7aef\u70b9\uff0c\u90a3\u4e48\u53f3\u7aef\u70b9\u5c31\u53ef\u4ee5\u5f88\u7b80\u5355\u7684\u786e\u5b9a    \n\u5728\u8fd9\u4e2a\u57fa\u7840\u4e0a\uff0c $a_i$ \u5728\u9009\u5b9a\u8303\u56f4\u5185\u7684\u5361\u724c\u5c31\u4e0d\u7528\u7ffb\u4e86   \n\u6240\u4ee5\u5176\u4ed6\u7684\u5361\u724c\u5c31\u9700\u8981\u8fdb\u884c\u7ffb\u9762\uff0c\u5e76\u4e14\u5bf9\u5e94\u7684 $b$ \u503c\u5fc5\u987b\u5728\u9009\u5b9a\u7684\u8303\u56f4\u5185\uff0c\u5426\u5219\u8df3\u8fc7       \n\u6240\u4ee5\u73b0\u5728\u53d8\u6210\u4e86\u67e5\u8be2 $b_i$ \u7684\u524d\u540e\u7f00 $\\text{RMQ}$    \n\u603b\u590d\u6742\u5ea6\u662f $O(nlogn)$ \u7684\uff0c $\\text{i5-4590@3.3GHz}$ \u53ef\u4ee5\u505a\u5230 $\\text{1s}$ ",
        "postTime": 1618047332,
        "uid": 117771,
        "name": "intel_core",
        "ccfLevel": 7,
        "title": "\u5361\u724c\u6e38\u620f \u9898\u89e3"
    },
    {
        "content": "~~\u6765\u81ea\u4e00\u4e2a\u8003\u573a\u4e0a\u88ab\u81ea\u5df1\u4e00\u987f\u9634\u95f4\u64cd\u4f5c\u628aD1T1\u6b63\u89e3\u6587\u4ef6\u641e\u6ca1\u4e86\u7684sb~~\n\n\u63d0\u4f9b\u601d\u8def\uff0c\u4e0d\u4e00\u5b9a\u6b63\u786e\uff0c\u6b22\u8fce\u5404\u5927\u4f6chack\uff08~~\u4f46\u662f\u8fc7\u4e86\u6c11\u95f4\u6570\u636e~~\n\n\u5bf9\u6240\u6709\u7684\u503c\u6309\u5927\u5c0f\u6392\u5e8f\uff0c\u4e0d\u8bba $a$ \u9762 $b$ \u9762\n\n\u8bb0\u5f55\u6bcf\u4e2a\u503c\u5bf9\u5e94\u662f $a$ \u9762\u6216\u8005 $b$ \u9762\n\n\u4e8e\u662f\u73b0\u5728\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u957f\u5ea6\u4e3a $2N$ \u7684\u5e8f\u5217\u3002\n\n\u663e\u7136\u6211\u4eec\u7684\u7b54\u6848\u5c31\u662f\u8fd9\u4e2a\u5e8f\u5217\u7684\u67d0\u4e2a\u5b50\u5e8f\u5217\u4e24\u7aef\u7684\u5dee\u503c\n\n\u5177\u4f53\u6c42\u53ef\u4ee5\u7528\u53cc\u6307\u9488\u2014\u2014\u6211\u4eec\u53ef\u4ee5\u5220\u9664\u524d\u9762\u4e00\u6bb5\u548c\u540e\u9762\u4e00\u6bb5\uff0c\u8981\u6c42\u662f\n\n- \u5220\u9664\u7684 $a$ \u9762\u603b\u6570\u4e0d\u80fd\u8d85\u8fc7\u8981\u6c42\n\n- \u4e0d\u80fd\u540c\u65f6\u5220\u9664\u540c\u4e00\u5f20\u5361\u7684\u4e24\u9762\n\n\u5bf9\u4e8e\u7b2c\u4e00\u6761\u5c31\u62ff\u4e2a\u53d8\u91cf\u52a8\u6001\u8bb0\u5f55\u4e00\u4e0b\u5220\u4e86\u591a\u5c11\u4e2a\u5c31\u597d\n\n\u7b2c\u4e8c\u6761\u5f00\u4e2a\u6876\u7ef4\u62a4\u5c31\u597d\n\n\u603b\u65f6\u95f4\u590d\u6742\u5ea6$O(N\\log N)$\uff0c\u74f6\u9888\u5728\u6392\u5e8f\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nstruct hehe{\n\tlong long a, num;\n\tint op;\n\tbool operator < (hehe b) const\n\t{\n\t\treturn a < b.a;\n\t}\n}a[2000001];\nbool used[2000001];\nint main()\n{\n\t// freopen(\"card3.in\", \"r\", stdin);\n\tint n, k;\n\tcin >> n >> k;\n\tfor(int i = 1; i <= n; i++)\n\t{\n\t\tscanf(\"%d\", &a[i].a);\n\t\ta[i].num = i;\n\t\ta[i].op = 1;\n\t}\n\tfor(int i = 1; i <= n; i++)\n\t{\n\t\tscanf(\"%d\", &a[n + i].a);\n\t\ta[i + n].num = i;\n\t\ta[i].op = 1;\n\t}\n\tsort(a + 1, a + n * 2 + 1);\n\tint l = 0, r = n * 2 + 1, now = 0;\n\twhile(!used[a[l + 1].num] && now + a[l + 1].op <= k) now += a[l + 1].op, used[a[l + 1].num] = 1, l++;\n\twhile(!used[a[r - 1].num] && now + a[r - 1].op <= k) now += a[r - 1].op, used[a[r - 1].num] = 1, r--;\n\tlong long ans = 1000000000000;\n\twhile(l >= 0)\n\t{\n\t\tans = min(a[r - 1].a - a[l + 1].a, ans);\n\t\tused[a[l].num] = 0;\n\t\tnow -= a[l].op;\n\t\tl--;\n\t\twhile(!used[a[r - 1].num] && now + a[r - 1].op <= k) now += a[r - 1].op, used[a[r - 1].num] = 1, r--;\n\n\t}\n\tcout << ans << endl;\n}\n\n```\n\n~~\u788e\u788e\u5ff5\uff1a\u4eb2\u624b\u628a\u81ea\u5df1\u9001\u51fa\u7701\u961f\uff0c\u6211\u73b0\u5728\u5fc3\u6001\u826f\u597d~~",
        "postTime": 1618231955,
        "uid": 75954,
        "name": "AuCloud",
        "ccfLevel": 7,
        "title": "\u9898\u89e3P7514"
    },
    {
        "content": "\u63d0\u4f9b\u4e00\u4e2a\u7ebf\u6027\u505a\u6cd5\uff08p.s. \u4e0d\u4fdd\u8bc1\u4e0d fst\uff0c\u5373\u4e0d\u4fdd\u8bc1\u6b63\u786e\u6027\uff08\n\n\u5bb9\u6613\u53d1\u73b0\u7ffb\u8f6c\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a\u524d\u7f00\u52a0\u4e00\u4e2a\u540e\u7f00\uff0c\u800c\u4e14\u5728\u524d\u7f00\u4e2d\u5982\u679c\u5b58\u5728 $a_i>b_i$ \u6216\u5728\u540e\u7f00\u4e2d\u5b58\u5728 $a_i<b_i$ \u5219\u4e00\u5b9a\u4e0d\u4f18\u3002\n\n\u4e8e\u662f\u5047\u8bbe\u524d\u7f00\u7ffb\u8f6c\u5230\u4e86 $i$\uff0c\u540e\u7f00\u7ffb\u8f6c\u5230\u4e86 $j$\u3002\u7279\u5224 $m=n$ \u7684\u60c5\u51b5\uff0c\u5219\u7b54\u6848\u5c31\u662f\n$$\n\\max\\{a_{j-1},\\max(b_1,b_2,\\cdots,b_i),\\max(b_j,b_{j+1},\\cdots,b_n)\\}-\\min\\{a_{i+1},\\min(b_1,b_2,\\cdots,b_i),\\min(b_{j},b_{j+1},\\cdots,b_n)\\}\n$$\n\u4e0d\u59a8\u4ee4 \n$$\nl_i=\\min\\{a_{i+1},\\min(b_1,b_2,\\cdots,b_i)\\}\n$$\n$$\nr_i=\\max(b_1,b_2,\\cdots,b_i)\n$$\n$$\nl'_i=\\min(b_j,b_{j+1},\\cdots,b_n)\\ (j=n-i+1)\n$$\n$$\nr'_i=\\max\\{a_{j-1},,\\max(b_j,b_{j+1},\\cdots,b_n)\\}\\ (j=n-i+1)\n$$\n\u5219\u95ee\u9898\u53ef\u4ee5\u8f6c\u5316\u6210\u6c42\u51fa\n$$\n\\min\\{\\max(r_i,r'_j)-\\min(l_i,l_j')\\ |\\ i+j\\le m\\}\n$$\n\u6ce8\u610f\u5230 $r$ \u5355\u8c03\u4e0d\u51cf\uff0c\u56e0\u6b64\u5bf9\u4e8e\u67d0\u4e2a $i$\uff0c\u5982\u679c\u5b58\u5728 $j<i$ \u4f7f\u5f97 $l_j>l_i$\uff0c\u5219\u9009 $j$ \u4e00\u5b9a\u6bd4\u9009 $i$ \u4f18\u3002\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u53ea\u53d6 $l$ \u7684\u524d\u7f00\u6700\u5927\u503c\uff0c\u4f7f\u5f97 $l$ \u4e5f\u5355\u8c03\u4e0d\u51cf\u3002\n\n\u540c\u7406\u53ef\u4ee5\u5f97\u5230 $l',r'$ \u5355\u8c03\u4e0d\u589e\u3002\n\n\u4e0d\u59a8\u4ece\u5c0f\u5230\u5927\u679a\u4e3e $[l_i,r_i]$\u3002\u6ce8\u610f\u5230\u5f88\u5f3a\u7684\u5355\u8c03\u6027\uff0c\u9664\u53bb\u4e24\u533a\u95f4\u5f62\u6210\u5305\u542b\u5173\u7cfb\u7684\u60c5\u51b5\uff0c\u4e00\u5b9a\u662f\u53d6\u6700\u5927\u7684 $r'_j\\le r_i$ \u6216\u8005\u6700\u5c0f\u7684 $l'_j\\ge l_i$\uff0c\u6ce8\u610f\u5230\u8fd9\u4e9b\u7aef\u70b9\u4e5f\u90fd\u662f\u5355\u8c03\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u6307\u9488\u626b\u3002\u533a\u95f4\u5305\u542b\u7684\u60c5\u51b5\u53ef\u4ee5\u518d\u5904\u7406\u4e00\u904d $l',r'$ \u89e3\u51b3\u3002  \n\n",
        "postTime": 1618035224,
        "uid": 100101,
        "name": "yzc2005",
        "ccfLevel": 9,
        "title": "P7514"
    },
    {
        "content": "**UPD\uff1a\u611f\u8c22 @[A_OI](https://www.luogu.com.cn/user/157781) \u63d0\u4f9b\u7684\u4e24\u7ec4 hack\uff0c\u5df2\u4fee\u590d\u7a0b\u5e8f\u4e2d\u7684\u7ec6\u8282\u95ee\u9898\u3002**\n\n\u6765\u53d1\u4e00\u4e2a\u975e\u5e38\u597d\u60f3\u4f46\u662f\u6709\u4e00\u70b9\u7ec6\u8282\u7684\u9898\u89e3\u3002\n\n\u9996\u5148\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u5982\u679c\u5e8f\u5217\u6309 $a$ \u5347\u5e8f\u6392\u5217\uff0c\u90a3\u4e48\u7ffb\u8f6c\u7684\u6570\u7ec4\u4e00\u5b9a\u53ea\u4f1a\u662f\u6700\u524d\u8fb9\u7684\u4e00\u6bb5\u548c\u6700\u540e\u9762\u7684\u4e00\u6bb5\u3002  \n\u8bbe $1-i,j-n$ \u88ab\u7ffb\u8f6c\uff08$i<j$\uff09\uff0c\u90a3\u4e48\u7b54\u6848\u5373\u4e3a\uff1a\n$$max(a_{j-1},max_b)-min(a_{i+1},min_b)$$\n\n\u56e0\u4e3a\u8fd9\u662f\u4e24\u4e2a\u9650\u5236\uff0c\u4e0d\u662f\u5f88\u597d\u505a\uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651\u679a\u4e3e\u524d\u9762\u7684\u4e00\u6bb5\u7ffb\u8f6c\u4e86\u591a\u957f\u3002  \n\u4e0d\u59a8\u679a\u4e3e $i$\uff0c\u6211\u4eec\u8bbe\uff1a\n$$mn(i)=min(b_{i-n}),mx(i)=max(b_{i-n})$$\n$$MAXB=max_{b_{1-i}},MINB=min(a_{i+1},min_{b_{1-i}})$$\n\n\u8003\u8651\u5bf9\u4e8e\u6240\u6709\u7684\u5408\u6cd5 $j$\uff0c\u7ef4\u62a4\u7b54\u6848\u6700\u5927\u503c\u3002  \n\u7b54\u6848\u7684\u6784\u6210\u662f\u4e00\u4e2a\u6700\u5927\u503c\u51cf\u4e00\u4e2a\u6700\u5c0f\u503c\u7684\u5f62\u5f0f\uff0c\u6211\u4eec\u4e0d\u59a8\u5148\u4e0d\u7ba1\u6700\u5c0f\u503c\uff0c\u8003\u8651\u6700\u5927\u503c\u7684\u6781\u503c\u3002  \n\u7b80\u5316\u7b54\u6848\u8868\u8fbe\u5f0f\uff0c\u6211\u4eec\u6709\uff1a\n$$max(a_{j-1},MAXB,mx(j))-min(MINB,mn(j))$$\n\n\u663e\u7136\u53ef\u4ee5\u89c2\u5bdf\u5230\uff0c\u5bf9\u4e8e $mx$ \u6765\u8bf4\uff0c\u5176\u4e3a\u9012\u51cf\u51fd\u6570\uff0c\u5bf9\u4e8e $a$\uff0c\u5176\u4e3a\u9012\u589e\u51fd\u6570\u3002\n\n\u90a3\u4e48\u5b83\u4eec\u4e00\u5b9a\u6784\u6210\u5982\u4e0b\u60c5\u51b5\uff1a\n![](https://cdn.luogu.com.cn/upload/image_hosting/ues6i6lo.png)\n\u5176\u4e2d\u7ea2\u8272\u4e3a\u51f8\u58f3\u90e8\u5206\uff08\u4e5f\u5c31\u662f\u6700\u4f18\u89e3\uff09\u3002\n\n\u8003\u8651\u7528 $MAXB$ \u7684\u7ebf\u53bb\u622a\u8fd9\u4e2a\u56fe\u5f62\uff0c\u6709\u4e24\u79cd\u53ef\u80fd\u3002\n\n\u7b2c\u4e00\u79cd\uff0c\u5728\u4ea4\u70b9\u4e0b\u9762\u3002\n![](https://cdn.luogu.com.cn/upload/image_hosting/uol7b21q.png)\n\u90a3\u4e48\u51f8\u58f3\u6ca1\u6709\u53d8\u5316\u3002\n\n\u7b2c\u4e8c\u79cd\uff0c\u5728\u4ea4\u70b9\u4e0a\u9762\u3002\n![](https://cdn.luogu.com.cn/upload/image_hosting/z6vemc48.png)\n\u6b64\u65f6\u591a\u51fa\u4e86\u4e00\u6bb5\u3002\n\n\u603b\u7ed3\u4e00\u4e0b\uff0c\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\n1. \u6700\u5927\u503c\u4e0e $j$ \u7684\u53d6\u503c\u65e0\u5173\uff0c\u4e3a $MAXB$ \u3002\u4f53\u73b0\u5728\u56fe\u4e2d\u5c31\u662f\u7b2c\u4e8c\u79cd\u60c5\u51b5\u7684\u6a2a\u7ebf\u90e8\u5206\u3002\n2. \u6700\u5927\u503c\u4e0e $j$ \u7684\u53d6\u503c\u6709\u5173\uff0c\u4e3a $max(a_{j-1},mx(j))$\u3002\u4f53\u73b0\u5728\u56fe\u4e2d\u5c31\u662f\u4e24\u79cd\u659c\u7ebf\u6761\u3002\n\n\u540c\u7406\u6700\u5c0f\u503c\u4e5f\u6709\u4e24\u79cd\u60c5\u51b5\u3002\n1. \u65e0\u5173\uff0c\u4e3a $MINB$\u3002\n2. \u6709\u5173\uff0c\u4e3a $mn(j)$\u3002\n\n\u90a3\u4e48\u5bf9\u8fd9\u56db\u79cd\u60c5\u51b5\u5206\u7c7b\u8ba8\u8bba\u5373\u53ef\u3002\n\n\u56e0\u4e3a\u6709\u533a\u95f4 $max/min$\uff0c\u6240\u4ee5\u8fd8\u5f97\u7528\u4e00\u4e2a $ST$ \u8868\u3002  \n\u5177\u4f53\u5730\uff0c\u6211\u4eec\u7ef4\u62a4\uff1a\n1. $max(a_{j-1},mx(j))$ \u7684\u6700\u5c0f\u503c\u3002\n2. $max(a_{j-1},mx(j))-mn(j)$ \u7684\u6700\u5c0f\u503c\u3002\n\n\u518d\u7528 $lower\\_bound$ \u51fd\u6570\u6c42\u51fa\u51e0\u4e2a\u8f6c\u6298\u70b9\u7684\u4f4d\u7f6e\uff0c\u5373\u53ef\u901a\u8fc7\u6b64\u9898\u3002\n\u56e0\u4e3a\u4f7f\u7528\u7684\u6570\u636e\u7ed3\u6784\u548c\u7b97\u6cd5\u6bd4\u8f83\u7b80\u5355\uff0c\u6240\u4ee5\u662f\u5c0f\u5e38\u6570 $O(n\\cdot logn)$\u3002\n\n\u7ec6\u8282\u6709\u4e00\u70b9\u591a\uff0c~~\u7701\u9009\u7684\u65f6\u5019\u591a\u4e8f CQ \u5730\u533a\u505c\u7535 20 \u5206\u949f\u8ba9\u6211\u5728\u8349\u7a3f\u7eb8\u4e0a\u7406\u6e05\u4e86\u601d\u8def~~\u3002\n\n\u9644\u4e0a\u6709\u70b9\u4e11\u7684\u8003\u573a\u4ee3\u7801\uff08\u597d\u50cf\u6211\u8fd8\u662f\u624b\u5199\u7684\u4e8c\u5206\uff09\u3002\n\n\u603b\u4f53\u5c31\u8fd9\u4e48\u591a\uff0c\u70b9\u4e2a\u8d5e\u518d\u8d70\u5427\u3002\n\n\u53e6\uff1a\u9644\u4e0a hack \u6570\u636e\u67e5\u51fa\u7684\u7ec6\u8282\u9519\u8bef\u3002  \n\u4ee3\u7801\u4e2d `int px=erf(a,i+2,n,bmx);`\uff0c\u56e0\u4e3a\u5bf9\u4e8e $i$ \u6765\u8bf4\uff0c\u6211\u4eec\u53d6\u7684\u662f $a_{i-1}$\uff0c\u6240\u4ee5\u5e94\u8be5\u6539\u4e3a `int px=erf(a,i+1,n,bmx);`\u3002\n\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint read()\n{\n\tint s=0,w=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9') {if(ch=='-') w=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9') s=(s<<3)+(s<<1)+(ch^48),ch=getchar();\n\treturn s*w;\n}\nconst int maxn = 1000010;\nint erf(int*a,int l,int r,int vl)\n{\n\tint mid,ans=r+1;\n\twhile(l<=r)\n\t{\n\t\tif(a[mid=l+r>>1]>vl) r=(ans=mid)-1;\n\t\telse l=mid+1;\n\t}\n\treturn ans;\n}\nint erfs(int*a,int l,int r,int vl)\n{\n\tint mid,ans=l-1;\n\twhile(l<=r)\n\t{\n\t\tif(a[mid=l+r>>1]>vl) l=(ans=mid)+1;\n\t\telse r=mid-1;\n\t}\n\treturn ans;\n}\nint n,m,a[maxn],b[maxn],mx[maxn],mn[maxn],ans;\nint fa[21][maxn],fa2[21][maxn];\nint tt,Lg[maxn],pw[maxn];\nint askmax(int x,int y)\n{\n\ttt=Lg[y-x+1];\n\treturn min(fa[tt][x],fa[tt][y-pw[tt]+1]);\n}\nint askdel(int x,int y)\n{\n\ttt=Lg[y-x+1];\n\treturn min(fa2[tt][x],fa2[tt][y-pw[tt]+1]);\n}\nvoid ST()\n{\n\tfor(int i=1;i<=n;i++) fa[0][i]=max(a[i-1],mx[i]);\n\tfor(int i=1;pw[i]<=n;i++)\n\t\tfor(int j=1;j+pw[i]<=n+1;j++) fa[i][j]=min(fa[i-1][j],fa[i-1][j+pw[i-1]]);\n\n\tfor(int i=1;i<=n;i++) fa2[0][i]=max(a[i-1],mx[i])-mn[i];\n\tfor(int i=1;pw[i]<=n;i++)\n\t\tfor(int j=1;j+pw[i]<=n+1;j++) fa2[i][j]=min(fa2[i-1][j],fa2[i-1][j+pw[i-1]]);\n}\nsigned main()\n{\n\tn=read(),m=read();\n\tpw[0]=1;for(int i=1;(pw[i]=pw[i-1]*2)<=n;i++);\n\tLg[0]=-1;for(int i=1;i<=n;i++) Lg[i]=Lg[i>>1]+1;\n\tfor(int i=1;i<=n;i++) a[i]=read();\n\tfor(int i=1;i<=n;i++) b[i]=read();\n\tmx[n+1]=0,mn[n+1]=0x3f3f3f3f;\n\tfor(int i=n;i;i--) mx[i]=max(b[i],mx[i+1]),\n\t\t\t\t\t   mn[i]=min(b[i],mn[i+1]);\n\ta[0]=0x3f3f3f3f;\n\tST();\n\tans=a[n]-a[1];\n\tif(n==m) ans=min(ans,mx[1]-mn[1]);\n\tfor(int i=0,bmx=0,bmnn=0x3f3f3f3f,lft;i<=m;i++)\n\t{\n\t\tlft=n-(m-i)+1;\n\t\tif(i) bmx=max(bmx,b[i]);\n\t\tif(i) bmnn=min(bmnn,b[i]);\n\t\tint bmn=min(bmnn,a[i+1]);\n\t\tans=min(ans,max(bmx,a[n])-bmn);\n\t\tint px=erf(a,i+1,n,bmx);//px+1\u4ee5\u53ca\u540e\u9762\u7684\u90fd\u662fai\u66f4\u5927 \n\t\tint vx=erfs(mx,i+2,n,bmx);//vx\u4ee5\u53ca\u4ee5\u524d\u7684\u90fd\u662fmxi\u66f4\u5927 \n\t\tint pn=erf(mn,i+2,n,bmn);//pn\u4ee5\u53ca\u4e4b\u540e\u90fd\u662fbmn\u66f4\u5927 \n\t\tint L,R;\n\t\tif(vx+1<=px)\n\t\t{\n\t\t\tL=vx+1,R=px;\n\t\t\tL=max(L,lft);\n\t\t\tif(L<=R)\n\t\t\t{\n\t\t\t\tif(pn<=R) ans=min(ans,bmx-bmn);\n\t\t\t\tif(L<pn) ans=min(ans,bmx-mn[min(pn-1,R)]);\n\t\t\t}\n\t\t\tL=i+2,R=vx;\n\t\t\tL=max(L,lft);\n\t\t\tif(L<=R)\n\t\t\t{\n\t\t\t\tif(pn<=R) ans=min(ans,askmax(max(pn,L),R)-bmn);\n\t\t\t\tif(L<pn) ans=min(ans,askdel(L,min(pn-1,R)));\n\t\t\t}\n\t\t\tL=px+1,R=n;\n\t\t\tL=max(L,lft);\n\t\t\tif(L<=R)\n\t\t\t{\n\t\t\t\tif(pn<=R) ans=min(ans,askmax(max(pn,L),R)-bmn);\n\t\t\t\tif(L<pn) ans=min(ans,askdel(L,min(pn-1,R)));\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tL=i+2,R=n;\n\t\t\tL=max(L,lft);\n\t\t\tif(L<=R)\n\t\t\t{\n\t\t\t\tif(pn<=R) ans=min(ans,askmax(max(pn,L),R)-bmn);\n\t\t\t\tif(L<pn) ans=min(ans,askdel(L,min(pn-1,R)));\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<'\\n';\n\treturn 0;\n}\n\n```",
        "postTime": 1618546259,
        "uid": 106182,
        "name": "KaisuoShutong",
        "ccfLevel": 0,
        "title": "P7514 [\u7701\u9009\u8054\u8003 2021 A/B \u5377] \u5361\u724c\u6e38\u620f \u9898\u89e3"
    },
    {
        "content": "\u6ca1\u53bb\u7701\u9009\u3002\n\n\u9996\u5148\u6211\u4e2a\u4eba\u611f\u89c9\u7ffb\u9762\u5bf9\u6781\u5dee\u7684\u5f71\u54cd\u5176\u5b9e\u4e0d\u597d\u5904\u7406\uff08\u53ef\u80fd\u662f\u6211\u6bd4\u8f83\u83dc\uff09\uff0c\u60f3\u5230\u6781\u5dee\u662f\u6700\u5927\u503c\u51cf\u6700\u5c0f\u503c\uff0c\u4e8e\u662f\u60f3\u5230\u628a\u6240\u6709 $a,b$ \u653e\u4e00\u8d77\u6392\u5e8f\u7136\u540e\u628a\u4e00\u79cd\u5408\u6cd5\u7684\u7ffb\u9762\u65b9\u6848\u8f6c\u5316\u6210\u6392\u5e8f\u540e\u7684\u4e00\u6bb5\u8fde\u7eed\u533a\u95f4\u3002\n\n\u8fde\u7eed\u533a\u95f4\u5c31\u5f88\u597d\u5904\u7406\u4e86\uff0c\u5fc5\u5b9a\u662f\u524d\u9762\u53bb\u6389\u4e00\u6bb5\u540e\u9762\u53bb\u6389\u4e00\u6bb5\uff0c\u5e76\u4e14\u53bb\u6389\u7684\u6570\u4e0d\u80fd\u6709\u8d85\u8fc7 $m$ \u4e2a\u5c5e\u4e8e A\uff0c\u4e5f\u4e0d\u80fd\u6709\u4e24\u4e2a\u5c5e\u4e8e\u540c\u4e00\u5f20\u724c\u3002\n\n\u5bb9\u6613\u53d1\u73b0\u5f53\u5408\u6cd5\u533a\u95f4\u7684\u5de6\u7aef\u70b9\u53f3\u79fb\u65f6\uff0c\u53f3\u7aef\u70b9\u4e0d\u53ef\u80fd\u5de6\u79fb\u3002\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528\u53cc\u6307\u9488\u7ef4\u62a4\u5de6\u53f3\u7aef\u70b9\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(n)$\u3002\u4f46\u662f\u7531\u4e8e\u6709\u6392\u5e8f\u7684\u5b58\u5728\uff0c\u6240\u4ee5\u603b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n\\log{n})$ \u7684\u3002\n\n\u975e\u5e38\u597d\u5199\uff0c\u8dd1\u5f97\u4e5f\u4e0d\u6162\u3002\n\nCode:\n```cpp\n#include<cstdio>\n#include<algorithm>\n#define rg register\nusing std::sort;\nstruct emt\n{\n\tint val,typ,num;\n}x[2000003];\ninline bool cmp(emt a,emt b)\n{\n\treturn a.val<b.val;\n}\nint n,m;\nint l,r;\nint ans=1e9,tms;\nint cnt[1000003];\nint main()\n{\n\tscanf(\" %d %d\",&n,&m);\n\tfor(rg int i=0;i<n;++i)scanf(\" %d\",&(x[i].val)),x[i].typ=1,x[i].num=i;\n\tfor(rg int i=0;i<n;++i)scanf(\" %d\",&(x[i+n].val)),x[i+n].typ=0,x[i+n].num=i;\n\tn<<=1,l=0,sort(x,x+n,cmp);\n\tfor(r=n-1;r>-1;--r)\n\t{\n\t\tif(cnt[x[r].num]||(tms==m&&x[r].typ))break;\n\t\t++cnt[x[r].num],tms+=x[r].typ;\n\t}\n\tfor(;l<n;++l)\n\t{\n\t\tif(x[r].val-x[l].val<ans)ans=x[r].val-x[l].val;\n\t\t++cnt[x[l].num],tms+=x[l].typ;\n\t\twhile(r<n&&(cnt[x[l].num]>1||tms>m))++r,--cnt[x[r].num],tms-=x[r].typ;\n\t\tif(r==n)break;\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1618715250,
        "uid": 59388,
        "name": "VinstaG173",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P7514 \u3010[\u7701\u9009\u8054\u8003 2021 A/B \u5377] \u5361\u724c\u6e38\u620f\u3011"
    },
    {
        "content": "# \u4e00\u4e2a $O(n)$ \u7684\u505a\u6cd5 \n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u56e0\u4e3a $a$ \u662f\u5355\u8c03\u9012\u589e\u7684\uff0c\u6240\u4ee5\u5bf9\u4e8e\u7b2c $i$ \u5f20\u724c\uff0c\u5982\u679c\u5b83\u524d\u9762\u6709\u6ca1\u7ffb\u7684\u724c\uff0c\u8fa3\u4e48\u6211\u4eec\u5373\u4f7f\u7ffb\u4e86\u5b83\uff0c\u5b83\u5bf9\u4e8e\u6700\u5c0f\u503c\u662f\u6ca1\u6709\u8d21\u732e\u7684\uff0c\u5177\u4f53\u5982\u4e0b\uff1a  \n\n1. \u5982\u679c $b_i>a_i$ \uff0c\u56e0\u4e3a\u4e00\u5b9a\u5b58\u5728 $j<i$ \u4f7f $a_j<a_i$ \uff0c\u6545\u6700\u5c0f\u503c\u4e0d\u53d8\u3002\n1. \u5982\u679c $b_i<a_i$ \uff0c\u6700\u5c0f\u503c\u4e0d\u589e\u53cd\u51cf\uff0c\u8fd9\u5bf9\u7b54\u6848\u65e0\u8d21\u732e\u3002\n\n\u7efc\u4e0a\uff0c\u82e5\u7ffb $a_i$ \u5bf9\u6700\u5c0f\u503c\u6709\u8d21\u732e\uff0c\u5f53\u4e14\u4ec5\u5f53\u7b2c $i$ \u5f20\u724c\u4e4b\u524d\u7684\u6240\u6709\u724c\u90fd\u7ffb\u8fc7\u3002  \n\u8fd9\u542f\u53d1\u4e86\u6211\u4eec\uff0c\u6211\u4eec\u53d1\u73b0\u53ef\u4ee5\u626b\u4e00\u904d\u6240\u6709\u5361\uff0c\u5f53\u6211\u4eec\u51b3\u5b9a\u7ffb\u724c $i$ \u6765\u66f4\u65b0**\u6700\u5c0f\u503c**\u65f6\uff08\u6b64\u65f6\u4e00\u5b9a\u662f $i$ \u4e4b\u524d\u7684\u724c\u90fd\u7ffb\u4e86\uff0c\u4e14 $b_i>a_i$ \uff09\uff0c\u6709\u4ee5\u4e0b\u60c5\u51b5\uff08\u4e0d\u59a8\u628a\u6700\u5c0f\u503c\u8bb0\u4e3a $l$ \uff0c\u6700\u5927\u503c\u8bb0\u4e3a $r$ \uff09\uff1a\n\n1. \u82e5 $b_i<r$ \u8bf4\u660e\u7ffb\u540e\u53ea\u9700\u66f4\u65b0 $l$ \uff0c $l$ \u66f4\u65b0\u4e3a $b_i$ \u3001 $a_{i+1}$ \u3001\u4ee5\u53ca $i$ \u4e4b\u524d\u7684\u6240\u6709\u724c\uff08\u6ce8\u610f\u5b83\u4eec\u5df2\u7ffb\u8fc7\u4e86\uff09\u4e2d\u7684\u6700\u5c0f\u503c\u3002\n1. \u82e5 $b_i>r$ \u6b64\u65f6**\u53ef\u80fd**\u9700\u8981\u540c\u65f6\u66f4\u65b0 $r$ \u548c $l$ \uff0c\u6211\u4eec\u5148\u5224\u65ad\u66f4\u65b0\u540e\u7b54\u6848\u662f\u5426\u66f4\u4f18\uff0c\u82e5\u662f\uff0c\u5219\u66f4\u65b0 $r$ \u4e3a $b_i$ \uff0c $l$ \u4e3a $a_{i+1}$ \u3001\u4ee5\u53ca $i$ \u4e4b\u524d\u7684\u6240\u6709\u724c\uff08\u6ce8\u610f\u5b83\u4eec\u5df2\u7ffb\u8fc7\u4e86\uff09\u4e2d\u7684\u6700\u5c0f\u503c\u3002\n\n\u540c\u7406\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u540c\u6837\u7684\u65b9\u6cd5\u66f4\u65b0**\u6700\u5927\u503c**\u3002\u4f46\u9700\u8981\u6ce8\u610f\uff0c\u7ffb\u724c\u6b21\u6570\u662f\u6709\u9650\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5e94**\u540c\u65f6**\u8ba1\u7b97\u6700\u5927\u548c\u6700\u5c0f\uff0c\u6bcf\u6b21\u9009\u53d6\u5176\u66f4\u4f18\u7684\u66f4\u65b0\uff08\u672c\u4eba\u662f\u7528\u5934\u5c3e\u6307\u9488\u5b8c\u6210\u7684\uff09\uff0c\u5f53\u5934\u5c3e\u6307\u9488\u975e\u6cd5\uff08\u5934\u5927\u4e8e\u5c3e\uff09\u6216\u7ffb\u724c\u6b21\u6570\u7528\u5c3d\u65f6\u505c\u6b62\u3002  \n\u800c\u8fd8\u6709\u4e00\u4e2a\u4f18\u5316\u662f\uff0c\u7528\u4e00\u4e2a $minn$ \u6765\u50a8\u5b58**\u5f53\u524d\u8282\u70b9\uff08\u5934\u6307\u9488\uff09\u4e4b\u524d\u7684\u6240\u6709\u724c\u7684\u80cc\u9762\u7684\u6700\u5c0f\u503c**\uff08\u56e0\u4e3a $minn$ \u662f\u7528\u6765\u66f4\u65b0\u5f53\u524d\u8282\u70b9\uff0c\u800c\u5f53\u524d\u8282\u70b9\u4f1a\u66f4\u65b0\uff0c\u5373\u7ffb\u9762\uff0c\u7684\u524d\u63d0\u662f\u4e4b\u524d\u7684\u6240\u6709\u724c\u90fd\u7ffb\u9762\uff09\uff0c\u540c\u7406\u7528 $maxn$ \u6765\u50a8\u5b58**\u5f53\u524d\u8282\u70b9\uff08\u5c3e\u6307\u9488\uff09\u4e4b\u540e\u7684\u6240\u6709\u724c\u7684\u80cc\u9762\u7684\u6700\u5927\u503c**\uff0c\u8fd9\u6837\u8ba1\u7b97\u65f6\u5c31\u4e0d\u5fc5\u518d\u626b\u63cf\uff0c\u53ea\u9700\u5728\u6700\u540e\u505a\u51fa\u51b3\u7b56\uff08\u66f4\u65b0\u6700\u5927\u8fd8\u662f\u66f4\u65b0\u6700\u5c0f\uff09\u65f6\u540c\u65f6\u66f4\u65b0\u5bf9\u5e94\u7684 $maxn$ \u6216 $minn$ \u5c31\u597d\u4e86\u3002  \n\u6700\u7ec8\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n)$ \u3002  \n\u8d34\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cmath>\n#include<cstring>\n#include<cstdio>\n#include<cstdlib>\n#include<algorithm>\nusing namespace std;\nconst int N=1e6+5;\nint n,m;\nint a[N],b[N];\nint minn,maxn;\nint l,r,l2,r2,l3,r3,h,t;\t\t//l\uff1a\u6700\u5c0f\u503c\uff0c r\uff1a\u6700\u5927\u503c\n\t\t\t\t\t\t\t\t//l2\u3001r2\uff1a\u66f4\u65b0\u6700\u5c0f\u503c\u7684\u60c5\u51b5\u4e0bl\u548cr\u7684\u503c\n\t\t\t\t\t\t\t\t//l3\u3001r3\uff1a\u66f4\u65b0\u6700\u5927\u503c\u7684\u60c5\u51b5\u4e0bl\u548cr\u7684\u503c\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;++i) scanf(\"%d\",&a[i]);\n\tfor(int i=1;i<=n;++i) scanf(\"%d\",&b[i]);\n\tl=a[1],r=a[n];\n\tminn=1e9,maxn=-1e9;\t\t//\u521d\u59cb\u65f6\u7b2c1\u5f20\u724c\u524d\u6ca1\u724c\uff0cminn=INF\n\t\t\t\t\t\t\t//\u7b2cn\u5f20\u724c\u540e\u6ca1\u724c\uff0cmaxn=-INF \n\th=1,t=n;\n\twhile(h<t&&m>0){\n\t\tl2=l,r2=r;\n\t\tl3=l,r3=r;\n\t\tm--;\n\t\tif(a[h]==l&&b[h]>a[h]){\n\t\t\tif(b[h]<r)\n\t\t\t\tl2=min(min(b[h],minn),a[h+1]);\n\t\t\telse if(b[h]-min(minn,a[h+1])<r-l) l2=min(minn,a[h+1]),r2=b[h];\n\t\t}\n\t\tif(a[t]==r&&b[t]<a[t]){\n\t\t\tif(b[t]>l) \n\t\t\t\tr3=max(max(b[t],maxn),a[t-1]);\n\t\t\telse if(max(maxn,a[t-1])-b[t]<r-l) r3=max(maxn,a[t-1]),l3=b[t];\n\t\t}\n\t\tif(r2-l2<r3-l3){\n\t\t\tminn=min(minn,b[h]);\n\t\t\th++;\n\t\t\tr=r2,l=l2;\n\t\t}\n\t\telse{\n\t\t\tmaxn=max(maxn,b[t]);\n\t\t\tt--;\n\t\t\tr=r3,l=l3;\n\t\t}\n\t}\n\tprintf(\"%d\",r-l);\n    return 0;\n}\n```\n\n\n------------\n\u5199\u5728\u6700\u540e\uff1a\u672c\u4eba\u7070\u5e38\u5f31\u9e21\uff0c\u5982\u679c\u6709\u8bf4\u7684\u4e0d\u5bf9\u7684\u5730\u65b9\u8fd8\u8bf7\u6307\u51fa\uff0c\u4e0d\u80dc\u611f\u6fc0\uff01",
        "postTime": 1618734372,
        "uid": 141393,
        "name": "Dyd\u672c\u4eba",
        "ccfLevel": 0,
        "title": "P7514"
    },
    {
        "content": "\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u81ea\u7136\u5c31\u60f3\u5230\u53cc\u6307\u9488 \u3002\n\n\u90a3\u4e48\u5c31\u5c06 $a$ \u548c $b$ \u6570\u7ec4\u5408\u5e76\u4e3a $c$ \u540e\u6392\u4e00\u4e2a\u5e8f \u3002\n\n\u518d\u5728 $c$ \u4e0a\u53cc\u6307\u9488 \u3002\n\n\u5982\u4f55\u5224\u65ad\u662f\u5426\u53ef\u4ee5\u5728\u7ffb\u4e0d\u8d85\u8fc7 $m$ \u6b21\u4e0b\u662f\u6240\u6709\u7684\u724c\u4e0d\u8d85\u8fc7 $r$ \u4e0d\u5c0f\u4e8e $l$ \u3002\n\n\u53ef\u4ee5\u679a\u4e3e\u4e00\u904d\u5982\u679c\u6b63\u9762\u4e0d\u5728\u8303\u56f4\u5185\u5c31\u7ffb\uff0c\u5982\u679c\u7ffb\u4e86\u8fd8\u4e0d\u5728\u5c31\u4e0d\u53ef\u80fd\uff0c\u8bb0\u5f55\u7ffb\u7684\u6b21\u6570 \u3002\n\n\u8fd9\u79cd\u65b9\u6cd5\u662f $O(n^2)$ \u7684 \u3002\n\n\u7136\u540e\u56e0\u4e3a $a$ \u662f\u4e0d\u4e0b\u964d\u6570\u5217 \u3002\n\n\u6240\u4ee5\u7ffb\u7684\u4e00\u5b9a\u662f\u5de6\u8fb9\u4e00\u6bb5\u548c\u53f3\u8fb9\u4e00\u6bb5 \u3002\n\n\u4e8c\u5206\u627e\u5230\u6bb5\u957f \u3002\n\n\u518d\u770b\u4e24\u6bb5\u957f\u662f\u5426\u8d85\u8fc7 $m$ \u3002\n\n\u5e76\u4e14\u4e24\u7aef\u4e2d $b$ \u7684\u6700\u5927\u6700\u5c0f\u503c\u662f\u5426\u8d85\u8fc7\u4e86\u8303\u56f4 \u3002\n\n\u6240\u4ee5\u9884\u5904\u7406\u524d\u7f00\u540e\u7f00\u7684\u6700\u5927\u6700\u5c0f \u3002\n\n\u590d\u6742\u5ea6 $O(n\\log n)$ \u3002\n\n\u590d\u6742\u5ea6\u5728\u4e8e\u4e8c\u5206 \u3002\n\n```cpp\n#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <cctype>\n\n#define int long long\n\nusing namespace std;\n\nint n,m;\nint a[1000005];\nint b[1000005];\nint c[2000020];\n\nint big1[1000005],big2[1000005];\nint sml1[1000005],sml2[1000005];\n\nint read()\n{\n\tchar c=getchar();\n\tint x=0;\n\twhile(!isdigit(c))c=getchar();\n\twhile(isdigit(c))\n\t{\n\t\tx=x*10+c-'0';\n\t\tc=getchar();\n\t}\n\treturn x;\n}\n\nint check(int x,int y)\n{\n\tint minn,maxx;\n\tint l=0,r=n+1;\n\twhile(l+1<r)\n\t{\n\t\tint mid=(l+r)/2;\n\t\tif(a[mid]<x)l=mid;\n\t\telse r=mid;\n\t}\n\tminn=l;\n\tl=0,r=n+1;\n\twhile(l+1<r)\n\t{\n\t\tint mid=(l+r)/2;\n\t\tif(a[mid]<=y)l=mid;\n\t\telse r=mid;\n\t}\n\tmaxx=l;\n\tif(n-maxx+minn>m)return 0;\n\tif((big1[minn]>y||sml1[minn]<x)&&minn!=0)return 0;\n\tif((big2[maxx+1]>y||sml2[maxx+1]<x)&&maxx!=n)return 0;\n\treturn 1;\n}\n\nsigned main()\n{\n\tint i,j,k;\n\tcin>>n>>m;\n\ta[n+1]=99999999999;\n\tfor(i=1;i<=n;i++)cin>>a[i],c[i]=a[i];\n\tfor(i=1;i<=n;i++)cin>>b[i],c[i+n]=b[i];\n\tsml1[0]=9999999999;\n\tsml2[n+1]=9999999999;\n\tfor(i=1;i<=n;i++)sml1[i]=min(sml1[i-1],b[i]);\n\tfor(i=1;i<=n;i++)big1[i]=max(big1[i-1],b[i]);\n\tfor(i=n;i>0;i--)sml2[i]=min(sml2[i+1],b[i]);\n\tfor(i=n;i>0;i--)big2[i]=max(big2[i+1],b[i]);\n\tsort(c+1,c+2*n+1);\n\tint ans=9999999999;\n\tfor(i=1,j=1;i<=2*n,j<=2*n;)\n\t{\n\t\tif(check(c[i],c[j]))\n\t\t{\n\t\t\tans=min(c[j]-c[i],ans);\n\t\t\ti++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tj++;\n\t\t}\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n\n\n```\n\n",
        "postTime": 1618383986,
        "uid": 115359,
        "name": "phigy",
        "ccfLevel": 5,
        "title": "\u7701\u90092021 D1T1"
    },
    {
        "content": "\u63d0\u4f9b\u4e00\u4e2a\u4e0e\u5927\u5bb6\u90fd\u4e0d\u540c\u7684\u65b9\u6cd5\u3002\u5982\u679c\u5047\u4e86\u8bf7\u63d0\u51faqwq\u3002\n\n2021\u8054\u5408\u7701\u9009D1T1\n\n\u5148\u679a\u4e3e\u4e00\u4e0b\u6700\u5c0f\u503c\u5728\u54ea\u4e2a\u4f4d\u7f6e\uff0c\u6709\u6ca1\u6709\u7ffb\u3002\n\n\u5148\u8003\u8651\u6ca1\u6709\u7ffb\uff0c\u7136\u540e\u5fc5\u7136\u5728\u5b83\u524d\u9762\u7684\u90fd\u9700\u8981\u7ffb\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u5b83\u662f\u6700\u5c0f\u503c\u518d\u7ef4\u62a4\u4e00\u4e2a\u524d\u7f00 $\\min$\u3002\u7136\u540e\u540e\u9762\u80af\u5b9a\u5c3d\u91cf\u8ba9\u5927\u7684\u7ffb\u3002\u5982\u679c\u540e\u9762\u4e00\u6bb5\u8fde\u7eed\u7684\u533a\u95f4\u7ffb\u4e86\u540e\u90fd\u5927\u4e8e\u5f53\u524d\u503c\uff0c\u5e76\u4e14\u6700\u5927\u503c\u4e0d\u4f1a\u53d8\u5927\uff08\u5373 $a_i>b_i$\uff09\uff0c\u5c31\u53ef\u4ee5\u7ffb\uff08\u8fd8\u6709\u4e00\u4e2a\u524d\u63d0\u662f\u53ef\u4ee5\u7ffb\u90a3\u4e48\u591a\u6b21\uff09\u3002\u5bb9\u6613\u53d1\u73b0\u8fd9\u6709\u5355\u8c03\u6027\uff0c\u4e8e\u662f\u53ef\u4ee5\u4e8c\u5206\u3002\n\n\u7136\u540e\u8003\u8651\u7ffb\u4e86\u3002\u5c31\u5148\u4e8c\u5206\u627e\u5230\u54ea\u4e2a\u524d\u7f00\u9700\u8981\u7ffb\u3002\n\n\u5982\u679c\u8fd9\u4e2a\u524d\u7f00\u5df2\u7ecf\u8d8a\u8fc7\u5f53\u524d\u4f4d\u7f6e\uff0c\u5728\u540e\u9762\u518d\u6309\u540c\u6837\u7684\u65b9\u6cd5\u4e8c\u5206\u4e00\u6bb5\u540e\u7f00\u5373\u53ef\u3002\u5982\u679c\u6ca1\u6709\u8d8a\u8fc7\uff0c\u628a\u540e\u9762\u5206\u6210\u4e24\u6bb5\uff0c\u5206\u522b\u4e8c\u5206\u3002\u7136\u540e\u53d1\u73b0\u76f4\u63a5\u7528\u540c\u6837\u7684\u65b9\u6cd5\u4e8c\u5206\u4e5f\u4e0d\u4f1a\u9519\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int MAXN = 1000005;\nconst int inf = 1e9;\ntemplate <typename T>\nvoid read(T &x) {\n    T flag = 1;\n    char ch = getchar();\n    for (; '0' > ch || ch > '9'; ch = getchar()) if (ch == '-') flag = -1;\n    for (x = 0; '0' <= ch && ch <= '9'; ch = getchar()) x = x * 10 + ch - '0';\n    x *= flag;\n}\nint n, m, a[MAXN], b[MAXN], ans = 1e9 + 1, pmnb[MAXN], pmxb[MAXN], smnb[MAXN], smxb[MAXN], check[MAXN];\nint Find(int l, int r, int x) {\n    int ret = 0;\n    while (l <= r) {\n        int mid = (l + r) >> 1;\n        if (a[mid] <= x) ret = mid, l = mid + 1;\n        else r = mid - 1;\n    }\n    return ret;\n}\nint main() {\n    read(n); read(m);\n    for (int i = 1; i <= n; i++) read(a[i]);\n    for (int i = 1; i <= n; i++) read(b[i]);\n\tpmnb[0] = smnb[n + 1] = inf + 1;\n    pmxb[0] = smxb[n + 1] = 0;\n    for (int i = 1; i <= n; i++) pmnb[i] = min(b[i], pmnb[i - 1]), pmxb[i] = max(b[i], pmxb[i - 1]);\n    for (int i = n; i >= 1; i--) smnb[i] = min(b[i], smnb[i + 1]), smxb[i] = max(b[i], smxb[i + 1]);\n    check[n + 1] = 1;\n    for (int i = n; i >= 1; i--) {\n    \tcheck[i] = check[i + 1];\n    \tif (a[i] < b[i]) check[i] = 0;\n\t}\n\tfor (int i = 1; i <= n; i++) {\n        if (a[i] < pmnb[i - 1] && i - 1 <= m) {\n            int now = m - (i - 1);\n            int l = max(n - now + 1, i + 1), r = n, res = n + 1;\n            while (l <= r) {\n                int mid = (l + r) >> 1;\n                if (smnb[mid] > a[i] && check[mid]) res = mid, r = mid - 1;\n                else l = mid + 1;\n            }\n            int mx = max(pmxb[i - 1], smxb[res]);\n            if (res > i + 1) mx = max(mx, a[res - 1]);\n            ans = min(ans, mx - a[i]);\n        }\n    }\n    for (int i = n; i >= 1; i--) {\n        int pos = Find(1, n, b[i]);\n        int now = m;\n        if (pos < i) now--;\n        if (b[i] <= pmnb[pos] && pos <= now) {\n            now -= pos;\n            int l = max(max(n - now + 1, pos + 1), i + 1), r = n, res = n + 1;\n            while (l <= r) {\n                int mid = (l + r) >> 1;\n                if (smnb[mid] > b[i] && check[mid]) res = mid, r = mid - 1;\n                else l = mid + 1;\n            }\n            int mx = max(pmxb[pos], smxb[res]);\n            if (res == i + 1 && pos < i && now >= n - i) {\n                now -= n - i;\n                l = max(pos + 1, i - now), r = i - 1, res = i;\n                while (l <= r) {\n                    int mid = (l + r) >> 1;\n                    if (smnb[mid] >= b[i] && check[mid]) res = mid, r = mid - 1;\n                    else l = mid + 1;\n                }\n                mx = max(mx, smxb[res]);\n                if (res > pos + 1) mx = max(mx, a[res - 1]);\n            } else {\n                if (res > pos + 1) {\n                \tif (res > i + 1) mx = max(mx, a[res - 1]);\n                \telse if (res - 1 == i * res - 2 > pos) mx = max(mx, a[res - 2]);\n                }\n            }\n            ans = min(ans, mx - b[i]);\n        }\n    }\n    printf(\"%d\\n\", ans);\n    return 0;\n}\n}",
        "postTime": 1618471083,
        "uid": 170894,
        "name": "_bestow",
        "ccfLevel": 0,
        "title": "[\u7701\u9009\u8054\u8003 2021 A/B \u5377] \u5361\u724c\u6e38\u620f"
    },
    {
        "content": "\u679a\u4e3e\u7ffb\u5b8c\u5361\u724c\u540e\u7684\u6700\u5c0f\u503c $min$ \uff0c\u5982\u679c\u5b58\u5728\u4e00\u4e2a $a_i,b_i<min$ \uff0c\u90a3\u4e48\u76f4\u63a5 break\uff0c\u5426\u5219\u5206 $a_i<b_i$ \u548c $a_i>b_i$ \u8ba8\u8bba\n\n$a_i<b_i$ \u5f53\u7136\u662f\u80fd\u4e0d\u7ffb\u5c31\u4e0d\u7ffb\uff0c\u90a3\u4e48\u641e\u4e2a\u80fd\u5220\u9664\u7684\u5806 $pq$ \u6765\u7ef4\u62a4\u8fd9\u4e9b\u7684 $\\max a_i$ \uff0c\u5f53 $a_i<min$ \u7684\u65f6\u5019\u8bf4\u660e\u8fd9\u4e2a\u5361\u724c\u5fc5\u987b\u7ffb\u4e86\uff0c\n\n\u90a3\u4e48\u5c31\u628a\u4ed6\u4ece\u5806\u4e2d\u5220\u4e86\uff0c\u7136\u540e $L=\\max\\{L,b_i\\}$ \uff0c $m\\leftarrow m-1$ \uff0c\u8fd9\u90e8\u5206\u5728 $min$ \u4e3a\u6700\u5c0f\u503c\u7684\u65f6\u5019\u6700\u5927\u503c\u4e3a $A=\\max \\{L,pq.top()\\}$\u3002\n\n$a_i>b_i$ \u90a3\u5f53\u7136\u662f\u5c3d\u91cf\u8ba9 $a_i$ \u5927\u7684\u7ffb\uff0c\u90a3\u4e48\u5c31\u4ee5 $a_i$ \u4e3a\u4e0b\u6807\u5efa\u7acb\u6743\u503c\u7ebf\u6bb5\u6811\uff0c\u7ef4\u62a4\u533a\u95f4 $\\max b_i$ \u548c\u6570\u7684\u4e2a\u6570\uff0c\u90a3\u4e48\u5c31\u662f\u4ece $10^9$ \u5f00\u59cb\u5f80\u524d $m$ \u4e2a\u53d6 $\\max b_i$ \uff0c\u5269\u4e0b\u7684\u90fd\u662f $a_i$  \uff0c\u8fd9\u4e24\u4e2a\u7684\u6700\u5927\u503c\u8bb0\u4e3a $trmax$ \uff0c\u5982\u679c\u51fa\u73b0 $b_i<min$ \u90a3\u4e48\u8bf4\u660e\u8fd9\u4e2a\u5361\u724c\u4e0d\u80fd\u7ffb\u8f6c\uff0c\n\n\u90a3\u5c31\u4ece\u7ebf\u6bb5\u6811\u4e2d\u5220\u4e86\u8fd9\u4e2a\u7136\u540e $R=\\max \\{R,a_i\\}$\uff0c\u8fd9\u90e8\u5206\u5728 $min$ \u4e3a\u6700\u5c0f\u503c\u7684\u65f6\u5019\u6700\u5927\u503c\u4e3a $B=\\max \\{R,trmax\\}$\u3002\n\n\u5982\u679c $m<0$ \u90a3\u4e48\u5c31 break\uff0c\u5426\u5219\u5c31 $ans\\leftarrow \\min\\{ans,\\max\\{A,B\\}-min\\}$\n\n\u7ebf\u6bb5\u6811\u90a3\u4e2a\u90e8\u5206\u4e0b\u6807\u53ef\u4ee5\u76f4\u63a5\u7528 $i$ \uff0c\u56e0\u4e3a\u4e92\u4e0d\u76f8\u540c\u7136\u540e\u9ed8\u8ba4\u6392\u597d\u5e8f\u4e86\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(n\\log n)$\uff0c\u5f00 O2 \u6d1b\u8c37\u6781\u9650\u6570\u636e\u4e0d\u5230 400ms \u5e38\u6570\u8d85\u7ea7\u5c0f\n\n\u8d85\u7ea7\u4e11\u7684\u8003\u573a\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define reg register\n#define MP std::make_pair\n#define ln std::putchar('\\n')\n#define lsp std::putchar(' ')\n#define pb push_back\n#define ALL(x) (x).begin(),(x).end()\n#define mem(x,y) memset(x,y,sizeof(x))\n#define dprintf(x...) fprintf(stderr,x)\ntemplate <class t> inline void read(t &s)\n{\n\ts=0;\n\treg char c=getchar();\n\twhile(c<'0'||c>'9')c=getchar();\n\twhile(c>='0'&&c<='9')s=(s<<3)+(s<<1)+(c^48),c=getchar();\n}\ntemplate <class t> inline void write(t x)\n{\n\tif(x<0)std::putchar('-'),x=-x;\n\tif(!x)return std::putchar('0'),void();\n\tstatic signed sta[50],top=0;\n\twhile(x)sta[++top]=(x%10),x/=10;\n\twhile(top)std::putchar(sta[top--]^48);\n}\ntemplate <class t> inline bool checkmin(t &x,t y){if(x>y)return x=y,1;return 0;}\ntemplate <class t> inline bool checkmax(t &x,t y){if(x<y)return x=y,1;return 0;}\ninline void setIn(std::string s){freopen(s.c_str(),\"r\",stdin);}\ninline void setOut(std::string s){freopen(s.c_str(),\"w\",stdout);}\ninline void setIO(std::string s){setIn(s+\".in\"),setOut(s+\".out\");}\ninline int lowbit(int x){return x&(-x);}\nconst int MaxN=1e6+50;\nstruct Node\n{\n\tint x,y,idx,nx;\n}a[MaxN],b[MaxN],d[MaxN];\nstruct MINVAL\n{\n\tint val;\n\tinline bool operator < (const MINVAL &nt) const\n\t{\n\t\treturn val<nt.val;\n\t}\n}valu[MaxN<<1];\nint n,m,top=0;\ninline bool cmp(const Node &a,const Node &b)\n{\n\treturn a.y<b.y;\n}\nint L,R;\nnamespace PQ\n{\n\tstruct PQN\n\t{\n\t\tint val,idx;\n\t\tinline bool operator < (const PQN &nt) const\n\t\t{\n\t\t\treturn nt.val>val;\n\t\t}\n\t};\n\tstd::priority_queue<PQN> Q,D;\n\tinline void insert(int idx)\n\t{\n\t\tQ.push((PQN){a[idx].x,idx});\n\t}\n\tinline void del(int idx)\n\t{\n\t\tD.push((PQN){a[idx].x,idx});\n\t\tcheckmax(R,a[idx].y),--m;\n\t\twhile(!Q.empty()&&!D.empty()&&Q.top().val==D.top().val)\n\t\t\tQ.pop(),D.pop();\n\t}\n\tinline int top()\n\t{\n\t\tif(!Q.empty())\n\t\t\treturn Q.top().val;\n\t\treturn 0;\n\t}\n}\nnamespace TR\n{\n\tint a[MaxN<<2],mxb[MaxN<<2],ndn,siz;\n\t#define lson (u<<1)\n\t#define rson (u<<1|1)\n\tinline void modify(int u,int l,int r,int p,int k,int b)\n\t{\n\t\ta[u]+=k;\n\t\tif(l==r)\n\t\t\treturn mxb[u]=b,void();\n\t\treg int mid=(l+r)>>1;\n\t\tp<=mid?modify(lson,l,mid,p,k,b):modify(rson,mid+1,r,p,k,b);\n\t\tmxb[u]=std::max(mxb[lson],mxb[rson]);\n\t}\n\tinline int kth(int u,int l,int r,int k)\n\t{\n\t\tif(l==r)\n\t\t\treturn l;\n\t\treg int mid=(l+r)>>1;\n\t\treturn k<=a[lson]?kth(lson,l,mid,k):kth(rson,mid+1,r,k-a[lson]);\n\t}\n\tinline int query(int u,int l,int r,int ql,int qr)\n\t{\n\t\tif(!u)return 0;\n\t\tif(ql<=l&&r<=qr)return mxb[u];\n\t\treg int mid=(l+r)>>1,res=0;\n\t\tif(ql<=mid)\n\t\t\tcheckmax(res,query(lson,l,mid,ql,qr));\n\t\tif(mid<qr)\n\t\t\tcheckmax(res,query(rson,mid+1,r,ql,qr));\n\t\treturn res;\n\t}\n\tinline void insert(int idx)\n\t{\n\t\t++siz;\n\t\tmodify(1,1,n,idx,+1,::a[idx].y);\n\t}\n\tinline void del(int idx)\n\t{\n\t\t--siz;\n\t\tmodify(1,1,n,idx,-1,0);\n\t\tcheckmax(L,::a[idx].x);\n\t}\n\tinline int query()\n\t{\n\t\tif(!siz)return 0;\n\t\treg int mx=0,p=siz-m+1;\n\t\tif(p<=1)\n\t\t\treturn mxb[1];\n\t\treg int now=kth(1,1,n,p-1);\n\t\tcheckmax(mx,::a[now].x);\n\t\tif(now<n)\n\t\t\tcheckmax(mx,query(1,1,n,now+1,n));\n\t\treturn mx;\n\t}\n}\nsigned main(void)\n{\n\tsetIO(\"card\");\n\t\n\tread(n),read(m);\n\tfor(int i=1;i<=n;++i)\n\t\tread(a[i].x),a[i].idx=i;\n\tfor(int i=1;i<=n;++i)\n\t\tread(a[i].y);\n\tfor(int i=1;i<=n;++i)\n\t\td[i]=b[i]=a[i];\n\tstd::sort(d+1,d+n+1,cmp);\n\treg int c=0;\n\tfor(int i=1;i<=n;++i)\n\t\tvalu[++c]=(MINVAL){a[i].x},valu[++c]=(MINVAL){a[i].y};\n\tstd::sort(valu+1,valu+c+1);\n\treg int minlim=1e9+1,ans=1e9+1;\n\tfor(int i=1;i<=n;++i)\n\t\tcheckmin(minlim,std::max(a[i].x,a[i].y));\n\tfor(int i=1;i<=n;++i)\n\t\tif(a[i].x>a[i].y)\n\t\t\tTR::insert(i);\n\t\telse\n\t\t\tPQ::insert(i);\n\treg int posa=0,posb=0;\n\tfor(int i=1;i<=c&&valu[i].val<=minlim;++i)\n\t{\n\t\treg int mn=valu[i].val;\n\t\twhile(posa<n&&d[posa+1].x<d[posa+1].y)++posa;\n\t\twhile(posb<n&&b[posb+1].x>b[posb+1].y)++posb;\n\t\twhile(posa<n&&d[posa+1].y<mn)++posa,TR::del(d[posa].idx);\n\t\twhile(posb<n&&b[posb+1].x<mn)++posb,PQ::del(b[posb].idx);\n\t\tif(m<0)\n\t\t\tbreak;\n\t\treg int res=std::max(L,R);\n\t\tcheckmax(res,PQ::top());\n\t\tcheckmax(res,TR::query());\n\t\tcheckmin(ans,res-mn);\n\t}\n//\tdprintf(\"answer %d\\n\",ans);\n\twrite(ans),ln;\n\treturn 0;\n}\n\n\n```\n",
        "postTime": 1618206924,
        "uid": 51376,
        "name": "MyukiyoMekya",
        "ccfLevel": 9,
        "title": "P7514 [\u7701\u9009\u8054\u8003 2021 A_B \u5377] \u5361\u724c\u6e38\u620f \u9898\u89e3"
    },
    {
        "content": "\u8bf4\u4e00\u4e0b\u6211\u5728\u8003\u573a\u4e0a\u5199\u7684\u601d\u8def\uff0c\u4e0d\u4e00\u5b9a\u6b63\u786e\u3002\n\n\u9996\u5148\uff0c\u6700\u4f18\u7b56\u7565\u4e00\u5b9a\u662f\u7ffb\u6309\u7167\u6b63\u9762\u6570\u5b57\u6b63\u5e8f\u6392\u5e8f\u540e\u7684\u524d\u540e\u7f00\u3002\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u53ef\u4ee5\u9884\u5904\u7406\u51fa\u53ea\u7ffb\u7b2c $1,1 \\sim 2,1\\sim3,\\cdots,1\\sim m$ \u5f20\u724c\uff08\u5373\u524d $m$ \u5f20\uff09\u7684\u6700\u5927\u6700\u5c0f\u503c $LMax(i),LMin(i)$\uff0c\u4ee5\u53ca\u53ea\u7ffb\u7b2c $n,n-1\\sim n,n -2\\sim n,\\cdots,n-m+1 \\sim n$ \u5f20\u724c\uff08\u5373\u540e $m$ \u5f20\u724c\uff09\u7684\u6700\u5927\u6700\u5c0f\u503c $RMax(i), RMin(i)$\u3002\u7279\u522b\u7684\uff0c$LMin(0)=RMin(n+1)=a_{1\\text{\u6b63\u9762}}, LMax(0)=RMax(n+1)=a_{n\\text{\u6b63\u9762}}$\u3002\u8fd9\u90e8\u5206\u53ef\u4ee5\u7528\u4e00\u4e2a set \u7ef4\u62a4\uff0c\u590d\u6742\u5ea6 $O(m\\log m)$\u3002\n\n\u7136\u540e\u679a\u4e3e $i,j$ \u8868\u793a\u7ffb\u524d $i$ \u5f20\u548c\u540e $j$ \u5f20\u3002\u6b64\u65f6\u7684\u6781\u5dee\n\n$$F(i,j)=\\begin{cases}RMax(j)-LMin(i)&LMax(i)=a_n \\wedge RMin(j)=a_1\\\\\\max\\{LMax(i),RMax(j)\\}-LMin(i)&LMax(i)\\ne a_n \\wedge RMin(j)=a_1\\\\RMax(j)-\\min\\{LMin(i),RMin(j)\\}&LMax(i)=a_n \\wedge RMin(j)\\ne a_1\\\\\\max\\{LMax(i),RMax(j)\\}-\\min\\{LMin(i),RMin(j)\\}&\\text{otherwise}\\end{cases}$$\n\n\u4f46\u662f\u8fd9\u6837\u505a\u7684\u590d\u6742\u5ea6\u4e3a $O(n^2 \\log n)$ \u592a\u9ad8\u4e86\u8fc7\u4e0d\u53bb\uff0c\u5fc5\u987b\u4f18\u5316\u4e00\u4e0b\u3002\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u79cd\u7c7b\u4f3c\u524d\u7f00\u548c\u7684\u65b9\u6cd5\u7ef4\u62a4 $RMax_i-RMin_i$ \u7684\u540e\u7f00\u6700\u5c0f\u503c\u7684\u4e0b\u6807 $P_i$\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u907f\u514d\u679a\u4e3e $j$\u3002\n\n\u4e0a\u9762\u53ef\u80fd\u6ca1\u8bf4\u6e05 $P_i$ \u7684\u610f\u601d\u3002$P_i$ \u4e3a\u6ee1\u8db3 $\\min_{j=i}^n\\{RMax(j)-RMin(j)\\}=RMax(P_i)-RMin(P_i)$ \u6761\u4ef6\u7684\u6700\u5927\u503c\u3002\n\n\u6b64\u65f6\u7684\u7b54\u6848\u4e3a\uff1a\n\n$$\\begin{aligned}\\min\\limits_{i=0}^m&\\{F(i,P_{i+1+n-m})\\}\\end{aligned}$$\n\n\u603b\u590d\u6742\u5ea6 $O((m+n) \\log m)$\uff0c\u5e38\u6570\u6709\u70b9\u5927\uff0c\u4e0d\u8fc7\u5f00\u4e86 O2 \u5e94\u8be5\u80fd\u8fc7\u3002\n\n**Upd. 4-11:** \u89c4\u8303\u5316 Latex\u3002",
        "postTime": 1618037488,
        "uid": 207996,
        "name": "yzy1",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P7514 [\u7701\u9009\u8054\u8003 2021 A \u5377] \u5361\u724c\u6e38\u620f"
    },
    {
        "content": "\u611f\u89c9\u8fd9\u9898\u505a\u6cd5\u90fd\u633a\u7384\u5b66\u7684\u3002/fad\n\n\u63d0\u4f9b\u4e00\u4e2a\u6211\u81ea\u5df1\u7684\u601d\u8def\u3002\n\n\u6bcf\u6b21\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u6700\u5c0f\u503c $l$ \uff0c\u663e\u7136 $l$ \u5e94\u8be5\u5728 $a_i,b_i$ \u4e4b\u95f4\u9009\u4e00\u4e2a\u3002\n\n\u8fd9\u65f6\u5019\u6211\u4eec\u5e0c\u671b\u6b63\u9762\u671d\u4e0a\u7684\u6570\u5b57\u90fd\u6bd4 $l$ \u5927\u3002\uff08\u8fd9\u4e0d\u4e00\u5b9a\u6ee1\u8db3 $l$ \u662f\u6700\u5c0f\u503c\uff0c\u4f46\u8fd9\u5e76\u4e0d\u5f71\u54cd\uff09\n\n\u90a3\u4e48\u6211\u4eec\u786e\u5b9a $l$ \u4e4b\u540e\uff0c\u90a3\u4e48\u4e00\u4e9b\u724c\u7684\u5f62\u6001\u5df2\u7ecf\u56fa\u5b9a\u4e86\uff0c\u4e5f\u5c31\u662f\u8bf4\u67d0\u4e9b\u724c\u4e00\u5b9a\u88ab\u7ffb\uff08\u5047\u5982\u6709 $k_{swaped}$ \u5f20\uff09\uff0c\u67d0\u4e9b\u724c\u4e00\u5b9a\u4e0d\u80fd\u88ab\u7ffb\uff0c\u67d0\u4e9b\u724c\u968f\u610f\u3002\n\n\u90a3\u4e48\u6309\u7167\u8d2a\u5fc3\u7b56\u7565\uff0c\u6211\u4eec\u53ea\u9700\u8981\u7ba1\u4e0d\u786e\u5b9a\u7684\u90a3\u4e9b\u724c\uff0c\u6309 $a_i$ \u4ece\u5927\u5230\u5c0f\u51b3\u5b9a\u8981\u4e0d\u8981\u7ffb\u5373\u53ef\u3002\n\n\u6734\u7d20\u5b9e\u73b0\u662f $O(n^2)$ \u7684\u3002\n\n\u4f46\u662f\u6211\u4eec\u53ea\u9700\u8981\u6c42\u6700\u5927\u503c\u6700\u5c0f\uff0c\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u8fd9\u4e2a\u6709\u54ea\u4e9b\u53ef\u80fd\u3002\n\n1. \u5df2\u7ecf\u786e\u5b9a\u7ffb/\u4e0d\u7ffb\u4e2d\u6b63\u9762\u671d\u4e0a\u7684\u6700\u5927\u503c\n\n2. \u8fd8\u672a\u786e\u5b9a\u7684 $k-k_{swaped}$ \u5927\u4e2d\u51b3\u5b9a\u7ffb/\u4e0d\u7ffb\u7684\u6700\u5c0f\u53ef\u80fd\u7684\u6700\u5927\u503c\n\n\u6211\u4eec\u80af\u5b9a\u5e0c\u671b\u8fd9 $k-k_{swaped}$ \u4e2a\u662f $1-n$ \u7684\u4e00\u4e2a\u540e\u7ee7\uff0c\u4f46\u662f\u53ef\u80fd\u4e2d\u95f4\u51fa\u73b0\u8fc7\u786e\u5b9a\u88ab\u7ffb\u7684\u3002\n\n\u4e3a\u907f\u514d\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u6ce8\u610f\u5230\u4e2d\u95f4\u51fa\u73b0\u786e\u5b9a\u88ab\u7ffb\u7684\u724c\uff0c\u80af\u5b9a\u4f1a\u4f7f\u5f97 $a_i$ \u8fd9\u5f20\u724c\u5c0f\u7684\u724c\u4e0d\u4f1a\u51fa\u73b0\u8d21\u732e\uff08\u53ef\u4ee5\u7406\u89e3\u4e3a\u5df2\u7ecf\u6709\u786e\u5b9a\u7684\u6bd4 $a_i$ \u5927\u4e86\uff0c\u90a3 $a_i$ \u5c31\u6ca1\u5fc5\u8981\u518d\u7ffb\u4e86\uff09\u3002\n\n\u6240\u4ee5\u76f4\u63a5\u8bb0\u5f55\u786e\u5b9a\u724c\u4e2d $a_i$ \u6700\u5927\u7684\u90a3\u5f20\u724c\u5c31\u53ef\u4ee5\u4e86\uff0c\u8981\u7ffb\u7684\u533a\u95f4\u5c31\u53d8\u6210\u4e86 $1-n$ \u7684\u4e00\u4e2a\u540e\u7f00\uff0c\u8fd9\u662f\u53ef\u4ee5\u76f4\u63a5\u9884\u5904\u7406\u7684\u3002\n\n\u7136\u540e\u6bcf\u6b21\u679a\u4e3e\u5230\u4e0b\u4e00\u4e2a $l$ \u65f6\uff0c\u90fd\u53ea\u4f1a\u6709\u4e00\u5f20\u724c\uff0c\u4e5f\u5c31\u662f\u4f60\u679a\u4e3e\u5230\u7684\u4e00\u5f20\u724c\u7684\u786e\u5b9a\u6027\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u8fd9\u4e5f\u5f88\u597d\u7ef4\u62a4\u3002\n\n\u5f53\u7136\u5728\u67d0\u4e9b\u724c\u65e2\u5f97\u7ffb\u53c8\u4e0d\u80fd\u7ffb\u7684\u65f6\u5019\uff0c\u76f4\u63a5\u9000\u51fa\u5373\u53ef\u3002\n\n\u8fd9\u4e2a\u53ef\u4ee5 $O(n)$ \u89e3\u51b3\uff0c\u81f3\u6b64\u6211\u4eec\u5c31\u505a\u5b8c\u4e86\u3002\n\n\u590d\u6742\u5ea6 $O(n\\log n)$\uff0c\u74f6\u9888\u5728\u6392\u5e8f\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nstruct node{\n\tint x,y,z;\n\tnode(int x0=0,int y0=0,int z0=0){x=x0;y=y0;z=z0;}\n\tint operator<(node u)const{return x<u.x;}\n}o,pq[2000001];\nint n,k,i,l,r,ans,m,a[1000001],b[1000001],f[1000001],vis[1000001],pos,realpos,che;\nint main(){\n\tscanf(\"%d%d\",&n,&k);\n\tfor(i=1;i<=n;i++)scanf(\"%d\",&a[i]),pq[i]=node(a[i],i,1);\n\tfor(i=1;i<=n;i++)scanf(\"%d\",&b[i]),pq[n+i]=node(b[i],i,0);\n\tsort(pq+1,pq+2*n+1);\n\tfor(i=n;i>=1;i--)f[i]=max(f[i+1],min(a[i],b[i]));f[n+1]=a[n];   //\u9884\u5904\u7406\u540e\u7f00\u7ffb/\u4e0d\u7ffb\u7684\u6700\u5c0f\u53ef\u80fd\u6700\u5927\u503c\n\tans=a[n]-a[1];\n\tfor(i=1;i<=2*n;i++){\n\t\to=pq[i];\n\t\tif(n-k+1<=pos)realpos=pos+1;else realpos=n-k+1;\n\t\tans=min(ans,max(max(m,a[realpos-1]),f[realpos])-o.x);\n\t\tpos=max(pos,o.y);\n\t\tk-=o.z;\n\t\tif(o.z)m=max(m,b[o.y]);else m=max(m,a[o.y]);\n\t\tif(k<0)break;\n\t\tif(vis[o.y])break;\n\t\tvis[o.y]=1;\n\t}\n\tprintf(\"%d\\n\",ans);\n}\n```",
        "postTime": 1618497997,
        "uid": 109942,
        "name": "w23c3c3",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P7514 [\u7701\u9009\u8054\u8003 2021 A/B \u5377] \u5361\u724c\u6e38\u620f"
    },
    {
        "content": "\u5783\u573e\u798f\u5efa\u57ab\u5e95\u9009\u624b\u6765\u770b\u770b\u8fd9\u9898\u3002\n\n\u5927\u5bb6\u600e\u4e48\u90fd\u5199\u5e26 $log$ \u7684\u3002\n\n\u6211\u6765\u8bf4\u4e00\u4e2a\u7ebf\u6027\u505a\u6cd5\u597d\u4e86\u3002\n\n\u90a3\u4e48\u6211\u4eec\u8003\u8651\u679a\u4e3e $k$ \u4f5c\u4e3a\u7ffb\u8f6c\u5b8c\u7684\u6700\u5c0f\u503c\u3002\n\n\u90a3\u4e48\u6784\u9020\u51fa\u4e00\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u5728 $a_i$ \u4e2d\u67e5\u8be2\u4e00\u4e2a\u6700\u5927\u7684\u4f4d\u7f6e\u4f7f $a_i < k$ \uff0c\u90a3\u4e48 $a_1$ \u5230 $a_i$ \u90fd\u8981\u8fdb\u884c\u7ffb\u8f6c\uff0c\u4e14 $b_1$ \u5230 $b_i > k$\uff0c\u90a3\u4e48\u8fd9\u6837\u505a\u7684\u6b21\u6570\u662f $i$ \u6216\u8005 $i - 1$\uff08\u8003\u8651 $k$ \u662f $b$ \u4e14\u5bf9\u5e94\u7684 $a$ \u5728\u9700\u8981\u7ffb\u8f6c\u7684\u533a\u95f4\u91cc\uff09\u7684\u3002\n\n\u90a3\u4e48\u8003\u8651\u5bf9\u8fd9\u4e2a $k$ \u6c42\u51fa\u4e00\u4e2a\u6700\u5c0f\u7684\u6700\u5927\u503c$z$\uff0c\u540c\u6837\u7684\u6211\u4eec\u5728$a_i$\u4e2d\u67e5\u8be2\u4e00\u4e2a\u6700\u5c0f\u7684\u4f4d\u7f6e\u4f7f$a_i > z$\uff0c\u90a3\u4e48$a_i$ \u5230 $a_n$\u90fd\u8981\u8fdb\u884c\u7ffb\u8f6c\uff0c\u4e14 $b_i$ \u5230 $b_n > k$\uff0c\u4e14 $b_i$ \u5230 $b_n < z$ \uff0c\u90a3\u4e48\u8fd9\u6837\u505a\u7684\u6b21\u6570\u662f $n - i + 1$ \u6216\u8005 $n - i$ \uff08\u8003\u8651 $z$ \u662f $b$ \u4e14\u5bf9\u5e94\u7684 $a$ \u5728\u9700\u8981\u7ffb\u8f6c\u7684\u533a\u95f4\u91cc\uff09\u7684\uff0c\u4e24\u8fb9\u6b21\u6570\u52a0\u8d77\u6765\u4e0d\u8d85\u8fc7 $m$ \u3002\n\n\u6211\u4eec\u8003\u8651\u5bf9\u8fd9\u51e0\u4e2a\u6761\u4ef6\u8fdb\u884c\u5206\u6790\u4e00\u4e0b\uff0c\u9996\u5148 $i$ \u5bf9\u4e8e $z$ \u51cf\u5c0f\u662f\u5355\u8c03\u7684\uff0c\u7531\u4e8e $min$ \u53ea\u80fd\u4e0b\u964d\u4e0d\u80fd\u4e0a\u5347\uff0c $max$ \u53ea\u80fd\u4e0a\u5347\u4e0d\u80fd\u4e0b\u964d\uff0c\u90a3\u4e48\u5bf9\u4e8e$z$\u4e0b\u964d\u6765\u8bf4\uff0c\u4ed6\u7684\u6761\u4ef6\u4f1a\u8d8a\u6765\u8d8a\u82db\u523b\u3002\n\n\u53c8\u56e0\u4e3a\u6211\u4eec\u4ece\u5c0f\u5230\u5927\u679a\u4e3e $k$ ,\u7528\u6765\u6ee1\u8db3\n$k$ \u7684\u6b21\u6570\u4f1a\u5355\u8c03\u4e0d\u964d\uff0c\u90a3\u4e48\u6211\u4eec\u53d1\u73b0\uff0c\u5bf9\u4e8e\u4e00\u4e2a $z$ \uff0c\u4ed6\u7684\u6240\u6709\u6761\u4ef6\u5373 $b_i$ \u5230 $b_n > k$\uff0c\u4e14 $b_i$ \u5230 $b_n < z$ ,\u6b21\u6570\u548c\u5c0f\u4e8e $m$ \uff0c\u5728 $k$ \u4e0a\u5347\u90fd\u5177\u6709\u5355\u8c03\u6027\uff0c\u611f\u6027\u5206\u6790\u4e00\u4e0b\uff0c\u5728 $k$ \u4e0a\u5347\u65f6\uff0c $z$ \u5177\u6709\u5355\u8c03\u4e0d\u964d\u7684\u6027\u8d28\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53ea\u8981\u5bf9 $k = 1$ \u4e00\u4e2a $log$ \u6c42\u51fa\u5bf9\u5e94\u7684 $z$ ,\u518d\u8fdb\u884c\u53cc\u6307\u9488\uff0c\u5c31\u53ef\u4ee5\u505a\u5230 $O(n)$ \u4e86\u3002",
        "postTime": 1618231020,
        "uid": 138390,
        "name": "fhq_treap",
        "ccfLevel": 7,
        "title": "[\u7701\u9009\u8054\u8003 2021 A/B \u5377] \u5361\u724c\u6e38\u620f"
    },
    {
        "content": "\u63d0\u4f9b\u601d\u8def\uff0c\u4e0d\u4e00\u5b9a\u6b63\u786e\uff0c\u6b22\u8fce\u5404\u5927\u4f6chack\n\n\u8be5\u601d\u8def\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $\\Theta(n \\log n)$\uff08$n,m$ \u540c\u9636\uff09\u3002\n\n\u9996\u5148\u6709\u4ee5\u4e0b\u7ed3\u8bba\uff1a\n\n- \u4e00\u5f20\u5361\u4e0d\u80fd\u7ffb $2$ \u6b21\u6216\u66f4\u591a\u6b21\n  - \u663e\u7136\n- \u7ffb\u7684\u5361\u5fc5\u5b9a\u662f\u6700\u5de6\u4fa7\u6216\u6700\u53f3\u4fa7\u8fde\u7eed\u7684\u4e00\u6bb5\n  - \u5982\u679c\u6ca1\u6709\u7ffb\u4e24\u7aef\u7684\u5361\u800c\u76f4\u63a5\u7ffb\u4e2d\u95f4\u7684\u5361\uff0c\u5219\u663e\u7136\u4e0d\u4f1a\u4f7f\u7b54\u6848\u66f4\u4f18\n\n\u90a3\u4e48\u6709\u4e00\u4e2a\u663e\u7136\u7684 $\\Theta(m^2)$ \u505a\u6cd5\uff0c\u679a\u4e3e\u5176\u4e2d\u4e00\u6bb5\u7ffb\u7684\u5361\uff0c\u7136\u540e\u66b4\u529b\u66f4\u65b0\u7b54\u6848\u3002\u9996\u5148\u8981\u5904\u7406`b`\u6570\u7ec4\u7684\u524d\u540e\u7f00 $\\max / \\min$\uff08\u524d\u7f00 $\\max$ \u8bb0\u4e3a $L_1$\uff0c$\\min$ \u8bb0\u4e3a $L_2$\uff0c\u540e\u7f00\u8bb0\u4e3a $R_1$ \u548c $R_2$\uff0c\u540c\u7406\uff09\uff0c\u4e4b\u540e\u5355\u72ec\u5904\u7406\u53ea\u6709\u4e00\u7aef\u7ffb\u4e86\u5361\u7684\u60c5\u51b5\uff0c\u7136\u540e\u5bf9\u4e8e\u5176\u5b83\u60c5\u51b5\u66b4\u529b\u3002\n\n\u5904\u7406\u5176\u5b83\u60c5\u51b5\u7684\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a\n\n$$\\begin{aligned}\n&for(i:1 \\to m-1)\\\\\n&\\quad for(j:n-m+i+1 \\to n)\\\\\n&\\quad\\quad ans\\leftarrow\\min(ans,\\max(a_{j-1},L_{1,i},R_{1,j})-\\min(a_{i+1},L_{2,i},R_{2,j}))\n\\end{aligned}$$\n\n\u5e94\u8be5\u4e0d\u96be\u7406\u89e3\uff0c\u4ee5\u4e0b\u9ed8\u8ba4\u5df2\u7ecf\u7406\u89e3\u4e86\u8fd9\u79cd\u65b9\u6cd5\u3002\n\n\u90a3\u4e48\u9996\u5148\u628a $\\max$ \u548c $\\min$ \u4e2d\u7684 $i$ \u548c $j$ \u5206\u79bb\u51fa\u6765\uff0c\u5c31\u50cf\u8fd9\u6837\uff1a\n\n$$\\max(L_{1,i},\\max(a_{j-1},R_{1,j}))-\\min(\\min(a_{i+1},L_{2,i}),R_{2,j})$$\n\n\u6211\u4eec\u53ef\u4ee5\u8bbe $l_1=\\max(a_{i+1},L_{1,i})$ \u548c $l_2=\\min(a_{i+1},L_{2,i})$\uff0c\u4ee5\u53ca\u5173\u4e8e $j$ \u7684\u51fd\u6570 $f_1(j)=\\max(a_{j-1},R_{1,j})$ \u548c $f_2(j)=\\min(a_{j-1},R_{2,j})$\u3002\n\n\u4e4b\u540e\u6211\u4eec\u628a\u6574\u4e2a\u8fc7\u7a0b\u5206\u6210\u4e24\u90e8\u5206\uff0c\u4e00\u4e2a\u90e8\u5206\u5904\u7406 $l_1$ \u4e0e $f_1$ \u4e0d\u76f8\u4ea4\u7684\u60c5\u51b5\uff0c\u53e6\u4e00\u90e8\u5206\u5904\u7406\u76f8\u4ea4\u7684\u60c5\u51b5\u3002\n\n\u5bf9\u4e8e\u4e0d\u76f8\u4ea4\u7684\u60c5\u51b5\uff0c\u5bf9\u4e8e\u6240\u6709 $l_2$ \u6309\u5176\u503c**\u4ece\u5927\u5230\u5c0f**\u6392\u5e8f\uff0c\u7136\u540e\u7528\u4e00\u4e2a\u6307\u9488 $p$\uff0c\u521d\u59cb $p=n$\uff0c\u7136\u540e\u679a\u4e3e $i$ \u7684\u540c\u65f6 $p$ \u5de6\u79fb\u81f3**\u7b2c\u4e00\u4e2a**\u6ee1\u8db3 $l_2 \\le f_2(p)$ \u7684\u4f4d\u7f6e\u5e76\u66f4\u65b0\u7b54\u6848\u3002\u7b54\u6848\u66f4\u65b0\u65b9\u5f0f\u540c\u66b4\u529b\u3002\n\n\u5bf9\u4e8e\u76f8\u4ea4\u7684\u60c5\u51b5\uff0c\u89c2\u5bdf\u5230 $l_1$ \u4e0e $f_1(j)$ \u7684\u56fe\u50cf\u5927\u81f4\u6ee1\u8db3\uff1a  \n![](https://cdn.luogu.com.cn/upload/image_hosting/svi9rl3g.png)  \n\u90a3\u4e48\u5bf9\u4e8e\u6240\u6709 $l_1$ **\u4ece\u5c0f\u5230\u5927**\u6392\u5e8f\uff08\u56e0\u4e3a\u20ac\u20ac\u00a3\u7684\u6570\u636e\u6c34\u6240\u4ee5\u4e5f\u8bb8\u53ef\u4ee5\u4e0d\u7528\u6392\uff09\uff0c\u7136\u540e\u6bcf\u4e00\u6b21 $l_1$ \u4e0a\u79fb\u7684\u65f6\u5019\u7edf\u8ba1\u7d2b\u8272\u90e8\u5206\uff08\u5982\u56fe\uff09\u5bf9\u4e8e\u7684 $j$ \u5373\u53ef\u3002  \n![](https://cdn.luogu.com.cn/upload/image_hosting/1jpqo39o.png)  \n\u540c\u6837\u6309\u7167\u66b4\u529b\u7684\u65b9\u6848\u66f4\u65b0\u7b54\u6848\u5373\u53ef\u3002\n\n~~\u4ee3\u7801\u592a\u4e11\u5c31\u4e0d\u8d34\u4e86~~",
        "postTime": 1618729247,
        "uid": 224991,
        "name": "Presentation_Emitter",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P7514 [\u7701\u9009\u8054\u8003 2021 A/B \u5377] \u5361\u724c\u6e38\u620f"
    },
    {
        "content": "\u63d0\u4f9b\u8003\u573a $O(n)$ \u601d\u8def(\u4e0d\u4fdd\u8bc1\u6b63\u786e)\n\n\u9996\u5148\u6ce8\u610f\u5230 $a_i$ \u5347\u5e8f\u7ed9\u51fa\uff0c\u5148\u4e0d\u8003\u8651 $b$\uff0c\u80af\u5b9a\u662f\u4ece\u524d\u9762\u7ffb\u82e5\u5e72\u4e2a\uff0c\u56e0\u4e3a\u4ece\u4e2d\u95f4\u7ffb\u9762\u6ca1\u6709\u5f71\u54cd\uff0c\u540e\u9762\u7ffb\u82e5\u5e72\u4e2a\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/79nmtal1.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/d9czins6.png)\n\n\u679a\u4e3e\u524d\u9762\u7ffb\u8f6c $l$ \u4e2a\u6570\uff0c\u8003\u8651 $b$ \u7684\u5f71\u54cd\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g816glmh.png)\n\n\u6ce8\u610f\u5230 $\\min(b_1, \\ldots b_l)> a_l$ \uff0c\u5426\u5219\u5c0f\u4e8e $\\min(b_1, \\ldots b_l)$ \u7684 $a_i$ \u7684\u7ffb\u9762\u662f\u65e0\u6548\u7684\uff0c\u53ea\u4f1a\u6269\u5927 $b$\u524d\u7f00\u7684\u8303\u56f4\u3002\n\n\u8003\u8651\u540e\u9762\u7ffb\u8f6c\u4e0b\u6807 $r$ \u53ca\u4e4b\u540e\u7684\u724c\uff0c\u540c\u7406\uff1a\n\n- $\\min(b_r, \\ldots b_n) > a_l$\n\n- $\\max(b_1, \\ldots b_l) < a_r$\n\n- $\\max(b_r, \\ldots b_n) < a_r$\n\n\n\u8fd9\u4e9b\u662f $r$ \u7684\u4e00\u4e2a\u9650\u5236\u6761\u4ef6\u3002\n\n\u73b0\u5728 $r$ \u8fd8\u5269\u4e0b\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u662f $a_l < \\min(b_r, \\ldots b_n) < a_{l+1}$\n\u8fd9\u79cd\u60c5\u51b5\u679a\u4e3e\u641e\u5b9a\uff08\u56e0\u4e3a $a_i$ \u548c $b_i$ \u4e92\u4e0d\u76f8\u7b49\u6240\u4ee5\u6bcf\u4e2a $r$ \u81f3\u591a\u679a\u4e3e\u4e00\u6b21\uff09\n\n\u53e6\u4e00\u79cd $\\min(b_r, \\ldots b_n) > a_{l + 1}$ \u663e\u7136 $r$ \u5c3d\u91cf\u5c0f\n\n\u5b9e\u73b0\u5c31\u53cc\u6307\u9488\u626b\u4e00\u904d(\u6ce8\u610f\u52a0\u4e0a $m$ \u7684\u9650\u5236\u6761\u4ef6)\n\n\n## code:\n```c++\n# include <bits/stdc++.h>\n\nusing namespace std;\n\nint a[1001000];\nint b[1001000];\nint minrsum[1001000];\nint maxlsum[1001000];\nint minlsum[1001000];\nint maxrsum[1001000];\n\nint n, m, ans = 2000000000;\n\nint A(int i, int j) {\n\tif (i + 1 >= j) {\n\t\treturn 2000000000;\n\t}\n\tif (i == 0) {\n\t\treturn max(a[j - 1], maxrsum[j]) - min(a[1], minrsum[j]);\n\t}\n\treturn max(a[j - 1], max(maxlsum[i], maxrsum[j])) - min(a[i + 1], min(minrsum[j], minlsum[i]));\n}\nint main() {\n\tfreopen(\"card.in\", \"r\", stdin);\n\tfreopen(\"card.out\", \"w\", stdout);\n\tscanf(\"%d%d\", &n, &m);\n\tfor (int i = 1; i <= n; i++) {\n\t\tscanf(\"%d\", a + i);\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tscanf(\"%d\", b + i);\n\t}\n\tb[0] = a[1];\n\tb[n + 1] = a[n];\n\tminrsum[n + 1] = 2000000000;\n\tminlsum[0] = 2000000000;\n\tfor (int i = n; i >= 0; i--) {\n\t\tminrsum[i] = min(minrsum[i + 1], b[i]);\n\t\tmaxrsum[i] = max(maxrsum[i + 1], b[i]);\n\t}\n\tfor (int i = 1; i <= n + 1; i++) {\n\t\tminlsum[i] = min(minlsum[i - 1], b[i]);\n\t\tmaxlsum[i] = max(maxlsum[i - 1], b[i]);\n\t}\n\tint j = 2;\n\tfor (int i = 0; i < n && a[i + 1] < minlsum[i]; i++) {\n\t\twhile (j < n + 1 && (j <= i ||m - i - (n - j + 1) < 0 || minrsum[j] < a[i] || maxlsum[i] > a[j] || maxrsum[j] > a[j])) {\n\t\t\tj++;\n\t\t}\n    while (minrsum[j] < a[i + 1]) {\n  \t\tans = min(ans, A(i, j));\n    }\n\t\t// printf(\"%d %d %d  %d %d\\n\", i, j, A(i, j), max(a[j - 1], max(maxlsum[i], maxrsum[j])), min(a[i + 1], min(minrsum[j], minlsum[i])));\n\t\tans = min(ans, A(i, j));\n\t}\n\tprintf(\"%d\", ans);\n}\n```",
        "postTime": 1618711485,
        "uid": 307562,
        "name": "Hjcc06",
        "ccfLevel": 0,
        "title": "P7514\u9898\u89e3"
    },
    {
        "content": "\u9996\u5148\uff0c\u5c06\u6240\u6709\u7684\u5361\u5206\u6210\u4e24\u7c7b\uff0c\u4e00\u7c7b\u662f $a_i\\le b_i$\uff0c\u79f0\u4e4b\u4e3a\u201c\u5c0f\u7ffb\u5927\u201d\uff0c\u4e00\u7c7b\u662f $b_i<a_i$\uff0c\u79f0\u4e4b\u4e3a\u201c\u5927\u7ffb\u5c0f\u201d\u3002\u8003\u8651\u679a\u4e3e\u6240\u6709\u6b63\u9762\u671d\u4e0a\u7684\u6700\u5c0f\u503c\uff0c\u8ba1\u7b97\u8be5\u6700\u5c0f\u503c\u4e0b\u6b63\u9762\u671d\u4e0a\u7684\u6700\u5927\u503c\u6700\u5c0f\u662f\u591a\u5c11\u3002\u663e\u7136\uff0c\u6700\u5927\u503c\u4e0d\u4f1a\u4f4e\u4e8e $\\min_{i=1}^n\\max(a_i,b_i)$ \uff0c\u540c\u7406\uff0c\u6700\u5c0f\u503c\u4e5f\u4e0d\u4f1a\u9ad8\u4e8e $\\max_{i=1}^n\\min(a_i,b_i)$\u3002\n\n\u5728\u94a6\u5b9a\u4e86\u6700\u5c0f\u503c\u4e4b\u540e\uff0c\u5728\u5c0f\u7ffb\u5927\u7684\u5361\u4e2d\u5c31\u51fa\u73b0\u4e86\u4e00\u4e9b\u5fc5\u987b\u7ffb\u7684\u5361\uff08\u5373 $a_i$ \u5c0f\u4e8e\u5f53\u524d\u6700\u5c0f\u503c\u7684\u5361\uff0c\u8bbe\u8fd9\u6837\u7684\u5361\u6709 $s$ \u5f20\uff09\uff0c\u8fd9\u4e9b\u5361\u7684 $b$ \u503c\u4f1a\u76f4\u63a5\u8d21\u732e\u8fdb\u7b54\u6848\uff1b\u8fd8\u5269\u4e0b\u4e86\u4e00\u4e9b\u53ef\u7ffb\u53ef\u4e0d\u7ffb\u7684\u5361\uff0c\u800c\u7531\u4e8e\u6211\u4eec\u8981\u6c42\u6700\u5927\u503c\u6700\u5c0f\uff0c\u6240\u4ee5\u6700\u4f18\u7684\u65b9\u6848\u5c31\u662f\u5c11\u7ba1\u95f2\u4e8b\uff0c\u4e0d\u53bb\u7ffb\u90a3\u4e9b\u53ef\u7ffb\u53ef\u4e0d\u7ffb\u7684\u5361\u3002\n\n\u4e0b\u9762\u8003\u8651\u5927\u7ffb\u5c0f\u7684\u5361\uff0c\u4e0e\u4e4b\u524d\u76f8\u5bf9\uff0c\u5927\u7ffb\u5c0f\u7684\u5361\u5f53\u4e2d\u5c31\u51fa\u73b0\u4e86\u4e00\u4e9b\u5fc5\u987b\u4e0d\u7ffb\u7684\u5361\uff08\u5373 $b_i$ \u5c0f\u4e8e\u5f53\u524d\u6700\u5c0f\u503c\u7684\u5361\uff09\uff0c\u8fd9\u4e9b\u5361\u7684 $a$ \u503c\u4e5f\u4f1a\u76f4\u63a5\u8d21\u732e\u8fdb\u7b54\u6848\u3002\u5bf9\u4e8e\u5269\u4e0b\u7684\u5361\uff0c\u53ea\u9700\u8981\u6309\u7167\u4ece\u5927\u5230\u5c0f\u7684\u987a\u5e8f\u4f9d\u6b21\u7ffb\u5f00\u5373\u53ef\uff0c\u76f4\u5230\u628a\u673a\u4f1a\u7528\u5b8c\u4e3a\u6b62\uff0c\u5373\u7ffb $m-s$ \u5f20\u3002\u5c06\u8fd9\u4e9b\u5361\u6309\u7167 $a$ \u503c\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u5982\u679c\u524d $m-s$ \u5f20\u5361\u4e2d\u5df2\u7ecf\u6709\u5fc5\u987b\u4e0d\u7ffb\u7684\u5361\u4e86\uff0c\u90a3\u4e48\u7b54\u6848\u4e00\u5b9a\u4ece\u524d\u9762\u8fd9\u4e9b\u5fc5\u987b\u4e0d\u7ffb\u7684\u5361\u8d21\u732e\u800c\u6765\uff0c\u800c\u5982\u679c\u524d $m-s$ \u5f20\u5361\u4e2d\u6ca1\u6709\u5fc5\u987b\u4e0d\u7ffb\u7684\u5361\uff0c\u5219\u7ffb\u5b8c $m-s$ \u5f20\u4e4b\u540e\u4e0b\u4e00\u5f20\u521a\u597d\u662f\u7b2c $m-s+1$ \u5f20\uff0c\u4e8e\u662f\u5c06\u8fd9\u5f20\u5361\u7684 $a$ \u503c\u4e5f\u8d21\u732e\u8fdb\u7b54\u6848\u5373\u53ef\u3002\u6700\u7ec8\u7684\u7b54\u6848\u5373\u4e3a\u6240\u6709\u8d21\u732e\u8fdb\u7b54\u6848\u7684\u503c\u53d6 max\u3002\n\n\u7531\u4e8e\u6700\u5c0f\u503c\u589e\u5927\u7684\u8fc7\u7a0b\u4e2d\u6700\u5927\u503c\u4e0d\u4f1a\u51cf\u5c0f\uff0c\u6240\u4ee5\u5728\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\u6700\u5c0f\u503c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u7528\u540c\u4e00\u4e2a\u53d8\u91cf\u7ef4\u62a4\u6240\u6709\u7684\u6700\u5927\u503c\u5373\u53ef\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(n\\log n)$\uff0c\u5176\u4e2d\u590d\u6742\u5ea6\u74f6\u9888\u662f\u6392\u5e8f\u3002\n\n\u653e\u4e00\u4e2a\u8003\u573a\u4e0a\u5199\u7684\u7a0b\u5e8f\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define all(x) (x).begin(), (x).end()\n#define SZ(x) ((int)(x).size())\n#define loop(i, a) for (int i = 0; i < (a); ++i)\n#define cont(i, a) for (int i = 1; i <= (a); ++i)\n#define circ(i, a, b) for (int i = (a); i <= (b); ++i)\n#define range(i, a, b, c) for (int i = (a); (c) > 0 ? (i <= (b)) : (i >= (b)); i += (c))\n#define pub push_back\n#define pob pop_back\n#define mak make_pair\n#define mkt make_tuple\ntypedef long long ll;\ntypedef long double lf;\nconst int Inf = 0x3f3f3f3f;\nconst ll INF = 0x3f3f3f3f3f3f3f3fll;\n\nconst int maxn = 1000005;\n\nint a[maxn], b[maxn];\nint n, m;\nint mx, mn;\nvector<pair<int, int> > dx, ds, xd;\nvector<int> vs;\n\nint main() {\n\tfreopen(\"card.in\", \"r\", stdin);\n\tfreopen(\"card.out\", \"w\", stdout);\n\tscanf(\"%d%d\", &n, &m);\n\tcont(i, n) scanf(\"%d\", a + i);\n\tcont(i, n) scanf(\"%d\", b + i);\n\tmn = Inf;\n\tcont(i, n) {\n\t\tif (a[i] > b[i]) dx.pub(mak(b[i], a[i])), ds.pub(mak(a[i], b[i]));\n\t\telse xd.pub(mak(a[i], b[i]));\n\t\tvs.pub(a[i]); vs.pub(b[i]);\n\t\tmn = min(mn, max(a[i], b[i]));\n\t\tmx = max(mx, min(a[i], b[i]));\n\t}\n\tsort(all(ds)); reverse(all(ds));\n\tint mmx = mx;\n\tif (SZ(ds) > m) mmx = max(mmx, ds[m].first);\n\tsort(all(vs));\n\tsort(all(xd));\n\tsort(all(dx));\n\tint ptr = 0, pts = 0;\n\tint ans = Inf;\n\tloop(i, n << 1) {\n\t\tif (vs[i] > mn) break;\n\t\twhile (ptr < SZ(xd) && xd[ptr].first < vs[i]) mmx = max(mmx, xd[ptr++].second);\n\t\tif (ptr > m) break;\n\t\twhile (pts < SZ(dx) && dx[pts].first < vs[i]) mmx = max(mmx, dx[pts++].second);\n\t\tif (SZ(ds) > m - ptr) mmx = max(mmx, ds[m - ptr].first);\n\t\tans = min(ans, mmx - vs[i]);\n\t}\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}\n```",
        "postTime": 1618577986,
        "uid": 60845,
        "name": "Acetyl",
        "ccfLevel": 9,
        "title": "P7514 [\u7701\u9009\u8054\u8003 2021 A/B \u5377] \u5361\u724c\u6e38\u620f \u9898\u89e3"
    }
]