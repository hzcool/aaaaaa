[
    {
        "content": "\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c\uff1a[cnblogs](https://www.cnblogs.com/acceptedzhs/p/13032385.html)\n\n\u8fd9\u9053\u9898\u8ddf CSP-S 2019 D1T1 \u6709\u70b9\u50cf\u3002\n\n\u6211\u4eec\u5148\u6765\u6a21\u62df\u4e00\u4e0b $n=4$ \u7684\u60c5\u51b5\u3002\n\n\u4e0d\u96be\u5f97\u51fa\uff0c\u6700\u540e\u7684\u8863\u67b6\u6302\u94a9\u987a\u5e8f\uff1a\n\n```\n\u4e0b\u6807\uff1a  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16\n\u987a\u5e8f\uff1a  1  9  5 13  3 11  7 15  2 10  6 14  4 12  8 16\n```\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u5f97\u5230\u7684\u987a\u5e8f\u6784\u6210\u7684\u5e8f\u5217\u4e2d\u5de6\u534a\u90e8\u5206\u5168\u662f\u5947\u6570\uff0c\u53f3\u534a\u90e8\u5206\u5168\u662f\u5076\u6570\u3002\u6211\u4eec\u628a\u5b83\u5206\u5f00\uff1a\n\n```\n1 9 5 13 3 11 7 15\n2 10 6 14 4 12 8 16\n```\n\n\u5947\u6570\u90e8\u5206\u6bcf\u4e2a\u6570 $+1$ \u518d $\\div 2$\uff0c\u5076\u6570\u90e8\u5206\u6bcf\u4e2a\u6570 $\\div 2$\uff0c\u53ef\u4ee5\u5f97\u5230\uff1a\n\n```\n1 5 3 7 2 6 4 8\n1 5 3 7 2 6 4 8\n```\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u4e0a\u4e0b\u90e8\u5206\u53d8\u5f97\u4e00\u6837\u4e86\uff01\u4e0d\u4ec5\u5982\u6b64\uff0c\u8fd9\u8fd8\u6070\u5de7\u662f $n=3$ \u7684\u60c5\u51b5\uff01\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u81ea\u7136\u800c\u7136\u60f3\u5230\u9012\u5f52\u3002\n\n\u5982\u679c\u6df1\u5ea6\u5df2\u7ecf\u662f $n-1$ \u4e86\uff0c\u76f4\u63a5\u5c06\u7b54\u6848\u52a0\u4e0a\u5f53\u524d\u5e8f\u53f7\uff08\u7b2c\u4e00\u5c42\u6df1\u5ea6\u4e3a $0$\uff09\uff1b\n\n\u5982\u679c\u5f53\u524d\u5e8f\u53f7\u4e3a\u5947\u6570\uff0c\u5373\u5728\u5de6\u534a\u90e8\u5206\uff0c\u5219\u628a\u5b83 $+1$ \u518d $\\div 2$\uff0c\u7ee7\u7eed\u9012\u5f52\uff1b\n\n\u5982\u679c\u5f53\u524d\u5e8f\u53f7\u4e3a\u5076\u6570\uff0c\u5373\u5728\u53f3\u534a\u90e8\u5206\uff0c\u5219\u628a\u5b83 $\\div 2$\uff0c\u540c\u65f6\u7b54\u6848\u52a0\u4e0a $2^{n-\\mathit{depth}-1}$\uff08\u5de6\u534a\u90e8\u5206\u7684\u957f\u5ea6\uff09\uff0c\u7ee7\u7eed\u9012\u5f52\u3002\n\nCode:\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nint n,k,MOD=1e9+7;\nint qpow(int x,int y){\n    int res=1;\n    while(y){\n        if(y&1) res=(res*x)%MOD;\n        x=(x*x)%MOD;y>>=1;\n    }\n    return res;\n}\nint dfs(int x,int dep) {\n    return dep==n?x:(x%2?dfs((x+1)/2,dep+1):(dfs(x/2,dep+1)+qpow(2,n-dep))%MOD);\n}\nsigned main(){\n    std::cin>>n>>k;std::cout<<dfs(k,1)%MOD<<std::endl;\n    return 0;\n}\n```\n",
        "postTime": 1591089269,
        "uid": 107236,
        "name": "Zesty_Fox",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P6232 \u3010[eJOI2019]\u6302\u67b6\u3011"
    },
    {
        "content": "\u54c8\u54c8\u6709\u8da3\u7684\u9898\u76ee\uff0c\u9898\u9762\u5c45\u7136\u5c31\u662f\u5c06FFT\u7684\u9012\u5f52\u8fc7\u7a0b\u63cf\u8ff0\u4e86\u4e00\u904d\n\n---\n\n### \u9898\u89e3\uff1a\n\n\u6309\u7167\u9898\u610f\u6211\u4eec\u53ef\u4ee5\u6709\u8fd9\u6837\u4e00\u5f20\u56fe\uff08\u6765\u81ea\u4e8e\u8fdc\u822a\u4e4b\u66f2\u5927\u4f6c\u7684\u535a\u5ba2\uff0c\u5e76\u4e14\u8fd9\u5176\u5b9e\u662f\u4e00\u5f20FFT\u7684\u56fe\uff0c\u6240\u4ee5\u4e0b\u6807\u4ece0\u5f00\u59cb\u3002\u3002\u3002\u8bf7\u81ea\u884c+1-1\uff09\uff1a\n\n![](https://images2017.cnblogs.com/blog/1101696/201802/1101696-20180212074250859-1560811086.png)\n\n\u53d1\u73b0\u540e\u5e8f\u5217\u662f\u539f\u5e8f\u5217\u7684\u4e8c\u8fdb\u5236\u4e0b\u7ffb\u8f6c\n\n\u6839\u636e\u8fd9\u4e2a\u6027\u8d28\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u505a\u51fa\u8fd9\u9898\u5566\uff08\u5728FFT\u4e2d\u5219\u662f\u8774\u8776\u4f18\u5316\uff09\n\n---\n\n### \u4ee3\u7801\uff1a\n\n```cpp\n#pragma GCC optimize(3,\"Ofast\",\"inline\")\n#pragma GCC target(\"avx,avx2\")\n#include <bits/stdc++.h>\nusing namespace std;\ntemplate<class t> inline t read(t &x){\n    char c=getchar();bool f=0;x=0;\n    while(!isdigit(c)) f|=c=='-',c=getchar();\n    while(isdigit(c)) x=(x<<1)+(x<<3)+(c^48),c=getchar();\n    if(f) x=-x;return x;\n}\ntemplate<class t> inline void write(t x){\n    if(x<0) putchar('-'),write(-x);\n    else{if(x>9) write(x/10);putchar('0'+x%10);}\n}\n\n#define int long long\n\nconst int mod=1e9+7;\nint n,m,ans,a[70];\n\nsigned main(){\n\tread(n);read(m);m--; //\u4e0b\u6807\u4ece0\u5f00\u59cb\n\tfor(int i=0;i<60;i++) a[i]=m>>i&1; //\u4e8c\u8fdb\u5236\u5206\u89e3\n\tfor(int i=n-1,mul=1;~i;i--,mul=mul*2%mod) if(i<60) ans=(ans+a[i]*mul)%mod; //\u4e8c\u8fdb\u5236\u7ec4\u5408\n\twrite(ans+1); //+1\u8f93\u51fa\n}\n```",
        "postTime": 1591776355,
        "uid": 65735,
        "name": "yuzhechuan",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P6232 \u3010[eJOI2019]\u6302\u67b6\u3011"
    },
    {
        "content": "```cpp\n/*\n\u89e3\u6cd5\u4e00: \n\u5bf9\u4e8e\u6837\u4f8b1\u53ef\u4ee5\u753b\u4e00\u68f5\u6811 \n                          / \\\n                         /    \\\n                        /       \\\n                      0/          \\1\n                      /             \\\n                     /               \\\n \t\t\t        /  \\            /  \\\n\t\t\t      0/    \\1       0/     \\1\n\t\t\t     /       \\       /       \\\n\t\t\t   0/ \\1   0/ \\1   0/ \\1   0/ \\1\n\t\t\t   /   \\   /   \\   /   \\   /   \\\n\t\t\t  000 100 010 110 001 101 011 111\n\t\t\t   0   4   2   6   1   5   3   7\n\t\t\t   1   5   3   7   2   6   4   8\n\t\t\t  000 001 010 011 100 101 110 111\n\t\t\t   0   1   2   3   4   5   6   7\n\t\t\t   1   2   3   4   5   6   7   8 \n0\u4e3a\u5de6\u5b50\u6811\uff0c1\u4e3a\u53f3\u5b50\u6811 \n\u6211\u4eec\u4ece\u4e0b\u5f80\u4e0a\u8bb0\u5f55 \uff0c\u53d1\u73b0\u8fd9\u4e0d\u5c31\u662f\u4e0b\u9762\u6240\u5bf9\u7684\u6570-1\u7684\u4e8c\u8fdb\u5236\u5417\n\u518d\u7ee7\u7eed\u7814\u7a76\uff0c\u53d1\u73b0\u4ece\u4e0a\u5f80\u4e0b\u8bb0\u5f55\u7684\u4e8c\u8fdb\u5236\u6570\u4e3a\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u7f16\u53f7-1\n\u9898\u76ee\u95ee\u7684\u5c31\u662f\u7f16\u53f7\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u5c06k-1\uff0c\u8f6c\u6210\u4e8c\u8fdb\u5236\uff0c\u7136\u540e\u5012\u8fc7\u6765\uff0c\u4e0d\u8db3n\u4f4d\u7684\u8865\u96f6\uff0c\u8f6c\u6210\u5341\u8fdb\u5236\uff0c\u7136\u540e+1 \n\n\n\u89e3\u6cd5\u4e8c\uff1a\n\u4ece\u6837\u4f8b1\u4e2d\u603b\u7ed3\u51fa\u6765\u7684\u89c4\u5f8b \nN=1:1|2 \nN=2:1 3|2 4\nN=3:1 5 3 7|2 6 4 8\nN=4:1 9 5 13 3 11 7 15|2 10 6 14 4 12 8 16\nN=5:1 17 9 25 5 21 13 29 3 19 11 27 7 23 15 31|2 18 10 26 6 22 14 30 4 20 12 28 8 24 16 32 \n\u6bcf\u4e2aN\u6240\u5bf9\u7684\u503c\u88ab\u7ad6\u7ebf\u9694\u6210\u4e86\u4e24\u534a\n\u524d\u4e00\u90e8\u5206\u53ef\u4ee5\u4eceN-1\u7684\u6574\u4e2a\u90e8\u5206\u7684\u6bcf\u4e2a\u6570*2-1\u5f97\u5230 \n\u540e\u4e00\u90e8\u5206\u53ef\u4ee5\u4ece\u524d\u4e00\u90e8\u5206\u7684\u6570+1\u5f97\u5230\uff08\u4e5f\u5c31\u662fN-1\u6574\u4e2a\u90e8\u5206\u7684\u6bcf\u4e2a\u6570*2\uff09 \n*/\n#include <bits/stdc++.h>\nusing namespace std;\nstruct reader{\n\ttemplate<typename Type>\n\treader&operator>>(Type&ret){\n\t\tret=0;int f=1;char ch=getchar();\n\t\tfor(;!isdigit(ch);ch=getchar())if(ch=='-')f=-f;\n\t\tfor(; isdigit(ch);ch=getchar())ret=(ret<<1)+(ret<<3)+(ch-'0');\n\t\tret*=f;return *this;\n\t}\n}fin;\n\nint a[105],b[105];\nlong long n,k,ans;\n\nint main(){\n\t\n\tfin>>n>>k;k--;\n\t\n\twhile(k){\n\t\tint y=k%2;\n\t\ta[++a[0]]=y;\n\t\tk/=2;\n\t}\n\t\n\tint cnt=0; \n\tfor(int i=n-a[0]+1;i<=n;i++)b[i]=a[++cnt];\n\t\n\tlong long s=1;\n\tfor(int i=1;i<=n;i++){\n\t\tans+=b[i]==1?s:0;\n\t\ts*=2;\n\t}\n\t\n\tprintf(\"%lld\\n\",ans+1);\n\t\n\treturn 0;\n}\n```\n",
        "postTime": 1606528716,
        "uid": 188879,
        "name": "VioletIsMyLove",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6232 \u3010[eJOI2019]\u6302\u67b6\u3011"
    },
    {
        "content": "\u8bc4\u84dd\u8fc7\u5206\u4e86\u5427\uff0c\u8fd9\u9898\u6700\u591a\u9ec4\uff08\n\n\u9996\u5148\u6211\u4eec\u4ece\u6302\u94a9\u7684\u6700\u4e0a\u5c42\u5411\u4e0b\u8d70\uff0c\u5047\u8bbe\u8fd9\u4e2a\u6302\u6746\u7684\u5de6\u8fb9\u548c\u53f3\u8fb9\u4e00\u5171\u6709 $ k $ \u4ef6\u8863\u670d\u3002\n\n\u82e5 $ k $ \u662f $ 2 $ \u7684\u500d\u6570\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u80fd\u5411\u5de6\u8d70\uff08\u5de6\u8fb9\u548c\u53f3\u8fb9\u7684\u8863\u670d\u4e00\u6837\u591a\uff09\u3002\u53cd\u4e4b\uff0c\u6211\u4eec\u53ea\u80fd\u5411\u53f3\u8d70\u3002\uff08\u5de6\u8fb9\u6bd4\u53f3\u8fb9\u591a\u4e00\u4ef6\u8863\u670d\uff09\n\n\u7136\u540e\u6211\u4eec\u5c31\u505a\u5b8c\u4e86\u3002\u3002\u3002\u53ea\u9700\u8981\u9884\u5904\u7406 $ 2 $ \u7684 $ 0 \\sim n-1 $ \u6b21\u5e42\u3002\u3002\u3002\n\ncode:\n```cpp\n#include<cstdio>\ntypedef long long ll;\nconst int mod=1e9+7;\nll k;int n,p[1000005];\ninline int Add(const int&a,const int&b){\n\treturn a+b>=mod?a+b-mod:a+b;\n}\ninline bool check(int n,ll k){\n\treturn n>=63||1ll<<n>=k;\n}\nint DFS(int n,ll k,int id){\n\tif(!id)return 0;\n\tif(k&1)return Add(p[id],DFS(n,k>>1,id-1));\n\telse return DFS(n,k>>1,id-1);\n}\nint main(){\n\tscanf(\"%d%lld\",&n,&k);p[0]=1;\n\tfor(register int i=1;i<=1000000;++i)p[i]=Add(p[i-1],p[i-1]);\n\tprintf(\"%d\",Add(DFS(n,k-1,n-1),1+!check(n-1,k)));\n\treturn 0;\n}\n```",
        "postTime": 1619006235,
        "uid": 160839,
        "name": "Prean",
        "ccfLevel": 7,
        "title": "\u5176\u4ed6 P6232\u9898\u89e3"
    },
    {
        "content": ">[\u6d1b\u8c37\u9898\u76ee\u9875\u9762\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P6232)\n\n>\u9898\u610f\u89c1\u6d1b\u8c37\u3002\uff08\u7528$m$\u8868\u793a\u9898\u76ee\u4e2d\u7684$k$\uff09\n\n\u89c2\u5bdf\u6837\u4f8b+\u51b7\u9759\u601d\u8003\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u7ed3\u8bba\uff1a\u7b2c$i(i\\bmod2=1)$\u6b21\u7684\u6302\u94a9\u5f80\u53f3\u5e73\u79fb$2^{n-1}$\u683c\u5c31\u662f\u7b2c$i+1$\u6b21\u7684\u6302\u94a9\u3002\u7406\u7531\u5f88\u663e\u7136\uff0c\u56e0\u4e3a\u8981\u4fdd\u6301\u6700\u4e0a\u9762\u7684\u90a3\u4e2a\u8fde\u63a5\u6746\u5e73\u8861\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u5c31\u53ef\u4ee5\u5c06\u539f\u95ee\u9898\u8f6c\u5316\u4e3a\u4e00\u4e2a\u89c4\u6a21\u51cf$1$\u7684\u95ee\u9898\uff0c\u5927\u6982\u662f\u8fd9\u6837\u7684\uff1a\n```cpp\nif(m%2==1)n--,(m+=1)>>=1;\nelse n--,m>>=1,(ans+=pw[n])%=mod;\n```\n\n\u5176\u4e2d`pw[i]`\u662f$2^i$\u3002\u76f4\u5230$n=0$\u4e3a\u6b62\u3002\u521d\u59cb\u65f6$ans=1$\u3002\n\n\u9884\u5904\u7406$pw$\uff0c\u590d\u6742\u5ea6$\\mathrm O(n)$\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nconst int mod=1000000007;\nconst int N=1000000;\nint pw[N+1];\nsigned main(){\n\tint n,m;\n\tcin>>n>>m;\n\tpw[0]=1;\n\tfor(int i=1;i<=n;i++)pw[i]=(pw[i-1]<<1)%mod;\n\tint ans=1;\n\twhile(n){\n\t\tif(m%2==1)n--,(m+=1)>>=1;\n\t\telse n--,m>>=1,(ans+=pw[n])%=mod;\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```",
        "postTime": 1591107383,
        "uid": 138400,
        "name": "chenxia25",
        "ccfLevel": 9,
        "title": "\u6d1b\u8c37 P6232 - \u6302\u67b6"
    },
    {
        "content": "\u56e0\u4e3a\u8fd9\u4e2a\u63cf\u8ff0\u5f88\u6709\u201c\u4e8c\u8fdb\u5236\u201d\u7684\u7279\u5f81\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u89c2\u5bdf\u7136\u540e~~\u627e\u89c4\u5f8b~~\u5f97\u51fa\u7b54\u6848\u3002\n\n\u6211\u4eec\u5148\u89c2\u5bdf\u8fd9\u4e2a\u987a\u5e8f\uff1a\n\n$1,5,3,7,2,6,4,8$\n\n\u56e0\u4e3a\u662f\u201c\u4e8c\u8fdb\u5236\u201d\uff0c\u5c31\u8003\u8651\u5c06\u5b83\u6298\u534a\uff1a\n\n$1,5,3,7\\ |\\ 2,6,4,8$\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u6298\u51fa\u7684\u4e24\u534a\u4e2d\uff0c\u76f8\u540c\u4f4d\u7f6e\u7684\u5dee\u662f$1$\uff0c\u5373$2^0$\u3002\n\n\u7ee7\u7eed\u6298\u534a\uff1a\n\n$1,5|3,7$\n\n\u76f8\u540c\u4f4d\u7f6e\u7684\u5dee\u662f$2$\uff0c\u5373$2^1$\u3002\n\n\u518d\u6765\uff01\n\n$1|5$\n\n\u76f8\u540c\u4f4d\u7f6e\u7684\u5dee\u662f$4$\uff0c\u5373$2^2$\uff0c\u4e5f\u5373$2^{n-1}$\u3002\n\n\u4f3c\u4e4e\u627e\u5230\u4e86\u4ec0\u4e48\u89c4\u5f8b\uff1f\n\n\u518d\u6765\u89c2\u5bdf$n=5$\u65f6\u7684\u6570\u5217\uff1a\n\n$1,17,9,25,5,21,13,29,3,19,\\text{etc.}$\n\n\u6211\u4eec\u76f4\u63a5\u89c2\u5bdf\u76f8\u90bb\u4e24\u9879\u7684\u5dee\uff08\u5373\u6700\u540e\u4e00\u6b21\u6298\u534a\u7684\u7ed3\u679c\uff09\uff0c\u53d1\u73b0\u90fd\u662f$16$\uff0c\u662f$2^4$\uff0c\u4e5f\u5373$2^{n-1}$\u3002\u7136\u540e\u89c2\u5bdf\u95f4\u9694\u4e00\u4e2a\u6570\u7684\u5dee\uff0c\u53d1\u73b0\u90fd\u662f$8$\uff0c\u662f$2^3$\u2026\u2026\n\n\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u60f3\u51fa\u8fd9\u6837\u7684\u7b97\u6cd5\uff0c\u5373**\u4ece\u5927\u5230\u5c0f**\u679a\u4e3e\u8fd9\u4e2a\u6298\u534a\u7684\u957f\u5ea6\uff0c\u5373$2^i$\u3002\u5982\u679c$k$\u6bd4\u5b83\u5c0f\uff0c\u5c31\u8bf4\u660e\u5728\u6298\u534a\u7684\u524d\u4e00\u534a\u91cc\u9762\uff0c\u7b54\u6848\u4e0d\u53d8\uff1b\u5426\u5219\uff0c\u5373\u5728\u540e\u4e00\u534a\u91cc\u9762\uff0c$k$\u51cf\u53bb$2^i$\uff0c\u7b54\u6848\u52a0\u4e0a$2^{n-i-1}$\uff08\u5373\u5f53\u524d\u4e24\u534a\u4e4b\u5dee\uff09\u3002\n\n**\u4e3a\u4e86\u5229\u7528\u4e8c\u8fdb\u5236\u7684\u6027\u8d28\uff0c$k$\u4e00\u8bfb\u8fdb\u6765\u5c31\u5e94\u8be5\u51cf\u53bb$1$\uff0c\u5e76\u4e14\u8f93\u51fa\u65f6\u7b54\u6848\u5e94\u8be5\u518d\u52a0$1$\uff08\u56e0\u4e3a\u8be5\u7b97\u6cd5\u9ed8\u8ba4\u4f4d\u7f6e\u4ece$0$\u5f00\u59cb\uff09\u3002**\n\n\n------------\n\n\u5728\u8fd9\u91cc\u7b80\u5355\u8bf4\u660e\u4e00\u4e0b\u8fd9\u4e2a\u987a\u5e8f\u7684\u6765\u5386\uff1a\n\n\u9996\u5148\u7b2c\u4e00\u4e2a\u8863\u670d\u80af\u5b9a\u6302\u5728$1$\u53f7\u4f4d\u3002\n\n\u7136\u540e\uff0c\u5728\u56fe\u4e0a\u627e\u4e00\u4e0b\uff0c\u5c31\u4f1a\u53d1\u73b0\u7b2c\u4e8c\u4ef6\u53ea\u80fd\u6302\u5728$2^{n-1}$\u7684\u4f4d\u7f6e\u4e0a\uff1b\n\n\u7136\u540e\u73b0\u5728\u56e0\u4e3a\u53ea\u6709\u5de6\u5b50\u6811\u80fd\u5927\u4e8e\u53f3\u5b50\u6811\uff0c\u56e0\u6b64\u7b2c\u4e09\u4ef6\u6302\u5728$2^{n-2}$\u4e0a\uff1b\n\n\u7ee7\u7eed\u679a\u4e3e\u4e0b\u53bb\uff0c\u7b2c$4$\u4ef6\u6302\u5728$2^{n-1}+2^{n-2}$\u4e0a\uff1b\n\n\u7b2c$5$\u4ef6\u6302\u5728$2^{n-3}$\u4e0a\uff1b\n\n\u7b2c$6$\u4ef6\u6302\u5728$2^{n-1}+2^{n-3}$\u4e0a\n\n\u7b2c$7$\u4ef6\u6302\u5728$2^{n-2}+2^{n-3}$\u4e0a\uff1b\n\n\u7b2c$8$\u4ef6\u6302\u5728$2^{n-1}+2^{n-2}+2^{n-3}$\u4e0a\n\n\u2026\u2026\n\n\u5b9e\u9645\u4e0a\uff0c\u7b2c$k$\u4ef6\u7684\u4f4d\u7f6e**\u662f$k-1$\u7684\u4e8c\u8fdb\u5236\u8868\u8fbe\u7684\u9006\u5e8f\u5e76\u52a0\u4e00**\u3002\n\n------------\n\n\u6700\u540e\u662f\u590d\u6742\u5ea6\u5206\u6790\u3002\u56e0\u4e3a$k\\leq 10^{18}$\uff0c\u56e0\u6b64\u8fd9\u4e2a$i$\u53ea\u8981\u4ece$\\min(62,n)$\u5f00\u59cb\u679a\u4e3e\u5373\u53ef\u3002\u5982\u679c\u7528\u5feb\u901f\u5e42\u8ba1\u7b97$2^{n-i-1}$\u7684\u8bdd\uff0c\u590d\u6742\u5ea6\u662f$O(62\\log n)$\u7684\uff1b\u5f53\u7136\uff0c\u56fe\u65b9\u4fbf\uff0c\u76f4\u63a5$O(n)$\u9884\u5904\u7406$2^i$\u4e5f\u6ca1\u4ec0\u4e48\u4e0d\u53ef\u4ee5\u7684\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nconst int mod=1e9+7;\nint n,m,bin[64],res,BIN[1001000];\nsigned main(){\n\tcin>>n>>m,m--,bin[0]=BIN[0]=1;\n\tfor(int i=1;i<=62;i++)bin[i]=bin[i-1]<<1;\n\tfor(int i=1;i<=n;i++)BIN[i]=(BIN[i-1]<<1)%mod;\n\tfor(int i=62;i>=0;i--)if(m>=bin[i])m-=bin[i],(res+=BIN[n-i-1])%=mod;\n\tcout<<++res<<endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1591086944,
        "uid": 123369,
        "name": "xtx1092515503",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6232 \u3010[eJOI2019]\u6302\u67b6\u3011"
    }
]