[
    {
        "content": "\u6b64\u9898\u4e3aNOIP\u539f\u9898\uff0c\u96be\u5ea6\u548c\u590d\u6742\u5ea6\u8f83\u5927\n\n\n\u9996\u5148\uff0c\u6211\u4eec\u770b\u6570\u636e\u8303\u56f410^100\uff0c\u5c31\u77e5\u9053\u6570\u636e\u6709\u591a\u9634\u9669\u4e86\uff08\u4e00\u80a1\u5bd2\u610f\u88ad\u6765\uff09~(\u2267\u25bd\u2266)/\n\n\n\u7136\u800c\u771f\u6b63\u9700\u8981\u8ba1\u7b97\u7684\u90e8\u5206\u5c31\u662f\u540ek\u4f4d\u4e86\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u5c3e\u6765\u5206\u6790\u2192\u65e2\u540e1\u4f4d\uff0c\u540e2\u4f4d\uff0c\u540e3\u4f4d\uff0c\u540e4\u4f4d\u2026\u2026\u540ek\u4f4d\uff0c\u9012\u63a8\u53bb\u627e\n\n\n\u5047\u4f7f\u8f93\u5165\u6570\u636e\u4f4d198123 4\n\n\n\u2460\u622a\u53d6\u540e4\u4f4d8123\uff0c\u53ea\u9700\u5bf98123\u505a\u5904\u7406\uff08\u8f93\u5165\u65f6\u9700\u6ce8\u610f\uff0c\u9996\u5148\u8f93\u5165\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5206\u5272\u540e\u5b58\u5165\u6570\u7ec4\uff09\n\n\n\u2461\u9996\u5148\u53d6\u6700\u540e\u4e00\u4f4d3\uff0c\u5bfb\u627e\u5faa\u73af\u8282\uff08\u6b64\u65f6\uff0c\u7528\u5e03\u5c14\u6570\u7ec4\u5224\u65ad\u662f\u5426\u5b58\u5728\u5faa\u73af\uff0c\u82e5\u4e0d\u5b58\u5728\uff0c\u76f4\u63a5\u8f93\u51fa-1)\n\n\n\u00a0\u00a0 3,9,7,1,\\*3\uff0c\u5faa\u73af\u957f\u5ea6\u4e3a4\n\n\n\u2462\u6b64\u65f6\uff0c\u53d6\u540e\u4e24\u4f4d23\uff1a(23^4) mod 100=41 \u6b64\u65f6\uff0c23\u9700\u6bcf\u6b21\u4e58\u4ee541\uff0c\u53ef\u4fdd\u8bc1\u6700\u540e\u4e00\u4f4d\u4e0d\u53d8\n\n\n\u00a023\\*41^n\u7684\u5faa\u73af\u8282\u4e3a43\u00a063 83 03 23 \u5faa\u73af\u8282\u957f\u5ea6\u4e3a5\uff0c\u6b64\u65f6\uff0c\u5faa\u73af\u603b\u957f\u5ea6\u4f4d4\\*5=20\n\n\n\u2463\u901a\u7b2c3\u6b65\u64cd\u4f5c\uff0c\u53d6\u540e\u4e09\u4f4d123\uff1a\uff08123^20) mod 1000=201\n\n\n123\\*201^n\u7684\u5faa\u73af\u8282\u4e3a723\u00a0323 923 523 123 \u5faa\u73af\u8282\u957f\u5ea6\u4e3a5\uff0c\u6b64\u65f6\u603b\u957f\u5ea6\u4f4d20\\*5=100\n\n\n\u2464\u8fd8\u662f\u4e00\u6837\uff0c\u53d6\u540e\u56db\u4f4d8123\uff1a(8123^100) mod 10000=6001\n\n\n8123\\*6001^n\u7684\u5faa\u73af\u8282\u4f4d6123 4123 2123 0123 8123 \u5faa\u73af\u8282\u957f\u5ea6\u4e3a5\uff0c\u6b64\u65f6\u603b\u957f\u5ea6\u4f4d100\\*5=500\n\n\n\u7b54\u6848\u5c31\u51fa\u6765\u4e86\n\n\n\u505a\u9898\u65f6\u9700\u6ce8\u610f\u9ad8\u7cbe\u7684\u8fd0\u7528\u548c\u5b57\u7b26\u4e32\u5904\u7406\n\n\n\u8fd8\u9700\u6ce8\u610f\uff0c\u6bcf\u6b21\u7684\uff08n^m) mod 10^a\u7684\u7ed3\u679c\u9700\u8981\u4ee3\u5230\u4e0b\u4e00\u6b21\u4e2d\uff0c\u5426\u5219\u4f1a\u8d85\u65f6\uff01\uff08\u8ba1\u7b97\u65f6\uff0c\u987b\u6574\u4e2a\u540ek\u4f4d\u90fd\u8981\u4e58\uff09\n",
        "postTime": 1376155585,
        "uid": 277,
        "name": "plane",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "### \u9898\u610f\n\u7ed9\u5b9a\u4e24\u6574\u6570 $n,k$\uff0c\u6c42 $n$ \u7684\u6b63\u6574\u6570\u6b21\u5e42\u7684\u6700\u540e $k$ \u4f4d\u7684\u5faa\u73af\u957f\u5ea6\uff0c\u82e5\u5faa\u73af\u4e0d\u5b58\u5728\u8f93\u51fa $-1$\u3002\n\n$1\\le n\\le 10^{100},1\\le k \\le 100$\n\n### \u9898\u89e3\n**\u8fd9\u7bc7\u9898\u89e3\u662f\u5bf9[\u6700\u9ad8\u8d5e\u9898\u89e3](https://www.luogu.com.cn/blog/user277/solution-p1050)\u7684\u8865\u5145\u4e0e\u8bf4\u660e**\n\n\u5728\u770b\u6700\u9ad8\u8d5e\u9898\u89e3\u7684\u65f6\u5019\uff0c\u56e0\u4e3a\u6ca1\u6709\u653e\u4e0a\u8ba1\u7b97\u8fc7\u7a0b\uff0c\u6211\u5bf9\u7740\u9898\u89e3\u624b\u73a9\u4e86\u597d\u4e45\u624d\u5f04\u660e\u767d![kk](https://xn--9zr.tk/kk)\uff0c\u6240\u4ee5\u5c31\u6709\u4e86\u8fd9\u7bc7\u9644\u4e0a\u8ba1\u7b97\u8fc7\u7a0b\u7684\u9898\u89e3\u3002\n\n\u624b\u73a9\u6570\u636e `198123 4`\uff0c\u56e0\u4e3a\u8981\u6c42\u53ea\u53d6\u540e 4 \u4f4d\uff0c\u6240\u4ee5\u5c06\u5176\u622a\u53d6\u6210 `8123`\u3002\n\n\u6211\u4eec\u9010\u4f4d\u8fdb\u884c\u5904\u7406\uff1a\n- \u5148\u5904\u7406\u6700\u540e\u4e00\u4f4d\u7684\u5faa\u73af\u8282\uff1a\u6700\u540e\u4e00\u4f4d\u662f `3`\uff0c\u5faa\u73af\u8282\u957f\u5ea6\u4e3a 4\u3002\u6240\u4ee5\u540e\u4e24\u4f4d\u7684\u5faa\u73af\u8282\u957f\u5ea6\u4e00\u5b9a\u4e3a 4 \u7684\u500d\u6570\uff0c\u4e3a\u4e86\u52a0\u5feb\u8ba1\u7b97\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u4e58\u6570\u53d8\u4e3a `8123^4` \uff0c\u53d6\u540e 4 \u4f4d\u53d8\u6210 `0641`\u3002\n- \u518d\u5904\u7406\u540e\u4e24\u4f4d\uff1a\u540e\u4e24\u4f4d\u662f `23` \uff0c\u5728\u4e58\u4e86 5 \u6b21 `0641` \u540e\u51fa\u73b0\u4e86\u5faa\u73af\uff0c\u5faa\u73af\u8282\u957f\u5ea6\u4e3a 4*5=20\u3002\u540c\u6837\u4e3a\u4e86\u52a0\u5feb\u8ba1\u7b97\uff0c\u4e58\u6570\u53d8\u4e3a `8123^20=0641^5`\uff0c\u53d6\u540e 4 \u4f4d\u53d8\u6210 `9201`\u3002\u4e4b\u540e\u5c31\u6309\u7167\u8fd9\u6837\u7684\u65b9\u6cd5\u5904\u7406\u5373\u53ef\u3002\n- \u540e\u4e09\u4f4d\uff1a\u540e\u4e09\u4f4d\u662f `123` \uff0c\u4e58\u4e86 5 \u6b21 `9201` \u540e\u51fa\u73b0\u5faa\u73af\uff0c\u5faa\u73af\u8282\u957f\u5ea6\u4e3a 20*5=100 \uff0c\u4e58\u6570\u53d8\u4e3a `9201^5%(10^4)=6001`\n- \u540e\u56db\u4f4d\uff1a\u540e\u56db\u4f4d\u662f `8123` \uff0c\u4e58\u4e86 5 \u6b21 `6001` \u540e\u51fa\u73b0\u5faa\u73af\uff0c\u5faa\u73af\u8282\u957f\u5ea6\u4e3a 100*5=500\uff0c500 \u5c31\u662f\u6700\u7ec8\u7684\u7b54\u6848\u3002\n\n\u8bb0\u5f97\u5224\u65ad\u65e0\u89e3\u7684\u60c5\u51b5\uff1a\u5982\u679c\u5728\u5904\u7406\u67d0\u4e00\u4f4d\u65f6\uff0c\u4e58\u4e86\u4e58\u6570 10 \u6b21\uff0c\u8fd8\u662f\u6ca1\u6709\u51fa\u73b0\u5faa\u73af\uff0c\u65e0\u89e3\u3002\n\n```\n8123               1\n8123*8123=65983129 2\n3129*8123=25416867 3\n6867*8123=55780641 4\n0641*8123=05206843 #\n8123^4=4353773312630641\n\n8123               1\n8123*0641=05206843 2\n6843*0641=04386363 3\n6363*0641=04078683 4\n8683*0641=05565803 5\n5803*0641=03719723 #\n0641^5=108215668739201\n\n8123               1\n8123*9201=74739723 2\n9723*9201=89461323 3\n1323*9201=12172923 4\n2923*9201=26894523 5\n4523*9201=41616123 #\n9201^5=65943979755726446001\n\n8123               1\n8123*6001=48746123 2\n6123*6001=36744123 3\n4123*6001=24742123 4\n2123*6001=12740123 5\n0123*6001=00738123 #\n\nans=4*5*5*5=500\n```\n### \u4ee3\u7801\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint k;\nchar str[205];\nstruct bignum\n{\n\tint x[205];\n\tbignum(){memset(x,0,sizeof(x));}\n}n,tmp,mul,ans;\nbignum operator *(bignum a,bignum b)//\u7279\u5316\u8fc7\u7684\u9ad8\u7cbe\u4e58 \u53ea\u53d6\u540ek\u4f4d\n{\n\tbignum ans;\n\tfor(int i=0;i<k;i++)\n\t\tfor(int j=0;j<k;j++)\n\t\t\tans.x[i+j]+=a.x[i]*b.x[j];\n\tfor(int i=0;i<k;i++)ans.x[i+1]+=ans.x[i]/10,ans.x[i]%=10;\n\tfor(int i=k;i<205;i++)ans.x[i]=0;\n\treturn ans;\n}\nbignum operator *(bignum a,int b)//\u8fd9\u4e2a\u9ad8\u7cbe\u4e58\u4f4e\u7cbe\u662fans\u4e13\u7528\u7684233\n{\n\tfor(int i=0;i<=200;i++)a.x[i]*=b;\n\tfor(int i=0;i<=200;i++)a.x[i+1]+=a.x[i]/10,a.x[i]%=10;\n\treturn a;\n}\nint main()\n{\n\tscanf(\"%s %d\",str,&k);\n\tans.x[0]=1;\n\tint len=strlen(str);\n\tfor(int i=0;i<k;i++)\n\t\tn.x[i]=str[len-i-1]-'0';\n\tmul=n;\n\tfor(int i=0;i<k;i++)\n\t{\n\t\tbignum tmp=n;\n\t\tint j=1,flag=1;\n\t\tfor(j=1;j<=10;j++)\n\t\t{\n\t\t\ttmp=tmp*mul;\n\t\t\tif(tmp.x[i]==n.x[i])\n\t\t\t{\n\t\t\t\tans=ans*j;\n\t\t\t\tflag=0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif(flag)\n\t\t\treturn puts(\"-1\"),0;\n\t\ttmp=mul;\n\t\tfor(int k=1;k<j;k++)\n\t\t\tmul=mul*tmp;\n\t}\n\tlen=200;\n\twhile(ans.x[len]==0&&len>=1)len--;\n\tfor(;len>=0;len--)putchar(ans.x[len]+'0');\n}\n```",
        "postTime": 1624933830,
        "uid": 87434,
        "name": "_Life_",
        "ccfLevel": 7,
        "title": "P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "\u7ffb\u904d\u4e86\u8fd9\u91cc\u6d1b\u8c37\u7684\u6240\u6709\u9898\u89e3\u90fd\u6ca1\u627e\u5230\u7528\u6b27\u62c9\u5b9a\u7406\u505a\u7684\n\n\u6b27\u62c9\u5b9a\u7406\uff1a\n$$\na^{\\varphi(n)} \\equiv 1 (\\bmod n),\\gcd(a,n)=1\n$$\n\u6b27\u62c9\u5b9a\u7406\u6709\u4e00\u79cd\u63a8\u5e7f\uff1a\n$$\nA^B\\bmod C=A^{B\\%\\varphi(C)+\\varphi(C)} \\bmod C , B\\ge \\varphi(C)\n$$\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u672c\u9898\u4e2d\u5faa\u73af\u957f\u5ea6**\u53ef\u4ee5**\u4e3a $\\varphi(10^k)$\n\n\u5f88\u53ef\u60dc\uff0c\u8fd9\u4e2a\u5faa\u73af\u957f\u5ea6\u5e76\u4e0d\u662f\u9898\u76ee\u6240\u8981\u6c42\u7684\u6700\u5c0f\n\n\u4f46\u662f\uff0c\u663e\u7136\u6700\u5c0f\u7684\u5faa\u73af\u957f\u5ea6\u4e00\u5b9a\u662f\u4efb\u610f\u4e00\u79cd\u5408\u6cd5\u7684\u5faa\u73af\u957f\u5ea6\u7684\u56e0\u5b50\n\n\u6bd4\u5982 $2^i (\\bmod 7)$ \u4e3a \n\n```\n2 4 1 2 4 1 2 4 1 ...\n```\n\n\u6211\u7528\u6b27\u62c9\u5b9a\u7406\u6c42\u51fa\u6765\u5faa\u73af\u8282\u4e3a $\\varphi(7)=6$\uff0c\u800c\u6700\u5c0f\u5faa\u73af\u8282\u4e3a $3$ \uff0c$3$ \u662f $6$ \u7684\u56e0\u5b50\n\n\u90a3\u4e48\u6211\u4eec\u901a\u8fc7\u6253\u8868\u53ef\u4ee5\u53d1\u73b0\n$$\n\\varphi(10^k)=4\\times 10^{k-1}=2^{k+1}\\times 5^{k-1}\n$$\n\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u679a\u4e3e\u8d28\u56e0\u5b50 2 \u548c 5 \u7684\u4e2a\u6570\u6765\u679a\u4e3e\u6240\u6709 $\\varphi(10^k)$ \u7684\u56e0\u5b50\uff0c\u7136\u540e\u5bf9\u6bcf\u4e00\u4e2a\u56e0\u5b50 $n^{2^i\\times 5^j}$ \u8fdb\u884c\u5feb\u901f\u5e42\u68c0\u6d4b\u662f\u5426\u5408\u6cd5\uff0c\u82e5\u5408\u6cd5\u5c31\u66f4\u65b0\u4e00\u4e0b\u7b54\u6848\n\n\u8fd9\u65f6\u5019\u8ba1\u7b97\u4e00\u4e0b\u590d\u6742\u5ea6\uff0c\u679a\u4e3e\u56e0\u5b50 $k^2$\uff0c\u5feb\u901f\u5e42\u6700\u591a\u505a $\\log_2(10^{100})=332$ \u6b21\u4e58\u6cd5\uff0c\u8bbe $N$ \u4e3a $n$ \u7684\u4f4d\u6570\uff0c\u6bcf\u6b21\u4e58\u6cd5\u6700\u591a\u662f $N^2$ \u7684\u590d\u6742\u5ea6\n\n\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(k^2\\times N^2 \\times 332)$\uff0c\u597d\u50cf\u4e0d\u592a\u884c\u7684\u4e9a\u5b50\u5462\n\n\u6211\u4eec\u53d1\u73b0\u74f6\u9888\u51fa\u5728\u5feb\u901f\u5e42\u4e0a\u9762\uff0c\u6211\u4eec\u8981\u641e\u51fa\u4e00\u79cd\u5feb\u901f\u6c42 $n^{2^i\\times 5^j}$ \u7684\u7b97\u6cd5\n\n\u8bbe $dp_{i,j}=n^{2^i\\times 5^j}$ \n\n\u8fb9\u754c\u6761\u4ef6\uff1a$dp_{0,0}=n$\n\n\u90a3\u4e48\u6211\u4eec\u5148\u628a $j=0$ \u7684\u4e00\u904d\u9012\u63a8\u6c42\u51fa\n\n$dp_{i,0}=dp_{i-1,0}^2$\n\n\u56e0\u4e3a\u663e\u7136\uff0c$n^{2^i}=n^{2^{i-1}+2^{i-1}}=n^{2^{i-1}}\\times n^{2^{i-1}}$\n\n\u7136\u540e\uff0c$dp_{i,j}=dp_{i,j-1}^5$\n\n\u56e0\u4e3a\uff0c$n^{2^i\\times 5^j}=n^{5\\times (2^i\\times 5^{j-1})}=(n^{2^i\\times 5^{j-1}})^5$\n\n\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u975e\u5e38\u4f18\u79c0\u7684 $O(k^2\\times N^2 \\times 5)$\n\n~~\u770b\u4e0a\u53bb\u8fd8\u662f\u5f97 TLE~~\n\n\u9ad8\u7cbe\u538b8\u4f4d\u628a $N$ \u53d8\u6210 $\\frac n 8$\n\n\u8fd9\u6837\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(k^2\\times N^2\\times 5+k^2\\times N^2\\times 3)$\n\n\u5ffd\u7565\u5e38\u6570\u90a3\u5c31\u662f $O(k^2\\times N^2)$\n\n~~\u5e38\u6570\u5b9e\u5728\u592a\u5927\u4ee5\u81f3\u4e8e\u8981\u5f00Ofast\u624d\u80fd\u8fc7\u4f46\u8fd8\u662f450ms\u771f\u83dc~~\n\n```cpp\n// This code wrote by chtholly_micromaker(MicroMaker)\n#pragma GCC optimize(\"Ofast\")\n#include <bits/stdc++.h>\n#define reg register\n#define int long long\nusing namespace std;\nconst int MaxN=150;\nconst int base=100000000;\nconst int pow10[]={1,10,100,1000,10000,100000,1000000,10000000,100000000};\nint s[MaxN],k;\nstruct Bigint\n{\n\tint a[MaxN],n;\n\tinline void clear()\n\t{\n\t\tmemset(a,0,sizeof a);\n\t\tn=1;\n\t\treturn;\n\t}\n\tinline void work()\n\t{\n\t\twhile(n>1&&!a[n])\n\t\t\t--n;\n\t\treturn;\n\t}\n\tinline Bigint read()\n\t{\n\t\tmemset(s,0,sizeof s);\n\t\tclear();\n\t\treg int cnt=0;\n\t\treg char c=getchar();\n\t\twhile(!isdigit(c))\n\t\t\tc=getchar();\n\t\twhile(isdigit(c))\n\t\t\ts[++cnt]=c^'0',c=getchar();\n\t\tfor(int i=1;i<=(cnt>>1);++i)\n\t\t\tswap(s[i],s[cnt-i+1]);\n\t\tn=0;\n\t\tfor(int i=1;i<=cnt;i+=8)\n\t\t{\n\t\t\t++n;\n\t\t\ta[n]+=s[i+7]*10000000;\n\t\t\ta[n]+=s[i+6]*1000000;\n\t\t\ta[n]+=s[i+5]*100000;\n\t\t\ta[n]+=s[i+4]*10000;\n\t\t\ta[n]+=s[i+3]*1000;\n\t\t\ta[n]+=s[i+2]*100;\n\t\t\ta[n]+=s[i+1]*10;\n\t\t\ta[n]+=s[i+0]*1;\n\t\t}\n\t\twork();\n\t\treturn *this;\n\t}\n\tinline void write() const\n\t{\n\t\tprintf(\"%lld\",a[n]);\n\t\tfor(int i=n-1;i;--i)\n\t\t\tprintf(\"%08lld\",a[i]);\n\t\tputs(\"\");\n\t\treturn;\n\t}\n\tinline Bigint operator * (const Bigint &nt) const\n\t{\n\t\tBigint res;res.clear();\n\t\tres.n=min(105ll,n+nt.n);\n\t\tfor(int i=1;i<=n;++i)\n\t\t\tfor(int j=1;j<=nt.n;++j)\n\t\t\t\tif(i+j-1<=k)\n\t\t\t\t\tres.a[i+j-1]+=a[i]*nt.a[j];\n\t\tfor(int i=1;i<=res.n;++i)\n\t\t\tres.a[i+1]+=res.a[i]/base,res.a[i]%=base;\n\t\tres.work();\n\t\treturn res;\n\t}\n\tinline bool operator < (const Bigint &nt) const\n\t{\n\t\tif(n!=nt.n)\n\t\t\treturn n<nt.n;\n\t\tfor(int i=n;i;--i)\n\t\t\tif(a[i]!=nt.a[i])\n\t\t\t\treturn a[i]<nt.a[i];\n\t\treturn false;\n\t}\n};\ntemplate <class t> inline void read(t &s)\n{\n\ts=0;\n\treg int f=1;\n\treg char c=getchar();\n\twhile(!isdigit(c))\n\t{\n\t\tif(c=='-')\n\t\t\tf=-1;\n\t\tc=getchar();\n\t}\n\twhile(isdigit(c))\n\t\ts=(s<<3)+(s<<1)+(c^48),c=getchar();\n\ts*=f;\n\treturn;\n}\ninline bool issame(const Bigint &a,const Bigint &b)\n{\n\tint T=k/8;\n\tfor(int i=1;i<=T;++i)\n\t\tif(a.a[i]!=b.a[i])\n\t\t\treturn false;\n\treg int lim=pow10[k-T*8];\n\treturn a.a[T+1]%lim==b.a[T+1]%lim;\n}\ninline Bigint fastpow(Bigint a,int b)\n{\n\treg Bigint res;res.clear();\n\tres.a[1]=1;\n\tfor(;b;b>>=1,a=a*a)\n\t\tif(b&1)\n\t\t\tres=res*a;\n\treturn res;\n}\nBigint A,B,t,two,five;\nBigint ans;\nBigint fivepow[150],twopow[150];\nBigint dp[150][150];\nsigned main(void)\n{\n\tA.read();\n\tread(k);\n\tif(A.a[1]==1&&A.n==1)\n\t{\n\t\tputs(\"0\");\n\t\treturn 0;\n\t}\n\tif(A.a[1]==0&&A.n==1)\n\t{\n\t\tputs(\"0\");\n\t\treturn 0;\n\t}\n\tif(issame(A*A,A))\n\t{\n\t\tputs(\"1\");\n\t\treturn 0;\n\t}\n\ttwo.clear();\n\tfive.clear();\n\tans.clear();\n\tans.a[1]=-1;\n\ttwo.a[1]=2;\n\tfive.a[1]=5;\n\t{\n\t\tfor(int i=0;i<k;++i)\n\t\t\tfivepow[i].clear();\n\t\tfivepow[0].a[1]=1;\n\t\tfor(int i=1;i<k;++i)\n\t\t\tfivepow[i]=fivepow[i-1]*five;\n\t}\n\t{\n\t\tfor(int i=0;i<=k+1;++i)\n\t\t\ttwopow[i].clear();\n\t\ttwopow[0].a[1]=1;\n\t\tfor(int i=1;i<=k+1;++i)\n\t\t\ttwopow[i]=twopow[i-1]*two;\n\t}\n\t{\n\t\tfor(int i=0;i<=k+1;++i)\n\t\t\tfor(int j=0;j<k;++j)\n\t\t\t\tdp[i][j].clear();\n\t\tdp[0][0]=A;\n\t\tfor(int i=1;i<=k+1;++i)\n\t\t\tdp[i][0]=dp[i-1][0]*dp[i-1][0];\n\t\tfor(int i=0;i<=k+1;++i)\n\t\t\tfor(int j=1;j<k;++j)\n\t\t\t\tdp[i][j]=dp[i][j-1]*dp[i][j-1]*dp[i][j-1]*dp[i][j-1]*dp[i][j-1];\n//\t\t\t\tdp[i][j]=fastpow(dp[i][j-1],5);\n\t}\n\tfor(int i=0;i<=k+1;++i)\n\t{\n\t\tfor(int j=0;j<k;++j)\n\t\t{\n\t\t\tif(!i&&!j)\n\t\t\t\tcontinue;\n\t\t\tB=twopow[i]*fivepow[j];\n\t\t\tt=dp[i][j]*A;\n\t\t\tif(issame(t,A))\n\t\t\t{\n\t\t\t\tif(ans.a[1]==-1||B<ans)\n\t\t\t\t\tans=B;\n\t\t\t}\n\t\t}\n\t}\n\tans.write();\n\treturn 0;\n}\n// phi(10^k) = 4*10^(k-1)\n```\n\n",
        "postTime": 1585021424,
        "uid": 51376,
        "name": "MyukiyoMekya",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "\u4e3a\u4ec0\u4e48\u5404\u4f4d\u7684\u4ee3\u7801\u90fd\u90a3\u4e48\u957f\uff1f\u6211\u7684\u4ee3\u7801\u6ca1\u538b\u884c\u624d40\u884c\uff0c\u6bd4Python\u90fd\u77ed\n\n\u4e2a\u4eba\u9ad8\u7cbe\u63a8\u8350\u7528**\u7ed3\u6784\u4f53**\uff0c\u53ef\u4ee5\u4f5c\u4e3a\u51fd\u6570\u8fd4\u56de\u503c\uff0c\u800c\u4e14\u4e0d\u7528memset\u76f4\u63a5\u8d4b\u503c\u5c31\u53ef\u4ee5\u6e05\u7a7a\uff0c\u4f3c\u4e4e\u8fd8\u6bd4\u6570\u7ec4\u7248\u8dd1\u5f97\u5feb\n\n\u8fd9\u9053\u9898\u601d\u8def\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u9010\u4f4d\u6bd4\u8f83\uff0c\u4e3b\u8981\u7684\u96be\u70b9\u662f\u4ee3\u7801\u5b9e\u73b0\u90e8\u5206\n\n\u8be6\u7ec6\u6ce8\u91ca\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<cstdio>\n#include<cstring>\nchar c[109];\nint k,l,u;\nstruct big{\n\tint a[109];\n}d,p,q,r,s,t;//\u7ed3\u6784\u4f53\nbig mul(big x,big y){//\u9ad8\u7cbe\u4e58\u9ad8\u7cbe\n\tbig z=d;//\u8d4b\u503c\u5b9e\u73b0\u6e05\u7a7a\n\tregister int i,j;\n\tfor(i=1;i<=k;++i){\n\t\tfor(j=k-i+1;j;--j){\n\t\t\tz.a[i+j-1]+=x.a[i]*y.a[j];\n\t\t}\n\t}//\u9ad8\u7cbe\u4e58\u6cd5\n\tfor(i=1;i<k;++i)z.a[i+1]+=z.a[i]/10,z.a[i]%=10;\n\tz.a[k]%=10;//\u5904\u7406\u8fdb\u4f4d\n\treturn z;\n}\nint main(){\n\tregister int i,j;\n\tscanf(\"%s%d\",c,&k),l=strlen(c);\n\tfor(i=(l<k?l:k);i;--i)p.a[i]=c[l-i]-48;//\u5b57\u7b26\u4e32\u8f6c\u6574\u6570\uff0cp\u5373\u4e3a\u539f\u6570\n\tr=p,t.a[l=1]=1;//r\u4e3a\u4e58\u7684\u7ed3\u679c\uff0c\u521d\u59cb\u503c\u4e3ap\n\tfor(i=1;i<=k;++i){\n\t\tif(mul(p,r).a[i]==p.a[i])continue;//\u5468\u671f\u4e3a1\u7684\u60c5\u51b5\n\t\tu=1,s=r;//s\u4e3a\u6bcf\u6b21\u4e58\u7684\u6570\n\t\tdo{\n\t\t\tr=mul(s,r),++u;\n\t\t\tif(u>10){\n\t\t\t\tputs(\"-1\");//\u5224\u65e0\u89e3\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}while(mul(p,r).a[i]!=p.a[i]);\n\t\tfor(j=1;j<=l;++j)t.a[j]*=u;\n\t\tfor(j=1;j<l;++j)t.a[j+1]+=t.a[j]/10,t.a[j]%=10;\n\t\tif(t.a[l]>=10)t.a[l+1]+=t.a[l]/10,t.a[l++]%=10;//\u66f4\u65b0\u7b54\u6848\uff0c\u9ad8\u7cbe\u4e58\u5355\u7cbe\n\t}\n\tfor(i=l;i;--i)printf(\"%d\",t.a[i]);//\u8f93\u51fa\n}\n```\n[71msAC\u8bb0\u5f55](https://www.luogu.org/record/24620346)\uff0c\u5728\u6ca1\u538b\u4f4d\u7684\u63d0\u4ea4\u4e2d\u7b97\u662f\u6bd4\u8f83\u5feb\u7684\u4e86\n\n\u505a\u5b8c\u8fd9\u9053\u9898\u518d\u63a8\u8350\u4e00\u9053\u9ad8\u7cbe\u9898\uff0c[P2293\u9ad8\u7cbe\u5ea6\u5f00\u6839](https://www.luogu.org/problem/P2293)\uff0c\u6d89\u53ca\u5230\u5927\u90e8\u5206\u5e38\u7528\u9ad8\u7cbe\u64cd\u4f5c",
        "postTime": 1570029228,
        "uid": 221955,
        "name": "panyf",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "```c\n//\u672c\u849f\u84bb\u7b2c\u4e00\u6b21\u53d1\u9898\u89e3,\u6709\u70b9\u6fc0\u52a8\n#include<bits/stdc++.h>\nusing namespace std;\nint xh[11]={1,1,4,4,2,1,1,4,4,2};//\u6253\u4e2a\u5c0f\u8868 \nint k,b[205],c[205],d[205],p[205],q[205],ss[205],tot1,tot2=2,t;\n//d\u6570\u7ec4:\u627f\u63a5\u5404\u79cd\u8fd0\u7b97\u7ed3\u679c\u5e76\u8f6c\u79fb\n//c\u6570\u7ec4:\u5b58\u8bfb\u5165\u6570\u7684\u540ek\u4f4d\n//ss\u6570\u7ec4:\u5b58\u50a8\u7ed3\u679c\n//b\u6570\u7ec4:\u8bb0\u5f55c\u6700\u540e\u4e00\u4f4d\u5faa\u73af\u7b2c\u4e00\u6b21\u65f6\u7684c\u6570\u7ec4\n//p,q\u6570\u7ec4:\u590d\u5236b\u6570\u7ec4 \n//tot1 \u65b9\u4fbf\u8bb0\u5f55c\u6570\u7ec4\n//\u5df2\u5faa\u73af\u7684\u4f4d\u6570 \nchar a[105];\nvoid mul1(int x[],int y[],int z[])//\u9ad8\u7cbe*\u9ad8\u7cbe \n{\n\tfor(int i=1;i<=k;i++)\n\t\tfor(int j=1;j<=k;j++)\n\t\t{\n\t\t\tz[i+j-1]+=x[i]*y[j];\n\t\t\tz[i+j]+=z[i+j-1]/10;\n\t\t\tz[i+j-1]%=10;\n\t\t}\n}\nvoid mul2(int x[],int y,int z[])//\u4f4e\u7cbe*\u9ad8\u7cbe \n{\n\tfor(int i=1;i<=k;i++)\n\t{\n\t\tz[i]+=x[i]*y;\n\t\tz[i+1]+=z[i]/10;\n\t\tz[i]%=10;\n\t}\n}\nint main()\n{\n\t\n\tscanf(\"%s%d\",a+1,&k);int len=strlen(a+1);\n\tfor(int i=len;i>=len-k+1;i--) c[++tot1]=a[i]-'0';\n\tfor(int i=1;i<=k;i++) b[i]=c[i];\n\tfor(int i=1;i<xh[c[1]];i++)\n\t{\n\t\tmemset(d,0,sizeof(d));\n\t\tmul1(b,c,d);\n\t\tfor(int j=1;j<=k;j++) b[j]=d[j];\n\t}\n\tss[1]=xh[c[1]];\n\tfor(int i=1;i<=k;i++) q[i]=p[i]=b[i];\n\twhile(tot2<=k)\n\t{\n\t\tfor(int i=1;i<=k;i++) b[i]=c[i];\n\t\twhile(t<11)\n\t\t{\n\t\t\tmemset(d,0,sizeof(d));\n\t\t\tmul1(b,p,d);t++;\n\t\t\tfor(int i=1;i<=k;i++) b[i]=d[i];\n\t\t\tif(b[tot2]==c[tot2]) break;\n\t\t\tmemset(d,0,sizeof(d));\n\t\t\tmul1(q,p,d);\n\t\t\tfor(int i=1;i<=k;i++) q[i]=d[i];\n\t\t}\n\t\tif(t==11){cout<<-1;return 0;}//\u5982\u679c\u67d0\u4e00\u4f4d\u5faa\u73af\u8d85\u8fc710\u6b21\u8fd8\u672a\u51fa\u73b0\u5faa\u73af,\u5219\u8f93\u51fa-1 \n\t\tfor(int i=1;i<=k;i++) p[i]=q[i];\n\t\tmemset(d,0,sizeof(d));\n\t\tmul2(ss,t,d);\n\t\tfor(int i=1;i<=100;i++) ss[i]=d[i];\n\t\ttot2++;t=0;\n\t}\n\tint len1=105;\n\twhile(ss[len1]==0&&len1>1) len1--;//\u53bb\u9664\u9ad8\u4f4d0 \n\tfor(int i=len1;i>=1;i--) printf(\"%d\",ss[i]);\n}\n//\u6700\u540e,\u6211\u60f3\u8bf4\u4e00\u53e5:xzynb\uff01\n```",
        "postTime": 1538560995,
        "uid": 122407,
        "name": "Ein_Niemand",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "\u8003\u5bdf\u9ad8\u7cbe\uff0c\u7d2f\u4e58\u3002\n\n\u5faa\u73af\u6761\u4ef6\uff1a\u539f\u6570\\*\u7d2f\u4e58\u5668=\u539f\u6570\u3002\n\n\u6b64\u65f6\uff1a\u539f\u6570\\*\u7d2f\u4e58\u5668=\u539f\u6570\u3002\n\n\u5373\u4e58n\u4e2a\u7d2f\u4e58\u5668\uff0c\u5df2\u5339\u914d\u7684\u4f4d\u6570\u4e0d\u6539\u53d8\u3002\n\n1\u4f4d\u4f4d\u5730\u5339\u914d\uff0c\u5982\u679c\u67d0\u4e00\u4f4d\u51fa\u73b011\u4e2a\u6570\u5b57\uff0c\u5219\u5fc5\u5b9a\u6ca1\u6709\u5faa\u73af\u3002\n\n\u6ce8\u610f\u6bcf\u4e00\u4f4d\u5339\u914d\u540e\uff0c\u7d2f\u4e58\u5668\u8981\u66f4\u65b0\u3002\n\n```cpp\n#include<cstdio>\n#include<cstring>\nint ans[101];\nint a[101],n=0,k;\nint i,j,rec[101],newn[101];\nchar ch[101];\nbool judge(int k) //\u8ba1\u7b97\u662f\u5426\u5faa\u73af \n{\n    int s[102];\n    memset(s,0,sizeof(s));\n    for (int i=1; i<=n; i++)\n      for (int j=1; j<=newn[0]; j++)\n        if (i+j-1 > k) break;\n        else\n        {\n           s[i+j-1]+=a[i]*newn[j];\n           s[i+j]+=s[i+j-1]/10;\n           s[i+j-1]%=10;\n        }\n    if (s[k] == a[k]) return 1;\n    return 0;\n}\nvoid mul() //\u7d2f\u4e58 \n{\n    int s[102];\n    memset(s,0,sizeof(s));\n    for (int i=1; i<=rec[0]; i++)\n      for (int j=1; j<=newn[0]; j++)\n        if (i+j-1 <= n)\n        {\n           s[i+j-1]+=rec[i]*newn[j];\n           s[i+j]+=s[i+j-1]/10;\n           s[i+j-1]%=10;\n        }\n    if (rec[0]+newn[0]-1 >= n) s[0]=n;\n    else if (s[rec[0]+newn[0]] > 0) s[0]=rec[0]+newn[0];\n    else s[0]=rec[0]+newn[0]-1;\n    for (int i=0; i<=s[0]; i++)\n      newn[i] = s[i];\n}\nvoid calc(int x) //\u5355\u7cbe*\u9ad8\u7cbe \n{    \n    for (int i=1; i<=ans[0]; i++)\n      ans[i]*=x;\n    for (int i=1; i<=ans[0]; i++)\n    {\n        ans[i+1]+=ans[i]/10;\n        ans[i]%=10;\n    }\n    while (ans[ans[0]+1] > 10)\n    {\n        ans[0]++;\n        ans[ans[0]+1]+=ans[ans[0]]/10;\n        ans[ans[0]]%=10;\n    }\n    if (ans[ans[0]+1] > 0) ans[0]++;\n}\nint main()\n{\n    scanf(\"%c\",&ch[++n]);\n    while (ch[n] != ' ')\n      scanf(\"%c\",&ch[++n]);\n    scanf(\"%d\",&k);\n    n--;\n    for (i=1; i<=n; i++)\n      a[i]=ch[n+1-i]-'0';\n    if (n > k) n=k;\n    if (n < k) \n    {\n      for (i=n+1; i<=k; i++)\n        a[i] = 0;\n      n = k;\n    } //init\n    for (i=1; i<=n; i++)\n      rec[i]=a[i]; //last one \u52a0\u6570 \n    rec[0]=n; \n    for (i=1; i<=n; i++)\n      newn[i]=a[i]; \n    newn[0]=n; //rec^x (\u7d2f\u4e58\u5668)\n    ans[0]=1; ans[1]=1;\n    for (i=1; i<=k; i++)\n    {\n        if (judge(i)) continue; //\u7b2ci\u4f4d\u76f8\u7b49 \n        else for (j=2; j<=11; j++)\n        {\n            mul(); //\u7d2f\u4e58\u5668 \n            if (judge(i)) break;\n        }\n        if (j > 11) //\u65e0\u89e3 \n        {\n            printf(\"-1\");\n            return 0;\n        }        \n        calc(j); //ans=ans*j;\n        for (j=newn[0]; j>=0; j--)\n          rec[j]=newn[j];\n    }\n    for (i=ans[0]; i>=1; i--)\n      printf(\"%d\",ans[i]);\n    return 0;\n}\n```",
        "postTime": 1477799896,
        "uid": 19884,
        "name": "\u7fe0\u7af9\u53f6\u98de",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "# [\u30101050\u3011\u5faa\u73af](https://www.luogu.org/problemnew/show/P1050)\n\u7ec8\u4e8eA\u4e86\u8fd9\u9053\u9898\uff0c\u5176\u5b9e\u5185\u5fc3\u662f\u7edd\u671b\u7684  \n\u8fd8\u6709\u4e00\u5468NOIP\u81ea\u5df1\u5374\u4ecd\u5728\u4e0e\u6c34\u9898\u594b\u6597  \n\u4e0d\u5f97\u4e0d\u627f\u8ba4\u8fd9\u9898\u8fd8\u662f\u76f8\u5f53\u5bb9\uff08du\uff09\u6613\uff08liu\uff09\u7684\n\n\n------------\n### \u8fd9\u9898\u7684\u5927\u81f4\u9898\u610f\u662f\uff1a\u6c42n\u7684\u540ek\u4f4d\u5faa\u73af\u957f\u5ea6\n\u8fd9\u4e48\u7b80\u5355\uff1f  \n### \u6570\u636e\u8303\u56f41<=n<=10^100,k<=100\n!!!\n\n\n------------\n## \u601d\u8def\n- \u770b\u5230\u6570\u636e\u8303\u56f4\uff0c\u679c\u65ad\u9ad8\u7cbe\n- \u770b\u5230\u6c42\u5e42\uff0c\u9996\u5148\u60f3\u5230\u7684\u662f\u66b4\u529b+\u5feb\u901f\u5e42\u4f18\u5316\uff08\u6700\u8fd1\u6ee1\u8111\u5b50\u66b4\u529b\uff09\uff0c\u4f46\u6b8b\u5fcd\u7684TLE\u544a\u8bc9\u4f60\u4e0d\u80fd\u8fd9\u4e48\u505a\n- \u6211\u4eec\u4e0d\u59a8\u628a\u5faa\u73af\u62c6\u5f00\u770b\uff1a\u5982\u679c\u8fd9\u4e2a\u6570\u7684\u5e42\u540e\u4e24\u4f4d\u5faa\u73af\uff0c\u5c31\u662f\u6307\u5012\u6570\u7b2c\u4e8c\u4f4d\u548c\u6700\u540e\u4e00\u4f4d\u540c\u65f6\u5faa\u73af\uff0c\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u60f3\u5230\u8fd9\u6837\u4e00\u79cd\u601d\u8def\n - \u5728\u6c42\u540ek\u4f4d\u7684\u5faa\u73af\u65f6\uff0c\u5148\u6c42\u6700\u540e\u4e00\u4f4d\u7684\u5faa\u73af\u957f\u5ea6\uff0c\u518d\u6c42\u5012\u6570\u7b2c\u4e8c\u4f4d\u4e0e\u6700\u540e\u4e00\u4f4d\u540c\u6b65\u5faa\u73af\u957f\u5ea6\uff0c\u518d\u6c42\u5012\u6570\u7b2c3\u4f4d\u4e0e\u540e\u4e24\u4f4d\u7684\u540c\u6b65\u5faa\u73af\u957f\u5ea6\n - \u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u6c42\u51fa\u540ek\u4f4d\u7684\u5faa\u73af\u957f\u5ea6\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u4eceO(ans)\u4f18\u5316\u5230O(fpk)(f\u4e3a\u9ad8\u7cbe\u8fd0\u7b97\u7684\u5e38\u6570,p\u4e3a\u6bcf\u4f4d\u679a\u4e3e\u7684\u6b65\u6570\uff0ck\u4e3a\u4f4d\u6570,\u5176\u4e2df<k^2,p<=10),\u56e0\u6b64\u8fd9\u79cd\u7b97\u6cd5\u53ef\u4ee5AC\u8fd9\u9053\u9898\n - \u5bf9\u4e8e\u6bcf\u4f4d\u679a\u4e3e\u6c42\u5e42\u4e0d\u7528\u6bcf\u6b21\u4e00\u4e2a\u4e2a\u628an\u5f80\u4e0a\u4e58\uff0c\u5426\u5219\u4ecd\u4f1aTLE\uff1b\u8fd9\u91cc\u6211\u4eec\u7528\u4e24\u4e2a\u7d2f\u4e58\u5668\uff0c\u4e00\u4e2a\u7d2f\u4e58\u5f53\u524d\u8ba1\u7b97\u7684\u5e42\uff0c\u53e6\u4e00\u4e2a\u7d2f\u4e58\u6bcf\u4f4d\u4e2d\u7528\u6765\u8fd0\u7b97\u7684\u4e58\u6570\n \n\n------------\n## \u7a0b\u5e8f\n```\n\u4e3b\u7a0b\u5e8f\u5982\u4e0b\uff0c\u9644\u8be6\u89e3\n```\n```cpp\nint main()\n{\n    bign n;in(n);cin>>k;\n    bign p;p.len=1;p.a[1]=1;\n\tbign ans,now,t,kt=n,f,mul=n;\n\tcpy(ans,p);cpy(now,n);cpy(kt,n);cpy(mul,n);\n    //\u521d\u59cb\u5316\u9636\u6bb5\n\tfor(int i=1;i<=k;i++){\n\t    cpy(kt,mul);cpy(f,ans);cpy(mul,p);\n        //\u6bcf\u4f4d\u8fd0\u7b97\u524d\u8fdb\u884c\u5e42\u4e0e\u4e58\u6570\u7684\u521d\u59cb\u5316\n\t\tint flag=0;//\u6807\u5fd7\u662f\u5426\u6709\u5faa\u73af\n\t\tif(i==1)mulc(now,kt);//\u7b2c\u4e00\u4f4d\u7279\u5224\n\t\tfor(int j=1;j<=10;j++)\n\t\t  {\n\t\t  \tmulc(mul,kt);//\u6c42\u4e0b\u4e00\u4f4d\u7684\u4e58\u6570\n\t\t  \tif(now.a[i]==n.a[i]){//\u662f\u5426\u5faa\u73af\n\t\t  \t\tflag=1;\n\t\t  \t\tbreak;\n\t\t\t  }\n\t\t\tmulc(now,kt);add(ans,f);//\u679a\u4e3e\u6c42\u5e42\n\t\t  }\n\t\tif(!flag){cout<<\"-1\";return 0;}\n        //\u6ca1\u6709\u5faa\u73af\u9000\u51fa\n\t}\n    out(ans);//\u8f93\u51fa\u7ed3\u679c\n    return 0;\n}\n```\n```\n\u4ee5\u4e0b\u4e3a\u672c\u849f\u84bb\u7684\u9ad8\u7cbe\u5b9e\u73b0\u90e8\u5206\uff0c\u7531\u4e8e\u4e2a\u4eba\u8fd0\u7b97\u7b26\u91cd\u8f7d\u638c\u63e1\u4e0d\u597d\uff0c\u6240\u4ee5bignumber\u8fd0\u7b97\u5168\u90e8\u4ee5\u51fd\u6570\u5f62\u5f0f\u5b8c\u6210\n```\n```cpp\nusing namespace std;\nstruct BigNumber{\n\tint a[105];\n\tint len;\n\tBigNumber(){\n\t\tmemset(a,0,sizeof(a));\n\t\tlen=0;\n\t}\n};\ntypedef BigNumber bign;\nvoid cpy(bign &x,bign y){\n\tx.len=y.len;\n\tfor(int i=1;i<=x.len;i++)\n\t  x.a[i]=y.a[i];\n}\nvoid in(bign &x){\n\tchar ch=getchar();x.len=0;\n\twhile(ch<'0'||ch>'9')ch=getchar();\n\twhile(ch<='9'&&ch>='0')x.len++,x.a[x.len]=(int)ch-'0',ch=getchar();\n\tfor(int i=1;i<=x.len/2;i++)\n\t  swap(x.a[i],x.a[x.len-i+1]);\n}\nvoid out(bign x){\n\tfor(int i=x.len;i>=1;i--)\n\t  cout<<x.a[i];\n\tcout<<endl;\n}\nvoid add(bign &x,bign y){\n\tfor(int i=1;i<=min(y.len,k);i++)\n\t  x.a[i]+=y.a[i];\n\tx.len=0;\n\tfor(int i=1;i<=k;i++){\n\t  if(x.a[i])x.len=max(x.len,i);\n\t  x.a[i+1]+=x.a[i]/10,x.a[i]%=10;\n    }\n}\nbign z;\nvoid mulc(bign &x,bign y){\n\t//cout<<k;\n\tz.len=0;memset(z.a,0,sizeof(z.a));\n\tfor(int i=1;i<=min(x.len,k);i++)\n\t  for(int j=1;i+j-1<=k;j++)\n\t    z.a[i+j-1]+=x.a[i]*y.a[j];\n\t    //cout<<\"ss\";\n\tfor(int i=1;i<=k;i++)\n\t  {\n\t  if(z.a[i])z.len=max(z.len,i);\n\t  z.a[i+1]+=z.a[i]/10,z.a[i]%=10;\n      }\n    cpy(x,z);\n}\n```\n### \u6b22\u8fce\u5404\u4f4d\u6307\u51fa\u4e0d\u8db3",
        "postTime": 1541215876,
        "uid": 119261,
        "name": "7KByte",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u8fd8\u6ca1\u6709\u6211\u5927python \u7684\u9898\u89e3\u8fd9\u91cc\u52a0\u4e0a\uff0c\u5feb\u901f\u5e42+python \u5927\u6570\n\n\u5927\u6982370 ms\uff0c\u8fd8ok\n\n\n------------\n```python\nn,k = map(int,input().split())\ndef qpow(a,b,p):\n\ta %= p\n\ts = 1\n\twhile b > 0:\n\t\tif b&1:\n\t\t\ts = s*a\n\t\ta = a*a%p\n\t\tb >>= 1\n\treturn s\nt = 1\nfor i in range(0,k+2):\n\tt *= 10\nn %= t;\nt = 1\nans = 1\nma = {}\nyes = 0\nfor i in range(0,k):\n\tma.clear()\n\tt *= 10\n\tnow = n\n\tnn = qpow(n,ans,t)\n\tma[now%t] = 1\n\t\n\tfor j in range(1,15):\n\t\tif j == 11:\n\t\t\tyes = 1\n\t\t\tbreak\n\t\tnow = now*nn%t\n\t\tif now in ma.keys():\n\t\t\tans = ans*j\n\t\t\tbreak;\n\t# print(i,ans)\n\tif yes == 1:\n\t\tbreak;\nif yes != 1:\n\tprint(ans)\nelse:\n\tprint(-1)\n```\n",
        "postTime": 1554836026,
        "uid": 30920,
        "name": "zzuzxy",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "\u770b\u5230\u6ca1\u6709java\u4ee3\u7801\u9898\u89e3\uff0c\u8d76\u7d27\u6765\u6c34\u4e00\u7bc7orz\n\n\u6838\u5fc3\u601d\u8def\u662f\u4ece\u6700\u540e\u4e00\u4f4d\u9010\u6b65\u5411\u524d\u9012\u63a8\uff0c\u4ee3\u7801\u5982\u4e0b\uff0c\u53ef\u8bfb\u6027\u5c1a\u53ef\uff0c\u6545\u4e0d\u518d\u8d58\u8ff0\u8be6\u7ec6\u601d\u8def\u3002\n\nAC\u4ee3\u7801\uff1a\n```java\nimport java.math.BigInteger;\nimport java.util.Scanner;\npublic class Main {\n    BigInteger n;\n    int k;\n    boolean ist=true;\n    final BigInteger bt=BigInteger.valueOf(2);\n    final BigInteger ling=BigInteger.valueOf(0);\n    BigInteger zq=BigInteger.valueOf(0);\n    public BigInteger ksm(BigInteger x,BigInteger y,BigInteger md) {\n    \tBigInteger ans=BigInteger.valueOf(1);\n    \tBigInteger base=x;\n    \twhile(y.compareTo(ling)!=0) {\n    \t\tif(y.mod(BigInteger.valueOf(2)).compareTo(BigInteger.valueOf(1))==0) {\n    \t\t\tans=ans.multiply(base).mod(md);\n    \t\t}\n    \t\tbase=base.multiply(base).mod(md);\n    \t\ty=y.divide(bt);\n    \t}\n    \treturn ans;\n    }\n    public BigInteger getzq(BigInteger a,BigInteger b,BigInteger c) {\n    \tBigInteger ss=a;\n    \tBigInteger zq=BigInteger.valueOf(1);\n    \tfor(;;) {\n    \t\ta=a.multiply(b).mod(c);\n    \t\tif(a.compareTo(ss)==0) {\n    \t\t\tbreak;\n    \t\t}\n    \t\tzq=zq.add(BigInteger.valueOf(1));\n    \t\tif(zq.compareTo(BigInteger.valueOf(11))==0) return BigInteger.valueOf(-1);\n    \t}\n    \treturn zq;\n    }\n    public BigInteger getzq(BigInteger a,BigInteger b) {\n    \tBigInteger ss=a;\n    \tBigInteger gg=a;\n    \tBigInteger zq=BigInteger.valueOf(1);\n    \tfor(;;) {\n    \t\ta=a.multiply(gg).mod(b);\n    \t\tif(a.compareTo(ss)==0) {\n    \t\t\tbreak;\n    \t\t}\n    \t\tzq=zq.add(BigInteger.valueOf(1));\n    \t}\n    \treturn zq;\n    }\n    public void work() {\n    \tint g=0;\n    \tBigInteger md=BigInteger.valueOf(10);\n    \twhile(g!=k) {\n    \t\tBigInteger gg=n.mod(md); \n    \t\tif(zq.compareTo(BigInteger.valueOf(0))!=0) {\n    \t\t\tBigInteger ff=gg;\n    \t\t\t\n    \t\t\tgg=ksm(gg,zq,md).mod(md);\n    \t\t\tzq=zq.multiply(getzq(ff,gg,md));\n    \t\t\t\n    \t\t\tif(zq.compareTo(BigInteger.valueOf(0))<0) {\n    \t\t\t\tSystem.out.println(-1);\n    \t\t\t\treturn ;\n    \t\t\t}\n    \t\t}else {\n    \t\t\tzq=getzq(gg,md);\n    \t\t}\n    \t\tg++;\n    \t\tmd=md.multiply(BigInteger.valueOf(10));\n    \t}\n    \tSystem.out.println(zq);\n    }\n    public static void main(String[] args) {\n    \tMain mm=new Main();\n\t\tScanner cin = new Scanner(System.in);\n\t\tmm.n=cin.nextBigInteger();\n\t\tmm.k=cin.nextInt();\n\t\tmm.work();\n\t}\n}\n```\n",
        "postTime": 1555324177,
        "uid": 87192,
        "name": "shenyanjie",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "\u9898\u89e3\uff1a\n\n\u4e3b\u8981\u662f\u5e94\u7528\u9ad8\u7cbe\u5ea6\u7b97\u6cd5\uff0c\u52a0\u4e0a\u4e00\u4e9b\u4f18\u5316\u7b97\u6cd5\n\n\u5927\u5bb6\u90fd\u77e5\u9053\u8981\u53d6\u6570\u7684\u540e\u9762\u7684N\u4f4d\u5c31\u8981\u7528\u6570\u53bb\u9664\u4ee510n\u3002\u6240\u4ee5\u9898\u76ee\u5c31\u5bb9\u6613\u89e3\u51b3\u4e86\u3002\u9996\u5148\u8f93\u5165SS\u4e3a\u8981\u4e58\u7684\u6b63\u6574\u6570\u548c\u8981\u6c42\u7684\u4f4d\u6570\uff0c\u56e0\u4e3a\u8f93\u5165\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6240\u4ee5\u53ea\u6709\u627e\u7a7a\u683c\u6765\u8bfb\u5165\u4e24\u4e2a\u6570\u3002\u5c06\u8981\u4e58\u7684\u6570\u653e\u5165s1\u4e2d\uff0c\u5269\u4e0b\u7684length(ss)-I\u4f4d\u4e3a\u8981\u6c42\u7684\u4f4d\u6570\u653e\u5165k\u4e2d\u3002\u53c8\u56e0\u4e3a\u7ecf\u8fc7\u5b9e\u9a8c\u53d1\u73b0\u5f53k\u8d85\u8fc720\u65f6\u662f\u4e0d\u5b58\u5728\u7684\uff0c\u6240\u4ee5\u5f53k\u5927\u4e8e20\u65f6\u53ef\u4ee5\u76f4\u63a5\u6253\u5370-1\uff0c\u4f46\u76f8\u53cd\u5982\u679c\u5c0f\u4e8e20\uff0c\u9996\u5148\u5bf9\u8f93\u5165\u7684 k\u8fdb\u884c\u5904\u7406\uff0c\u53ef\u4ee5\u7b97\u51fa\u7528\u4e8e\u53d6\u540ek\u4f4d\u7684L\u6765\u3002\u7136\u540e\u8fdb\u884c\u5faa\u73af\u7528\u8f93\u5165\u7684s1\u4e58\u4ee5s1\u518d\u53d6\u540ek\u4f4d\uff0c\u7136\u540e\u53c8\u628a\u65b0\u5f97\u5230\u7684\u8981\u4e58\u7684\u6570\u4e58\u4ee5s1\u5728\u53d6\u540ek\u4f4d\u2026\u2026\u4f9d\u6b21\u53cd\u590d\uff0c\u5f53\u5f97\u5230\u7684\u6570\u7684\u540ek\u4f4d\u7b49\u4e8es1\u7684\u540ek\u4f4d\u65f6\u7ed3\u675f\uff0c\u5426\u5219\u4f9d\u7136\u7ee7\u7eed\u76f4\u5230\u5faa\u73af10000\u6b21\u3002\n\n\n\u6807\u7a0b\uff1aPASCAL\n\n \n \n \n \n```cpp\nProgram Circle;\nType\n  Arr=Array[1..101] Of Integer;\nVar\n  i,j,p,k,code,L,num,tp:Integer;\n  s: String;\n  a,aa,time,b,temp:Arr;\n//\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\nProcedure Mutiply(a, b:Arr;Var c:Arr;t:Integer);\nVar\n  i, j: Integer;\nBegin\n  FillChar(c, SizeOf(c), 0);\n  For i:=1 To t Do\n    For j:=1 To t-i+1 Do\n    Begin\n      c[i+j-1]:=a[i]*b[j]+c[i+j-1];\n      c[i+j]:=c[i+j]+c[i+j-1] Div 10;\n      c[i+j-1]:=c[i+j-1] Mod 10;\n    End;\nEnd;\n//\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\uff0c\u8ba1\u7b97\u603b\u6b21\u6570\uff0cL\u8868\u793a\u6b21\u6570\u7684\u957f\u5ea6\nProcedure Mutiply(a:Arr;b:Integer;Var c:Arr;Var L:Integer);\nVar\n  i: Integer;\nBegin\n  FillChar(c,SizeOf(c),0);\n  For i:=1 To L Do\n  Begin\n//\u8fd9\u91cc\u662f\u4e58\uff0c\u56e0\u4e3a\u5982\u679c\u4e2a\u4f4d\u9700\u89815\u6b21\uff0c\u5341\u4f4d\u9700\u89815\u6b21\uff0c\u90a3\u4e48\u80af\u5b9a\u9700\u898125\u6b21\u624d\u53ef\u4ee5\u6ee1\u8db3\u4e2a\u4f4d\u548c\u5341\u4f4d\u7684\u8981\u6c42\nc[i]:=c[i]+a[i]*b;\n    c[i+1]:=c[i] Div 10;\n    c[i]:=c[i] Mod 10;\n  End;\n  If c[L+1]<>0 Then\n    Inc(L);\nEnd;\nBegin\n  //\u91cd\u5b9a\u4f4d\u6807\u51c6\u8f93\u5165\u548c\u6807\u51c6\u8f93\u51fa\u8bbe\u5907\n  Assign(Input, 'circle.in');\n  Assign(Output, 'circle.out');\n  ReSet(Input);\n  ReWrite(Output);\n  ReadLn(s);\n  //\u5206\u4e24\u90e8\u5206\u622a\u53d6s\uff0c\u548c\u5faa\u73af\u4f4d\u6570K\n  Val(Copy(s, Pos(' ', s)+1, Length(s)-Pos(' ', s)), k, code);\n  Delete(s, Pos(' ', s), Length(s)-Pos(' ', s)+1);\n//\u5c06S\u5012\u8f6c\u8f6c\u5316\u4e3a\u6570\u503c\u5b58\u5728\u6570\u503c\u7c7b\u578b\u7684\u6570\u7ec4\u4e2d\u4ee5\u4fbf\u4e8e\u8ba1\u7b97\n  For i:=1 To Length(s) Do\n    Val(s[i], a[Length(s)-i+1], code);\n  aa:=a;\n//\u521d\u59cb\u5316\u6b21\u6570\u6570\u7ec4\n  FillChar(time, SizeOf(time), 0);\n  time[1] := 1;\n  L := 1;\n//\u5f00\u59cb\u8ba1\u7b97\n  For i:=1 To k Do\n  Begin\n    //\u4ece\u4e00\u4f4d\u5f00\u59cb\u5bf9\u6bd4\uff0c\u76f4\u5230K\u4f4d\uff0cb\u4e3a\u6bd4\u8f83\u7684\u521d\u59cb\u6570\u7ec4\n    For j:=1 To i Do\n      b[j] := aa[j];\n    tp := b[i];//TP\u4e3a\u6bd4\u8f83\u7684\u4f4d\u7684\u503c\n    num := 0;\n    Repeat\n      Mutiply(b, a, b, i);\n      Inc(num);\n    Until (num > 10) Or (b[i] = tp);\n//\u8d85\u8fc710\u6b21\u5219\u4ee3\u8868\u5c31\u662f\u65e0\u6cd5\u6ee1\u8db3\u5faa\u73af\u6761\u4ef6\u4e86\uff0c\u56e0\u4e3a\u53ea\u670910\u4e2a\u65700..9\n    If (b[i] <> tp) Then Begin\n      Write(-1);\n      Close(Input);\n      Close(Output);\n      Halt(0);\n    End;\n//\u6839\u636e\u9700\u8981\u51e0\u6b21\u624d\u80fd\u6ee1\u8db3\uff0c\u53d8\u5316\u57fa\u7840\u7684\u4e58\u56e0\u5b50a\n    temp := a;\n    For j:=1 To num-1 Do\n      Mutiply(a, temp, a, k);\n    Mutiply(time, num, time, L);\n  End;\n//\u53cd\u8f93\u51fatime\uff0c\u8868\u793a\u6700\u7ec8\u9700\u8981\u6b21\u6570\n  For i:=L DownTo 1 Do Write(time[i]);\n  Close(Input);\n  Close(Output);\nEnd.\n```\n\u4ee5\u4e0a\u5c31\u662f\u5bf9\u7b2c\u56db\u9898\u7684\u89e3\u91ca\u3002\u5176\u4e2d\u5e94\u7528\u4e86\u51e0\u4e2a\u5de7\u5999\u7684\u65b9\u6cd5\u63d0\u9ad8\u4e86\u8fd0\u7b97\u7684\u6548\u7387\uff0c\u5982\u5176\u4e2d\u6700\u7a81\u51fa\u7684\u662f\u57fa\u7840\u56e0\u5b50\u6cd5\u7684\u4f7f\u7528\u4ee5\u53ca\u8ba1\u7b97\u603b\u6b21\u6570\u65f6\u7684\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\u4f7f\u7528\u3002\n{\u4ee3\u7801\u4f3c\u4e4e\u6709\u6bd2\uff01\uff01\uff01}\n",
        "postTime": 1478958919,
        "uid": 15700,
        "name": "zsj123",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "**\u672c\u9898\u89e3\u501f\u9274\u4e86@plane\u548c@slay_one\u7684\u9898\u89e3\u3002**\n# \u5206\u6790\n\n\u9996\u5148\uff0c\u6211\u4eec\u6765\u627e\u51e0\u4e2a\u6027\u8d28\u3002\n\n---\n**\u6027\u8d28\u4e00\uff1a$n$\u7684\u540e$k$\u4f4d\u7684\u6700\u5c0f\u5faa\u73af\u957f\u5ea6\u7b49\u4e8e\u540e$k$\u4f4d\u4e2d\u6bcf\u4e00\u4f4d\u6700\u5c0f\u5faa\u73af\u957f\u5ea6\u4e4b\u79ef\u3002**\n\n\u8bc1\u660e\uff1a\n\n\u540ek\u4f4d\u6574\u4f53\u8981\u5faa\u73af\u5fc5\u987b\u5148\u4fdd\u8bc1\u6bcf\u4e00\u4f4d\u90fd\u5faa\u73af\uff0c\u90a3\u5c31\u5f97\u5728\u4fdd\u8bc1\u540e$i-1$\u4f4d\u90fd\u5faa\u73af\u65f6\uff0c\u627e\u7b2c$i$\u4f4d\u7684\u5faa\u73af\u957f\u5ea6\u3002\n\n\u6240\u4ee5\uff0c\u6709\u4e86\u8fd9\u4e2a\u6027\u8d28\u6211\u4eec\u5c31\u80fd\u60f3\u5230\u7528\u9012\u63a8\u7684\u65b9\u6cd5\u89e3\u51b3\u672c\u9898\u3002\n\n---\n**\u6027\u8d28\u4e8c\uff1a\u6bcf\u6b21\u4e58\u4ee5\uff08\u540e$i$\u4f4d\u7684\uff08\u540e$i-1$\u7684\u6700\u5c0f\u5faa\u73af\u957f\u5ea6-1\uff09\u6b21\u5e42\uff09\u53ef\u4fdd\u8bc1\u540e$i-1$\u4f4d\u4e0d\u53d8\u3002**\n\n\u8bc1\u660e\uff1a\n\n\u8bbe\u540e$i-1$\u4f4d\u7ec4\u6210\u7684\u6570\u5b57\u4e3a$a[i-1]$,\u4e14\u5b83\u7684\u6700\u5c0f\u5faa\u73af\u957f\u5ea6\u4e3a$x$,\u7b2c$i$\u4f4d\u4e3a$m$\u3002\u5219:\n\n$$a[i-1]^x \\equiv a[i-1]\\pmod{10^{i-1}}$$\n\n\n\u6240\u4ee5:\n$$m\\times a[i-1] \\equiv m\\times a[i-1]^x\\pmod{10^{i-1}}$$\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7\u6bcf\u6b21\u4e58\u4ee5\uff08\u540e$i$\u4f4d\u7684\uff08\u540e$i-1$\u7684\u6700\u5c0f\u5faa\u73af\u957f\u5ea6-1\uff09\u6b21\u5e42\uff09\u6765\u4fdd\u8bc1\u540e$i-1$\u4f4d\u4e0d\u53d8\uff0c\u6b64\u65f6$m$\u4e5f\u4e58\u4ee5\uff08\u540e$i$\u4f4d\u7684\uff08\u540e$i-1$\u7684\u6700\u5c0f\u5faa\u73af\u957f\u5ea6-1\uff09\u6b21\u5e42\uff09\u3002\n\n~~\u6709\u70b9\u7ed5~~\n\n---\n**\u6027\u8d28\u4e09\uff1a\u6bcf\u4e00\u4f4d\u7684\u7eaf\u5faa\u73af\u957f\u5ea6\u4e0d\u8d85\u8fc710\u3002**\n\n\u8bc1\u660e\uff1a\n\u5982\u679c\u67d0\u4e00\u4f4d\u7684\u5faa\u73af\u957f\u5ea6\u8d85\u8fc710\uff0c\u90a3\u4e48\u5b83\u5fc5\u5b9a\u5728\u67d0\u4e00\u4f4d\u5faa\u73af\u4e86\u4e0d\u6b62\u4e00\u6b21\uff0c\u5e76\u4e14\u4f1a\u4e00\u76f4\u5361\u5728\u90a3\u91cc\uff0c\u8fd9\u6837\u5c31\u65e0\u6cd5\u5faa\u73af\u4e86\u3002\uff08\u5faa\u73af\u957f\u5ea6\u4e3a1\u7684\u60c5\u51b5\u9664\u5916\uff09\n\n\u8fd9\u6837\u7684\u8bdd\uff0c\u5728\u5904\u7406\u6bcf\u4e00\u4f4d\u7684\u5faa\u73af\u957f\u5ea6\u65f6\uff0c\u53ea\u9700\u8981\u6700\u591a\u4e5810\u6b21\uff08\u540e$i$\u4f4d\u7684\uff08\u540e$i-1$\u7684\u6700\u5c0f\u5faa\u73af\u957f\u5ea6-1\uff09\u6b21\u5e42\uff09\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(k\\times 10)$\u3002\n# \u4ee3\u7801\n\u672c\u9898\u9700\u8981\u4f7f\u7528\u9ad8\u7cbe\u5ea6\uff0c\u5177\u4f53\u7ec6\u8282\u5728\u4ee3\u7801\u4e2d\u6709\u6ce8\u91ca\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int K=100;\nchar arr[K+5];int k;\nint zq[11]={1,1,4,4,2,1,1,4,4,2};\n//\u4e2a\u4f4d\u7684\u5468\u671f\u6253\u8868\nstruct HP\n{\n\tint s[2*K+5];\n\t//\u8981\u5f00\u5230\u4e24\u500d\u5927\u5c0f \n\tHP(){memset(s,0,sizeof s);}\n\tvoid gj(){while(s[s[0]]==0&&s[0]>1)--s[0];}\n\tvoid print(char ch){for(int i=s[0]; i>=1; i--) printf(\"%d\",s[i]);putchar(ch);}\n} ans,las,m,p,tmp;\nHP mul1(HP a,HP b);\nHP mul2(HP a,int x);\n//\u81ea\u52a8\u53d6\u6a21\u7684\u9ad8\u7cbe\u5ea6 \nint main()\n{\n\tscanf(\"%s%d\",arr+1,&k);\n\tint len=strlen(arr+1);\n\tfor(int i=len; i>=len-k+1; i--) las.s[++las.s[0]]=arr[i]-'0';\n\tm=las;\n\tfor(int i=1; i<zq[las.s[1]]; i++) m=mul1(m,las);\n\t//\u4e58\uff08\u5468\u671f-1\uff09\u6b21 \n\tans.s[++ans.s[0]]=zq[las.s[1]];\n\ttmp=p=m;\n\tfor(int cnt=2; cnt<=k; cnt++)\n\t{\n\t\tm=las;int t=0;\n\t\twhile(t<11)\n\t\t{\n\t\t\tt++;\n\t\t\tm=mul1(m,p);\n\t\t\tif(m.s[cnt]==las.s[cnt]) break;\n\t\t\ttmp=mul1(tmp,p);\n\t\t\t//\u7b49\u4e8e\u7684\u4e00\u6b21\u4e0d\u7b97\uff0c\u6240\u4ee5\u8981\u5148break \n\t\t}\n\t\tif(t==11) return puts(\"-1\"),0;\n\t\t//\u8d85\u8fc710\u6b21\uff0c\u8f93\u51fa-1 \n\t\tans=mul2(ans,t);p=tmp;\n\t}\n\tans.gj();ans.print('\\n');\n\treturn 0;\n}\nHP mul2(HP a,int x)\n{\n\tHP ret;ret.s[0]=k+5;\n\tfor(int i=1; i<=k; i++)\n\t{\n\t\tret.s[i]+=a.s[i]*x;\n\t\tret.s[i+1]+=ret.s[i]/10;\n\t\tret.s[i]%=10; \n\t}\n\treturn ret;\n}\nHP mul1(HP a,HP b)\n{\n\tHP ret;ret.s[0]=k+5;\n\tfor(int i=1; i<=k; i++)\n\t\tfor(int j=1; j<=k; j++)\n\t\t{\n\t\t\tret.s[i+j-1]+=a.s[i]*b.s[j];\n\t\t\tret.s[i+j]+=ret.s[i+j-1]/10;\n\t\t\tret.s[i+j-1]%=10;\n\t\t}\n\treturn ret;\n}\n```",
        "postTime": 1608724347,
        "uid": 310373,
        "name": "Delusions_grandeur",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "# \u9898\u89e3\uff1a\n\u6211\u4eec\u53ef\u4ee5\u4ece\u5c3e\u6765\u5206\u6790 \u65e2\u540e1\u4f4d\uff0c\u540e2\u4f4d\uff0c\u540e3\u4f4d\uff0c\u540e4\u4f4d\u2026\u2026\u540ek\u4f4d\uff0c\u9012\u63a8\u53bb\u627e\n\n\u5047\u4f7f\u8f93\u5165\u6570\u636e\u4f4dx 4 \n\n\uff081\uff09\u622a\u53d6\u540e4\u4f4dabcd\uff0c\u53ea\u9700\u5bf9abcd\u505a\u5904\u7406\n\n\uff082\uff09\u9996\u5148\u53d6\u6700\u540e\u4e00\u4f4dd\uff0c\u5bfb\u627e\u5faa\u73af\u8282\uff0c\u73af\u957f\u5ea6\u4e3ai \n\n\uff083\uff09\u6b64\u65f6\uff0c\u53d6\u540e\u4e24\u4f4dcd\uff1a(cd^i) mod 100=y \u6b64\u65f6\uff0ccd\u9700\u6bcf\u6b21\u4e58\u4ee5y\uff0c\u53ef\u4fdd\u8bc1\u6700\u540e\u4e00\u4f4d\u4e0d\u53d8\uff1b\u8ba1\u7b97\u5faa\u73af\u8282\u957f\u5ea6\u4e3aj\uff0c\u6b64\u65f6\uff0c\u5faa\u73af\u603b\u957f\u5ea6\u4f4di*j=k \n\n\uff084\uff09\u540c\u4e0a\n\n\uff085\uff09\u540c\u4e0a \n\n\u7b54\u6848\u5c31\u51fa\u6765\u4e86\n\n\u4e0a\u4ee3\u7801\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=200;\nint n,a[maxn+10],b[maxn+10];\nint c[2][maxn+10],ans[maxn+10];\nstring s;\n\nbool same(int p[],int q[],int x)\n{\n  for(int i=1;i<=x;i++)if(p[i]!=q[i])return 0;\n  return 1;\n}\n\nvoid multi_1(int x)\n{\n  int i,last=0;\n  for(i=1;i<=ans[0];i++)\n    {\n      ans[i]=ans[i]*x+last;\n      last=ans[i]/10,ans[i]%=10;\n    }\n  if(last>0)ans[++ans[0]]=last;\n}\n\nvoid multi_2(int w[],int p[],int q[])\n{\n  int i,k,last=0;\n  w[0]=min(p[0]+q[0]-1,n);\n  for (i=1;i<=w[0];++i)\n    w[i]=0;\n  for(k=1;k<=q[0];k++)\n    {\n      int jjw=0;\n      for(i=1;i<=p[0]+1;i++)\n      {\n\tif (k+i-1>n)\n\t  break;else\n        {\n\t\t\n\t  w[k+i-1]=w[i+k-1]+p[i]*q[k]+jjw;\n\t  jjw=w[i+k-1]/10;\n\t  w[i+k-1]%=10;\n        }\n      }\n    }\t\n\t\n\n}\n\nint get(int x)\n{\n  memcpy(c[0],a,sizeof(a));\n  for(int i=1;i<=10;i++)\n    {\n\n      multi_2(c[i%2],c[(i+1)%2],a);\n\n\n      if(same(c[i%2],a,x))\n        {\n          memcpy(a,c[(i-1)%2],sizeof(c[0]));\n\n          return i;\n        }\n    }\n  printf(\"-1\\n\");\n  exit(0);\n}\n\nint main() \n{\n  int i;  \n  cin>>s>>n;\n  a[0]=s.size(),\n  n=min(a[0],n);\n  for(i=1;i<=n;i++)\n    a[i]=s[a[0]-i]-'0';//\u5c06\u5b57\u7b26\u8f6c\u5316\u6210\u6570\u5b57\n  ans[0]=1,ans[1]=1;\n  for(i=1;i<=n;i++)multi_1(get(i));//\u8c03\u7528\n  for(i=ans[0];i>=1;i--)\n    printf(\"%d\",ans[i]);\n  return 0;\n}\n```\n",
        "postTime": 1563238702,
        "uid": 47807,
        "name": "\u673a\u5668\u4fa0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "### \u6211\u4eec\u5148\u4ece\u8f93\u5165\u5165\u624b\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u5982\u679c\u8f93\u5165\u662f 1234567 4 \uff0c\u6211\u4eec\u6709\u7528\u7684\u5c31\u53ea\u89814567\n\n### \u4e0a\u9762\u7684\u5f88\u597d\u7406\u89e3\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5f00\u59cb\n\n```\n3  \u5faa\u73af\u957f\u5ea64\n23  \u5faa\u73af\u957f\u5ea620\n123  \u5faa\u73af\u957f\u5ea6100\n4123  \u5faa\u73af\u957f\u5ea6500\n\u53d1\u73b0\u89c4\u5f8b\u4e86\u5417\n54123  \u5faa\u73af\u957f\u5ea65000\n\u606d\u559c\uff0c\u89c4\u5f8b\u7834\u706d\n\u4f46\u6211\u4eec\u4ecd\u65e7\u53d1\u73b0\uff0c23\u7684\u5faa\u73af\u957f\u5ea6\u662f3\u7684\u500d\u6570\n123\u7684\u5faa\u73af\u957f\u5ea6\u662f23\u7684\u500d\u6570\n4123\u7684\u5faa\u73af\u957f\u5ea6\u662f123\u7684\u500d\u6570\n54123\u7684\u5faa\u73af\u957f\u5ea6\u662f4123\u7684\u500d\u6570\n\u56e0\u4e3a\u53ea\u67093\u5faa\u73af\u4e86,23\u624d\u53ef\u80fd\u5faa\u73af\n23\u5faa\u73af\u4e86\uff0c123\u624d\u53ef\u80fd\u5faa\u73af\n```\n\n```\n3\u7684\u5faa\u73af 3 9 7 1\n23\u7684\u5faa\u73af\u957f\u5ea6\u80af\u5b9a\u4e3a3\u7684\u5faa\u73af\u957f\u5ea6\u7684\u500d\u6570\uff084\u7684\u500d\u6570\uff09\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4e0d\u7528\u4e00\u6b21\u4e00\u6b21\u4e5823\uff0c\u6211\u4eec\u53ef\u4ee5\u4e00\u6b21\u4e584\u4e2a23\u7684\u540e\u4e24\u4f4d\uff08\u537341\uff09\n23\u7684\u5faa\u73af  23 43 63 83 03 \u6700\u540e\u4e00\u4f4d\u90fd\u662f3\n123\u7684\u5faa\u73af\u957f\u5ea6\u80af\u5b9a\u4e3a23\u7684\u5faa\u73af\u957f\u5ea6\u7684\u500d\u6570\uff0820\u7684\u500d\u6570\uff09\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4e0d\u7528\u4e00\u6b21\u4e00\u6b21\u4e58123\uff0c\u6211\u4eec\u53ef\u4ee5\u4e00\u6b21\u4e5820\u4e2a123\u7684\u540e\u4e09\u4f4d\uff08\u5373201\uff09\n\u4ee5\u6b64\u7c7b\u63a8\n```\n\n### \u8fd9\u9053\u9898\u4ee4\u4eba\u771f\u6b63\u7edd\u671b\u7684\u662f\u5de8\u5927\u7684\u6570\u636e\u91cf\uff0c\u57fa\u672c\u90fd\u8981\u7528\u9ad8\u7cbe\u5ea6\n\n```\n#include<iostream>\nusing namespace std;\nstring s,ss,s1;\nlong long k,j=1,xh[101],jl;\nstruct hh{\n\tint l;\n\tint num[102]={0};\n}a,b,c,ans;\nhh ccc(hh x,hh y,int k)//\u9ad8\u7cbe\u5ea6*\u9ad8\u7cbe\u5ea6 \u8f93\u51fax*y\u7684\u540ek\u4f4d \n{\n\thh z;\n\tfor (int i=1;i<=x.l;i++)\n\t{\n\t\tfor (int j=1;j<=y.l;j++)\n\t\t{\n\t\t\tif (i+j-1<=k)\n\t\t\t{\n\t\t\t\tz.num[i+j-1]+=x.num[i]*y.num[j];\n\t\t\t}\t\t\n\t\t}\n\t}\n\tfor (int i=1;i<=min(k,x.l+y.l);i++)\n\t{\n\t\tz.num[i+1]+=z.num[i]/10;\n\t\tz.num[i]=z.num[i]%10;\n\t}\n\tif (x.l+y.l<=k+1) \n\t{\n\t\tif (z.num[x.l+y.l]==0) z.l=x.l+y.l-1;\n\t\telse z.l=min(k,x.l+y.l);\n\t}\n\telse z.l=k;\n\treturn z;\n}\nint main(){\n\tcin>>s>>k;//\u8bfb\u5165 \n\txh[1]=1;//\u521d\u59cb\u5316 \n\tans.num[1]=1;ans.l=1;//\u521d\u59cb\u5316 \n\tfor (int i=1;i<=k;i++)\n\t{\n\t\tfor (int j=1;j<=i;j++)  c.num[j]=b.num[j]=s[s.size()-j]-'0';\n\t\tc.l=b.l=i;s1=\"\";jl=1; \n\t\tfor (int j=1;j<=i;j++) s1+=c.num[j]+'0';//\u5c06\u6211\u4eec\u8981\u6c42\u7684\u6570\u5b58\u4e0b\u53d8\u4e3a\u5b57\u7b26\u4e32 \n\t\tfor (int j=1;j<=i;j++)\n\t\t{\n\t\t\ta.num[1]=1;a.l=1;\n\t\t\tfor (int kkk=1;kkk<=xh[j];kkk++) a=ccc(a,c,i);\n\t\t\tfor (int kkk=1;kkk<=i;kkk++) c.num[kkk]=a.num[kkk];\t\n\t\t}//\u6c42\u6211\u4eec\u73b0\u5728\u8981\u6c42\u7684\u6570(\u5de8\u5927\u6570\u7684\u540ei\u4f4d)\u7684ans\u6b21\u65b9(\u7528\u4e86\u4f2a\u5feb\u901f\u5e42) \n\t\twhile(1)\n\t\t{\n\t\t\tjl++;ss=\"\";\n\t\t\tb=ccc(b,a,i);//\u4e0d\u505c\u7684\u4e58a \n\t\t\tfor (int j=1;j<=i;j++) ss+=b.num[j]+'0';//\u5c06\u6570b\u53d8\u4e3a\u5b57\u7b26\u4e32\u4fbf\u4e8e\u6bd4\u5bf9 \n\t\t\tif (ss==s1)//\u5982\u679c\u4eec\u73b0\u5728\u8981\u6c42\u7684\u6570\u518d\u6b21\u51fa\u73b0\u4e86 \n\t\t\t{\n\t\t\t\txh[i+1]=jl-1;//\u5b58\u4e0b\u5faa\u73af\u957f\u5ea6 \n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (jl-1>10)//\u5faa\u73af\u957f\u5ea6\u4e0d\u4f1a\u8d85\u8fc710 \n\t\t\t{\n\t\t\t\t//\u5faa\u73af\u957f\u5ea6\u8d85\u8fc710\u8bf4\u660e\u8fd9\u4e2a\u5de8\u5927\u6811\u65e0\u6cd5\u6784\u6210\u5faa\u73af \n\t\t\t\tcout<<-1;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\tfor (int j=1;j<=ans.l;j++)\n\t\t\tans.num[j]*=xh[i+1];\n\t\tfor (int j=1;j<=ans.l;j++)\n\t\t{\n\t\t\tans.num[j+1]+=ans.num[j]/10;\n\t\t\tans.num[j]=ans.num[j]%10;\n\t\t} \n\t\tif (ans.num[ans.l+1]!=0) ans.l++; \n\t\t//\u9ad8\u7cbe\u5ea6\u6c42ans*xh[i+1] \n\t} \n\tfor (int i=ans.l;i>=1;i--) cout<<ans.num[i];\n} \n```",
        "postTime": 1569639243,
        "uid": 86116,
        "name": "\u5f90\u632f\u7fbd",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "\u8fd9\u9898\u8fd8\u662f\u76f8\u5f53\u6709\u601d\u7ef4\u542b\u91cf\u7684\uff0c\u5b83\u7684\u6838\u5fc3\u601d\u60f3\u5176\u5b9e\u5c31\u6d89\u53ca\u5230\u4e00\u70b9\uff1a\n\n> \u5df2\u77e5\u540e $w$ \u4f4d\u7684\u5faa\u73af\u8282\u957f\u5ea6\uff0c\u5982\u4f55\u5feb\u901f\u5730\u6c42\u51fa\u540e $w+1$ \u4f4d\u7684\u5faa\u73af\u8282\u957f\u5ea6\uff1f\n\n\u5f62\u5f0f\u5316\u8bb2\uff0c\u7ed9\u5b9a\u6b63\u6574\u6570 $n,w$\uff0c\u5df2\u77e5 $x$ \u662f\u6700\u5c0f\u7684\u6ee1\u8db3  $n^{x}\\equiv n (mod\\ 10^{w})$ \u4e14 $x\\ge 2$ \u7684\u6b63\u6574\u6570\uff08\u8fd9\u91cc\u5047\u8bbe $x$ \u4e00\u5b9a\u5b58\u5728\uff09\u3002\u6211\u4eec\u9700\u8981\u6c42\u51fa\u65b9\u7a0b $n^{y}\\equiv n(mod\\ 10^{w+1}),y\\ge2$ \u7684\u6700\u5c0f\u6b63\u6574\u6570\u89e3\u3002\n\n\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u65e2\u7136$n^{y}\\equiv n(mod\\ 10^{w+1})$\uff0c\u90a3\u4e48\u4e00\u5b9a\u6709 $n^{y}\\equiv n(mod\\ 10^{w})$\uff0c\u53c8\u7531\u4e8e $x$ \u662f\u6700\u5c0f\u7684\u6ee1\u8db3 $n^{x}\\equiv n (mod\\ 10^{w})$ \u7684\u6b63\u6574\u6570\uff0c\u6240\u4ee5 $y\\ge x$\u3002\u540c\u65f6\uff0c\u53c8\u7531\u4e8e\u5bf9\u4e8e\u4efb\u610f\u6b63\u6574\u6570 $a\\ge x$\uff0c$n^{a}=n^{a-x}\\cdot n^{x}\\equiv n^{a-x+1}(mod\\ 10^{w})$\uff0c\u6240\u4ee5 $n^{y}\\equiv n^{y-x+1}\\equiv n^{y-2(x-1)}\\equiv n^{y-3(x-1)}\u2026\u2026$\uff0c\u8fd9\u76f8\u5f53\u4e8e\u6bcf\u6b21\u4ece $y$ \u4e2d\u201c\u6d88\u53bb\u201d\u4e00\u4e2a $x-1$\uff0c\u90a3\u8fd9\u4e2a\u5f0f\u5b50\u7684\u5c3d\u5934\u5728\u54ea\u91cc\u5462\uff1f\u4e0d\u96be\u770b\u51fa\uff0c $y$ \u6700\u7ec8\u4f1a\u5c0f\u4e8e\u7b49\u4e8e $x$\uff0c\u800c\u7531\u4e8e $x$ \u5df2\u7ecf\u662f\u6700\u5c0f\u7684\u89e3\uff0c\u6240\u4ee5 $y$ \u6700\u7ec8\u4e00\u5b9a\u7b49\u4e8e $x$\u3002\u4e5f\u5c31\u662f\u8bf4 $y$ \u4e00\u5b9a\u80fd\u8868\u793a\u6210 $x+k(x-1)$ \u7684\u5f62\u5f0f\uff0c\u6240\u4ee5 $(x-1)|(y-1)$\uff08\u611f\u8c22 rqy \u795e\u4ed9\u7684\u6307\u70b9\uff09\u3002$x-1$ \u548c $y-1$ \u5176\u5b9e\u5c31\u662f\u540e $w$ \u4f4d\u548c\u540e $w+1$ \u4f4d\u7684\u5faa\u73af\u8282\u957f\u5ea6\uff0c\u6240\u4ee5\u540e $w+1$ \u4f4d\u7684\u5faa\u73af\u8282\u957f\u5ea6\u4e00\u5b9a\u662f\u540e $w$ \u4f4d\u7684\u5faa\u73af\u8282\u957f\u5ea6\u7684\u500d\u6570\u3002\n\n\u8fd8\u6709\u4e00\u79cd\u89d2\u5ea6\u53ef\u4ee5\u8bc1\u660e\uff0c\u6211\u4eec\u628a $n^{1},n^{2},\u2026\u2026n^{k}$\u5728\u6a21  $10^{w+1}$ \u548c\u6a21 $10^{w}$ \u610f\u4e49\u4e0b\u7684\u503c\u770b\u505a\u70b9\uff0c\u76f8\u90bb\u7684\u5143\u7d20\u8fde\u8fb9\uff0c\u8fd9\u663e\u7136\u4f1a\u5f62\u6210\u73af\uff08\u56e0\u4e3a\u90a3\u4e24\u4e2a\u65b9\u7a0b\u4e00\u5b9a\u6709\u89e3\uff09\u3002\u8003\u8651\u5c06\u7b2c\u4e00\u4e2a\u73af\u4e0a\u7684\u70b9\u6620\u5c04\u5230\u7b2c\u4e8c\u4e2a\u73af\u7684\u70b9\u4e0a\uff0c\u5373\u628a $n^{k}\\ mod \\ 10^{w+1}$ \u6620\u5c04\u5230 $n^{k}\\ mod\\ 10^{w}$ \u4e0a\u3002\u90a3\u6211\u4eec\u5728\u7b2c\u4e00\u4e2a\u73af\u4e0a\u8d70\u4e00\u5708\u56de\u5230\u8d77\u70b9\uff0c\u5728\u5b83\u7684\u50cf\u4e0a\u4e5f\u5c31\u662f\u7b2c\u4e8c\u4e2a\u73af\u4e0a\u4e5f\u4f1a\u56de\u5230\u8d77\u70b9\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u5728\u7b2c\u4e8c\u4e2a\u73af\u4e0a\u4e5f\u8d70\u4e86\u6574\u6570\u5708\uff0c\u90a3\u4e48\u7b2c\u4e00\u4e2a\u73af\u7684\u957f\u5ea6\u4e00\u5b9a\u662f\u7b2c\u4e8c\u4e2a\u73af\u7684\u957f\u5ea6\u7684\u6574\u6570\u500d\uff0c\u6240\u4ee5\u540e $w+1$ \u4f4d\u7684\u5faa\u73af\u8282\u957f\u5ea6\u4e00\u5b9a\u662f\u540e $w$ \u4f4d\u7684\u5faa\u73af\u8282\u957f\u5ea6\u7684\u500d\u6570\uff08\u611f\u8c22UOJ\u7fa4\u91cc\u53e6\u4e00\u4f4d\u795e\u4ed9\u7684\u6307\u70b9\uff09\u3002\n\n------------\n\u5f97\u51fa\u7684\u8fd9\u4e2a\u7ed3\u8bba\u6709\u4ec0\u4e48\u7528\u5462\uff1f\u60f3\u4e00\u60f3\uff0c\u5982\u679c$y-1=k(x-1)$\uff0c$k$ \u7684\u8303\u56f4\u5e94\u8be5\u662f\u591a\u5c11\u5462\uff1f\u663e\u7136 $1\\le k\\le10$\u3002\u56e0\u4e3a  $n^{k(x-1)}$ \u7684\u540e $w$ \u4f4d\u5df2\u7ecf\u786e\u5b9a\uff0c\u800c\u5b83\u7684\u4ece\u540e\u5f80\u524d\u6570\u7b2c $w+1$ \u4f4d\u53ea\u53ef\u80fd\u6709 $10$ \u79cd\u53d6\u503c\uff0c\u6240\u4ee5 $k$ \u53d6 $1$ ~ $10$ \u5c31\u4e00\u5b9a\u4f1a\u51fa\u73b0\u5faa\u73af\u3002\u8fd9\u540c\u65f6\u4e5f\u80fd\u5e2e\u52a9\u6211\u4eec\u786e\u5b9a\u662f\u5426\u6709\u89e3\uff0c\u5982\u679c $k$ \u4ece $1$ \u53d6\u5230 $10$ \u90fd\u6ca1\u6709\u4e0e $n$ \u540c\u4f59\u7684\u503c\uff0c\u8bf4\u660e\u4ea7\u751f\u7684\u5faa\u73af\u4e0d\u5305\u542b $n$ \u8fd9\u4e2a\u503c\uff0c\u56e0\u6b64\u5fc5\u5b9a\u65e0\u89e3\u3002\u8fd9\u6837\uff0c\u5bf9\u4e8e\u540e $w+1$\u4f4d\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u6700\u591a $10$ \u6b21\u9ad8\u7cbe\u4e58\u6cd5\u9012\u63a8\u51fa\u5b83\u7684\u5faa\u73af\u8282\u957f\u5ea6\uff0c\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(10kp)$\uff0c$p$ \u4e3a\u8fdb\u884c\u4e00\u6b21\u9ad8\u7cbe\u4e58\u6cd5\u7684\u5e38\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7\u672c\u9898\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#define ll long long\n#define fo(i,x,y) for(register int i=x;i<=y;++i)\n#define go(i,x,y) for(register int i=x;i>=y;--i)\nusing namespace std;\n\nint k;\nstruct num{\n\tint len,a[105];\n\tnum(){len=0;memset(a,0,sizeof a);} \n\tnum(string s){\n\t\tlen=s.size();\n\t\tgo(i,len,1) a[i]=s[len-i]-'0';\n\t}\n\tnum operator*(const num &x) const{\n\t\tnum ret;\n\t\tfo(i,1,len)\n\t\t\tfo(j,1,min(x.len,k-i+1)) ret.a[i+j-1]+=a[i]*x.a[j];\n\t\tret.len=min(k,len+x.len-1);\n\t\tfo(i,1,ret.len) ret.a[i+1]+=ret.a[i]/10,ret.a[i]%=10;\n\t\tif(ret.a[ret.len+1]) ret.len=min(ret.len+1,k);\n\t\treturn ret;\n\t}\n\tvoid outit(){\n\t\tgo(i,len,1) printf(\"%d\",a[i]);puts(\"\");\n\t}\n}n,last,ans,t,tt,_last;\n\nint main(){\n\tstring s;\n\tcin>>s;\n\tn=num(s);\n\tcin>>k;\n\tt=last=n;\n\tans.len=ans.a[1]=1;\n\tfo(i,1,k){\n\t\t_last.len=_last.a[1]=1;\n\t\tbool flag=0;\n\t\tfo(j,1,10){\n\t\t\t//printf(\"%d:\\n\",j);\n\t\t\tn=n*last;\n\t\t\t_last=_last*last;\n\t\t\t//n.outit(),_last.outit(),last.outit();\n\t\t\tfo(k,1,i) if(n.a[k]!=t.a[k]) goto H;\n\t\t\ts=\"\";\n\t\t\tif(j<10) s+='0'+j;\n\t\t\telse s=\"10\";\n\t\t\ttt=num(s);\n\t\t\tans=ans*tt;\n\t\t\tflag=1;\n\t\t\tbreak;\n\t\t\tH:;\n\t\t}\n\t\tif(!flag){\n\t\t\tcout<<-1;\n\t\t\treturn 0;\n\t\t}\n\t\tn=t;\n\t\tlast=_last;\n\t}\n\tgo(i,ans.len,1) printf(\"%d\",ans.a[i]);\n\treturn 0;\n}\n/*\n-------------------------------------------------\n*/\n```\n\n",
        "postTime": 1605621364,
        "uid": 238408,
        "name": "vectorwyx",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "\u89e3\u9898\u601d\u8def:\n\n\u6307\u6570\u53e0\u52a0\u7684\u5927\u6574\u6570\u8fd0\u7b97\u3002\n\n\n\n\n\n\u6ce8\u610f\u4e8b\u9879:\n\n\n\u9898\u76ee\u4e0a\u8bf4\u7684n<10100\u8fd9\u4e00\u53e5\u5e94\u8be5\u662f\u6253\u9519\u4e86\uff0c\u3002\u6211\u628a\u7a0b\u5e8f\u67e5\u6765\u67e5\u53bb\u67e5\u4e0d\u51fa\u9519\u3002\u540e\u6765\u628a\u8f93\u5165\u7684int\u6539\u6210\u5b57\u7b26\u4e32\uff0c\u8bbe\u4e86200\u4f4d\uff0c\u5c31\u901a\u8fc7\u4e86\u3002\n\n\n\n\u53c2\u8003\u4ee3\u7801:\n\n\n\n\n```cpp\n#include<stdio.h>\n#include<string.h>\nint xx(char *a,char *b,char *c)\n{\n    int i,j,t=0,k;\n    for(i=0;b[i]!=NULL&&i<100;i++)\n    {\n        for(j=0;a[j]!=NULL&&j<100;j++)\n        {\n            if(i+j<100)\n            {\n                if(c[j+i]==NULL)\n                {\n                    c[j+i]='0';\n                    if(j+i+1<=100)\n                        c[j+i+1]=NULL;\n                }\n                t=(c[j+i]-'0')+(a[j]-'0')*(b[i]-'0');\n                c[j+i]=t%10+'0';\n                t=t/10;\n                k=j+i+1;\n                while(t!=0&&k<100)\n                {\n                    if(c[k]==NULL)\n                    {\n                        c[k]='0';\n                        c[k+1]=NULL;\n                    }\n                    t=t+(c[k]-'0');\n                    c[k]=t%10+'0';\n                    t=t/10;\n                    k++;\n                }\n            }\n        }\n    }\n    return 0;\n}\nint add(char *m,char *nm)\n{\n    int i,t=0,k;\n    for(i=0;i<200;i++)\n    {\n        if(m[i]==NULL&&nm[i]==NULL)\n            break;\n        else if(m[i]==NULL)\n        {\n            m[i]='0';\n            m[i+1]=NULL;\n        }\n        else if(nm[i]==NULL)\n        {\n            nm[i]='0';\n            nm[i+1]=NULL;\n        }\n        t=(m[i]-'0')+(nm[i]-'0');\n        m[i]=t%10+'0';\n        t=t/10;\n        k=i;\n        while(t!=0)\n        {\n            k++;\n            if(m[k]==NULL)\n            {\n                m[k]='0';\n                m[k+1]=NULL;\n            }\n            t=m[k]-'0'+t;\n            m[k]=t%10+'0';\n            t=t/10;\n        }\n    }\n}\nint main()\n{\n//    long int bug=0;\n    int a,b,i,j,p=0,end=0,w=0;\n    char n[102],t[102],c[102],tempm[102],tempnm[102],mast[102],m[200],nm[200];\n    char check[200];\n    scanf(\"%s\",check);                //\u627e\u4e86\u597d\u4e45\u7ec8\u4e8e\u627e\u5230\u4e86\u9519\u7684\u5730\u65b9\uff0c\uff0c\uff0c\u539f\u6765\u8f93\u5165\u95ee\u9898\u3002\n    scanf(\"%d\",&b);\n    j=0;\n    for(i=(int)strlen(check)-1;i>=0&&j<=100;i--)\n    {\n        n[j]=check[i];\n        j++;\n    }\n    n[j]=NULL;\n//\u8fd9\u91cc\u662f\u539f\u672c\u7684\u6574\u578b\u8f93\u5165\n//    scanf(\"%d %d\",&a,&b);                \n    m[0]='0';\n    m[1]=NULL;\n    nm[0]='1';\n    nm[1]=NULL;\n```\n/\\*\n```cpp\n    for(i=0;i<b;i++)\n    {\n        n[i]=a%10+'0';\n        a=a/10;\n    }\n    n[i]=NULL;\n```\n\\*/\n```cpp\n    strcpy(mast,n);\n    strcpy(t,n);\n    tempm[0]='1';\n    tempm[1]=NULL;\n    for(i=1;i<=b;i++)\n    {\n        tempnm[0]=NULL;\n        c[0]=NULL;\n        xx(n,t,c);\n        xx(tempm,t,tempnm);\n        tempnm[b+1]=NULL;\n        c[b]=NULL;\n        add(m,nm);\n        p=0;\n        for(j=w;j<b;j++)\n        {\n            if(c[j]!=mast[j])\n            {\n                i=w;\n                break;\n            }\n            else\n            {\n                p=1;\n                w++;\n            }\n        }\n        if(p==1)\n        {\n            strcpy(nm,m);\n            if(w==b)\n            {\n                for(i=(int)strlen(m)-1;i>=0;i--)\n                {\n                    printf(\"%c\",m[i]);\n                //    bug=bug*10+(m[i]-'0');\n                }\n            //    printf(\"%ld\",bug);\n                return 0;\n            }\n            strcpy(t,tempnm);\n        }\n        strcpy(tempm,tempnm);\n        strcpy(n,c);\n        end++;\n        if(end==100000)\n        {\n            break;\n        }\n    }\n    printf(\"-1\");\n    return 0;\n}\n\n```",
        "postTime": 1514295934,
        "uid": 64191,
        "name": "\u5c0f\u767d\u4e00\u679a",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    },
    {
        "content": "\u4e00\u822c\u8ba4\u4e3a\uff0c\u67d0\u6570\u7684\u7684N\u6b21\u65b9\u7684\u540eK\u4f4d\uff0c\u4e0e\u8be5\u6570\u7684\u540eK\u4f4d\u6709\u5173\uff0cK\u4f4d\u4e4b\u524d\u4e0d\u5f71\u54cd\n\n\u5c31\u662f12\u3001122\u3001\u7684N\u6b21\u65b9\u7684\u6700\u540e1\u4f4d\u6570\uff0c\u53ea\u4e0e12\u4e2d\u76842\u3001122\u4e2d\u76842\u6709\u5173\n\n\u56e0\u6b64\u5bf9\u6574\u6570N\uff0c\u6c42\u5176\u6700\u540eK\u4f4d\u7684\u5faa\u73af\u65f6\uff0c\u53ea\u8981\u8003\u8651N\u7684\u540eK\u4f4d\u3002\n\n\u53c8\u8ba4\u4e3a\uff0c\u5f53\u5c3e\u6570\u4e2d\u7b2c\u4e8c\u6b21\u51fa\u73b0\u67d0\u503c\uff0c\u5219\u5fc5\u4ece\u8be5\u503c\u540e\u5373\u5f00\u59cb\u5faa\u73af\n\n\n\u4ee5\u4e0b\u4ee3\u7801\u7528VBS\u5b9e\u73b0\uff0c\u5728WINDOWS\u7cfb\u7edf\u4e2d\u628a\u4ee3\u7801\u590d\u5236\u8fdb\u7a7a\u6587\u672c\u6587\u4ef6\uff0c\u4fdd\u5b58\u6539\u540e\u7f00\u540d\u4e3aVBS\uff0c\u53ef\u4ee5\u53cc\u51fb\u8fd0\u884c\n\n'=========\u4ee3\u7801\u5f00\u59cb=========\n\n'\u6487\u53f7\u5f00\u5934\u7684\u884c\u662f\u6ce8\u91ca\n\n'\u4ec5\u7528\u4e8e\u5b9e\u73b0.\u9650\u4e8eVBS\u7684\u6027\u80fd\uff0c\u5728\u9a8c\u8bc1\u5f88\u5927\u7684K\u65f6\u8017\u65f6\u6781\u591a\n\n\n'n,k\u7684\u8f93\u5165\u503c\uff0c\u6ca1\u6709\u505a\u8f93\u5165\uff0c\u53ef\u4ee5\u624b\u5de5\u4fee\u6539\n\n'j\u662f\u5bfb\u627e\u5faa\u73af\u5c3e\u6570\u7684\u65d7\u6807\n\n'ws\u662f\u5b58\u50a8\u5c3e\u6570\u7684\u4ee5\u9017\u53f7\u5206\u9694\u7684\u5b57\u7b26\u4e32\u3001\u5e76\u53ef\u5206\u89e3\u4e3a\u5c3e\u6570\u6570\u7ec4\n\n'ts\u662f\u5b58\u50a8\u67d0\u6b21\u5e42\u5c3e\u6570\u7684\u5b57\u7b26\u4e32\n\n\n```cpp\nn = 2\nk = 1\nj = 1\nws = \"\"\nts = \"\"\n```\n'\u5236\u9020\u4e00\u4e2a\u957f\u5ea6\u4e3aK\u7684\u5b57\u7b26\u4e32\uff0c\u5168\u90e8\u75310\u6784\u6210\uff0c\u7528\u4e8e\u8865\u9f50\nfor i = 1 to k\n\n   w = w & \"0\"\n\nnext\n\n'\u521d\u59cb\u5316\u65f6\uff0c\u4e5f\u5c31\u662f\u5e42\u6b21\u4e3a1\u65f6\n\n\nn = cutw (n)\n\nws= addw (n)\n\n'm\u4e13\u95e8\u7528\u4e8e\u4e58\u65b9\u8ba1\u7b97\n\n\n\n```cpp\nm = n\ndo until j = 0\n   ts = \"\"\n   m = cutw (m*n)\n   ts = addw (m)\n```\n'\u5224\u65ad\u5c3e\u6570ts\u662f\u5426\u5df2\u5728ws\u4e2d\u5b58\u5728\nif Instr (ws,ts) then\n\n    ws = ws & \",\" & ts   \n\n'\u5b58\u5728\uff0c\u8bbe\u7f6ej\u503c\u4ee5\u9000\u51fa\u5faa\u73af\n\n```cpp\n    j = 0\nelse\n   ws = ws & \",\" & ts\n   j = j + 1\nend if\n```\nloop\n\n'\u5c06\u6240\u6709\u5c3e\u6570\u5b57\u7b26\u4e32\u5206\u89e3\u4e3a\u6570\u7ec4\n\nws = split (ws,\",\")\n\nfor i = 0 to Ubound (ws)\n\n'\u67e5\u627e\u5faa\u73af\u5f00\u59cb\u7684\u5c3e\u6570\uff0c\u91cd\u590d\u51fa\u73b0\u7684\u5c3e\u6570\u6b63\u4f4d\u4e8e\u6570\u7ec4\u6700\u540e\n\n    if ws (i) = ts then\n\n'\u6211\u7684\u8f93\u51fa\u65b9\u5f0f\n\nMsgBox \"\u5c3e\u6570\u6709\u5faa\u73af\uff0c\u4ece\u7b2c\" & i+1 & \"\u6b21\u65b9\u5f00\u59cb\uff0c\u6700\u65e9\u4e8e\u7b2c\" & Ubound (ws) +1 & \"\u6b21\u65b9\u51fa\u73b0\u91cd\u590d\uff0c\" & \"\u6700\u5c0f\u5faa\u73af\u957f\u5ea6\u4e3a\" & Ubound (ws) - i\n\nWscript.Quit\n\n    end if\n\nnext\n\n'\u51fd\u6570cutw\u7528\u4e8e\u622a\u65ad\u83b7\u5f97K\u4f4d\u5c3e\u6570\n\n\n```cpp\nfunction cutw (p)\n   if Len (p) > k then\n      cutw = right (p,k)\n   else\n      cutw = p\n   end if\nend function\n```\n'\u51fd\u6570addw\u7528\u4e8e\u8865\u9f50K\u4f4d\u5c3e\u6570\n\n```cpp\nfunction addw (q)\n   if Len (q) < k then\n      addw = Right (w & q,k)\n   else\n      addw = cutw (q)\n   end if\nend function\n'=========\u4ee3\u7801\u7ed3\u675f=========\n```",
        "postTime": 1476964242,
        "uid": 8743,
        "name": "michenghao",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1050 \u3010\u5faa\u73af\u3011"
    }
]