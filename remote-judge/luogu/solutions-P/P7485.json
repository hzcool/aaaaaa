[
    {
        "content": "**\u7b80\u5355\u4e4b\u81f3\u7684\u9898\u89e3**\n\n~~\u6bd4\u697c\u4e0a\u7684\u7b80\u5355\uff0c\u4ee3\u7801\u53ea\u6709\u4e8c\u5341\u884c\u3002~~\n\n\u9996\u5148\u770b\u9898\u7684\u65f6\u5019\u53d1\u73b0\u8fd9\u4e2a\u65e0\u6cd5\u505a\u5230\u76f4\u63a5\u6c42\u3002\n\n\u56e0\u4e3a\u6570\u636e\u8303\u56f4\u597d\u50cf\u6709\u70b9\u8d85\u4e4e\u60f3\u8c61\u3002\n\n\u4f46\u662f\u5bf9\u4e8e\u8fd9\u79cd\u9012\u63a8\u7684\u9898\u6765\u8bf4\u4e00\u822c\u5c31\u662f\u4ece\u5c0f\u7684\u5f80\u5927\u7684\u63a8\u3002\n\n\u90a3\u4e48\u6211\u4eec\u9012\u63a8\u7684\u8fc7\u7a0b\u5c31\u662f\u6bcf\u4e00\u6b21\u633d\u56de\u3002\n\n\u6211\u4eec\u53d1\u73b0\u6211\u4eec\u633d\u56de\u4e00\u6b21\u4e4b\u540e\u95ee\u9898\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a\u5b50\u95ee\u9898\u3002\n\n\u4f46\u662f\u8fd9\u4e2a\u5b50\u95ee\u9898\u7684\u633d\u56de\u987a\u5e8f\u53d8\u4e86\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u9012\u63a8\u7684\u65f6\u5019\u53cd\u8fc7\u6765\u5c31\u597d\u4e86\u3002\n\n\u8fd9\u4e2a\u9898\u53c8\u975e\u5e38\u7684\u5584\u826f\u7ed9\u4e86\u6211\u4eec\u5f53\u524d\u8fd9\u4e00\u884c\u7684\u6700\u5927\u503c\u3002\n\n\u660e\u663e\u7684\u6697\u793a\u9012\u63a8\u597d\u5427~~~\u3002\n\n\u6211\u4eec\u76f4\u63a5\u679a\u4e3e\u5f53\u524d\u7684\u67ab\u53f6\u6570\u91cf\u3002\n\n\u8ba1\u7b97\u633d\u56de\u4e00\u6b21\u4e4b\u540e\u8fd8\u5269\u4e0b\u591a\u5c11\u3002\n\n\u7528\u5269\u4e0b\u7684\u67ab\u53f6\u6570\u76ee\u5bf9\u5e94\u7684\u7b54\u6848\uff0c\u5148\u7ffb\u8f6c\u4e00\u4e0b\uff0c\u5728\u8ba1\u7b97\u8fd9\u4e2a\u7b54\u6848\u7684\u4f4d\u7f6e\u4e4b\u524d\u62ff\u8d70\u4e86\u591a\u5c11\u53f6\u5b50\u3002\n\n\u76f4\u63a5\u52a0\u4e0a\u5c31\u662f\u7b54\u6848\u3002\n\n\u6700\u540e\u76f4\u63a5\u8f93\u51fa\u5c31\u597d\u4e86\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define fxt(i,x,y) for(int i=(x);i<=(y);i++)\n#define pyt(i,x,y) for(int i=(x);i>=(y);i--)\nconst int N=1e6+5;\nint t,q,m,n,ans[N];\nsigned main(){\n    scanf(\"%d\",&t);\n    fxt(k,1,t){\n        scanf(\"%d%d\",&q,&m);\n        ans[1]=1;\n        fxt(i,2,m){\n            int las=i-(i-1)/(k+1)-1;\n            int pos=las-ans[las]+1;\n            ans[i]=pos+(pos-1)/k+1;\n        }\n        while(q--){\n            scanf(\"%d\",&n);\n            printf(\"%d \",ans[n]);\n        }\n        printf(\"\\n\");\n    }\n}\n```",
        "postTime": 1635898975,
        "uid": 233027,
        "name": "fengwu",
        "ccfLevel": 0,
        "title": "\u67ab"
    },
    {
        "content": "\u975e\u5e38\u7b80\u5355\u7684\u9012\u63a8\u3002\n\n\u6211\u4eec\u53ea\u8981\u4ece\u8fdb\u884c\u4e00\u6b21 **\u633d\u56de** \u540e\u5269\u4e0b\u7684\u67ab\u53f6\u6570\u5bf9\u5e94\u7684 **\u601d\u5ff5** \u9006\u63a8\u56de\u6765\u5c31\u884c\u4e86\u3002\u5efa\u7acb **\u633d\u56de** \u4e4b\u540e\u9006\u5411\u91cd\u65b0\u7f16\u53f7\u7684\u503c\u5230\u539f\u7f16\u53f7\u503c\u7684\u5173\u7cfb\u3002\u8ba1\u7b97\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(\\sum (m+q))$\u3002\n\nCode:\n```cpp\n#include<cstdio>\n#define rg register\ninline char rc()\n{\n\tstatic char buf[1048576],*pn=buf,*pe=buf;\n\treturn (pn==pe)&&(pe=(pn=buf)+fread(buf,1,1048576,stdin),pn==pe)?EOF:*pn++;\n}\ninline int read()\n{\n\tint x=0;\n\tchar cc=rc();\n\twhile(cc<'0'||cc>'9')cc=rc();\n\twhile(cc>='0'&&cc<='9')x=x*10+cc-'0',cc=rc();\n\treturn x;\n}\nvoid print(int x)\n{\n\tif(x>9)print(x/10);\n\tputchar(x%10+'0');\n}\nint t,q,m,n,k;\nint a[1000003];\nint main()\n{\n\tt=read();\n\tfor(rg int i=1;i<=t;++i)\n\t{\n\t\tq=read(),m=read(),k=i+1;\n\t\tfor(rg int j=1;j<k;++j)a[j]=(j>>1)+1;\n\t\tfor(rg int j=k,t=1,x;j<=m;j+=k,++t)\n\t\t{\n\t\t\tx=j-t+1-a[j-t];\n\t\t\ta[j]=x+(x+i-1)/i;\n\t\t\tfor(rg int d=1;d<k&&j+d<=m;++d)\n\t\t\t{\n\t\t\t\tx=j-t+d-a[j-t+d-1];\n\t\t\t\ta[j+d]=x+(x+i-1)/i;\n\t\t\t}\n\t\t}\n\t\twhile(q--)\n\t\t{\n\t\t\tn=read();\n\t\t\tprint(a[n]),putchar(q?' ':'\\n');\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1615599252,
        "uid": 59388,
        "name": "VinstaG173",
        "ccfLevel": 7,
        "title": "A \u67ab \u9898\u89e3"
    },
    {
        "content": "~~\u88ab\u8fd9\u9898\u6298\u78e8\u4e86\u4e00\u4e0a\u5348\u3002~~\n\n\u4e0d\u96be\u60f3\u5230\u7ea6\u745f\u592b\u95ee\u9898\u3002\u518d\u89c2\u5bdf\u6570\u636e\u8303\u56f4\uff0c\u663e\u7136\u6a21\u62df\u662f\u4e00\u5b9a\u4f1a\u7206\u70b8\u7684\uff0c\u8003\u8651\u9012\u63a8\u3002\n\n\u8003\u8651\u7531**\u7531\u5f53\u524d\u72b6\u6001\u633d\u56de\u4e00\u6b21\u540e\u7684\u5c40\u9762**\u9012\u63a8**\u5f53\u524d\u5c40\u9762**\u7684\u7b54\u6848\u3002\n\n\u8bbe\u5f53\u524d\u5c40\u9762\u7684\u67ab\u53f6\u6570\u4e3a $x$\u3002\u4e00\u6b21\u633d\u56de\uff0c\u6211\u4eec\u62ff\u8d70\u4e86\u7b2c\u4e00\u7247\u67ab\u53f6\uff0c\u63a5\u4e0b\u6765\u6bcf\u9694 $k$ \u7247\u62ff\u8d70\u4e00\u7247\uff0c\u90a3\u6211\u4eec\u633d\u56de\u4e00\u6b21\u540e\u5269\u4e0b\u7684\u53f6\u5b50\u6570\u5c31\u662f $last = x - 1 - \\frac{x - 1}{k + 1}$\u3002\n\n\u8bbe\u633d\u56de\u4e00\u6b21\u540e\uff0c**\u601d\u5ff5**\u7684\u4f4d\u7f6e\u662f $y$\u3002\u56e0\u4e3a\u6211\u4eec\u633d\u56de\u4e86\u4e00\u6b21\u540e\uff0c\u5e8f\u5217\u8fdb\u884c\u4e86\u7ffb\u8f6c\uff0c\u6240\u4ee5\u5728\u7ffb\u8f6c\u4e4b\u524d\uff0c\u5b83\u7684\u4f4d\u7f6e\u662f $pos = last - y + 1$\u3002\u5c06\u5b83\u4e0e\u5f53\u524d\u72b6\u6001\u8fdb\u884c\u6bd4\u8f83\uff0c\u53d1\u73b0\u4f4d\u7f6e\u5dee\u7684\u5c31\u662f\u6211\u4eec\u5728\u633d\u56de\u4e2d\uff0c\u5728 $pos$ \u4e4b\u524d\u62ff\u8d70\u7684\u67ab\u53f6\u3002\u90a3\u4e48\u6211\u4eec\u5728 $pos$ \u4e4b\u524d\u62ff\u8d70\u7684\u67ab\u53f6\u6570\u662f $1 + \\frac{pos - 1}{k}$\u3002\u90a3\u4e48**\u601d\u5ff5**\u5728**\u5f53\u524d\u5c40\u9762**\u7684\u4f4d\u7f6e\u5c31\u662f $pos + 1 + \\frac{pos - 1}{k}$\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/udiqcnoj.png?x-oss-process=image/resize,m_lfit,h_1000,w_1000)\n\n\u90a3\u4e48\u4ee5\u8fd9\u6837\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e00\u7ec4 $m, k$\uff0c\u90fd\u9012\u63a8\u51fa\u7b54\u6848\uff0c\u6700\u540e $O(1)$ \u67e5\u8be2\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(T \\times (m + q))$\u3002\n\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define rep(a, b, c) for(int (a) = (b); (a) <= (c); ++ (a))\n#define per(a, b, c) for(int (a) = (b); (a) >= (c); -- (a))\nusing namespace std;\n\nconst int N = 1000010;\n\nint ans[N];\n\nint main() {\n\tint T;\n\tscanf(\"%d\", &T);\n\trep(k, 1, T) {\n\t\tint q, m;\n\t\tscanf(\"%d%d\", &q, &m);\n\t\tans[1] = 1;\n\t\trep(i, 2, m) {\n\t\t\tint last = i - 1 - (i - 1) / (k + 1);\n\t\t\tint pos = last - ans[last] + 1;\n\t\t\tans[i] = pos + (pos - 1) / k + 1;\n\t\t}\n\t\twhile(q -- ) {\n\t\t\tint x;\n\t\t\tscanf(\"%d\", &x);\n\t\t\tprintf(\"%d \", ans[x]);\n\t\t}\n\t\tputs(\"\");\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1685170802,
        "uid": 477674,
        "name": "Lagerent",
        "ccfLevel": 0,
        "title": "P7485 \u300cStoi2031\u300d\u67ab \u9898\u89e3"
    }
]