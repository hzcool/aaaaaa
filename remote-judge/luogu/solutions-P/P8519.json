[
    {
        "content": "\u5728\u505a\u8fc7 [JOI Open 2019 \u7684\u67d0\u9898](https://loj.ac/p/3155) \u540e\u611f\u89c9\u8fd9\u9898\u80fd\u5957\u540c\u6837\u7684\u505a\u6cd5\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u70b9\u6211\u4eec\u662f\u53ef\u4ee5 $O(n+m)$ bfs \u6c42\u51fa\u7b54\u6848\u7684\u3002\n\n\u8003\u8651\u76f4\u63a5\u5957\u75c5\u6bd2\u5b9e\u9a8c\u7684\u505a\u6cd5\u3002\u4e00\u5f00\u59cb\u628a\u6bcf\u4e2a\u70b9\u67d3\u4e0d\u540c\u7684\u989c\u8272\uff0c\u4e0b\u9762\u628a\u540c\u989c\u8272\u7684\u70b9\u79f0\u4f5c\u4e00\u4e2a\u8fde\u901a\u5757\u3002\n\n\u5e76\u67e5\u96c6\u7ef4\u62a4\u82e5\u5e72\u8fde\u901a\u5757\uff0c\u8fde\u901a\u5757\u53ea\u4fdd\u7559\u4e00\u4e2a\u6240\u6709\u70b9\u80fd\u5230\u5b83\u7684\u70b9\uff08\u4ee3\u7801\u4e2d\u7684\u5e76\u67e5\u96c6\u7684\u6839\uff09\uff0c\u4e5f\u5c31\u662f\u8fde\u901a\u5757\u4e2d\u80fd\u5230\u8fbe\u7684\u70b9\u6570\u91cf\u6700\u5c11\u7684\u70b9\u3002\uff08\u5176\u4ed6\u7684\u70b9\u4e0d\u7528\u7ba1\uff0c\u56e0\u4e3a\u53ea\u8981\u6c42\u8fbe\u5230\u70b9\u6570\u6700\u5c0f\u7684\uff09\n\n\u7136\u540e\u6bcf\u6b21\u4ece\u4fdd\u7559\u7684\u70b9\u5f00\u59cb bfs \u627e\u3002\n\nbfs \u5230\u4e0d\u540c\u8fde\u901a\u5757\u7684\u5c31\u5408\u5e76\u4e24\u4e2a\u8fde\u901a\u5757\u5e76\u8fd4\u56de\uff0c\u5f53\u524d\u8fde\u901a\u5757\u7684\u90a3\u4e2a\u70b9\u53ef\u4ee5\u76f4\u63a5\u5e9f\u4e86\uff0c\u4fdd\u7559\u90a3\u4e2a\u4e0d\u540c\u8fde\u901a\u5757\u7684\u70b9\u5c31\u884c\u4e86\u3002\n\n\u4e0d\u80fd\u5230\u4e0d\u540c\u8fde\u901a\u5757\u5c31\u8bf4\u660e\u8fd9\u4e2a\u70b9\u80fd\u5230\u7684\u4f4d\u7f6e\u5df2\u7ecf\u786e\u5b9a\uff0c\u4ee5\u540e\u53ef\u4ee5\u4e0d\u518d bfs \u8fd9\u4e2a\u8fde\u901a\u5757\uff0c\u5e76\u66f4\u65b0\u7b54\u6848\u5373\u53ef\u3002\n\n\u6bcf\u8f6e\u4f1a\u8fde\u901a\u5757\u6570\u91cf\u81f3\u5c11\u9664\u4ee5 $2$\uff0c\u8fd9\u6837\u53ea\u4f1a\u7ecf\u8fc7 $\\log$ \u8f6e bfs\uff0c\u590d\u6742\u5ea6\u4e3a 1log\u3002\n\n\u7136\u540e\u5c31\u505a\u5b8c\u4e86\uff0c\u5341\u5206\u597d\u5199\uff08\n\n\u53ef\u4ee5\u914d\u5408[\u4ee3\u7801](https://uoj.ac/submission/515792)\u7406\u89e3\u3002",
        "postTime": 1636122660,
        "uid": 151935,
        "name": "Rainbow_qwq",
        "ccfLevel": 0,
        "title": "IOI2021 keys"
    },
    {
        "content": "\u6458\u81ea\u6211\u7684\u535a\u5ba2\u6587\u7ae0\uff1a[\u94a5\u5319\u9898\u4e13\u9879\u8bad\u7ec3](https://www.luogu.com.cn/blog/666666new/keys-tm)\u3002\n\n### \u95f2\u8bdd\n\n\u8fd9\u4e2a IOI \u7684\u9898\u554a\u51fa\u7684\u662f\u76f8\u5f53\u7684\u4e0d\u89c4\u8303\uff0c\u5f04\u4e2a\u8fd9\u4e2a\u4ea4\u4e92\u9898\u7684\u683c\u5f0f\uff0c\u9ebb\u70e6\u5f97\u5f88\u3002\u5efa\u8bae\u8fd9\u4e2a IOI \u6bd4\u8d5b\u7684\u51fa\u9898\u4eba\u6574\u6210\u4ece\u6587\u4ef6\u91cc\u9762\u8bfb\u6570\u636e\uff01\u54ea\u6709\u8fd9\u6837\u5b50\u4ea4\u9898\u8fde\u4e2a `main` \u51fd\u6570\u90fd\u6ca1\u5f97\u7684\u54a9\uff1f\u73b0\u5728\u5916\u56fd\u7684\u8fd9\u4e9b\u5c0f\u4f19\u5b50\u4e9b\u51c0\u6574\u4e9b\u6d0b\u6b6a\u6b6a\u7684\uff0c\u7b80\u76f4\u628a\u6211\u6574\u817e\u4e86\uff01\n\n### \u9898\u610f\n\n\u4e00\u4e2a\u7ecf\u5178\u7684\u94a5\u5319-\u9501\u6a21\u578b\u3002\u6709\u4e00\u4e2a $n$ \u4e2a\u70b9 $m$ \u6761\u53cc\u5411\u8fb9\u7684\u8ff7\u5bab\u3002\u6bcf\u6761\u8fb9\u4e0a\u6709\u67d0\u79cd\u989c\u8272\u7684\u9501\uff0c\u6bcf\u4e2a\u70b9\u4e0a\u6709\u67d0\u79cd\u989c\u8272\u7684\u94a5\u5319\u3002\u4e00\u79cd\u989c\u8272\u7684\u94a5\u5319\u5f00\u4e00\u79cd\u989c\u8272\u7684\u9501\u3002\u5982\u679c\u4e00\u4e2a\u5e08\u5085\u4ece\u70b9 $i$ \u5f00\u59cb\u5728\u8ff7\u5bab\u91cc\u5934\u8f6c\u5708\u5708\uff0c\u8fdb\u5230\u4e00\u4e2a\u623f\u5b50\u5c31\u628a\u94a5\u5319\u4e32\u8d77\u6487\u5230\u76ae\u5e26\u4e0a\u9762\uff0c\u76ae\u5e26\u4e0a\u8981\u6709\u5bf9\u5e94\u989c\u8272\u7684\u94a5\u5319\u624d\u80fd\u5f00\u9501\u8d70\u8fc7\u4e00\u6761\u8fb9\uff0c\u8bbe\u5e08\u5085\u4ee5 $i$ \u4e3a\u8d77\u70b9\u5f00\u59cb\u80fd\u8f6c\u5230\u7684\u70b9\u6570\u662f $p_i$\uff0c\u8981\u6c42\u51fa $p_i$ \u6700\u5c0f\u7684\u90a3\u4e9b $i$ \u7684\u96c6\u5408\u3002\n\n### \u9898\u89e3\n\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u56e0\u4e3a\u662f\u8981\u627e $p_i$ \u6700\u5c11\u7684\u90a3\u4e9b\uff0c\u6240\u4ee5\u5982\u679c $x$ \u80fd\u8f6c\u5230 $y$\uff0c$y$ \u53ef\u4ee5\u8f6c\u5230\u7684\u70b9 $x$ \u80af\u5b9a\u4e5f\u53ef\u4ee5\u5148\u8f6c\u5230 $y$ \u518d\u8f6c\u5230\uff0c\u90a3\u4e48 $p_y$ \u80af\u5b9a\u4e0d\u5f97\u8d85\u8fc7 $p_x$ \u4e09\uff0c\u5982\u679c\u53cd\u8fc7\u6765 $y$ \u8f6c\u4e0d\u5230 $x$ \u90a3 $x$ \u80af\u5b9a\u6ca1\u7528\u4e86\uff0c\u6b64\u65f6 $p_x$ \u80af\u5b9a\u4e25\u683c\u6bd4 $p_y$ \u5927\u3002\u90a3\u628a\u8fd9\u4e2a\u6bcf\u4e2a\u70b9\u80fd\u5230\u7684\u62ff\u4e2a\u5e76\u67e5\u96c6\u7f29\u4e00\u4e0b\u3002\u5bf9\u6bcf\u4e2a\u5e76\u67e5\u96c6\u91cc\u9762\u7684\u96c6\u5408\uff0c\u6211\u4eec\u4ece\u8fd9\u4e2a\u6839\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u88ab\u6240\u6709\u70b9\u80fd\u5230\u8fbe\u7684\u8fd9\u4e2a\u70b9\u5f00\u59cb BFS \u5750\u677f\u51f3\uff0c\u627e\u5230\u80fd\u5230\u8fbe\u7684\u53e6\u4e00\u4e2a\u96c6\u5408\u5408\u5e76\u8d77\u6765\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u5565\u5b50\u590d\u6742\u5ea6\u7684\u634f\uff1f\u5176\u5b9e\u8ddf Boruvka \u7b97\u6cd5\u7684\u601d\u60f3\u662f\u5dee\u4e0d\u591a\u7684\u3002\u56e0\u4e3a\u6211\u4eec\u6bcf\u6b21\u4f1a\u627e\u5230\u4e00\u4e2a\u96c6\u5408\u8ddf\u4ed6\u5408\u5e76\uff0c\u90a3\u96c6\u5408\u7684\u6570\u91cf\u6bcf\u6b21\u780d\u534a\uff0c\u56e0\u6b64\u8fd9\u4e2a\u8fc7\u7a0b\u53ea\u9700\u8981\u8fdb\u884c $\\mathcal O(\\log n)$ \u8f6e\u3002\u6bcf\u8f6e\u6211\u4eec\u5750\u677f\u51f3\u7684\u590d\u6742\u5ea6\u662f $\\mathcal O(n)$ \u7684\uff0c\u56e0\u6b64\u603b\u590d\u6742\u5ea6\u5c31\u662f\u4e00\u4e2a $\\mathcal O(n\\log n)$ \u4e86\u5f97\u54a9\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define mp make_pair\nvector<pair<int,int>>e[300010];\nvector<int>res,ans,col[300010],pw,t;\nint n,m,R[300010],vis[300010],in[300010],q[300010],mn=1e9,fin[300010],f[300010];\nint find(int x)\n{return x==f[x]?x:f[x]=find(f[x]);\n}\nvoid bfs(int s){\n bool flag=1;\n  queue<int>q;\nq.push(s);\nt.push_back(s);\n while(!q.empty())\n  {\n  int x=q.front();\n   q.pop();\n   if(find(x)!=s){\n flag=0;\n  f[s]=find(x);\n vis[find(x)]=1;\n  break;}\n    if(vis[x])continue;\n vis[x]=1;\n  ans.push_back(x);\n  if(!in[R[x]])\n{\n in[R[x]]=1;\n  for(int i:col[R[x]])\n  q.push(i),t.push_back(i);}\n for(pair<int,int>i:e[x])\n  {\n   int v=i.first,w=i.second;\n if(in[w])\n  q.push(v),t.push_back(v);else\n   col[w].push_back(v),pw.push_back(w);\n   }\n    }\n if(flag)\n   {fin[s]=1;\n if(ans.size()<mn)\n  {\n  mn=ans.size();\n    res=ans;}\nelse if(ans.size()==mn)for(int i:ans)res.push_back(i);\n}for(int i:pw)\n col[i].clear();\n   for(int i:t){\n  in[R[i]]=0;}\n pw.clear();\n t.clear();\n  ans.clear();}\n  vector<int>find_reachable(vector<int>r,vector<int>u,vector<int>v,vector<int>c)\n{n=r.size(),m=u.size();\n for(int i=1;i<=n;++i)\n   R[i]=r[i-1]+1,f[i]=i;\nfor(int i=0,x,y,w;i<m;++i)\n {x=u[i]+1,y=v[i]+1,w=c[i]+1;\n e[x].push_back(mp(y,w));\n  e[y].push_back(mp(x,w));\n}\n  while(1)\n   {\n bool flag=1;for(int i=1;i<=n;++i)vis[i]=0;\n  for(int i=1;i<=n;++i)\n if(find(i)==i&&!fin[i]&&!vis[i])\n  bfs(i),flag=0;\nif(flag)break;}\n vector<int>mea(n);\nfor(int i:res)  mea[i-1]=1;\n  return mea;\n   }\n```",
        "postTime": 1679963269,
        "uid": 337548,
        "name": "myyes",
        "ccfLevel": 0,
        "title": "P8519 [IOI2021] \u94a5\u5319"
    }
]