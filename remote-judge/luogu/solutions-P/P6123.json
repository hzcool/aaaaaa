[
    {
        "content": "\n\n### \u601d\u8def\uff1a\n\n\u7b80\u5355\u6a21\u62df\uff0c\u6570\u5b57\u533a\u95f4\u4e3a $[2^{15},2^{15}]$\uff0c\u5168\u53d6\u4e3a ```true``` \uff0c\u5168\u4e0d\u53d6\u4e3a ```false``` \u3002\u5426\u5219\u6309\u6700\u7b80\u8868\u8fbe\u5f0f\u7ed9\u51fa\u8303\u56f4\u3002\n\n\u5bf9\u4e8e\u8f93\u5165\u7ed9\u7684\u8868\u8fbe\u5f0f\uff0c\u8bfb\u53d6\u5176\u8868\u793a\u7684\u533a\u95f4 $[l, r]$ \uff0c\u82e5 $l <= r$ \uff0c\u5219\u5c06\u5176\u5728\u4e00\u7ef4\u6570\u8f74\u4e0a $[l, r]$ \u6bcf\u4e2a\u6570 $+1$ \u3002\n\n\u5bf9\u7ed3\u679c\u5224\u65ad\uff0c$[2^{15},2^{15}]$\n\u533a\u95f4\u7684\u6bcf\u4e2a\u6570\u5b57\u5224\u65ad\u5176\u662f\u5426\u80fd\u591f\u53d6\u5230\uff0c\u5e76\u5408\u5e76\u533a\u95f4\uff0c\u6253\u5370\u82e5\u5e72\u6bb5\u4e0d\u8fde\u7eed\u533a\u95f4\u5373\u53ef\u3002\n\n\u5bf9\u4e8e\u5982\u4f55\u5feb\u901f\u5bf9\u533a\u95f4\u4fee\u6539\u53ca\u5355\u70b9\u67e5\u8be2\uff0c\u901a\u8fc7\u6811\u72b6\u6570\u7ec4\u5373\u53ef\u3002\n\n\n\u6ce8\u610f\u5904\u7406\u597d\u8f93\u5165\u8f93\u51fa\u683c\u5f0f\u95ee\u9898\u3002\n\n-------\n\n\n### Code\uff1a\n\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int BASE = 32769;\nconst int N = 70005;\nint bin[N];\ninline int lowbit(int x) {\n\treturn x & -x;\n}\nvoid add(int x, int w) {\n\tfor(int i=x; i<N; i+=lowbit(i)) bin[i] += w;\n}\nint sum(int x) {\n\tint ret = 0;\n\tfor(int i=x; i; i-=lowbit(i)) ret += bin[i];\n\treturn ret;\n}\nvoid update(int x, int y, int w) {\n\tadd(x, w),add(y+1, -w);\n}\nint main() {\n\n\tchar x[2], op[5], eop0, eop1;\n\tint lmt, lft, rgt;\n\twhile(true) {\n\t\tlft = -32768,rgt = 32767;\n\t\tscanf(\" %s %s %d\", x, op, &lmt);\n\t\tif(op[0] == '<') rgt = lmt;\n\t\telse lft = lmt;\n\t\tif(cin>>eop0>>eop1) {\n\t\t\tif(eop0 == '&') {\n\t\t\t\tscanf(\" %c %s %d\", &x, op, &lmt);\n\t\t\t\tif(op[0] == '<') rgt = min(lmt, rgt);\n\t\t\t\telse lft = max(lft, lmt);\n\t\t\t}\n\t\t\tif(lft <= rgt) update(lft + BASE, rgt + BASE, 1);\n\t\t\tif(eop0 == '&') {\n\t\t\t\tif(cin>>eop0>>eop1);\n\t\t\t\telse break;\n\t\t\t}\n\t\t} else {\n\t\t\tif(lft <= rgt) update(lft + BASE, rgt + BASE, 1);\n\t\t\tbreak;\n\t\t}\n\t}\n\tint cnt = 0;\n\tlft = -BASE;\n\tbool flg = false;\n\tfor(int i=1, val; i<=BASE + 32767; i++) {\n\t\tval = sum(i);\n\t\tcnt += (val > 0 ? 1 : 0);\n\t\tif(lft == -BASE && val) lft = i-BASE;\n\t\tif(lft != -BASE && val == 0) {\n\t\t\tif(flg) printf(\" ||\\n\");\n\t\t\tif(lft == 1-BASE) printf(\"x <= %d\", i-BASE-1);\n\t\t\telse printf(\"x >= %d && x <= %d\", lft, i-BASE-1);\n\t\t\tlft = -BASE;\n\t\t\tflg = true;\n\t\t}\n\t}\n\tif(cnt == 0) printf(\"false\\n\");\n\telse if(cnt == 32768*2) printf(\"true\\n\");\n\telse if(lft != -BASE) {\n\t\tif(flg) printf(\" ||\\n\");\n\t\tprintf(\"x >= %d\", lft);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1603105267,
        "uid": 351320,
        "name": "RBI_GL",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6123 \u3010[Neerc2016]Hard Refactoring\u3011"
    }
]