[
    {
        "content": "\u8fd9\u9053\u9898\u76ee\u4e00\u770b\u6570\u636e\u8303\u56f4\u5c31\u77e5\u9053\u5b83\u662f\u4e00\u9053\u6570\u5b66\u9898\uff0c\u4e0d\u8fc7\u8981\u600e\u6837\u5904\u7406\u5462\uff1f\n\n\u4ee4 $f(x)$ \u4e3a\u4e0d\u80fd\u6574\u9664 $x$ \u7684\u6700\u5c0f\u6574\u6570\uff0c\u5176\u4e2d $x\\ge 3$\uff0c\u5f88\u663e\u7136\u7684\u662f $\\text{strength}(x)=\\text{strength}(f(x))+1$\uff0c\u8fd9\u6839\u636e\u5b9a\u4e49\u53ef\u77e5\u3002\n\n\u5173\u952e\u5c31\u5728\u8fd9\u91cc\uff1a\u5bf9\u4e8e\u6240\u6709 $x\\in [3,10^{17}]$\uff0c\u4e00\u5b9a\u6709 $f(x)\\le 41$\uff0c\u56e0\u4e3a $\\text{lcm}(1,2,...,40)<10^{17}$\uff0c\u800c $\\text{lcm}(1,2,...,41)>10^{17}$\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u9884\u5904\u7406\u4e00\u4e0b $3$ \u5230 $41$ \u4e4b\u95f4\u7684 $\\text{strength}(i)$ \u5373\u53ef\u3002\n\n\u9884\u5904\u7406\u5b8c\u4e4b\u540e\uff0c\u8ba1\u7b97 $3$ \u5230 $n$ \u7684 $\\text{strength}(i)$ \u7684\u548c\u3002\u7b54\u6848\u521d\u59cb\u5316\u4e3a $2n+k$\uff0c\u5176\u4e2d $k$ \u4e3a\u4efb\u610f\u5e38\u6570\uff0c\u56e0\u4e3a\u4e4b\u540e\u8ba1\u7b97\u7b54\u6848\u7684\u65f6\u5019\u53ef\u4ee5\u62b5\u6d88\uff0c\u679a\u4e3e $2$ \u5230 $40$\uff0c\u5e76\u66f4\u65b0 $\\text{lcm}$\uff0c\u518d\u66f4\u65b0\u7b54\u6848\u5373\u53ef\u3002\n\n```cpp\n#include<ctime>\n#include<cstdio>\n#include<cctype>\n#define ll long long\nusing namespace std;\nll read(){\n\tchar c;\n\tll x=0,f=1;\n\twhile(!isdigit(c=getchar()))\n\t\tf-=2*(c=='-');\n\twhile(isdigit(c)){\n\t\tx=x*10+f*(c-48);\n\t\tc=getchar();\n\t}\n\treturn x;\n}\nll gcd(ll x,ll y){\n\twhile(x&&y){\n\t\tll z=x;\n\t\tx=y;\n\t\ty=z%y;\n\t}\n\treturn x|y;\n}\nll lcm(ll x,ll y){\n\treturn x/gcd(x,y)*y;\n}\nll a,b,str[55];\nll f(ll x){//\u627e\u6700\u5c0f\u7684\u6b63\u6574\u6570\u4f7f\u5f97\u4e0d\u80fd\u6574\u9664x\n\tll t=2;\n\tfor(;;++t){\n\t\tif(x%t)\n\t\t\tbreak;\n\t}\n\treturn t;\n}\nll work(ll x){\n\tll tmp=1;\n\tll res=x*2;\n\tfor(ll i=2;i<43;++i){\n\t\ttmp=lcm(tmp,i);\n\t\tres+=x/tmp*(str[i+1]-str[i]);//\u57281~x\u4e2df(i)>tmp\u7684\u6709x/tmp\u4e2a\uff0c\u800c\u8fd9\u4e9b\u5f00\u59cb\u9ed8\u8ba4\u5b83\u4e3atmp\uff0c\u6240\u4ee5\u8981\u6539\u53d8\n\t}\n\treturn res;\n}\nint main(){\n\ta=read()-1;\n\tb=read();\n\tfor(ll i=3;i<=43;++i)\n\t\tstr[i]=str[f(i)]+1;//\u9884\u5904\u7406strength(i)\uff0c\u5b9e\u9645\u4e0a\u5e76\u4e0d\u9700\u8981\u786e\u5207\u503c\uff0c\u50cf\u8fd9\u91cc\u5176\u5b9e\u5904\u7406\u7684\u662fstrength(i)-1\n\tprintf(\"%lld\",work(b)-work(a));\n\treturn 0;\n}\n```\n\n",
        "postTime": 1620283203,
        "uid": 181378,
        "name": "Alarm5854",
        "ccfLevel": 7,
        "title": "P7586\u9898\u89e3"
    },
    {
        "content": "\u9898\u610f\uff1a\u5b9a\u4e49 $\\operatorname{strength}(n)$ \u4e3a\u4ece $n$ \u5f00\u59cb\u6bcf\u6b21\u9009\u53d6\u6700\u5c0f\u7684\u4e0d\u6574\u9664\u4e4b\u7684\u6b63\u6574\u6570\u6784\u6210\u5e8f\u5217\u7684\u957f\u5ea6\uff0c\u6c42 $\\sum_{i=A}^B \\operatorname{strength}(i)$\u3002\n\n\u6838\u5fc3\u601d\u60f3\uff1a\u66b4\u529b\u679a\u4e3e\n\n\u89e3\uff1a\n\n\u663e\u7136\uff0c\u7b54\u6848\u5e94\u5f53\u5927\u4e8e\u7b49\u4e8e $A-B+1$\u3002\n\n\u53d1\u73b0\u4e00\u4e2a\u6570 $n$ \u4e0e\u5176\u540e\u4e00\u9879 $m$ \u6ee1\u8db3 $lcm(1, 2, ..., m-1)\\mid n$ \u4e14 $lcm(1, 2, ..., m)\\nmid n$\uff0c\u800c $lcm(1, 2, ..., 41)>10^{17}$\uff0c\u6240\u4ee5\u53ef\u4ee5\u66b4\u529b\u6c42\u51fa  $1\\sim 41$ \u4e2d\u6bcf\u4e2a\u6570\u7684\u51fd\u6570\u503c\u4e0e\u6700\u5c0f\u516c\u7ea6\u6570\u503c\uff0c\u4e0d\u59a8\u8bbe\u4e3a $f(i),l(i)$\u3002\u5219\u5728 $A\\sim B$ \u4e4b\u95f4\u6ee1\u8db3\u540e\u9879\u662f $i$ \u7684\u6709 $\\frac{B}{l(i)}-\\frac{A-1}{l(i)}-(\\frac{B}{l(i+1)}-\\frac{A-1}{l(i+1)})$ \u4e2a\u6570\uff0c\u6bcf\u4e2a\u6570\u4f1a\u4f7f\u7b54\u6848\u589e\u52a0 $f(i)$\u3002\u4f9d\u6b21\u6c42\u7b97\u5373\u53ef\u3002\n\n\u4ee3\u7801\uff1a\n```\n#include <bits/stdc++.h>\nusing namespace std;\nlong long a, b, l[42], v[42], n[42], res;\nint main()\n{\n\tcin>>a>>b;\n\tres=b-a+1;//\u8d4b\u521d\u503c\n\tl[1]=1;\n\tfor(long long i=2; i<=41; i++)\n\t\tl[i]=l[i-1]/__gcd(l[i-1], i)*i;//\u8ba1\u7b97lcm\n\tv[2]=1;\n\tfor(int i=3; i<=41; i++)\n\t\tfor(int j=2; j<i; j++)\n\t\t\tif(i%j!=0)\n\t\t\t{\n\t\t\t\tv[i]=v[j]+1;\n\t\t\t\tbreak;\n\t\t\t}//\u66b4\u529b\u6c42\u503c\n\tfor(int i=1; i<=41; i++)\n\t\tn[i]=b/l[i]-(a-1)/l[i];//\u8ba1\u7b97\u4e2a\u6570\n\tfor(int i=2; i<=41; i++)\n\t\tres+=v[i]*(n[i-1]-n[i]);//\u52a0\u548c\n\tcout<<res;\n\treturn 0;\n}\n\n```",
        "postTime": 1667012095,
        "uid": 191387,
        "name": "\u03a6\u03c1\u03b1\u03bd\u03ba",
        "ccfLevel": 0,
        "title": "P7586 [COCI2012-2013#1] SNAGA \u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\n\n\u7565\u3002\n\n### \u89e3\u6790\n\n1. \u8bc1\u660e\uff1a\u5bf9\u4e8e\u4efb\u610f\u6574\u6570 $x(x\\ge 3)$\uff0c\u6709 $\\mathrm{strength} (x)\\le4 $\u3002\n\n\u8bc1\u660e\u8fc7\u7a0b\uff1a\n\n\u82e5\u5e8f\u5217\u4e3a $x,a_1,a_2,...,a_n$\uff0c\u4e0d\u96be\u53d1\u73b0\uff0c\u5bf9\u4e8e\u4efb\u610f\u7684 $i(1\\le i\\le n)$\uff0c$a_i$ \u90fd\u5fc5\u5b9a**\u53ea\u6709\u4e00\u4e2a\u8d28\u56e0\u5b50\u3002**\n\n\u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u82e5\u4e0d\u662f\u8fd9\u6837\uff0c$a_i$ \u5c31\u4f1a\u53d8\u6210\u5b83\u7684\u4e00\u4e2a\u4e0d\u80fd\u6574\u9664\u524d\u4e00\u4e2a\u6570\u7684\u8d28\u56e0\u5b50\uff0c\u5e76\u4e14\u8fd9\u4e2a\u8d28\u56e0\u5b50\u80af\u5b9a\u4f1a\u6bd4 $a_i$ \u5c0f\u3002\n\n\u6240\u4ee5\u6bcf\u4e2a $a_i$ \u90fd\u80fd\u88ab\u5199\u6210 $a_i=p^m$\uff0c\u5176\u4e2d $p$ \u662f\u4e00\u4e2a\u8d28\u6570\uff0c$m$ \u4e3a\u6b63\u6574\u6570\u3002\n\n* \u5f53 $a_1=2$ \u65f6\uff0c\u5e8f\u5217 $x,2$\uff0c\u51fd\u6570\u503c\u4e3a $2$\u3002\n\n* \u5f53 $a_1=2^m(m\\gt 1)$ \u65f6\uff0c\u5e8f\u5217 $x,2^m,3,2$\uff0c\u51fd\u6570\u503c\u4e3a $4$\u3002\n\n* \u5f53 $a_1=p^m(p\\ne2,m\\ge1)$ \u65f6\uff0c\u5e8f\u5217 $x,p^m,2$\uff0c\u51fd\u6570\u503c\u4e3a $3$\u3002\n\n\u8bc1\u6bd5\u3002\n\n2. \u5206\u7c7b\u8ba8\u8bba\u3002\n\n* $a_1=2$\uff0c\u51fd\u6570\u503c\u4e3a $2$\u3002\n\n\u6b64\u65f6 **$x$ \u4e3a\u5947\u6570\u3002** \n\n* $a_1=2^m(m\\gt 1)$\uff0c\u51fd\u6570\u503c\u4e3a $4$\u3002\n\n\u8fd9\u79cd\u60c5\u51b5\u6bd4\u8f83\u590d\u6742\u3002\n\n\u9996\u5148\uff0c**$x$ \u662f $y=\\mathrm {lcm}(2,3,...,2^m-1)$ \u7684\u500d\u6570\uff0c\u4e14\u4e0d\u662f $2^m$ \u7684\u500d\u6570**\uff08\u8fd9\u91cc\u7684 $\\mathrm {lcm}$ \u4ee3\u8868\u7684\u662f**\u6700\u5c0f\u516c\u500d\u6570**\uff09\u3002\n\n\u56e0\u4e3a $y$ \u662f $2^{m-1}$ \u7684\u500d\u6570\uff0c\u6240\u4ee5\u6761\u4ef6\u5c31\u7b49\u4ef7\u4e8e **$\\dfrac{x}{y}$ \u662f\u5947\u6570**\u3002 \n\n* \u5176\u4f59\u7684\u6570\u51fd\u6570\u503c\u4e3a $3$\u3002\n\n\u7efc\u5408\u4e0b\u6765\uff0c\u4e3b\u8981\u90fd\u662f**\u7edf\u8ba1\u533a\u95f4\u5185\u5947\u6570\u4e2a\u6570\u3002**\n\n### \u4ee3\u7801\n\n\u53ef\u80fd\u6709\u4e9b\u5730\u65b9\u5199\u7684\u4e0d\u662f\u5f88\u7b80\u6d01\uff0c\u770b\u61c2\u601d\u8def\u7684\u8bdd\u53ef\u4ee5\u81ea\u5df1\u5b9e\u73b0\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define il inline\n#define re register\nusing namespace std;\n\nconst int N=43,\nprime[N]={2,3,5,7,11,13,17,19,23,29,31,37,41};\n\nlong long A,B,f[N],ans,num;\n\nint base[N];\n\nil void init() {\n\tre int ret;\n\tfor(re int i=0;prime[i];i++) {\n\t\tret=prime[i];\n\t\twhile(ret<N) {\n\t\t\tbase[ret]=prime[i];\n\t\t\tret*=prime[i];\n\t\t} \n\t}\n\tre long long last=2;\n\tf[2]=1;\n\tfor(re int i=3;i<N;i++) {\n\t\tif(base[i]) {\n\t\t\tf[i]=f[last]*base[last];\n\t\t\tlast=i;\n//\t\t\tcerr<<i<<' '<<f[i]<<'\\n';\n\t\t}\n\t}\n}\n\nil void gao(re int x) {\n//\tif(B<f[x]) return ;\n\tre long long a=A/f[x],b=B/f[x];\n\tif(a*f[x]<A) a++;\n\tre long long k=b-a+1;\n\tif(k%2==0) {\n\t\tans+= k*2;\n\t\tnum-=k/2; \n\t} \n\telse {\n\t\tif(a%2==1) {\n\t\t\tans+=k*2+2;\n\t\t\tnum-=k/2;\n\t\t\tnum--;\n\t\t}\n\t\telse {\n\t\t\tans+=k*2-2;\n\t\t\tnum-=k/2;\n\t\t}\n\t}\n}\n\nil void work() {\n\tnum = B-A+1;\n\tif(num%2==0) {\n\t\tans+=num;\n\t\tnum/=2;\n\t}\n\telse {\n\t\tif(A%2==1) {\n\t\t\tans+=num+1;\n\t\t\tnum/=2;\n\t\t}\n\t\telse {\n\t\t\tans+=num-1;\n\t\t\tnum/=2;\n\t\t\tnum++;\n\t\t} \n\t}\n//\tcerr<<ans<<'\\n';\n\tfor(re int i=4;i<N;i++) {\n\t\tif(base[i]==2) {\n\t\t\tif(f[i]>B) break;\n\t\t\tgao(i);\n\t\t}\n\t}\n\tans+=num*3;\n}\n\nint main() {\n\tinit();\n\tscanf(\"%lld%lld\",&A,&B);\n\twork();\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n\n/*\nAs for any array:\nx a_1,a_2,...,a_n\na_i = p^m\np is a prime number,\nn is an int (n>0) \n\na_i = 2^m : m=1 ? 2 : 4\nelse : 3 \n*/ \n\n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "postTime": 1682823840,
        "uid": 576934,
        "name": "Kevin_Mamba",
        "ccfLevel": 5,
        "title": "P7586 [COCI2012-2013#1] SNAGA \u9898\u89e3"
    }
]