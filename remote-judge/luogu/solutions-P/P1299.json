[
    {
        "content": "# P1299\u5207\u5b54\u673a\uff08\u9898\u89e3\uff09\n\n**PS:**  \n\u4eba\u751f\u4e2d\u7684\u7b2c\u4e00\u9053\u9ed1\u9898\u3002  \n\u53d1\u4e00\u4e2a\u9898\u89e3\u7eaa\u5ff5\u4e00\u4e0b\u3002\n\n***\n\n**\u89e3\u9898\u7b97\u6cd5\uff1a**  \n- \u79bb\u6563\u5316\n- \u5e7f\u5ea6\u4f18\u5148\u641c\u7d22,bfs\n\n***\n\n**\u89e3\u9898\u601d\u8def\uff1a**  \n1. \u9996\u5148\u5148\u628a\u8bfb\u5165\u7684x,y\u79bb\u6563\u5316\n2. \u628a\u6240\u6709\u7684\u5207\u75d5\u8bb0\u5f55\u4e0b\u6765\n3. bfs\u628a\u5b54\u5916\u7684\u683c\u5b50\u627e\u51fa\u6765\n4. \u6570\u6709\u51e0\u4e2a\u683c\u5b50\u3002\uff08\u4e00\u4e2a\u56fe\u4e2d\u6709\u51e0\u4e2a\u8fde\u901a\u5757\uff09\n\n***\n\n**\u6211\u7684\u4ee3\u7801\uff1a**  \n- xx,yy:\u8868\u793a\u65b9\u5411\u3002\n- point:\u8868\u793a\u70b9\u3002\n\t- number:\u7b2c\u51e0\u6b21\u5207\n    - x,y:\u5207\u7684\u70b9\u7684\u5750\u6807\n- picture:\u8bb0\u5f55\u5207\u75d5\n\t- can_go:\u4e00\u4e2a\u70b9\u53ef\u4ee5\u4e0d\u53ef\u4ee5\u5411\u4e0a\u4e0b\u5de6\u53f3\u8d70(0:\u4e0a,1:\u4e0b,2:\u5de6:\u53f3)\n    - visit:\u4e00\u4e2a\u70b9\u662f\u4e0d\u662f\u5b54\u4e2d\u7684\u70b9(0:\u4e0d\u662f,1:\u662f)\n- cmpx,cmpy:\u79bb\u6563\u5316\u65f6\u7528\n- cmp:\u5207\u7684\u6b21\u6570\u4ece\u5c0f\u5230\u5927\uff0c\u7b2c\u4e00\u4e2a\u5207\u70b9\u5c3d\u91cf\u5de6\u4e0a\n- ready:\u8bfb\u5165\n- lisan:\u79bb\u6563\u5316\n- build_wall:\u628a\u6240\u6709\u5207\u75d5\u8bb0\u5f55\u4e0b\u6765\uff082\uff09\n- cut_paper:\u526a\u7eb8\uff0c\u628a\u5b54\u5916\u7684\u683c\u5b50\u8bb0\u5f55\u4e0b\u6765\uff083\uff09\n- count_hole:\u6570\u6709\u51e0\u4e2a\u6d1e\uff084\uff09\n\n***\n\n**\u4e0a\u4ee3\u7801**\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst ll xx[4]={-1,1,0,0},yy[4]={0,0,-1,1};\nstruct point\n{\n\tll number,x,y;\n\tpoint() {}\n\tpoint(ll a,ll b):x(a),y(b) {}\n};\nstruct picture\n{\n\tbool can_go[4],visit;\n\tpicture()\n\t{\n\t\tcan_go[0]=can_go[1]=can_go[2]=can_go[3]=1;\n\t\tvisit=1;\n\t}\n};\nll n;\npoint a[205];\npicture b[205][205];\ninline bool cmpx(point a,point b)\n{\n\treturn a.x<b.x;\n}\ninline bool cmpy(point a,point b)\n{\n\treturn a.y<b.y;\n}\ninline bool cmp(point a,point b)\n{\n\tif(a.number!=b.number) return a.number<b.number;\n\tif(a.x!=b.x) return a.x<b.x;\n\treturn a.y<b.y;\n}\ninline void ready()\n{\n\tscanf(\"%lld\",&n);\n\tfor(int i=1;i<=n*2;i++)\n\t{\n\t\ta[i].number=(i+1)/2;\n\t\tscanf(\"%lld%lld\",&a[i].x,&a[i].y);\n\t}\n}\ninline void lisan()\n{\n\tll now,u;\n\tnow=-10000005;\n\tu=0;\n\tsort(a+1,a+n*2+1,cmpx);\n\tfor(ll i=1;i<=n*2;i++)\n\t{\n\t\tif(a[i].x!=now)\n\t\t{\n\t\t\tnow=a[i].x;\n\t\t\tu++;\n\t\t\ta[i].x=u;\n\t\t}\n\t\telse a[i].x=u;\n\t}\n\tnow=-10000005;\n\tu=0;\n\tsort(a+1,a+n*2+1,cmpy);\n\tfor(ll i=1;i<=n*2;i++)\n\t{\n\t\tif(a[i].y!=now)\n\t\t{\n\t\t\tnow=a[i].y;\n\t\t\tu++;\n\t\t\ta[i].y=u;\n\t\t}\n\t\telse a[i].y=u;\n\t}\n}\ninline void build_wall()\n{\n\tsort(a+1,a+n*2+1,cmp);\n\tfor(ll i=1;i<=n;i++)\n\t{\n\t\tpoint s=a[i*2-1],e=a[i*2];\n\t\tfor(ll j=s.x+1;j<=e.x;j++)\n\t\t{\n\t\t\tb[j][s.y].can_go[3]=0;\n\t\t\tb[j][s.y+1].can_go[2]=0;\n\t\t}\n\t\tfor(ll j=s.y+1;j<=e.y;j++)\n\t\t{\n\t\t\tb[s.x][j].can_go[1]=0;\n\t\t\tb[s.x+1][j].can_go[0]=0;\n\t\t}\n\t}\n}\ninline void cut_paper()\n{\n\tqueue<point>q;\n\tq.push(point(0,0));\n\twhile(!q.empty())\n\t{\n\t\tpoint now=q.front();\n\t\tq.pop();\n\t\tfor(int i=0;i<4;i++)\n\t\t{\n\t\t\tll x=now.x+xx[i],y=now.y+yy[i];\n\t\t\tif(x<0||x>200||y<0||y>200) continue;\n\t\t\tif(!b[x][y].visit) continue;\n\t\t\tif(!b[now.x][now.y].can_go[i]) continue;\n\t\t\tb[x][y].visit=0;\n\t\t\tq.push(point(x,y));\n\t\t}\n\t}\n}\ninline void bfs(ll dx,ll dy)\n{\n\tqueue<point>q;\n\tb[dx][dy].visit=0;\n\tq.push(point(dx,dy));\n\twhile(!q.empty())\n\t{\n\t\tpoint now=q.front();\n\t\tq.pop();\n\t\tfor(int i=0;i<4;i++)\n\t\t{\n\t\t\tll x=now.x+xx[i],y=now.y+yy[i];\n\t\t\tif(x<0||x>200||y<0||y>200) continue;\n\t\t\tif(!b[x][y].visit) continue;\n\t\t\tb[x][y].visit=0;\n\t\t\tq.push(point(x,y));\n\t\t}\n\t}\n}\ninline ll count_hole()\n{\n\tll ans=0;\n\tfor(ll i=0;i<=200;i++)\n\t\tfor(ll j=0;j<=200;j++)\n\t\t{\n\t\t\tif(!b[i][j].visit) continue;\n\t\t\tans++;\n\t\t\tbfs(i,j);\n\t\t}\n\treturn ans;\n}\nint main()\n{\n\tready();\n\tlisan();\n\tbuild_wall();\n\tcut_paper();\n\tll ans=count_hole();\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1553672895,
        "uid": 44805,
        "name": "Leap_Frog",
        "ccfLevel": 7,
        "title": "P1299\u5207\u5b54\u673a\uff08\u9898\u89e3\uff09"
    },
    {
        "content": "\u6211\u592a\u83dc\u4e86\u770b\u4e0d\u61c2\u524d\u9762\u51e0\u7bc7\u9898\u89e3\u3002\u3002\u4e8e\u662f\u5c31\u6765 ~~\u6c34~~ \u5199\u4e00\u53d1\n\n### \u5199\u5728\u524d\u9762\uff1a\n\n\u9700\u8981\u70b9\u4eae\u7684\u6280\u80fd\uff1a\n\n1.\u79bb\u6563\u5316\uff08\u5373STL\u7684sort unique lower_bound\u51fd\u6570\uff09\n\n2.bfs\u6807\u8bb0\u8fde\u901a\u5757\n\n### \u9898\u610f\u89e3\u91ca\uff1a\n\n~~\u6211\u592a\u84bb\u4e86\uff0c\u82b1\u4e86\u5f88\u4e45\u624d\u770b\u61c2\u9898qwq~~\n\n\u5927\u610f\u5c31\u662f\uff0c\u73b0\u5728\u6709\u4e00\u5f20\u53ef\u4ee5\u770b\u6210\u65e0\u9650\u5927\u7684\u7eb8\uff0c\u73b0\u5728\u5728\u4e0a\u9762\u5207\u51fa\u4e86\u4e00\u4e9b\u7ebf\u6bb5\uff0c\u8fd9\u4e9b\u7ebf\u6bb5\u5305\u56f4\u51fa\u6765\u7684\u90e8\u5206\u88ab\u5207\u53bb\u4e86\uff0c\u539f\u6765\u7684\u7eb8\u4e0a\u5c31\u51fa\u73b0\u4e86\u4e00\u4e9b\u5b54\u3002\u9700\u8981\u6c42\u51fa\u5b54\u7684\u603b\u6570\u3002\n\n### \u89e3\u9898\u601d\u8def\uff1a\n\n\u6c42\u6709\u591a\u5c11\u4e2a\u5b54\uff0c\u4e00\u79cd\u6bd4\u8f83\u597d\u60f3\u7684\u601d\u8def\u662f\u628a\u5b54\u5916\u7684\u70b9\u90fd\u66b4\u529bbfs\u51fa\u6765\uff0c\u518d\u628a\u6ca1\u6709\u641c\u5230\u7684\u70b9bfs\u4e00\u904d\uff0c\u6c42\u51fa\u5269\u4e0b\u7684\u8fde\u901a\u5757\u6570\u91cf\u3002\n\n~~\u5982\u679c\u8fd9\u4e48\u7b80\u5355\uff0c\u90a3\u8fd9\u9053\u9898\u611f\u89c9\u662f\u6a59\u9898qwq~~\n\n\u5148\u770b\u6570\u636e\u8303\u56f4\uff1a\n$n<=100, -1000<=x_1,x_2,y_1,y_2<=1000$\n\n**\u53d1\u73b0\u8fd9\u4e9b\u7ebf\u6bb5\u7684x y\u503c\u7adf\u7136\u6709\u8d1f\u6570\uff1f\uff1f\uff1f**\n\n\u201c\u5f53\u4e0b\u6807\u4e3a\u8d1f\u6570\u3001\u6d6e\u70b9\u6570\u6216\u8f83\u5927\u7684\u503c\u65f6\uff0c\u8003\u8651\u4f7f\u7528\u79bb\u6563\u5316\u3002\u201d\n\n\t\t\t\t\t\t\u2014\u2014\u67d0\u4e0d\u77e5\u540d\u5de8\u4f6c\n\n\u6211\uff08\u849f\u84bb\uff09\uff1a\u79bb\u6563\u5316\u662f\u4ec0\u4e48QAQ\u3002\u3002\u745f\u745f\u53d1\u6296\n\n\u5de8\u4f6c\uff1a\n\n\u79bb\u6563\u5316\u5c31\u662f\u628a\u4e00\u4e2a\u5e8f\u5217$a_1,a_2,...,a_n$\u5bf9\u5e94\u6210$1,2,...,n$\u6765\u51cf\u5c0f\u6570\u636e\u8303\u56f4\uff0c\u4ece\u800c\u8fbe\u5230\u4e00\u4e9b\u76ee\u7684\u3002\n\n\u4e8e\u662f\u6109\u5feb\u5730\u5199\u5b8c\u79bb\u6563\u5316\u4e4b\u540e\uff0c\u53d1\u73b0\u5982\u679c\u662f\u4e00\u4e9b\u77e9\u5f62\u88ab\u5207\u53bb\uff0c\u90a3\u4e48\u6bd4\u8f83\u597d\u5904\u7406\uff08\u66b4\u529b\u628a\u77e9\u5f62\u5185\u7684\u70b9\u8bbe\u4e3a\u4e0d\u53ef\u8d70\uff0c\u7136\u540e\u5c31\u662f\u6bd4\u8f83\u663e\u7136\u7684bfs\u4e86\uff09\uff0c\u4f46\u662f**\u6b64\u5904\u7adf\u7136\u662f\u7ebf\u6bb5\uff1f\uff1f**\n\n\u6211\uff1a(\u309c\u0414\u309c) \u7ebf\u6bb5\u600e\u4e48\u529e\uff1f\uff1f\n\n\u5de8\u4f6c\uff1a\n\n\u4e0d\u59a8\u7ed9\u6bcf\u4e2a\u70b9\u8bb0\u5f55\u4e00\u4e2ago\u6570\u7ec4\uff0cgo[i][j][k]\u8868\u793a(i,j)\u8fd9\u4e2a\u70b9\u80fd\u4e0d\u80fd\u5411k\u65b9\u5411\u8d70\uff08\u6211\u5199\u7684\u7a0b\u5e8f\u4e2d\uff0c0\u8868\u793a\u53f3\uff0c1\u8868\u793a\u4e0b\uff0c2\u8868\u793a\u4e0a\uff0c3\u8868\u793a\u5de6\uff09\u3002\n\n\u6bcf\u6b21\u5207\u51fa\u4e00\u6761\u7ebf\u6bb5\uff0c\u5c31\u8bf4\u660e\u4e0d\u80fd\u7a7f\u8fc7\u8fd9\u6761\u7ebf\u6bb5\u5230\u8fbe\u53e6\u4e00\u7aef\u3002\n\n\u6bd4\u5982\uff1a\u5207\u51fa\u4e86\u4e00\u6761(1,1)\u5230(1,3)\u7684\u7ebf\u6bb5\uff0c\u5c31\u4e0d\u80fd\u4ece(1,2)\u8d70\u5230(2,2)\u3002\n\n\u8fd9\u91cc\u7684\u8fb9\u754c\u6761\u4ef6\u6bd4\u8f83\u81ed\uff0c\u653e\u4e00\u4e0b\u4ee3\u7801\uff1a\n\n```cpp\nmemset(go,1,sizeof(go));\nfor(int i=1; i<=n; i++) {\n\t//0\u53f3 1\u4e0b 2\u4e0a 3\u5de6 \n\t//\u8fd9\u91cc\u8981\u6ce8\u610f\u8fb9\u754c\u95ee\u9898 \n\tfor(int j=w[i].x1+1; j<=w[i].x2; j++) {\n\t\tgo[j][w[i].y1][0]=go[j][w[i].y1+1][3]=false;\n\t}\n\tfor(int j=w[i].y1+1; j<=w[i].y2; j++) {\n\t\tgo[w[i].x1][j][1]=go[w[i].x1+1][j][2]=false;\n\t}\n}\n```\n\u5176\u4e2dw[i]\u8868\u793a\u7b2ci\u6761\u7ebf\u6bb5\uff0c(x1,y1)\u662f(x2,y2)\u610f\u601d\u5982\u9898\u6240\u793a\u3002\n\n\u7ec8\u4e8e\u5199\u5b8c\u6bd2\u7624\u7684\u7ebf\u6bb5\u5904\u7406\u8fa3 (\u0e51\u2022\u3142\u2022\u0301)\u0648\u2727\uff01\n\n\u7136\u540e\u53c8\u662f\u4e00\u6ce2\u8fb9\u754c\u95ee\u9898\u2026\u2026\n\n\u65e2\u7136\u7eb8\u662f\u65e0\u9650\u5927\u7684\uff0c\u90a3\u4e48\u8fb9\u754c\u600e\u4e48\u786e\u5b9a\uff1f\n\n~~emm\u8fd9\u91cc\u7684\u95ee\u9898\u53ea\u662f\u6211\u5199\u4e4b\u524d\u6015TLE\uff0c\u5361\u4e86\u4e00\u6ce2\u5e38\u6570\uff0c\u5b9e\u9645\u4e0a\u8bbe\u7f6e\u6210100*2=200\u5c31\u597d~~\n\n\u8fb9\u754c\u7684\u786e\u5b9a\u6bd4\u8f83\u7b80\u5355\uff0c\u4ee4pos1\u8868\u793a\u7528\u6765\u79bb\u6563\u5316x\u5750\u6807\u7684\u6570\u7ec4\u5927\u5c0f\uff0cpos2\u8868\u793a\u7528\u6765\u79bb\u6563\u5316y\u5750\u6807\u7684\u6570\u7ec4\u5927\u5c0f\uff08\u90fd\u662funique\u540e\uff09\u3002\n\n\u4e8e\u662fpos1+1,pos2+1\u5c31\u662f\u8fb9\u754c\u4e86\uff08\u7279\u522b\u6c34\uff09\n\n\u7136\u540e\uff0cbfs\u66b4\u529b\u5c31\u4e0d\u8d58\u8ff0\u4e86\u3002\u3002\n\n## \u4ee3\u7801\uff1a\n\n\n```cpp\n#include<stdio.h>\n#include<cstring>\n#include<algorithm>\n#include<math.h>\n#define re register int\nusing namespace std;\ntypedef long long ll;\nint read() {\n    re x=0,f=1;\n    char ch=getchar();\n    while(ch<'0' || ch>'9') {\n        if(ch=='-')\tf=-1;\n        ch=getchar();\n    }\n    while(ch>='0' && ch<='9') {\n        x=10*x+ch-'0';\n        ch=getchar();\n    }\n    return x*f;\n}\nconst int Size=205;\n//\u6b64\u5904dx dy\u7684\u987a\u5e8f\u8981\u4e0e\u4e0b\u9762go\u6570\u7ec4\u7684\u987a\u5e8f\u5bf9\u5e94\nconst int dx[] = {0,1,-1,0};\nconst int dy[] = {1,0,0,-1};\nint n,maxn,maxm,pos1,pos2,nx[Size],ny[Size];\nstruct Rect {\n\tint x1,y1,x2,y2;\n} w[Size];\nstruct node {\n\tint x,y;\n} Queue[Size*Size];\nbool go[Size][Size][5];\nbool vis[Size][Size];\nint head,tail;\nvoid PushQueue(int x,int y) {\n\tQueue[++tail].x=x;\n\tQueue[tail].y=y;\n\tvis[x][y]=true;\n}\nvoid Cut() {\n\thead=tail=0;\n\tPushQueue(0,0);\n\twhile(head<tail) {\n\t\tint x=Queue[++head].x;\n\t\tint y=Queue[head].y;\n\t\tfor(re i=0; i<4; i++) {\n\t\t\tif(!go[x][y][i])\tcontinue;\n\t\t\tint nx=x+dx[i];\n\t\t\tint ny=y+dy[i];\n\t\t\tif(nx>=0 && ny>=0 && nx<=maxn && ny<=maxm && !vis[nx][ny]) {\n\t\t\t\tPushQueue(nx,ny);\n//\t\t\t\tprintf(\"%d %d\\n\",nx,ny);\n\t\t\t}\n\t\t}\n\t}\n}\nvoid bfs(int sx,int sy) {\n\thead=tail=0;\n\tPushQueue(sx,sy);\n\twhile(head<tail) {\n\t\tint x=Queue[++head].x;\n\t\tint y=Queue[head].y;\n\t\tfor(re i=0; i<4; i++) {\n\t\t\tint nx=x+dx[i];\n\t\t\tint ny=y+dy[i];\n\t\t\tif(nx>=0 && ny>=0 && nx<=maxn && ny<=maxm && !vis[nx][ny]) {\n\t\t\t\tPushQueue(nx,ny);\n\t\t\t}\n\t\t}\n\t}\n}\nint main() {\n\tn=read();\n\tfor(re i=1; i<=n; i++) {\n\t\tnx[++pos1]=w[i].x1=read();\n\t\tny[++pos2]=w[i].y1=read();\n\t\tnx[++pos1]=w[i].x2=read();\n\t\tny[++pos2]=w[i].y2=read();\n\t}\n   //\u79bb\u6563\u5316\n\tsort(nx+1,nx+1+pos1);\n\tsort(ny+1,ny+1+pos1);\n\tpos1=unique(nx+1,nx+1+pos1)-(nx+1);\n\tpos2=unique(ny+1,ny+1+pos2)-(ny+1);\n   //\u786e\u5b9a\u8fb9\u754c\uff08\u8bbe\u6210200\u5c31\u53ef\u4ee5\u4e86qwq\uff09\n\tmaxn=pos1+1;\n\tmaxm=pos2+1;\n\tfor(re i=1; i<=n; i++) {\n\t\tw[i].x1=lower_bound(nx+1,nx+1+pos1,w[i].x1)-nx;\n\t\tw[i].x2=lower_bound(nx+1,nx+1+pos1,w[i].x2)-nx;\n\t\tw[i].y1=lower_bound(ny+1,ny+1+pos2,w[i].y1)-ny;\n\t\tw[i].y2=lower_bound(ny+1,ny+1+pos2,w[i].y2)-ny;\n     \t\t//\u6ce8\u610f\u4e0b\u9762\u8fd9\u51e0\u53e5\u4e00\u5b9a\u8981\u5199\uff0c\u4e0d\u7136\u4f1a\u7384\u5b66WA\n\t\tif(w[i].x1>w[i].x2 || (w[i].x1==w[i].x2 && w[i].y1>w[i].y2)) {\n\t\t\tswap(w[i].x1,w[i].x2);\n\t\t\tswap(w[i].y1,w[i].y2);\n\t\t}\n\t}\n   \t//\u4e0d\u8981\u5fd8\u4e86memset\n\tmemset(go,1,sizeof(go));\n\tfor(re i=1; i<=n; i++) {\n\t\t//0\u53f3 1\u4e0b 2\u4e0a 3\u5de6 \n\t\t//\u8fd9\u91cc\u8981\u6ce8\u610f\u8fb9\u754c\u95ee\u9898 \n\t\tfor(re j=w[i].x1+1; j<=w[i].x2; j++) {\n\t\t\tgo[j][w[i].y1][0]=go[j][w[i].y1+1][3]=false;\n\t\t}\n\t\tfor(re j=w[i].y1+1; j<=w[i].y2; j++) {\n\t\t\tgo[w[i].x1][j][1]=go[w[i].x1+1][j][2]=false;\n\t\t}\n\t}\n   \t//\u628a\u5b54\u5916\u7684\u70b9\u90fd\u641c\u4e00\u904d\n\tCut();\n\tint ans=0;\n\tfor(re i=0; i<=maxn; i++) {\n\t\tfor(re j=0; j<=maxm; j++) {\n        \t\t//\u82e5\u5230\u73b0\u5728\u8fd8\u6ca1\u6709\u641c\u5230\uff0c\u5219\u8bf4\u660e\u53c8\u662f\u4e00\u4e2a\u65b0\u7684\u8fde\u901a\u5757\n\t\t\tif(!vis[i][j]) {\n\t\t\t\tans++;\n\t\t\t\tbfs(i,j);\n//\t\t\t\tprintf(\"%d %d\\n\",i,j);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n/*\n1\n1 1 2 1\n*/\n```\n\n\u6ce8\uff1a\u9898\u89e3\u4e2d\u7684\u201c\u5de8\u4f6c\u201d\u8bf4\u7684\u8bdd\u90fd\u662f\u6211\u81ea\u5df1yy\u51fa\u6765\u7684qwq\uff0c\u4e0d\u786e\u5b9a\u6709\u6ca1\u6709\u4f8b\u5916\uff0c\u6240\u4ee5\u5982\u679c\u7528\u8fd9\u4e9b\u4e1c\u897f\u505a\u4e0d\u51fa\u9898\u5c31\u8fd8\u662f\u60f3\u522b\u7684\u505a\u6cd5\u5427qwq\n\n\u5b8c\u7ed3\u6492\u82b1\uff01",
        "postTime": 1563028627,
        "uid": 45108,
        "name": "Peter_Z",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1299 \u3010\u5207\u5b54\u673a\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u63d0\u4f9b**\u7ec6\u8282\u6700\u5c11**\u7684\u89e3\u6cd5\u3002\n\n------------\n\n\u9996\u5148\uff0c\u8f6c\u5316\u5750\u6807\u3002\u4e3a\u4e86\u65b9\u4fbf\u53ef\u4ee5\u8fd9\u4e48\u8f6c\u5316\uff1a\n\n| \u539f\u5750\u6807 | \u8f6c\u5316\u540e\u7684\u5750\u6807 |\n| :----------: | :----------: |\n| $-1000$ | $6$ |\n| $-999$ | $8$ |\n| $\\ldots$ | $\\ldots$ |\n| $-x$ | $-2x+2006$ |\n| $\\ldots$ | $\\ldots$ |\n| $-1$ | $2004$ |\n| $0$ | $2006$ |\n| $1$ | $2008$ |\n| $\\ldots$ | $\\ldots$ |\n| $x$ | $2x+2006$ |\n| $\\ldots$ | $\\ldots$ |\n| $999$ | $4004$ |\n| $1000$ | $4006$ |\n\n\u5f53\u7136\uff0c\u539f\u5750\u6807 $x$ \u4e5f\u53ef\u6839\u636e\u4e2a\u4eba\u559c\u597d\u8f6c\u5316\u6210 $2x+2004$\uff0c$2x+2010$\uff0c$2x+2022$ \u7b49\u3002\n\n\u4e8e\u662f\uff0c\u5947\u6570\u5750\u6807\u88ab\u7a7a\u4e86\u4e0b\u6765\uff0c**\u4e8e\u662f\u53ef\u4ee5\u7528\u5b83\u8868\u793a\u5c0f\u5757**\u3002\u4f8b\u5982\uff0c\u6837\u4f8b\u4e2d\u88c1\u51fa\u7684\u5c0f\u65b9\u5757\u53ef\u4ee5\u7528 $(2007,2007)$ \u8868\u793a\u3002\n\n\u4e8e\u662f\uff0c\u5904\u7406\u5b8c\u540e\u53ef**\u76f4\u63a5\u4e0a BFS\uff08DFS \u4f1a\u56e0\u9012\u5f52\u5c42\u6570\u8fc7\u591a\u800c MLE\uff09+ Floodfill\uff08\u6d2a\u6c34\u586b\u5145\u7b97\u6cd5\uff09**\uff0c\u4f46\u9700\u8981\u6ce8\u610f\u4e0b\u9762\u7684\u7ec6\u8282\uff1a\n\n**\u9700\u8981\u5c06\u7559\u5728\u7eb8\u4e0a\u7684\u90e8\u5206\u5355\u72ec\u4f18\u5148\u5904\u7406**\uff0c\u5b83\u662f\u6b63\u5e38\u7684 $\\color{red}4$ \u8fde\u901a\u3002\u5728\u8f6c\u5316\u540e\u7684\u5750\u6807\u4e2d\uff0c\u70b9 $(x,y)$ \u7684\u76f8\u90bb\u70b9\u6709\uff1a\n\n- $\\color{blue}(x,y+1).$\n- $\\color{blue}(x,y-1).$\n- $\\color{blue}(x+1,y).$\n- $\\color{blue}(x-1,y).$\n\n**\u4f46\u662f**\uff0c\u88ab\u88c1\u4e0b\u7684\u90e8\u5206\u662f $\\color{red}8$ \u8fde\u901a\uff08\u4f8b\u5982\uff0c$(2007,2007)$ \u4e0e $(2007,2009)$ \u5b9e\u9645\u4e0a\u76f8\u90bb\uff09\u3002**\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e0d\u662f\u901a\u5e38\u610f\u4e49\u4e0b\u7684 $8$ \u8fde\u901a**\u3002\u5728\u8f6c\u5316\u540e\u7684\u5750\u6807\u4e2d\uff0c\u70b9 $(x,y)$ \u7684\u76f8\u90bb\u70b9\u6709\uff1a\n\n- $\\color{blue}(x,y+1).$\n- $\\color{blue}(x,y-1).$\n- $\\color{blue}(x+1,y).$\n- $\\color{blue}(x-1,y).$\n- $\\color{red}(x,y+2).$\n- $\\color{red}(x,y-2).$\n- $\\color{red}(x+2,y).$\n- $\\color{red}(x-2,y).$\n\n\u6700\u540e\uff0c\u7531\u4e8e\u961f\u5217\u8fc7\u5927\uff0c\u5f00 `int` \u4f1a MLE\uff0c\u800c\u5750\u6807\u6570\u503c\u4e0d\u5927\uff08\u663e\u7136\u5c0f\u4e8e $5000$\uff09\uff0c\u56e0\u6b64\u8981\u7528 `short` \u5361\u7a7a\u95f4\u3002\n\n**\u7136\u540e\uff0c\u5c31\u6ca1\u6709\u5176\u4ed6\u7ec6\u8282\u4e86\u3002**\n\n------------\n\n**AC Code\uff1a**\n\n\uff08\u538b\u7f29\u540e\u4ec5 [798 Bytes](https://www.luogu.com.cn/record/78119391)\uff0c\u6216\u6210\u672c\u9898\u6700\u77ed\u89e3\uff1f\uff09\n\n```cpp\n#include<iostream>\nusing namespace std;\nbool s[4012][4012];\nshort f(short x)//\u8f6c\u5316\u5750\u6807\n{\n\treturn 2*x+2006;\n}\nshort queuex[17000012],queuey[17000012];//\u961f\u5217\nint fff=1,t=0;//\u6ce8\u610f\u8981\u5f00 int\nvoid ff(bool mw)\n/*\nmv = 0\uff1a\u7559\u5728\u7eb8\u4e0a\u7684\u90e8\u5206\nmv = 1\uff1a\u88ab\u88c1\u4e0b\u7684\u90e8\u5206\n*/\n{\n\twhile(fff<=t)\n\t{\n\t\tshort cnt=t-fff+1;\n\t\tfor(short i=1;i<=cnt;i++)\n\t\t{\n\t\t\tshort xx=queuex[fff],yy=queuey[fff];\n\t\t\tfff++;\n\t\t\ts[xx][yy]=true;\n\t\t\tif(!s[xx+1][yy]) t++,queuex[t]=xx+1,queuey[t]=yy,s[xx+1][yy]=true;\n\t\t\tif(!s[xx-1][yy]) t++,queuex[t]=xx-1,queuey[t]=yy,s[xx-1][yy]=true;\n\t\t\tif(!s[xx][yy-1]) t++,queuex[t]=xx,queuey[t]=yy-1,s[xx][yy-1]=true;\n\t\t\tif(!s[xx][yy+1]) t++,queuex[t]=xx,queuey[t]=yy+1,s[xx][yy+1]=true;\n\t\t\tif(mw)\n\t\t\t{\n\t\t\t\tif(!s[xx+2][yy]) t++,queuex[t]=xx+2,queuey[t]=yy,s[xx+2][yy]=true;\n\t\t\t\tif(!s[xx-2][yy]) t++,queuex[t]=xx-2,queuey[t]=yy,s[xx-2][yy]=true;\n\t\t\t\tif(!s[xx][yy-2]) t++,queuex[t]=xx,queuey[t]=yy-2,s[xx][yy-2]=true;\n\t\t\t\tif(!s[xx][yy+2]) t++,queuex[t]=xx,queuey[t]=yy+2,s[xx][yy+2]=true;\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tshort n;\n\tcin>>n;\n\tfor(short i=1;i<=n;i++)\n\t{\n\t\tshort a,b,c,d;\n\t\tcin>>a>>b>>c>>d;\n\t\tif(a==c)//\u7eb5\u5411\n\t\t{\n\t\t\tfor(short i=f(min(b,d));i<=f(max(b,d));i++)\n\t\t\t\ts[f(a)][i]=true;\n\t\t}\n\t\tif(b==d)//\u6a2a\u5411\n\t\t{\n\t\t\tfor(short i=f(min(a,c));i<=f(max(a,c));i++)\n\t\t\t\ts[i][f(b)]=true;\n\t\t}\n\t}\n\tfor(short i=0;i<=4011;i++)//\u5916\u5708\u56f4\u4e24\u5c42\uff08\u4e00\u5c42\u4e0d\u591f\uff09\uff0c\u9632\u6b62\u8d8a\u754c\n\t\ts[0][i]=s[i][0]=s[4011][i]=s[i][4011]=s[1][i]=s[i][1]=s[4010][i]=s[i][4010]=true;\n\tshort ans=0;\n\tt++;\n\tqueuex[t]=2;\n\tqueuey[t]=2;\n\tff(0);//\u7559\u5728\u7eb8\u4e0a\u7684\u90e8\u5206\n\tfor(short i=3;i<=4009;i++)\n\t\tfor(short j=2;j<=4009;j++)\n\t\t{\n\t\t\tif(!s[i][j]) ans++;\n\t\t\tif(!s[i][j])\n\t\t\t{\n\t\t\t\tt++;\n\t\t\t\tqueuex[t]=i;\n\t\t\t\tqueuey[t]=j;\n\t\t\t\tff(1);//\u88ab\u88c1\u4e0b\u7684\u90e8\u5206\n\t\t\t}\n\t\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1656446509,
        "uid": 365654,
        "name": "wosizmcy",
        "ccfLevel": 0,
        "title": "P1299"
    },
    {
        "content": "**\u8fd9\u9053\u9898\u672c\u8eab\u6bd4\u8f83\u6c34\uff0c\u53ea\u662f\u7ec6\u8282\u6709\u70b9\u591a\u3002**\n\n\u770b\u5230\u6ca1\u6709Pascal\u9898\u89e3\uff0c\u6211\u5c31\u6765\u4e00\u53d1\u5427\u3002\u540c\u65f6\u4e5f\u7eaa\u5ff5\u4e0b\u81ea\u5df12\u4e2a\u591a\u5c0f\u65f6\u8c03\u51fa\u6765\u7684\u4ee3\u7801\u3002\n\n## \u6b63\u89e3\uff1a\u79bb\u6563\u5316+bfs\n\u9898\u610f\u4e3a\u6c42\u201c\u5b54\u201d\u7684\u4e2a\u6570\uff0c\u5373\u6c42\u56fe\u4e2d\u88ab\u5207\u5272\u7ebf\u6bb5\u5305\u56f4\u7684\u72ec\u7acb\u7684\u5757\u4e2a\u6570\u3002\n\n\u4e0d\u96be\u60f3\u5230\u5728\u8fd9\u4e9b\u201c\u5b54\u201d\u7684\u5468\u56f4\u8dd1\u4e00\u904dbfs\uff0c\u5c06\u80fd\u8dd1\u5230\u7684\u201c\u5916\u56f4\u201d\u7684\u9762\u79ef\u5168\u90e8\u6807\u8bb0\u3002\u540e\u518d\u626b\u4e00\u904d\u5168\u56fe\uff0c\u82e5\u53d1\u73b0\u672a\u88ab\u6807\u8bb0\u7684\u9762\u79ef\uff0c\u5219\u8868\u793a\u8be5\u9762\u79ef\u5728\u7ebf\u6bb5\u5305\u56f4\u8303\u56f4\u5185\u3002\u518d\u5206\u522b\u505abfs\u6807\u8bb0\u540e\uff0c\u7edf\u8ba1\u7b54\u6848\u5373\u53ef\u3002\u7531\u4e8e $-1000\u2264x1,y1,x2,y2\u22641000$ \uff0c\u5b58\u5728\u8d1f\u6570\uff0c\u6545\u8003\u8651\u79bb\u6563\u5316\u3002\n\n\u601d\u8def\u7b80\u5355\uff0c\u5b9e\u73b0\u7ec6\u8282\u6bd4\u8f83\u590d\u6742\u3002\n\n\u4e00\u4e2a\u5751\u70b9\u5728\u4e8e\uff1a\u641c\u5b54\u5185\u90e8\u65f6\uff0c**\u53ef\u4ee5\u4ece\u7ebf\u6bb5\u7684\u4e00\u7aef\u7a7f\u5230\u53e6\u4e00\u7aef**\u3002\u4e3e\u4e2a\u6817\u5b50\uff1a\n![eXdpl9.png](https://s2.ax1x.com/2019/08/10/eXdpl9.png)\n\n\u5728\u9047\u5230\u5982\u56fe\u8fd9\u79cd\u60c5\u51b5\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u7a7f\u8fc7\u3002\u82e5\u8003\u8651\u7ebf\u6bb5\u7684\u963b\u9694\uff0c\u7a0b\u5e8f\u5c06\u4f1a\u628a\u4e00\u6574\u4e2a\u201c\u5b54\u201d\u5206\u62103\u5757\uff0c\u4ece\u800c\u5bfc\u81f4\u7b54\u6848\u9519\u8bef\u3002\n\n\u5173\u4e8e\u5176\u4f59\u7ec6\u8282\uff0cdalao\u4eec\u5e94\u8be5\u8bf4\u7684\u5f88\u8be6\u7ec6\u8fa3\u3002\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002\n\n\u5177\u4f53\u5b9e\u73b0\u65f6\u7279\u522b\u6ce8\u610f\u201c\u70b9\u201d\u4e0e\u201c\u9762\u79ef\u201d\u7684\u5173\u7cfb\uff01\u8be6\u89c1\u4ee3\u7801\u3002\n\n```c\nprogram Luogu_P1299;\nconst d:array[0..3,1..2] of longint=((-1,0),(1,0),(0,-1),(0,1));\nvar n,i,j,p,x1,y1,x2,y2,ans,cnt:longint;\n    lx,ly:array[-1010..1010] of longint;\n    x,y,xx,yy:array[0..1000] of longint;\n    vis:array[-10..205,-10..205] of boolean;\n    sq:array[1..1000000,1..2] of longint;\n    cango:array[-10..205,-10..205,0..3] of boolean;\n  procedure swap(var x,y:longint);\n  var t:longint;\n  begin\n    t:=x; x:=y; y:=t;\n  end;\n  procedure bfs(x,y,t:longint);  //t\u662f\u4e34\u65f6\u53d8\u91cf\uff0ct=1\u4ee3\u8868\u6b64\u65f6\u641c\u5916\u56f4\uff0ct=2\u4ee3\u8868\u6b64\u65f6\u641c\u201c\u5b54\u201d\u7684\u5185\u90e8\n  var l,r,x1,y1:longint;\n  begin\n    l:=1; r:=1;\n    sq[1,1]:=x; sq[1,2]:=y;\n    while l<=r do\n    begin\n      for i:=0 to 3 do\n      begin\n        x1:=sq[l,1]+d[i,1]; y1:=sq[l,2]+d[i,2];\n        if (x1<0)or(x1>200)or(y1<0)or(y1>200) then continue;\n        if vis[x1,y1] then continue;\n        if (t=1)and(cango[sq[l,1],sq[l,2],i]=false) then continue;  \n        //\u6ce8\u610f\uff1a\u641c\u5b54\u7684\u5185\u90e8\u65f6\uff0c\u987b\u5ffd\u7565\u7ebf\u6bb5\u7684\u963b\u9694\u6548\u679c\n        vis[x1,y1]:=true;\n        inc(r); sq[r,1]:=x1; sq[r,2]:=y1;\n      end;\n      inc(l);\n    end;\n  end;\nbegin\n  readln(n);\n  for i:=1 to n do\n  begin\n    readln(x[i],y[i],xx[i],yy[i]);\n    lx[x[i]]:=1; lx[xx[i]]:=1;  ly[y[i]]:=1; ly[yy[i]]:=1;\n  end;\n  for i:=-1010 to 1010 do  //x,y\u6570\u636e\u8f83\u5c0f\uff0c\u79bb\u6563\u5316\u53ef\u4ee5\u76f4\u63a5\u8bb0\u5f55\uff0c\u65e0\u9700\u5feb\u6392\n    if lx[i]>0 then\n    begin\n      inc(cnt); lx[i]:=cnt;\n    end;\n  cnt:=0;\n  for i:=-1010 to 1010 do\n    if ly[i]>0 then\n    begin\n      inc(cnt); ly[i]:=cnt;\n    end;\n  fillchar(cango,sizeof(cango),true);  //cango\u6570\u7ec4\u548c\u697c\u4e0a\u51e0\u7bc7\u9898\u89e3\u4e00\u6837\uff0c\u8bb0\u5f55\u8be5\u70b9\u5f80\u5404\u65b9\u5411\u80fd\u5426\u8d70\n  for p:=1 to n do\n  begin\n    x1:=lx[x[p]]; y1:=ly[y[p]];\n    x2:=lx[xx[p]]; y2:=ly[yy[p]];\n    if (x1>x2)or((x1=x2)and(y1>y2)) then  //\u6ce8\u610f\u4e24\u4e2a\u5750\u6807\u5927\u5c0f\u987a\u5e8f\n    begin\n      swap(x1,x2); swap(y1,y2);\n    end;\n    for i:=y1+1 to y2 do  //\u201c\u70b9\u201d\u548c\u201c\u5355\u4f4d\u9762\u79ef\u201d\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6b64\u5904\u5faa\u73af\u9700\u4ecey1+1\u5230y2\n    begin\n      cango[x1,i,1]:=false;\n      cango[x1+1,i,0]:=false;\n    end;\n    for i:=x1+1 to x2 do\n    begin\n      cango[i,y1,3]:=false;\n      cango[i,y1+1,2]:=false;\n    end;\n  end;\n  bfs(0,0,1);  //\u641c\u5916\u56f4\u9762\u79ef\n  for i:=0 to 200 do\n    for j:=0 to 200 do\n      if vis[i,j]=false then\n      begin\n        inc(ans); bfs(i,j,2);  //\u7d2f\u8ba1\u7b54\u6848\uff0c\u6807\u8bb0\n      end;\n  writeln(ans);\nend.\n```\n\n\n",
        "postTime": 1565446576,
        "uid": 82593,
        "name": "Chavapa",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1299 \u3010\u5207\u5b54\u673a\u3011"
    },
    {
        "content": "\u597d\u50cf\u662f\u77e9\u5f62\u8986\u76d6\uff1fwoc\u4e0d\u4f1a\u554a\uff01\uff01\uff01 \n\u6211\u4eec\u53d1\u73b0\u8303\u56f4\u5f88\u5c0f\uff0c\u4e8e\u662f\u672c\u7740\u66b4\u529b\u80fdAC\u7684\u60f3\u6cd5\u5c31\u5199\u53d1\u66b4\u641c\u8bd5\u8bd5\u2026\u2026 \n\u55ef\u641c\u5730\u56fe\u90fd\u662fBFS\uff0c\u4e8e\u662f\u5947\u5947\u602a\u602a\u7684BFS\u5c31\u51fa\u6765\u4e86\u2026\u2026 \n\u5c06\u6574\u4e2a\u56fe\u7247\u50cf\u7d20\u5316\uff0c\u53d8\u4e3a\u9ed1\u8272\uff0c\u628a\u7ebf\u753b\u4e0a\u7684\u50cf\u7d20\u6807\u8bb0\u3002\u7136\u540e\u4ece\u4e00\u4e2a\u4e0d\u5728\u8fd9\u4e9b\u7ebf\u56f4\u6210\u7684\u533a\u57df\u5185\u90e8\u7684\u70b9\u5f00\u59cbBFS\uff0c\u628a\u5916\u56f4\u7684\u50cf\u7d20\u8868\u8bb0\u4e3a\u767d\u8272\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u9700\u8981\u7edf\u8ba1\u7684\u662f\u9ed1\u8272\u7684\u5757\u6570\uff0c\u518d\u4e00\u6ce2BFS\u627e\u5e76\u6807\u8bb0\u8fde\u901a\u5757\u5373\u53ef\u3002 \n\u4f46\u662f\u8fd9\u6837\u4f1aWA\u5f97\u5f88\u60e8\uff0c\u539f\u56e0\u662f\u4e00\u4e9b\u5947\u5947\u602a\u602a\u7684\u56fe\u5f62\uff0c\u5c31\u5982\u7b2c\u4e00\u4e2a\u56fe\u6837\u4f1a\u8f93\u51fa1\uff0c\u662f\u56e0\u4e3a\u4e24\u4e2a\u9876\u70b9\u7684\u4ea4\u70b9\u662f\u9ed1\u8272\u7684\uff0c\u4f1a\u628a\u8fd9\u4e24\u4e2a\u9ed1\u5757\u8fde\u901a\u2026\u2026 \n\u4e8e\u662f\u6211\u4eec\u8dd1\u4e00\u904d\u539f\u56fe\uff0c\u628a\u8fd9\u79cd\u70b9\u53bb\u6389\u5373\u53ef\u2026\u2026 \n\u8fd8\u6709\u7b2c\u4e8c\u4e2a\u56fe\u6837\uff0c\u6211\u4eec\u53d1\u73b0\u8fd9\u6761\u7ebf\u5e76\u6ca1\u6709\u5375\u7528\u4f46\u662f\u8bb0\u4e3a\u4e86\u7b54\u6848\uff0c\u4e8e\u662f\u6211\u4eec\u5728\u5220\u9664\u4e0a\u9762\u7684\u70b9\u7684\u540c\u65f6\u5220\u4e00\u904d\u8fd9\u6837\u7684\u7ebf\u5373\u53ef\u2026\u2026 \n\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5A\u4e86\u2026\u2026 \n\u8bf6\u6211\u54ea\u77e5\u9053\u54ea\u4e2a\u70b9\u4e0d\u5728\u56f4\u6210\u7684\u533a\u57df\u91cc\uff1f\u6211\u4ece\u54ea\u5f00\u59cb\u641c\u554a\uff1f \n\u591a\u63d2\u5165\u51e0\u4e2a\u53ef\u80fd\u6027\u5c31\u884c\u4e86\u2026\u2026 \n\u6211\u4e5f\u4e0d\u77e5\u9053\u5bf9\u4e0d\u5bf9\u53cd\u6b63\u6c42\u5404\u4f4ddalao\u522bhack\u6211\u5c31\u884c\u4e86\u2026\u2026 \n\u5982\u679c\u8bb0\u6a2a\u5750\u6807\u8303\u56f4\u4e3aw\uff0c\u7eb5\u5750\u6807\u8303\u56f4\u4e3ah\uff0c\u5219\u590d\u6742\u5ea6\u4e3aO(wh)\u3002 \n\ncode\n\n```cpp\n#include <queue>\n#include <cstdio>\n#include <algorithm>\n#define MAXX 2010\n#define ZERO 1000\nusing namespace std;\n\nconst int d[4][2]={\n\t{0,1},{0,-1},\n\t{1,0},{-1,0}\n};\n\nint n,R=1,mxx,mxy,ans;\nbool mp[MAXX][MAXX],vis[MAXX][MAXX],vist[MAXX][MAXX];\nqueue <pair<int,int> > q;\npair <int,int> sp;\n\ninline int mymax(int a,int b){return a>b?a:b;}\n\ninline void BFS()\n{\n\tq.push(make_pair(mxx,mxy));\n\tq.push(make_pair(0,0));\n\tq.push(make_pair(ZERO,mxy));\n\tvis[0][0]=true;\n\tif (!mp[mxx][mxy]) vis[mxx][mxy]=true;\n\tif (!mp[ZERO][mxy]) vis[ZERO][mxy]=true;\n\twhile (!q.empty())\n\t{\n\t\tpair<int,int> u=q.front();q.pop();\n\t\tfor (int i=0;i<4;i++)\n\t\t{\n\t\t\tint tx=u.first+d[i][0],ty=u.second+d[i][1];\n\t\t\tif (tx>=0&&tx<=mxx&&ty>=0&&ty<=mxy)\n\t\t\t{\n\t\t\t\tif (!mp[tx][ty]&&!vis[tx][ty])\n\t\t\t\t{\n\t\t\t\t\tvis[tx][ty]=true;\n\t\t\t\t\tq.push(make_pair(tx,ty));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor (int i=0;i<=mxx;i++)\n\t\tfor (int j=0;j<=mxy;j++)\n\t\t\tvis[i][j]=!vis[i][j];\n\tfor (int i=0;i<=mxx;i++)\n\t\tfor (int j=0;j<=mxy;j++)\n\t\t{\n\t\t\tif (vis[i+1][j]&&vis[i-1][j]&&vis[i][j+1]&&vis[i][j-1])\n\t\t\t{\n\t\t\t\tif (vis[i+1][j-1]&&vis[i-1][j+1]&&!vis[i+1][j+1]&&!vis[i-1][j-1])\n\t\t\t\t\tvis[i][j]=false;\n\t\t\t\tif (!vis[i+1][j-1]&&!vis[i-1][j+1]&&vis[i+1][j+1]&&vis[i-1][j-1])\n\t\t\t\t\tvis[i][j]=false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (vis[i][j]&&!vis[i-1][j]&&!vis[i+1][j]) vis[i][j]=false;\n\t\t\t\tif (vis[i][j]&&!vis[i][j-1]&&!vis[i][j+1]) vis[i][j]=false;\n\t\t\t\telse if (!vis[i][j]&&vis[i-1][j]&&vis[i+1][j]) vis[i][j]=true;\n\t\t\t\telse if (!vis[i][j]&&vis[i][j-1]&&vis[i][j+1]) vis[i][j]=true;\n\t\t\t}\n\t\t}\n\treturn ;\n}\n\ninline void BFS(int x,int y)\n{\n\tsp=make_pair(0,0);\n\tq.push(make_pair(x,y));vist[x][y]=true;\n\twhile (!q.empty())\n\t{\n\t\tpair<int,int> u=q.front();q.pop();\n\t\tfor (int i=0;i<4;i++)\n\t\t{\n\t\t\tint tx=u.first+d[i][0],ty=u.second+d[i][1];\n\t\t\tif (tx>=0&&tx<=mxx&&ty>=0&&ty<=mxy)\n\t\t\t{\n\t\t\t\tif (vis[tx][ty]&&!vist[tx][ty])\n\t\t\t\t{\n\t\t\t\t\tvist[tx][ty]=true;\n\t\t\t\t\tsp=sp<make_pair(tx,ty)?make_pair(tx,ty):sp;\n\t\t\t\t\tq.push(make_pair(tx,ty));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn ;\n}\n\ninline void read(int &x)\n{\n\tx=0;bool f=false;char ch=getchar();\n\twhile (ch<'0'||ch>'9'){if (ch=='-') f=-1;ch=getchar();}\n\twhile (ch>='0'&&ch<='9') x=(x<<3)+(x<<1)+ch-'0',ch=getchar();\n\tif (f) x=-x;return ;\n}\n\nint main()\n{\n\tint x0,y0,x1,y1;\n\tread(n);\n\tif (n<4)\n\t{\n\t\tputs(\"0\");\n\t\treturn 0;\n\t}\n\tfor (int i=1;i<=n;i++)\n\t{\n\t\tread(x0);read(y0);read(x1);read(y1);\n\t\tx0+=ZERO;y0+=ZERO;x1+=ZERO;y1+=ZERO;\n\t\tmxx=mymax(mxx,mymax(x1,x0));\n\t\tmxy=mymax(mxy,mymax(y1,y0));\n\t\tif (x0==x1)\n\t\t{\n\t\t\tif (y0>y1) swap(y0,y1);\n\t\t\tfor (int j=y0;j<=y1;j++) mp[x0][j]=1;\n\t\t}\n\t\tif (y0==y1)\n\t\t{\n\t\t\tif (x0>x1) swap(x0,x1);\n\t\t\tfor (int j=x0;j<=x1;j++) mp[j][y0]=1;\n\t\t}\n\t}\n\tBFS();\n\tfor (int i=0;i<=mxx;i++)\n\t\tfor (int j=0;j<=mxy;j++)\n\t\t\tif (vis[i][j]&&!vist[i][j])\n\t\t\t{\n\t\t\t\tBFS(i,j);\n\t\t\t\tif (sp.first!=i&&sp.second!=j) ans++; \n\t\t\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1536754280,
        "uid": 104321,
        "name": "yi_heng",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1299 \u3010\u5207\u5b54\u673a\u3011"
    },
    {
        "content": "\u8fd9\u771f\u7684\u662f\u4e00\u9053\u5927\u96be\uff08shui\uff09\u9898\n\n\u601d\u8def\uff1a\u79bb\u6563\u5316+\u5bbd\u641c\n\n\u628a\u70b9\u7684\u5750\u6807\u79bb\u6563\u4e00\u4e0b\uff0c\u5f00\u3010200\u3011\u3010200\u3011\u6a21\u62df\u5c31\u597d\u4e86\u3002\n\n\u5148\u628a\u7eb8\u6316\u6389\uff0c\u518d\u6570\u51e0\u4e2a\u6d1e\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n#define get getchar()\nll read(){ //\u5feb\u8bfb\n\tll f=1,ans=0;\n\tchar c=get;\n\twhile(c>'9'|c<'0'&c!='-')c=get;\n\tif(c=='-'){\n\t\tf=-1;\n\t\tc=get;\n\t}\n\twhile(c<='9'&c>='0')ans=(ans<<1)+(ans<<3)+c-'0',c=get;\n\treturn ans*f;\n}\nstruct data{\n\tll n,x,y;\n\tdata(ll a,ll b):x(a),y(b){}\n\tdata(){}\n}a[210];\t\t//\u70b9\nbool cmp1(data a,data b){\n\treturn a.x<b.x;\n}\nbool cmp2(data a,data b){\n\treturn a.y<b.y;\n}\nbool cmp3(data a,data b){\n\tif(a.n!=b.n)return a.n<b.n;\n\tif(a.x!=b.x)return a.x<b.x;\n\treturn a.y<b.y;\n}\n#define up 0\n#define down 1\n#define left 2\n#define right 3\nll f[4][2]={{-1,0},{1,0},{0,-1},{0,1}};\nstruct pic{\n\tbool b[4],t;\n\tpic(){\n\t\tmemset(this,1,sizeof(pic));\n\t}\n}p[220][220];\nqueue<data>q;\nint main(){\n\tll n=read();\n\tfor(int i=1;i<=2*n;i++){\n\t\ta[i].n=(i+1)>>1;\n\t\ta[i].x=read();\n\t\ta[i].y=read();\n\t}\n\tll now,u;\n\tsort(a+1,a+(n<<1)+1,cmp1);//x\u79bb\u6563\u5316\n\tnow=-10000000;\n\tu=0;\n\tfor(int i=1;i<=2*n;i++){\n\t\tif(a[i].x!=now)now=a[i].x,a[i].x=++u;else a[i].x=u;\n\t}\n\tsort(a+1,a+(n<<1)+1,cmp2);//y\u79bb\u6563\u5316\n\tnow=-10000000;\n\tu=0;\n\tfor(int i=1;i<=2*n;i++){\n\t\tif(a[i].y!=now)now=a[i].y,a[i].y=++u;else a[i].y=u;\n\t}\n\tsort(a+1,a+1+n*2,cmp3);//\u5efa\u5899\n\tfor(int i=1;i<=n;i++){\n\t\tdata d1=a[(i<<1)-1],d2=a[i<<1];\n\t\tfor(int j=d1.x+1;j<=d2.x;j++){\n\t\t\tp[j][d1.y].b[right]=0;\n\t\t\tp[j][d1.y+1].b[left]=0;\n\t\t}\n\t\tfor(int j=d1.y+1;j<=d2.y;j++){\n\t\t\tp[d1.x][j].b[down]=0;\n\t\t\tp[d1.x+1][j].b[up]=0;\n\t\t}\n\t}\n\tq.push(data(0,0));\n\twhile(q.size()){//\u6316\u7eb8\n\t\tdata now=q.front();\n\t\tq.pop();\n\t\tfor(int i=up;i<=right;i++){\n\t\t\tll x=now.x+f[i][0];\n\t\t\tll y=now.y+f[i][1];\n\t\t\tif((x>=220)|(x<0))continue;\n\t\t\tif((y>=220)|(y<0))continue;\n\t\t\tif(!p[x][y].t)continue;\n\t\t\tif(!p[now.x][now.y].b[i])continue;\n\t\t\tp[x][y].t=0;\n\t\t\tq.push(data(x,y));\n\t\t}\n\t}\n\tll ans=0;\n\tfor(int i=0;i<220;i++)//\u627e\u6d1e\n\t\tfor(int j=0;j<220;j++){\n\t\t\tif(!p[i][j].t)continue;\n\t\t\tans++;\n\t\t\tp[i][j].t=0;\n\t\t\tq.push(data(i,j));\n\t\t\twhile(q.size()){\n\t\t\t\tdata now=q.front();\n\t\t\t\tq.pop();\n\t\t\t\tfor(int ii=up;ii<=right;ii++){\n\t\t\t\t\tll x=now.x+f[ii][0];\n\t\t\t\t\tll y=now.y+f[ii][1];\n\t\t\t\t\tif((x>=220)|(x<0))continue;\n\t\t\t\t\tif((y>=220)|(y<0))continue;\n\t\t\t\t\tif(!p[x][y].t)continue;\n\t\t\t\t\tp[x][y].t=0;\n\t\t\t\t\tq.push(data(x,y));\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1518153906,
        "uid": 67371,
        "name": "hehezhou",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P1299 \u3010\u5207\u5b54\u673a\u3011"
    },
    {
        "content": "\u96be\u5ea6\u5237\u4e0a\u6765\u7684\u5427\u3002\u3002\u3002~~\u5176\u5b9e\u5e94\u8be5\u5411xzz\u5927\u4f6c\u5b66\u4e60:\u8bc4\u5165\u95e8\u554a~~\n\n\nAC\u91cc\u9762\u4e00\u5806\u6253\u8868\u7684\u3002\u3002\u3002https://www.luogu.org/record/show?rid=4916843 \u8fd9\u4e2a\u63d0\u4ea4\u8bb0\u5f55\u5c31\u662f\u628an\u5168\u90e8\u6253\u51fa\u6765\uff0c\u7136\u540e\u6839\u636en\u6253\u8868\u3002\u3002\u7136\u540e\u9664\u4e86\u6211\u4e4b\u5916\u4e24\u4e2a\u6ca1\u7528\u6253\u8868\u7684\u5927\u4f6c\u4ee3\u7801\u51fa\u5947\u7684\u4e00\u81f4\u3002\u3002\u3002\n\n\n\u6211\u8fd8\u662f\u6765\u8bb2\u8bb2\u6b63\u786e\u7684\u505a\u6cd5\u5427\u3002\n\n\n\u9996\u5148\u8981\u7406\u89e3~~\u9b3c\u755c\u7684~~\u9898\u610f\uff0c\u8fde\u5728\u4e00\u8d77\u7684\u90fd\u53ea\u80fd\u7b97\u4e00\u4e2a\u3002\n\n\n\u90a3\u4e48\u663e\u7136\u7b2c\u4e00\u60f3\u6cd5\u5c31\u662f\u641c\u7d22\u3002\n\n\n\u9996\u5148\u5148\u628a\u9664\u4e86\u6d1e\u4ee5\u5916\u7684\u70b9\u904d\u5386\u4e00\u904d\uff0c\u9047\u5230\u5899\u5c31\u4e0d\u8981\u53bb\u3002\n\n\n\u7136\u540e\u5bf9\u4e8e\u627e\u6d1e\u6211\u4eec\u5c31\u8981\u5148\u5224\u65ad\u51fa\u54ea\u4e9b\u70b9\u53ef\u4ee5\u53bb\u54ea\u4e9b\u4e0d\u53ef\u4ee5\uff0c\u5206\u7c7b\u8ba8\u8bba\u3002\n\n\n1.\n![\u56fe\u793a](https://s1.ax1x.com/2018/01/21/pfU22q.png)\n\n\n\u5bf9\u4e8e\u6211\u7528\u7ea2\u7b14\u5708\u7740\u7684\u90a3\u4e2a\u70b9\uff0c\u5373\u4e24\u4e2a\u77e9\u9635\u7684\u76f8\u70b9\u4e0d\u80fd\u53bb\u3002\u8fd8\u6709\u628a\u56fe\u5012\u8fc7\u6765\uff0c\u4e24\u4e2a\u77e9\u9635\u7684\u4ea4\u70b9\u4e0d\u80fd\u53bb\u3002\n\n\n2.\n![\u56fe\u793a](https://s1.ax1x.com/2018/01/21/pfURx0.png)\n\n\n\u6211\u5708\u7684\u7684\u8fd9\u4e00\u6392\u70b9\u4e5f\u662f\u4e0d\u80fd\u53bb\u7684\u3002\u628a\u56fe\u9006\u65f6\u9488\u65cb\u8f6c90\u00b0\u7684\u90a3\u4e9b\u70b9\u4e5f\u4e0d\u80fd\u53bb\u3002\n\n\n3.\n![\u56fe\u793a](https://s1.ax1x.com/2018/01/21/pfUIZF.png)\n\n\n\u6211\u5708\u7684\u7684\u8fd9\u4e00\u6392\u70b9\u4e5f\u662f\u80fd\u53bb\u7684\u3002\u628a\u56fe\u9006\u65f6\u9488\u65cb\u8f6c90\u00b0\u7684\u90a3\u4e9b\u70b9\u4e5f\u80fd\u53bb\u3002\n\n\n4.\n\u9664\u4e0a\u9762\u8fd9\u4e9b\u7279\u6b8a\u70b9\u5916\u7684\u666e\u901a\u70b9\uff0c\u80fd\u4e0d\u80fd\u53bb\u5c31\u662f\u6211\u4eec\u904d\u5386\u65f6\u6709\u6ca1\u6709\u53bb\u8fd9\u4e9b\u70b9\n\n\n\u7136\u540e\u5728\u80fd\u8dd1\u7684\u6d1e\u4e00\u4e2a\u4e00\u4e2a\u904d\u5386\u4e0b\u5c31\u884c\u4e86\u3002\n\n\n\u6ce8\u610f\u8d77\u70b9\u548c\u7ec8\u70b9\u5728\u540c\u4e00\u4e2a\u70b9\u7684\u5730\u65b9\u4e0d\u662f\u4e00\u4e2a\u6d1e\u3002\n\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<string>\n#include<queue>\n#include<set>\n#include<vector>\n#include<map>\n#define For(i,x,y) for (int i=(x);i<=(y);i++)\n#define Dow(i,x,y) for (int i=(x);i>=(y);i--)\n#define cross(i,k) for (int i=first[k];i;i=last[i])\n#define il inline\n#define vd void\n#define ll long long\n#define N 110\n#define maxn 2010\nusing namespace std;\nil int read(){\n    int x=0;int ch=getchar(),f=1;\n    while (!isdigit(ch)&&(ch!='-')&&(ch!=EOF)) ch=getchar();\n    if (ch=='-'){f=-1;ch=getchar();}\n    while (isdigit(ch)){x=(x<<1)+(x<<3)+ch-'0';ch=getchar();}\n    return x*f;\n}\nconst int dx[4]={0,-1,0,1};\nconst int dy[4]={-1,0,1,0};\nint n,h,t,x1,y1,x2,y2,ans,l[maxn*maxn],r[maxn*maxn];\nbool mp[maxn][maxn],vis[maxn][maxn],b[maxn][maxn];\nil int max(int x,int y){return x>y?x:y;}\nil int min(int x,int y){return x<y?x:y;}\nil vd bfs(){\n    int h=0,t=1,i,j;\n    l[1]=0,r[1]=0;\n    vis[l[1]][r[1]]=1;\n    while (h<t){\n        h++;\n        For(k,0,3){\n            i=l[h]+dx[k],j=r[h]+dy[k];\n            if (i<0||j<0||i>2001||j>2001) continue;\n            if (mp[i][j]||vis[i][j]) continue;\n            l[++t]=i,r[t]=j,vis[i][j]=1;\n        }\n    }\n    For(i,1,2001)\n        For(j,1,2001){\n            if (!vis[i+1][j]&&!vis[i-1][j]&&!vis[i][j+1]&&!vis[i][j-1]){\n                if (!vis[i+1][j-1]&&!vis[i-1][j+1]&&vis[i+1][j+1]&&vis[i-1][j-1]) vis[i][j]=1;\n                if (vis[i+1][j-1]&&vis[i-1][j+1]&&!vis[i+1][j+1]&&!vis[i-1][j-1]) vis[i][j]=1;\n            }\n            else{\n                if (!vis[i][j]&&vis[i-1][j]&&vis[i+1][j]) vis[i][j]=1;\n                if (!vis[i][j]&&vis[i][j-1]&&vis[i][j+1]) vis[i][j]=1;\n                else if (vis[i][j]&&!vis[i-1][j]&&!vis[i+1][j]) vis[i][j]=0;\n                else if (vis[i][j]&&!vis[i][j-1]&&!vis[i][j+1]) vis[i][j]=0;\n            }\n        }\n}\nil vd bfs(int start_l,int start_r){\n    h=0,t=1;\n    int i,j;\n    l[1]=start_l,r[1]=start_r;\n    b[l[1]][r[1]]=1;\n    while (h<t){\n        h++;\n        For(k,0,3){\n            i=l[h]+dx[k],j=r[h]+dy[k];\n            if (i<0||j<0||i>2001||j>2001) continue;\n            if (vis[i][j]||b[i][j]) continue;\n            l[++t]=i,r[t]=j,b[i][j]=1;\n        }\n    }\n}\nint main(){\n    n=read();\n    if (n<4){\n        printf(\"0\");\n        return 0;\n    }\n    For(i,1,n){\n        x1=read()+1001,y1=read()+1001,x2=read()+1001,y2=read()+1001;\n        if (x1==x2){\n            For(j,min(y1,y2),max(y1,y2)) mp[x1][j]=1;\n        }\n        else {\n            For(j,min(x1,x2),max(x1,x2)) mp[j][y1]=1;\n        }\n    }\n    bfs();\n    For(i,0,2001)\n        For(j,0,2001)\n            if (!vis[i][j]&&!b[i][j]) {\n                bfs(i,j);\n                if (l[t]!=i&&r[t]!=j) ans++;\n            }\n    printf(\"%d\",ans);\n}\n```",
        "postTime": 1516542021,
        "uid": 25355,
        "name": "\u590f\u8272\u796d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1299 \u3010\u5207\u5b54\u673a\u3011"
    }
]