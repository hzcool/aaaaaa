[
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u533a\u95f4\u578b\u7684\u52a8\u6001\u89c4\u5212\u9898\uff1b\n\n\u6211\u4e3b\u8981\u662f\u5bf9\u524d\u65b9\u7684\u4e00\u4e9bdp\u9898\u89e3\u8865\u5145\u4e00\u4e9b\u5c0f\u7ec6\u8282\u3002\n\n\u65e2\u7136\u662f\u52a8\u89c4\uff0c\u90a3\u4e48\u9996\u5148\u8bb2\u4e00\u4e0b\u5e38\u7528\u7684\u586b\u8868\u6cd5\u548c\u5237\u8868\u6cd5\uff1a\n\n\u586b\u8868\u6cd5\u5c31\u662f\u5229\u7528\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u548c\u4e0a\u4e00\u4e2a\u72b6\u6001\u6765\u63a8\u5bfc\u51fa\u73b0\u5728\u7684\u72b6\u6001\uff08\u76f8\u5f53\u4e8e\u77e5\u9053\u5df2\u77e5\u6761\u4ef6\uff0c\u5c06\u7b54\u6848\u586b\u5165\uff09\n\n\u5237\u8868\u6cd5\u5c31\u662f\u5229\u7528\u5f53\u524d\u7684\u72b6\u6001\uff0c\u628a\u6709\u5173\u8054\u7684\u4e0b\u4e00\u72b6\u6001\u90fd\u63a8\u51fa\u6765\u3002\n\n\u8fd9\u9053\u9898\u6211\u9009\u7528\u7684\u662f\u586b\u8868\u6cd5\u3002\n\n\u7406\u89e3\u4e00\u4e0b\u9898\u76ee\u5927\u610f\uff1a\n\n\u5173\u706f\u4e0d\u9700\u8981\u989d\u5916\u7684\u65f6\u95f4\uff0c\u7ecf\u8fc7\u4e86\u706f\u5c31\u5173\u4e86\u3002\u4f46\u662f\u53ef\u80fd\u6298\u8fd4\u56de\u53bb\u5173\u67d0\u4e00\u4e2a\u5927\u706f\u4f1a\u6bd4\u7ee7\u7eed\u5f80\u4e0b\u8d70\u5173\u63a5\u4e0b\u6765\u7684\u4e00\u4e2a\u5c0f\u706f\u66f4\u4f18\uff0c\n\n\u90a3\u4e48\u53ef\u4ee5\u5f97\u5230\u4e24\u79cd\u72b6\u6001\uff08\u6cbf\u7740\u5f53\u524d\u65b9\u5411\u7ee7\u7eed\u5f80\u4e0b\u8d70\uff0c\u6539\u53d8\u65b9\u5411\u56de\u53bb\u5173\u706f\uff09\u3002\n\n\u6211\u4eec\u9700\u8981\u5f97\u5230\u7684\u6574\u4e2a\u5173\u706f\u8fc7\u7a0b\u4e2d\u7684\u6700\u4f18\u503c\uff08\u6700\u5c0f\u8017\u80fd\uff09\n\n\u90a3\u4e48\u8981\u8bbe\u8ba1\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e2d\u80af\u5b9a\u6709\u4e24\u79cd\u65b9\u6848\uff08\u6298\u8fd4\u7684\uff0c\u4e0d\u649e\u5899\u4e0d\u56de\u5934\u7684\uff09\n\n\u53c8\u56e0\u4e3a\u5982\u679c\u60f3\u8981\u5173\u67d0\u4e00\u533a\u95f4\u7684\u706f\u7684\u8fc7\u7a0b\u4e2d\u8017\u80fd\u6700\u5c0f\uff0c\u6240\u4ee5\u53ef\u4ee5\u8f6c\u6362\u6210\u4e00\u4e2a\u4e2a\u533a\u95f4\u6765\u5199\uff1a\n\n\u53bb\u5173\u67d0\u4e00\u533a\u95f4\u7684\u706f\uff0c\u90a3\u4e48\u6574\u6761\u8857\u9053\u4e0a\u9664\u4e86\u8fd9\u4e00\u533a\u95f4\u7684\u706f\u4f1a\u9010\u6e10\u706d\u6389\u5176\u4ed6\u80af\u5b9a\u4f1a\u5168\u4eae\u3002\n\n\u90a3\u4e48\u6211\u4eec\u628af[i][j]\u8bb0\u4e3a\u5f53\u4ecei\u5230j\u7684\u706f\u90fd\u7184\u706d\u540e\u5269\u4e0b\u7684\u706f\u7684\u603b\u529f\u7387\u3002\n\n\u518d\u8fdb\u4e00\u6b65\uff1af[i][j][0]\u8868\u793a\u5173\u6389i\u5230j\u7684\u706f\u540e\uff0c\u8001\u5f20\u7ad9\u5728i\u7aef\u70b9\uff0cf[i][j][1]\u8868\u793a\u5173\u6389[i][j]\u7684\u706f\u540e,\u8001\u5f20\u7ad9\u5728\u53f3\u7aef\u70b9\n\n\uff08i\u4e3a\u5de6\u7aef\u70b9\uff0cj\u4e3a\u53f3\u7aef\u70b9\uff09\n\n\u53c8f[i][j][0]\u4f1a\u7531\u4e24\u79cd\u65b9\u6848\u63a8\u5bfc\u800c\u6765\uff08\u4e0a\u9762\u6709\u5199\u3002\uff09\uff1a\u6298\u8fd4\u56de\u6765\u5173i,j\u7684\u706f\u3001\u7531i+1\u6df1\u5165\uff0c\u7ee7\u7eed\u5173\u7b2ci\u76cf\u706f\u4ece\u800c\u6269\u5c55\u5230\uff08i,j\uff09\uff1b\n\n\u6240\u4ee5\u5f97\u5230\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\nf[i][j][0] = min ( f[i+1][j][0] + ( a[i+1] - a[i] ) \\* ( sum[i] + sum[n] - sum[j] ) , f[i+1][j][1] + ( a[j]-a[i] ) \\* ( sum[i]+sum[n]-sum[j]) );\n\nf[i][j][1] = min ( f[i][j-1][0] + ( a[j] - a[i] ) \\* ( sum[i-1] + sum[n] - sum[j-1] ) , f[i][j-1][1] + ( a[j]-a[j-1] ) \\* ( sum[i-1] + sum[n] - sum[j-1] ) );\n\n\uff08\u679a\u4e3e\u73b0\u5728\u7684\u8def\u706fl\uff082-n,\u56e0\u4e3a\u7b2cc\u4f4d\u7684\u8def\u706f\u5df2\u7ecf\u88ab\u5173\u4e86\uff09\uff0ci+l-1<=n\uff08\u8def\u53ea\u6709\u8fd9\u4e48\u957f\uff09\uff0cj=i+l-1\uff08\u53f3\u7aef\u70b9\uff09\uff09\n\n\u56e0\u4e3a\u6700\u540e\u4e0d\u77e5\u9053\u8001\u5f20\u5230\u5e95\u7ad9\u5728\u5de6\u7aef\u70b9\u6700\u4f18\u8fd8\u662f\u7ad9\u5728\u53f3\u7aef\u70b9\u6700\u4f18\n\n\u6240\u4ee5\u5728f[1][n][0]\u548cf[1][n][1]\u4e2d\u53d6min\u8f93\u51fa\u3002\n\n\u4e0b\u9644\u4ee3\u7801\uff08\u542b\u89e3\u91ca\uff09\n\n\n\n\n```cpp\n#include <cstdio>\n#include <cstring>\nusing namespace std;\nconst int MAXM=60;\nint a[MAXM],b[MAXM],sum[MAXM],n,m,c;\nint f[MAXM][MAXM][2];\nint min(int a,int b)//\u8fd9\u4e00\u70b9\u5e0c\u671b\u5927\u5bb6\u6ce8\u610f\uff1a\u6700\u597dmax\u548cmin\u51fd\u6570\u81ea\u5df1\u5199\uff0c\u4f1a\u6709\u6548\u7684\u52a0\u5feb\u7a0b\u5e8f\u901f\u5ea6\n{return a<b?a:b;}\nint max(int a,int b)\n{return a>b?a:b;}\nint main()\n{\n  scanf(\"%d%d\",&n,&c);\n  memset(f,127,sizeof(f));//\u8d4b\u6210\u6781\u5927\u503c\u9632\u6b62\u540e\u9762\u7684min\u51fa\u95ee\u9898\n  for(int i=1;i<=n;i++)\n    scanf(\"%d%d\",&a[i],&b[i]),sum[i]=sum[i-1]+b[i];\n  f[c][c][0]=f[c][c][1]=0;//\u77ac\u95f4\u88ab\u5173\uff08\u521d\u59cb\u5316\uff09\n  for(int l=2;l<=n;l++)\n    for(int i=1;i+l-1<=n;i++)\n      {\n    int j=i+l-1;\n    f[i][j][0]=min(f[i+1][j][0]+(a[i+1]-a[i])*(sum[i]+sum[n]-sum[j]),//\u7ee7\u7eed\u8d70\u4e0b\u53bb\u4f1a\u66f4\u5feb\u5417\uff1f\n               f[i+1][j][1]+(a[j]-a[i])*(sum[i]+sum[n]-sum[j]));//\u8fd8\u662f\u4ecej\u70b9\u6298\u8fd4\u56de\u6765\u4f1a\u66f4\u5feb\uff1f\uff08\u6b64\u65f6\u5047\u8bbe[i+1][j]\u88ab\u5173\uff0ci\u4eae\uff0c\u4ecej\u7aef\u70b9\u5f80\u56de\u8d76\u53bb\u5173i\uff09\n//\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662fsum[n]-(sum[j]-sum[i])\u662f\u5305\u62ec\u4e86i\u8fd9\u4e00\u70b9\u7684\u7535\u80fd\u7684\uff0c\u56e0\u4e3a\u8d70\u8fc7\u6765\u7684\u8fc7\u7a0b\u4e2d\u706fi\u4e5f\u4f1a\u8017\u7535\n    f[i][j][1]=min(f[i][j-1][0]+(a[j]-a[i])*(sum[i-1]+sum[n]-sum[j-1]),//\u540c\u4e0a\n               f[i][j-1][1]+(a[j]-a[j-1])*(sum[i-1]+sum[n]-sum[j-1]));\n        }\n  int ans=min(f[1][n][0],f[1][n][1]);\n  printf(\"%d\",ans);\n  return 0;\n}\n```",
        "postTime": 1505958769,
        "uid": 44468,
        "name": "z2415445508",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u5206\u6790\u9898\u76ee\u5148--\u201c\u7136\u540e\u53ef\u4ee5\u5411\u5de6\u4e5f\u53ef\u4ee5\u5411\u53f3\u53bb\u5173\u706f\u201d\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u5173\u5b8c\u4e00\u4e2a\u706f\u5c31\u6709\u4e24\u4e2a\u9009\u62e9\u3002\n\n\u4e8e\u662f\u6211\u4eec\u4ea7\u751f\u4e86\u5982\u4e0b\u7684\u5907\u9009\u65b9\u6848\n\n1. dfs+~~\u7384\u5b66~~\u51cf\u679d\n2. \u8d2a\u5fc3\n3. dp\n\n\u4e00\u4e2a\u4e00\u4e2a\u6765\u3002\n\u5bf9\u4e8e\u65b9\u6848\u4e00\uff0c2^n\u7684\u590d\u6742\u5ea6\u663e\u7136\u662f\u4e0d\u884c\u7684\uff0c\u6211\u4eec\u9700\u8981\u7528\u4e00\u4e9b\u65b9\u6cd5\u53bb\u6389\u67d0\u4e9b\u660e\u663e\u4e0d\u6210\u7acb\u7684\u5206\u652f\u3002\n\n\u6bd4\u5982\u8bf4\uff0c\u8001\u5f20\u5728\u4f4d\u7f6ei\uff0c\u4ed6\u5de6\u8fb9\u7684\u706f\u6bd4\u53f3\u8fb9\u7684\u706f\u529f\u7387\u5927\u8fd8\u8fd1\uff0c\u662f\u4e0d\u662f\u4e00\u5b9a\u53bb\u5173\u5462\uff1f\u6216\u8005\u6211\u4eec\u7528\u6570\u5b66\u65b9\u6cd5\u63a8\u5f97i\u5728j\u524d\u9762\u7684\u6761\u4ef6\uff0c\u53c8\u6216\u8005\u6211\u4eec\u5728\u7ebf\u66f4\u65b0\u7b54\u6848\u8fdb\u884c\u51cf\u679d\u3002\n\n\u5bf9\u4e8e\u65b9\u6848\u4e8c\uff0c\u53ef\u4ee5\u5229\u7528\u6570\u5b66\u65b9\u6cd5\u5bfb\u627e\u5148\u540e\u6761\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u7ed3\u5408\u65b9\u6848\u4e00\u51cf\u679d\u3002\u8fd9\u91cc\u4e0d\u8fc7\u591a\u8d58\u8ff0\u3002~~\uff08\u5176\u5b9e\u662f\u6211\u4e0d\u4f1a\uff09~~\n\n------------\n\u91cd\u70b9\u5728\u65b9\u6848\u4e09\n\nn<=50 \u6211\u4eec\u53ef\u4ee5\u8003\u8651\u6bd4\u8f83\u591a\u7684\u7ef4\u5ea6\u7684dp\n\n\u6211\u4eec\u601d\u8003\uff0c\u671d\u4e00\u4e2a\u65b9\u5411\u8d70\u540e\uff0c\u6211\u4eec\u66f4\u65b0\u4e86\u4ec0\u4e48\u72b6\u6001\u5462\uff1f\n\n\u7b54\u6848\u662f\u5de6\u8fb9\u5f85\u5f00\u7684\u706f\u548c\u53f3\u8fb9\u5f85\u5f00\u7684\u706f\u7684\u7f16\u53f7\uff0c\u8fd9\u662f\u5f88\u76f4\u89c2\u7684\u3002\n\n\u6211\u4eec\u8003\u8651$dp[i][j]$\u4ee3\u8868**\u533a\u95f4i\uff0cj\u7684\u706f\u5df2\u7ecf\u5168\u90e8\u5173\u95ed**\u65f6\u7684**\u65f6\u95f4\u70b9**\u5df2\u7ecf\u6d6a\u8d39\u7684\u7535\u91cf\n\n\u7ee7\u7eed\u5411\u4e0b\u601d\u8003\uff0c\u6211\u4eec\u53d1\u73b0\u8fd8\u6f0f\u4e86\u4e00\u4e2a\u72b6\u6001\uff0c\u5c31\u662f\u5f53\u524d\u8fd9\u4e2a\u65f6\u95f4\u70b9\u8001\u5f20\u662f\u5728i\u70b9\u8fd8\u662fj\u70b9\u3002\n\n\u8fd9\u597d\u529e\uff0c\u52a0\u4e00\u7ef4\u5c31\u884c\u4e86\n\n\u5219$dp[i][j][k]$\u4ee3\u8868**\u533a\u95f4i\uff0cj\u7684\u706f\u5df2\u7ecf\u5168\u90e8\u5173\u95ed**\u65f6\u8001\u738b\u5728 $i$ \u5904$(k==0)$\u6216 $j$ \u5904$(k==1)$\u7684**\u65f6\u95f4\u70b9**\u5df2\u7ecf\u6d6a\u8d39\u7684\u7535\u91cf\n\n\u6211\u4eec\u5c1d\u8bd5\u5199\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n\n\tdp[i][j][0]=min(dp[i+1][j][0]+cal(),\n\t\t\t\t \tdp[i+1][j][1]+cal());\n\tdp[i][j][1]=min(dp[i][j-1][0]+cal(),\n    \t\t\t\tdp[i][j-1][1]+cal());\n\u5176\u4e2d\uff0c$cal()$**\u51fd\u6570\u8ba1\u7b97\u4ece\u4e0a\u4e00\u4e2a\u533a\u95f4\u8f6c\u79fb\u8fc7\u6765\u65f6\u6ca1\u5173\u7684\u8def\u706f\u6d88\u8017\u7684\u7535\u529b**\n\n------------\n\n\u8fd9\u91cc\u8be6\u7ec6\u4e00\u4e9b\u7684\u8bf4\u4e00\u4e0b$cal()$\u51fd\u6570\u3002\n\n\u6211\u4eec\u8981\u8ba1\u7b97\u67d0\u9636\u6bb5\u6d88\u8017\u7684\u7535\u529b\uff0c\u5219\u9700\u8981\u77e5\u9053\u8fd9\u4e00\u6bb5\u7684\u8def\u7a0b\uff08\u5373\u65f6\u95f4\uff09\u548c\u6ca1\u6709\u5173\u7684\u7535\u706f\u7684\u529f\u7387\u4e4b\u548c\u3002\n\n\u60f3\u8981\u5c3d\u5feb\u7684\u8ba1\u7b97\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528**\u524d\u7f00\u548c**$O(1)$\u627e\u5230\u529f\u7387\u4e4b\u548c\u3002\n\u4ee4$p[i]$\u4e3a\u529f\u7387\u7684\u524d\u7f00\u548c\u6570\u7ec4\uff0c$loc[i]$\u5b58\u50a8\u8def\u706f\u4f4d\u7f6e\u3002\n\n```cpp\nint cal(int i,int j,int l,int r)\n{\n    return (loc[j]-loc[i])*(p[l]+p[n]-p[r-1]);\n}\n```\n\u5219$cal()$\u5982\u4e0a\n\n\u4e8e\u662f\u5b8c\u6574\u7684\u8f6c\u79fb\u65b9\u7a0b\n```cpp\n dp[i][j][0]=\n min(dp[i+1][j][0]+cal(i,i+1,i,j+1),\n \t dp[i+1][j][1]+cal(i,j,i,j+1));\n dp[i][j][1]=\n min(dp[i][j-1][0]+cal(i,j,i-1,j),\n     dp[i][j-1][1]+cal(j-1,j,i-1,j));\n```\n------------\n\u7136\u800c\u8fd8\u6ca1\u5b8c\u3002\n\n\u8f6c\u79fb\u7684\u987a\u5e8f\u548c\u8fb9\u754c\u7684\u786e\u5b9a\u4e5f\u662f\u8fd9\u4e2a\u9898\u7684\u4e00\u4e2a\u96be\u70b9~~\uff08\u53cd\u6b63\u6211\u662f\u5f00\u59cb\u6ca1\u6ce8\u610f\u5230QAQ\uff09~~\n\n\u5f88\u81ea\u7136\u7684\u89c9\u5f97\uff0c\u8fd9\u4e2adp\u5c31\u50cf\u6269\u6563\u90a3\u6837\uff0c\u4ece\u4e2d\u95f4\u76f4\u63a5\u5f80\u4e24\u8fb9\u66f4\u65b0\u5373\u53ef\n\n\u4e8e\u662f\u6211~~\u4eec~~\u5199\u51fa\n\n```cpp\n\tdp[c][c+1][1]=cal(c,c+1,c-1,c+1);\n    dp[c-1][c][0]=cal(c-1,c,c-1,c+1);\n    for(int i=c-1;i>0;i--)\n        for(int j=c+1;j<=n;j++)\n        {\n            dp[i][j][0]=min(dp[i+1][j][0]+cal(i,i+1,i,j+1),dp[i+1][j][1]+cal(i,j,i,j+1));\n            dp[i][j][1]=min(dp[i][j-1][0]+cal(i,j,i-1,j),dp[i][j-1][1]+cal(j-1,j,i-1,j));\n        }//c\u4e3a\u521d\u59cb\u5730\u70b9\n```\n\u4e00\u4ea4\uff0c\u54ce\u544030\u5206...\u597d\u5c34\u5c2c\u5440\n\n\u4e8e\u662f\u6211\u5f00\u59cb\u601d\u8003~~\uff08\u5176\u5b9e\u5728\u770b\u5176\u4ed6\u4eba\u7684\u9898\u89e3\uff09~~\n\n$dp[i][j][0]$\u6240\u7528\u7684$dp[i+1][j][0]/[1]$\u6709\u7684\u6839\u672c\u6ca1\u66f4\u65b0\u597d\u55b5\uff1f\n\n\u597d\u5427\uff0c\u6211\u4eec\u4ed4\u7ec6\u770b\u770b\uff0c\u5bf9\u4e8e$dp[i][j][0]$\u6211\u4eec\u8981\u786e\u4fdd$dp[i+1][j][0]/[1]$\u5df2\u7ecf\u66f4\u65b0\uff0c\u90a3\u4e48\uff0c\u628a $j$ \u653e\u5728\u5916\u9762\u5faa\u73af\u4ecd\u7136\u5012\u7740\u505a $i$ \u4e0d\u5c31\u5f97\u4e86\uff1f\n\n\u518d\u770b\u770b$dp[i][j][1]$\uff0c\u6b63\u597d\uff0c\u53ea\u7528\u5230\u4e86$dp[i][j-1][0]/[1]$, $j$ \u53c8\u662f\u6b63\u7740\u505a\u7684\u3002\n\n\u4e8e\u662f...\n```cpp\n\tdp[c][c][1]=dp[c][c][0]=0;\n    for(int j=c;j<=n;j++)\n        for(int i=j-1;i>0;i--)\n        {\n            dp[i][j][0]=min(dp[i+1][j][0]+cal(i,i+1,i,j+1),dp[i+1][j][1]+cal(i,j,i,j+1));\n            dp[i][j][1]=min(dp[i][j-1][0]+cal(i,j,i-1,j),dp[i][j-1][1]+cal(j-1,j,i-1,j));\n        }\n```\n\n------------\n**code :**\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\nusing namespace std;\nconst int N=55;\nint n,c;\nint loc[N],p[N];\nint dp[N][N][2];\n\nint cal(int i,int j,int l,int r)\n{\n    return (loc[j]-loc[i])*(p[l]+p[n]-p[r-1]);\n}\n\nint main()\n{\n    cin>>n>>c;\n    memset(p,0,sizeof(p));\n    memset(dp,0x3f,sizeof(dp));\n    for(int i=1;i<=n;i++)\n    {\n        int a,b;\n        scanf(\"%d%d\",&a,&b);\n        loc[i]=a;\n        p[i]=p[i-1]+b;\n    }\n    dp[c][c][1]=dp[c][c][0]=0;\n    for(int j=c;j<=n;j++)\n        for(int i=j-1;i>0;i--)\n        {\n            dp[i][j][0]=min(dp[i+1][j][0]+cal(i,i+1,i,j+1),dp[i+1][j][1]+cal(i,j,i,j+1));\n            dp[i][j][1]=min(dp[i][j-1][0]+cal(i,j,i-1,j),dp[i][j-1][1]+cal(j-1,j,i-1,j));\n        }\n    cout<<min(dp[1][n][0],dp[1][n][1])<<endl;\n    return 0;\n}\n\n```",
        "postTime": 1519788312,
        "uid": 63727,
        "name": "ButterflyDew",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\uff08\u5199\u7ed9\u7ba1\u7406\u5458\u5927\u5927\uff1a\u8fd9\u7bc7\u9898\u89e3\u7684\u524d\u534a\u90e8\u5206\u662f\u6211\u4e3a\u4e86\u65b9\u4fbf\u5176\u4ed6\u9009\u624b\u7684\u5b66\u4e60\uff0c\u5bf9\u76ee\u524d\u8d5e\u6570\u6700\u9ad8\u7684\u9898\u89e3\u4e2d\u7684\u4e00\u4e9b\u96be\u70b9\u4f5c\u51fa\u7684\u89e3\u91ca\uff0c\u540e\u534a\u90e8\u5206\u662f\u6211\u5199\u7684\u76ee\u524d\u9898\u89e3\u4e2d\u8fd8\u6ca1\u6709\u7684\u65b0\u505a\u6cd5\uff0c\u6c42\u901a\u8fc7qwq\uff09\n\n\u8fd9\u9053\u9898\u662f\u4e00\u9053\u533a\u95f4dp\u3002\n\n\u524d\u9762\u7684\u4e00\u4e9b\u9898\u89e3\u5df2\u7ecf\u5199\u7684\u5f88\u6e05\u6670\u4e86\uff0c\u5efa\u8bae\u5148\u770b\u4e00\u4e0b\u70b9\u8d5e\u6700\u591a\u7684\u54ea\u4e00\u7bc7\uff0c\u6211\u8fd9\u91cc\u5bf9\u4e00\u4e9b\u53ef\u80fd\u96be\u4ee5\u7406\u89e3\u7684\u90e8\u5206\u505a\u51fa\u4e00\u4e9b\u89e3\u91ca\u5e76\u63d0\u4f9b\u4e00\u4e2a\u65b0\u7684\u89e3\u6cd5\u3002\n\n\u9996\u5148\uff0c\u8bf7\u60a8\u79fb\u6b65[\u7b2c\u4e00\u7bc7\u9898\u89e3](https://www.luogu.org/blog/user44468/solution-p1220)\uff0c\u5728\u770b\u5b8c\u4e4b\u540e\uff0c\u6211\u628a\u5b83\u7684\u4ee3\u7801\u653e\u4e0a\u3002\n\n\u653e\u4ee3\u7801\n\n```cpp\n#include <cstdio>\n#include <cstring>\nusing namespace std;\nconst int MAXM=60;\nint a[MAXM],b[MAXM],sum[MAXM],n,m,c;\nint f[MAXM][MAXM][2];\nint min(int a,int b)//\u8fd9\u4e00\u70b9\u5e0c\u671b\u5927\u5bb6\u6ce8\u610f\uff1a\u6700\u597dmax\u548cmin\u51fd\u6570\u81ea\u5df1\u5199\uff0c\u4f1a\u6709\u6548\u7684\u52a0\u5feb\u7a0b\u5e8f\u901f\u5ea6\n{return a<b?a:b;}\nint max(int a,int b)\n{return a>b?a:b;}\nint main()\n{\n  scanf(\"%d%d\",&n,&c);\n  memset(f,127,sizeof(f));//\u8d4b\u6210\u6781\u5927\u503c\u9632\u6b62\u540e\u9762\u7684min\u51fa\u95ee\u9898\n  for(int i=1;i<=n;i++)\n    scanf(\"%d%d\",&a[i],&b[i]),sum[i]=sum[i-1]+b[i];\n  f[c][c][0]=f[c][c][1]=0;//\u77ac\u95f4\u88ab\u5173\uff08\u521d\u59cb\u5316\uff09\n  for(int l=2;l<=n;l++)\n    for(int i=1;i+l-1<=n;i++)\n      {\n    int j=i+l-1;\n    f[i][j][0]=min(f[i+1][j][0]+(a[i+1]-a[i])*(sum[i]+sum[n]-sum[j]),//\u7ee7\u7eed\u8d70\u4e0b\u53bb\u4f1a\u66f4\u5feb\u5417\uff1f\n               f[i+1][j][1]+(a[j]-a[i])*(sum[i]+sum[n]-sum[j]));//\u8fd8\u662f\u4ecej\u70b9\u6298\u8fd4\u56de\u6765\u4f1a\u66f4\u5feb\uff1f\uff08\u6b64\u65f6\u5047\u8bbe[i+1][j]\u88ab\u5173\uff0ci\u4eae\uff0c\u4ecej\u7aef\u70b9\u5f80\u56de\u8d76\u53bb\u5173i\uff09\n//\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662fsum[n]-(sum[j]-sum[i])\u662f\u5305\u62ec\u4e86i\u8fd9\u4e00\u70b9\u7684\u7535\u80fd\u7684\uff0c\u56e0\u4e3a\u8d70\u8fc7\u6765\u7684\u8fc7\u7a0b\u4e2d\u706fi\u4e5f\u4f1a\u8017\u7535\n    f[i][j][1]=min(f[i][j-1][0]+(a[j]-a[i])*(sum[i-1]+sum[n]-sum[j-1]),//\u540c\u4e0a\n               f[i][j-1][1]+(a[j]-a[j-1])*(sum[i-1]+sum[n]-sum[j-1]));\n        }\n  int ans=min(f[1][n][0],f[1][n][1]);\n  printf(\"%d\",ans);\n  return 0;\n}\n```\n\u8bf7\u60a8\u770b\u5230dp\u8f6c\u79fb\u65b9\u7a0b\u90e8\u5206\uff0c\u60a8\u53ef\u80fd\u521a\u770b\u5230\u5b83\u7684\u65f6\u5019\u6709\u4e9b\u7591\u60d1\uff0c\u8ba4\u4e3a\u4ece\u4e00\u4e2a\u533a\u95f4\u7684\u53f3\u7aef\u70b9\u5411\u5de6\u7aef\u70b9\u79fb\u52a8\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u5173\u4e0a\u8fd9\u4e00\u90e8\u5206\u7684\u706f\uff0c\u6240\u4ee5\u4eae\u7740\u7684\u706f\u7684\u603b\u529f\u7387\u662f\u53d8\u5316\u7684\u3002\u5176\u5b9e\u4e0d\u7136\uff0c\u6211\u4eec\u5bf9f[i][j][1]\u7684\u5b9a\u4e49\u662f\uff1a\u4ecei\u5230j\u7684\u706f\u5df2\u7ecf\u88ab\u5168\u90e8\u5173\u95ed\u4e14\u6b64\u65f6\u8001\u5f20\u7ad9\u5728\u53f3\u7aef\u70b9\u3002\u6240\u4ee5\uff0c\u4ece\u53f3\u7aef\u70b9\u5411\u5de6\u7aef\u70b9\u79fb\u52a8\u65f6\uff0c\u8def\u5f84\u4e0a\u7684\u706f\u662f\u5df2\u7ecf\u5173\u95ed\u4e86\u7684\u3002\n\u800c\u4ece\u5de6\u7aef\u70b9\u5411\u53f3\u7aef\u70b9\u4e5f\u540c\u7406\u3002\n\n\u90a3\u4e48\uff0c\u5728\u79fb\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u6709\u591a\u5c11\u706f\u662f\u4eae\u7740\u7684\u5462\uff1f\u62ff\u4ecef[i+1][j][0]\u5411f[i][j][0]\u8f6c\u79fb\u4f5c\u4e3a\u4e00\u4e2a\u4f8b\u5b50\uff0c\u6b64\u65f6\uff0c\u533a\u95f4\u5916\uff0c\u4e5f\u5c31\u662f\u4ece1\uff5ei\uff0cj+1\uff5en\u7684\u706f\u662f\u4eae\u7740\u7684\u3002\u6ce8\u610f\uff0c\u8001\u5f20\u4ecei+1\u5411i\u79fb\u52a8\u65f6\uff0ci\u8fd9\u76cf\u706f\u662f\u4eae\u7740\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u9884\u5904\u7406\u51fa1\u5230\u6bcf\u4e2a\u4f4d\u7f6e\u7684\u529f\u7387\u7684\u524d\u7f00\u548c\uff0c\u90a3\u4e48\uff0c1\uff5ei\uff0cj+1\uff5en\u7684\u706f\u7684\u603b\u529f\u7387\u5c31\u662fsum[i]+sum[n]-sum[j]\u3002\n\u4e0a\u56fe\n![](https://cdn.luogu.com.cn/upload/image_hosting/xisns3fm.png)\n\u8fd9\u4e00\u756a\u64cd\u4f5c\u4e4b\u540e\uff0ci+1~j\u7684\u533a\u95f4\u662f\u4e0d\u662f\u90fd\u53d8\u62100\u4e86\uff1f\n\u5f88\u795e\u5947\u5427\u3002\n\n\u90a3\u4e48\u8fd9\u4e2a\u9898\u5dee\u4e0d\u591a\u5c31\u8bb2\u5b8c\u4e86\u3002\u4f46\u662f\u6211\u770b\u5230\u6240\u6709\u9898\u89e3\u4e2d\u5c31\u6ca1\u6709\u4eba\u7528\u5237\u8868\u6cd5\u7684\uff0c\u611f\u5230\u5f88\u8be7\u5f02\u3002\u4e0a\u9762\u90a3\u6bb5\u4ee3\u7801\u7528\u7684\u662f\u586b\u8868\u6cd5\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0cf[i][j]\u662f\u7531f[i+1][j]\u548cf[i][j-1]\u5f97\u5230\u7684\uff0c\u800c\u5237\u8868\u6cd5\u5c31\u662f\u7528f[i][j]\u63a8\u51faf[i-1][j]\u548cf[i][j+1]\u3002\u6240\u4ee5\uff0c\u6211\u5199\u4e86\u4e00\u4efd\u5237\u8868\u6cd5\u7684\u4ee3\u7801\uff0c\u4ee5\u5dee\u4e0d\u591a\u7684\u6548\u7387\u8fc7\u4e86\u8fd9\u9898\u3002\n\n------------\n\u7ec8\u4e8e\u8981\u653e\u4e0a\u6211\u81ea\u5df1\u5199\u7684\u4ee3\u7801\u4e86\uff0c~~\u6709\u70b9\u6fc0\u52a8~~\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nint n,c;\nint dis[60];\nint p[60];\nint dp[60][60][2];\nint main() {\n\tscanf(\"%d%d\",&n,&c);\n\tint x;\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%d%d\",&dis[i],&x);\n\t\tp[i]=p[i-1]+x;\n\t}\n\tmemset(dp,0x3f,sizeof(dp));\n\tdp[c][c][0]=dp[c][c][1]=0;\n\tfor(int len=1;len<n;len++) {\n\t\tfor(int l=1;l<=n-len+1;l++) {\n\t\t\tint r=l+len-1;\n\t\t\tdp[l-1][r][0]=min(dp[l-1][r][0],min(dp[l][r][0]+(dis[l]-dis[l-1])*(p[l-1]+p[n]-p[r]),dp[l][r][1]+(dis[r]-dis[l-1])*(p[l-1]+p[n]-p[r])));\n\t\t\tdp[l][r+1][1]=min(dp[l][r+1][1],min(dp[l][r][1]+(dis[r+1]-dis[r])*(p[l-1]+p[n]-p[r]),dp[l][r][0]+(dis[r+1]-dis[l])*(p[l-1]+p[n]-p[r])));\n\t\t}\n\t}\n\tprintf(\"%d\",min(dp[1][n][0],dp[1][n][1]));\n\treturn 0;\n}\n```\n\u8fd9\u9053\u9898\u7684\u8bdd\uff0c\u5237\u8868\u6cd5\u786e\u5b9e\u6bd4\u586b\u8868\u6cd5\u96be\u5199\u4e00\u4e9b\uff0c\u4f46\u662f\u786e\u5b9e\u662f\u53ef\u4ee5\u8fc7\u7684\u3002\n\u597d\u5566\uff0c\u8fd9\u7bc7\u9898\u89e3\u5230\u8fd9\u91cc\u5c31\u8981\u7ed3\u675f\u4e86\uff0c\u611f\u8c22\u89c2\u770b\uff0c\u559c\u6b22\u7684\u8bdd\u5c31\u70b9\u4e2a\u8d5e\u5427qwq\uff01",
        "postTime": 1571831994,
        "uid": 84473,
        "name": "\u94c1\u9524",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u5e76\u4e0d\u4f1a\u7528dp\u505a\uff0c\uff0c\u4e8e\u662f\u76f4\u63a5dfs\uff0c\u52a0\u4e2a\u5c0f\u5c0f\u7684\u526a\u679d\uff0c\u59a5\u59a5\u76840ms A\u4e86\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct abc{\n    int p/*\u529f\u7387*/,place/*\u4f4d\u7f6e*/;\n};\nint ans=9999999,may,n,pl,all;abc s[55];bool z[55];//ans\u8981\u53d6\u4e00\u4e2a\u6781\u5927\u503c\uff0c\u56e0\u4e3a\u540e\u9762\u8981\u53d6\u6700\u5c0f\uff0c\u4e0d\u7136\u7684\u8bdd\u5c31\u90fd\u662f0\nbool cmp(abc a,abc b)\n{\n    if(a.place!=b.place) return a.place<b.place;//p\u4ee3\u8868\u529f\u7387\uff0cplace\u4ee3\u8868\u8fd9\u4e2a\u706f\u7684\u4f4d\u7f6e\n}\nvoid search(int now/*\u5f53\u524d\u4f4d\u7f6e(\u5728\u90a3\u76cf\u706f\u4e0b)*/)\n{\n    bool is=false;int i;\n    if(may>ans) return;//\u5c0f\u526a\u679d\uff0c\u5982\u679c\u5f53\u524d\u7684\u4e2d\u95f4\u7ed3\u679c\uff08or\u6700\u7ec8\u7ed3\u679c\uff09\u8d85\u8fc7ans\uff0c\u5c31return\uff0c\u8fd9\u91cc\u7684\u8bdd\uff0c\u5f53\u65f6\u6211\u7684ans\u521d\u59cb\u503c\u8fd8\u662f0\uff0c\u6240\u4ee5>=\u5c31\u4f1a\u8fdb\u4e0d\u53bb\u8fd9\u4e2a\u51fd\u6570\uff0c\u6240\u4ee5\u5c31\u53bb\u6389\u4e86=\uff0c\u4f46\u540e\u6765\u6211\u628aans\u7684\u521d\u59cb\u503c\u5b9a\u4e3a\u4e86\u4e00\u4e2a\u6781\u5927\u503c\uff0c\u8fd9\u6837\u5e94\u8be5\u662f\u53ef\u4ee5\u52a0=\u7684\uff0c\u5e76\u4e14\u52a0\u7b49\u4e8e\u5e94\u8be5\u4f1a\u66f4\u4f18\n    i=now;\n    while(z[i]&&i<n)i++;//\u53f3\u62d0\n    if(!z[i])//\u5982\u679c\u706f\u662f\u5f00\u7684\n    {\n        z[i]=true;\n        may+=all*(s[i].place-s[now].place);\n        all-=s[i].p;\n        search(i);\n        all+=s[i].p;\n        may-=all*(s[i].place-s[now].place);\n        z[i]=false;\n        is=true;\n        i=now;//\u6ce8\u610f\u8fd9\u91cci\u8981\u91cd\u7f6e\u4e3anow\uff0c\u56e0\u4e3a\u4e0d\u91cd\u7f6e\u5c06\u53ef\u80fd\u628a\u53f3\u62d0\u7684\u7ed3\u679c\u5f53\u505a\u5de6\u62d0\u6765\u5904\u7406\uff0c\u7136\u540e\u5c31\u4f1a\u51fa\u73b0\u8d1f\u6570\uff0c\u7ed3\u679c\u5c31\u504f\u5c0f\n    }\n    while(z[i]&&i>1)i--;//\u5de6\u62d0\n    if(!z[i])//\u5982\u679c\u627e\u5230\u7684\u4f4d\u7f6e\u662f\u5f00\u7740\u706f\u7684\n    {\n        z[i]=true;\n        may+=all*(s[now].place-s[i].place);\n        all-=s[i].p;\n        search(i);\n        all+=s[i].p;\n        may-=all*(s[now].place-s[i].place);    \n        z[i]=false;\n        is=true;\n        i=now;\n    }\n    if(!is&&ans>may) ans=may;//\u4e00\u65e6\u4ece\u5f53\u524d\u4f4d\u7f6e\u53ef\u4ee5\u5de6\u62d0\u6216\u53f3\u62d0\u5e76\u627e\u5230\u5f00\u7740\u7684\u706f\uff0cis\u5c31\u4f1a\u53d8\u6210true\uff0c\u5c31\u4ee3\u8868\u706f\u6ca1\u6709\u5173\u5b8c\uff0c\u5c31\u4e0d\u80fd\u6539ans\u7684\u503c\n}\nint main()\n{\n    int i;bool can=false;\n    scanf(\"%d%d\",&n,&pl);\n    memset(z,0,55);\n    for(i=1;i<=n;i++)\n    {\n        scanf(\"%d%d\",&s[i].place,&s[i].p);\n        all+=s[i].p;//all\u4ee3\u8868\u5f53\u524d\u7684\u603b\u529f\u7387\n        if(i==pl&&!can) pl=s[i].place,all-=s[i].p,z[i]=true,can=true;//\u56e0\u4e3a\u8001\u5f20\u6240\u5904\u7684\u90a3\u4e00\u76cf\u706f\u53ef\u4ee5\u89c6\u4e3a\u77ac\u95f4\u5173\u95ed\uff0c\u6240\u4ee5\u51cf\u53bb\u5b83\u7684\u7535\u529f\u7387\uff0c\u53e6\u5916pl\u6539\u4e3a\u90a3\u76cf\u706f\u7684\u4f4d\u7f6e\uff0c\u56e0\u4e3a\u540e\u9762\u8981sort\u4e00\u4e0b\uff0c\u9632\u6b62\u51fa\u9519\uff0c\u53e6\u5916\u56e0\u4e3a\u6539\u53d8\u4e86pl\u7684\u503c\uff0c\u6240\u4ee5\u8981\u7528\u4e00\u4e2abool\u578b\u6765\u8bb0\u5f55\u6709\u6ca1\u6709\u6539\u8fc7\uff0c\u4e0d\u7136\u7684\u8bdd\u53ef\u80fd\u4f1a\u4e8c\u6b21\u4fee\u6539pl\u7684\u503c\uff0c\u56e0\u4e3a\u67d0\u4e00\u4e2a\u706f\u7684\u4f4d\u7f6e\u5f88\u53ef\u80fd\u662f\u53e6\u4e00\u76cf\u706f\u7684\u5e8f\u53f7\n    }\n    sort(s+1,s+n+1,cmp);//\u6839\u636e\u706f\u7684\u4f4d\u7f6e\u6392\u5e8f,\u662f\u4e3a\u4e86\u65b9\u4fbf\u51fd\u6570\u91cc\u9762\u7684\u8ba1\u7b97\n    for(i=1;i<=n;i++)//\u6839\u636e\u4e4b\u524dpl\u91cc\u9762\u5b58\u7684\u521d\u59cb\u4f4d\u7f6e\u6765\u627e\u521d\u59cb\u7684\u706f\n        if(pl==s[i].place)\n        {\n            pl=i;\n            break;//\u627e\u5230\u5c31break\n        }\n    search(pl);\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1502354329,
        "uid": 47136,
        "name": "ww3113306",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u56e0\u4e3a\u5173\u706f\u4e0d\u9700\u8981\u65f6\u95f4\uff0c\u6240\u4ee5\u8001\u5f20\u8d70\u8fc7\u7684\u8def\u706f\u80af\u5b9a\u4f1a\u88ab\u968f\u624b\u5173\u6389\u3002\u56e0\u6b64\uff0c\u5728\u5173\u5b8c\u8def\u706fi~j\u65f6\uff0c\u8001\u5f20\u8981\u4e48\u5728i\u5904\uff0c\u8981\u4e48\u5728j\u5904\u3002\u56e0\u6b64\u5206\u4e24\u79cd\u60c5\u51b5\uff1a\n\n1\u3001\u5173\u5b8c\u540e\u5728i\u5904\n\n\t\u8001\u5f20\u8981\u4e48\u662f\u5728\u5173\u5b8cj\u8def\u706f\u540e\u518d\u56de\u5934\u5173i\u8def\u706f\u7684\uff0c\u8981\u4e48\u662f\u5728\u5173\u5b8c\u7b2ci+1\u76cf\u540e\u7ee7\u7eed\u524d\u8fdb\u5173\u6389i\u7684\uff0c\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e2d\u9009\u62e9\u8017\u80fd\u6700\u5c0f\u7684\u3002\n\n2\u3001\u5173\u5b8c\u540e\u5728i\u5904\n\n\t\u8001\u5f20\u8981\u4e48\u662f\u5728\u5173\u5b8ci\u8def\u706f\u540e\u518d\u56de\u5934\u5173j\u8def\u706f\u7684\uff0c\u8981\u4e48\u662f\u5728\u5173\u5b8c\u7b2cj-1\u76cf\u540e\u7ee7\u7eed\u524d\u8fdb\u5173\u6389j\u7684\uff0c\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e2d\u9009\u62e9\u8017\u80fd\u6700\u5c0f\u7684\u3002\n    \n\u56e0\u6b64\u8bbedp[i][j][0]\u8868\u793a\u5728\u5173\u5b8c\u7b2ci\u76cf\u706f\u5230\u7b2cj\u76cf\u706f\u540e\u505c\u5728i\u5904\u7684\u6700\u5c0f\u8017\u7535\u91cf\uff0cdp[i][j][1]\u8868\u793a\u5728\u5173\u5b8c\u7b2ci\u76cf\u706f\u5230\u7b2cj\u76cf\u706f\u540e\u505c\u5728j\u5904\u7684\u6700\u5c0f\u8017\u7535\u91cf\uff0clamp[i].m\u4e3a\u7b2ci\u76cf\u706f\u7684\u8ddd\u79bb\uff0csum[i][j]\u8868\u793a\u5728\u5173\u5b8c\u7b2ci\u76cf\u706f\u5230\u7b2cj\u76cf\u706f\u540e\u6bcfs\u6240\u8017\u7535\u91cf,\u53ef\u5f97\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n```cpp\ndp[i][j][0]=min(dp[i+1][j][0]+(lamp[i+1].m-lamp[i].m)*sum[i+1][j],dp[i+1][j][1]+(lamp[j].m-lamp[i].m)*sum[i+1][j]);\ndp[i][j][1]=min(dp[i][j-1][0]+(lamp[j].m-lamp[i].m)*sum[i][j-1],dp[i][j-1][1]+(lamp[j].m-lamp[j-1].m)*sum[i][j-1]);\n```\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define left 0\n#define right 1\n#define INF 0x7ffffff\n//INF\u4e00\u5b9a\u4e0d\u80fd\u8bbe\u62100x7fffffff\uff0c\u5426\u5219\u5c31\u4f1a\u50cf\u6211\u5728\u5355\u8bcd\u5212\u5206\u90a3\u9053\u9898\u4e00\u6837\u7206int \nusing namespace std;\nstruct node{\n\tint m;\n\tint w;\n}lamp[105];\nint dp[105][105][2],n,c;\nint sum[105][105],v[105];\nint main(){\n\tscanf(\"%d%d\",&n,&c);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%d%d\",&lamp[i].m,&lamp[i].w);//\u8bfb\u5165 \n\tfor(int i=1;i<=n;i++)\n\t\tv[i]=v[i-1]+lamp[i].w;//\u524d\u7f00\u548c \n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tdp[i][j][0]=dp[i][j][1]=INF;//\u521d\u59cb\u5316dp\u6570\u7ec4 \n\tdp[c][c][0]=dp[c][c][1]=0;//\u56e0\u4e3a\u8001\u5f20\u4e00\u5f00\u59cb\u5c31\u5728c\u5904\uff0c\u6240\u4ee5c\u76cf\u706f\u4e00\u5f00\u59cb\u5c31\u662f\u5173\u6389\u7684\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tsum[i][j]=v[n]-(v[j]-v[i-1]);//\u8868\u793a\u5728\u5173\u5b8c\u7b2ci\u76cf\u706f\u5230\u7b2cj\u76cf\u706f\u540e\u6bcfs\u6240\u8017\u7535\u91cf \n\tfor(int i=c;i>0;i--){//\u6b64\u5904\u8981\u4ece\u5927\u5230\u5c0f\u679a\u4e3e\uff0c\u5426\u5219\u4f1a\u5728\u51b3\u7b56\u65f6\u7528\u5230\u4e4b\u524d\u6ca1\u6c42\u8fc7\u7684\u91cf\uff0c\u4ece\u5927\u5230\u5c0f\u679a\u4e3e\u5c31\u53ef\u4ee5\u6709\u6548\u7684\u907f\u514d\uff0c\uff08\u5177\u4f53\u8bc1\u660e\u53c2\u89c1\u6211\u7684luogu blog\u4e2d\u77f3\u5b50\u5408\u5e76\u7684\u9898\u89e3\uff09\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u5728\u8fd9\u4e00\u5c42\u5faa\u73af\u679a\u4e3e\u6709\u9650\u7684\u957f\u5ea6\uff0c\u672c\u8d28\u4e0d\u53d8 \n\t\tfor(int j=i+1;j<=n;j++){\n\t\t\tdp[i][j][left]=min(dp[i+1][j][left]+(lamp[i+1].m-lamp[i].m)*sum[i+1][j],dp[i+1][j][right]+(lamp[j].m-lamp[i].m)*sum[i+1][j]);\n\t\t\tdp[i][j][right]=min(dp[i][j-1][left]+(lamp[j].m-lamp[i].m)*sum[i][j-1],dp[i][j-1][right]+(lamp[j].m-lamp[j-1].m)*sum[i][j-1]);\n\t\t//\u72b6\u6001\u8f6c\u79fb \n\t\t}\n\t}\n\tint ans=min(dp[1][n][0],dp[1][n][1]);//\u56e0\u4e3a\u5230\u4e86\u6700\u540e\u4ecd\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u6240\u4ee5\u8981\u5224\u65ad \n\tcout<<ans<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1523020702,
        "uid": 47894,
        "name": "ElevenX",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u86ee\u597d\u7684\u4e00\u9053\u533a\u95f4dp\u3002\n\n\u62ff\u5230\u9898\u7684\u7b2c\u4e00\u611f\u89c9\u662f\u8d2a\u5fc3\uff0c\u597d\u50cf\u662f\u7ebf\u6bb5\u8986\u76d6\u4e4b\u7c7b\u7684\u8d2a\u5fc3\u6a21\u578b\uff1f\n\n\u7136\u540e\u5c31\u7528\u8d2a\u5fc3\u7684\u60f3\u6cd5\u601d\u8003\u8fd9\u9053\u9898\u76ee\uff0c\u8003\u8651\u4e86\u5f88\u4e45\uff0c\u53d1\u73b0\u6700\u4f18\u51b3\u7b56\u7684\u8def\u5f84\u4e00\u5b9a\u662f\u8fd9\u6837\u7684\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/oa23l64i.png)\n\n\u7136\u540e\u601d\u8def\u5c31\u51fa\u6765\u4e86\uff0c\u663e\u7136\u53ef\u4ee5\u7528\u533a\u95f4dp\u66b4\u529b\u505a\uff0c$n$\u5f88\u5c0f\uff0c\u4e5f\u80fd\u627f\u53d7$O(n^3)$\u7684\u8f6c\u79fb\u3002\n\n\u8bbe`f[i][j][0/1]`\u662f\u5728\u533a\u95f4`[i,j]`\u7684\u5de6/\u53f3\u7aef\u70b9\u65f6\u7684\u6700\u5c0f\u503c\u3002\n\n\u663e\u7136\u8fd9\u4e2a\u72b6\u6001\u53ef\u4ee5\u4ece\u4ed6\u7684\u4e0b\u4e00\u4e2a\u6781\u5927\u533a\u95f4\u8f6c\u79fb\u8fc7\u6765\u3002\n\n\u7b80\u5355\u7684\u6765\u8bf4\uff0c\u5c31\u662f:\n\n`f[i][j][1]`\u53ef\u4ee5\u4ece`f[i + 1][j][1 / 0]`\u8f6c\u79fb\n\n`f[i][j][0]`\u53ef\u4ee5\u4ece`f[i][j - 1][1 / 0]`\u8f6c\u79fb\n\n\u8f6c\u79fb\u7684\u65f6\u5019\u8981\u52a0\u4e0a**\u8f6c\u79fb\u70b9\u5230\u5f53\u524d\u70b9\u7684\u8def\u7a0b \u4e58 \u6240\u6709\u5728\u5f53\u524d\u8f6c\u79fb\u533a\u95f4\u5916\u7684\u8def\u706f\u7684\u8d39\u7528\u548c**\n\n\u663e\u7136\u8d39\u7528\u548c\u53ef\u4ee5\u7528\u4e00\u4e2a\u524d\u7f00\u548c\u6570\u7ec4\u7ef4\u62a4\uff0c\u8fd9\u6837\u8fd9\u9053\u9898\u5c31\u987a\u5229\u7684\u505a\u5b8c\u4e86\u3002\n\n\u4ee3\u7801\u6bd4\u8f83\u597d\u5199\uff0c\u5177\u4f53\u65b9\u7a0b\u53ef\u4ee5\u770b\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n\nconst int N = 55;\n\nint f[N][N][2] , n , c;\nint pos[N] , w[N] , sum[N];\n\nint _min(int a , int b) {\n\treturn a < b ? a : b;\n}\n\nint main () {\n\tscanf(\"%d %d\" , &n , &c);\n\tfor(int i = 1 ; i <= n ; ++ i) scanf(\"%d %d\" , pos + i , w + i) , sum[i] = sum[i - 1] + w[i];\n\tfor(int i = 1 ; i <= n ; ++ i)\n\t\tfor(int j = 1 ; j <= n ; ++ j) f[i][j][1] = f[i][j][0] = 1000000000; \n\tf[c][c][0] = f[c][c][1] = 0;\n\tfor(int len = 2 ; len <= n ; ++ len) {\n\t\tfor(int i = 1 ; i <= n - len + 1 ; ++ i) {\n\t\t\tint j = i + len - 1;\n\t\t\tf[i][j][1] = _min(f[i + 1][j][1] + (pos[i + 1] - pos[i]) * (sum[n] - sum[j] + sum[i]) , f[i + 1][j][0] + (pos[j] - pos[i]) * (sum[n] - sum[j] + sum[i]));\n\t\t\tf[i][j][0] = _min(f[i][j - 1][0] + (pos[j] - pos[j - 1]) * (sum[i-1] + sum[n] - sum[j-1]) , f[i][j - 1][1] + (pos[j] - pos[i]) * (sum[i-1] + sum[n] - sum[j-1]));\n\t\t}\n\t}\n\tprintf(\"%d\" ,_min(f[1][n][1] , f[1][n][0]));\n\treturn 0;\n} \n```",
        "postTime": 1571830491,
        "uid": 134080,
        "name": "jins3599",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "### \u66b4\u529b\u51fa\u5947\u8ff9\u7cfb\u5217\n\n---\n\n\u4e0b\u9762\u8fd9\u4e00\u5806\u662f\u6211\u7b2c\u4e00\u7248\u7684search\u51fd\u6570\n\n\u8fd8\u7f8e\u540d\u5176\u66f0\u79f0\u5b83\u662f\u8bb0\u5fc6\u5316\u641c\u7d22\n\n\u7136\u540e\u4e8b\u5b9e\u8bc1\u660e\u6211\u4e0d\u4f46\u4e0d\u4f1a\u8bb0\u5fc6\u5316\u641c\u7d22\u800c\u4e14\u5c31\u8fde\u7206\u641c\u90fd\u4f1a\u51fa\u5404\u81eabug...\n```c++\n#define now (pos ? l : r)\n\nvoid search(int l, int r, int pos, int t, int cost){\n//\u5df2\u7ecf\u8d70\u8fc7[l,r]\u533a\u95f4\u5e76\u4e14\u5f53\u524d\u5728pos(0:l,1:r)\u4f4d\u7f6e,\u8fc7\u4e86\u65f6\u95f4t,\u5df2\u77e5\u6d88\u8017\u7535\u8d39cost\n    cost += W[now] * t;//\u5faa\u73af\u5230\u5f53\u524d\u5c42\u66f4\u65b0\n    if(l < 1 || r > n) return;\n    if(solve[l][r][pos] <= cost) return;//*\n    solve[l][r][pos] = cost;//*\n    search(l - 1, r, 0, t + P[now] - P[l - 1], cost);\n    search(l, r + 1, 1, t + P[r + 1] - P[now], cost);\n}\n```\n\u51fa\u9505\u7684\u6700\u4e3b\u8981\u539f\u56e0\u5c31\u662f\u8fd9\u4e24\u884c\n```c++\n    \"if(solve[l][r][pos] <= cost) return;\"\n    \"solve[l][r][pos] = cost;\"\n```\n\u5f53\u6211\u4eec\u5148\u5faa\u73af\u5230$(cost = 100, t = 100)$\u65f6\n\u4f1a\u9519\u8fc7$(cost = 101, t = 1)$\u8fd9\u6837\u5f88\u6709\u53ef\u80fd\u662f\u6700\u4f18\u89e3\u7684\u72b6\u6001\n\n\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898,\u6211\u628a\u526a\u679d\u6539\u6210\u4e86\u4e0b\u9762\u8fd9\u6837,\u901a\u8fc7\u5bf9$cost$\u6700\u4f18\u548c$t$\u6700\u4f18\u7684\u53cc\u91cd\u5224\u5b9a\u4fdd\u8bc1\u4e86\u5b83\u7684\u6b63\u786e\u6027\n```c++\nvoid search(int l, int r, int pos, int t, int cost){ \n    int now = pos ? r : l;\n    cost += W[now] * t;\n    if(l < 1 || r > n) return;\n    if(cost >= ans) return;\n    if(solve[l][r][pos] >= cost && best[l][r][pos] <= t) return;\n    if(solve[l][r][pos] < cost || (solve[l][r][pos] == cost && t < best[l][r][pos])) {\n        solve[l][r][pos] = cost, best[l][r][pos] = t;\n    }\n    if(l == 1 && r == n) {\n        ans = cost;\n        return;\n    }\n    search(l, r + 1, 1, t + P[r + 1] - P[now], cost);\n    search(l - 1, r, 0, t + P[now] - P[l - 1], cost);\n}\n\nint main(){\n    n = read(), p = read();\n    for(int i = 1; i <= n; ++ i) P[i] = read(), W[i] = read();\n    memset(solve, 127, sizeof(solve));\n    memset(best, 127, sizeof(best));\n    search(p, p, 1, 0, 0);\n    printf(\"%d\", ans);\n    return 0;\n}\n```\n \u4f46\u662f\u8fd9\u4e2a\u526a\u679d\u5e76\u6ca1\u6709\u592a\u5927\u7528\u5904\n \n \u4ec5\u4ec5\u662f\u4fdd\u8bc1\u4e86\u6b63\u786e\u6027\n \n \u8be5$T$\u7684\u70b9\u8fd8\u662f\u4f1a$T$\u6389\n \n ~~\u75af\u72c2\u5438\u6c27.jpg~~\n  \n\u6700\u7ec8,\u5728\u9898\u89e3\u548c$xhc \\ dalao$\u7684\u5e2e\u52a9\u4e0b,\u6211\u627e\u5230\u4e86\u6b63\u786e\u7684\u7206\u641c\u65b9\u5f0f\n```c++    \nvoid search(int i,int v,int sum,int k,int l, int r){\n//\u8868\u793a\u5f53\u524d\u5728i\u70b9,\u5df2\u8017\u7535v,\u6b63\u5728\u5de5\u4f5c\u7684\u70b9\u706f\u603b\u529f\u7387\u4e3asum,\u5df2\u7ecf\u5173\u4e86k\u76cf\u706f,\u8fd9\u4e9b\u706f\u5728\u533a\u95f4[l,r]\u5185\n    if(v >= ans) return;//\u2460\n    if(k == n) { ans = v; return;}\n    if(l > 1) search(l-1, v+(t[i]-t[l-1])*sum, sum-w[l-1], k+1, l-1, r);\n    if(r < n) search(r+1, v+(t[r+1]-t[i])*sum, sum-w[r+1], k+1, l, r+1);\n    //\u6ce8\u610f\u5bf9\u4e8ev\u7684\u72b6\u6001\u8f6c\u79fb\n    //\u76f8\u5f53\u4e8e\u662f\u8003\u8651\u4e86\u5168\u5c40\u7684\u7535\u91cf\u6d88\u8017\n    //v\u7684\u589e\u957f\u5c31\u4f1a\u6bd4\u6211\u4e4b\u524d\u5199\u7684\u90a3\u79cd\u7248\u672c\u66f4\u5feb\n    //\u4ece\u800c\u4f7f\u2460\u5904\u7684\u6700\u4f18\u6027\u526a\u679d\u5f97\u5230\u66f4\u52a0\u5145\u5206\u7684\u5229\u7528\n    //\u7136\u540e\u5c31\u8dd1\u7684\u66f4\u5feb\u5566\n}\n\nint main(){\n    n = read(), m = read();\n    for(int i = 1; i <= n; ++ i) t[i] = read(), w[i] = read(), all += w[i];//\u524d\u7f00\u548c\u4f18\u5316\n    search(m, 0, all - w[m], 1, m, m);//m\u5904\u7684\u706f\u5df2\u7ecf\u5173\u4e86\n    printf(\"%d\", ans);\n    return 0;\n}\n```\n\u6700\u540e\u8dd1\u51fa\u6765\u662f$31ms$\n\n\u5bf9\u4e8e\u8fd9\u6837\u4e00\u4e2a\u53c8\u597d\u5199\u53c8\u597d\u8c03\u8bd5\u7684\u66b4\u529b\u641c\u7d22\u6765\u8bf4,\u6211\u60f3\u8fd9\u5df2\u7ecf\u8db3\u591f\u4e86\n\n\u7136\u540e\u6211\u5728\u7a0b\u5e8f\u4e2d\u7684\u4f20\u53c2l\u4e0er\u5904\u7406\u5e94\u8be5\u4f1a\u6bd4\u6700\u4f18\u89e3\u7b2c\u4e00\u7bc7\u7684while\u5faa\u73af\u66f4\u4f18\n\n\u4f46\u662f\u504f\u504f\u5c31\u5f88\u6162..\n\n---",
        "postTime": 1545532749,
        "uid": 109900,
        "name": "GCCCCCCCCC",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u7785\u4e86\u4e00\u773c\u9898\u89e3\u533a\uff0c\u8c8c\u4f3c\u90fd\u662f\u5f00\u4e09\u7ef4\u6570\u7ec4\u7684\uff0c\\\n\u4f46\u6211\u89c9\u7684\u5b8c\u5168\u6ca1\u4ec0\u4e48\u5fc5\u8981\u554a\uff0c\u53ef\u8bfb\u6027\u4e5f\u6ca1\u6709\u56e0\u6b64\u6709\u5f88\u5927\u7684\u63d0\u9ad8\\\n\u6240\u4ee5\u6211\u60f3\u53d1\u4e00\u4e2a\u4e24\u7ef4\u7684\u9898\u89e3\uff08\u849f\u84bb\u7b2c\u4e00\u6b21\u5199\uff0c\u795e\u7287\u52ff\u55b7\\\n\n\n\u521a\u5f00\u59cb\u505a\u7684\u65f6\u5019\u6211\u5c31\u662f\u628a\u6574\u4e2a\u8def\u9762\u60f3\u8c61\u6210\u4e00\u6839\u6570\u8f74\u6765\u89e3\u51b3\\\n\u4e8e\u662f\u5c31\u60f3\u5230\u7528\u533a\u95f4dp\\\n\u4f46\u95ee\u9898\u5c31\u662f\u8fd9\u548c\u533a\u95f4dp\u6709\u5f88\u5927\u7684\u4e0d\u4e00\u6837\uff1a\\\n\u533a\u95f4dp\u603b\u662f\u5de6\u8fb9\u6570\u503c<\u53f3\u8fb9\u6570\u503c\\\n\u6240\u4ee5\u5f53\u52a1\u4e4b\u6025\u5c31\u662f\u628a\u95ee\u9898\u8f6c\u6362\u6210\u6211\u4eec\u719f\u6089\u7684\u533a\u95f4dp\n~~\u7136\u540e\u5c31\u770b\u5230\u9898\u89e3\u533a\u91cc\u9762\u7684\u5927\u4f6c\u4eec\u60f3\u5230\u5f88\u806a\u660e\u7684\u505a\u6cd5\\\n\u5f00\u4e2a\u4e09\u7ef4\u6570\u7ec4\u8868\u793a\u5728\u5de6\u8fb9\u548c\u53f3\u8fb9\uff0c\u6211\u662f\u849f\u84bb\uff0c\u6211\u60f3\u4e0d\u5230~~\\\n\n\n\n\u8fd9\u4e2a\u65f6\u5019\u6211\u5c31\u60f3\u5230\u7528\\\n _\u5de6\u533a\u95f4\u6765\u8868\u793a\u51fa\u53d1\u7684\u4f4d\u7f6e\uff0c\u53f3\u533a\u95f4\u6765\u8868\u793a\u5c06\u8981\u524d\u5f80\u7684\u4f4d\u7f6e_\\\n \u8fd9\u5f88\u91cd\u8981\uff01\uff01\uff01\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6211\u6ca1\u6709\u4e09\u7ef4\u53ea\u7528\u4e86\u4e24\u7ef4\u7684\u539f\u56e0!!!\\\n \u800c\u4e14\u4e2a\u4eba\u89c9\u5f97\u6309\u7167\u8fd9\u4e2a\u601d\u8def\u975e\u5e38\u7684\u597d\u60f3\\\n \u6309\u7167\u8fd9\u4e2a\u601d\u8def\u8d70\u4e0b\u53bb\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9\u95ee\u9898\u7a0d\u5fae\u505a\u4e00\u4e2a\u7b80\u5316\\\n \u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u7b97\u51fa\u4ece\u4efb\u610f\u5de6\u533a\u95f4\u5230\u53f3\u533a\u95f4\u7684\u82b1\u8d39\\\n ```cpp\nint cost(int i,int j){//i j \u5206\u522b\u6307\u4ece\u7b2ci\u53f7\u4f4d\u7f6e\u5230\u8fbe\u7b2cj\u53f7\u4f4d\u7f6e \n\tint len=s[i][j];\n\tint costs=0;\n\tif(i>j){//\u6b64\u65f6\u5e94\u8be5\u662f\u6709\u7b2ci+1\u53f7\u706f\u5230N\u53f7\u706f\u4ee5\u53ca\u4ece1\u53f7\u706f\u5230\u7b2cj\u53f7\u7b49\u6ca1\u5173 \n\t\tcosts=len*(sum[N]-sum[i]+sum[j]);\n\t\treturn costs;\n\t}\n\t//\u6b64\u65f6\u5e94\u8be5\u6709i<j\n\t//\u5373\u6709\u7b2c1\u53f7\u706f\u5230\u7b2ci-1\u53f7\u706f\u6ca1\u5173\u4ee5\u53ca\u7b2cj\u53f7\u706f\u5230\u7b2cN\u53f7\u706f\u6ca1\u5173 \n\tcosts=len*(sum[N]-sum[j-1]+sum[i-1]);\n\treturn costs;\n}\n```\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u6709\u6548\u7684\u9632\u6b62\u63a5\u4e0b\u6765\u8981\u5199\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5f0f\u53c8\u81ed\u53c8\u957f\n\n\u63a5\u4e0b\u6765\u9047\u5230\u7684\u95ee\u9898\u5c31\u662f\u5199\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5f0f\\\n\u53ef\u4ee5\u5199\u51fa\u4f2a\u4ee3\u7801\uff08\u5177\u4f53\u89e3\u91ca\u5728\u4e0b\u9762\\\nf[\u51fa\u53d1\u7684\u8def\u706f\u7f16\u53f7][\u5c06\u8981\u5230\u8fbe\u7684\u8def\u706f\u7f16\u53f7]=min(\\\nf[\u51fa\u53d1\u7684\u8def\u706f\u7f16\u53f7][\u5c06\u8981\u5230\u7684\u8def\u706f\u7f16\u53f7-1]+cost(\u51fa\u53d1\u7684\u8def\u706f\u7f16\u53f7\uff0c\u5c06\u8981\u5230\u8fbe\u7684\u7f16\u53f7-1\uff09\\\n,f[\u5c06\u8981\u5230\u7684\u8def\u706f\u7f16\u53f7-1][\u51fa\u53d1\u7684\u8def\u706f\u7f16\u53f7]+cost(\u5c06\u8981\u5230\u8fbe\u7684\u7f16\u53f7-1\uff0c\u51fa\u53d1\u7684\u8def\u706f\u7f16\u53f7\uff09\\\n\u4ed4\u7ec6\u601d\u8003\u4e3a\u4ec0\u4e48\u662f\u8fd9\u4e48\u5199\\\n\u9996\u5148\u8001\u738b\uff08\uff1f\uff09\u7ecf\u8fc7\u7684\u8def\u706f\u4e00\u5b9a\u5df2\u7ecf\u88ab\u5173\u6389\u4e86\uff0c\u5229\u7528\u8fd9\u4e00\u6761\u6027\u8d28\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5982\u679c\u8981\u5230\u7b2cj\u53f7\u53bb\u5173\u706f\uff0c\u5176\u4e2di~j-1\u53f7\u706f\u5df2\u7ecf\u88ab\u5173\u6389\u4e86\uff0c\u90a3\u4e48\u8001\u738b\u53ea\u6709\u4e24\u79cd\u53ef\u80fd\u7684\u65b9\u6848\uff1a\\\n1)\u521a\u597d\u5904\u4e8e\u7b2cj-1\u53f7\u706f\\\n2\uff09\u51fa\u4e8e\u7b2ci\u53f7\u706f\uff0c\u6389\u5934\u56de\u53bb\u5173\u7b2cj\u53f7\u706f\n\u5177\u4f53\u60f3\u6cd5\u662f\u8fd9\u6837\uff0c\u4f46\u662f\u4ee3\u7801\u6572\u51fa\u6765\u8fd8\u662f\u76f8\u5f53\u6709\u96be\u5ea6\u7684\n\n\n```cpp\n#include <iostream>\n#include <cstring>\n#include <cmath>\n#include <algorithm>\n#define INF 0x3f3f3f\nusing namespace std;\nint s[51][51];int w[51];\nint p[51];\nint sum[51];\nint a[51][51];\nint f[51][51];\nint N;int M;\nint abs(int a){\n\tif(a>0)return a;\n\treturn -a;\n}\nint cost(int i,int j){//i j \u5206\u522b\u6307\u4ece\u7b2ci\u53f7\u4f4d\u7f6e\u5230\u8fbe\u7b2cj\u53f7\u4f4d\u7f6e \n\tint len=s[i][j];\n\tint costs=0;\n\tif(i>j){//\u6b64\u65f6\u5e94\u8be5\u662f\u6709\u7b2ci+1\u53f7\u706f\u5230N\u53f7\u706f\u4ee5\u53ca\u4ece1\u53f7\u706f\u5230\u7b2cj\u53f7\u7b49\u6ca1\u5173 \n\t\tcosts=len*(sum[N]-sum[i]+sum[j]);\n\t\treturn costs;\n\t}\n\t//\u6b64\u65f6\u5e94\u8be5\u6709i<j\n\t//\u5373\u6709\u7b2c1\u53f7\u706f\u5230\u7b2ci-1\u53f7\u706f\u6ca1\u5173\u4ee5\u53ca\u7b2cj\u53f7\u706f\u5230\u7b2cN\u53f7\u706f\u6ca1\u5173 \n\tcosts=len*(sum[N]-sum[j-1]+sum[i-1]);\n\treturn costs;\n}\nint main(){\n\tcin>>N;cin>>M;\n\tmemset(sum,0,sizeof(sum));\n\tmemset(s,0,sizeof(s));\n\tmemset(w,0,sizeof(w));\n\tmemset(f,INF,sizeof(f));\n\tf[M][M]=0;\n\tfor(int i=1;i<=N;i++){\n\t\tcin>>p[i];\n\t\tfor(int j=1;j<=i;j++){\n\t\t\ts[i][j]=abs(p[i]-p[j]);\n\t\t\ts[j][i]=abs(p[i]-p[j]);\n\t\t}\n\t\tcin>>w[i];\n\t\tsum[i]=sum[i-1]+w[i];\n\t}\n\tfor(int i=1;i<=N-1;i++){//i\u8868\u793a\u5c06\u8981\u5173\u6389\u7684\u8def\u706f\u6570\n\t\tint P_head=M-i;\n\t\tint P_tail=M;\n\t\tif(M-i<=0){\n\t\t\tP_head=1;\n\t\t\tP_tail=P_head+i;\n\t\t} \n\t\twhile(P_tail<=N && P_head<=M){//\u8ba1\u7b97\u4ece\u5934\u533a\u95f4\u5230\u5c3e\u533a\u95f4\u53bb\u5173\u706f \n\t\t\tint cost1=cost(P_head,P_tail);//\u5ef6\u7533\u4e00\u683c\u53bb\u5173\u706f\uff0c\u706f\u7684\u8f93\u51fa\u529f\u7387\u8fd8\u662f\u4e00\u6837\u7684\uff0c\u53ea\u4e0d\u8fc7\u8def\u7a0b\u591a\u7b97\u4e86\uff0c\u5b9e\u9645\u8def\u7a0b\u53ea\u662f\u4e00\u70b9\u70b9 \n\t\t\tint cost2=cost(P_head,P_tail)*s[P_tail-1][P_tail]/(s[P_head][P_tail]);\n\t\t\tf[P_head][P_tail]=min(f[P_tail-1][P_head]+cost1,f[P_head][P_tail-1]+cost2);//\u8ba1\u7b97\u4ece\u5c3e\u533a\u95f4\u5230\u5934\u533a\u95f4\u53bb\u5934\u533a\u95f4\u5173\u706f \n\t\t\tcost1=cost(P_tail,P_head);\n\t\t\tcost2=cost(P_tail,P_head)*s[P_head+1][P_head]/(s[P_tail][P_head]);\n\t\t\tf[P_tail][P_head]=min(f[P_head+1][P_tail]+cost1,f[P_tail][P_head+1]+cost2);\n\t\t\tP_head++;\n\t\t\tP_tail=P_head+i;//\u8868\u793a\u8981\u5230\u7684\u4f4d\u7f6e\uff0c\u6b64\u65f6P_tail\u7684\u8def\u706f\u8fd8\u6ca1\u6709\u5173\u6389\n\t\t}\n\t\t\n\t}\n\tcout<<min(f[1][N],f[N][1]);\n}\n\n```\n",
        "postTime": 1562573579,
        "uid": 208273,
        "name": "dzz1537568241",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u8fd9\u9898\u662f\u4e00\u4e2a\u660e\u663e\u7684\u533a\u95f4\u578b\u52a8\u6001\u89c4\u5212\u3002\n\n\u5bf9\u4e8e\u4e00\u4e2a\u5df2\u5173\u533a\u95f4\uff08i\uff0cj\uff09\uff0c\u6700\u540e\u8001\u5f20\u4e00\u5b9a\u505c\u5728i\u6216\u8005j\u4e0a\uff0c\u56e0\u4e3a\u5728\u4ecei\u5230j\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5176\u5b83\u6240\u6709\u70b9\u4e00\u5b9a\u78b0\u5230\u8fc7\u4e86\uff08\u5f53\u7136\u4e5f\u53ef\u4ee5\u662f\u4ecej\u5230i\uff0c\u539f\u7406\u540c\uff09\u3002\n\n\u90a3\u4e48\u5c31\u53ef\u4ee5\u5199\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e86\uff08f[i\uff0cj\uff0c1]\u8868\u793a\u5173\u4e86i\u5230j\u7684\u706f\u5e76\u505c\u5728i\uff0cf[i\uff0cj\uff0c2]\u8868\u793a\u505c\u5728j,dist(i,j)\u8868\u793a\u4ecei\u5230j\u7684\u8ddd\u79bb,sum(i,j)\u8868\u793a\u4ecei\u5230j\u7684\u706f\u7684\u529f\u7387\u548c\uff09\uff1a\n\nf[i\uff0cj\uff0c1]=min\uff08f[i+1\uff0cj\uff0c1]+dist\uff08i\uff0ci+1\uff09\\*sum\uff08i+1\uff0cj\uff09\uff0cf[i+1\uff0cj\uff0c2]+dist\uff08i\uff0cj\uff09\\*sum\uff08i+1\uff0cj\uff09\uff09\n\nf[i\uff0cj\uff0c2]=min\uff08f[i\uff0cj-1\uff0c1]+dist\uff08i\uff0cj\uff09\\*sum\uff08i\uff0cj-1\uff09\uff0cf[i\uff0cj-1\uff0c2]+dist\uff08j-1\uff0cj\uff09\\*sum\uff08i\uff0cj-1\uff09\uff09\n\n\u7136\u540e\u5c31\u5f88\u7b80\u5355\u4e86\u3002\n\n```pascal\nconst\n  inf=1000000;  //\u5927\u70b9\u7684\u521d\u59cb\u503c\nvar\n  a,b,w:array[0..50] of longint;  //w\u662f\u524d\u7f00\u548c\u6570\u7ec4\n  f:array[1..50,1..50,1..2] of longint;  //f\u6570\u7ec4\u7528\u9014\u540c\u4e0a\n  n,p,i,j,k,t:longint;\nfunction min(a,b:longint):longint;\n  begin\n    if a<b then exit(a)\n    else exit(b)\n  end;\nbegin\n  readln(n,p);\n  for i:=1 to n do readln(a[i],b[i]);\n  w[0]:=0;\n  for i:=1 to n do w[i]:=w[i-1]+b[i];  //\u524d\u7f00\u548c\n  for i:=1 to n do begin\n    f[i,i,1]:=inf;\n    f[i,i,2]:=inf\n  end;  //\u8bbe\u521d\u59cb\u503c\uff08\u5176\u5b9e\u6ca1\u5fc5\u8981\uff09\n  f[p,p,1]:=0;\n  f[p,p,2]:=0;  //\u521d\u59cb\u5316\u641e\u5b9a\uff01\n  for i:=2 to n do\n    for j:=1 to n-i+1 do begin\n      k:=i+j-1;\n      t:=w[n]-w[k]+w[j];\n      f[j,k,1]:=min(f[j+1,k,1]+(a[j+1]-a[j])*t,f[j+1,k,2]+(a[k]-a[j])*t);\n      t:=w[n]-w[k-1]+w[j-1];\n      f[j,k,2]:=min(f[j,k-1,1]+(a[k]-a[j])*t,f[j,k-1,2]+(a[k]-a[k-1])*t)\n    end;  //\u72b6\u6001\u8ba1\u7b97\n  write(min(f[1,n,1],f[1,n,2]))  //\u6ce8\u610f\uff0c\u6700\u540e\u6709\u4e24\u79cd\u53ef\u80fd\uff01\nend.\n```",
        "postTime": 1508659778,
        "uid": 57926,
        "name": "Thinking",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "# P1220 \u5173\u8def\u706f \u9898\u89e3\n\nPart 1\uff1a\u7a0d\u5fae\u5bf9\u67d0\u4e00\u4e9b\u8bc4\u8bba\u505a\u4e0b\u89e3\u91ca\n------------\n\n\n**1. \u6c42\u524d\u7f00\u548c\u4ee5\u53ca\u67e5\u8be2\u7684\u4e00\u4e9b\u76f8\u5173\u95ee\u9898**\n\n```cpp\n  inline int count(int l, int r, int i, int j) {\n      return (sum[l] + sum[n] - sum[r - 1]) * (d[j] - d[i]);\n  } \n```\n\n\u95ee\uff1a\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u662f $r-1$ \u5462\uff1f\n\n\u7b54\uff1a\u6211\u4eec\u6765**\u6a21\u62df\u4e00\u4e0b\u524d\u7f00\u548c**\u5c31\u6e05\u695a\u4e86\uff1a\n\n\u8bbe$S_5=a_1+a_2+a_3+a_4+a_5$ $S_1=a_1$ $S_2=a_1+a_2$\n\n\u90a3\u4e48$a_2-a_5$\u7684\u548c$=?$ \u4e0d\u96be\u53d1\u73b0\uff0c\u5176\u503c$=S_5-S_1$\uff0c\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u662f$r-1$\u7684\u539f\u56e0\u4e86\u3002\n\n**\u5982\u679c\u4ece\u7406\u8bba\u4e0a\u5206\u6790**\uff1a\u56e0\u4e3a$S_i$\u5305\u542b\u4e86\u4ece$1$\u5230$i$\u7684\u524d\u7f00\u548c\uff0c\u800c$i$\u5230$k(k>=i)$\u7684\u548c\u662f\u8981\u5305\u62ec$a_i$\u7684\uff0c\u4f46\u662f$S_k-S_i$\u5374\u6ca1\u6709\u5305\u62ec$a_i$\uff0c\u6240\u4ee5\u5c31\u662f\u8fd9\u4e48\u5199\u3002\n\n**2. \u4e3a\u4ec0\u4e48\u8981\u7ed9f\u6570\u7ec4\u8d4b\u4e00\u4e2a\u6781\u5927\u503c\u548c\u8d4b\u503c\u7684\u4e00\u4e9b\u76f8\u5173\u95ee\u9898**\n\n\u95ee1\uff1a\u4e3a\u4ec0\u4e48\u8d4b\u6700\u5927\u503c\uff1a\u8fd9\u4e2a\u662f\u663e\u800c\u6613\u89c1\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u7684$dp$\u8fc7\u7a0b\u6c42\u7684\u662f\u6700\u5c0f\u503c\uff0c\u800c\u8fd9\u4e2a\u6700\u5c0f\u503c\u5f88\u660e\u663e\u662f\u5927\u4e8e0\u7684\uff0c\u800c**f\u6570\u7ec4\u7684\u521d\u503c\u662f0**\uff0c\u6240\u4ee5\u4e0d\u5c0f\u5fc3\u6211\u4eec\u5c31\u4f1a\u53d6\u5230\u8fd9\u4e2a0(~~\u5927\u6982\u662f\u8fd9\u6837\u5427~~\uff0c~~\u8fd9\u4e2a\u95ee\u9898\u6709\u70b9\u6d45\u663e~~)\n\n\u95ee2\uff1a\n```cpp\n  memset(f,127,sizeof(f);\n```\n\u8fd9\u53e5\u8bdd\u4ec0\u4e48\u610f\u601d\uff1f\n\n$f$\u662f$int$\u7c7b\u578b\u7684\u6570\u7ec4\uff0c\u80fd\u8d4b$4$\u79cd\u503c\uff1a$0$\u3001$-1$\u3001\u6781\u5c0f\u503c\u3001\u6781\u5927\u503c\n\n\u90a3\u8fd9\u91cc**127\u5bf9\u5e94\u7684\u5c31\u662f\u6781\u5927\u503c**\u4e86\uff0c\u5f53\u7136\u6211\u7528\u7684\u662f**0x3f**\n\n\n----------------\u4ee5\u4e0a\u662f\u5bf9\u6211\u770b\u5230\u7684\u95ee\u9898\u7684\u89e3\u7b54----------------\n\n------------\n\nPart 2\uff1a\u95ee\u9898\u89e3\u7b54\u5b8c\u6bd5\uff0c\u601d\u8def\u8fd8\u662f\u8981\u8bb2\u7684\n------------\n\u9898\u76ee\u5f88\u660e\u663e\uff0c\u6211\u4eec**\u5b9a\u4e49**\uff1a\n\n1. $f[i][j][0]$\u8868\u793a\u4ece$i-j$\u8017\u8d39\u7684\u6700\u5c0f\u7535\u529b\u5e76\u4e14\u5f53\u524d\u7ad9\u5728$i$\u5904\uff1b\n1. $f[i][j][1]$\u8868\u793a\u4ece$i-j$\u8017\u8d39\u7684\u6700\u5c0f\u7535\u529b\u5e76\u4e14\u5f53\u524d\u7ad9\u5728$j$\u5904\uff1b\n\n**\u76ee\u6807\u72b6\u6001**\uff1a$min(f[1][n][0],f[1][n][1])$\n\n\u8fd9\u4e0d\u5c31\u5f88\u660e\u786e\u4e86\u5417\uff1f\n\n\u6211\u4eec\u77e5\u9053\u8d77\u70b9$c$\uff0c\u90a3\u6211\u4eec\u7531$c$\u5f00\u59cb\u5411\u4e24\u8fb9\u8d70\u5c31\u884c\u4e86\uff0c**\u5411\u53f3\u662f\u6b63\u5411\u7684\uff0c\u6240\u4ee5\u5411\u53f3\u7684\u72b6\u6001\u9700\u8981\u6b63\u5e8f\u641c\u7d22**\uff0c$f[l][r]$\u662f\u7531\u4e0a\u4e00\u6b65$f[l][r-1]$\u8f6c\u79fb\u6765\u7684\uff0c\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n```cpp\n  k1 = f[l][r - 1][0] + count(l - 1, r, l, r);\n  k2 = f[l][r - 1][1] + count(l - 1, r, r - 1, r);\n  f[l][r][1] = std::min(k1, k2);\n  //k1 k2 \u53ea\u662f\u4e3a\u4e86\u8ba9\u4ee3\u7801\u4e0d\u90a3\u4e48\u957f\uff0ccount\u51fd\u6570\u4e0a\u6587\u5199\u4e86;\n```\n**\u5411\u5de6\u5c31\u662f\u53cd\u5411\uff0c\u5012\u5e8f\u641c\u7d22**\uff0c$f[l][r]$\u662f\u7531$f[l+1][r]$\u8f6c\u79fb\u6765\u7684\uff0c\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n```cpp\n  k1 = f[l + 1][r][0] + count(l, r + 1, l, l + 1);\n  k2 = f[l + 1][r][1] + count(l, r + 1, l, r);\n  f[l][r][0] = std::min(k1, k2);\n```\n**\u601d\u8def\u5230\u6b64\u4e3a\u6b62\uff0c\u5230\u8fd9\u91cc\u5c31\u8db3\u591fAC\u4e86\u3002**\n\n\n------------\n\npart 3\uff1a\u4e0b\u9762\u662f$Show$ $Time$\n------------\n~~**\u81ea\u4ece\u89c2\u6469\u4e86\u67d0\u7bc7std\u540e\u7801\u98ce\u5927\u53d8\uff08\u6e90\u4e8e\u5bf9Dalao\u7684\u5d07\u62dc\uff09**~~\n\n\u601d\u8def\u4e0a\u9762\u8bb2\u7684\u5f88\u6e05\u695a\u4e86\uff0c\u4e0b\u9762\u4ee3\u7801\u5c31\u4e0d\u518d\u8d58\u8ff0\u4e86\n\n```cpp\n#include<bits/stdc++.h>\n\ntemplate <class T>\ninline void read(T &x) {\n\tstatic char c;\n\tstatic bool op;\n\twhile(!isdigit(c = getchar()) && c != '-');\n\tx = (op = c == '-')? 0 : c - '0';\n\twhile(isdigit(c = getchar()))\n\t\tx = x * 10 + c - '0';\n\tif(op) x = ~x + 1;\n}\n\ntemplate <class T>\nvoid putint(T x) {\n\tstatic char buf[15], *tail = buf;\n\tif(!x) putchar('0');\n\telse {\n\t\tif(x < 0) putchar('-'), x = ~x + 1;\n\t\tfor(; x; x /= 10) *++tail = x % 10 + '0';\n\t\tfor(; tail != buf; --tail) putchar(*tail);\n\t}\n\tputchar('\\n');\n}\n\nconst int N = 55;\nint n, c, ans;\n\nnamespace DP {\n\tstatic int d[N],sum[N];\n\tstatic int f[N][N][2];\n\tvoid in() {\n\t\tstd::memset(sum, 0, sizeof(sum));\n\t\tread(n), read(c); \n\t\tfor(int i = 1; i <= n; ++i) {\n\t\t\tread(d[i]), read(sum[i]);\n\t\t\tsum[i] += sum[i - 1];\n\t\t}\n\t}\n\tinline int count(int l, int r, int i, int j) {\n\t\treturn (sum[l] + sum[n] - sum[r - 1]) * (d[j] - d[i]);\n\t} \n\tvoid solve(int &ans) {\n\t\tstd::memset(f, 0x3f, sizeof(f));   \n\t\tf[c][c][0] = f[c][c][1] = 0;\n        \n\t\tfor(int r = c; r <= n; ++r) {\n\t\t\tfor(int l = r - 1; l; --l) {\n\t\t\t\tint k1, k2;\n                \n\t\t\t\tk1 = f[l + 1][r][0] + count(l, r + 1, l, l + 1);\n\t\t\t\tk2 = f[l + 1][r][1] + count(l, r + 1, l, r);\n\t\t\t\tf[l][r][0] = std::min(k1, k2);\n\t\t\t\t\n\t\t\t\tk1 = f[l][r - 1][0] + count(l - 1, r, l, r);\n\t\t\t\tk2 = f[l][r - 1][1] + count(l - 1, r, r - 1, r);\n\t\t\t\tf[l][r][1] = std::min(k1, k2);\n\t\t\t}\n\t\t}\n\t\tans = std::min(f[1][n][1], f[1][n][0]);\n\t}\n} \n\nusing DP::in;\nusing DP::solve;\n\nint main() {\n\tin();\n\tsolve(ans);\n\tputint(ans);\n\treturn 0;\n}\n```\n\nEnd\n------------\n~~\u8d70\u8fc7\u8def\u8fc7**\u70b9\u4e2a\u8d5e**\u5457QAQ~~\n\n",
        "postTime": 1560528463,
        "uid": 196649,
        "name": "xiejinhao",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "**\u9996\u5148\uff0c\u819c\u697c\u4e0b\u5199DP\u7684\u5927\u795e\u3002**\n\n\u5728\u6211\u4eec\u5c0f\u6d4b\u65f6\uff0c\u8fd9\u9053\u9898\u6211\u60f3\u4e86\u597d\u4e45\u5e76\u6ca1\u6709\u60f3\u5230\u4ec0\u4e48DP\uff0c\u6240\u4ee5\u5f03\u7597\uff0c\u5199\u4e86\u4e2a\u8d2a\u5fc3\uff0c50\u3002\u7136\u800c\u540e\u6765\u6211\u540e\u6094\u4e86\uff0c\u56e0\u4e3a\u8fd9\u9898DFS\u662f\u80fd\u8fc7\u7684\uff0c\u56e0\u4e3a\u6bcf\u6b21\u5173\u706f\u4e00\u5b9a\u662f\u5173\u65c1\u8fb9\u8fd8\u4eae\u7740\u7684\u706f\u3002\u5982\u679c\u4f60\u8d8a\u8fc7\u53bb\u4e0d\u5173\u7684\u8bdd\uff0c\u90a3\u4e48\u6211\u4e5f\u6ca1\u8bdd\u8bf4\u4e86\u3002\n\n\u6240\u4ee5\u8fd9\u9898DFS\u662f100\uff0c\u800c\u4e14\u662f0ms\u3002\n\n\n```cpp\n\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nconst int maxn=59;\nconst int INF=1e9;\n\nint w[maxn],g[maxn],n,c,ans=INF;\nbool vis[maxn];\n\nint Abs(int x){\n    if(x<0)return -x;\n    return x;\n}\n\nvoid Dfs(int x,int sum,int tot,int y){\n    if(sum>ans)return;\n    if(y>=n){\n        ans=sum;\n        return;\n    }\n    \n    int l=x,r=x;\n    while(!vis[l]&&l>=1)l--;\n    while(!vis[r]&&r<=n)r++;\n    \n    if(l>=1){\n        vis[l]=false;\n        Dfs(l,sum+tot*Abs(w[x]-w[l]),tot-g[l],y+1);\n        vis[l]=true;\n    }\n    \n    if(r<=n){\n        vis[r]=false;\n        Dfs(r,sum+tot*Abs(w[x]-w[r]),tot-g[r],y+1);\n        vis[r]=true;\n    }\n    \n    return;\n}\n\nint main()\n{\n    int tot=0;\n    \n    scanf(\"%d%d\",&n,&c);\n    for(int i=1;i<=n;i++){\n        scanf(\"%d%d\",&w[i],&g[i]);\n        tot+=g[i];\n    }\n    \n    memset(vis,true,sizeof(vis));\n    \n    vis[c]=false;\n    \n    Dfs(c,0,tot-g[c],1);\n    \n    printf(\"%d\\n\",ans);\n    \n    return 0;\n}\n\n```",
        "postTime": 1440210693,
        "uid": 5680,
        "name": "\u4e0a\u8fdb\u7684z\u541b",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u6765\u4e2a\u52a8\u6001\u89c4\u5212\u7684\u9898\u89e3\u3010\u5475\u5475\u3011\n\n\u3010\u9898\u76ee\u5927\u610f\u3011\n\n\u6bcf\u5929\u65e9\u6668\u4ed6\u5fc5\u987b\u5173\u6389\u4ed6\u6240\u5728\u6751\u5e84\u7684\u8857\u706f\u4ee51m/s\u7684\u901f\u5ea6\u884c\u8d70\u3002\u5173\u706f\u4e0d\u9700\u8981\u82b1\u8d39\u989d\u5916\u7684\u65f6\u95f4\uff0c\u5728\u8017\u80fd\u603b\u6570\u6700\u5c11\u7684\u60c5\u51b5\u4e0b\u5c06\u6240\u6709\u7684\u706f\u5173\u6389\uff0c\u6c42\u6700\u5c0f\u7684\u8017\u80fd\u3002\n\n\u3010\u7b97\u6cd5\u8ba8\u8bba\u3011\n\n\u8fd9\u9053\u9898\u91c7\u7528\u52a8\u6001\u89c4\u5212\u7684\u601d\u60f3\uff0c\u7528f[i][j][0]\u8868\u793a\u5173\u4e86[I,j]\u8fd9\u4e2a\u533a\u95f4\u7684\u706f\uff0c\u6700\u540e\u5173\u7684\u662f\u7b2ci\u76cf\uff1bf[i][j][1]\u8868\u793a\u5173\u4e86[I,j]\u8fd9\u4e2a\u533a\u95f4\u7684\u706f\uff0c\u6700\u540e\u5173\u7684\u662f\u7b2cj\u76cf\u3002Mon[i]\u8868\u793a\u4ece1\u5230i\u7684\u706f\u7684\u8d39\u7528\u3002\u672awz[i]\u8868\u793a\u7b2ci\u76cf\u706f\u7684\u4f4d\u7f6e\u3002\u52a8\u5f52\u5f0f\u5982\u4e0b\uff1a\n\nf[i][j][0]=min(f[i+1][j][0]+(mon[n]-(mon[j]-mon[i]))\\*(wz[i+1]-wz[i]),f[i+1][j][1]+(mon[n]-(mon[j]-mon[i]))\\*(wz[j]-wz[i]));\n\nf[i][j][1]=min(f[i][j-1][0]+(mon[n]-(mon[j-1]-mon[i-1]))\\*(wz[j]-wz[i]),f[i][j-1][1]+(mon[n]-(mon[j-1]-mon[i-1]))\\*(wz[j]-wz[j-1]));\n\n\u5f97\u5206\uff1a100\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO(N^2)\n\n\u7a7a\u95f4\u590d\u6742\u5ea6\uff1aO(N\\*N\\*2+2\\*N)\n\n```cpp\n\n#include<iostream>\n#include<cstdlib>\n#include<cstdio>\nusing namespace std;\nint f[1001][1001][2];\nint n,wz[1001],mon[1001],v;\nint main ()\n{\n    scanf (\"%d%d\",&n,&v);\n    for (int b=1;b<=n;++b){scanf(\"%d%d\",&wz[b],&mon[b]);mon[b]+=mon[b-1];}\n    memset(f,127,sizeof(f));\n    f[v][v][0]=f[v][v][1]=0;\n    for (int j=v;j<=n;++j)\n    {\n        for (int i=j-1;i>=1;--i)\n        {\n            f[i][j][0]=min(f[i+1][j][0]+(mon[n]-(mon[j]-mon[i]))*(wz[i+1]-wz[i]),\n                           f[i+1][j][1]+(mon[n]-(mon[j]-mon[i]))*(wz[j]-wz[i]));\n            f[i][j][1]=min(f[i][j-1][0]+(mon[n]-(mon[j-1]-mon[i-1]))*(wz[j]-wz[i]),\n                           f[i][j-1][1]+(mon[n]-(mon[j-1]-mon[i-1]))*(wz[j]-wz[j-1]));\n        }\n        \n    }\n    printf (\"%d\",min(f[1][n][0],f[1][n][1]));\n    return 0;\n}\n\n```\n\u901f\u5ea6\uff01\uff01\uff01\uff01\uff01\n",
        "postTime": 1437621965,
        "uid": 171,
        "name": "Timothy",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u6807\u7b7e\uff1a\u533a\u95f4dp\u3002\n\n1. \u72b6\u6001\u91cf\n\n\u8bbe\uff1a$f[i][j][0 / 1]$ \u662f\u5728\u533a\u95f4$[i, j]$\u5185\u8001\u738b\u5728\u5de6\u7aef\u70b9$(0)$\u548c\u53f3\u7aef\u70b9$(1)$\u7684\u60c5\u51b5\u3002\n\n2. \u8f6c\u79fb\u65b9\u7a0b\u3002\n\n\u7531\u72b6\u6001\u91cf\u5b9a\u4e49\u53ef\u5f97\uff0c\u6211\u4eec\u8fdb\u884c\u8f6c\u79fb\u662f\uff0c\u4e00\u5b9a\u662f\u4ece\u8fd9\u4e2a\u533a\u95f4\u5c11\u4e00\u4e2a\u8def\u706f\u7684\u533a\u95f4\u6765\u8fdb\u884c\u8f6c\u79fb\u3002\u4e8e\u662f\u6709\uff1a\n\n$$f[i][j][0] = min \\begin{cases}\n\tf[i+1][j][0] + dis(i, i + 1) * \n\t\\sum_{i = 1, i \\not \\in [i + 1, j]}^{n}\n    P[i]\n    \\\\\n    f[i+1][j][1] + dis(i, j) * \n\t\\sum_{i = 1, i \\not \\in [i + 1, j]}^{n}\n    P[i]\n    \\\\\n    \\end{cases}$$\n$$f[i][j][1] = min \\begin{cases}\n\tf[i][j - 1][1] + dis(j - 1, j) * \n\t\\sum_{i = 1, i \\not \\in [i, j - 1]}^{n}\n    P[i]\n    \\\\\n    f[i+1][j][1] + dis(i, j) * \n\t\\sum_{i = 1, i \\not \\in [i, j - 1]}^{n}\n    P[i]\n    \\\\\n    \\end{cases}$$\n    \n3. **\u7279\u522b\u6ce8\u610f**\n\n(1)\u5f53\u4e14\u4ec5\u5f53\uff0c$ i <= c \\ and \\  c <= j$\u65f6\uff0c \u53ef\u4ee5\u8f6c\u79fb\uff0c \u4e0d\u7136\u5c31\u662finf\u3002\n\u81f3\u4e8e\u4e3a\u4ec0\u4e48\uff0c\u81ea\u5df1\u8111\u8865\u4e00\u4e0b\u8001\u738b\u884c\u8d70\u65f6\u7684\u753b\u9762(\u77ac\u79fb)\n\n(2)\u5173\u4e8e\u6211\u4e00\u5f00\u59cb\u505a\u8fd9\u9053\u9898\u65f6\u6ca1\u6709\u8fc7\u6765\u7684\u70b9\u3002\n\n```cpp\n-> f[b][e][0] sum[n] - sum[e] + sum[b]\n-> f[b][e][1] sum[n] - sum[e - 1] + sum[b - 1]\n```\n\u540e\u6765\u60f3\u4e86\u4e00\u4e0b\uff0c \u662f\u56e0\u4e3a\u5728\u8f6c\u79fb\u7684\u8fc7\u7a0b\u4e2d\uff0ci\uff0c \u6216j\u7aef\u540c\u6837\u5728\u8017\u80fd\u3002\n\n4. \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn = 100 + 5;\nint n, c;\nint p[maxn], w[maxn], sum[maxn];\nint f[maxn][maxn][2]; \nint main(){\n\tcin >> n >> c;\n\tfor(int i = 1;i <= n;i ++){\n\t\tcin >> p[i] >> w[i];\n\t\tsum[i] = sum[i - 1] + w[i];\n\t}\n\t\n\tfor(int i = 1;i <= n;i ++){\n\t\tfor(int b = 1, e; (e = b + i - 1) <= n;b ++){\n\t\t\tif(b <= c && e >= c){\n\t\t\t\tf[b][e][0] = min (\n\t\t\t\t\tf[b + 1][e][0] + (p[b + 1] - p[b]) * (sum[n] - sum[e] + sum[b]),\n\t\t\t\t\tf[b + 1][e][1] + (p[e] - p[b]) * (sum[n] - sum[e] + sum[b])\n\t\t\t\t);\n\t\t\t\tf[b][e][1] = min (\n\t\t\t\t\tf[b][e - 1][1] + (p[e] - p[e - 1]) * (sum[n] - sum[e - 1] + sum[b - 1]),\n\t\t\t\t\tf[b][e - 1][0] + (p[e] - p[b]) * (sum[n] - sum[e - 1] + sum[b - 1])\t\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tf[b][e][0] = f[b][e][1] = 1e9;\n\t\t\t}\n\t\t}\n\t}\n\tcout << min(f[1][n][0], f[1][n][1]) << endl;\n\treturn 0;\n} \n```\n\n[BLOG\u89c2\u770b](https://www.luogu.org/blogAdmin/article/edit/184221)\n",
        "postTime": 1572170010,
        "uid": 39993,
        "name": "\u5143\u5915",
        "ccfLevel": 0,
        "title": "\u5173\u8def\u706f"
    },
    {
        "content": "\u5165\u53e3\uff1a[P1220](https://www.luogu.org/problemnew/show/P1220)\n\n\u9996\u5148\uff0c\u6211\u4eec\u4e86\u89e3\u4e00\u4e0b\u533a\u95f4dp\uff1a\u533a\u95f4dp\u5c31\u662f\u5728\u533a\u95f4\u4e0a\u8fdb\u884c\u52a8\u6001\u89c4\u5212\uff0c\u6c42\u89e3\u4e00\u6bb5\u533a\u95f4\u4e0a\u7684\u6700\u4f18\u89e3\u3002\u4e3b\u8981\u662f\u901a\u8fc7\u5408\u5e76\u5c0f\u533a\u95f4\u7684 \u6700\u4f18\u89e3\u8fdb\u800c\u5f97\u51fa\u6574\u4e2a\u5927\u533a\u95f4\u4e0a\u6700\u4f18\u89e3\u7684dp\u7b97\u6cd5\u3002\n\n\u56de\u5230\u539f\u9898\uff0c\u5bf9\u4e8e\u6c42\u89e3\u533a\u95f4(1,n)\u7684\u6700\u4f18\u89e3\uff0c\u6c42\u533a\u95f4(2,n)\u6216(1\uff0cn-1)\u7684\u6700\u4f18\u89e3**\u4f3c\u4e4e**\u7b80\u5355**\u4e00\u70b9\u70b9**~~\u6211\u8ba4\u4e3a\u4e00\u70b9\u90fd\u4e0d\u7b80\u5355~~\u3002\u4e8e\u662f\u53ef\u4ee5\u8fd9\u6837\u60f3\u8001\u5f20\u7684\u4f4d\u7f6e\u5728k\uff0c\u90a3\u4e48\u6211\u4eec\u8981\u6c42\u89e3\u7684\u5c31\u662f\u533a\u95f4(1,k)\u548c(k+1,n)\u7684\u6700\u4f18\u89e3\u8fd9\u4e48\u60f3\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f00\u51fadp\u6570\u7ec4\uff1a\n```cpp\ndp[i][j]\n```\n\u8868\u793a\u533a\u95f4\uff08i,j\uff09\u7684\u6700\u4f18\u89e3\uff0c\u90a3\u5728\u8fd9\u65f6\uff0c\u95ee\u9898\u5c31\u6765\u4e86\uff1a\u8001\u5f20\u5728\u5de6\u7aef\u548c\u53f3\u7aef\u7684\u6700\u4f18\u89e3\u6709\u53ef\u80fd\u4e0d\u4e00\u6837\u554a\u3002\n\n\u90a3\u4e0d\u4f1a\u6709\u4ec0\u4e48\u95ee\u9898\u7684\uff0c\u6211\u4eec\u53ea\u8981\u5f00\u4e00\u4e2a\u4e09\u7ef4\u7684dp\u6570\u7ec4\uff0c\u7b2c\u4e09\u4f4d\u4e3a0\u62161\u5c31\u53ef\u4ee5\u4e86\u3002\u5f53\u7b2c\u4e09\u4f4d\u662f0\u65f6\uff0c\u8bf4\u660e\u8001\u5f20\u7684\u4f4d\u7f6e\u5728\u533a\u95f4\u7684\u5de6\u7aef\uff0c\u5982\u679c\u7b2c\u4e09\u4f4d\u662f1\u7684\u8bdd\uff0c\u8001\u5f20\u7684\u4f4d\u7f6e\u5c31\u5728\u533a\u95f4\u7684\u53f3\u7aef\u3002\n\n\u90a3\u4e48\u6570\u7ec4\u5df2\u7ecf\u5f00\u597d\u4e86\uff0c\u90a3\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5462\uff1f\n\n\u56e0\u4e3a\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u72b6\u6001\uff0c\u8001\u5f20\u90fd\u6709\u4e24\u79cd\u9009\u62e9\uff1a\u5411\u5de6\u548c\u5411\u53f3\u3002\u5bf9\u4e8e\u5411\u5de6\u548c\u5411\u53f3\u4e24\u4e2a\u95ee\u9898\uff0c\u5728\u53f3\u7aef\u663e\u7136\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a\n```cpp\ndp[i][j][0]=min(dp[i+1][j][0]+\u4e0a\u4e2a\u533a\u95f4\u6d88\u8017\u7684\u7535,dp[i+1][j][1]+\u4e0a\u4e2a\u533a\u95f4\u6d88\u8017\u7684\u7535);\ndp[i][j][1]=min(dp[i][j-1][0]+\u4e0a\u4e2a\u533a\u95f4\u6d88\u8017\u7684\u7535,dp[i][j-1][1]+\u4e0a\u4e2a\u533a\u95f4\u6d88\u8017\u7684\u7535);\n```\n\n\u7136\u540e\u6211\u4eec\u53c8\u8981\u5f15\u5165\u53e6\u4e00\u4e2a\u6982\u5ff5\uff1a\u524d\u7f00\u548c\n\n\u524d\u7f00\u548c\uff1a\u7ed9\u51fa\u4e00\u4e2a\u6570\u7ec4a[666],\u90a3\u4e48\u5b83\u7684\u524d\u7f00\u548c\u6570\u7ec4\u7684\u9012\u63a8\u5f0f\u4e3a\n```cpp\npre_a[n] = pre_a[n-1] + a[n] ;\n```\n\u524d\u7f00\u548c\u7684\u4f5c\u7528\uff1a\u964d\u7ef4\uff0c\u5728O\uff081\uff09\u7684\u65f6\u95f4\u91cc\u6c42\u51faa[i],a[i+1],\u2026\u2026\uff0ca[j]\u7684\u548c\u3002\n\n\u90a3\u8fd9\u4e00\u9898\u4e3a\u4ec0\u4e48\u8981\u7528\u524d\u7f00\u548c\u5462\uff1f\n\n\u6211\u4eec\u5728\u7b97\u4e0a\u4e00\u4e2a\u533a\u95f4\u6d88\u8017\u7684\u7535\u7684\u65f6\u5019\u56e0\u4e3a\u662f\u4e00\u4e2a\u533a\u95f4\uff0c\u5982\u679c\u6bcf\u4e00\u6b21\u90fd\u8981\u91cd\u65b0\u8ba1\u7b97\uff0c\u90a3\u7535\u8111\u5c82\u4e0d\u662f\u7d2f\u6b7b\uff1f\u6240\u4ee5\u6211\u4eec\u5f15\u5165\u4e86\u524d\u7f00\u548c\u8fdb\u884c\u4f18\u5316\u3002\n\n\u5269\u4e0b\u4e00\u4e9b\u7ec6\u8282\u5c31\u4e0d\u5fc5\u591a\u8bf4\u4e86\uff0c\u5927\u4f53\u4e0a\u601d\u8def\u5c31\u662f\u8fd9\u6837\u7684\u3002\n\ncode:\n\n```cpp\n#include<bits/stdc++.h>\n\n#define f(i,a,b) for(int i=a;i<=b;i++)\n\n#define ll long long\n\nusing namespace std;\n\nconst int MAXN=66;\n\nint n,c;\n\nint s[MAXN],w[MAXN];\n\nint dp[MAXN][MAXN][6];\n\nll ans;\n\nll fi(int i , int j , int x , int y )\n{\n\n    return ( s[j] - s[i] ) * ( w[x] + w[n] - w[y-1] ) ;\n\n}\n\nint main()\n{\n    int tmp[2];\n\n    cin >> n >> c;\n\n    memset(dp,666666,sizeof(dp));\n\n    dp[c][c][1]=dp[c][c][0]=0;\n\n    f( i , 1, n )\n    {\n        cin >> tmp[0] >> tmp[1] ;\n        s[i] = tmp[0] ;\n        w[i] = w[i-1] + tmp[1] ;\n    }\n\n    f( i , c , n )\n        for(int j = i - 1 ; j > 0 ; j -- )\n        {\n            dp[j][i][0] = min(dp[j+1][i][0] + fi(j,j+1,j,i+1) , dp[j+1][i][1] + fi(j,i,j,i+1) ) ;\n            dp[j][i][1] = min(dp[j][i-1][0] + fi(j,i,j-1,i) , dp[j][i-1][1] + fi(i-1,i,j-1,i) ) ;\n        }\n\n    ans = min(dp[1][n][0],dp[1][n][1]);\n\n    cout << ans << endl ;\n\n    system(\"pause\");\n\n    return 0;\n}\n```\n\u5176\u4ed6\u7ec6\u8282\u81ea\u5df1\u60f3\u4e00\u4e0b\u5427.",
        "postTime": 1561869010,
        "uid": 151911,
        "name": "Lwen1243",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "## \u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011   \n\n### \u7b80\u5355\u7684\u526a\u679d\u52a0dfs\u89e3\u6cd5\n\n\u7b2c\u4e00\u6b21\u53d1\u9898\u89e3\uff0c\u4e3b\u8981\u662f\u672c\u6765\u5199\u7684\u641c\u7d22TLE\u4e94\u4e2a\u70b9\uff0c\u52a0\u4e86\u4e00\u6761\u526a\u679dTLE\u4e24\u4e2a\u70b9\uff0c\u518d\u6539\u4e86\u4e00\u4e0b\u5c31\u8fc7\u4e86\uff0c\u800c\u4e14\u65f6\u95f4\u8d85\u7ea7\u77ed\u3002\u6709\u88ab\u5413\u5230\uff0c\u5206\u4eab\u4e00\u4e0b\n\n\u641c\u7d22\u601d\u8def\u5c31\u662f\u770b\u4e00\u4e0b\u5de6\u8fb9\u6709\u6ca1\u6709\u6ca1\u5173\u7684\uff0c\u627e\u6700\u8fd1\u7684\u70b9\uff0c\u641c\u7d22\u5b8c\u56de\u6765\u518d\u770b\u770b\u53f3\u8fb9\u6709\u6ca1\u6709\u6ca1\u5173\u7684\u70b9\uff0c\u627e\u6700\u8fd1\u7684\u70b9\uff0c\u8fd9\u6837\u5b50\u3002\n\n\u7136\u540e\u6211\u7b2c\u4e00\u6b21\u52a0\u7684\u5224\u5b9a\u662fif(sum>ans)return ;\u8fd9\u4e2a\u5f88\u597d\u7406\u89e3\uff0c\u5c31\u662f\u5f53\u524d\u8017\u7535\u5927\u4e8e\u7b54\u6848\uff0c\u526a\u6389\u3002\n\n\u7b2c\u4e8c\u6b21\u662fif(sum+\uff08\u5f53\u524d\u5df2\u7528\u7684\u65f6\u95f4\uff09*(\u5f53\u524d\u6ca1\u5173\u7684\u706f\u7684\u603b\u529f\u7387)>ans)return ;\u672c\u6765\u662f\u526a\u7740\u73a9\u7684\uff0c\u7ed3\u679c\u76f4\u63a5\u8fc7\u4e86\uff0c\u641c\u7d22\u4e07\u5c81~\\(\u2267\u25bd\u2266)/~\uff0c\u6211\u53bb\u5b66dp\u4e86~\u3002\n\nshow code\uff1a\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\nusing namespace std;\n\nint n,m,v[55],ans=0x7fffffff;\nstruct sty {int x,w;}a[55];\n\n  ///\u51fd\u6570\u53d8\u91cf\uff1a\u5f53\u524d\u4f4d\u7f6e\uff0c\u5df2\u7ecf\u5173\u4e86\u7684\u70b9\uff0c\u5f53\u524d\u65f6\u95f4\uff0c\u5f53\u524d\u603b\u8017\u7535\uff0c\u5f53\u524d\u6ca1\u5173\u7684\u706f\u7684\u603b\u529f\u7387\u3002\nvoid dfs(int now,int num,int t,int sum,int su)\n{\n    if(sum+su*t>=ans)return ;     ///\u8fd9\u91cc\u662f\u526a\u679d\n    if(num==n-1){ans=min(ans,sum);return ;}\n    for(int i=1;i<=n;++i){\n        if(now+i<=n&&!v[now+i]){\n            int t1=fabs(a[now].x-a[now+i].x);\n            v[now+i]=1;\n            dfs(now+i,num+1,t+t1,sum+a[now+i].w*(t+t1),su-a[now+i].w);\n            v[now+i]=0;\n            break;\n        }\n    }\n    for(int i=-1;i>=-n;--i)\n        if(now+i>=1&&!v[now+i]){\n            int t2=fabs(a[now].x-a[now+i].x);\n            v[now+i]=1;\n            dfs(now+i,num+1,t+t2,sum+a[now+i].w*(t+t2),su-a[now+i].w);\n            v[now+i]=0;\n            break;\n        }\n}\n\nint main()\n{\n    int i,j,k,su=0;\n    cin >> n >> m ;\n    for(i=1;i<=n;++i){\n        scanf(\"%d%d\",&a[i].x,&a[i].w);\n        if(i!=m)su+=a[i].w;///\u7edf\u8ba1\u9664\u4e86\u51fa\u751f\u70b9\u4ee5\u5916\u7684\u6240\u6709\u70b9\u7684\u603b\u529f\u7387\n    }\n    v[m]=1;\n    dfs(m,0,0,0,su);\n    cout << ans << endl ;\n    return 0;\n}\n\n///\u5c31\u662f\u8fd9\u6837\u5566\uff0cbye~\n```\n\n",
        "postTime": 1584610887,
        "uid": 269411,
        "name": "SCAU_Lnn",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "# ~~\u5f88\u6c34\u7684\u533a\u95f4dp~~\u9898\n\u8fd9\u9053\u9898\u76ee\u5f88\u660e\u663e\u662f\u4e00\u9053\u533a\u95f4DP\u7684\u9898\u76ee\uff0c\u5173\u4e8e\u52a8\u6001\u89c4\u5212\uff0c\u6211\u4eec\u6700\u91cd\u8981\u7684\u5c31\u662f\u8981\u627e\u5230\u5f53\u524d\u7684\u72b6\u6001\u662f\u600e\u4e48\u6837\u4ece\u4e0a\u4e00\u4e2a\u72b6\u6001\u4e2d\u8fc7\u6765\u7684\uff0cOK\uff0c\u5173\u4e8e\u8fd9\u9053\u9898\u76ee\u6211\u4eec\u5c31\u6765\u7ec6\u7ec6\u7684\u5206\u6790\u3002\n\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u533a\u95f4dp\u7684\u60ef\u7528\u5957\u8def\u8bbe\u51fa\u6765f[i][j]\u8868\u793a\u5c06\u4ecei\u5230j\u7684\u706f\u90fd\u5173\u4e0a\u65f6\u6240\u8981\u8017\u8d39\u6389\u7684\u7535\u80fd\u3002\n![](https://cdn.luogu.com.cn/upload/image_hosting/cj1u8cpq.png)\n~~\u56fe\u753b\u7684\u6709\u70b9\u4e11\uff0cqwqwq~~\n### \u72b6\u6001\u8868\u793a\u52a0\u4e00\u7ef4\n\u7ea2\u8272\u7bad\u5934\u6240\u8868\u793a\u7684\u4fbf\u662f\u8001\u738b\u6240\u5728\u7684\u4f4d\u7f6e\uff0c\u6211\u4eec\u5f88\u660e\u663e\u7684\u53ef\u4ee5\u770b\u51fa\u8001\u738b\u5728\u5173\u5b8c\u706f\u540e\u53ef\u80fd\u5728\u8fd9\u4e2a\u95ed\u533a\u95f4\u7684\u5de6\u8fb9\u4f4d\u7f6e\uff0c\u4e5f\u53ef\u80fd\u5728\u8fd9\u4e2a\u95ed\u533a\u95f4\u7684\u53f3\u8fb9\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u5728f\u4e2d\u52a0\u4e00\u7ef4\uff0cf[i][j][0]\u8868\u793a\u8001\u738b\u5728i\u5904\uff08\u5de6\u8fb9\u754c\uff09,f[i][j][1]\u8868\u793a\u8001\u738b\u5728j\u5904\uff08\u53f3\u8fb9\u754c\uff09\n\n### \u56db\u79cd\u4e0d\u540c\u7684\u8f6c\u79fb\u65b9\u5f0f\n#### \u60c5\u51b51\n![](https://cdn.luogu.com.cn/upload/image_hosting/tvuglpqw.png)\n\u84dd\u8272\u7bad\u5934\u8868\u793a\u8001\u738b\u76ee\u524d\u6240\u5728\u7684\u4f4d\u7f6e\uff0c\u7eff\u8272\u7bad\u5934\u8868\u793a\u8001\u738b\u8981\u5230\u8fbe\u7684\u4f4d\u7f6e\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u7b2c\u4e00\u4e2a\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n```cpp\n\tf[i][j][1]=min(f[i][j][1],f[i][j-1][1]+(d[j].pos-d[j-1].pos)*(tot-(qzh[j-1]-qzh[i-1])));\n```\ntot\u4ee3\u8868\u6240\u6709\u706f\u90fd\u6253\u5f00\u65f6\u7684\u529f\u7387\uff0c\n\nqzh[j-1]-qzh[i-1]\u4ee3\u8868i\u5230j-1\u8fd9\u4e2a\u95ed\u533a\u95f4\u7684\u706f\u7684\u529f\u7387\u3002\n\n\u8fd9\u6837\u5c31\u80fd\u5f97\u51fa\u8001\u738b\u5728\u79fb\u52a8\u65f6\u6709\u5269\u4f59\u7684\u706f\u6240\u6d88\u8017\u7684\u7535\u91cf\u3002\n\n\nd[j].pos\u4ee3\u8868\u7eff\u8272\u7bad\u5934\u7684\u5750\u6807\uff0cd[j-1].pos\u4ee3\u8868\u84dd\u8272\u7bad\u5934\u7684\u5750\u6807\uff0c\u76f8\u51cf\u4e5f\u5c31\u662f\u8001\u738b\u6240\u8981\u79fb\u52a8\u7684\u8ddd\u79bb\uff0c\u53c8\u56e0\u4e3a\u8001\u738b\u7684\u901f\u5ea6\u4e3a1m/s\uff0c\u6240\u4ee5\u8fd9\u4e5f\u5c31\u662f\u8001\u738b\u79fb\u52a8\u6240\u8981\u6d88\u8017\u7684\u65f6\u95f4\u3002\u5269\u4e0b\u7684\u5e94\u8be5\u4e5f\u5c31\u597d\u7406\u89e3\u4e86\u5427\u3002\n### \u60c5\u51b52\n![](https://cdn.luogu.com.cn/upload/image_hosting/31b8uqwu.png)\n\u8fd9\u6b21\u7eff\u8272\u7bad\u5934\u6307\u7684\u662f\u8001\u738b\u5f53\u524d\u6240\u5728\u7684\u4f4d\u7f6e\uff0c\u68d5\u8272\u662f\u8001\u738b\u8981\u5230\u8fbe\u7684\u4f4d\u7f6e\n```cpp\n\tf[i][j][0]=min(f[i][j][0],f[i+1][j][1]+(d[j].pos-d[i].pos)*(tot-(qzh[j]-qzh[i])));\n```\n\u68d5\u8272\u7bad\u5934\u6307\u7684\u662f\u8001\u738b\u6240\u8981\u5230\u8fbe\u7684\u4f4d\u7f6e\uff0c\n\u4e0d\u96be\u770b\u51fa\u53c8\u4e00\u4e2a\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u3002\n\uff08\u540e\u9762\u7684tot\uff0cqzh\u89e3\u91ca\u540c\u4e0a\uff09\n### \u60c5\u51b53\n![](https://cdn.luogu.com.cn/upload/image_hosting/2n048x1e.png)\n```cpp\nf[i][j][0]=min(f[i][j][0],f[i+1][j][0]+(d[i+1].pos-d[i].pos)*(tot-(qzh[j]-qzh[i])));\n```\n### \u60c5\u51b54\n![](https://cdn.luogu.com.cn/upload/image_hosting/5wz7qp4c.png)\n\n```cpp\n\tf[i][j][1]=min(f[i][j][1],f[i][j-1][0]+(d[j].pos-d[i].pos)*(tot-(qzh[j-1]-qzh[i-1]))); \n```\n\u6211\u76f8\u4fe1\u5404\u4f4d\u5946\u4f6c\u5c31\u4e0d\u9700\u8981\u6211\u8fd9\u4e2a\u5927\u849f\u84bb\u89e3\u91ca\u60c5\u51b53\u548c\u60c5\u51b54\u4e86\u3002\n\n\u6700\u540e\u4e00\u4e9b\u7ec6\u8282\u95ee\u9898\uff08\u4f46\u4e5f\u4e0d\u5bb9\u5ffd\u89c6\uff09\n\u4ee3\u7801\u4e2d\u89c1\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint tot;\nint qzh[100005];\nint f[1005][1005][2];\nstruct asd{\n\tint pos,w;\n}d[1000005];//\u7ed3\u6784\u4f53\uff1apos\u4ee3\u8868\u5750\u6807\uff0cw\u4ee3\u8868\u8017\u7535\u529f\u7387 \ninline int read()//\u5feb\u8bfb\u677f\u5b50 \n{\n   int s=0,w=1;\n   char ch;\n   ch=getchar();\n   while(ch>'9'||ch<'0')\n   {\n\t  if(ch=='-')\n\t {\n\t   w=-1;\n\t }\n\t   ch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t  s=(s<<1)+(s<<3)+(ch^48);\n\t  ch=getchar();}\n\t  return s*w;\n}\nint main()\n{\n\tint n,c;\n\tn=read();//\u8bfb\u5165\u6570\u636e\uff08\u5404\u4f4d\u5e94\u8be5\u90fd\u61c2\uff09\uff08\u6211\u591a\u5634\uff09 \n\tc=read();\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\td[i].pos=read();\n\t\td[i].w=read();\n\t\tqzh[i]=qzh[i-1]+d[i].w;//\u8bb0\u5f55\u524d\u7f00\u548c \n\t\ttot+=d[i].w;//\u8bb0\u5f55\u603b\u529f\u7387 \n\t}\n\tmemset(f,32,sizeof(f));//\u6ce8\u610f\uff1a\u628af\u6570\u7ec4\u521d\u59cb\u503c\u8d4b\u503c\u4e3a\u6bd4\u8f83\u5927\u7684\u6570\uff0c\u9632\u6b62\u540e\u9762min\u51fa\u9505 \n\tf[c][c][0]=0;//\u8fb9\u754c\u6761\u4ef6\uff0c\u8001\u738b\u6240\u5728\u7684\u5730\u65b9\u4e00\u5b9a\u662f\u79d2\u5173\u4e86\u7684 \n\tf[c][c][1]=0;\n\tfor(int len=1;len<n;len++)\n\t{\n\t\tfor(int i=1;i+len<=n;i++)\n\t\t{\n\t\t\tint j=i+len;\n\t\t\tf[i][j][0]=min(f[i][j][0],f[i+1][j][0]+(d[i+1].pos-d[i].pos)*(tot-(qzh[j]-qzh[i])));\n\t\t\tf[i][j][1]=min(f[i][j][1],f[i][j-1][1]+(d[j].pos-d[j-1].pos)*(tot-(qzh[j-1]-qzh[i-1]))); \n\t\t\tf[i][j][0]=min(f[i][j][0],f[i+1][j][1]+(d[j].pos-d[i].pos)*(tot-(qzh[j]-qzh[i])));\n\t\t\tf[i][j][1]=min(f[i][j][1],f[i][j-1][0]+(d[j].pos-d[i].pos)*(tot-(qzh[j-1]-qzh[i-1]))); \n\t\t}\n\t}\n\tint ans=min(f[1][n][0],f[1][n][1]);//\u5f97\u5230\u6700\u7ec8\u7ed3\u679c\uff0c\u56e0\u4e3a\u6709\u4e24\u79cd\u65b9\u5f0f\u628a\u706f\u90fd\u5173\u4e0a\uff0c\u6240\u4ee5\u8981\u627e\u4e00\u4e2a\u6700\u5c0f\u503c \n\tcout<<ans;\n\treturn 0;\n\n}\n\n\n\n```\n\u5982\u6709\u4e0d\u8db3\u4e4b\u5904\uff0c\u6073\u8bf7\u5404\u4f4d\u5927\u4f6c\u6307\u51fa\uff08\u4e0d\u80fd\u591f\u81ea\u79c1\u54e6/xyx,\u4e00\u5b9a\u8981\u8ba9\u5927\u5bb6\u5171\u540c\u63d0\u9ad8\uff09\uff01\uff01\uff01\n\n\n",
        "postTime": 1579265888,
        "uid": 183763,
        "name": "DeBruney",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "#  [\u9898\u89e3] P1220 \u5173\u8def\u706f\n\n\n[\u9898\u76ee\u94fe\u63a5](https://www.luogu.org/problem/P1220)\n\n\u7b97\u662f\u6bd4\u8f83\u7ecf\u5178\u7684\u4e00\u9053 \u533a\u95f4 dp \u95ee\u9898\u4e86\u5427\u3002\n\n\n\n### \u9898\u610f\n\n\u6709 n \u76cf\u8def\u706f\uff0c\u5728\u4e00\u5b9a\u7684\u4f4d\u7f6e\u4e0a\uff08\u968f\u5e8f\u53f7\u5355\u8c03\u9012\u589e\uff09\uff0c\u6bcf\u76cf\u8def\u706f\u6709\u4e00\u4e2a\u529f\u7387\u3002\u67d0\u4eba\u5728\u4e00\u4e2a\u521d\u59cb\u4f4d\u7f6e\uff08\u5728\u67d0\u76cf\u8def\u706f\u65c1\uff09\uff0c\u8981\u7528\u6700\u5c11\u7684\u82b1\u8d39\u4f7f\u6240\u6709\u706f\u90fd\u5173\u4e0a\u3002\n\n\n\n### \u601d\u8def\n\n\u770b\u4f3c\u6bd4\u8f83\u65e0\u5e8f\uff0c\u4f46\u5176\u5b9e\u4ed4\u7ec6\u60f3\u60f3\uff0c\u4f1a\u53d1\u73b0\u5982\u679c\u6ca1\u6709\u6574\u4e2a\u533a\u95f4\u53d6\uff0c\u5373\u4e24\u4e2a\u533a\u95f4\u4e2d\u95f4\u6709\u7a7a\uff0c\u90a3\u4e48\u4e00\u5b9a\u4e0d\u662f\u6700\u4f18\u89e3\uff01\u6bd5\u7adf\u5728\u56de\u6765\u7136\u540e\u53c8\u51fa\u53bb\u4f1a\u505a\u8bb8\u591a\u65e0\u7528\u529f\u3002\n\n\u6240\u4ee5\u6700\u597d\u662f\u6574\u4e2a\u533a\u95f4\u5730\u53d6\uff0c\u533a\u95f4 dp \u7684\u60f3\u6cd5\u6cb9\u7136\u800c\u751f\u3002\n\n\u5047\u8bbe dp\\[i]\\[j] \u662f\u5173\u5b8c $(i,j)$ \u95f4\u6240\u6709\u7684\u706f\uff0c\u7531\u4e8e\u6bcf\u6b21\u90fd\u662f\u6574\u4e2a\u533a\u95f4\u7684\u5173\uff0c\u90a3\u4e48\u6700\u540e\u4e00\u5b9a\u662f\u5728\u7aef\u70b9\uff08$i$ \u6216 $j$\uff09\u4e0a\u7684\u3002\n\n\u90a3\u518d\u8fdb\u4e00\u6b65\uff0c\u5b9a\u4e49 dp\\[i]\\[j]\\[0] \u8868\u793a\u53d6\u5b8c\u540e\u5728\u5de6\u7aef\u70b9 ( $i$ ) \u6240\u82b1\u8d39\u7684\u6700\u5c11\u4ee3\u4ef7\uff0cdp\\[i]\\[j]\\[1] \u8868\u793a\u53d6\u5b8c\u540e\u5728\u53f3\u7aef\u70b9 ( $j$ ) \u6240\u82b1\u8d39\u7684\u6700\u5c0f\u4ee3\u4ef7\u3002\n\n\u4e0d\u96be\u63a8\u51fa **\u8f6c\u79fb\u65b9\u7a0b**\uff1a\n\n```c++\ndp[i][j][0]=min(dp[i+1][j][0]+(a[i+1].c-a[i].c)*(a[n].w+a[i].w-a[j].w),\n                dp[i+1][j][1]+(a[j].c-a[i].c)*(a[n].w+a[i].w-a[j].w));\ndp[i][j][1]=min(dp[i][j-1][0]+(a[j].c-a[i].c)*(a[n].w+a[i-1].w-a[j-1].w),\n                dp[i][j-1][1]+(a[j].c-a[j-1].c)*(a[n].w+a[i-1].w-a[j-1].w));\n```\n\n \u5176\u4e2d\uff1aa[i].c \u4e3a\u7b2c i \u76cf\u706f\u4f4d\u7f6e\uff0ca[i].w \u4e3a\u524d i \u4e2a\u706f\u7684\u603b\u529f\u7387\uff08\u524d\u7f00\u548c\u5904\u7406\uff09\u3002\n\n\n\n### \u4ee3\u7801\n\nAC Code: \n\n```c++\n//\n//  P1220 \u5173\u8def\u706f.cpp\n//  OI\n//\n//  Created by USER on 2019/10/26.\n//  Copyright \u00a9 2019\u5e74 USER. All rights reserved.\n//\n\n#include <bits/stdc++.h>\n\n#define fo(i,x,y) for(int i=(x);i<=(y);i++)\n#define dfo(i,x,y) for(int i=(x);i>=(y);i--)\n#define cl(f,x) memset(f,x,sizeof(f))\n#define lli long long\n#define int long long\n\nusing namespace std;\n\nconst int sz=2333;\nconst int infm=2147483647;\n\nstruct hp {\n    int c,w;\n}a[sz];\n\nbool cmp(hp a,hp b) {return a.c<b.c;}\n\nvoid re(int &x) {\n    x=0;char ch=getchar();bool t=0;\n    while(ch<'0' || ch>'9') t|=(ch=='-'),ch=getchar();\n    while(ch>='0' && ch<='9') x=x*10+ch-'0',ch=getchar();\n    x=t?-x:x;\n}\n\nint cxkmin(int a,int b) {\n//    if(a==-1) return b;\n    return min(a,b);\n}\n\nint n;\n\ninline int ca(int u,int v,int i,int j) {\n    return (a[u].c-a[v].c)*(a[n].w-a[j-1].w+a[i-1].w);\n}\n\nint cc,dp[sz][sz][2];\n\nsigned main() {\n    cl(dp,0x7f);\n    re(n),re(cc);\n    fo(i,1,n) {\n        re(a[i].c),re(a[i].w);\n    }\n//    sort(a+1,a+n+1,cmp);\n    fo(i,1,n) a[i].w+=a[i-1].w;\n    dp[cc][cc][0]=dp[cc][cc][1]=0;\n    fo(len,2,n) {\n        fo(i,1,n-len+1) {\n\t\t\tint j=i+len-1;\n\t\t\tdp[i][j][0]=min(dp[i+1][j][0]+(a[i+1].c-a[i].c)*(a[n].w+a[i].w-a[j].w),dp[i+1][j][1]+(a[j].c-a[i].c)*(a[n].w+a[i].w-a[j].w));\n\t\t\tdp[i][j][1]=min(dp[i][j-1][0]+(a[j].c-a[i].c)*(a[n].w+a[i-1].w-a[j-1].w),dp[i][j-1][1]+(a[j].c-a[j-1].c)*(a[n].w+a[i-1].w-a[j-1].w));\n        }\n    }\n    printf(\"%lld\\n\",min(dp[1][n][0],dp[1][n][1]));\n    return 0;\n}\n\n```\n\nAC log: ",
        "postTime": 1572078144,
        "uid": 64159,
        "name": "JustBlack",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "[*\u9898\u9762*](https://www.luogu.org/problem/P1220)\n\n## \u9898\u76ee\u5206\u6790\n\n\u8001\u5f20\u5173\u8def\u706f\u6709\u4e24\u79cd\u9009\u62e9,\u4e00\u79cd\u662f\u7ee7\u7eed\u5173\u4e0b\u53bb,\u4e00\u79cd\u662f\u8c03\u5934\u5173\u540e\u9762\u7684.\n\n\u663e\u7136,\u8001\u5f20\u5173\u7684\u8def\u706f\u662f\u4e00\u4e2a\u533a\u95f4,\u5e76\u4e14\u8001\u5f20\u53ef\u80fd\u5728\u8fd9\u4e2a\u533a\u95f4\u7684\u5de6\u7aef\u70b9\u6216\u662f\u53f3\u7aef\u70b9.\n\n\u5b9a\u4e49\u72b6\u6001$dp_{lrk}$,\u8868\u793a\u5de6\u7aef\u70b9\u4e3a$l$,\u53f3\u7aef\u70b9\u4e3a$r$,\u8001\u5f20\u5728\u5de6\u7aef\u70b9\u6216\u662f\u53f3\u7aef\u70b9\u65f6\u6d88\u8017\u7684\u6700\u5c11\u7535\u80fd,\u5176\u4e2d$k$\u4e3a$0$\u65f6\u8868\u793a\u8001\u5f20\u5728\u5de6\u7aef\u70b9,\u4e3a$1$\u65f6\u8868\u793a\u8001\u5f20\u5728\u53f3\u7aef\u70b9.\n\n\u518d\u7528\u4e00\u4e2a\u524d\u7f00\u548c\u6570\u7ec4$sum$,\u65b9\u4fbf\u7b97\u51fa\u533a\u95f4\u4e4b\u5916\u7684\u706f\u7684\u529f\u8017.\n\n\u5728$l$,$r$\u533a\u95f4\u4e4b\u5916\u6ca1\u5173\u7684\u706f\u7684\u80fd\u6548\u4e3a$sum_n$-($sum_l$-$sum_r$).\n\n\u8001\u5f20\u5728\u5de6\u7aef\u70b9\u65f6,\u6709\u4e24\u79cd\u51b3\u7b56,\u4e00\u79cd\u662f\u7ee7\u7eed\u5f80\u5de6\u5173,\u4e00\u79cd\u662f\u8c03\u5934\u53bb\u5173\u53f3\u7aef\u70b9.\n\n\u5f80\u5de6\u8d70\u65f6,\u6d88\u8017\u65f6\u95f4\u4e3a$a_{l+1}$-$a_l$,\u4e58\u4e0a\u533a\u95f4\u5916\u6ca1\u5173\u7684\u706f\u7684\u80fd\u6548$sum_l$+$sum_n$-$sum_r$.\n\n\u53bb\u5173\u53f3\u7aef\u70b9\u65f6,\u6d88\u8017\u65f6\u95f4\u4e3a$a_r$-$a_l$,\u6ca1\u5173\u7684\u706f\u7684\u80fd\u8017\u540c\u4e0a.\n\n\u6ce8\u610f\u8fd9\u91cc\u7684$sum_l$\u5176\u5b9e\u662f$sum_{l+1-1}$,\u5728\u53bb\u5173\u7b2c$l$\u76cf\u706f\u65f6,\u8001\u5f20\u662f\u5728$l+1$\u8fd9\u4e2a\u70b9\u4e0a\u7684.\n\n\u5728\u53f3\u7aef\u70b9\u65f6,\u540c\u6837\u6709\u4e24\u79cd\u51b3\u7b56,\u4e00\u79cd\u662f\u7ee7\u7eed\u5f80\u53f3\u5173,\u4e00\u79cd\u662f\u8c03\u5934\u53bb\u5173\u5de6\u7aef\u70b9.\n\n\u5f80\u53f3\u8d70\u65f6,\u6d88\u8017\u65f6\u95f4\u4e3a$a_r$-$a_{r-1}$,\u533a\u95f4\u5916\u6ca1\u5173\u7684\u706f\u7684\u80fd\u6548\u4e3a$sum_{l-1}$+$sum_n$-$sum_{r-1}$.\n\n\u8c03\u5934\u53bb\u5173\u5de6\u8fb9\u7684\u706f\u65f6,\u6d88\u8017\u65f6\u95f4\u4e3a$a_r$-$a_l$,\u6ca1\u5173\u7684\u706f\u7684\u80fd\u6548\u540c\u4e0a.\n\n## \u4ee3\u7801\n\n```cpp\n#include \"cstdio\"\n#include \"cstring\"\n#include \"iostream\"\n#include \"algorithm\"\n#include \"cmath\"\n#include \"cstdlib\"\n\n#define lxl long long\n#define R register\n#define debug(x) cout<<\"debug:\"<<x<<endl\n#define INF 2147483647\n\nusing namespace std;\n\nlxl n,c;\nlxl dp[110][110][2],a[110],w[110],sum[110];\n\nsigned main(void)\n{\n\tmemset(dp,0x3f,sizeof(dp));\n\tios::sync_with_stdio(false);\n\tcin>>n>>c;\n\tfor(R lxl _=1;_<=n;++_)\n\t{\n\t\tcin>>a[_]>>w[_];\n\t\tsum[_]=sum[_-1]+w[_];\n\t}\n\tdp[c][c][0]=dp[c][c][1]=0;\n\tfor(R lxl len=2;len<=n;++len)\n\t{\n\t\tfor(R lxl l=1;l+len-1<=n;++l)\n\t\t{\n\t\t\tlxl r=l+len-1;\n\t\t\tdp[l][r][0]=min(dp[l+1][r][0]+(a[l+1]-a[l])*(sum[l]+sum[n]-sum[r]),dp[l+1][r][1]+(a[r]-a[l])*(sum[l]+sum[n]-sum[r]));\n\t\t\tdp[l][r][1]=min(dp[l][r-1][0]+(a[r]-a[l])*(sum[l-1]+sum[n]-sum[r-1]),dp[l][r-1][1]+(a[r]-a[r-1])*(sum[l-1]+sum[n]-sum[r-1]));\t\t\n\t\t}\n\t}\n\tcout<<min(dp[1][n][0],dp[1][n][1])<<endl;\nreturn 0;\n}\n```",
        "postTime": 1566112311,
        "uid": 54986,
        "name": "lemir3",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u5199\u4e00\u4e2a\u8bb0\u641c\n\n~~\u8fd9\u5c31\u662f\u4f20\u8bf4\u4e2d\u7684xjb\u8bb0\u641c~~\n\n~~\u6211\u4e5f\u4e0d\u77e5\u9053\u6211\u5728\u5199\u4ec0\u4e48....~~\n\n\u5c31\u662f\u4f60\u4ece\u521d\u59cb\u539f\u70b9\u5f00\u59cb\u6269\u5c55\n\n\u7136\u540edfs\u987a\u4fbf\u8bb0\u5f55\u5373\u53ef....\n\n\u524d\u65b9\u9ad8\u80fd,,,.....\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int max_n = 60;\nconst int INF = 0x7f7f7f7f;\n\nint sum[max_n], s, n;\n\nstruct Light\n{\n    int p, w;\n    bool operator < (const Light &lans000) const\n    {\n        return p < lans000.p;\n    }\n}A[max_n];\n\nint F[max_n][max_n][2], S;\n\nint run(int L, int R, bool flag) //\u641c\u7d22\u6269\u5c55\u5e76\u8bb0\u5f55\u7b54\u6848\n{\n    if(L == 1 && R == n) return 0;\n    if(~F[L][R][flag]) return F[L][R][flag];\n    int minn = INF;\n    if(!flag)\n    {\n        if(L != 1 && R != n)\n        minn = min(run(L - 1, R, flag) + (S - sum[R] + sum[L - 1]) * (A[L].p - A[L - 1].p), run(L, R + 1, flag ^ 1) + (S - sum[R] + sum[L - 1]) * (A[R + 1].p - A[L].p));\n        else if(L == 1 && R != n) minn = min(minn, run(L, R + 1, flag ^ 1) + (S - sum[R] + sum[L - 1]) * (A[R + 1].p - A[L].p));\n        else if(L != 1 && R == n) minn = min(minn, run(L - 1, R, flag) + (S - sum[R] + sum[L - 1]) * (A[L].p - A[L - 1].p));\n    }\n    else \n    {\n        if(R != n && L != 1)\n        minn = min(run(L - 1, R, flag ^ 1) + (S - sum[R] + sum[L - 1]) * (A[R].p - A[L - 1].p), run(L, R + 1, flag) + (S - sum[R] + sum[L - 1]) * (A[R + 1].p - A[R].p));\n        else if(L != 1 && R == n) minn = min(minn, run(L - 1, R, flag ^ 1) + (S - sum[R] + sum[L - 1]) * (A[R].p - A[L - 1].p));\n        else if(L == 1 && R != n) minn = min(minn, run(L, R + 1,  flag) + (A[R + 1].p - A[R].p) * (S - sum[R] + sum[L - 1]));\n    }\n    return F[L][R][flag] = minn;\n}\nint main()\n{\n    memset(F, -1, sizeof(F));\n    cin >> n >> s;\n    for(int i = 1;i <= n; i++)\n    scanf(\"%d%d\", &A[i].p, &A[i].w);\n    for(int i = 1;i <= n; i++)\n    {\n        sum[i] = sum[i - 1] + A[i].w;\n        S += A[i].w;\n    }\n    cout << min(run(s, s, 0), run(s, s, 1)) << endl;\n    return 0;\n}\n```\n\u80fd\u5199dp\u5c31\u522b\u8ddf\u6211\u4e00\u6837\u6765xjb\u8bb0\u641c\n\u770b\u7740\u4ee3\u7801\u90fd\u4e0d\u60f3\u8c03.......",
        "postTime": 1540392211,
        "uid": 53746,
        "name": "aha\u6d6e\u4e91",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u6beb\u65e0\u7591\u95ee\uff0c\u7b97\u6cd5\u662fdp\u4e4b\u533a\u95f4dp\n\n\n\u9996\u5148\uff0c\u5728\u533a\u95f4(i,j)\u7684\u706f\u90fd\u88ab\u5173\u4e86\u4e4b\u540e\uff0c\u8001\u5f20\u8981\u4e48\u5728i\uff0c\u8981\u4e48\u5728j\u3002\n\n```cpp\n\u8bc1\u660e\u8fc7\u7a0b\uff1a\n\u53cd\u8bbe\u8001\u5f20\u4e0d\u5728i\u6216j\n\u2234i<\u8001\u5f20\u7684\u4f4d\u7f6e\u4e3ax<j\n\u53c8\u2235i\u548cj\u5747\u88ab\u5173\u95ed\n\u2234\u8001\u5f20\u5230\u8fc7i\u548cj\n\u2234\u8001\u5f20\u81f3\u5c11\u8d70\u4e86\u56de\u5934\u8def(i,x)\u6216(x,j)\n\u8fd9\u4e0edp\u6570\u7ec4\u7684\u542b\u4e49\u77db\u76fe\n\u2234\u8001\u5f20\u5728i\u6216j\n```\n\n\uff09\n\n\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u63a8\u51fa\u4e24\u4e2a\u72b6\u6001\uff1a\n```pascal\ndp[i][j][1]\u8868\u793a\u5173\u6389\u533a\u95f4(i,j)\u7684\u706f\uff0c\u8001\u5f20\u5728i\u6240\u6d88\u8017\u529f\u7387\u7684\u6700\u5c0f\u503c\ndp[i][j][2]\u8868\u793a\u5173\u6389\u533a\u95f4(i,j)\u7684\u706f\uff0c\u8001\u5f20\u5728j\u6240\u6d88\u8017\u529f\u7387\u7684\u6700\u5c0f\u503c\n\u5176\u4e2di<=p<=j\n```\n\n\u663e\u800c\u6613\u89c1\uff0c\u4e8c\u8005\u5747\u53ef\u7531dp[i][j-1][1/2]\u548cdp[i-1][j][1/2]\u63a8\u6765\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5c31\u6709\u4e86\uff1a\n```cpp\nll k=i+j-1,t=w[n]-w[k]+w[j];\ndp[j][k][1]=min(dp[j+1][k][1]+(a[j+1]-a[j])*t,dp[j+1][k][2]+(a[k]-a[j])*t);\nt=w[n]-w[k-1]+w[j-1];\ndp[j][k][2]=min(dp[j][k-1][1]+(a[k]-a[j])*t,dp[j][k-1][2]+(a[k]-a[k-1])*t);\n```\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define INF 2147483647\ntypedef long long ll;\nusing namespace std;\n\nll n,p,a[100],b[100],w[100],dp[100][100][3];\n\ninline ll read(){\n    ll tmp=1,x=0;\n    char ch=getchar();\n    while(!isdigit(ch)){\n        if(ch=='-') tmp=-1;\n        ch=getchar();\n    }\n   \n    while(isdigit(ch)){\n        x=x*10+ch-48;\n        ch=getchar();\n    }\n    return tmp*x;\n}//\u8bfb\u5165\u4f18\u5316\n\nint main(){\n\tn=read(); p=read();\n\tfor(ll i=1; i<=n; i++){\n\t\ta[i]=read();//\u4f4d\u7f6e\n\t\tb[i]=read();//\u529f\u7387\n\t\tw[i]=w[i-1]+b[i];//\u5173\u4e8e\u529f\u7387\u7684\u524d\u7f00\u548c\n\t}\n\t\n\tfor(ll i=1; i<=n; i++){\n\t\tdp[i][i][1]=dp[i][i][2]=INF;//\u8d4b\u521d\u503c\n\t}\n\tdp[p][p][1]=dp[p][p][2]=0;//\u5173\u6389\u5f53\u524d\u6240\u5728\u4f4d\u7f6e\u7684\u706f\u4e0d\u7528\u8017\u8d39\u529f\u7387\n\tfor(ll i=2; i<=n; i++){\n\t\tfor(ll j=1; i+j<=n+1; j++){//\u6700\u5de6\u7684\u706f\n        \t//\u4eba\u5728\u5de6\u8fb9\n\t\t\tll k=i+j-1/*\u53f3\u8fb9\u7684\u706f*/,t=w[n]-w[k]+w[j];//\u5269\u4e0b\u56f4\u89c2\u7684\u706f\u6240\u9020\u6210\u7684\u4ee3\u4ef7\n\t\t\tdp[j][k][1]/*\u505c\u5728\u5de6\u8fb9*/=min(dp[j+1][k][1]+(a[j+1]-a[j])*t/*\u4e0a\u4e00\u6b21\u505c\u5728\u5de6*/,dp[j+1][k][2]+(a[k]-a[j])*t/*\u4e0a\u4e00\u6b21\u505c\u5728\u53f3*/);\n            \n            //\u4eba\u5728\u53f3\u8fb9\uff0c\u4e0b\u540c\n\t\t\tt=w[n]-w[k-1]+w[j-1];\n\t\t\tdp[j][k][2]=min(dp[j][k-1][1]+(a[k]-a[j])*t,dp[j][k-1][2]+(a[k]-a[k-1])*t);\n\t\t}\n\t}\n\tcout<<min(dp[1][n][1],dp[1][n][2]);//\u56e0\u4e3a\u5173\u5b8c\u706f\u540e\u4eba\u53ef\u4ee5\u5728\u5de6\uff0c\u4e5f\u53ef\u4ee5\u5728\u53f3\uff0c\u6240\u4ee5\u5728\u4e8c\u8005\u4e4b\u4e2d\u53bb\u6700\u5c0f\u503c\n\treturn 0;\n}\n```",
        "postTime": 1532092581,
        "uid": 27924,
        "name": "xukuan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u770b\u4e86\u4e0b\u9762\u7684dalao\u4eec\u7684\u9898\u89e3\uff0c\u53d1\u73b0\u90fd\u597d\u9ad8\u6df1\uff0c\u6765\u4e00\u53d1\u7b80\u5355\u7684\u9898\u89e3\u3002\n\n\u8fd9\u9898\u9012\u5f52\u7206\u641c\u5c31\u53ef\u4ee5\u4e86\uff0c\u4e0d\u8fc7\u8981\u6ce8\u610f\u9012\u5f52\u7684\u53d8\u91cf\u4e0d\u8981\u641e\u9519\u3002\n\n\n\n```cpp\nvar\n  a,b:array[1..100000]of longint;\n  i,j,min,k,v,x,s,n,m:longint;\nprocedure dfs(i,j,k,v,x:longint);//\u9012\u5f52\u7206\u641c\nbegin\n  if v>min then\n    exit;\n  if (i<=1)and(j>=n) then\n    begin\n      if v<min then\n        min:=v;\n      exit;\n    end;\n  if k=0 then\n    begin\n      if i>1 then dfs(i-1,j,0,v+x*abs(a[i-1]-a[i]),x-b[i-1])//\u8fd9\u4e2aif\u662f\u4e00\u5b9a\u8981\u7684\uff0c\u800c\u4e14\u8981\u6ce8\u610f\u53d8\u91cf\n      if j<n then dfs(i,j+1,1,v+x*abs(a[i]-a[j+1]),x-b[j+1]);//\u540c\u4e0a\n    end\n         else\n    begin\n      if j<n then dfs(i,j+1,1,v+x*abs(a[j+1]-a[j]),x-b[j+1]);\n      if i>1 then dfs(i-1,j,0,v+x*abs(a[j]-a[i-1]),x-b[i-1]);//\u540c\u4e0a\n    end;\nend;\nbegin\n  readln(n,m);\n  min:=maxlongint;\n  for i:=1 to n do\n    begin\n      read(a[i],b[i]);\n      s:=s+b[i];\n    end;//\u8f93\u5165\n  s:=s-b[m];//\u522b\u5fd8\u4e86\u51cf\u5f53\u524d\u7684\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u7535\u706f\n  dfs(m,m,0,0,s);//\u5f00\u59cb\u7206\u641c\n  write(min);\nend.\n\u5e0c\u671b\u4f60\u4eec\u53ef\u4ee5\u7406\u89e3\u6211\u7684\u7206\u641c\u3002\n```",
        "postTime": 1508762873,
        "uid": 52686,
        "name": "King__James",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "dp\u4e09\u8981\u7d20\uff0c\u72b6\u6001\u5b9a\u4e49\uff0c\u8f6c\u79fb\u65b9\u7a0b\uff0c\u8fb9\u754c\u6761\u4ef6\uff01\u8fb9\u754c\u6761\u4ef6\uff01\u8fb9\u754c\u6761\u4ef6\uff01\n\n\u4e0d\u8981\u4ee5\u4e3a\u65b9\u7a0b\u51fa\u6765\u4e86\u5c31\u4e07\u4e8b\u5927\u5409\uff0c\u8fd8\u6709\u8fb9\u754c\u6761\u4ef6\uff01\uff01\uff01\uff01\uff01\uff01\n\n\u65b9\u7a0b\u548c\u697c\u4e0b\u7528\u7684\u4e00\u6837\n\ndp[i][j][0]=min(dp[i+1][j][1]+sum(i+1,j)\\*(t[j]-t[i]),dp[i+1][j][0]+sum(i+1,j)\\*(t[i+1]-t[i]));\n\ndp[i][j][1]=min(dp[i][j-1][1]+sum(i,j-1)\\*(t[j]-t[j-1]),dp[i][j-1][0]+sum(i,j-1)\\*(t[j]-t[i]));\n\n\u5176\u4e2ddp[i][j][k]\u8868\u793ai\u5230j\u533a\u95f4\u7684\u706f\u5df2\u706d\uff0ck=0\u8001\u738b\u5728\u5de6\u7aef\u70b9\uff0ck=1\u8001\u738b\u5728\u53f3\u7aef\u70b9\u3002\n\nsum\uff08i\uff0cj\uff09\u8ba1\u7b97i\u5230j\u7684\u706f\u706d\u4e86\u4ee5\u540e\u5269\u4f59\u706f\u7684\u529f\u8017\uff0ct[i]\u662f\u70b9i\u7684\u8ddd\u79bb\u3002\n\n\u7136\u800c\u6211\u4eec\u53d1\u73b0\uff0c\u4ec5\u4ec5\u662fdp[st][st][0]=0;dp[st][st][1]=0;\n\n\u662f\u4e0d\u591f\u7684\uff0c\u8fd9\u6837\u5728\u8ba1\u7b97\u4ee5st\u4e3a\u8d77\u70b9\u548c\u7ec8\u70b9\u65f6\uff0c\u4f1a\u6709\u51fa\u53d1\u7535\u706f\u4eae\u7740\u7684\u9b3c\u755c\u60c5\u51b5\u3002\u3002\u3002\n\n\uff08\u56e0\u4e3a\u65b9\u7a0b\u9c81\u68d2\u7684\u628ai+1\uff0c\u628aj-1\uff09\n\n\u6240\u4ee5\u6211\u4eec\u8fd8\u9700\u8981\u4e13\u95e8\u9488\u5bf9i=st\uff0cj=st\u7684\u8f6c\u79fb\u65b9\u7a0b\uff01\n\n```cpp\ndp[st-1][j][1]=dp[st-1][j-1][1]+sum(st-1,j-1)*(t[j]-t[j-1]);\ndp[st-1][j][0]=dp[st-1][j][1]+sum(st-1,j)*(t[j]-t[st-1]);\ndp[i][st-1][0]=dp[i+1][st-1][0]+sum(i+1,st-1)*(t[i+1]-t[i]);\ndp[i][st-1][1]=dp[i][st-1][0]+sum(i,st-1)*(t[st-1]-t[i]);\n```\n\u4e0a\u4ee3\u7801~\n```cpp\n#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nint n;int st;\nint t[50];int w[50];\nint dp[50][50][2];\nint sum(int a,int b)\n{\n    int res=0;\n    if(a>st-1)a=st-1;//\u7c97\u66b4\u7684\u5904\u7406\u8fb9\u754c\u8f6c\u79fb\u65b9\u7a0b\u7684\u975e\u6cd5\u60c5\u51b5\uff0c\u4f46\u65e0\u6cd5\u5904\u7406\u666e\u901a\u8f6c\u79fb\u7684\u975e\u6cd5\u60c5\u51b5\n    if(b<st-1)b=st-1;\n    for(int i=0;i<n;i++)\n    {\n        if(i>=a&&i<=b)continue;\n        res+=w[i];\n    }\n    //printf(\"sum(%d,%d)is%d\\n\",a,b,res);\n    return res;\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&st);\n    for(int i=0;i<n;i++)\n    {\n        scanf(\"%d%d\",&t[i],&w[i]);\n    }\n    if(n==1)\n    {\n        printf(\"0\");return 0;\n    }\n    dp[st-1][st-1][0]=0;dp[st-1][st-1][1]=0;//\u5b9a\u4e49\u539f\u70b9\n    for(int j=st;j<n;j++)//\u4ece\u96f6\u5f00\u59cb\u7684\u6570\u7ec4\n    {\n        dp[st-1][j][1]=dp[st-1][j-1][1]+sum(st-1,j-1)*(t[j]-t[j-1]);//\u9012\u63a8\u4ee5\u51fa\u53d1\u70b9\u4e3a\u8d77\u70b9\u60c5\u51b5\n        dp[st-1][j][0]=dp[st-1][j][1]+sum(st-1,j)*(t[j]-t[st-1]);\n    }\n    for(int i=st-2;i>=0;i--)\n    {\n        dp[i][st-1][0]=dp[i+1][st-1][0]+sum(i+1,st-1)*(t[i+1]-t[i]);//\u9012\u63a8\u4ee5\u51fa\u53d1\u70b9\u4e3a\u7ec8\u70b9\u60c5\u51b5\n        dp[i][st-1][1]=dp[i][st-1][0]+sum(i,st-1)*(t[st-1]-t[i]);\n    }\n    for(int i=st-2;i>=0;i--)//\u6ca1\u5565\u597d\u8bf4\u7684dp\uff0c\u697c\u4e0b\u8bb2\u7684\u5f88\u8be6\u7ec6\n    {\n        for(int j=st;j<n;j++)\n        {\n            dp[i][j][0]=\n            min(dp[i+1][j][1]+sum(i+1,j)*(t[j]-t[i]),\n            dp[i+1][j][0]+sum(i+1,j)*(t[i+1]-t[i]));\n            dp[i][j][1]=\n            min(dp[i][j-1][1]+sum(i,j-1)*(t[j]-t[j-1]),\n            dp[i][j-1][0]+sum(i,j-1)*(t[j]-t[i]));\n        }\n    }\n    /*for(int i=0;i<n;i++)\n    {\n        for(int j=0;j<n;j++)\n        {\n            printf(\"%-4d\",dp[i][j][0]);\n        }\n        printf(\"\\n\");\n    }\n    printf(\"\\n\");\n    for(int i=0;i<n;i++)\n    {\n        for(int j=0;j<n;j++)\n        {\n            printf(\"%-4d\",dp[i][j][1]);\n        }\n        printf(\"\\n\");\n    }*/\n    int res=min(dp[0][n-1][0],dp[0][n-1][1]);//\u4e0d\u77e5\u9053\u6700\u540e\u8001\u738b\u5728\u8def\u5de6\u8fd8\u662f\u8def\u53f3\uff0c\u4e8c\u8005\u53d6\u5176min\n    printf(\"%d\",res);\n    return 0;//\u62dc\u62dc\u7a0b\u5e8f~\n}\n\n```",
        "postTime": 1507729350,
        "uid": 56384,
        "name": "shadowice1984",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "**\u8fd9\u9053\u9898\u53ef\u4ee5\u7528\u66b4\u641c**\n\n\\_\u849f\u84bb\u770b\u4e86\u4e00\u4e2a\u5c0f\u65f6\u4e5f\u6ca1\u5f04\u660e\u767d\u533a\u95f4\u52a8\u89c4\uff0c\u4e8e\u662f\u53d1\u626cNOIP\u7684\u597d\u4f5c\u98ce\u2014\u2014\u9a97\u5206\u8fc7\u6837\u4f8b\uff0c\u66b4\u529b\u51fa\u5947\u8ff9\uff01\\_\n\n\\_\u4e00\u9053\u66b4\u529bdfs\u5c31\u8bde\u751f\u4e86\u3002\uff08\u4e0b\u9762\u6709\u6ce8\u91ca\uff09\\_\n\n```cpp\n#include<cstdio>\n#include<iostream>\nusing namespace std;\nint n,m,l,r,t=0,a[55],b[55],d[55],w=0,s=0,minn=0x7fffffff;\nvoid dfs(int x){\n    if(s>minn)return;                       //\u526a\u679d\uff0c\u5982\u679c\u6b64\u65f6\u603b\u7535\u91cf\u5927\u4e8e\u5df2\u77e5\u6700\u4f4e\u7535\u91cf\uff0c\u8fd4\u56de\n    if(t==n){\n        minn=min(minn,s);\n        return;\n    }                                                 //\u7ec8\u6b62\u6761\u4ef6\n    int i=--l;\n    if(i>=1){\n        s+=w*max(d[x]-d[i],d[i]-d[x]);\n        w-=a[i];\n        t++;\n        dfs(i);\n        t--;\n        w+=a[i];\n        s-=w*max(d[x]-d[i],d[i]-d[x]);\n    }\n    l++;                                                            //\u5411\u5de6\u8d70\n    i=++r;\n    if(i<=n){\n        s+=w*max(d[x]-d[i],d[i]-d[x]);\n        w-=a[i];\n        t++;\n        dfs(i);\n        t--;\n        w+=a[i];\n        s-=w*max(d[x]-d[i],d[i]-d[x]);\n    }\n    r--;                                                         //\u5411\u53f3\u8d70\n}\nvoid in(){\n    scanf(\"%d%d\",&n,&m);\n    l=r=m;\n    for(int i=1;i<=n;i++){\n        int j,k;\n        scanf(\"%d%d\",&j,&k);\n        w+=k;\n        d[i]=j;\n        a[i]=k;\n    }\n    if(a[m]!=0){\n        t++;\n        w-=a[m];\n        a[m]=0;\n    }\n    return;\n}                                                                      //\u8f93\u5165+\u521d\u59cb\u5316\nint main(){\n    in();\n    dfs(m);\n    printf(\"%d\",minn);                                  //\u8f93\u51fa\n    return 0;\n} \n\n```",
        "postTime": 1505051005,
        "uid": 29211,
        "name": "B_K\u5357\u795e",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u4e3a\u4e86\u56de\u9988\u6d1b\u8c37\u8fd9\u4e2a\u5e73\u53f0\uff0c\u53d1\u8fd9\u4e2a\u611f\u609f\n\n------------------------------------------------------------------------\n\n\u672c\u9898\u72b6\u6001\u8f6c\u79fb\u5e76\u4e0d\u96be\uff0c\u5178\u578b\u7684\u533a\u95f4\u578bDP\uff0c\u5173\u952e\u662f\u8f6c\u79fb\u7684\u987a\u5e8f\uff0c\u8fb9\u754c\u4e0d\u597d\u786e\u5b9a\n\n\u5148\u4e0a\u4ee3\u7801\uff08\u540e\u9762\u6709\u89e3\u91ca\uff09\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nint f[55][55][2];\nint d[55],sum[55];\nint main()\n{\n    int n,c,i,j,l,w;\n    scanf(\"%d%d\",&n,&c);\n    memset(f,0x7F,sizeof(f));\n    f[c][c][0]=f[c][c][1]=0;\n    for(i=1;i<=n;i++)\n    {\n        scanf(\"%d%d\",&d[i],&w);\n        sum[i]=sum[i-1]+w;\n    }\n    for(l=2;l<=n;l++)\n        for(i=1;i+l-1<=n;i++)\n        {\n            j=i+l-1;\n            f[i][j][0]=min(f[i+1][j][0]+(d[i+1]-d[i])*(sum[i]+sum[n]-sum[j]),\n                                  f[i+1][j][1]+(d[j]-d[i])*(sum[i]+sum[n]-sum[j]));\n            f[i][j][1]=min(f[i][j-1][0]+(d[j]-d[i])*(sum[i-1]+sum[n]-sum[j-1]),\n                                  f[i][j-1][1]+(d[j]-d[j-1])*(sum[i-1]+sum[n]-sum[j-1]));\n        }\n    printf(\"%d\\n\",min(f[1][n][1],f[1][n][0]));\n    return 0;\n}\n```\n\u6211\u662f\u4ee5\u533a\u95f4\u957f\u5ea6\u6700\u4e3a\u7b2c\u4e00\u5c42\u8fdb\u884c\u5212\u5206\u3002\n\u5047\u8bbe\u4eceC\u5f00\u59cb\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u6700\u4f18\u89e3\u5e94\u8be5\u662f\u4eceC\u5f00\u59cb\u5411\u5916\u6269\u5c55\u7684\uff0c\u4f46\u8fd9\u6837\u4e0d\u592a\u597d\u5199\u3002\n\n\u5927\u5bb6\u6ce8\u610f\u5230\uff0c\u6211\u7684\u7a0b\u5e8f\u8f93\u51faF[I][I](I!=C)\u662f\u7b49\u4e8e\u6b63\u65e0\u7a77\u7684\uff0c\u8fd9\u662f\u4e0d\u5408\u7406\u7684\uff0c\u6bd5\u7adf\u8fd9\u4e5f\u662f\u53ef\u4ee5\u8fbe\u5230\u7684\u3002\n\n\u4f46\u662f\uff0c\u5927\u5bb6\u60f3\uff0c\u52a8\u6001\u89c4\u5212\u7684\u672c\u8d28\u662f\u4ec0\u4e48\uff1f\u4e0d\u5c31\u662f\u4ece\u5df2\u7ecf\u5f97\u5230\u7684\u72b6\u6001\u4e2d\u627e\u66f4\u4f18\u89e3\u5417\uff1f\n\n\u6570\u5b66\u4e2d\u6709\u5f52\u7eb3\u6cd5\uff0c\u4fe1\u606f\u5b66\u4e5f\u662f\uff0c\u5f53\u4e00\u4e2a\u72b6\u6001\u5b58\u5728\u4e14\u4ee5\u6700\u4f18\uff0c\n\n\u5c31\u53ef\u4ece\u8fd9\u4e2a\u72b6\u6001\u5411\u5916\u6269\u5c55\uff0c\u6700\u7ec8\u627e\u5230\u7684\u5fc5\u7136\u662f\u5168\u5c40\u6700\u4f18\u89e3\u3002\n\n\u65e2\u5982\u6b64\uff0c\u90e8\u5206\u7684\u4e0d\u5408\u7406\u662f\u53ef\u4ee5\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u5fc5\u7136\u4e0d\u4f1a\u5f71\u54cd\u5230\u6700\u540e\u3002\n\n\u6700\u7ec8\u7b54\u6848\u5fc5\u7136\u662f\u4eceC\u5f00\u59cb\u7684\u3002\n\n\u518d\u4e0a\u4e00\u4e2a\u4ee3\u7801\n\n\n```cpp\n#include<iostream>\n#include<cstdlib>\n#include<cstdio>\nusing namespace std;\nint f[1001][1001][2];\nint n,wz[1001],mon[1001],v;\nint main ()\n{\n    scanf (\"%d%d\",&n,&v);\n    for (int b=1;b<=n;++b){scanf(\"%d%d\",&wz[b],&mon[b]);mon[b]+=mon[b-1];}\n    memset(f,127,sizeof(f));\n    f[v][v][0]=f[v][v][1]=0;\n    for (int j=v;j<=n;++j)\n    {\n        for (int i=j-1;i>=1;--i)\n        {\n            f[i][j][0]=min(f[i+1][j][0]+(mon[n]-(mon[j]-mon[i]))*(wz[i+1]-wz[i]),\n                           f[i+1][j][1]+(mon[n]-(mon[j]-mon[i]))*(wz[j]-wz[i]));\n            f[i][j][1]=min(f[i][j-1][0]+(mon[n]-(mon[j-1]-mon[i-1]))*(wz[j]-wz[i]),\n                           f[i][j-1][1]+(mon[n]-(mon[j-1]-mon[i-1]))*(wz[j]-wz[j-1]));\n        }\n    }\n    printf (\"%d\",min(f[1][n][0],f[1][n][1]));\n    //printf(\"%d %d\\n\",f[2][4][0],f[3][5][0]);\n    return 0;\n}\n```\n\u662f\u4e0d\u662f\u89c9\u5f97\u672c\u505a\u6cd5\u9012\u63a8\u987a\u5e8f\u6709\u4e9b\u5947\u602a\uff1f\n\u4f46\u4ed4\u7ec6\u4e00\u63a8\uff0c\u6240\u6709\u9700\u8981\u72b6\u6001\u5747\u5df2\u6c42\u51fa\u3002\n\n\u4f46\u8fd8\u662f\u4f1a\u6709\u4e9bF[I][J]\u662f\u9519\u8bef\u7684\uff0c\u4f46\u8fd9\u4e0d\u8981\u7d27\uff0c\u7406\u7531\u540c\u4e0a\u3002\n\n\u672c\u9898\u8fd8\u6709\u4e00\u4e2a\u6027\u8d28\u5f88\u91cd\u8981\uff1a\n\n\u5f53\u4ece\u4e00\u4e2a\u5df2\u8d70\u7684\u7aef\u70b9\u8d70\u5230\u53e6\u4e00\u4e2a\u5df2\u8d70\u7aef\u70b9\uff0c\n\nF[I][J][0]\u548cF[I][J][1]\u7684\u4ef7\u503c\u76f8\u540c\uff0c\u77e5\u9053\u4e00\u4e2a\u5c31\u53ef\u4ee5\u4e86\u2014\u2014\u2014\u2014\u8fd9\u53ea\u662f\u628a\u4e0b\u6b21\u4ece\u8fd9\u6bb5\u533a\u95f4\u53ef\u80fd\u8d70\u7684\u8def\u7a0b\u63d0\u524d\u8d70\u4e86\u800c\u5df2\n\n\n",
        "postTime": 1504795004,
        "uid": 52527,
        "name": "dj114133643",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u5f88\u7c7b\u4f3clrj\u7684\u7d2b\u4e66\u300a\u7b97\u6cd5\u7ade\u8d5b\u5165\u95e8\u7ecf\u5178\u300b\u4e0a\u9762\u4e00\u4e2a\u9898\u76ee\uff08P293\uff09\n\n\u9996\u5148\u6211\u4eec\u53d1\u73b0\u5f53\u524d\u65f6\u523b\u5df2\u7ecf\u5173\u95ed\u7684\u706f\u5728\u4e00\u4e2a\u8fde\u7eed\u533a\u95f4\u91cc\u9762\u6700\u5212\u7b97\u3002\u8fd9\u5f88\u663e\u7136\uff1a\u5982\u679ca\u548cb\u662f\u4e0d\u8fde\u7eed\u7684\u4e24\u76cf\u706f\uff0c\u88ab\u706fc\u5206\u5f00\uff0c\u90a3\u4e48\u6211\u5173\u4e86a\u518d\u53bb\u5173b\u7684\u65f6\u5019\u5b8c\u5168\u53ef\u4ee5\u987a\u5e26\u628ac\u5173\u6389\uff0c\u7b54\u6848\u53ea\u4f1a\u66f4\u597d\u3002\u7136\u540e\u6211\u4eec\u53d1\u73b0\u5728\u5173\u95ed\u4e86\u4e00\u4e2a\u8fde\u7eed\u7684\u533a\u95f4\u7684\u706f\u4e4b\u540e\uff0c\u4eba\u4e00\u5b9a\u5728\u7aef\u70b9\u3002\n\n\u4e8e\u662f\u5c31\u53ef\u4ee5dp\u4e86\uff0c\u8bbe$f(i,j,k)$\u4e3a\u5df2\u7ecf\u5173\u95ed\u4e86\u533a\u95f4$[i,j]$\u91cc\u9762\u7684\u706f\u65f6\u7684\u6700\u5c0f\u8017\u7535\u91cf\uff0ck=0\u8868\u793a\u4eba\u5728\u533a\u95f4\u5de6\u7aef\u70b9\uff0ck=1\u8868\u793a\u4eba\u5728\u533a\u95f4\u53f3\u7aef\u70b9\u3002\n\n\u4e8e\u662f$f(i,j,0)$\u5c31\u53ef\u4ee5\u4ece$f(i+1,j,0/1)$\u8f6c\u79fb\u800c\u6765\u3002\u8003\u8651\u4ecei+1\u6216\u8005j\u8d70\u5230\u70b9i\u7684\u8def\u7a0b\u4e2d\uff0c\u8fd8\u5f00\u7740\u7684\u706f\u7684\u8017\u7535\u5373\u53ef\u3002\u8be6\u89c1\u4ee3\u7801\u3002\n\n```cpp\n#include <cstdio>\n#include <cstdlib>\n#include <cmath>\n#include <algorithm>\nusing namespace std;\nconst int MAXN=50;\nint N,C,P[MAXN+10],W[MAXN+10],Sum[MAXN+10],opt[MAXN+10][MAXN+10][3];\nint main(){\n    scanf(\"%d%d\",&N,&C);\n    for(int i=1;i<=N;i++) {\n        scanf(\"%d%d\",&P[i],&W[i]);\n        Sum[i]=Sum[i-1]+W[i];\n    }\n    for(int i=1;i<=N;i++)\n        opt[i][i][0]=opt[i][i][1]=Sum[N]*abs(P[i]-P[C]);\n    for(int len=2;len<=N;len++)\n        for(int i=1;i<=N-len+1;i++) {\n            int j=i+len-1;\n            opt[i][j][0]=min(\n                opt[i+1][j][0]+abs(P[i+1]-P[i])*(Sum[i]+Sum[N]-Sum[j]),\n                opt[i+1][j][1]+abs(P[j]-P[i])*(Sum[i]+Sum[N]-Sum[j])\n            );\n            opt[i][j][1]=min(\n                opt[i][j-1][0]+abs(P[i]-P[j])*(Sum[i-1]+Sum[N]-Sum[j-1]),\n                opt[i][j-1][1]+abs(P[j]-P[j-1])*(Sum[i-1]+Sum[N]-Sum[j-1])\n            );\n        }\n    printf(\"%d\",min(opt[1][N][0],opt[1][N][1]));\n    return 0;\n}\n```",
        "postTime": 1502698096,
        "uid": 23865,
        "name": "panda_2134",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u4f60\u770b\u90fd\u8fdb\u52a8\u89c4\u4efb\u52a1\u91cc\u4e86\uff0c\u5c31\u522b\u6df1\u641c\u4e86\uff0c\u8981\u8ddf\u7740\u6d1b\u8c37\u7684\u9053\u8d70\u3002\n\n\u89c2\u5bdf\u9898\u76ee\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff1a\n\n1\u3001\u4e00\u4e2a\u6b63\u5e38\u7684\u5173\u706f\u987a\u5e8f\u5fc5\u7136\u4f1a\u4ea7\u751f\u4e00\u4e2a\u533a\u95f4\u7684\u706f\u5168\u706d\uff0c\u5176\u4f59\u5730\u65b9\u7684\u706f\u5168\u4eae\n\n2\u3001\u533a\u95f4\u5fc5\u7136\u4f1a\u6a2a\u8de8\u5f00\u59cb\u70b9\u4e24\u8fb9\uff08\u4e5f\u53ef\u80fd\u4e00\u7aef\u4e0e\u5f00\u59cb\u70b9\u91cd\u53e0\uff09\n\n3\u3001\u4eba\u5fc5\u7136\u7ad9\u5728\u533a\u95f4\u7684\u4e00\u7aef\n\n\u4ee4\u4eba\u5728\u533a\u95f4\u5de6\u8fb9\u4e3a0\uff0c\u5728\u53f3\u4e3a1\n\n\u7531\u6b64\u53ef\u5f97\u51fa\u6700\u4f18\u5b50\u7ed3\u6784\uff1a\u82e5\u8981\u603b\u6d88\u8017\u529f\u6700\u5c0f\uff0c\u90a3\u4e48\u5f53\u4eba\u5173\u5b8c\u4e00\u533a\u95f4[i,j]\u91cc\u7684\u706f\u4e14\u4eba\u5728\u533a\u95f4\u7ed9\u5b9a\u4e00\u7aef\u65f6\uff0c\u6240\u6709\u706f\u6240\u6d88\u8017\u7684\u529f\u8981\u4e3a\u5173\u5b8c\u533a\u95f4[i,j]\u7684\u53ef\u80fd\u8017\u529f\u7684\u6700\u5c0f\u503c\n\n\uff08\u4e0e\u65f6\u95f4\u5173\u7cfb\u4e0d\u5927\uff0c\u53ea\u8981\u8bb0\u5f55\u529f\u5373\u53ef\uff0c\u53ef\u89c6\u4e3a\u672a\u5173\u706f\u7684\u65f6\u95f4\u4ee3\u4ef7\u5df2\u8574\u542b\u5728\u529f\u91cc\uff09\n\n\n\n\n\n```cpp\nvar\n  f:array[1..50,1..50,0..1] of longint;\n  a,p,money:array[1..50] of longint;\n  start,n,m,max,sum,num,i,j,k,x,y,z:longint;\nfunction min(a,b:longint):longint;\nbegin\n  if a<b then min:=a else min:=b;\nend;\nprocedure solve;\nbegin\n  for j:=start+1 to n do\n  begin\n    f[i,j,0]:=min(f[i+1,j,0]+(a[i+1]-a[i])*(money[n]-(money[j]-money[i])),f[i+1,j,1]+(a[j]-a[i])*(money[n]-(money[j]-money[i])));  //DP\u65b9\u7a0b\n    f[i,j,1]:=min(f[i,j-1,1]+(a[j]-a[j-1])*(money[n]-(money[j-1]-money[i-1])),f[i,j-1,0]+(a[j]-a[i])*(money[n]-(money[j-1]-money[i-1])));  //DP\u65b9\u7a0b\n  end;\nend;\nbegin\n  read(n,start);\n  for i:=1 to n do\n    read(a[i],p[i]);\n  money[1]:=p[1];\n  for i:=2 to n do\n    money[i]:=money[i-1]+p[i];\n  f[start,start,1]:=0;\n  f[start,start,0]:=0;\n//\u9884\u5904\u7406\n  for i:=start-1 downto 1 do\n  begin\n    f[i,start,0]:=f[i+1,start,0]+(a[i+1]-a[i])*(money[n]-(money[start]-money[i]));\n    f[i,start,1]:=f[i+1,start,0]+(a[i+1]-a[i])*(money[n]-(money[start]-money[i]));\n    f[i,start,1]:=f[i,start,1]+(a[start]-a[i])*(money[n]-(money[start]-money[i-1]));\n  end;\n  for i:=start+1 to n do\n  begin\n    f[start,i,1]:=f[start,i-1,1]+(a[i]-a[i-1])*(money[n]-(money[i-1]-money[start-1]));\n    f[start,i,0]:=f[start,i-1,1]+(a[i]-a[i-1])*(money[n]-(money[i-1]-money[start-1]));\n    f[start,i,0]:=f[start,i,0]+(a[i]-a[start])*(money[n]-(money[i]-money[start-1]));\n  end;\n//\u5f00\u59cbDP\n  for i:=start-1 downto 1 do  //\u679a\u4e3e\u533a\u95f4\u7684\u5de6\u7aef\u70b9\n    solve;\n  write(min(f[1,n,1],f[1,n,0]));\nend.\n```",
        "postTime": 1472969417,
        "uid": 9791,
        "name": "\u6c5f\u6d77\u5bc4\u4f59\u751f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u7528\u6df1\u641c\u5c31\u53ef\u4ee5 \u52a0\u4e00\u70b9\u5c0f\u4f18\u5316\uff08\u4e5f\u53ef\u4ee5\u7528DP \u4e0d\u8fc7\u641c\u7d22\u5199\u8d77\u6765\u65b9\u4fbf\uff09\n\n\u6bcf\u4e00\u4e2a\u70b9\u5f80\u4e24\u4e2a\u65b9\u5411\u8d70 \u8d70\u8fc7\u5c31\u6807\u8bb0 \u5df2\u7ecf\u6807\u8bb0\u7684\u4e0d\u518d\u91cd\u590d\u8d70 \u6bcf\u4e00\u6b65\u7b97\u4e00\u4e0b\u6d88\u8017\u7684\u529f\u5c31\u597d\u4e86\n\n```cpp\nvar n,c,i,j,p,minw,w:longint;\n    a,b:array[0..51]of longint;\n    f:array[0..51]of boolean;   //\u6807\u8bb0\u6570\u7ec4\nprocedure dfs(v,k:longint);  //v\u8868\u793a\u5f53\u524d\u6240\u5728\u7684\u70b9 k\u8868\u793a\u5df2\u7ecf\u8d70\u8fc7\u4e86\u51e0\u4e2a\u70b9\nvar i,j:longint;\nbegin\nif w>minw then exit;   //\u5f53\u524d\u6570\u503c\u5df2\u7ecf\u8d85\u8fc7\u6700\u5c0f\u503c\u5c31\u9000\u51fa \u56e0\u4e3a\u80af\u5b9a\u4e0d\u662f\u6700\u4f18\nif k=n then\n   begin\n    if w<minw then minw:=w;\n    exit;\n   end;\ni:=v-1;\nwhile (i>=1)and(f[i]) do dec(i);\nif i>=1 then\n   begin\n    w:=w+(a[v]-a[i])*p;p:=p-b[i];f[i]:=true;\n    dfs(i,k+1);\n    p:=p+b[i];w:=w-(a[v]-a[i])*p;f[i]:=false;\n   end;                                                       //\u4ee5\u4e0a\u641c\u7d22\u5f80\u5de6\u8fb9\u8d70\ni:=v+1;\nwhile (i<=n)and(f[i]) do inc(i);\nif i<=n then\n   begin\n    w:=w+(a[i]-a[v])*p;p:=p-b[i];f[i]:=true;\n    dfs(i,k+1);\n    p:=p+b[i];w:=w-(a[i]-a[v])*p;f[i]:=false;\n   end;                                                       //\u4ee5\u4e0a\u641c\u5f80\u53f3\u8fb9\u8d70\nend;\nbegin\nreadln(n,c);\nfor i:=1 to n do\n    begin\n      read(a[i],b[i]);\n      p:=p+b[i];\n    end;\nfor i:=1 to n-1 do\n    for j:=i+1 to n do\n        if a[i]>a[j] then\n           begin\n             a[0]:=a[i];a[i]:=a[j];a[j]:=a[0];\n             b[0]:=b[i];b[i]:=b[j];b[j]:=b[0];\n           end;  //\u9009\u6392 \uff08\u6211\u4e0d\u77e5\u9053\u8bfb\u8fdb\u6765\u7684\u65f6\u5019\u662f\u5426\u6309\u987a\u5e8f \u5c31\u6392\u4e86\u4e00\u4e0b\uff09\nf[c]:=true;p:=p-b[c];\nminw:=maxlongint;//\u6700\u5c0f\u503c\u4e00\u5f00\u59cb\u8bbe\u4e3a\u6700\u5927\ndfs(c,1);//\u5f00\u59cb\u65f6\u6240\u5728\u70b9\u4e3ac \u8d70\u8fc7\u4e00\u4e2a\u70b9\nwriteln(minw);\nend.\n\n```",
        "postTime": 1472740575,
        "uid": 19722,
        "name": "fy0123",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u989d\u3002\u3002\u3002\u3002\u3002\u3002\u8bb0\u5fc6\u5316\u641c\u7d22\n\n\u3010\u9644\u4e0a\u4ee3\u7801\u3011\uff1a\n\n```delphi\n\nvar  \n  n,c,ans,total:longint;  \n  dis,w:array[0..60]of longint;  \n  f:array[0..60]of boolean;  \n  \nprocedure dfs(t,tot,total,t1:longint);  \nvar  \n  i:longint;  \nbegin  \n  for i:=t-1 downto 1 do  \n    if f[i] then  \n      begin  \n        if tot+(dis[t]-dis[i])*(total-w[t])<ans then  \n          begin  \n            f[i]:=false;  \n            dfs(i,tot+(dis[t]-dis[i])*(total-w[t]),total-w[t],t1+1);  \n            f[i]:=true;  \n            break;  \n          end;  \n      end;  \n  for i:=t+1 to n do  \n    if f[i] then  \n      begin  \n        if tot+(dis[i]-dis[t])*(total-w[t])<ans then  \n          begin  \n            f[i]:=false;  \n            dfs(i,tot+(dis[i]-dis[t])*(total-w[t]),total-w[t],t1+1);  \n            f[i]:=true;  \n            break;  \n          end;  \n      end;  \n  if t1=n then  \n    if tot<ans then  \n      begin  \n        ans:=tot;  \n        exit;  \n      end;  \nend;  \n  \nprocedure main;  \nvar  \n  i:longint;  \nbegin  \n  readln(n,c);  \n  total:=0;  \n  for i:=1 to n do  \n    begin  \n      readln(dis[i],w[i]);  \n      f[i]:=true;  \n      total:=total+w[i];  \n    end;  \n  ans:=maxlongint;  \n  f[c]:=false;  \n  dfs(c,0,total,1);  \n  writeln(ans);  \nend;  \n\nbegin  \n  main;  \nend. \n\n```",
        "postTime": 1436521520,
        "uid": 3911,
        "name": "Skywalker_David",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u9898\u89e3\uff1a\n\n```delphi\nvar\n  a,w,d:array[0..51] of longint;\n  i,j,n,sum,min,c:longint;\nprocedure dg(i,v,sum,k:longint);var x,y:longint;\nbegin\n  if v>min then exit;{\u4e00\u6b65\u4f18\u5316\uff0c\u5982\u679c\u5f53\u524d\u7684\u529f\u7387\u5df2\u7ecf\u8d85\u8fc7\u4e4b\u524d\u7eaa\u5f55\u7684\u6700\u5c0f\u529f\u7387\u5c31\u76f4\u63a5\u8df3\u51fa\u3002}\n  if k=n then begin  min:=v; exit; end;{\u5982\u679c\u5982\u679c\u6240\u6709\u7684\u706f\u90fd\u5173\u5b8c\u4e86\uff0c\u90a3\u4e48\u8bb0\u5f55\uff08\u56e0\u4e4b\u524d\u5df2\u6709\u5224\u65ad\u6700\u5c0f\uff0c\u6240\u4ee5\u8fd9\u91cc\u5c31\u4e0d\u7528\u518d\u4e00\u6b21\u5224\u65ad\uff09\u7136\u540e\u8df3\u51fa}\n  x:=i-1;{x\u8bb0\u5f55\u5f80\u5de6\u8d70}\n  y:=i+1;{y\u8bb0\u5f55\u5f80\u53f3\u8d70}\n  while d[x]=1 do dec(x);{\u4e00\u76f4\u8d70\u5230\u6ca1\u6709\u8d70\u8fc7\u7684\u706f\uff08\u4e0b\u540c\uff09}\n  while d[y]=1 do inc(y);\n  if x>=1 then begin d[x]:=1;dg(x,v+(a[i]-a[x])*sum,sum-w[x],k+1);d[x]:=0; end;{\u56de\u6eaf\u641c\u7d22}\n  if y<=n then begin d[y]:=1;dg(y,v+(a[y]-a[i])*sum,sum-w[y],k+1);d[y]:=0;end;{\u56de\u6eaf\u641c\u7d22}\nend;\nbegin\n  readln(n,m);\n  inc(k);\n  for i:=1 to n do\n  begin\n    readln(a[i],w[i]);\n    sum:=sum+w[i];  {\u8bb0\u5f55\u8def\u706f\u7684\u603b\u529f\u7387}\n    end;\n  d[m]:=1;\n  min:=maxlongint;\n  dg(m,0,sum-w[m],0);{\u9012\u5f52\u641c\u7d22\uff0c\u53d8\u91cf\u5177\u4f53\u610f\u601d\u5982\u4e0a}\n  writeln(min);\nend.\n```\n\n\u8fd9\u9898\u7684\u4e2d\u5fc3\u601d\u60f3\u662f\u4e0d\u9700\u8003\u8651\u706f\u7684\u529f\u7387\u5927\u5c0f\u95ee\u9898\uff0c\u76f4\u63a5\u7528\u56de\u6eaf\u641c\u7d22\u6a21\u62df\u6bcf\u4e00\u79cd\u65b9\u6cd5\uff0c\u56e0\u4e3a\u706f\u7684\u6570\u91cf\u5e76\u4e0d\u662f\u5f88\u591a\uff08\u6700\u591a\u53ea\u6709\u4e94\u5341\u4e2a\uff09\uff0c\u6240\u4ee5\u53ea\u8981\u5bf9\u56de\u6eaf\u5145\u6ee1\u4e86\u4fe1\u4efb\uff0c\u90a3\u4e48\u8fd9\u9898\u5c31\u4e0d\u6210\u95ee\u9898\u4e86\u3002\n",
        "postTime": 1375247025,
        "uid": 147,
        "name": "\u91ce\u83dc\u6c64",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u8fd9\u9898\u662f\u4e2a\u50bb\u903cdp\u9898\n\n\u672c\u6765\u6709\u70b9\u505a\u4e0d\u6765\uff0c\u548c\u795efroggy\u804a\u4e86\u4e00\u4f1a\u513f\u5929\u540e\u5c31\u505a\u5f97\u6765\u4e86\uff0c\u5728\u6b64\u611f\u8c22\u795efroggy\u7684\u91d1\u5149\u52a0\u8eab\uff0c\u62ef\u6551\u4e86\u6211\u90a3\u540c\u6d46\u7cca\u4e00\u6837\u7684\u5927\u8111\n\n\n\u5e9f\u8bdd\u5c11\u8c08\uff0c\u6211\u4eec\u8bb2\u6b63\u89e3\n\n\u6211\u4eec\u8bbe$dp[l][r][0/1]$\u8868\u793a\u8001\u738b\u628a\u533a\u95f4[l,r]\u90fd\u7ed9\u5173\u4e86\uff0c\u800c\u6b64\u65f6\u8001\u738b\u7ad9\u5728\u5de6\u7aef\u70b9/\u53f3\u7aef\u70b9\u65f6\u7684\u6700\u5c0f\u503c\n\n\n\u7136\u540e\u6211\u4eec\u53d1\u73b0\u8fd9\u4e2a\u4e1c\u897f\u7684\u8f6c\u79fb\u662f\u663e\u7136\u7684\uff0c$dp[l][r][0]$\u53ef\u4ee5\u4ece$dp[l-1][r][0]$\u8f6c\u79fb\u8fc7\u6765\uff0c\u4e5f\u53ef\u4ee5\u4ece$dp[l][r+1][1]$\u8f6c\u79fb\u8fc7\u6765\n\n$dp[l][r][1]$\u7684\u60c5\u51b5\u4e5f\u662f\u5dee\u4e0d\u591a\u7684\n\n\uff08\u4f3c\u4e4e\u6211\u662f\u5012\u63a8\u7684...\u611f\u6027\u7406\u89e3\u4e00\u4e0b\uff1f\uff09\n\n\n\u7136\u540e\u8001\u738b\u5728\u4ece\u4e00\u4e2a\u70b9\u8dd1\u5230\u53e6\u4e00\u4e2a\u70b9\u53bb\u5173\u706f\u7684\u65f6\u5019\uff0c\u9664\u4e86\u88ab\u8001\u738b\u5173\u6389\u7684\u706f\u4ee5\u5916\uff0c\u5176\u4ed6\u706f\u90fd\u4f1a\u6d6a\u8d39\uff0c\u8fd9\u4e2a\u6211\u4eec\u7528\u524d\u7f00\u548c\u7ef4\u62a4\u4e00\u4e0b\u5c31\u597d\u4e86\n\n\n\u5c31\u53ef\u4ee5\u7528\u4e00\u4e2a$O(n^2)$\u7684dp\uff0c\u6109\u5feb\u5730\u628a\u8fd9\u9898\u963f\u6389\u4e86\n\n\n\n\n\n------------\n\n\u987a\u4fbf\u8bb2\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u8981\u8fd9\u6837\u8bbe\u8ba1\u72b6\u6001...\n\n\n\u8001\u738b\u662f\u7ad9\u5728\u4e00\u4e2a\u70b9\uff0c\u5411\u5176\u4ed6\u70b9\u53bb\u5173\u706f\u7684\uff0c\u60f3\u8c61\u6709\u4e00\u6392\u706f\u90fd\u662f\u4eae\u7684\uff0c\u7136\u540e\u6709\u4eba\u7ad9\u5728\u4e00\u4e2a\u706f\u65c1\u8fb9\uff0c\u4e00\u76f4\u4e71\u8dd1\u5173\u706f\uff0c\u800c\u4e14\u8fd9\u4e2a\u4eba\u4ed6\u8dd1\u8fc7\u7684\u706f\u5168\u90e8\u90fd\u5173\u4e0a\uff0c\u90a3\u4e48\u4e0d\u8bba\u5982\u4f55\uff0c\u90fd\u4f1a\u6709\u4e00\u6bb5\u706f\u6574\u9f50\u5730\u6697\u4e0b...\n\n\n\u6240\u4ee5\u6211\u4eec\u80fd\u7528\u533a\u95f4\u6765\u63cf\u8ff0\u8001\u738b\u5173\u706f\u7684\u72b6\u6001\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u4e86\n\n\n\n\n\u81f3\u4e8e\u4ee3\u7801\n\n\n```cpp\nvoid digui(int l,int r,int d){\n\tif(l==1 && r==n) return;\n\tif(dp[l][r][d]) return;\n\tint ans=0x3f3f3f3f;\n\tif(d==0){\n\t\tif(l-1>0) digui(l-1,r,d);\n\t\tif(r+1<=n) digui(l,r+1,d^1);\n\t\tint k1=dp[l-1][r][d]+(pos[l]-pos[l-1])*(sum[n]-(sum[r]-sum[l-1])),k2=dp[l][r+1][d^1]+(pos[r+1]-pos[l])*(sum[n]-(sum[r]-sum[l-1]));\n\t\tif(l-1>0) ans=min(ans,k1);\n\t\tif(r+1<=n) ans=min(ans,k2);\n\t\tdp[l][r][d]=ans;\n\t\treturn;\n\t}\n\tif(r+1<=n) digui(l,r+1,d);\n\tif(l-1>0) digui(l-1,r,d^1);\n\tint k1=dp[l-1][r][d^1]+(pos[r]-pos[l-1])*(sum[n]-(sum[r]-sum[l-1])),k2=dp[l][r+1][d]+(pos[r+1]-pos[r])*(sum[n]-(sum[r]-sum[l-1]));\n\tif(r+1<=n) ans=min(ans,k2);\n\tif(l-1>0) ans=min(ans,k1);\n\tdp[l][r][d]=ans;\n\treturn;\n} \n```\n\n\n\u8bb0\u5fc6\u5316\u641c\u7d22\u5b9e\u73b0\u4e00\u4e0b\uff0c\u4e0d\u8fc7\u7801\u98ce\u6bd2\u7624\uff0c\u4f30\u8ba1\u5927\u5bb6\u90fd\u770b\u4e0d\u61c2",
        "postTime": 1579258253,
        "uid": 141978,
        "name": "exzang",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "# \u53c8\u662f\u4e00\u4e2a\u533a\u95f4DP\n\u770b\u5230\u8fd9\u9053\u9898 \u7b2c\u4e00\u53cd\u5e94\u5c31\u662fdfs\u548cdp \u4f46\u662f\u7a0d\u5fae\u7b97\u4e86\u4e00\u4e0b\u65f6\u95f4\u590d\u6742\u5ea6 \u7531\u4e8e\u672c\u849f\u84bb\u4e0d\u4f1a\u7384\u5b66\u526a\u679d \u679c\u65addp\n\n\u7531\u4e8e\u662f\u533a\u95f4dp \u6240\u4ee5\u8fd8\u662f\u4e00\u6837 \u5148\u8bbe\u51faf(i,j) \u7528\u6765\u8868\u793a\u5c06i\u5230j\u8fd9\u4e2a\u533a\u95f4\u5185\u6240\u6709\u706f\u5173\u95ed\u6240\u8017\u7684\u7535\u91cf \u4f46\u662f \u7531\u4e8e\u8fd9\u9053\u9898\u4ed6\u9700\u8981\u8003\u8651\u5230\u65b9\u5411\u7684\u95ee\u9898 \u6240\u4ee5\u5f88\u660e\u663e \u5355\u5355\u4e00\u4e2a\u72b6\u6001f\u662f\u6ca1\u529e\u6cd5\u8003\u8651\u5230\u6240\u6709\u60c5\u51b5\u7684 \u4e8e\u662f\u5c31\u53ef\u4ee5\u518d\u5f00\u4e00\u4e2a\u72b6\u6001g(i,j) \u8fd9\u4e2a\u65f6\u5019 f\u5c31\u8868\u793a\u5c06i-j\u8fd9\u4e2a\u533a\u95f4\u706f\u5168\u90e8\u5173\u95ed\u5e76\u4e14\u4eba\u505c\u7559\u5728\u5de6\u8fb9 g\u5c31\u8868\u793a\u4eba\u505c\u7559\u5728\u53f3\u8fb9\u7684\u60c5\u51b5\n\n\u90a3\u4e48\u73b0\u5728\u8bbe\u51fa\u4e86\u72b6\u6001 \u8be5\u600e\u4e48\u8f6c\u79fb\u5462\uff1f\n\n\u6211\u4eec\u53ef\u4ee5\u5047\u8bbe\u8001\u5f20\u6bcf\u6b21\u53ea\u4f1a\u5173\u95ed\u4e00\u4e2a\u8def\u706f \u90a3\u4e48(i,j)\u5c31\u53ef\u4ee5\u7531(i+1,j)\u548c(i,j-1)\u63a8\u51fa\u6765 \u6240\u4ee5\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5c31\u662f\n\nf(i,j)=min(f(i,j),min(f(i+1,j)+\u8d70\u8fc7\u6765\u7684\u8017\u7535\uff0cg(i+1,j)+\u8d70\u8fc7\u6765\u7684\u8017\u7535))\n\n\u8fd9\u4e2a\u4ec5\u4ec5\u53ea\u662f\u901a\u8fc7(i+1,j)\u8f6c\u79fb\u8fc7\u6765\u7684f \u540c\u7406\u53ef\u4ee5\u63a8\u51fa\u6765\u901a\u8fc7(i,j-1)\u8f6c\u79fb\u7684f\uff0cg\u53ca\u901a\u8fc7(i+1,j)\u8f6c\u79fb\u8fc7\u6765\u7684g\n\n\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f f\u548cg\u7684\u533a\u522b \u4e00\u4e2a\u662f\u505c\u5728\u4e86\u5de6\u8fb9 \u4e00\u4e2a\u662f\u505c\u5728\u4e86\u53f3\u8fb9 \u6240\u4ee5 \u8f6c\u79fb\u72b6\u6001\u65f6 \u4ece\u4e24\u8fb9\u8d70\u8fc7\u6765\u6240\u6d88\u8017\u7684\u7535\u80fd\u4e0d\u540c \u5e76\u4e14 \u82e5\u662f\u7528(i+1,j)\u5f97\u5230(i,j) \u5373\u5411\u5de6\u5173\u6389\u4e00\u4e2a\u706f \u8981\u8bb0\u5f97g\u72b6\u6001\u5728\u8d70\u8fc7\u6765\u5173\u4e86\u706f\u540e \u8fd8\u9700\u8981\u8d70\u56de\u53bb \u7528(i,j-1)\u5f97\u5230(i,j)\u65f6 \u540c\u7406f\u8981\u8d70\u56de\u53bb\n\n\u7136\u540e\u8fd8\u6709\u5c31\u662f\u8017\u7535\u7684\u8ba1\u7b97 \u6211\u8fd9\u91cc\u662f\u7528\u4e86\u4e00\u4e2a\u524d\u7f00\u548c\u6570\u7ec4\u6765\u4f18\u5316\u65f6\u95f4\uff08~~\u5176\u5b9e\u4e0d\u4f18\u5316\u4e5f\u80fd\u8fc7\uff1f\u6bd5\u7adfn=50~~\uff09 \u7136\u540e\u4ee3\u7801\u5c31\u6bd4\u8f83\u6df7\u4e71\uff08\u81f3\u5c11\u6211\u8fd9\u4e48\u89c9\u5f97\uff09 \u603b\u7684\u6765\u8bf4 \u4ee3\u7801\u5b9e\u73b0\u8d77\u6765\u4e0d\u96be \u6ce8\u610f\u4e00\u4e0b\u7ec6\u8282\u95ee\u9898\u5c31\u597d\u4e86 \u7ec8\u70b9\u662f\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u7684\u63a8\u5bfc\n\n\u4e0b\u9762\u9644\u4e0a\u4ee3\u7801\n\n```cpp\n#include<iostream>\nusing namespace std;\n\nstruct lj{\n\tint wz,gl;\n}a[51];\n\nint dqgl=0;\n\nint f[51][51];\nint g[51][51];\nint pre[51]={0};\n\nint getz(int y,int z){\n\treturn (dqgl-pre[z]+pre[y]);\n}//\u5411\u5de6\u8d70\n\nint gety(int y,int z){\n\treturn (dqgl-pre[z-1]+pre[y-1]);\n}//\u5411\u53f3\u8d70\n\nint getzy(int y,int z){\n\treturn (dqgl-pre[z]+pre[y-1]);\n}//\u8d70\u56de\u5934\u8def\n\nint jl(int x,int y){\n\treturn a[y].wz-a[x].wz;\n}\n\nint main(){\n\tint n,c;\n\tcin>>n>>c;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>a[i].wz>>a[i].gl;\n\t\tdqgl+=a[i].gl;\n\t\tpre[i]=pre[i-1]+a[i].gl;\n\t}\n\tf[c-1][c]=getz(c-1,c)*jl(c-1,c);\n\tf[c][c+1]=gety(c,c+1)*jl(c,c+1)+getzy(c,c+1)*jl(c,c+1);\n\tg[c-1][c]= getz(c-1,c)*jl(c-1,c)+getzy(c-1,c)*jl(c-1,c); \n\tg[c][c+1]=gety(c,c+1)*jl(c,c+1);\n    \t//\u8d4b\u521d\u503c \u5c06\u8001\u5f20\u4f4d\u7f6e\u5de6\u53f3\u4e24\u8fb9\u5148\u9884\u5904\u7406\u4e00\u4e0b\n\tfor(int len=1;len<n;len++){\n\t\tfor(int i=1;i+len<=n;i++){\n\t\t\tint j=i+len;\n\t\t\tif(f[i+1][j]!=0){\n\t\t\t\tif(f[i][j]==0)\tf[i][j]=min(f[i+1][j]+getz(i,j)*jl(i,i+1),g[i+1][j]+getz(i,j)*jl(i,j));\n\t\t\t\telse \tf[i][j]=min(f[i][j],min(f[i+1][j]+getz(i,j)*jl(i,i+1),g[i+1][j]+getz(i,j)*jl(i,j)));\n\t\t\t\tif(g[i][j]==0) g[i][j]=min(g[i+1][j]+gety(i,j)*jl(i,j)+getzy(i,j)*jl(i,j),f[i+1][j]+getz(i,j)*jl(i,i+1)+getzy(i,j)*jl(i,j));\n\t\t\t\telse\tg[i][j]=min(g[i][j],min(g[i+1][j]+gety(i,j)*jl(i,j)+getzy(i,j)*jl(i,j),f[i+1][j]+getz(i,j)*jl(i,i+1)+getzy(i,j)*jl(i,j)));\n\t\t\t}//\u8fd9\u91cc\u9700\u8981\u4e00\u4e9b\u7279\u5224 \u56e0\u4e3a\u6570\u7ec4\u521d\u503c\u662f0\u561b \u4e0d\u7279\u5224\u5c31\u4f1a\u8bef\u7ed9\u6570\u7ec4\u8d4b\u503c \u4e0b\u540c\n\t\t\tif(g[i][j-1]!=0){\n\t\t\t\tif(f[i][j]==0) f[i][j]=min(g[i][j-1]+gety(i,j)*jl(j-1,j)+getzy(i,j)*jl(i,j),f[i][j-1]+gety(i,j)*jl(i,j)+getzy(i,j)*jl(i,j));\n\t\t\t\telse \tf[i][j]=min(f[i][j],min(g[i][j-1]+gety(i,j)*jl(j-1,j)+getzy(i,j)*jl(i,j),f[i][j-1]+gety(i,j)*jl(i,j)+getzy(i,j)*jl(i,j)));\t\n\t\t\t\tif(g[i][j]==0) g[i][j]=min(g[i][j-1]+gety(i,j)*jl(j-1,j),f[i][j-1]+gety(i,j)*jl(i,j));\n\t\t\t\telse\tg[i][j]=min(g[i][j],min(g[i][j-1]+gety(i,j)*jl(j-1,j),f[i][j-1]+gety(i,j)*jl(i,j)));\n\t\t\t}\n\t\t}\n\t}\n\tint ans=min(f[1][n],g[1][n]);\n\tcout<<ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1572372168,
        "uid": 130624,
        "name": "\u4e00\u4e2a\u6635\u79f0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u533a\u95f4DP, \u8003\u8651\u8bbe$dp[i][j][t]$\u4e3a\u5df2\u7ecf\u5173\u6389\u4e86$[i,j]$\u7684\u7535\u706f, \u4eba\u5728t\u7aef\u70b9\u5904\u65f6\u7684\u6700\u5c0f\u4ee3\u4ef7\n\n\u53ef\u4ee5\u63a8\u51fa\u65b9\u7a0b: \n\n$$ dp[i+1][j][0]+(p[n]-p[j]+p[i])*(loc[i+1]-loc[i]) -> dp[i][j][0] $$\n$$ dp[i][j-1][0]+(p[n]-p[j-1]+p[i-1])*(loc[j]-loc[i]) -> dp[i][j][1] $$\n$$ dp[i][j-1][1]+(p[n]-p[j-1]+p[i-1])*(loc[j]-loc[j-1]) -> dp[i][j][1] $$\n$$ dp[i+1][j][1]+(p[n]-p[j]+p[i])*(loc[j]-loc[i]) -> dp[i][j][0] $$\n\n\u76f4\u63a5DP... \u4e14\u6162, \u987a\u5e8f\u662f\u4ec0\u4e48...... \u597d\u50cf\u5f88\u9ebb\u70e6\u7684\u6837\u5b50......\n\n\u4f46\u662f\u5176\u5b9e\u53ef\u4ee5\u4e0d\u7528\u8003\u8651\u987a\u5e8f\u95ee\u9898\u7684, \u4e00\u4f4d\u8d85\u5f3a\u7684\u9009\u624b$wyx$\u8bf4\u8fc7: \n\n$\\text{\u300c\u8bb0\u5fc6\u5316\u641c\u7d22, \u5c31\u662f\u7528\u6765\u89e3\u51b3\u8fd9\u79cd\u987a\u5e8f\u6709\u5173\u7684DP\u7684\u300d}$\n\n\u5982\u679c\u91c7\u7528\u8bb0\u5fc6\u5316\u641c\u7d22, \u5565\u90fd\u4e0d\u7528\u60f3\u4e00\u987f\u7801, \u7801\u5b8cAC, \u6781\u5176\u5feb\u4e50, \u6bd4\u90a3\u4e9bDP\u4e0d\u77e5\u9053\u9ad8\u5230\u54ea\u91cc\u53bb\u4e86\n\ncode:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std; /*Copyright [tyqtyq](http://oiertyq.github.io). All rights served.*/\n#define f(i,x,y) for(int i=x,i##end=y;i<=i##end;++i)\n#define d(i,x,y) for(int i=x,i##end=y;i>=i##end;--i)\n#define ri register int\n#define ll long long\n#define il inline\nnamespace intio{char ch; int read(){ ri x=0,f=1; while(!isdigit((ch=getchar()))) f=ch=='-'?-1:1; while(isdigit(ch)) x=x*10+ch-'0', ch=getchar(); return x*f; } void read(int& x) {x = read();}}; using namespace intio;\nint max(int x, int y) {return x>y?x:y;} int min(int x, int y) {return x<y?x:y;}\n#define _ 100\nint loc[_], p[_];\nint dp[_][_][2] ;\nint n, c;\n// dp[i][j][t]: \u5df2\u7ecf\u5173\u6389\u4e86[i,j]\u7684\u7535\u706f, \u4eba\u5728t\u7aef\u70b9\u5904 \n// dp[i+1][j][0]+(p[n]-p[j]+p[i])*(loc[i+1]-loc[i]) -> dp[i][j][0]\n// dp[i][j-1][0]+(p[n]-p[j-1]+p[i-1])*(loc[j]-loc[i]) -> dp[i][j][1]\n// dp[i][j-1][1]+(p[n]-p[j-1]+p[i-1])*(loc[j]-loc[j-1]) -> dp[i][j][1]\n// dp[i+1][j][1]+(p[n]-p[j]+p[i])*(loc[j]-loc[i]) -> dp[i][j][0]\nvoid work(int i,int j){\n\tif(i>j) return ;\n\tif(dp[i+1][j][0]==0x3f3f3f3f) work(i+1, j);\n\tif(dp[i][j-1][0]==0x3f3f3f3f) work(i, j-1);\n\tdp[i][j][0] = min(dp[i+1][j][0]+(p[n]-p[j]+p[i])*(loc[i+1]-loc[i]), dp[i+1][j][1]+(p[n]-p[j]+p[i])*(loc[j]-loc[i]));\n\tdp[i][j][1] = min(dp[i][j-1][0]+(p[n]-p[j-1]+p[i-1])*(loc[j]-loc[i]), dp[i][j-1][1]+(p[n]-p[j-1]+p[i-1])*(loc[j]-loc[j-1]));\n}\nint main(){\n\tmemset(dp, 0x3f, sizeof(dp)) ;\n\tscanf(\"%d%d\",&n,&c) ;\n\tf(i,1,n) scanf(\"%d%d\", &loc[i], &p[i]), p[i] += p[i-1] ;\n\tdp[c][c][1] = dp[c][c][0] = 0 ;\n\twork(1,n);\n\tcout<<min(dp[1][n][1], dp[1][n][0]) ;\n\treturn 0;\n}\n\n```",
        "postTime": 1571066781,
        "uid": 133345,
        "name": "lightup37",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u662f\u4e2adp\u7684\u9898\u76ee\uff0c\u9996\u5148\u6211\u4eec\u5c31\u8981\u8003\u8651\uff0c\u8001\u5f20\u53bb\u5173\u8def\u706f\uff0c\u5b58\u4e0d\u5b58\u5728\u4e00\u79cd\u60c5\u51b5\u5c31\u662f\u6211\u4eba\u57283\u7684\u4f4d\u7f6e\uff0c\u6211\u53bb\u8d70\u52305\u5173\u706f\uff0c\u5728\u8d70\u52304\u53bb\u51734\u7684\u706f\u3002\u8fd9\u662f\u4e0d\u53ef\u80fd\u5b58\u5728\u7684\u662f\u4e0d\u662f\uff0c**\u4e5f\u5c31\u662f\u8bf4\u5173\u706f\u53ea\u4f1a\u662f\u4ece\u5df2\u7ecf\u5173\u597d\u706f\u7684\u533a\u95f4\u53bb\u5ef6\u4f38\u4e00\u4e2a\u5355\u4f4d**\uff0c\u5047\u8bbe\u6211\u4eec\u76ee\u524d\u57283 \u7684\u4f4d\u7f6e\uff0c\u90a3\u4e48\u6211\u4eec\u63a5\u4e0b\u6765\u5173\u7684\u4e0b\u4e00\u76cf\u706f\u5c31\u662f2\u6216\u8005\u662f4.\u6362\u4e00\u79cd\u8868\u8fbe\u5c31\u662f\uff0c\u5f53\u524d\u5df2\u7ecf\u5173\u597d\u706f\u7684\u533a\u95f4\u662f[3,3],\u90a3\u4e48\u6211\u4eec\u4e0b\u4e00\u6b65\u5173\u5b8c\u706f\u540e\u5c31\u53ea\u53ef\u80fd\u662f[2,3]\u6216\u8005\u662f[3,4]\uff0c\u5c31\u662f\u6240\u5728\u533a\u95f4\u7684\u5de6\u7aef\u70b9\u53bb-1\uff0c\u6216\u8005\u53f3\u7aef\u70b9\u53bb+1;\u5982\u679c\u6211\u4eec\u8bbe\u8ba1\u72b6\u6001\u662f f[i][j] \u8868\u793a\u5173\u5b8c[i,j]\u8fd9\u4e2a\u533a\u95f4\u7684\u706f\u6240\u82b1\u8d39\u7684\u6700\u5c11\u4ef7\u503c\u7684\u8bdd\uff0c\u90a3\u4e48\u4ece\u8d77\u70b9\u5904\u53bb\u8f6c\u79fb\u72b6\u6001\uff0c\u7b54\u6848\u5e94\u8be5\u5c31\u662ff[1][n];\n\u600e\u4e48\u8f6c\u5462\uff1f\n\u5c31\u662f\u5f53\u524d\u6211\u662f\u5728[i,j]\u8fd9\u4e2a\u533a\u95f4\u5185\uff0c\u7136\u540e\u6240\u5728\u4f4d\u7f6e\u662fnode\uff0c\u6211\u4eec\u6240\u5728\u8fd9\u4e2a\u533a\u95f4\u6240\u80fd\u5ef6\u4f38\u7684\u533a\u95f4\u4e5f\u662f\u56fa\u5b9a\u7684\uff0c\u5c31\u53ea\u662f[i-1, j]\u548c[i,j-1]\uff1b\n\u90a3\u4e48\n```cpp\nint t = abs(street_light[L - 1].node - node);\nf[L - 1][R] = min(f[L - 1][R], \n                  f[L][R] + t * sum[L - 1] + t * (sum[n] - sum[R]));\n```\nt\u5c31\u662f\u4ecenode\u8fd9\u4e2a\u4f4d\u7f6e\u8d70\u5230L-1\u8fd9\u4e2a\u706f\u4f4d\u7f6e\u7684\u65f6\u95f4\uff0c\u7136\u540esum\u6570\u7ec4\u662f\u4e00\u4e2a\u6240\u6709\u8def\u706f\u529f\u7387\u7684\u524d\u7f00\u548c\uff0c\u5176\u5b9e\u6211\u4eec\u5c31\u662f\u8981\u7b97\u73b0\u5728\u5269\u4e0b\u8fd8\u4eae\u7740\u7684\u8def\u706f\u7ecf\u8fc7\u8fd9t\u79d2\u540e\u6d88\u8017\u4e86\u591a\u5c11\u529f\u7387\u3002\n\u8fd9\u662fL-1,R+1\u7684\u8f6c\u79fb\u7684\u57fa\u672c\u4e00\u6837\u7684\u3002\n```cpp\nf[L][R + 1] = min(f[L][R + 1], \n                  f[L][R]  + t * sum[L - 1] + t * (sum[n] - sum[R]));\n```\n\u5982\u679c\u8fd9\u4e48\u53bb\u505a\uff0c\u7ed3\u679c\u53ea\u670990\u5206\uff0cwa\u6700\u540e\u4e00\u4e2a\u70b9~~\uff08\u6570\u636e\u592a\u6c34\u4e86\uff09~~ \u3002\u4e3a\u4ec0\u4e48\u53ea\u670990?\u56e0\u4e3a\u6211\u4eec\u8fd9\u4e48\u53bb\u8f6c\u79fb\u662f\u4f1a\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u4ec5\u4ec5\u662f\u8868\u793a\u4e86[i,j]\u533a\u95f4\u7684\u7b54\u6848\uff0c\u4f46\u662f\u6211ij\u533a\u95f4\u53bb\u5f80\u4e0b\u4e00\u4e2a\u533a\u95f4\u8f6c\u79fb\u7684\u65f6\u5019\uff0c\u6709\u4e24\u79cd\u53ef\u80fd\uff0c\u4e00\u79cd\u662f\u6211\u5728ij\u533a\u95f4\u7684i\u4f4d\u7f6e\uff0c\u4e00\u79cd\u662f\u5728ij\u533a\u95f4\u7684j\u4f4d\u7f6e\u3002\u7136\u540e\u8fd9\u4e24\u79cd\u4f4d\u7f6e\u5bf9\u4e8e\u4e0b\u4e00\u4e2a\u533a\u95f4\u7684\u8d21\u732e\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u6211\u4eec\u6ca1\u6709\u53bb\u5206\u522b\u8ba8\u8bba\u8fd9\u4e24\u79cd\u60c5\u51b5,\u5373\u4f7f\u4f60\u662f\u540c\u6837\u7684[i,j]\u533a\u95f4\uff0c\u4ece\u4e0d\u540c\u7684\u5730\u65b9\u5230\u8fbeij\u4ed6\u7684\u8d21\u732e\u4e5f\u4e0d\u4e00\u6837\u3002\u6240\u4ee5\u5c31\u662f\u5728\u52a0\u4e00\u7ef4\u5ea6\uff0c\u53bb\u8868\u793a\u6211\u73b0\u5728\u5728ij\u533a\u95f4\u7684\u5de6\u8fb9\u8fd8\u662f\u53f3\u8fb9\uff0c\u5728\u53bb\u8fdb\u884c\u8f6c\u79fb\u5373\u53ef\u3002\n```cpp\nvoid dp(int L,int R,int node,int value, int pan) {\n\tif (L == 1 && R == n) return;\n\tif (L - 1 >= 1) {\n\t\t//\u4ece\u5f53\u524dnode\u7684\u4f4d\u7f6e\u8d70\u5230street_light[L-1]\u7684\u8def\u706f\u7684\u4f4d\u7f6e\n\t\tint t =  node - street_light[L - 1].node;\n\t\tif (f[L - 1][R][0] > f[L][R][pan] + t * sum[L - 1] + t * (sum[n] - sum[R])) {\n\t\t\tf[L - 1][R][0] = min(f[L - 1][R][0], f[L][R][pan] + t * sum[L - 1] + t * (sum[n] - sum[R]));\n\t\t    dp(L - 1, R, street_light[L - 1].node, f[L - 1][R][0], 0);\n\t\t}\t\n\t}\n\tif (R + 1 <= n) {\n\t\t//\u4ece\u5f53\u524dnode\u7684\u4f4d\u7f6e\u8d70\u5230street_light[R+1]\u7684\u8def\u706f\u7684\u4f4d\u7f6e\n\t\tint t = street_light[R + 1].node - node;\n\t\tif (f[L][R + 1][1] > f[L][R][pan] + t * sum[L - 1] + t * (sum[n] - sum[R])) {\n\t\t\tf[L][R + 1][1] = min(f[L][R + 1][1], f[L][R][pan] + t * sum[L - 1] + t * (sum[n] - sum[R]));\n\t\t    dp(L, R + 1, street_light[R + 1].node, f[L][R + 1][1], 1);\n\t\t}\t\t\n\t}\n}\n```\n\u6211\u9009\u62e9\u662f\u53bb\u9012\u5f52\u7684\u5f62\u5f0f\u53bb\u586b\uff0c\u7136\u540epan\u8fd9\u4e2a\u53c2\u91cf\u5c31\u662f\u8868\u793a\u6211\u73b0\u5728\u5728L\uff0cR\u533a\u95f4\u7684\u5de6\u8fb9\u8fd8\u662f\u53f3\u8fb9\uff080\u8868\u793a\u5de6\u8fb9\uff0c1\u8868\u793a\u53f3\u8fb9\uff09\uff1b\n\u6211\u4eec\u4ece[L,R]\u5f80[L-1,R]\u53bb\u5ef6\u4f38\uff0c\u5f88\u660e\u663e\u5ef6\u4f38\u5b8c\u6211\u4eec\u662f\u5728\u5de6\u8fb9\uff0c\u6240\u4ee5\u5f97\u5230\u7684\u662ff[L-1][R][0];R+1\u7684\u8f6c\u79fb\u540c\u7406\uff0c\u5c31\u662f\u6211\u4eec\u5f80R+1\u53bb\u5ef6\u4f38\u4e5f\u5c31\u662f\u7ec8\u70b9\u5728\u53f3\u8fb9\uff0c\u5c31\u662f\u53ef\u4ee5\u5f97\u5230f[L][R+1][1]\u5176\u5b9e\u52a0\u4e86\u4e00\u7ef4\u5bf9\u4e8e\u4e0a\u9762\u4e8c\u7ef4\u4ec5\u4ec5\u53ea\u662f\u5728\u53bb\u8868\u793a\u4e86\u4f60\u5728\u8fd9\u4e2a\u533a\u95f4\u662f\u5728\u5de6\u7aef\u70b9\u8fd8\u662f\u53f3\u7aef\u70b9\u800c\u5df2\u3002\n\u6700\u540e\u7b54\u6848\u5c31\u662fmin(f[1][n][1],f[1][n][0]);\n```cpp\n\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<queue>\n#include<cmath>\n#include<cstring>\n#include<stack>\n#define ll long long\nusing namespace std;\nconst long long max_ = 1e9 + 7;\ninline ll read() {\n\tll s = 0, f = 1;\n\tchar ch = getchar();\n\twhile (ch<'0' || ch>'9') {\n\t\tif (ch == '-')\n\t\t\tf = -1;\n\t\tch = getchar();\n\t}\n\twhile (ch >= '0'&&ch <= '9') {\n\t\ts = s * 10 + ch - '0';\n\t\tch = getchar();\n\t}\n\treturn s * f;\n}\nint n,sum[100], first,f[100][100][2];\n//                    0\u8868\u793a\u5728\u5de6\u8fb9\uff0c1 \u8868\u793a\u5728\u53f3\u8fb9\nstruct k {\n\tint p, node;\n}street_light[100];\nvoid dp(int L,int R,int node,int value, int pan) {\n\tif (L == 1 && R == n) return;\n\tif (L - 1 >= 1) {\n\t\t//\u4ece\u5f53\u524dnode\u7684\u4f4d\u7f6e\u8d70\u5230street_light[L-1]\u7684\u8def\u706f\u7684\u4f4d\u7f6e\n\t\tint t =  node - street_light[L - 1].node;\n\t\tif (f[L - 1][R][0] > f[L][R][pan] + t * sum[L - 1] + t * (sum[n] - sum[R])) {\n\t\t\tf[L - 1][R][0] = min(f[L - 1][R][0], f[L][R][pan] + t * sum[L - 1] + t * (sum[n] - sum[R]));\n\t\t    dp(L - 1, R, street_light[L - 1].node, f[L - 1][R][0], 0);\n\t\t}\t\n\t}\n\tif (R + 1 <= n) {\n\t\t//\u4ece\u5f53\u524dnode\u7684\u4f4d\u7f6e\u8d70\u5230street_light[R+1]\u7684\u8def\u706f\u7684\u4f4d\u7f6e\n\t\tint t = street_light[R + 1].node - node;\n\t\tif (f[L][R + 1][1] > f[L][R][pan] + t * sum[L - 1] + t * (sum[n] - sum[R])) {\n\t\t\tf[L][R + 1][1] = min(f[L][R + 1][1], f[L][R][pan] + t * sum[L - 1] + t * (sum[n] - sum[R]));\n\t\t    dp(L, R + 1, street_light[R + 1].node, f[L][R + 1][1], 1);\n\t\t}\t\t\n\t}\n}\nint main() {\n\tcin >> n >> first;\n\tfor (int i = 0; i <= 70; i++) {\n\t\tfor (int j = 0; j <= 70; j++) {\n\t\t\tf[i][j][1] = 100000;\n\t\tf[i][j][0] = 1000000;\n\t\t}\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tcin>>street_light[i].node;\n\t\tcin>>street_light[i].p;\n\t\tsum[i] = sum[i - 1] + street_light[i].p;\n\t}\n\tf[first][first][1] = 0; f[first][first][0] = 0;\n\tdp(first, first, street_light[first].node,0,1);\n\tcout << min(f[1][n][1] , f[1][n][0]);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1570276623,
        "uid": 156874,
        "name": "Boxxxxxx",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u8fd9\u9898\u6211\u4eec\u5047\u8bbe\u6bcf\u6b21\u53ea\u80fd\u8d70\u5230\u4e0b\u4e00\u4e2a\u8def\u706f\u53bb\u5173\uff0c\u56e0\u4e3a\u4e2d\u95f4\u5df2\u7ecf\u5173\u7684\u8def\u706f\u662f\u4e0d\u4f1a\u6d88\u8017\u7535\u91cf\u7684\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u5173\u5fc3\u5df2\u7ecf\u5173\u7684\u8def\u706f\u7684\u5de6\u7aef\u70b9\u548c\u53f3\u7aef\u70b9\u5c31\u884c\u4e86\u3002\u6bcf\u4e00\u6b21\u53ef\u4ee5\u9009\u62e9\u66f4\u65b0\u5de6\u7aef\u70b9\u4ee5\u5de6\u7684\u8def\u706f\u6216\u8005\u662f\u5de6\u7aef\u70b9\u4ee5\u53f3\u7684\u7535\u706f\uff0c\u56e0\u4e3a\u6bcf\u4e00\u6b21\u5173\u5b8c\u5c31\u7559\u5728\u5f53\u524d\u8def\u706f\u7684\u4f4d\u7f6e\uff0c\u800c\u5f53\u524d\u88ab\u66f4\u65b0\u7684\u8def\u706f\u53ea\u6709\u53ef\u80fd\u662f\u5df2\u7ecf\u66f4\u65b0\u8def\u706f\u7684\u6700\u5de6\u7aef\u6216\u8005\u662f\u6700\u53f3\u7aef\uff0c\u6240\u4ee5\u5b9a\u4e49$f[0][l][r]$\u8868\u793a\u5df2\u7ecf\u66f4\u65b0\u4e86$l-r$\u7684\u8def\u706f\uff0c\u7136\u540e\u5f53\u524d\u7684\u4f4d\u7f6e\u5728\u6700\u5de6\u7aef\u5373$l$\u5904\uff0c$f[1][l][r]$\u8868\u793a\u5df2\u7ecf\u66f4\u65b0\u4e86$l-r$\u7684\u8def\u706f\uff0c\u7136\u540e\u5f53\u524d\u7684\u4f4d\u7f6e\u5728\u6700\u53f3\u7aef\u5373$r$\u5904\uff0c\u6bcf\u6b21\u53ef\u4ee5\u9009\u62e9\u5411\u5de6\u8d70\u6216\u8005\u5411\u53f3\u8d70\u66f4\u65b0\u3002\u6700\u540e\u8f93\u51fa$f[0][1][n]$\u548c$f[1][1][n]$\u7684\u6700\u5c0f\u503c\u5c31\u53ef\u4ee5\u4e86\u3002\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nint n,f[2][55][55],c,a[55],b[55],ans;//0\u8868\u793a\u5728\u5de6\u8fb9,1\u8868\u793a\u5728\u53f3\u8fb9 \nint calc(int l,int r)//\u8ba1\u7b97\u6ca1\u5173\u7535\u706f\u7684\u603b\u529f\u7387\n{\n\tint ans1=0,ans2=0;\n\tfor(int i=1;i<=n;i++)\n\t\tans1+=b[i];\n\tfor(int i=l;i<=r;i++)\n\t\tans2+=b[i];\n\treturn ans1-ans2;\n}\nint main()\n{\n\tcin>>n>>c;\n\tfor(int i=1;i<=n;i++)\n\t\tcin>>a[i]>>b[i];\n\tmemset(f,0x3f,sizeof(f));\n\tf[0][c][c]=0,f[1][c][c]=0;//\u521d\u59cb\u5316\u521d\u59cb\u4f4d\u7f6e\u4e3a0\n\tfor(int l=0;l<n;l++)//\u679a\u4e3e\u533a\u95f4\u7684\u957f\u5ea6\n\t\tfor(int i=1;i<=n-l;i++)//\u5de6\u7aef\u70b9\n\t\t{\n\t\t\tint r=i+l;//\u53f3\u7aef\u70b9\n\t\t\tif(i>1)\n\t\t\t{\n\t\t\t\tf[0][i-1][r]=min(f[0][i-1][r],f[0][i][r]+(a[i]-a[i-1])*calc(i,r));//\u5411\u5de6\u8d70\n\t\t\t\tf[0][i-1][r]=min(f[0][i-1][r],f[1][i][r]+(a[r]-a[i-1])*calc(i,r));\n\t\t\t}\n\t\t\tif(r<n)\n\t\t\t{\n\t\t\t\tf[1][i][r+1]=min(f[1][i][r+1],f[0][i][r]+(a[r+1]-a[i])*calc(i,r));\t//\u5411\u53f3\u8d70\t\t\t\n\t\t\t\tf[1][i][r+1]=min(f[1][i][r+1],f[1][i][r]+(a[r+1]-a[r])*calc(i,r));\n\t\t\t}\n\t\t}\n\tans=min(f[0][1][n],f[1][1][n]);\n\tcout<<ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1568193929,
        "uid": 67886,
        "name": "\u5730\u8868\u6700\u5f3a\u7537\u4eba",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "## [\u4e07\u6076\u4e4b\u6e90](https://www.luogu.org/problem/P1220)\n## \u524d\u8a00\n\u672c\u6765\u53ea\u662f\u6253\u7b97\u8bb0\u4e0b\u7b14\u8bb0\u7684\uff0c\u4f46\u662f\u53d1\u73b0\u8d8a\u5199\u8d8a\u591a\uff0c\u5fc3\u60f3\u8981\u4e0d\u5c31\u987a\u4fbf\u6539\u6210\u9898\u89e3\u5427\uff0c\u4e8e\u662f\u6709\u4e86\u6b64\u6587\uff0c\u672c\u6587\u4e5f\u53c2\u8003\u4e86\u4e00\u4e9b\u9898\u89e3\uff0c\u56e0\u6b64\u672c\u6587\u4ec5\u4f5c\u4e3a\u5176\u5b83\u9898\u89e3\u7684\u4e00\u4e9b\u8865\u5145\uff0c\u4e00\u4e9b\u505a\u9898\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898\u3002\n## \u6b63\u9898\n\n### 1. \u8fd9\u662f\u4e00\u9053\u533a\u95f4\u52a8\u6001\u89c4\u5212\uff08\u6700\u91cd\u8981\u7684\u8fd8\u662f\u8981\u6709\uff09\n\n>> \u533a\u95f4dp\uff1a\u533a\u95f4dp\u5c31\u662f\u5728\u533a\u95f4\u4e0a\u8fdb\u884c\u52a8\u6001\u89c4\u5212\uff0c\u6c42\u89e3\u4e00\u6bb5\u533a\u95f4\u4e0a\u7684\u6700\u4f18\u89e3\u3002\u4e3b\u8981\u662f\u901a\u8fc7\u5408\u5e76\u5c0f\u533a\u95f4\u7684 \u6700\u4f18\u89e3\u8fdb\u800c\u5f97\u51fa\u6574\u4e2a\u5927\u533a\u95f4\u4e0a\u6700\u4f18\u89e3\u7684dp\u7b97\u6cd5\u3002\n\n\u600e\u4e48\u770b\u51fa\u6765\u7684\u5462\uff0c\u9996\u5148\u5173\u706f\u662f\u6ca1\u6709\u4ee3\u4ef7\u7684\uff0c\u90a3\u4e48\u5047\u5982\u6211\u4eec\u5728\u6700\u5de6\u8fb9\uff0c\u90a3\u4e48\u53ea\u9700\u8981\u4e00\u8def\u5f80\u53f3\u8d70\u5c31\u4e00\u5b9a\u662f\u6700\u4f18\u89e3\uff0c\u4f46\u662f\u5982\u679c\u5728\u4e2d\u95f4\u7684\u8bdd\uff0c\u90a3\u4e48\u53ef\u80fd\u4e00\u4f1a\u5f80\u5de6\u4e00\u4f1a\u5f80\u53f3\uff0c\u5047\u5982\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e86\u67d0\u4e2a\u533a\u95f4\u7684\u6700\u4f18\u89e3\uff0c\u90a3\u4e48\u8fd9\u4e2a\u533a\u95f4\u5411\u5de6\u6216\u5411\u53f3\u518d\u62d3\u5c55\u4e00\u4e2a\u5355\u4f4d\u4e5f\u4ecd\u7136\u4f1a\u662f\u6700\u4f18\u7684\uff0c\u56e0\u6b64**\u6ee1\u8db3\u533a\u95f4dp\u7684\u7279\u70b9**\u3002\n\n**\u6bcf\u6b21\u7684\u9009\u62e9**\u4e5f\u5f88\u7b80\u5355\uff0c\u5728\u4e00\u4e2a\u533a\u95f4\u91cc\uff0c\u8981\u4e48\u5f80\u53f3\u8d70\uff0c\u8981\u4e48\u5f80\u5de6\u8d70\uff0c\u5e76\u4e14\u6211\u4eec\u53ef\u4ee5\u5f88\u5bb9\u6613\u53d1\u73b0\u5173\u5b8c\u4e00\u4e2a\u533a\u95f4\u8981\u4e48\u5728\u6700\u5de6\u8fb9\uff0c\u8981\u4e48\u5728\u53f3\u8fb9\uff0c\u5426\u5219\u4f1a\u5e26\u6765\u989d\u5916\u7684\u6d6a\u8d39\uff0c\u6240\u4ee5\u6211\u4eec\u7684\u9009\u62e9\u5c31\u53ef\u4ee5\u8868\u8fbe\u6210\uff0c\u5728\u4e00\u4e2a\u533a\u95f4\u7684\u6700\u5de6\u8fb9\u65f6\uff0c\u8981\u4e48\u7ee7\u7eed\u5f80\u5de6\u8d70\uff0c\u8981\u4e48\u6298\u8fd4\u5411\u53f3\u8d70\uff0c\u5728\u6700\u53f3\u8fb9\u65f6\u4e5f\u540c\u7406\u3002\u7531\u6b64\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a\n\n```cpp\ndp[i][j][0] = min(dp[i+1][j][0]+power(),dp[i+1][j][1]+power());\ndp[i][j][1] = min(dp[i][j-1][0]+power(),dp[i][j-1][1]+power());\n//\u5176\u4e2ddp[a][b][0/1]\u8868\u793a\u5173\u95ed\u533a\u95f4[a,b]\u7684\u706f\u540e\u5728\u5de6\u8fb9\u6216\u5728\u53f3\u8fb9 \n//power\uff08\uff09\u8868\u793a\u672a\u5173\u7684\u706f\u7684\u8017\u80fd \n```\n## 2.\u53ea\u6709\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u8fd8\u4e0d\u591f \n\u867d\u7136\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u6709\u4e86\uff0c\u4f46\u662f\u8fd9\u9898\u5e76\u6ca1\u6709\u90a3\u4e48\u5bb9\u6613\u5c31\u53ef\u4ee5\u6c34\u8fc7\u53bb\uff0c\u8fd9\u91cc**i\u548cj\u7684\u679a\u4e3e\u65b9\u5f0f**\u4e5f\u662f\u4e00\u4e2a\u9ebb\u70e6\u7684\u70b9\u3002\n\n\u9996\u5148\u5f88\u663e\u7136dp[c][c][0/1]\u662f\u4e3a0\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8003\u8651**\u4ece\u4e2d\u95f4\u5411\u4e24\u8fb9\u62d3\u5c55**\uff0c\u4f46\u662f\u8fd9\u91cc\u4e5f\u6709**\u4e24\u79cd\u65b9\u5f0f**\n\n\u4e00\u79cd\u662f\u5916\u5c42\u679a\u4e3ei\uff0c\u5185\u5c42\u679a\u4e3ej\uff0c\u5373\u5148\u679a\u4e3e\u8d77\u70b9\u518d\u62d3\u5c55\u7ec8\u70b9\n\n\u4e00\u79cd\u662f\u5916\u5c42\u679a\u4e3ej\uff0c\u5185\u5c42\u679a\u4e3ei\u3002\u5373\u5148\u679a\u4e3e\u7ec8\u70b9\u518d\u62d3\u5c55\u8d77\u70b9\n\n\u8be6\u89c1\u4ee3\u7801\u2193\u2193\u2193\n```cpp\n for(int i=c-1;i>0;i--)\n        for(int j=c+1;j<=n;j++)\n        {\n            dp[i][j][0]=min(dp[i+1][j][0]+power(i,i+1,i,j+1),dp[i+1][j][1]+power(i,j,i,j+1));\n            dp[i][j][1]=min(dp[i][j-1][0]+power(i,j,i-1,j),dp[i][j-1][1]+power(j-1,j,i-1,j));\n        }//c\u4e3a\u521d\u59cb\u5730\u70b9\n        \nfor(int j=c;j<=n;j++){\n\tfor(int i=j-1;i>0;i--){\n\t\tdp[i][j][0] = min(dp[i+1][j][0]+power(i,i+1,i,j+1),dp[i+1][j][1]+power(i,j,i,j+1));\n\t\tdp[i][j][1] = min(dp[i][j-1][0]+power(i,j,i-1,j),dp[i][j-1][1]+power(j-1,j,i-1,j));\n\t\t}\n\t}\n```\n\u4ed6\u4eec\u5e76\u4e0d\u4e00\u5b9a\u90fd\u662f\u6b63\u89e3\uff0c\u4e3a\u6b64\u6211\u4eec\u53ef\u4ee5\u5c1d\u8bd5\u6a21\u62df\u4e00\u4e0b\uff0c\u7b2c\u4e00\u79cd\u662f\u5148\u679a\u4e3e\u8d77\u70b9\u518d\u7ec8\u70b9\uff0c\u62d3\u5c55\u65b9\u5f0f\u662f\u8fd9\u6837\u7684\uff0c\u89c9\u5f97\u56fe~~\u5947\u4e11\u65e0\u6bd4~~\u96be\u4ee5\u63a5\u53d7\u7684\u8bdd\u53ef\u4ee5\u76f4\u63a5\u770b\u4e0b\u9762\u7684\u7ed3\u8bba\u3002\n~~\u9ad8\u80fd\u9884\u8b66~~\n![](https://cdn.luogu.com.cn/upload/image_hosting/9bh0godg.png)\n\n\u5916\u5c42\u5faa\u73af\u5373\u5708\u5708\u7531\u6df1\u84dd\u5230\u7eff\u518d\u5230\u6d45\u84dd\u62d3\u5c55\uff0c\u5185\u5c42\u5faa\u73af\u5373\u5708\u5708\u5411\u53f3\u62d3\u5c55\uff0c\u7531\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u53ef\u4ee5\u770b\u51fa\u5728\u8fd9\u79cd\u679a\u4e3e\u65b9\u5f0f\u4e0b\uff0c\u6709\u4e00\u4e9b\u533a\u95f4\u5e76\u4e0d\u80fd\u987a\u5229\u7684\u4ece\u5b50\u7ed3\u6784\u9012\u63a8\u81f3\u7236\u7ed3\u6784\uff08\u4f8b\u5982\u6df1\u84dd\u7684\u5708\u5708\u90fd\u6ca1\u6709\u4e0d\u80fd\u8f6c\u79fb\u5230\u53f3\u5b50\u533a\u95f4\uff09\uff0c\u6240\u4ee5\u8fd9\u79cd\u65b9\u6cd5\u662f\u4e0d\u884c\u7684\uff0c\uff08\u5176\u5b9e\u6211\u731c\u60f3\u8fd9\u79cd\u679a\u4e3e\u65b9\u5f0f\u53ef\u4ee5\u7528\u4e8e\u5237\u8868\u6cd5\uff0c\u4f46\u662f\u4e0d\u77e5\u9053\u884c\u4e0d\u884c\uff09\u518d\u770b\u7b2c\u4e8c\u79cd\uff0c\u5148\u679a\u4e3e\u7ec8\u70b9\uff0c\u518d\u679a\u4e3e\u8d77\u70b9\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3lhppyzr.png)\n\n\u679a\u4e3e\u65b9\u5f0f\u662f\u84dd\uff0c\u7c89\uff0c\u6a59\uff0c\u7d2b\uff0c\u5708\u5708\u5411\u5de6\u62d3\u5c55\u3002\u663e\u7136\uff0c\u8fd9\u79cd\u679a\u4e3e\u65b9\u5f0f\u5728\u6c42dp[i][j][0/1]\u65f6\uff0c\u5176\u5de6\u53f3\u7684\u5b50\u533a\u95f4\u7684\u7b54\u6848\u90fd\u662f\u5df2\u7ecf\u786e\u5b9a\u4e0b\u6765\u4e86\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8f7b\u677e\u5f97\u5230\u6700\u4f18\u89e3\u3002\n\n\u603b\u4e4b\uff0c\u5bf9\u4e8e$dp[i][j][0]$,\u6211\u4eec\u8981\u786e\u4fdd$dp[i+1][j][0]/[1]$\u548c$dp[i][j-1][0]/[1]$\u5df2\u7ecf\u66f4\u65b0\uff0c\u4e8e\u662f\uff0c\u6211\u4eec\u6b63\u5e8f\u679a\u4e3ej\uff0c\u6b63\u5e8f\u679a\u4e3ei\u3002\n\n## 3. power\uff08\uff09\u51fd\u6570\uff08\u8ba1\u7b97\u5269\u4f59\u80fd\u8017\uff09\n\u53e6\u5916\u4e00\u4e2a\u5f88\u9ebb\u70e6\u7684\u70b9\u65f6\u5982\u4f55\u8ba1\u7b97\u5269\u4f59\u706f\u7684\u80fd\u8017\uff0c\u76f4\u89c2\u6765\u8bb2\u5c31\u662f\u5168\u90e8\u706f\u7684\u80fd\u8017\u51cf\u53bb\u533a\u95f4\u706f\u7684\u80fd\u8017\u4e58\u4ee5\u65f6\u95f4\u5373\u53ef\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u60f3\u5230\u53ef\u4ee5\u7528**\u524d\u7f00\u548c**\uff08sumv[x]\u8868\u793a\u4ece1\u53f7\u706f\u5230x\u53f7\u706f\u7684\u80fd\u8017\u603b\u548c\uff09\u6765\u8ba1\u7b97\uff0c\u4f46\u662f\u8fd9\u91cc\u9690\u542b\u7740\u4e00\u4e2a**\u8fb9\u754c\u95ee\u9898**\uff0c\u9996\u5148\u5148\u4e0a\u4ee3\u7801\n```cpp\nint power(int i,int j,int l,int r)\n//l,r\u662f\u5de6\u5f00\u53f3\u5f00\u533a\u95f4\uff08\u53d6\u4e0d\u5230\uff09 \n//\u8868\u793a\u4ece\u7b2ci\u53f7\u706f\u8d70\u5230\u7b2cj\u53f7\u706f\u65f6\uff0c\u9664l\u5230r\u4e4b\u5916\u7684\u706f\uff08\u672a\u5173\u7684\u706f\uff09\u7684\u8017\u80fd \n{\n    return (L[j]-L[i])*(sumv[n]-(sumv[r-1]-sumv[l]));\n}\n//(L[j]-L[i])\u662f\u8def\u7a0b\uff0c\u6570\u503c\u4e0a\u7b49\u4e8e\u65f6\u95f4\n//sumv[x]\u662fx\u7684\u524d\u7f00\u548c\uff0c(sumv[r-1]-sumv[l])\u662f\u6240\u6c42\u533a\u95f4\u7684\u80fd\u8017\u548c\n```\n\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u662fr-1\u5462\uff0c\u5176\u5b9e\u6539\u6210r\u4e5f**\u6ca1\u95ee\u9898**\uff0c\u4e0d\u8fc7\u5c31\u9700\u8981\u4f60\u5728\u5176\u5b83\u5730\u65b9\u4e5f\u505a\u51fa\u76f8\u5e94\u7684\u66f4\u6539\uff0c\u8fd9\u91cc\u4f7f\u7528r-1\u662f\u4fdd\u8bc1\u8ba1\u7b97\u65f6\u7528\u7684\u533a\u95f4\u65f6\u5f00\u533a\u95f4\uff0c\u4e5f\u5c31\u662f\u4e0d\u53d6\u5b83\uff0c\u8fbe\u5230\u4e24\u8fb9\u7684\u7edf\u4e00\uff0c~~\u6709\u4e00\u79cd\u5bf9\u79f0\u7f8e~~\uff0c\u770b\u8d77\u6765\u8212\u670d\u4e00\u70b9\n\n\u6700\u91cd\u8981\u7684\u662f\u53ef\u4ee5\u907f\u514d\u4e00\u4e9b\u8c1c\u4e4bbug\u3002\u81f3\u4e8e\u600e\u4e48\u77e5\u9053\u5b83\u662f\u5de6\u5f00\u53f3\u5f00\u7684\u533a\u95f4\u53ef\u4ee5\u5199\u4e2a\u6d4b\u8bd5\u524d\u7f00\u548c\u7684\u7a0b\u5e8f\u6765\u8bd5\u4e00\u4e0b\uff0c\u5206\u5757\u8c03\u8bd5\u81ea\u5df1\u7684\u7a0b\u5e8f\u53ef\u4ee5\u7701\u53bb\u5f88\u591a\u5e72\u6270\u3002\n\n[\u9644\u4ef61\uff1a\u524d\u7f00\u548c\u6d4b\u8bd5\u7a0b\u5e8f](https://www.luogu.org/paste/tr7vya1r)\n\n\n[\u9644\u4ef62\uff1aAC\u4ee3\u7801](https://www.luogu.org/paste/ypaks6it)",
        "postTime": 1567848283,
        "uid": 50484,
        "name": "tsrigo",
        "ccfLevel": 0,
        "title": "P1220 \u5173\u8def\u706f\u5c0f\u7ed3"
    },
    {
        "content": "dp+\u8bb0\u5fc6\u5316\u641c\u7d22  \n\u9996\u5148\uff0c\u611f\u89c9\u662f\u4e2a\u533a\u95f4dp  \n\u7136\u540e\u8bbe\u8ba1\u72b6\u6001\uff0c\u7528dp[i][j]\u8868\u793a\u5728\u5904\u7406[i,j]\u533a\u95f4\u65f6\u603b\u7ebf\u8def\u6d88\u8017\u7684\u6700\u5c11\u7684\u7535\u91cf  \n\u4f46\u53d1\u73b0\u8fd9\u6837\u5e76\u4e0d\u80fd\u5b8c\u6574\u7684\u8868\u793a\u4e00\u4e2a\u72b6\u6001\uff0c\u4e8e\u662f\u52a0\u4e00\u4e2a\u540e\u7f00\uff0c\u7528[0]\u8868\u793a\u5904\u7406\u5b8c\u533a\u95f4\u540e\u5728\u5de6\u65b9\uff0c\u7528[1]\u8868\u793a\u5904\u7406\u5b8c\u533a\u95f4\u540e\u5728\u53f3\u65b9  \n\u53ef\u77e5dp[i][j][0]\u53ea\u80fd\u7531dp[i+1][j]\u63a8\u5f97\uff0c\u7528dp[i+1][j][0/1]+\u5904\u7406i\u5230i+1\u6240\u6d88\u8017\u7684\u7535\u91cf  \n\u540c\u7406dp[i][j][1]\u53ea\u80fd\u7531dp[i][j-1]\u63a8\u5f97  \n\u540c\u65f6\u56e0\u4e3a\u6709c\u7684\u5b58\u5728\uff0cdp\u9700\u8981\u4ecec\u5f00\u59cb\u5f80\u4e24\u8fb9\u63a8\uff0cdp\u987a\u5e8f\u5f88\u96be\u60f3\uff0c\u6240\u4ee5\u5e72\u8106\u5199\u6210\u8bb0\u5fc6\u5316\u4e86  \n\u6700\u540e\uff0c\u5f53dp\u6709\u53d6min\u64cd\u4f5c\u65f6\uff0c\u4e00\u822c\u90fd\u7ed9\u521d\u59cb\u503c\u8d4b\u503c\u4e00\u4e2a\u6781\u5927\u503c  \n```\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint n,c,dp[60][60][2],w[60],p[60],sum[60],t;\nint solve(int i,int j,int qaq)\n{\n\tif(dp[i][j][qaq]<1e7+7)\n\t{\n\t\treturn dp[i][j][qaq];\n\t}\n\tif(i<0||i>c||j>n)return 1e7+7;\n\tif(qaq==0)\n\t{\n\t\tdp[i][j][0]=min(solve(i+1,j,0)+(p[i+1]-p[i])*(sum[n]+sum[i]-sum[j]),solve(i+1,j,1)+(p[j]-p[i])*(sum[n]+sum[i]-sum[j]));\n\t\tif(dp[i][j][0]<=0)dp[i][j][1]=1e7+7;\n\t}\n\telse \n\t{\n\t\tdp[i][j][1]=min(solve(i,j-1,1)+(p[j]-p[j-1])*(sum[n]+sum[i-1]-sum[j-1]),solve(i,j-1,0)+(p[j]-p[i])*(sum[n]+sum[i-1]-sum[j-1]));\n\t\tif(dp[i][j][1]<=0)dp[i][j][1]=1e7+7;\n\t}\n\treturn dp[i][j][qaq];\n}\nint main()\n{\n    cin>>n>>c;\n    for(int i=1;i<=n;i++)\n    {\n        cin>>p[i]>>w[i];\n        sum[i]=sum[i-1]+w[i];\n    }\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=n;j++)\n        {\n            dp[i][j][1]=dp[i][j][0]=1e7+7;\n        }\n    }\n    dp[c][c][1]=dp[c][c][0]=0;\n    cout<<min(solve(1,n,0),solve(1,n,1));\n    return 0;\n}\n```\n",
        "postTime": 1558182550,
        "uid": 86830,
        "name": "\u4e2d\u4e8c\u75c5",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u5bf9\u4e8e\u8fd9\u9053\u9898\u76ee\uff0c\u770b\u5230\u7b2c\u4e00\u60f3\u6cd5\uff1a\u7206\u641c\u3002\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u4e00\u65b9\u6cd5\u786e\u5b9e\u662f\u53ef\u884c\u7684\u3002\u6211\u5199\u8fd9\u7bc7\u9898\u89e3\u53ea\u662f\u60f3\u8bf4\u660e\u4e24\u4e2a\u6211\u8ddf\u522b\u4eba\u4e0d\u4e00\u6837\u7684\u5730\u65b9\u3002\n\n### 1. \u521d\u59cb\u89e3\n\u60f3\u5fc5\u5f88\u591a\u4eba\u7684dfs\u7a0b\u5e8f\u91cc\u90fd\u4f1a\u6709\u8fd9\u6837\u4e00\u6bb5\u5427\uff1a\n```cpp\n// ......\nint ans = inf;\n// ......\nint dfs(/* ...... */)\n{\n\tif (\u5f53\u524d\u8017\u7535 >= ans) return;\n}\n```\n\u53c8\u7531\u9898\u76ee\u201c\u8d2a\u5fc3\u662f\u9519\u8bef\u7684\u201d\uff0c\u6211\u4eec\u7075\u673a\u4e00\u52a8\uff1a\u867d\u7136\u8d2a\u5fc3\u662f\u9519\u8bef\u7684\uff0c\u4f46\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u8d2a\u5fc3\u83b7\u5f97\u4e00\u4e2a\u4e0d\u9519\u7684\u521d\u59cb\u89e3\uff08``ans``\uff09\u5440\uff01\n\n~~\u8fd9\u6837\u4f1a\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u63d0\u9ad8\u7a0b\u5e8f\u7684\u8fd0\u884c\u6548\u7387~~ \n\n\u5047\u7684\uff0c\u624d\u5feb\u4e86 7ms (39ms -> 32ms)\n\n### 2. \u8bb0\u5fc6\u5316\n\n\u6709\u7684\u4eba\u8868\u793a\uff1a\u8bb0\u5fc6\u5316\u4e0d\u884c\uff0c\u4f1a\u70b8\u3002\n\n~~\u6211\u7684\u8138\u53ef\u80fd\u4e0d\u592a\u9ed1~~\n\n\u6211\u7684\u8bb0\u5fc6\u5316\n```cpp\nint record[53][53][53];\n\nvoid dfs(int p, int tot, int secl, int secr)\n{\n\t// p : \u5f53\u524d\u8001\u5f20\u7684\u4f4d\u7f6e\n    // tot : \u5f53\u524d\u8017\u7535\n    // 1 ~ secl & secr ~ n : \u8fd8\u6ca1\u6709\u5173\u706f\u7684\u533a\u95f4\n\tif (tot >= ans) return;\n\tif (tot >= record[secl][secr][p]) return;\n\telse record[secl][secr][p] = tot;\n\tif (secl == 0 && secr == n + 1) {\n\t\tans = tot;\n\t\treturn;\n\t}\n\t/*\n    \t\u4e00\u4e9b\u7ee7\u7eed\u9012\u5f52\u7684\u4ee3\u7801\uff0c\u4e0d\u653e\u4e86\uff0c\u5927\u5bb6\u90fd\u61c2\n        \u6211\u7684\u7a0b\u5e8f\u4e00\u4e2a\u6bd4\u8f83\u8017\u65f6\u7684\u5730\u65b9\u662f\u201c\u4e00\u6b21\u79fb\u52a8\u4e00\u4e2a\u70b9\u201d\n    */\n}\n```",
        "postTime": 1550561952,
        "uid": 63720,
        "name": "brealid",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f\u3011"
    },
    {
        "content": "### \u6211\u8fd9\u8f88\u5b50\u90fd\u4e0d\u60f3\u518d\u5199\u8fd9\u6837\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e86\n\u8fd9\u9053\u9898\u6211\u4eec\u8003\u8651\u533a\u95f4dp\uff0cdp[i][j][0/1]\u8868\u793a\u5728\u5173\u6389\u95ed\u533a\u95f4[i,j]\u4e0a\u6240\u6709\u7684\u706f\u540e\uff0c\u6240\u82b1\u8d39\u7684\u6700\u5c0f\u4ee3\u4ef7\uff0c0\u8868\u793a\u5728\u533a\u95f4\u5de6\u8fb9\uff0c1\u8868\u793a\u5728\u533a\u95f4\u53f3\u8fb9\u3002\n\n## \u8f6c\u79fb\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5f88\u597d\u60f3\uff0c\u5c31\u662f\u592a\u957f\u4e86\u3002\n\n```cpp\n\ninline int sum( int i , int j , int l , int r ){\n\treturn ( pos[ i ] - pos[ j ] ) * ( qzh[ l - 1 ] + qzh[ n ] - qzh[ r ] );\n}//\u8fd9\u4e2a\u51fd\u6570\u7528\u4e8e\u8ba1\u7b97\uff0c\u4ece\u706fi\u8d70\u5230\u706fj\uff0c\u540c\u65f6\u533a\u95f4[l,r]\u5185\u6240\u6709\u7684\u706f\u5df2\u7ecf\u88ab\u5173\u95ed\u7684\u60c5\u51b5\u4e0b\uff0c\u82b1\u8d39\u7684\u4ee3\u4ef7\u3002\n\ndp[ i ][ j ][ 0 ] = min( min( dp[ i ][ j - 1 ][ 1 ] + sum( j , j - 1 , i , j - 1 ) + sum( j , i , i , j ) , dp[ i ][ j - 1 ][ 0 ] + sum( j , i , i , j - 1 ) + sum( j , i , i , j ) ) , min( dp[ i + 1 ][ j ][ 0 ] + sum( i + 1 , i , i + 1 , j ) , dp[ i + 1 ][ j ][ 1 ] + sum( j , i , i + 1 , j ) ) );  \t  \ndp[ i ][ j ][ 1 ] = min( min( dp[ i + 1 ][ j ][ 0 ] + sum( i + 1 , i , i + 1 , j ) + sum( j , i , i , j ) , dp[ i + 1 ][ j ][ 1 ] + sum( j , i , i + 1 , j ) + sum( j , i , i , j ) ) , min( dp[ i ][ j - 1 ][ 1 ] + sum( j , j - 1 , i , j - 1 ) , dp[ i ][ j - 1 ][ 0 ] + sum( j , i , i , j - 1 ) ) );\n```\n\n\u6211\u4eec\u8003\u8651dp[i][j][0]\u5982\u4f55\u8f6c\u79fb\uff0c\u6709\u56db\u79cd\u60c5\u51b5\uff08\u4e25\u683c\u6765\u8bf4\u7684\u786e\u67094\u79cd\uff0c\u4f46\u5176\u4e2d\u4e24\u79cd\u8f6c\u79fb\u5f88**\u52a3**\uff0c\u6240\u4ee5\u6211\u770b\u5230\u5f88\u591adalao\u6ca1\u6709\u5199\u90a3\u4e24\u79cd\u5c31\u8fc7\u4e86\uff09\u3002\u56db\u79cd\u60c5\u51b5\u5206\u522b\u662f\uff1a\n\n1.\u4ecei+1\u5230i\u5173\u706f\n\n```cpp\ndp[ i + 1 ][ j ][ 0 ] + sum( i + 1 , i , i + 1 , j )\n```\n\n2.\u4ecej\u5230i+1\u5173\u706f\u518d\u5230i\n\n```cpp\ndp[ i + 1 ][ j ][ 1 ] + sum( j , i , i + 1 , j )\n```\n\n3.\u4ecej-1\u5230j\u5173\u706f\u5728\u518d\u6298\u8fd4\u56dei\n\n```cpp\ndp[ i ][ j - 1 ][ 1 ] + sum( j , j - 1 , i , j - 1 ) + sum( j , i , i , j )\n```\n\n4.\u4ecei\u5230j\u5173\u706f\u518d\u6298\u8fd4\u56dei\n\n```cpp\ndp[ i ][ j - 1 ][ 0 ] + sum( j , i , i , j - 1 ) + sum( j , i , i , j ) )\n```\n\n\u5f88\u5bb9\u6613\u53d1\u73b0\uff0c\u6700\u540e\u4e24\u79cd\u8f6c\u79fb\u9700\u8981**\u6298\u8fd4**\uff0c\u4f3c\u4e4e\u8d70\u4e86\u5f88\u591a\u51a4\u6789\u8def\u3002\u4f46\u4e3a\u4e86\u4fdd\u9669\u8d77\u89c1\uff0c\u6211\u8fd8\u662f\u52a0\u4e0a\u4e86\u8fd9\u4e24\u53e5\u8bdd\u3002\n\n\u800cdp[i][j][1]\u7684\u8f6c\u79fb\u7c7b\u4f3c\uff0c\u5c31\u4e0d\u591a\u63d0\u4e86\u3002\n\n## Besides\n\n\u600e\u4e48\u679a\u4e3e\u533a\u95f4\u4e5f\u5f88\u91cd\u8981\uff0c\u7531\u4e8e\u6211\u4eec\u662f\u4ece\u4e2d\u95f4\u67d0\u4e2a\u4f4d\u7f6e\u51fa\u53d1\uff0c\u6240\u4ee5\u679a\u4e3e\u7684\u65b9\u5f0f\u4e0e\u5e73\u65f6\u6709\u6240\u4e0d\u540c\uff08~~\u5176\u5b9e\u6211\u4e5f\u662f\u53c2\u8003\u4e86dalao\u7684\u9898\u89e3\u7684~~\uff09\n\n```cpp\nfor( ri j = beg ; j <= n ; j++ )\n  for( ri i = j - 1 ; i >= 1 ; i-- ){//\u6ce8\u610fi\u8981\u6bd4j\u81f3\u5c11\u5c111,\u624d\u65b9\u4fbf\u8f6c\u79fb\n```\n\ni\u662f\u5de6\u7aef\u70b9\uff0cj\u662f\u53f3\u7aef\u70b9\u3002\n\n### \u5b8c\u6574\u4ee3\u7801(~~\u53c8\u81ed\u53c8\u957f~~)\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\nusing namespace std;\n#define oo 0x3f3f3f3f\n#define ri register int\nint n,beg,pos[55],pow[55],qzh[55],dp[55][55][2];\ntemplate<class T>\ninline void read(T &res){\n    static char ch;T flag = 1;\n\twhile( ( ch = getchar() ) < '0' || ch > '9' ) if( ch == '-' ) flag = -1;\n\tres = ch - 48;\n\twhile( ( ch = getchar() ) >= '0' && ch <= '9' ) res = res * 10 + ch - 48;\n\tres *= flag;\n}\ninline int sum( int i , int j , int l , int r ){\n\treturn ( pos[ i ] - pos[ j ] ) * ( qzh[ l - 1 ] + qzh[ n ] - qzh[ r ] );\n}\ninline int min( int a , int b ){\n\treturn a < b ? a : b;\n}\nint main()\n{\n    read( n );read( beg );\n    for( ri i = 1 ; i <= n ; i++ ){\n    \tread( pos[ i ] );read( pow[ i ] );\n    \tqzh[ i ] = qzh[ i - 1 ] + pow[ i ];\n\t}\n\tmemset( dp , oo , sizeof( dp ) );\n\tdp[ beg ][ beg ][ 0 ] = dp[ beg ][ beg ][ 1 ] = 0;\n    for( ri j = beg ; j <= n ; j++ )\n      for( ri i = j - 1 ; i >= 1 ; i-- ){\n      \tdp[ i ][ j ][ 0 ] = min( min( dp[ i ][ j - 1 ][ 1 ] + sum( j , j - 1 , i , j - 1 ) + sum( j , i , i , j ) , dp[ i ][ j - 1 ][ 0 ] + sum( j , i , i , j - 1 ) + sum( j , i , i , j ) ) , min( dp[ i + 1 ][ j ][ 0 ] + sum( i + 1 , i , i + 1 , j ) , dp[ i + 1 ][ j ][ 1 ] + sum( j , i , i + 1 , j ) ) );\n      \tdp[ i ][ j ][ 1 ] = min( min( dp[ i + 1 ][ j ][ 0 ] + sum( i + 1 , i , i + 1 , j ) + sum( j , i , i , j ) , dp[ i + 1 ][ j ][ 1 ] + sum( j , i , i + 1 , j ) + sum( j , i , i , j ) ) , min( dp[ i ][ j - 1 ][ 1 ] + sum( j , j - 1 , i , j - 1 ) , dp[ i ][ j - 1 ][ 0 ] + sum( j , i , i , j - 1 ) ) );\n      }\n\tcout<<min( dp[ 1 ][ n ][ 1 ] , dp[ 1 ][ n ][ 0 ] );\n\treturn 0;\n}\n```",
        "postTime": 1548731443,
        "uid": 117655,
        "name": "YZhe",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u4e00\u773c\u533a\u95f4dp\u3002\n\n\n\u7136\u9e45\u6211\u662f\u7528\u6df1\u641c\u5199\u7684\u3002\n\n\u56e0\u4e3a\u8001\u4e86\uff08\u534aAFO\uff09\uff0cdp \u8f6c\u79fb\u4e0d\u52a8\u4e86\u3002\n\n\u5176\u5b9e\u6df1\u641c\u5c31\u662f\u60f3\u65b9\u4fbf\u6253\u9ebb\u70e6\u561b ~~\u50cf\u6211\u8fd9\u6837\u4e0d\u4f1a\u60f3\u53c8\u4e0d\u4f1a\u6253\u7684\u8001\u9f84OIer \u5c31\u968f\u610f\u5c31\u597d\u4e86\u561b~~\n\n\u53cd\u6b63\u5c31\u662f\u8003\u8651\u5f53\u524d\u7684 $f[l][r][0/1] $ \u662f $f[l+1][r][0/1]$ \u8fd8\u662f $f[l][r-1][0/1]$ \u8f6c\u79fb\u8fc7\u6765\u7684\u3002 $0$ \u8868\u793a\u5728 $l$ \u4e0a\uff0c $1$ \u8868\u793a\u5728 $r$ \u4e0a\u3002\n\n\u7136\u540e\u8bb0\u5fc6\u5316\u641c\u7740\u5c31\u597d\u4e86\u3001\n\n\u7ed3\u8bba\uff1a\u8bb0\u5fc6\u5316\u641c\u7d22\u662f\u4f4e\u667a\u5546\u8001\u9f84 OI \u9009\u624b\u7684\u6700\u4f73\u9009\u62e9\u3002\n\n```\n//by Judge\n#include<cstdio>\n#include<cstring>\n#include<iostream>\nusing namespace std;\nconst int inf=1e9+7;\nconst int M=55;\n#ifndef Judge\n#define getchar() (p1==p2&&(p2=(p1=buf)+fread(buf,1,1<<21,stdin),p1==p2)?EOF:*p1++)\n#endif\ninline void cmax(int& a,int b){if(a<b)a=b;}\ninline void cmin(int& a,int b){if(a>b)a=b;}\nchar buf[1<<21],*p1=buf,*p2=buf;\ninline int read(){ int x=0,f=1; char c=getchar();\n\tfor(;!isdigit(c);c=getchar()) if(c=='-') f=-1;\n\tfor(;isdigit(c);c=getchar()) x=x*10+c-'0'; return x*f;\n} int n,k,ans,a[M],s[M],f[M][M][2];\nint dfs(int l,int r,int op){\n\tif(f[l][r][op]>=0) return f[l][r][op]; f[l][r][op]=inf;\n\tif(op) cmin(f[l][r][op],dfs(l,r-1,op)+(a[r]-a[r-1])*(s[n]-s[r-1]+s[l-1])),\n\t\tcmin(f[l][r][op],dfs(l,r-1,op^1)+(a[r]-a[l])*(s[n]-s[r-1]+s[l-1]));\n\telse cmin(f[l][r][op],dfs(l+1,r,op^1)+(a[r]-a[l])*(s[n]-s[r]+s[l])),\n\t\tcmin(f[l][r][op],dfs(l+1,r,op)+(a[l+1]-a[l])*(s[n]-s[r]+s[l]));\n\treturn f[l][r][op];\n}\nint main(){ n=read(),k=read();\n\tfor(int i=1;i<=n;++i)\n\t\ta[i]=read(),s[i]=s[i-1]+read();\n\tmemset(f,-1,sizeof(f));\n\tfor(int i=1;i<=n;++i)\n\t\tf[i][i][0]=f[i][i][1]=inf;\n\tf[k][k][0]=f[k][k][1]=0;\n\tans=dfs(1,n,0),cmin(ans,dfs(1,n,1));\n\treturn !printf(\"%d\\n\",ans);\n}\n```",
        "postTime": 1543316113,
        "uid": 38576,
        "name": "J\u03bcdge",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "# \u533a\u95f4\u52a8\u6001\u89c4\u5212\u3002\n\n\u901a\u8fc7\u9898\u76ee\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u60f3\u5230\u8fd9\u6837\u4e00\u4e2a\u65b9\u6cd5\uff1a\n\n- \u8bbe\u72b6\u6001\u4e3a\u533a\u95f4\n\n- \u8bbe$dp[\\ i\\ ][\\ j\\ ][\\ 0\\ ]$\u4e3a\u8001\u5f20\u5173\u6389$[\\ l,r\\ ]$\u533a\u95f4\u5e76\u4e14\u6700\u540e\u7ad9\u5728$l$\u4f4d\u7f6e\u65f6\u7684\u6700\u5c0f\u529f\u8017\uff1b\n\n- \u8bbe$dp[\\ i\\ ][\\ j\\ ][\\ 1\\ ]$\u4e3a\u8001\u5f20\u5173\u6389$[\\ l,r\\ ]$\u533a\u95f4\u5e76\u4e14\u6700\u540e\u7ad9\u5728$r$\u4f4d\u7f6e\u65f6\u7684\u6700\u5c0f\u529f\u8017\uff1b\n\n\u518d\u8bbe$pos[\\ i\\ ]$\u4e3a\u7b2c$i$\u76cf\u8def\u706f\u7684\u4f4d\u7f6e\uff0c$power[\\ i\\ ]$\u4e3a\u7b2c$i$\u76cf\u8def\u706f\u7684\u529f\u7387\uff0c$sum=\\sum^{k=1}_{i-1}power[k]+\\sum^{k=r+1}_{N}power[k]$\uff0c\u5373\u6709\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$dp[i][j][0]=\\min \\{ dp[i+1][j][0]+(sum + power[i]) \\times (pos[i + 1] - pos[i]),dp[i+1][j][1]+(sum + power[i])\\times(pos[j] - pos[i]) \\}$\n\n$dp[i][j][1]=\\min \\{ dp[i][j-1][1]+(sum + power[j]) \\times (pos[j + 1] - pos[j]),dp[i][j-1][0]+(sum + power[j])\\times(pos[j] - pos[i]) \\}$\n\n\u5f88\u5bb9\u6613\u5f97\u5230\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u4ee3\u7801\u3002~~\u5f88\u4e0d\u5e78\u7684\u662f\uff0c\u53ea\u80fd\u5f9750\u5206\u3002~~\u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u5982\u679c$C$\u63a5\u8fd1\u4e2d\u95f4\u6216$N$\u7684\u8bdd\uff0c\u8bb0\u5fc6\u5316\u9700\u8981\u641c\u7d22\u5f88\u591a\u6b21\u3002\u6240\u4ee5\u6211\u4eec\u7528\u8fed\u4ee3DP\u6cd5\u6c42\u89e3\u3002\n\n## So, look at my code.\n```cpp\n/*\n\u533a\u95f4\u52a8\u6001\u89c4\u5212\nauthor\uff1aDavid \n*/\n#include <iostream>\n#include <cmath>\n#include <cstring>\n#include <cstdio>\nusing namespace std;\nconst int MAXN = 55;\nint N, C, pos[MAXN], power[MAXN], fr[MAXN];\nlong long dp[MAXN][MAXN][2], INF;\n//dp[i][j][0],\u8868\u793a\u5f53[i,j]\u7684\u706f\u5df2\u7ecf\u5173\u6389\uff0c\u4e14\u4eba\u5728i\u4f4d\u7f6e\u65f6\u6d88\u8017\u7684\u6700\u5c0f\u7535\u91cf \n//dp[i][j][1],\u8868\u793a\u5f53[i,j]\u7684\u706f\u5df2\u7ecf\u5173\u6389\uff0c\u4e14\u4eba\u5728j\u4f4d\u7f6e\u65f6\u6d88\u8017\u7684\u6700\u5c0f\u7535\u91cf \n\n//\u539f\u6765\u7684\u8bb0\u5fc6\u5316\u3002\u3002\u3002\n//long long dfs(int l, int r, int d)\n//{\n//\tif (l==C&&r==C) return 0;\n//\tif (l == r)\n//\t\treturn dp[l][r][d];\n//\t\n//\tif (dp[l][r][d] != INF)\n//\t\treturn dp[l][r][d];\n//\tprintf(\"l=%d r=%d d=%d\\n\", l, r, d);\n//\tint sum = fr[l - 1] + fr[N] - fr[r];\n//\tif (d == 0)\n//\t{\n//\t\tdp[l][r][0] = min(dp[l][r][0], dfs(l + 1, r, 0)\n//\t\t+ (sum + power[l]) * (pos[l + 1] - pos[l]));\n//\t\tdp[l][r][0] = min(dp[l][r][0],\n//\t\tdfs(l + 1, r, 1) + (sum + power[l]) * (pos[r] - pos[l]));\n////\t\tprintf(\"dp[%d][%d][1]=%lld\\n\", l + 1, r, dp[l + 1][r][1]);\n//\t}\n//\telse\n//\t{\n//\t\tdp[l][r][1] = min(dp[l][r][1], dfs(l, r - 1, 1)\n//\t\t+ (sum + power[r]) * (pos[r] - pos[r - 1]));\n//\t\tdp[l][r][1] = min(dp[l][r][1],\n//\t\tdfs(l, r - 1, 0) + (sum + power[r]) * (pos[r] - pos[l]));\n////\t\tprintf(\"dp[%d][%d][0]=%lld\\n\", l, r - 1, dp[l][r - 1][0]);\n//\t}\n//\tprintf(\"dp[%d][%d][%d]=%lld\\n\", l, r , d,dp[l][r][d]);\n//\treturn dp[l][r][d];\n//}\nint main()\n{\n\tscanf(\"%d%d\", &N, &C);\n\tfor (int i = 1;i <= N;i++)\n\t{\n\t\tscanf(\"%d%d\", &pos[i], &power[i]);\n\t\tfr[i] = fr[i - 1] + power[i];\n\t}\n\tmemset(dp, 42, sizeof(dp));//INF\n\tINF = dp[C][C][0];\n//\tcout << INF << endl;\n\tdp[C][C][0] = dp[C][C][1] = 0;\n\tfor (int i = C;i <= N;i++)\n\t\tfor (int j = i - 1;j >= 1;j--)\n\t\t{\n\t\t\tint sum = fr[j - 1] + fr[N] - fr[i];\n\t\t\tdp[j][i][0] = min(dp[j][i][0], dp[j + 1][i][0]\n\t\t\t+ (sum + power[j]) * (pos[j + 1] - pos[j]));\n\t\t\tdp[j][i][0] = min(dp[j][i][0], dp[j + 1][i][1]\n\t\t\t+ (sum + power[j]) * (pos[i] - pos[j]));\n\t\t\tdp[j][i][1] = min(dp[j][i][1], dp[j][i - 1][1]\n\t\t\t+ (sum + power[i]) * (pos[i] - pos[i - 1]));\n\t\t\tdp[j][i][1] = min(dp[j][i][1], dp[j][i - 1][0]\n\t\t\t+ (sum + power[i]) * (pos[i] - pos[j]));\n\t\t}\n\tprintf(\"%lld\", min(dp[1][N][0], dp[1][N][1]));\n\treturn 0;\n}\n```",
        "postTime": 1534649716,
        "uid": 61088,
        "name": "Solystic",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u4f3c\u4e4e\u548c\u4ee5\u524d\u505a\u8fc7\u7684\u53e6\u4e00\u9053\u9898\u76ee\u4e00\u6a21\u4e00\u6837\uff0cDP\n\nf[i][j][k]\u8868\u793ai~j\u76cf\u8def\u706f\u5747\u88ab\u70b9\u4eae\uff0c\u4e14\u5f53\u524d\u5904\u4e8ek\u4f4d\u7f6e\u662f\u7684\u6700\u5c11\u80fd\u8017\n\n```cpp\n#include<cstdio>\n#include<cctype>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint f[52][52][52];\n\ninline int read(){\n\tchar ch=getchar();int k=0;\n\twhile(!isdigit(ch)) ch=getchar();\n\twhile(isdigit(ch)){k=(k<<1)+(k<<3)+ch-'0';ch=getchar();}\n\treturn k;\n}\n\nint main(){\n\tint n,c,qzh[52],w[52];\n\tqzh[0]=0;\n\tmemset(f,0x3f,sizeof(f));\n\tn=read();c=read();f[c][c][c]=0;\n\tfor(int i=1;i<=n;i++){\n\t\tw[i]=read();qzh[i]=qzh[i-1]+read();\n\t}\n\tfor(int len=1;len<=(n-1);len++)//\u4e3b\u4f53\n\t   for(int i=max(1,c-len);i<=c&&(i+len)<=n;i++){\n\t      f[i][i+len][i]=min(f[i+1][i+len][i+1]+(w[i+1]-w[i])*(qzh[i]+qzh[n]-qzh[i+len]),f[i+1][i+len][i+len]+(w[i+len]-w[i])*(qzh[i]+qzh[n]-qzh[i+len]));\n\t      f[i][i+len][i+len]=min(f[i][i+len-1][i]+(w[i+len]-w[i])*(qzh[i-1]+qzh[n]-qzh[i+len-1]),f[i][i+len-1][i+len-1]+(w[i+len]-w[i+len-1])*(qzh[i-1]+qzh[n]-qzh[i+len-1]));\n   }\n   printf(\"%d\\n\",min(f[1][n][1],f[1][n][n]));\n   return 0;\n}\n```",
        "postTime": 1521093578,
        "uid": 80911,
        "name": "lnyzoTwT",
        "ccfLevel": 0,
        "title": "\u6d1b\u8c37P1220"
    },
    {
        "content": "dp\uff1a\n\u2474\u6bcf\u4e2a\u8def\u706f\u7684\u82b1\u8d39\u4e3a ci\\*ti \uff0c\u5373\u529f\u7387\u4e58\u4ee5\u5173\u95ed\u7684\u65f6\u95f4\u3002\n\n\u2475\u6240\u5173\u6389\u7684\u8def\u706f\u662f\u4e00\u4e2a\u8fde\u7eed\u7684\u533a\u95f4\uff0c\u8d8a\u8fc7\u4e00\u4e2a\u4eae\u7740\u7684\u8def\u706f\u800c\u53bb\u5173\u5176\u4ed6\u8def\u706f\u663e\u7136\u4e0d\u662f\u6700\u4f18\u7684\u3002\u56e0\u4e3a\u4e86\u8fde\u7eed\u533a\u57df\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u9884\u5904\u7406\u3002\n\nF[i][j][0]\u8868\u793a\u533a\u95f4i\u5230j\u6700\u540e\u4e00\u4e2a\u5173\u7684\u662f\u7b2ci\u76cf\u706f\u6240\u9700\u6700\u5c0f\u7535\u3002F[i][j][1]\u8868\u793a\u533a\u95f4i\u5230j\u6700\u540e\u4e00\u4e2a\u5173\u7684\u662f\u7b2cj\u76cf\u706f\u6240\u9700\u7684\u6700\u5c0f\u7535\u3002\n\n\u72b6\u6001\u8f6c\u79fb\uff1a\n\nF[i][j][0]=min((a[i+1]-a[i])\\*(sum[n]-sum[j]+sum[i])+F[i+1][j][0],(a[j]-a[i])\\*(sum[n]-sum[j]+sum[i])+F[i+1][j][1]);\n\nF[i][j][1]=min((a[j]-a[j-1])\\*(sum[n]-sum[j-1]+sum[i-1])+F[i][j-1][1],(a[j]-a[i])\\*(sum[n]-sum[j-1]+sum[i-1])+F[i][j-1][0]);\n\n\n\n```cpp\nuses math;\nvar n,c,k,i,j,s,t,x:longint; ans:longint;\n    f:array[1..50,1..50,0..1]of longint;\n    a,sum:array[0..50]of longint;\nbegin\n  readln(n,c);\n  for i:=1 to n do begin\n    readln(a[i],x);\n    sum[i]:=sum[i-1]+x;\n  end;\n  fillchar(f,sizeof(f),$3F);\n  f[c,c,0]:=0;f[c,c,1]:=0;\n  for k:=1 to n-1 do begin\n    s:=max(1,c-k);t:=min(n,c+k);\n    for i:=s to t do begin\n      j:=i+k;\n      F[i][j][1]:=min(F[i][j-1][1]+(a[j]-a[j-1])*(sum[n]-sum[j-1]+sum[i-1]),F[i][j][1]);\n      F[i][j][1]:=min(F[i][j-1][0]+(a[j]-a[i])*(sum[n]-sum[j-1]+sum[i-1]),F[i][j][1]);\n      F[i][j][0]:=min(F[i+1][j][1]+(a[j]-a[i])*(sum[n]-sum[j]+sum[i]),F[i][j][0]);\n      F[i][j][0]:=min(F[i+1][j][0]+(a[i+1]-a[i])*(sum[n]-sum[j]+sum[i]),F[i][j][0]);\n     end;\n  end;\n  ans:=min(f[1,n,0],f[1,n,1]);\n  writeln(ans);\nend.\n\n```",
        "postTime": 1503216037,
        "uid": 16456,
        "name": "ljc20020730",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u6211\u4eec\u5047\u8bbe dpij0 \u4e3a\u76ee\u524d\u6700\u4f18\u503c\u662f\u5728 i \u4f4d\u7f6e,dpij1 \u4e3a\u76ee\u524d\u6700\u4f18\u503c\u662f\u5728 j \u4f4d\u7f6e\n\n\u5219 i \u5230 j \u8868\u793a\u5df2\u7ecf\u5173\u6389\u7684\u706f\u7684\u533a\u95f4\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u6c42\u6700\u5c0f\u7684\u635f\u8017\uff0c\u6240\u4ee5\u5fc5\u7136\u662f\u4ece\u5f53\u524d\u533a\u95f4\u8d70\u5411\u533a\u95f4\u4e24\u7aef\n\n\u518d\u5229\u7528\u524d\u7f00\u548c\u6765\u7b97\u4ece\u524d\u4e00\u4e2a\u4f4d\u7f6e\u8d70\u5411\u5f53\u524d\u4f4d\u7f6e\u6240\u9700\u8981\u7684\u65f6\u95f4\uff0c\u518d\u4e58\u4e0a\u6ca1\u5173\u6389\u7535\u706f\u7684\u529f\u7387\u5373\u53ef\n\n```cpp\nfor(i = c to 1)for(j = i+1 to n)\ndp[i][j][0]=min(dp[i][j][0],dp[i+1][j][0]+(a[i+1]-a[i])*(b[n]-(b[j]-b[i])));//\u52064\u60c5\u51b5\uff0c\u8017\u80fd\u8ba1\u7b97\uff0c\u65f6\u95f4\u4e58\u4ee5\u529f\u7387 \n            dp[i][j][0]=min(dp[i][j][0],dp[i+1][j][1]+(a[j]-a[i])*(b[n]-(b[j]-b[i])));\n            dp[i][j][1]=min(dp[i][j][1],dp[i][j-1][1]+(a[j]-a[j-1])*(b[n]-(b[j-1]-b[i-1])));\n            dp[i][j][1]=min(dp[i][j][1],dp[i][j-1][0]+(a[j]-a[i])*(b[n]-(b[j-1]-b[i-1])));\n```\n\u4ee3\u7801\u4e0d\u7ed9\u51fa\u4e86\uff0c\u53ef\u4ee5\u770b\u535a\u5ba2\u6709\u8be6\u7ec6\u89e3\u91ca\nhttp://www.cnblogs.com/oi-forever/p/7344325.html\n",
        "postTime": 1502417062,
        "uid": 26834,
        "name": "\u270cyww",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u539f\u672c\u60f3\u7528\u641c\u7d22\u5148\u8d85\u65f6\u4e00\u628a\n\n\u7136\u540e\u53d1\u73b0\u526a\u679d\u5c45\u7136\u8fc7\u4e86\n\n\n\n\u9996\u5148 \u5bf9\u4e8e\u6bcf\u4e2a\u4f4d\u7f6e\uff0c\u53bb\u5bfb\u627e\u5de6\u8fb9\u6ca1\u5173\u6389\u7684\u706f\u6216\u8005\u53f3\u8fb9\u6ca1\u6709\u5173\u6389\u7684\u706f\u3002\n\n\u4e4b\u540e\u9020\u6df1\u641c \uff0c\u5bfb\u627e\u6700\u4f18\u60c5\u51b5\u3002\n\n\u7136\u540e \u5728\u641c\u7d22\u4e2d\u6211\u4eec\u53d1\u73b0\uff0c\u5982\u679c\u6b64\u65f6\u7684\u548c\u5927\u4e8e\u8bb0\u5f55\u4e2d\u7684\u548c\u7684\u8bdd\uff0c\n\n\u90a3\u4e48\u8fd9\u4e2a\u641c\u7d22\u662f\u6ca1\u6709\u5fc5\u8981\u7ee7\u7eed\u8d70\u4e0b\u53bb\u7684\uff0c\u6240\u4ee5\u5c31\u7ed3\u675f\u6389\u8fd9\u4e2a\u53f6\u5b50\u3002\n\n\u5c31\u50cf\u52a8\u6001\u89c4\u5212\u53ea\u4fdd\u7559\u6700\u5927\u503c\u4e00\u6837\u3002\n\n\u641c\u7d22\u7684\u597d\u5904\u662f\uff0c\u4e0d\u4ec5\u80fd\u77e5\u9053\u6700\u5927\u503c\uff0c\u800c\u4e14\u53ef\u4ee5\u8f93\u51fa\u5176\u8def\u5f84\u3002\n\n\n\n```cpp\n- #include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\n#include <map>\nusing namespace std;\nint d[10005];//\u8bb0\u5f55\u706f\u7684\u529f\u7387\nint lef,righ,minx;\nint run(int x,int y)//\u8bb0\u5f55\u8dd1\u5230\u4e86\u54ea\u4e2a\u4f4d\u7f6e\n{\n    while(d[x]==0&&x>=lef&&x<=righ)\n        x+=y;\n    return x;\n}\nvoid dfs(int l,int s,int sum,int n)\n{\n    //cout<<l<<' '<<s<<' '<<sum<<' '<<n<<endl;\n    //cout<<run(l,1)<<' '<<run(l,-1)<<' '<<righ<<' '<<lef<<endl<<endl;\n    if(s>minx) return;//\u5982\u679c\u73b0\u6709\u548c\u5927\u4e8e\u8bb0\u5f55\u503c  \u7ed3\u675f\u53f6\u5b50\u3002\n    if(n==1)\n    {\n        if(s<minx)\n            minx=s;\n        return ;\n    }\n    int t=d[l];\n    sum-=t;\n    d[l]=0;\n    int x;\n    if(run(l,1)<=righ)//\u5f80\u53f3\u8dd1\n    {\n        x=run(l,1);\n        dfs(x,s+sum*(x-l),sum,n-1);\n    }\n    if(run(l,-1)>=lef)//\u5f80\u5de6\u8dd1\n    {\n        x=run(l,-1);\n        dfs(x,s+sum*(l-x),sum,n-1);\n    }\n    d[l]=t;//\u56de\u6eaf\n}\nint main()\n{\n    int n,m;\n    cin>>n>>m;\n        int x,y;\n        int sum=0;\n        righ=0;\n        lef=100000000;\n        minx=1000000000;\n        int t,l;\n        for(int i=1;i<=n;i++)\n        {\n            cin>>x>>y;\n            if(x<lef)  lef=x;\n            if(x>righ) righ=x;\n            d[x]=y;\n            sum+=y;\n            if(i==m)\n            {\n                d[x]=0;\n                t=y;\n                l=x;\n            }\n        }\n        dfs(l,0,sum-t,n);\n        cout<<minx<<endl;\n}\n```",
        "postTime": 1487827340,
        "uid": 17777,
        "name": "wcl95716",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u4e0d\u8981\u5f80\u6b7b\u91cc\u53bb\u60f3\uff0c\u60f3\u8c61\u73b0\u5b9e\u3002\n\n\u8fd9\u4e2a\u4eba\u6ca1\u8d70s\u8ddd\u79bb\uff0c\u7535\u706f\u5c31\u8981\u6d88\u8017s\\*w\u3002\n\n\u90a3\u4e48\u6211\u4eec\u628at[i][j]\u8bb0\u4e3a\u5f53\u4ecei\u5230j\u7684\u7535\u706f\u90fd\u7184\u706d\u540e\u5269\u4e0b\u7684\u706f\u7684\u603b\u529f\u7387\u3002\n\n\u5373\nref(i,1,n)ref(j,i,n)t[i][j]=t[i][j-1]+w[j];\n\nint sum=t[1][n];\n\nref(i,1,n)ref(j,i,n)t[i][j]=sum-t[i][j];\n\n\u7136\u540e\u8fdb\u884c\u533a\u95f4dp\u3002\u5efa\u7acb\u4e00\u4e2a\u6570\u7ec4f[1001][1001][2]\u3002f[i][j][0]\u8868\u793a\u4ecei\u5230j\u8fd9\u4e00\u6bb5\u533a\u95f4\uff0c\u8fd9\u4e2a\u4eba\u8d70\u5230\u4e86\u5de6\u8fb9\uff1bf[i][j][1]\u8868\u793a\u8d70\u5230\u4e86\u53f3\u8fb9\u3002\n\n\u90a3\u4e48\u5728dp\u65f6\uff0c\u628a\u524d\u4e00\u4e2a\u72b6\u6001 \u52a0\u4e0a \u8d70\u5230\u65b0\u72b6\u6001\u7684\u8def\u7a0b\u00d7\u5269\u4e0b\u53f0\u706f\u7684\u603b\u529f\u7387\uff0c\u5c31\u662f\u8d70\u5230\u65b0\u72b6\u6001\u7535\u706f\u6240\u6d88\u8017\u7684\u80fd\u91cf\u3002\n\n\u5f97\u51fa\uff1a\n\n\n```cpp\nref(l,2,n)ref(i,1,n-l+1)\n{\nint j=i+l-1;\nf[i][j][0]=min(f[i+1][j][0]+t[i+1][j]*(a[i+1]-a[i]),\nf[i+1][j][1]+t[i+1][j]*(a[j]-a[i]));\nf[i][j][1]=min(f[i][j-1][1]+t[i][j-1]*(a[j]-a[j-1]),\nf[i][j-1][0]+t[i][j-1]*(a[j]-a[i]));\n}\n```\n\u4ee3\u7801\uff1a\n\n```cpp\n**#include <iostream>**\n**#include <cstring>**\n**#define ref(i,x,y)for(int i=x;i<=y;i++)**\n**using namespace std;**\n**long long n,s,a[1001],w[1001];**\n**long long t[1001][1001],f[1001][1001][2];**\n**int main()**\n**{**\n**cin>>n>>s;**\n**ref(i,1,n)cin>>a[i]>>w[i];**\n**ref(i,1,n)ref(j,i,n)t[i][j]=t[i][j-1]+w[j];**\n**int sum=t[1][n];**\n**ref(i,1,n)ref(j,i,n)t[i][j]=sum-t[i][j];**\n**memset(f,1,sizeof f);**\n**f[s][s][0]=f[s][s][1]=0;**\n**ref(l,2,n)ref(i,1,n-l+1)**\n**{**\n**int j=i+l-1;**\n**f[i][j][0]=min(f[i+1][j][0]+t[i+1][j]*(a[i+1]-a[i]),**\n**f[i+1][j][1]+t[i+1][j]*(a[j]-a[i]));**\n**f[i][j][1]=min(f[i][j-1][1]+t[i][j-1]*(a[j]-a[j-1]),**\n**f[i][j-1][0]+t[i][j-1]*(a[j]-a[i]));**\n**}**\n**cout<<min(f[1][n][0],f[1][n][1]);**\n**}**\n```",
        "postTime": 1485698771,
        "uid": 20833,
        "name": "\u5b89\u597d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u6765\u4e00\u53d1C++\u7684\u8bb0\u5fc6\u5316\u641c\u7d22\n\n\u9996\u5148\u663e\u800c\u6613\u89c1\uff0c\u6211\u4eec\u4ecea\u7684\u70b9\u5230a+2\u7684\u70b9\u53bb\u5173\u706f\u7684\u8fc7\u7a0b\uff0c\u663e\u7136\u5e94\u8be5\u968f\u624b\u5173\u4e86a+1\u7684\u8def\u706f\uff0c\u6240\u4ee5\u6211\u4eec\u5173\u7684\u706f\u5e94\u8be5\u662f\u8fde\u7eed\u7684\n\n\u6240\u4ee5\uff0c\u53ef\u4ee5\u7528dp[i][j]\u8868\u793a\u5df2\u7ecf\u5173\u4e86i\u70b9\u5230j\u70b9\u4e4b\u95f4\u7684\u706f\uff0c\u518d\u75280\u62161\u8868\u793a\u73b0\u5728\u5230\u5e95\u5728\u54ea\u4e00\u4e2a\u70b9\uff0c0\u4ee3\u8868\u5728i\u70b9\uff0c1\u8868\u793a\u5728j\u70b9\n\n\u6b64\u65f6\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u663e\u800c\u6613\u89c1\uff0c\u4e0b\u9762\u9644\u4e0a\u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nint n,m,i,ans;\nint sum1[55],sum2[55],s[55],p[55];\nint jiyi[55][55][2];\nint dp(int a,int b,int z){\n    int & fanhui=jiyi[a][b][z];\n    if(fanhui!=0){\n        return fanhui;\n    }else{\n        if(a==1&&b==n){\n            fanhui=0;\n        }else{\n            if(a==1){\n                if(z==0){\n                    fanhui=dp(a,b+1,1)+sum2[b+1]*(s[b+1]-s[a]);\n                }else{\n                    fanhui=dp(a,b+1,1)+sum2[b+1]*(s[b+1]-s[b]);\n                }\n            }else{\n                if(b==n){\n                    if(z==0){\n                        fanhui=dp(a-1,b,0)+sum1[a-1]*(s[a]-s[a-1]);\n                    }else{\n                        fanhui=dp(a-1,b,0)+sum1[a-1]*(s[b]-s[a-1]);\n                    }\n                }else{\n                    if(z==0){\n                        fanhui=dp(a-1,b,0)+(sum1[a-1]+sum2[b+1])*(s[a]-s[a-1]);\n                        fanhui=min(fanhui,dp(a,b+1,1)+(sum1[a-1]+sum2[b+1])*(s[b+1]-s[a]));\n                    }else{\n                        fanhui=dp(a-1,b,0)+(sum1[a-1]+sum2[b+1])*(s[b]-s[a-1]);\n                        fanhui=min(fanhui,dp(a,b+1,1)+(sum1[a-1]+sum2[b+1])*(s[b+1]-s[b]));\n                    }\n                }\n             }\n        }\n    }\n    return fanhui;\n}\nint main(){\n    cin>>n>>m;\n    for(i=1;i<=n;i++){\n        cin>>s[i];\n        cin>>p[i];\n    }\n    sum1[0]=0;\n    sum1[n+1]=0;\n    for(i=1;i<=n;i++){\n        sum1[i]=sum1[i-1]+p[i];\n    }\n    for(i=n;i>=1;i--){\n        sum2[i]=sum2[i+1]+p[i];\n    }\n    ans=dp(m,m,0);\n    cout<<ans;\n    return 0;\n}\n```",
        "postTime": 1483054630,
        "uid": 33738,
        "name": "mengdai",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u697c\u4e0b\u901f\u5ea6\u5f31\u7206\uff01\n\n\u6b64\u9898\u53ef\u4ee5\u91c7\u7528\u722c\u5c71\u6cd5\u6216\u8005\u6a21\u62df\u9000\u706b\u6765\u89e3\uff01\n\n\u53ef\u4ee5\u5229\u7528\u6570\u5b66\u77e5\u8bc6\u5f97\u51fai\u5728j\u524d\u9762\u7684\u6761\u4ef6\n\n\u90a3\u4e48\u6211\u4eec\u5229\u7528\u6700\u4f18\u6027\u526a\u679d\u4ee5\u53ca\u8bd5\u63a2\u6027\u8d2a\u5fc3\u7684\u641c\u7d22\u65b9\u5f0f\u8fdb\u884c\u641c\u7d22\uff01\n\n0ms\u8650\u7206\u6570\u636e\uff01\uff01\uff01\n\n\u3010\u4e3b\u8981\u5185\u5bb9\u3011\n\n```cpp\n\n        w1=g[left].w*(g[p].loc-g[left].loc)+g[right].w*(g[right].loc-g[left].loc);//\u8d2a\u5fc3 \n    w2=g[right].w*(g[p].loc-g[right].loc)+g[left].w*(g[right].loc-g[left].loc);\n    if(w1>w2){\n        climb(right,W+(tot-g[p].w)*(g[right].loc-g[p].loc),tot-g[p].w);\n        climb(left,W+(tot-g[p].w)*(g[p].loc-g[left].loc),tot-g[p].w);\n        op[p]=false;\n        return;\n    }\n    else {        \n        climb(left,W+(tot-g[p].w)*(g[p].loc-g[left].loc),tot-g[p].w);\n        climb(right,W+(tot-g[p].w)*(g[right].loc-g[p].loc),tot-g[p].w);\n        op[p]=false;\n        return;\n    }\n\n```",
        "postTime": 1436847242,
        "uid": 6071,
        "name": "MedalPluS",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    },
    {
        "content": "\u8fd9\u9898\u6700\u591a\u53ea\u670950\u76cf\u706f\uff0c\u6240\u4ee5\u6df1\u641c+\u6700\u4f18\u5316\u526a\u679d\u59a5\u59a5\u7684\u3002\n\n```cpp\nint dg(int i,int v,int sum,int k)\n{\nif (v>h)return 0; \n//\u5982\u679c\u8017\u7535\u5df2\u7ecf\u8d85\u51fa\u5176\u5b83\u5df2\u5b8c\u6210\u65b9\u6848\u7684\u8017\u7535\uff0c\u56de\u6714\nif (k==n){h=v; return 0;}\n//\u5982\u679c\u5df2\u7ecf\u5173\u6389\u4e86\u6240\u6709\u7684\u706f\uff0c\u8bb0\u5f55\u8017\u7535\uff08\u6b64\u65f6\u5df2\u4fdd\u8bc1h>v\uff09\uff0c\u56de\u6714\u3002\n//d[u]=1\u8868\u793a\u7b2cu\u76cf\u706f\u5173\u7740\uff1bd[u]=0\u8868\u793a\u7b2cu\u76cf\u706f\u5f00\u7740\u3002\nint x=i-1;while (d[x]==1)x--; \n//\u5f80\u5de6\u8d70\u627e\u5230\u4e00\u76cf\u5f00\u7740\u7684\u706f\u3002\nif (x>0){d[x]=1; dg(x,v+(a[i]-a[x])*sum,sum-w[x],k+1); d[x]=0;}\n//\u5982\u679c\u8fd9\u76cf\u706f\u7684\u4f4d\u7f6e\u5408\u6cd5(\u5927\u4e8e0)\uff0c\u5c31\u5173\u6389\u5b83\u5e76\u9012\u5f52\u3002\nint y=i+1;while (d[y]==1)y++;\n//\u5f80\u53f3\u8d70\u627e\u5230\u4e00\u76cf\u5f00\u7740\u7684\u706f\u3002\nif (y<=n){d[y]=1; dg(y,v+(a[y]-a[i])*sum,sum-w[y],k+1); d[y]=0;}\n//\u5982\u679c\u8fd9\u76cf\u706f\u7684\u4f4d\u7f6e\u5408\u6cd5(\u5c0f\u4e8en+1)\uff0c\u5c31\u5173\u6389\u5b83\u5e76\u9012\u5f52\u3002\nreturn 0;}\nint main()\n{scanf (\"%d%d\",&n,&m);for (int i=1;i<=n;i++){scanf (\"%d%d\",&a[i],&w[i]);sum+=w[i];} \u8bfb\u5165\u706f\u7684\u6570\u91cf\u53ca\u8001\u5f20\u5bb6\u7684\u4f4d\u7f6e\uff0c\u6bcf\u76cf\u706f\u7684\u4f4d\u7f6e\u548c\u529f\u7387\uff0c\u5e76\u8bb0\u5f55\u6240\u6709\u706f\u7684\u603b\u529f\u7387\uff0c\u4ee5\u4fbf\u63a5\u4e0b\u6765\u7684\u8ba1\u7b97\u3002\nd[m]=1;h=1000000000;dg(m,0,sum-w[m],1);printf (\"%d\",h);return 0;}\n\n```",
        "postTime": 1393663419,
        "uid": 262,
        "name": "\u8c01\u61c2\u8c01\u4f24\u5fc3",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1220 \u3010\u5173\u8def\u706f \u3011"
    }
]