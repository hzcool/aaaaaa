[
    {
        "content": "\u9898\u610f\u5c31\u662f\u7ed9\u5b9a\u70b9\u96c6\u8ba9\u4f60\u6c42\u4e00\u6761\u76f4\u7ebf\uff0c\u6700\u5c0f\u5316\u70b9\u5230\u76f4\u7ebf\u8ddd\u79bb\u7684\u5e73\u65b9\u548c\u3002\n\n\u7136\u540e\u8fd9\u5176\u5b9e\u5c31\u662f\u603b\u4f53\u6700\u5c0f\u4e8c\u4e58\u6cd5\u62df\u5408\u76f4\u7ebf\uff0c\u6240\u4ee5\u505a\u5b8c\u4e86\uff08\u96fe\uff09\u3002\n\n\u5f53\u7136\u4f60\u8fd8\u53ef\u4ee5\u76f4\u63a5\u7b97\u51fa\u6765\u8ddd\u79bb\u3002\u8bbe\u8be5\u76f4\u7ebf\u7684\u89e3\u6790\u5f0f\u4e3a $y=kx+b$\uff0c\u90a3\u4e48\u5f97\u5230\u7ed3\u679c\u4e3a\uff1a\n\n$$\n\\begin{aligned}\n&\\dfrac{\\sum_i(kx_i+b-y_i)^2}{k^2+1}\\\\\n=&\\dfrac{\\sum_ik^2x_i^2+b^2+y_i^2+2kbx_i-2kx_iy_i-2by_i}{k^2+1}\\\\\n=&\\dfrac{(\\sum_ix_i^2)k^2+nb^2+(\\sum_iy_i^2)+2((\\sum_ix_i)kb-(\\sum_ix_iy_i)k-(\\sum_iy_i)b)}{k^2+1}\\\\\n\\end{aligned}\n$$\n\n\u7136\u540e\u91cc\u9762\u4e00\u8f66\u90fd\u662f\u5b9a\u503c\uff0c\u9884\u5904\u7406 $\\sum_ix_i^2$\uff0c$\\sum_iy_i^2$\uff0c$\\sum_ix_i$\uff0c$\\sum_iy_i$\uff0c$\\sum_ix_iy_i$ \u5c31\u53ef\u4ee5\u505a\u4e86\u3002$k,b$ \u76f4\u63a5\u4e09\u5206\u3002\n\n~~\u771f\u7684\u6709\u52c7\u58eb\u8981\u504f\u5bfc\u6570\u786c\u7b97\u6211\u89c9\u5f97\u4e5f\u4e0d\u662f\u4e0d\u884c~~\n\n# AC \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef long double ld;\n\nconst int MAXN = 1e5 + 10;\nconst ld eps = 1e-7;\nconst ld pi = acos(-1);\n\nint t, n; ll a, b, c;\n\nll x, y, sx, sy, sxx, syy, sxy;\n\ninline \nld f(ld k, ld b) {\n\treturn (sxx * k * k + n * b * b + syy + 2 * (sx * k * b - sxy * k - sy * b)) / (k * k + 1);\n}\n\ninline \nld calc(ld k) {\n\tld l = -1e9, r = 1e9, p, q;\n\tfor (; r - l > eps; f(k, p = l + (r - l) / 3) > f(k, q = r - (r - l) / 3) ? l = p : r = q);\n\treturn f(k, l);\n}\n\ninline \nld solve() {\n\tld l = -1e9, r = 1e9, p, q;\n\tfor (; r - l > eps; calc(p = l + (r - l) / 3) > calc(q = r - (r - l) / 3) ? l = p : r = q);\n\treturn calc(l);\n}\n\nint main() {\n\tscanf(\"%d\", &t);\n    for (int p = 1; p <= t; p++) {\n    \tscanf(\"%d%lld%lld%lld%lld%lld\", &n, &x, &y, &a, &b, &c);\n    \tsx = sy = sxx = syy = sxy = 0;\n    \tfor (int i = 1; i <= n; i++) {\n    \t\tsx += x, sy += y, sxx += x * x, syy += y * y, sxy += x * y;\n    \t\tx = (a * x * x + b * x + c) % 107, y = (a * y * y + b * y + c) % 107;\n\t\t}\n\t\tprintf(\"Case %d: %.5Lf\\n\", p, solve() * pi / n);\n\t}\n}\n```",
        "postTime": 1679915096,
        "uid": 406941,
        "name": "Register_int",
        "ccfLevel": 6,
        "title": "P5916 \u9898\u89e3"
    }
]