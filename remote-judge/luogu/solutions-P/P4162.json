[
    {
        "content": "\u8fd9\u9053\u9898\u672c\u8d28\u662f\u6700\u77ed\u8def\u3002\n\n~~\u9898\u76ee\u4e0d\u662f\u8bf4\u662f\u6700\u957f\u8ddd\u79bb\u5417\uff1f~~\n\n\u770b\u770b\u6837\u4f8b\u5c31\u5927\u6982\u77e5\u9053\u6b27\u51e0\u91cc\u5fb7\u8ddd\u79bb\u6307\u7684\u662f\u4e24\u70b9\u7684\u76f4\u7ebf\u8ddd\u79bb\uff0c\n\u4e0d\u4e00\u5b9a\u662f\u6b65\u6570\u8d8a\u5c11\uff0c\u76f4\u7ebf\u8ddd\u79bb\u8d8a\u77ed\uff0c\u600e\u4e48\u611f\u89c9\u548c\u6700\u77ed\u8def\u66f4\u6ca1\u5173\u7cfb\u4e86\uff1f\n\n\u518d\u56de\u5230\u9898\u76ee\uff0c\u6700\u5148\u60f3\u5230\u7684\u5c31\u662f\u7528\u641c\u7d22\u628a\u969c\u788d\u4e00\u4e2a\u4e2a\u642c\u4e86\uff0c\u518d\u627e\u8054\u901a\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb\u3002\n\n\u4f46\u60f3\u90fd\u4e0d\u7528\u60f3\u5c31\u77e5\u9053\u4f1aT\u4e00\u5806\u3002\n\n\u4f46\u6211\u4eec\u6362\u4e2a\u601d\u8def\uff0c\u5148\u770b\u4e24\u70b9\u4e4b\u95f4\u662f\u5426\u53ef\u4ee5\u901a\u8fc7\u642ct\u4e2a\u5185\u7684\u7bb1\u5b50\u8054\u901a\uff0c\u518d\u6c42\u8ddd\u79bb\uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u901a\u8fc7\u6700\u77ed\u8def\u5224\u65ad\u4e24\u70b9\u95f4\u662f\u5426\u6ee1\u8db3\u8981\u6c42\uff0c\u7ecf\u8fc7\u969c\u788d\u7269\u7684\u8fb9\u8fb9\u6743\u4e3a1\uff0c\u5176\u4f59\u4e3a0\uff0c\u6700\u540e\u5224\u4e00\u4e0b\u4ece\u4e00\u4e2a\u70b9\u5230\u5176\u4ed6\u70b9\u7684\u6700\u77ed\u8def\u5c0f\u4e8et\u7684\u8ba1\u7b97\u6b27\u51e0\u91cc\u5fb7\u8ddd\u79bb\uff0c\u6bcf\u4e2a\u70b9\u90fd\u8fd9\u6837\u505a\u4e00\u6b21\uff0c\u56e0\u4e3a\u6709\u8fc7\u591a\u4e0d\u5fc5\u8981\u7684\u8fd0\u7b97\uff0c\u6240\u4ee5\u6700\u77ed\u8def\u53ea\u80fd\u7528SPFA\u8dd1\u3002\n\n\u4e5f\u53ef\u4ee5\u7528\u526a\u679d+\u8bb0\u5fc6\u5316dfs~~\uff08\u56e0\u4e3a\u592a\u61d2\u4e0d\u60f3\u6253SPFA\uff09~~\uff1a\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<algorithm>\n#include<math.h>\n#include<cstdio>\nusing namespace std;\nint n,m,t,a[35][35],dis[35][35],ans;\nint tx[4]={-1,1,0,0},\n    ty[4]={0,0,-1,1};\nvoid dfs(int,int,int);\nint main()\n{\n    cin>>n>>m>>t;\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n        {\n            char temp;//\u9898\u9762\u8981\u8bfb\u5165\u7684\u662f\u5b57\u7b26\u4e32\n            cin>>temp;//\u8981\u7279\u6b8a\u5904\u7406\n            a[i][j]=temp-'0';\n        }\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n        {\n            memset(dis,127,sizeof(dis));\n            int temp=a[i][j]==1?1:0;//\u53ef\u4ee5\u4ece\u969c\u788d\u7269\u51fa\u53d1\n            dfs(i,j,temp);\n            for(int ii=1;ii<=n;ii++)\n                for(int jj=1;jj<=m;jj++)\n                    if(dis[ii][jj]<=t)\n                        ans=max(ans,(ii-i)*(ii-i)+(jj-j)*(jj-j));//\u5148\u4e0d\u5f00\u65b9\uff0c\u4fdd\u8bc1\u7cbe\u5ea6\n        }\n    printf(\"%.6f\",sqrt(ans));\n}\nvoid dfs(int x,int y,int sum)\n{\n    if(sum>t)return;//\u526a\u679d\uff0c\u8bb0\u5fc6\u5316\u7f3a\u4e00\u4e0d\u53ef\n    if(sum>=dis[x][y])return;\n    dis[x][y]=sum;\n    for(int i=0;i<4;i++)\n    {\n        int nx=x+tx[i],ny=y+ty[i];\n        if(nx<=n&&nx>=1&&ny<=m&&ny>=1)dfs(nx,ny,sum+a[nx][ny]);\n    }\n}\n\n```",
        "postTime": 1524234144,
        "uid": 87806,
        "name": "\u5f31\u5f31\u5f31",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4162 \u3010[SCOI2009]\u6700\u957f\u8ddd\u79bb\u3011"
    },
    {
        "content": "\u697c\u4e0b\u5df2\u7ecf\u8bf4\u8fc7\u7528spfa\u600e\u4e48\u505a\u4e86 \u4f46\u662f\u6ca1\u7ed9\u4ee3\u7801 ~~\u8fd9\u91cc\u6211\u5c31\u76f4\u63a5\u653e\u4ee3\u7801\u4e86~~\n\n\u4e3b\u8981\u662f\u6709\u4e00\u4e9b\u7ec6\u8282\u8981\u6ce8\u610f\n\n\u6211\u662f\u628a\u77e9\u9635\u4e0a\u7684\u6bcf\u4e00\u4e2a\u70b9\u6807\u53f7 \u7136\u540e\u91cd\u5efa\u56fe\u8dd1spfa ~~\u5f53\u7136\u5404\u4f4d\u5927\u4f6c\u7231\u600e\u4e48\u641e\u600e\u4e48\u641e~~\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9 \u5411\u5468\u56f4\u7684\u56db\u4e2a\u70b9\u8fde\u8fb9 \u5982\u679c\u5468\u56f4\u7684\u70b9\u6743\u503c\u4e3a1 \u8fb9\u6743\u5c31\u4e3a1\n\n\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a\u70b9\u8dd1spfa \u5982\u679cdist<=t\u5c31\u53ef\u4ee5\u66f4\u65b0\u7b54\u6848\n\n\u6ce8\u610f\u5982\u679c\u8d77\u70b9\u5c31\u6709\u969c\u788d dist\u8981+1\uff08start\u6570\u7ec4\u7684\u610f\u4e49\u6240\u5728\uff09\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,t;\nchar s[40][40];\nint ne[4][2]={{0,1},{1,0},{0,-1},{-1,0}};\ndouble d[1010][1010],maxx;\nint dist[1010];\nint start[1010];\nbool book[1010];\nstruct node\n{\n\tint to,next,w;\n}edge[1234567];\nint head[1010],k;\nvoid adde(int u,int v,int w) { edge[++k].to=v; edge[k].w=w; edge[k].next=head[u]; head[u]=k; }\nint id(int x,int y) { return n*(x-1)+y; }//\u5f97\u5230\u8fd9\u4e2a\u70b9\u7684\u7f16\u53f7\nvoid spfa(int s)\n{\n\tqueue<int> q;\n\tfor(int i=1;i<=n*m;i++) dist[i]=99999999,book[i]=0;\n\tdist[s]=start[s]; book[s]=1; q.push(s);\n\twhile(!q.empty())\n\t{\n\t\tint u=q.front(); q.pop(); book[u]=0;\n\t\tmaxx=max(maxx,d[s][u]);\n\t\tfor(int i=head[u];i;i=edge[i].next)\n\t\t{\n\t\t\tint v=edge[i].to;\n\t\t\tif(dist[v]>dist[u]+edge[i].w) \n\t\t\t{\n\t\t\t\tdist[v]=dist[u]+edge[i].w;\n\t\t\t\tif(!book[v]&&dist[v]<=t) q.push(v),book[v]=1;\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d%d\",&n,&m,&t);\n\tfor(int i=1;i<=n;i++) scanf(\"%s\",s[i]+1);\n\tfor(int i=1;i<=n;i++)//\u9884\u5904\u7406\u4e24\u70b9\u4e4b\u95f4\u7684\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tfor(int k=1;k<=n;k++)\n\t\t\t\tfor(int l=1;l<=m;l++)\n\t\t\t\t\td[id(i,j)][id(k,l)]=sqrt((i-k)*(i-k)+(j-l)*(j-l));\t\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tif(s[i][j]=='1') start[id(i,j)]=1;\n\t\t\tfor(int k=0;k<4;k++)\n\t\t\t{\n\t\t\t\tint tx=i+ne[k][0],ty=j+ne[k][1];\n\t\t\t\tif(tx<1||ty<1||tx>n||ty>m) continue;\n\t\t\t\tint w=s[tx][ty]-'0';\n\t\t\t\tadde(id(i,j),id(tx,ty),w);\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n*m;i++) spfa(i);\n\tprintf(\"%.6f\",maxx);\n\treturn 0;\n}\n```",
        "postTime": 1535114623,
        "uid": 85691,
        "name": "LengChu",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4162 \u3010[SCOI2009]\u6700\u957f\u8ddd\u79bb\u3011"
    },
    {
        "content": "~~\u662f\u4e0d\u662f\u628a\u8fd9\u9053\u9898\u60f3\u96be\u4e86\u3002\u3002\u3002\u3002~~\n## \u5206\u5c42\u56fe\u6700\u77ed\u8def\n\n\t\u5982\u679c\u5f53\u524d\u70b9\uff08x\uff09\u80fd\u901a\u5411\u7684\u70b9\uff08y\uff09\u662f0 \u5c31\u5728t\u4e2a\u5c42\u5efa x\u5230y\u7684\u8fb9\n\n\t\u5982\u679c\u5f53\u524d\u70b9\uff08x\uff09\u80fd\u901a\u5411\u7684\u70b9\uff08y\uff09\u662f1 \u5c31\u5728t-1\u4e2a\u5c42\u5efa x\u5230\u4e0b\u4e00\u5c42y\u7684\u8fb9\n   \n\tbfs\u5224\u65ad\u662f\u5426\u8054\u901a\u3002\u3002\u3002\n   \n\t\u6bcf\u6b21\u679a\u4e3ei,j,il,ij,\u770b\u80fd\u5426\u4ece(i,j)\u5230(il,jl)\n\n\u65f6\u95f4\u590d\u6742\u5ea6 n * m * t * n * m.....\u53cd\u6b63\u8fc7\u4e86\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nchar mp[35][35];\nint head[30010],ver[200010],nxt[200010],tot;\nint vis[30010];\nint n,m,t;\ninline void add(int x,int y){\n\tver[++tot]=y;\n\tnxt[tot]=head[x];\n\thead[x]=tot;\n}\nint dx[]={0,0,1,-1},dy[]={1,-1,0,0};\ndouble get(int x,int y,int xl,int yl){\n\treturn sqrt((double)(xl-x)*(xl-x)+(double)(yl-y)*(yl-y));\n}\ndouble ans;\nvoid bfs(int s){\n\tqueue<int> q;\n\tq.push(s);\n\tmemset(vis,0,sizeof vis);\n\tvis[s]=1;\n\twhile(!q.empty()){\n\t\tint x=q.front();q.pop();\n\t\tfor(int y,i=head[x];i;i=nxt[i]){\n\t\t\ty=ver[i];\n\t\t\tif(!vis[y]) q.push(y),vis[y]=1;\n\t\t}\n\t}\n}\nint main(){\n\tcin>>n>>m>>t;\n\tfor(int i=1;i<=n;++i) scanf(\"%s\",mp[i]+1);\n\tfor(int xl,yl,i=1;i<=n;++i){\n\t\tfor(int j=1;j<=m;++j){\n\t\t\tfor(int p=0;p<4;++p){\n\t\t\t\txl=j+dx[p];yl=i+dy[p];\n\t\t\t\tif(xl<1||yl<1||xl>m||yl>n) continue;\n\t\t\t\tif(mp[yl][xl]=='0'){\n\t\t\t\t\tfor(int k=0;k<=t;++k){\n\t\t\t\t\t\tadd(n*m*k+(i-1)*m+j,n*m*k+(yl-1)*m+xl);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tfor(int k=0;k<t;++k){\n\t\t\t\t\t\tadd(n*m*k+(i-1)*m+j,n*m*(k+1)+m*(yl-1)+xl);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=1;j<=m;++j){\n\t\t\tif(mp[i][j]=='1') continue;\n\t\t\tbfs((i-1)*m+j);\n\t\t\tfor(int il=1;il<=n;++il){\n\t\t\t\tfor(int jl=1;jl<=m;++jl){\n\t\t\t\t\tfor(int k=0;k<=t;++k){\n\t\t\t\t\t\tif(vis[n*m*t+(il-1)*m+jl]) {\n\t\t\t\t\t\t\tans=max(ans,get(j,i,jl,il));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%.6lf\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1558245201,
        "uid": 121618,
        "name": "Accoty_AM",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4162 \u3010[SCOI2009]\u6700\u957f\u8ddd\u79bb\u3011"
    },
    {
        "content": "## \u9898\u89e3\n$\\text{dis}_{i, j}$ \u4e3a\u5230\u4e86 ${i, j}$ \u8fd9\u4e2a\u70b9\u6700\u5c11\u9700\u8981\u642c\u7684\u969c\u788d\u7269\u3002\n\n\u56e0\u4e3a\u5982\u679c\u8981\u8ba9\u7b54\u6848\u8d8a\u5927\uff0c\u90a3\u4e48\u8ba9\u6240\u6709\u7684\u70b9\u642c\u7684\u969c\u788d\u7269\u8d8a\u5c11\uff0c\u5230\u7684\u70b9\u4e5f\u5c31\u53ef\u4ee5\u8d8a\u591a\uff0c\u7b54\u6848\u5c31\u8d8a\u5927\u3002\n\n$\\text{dis}_{i, j}$ \u53ef\u4ee5\u901a\u8fc7 spfa \u6765\u6c42\u3002\n\n\u6c42\u597d\u4e86 $\\text{dis}_{i, j}$\uff0c\u5982\u679c $\\text{dis}_{x, y} \\leq T$\uff0c\u90a3\u4e48\u8bf4\u660e\u4ece ${i, j}$ \u5f00\u59cb\u5230 ${x, y}$ \u662f\u4e00\u6761\u5408\u6cd5\u7684\u8def\u5f84\u3002\u6211\u4eec\u5c31\u628a\u7b54\u6848\u66f4\u65b0 $\\Leftrightarrow \\text{ans} = \\min\\{\\text{ans}, \\sqrt{|x-i|^2+|y-i|^2}\\}$\u3002\n\n\u56e0\u4e3a $n, m \\leq 30$\uff0c\u6240\u4ee5 ${x, y}$ \u53ef\u4ee5\u901a\u8fc7\u66b4\u529b\u679a\u4e3e\u51fa\u6765\u3002\n\n## spfa\nspfa \u662f bellman-Ford \u7684\u4f18\u5316\u3002\n\n\u6240\u4ee5\u6211\u4eec\u5148\u6765\u770b\u4e00\u4e0b bellman-Ford \u7684\u8fc7\u7a0b\u3002\n### bellman-Ford \u7684\u8fc7\u7a0b\n- \u626b\u63cf\u6240\u6709\u8fb9 $(x, y, z)$\uff0c\u82e5 $\\text{dis}_y > \\text{dis}_x + z$\uff0c\u5219\u66f4\u65b0 $\\text{dis}_y$ $\\Leftrightarrow$ $\\text{dis}_y = \\text{dis}_x + z$\u3002\n- \u91cd\u590d\u4e0a\u8ff0\u6b65\u9aa4\uff0c\u77e5\u9053\u6ca1\u6709\u66f4\u65b0\u64cd\u4f5c\u53d1\u751f\n- \u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(nm)$\uff0c\u5176\u4e2d $n$ \u4e3a\u70b9\u6570\uff0c $m$ \u4e3a\u8fb9\u6570\u3002\n\nspfa \u5c31\u662f bellman-Ford \u7684\u961f\u5217\u4f18\u5316\n### spfa \u7684\u8fc7\u7a0b\n- \u5efa\u7acb\u4e00\u4e2a\u961f\u5217\uff0c\u6700\u521d\u961f\u5217\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\u8d77\u70b9\uff1b\n- \u53d6\u51fa\u961f\u5934\u7ed3\u70b9$x$\uff0c\u626b\u63cf$x$\u7684\u6240\u6709\u51fa\u8fb9 $(x, y, z)$\uff0c\u82e5  $\\text{dis}_y > \\text{dis}_x + z$\uff0c\u5219\u4f7f\u7528 $\\text{dis}_x + z$ \u66f4\u65b0   $\\text{dis}_y \\Leftrightarrow \\text{dis}_y = \\text{dis}_x + z$\u3002\u540c\u65f6\uff0c\u82e5 $y$ \u4e0d\u5728\u961f\u5217\u4e2d\uff0c\u5219\u628a $y$ \u5165\u961f\uff1b\n- \u91cd\u590d\u4e0a\u8ff0\u6b65\u9aa4\uff0c\u76f4\u5230\u961f\u5217\u4e3a\u7a7a\uff1b\n- \u65f6\u95f4\u590d\u6742\u5ea6 \u6700\u574f\u60c5\u51b5 $\\mathcal O(nm)$\uff0c\u5176\u4e2d $n$ \u4e3a\u70b9\u6570\uff0c$m$ \u4e3a\u8fb9\u6570\uff0c\u4e00\u822c\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(km)$\uff0c\u5176\u4e2d $k$ \u4e3a\u5e38\u6570\uff0c\u4e00\u822c\u4e3a $2-3$\uff0c$m$\u4e3a\u8fb9\u6570\u3002\n\n## \u65f6\u95f4\u590d\u6742\u5ea6\n- \u679a\u4e3e\u6bcf\u4e2a\u70b9 $\\mathcal O(nm)$\uff1b\n- spfa \u6700\u574f\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(4(nm)^2)$\uff1b\n- \u679a\u4e3e\u6bcf\u4e2a\u70b9 $\\mathcal O(nm)$\uff1b\n- \u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $\\mathcal O(4(nm)^3+(nm)^2)$\uff0c\u53ef\u4ee5\u8fc7\u3002\n\n## \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n\n#define x first\n#define y second\n#define MP make_pair\n\nusing namespace std;\n\ntypedef long long LL;\ntypedef pair<int, int> PII;\ntypedef unsigned long long ULL;\n\nconst int N = 40, INF = 0x3f3f3f3f;\nconst double eps = 1e-8;\n\nint n, m, k;\nPII q[N * N]; // \u8fd9\u91cc\u6211\u7528\u7684\u662f\u5faa\u73af\u961f\u5217\nint dist[N][N];\nbool st[N][N];\nchar g[N][N];\n\nint spfa(int x, int y, int w) // spfa\n{\n    int dx[4] = {-1, 0, 1, 0}, dy[4] = {0, 1, 0, -1};\n    int hh = 0, tt = 0;\n    memset(dist, 0x3f, sizeof dist);\n    dist[x][y] = w;\n    q[tt ++ ] = MP(x, y);\n\n    while (hh != tt)\n    {\n        PII t = q[hh ++ ];\n        if (hh == N * N) hh = 0;\n        st[t.x][t.y] = false; // \u628a\u8fd9\u4e2a\u70b9\u6807\u8bb0\u4e3a\u4e0d\u5728\u961f\u5217\u91cc\n        \n        for (int i = 0; i < 4; i ++ ) // \u679a\u4e3e\u8fd9\u4e2a\u70b9\u7684\u6240\u6709\u90bb\u70b9\n        {\n            int a = t.x + dx[i], b = t.y + dy[i];\n            if (a < 0 || a >= n || b < 0 || b >= m) continue; // \u5224\u65ad\u662f\u5426\u8d8a\u754c\n            int w = g[a][b] == '1' ? 1 : 0; // \u8ba1\u7b97\u6743\u503c\n            if (dist[a][b] > dist[t.x][t.y] + w)\n            {\n                dist[a][b] = dist[t.x][t.y] + w;\n                if (!st[a][b])\n                {\n                    q[tt ++ ] = MP(a, b);\n                    st[a][b] = true; // \u6807\u8bb0\u4e3a\u5df2\u7ecf\u5728\u961f\u5217\u91cc\n                    if (tt == N * N) tt = 0;\n                }\n            }\n        }\n    }\n}\n\nint main()\n{\n    cin >> n >> m >> k;\n    for (int i = 0; i < n; i ++ ) cin >> g[i];\n    double res = 0;\n    for (int i = 0; i < n; i ++ )\n        for (int j = 0; j < m; j ++ ) // \u679a\u4e3e\u628a\u90a3\u4e2a\u70b9\u505a\u4e3a\u8d77\u70b9\n        {\n            int w = g[i][j] == '1' ? 1 : 0; // \u8ba1\u7b97\u6743\u503c\n            if (w > k) continue; // \u5982\u679c\u5df2\u7ecf\u4e0d\u5408\u6cd5\u4e86\u5c31\u4e0d\u7528\u6267\u884c\u4e86\n            spfa(i, j, w);\n            for (int x = 0; x < n; x ++ )\n                for (int y = 0; y < m; y ++ )\n                    if (dist[x][y] <= k)\n                        res = max(res, sqrt(abs(x - i) * abs(x - i) + abs(y - j) * abs(y - j))); // \u6c42\u6700\u5927\u503c\n        }\n    \n    printf(\"%.6lf\\n\", res); // \u8f93\u51fa\u7b54\u6848\n\treturn 0;\n}\n```",
        "postTime": 1648982150,
        "uid": 353330,
        "name": "hcywoi",
        "ccfLevel": 5,
        "title": "P4162\u6700\u957f\u8ddd\u79bb\u9898\u89e3"
    },
    {
        "content": "[P4162 [SCOI2009]\u6700\u957f\u8ddd\u79bb](https://www.luogu.com.cn/problem/P4162)\n\n\u9898\u610f\uff1a\u7ed9\u4f60\u4e00\u4e2a$n*m$\u7684\u68cb\u76d8\uff0c\u6709\u4e9b\u70b9\u6709\u969c\u788d\uff0c\u901a\u8fc7\u8d39\u7528\u4e3a$1$,\u6709\u4e9b\u70b9\u65e0\u969c\u788d\uff0c\u514d\u8d39\u901a\u8fc7.\u7ed9\u4f60$K$\u7684\u4ee3\u4ef7\uff0c\u95ee\u4f60\u4ece\u4efb\u610f\u4e00\u70b9\u5230\u8fbe\u53e6\u4e00\u70b9\u7684\u6700\u5927\u8ddd\u79bb.\n\n\u8fd9\u9898\u6211\u4eec\u4e0d\u96be\u60f3\u51fa\u4e00\u4e2a\u66b4\u529b\uff1a\u5148\u56fa\u5b9a\u4e00\u4e2a\u70b9\uff0c\u7136\u540e\u4ece\u8fd9\u4e2a\u70b9\u5f80\u5916\u626b\uff0c\u626b\u63cf\u5728\u5269\u4f59\u4ee3\u4ef7\u5185\u80fd\u904d\u5386\u5230\u7684\u6700\u8fdc\u7684\u70b9.\u7531\u4e8e$n,m$\u90fd\u5f88\u5c0f\uff0c\u6240\u4ee5\u7406\u8bba\u590d\u6742\u5ea6\u80fd\u8fc7\uff0c\u74f6\u9888\u5728\u4e8e\u5982\u4f55\u6c42\u51fa\u5728\u5269\u4f59\u4ee3\u4ef7\u5185\u80fd\u5426\u5230\u8fbe\u5bf9\u5e94\u7684\u70b9.\n\n\u6ce8\u610f\u5230\u969c\u788d\u70b9\u901a\u8fc7\u662f\u6709\u4ee3\u4ef7\u7684\uff0c\u4e8e\u662f\u4e4e\u5bb9\u6613\u8054\u60f3\u5230\u6700\u77ed\u8def\uff0c\u626b\u63cf\u65f6\u6bcf\u6b21\u7528$spfa$\u626b\u51fa\u5f53\u524d\u70b9\u5230\u5176\u5b83\u70b9\u7684\u6700\u5c0f\u4ee3\u4ef7\u5373\u53ef.\n\n$O((n\\cdot m)^2log(n\\cdot m))$\n\n\u6838\u5fc3\u4ee3\u7801\n\n```cpp\nll n, m, K;\n\nchar c[31][31];\nbool mp[31][31];\n\nll dis[31][31];\nbool vis[31][31];\nqueue<pair<ll, ll> > q;\n\nconst ll dx[4]={0, 0, 1, -1}, dy[4]={1, -1, 0, 0};\n\ninline void spfa(ll Sx, ll Sy){\n\tmemset(dis, 0x3f, sizeof dis);\n\tdis[Sx][Sy]=mp[Sx][Sy];\n\tq.push(make_pair(Sx, Sy));\n\twhile (q.size()){\n\t\tll x=q.front().first, y=q.front().second;\n\t\tvis[x][y]=false;\n\t\tq.pop();\n\t\tfor (R ll i=0, nx, ny; i<4; i++){\n\t\t\tnx=x+dx[i]; ny=y+dy[i];\n\t\t\tif (nx<=0 || nx>n || ny<=0 || ny>m) continue;\n\t\t\tif (dis[nx][ny]>dis[x][y]+mp[nx][ny]){\n\t\t\t\tdis[nx][ny]=dis[x][y]+mp[nx][ny];\n\t\t\t\tif (!vis[nx][ny]){\n\t\t\t\t\tq.push(make_pair(nx, ny));\n\t\t\t\t\tvis[nx][ny]=true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\ndl res;\nint main(){\n\tread(n); read(m); read(K);\n\tfor (R ll i=1; i<=n; i++) scanf(\"%s\", c[i]+1);\n\tfor (R ll i=1; i<=n; i++)\n\t\tfor (R ll j=1; j<=m; j++)\n\t\t\tmp[i][j]=(c[i][j]=='1');\n\tfor (R ll i=1; i<=n; i++)\n\t\tfor (R ll j=1; j<=m; j++){\n\t\t\tspfa(i, j);\n\t\t\tfor (R ll k=1; k<=n; k++)\n\t\t\t\tfor (R ll l=1; l<=m; l++)\n\t\t\t\t\tif (dis[k][l]<=K) chkmax(res, sqrt(1.0*(k-i)*(k-i)+1.0*(l-j)*(l-j)));\n\t\t}\n\tprintf(\"%.6lf\\n\", res);\n}\n```\n",
        "postTime": 1604962923,
        "uid": 220285,
        "name": "Saber_Master",
        "ccfLevel": 7,
        "title": "P4162 [SCOI2009]\u6700\u957f\u8ddd\u79bb"
    },
    {
        "content": "\u5176\u5b9e\u8fd9\u9053\u9898\u6709\u4e00\u4e2a\u601d\u7ef4\u969c\u788d\uff0c\u5c31\u662f\u8bfb\u5b8c\u9898\u4e4b\u540e\u4e0d\u77e5\u9053\u8be5\u5982\u4f55\u79fb\u77f3\u5934\u3002\n\n\u4f46\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u628a\u9898\u62bd\u8c61\u6210\u6a21\u578b\u540e\u53d1\u73b0\u8fd9\u5c31\u662f\u4e2a\u6700\u77ed\u8def\uff0c\n\n\u628a\u6709\u77f3\u5934\u7684\u503c\u6807\u4e3a1\uff0c\u6ca1\u77f3\u5934\u7684\u6807\u4e3a0\uff0c\u6700\u540e\u6bcf\u4e2a\u683c\u5b50\u5237\u4e00\u8d9f\uff0c\u770b\u6700\u77ed\u8def\u662f\u5426\u5c0f\u4e8e\u7b49\u4e8eT\u3002\n\n\u6700\u540e\u7528\u516c\u5f0f\u6c42\u4e00\u4e0b\u6700\u5c0f\u7684ans\u5c31\u53ef\u4ee5\u4e86\u3002\n\nCode:\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int w[4][2]={{-1,0},{0,1},{1,0},{0,-1}};\nstruct ZS{\n\tint x,y;\n}q[100005];\nint n,m,t,ans;\nint f[35][35],mp[35][35];\nvoid BFS(int x,int y){\n\tmemset(f,127,sizeof f);f[x][y]=mp[x][y];\n\tint hed=0,til=0;q[++til]=(ZS){x,y};\n\twhile(hed<=til){\n\t\thed++;\\\\\u6700\u77ed\u8def\n\t\tfor(int i=0;i<=3;i++)if(q[hed].x+w[i][0]>=1&&q[hed].x+w[i][0]<=n&&q[hed].y+w[i][1]>=1&&q[hed].y+w[i][1]<=m&&f[q[hed].x+w[i][0]][q[hed].y+w[i][1]]>f[q[hed].x][q[hed].y]+mp[q[hed].x+w[i][0]][q[hed].y+w[i][1]])f[q[hed].x+w[i][0]][q[hed].y+w[i][1]]=f[q[hed].x][q[hed].y]+mp[q[hed].x+w[i][0]][q[hed].y+w[i][1]],q[++til]=(ZS){q[hed].x+w[i][0],q[hed].y+w[i][1]};\n\t}\n}\nint make(int x,int y,int xx,int yy){\n\treturn (x-xx)*(x-xx)+(y-yy)*(y-yy);\\\\\u6ce8\u610f\u8fd9\u91cc\u5148\u4e0d\u8981\u5f00\u65b9\uff0c\u786e\u4fdd\u7cbe\u5ea6\u6ca1\u95ee\u9898\uff0c\u6700\u540e\u8f93\u51fa\u7684\u65f6\u5019\u518d\u5f00\u65b9\u5c31OK\u4e86\n}\ninline int read(){\n\tint ret=0,f=1;char ch=getchar();\n\twhile(!isdigit(ch)){if(ch=='-')f=-f;ch=getchar();}\n\twhile(isdigit(ch)){ret=ret*10+ch-'0';ch=getchar();}\n\treturn ret*f;\n}\nint main(){\n\tfreopen(\"maxl.in\",\"r\",stdin);\n\tfreopen(\"maxl.out\",\"w\",stdout);\n\tn=read();m=read();t=read();\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++)mp[i][j]=getchar()-'0';\n\t\tgetchar();\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tBFS(i,j);\n\t\t\tfor(int ii=1;ii<=n;ii++)\n\t\t\tfor(int jj=1;jj<=m;jj++)if(f[ii][jj]<=t)ans=max(ans,make(i,j,ii,jj));\n\t}\n\tprintf(\"%.6lf\\n\",sqrt(ans));\n\treturn 0;\n}\n```\n\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\uff0c\u5e0c\u671b\u80fd\u901a\u8fc7",
        "postTime": 1595847225,
        "uid": 188879,
        "name": "VioletIsMyLove",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4162 \u3010[SCOI2009]\u6700\u957f\u8ddd\u79bb\u3011"
    },
    {
        "content": "~~\uff08\u6211\u8ba4\u4e3a\u662f\u53cc\u7aef\u961f\u5217\u7684\u88f8\u9898~~  \n\u4ece\u6bcf\u4e2a\u70b9\u8fdb\u884c bfs\uff0c \u5982\u679c\u4e0b\u4e00\u6b65\u6709\u969c\u788d\uff0c \u5c31\u662fcost+1, \u52a0\u5165\u5230\u961f\u5c3e\u3002  \u4e0b\u4e00\u6b65\u6ca1\u6709\u969c\u788d\uff0c \u52a0\u5165\u961f\u9996 cost\u4e0d\u53d8\u3002  \n\u53ef\u4ee5\u4fdd\u8bc1 \u4ece\u51fa\u53d1\u70b9\u5230\u6bcf\u4e2a\u8282\u70b9\u6240\u79fb\u9664\u7684\u969c\u788d\u7269\u6700\u5c11  \n\u8ba1\u7b97\u53ef\u4ee5\u5230\u8fbe\u7684\u70b9\u5230\u51fa\u53d1\u70b9\u7684\u8ddd\u79bb\u7684\u6700\u5927\u503c\u5373\u53ef  \n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#include<deque>\n#define h first //\u53ea\u662f\u7b80\u5316\u4ee3\u7801\uff0c \u6bd5\u7adffirst 5\u4e2a\u5b57\u6bcdQuQ\n#define l second\n#define cl(a) memset(a, 0, sizeof(a))\nusing namespace std;\ntypedef pair<int,int> P; //pair \u5c01\u88c5\u70b9\u5750\u6807\n\nconst int N = 35;\nint dx[4] = {0, 0, -1, 1}, dy[4] = {1, -1, 0, 0};\nint vis[N][N], MP[N][N], n, m, t, cost[N][N];\nchar s[N];\ndeque<P> qu; //\u53cc\u7aef\u961f\u5217\ndouble MAX;\n\ndouble cal(P a, P b) { //\u8ba1\u7b97\u8ddd\u79bb\n\tint x = a.h - b.h, y = a.l - b.l;\n\treturn sqrt((double)x*x + (double)y*y);\n}\n\nvoid bfs(P x) {\n\tqu.clear();\n\tvis[x.h][x.l] = 1;\n\tif(MP[x.h][x.l]) cost[x.h][x.l] = 1;\n\tqu.push_back(x);\n\twhile(!qu.empty()) {\n\t\tP now = qu.front(); qu.pop_front();\n\t\tif(cost[now.h][now.l] > t)return;\n\t\tfor(int i = 0; i < 4; ++i) {\n\t\t\tif(now.h + dx[i] > n || now.h + dx[i] < 1) continue;\n\t\t\tif(now.l + dy[i] > m || now.l + dy[i] < 1) continue;\n\t\t\tP nt(now.h + dx[i], now.l + dy[i]);\n\t\t\tif(vis[nt.h][nt.l]) continue;\n\t\t\tif(!MP[nt.h][nt.l]) {\n\t\t\t\tqu.push_front(nt);\n\t\t\t\tcost[nt.h][nt.l] = cost[now.h][now.l];\n\t\t\t\tvis[nt.h][nt.l] = 1;\n\t\t\t\tMAX = max(MAX, cal(x, nt));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(cost[now.h][now.l] + 1 > t)continue;\n\t\t\t\tcost[nt.h][nt.l] = cost[now.h][now.l] + 1;\n\t\t\t\tvis[nt.h][nt.l] = 1;\n\t\t\t\tqu.push_back(nt);\n\t\t\t\tMAX = max(MAX, cal(x, nt));\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main()\n{\n\tscanf(\"%d%d%d\",&n,&m,&t);\n\tfor(int i = 1; i <= n; ++i) {\n\t\tscanf(\"%s\",s);\n\t\tfor(int j = 0; j < m; ++j) MP[i][j+1] = s[j] - '0';\n\t}\n\tfor(int i = 1; i <= n; ++i)\n\tfor(int j = 1; j <= m; ++j) {\n\t\tbfs(P(i,j));\n\t\tcl(cost); cl(vis);\n\t}\n\tprintf(\"%.6f\\n\",MAX);\n}\n\n```",
        "postTime": 1532400061,
        "uid": 61953,
        "name": "Chester",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4162 \u3010[SCOI2009]\u6700\u957f\u8ddd\u79bb\u3011"
    },
    {
        "content": "\u66b4\u529b\u5efa\u56fe+\u6700\u77ed\u8def\u3002\n\n### \u601d\u8def\n\n\u9898\u610f\u78e8\u4eba\u3002\u5c31\u662f\u8bf4\u5982\u679c\u683c\u5b50 $a$ \u548c $b$ \u4e4b\u95f4\u6309\u683c\u5b50\u8d70\u9700\u8981\u7ecf\u8fc7\u7684\u969c\u788d\u7269\u6570\u91cf\u5c11\u4e8e $t$ \u5c31\u8bf4\u660e $a$ \u548c $b$ \u53ef\u4ee5\u4e92\u76f8\u5230\u8fbe\uff0c\u8ddd\u79bb\u4e3a\u4fe9\u683c\u5b50\u4e2d\u5fc3\u7684\u76f4\u7ebf\u8ddd\u79bb\u3002\n\n\u4e0d\u8981\u76ef\u7740\u8981\u4f60\u6c42\u7684\u90a3\u4e2a\u4ec0\u4e48\u6700\u957f\u8ddd\u79bb\u770b\uff0c\u8f6c\u5316\u4e00\u4e0b\uff0c\u5148\u628a\u6240\u6709\u683c\u5b50\u5f04\u4e00\u4e2a\u66b4\u529b\u5efa\u56fe\uff1a\n\n```cpp\nint nx,ny,v;\nfor(int i=1;i<=n;i++){\n    for(int j=1;j<=m;j++){\n        for(int k=0;k<4;k++){\n            nx=i+dx[k],ny=j+dy[k];\n            if(nx>=1&&nx<=n&&ny>=1&&ny<=m){\n                v=c[nx][ny]=='1'?1:0;\n                G[i][j].push_back((node){nx,ny,v});\n            }\n        }\n    }\n}\n```\n\n\u7136\u540e\u5bf9\u7740\u8fd9\u4e2a\u56fe\u8dd1\u4e00\u4e2a\u6700\u77ed\u8def\uff0c\u8fd9\u91cc\u9700\u8981\u628a $dis[i]$ \u8bbe\u4e3a\u7531\u8d77\u70b9\u5230 $i$ \u9700\u8981\u7ecf\u8fc7\u7684\u969c\u788d\u7269\u7684\u6570\u91cf\u7684\u6700\u5c0f\u503c\u5373\u53ef\uff0c\u5c31\u662f\u6700\u77ed\u8def\u73ed\u5b50\u4e86\u5bf9\u5427\uff0c\u5355\u6e90\u3002\n\n\u7136\u540e\u53bb\u770b\u54ea\u4e9b $dis[i]$ \u5c0f\u4e8e $t$ \u53bb\u7b97\u8d77\u70b9\u5230 $i$ \u7684\u683c\u5b50\u4e2d\u5fc3\u7684\u8ddd\u79bb\uff0c\u6bd4\u4e00\u4e2a\u6700\u5c0f\u503c\u5c31\u53ef\u4ee5\u4e86\u3002\n\n### \u6ce8\u610f\u70b9\n\n1.\u6709\u591a\u4e2a\u8d77\u70b9\uff0c\u591a\u6b21\u8c03\u7528\u6700\u77ed\u8def\u51fd\u6570\uff0c\u8bb0\u5f97\u6e05\u7406\u6570\u7ec4\u3002\n\n2.\u5728\u7b97 $dis[i]$ \u7684\u65f6\u5019\u8bb0\u5f97\u770b\u770b\u8d77\u70b9\u6709\u6ca1\u6709\u969c\u788d\u7269\u3002\n\n3.\u8ddd\u79bb\u662f\u6307\u683c\u5b50\u4e2d\u5fc3\u7684\u76f4\u7ebf\u8ddd\u79bb\uff0c\u522b\u5199\u6210\u5947\u5947\u602a\u602a\u7684\u4e1c\u897f\u4e86\u3002\n\n\u4e0a\u9762\u7684\u5751\u6211\u81f3\u5c11\u8e29\u4e86\u56db\u4e2a\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#include<vector>\n#include<queue>\nusing namespace std;\nconst int MAXN=31,inf=2147483647;\nint n,m,t,dis[MAXN][MAXN];\nbool vis[MAXN][MAXN];\ndouble ans=-1e9;\nchar c[MAXN][MAXN];\nint dx[]={0,1,0,-1};\nint dy[]={1,0,-1,0};\nstruct node{\n    int x,y,val;\n};\nvector <node> G[MAXN][MAXN];\nstruct Node{\n    int ax,ay,dist;\n    bool operator<(const Node &b) const{\n        return dist>b.dist;\n    }\n};\npriority_queue <Node> pq;\n\nvoid Dijkstra(int sx,int sy){\n    memset(vis,0,sizeof(vis));\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n            dis[i][j]=inf;\n        }\n    }\n    dis[sx][sy]=0;\n    pq.push((Node){sx,sy,0});\n    int bx,by;\n    while(pq.empty()==0){\n        bx=pq.top().ax,by=pq.top().ay;\n        pq.pop();\n        if(vis[bx][by]==1)continue;\n        vis[bx][by]=1;\n        for(int i=0;i<G[bx][by].size();i++){\n            node nxt=G[bx][by][i];\n            if(dis[nxt.x][nxt.y]>dis[bx][by]+nxt.val){\n                dis[nxt.x][nxt.y]=dis[bx][by]+nxt.val;\n                pq.push((Node){nxt.x,nxt.y,dis[nxt.x][nxt.y]});\n            }\n        }\n    }\n    return ;\n}\n\nint main(){\n    cin>>n>>m>>t;\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n            cin>>c[i][j];\n        }\n    }\n    int nx,ny,v;\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n            for(int k=0;k<4;k++){\n                nx=i+dx[k],ny=j+dy[k];\n                if(nx>=1&&nx<=n&&ny>=1&&ny<=m){\n                    v=c[nx][ny]=='1'?1:0;\n                    G[i][j].push_back((node){nx,ny,v});\n                }\n            }\n        }\n    }\n    double tmp;\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n            Dijkstra(i,j);\n            v=c[i][j]=='1'?1:0;\n            for(int k=1;k<=n;k++){\n                for(int l=1;l<=m;l++){\n                    if(k==i&&l==j)continue;\n                    if(dis[k][l]+v<=t){\n                        tmp=sqrt((k-i)*(k-i)+(l-j)*(l-j));\n                        ans=ans>tmp?ans:tmp;\n                    }\n                }\n            }\n        }\n    }\n    printf(\"%.6lf\",ans);\n    return 0;\n}\n```",
        "postTime": 1662972843,
        "uid": 483928,
        "name": "Ziqqurat",
        "ccfLevel": 5,
        "title": "P4162 \u9898\u89e3"
    },
    {
        "content": "\u9898\u5e72\u82b1\u91cc\u80e1\u54e8\uff0c\u4f46\u662f\u4ed4\u7ec6\u4e00\u770b\u53d1\u73b0\u53ef\u4ee5\u628a\u9898\u5e72\u8f6c\u5316\u4e00\u4e0b\uff0c\u5373\u6c42\u4e24\u70b9\u95f4\u7684\u6700\u5c11\u79fb\u8d70\u969c\u788d\u7269\u6570\uff0c\u7136\u540e\u5224\u65ad\u662f\u5426\u5728\u89c4\u5b9a\u8303\u56f4\u5185\uff0c\u5e76\u66f4\u65b0\u6700\u5927\u503c\u3002\u5177\u4f53\u5b9e\u73b0\u76f4\u63a5\u66b4\u529b\u5efa\u56fe\uff0c\u66b4\u529b\u6700\u77ed\u8def\u6700\u540e\u66b4\u529b\u5f97\u51fa\u7ed3\u8bba\u3002\n\n\u672c\u9898\u7ec6\u8282\u591a\uff0c\u6162\u6162\u98df\u7528\uff0c\u5207\u83ab\u7740\u6025\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,t,a[40][40],mov[4][2]={{1,0},{0,-1},{-1,0},{0,1}},dis[40][40],vis[40][40];\ndouble ans=-1e9;\nstruct node//\u5b58\u8fb9\n{\n\tint x,y,v;\n\tnode(int x,int y,int v):x(x),y(y),v(v) {}\n};\nstruct node1//\u6700\u77ed\u8def\u98df\u7528\n{\n\tint x,y,s;\n\tnode1(int x,int y,int s):x(x),y(y),s(s) {}\n\tbool operator <(const node1 p) const\n\t{\n\t\treturn s>p.s;\n\t}\n};\npriority_queue <node1> q;\nvector <node> mp[40][40];\nvoid djs(int x,int y)//\u6700\u77ed\u8def\n{\n\tmemset(vis,0,sizeof(vis));//\u6e05\u7a7a\u6570\u7ec4\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tdis[i][j]=2147483647;\n\t\t}\n\t}\n\tdis[x][y]=0;\n\tq.push(node1(x,y,0));\n\twhile(!q.empty())\n\t{\n\t\tint xx=q.top().x,yy=q.top().y;\n\t\tq.pop();\n\t\tif(vis[xx][yy])\n\t\t{\n\t\t\tcontinue;\n\t\t}\n\t\tvis[xx][yy]=1;\n\t\tfor(int i=0;i<mp[xx][yy].size();i++)//\u66f4\u65b0dis\n\t\t{\n\t\t\tif(dis[xx][yy]+mp[xx][yy][i].v<dis[mp[xx][yy][i].x][mp[xx][yy][i].y])\n\t\t\t{\n\t\t\t\tdis[mp[xx][yy][i].x][mp[xx][yy][i].y]=dis[xx][yy]+mp[xx][yy][i].v;\n\t\t\t\tq.push(node1(mp[xx][yy][i].x,mp[xx][yy][i].y,dis[mp[xx][yy][i].x][mp[xx][yy][i].y]));\n\t\t\t}\n\t\t}\n\t} \n\treturn ;\n}\nint main()\n{\n\tcin>>n>>m>>t;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tstring x;\n\t\tcin>>x;\n\t\tfor(int j=0;j<m;j++)\n\t\t{\n\t\t\ta[i][j+1]=x[j]-'0';\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++)//\u5b58\u56fe\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tfor(int o=0;o<=3;o++)\n\t\t\t{\n\t\t\t\tint xx=i+mov[o][0],yy=j+mov[o][1];\n\t\t\t\tif(xx>=1&&xx<=n&&yy>=1&&yy<=m)\n\t\t\t\t{\n\t\t\t\t\tmp[i][j].push_back(node(xx,yy,(a[xx][yy]==1)));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++)//\u66f4\u65b0\u7b54\u6848\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tdjs(i,j);\n\t\t\tfor(int k=1;k<=n;k++)\n\t\t\t{\n\t\t\t\tfor(int l=1;l<=m;l++)\n\t\t\t\t{\n\t\t\t\t\tif(i==k&&j==l)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif(dis[k][l]+(a[i][j]==1)<=t)\n\t\t\t\t\t{\n\t\t\t\t\t\tans=max(ans,(double)sqrt((i-k)*(i-k)+(j-l)*(j-l)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%.6lf\",ans);//\u6109\u5febAC\n\treturn 0;\n}\n```\n",
        "postTime": 1683636762,
        "uid": 557510,
        "name": "AzureHair",
        "ccfLevel": 5,
        "title": "P4162\u6700\u957f\u8ddd\u79bb\u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\n\u8fd9\u9898\u867d\u7136\u662f\u9053\u84dd\u9898\uff0c\u4f46\u672c\u8d28\u4e0a\u5c31\u662f\u6700\u77ed\u8def\uff0c\u4e0d\u8981\u60f3\u5f97\u592a\u590d\u6742\u3002\n### \u601d\u8def\n\u9996\u5148\uff0c\u6211\u4eec\u7528 bfs \u6c42\u51fa\u4e24\u4e2a\u70b9\u4e4b\u95f4\u9700\u8981\u79fb\u52a8\u591a\u5c11\u969c\u788d\u624d\u80fd\u5230\u8fbe\u3002\u63a5\u7740\uff0c\u6211\u4eec\u76f4\u63a5\u66b4\u529b\u679a\u4e3e\u4e24\u4e2a\u70b9\uff0c\u5224\u65ad\u662f\u5426\u80fd\u5230\u8fbe\uff0c\u6700\u540e\u6c42\u4e24\u70b9\u76f4\u7ebf\u8ddd\u79bb\u7684\u6700\u5927\u503c\u5c31\u53ef\u4ee5\u4e86\u3002\n### \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int tag[4][2]={0,1,1,0,0,-1,-1,0};\ndouble ma;\nint n,m,k,i,j,i1,j2,x,y,I,J,xx,yy,a[50][50],f[1000][1000],e[1000];\nqueue<int>q1,q2;\nint s(int x,int y){return (x-1)*m+y;}//\u8fd9\u91cc\u6211\u7528\u4e00\u4e2a\u6570\u5b57\u4ee3\u66ff\u4e00\u4e2a\u70b9\uff0c\u4f46\u6253\u5b8c\u4e4b\u540e\u53d1\u73b0\u6ca1\u4ec0\u4e48\u7528\nint read(){\n\tint x=0;char ch=getchar();\n\twhile(ch<'0'||ch>'9') ch=getchar();\n\twhile(ch>='0'&&ch<='9') x=x*10+ch-48,ch=getchar();\n\treturn x;\n}\nint main(){\n\tn=read();m=read();k=read();\n\tfor(i=1;i<=n;i++)\n\t\tfor(j=1;j<=m;j++) scanf(\"%1d\",&a[i][j]);\n\tfor(i=1;i<=n;i++)\n\t\tfor(j=1;j<=m;j++){\n\t\t\tmemset(e,64,sizeof(e));\n\t\t\tI=s(i,j);\n\t\t\tif(a[i][j]) e[I]=1;\n\t\t\telse e[I]=0;\n\t\t\tq1.push(i);q2.push(j);\n\t\t\twhile(!q1.empty()){\n\t\t\t\tx=q1.front();y=q2.front();\n\t\t\t\tfor(i1=0;i1<4;i1++){\n\t\t\t\t\txx=x+tag[i1][0];yy=y+tag[i1][1];\n\t\t\t\t\tif(xx<1||yy<1||xx>n||yy>m) continue;\n\t\t\t\t\tJ=s(xx,yy);\n\t\t\t\t\tif(e[J]>e[s(x,y)]+a[xx][yy]){\n\t\t\t\t\t\tq1.push(xx);q2.push(yy);\n\t\t\t\t\t\te[J]=e[s(x,y)]+a[xx][yy];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tq1.pop();q2.pop();\n\t\t\t}\n\t\t\tfor(i1=1;i1<=n;i1++)\n\t\t\t\tfor(j2=1;j2<=m;j2++) f[I][s(i1,j2)]=e[s(i1,j2)];\n\t\t}//bfs\u6c42\u4e24\u70b9\u4e4b\u95f4\u9700\u8981\u79fb\u52a8\u7684\u969c\u788d\u6570\n\tfor(i=1;i<=n;i++)\n\t\tfor(j=1;j<=m;j++)\n\t\t\tfor(i1=1;i1<=n;i1++)\n\t\t\t\tfor(j2=1;j2<=m;j2++)\n\t\t\t\t\tif(f[s(i,j)][s(i1,j2)]<=k&&sqrt((i1-i)*(i1-i)+(j2-j)*(j2-j))>ma)\n\t\t\t\t\t\tma=sqrt((i1-i)*(i1-i)+(j2-j)*(j2-j));//\u66b4\u529b\u679a\u4e3e\u4e24\u70b9\uff0c\u6c42\u6b27\u51e0\u91cc\u5fb7\u8ddd\u79bb\u6700\u5927\u503c\n\tprintf(\"%.6lf\\n\",ma);\n\treturn 0;\n}\n```\n",
        "postTime": 1660027303,
        "uid": 535145,
        "name": "_szs9601",
        "ccfLevel": 5,
        "title": "P4162 [SCOI2009]\u6700\u957f\u8ddd\u79bb \u9898\u89e3"
    },
    {
        "content": "[\u535a\u5ba2\u5185\u89c2\u770b](https://www.cnblogs.com/A2484337545/p/15439367.html)\n\n\u8fd9\u9898\u66b4\u529b\u5efa\u56fe\u518d\u52a0\u4e2a\u6700\u77ed\u8def\u5c31\u53ef\u4ee5\u8fc7\u3002\n\n\u5bf9\u4e8e\u4e00\u4e2a\u70b9 $x$\uff0c\u6211\u4eec\u7ed9\u5b83\u548c\u5b83\u76f8\u90bb\u7684\u70b9\u4e4b\u95f4\u8fde\u4e00\u6761\u6709\u5411\u8fb9\uff0c\u82e5\u76f8\u90bb\u7684\u70b9\u4e3a\u77f3\u5934\uff0c\u5219\u8fb9\u6743\u4e3a $1$\uff0c\u53cd\u4e4b\uff0c\u5219\u4e3a $0$\u3002\n\n\u7136\u540e\u5927\u529b\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9 $x$\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9\u90fd\u8dd1\u4e00\u904d Dijskra \u7b97\u6cd5\uff0c\u8fd9\u65f6\u5019\uff0c\u6211\u4eec\u5c31\u5df2\u7ecf\u6c42\u51fa\u4e86\u70b9 $x$ \u5230\u5176\u4ed6\u6240\u6709\u70b9\u9700\u8981\u7ecf\u8fc7\u7684\u77f3\u5934\u7684\u6570\u91cf\u7684\u6700\u5c0f\u503c\uff0c\u7136\u540e\u518d\u679a\u4e3e\u7ec8\u70b9\u66f4\u65b0\u7b54\u6848\u5373\u53ef\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $\\Theta(n^4)$\u3002\n\n\u4ee3\u7801\n```\n#include<iostream>\n#include<cstdio>\n#include<queue>\n#include<cmath>\n#include<cstring>\n#define get(x, y) ((x - 1) * n + y)\nusing namespace std;\nconst int N = 1e6 + 5;\ntypedef pair<int, int> PII;\n\nchar sq[35][35];\nint dis[905];\nint head[N], ver[N], net[N], edge[N], idx;\nbool vis[905];\n\nvoid add(int a, int b, int c)\n{\n    net[++idx] = head[a], ver[idx] = b, edge[idx] = c, head[a] = idx;\n}\n\nvoid Dij(int s, int d)\n{\n    memset(dis, 0x3f, sizeof(dis));\n    memset(vis, 0, sizeof(vis));\n    dis[s] = d;\n    priority_queue<PII, vector<PII>, greater<PII> > q;\n    q.push({d, s});\n    while (!q.empty())\n    {\n        int u = q.top().second;\n        q.pop();\n        if (vis[u])\n            continue;\n        vis[u] = true;\n        for (int i = head[u]; i; i = net[i])\n        {\n            int v = ver[i];\n            if (dis[v] > dis[u] + edge[i])\n            {\n                dis[v] = dis[u] + edge[i];\n                q.push({dis[v], v});\n            }\n        }\n    }\n}\n\ndouble get_dis(int x, int y, int xx, int yy)\n{\n    return sqrt((x - xx) * (x - xx) + (y - yy) * (y - yy)); \n}\n\nint main()\n{\n    int n, m, t;\n    scanf(\"%d%d%d\", &n, &m, &t);\n    for (int i = 1; i <= n; i++)\n        scanf(\"%s\", sq[i] + 1);\n    for (int i = 1; i <= n; i++)\n    {\n        for (int j = 1; j <= m; j++)\n        {\n            if (i > 1)\n                add(get(i, j), get(i - 1, j), sq[i - 1][j] == '1');\n            if (i < n)\n                add(get(i, j), get(i + 1, j), sq[i + 1][j] == '1');\n            if (j > 1)\n                add(get(i, j), get(i, j - 1), sq[i][j - 1] == '1');\n            if (j < m)\n                add(get(i, j), get(i, j + 1), sq[i][j + 1] == '1');\n        }\n    }\n    double ans = 0;\n    for (int i = 1; i <= n; i++)\n    {\n        for (int j = 1; j <= m; j++)\n        {\n            Dij(get(i, j), sq[i][j] == '1');\n            for (int x = 1; x <= n; x++)\n            {\n                for (int y = 1; y <= m; y++)\n                {\n                    if (dis[get(x, y)] <= t)\n                        ans = max(ans, get_dis(i, j, x, y));\n                }\n            }\n        }\n    }\n    printf(\"%.6lf\", ans);\n    return 0;\n}\n\n```",
        "postTime": 1634889595,
        "uid": 277863,
        "name": "BzhH",
        "ccfLevel": 6,
        "title": "\u9898\u89e3[SCOI2009]\u6700\u957f\u8ddd\u79bb"
    },
    {
        "content": "\u4e3a\u5565\u6211\u8fd9\u9898RE\u72060\u4e86\u554aQAQ\n------------------ -----------\n\u9996\u5148\u6765\u4e2a\u6817\u5b50\uff1a          \n![](https://cdn.luogu.com.cn/upload/pic/71732.png)     \n$T=2$\n\n\u8fd9\u9053\u9898\u7684\u96be\u70b9\u5728\u4e8e\u5982\u4f55\u5904\u7406\u969c\u788d\u7269\uff08\u5e9f\u8bdd\uff0c\u6570\u636e\u8303\u56f4\u90fd\u544a\u8bc9\u4f60\u4e86\uff09\n\n\u679a\u4e3e\u6216\u641c\u7d22\u642c\u8d70\u54ea\u4e9b\u969c\u788d\u7269\u518d\u5904\u7406\u662f\u80af\u5b9a\u4f1aT\u6389\u7684\n\n\u90a3\u4e48\uff0c\u8ba9\u6211\u4eec\u601d\u8003\u5982\u4f55\u5904\u7406\u969c\u788d\u7269     \n\n\u5f53\u6211\u4eec\u79fb\u8d70\u4e00\u5757\u969c\u788d\u7269\u65f6\uff0c\u53d1\u751f\u4e86\u4ec0\u4e48\u53d8\u5316\u5462\uff1f    \n\n![](https://cdn.luogu.com.cn/upload/pic/71738.png)        \n\n\u6211\u4eec\u53d1\u73b0\u5f53\u4ed8\u51fa1\u4ee3\u4ef7\u65f6\uff0c\u53ef\u4ee5\u5230\u8fbe\u66f4\u8fdc\u7684\u70b9(1,3),(2,3)\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u6211\u4eec\u5c06\u6240\u6709\u70b9\u8fde\u8d77\u6765\u65f6,(1,1)\u5230(1,3),(2,3)\u7684\u6700\u77ed\u8def\u957f\u5ea6\u4e3a1\uff08\u65e0\u969c\u788d\u7684\u70b9\u4e4b\u95f4\u8fb9\u6743\u4e3a0\uff09\n\n\u90a3\u4e48\uff0c\u4e00\u4e2a\u70b9\u53ef\u4ee5\u901a\u8fc7\u642c\u8d70t\u4e2a\u969c\u788d\u7269\u5230\u8fbe\u53e6\u4e00\u4e2a\u70b9\u5728\u8fd9\u4e2a\u601d\u8def\u4e0b\u7b49\u540c\u4e8e\u8fd9\u4e24\u4e2a\u70b9\u95f4\u7684\u6700\u77ed\u8def\u957f\u5ea6\u5c0f\u4e8e\u7b49\u4e8et\uff0c\u5f53\u5927\u4e8et\u65f6\u8fd9\u4e2a\u70b9\u5219\u4e0d\u80fd\u5230\u8fbe         \n\n\u63a5\u4e0b\u6765\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9u\uff0c\u6c42\u51fa\u6700\u77ed\u8def\uff0c\u5224\u65ad\u6240\u6709\u6700\u77ed\u8def\u5c0f\u4e8e\u7b49\u4e8et\u7684\u70b9\u4e2d\u5230u\u7684\u6700\u5927\u8ddd\u79bb\u5373\u53ef\u3002\u7528spfa\u6216\u641c\u7d22+\u526a\u679d\u5747\u53ef      \n\n\u590d\u6742\u5ea6 $O(n^{4}logn)$        \n\n\u4ee3\u7801:    \n```cpp\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<vector>\nusing namespace std;\nint t,n,m;\nclass node{\n    public:\n    int x,y;\n};\nint mm[101][101],diss[101][101];\nint dx[7]={0,1,-1,0,0};\nint dy[7]={0,0,0,1,-1};\n\nvoid dfs(int x,int y,int sum){\n    if(sum>t)return;//\u5728\u524d\u5f80\u4e0b\u4e00\u4e2a\u70b9\u7684\u8def\u4e0a\u5c31\u5df2\u7ecf\u642c\u4e86t\u4e2a\u969c\u788d\u7269     \n    if(sum>=diss[x][y])return;//\u67d0\u4e2a\u70b9\u5df2\u7ecf\u88ab\u8d70\u8fc7\n    diss[x][y]=sum;\n    for(int i=1;i<=4;i++){\n        int new_x=x+dx[i];\n        int new_y=y+dy[i];\n        if(new_x>0&&new_x<=n&&new_y>0&&new_y<=m){\n            dfs(new_x,new_y,sum+mm[new_x][new_y]);\n        }\n    }\n}\n\nint main(){\n    scanf(\"%d%d%d\",&n,&m,&t);\n    for(int i=1;i<=n;i++){\n        char ch[32];\n        scanf(\"%s\",ch);\n        for(int j=0;j<m;j++){\n            mm[i][j+1]=ch[j]-'0';\n        }\n    }\n    int ans=0;\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n            memset(diss,127,sizeof(diss));//\u521d\u59cb\u5316\u6700\u77ed\u8def\n            dfs(i,j,mm[i][j]);\n            for(int l=1;l<=n;l++){\n                for(int r=1;r<=m;r++){\n                    if(diss[l][r]<=t)//\u5230\u8fbe(l,r)\u70b9\u9700\u8981\u642c\u8d70\u7684\u969c\u788d\u7269\u6570\u5c0f\u4e8e\u7b49\u4e8et\n                    ans=std::max(ans,(l-i)*(l-i)+(r-j)*(r-j));\n                }\n            }\n        }\n    }\n    printf(\"%.6lf\\n\",(double)sqrt(ans));\n}\n```\n",
        "postTime": 1565683619,
        "uid": 156761,
        "name": "Usmireko",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4162 \u3010[SCOI2009]\u6700\u957f\u8ddd\u79bb\u3011"
    },
    {
        "content": "```\n100%\u7684\u6570\u636e\uff0c\u6ee1\u8db3 1 <= N,M <= 30 \uff1b 0 <= T <= 30 \u3002\n```\n\n\u5f88\u663e\u7136\uff0c\u8fd9\u4e00\u9898\u76f4\u63a5\u7528\u641c\u7d22\u5c31\u53ef\u4ee5\u8fc7\n\n\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9\uff0c\u5e76\u4e14\u5c06\u8fd9\u4e2a\u70b9\u641c\u7d22\u4e00\u6b21\uff0c\u627e\u51fa\u6240\u6709\u53ef\u4ee5\u5230\u8fbe\u7684\u70b9\uff0c\u5e76\u5728\u641c\u7d22\u7684\u65f6\u5019\u987a\u4fbf\u6c42\u51fa\u6700\u957f\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb\n\n\n\n\u6700\u574f\u60c5\u51b5\u4e0b\u8fd9\u4e2a\u4ee3\u7801\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f \uff08 n^4log(n^2) ) \uff0c\u7406\u8bba\u4e0a\u662f\u8fc7\u4e0d\u4e86\u7684^_^\uff0c   \u4f46\u662f\u6570\u636e\u6bd4\u8f83\u6c34\uff0c\u6240\u4ee5......\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <queue>\n#include <cmath>\n\nusing namespace std ;\n\nconst int N = 31 ;\n\nconst int dx[4] = { 0 , 0 , -1 , 1 } ;\nconst int dy[4] = { -1 , 1 , 0 , 0 } ;\n\nint n , m , T ;\n\nint map[N][N] ;\n\ndouble maxx = 0.0 ;\n\ninline double get ( int x1 , int y1 , int x2 , int y2 ) {\n\tif ( x1 == x2 ) return double ( abs ( y1-y2 ) ) ;\n\tif ( y1 == y2 ) return double ( abs ( x1-x2 ) ) ;\n\treturn sqrt ( double ( ( x1-x2 ) * ( x1-x2 ) + ( y1-y2 ) * ( y1-y2 ) ) ) ;\n}\n\nstruct node {\n\tint x , y , k ;\n\tinline bool operator < ( const node &kk ) const {\n\t\treturn k < kk.k ;\n\t}\n};\npriority_queue <node> q ;\nint dis[N][N] ;\nvoid Dijkstra ( int sx , int sy ) {\n\tif ( T == 0 && map[sx][sy] == 1 ) return ;\n\tq.push ( (node){ sx , sy , map[sx][sy] } ) ;\n\tmemset ( dis , 63 , sizeof ( dis ) ) ; dis[sx][sy] = map[sx][sy] ;\n\twhile ( !q.empty() ) {\n\t\tnode x = q.top() ; q.pop() ;\n\t\tif ( x.k > dis[x.x][x.y] ) continue ;\n\t\tmaxx = max ( maxx , get ( sx , sy , x.x , x.y ) ) ;\n\t\tfor ( int i = 0 ; i <= 3 ; i ++ ) {\n\t\t\tint xx = x.x + dx[i] , yy = x.y + dy[i] ;\n\t\t\tif ( !( 1 <= xx && xx <= n && 1 <= yy && yy <= m ) ) continue ;\n\t\t\tif ( map[xx][yy] == 1 && x.k + 1 > T ) continue ;\n\t\t\tif ( dis[xx][yy] > x.k + map[xx][yy] ) {\n\t\t\t\tdis[xx][yy] = x.k + map[xx][yy] ;\n\t\t\t\tq.push( (node){ xx , yy , x.k + map[xx][yy] } ) ;\n\t\t\t}\n\t\t}\n\t}\n\treturn ;\n}\n\t\t\nint main() {\n\tcin >> n >> m >> T ; char st[31] ;\n\tfor ( int i = 1 ; i <= n ; i ++ ) {\n\t\tscanf ( \"%s\" , st+1 ) ;\n\t\tfor ( int j = 1 ; j <= m ; j ++ )\n\t\t\tif ( st[j] == '1' ) map[i][j] = 1 ;\n\t}\n\tfor ( int i = 1 ; i <= n ; i ++ ) \n\t\tfor ( int j = 1 ; j <= m ; j ++ )\n\t\t\tDijkstra ( i , j ) ;\n\tprintf ( \"%.6lf\\n\" , maxx ) ; return 0 ;\n}\n```",
        "postTime": 1547012615,
        "uid": 66181,
        "name": "Celebrate",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4162 \u3010[SCOI2009]\u6700\u957f\u8ddd\u79bb\u3011"
    },
    {
        "content": "# \u6700\u957f\u8ddd\u79bb [SCOI2009]\n\n\u539f\u9898\u94fe\u63a5\uff1a[luogu P4612](https://www.luogu.org/problemnew/show/P4162)\n\n\u8fd9\u9053\u9898\uff0c\u7b2c\u4e00\u773c\u89c9\u5f97\u662f\u6700\u77ed\u8def\u7684\u884d\u751f~~\uff08\u6700\u957f\u8def\uff09~~\uff0c\u540e\u6765\u7ecf\u8fc7\u601d\u8003\uff0c\u4ee5\u53ca\u540c\u5b66\u7684\u89e3\u91ca\uff0c\u53d1\u73b0\u5176\u5b9e\u771f\u7684\u662f\u4e00\u9053\u6700\u77ed\u8def\uff0c\u800c\u4e14\u4e5f\u80fd\u8fc7\uff0c\u4f46\u662f\u61d2\uff0c\u4e0d\u60f3\u6253~~\uff08f\u00fa zh\u00ec\uff09~~ Dijkstra \u6216 SPFA \uff0c\u6240\u4ee5\u5c31\u5199\u7684dfs\u3002\n\n\u8bfb\u5b8c\u9898\u540e\uff0c\u53ef\u4ee5\u60f3\u5230\uff1a\u53ef\u4ee5\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9\uff0c\u5bf9\u5176\u8fdb\u884cdfs\u3002\n\n\u6570\u636e\u8303\u56f4\u4e3a\uff1a$1 <= M,N <= 30$\uff0c\u800cT\u7684\u6570\u636e\u8303\u56f4\u5b9e\u9645\u4e0a\u662f\u4e0e\u65f6\u95f4\u590d\u6742\u5ea6\u65e0\u5173\u7684\u3002\n\n\u6240\u4ee5\u53ea\u8981\u4f1a\u4e00\u70b9\u526a\u679d\u4ee5\u53ca\u53ef\u4ee5\u60f3\u5230\u8fd9\u9898\u53ef\u4ee5dfs\uff0c\u5c31\u53ef\u4ee5\u505a\u51fa\u8fd9\u9053\u9898\u3002\n\n\u63a5\u4e0b\u6765\u5c31\u662f **\u7535\u98ce\u6247\uff08dfs\uff09** \u65f6\u95f4\uff1a\n\n### AC\u4ee3\u7801\u5982\u4e0b\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nint n,m,T,hinder[31][31],ans,t;\nint dx[4]={0,-1,0,1};\nint dy[4]={1,0,-1,0};\nbool mp[31][31];char ch;\n\nvoid dfs(int x,int y,int num,int sy)\n{\n\tif(t-num<sy)return;//\u53ef\u884c\u6027\u526a\u679d,\u641c\u4e0d\u5230\uff0c\u5c31\u6ca1\u6709\u5fc5\u8981\u4e86\n\tif(num>T)return;//\u9650\u5236\u6761\u4ef6\n\tif(num>=hinder[x][y])return;//\u6700\u4f18\u5316\u526a\u679d,\u5f53\u8d70\u5230\u540c\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u800c\u53e6\u4e00\u4e2a\u65b9\u6cd5\u66f4\u4f18\u65f6\uff0c\u5c31\u6ca1\u6709\u5fc5\u8981\u8fdb\u884c\u4e0b\u53bb\u4e86\n\thinder[x][y]=num;//\u8bb0\u5fc6\u5316\u641c\u7d22\n\tfor(int i=0;i<4;++i)\n\t{\n\t\tint nx=x+dx[i],ny=y+dy[i];\n\t\tif(nx>=1&&nx<=n&&ny>=1&&ny<=m)\n\t\tdfs(nx,ny,num+mp[nx][ny],sy-mp[nx][ny]);\n\t}\n}\n\nint main()\n{\n    cin>>n>>m>>T;\n    for(int i=1;i<=n;++i)\n    for(int j=1;j<=m;++j)\n    {\n    \tscanf(\"%c\",&ch);\n    \tif(ch=='\\n'){j--;continue;}\n    \tif(ch=='1')t++;//\u8bb0\u5f55\u969c\u788d\u6570\uff0c\u4ee5\u4fbf\u526a\u679d\u3002\n    \tmp[i][j]=ch-'0';\n    }\n    for(int i=1;i<=n;++i)\n    for(int j=1;j<=m;++j)\n    {\n    \tfor(int x=1;x<=n;++x)\n   \t\tfor(int y=1;y<=m;++y)\n    \thinder[x][y]=2147483647;//\u8d4b\u503c\u6781\u5927\u503c\uff0c\u4e4b\u6240\u4ee5\u4e0d\u7528 memset \uff0c\u662f\u56e0\u4e3a\u65f6\u95f4\u590d\u6742\u5ea6\u9ad8\u3002 \n    \t\n    \tdfs(i,j,mp[i][j],t);//\u7535\u98ce\u6247 \n    \tfor(int x=1;x<=n;++x)\n    \tfor(int y=1;y<=m;++y)\n    \tif(hinder[x][y]<=T)ans=max(ans,(x-i)*(x-i)+(y-j)*(y-j));//\u6c42\u6700\u4f18\u89e3\uff0c\u4e0d\u5f00\u65b9\u5148\uff0c\u9632\u6b62\u7cbe\u5ea6\u6ea2\u51fa\u3002 \n\t}\n\tprintf(\"%.6lf\",sqrt(ans)); //\u8f93\u51fa\u7b54\u6848\u3002 \n    return 0;\n}\n```",
        "postTime": 1538149521,
        "uid": 84786,
        "name": "Jesselrj",
        "ccfLevel": 0,
        "title": "\u6700\u957f\u8ddd\u79bb"
    }
]