[
    {
        "content": "## \u9898\u89e3\r\n\r\n\u8bb0 $\\mathrm{Fib}(i)$ \u8868\u793a\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u7b2c $i$ \u9879\u3002\u5176\u4e2d\uff0c\r\n\r\n$$\\mathrm{Fib}(n)=\\begin{cases}1 & n = 0 \\text{ or } n = 1 \\\\ \\mathrm{Fib}(n - 1)+\\mathrm{Fib}(n - 2) & n > 1\\end{cases}$$\r\n\r\n\u8bb0\u4fee\u6539\u5b8c\u540e\u7684\u5e8f\u5217\u4e3a $b$\u3002\u53d6 $e=b_0$\u3002\u7531\u9898\u8bbe\uff0c$b_0=b_1=e$\uff0c\u4e5f\u5c31\u6709 $b_0=\\mathrm{Fib}(0)\\cdot e,b_1=\\mathrm{Fib}(1)\\cdot e$\u3002\r\n\r\n\u5bb9\u6613\u6839\u636e\u6570\u5b66\u5f52\u7eb3\u6cd5\u5f97\u5230\uff0c\r\n\r\n$$b_n=b_{n-1}+b_{n-2}=(\\mathrm{Fib}(n-1)+\\mathrm{Fib}(n-2))\\cdot e=\\mathrm{Fib}(n)\\cdot e$$\r\n\r\n\u5047\u5982 $a_n=b_n$\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u4e0d\u9700\u8981\u4fee\u6539\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u6570\uff0c\u90a3\u5c31\u6709\uff1a\r\n\r\n$$e=a_n\\div \\mathrm{Fib}(n)$$\r\n\r\n\u4e0d\u8fc7\uff0c\u8fd9\u4e2a\u5f0f\u5b50\u6210\u7acb\u7684\u524d\u63d0\u662f $\\mathrm{Fib}(n)\\mid a_n$\u3002\u5982\u679c\u4e0d\u6210\u7acb\u7684\u8bdd\u90a3\u5c31\u627e\u4e0d\u5230\u8fd9\u4e2a $e$\uff0c\u8fd9\u4e2a\u4f4d\u7f6e\u5c31\u5fc5\u987b\u8981\u88ab\u4fee\u6539\u4e86\u3002\u53e6\u5916\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u589e\u957f\u901f\u5ea6\u5f88\u5feb\u7684\u3002\u5f53 $\\mathrm{Fib}(n)$ \u5df2\u7ecf\u5927\u4e8e\u503c\u57df $m=10^6$ \u90a3\u4e5f\u5c31\u4e0d\u7528\u7ba1\u4e86\u3002\r\n\r\n\u5f53\u7136\uff0c\u6700\u7ec8 $e$ \u80af\u5b9a\u53ea\u80fd\u6709\u552f\u4e00\u4e00\u4e2a\u3002\u4e8e\u662f\u8981\u4f7f\u7ed3\u679c\u6700\u5c0f\uff0c\u4e5f\u5c31\u662f\u4fdd\u7559\u6700\u591a\u7684\u4f4d\u7f6e\uff0c\u90a3\u5c31\u9009\u62e9\u51fa\u73b0\u6b21\u6570\u6700\u591a\u7684\u90a3\u4e2a $e$\u3002\u5f00\u4e00\u4e2a\u6876\u7edf\u8ba1\u4e00\u4e0b\u5c31\u884c\u3002\r\n\r\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(m)$\u3002\u6bd4\u697c\u4e0b\u7684\u5feb\u5f88\u591a\u3002\r\n\r\n## \u53c2\u8003\u4ee3\u7801\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\r\n#define up(l, r, i) for(int i = l, END##i = r;i <= END##i;++ i)\r\n#define dn(r, l, i) for(int i = r, END##i = l;i >= END##i;-- i)\r\nusing namespace std;\r\ntypedef long long i64;\r\nconst int INF = 2147483647;\r\nint qread(){\r\n    int w=1,c,ret;\r\n    while((c = getchar()) >  '9' || c <  '0') w = (c == '-' ? -1 : 1); ret = c - '0';\r\n    while((c = getchar()) >= '0' && c <= '9') ret = ret * 10 + c - '0';\r\n    return ret * w;\r\n}\r\nconst int MAXN = 1e6 + 3;\r\nint H[MAXN], u = 1, v = 1, t, m = 1e6;\r\nint main(){\r\n    int n = qread();\r\n    up(1, n, i){\r\n        int a = qread(); if(a % u == 0) H[a / u] ++;\r\n        if(u < m) t = v, v = u + v, u = t;\r\n    }\r\n    int ans = INF;\r\n    up(1, m, i) ans = min(ans, n - H[i]);\r\n    printf(\"%d\\n\", ans);\r\n    return 0;\r\n}\r\n```",
        "postTime": 1668693476,
        "uid": 68344,
        "name": "\u79bb\u6563\u5c0f\u6ce2\u53d8\u6362\u00b0",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 \u3010P8808 [\u84dd\u6865\u676f 2022 \u56fd C] \u6590\u6ce2\u90a3\u5951\u6570\u7ec4\u3011"
    },
    {
        "content": "\u8bdd\u8bf4\u84dd\u6865\u676f\u4e3a\u4ec0\u4e48\u4e0d\u7ed9\u90e8\u5206\u5206\u554a\u3002\n\n\u672c\u6587\u6240\u6709 $f$ \u8868\u793a\u539f\u59cb\u7684[\u6590\u6ce2\u90a3\u5951\u6570\u5217](https://baike.baidu.com/item/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97/99145)\u3002\n# \u66b4\u529b\n\u8003\u8651\u679a\u4e3e\u6bcf\u4e00\u4e2a $a_1$\uff0c\u6784\u9020\u6590\u6ce2\u90a3\u5951\u6570\u7ec4\uff0c\u7136\u540e\u9010\u4e2a\u6bd4\u8f83\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst ll MAXN = 1e5 + 10;\nll a[MAXN], b[MAXN], n, ans = MAXN, maxi, az;\nint main(){\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++)\n\t\tscanf(\"%lld\", &a[i]), maxi = max(maxi, a[i]);\n\tfor(int i = 1; i <= maxi; i++){\n\t\tll tem = 0;\n\t\tmemset(b, -1, sizeof(b));\n\t\tb[1] = b[2] = i;\n\t\tfor(int j = 3; j <= n; j++)\n\t\t\tb[j] = b[j - 1] + b[j - 2];\n\t\tfor(int j = 1; j <= n; j++){\n\t\t\ttem += (a[j] != b[j]);\n\t\t\tif(tem >= ans)\n\t\t\t\tbreak;\n\t\t}\n\t\tans = min(ans, tem);\n\t}\n\tcout << ans ;\n\treturn 0;\n}\n```\n\u7ed3\u679c\u5168\u90e8 T \u6389\uff0c\u7136\u540e\u6211\u5934\u4e00\u6b21\u77e5\u9053\u84dd\u6865\u676f\u6ca1\u6709\u90e8\u5206\u5206\u3002\n \n#  \u6b63\u89e3\n \n## \u524d\u7f6e\u77e5\u8bc6\n\u9996\u5148\u6211\u4eec\u6765\u8bc1\u660e\u4e00\u4e2a\u4e1c\u897f\uff1a\n\n\u5982\u679c $a$ \u662f\u4e00\u4e2a\u6590\u6ce2\u90a3\u5951\u6570\u7ec4\uff0c\u90a3\u4e48\u6ee1\u8db3\u4ee5\u4e0b\u5173\u7cfb\u5f0f\uff1a\n\n$$a_i = f_i \\times a_1(i \\ge 3)$$\n\n\u5176\u4e2d\uff0c$f$ \u8868\u793a\u539f\u59cb\u7684[\u6590\u6ce2\u90a3\u5951\u6570\u5217](https://baike.baidu.com/item/%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E6%95%B0%E5%88%97/99145)\u3002\n\n\u8bc1\u660e\u5982\u4e0b\uff1a\n\n\u8bbe $a_1 = a_2=x$\uff0c\u5219 $a_3=2x,a_4 =(1+2)x = 3x,a_5 = (2+3)x=5x$ \u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\uff0c\u5c06\u6bcf\u4e2a\u7cfb\u6570\u8bb0\u5230 $b$ \u91cc\uff1a$b_1 = b_2 = 1$\uff0c$b_i=b_{i-1}+b_{i-2}(i\\ge3)$\uff0c\u4e0e $f$ \u7684\u9012\u63a8\u5f0f\u662f\u76f8\u540c\u7684\u3002\n\n## \u8fdb\u4e00\u6b65\u7684\u601d\u8003\n\u5c06\u4fee\u6539\u540e\u5408\u6cd5\u7684\u6590\u6ce2\u90a3\u5951\u6570\u7ec4\u8bb0\u4e3a $s$\u3002\n\n\u4e8e\u662f\u6211\u4eec\u5c31\u53ef\u4ee5\u60f3\u5230\uff0c\u56e0\u4e3a\u5e76\u4e0d\u53ef\u4ee5 \u63d2\u5165 \u6216 \u5220\u9664\uff0c\u6240\u4ee5\u6bcf\u4e2a $a$ \u6570\u7ec4\u5143\u7d20\u7684\u4f4d\u7f6e\u662f\u56fa\u5b9a\u4e0d\u52a8\u7684\uff0c\u5bf9\u5e94\u7684 $f_i (i \\ge3)$ \u4e5f\u662f\u552f\u4e00\u7684\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u6bcf\u4e00\u4e2a $a_i$\uff0c\u770b\u770b\u5b83\u5bf9\u5e94\u7684 $s_1$ \uff0c\u5982\u679c $a_i \\nmid f_i$ \u5c31\u8bf4\u660e\u5b83\u4e00\u5b9a\u8981\u88ab\u4fee\u6539\uff0c\u76f4\u63a5\u65e0\u89c6\u5c31\u53ef\u4ee5\u4e86\u3002\u7136\u540e\u627e\u5230\u5bf9\u5e94\u5143\u7d20\u6700\u591a\u7684 $s_1$\uff0c\u6700\u540e\u7b54\u6848\u5c31\u662f $n$ \u51cf\u53bb\u5bf9\u5e94\u5143\u7d20\u6700\u591a\u7684 $s_1$ \u5bf9\u5e94\u7684\u5143\u7d20\u6570\u3002\n\n## \u6570\u636e\u7c7b\u578b\u4e0e\u89e3\u51b3\u65b9\u6848\n\u4f17\u6240\u5468\u77e5\uff0c`long long` \u8fde $f_{100}$ \u90fd\u8868\u793a\u4e0d\u4e86\uff0c\u5373\u4f7f\u662f `__int128` \u4e5f\u65e0\u80fd\u4e3a\u529b\uff0c $f_{5000}$ \u5927\u7ea6\u4e3a $6\\times 10^{1046}$\uff0c\u800c `__int128` \u6240\u5bf9\u5e94\u7684\u6700\u5927\u503c\u4ec5\u4ec5\u4e3a $170141183460469231731687303715884105727$\u3002\uff08\u5927\u7ea6\u4e3a $10^{38}$\uff09~~\u9ad8\u7cbe\uff1f\u6211\u624d\u4e0d\u8981\u6253\u3002~~\n\n\u8003\u8651\u5230 $a_i \\le 10^6$\uff0c\u56e0\u6b64\u5f53 $f_i>10^6$ \u65f6\uff0c$a_i \\nmid f_i$ \u4e00\u5b9a\u6210\u7acb\uff0c\u6240\u4ee5\u6211\u4eec\u76f4\u63a5\u6c42\u51fa\u5c0f\u4e8e\u7b49\u4e8e $10^6$ \u7684 $f_i$ \u5c31\u53ef\u4ee5\u4e86\uff01\n\n## \u5c0f\u95ee\u9898\uff1a\u5173\u4e8e\u5bb9\u5668\n\n\u56e0\u4e3a $1\\le a_i\\le 10^6$\uff0c\u76f4\u63a5\u7528 `\u6876` \u5c31\u53ef\u4ee5\u4e86\u3002\n\n## AC\u4ee3\u7801\uff0c\u7ec6\u8282\u770b\u6ce8\u91ca\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst ll MAXN = 1e5 + 10;\nll f[MAXN], a[MAXN], bot[1000010], n, ans, m, maxc = -1, az = -1;\nint main(){\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++)\n\t\tscanf(\"%lld\", &a[i]),\n\t\taz = max(az, a[i]);\n\t// \u627e\u5230 max{a[i]} \u662f\u4f18\u5316\uff0c\u4f46\u662f\u76f4\u63a5\u8dd1\u5230 1e6 \u4e5f\u4e0d\u4f1a T\n\tf[1] = f[2] = 1;\n\tfor(int i = 3; i <= n; i++){\n\t\tf[i] = f[i - 1] + f[i - 2];\n\t\tif(f[i] > 1e6){\n\t\t\tm = i - 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\t// m \u8868\u793a\u7684\u662f\u7b2c\u4e00\u4e2a <= 1e6 \u7684 f[i] \u7684\u4f4d\u7f6e\n\t// \u5f53 m \u6ca1\u6709\u6539\u53d8\uff0c\u8bf4\u660e f[n] <= 1e6\uff0c\u76f4\u63a5\u8d4b\u503c\u4e3a n \u5373\u53ef\n\tif(m == 0)\n\t\tm = n;\n\tfor(int i = 1; i <= m; i++)\n\t\tif(a[i] % f[i] == 0)\n\t\t\tbot[a[i] / f[i]] ++;\n\tfor(int i = 1; i <= az; i++)\n\t\tmaxc = max(maxc, bot[i]);\n\tcout << n - maxc;\n\treturn 0;\n}\n```\n\u8fd9\u4e2a\u505a\u6cd5\u662f\u53ef\u4ee5\u8fc7\u6389\u8ba8\u8bba\u5e16\u91cc\u7684 hack \u6570\u636e\u7684\u3002\n\n\uff08\u518d\u6b21\u63d0\u4ea4\uff1a\u4ee3\u7801\u88abhack\u6389\u662f\u56e0\u4e3a\u624b\u6ed1\u5c06 `1e6` \u5199\u6210 `1e5`\uff0c\u73b0\u5df2AC\uff09\n",
        "postTime": 1667981791,
        "uid": 620253,
        "name": "Birdly",
        "ccfLevel": 0,
        "title": "P8808 [\u84dd\u6865\u676f 2022 \u56fd C] \u6590\u6ce2\u90a3\u5951\u6570\u7ec4 \u9898\u89e3"
    },
    {
        "content": "### Analysis\r\n\r\n\u6ce8\u610f\u5230\u5373\u4f7f $f_0 = f_1 = 1$\uff0c$f_{30}$ \u4e5f\u8fbe\u5230\u4e86 $1346269 > 10^6$\u3002\u8fd9\u5c31\u662f\u8bf4\uff0c\u539f\u6570\u5217\u7b2c $30$ \u4f4d\u4e4b\u540e\u7684\u5143\u7d20\u90fd\u4e00\u5b9a\u4f1a\u88ab\u4fee\u6539\u3002\r\n\r\n\u4e0d\u59a8\u679a\u4e3e $a_0$ \u88ab\u4fee\u6539\u540e\u7684\u503c\uff0c\u7b97\u51fa\u6b64\u65f6 $a_1$ \u5230 $a_{29}$ \u4fee\u6539\u540e\u7684\u503c\u3002$a_0$ \u53ea\u6709 $10^6$ \u79cd\u53ef\u80fd\uff0c\u6545\u4e00\u5171\u53ea\u8981\u7b97\u4e0d\u8d85\u8fc7 $3 \\times 10^7$ \u4e2a\u6570\u3002\r\n\r\n\u5bf9\u4e8e\u6bcf\u79cd\u4fee\u6539\u7684\u65b9\u6848\uff0c\u628a\u8fd9 $30$ \u4e2a\u6570\u548c $a_0 \\sim a_{29}$ \u9010\u4e2a\u5339\u914d\uff0c\u5c31\u53ef\u4ee5\u7b97\u51fa\u8be5\u60c5\u51b5\u4e0b\u6709\u591a\u5c11\u4e2a\u6570\u9700\u8981\u88ab\u4fee\u6539\u3002\u6240\u6709\u60c5\u51b5\u53d6\u6700\u5927\u503c\u5373\u53ef\u3002\r\n\r\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n F(a_i))$\uff0c\u5176\u4e2d\u7ea6\u5b9a $F(x)$ \u8868\u793a Fibonacci \u51fd\u6570\u7684\u53cd\u51fd\u6570\uff0c\u5728\u672c\u6570\u636e\u8303\u56f4\u4e0b\u6700\u5927\u4e3a 30\u3002\r\n\r\n### Code\r\n```cpp\r\n#include <array>\r\n#include <vector>\r\n#include <iostream>\r\n#include <algorithm>\r\n\r\nconst int maxn = 1000006;\r\n\r\nint a[maxn];\r\nstd::vector<int> b[maxn];\r\n\r\nint main() {\r\n  std::ios::sync_with_stdio(false);\r\n  std::cin.tie(nullptr);\r\n\r\n  int n; std::cin >> n;\r\n  std::generate_n(a, n, []() { int x; std::cin >> x; return x; });\r\n\r\n  for (int i = 1; i <= 1000000; ++i) {\r\n    b[i].push_back(i);\r\n    b[i].push_back(i);\r\n    for (int j = 2; j <= 30; ++j) {\r\n      int x = b[i][j - 1] + b[i][j - 2];\r\n      if (x > 1000000) break;\r\n      b[i].push_back(x);\r\n    }\r\n  }\r\n\r\n  int ans = n;\r\n  for (int i = 1; i <= 1000000; ++i) {\r\n    int tans = (n > b[i].size()) ? (n - b[i].size()) : 0;\r\n    for (int j = 0; j < std::min(n, int(b[i].size())); ++j) if (a[j] != b[i][j]) {\r\n      ++tans;\r\n    }\r\n    ans = std::min(ans, tans);\r\n  }\r\n\r\n  std::cout << ans << std::endl;\r\n\r\n}\r\n```\r\n### Gen\r\n```python\r\nfrom random import randint\r\nimport os\r\nimport sys\r\n\r\nlim = 1000000\r\nfib = list()\r\nm = 30\r\nfib.append(1)\r\nfib.append(1)\r\nfor i in range(2, m):\r\n  fib.append(fib[i - 1] + fib[i - 2])\r\n\r\nfor T in range(10):\r\n  inf = 'data' + str(T) + '.in'\r\n  anf = 'data' + str(T) + '.ans'\r\n\r\n  f = open(inf, 'w', newline = '\\n')\r\n\r\n  if T < 3:\r\n    n = 10 * (T + 1)\r\n  else:\r\n    n = 100000\r\n  if T == 4: n = 30\r\n  c = randint(1, lim // fib[min(n, 30) - randint(1, 5)])\r\n  a = fib[:]\r\n  for i in range(m):\r\n    a[i] *= c\r\n    a[i] %= lim\r\n  for i in range(m, n):\r\n    a.append(randint(1, lim))\r\n  cnt = randint(1, m)\r\n  for i in range(cnt):\r\n    a[randint(0, m - 1)] = randint(1, lim)\r\n  if T == 4: a = fib[:]\r\n  \r\n  if T >= 7:\r\n    c = 10 - T\r\n    mm = 24\r\n    for i in range(mm):\r\n      t = i % c + 1\r\n      a[i] = fib[i] * t\r\n    for i in range(mm, m):\r\n      a[i] = randint(1, lim)\r\n    if T != 8:\r\n      a[randint(1, mm)] = randint(1, lim)\r\n      a[randint(1, mm)] = randint(1, lim)\r\n  print(n, file = f)\r\n  for i in range(n - 1):\r\n    print(a[i], end = ' ', file = f)\r\n  print(a[n - 1], end = '\\n', file = f)\r\n  f.flush()\r\n  op = 'std.exe < ' + inf + ' > ' + anf\r\n  print(op, file = sys.stderr)\r\n  os.system(op)\r\n```",
        "postTime": 1668692084,
        "uid": 65363,
        "name": "\u4e00\u6276\u82cf\u4e00",
        "ccfLevel": 7,
        "title": "P8808 [\u84dd\u6865\u676f 2022 \u56fd C] \u6590\u6ce2\u90a3\u5951\u6570\u7ec4"
    },
    {
        "content": "\u770b\u5230\u4e86\u66b4\u529b\u4ee3\u7801\u6709\u4e86\u601d\u8def\u3002\u4ec5\u9700\u6539\u4e00\u884c\u5c31\u53ef\u4ee5\u8fc7\u4e86\u3002\n\n\u66b4\u529b\u662f\u679a\u4e3e\u4ee5\u6bcf\u4e00\u4e2a\u6570\u4e3a\u6590\u6ce2\u90a3\u5951\u6570\u5217\u7684\u8d77\u70b9\uff0c\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u8fd9\u4e2a\u6570\u6700\u5927\u662f\u591a\u5c11\u5462\uff1f\n\n\u66b4\u529b\u7684\u4ee3\u7801\u9009\u7684\u6700\u5927\u6570\u662f $n$ \u4e2a\u6570\u91cc\u7684\u6700\u5927\u6570\uff0c\u5176\u5b9e\u5e76\u4e0d\u9700\u8981\u9009\u8fd9\u4e48\u5927\u3002\n\n\u4ec5\u9700\u9009\u62e9 $\\max(16\\times \\log_2(a[i]))$ \u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c$\\log_{100000}$ \u5c31\u662f $16$\uff0c$100000$ \u662f $n$ \u7684\u6700\u5927\u503c\u3002\n\n\u81f3\u4e8e $\\log_{a[i]}$\uff0c\u521a\u521a\u8bf4\u8fc7\u4e86\u6590\u6ce2\u90a3\u5951\u6570\u5217\u662f $2^n$ \u7ea7\u522b\u589e\u957f\u7684\u3002\n\n\u6ce8\u610f\uff0c\u6570\u636e $2$ \u8303\u56f4\u5f88\u5c0f\uff0c\u4f46\u975e\u5e38\u6bd2\u7624\uff0c\u6240\u4ee5\u8981\u5f00\u5230 $16$\uff0c\u5176\u4ed6\u7684\u6570\u636e\u90fd\u5f88\u6c34\uff0c\u5f00\u5230 $\\log_2(a[i])$ \u5c31\u53ef\u4ee5\u8fc7\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nll a[100005], b[100005], lg[1000005];\nll n, ans = 100005, ma;\nint main()\n{\n\tios::sync_with_stdio (false);\n\tcin >> n;\n\tlg[1] = 0;\n\tfor (int i = 1; i <= 1000000; i ++) lg[i] = lg[i / 2] + 1;\n\tfor (int i = 1; i <= n; i ++)\n\t{\n\t\tcin >> a[i];\n\t\tma = max (ma, 16 * lg[a[i] ]);\n\t}\n\tfor (int i = 1; i <= ma; i ++){\n\t\tll t = 0;\n\t\tb[1] = b[2] = i;\n\t\tfor (int j = 3; j <= n; j ++) b[j] = b[j - 1] + b[j - 2];\n\t\tfor (int j = 1; j <= n; j ++){\n\t\t\tt += (a[j] != b[j]);\n\t\t\tif (t >= ans) break;\n\t\t}\n\t\tans = min(ans, t);\n\t}\n\tcout << ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1670633779,
        "uid": 637796,
        "name": "Xy_top",
        "ccfLevel": 0,
        "title": "P8808\u9898\u89e3"
    },
    {
        "content": "## \u601d\u8def\n\n\u9996\u5148\uff0c\u6590\u6ce2\u90a3\u5951\u6570\u7ec4\u7684\u589e\u957f\u901f\u5ea6\u662f\u98de\u5feb\u7684\u3002\u4ee5\u6590\u6ce2\u90a3\u5951\u6570\u5217\u4e3a\u4f8b\uff08$a_0=a_1=1$ \u7684\u6590\u6ce2\u90a3\u5951\u6570\u7ec4\uff09\uff0c\u5728\u7b2c $30$ \u9879\u5de6\u53f3\u5c31\u8d85\u8fc7 $10^6$ \u4e86\u3002\u53c8\u56e0\u4e3a\u6240\u6709 $a_i$ \u90fd\u5c0f\u4e8e\u7b49\u4e8e $10^6$\uff0c\u6240\u4ee5\u5728 $30$ \u9879\u4ee5\u540e\u7684 $a_i$ \u90fd\u5fc5\u987b\u4fee\u6539\u3002\u73b0\u5728\u6211\u4eec\u53ea\u9700\u8981\u8003\u8651\u524d $30$ \u9879\u662f\u5426\u53ef\u4ee5\u4e0d\u6539\u4e86\u3002\n\n\u5982\u679c\u786e\u5b9a\u4e86 $a_0$ \u7684\u503c\uff0c\u5c31\u53ef\u4ee5\u786e\u5b9a\u6574\u4e2a\u6590\u6ce2\u90a3\u5951\u6570\u7ec4\u4e86\u3002\u5f53 $a_0 > 10^6$ \u5219\u90fd\u9700\u8981\u6539\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u5728 $1 \\sim 10^6$ \u4e2d\u679a\u4e3e $a_0$\uff0c\u4ece\u800c\u7b97\u51fa\u6574\u4e2a\u6590\u6ce2\u90a3\u5951\u6570\u7ec4\u3002\u7136\u540e\u770b\u6700\u591a\u6709\u591a\u5c11\u4e2a\u6570\u4e0d\u9700\u8981\u6539\u5373\u53ef\u3002\n\n## \u4ee3\u7801\n\n\u4ee3\u7801\u4e2d\u4e3a\u4e86\u9632\u6b62\u6ea2\u51fa\uff0c\u7528\u4e86\u4e00\u4e2a\u65b9\u6cd5\uff1a\u5982\u679c\u5f53\u524d\u5df2\u7ecf\u5927\u4e8e $10^6$ \u4e86\uff0c\u5219\u4ee5\u540e\u4e5f\u90fd\u4f1a\u5927\u4e8e $10^6$\uff0c\u76f4\u63a5\u8d4b\u503c\u4e3a $0$ \u5373\u53ef\u3002\n\n```cpp\n#include<bits/stdc++.h> // \u4e0b\u6807\u4ece 1 \u5f00\u59cb\nusing namespace std;\nint n; int a[100010];\nint f[60];\nint main()\n{\n    cin>>n; for(int i=1; i<=n; ++i) cin>>a[i];\n    int ans=n;\n    for(int i=1; i<=1e6; ++i)\n    {\n        int nowans=max(n-31,0);\n        f[1]=f[2]=i;\n        for(int j=3; j<=min(n,31); ++j)\n        {\n            if(f[j-1]+f[j-2]>1e6)\n            {\n                for(int k=j; k<=min(n,31); ++k) f[k]=0;\n                break;\n            }\n            f[j]=f[j-1]+f[j-2];\n        }\n        for(int j=1; j<=min(n,31); ++j) nowans+=(f[j]!=a[j]);\n        ans=min(ans,nowans);\n    }\n    cout<<ans;\n    return 0;\n}\n```",
        "postTime": 1668682406,
        "uid": 353688,
        "name": "\u738b\u7199\u6587",
        "ccfLevel": 0,
        "title": "P8808 \u9898\u89e3"
    },
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P8808)\n\n~~\u8fd9\u9898\u6700\u521d\u6211\u53ea\u5224\u65ad\u4e86 $a_1$ \u548c $a_2$ \u4e0d\u53d8\u548c $a_2$ \u53d8\u4e3a $a_1$ \u7684\u60c5\u51b5\uff0c\u7ed3\u679c\u8fd8\u88ab\u6c34\u8fc7\u53bb\u4e86\u3002~~\n\n\u5176\u5b9e\u8fd9\u9053\u9898\u4e0d\u96be\u3002\u5728\u67d0\u6b21\u505a\u67d0\u67d0\u5e02\u4fe1\u606f\u7ade\u8d5b\u7684\u521d\u8d5b\u65f6\u53d1\u73b0\u4e86\u4e00\u4e2a\u89c4\u5f8b\uff1a\n$$a_i=f_i\\times a_1$$\n\u5176\u4e2d $a$ \u6570\u7ec4\u4e3a\u524d $2$ \u9879\u628a\u6590\u6ce2\u90a3\u5951\u6570\u7ec4 $f$ \u6269\u5927\u7684\u6590\u6ce2\u90a3\u5951\u6570\u7ec4\u3002\n\n\u5176\u5b9e\u4e0d\u96be\u8bc1\u660e\uff0c$a_i=a_{i-1}+a_{i-2}$\uff0c\u90a3\u4e48\u5c31\u6709 $a_3=a_2+a_1$\uff0c\u5176\u4e2d $a_2=f_2\\times x$\uff0c$a_1=f_1\\times x$\uff0c\u76f4\u63a5\u5408\u5e76\u540c\u7c7b\u9879\u53ef\u5f97 $a_3=x\\times(f_2+f_1)=x\\times f_3$\uff0c\u90a3\u4e48\u5c31\u53ef\u5f97 $a_i=x\\times f_i$\uff0c\u5176\u4e2d $x=a_1\\div f_1=a_1$\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u5148\u6c42\u51fa $f$ \u6570\u7ec4\uff0c\u7136\u540e\u770b $a$ \u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5143\u7d20\u662f $f$ \u6570\u7ec4\u4e2d\u76f8\u5bf9\u5e94\u7684\u5143\u7d20\u7684\u51e0\u500d\uff0c\u5982\u679c\u4e0d\u4e3a\u6574\u6570\u500d\u5219\u4e0d\u7ba1\u3002\u63a5\u7740\u7528\u4e00\u4e2a\u6570\u7ec4 $t$ \u4f5c\u4e3a\u6876\uff0c$t_i$ \u8868\u793a\u6709\u51e0\u4e2a $a$ \u6570\u7ec4\u4e2d\u7684\u5143\u7d20\u662f $f$ \u6570\u7ec4\u4e2d\u76f8\u5bf9\u5e94\u7684\u5143\u7d20\u7684 $i$ \u500d\u3002\uff08$f_i$ \u6570\u7ec4\u53ea\u9700\u8ba1\u7b97\u5230 $10^6$ \u5c31\u884c\u4e86\uff0c\u56e0\u4e3a $a_i$ \u6700\u5927\u4e5f\u5c31\u5230 $10^6$\uff0c\u7edd\u5bf9\u6bd4\u540e\u9762\u7684\u6590\u6ce2\u90a3\u5951\u6570\u66f4\u5c0f\uff0c\u6240\u4ee5\u4e0d\u7528\u7ba1\u5927\u4e8e $10^6$ \u7684\u6590\u6ce2\u90a3\u5951\u6570\u3002\uff09\n\n\u6700\u540e\u6211\u4eec\u53ea\u9700\u8981\u628a $t$ \u6570\u7ec4\u4e2d\u6700\u5927\u7684\u5143\u7d20\u6c42\u51fa\uff0c\u7528 $n$ \u51cf\u6389\u5c31\u662f\u7b54\u6848\u4e86\u3002\uff08\u5c31\u76f8\u5f53\u4e8e\u662f\u9664\u4e86\u4e3a\u90a3\u4e2a\u500d\u6570\u4ee5\u5916\u7684\u6240\u6709\u6570\u90fd\u5f97\u6539\u3002\uff09\n\n# CODE:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,a[100010],s=0,t[1000010],maxx=-1,f[100010]={0,1,1},l=2,maxxx=1000000;\nint main()\n{\n    scanf(\"%d\",&n);\n    for(register int i=1;i<=n;i++) scanf(\"%d\",&a[i]),maxx=max(maxx,a[i]);\n    while(1)\n    {\n    \tif(f[l-1]+f[l]>maxxx) break;\n    \tl++;\n    \tf[l]=f[l-2]+f[l-1];\n\t}\n\tfor(register int i=1;i<=l;i++) if(a[i]%f[i]==0) t[a[i]/f[i]]++;\n\tfor(register int i=1;i<=maxx;i++) s=max(s,t[i]);\n    printf(\"%d\",n-s);\n    return 0;\n}\n```",
        "postTime": 1681220249,
        "uid": 658973,
        "name": "what_can_I_do",
        "ccfLevel": 0,
        "title": "P8808\u9898\u89e3"
    },
    {
        "content": "\u9996\u5148\u7b2c\u4e00\u6b65\u60f3\u5230\u7684\u80af\u5b9a\u662f\u66b4\u529b\uff0c\u679a\u4e3e $1$ \u5230 $10^6$ \u6bcf\u4e2a\u6570\u5206\u522b\u4f5c\u4e3a\u5f00\u5934\uff0c\u7136\u540e\u4e0e\u539f\u6570\u7ec4\u5bf9\u6bd4\u6bcf\u4e00\u9879\uff0c\u5f53\u7136\u65f6\u95f4\u590d\u6742\u5ea6 $O(a_i \\times n)$ \u6beb\u65e0\u7591\u95ee T \u4e86\u3002\n\n\u53d1\u73b0 $a_i \\leqslant  10^6$\uff0c\u53c8\u5f53 $a_1$ \u53d6\u5230\u6700\u5c0f\u503c $1$ \u65f6 $a_{30} = 832040$ \u800c $a_{31} > 10^6$ \u6240\u4ee5\u4e0d\u7528\u518d\u5f80\u540e\u8003\u8651\uff0c\u8fd9\u65f6\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(a_i)$ \u52a0\u4e0a\u4e00\u4e2a\u5927\u7ea6 $30$ \u7684\u5e38\u6570\uff0c\u5b8c\u5168\u8db3\u4ee5\u901a\u8fc7\u672c\u9898\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,a[300005],b[35],ans=2e9,maxn,j;\nint main(){\n    cin>>n;\n    for(int i=1;i<=n;i++)\n        cin>>a[i];\n    for(int i=1;i<=1e6;i++){\n        maxn=0,b[1]=i;\n        if(a[1]!=b[1]) maxn++;//\u8bb0\u5f97\u5224\u65ad\u7b2c\u4e00\u9879\n        for(j=2;b[j-1]<1e6;j++)//\u4e0e\u66b4\u529b\u4e0d\u540c\u70b9\uff0c\u53ea\u7528\u679a\u4e3e\u523010e6\n            b[j]=b[j-1]+b[j-2],maxn+=(b[j]!=a[j]);\n        maxn+=(n-j+1);//\u5b83\u53ef\u4ee5\u9002\u5e94j\u4e0en\u7684\u6240\u6709\u60c5\u51b5\uff0c\u5177\u4f53\u539f\u56e0\u4ea4\u7ed9\u8bfb\u8005\u81ea\u5df1\u63a8\u4e86\n        ans=min(maxn,ans);\n        //cout<<maxn<<' ';\n    }\n    cout<<ans;\n    return 0;\n}\n```",
        "postTime": 1684755767,
        "uid": 748437,
        "name": "Air_zyc",
        "ccfLevel": 0,
        "title": "P8808 [\u84dd\u6865\u676f 2022 \u56fd C] \u6590\u6ce2\u90a3\u5951\u6570\u7ec4"
    },
    {
        "content": "### \u9898\u76ee\u5927\u610f\n\n\u5bf9\u4e8e\u4e00\u4e2a\u6570\u7ec4 $a$\uff0c\u5982\u679c\u8fd9\u4e2a\u6570\u7ec4\u6ee1\u8db3\u5982\u4e0b\u6761\u4ef6\uff0c\u6211\u4eec\u5c31\u79f0\u8fd9\u4e2a\u6570\u7ec4\u4e3a\u6590\u6ce2\u90a3\u5951\u6570\u7ec4\uff1a\n\n$$a_n = \\begin{cases}a_{0} = a_{1} \\\\ a_{n-1}+a_{n-2} & n > 1\\end{cases}$$\n\n\u7ed9\u5b9a\u4e00\u4e2a\u6570\u7ec4 $a$\uff0c\u6c42\u8fd9\u4e2a\u6570\u7ec4\u66f4\u6539\u51e0\u4e2a\u6570\u540e\u53ef\u4ee5\u6210\u4e3a\u4e00\u4e2a\u6590\u6ce2\u90a3\u5951\u6570\u7ec4\u3002\n\n### \u9898\u76ee\u5206\u6790\n\n\u6211\u4eec\u8bbe\u539f\u59cb\u6570\u7ec4\u4e3a $a$\uff0c\u66f4\u6539\u540e\u7684\u6570\u7ec4\u4e3a $b$\uff0c\u6590\u6ce2\u90a3\u5951\u6570\u5217\u4e3a $F$\uff08$F_0 = F_1 = 1$\uff09\u3002\n\n\u7531\u4e8e\u9898\u76ee\u89c4\u5b9a\uff0c$a_0 = a_1$\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8bbe $b_0 = b_1 = k$\u3002\n\n\u6839\u636e\u901a\u9879\u516c\u5f0f $b_i = b_{i-1} + b_{i-2}$\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\uff1a\n\n$$b_n = \\begin{cases}b_n = k & n \\le 1 \\\\ b_n = k \\times F_n & n > 1 \\end{cases}$$\n\n\u5373\uff1a\n\n$$\\forall i \\in [1, n],b_i = F_i \\times k$$\n\n\u5bf9\u4e8e\u6bcf\u4e2a $a_i$\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 $a_i$ \u548c $F_i$ \u6c42\u51fa\u6b64\u9879\u4e0d\u6539\u53d8\u65f6\u7684 $k$\u3002\u7279\u522b\u5730\uff0c\u56e0\u4e3a $a_i$ \u5fc5\u987b\u662f\u6574\u6570\uff0c\u6240\u4ee5 $a_i$ \u548c $F_i$ \u5fc5\u987b\u9664 $k$ \u540c\u4f59\u3002\u5373\uff1a\n\n$$k = a_i \\div F_i~(a_i \\equiv F_i~(\\bmod k))$$\n\n\u6211\u4eec\u53ef\u4ee5\u5f00\u4e2a\u6876\u5b50 $cnt$ \u8bb0\u6bcf\u4e2a $k$ \u51fa\u73b0\u7684\u6b21\u6570\uff0c\u5219 $cnt_i$ \u8868\u793a $F_i$ \u6269\u4e86 $cnt_i$ \u500d\u540e\uff0c\u6709\u51e0\u4e2a\u6570\u4e0e $a$ \u6570\u7ec4\u76f8\u540c\u3002\u6240\u4ee5\uff0c\u7b54\u6848\u4e3a $n - cnt_{\\max}$\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u662f $\\mathcal O(V)$ \u7684\uff08$V$ \u4e3a\u503c\u57df\u8303\u56f4\uff09\n\n### code\n```cpp\n#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\nconst int INF = 1e9, N = 1e6 + 5;\nint f[N], n, u, v, t, m = 1e6;\n\nint main()\n{\n    scanf(\"%d\", &n);\n    u = v = 1;\n    for(int i = 1, a;i <= n;i++)\n    {\n        scanf(\"%d\", &a);\n        if(a % u == 0)\n            f[a / u]++;\n        if(u < m)\n            t = v, v = u + v, u = t;\n    }\n    int ans = INF;\n    for(int i = 1;i <= m;i++)\n        ans = min(ans, n - f[i]);\n    printf(\"%d\", ans);\n    return 0;\n}\n```",
        "postTime": 1682338763,
        "uid": 551108,
        "name": "Zhang_bingjia",
        "ccfLevel": 3,
        "title": "P8808\u9898\u89e3"
    }
]