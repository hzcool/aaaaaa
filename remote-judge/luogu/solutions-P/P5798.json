[
    {
        "content": "\u7b80\u5355 dp\u3002\n\n\u8003\u8651\u5b9a\u4e49 $dp$ \u6570\u7ec4\uff0c\u6709\u5173\u7684\u53ea\u6709\u5f53\u524d\u4efb\u52a1\uff0c\u5f53\u524d\u4e00\u7ea7\u7ecf\u9a8c\u548c\u4e8c\u7ea7\u7ecf\u9a8c\u3002\u6240\u4ee5\u5b9a\u4e49 $dp_{i,j,k}$ \u4e3a\uff1a\u5f53\u524d\u9009\u5230\u4e86\u7b2c $i$ \u4e2a\u4efb\u52a1\uff0c\u4e00\u7ea7\u7ecf\u9a8c\u548c\u4e8c\u7ea7\u7ecf\u9a8c\u5206\u522b\u4e3a $j,k$\u3002\u8f6c\u79fb\u662f\u975e\u5e38\u660e\u663e\u7684\uff0c\u53ea\u9700\u8981\u4ece\u6ca1\u505a\u8fd9\u4e2a\u4efb\u52a1\u7684\u72b6\u6001\u8f6c\u79fb\u5230\u4e0b\u4e00\u4e2a\u72b6\u6001\u5373\u53ef\u3002\n\n\u91cd\u8981\u7684\u662f\u505a\u4efb\u52a1\u7684\u987a\u5e8f\u4e0d\u540c\uff0c\u6211\u4eec\u7684\u7b54\u6848\u4e5f\u4e0d\u540c\u3002\u56e0\u4e3a\u4e00\u7ea7\u6ea2\u51fa\u7684\u7ecf\u9a8c\u4f1a\u7ed9\u4e8c\u7ea7\uff0c\u6240\u4ee5\u6211\u4eec\u7406\u6027\u731c\u6d4b\u4e00\u7ea7\u80fd\u591f\u5f97\u5230\u7684\u7ecf\u9a8c\u66f4\u591a\u7684\u4efb\u52a1\u653e\u5728\u540e\u9762\u3002\u4e5f\u5c31\u662f\u628a\u8bfb\u5165\u7684\u4efb\u52a1\u4ee5 $x$ \u4e3a\u5173\u952e\u5b57\u6392\u5e8f\u3002\n\n\u95ee\u9898\u89e3\u51b3\u4e86\uff01\n\n\u6ce8\u610f\u5361\u7a7a\u95f4\u8981\u5f00\u6eda\u52a8\u6570\u7ec4\u3002\u4e0d\u8981\u5f00\u5927\u53ef\u80fd\u4f1a T\u3002\u4e00\u5b9a\u8981\u5f00 O2\uff0c\u592a\u6162\u4e86\u3002\u3002\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\nconst LL INF=0x3f3f3f3f3f3f3f3f;\nLL now;\n#define Nxt (now^1)\nstruct task{\n\tLL x,t,y,r;\n\tbool operator < (task another) const {return x<another.x;}\n}p[505];\nLL n,s1,s2,dp[2][505][505];\nint main(){\n\tscanf(\"%lld %lld %lld\",&n,&s1,&s2);\n\tfor(LL i=1;i<=n;++i)\tscanf(\"%lld %lld %lld %lld\",&p[i].x,&p[i].t,&p[i].y,&p[i].r);\n\tsort(p+1,p+1+n);\n\tmemset(dp,0x3f,sizeof dp);//\u6c14\u6c14\u6c14\u8fd9\u91cc\u4e0d\u8981\u7528 127\uff0cmemset \u592a\u6162\u4e86\n\tdp[0][0][0]=0;\n\tfor(LL i=1;i<=n;++i)\n\t{\n\t\tmemcpy(dp[Nxt],dp[now],sizeof dp[now]);//\u6eda\u52a8\u6570\u7ec4\u5c06\u5f53\u524d\u72b6\u6001\u653e\u4e0a\u53bb\u3002\n\t\tfor(LL j=0;j<=s1;++j)\n\t\t{\n\t\t\tfor(LL k=0;k<=s2;++k)\n\t\t\t{\n\t\t\t\tif(dp[now][j][k]!=INF)\n\t\t\t\t{\n\t\t\t\t\tif(j<s1)\n\t\t\t\t\t{\n\t\t\t\t\t\tLL level1=j+p[i].x;\n\t\t\t\t\t\tif(level1>s1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tLL overflow=level1-s1+k;\n\t\t\t\t\t\t\toverflow=min(overflow,s2);\n\t\t\t\t\t\t\tdp[Nxt][s1][overflow]=min(dp[Nxt][s1][overflow],dp[now][j][k]+p[i].t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\tdp[Nxt][level1][k]=min(dp[Nxt][level1][k],dp[now][j][k]+p[i].t);\n\t\t\t\t\t}//\u5c06\u7ecf\u9a8c\u653e\u5728\u7b2c\u4e00\u7ea7\uff0c\u5206\u60c5\u51b5\u8ba8\u8bba\u6ea2\u51fa\u5230\u7b2c\u4e8c\u7ea7\u548c\u4e0d\u6ea2\u51fa\u3002\n\t\t\t\t\tLL level2=k+p[i].y;\n\t\t\t\t\tlevel2=min(level2,s2);\n\t\t\t\t\tdp[Nxt][j][level2]=min(dp[Nxt][j][level2],dp[now][j][k]+p[i].r); //\u653e\u5728\u7b2c\u4e8c\u7ea7\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tnow^=1;\n\t}\n\tprintf(\"%lld\",(dp[now][s1][s2]==INF || !dp[now][s1][s2])?-1:dp[now][s1][s2]);//\u80fd\u8fbe\u5230\u6ee1\u7ea7\u5417\n\treturn 0;\n}\n```",
        "postTime": 1592543110,
        "uid": 184977,
        "name": "pomelo_nene",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P5798 \u3010[SEERC2019]Level Up\u3011"
    }
]