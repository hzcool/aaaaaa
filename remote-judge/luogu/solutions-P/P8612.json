[
    {
        "content": "\u8fd9\u9898\u8003\u67e5\u6211\u4eec\u5bf9\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u638c\u63a7\u3002\n\n\n### Code 1\uff1a\n\n\u9996\u5148\uff0c\u66b4\u529b\u641c\u7d22\u3002\u5bf9\u4e8e\u4efb\u4f55\u4e00\u4e2a\u70b9\uff0c\u90fd\u6709\u56db\u79cd\u72b6\u6001\uff0c\u5206\u522b\u662f\uff1a\u5411\u53f3\u8d70\uff0c\u4e0d\u62ff\uff1b\u5411\u4e0b\u8d70\uff0c\u4e0d\u62ff\uff1b\u5411\u53f3\u8d70\uff0c\u62ff\uff1b\u5411\u4e0b\u8d70\uff0c\u62ff\u3002\u53ea\u8981\u5206\u522b\u641c\u7d22\u8fd9\u56db\u4e2a\u72b6\u6001\uff0c\u518d\u52a0\u8fb9\u754c\u503c\u3002\uff0c\u6211\u4eec\u7684\u7b2c\u4e00\u4efd\u66b4\u529b\u4ee3\u7801\u5c31\u5b8c\u6210\u4e86\u3002\u6ce8\u610f\uff0c\u8fd8\u6709\u4e00\u4e2a\u7279\u5224\u3002\u90a3\u5c31\u662f\u7ec8\u70b9\u524d\u6709\u4e24\u79cd\u72b6\u6001\uff0c\u4e00\u79cd\u4e3a\u4e0d\u62ff\u7ec8\u70b9\u683c\u5b50\u4e2d\u7684\u5b9d\u7269\uff0c\u5e76\u4e14\u624b\u4e0a\u7684\u5b9d\u7269\u6b63\u597d\u4e3a $k$ \u4ef6\u3002\u8fd8\u6709\u4e00\u79cd\u662f\u5230\u7ec8\u70b9\u4e86\uff0c\u624b\u4e0a\u53ea\u6709 $k-1$ \u4ef6\u5b9d\u7269\uff0c\u5e76\u4e14\u7ec8\u70b9\u683c\u5b50\u4e2d\u7684\u5b9d\u7269\u4ef7\u503c\u6bd4\u5c0f\u660e\u624b\u4e2d\u4efb\u610f\u5b9d\u8d1d\u4ef7\u503c\u90fd\u5927\uff0c\u90a3\u4e5f\u53ef\u4ee5\u7b97\u4e00\u79cd\u65b9\u6848\u3002\u9884\u8ba1\u5f97\u520660\u3002 \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MOD = 1000000007;\nint n,m,k;\nint map[59][59];\nint ans=0;\nvoid dfs(int x, int y, int maxV, int num){\n\tif(x==n+1 || y==m+1)\treturn;  //\u8fb9\u754c\n\tif(x==n && y==m){    //\u5230\u7ec8\u70b9\u4e86\n\t\tif(num==k || num==k-1&&map[x][y]>maxV){\n\t\t\tans++; //\u5230\u7ec8\u70b9\u524d\u6709\u4e24\u79cd\u72b6\u6001\n\t\t}\n\t\tans %= MOD;  //\u6ce8\u610f\u53d6\u6a21\n\t\treturn;\n\t}\n\tdfs(x,y+1,maxV,num);\n\tdfs(x+1,y,maxV,num);\n\tif(map[x][y] > maxV){\n\t\tdfs(x,y+1,map[x][y],num+1);\n\t\tdfs(x+1,y,map[x][y],num+1); //\u56db\u79cd\u72b6\u6001\u7684\u641c\u7d22\n\t}\n}\nint main(){\n\tcin >> n >> m >> k;\n\tfor( int i=1; i<=n; i++ )\n\t\tfor( int j=1; j<=m; j++ ) cin >> map[i][j];\n\tdfs(1,1,-1,0); //\u6ce8\u610f\uff0c\u4e00\u5f00\u59cb\u6700\u5927\u503c\u8981\u4e3a-1\n\tcout << ans;\n\treturn 0;\n}\n```\n\n### Code 2\uff1a\n\u8981\u60f3\u62ff\u5230\u6ee1\u5206\uff0c\u5c31\u8981\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u5c31\u662f\u62ff\u4e00\u4e2a $cache$ \u6570\u7ec4\u5206\u56db\u7ef4\uff0c\u5206\u522b\u8bb0\u5f55\u4e0a\u9762\u8bf4\u8fc7\u7684\u56db\u79cd\u72b6\u6001\u3002\u5982\u679c\u6709\u4e4b\u524d\u7b97\u8fc7\u7684\u503c\uff0c\u90a3\u5c31\u76f4\u63a5\u8fd4\u56de\uff0c\u5982\u6ca1\u6709\uff0c\u5c31\u7b97\uff0c\u7b97\u597d\u540e\u518d\u5b58\u5165\u6570\u7ec4\u4e2d\u3002\n\n```cpp\n#include<bits/stdc++.h> \nusing namespace std;\nconst int MOD = 1000000007;\nint cache[59][59][14][14],Map[59][59],n,m,k; \nint dfs(int x, int y, int maxV, int num){\n\tif(x==n+1 || y==m+1) return 0;  //\u8fb9\u754c\n\tif(cache[x][y][maxV+1][num] != -1){\n\t\treturn cache[x][y][maxV+1][num]; //\u5982\u679c\u6709\u503c\u4e86\uff0c\u5c31\u76f4\u63a5\u8fd4\u56de\n\t}\n\tlong long res=0;\n\tif(x==n && y==m){\n\t\tif(num==k || num==k-1&&Map[x][y]>maxV){\n\t\t\tres++;  //\u5230\u7ec8\u70b9\u4e86\n\t\t}\n\t}else{   \n\t\tres += dfs(x,y+1,maxV,num);  //\u8ba1\u7b97\u56db\u79cd\u72b6\u6001\n\t\tif(Map[x][y] > maxV){\n\t\t\tres += dfs(x,y+1,Map[x][y],num+1);\n\t\t}\n\t\tres += dfs(x+1,y,maxV,num);\n\t\tif(Map[x][y] > maxV){\n\t\t\tres += dfs(x+1,y,Map[x][y],num+1);\n\t\t}\t\n\t} \n\tcache[x][y][maxV+1][num] = res % MOD;  //\u50a8\u5b58\u8fd0\u7b97\u7ed3\u679c\n\treturn cache[x][y][maxV+1][num];  //\u8fd4\u56de\n}\nint main()\n{\n\tcin >> n >> m >> k;\n\tfor( int i=1; i<=n; i++ )\n\t\tfor( int j=1; j<=m; j++ ) cin >> Map[i][j];\n\tmemset(cache,-1,sizeof(cache));  //\u6ce8\u610f\u8981\u521d\u59cb\u5316\u4e3a-1\n\tcout << dfs(1,1,-1,0);\n\treturn 0;\n}\n```\n",
        "postTime": 1667055145,
        "uid": 492773,
        "name": "_cpp",
        "ccfLevel": 4,
        "title": "P8612 \u9898\u89e3"
    },
    {
        "content": "\u6b64\u9898\u5efa\u8bae\u8bc4\u7eff\u3002\r\n\r\n\u6b64\u9898\u6b63\u89e3\u8bb0\u5fc6\u5316\u641c\u7d22\u6216\u8005\u52a8\u6001\u89c4\u5212\u3002\r\n\r\n\u5982\u679c\u6b64\u9898\u7206\u641c\uff0c\u4ec5\u4ec5\u62ff\u5230\u4e00\u534a\u7684\u5206\u6570\u3002\r\n\r\n\u52a8\u6001\u89c4\u5212\u601d\u8def\u5728\u6b64\u9898\u89e3\u4e2d\u5e76\u4e0d\u8bb2\u8ff0\u3002\r\n\r\n\u8bb0\u5fc6\u5316\u641c\u7d22\u662f\u5bf9\u67d0\u4e00\u79cd\u91cd\u590d\u51fa\u73b0\u60c5\u51b5\u8fdb\u884c\u8bb0\u5f55\u3002\r\n\r\n\u6b64\u9898\u6211\u4eec\u8981\u660e\u786e\u9012\u5f52\u53c2\u6570\u662f\u4ec0\u4e48\uff0c\u901a\u8fc7\u63a2\u7a76\u6211\u4eec\u53ef\u4ee5\u5f97\u77e5\uff1a $x,y$ \u8868\u793a\u6240\u5728\u4f4d\u7f6e\uff0c$maxx$ \u8868\u793a\u624b\u91cc\u6709\u7684\u7269\u54c1\u7684\u6700\u5927\u503c\uff0c$step$ \u8868\u793a\u5171\u53d6\u4e86\u591a\u5c11\u4e2a\u7269\u54c1\u3002\r\n\r\n\u5219\u9012\u5f52\u5c31\u662f `dfs(x,y,maxx,step)`\u3002\r\n\r\n\u5bf9\u4e8e\u8bb0\u5fc6\u5316\u6570\u7ec4\uff0c\u4e5f\u662f\u8bb0\u5f55 $s[x][y][maxx][step]$ \u7684\u503c\uff0c\u56e0\u4e3a\u8bb0\u5fc6\u5316\u641c\u7d22\u539f\u7406\uff0c\u8bb0\u5f55\u4e0e\u6b64\u8282\u70b9\u76f8\u4f3c\u8282\u70b9\u7684\u503c\uff0c\u7136\u540e\u76f4\u63a5\u8fd4\u56de\u5373\u53ef\u3002\r\n\r\n\u6839\u636e\u8bb0\u5fc6\u5316\u641c\u7d22\u6613\u5f97\u7a0b\u5e8f\u3002\r\n\r\nAC CODE\r\n\r\n```cpp\r\n#include<cstdio>\r\n#include<algorithm>\r\n#include<cstring>\r\nusing namespace std;\r\nint n,m,k,a[60][60],s[60][60][15][15];\r\nint dfs(int x,int y,int maxx,int step){\r\n\tif (x==n+1||y==m+1)return 0;//\u8fb9\u754c\u6761\u4ef6\u3002\r\n\tif (s[x][y][maxx+1][step]!=-1)return s[x][y][maxx+1][step];//\u8bb0\u5fc6\u5316\u641c\u7d22\u3002\r\n\tlong long cnt=0;\r\n\tif (x==n&&y==m){\r\n\t\tif (step==k||(step==k-1&&a[x][y]>maxx))\r\n\t\t\tcnt++;\r\n\t}\r\n\telse {\r\n\t\tcnt+=dfs(x,y+1,maxx,step);\r\n\t\tif (a[x][y]>maxx)cnt+=dfs(x,y+1,a[x][y],step+1);\r\n\t\tcnt+=dfs(x+1,y,maxx,step);\r\n\t\tif (a[x][y]>maxx)cnt+=dfs(x+1,y,a[x][y],step+1);//\u600e\u6837\u641c\u7d22\u3002\r\n\t}\r\n\ts[x][y][maxx+1][step]=cnt%1000000007;\r\n\treturn s[x][y][maxx+1][step];\r\n}\r\nint main(){\r\n\tscanf (\"%d%d%d\",&n,&m,&k);\r\n\tfor (int i=1;i<=n;i++)\r\n\t\tfor (int j=1;j<=m;j++)\r\n\t\t\tscanf (\"%d\",&a[i][j]);//\u8bfb\u5165\r\n\tmemset(s,-1,sizeof(s));//\u8d4b\u503c\u4e3a -1\u3002\r\n\tprintf (\"%d\",dfs(1,1,-1,0));\r\n\treturn 0;\r\n}\r\n```\r\n",
        "postTime": 1670677782,
        "uid": 761649,
        "name": "ryf20100124",
        "ccfLevel": 0,
        "title": "\u8bb0\u5fc6\u5316\u641c\u7d22"
    },
    {
        "content": "## \u601d\u8def\n\n\u7531\u4e8e\u9898\u76ee\u4e2d\u8bf4\u4e86\u8fd9\u6837\u4e00\u53e5\u8bdd\uff1a\n\n\n\u8981\u6c42\u8f93\u51fa\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u6b63\u597d\u53d6 $k$ \u4e2a\u5b9d\u8d1d\u7684\u884c\u52a8\u65b9\u6848\u6570\u3002\u8be5\u6570\u5b57\u53ef\u80fd\u5f88\u5927\uff0c\u8f93\u51fa\u5b83\u5bf9 $10^9+7$ \u53d6\u6a21\u7684\u7ed3\u679c\u3002\n\n$10^9+7$ \u548c\u65b9\u6848\u6570\u5f88\u5927\u76f4\u63a5\u5426\u51b3\u4e86\u66b4\u529b\u641c\u7d22\u7684\u53ef\u80fd\u6027\uff0c\u6240\u4ee5\u6211\u4eec\u5e94\u8be5\u4f7f\u7528\u52a8\u6001\u89c4\u5212\uff01\n\n\n\u72b6\u6001\uff1a $dp [ x ] [y][k][c]$ \u4e3a \u5f53\u524d\u5750\u6807\u5728 $(x,y)$ \u65f6\uff0c\u5df2\u7ecf\u62ff\u4e86 $k$ \u4e2a\u5b9d\u8d1d\uff0c\u5f53\u524d\u5b9d\u8d1d\u6700\u5927\u4ef7\u503c\u5c0f\u4e8e\u7b49\u4e8e $c$ \u65f6\uff0c\u603b\u5171\u7684\u65b9\u6848\u6570\u3002\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n\u8bbe $mp[x][y]$ \u4e3a $(x,y)$ \u4e0a\u5b9d\u7269\u7684\u4ef7\u503c\uff0c\u90a3\u4e48\u5982\u679c $mp[x][y] < c$\uff0c\u5c31\u53ef\u4ee5\u9009\u62e9\u53d6\u548c\u4e0d\u53d6\uff0c\u5426\u5219\u5c31\u53ea\u80fd\u4e0d\u53d6\uff0c\u6240\u4ee5\u4e0d\u7ba1\u600e\u4e48\u600e\u4e48\u6837\u90fd\u8981\u4e0d\u53d6\u3002\n\n\u6240\u4ee5 \u8bbe $tp1=dp[x-1][y][k][c] + dp[x][y-1][k][c] $\uff0c\n\n\n$tp2=dp[x-1][y][k-1][mp[x][y]]+dp[x][y-1][k-1][mp[x][y]]$\n\n\u5982\u679c $c>mp[x][y]$\uff0c\u90a3\u4e48 $dp[x][y][k][c]= (tp1 + tp2 )\\bmod 10^9+7$\n\u5426\u5219 $dp[x][y][k][c] = tp2 \\bmod 10^9+7$\n\n## \u4ee3\u7801\n~~~cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int mod=1000000007;\nint mp[60][60];\nint dp[60][60][15][15];\nint main(){\n\tint n,m,p;\n\tcin>>n>>m>>p;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tcin>>mp[i][j];\n\t\t}\n\t}\n\tint tp2,tp1;\n\tfor(int k=0;k<=p;++k){\n\t\tfor(int c=0;c<=13;++c){\n\t\t\tif(k==0){\n\t\t\t\tdp[1][1][0][c]=1;\n\t\t\t}else{\n\t\t\t\tif(k==1&&c>mp[1][1]){\n\t\t\t\t\tdp[1][1][1][c]=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}//\u5bf9\u5904\u5728\u8d77\u70b9\u7684\u65f6\u5019\u8fdb\u884c\u521d\u59cb\u5316\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=1;j<=m;++j){\n\t\t\tfor(int k=0;k<=p;++k){\n\t\t\t\tfor(int c=0;c<=13;++c){\n\t\t\t\t\tif(i==1&&j==1){\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}//\u5df2\u7ecf\u521d\u59cb\u5316\u7684\u70b9\u5c31\u4e0d\u8d70\u4e86\uff0c\u5426\u5219\u5c31\u4f1a\u8986\u76d6\u6389\n\t\t\t\t\ttp2=0;\n\t\t\t\t\ttp1=dp[i-1][j][k][c]+dp[i][j-1][k][c];\n\t\t\t\t\tif(c>mp[i][j]&&k!=0){\n\t\t\t\t\t\ttp2=dp[i-1][j][k-1][mp[i][j]]+dp[i][j-1][k-1][mp[i][j]];\n\t\t\t\t\t}//\u6ce8\u610f\u662fc\u8981\u5927\u4e8e\uff0c\u6211\u4e4b\u524d\u5199>=\u6302\u4e86\u597d\u4e45\u2026\u2026\n\t\t\t\t\tdp[i][j][k][c]=(tp1%mod+tp2%mod)%mod;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}cout<<dp[n][m][p][13];\n}\n~~~",
        "postTime": 1667649649,
        "uid": 304558,
        "name": "The_ShuMo",
        "ccfLevel": 5,
        "title": "P8612 [\u84dd\u6865\u676f 2014 \u7701 AB] \u5730\u5bab\u53d6\u5b9d \u9898\u89e3"
    },
    {
        "content": "## 1.\u7f16\u7a0b\u601d\u8def\n\u91c7\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\u5b8c\u6210\u3002\n\n\u5b9a\u4e49 $4$ \u7ef4\u6570\u7ec4 $dp[51][51][15][15]$\u3002\n\n\u8bbe\u6570\u7ec4\u5143\u7d20 $dp[x][y][num][val]$ \u8868\u793a\u5728\u5750\u6807 $(x,y)$ \u65f6\u62ff\u4e86 $num$ \u4ef6\u5b9d\u8d1d\u5e76\u4e14\u5b9d\u8d1d\u4e2d\u4ef7\u503c\u6700\u5927\u7684\u4e3a $val$\uff0c\u5176\u4e2d $1\\le x \\le n$\uff0c$1\\le y \\le m $\uff0c$num$ \u7684\u521d\u503c\u4e3a  $0$\uff0c\u8868\u793a\u8fd8\u6ca1\u6709\u62ff\u5230\u5b9d\u8d1d\uff0c$val$ \u7684\u521d\u503c\u672c\u6765\u5e94\u8be5\u4e3a $-1$\uff0c\u8868\u793a\u6b64\u65f6\u624b\u4e0a\u8fd8\u6ca1\u6709\u5b9d\u7269\uff08\u56e0\u4e3a\u4ece\u9898\u76ee\u6570\u636e\u8bf4\u660e\u4e2d\u53ef\u4ee5\u770b\u51fa\u5b9d\u8d1d\u7684\u4ef7\u503c\u53ef\u4ee5\u4e3a $0$\uff09\uff0c\u4e3a\u4e86\u8ba9 $val$ \u521d\u59cb\u503c\u4e3a $0$\uff0c\u53ef\u4ee5\u5c06\u8f93\u5165\u7684\u5b9d\u8d1d\u7684\u4ef7\u503c\u7edf\u4e00\u52a0 $1$\uff0c\u8fd9\u6837\u5b9d\u8d1d\u7684\u6700\u5c0f\u4ef7\u503c\u4e3a $1$\uff08\u4e0d\u662f $0$\uff09\u3002\n\n\u5b9a\u4e49\u4e8c\u7ef4\u6570\u7ec4 $map[51][51]$ \u4fdd\u5b58\u5730\u5bab\u5404\u683c\u5b50\u7684\u5b9d\u8d1d\u4ef7\u503c\u3002\u5176\u4e2d\u6570\u7ec4\u5143\u7d20 $map[x][y]$ \u8868\u793a\u5728\u5750\u6807 $(x,y)$ \u5904\u7684\u683c\u5b50\u4e2d\u6240\u653e\u7f6e\u5b9d\u8d1d\u7684\u4ef7\u503c\u3002\n\n\u91c7\u7528\u5012\u63a8\u6cd5\u5217\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff0c\u5373\u628a\u540e\u9762\u7684\u60c5\u51b5\u79cd\u6570\u4e0d\u65ad\u7684\u5f80\u524d\u66f4\u65b0\u3002\n\n\u5f53 $ map[x][y]>val $ \u65f6\uff0c\n$$ dp[x][y][num][val]=dp[x+1][y][num+1][map[x][y]]+dp[x][y+1][num+1][map[x][y]]$$\n$$  +dp[x+1][y][num][val]+dp[x][y+1][num][val] $$\n\n\u5f53 $ map[x][y] \\le val $ \u65f6\uff0c\n$$ dp[x][y][num][val]=dp[x+1][y][num][val]+dp[x][y+1][num][val] $$\n\n\u5728\u901a\u8fc7 DFS \u641c\u7d22\u65b9\u5f0f\u6c42\u6570\u7ec4 $dp$ \u7684\u5404\u5143\u7d20\u503c\u65f6\uff0c\u7531\u4e8e\u6570\u7ec4\u5143\u7d20\u503c $dp[x][y][num][val]$ \u8ddf\u4f4d\u7f6e $(x,y)$\u3001\u5b9d\u8d1d\u4e2a\u6570\u4ee5\u53ca\u5f53\u524d\u6700\u5927\u7684\u5b9d\u8d1d\u4ef7\u503c\u6709\u5173\uff0c\u5f53\u91cd\u590d\u904d\u5386\u8fd9\u4e2a\u7ed3\u70b9\u65f6\uff0c\u82e5 $dp[x][y][num][val]$ \u7684\u503c\u5df2\u7ecf\u8ba1\u7b97\u51fa\u6765\u4e86\uff0c\u5219\u76f4\u63a5\u5e94\u7528\u65e0\u9700\u91cd\u590d\u9012\u5f52\u8ba1\u7b97\u3002\n\n\u4e3a\u6b64\uff0c\u5b9a\u4e49\u6570\u7ec4 $dp$ \u7684\u5168\u90e8\u5143\u7d20\u7684\u521d\u59cb\u503c\u4e3a $-1$\u3002\u82e5\u8ba1\u7b97\u65f6\u9700\u8981\u7528\u5230 $dp[x][y][num][val]$\uff0c\u6b64\u65f6 $dp[x][y][num][val]\\ne -1 $\uff0c\u5219\u65e0\u9700\u91cd\u590d\u8c03\u7528\uff0c\u76f4\u63a5\u5e94\u7528\u8ba1\u7b97\u597d\u7684 $ dp[x][y][num][val]$ \u5143\u7d20\u503c\u3002\u4e4b\u6240\u4ee5\u521d\u503c\u5b9a\u4e49\u4e3a $-1$\uff0c\u662f\u8003\u8651\u5230\u82e5\u8def\u5f84\u4e0d\u5b58\u5728\u7684\u60c5\u51b5\uff08\u6b64\u65f6\u65b9\u6848\u6570\u5e94\u4e3a $0$\uff09\u3002\n\n## 2.\u6e90\u7a0b\u5e8f\n```c\n#include <stdio.h>\n#include <string.h>\n#define MOD 1000000007\nlong long dp[51][51][15][15];\nint map[51][51];\nint n,m,k;\nvoid dfs(int x, int y, int num, int val)\n{\n\tif (dp[x][y][num][val] != -1)\n\t\treturn;\n\tdp[x][y][num][val] = 0;\n\tif (x == n && y == m && num == k)\n\t{\n\t\tdp[x][y][num][val] = 1;\n\t\treturn;\n\t}\n\tif (map[x][y] > val && num < k)\n\t{\n\t\tdfs(x, y, num + 1, map[x][y]);\n\t\tdp[x][y][num][val] += dp[x][y][num + 1][map[x][y]];\n\t\tdp[x][y][num][val] %= MOD;\n\t}\n\tif (x < n)  // \u5411\u4e0b\u8d70\n\t{\n\t\tdfs(x + 1, y, num, val);\n\t\tdp[x][y][num][val] += dp[x + 1][y][num][val];\n\t\tdp[x][y][num][val] %= MOD;\n\t}\n\tif (y < m)  // \u5411\u53f3\u8d70\n\t{\n\t\tdfs(x, y + 1, num, val);\n\t\tdp[x][y][num][val] += dp[x][y + 1][num][val];\n\t\tdp[x][y][num][val] %= MOD;\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d%d\",&n,&m,&k);\n\tfor (int i = 1; i <=n ; i++)\n\t{\n\t\tfor (int j = 1; j <= m; j++)\n\t\t{\n\t\t\tscanf(\"%d\",&map[i][j]);\n\t\t\tmap[i][j]++;\n\t\t}\n\t}\n\tmemset(dp, -1, sizeof(dp));\n\tdfs(1, 1, 0, 0);\n\tprintf(\"%d\\n\",dp[1][1][0][0]);\n\treturn 0;\n}\n\n```\n\n\n",
        "postTime": 1678244396,
        "uid": 228457,
        "name": "wuhan1234",
        "ccfLevel": 0,
        "title": "P8612 [\u84dd\u6865\u676f 2014 \u7701 AB] \u5730\u5bab\u53d6\u5b9d \u9898\u89e3"
    },
    {
        "content": "# \u5206\u6790\n1. \u9996\u5148\u660e\u786e$dp$\u6570\u7ec4\u542b\u4e49\uff0c**\u5f88\u91cd\u8981**\u3002$dp[i][j][k][c]$ \uff1a\u8d70\u5230$(i, j)$\uff0c\u62ff\u53d6k\u4e2a\u5b9d\u8d1d\uff0c\u4e14\u8fd9\u4e9b\u5b9d\u8d1d\u4e2d\u7684\u5177\u6709\u6700\u5927\u4ef7\u503c\u7684\u5b9d\u8d1d\u7684\u4ef7\u503c\u4e3ac\u7684\u65b9\u6848\u6570\u3002\n2. \u521d\u59cb\u5316\uff08\u5728$(1, 1)$\u62ff\u6216\u4e0d\u62ff\u5b9d\u8d1d\uff09\uff0c\u5176\u4ed6\u4fdd\u6301\u9ed8\u8ba4\u503c0\u5c31\u53ef\u4ee5\u4e86\u3002\n\n(1) $dp[1][1][1][w[1][1]] = 1$,\u8fd9\u662f\u62ff\u7684\u521d\u59cb\u5316\uff0c\u65b9\u6848\u6570\u4e3a1\u3002\n\n\u6211\u4eec\u518d\u770b\u4e0d\u62ff\uff0c\u5982\u679c\u4e0d\u62ff\uff0c\u90a3\u4e48\u6700\u5927\u4ef7\u503c\u5c31\u4e0d\u5b58\u5728\uff0c\u53ef\u4ee5\u7528-1\u4ee3\u66ff\uff0c\u4f46\u662fC++\u4e2d\u6570\u7ec4\u7d22\u5f15\u4e0d\u5141\u8bb8\u8d1f\u6570\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u5b9d\u8d1d\u4ef7\u503c\u90fd\u52a01\uff0c\u4ece$0 ...12$\u53d8\u6210$1...13$\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u75280\u8868\u793a\u6700\u5927\u4ef7\u503c\u4e0d\u5b58\u5728\u3002\n\n(2) $dp[1][1][0][0] = 1$,\u8fd9\u662f\u4e0d\u62ff\u7684\u521d\u59cb\u5316\uff0c\u65b9\u6848\u6570\u4e3a1\u3002\n\n3. \u660e\u786e\u52a8\u6001\u8f6c\u79fb\u8fc7\u7a0b\u3002 \n\n\u5047\u8bbe\u6211\u4eec\u73b0\u5728\u5728$dp[i][j][k][c]$,\u90a3\u4e48\u53ef\u4ee5\u4ece\u54ea\u4e9b\u5730\u65b9\u8f6c\u79fb\u800c\u6765\u5462\uff1f\n\n\u9996\u5148\uff0c\u5927\u4f53\u4e0a\u770b\uff0c\u6765\u81ea\u4e0a\u65b9$(i - 1, j)$\uff0c\u6216\u8005\u5de6\u65b9$(i, j - 1)$\u3002\u8fd9\u4e24\u79cd\u60c5\u51b5**\u4e4b\u4e2d**\uff0c\u53c8\u5404\u81ea\u6709\u5728$(i, j)$\u4f4d\u7f6e\u7684\u5b9d\u8d1d\u53d6\u548c\u4e0d\u53d6\u7684\u60c5\u51b5\uff0c\u5176\u4e2d\u53d6\u7684\u8981\u52a0\u4e00\u5c42\u5faa\u73af\uff0c\u4e0d\u53d6\u7684\u6bd4\u8f83\u7b80\u5355\uff0c\u5177\u4f53\u7ec6\u8282\u53ef\u4ee5\u770b\u770b\u4ee3\u7801\u6ce8\u91ca\uff0c\u5206\u6790\u5230\u6b64\u7ed3\u675f\u3002\n\n# \u4ee3\u7801\u4ee5\u53ca\u6ce8\u91ca\n```cpp\n#include <iostream>\nusing namespace std;\nconst int MOD = 1000000007;\nconst int N = 55;\nint w[N][N]; // \u5750\u6807(i, j)\u5b9d\u8d1d\u4ef7\u503c\n// dpp[i][j][k][c] : \u8d70\u5230(i, j),\u62fe\u53d6k\u4e2a\u5b9d\u8d1d\uff0c\u4e14\u6240\u6709\u5b9d\u8d1d\u4e2d\u6700\u5927\u7684\u4ef7\u503c\u4e3ac\u7684\u65b9\u6848\u6570\nint dp[N][N][13][14];\n\nint main() {\n    int n, m, k;\n    cin >> n >> m >> k;\n    // \u6536\u96c6\u7269\u54c1\u4ef7\u503c\uff0c\u6269\u5c55\u52301\uff5e13\uff0c0\u4ee3\u8868\u8fd8\u6ca1\u6709\u62fe\u53d6\u7269\u54c1\n    for (int i = 1; i <= n; i++) {\n        for (int j = 1; j <= m; j++) {\n            cin >> w[i][j];\n            w[i][j]++;\n        }\n    }\n    // \u521d\u59cb\u5316\n    dp[1][1][1][w[1][1]] = 1; \n    dp[1][1][0][0] = 1; \n    // \u5f00\u59cb\u52a8\u6001\u89c4\u5212\n    for (int i = 1; i <= n; i++) {\n        for (int j = 1; j <= m; j++) {\n        \t// (1, 1)\u7684\u6240\u6709\u60c5\u51b5\u90fd\u521d\u59cb\u5316\u8fc7\u4e86\uff0c\u76f4\u63a5\u8df3\u8fc7\n            if (i == 1 && j == 1) continue;\n            for (int u = 0; u <= k; u++) {\n                for (int v = 0; v <= 13; v++) {\n                    int &val = dp[i][j][u][v]; // dp\u6570\u7ec4\u5e38\u7528\uff0c\u8fd9\u6837\u65b9\u4fbf\u540e\u9762\u7528\u5230\u65f6\u597d\u5199\n                    val = (val + dp[i - 1][j][u][v]) % MOD; // \u6765\u81ea\u4e0a\u65b9\u4e14\u4e0d\u53d6(i, j)\u7684\u5b9d\u8d1d\n                    val = (val + dp[i][j - 1][u][v]) % MOD; // \u6765\u5de6\u8fb9\u4e14\u4e0d\u53d6(i, j)\u7684\u5b9d\u8d1d\n                    // \u4e0b\u9762\u662f\u53d6(i, j)\u5b9d\u8d1d\u60c5\u51b5\n                    if (u > 0 && v == w[i][j]) // u > 0 \u624d\u80fd\u53d6\uff0c\u6839\u636edp\u5b9a\u4e49\u4ee5\u53ca\u9898\u76ee\u542b\u4e49\uff0c\u53d6\u7684(i, j)\u5b9d\u8d1d\u4ef7\u503cw\u5fc5\u987b\u4e3av\n                    { \n                        for (int c = 0; c < v; c ++ ) // \u4e0a\u4e00\u4e2a\u72b6\u6001\u7684\u6700\u5927\u4ef7\u503c\u5b9d\u8d1d\u7684\u4ef7\u503c\u6709\u5f88\u591a\u53ef\u80fd\uff0c\u4f46\u4e00\u5b9a\u4ef7\u503c\u5c0f\u4e8ev\n                        { \n                            val = (val + dp[i - 1][j][u - 1][c]) % MOD; // \u8f6c\u79fb\u81ea\u4e0a\u65b9\u4e14\u53d6(i, j)\u7684\u5b9d\u8d1d\n                            val = (val + dp[i][j - 1][u - 1][c]) % MOD; // \u8f6c\u79fb\u81ea\u5de6\u8fb9\u4e14\u53d6(i, j)\u7684\u5b9d\u8d1d\n                        }\n                    }\n                }\n            }\n        }\n    }\n    // \u8ba1\u7b97\u7b54\u6848\uff0c\u7d2f\u52a0\u5404\u79cdc\u7684\u53ef\u80fd\n    int res = 0;\n    for (int c = 0; c <= 13; c++) {\n        res = (res + dp[n][m][k][c]) % MOD;\n    }\n    cout << res;\n    return 0;\n}\n```\n",
        "postTime": 1672656652,
        "uid": 912140,
        "name": "Nathan123",
        "ccfLevel": 0,
        "title": "P8612\u9898\u89e3\uff5c\u52a8\u6001\u89c4\u5212\u505a\u6cd5"
    }
]