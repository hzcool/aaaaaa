[
    {
        "content": "### \u601d\u8def\n\n\u9996\u5148\uff0c\u6211\u4eec\u8bbe\u4e24\u4e2a\u5b50\u96c6\u5143\u7d20\u4e2a\u6570\u5206\u522b\u4e3a $s1,t1$\u3002\u7531\u4e8e $s1 \\notin S$\uff0c\u53ef\u4ee5\u5f97\u77e5 $s1 \\in T$\u3002\u540c\u7406\uff0c$t1 \\in S$\u3002\u6240\u4ee5\u8fd8\u5269 $n-2$ \u4e2a\u5143\u7d20\uff0c\u53ef\u4ee5\u968f\u4fbf\u6392\u653e\uff0c\u53ea\u8981\u4f7f\u5f97 $|S|=s1$ \u5373\u53ef\u3002\u53ef\u4ee5\u4ece $n-2$ \u91cc\u9762\u6311\u51fa $s1-1$ \u4e2a\u653e\u5165 $S$ \u4e2d\uff0c\u8fd9\u6837 $|S|=s1$ \u4e86\u3002\u56e0\u4e3a $s1+t1=n$\uff0c\u6240\u4ee5\u6b64\u65f6 $|T|=t1$\u3002\u6ee1\u8db3\u6761\u4ef6\u3002\u4e0d\u96be\u770b\u51fa\u8fd9\u4e2a\u65b9\u6cd5\u6570\u5c31\u662f $C_{n-2}^{s1-1}$\u3002\n\n\u6211\u4eec\u73b0\u5728\u5c31\u53ef\u4ee5\u628a $s1$ \u53d8\u6210 $1$ \u81f3 $n-1$\uff0c\u56e0\u4e3a\u7a7a\u96c6\u4e0d\u6ee1\u8db3\u8981\u6c42\u3002\u5217\u51fa\u5f0f\u5b50:\n\n$$C_{n-2}^{n-1-1}+C_{n-2}^{n-2-1}+C_{n-2}^{n-3-1}+\\cdots+C_{n-2}^{2-1}+C_{n-2}^{1-1}$$\n\n$$=C_{n-2}^{n-2}+C_{n-2}^{n-3}+C_{n-2}^{n-4}+\\cdots+C_{n-2}^{2}+C_{n-2}^{1}+C_{n-2}^{0}$$\n\n\u8003\u8651\u8fd9\u4e2a\u5f0f\u5b50\u7684\u771f\u5b9e\u542b\u4e49\u3002\u5176\u5b9e\u5c31\u662f $n-2$ \u4e2a\u4eba\uff0c\u9009 $0,1,\\cdots,n-3,n-2$ \u4e2a\u4eba\uff0c\u6709\u591a\u5c11\u79cd\u65b9\u6848\u3002\n\n\u6240\u4ee5\u5c31\u662f\u9009\u82e5\u5e72\u4e2a\u3002\u6bcf\u4e00\u4e2a\u4eba\u90fd\u53ef\u4ee5\u9009/\u4e0d\u9009\uff0c\u6839\u636e\u4e58\u6cd5\u539f\u7406\uff0c\u53ef\u4ee5\u5f97\u5230\u539f\u5f0f $=2^{n-2}$\u3002\n\n\u96be\u9053\u8fd9\u5c31\u7ed3\u675f\u4e86\u5417\uff1f\u90a3\u6837\u4f8b $2$ \u4e3a\u4ec0\u4e48\u7b54\u6848\u4e0d\u662f $2^{6-2}=2^4=16$ \u5462\uff1f\n\n\u89c2\u5bdf\u4e00\u4e0b\uff0c\u53d1\u73b0\u5f53 $n$ \u4e3a\u5076\u6570\u65f6\u4f1a\u6709\u4e00\u79cd\u60c5\u51b5\uff1a$s1=t1$\u3002\u6b64\u65f6 $s1 \\notin S$ \u4e14 $s1 \\notin T$\u3002\u5f88\u660e\u663e\u4e0d\u7b26\u5408\u8981\u6c42\u3002\u6240\u4ee5\u8981\u628a\u8fd9\u79cd\u60c5\u51b5\u6392\u9664\u51fa\u53bb\u3002\u5bf9\u5e94\u7684\uff0c\u5f53 $n$ \u4e3a\u5076\u6570\u7684\u65f6\u5019\uff0c\u7b54\u6848\u9700\u8981\u5c11 $C_{n-2}^{\\frac{n-2}{2}}$\uff0c\u9700\u8981\u51cf\u6389\u3002\u8003\u8651\u7528\u4e00\u4e2a\u4e58\u6cd5\u9006\u5143\u53ca\u5feb\u901f\u5e42\u89e3\u51b3\u7ec4\u5408\u6570\uff0c $2^{n-2}$ \u76f4\u63a5```for```\u5faa\u73af\u7b97\u5c31\u884c\u4e86\u3002\u5982\u679c\u4e0d\u61c2\u4e58\u6cd5\u9006\u5143\u7684\u8bdd\uff0c\u63d0\u4f9b\u4e00\u4e2a[\u94fe\u63a5](https://www.cnblogs.com/bytebull/p/6006816.html)\uff0c\u81ea\u884c\u9605\u8bfb\u3002\u56e0\u4e3a\u7bc7\u5e45\u95ee\u9898\uff0c\u8fd9\u91cc\u4e0d\u505a\u8fc7\u591a\u8d58\u8ff0\u3002\n\n### code\n\n```cpp\n#include<iostream>\n#define int long long\nusing namespace std;\nconst int Mod=998244353;\nint jc[100006];\nvoid init()\n{\n\tjc[0]=jc[1]=1;\n\tfor(int i=1;i<=100005;i++)\n\t\tjc[i]=(jc[i-1]%Mod*i%Mod)%Mod; \n}//\u9884\u5904\u7406\u9636\u4e58\nint qpow(int a,int b,int c)\n{\n\tint res=1;\n\twhile(b)\n\t{\n\t\tif(b&1)\n\t\t\tres=res*a%Mod;\n\t\tb>>=1;\n\t\ta=a*a%Mod;\n\t}\n\treturn res%Mod;\n}//\u5feb\u901f\u5e42\nint C(int a,int b)\n{\n\treturn jc[a]%Mod*qpow(jc[b],Mod-2,Mod)%Mod*qpow(jc[a-b],Mod-2,Mod)%Mod;\n}//\u8ba1\u7b97\u7ec4\u5408\u6570\uff0c\u8be6\u7ec6\u89c1\u94fe\u63a5\nsigned main()\n{\n\tint n;\n\tcin>>n;\n    if(n==1)\n    {\n        cout<<0;\n        return 0;\n    }//\u7279\u5224\uff0c\u5426\u5219\u4f1aWA on #4\n\tinit();//\u9884\u5904\u7406\u9636\u4e58\n\tint ans=1;\n\tfor(int i=1;i<=n-2;i++)\n\t\tans=(ans*2)%Mod;//\u8ba1\u7b972\u7684n-2\u6b21\u65b9\n\tif(n%2==0)//\u5982\u679cn\u4e3a\u5076\u6570\n\t{\n\t\tint m=n-2,j=C(m,m/2);//\u8ba1\u7b97\u7ec4\u5408\u6570\n\t\tans-=j;//\u5c06\u7b54\u6848\u51cf\u53bb\u7ec4\u5408\u6570\n\t\tans+=Mod;//\u56e0\u4e3a\u51cf\u662f\u6a21\u610f\u4e49\u4e0b\u7684\uff0c\u53ef\u80fd\u51fa\u73b0\u8d1f\u6570\u59826>4\u4f466%5<4%5\u3002\u6240\u4ee5\u52a0\u4e00\u4e2aMod\u518d\u53d6\u6a21\u3002\n\t}\n\tcout<<ans%Mod;//\u8f93\u51fa\n\treturn 0;\n}\n```",
        "postTime": 1644022508,
        "uid": 327444,
        "name": "Tothetime_tolife",
        "ccfLevel": 0,
        "title": "P8106"
    },
    {
        "content": "#### \u9898\u76ee\u5927\u610f\n\n\n------------\n\n$\\text { \u6c42\u5c06\u4e00\u4e2a\u96c6\u5408 } \\mathrm{U}\\{1,2,3, \\cdots, n\\} \\text { \u5212\u5206\u6210\u4e24\u4e2a\u5b50\u96c6 } S, T \\text { \uff0c\u4f7f\u5f97 }|S| \\notin S,|T| \\notin T \\text { \u7684\u65b9\u6848\u6570\u3002 }$\n\n\n#### \u601d\u8def\u5206\u6790\n\n\n------------\n\u8bbe $|S| = m$,\u5219 $m \\in T$\u3002\n\n\u56e0\u4e3a\u603b\u5171\u6709 $n$ \u4e2a\u5143\u7d20\uff0c\u6240\u4ee5 $T$ \u96c6\u5408\u4e2d\u603b\u5171\u6709 $n-m$ \u4e2a\u6570\uff0c\u5373 $|T| = n - m$\uff0c\u6545 $(n-m) \\in S$\u3002\n\n\u7efc\u4e0a\u5206\u6790\uff0c\u5728\u5bf9\u6240\u6709\u5143\u7d20\u5206\u7ec4\u4e4b\u524d\u5df2\u7ecf\u6709\u4e24\u4e2a\u5143\u7d20\u7684\u5f52\u5c5e\u786e\u5b9a\u4e86\uff0c\u6240\u4ee5\u9898\u76ee\u7b49\u4ef7\u4e8e\u6c42\u5728 $n-2$ \u4e2a\u5143\u7d20\u4e2d\u9009 $m-1$ \u4e2a\u5143\u7d20\u7684\u65b9\u6848\u6570\u3002\n\n\u6545\u7b54\u6848\u4e3a $\\sum_{i=0}^{n-2} C_{n-2}^{i} $\n\n\u7136\u800c\u4e0a\u9762\u7684\u601d\u8def\u751a\u81f3\u65e0\u6cd5\u901a\u8fc7\u6837\u4f8b\u4e8c\u3002\n\n\u89c2\u5bdf\u6837\u4f8b\u4e8c\u4e0d\u96be\u53d1\u73b0\uff0c\u5f53 $n$ \u662f\u5076\u6570\u65f6\uff0c\u4e0a\u9762\u601d\u8def\u7edf\u8ba1\u7684\u65b9\u6848\u6570\u5fc5\u7136\u4f1a\u5b58\u5728\u91cd\u590d\u7684\u65b9\u6848\uff0c\u56e0\u4e3a\u4e00\u4e2a\u5076\u6570\u5fc5\u7136\u53ef\u4ee5\u5206\u6210\u4e24\u4e2a\u76f8\u7b49\u7684\u6570\u3002\n\n\u6240\u4ee5\u5f53 $n$ \u662f\u5076\u6570\u65f6\uff0c\u53ea\u9700\u8981\u4ece\u521a\u624d\u7684\u60c5\u51b5\u4e2d\u51cf\u53bb\u76f8\u7b49\u7684\u60c5\u51b5\u5373\u53ef\u3002\n\n\u505a\u5230\u8fd9\u4e00\u6b65\u5df2\u7ecf\u53ef\u4ee5\u8f7b\u677e\u7684\u901a\u8fc7\u6b64\u9898\u4e86\uff0c\u4f46\u662f\u4ecd\u7136\u5b58\u5728\u66f4\u8fdb\u4e00\u6b65\u7684\u4f18\u5316\u3002\n\n\u6839\u636e\u7ec4\u5408\u6570\u7684\u6027\u8d28 $\\sum_{i=0}^{n} C_{n}^{i}=2^{n}$\uff0c\u8003\u8651\u5c06\u4e0a\u8ff0\u5f0f\u5b50\u4f18\u5316\u6210 $2^{n-2}$ \u518d\u51cf\u53bb\u4e0d\u7b26\u5408\u60c5\u51b5\u7684\u65b9\u6848\u6570\u5373\u53ef\u3002\n\n#### \u4ee3\u7801\u5b9e\u73b0\n\n\n------------\n```cpp\nlong long n,f[N],inv[N];\nlong long qpow(long long x,long long k){\n\tlong long ans = 1;\n\twhile(k > 0){\n\t\tif(k & 1) ans = ans * x % mod;\n\t\tx = x * x % mod;\n\t\tk >>= 1;\n\t}\n\treturn ans;\n}\n\ninline long long C(long long n,long long m){\n\tif(n < m) return 0;\n\tif(m > n - m) m = n - m;\n\tlong long a = 1 , b = 1;\n\tfor(int i=0;i<m;i++){\n\t\ta = (a * (n - i)) % mod;\n\t\tb = (b * (i + 1)) % mod;\n\t}\n\treturn a * qpow(b,mod-2) % mod;\n}\n\ninline long long Lucas(long long n,long long m){\n\tif(m == 0) return 1;\n\treturn Lucas(n/mod,m/mod) * C(n % mod , m % mod) % mod;\n}\n\nint main(){\n\tn = read();\n\tif(n == 1){\n\t\tcout<<0<<endl;\n\t\treturn 0;\n\t}\n\tlong long ans = qpow(2,n-2);\n\t\n\tif(n % 2 == 0){\n\t\tans -= (Lucas(n-2,n/2-1 ) - mod);\n\t\tans %= mod;\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1654936935,
        "uid": 335615,
        "name": "0xFF",
        "ccfLevel": 0,
        "title": "P8106"
    },
    {
        "content": "\u7b80\u5355\u6392\u5217\u7ec4\u5408\u9898\u3002\u601d\u7ef4\u96be\u5ea6\u5927\u6982\u6a59~\u9ec4\u3002\n\n\u9996\u5148\u770b\u5230\u6570\u636e\u8303\u56f4 $n\\le 10^5$\uff0c\u9a6c\u4e0a\u60f3\u5230\u7ebf\u6027\u679a\u4e3e $|S|$\uff0c\u5219 $|T|=n-|S|$\u3002\n\n\u8003\u8651\u6c42\u51fa\u6709\u591a\u5c11\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684 $S$\u3002\n\n\u5bf9\u4e8e\u4e00\u4e2a\u6570 $k$\uff0c\u5b83\u8981\u4e48\u51fa\u73b0\u5728 $S$ \u4e2d\uff0c\u8981\u4e48\u51fa\u73b0\u5728 $T$ \u4e2d\u3002\u6240\u4ee5\uff0c\u65e2\u7136 $|T|\\not\\in T$\uff0c\u5c31\u6709 $|T|\\in S$\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c$S$ \u8981\u6ee1\u8db3\u4e0b\u9762\u4e24\u4e2a\u5f0f\u5b50\uff1a\n\n$$\n\\begin{cases}\n|S|\\not\\in S \\\\\nn-|S|\\in S\n\\end{cases}\n$$\n\n\u56e0\u4e3a\u786e\u5b9a\u4e86 $S$\uff0c$T$ \u4e5f\u5c31\u786e\u5b9a\u4e86\uff0c\u56e0\u4e3a $|T|$ \u5df2\u7ecf\u5728 $S$ \u91cc\u4e86\uff0c\u6240\u4ee5\u6b64\u65f6\u5269\u4e0b\u7684 $T$ \u4e5f\u662f\u6ee1\u8db3\u6761\u4ef6\u7684\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\u95ee\u9898\u8f6c\u5316\u4e3a\u5982\u4f55\u4ece $1\\sim n$ \u7684\u6392\u5217\u4e2d\u9009 $|S|$ \u4e2a\u6570\u4f7f\u5f97\u4e0a\u9762\u90a3\u4e2a\u6761\u4ef6\u6210\u7acb\u3002\n\n\u679a\u4e3e $|S|=i$\u3002\u4ece $n$ \u4e2a\u6570\u91cc\u9762\u9009 $i$ \u4e2a\u4e14\u6ee1\u8db3\u6761\u4ef6\uff0c\u4e5f\u5c31\u662f\u8bf4\u4ece $n-2$ \u4e2a\u6570\u91cc\u9762\u9009 $i-1$ \u4e2a\u6570\uff08\u56e0\u4e3a $i$ \u9996\u5148\u4e0d\u80fd\u9009\uff0c$n-i$ \u5df2\u7ecf\u9009\u4e0a\u4e86\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u5728\u5269\u4e0b\u7684 $n-2$ \u4e2a\u6570\u91cc\u9762\u9009 $i-1$ \u4e2a\u5c31\u597d\u4e86\uff09\uff0c\u8fd9\u4e2a\u662f\u6211\u4eec\u719f\u6089\u7684\u7ec4\u5408\uff0c\u8868\u8fbe\u4e3a\uff1a\n\n$$C_{n-2}^{i-1}$$\n\n\u800c $i=|S|$ \u662f $1\\sim n-1$ \u7684\u3002\u7b54\u6848\u5c31\u662f\u4e00\u4e2a\u5f0f\u5b50\uff1a\n\n$$\n\\begin{aligned}\n&\\sum_{i=1}^{n-1}C_{n-2}^{i-1} \\\\\n=&\\sum_{i=0}^{n-2}C_{n-2}^{i}\n\\end{aligned}\n$$\n\n\u5f53\u4f60\u81ea\u4fe1\u6ee1\u6ee1\u5730\u653e\u4e0a\u53bb\u4e00\u4e2a\u5feb\u901f\u5e42\u4f60\u4f1a\u53d1\u73b0\u4f60 WA \u4e86\u800c\u4e14\u8fde\u6837\u4f8b\u4e8c\u90fd\u8fc7\u4e0d\u53bb\u3002\n\n\u5b9e\u9645\u4e0a\uff0c\u5982\u679c $n$ \u662f\u5076\u6570\u7684\u8bdd\uff0c\u5f53 $|S|=|T|=\\dfrac12n$ \u65f6\uff0c$|S|$ \u4f1a\u88ab\u8981\u6c42\u65e2\u4e0d\u80fd\u51fa\u73b0\u5728 $S$ \u91cc\u53c8\u4e0d\u80fd\u51fa\u73b0\u5728 $T$ \u91cc\uff0c\u6240\u4ee5\u60c5\u51b5\u6570\u662f $0$\u3002\u600e\u4e48\u529e\u5462\uff1f\u76f4\u63a5\u7279\u5224\u5076\u6570\uff0c\u5728\u539f\u6765\u7b54\u6848\u4e0a\u51cf\u53bb $C_{n-2}^{\\frac12n-1}$ \u5373\u53ef\u3002\n\n\u8fd9\u91cc\u5b9e\u9645\u4e0a\u76f4\u63a5\u5feb\u901f\u5e42\u6c42\u9006\u5143\u5c31\u53ef\u4ee5\u505a\u5230 $\\Theta(n\\log n)$ \u4e86\uff0c\u9884\u5904\u7406\u51fa\u9006\u5143\u4e5f\u53ef\u4ee5\u505a\u5230 $\\Theta(n)$\u3002\n\n\u4f46\u662f\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u7ee7\u7eed\u4f18\u5316\u3002\u5173\u4e8e\u8fd9\u9053\u9898\u6211\u89c9\u5f97\u53ef\u4ee5\u52a0\u591a\u7ec4\u6570\u636e\uff0c\u4e0a\u9762\u662f $\\Theta(qn)$ \u7684\uff0c\u800c\u4e0b\u9762\u4f18\u5316\u540e\u53ef\u4ee5\u8fbe\u5230 $\\Theta(n+q\\log n)$\u3002\n\n\u8003\u8651\u5230\u6768\u8f89\u4e09\u89d2\u7684\u6027\u8d28\u3002\u6768\u8f89\u4e09\u89d2\u7b2c $i$ \u884c\u7b2c $j$ \u4e2a\u5143\u7d20\u6070\u597d\u8868\u793a $C_{i}^j$\uff08\u4ece $0$ \u5f00\u59cb\uff09\uff0c\u56e0\u4e3a\u6768\u8f89\u4e09\u89d2\u6bcf\u4e2a\u6570\u90fd\u662f\u4e0a\u4e00\u884c\u7684\u76f8\u90bb\u4e24\u4e2a\u6570\u4e4b\u548c\uff0c\u6240\u4ee5\u4e00\u884c\u7684\u603b\u548c\u5c31\u662f\u4e0a\u4e00\u884c\u7684\u4e24\u500d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\n\n$$\\sum_{i=0}^kC_k^i=2^k$$\n\n\u628a $n-2$ \u5f53\u505a $k$ \u5e26\u8fdb\u53bb\uff0c\u6211\u4eec\u53d1\u73b0\u5f97\u5230\u4e86\u539f\u6765\u7684\u5f0f\u5b50\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u7b54\u6848\u5c31\u662f\n\n$$2^{n-2}-C_{n-2}^{\\frac12n-1}$$\n\n\u5f53\u4f60\u81ea\u4fe1\u6ee1\u6ee1\u5730\u63a8\u51fa\u4e86\u8fd9\u4e2a\u5f0f\u5b50\u4ea4\u4e0a\u53bb\u7684\u65f6\u5019\uff0c\u4f60\u4f1a\u53d1\u73b0\u7b2c $4$ \u4e2a\u70b9 TLE \u4e86\uff0c\u5e76\u4e14\u5f00\u59cb\u6000\u7591\u81ea\u5df1\u7a0b\u5e8f\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u6b63\u786e\u6027\u3002\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u518d\u770b\u4e00\u773c\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u8fd9\u4e2a\u65f6\u5019\u770b\u4e0b\u754c\uff1a$1\\le n$\u3002\u6240\u4ee5\uff0c$n=1$ \u7684\u65f6\u5019\u4e0a\u9762\u90a3\u4e2a\u5f0f\u5b50\u5c31\u4e0d\u9002\u7528\u4e86\uff0c\u76f4\u63a5\u8f93\u51fa $0$ \u5c31\u597d\u4e86\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\n\nusing namespace std;\n\nconst int mod = 998244353;\nconst int maxn = 1e5;\n\nint n;\nint fac[maxn + 1];\nint inv[maxn + 1];\n\nint power(int base, int freq, int mod) {\n\tint tmp = base, ans = 1;\n\twhile (freq) {\n\t\tif (freq & 1) ans = ans * tmp % mod;\n\t\tfreq >>= 1;\n\t\ttmp = tmp * tmp % mod;\n\t}\n\treturn ans;\n}\n\nvoid init() {\n\tfac[0] = 1;\n\tfor (int i = 1; i <= maxn; i++) {\n\t\tfac[i] = fac[i - 1] * i % mod;\n\t}\n\tinv[maxn] = power(fac[maxn], mod - 2, mod);\n\tfor (int i = maxn - 1; i >= 0; i--) {\n\t\tinv[i] = inv[i + 1] * (i + 1) % mod; \n\t} \n}\n\nint C(int n, int m) {\n\tif (n < m) return 0;\n\treturn fac[n] * inv[m] % mod * inv[n - m] % mod;\n}\n\nsigned main() {\n\tinit();\n\tcin >> n;\n\tif (n == 1) {\n\t\tcout << 0 << endl;\n\t\treturn 0;\n\t}\n\tn -= 2;\n\tif (n % 2 == 0) {\n\t\tcout << (power(2, n, mod) - C(n, n / 2) + mod) % mod; \n\t} else {\n\t\tcout << power(2, n, mod); \n\t}\n\treturn 0;\n}\n```",
        "postTime": 1664113672,
        "uid": 362750,
        "name": "TernaryTree",
        "ccfLevel": 0,
        "title": "P8106 [Cnoi2021]\u6570\u5b66\u7ec3\u4e60"
    },
    {
        "content": "# \u89e3\u9898\u601d\u8def\n\n\u8fd9\u4e48\u6c34\u7684\u9898\u7adf\u7136\u6ca1\u6709\u5927\u4f6c\u4ea4\u9898\u89e3...\n\n\u9996\u5148\uff0c$\\because |S| \\notin S, |T| \\notin T \\therefore |S| \\in T, |T| \\in S$\u3002\n\n\u786e\u5b9a\u4e86\u8fd9\u4e24\u4e2a\u503c\u5728\u54ea\u8fb9\uff0c\u5176\u4f59 $(n-2)$ \u4e2a\u6392\u5728\u54ea\u8fb9\u90fd\u65e0\u6240\u8c13\u4e86\uff0c\u6709 $2^{n-2}$ \u79cd\u65b9\u6cd5\u3002\n\n\u6ce8\u610f\u4e00\u4e2a\u503c\u4e0d\u80fd\u540c\u65f6\u5728 S \u548c T \u4e2d\uff0c\u5219 $|S| \\ne |T|$\u3002\u8fd9\u79cd\u60c5\u51b5\u53ea\u4f1a\u5728 $n$ \u4e3a\u5076\u6570\u65f6\u53d1\u751f\uff0c\u6240\u4ee5\u6b64\u65f6\u7684\u603b\u65b9\u6848\u6570\u5e94\u8be5\u51cf\u53bb\u4ece $n-2$ \u4e2a\u6570\u4e2d\u9009\u51fa\u4e00\u534a\u653e\u5728 S \u4e2d\u7684\u6570\u91cf\uff0c\u5373 $C_{n-2}^{(n-2)/2}$\u3002\n\u6700\u540e\u6ce8\u610f\u7684\u662f $n=1$ \u65f6\u9700\u8981\u7279\u5224\uff0c\u56e0\u4e3a\u6839\u672c\u6ca1\u6709 $|S|$ \u548c $|T|$ \u4e24\u4e2a\u503c\u3002\n\n# \u4ee3\u7801\u5b9e\u73b0\n\n\u7ec4\u5408\u6570\u53d6\u6a21\u7528\u4e86\u4e00\u70b9 Lucas\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\nconst int P = 998244353;\nint qpow(int x, int y) {\n\tint res = 1;\n\twhile (y) {\n\t\tif (y & 1) {\n   \t\t\t(res *= x) %= P;\n\t\t}\n\t\t(x *= x) %= P;\n\t\ty >>= 1;\n\t}\n\treturn res;\n}\nint C(int n, int m) {\n\tint a = 1, b = 1;\n\tfor (int i = 1; i <= m; ++i) {\n\t\t(a *= i) %= P;\n\t\t(b *= n - i + 1) %= P;\n\t}\n\treturn b * qpow(a, P - 2) % P;\n}\nint Lucas(int n, int m) {\n    return !m ? 1 : C(n % P, m % P) * Lucas(n / P, m / P) % P;\n}\nsigned main() {\n\tios :: sync_with_stdio(0);\n    int n;\n    cin >> n;\n    if (n == 1) {\n\t\tcout << 0 << '\\n';\n\t\treturn 0;\n\t}\n    int res = qpow(2, n - 2);\n    if (!(n & 1)) {\n    \t(res -= Lucas(n - 2, n - 2 >> 1) - P) %= P;\n\t}\n\tcout << res << '\\n';\n\treturn 0;\n}\n```\n\nGood Good \u8d3a\u9898\uff0cDay Day Up\uff01\uff01",
        "postTime": 1644383541,
        "uid": 308106,
        "name": "_rockyyue_",
        "ccfLevel": 0,
        "title": "\u849f\u84bb\u541b\u7684\u5237\u9898\u65e5\u8bb0Day13\uff1aP8106 [Cnoi2021]\u6570\u5b66\u7ec3\u4e60"
    },
    {
        "content": "\u9898\u76ee\uff1a\u6c42\u5c06\u4e00\u4e2a\u96c6\u5408 $ \\texttt{U}\\{1,2,3,\\cdots,n\\}$ \u5212\u5206\u6210\u4e24\u4e2a\u5b50\u96c6 $S,T$ \uff0c\u4f7f\u5f97 $|S|\\notin S,|T|\\notin T$\n\u7684\u65b9\u6848\u6570\u3002\n\n\u8fd9\u9053\u9898\u76ee\uff0c\u6211\u4eec\u53ef\u4ee5\u66f4\u52a0\u6e05\u6670\u660e\u4e86\u7684\u7406\u89e3\u9898\u76ee\uff1a\u6c42\u5c06\u4e00\u4e2a\u96c6\u5408 $ \\texttt{U}\\{1,2,3,\\cdots,n\\}U{1,2,3,\u22ef,n}$ \u5212\u5206\u6210\u4e24\u4e2a\u5b50\u96c6 $S,T$ \uff0c\u4f7f\u5f97 $|T|\\in S,|S|\\in T$ \u7684\u65b9\u6848\u6570\u3002\n\n\u5e76\u4e14\uff0c\u53ea\u8981\u77e5\u9053\u4e86 $|U|$ , $|S|$ ,\u6211\u4eec\u5c31\u77e5\u9053\u4e86$|C|=|U|-|S|$ \uff0c\u8fd9\u5f88\u597d\u7406\u89e3\uff0c\u90a3\u4e48 $n$ \u5df2\u7ecf\u7ed9\u51fa\uff0c\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e $|S|-1$ \uff0c\u662f\u56e0\u4e3a $|T|\\in S,|S|\\in T$ \u4e0d\u7528\u989d\u5916\u679a\u4e3e\u8fd9\u4e24\u4e2a\u6570\uff0c\u6240\u4ee5 $S$ \u5408\u6cd5\u7684\u65b9\u6848\u6570\u4e3a $C_{|U|-2}^{|S|}$ \u3002\u56e0\u4e3a $\\sum_{i\\notin S}i\\in T$ ,\u6211\u4eec\u4e0d\u9700\u8981\u989d\u5916\u679a\u4e3e $T$ \u96c6\u5408\u5408\u6cd5\u7684\u65b9\u6848\u6570\u4e86\u3002\n\n\u73b0\u5728\u6211\u4eec\u5f97\u51fa\u4e86\u516c\u5f0f\uff1a\n\n$$ans=\\sum_{i=0}^{n-2}C_{n-2}^{i}$$\n\n\u6839\u636e\u7ec4\u5408\u6052\u7b49\u5f0f\uff1a $\\sum_{i=0}^{n}C_{n}^{i}=2^n$\n\n\u5c06\u521a\u521a\u7684\u516c\u5f0f\u5e26\u5165\uff0c\u5f97\uff1a\n$$ans=\\sum_{i=0}^{n-2}C_{n-2}^{i}=2^{n-2}$$\n\n## \u7b49\u7b49\uff0c\u8fd8\u6ca1\u5b8c\uff01\n\u7279\u522b\u7684\uff0c\u5f53 $ n$ \u662f $ 2$ \u7684\u500d\u6570\u65f6\uff0c\u603b\u6709 $|S| = |T|$ ,\u6240\u4ee5\u7b54\u6848\u51cf\u53bb $C_{n-2}^{\\frac{n-2}{2}}$ \u5373\u53ef\u3002\u8be6\u89c1\u4ee3\u7801\n\n# $code$\n```\n#include<bits/stdc++.h>\n#define p 998244353\n#define ll long long \nusing namespace std;\nll n;\nll quickpower(ll a,ll b){\n\tll base=a,ans=1;\n\twhile(b>0){\n\t\tif(b & 1) ans=ans*base%p;\n\t\tbase=base*base%p;\n\t\tb=b>>1;\t\n\t}\n\treturn ans%p;\n}\nll C(ll m,ll n){\n\tll ans=1,sum=1;\n\tfor(ll i=n;i>n-m;i--) ans=ans*i%p;\n\tfor(ll i=1;i<=m;i++) sum=sum*i%p;\n\treturn ans*quickpower(sum,p-2)%p; \n}\nint main(){\n    cin>>n;\n    if(n<=2) cout<<0;\n    else if(n%2!=0)\tcout<<quickpower(2,n-2);\n    else{\n    \tll ans=(quickpower(2,n-2)-C((n-2)/2,n-2))%p;\n    \tif(ans<0) ans+=p;\n    \tcout<<ans;\n\t}\n} \n```\n\u7ba1\u7406\u5927\u5927\uff0c\u4e0a\u6b21\u4ea4\u6709\u4e9b\u5730\u65b9\u8868\u8ff0\u3001\u6c49\u5b57\u6709\u8bef\uff0c\u5df2\u66f4\u6b63\uff0c\u518d\u4ea4\u4e00\u904d\u3002\n",
        "postTime": 1658329371,
        "uid": 593595,
        "name": "Diavolo",
        "ccfLevel": 6,
        "title": "P8106 [Cnoi2021]\u6570\u5b66\u7ec3\u4e60"
    },
    {
        "content": "[\u535a\u5ba2\u9605\u8bfb\u6548\u679c\u66f4\u4f73](https://www.luogu.com.cn/blog/love-forever-764/solution-p8106)\n### 1. \u9898\u610f\n\n\u9898\u610f\u5f88\u6e05\u695a\uff1a\u7ed9\u4f60\u4e00\u4e2a\u7531 $n$ \u7684\u6392\u5217\u7ec4\u6210\u7684\u96c6\u5408\uff0c\u8ba9\u4f60\u5206\u6210\u4e24\u4e2a\u975e\u7a7a\u7684\u5b50\u96c6 $S$ \u548c $T$\uff0c\u4f7f\u5f97\u4e0e $S$ \u7684\u5927\u5c0f\uff08\u5373 $|S|$\uff09\u76f8\u7b49\u7684\u5143\u7d20\u4e0d\u5728 $S$ \u4e2d\uff0c\u4e0e $T$ \u7684\u5927\u5c0f\uff08\u5373 $|T|$\uff09\u76f8\u7b49\u7684\u5143\u7d20\u4e0d\u5728 $T$ \u4e2d\u3002\n### 2.\u89e3\u6cd5\u4e00\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u9898\u610f\u8f6c\u5316\u4e00\u4e0b\uff0c\u65e2\u7136 $|S|\\notin S$\uff0c$|T|\\notin T$\uff0c\u90a3\u4e48\u4fbf\u6709 $|S|\\in T$\uff0c$|T|\\in S$\uff0c\u5373\u5bf9\u4e8e\u6bcf\u79cd\u5212\u5206\u65b9\u5f0f\uff0c\u603b\u6709\u4e24\u4e2a\u5143\u7d20\u6240\u5728\u96c6\u5408\u5df2\u7ecf\u786e\u5b9a\u4e86\u6211\u4eec\u5c31\u53ef\u4ee5\u8003\u8651\u679a\u4e3e $|S|$\uff0c\u65b9\u6848\u6570\u5c31\u662f: \n$$\\sum_{i=1}^{n-1}\\mathrm{C}_{n-2}^{i-1}\\qquad (n\\bmod2=1)$$\n$$\\sum_{i=1}^{n-1}\\mathrm{C}_{n-2}^{i-1}-\\mathrm {C}_{n-2}^{\\frac{n-2}{2}}\\qquad (n\\bmod2=0)$$\n\n\u56e0\u4e3a $|S|=|T|$ \u65f6\u4e0d\u5b58\u5728\u5408\u6cd5\u89e3\uff0c\u6240\u4ee5\u8981\u51cf\u53bb $\\mathrm {C}_{n-2}^{\\frac{n-2}{2}}$\u3002\n\n\u81f3\u6b64\uff0c\u6211\u4eec\u5df2\u7ecf\u53ef\u4ee5\u5728 $O(n\\log n)$ \u7684\u590d\u6742\u5ea6\u5185\u89e3\u51b3\u672c\u9898\u4e86\uff08\u6c42\u9006\u5143\u81ea\u5e26 $\\log$\uff09\uff0c\u4f46\u8fd8\u6709\u6ca1\u6709\u66f4\u4f18\u7684\u590d\u6742\u5ea6\u5462\uff0c\u5f53\u7136\u6709\u5566\u3002\n\n### 3.\u89e3\u6cd5\u4e8c\n\n\u6211\u4eec\u5bb9\u6613\u53d1\u73b0\uff0c\u4e0a\u9762\u7684 $\\sum_{i=1}^{n-1}\\mathrm{C}_{n-2}^{i-1}$ \u5f0f\u5b50\u5176\u5b9e\u5c31\u662f $\\sum_{i=0}^{n-2}\\mathrm{C}_{n-2}^{i}$\uff0c\u6211\u4eec\u53ef\u4ee5\u5957\u7528\u4e8c\u9879\u5f0f\u5b9a\u7406\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5f0f\u5b50\u5c31\u7b49\u4e8e $2^{n-2}$ \uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u6b21\u5feb\u901f\u5e42\u6c42\u51fa\uff0c\u90a3\u4e48\u590d\u6742\u5ea6\u5c31\u4f18\u5316\u5230\u4e86 $O(n+\\log n)$ \u3002\n\n### 4.\u4ee3\u7801\n\n$O(n\\log n)$\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define int long long\nusing namespace std;\nconst int MAX=1e5+10;\nconst int MOD=998244353;\ninline int read() {\n  int fh = 1, res = 0; char ch = getchar();\n  for(; !isdigit(ch); ch = getchar()) if(ch == '-') fh = -1;\n  for(; isdigit(ch); ch = getchar()) res = (res << 3) + (res << 1) + (ch ^ '0');\n  res = res * fh;\n  return res;\n}\ninline void write(ll x) {\n    if(x<0){putchar('-');x=-x;}\n    if(x>9) write(x/10);\n    putchar(x%10+'0');\n}\nint jc[MAX],ans;\nint ksm(int ds,int zs)\n{\n\tint ret=1;\n\twhile(zs)\n\t{\n\t\tif(zs&1) ret=(ret*ds)%MOD;\n\t\tzs>>=1;\n\t\tds=(ds*ds)%MOD;\n\t}\n\treturn ret;\n}\nint C(int n,int m)\n{\n\treturn ((jc[n]*ksm(jc[m],MOD-2))%MOD*(ksm(jc[n-m],MOD-2)))%MOD;\n}\nsigned main()\n{\n//\tcout<<ksm(2,3)<<endl;\n\tint n=read();jc[0]=1;\n\tfor(int i=1;i<=n;i++) jc[i]=(jc[i-1]*i)%MOD;\n\tfor(int i=1;i<=(n-1)/2;i++)//\u5229\u7528\u5bf9\u79f0\u6027\uff0c\u8fdb\u884c\u7684\u5c0f\u4f18\u5316\uff0c\u540c\u65f6\u5229\u7528\u4e0b\u53d6\u6574\u53ef\u4ee5\u7701\u53bb\u7279\u5224\n\t\tans=(ans+C(n-2,i-1))%MOD;\n\tcout<<(ans*2)%MOD;\n\treturn 0;\n}\n```\n$O(n+\\log n)$\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define int long long\nusing namespace std;\nconst int MOD=998244353;\ninline int read() {\n  int fh = 1, res = 0; char ch = getchar();\n  for(; !isdigit(ch); ch = getchar()) if(ch == '-') fh = -1;\n  for(; isdigit(ch); ch = getchar()) res = (res << 3) + (res << 1) + (ch ^ '0');\n  res = res * fh;\n  return res;\n}\ninline void write(ll x) {\n    if(x<0){putchar('-');x=-x;}\n    if(x>9) write(x/10);\n    putchar(x%10+'0');\n}\nint ans;\nint ksm(int ds,int zs)\n{\n\tint ret=1;\n\twhile(zs)\n\t{\n\t\tif(zs&1) ret=(ret*ds)%MOD;\n\t\tzs>>=1;\n\t\tds=(ds*ds)%MOD;\n\t}\n\treturn ret;\n}\nsigned main()\n{\n//\tcout<<ksm(2,3)<<endl;\n\tint n=read(),jc1=1,jc2=1;\n\tif(n<=2) return puts(\"0\"),0;\n\tif(n&1) cout<<ksm(2,n-2);\n\telse\n\t{\n\t\tfor(int i=1;i<=(n-2)/2;i++) jc1=(jc1*i)%MOD;\n\t\tfor(int i=(n-2)/2+1;i<=n-2;i++) jc2=(jc2*i)%MOD;\n\t\tcout<<(ksm(2,n-2)+MOD-(jc2*ksm(jc1,MOD-2))%MOD)%MOD;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1644378225,
        "uid": 230875,
        "name": "Surge_of_Force",
        "ccfLevel": 0,
        "title": "P8106 [Cnoi2021]\u6570\u5b66\u7ec3\u4e60 \u9898\u89e3"
    },
    {
        "content": "# \u524d\u7f6e\u829d\u58eb\n### \u7ec4\u5408\u6570\n\u4ece $n$ \u4e2a\u4e0d\u540c\u5143\u7d20\u4e2d\uff0c\u4efb\u53d6 $m$ \u4e2a\u5143\u7d20\u5e76\u6210\u4e00\u7ec4\uff0c\u53eb\u505a\u4ece $n$ \u4e2a\u4e0d\u540c\u5143\u7d20\u4e2d\u53d6\u51fa $m$ \u4e2a\u5143\u7d20\u7684\u4e00\u4e2a\u7ec4\u5408\uff1b\u4ece $n$ \u4e2a\u4e0d\u540c\u5143\u7d20\u4e2d\u53d6\u51fa $m$ \u4e2a\u5143\u7d20\u7684\u6240\u6709\u7ec4\u5408\u7684\u4e2a\u6570\uff0c\u53eb\u505a\u4ece $n$ \u4e2a\u4e0d\u540c\u5143\u7d20\u4e2d\u53d6\u51fa $m$ \u4e2a\u5143\u7d20\u7684\u7ec4\u5408\u6570\u3002\n\n\u516c\u5f0f\u4e3a ${ n \\choose m }$ \u4e5f\u5c31\u662f $n$ \u4e2a\u91cc\u53d6  $m$ \u4e2a\uff08\u6211\u4e0d\u4f1a\u7b2c\u4e00\u7bc7\u9898\u89e3\u90a3\u6837\u7684\u6392\u7248\u545c\u545c\uff09\u3002\n\n\u540c\u65f6 ${ n \\choose m }$ = $\\frac {n!} {m!(n - m)!}$\n\n### \u5feb\u901f\u5e42\n\u76f8\u4fe1\u6765\u505a\u8fd9\u9053\u9898\u7684\u90fd\u4f1a\u5feb\u901f\u5e42\u5427\uff0c\u7b80\u800c\u8a00\u4e4b\u5c31\u662f\u5728 $log$ \u7ea7\u522b\u7684\u65f6\u95f4\u6c42\u51fa\u6765\u7ed3\u679c\n\n### \u8d39\u9a6c\u5c0f\u5b9a\u7406\n\u8d39\u9a6c\u5c0f\u5b9a\u7406\uff1a\u5047\u5982 $p$ \u662f\u8d28\u6570\uff0c\u4e14 $gcd(a , p)$ = 1\uff0c\u90a3\u4e48 $a$ ($p$ - 1)  \u2261 1 \uff08$mod$ $p$)\u3002\u5373\uff1a\u5047\u5982 $a$ \u662f\u6574\u6570\uff0c$p$ \u662f\u8d28\u6570\uff0c\u4e14 $a$ \uff0c$p$ \u4e92\u8d28(\u5373\u4e24\u8005\u53ea\u6709\u4e00\u4e2a\u516c\u7ea6\u65701)\uff0c\u90a3\u4e48 $a$ \u7684($p$ - 1)\u6b21\u65b9\u9664\u4ee5p\u7684\u4f59\u6570\u6052\u7b49\u4e8e1\u3002\n\n[\u8bc1\u660e](https://baijiahao.baidu.com/s?id=1692592276181016038&wfr=spider&for=pc)\n\n\u56e0\u6b64\uff0c\u663e\u800c\u6613\u89c1\u5b83\u7684 $p$ - 2 \u6b21\u65b9\u5c31\u662f\u5b83\u7684\u53d6\u6a21\u610f\u4e49\u4e0b\u7684\u9006\u5143\u4e86\u5457\u3002\n\n# \u89e3\u9898\u601d\u8def\n\u518d\u56de\u8fc7\u5934\u6765\u770b\u8fd9\u4e2a\u9898\uff0c\u5f53\u4f60\u7406\u89e3\u9898\u610f\u65f6\uff0c\u4f60\u4f1a\u53d1\u73b0\u5982\u679c $n$ \u662f\u5076\u6570\uff0c\u4e24\u4e2a\u96c6\u5408\u7684\u5927\u5c0f\u76f8\u7b49\u65f6\uff0c\u662f\u77db\u76fe\u4e0d\u6210\u7acb\u7684\uff0c\u6240\u4ee5\u5c31\u5148\u8981\u5206\u7c7b\u8ba8\u8bba\u3002\n\n**\u5148\u8ba8\u8bba\u6bd4\u8f83\u7b80\u5355\u7684\u5947\u6570\u60c5\u51b5**\n\n\u5f53\u6211\u4eec\u4e24\u4e2a\u96c6\u5408\u7684\u5927\u5c0f\u5206\u522b\u4e3a $a$, $b$ \u65f6\uff0c $b$ \u8fd9\u4e2a\u6570\u4e00\u5b9a\u8981\u5728\u96c6\u54081\u91cc\uff0c $a$ \u4e00\u5b9a\u8981\u5728\u96c6\u54082\u91cc\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u8981\u4ece\u5269\u4e0b\u7684 $n - 2$ \u4e2a\u91cc\u9762\u6311\u51fa\u6765 $a - 1$ \u4e2a\u6570\uff0c \u5f53\u7136\u6311\u51fa\u6765 $b - 1$ \u4e2a\u4e5f\u53ef\u4ee5\u3002\n\n\u6211\u4eec\u518d\u8003\u8651 $a - 1$ \u7684\u8303\u56f4\u662f\u4ece0\u5230 $n - 2$ \u7684\uff0c\u90a3\u4e48\u5c31\u662f\u4ece ${ n - 2 \\choose 0 }$ \u5230 ${ n - 2 \\choose n - 2 }$ \u7684\u548c\uff0c **\u901a\u8fc7\u4e8c\u9879\u5f0f\u5b9a\u7406\u53ef\u77e5\u5c31\u662f2\u7684 $n - 2$ \u6b21\u65b9**\uff0c\u4e5f\u53ef\u4ee5\u8003\u8651\u5b9e\u9645\u610f\u4e49\uff0c\u6bcf\u4e2a\u4eba\u90fd\u53ef\u4ee5\u6311\u6216\u8005\u4e0d\u6311\u3002\n\n**\u518d\u8003\u8651\u5076\u6570\u7684\u60c5\u51b5**\n\n\u524d\u9762\u5df2\u7ecf\u8bf4\u8fc7\uff0c\u5f53\u4e24\u4e2a\u96c6\u5408\u5927\u5c0f\u76f8\u7b49\u7684\u65f6\u5019\u662f\u4e0d\u6210\u7acb\u7684\uff0c\u90a3\u6211\u4eec\u76f4\u63a5\u51cf\u53bb\u8fd9\u90e8\u5206\u4e0d\u5c31\u884c\u5566\u3002\u4e5f\u5c31\u662f\u51cf\u53bb ${ n - 2 \\choose (n - 2) / 2}$.\n# AC code\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nconst int MAXN = 1e5 + 10;\nconst int mod = 998244353;\nusing namespace std;\nint n, jc[MAXN], inv[MAXN], ans;\nint quick_pow(int a, int p)\n{\n\tint res = 1;\n\twhile(p)\n\t{\n\t\tif(p & 1) (res *= a) %= mod;\n\t\t(a *= a) %= mod;\n\t\tp >>= 1;\n\t}\n\treturn res % mod;\n}\nint C(int x, int y)\n{\n\treturn jc[x] * inv[y] % mod * inv[x - y] % mod;\n}\nsigned main()\n{\n\tscanf(\"%lld\", &n);\n\tif(n == 1)\n\t{\n\t\tprintf(\"0\");\n\t\treturn 0;\n\t}\n\tif(n & 1)\n\t{\n\t\tprintf(\"%lld\", quick_pow(2, n - 2));\n\t}\n\telse\n\t{\n\t\tjc[0] = jc[1] = 1;\n\t\tfor (int i = 2; i <= n; i++) jc[i] = (jc[i - 1] * i) % mod;\n\t\tinv[n] = quick_pow(jc[n], mod - 2) % mod;//\u8fd9\u91cc\u5176\u5b9e\u76f4\u63a5fermat\u5c31\u884c\u4e86\uff0c\u4e0d\u7528\u9884\u5904\u7406\u51fa\u6765\u6240\u6709\u7684\uff0c\u4f46\u662f\u5728\u591a\u7ec4\u7684\u65f6\u5019\u8fd9\u6837\u5199\u7684\u597d\u5904\u5c31\u4f1a\u5f88\u660e\u663e\n\t\tfor (int i = n - 1; i >= 0; i--) inv[i] = inv[i + 1] * (i + 1) % mod;\n\t\tans = quick_pow(2, n - 2);\n\t\tprintf(\"%lld\", (ans - C(n - 2, (n - 2) / 2) + mod) % mod);\n\t}\n\treturn 0;\n} \n```\n",
        "postTime": 1656415704,
        "uid": 453100,
        "name": "Tzs_yousa",
        "ccfLevel": 4,
        "title": "P8106\u9898\u89e3"
    },
    {
        "content": "### \u9898\u76ee\u5206\u6790\n\n\u56e0\u4e3a $|S|\\not\\in S$\uff0c\u6240\u4ee5 $|S|\\in T$ . \u540c\u7406\u53ef\u5f97 $|T|\\in S$ . \u5728 $U$ \u5269\u4f59\u7684 $(n-2)$ \u4e2a\u5143\u7d20\u4e2d\uff0c\u6bcf\u4e2a\u5143\u7d20\u6709 $2$ \u79cd\u9009\u62e9\uff1a\u5728 $S$ \u4e2d\u6216\u5728 $T$ \u4e2d\u3002\u6839\u636e\u52a0\u4e58\u539f\u7406\u53ef\u77e5\uff0c\u5269\u4e0b\u7684\u5143\u7d20\u6709 $2^{n-2}$ \u79cd\u9009\u62e9\u3002\n\n\u5f53 $2|n$ \u65f6\uff0c\u53ef\u80fd\u51fa\u73b0 $|S|=|T|$ \u7684\u60c5\u51b5\u3002\u6b64\u65f6 $|S|$ \u548c $|T|$ \u5747\u4e0d\u5728\u96c6\u5408 $S,T$ \u4e2d\uff0c\u4e0e\u9898\u76ee\u77db\u76fe\uff0c\u6240\u4ee5\u8981\u53bb\u6389\u8fd9\u79cd\u60c5\u51b5\u3002\u90a3\u4e48\u5982\u4f55\u8ba1\u7b97\u8fd9\u79cd\u60c5\u51b5\u5462\uff1f$|S|$ \u548c $|T|$ \u5df2\u7ecf\u56fa\u5b9a\u4e86\uff0c\u6240\u4ee5 $S$ \u548c $T$ \u4e2d\u7684\u5143\u7d20\u53ea\u80fd\u5728\u5269\u4e0b\u7684 $(n-2)$ \u4e2a\u5143\u7d20\u4e2d\u9009\uff0c\u4e14\u6b64\u65f6 $S$ \u4e2d\u5b9e\u9645\u4e0a\u53ea\u6709 $(n-2)/2$ \u4e2a\u5143\u7d20\u3002\u6240\u4ee5\u8981\u53bb\u6389 $C_{n-2}^{(n-2)/2}$ \u79cd\u60c5\u51b5\u3002\n\n\u6700\u540e\u8fd8\u9700\u8003\u8651 $n=1$ \u65f6\u7684\u60c5\u51b5\u3002\u5f53 $n=1$ \u65f6\uff0c$U$ \u4e0d\u53ef\u80fd\u88ab\u5212\u5206\u4e3a\u4e24\u4e2a\u4e0d\u540c\u7684\u96c6\u5408\uff0c\u6240\u4ee5\u6b64\u65f6\u7b54\u6848\u662f $0$ .\n\n### \u5b9e\u73b0\n\n\u7531\u4e8e\u6b64\u9898\u6570\u636e\u8303\u56f4\u8f83\u5927\uff08 $1\\leq n\\leq 10^5$ \uff09\u4e14\u6709\u6a21\u6570\uff08 $mod=998244353$ \uff09\uff0c\u5bf9\u4e8e\u5947\u6570\u7684\u60c5\u51b5\uff0c\u5e94\u91c7\u7528\u5feb\u901f\u5e42\u8ba1\u7b97\u3002\n\n```cpp\nint power(int a, int b, int p) { //\u5feb\u901f\u5e42 \n\tint ans = 1;\n\twhile (b) {\n\t\tif (b & 1)\n\t\t\tans = (int)ans * a % p;\n\t\ta = (int)a * a % p;\n\t\tb >>= 1;\n\t}\n\treturn ans;\n}\n```\n\n\u6700\u540e\u8f93\u51fa $2^{n-2}\\bmod 998244353$ \u5373\u53ef\u3002\n\n\u5bf9\u4e8e\u5076\u6570\u7684\u60c5\u51b5\uff0c\u6709 $C_{a}^{b}=\\dfrac{a!}{b!(a-b)!}$ . \u7531\u4e8e\u6a21\u6570\u662f\u8d28\u6570\uff0c\u6240\u4ee5\u9664\u6cd5\u8fd0\u7b97\u53ef\u8f6c\u6362\u4e3a\u4e58\u6cd5\u9006\u5143\u8fdb\u884c\u8fd0\u7b97\uff0c\u53ea\u9700\u8fdb\u884c\u9884\u5904\u7406\u5373\u53ef\u3002\n\n\u9884\u5904\u7406\u9636\u4e58\u53ca\u5176\u9006\u5143\uff1a\n\n```cpp\nfac[0] = 1;\ninfac[0] = power(fac[0], mod-2, mod); //\u9636\u4e58\u7684\u4e58\u6cd5\u9006\u5143\nfor (int i = 1; i <= n; ++i) {\n\tfac[i] = fac[i-1] * i % mod;\n\tinfac[i] = power(fac[i], mod-2, mod);\n}\n```\n\n\u7ec4\u5408\u6570\u8ba1\u7b97\uff1a\n\n\n```cpp\nint c(int a, int b) { //\u7ec4\u5408\u6570(\u9006\u5143) \n\treturn fac[a] * infac[a-b] % mod * infac[b] % mod; \n    //\u76f8\u5f53\u4e8e a!/(a-b)!/b! % mod\n}\n```\n\u6700\u540e\u8f93\u51fa $(2^{n-2}-C_{n-2}^{(n-2)/2}+998244353)\\bmod998244353$ \uff08\u6ce8\u610f\u4e00\u5b9a\u8981\u5148\u52a0\u4e0a\u6a21\u6570\uff0c\u5426\u5219\u7b54\u6848\u4f1a\u662f\u8d1f\u6570\uff0cWA on #2,5 \uff09\u3002\n\n\u4e0d\u8981\u5fd8\u8bb0\u7279\u5224\u5f53 $n=1$ \u7b54\u6848\u4e3a $0$ \uff08 TLE on #4 \uff09\u3002 \n\n\n### \u4ee3\u7801\n\n```cpp\n//P8106 [Cnoi2021]\u6570\u5b66\u7ec3\u4e60\n\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n\nusing namespace std;\n\n#define int long long\n#define endl '\\n'\n\nconst int N = 1e5 + 10;\nconst int mod = 998244353;\n\nint fac[N], infac[N];\n\nint power(int a, int b, int p) { //\u5feb\u901f\u5e42 \n\tint ans = 1;\n\twhile (b) {\n\t\tif (b & 1)\n\t\t\tans = (int)ans * a % p;\n\t\ta = (int)a * a % p;\n\t\tb >>= 1;\n\t}\n\treturn ans;\n}\n\nint c(int a, int b) { //\u7ec4\u5408\u6570(\u9006\u5143) \n\treturn fac[a] * infac[a-b] % mod * infac[b] % mod;\n}\n\nsigned main() {\n\tint n;\n\tcin >> n;\n\t\n\tif (n == 1)\n\t\tcout << 0 << endl;\n\telse if (n % 2 == 1)\n\t\tcout << power(2, n-2, mod) << endl;\n\telse {\n\t\tfac[0] = 1;\n\t\tinfac[0] = power(fac[0], mod-2, mod);\n\t\tfor (int i = 1; i <= n; ++i) {\n\t\t\tfac[i] = fac[i-1] * i % mod;\n\t\t\tinfac[i] = power(fac[i], mod-2, mod);\n\t\t}\n\t\tcout << (power(2, n-2, mod)-c(n-2, (n-2)/2)+mod) % mod << endl;\n\t}\n\t\n\treturn 0;\n}\n```",
        "postTime": 1654874259,
        "uid": 581830,
        "name": "Jasper08",
        "ccfLevel": 4,
        "title": "P8106 [Cnoi2021]\u6570\u5b66\u7ec3\u4e60 \u9898\u89e3"
    },
    {
        "content": "#### \u601d\u8def\n~~\u6c34\u9898~~\n\n\u9898\u76ee\u4e2d\u544a\u8bc9\u4f60 $  \\left | S \\right | \\notin S $ \uff0c$ \\left | T \\right | \\notin T $\n\u6240\u4ee5\u53ef\u5f97\u51fa $ \\left | S \\right | \\in T $ \uff0c $ \\left | T \\right | \\in S $ \u3002\u5269\u4e0b\u7684 $ n-2 $ \u4e2a\u6570\u600e\u4e48\u653e\u90fd\u65e0\u6240\u8c13\u4e86\uff0c\u6240\u4ee5\u5c31\u6709 $ 2^{n-2} $ \u79cd\u65b9\u6cd5\u3002\n\u4f46\u6709\u4e2a\u4f8b\u5916\uff1a\n\n\u5f53 $ n $ \u4e3a\u5076\u6570\u65f6\uff0c\u4e00\u4e2a\u503c\u4f1a\u540c\u65f6\u51fa\u73b0\u5728 $ S $ \uff0c $ T $ \u4e2d\uff0c\u6240\u4ee5\u9700\u8981\u7279\u5224\u4e00\u4e0b\uff0c\u51cf\u53bb\u4e00\u4e9b\u60c5\u51b5$C^{(n-2)/2}_{n-2}$\uff0c\u81f3\u6b64\uff0c\u5c31\u53ef\u4ee5\u4ee5 $ O(n \\log n) $ \u7ed3\u675f\u5566~\n\ntips : $2^{n-2}$ \u53ef\u4ee5\u7528[\u8d39\u9a6c\u5c0f\u5b9a\u7406\u6c42\u9006\u5143](https://blog.csdn.net/gaojunonly1/article/details/79965908?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164301640316780255256884%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=164301640316780255256884&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-79965908.first_rank_v2_pc_rank_v29&utm_term=%E8%B4%B9%E9%A9%AC%E5%B0%8F%E5%AE%9A%E7%90%86%E6%B1%82%E9%80%86%E5%85%83&spm=1018.2226.3001.4187)\n\u3002\n\n\u653e\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<algorithm>//\u4e0d\u4f1a\u7528\u4e07\u80fd\u5934\n#define int long long\nusing namespace std;\nconst int MAXN = 1e5 + 10;\nconst int MOD = 998244353;\n\nint n;\nint a[MAXN];\nint x,y;\nint calc(int a,int s,int p){\n\tint ans=1; \n\twhile(s){\n\t\tif(s&1) ans=ans*a%p;\n\t\ta=a*a%p;\n\t\ts>>=1;\n\t}\n\treturn ans%p;\n}//\u5feb\u901f\u5e42\nint zuhe(int m,int n){\n\tint x=calc(a[m]*a[n-m]%MOD,MOD-2,MOD);\n    return a[n]*x%MOD;\n}//\u7ec4\u5408\u6570\nsigned main(){\n    scanf(\"%lld\",&n);\n    int ans=0;\n    a[0]=1;\n    for(int i=1;i<=n;i++){\n    \ta[i]=a[i-1]*i%MOD;\n\t}\n    int mid=n/2;\n    bool judge=false;\n    if(n%2==0) judge=true;\n   \tfor(int i=1;i<=n-1;i++){\n   \t\tif(judge==true&&i==mid) continue;\n   \t\tans=(ans+zuhe(i-1,n-2))%MOD;\n\t} \n   \tprintf(\"%lld\",ans);\n    return 0;\n}\n//\u5b8c\u7ed3\u6492\u82b1~~\n```\n",
        "postTime": 1652614882,
        "uid": 319214,
        "name": "Lvlinxi2010",
        "ccfLevel": 5,
        "title": "P8106 [Cnoi2021]\u6570\u5b66\u7ec3\u4e60 \u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8\u3002](https://www.luogu.com.cn/problem/P8106)\n## \u9898\u76ee\u601d\u8def\n\u7531 $|S|\\notin S$\uff0c$|T|\\notin T$\uff0c\u53ef\u77e5 $|S|\\in T$\uff0c$|T|\\in S$\u3002\u5176\u4f59\u7684\u6709\u4e24\u79cd\u9009\u62e9\uff0c\u5728 $S$ \u4e2d\u6216\u8005\u5728 $T$ \u4e2d\u3002\u5bf9\u4e8e\u8fd9 $n-2$ \u79cd\u60c5\u51b5\uff0c\u6839\u636e\u4e58\u6cd5\u539f\u7406\uff0c\u6709 $2^{n-2}$ \u79cd\u9009\u6cd5\u3002\u4f46\u662f\u6ce8\u610f $2\\mid n$ \u65f6\u4e0d\u80fd\u6709 $|S|=|T|$\uff0c\u6240\u4ee5\u9700\u8981\u51cf\u53bb $C_{n-2}^{\\frac{n-2}{2}}$\u3002\u4f46\u662f $1$ \u4e5f\u662f\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u8fd9\u65f6\u7b54\u6848\u5e94\u8be5\u4e3a $0$\u3002\n\n\u6240\u4ee5\u8bbe\u9009\u6cd5\u6709 $m$ \u79cd\u65f6\n$$ \\left\\{\n\\begin{array}{l}\nm=0\\qquad n=1  \\\\\nm=2^{n-2}\\qquad n\\bmod 2=1,n>1\\\\\nm=2^{n-2}-C_{n-2}^{\\frac{n-2}{2}}\\qquad 2\\mid n\n\\end{array}\n\\right.\n$$\n## \u7b97\u6cd5\u77e5\u8bc6\n\n\u5728\u6c42\u89e3\u7ec4\u5408\u6570\u4e2d\u9700\u8981\u4f7f\u7528\u9006\u5143\uff0c\u8ba1\u7b97 $2^{n-2}$ \u65f6\u9700\u8981\u4f7f\u7528\u5feb\u901f\u5e42\u3002\n\n**\u5feb\u901f\u5e42\uff1a\u5206\u6d3d\u5feb\u901f\u5e42**\n```cpp\n#define int long long\nconst int p=998244353;\nint quickpow(int a,int b){\n    int ans=1;\n    while(b){\n        if(b%2)ans=ans*a%p;\n        a=a*a%p;\n        b/=2;\n    }\n    return ans;\n}\n```\n**\u4e58\u6cd5\u9006\u5143**\n\n\u6c42 $a\\div b \\bmod p$\uff1a\n\n\u8bbe $a\\times x \\bmod p\u2261a\\div b \\bmod p$\u3002\n\n\u5219 $a\\times x\\times b \\bmod p\u2261a \\bmod p$\u3002\n\n\u5219 $x\\times b\u22611 \\bmod p$\u3002\n\n\u6839\u636e\u8d39\u9a6c\u5c0f\u5b9a\u7406\uff0c$b^{p-1}\u22611(\\bmod p)$\uff0c\u6545\u6709 $b^{p-2}\u2261x(\\bmod p)$ \uff0c\u53ef\u4ee5\u5229\u7528\u524d\u9762\u7684\u5feb\u901f\u5e42\u89e3\u51b3\u3002\n```cpp\nint niyuan(int k){\n    return quickpow(k,p-2);\n}\n```\n**\u7ec4\u5408\u6570\u8ba1\u7b97**\n\n\u8fd9\u65f6\u7528\u88ab\u9664\u6570\u4e58\u4ee5\u9664\u6570\u7684\u4e58\u6cd5\u9006\u5143\u5c31\u53ef\u4ee5\u4e86\u3002\n```cpp\nint A(int n,int m){\n    int ans=1;\n    for(int i=n;i>=n-m+1;--i)ans=ans*i%p;\n    return ans;\n}\nint C(int n,int m){\n    return A(n,m)*niyuan(A(m,m))%p;\n}\n```\n\u7136\u540e\u5f00\u59cb\u4e3b\u7a0b\u5e8f\uff01\u5c31\u6309\u7167\u524d\u9762\u7684\u516c\u5f0f\u8ba1\u7b97\u7ed3\u679c\uff0c\u5c31\u53ef\u4ee5 AC \u4e86\uff01\n```cpp\nsigned main(){\n    int n;\n    cin>>n;\n    if(n==1){\n        cout<<0<<endl;\n    }\n    else if(n%2==0){\n        cout<<(quickpow(2,n-2)-C(n-2,(n-2)/2)+p)%p<<endl;\n    }\n    else {\n        cout<<quickpow(2,n-2)<<endl;\n    }\n    return 0;\n}\n```\n",
        "postTime": 1652165270,
        "uid": 678965,
        "name": "EXCRT",
        "ccfLevel": 0,
        "title": "P8106 [Cnoi2021]\u6570\u5b66\u7ec3\u4e60 \u9898\u89e3"
    },
    {
        "content": "### \u521a\u521a\u5b66\u5b8c\u6392\u5217\u7ec4\u5408\u7279\u6765\u5199\u4e00\u7bc7\u9898\u89e3\n\n## 1. \u601d\u8def\n\u9996\u5148\u9898\u76ee\u8981\u6c42\u6211\u4eec\u5c06 $1$~$n$ \u7684\u6570\u5206\u4e3a\u4e24\u4e2a\u5b50\u96c6\u3002  \n$|S| \\notin S$ \u4e14 $|T| \\notin T$\u3002  \n$|S|$ \u8868\u793a\u7684\u662f $S$ \u96c6\u5408\u4e2d\u5143\u7d20\u7684\u4e2a\u6570\u3002   \n\u7531\u9898\u76ee\u7684\u7279\u6b8a\u6761\u4ef6\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u8be5\u6761\u4ef6\u7684\u4e00\u4e2a**\u5145\u8981\u6761\u4ef6** \uff1a  \n$|S| \\in T$ \u4e14 $|T| \\in S$\u3002 \n\n\u8fd9\u6837\u6211\u4eec\u5728 \u201c \u5b89\u7f6e \u201d  \u597d $|S|$ \u548c $|T|$ \u540e\u5c31\u53ef\u4ee5\u7528\u7ec4\u5408\u6570\u516c\u5f0f\u8f7b\u677e\u8ba1\u7b97\u51fa\u7b54\u6848\u4e86\u3002  \n\u4f46\u662f\u8fd9\u8fb9\u4ecd\u7136\u6709\u4e00\u4e2a\u6027\u8d28\u6211\u4eec\u6ca1\u6709\u7528\u5230 \uff1a  \n**\u5f53 $n$ \u4e3a\u5076\u6570\u65f6** $|S| \\neq |T|$  \u8fd9\u662f\u663e\u7136\u7684\uff0c\u4e5f\u662f**\u5fc5\u8981**\u7684\u3002  \n## 2. \u89e3\u6cd5\n\u679a\u4e3e $1 $~$ n - 1 $ \u4f5c\u4e3a S \u96c6\u5408\u7684\u5143\u7d20\u4e2a\u6570\u3002  \n\u5df2\u6709  $ |T| \\in S$\u3002  \n\u5229\u7528\u7ec4\u5408\u6570\u516c\u5f0f\u6311\u9009\u5269\u4e0b $i - 1$ \u4e2a\u6570\u3002  \n\u7531\u4e8e $n$ \u4e2a\u6570\u5168\u90e8\u6311\u5b8c \uff0c \u6240\u4ee5\u5269\u4e0b\u7684\u6570\u5168\u90e8\u7eb3\u5165 $T$ \u96c6\u5408\u3002  \n\u6211\u4eec\u53ea\u9700\u8981\u7b97 $S$ \u96c6\u5408\u6ee1\u8db3\u9898\u610f\u7684\u4e2a\u6570\u5373\u53ef\u3002  \n\u9644\u4e0a\u7ec4\u5408\u6570\u516c\u5f0f \uff1a  \n![](https://s3.bmp.ovh/imgs/2022/03/235d693cdce2562d.webp)  \n\u6ce8\u610f\u5230\u9664\u53f7\u4e14\u5728\u6a21\u610f\u4e49\u4e0b \uff0c \u6240\u4ee5\u6211\u4eec\u9700\u8981\u6c42 **\u9006\u5143**\u3002   \n\u6ce8\u610f\u5230\u6b64\u9898 $mod$ \u7684\u7279\u6b8a\u6027 \uff0c \u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 **\u8d39\u9a6c\u5c0f\u5b9a\u7406** \u6c42\u89e3\u9006\u5143\u3002   \n\u4e0d\u77e5\u9053\u9006\u5143\u5efa\u8bae\u5148\u505a\u505a [\u8fd9\u9053\u9898](https://www.luogu.com.cn/problem/P3811)\u3002   \n\u6700\u540e\u6ce8\u610f **\u7279\u5224 $n$ \u4e3a\u5076\u6570** \u7684\u60c5\u51b5\u5c31\u53ef\u4ee5\u4e86\u3002\n## 3. Code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=100005;\ntypedef long long ll;\nll mod=998244353;\nll n;\nll frac[maxn];\nll x,y;\nll inv(ll a,ll s,ll p){ // \u8d39\u9a6c\u5c0f\u5b9a\u7406\u6c42\u9006\u5143\n\tll ans=1; \n\twhile(s){\n\t\tif(s&1) ans=ans*a%p;\n\t\ta=a*a%p;\n\t\ts>>=1;\n\t}\n\treturn ans%p;\n}\nll C(ll m,ll n){\n\tll x=inv(frac[m]*frac[n-m]%mod,mod-2,mod);\n    return frac[n]*x%mod;\n}\nint main(){\n    scanf(\"%lld\",&n);\n    ll ans=0;\n    frac[0]=1;\n    for(ll i=1;i<=n;i++) frac[i]=frac[i-1]*i%mod; // \u9884\u5904\u7406\u9636\u4e58\n    ll mid=n/2;\n    bool judge=false;\n    if(n%2==0) judge=true;\n   \tfor(ll i=1;i<=n-1;i++){\n   \t\tif(judge==true&&i==mid) continue; // \u7279\u5224 n \u4e3a\u5076\u6570\n   \t\tans=(ans+C(i-1,n-2))%mod;\n\t} \n   \tprintf(\"%lld\",ans);\n    return 0;\n}\n```\n",
        "postTime": 1648047222,
        "uid": 392796,
        "name": "Think",
        "ccfLevel": 4,
        "title": "P8106[Cnoi2021]\u6570\u5b66\u7ec3\u4e60 \u9898\u89e3"
    },
    {
        "content": "# \u9898\u89e3 P8106\n\n~~\u9898\u5916\u8bdd\uff1a\u611f\u89c9\u6ca1\u6709\u7eff~~\n\n------------\n\n## Part 1.\u6392\u5217\u7ec4\u5408\n\n### \u6392\u5217\n\n\u4ece $n$ \u4e2a\u4e0d\u540c\u5143\u7d20\u4e2d\u4efb\u53d6 $m(m\\leq n)$ \u4e2a\u5143\u7d20\u6392\u6210\u7684\u4e00\u5217\uff0c\u53eb\u505a $n$ \u53d6 $m$ \u7684\u6392\u5217\uff0c\u8fd9\u79cd\u6392\u5217\u7684\u4e2a\u6570\u53eb\u505a\u6392\u5217\u6570 $A_n^m$\u3002\n\n$A_n^m=\\displaystyle\\frac{n!}{(n-m!)}$\n\n### \u7ec4\u5408\n\n\u4ece $n$ \u4e2a\u4e0d\u540c\u5143\u7d20\u4e2d\u4efb\u53d6 $m(m\\leq n)$ \u4e2a\u5143\u7d20\u5f62\u6210\u7684\u7ec4\u5408\uff0c\u53eb\u505a $n$ \u53d6 $m$ \u7684\u7ec4\u5408\uff0c\u8fd9\u79cd\u7ec4\u5408\u7684\u4e2a\u6570\u53eb\u505a\u7ec4\u5408\u6570 $C_n^m$\u3002\n\n\u6392\u5217\u6709\u5e8f\uff0c\u7ec4\u5408\u65e0\u5e8f\u3002\n\n$C_n^m=\\dbinom{n}{m}=\\displaystyle\\frac{A_n^m}{A_m^m}=\\frac{n!}{m!(n-m)!}$\n\n\u5f53 $m>n$ \u65f6\uff0c$A_n^m=C_n^m=0$\u3002\n\n\u8d39\u9a6c\u5c0f\u5b9a\u7406\u89e3\u6cd5\uff1a $A_m^{p-2}\\equiv\\displaystyle\\frac{1}{A_m}(\\bmod p)$ \u3002\n\n```cpp\nconst int N = 1e5 + 10;\nlong long A[N];//\u9884\u5904\u7406\u51fa\u9636\u4e58\nlong long C(long long n, long long m, long long p){\n    if(m > n) return 0;\n    return (A[n] * qpow(A[m], p-2, p) % p) * \n           qpow(A[n-m], p-2, p) % p;\n}\n```\n\n------------\n\n## Part 2.\u89e3\u6cd5\n\n\u65e2\u7136 $|S|\\notin S,|T|\\notin T$\uff0c\u90a3\u4e48 $|S|\\in T,|T|\\in S$\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e $|S|,|T|$\uff0c\u7136\u540e\u76f4\u63a5\u7b97\u6392\u5217\u7ec4\u5408\u3002\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u786e\u5b9a\u4e86\u4e24\u4e2a\u5143\u7d20\u7684\u4f4d\u7f6e\uff0c\u6240\u4ee5\u6c42 $C_{n-2}^{|S|-1}$\uff0c\u52a0\u8d77\u6765\u5373\u53ef\u3002\u4f46\u8981\u7279\u5224 $|S|=|T|$\u3002\n\n\u5177\u4f53\u5b9e\u73b0\u53ef\u80fd\u6709\u4e9b\u5dee\u5f02\u3002\n\n```cpp\n//P8106\n#include <bits/stdc++.h>\nusing namespace std;\n\nconst long long P = 998244353;\nlong long n, ans, A[100010];\n\nlong long qpow(long long a, long long b){\n\tlong long ans = 1;\n\twhile(b){\n\t\tif(b&1) ans = ans * a % P;\n\t\ta = a * a % P;\n\t\tb >>= 1;\n\t}\n\treturn ans;\n}\nlong long C(long long n, long long m){\n    if(m > n) return 0;\n    return (A[n] * qpow(A[m], P-2) % P) * qpow(A[n-m], P-2) % P;\n}\n\nint main(){\n\tscanf(\"%d\", &n);\n\tn -= 2, A[0] = 1, ans += 2;\n\tif(n <= 0) return puts(\"0\")&0;\n\tfor(long long i = 2; i <= n; ++ i) A[i] = A[i-1] * i % P;\n\tfor(int i = 1; i + i < n; ++ i)\n\t\tans = (ans + C(n, i)) % P,\n\t\tans = (ans + C(n, i)) % P;\n\tprintf(\"%d\\n\", ans);\n\treturn 0;\n}\n```",
        "postTime": 1645271802,
        "uid": 390770,
        "name": "AiRC0S",
        "ccfLevel": 0,
        "title": "P8106 [Cnoi2021] \u6570\u5b66\u7ec3\u4e60"
    },
    {
        "content": "## \u524d\u7f6e\u77e5\u8bc6\n\n\u7ec4\u5408\u6570\u516c\u5f0f\uff1a$C_n^m=\\frac{n!}{m!(n-m)!}$\u3002\n\n## \u89e3\u9898\u601d\u8def\n\n\u8bbe\u96c6\u5408 $1$ \u7684\u957f\u5ea6\u4e3a $x$\uff0c\u90a3\u4e48\u96c6\u5408 $2$ \u7684\u957f\u5ea6\u4e3a $n-x$\u3002\n\n\u90a3\u4e48 $x$ \u4e00\u5b9a\u5728\u96c6\u5408 $2$ \u5185\uff0c$n-x$ \u4e00\u5b9a\u5728\u96c6\u5408 $1$ \u5185\u3002\n\n\u6211\u4eec\u8003\u8651\u679a\u4e3e\u96c6\u5408 $1$ \u7684\u957f\u5ea6 $x$\u3002\n\n\u77e5\u9053\u957f\u5ea6\u540e\uff0c\u5982\u4f55\u6c42\u51fa\u65b9\u6848\u6570\uff1f\n\n\u56e0\u4e3a\u96c6\u5408 $2$ \u7684 $x$ \u5df2\u786e\u8ba4\uff0c\u96c6\u5408 $1$ \u7684 $n-x$ \u4e5f\u5df2\u786e\u8ba4\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u7b97\u51fa\u5c06 $n-2$ \u4e2a\u5143\u7d20\u5206\u522b\u653e\u5230\u5927\u5c0f\u4e3a $x-1$ \u4e0e $n-x-1$ \u7684\u96c6\u5408\u5185\u7684\u65b9\u6848\u6570\u3002\n\n\u56e0\u4e3a\u5728\u4e00\u4e2a\u96c6\u5408\u5185\uff0c\u5143\u7d20\u7684\u987a\u5e8f\u6539\u53d8\u662f\u4e0d\u4f1a\u4ea7\u751f\u65b0\u7684\u96c6\u5408\u7684\u3002\n\n\u6240\u4ee5\u8fd9\u5f88\u660e\u663e\u5c31\u662f\u4e00\u4e2a\u7ec4\u5408\u95ee\u9898\uff0c\u53ea\u8981\u7b97\u51fa $C_{n-2}^{x-1}$ \u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u4e8b\u5b9e\u4e0a\uff0c\u5904\u7406\u7ec4\u5408\u6570\u7684\u8fd9\u90e8\u5206\u53ef\u4ee5\u7528\u4e58\u6cd5\u9006\u5143\u6765\u89e3\u51b3\uff0c\u5177\u4f53\u89c1\uff1a[P3811 \u3010\u6a21\u677f\u3011\u4e58\u6cd5\u9006\u5143](https://www.luogu.com.cn/problem/P3811)\u3002\n\n\u6839\u636e\u4e0a\u9762\u7684\u7ec4\u5408\u6570\u516c\u5f0f\uff0c\u5f88\u660e\u663e\u8981\u7528\u5230\u9636\u4e58\uff0c\u4f46\u662f\uff0c\u5982\u679c\u6bcf\u679a\u4e3e\u4e00\u6b21\u957f\u5ea6\u5c31\u8ba1\u7b97\u4e00\u6b21\u9636\u4e58\u7684\u8bdd\uff0c\u5c31\u6709\u592a\u591a\u591a\u4f59\u7684\u8ba1\u7b97\u3002\n\n\u6240\u4ee5\u6211\u4eec\u8003\u8651\u9884\u5904\u7406\u51fa $[1,n]$ \u7684\u9636\u4e58\uff0c\u8282\u7701\u4e86\u65f6\u95f4\u590d\u6742\u5ea6\u3002\n\n\u4f46\u662f\uff0c\u518d\u8003\u8651\u4e00\u79cd\u60c5\u51b5\uff1a$x$ \u7b49\u4e8e $n-x$\u3002\n\n\u56e0\u4e3a\u5f88\u660e\u663e\u6ca1\u6709\u4e24\u4e2a $x$\uff0c\u6240\u4ee5\u8fd9\u79cd\u60c5\u51b5\u7684\u65b9\u6848\u6570\u662f $0$\u3002\u9700\u8981\u7279\u6b8a\u5904\u7406\u3002\n\n## \u4ee3\u7801\u5b9e\u73b0\n\n```cpp\n#include<iostream>\n#define ll long long\nusing namespace std;\nconst ll mod=998244353;\nll n,ans,a[100005];\nvoid times(){\n    a[0]=1;\n    for(int i=1;i<=n;i++){\n        a[i]=a[i-1]*i%mod;\n    }\n}\nll fpow(ll x,ll y){\n    ll ans=1;\n    while(y){\n        if(y&1) ans=(ans*x)%mod;\n        x=(x*x)%mod;\n        y>>=1;\n    }\n    return ans%mod;\n}\nll C(ll n,ll m){\n    return a[n]*fpow(a[m],mod-2)%mod*fpow(a[n-m],mod-2)%mod;\n}\nint main(){\n    cin>>n;\n    times();\n    for(int i=1;i<n;i++){\n        if(n-i==i) continue;\n        ans=(ans+C(n-2,i-1))%mod;\n    }\n    cout<<ans;\n    return 0;\n}\n```\n",
        "postTime": 1644913410,
        "uid": 385610,
        "name": "zbk233",
        "ccfLevel": 0,
        "title": "P8106 [Cnoi2021]\u6570\u5b66\u7ec3\u4e60 \u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P8106)\n\n## \u601d\u8def\uff1a\n\n\u9898\u76ee\u63cf\u8ff0\u4e2d\u544a\u8bc9\u4f60 $\\left | S \\right | \\notin S$ \uff0c $\\left | T \\right | \\notin T$ \uff0c\u6240\u4ee5\u53ef\u5f97\u51fa $\\left | S \\right | \\in T$ \uff0c $\\left | T \\right | \\in S$ \u3002\u5269\u4e0b\u7684 $n-2$ \u4e2a\u6570\u600e\u4e48\u653e\u90fd\u65e0\u6240\u8c13\u4e86\uff0c\u6240\u4ee5\u5c31\u6709 $2^{n-2}$ \u79cd\u65b9\u6cd5\u3002\u4f46\u662f\uff0c\u7b54\u6848\u5e76\u4e0d\u53ea\u662f $2^{n-2}$ \u3002\u56e0\u4e3a\uff0c\u5f53 $n$ \u4e3a\u5076\u6570\u65f6\uff0c\u4e00\u4e2a\u503c\u4e0d\u80fd\u540c\u65f6\u5b58\u5728\u4e8e $S$ \u548c $T$ \u4e24\u4e2a\u5b50\u96c6\u4e2d\u3002\u6240\u4ee5\uff0c\u5f53 $n$\u4e3a\u5076\u6570\u65f6 \uff0c\u7b54\u6848\u8981\u51cf\u53bb $C_{n-2}^{\\frac{n-2}{2}} $ \u3002\n\n------------\n\n[\u5feb\u901f\u5e42\u4ee3\u7801](https://www.luogu.com.cn/paste/0r3sqco6)\n\n[\u4e58\u6cd5\u9006\u5143\u94fe\u63a5](https://baike.baidu.com/item/%E4%B9%98%E6%B3%95%E9%80%86%E5%85%83)\n\n[\u548c\u6b64\u9898\u5f88\u50cf\u7684\u9898\u76ee](https://www.luogu.com.cn/problem/CF57C)\n\n### \u4ee3\u7801\uff1a\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int mod=998244353;\nint jc[100005];\nvoid doit()//\u9884\u5904\u7406\u9636\u4e58\n{\n    jc[0]=jc[1]=1;\n    for(int i=1;i<=100005;i++)\n        jc[i]=(jc[i-1]%mod*i%mod)%mod; \n}\nint fpow(int b,int p)//\u5feb\u901f\u5e42\n{\n    int ans=1;\n    while(p)\n    {\n        if(p&1)ans=ans*b%mod;\n        p>>=1;\n        b=b*b%mod;\n    }\n    return ans%mod;\n}\nint C(int x,int y)//\u4e58\u6cd5\u9006\u5143\n{\n    return jc[x]%mod*fpow(jc[y],mod-2)%mod*fpow(jc[x-y],mod-2)%mod;\n}\nsigned main()// main \u4e0d\u5141\u8bb8\u6709 long long main\n{\n    int n,ans=1;\n    cin>>n;\n    if(n==1){cout<<0;return 0;}//\u7279\u5224\n    doit();\n    for(int i=1;i<=n-2;i++)\n        ans=(ans*2)%mod;\n    if(n%2==0)ans=(ans-C(n-2,(n-2)/2)+mod)%mod;\n    cout<<ans%mod;\n    return 0;\n}\n```\n",
        "postTime": 1644899683,
        "uid": 525177,
        "name": "pengzy___",
        "ccfLevel": 0,
        "title": "[Cnoi2021]\u6570\u5b66\u7ec3\u4e60"
    }
]