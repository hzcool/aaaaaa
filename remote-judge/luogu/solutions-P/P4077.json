[
    {
        "content": "\u5982\u679c\u6362\u6210\u4e0b\u9762\u8fd9\u4e2a\u6e38\u620f\uff0c\u662f\u4e0d\u662f\u4e00\u773c\u53ef\u4ee5\u770b\u51fa\u662f$SG$\u554a\n\n\u2460\u5f00\u59cb\u6709\u4e00\u4e9b\u5730\u65b9\u6709\u77f3\u5b50\n\n\u2461\u6bcf\u6b21\u53ef\u4ee5\u9009\u62e9\u6ee1\u8db3\u6761\u4ef6\u7684$p,q$\u548c\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u5728\u8fd9\u4e2a\u4f4d\u7f6e\u53bb\u6389\u4e00\u4e2a\u77f3\u5b50\uff0c\u5728\u5176\u5b83\u76f8\u5e94\u4f4d\u7f6e\u52a0\u4e00\u4e2a\u77f3\u5b50\n\n\u6ce8\u610f\u5230\u8fd9\u4e2a\u95ee\u9898\u5bf9\u6bcf\u4e2a\u6570\u662f\u72ec\u7acb\u7684\uff0c\u5e94\u7528$SG$\u5b9a\u7406\u5c31\u53ef\u4ee5\u9a6c\u4e0a\u89e3\u51b3\n\n\u90a3\u4e48\u56de\u5230\u539f\u6e38\u620f\uff0c\u6211\u4eec\u53d1\u73b0\u539f\u6e38\u620f\u5c31\u662f\u8fd9\u4e2a\u6e38\u620f$mod2$\u7684\u5f62\u5f0f\n\n\u5e76\u4e14\u5462\uff0c\u5982\u679c\u67d0\u65b9\u5728\u539f\u6e38\u620f\u4e0b\u6709\u5fc5\u80dc\u7b56\u7565\uff0c\u90a3\u4e48\u5728\u65b0\u6e38\u620f\u4e2d\u5982\u679c\u5bf9\u65b9\u52a8\u4e86\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u4e14\uff1a\n\n\u2460\u5982\u679c\u8fd9\u4e2a\u4f4d\u7f6e\u539f\u6709\u5947\u6570\u4e2a\u68cb\u5b50\uff0c\u90a3\u6309\u539f\u6e38\u620f\u91cc\u9762\u5fc5\u80dc\u7b56\u7565\u4e0b\u5c31\u53ef\u4ee5\n\n\u2461\u5426\u5219\u590d\u8bfb\uff08\u663e\u7136\u53ef\u4ee5\u590d\u8bfb\uff0c\u800c\u4e14\u8fd9\u6837$mod2$\u6765\u770b\u90fd\u662f\u4e0d\u53d8\u7684\uff09\n\n\u8fd9\u662f\u65b0\u6e38\u620f\u7684\u4e00\u4e2a\u5fc5\u80dc\u7b56\u7565\n\n\u90a3\u4e48\u5bb9\u6613\u8bc1\u660e\u8fd9\u4e24\u4e2a\u6e38\u620f\u7684\u83b7\u80dc\u6761\u4ef6\u662f\u76f8\u540c\u7684\n\n\u90a3\u662f\u4e0d\u662f\u76f4\u63a5$SG$\u5c31\u597d\u4e86\u554a\n\n\uff08\u6ce8\u610f\u770b\u6e05\u9898\u610f\uff0c\u770b\u6e05\u6bcf\u6b21\u5408\u6cd5\u64cd\u4f5c\u90fd\u662f\u4ec0\u4e48\u4ee5\u9632WA\uff09\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define maxn 33333\nint n,q;\nint sg[maxn];\nint cnt[303]={0};\nvoid gao(int x,int p,int w) {\n    int a,b,c=0,y=x;\n    for(a=1;a<=q;a++) {\n        if(y%p!=0) break;\n        y/=p;c^=sg[y];\n        if(c<303) cnt[c]=x;\n    }\n}\nvoid get_sg(int x) {\n    int a,b,c;\n    for(b=2,a=1;;a++) {\n        if(x%b!=0) break;\n        gao(x,b,a);\n        b*=2;\n    }\n    for(b=3,a=1;;a++) {\n        if(x%b!=0) break;\n        gao(x,b,a);\n        b*=3;\n    }\n    for(a=0;;a++)\n    if(cnt[a]!=x) {\n        sg[x]=a;\n        return;\n    }\n}\nint main(){\n    int T,t;\n    scanf(\"%d\",&T);\n    for(t=1;t<=T;t++) {\n        int a,b,c=0;\n        memset(cnt,0,sizeof cnt);\n        scanf(\"%d%d\",&n,&q);\n        for(a=1;a<=n;a++) get_sg(a);\n        //for(a=1;a<=n;a++) printf(\"%d\\n\",sg[a]);\n        for(a=1;a<=n;a++) {\n            scanf(\"%d\",&b);\n            if(b==0) c^=sg[a];\n        }\n        if(c==0) printf(\"lose\\n\");\n        else printf(\"win\\n\");\n    }\n    return 0;\n}\n```",
        "postTime": 1550914892,
        "uid": 24608,
        "name": "winxp_qwq",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P4077 \u3010[SDOI2016]\u786c\u5e01\u6e38\u620f\u3011"
    },
    {
        "content": "\u9996\u5148\u4e86\u89e3\u4e00\u4e2a\u7ed3\u8bba\u5427\u3002\n\n**\u5c40\u9762\u7684SG\u503c\u4e3a\u5c40\u9762\u4e2d\u6bcf\u4e2a\u6b63(\u53cd)\u9762\u671d\u4e0a\u7684\u68cb\u5b50\u5355\u4e00\u5b58\u5728\u65f6\u7684SG\u503c\u7684\u5f02\u6216\u548c**\u3002\n\n\u8fd9\u91cc\u6709[\u8bc1\u660e](https://lb2003.top/archives/453.html)\uff0c\u7cca\u4e0d\u7cca\u4e0d\u77e5\u9053\uff0c\u5185\u9644\u6bd4\u8f83\u4e25\u8c28\u7684\u8bc1\u660e\u3002\n\n----\n\n\u56de\u5230\u6b63\u9898\u3002\n\n\u5bf9\u4e8e$c*2^a*3^b$\uff0c$c$\u5176\u5b9e\u6ca1\u4ec0\u4e48\u7528\uff0c\u56e0\u4e3a$c$\u4e0d\u540c\uff0c\u5176\u5b9e\u4e4b\u95f4\u662f\u4e92\u76f8\u72ec\u7acb\u7684\u6e38\u620f\uff0c\u7528\u4e00\u4e0bSG\u5b9a\u7406\u5c31\u53ef\u4ee5\u6c42\u5f97\u6e38\u620f\u548c\u4e86\u3002\n\n\u90a3\u4e48\u5c31\u8003\u8651\u72ec\u7acb\u7684$2^a*3^b$\uff0c\u6839\u636e\u9898\u610f\uff0c$2^a$\u4e0e$3^b$\u7684\u5c40\u9762\u7684\u5e76\u96c6\u5176\u5b9e\u5c31\u662f$2^a*3^b$\u7684\u5c40\u9762\u3002\n\n\u56e0\u6b64\u4ec5\u9700\u8981\u8003\u8651$2^a$\u7684\u60c5\u51b5\u3002\n\n\u7531\u4e8e\u6539\u52a8\u7684\u53ea\u6709$2^a,2^{a-pj}(j\\le q,p*q\\le a)$\n\n\u4e0d\u59a8\u6307\u6570\u62ff\u4e0b\u6765\uff0c\u4e5f\u5c31\u662f\u6539\u53d8$a,a-p,a-2p,\\cdots,a-pq$\u8fd9\u4e9b\u4f4d\u7f6e\u7684\u786c\u5e01\u671d\u5411\u3002\n\n\u4e5f\u5c31\u662f\u6839\u636e\u4e0a\u9762\u7684\u7ed3\u8bba**\u5c40\u9762SG\u503c\u7b49\u4e8e\u5355\u4e00\u5b58\u5728\u65f6\u7684SG\u7684\u5f02\u6216\u548c**\uff0c$SG(a)$\u7684\u72b6\u6001\u6765\u6e90\u6709$SG(a-p),SG(a-p)~\\text{xor}~SG(a-2p),\\cdots$\n\n\u4e8e\u662f$SG(a)=\\text{mex}\\{SG(a-p),SG(a-p)~\\text{xor}~SG(a-2p),\\cdots\\}$\n\n\u7136\u540e\u56de\u5f52\u539f\u9898\uff0c\u4e5f\u5c31\u662f\n\n$SG(a,b)=\\text{mex}\\{SG(a-p,b),SG(a-p,b)~\\text{xor}~SG(a-2p,b),\\cdots,SG(a,b-p),SG(a,b-p)~\\text{xor}~SG(a,b-2p),\\cdots\\}$\n\n\u6700\u540e\u518d\u5f02\u6216\u4e00\u4e0b\u5c31\u662f\u7b54\u6848\u4e86\u3002\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#include<cstdlib>\n#define gc getchar()\n#define ll long long\n#define ull unsigned long long\n#define file(s) freopen(s\".in\",\"r\",stdin);freopen(s\".out\",\"w\",stdout)\n#define I inline \nusing namespace std;\nconst int N=3e4,M=N+5;const ull G=31;\ntemplate<class o>I void qr(o &x)\n{\n\tchar c=gc;int f=1;x=0;\n\twhile(c<'0'||c>'9'){if(c=='-')f=-1;c=gc;}\n\twhile(c>='0'&&c<='9'){x=x*10+(c^48);c=gc;}\n\tx*=f;\n}\ntemplate<class o>I void qw(o x)\n{\n\tif(x<0)x=-x,putchar('-');\n\tif(x/10)qw(x/10);\n\tputchar(x%10+48);\n}\nint sg[21][30][30],lg2[M],lg3[M];\nI int mex(int k){for(int i=0;;i++)if(~k>>i&1)return i;}\nint main()\n{\n\tfor(int i=1;i<=N;i++)\n\t{\n\t\tif(i%2==0)lg2[i]=lg2[i/2]+1;\n\t\tif(i%3==0)lg3[i]=lg3[i/3]+1;\n\t}\n\tfor(int MaxQ=1;MaxQ<=20;MaxQ++)\n\t\tfor(int a=1,j=0;a<=N;a*=2,++j)\n\t\t\tfor(int b=1,k=0;a*b<=N;b*=3,++k)\n\t\t\t{\n\t\t\t\tint s=0;\n\t\t\t\tfor(int p=1;p<=j;p++)\n\t\t\t\t{\n\t\t\t\t\tint t=0;\n\t\t\t\t\tfor(int q=1;p*q<=j&&q<=MaxQ;q++)\n\t\t\t\t\t\tt^=sg[MaxQ][j-p*q][k],s|=1<<t;\n\t\t\t\t}\n\t\t\t\tfor(int p=1;p<=k;p++)\n\t\t\t\t{\n\t\t\t\t\tint t=0;\n\t\t\t\t\tfor(int q=1;p*q<=k&&q<=MaxQ;q++)\n\t\t\t\t\t\tt^=sg[MaxQ][j][k-p*q],s|=1<<t;\n\t\t\t\t}\n\t\t\t\tsg[MaxQ][j][k]=mex(s);\n\t\t\t}\n\tint T;qr(T);\n\twhile(T--)\n\t{\n\t\tint ans=0;\n\t\tint n,MaxQ;qr(n),qr(MaxQ);\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tint c;qr(c);\n\t\t\tif(!c)ans^=sg[MaxQ][lg2[i]][lg3[i]];\n\t\t}\n\t\tans?puts(\"win\"):puts(\"lose\");\n\t}\n\treturn 0; \n}\n```",
        "postTime": 1589593097,
        "uid": 106232,
        "name": "_Sein",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4077 \u3010[SDOI2016]\u786c\u5e01\u6e38\u620f\u3011"
    },
    {
        "content": "\u7ffb\u786c\u5e01\u633a\u51b7\u95e8\u7684\uff0c\u627e\u4e0d\u5230\u4ec0\u4e48\u8d44\u6599\u8bb2\u8fd9\u4e2a\u3002\n\n---\n\u6211\u4eec\u5148\u8003\u8651\u4e00\u4e2a\u7b80\u5355\u7684\u95ee\u9898\u3002\n\n- $\\rm Turning\\ Turtles $\n\nn \u4e2a\u786c\u5e01\uff0c\u6bcf\u6b21\u7ffb\u8f6c\u4e00\u4e2a\u786c\u5e01 j \u6216\u4e24\u4e2a\u786c\u5e01 $i,j$\uff08$i<j$\uff09\uff0c\u4e14 j \u5fc5\u987b\u7531\u6b63\u9762\u7ffb\u4e3a\u53cd\u9762\uff08\u5426\u5219\u8f6c\u79fb\u6210\u73af\uff09\u3002\n\n\u53ef\u4ee5\u5c06 i \u4f4d\u7f6e\u4e0a\u7684\u4e00\u679a\u786c\u5e01\u89c6\u4e3a\u4e00\u5806\u5927\u5c0f\u4e3a i \u7684\u77f3\u5b50\u3002\n\n\u663e\u7136\u6211\u4eec\u6bd4\u8f83\u5173\u5fc3\u62ff\u4e24\u4e2a\u786c\u5e01\u7684\u60c5\u51b5\uff0c\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n1. \u4e24\u679a\u786c\u5e01\u4e00\u53cd\u4e00\u6b63\u3002\u90a3\u4e48\u76f8\u5f53\u4e8e\u53bb\u6389\u4e00\u5806\u5927\u5c0f\u4e3a j \u7684\u77f3\u5b50\uff0c\u52a0\u4e0a\u4e00\u5806\u5927\u5c0f\u4e3a i \u7684\u3002\u8fd9\u53ef\u4ee5\u89c6\u4e3a\u4ece\u5927\u5c0f\u4e3a j \u7684\u77f3\u5b50\u5806\u4e2d\u53d6\u51fa $j-i$ \u4e2a\u3002\n2. \u4e24\u679a\u786c\u5e01\u5747\u4e3a\u6b63\u9762\u3002\u6b64\u65f6\u4e24\u5806\u90fd\u53bb\u6389\u3002\u4f46\u7531\u4e8e $\\rm SG$ \u51fd\u6570\u4f7f\u7528\u5f02\u6216\u8ba1\u7b97\uff0c\u53ef\u4ee5\u53d1\u73b0\u53bb\u6389 $i$ \u7684\u64cd\u4f5c\u53ef\u4ee5\u7b49\u4ef7\u4e3a\u52a0\u4e0a\u4e00\u5806 $i$\u3002\u4e8e\u662f\u4e0e\u4e0a\u8ff0\u60c5\u51b5\u76f8\u540c\u3002\n\n\u5b9e\u9645\u4e0a\uff0c\u6b64\u65f6 $i$ \u4f4d\u7f6e\u4e0a\u7684\u786c\u5e01\u6b63\u53cd\u4e0e\u6211\u4eec\u5bf9\u4f4d\u7f6e $j$ \u64cd\u4f5c\u65e0\u5173\uff0c\u4e8e\u662f\u53ef\u4ee5\u4efb\u610f\u5730\u53d6 $i\\in[1,j)$\u3002\u8fd9\u5176\u5b9e\u5c31\u662f $\\rm Nim$ \u6e38\u620f\u3002\n\n\u8fd9\u7ed9\u6211\u4eec\u4e00\u4e2a\u542f\u793a\uff1a\u6211\u4eec\u53ef\u4ee5\u5c06\u4efb\u610f\u7684\u96c6\u5408\u7ffb\u8f6c\u89c6\u4e3a\u5c06\u94a6\u5b9a\u6b63\u53cd\u7684\u4f4d\u7f6e\u5206\u88c2\u4e3a\u4e00\u4e2a\u65b0\u7684\u4f4d\u7f6e\u96c6\u5408\u3002\u8fd9\u5bfc\u81f4\u6bcf\u4e2a\u786c\u5e01\u7684\u6e38\u620f\u5747\u662f\u72ec\u7acb\u7684\u3002\n\n\u90a3\u4e48\u8fd9\u5c31\u662f\u4e2a\u65e0\u8111\u6a21\u62df\u9898\u610f\u9012\u63a8 $\\rm SG$ \u7684\u4e8b\u60c5\u4e86\u3002\n\n\u679a\u4e3e\u662f\u8c03\u548c\u7ea7\u6570\u7684\uff0c\u5bf9\u4e8e\u4f4d\u7f6e n \u6709 $O(\\log n\\log \\log n)$ \u4e2a\u53d6\u503c\uff0c\u8bb0\u4e3a $m$\u3002\n\n\u66b4\u529b\u6392\u5e8f\u53bb\u91cd\u6c42 $mex$ \u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(Tnm\\log m)$\uff0c\u6b64\u5904\u56e0\u4e3a\u6781\u9650\u6570\u636e\u4e0b $MAXQ>\\log n$ \u4e0d\u8003\u8651 $MAXQ$\u3002\n\n\u4f46\u662f\u901a\u8fc7\u6253\u8868\u5b9e\u9645\u4e0a\u6c42\u51fa\u6765\u7684 $\\rm SG$ \u975e\u5e38\u5c0f\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u6309\u503c\u57df\u679a\u4e3e\u3002\n\n\n\n---\n### code\n\u66b4\u529b\u5b9e\u73b0\u5f97\u597d\u70b9\u5c31\u80fd\u8fc7\u3002\u4f46\u663e\u7136\u6211\u5b9e\u73b0\u5f97\u5f88\u5783\u573e\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=3e5+10;\nint SG[maxn];\nint p2[maxn];\nint p3[maxn];\nint a[maxn];\nint b[maxn];\nset<int>s;\nint n,q;\nvoid init(){\n\tfor(int i=1;i<=maxn;++i){\n\t\tint x=i;\n\t\twhile(x%2==0) ++a[i],x>>=1;\n\t\twhile(x%3==0) ++b[i],x/=3;\n\t}\n\tp2[0]=p3[0]=1;\n\tfor(int i=1;i<=15;++i){\n\t\tp2[i]=p2[i-1]*2;\n\t\tp3[i]=p3[i-1]*3;\n\t}\n}\nint main(){\n\tint t;\n\tinit();\n\tscanf(\"%d\",&t);\n\twhile(t--){\n\t\tscanf(\"%d%d\",&n,&q);\n\t\tmemset(SG+1,0,4*n);\n\t\tfor(int i=1;i<=n;++i){\n\t\t\ts.clear();\n\t\t\tfor(int p=1;p<=a[i];++p)\n\t\t\tfor(int j=1,sum=0,x=i/p2[p];j<=q&&j*p<=a[i];++j,x/=p2[p]){\n\t\t\t\tsum^=SG[x];\n\t\t\t\ts.insert(sum);\n\t\t\t}\n\t\t\tfor(int p=1;p<=b[i];++p)\n\t\t\tfor(int j=1,sum=0,x=i/p3[p];j<=q&&j*p<=b[i];++j,x/=p3[p]){\n\t\t\t\tsum^=SG[x];\n\t\t\t\ts.insert(sum);\n\t\t\t}\n\t\t\tint las=0;\n\t\t\tfor(set<int>::iterator it=s.begin();it!=s.end();++it){\n\t\t\t\tif(*it>las) break;\n\t\t\t\tlas=*it+1;\n\t\t\t}\n\t\t\tSG[i]=las;\n\t\t}\n\t\tint x,sum=0;\n\t\tfor(int i=1;i<=n;++i){\n\t\t\tscanf(\"%d\",&x);\n\t\t\tif(!x) sum^=SG[i];\n\t\t}\n\t\tprintf(\"%s\\n\",sum?\"win\":\"lose\");\n\t}\n}\n```\n---\n\n\u6709\u5174\u8da3\u53ef\u4ee5\u81ea\u5df1\u518d\u624b\u6478\u51e0\u4e2a\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u5bf9\u7406\u89e3\u6709\u8f83\u5927\u5e2e\u52a9\u3002\n\n\u4f8b\u5982 $\\rm Mock\\ Turtles$\u3002 ",
        "postTime": 1648824782,
        "uid": 90869,
        "name": "tylon2006",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4077 [SDOI2016]\u786c\u5e01\u6e38\u620f"
    },
    {
        "content": "\u8fd9\u9053\u9898\u4e0d\u96be\u5427\uff0c\u4e3a\u4ec0\u4e48\u5927\u4f6c\u4eec\u6ca1\u6709\u9898\u89e3\u5462\uff0c\u4e00\u5b9a\u662fdalao\u4eec\u89c9\u5f97\u592a\u7b80\u5355\u4e86\u5427\uff0c\u5f04\u5f97\u6211\u597d\u51e0\u5929\u624d\u505a\u51fa\u6765\u3002\u3002\u3002\n\n\u5f88\u663e\u7136\uff0c\u76f4\u63a5\u6309\u9898\u610f\u6a21\u62df\u5373\u53ef\uff0c\u6c42\u51fasg\u51fd\u6570\uff0c\u5f02\u6216\u548c\u5c31\u597d\u4e86\uff0c\u4e0d\u77e5\u9053sg\u51fd\u6570\u7684\u53ef\u4ee5\u81ea\u5df1\u767e\u5ea6\u4e00\u4e0b\u3002\u3002\u3002[\u975e\u5e38\u795e\u5947\u7684\u7f51\u7ad9](http://www.baidu.com)\n\n\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\uff0c\u5927\u4f6c\u4eec\u90fd\u662f\u6bcf\u6b21\u8f93\u5165n\u4e4b\u540e\u518d\u7b97\u7684sg\u51fd\u6570\uff0c\u5e76\u4e14\u6bcf\u6b21\u7b97\u7684\u65f6\u5019\u90fd\u7528\u7684\u662f2\u7684\u591a\u5c11\u6b21\u65b9\u4e583\u7684\u591a\u5c11\u6b21\u65b9\uff0c\u660e\u660e\u76f4\u63a5\u6c42\u66f4\u7b80\u5355\u7684\uff0c\u6548\u7387\u4e5f\u5e76\u4e0d\u4f4e\u3002\u3002\u3002\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n\nconst int Maxn=31000;\nconst int Maxm=2100;\n\nint sg[Maxn][31];\nint s[Maxm];\n\nint n,m,c,t,ans;\n\nvoid getsg() {\n\tfor(int i=1;i<=30000;i++) {\n\t\tint temp=i;\n\t\tint san=0,er=0;\n\t\twhile(temp%2==0) temp/=2,er++;\n\t\twhile(temp%3==0) temp/=3,san++;\n\t\tfor(int q=1;q<=20;q++) {\n\t\t\tfor(int k=1;k<=q;k++) {\n\t\t\t\tfor(int p=1,tempp=2;p*k<=er;p++,tempp*=2) {\n\t\t\t\t\tint ans=0;\n\t\t\t\t\tfor(int j=1,temp2=tempp;j<=k;j++,temp2*=tempp)\n\t\t\t\t\t\tans^=sg[i/temp2][q];\n\t\t\t\t\ts[ans]=1;\n\t\t\t\t}\n\t\t\t\tfor(int p=1,tempp=3;p*k<=san;p++,tempp*=3) {\n\t\t\t\t\tint ans=0;\n\t\t\t\t\tfor(int j=1,temp3=tempp;j<=k;j++,temp3*=tempp)\n\t\t\t\t\t\tans^=sg[i/temp3][q];\n\t\t\t\t\ts[ans]=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile(s[sg[i][q]]) sg[i][q]++;\n\t\t\tfor(int k=1;k<=q;k++) {\n\t\t\t\tfor(int p=1,tempp=2;p*k<=er;p++,tempp*=2) {\n\t\t\t\t\tint ans=0;\n\t\t\t\t\tfor(int j=1,temp2=tempp;j<=k;j++,temp2*=tempp)\n\t\t\t\t\t\tans^=sg[i/temp2][q];\n\t\t\t\t\ts[ans]=0;\n\t\t\t\t}\n\t\t\t\tfor(int p=1,tempp=3;p*k<=san;p++,tempp*=3) {\n\t\t\t\t\tint ans=0;\n\t\t\t\t\tfor(int j=1,temp3=tempp;j<=k;j++,temp3*=tempp)\n\t\t\t\t\t\tans^=sg[i/temp3][q];\n\t\t\t\t\ts[ans]=0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main() {\n//\tfreopen(\"test.in\",\"r\",stdin);\n\tgetsg();\n\tscanf(\"%d\",&t);\n\twhile(t--) {\n\t\tans=0;\n\t\tscanf(\"%d%d\",&n,&m);\n\t\tfor(int i=1;i<=n;i++) {\n\t\t\tscanf(\"%d\",&c);\n\t\t\tif(c==0) ans^=sg[i][m];\n\t\t}\n\t\tif(ans==0) puts(\"lose\");\n\t\telse puts(\"win\");\n\t}\n//\tfclose(stdin);\n\treturn 0;\n}\n```",
        "postTime": 1530089656,
        "uid": 53250,
        "name": "\u5355\u66e6\u589e",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P4077 \u3010[SDOI2016]\u786c\u5e01\u6e38\u620f\u3011"
    }
]