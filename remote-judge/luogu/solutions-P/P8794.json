[
    {
        "content": "## 1. \u7f16\u7a0b\u601d\u8def\u3002\n\u7528\u4e8c\u5206\u6cd5\u6765\u6c42\u6700\u5c11\u8981\u7ecf\u8fc7\u591a\u5c11\u5929\u540e P \u6307\u6807\u53ef\u4ee5\u6ee1\u8db3\u8981\u6c42\u3002\n\n\u521d\u59cb\u5b9a\u4e49\u6cbb\u7406\u9700\u8981\u7684\u6700\u5c11\u5929\u6570 $left=0$\uff0c\u6cbb\u7406\u9700\u8981\u7684\u6700\u591a\u5929\u6570\u53ef\u8bbe\u4e3a\u6bcf\u4e2a\u57ce\u5e02\u6cbb\u7406\u5341\u4e07\u5929\uff0c\u7f6e $right=100000\\times n$\uff0c\u53d6 $left$ \u548c $right$ \u7684\u4e2d\u503c $mid$\uff0c\u8ba1\u7b97\u7ecf\u8fc7 $mid$ \u5929\u6cbb\u7406\u540e\u7684 P \u6307\u6807\u503c\u3002\u82e5 P \u6307\u6807\u503c\u6ee1\u8db3\u8981\u6c42\uff0c\u8bf4\u660e\u8fd8\u6709\u51cf\u5c11\u6cbb\u7406\u5929\u6570\u7684\u5e0c\u671b\uff0c\u7f6e $right=mid-1$\uff1b\u82e5 P \u6307\u6807\u503c\u4e0d\u6ee1\u8db3\u8981\u6c42\uff0c\u8bf4\u660e\u6cbb\u7406\u7684\u5929\u6570\u4e0d\u591f\uff0c\u9700\u8981\u589e\u52a0\u6cbb\u7406\u5929\u6570\uff0c\u7f6e $left=mid$\u3002\n\n\u5728\u8ba1\u7b97\u6cbb\u7406 $mid$ \u5929\u540e\u7684 P \u6307\u6807\u503c\u65f6\uff0c\u91c7\u7528 Floyed \u7b97\u6cd5\u6c42\u4efb\u610f\u4e24\u4e2a\u57ce\u5e02\u95f4\u7684\u6700\u77ed\u8ddd\u79bb\uff08\u6700\u5c0f\u7684\u7070\u5c18\u5ea6\u7684\u503c\uff09\u3002\n\n## 2. \u6e90\u7a0b\u5e8f\u3002\n```c\n#include <stdio.h>\n#include <string.h>\nint d[105][105];\nint limit[105][105];\nint n;\nint min(int a,int b)\n{\n    return a<b?a:b;\n}\nint calc(int day)          // \u8ba1\u7b97\u7ecf\u8fc7day \u5929\u6cbb\u7406\u540e\u7684P\u6307\u6807\u503c\n{\n    int tmp[105][105];     // \u7528\u4e8e\u6cbb\u7406\u7684\u8f85\u52a9\u6570\u7ec4\n\tint i,j,k;\n\tfor (i =0; i<n; i++)\n\t\tfor (j =0; j<n; j++)\n\t\t\ttmp[i][j]=d[i][j];\n\tfor (i =0; i<n; i++)\n\t{\n\t\tint val = day/n+(day%n>=i+1?1:0);\n\t\tfor (j =0 ; j<n; j++)\n\t\t{\n\t\t    tmp[i][j]-=val;\n\t\t    if (tmp[i][j]<limit[i][j]) tmp[i][j]=limit[i][j];\n\t\t    tmp[j][i]-=val;\n\t\t    if (tmp[j][i]<limit[j][i]) tmp[j][i]=limit[j][i];\n\t\t}\n\t}\n\tfor (k =0 ; k<n; k++)        // floyed \u7b97\u6cd5\u6c42\u6700\u77ed\u8def\u5f84\n\t\tfor (i =0 ; i<n; i++)\n\t\t\tfor (j =0 ; j<n; j++)\n\t\t\t\ttmp[i][j]=min(tmp[i][j],tmp[i][k]+tmp[k][j]);\n\tint res =0 ;\n\tfor (i =0; i<n; i++)     // \u8ba1\u7b97\u6cbb\u7406\u540e\u7684P\u6307\u6807\u503c\n\t\tfor (j =0; j<n; j++)\n\t\t\tres+=tmp[i][j];\n\treturn res ;\n}\nint main()\n{\n    int q;\n\tscanf(\"%d %d\",&n,&q);\n\tint i,j;\n\tfor (i =0; i<n; i++)\n\t\tfor (j =0 ; j<n; j++)\n\t\t\tscanf(\"%d\",&d[i][j]);\n\tfor (i =0; i<n; i++)\n\t\tfor (j =0 ; j<n; j++)\n\t\t\tscanf(\"%d\",&limit[i][j]);\n\tint  left =0,right= 100000*n,ans =-1;\n\twhile (left<=right)\n\t{\n\t\tint mid = (left+right)/2;\n\t\tif (calc(mid)<=q)\n\t\t{\n\t\t\tright= mid -1;\n\t\t\tans = mid;\n\t\t}\n\t\telse\n\t\t\tleft=mid+1;\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1681084396,
        "uid": 228457,
        "name": "wuhan1234",
        "ccfLevel": 0,
        "title": "P8794 [\u84dd\u6865\u676f 2022 \u56fd A] \u73af\u5883\u6cbb\u7406 \u9898\u89e3"
    },
    {
        "content": "\u9898\u76ee\u4e2d\u8981\u6c42\u6211\u4eec\u6c42\u7684\u6307\u6807 $P$\uff0c\u5c31\u662f\u4efb\u610f\u4e24\u70b9\u4e4b\u95f4\u7684\u6700\u77ed\u8ddd\u79bb\u4e4b\u548c\u3002\u8fd9\u4e2a\u53ef\u4ee5\u7528 Floyd \u7b97\u6cd5\u6c42\uff0c\u5355\u6b21\u6c42\u503c\u590d\u6742\u5ea6 $O(n^3)$\u3002\n\n\u8003\u8651\u66b4\u529b\u6a21\u62df\uff0c\u6bcf\u6b21\u9053\u8def\u6539\u5584\u540e\u8fdb\u884c\u4e00\u6b21\u66b4\u529b\u8ba1\u7b97\uff0c\u7531\u4e8e\u6700\u591a\u8fdb\u884c $O(nD_i)$ \u6b21\u9053\u8def\u6539\u5584\uff0c\u6545\u603b\u4f53\u590d\u6742\u5ea6 $O(n^4D_i)$\u3002\u8fd9\u4e2a\u66b4\u529b\u53ef\u4ee5\u4f18\u5316\u5230 $O(n^3D_i)$\uff0c\u4f46\u5bf9\u6b63\u89e3\u5e76\u65e0\u5e2e\u52a9\uff0c\u6545\u4e0d\u8d58\u8ff0\u3002\n\n\u7531\u4e8e\u9053\u8def\u6539\u5584\u53d1\u751f\u7684\u6b21\u6570\u8d8a\u591a\uff0c\u6307\u6807 $P$ \u8d8a\u5c0f\u3002\u6545\u6839\u636e\u8fd9\u79cd\u5355\u8c03\u6027\uff0c\u53ef\u4ee5\u91c7\u7528\u4e8c\u5206\uff0c\u4e8c\u5206\u9053\u8def\u6539\u5584\u6b21\u6570 $x$\u3002\u5df2\u77e5\u9053\u8def\u6539\u5584\u6b21\u6570\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u53ef\u4ee5\u5f88\u5feb\u7684\u77e5\u9053\u56fe\u4e0a\u6bcf\u4e00\u6761\u8fb9\u5f53\u4e0b\u7684\u8fb9\u6743\uff0c\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u7528 Floyd \u7b97\u6cd5\u8ba1\u7b97\u4e00\u4e0b\u6307\u6807 $P$\uff0c\u5224\u65ad\u6307\u6807 $P$ \u662f\u5426\u5c0f\u4e8e\u7b49\u4e8e $Q$ \u5373\u53ef\uff0c\u590d\u6742\u5ea6 $O(n^3 \\log K)$\uff0c\u5176\u4e2d $K$ \u4e3a\u6700\u5927\u7684\u9053\u8def\u6539\u5584\u6b21\u6570\uff0c\u8bbe\u6210 $10^{9}$ \u5de6\u53f3\u5373\u53ef\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define N 105\n#define int long long\n#define inf 2002102828\n#define mid (l + r >> 1)\n#define For(i, j, n) for(int i = j ; i <= n ; ++i)\nint n, Q, l, r, ans = inf;\nint D[N][N], L[N][N], dis[N][N], down[N];\n\ninline int check(int x){\n\tint t = x / n, P = 0;\n\tFor(i, 1, n) For(j, 1, n) dis[i][j] = inf;\n\tFor(i, 1, n) dis[i][i] = 0;\n\tFor(i, 1, n) down[i] = t;\n\tFor(i, 1, x - n * t) ++down[i];\n\tFor(i, 1, n) For(j, 1, n) dis[i][j] = max(L[i][j], D[i][j] - down[i] - down[j]);\n\tFor(k, 1, n) For(i, 1, n) For(j, 1, n) dis[i][j] = min(dis[i][j], dis[i][k] + dis[k][j]);\n\tFor(i, 1, n) For(j, 1, n) P += dis[i][j];\n\tif(P <= Q) return 1;\n\telse return 0;\n}\n\nsigned main(){\n\tscanf(\"%lld %lld\", &n, &Q);\n\tFor(i, 1, n) For(j, 1, n) scanf(\"%lld\", &D[i][j]);\n\tFor(i, 1, n) For(j, 1, n) scanf(\"%lld\", &L[i][j]);\n\tl = 0, r = inf;\n\twhile(l <= r){\n\t\tif(check(mid)) ans = min(ans, mid), r = mid - 1;\n\t\telse l = mid + 1;\n\t}\n\tif(ans == inf) printf(\"-1\");\n\telse printf(\"%lld\", ans);\n\treturn 0;\n}",
        "postTime": 1669198918,
        "uid": 163980,
        "name": "\u884c\u541f\u5578\u4e5d\u5dde",
        "ccfLevel": 7,
        "title": "P8794 [\u84dd\u6865\u676f 2022 \u56fd A] \u73af\u5883\u6cbb\u7406 \u9898\u89e3"
    }
]