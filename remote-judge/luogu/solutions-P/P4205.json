[
    {
        "content": "# \u9898\u89e3 P4205 [NOI2005]\u667a~~\u969c~~\u6167\u73e0\u6e38\u620f \n\n## \u5c0f\u65f6\u5019\uff0c\u4f60\u73a9\u667a~~\u969c~~\u6167\u73e0\uff1b\u957f\u5927\u540e\uff0c\u667a~~\u969c~~\u6167\u73e0\u73a9\u4f60\n\n![](https://cdn.luogu.com.cn/upload/pic/38300.png)\n\n### \u5148\u7ed9\u5927\u5bb6\u7b80\u8ff0\u4e00\u4e0b\u9898\u610f\uff1a\uff08\u4e0d\u4f1a\u73a9\u667a\u969c\u73e0\u6e38\u620f\u7684\u81ea\u5df1\u53bb\u767e\u5ea6\u4e00\u4e0b\uff09\n\n\u5199\u4e00\u4e2a\u7a0b\u5e8f\u89e3\u51b3\u9aa8\u7070\u7ea7\u667a\u969c\u73e0\u95ee\u9898\uff08\u53ea\u7ed9\u51fa$1$~$3$\u4e2a\u5757\uff0c\u4f60\u9700\u8981\u81ea\u5df1\u586b\u5b8c\u5269\u4e0b\u7684$9$~$11$\u5757\uff09\n\n\u6570\u636e\u4fdd\u8bc1\u81f3\u591a\u6709\u4e00\u7ec4\u89e3\u3002\n\n### \u5047\u88c5\u5206\u6790\u4e00\u4e0b\uff1a\u8fd9\u662f\u6240\u6709\u5757\u7684\u5f62\u72b6\n\n![](https://cdn.luogu.com.cn/upload/pic/13768.png)\n\n\u7531\u4e8e\u56fe\u5f62\u53ef\u4ee5\u65cb\u8f6c\u3001\u7ffb\u6298\u3001~~\u8df3\u8dc3~~\uff0c\u6240\u4ee5\u8981\u5148\u628a12\u4e2a\u96f6\u4ef6\u7684\u6240\u6709\u5f62\u72b6\u679a\u4e3e\u51fa\u6765\uff1a\n\n- A\uff1a4\u79cd  \n- B\uff1a2\u79cd\n- C\uff1a8\u79cd\n- D\uff1a1\u79cd\n- E\uff1a4\u79cd\n- F\uff1a8\u79cd\n- G\uff1a4\u79cd\n- H\uff1a8\u79cd\n- I\uff1a8\u79cd\n- J\uff1a1\u79cd\n- K\uff1a4\u79cd\n- L\uff1a8\u79cd\n\n### \u603b\u5171\u53ea\u670960\u79cd\u60c5\u51b5\uff0c\u5982\u679c\u4f60\u89c9\u5f97\u591a\u7684\u8bdd\u8bf7\u8df3\u8fc7\u6b64\u9898\u89e3\u3002\n\n### \u5982\u679c\u4f60\u4e0d\u60f3\u7528\u641c\u7d22\u505a\uff0c\u8bf7\u8df3\u8fc7\u6b64\u9898\u89e3\u3002\n\n\u6bcf\u6b21\u4ece\u4e0a\u5230\u4e0b\uff0c\u4ece\u505a\u5230\u53f3\u627e\u51fa\u7b2c\u4e00\u4e2a\u6ca1\u6709\u88ab\u653e\u96f6\u4ef6\u7684\u683c\u5b50\u300256\u79cd\u60c5\u51b5\u4e00\u4e00\u679a\u4e3e\u5c31\u884c\u4e86\uff08**\u526a\u679d\u60f3\u600e\u4e48\u641e\u600e\u4e48\u641e\u53ea\u8981\u662f\u5bf9\u7684\u5c31OK\u4e86**\uff09\u6ce8\u610f\u56de\u6eaf\u3002\n\n\u542c\u8bf4\u6709\u4e2a\u70b9\u4f1a\u5361\u987a\u5e8f\u641c\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u6362\u4e2a\u65b9\u5411\u5c31\u884c\u4e86\uff08**\u6216\u8005\u5361\u4e2a\u641c\u7d22\u6b21\u6570**\uff09\n\n** \u4ee3\u7801\u4e0d\u957f\uff0c\u521a\u8fc7\u5343\u884c\u3002\u6ca1\u6709\u732a\u56fd\u6740\u7684\u53d8\u6001\uff0c\u6ca1\u6709mayan\u6e38\u620f\u7684\u7384\u5b66\uff0c\u6ca1\u6709A+B\u95ee\u9898\u7684\u53d8\u5e7b\u65e0\u5e38\uff0c\u6ca1\u6709\u4efb\u4f55\u8d85\u7eb2\u3002\u963b\u6321\u4f60\u5411\u524d\u7684\u53ea\u662f\u4f60\u7684\u61d2\u60f0\uff0c\u662f\u4f60\u7684\u4e60\u5f97\u6027\u65e0\u52a9\u3002\u5b66OI\u7684\u610f\u4e49\u662f\u4ec0\u4e48\uff1f\u6210\u4e3adalao\u7684\u610f\u4e49\u662f\u4ec0\u4e48\uff1f\u53ea\u6709\u6210\u4e3a\u771f\u6b63\u7684\u7801\u519c\uff0c\u624d\u65e0\u6127\u4e8e\u4f60\u7684\u5185\u5fc3\u3002**\n\n~~~\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n\nusing namespace std;\n\nchar id(int x){\n    return (char)(x+'A'-1);\n}\n\nint gi(){\n    char x=getchar();\n    while(x!='.'&&(x>'Z'||x<'A')) x=getchar();\n    return x=='.'?0:(int)(x-'A'+1);\n}\n\nint a[16][16],ti;\nbool in[15];\n\nint get(){\n    for(int i=1;i<=10;i++){\n        for(int j=1;j<=i;j++)\n             if(a[j][i]==0){\n     \treturn j*100+i;\n        }\n    }\n}\n\nbool ok(){\n     for(int o=1;o<=12;o++)\n     if(in[o]==false)\n     return false;\n     return true;\n}\n\nvoid init(){\n    memset(a,-1,sizeof(a));\n    memset(in,0,sizeof(in));\n    for(int i=1;i<=10;i++){\n        for(int j=1;j<=i;j++){\n            a[j][i]=gi();\n            in[a[j][i]]=true;\n        }\n    }\n    for(int i=1;i<=10;i++){\n    \tfor(int j=1;j<=i;j++){\n    \t\tif(a[j][i]==-1) {\n    \t\t\ta[j][i]=0;\n            }\n        }\n    }\n}\n\nvoid print(){\n    for(int i=1;i<=10;i++){\n        for(int j=1;j<=i;j++){\n            cout<<id(a[j][i]);  \n        }\n        cout<<endl;\n    }\n}\n\nvoid dfs(){\n    ti++;\n    \n    if(ti>=3000000){\n        printf(\"No solution\");\n        exit(0);\n    }//\u5361\u641c\u7d22\u6b21\u6570\n    //\u53ef\u4ee5\u7384\u5b66\u8bc1\u660e\uff1a\u5982\u679c\u6709\u89e3\u90a3\u4e48\u6df1\u641c\u7684\u6700\u5927\u6b21\u6570\u4e0d\u4f1a\u8d85\u8fc73e6\n    \n    if(ok()) {\n      print();\n      exit(0);  \n    }\n      \n    int zt=get();\n    int px=zt/100;\n    int py=zt%10;\n    if(py==0) py=10;\n    \n    //A:4cases\n    if(!in[1]){\n        \n        if(a[px+1][py]==0&&a[px][py+1]==0){\n            a[px][py]=1;\n            a[px+1][py]=1;\n            a[px][py+1]=1;\n            in[1]=true;\n             dfs();\n            a[px][py]=0;\n            a[px+1][py]=0;\n            a[px][py+1]=0;\n            in[1]=false;\n        } \n        \n        if(a[px][py+1]==0&&a[px+1][py+1]==0){\n        \ta[px][py]=1;\n            a[px][py+1]=1;\n            a[px+1][py+1]=1;\n            in[1]=true;\n            dfs();\n        \ta[px][py]=0;\n            a[px][py+1]=0;\n            a[px+1][py+1]=0;\n            in[1]=false;\n        } \n        \n        if(a[px][py+1]==0&&a[px-1][py+1]==0){\n        \ta[px][py]=1;\n            a[px][py+1]=1;\n            a[px-1][py+1]=1;\n            in[1]=true;\n            dfs();\n        \ta[px][py]=0;\n            a[px][py+1]=0;\n            a[px-1][py+1]=0;\n            in[1]=false;\n        } \n        \n        if(a[px+1][py]==0&&a[px+1][py+1]==0){\n        \ta[px][py]=1;\n            a[px+1][py]=1;\n            a[px+1][py+1]=1;\n            in[1]=true;\n            dfs();\n            a[px][py]=0;\n            a[px+1][py]=0;\n            a[px+1][py+1]=0;\n            in[1]=false;\n        } \n        \n    }\n    \n    //B:2cases\n    if(!in[2]){\n        \n       if(a[px+1][py]==0&&a[px+2][py]==0&&a[px+3][py]==0){\n          a[px][py]=2;\n          a[px+1][py]=2;\n          a[px+2][py]=2;\n          a[px+3][py]=2;\n          in[2]=true;\n          dfs();\n          a[px][py]=0;\n          a[px+1][py]=0;\n          a[px+2][py]=0;\n          a[px+3][py]=0;\n          in[2]=false;\n       }\n       \n       if(a[px][py+1]==0&&a[px][py+2]==0&&a[px][py+3]==0){\n       \t  a[px][py]=2;\n          a[px][py+1]=2;\n          a[px][py+2]=2;\n          a[px][py+3]=2;\n          in[2]=true;\n          dfs();\n       \t  a[px][py]=0;\n          a[px][py+1]=0;\n          a[px][py+2]=0;\n          a[px][py+3]=0;\n          in[2]=false;\n       }\n       \n    }\n    \n    //C:8cases\n    if(!in[3]){\n        \n       if(a[px+1][py]==0&&a[px+2][py]==0&&a[px][py+1]==0){\n       \t   a[px][py]=3;\n           a[px+1][py]=3;\n           a[px+2][py]=3;\n           a[px][py+1]=3;\n           in[3]=true;\n           dfs();\n       \t   a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+2][py]=0;\n           a[px][py+1]=0;\n           in[3]=false;\n       }\n       \n       if(a[px+1][py]==0&&a[px+1][py+1]==0&&a[px+1][py+2]==0){\n       \t   a[px][py]=3;\n           a[px+1][py]=3;\n           a[px+1][py+1]=3;\n           a[px+1][py+2]=3;\n           in[3]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+1][py+1]=0;\n           a[px+1][py+2]=0;\n           in[3]=false;\n       }\n       \n       if(a[px+1][py]==0&&a[px][py+1]==0&&a[px][py+2]==0) {\n       \t   a[px][py]=3;\n           a[px+1][py]=3;\n           a[px][py+1]=3;\n           a[px][py+2]=3;\n           in[3]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           in[3]=false;\n       }\n       \n       if(a[px+1][py]==0&&a[px+2][py]==0&&a[px+2][py+1]==0){\n       \t   a[px][py]=3;\n           a[px+2][py]=3;\n           a[px+2][py+1]=3;\n           a[px+1][py]=3;\n           in[3]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+2][py]=0;\n           a[px+2][py+1]=0;\n           a[px+1][py]=0;\n           in[3]=false;\n       }  \n       \n       if(a[px+1][py+2]==0&&a[px][py+2]==0&&a[px][py+1]==0){\n       \t   a[px][py]=3;\n           a[px+1][py+2]=3;\n           a[px][py+2]=3;\n           a[px][py+1]=3;\n           in[3]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py+2]=0;\n           a[px][py+2]=0;\n           a[px][py+1]=0;\n           in[3]=false;\n       }\n       \n       if(a[px-1][py+2]==0&&a[px][py+1]==0&&a[px][py+2]==0) {\n       \t   a[px][py]=3;\n           a[px-1][py+2]=3;\n           a[px][py+1]=3;\n           a[px][py+2]=3;\n           in[3]=true;\n           dfs();\n           a[px][py]=0;\n           a[px-1][py+2]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           in[3]=false;\n       }\n       \n       if(a[px][py+1]==0&&a[px+1][py+1]==0&&a[px+2][py+1]==0){\n       \t   a[px][py]=3;\n           a[px][py+1]=3;\n           a[px+1][py+1]=3;\n           a[px+2][py+1]=3;\n           in[3]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py+1]=0;\n           a[px+2][py+1]=0;\n           in[3]=false;\n       }\n       \n       if(a[px][py+1]==0&&a[px-1][py+1]==0&&a[px-2][py+1]==0){\n       \t   a[px][py]=3;\n           a[px][py+1]=3;\n           a[px-1][py+1]=3;\n           a[px-2][py+1]=3;\n           in[3]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px-1][py+1]=0;\n           a[px-2][py+1]=0;\n           in[3]=false;\n       }\n       \n    }\n    \n    //D:1case\n    if(!in[4]){\n        \n        if(a[px][py+1]==0&&a[px+1][py+1]==0&&a[px+1][py]==0){\n           a[px][py]=4;\n           a[px][py+1]=4;\n           a[px+1][py+1]=4;\n           a[px+1][py]=4;\n           in[4]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py+1]=0;\n           a[px+1][py]=0;\n           in[4]=false;\n        } \n        \n    }\n    \n    //E:4cases\n    if(!in[5]){\n        \n      if(a[px+1][py]==0&&a[px+2][py]==0&&a[px][py+1]==0&&a[px][py+2]==0) {\n      \t   a[px][py]=5;\n           a[px+1][py]=5;\n           a[px+2][py]=5;\n           a[px][py+1]=5;\n           a[px][py+2]=5;\n           in[5]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+2][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           in[5]=false;\n      }\n      \n      if(a[px+1][py]==0&&a[px+2][py]==0&&a[px][py-1]==0&&a[px][py-2]==0) {\n      \t   a[px][py]=5;\n           a[px+1][py]=5;\n           a[px+2][py]=5;\n           a[px][py-1]=5;\n           a[px][py-2]=5;\n           in[5]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+2][py]=0;\n           a[px][py-1]=0;\n           a[px][py-2]=0;\n           in[5]=false;\n      }\n      \n      if(a[px][py+1]==0&&a[px][py+2]==0&&a[px+1][py+2]==0&&a[px+2][py+2]==0){\n      \t   a[px][py]=5;\n           a[px][py+1]=5;\n           a[px][py+2]=5;\n           a[px+1][py+2]=5;\n           a[px+2][py+2]=5;\n           in[5]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px+1][py+2]=0;\n           a[px+2][py+2]=0;\n           in[5]=false;\n      }\n      \n      if(a[px][py+1]==0&&a[px][py+2]==0&&a[px-1][py+2]==0&&a[px-2][py+2]==0){\n      \t   a[px][py]=5;\n           a[px][py+1]=5;\n           a[px][py+2]=5;\n           a[px-1][py+2]=5;\n           a[px-2][py+2]=5;\n           in[5]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px-1][py+2]=0;\n           a[px-2][py+2]=0;\n           in[5]=false;\n      }\n      \n    }\n    \n    //F:8cases\n    if(!in[6]){\n        \n       if(a[px-1][py+1]==0&&a[px][py+1]==0&&a[px+1][py+1]==0&&a[px+2][py+1]==0){\n           a[px][py]=6;\n           a[px-1][py+1]=6;\n           a[px][py+1]=6;\n           a[px+1][py+1]=6;\n           a[px+2][py+1]=6;\n           in[6]=true;\n           dfs();\n           a[px][py]=0;\n           a[px-1][py+1]=0;\n           a[px][py+1]=0;\n           a[px+1][py+1]=0;\n           a[px+2][py+1]=0;\n           in[6]=false;\n    } \n    \n       if(a[px-1][py+1]==0&&a[px][py+1]==0&&a[px+1][py+1]==0&&a[px-2][py+1]==0) {\n    \t   a[px][py]=6;\n           a[px-1][py+1]=6;\n           a[px][py+1]=6;\n           a[px+1][py+1]=6;\n           a[px-2][py+1]=6;\n           in[6]=true;\n           dfs();\n           a[px][py]=0;\n           a[px-1][py+1]=0;\n           a[px][py+1]=0;\n           a[px+1][py+1]=0;\n           a[px-2][py+1]=0;\n           in[6]=false;\n    }\n    \n       if(a[px+1][py+1]==0&&a[px+1][py]==0&&a[px+2][py]==0&&a[px+3][py]==0) {\n    \t   a[px][py]=6;\n           a[px+1][py+1]=6;\n           a[px+1][py]=6;\n           a[px+2][py]=6;\n           a[px+3][py]=6;\n           in[6]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py+1]=0;\n           a[px+1][py]=0;\n           a[px+2][py]=0;\n           a[px+3][py]=0;\n           in[6]=false;\n    }\n    \n       if(a[px+1][py]==0&&a[px+2][py+1]==0&&a[px+2][py]==0&&a[px+3][py]==0) {\n    \t   a[px][py]=6;\n           a[px+1][py]=6;\n           a[px+2][py+1]=6;\n           a[px+2][py]=6;\n           a[px+3][py]=6;\n           in[6]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+2][py+1]=0;\n           a[px+2][py]=0;\n           a[px+3][py]=0;\n           in[6]=false;\n    }\n    \n       if(a[px][py+1]==0&&a[px][py+2]==0&&a[px][py+3]==0&&a[px+1][py+1]==0){\n    \t   a[px][py]=6;\n           a[px][py+1]=6;\n           a[px][py+2]=6;\n           a[px][py+3]=6;\n           a[px+1][py+1]=6;\n           in[6]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px][py+3]=0;\n           a[px+1][py+1]=0;\n           in[6]=false;\n    } \n    \n       if(a[px][py+1]==0&&a[px][py+2]==0&&a[px][py+3]==0&&a[px-1][py+1]==0) {\n    \t   a[px][py]=6;\n           a[px][py+1]=6;\n           a[px][py+2]=6;\n           a[px][py+3]=6;\n           a[px-1][py+1]=6;\n           in[6]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px][py+3]=0;\n           a[px-1][py+1]=0;\n           in[6]=false;\n    }\n    \n       if(a[px][py+1]==0&&a[px][py+2]==0&&a[px][py+3]==0&&a[px+1][py+2]==0) {\n    \t   a[px][py]=6;\n           a[px][py+1]=6;\n           a[px][py+2]=6;\n           a[px][py+3]=6;\n           a[px+1][py+2]=6;\n           in[6]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px][py+3]=0;\n           a[px+1][py+2]=0;\n           in[6]=false;\n    }\n    \n       if(a[px][py+1]==0&&a[px][py+2]==0&&a[px][py+3]==0&&a[px-1][py+2]==0) {\n    \t   a[px][py]=6;\n           a[px][py+1]=6;\n           a[px][py+2]=6;\n           a[px][py+3]=6;\n           a[px-1][py+2]=6;\n           in[6]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px][py+3]=0;\n           a[px-1][py+2]=0;\n           in[6]=false;\n       }\n    }\n    \n    //G:4cases\n    if(!in[7]){\n        \n       if(a[px][py+1]==0&&a[px+1][py]==0&&a[px+2][py+1]==0&&a[px+2][py]==0) {\n       \t   a[px][py]=7;\n           a[px][py+1]=7;\n           a[px+1][py]=7;\n           a[px+2][py+1]=7;\n           a[px+2][py]=7;\n           in[7]=true;\n           dfs();\n       \t   a[px][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py]=0;\n           a[px+2][py+1]=0;\n           a[px+2][py]=0;\n           in[7]=false;\n       }\n       \n       if(a[px][py+1]==0&&a[px+1][py+1]==0&&a[px+2][py+1]==0&&a[px+2][py]==0) {\n       \t   a[px][py]=7;\n           a[px][py+1]=7;\n           a[px+1][py+1]=7;\n           a[px+2][py+1]=7;\n           a[px+2][py]=7;\n           in[7]=true;\n           dfs();\n       \t   a[px][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py+1]=0;\n           a[px+2][py+1]=0;\n           a[px+2][py]=0;\n           in[7]=false;\n       }\n       \n       if(a[px][py+1]==0&&a[px][py+2]==0&&a[px+1][py+2]==0&&a[px+1][py]==0) {\n       \t   a[px][py]=7;\n           a[px][py+1]=7;\n           a[px][py+2]=7;\n           a[px+1][py+2]=7;\n           a[px+1][py]=7;\n           in[7]=true;\n           dfs();\n       \t   a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px+1][py+2]=0;\n           a[px+1][py]=0;\n           in[7]=false;\n       }\n       \n       if(a[px+1][py]==0&&a[px+1][py+1]==0&&a[px+1][py+2]==0&&a[px][py+2]==0) {\n       \t   a[px][py]=7;\n           a[px+1][py]=7;\n           a[px+1][py+1]=7;\n           a[px+1][py+2]=7;\n           a[px][py+2]=7;\n           in[7]=true;\n           dfs();\n       \t   a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+1][py+1]=0;\n           a[px+1][py+2]=0;\n           a[px][py+2]=0;\n           in[7]=false;\n       }\n       \n    }\n    \n    //H:8cases\n    if(!in[8]){\n        \n    if(a[px+1][py]==0&&a[px+1][py+1]==0&&a[px+2][py]==0&&a[px+2][py+1]==0) {\n           a[px][py]=8;\n           a[px+1][py]=8;\n           a[px+1][py+1]=8;\n           a[px+2][py]=8;\n           a[px+2][py+1]=8;\n           in[8]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+1][py+1]=0;\n           a[px+2][py]=0;\n           a[px+2][py+1]=0;\n           in[8]=false;\n    }\n    \n      if(a[px-1][py+1]==0&&a[px][py+1]==0&&a[px+1][py+1]==0&&a[px+1][py]==0) {\n    \t   a[px][py]=8;\n           a[px-1][py+1]=8;\n           a[px][py+1]=8;\n           a[px+1][py+1]=8;\n           a[px+1][py]=8;\n           in[8]=true;\n           dfs();\n           a[px][py]=0;\n           a[px-1][py+1]=0;\n           a[px][py+1]=0;\n           a[px+1][py+1]=0;\n           a[px+1][py]=0;\n           in[8]=false;\n    }\n    \n      if(a[px][py+1]==0&&a[px+1][py]==0&&a[px+1][py+1]==0&&a[px+2][py+1]==0) {\n    \t   a[px][py]=8;\n           a[px+1][py]=8;\n           a[px][py+1]=8;\n           a[px+1][py+1]=8;\n           a[px+2][py+1]=8;\n           in[8]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py+1]=0;\n           a[px+2][py+1]=0;\n           in[8]=false;\n    }\n    \n      if(a[px+1][py]==0&&a[px+2][py]==0&&a[px][py+1]==0&&a[px+1][py+1]==0){\n    \t   a[px][py]=8;\n           a[px+1][py]=8;\n           a[px+2][py]=8;\n           a[px][py+1]=8;\n           a[px+1][py+1]=8;\n           in[8]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+2][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py+1]=0;\n           in[8]=false;\n    } \n    \n      if(a[px][py+1]==0&&a[px][py+2]==0&&a[px+1][py+1]==0&&a[px+1][py+2]==0) {\n    \t   a[px][py]=8;\n           a[px][py+1]=8;\n           a[px][py+2]=8;\n           a[px+1][py+1]=8;\n           a[px+1][py+2]=8;\n           in[8]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px+1][py+1]=0;\n           a[px+1][py+2]=0;\n           in[8]=false;\n    }\n \t\n      if(a[px][py+1]==0&&a[px][py+2]==0&&a[px-1][py+1]==0&&a[px-1][py+2]==0){\n    \t   a[px][py]=8;\n           a[px][py+1]=8;\n           a[px][py+2]=8;\n           a[px-1][py+1]=8;\n           a[px-1][py+2]=8;\n           in[8]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px-1][py+1]=0;\n           a[px-1][py+2]=0;\n           in[8]=false;\n    }\n    \n      if(a[px][py+1]==0&&a[px][py+2]==0&&a[px+1][py]==0&&a[px+1][py+1]==0) {\n    \t   a[px][py]=8;\n           a[px][py+1]=8;\n           a[px][py+2]=8;\n           a[px+1][py]=8;\n           a[px+1][py+1]=8;\n           in[8]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px+1][py]=0;\n           a[px+1][py+1]=0;\n           in[8]=false;\n    }\n    \n      if(a[px][py+1]==0&&a[px+1][py+2]==0&&a[px+1][py+1]==0&&a[px+1][py]==0){\n    \t   a[px][py]=8;\n           a[px][py+1]=8;\n           a[px+1][py+2]=8;\n           a[px+1][py+1]=8;\n           a[px+1][py]=8;\n           in[8]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py+2]=0;\n           a[px+1][py+1]=0;\n           a[px+1][py]=0;\n           in[8]=false;\n       } \n    }\n    \n    //I:8cases\n    if(!in[9]){\n        \n      if(a[px+1][py]==0&&a[px+2][py]==0&&a[px+2][py+1]==0&&a[px+3][py+1]==0){\n           a[px][py]=9;\n           a[px+1][py]=9;\n           a[px+2][py]=9;\n           a[px+2][py+1]=9;\n           a[px+3][py+1]=9;\n           in[9]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+2][py]=0;\n           a[px+2][py+1]=0;\n           a[px+3][py+1]=0;\n           in[9]=false;\n    }\n    \n      if(a[px-2][py+1]==0&&a[px-1][py+1]==0&&a[px][py+1]==0&&a[px+1][py]==0) {\n    \t   a[px][py]=9;\n           a[px-2][py+1]=9;\n           a[px-1][py+1]=9;\n           a[px][py+1]=9;\n           a[px+1][py]=9;\n           in[9]=true;\n           dfs();\n           a[px][py]=0;\n           a[px-2][py+1]=0;\n           a[px-1][py+1]=0;\n           a[px][py+1]=0;\n           a[px+1][py]=0;\n           in[9]=false;\n    }\n    \n      if(a[px+1][py]==0&&a[px+1][py+1]==0&&a[px+2][py+1]==0&&a[px+3][py+1]==0){\n    \t   a[px][py]=9;\n           a[px+1][py]=9;\n           a[px+1][py+1]=9;\n           a[px+2][py+1]=9;\n           a[px+3][py+1]=9;\n           in[9]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+1][py+1]=0;\n           a[px+2][py+1]=0;\n           a[px+3][py+1]=0;\n           in[9]=false;\n    } \n    \n      if(a[px][py+1]==0&&a[px-1][py+1]==0&&a[px-2][py+1]==0&&a[px+1][py]==0){\n    \t   a[px][py]=9;\n           a[px][py+1]=9;\n           a[px-1][py+1]=9;\n           a[px-2][py+1]=9;\n           a[px+1][py]=9;\n           in[9]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px-1][py+1]=0;\n           a[px-2][py+1]=0;\n           a[px+1][py]=0;\n           in[9]=false;\n    } \n    \n      if(a[px][py+1]==0&&a[px+1][py+1]==0&&a[px+1][py+3]==0&&a[px+1][py+2]==0){\n    \t   a[px][py]=9;\n           a[px][py+1]=9;\n           a[px+1][py+1]=9;\n           a[px+1][py+3]=9;\n           a[px+1][py+2]=9;\n           in[9]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py+1]=0;\n           a[px+1][py+3]=0;\n           a[px+1][py+2]=0;\n           in[9]=false;\n    }\n    \n      if(a[px][py+1]==0&&a[px-1][py+1]==0&&a[px-1][py+3]==0&&a[px-1][py+2]==0){\n    \t   a[px][py]=9;\n           a[px][py+1]=9;\n           a[px-1][py+1]=9;\n           a[px-1][py+3]=9;\n           a[px-1][py+2]=9;\n           in[9]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px-1][py+1]=0;\n           a[px-1][py+3]=0;\n           a[px-1][py+2]=0;\n           in[9]=false;\n    }\n    \n      if(a[px][py+1]==0&&a[px][py+2]==0&&a[px+1][py+2]==0&&a[px+1][py+3]==0) {\n    \t   a[px][py]=9;\n           a[px][py+1]=9;\n           a[px][py+2]=9;\n           a[px+1][py+2]=9;\n           a[px+1][py+3]=9;\n           in[9]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px+1][py+2]=0;\n           a[px+1][py+3]=0;\n           in[9]=false;\n    }\n    \n      if(a[px][py+1]==0&&a[px][py+2]==0&&a[px-1][py+2]==0&&a[px-1][py+3]==0) {\n    \t   a[px][py]=9;\n           a[px][py+1]=9;\n           a[px][py+2]=9;\n           a[px-1][py+2]=9;\n           a[px-1][py+3]=9;\n           in[9]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px-1][py+2]=0;\n           a[px-1][py+3]=0;\n           in[9]=false;\n       }\n       \n    }\n    \n    //J:1case\n    if(!in[10]){\n        \n      if(a[px][py+1]==0&&a[px][py+2]==0&&a[px-1][py+1]==0&&a[px+1][py+1]==0) {\n           a[px][py]=10;\n           a[px][py+1]=10;\n           a[px][py+2]=10;\n           a[px-1][py+1]=10;\n           a[px+1][py+1]=10;\n           in[10]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px-1][py+1]=0;\n           a[px+1][py+1]=0;\n           in[10]=false;\n      }\n      \n    }\n    \n    //K:4cases\n    if(!in[11]){\n        \n      if(a[px][py+1]==0&&a[px+1][py+1]==0&&a[px+1][py+2]==0&&a[px+2][py+2]==0) {\n           a[px][py]=11;\n           a[px][py+1]=11;\n           a[px+1][py+1]=11;\n           a[px+1][py+2]=11;\n           a[px+2][py+2]=11;\n           in[11]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py+1]=0;\n           a[px+1][py+2]=0;\n           a[px+2][py+2]=0;\n           in[11]=false;\n    }\n    \n      if(a[px][py+1]==0&&a[px-1][py+1]==0&&a[px-1][py+2]==0&&a[px-2][py+2]==0) {\n           a[px][py]=11;\n           a[px][py+1]=11;\n           a[px-1][py+1]=11;\n           a[px-1][py+2]=11;\n           a[px-2][py+2]=11;\n           in[11]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px-1][py+1]=0;\n           a[px-1][py+2]=0;\n           a[px-2][py+2]=0;\n           in[11]=false;\n    }\n    \n      if(a[px+1][py]==0&&a[px+1][py+1]==0&&a[px+2][py+1]==0&&a[px+2][py+2]==0){\n    \t   a[px][py]=11;\n           a[px+1][py]=11;\n           a[px+1][py+1]=11;\n           a[px+2][py+1]=11;\n           a[px+2][py+2]=11;\n           in[11]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+1][py+1]=0;\n           a[px+2][py+1]=0;\n           a[px+2][py+2]=0;\n           in[11]=false;\n    }\n    \n      if(a[px+1][py]==0&&a[px][py+1]==0&&a[px-1][py+1]==0&&a[px-1][py+2]==0){\n    \t   a[px][py]=11;\n           a[px][py+1]=11;\n           a[px+1][py]=11;\n           a[px-1][py+1]=11;\n           a[px-1][py+2]=11;\n           in[11]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py]=0;\n           a[px-1][py+1]=0;\n           a[px-1][py+2]=0;\n           in[11]=false;\n       }\n       \n    }\n    \n    //L:8cases\n    if(!in[12]){\n        \n      if(a[px][py+1]==0&&a[px+1][py]==0&&a[px+2][py]==0&&a[px+3][py]==0) {\n           a[px][py]=12;\n           a[px][py+1]=12;\n           a[px+1][py]=12;\n           a[px+2][py]=12;\n           a[px+3][py]=12;\n           in[12]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py]=0;\n           a[px+2][py]=0;\n           a[px+3][py]=0;\n           in[12]=false;\n    }\n    \n      if(a[px+3][py+1]==0&&a[px+1][py]==0&&a[px+2][py]==0&&a[px+3][py]==0){\n    \t   a[px][py]=12;\n           a[px+3][py+1]=12;\n           a[px+1][py]=12;\n           a[px+2][py]=12;\n           a[px+3][py]=12;\n           in[12]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+3][py+1]=0;\n           a[px+1][py]=0;\n           a[px+2][py]=0;\n           a[px+3][py]=0;\n           in[12]=false;\n    } \n    \n      if(a[px][py+1]==0&&a[px+1][py+1]==0&&a[px+2][py+1]==0&&a[px+3][py+1]==0){\n    \t   a[px][py]=12;\n           a[px][py+1]=12;\n           a[px+1][py+1]=12;\n           a[px+2][py+1]=12;\n           a[px+3][py+1]=12;\n           in[12]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py+1]=0;\n           a[px+2][py+1]=0;\n           a[px+3][py+1]=0;\n           in[12]=false;\n    } \n    \n      if(a[px][py+1]==0&&a[px-1][py+1]==0&&a[px-2][py+1]==0&&a[px-3][py+1]==0){\n    \t   a[px][py]=12;\n           a[px][py+1]=12;\n           a[px-1][py+1]=12;\n           a[px-2][py+1]=12;\n           a[px-3][py+1]=12;\n           in[12]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px-1][py+1]=0;\n           a[px-2][py+1]=0;\n           a[px-3][py+1]=0;\n           in[12]=false;\n    }\n    \n      if(a[px+1][py]==0&&a[px+1][py+1]==0&&a[px+1][py+2]==0&&a[px+1][py+3]==0) {\n    \t   a[px][py]=12;\n           a[px+1][py]=12;\n           a[px+1][py+1]=12;\n           a[px+1][py+2]=12;\n           a[px+1][py+3]=12;\n           in[12]=true;\n           dfs();\n           a[px][py]=0;\n           a[px+1][py]=0;\n           a[px+1][py+1]=0;\n           a[px+1][py+2]=0;\n           a[px+1][py+3]=0;\n           in[12]=false;\n    }\n    \n      if(a[px+1][py]==0&&a[px][py+1]==0&&a[px][py+2]==0&&a[px][py+3]==0){\n    \t   a[px][py]=12;\n           a[px][py+1]=12;\n           a[px+1][py]=12;\n           a[px][py+2]=12;\n           a[px][py+3]=12;\n           in[12]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px+1][py]=0;\n           a[px][py+2]=0;\n           a[px][py+3]=0;\n           in[12]=false;\n    } \n    \n      if(a[px][py+1]==0&&a[px][py+2]==0&&a[px][py+3]==0&&a[px+1][py+3]==0) {\n    \t   a[px][py]=12;\n           a[px][py+1]=12;\n           a[px][py+2]=12;\n           a[px][py+3]=12;\n           a[px+1][py+3]=12;\n           in[12]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px][py+3]=0;\n           a[px+1][py+3]=0;\n           in[12]=false;\n    }\n    \n      if(a[px][py+1]==0&&a[px][py+2]==0&&a[px][py+3]==0&&a[px-1][py+3]==0) {\n    \t   a[px][py]=12;\n           a[px][py+1]=12;\n           a[px][py+2]=12;\n           a[px][py+3]=12;\n           a[px-1][py+3]=12;\n           in[12]=true;\n           dfs();\n           a[px][py]=0;\n           a[px][py+1]=0;\n           a[px][py+2]=0;\n           a[px][py+3]=0;\n           a[px-1][py+3]=0;\n           in[12]=false;\n       }\n       \n    }\n    \n}\n\nvoid openfile(){\n    freopen(\"game.in\",\"r\",stdin);\n    freopen(\"game.out\",\"w\",stdout);\n}\n\nint main(){\n    //openfile();\n    init();\n    dfs();\n    printf(\"No solution\");\n    return 0;\n}\n~~~\n\n\u606d\u559c\u4f60\u5f7b\u5e95\u519c\u70c2",
        "postTime": 1539784572,
        "uid": 86210,
        "name": "Fellyhosn",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u969c\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "\u56fd\u5185\u5c11\u6709\u7684\u53ef\u4ee5\u7ec3\u4e60\u795e\u4ed9\u7b97\u6cd5\u2014\u2014**DLX**\u7684\u597d\u9898\u600e\u4e48\u53ef\u4ee5\u88ab\u7206\u641c\u57cb\u6ca1\u5462\uff1f\n\n\u770b\u5230\u8fd9\u9898\u6ca1\u6709DLX\u7684\u9898\u89e3\u6240\u4ee5\u5199\u4e00\u7bc7\uff0c\u4e0d\u8fc7\u8c8c\u4f3c\u6211\u5b9e\u73b0\u7684\u592a\u5f31\uff08\u6784\u56fe\u592a\u6162\uff09\u6240\u4ee5\u901f\u5ea6\u4e0a\u4e0d\u662f\u5f88\u5feb\u3002\n\n\u4e0b\u9762\u5f00\u59cb\u8bb2\u9898\uff0c\u4f46\u8bf7\u4fdd\u8bc1\u4f60\u8981\u5148\u5b66\u4f1aDLX\u3002\uff08[dalao\u5199\u7684\u8d85\u8be6\u7ec6DLX](https://www.cnblogs.com/grenet/p/3145800.html)\uff09\n\n\u9996\u5148\u4ed4\u7ec6\u9605\u8bfb\u4e00\u904d\u9898\u76ee\uff0c\u6211\u4eec\u53ef\u4ee5\u5927\u81f4\u6574\u7406\u51fa\u9898\u610f\uff1a**\u7528$12$\u5757\u62fc\u56fe\u586b\u6ee1\u4e00\u4e2a$10$\u884c\u7684\u4e09\u89d2\u5f62\u56fe\u6848**\n\n\u7a0d\u5fae\u5206\u6790\u4e0b\u6027\u8d28\u53d1\u73b0\u6211\u4eec\u5176\u5b9e\u53ea\u8981\u6ee1\u8db3\uff1a**\u6bcf\u4e2a\u4f4d\u7f6e\u90fd\u6709\u62fc\u56fe**\u548c**\u6bcf\u79cd\u62fc\u56fe\u90fd\u51fa\u73b0\u4e86$1$\u6b21**\u5373\u53ef\u3002\n\n\u6240\u4ee5\u7c7b\u4f3c\u4e8e\u6570\u72ec\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u8f6c\u5316\u4e3a\u4e00\u4e2a**\u7cbe\u786e\u8986\u76d6\u95ee\u9898**\uff1a\n\n\u884c\u8868\u793a\u4efb\u610f\u4e00\u79cd\u989c\u8272\u7684\u73e0\u5b50**\u4e0d\u540c**\u653e\u7f6e\uff08\u4efb\u610f\u4e00\u4e2a\u4f4d\u7f6e\u4e0d\u540c\u90fd\u7b97\u4f5c\u4e0d\u540c\uff09\n\n\u6709$55+12=67$\u5217\u3002\u524d$55$\u5217\u8868\u793a\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u90fd\u8981\u6709\u73e0\u5b50\uff0c\u540e$12$\u5217\u8981\u6c42\u6bcf\u79cd\u989c\u8272\u7684\u73e0\u5b50\u90fd\u8981\u6709\u3002\n\n\u8003\u8651\u5efa\u56fe\uff0c\u7531\u4e8e\u6570\u636e\u8303\u56f4\u5b9e\u5728\u5f88\u5c0f\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u66b4\u529b\u641e\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e00\u79cd\u989c\u8272\uff0c\u5148**\u624b\u52a8**\u6253\u8868\u6c42\u51fa\u6bcf\u4e00\u4e2a\u73e0\u5b50\u5173\u4e8e\u4e00\u4e2a\u73e0\u5b50\u7684**\u76f8\u5bf9\u5750\u6807**\u5dee\u503c\u3002\n\n\u7136\u540e\u76f4\u63a5\u679a\u4e3e\u4f4d\u7f6e\uff1f\u4f46\u662f\u8fd9\u6837\u5e76\u6ca1\u6709\u5305\u62ec**\u65cb\u8f6c**\u548c**\u7ffb\u8f6c**\u7684\u60c5\u51b5\uff0c\u96be\u9053\u8fd8\u8981\u6253\u4e00\u4e2a$8$\u500d\u7684\u8868\uff1f\n\n\u6ca1\u5fc5\u8981\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u679a\u4e3e\u5750\u6807\u4f18\u5148\u52a0\u5230\u6a2a\u5750\u6807\u8fd8\u662f\u7eb5\u5750\u6807\uff0c\u540c\u65f6\u679a\u4e3e\u4e00\u4e0b\u6bcf\u6b21\u7684\u6b63\u8d1f\u53f7\u5373\u53ef\uff08\u8fd9\u4e2a\u5177\u4f53\u770b\u4ee3\u7801\u5427\uff0c\u5f88\u597d\u7406\u89e3\u7684\uff09\n\n\u6240\u4ee5\u8fd9\u4e2a\u95ee\u9898\u5c31\u88ab\u6211\u4eec\u8f6c\u5316\u4e3a\u4e86\u4e00\u4e2a$2730$\u884c\uff0c$67$\u5217\uff0c$1$\u7684\u4e2a\u6570\u4e3a$15084$\u7684\u7cbe\u786e\u8986\u76d6\u95ee\u9898\u4e86\u3002\u76f4\u63a5\u4e0aDLX\u5373\u53ef\u3002\n\n\u503c\u5f97\u4e00\u63d0\u7684\u662f\u4f5c\u4e3a\u6b63\u89e3\u7684DLX\u7801\u91cf\u8fdc\u8fdc\u5c0f\u4e8e\u7206\u641c\u3002\uff08\u6211\u5199\u4e86\u52a0\u4e0a\u6ce8\u91ca$106$\u884c\uff0c\u800c\u4e14\u5927\u62ec\u53f7\u90fd\u6362\u884c\u4e86\uff09\n\nCODE\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#define RI register int\n#define CI const int&\n#define Ms(f,x) memset(f,x,sizeof(f))\nusing namespace std;\nconst int N=15,multag[2]={-1,1};\nconst int length[12]={3,4,4,4,5,5,5,5,5,5,5,5}; //length of shapes\nconst int table[12][5][2]= //direction of shapes\n{\n    {{0,0},{1,0},{0,1}}, //A\n    {{0,0},{0,1},{0,2},{0,3}}, //B\n    {{0,0},{1,0},{0,1},{0,2}}, //C\n    {{0,0},{1,0},{0,1},{1,1}}, //D\n    {{0,0},{1,0},{2,0},{2,1},{2,2}}, //E\n    {{0,0},{0,1},{1,1},{0,2},{0,3}}, //F\n    {{0,0},{1,0},{0,1},{0,2},{1,2}}, //G\n    {{0,0},{1,0},{0,1},{1,1},{0,2}}, //H\n    {{0,0},{0,1},{0,2},{1,2},{1,3}}, //I\n    {{0,0},{-1,1},{0,1},{1,1},{0,2}}, //J\n    {{0,0},{1,0},{1,1},{2,1},{2,2}}, //K\n    {{0,0},{1,0},{0,1},{0,2},{0,3}}, //L\n};\nconst int numx[56]={0,1,2,2,3,3,3,4,4,4,4,5,5,5,5,5,6,6,6,6,6,6,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10};\nconst int numy[56]={0,1,1,2,1,2,3,1,2,3,4,1,2,3,4,5,1,2,3,4,5,6,1,2,3,4,5,6,7,1,2,3,4,5,6,7,8,1,2,3,4,5,6,7,8,9,1,2,3,4,5,6,7,8,9,10};\nint tx[2],nx[2],num[N][N],id[2750],numrow,numcol; char puzzle[N][N]; bool vis[N];\nclass Dancing_Links_AlgorithmX\n{\n    private:\n        static const int N=2750,M=80,ALL=15100;\n        int n,m,tot,L[ALL],R[ALL],U[ALL],D[ALL],Row[ALL],Col[ALL],H[N],S[M];\n        #define Dance(i,A,s) for (i=A[s];i!=s;i=A[i])\n        inline void remove(CI c)\n        {\n            L[R[c]]=L[c]; R[L[c]]=R[c]; RI i,j;\n            Dance(i,D,c) Dance(j,R,i)\n            U[D[j]]=U[j],D[U[j]]=D[j],--S[Col[j]];\n        }\n        inline void resume(CI c)\n        {\n            RI i,j; Dance(i,U,c) Dance(j,L,i)\n            ++S[Col[U[D[j]]=D[U[j]]=j]];\n            L[R[c]]=R[L[c]]=c;\n        }\n    public:\n        inline void init(CI N,CI M)\n        {\n            n=N; m=M; for (RI i=0;i<=m;++i)\n            S[i]=0,U[i]=D[i]=i,L[i]=i-1,R[i]=i+1;\n            R[m]=0; L[0]=m; tot=m; Ms(H,0);\n        }\n        inline void link(CI r,CI c)\n        {\n            ++S[Col[++tot]=c]; Row[tot]=r;\n            D[tot]=D[c]; U[D[c]]=tot; U[tot]=c; D[c]=tot;\n            if (!H[r]) H[r]=L[tot]=R[tot]=tot; else\n            R[tot]=R[H[r]],L[R[H[r]]]=tot,L[tot]=H[r],R[H[r]]=tot;\n        }\n        inline bool DFS(void)\n        {\n            if (!R[0]) return 1; RI i,j; int now=R[0];\n            Dance(i,R,0) if (S[i]<S[now]) now=i;\n            remove(now); Dance(i,D,now)\n            {\n                if (Col[i]<=55) puzzle[numx[Col[i]]][numy[Col[i]]]=id[Row[i]]+'A';\n                Dance(j,R,i) remove(Col[j]),(Col[j]<=55)&&(puzzle[numx[Col[j]]][numy[Col[j]]]=id[Row[j]]+'A');\n                if (DFS()) return 1; Dance(j,L,i) resume(Col[j]);\n            }\n            resume(now); return 0;\n        }\n        #undef Dance\n}DLX;\ninline void init(void)\n{\n    RI i,j; for (i=1;i<=10;++i) for (j=1;j<=i;++j) if (puzzle[i][j]!='.') vis[puzzle[i][j]-'A']=1;\n    for (i=1;i<=10;++i) for (j=1;j<=i;++j) num[i][j]=++numcol; DLX.init(2730,numcol+12);\n}\nint main()\n{\n    //freopen(\"CODE.in\",\"r\",stdin); freopen(\"CODE.out\",\"w\",stdout);\n    RI i; for (i=1;i<=10;++i) scanf(\"%s\",puzzle[i]+1);\n    //build excat cover model\n    init(); for (RI cases=0,mx;cases<12;++cases)\n    for (++numcol,mx=0;mx<2;++mx) for (RI dx=0;dx<2;++dx) for (RI dy=0;dy<2;++dy)\n    for (tx[0]=1;tx[0]<=10;++tx[0]) for (tx[1]=1;tx[1]<=tx[0];++tx[1])\n    {\n        RI k; bool flag=1; for (k=0;k<length[cases];++k)\n        {\n            nx[mx]=tx[mx]+multag[dx]*table[cases][k][0];\n            nx[mx^1]=tx[mx^1]+multag[dy]*table[cases][k][1];\n            if (vis[cases]) { if (puzzle[nx[0]][nx[1]]!=cases+'A') { flag=0; break; } }\n            else if (puzzle[nx[0]][nx[1]]!='.') { flag=0; break; }\n        }\n        if (!flag) continue; id[++numrow]=cases; DLX.link(numrow,numcol);\n        for (k=0;k<length[cases];++k)\n        {\n            nx[mx]=tx[mx]+multag[dx]*table[cases][k][0];\n            nx[mx^1]=tx[mx^1]+multag[dy]*table[cases][k][1];\n            DLX.link(numrow,num[nx[0]][nx[1]]);\n        }\n    }\n    //use Dancing Links to find solution\n    if (!DLX.DFS()) return puts(\"No solution\"),0;\n    for (i=1;i<=10;++i,putchar('\\n')) for (RI j=1;j<=i;++j)\n    putchar(puzzle[i][j]); return 0;\n}\n```\n\n",
        "postTime": 1547382229,
        "uid": 41698,
        "name": "hl666",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "## \u9898\u76ee\u5927\u610f\r\n\r\n\u7528$12$\u79cd\u667a\u6167\u73e0\u7ec4\u6210\u7684\u96f6\u4ef6\uff0c\u586b\u5145$10\\times 10$\u7684\u4e09\u89d2\u5f62\u7a7a\u767d\u3002\r\n\r\n## \u9898\u89e3\r\n\r\n\u697c\u4e0a\u7684\u4ee3\u7801\u90fd\u597d\u957f\u5440\u2026\u2026\u8fd9\u91cc\u63d0\u4f9b\u4e00\u4e2a\u975e\u5e38\u7b80\u77ed\u7684\u505a\u6cd5\u3002\u65e2\u53ef\u5927\u5927\u51cf\u5c11\u7801\u91cf\uff0c\u53c8\u53ef\u51cf\u5c11\u56e0\u4e3a\u5199\u9519\u4ee3\u7801\u800c\u5bfc\u81f4\u7684\u5de8\u5927\u7684\u65f6\u95f4\u6d6a\u8d39\u3002\r\n\r\n\u867d\u7136\u667a\u6167\u73e0\u5f62\u6001\u8fe5\u5f02\uff0c\u4f46\u6211\u4eec\u80fd\u591f\u53d1\u73b0\uff0c\u6bcf\u4e00\u4e2a\u96f6\u4ef6\u90fd\u662f\u8054\u901a\u7684\uff08\u5e9f\u8bdd\uff09\u3002\u56e0\u800c\uff0c\u5047\u5982\u6211\u4eec\u968f\u4fbf\u53d6\u4e86\u96f6\u4ef6\u7684\u67d0\u4e2a\u73e0\u5b50\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u73e0\u5b50**\u4e0a\u4e0b\u5de6\u53f3\u79fb\u52a8**\uff0c\u6765\u8fd8\u539f\u51fa\u6574\u4e2a\u96f6\u4ef6\u3002\r\n\r\n\u6bd4\u5982$\\textbf{\u96f6\u4ef6H}$\uff1a\r\n  \r\n$$\\begin{matrix}\\bigcirc-\\kern{-12pt}&\\bigcirc-\\kern{-12pt}&\\bigcirc \\cr|&|\\cr\\bigcirc-\\kern{-12pt}&\\bigcirc \\cr\\end{matrix}$$\r\n\r\n\u5047\u5982\u6211\u4eec\u53d6\u5de6\u4e0a\u89d2\u7684\u70b9\u4f5c\u4e3a\u8d77\u59cb\u70b9\uff0c\u7528$\\tt \"URDL\"$\u5206\u522b\u8868\u793a\u4e0a\u3001\u53f3\u3001\u4e0b\u3001\u5de6\uff0c\u90a3\u4e48\u8fd9\u4e2a\u96f6\u4ef6\u5c31\u53ef\u4ee5\u975e\u5e38\u7b80\u5355\u5730\u8868\u793a\u4e3a$\\tt\"DRUR\"$\u3002\u7279\u522b\u5730\uff0c\u6211\u4eec\u53ef\u4ee5**\u4efb\u53d6**\u8d77\u59cb\u70b9\uff0c\u56e0\u4e3a\u65e0\u8bba\u53d6\u54ea\u4e2a\u70b9\uff0c\u6700\u7ec8\u90fd\u80fd\u8fd8\u539f\u51fa\u6574\u4e2a\u96f6\u4ef6\uff0c\u7ed3\u679c\u76f8\u540c\u3002\r\n\r\n\u4f46\u6211\u4eec\u53ef\u80fd\u9047\u5230\u7c7b\u4f3c$\\textbf{\u96f6\u4ef6J}$\u7684\u56f0\u96be\uff1a\r\n\r\n$$\\begin{matrix}&\\bigcirc \\cr&|\\cr\\bigcirc-\\kern{-12pt}&\\bigcirc-\\kern{-12pt}&\\bigcirc \\cr&|\\cr&\\bigcirc\\end{matrix}$$\r\n\r\n\u6211\u4eec\u65e0\u6cd5\u907f\u514d\u7ecf\u8fc7\u91cd\u590d\u7684\u683c\u5b50\u3002\u8fd9\u4f7f\u5f97\u6211\u4eec\u9700\u8981\u8fdb\u884c\u53bb\u91cd\u64cd\u4f5c\u3002\u4e8b\u5b9e\u4e0a\uff0c\u53ef\u4ee5\u5f15\u5165\u4e00\u4e2a\u65b0\u7684\u6307\u4ee4$\\verb!'<'!$\uff0c\u8868\u793a**\u56de\u5230\u4e0a\u4e00\u4e2a\u4f4d\u7f6e**\u3002\u90a3\u4e48\uff0c\u5982\u679c\u6211\u4eec\u53d6\u5de6\u4fa7\u7684\u70b9\u4f5c\u4e3a\u8d77\u59cb\u70b9\uff0c$\\textbf{\u96f6\u4ef6J}$\u5c31\u80fd\u591f\u8868\u793a\u4e3a$\\verb!\"RU<D<R\"!$\u3002\u4e0d\u91cd\u590d\u4e4b\u524d\u7ecf\u8fc7\u7684\u70b9\uff0c\u5c31\u53ef\u4ee5\u907f\u514d\u53bb\u91cd\u8fd9\u4e2a\u95ee\u9898\u4e86\u3002\r\n\r\n\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u5904\u7406\u5341\u4e8c\u4e2a\u96f6\u4ef6\uff0c\u5c31\u53ef\u4ee5\u5927\u5927\u51cf\u5c11\u7801\u91cf\u3002\u6211\u4eec\u8bbe\u8d77\u59cb\u70b9\u5750\u6807\u4e3a$(0,0)$\uff0c\u6839\u636e\u4e0a\u8ff0\u63cf\u8ff0\u7684\u6307\u4ee4\u8fdb\u884c\u904d\u5386\uff0c\u5c31\u80fd\u6c42\u51fa\u6bcf\u4e2a\u96f6\u4ef6\u3002\u9009\u53d6**\u5de6\u4e0a\u89d2**\uff0c\u8ba1\u7b97\u51fa\u5269\u4f59\u90e8\u5206\u7684**\u76f8\u5bf9\u5750\u6807**\u3002\r\n\r\n\u63a5\u7740\u6211\u4eec\u8fd8\u9700\u8981\u5904\u7406\u4e00\u4e2a\u68d8\u624b\u7684\u95ee\u9898\uff1a\u96f6\u4ef6\u53ef\u4ee5**\u65cb\u8f6c**\uff0c**\u7ffb\u8f6c**\u3002\r\n\r\n\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u4e2a\u95ee\u9898\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u89e3\u51b3\u3002\u5047\u5982\uff0c\u6211\u4eec\u5c06**\u4e0a\u770b\u6210\u53f3**\uff0c**\u53f3\u770b\u6210\u4e0b**\uff0c**\u4e0b\u770b\u6210\u5de6**\uff0c**\u5de6\u770b\u6210\u4e0a**\uff0c\u91cd\u65b0\u8fdb\u884c\u6784\u9020\uff0c\u5c31\u76f8\u5f53\u4e8e\u8fdb\u884c\u4e86$90\\degree$\u65cb\u8f6c\uff0c\u540c\u7406\u53ef\u4ee5\u65cb\u8f6c$180\\degree,270\\degree$\uff1b\u7ffb\u8f6c\u53ea\u8981\u5c06\u4e0a\u4e0b\u98a0\u5012\u5c31\u884c\u4e86\uff0c\u5373\u5c06\u4e0a\u770b\u6210\u4e0b\uff0c\u4e0b\u770b\u6210\u4e0a\u3002\u6709\u4e9b\u96f6\u4ef6\u5e76\u4e0d\u9700\u8981\u5904\u7406\u8fc7\u591a\u7684\u65cb\u8f6c\u3001\u7ffb\u8f6c\u64cd\u4f5c\u3002\u6211\u4eec\u53ef\u4ee5\u7528\u5e38\u91cf\u6570\u7ec4\u5b58\u50a8\u9700\u8981\u8fdb\u884c\u54ea\u4e9b\u64cd\u4f5c\u3002\r\n\r\n\u5904\u7406\u5b8c\u5b58\u50a8$12$\u4e2a\u96f6\u4ef6\u7684\u95ee\u9898\uff0c\u5269\u4e0b\u6765\u7684\u4e8b\u60c5\u5c31\u662f\u66b4\u529b\u641c\u7d22\u4e86\u3002\u6211\u4eec\u4ece\u4e0a\u5230\u4e0b\uff0c\u4ece\u5de6\u5230\u53f3\u8003\u8651\u6bcf\u4e2a\u683c\u5b50\u3002\u679a\u4e3e\u8fd9\u4e2a\u683c\u5b50\u9009\u62e9\u54ea\u4e2a\u96f6\u4ef6\uff0c\u5e76\u8fdb\u884c\u6df1\u641c\u3002\u4e4b\u6240\u4ee5\u4e0a\u6587\u8981\u4ee5\u5de6\u4e0a\u89d2\u4f5c\u4e3a\u53c2\u8003\u70b9\uff0c\u5c31\u662f\u4e3a\u4e86\u9632\u6b62\u586b\u5145\u7684\u96f6\u4ef6\u5f71\u54cd\u5230\u4e4b\u524d\u641c\u7d22\u7684\u70b9\u3002\u5982\u679c\u9700\u8981\u5f71\u54cd\u5230\u524d\u9762\u7684\u70b9\uff0c\u90a3\u4e48\u524d\u9762\u7684\u70b9\u5c31\u9700\u8981\u8003\u8651**\u4e0d\u586b\u5145\u96f6\u4ef6**\u8fd9\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u65e0\u7591\u5927\u5927\u589e\u52a0\u4e86\u679a\u4e3e\u7684\u590d\u6742\u5ea6\u3002\r\n\r\n\u6b64\u5916\uff0c\u4f7f\u7528\u6307\u9488\u7b49\u65b9\u5f0f\uff0c\u8fd8\u53ef\u4ee5\u8fdb\u4e00\u6b65\u7f29\u5c0f\u7801\u91cf\u3002\u6700\u7ec8\uff0c\u8fd9\u4e00\u9053\u7801\u519c\u9898\u5c31\u6210\u529f\u88ab\u6211\u4eec\u7528$2\\rm kB$\u5de6\u53f3\u7684\u4ee3\u7801\u5199\u5b8c\u4e86\u3002\r\n\r\n## \u53c2\u8003\u4ee3\u7801\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\r\n#pragma GCC optimize(2)\r\n#define up(l,r,i) for(int i=l;i<=r;i++)\r\n#define dn(l,r,i) for(int i=l;i>=r;i--)\r\n#define mkp(x,y) make_pair(x,y)\r\nusing namespace std;\r\ntypedef unsigned long long u64;\r\nconst int INF =2147483647;\r\nconst int N =10+3,S=8+3,M=64+3;\r\nconst char P[][S]={\"\",\"AB\",\"BBB\",\"ABB\",\"ABC\",\"CCBB\",\"BC<BB\",\r\n                     \"ABBC\",\"CBAB\",\"BBCB\",\"BA<C<B\",\"CBCB\",\"ABBB\"};\r\nconst int Q[]={0,3,1,7,0,3,7,3,7,7,0,3,7};\r\nconst int dir[4][2]={{-1,0},{0,1},{1,0},{0,-1}};\r\nint X[M],Y[M],tot,B[N][N]; bool flg,V[N];\r\nint W[N][N][S][2],num,T[N][S];\r\nvoid iit(){\r\n    int x,y,tx,ty,(*w)[2],d,t,o,ox,oy;\r\n    up(1,12,i) up(0,Q[i],j){\r\n        x=y=tx=ty=0,w=W[i][j],t=1,o=(j>3?-1:1);\r\n        for(const char *p=P[i];*p;++p){\r\n            if(*p=='<') x=ox,y=oy; else\r\n            d=(*p+j)&3,ox=x,oy=y,x+=dir[d][0]*o,y+=dir[d][1];\r\n            w[++t][0]=x,w[t][1]=y;\r\n            if(x<=tx) ty=(x<tx?y:min(y,ty)),tx=x;\r\n        }\r\n        up(1,t,k) w[k][0]-=tx,w[k][1]-=ty; T[i][j]=t;\r\n    }\r\n}\r\nint _;\r\nvoid dfs(int u){\r\n    if((++_)>5e6){puts(\"No solution\"),exit(0);}\r\n    int x=X[u],y=Y[u];  if(B[x][y]) dfs(u+1); else\r\n    up(1,12,i) if(!V[i]) up(0,Q[i],j){\r\n        bool flg=1; int (*w)[2]=W[i][j],t=T[i][j];\r\n        up(1,t,k){\r\n            int nx=x+w[k][0],ny=y+w[k][1];\r\n            if(nx>9||ny<0||ny>nx||B[nx][ny]){flg=0;break;}\r\n        }\r\n        if(!flg) continue;\r\n        up(1,t,k) B[w[k][0]+x][w[k][1]+y]=i;\r\n        ++num,V[i]=true; if(num==12){\r\n            up(0,9,a) up(0,a+1,b) putchar(b==a+1?'\\n':'A'+B[a][b]-1);\r\n            exit(0);\r\n        } else dfs(u+1),--num,V[i]=false;\r\n        up(1,t,k) B[w[k][0]+x][w[k][1]+y]=0;\r\n    }\r\n}\r\nchar readc(){\r\n    char c; while(!isalpha(c=getchar())&&c!='.'); return c;\r\n}\r\nint main(){\r\n    iit(); up(0,9,i) up(0,i,j){\r\n        char t=readc(); if(t!='.') B[i][j]=t-'A'+1,V[t-'A'+1]=true;\r\n        X[++tot]=i,Y[tot]=j;\r\n    }\r\n    up(1,12,i) if(V[i]) ++num; dfs(1); puts(\"No solution\");\r\n    return 0;\r\n}\r\n```",
        "postTime": 1590508198,
        "uid": 330759,
        "name": "\u56e7\u4ed9",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f\u3011"
    },
    {
        "content": "\u96be\u5ea6\u666e\u53ca\u3002  \n\u66b4\u529b\u679a\u4e3e\u6240\u6709\u60c5\u51b5\uff08huaji  \n\u5f3a\u884c\u5b89\u5229 http://www.cnblogs.com/xzz_233/p/bzoj1501.html\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstdlib>\n#include<cstring>\nusing namespace std;\n#define rep(a,b,c) for(rg int a=b;a<=c;a++)\n#define drep(a,b,c) for(rg int a=b;a>=c;a--)\n#define erep(a,b) for(rg int a=fir[b];a;a=nxt[a])\n#define il inline\n#define rg register\n#define vd void\n#define ok =='.'\n#define st =ch\n#define fr ='.'\n#define can(a) (yes[a])\n#define disable(a) yes[a]=0\n#define able(a) yes[a]=1\n#define nxt x,y+1\ntypedef long long ll;\nil int gi(){\n    rg int x=0;bool flg=0;rg char ch=getchar();\n    while(ch<'0'||ch>'9'){if(ch=='-')flg=1;ch=getchar();}\n    while(ch>='0'&&ch<='9')x=x*10+ch-'0',ch=getchar();\n    return flg?-x:x;\n}\nconst int n=10,m=12;\nchar s[233][233];\nbool yes[233];\nbool vis[20][20];\nil int dfs(int x,int y){\n    if(vis[x][y])return 0;\n    vis[x][y]=1;\n    if(s[x][y]!='.')return 0;\n    return 1+dfs(x+1,y)+dfs(x-1,y)+dfs(x,y+1)+dfs(x,y-1);\n}\nil vd Init(){\n    memset(s,'X',sizeof s);\n    rep(i,1,n)scanf(\"%s\",s[i]+1);\n    rep(i,0,n+1)s[i][0]='X';\n    rep(i,0,n+1)s[i][i+1]='X';\n    rep(i,0,n+1)s[n+1][i]='X';\n    rep(i,'A','L')yes[i]=1;\n    rep(i,1,n)rep(j,1,i)if(!(s[i][j]ok))yes[s[i][j]]=0;\n    rep(i,1,n)rep(j,1,i)if(s[i][j]ok&&!vis[i][j]&&dfs(i,j)<3){puts(\"No solution\");exit(0);}\n}\nil vd Dfs(int x,int y){\n    if(x==n+1){\n        rep(i,1,n){\n            rep(j,1,i)putchar(s[i][j]);\n            puts(\"\");\n        }exit(0);\n    }\n    if(y==x+1){Dfs(x+1,1);return;}\n    if(!(s[x][y]ok)){Dfs(nxt);return;}\n    char ch;\n    ch='B';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+3][y]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+3][y]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+3][y]fr;\n        }\n        if(s[x][y+1]ok&&s[x][y+2]ok&&s[x][y+3]ok){\n            s[x][y+1]st,s[x][y+2]st,s[x][y+3]st,Dfs(nxt);\n            s[x][y+1]fr,s[x][y+2]fr,s[x][y+3]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n    ch='C';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x][y+1]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x][y+1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x][y+1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+2][y+1]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+2][y+1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+2][y+1]fr;\n        }\n        if(s[x][y+1]ok&&s[x][y+2]ok&&s[x+1][y]ok){\n            s[x][y+1]st,s[x][y+2]st,s[x+1][y]st,Dfs(nxt);\n            s[x][y+1]fr,s[x][y+2]fr,s[x+1][y]fr;\n        }\n        if(s[x][y+1]ok&&s[x][y+2]ok&&s[x+1][y+2]ok){\n            s[x][y+1]st,s[x][y+2]st,s[x+1][y+2]st,Dfs(nxt);\n            s[x][y+1]fr,s[x][y+2]fr,s[x+1][y+2]fr;\n        }\n        if(s[x][y+1]ok&&s[x+1][y+1]ok&&s[x+2][y+1]ok){\n            s[x][y+1]st,s[x+1][y+1]st,s[x+2][y+1]st,Dfs(nxt);\n            s[x][y+1]fr,s[x+1][y+1]fr,s[x+2][y+1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+2][y-1]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+2][y-1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+2][y-1]fr;\n        }\n        if(y>2&&s[x+1][y]ok&&s[x+1][y-1]ok&&s[x+1][y-2]ok){\n            s[x+1][y]st,s[x+1][y-1]st,s[x+1][y-2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y-1]fr,s[x+1][y-2]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n    ch='D';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x][y+1]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x][y+1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x][y+1]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n    ch='E';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x][y+1]ok&&s[x][y+2]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x][y+1]st,s[x][y+2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x][y+1]fr,s[x][y+2]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+2][y+1]ok&&s[x+2][y+2]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+2][y+1]st,s[x+2][y+2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+2][y+1]fr,s[x+2][y+2]fr;\n        }\n        if(s[x+1][y+2]ok&&s[x+2][y+2]ok&&s[x][y+1]ok&&s[x][y+2]ok){\n            s[x+1][y+2]st,s[x+2][y+2]st,s[x][y+1]st,s[x][y+2]st,Dfs(nxt);\n            s[x+1][y+2]fr,s[x+2][y+2]fr,s[x][y+1]fr,s[x][y+2]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+2][y-1]ok&&s[x+2][y-2]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+2][y-1]st,s[x+2][y-2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+2][y-1]fr,s[x+2][y-2]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n    ch='G';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x+1][y]ok&&s[x][y+1]ok&&s[x][y+2]ok&&s[x+1][y+2]ok){\n            s[x+1][y]st,s[x][y+1]st,s[x][y+2]st,s[x+1][y+2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x][y+1]fr,s[x][y+2]fr,s[x+1][y+2]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x][y+2]ok&&s[x+1][y+2]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x][y+2]st,s[x+1][y+2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x][y+2]fr,s[x+1][y+2]fr;\n        }\n        if(s[x][y+1]ok&&s[x+1][y+1]ok&&s[x+2][y+1]ok&&s[x+2][y]ok){\n            s[x][y+1]st,s[x+1][y+1]st,s[x+2][y+1]st,s[x+2][y]st,Dfs(nxt);\n            s[x][y+1]fr,s[x+1][y+1]fr,s[x+2][y+1]fr,s[x+2][y]fr;\n        }\n        if(s[x][y+1]ok&&s[x+1][y]ok&&s[x+2][y+1]ok&&s[x+2][y]ok){\n            s[x][y+1]st,s[x+1][y]st,s[x+2][y+1]st,s[x+2][y]st,Dfs(nxt);\n            s[x][y+1]fr,s[x+1][y]fr,s[x+2][y+1]fr,s[x+2][y]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n    ch='H';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x][y+1]ok&&s[x][y+2]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x][y+1]st,s[x][y+2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x][y+1]fr,s[x][y+2]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x][y+1]ok&&s[x+1][y+2]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x][y+1]st,s[x+1][y+2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x][y+1]fr,s[x+1][y+2]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x][y+1]ok&&s[x+2][y]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x][y+1]st,s[x+2][y]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x][y+1]fr,s[x+2][y]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x][y+1]ok&&s[x+2][y+1]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x][y+1]st,s[x+2][y+1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x][y+1]fr,s[x+2][y+1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x][y+1]ok&&s[x+1][y-1]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x][y+1]st,s[x+1][y-1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x][y+1]fr,s[x+1][y-1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+1][y+1]ok&&s[x+2][y+1]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+1][y+1]st,s[x+2][y+1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+1][y+1]fr,s[x+2][y+1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+1][y-1]ok&&s[x+2][y-1]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+1][y-1]st,s[x+2][y-1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+1][y-1]fr,s[x+2][y-1]fr;\n        }\n        if(s[x][y+1]ok&&s[x+1][y+1]ok&&s[x][y+2]ok&&s[x+1][y+2]ok){\n            s[x][y+1]st,s[x+1][y+1]st,s[x][y+2]st,s[x+1][y+2]st,Dfs(nxt);\n            s[x][y+1]fr,s[x+1][y+1]fr,s[x][y+2]fr,s[x+1][y+2]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n    ch='A';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x+1][y]ok&&s[x][y+1]ok){\n            s[x+1][y]st,s[x][y+1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x][y+1]fr;\n        }\n        if(s[x+1][y+1]ok&&s[x][y+1]ok){\n            s[x+1][y+1]st,s[x][y+1]st,Dfs(nxt);\n            s[x+1][y+1]fr,s[x][y+1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y+1]ok){\n            s[x+1][y]st,s[x+1][y+1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y-1]ok){\n            s[x+1][y]st,s[x+1][y-1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y-1]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n    ch='L';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x][y+1]ok&&s[x+1][y+1]ok&&s[x+2][y+1]ok&&s[x+3][y+1]ok){\n            s[x][y+1]st,s[x+1][y+1]st,s[x+2][y+1]st,s[x+3][y+1]st,Dfs(nxt);\n            s[x][y+1]fr,s[x+1][y+1]fr,s[x+2][y+1]fr,s[x+3][y+1]fr;\n        }\n        if(s[x][y+1]ok&&s[x][y+2]ok&&s[x][y+3]ok&&s[x+1][y+3]ok){\n            s[x][y+1]st,s[x][y+2]st,s[x][y+3]st,s[x+1][y+3]st,Dfs(nxt);\n            s[x][y+1]fr,s[x][y+2]fr,s[x][y+3]fr,s[x+1][y+3]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+3][y]ok&&s[x+3][y-1]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+3][y]st,s[x+3][y-1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+3][y]fr,s[x+3][y-1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+3][y]ok&&s[x+3][y+1]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+3][y]st,s[x+3][y+1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+3][y]fr,s[x+3][y+1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x+1][y+2]ok&&s[x+1][y+3]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x+1][y+2]st,s[x+1][y+3]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x+1][y+2]fr,s[x+1][y+3]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y-1]ok&&s[x+1][y-2]ok&&s[x+1][y-3]ok){\n            s[x+1][y]st,s[x+1][y-1]st,s[x+1][y-2]st,s[x+1][y-3]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y-1]fr,s[x+1][y-2]fr,s[x+1][y-3]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+3][y]ok&&s[x][y+1]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+3][y]st,s[x][y+1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+3][y]fr,s[x][y+1]fr;\n        }\n        if(s[x+1][y]ok&&s[x][y+1]ok&&s[x][y+2]ok&&s[x][y+3]ok){\n            s[x+1][y]st,s[x][y+1]st,s[x][y+2]st,s[x][y+3]st,Dfs(nxt);\n            s[x+1][y]fr,s[x][y+1]fr,s[x][y+2]fr,s[x][y+3]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n    ch='I';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x][y+1]ok&&s[x][y+2]ok&&s[x+1][y+2]ok&&s[x+1][y+3]ok){\n            s[x][y+1]st,s[x][y+2]st,s[x+1][y+2]st,s[x+1][y+3]st,Dfs(nxt);\n            s[x][y+1]fr,s[x][y+2]fr,s[x+1][y+2]fr,s[x+1][y+3]fr;\n        }\n        if(s[x][y+1]ok&&s[x+1][y+1]ok&&s[x+1][y+2]ok&&s[x+1][y+3]ok){\n            s[x][y+1]st,s[x+1][y+1]st,s[x+1][y+2]st,s[x+1][y+3]st,Dfs(nxt);\n            s[x][y+1]fr,s[x+1][y+1]fr,s[x+1][y+2]fr,s[x+1][y+3]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y-1]ok&&s[x+2][y-1]ok&&s[x+3][y-1]ok){\n            s[x+1][y]st,s[x+1][y-1]st,s[x+2][y-1]st,s[x+3][y-1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y-1]fr,s[x+2][y-1]fr,s[x+3][y-1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+2][y-1]ok&&s[x+3][y-1]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+2][y-1]st,s[x+3][y-1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+2][y-1]fr,s[x+3][y-1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x+2][y+1]ok&&s[x+3][y+1]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x+2][y+1]st,s[x+3][y+1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x+2][y+1]fr,s[x+3][y+1]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y]ok&&s[x+2][y+1]ok&&s[x+3][y+1]ok){\n            s[x+1][y]st,s[x+2][y]st,s[x+2][y+1]st,s[x+3][y+1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y]fr,s[x+2][y+1]fr,s[x+3][y+1]fr;\n        }\n        if(y>1&&s[x][y+1]ok&&s[x+1][y]ok&&s[x+1][y-1]ok&&s[x+1][y-2]ok){\n            s[x][y+1]st,s[x+1][y]st,s[x+1][y-1]st,s[x+1][y-2]st,Dfs(nxt);\n            s[x][y+1]fr,s[x+1][y]fr,s[x+1][y-1]fr,s[x+1][y-2]fr;\n        }\n        if(y>1&&s[x][y+1]ok&&s[x][y+2]ok&&s[x+1][y]ok&&s[x+1][y-1]ok){\n            s[x][y+1]st,s[x][y+2]st,s[x+1][y]st,s[x+1][y-1]st,Dfs(nxt);\n            s[x][y+1]fr,s[x][y+2]fr,s[x+1][y]fr,s[x+1][y-1]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n    ch='J';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x+2][y]ok&&s[x+1][y-1]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x+2][y]st,s[x+1][y-1]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x+2][y]fr,s[x+1][y-1]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n    ch='F';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x+1][y]ok&&s[x+1][y-1]ok&&s[x+1][y+1]ok&&s[x+1][y+2]ok){\n            s[x+1][y]st,s[x+1][y-1]st,s[x+1][y+1]st,s[x+1][y+2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y-1]fr,s[x+1][y+1]fr,s[x+1][y+2]fr;\n        }\n        if(y>1&&s[x+1][y]ok&&s[x+1][y-1]ok&&s[x+1][y+1]ok&&s[x+1][y-2]ok){\n            s[x+1][y]st,s[x+1][y-1]st,s[x+1][y+1]st,s[x+1][y-2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y-1]fr,s[x+1][y+1]fr,s[x+1][y-2]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x+2][y]ok&&s[x+3][y]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x+2][y]st,s[x+3][y]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x+2][y]fr,s[x+3][y]fr;\n        }\n        if(s[x+1][y]ok&&s[x+1][y-1]ok&&s[x+2][y]ok&&s[x+3][y]ok){\n            s[x+1][y]st,s[x+1][y-1]st,s[x+2][y]st,s[x+3][y]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y-1]fr,s[x+2][y]fr,s[x+3][y]fr;\n        }\n        if(s[x][y+1]ok&&s[x+1][y+1]ok&&s[x][y+2]ok&&s[x][y+3]ok){\n            s[x][y+1]st,s[x+1][y+1]st,s[x][y+2]st,s[x][y+3]st,Dfs(nxt);\n            s[x][y+1]fr,s[x+1][y+1]fr,s[x][y+2]fr,s[x][y+3]fr;\n        }\n        if(s[x][y+1]ok&&s[x+1][y+2]ok&&s[x][y+2]ok&&s[x][y+3]ok){\n            s[x][y+1]st,s[x+1][y+2]st,s[x][y+2]st,s[x][y+3]st,Dfs(nxt);\n            s[x][y+1]fr,s[x+1][y+2]fr,s[x][y+2]fr,s[x][y+3]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y+1]ok&&s[x+2][y]ok&&s[x+3][y]ok){\n            s[x+1][y]st,s[x+2][y+1]st,s[x+2][y]st,s[x+3][y]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y+1]fr,s[x+2][y]fr,s[x+3][y]fr;\n        }\n        if(s[x+1][y]ok&&s[x+2][y-1]ok&&s[x+2][y]ok&&s[x+3][y]ok){\n            s[x+1][y]st,s[x+2][y-1]st,s[x+2][y]st,s[x+3][y]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+2][y-1]fr,s[x+2][y]fr,s[x+3][y]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n    ch='K';\n    if(can(ch)){\n        disable(ch);s[x][y]st;\n        if(s[x+1][y]ok&&s[x+1][y+1]ok&&s[x+2][y+1]ok&&s[x+2][y+2]ok){\n            s[x+1][y]st,s[x+1][y+1]st,s[x+2][y+1]st,s[x+2][y+2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y+1]fr,s[x+2][y+1]fr,s[x+2][y+2]fr;\n        }\n        if(s[x][y+1]ok&&s[x+1][y+1]ok&&s[x+1][y+2]ok&&s[x+2][y+2]ok){\n            s[x][y+1]st,s[x+1][y+1]st,s[x+1][y+2]st,s[x+2][y+2]st,Dfs(nxt);\n            s[x][y+1]fr,s[x+1][y+1]fr,s[x+1][y+2]fr,s[x+2][y+2]fr;\n        }\n        if(y>1&&s[x+1][y]ok&&s[x+1][y-1]ok&&s[x+2][y-1]ok&&s[x+2][y-2]ok){\n            s[x+1][y]st,s[x+1][y-1]st,s[x+2][y-1]st,s[x+2][y-2]st,Dfs(nxt);\n            s[x+1][y]fr,s[x+1][y-1]fr,s[x+2][y-1]fr,s[x+2][y-2]fr;\n        }\n        if(s[x][y+1]ok&&s[x+1][y]ok&&s[x+1][y-1]ok&&s[x+2][y-1]ok){\n            s[x][y+1]st,s[x+1][y]st,s[x+1][y-1]st,s[x+2][y-1]st,Dfs(nxt);\n            s[x][y+1]fr,s[x+1][y]fr,s[x+1][y-1]fr,s[x+2][y-1]fr;\n        }\n        s[x][y]fr;able(ch);\n    }\n}\nint main(){\n    Init();\n    Dfs(1,1);\n    puts(\"No solution\");\n    return 0;\n}\n```",
        "postTime": 1519723677,
        "uid": 23118,
        "name": "\u03bb\u1d09\u028d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "\u5148%%%\u4e00\u6ce2\u5de8\u4f6c**U62267 BJpers2** \u8fd9\u9898\u662f\u6211\u4eec\u4e00\u9053\u8003\u8bd5\u9898\uff0c\u8003\u8bd5\u65f6\u5019\u6ca1\u505a\u51fa\u6765\uff0c\u4ee5\u4e0b\u662f\u5de8\u4f6c\u6559\u672c\u849f\u84bb\u7684\u505a\u6cd5\uff0c\u53ea\u6709180\u884c\u4e0d\u5230\uff0c\u4e0d\u9700\u592a\u9ad8\u7801\u529b\u5c31\u53ef\u6572\u51fa\u4e00\u9053\u8d27\u771f\u4ef7\u5b9e\u7684\u9ed1\u9898\uff0c\u9ed1\u9898\u554a\uff01\uff01\uff01\uff08\u4eba\u751f\u4e2d\u7b2c\u4e00\u9053\u9ed1\u9898\uff09\n\n\u5de8\u4f6c\u7684\u6d1b\u8c37\u53f7https://www.luogu.org/space/show?uid=62267\n\n\u9898\u76ee\u5927\u5bb6\u5e94\u8be5\u90fd\u80fd\u770b\u61c2\uff0c\u5c31\u662f\u641c\u7d22\u3002\n\n\u9996\u5148\u6bd4\u8f83\u9ebb\u70e6\u7684\u5c31\u662f\u5404\u79cd\u96f6\u4ef6\u53ef\u4ee5\u7ffb\u8f6c\uff0c\u65cb\u8f6c\uff0c\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5148\u6253\u8868\u8868\u793a\u51fa\u539f\u6765\u7684\u56fe\u5f62\uff0c\u518d\u7528\u51fd\u6570\u7b97\u51fa\u5404\u79cd\u53d8\u6362\uff0c\u6ce8\u610f\u6709\u4e9b\u56fe\u5f62\u53ef\u4ee5\u8f6c\u4e0d\u8f6c\u90fd\u4e00\u6837\uff0c\u8981\u7279\u5224\u5904\u7406\u641c\u7d22\u65f6\u8282\u7ea6\u65f6\u95f4\uff0c\u6700\u540e\u7528\u56fe\u7684\u5f62\u5f0f\u5b58\u8d77\u6765\u5b8c\u6210\u9884\u5904\u7406\u3002\n\n\u7136\u540e\u5c31\u662f\u641c\u7d22\uff0c\u8bb2\u4e00\u4e0b\u526a\u679d\u7684\u5c0f\u6280\u5de7\uff1a\u73a9\u8fc7\u8fd9\u79cd\u6e38\u620f\u7684\u4eba\u5927\u6982\u90fd\u4f53\u4f1a\u5230\u90a3\u4e9b\u5f62\u72b6\u5947\u5947\u602a\u602a\u7684\u96f6\u4ef6\u6700\u96be\u653e\u8fdb\u53bb\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u89c4\u5b9a\u4e00\u4e2a\u641c\u7d22\u987a\u5e8f\uff0c\u5c06\u96be\u7684\u5148\u641c\u4e86\u526a\u679d\u8d8a\u65e9\u8d8a\u8282\u7ea6\u65f6\u95f4\u561b\u3002\u7136\u540e\u5e76\u67e5\u96c6\u5224\u8054\u901a\u5757\uff0c\u6211\u4eec\u53d1\u73b0\u6ca1\u6709\u5c0f\u4e8e3\u7684\u96f6\u4ef6\uff0c\u56e0\u6b64\u8054\u901a\u5757\u5c0f\u4e8e3\u526a\u6389\uff0c\u6ca1\u6709\u4e24\u4e2a\u8054\u901a\u5757\u53ef\u4ee5\u62fc\u62106\u7684\u5927\u5c0f\uff0c\u6240\u4ee56\u4e5f\u526a\u6389\uff1b\n\n\u6700\u540e\u7b2c8\u4e2a\u70b9\u8fd8\u662fT\u4e86\u3002\u3002\u56e0\u4e3a\u65e0\u89e3\u7684\u60c5\u51b5\u9700\u8981\u5168\u641c\u4e00\u904d\u6700\u6162\u3002\u3002\u4e8e\u662f\u6beb\u65e0\u610f\u5916\u5730\u7206\u70b8\u4e86\u3002\u3002\u7136\u540e\u53e6\u4e00\u4f4d\u5de8\u4f6c**U109236 Fuyuki**\u63d0\u51fa\u4e86~~WCX\u526a\u679d~~\uff0c\u5f00\u4e00\u4e2a\u65f6\u95f4\u53d8\u91cf\uff0c\u5982\u679c\u65f6\u95f4\u5927\u4e8e950ms\u76f4\u63a5\u8f93\u51fa\u201cNo solution\u201d\uff1b\u7ec8\u4e8eAC;\n\n\u53e6\u4e00\u4f4d\u5de8\u4f6c\u7684\u6d1b\u8c37\u53f7https://www.luogu.org/space/show?uid=109236\n\n\u4ee5\u4e0b\u653e\u4ee3\u7801\uff1a\n```\n#include<iostream>\n#include<cstdio>\n#include<ctime>\n#include<cstring>\n#include<cstdlib>\n#define FOR(i,a,b) for(register int i=a;i<=b;i++)\n#define ROF(i,a,b) for(register int i=a;i>=b;i--)\n#define TU(x) for(register int k=head[x],v=e[k].to;k;k=e[k].from,v=e[k].to)\nusing namespace std;\nconst int N=100,S=5,M=400;\nclock_t start,end;\nstruct Edge\n{\n\tint from,to;\n}e[M];//\u524d\u5411\u661f\u5b58\u56fe\nchar a[N][S][S]=//\u6253\u8868\u5927\u6cd5\u597d\n{\n\t{\"AA\",\n\t \"A.\"//0\n\t},{\"BBBB\"},//1\n\t{\"CCC\",\n\t \"C..\"//2\n\t},\n\t{\"DD\",\n\t \"DD\"//3\n\t},\n\t{\"E..\",\n\t \"E..\",\n\t \"EEE\"//4\n\t},\n\t{\"FFFF\",\n\t \".F..\"//5\n\t},\n\t{\"GGG\",\n\t \"G.G\"//6\n\t},\n\t{\"HHH\",\n\t \"HH.\"\t//7\n\t},\n\t{\"III.\",\n\t \"..II\"//8\n\t},\n\t{\".J.\",\n\t \"JJJ\",//9\n\t \".J.\"\n\t},\n\t{\"K..\",\n\t \"KK.\",//10\n\t \".KK\"\n\t},\n\t{\"LLLL\",\n\t \"L...\"//11\n\t}\n},Map[15][15];\nint vis[N],cnt,head[N],f[N],sz[N],cc=12;\nint dx[4]={-1,+0,+1,+0},dy[4]={+0,+1,+0,-1};\nint r[N]={2,1,2,2,3,2,2,2,2,3,3,2};//\u6bcf\u4e2a\u96f6\u4ef6\u7684\u5bbd\u5ea6\nint c[N]={2,4,3,2,3,4,3,3,4,3,3,4};//\u6bcf\u4e2a\u96f6\u4ef6\u7684\u957f\u5ea6\nint df[12]={9,8,10,6,5,11,7,4,2,0,1,3};//\u89c4\u5b9a\u641c\u7d22\u987a\u5e8f\uff0c\u5148\u628a\u96be\u586b\u7684\u586b\u8fdb\u53bb\uff0c\u65b9\u4fbf\u526a\u679d \nvoid add(int x,int y)//\u5b58\u8fb9\n{\n\te[++cnt].from=head[x];\n\te[cnt].to=y;\n\thead[x]=cnt;\n}\nvoid zhuan(char p[S][S],int x,int y,char q[S][S]){\nFOR(i,0,x-1)FOR(j,0,y-1)q[y-j-1][i]=p[i][j];}\n//\u65cb\u8f6c\nvoid fan(char p[S][S],int x,int y,char q[S][S]){\nFOR(i,0,x-1)FOR(j,0,y-1)q[i][y-j-1]=p[i][j];}\n//\u5bf9\u79f0\ninline int g(int x,int y){return (x-1)*10+y;}//\u4e8c\u7ef4\u53d8\u4e00\u7ef4\nint getf(int q){return f[q]==q?q:f[q]=getf(f[q]);}//\u5e76\u67e5\u96c6\nvoid Merge(int x,int y)\n{\n\tint fa=getf(x),fb=getf(y);\n\tif(fa!=fb)f[fa]=fb,sz[fb]+=sz[fa];//sz\u6570\u7ec4\u5b58\u8054\u901a\u5757\u5927\u5c0f\n}//\u5408\u5e76\nvoid dfs(int num)\n{\n\tif(num>=9)\n\t{\n\t\tend=clock();//WeiChenxuan\u526a\u679d\n\t\tif(double(end-start)/double(CLOCKS_PER_SEC)>=0.9)\n\t\t{\n\t\t\tcout<<\"No solution\"<<endl;\n\t\t\texit(0);\n\t\t}\n\t}\n\tint x=df[num];\n\tif(vis[x])\n\t{\n\t\tdfs(num+1);\n\t\treturn;\n\t}\n\tif(num>11)\n\t{\n\t\tFOR(i,1,10)\n\t\t{\n\t\t\tFOR(j,1,i)cout<<Map[i][j];//\u627e\u5230\u7ed3\u679c\uff0c\u8f93\u51fa\n\t\t\tcout<<endl;\n\t\t}\n\t\texit(0);\n\t}\n\tFOR(i,1,10)FOR(j,1,i){f[g(i,j)]=g(i,j);sz[g(i,j)]=1;}//\u5e76\u67e5\u96c6\u521d\u59cb\u5316\n\tFOR(i,1,10)FOR(j,1,i)\n\tif(Map[i][j]=='.')FOR(k,0,3)\n\t{\n\t\tint nx=i+dx[k],ny=j+dy[k];//\u5224\u8054\u901a\u5757\n\t\tif(Map[nx][ny]=='.')Merge(g(i,j),g(nx,ny));\n\t}\n\tFOR(i,1,10)FOR(j,1,i)if(Map[i][j]=='.')\n\t{\n\t\tint ss=sz[getf(g(i,j))];//\u5229\u7528\u8054\u901a\u5757\u5927\u5c0f\u526a\u679d\n\t\tif(ss<3 || ss==6)return;\n\t}\n\tTU(x)\n\t{\n\t\tFOR(i,1,10)FOR(j,1,i)\n\t\t{\n\t\t\tbool ok=1;\n\t\t\tFOR(p,0,r[v]-1)\n\t\t\t{\n\t\t\t\tFOR(q,0,c[v]-1)\n\t\t\t\t\tif(a[v][p][q]>='A' && a[v][p][q]<='L' && Map[i+p][j+q]!='.')\n\t\t\t\t\t{ok=0;break;}//\u5224\u65ad\u80fd\u5426\u653e\u5165\n\t\t\t\tif(!ok)break;\n\t\t\t}\n\t\t\tif(ok)\n\t\t\t{\n\t\t\t\tFOR(p,0,r[v]-1)FOR(q,0,c[v]-1)\n\t\t\t\tif(a[v][p][q]!='.')Map[i+p][j+q]=a[v][p][q];\n\t\t\t\tdfs(num+1);\n\t\t\t\tFOR(p,0,r[v]-1)FOR(q,0,c[v]-1)\n\t\t\t\tif(a[v][p][q]!='.')Map[i+p][j+q]='.';\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tFOR(i,0,11)\n\t{\n\t\tzhuan(a[i],r[i],c[i],a[++cc]);//\u5de6\u8f6c90\u00b0\n\t\tr[cc]=c[i];c[cc]=r[i];\n\t\tzhuan(a[cc],r[cc],c[cc],a[cc+1]);//\u5de6\u8f6c180\u00b0\n\t\tr[++cc]=r[i];c[cc]=c[i];\n\t\tzhuan(a[cc],r[cc],c[cc],a[cc+1]);//\u5de6\u8f6c270\u00b0=\u53f3\u8f6c90\u00b0\n\t\tr[++cc]=c[i];c[cc]=r[i];\n\t\tadd(i,i);\n\t\tif(i==3 || i==9)continue;\n\t\tadd(i,cc-2);\n\t\tif(i==1)continue;\n\t\tadd(i,cc-1);add(i,cc);\n\t\tif(i==0 || i==4 || i==10 || i==6)continue;\n\t\tint t0=i,t1=cc,t2=cc-2,t3=cc-1;\n\t\tfan(a[t0],r[t0],c[t0],a[++cc]);//\u539f\u56fe\u5bf9\u79f0\n\t\tr[cc]=r[t0];c[cc]=c[t0];\n\t\tfan(a[t1],r[t1],c[t1],a[++cc]);//\u5de6\u8f6c\u540e\u5bf9\u79f0\n\t\tr[cc]=r[t1];c[cc]=c[t1];\n\t\tfan(a[t2],r[t2],c[t2],a[++cc]);//180\u540e\u5bf9\u79f0\n\t\tr[cc]=r[t2];c[cc]=c[t2];\n\t\tfan(a[t3],r[t3],c[t3],a[++cc]);//\u53f3\u8f6c\u540e\u5bf9\u79f0\n\t\tr[cc]=r[t3];c[cc]=c[t3];\n\t\tadd(i,cc);add(i,cc-1);add(i,cc-2);add(i,cc-3);\n\t}char ch;\n\tFOR(i,1,15)FOR(j,1,15)Map[i][j]='#';\n\tFOR(i,1,10)\n\tFOR(j,1,i)\n\t{\n\t\tch=getchar();while(ch!='.' && (ch<'A' || ch>'L'))ch=getchar();//\u5f3a\u884c\u5feb\u8bfb\n\t\tMap[i][j]=ch;\n\t\tif(ch!='.')vis[ch-'A']=1;\n\t}\n\tstart=clock();\n\tdfs(0);\n\tcout<<\"No solution\"<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1539855369,
        "uid": 108254,
        "name": "colemak",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "$\\Large0.\\textbf{\u6982\u8ff0}$\n\n\u4e00\u9053~~\u6bd2\u7624~~\u597d\u9898\uff0c\u80fd\u5f88\u597d\u5730\u953b\u70bcdebug\u80fd\u529b\u548c\u7801\u529b\u3002\u503c\u5f97\u4e00\u505a  \n\u601d\u8def\u4f9d\u7136\u662f\u66b4\u641c\uff0c\u4f46\u662f\u4ee3\u7801\u5177\u6709\u8f83\u826f\u597d\u7684\u53ef\u8bfb\u6027\n\n----\n\n$\\Large1.\\textbf{\u601d\u8def}$\n\n\uff08\u6df1\u5ea6\u4f18\u5148\uff09\u641c\u7d22\u3002  \n\u628a\u6240\u6709\u53ef\u80fd\u7684\u65b9\u6848\u90fd\u8bd5\u4e00\u904d\u5373\u53ef\n\n----\n\n$\\Large2.\\textbf{\u4ee3\u7801}$\n\n\u63d0\u793a\uff1a\u535a\u5ba2\u98df\u7528\u4f53\u9a8c\u66f4\u4f73\n\n```cpp\n//#pragma GCC optimize(\"Ofast\")\n#include<cstdio>\n#include<cstring>\nconst int N=10; char ch[15]; int S,V[15];\nstruct node { int x,y,v; }A[20][20];\n\nint dfs(node &T); \nint f5(node &T1,node &T2,node &T3,node &T4,int ch,node &T) {\n\tif (V[ch-64]||T1.v||T2.v||T3.v||T4.v) return 0; \n\tV[T1.v=T2.v=T3.v=T4.v=T.v=ch-64]=1;\n\treturn dfs(T)?1:(V[ch-64]=T1.v=T2.v=T3.v=T4.v=T.v=0);\n}\nint f4(node &T1,node &T2,node &T3,int ch,node &T) {\n\tif (V[ch-64]||T1.v||T2.v||T3.v) return 0; \n\tV[T1.v=T2.v=T3.v=T.v=ch-64]=1;\n\treturn dfs(T)?1:(V[ch-64]=T1.v=T2.v=T3.v=T.v=0);\n}\nint f3(node &T1,node &T2,int ch,node &T) {\n\tif (V[ch-64]||T1.v||T2.v) return 0;  \n\tV[T1.v=T2.v=T.v=ch-64]=1;\n\treturn dfs(T)?1:(V[ch-64]=T1.v=T2.v=T.v=0);\n}\nint dfs(node &T) {\n\tif ((++S)>=5e6) return 0; \n\tint x=T.x,y=T.y; while (A[x][y].v&&x<=N) (++y)>x&&(y=1,++x);\n\tif (x==N+1) return 1; if (x!=T.x||y!=T.y) return dfs(A[x][y]);\n\tif (f5(A[x+1][y],A[x+2][y],A[x+2][y+1],A[x+2][y+2],'E',T)) return 1;\n\tif (f5(A[x+1][y],A[x+2][y],A[x][y+1],A[x][y+2],'E',T)) return 1;\n\tif (f5(A[x][y+1],A[x][y+2],A[x+1][y+2],A[x+2][y+2],'E',T)) return 1;\n\tif (y>2&&f5(A[x+1][y],A[x+2][y],A[x+2][y-1],A[x+2][y-2],'E',T)) return 1;\n\tif (f5(A[x][y+1],A[x][y+2],A[x][y+3],A[x+1][y+1],'F',T)) return 1;\n\tif (f5(A[x+1][y],A[x+2][y],A[x+3][y],A[x+1][y+1],'F',T)) return 1;\n\tif (f5(A[x][y+1],A[x][y+2],A[x][y+3],A[x+1][y+2],'F',T)) return 1;\n\tif (f5(A[x+1][y],A[x+2][y],A[x+3][y],A[x+2][y+1],'F',T)) return 1;\n\tif (y>1&&f5(A[x+1][y],A[x+2][y],A[x+3][y],A[x+2][y-1],'F',T)) return 1;\n\tif (y>1&&f5(A[x+1][y],A[x+2][y],A[x+3][y],A[x+1][y-1],'F',T)) return 1;\n\tif (y>1&&f5(A[x+1][y],A[x+1][y-1],A[x+1][y+1],A[x+1][y+2],'F',T)) return 1;\n\tif (y>2&&f5(A[x+1][y],A[x+1][y+1],A[x+1][y-1],A[x+1][y-2],'F',T)) return 1;\n\tif (f5(A[x+1][y],A[x+1][y+1],A[x+1][y+2],A[x][y+2],'G',T)) return 1;\n\tif (f5(A[x+1][y],A[x][y+1],A[x][y+2],A[x+1][y+2],'G',T)) return 1;\n\tif (f5(A[x+1][y],A[x][y+1],A[x+2][y],A[x+2][y+1],'G',T)) return 1;\n\tif (f5(A[x][y+1],A[x+1][y+1],A[x+2][y+1],A[x+2][y],'G',T)) return 1;\n\tif (f5(A[x][y+1],A[x+1][y+1],A[x][y+2],A[x+1][y+2],'H',T)) return 1;\n\tif (f5(A[x+1][y],A[x+2][y],A[x+1][y+1],A[x+2][y+1],'H',T)) return 1; \n\tif (f5(A[x+1][y],A[x][y+1],A[x+1][y+1],A[x+2][y],'H',T)) return 1;\n\tif (f5(A[x+1][y],A[x][y+1],A[x+1][y+1],A[x+2][y+1],'H',T)) return 1;\n\tif (f5(A[x+1][y],A[x][y+1],A[x+1][y+1],A[x+1][y+2],'H',T)) return 1;\n\tif (f5(A[x+1][y],A[x][y+1],A[x+1][y+1],A[x][y+2],'H',T)) return 1;\n\tif (y>1&&f5(A[x+1][y],A[x+2][y],A[x+1][y-1],A[x+2][y-1],'H',T)) return 1; \n\tif (y>1&&f5(A[x+1][y],A[x][y+1],A[x+1][y+1],A[x+1][y-1],'H',T)) return 1;\n\tif (y>2&&f5(A[x][y+1],A[x+1][y],A[x+1][y-1],A[x+1][y-2],'I',T)) return 1;\n\tif (y>1&&f5(A[x][y+1],A[x][y+2],A[x+1][y],A[x+1][y-1],'I',T)) return 1;\n\tif (f5(A[x][y+1],A[x][y+2],A[x+1][y+2],A[x+1][y+3],'I',T)) return 1;\n\tif (f5(A[x][y+1],A[x+1][y+1],A[x+1][y+2],A[x+1][y+3],'I',T)) return 1;\n\tif (f5(A[x+1][y],A[x+2][y],A[x+2][y+1],A[x+3][y+1],'I',T)) return 1;\n\tif (f5(A[x+1][y],A[x+1][y+1],A[x+2][y+1],A[x+3][y+1],'I',T)) return 1;\n\tif (y>1&&f5(A[x+1][y],A[x+1][y-1],A[x+2][y-1],A[x+3][y-1],'I',T)) return 1;\n\tif (y>1&&f5(A[x+1][y],A[x+2][y],A[x+2][y-1],A[x+3][y-1],'I',T)) return 1;\n\tif (y>1&&f5(A[x+1][y],A[x+2][y],A[x+1][y-1],A[x+1][y+1],'J',T)) return 1;\n\tif (f5(A[x+1][y],A[x+1][y+1],A[x+2][y+1],A[x+2][y+2],'K',T)) return 1;\n\tif (f5(A[x][y+1],A[x+1][y+1],A[x+1][y+2],A[x+2][y+2],'K',T)) return 1;\n\tif (y>1&&f5(A[x][y+1],A[x+1][y],A[x+1][y-1],A[x+2][y-1],'K',T)) return 1;\n\tif (y>2&&f5(A[x+1][y],A[x+1][y-1],A[x+2][y-1],A[x+2][y-2],'K',T)) return 1;\n\tif (f5(A[x+1][y],A[x+2][y],A[x+3][y],A[x+3][y+1],'L',T)) return 1; \n\tif (f5(A[x+1][y],A[x+1][y+1],A[x+1][y+2],A[x+1][y+3],'L',T)) return 1;\n\tif (f5(A[x+1][y],A[x][y+1],A[x][y+2],A[x][y+3],'L',T)) return 1;\n\tif (f5(A[x+1][y],A[x+2][y],A[x+3][y],A[x][y+1],'L',T)) return 1;\n\tif (f5(A[x][y+1],A[x][y+2],A[x][y+3],A[x+1][y+3],'L',T)) return 1;\n\tif (f5(A[x][y+1],A[x+1][y+1],A[x+2][y+1],A[x+3][y+1],'L',T)) return 1;\n\tif (y>1&&f5(A[x+1][y],A[x+2][y],A[x+3][y],A[x+3][y-1],'L',T)) return 1;\n\tif (y>3&&f5(A[x+1][y],A[x+1][y-1],A[x+1][y-2],A[x+1][y-3],'L',T)) return 1;\n\tif (f4(A[x+1][y],A[x+2][y],A[x+3][y],'B',T)) return 1;\n\tif (f4(A[x][y+1],A[x][y+2],A[x][y+3],'B',T)) return 1;\n\tif (f4(A[x][y+1],A[x][y+2],A[x+1][y+2],'C',T)) return 1;\n\tif (f4(A[x][y+1],A[x+1][y+1],A[x+2][y+1],'C',T)) return 1;\n\tif (f4(A[x+1][y],A[x][y+1],A[x][y+2],'C',T)) return 1;\n\tif (f4(A[x+1][y],A[x+2][y],A[x][y+1],'C',T)) return 1;\n\tif (f4(A[x+1][y],A[x+1][y+1],A[x+1][y+2],'C',T)) return 1;\n\tif (f4(A[x+1][y],A[x+2][y],A[x+2][y+1],'C',T)) return 1;\n\tif (y>1&&f4(A[x+1][y],A[x+2][y],A[x+2][y-1],'C',T)) return 1;\n\tif (y>2&&f4(A[x+1][y],A[x+1][y-1],A[x+1][y-2],'C',T)) return 1;\n\tif (f4(A[x+1][y],A[x][y+1],A[x+1][y+1],'D',T)) return 1; \n\tif (y>1&&f3(A[x+1][y],A[x+1][y-1],'A',T)) return 1;\n\tif (f3(A[x+1][y],A[x][y+1],'A',T)) return 1;\n\tif (f3(A[x+1][y],A[x+1][y+1],'A',T)) return 1;\n\tif (f3(A[x][y+1],A[x+1][y+1],'A',T)) return 1;\n\treturn 0;\n}\nint main() {\n\tfor (int i=0; i<=N+3; ++i) for (int j=0; j<=N+3; ++j) A[i][j]={i,j,-1};\n\tfor (int i=1; i<=N; ++i) {\n\t\tscanf(\"%s\",ch+1);\n\t\tfor (int j=1; j<=i; ++j)\n\t\t\t(A[i][j].v=(ch[j]=='.'?0:ch[j]-64))&&(V[ch[j]-64]=1);\n\t}\n\tif (!dfs(A[1][1])) return puts(\"No solution\"),0;\n\tfor (int i=1; i<=N; ++i,putchar('\\n'))\n\t\tfor (int j=1; j<=i; ++j) putchar(A[i][j].v+64);\n\treturn 0;\n}\n```\n\n\uff08\u4ee3\u7801\u591a\u5904\u5229\u7528\u4e86C++\u7279\u6027\uff0c\u663e\u5f97\u7b80\u6d01\u4e00\u4e9b\uff0c\u5982\u679c\u770b\u4e0d\u61c2\u4e0d\u5fc5\u5728\u610f\uff0c\u770b\u660e\u767ddfs,f5,f4,f3\u5c31\u884c\u4e86\uff09  \n\n\u8865\u5145\u4e00\u4e9b\u9700\u8981\u77e5\u9053\u7684C++\u7279\u6027\uff1a  \n - \u5f62\u5982 `a=b` \u7684\u4ee3\u7801\u4f1a\u5c06 `b` \u7684\u503c\u8d4b\u7ed9 `a` \uff0c\u7136\u540e\u8fd4\u56de `a` \u7684\u503c\uff08\u4e5f\u5c31\u662f `b` \u7684\u503c\uff09\u3002\u5176\u4e2d `a` \u5fc5\u987b\u662f\u53d8\u91cf\u3002  \n - \u5f62\u5982 `a,b,c,d` \u7684\u4ee3\u7801\u4f1a\u4f9d\u6b21\u6267\u884c `a` , `b` , `c` , `d` \uff0c\u6700\u540e\u8fd4\u56de `d` \u7684\u503c\u3002\n - \u5f62\u5982 `a=b=c=d=e=f` \u7684\u4ee3\u7801\u7b49\u4ef7\u4e8e `e=f,d=e,...a=b` \u3002\u5957\u7528\u4e0a\u9762\u4e24\u6761\u5206\u6790\uff0c\u53ef\u4ee5\u77e5\u9053\u5b83\u7684\u6267\u884c\u65b9\u5f0f\u662f\u4ece\u53f3\u5f80\u5de6\u6267\u884c\uff0c\u6700\u540e\u8fd4\u56de `a` \u7684\u503c\u3002\u5176\u4e2d\u9664\u4e86 `f` \u90fd\u5fc5\u987b\u662f\u53d8\u91cf\u3002\n - `a&&b` \u4e2d `&&` \u662f\u77ed\u8def\u8fd0\u7b97\u7b26\uff0c\u5728 `a=0` \u65f6\uff0c\u8868\u8fbe\u5f0f\u503c\u4e00\u5b9a\u4e3a0\uff0c\u5219**\u4e0d\u518d\u8ba1\u7b97** `b` \u800c\u76f4\u63a5\u8fd4\u56de0\u3002\u5c24\u5176\u6ce8\u610f `b` \u662f\u51fd\u6570/\u8d4b\u503c\u8bed\u53e5\u7b49\u65f6\u5c06\u4e0d\u4f1a\u88ab\u6267\u884c\u3002\n\n----\n\n$\\Large3. \\textbf{\u6ce8\u91ca}$\n\n`node` \u7ed3\u6784\u4f53\u5b58\u50a8\u4e00\u4e2a\u4f4d\u7f6e\u7684\u4fe1\u606f\uff1a\u5750\u6807\uff08x,y\uff09\u548c\u6b64\u4f4d\u7f6e\u7684\u60c5\u51b5\uff08v\uff09\u3002$v=-1$ \u8868\u793a\u51fa\u754c\uff0c$v=0$ \u8868\u793a\u662f\u7a7a\u4f4d\uff0c $v=1\\sim12$ \u5206\u522b\u5bf9\u5e94\u6446\u653e\u4e86\u96f6\u4ef6 $A\\sim L$ \u3002  \n$V$ \u5b58\u50a8\u7684\u662f\u6bcf\u4e2a\u96f6\u4ef6\u662f\u5426\u88ab\u7528\u8fc7\u3002\n\n$dfs$ \u5c31\u662f\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u6838\u5fc3\u90e8\u5206\u3002\u5b83\u7684\u8fd4\u56de\u503c\u8868\u793a\u5728\u76ee\u524d\u7684\u62fc\u76d8\u72b6\u6001\u4e0b\u80fd\u5426\u627e\u5230\u53ef\u884c\u89e3\uff0c\u627e\u5230\u5219\u8fd4\u56de1\uff0c\u5426\u5219\u8fd4\u56de0\u3002  \n\u641c\u7d22\u6309\u7167**\u4ece\u4e0a\u5230\u4e0b\u3001\u4ece\u5de6\u5230\u53f3**\u7684\u987a\u5e8f\u8fdb\u884c\uff0c\u4e14\u603b\u662f\u5728**\u5f53\u524d\u7b2c\u4e00\u4e2a\u7a7a\u4f4d**\u4e0a\u8fdb\u884c\u3002   \n\u6309\u7167\u8fd9\u4e2a\u5b9a\u4e49\u7684\u8bdd\u8981 $T$ \u6709\u4f55\u7528\uff1fqwq\uff1f  \n\u6bcf\u6b21\u4ece\u5934\u5f00\u59cb\u627e\u7a7a\u4f4d\u5b9e\u5728\u662f\u592a\u9ebb\u70e6\u4e86\uff0c\u4ece $T$ \u5f00\u59cb\u67e5\u627e\u591a\u5c11\u53ef\u4ee5\u5feb\u4e00\u70b9\u3002\u6240\u4ee5 $T$ \u7684\u6807\u51c6\u5b9a\u4e49\u5176\u5b9e\u5e94\u8be5\u662f **\u4e0d\u6bd4\u7b2c\u4e00\u4e2a\u7a7a\u4f4d\u9760\u540e\u7684\u67d0\u4e2a\u4f4d\u7f6e** \u3002\n\n\u4e0a\u8ff0\u8fc7\u7a0b\u5b8c\u6210\u540e\u5c31\u53ef\u4ee5\u8fdb\u5165\u5927\u529b\u66b4\u641c\u7684\u73af\u8282\u4e86\u3002\u624b\u7b97\u51fa\u6240\u6709\u96f6\u4ef6\u53ef\u884c\u7684\u6446\u653e\u65b9\u5f0f\uff0c\u7136\u540e\u6328\u4e2a\u5c1d\u8bd5\u5373\u53ef\u3002  \n\u9010\u4e2a\u5c1d\u8bd5\u7684\u8fc7\u7a0b\u88ab\u653e\u5728\u4e86 `f5 f4 f3` \u4e09\u4e2a\u51fd\u6570\u5185\u3002\u666e\u901a\u7684dfs\u5c31\u662f\u76f4\u63a5\u5728\u4e3b\u7a0b\u5e8f\u91cc\u9012\u5f52\u4e0b\u53bb\uff0c\u4f46\u8fd9\u91cc\u91cd\u590d\u7684\u7a0b\u5e8f\u6bb5\u5b9e\u5728\u662f\u592a\u591a\u4e86\uff0c\u6253\u5305\u6210\u51fd\u6570\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u7b80\u5316\u65b9\u6848\u3002  \n\u53ea\u8981\u6709\u4e00\u4e2a\u8fd4\u56de\u4e861\u5c31\u8bf4\u660e\u6210\u529f\u4e86\u3002\u5982\u679c\u5168\u90e8\u4e0d\u884c\u624d\u8fd4\u56de0\n\n-----\n\n$\\Large4. \\textbf{\u6ce8\u610f\u4e8b\u9879}$\n\n\u8981**\u4ece\u5927\u96f6\u4ef6\u5230\u5c0f\u96f6\u4ef6**\u9010\u4e2a\u5c1d\u8bd5\uff0c\u56e0\u4e3a\u8fd9\u6837\u641c\u5177\u6709\u66f4\u5c0f\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u80fd\u591f\u51cf\u5c0f\u641c\u7d22\u6811\uff0c\u4ece\u800c\u8d77\u5230**\u526a\u679d**\u4f18\u5316\u7684\u6548\u679c\u3002\u8fd9\u4e2a\u526a\u679d\u5177\u6709\u5f88\u597d\u7684\u6548\u679c  \n\n\u7b97\u6240\u6709\u96f6\u4ef6\u7684\u53ef\u884c\u6446\u653e\u65b9\u5f0f\u65f6\u4e00\u5b9a\u8981\u7ec6\u5fc3\uff0c\u4e00\u6b21\u6210\u529f\u6700\u597d   \n\u5b9e\u73b0\u6210\u4ee3\u7801\u7684\u65f6\u5019\u4e5f\u8981\u683c\u5916\u5c0f\u5fc3\uff0c\u5750\u6807\u4e0d\u8981\u5199\u9519\u4e86\uff0c\u56e0\u4e3a\u8fd9\u9053\u9898debug\u8d77\u6765\u771f\u7684\u662f\u76f8\u5f53\u723d\uff08  \n\u4e5f\u8bf7\u6ce8\u610f\u4ee3\u7801\u6709\u6ca1\u6709\u6570\u7ec4\u8d8a\u754c\u7684\u95ee\u9898\u3002    \n\u53cd\u6b63\u5c31\u662f**\u7ec6\u5fc3**\u3002\u3002\u8fd9\u9053\u6bd2\u7624\u9898\u8003\u9a8c\u7684\u5c31\u662f\u8010\u529b\u548c\u903b\u8f91\u7684\u4e25\u5bc6\u7a0b\u5ea6\n\n\u5173\u4e8e\u4ee3\u7801\u91cc\u7684 $S$ \uff0c\u8fd9\u4e2a\u4e1c\u897f\u5176\u5b9e\u6bd4\u8f83\u7384\u5b66   \n$S$ \u7684\u4f5c\u7528\u662f\u7edf\u8ba1\u641c\u7d22\u6b21\u6570\uff0c\u4ee3\u7801\u4e2d\u8fd9\u4e2a\u6b21\u6570\u8d85\u8fc7 $5e6$ \u5c31\u76f4\u63a5\u5224\u4e86\u65e0\u89e3\u3002  \n\u6709\u4e00\u7bc7\u9898\u89e3\u91cc\u63d0\u5230\u201c\u53ef\u4ee5\u7384\u5b66\u8bc1\u660e\u201d\uff0c\u4f46\u662f\u6211\u5e76\u4e0d\u77e5\u9053\u600e\u4e48\u8bc1  \n\n\u4f46\u662f ~~\u6b63\u5982\u9c81\u8fc5\u6240\u8bf4~~ \u4f60\u7ba1\u90a3\u4e48\u591a\u5e72\u5565\u5462\u4f60\u53ea\u8981\u4f1a\u505a\u9898\u5c31\u884c\u4e86\uff08\n\n----\n\n$\\Large5. \\textbf{\u6539\u8fdb\u65b9\u6848}$\n\n\u63d0\u4f9b\u4e00\u4e9b\u4f18\u5316\u601d\u8def\uff0c\u6709\u5174\u8da3\u53ef\u81ea\u884c\u5b9e\u73b0\n\n 1. \u94fe\u8868\u52a0\u5feb\u67e5\u627e\u901f\u5ea6\uff1a\u53ef\u4ee5\u7ed9\u6bcf\u4e2a\u4f4d\u7f6e\u90fd\u8bbe `pre` \u548c `nxt` \u6307\u9488\uff0c\u5206\u522b\u6307\u5411\u4e0a\u4e00\u4e2a/\u4e0b\u4e00\u4e2a\u7a7a\u4f4d\u3002\u53ef\u4ee5\u5229\u7528\u94fe\u8868\u7684\u6027\u8d28\u8fdb\u884c $\\Theta(1)$ \u7684\u7ef4\u62a4\u548c\u67e5\u8be2\u3002\n 2. \u629b\u5f03\u5f62\u5f0f\u4e3b\u4e49\uff1a\u5bf9\u4e8e\u7528\u8fc7\u7684\u96f6\u4ef6\uff0c`dfs` \u51fd\u6570\u7684\u5199\u6cd5\u4f7f\u5f97\u7a0b\u5e8f\u4f9d\u7136\u4f1a\u53cd\u590d\u5730\u5224\u65ad\uff0c\u6d6a\u8d39\u65f6\u95f4\u3002\u53ef\u5728\u8fd0\u884c `f5/f4/f3` \u4e4b\u524d\u5148\u5224\u65ad\u4e00\u4e0b\u96f6\u4ef6\u662f\u5426\u53ef\u7528\u3002\n 3. \u653e\u5f03\u7ed3\u6784\u4f53\uff1a\u7ed3\u6784\u4f53\u867d\u7136\u65b9\u4fbf\uff0c\u4f46\u4f20\u53c2\u4e4b\u7c7b\u7684\u90fd\u4f1a\u6bd4int\u53d8\u91cf\u6162\u4e00\u4e9b\u3002\u53ef\u4ee5\u8003\u8651\u91cd\u6784\u4ee3\u7801\uff0c\u7528int\u53d8\u91cf\u4ee3\u66ff\u7ed3\u6784\u4f53\u3002\u867d\u7136\u53ef\u80fd\u4f1a\u8ba9\u4ee3\u7801\u53d8\u4e11\u4f46\u786e\u5b9e\u6709\u7528\n \n\u53ef\u4ee5\u770b\u5230\u65f6\u95f4\u590d\u6742\u5ea6\u4e0a\u51e0\u4e4e\u6ca1\u6709\u7a33\u5b9a\u7684\u6539\u8fdb\uff0c\u4f46\u662f\u6ca1\u529e\u6cd5\uff0c\u641c\u7d22\u9898\u5c31\u662f\u9760\u7384\u5b66\u526a\u679d\u505a\u7684\u554a\uff08\u96fe\n \n---",
        "postTime": 1582006938,
        "uid": 38785,
        "name": "icyM3tra",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "\u8fd9\u9898\u53ef\u4ee5\u8003\u8651\u4e00\u4e0bDLX\uff08\u8bf7\u786e\u4fdd\u60a8\u4e86\u89e3[DLX](https://www.luogu.org/problemnew/show/P4929)\uff0c\u4f1a\u5199\u6216\u8005~~\u50cf\u6211\u4e00\u6837~~\u4e86\u89e3\u601d\u60f3\u5e76\u4e14\u80fd\u7167\u7740~~\u6284~~\u6253\u4e00\u904d\uff09\n\n\u6211\u4eec\u77e5\u9053\uff0cDLX\u662f\u7528\u6765\u89e3\u51b3\u7cbe\u51c6\u8986\u76d6\u95ee\u9898\u7684\uff0c\u7136\u540e\u8fd9\u9898\u4f3c\u4e4e\u5f88\u5bb9\u6613\u8f6c\u6362\u4e3a\u4e00\u4e2a\u7cbe\u51c6\u8986\u76d6\u95ee\u9898\u3002\n\n\u6211\u4eec\u8981\u8fbe\u6210\u7684\u76ee\u6807\u5c31\u662f\u628a55\u4e2a\u683c\u5b50\u586b\u6ee1\uff0c\u4e14\u4e0d\u91cd\u590d\uff0c\u4e8e\u662f\u670955\u5217\uff0c\u5206\u522b\u8868\u793a55\u4e2a\u683c\u5b50\uff0c\u7136\u540e\u8fd8\u6709\u8bb8\u591a\u884c\uff0c\u6bcf\u4e00\u884c\u8868\u793a\u4e00\u4e2a\u96f6\u4ef6\u7684\u4e00\u79cd\u53ef\u80fd\u7684\u6446\u653e\u3002\n\n\u8fd8\u6709\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u8fd8\u8981\u4fdd\u8bc1\u6bcf\u4e00\u4e2a\u96f6\u4ef6\u53ea\u7528\u4e00\u6b21\uff0c\u8003\u8651\u518d\u52a012\u4e2a\u5217\uff0c\u8868\u793a12\u4e2a\u96f6\u4ef6\uff0c\u7136\u540e\u6bcf\u4e00\u884c\u5728\u5bf9\u5e94\u7684\u5217\u4e0a\u518d\u52a0\u4e00\u4e2a1\u5373\u53ef\u3002\n\n\u800c\u5bf9\u4e8e\u5df2\u7ecf\u786e\u5b9a\u6446\u653e\u7684\u96f6\u4ef6\uff0c\u6211\u4eec\u8fd9\u4e2a\u96f6\u4ef6\u5c31\u53ea\u52a0\u4e00\u884c\uff1b\u7136\u540e\u6ce8\u610f\u5176\u4ed6\u96f6\u4ef6\u662f\u4e0d\u80fd\u653e\u5728\u8fd9\u4e9b\u5df2\u7ecf\u786e\u5b9a\u7684\u96f6\u4ef6\u4e0a\uff0c\u6709\u63a5\u89e6\u5230\u5c31\u4e0d\u80fd\u52a0\u8fdb\u53bb\uff08\u7406\u8bba\u4e0a\u52a0\u8fdb\u53bb\u4e5f\u6ca1\u4e8b\uff0c\u4e0d\u8fc7\u8fd9\u6837\u53ef\u4ee5\u5361\u4e00\u70b9\u70b9\u7684\u5e38\u6570\uff09\u3002\n\n\u5bf9\u4e8e\u4e00\u4e9b\u96f6\u4ef6\uff0c\u8f6c180\u5ea6\u548c\u539f\u6765\u4e00\u6837\uff0c\u6216\u8005\u8f6c90\u5ea6\u548c\u539f\u6765\u4e00\u6837\uff1b\u8fd8\u6709\u7ffb\u8f6c\u540e\u548c\u539f\u6765\u7684\u65cb\u8f6c\u540e\u4e00\u6837\u7684\u3002\u8fd9\u6700\u597d\u662f\u4e0d\u8981\u91cd\u590d\u5730\u52a0\u8fdb\u53bb\u3002\n\n\u6700\u540e\u6839\u636e\u9009\u4e86\u90a3\u4e9b\u884c\u586b\u51fa\u7b54\u6848\u3002\n\n\u8fd9\u6837\uff0c\u7528DLX\u4e0d\u52a0\u5176\u4ed6\u4efb\u4f55\u4e1c\u897f\u5c31\u80fd\u8fc7\u3002\n\n\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u53c2\u8003\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int maxr=55*12*8;\nconst int maxn=68;\nconst int maxnode=maxr*6;\n// DLX\u677f\u5b50\nstruct DLX\n{\n\tint n,sz,S[maxn],row[maxnode],col[maxnode];\n\tint L[maxnode],R[maxnode],U[maxnode],D[maxnode];\n\tint ansd,ans[maxr];\n\tvoid init(int n)\n\t{\n\t\tthis->n=n;\n\t\tfor(int i=0;i<=n;i++)\n\t\t{\n\t\t\tU[i]=i; D[i]=i; L[i]=i-1; R[i]=i+1;\n\t\t}\n\t\tR[n]=0; L[0]=n;\n\t\tsz=n+1;\n\t\tmemset(S,0,sizeof(S));\n\t}\n\tvoid addRow(int r,const vector<int> &columns)\n\t{\n\t\tint first=sz,c;\n\t\tfor(int i=0;i<columns.size();i++)\n\t\t{\n\t\t\tc=columns[i];\n\t\t\tL[sz]=sz-1; R[sz]=sz+1; D[sz]=c; U[sz]=U[c];\n\t\t\tD[U[c]]=sz; U[c]=sz;\n\t\t\trow[sz]=r; col[sz]=c;\n\t\t\tS[c]++; sz++; \n\t\t}\n\t\tR[sz-1]=first; L[first]=sz-1; \n\t}\n\t#define FOR(i,A,s) for(int i=A[s];i!=s;i=A[i])\n\tvoid remove(int c)\n\t{\n\t\tL[R[c]]=L[c]; R[L[c]]=R[c];\n\t\tFOR(i,D,c) FOR(j,R,i) { U[D[j]]=U[j]; D[U[j]]=D[j]; S[col[j]]--; } \n\t}\n\tvoid restore(int c)\n\t{\n\t\tFOR(i,U,c) FOR(j,L,i) { S[col[j]]++; U[D[j]]=j; D[U[j]]=j; }\n\t\tL[R[c]]=c; R[L[c]]=c;\n\t}\n\tbool dfs(int d)\n\t{\n\t\tif(R[0]==0)\n\t\t{\n\t\t\tansd=d;\n\t\t\treturn true;\n\t\t}\n\t\tint c=R[0];\n\t\tFOR(i,R,0) if(S[i]<S[c]) c=i;\n\t\tremove(c);\n\t\tFOR(i,D,c)\n\t\t{\n\t\t\tans[d]=row[i];\n\t\t\tFOR(j,R,i) remove(col[j]);\n\t\t\tif(dfs(d+1)) return true;\n\t\t\tFOR(j,L,i) restore(col[j]);\n\t\t}\n\t\trestore(c);\n\t\treturn false;\n\t}\n\tbool solve(vector<int>& v)\n\t{\n\t\tv.clear();\n\t\tif(!dfs(0)) return false;\n\t\tfor(int i=0;i<ansd;i++) v.push_back(ans[i]);\n\t\treturn true; \n\t}\n}solver;\nchar ma[maxr][10][11]; // \u8bb0\u5f55\u5728DLX\u4e2d\u6bcf\u4e00\u884c\u5bf9\u5e94\u7684\u5f62\u72b6\nchar ans[10][11]; // \u586b\u5145\u7b54\u6848\u7528\u7684\nint ha[10][10]; // \u6bcf\u4e00\u4e2a\u683c\u5b50\u4ee3\u8868\u5728DLX\u4e2d\u7684\u7b2c\u51e0\u5217\nbool vis[12]; // \u8bb0\u5f55\u54ea\u4e9b\u96f6\u4ef6\u88ab\u7528\u8fc7\nconst int lr[12]={0,0,1,0,0,1,0,1,1,0,0,1}; // \u5de6\u53f3\u7ffb\u8f6c\u540e\u662f\u5426\u8ddf\u65cb\u8f6c\u540e\u76f8\u540c\uff0c\u76f8\u540c\u662f1\uff0c\u4e0d\u76f8\u540c\u662f0\nconst int t[12]={4,2,4,1,4,4,4,4,4,1,4,4}; // 4\u4ee3\u8868\u65cb\u8f6c180\u5ea6\u548c\u539f\u5148\u4e0d\u540c\uff0c2\u4ee3\u8868\u65cb\u8f6c180\u5ea6\u548c\u539f\u5148\u76f8\u540c\u4f46\u65cb\u8f6c90\u5ea6\u4e0d\u540c\uff0c1\u4ee3\u8868\u65cb\u8f6c90\u5ea6\u76f8\u540c\nconst int x[12][6]={ // \u6bcf\u4e2a\u96f6\u4ef6\u5728\u4e00\u4e2a\u5e73\u9762\u76f4\u89d2\u5750\u6807\u91cc\u5bf9\u5e94\u54ea\u4e9b\u70b9\uff0c\u8fd9\u4e2a\u8bb0\u5f55x\u5750\u6807\uff0c-1\u7ed3\u675f\u3002\u8fd9\u4e2a\u5343\u4e07\u522b\u6253\u9519\u3002\n    {0,0,1,-1},\n    {0,1,2,3,-1},\n    {0,0,1,2,-1},\n    {0,0,1,1,-1},\n    {0,0,0,1,2,-1},\n    {0,1,1,2,3,-1},\n    {0,0,1,2,2,-1},\n    {0,0,1,1,2,-1},\n    {0,1,2,2,3,-1},\n    {0,1,1,1,2,-1},\n    {0,0,1,1,2,-1},\n    {0,0,1,2,3,-1},\n};\nconst int y[12][6]={ // \u8fd9\u4e2a\u8bb0\u5f55y\u5750\u6807\uff0c-1\u7ed3\u675f\n    {0,1,0,-1},\n    {0,0,0,0,-1},\n    {0,1,0,0,-1},\n    {0,1,0,1,-1},\n    {0,1,2,0,0,-1},\n    {0,0,1,0,0,-1},\n    {0,1,0,0,1,-1},\n    {0,1,0,1,0,-1},\n    {0,0,0,1,1,-1},\n    {1,0,1,2,1,-1},\n    {0,1,1,2,2,-1},\n    {0,1,0,0,0,-1},\n};\ninline void clear(int id) // \u6e05\u7a7a\u5f53\u524d\u7684\u5f62\u72b6\n{\n    register int i,j;\n    for(i=0;i<10;i++)\n        for(j=0;j<=i;j++)\n            ma[id][i][j]='.';\n}\nint main()\n{\n    register int i,j,k,l,tot,cx,cy,tx,ty;\n    vector<int> vec;\n    solver.init(67); // 67\u5217\n    for(i=0;i<10;i++)\n        scanf(\"%s\",ans[i]);\n    for(i=0;i<12;i++) vis[i]=0;\n    for(i=0;i<10;i++)\n        for(j=0;j<=i;j++)\n            if(ans[i][j]!='.')\n                vis[ans[i][j]-'A']=1;\n    for(i=0,tot=0;i<10;i++)\n    {\n        for(j=0;j<=i;j++)\n            ha[i][j]=++tot;\n        for(;j<10;j++)\n            ha[i][j]=-1;\n    }\n    for(i=0,tot=1;i<12;i++) // \u7b2c\u51e0\u4e2a\u96f6\u4ef6\n    {\n        for(j=-1;j<=lr[i];j+=2) // x\u7684\u53d8\u5316\u91cf\u662f\u5426\u4e58\u4ee5-1\u62161\u4ee3\u8868\u662f\u5426\u7ffb\u8f6c\uff0c\u800clr[i]=0\u65f6\u53ea\u53d6\u4e00\u4e2a\n            for(k=0;k<t[i];k++) // k=0\u8868\u793a\u4e0d\u65cb\u8f6c\uff0ck=1\u65f6\u8868\u793a\u65cb\u8f6c90\u5ea6\uff08\u6211\u4e0d\u592a\u6e05\u695a\u65f6\u987a\u65f6\u9488\u8fd8\u662f\u9006\u65f6\u9488\uff0c\u4f46\u4e0d\u91cd\u8981\uff09\uff0ck=2\u65f6\u8868\u793a\u65cb\u8f6c180\u5ea6\uff0ck=3\u65f6\u8868\u793a\u65cb\u8f6c270\u5ea6\uff1bt[i]=1\u65f6\u4e0d\u65cb\u8f6c\uff0ct[i]=2\u65f6\u65cb\u8f6c\u4e0d\u8d85\u8fc7180\u5ea6\uff0ct[i]=4\u65f6\u56db\u79cd\u65cb\u8f6c\u90fd\u8868\u793a\u5f97\u5230\n                for(cx=-5;cx<=15;cx++)\n                    for(cy=-5;cy<=cx+5;cy++) // \u679a\u4e3e\u96f6\u4ef6\u4e00\u89d2\n                    {\n                        clear(tot);\n                        for(l=0;x[i][l]>=0;l++)\n                        {\n                            if(k&1) // \u65cb\u8f6c\n                            {\n                                tx=cx+((k&2)?x[i][l]:-x[i][l])*j;\n                                ty=cy+((k&2)?y[i][l]:-y[i][l]);\n                            }\n                            else\n                            {\n                                tx=cx+((k&2)?y[i][l]:-y[i][l])*j;\n                                ty=cy+((k&2)?-x[i][l]:x[i][l]);\n                            }\n                            if(!(0<=ty && ty<=tx && tx<10)) break;\n                            if(vis[i] && ans[tx][ty]!=i+'A') break; // \u5df2\u7ecf\u786e\u5b9a\u7684\u96f6\u4ef6\u5fc5\u987b\u548c\u56fe\u5bf9\u5e94\n                            if(!vis[i] && ans[tx][ty]!='.') break; // \u6ca1\u786e\u5b9a\u7684\u96f6\u4ef6\u8981\u6446\u5728\u7a7a\u4f4d\u4e0a\n                            ma[tot][tx][ty]=i+'A'; // \u5148\u8bb0\u5f55\u4e0b\u6765\n                        }\n                        if(x[i][l]<0)\n                        {\n                            vec.clear();\n                            for(l=0;x[i][l]>=0;l++)\n                            {\n                                if(k&1)\n                                {\n                                    tx=cx+((k&2)?x[i][l]:-x[i][l])*j;\n                                    ty=cy+((k&2)?y[i][l]:-y[i][l]);\n                                }\n                                else\n                                {\n                                    tx=cx+((k&2)?y[i][l]:-y[i][l])*j;\n                                    ty=cy+((k&2)?-x[i][l]:x[i][l]);\n                                }\n                                vec.push_back(ha[tx][ty]); // \u586b\u4e86\u90a3\u4e9b\u5c31\u628a\u5217\u8bbe\u4e3a1\n                            }\n                            vec.push_back(i+56); // \u8fd8\u6709\u6bcf\u4e2a\u96f6\u4ef6\u5bf9\u5e94\u7684\u5217\n                            solver.addRow(tot++,vec);\n                        }\n                    }\n    }\n    if(!solver.solve(vec)) printf(\"No solution\\n\");\n    else // \u586b\u5145\u7b54\u6848\n    {\n        for(i=0;i<vec.size();i++)\n            for(j=0;j<10;j++)\n                for(k=0;k<=j;k++)\n                    if(ma[vec[i]][j][k]!='.')\n                        ans[j][k]=ma[vec[i]][j][k];\n        for(i=0;i<10;i++)\n            printf(\"%s\\n\",ans[i]);\n    }\n    return 0;\n}\n```",
        "postTime": 1545622500,
        "uid": 36998,
        "name": "ljc1301",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/coder-Uranus/p/9805366.html)\n\n### \u66b4\u529b\u679a\u4e3e+\u641c\u7d22\u526a\u679d\n\n----\n\n# \u601d\u8def\n\n> \u5176\u4ed6\u4e09\u9053\u9898\u90fd\u6ca1\u505a\uff0c\u8fd9\u9053\u9898$AC$\u4e86\uff0c\u4e0d\u4e5f\u4e0d\u9519\u5417\uff1f  --Mercury\n\n\u641c\u7d22\u6a21\u62df\u6d4b\u8bd5\u8003\u9ed1\u9898\uff0c\u7b80\u76f4\u6bd2\u7624\u3002\u8003\u573a\u4e0a\u7528\u4e86\u4e24\u4e2a\u591a\u5c0f\u65f6\u6572\u8fd9\u9053\u9898\uff0c\u8fd8\u5dee\u4e00\u4e2a\u5c0f\u526a\u679d\u624d\u80fd$AC$\u3002\n\n\u9996\u5148\u6211\u4eec\u679a\u4e3e\u6bcf\u4e00\u79cd\u96f6\u4ef6\u7684\u653e\u7f6e\u65b9\u6cd5\uff0c\u7136\u540e\u66b4\u529b\u679a\u4e3e\u9010\u4e2a\u5224\u65ad\u6bcf\u4e2a\u4f4d\u7f6e\u4e0a\u5e94\u8be5\u653e\u54ea\u4e2a\u96f6\u4ef6\u3002\u4e3a\u4e86\u63d0\u9ad8\u679a\u4e3e\u6548\u7387\uff0c\u6211\u4eec\u89c4\u5b9a\u653e\u5165\u7684\u96f6\u4ef6\u5bf9\u4e0a\u4e00\u884c\u6ca1\u6709\u5f71\u54cd\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u679a\u4e3e\u6bcf\u4e2a\u4f4d\u7f6e\u653e\u7f6e\u7684\u96f6\u4ef6\uff0c\u4e5f\u5c31\u662f\u679a\u4e3e\u8be5\u96f6\u4ef6\u7684\u5de6\u4e0a\u89d2\u653e\u7f6e\u5728\u8be5\u4f4d\u7f6e\u65f6\u662f\u5426\u6709\u53ef\u884c\u65b9\u6848\u3002\n\n\u7136\u800c\u6700\u540e\u88ab\u8fd9\u6837\u7684\u4e00\u7ec4\u6570\u636e\u5361\u6389\u4e86\uff1a\n\n```text\n.\n..\n...\n....\n.....\n......\n.......\n.......J\n......JJJ\n.......J..\n```\n\n\u663e\u7136\uff0c\u53f3\u4e0b\u89d2\u4ec0\u4e48\u90fd\u653e\u4e0d\u8fdb\u53bb\uff0c\u800c\u6211\u7684\u641c\u7d22\u662f\u987a\u5e8f\u641c\u7d22\uff0c\u6240\u4ee5\u4e00\u76f4\u8981\u5230\u5feb\u641c\u7d22\u5b8c\u624d\u4f1a\u5224\u65ad\u5230\u53f3\u4e0b\u89d2\uff0c\u6211\u7684\u7a0b\u5e8f\u4e5f\u56e0\u6b64\u88ab\u5361\u5230\u4e86$8$\u79d2 ~~\uff08\u660e\u660eDLX\u624d\u662f\u6b63\u89e3\u597d\u5427\uff0c\u795etm\u66b4\u641c\u88ab\u5361\uff09~~ \u3002\u4e8e\u662f\u6709\u8fd9\u6837\u7684\u4e00\u4e2a\u4f18\u5316\uff1a\u5bf9\u4e8e\u5f53\u524d\u5c40\u9762\u5982\u679c\u6700\u5c0f\u8054\u901a\u5757\u7684\u5927\u5c0f$\\leq 2$\uff0c\u90a3\u4e48\u5c31\u662f\u4e0d\u53ef\u884c\u7684\u65b9\u6848\uff0c\u76f4\u63a5\u56de\u6eaf\u3002\u8fd9\u6837\u5c31\u53ef\u4ee5\u5f88\u5feb\u5730\u8dd1\u5b8c\u4e86\u3002\n\n# AC\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nchar G[15][15];\nbool vis[26],hjj[15][15];\ninline char readc()\n{\n    char ch=getchar();\n    while(ch!='.'&&!isalpha(ch)) ch=getchar();\n    return ch;\n}\ninline void print()\n{\n    for(int i=1;i<=10;i++)\n    {\n        for(int j=1;j<=i;j++) putchar(G[i][j]);\n        putchar('\\n');\n    }\n}\nbool judge(int x,int y,char z,int w)\n{\n    if(z=='A')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y]=='.') return true;\n        else if(w==1&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y+1]=='.') return true;\n        else if(w==2&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.') return true;\n        else if(w==3&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.') return true;\n        return false;\n    }\n    else if(z=='B')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x][y+3]=='.') return true;\n        else if(w==1&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+3][y]=='.') return true;\n        return false;\n    }\n    else if(z=='C')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y]=='.') return true;\n        else if(w==1&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y+1]=='.') return true;\n        else if(w==2&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.'&&G[x+1][y-2]=='.') return true;\n        else if(w==3&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.') return true;\n        else if(w==4&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.') return true;\n        else if(w==5&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y+2]=='.') return true;\n        else if(w==6&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.') return true;\n        else if(w==7&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y-1]=='.') return true;\n        return false;\n    }\n    else if(z=='D')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.') return true;\n        return false;\n    }\n    else if(z=='E')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.'&&G[x+2][y+2]=='.') return true;\n        else if(w==1&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.') return true;\n        else if(w==2&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y+2]=='.'&&G[x+2][y+2]=='.') return true;\n        else if(w==3&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y-1]=='.'&&G[x+2][y-2]=='.') return true;\n        return false;\n    }\n    else if(z=='F')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x][y+3]=='.'&&G[x+1][y+1]=='.') return true;\n        else if(w==1&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+3][y]=='.'&&G[x+1][y-1]=='.') return true;\n        else if(w==2&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y-1]=='.'&&G[x+1][y-2]=='.') return true;\n        else if(w==3&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.'&&G[x+3][y]=='.') return true;\n        else if(w==4&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.') return true;\n        else if(w==5&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x][y+3]=='.'&&G[x+1][y+2]=='.') return true;\n        else if(w==6&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y]=='.'&&G[x+3][y]=='.') return true;\n        else if(w==7&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y-1]=='.'&&G[x+3][y]=='.') return true;\n        return false;\n    }\n    else if(z=='G')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y]=='.'&&G[x+1][y+2]=='.') return true;\n        else if(w==1&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.') return true;\n        else if(w==2&&G[x][y]=='.'&&G[x][y+2]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.') return true;\n        else if(w==3&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.') return true;\n        return false;\n    }\n    else if(z=='H')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.') return true;\n        else if(w==1&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y+1]=='.') return true;\n        else if(w==2&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.'&&G[x+1][y+1]=='.') return true;\n        else if(w==3&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.') return true;\n        else if(w==4&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.') return true;\n        else if(w==5&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y]=='.') return true;\n        else if(w==6&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.') return true;\n        else if(w==7&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.'&&G[x+2][y]=='.'&&G[x+2][y-1]=='.') return true;\n        return false;\n    }\n    else if(z=='I')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y+2]=='.'&&G[x+1][y+3]=='.') return true;\n        else if(w==1&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y-1]=='.'&&G[x+3][y-1]=='.') return true;\n        else if(w==2&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.'&&G[x+1][y+3]=='.') return true;\n        else if(w==3&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.'&&G[x+2][y-1]=='.'&&G[x+3][y-1]=='.') return true;\n        else if(w==4&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.') return true;\n        else if(w==5&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.'&&G[x+3][y+1]=='.') return true;\n        else if(w==6&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.'&&G[x+1][y-2]=='.') return true;\n        else if(w==7&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y+1]=='.'&&G[x+3][y+1]=='.') return true;\n        return false;\n    }\n    else if(z=='J')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y]=='.') return true;\n        return false;\n    }\n    else if(z=='K')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y+1]=='.'&&G[x+2][y+2]=='.') return true;\n        else if(w==1&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.'&&G[x+2][y-1]=='.') return true;\n        else if(w==2&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.'&&G[x+2][y+2]=='.') return true;\n        else if(w==3&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.'&&G[x+2][y-1]=='.'&&G[x+2][y-2]=='.') return true;\n        return false;\n    }\n    else if(z=='L')\n    {\n        if(w==0&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x][y+3]=='.'&&G[x+1][y]=='.') return true;\n        else if(w==1&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y+1]=='.'&&G[x+3][y+1]=='.') return true;\n        else if(w==2&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y-1]=='.'&&G[x+1][y-2]=='.'&&G[x+1][y-3]=='.') return true;\n        else if(w==3&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+3][y]=='.'&&G[x+3][y+1]=='.') return true;\n        else if(w==4&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.'&&G[x+1][y+3]=='.') return true;\n        else if(w==5&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+3][y]=='.') return true;\n        else if(w==6&&G[x][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x][y+3]=='.'&&G[x+1][y+3]=='.') return true;\n        else if(w==7&&G[x][y]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+3][y]=='.'&&G[x+3][y-1]=='.') return true;\n        return false;\n    }\n    return false;\n}\nvoid fill(int x,int y,char z,int w)\n{\n    if(z=='A')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x+1][y]='A';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y+1]='A';\n        else if(w==2) G[x][y]=G[x+1][y]=G[x+1][y-1]='A';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+1][y+1]='A';\n    }\n    else if(z=='B')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]='B';\n        else if(w==1) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]='B';\n    }\n    else if(z=='C')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y]='C';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]='C';\n        else if(w==2) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+1][y-2]='C';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]='C';\n        else if(w==4) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]='C';\n        else if(w==5) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]='C';\n        else if(w==6) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]='C';\n        else if(w==7) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y-1]='C';\n    }\n    else if(z=='D') G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y+1]='D';\n    else if(z=='E')\n    {\n        if(w==0) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+2][y+2]='E';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y]=G[x+2][y]='E';\n        else if(w==2) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]=G[x+2][y+2]='E';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y-1]=G[x+2][y-2]='E';\n    }\n    else if(z=='F')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y+1]='F';\n        else if(w==1) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]=G[x+1][y-1]='F';\n        else if(w==2) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y-1]=G[x+1][y-2]='F';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+3][y]='F';\n        else if(w==4) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+1][y+1]=G[x+1][y+2]='F';\n        else if(w==5) G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y+2]='F';\n        else if(w==6) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y]=G[x+3][y]='F';\n        else if(w==7) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y-1]=G[x+3][y]='F';\n    }\n    else if(z=='G')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y]=G[x+1][y+2]='G';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y]=G[x+2][y+1]='G';\n        else if(w==2) G[x][y]=G[x][y+2]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]='G';\n        else if(w==3) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]='G';\n    }\n    else if(z=='H')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y]=G[x+1][y+1]='H';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y+1]=G[x+2][y+1]='H';\n        else if(w==2) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y-1]=G[x+1][y+1]='H';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y]=G[x+2][y+1]='H';\n        else if(w==4) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]='H';\n        else if(w==5) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y+1]=G[x+2][y]='H';\n        else if(w==6) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+1]=G[x+1][y+2]='H';\n        else if(w==7) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+2][y]=G[x+2][y-1]='H';\n    }\n    else if(z=='I')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]=G[x+1][y+3]='I';\n        else if(w==1) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y-1]=G[x+3][y-1]='I';\n        else if(w==2) G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y+2]=G[x+1][y+3]='I';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+2][y-1]=G[x+3][y-1]='I';\n        else if(w==4) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y]=G[x+1][y-1]='I';\n        else if(w==5) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+3][y+1]='I';\n        else if(w==6) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y-1]=G[x+1][y-2]='I';\n        else if(w==7) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y+1]=G[x+3][y+1]='I';\n    }\n    else if(z=='J') G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+1][y+1]=G[x+2][y]='J';\n    else if(z=='K')\n    {\n        if(w==0) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y+1]=G[x+2][y+2]='K';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y-1]=G[x+2][y-1]='K';\n        else if(w==2) G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y+2]=G[x+2][y+2]='K';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+2][y-1]=G[x+2][y-2]='K';\n    }\n    else if(z=='L')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y]='L';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]=G[x+3][y+1]='L';\n        else if(w==2) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+1][y-2]=G[x+1][y-3]='L';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]=G[x+3][y+1]='L';\n        else if(w==4) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]=G[x+1][y+3]='L';\n        else if(w==5) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]=G[x+3][y]='L';\n        else if(w==6) G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y+3]='L';\n        else if(w==7) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]=G[x+3][y-1]='L';\n    }\n}\nvoid unfill(int x,int y,char z,int w)\n{\n    if(z=='A')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x+1][y]='.';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y+1]='.';\n        else if(w==2) G[x][y]=G[x+1][y]=G[x+1][y-1]='.';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+1][y+1]='.';\n    }\n    else if(z=='B')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]='.';\n        else if(w==1) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]='.';\n    }\n    else if(z=='C')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y]='.';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]='.';\n        else if(w==2) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+1][y-2]='.';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]='.';\n        else if(w==4) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]='.';\n        else if(w==5) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]='.';\n        else if(w==6) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]='.';\n        else if(w==7) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y-1]='.';\n    }\n    else if(z=='D') G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y+1]='.';\n    else if(z=='E')\n    {\n        if(w==0) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+2][y+2]='.';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y]=G[x+2][y]='.';\n        else if(w==2) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]=G[x+2][y+2]='.';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y-1]=G[x+2][y-2]='.';\n    }\n    else if(z=='F')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y+1]='.';\n        else if(w==1) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]=G[x+1][y-1]='.';\n        else if(w==2) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y-1]=G[x+1][y-2]='.';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+3][y]='.';\n        else if(w==4) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+1][y+1]=G[x+1][y+2]='.';\n        else if(w==5) G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y+2]='.';\n        else if(w==6) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y]=G[x+3][y]='.';\n        else if(w==7) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y-1]=G[x+3][y]='.';\n    }\n    else if(z=='G')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y]=G[x+1][y+2]='.';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y]=G[x+2][y+1]='.';\n        else if(w==2) G[x][y]=G[x][y+2]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]='.';\n        else if(w==3) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]='.';\n    }\n    else if(z=='H')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y]=G[x+1][y+1]='.';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y+1]=G[x+2][y+1]='.';\n        else if(w==2) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y-1]=G[x+1][y+1]='.';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y]=G[x+2][y+1]='.';\n        else if(w==4) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]='.';\n        else if(w==5) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y+1]=G[x+2][y]='.';\n        else if(w==6) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+1]=G[x+1][y+2]='.';\n        else if(w==7) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+2][y]=G[x+2][y-1]='.';\n    }\n    else if(z=='I')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]=G[x+1][y+3]='.';\n        else if(w==1) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y-1]=G[x+3][y-1]='.';\n        else if(w==2) G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y+2]=G[x+1][y+3]='.';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+2][y-1]=G[x+3][y-1]='.';\n        else if(w==4) G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y]=G[x+1][y-1]='.';\n        else if(w==5) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+3][y+1]='.';\n        else if(w==6) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y-1]=G[x+1][y-2]='.';\n        else if(w==7) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y+1]=G[x+3][y+1]='.';\n    }\n    else if(z=='J') G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+1][y+1]=G[x+2][y]='.';\n    else if(z=='K')\n    {\n        if(w==0) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y+1]=G[x+2][y+2]='.';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+1][y-1]=G[x+2][y-1]='.';\n        else if(w==2) G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y+2]=G[x+2][y+2]='.';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+2][y-1]=G[x+2][y-2]='.';\n    }\n    else if(z=='L')\n    {\n        if(w==0) G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y]='.';\n        else if(w==1) G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]=G[x+3][y+1]='.';\n        else if(w==2) G[x][y]=G[x+1][y]=G[x+1][y-1]=G[x+1][y-2]=G[x+1][y-3]='.';\n        else if(w==3) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]=G[x+3][y+1]='.';\n        else if(w==4) G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]=G[x+1][y+3]='.';\n        else if(w==5) G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]=G[x+3][y]='.';\n        else if(w==6) G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y+3]='.';\n        else if(w==7) G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]=G[x+3][y-1]='.';\n    }\n}\nint ltk(int x,int y)\n{\n    hjj[x][y]=true;int re=1;\n    if(G[x-1][y]=='.'&&!hjj[x-1][y]) re+=ltk(x-1,y);\n    if(G[x][y-1]=='.'&&!hjj[x][y-1]) re+=ltk(x,y-1);\n    if(G[x+1][y]=='.'&&!hjj[x+1][y]) re+=ltk(x+1,y);\n    if(G[x][y+1]=='.'&&!hjj[x][y+1]) re+=ltk(x,y+1);\n    return re;\n}\nbool dfs(int x,int y)\n{\n    memset(hjj,false,sizeof hjj);\n    for(int i=1;i<=10;i++)\n        for(int j=1;j<=i;j++)\n            if(G[i][j]=='.'&&!hjj[i][j])\n                if(ltk(i,j)<=2) return false;\n    for(char i='A';i<='L';i++)\n    {\n        if(vis[i-'A']) continue;\n        for(int w=0;w<8;w++)\n            if(judge(x,y,i,w))\n            {\n                vis[i-'A']=true;\n                fill(x,y,i,w);\n                bool flag=false;\n                for(int j=1;j<=10;j++)\n                {\n                    for(int k=1;k<=j;k++)\n                        if(G[j][k]=='.')\n                        {\n                            flag=true;\n                            if(dfs(j,k)) return true;\n                            break;\n                        }\n                    if(flag) break;\n                }\n                if(!flag) return true;\n                vis[i-'A']=false;\n                unfill(x,y,i,w);\n            }\n    }\n    return false;\n}\nint main()\n{\n    for(int i=1;i<=10;i++)\n    {\n        for(int j=1;j<=i;j++)\n        {\n            G[i][j]=readc();\n            if(isalpha(G[i][j])) vis[G[i][j]-'A']=true;\n        }\n        for(int j=i+1;j<=10;j++)\n            G[i][j]='$';\n    }\n    for(int i=0;i<=11;i++) G[i][0]=G[i][11]=G[0][i]=G[11][i]='$';\n    for(int i=1;i<=10;i++)\n        for(int j=1;j<=i;j++)\n            if(G[i][j]=='.')\n            {\n                if(dfs(i,j)) print();\n                else printf(\"No solution\");\n                return 0;\n            }\n}\n```",
        "postTime": 1539767557,
        "uid": 51983,
        "name": "Uranus",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "\u672c\u9898\u89e3\u4f7f\u7528 dfs \u505a\u6cd5\u3002\n\n# \u7ea6\u5b9a\n\n## \u6587\u4e2d\u51fa\u73b0\u7684\u8bcd\u8bed\u5b9a\u4e49\n\n- \u96f6\u4ef6\uff1a\u6307\u9898\u76ee\u4e2d $\\lceil$ $12$\u4e2a\u5f62\u6001\u5404\u5f02\u7684\u96f6\u4ef6 $\\rfloor$ \u4e2d\u7684\u96f6\u4ef6\u3002\n- \u96f6\u4ef6\u5f62\u6001\uff1a\u6307\u4e00\u4e2a\u96f6\u4ef6\u80fd\u901a\u8fc7\u65cb\u8f6c\u548c\u7ffb\u8f6c\u6240\u80fd\u5f62\u6210\u7684\u56fe\u6848\u3002\n- \u73e0\u5b50\uff1a\u6307\u96f6\u4ef6\u4e2d\u7684\u73e0\u5b50\u3002\n\n## \u53d8\u91cf\n\n```cpp\nint num[]={0,4,2,8,1,4,8,4,8,8,1,4,8};\n//\u5404\u96f6\u4ef6\u5f62\u6001\u6570\nchar a[10+5][10+5];\n//\u5b58\u56fe\u6848\nbool v[20];\n//\u96f6\u4ef6\u662f\u5426\u4f7f\u7528\u8fc7\nint tal=0;\n//\u9608\u503c\uff0c\u610f\u4e49\u540e\u6587\u6709\n```\n\n## \u5b8f\n\n```cpp\n#define a(q,w,e) if(a[px+q][py+w]!='.')return 0/*\u6307\u8fd9\u4e2a\u5730\u65b9\u6709\u96f6\u4ef6\u653e\u5165*/;\n//\u68c0\u9a8c\u8fd9\u4e2a\u96f6\u4ef6\u662f\u5426\u80fd\u653e\u4e0b(\u53c2\u6570e\u662f\u7528\u4e0d\u5230\u7684\uff0c\u65e0\u5f71\u54cd)\n#define a(q,w,e) a[px+q][py+w]=e\n//\u6253\u6807\u8bb0\n#define a(q,w,e) a[px+q][py+w]='.'\n//\u56de\u6eaf(\u53c2\u6570e\u662f\u7528\u4e0d\u5230\u7684\uff0c\u65e0\u5f71\u54cd)\n\n//\u4e0e\u540e\u9762\u7684\u201c\u51fd\u6570\u201d\u4e00\u4e00\u5bf9\u5e94\n```\n\n## \u51fd\u6570\n\n```cpp\n//3\u4e2a\u5b8f+\u6253\u8868\u90e8\u5206(\u89c1\u540e\u6587)=3\u4e2a\u51fd\u6570\uff1a\nbool check(int type,int round,int px,int py)//\u6700\u540e\u8981 return 1\uff0c\u5373\u65e2\u7136\u524d\u9762\u6ca1\u6709 return 0\uff0c\u5219\u8fd9\u4e2a\u4f4d\u7f6e\u662f\u5408\u6cd5\u7684\n//\u68c0\u9a8c\u8fd9\u4e2a\u96f6\u4ef6\u662f\u5426\u80fd\u653e\u4e0b\nvoid seter(int type,int round,int px,int py)\n//\u6253\u6807\u8bb0\nvoid clean(int type,int round,int px,int py)\n//\u56de\u6eaf\n```\n\n\u53c2\u6570\u610f\u4e49\uff1a\n\n- `type` \u96f6\u4ef6\n- `round` \u96f6\u4ef6\u5f62\u6001\n- `px,py` \u5750\u6807\n\n# \u6253\u8868\n\n![](https://cdn.luogu.com.cn/upload/pic/13768.png)\n\n\u5148\u624b\u52a8\u6253\u8868\uff0c\u628a\u6240\u6709\u96f6\u4ef6\u7684\u96f6\u4ef6\u5f62\u6001\u8bb0\u5f55\u4e0b\u6765\u3002\n\n\u96f6\u4ef6\u6709$12$\u79cd\uff0c\u4e14**\u6240\u6709\u7684\u96f6\u4ef6\u90fd\u5141\u8bb8\u65cb\u8f6c\u548c\u7ffb\u8f6c**\uff0c\u6240\u4ee5\u9700\u6253\u8868$60$\u79cd\u60c5\u51b5\uff1a\n\n| \u96f6\u4ef6         | A    | B    | C    | D    | E    | F    | G    | H    | I    | J    | K    | L    | \u5408\u8ba1 |\n| :------------: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: | :----: |\n| \u96f6\u4ef6\u5f62\u6001\u603b\u6570 | 4    | 2    | 8    | 1    | 4    | 8    | 4    | 8    | 8    | 1    | 4    | 8    | 60   |\n\n\u6253\u8868\u5404\u96f6\u4ef6\u4e2d\u5404\u73e0\u5b50\u7684\u76f8\u5bf9\u5750\u6807\u3002\u4ee5\u4e0b\u662f\u6253\u8868\u4ee3\u7801\uff1a\n\n```cpp\n\tswitch(type)\n\t{\n\t\tcase 1:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'A'),a(0,1,'A'),a(1,0,'A');break;\n\t\t\t\tcase 2:a(1,1,'A'),a(0,1,'A'),a(0,0,'A');break;\n\t\t\t\tcase 3:a(1,0,'A'),a(0,0,'A'),a(1,-1,'A');break;\n\t\t\t\tcase 4:a(1,1,'A'),a(0,0,'A'),a(1,0,'A');break;\n\t\t\t}break;\n\t\tcase 2:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'B'),a(0,1,'B'),a(0,2,'B'),a(0,3,'B');break;\n\t\t\t\tcase 2:a(0,0,'B'),a(1,0,'B'),a(2,0,'B'),a(3,0,'B');break;\n\t\t\t}break;\n\t\tcase 3:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'C'),a(0,1,'C'),a(1,0,'C'),a(0,2,'C');break;\n\t\t\t\tcase 2:a(0,0,'C'),a(1,0,'C'),a(2,0,'C'),a(2,1,'C');break;\n\t\t\t\tcase 3:a(0,0,'C'),a(1,0,'C'),a(1,-1,'C'),a(1,-2,'C');break;\n\t\t\t\tcase 4:a(0,0,'C'),a(0,1,'C'),a(1,1,'C'),a(2,1,'C');break;\n\t\t\t\tcase 5:a(0,0,'C'),a(1,0,'C'),a(1,1,'C'),a(1,2,'C');break;\n\t\t\t\tcase 6:a(0,0,'C'),a(0,1,'C'),a(1,0,'C'),a(2,0,'C');break;\n\t\t\t\tcase 7:a(0,0,'C'),a(0,1,'C'),a(0,2,'C'),a(1,2,'C');break;\n\t\t\t\tcase 8:a(0,0,'C'),a(1,0,'C'),a(2,0,'C'),a(2,-1,'C');break;\n\t\t\t}break;\n\t\tcase 4:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'D'),a(0,1,'D'),a(1,0,'D'),a(1,1,'D');break;\n\t\t\t}break;\n\t\tcase 5:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'E'),a(0,1,'E'),a(0,2,'E'),a(1,0,'E'),a(2,0,'E');break;\n\t\t\t\tcase 2:a(0,0,'E'),a(1,0,'E'),a(2,0,'E'),a(2,-1,'E'),a(2,-2,'E');break;\n\t\t\t\tcase 3:a(0,0,'E'),a(0,1,'E'),a(0,2,'E'),a(1,2,'E'),a(2,2,'E');break;\n\t\t\t\tcase 4:a(0,0,'E'),a(2,1,'E'),a(2,2,'E'),a(1,0,'E'),a(2,0,'E');break;\n\t\t\t}break;\n\t\tcase 6:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'F'),a(0,1,'F'),a(0,2,'F'),a(0,3,'F'),a(1,1,'F');break;\n\t\t\t\tcase 2:a(0,0,'F'),a(0,1,'F'),a(0,2,'F'),a(0,3,'F'),a(1,2,'F');break;\n\t\t\t\tcase 3:a(1,-1,'F'),a(1,0,'F'),a(1,1,'F'),a(1,2,'F'),a(0,0,'F');break;\n\t\t\t\tcase 4:a(0,0,'F'),a(1,0,'F'),a(1,1,'F'),a(1,-1,'F'),a(1,-2,'F');break;\n\t\t\t\tcase 5:a(0,0,'F'),a(1,0,'F'),a(2,0,'F'),a(3,0,'F'),a(1,1,'F');break;\n\t\t\t\tcase 6:a(0,0,'F'),a(1,0,'F'),a(2,0,'F'),a(3,0,'F'),a(2,1,'F');break;\n\t\t\t\tcase 7:a(0,0,'F'),a(1,0,'F'),a(2,0,'F'),a(3,0,'F'),a(1,-1,'F');break;\n\t\t\t\tcase 8:a(0,0,'F'),a(1,0,'F'),a(2,0,'F'),a(3,0,'F'),a(2,-1,'F');break;\n\t\t\t}break;\n\t\tcase 7:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'G'),a(0,1,'G'),a(0,2,'G'),a(1,0,'G'),a(1,2,'G');break;\n\t\t\t\tcase 2:a(1,0,'G'),a(1,1,'G'),a(1,2,'G'),a(0,0,'G'),a(0,2,'G');break;\n\t\t\t\tcase 3:a(0,1,'G'),a(1,1,'G'),a(2,1,'G'),a(0,0,'G'),a(2,0,'G');break;\n\t\t\t\tcase 4:a(0,0,'G'),a(1,0,'G'),a(2,0,'G'),a(0,1,'G'),a(2,1,'G');break;\n\t\t\t}break;\n\t\tcase 8:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'H'),a(0,1,'H'),a(0,2,'H'),a(1,0,'H'),a(1,1,'H');break;\n\t\t\t\tcase 2:a(0,0,'H'),a(0,1,'H'),a(0,2,'H'),a(1,1,'H'),a(1,2,'H');break;\n\t\t\t\tcase 3:a(0,0,'H'),a(0,1,'H'),a(1,0,'H'),a(1,1,'H'),a(1,-1,'H');break;\n\t\t\t\tcase 4:a(1,0,'H'),a(1,1,'H'),a(0,0,'H'),a(2,1,'H'),a(0,1,'H');break;\n\t\t\t\tcase 5:a(0,0,'H'),a(1,0,'H'),a(2,0,'H'),a(2,1,'H'),a(1,1,'H');break;\n\t\t\t\tcase 6:a(0,0,'H'),a(1,-1,'H'),a(2,-1,'H'),a(1,0,'H'),a(2,0,'H');break;\n\t\t\t\tcase 7:a(0,1,'H'),a(1,1,'H'),a(1,2,'H'),a(0,0,'H'),a(1,0,'H');break;\n\t\t\t\tcase 8:a(0,1,'H'),a(1,1,'H'),a(2,0,'H'),a(0,0,'H'),a(1,0,'H');break;\n\t\t\t}break;\n\t\tcase 9:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'I'),a(0,1,'I'),a(0,2,'I'),a(1,2,'I'),a(1,3,'I');break;\n\t\t\t\tcase 2:a(1,-1,'I'),a(0,0,'I'),a(1,0,'I'),a(2,-1,'I'),a(3,-1,'I');break;\n\t\t\t\tcase 3:a(0,0,'I'),a(1,1,'I'),a(1,2,'I'),a(1,3,'I'),a(0,1,'I');break;\n\t\t\t\tcase 4:a(0,0,'I'),a(0,1,'I'),a(1,0,'I'),a(1,-1,'I'),a(1,-2,'I');break;\n\t\t\t\tcase 5:a(0,0,'I'),a(1,0,'I'),a(2,0,'I'),a(2,-1,'I'),a(3,-1,'I');break;\n\t\t\t\tcase 6:a(0,0,'I'),a(1,0,'I'),a(2,0,'I'),a(2,1,'I'),a(3,1,'I');break;\n\t\t\t\tcase 7:a(0,0,'I'),a(0,1,'I'),a(0,2,'I'),a(1,0,'I'),a(1,-1,'I');break;\n\t\t\t\tcase 8:a(0,0,'I'),a(1,0,'I'),a(1,1,'I'),a(2,1,'I'),a(3,1,'I');break;\n\t\t\t}break;\n\t\tcase 10:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'J'),a(1,0,'J'),a(2,0,'J'),a(1,-1,'J'),a(1,1,'J');break;\n\t\t\t}break;\n\t\tcase 11:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'K'),a(1,0,'K'),a(1,1,'K'),a(2,1,'K'),a(2,2,'K');break;\n\t\t\t\tcase 2:a(0,0,'K'),a(1,0,'K'),a(1,-1,'K'),a(2,-1,'K'),a(2,-2,'K');break;\n\t\t\t\tcase 3:a(0,0,'K'),a(1,0,'K'),a(1,-1,'K'),a(2,-1,'K'),a(0,1,'K');break;\n\t\t\t\tcase 4:a(0,0,'K'),a(0,1,'K'),a(1,1,'K'),a(1,2,'K'),a(2,2,'K');break;\n\t\t\t}break;\n\t\tcase 12:\n\t\t\tswitch(round)\n\t\t\t{\n\t\t\t\tcase 1:a(0,0,'L'),a(0,1,'L'),a(0,2,'L'),a(0,3,'L'),a(1,0,'L');break;\n\t\t\t\tcase 2:a(0,0,'L'),a(1,0,'L'),a(2,0,'L'),a(3,0,'L'),a(3,1,'L');break;\n\t\t\t\tcase 3:a(0,0,'L'),a(1,0,'L'),a(1,-1,'L'),a(1,-2,'L'),a(1,-3,'L');break;\n\t\t\t\tcase 4:a(0,0,'L'),a(0,1,'L'),a(1,1,'L'),a(2,1,'L'),a(3,1,'L');break;\n\t\t\t\tcase 5:a(1,0,'L'),a(1,1,'L'),a(1,2,'L'),a(1,3,'L'),a(0,0,'L');break;\n\t\t\t\tcase 6:a(0,0,'L'),a(1,0,'L'),a(2,0,'L'),a(3,0,'L'),a(0,1,'L');break;\n\t\t\t\tcase 7:a(0,1,'L'),a(0,0,'L'),a(1,3,'L'),a(0,2,'L'),a(0,3,'L');break;\n\t\t\t\tcase 8:a(0,0,'L'),a(1,0,'L'),a(2,0,'L'),a(3,0,'L'),a(3,-1,'L');break;\n\t\t\t}break;\n\t}\n```\n\n\u6253\u8868\u4e24\u70b9\u6ce8\u610f\u4e8b\u9879\uff08\u6211\u8e29\u8fc7\u7684\u5751\uff09\uff1a\n\n- \u6253\u8868\u90e8\u5206\u4e2d**\u5fc5\u987b**\u6709\u5750\u6807\u4e3a$(0,0)$\u7684\u70b9\u3002\n\n- \u786e\u4fdd\u96f6\u4ef6\u7684\u653e\u7f6e\u4e0d\u4f1a\u5bf9\u524d\u9762\u5df2\u653e\u4e0a\u7684\u96f6\u4ef6\u9020\u6210\u5f71\u54cd\u2014\u2014\u6253\u8868\u90e8\u5206\u4e2d\u5750\u6807\u4e3a$(0,0)$\u7684\u70b9\u7684\u5de6\u9762\u4e0e\u4e0a\u9762\u6ca1\u6709\u70b9\u3002\u4f8b\u5b50\uff08\u5f62\u72b6\u90fd\u4e3a`:.`\u5f62\uff09\uff1a\n  - \u5408\u6cd5\uff1a$(0,0),(1,0),(1,1)$\u3002\n  - \u4e0d\u5408\u6cd5\uff1a$(0,0),(-1,0),(0,1)$\u3002\n\n# \u66b4\u529b dfs\n\n```cpp\nvoid dfs(int step)\n{\n    //********************\u89e3\u7684\u5224\u65ad\n\tbool flag=1;\n\tfor(int i=1;i<=12;i++)\n\t\tif(v[i]==0)\n\t\t\tflag=0;\n\tif(flag)//\u96f6\u4ef6\u90fd\u7528\u4e86\n\t{\n\t\tfor(int i=1;i<=10;i++)\n\t\t{\n\t\t\tfor(int j=1;j<=i;j++)\n\t\t\t\tcout<<a[i][j];\n\t\t\tcout<<endl;\n\t\t}\n\t\texit(0);//\u8f93\u51fa\u5e76\u7acb\u523b\u7ed3\u675f\u7a0b\u5e8f\n\t}\n    //********************\u9012\u5f52\u6570\u9608\u503c\n\ttal++;\n\tif(tal>2500000)//\u9a6c\u4e0a\u8981TLE\u4e86\uff0c\u8d76\u7d27\u7ed3\u675f\u7a0b\u5e8f\u3002\u8fd9\u4e2a\u5730\u65b9\u522b\u7684\u9898\u89e3\u6709\u6240\u63d0\u53ca\n\t\tprintf(\"No solution\"),exit(0);\n    //********************\u4ece\u4e0a\u81f3\u4e0b\u5bfb\u627e\u8fd8\u672a\u586b\u7684\u5730\u65b9\n\tint x,y;\n\tfor(x=1;x<=10;x++)\n\t\tfor(y=1;y<=x;y++)\n\t\t\tif(a[x][y]=='.')\n\t\t\t\tgoto end;//\u7528break\u9ebb\u70e6\n\tend:\n    //********************\u679a\u4e3e\u7b97\u7b26\uff08\u82e5\u6253\u8868\u90e8\u5206\u6ca1\u6ee1\u8db3\u524d\u6587\u7684\u4e24\u70b9\u8981\u6c42\uff0c\u4f1aWA\uff09\n\tfor(int i=1;i<=12;i++)//\u679a\u4e3e\u5404\u96f6\u4ef6\n\t\tif(v[i]==0)\n\t\t{\n\t\t\tv[i]=1;\n\t\t\tfor(int j=1;j<=num[i];j++)//\u679a\u4e3e\u5404\u96f6\u4ef6\u7684\u5404\u96f6\u4ef6\u5f62\u6001\n\t\t\t\tif(check(i,j,x,y))//\u4e09\u4e2a\u51fd\u6570\u610f\u4e49\u524d\u6587\u5df2\u6709\u89e3\u91ca\n\t\t\t\t{\n\t\t\t\t\tseter(i,j,x,y);\n\t\t\t\t\tdfs(step+1);\n\t\t\t\t\tclean(i,j,x,y);\n\t\t\t\t}\n\t\t\tv[i]=0;\n\t\t}\n}\n```\n\n\u7eaf\u66b4\u529b+\u9632 TLE \u526a\u679d= AC \u3002\n\n\u6ce8\uff1adfs \u597d\u50cf\u65e0\u9700\u53c2\u6570\u3002",
        "postTime": 1581951340,
        "uid": 185868,
        "name": "Yurchiu",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "### \u89e3\u9898\u601d\u8def\n\n\u5176\u5b9e\u4e5f\u6ca1\u4ec0\u4e48\u89e3\u9898\u601d\u8def\uff0c\u66b4\u529b\u6a21\u62df\u641c\u7d22\u76f4\u63a5\u4e0a\u5c31\u884c\u4e86\u3002\u6bcf\u6b21\u586b\u5145\u9760\u524d\u7684\u7a7a\u4f4d\u3002\n\n\u8fd9\u91cc\u6709\u4e2a\u770b\u8d77\u6765\u975e\u5e38\u6574\u9f50\u7684\u5199\u6cd5\uff0c\u4e5f\u6709\u5229\u4e8e\u8c03\u8bd5\uff0c\u5176\u4ed6\u9898\u89e3\u91cc\u6ca1\u770b\u89c1\u8fc7\u8fd9\u79cd\u5199\u6cd5\u3002\n\n\u8bbe $len$ \u662f\u5f53\u524d\u96f6\u4ef6\u7684\u5927\u5c0f\uff0c\u6211\u4eec\u7528\u957f\u5bbd\u90fd\u4e3a $2 \\times len - 1$ \u7684\u5b57\u7b26\u77e9\u9635\u6765\u50a8\u5b58\u5404\u79cd\u96f6\u4ef6\u3002\u5176\u4e2d\u6700\u4e2d\u5fc3\u7684\u662f\u5f53\u524d\u641c\u5230\u7684\u4f4d\u7f6e\u3002\n\n\u4f8b\u5982\uff1a\n\n```\ng[0] = \"...\";\ng[1] = \".AA\";\ng[2] = \".A.\";\n```\n\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u56e0\u4e3a\u6211\u4eec\u662f\u4ece\u7b2c\u4e00\u884c\uff0c\u7b2c\u4e8c\u884c\u2026\u2026\u8fd9\u6837\u987a\u6b21\u6446\u4e0b\u6765\u7684\uff0c\u6240\u4ee5\u77e9\u9635\u7684\u6700\u4e2d\u5fc3\u9996\u5148\u8981\u88ab\u5360\u7528\uff0c\u5176\u6b21\u6700\u4e2d\u5fc3\u4f4d\u7f6e\u524d\u9762\u7684\uff0c\u5fc5\u987b\u4e0d\u80fd\u7528\u5360\u7528\uff0c\u4e0b\u9762\u4e24\u4e2a\u5c31\u4e0d\u5408\u6cd5\uff1a\n\n```\ng[0] = \"...\";\ng[1] = \"..A\";\ng[2] = \".AA\";\n```\n\n\n```\ng[0] = \".A.\";\ng[1] = \"AA.\";\ng[2] = \"...\";\n```\n\n\u5e94\u8be5\u8fd9\u4e48\u8868\u793a\uff1a\n\n\n```\ng[0] = \"..\";\ng[1] = \".A.\";\ng[2] = \"AA.\";\n```\n\n\u786c\u751f\u751f\u5730\u53bb\u63cf\u7ed8\u6240\u6709\u96f6\u4ef6\u3001\u6240\u6709\u65b9\u5411\u7684\u5b57\u7b26\u77e9\u9635\u5c31\u597d\u3002\n\n\u7136\u540e\u5462\uff0c\u5199\u4e2a\u51fd\u6570\uff0c\u6709\u4e24\u79cd\u6a21\u5f0f\u3002\u7b2c\u4e00\u79cd\uff1a\u5224\u65ad\u7ed9\u5b9a\u7684\u5b57\u7b26\u77e9\u9635\u8868\u793a\u7684\u96f6\u4ef6\u662f\u5426\u80fd\u5728\u7ed9\u5b9a\u7684\u4f4d\u7f6e\u653e\uff0c\u5982\u679c\u80fd\u5219\u653e\u5e76\u4fee\u6539\u89e3\uff0c\u8fd4\u56de true\uff0c\u5426\u5219\u8fd4\u56de false\u3002\u4e3a\u4e86\u5b9e\u73b0\u56de\u6eaf\uff0c\u6240\u4ee5\u6709\u7b2c\u4e8c\u79cd\uff1a\u6254\u6389\u4e4b\u524d\u653e\u7684\u96f6\u4ef6\u3002\n\n\u6700\u540e\u52a0\u4e00\u4e2a\u526a\u679d\uff08\u5f53\u7136\u6b63\u5f0f\u6bd4\u8d5b\u662f\u4e0d\u80fd\u4f7f\u7528\u7684\uff09\uff0c\u7528 clock \u8ba1\u65f6\uff0c\u5982\u679c\u8981\u8d85\u65f6\u4e86\uff0c\u5219\u65e0\u89e3\uff08~~\u5f88\u7384\u5b66\u662f\u4e0d\u662f~~\uff09\u3002\n\n\u4ea4\u4e0a\u53bb\uff0c\u53d1\u73b0 90 \u5206\uff0cWA \u4e86\u4e2a\u70b9\uff0c\u54c8\uff1f\n\n\u539f\u6765\u662f\u628a\u6709\u89e3\u5224\u6210\u65e0\u89e3\u4e86\uff0c\u8bf4\u660e\u7a0b\u5e8f\u8fd8\u4e0d\u591f\u9ad8\u6548\u3002\n\n\u600e\u4e48\u529e\uff1f\u968f\u673a\u662f\u51fb\u8d25\u51fa\u9898\u4eba\u6700\u5927\u7684\u5229\u5668\uff0c\u8003\u8651\u7ed9\u6bcf\u79cd\u96f6\u4ef6\u7684\u679a\u4e3e\u987a\u5e8f\u968f\u673a\u4e00\u4e0b\uff08~~\u6211\u56e0\u4e3a\u61d2\u5c31\u53ea\u628a H \u548c C \u63d0\u524d\u4e86~~\uff09\uff0c\u800c\u4e0d\u662f ABCDE... \u8fd9\u6837\u6b7b\u677f\u5730\u679a\u4e3e\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u8fc7\u4e86\u3002\n\n---\n\n### \u4ee3\u7801\u5b9e\u73b0\n\n~~\u8d85\u957f\u4ee3\u7801\u9884\u8b66\uff01\uff01\uff01\uff08\u5199\u8d77\u6765\u548c\u770b\u8d77\u6765\u90fd\u597d\u723d\u7684\u5462\uff09~~\n\n```cpp\n#include <ctime>\n#include <cstdlib>\n#include <iostream>\n\nchar f[25][25];\nbool used[255];\nclock_t st;\n\ninline bool modify(int x, int y, int len, std::string g[7], bool mode) {\n    bool flag = true;\n    if (mode) {\n        for (int i = 1 - len; i < len; i++) {\n            for (int j = 1 - len; j < len; j++) {\n                if (g[i + len - 1][j + len - 1] != '.' && ((x + i <= 0 && y + j <= 0) || f[x + i][y + j] != '.')) { flag = false; }\n            }\n        }\n        if (flag) {\n            for (int i = 1 - len; i < len; i++) {\n                for (int j = 1 - len; j < len; j++) {\n                    if (g[i + len - 1][j + len - 1] != '.') { f[x + i][y + j] = g[i + len - 1][j + len - 1]; }\n                }\n            }\n        }\n    } else {\n        for (int i = 1 - len; i < len; i++) {\n            for (int j = 1 - len; j < len; j++) {\n                if (g[i + len - 1][j + len - 1] != '.') { f[x + i][y + j] = '.'; }\n            }\n        }\n    }\n    return flag;\n}\n\nvoid dfs() {\n    int x = 0, y, len; std::string g[7];\n    for (int i = 1; i <= 10; i++) {\n        for (int j = 1; j <= i; j++) {\n            if (f[i][j] == '.') { x = i; y = j; break; }\n        }\n        if (x) { break; }\n    }\n    // \u627e\u5230\u6700\u9760\u524d\u7a7a\u4f4d\u7684\u4f4d\u7f6e\u3002\n    if (!x) {\n    \t// \u6ca1\u6709\u7a7a\u4f4d\uff0c\u8bf4\u660e\u586b\u6ee1\u4e86\uff0c\u8f93\u51fa\u89e3\u3002\n        for (int i = 1; i <= 10; i++) {\n            for (int j = 1; j <= i; j++) { std::cout << f[i][j]; }\n            std::cout << std::endl;\n        }\n        exit(0);\n    }\n    if (clock() - st >= 950000) {\n        std::cout << \"No solution\" << std::endl;\n        exit(0);\n    }\n    if (!used['H']) {\n        used['H'] = true; len = 3;\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..HHH\";\n        g[3] = \"..HH.\";\n        g[4] = \".....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..HH.\";\n        g[3] = \"..HHH\";\n        g[4] = \".....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..HHH\";\n        g[3] = \"...HH\";\n        g[4] = \".....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..HH.\";\n        g[3] = \".HHH.\";\n        g[4] = \".....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..H..\";\n        g[3] = \"..HH.\";\n        g[4] = \"..HH.\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..H..\";\n        g[3] = \".HH..\";\n        g[4] = \".HH..\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..HH.\";\n        g[3] = \"..HH.\";\n        g[4] = \"..H..\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..HH.\";\n        g[3] = \"..HH.\";\n        g[4] = \"...H.\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['H'] = false;\n    }\n    if (!used['C']) {\n        used['C'] = true; len = 3;\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..CCC\";\n        g[3] = \"..C..\";\n        g[4] = \".....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..CCC\";\n        g[3] = \"....C\";\n        g[4] = \".....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..CC.\";\n        g[3] = \"..C..\";\n        g[4] = \"..C..\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..C..\";\n        g[3] = \"..C..\";\n        g[4] = \"..CC.\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..C..\";\n        g[3] = \"..CCC\";\n        g[4] = \".....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..CC.\";\n        g[3] = \"...C.\";\n        g[4] = \"...C.\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..C..\";\n        g[3] = \"..C..\";\n        g[4] = \".CC..\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..C..\";\n        g[3] = \"CCC..\";\n        g[4] = \".....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['C'] = false;\n    }\n    if (!used['A']) {\n        used['A'] = true; len = 2;\n        g[0] = \"...\";\n        g[1] = \".AA\";\n        g[2] = \".A.\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \"...\";\n        g[1] = \".AA\";\n        g[2] = \"..A\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \"...\";\n        g[1] = \".A.\";\n        g[2] = \"AA.\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \"...\";\n        g[1] = \".A.\";\n        g[2] = \".AA\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['A'] = false;\n    }\n    if (!used['B']) {\n        used['B'] = true; len = 4;\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...BBBB\";\n        g[4] = \".......\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...B...\";\n        g[4] = \"...B...\";\n        g[5] = \"...B...\";\n        g[6] = \"...B...\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['B'] = false;\n    }\n    if (!used['D']) {\n        used['D'] = true; len = 2;\n        g[0] = \"...\";\n        g[1] = \".DD\";\n        g[2] = \".DD\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['D'] = false;\n    }\n    if (!used['E']) {\n        used['E'] = true; len = 3;\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..E..\";\n        g[3] = \"..E..\";\n        g[4] = \"..EEE\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..EEE\";\n        g[3] = \"..E..\";\n        g[4] = \"..E..\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..EEE\";\n        g[3] = \"....E\";\n        g[4] = \"....E\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..E..\";\n        g[3] = \"..E..\";\n        g[4] = \"EEE..\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['E'] = false;\n    }\n    if (!used['F']) {\n        used['F'] = true; len = 4;\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...FFFF\";\n        g[4] = \"....F..\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...FFFF\";\n        g[4] = \".....F.\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...F...\";\n        g[4] = \"..FFFF.\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...F...\";\n        g[4] = \".FFFF..\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...F...\";\n        g[4] = \"..FF...\";\n        g[5] = \"...F...\";\n        g[6] = \"...F...\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...F...\";\n        g[4] = \"...F...\";\n        g[5] = \"..FF...\";\n        g[6] = \"...F...\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...F...\";\n        g[4] = \"...FF..\";\n        g[5] = \"...F...\";\n        g[6] = \"...F...\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...F...\";\n        g[4] = \"...F...\";\n        g[5] = \"...FF..\";\n        g[6] = \"...F...\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['F'] = false;\n    }\n    if (!used['G']) {\n        used['G'] = true; len = 3;\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..GGG\";\n        g[3] = \"..G.G\";\n        g[4] = \".....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..G.G\";\n        g[3] = \"..GGG\";\n        g[4] = \".....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..GG.\";\n        g[3] = \"...G.\";\n        g[4] = \"..GG.\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..GG.\";\n        g[3] = \"..G..\";\n        g[4] = \"..GG.\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['G'] = false;\n    }\n    if (!used['I']) {\n        used['I'] = true; len = 4;\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...III.\";\n        g[4] = \".....II\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...II..\";\n        g[4] = \"....III\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...III.\";\n        g[4] = \"..II...\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...II..\";\n        g[4] = \".III...\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...I...\";\n        g[4] = \"...I...\";\n        g[5] = \"...II..\";\n        g[6] = \"....I..\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...I...\";\n        g[4] = \"...I...\";\n        g[5] = \"..II...\";\n        g[6] = \"..I....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...I...\";\n        g[4] = \"...II..\";\n        g[5] = \"....I..\";\n        g[6] = \"....I..\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...I...\";\n        g[4] = \"..II...\";\n        g[5] = \"..I....\";\n        g[6] = \"..I....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['I'] = false;\n    }\n    if (!used['J']) {\n        used['J'] = true; len = 3;\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..J..\";\n        g[3] = \".JJJ.\";\n        g[4] = \"..J..\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['J'] = false;\n    }\n    if (!used['K']) {\n        used['K'] = true; len = 3;\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..K..\";\n        g[3] = \"..KK.\";\n        g[4] = \"...KK\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..KK.\";\n        g[3] = \"...KK\";\n        g[4] = \"....K\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \"..K..\";\n        g[3] = \".KK..\";\n        g[4] = \"KK...\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".....\";\n        g[1] = \".....\";\n        g[2] = \".KK..\";\n        g[3] = \"KK...\";\n        g[4] = \"K....\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['K'] = false;\n    }\n    if (!used['L']) {\n        used['L'] = true; len = 4;\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...LLLL\";\n        g[4] = \"...L...\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...LLLL\";\n        g[4] = \"......L\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...L...\";\n        g[4] = \"...LLLL\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...L...\";\n        g[4] = \"LLLL...\";\n        g[5] = \".......\";\n        g[6] = \".......\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...L...\";\n        g[4] = \"...L...\";\n        g[5] = \"...L...\";\n        g[6] = \"..LL...\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...L...\";\n        g[4] = \"...L...\";\n        g[5] = \"...L...\";\n        g[6] = \"...LL..\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...LL..\";\n        g[4] = \"...L...\";\n        g[5] = \"...L...\";\n        g[6] = \"...L...\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        g[0] = \".......\";\n        g[1] = \".......\";\n        g[2] = \".......\";\n        g[3] = \"...LL..\";\n        g[4] = \"....L..\";\n        g[5] = \"....L..\";\n        g[6] = \"....L..\";\n        if (modify(x, y, len, g, true)) { dfs(); modify(x, y, len, g, false); }\n        used['L'] = false;\n    }\n}\n\nint main() {\n    for (int i = 1; i <= 10; i++) {\n        for (int j = 1; j <= i; j++) {\n            std::cin >> f[i][j];\n            used[f[i][j]] = true;\n        }\n    }\n    st = clock(); dfs();\n    return 0;\n}\n```",
        "postTime": 1549112841,
        "uid": 26673,
        "name": "Sooke",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "## ~~\u8bba\u5982\u4f55\u4f18\u96c5\u7684\u5199\u5927\u641c\u7d22~~\n\n\u4ee3\u7801\u4e0d\u957f\uff0c\u4e00\u767e\u591a\u884c\u3002\n\n\u9996\u5148\u5148\u628a\u6240\u6709\u5f62\u72b6\u8bb0\u5f55\u5728$dx,dy$\u6570\u7ec4\u4e2d\uff0c\u7136\u540e\u7528$ok$\u51fd\u6570\u5224\u65ad\u662f\u5426\u53ef\u4ee5\u653e\u7f6e\uff0c\u7528$fill$\u51fd\u6570\u653e\u7f6e\uff0c\u56de\u6eaf\u65f6\u8c03\u6574$fill$\u51fd\u6570\u7684\u53c2\u6570\u64a4\u9500\u653e\u7f6e\u5c31\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5199\u4e86\u3002\n\n\u8fd9\u91cc\u6211\u5728$ok$\u51fd\u6570\u548c$fill$\u51fd\u6570\u91cc\u5199\u4e86$cl$\u51fd\u6570\uff0c\u7528\u9014\u662f\u627e\u5230\u5f53\u524d\u8fd9\u4e2a\u5f62\u72b6\uff08\u7ffb\u8f6c\u6216\u65cb\u8f6c\u5b8c\u540e\uff09\u53f3\u4e0b\u89d2\u90a3\u4e2a\u5757\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u5728\u63a5\u4e0b\u6765\u7684\u8fd0\u7b97\u4e2d\u5c31\u4ee5\u90a3\u4e2a\u5757\u4e3a\u4e2d\u5fc3\u653e\u7f6e\uff0c\u8fd9\u5c31\u53ef\u4ee5\u907f\u514d\u4e00\u4e9b\u9ebb\u70e6\u7684if\u8bed\u53e5\u3002\n\n\u7136\u540e\u6211\u7528\u4e86\u4e00\u4e9b\u7384\u5b66\u51cf\u679d\u624d\u8fc7\uff1a\n- \u4ece$(10,10)$\u5f00\u59cb\u641c\u3002\n- \u4ece$B$\u5f00\u59cb\u5c1d\u8bd5\u653e\u7f6e\u3002\n- \u5224\u65ad\u5f53\u524d\u56fe\u50cf\u4e2d\u6709\u6ca1\u6709\u8054\u901a\u5757\u5927\u5c0f\u5c0f\u4e8e2\uff0c\u5982\u679c\u6709\u76f4\u63a5\u9000\u51fa\u3002\n- ~~\u624b\u52a8Ofast\u3002~~\n\n\u4e0d\u8fc7\u4e5f\u6709\u53ef\u80fd\u662f\u6570\u636e\u6bd4\u8f83\u6c34\uff0c\u8fd9\u4e48\u5199\u521a\u597d\u80fd\u5361\u8fc7\u53bb\n\n[(1000ms\u60e8\u6848)](https://www.luogu.org/record/show?rid=14948223)\n\n\u7136\u540e\u662f135\u884c\u7684\u4ee3\u7801\u3002\n\n$\\color{white}\\text{\u5f53\u4f60\u590d\u5236\u4e0b\u6765\u53d1\u73b0\u4ee3\u7801\u6709136\u884c\u662f\u5c31\u5e94\u8be5\u53d1\u73b0\u6709\u95ee\u9898}$\n\n```cpp\n#pragma optimize(\"Ofast\")//\u7384\u5b66\n#include<bits/stdc++.h>\n#define res register int\nusing namespace std;\nconst int dx[12][6]={{3,0,1,0},{4,1,2,3,0},{4,0,0,0,1},{4,0,0,1,1},{5,0,0,0,1,2},{5,0,0,0,0,1},{5,0,0,1,1,1},{5,0,0,0,1,1},{5,0,0,1,1,1},{5,0,1,1,1,2},{5,0,1,1,2,2},{5,0,0,0,0,1}};\nconst int dy[12][6]={{3,0,0,1},{4,0,0,0,0},{4,0,1,2,0},{4,1,0,1,0},{5,0,1,2,0,0},{5,0,1,2,3,2},{5,0,2,0,1,2},{5,0,1,2,0,1},{5,0,1,1,2,3},{5,1,0,1,2,1},{5,0,0,1,1,2},{5,0,1,2,3,0}};\nint mp[11][11],v[20];\nvoid cl(int &mx,int &my,int w,int k){\n    int len=dx[w][0];\n    if(k&4){\n        for(res i=1;i<=len;++i){\n            int nx=((k&1)?1:-1)*dx[w][i],ny=((k&2)?1:-1)*dy[w][i];\n            if(nx>mx||(nx==mx&&ny>my))mx=nx,my=ny;\n        }\n    }else{\n        for(res i=1;i<=len;++i){\n            int nx=((k&1)?1:-1)*dy[w][i],ny=((k&2)?1:-1)*dx[w][i];\n            if(nx>mx||(nx==mx&&ny>my))mx=nx,my=ny;\n        }\n    }\n}\nbool ok(int x,int y,int w,int k){\n    int len=dx[w][0],mx=0,my=0;\n\tcl(mx,my,w,k);\n    if(k&4){\n        for(res i=1;i<=len;++i){\n            int nx=x+((k&1)?1:-1)*dx[w][i]-mx,ny=y+((k&2)?1:-1)*dy[w][i]-my;\n            if(nx<1||nx>10||ny<1||ny>10||ny>nx)return 0;\n            if(~mp[nx][ny])return 0;\n        }\n    }else{\n        for(res i=1;i<=len;++i){\n            int nx=x+((k&1)?1:-1)*dy[w][i]-mx,ny=y+((k&2)?1:-1)*dx[w][i]-my;\n            if(nx<1||nx>10||ny<1||ny>10||ny>nx)return 0;\n            if(~mp[nx][ny])return 0;\n        }\n    }\n    return 1;\n}\nvoid fill(int x,int y,int w,int k,int bo=1){\n    int len=dx[w][0],mx=0,my=0;\n\tcl(mx,my,w,k);\n    if(k&4){\n        for(res i=1;i<=len;++i){\n            int nx=x+((k&1)?1:-1)*dx[w][i]-mx,ny=y+((k&2)?1:-1)*dy[w][i]-my;\n            mp[nx][ny]=bo?w:-1;\n        }\n    }else{\n        for(res i=1;i<=len;++i){\n            int nx=x+((k&1)?1:-1)*dy[w][i]-mx,ny=y+((k&2)?1:-1)*dx[w][i]-my;\n            mp[nx][ny]=bo?w:-1;\n        }\n    }\n}\nvoid pt(){\n    for(res i=1;i<=10;++i){\n        for(res j=1;j<=i;++j){\n        \tif(mp[i][j]==-1)putchar('.');\n            else putchar(mp[i][j]+'A');\n        }puts(\"\");\n    }\n}\nconst int ddx[]={0,1,0,-1};\nconst int ddy[]={1,0,-1,0};\nint vis[11][11];\nint dfs1(int x,int y){\n    if(vis[x][y]||~mp[x][y])return 0;\n    vis[x][y]=1;\n    for(res i=0;i<4;++i){\n        int nx=x+ddx[i],ny=y+ddy[i];\n        if(nx<1||nx>10||ny<1||ny>10||ny>nx)continue;\n        vis[x][y]+=dfs1(nx,ny);\n    }\n    return vis[x][y];\n}\nbool cut1(){\n    memset(vis,0,sizeof vis);\n    for(res i=1;i<=10;++i){\n        for(res j=1;j<=i;++j){\n            if(vis[i][j]||~mp[i][j])continue;\n            int ot=dfs1(i,j);\n            if(ot<=2||(ot<=3&&v[0]))return 0;\n        }\n    }\n    return 1;\n}\nvoid dfs(int x,int y){\n    if(!cut1())return;\n    for(res ii=1;ii<=12;++ii){\n    \tint i=ii%12;\n        if(v[i])continue;\n        for(res j=0;j<8;++j){\n            if(ok(x,y,i,j)){\n            \tint flag=0;\n            \tv[i]=1;\n                fill(x,y,i,j);\n                for(int xx=10;xx;--xx){\n                    for(int yy=xx;yy;--yy){\n                        if(mp[xx][yy]==-1){\n                            dfs(xx,yy);\n                            flag=1;\n                            break;\n                        }\n                    }\n                    if(flag)break;\n                }\n                if(!flag){\n                \tpt();\n                    exit(0);\n                }\n                fill(x,y,i,j,0);\n                v[i]=0;\n            }\n        }\n    }\n}\nint main(){    \n    for(res i=1;i<=10;++i){\n        for(res j=1;j<=i;++j){\n            char c=getchar();\n            while(c!='.'&&(c<'A'||c>'Z'))c=getchar();\n            if(c=='.')mp[i][j]=-1;\n            else mp[i][j]=c-'A',v[c-'A']=1;\n        }\n    }\n    while(1);\n    for(res i=10;i;--i){\n    \tfor(res j=i;j;--j){\n    \t\tif(!~mp[i][j]){\n    \t\t\tdfs(i,j);\n                puts(\"No solution\");\n                return 0;\n\t\t\t}\n\t\t}\n\t}\n}\n```",
        "postTime": 1545613921,
        "uid": 48143,
        "name": "zhenglier",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "\u4f60\u4eec\u5199\u7684\u90fd\u592a\u957f\u4e86\uff0c\u53d1\u4e00\u4e2a\u6bd4\u8f83\u77ed\u7684\u4ee3\u7801\uff0c\u65f6\u95f4\u4e3a800ms\n\n\u601d\u8def\u5927\u6982\u662f\uff0c\u66b4\u529b\u679a\u4e3e\uff0c\u8fd8\u6709\u4e00\u4e9b\u526a\u679d\u3002\n\n\u7528\u4e86\u4e00\u4e9b\u5947\u6280\u6deb\u5de7\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 11;\nconst int n = 10;\nconst char *mmm[] =\n{\n    \"AA\",\n    \"A \",\n    \"\",\n    \"BBBB\",\n    \"\",\n    \"CCC\",\n    \"C  \",\n    \"\",\n    \"DD\",\n    \"DD\",\n    \"\",\n    \"E  \",\n    \"E  \",\n    \"EEE\",\n    \"\",\n    \"FFFF\",\n    \" F  \",\n    \"\",\n    \"GGG\",\n    \"G G\",\n    \"\",\n    \"HHH\",\n    \"HH \",\n    \"\",\n    \"III \",\n    \"  II\",\n    \"\",\n    \" J \",\n    \"JJJ\",\n    \" J \",\n    \"\",\n    \"K  \",\n    \"KK \",\n    \" KK\",\n    \"\",\n    \"LLLL\",\n    \"L   \",\n    \"\",\n    0\n};\n\nstruct node\n{\n    char state[5][5];\n    int fx;\n\tint height;\n\tint width;\n    node():fx(9999), height(0), width(0) {memset(state, 0, sizeof state);}\n    int fix()\n    {\n        if(fx != 9999) return fx;\n        for(int i = 0; i < width; ++i)\n        {\n            if(isalpha(state[0][i]))\n                return fx = i;\n        }\n        return -9999;\n    }\n    char *operator[](size_t i)\n    {\n        return state[i];\n    }\n    const char *operator[](size_t i) const\n    {\n        return state[i];\n    }\n    int ID()\n    {\n        return state[0][fix()];\n    }\n    node rotate() const\n    {\n        node nd;\n\t\tnd.height = width;\n\t\tnd.width = height;\n        for(int i = 0; i < width; ++i)\n        {\n            for(int j = 0; j < height; ++j)\n                nd[i][j] = state[j][width - 1 - i];\n        }\n\n        return nd;\n    }\n    node reverse() const\n    {\n        node nd;\n\t\tnd.height = height;\n\t\tnd.width = width;\n        for(int i = 0; i < height; ++i)\n            memcpy(nd[i], state[height - 1 -i], width + 1);\n        return nd;\n    }\n    void show()\n    {\n        for(int i = 0; i < height; ++i)\n        {\n\t\t\tfor (int j = 0; j < width; j++) {\n\t\t\t\tcerr << state[i][j];\n\t\t\t}\n            cerr << endl;\n        }\n        cerr << endl;\n    }\n\n};\nbool operator<(node &lhs, node &rhs)\n{\n    if(lhs.ID() != rhs.ID()) return lhs.ID() < rhs.ID();\n    if(lhs.height != rhs.height) return lhs.height < rhs.height;\n    if(lhs.width != rhs.width) return lhs.width < rhs.width;\n    for(int i = 0; i < lhs.height; ++i)\n        if(strcmp(lhs[i], rhs[i]) != 0)\n            return strcmp(lhs[i], rhs[i]) < 0;\n    return false;\n}\nbool operator==(node &lhs, node &rhs)\n{\n    return !(lhs < rhs) && !(rhs < lhs);\n}\nnode mmp[12 * 8];\nint len;\nvoid init()\n{\n    const char **p = mmm;\n    while(*p)\n    {\n        node nd;\n        while(*p && **p)\n        {\n            strcpy(nd[nd.height++], *p);\n            ++p;\n        }\n        nd.width = strlen(nd[0]);\n        mmp[len++] = (nd);\n        mmp[len++] = (nd.rotate());\n        mmp[len++] = (nd.rotate().rotate());\n        mmp[len++] = (nd.rotate().rotate().rotate());\n        mmp[len++] = (nd.reverse());\n        mmp[len++] = (nd.rotate().reverse());\n        mmp[len++] = (nd.rotate().rotate().reverse());\n        mmp[len++] = (nd.rotate().rotate().rotate().reverse());\n        ++p;\n    }\n    sort(mmp, mmp + len);\n    len = unique(mmp, mmp + len) - mmp;\n    random_shuffle(mmp, mmp + len);\n}\nint used[255];\nchar mp[N][N];\nvoid show_map()\n{\n    for(int i = 1; i <= n; ++i)\n    {\n        for(int j = 1; j <= i; ++j)\n            cout << mp[i][j];\n        cout << endl;\n    }\n    cout << endl;\n}\nbool check(int x, int y, int id)\n{\n    const node &nd = mmp[id];\n    if(x + nd.height - 1 > n) return false;\n    if(y + nd.width - 1 > n) return false;\n    for(int i = 0; i < nd.height; ++i)\n    {\n        for(int j = 0; j < nd.width; ++j)\n        {\n            if(isalpha(nd[i][j]) && mp[x+i][y+j] != '.')\n                return false;\n        }\n    }\n    return true;\n}\nbool put(int x, int y, int id, bool unput)\n{\n    const node &nd = mmp[id];\n    for(int i = 0; i < nd.height; ++i)\n    {\n        for(int j = 0; j < nd.width; ++j)\n        {\n            if(isalpha(nd[i][j]))\n            {\n                if(unput)\n                    mp[x + i][y + j] = '.';\n                else\n                    mp[x + i][y + j] = nd[i][j];\n            }\n        }\n    }\n    return true;\n}\n\nint pre[N*N];\nint find(int i)\n{\n    if(pre[i] > 0)\n        return pre[i] = find(pre[i]);\n    else return i;\n}\nvoid merge(int a, int b)\n{\n    int ra = find(a), rb = find(b);\n    if(ra == rb) return;\n    pre[ra] -= -pre[rb] + 1;\n    pre[rb] = ra;\n}\nbool checkcn()\n{\n    memset(pre, 0, sizeof pre);\n    for(int i = 1; i <= n; ++i)\n    {\n        for(int j = 1; j <= i; ++j)\n        {\n            if(mp[i][j] == '.')\n            {\n                if(mp[i][j-1] == '.')\n                    merge(i*n + j, i * n + j - 1);\n                if(mp[i-1][j] == '.')\n                    merge(i*n + j, (i - 1) * n + j);\n            }\n        }\n    }\n//    for(int i = 1; i <= n; ++i)\n//    {\n//        for(int j = 1; j <= i; ++j)\n//        {\n//            cerr << -pre[find(i * n + j)] + 1 << \" \";\n//        }\n//        cerr << endl;\n//    }\n    for(int i = 1; i <= n; ++i)\n    {\n        for(int j = 1; j <= i; ++j)\n        {\n            if(mp[i][j] == '.' && -pre[find(i * n + j)] + 1 < 3)\n                return false;\n        }\n    }\n    return true;\n}\nclock_t b ;\nvoid dfs(int x, int y)\n{\n    if(!checkcn())\n    {\n        return;\n    }\n    while(x <= n && isalpha(mp[x][y]))\n    {\n        ++y;\n        if(y > x)\n            y = 1, x += 1;\n    }\n    if(x == n + 1)\n    {\n        show_map();\n        cerr << 1.0 * (clock() - b) / CLOCKS_PER_SEC << endl;\n        exit(0);\n    }\n//    show_map();\n    for(int i = 0; i < len; ++i)\n    {\n        int ny = y - mmp[i].fix();\n        if(!used[mmp[i].ID()] && check(x, ny, i))\n        {\n            put(x, ny, i, false);\n            used[mmp[i].ID()] = 1;\n            dfs(x, y + 1);\n            used[mmp[i].ID()] = 0;\n            put(x, ny, i, true);\n        }\n    }\n}\n\n\n#define IO(file) freopen(#file\".in\", \"r\", stdin), freopen(#file\".out\", \"w\", stdout)\nint main()\n{\n    IO(game);\n//\tfreopen(\"game.out\", \"w\", stdout);\n    memset(mp, 'X', sizeof mp);\n    init();\n//\tfor(int i = 0; i < len; ++i) {\n//        cout << mmp[i].ID() << endl;\n//\t\tmmp[i].show();\n//\t}\n\n    for(int i = 1; i <= n; ++i)\n    {\n        for(int j = 1; j <= i; ++j)\n        {\n            cin >> mp[i][j];\n            if(isalpha(mp[i][j]))\n            {\n                used[mp[i][j]] = 1;\n            }\n        }\n    }\n\n    b = clock();\n    dfs(1, 1);\n    cout << \"No solution\" << endl;\n}\n\n```",
        "postTime": 1539783473,
        "uid": 61724,
        "name": "\u90b1\u6c5f\u5764",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "\u6ca1\u4ec0\u4e48\u8bf4\u7684\uff0c\u679a\u4e3e\u6240\u6709\u60c5\u51b5\u5373\u53ef\uff0c\u6bcf\u79cd\u60c5\u51b5\u5728\u4ee3\u7801\u4e2d\u6709\u6807\u51fa\uff0c\u7136\u540e\u5728\u5361\u4e2a\u65f6\u95f4\u4e0d\u8981\u8d85\u65f6\u5373\u53ef\n~~~\n#include<bits/stdc++.h>\n#define pts putchar('\\n');\n#define ptc putchar(' ');\nusing namespace std;\ntypedef long long ll;\nconst int maxm=2e6+9;\nconst int maxn=2e5+9;\nconst int N=50+9;\nconst int mod=1e9+7;\nconst int inf=0x3f3f3f3f;\nconst double eps=1e-4;\nchar  G[N][N];\nint in[maxn];\nint timee=0;\nchar read(){\n    char x=getchar();\n    while(x!='.'&&(x>'Z'||x<'A')) x=getchar();\n    return x;\n}\nint gett(){\n    for(int i=1;i<=10;++i){\n        for(int j=1;j<=i;++j){\n            if(G[j][i]=='.') return 100*j+i;\n        }\n    }\n}\nint ok(){\n    for(int i='A';i<='L';++i) if(in[i]==0) return 0;\n    return 1;\n}\nvoid out(){\n    for(int i=1;i<=10;++i){\n        for(int j=1;j<=i;++j){\n            putchar(G[j][i]);\n        }pts;\n    }\n}\nvoid dfs(){\n    timee++;\n    if(timee>5e6){puts(\"No solution\");exit(0);}\n    if(ok()) {out();exit(0);}\n    int now=gett();\n    int x=now/100,y=now%10;\n    if(y==0) y=10;\n\t\n    if(!in['A'])//4\n    {\n        if(G[x+1][y]=='.'&&G[x][y+1]=='.')// \u4e0b\u53f3 \n        /*\n            1 1 \n            1 0     \n        */\n        {\n            G[x][y]=G[x+1][y]=G[x][y+1]='A';in['A']=1; \n            dfs();\n            G[x][y]=G[x+1][y]=G[x][y+1]='.';in['A']=0;\n        }\n        if(G[x+1][y+1]=='.'&&G[x][y+1]=='.')// \u4e0b\u5de6 \n        /*\n            1 1  \n            0 1     \n        */\n        {\n            G[x][y]=G[x+1][y+1]=G[x][y+1]='A';in['A']=1; \n            dfs();\n            G[x][y]=G[x+1][y+1]=G[x][y+1]='.';in['A']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+1][y+1]=='.')//\u4e0a\u53f3\n        /*\n            1 0\n            1 1     \n        */\n        {\n            G[x][y]=G[x+1][y]=G[x+1][y+1]='A';in['A']=1; \n            dfs();\n            G[x][y]=G[x+1][y]=G[x+1][y+1]='.';in['A']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x-1][y+1]=='.')// \u4e0a\u5de6\n        /*\n            0 1\n            1 1     \n        */\n        {\n            G[x][y]=G[x][y+1]=G[x-1][y+1]='A';in['A']=1; \n            dfs();\n            G[x][y]=G[x][y+1]=G[x-1][y+1]='.';in['A']=0;\n        }\n    }\n\tif(!in['B'])//2\n    {\n        if(G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+3][y]=='.')//\u5782\u76f4 \n        /*\n            1\n            1\n            1\n            1\n        */\n        {\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]='B';in['B']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]='.';in['B']=0;\n        }\n\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x][y+3]=='.')//\u6c34\u5e73 \n        /*\n            1 1 1 1\n        */\n        {\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]='B';in['B']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]='.';in['B']=0;\n        }\n    } \n\n    \n    if(!in['C'])//8\n    {\n        if(G[x+1][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.')//1\n        {\n            /*\n                1 1 1\n                1           \n            */\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x][y+2]='C';in['C']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x][y+2]='.';in['C']=0;\n        }   \n        if(G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y+1]=='.')//2\n        {\n            /*\n                1 1\n                  1\n                  1         \n            */\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]='C';in['C']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]='.';in['C']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x-1][y+2]=='.')//3\n        {\n            /*\n                    1\n                1 1 1\n            */\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x-1][y+2]='C';in['C']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x-1][y+2]='.';in['C']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.')//4\n        {\n            /*\n                1\n                1\n                1 1\n            */\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]='C';in['C']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]='.';in['C']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.')//5\n        {\n            /*\n                1\n                1 1 1           \n            */\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]='C';in['C']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]='.';in['C']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.')//6\n        {\n            /*\n                1 1\n                1\n                1           \n            */\n            G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]='C';in['C']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]='.';in['C']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y+2]=='.')//7\n        {\n            /*\n                1 1 1\n                    1           \n            */\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]='C';in['C']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]='.';in['C']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x-2][y+1]=='.')//8\n        {\n            /*\n                  1\n                  1\n                1 1\n            */\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x-2][y+1]='C';in['C']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x-2][y+1]='.';in['C']=0;\n        }\n    } \n\n    if(!in['D'])//1\n    {\n        if(G[x+1][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y+1]=='.')\n        {\n            /*\n                1 1\n                1 1         \n            */\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x+1][y+1]='D';in['D']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x+1][y+1]='.';in['D']=0;\n        }\n    }\n\n    if(!in['E'])//4\n    {\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x-1][y+2]=='.'&&G[x-2][y+2]=='.')//1\n        {\n            /*\n                    1\n                    1\n                1 1 1           \n            */\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x-1][y+2]=G[x-2][y+2]='E';in['E']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x-1][y+2]=G[x-2][y+2]='.';in['E']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.'&&G[x+2][y+2]=='.')//2\n        {\n            /*\n                1\n                1\n                1 1 1\n\n            */\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+2][y+2]='E';in['E']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+2][y+2]='.';in['E']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.')//3\n        {\n            /*\n                1 1 1\n                1\n                1\n            */\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x][y+1]=G[x][y+2]='E';in['E']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x][y+1]=G[x][y+2]='.';in['E']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y+2]=='.'&&G[x+2][y+2]=='.')//4\n        {\n            /*\n                1 1 1\n                    1\n                    1           \n            */\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]=G[x+2][y+2]='E';in['E']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]=G[x+2][y+2]='.';in['E']=0;\n        }\n    }\n\n    if(!in['F'])//8\n    {\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x][y+3]=='.'&&G[x+1][y+1]=='.')//1\n        {\n            /*\n                1 1 1 1\n                  1             \n            */\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y+1]='F';in['F']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y+1]='.';in['F']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x+2][y+1]=='.')//2\n        {\n            /*\n                  1\n                1 1\n                  1\n                  1\n            */\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x-1][y+1]=G[x+2][y+1]='F';in['F']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x-1][y+1]=G[x+2][y+1]='.';in['F']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x-1][y+2]=='.'&&G[x][y+3]=='.')//3\n        {\n            /*  \n                       1\n                   1 1 1 1\n            */\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x-1][y+2]='F';in['F']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x-1][y+2]='.';in['F']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.'&&G[x+3][y]=='.')//4\n        {\n            /*\n                1\n                1\n                1 1\n                1\n            */\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+3][y]='F';in['F']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+3][y]='.';in['F']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x][y+2]=='.'&&G[x][y+3]=='.')//5\n        {\n            /* \n                  1\n                1 1 1 1\n            */\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x][y+2]=G[x][y+3]='F';in['F']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x][y+2]=G[x][y+3]='.';in['F']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y]=='.'&&G[x+3][y]=='.')//6\n        {\n            /*\n                1 \n                1 1 \n                1 \n                1\n            */\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y]=G[x+3][y]='F';in['F']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y]=G[x+3][y]='.';in['F']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y+2]=='.'&&G[x][y+3]=='.')//7\n        {\n            /*\n                1 1 1 1 \n                    1\n            */\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]=G[x][y+3]='F';in['F']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]=G[x][y+3]='.';in['F']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x-2][y+1]=='.')//4\n        {\n            /*\n                1 \n                1\n              1 1 \n                1\n            */\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x-1][y+1]=G[x-2][y+1]='F';in['F']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x-1][y+1]=G[x-2][y+1]='.';in['F']=0;\n        }\n    }\n\n    if(!in['G'])//4\n    {\n        if(G[x+1][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y+2]=='.')//1\n        {\n            /*\n                1 1 1 \n                1   1\n            */\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]='G';in['G']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]='.';in['G']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y+1]=='.'&&G[x+2][y]=='.')//2\n        {\n            /*\n                1 1\n                  1\n                1 1\n            */\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]=G[x+2][y]='G';in['G']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]=G[x+2][y]='.';in['G']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.'&&G[x][y+2]=='.')//3\n        {\n            /*\n                1   1\n                1 1 1\n            */\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]=G[x][y+2]='G';in['G']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]=G[x][y+2]='.';in['G']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.')//4\n        {\n            /*\n                1 1 \n                1  \n                1 1\n            */\n            G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]='G';in['G']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]='.';in['G']=0;\n        }\n    }\n\n    if(!in['H'])//8\n    {\n        if(G[x+1][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x][y+2]=='.')//1\n        {\n            /*\n                1 1 1\n                1 1\n            */\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x+1][y+1]=G[x][y+2]='H';in['H']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x+1][y+1]=G[x][y+2]='.';in['H']=0;\n        }\n\n        if(G[x+1][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y+1]=='.')//2       \n        {\n            /*\n                1 1\n                1 1\n                  1\n            */\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]='H';in['H']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]='.';in['H']=0;\n        }   \n        if(G[x][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x-1][y+2]=='.'&&G[x][y+2]=='.')//3\n        {\n            /*\n                   1 1\n                 1 1 1\n\n            */\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x-1][y+2]=G[x][y+2]='H';in['H']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x-1][y+2]=G[x][y+2]='.';in['H']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.')//4\n        {\n            /*\n                1\n                1 1\n                1 1\n            */\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y]=G[x+2][y+1]='H';in['H']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y]=G[x+2][y+1]='.';in['H']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.')//5\n        {\n            /*\n                1 1\n                1 1 1\n            */\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y+2]='H';in['H']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y+2]='.';in['H']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y]=='.')//6\n        {\n            /*\n                1 1\n                1 1 \n                1\n            */\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y]='H';in['H']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y]='.';in['H']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y+2]=='.')//7\n        {\n            /*\n                1 1 1\n                  1 1           \n            */\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x][y+2]=G[x+1][y+2]='H';in['H']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x][y+2]=G[x+1][y+2]='.';in['H']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y]=='.'&&G[x-1][y+1]=='.')//8\n        {\n            /*     \n                    1\n                  1 1\n                  1 1           \n            */\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y]=G[x-1][y+1]='H';in['H']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y]=G[x-1][y+1]='.';in['H']=0;\n        }\n    }\n\n    if(!in['I'])//8\n    {\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x+1][y+2]=='.'&&G[x+1][y+3]=='.')//1\n        {\n            /*     \n                1 1 1\n                    1 1         \n            */\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]=G[x+1][y+3]='I';in['I']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x+1][y+2]=G[x+1][y+3]='.';in['I']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x-2][y+1]=='.')//2\n        {\n            /*     \n                    1\n                    1\n                  1 1\n                  1     \n            */\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x-1][y+1]=G[x-2][y+1]='I';in['I']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x-1][y+1]=G[x-2][y+1]='.';in['I']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.'&&G[x+1][y+3]=='.')//3\n        {\n            /*     \n                    1 1\n                      1 1 1 \n            */\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y+2]=G[x+1][y+3]='I';in['I']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y+2]=G[x+1][y+3]='.';in['I']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.')//4\n        {\n            /*     \n                      1\n                    1 1\n                    1\n                    1   \n            */\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x+1][y]=G[x+2][y]='I';in['I']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x+1][y]=G[x+2][y]='.';in['I']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x-1][y+2]=='.'&&G[x-1][y+3]=='.')//5\n        {\n            /*     \n                    1 1\n                1 1 1       \n            */\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x-1][y+2]=G[x-1][y+3]='I';in['I']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x-1][y+2]=G[x-1][y+3]='.';in['I']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+2][y+1]=='.'&&G[x+3][y+1]=='.')//6\n        {\n            /*     \n                1\n                1\n                1 1\n                  1     \n            */\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+3][y+1]='I';in['I']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+2][y+1]=G[x+3][y+1]='.';in['I']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x-1][y+2]=='.'&&G[x-1][y+3]=='.')//7\n        {\n            /*     \n                  1 1 1\n                1 1     \n            */\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x-1][y+2]=G[x-1][y+3]='I';in['I']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x-1][y+2]=G[x-1][y+3]='.';in['I']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y+1]=='.'&&G[x+3][y+1]=='.')//8\n        {\n            /*     \n                  1\n                  1 1\n                    1\n                    1   \n            */\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y+1]=G[x+3][y+1]='I';in['I']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y+1]=G[x+3][y+1]='.';in['I']=0;\n        }\n    }\n\n    if(!in['J'])//1\n    {\n        if(G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x][y+2]=='.')//1\n        {\n            /*     \n                    1\n                  1 1 1\n                    1   \n            */\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x-1][y+1]=G[x][y+2]='J';in['J']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x-1][y+1]=G[x][y+2]='.';in['J']=0;\n        }\n    }\n\n    if(!in['K'])//4\n    {\n        if(G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y+1]=='.'&&G[x+2][y+2]=='.')//1\n        {\n            /*     \n                   1\n                   1 1\n                     1 1\n            */\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y+1]=G[x+2][y+2]='K';in['K']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+2][y+1]=G[x+2][y+2]='.';in['K']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x-1][y+2]=='.')//2\n        {\n            /*     \n                    1 1\n                  1 1\n                  1\n            */\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x-1][y+1]=G[x-1][y+2]='K';in['K']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x-1][y+1]=G[x-1][y+2]='.';in['K']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.'&&G[x+2][y+2]=='.')//3\n        {\n            /*     \n                  1 1\n                    1 1\n                      1\n            */\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y+2]=G[x+2][y+2]='K';in['K']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+1][y+2]=G[x+2][y+2]='.';in['K']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x-1][y+2]=='.'&&G[x-2][y+2]=='.')//4\n        {\n            /*     \n                      1 \n                    1 1\n                  1 1\n            */\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x-1][y+2]=G[x-2][y+2]='K';in['K']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x-1][y+2]=G[x-2][y+2]='.';in['K']=0;\n        }\n    }\n\n    if(!in['L'])//8\n    {\n        if(G[x+1][y]=='.'&&G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x][y+3]=='.')//1\n        {\n            /*     \n                  1 1 1 1 \n                  1\n            */\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]='L';in['L']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]='.';in['L']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x+1][y+1]=='.'&&G[x+2][y+1]=='.'&&G[x+3][y+1]=='.')//2\n        {\n            /*     \n                  1 1\n                    1\n                    1\n                    1 \n            */\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]=G[x+3][y+1]='L';in['L']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y+1]=G[x+2][y+1]=G[x+3][y+1]='.';in['L']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x][y+3]=='.'&&G[x-1][y+3]=='.')//3\n        {\n            /*     \n                        1\n                  1 1 1 1\n            */\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x-1][y+3]='L';in['L']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x-1][y+3]='.';in['L']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+3][y]=='.'&&G[x+3][y+1]=='.')//4\n        {\n            /*     \n                    1\n                    1\n                    1\n                    1 1\n            */\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]=G[x+3][y+1]='L';in['L']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+2][y]=G[x+3][y]=G[x+3][y+1]='.';in['L']=0;\n        }\n        if(G[x+1][y]=='.'&&G[x+1][y+1]=='.'&&G[x+1][y+2]=='.'&&G[x+1][y+3]=='.')//5\n        {\n            /*     \n                   1\n                   1 1 1 1 \n            */\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]=G[x+1][y+3]='L';in['L']=1;\n            dfs();\n            G[x][y]=G[x+1][y]=G[x+1][y+1]=G[x+1][y+2]=G[x+1][y+3]='.';in['L']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x+1][y]=='.'&&G[x+2][y]=='.'&&G[x+3][y]=='.')//6\n        {\n            /*     \n                    1 1\n                    1\n                    1\n                    1\n            */\n            G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]=G[x+3][y]='L';in['L']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x+1][y]=G[x+2][y]=G[x+3][y]='.';in['L']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x][y+2]=='.'&&G[x][y+3]=='.'&&G[x+1][y+3]=='.')//7\n        {\n            /*     \n                    1 1 1 1\n                          1\n            */\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y+3]='L';in['L']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x][y+2]=G[x][y+3]=G[x+1][y+3]='.';in['L']=0;\n        }\n        if(G[x][y+1]=='.'&&G[x-1][y+1]=='.'&&G[x-2][y+1]=='.'&&G[x-3][y+1]=='.')//8\n        {\n            /*     \n                    1\n                    1\n                    1\n                  1 1\n            */\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x-2][y+1]=G[x-3][y+1]='L';in['L']=1;\n            dfs();\n            G[x][y]=G[x][y+1]=G[x-1][y+1]=G[x-2][y+1]=G[x-3][y+1]='.';in['L']=0;\n        }\n    }\n}\nint main(){\n//\tfreopen(\"123.txt\",\"w\",stdout);\n    memset(in,0,sizeof(in));\n    for(int i=1;i<=10;++i){\n        for(int j=1;j<=i;++j){\n            G[j][i]=read();\n            if(G[j][i]!='.') in[G[j][i]]=1;\n    \t}\n    }\n    dfs();\n    puts(\"No solution\");\n    return 0;\n} \n~~~",
        "postTime": 1546493462,
        "uid": 64593,
        "name": "Mr_cold",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    },
    {
        "content": "\u6211\u7684\u7b2c\u4e00\u9053\u9ed1\u9898\uff0c\u5199\u7bc7\u9898\u89e3\u7eaa\u5ff5\u4e00\u4e0b\u3002\n\n\u2026\u2026\u2026\u2026~~\u8fd9\u4e2a\u9898\u76ee\u5176\u5b9e\u5e76\u4e0d\u662f\u592a\u96be~~\u2026\u2026\u2026\u2026\uff08\u849f\u84bb\u6211\u90fd\u80fdAC\u7684\u9ed1\u9898\uff09\n\n\u7b97\u6cd5\u5e94\u8be5\u5f88\u597d\u60f3\u5230\uff0c\u5c31\u662f\u66b4\u529b\u7684\u641c\u7d22\uff08\u597d\u50cf\u65f6\u95f4\u590d\u6742\u5ea6\u4e0d\u662f\u592a\u9ad8\uff0c\u6211\u7684\u7a0b\u5e8f321ms\u8fc7\uff09\u4e0d\u8fc7\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f\u5b58\u56fe\u65f6\u8981\u628a\u6574\u4e2a\u4e09\u89d2\u5f62\u6cbf\u659c\u8fb9\u7684\u9ad8\u7ffb\u6298\u4ea4\u6362\u4e00\u6ce2\uff08~~\u6211\u4e0d\u4f1a\u544a\u8bc9\u4f60\u8fd9\u5176\u5b9e\u662f\u6211\u4eec\u8001\u5e08\u8bf4\u7684~~\uff09\n\n\u5269\u4e0b\u7684\u5c31\u662f\u66b4\u529b\u7684\u6df1\u5ea6\u641c\u7d22\u5566\uff0c\u7801\u91cf\u8d3c\u5927\uff0c\u4f46\u6ca1\u4ec0\u4e48\u6280\u5de7\uff0c\u8ba4\u771f\u70b9\u628a\u6240\u6709\u60c5\u51b5\u90fd\u6253\u5b8c\u5c31\u884c\uff0c\u5343\u4e07\u522b\u6253\u9519\uff0c\u4e09\u767e\u591a\u884c\u7684\u7a0b\u5e8f\u771f\u5fc3\u4e0d\u597d\u6539\n\n\u6253\u5b8c\u957f\u8212\u4e00\u53e3\u6c14\uff0c\u6211\u6709\u4e9b\u5730\u65b9\u9519\u4e86\uff0c\u4f46\u5c45\u7136\u80fd\u6709\u4e5d\u5341\u5206\uff0c\u4e0d\u77e5\u662f\u6570\u636e\u592a\u6c34\u8fd8\u662f\u600e\u4e48\u5730\uff0c\u5927\u5bb6\u6700\u597d\u522b\u590d\u5236\u4ee3\u7801\uff0c\u81ea\u5df1\u5199\u4e00\u4e0b\u4e5f\u662f\u6781\u5927\u7684\u63d0\u5347\uff0c\u78e8\u70bc\u8010\u5fc3\u4e0e\u6bc5\u529b\u3002\n\n\u4e0b\u9762\u662f\u5b8c\u6574\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define FOR(i,a,b) for (register int i=a;i<=b;i++)\nusing namespace std;\nconst int n=10;\nint tu[15][15];\nbool used[15];\nvoid print() {\n\tfor (int i=1,k=1; i<=n; i++) {\n\t\tFOR(j,1,k)\n\t\t\tswap(tu[i][j],tu[11-j][11-i]);\n\t\tif (i<=4)  k++;\n\t\telse  k--;\n\t}\n\tFOR(i,1,n) {\n\t\tFOR(j,1,i)\n\t\t\tprintf(\"%c\",tu[i][j]+'A'-1);\n\t\tprintf(\"\\n\");\n\t}\n\texit(0);\n}\nvoid dfs(int x,int y) {\n\twhile(tu[x][y]) {\n\t\ty++;\n\t\tif (x<y) x++,y=1;\n\t\tif (x>n) {\n\t\t\tprint();\n\t\t\treturn;\n\t\t}\n\t}\n\tif ((!used[12])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x][y+3])&&(!tu[x+1][y])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x][y+3]=tu[x+1][y]=12,used[12]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x][y+3]=tu[x+1][y]=0,used[12]=0;\n\t}\n\tif ((!used[12])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+1][y+2])&&(!tu[x+1][y+3])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+1][y+2]=tu[x+1][y+3]=12,used[12]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+1][y+2]=tu[x+1][y+3]=0,used[12]=0;\n\t}\n\tif ((!used[12])&&(!tu[x+1][y])&&(!tu[x+2][y])&&(!tu[x+3][y])&&(!tu[x+3][y+1])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+3][y]=tu[x+3][y+1]=12,used[12]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+3][y]=tu[x+3][y+1]=0,used[12]=0;\n\t}\n\tif ((!used[12])&&(!tu[x+1][y])&&(!tu[x+2][y])&&(!tu[x+3][y-1])&&(!tu[x+3][y])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+3][y-1]=tu[x+3][y]=12,used[12]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+3][y-1]=tu[x+3][y]=0,used[12]=0;\n\t}\n\tif ((!used[12])&&(!tu[x+1][y-3])&&(!tu[x+1][y-2])&&(!tu[x+1][y-1])&&(!tu[x+1][y])) {\n\t\ttu[x][y]=tu[x+1][y-3]=tu[x+1][y-2]=tu[x+1][y-1]=tu[x+1][y]=12,used[12]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y-3]=tu[x+1][y-2]=tu[x+1][y-1]=tu[x+1][y]=0,used[12]=0;\n\t}\n\tif ((!used[12])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x][y+3])&&(!tu[x+1][y+3])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x][y+3]=tu[x+1][y+3]=12,used[12]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x][y+3]=tu[x+1][y+3]=0,used[12]=0;\n\t}\n\tif ((!used[12])&&(!tu[x][y+1])&&(!tu[x+1][y+1])&&(!tu[x+2][y+1])&&(!tu[x+3][y+1])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=tu[x+2][y+1]=tu[x+3][y+1]=12,used[12]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=tu[x+2][y+1]=tu[x+3][y+1]=0,used[12]=0;\n\t}\n\tif ((!used[12])&&(!tu[x][y+1])&&(!tu[x+1][y])&&(!tu[x+2][y])&&(!tu[x+3][y])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+2][y]=tu[x+3][y]=12,used[12]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+2][y]=tu[x+3][y]=0,used[12]=0;\n\t}\n\tif ((!used[11])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+2][y+1])&&(!tu[x+2][y+2])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y+1]=tu[x+2][y+2]=11,used[11]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y+1]=tu[x+2][y+2]=0,used[11]=0;\n\t}\n\tif ((!used[11])&&(!tu[x+1][y])&&(!tu[x+1][y-1])&&(!tu[x+2][y-1])&&(!tu[x+2][y-2])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y-1]=tu[x+2][y-1]=tu[x+2][y-2]=11,used[11]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y-1]=tu[x+2][y-1]=tu[x+2][y-2]=0,used[11]=0;\n\t}\n\tif ((!used[11])&&(!tu[x][y-1])&&(!tu[x+1][y-1])&&(!tu[x+1][y-2])&&(!tu[x+2][y-2])) {\n\t\ttu[x][y]=tu[x][y-1]=tu[x+1][y-1]=tu[x+1][y-2]=tu[x+2][y-2]=11,used[11]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y-1]=tu[x+1][y-1]=tu[x+1][y-2]=tu[x+2][y-2]=0,used[11]=0;\n\t}\n\tif ((!used[11])&&(!tu[x][y+1])&&(!tu[x+1][y+1])&&(!tu[x+1][y+2])&&(!tu[x+2][y+2])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=tu[x+1][y+2]=tu[x+2][y+2]=11,used[11]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=tu[x+1][y+2]=tu[x+2][y+2]=0,used[11]=0;\n\t}\n\tif (!(used[10])&&(!tu[x+1][y-1])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+2][y])) {\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y]=10,used[10]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y]=0,used[10]=0;\n\t}\n\tif ((!used[9])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x+1][y+2])&&(!tu[x+1][y+3])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y+2]=tu[x+1][y+3]=9,used[9]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y+2]=tu[x+1][y+3]=0,used[9]=0;\n\t}\n\tif ((!used[9])&&(!tu[x][y+1])&&(!tu[x+1][y-2])&&(!tu[x+1][y-1])&&(!tu[x+1][y])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y-2]=tu[x+1][y-1]=tu[x+1][y]=9,used[9]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y-2]=tu[x+1][y-1]=tu[x+1][y]=0,used[9]=0;\n\t}\n\tif ((!used[9])&&(!tu[x+1][y-1])&&(!tu[x+1][y])&&(!tu[x+2][y-1])&&(!tu[x+3][y-1])) {\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=tu[x+2][y-1]=tu[x+3][y-1]=9,used[9]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=tu[x+2][y-1]=tu[x+3][y-1]=0,used[9]=0;\n\t}\n\tif ((!used[9])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+2][y+1])&&(!tu[x+3][y+1])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y+1]=tu[x+3][y+1]=9,used[9]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y+1]=tu[x+3][y+1]=0,used[9]=0;\n\t}\n\tif ((!used[9])&&(!tu[x][y+1])&&(!tu[x+1][y+1])&&(!tu[x+1][y+2])&&(!tu[x+1][y+3])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=tu[x+1][y+2]=tu[x+1][y+3]=9,used[9]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=tu[x+1][y+2]=tu[x+1][y+3]=0,used[9]=0;\n\t}\n\tif ((!used[9])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x+1][y-1])&&(!tu[x+1][y])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y-1]=tu[x+1][y]=9,used[9]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y-1]=tu[x+1][y]=0,used[9]=0;\n\t}\n\tif ((!used[9])&&(!tu[x+1][y])&&(!tu[x+2][y-1])&&(!tu[x+2][y])&&(!tu[x+3][y-1])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y-1]=tu[x+2][y]=tu[x+3][y-1]=9,used[9]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y-1]=tu[x+2][y]=tu[x+3][y-1]=0,used[9]=0;\n\t}\n\tif ((!used[9])&&(!tu[x+1][y])&&(!tu[x+2][y])&&(!tu[x+2][y+1])&&(!tu[x+3][y+1])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+2][y+1]=tu[x+3][y+1]=9,used[9]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+2][y+1]=tu[x+3][y+1]=0,used[9]=0;\n\t}\n\tif ((!used[8])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x+1][y])&&(!tu[x+1][y+1])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y]=tu[x+1][y+1]=8,used[8]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y]=tu[x+1][y+1]=0,used[8]=0;\n\t}\n\tif ((!used[8])&&(!tu[x][y+1])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+1][y+2])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+1][y+1]=tu[x+1][y+2]=8,used[8]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+1][y+1]=tu[x+1][y+2]=0,used[8]=0;\n\t}\n\tif ((!used[8])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+2][y])&&(!tu[x+2][y+1])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y]=tu[x+2][y+1]=8,used[8]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y]=tu[x+2][y+1]=0,used[8]=0;\n\t}\n\tif ((!used[8])&&(!tu[x+1][y-1])&&(!tu[x+1][y])&&(!tu[x+2][y-1])&&(!tu[x+2][y])) {\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=tu[x+2][y-1]=tu[x+2][y]=8,used[8]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=tu[x+2][y-1]=tu[x+2][y]=0,used[8]=0;\n\t}\n\tif ((!used[8])&&(!tu[x][y+1])&&(!tu[x+1][y-1])&&(!tu[x+1][y])&&(!tu[x+1][y+1])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y-1]=tu[x+1][y]=tu[x+1][y+1]=8,used[8]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y-1]=tu[x+1][y]=tu[x+1][y+1]=0,used[8]=0;\n\t}\n\tif ((!used[8])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x+1][y+1])&&(!tu[x+1][y+2])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y+1]=tu[x+1][y+2]=8,used[8]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y+1]=tu[x+1][y+2]=0,used[8]=0;\n\t}\n\tif ((!used[8])&&(!tu[x][y+1])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+2][y+1])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y+1]=8,used[8]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y+1]=0,used[8]=0;\n\t}\n\tif ((!used[8])&&(!tu[x][y+1])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+2][y])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y]=8,used[8]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y]=0,used[8]=0;\n\t}\n\tif ((!used[7])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x+1][y])&&(!tu[x+1][y+2])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y]=tu[x+1][y+2]=7,used[7]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y]=tu[x+1][y+2]=0,used[7]=0;\n\t}\n\tif ((!used[7])&&(!tu[x][y+1])&&(!tu[x+1][y])&&(!tu[x+2][y])&&(!tu[x+2][y+1])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+2][y]=tu[x+2][y+1]=7,used[7]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+2][y]=tu[x+2][y+1]=0,used[7]=0;\n\t}\n\tif ((!used[7])&&(!tu[x][y+2])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+1][y+2])) {\n\t\ttu[x][y]=tu[x][y+2]=tu[x+1][y]=tu[x+1][y+1]=tu[x+1][y+2]=7,used[7]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+2]=tu[x+1][y]=tu[x+1][y+1]=tu[x+1][y+2]=0,used[7]=0;\n\t}\n\tif ((!used[7])&&(!tu[x][y+1])&&(!tu[x+1][y+1])&&(!tu[x+2][y])&&(!tu[x+2][y+1])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=tu[x+2][y]=tu[x+2][y+1]=7,used[7]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=tu[x+2][y]=tu[x+2][y+1]=0,used[7]=0;\n\t}\n\tif ((!used[6])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x][y+3])&&(!tu[x+1][y+1])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x][y+3]=tu[x+1][y+1]=6,used[6]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x][y+3]=tu[x+1][y+1]=0,used[6]=0;\n\t}\n\tif ((!used[6])&&(!tu[x+1][y-1])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+1][y+2])) {\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=tu[x+1][y+1]=tu[x+1][y+2]=6,used[6]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=tu[x+1][y+1]=tu[x+1][y+2]=0,used[6]=0;\n\t}\n\tif ((!used[6])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x][y+3])&&(!tu[x+1][y+2])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x][y+3]=tu[x+1][y+2]=6,used[6]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x][y+3]=tu[x+1][y+2]=0,used[6]=0;\n\t}\n\tif ((!used[6])&&(!tu[x+1][y-2])&&(!tu[x+1][y-1])&&(!tu[x+1][y])&&(!tu[x+1][y+1])) {\n\t\ttu[x][y]=tu[x+1][y-2]=tu[x+1][y-1]=tu[x+1][y]=tu[x+1][y+1]=6,used[6]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y-2]=tu[x+1][y-1]=tu[x+1][y]=tu[x+1][y+1]=0,used[6]=0;\n\t}\n\tif ((!used[6])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+2][y])&&(!tu[x+3][y])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y]=tu[x+3][y]=6,used[6]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+2][y]=tu[x+3][y]=0,used[6]=0;\n\t}\n\tif ((!used[6])&&(!tu[x+1][y-1])&&(!tu[x+1][y])&&(!tu[x+2][y])&&(!tu[x+3][y])) {\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=tu[x+2][y]=tu[x+3][y]=6,used[6]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=tu[x+2][y]=tu[x+3][y]=0,used[6]=0;\n\t}\n\tif ((!used[6])&&(!tu[x+1][y])&&(!tu[x+2][y])&&(!tu[x+2][y+1])&&(!tu[x+3][y])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+2][y+1]=tu[x+3][y]=6,used[6]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+2][y+1]=tu[x+3][y]=0,used[6]=0;\n\t}\n\tif ((!used[6])&&(!tu[x+1][y])&&(!tu[x+2][y-1])&&(!tu[x+2][y])&&(!tu[x+3][y])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y-1]=tu[x+2][y]=tu[x+3][y]=6,used[6]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y-1]=tu[x+2][y]=tu[x+3][y]=0,used[6]=0;\n\t}\n\tif ((!used[5])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x+1][y])&&(!tu[x+2][y])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y]=tu[x+2][y]=5,used[5]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y]=tu[x+2][y]=0,used[5]=0;\n\t}\n\tif ((!used[5])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x+1][y+2])&&(!tu[x+2][y+2])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y+2]=tu[x+2][y+2]=5,used[5]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y+2]=tu[x+2][y+2]=0,used[5]=0;\n\t}\n\tif ((!used[5])&&(!tu[x+1][y])&&(!tu[x+2][y])&&(!tu[x+2][y+1])&&(!tu[x+2][y+2])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+2][y+1]=tu[x+2][y+2]=5,used[5]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+2][y+1]=tu[x+2][y+2]=0,used[5]=0;\n\t}\n\tif ((!used[5])&&(!tu[x+1][y])&&(!tu[x+2][y-2])&&(!tu[x+2][y-1])&&(!tu[x+2][y])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y-2]=tu[x+2][y-1]=tu[x+2][y]=5,used[5]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y-2]=tu[x+2][y-1]=tu[x+2][y]=0,used[5]=0;\n\t}\n\tif ((!used[4])&&(!tu[x][y+1])&&(!tu[x+1][y])&&(!tu[x+1][y+1])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+1][y+1]=4,used[4]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+1][y+1]=0,used[4]=0;\n\t}\n\tif ((!used[3])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x+1][y])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y]=3,used[3]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y]=0,used[3]=0;\n\t}\n\tif ((!used[3])&&(!tu[x+1][y])&&(!tu[x+1][y+1])&&(!tu[x+1][y+2])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+1][y+2]=3,used[3]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=tu[x+1][y+2]=0,used[3]=0;\n\t}\n\tif ((!used[3])&&(!tu[x+1][y])&&(!tu[x+2][y])&&(!tu[x+2][y+1])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+2][y+1]=3,used[3]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+2][y+1]=0,used[3]=0;\n\t}\n\tif ((!used[3])&&(!tu[x+1][y])&&(!tu[x+2][y-1])&&(!tu[x+2][y])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y-1]=tu[x+2][y]=3,used[3]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y-1]=tu[x+2][y]=0,used[3]=0;\n\t}\n\tif ((!used[3])&&(!tu[x+1][y-2])&&(!tu[x+1][y-1])&&(!tu[x+1][y])) {\n\t\ttu[x][y]=tu[x+1][y-2]=tu[x+1][y-1]=tu[x+1][y]=3,used[3]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y-2]=tu[x+1][y-1]=tu[x+1][y]=0,used[3]=0;\n\t}\n\tif ((!used[3])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x+1][y+2])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y+2]=3,used[3]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x+1][y+2]=0,used[3]=0;\n\t}\n\tif ((!used[3])&&(!tu[x][y+1])&&(!tu[x+1][y+1])&&(!tu[x+2][y+1])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=tu[x+2][y+1]=3,used[3]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=tu[x+2][y+1]=0,used[3]=0;\n\t}\n\tif ((!used[3])&&(!tu[x][y+1])&&(!tu[x+1][y])&&(!tu[x+2][y])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+2][y]=3,used[3]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y]=tu[x+2][y]=0,used[3]=0;\n\t}\n\tif ((!used[2])&&(!tu[x][y+1])&&(!tu[x][y+2])&&(!tu[x][y+3])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x][y+3]=2,used[2]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x][y+2]=tu[x][y+3]=0,used[2]=0;\n\t}\n\tif ((!used[2])&&(!tu[x+1][y])&&(!tu[x+2][y])&&(!tu[x+3][y])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+3][y]=2,used[2]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+2][y]=tu[x+3][y]=0,used[2]=0;\n\t}\n\tif ((!used[1])&&(!tu[x+1][y])&&(!tu[x][y+1])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x][y+1]=1,used[1]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x][y+1]=0,used[1]=0;\n\t}\n\tif ((!used[1])&&(!tu[x][y+1])&&(!tu[x+1][y+1])) {\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=1,used[1]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x][y+1]=tu[x+1][y+1]=0,used[1]=0;\n\t}\n\tif ((!used[1])&&(!tu[x+1][y])&&(!tu[x+1][y+1])) {\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=1,used[1]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y]=tu[x+1][y+1]=0,used[1]=0;\n\t}\n\tif ((!used[1])&&(!tu[x+1][y-1])&&(!tu[x+1][y])) {\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=1,used[1]=1;\n\t\tdfs(x,y);\n\t\ttu[x][y]=tu[x+1][y-1]=tu[x+1][y]=0,used[1]=0;\n\t}\n}\nint main() {\n\tchar ch;\n\tmemset(tu,127,sizeof(tu));\n\tFOR(i,1,n)FOR(j,1,i) {\n\t\tch=getchar();\n\t\twhile ((ch!='.')&&((ch<'A')||(ch>'L')))  ch=getchar();\n\t\tif (ch=='.')  tu[i][j]=0;\n\t\telse  tu[i][j]=ch-'A'+1,used[tu[i][j]]=1;\n\t}\n\tfor (int i=1,k=1; i<=n; i++) {\n\t\tfor (int j=1; j<=k; j++)\n\t\t\tswap(tu[i][j],tu[11-j][11-i]);\n\t\tif (i<=4)k++;\n\t\telse k--;\n\t}\n\tdfs(1,1);\n\tprintf(\"No solution\");\n\treturn 0;\n}\n```",
        "postTime": 1539782127,
        "uid": 100175,
        "name": "OIer_hsy",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4205 \u3010[NOI2005]\u667a\u6167\u73e0\u6e38\u620f \u3011"
    }
]