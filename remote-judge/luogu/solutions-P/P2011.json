[
    {
        "content": "\u672c\u9898\u4e3b\u8981\u8003\u5bdf\u9009\u624b\u901a\u8fc7\u7269\u7406\u5b66\u516c\u5f0f\u5217\u65b9\u7a0b\u548c\u4f7f\u7528\u9ad8\u65af\u6d88\u5143\u89e3\u65b9\u7a0b\u7684\u80fd\u529b\u3002\n\n\u7531\u7535\u8377\u5b88\u6052\u516c\u7406\u53ef\u4ee5\u5f97\u51fa\uff0c\u6d41\u5411\u67d0\u4e00\u7ed3\u70b9\u7684\u7535\u6d41\u4e4b\u548c\u6052\u7b49\u4e8e\u7531\u8be5\u7ed3\u70b9\u6d41\u51fa\u7684\u7535\u6d41\u4e4b\u548c\uff0c\u8fd9\u4fbf\u662f\u8457\u540d\u7684\u57fa\u5c14\u970d\u592b\u7535\u6d41\u5b9a\u5f8b(KCL)\uff0c\u7531\u6b64\u53ef\u4ee5\u5217\u51fan-1\u4e2a\u72ec\u7acb\u65b9\u7a0b\u7ec4\uff0c\u7535\u6e90\u4e0a\u5217\u51fa\u7684\u65b9\u7a0b\u5728\u7535\u6c60\u7684\u5916\u90e8\u4e0d\u6ee1\u8db3\u7535\u6d41\u5b88\u6052\uff0c\u53ef\u76f4\u63a5\u5217\u51fa\u7535\u538b\u7b49\u5f0f\u3002\n\n\u53ef\u4ee5\u8bbei\u8282\u70b9\u4e0a\u7684\u7535\u52bf\u4e3aXi\u5217\u51fa\u65b9\u7a0b\uff1a\n\n\u2211 (Xj-Xi)/Rij=Xi (<i,j>\u2208R)rnXi=Vi \uff08i\u4e3a\u7535\u6e90\uff09\n\n\n\u4f7f\u7528\u9ad8\u65af\u6d88\u5143\u6cd5\u89e3\u51faX\uff0c\u7136\u540e\u5bf9\u4e8e\u4efb\u610f\u8be2\u95ee<a,b>\uff0c\u76f4\u63a5\u8f93\u51faXa-Xb\u5373\u53ef\u3002\n\n\u6ce8\u610f\uff0c\u7531\u4e8e\u8f93\u5165\u4e2d\u53ef\u80fd\u5b58\u5728\u591a\u6761\u7535\u963b\u4e1d\u5e76\u8054\uff0c\u5e76\u4e14R\u4e0d\u4e3a0\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u7535\u963b\u53d6\u5012\u6570\u8bb0\u4e3a\u5bfc\u7535\u7cfb\u6570\uff0c\u6bcf\u6b21\u5728\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u589e\u52a0\u5bfc\u7535\u7cfb\u6570\u5373\u53ef\u3002\u6b64\u5916\uff0c\u7531\u4e8e\u8be2\u95ee\u6b21\u6570\u975e\u5e38\u5927\uff08\u8fbe\u52301000000\uff09\uff0c\u76f4\u63a5\u8f93\u51fa\u6d6e\u70b9\u6570\u4f1a\u8d85\u65f6\uff0c\u6240\u4ee5\u8981\u5148\u5c06\u6240\u6709\u53ef\u80fd\u7684\u7ed3\u679c\uff08200\\*200=40000\u79cd\uff09\u4ee5\u5b57\u7b26\u4e32\u5f62\u5f0f\u4fdd\u5b58\uff0c\u8fd9\u6837\u4f1a\u51cf\u5c11\u8f93\u51fa\u5360\u7528\u7684\u65f6\u95f4\uff0c\u53ef\u4ee5\u901a\u8fc7\u5168\u90e8\u6d4b\u8bd5\u70b9\u3002\n\n\u53c2\u8003\u8d44\u6599\uff1a\n\nhttp://baike.baidu.com/view/131449.htm\n\nhttp://baike.baidu.com/view/325740.htm\n\nhttp://baike.baidu.com/view/33268.htm\n",
        "postTime": 1390732974,
        "uid": 716,
        "name": "C_SUNSHINE",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P2011 \u3010\u8ba1\u7b97\u7535\u538b\u3011"
    },
    {
        "content": "\uff08Update\uff1a\u4fee\u6539\u4e86\u4e58\u53f7\uff09\n\n~~1\u9053\u7535\u5b66\u597d\u9898~~\n\n\u524d\u7f6e\u77e5\u8bc6\uff1a**\u9ad8\u65af\u6d88\u5143**\n\n# \u5206\u6790\n\n\u89c2\u5bdf\u6837\u4f8b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/722.png)\n\n\u5bf9\u4e8e\u4e00\u4e2a $Q$\uff08\u6bd4\u5982\u56fe\u4e2d\u7684\u2461\uff09\uff1a\u4ee4\u7535\u6d41\u6d41\u5165 $Q$ \u7684\u8282\u70b9\u8bb0\u4e3a $A_i$\uff1b\n\u7535\u6d41\u6d41\u51fa $Q$ \u7684\u8282\u70b9\u4e3a $B_i$\u3002\u5bb9\u6613\u77e5\u9053\uff1a\n\n$\\sum_{Ai}I_A=\\sum_{Bi}I_B$ \n\n(\u6d41\u5165\u7684\u7535\u6d41\u4e4b\u548c\u7b49\u4e8e\u6d41\u51fa\u7684\u7535\u6d41\u4e4b\u548c)\n\n\u56e0\u4e3a\uff1a\n\n$I=\\frac{U}{R}$ \uff08\u4f46\u613f\u4f60\u5b66\u8fc7\u521d\u4e2d\u7535\u5b66\uff09\n\n\u6240\u4ee5\uff1a\n\n$\\sum_{Ai}\\frac{U_A}{R_A}=\\sum_{Bi}\\frac{U_B}{R_B}$\n\n\uff08\u8fd9\u91cc\u7684 $U$ \u548c $R$ \u6307\u7684\u662f $A_i$ \u6216 $B_i$ \u5230 $Q$ \u8fd9\u6bb5\u5bfc\u4f53\u7684\u7535\u538b\u548c\u7535\u963b\uff0c\u56e0\u4e3a\u6211\u4eec\u4e60\u60ef\u4e8e\u8003\u8651\u4e00\u6bb5\u7535\u963b\u800c\u4e0d\u662f\u4e24\u4e2a\u70b9\u7684\u7535\u52bf\u5dee\uff09\n\n$R_i$ \u6211\u4eec\u77e5\u9053\uff0c\u4f46\u662f $U_i$ \u600e\u4e48\u77e5\u9053\u5462\uff1f\n\n\u5982\u679c\u4f60\u5b66\u4e60\u8fc7\u4e00\u5b9a\u9ad8\u4e2d\u7269\u7406\uff0c\u4f60\u4f1a\u77e5\u9053\u7535\u538b\u5176\u5b9e\u5c31\u662f\u4e24\u4e2a\u4f4d\u7f6e\u4e4b\u95f4\u7535\u52bf\u7684\u5dee\u503c\uff0c\u6240\u4ee5\u8bbe\u8282\u70b9 $i$ \u7684\u7535\u52bf\u4e3a $curU_i$ \u5219 $U=\\vert  curU_i-curU_Q \\vert$\n\n\u5f0f\u5b50\u53d8\u6210\uff1a\n\n$\\sum_{A_i}\\frac{curU_A-curU_Q}{R_A}=\\sum_{Bi}\\frac{curU_Q-curU_B}{R_B}$\n\n\u79fb\u9879\uff1a\n\n$\\sum_{A_i}\\frac{curU_A-curU_Q}{R_A}+\\sum_{Bi}\\frac{curU_B-curU_Q}{R_B}=0$\n\n\u4ee4$S_i=A_i\\cup B_i$\u5373\uff1a\n\n$\\sum_{S_i}\\frac{curU_S-curU_Q}{R_S}=0$\n\n\n\u4e8e\u662f\u4f60\u60ca\u559c\u5730\u53d1\u73b0\uff1a\u4e0d\u9700\u8981\u5224\u65ad\u7535\u6d41\u65b9\u5411\u4e86\uff01\n\n\u4f46\u77e5\u9053\u8fd9\u4e2a\u5f0f\u5b50\u6709\u4ec0\u4e48\u7528\u5462\uff1f\n\n# \u89e3\u51b3\uff08\u4ee3\u7801\uff09\n\n\u7531\u5f0f\u5b50\u60f3\u5230\u5217\u65b9\u7a0b\uff08**\u9ad8\u65af\u6d88\u5143**\uff09\uff0c\u8bbe\u6bcf\u4e2a\u70b9\u7684\u7535\u52bf\u4e3a\u672a\u77e5\u91cf\uff0c\u8baf\u95ee\u65f6\u76f4\u63a5\u4f5c\u5dee\u5373\u53ef\n\n\u53d8\u5f62\uff1a\n\n$\\sum_{S_i}curU_S \\times \\frac{1}{R_S} - curU_Q  \\times \\sum_{S_i}\\frac{1}{R_S}=0$\n\n\u6240\u4ee5\u5982\u679c\u8282\u70b9 $A$ \u4e0e $Q$ \u76f4\u63a5\u76f8\u8fde\uff0c\u90a3\u4e48\u5728\u4ee5 $curU_Q$ \u4e3b\u5143\u7684\u65b9\u7a0b\u4e2d $curU_A$ \u7684\u7cfb\u6570\u4e3a $\\frac{1}{R_A}$ \n\n\u800c\u5bf9\u4e8e\u4ee5 $curU_Q$ \u4e3b\u5143\u7684\u65b9\u7a0b\uff0c$curU_Q$\u7684\u7cfb\u6570\u4e3a $-\\sum_{S_i}\\frac{1}{R_S}$  \n\n\u6838\u5fc3\u4ee3\u7801\uff08\u5e26\u6ce8\u91ca\uff09\uff1a\n\n```cpp\nfor(register int i=1;i<=m;i++)\n{\n\tint u,v;db w;\n\tu=read(),v=read(),w=read();\n\tadd(u,v,w),add(v,u,w);//\u5efa\u7acb\u7535\u8def\u56fe\n}\n//\u5217\u65b9\u7a0b\uff08\u6838\u5fc3\uff09\nfor(register int i=1;i<=n;i++)\n{\n\tif(st[i])\tk[i][i]=1,k[i][n+1]=st[i];\n\t//st[i]\u662f\u6b63\u7535\u6781\u7535\u52bf\n\t//\u5982\u679c\u662f\u6b63\u7535\u6781\u90a3\u4e48\u65b9\u7a0b\u76f4\u63a5\u4e3a 1*U[i]=st[i]\n\telse\n\t{\n\t\tdb sum=0;\n\t\tfor(int j=head[i];j;j=Edge[j].nxt)\n\t\t{\n\t\t\tint v=Edge[j].v;db w=Edge[j].w;\n\t\t\tk[i][v]+=1.0/w;//\u6ce8\u610f\u53ef\u80fd\u4e24\u70b9\u95f4\u6709\u591a\u4e2a\u7535\u963b\n\t\t\tsum+=1.0/w;\n\t\t}\n\t\tk[i][i]=-sum;//\u4e3b\u5143\u7684\u7cfb\u6570\n\t}\n}\ngouse();//\u81ea\u884c\u6dfb\u52a0\n```\n\n\u6b63\u786e\u6027\uff1a\u6bcf\u4e2a\u672a\u77e5\u91cf\u90fd\u6709\u4e3b\u5143\u7684\u65b9\u7a0b\uff08\u5373\u4e00\u5171 $n$ \u4e2a\uff09\uff0c\u80af\u5b9a\u80fd\u89e3\u51fa\u6765\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a~~O(\u80fd\u8fc7)~~\n\n\u5217\u65b9\u7a0b O($n+m$) \u9ad8\u65af\u6d88\u5143O( $n^3$ )\u603b\uff1aO($n^3+m$) \n\n\u5236\u4f5c\u4e0d\u6613\uff0c\u671b\u7ba1\u7406\u5458\u5927\u5927\u901a\u8fc7\uff08\u8fd9\u9053\u9898\u8fd8\u6ca1\u6709\u8f83\u4e3a\u8be6\u7ec6\u7684\u9898\u89e3\uff09\n\nQwQ\n\u5b8c\u7ed3\u6492\u82b1~~~\n\n",
        "postTime": 1638337882,
        "uid": 283274,
        "name": "P_E_K_K_A",
        "ccfLevel": 6,
        "title": "P2011\u8ba1\u7b97\u7535\u538b\u9898\u89e3"
    }
]