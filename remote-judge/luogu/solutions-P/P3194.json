[
    {
        "content": "\u672c\u9898\u6700\u597d\u7684\u4e00\u7bc7\u9898\u89e3\u7684\u56fe\u7247\u4f3c\u4e4e\u5495\u5495\u5495\u4e86\uff0c\u90a3\u6211\u6765\u8865\u4e00\u7bc7\u5427\uff0c\u987a\u4fbf\u53d1\u4e2a\u8ba1\u7b97\u51e0\u4f55\u677f\u5b50\u3002\n\n\u9996\u5148\u4f60\u753b\u753b\u56fe\uff0c\u53d1\u73b0\u4e00\u4e2a\u6027\u8d28\uff1a\u4ece\u4e0a\u5f80\u4e0b\u770b\u80fd\u770b\u5230\u7684\u56fe\u50cf\u4e00\u5b9a\u662f\u4e00\u4e2a\u4e0b\u51f8\u7684\u56fe\u50cf\uff0c\u50cf\u8fd9\u6837\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/49553.png)\n\n\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u561b\u2026\u2026\u753b\u4e0b\u56fe\u5c31\u51fa\u6765\u4e86\u3002\n\n\u518d\u89c2\u5bdf\u4e00\u4e0b\uff1a\u4ece\u5de6\u5f80\u53f3\uff0c\u659c\u7387\u9012\u589e\u3002\n\n\u90a3\u4e48\u505a\u6cd5\u5c31\u5f88\u660e\u663e\u4e86\uff1a\n\n\u00b7 \u76f4\u7ebf\u4ee5\u659c\u7387\u4e3a\u7b2c\u4e00\u5173\u952e\u5b57\uff0c\u622a\u8ddd\u4e3a\u7b2c\u4e8c\u5173\u952e\u5b57\u6392\u5e8f\uff1b\n\n\u00b7 \u7ef4\u62a4\u4e00\u4e2a\u5355\u8c03\u6808\u8bb0\u5f55\u5f53\u524d\u80fd\u770b\u89c1\u7684\u76f4\u7ebf\u7f16\u53f7\uff1b\n\n\u00b7 \u6bcf\u6b21\u52a0\u5165\u4e00\u6761\u76f4\u7ebf\u5c31\u628a\u6808\u9876\u88ab\u8986\u76d6\u7684\u76f4\u7ebf\u4e22\u6389\uff08\u7528\u76f4\u7ebf\u4ea4\u70b9\u5224\u4e00\u4e0b\u5c31\u597d\u4e86\uff09\u3002\n\n\u00b7 \u8f93\u51fa\u7b54\u6848\u3002\n\n\u6211\u7684\u4ee3\u7801\u5de8\u957f\u65e0\u6bd4\uff0c\u56e0\u4e3a\u6709\u5176\u4ed6\u8ba1\u7b97\u51e0\u4f55\u7684\u6a21\u677f\u3002\u63a8\u8350\u4e00\u4e2a\u633a\u597d\u7684\u5b66\u4e60\u7b14\u8bb0\uff1ahttps://www.cnblogs.com/candy99/p/6360536.html \u3002Candy?\u592a\u795e\u4ed9\u4e86\u3002\uff08\u7136\u800c\u90a3\u91cc\u9762\u7684\u7ebf\u6bb5\u76f8\u4ea4\u4f3c\u4e4e\u6302\u4e86\uff09\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nnamespace my_std{\n\tusing namespace std;\n\t#define pii pair<int,int>\n\t#define fir first\n\t#define sec second\n\t#define MP make_pair\n\t#define rep(i,x,y) for (int i=(x);i<=(y);i++)\n\t#define drep(i,x,y) for (int i=(x);i>=(y);i--)\n\t#define go(x) for (int i=head[x];i;i=edge[i].nxt)\n\t#define sz 50505\n\ttypedef long long ll;\n\ttemplate<typename T>\n\tinline void read(T& t)\n\t{\n\t\tt=0;char f=0,ch=getchar();\n\t\tdouble d=0.1;\n\t\twhile(ch>'9'||ch<'0') f|=(ch=='-'),ch=getchar();\n\t\twhile(ch<='9'&&ch>='0') t=t*10+ch-48,ch=getchar();\n\t\tif(ch=='.')\n\t\t{\n\t\t\tch=getchar();\n\t\t\twhile(ch<='9'&&ch>='0') t+=d*(ch^48),d*=0.1,ch=getchar();\n\t\t}\n\t\tt=(f?-t:t);\n\t}\n\ttemplate<typename T,typename... Args>\n\tinline void read(T& t,Args&... args){read(t); read(args...);}\n\tvoid file()\n\t{\n\t\t#ifndef ONLINE_JUDGE\n\t\tfreopen(\"a.txt\",\"r\",stdin);\n\t\t#endif\n\t}\n//\tinline ll mul(ll a,ll b){ll d=(ll)(a*(double)b/mod+0.5);ll ret=a*b-d*mod;if (ret<0) ret+=mod;return ret;}\n}\nusing namespace my_std;\n\n#define I inline\ntypedef double db;\nconst db eps=1e-8;\nI int dcmp(db x){return fabs(x)<=eps?0:(x>0?1:-1);}\nstruct Vector\n{\n\tdb x,y;\n\tVector(db xx=0,db yy=0){x=xx,y=yy;}\n\tI const Vector operator + (const Vector &a) const {return Vector(x+a.x,y+a.y);}\n\tI const Vector operator - (const Vector &a) const {return Vector(x-a.x,y-a.y);}\n\tI const Vector operator * (const db &a) const {return Vector(x*a,y*a);}\n\tI const Vector operator / (const db &a) const {return Vector(x/a,y/a);}\n\tI const bool operator < (const Vector &a) const {return dcmp(x-a.x)==0?dcmp(y-a.y)<0:dcmp(x-a.x)<0;}\n\tI const bool operator == (const Vector &a) const {return dcmp(x-a.x)==0&&dcmp(y-a.y)==0;}\n\tI const bool operator != (const Vector &a) const {return dcmp(x-a.x)!=0||dcmp(y-a.y)!=0;}\n};\ntypedef Vector Point;\nI Vector Normal(Vector a){return Vector(-a.y,a.x);} // counterclockwise\nI db Dot(Vector a,Vector b){return a.x*b.x+a.y*b.y;}\nI db Cross(Vector a,Vector b){return a.x*b.y-a.y*b.x;}\nI db Len(Vector a){return sqrt(Dot(a,a));}\nI db Len2(Vector a){return Dot(a,a);}\nI db Angle(Vector a,Vector b){return acos(Dot(a,b)/Len(a)/Len(b));}\nI Vector Rotate(Vector a,db rad){return Vector(cos(rad)*a.x-sin(rad)*a.y,sin(rad)*a.x+cos(rad)*a.y);}\nstruct Line\n{\n\tPoint a,b; // a->b\n\tLine(){}\n\tLine(Point aa,Point bb){a=aa,b=bb;}\n};\nI db DisL(Point p,Line l){Vector u=p-l.a,v=l.b-l.a;return fabs(Cross(u,v))/Len(v);} // dist to line\nI db DisS(Point p,Point a,Point b) // dist to segment\n{\n\tif (a==b) return Len(p-a);\n\tVector v1=b-a,v2=p-a,v3=p-b;\n\tif (dcmp(Dot(v1,v2))<0) return Len(v2);\n\tif (dcmp(Dot(v1,v3))>0) return Len(v3);\n\treturn fabs(Cross(v1,v2))/Len(v1);\n}\nI bool OnLeft(Point p,Line l){return dcmp(Cross(p-l.a,l.b-l.a))<=0;}\nI bool OnLine(Point p,Line l){return dcmp(Cross(p-l.a,l.a-l.b))==0;}\nI bool OnSeg(Point p,Point a,Point b){return dcmp(Cross(p-a,a-b))==0&&dcmp(Cross(p-a,p-b))<0&&p!=a&&p!=b;}\nI Point LI(Line l1,Line l2) // line intersection\n{\n\tVector v=l1.a-l2.a,v1=l1.b-l1.a,v2=l2.b-l2.a;\n\tdb t=Cross(v,v2)/Cross(v2,v1);\n\treturn l1.a+v1*t;\n}\nI bool LSI(Line l,Point a,Point b) // line-seg intersection\n{\n\tVector v=l.b-l.a,v1=a-l.a,v2=b-l.a;\n\treturn dcmp(Cross(v,v1))!=dcmp(Cross(v,v2));\n}\nI bool SSI(Point a1,Point b1,Point a2,Point b2) /*seg-seg intersection*/ {Line l1(a1,b1),l2(a2,b2);return LSI(l1,a2,b2)&&LSI(l2,a1,b1);}\nI Point Circumcenter(Point a,Point b,Point c) // wai xin\n{\n\tPoint p=(a+b)/2,q=(a+c)/2;\n\tVector u=Normal(b-a),v=Normal(c-a);\n\tif (!dcmp(Len(a-b)+Len(a-c)-Len(b-c))) return (b+c)/2;\n\tif (!dcmp(Len(a-b)+Len(b-c)-Len(a-c))) return (a+c)/2;\n\tif (!dcmp(Len(a-c)+Len(b-c)-Len(a-b))) return (a+b)/2;\n\treturn LI(Line(p,p+u),Line(q,q+v));\n}\nI Point Barycenter(Point a,Point b,Point c) /*zhong xin*/ {return (a+b+c)/3;}\nI bool PolarCmp(Point a,Point b){db c=Cross(a,b);return dcmp(c)==0?a.x<b.x:dcmp(c)>0;}\ndb PolygonArea(Point *p,int n)\n{\n\tdb ret=0;\n\trep(i,2,n-1) ret+=Cross(p[i]-p[1],p[i+1]-p[1]);\n\treturn fabs(ret/2);\n}\nint InPolygon(Point *poly,int n,Point p) // 1:in 0:out -1:on\n{\n\tint ret=0;\n\trep(i,1,n)\n\t{\n\t\tint j=i%n+1;\n\t\tif (OnSeg(p,poly[i],poly[j])||p==poly[i]||p==poly[j]) return -1;\n\t\tif (poly[i].y==poly[j].y) continue;\n\t\tint tmp=(poly[i].y>poly[j].y?i:j);\n\t\tif (p.y==poly[tmp].y&&p.x<poly[tmp].x) { ret^=1; continue; }\n\t\ttmp=(poly[i].y<poly[j].y?i:j);\n\t\tif (p.y==poly[tmp].y&&p.x<poly[tmp].x) continue;\n\t\tif (SSI(p,p+Vector(1e18,0),poly[i],poly[j])) ret^=1;\n\t}\n\treturn ret;\n}\nbool IsConvex(Point *poly,int n)\n{\n\tint now=0,last=0;\n\trep(i,1,n)\n\t{\n\t\tint j=i+1,k=i+2;j>n?j-=n:0;k>n?k-=n:0;\n\t\tnow=dcmp(Cross(poly[k]-poly[j],poly[j]-poly[i]));\n\t\tif (now*last<0) return 0;\n\t\tlast=now;\n\t}\n\treturn 1;\n}\nint GetConvex(Point *p,int n,Point *ret) // return the size of the convex\n{\n\tsort(p+1,p+n+1);n=unique(p+1,p+n+1)-p-1;\n\tint m=0;\n\trep(i,1,n)\n\t{\n\t\twhile (m>1&&dcmp(Cross(ret[m]-ret[m-1],p[i]-ret[m-1]))<=0) --m;\n\t\tret[++m]=p[i];\n\t}\n\tint _m=m;\n\tdrep(i,n-1,1)\n\t{\n\t\twhile (m>_m&&dcmp(Cross(ret[m]-ret[m-1],p[i]-ret[m-1]))<=0) --m;\n\t\tret[++m]=p[i];\n\t}\n\tif (n>1) --m;\n\treturn m;\n}\ndb RotatingCalipers(Point *p,int n)\n{\n\tdb ret=0;\n\tif (n==1) return ret;\n\tif (n==2) return Len(p[1]-p[2]);\n\tint now=1;Point _=p[n+1];p[n+1]=p[1];\n\trep(i,1,n)\n\t{\n\t\twhile (dcmp(DisL(p[now],Line(p[i],p[i+1]))-DisL(p[now+1],Line(p[i],p[i+1])))<0) now=now%n+1;\n\t\tret=max(ret,max(Len(p[now]-p[i]),Len(p[now]-p[i+1])));\n\t}\n\tp[n+1]=_;\n\treturn ret;\n}\ndb MinCircleCover(Point *p,int n,Point &O) // return the minimum radius\n{\n\tO=p[1];db r=0;\n\trep(i,2,n) if (dcmp(r-Len(p[i]-O))<0)\n\t{\n\t\tO=p[i],r=0;\n\t\trep(j,1,i-1) if (dcmp(r-Len(p[j]-O))<0)\n\t\t{\n\t\t\tO=(p[i]+p[j])/2,r=Len(O-p[j]);\n\t\t\trep(k,1,j-1) if (dcmp(r-Len(p[k]-O))<0)\n\t\t\t{\n\t\t\t\tO=Circumcenter(p[i],p[j],p[k]);\n\t\t\t\tr=Len(O-p[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn r;\n}\n\nint n;\nstruct hh{db k,b;int id;}a[sz];\ninline bool cmp(const hh &x,const hh &y){return x.k==y.k?x.b>y.b:x.k<y.k;}\nLine aa[sz];\nint top,s[sz];\n\nint main()\n{\n\tfile();\n\tdb x,y;\n\tread(n);\n\trep(i,1,n) read(x,y),a[i]=(hh){x,y,i};\n\tsort(a+1,a+n+1,cmp);\n\trep(i,1,n) aa[i].a=Point(0,a[i].b),aa[i].b=Point(1,a[i].k+a[i].b);\n\ts[top=1]=1;\n\trep(i,2,n) if (a[i].k!=a[i-1].k)\n\t{\n\t\twhile (top>1&&dcmp(LI(aa[s[top]],aa[s[top-1]]).x-LI(aa[s[top-1]],aa[i]).x)>=0) --top;\n\t\ts[++top]=i;\n\t}\n\trep(i,1,top) s[i]=a[s[i]].id;\n\tsort(s+1,s+top+1);\n\trep(i,1,top) printf(\"%d \",s[i]);\n}\n```",
        "postTime": 1548332159,
        "uid": 76481,
        "name": "p_b_p_b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3194 \u3010[HNOI2008]\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf\u3011"
    },
    {
        "content": "\u9898\u610f\u4e4d\u4e00\u770b\u4e0d\u662f\u5f88\u660e\u786e...\u6240\u4ee5\u9996\u5148\u89e3\u91ca\u4e00\u4e0b\u9898\u5e72\u3002\n\n![](http://ozz4vkmqm.bkt.clouddn.com/18-1-18/26057792.jpg)\n\n\u5982\u4e0a\u56fe\uff0c\u84dd\u8272\u7684\u662f\u5404\u5f0f\u5404\u6837\u7684\u76f4\u7ebf\uff0c\u800c\u6211\u4eec\u8981\u6c42\u7684\u5c31\u662f\u6700\u4e0a\u9762\u7684\u8fd9\u4e00\u90e8\u5206\u5305\u542b\u54ea\u4e9b\u76f4\u7ebf\u3002\n\n\u5c31\u76f8\u5f53\u4e8e\u6c42\u4e00\u4e2a\u5206\u6bb5\u51fd\u6570\u51fd\u6570\u7684\u6781\u503c\u3002\u5e76\u4e14\uff0c\u6211\u4eec\u79f0\u8fd9\u4e9b\u90e8\u5206\u7684\u96c6\u5408\u4e3a\u51f8\u58f3\u3002\n\n\u6211\u4eec\u4e00\u70b9\u4e00\u70b9\u6765\u601d\u8003\u3002\u9996\u5148\u4ecb\u7ecd\u4e00\u4e0b\u5355\u8c03\u6808\u7684\u6982\u5ff5\uff1a\n\n\u5982\u679c\u6709\u4e00\u4e2a\u6808\uff0c\u652f\u6301\u4e0d\u65ad\u5f39\u51fa\u4ee5\u7ef4\u62a4\u5355\u8c03\u6027\uff0c\u90a3\u4e48\u5c31\u79f0\u8fd9\u4e2a\u6808\u53eb\u505a\u5355\u8c03\u6808\u3002\u5bf9\u5355\u8c03\u6027\u7684\u7ef4\u62a4\u65b9\u6cd5\u662f\u56e0\u9898\u800c\u5f02\u7684\u3002\u7531\u4e8e\u6bcf\u4e2a\u5143\u7d20\u81f3\u591a\u8fdb\u5165\u4e00\u6b21\uff0c\u6240\u4ee5\u5176\u590d\u6742\u5ea6\u662f$O(n)$\u7684\u3002\n\n\u6211\u4eec\u9996\u5148\u6309\u7167\u659c\u7387\u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u6392\u5e8f\u3002\u7136\u540e\u518d\u4ee5\u6b64\u4e3a\u57fa\u51c6\u8fdb\u884c\u4e0b\u9762\u7684\u601d\u8003\u3002\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u8fd9\u6837\u505a\uff0c\u4e0b\u9762\u518d\u6765\u5206\u6790\u3002\n\n\u601d\u8003\u4e00\u4e0b\u5c31\u53ef\u4ee5\u60f3\u8c61\u5230\uff0c\u659c\u7387\u6700\u5c0f\u548c\u6700\u5927\u7684\u5e94\u8be5\u662f\u4fdd\u7559\u7684\uff0c\u56e0\u4e3a\u8fd9\u662f\u6700\u8fb9\u4e0a\u7684\u4e24\u6bb5\u51f8\u58f3\u3002\n\n![](http://ozz4vkmqm.bkt.clouddn.com/18-1-18/2095888.jpg)\n\n\u9996\u5148\u6765\u770b\u4e24\u6761\u7ebf\u7684\u60c5\u51b5\uff0c\u7ed3\u679c\u5c31\u662f\u7ea2\u8272\u7684\u4e00\u6bb5\u3002\u663e\u7136\uff0c\u4e24\u6761\u7ebf\u90fd\u5728\u51f8\u58f3\u5185\uff0c\u6211\u4eec\u5b9a\u4e49\u4ea4\u70b9\u662f$P$\u70b9\u3002\u5c06\u8fd9\u4e24\u6761\u7ebf\u6bb5\u52a0\u5165\u6808\u4e2d\uff0c\u7531\u4e8e\u659c\u7387\u6392\u8fc7\u5e8f\uff0c\u6211\u4eec\u5c06\u7d2b\u8272\u7684\u79f0\u4e3a1\uff0c\u84dd\u8272\u7684\u79f0\u4e3a2\u3002\n\n\u7136\u540e\u8fd9\u65f6\u52a0\u5165\u4e00\u6761\u7ebf\uff0c\u540c\u6837\u7531\u4e8e\u659c\u7387\u6392\u8fc7\u5e8f\uff0c\u6240\u4ee5\u7ed3\u679c\u5e94\u8be5\u662f\u4e24\u6761\u7eff\u7ebf\u4e4b\u4e00\uff1a\n\n![](http://ozz4vkmqm.bkt.clouddn.com/18-1-18/15306555.jpg)\n\n\u4e0a\u9762\u7684\u7eff\u7ebf\u4e0e2\u7684\u4ea4\u70b9\u5728$P$\u7684\u5de6\u8fb9\uff0c\u5e76\u4e14\u89c2\u5bdf\u53ef\u4ee5\u5f97\u5230\uff0c\u8fd9\u6761\u7eff\u7ebf\u53d6\u4ee3\u4e86\u521a\u624d\u76842\u53f7\u7ebf\u3002\u6240\u4ee5\u6211\u4eec\u5f39\u51fa2\u53f7\uff0c\u52a0\u51653\u53f7\uff0c\u6808\u7684\u60c5\u51b5\u662f{1, 3}\n\n\u4e0b\u9762\u7684\u7eff\u7ebf\u4e0e2\u7684\u4ea4\u70b9\u5728$P$\u7684\u53f3\u8fb9\uff0c\u90a3\u4e48\u4e2d\u95f4\u5c31\u6709\u4e00\u6bb5\u51f8\u58f3\u5e76\u6ca1\u6709\u88ab\u53d6\u4ee3\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u5f39\u51fa\uff0c\u7136\u540e\u52a0\u51653\u53f7\uff0c\u6808\u7684\u60c5\u51b5\u662f{1, 2, 3}\u3002\n\n\u5982\u679c\u659c\u7387\u7684\u7b26\u53f7\u53d1\u751f\u6539\u53d8\uff0c\u7ed3\u679c\u5e94\u8be5\u662f\u76f8\u4f3c\u7684\uff1a\n\n![](http://ozz4vkmqm.bkt.clouddn.com/18-1-18/71083775.jpg)\n\n\u4fdd\u7559\u4e0e\u5426\u89c2\u5bdf\u4ea4\u70b9\u4f4d\u7f6e\u5373\u53ef\u3002\n\n\u597d\u50cf\u770b\u51fa\u4e86\u4e9b\u89c4\u5f8b\uff1a\u5982\u679c\u4e00\u6761\u7ebf\u8fdb\u5165\u4e4b\u540e\u4e0e\u4e0a\u4e00\u6761\u7ebf\u7684\u4ea4\u70b9\u5728\u4e0a\u4e00\u4e2a\u4ea4\u70b9\u7684\u5de6\u8fb9\uff0c\u90a3\u4e48\u5c31\u5f39\u51fa\u4e0a\u4e00\u6761\u7ebf\uff1b\u5728\u53f3\u8fb9\u5219\u4fdd\u7559\u3002\u81f3\u4e8e\u4e0d\u5de7\u4e00\u6837\u7684\u60c5\u51b5\uff0c\u753b\u4e00\u4e2a\u56fe\u5c31\u53ef\u4ee5\u660e\u767d\u5e94\u8be5\u662f\u5f39\u51fa\u4e0a\u4e00\u6761\u7ebf\u3002\n\n\u8fd9\u4e2a\u5f39\u51fa\u548c\u6bd4\u8f83\u7684\u8fc7\u7a0b\u5e94\u8be5\u4e00\u76f4\u6301\u7eed\u5230\u4ea4\u70b9\u4ea7\u751f\u5728\u53f3\u8fb9\u4e3a\u6b62\u3002\n\n\u81f3\u4e8e\u5224\u65ad\u4ea4\u70b9\uff0c\u76f4\u63a5\u8054\u7acb\u65b9\u7a0b\u6bd4\u8f83\u6a2a\u5750\u6807\u5373\u53ef\u3002\n\n\u6700\u540e\u7684\u95ee\u9898\u662f\u659c\u7387\u76f8\u540c\uff0c\u622a\u8ddd\u4e0d\u540c\u7684\u60c5\u51b5\u3002\u540c\u6837\u753b\u4e2a\u56feyy\u4e00\u4e0b\uff1a\n\n![](http://ozz4vkmqm.bkt.clouddn.com/18-1-18/33832719.jpg)\n\n\u5982\u679c\u4e00\u7ec4\u76f4\u7ebf\u659c\u7387\u76f8\u540c\uff0c\u5e76\u4e14\u4f5c\u4e3a\u51f8\u58f3\u7684\u4e00\u6bb5\uff0c\u90a3\u4e48\u4e00\u5b9a\u53d6\u622a\u8ddd\u6700\u5927\u7684\u4e00\u6bb5\uff0c\u56e0\u4e3a\u4f1a\u628a\u4e0b\u9762\u7684\u90fd\u906e\u4f4f\u3002\n\n\u5b9e\u73b0\u4e0a\u6211\u4eec\u53ef\u4ee5\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u53ea\u4fdd\u7559\u7b2c\u4e00\u6761\uff0c\u7136\u540e\u628a\u5269\u4e0b\u7684\u90fd\u8df3\u8fc7\u5c31\u597d\u8fa3\n\n\u4ee3\u7801\u548c\u697c\u4e0bTgotp\u5927\u4f6c\u7684\u5dee\u4e0d\u591a~~\uff08\u5176\u5b9e\u662f\u6211\u53c2\u8003\u7684\u6709\u70b9\u591a\uff09~~\u6240\u4ee5\u5c31\u4e0d\u8d34\u4e86\n",
        "postTime": 1516284765,
        "uid": 37956,
        "name": "LiRewriter",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3194 \u3010[HNOI2008]\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf\u3011"
    },
    {
        "content": "\u7c7b\u578b\uff1a\u534a\u5e73\u9762\u4ea4\n\n\u6ce8\u610f\uff1a\u521d\u59cb\u60c5\u51b5\u4e0b \u5e94\u76f4\u63a5\u538b\u5165\uff1b\n\n\u5b9e\u73b0\uff1a\u76f4\u63a5\u624b\u63a8 y \u76f8\u540c\u65f6 x\u7684\u60c5\u51b5\uff0c\u8fdb\u884c\u66f4\u65b0\uff08\u5efa\u8bae\u81ea\u5df1\u8fc7\u624b\u63a8\u4e00\u904d\uff09\u3002\n\n\u7b97\u6cd5\uff1a\u6392\u5e8f\u548c\u5355\u8c03\u6808\n\n\nc++\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<string>\n#include<queue>\nusing namespace std;\nconst int N = 5e4 + 5;\nint s[N],top,n,ans[N];\ninline void read(int&x)\n{\n    x = 0;char c;int sign = 1;\n    do{ c = getchar(); if(c == '-') sign = -1; }while(c < '0' || c>'9');\n    do{ x = x*10 + c -'0';c = getchar(); }while(c <= '9' && c >= '0');\n    x *= sign;\n}\nstruct str{\n    int a,b,id;\n}a[N];\nconst bool cmp(str a,str b){ if(a.a != b.a)return a.a >b.a;else return a.b >b.b; }\nconst bool cmop(int a,int b){ return a < b; }\ndouble sol(int i,int j){ return (double)(a[i].b - a[j].b)/(double)(a[j].a - a[i].a); }\nint main()\n{\n    read(n);\n    for(int i = 1;i <= n;i++)\n    {\n        read(a[i].a);read(a[i].b);\n        a[i].id = i;\n    }\n    sort(a+1,a+1+n,cmp);\n    for(int i = 1;i <= n;i++)\n    {\n        if(a[i].a == a[i-1].a && i != 1) continue;\n        while(top > 1 && sol(s[top],i) >= sol(s[top],s[top - 1])) top--;\n        s[++top] = i;\n        ans[top] = a[i].id;\n    }\n    sort(ans,ans + top + 1,cmop);\n    for(int i = 1;i <= top;i++) printf(\"%d \",ans[i]);\n    return 0;\n}\n\u63a8\u5e7fblog\uff1a <http://tgotp.science>\n```",
        "postTime": 1498203672,
        "uid": 23087,
        "name": "Tgotp",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3194 \u3010[HNOI2008]\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf\u3011"
    },
    {
        "content": "\u7ed9\u4e00\u4e2a\u4e0d\u662f\u534a\u5e73\u9762\u4ea4\u7684\u505a\u6cd5\uff08\n\n\u9996\u5148\u53bb\u91cd\uff0c\u659c\u7387\u76f8\u540c\u7684\u53ea\u6709\u622a\u8ddd\u8f83\u5927\u8005\u53ef\u89c1\uff0c\u56e0\u6b64\u4e0b\u9762\u7684\u8ba8\u8bba\u4e2d\u659c\u7387\u5404\u4e0d\u76f8\u540c\u3002\n\n\u5047\u8bbe\u6709\u4e09\u6761\u76f4\u7ebf $l_1, l_2, l_3$\uff0c\u8003\u8651\u5982\u679c $l_2$ \u88ab\u906e\u6321\uff0c\u8fd9\u4e09\u6761\u76f4\u7ebf\u5e94\u6ee1\u8db3\u4ec0\u4e48\u6761\u4ef6\u3002\n\n\u82e5 $l_2$ \u662f\u4e09\u8005\u4e2d\u659c\u7387\u6700\u5927\u6216\u8005\u6700\u5c0f\u7684\uff0c\u663e\u7136\u5176\u4e0d\u4f1a\u88ab\u906e\u6321\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u59a8\u8bbe $A_1 < A_2 < A_3$\u3002\u5982\u56fe\u6240\u793a\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/a3nhgx28.png)\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u8bb0 $l_1 \\cap l_3 = P(x_0, y_0)$\uff0c\u5982\u679c $A_1x_0 + B_1 \\geq A_2 x_0 + B_2$\uff0c\u5219 $l_2$ \u88ab\u906e\u6321\uff0c\u5426\u5219 $l_2$ \u4e0d\u88ab $l_1$ \u548c $l_3$ \u906e\u6321\u3002\n\n\u63a5\u4e0b\u6765\u641e\u4e00\u6ce2\u5f0f\u5b50\uff1a\n\n$$\nA_1x_0 + B_1 = A_3x_0 + B_3 \\Rightarrow x_0 = \\frac{B_3 - B_1}{A_1 - A_3}\n$$\n\n$$\nA_1\\frac{B_3 - B_1}{A_1 - A_3} + B_1 \\geq A_2\\frac{B_3 - B_1}{A_1 - A_3} + B_2 \\Rightarrow \\color{red}{\\frac{B_3 - B_1}{A_3 - A_1} \\geq \\frac{B_2 - B_1}{A_2 - A_1}}\n$$\n\n\u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u8fd9\u4e2a\u7ea2\u8272\u7684\u5f0f\u5b50\uff0c\u8bb0 $P_i=(A_i, B_i)$\uff0c\u90a3\u4e48\u4e0a\u9762\u7684\u5f0f\u5b50\u53ef\u4ee5\u7406\u89e3\u4e3a\uff1a\u82e5 $P_1$ \u5230 $P_3$ \u7684\u659c\u7387\u5927\u4e8e $P_1$ \u5230 $P_2$ \u7684\u659c\u7387\uff0c\u90a3\u4e48 $l_2$ \u88ab\u906e\u6321\u3002\u5982\u56fe\u6240\u793a\uff0c\u4e0b\u56fe\u4e2d $l_2$ \u4f1a\u88ab\u906e\u6321\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mqeu413d.png)\n\n\u56e0\u6b64\u53ef\u89c1\u7684\u76f4\u7ebf\u5e94\u6ee1\u8db3\u5176\u5bf9\u5e94\u7684\u70b9 $P_i$ \u5728\u70b9\u96c6 $\\{P_i\\}$ \u6784\u6210\u7684\u4e0a\u51f8\u58f3\u4e0a\u3002\u8dd1 Andrew \u7b97\u6cd5\u5c31\u53ef\u4ee5\u4e86\n\n~~\u5b9e\u9645\u4e0a\u51f8\u5305\u548c\u534a\u5e73\u9762\u4ea4\u672c\u8eab\u5c31\u662f\u5bf9\u5076\u95ee\u9898\u6240\u4ee5\u8fd9\u548c\u534a\u5e73\u9762\u4ea4\u5176\u5b9e\u662f\u540c\u4e00\u79cd\u505a\u6cd5\u3002~~\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nint get() {\n\tint x = 0, f = 1; char c = getchar();\n\twhile(!isdigit(c)) { if(c == '-') f = -1; c = getchar(); }\n\twhile(isdigit(c)) { x = x * 10 + c - '0'; c = getchar(); }\n\treturn x * f;\n}\n\nconst int N = 5e4 + 5;\nconst double eps = 1e-8;\nint n, top;\nstruct Vector {\n\tlong long x, y;\n\tint id;\n\tVector(long long a = 0, long long b = 0, long long c = 0) { x = a, y = b, id = c; }\n\tVector operator +(Vector b) const { return Vector(x + b.x, y + b.y); }\n\tVector operator -() const { return Vector(-x, -y); }\n\tVector operator -(Vector b) { return *this + (-b); }\n\tdouble operator &(Vector b) { return x * b.y - y * b.x; }\n} p[N], bin[N];\n\nint main() {\n\tn = get();\n\tfor(int i = 1; i <= n; i++) {\n\t\tdouble x, y;\n\t\tscanf(\"%lf%lf\", &x, &y);\n\t\tp[i] = Vector(x, y, i);\n\t}\n\tsort(p + 1, p + 1 + n, [](Vector a, Vector b){ return a.x == b.x? a.y > b.y : a.x < b.x; });\n\tbin[1] = p[1], top = 1;\n\tfor(int i = 2; i <= n; i++) {\n\t\tif(p[i].x == p[i - 1].x) continue;\n\t\twhile(top > 1 && ((bin[top] - bin[top - 1]) & (p[i] - bin[top])) >= 0) --top;\n\t\tbin[++top] = p[i];\n\t}\n\tsort(bin + 1, bin + 1 + top, [](Vector a, Vector b){ return a.id < b.id; });\n\tfor(int i = 1; i <= top; i++) \n\t\tprintf(\"%d \", bin[i].id);\n\treturn 0;\n}\n```",
        "postTime": 1626682784,
        "uid": 92254,
        "name": "Social_Zhao",
        "ccfLevel": 9,
        "title": "P3194 [HNOI2008]\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf"
    },
    {
        "content": "\u8fd9\u9053\u9898\u53ef\u4ee5\u4e0d\u7528\u79bb\u7ebf\uff0c\u4e5f\u5c31\u662f\u4e0d\u7528\u5c06\u76f4\u7ebf\u6309\u659c\u7387\u548c\u622a\u8ddd\u6392\u5e8f\u518d\u505a\u3002\n\n[\u5f3a\u5236\u5728\u7ebf\u7248\u672c](https://www.luogu.com.cn/problem/U145228)\n\n\u8fd9\u4e2a\u9898\u88ab\u4e07\u8001\u7237 D \u4e86\uff0c\u6bd5\u7adf\u5f3a\u5236\u5728\u7ebf\u4e86\u4e5f\u662f\u677f\u9898\u3002\n\n\u6211\u8ba4\u4e3a\u672c\u8eab\u5bf9\u4e8e\u51f8\u5305\u5165\u95e8\u7684\u540c\u5b66\uff0c\u8fd8\u6709\u6211\u8fd9\u79cd\u849f\u84bb\uff0c\u505a\u8fd9\u9898\u4f1a\u5bf9\u51f8\u5305\u7684\u7406\u89e3\u66f4\u6df1\u523b\u3002\n\n\u53ef\u4ee5\u5728 [\u6211\u7684\u89e3\u9898\u62a5\u544a](https://www.cnblogs.com/zjjws/p/13769602.html) \u7684 T4 \u627e\u5230\u5f3a\u5236\u5728\u7ebf\u7684\u505a\u6cd5\u3002\n\n\u5176\u5b9e\u5e76\u6ca1\u6709\u4ec0\u4e48\u533a\u522b\uff0c\u4f60\u53ea\u9700\u628a\u76f4\u7ebf\u5f53\u505a\u4e00\u4e2a\u4e8c\u5143\u7ec4\u585e\u5230 set \u91cc\uff0c\u7136\u540e\u6bcf\u6b21\u8003\u8651\u662f\u5426\u9700\u8981\u5c06\u659c\u7387\u6392\u540d\u5728\u81ea\u5df1\u5de6\u53f3\u7684\u76f4\u7ebf\u5f39\u51fa\u5373\u53ef\u3002\n\n\u81f3\u4e8e\u5224\u5b9a\u65b9\u5f0f\uff0c\u5c31\u662f\u770b\u4ea4\u70b9\uff0c\u4f60\u53ef\u4ee5\u4ece\u4ee3\u6570\u610f\u4e49\u4e0a\u53bb\u7406\u89e3\uff0c\u4e5f\u53ef\u4ee5\u4ece\u56fe\u50cf\u53bb\u7406\u89e3\u3002\u6211\u4e2a\u4eba\u559c\u6b22\u4ee3\u6570\u610f\u4e49\u3002\n\n\u4ee3\u7801\u7684\u8bdd\u89e3\u9898\u62a5\u544a\u90a3\u4e2a\u94fe\u63a5\u91cc\u4e5f\u6709\u3002",
        "postTime": 1608882760,
        "uid": 73551,
        "name": "zjjws",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3194 \u3010[HNOI2008]\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf\u3011"
    },
    {
        "content": "### \u601d\u8def\n\u901a\u8fc7\u753b\u56fe\u53ef\u77e5\uff0c\u9898\u4e2d\u7684\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf\u6240\u5f62\u6210\u7684\u7684\u56fe\u50cf\u662f\u4e0b\u51f8\u58f3\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5**\u4ee5\u659c\u7387\u4e3a\u7b2c\u4e00\u5173\u952e\u5b57**\uff0c**\u622a\u8ddd\u4e3a\u7b2c\u4e8c\u5173\u952e\u5b57**\u6392\u5e8f\uff0c\u7528\u4e00\u4e2a\u6808\u6765\u7ef4\u62a4\u5f53\u524d\u80fd\u770b\u89c1\u7684\u76f4\u7ebf\u7f16\u53f7\uff0c**\u6bcf\u6b21\u52a0\u5165\u4e00\u6761\u76f4\u7ebf\u5c31\u628a\u6808\u9876\u88ab\u8986\u76d6\u7684\u76f4\u7ebf\u5f39\u51fa**\u3002\n![](https://cdn.luogu.com.cn/upload/image_hosting/j7oh778k.png)     \u5bf9\u4e8e\u8986\u76d6\u7684\u7ebf\u6bb5\u53ef\u4ee5\u7528\u4ea4\u70b9\u5224\u65ad\u3002\uff08\u4e0b\u56fe\u4e2d$a$,$b$\u4ea4\u70b9\u5728$b$,$c$ \u5de6\u4fa7\uff0c\u6545\u53ef\u5224\u65ad$b$\u88ab\u8986\u76d6\uff09\n![](https://cdn.luogu.com.cn/upload/image_hosting/0imz6z5l.png)\n### \u4ee3\u7801\n~~~ cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1e5+5;\nint n,ans[N],s[N],top;\nstruct node{\n\tint a,b,id;\n}a[N];\nbool cmp(node x,node y){\n\tif(x.a!=y.a) return x.a>y.a;//\u5148\u6309\u659c\u7387\u518d\u6309\u622a\u8ddd\u6392\u5e8f \n\telse return x.b>y.b;\n}\ndouble calc(int i,int j){//\u8ba1\u7b97\u4ea4\u70b9 \n\treturn ((1.0*(a[i].b-a[j].b))/(a[j].a-a[i].a));\n}\nint main(){\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%d %d\",&a[i].a,&a[i].b);a[i].id=i;\n\t}\n\tsort(a+1,a+n+1,cmp);\n\tfor(int i=1;i<=n;i++){\n\t\tif(a[i].a==a[i-1].a&&i>1) continue;\n\t\twhile(top>1&&calc(s[top],i)>=calc(s[top],s[top-1])) top--;//\u82e5\u5f53\u524d\u4ea4\u70b9\u5728\u4e0a\u4e00\u4e2a\u4ea4\u70b9\u5de6\u8fb9,\u5219\u4e0a\u4e00\u6761\u76f4\u7ebf\u88ab\u8986\u76d6,\u5f39\u51fa\u6808 \n\t\ts[++top]=i;\n\t\tans[top]=a[i].id;\n\t}\n\tsort(ans+1,ans+top+1);\n\tfor(int i=1;i<=top;i++) printf(\"%d \",ans[i]);\n\treturn 0;\n}\n~~~",
        "postTime": 1598966347,
        "uid": 165113,
        "name": "linaonao",
        "ccfLevel": 0,
        "title": "P3194 [HNOI2008]\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf\u9898\u89e3"
    },
    {
        "content": "\u53ef\u4ee5\u53d1\u73b0\u6700\u540e\u5c31\u662f\u4e00\u4e2a\u4e0b\u51f8\u7684\u5f62\u72b6\u3002\u9996\u5148\u6309\u7167\u659c\u7387\u6392\u5e8f\uff0c\u6309\u987a\u5e8f\u52a0\u5165\u4e00\u4e2a\u5355\u8c03\u6808\uff0c\u753b\u56fe\u53ef\u4ee5\u53d1\u73b0\uff0c\u5982\u679c\u5f53\u524d\u52a0\u5165\u7684\u76f4\u7ebf\u4e0e\u6808\u9876\u76f4\u7ebf\u4ea4\u70b9\u5728\u524d\u4e00\u4e2a\u4ea4\u70b9\u7684\u5de6\u8fb9\uff0c\u5219\u6808\u9876\u5143\u7d20\u51fa\u6808\u3002\u8fd9\u6837\u5c31\u662fO(n)\u4e86\u3002\n\npascal\u4ee3\u7801\uff1a\n\n```cpp\nprogram lines(input,output);\nvar\n  a,b,c,z:array[0..50050]of longint;\n  d:array[0..50050]of double;\n  ans:array[0..50050]of boolean;\n  n,m,i,j:longint;\nprocedure sort(q,h:longint);\nvar\n  i,j,xa,xb,t:longint;\nbegin\n   i:=q;j:=h;xa:=a[(i+j)>>1];xb:=b[(i+j)>>1];\n   repeat\n     while (a[i]<xa) or (a[i]=xa) and (b[i]>xb) do inc(i);\n     while (xa<a[j]) or (xa=a[j]) and (xb>b[j]) do dec(j);\n     if i<=j then\n        begin\n           t:=a[i];a[i]:=a[j];a[j]:=t;\n           t:=b[i];b[i]:=b[j];b[j]:=t;\n           t:=c[i];c[i]:=c[j];c[j]:=t;\n           inc(i);dec(j);\n        end;\n   until i>j;\n   if j>q then sort(q,j);\n   if i<h then sort(i,h);\nend;\nfunction claris(x,y:longint):double;\nbegin\n   exit((b[y]-b[x])/(a[x]-a[y]));\nend;\nbegin\n   //assign(input,'lines.in');assign(output,'lines.out');reset(input);rewrite(output);\n   readln(n);\n   for i:=1 to n do begin readln(a[i],b[i]);c[i]:=i; end;\n   sort(1,n);\n   m:=1;\n   for i:=2 to n do if a[i]<>a[i-1] then begin inc(m);a[m]:=a[i];b[m]:=b[i];c[m]:=c[i] end;\n   z[1]:=1;z[2]:=2;d[2]:=claris(1,2);j:=2;\n   for i:=3 to m do\n      begin\n         while (claris(i,z[j])<=d[j]) and (j>1) do dec(j);\n         inc(j);z[j]:=i;d[j]:=claris(z[j],z[j-1]);\n      end;\n   fillchar(ans,sizeof(ans),false);\n   for i:=1 to j do ans[c[z[i]]]:=true;\n   for i:=1 to n do if ans[i] then write(i,' ');\n   //close(input);close(output);\nend.\n```",
        "postTime": 1488685399,
        "uid": 28023,
        "name": "McGrady",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3194 \u3010[HNOI2008]\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf\u3011"
    },
    {
        "content": "### \u534a\u5e73\u9762\u4ea4\n\n\u6bcf\u4e00\u6761\u76f4\u7ebf\u90fd\u770b\u4f5c\u4ece\u5de6\u6307\u5411\u53f3\u7684\u5411\u91cf\uff0c\u5982\u679c\u6211\u4eec\u628a\u6bcf\u4e2a\u5411\u91cf\u7684\u4e0b\u65b9\u90e8\u5206\u90fd\u6254\u6389\uff0c\u6700\u540e\u4f1a\u5f97\u5230\u4e00\u4e2a\u8f6e\u5ed3\uff0c\u8fd9\u4e2a\u8f6e\u5ed3\u7684\u4e0a\u65b9\u6ca1\u6709\u76f4\u7ebf\uff0c\u4e14\u8fd9\u4e2a\u8f6e\u5ed3\u7684\u6bcf\u4e2a\u90e8\u5206\u90fd\u662f\u7531\u8fd9\u4e9b\u76f4\u7ebf\u7ec4\u6210\u7684\u3002\u8fd9\u65f6\u5019\uff0c\u5728\u8fd9\u4e2a\u8f6e\u5ed3\u4e0a\u9762\u7684\u76f4\u7ebf\u90fd\u80fd\u88ab\u770b\u5230\u3002\n\n\u7ec6\u8282\uff1a\u9898\u76ee\u4e2d\u7684\u63cf\u8ff0\u4e0d\u4ec5\u662f\u4e3a\u4e86\u8ba9\u4f60\u7406\u89e3\u9898\u610f\uff0c\u540c\u65f6\u4e5f\u63d0\u9192\u4f60\uff0c\u5982\u679c\u4e00\u6761\u7ebf\u53ea\u6709\u4e00\u4e2a\u70b9\u5728\u8fd9\u4e2a\u8f6e\u5ed3\u4e0a\uff0c\u8fd9\u6761\u76f4\u7ebf\u662f\u4e0d\u8ba1\u5165\u7b54\u6848\u7684\u3002\u8fd9\u4e00\u70b9\u5728\u5199\u534a\u5e73\u9762\u4ea4\u7684\u65f6\u5019\u6ce8\u610f\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u8dd1\u4e00\u904d\u534a\u5e73\u9762\u4ea4\uff0c\u518d\u6c42\u51fa\u54ea\u4e9b\u76f4\u7ebf\u5728\u4e0a\u9762\uff0c\u5373\u4e3a\u7b54\u6848\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n\n#define D double\n#define x first\n#define y second\n\nusing namespace std;\n\nconst int amou=5e4+90;\nconst D eps=1e-12;\ntypedef pair<D,D> PDD;\n\nint n;\nstruct Line{\n\tPDD st,ed;\n\tint id;//\u7a0b\u5e8f\u8981\u6c42\u8f93\u51fa\u7f16\u53f7\uff0c\u800c\u534a\u5e73\u9762\u4ea4\u4f1a\u628a\u7ebf\u6309\u89d2\u5ea6\u6392\u5e8f\u4ece\u800c\u6253\u4e71\u7f16\u53f7\uff0c\u6240\u4ee5\u9700\u8981\u6700\u5f00\u59cb\u8bb0\u5f55\n}line[amou];\nint q[amou];\nbool we[amou];\n\nPDD operator-(PDD a,PDD b){\n\treturn {a.x-b.x,a.y-b.y};\n}\n\nD cross(PDD a,PDD b){\n\treturn a.x*b.y-a.y*b.x;\n}\n\nint dcmp(D a,D b){\n\tif(fabs(a-b)<eps) return 0;\n\tif(a<b) return -1;\n\treturn 1;\n}\n\nD area(PDD a,PDD b,PDD c){\n\treturn cross(b-a,c-a);\n}\n\nD get_angle(Line a){\n\treturn atan2(a.ed.y-a.st.y,a.ed.x-a.st.x);\n}\n\nbool cmp(Line a,Line b){\n\tD A=get_angle(a),B=get_angle(b);\n\tif(!dcmp(A,B)) return area(a.st,a.ed,b.st)<0;\n\treturn A<B;\n}\n\nPDD get_line_intersection_point(PDD s1,PDD v,PDD s2,PDD w){\n\tPDD u=s1-s2;\n\tD t=cross(w,u)/cross(v,w);\n\treturn {s1.x+v.x*t,s1.y+v.y*t};\n}\n\nPDD get_line_intersection_line(Line a,Line b){\n\treturn get_line_intersection_point(a.st,a.ed-a.st,b.st,b.ed-b.st);\n}\n\nbool on_right(Line a,Line b,Line c){\n\tPDD t=get_line_intersection_line(b,c);\n\treturn area(a.st,a.ed,t)<=0;\n}\n\nvoid half_plane_intersection(){\n\tsort(line+1,line+n+1,cmp);\n\tint head=0,tail=-1;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tif(i>1&&!dcmp(get_angle(line[i]),get_angle(line[i-1]))) continue;\n\t\twhile(head+1<=tail&&on_right(line[i],line[q[tail]],line[q[tail-1]])) tail--;\n\t\twhile(head+1<=tail&&on_right(line[i],line[q[head]],line[q[head+1]])) head++;\n\t\tq[++tail]=i;\n\t}\n//\tprintf(\"%d \",tail-head+1);\n//\twhile(head+1<tail&&on_right(line[q[head]],line[q[tail-1]],line[q[tail]])) tail--;\n//\twhile(head+1<tail&&on_right(line[q[tail]],line[q[head]],line[q[head+1]])) head++;\n\t//\u6ce8\u91ca\u6389\u7684\u8fd9\u51e0\u884c\u662f\u5728\u534a\u5e73\u9762\u4ea4\u677f\u5b50\u4e2d\u7684\uff0c\u4f46\u7531\u4e8e\u8fd9\u9898\u7684\u56fe\u5f62\u7279\u6b8a\u6027\uff0c\u5e76\u4e0d\u5b58\u5728\u9996\u5c3e\u76f8\u63a5\u7684\u60c5\u51b5\uff0c\u6545\u8fd9\u90e8\u5206\u53ef\u4ee5\u4e0d\u8981\uff0c\u4f46\u52a0\u4e0a\u4e0d\u4f1a\u9519\n\tfor(int i=head;i<=tail;i++) we[line[q[i]].id]=1;\n\tfor(int i=1;i<=n;i++) if(we[i]) printf(\"%d \",i);\n}\n\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tD a,b;\n\t\tscanf(\"%lf%lf\",&a,&b);\n\t\tline[i]={{0,b},{1,a+b},i};//\u4e00\u6761\u76f4\u7ebf\u4e0a\u968f\u4fbf\u53d6\u7684\u4e24\u4e2a\u70b9\uff0c\u4f60\u5f53\u7136\u4e5f\u53ef\u4ee5\u53d6x=2,3,......\n\t}\n\thalf_plane_intersection();\n\t\n\treturn 0;\n}\n```\n",
        "postTime": 1619167597,
        "uid": 280519,
        "name": "Yaha",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P3194\u3010[HNOI2008]\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf\u3011"
    },
    {
        "content": "# \u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf \u9898\u89e3\n\n## \u9898\u610f\n\n~~\u8fd9\u9053\u9898\uff0c\u5982\u679c\u6ca1\u770b\u6807\u7b7e\uff0c\u6211\u7edd\u5bf9\u60f3\u4e0d\u5230\u5b83\u5c45\u7136\u662f\u9053\u51f8\u5305\u9898\u3002~~\n\n\u5927\u81f4\u9898\u610f\u662f\uff1a\u5728\u4e8c\u7ef4\u76f4\u89d2\u5750\u6807\u7cfb\u4e0a\uff0c\u7ed9 $n$ \u6761\u76f4\u7ebf\u7684\u659c\u7387\u548c\u622a\u8ddd\uff0c\u95ee\u4f60\u4ece\u5728\u8fd9\u4e2a\u5750\u6807\u7cfb $y$ \u8f74\u65b9\u5411\u65e0\u7a77\u8fdc\u5904\uff0c\u80fd\u770b\u5230\u591a\u5c11\u6761\u76f4\u7ebf\uff0c\u4ece\u5c0f\u5230\u5927\u8f93\u51fa\u5176\u6807\u53f7\u3002\n\n## \u601d\u8def\n\n\u6211\u4eec\u4ece\u76f4\u7ebf\u88ab\u8986\u76d6\u7684\u659c\u7387\u548c\u622a\u8ddd\u4e4b\u95f4\u7684\u5173\u7cfb\u5165\u624b\uff0c\u753b\u4e86\u4e24\u4e2a\u56fe\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rzkhkcvw.png)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/t6rngjze.png)\n\n\u6211\u4eec\u4ece\u4e2d\u4e0d\u96be\u53d1\u73b0\u4ee5\u4e0b\u7ed3\u8bba\uff1a\n\n1. \u5b83\u786e\u5b9e\u662f\u4e00\u4e2a\u51f8\u5305\uff1b\n\n2. \u659c\u7387\u76f8\u540c\u65f6\uff0c\u622a\u8ddd\u5927\u7684\u4f1a\u628a\u5c0f\u7684\u8986\u76d6\u6389\uff08\u659c\u7387\u4e00\u6837,\u6392\u540d\u9760\u540e\u7684\u770b\u4e0d\u89c1\uff09\uff1b\n\n3. \u622a\u8ddd\u76f8\u540c\u65f6\uff0c\u659c\u7387\u5927\u7684\u4f1a\u66f4\u4f18\uff08\u6216\u8005\u7406\u89e3\u4e3a\u66f4\u4e0d\u5bb9\u6613\u88ab\u5176\u4ed6\u7ebf\u8986\u76d6\uff09\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\uff1a\n\n1. \u5148\u6309\u659c\u7387\u4e3a\u7b2c\u4e00\u5173\u952e\u5b57\uff0c\u622a\u8ddd\u4e3a\u7b2c\u4e8c\u5173\u952e\u5b57\u5bf9\u76f4\u7ebf\u8fdb\u884c\u6392\u5e8f\uff1b\n\n2. \u7136\u540e\u7ef4\u62a4\u4e00\u4e2a\u5355\u8c03\u6808\u6765\u5b58\u53ef\u4ee5\u770b\u89c1\u7684\u76f4\u7ebf\u7684\u7f16\u53f7 $(id)$\uff0c\u6bcf\u6b21\u6709\u65b0\u7684\u76f4\u7ebf\u52a0\u8fdb\u6765\u65f6\uff0c\u5c31\u7528\u8fd9\u6761\u76f4\u7ebf\u548c\u6808\u9876\u76f4\u7ebf\u7684\u4ea4\u70b9\u662f\u4e0d\u662f\u5728\u6808\u9876\u76f4\u7ebf\u548c\u4e0a\u4e00\u6761\u76f4\u7ebf\u4ea4\u70b9\u7684\u5de6\u8fb9\u6765\u5224\u65ad\u662f\u5426\u9700\u8981\u5f39\u51fa\u4e4b\u524d\u7684\u76f4\u7ebf\u3002\uff08\u5982\u5728\u7b2c\u4e00\u4e2a\u56fe\u4e2d\uff0c\u7eff\u7ebf\u548c\u84dd\u7ebf\u7684\u4ea4\u70b9\u5728\u84dd\u7ebf\u548c\u7ea2\u7ebf\u4ea4\u70b9\u7684\u53f3\u8fb9\uff0c\u6545\u84dd\u7ebf\u6ca1\u6709\u88ab\u8986\u76d6\uff0c\u4e0d\u7528\u5f39\u51fa\uff0c\u82e5\u4ea4\u70b9\u5728\u53f3\u4fa7\uff0c\u5219\u5f39\u51fa\u6808\u9876\u76f4\u7ebf\uff09\uff1b\n\n3. \u8f93\u51fa\u7b54\u6848\u3002\n\n$Code:$\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 50005;\n\nint n, top;\nint s[N], ans[N];\nstruct node\n{\n    int x, y, id;\n} p[N];\n\nint read() {\n    int x = 0, f = 1; char ch = getchar();\n    while (ch < '0' || ch > '9') \n    \t{if (ch == '-') f = -1; ch = getchar();}\n    while (ch >= '0' && ch <= '9')\n        x = (x << 3) + (x << 1) + (ch ^ 48), ch = getchar();\n    return x * f;\n}\n\nbool cmp(node a, node b)\n{\n    if (a.x != b.x) //\u7b2c\u4e00\u5173\u952e\u5b57\u4e3a\u659c\u7387\n    {\n        return a.x > b.x;\n    }\n    else //\u7b2c\u4e8c\u5173\u952e\u5b57\u4e3a\u622a\u8ddd\n        return a.y > b.y;\n}\n\ndouble jiaodot(int a, int b) //\u8ba1\u7b97\u4ea4\u70b9\n{\n    return ((1.0 * (p[a].y - p[b].y)) / (p[b].x - p[a].x));\n}\n\nint main()\n{\n    n=read();\n    for (int i = 1; i <= n; i++)\n    {\n        p[i].x=read();\n        p[i].y=read();\n        p[i].id = i;\n    }\n    sort(p + 1, p + n + 1, cmp);\n    for (int i = 1; i <= n; i++)\n    {\n        if (p[i].x == p[i - 1].x and i > 1)\n            continue;\n        while (top > 1 and jiaodot(s[top], i) >= jiaodot(s[top], s[top - 1]))\n            top--;\n        s[++top] = i;//\u5f53\u524d\u76f4\u7ebf\u5165\u6808\u3002\n        ans[top] = p[i].id; //\u8bb0\u5f55\u7b54\u6848\u3002\n    }\n    sort(ans + 1, ans + top + 1);//\u5c06ans\u4ece\u5c0f\u5230\u5927\u6392\u4e00\u4e0b\u5e8f\n    for (int i = 1; i <= top; i++)\n    {\n        printf(\"%d \", ans[i]);\n    }\n    return 0;\n}\n```",
        "postTime": 1658837525,
        "uid": 358837,
        "name": "Michvior_AC",
        "ccfLevel": 0,
        "title": "P3194 \u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf \u9898\u89e3"
    },
    {
        "content": "[Luogu](https://www.luogu.com.cn/problem/P3194)\n\n### \u9898\u76ee\u63cf\u8ff0\n\n\u7ed9\u5b9a\u82e5\u5e72\u6761\u76f4\u7ebf (\u90fd\u662f $y = Ax + B$ \u7684\u5f62\u5f0f)\n\n\u6c42\u4ece\u4e0a\u5f80\u4e0b\u770b\u6240\u6709\u53ef\u4ee5\u770b\u5230\u7684\u76f4\u7ebf\uff0c\u4ece\u5c0f\u5f80\u5927\u8f93\u51fa\u7f16\u53f7\n\n$N \\le 50000$\uff0c$|A|,|B| \\le 500000$\n\n### \u6b63\u89e3\n\n\u4ece\u4e0a\u5f80\u4e0b\u770b\uff0c\u82e5\u5e72\u6761\u76f4\u7ebf\u6784\u6210\u7684**\u534a\u5e73\u9762\u4ea4**\u7684\u90e8\u5206\u624d\u662f\u53ef\u89c1\u7684\n\n\u542c\u8bf4\u76f4\u63a5\u505a\u534a\u5e73\u9762\u4ea4\u53ef\u4ee5 $O(nlogn)$ \u505a\uff0c~~\u4f46\u662f\u6211\u4e0d\u4f1a~~\n\n$y = kx + b$\uff0c\u5bf9\u4e8e\u4e00\u4e2a $x$\uff0c\u53ea\u6709\u6700\u5927\u7684\u90a3\u4e00\u4e2a $y$ \u624d\u53ef\u4ee5\u88ab\u770b\u5230\n\n\u6362\u4e00\u79cd\u5f62\u5f0f\u770b\u8fd9\u6761\u76f4\u7ebf : $-kx + y = b$\n\n\u7531\u4e8e $-k$ \u548c $b$ \u662f\u56fa\u5b9a\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u5148\u628a\u5b83\u770b\u6210\u4e00\u4e2a**\u5b9a\u70b9** $(-k, b)$\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $x$\uff0c\u6211\u4eec\u8981\u6c42\u6700\u5927\u7684 $y$\n\n\u628a $x$ \u770b\u4f5c\u662f**\u659c\u7387**\uff0c\u5219 $y$ \u5c31\u662f $y$ \u8f74\u4e0a\u7684**\u622a\u8ddd**\n\n\u53d1\u73b0\u5bf9\u4e8e\u6240\u6709\u7684\u5b9a\u70b9 $(-k, b)$ \uff0c\u53ea\u6709\u5728(\u4e0a)\u51f8\u5305\u7684\u70b9\u662f\u6709\u7528\u7684\n\n(\u4f2a)\u8bc1\u660e : \u60f3\u8c61\u4e00\u6761\u659c\u7387\u4e3a $x$ \u7684\u76f4\u7ebf\u4ece\u4e0a\u5f80\u4e0b\u53bb\u9760\uff0c\u9760\u5230\u7b2c\u4e00\u4e2a\u70b9\u65f6 $y$ \u8f74\u622a\u8ddd\u6700\u5927\uff0c\u8fd9\u4e2a\u9760\u5230\u7b2c\u4e00\u4e2a\u70b9\u80af\u5b9a\u662f\u51f8\u5305\u4e0a\u7684\u70b9\n\n\u90a3\u76f4\u63a5\u5bf9\u70b9\u96c6 $(-k, b)$ \u6c42\u4e0a\u51f8\u5305\u5c31\u5b8c\u4e86\n\n$\\color {DeepSkyBlue} {Code}$\n\n\u6211\u8fd9\u4efd\u4ee3\u7801\u5728 bzoj \u4e0a\u8fc7\u4e86\uff0c\u4f46\u5728 luogu \u4e0a\u8fc7\u4e0d\u4e86\uff0c~~\u7a9d\u4f5b\u4e86~~\n\n```cpp\n/*\n\t\u4ece\u4e0a\u5f80\u4e0b\u770b, \u82e5\u5e72\u6761\u76f4\u7ebf\u6784\u6210\u7684\u534a\u5e73\u9762\u4ea4\u7684\u90e8\u5206\u662f\u53ef\u89c1\u7684\n\ty = kx + b\n\t\u8f6c\u5316\u6210\u5bf9\u5076\u95ee\u9898, \u6c42\u4e0a\u51f8\u5305, \u53ea\u6709\u51f8\u5305\u4e0a\u7684\u70b9\u624d\u662f\u53ef\u89c1\u7684\n\t-kx + y = b\n\t\u76f8\u5f53\u4e8e\u5bf9\u4e8e\u4e0d\u540c\u7684 x, \u8981\u6c42\u6700\u5927\u7684 y\n*/\n#include <bits/stdc++.h>\n#define N 50005\n\nusing namespace std;\n\ntypedef long long LL;\n\nint n;\nint stk[N];\nbool vis[N];\n\nstruct vec {\n\tLL x, y;\n\tvec (int _x = 0, int _y = 0) { x = _x, y = _y; }\n\tvec operator + (const vec &t) const { return vec(x + t.x, y + t.y); }\n\tvec operator - (const vec &t) const { return vec(x - t.x, y - t.y); }\n\tbool operator < (const vec &rhs) const {\n\t\treturn x == rhs.x ? y < rhs.y : x < rhs.x;\n\t}\n}a[N];\n\nmap<vec, int> id;\n\ninline LL crop(const vec &u, const vec &v) { // \u53c9\u79ef\n\treturn u.x * v.y - v.x * u.y;\n}\n\nint main() {\n\tscanf(\"%d\", &n);\n\tfor(int i = 1, x, y; i <= n; ++i) {\n\t\tscanf(\"%d%d\", &x, &y);\n\t\ta[i] = vec(-x, y);\n\t\tid[a[i]] = i;\n\t}\n\t\n\tsort(a + 1, a + n + 1, less<vec>());\n\t\n\tint top = 0;\n\tfor(int i = 1; i <= n; ++i) {\n\t\twhile(top >= 2 && crop(a[i] - a[stk[top - 1]], a[stk[top]] - a[stk[top - 1]]) <= 0)\n\t\t\t--top;\n\t\tstk[++top] = i;\n\t}\n\t\n\tfor(int i = 1; i <= top; ++i)\n\t\tvis[id[a[stk[i]]]] = true;\n\tfor(int i = 1; i <= n; ++i)\n\t\tif(vis[i])\n\t\t\tprintf(\"%d \", i);\n\tputchar('\\n');\n\treturn 0;\n}\n```\n\n",
        "postTime": 1579135396,
        "uid": 88471,
        "name": "Lskkkno1",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3194 \u3010[HNOI2008]\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf\u3011"
    },
    {
        "content": "# \u601d\u8def\uff1a\n\u5148\u5bf9\u76f4\u7ebf\u6392\u5e8f\uff0c\u5148\u6309\u4e00\u6b21\u9879\u4ece\u5927\u5230\u5c0f\u6392\uff0c\u518d\u6309\u5e38\u6570\u9879\u4ece\u5927\u5230\u5c0f\u6392\uff0c\u6700\u540e\u7528\u5355\u8c03\u6808\uff0c\u9010\u4e2a\u538b\u5165\uff0c\u6bcf\u6b21\u628a\u6808\u9876\u88ab\u906e\u4f4f\u7684\u76f4\u7ebf\u5f39\u51fa\u518d\u5165\u6808\u3002\u8bb0\u5f97\u5bf9\u5e8f\u53f7\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u518d\u8f93\u51fa\u3002\n\n\u6ce8\u610f\u5e73\u884c\u7684\u60c5\u51b5\uff0c\u540e\u9762\u7684\u5c31\u76f4\u63a5\u4e0d\u5165\u6808\uff0c\u56e0\u4e3a\u4f1a\u88ab\u524d\u4e00\u4e2a\u906e\u4f4f\u3002\n# Code:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=5e4+5;\nint s[N],m,n,p[N];\nstruct f{\n  int a,b,i;\n}a[N];//i\u8868\u793a\u5728\u539f\u6765\u987a\u5e8f\u4e2d\u7684\u4f4d\u7f6e\nbool cmp(f a,f b){\n  if(a.a!=b.a)return a.a>b.a;\n  else return a.b>b.b;\n}//\u6bd4\u8f83\u51fd\u6570\ndouble l(int i,int j){\n  return 1.0*(a[i].b-a[j].b)/(a[j].a-a[i].a);\n}//\u659c\u7387\nint main(){\n\tcin>>n;\n    for(int i=1;i<=n;i++){\n        cin>>a[i].a>>a[i].b;\n        a[i].i=i;\n    }\n\tsort(a+1,a+1+n,cmp);\n    for(int i=1;i<=n;i++){//\u5355\u8c03\u6808\n        if(a[i].a==a[i-1].a&&i!=1)continue;//\u5e73\u884c\u65f6\uff0c\u524d\u9762\u7684\u5728\u540e\u9762\u7684\u4e0a\u65b9\n        while(m>1&&l(s[m],i)>=l(s[m],s[m-1]))m--;//\u5f39\u51fa\n        s[++m]=i,p[m]=a[i].i;//\u8fdb\u6808\n    }\n\tsort(p,p+m+1);\n    for(int i=1;i<=m;i++)cout<<p[i]<<\" \";\n}\n```\n",
        "postTime": 1685342690,
        "uid": 876283,
        "name": "2021changqing52",
        "ccfLevel": 4,
        "title": "P3194\u9898\u89e3"
    },
    {
        "content": "NMOI \u4e4b\u524d\u8d76\u7d27\u5b66\u4e00\u4e0b\u5b50\u8ba1\u7b97\u51e0\u4f55\uff0c\u8fd9\u4e2a\u9898\u660e\u660e\u5728[\u8ba1\u7b97\u51e0\u4f55 - \u4ece\u5165\u95e8\u5230\u8df3\u697c](https://www.luogu.com.cn/training/16408#problems)\u9898\u5355\u91cc\u9762\u4f46\u662f\u597d\u50cf\u6ca1\u591a\u5c11\u4eba\u5199\u7684\u6837\u5b50\u3002\n\n\u5173\u952e\u8bcd\uff1a\u51f8\u5305\u3002\n\n\u539f\u9898\u9762\u6bd4\u8f83\u5f62\u5f0f\u5316\uff0c\u6211\u4eec\u76f4\u89c2\u5730\u7406\u89e3\u4e00\u4e0b\uff0c\u5c31\u662f\u6709\u82e5\u5e72\u76f4\u7ebf\uff0c\u6c42\u51fa\u5728\u4e0a\u9762\u9732\u51fa\u6765\u7684\u6240\u6709\u76f4\u7ebf\u7684\u7f16\u53f7\u3002\u6211\u4eec\u5728 Geogebra \u4e0a\u968f\u4fbf\u753b\u4e00\u753b\u56fe\uff0c\u770b\u770b\u6709\u4ec0\u4e48\u89c4\u5f8b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/1xdi06zt.png)\n\n\u84dd\u8272\u7684\u76f4\u7ebf\u90fd\u662f\u8981\u6c42\u7684\u76f4\u7ebf\uff0c\u76f4\u7ebf\u7684\u6807\u53f7\u5728\u56fe\u4e0a\u76f4\u7ebf\u6700\u5de6\u4fa7\u6709\u6807\u6ce8\uff0c\u76f4\u7ebf $f,g,h$ \u90fd\u9732\u4e86\u51fa\u6765\uff0c\u800c $i,j$ \u6ca1\u6709\uff08\u56fe\u7247\u5982\u679c\u770b\u4e0d\u6e05\u695a\u8bf7\u53f3\u952e\u5728\u65b0\u6807\u7b7e\u9875\u4e2d\u6253\u5f00\u56fe\u7247\uff09\u3002\n\n\u5bb9\u6613\u53d1\u73b0\uff0c\u5bf9\u4e8e\u5e73\u884c\u7684\u4e24\u6761\u76f4\u7ebf\uff0c$b$ \u5c0f\u8005\u4f1a\u88ab $b$ \u5927\u8005\u5b8c\u5168\u906e\u4f4f\uff0c\u5982 $g,i$ \u8fd9\u4e00\u5bf9\u76f4\u7ebf\uff0c\u4e24\u8005\u5e73\u884c\uff0c\u800c\u76f4\u7ebf $g$ \u5b8c\u5168\u906e\u4f4f\u4e86 $i$\uff1b\u800c\u5bf9\u4e8e\u4e0d\u5e73\u884c\u7684\u76f4\u7ebf\uff0c\u6211\u4eec\u53ef\u4ee5\u5206\u6790\u4e00\u4e0b\u76f4\u7ebf $f,g,h$\u3001$f,h,i$\u3001$f,h,j$ \u8fd9\u4e09\u7ec4\u76f4\u7ebf\u3002\u6211\u4eec\u4f1a\u53d1\u73b0\u56e0\u4e3a $f,h$ \u7684\u4ea4\u70b9\u4f4d\u4e8e $g$ \u4e0b\u65b9\uff0c\u5e76\u4e14 $g$ \u7684\u659c\u7387\u4ecb\u4e8e $f,h$ \u4e4b\u95f4\uff0c\u6240\u4ee5 $g$ \u5c31\u4e0d\u4f1a\u88ab $f,h$ \u5b8c\u5168\u906e\u4f4f\uff0c\u800c $f,h$ \u7684\u4ea4\u70b9\u4f4d\u4e8e $i$ \u4e0a\uff0c\u4ea4\u70b9\u4f4d\u4e8e $j$ \u4e0a\u65b9\uff0c\u5e76\u4e14 $i,j$ \u7684\u659c\u7387\u90fd\u4ecb\u4e8e $f,h$ \u4e4b\u95f4\uff0c\u56e0\u800c $i,j$ \u90fd\u88ab $f,h$ \u5b8c\u5168\u906e\u4f4f\u3002\n\n\u5206\u6790\u5230\u8fd9\u91cc\uff0c\u5982\u679c\u5728\u8003\u573a\u4e0a\u5c31\u53ef\u4ee5\u76f4\u63a5\u731c\u7ed3\u8bba\u4e86\uff0c\u4f46\u662f\u6211\u4eec\u5e73\u65f6\u505a\u9898\u8fd8\u662f\u8bc1\u660e\u4e00\u4e0b\u6bd4\u8f83\u597d\u3002\u5982\u679c\u4e00\u6761\u76f4\u7ebf\u6ca1\u88ab\u53e6\u5916\u4e24\u4e2a\u76f4\u7ebf\u906e\u4f4f\u7684\u8bdd\uff0c\u53ea\u8981\u5b58\u5728\u4e00\u4e2a\u70b9\u540c\u65f6\u5728\u8fd9\u4e24\u4e2a\u76f4\u7ebf\u4e0a\u65b9\u5c31\u884c\u4e86\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u9ad8\u4e2d\u751f\u5c3d\u53ef\u80fd\u4e25\u8c28\u7684\u8bc1\u660e\u3002\n\n\u5df2\u77e5\uff1a\u6709\u4e09\u6761\u76f4\u7ebf $l_1:y=k_1x+b_1,l_2:y=k_2x+b_2,l_3:y=k_3x+b_3,k_1<k_2<k_3$\uff0c\u8bb0$Q(x_Q,y_Q)=l_1\\cap l_3$\u3002\n\n\u6c42\u8bc1\uff1a$\\exist P(x_P,y_P)\\in l_2,k_1x_P+b_1<y_P\\land k_3x_P+b_3<y_P$ \u7684\u5145\u5206\u5fc5\u8981\u6761\u4ef6\u662f $\\frac{b_3-b_1}{k_3-k_1}<\\frac{b_2-b_1}{k_2-k_1}\\land \\frac{b_3-b_1}{k_3-k_1}>\\frac{b_2-b_3}{k_2-k_3}$\u3002\n\n\u8bc1\u660e\uff1a\u8bb0 $F(x)=(k_2-k_1)x+(b_2-b_1)(x\\in(-\\infty,x_Q])$\uff0c\u56e0\u4e3a $k_2>k_1$ \u6240\u4ee5 $F(x)_{\\max}=F(x_Q)$\uff0c\u5373 $x_P=x_Q$ \u65f6\uff0c$y_P-(k_1x_P+b_1)$ \u6700\u5927\uff1b\u540c\u7406 $x_P=x_Q$ \u65f6\uff0c$y_P-(k_3x_P+b_3)$ \u6700\u5927\u3002\u82e5 $x_P=x_Q$ \u65f6 $y_P-y_Q>0$\uff0c\u5219 $\\exist P_0(x_Q,k_2x_Q+b_2),k_2x_Q+b_2>y_Q$ \uff0c\u6240\u4ee5 $\\exist P(x_P,y_P)\\in l_2,k_1x_P+b_1<y_P\\land k_3x_P+b_3<y_P$ \u7684\u5145\u5206\u6761\u4ef6\u662f $x_P=x_Q$ \u65f6 $y_P-y_Q>0$\u3002\n\n\u82e5\u5b58\u5728\u5f02\u4e8e $P_0(x_Q,k_2x_Q+b_2)$ \u7684\u4e00\u70b9 $P(x_P,k_2x_P+b_2)$ \u5728 $l_1,l_3$ \u7684\u4e0a\u65b9\uff0c\u5219 $(k_2y_P+b_2)-(k_1y_P+b_1)>0\\land(k_2y_P+b_2)-(k_3y_P+b_3)>0$\uff0c\u6240\u4ee5 $k_2x_Q+b_2-y_Q>0$\uff0c\u6240\u4ee5 $\\exist P(x_P,y_P)\\in l_2,k_1x_P+b_1<y_P\\land k_3x_P+b_3<y_P$ \u7684\u5fc5\u8981\u6761\u4ef6\u662f $x_P=x_Q$ \u65f6 $y_P-y_Q>0$\u3002\n\n\u56e0\u6b64\u8bc1\u660e\u539f\u547d\u9898\u7b49\u4ef7\u4e8e\u8bc1\u660e $x_P=x_Q$ \u65f6 $y_P-y_Q>0$ \u7684\u5145\u5206\u5fc5\u8981\u6761\u4ef6\u662f $\\frac{b_3-b_1}{k_3-k_1}<\\frac{b_2-b_1}{k_2-k_1}\\land \\frac{b_3-b_1}{k_3-k_1}>\\frac{b_2-b_3}{k_2-k_3}$\u3002\u4e0b\u8bc1\u6b64\u547d\u9898\uff1a$k_1x_Q+b_1=k_3x_Q+b_3\\Leftrightarrow x_Q=\\frac{b_3-b_1}{k_3-k_1}$\uff0c$\\frac{b_3-b_1}{k_3-k_1}<\\frac{b_2-b_1}{k_2-k_1}\\Leftrightarrow k_1\\frac{b_3-b_1}{k_3-k_1}+b_1< k_2\\frac{b_3-b_1}{k_3-k_1}+b_2\\Leftrightarrow k_1x_Q+b_1< k_2x_Q+b_2$ \uff1b\u540c\u7406 $\\frac{b_3-b_1}{k_3-k_1}>\\frac{b_2-b_1}{k_2-k_1}\\Leftrightarrow k_3x_Q+b_3> k_2x_Q+b_2$\u3002\u547d\u9898\u8bc1\u6bd5\u3002\n\n\u7531\u6b64\uff0c\u6211\u4eec\u786e\u5b9a\u4e86\u4e09\u6761\u76f4\u7ebf $l_1:y=k_1x+b_1,l_2:y=k_2x+b_2,l_3:y=k_3x+b_3,k_1<k_2<k_3$ \u5747\u53ef\u4ee5\u9732\u51fa\u7684\u5145\u5206\u5fc5\u8981\u6761\u4ef6\u662f $\\frac{b_3-b_1}{k_3-k_1}<\\frac{b_2-b_1}{k_2-k_1}\\land \\frac{b_3-b_1}{k_3-k_1}>\\frac{b_2-b_3}{k_2-k_3}$\u3002\n\n\u6211\u4eec\u7b80\u8bb0\u8fd9\u4e09\u6761\u76f4\u7ebf\u4e3a $(k_1,b_1),(k_2,b_2),(k_3,b_3)$\uff0c\u5219\u8fd9\u4e09\u4e2a\u6709\u5e8f\u6570\u5bf9\u5bf9\u5e94\u7684\u70b9\u7ec4\u6210\u4e86\u4e00\u4e2a\u4e0a\u51f8\u5305\uff0c\u672c\u9898\u8f6c\u5316\u4e3a\u6c42\u4e0a\u51f8\u5305\u7684\u95ee\u9898\uff0c\u8dd1\u4e00\u6b21 Andrew \u7b97\u6cd5\u5373\u53ef\u3002\n\n\u53e6\u9644\uff1a[\u63d0\u4ea4\u8bb0\u5f55](https://www.luogu.com.cn/record/74964677)\uff0c\u60f3\u8981\u5b8c\u6574\u4ee3\u7801\u53ef\u4ee5\u627e\u6211\u3002",
        "postTime": 1651503433,
        "uid": 496840,
        "name": "SAMSHAWCRAFT",
        "ccfLevel": 0,
        "title": "[HNOI2008]\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf - \u9898\u89e3"
    },
    {
        "content": "\u524d\u7f6e\u57fa\u7840:\u4e00\u6b21\u51fd\u6570\u3002\u5411(\u77e2)\u91cf\u3002 \n\n\u53d1\u73b0,\u80fd\u88ab\u770b\u5230\u7684\u51fd\u6570\u662f $y=max\\{a[i]x+b[i]\\}$\u3002\u8fd9\u4e00\u5b9a\u662f\u5355\u5cf0\u5f00\u53e3\u5411\u4e0a\u7684\u51fd\u6570\u3002 \n\n\u6a21\u4eff\u6c42\u51f8\u5305\u7684\u601d\u8def\u3002\u9996\u5148\u5c06\u6309\u7167\u659c\u7387\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u3002\n\n\u6709\u4e00\u4e2a\u6027\u8d28:\u659c\u7387\u5c0f\u7684\u88ab\u6321\u4f4f,\u90a3\u4e48\u659c\u7387\u5927\u7684\u66f4\u4f1a\u88ab\u6321\u4f4f\u3002\n\n\u8bc1\u660e:\u5efa\u8bae\u81ea\u5df1\u753b\u51e0\u6761\u76f4\u7ebf,\u53ef\u53c2\u7167\u4e0b\u56fe,\u53f3\u8fb9 $3$ \u6761\u76f4\u7ebf\u4f1a\u88ab\u6321\u4f4f\u3002\u76ee\u524d\u8fd8\u672a\u88ab\u6321\u4f4f\u7684\u90e8\u5206,\u4e00\u5b9a\u6784\u6210\u4e00\u4e2a\u5355\u5cf0\u4e14\u5f00\u53e3\u5411\u4e0a\u7684\u5206\u6bb5\u51fd\u6570,\u800c\u6321\u4f4f\u4e00\u5b9a\u662f\u6321\u4f4f\u659c\u7387\u6700\u5927\u7684\u4e00\u6bb5\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/w94pvvz7.png)\n\n\u7136\u540e\u4f9d\u6b21\u5165\u6808\u3002\u5982\u679c\u6808\u9876\u76f4\u7ebf\u88ab\u5f53\u524d\u76f4\u7ebf\u6321\u4f4f,\u5219\u51fa\u6808\u3002\u7136\u540e\u4e00\u76f4\u5230\u4e0d\u88ab\u6321\u4f4f,\u7136\u540e\u5c06\u5f53\u524d\u76f4\u7ebf\u5165\u6808\u3002\u4e3a\u65b9\u4fbf,\u6808\u5185\u6240\u6709\u5143\u7d20\u4ec5\u8bb0\u5f55\u7f16\u53f7\u3002\n\n\u5224\u65ad\u4e00\u4e2a\u76f4\u7ebf\u4f1a\u4e0d\u4f1a\u88ab\u6321\u4f4f:\u5224\u65ad\u4e0e\u524d\u4e00\u6761\u76f4\u7ebf\u7684\u4ea4\u70b9\u662f\u5426\u88ab\u6321\u4f4f\u5373\u53ef\u3002\u56e0\u4e3a  $x$ \u8f83\u5927\u7684\u65f6\u5019\u659c\u7387\u5927\u7684\u76f4\u7ebf\u4f1a\u66f4\u5360\u4f18\u52bf,\u90a3\u4e48\u8fd9\u6761\u76f4\u7ebf\u4f1a\u88ab\u6321\u4f4f\u3002\u800c $x$ \u8f83\u5c0f\u65f6\u659c\u7387\u5c0f\u7684\u4f1a\u66f4\u5360\u4f18\u52bf\u3002\n\n\u5982\u4e0b\u56fe,\u7eff\u8272\u7684\u76f4\u7ebf\u4e0e\u7ea2\u8272\u76f4\u7ebf\u7684\u4ea4\u70b9\u5728\u5de6\u8fb9\u3002\u5f53 $x$ \u6bd4\u4ea4\u70b9\u7684x\u8f74\u5927\u7684\u65f6\u5019,\u7eff\u7ebf\u4f1a\u88ab\u7ea2\u7ebf\u6321\u4f4f,\u800c $x$ \u6bd4\u4ea4\u70b9x\u8f74\u5c0f\u7684\u65f6\u5019,\u53c8\u4f1a\u88ab\u9ed1\u7ebf\u6321\u4f4f\u3002\u6240\u4ee5\u6574\u6761\u76f4\u7ebf\u90fd\u4f1a\u88ab\u6321\u4f4f\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/h1an0z0z.png)\n\n\u6c42\u4ea4\u70b9:\u6709\u4e24\u6761\u76f4\u7ebf\u3002$y_{0}=a_{0}x+b_{0},y_{2}=a_{1}x+b_{1}$\u3002\u76f8\u4ea4\u610f\u5473\u7740$x,y$\u90fd\u76f8\u540c\u3002\u5219\u53ef\u5217\u51fa\u65b9\u7a0b:$a_{0}x+b_{0}=a_{1}x+b_{1}$\u3002\u6574\u7406\u5f97$(a_{0}-a_{1})x=b_{1}-b_{0}$\u3002\u5f53 $a_0!=a_1$  \u65f6,\u76f4\u63a5\u5f97 $x=\\frac{b_{1}-b_{0}}{a_{0}-a_{1}}$\u3002\n\n\u5f53 $a_{0}=a_{1}$ \u65f6,\u7279\u5224\u5373\u53ef\u3002$a_{0}=a_{1}$\u610f\u5473\u7740\u4e24\u76f4\u7ebf\u5e73\u884c\u3002\u90a3\u4e48 $b$ \u5c0f\u7684\u76f4\u7ebf\u5c31\u4f1a\u88ab\u6321\u4f4f\u3002\u9732\u51fa\u6765\u7684\u53ea\u6709$b$\u5927\u7684\u3002\n\n\u5982\u4f55\u5224\u4e00\u4e2a\u70b9\u662f\u5426\u5728\u4e00\u6761\u76f4\u7ebf\u7684\u5de6\u8fb9\u3002\u53d6\u4e24\u4e2a\u70b9,\u4e00\u4e2a\u70b9\u7684 $x$ \u5c0f\u4e8e\u6b64\u70b9\u7684 x\u8f74,\u4e00\u4e2a\u70b9\u5927\u4e8e\u6b64\u70b9\u7684 x\u8f74\u3002\u6ce8\u610f\u522b\u53d6\u592a\u5c0f\u592a\u5927,\u5426\u5219\u4f1a\u7cbe\u5ea6\u8bef\u5dee\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qwkt6gaq.png)\n```cpp\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nstruct zuobiao{\n\tdouble x,y;\n\tfriend zuobiao operator +(const zuobiao &s1,const zuobiao &s2){\n\t\tzuobiao t;\n\t\tt.x=s1.x+s2.x;\n\t\tt.y=s1.y+s2.y;\n\t\treturn t;\n\t}\n\tfriend zuobiao operator -(const zuobiao &s1,const zuobiao &s2){\n\t\tzuobiao t;\n\t\tt.x=s1.x-s2.x;\n\t\tt.y=s1.y-s2.y;\n\t\treturn t;\n\t}\n\tfriend double operator *(const zuobiao &s1,const zuobiao &s2){\n\t\treturn s1.x*s2.y-s1.y*s2.x;\n\t}\n};\nstruct zhixian{\n\tint id,a,b;\n}_[1000005];\nstruct rule{\n\tbool operator()(const zhixian &s1,const zhixian &s2){\n\t\treturn s1.a<s2.a||s1.a==s2.a&&s1.b>s2.b; //\u6ce8\u610f\u659c\u7387\u76f8\u540c\u6309\u4e0ey\u8f74\u7684\u4ea4\u70b9\u6392\u5e8f\u3002\n\t}\n};\n#define eps 0.0000003\nint s[1000005],top=0;\nbool kkksc03[1000005];\nint main(){\n\tint n,i;\n\tcin>>n;\n\tfor(i=0;i<n;i++){\n\t\tcin>>_[i].a>>_[i].b;\n\t\t_[i].id=i;\n\t}\n\tsort(_,_+n,rule());\n\tfor(i=0;i<n;i++){\n\t\tif(i&&_[i].a==_[i-1].a){\n\t\t\tcontinue;\n\t\t}\n\t\twhile(top>=2){\n\t\t\tzuobiao jiao;\n\t\t\tjiao.x=(_[i].b-_[s[top-1]].b)*1.0/(_[s[top-1]].a-_[i].a);\n\t\t\tjiao.y=_[s[top-1]].a*jiao.x+_[s[top-1]].b;\n\t\t\tzuobiao mininf,maxinf;\n\t\t\tmininf.x=-999999.9; //\u6ce8\u610f\u4e0d\u80fd\u53d6\u592a\u5927\u3002\u5426\u5219\u9020\u6210\u8bef\u5dee\u3002\n\t\t\tmininf.y=_[s[top-2]].a*mininf.x+_[s[top-2]].b;\n\t\t\tmaxinf.x=999999.9;\n\t\t\tmaxinf.y=_[s[top-2]].a*maxinf.x+_[s[top-2]].b;\n\t\t\tif((mininf-maxinf)*(mininf-jiao)<eps){ //\u5c0f\u4e8e\u6216\u7b49\u4e8e\u3002\u56e0\u4e3a\u89c2\u5bdf\u6837\u4f8b\u53d1\u73b0\u53ea\u80fd\u770b\u5230\u4e00\u4e2a\u70b9\u4e5f\u7b97\u88ab\u6321\u4f4f\u3002\n\t\t\t\ttop--;\n\t\t\t}else{\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\ts[top++]=i;\n\t}\n\tfor(i=0;i<top;i++){\n\t\tkkksc03[_[s[i]].id]=1; //\u8fd8\u539f\u539f\u6765\u7684\u7f16\u53f7\u3002\n\t}\n\tfor(i=0;i<n;i++){\n\t\tif(kkksc03[i]){\n\t\t\tcout<<i+1<<\" \";\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1617527585,
        "uid": 87799,
        "name": "xh39",
        "ccfLevel": 0,
        "title": "3194\u9898\u89e3"
    },
    {
        "content": "\u6211\u4e0d\u77e5\u9053\u51f8\u5305\u662f\u4ec0\u4e48\u73a9\u610f\u513f\uff0c\u6211\u4e5f\u6ca1\u6709\u7528\u6808\uff0c\u53cd\u6b63\u8fd9\u9898\u6211\u5199\u7684\u597d\u50cf\u662f\u4e8c\u5206...\n\n\u5177\u4f53\u6765\u8bf4\uff0c\u6309\u7b2c\u4e00\u5173\u952e\u5b57\u659c\u7387\u5347\u5e8f\uff0c\u7b2c\u4e8c\u5173\u952e\u5b57\u622a\u8ddd\u964d\u5e8f\u6392\u5e8f\u3002\n\n\u7b2c\u4e00\u6761\u76f4\u7ebf(a)\u548c\u6700\u540e\u4e00\u6761\u76f4\u7ebf(b)\u663e\u7136\u662f\u53ef\u89c1\u7684\u561b\u3002\n\n\u7136\u540e\u7b97\u51fa\u5b83\u4eec\u7684\u4ea4\u70b9(x1,y1)\uff0c\u518d\u4ece(a,b)\u8303\u56f4\u5185 -- \u56e0\u4e3a\u659c\u7387\u663e\u7136\u5728\u8fd9\u4e2a\u8303\u56f4\u5185 -- \u67e5\u627e\u5728x1\u65f6y\u6700\u5927\u7684\u4e00\u6761\u76f4\u7ebf(c)\uff0c\u8fd9\u4e2a\u4e5f\u53ef\u89c1\u3002\n\n\u5206\u522b\u628aa\u548cc\uff0cc\u548cb\u62d6\u51fa\u6765\u91cd\u590d\u5982\u4e0a\u64cd\u4f5c\uff0c\u7136\u540e\u5c31\u6ca1\u6709\u7136\u540e\u4e86\u3002\n\n\n[cpp]\n/\\* P3194\n\n\\* Au: SJoshua\n\n\\*/\n\n\n\n\n\n```cpp\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\nstruct info {\n    int id, a, b;\n    bool operator < (const info &p) const {\n        return a == p.a ? b > p.b : a < p.a;\n    }\n} line[50001];\nint n;\nbool enable[50001];\nvoid search(int x, int y) {\n    if (y - x < 2) {\n        return;\n    }\n    double px = (double)(line[y].b - line[x].b) / (line[x].a - line[y].a);\n    double py = line[x].a * px + line[x].b;\n    int top = x;\n    for (int i = x+1; i < y; i++) {\n        double ty = line[i].a * px + line[i].b;\n        if (py < ty) {\n            py = ty;\n            top = i;\n        }\n    }\n    if (top != x) {\n        enable[line[top].id] = true;\n        search(x, top);\n        search(top, y);\n    }\n}\nint main(void) {\n    scanf(\"%d\", &n);\n    for (int i = 1; i <= n; i++) {\n        line[i].id = i;\n        scanf(\"%d %d\", &line[i].a, &line[i].b);\n    }\n    sort(line+1, line+n+1);    \n    enable[line[1].id] = enable[line[n].id] = true;\n    search(1, n);\n    for (int i = 1; i <= n; i++) {\n        if (enable[i]) {\n            printf(\"%d \", i);\n        }\n    }\n    return 0;\n}\n```\n[/cpp]\n\n",
        "postTime": 1482925584,
        "uid": 790,
        "name": "\u7ea6\u4fee\u4e9a_RK",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3194 \u3010[HNOI2008]\u6c34\u5e73\u53ef\u89c1\u76f4\u7ebf\u3011"
    }
]