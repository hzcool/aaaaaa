[
    {
        "content": "\u770b\u5230$\\sum^r_{i=l}f(i)$\uff0c\u6211\u4eec\u5e94\u8be5\u5bb9\u6613\u60f3\u5230\u5c06\u5b83\u8f6c\u5316\u6210$\\sum^r_{i=1}f(i)-\\sum^{l-1}_{i=1}f(i)$\uff08\u5bb9\u65a5\u57fa\u672c\u64cd\u4f5c\uff09\u3002\u4f46\u662f\u8fd9\u4e2a\u4e1c\u897f\u600e\u4e48\u6c42\u5462\uff1f\n\n\u4e0b\u9762\uff0c\u6211\u4eec\u5f15\u51fa\u4e24\u4e2a\u5b9a\u7406\u548c\u4e00\u4e2a\u7b97\u6cd5\u3002\n\n## 1.\u56e0\u6570\u4e2a\u6570\u5b9a\u7406\n\n\u8bbe$n=p_1^{a_1}*p_2^{a_2}*...*p_m^{a_m}$\uff0c\u5176\u4e2d$p_1,p_2,...,p_m$\u5747\u4e3a\u4e92\u4e0d\u76f8\u7b49\u7684\u8d28\u6570\uff08$n$\u7684\u8d28\u56e0\u6570\uff09\uff0c\u5219$n$\u7684\u56e0\u6570\u4e2a\u6570\u4e3a$\\prod_{i=1}^m{(a_i+1)}$\u3002\n\n**\u8bc1\u660e\uff1a**\n\n\u8bbe$n$\u7684\u4e00\u4e2a\u7ea6\u6570\u4e3a$k$\uff0c\u5219$k$\u5fc5\u80fd\u8868\u793a\u4e3a$p_1^{b_1}*p_2^{b_2}*...*p_m^{b_m}$\uff0c\u5176\u4e2d$\\left\\{{b_1,b_2,...,b_m} \\right\\}\\in N$\u3002\u5219$b_i$\u7684\u53d6\u503c\u603b\u5171\u6709$a_i+1$\u79cd\u3002\u6240\u4ee5k\u7684\u53d6\u503c\u603b\u5171\u6709$$\\prod_{i=1}^m{(a_i+1)}$$\n$$\\mathcal{Q.E.D}$$\n\n## 2.\uff08\u6211\u4e5f\u4e0d\u77e5\u9053\u5b83\u53eb\u4ec0\u4e48\u540d\u5b57\uff09\n\n\u8bbe$f(x)$\u8868\u793a$x$\u7684\u7ea6\u6570\u4e2a\u6570\uff0c\u6c42$\\sum^n_{i=1}f(x)$\u3002\n\n**\u89e3\uff1a**\n\n\u5bf9\u4e8e$f(x)$\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u9002\u5f53\u7684\u8f6c\u6362\u5f97\u5230\u4e00\u4e2a\u4e0e\u4e4b\u76f8\u7b49\u7684\u5f0f\u5b50\uff1a$$\\sum^n_{i=1}[i|x]$$\n\n\u518d\u5bf9\u5176\u8fdb\u884c\u8f6c\u6362\uff1a\n\n$$\\sum^n_{i=1}\\sum^{\\lfloor\\frac{n}{i}\\rfloor}_{j=1}[i*j==x]$$\n\n\u770b\u8d77\u6765\u662f\u66f4\u52a0\u590d\u6742\u4e86\u3002\u6211\u4eec\u518d\u5c06\u5b83\u5e26\u5230\u539f\u5f0f\u4e2d\uff1a\n\n$$\\sum^n_{i=1}f(x)=\\sum^n_{x=1}\\sum^n_{i=1}\\sum^{\\lfloor\\frac{n}{i}\\rfloor}_{j=1}[i*j==x]=\\sum^n_{i=1}\\sum^{\\lfloor\\frac{n}{i}\\rfloor}_{j=1}=\\sum^n_{i=1}\\lfloor\\frac{n}{i}\\rfloor$$\n\n\u5b8c\u6210\u4e86\u8f6c\u6362\u3002\n\n## 3.\u6574\u9664\u5206\u5757\n\n\u5b83\u7684\u4e3b\u8981\u529f\u80fd\uff0c\u5c31\u662f\u5c06\u4e00\u4e2a\u5f62\u5982$\\sum^n_{i=1}\\lfloor\\frac{n}{i}\\rfloor$\uff08\u5f53\u7136\u4e0d\u662f\u53ea\u80fd\u5728\u8fd9\u4e2a\u5f0f\u5b50\u4e0a\u5e94\u7528\uff0c\u4f46\u5b83\u7684\u786e\u662f\u6700\u7ecf\u5e38\u5e94\u7528\u5230\u6574\u9664\u5206\u5757\u7684\u5f0f\u5b50\uff0c\u6ca1\u6709\u4e4b\u4e00\uff09\u7684\u5f0f\u5b50\u7684\u6c42\u503c\u65f6\u95f4\u590d\u6742\u5ea6\u4ece$O(n)$\u964d\u5230$O(\\sqrt n)$\u3002\n\n\u6574\u9664\u5206\u5757\u80fd\u5b9e\u73b0\u57fa\u4e8e\u8fd9\u6837\u4e00\u4e2a\u4e8b\u5b9e\uff1a$\\lfloor\\frac{n}{i}\\rfloor$\u7684\u53d6\u503c\u603b\u5171\u4e0d\u4f1a\u8d85\u8fc7$2\\sqrt n$\u79cd\u3002\u4e3a\u4ec0\u4e48\u5462\uff0c\u6211\u4eec\u6765**\u8bc1\u660e**\u4e00\u4e0b\uff1a\n\n**\u5f53$i<=\\sqrt n$\u65f6\uff1a**\n\n\u6211\u4eec\u9700\u8981\u8bc1\u660e\uff1a$\\lfloor\\frac{n}{i}\\rfloor\\not=\\lfloor\\frac{n}{i+1}\\rfloor$\n\n\u6211\u4eec\u8bbe$n\\div i=k...s$\uff0c\u90a3\u4e48\u5c31\u6709$n=i*k+s$\u3002\u6839\u636e\u9664\u6cd5\u7684\u6027\u8d28\uff0c$s<i$\uff0c\u800c\u53c8\u56e0\u4e3a$i<=\\sqrt n$\uff0c\u6240\u4ee5$k>=\\sqrt n>=i$\uff0c\u6240\u4ee5$s<k$\u3002\n\n\u5982\u679c$\\lfloor\\frac{n}{i}\\rfloor=\\lfloor\\frac{n}{i+1}\\rfloor$\uff0c\u90a3\u4e48$n$\u5c31\u53ef\u4ee5\u8868\u793a\u4e3a$(i+1)*k+p$\uff08$p>=0$\uff09\uff0c\u5373$n=i*k+s+(k+p-s)=n+(k+p-s)$\u3002\u800c\u6211\u4eec\u53c8\u77e5\u9053$k-s>0,p>=0$\u3002\u6240\u4ee5$k+p-s>0$\uff0c\u5373\u7b49\u5f0f\u4e24\u8fb9\u77db\u76fe\u3002\u6240\u4ee5\u7531\u53cd\u8bc1\u6cd5\u6211\u4eec\u5c31\u5f97\u5230\u4e86$\\lfloor\\frac{n}{i}\\rfloor\\not=\\lfloor\\frac{n}{i+1}\\rfloor$\u3002\u56e0\u6b64\uff0c\u5728\u6b64\u60c5\u51b5\u4e0b$\\lfloor\\frac{n}{i}\\rfloor$\u7684\u53d6\u503c\u4e2a\u6570\u5c31\u7b49\u4e8e$i$\u7684\u53d6\u503c\u6570\uff0c\u5373$\\sqrt n$\u79cd\u3002\n\n**\u5f53$i>\\sqrt n$\u65f6\uff1a**\n\n\u8fd9\u4e2a\u4e0d\u7528\u600e\u4e48\u8bf4\u4e86\u5427\u2026\u2026$\\lfloor\\frac{n}{i}\\rfloor_{max}$\u90fd\u5df2\u7ecf\u662f\u5c0f\u4e8e$\\sqrt n$\u7684\u4e86\uff0c\u603b\u53d6\u503c\u6570\u5f53\u7136\u4e0d\u8d85\u8fc7$\\sqrt n$\u554a\u3002\n\n\u6240\u4ee5\uff0c\u4e24\u7c7b\u52a0\u8d77\u6765\u5c31\u662f$2\\sqrt n$\u79cd\u4e86\u3002$$\\mathcal{Q.E.D}$$\n\n\u65e2\u7136\u8bc1\u73a9\u4e86\u8fd9\u4e2a\u7ed3\u8bba\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8003\u8651\u8fd9\u6837\u4e00\u4e2a\u601d\u8def\uff1a\u56e0\u4e3a$\\lfloor\\frac{n}{i}\\rfloor$\u7684\u53d6\u503c\u6570\u4e3a$\\sqrt n$\uff08\u90a3\u4e2a$2$\u662f\u5e38\u6570\uff0c\u53ef\u4ee5\u5ffd\u7565\uff09\uff0c\u90a3\u4e48\u53ea\u8981\u6c42\u51fa\u5b83\u53d6\u6bcf\u4e00\u79cd\u503c\u65f6$i$\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u662f\u591a\u5c11\uff0c\u6700\u7ec8\u6c42\u548c\u7684\u65f6\u5019\u7528\u524d\u7f00\u548c\u9884\u5904\u7406\u7b97\u4e00\u4e0b\u6bcf\u4e00\u6bb5\u7684\u503c\u662f\u591a\u5c11\uff0c\u52a0\u8d77\u6765\u5c31\u53ef\u4ee5\u4e86\u3002\n\n**\u90a3\u4e48\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u53c8\u9700\u8981\u8bc1\u660e\u4e00\u4e2a\u7ed3\u8bba\u4e86\uff1a**\n\n\u5982\u679c\u5df2\u77e5\u6b63\u6574\u6570$p,n$\uff08$n>=p$\uff09\uff0c\u5219\u4f7f$\\lfloor\\frac{n}{i}\\rfloor=\\lfloor\\frac{n}{p}\\rfloor$\u7684\u6700\u5927\u6574\u6570$i$\u7684\u503c\u5c31\u662f$i_{max}=\\lfloor\\frac{n}{\\frac{n}{p}}\\rfloor$\u3002\n\n**\u8bc1\u660e\uff1a**\n\n\u6211\u4eec\u540c\u6837\u5206\u7c7b\u8ba8\u8bba\u4e00\u4e0b\u3002\n\n**\u5f53$p<=\\sqrt n$\u65f6\uff1a**\n\n\u6211\u4eec\u8bbe$n\\div p=k...s$\uff0c\u90a3\u4e48\u5c31\u6709$n=p*k+s$\u3002\u6839\u636e\u9664\u6cd5\u7684\u6027\u8d28\uff0c$s<p$\uff0c\u800c\u53c8\u56e0\u4e3a$p<=\\sqrt n$\uff0c\u6240\u4ee5$k>=\\sqrt n>=p$\uff0c\u6240\u4ee5$s<k$\u3002\u800c$\\lfloor\\frac{n}{p}\\rfloor$\u7684\u503c\u5c31\u662f$k$\u3002\n\n\u90a3\u4e48\uff0c\u5c31\u4f1a\u6709$\\lfloor\\frac{n}{\\frac{n}{p}}\\rfloor=\\lfloor\\frac{n}{k}\\rfloor$\u3002\u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u8ba9\u6211\u4eec\u518d\u8bc1\u660e\u4e00\u4e2a\u7ed3\u8bba\uff1a$\\lfloor\\frac{n}{k}\\rfloor=p$\u3002\u6211\u4eec\u4ee4$n\\div k=(p+t)...w$\uff0c\u5219$n=p*k+t*k+w$\u3002\u53c8\u56e0\u4e3a$n=p*k+s$\u800c\uff0c\u6240\u4ee5$n=p*k+t*k+w=n+(t*k+w-s)$\uff0c\u6240\u4ee5$t*k+w-s=0$\u3002\u56e0\u4e3a$k>w$\u4e14$k>=\\sqrt n$\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\uff1a$w,s\\in[0,\\sqrt n)$\u3002\u6240\u4ee5\uff1a$(w-s)\\in(-\\sqrt n,\\sqrt n)$\u3002\u53c8\u56e0\u4e3a$k>=\\sqrt n$\uff0c\u6240\u4ee5$t$\u5fc5\u987b\u4e3a$0$\u3002\u6240\u4ee5$\\lfloor\\frac{n}{k}\\rfloor=p$\u5c31\u8bc1\u5b8c\u4e86\u3002\u800c\u53c8\u7531\u6211\u4eec\u4e0a\u9762\u8bc1\u7684\u7ed3\u8bba\uff1a$\\lfloor\\frac{n}{i}\\rfloor$\u7684\u53d6\u503c\u603b\u5171\u4e0d\u4f1a\u8d85\u8fc7$2\\sqrt n$\u79cd\u53ef\u4ee5\u77e5\u9053\u5f53$p<=\\sqrt n$\u7684\u65f6\u5019\uff0c\u6240\u6709$\\lfloor\\frac{n}{p}\\rfloor$\u7684\u503c\u90fd\u4e0d\u76f8\u540c\uff0c\u5373$p=i_{max}$\u3002\u6240\u4ee5$i_{max}=\\lfloor\\frac{n}{\\frac{n}{p}}\\rfloor$\uff0c\u5f97\u8bc1\u4e86\u3002\n\n**\u5f53$p>\\sqrt n$\u65f6\uff1a**\n\n\u6211\u4eec\u8bbe$n\\div p=k...s$\uff0c\u90a3\u4e48\u5c31\u6709$n=p*k+s$\u3002\u6839\u636e\u9664\u6cd5\u7684\u6027\u8d28\uff0c$s<p$\u3002\u800c$\\lfloor\\frac{n}{p}\\rfloor$\u7684\u503c\u5c31\u662f$k$\u3002\n\n\u90a3\u4e48\uff0c\u5c31\u4f1a\u6709$\\lfloor\\frac{n}{\\frac{n}{p}}\\rfloor=\\lfloor\\frac{n}{k}\\rfloor$\u3002\u800c\u6211\u4eec\u73b0\u5728\u8981\u8bc1\u660e\u7684\uff0c\u5c31\u662f$\\lfloor\\frac{n}{k}\\rfloor=i_{max}$\u3002\u770b\u4e0a\u53bb\u5f88\u96be\u8bc1\uff0c\u4f46\u662f\u6211\u4eec\u6ce8\u610f\u5230$i_{max}$\u5fc5\u987b\u7b26\u5408\u4e14\u53ea\u9700\u8981\u7b26\u5408\u7684\u4e24\u4e2a\u6761\u4ef6\uff1a$\\lfloor\\frac{n}{i_{max}}\\rfloor=\\lfloor\\frac{n}{p}\\rfloor=k,\\lfloor\\frac{n}{i_{max}+1}\\rfloor\\not=\\lfloor\\frac{n}{p}\\rfloor=k$\u3002\u90a3\u4e48\uff0c\u5982\u679c\u6211\u4eec\u9700\u8981\u8bc1\u660e$\\lfloor\\frac{n}{k}\\rfloor=i_{max}$\uff0c\u90a3\u4e48\u5c31\u53ea\u9700\u8981\u8bf4\u660e$\\lfloor\\frac{n}{\\lfloor\\frac{n}{k}\\rfloor}\\rfloor=\\lfloor\\frac{n}{p}\\rfloor=k\\space\\space and\\space\\space\\lfloor\\frac{n}{\\lfloor\\frac{n}{k}\\rfloor+1}\\rfloor\\not=\\lfloor\\frac{n}{p}\\rfloor=k$\u3002\u770b\u5230$\\lfloor\\frac{n}{\\lfloor\\frac{n}{k}\\rfloor}\\rfloor=k$\u4f60\u60f3\u5230\u4e86\u4ec0\u4e48\uff1f\n\n\u806a\u660e\u7684\u8bfb\u8005\u4e00\u5b9a\u5df2\u7ecf\u60f3\u5230\u4e86\uff0c\u56e0\u4e3a\u8fd9\u4e2a$k<\\sqrt n$\uff08\u8bb2\u4e86\u8fd9\u4e48\u591a\u8fd9\u4e2a\u4e0d\u53ef\u80fd\u4e0d\u4f1a\u81ea\u884c\u7406\u89e3\u5427\uff09\uff0c\u6240\u4ee5\u8fd9\u4e2a\u7ed3\u8bba\u5728\u4e0a\u9762\u8ba8\u8bba$p<=\\sqrt n$\u7684\u65f6\u5019\u5df2\u7ecf\u8bc1\u8fc7\u4e86\u3002\u6240\u4ee5\uff0c\u5f97\u8bc1\u5566\uff01\n\n$$\\mathcal{Q.E.D}$$\n\n\u7efc\u5408\u4e0a\u9762\u4e24\u4e2a\u7ed3\u8bba\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u5f97\u51fa\u6574\u9664\u5206\u5757\u7684\u601d\u8def\u4e86\uff1a\n\n1. \u4ee4$i=1$\n\n2. \u5bf9\u4e8e\u5f53\u524d\u7684$i$\u6c42\u5f97$i_{max}$\uff0c\u8bbe\u4e3a$j$\n\n3. \u901a\u8fc7\u524d\u7f00\u548c\u6216\u516c\u5f0f\uff08\u4f8b\u5982\u7b49\u5dee\u6570\u5217\u516c\u5f0f\uff09\u6c42\u5f97\u51fd\u6570\uff08$\\sum_{i=1}^nf(i)$\u4e2d\u7684$f(i)$\uff09\u7684\u81ea\u53d8\u91cf\u4ece$i$\u4e00\u76f4\u5230$j$\u7684\u51fd\u6570\u503c\u7684\u603b\u548c\uff0c\u5e76\u4e14\u52a0\u8fdb$sum$\n\n4. \u6211\u4eec\u5df2\u77e5$\\lfloor\\frac{n}{j}\\rfloor\\not=\\lfloor\\frac{n}{j+1}\\rfloor$\uff0c\u6240\u4ee5\u6211\u4eec\u8ba9$i=j+1$\u3002\u5982\u679c\u73b0\u5728\u7684$i$\u4ecd\u7136\u5c0f\u4e8e$n$\uff0c\u5219\u8df3\u8f6c\u7b2c$2$\u6b65\uff0c\u5426\u5219\u7ed3\u675f\n\n\u6700\u7ec8\u5f97\u5230\u7684$sum$\u5c31\u662f\u7b54\u6848\u4e86\u3002\n\n\u7efc\u5408\u4e0a\u9762\u7684\u4e09\u9879\u5185\u5bb9\uff0c\u601d\u8def\u5c31\u5f88\u660e\u663e\u4e86\uff0c\u76f8\u4fe1\u5404\u4f4d\u5982\u679c\u4ed4\u7ec6\u770b\u4e86\u7684\u8bdd\uff0c\u4e00\u5b9a\u5df2\u7ecf\u5b8c\u5168\u660e\u767d\u8fd9\u9053\u9898\u8be5\u600e\u4e48\u505a\u4e86\u3002\n\n\u4ee3\u7801\uff1a\n\n```\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<string>\n#include<cmath>\n#include<iostream>\nusing namespace std;\nint main()\n{\n\tlong long left,right;\n\tscanf(\"%lld%lld\",&left,&right);\n\tlong long sum1=0,sum2=0;\n\tfor(long long zuo=1,you;zuo<=right;zuo=you+1)\n\t{\n\t\tyou=right/(right/zuo);\n\t\tsum1=(sum1+(right/zuo)%998244353*((you-zuo+1)%998244353)%998244353)%998244353;\n\t}\n\tfor(long long zuo=1,you;zuo<=left-1;zuo=you+1)\n\t{\n\t\tyou=(left-1)/((left-1)/zuo);\n\t\tsum2=(sum2+((left-1)/zuo)%998244353*((you-zuo+1)%998244353)%998244353)%998244353;\n\t}\n\tprintf(\"%lld\\n\",((sum1-sum2)%998244353+998244353)%998244353);//\u719f\u7ec3\u8fd0\u7528\u53d6\u4f59\u64cd\u4f5c\u7684\u4e00\u4e9b\u6280\u5de7\n\treturn 0;\n}\n```",
        "postTime": 1528181261,
        "uid": 32275,
        "name": "KesdiaelKen",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3935 \u3010Calculating\u3011"
    },
    {
        "content": "#### \u7b97\u6cd5\u4e00\n\n\n\u6211\u4f1a\u63a8\u516c\u5f0f\uff01\n\n\n\u5c06$f$\u5206\u89e3\u8d28\u56e0\u6570\u5f97\u5230$f=p_1^{k_1}p_2^{k_2}..p_j^{a_j}$\uff0c\u5219\u9898\u76ee\u5b9e\u9645\u4e0a\u8981\u6c42\uff1a\n\n\n$$ans=\\sum_{f=l}^r\\prod_{i=1}^j p_i^{a_i+1}$$\n\n\n\u8bb0$f$\u56e0\u6570\u4e2a\u6570\u4e3a$d(f)$\uff0c\u5219\u7531\u6392\u5217\u7ec4\u5408\u53ef\u5f97\uff1a\n\n\n$$\\prod_{i=1}^j p_i^{a_i+1}=d(f)$$\n\n\n\u5219\u539f\u5f0f\u5316\u4e3a\uff1a\n\n\n$$ans=\\sum_{f=l}^rd(f)$$\n\n\n\u66b4\u529b\u7edf\u8ba1\u7b54\u6848\u3002\u65f6\u95f4\u590d\u6742\u5ea6$O(r^2)$\uff0c\u671f\u671b\u5f97\u5206$40$\u3002\n\n\n#### \u7b97\u6cd5\u4e8c\n\n\n\u6211\u4f1a\u62c6\u8be2\u95ee\uff01\n\n\n\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u6709\uff1a\n\n\n$$ans=\\sum_{i=1}^rd(i)-\\sum_{j=1}^{l-1}d(j)$$\n\n\n\u8003\u8651\u5982\u4f55\u6c42$\\sum_{i=1}^rd(i)$\uff0c\u5bf9\u4e8e$[1,r]$\u7684\u6574\u6570$k$\uff0c$k$\u4f5c\u4e3a\u56e0\u6570\u5728$[1,r]$\u4e2d\u51fa\u73b0\u4e86$\\left\\lfloor \\frac rk \\right\\rfloor$\u6b21\uff0c\u663e\u7136\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u4e3a$\\left\\lfloor \\frac rk \\right\\rfloor$\u3002\n\n\n\u5219\uff1a\n\n$$ans=\\sum_{i=1}^r\\left\\lfloor \\frac ri \\right\\rfloor-\\sum_{j=1}^{l-1}\\left\\lfloor \\frac {l-1}j \\right\\rfloor$$\n\n\n\u679a\u4e3e$k$\uff0c\u7edf\u8ba1\u7b54\u6848\u3002\u65f6\u95f4\u590d\u6742\u5ea6$O(2r)$\uff0c\u671f\u671b\u5f97\u5206$60$\u5230$70$\u4e4b\u95f4\u3002\n\n\n#### \u7b97\u6cd5\u4e09\n\n\n\u6211\u4f1a\u5206\u5757\uff01\n\n\n\u6ce8\u610f\u5230$\\left\\lfloor \\frac rk \\right\\rfloor$\u6700\u591a\u6709$2\\sqrt r$\u79cd\u53d6\u503c\uff0c\u6211\u4eec\u5bf9\u5176\u5206\u7c7b\u7edf\u8ba1\u7b54\u6848\u5373\u53ef\u3002\u505a\u6cd5\u7c7b\u4f3c\u6ca1\u6709\u83ab\u6bd4\u4e4c\u65af\u51fd\u6570\u7684\u83ab\u6bd4\u4e4c\u65af\u53cd\u6f14\u3002\n\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O(4\\sqrt r)$\uff0c\u53ef\u901a\u8fc7\u5168\u90e8\u6d4b\u8bd5\u70b9\u3002\n\n\n**PS:**\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u4f1a\u6709$100$\u4e2a\u6d4b\u8bd5\u70b9\u2026\u2026\u8fd9\u662f\u4e2a\u597d\u95ee\u9898\u3002\n",
        "postTime": 1509210608,
        "uid": 1422,
        "name": "Snakes",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3935 \u3010Calculating\u3011"
    },
    {
        "content": "\u6c34\u6c34\u6c34\uff5e\uff5e\n\n\u6211\u4eec\u77e5\u9053$f(x)$\u5b9e\u9645\u4e0a\u5728\u6c42x\u7684\u7ea6\u6570\u4e2a\u6570\uff0c\u4ee4$s(x)=\\sum_{i=1}^{x}f(i)$\u90a3\u4e48\n$$ans=s(r)-s(l-1)$$\n\u7136\u540e\u63a8s\n$$s(x)=\\sum_{i=1}^{x}\\sum_{d|i}1=\\sum_{d=1}^{n}\\lfloor\\frac{n}{d}\\rfloor$$\n\u7136\u540e\u4e0b\u53d6\u6574\u6839\u53f7\u6c42\uff0c\u7136\u540e\u5c31A\u4e86\n",
        "postTime": 1530021048,
        "uid": 18867,
        "name": "jpwang",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3935 \u3010Calculating\u3011"
    },
    {
        "content": "# Solution\n\u5982\u679c\u4f60\u505a\u8fc7\u4e00\u4e9b\u83ab\u6bd4\u4e4c\u65af\u53cd\u6f14\u7684\u9898,\u90a3\u4e48\u8fd9\u9053\u9898\u53ef\u4ee5\u8bf4\u5c31\u662f\u4e00\u4e2a[\u6574\u9664\u5206\u5757](https://www.cnblogs.com/real-l/p/9630810.html)\u7684\u6a21\u677f\n\n\u9996\u5148\u6211\u4eec\u9700\u8981\u77e5\u9053\u4e00\u4e2a\u5b9a\u7406:**\u7ea6\u6570\u4e2a\u6570\u5b9a\u7406**\n\u8bbe$f(x)$\u4e3a$x$\u7684\u7ea6\u6570\u4e2a\u6570\n$$n=\\prod_{i=1}^k{p_i^{a_i}}\\to f(n)=\\prod_{i=1}^m{(a_i+1)}$$\n\u4e0a\u8ff0\u5f0f\u5b50\u4e2d,$p_i$\u4e3a\u8d28\u6570\n\u8bc1\u660e:\n>\u7531\u7ea6\u6570\u5b9a\u4e49\u53ef\u77e5$p1^{a1}$\u7684\u7ea6\u6570\u6709:$p1^0, p1^1, p1^2......p1^a1$ \uff0c\u5171$(a1+1)$\u4e2a;\u540c\u7406$p2^{a2}$\u7684[\u7ea6\u6570](https://baike.baidu.com/item/%E7%BA%A6%E6%95%B0/8417882)\u6709$(a2+1)$\u4e2a......$pk^{ak}$\u7684\u7ea6\u6570\u6709$(ak+1)$\u4e2a\u3002\u6839\u636e\u4e58\u6cd5\u539f\u7406\u7b54\u6848\u5c31\u662f\u4e0a\u8ff0\u5f0f\u5b50\n\n\u8003\u8651\u4e00\u4e0b\u9898\u76ee\u6240\u6c42,\n$$Ans=\\sum_{i=l}^{r}f(i)$$\n\u8f6c\u6362\u4e00\u4e0b\u53d8\u6210\n$$Ans=\\sum_{i=1}^rf(i)-\\sum_{i=1}^{l-1}f(i)$$\n\u5bf9\u4e8e$f(n)$,\u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a\n$$f(n)=\\sum_{d|n}1$$\n\u4ee4$Ans1=\\sum_{i=1}^rf(i)$,\u7531\u6b64\u63a8\u51fa\n$$Ans1=\\sum_{i=1}^r\\sum_{d|i}1$$\n\u66f4\u6362\u679a\u4e3e\u9879,\u6539\u4e3a\u679a\u4e3ei\u7684\u56e0\u5b50\n$$Ans1=\\sum_{d=1}^r\\lfloor\\frac{r}{d}\\rfloor$$\n\u540c\u7406\u6c42\u51fa$Ans2$,\u7136\u540e\u7528\u4e00\u4e0b\u6574\u9664\u5206\u5757$O(\\sqrt n)$\u9884\u5904\u7406\u5c31\u53ef\u4ee5\u4e86,\u4e0d\u4f1a\u7684\u770b\u4e00\u4e0b\u6211\u4e0a\u9762\u653e\u7684\u94fe\u63a5\n\n\u6b22\u8fce\u8e29\u535a\u5ba2[real_l](https://www.cnblogs.com/real-l/p/9651008.html)\n# Code\n```cpp\n#include<bits/stdc++.h>\n#define rg register\n#define il inline\n#define Min(a,b) (a)<(b)?(a):(b)\n#define Max(a,b) (a)>(b)?(a):(b)\n#define lol long long\nusing namespace std;\n\nconst lol mod=998244353;\n\nvoid in(lol &ans) {\n\tans=0; lol f=1; char i=getchar();\n\twhile(i<'0' || i>'9') {if(i=='-') f=-1; i=getchar();}\n\twhile(i>='0' && i<='9') ans=(ans<<1)+(ans<<3)+i-'0',i=getchar();\n\tans*=f;\n}\n\nint main()\n{\n    lol ans1=0,ans2=0; lol n,m; in(n),in(m),n--;\n    for(rg lol l=1,r,len;l<=n;l=r+1) {\n        r=n/(n/l),len=r-l+1;\n        ans1=(1ll*(ans1%mod+len%mod*(n/l)%mod)%mod)%mod;\n    }\n    for(rg lol l=1,r,len;l<=m;l=r+1) {\n        r=m/(m/l),len=r-l+1;\n        ans2=(1ll*(ans2%mod+len%mod*(m/l)%mod)%mod)%mod;\n    }\n    printf(\"%lld\\n\",(ans2-ans1+mod)%mod);//\u6ce8\u610f\u8fd9\u91cc,\u6700\u540e\u7b54\u6848\u4e00\u5b9a\u8981(ans+mod)%mod,\u4e0d\u7136\u53ef\u80fd\u4f1a\u51fa\u73b0\u8d1f\u6570\n    return 0;\n}\n```",
        "postTime": 1536996086,
        "uid": 45210,
        "name": "kikuss",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P3935 \u3010Calculating\u3011"
    },
    {
        "content": "Dalao `KesdiaelKen` \u7684\u9898\u89e3\u7684\u7b80\u5316\u8bc1\u660e\u7248 QwQ\u3002\n\n> \u770b\u5230$\\sum^r_{i=l}f(i)$\uff0c\u6211\u4eec\u5e94\u8be5\u5bb9\u6613\u60f3\u5230\u5c06\u5b83\u8f6c\u5316\u6210$\\sum^r_{i=1}f(i)-\\sum^{l-1}_{i=1}f(i)$\uff08\u5bb9\u65a5\u57fa\u672c\u64cd\u4f5c\uff09\u3002\u4f46\u662f\u8fd9\u4e2a\u4e1c\u897f\u600e\u4e48\u6c42\u5462\uff1f\n\n> \u4e0b\u9762\uff0c\u6211\u4eec\u5f15\u51fa\u4e24\u4e2a\u5b9a\u7406\u548c\u4e00\u4e2a\u7b97\u6cd5\u3002\n\n## \uff11.\u56e0\u6570\u4e2a\u6570\u5b9a\u7406\n\n* \u82e5 $x$ \u5206\u89e3\u8d28\u56e0\u6570\u7ed3\u679c\u4e3a $x = p_1^{k_1}p_2^{k_2} \\cdots p_n^{k_n}$\uff0c\u5219 **$x$ \u7684\u56e0\u6570\u4e2a\u6570 $ = (k_1+1)(k_2+1)\\cdots(k_n+1)$**\u3002\n\n**\u8bc1\u660e\uff1a**\n\n* $x$ \u7684\u4e00\u4e2a\u56e0\u6570\uff0c\u80af\u5b9a\u662f\u8fd9\u6837\u7684\uff1a**\u5b83**\u62e5\u6709\u7684\u8d28\u56e0\u5b50\uff0c$x$ \u90fd\u6709\uff0c\u800c\u4e14**\u5b83**\u7684\u8fd9\u4e2a\u8d28\u56e0\u5b50\u7684\u6570\u76ee\u4e0d\u80fd\u6bd4 $x$ \u7684\u591a\u3002\n\n* $x$ \u7684\u56e0\u6570\u5c31\u662f $x$ \u7684\u4f17\u591a\u8d28\u56e0\u5b50\u7ec4\u5408\u51fa\u6765\u7684\u3002\u5373\uff0c$x$ \u7684\u56e0\u6570 $ = p_1^{t_1}p_2^{t_2} \\cdots p_n^{t_n}$\u3001\u5176\u4e2d\u6bcf\u4e2a $t_i$ \u7684\u53ef\u4ee5\u53d6 $[0, k_i]$\u3002\u6240\u4ee5\u56e0\u6570\u4e2a\u6570\u6709 $(k_1+1)(k_2+1)\\cdots(k_n+1)$ \u4e2a\u3002\n\n\u7531\u6b64\u53ef\u89c1\uff0c\u9898\u76ee\u6c42\u7684\u5373\u662f\u533a\u95f4\u5185\u6bcf\u4e2a\u6570\u7684\u56e0\u6570\u4e2a\u6570\u7684\u548c\u3002\n\n## 2.\uff08\u6211\u4e5f\u4e5f\u4e0d\u77e5\u9053\u5b83\u53eb\u4ec0\u4e48\u540d\u5b57\uff09\n\n\u8bbe $f(x)$ \u8868\u793a $x$ \u7684\u56e0\u6570\u4e2a\u6570\uff0c\u8ba1\u7b97 $\\sum^n_{i=1}f(i)$\u3002\n\n**\u89e3\uff1a**\n\n[**\u6211\u8fd9\u8f88\u5b50\u90fd\u62ff\u4e0d\u5230\u666e\u53ca\u4e00\u7b49\u4e86**](https://www.luogu.org/problemnew/show/P1403)\n\n\u522b\u4ece\u6bcf\u4e2a $i$ \u7684\u89d2\u5ea6\u53bb\u8003\u8651\uff1b\u76f4\u63a5\u4ece**\u6bcf\u4e2a\u7ea6\u6570\u5728\u6574\u4e2a\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u7684\u7684\u51fa\u73b0\u6b21\u6570\uff08\u8d21\u732e\u6b21\u6570\uff09** \u8003\u8651\u3002\n\n* $1$ \u8fd9\u4e2a\u56e0\u6570\u4f5c\u4e3a**\u6bcf\u4e2a\u6570**\u7684\u56e0\u6570\uff0c\u4f1a\u5728\u6bcf\u4e2a $f(i)$ \u4e2d\u51fa\u73b0\u3002\u5b83\u7ed9\u7b54\u6848\u8d21\u732e\u4e86 $n$\u3002\n\n* $2$ \u4f5c\u4e3a**\u6bcf\u4e2a $2k$** \u7684\u56e0\u6570\uff0c\u4f1a\u5728\u6bcf\u4e2a $f(2k)$ \u4e2d\u51fa\u73b0\u3002\u5b83\u7ed9\u7b54\u6848\u8d21\u732e\u4e86 $\\lfloor \\frac{n}{2} \\rfloor$\u3002\n\n* $3$ \u4f5c\u4e3a**\u6bcf\u4e2a $3k$** \u7684\u56e0\u6570\uff0c\u4f1a\u5728\u6bcf\u4e2a $f(3k)$ \u4e2d\u51fa\u73b0\u3002\u5b83\u7ed9\u7b54\u6848\u8d21\u732e\u4e86 $\\lfloor \\frac{n}{3} \\rfloor$\u3002\n\n* $\\cdots$\n\n* $n$ \u53ea\u80fd\u4f5c\u4e3a $n$ \u7684\u56e0\u6570\uff0c\u4e3a\u7b54\u6848\u8d21\u732e\u4e86 $\\lfloor \\frac{n}{n} \\rfloor$\u3002 \n\n\u8fd9\u6837\u4ece\u5404\u4e2a\u56e0\u6570\u7684\u53c2\u4e0e\u60c5\u51b5\u8003\u8651\uff0c\u53ef\u4ee5\u5f97\u51fa\u6700\u7ec8\u7b54\u6848\u5c31\u662f $\\sum_{i=1}^n \\lfloor \\frac{n}{i} \\rfloor$\u3002\n\n## 3.\u6574\u9664\u5206\u5757\n\n\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u6bd4\u8f83\u5feb\u5730\u6c42 $\\sum_{i=1}^n \\lfloor \\frac{n}{i} \\rfloor$\u3002\n\n\u8bd5\u8bd5\u66b4\u529b\u6c42\u89e3\u4e0a\u9762\u8fd9\u4e2a\u5f0f\u5b50\u3002\n\n```cpp\nfor (int i = 1; i <= n; i++)\n\tsum += n / i;\n```\n\n~~*\u4e0d\u96be*~~ \u53d1\u73b0\uff0c\u8fc7\u7a0b\u4e2d\u5f88\u591a $\\lfloor \\frac{n}{i} \\rfloor$ \u91cd\u590d\u4e86\uff0c\u800c\u4e14 $i$ \u8d8a\u5927\uff0c\u91cd\u590d\u5c31\u4e25\u91cd\u3002\u6bd4\u5982 $n = 900000$\uff1a\u4ece $\\lfloor \\frac{900000}{i = 300001} \\rfloor$ \u5230 $\\lfloor \\frac{900000}{i = 450000} \\rfloor$\uff0c\u5176\u5b9e\u6bcf\u4e2a\u90fd\u662f $2$\uff0c\u66b4\u529b\u7b97\u592a\u6d6a\u8d39\u65f6\u95f4\u4e86\u3002\n\n$\\lfloor \\frac{n}{i} \\rfloor$ \u5728 $i$ \u7684\u9012\u589e\u8fc7\u7a0b\u4e2d\u5448\u5757\u72b6\u5206\u5e03\u3002\u4e00\u5171\u6709\u591a\u5c11\u5757\u5462\uff1f\u5373\uff0c$\\lfloor \\frac{n}{i} \\rfloor$ \u6709\u51e0\u79cd\u53d6\u503c\u5462\uff1f\u5176\u5b9e\u5f88\u5c11\uff0c\u4e0d\u8d85\u8fc7 $\\sqrt{2n}$ \u79cd\u3002\n\n* \u4ece $i = 1$ \u9012\u589e\u5230 $i = \\sqrt{n}$\uff0c\u8fc7\u7a0b\u4e2d\u4e00\u5171 $\\sqrt{n}$ \u4e2a $i$\uff0c\u6240\u4ee5 $\\lfloor \\frac{n}{i} \\rfloor$ \u6700\u591a\u5c31 $\\sqrt{n}$ \u79cd\u7ed3\u679c\u3002\n\n* \u7136\u800c\uff0c\u5f53 $i = \\sqrt{n}$ \u65f6\uff0c\u5df2\u7ecf\u5bfc\u81f4 $\\lfloor \\frac{n}{i} \\rfloor = \\sqrt{n}$\uff1b\u7136\u540e $i$ \u7ee7\u7eed\u9012\u589e\uff0c**\u4f46\u662f $\\lfloor \\frac{n}{i} \\rfloor$ \u53ea\u53ef\u80fd\u4e0d\u65ad\u51cf\u5c0f\uff0c**\u6700\u5c0f\u5230 $1$\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d $\\lfloor \\frac{n}{i} \\rfloor$ \u6700\u591a\u4e5f\u5c31 $\\sqrt{n}$ \u79cd\u7ed3\u679c\u3002\n\n\u6240\u4ee5\u201c\u5757\u201d\u7684\u4e2a\u6570\u662f\u5f88\u5c11\u7684\u3002**\u8981\u662f\u77e5\u9053\u6bcf\u4e00\u5757\u6709\u591a\u5bbd\u5c31\u597d\u4e86\u3002**\n\n**\u4e0b\u9762\u5f00\u59cb\u6a21\u62df\uff0c\u53ef\u8df3\u8fc7\u9605\u8bfb\u3002\u6ce8\u610f\uff0c\u8fd9\u91cc\u628a $\\lfloor \\frac{n}{i} \\rfloor$ \u79f0\u4e3a $p$\u3002**\n\n\u89c2\u5bdf $n = 15$\uff1a\n\n```cpp\ni =   1  2  3  4  5  6  7  8  9 10 11 12 13 14 15\np =  15  7  5  3  3  2  2  1  1  1  1  1  1  1  1\n```\n\n**\u4ece\u5de6\u5f80\u53f3\u601d\u8003\u3002**\uff08\u66b4\u529b\u5c31\u662f\u4ece\u5de6\u5f80\u53f3\u679a\u4e3e $i$ \u7684\uff09\n\n* $i = 1$\uff0c\u6b64\u65f6 $p = 15$\uff1b\u6211\u4eec\u671f\u5f85\u627e\u5230 **$p = 15$ \u7684\u6700\u53f3\u7aef\uff08\u5373\u627e\u5230 $p = 15$ \u7684\u4e00\u5927\u5757\uff09**\u3002\u4f46\u662f\u4e0b\u4e00\u9879 $p$ \u5c31\u53d8\u6210\u4e86 $7$\uff0c\u4e0d\u662f\u540c\u4e00\u5757\u5185\u7684\u3002\n\n\t\uff08\u5176\u672c\u8d28\u539f\u56e0\u662f\uff0c$p = 15$ \u7684\u53f3\u8fb9\u754c\u662f $i = \\lfloor \\frac{15}{p} \\rfloor = 1$\uff0c\u522b\u6025\uff0c\u5f85\u4f1a\u4f60\u5c31\u4f1a\u7406\u89e3\u8fd9\u4e2a\u672c\u8d28\u539f\u56e0\uff09\n\n* $i = 2, p = 7$\uff1b\u6211\u4eec\u671f\u5f85\u627e\u5230 $p = 7$ \u7684\u6700\u53f3\u7aef\u3002\u4f46\u662f\u5f88\u5931\u671b\uff0c\u4e0b\u4e00\u9879 $p$ \u5c31\u53d8\u6210\u4e86 $4$\uff0c\u4e0d\u662f\u540c\u4e00\u5757\u5185\u7684\u3002\n\n\t\uff08\u5176\u672c\u8d28\u539f\u56e0\u662f\uff0c$p = 7$ \u7684\u53f3\u8fb9\u754c\u662f $i = \\lfloor \\frac{15}{p} \\rfloor = 2$\uff09\n* $\\cdots$\n\n* \u73b0\u5728 $i = 4, p = 3$\uff1b\u6211\u4eec\u671f\u5f85\u627e\u5230 $p = 3$ \u7684\u6700\u53f3\u7aef\u3002\u600e\u4e48\u627e\u6700\u53f3\u7aef\uff1f\n\n\t\u90a3\u5c31\u662f\u627e\u5230\u4e00\u4e2a **$i_{max}$\uff0c\u6ee1\u8db3 $\\lfloor \\frac{15}{i} \\rfloor = 3$**\u3002\n    \n    \u7b49\u4e0b\u3002\u89c2\u5bdf\u4e00\u4e0b\uff0c\u601d\u8003\u4e00\u4e0b\u3002\n    \n    ...\n    \n    **\u6574\u6570\u9664\u6cd5\u521a\u521a\u597d\u80fd\u505a\u5230\uff01**\n    \n    \u7b54\u6848\u5373 $i_{max} = \\lfloor \\frac{15}{3} \\rfloor = 5$\u3002\uff08\u4e0d\u8fc7\uff0c\u8fd9\u8fd8\u6ca1\u6709\u4f53\u73b0\u5411\u4e0b\u53d6\u6574\u7684\u4f18\u52bf\uff09\n    \n* \u4e5f\u8bb8 $p = 2$ \u65f6\u66f4\u6709\u5229\u4e8e\u601d\u8003\u3002\u73b0\u5728 $i = 6, p = 2$\u3002\u60f3\u627e\u5230 $p = 2$ \u7684\u6700\u53f3\u7aef\uff0c\u5373\u627e\u5230 **$i_{max}$** \u6ee1\u8db3 $\\lfloor \\frac{15}{i} \\rfloor = 2$\u3002\n\n\t\u5982\u679c\u6ca1\u6709\u201c\u6574\u6570\u201d\u8fd9\u4e00\u9650\u5236\uff0c\u90a3\u4e48 $i = 15 \\div 2 = 7.5$\uff1b\u52a0\u4e0a\u201c\u6574\u6570\u201d\u9650\u5236\u5462\uff1f$i$ \u5411\u4e0b\u53d6\u6574\u5c31\u662f\u6700\u5927\u6574\u6570\u3002\n    \n    $i_{max} = \\lfloor \\frac{15}{2} \\rfloor = 7$\u3002\n    \n* $\\cdots$\n\n\u6a21\u62df\u7ed3\u675f\u3002\n    \n\u5982\u679c\u5df2\u77e5\u6b63\u6574\u6570 $k,n$ ($n>=k$\uff09\uff0c\u8bbe $p = \\lfloor \\frac{n}{k} \\rfloor$\uff0c\u5219\u4f7f $\\lfloor\\frac{n}{i}\\rfloor= p$ \u7684\u6700\u5927\u6574\u6570 $i$ \u7684\u503c\u5c31\u662f $i_{max}=\\lfloor \\frac{n}{p} \\rfloor$\u3002\n\n**\u8bc1\u660e\uff1a**\n\n\u7531\u5411\u4e0b\u53d6\u6574\u7684\u5b9a\u4e49\u53ef\u5f97\u3002\n\n```cpp\nint SumF(int n) {\n  int sum = 0;\n  for (int l = 1, r = 1; l <= n; l = r + 1/*\u6765\u5230\u4e0b\u4e00\u5757*/) {\n    int p = n / l;//\u5f53\u524d\u53d6\u503c\n    r = n / p;//\u8fd9\u4e2a\u53d6\u503c\u5757\u7684\u53f3\u7aef\u70b9\n    sum += p * (r - l + 1);\n  }\n  return sum;\n}\n```\n\n## \u6574\u7406\u4e00\u4e0b\n\n\u9898\u76ee\u8981\u6c42 $\\sum^r_{i=l}f(i)$\uff0c\u5176\u4e2d $f(i)$ \u5c31\u662f $i$ \u7684\u56e0\u6570\u4e2a\u6570\u3002\n\n$\\sum^r_{i=l}f(i) = \\sum^r_{i=1}f(i)-\\sum^{l-1}_{i=1}f(i)$\uff0c\u56e0\u6b64\u6211\u4eec\u8981\u5b66\u4f1a\u6c42 $\\sum^n_{i=1}f(i)$\u3002\n\n\u7b80\u5355\u63a8\u5bfc\u5f97 $\\sum^n_{i=1}f(i) = \\sum_{i=1}^n \\lfloor \\frac{n}{i} \\rfloor$\u3002\u53f3\u8fb9\u8fd9\u4e2a\u80fd $O\\sqrt{n}$ \u6c42\u51fa\u3002\n\n```cpp\n#include <cstdio>\n\nconst long long MOD = (119 << 23) + 1;\n\nlong long SumF(long long n) {\n  long long sum = 0;\n  for (long long l = 1, r = 1; l <= n; l = r + 1) {\n    long long p = n / l % MOD;\n    r = n / p;\n    sum += p * ((r - l + 1) % MOD), sum %= MOD;\n  }\n  return sum;\n}\nint main() {\n  long long l, r;\n  scanf(\"%lld %lld\", &l, &r);\n  printf(\"%lld\\n\", (SumF(r) - SumF(l - 1) + MOD) % MOD);\n  return 0;\n}\n```",
        "postTime": 1547078497,
        "uid": 49474,
        "name": "\u5b66\u59d4",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3935 \u3010Calculating\u3011"
    },
    {
        "content": " \u5757\u72b6\u94fe\u8868\u5757\u72b6\u6570\u7ec4\u5206\u5757\uff0c\u6570\u8bba\u6570\u5b66\uff0c\u671f\u671b\uff0c\u6982\u7387\u8bba,\u7edf\u8ba1\uff0c\u7d20\u6570\u5224\u65ad\u8d28\u6570\u7b5b\u6cd5\uff0c\u83ab\u6bd4\u4e4c\u65af\u53cd\u6f14\u4ec0\u4e48\u7684\u6211\u4e00\u4e2a\u5c0f\u5b66\u751f\u770b\u4e0d\u61c2\u5566~\n \n\u9996\u5148\u8981\u770b\u61c2\u8fd9\u4e2af\u51fd\u6570\u3002\u6839\u636e\u5c0f\u5b66\u5965\u6570\u7684\u201c\u56e0\u6570\u4e2a\u6570\u5b9a\u7406\u201d~~\u4e0d\u96be\u770b\u51fa~~f(x)\u5c31\u662f\u6c42x\u7684\u56e0\u6570\u4e2a\u6570\u7684\u3002\n\n\u8fd9\u9898\u7ed9\u5b9a\u7684l,r\uff0c\u5c31\u662f\u6c42l~r\u4e4b\u95f4\u6240\u6709\u6570\u56e0\u6570\u4e2a\u6570\u4e4b\u548c\u3002\u7136\u540e\u53ef\u4ee5\u5148\u6c42\u51fa1~r\u7684\u56e0\u6570\u4e2a\u6570\u548c\uff0c1~(l-1)\u7684\u56e0\u6570\u4e2a\u6570\u548c\uff0c\u6700\u540e\u76f8\u51cf\u3002\n\n\u5982\u4f55\u6c421~n\u7684\u56e0\u6570\u4e2a\u6570\u548c\uff1f\u89c1\u4ee3\u7801\u3002\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std; \nconst ll mod=998244353;\nll cnt(ll n)\n{\n\tll sum=0;\n    ll t=(ll)sqrt((double)n);\n    //sqrt(n)\n    for(ll i=1;i<=t;i++)\n    {\n    \tsum+=(n/i)%mod;\n\t}\n    sum*=2;//\u5bf9\u79f0\u6027,\u6700\u540e*2\u5c31\u597d\u4e86 \n    sum=sum-t*t;//\u8bb0\u5f97\u8fd9\u91cc\u4e00\u5b9a\u8981\u51cf\u53bb\u591a\u7b97\u7684 \n    sum=(sum%mod+mod)%mod;//\u6ce8\u610f\u8d1f\u6570 \n    return sum;\n}\nint main() \n{\n    ll l,r;\n    scanf(\"%lld%lld\",&l,&r);\n    ll ans=cnt(r)-cnt(l-1);\n    ans=(ans%mod+mod)%mod;//\u8fd9\u8fb9\u4e5f\u8981\u6ce8\u610f\u8d1f\u6570 \n\tprintf(\"%lld\\n\",ans);\n\treturn 0; \n}\n```",
        "postTime": 1544241050,
        "uid": 106252,
        "name": "LightningUZ",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3935 \u3010Calculating\u3011"
    },
    {
        "content": "**\u8fd9\u9898\u662f\u6c42\u533a\u95f4\u5185\u6bcf\u4e2a\u6570\u7684\u56e0\u5b50\u4e2a\u6570\u548c\u3002**\n\n\u4e00\u60f3\u5230\u6c42\u533a\u95f4\u5185\u7684\u4ec0\u4e48\u4ec0\u4e48\u4ec0\u4e48\u7684\uff0c\u5c31\u8003\u8651\u524d\u7f00\u548c\uff0c\u53d1\u73b0\u672c\u9898\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u6765\u6c42\u89e3\u3002\u75281~r\u7684\u6bcf\u4e2a\u6570\u7684\u56e0\u5b50\u4e2a\u6570\u548c\u51cf\u53bb1~l-1\u7684\u6bcf\u4e2a\u6570\u7684\u56e0\u5b50\u4e2a\u6570\u548c\u3002\u5373\u4e3a\u6240\u6c42\u7b54\u6848\u3002\n\n\u63a5\u4e0b\u6765\u8003\u8651\u5982\u4f55\u5feb\u901f\u6c42\u51fa1~l-1\u7684\u6bcf\u4e2a\u6570\u7684\u56e0\u5b50\u4e2a\u6570\u548c\u3002\u5047\u8bbe\u4e0a\u754c\u4e3an\u3002\n\u90a3\u4e481~n\u4e2d\u56e0\u5b50i\u7684\u4e2a\u6570\u4e3a\uff08n/i\uff09\u4e2a\u3002\n```cpp\nfor(int i=1;i<=n;i++) ans=(ans+n/i)%mod;\n```\n\u7531\u4e8en\u7684\u8303\u56f4\u8fc7\u5927\uff0c\u5c31\u7b97\u662fO(n)\u4fbf\u5386\u4e00\u904d\u3002\u663e\u7136\u4e5f\u4f1a\u8d85\u65f6\u3002\n\n\n\u63a5\u4e0b\u6765\u8003\u8651\u7528\u6574\u9664\u5206\u5757\u5c06O(n)\u7684\u590d\u6742\u5ea6\u964d\u5230O(sqrt(n))\u3002\n\u5047\u8bbe\u5f53n=11\u65f6\uff0ci=6,7,8,9,10,11\u65f6n/i\u90fd\u7b49\u4e8e1\uff1b\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5206\u6210\u4e00\u5757\u4e00\u5757\u6765\u505a\u3002\n```cpp\nfor(ll i=1,j;i<=x;i=j+1){\n\t\tj=x/(x/i);\n\t\tans=(ans%mod+1ll*(x/i)*(j-i+1)%mod)%mod;\n}\n```\n\u6570\u5b66\u57fa\u7840\u4e0d\u592a\u54c8\uff0c\u6216\u4e0d\u4f1a\u6574\u5904\u5206\u5757\u7684\u53ef\u4ee5\u770b[\u6570\u8bba\u603b\u7ed3] (https://www.cnblogs.com/yexinqwq/p/10392167.html)\n\n\n\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n#define mod 998244353\n#define ll long long\nll l,r;\nll work(ll x){\n\tll ans=0;\n\tfor(ll i=1,j;i<=x;i=j+1){\n\t\tj=x/(x/i);\n\t\tans=(ans%mod+1ll*(x/i)*(j-i+1)%mod)%mod;\n\t}\n\treturn ans;\n}\nint main(){\n\tscanf(\"%lld%lld\",&l,&r);\n\tprintf(\"%lld\\n\",(work(r)%mod-work(l-1)%mod+mod)%mod);\n\treturn 0;\n}\n```\n",
        "postTime": 1570864213,
        "uid": 143408,
        "name": "\u9648\u96ea\u68ee",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3935 \u3010Calculating\u3011"
    },
    {
        "content": "\u9996\u5148\u663e\u7136\u6709$\\sum\\limits_{i=l}^rf(i)=\\sum\\limits_{i=1}^rf(i)-\\sum\\limits_{i=1}^{l-1}f(i)$\uff0c\u4e8e\u662f\u95ee\u9898\u8f6c\u5316\u4e3a\u4e86\u5982\u4f55\u6c42$\\sum\\limits_{i=1}^nf(i)$\uff0c\u5373$\\sum\\limits_{i=1}^n\\sum\\limits_{d|i}1$\uff0c\u8c03\u6574\u679a\u4e3e\u987a\u5e8f\u6709$\\sum\\limits_{d=1}^n\\sum\\limits_{i=1}^{\\lfloor\\frac{n}{d}\\rfloor}1$\uff0c\u5373$\\sum\\limits_{d=1}^n\\lfloor\\dfrac{n}{d}\\rfloor$\uff0c\u7531\u4e8e$n$\u5f88\u5927\uff0c\u6240\u4ee5\u6211\u4eec\u4f7f\u7528\u6574\u9664\u5206\u5757\u5373\u53ef\n\n```cpp\n/*program from Wolfycz*/\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#define inf 0x7f7f7f7f\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned int ui;\ntypedef unsigned long long ull;\ninline char gc(){\n\tstatic char buf[1000000],*p1=buf,*p2=buf;\n\treturn p1==p2&&(p2=(p1=buf)+fread(buf,1,1000000,stdin),p1==p2)?EOF:*p1++;\n}\ninline int frd(){\n\tint x=0,f=1; char ch=gc();\n\tfor (;ch<'0'||ch>'9';ch=gc())\tif (ch=='-')\tf=-1;\n\tfor (;ch>='0'&&ch<='9';ch=gc())\tx=(x<<3)+(x<<1)+ch-'0';\n\treturn x*f;\n}\ninline int read(){\n\tint x=0,f=1; char ch=getchar();\n\tfor (;ch<'0'||ch>'9';ch=getchar())\tif (ch=='-')\tf=-1;\n\tfor (;ch>='0'&&ch<='9';ch=getchar())\tx=(x<<3)+(x<<1)+ch-'0';\n\treturn x*f;\n}\ninline void print(int x){\n\tif (x<0)\tputchar('-'),x=-x;\n\tif (x>9)\tprint(x/10);\n\tputchar(x%10+'0');\n}\nconst int p=998244353;\nint solve(ll n){\n\tint res=0;\n\tfor (ll i=1,pos;i<=n;i=pos+1){\n\t\tpos=n/(n/i); int len=(pos-i+1)%p;\n\t\tres=(res+1ll*len*(n/i)%p)%p;\n\t}\n\treturn res;\n}\nint main(){\n\tll l,r;\n\tscanf(\"%lld%lld\",&l,&r);\n\tprintf(\"%d\\n\",(solve(r)-solve(l-1)+p)%p);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1547368324,
        "uid": 21633,
        "name": "Wolfycz",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3935 \u3010Calculating\u3011"
    }
]