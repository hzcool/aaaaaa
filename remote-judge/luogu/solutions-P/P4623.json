[
    {
        "content": "# [\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P4623)\n\n## \u89e3\u9898\u601d\u8def\uff1a\u6876+\u5dee\u5206\n\n\u770b\u5230\u9898\u89e3\u597d\u591a\u5927\u5946\u90fd\u7528\u6811\u72b6\u6570\u7ec4\uff0c\u626b\u63cf\u7ebf\u4ec0\u4e48\u7684~~\u5b8c\u5168\u4e0d\u4f1a\u554a~~\u3002\u4f46\u8fd9\u9898\u5176\u5b9e\u53ef\u4ee5\u7528\u7b80\u5355\u7684\u6876\u6570\u7ec4\u6765\u89e3\u51b3\u3002\u4ee3\u7801\u91cf\u5c0f\uff0c\u65f6\u95f4\u77ed\u3002\n\n### Part 1 \u66b4\u529b\n\n\u6700\u7b80\u5355\u7684\u60f3\u6cd5\uff0c\u5bf9\u4e8e\u6bcf\u6761\u76f4\u7ebf\uff0c\u627e\u54ea\u4e9b\u4e09\u89d2\u5f62\u6ee1\u8db3\u6761\u4ef6\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $ O(nm)$\u3002\u80fd\u62ff30pts\u3002\n\n### Part 2 \u6876\u4f18\u5316\n\n\u63a5\u4e0b\u6765\u5c31\u8981\u601d\u8003\u5982\u4f55\u5728 $O(1)$ \u7684\u65f6\u95f4\u5185\u5f97\u5230\u4e00\u6761\u76f4\u7ebf\u7a7f\u8fc7\u591a\u5c11\u4e09\u89d2\u5f62\u3002\u6876\u80fd\u591f\u5f88\u597d\u5730\u6ee1\u8db3\u8fd9\u4e2a\u9700\u6c42\u3002\u518d\u770b\u6570\u636e\u8303\u56f4\uff0c$0 \\le x_1,y_1,x_2,y_2,x_3,y_3 < 10^6$\uff0c\u53ef\u4ee5\u8bf4\u5b8c\u7f8e\u9002\u4e8e\u6876\u3002\n\n\u8bbe\u7f6e\u4e24\u4e2a\u6876 $boxx$ \u548c $boxy$\uff0c\u5206\u522b\u7528\u6765\u5b58\u50a8\u76f4\u7ebf $x=i$ \u548c $y=i$ \u7a7f\u8fc7\u7684\u4e09\u89d2\u5f62\u6570\u91cf\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u4e09\u89d2\u5f62\uff0c\u6c42\u51fa\u4e09\u4e2a\u70b9\u4e2d\u6700\u5927\u548c\u6700\u5c0f\u7684 $x$ \u5750\u6807\u548c $y$ \u5750\u6807\uff0c\u5c06 $boxx[(x_{min},x_{max})]$ \u548c $boxy[(y_{min},y_{max})]$ \u90fd $+1$\u3002\u5bf9\u4e8e\u6bcf\u6761\u76f4\u7ebf\uff0c\u76f4\u63a5\u8f93\u51fa\u7b54\u6848\u5373\u53ef\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$\u3002\n\n### Part 3 \u5dee\u5206\u7ef4\u62a4\u6876\n\n\u5f88\u5bb9\u6613\u53d1\u73b0\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u4e09\u89d2\u5f62\uff0c\u603b\u662f\u5728\u4e00\u6bb5\u533a\u95f4\u5185 $+1$\u3002\u6240\u4ee5\u53ef\u4ee5\u7528\u5dee\u5206\u7ef4\u62a4\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u4e09\u89d2\u5f62\uff0c\u5c06 $boxx[x_{min}+1]$ \u548c $boxy[y_{min}+1]$ \u90fd $+1$\uff0c$boxx[x_{max}]$ \u548c $boxy[y_{max}]$ \u90fd $-1$\u3002\u6700\u540e\u518d\u8fd8\u539f\u5373\u53ef\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $O(n)$\u3002\uff08\u4f46\u5176\u5b9e\u8fd8\u539f\u5dee\u5206\u6570\u7ec4\u8981\u8fdb\u884c $10^6$ \u6b21\uff09\n\n\u4ee3\u7801\uff1a\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=1000007;\nint n,m,boxx[maxn],boxy[maxn];\nint main(){\n\tscanf(\"%d\",&n);\n\tint x,y;\n\tfor(int i=1;i<=n;i++){\n\t\tint maxx=-1*(1e9+7),maxy=-1*(1e9+7),minx=1e9+7,miny=1e9+7;\n\t\tfor(int j=1;j<=3;j++){\n\t\t\tscanf(\"%d%d\",&x,&y);\n\t\t\tmaxx=max(maxx,x);maxy=max(maxy,y);\n\t\t\tminx=min(minx,x);miny=min(miny,y);\n\t\t}\n\t\tboxx[minx+1]++;boxy[miny+1]++;\n\t\tboxx[maxx]--;boxy[maxy]--;\n\t}\n\tfor(int i=1;i<=1000000;i++){\n\t\tboxx[i]+=boxx[i-1];boxy[i]+=boxy[i-1];//\u76f4\u63a5\u7528\u5dee\u5206\u6570\u7ec4\u8fd8\u539f\uff0c\u538b\u7f29\u7a7a\u95f4\n\t}\n\tscanf(\"%d\",&m);\n\tchar dir,no;int num=0;\n\tfor(int i=1;i<=m;i++){\n\t\tscanf(\" %c %c %d\",&dir,&no,&num);//\u8fd9\u4e2ano\u53ea\u662f\u4e3a\u4e86\u8bfb\u5165\u65b9\u4fbf\n\t\tif(dir=='x')printf(\"%d\\n\",boxx[num]);\n\t\telse printf(\"%d\\n\",boxy[num]);\n\t}\n}\n```\n\nps\uff1a\u5efa\u8bae\u5168\u7a0b\u7528scanf\u2026\u2026\u522b\u95ee\u4e3a\u4ec0\u4e48\n\n\uff08\u505a\u4e86\u4e00\u70b9\u5c0f\u6539\u52a8\uff09",
        "postTime": 1653198489,
        "uid": 578590,
        "name": "yinhee",
        "ccfLevel": 0,
        "title": "P4623\u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9053\u9898\u6211\u7528\u7684\u548c\u5176\u4ed6\u9898\u89e3\u4e0d\u540c\uff0c\u7528\u7684\u662f\u626b\u63cf\u7ebf\u7684\u65b9\u6cd5\u3002\n\n\u65e0\u8bba\u662f\u5bf9\u4e8e\u4e09\u89d2\u5f62\u8fd8\u662f\u76f4\u7ebf\uff0c\u90fd\u8bbe\u4e3a\u4e00\u4e2a\u7ed3\u6784\u4f53\u3002\n\n\u6211\u7684\u601d\u8def\u6b65\u9aa4\u5982\u4e0b\u3002\n\n1. \u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4e09\u89d2\u5f62\u7684\u4e09\u4e2a\u70b9\uff0c\u628a\u4e09\u4e2a\u70b9\u7684\u884c\u5750\u6807\u5f53\u4e2d\u6700\u5c0f\u7684\u4e00\u4e2a\u5f53\u505a\u4e0a\u8fb9\u754c\uff0c\u884c\u5750\u6807\u5f53\u4e2d\u6700\u5927\u7684\u4e00\u4e2a\u5f53\u505a\u4e0b\u8fb9\u754c\uff0c\u5217\u5750\u6807\u5f53\u4e2d\u6700\u5c0f\u7684\u4e00\u4e2a\u5f53\u505a\u5de6\u8fb9\u754c\uff0c \u53f3\u5750\u6807\u6700\u5927\u7684\u4e00\u4e2a\u5f53\u505a\u53f3\u8fb9\u754c\uff0c\u65e0\u8bba\u662f\u4e0a\u8fb9\u754c\u548c\u4e0b\u8fb9\u754c\u90fd\u653e\u5728\u884c\u7ed3\u6784\u4f53\u91cc\uff0c\u4e0a\u8fb9\u754c\u548c\u4e0b\u8fb9\u754c\u90fd\u653e\u5728\u5217\u7ed3\u6784\u4f53\u91cc\u3002\n \n1. \u518d\u5904\u7406\u6bcf\u4e00\u6761\u76f4\u7ebf\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u6761\u76f4\u7ebf\u5c06\u884c\u5217\u5206\u5f00\u6765\uff0c\u5206\u522b\u548c\u4e4b\u524d\u4e09\u89d2\u5f62\u7684\u70b9\u4e00\u540c\u653e\u5165\u884c\u6216\u5217\u7ed3\u6784\u4f53\u4e2d\u3002\n\n1. \u5c06\u884c\u5217\u7ed3\u6784\u4f53\u6392\u5e8f\u3002\n\n1. \u5bf9\u4e8e\u884c\u5217\u7ed3\u6784\u4f53\u5206\u522b\u5904\u7406\uff0c\u5c06\u6bcf\u6761\u76f4\u7ebf\u6240\u7a7f\u8fc7\u7684\u4e09\u89d2\u5f62\u6570\u91cf\u653e\u5165\u7b54\u6848\u6570\u7ec4\u5f53\u4e2d\u3002\n\n\u5982\u679c\u8fd8\u662f\u5bf9\u5177\u4f53\u5b9e\u73b0\u65b9\u6cd5\u4e0d\u7406\u89e3\uff0c\u53ef\u53c2\u8003\u4ee3\u7801\u4ee5\u53ca\u6ce8\u91ca\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,cnt=0,cntx,cnty,num,ans[100005];//ans\u6570\u7ec4\u7528\u6765\u8bb0\u5f55\u7b54\u6848\nstruct node\n{\n    int num,flag,id;//num\u7528\u6765\u8868\u793a\u5177\u4f53\u7684\u884c\u5217\u6570\uff0cflag\u7528\u6765\u8868\u793a\u7c7b\u578b\uff0c1\u8868\u793a\u4e0a\u8fb9\u754c\u548c\u5de6\u8fb9\u754c\uff0c2\u8868\u793a\u76f4\u7ebf,3\u8868\u793a\u53f3\u8fb9\u754c\u548c\u4e0b\u8fb9\u754c\uff0cid\u7528\u6765\u8bb0\u5f55\u5f53\u524d\u76f4\u7ebf\u7f16\u53f7\n}x[300005],y[300005];//\u884c\u5217\u7ed3\u6784\u4f53\nbool cmp(node a,node b)//\u7528\u6765\u7ed9\u884c\u5217\u7ed3\u6784\u4f53\u6392\u5e8f\n{\n    if(a.num!=b.num)return a.num<b.num;\n    return a.flag>b.flag;\n}\nint main()\n{\n    cin>>n;\n    for(int i=1;i<=n;i++)\n    {\n        int a1,a2,a3,b1,b2,b3;\n        cin>>a1>>b1>>a2>>b2>>a3>>b3;\n        x[++cnt]={min(a1,min(a2,a3)),1,i};//\u4e0a\u8fb9\u754c\n        y[cnt]={min(b1,min(b2,b3)),1,i};//\u5de6\u8fb9\u754c\n        x[++cnt]={max(a1,max(a2,a3)),3,i};//\u4e0b\u8fb9\u754c\n        y[cnt]={max(b1,max(b2,b3)),3,i};//\u53f3\u8fb9\u754c\n    }\n    cntx=cnty=cnt;\n    cin>>m;\n    for(int i=1;i<=m;i++)\n    {\n        char a,b;\n        int c;\n        cin>>a>>b>>c;\n        if(a=='x')//\u884c\u7684\u76f4\u7ebf\n        {\n            x[++cntx]={c,2,i};\n        }\n        else//\u5217\u7684\u76f4\u7ebf\n        {\n            y[++cnty]={c,2,i};\n        }\n    }\n    sort(x+1,x+cntx+1,cmp);//\u6392\u5e8f\n    sort(y+1,y+cnty+1,cmp);\n    num=0;\n    for(int i=1;i<=cntx;i++)\n    {\n        if(x[i].flag==1)//\u5982\u679c\u662f\u4e0a\u8fb9\u754c\n        {\n            num++;\n        }\n        else if(x[i].flag==3)//\u5982\u679c\u662f\u4e0b\u8fb9\u754c\n        {\n            num--;\n        }\n        else//\u4e00\u6761\u76f4\u7ebf\n        {\n            ans[x[i].id]=num;\n        }\n    }\n    num=0;\n    for(int i=1;i<=cnty;i++)\n    {\n        if(y[i].flag==1)//\u5982\u679c\u662f\u5de6\u8fb9\u754c\n        {\n            num++;\n        }\n        else if(y[i].flag==3)//\u5982\u679c\u662f\u53f3\u8fb9\u754c\n        {\n            num--;\n        }\n        else//\u4e00\u6761\u76f4\u7ebf\n        {\n            ans[y[i].id]=num;\n        }\n    }\n    for(int i=1;i<=m;i++)\n    {\n        cout<<ans[i]<<endl;\n    }\n    return 0;\n}\n\n```\n",
        "postTime": 1638190787,
        "uid": 237437,
        "name": "xxasmcd",
        "ccfLevel": 6,
        "title": "p4623\u9898\u89e3"
    },
    {
        "content": "$O(n)$ \u505a\u6cd5\u3002\n\n\u5750\u6807\u7cfb\u4e2d\u901a\u8fc7\u544a\u8bc9\u4e09\u4e2a\u9876\u70b9\u5750\u6807\u7684\u65b9\u5f0f\u7ed9\u5b9a $N$ \u4e2a\u4e09\u89d2\u5f62\uff0c\u540c\u65f6\u7ed9\u51fa $M$ \u6761\u5f62\u5982 $x=c$ \u6216 $y=c$ \u7684\u76f4\u7ebf\u3002\u5bf9\u4e8e\u6bcf\u4e00\u6761\u76f4\u7ebf\uff0c\u6c42\u51fa\u8fd9\u6761\u76f4\u7ebf\u80fd\u591f\u5c06\u591a\u5c11\u4e2a\u4e09\u89d2\u5f62\u5206\u6210\u4e24\u4e2a\u9762\u79ef\u5747\u5927\u4e8e\u96f6\u7684\u591a\u8fb9\u5f62\u3002\n\n------------\n\n\u9898\u89e3\u4e3a\u4ec0\u4e48\u6e05\u4e00\u8272\u7684\u6811\u72b6\u6570\u7ec4\u554a\uff08\uff1f\n\n\u5bf9\u4e8e\u4e00\u4e2a\u4efb\u610f\u7684\u4e09\u89d2\u5f62\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u53ea\u8981\u4e00\u6761\u76f4\u7ebf\u7a7f\u8fc7\u4e86\u521a\u597d\u80fd\u591f\u8986\u76d6\u5b83\u7684\u77e9\u5f62\uff0c\u90a3\u4e48\u4e5f\u4e00\u5b9a\u80fd\u591f\u5206\u5272\u8fd9\u4e2a\u4e09\u89d2\u5f62\u3002\n\n\u5982\u4e0b\u56fe\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/je7zsmiv.png?x-oss-process=image/resize,m_lfit,h_870,w_925)\n\n\u7ea2\u8272\u4e3a\u4e09\u89d2\u5f62\uff0c\u9ed1\u8272\u4e3a\u80fd\u591f\u8986\u76d6\u4e4b\u7684\u6700\u5c0f\u77e9\u5f62\u3002\u4e00\u6761\u84dd\u8272\u7684\u76f4\u7ebf\u5fc5\u7136\u540c\u65f6\u7a7f\u8fc7\u8fd9\u4e24\u4e2a\u56fe\u5f62\u3002\n\n\u53c8\u8bbe\u7b2c $i$ \u4e2a\u4e09\u89d2\u5f62\u4e2d\uff0c$Min_{xi},Min_{yi},Max_{xi},Max_{yi}$ \u8868\u793a\u4e09\u4e2a\u70b9\u5750\u6807\u4e2d\u6700\u5c0f\u7684 $x$ \u5750\u6807\u3001\u6700\u5c0f\u7684 $y$ \u5750\u6807\u3001\u6700\u5927\u7684 $x$ \u5750\u6807\u3001\u6700\u5927\u7684 $y$ \u5750\u6807\uff0c\u5219\u663e\u7136\u4e00\u4e2a\u70b9 $(a,b)$ \u5728\u77e9\u5f62\u5185\uff0c\u5f53\u4e14\u4ec5\u5f53 $Min_{xi}<a<Max_{xi}\\,,\\,Min_{yi}<b<Max_{yi}$\u3002\n\n\u6240\u4ee5\u5bf9\u4e8e\u76f4\u7ebf $x=c$\uff0c\u5982\u679c\u80fd\u591f\u5207\u5230\u7b2c $i$ \u4e2a\u4e09\u89d2\u5f62\uff0c\u9700\u8981 $Min_{xi}<c<Max_{xi}$\u3002\u6362\u8a00\u4e4b\uff0c\u8fd9\u4e2a\u4e09\u89d2\u5f62\u5bf9$Min_{xi}$ \u5230 $Max_{xi}$ \u8fd9\u6bb5\u6709\u8d21\u732e\u3002\u4e8e\u662f\u5728 $x$ \u8f74\u4e0a\u52a0 $Min_{xi}$ \u5230 $Max_{xi}$ \u8fd9\u4e48\u4e00\u6bb5\uff0c\u67e5\u8be2\u76f4\u7ebf $x=c$ \u7684\u65f6\u5019\u770b $x$ \u8f74\u7684 $c$ \u8fd9\u4e2a\u4f4d\u7f6e\u88ab\u52a0\u4e86\u591a\u5c11\u5373\u53ef\u3002$y$ \u8f74\u540c\u7406\u3002\n\n\u5750\u6807\u6700\u5927\u4e3a $10^6$\uff0c\u663e\u7136\u53ef\u4ee5\u5dee\u5206\u3002\u56e0\u4e3a\u5207\u51fa\u6765\u9762\u79ef\u8981\u5927\u4e8e $0$\uff0c\u8fd9\u91cc\u7684\u5dee\u5206\u662f\u4e0d\u5305\u542b\u5de6\u53f3\u65ad\u70b9\u7684\uff0c\u6240\u4ee5\u52a0\u51cf\u7684\u65f6\u5019\u90fd\u5f80\u91cc\u9762\u7f29\u4e00\u683c\u3002\n\n\u4e8e\u662f $O(n)$ \u89e3\u51b3\u3002\n\n```cpp\nconst int N=1000010;\nint X[N],Y[N],n,m,mx1,mx2;\nint main()\n{\n\tn=read();\n\twhile(n--)\n\t{\n\t\tint a=N,b=0,c=N,d=0;\n\t\tfor(int i=1;i<=3;i++)\n\t\t{\n\t\t\tint x=read(),y=read();\n\t\t\ta=min(a,x),b=max(b,x),c=min(c,y),d=max(d,y);\n\t\t\tmx1=max(mx1,x),mx2=max(mx2,y);\n\t\t}\n\t\tX[a+1]++,X[b]--,Y[c+1]++,Y[d]--;\n\t}\n\tfor(int i=0;i<=mx1+1;i++)X[i]+=X[i-1];\n\tfor(int i=0;i<=mx2+1;i++)Y[i]+=Y[i-1];\n\tm=read();\n\twhile(m--)\n\t{\n\t\tchar s;cin>>s;\n\t\tint x=read();\n\t\tif(s=='x')printf(\"%d\\n\",X[x]);\n\t\tif(s=='y')printf(\"%d\\n\",Y[x]);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1643897892,
        "uid": 246979,
        "name": "SalomeJLQ",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P4623 BUREK \u5dee\u5206"
    },
    {
        "content": "#### \u5f15\u8a00\uff1a\n\u8fd9\u9053\u9898\u770b\u9898\u89e3\u8fd8\u6ca1\u6709\u5206\u5757\u7684\u65b9\u6cd5\uff0c\u6211\u5c31\u6765\u4e00\u53d1\u5206\u5757\u5427\u3002\n#### \u601d\u8def\uff1a\n\u6211\u4eec\u53ef\u4ee5\u5b58\u4e0b\u6bcf\u4e2a\u4e09\u89d2\u5f62\u7684\u6700\u5927\u548c\u6700\u5c0f\u7684\u4e0a\u4e0b\u5de6\u53f3\u7aef\u70b9\uff0c\u7136\u540e\u628a\u5728\u8fd9\u4e9b\u7aef\u70b9\u4e4b\u95f4\u7684\u533a\u95f4\u52a01\uff0c\u6700\u540e\u76f4\u63a5\u8f93\u51fa\u8f93\u5165\u7684\u5750\u6807\u5bf9\u5e94\u7684\u6570\u7ec4\uff08\u5b8c\u6574\u5757+\u4e0d\u5b8c\u6574\u5757\uff09\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u73b0\u5728\u4ecb\u7ecd\u4e00\u4e0b\u5206\u5757\uff1a\n\n\u5206\u5757\uff0c\u662f\u4e00\u79cd\u53ef\u4ee5\u8bf4\u662f\u76f8\u5f53\u66b4\u529b\u7684\u601d\u60f3\u3002\n\n\u5206\u5757\u7b97\u6cd5\u7684\u601d\u60f3\u662f\u901a\u8fc7\u9002\u5f53\u7684\u5212\u5206\uff0c\u9884\u5904\u7406\u4e00\u90e8\u5206\u4fe1\u606f\u4fdd\u5b58\u4e0b\u6765\uff0c\u7528\u7a7a\u95f4\u6362\u53d6\u65f6\u95f4\uff0c\u8fbe\u5230\u65f6\u7a7a\u5e73\u8861\u3002\n\n\u57fa\u672c\u64cd\u4f5c\u662f\uff1a\u5c06\u4e00\u6bb5\u5e8f\u5217\uff0c\u5206\u6210\u4e00\u5b9a\u6570\u91cf\u7684\u5757\uff0c\u6bcf\u4e00\u5757\u6709\u4e00\u4e2a\u957f\u5ea6\uff0c\u8868\u793a\u4e00\u6bb5\u533a\u95f4\u3002\u5bf9\u4e8e\u533a\u95f4\u64cd\u4f5c\uff0c\u901a\u8fc7\u5bf9\u5b8c\u6574\u5757\u7684\u6574\u4f53\u64cd\u4f5c\u548c\u5bf9\u4e0d\u5b8c\u6574\u5757\u7684\u66b4\u529b\u64cd\u4f5c\u800c\u4f7f\u590d\u6742\u5ea6\u5c3d\u53ef\u80fd\u7684\u4f4e\u3002\n\n#### Code\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint m,lin,ax,ay,bx,by,cx,cy,lrk[1000005],udk[1000005],n,mu,md,ml,mr,x[1000005],y[1000005];\nchar l1,l2;\nint main(){\n\t//freopen(\"burek.in\",\"r\",stdin);\n\t//freopen(\"burek.out\",\"w\",stdout);\n\tcin>>n;\n\tfor(int j=1;j<=n;j++){\n\t\tcin>>ax>>ay>>bx>>by>>cx>>cy;\n\t\tmd=min(ay,min(by,cy))+1;\n\t\tmu=max(ay,max(by,cy));\n\t\tml=min(ax,min(bx,cx))+1;\n\t\tmr=max(ax,max(bx,cx));\n\t\tfor(int i=ml;i<mr;i++){\n\t\t\twhile(i%1000==0&&i+1000<mr){\n\t\t\t\tlrk[i/1000+1]++;\n\t\t\t\ti+=1000;\n\t\t\t}\n\t\t\tx[i]++;\n\t\t}\n\t\tfor(int i=md;i<mu;i++){\n\t\t\twhile(i%1000==0&&i+1000<mu){\n\t\t\t\tudk[i/1000+1]++;\n\t\t\t\ti+=1000;\n\t\t\t}\n\t\t\ty[i]++;\n\t\t}\n\t}\n\tcin>>m;\n\tfor(int i=1;i<=m;i++){\n\t\tcin>>l1>>l2>>lin;\n\t\tif(l1=='x'){\n\t\t\tcout<<x[lin]+lrk[lin/1000+1]<<endl;\n\t\t}else{\n\t\t\tcout<<y[lin]+udk[lin/1000+1]<<endl;\n\t\t}\n\t}\n}\n```\n",
        "postTime": 1659320000,
        "uid": 212423,
        "name": "FrozenDream",
        "ccfLevel": 4,
        "title": "P4623\u9898\u89e3"
    },
    {
        "content": "\u9898\u89e3\u533a\u548b\u5168\u662f\u6811\u72b6\u6570\u7ec4\uff0c\u5b8c\u5168\u53ef\u4ee5\u4e0d\u7528\u7684\u8bf4\u3002\n\n\u901a\u8fc7\u8bfb\u9898\u53ef\u4ee5\u53d1\u73b0\uff0c\u5904\u7406\u76f4\u7ebf $ \\text{x=i}$ \u4e0e\u5904\u7406\u76f4\u7ebf $\\text{y=i}$ \u7684\u65b9\u6cd5\u662f\u4e00\u6837\u7684\uff0c\u6240\u4ee5\u4ee5\u4e0b\u9898\u89e3\u4ee5 $\\text{y=i}$ \u4e3a\u4f8b\u5b50\u8ba8\u8bba\u3002\n\n\u9996\u5148\u4e0d\u96be\u53d1\u73b0\u4e00\u4e2a\u6027\u8d28\uff0c\u76f4\u7ebf $\\text{y=i}$ \u5408\u6cd5\u5f53\u4e14\u4ec5\u5f53 $\\min\\{y_1,y_2,y_3\\} \\le i \\le \\max \\{y_1,y_2,y_3\\}$ \u3002\n\n\u90a3\u4e0d\u96be\u60f3\u51fa\u4e00\u4e2a\u590d\u6742\u5ea6\u4e3a $O(n\\times m)$ \u7684\u66b4\u529b\u3002\n\n\u8003\u8651\u4f18\u5316\u4e00\u4e0b\u8fd9\u4e2a\u66b4\u529b\uff0c\u6211\u4eec\u53ef\u4ee5\u4e00\u5f00\u59cb\u9884\u5904\u7406\u51fa\u5728 $\\min\\{y_1,y_2,y_3\\} \\le i \\le \\max \\{y_1,y_2,y_3\\}$ \u5185\u7684\u6240\u6709\u503c\uff0c\u7528\u6876\u5b58\u50a8\u4e00\u4e0b\uff0c\u7136\u540e $O(1)$ \u67e5\u8be2\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$ \u3002\n\n\u73b0\u5728\u8fd8\u662f\u591f\u4e0d\u53bb\uff0c\u90a3\u600e\u4e48\u529e\u5462\uff1f\u6211\u4eec\u8003\u8651\u4f18\u5316\u9884\u5904\u7406\u90e8\u5206\u3002\n\n\u663e\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5dee\u5206\uff0c\u5229\u7528\u5dee\u5206\u6570\u7ec4\u7684\u524d\u7f00\u548c\u5c31\u662f\u539f\u6570\u7ec4\u8fd9\u4e2a\u6027\u8d28\u53ef\u4ee5\u5f88\u597d\u5730\u8fd8\u539f\u51fa\u539f\u6570\u7ec4\u3002\n\n\u4e00\u5f00\u59cb\u7684\u65f6\u5019\u628a $\\min\\{y_1,y_2,y_3\\}+1$ \u548c $\\max \\{y_1,y_2,y_3\\}$ \u4e22\u8fdb\u6876\u91cc\uff0c\u7b49\u5230\u5faa\u73af\u7ed3\u675f\u540e\u518d\u8dd1\u4e00\u904d\u524d\u7f00\u548c\u5373\u53ef\u3002\n\n\u7531\u4e8e $y_i$ \u7684\u503c\u53ef\u4ee5\u8fbe\u5230 $10^6$ \uff0c\u6240\u4ee5\u8dd1\u524d\u7f00\u548c\u7684\u65f6\u5019\u8981\u4ece $1$ \u8dd1\u5230 $10^6$ \u3002\n\n\u6700\u540e $O(1)$ \u67e5\u8be2\u3002\n\n\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u5728 $10^6$ \u5de6\u53f3\uff0c\u53ef\u8fc7\u3002",
        "postTime": 1657849217,
        "uid": 369904,
        "name": "zplqwq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4623 [COCI2012-2013#6] BUREK"
    },
    {
        "content": "~~\u672c\u9898\u770b\u4e0a\u53bb\u975e\u5e38\u5413\u4eba\u554a~~\n\n\u7136\u800c\u5e76\u4e0d\u662f\u8fd9\u6837\u3002\u3002\u3002\n\n\u5176\u5b9e\u4e00\u6761\u76f4\u7ebf\u5224\u65ad\u662f\u5426\u7a7f\u8fc7\u4e00\u4e2a\u4e09\u89d2\u5f62\uff0c\u53ea\u9700\u8981\u4e0e\u4e09\u89d2\u5f62\u4e2d\u7684\u8282\u70b9\u7684\u5de6\u53f3\u7aef\u70b9\u6bd4\u8f83\uff0c\u82e5\u5305\u542b\u4e8e\u6b64\uff0c\u5219\u8bf4\u660e\u8fd9\u6761\u76f4\u7ebf\u53ef\u4ee5\u7a7f\u8fc7\u8fd9\u4e2a\u4e09\u89d2\u5f62\u3002\n\n> $1$\u3001 $x=c$\u7c7b\u578b\uff0c\u53ea\u9700\u8981\u5224\u65ad\u662f\u5426\u6ee1\u8db3$min(x1,x2,x3)<c<max(x1,x2,x3)$\u3002\u82e5\u6ee1\u8db3\u5219\u53ef\u4ee5\u7a7f\u8fc7\u3002\n\n>$ 2$\u3001$y=c$\u7c7b\u578b\uff0c\u53ea\u9700\u8981\u5224\u65ad\u662f\u5426\u6ee1\u8db3$min(y1,y2,y3)<c<max(y1,y2,y3)$\u3002\u82e5\u6ee1\u8db3\u5219\u53ef\u4ee5\u7a7f\u8fc7\u3002\n\n\u7ed9\u4e00\u5f20\u56fe\u5927\u5bb6\u53ef\u4ee5\u597d\u7406\u89e3\u4e00\u4e0b\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/eqevnc3l.png)\n\n\u6545\u5f88\u663e\u7136\u53ea\u9700\u8981\u533a\u95f4\u4fee\u6539$[min(x1,x2,x3)+1,max(x1,x2,x3)-1]$\u5355\u70b9\u67e5\u8be2$c$\u5373\u53ef\u3002\n\n\uff08\u4e3a\u4ec0\u4e48\u9898\u89e3\u91cc\u6ca1\u6709\u7ebf\u6bb5\u6811\u5462\uff1f\u672c\u4eba\u672a\u6ce8\u610f\u5230\u8fd9\u9898\u662f\u79bb\u7ebf\u64cd\u4f5c\uff0c\u6545\u4f7f\u7528\u4e86\u7ebf\u6bb5\u6811\uff0c\u6d1b\u8c37\u4f1a\u56e0\u4e3a\u7a7a\u95f4\u4e0d\u8db3\u800c\u70b8\u6389\u3002\u6548\u7387\u4e5f\u6ca1\u6709\u5dee\u5206\u6570\u7ec4\u9ad8\u3002\u82e5\u6b64\u9898\u662f\u5728\u7ebf\u64cd\u4f5c\uff0c\u90a3\u4e48\u7ebf\u6bb5\u6811\u5c31\u662f\u6b63\u89e3\u3002\uff09\n\n\u4f46\u662f\u8fd8\u662f\u8d34\u4e0a\u4ee3\u7801\uff0c\u4ec5\u4f9b\u559c\u6b22\u7ebf\u6bb5\u6811\u7684$OIer$\u53c2\u8003\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define N 100100\n#define maxn 1001000\n#define x1 xadsfa\n#define y1 fdasdf\n#define x2 dadfa\n#define y2 dfas\n#define x3 dfasdg\n#define y3 dsfag\nusing namespace std;\nint x1[N],y1[N],x2[N],y2[N],x3[N],y3[N],n,q,x,y,ans;\nint l,r;\nstruct node{\n\tint w,f;\n}treex[maxn<<2],treey[maxn<<2];\ntemplate <typename T> void read(T &x) {\nx = 0; char c = getchar();int f=1;\nfor (; !isdigit(c); c = getchar())if (c=='-') f=-1;\nfor (; isdigit(c); c = getchar()) x = x * 10 + c - '0';\nx*=f;\n}\nint minn(int x,int y,int z)\n{\n\tint mi=x;\n\tif (mi>y) mi=y;\n\tif (mi>z) mi=z;\n\treturn mi;\n}\nint maxx(int x,int y,int z)\n{\n\tint ma=x;\n\tif (ma<y) ma=y;\n\tif (ma<z) ma=z;\n\treturn ma; \n}\nvoid addx(int k,int t,int w)\n{\n\tif (l<=t && w<=r)\n\t  {\n\t  \ttreex[k].f++;\n\t  \ttreex[k].w=treex[k].w+w-t+1;\n\t  \treturn;\n\t  }\n\tint mid=(t+w)>>1;\n\tif (l<=mid) addx(k*2,t,mid);\n\tif (r>mid) addx(k*2+1,mid+1,w);\n\ttreex[k].w=treex[k*2].w+treex[k*2+1].w;\n}\nvoid addy(int k,int t,int w)\n{\n\tif (l<=t && w<=r)\n\t  {\n\t  \ttreey[k].f++;\n\t  \ttreey[k].w=treey[k].w+w-t+1;\n\t  \treturn;\n\t  }\n\tint mid=(t+w)>>1;\n\tif (l<=mid) addy(k*2,t,mid);\n\tif (r>mid) addy(k*2+1,mid+1,w);\n\ttreey[k].w=treey[k*2].w+treey[k*2+1].w;\n}\nvoid pushdownx(int k,int l1,int r1,int l2,int r2)\n{\n\ttreex[k*2].w+=(treex[k].f*(r1-l1+1));\n\ttreex[k*2+1].w+=(treex[k].f*(r2-l2+1));\n\ttreex[k*2].f+=treex[k].f;\n\ttreex[k*2+1].f+=treex[k].f;\n\ttreex[k].f=0;\n}\nvoid askx(int k,int t,int w)\n{\n\tif (t==w)\n\t  {\n\t  \tans=treex[k].w;\n\t  \treturn;\n\t  }\n\tint mid=(t+w)>>1;\n\tif (treex[k].f) pushdownx(k,t,mid,mid+1,w);\n\tif (x<=mid) askx(k*2,t,mid);\n\telse askx(k*2+1,mid+1,w); \n}\nvoid pushdowny(int k,int l1,int r1,int l2,int r2)\n{\n\ttreey[k*2].w+=(treey[k].f*(r1-l1+1));\n\ttreey[k*2+1].w+=(treey[k].f*(r2-l2+1));\n\ttreey[k*2].f+=treey[k].f;\n\ttreey[k*2+1].f+=treey[k].f;\n\ttreey[k].f=0;\n}\nvoid asky(int k,int t,int w)\n{\n\tif (t==w)\n\t  {\n\t  \tans=treey[k].w;\n\t  \treturn;\n\t  }\n\tint mid=(t+w)>>1;\n\tif (treey[k].f) pushdowny(k,t,mid,mid+1,w);\n\tif (y<=mid) asky(k*2,t,mid);\n\telse asky(k*2+1,mid+1,w); \n}\nint main()\n{\nread(n);\nfor (int i=1;i<=n;i++)\n  read(x1[i]),read(y1[i]),read(x2[i]),read(y2[i]),read(x3[i]),read(y3[i]);\nread(q);\nif (q<=300)\n{\nwhile (q--)\n  {\n  \tchar c=getchar();\n  \twhile (c!='x' && c!='y') c=getchar();\n  \tif (c=='x')\n  \t  {\n  \t  \tc=getchar();\n  \t  \tread(x);\n  \t  \tans=0;\n  \t  \tfor (int i=1;i<=n;i++)\n  \t  \t  if ((x1[i]<x && x<x2[i]) || (x2[i]<x && x<x1[i]) || (x1[i]<x && x<x3[i]) || \n\t\t\t  (x3[i]<x && x<x1[i]) || (x3[i]<x && x<x2[i]) || (x2[i]<x && x<x3[i]) )\n\t\t\t  ans++;\n\t\tprintf(\"%d\\n\",ans);\n\t\t}\n  \tif (c=='y')\n  \t  {\n  \t  \tc=getchar();\n  \t  \tread(y);\n  \t  \tans=0;\n  \t  \tfor (int i=1;i<=n;i++)\n  \t  \t  if ((y1[i]<y && y<y2[i]) || (y2[i]<y && y<y1[i]) || (y1[i]<y && y<y3[i]) || \n\t\t\t  (y3[i]<y && y<y1[i]) || (y3[i]<y && y<y2[i]) || (y2[i]<y && y<y3[i])  )\n\t\t\t  ans++;\n\t\tprintf(\"%d\\n\",ans);\n\t\t}\n  }\nreturn 0;\n}\nfor (int i=1;i<=n;i++)\n  {\n  \tl=minn(x1[i],x2[i],x3[i])+1;\n  \tr=maxx(x1[i],x2[i],x3[i])-1;\n  \tif (l<=r) addx(1,0,maxn-1000);\n  \tl=minn(y1[i],y2[i],y3[i])+1;\n  \tr=maxx(y1[i],y2[i],y3[i])-1;\n  \tif (l<=r) addy(1,0,maxn-1000);\t\n  }\nwhile (q--)\n  {\n  \tchar c=getchar();\n  \twhile (c!='x' && c!='y') c=getchar();\n  \tif (c=='x')\n  \t  {\n  \t  \tc=getchar();\n  \t  \tread(x);\n  \t  \tans=0;\n  \t  \taskx(1,0,maxn-1000);\n\t\t}\n  \tif (c=='y')\n  \t  {\n  \t  \tc=getchar();\n  \t  \tread(y);\n  \t  \tans=0;\n  \t  \tasky(1,0,maxn-1000);\n\t\t}\n\tprintf(\"%d\\n\",ans);\n  }\nreturn 0;\n}\n```\n\n\n",
        "postTime": 1603627199,
        "uid": 119685,
        "name": "Kevin_Wa",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4623 \u3010[COCI2012-2013#6] BUREK\u3011"
    },
    {
        "content": "## \u8fd9\u9053\u9898\u76ee\u6811\u72b6\u6570\u7ec4+\u5dee\u5206\u5373\u53ef\u4ee5\u8fc7\u4e86\n\n## \u90a3\u4e48\u4ec0\u4e48\u662f\u6811\u72b6\u6570\u7ec4?\n\n\u7ed9\u51fa\u4e00\u4e2a\u6570\u7ec4\uff0c\u8981\u6c42\u67e5\u8be2\u4efb\u610f\u533a\u95f4\u548c\uff0c\u4e14\u80fd\u5355\u70b9\u66f4\u65b0\u3002\u6211\u4eec\u7528\u6811\u72b6\u6570\u7ec4\u89e3\u51b3\u3002\n\n\u6811\u72b6\u6570\u7ec4\u7684\u6838\u5fc3\u5f88\u7b80\u5355\uff0c\u662f\u4e00\u4e2a\u6570\u5b66\u4e8b\u5b9e\uff1a\u4efb\u4f55\uff08\u5341\u8fdb\u5236)\u6570\u90fd\u53ef\u4ee5\u88ab2\u7684\u6b21\u5e42\u4e4b\u548c\u8868\u793a\u3002\u4f8b\u5982\uff0c13=8+4+1\uff0c21=16+4+1\uff0c\u2026\n\n\u8fd9\u5c31\u63d0\u4f9b\u4e86\u4fbf\u5229\uff1a\u60f3\u8981\u67e5\u8be21\u523013\u7684\u533a\u95f4\u548c\uff08\u4e0b\u8bb0\u4e3aS[1\u202613])\uff0c\u53ea\u8981\u6c42S[1\u20268]\u3001S[9\u202612]\u3001S[13\u202613]\uff0c\u5b83\u4eec\u7684\u957f\u5ea6\u4e5f\u5373\u7b26\u540813=8+4+1\u3002\n\n\u540c\u6837\u7684\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u4fbf\u6377\u7684\u5199\u6cd5\u6c42\u51fa\u4e00\u4e2a\u6570\u7684\u4e8c\u6b21\u5e42\u8868\u793a\uff1a\n\n\u89c1\u4ee3\u7801\uff1a\n```cpp\nint lowbit(int x){return x&-x;}\n```\n\n\u6811\u72b6\u6570\u7ec4\u5165\u95e8\u7684\u8bdd\u8bf7\u770b\u8fd9\u4e2a\u535a\u5ba2\uff0c\u4ed6\u4ecb\u7ecd\u5f97\u597d\uff0c\u6211\u5c31\u4e0d\u8d58\u8ff0\u4e86\u3002\u633a\u597d\u7684\uff1a[\u70b9\u8fd9\u91cc](https://blog.csdn.net/iwts_24/article/details/82497026)\n\n\u5dee\u5206\u7684\u8bdd\u53ef\u4ee5\u4ecb\u7ecd\u4e00\u4e0b\uff0c\u7f51\u7edc\u4e0a\u535a\u5ba2\u4e0d\u662f\u7279\u522b\u591a\u3002\n\n\u5dee\u5206\u5176\u5b9e\u7279\u522b\u7684\u7b80\u5355\uff0c\u7c7b\u4f3c\u4e8e\u8fd9\u6837:s[1]=a[1]-a[2],s[2]=a[2]-a[3]\n\n\u6211\u4eec\u8981\u6c42\u539f\u6570\u7ec4\u4e2d\u7684\u7b2ci\u4e2a\u6570\uff0c\u5c31\u53ea\u8981\u6c42\u51fas[1]+s[2]+...+s[i]\n\n\u5c31\u662f\u8fd9\u4e48\u7b80\u5355\u3002\n\n\u8fd9\u9053\u9898\u76ee\uff1a\n\n\u9996\u5148\u6211\u4eec\u627e\u51fa\u4e00\u4e2a\u4e09\u89d2\u5f62\u9876\u70b9\u4e2d\uff0cx\u503c\u6700\u5927\u7684maxx,\u4ee5\u53cax\u503c\u6700\u5c0f\u7684minx\u8fd8\u6709y\u6700\u5927\u7684maxy\uff0c\u6700\u5c0f\u7684miny\uff0c\u7136\u540e\u7528\u4e24\u4e2a\u6811\u72b6\u6570\u7ec4\u7ef4\u62a4c0\u4ee5\u53cac1\u5c31\u597d\u4e86\n\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nstruct node{int x,x2,x3,y,y2,y3;}t[100000+5];\nint c0[2000000+5],c1[2000000+5],n;\nint C(int x){return x&-x;}\nint add(int *c,int x,int k){while(x <= 1000000 )c[x]+=k,x+=C(x);}\nint get(int *c,int x){int ans=0;while( x != 0)ans+=c[x],x-=C(x);return ans;}\nint main(){\n\tint i,j,k,m,maxx,maxy,minx,miny,sum;\n\tchar p,ll;\n\tcin>>n;\n\tfor ( i = 1 ; i <= n; i ++){\n\t\tmaxx=0,maxy=0,minx=0x7fffff,miny=0x7fffff;\n\t\tcin>>t[i].x>>t[i].y>>t[i].x2>>t[i].y2>>t[i].x3>>t[i].y3;\n\t\tmaxx=max(t[i].x,t[i].x2);maxx=max(maxx,t[i].x3);\n\t\tmaxy=max(t[i].y,t[i].y2);maxy=max(maxy,t[i].y3);\n\t\tminx=min(t[i].x,t[i].x2);minx=min(minx,t[i].x3);\n\t\tminy=min(t[i].y,t[i].y2);miny=min(miny,t[i].y3);\n\t\tadd(c0,maxx,-1);add(c1,maxy,-1);\n\t\tadd(c0,minx+1,1);add(c1,miny+1,1);\n\t}\n\tcin>>m;\n\tfor ( i = 1 ; i <= m; i ++){\n\t\tcin>>p;cin>>ll;cin>>sum;\n\t\tif( p == 'x')cout<<get(c0,sum)<<endl;\n\t\telse if( p == 'y')cout<<get(c1,sum)<<endl;\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1563867210,
        "uid": 67817,
        "name": "MuYC",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4623 \u3010[COCI2012-2013#6] BUREK\u3011"
    },
    {
        "content": "\u4e0a\u9762\u534a\u6b65\u98a0\u5de8\u4f6c\u601d\u8def\u8bf4\u7684\u975e\u5e38\u543c\u54c7\n\u00a0\n\u6838\u5fc3\u5c31\u662f\u56e0\u4e3a\u6bcf\u6761\u76f4\u7ebf\u4e0e\u5750\u6807\u8f74\u5e73\u884c\uff0c\u6240\u4ee5\u8981\u662f\u7a7f\u8fc7\u4e09\u89d2\u5f62\u76f8\u5f53\u4e8e\u7a7f\u8fc7\u4e00\u4e2a\u77e9\u5f62\n\n\uff08\u534a\u6b65\u766b\u4f6c\u660e\u5e74sdoi\u7701\u961f\u961f\u957f\u9884\u5b9a\uff0c\u5148%\u4e3a\u656c\uff09\n\n\u6211\u60f3\u5f53\u4f60\u70b9\u5f00\u8fd9\u4e2a\u84dd\u9898\uff0c\u663e\u7136\u4f1a\u524d\u7f00\u548c\u64cd\u4f5c\u4e86\n\n\uff08\u5982\u679c\u4e0d\u4f1a\uff0c\u53c2\u8003\u4e00\u4e0b\u94fe\u63a5\uff0c\u6211\u89c9\u5f97\u5199\u7684\u4e0d\u9519\uff09\n\nhttp://www.cnblogs.com/OIerShawnZhou/p/7348088.html\n\n\u8fd9\u4e2a\u9898\u5bf9\u524d\u7f00\u548c\u64cd\u4f5c\u6709\u4e9b\u5c0f\u7ec6\u8282\uff0c\u4e0b\u9762\u4ee5\u6837\u4f8b1\u4e3a\u4f8b\n\n\u5de6\u4e0b\u89d2\u90a3\u4e2a\u5c0f\u4e09\u89d2\u5f62\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u6761\u5e73\u884c\u4e8ey\u8f74\u7684\u76f4\u7ebf\uff0c\u53ea\u6709x=1\u7a7f\u8fc7\uff0c\u4ed6\u7684x\u8f74\u65b9\u5411\u4e0a\u754c\u4e3a3\u4e0b\u754c\u4e3a1\uff0c\u6240\u4ee5\u5904\u7406\u524d\u7f00\u548c\u5e94\u8be5\u662fa[x+1]++\uff0ca[y]--\uff08\u60f3\u4e00\u60f3\uff0c\u4e3a\u4ec0\u4e48\uff09\n\n![](https://cdn.luogu.com.cn/upload/pic/21239.png)\n\n\u4e0b\u9762\u7ed9\u51fa\u5b8c\u6574\u4ee3\u7801\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<iostream>\nusing namespace std;\nint x[1000000];//\u524d\u7f00\u548c\u6570\u7ec4 \nint xx[1000000];//\u5dee\u5206\u6570\u7ec4 \nint y[1000000];\nint yy[1000000];\nint n,m,q;\nchar a[5];\nint main()\n{\n\tscanf(\"%d\",&n);\n\twhile(n--)\n\t{\n\t\tint x1,x2,x3,y1,y2,y3,lx,ly,rx,ry;\n\t\t//xi,yi\u662f\u5750\u6807,lx,rx\u662fx\u4e0a\u4e0b\u754c,\u540c\u7406ly,ry \n\t\tscanf(\"%d%d%d%d%d%d\",&x1,&y1,&x2,&y2,&x3,&y3);\n\t\tlx=min(x1,min(x2,x3));\n\t\tly=min(y1,min(y2,y3));\n\t\trx=max(x1,max(x2,x3));\n\t\try=max(y1,max(y2,y3));\n\t\tx[lx+1]++;//\u524d\u7f00\u548c\n\t\tx[rx]--;\n\t\ty[ly+1]++;\n\t\ty[ry]--;\n\t}\n\tfor(int i=1;i<=1000000;i++)\n\t{\n\t\txx[i]=xx[i-1]+x[i];//\u4e00\u5b9a\u8981\u5dee\u5206\u56de\u6765 \n\t\tyy[i]=yy[i-1]+y[i];\n\t}\n\tscanf(\"%d\",&m);\n\twhile(m--)\n\t{\n\t\tcin>>a[1]>>a[2]>>q;\n\t\t//\u8f93\u5165\u7684\u9a9a\u64cd\u4f5c,\u4f1a\u81ea\u52a8\u5ffd\u7565\u7a7a\u683c\u6240\u4ee5\u53ef\u884c \n\t\tif(a[1]=='x')\n\t\tprintf(\"%d\\n\",xx[q]);\n\t\telse\n\t\tprintf(\"%d\\n\",yy[q]);\n\t}\n\treturn 0;\n}\n```\n\n(p.s.\u534a\u6b65\u98a0\u5927\u4f6c\u592a\u5f3a\u5566)",
        "postTime": 1529155770,
        "uid": 39908,
        "name": "\u308a\u3085\u3046\u3053\u305b\u3044",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4623 \u3010[COCI2012-2013#6] BUREK\u3011"
    },
    {
        "content": "\u5bf9\u4e8e\u67d0\u4e2a\u4e2a\u4e09\u89d2\u5f62\uff0c\u5f53\u4e00\u6761\u76f4\u7ebf\u5728\u5b83\u7684\u6700\u5de6\u70b9\u6216\u6700\u53f3\u70b9\u4e4b\u95f4\uff08y=xxx\u5728\u6700\u4e0a\u70b9\u4e0e\u6700\u4e0b\u70b9\u4e4b\u95f4\uff09\u65f6\u5219\u89c6\u4e3a\u7a7f\u8fc7\uff08\u4e0d\u5305\u62ec\u9876\u70b9\uff0c\u52a0\u4e0a\u9876\u70b9\u4f1a**\u5495\u5495**\u6389\uff09\u3002\n\n\u6240\u4ee5\uff0c\u5c06\u6bcf\u4e2a\u4e09\u89d2\u884c\u7684\u6700\u4e0a\u6700\u4e0b\u548c\u6700\u5de6\u6700\u53f3\u8fd9\u4e24\u533a\u95f4\u52a0\u4e00\uff0c\u8bbf\u95ee\u65f6\u67d0\u4e2a\u70b9\u88ab\u8986\u76d6\u6b21\u6570\u5c31\u662f\u7b54\u6848\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u7ed9X\u8f74\u548cY\u8f74\u5206\u522b\u5efa\u6811\u72b6\u6570\u7ec4\uff08\u7528\u524d\u7f00\u548c\u505a\u4e5f\u53ef\u4ee5\uff0c\u7ebf\u6bb5\u6811\u4f1a\u7206\u7a7a\u95f4\uff09\uff0c\u6bcf\u6b21\u533a\u95f4\u52a0\u4e00\uff0c\u6700\u540e\u5355\u70b9\u67e5\u8be2\u5373\u53ef\u3002\n\n### \u849f\u84bb\u7684\u4e11\u4ee3\u7801\u2192  \n```cpp\n#include<iostream>\n#include<cstring>\nusing namespace std;\nint n,m,x1,x2,x3,y1,y2,y3,maxx,maxy,minx,miny,b[1000150],bb[1000100],ans;\nint lowbit(int x)\n{\n    return x&-x;\n}\nvoid addss(int x,int k)\n{\n    while(x<=1000010)\n    {\n        b[x]+=k;\n        x+=lowbit(x);\n    }\n}\nint query(int x)\n{\n    int s=0;\n    while(x>0)\n    {\n        s+=b[x];\n        x-=lowbit(x);\n    }\n    return s;\n}\nvoid addsss(int x,int k)\n{\n    while(x<=1000010)\n    {\n        bb[x]+=k;\n        x+=lowbit(x);\n    }\n}\nint querys(int x)\n{\n    int s=0;\n    while(x>0)\n    {\n        s+=bb[x];\n        x-=lowbit(x);\n    }\n    return s;\n}\nint main()\n{\n    cin>>n;\n    for(int i=1;i<=n;i++)\n    {\n        cin>>x1>>y1>>x2>>y2>>x3>>y3;\n        maxx=max(x1+1,x2+1);\n        maxx=max(maxx,x3+1);\n        maxy=max(y1+1,y2+1);\n        maxy=max(maxy,y3+1);\n        minx=min(x1+1,x2+1);\n        minx=min(minx,x3+1);\n        miny=min(y1+1,y2+1);\n        miny=min(miny,y3+1);\n        if(maxx-minx>1)\n        {\n            addss(maxx,-1);\n            addss(minx+1,1);\n        }\n        if(maxy-miny>1)\n        {\n            addsss(maxy,-1); \n            addsss(miny+1,1);\n        }\n    }\n    cin>>m;\n    char a[5];\n    int s;\n    for(int i=1;i<=m;i++)\n    {\n        ans=0;\n        cin>>a[1]>>a[2]>>s;\n        if(a[1]=='x')\n        {\n            ans=query(s+1);\n            cout<<ans<<endl;\n        }\n        else{\n            ans=querys(s+1);\n            cout<<ans<<endl;         \n        }\n    }\n    return 0;\n}\n```",
        "postTime": 1527780425,
        "uid": 60208,
        "name": "\u542b\u7b11\u534a\u6b65\u766b",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P4623 \u3010[COCI2012-2013#6] BUREK\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P4623)\n\n\u8fd9\u9053\u9898\u6709\u5f88\u591a\u89e3\u6cd5\uff0c\u6709\u6811\u72b6\u6570\u7ec4\u7684\uff0c\u6709\u7ebf\u6bb5\u6811\u7684\uff0c\u4f46\u90fd\u6709\u5dee\u5206\n\n\u4f46\u5176\u5b9e\u8fd9\u9053\u9898\u4e0d\u7528\u6811\u72b6\u6570\u7ec4\u6216\u7ebf\u6bb5\u6811\u5c31\u53ef\u4ee5\u8fc7\uff0c~~\u6570\u636e\u8fd8\u662f\u5f88\u6c34\u5566~~\n\n### \u5207\u5165\u6b63\u9898\n\u5982\u679c\u7528\u66b4\u529b\u7684\u8bdd\uff0c\u679a\u4e3e\u6bcf\u4e2a\u76f4\u7ebf\uff0c\u627e\u6709\u54ea\u4e9b\u4e09\u89d2\u5f62\u7b26\u5408\u6761\u4ef6\uff0c$ans+1$ , \u4f46\u53ea\u80fd\u5f9730pts\n\n\u5982\u679c\u7528 $\\texttt{\u5dee\u5206 + \u524d\u7f00\u548c}$ \u7684\u8bdd,\u90a3\u4e48\u5c31\u5f88\u5feb\u4e86\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4e09\u89d2\u5f62\uff0c\u8bb0\u5f55\u5b83\u6700\u5de6\u8fb9\u548c\u6700\u53f3\u8fb9\u7684\u9876\u70b9\u7684\u6a2a\u5750\u6807\uff0c\u8bb0\u5f55\u5b83\u6700\u4e0a\u9762\u548c\u6700\u4e0b\u9762\u7684\u9876\u70b9\u7684\u7eb5\u5750\u6807\uff0c\n\u5c06 $x[minx+1]$ \u548c $y[miny+1]$ \u90fd\u52a0\u4e0a $1$ , \u5c06 $x[maxx-1]$ \u548c $y[maxy-1]$ \u90fd\u51cf\u53bb $1$ ,\u6700\u540e\u518d\u8fd8\u539f,\u65f6\u95f4\u4e0d\u4f1a\u8d85\u65f6\n\n### AC\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nll n,m,x[1000006],y[1000006],line; \nvoid chax(ll l,ll r){x[l]++,x[r+1]--;}\nvoid chay(int l,int r){y[l]++,y[r+1]--;}\nint main(){\t\n\tscanf(\"%lld\",&n);\n\tfor(int i=1;i<=n;i++){\n\t\tll x1r,y1r,x2r,y2r,x3r,y3r;\n\t\tscanf(\"%lld%lld%lld%lld%lld%lld\",&x1r,&y1r,&x2r,&y2r,&x3r,&y3r);\n\t\tll maxx,maxy,minx,miny;\n\t\tmaxx=max(x1r,max(x2r,x3r));\n\t\tminx=min(x1r,min(x2r,x3r));\n\t\tmaxy=max(y1r,max(y2r,y3r));\n\t\tminy=min(y1r,min(y2r,y3r));\n\t\tif(minx+1<=maxx-1)\n\t\t\tchax(minx+1,maxx-1);\n\t\tif(miny+1<=maxy-1)\n\t\t\tchay(miny+1,maxy-1);\n\t}\n\tfor(int i=1;i<=1000000;i++)\n\t\tx[i]+=x[i-1],y[i]+=y[i-1];\n\tscanf(\"%lld\",&m);\n\tfor(int i=1;i<=m;i++){\n        char c;\n\t    scanf(\"\\n%1c = %lld\",&c,&line);\n\t\tif(c=='x') cout<<x[line]<<endl;\n\t\tif(c=='y') cout<<y[line]<<endl;\n\t}\n\treturn 0;\n}\n```\n\n\u8fd9\u91cc\u4e0d\u4e3b\u8bb2 $\\texttt{\u5dee\u5206 + \u524d\u7f00\u548c}$ \uff0c\u6211\u4eec\u4e3b\u8981\u8bb2\u4e00\u4e0b\u66b4\u529b\u4f18\u5316\n\n~~\u6ca1\u60f3\u5230\u5427\uff0c\u66b4\u529b\u4e5f\u80fd\u8fc7~~\n\n\u5b9e\u5219\u5c31\u662f\u5206\u5757\uff0c\u628a\u4e00\u6bb5\u5206\u6210\u4e00\u5768\u4e00\u5768\u7684\uff0c\u7136\u540e\u518d\u8ba1\u7b97\uff0c\u4f1a\u5feb\u4e00\u70b9\n\n\u6211\u4eec\u8fd9\u91cc\u4ee5 $1000$ \u4e3a\u4e00\u5757\uff0c\u5269\u4e0b\u7684\u770b\u4ee3\u7801\u6ce8\u91ca\uff0c\u66b4\u529b\u8fd8\u662f\u5f88\u597d\u61c2\u7684\u5427\n\n### \u518d\u6b21AC\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h> //\u4e07\u80fd\u5934\n#define ll long long //\u5b9a\u4e49\u7684\u4e00\u4e2a\u5b8f\uff0c\u4e3a\u4e86\u7b80\u4fbf\nusing namespace std;\nll n,m,line;\nll lrk[1006],udk[1006],lr[1000006],ud[1000006];\nchar s,s1;\nint main(){\n\tscanf(\"%lld\",&n);\n\tfor(int j=1;j<=n;j++){\n\t\tll xp1,xp2,xp3,yp1,yp2,yp3;\n\t\tscanf(\"%lld%lld%lld%lld%lld%lld\",&xp1,&yp1,&xp2,&yp2,&xp3,&yp3);\n\t\tll W,E,S,N;\n\t\tW=min(xp1,min(xp2,xp3));//\u8bb0\u5f55\u5f53\u524d\u6700\u5de6\u8fb9\u7684\u4e00\u4e2a\u70b9\n\t\tE=max(xp1,max(xp2,xp3));//\u8bb0\u5f55\u5f53\u524d\u6700\u53f3\u8fb9\u7684\u4e00\u4e2a\u70b9\n\t\tS=min(yp1,min(yp2,yp3));//\u8bb0\u5f55\u5f53\u524d\u6700\u4e0b\u9762\u7684\u4e00\u4e2a\u70b9\n\t\tN=max(yp1,max(yp2,yp3));//\u8bb0\u5f55\u5f53\u524d\u6700\u4e0a\u9762\u7684\u4e00\u4e2a\u70b9\n\t\tfor(int i=W+1;i<E;i++){ \n\t\t\twhile(i%1000==0&&i+1000<E) //\u5206\u5757\n\t\t\t\tlrk[i/1000+1]++,i+=1000; //\u5f53\u524d\u8fd9\u4e2a\u533a\u57df\u5185\u7684\u4e09\u89d2\u5f62\u6570\u91cf\u52a01\n\t\t\tlr[i]++; //\u540c\u4e0a\n\t\t}\n\t\tfor(int i=S+1;i<N;i++){\n\t\t\twhile(i%1000==0&&i+1000<N)//\u540c\u4e0a\n\t\t\t\tudk[i/1000+1]++,i+=1000;\n\t\t\tud[i]++;\n\t\t}\n\t}\n\tscanf(\"%lld\",&m);\n\tfor(int i=1;i<=m;i++){\n\t\tscanf(\"\\n%1c = %lld\",&s,&line);//\u8fd9\u91cc\u8f93\u5165\u8f93\u51fa\u66f4\u7b80\u4fbf\u4e00\u4e9b\n\t\tif(s=='x')\n\t\t\tprintf(\"%lld\\n\",lr[line]+lrk[line/1000+1]);\n         //\u8f93\u51faX\u5750\u6807\u4e3aline\u7684\u4e00\u4e2a\u76f4\u7ebf\u7a7f\u8fc7\u4e86\u51e0\u4e2a\u4e09\u89d2\u5f62\n\t\telse\n\t\t\tprintf(\"%lld\\n\",ud[line]+udk[line/1000+1]);\n         //\u8f93\u51faY\u5750\u6807\u4e3aline\u7684\u4e00\u4e2a\u76f4\u7ebf\u7a7f\u8fc7\u4e86\u51e0\u4e2a\u4e09\u89d2\u5f62\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1659362491,
        "uid": 590600,
        "name": "MoriyaSuwako",
        "ccfLevel": 0,
        "title": "P4623\u9898\u89e3"
    },
    {
        "content": "\u8003\u8651\u628a\u4e8c\u7ef4\u95ee\u9898\u62c6\u5206\u4e3a\u4e24\u4e2a\u4e00\u7ef4\u95ee\u9898\uff0c\u5982\u56fe\uff1a\n\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/mm5klr3i.png)\n\n\u4e00\u7ef4\u751f\u7269\uff1a\u8fd9\u662f\u4e2a\u795e\u9a6c\u4e1c\u897f\uff1f\u6211\u770b\u8d77\u6765\u5c31\u662f\u4e00\u6839\u7ebf\n\n\u6211\u4eec\u7ed9\u4ed6\u964d\u7ef4\u6253\u51fb\u4e00\u4e0b\uff0c\u90a3\u4e48\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\n\n\u2460 \u5982\u679c\u4ece\u4e0a\u9762\u62cd\u762a\uff0c\u90a3\u4e48\u5c31\u662f\u4e00\u6761\u7ebf\uff0c\u5de6\u7aef\u70b9 $x2$\uff0c\u53f3\u7aef\u70b9 $x3$\u3002\n\n\u6709\u4eba\u5c31\u8981\u8bf4\u4e86\uff0c\u90a3\u4e0d\u662f\u8fd8\u6709\u949d\u89d2\u4e09\u89d2\u5f62\uff1f \n\n\u597d\u597d\uff0c\u90a3\u5c31\u662f\u5de6\u7aef\u70b9 $\\min(x1,x2,x3)$ \u53f3\u6bb5\u70b9 $\\max(x1,x2,x3)$ \u3002\n\n\u6709\u4eba\u95ee\u4e3a\u4ec0\u4e48\uff1f\u95ee\u5c31\u662f\u5c01\u95ed\u56fe\u5f62\u3002\n\n\u2461 \u540c\u7406\uff0c\u5982\u679c\u4ece\u5de6\u8fb9\u62cd\u762a\uff0c\u90a3\u4e48\u5de6\u7aef\u70b9\u5c31\u662f $\\min(y1,y2,y3)$\uff0c\u53f3\u7aef\u70b9\u5c31\u662f $\\max(y1,y2,y3)$\n\n\u8003\u8651\u5dee\u5206\u4e00\u4e0b\uff0c\u5982\u679c\u95ee\u7684\u662f\u76f4\u7ebf $x=k$ \uff0c\u90a3\u4e48\u6211\u4eec\u4ece\u4e0a\u62cd\u762a\uff0c\u5c31\u662f\u6709\u591a\u5c11\u7ebf\u6bb5\u8986\u76d6\u4e86\u70b9 $k$\u3002\n\n\u90a3\u4e48\u5982\u679c\u95ee\u7684\u662f $y=k$ \uff0c\u5c31\u4ece\u5de6\u8fb9\u62cd\u762a\uff0c\u540c\u4e0a\u3002\n\n\u4ee3\u7801\u5c31\u4e0d\u7ed9\u4e86",
        "postTime": 1634811000,
        "uid": 486187,
        "name": "2000VOLT",
        "ccfLevel": 0,
        "title": "P4623 \u9898\u89e3"
    },
    {
        "content": "# Link\n[P4623 [COCI2012-2013#6] BUREK](https://www.luogu.com.cn/problem/P4623)\n\n# Solve\n\u5bf9\u4e8e$x$\u548c$y$\u6211\u4eec\u53ef\u4ee5\u5206\u5f00\u770b\uff0c\u6211\u4eec\u5355\u770b$x$\uff0c\u628a$y$\u7684\u90a3\u4e00\u7ef4\u538b\u7f29\u6389\uff0c\u53ef\u4ee5\u770b\u51fa\u5c31\u53d8\u6210\u4e00\u4e2a\u4e00\u7ef4\u7684\u95ee\u9898\uff0c\u5de6\u7aef\u70b9\u4e3amin(x_1,min(x_2,x_3))\uff0c\u53f3\u7aef\u70b9\u4e3amax(x_1,max(x_2,x_3))\u5c31\u53ef\u4ee5\u7528\u4e00\u4e2a\u5dee\u5206\u7684\u60f3\u6cd5\uff0c\u56e0\u4e3a\u7aef\u70b9\u5904\u662f\u4e0d\u8ba1\u6570\u7684\uff0c\u6240\u4ee5\u5728(\u5de6\u7aef\u70b9+1)\u5904+1\uff0c\u5728\u53f3\u7aef\u70b9\u5904-1\uff0c\u7528\u524d\u7f00\u548c\u7edf\u8ba1\u7b54\u6848\u5373\u53ef\uff0c$y$\u7684\u90a3\u4e00\u7ef4\u540c\u7406\u3002\n\n\u6211\u7edf\u8ba1\u524d\u7f00\u548c\u7684\u65f6\u5019\u7528\u4e86\u6811\u72b6\u6570\u7ec4\uff0c\u5b9e\u9645\u4e0a\u662f\u4e0d\u9700\u8981\u7684\uff0c\u76f4\u63a5$O(n)$\u7edf\u8ba1\u5373\u53ef\n\n# Code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=1000005;\nint N,x_1,x_2,x_3,y_1,y_2,y_3,c[2][maxn],Q;\ninline int read(){\n\tint ret=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-f;ch=getchar();}\n\twhile(ch<='9'&&ch>='0')ret=ret*10+ch-'0',ch=getchar();\n\treturn ret*f;\n}\nvoid add_x(int op,int x,int data){\n\tfor(int i=x;i<=1000001;i+=i&-i)c[op][i]+=data;\n\treturn ;\n}\nint get(int op,int x){\n\tint S=0;\n\tfor(int i=x;i;i-=i&-i)S+=c[op][i];\n\treturn S;\n}\nint main(){\n\tN=read();\n\tfor(int i=1;i<=N;i++){\n\t\tx_1=read()+1,y_1=read()+1,x_2=read()+1,y_2=read()+1,x_3=read()+1,y_3=read()+1;\n\t\tadd_x(0,min(x_1,min(x_2,x_3))+1,1);\n\t\tadd_x(0,max(x_1,max(x_2,x_3)), -1);\n\t\tadd_x(1,min(y_1,min(y_2,y_3))+1,1);\n\t\tadd_x(1,max(y_1,max(y_2,y_3)), -1);\n\t}\n\tQ=read();\n\tfor(int i=1;i<=Q;i++){\n\t\tchar op;scanf(\"%c\",&op);\n\t\tint x=read()+1;\n\t\tif(op=='x')printf(\"%d\\n\",get(0,x));\n\t\telse       printf(\"%d\\n\",get(1,x));\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1603795826,
        "uid": 128822,
        "name": "OI\u754c\u7684\u5c0f\u6df7\u6df7",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4623 \u3010[COCI2012-2013#6] BUREK\u3011"
    },
    {
        "content": "\u76f4\u7ebf\u80fd\u7a7f\u8fc7\u4e09\u89d2\u5f62\uff0c\u56e0\u4e3a\u76f4\u7ebf\u662f\u5e73\u884c\u4e8e\u5750\u6807\u8f74\u7684\uff0c\u6240\u4ee5\u5f88\u7b80\u5355\n\n\u4ee5$x=p$\u4e3a\u4f8b\n\n\u82e5\u76f4\u7ebf\u80fd\u7a7f\u8fc7\u67d0\u4e00\u4e2a\u4e09\u89d2\u5f62\uff0c\u90a3\u4e48\u8fd9\u6761\u76f4\u7ebf\u5fc5\u5b9a\u80fd\u7a7f\u8fc7\u4e09\u89d2\u5f62\u7684\u67d0\u4e00\u6761\u8fb9\n\n\u6362\u53e5\u8bdd\u8bf4\uff0c\u4ee4\u4e09\u89d2\u5f62\u4e09\u4e2a\u70b9\u4e2d\u6a2a\u5750\u6807\u6700\u5c0f\u662f$xmin$\uff0c\u6700\u5927\u662f$xmax$\n\n\u5982\u679c$xmin<p<xmax$\uff0c\u76f4\u7ebf\u5c31\u80fd\u7a7f\u8fc7\u8fd9\u4e2a\u4e09\u89d2\u5f62\n\n\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u5dee\u5206\uff0c$d_{xmin+1}++,d_{xmax}--$\n\n\u7136\u540e\u6211\u50bb\u50bb\u7684\u5199\u4e86\u6811\u72b6\u6570\u7ec4\uff0c\u4e0d\u8fc7\u4e5f\u597d\uff0c\u8fd8\u80fd\u652f\u6301\u52a8\u6001\u4fee\u6539\n\nCode\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define maxn 1000010\nusing namespace std;\nint n, tree1[maxn << 1], tree2[maxn << 1];\n\ninline int read(){\n\tint s = 0, w = 1;\n\tchar c = getchar();\n\tfor (; !isdigit(c); c = getchar()) if (c == '-') w = -1;\n\tfor (; isdigit(c); c = getchar()) s = (s << 1) + (s << 3) + (c ^ 48);\n\treturn s * w;\n}\n\nint lowbit(int x){ return x & -x; }\nvoid update1(int x, int y){ for (; x < maxn; x += lowbit(x)) tree1[x] += y; }\nvoid update2(int x, int y){ for (; x < maxn; x += lowbit(x)) tree2[x] += y; }\nint query1(int x){ int s = 0; for (; x; x -= lowbit(x)) s += tree1[x]; return s; }\nint query2(int x){ int s = 0; for (; x; x -= lowbit(x)) s += tree2[x]; return s; }\n\nint main(){\n\tfreopen(\"buerk.in\", \"r\", stdin);\n\tfreopen(\"buerk.out\", \"w\", stdout);\n\tn = read();\n\tfor (int i = 1; i <= n; ++i){\n\t\tint xmax = 0, xmin = maxn - 1, ymax = 0, ymin = maxn - 1;\n\t\tint x = read(), y = read();\n\t\txmax = max(xmax, x), xmin = min(xmin, x), ymax = max(ymax, y), ymin = min(ymin, y);\n\t\tx = read(), y = read();\n\t\txmax = max(xmax, x), xmin = min(xmin, x), ymax = max(ymax, y), ymin = min(ymin, y);\n\t\tx = read(), y = read();\n\t\txmax = max(xmax, x), xmin = min(xmin, x), ymax = max(ymax, y), ymin = min(ymin, y);\n\t\tupdate1(xmin + 1, 1), update1(xmax, -1), update2(ymin + 1, 1), update2(ymax, -1);\n\t}\n\tint m = read();\n\twhile (m--){\n\t\tchar c = getchar();\n\t\tfor (; c != 'x' && c != 'y'; c = getchar());\n\t\tint x = read();\n\t\tif (c == 'x') printf(\"%d\\n\", query1(x));\n\t\telse printf(\"%d\\n\", query2(x));\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1603619787,
        "uid": 51719,
        "name": "ModestCoder_",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4623 \u3010[COCI2012-2013#6] BUREK\u3011"
    },
    {
        "content": "\u6211\u4eec\u5173\u952e\u5c31\u662f\u8981\u77e5\u9053\u4e00\u6761\u5e73\u884c\u4e8e$x$\u6216\u8005$y$\u8f74\u7684\u76f4\u7ebf\u7a7f\u8fc7\u591a\u5c11\u4e2a\u70b9\n\n\u6211\u4eec\u5148\u6765\u8003\u8651\u5bf9\u4e8e\u76f4\u7ebf$y=k$\u7a7f\u8fc7\u4e09\u89d2\u5f62\u7684\u6761\u4ef6\u662f\u5565?\n\n\u5f88\u663e\u7136,\u5c31\u662f\u5939\u5728\u6700\u4e0a\u9762\u9876\u70b9\u4e0e\u6700\u4e0b\u9762\u9876\u70b9\u4e2d\u95f4\u5373\u53ef\n\n\u6211\u4eec\u518d\u6765\u8003\u8651\u5bf9\u4e8e\u76f4\u7ebf$x=k$\u7a7f\u8fc7\u4e09\u89d2\u5f62\u7684\u6761\u4ef6\u662f\u5565?\n\n\u5f88\u663e\u7136,\u5c31\u662f\u5939\u5728\u6700\u5de6\u8fb9\u9876\u70b9\u4e0e\u6700\u53f3\u8fb9\u9876\u70b9\u4e2d\u95f4\u5373\u53ef\n\n\u76f8\u5f53\u4e8e\u6211\u4eec\u53ef\u4ee5\u8f6c\u5316\u6210\u7ed9\u51fa\u4e00\u5806\u533a\u95f4,\u7136\u540e\u7ed9\u4f60\u4e00\u4e2a\u70b9,\u770b\u8fd9\u4e2a\u70b9\u88ab\u591a\u5c11\u533a\u95f4\u5305\u542b\n\n\u7136\u540e\u8fd9\u5c31\u662f\u6811\u72b6\u6570\u7ec4\u6a21\u677f\u9898\u4e86\n\n\u6211\u4eec\u53ea\u9700\u8981\u7ef4\u62a4\u67e5\u5206\u5373\u53ef\n\n\u4e0b\u4ee3\u7801\n\n```\n#include<bits/stdc++.h>\n#define lowbit(i) i&(-i)\n#define M 1010001\nusing namespace std;\nint treex[M],treey[M];\ninline char read_ch( ){\n\tchar ch=getchar( );\n\twhile(ch==' '||ch=='\\n')ch=getchar( );\n\treturn ch;\n}\ninline int read( ){\n\tint sum(0);\n\tbool ft(0);\n\tchar ch=getchar( );\n\twhile((ch<'0'||ch>'9')&&ch!='-')ch=getchar( );\n\tif(ch=='-'){ch=getchar( );ft=1;}\n\twhile('0'<=ch&&ch<='9'){sum=(sum<<1)+(sum<<3)+ch-'0';ch=getchar( );}\n\treturn ft?-sum:sum;\n}\ninline void addx(int x,int k){\n\tint i;\n\tfor(i=x;i<M;i+=lowbit(i))\n\ttreex[i]+=k;\n}\ninline void addy(int x,int k){\n\tint i;\n\tfor(i=x;i<M;i+=lowbit(i))\n\ttreey[i]+=k;\n}\ninline int getx(int x){\n\tint ans(0),i;\n\tfor(i=x;!!i;i-=lowbit(i))\n\tans+=treex[i];\n\treturn ans;\n}\ninline int gety(int x){\n\tint ans(0),i;\n\tfor(i=x;!!i;i-=lowbit(i))\n\tans+=treey[i];\n\treturn ans;\n}\nint n;\nint main( ){\n\tn=read( );\n\tint i,x1,y1,x2,y2,x3,y3,x,y;\n\tfor(i=1;i<=n;++i){\n\t\tx1=read( );y1=read( );x2=read( );y2=read( );x3=read( );y3=read( );\n\t\tx=min(x1,min(x2,x3))+1;\n\t\ty=max(x1,max(x2,x3))+1;\n\t\taddx(x+1,1);\n\t\taddx(y,-1);\n\t\tx=min(y1,min(y2,y3))+1;\n\t\ty=max(y1,max(y2,y3))+1;\n\t\taddy(x+1,1);\n\t\taddy(y,-1);\n\t}\n\tn=read( );\n\tint k;\n\tchar s,qwq;\n\twhile(n--){\n\t\ts=read_ch( );qwq=read_ch( );k=read( )+1;\n\t\tif(s=='x')printf(\"%d\\n\",getx(k));\n\t\telse printf(\"%d\\n\",gety(k));\n\t}\n}\n```",
        "postTime": 1603250831,
        "uid": 117658,
        "name": "Space_Gold_Trash",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4623 \u3010[COCI2012-2013#6] BUREK\u3011"
    },
    {
        "content": "- \u672c\u4eba\u7684\u601d\u8def~~\u6e05\u5947\u8be1\u5f02~~\uff0c\u673a\u623f\u8003\u8bd5\u662f\u6570\u636e\u52a0\u5f3a\u7248\uff08-1e9\uff5e1e9\uff09\uff0c\u6240\u4ee5\u9700\u8981\u79bb\u6563\u5316\uff0c\u6b64\u9898\u53ef\u4ee5\u4e0d\u7528\u3002\u4e0d\u8fc7\uff0c\u6211\u7684\u601d\u8def\u662f\u6392\u5e8f+\u5dee\u5206\uff08\u673a\u623f\u6570\u636e\u5927\uff0c\u7a7a\u95f4\u5f00\u4e0d\u4e0b\uff09\u3002\n- \u9996\u5148\uff0c\u7ea6\u675f\u6761\u4ef6\uff1a\u76f4\u7ebf\u4ece\u4e09\u89d2\u5f62\u4e2d\u95f4\u7a7f\u8fc7\u3002\n--\n- \u56e0\u4e3a\uff0c\u53ea\u6709\u5e73\u884c\u4e8e\u5750\u6807\u8f74\u7684\u76f4\u7ebf\uff0c\u6240\u4ee5\u5c06x\uff0cy\u8f74\u62c6\u5f00\u770b\uff0c\u5c31\u53ef\u4ee5\u770b\u6210\u7aef\u70b9\u548c\u6811\u8f74\uff08\u60f3\u8c61\u529b\u4e0d\u597d\u7684\u540c\u5b66\u53ef\u4ee5\u624b\u7ed8 ~~\u6a21\u62df~~ %ni\u4e00\u4e0b\uff09\u3002\n- \u6240\u4ee5\u7a7f\u8fc7\u4e09\u89d2\u5f62\u7684\u76f4\u7ebf\u7b26\u5408xE(min(x1,x2,x3),max(x1,x2,x3)),yE(min(y1,y2,y3),max(y1,y2,y3) )\u3002(\u56e0\u4e3a\u4e0d\u4f1a\u6253\u5c5e\u4e8e\u7b26\u53f7\uff0c\u7528E\u4ee3\u66ff(T_T))\n- \u5c06\u6240\u6709\u5de6\u7aef\u70b9\uff08\u6807\u8bb0\u4e00\u4e0b\uff09\uff0c\u53f3\u7aef\u70b9\uff0c\u67e5\u8be2x\uff08\u6807\u8bb0\u4e00\u4e0b\uff09\u8bb0\u5f55\u5728\u4e00\u8d77\uff0cy\u53e6\u5916\u8bb0\u5f55\u5728\u4e00\u8d77\u3002\n- \u63a5\u4e0b\u6765\uff0c\u5c31\u662f\u5dee\u5206\u7684\u601d\u60f3\uff0c\u6211\u4eec\u5728\u5de6\u7aef\u70b9+1\u7684\u4f4d\u7f6e\u7ed9\u8d21\u732e\u52a0\u4e00\uff08\u6ce8\u610f\u662f\u5de6\u7aef\u70b9\u52a0\u4e00\uff0c\u56e0\u4e3a\u7ecf\u8fc7\u7aef\u70b9\u4e0d\u7b97\u7a7f\u8fc7\uff09\uff0c\u5728\u53f3\u7aef\u70b9\u7684\u4f4d\u7f6e\u51cf\u4e00\uff0c\u90a3\u4e48\uff0c\u4ece\u524d\u9762\u7d2f\u52a0\u8d77\u7684\u503c\u5c31\u662f\u8fd9\u4e2a\u70b9\u7684\u7b54\u6848\uff08\u4e0d\u5c31\u662f\u524d\u7f00\u548c\u561b\uff0c\u4e0d\u7406\u89e3\u7684\u540c\u5b66\u597d\u597d\u60f3\u60f3 \uff09\u3002\n--\n- \u6700\u540e\uff0c\u6211\u4eec\u5b58\u4e0b\u67e5\u8be2\u7684\u65f6\u95f4\u6233\uff08chuo\uff0c\u597d\u50cf\u86ee\u591a\u4eba\u4ee5\u4e3a\u662f\u622a\uff0c\u7684\u786e\u86ee\u50cf\u7684\uff09\uff0c\u4fdd\u5b58\u5728ans\u6570\u7ec4\u91cc\u8f93\u51fa\u7edf\u8ba1\u7684\u7b54\u6848\u3002\n- AC\u4ee3\u7801\uff08\u4fdd\u6301\u4e86\u6570\u636e\u52a0\u5f3a\u540e\u7684\u7a7a\u95f4\u5927\u5c0f\uff0c\u53ef\u81ea\u5df1\u8ba1\u7b97\u66f4\u6539\uff09\uff1a\n\n- ```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint read()//\u5feb\u8bfb\u8fd8\u9700\u8981\u89e3\u91ca\u5417\uff1f\n{\n\tint x=0,fg=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')fg*=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=(x<<3)+(x<<1)+ch-'0';ch=getchar();}\n\treturn x*fg;\n}\nconst int N=1000010;\nstruct node{\n    int val,id;  //  val\u5b58\u7aef\u70b9\u4f4d\u7f6e,id\u5b58\u8bbf\u95ee\u65f6\u95f4\u6233\n    int dir,left;//  dir\u662f\u67e5\u8be2\u6807\u8bb0\uff0cleft\u662f\u5de6\u7aef\u70b9\u6807\u8bb0\n}x[N],y[N];      //  x\uff0cy\u5206\u5f00\u5904\u7406\nbool cmp(node c,node d)// \u5c06\u7aef\u70b9\u4f18\u5148\u4e8e\u67e5\u8be2\uff0c\u5c0f\u7aef\u70b9\u4f18\u4e8e\u5927\u7aef\u70b9\n{\n    return c.val==d.val?c.dir<d.dir:c.val<d.val;\n}\nint n,m,totx,toty,ans[N];\nint main()\n{\n\t//freopen(\"burek.in\",\"r\",stdin);\n\t//freopen(\"burek.out\",\"w\",stdout);\n\tn=read();\n\tfor(int i=1;i<=n;++i)//\u8bfb\u5165\u4e09\u89d2\u5f62\n\t{\n\t    int x1=read(),y1=read(),x2=read(),y2=read(),x3=read(),y3=read();\n\t    x[++totx].val=min(x1,min(x2,x3))+1;x[totx].left=1;\n        //\u76f4\u63a5\u5728\u5de6\u7aef\u70b9\u52a0\u5165\u65f6\u5c31+1\n\t    x[++totx].val=max(x1,max(x2,x3));\n\t    y[++toty].val=min(y1,min(y2,y3))+1;y[toty].left=1;\n\t    y[++toty].val=max(y1,max(y2,y3));\n\t}\n\tm=read();\n\tfor(int i=1;i<=m;i++)//\u8bfb\u5165\u67e5\u8be2\n\t{\n\t\tchar ch[5];cin>>ch;\n\t\tif(ch[0]=='x')\n\t\t{\n\t\t    cin>>ch;\n\t\t    x[++totx].val=read();\n\t\t    x[totx].id=i;\n\t\t    x[totx].dir=1;\n\t\t}\n\t\telse if(ch[0]=='y')\n\t\t{\n\t\t    cin>>ch;\n\t\t    y[++toty].val=read();\n\t\t    y[toty].id=i;\n\t\t    y[toty].dir=1;\n\t\t}\n\t}\n\tsort(x+1,x+1+totx,cmp);//\u6392\u5e8f\n\tsort(y+1,y+1+toty,cmp);\n\tint sum=0;            //\u524d\u7f00\u548c\u7edf\u8ba1\uff0c\u672c\u4eba\u8f83\u61d2\u4e0d\u60f3\u5f00\u6570\u7ec4\n\tfor(int i=1;i<=totx;i++)\n\t{\n\t    if(x[i].dir)ans[x[i].id]=sum;//\u5bf9\u4e8e\u67e5\u8be2\u8bb0\u5f55\u7b54\u6848\n\t    else if(x[i].left)++sum;//\u5de6\u7aef\u70b9+1\u7684\u4f4d\u7f6e+1\n\t    else --sum;          //\u53f3\u7aef\u70b9-1\n\t}\n\tsum=0;\t//\u8bb0\u5f97\u6e05\u96f6\n\tfor(int i=1;i<=toty;i++)//\u540c\u4e0a\n\t{\n\t    if(y[i].dir)ans[y[i].id]=sum;\n\t    else if(y[i].left)++sum;\n\t    else --sum;\n\t}\n\tfor(int i=1;i<=m;i++)//\u8f93\u51fa\u7b54\u6848\n\tprintf(\"%d\\n\",ans[i]);\n\treturn 0;\n}\n```\n- \u4ee5\u4e0a\u5c31\u662f\u5168\u90e8\u5185\u5bb9\uff0c\u8def\u8fc7\u7684\u5927\u4f6c\u662f\u4e0d\u662f\u79d2\u61c2\u5440\u3002",
        "postTime": 1540339879,
        "uid": 55175,
        "name": "\u51b0\u51c9\u7684\u6c34",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4623 \u3010[COCI2012-2013#6] BUREK\u3011"
    }
]