[
    {
        "content": "\u7b80\u5355\u7684DP,\u7528dp[i][j][2]\u8868\u793a\uff0cdp[i][j]\u8868\u793a\u7b2c\u4e00\u7ec4\u5339\u914d\u5230\u4e86\u7b2ci\u4e2a\uff0c\u7b2c\u4e8c\u7ec4\u5339\u914d\u5230\u4e86\u7b2cj\u4e2a\uff0c\n\n\n[0]\u8868\u793a\u505c\u5728\u7b2c\u4e00\u7ec4\uff0c[1]\u8868\u793a\u505c\u5728\u7b2c\u4e8c\u7ec4\uff1b\u8f6c\u79fb\u65b9\u7a0b\u8be6\u89c1\u4ee3\u7801\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#define ll long long \n#define inf 2000000000\nint const N=1000+5;\nstruct node{\n    int x,y;\n}a[N<<1];\nint n,m,d[N<<1][N<<1];\nll dp[N][N][2];\nll min(ll x,ll y){return x<y?x:y;}\nint main(){\n//    freopen(\"a.in\",\"r\",stdin);\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n+m;++i) scanf(\"%d%d\",&a[i].x,&a[i].y);\n    for(int i=1;i<=n+m;++i)\n        for(int j=i+1;j<=n+m;++j)\n            d[i][j]=(a[i].x-a[j].x)*(a[i].x-a[j].x)+(a[i].y-a[j].y)*(a[i].y-a[j].y);\n    for(int i=0;i<=n;++i)\n        for(int j=0;j<=m;++j)\n            for(int k=0;k<=1;++k)\n                dp[i][j][k]=inf;\n    dp[1][0][0]=0;\n    for(int i=1;i<=n;++i)\n        for(int j=0;j<=m;++j){\n            dp[i][j][0]=min(dp[i][j][0],min(dp[i-1][j][0]+d[i-1][i],dp[i-1][j][1]+d[i][n+j]));\n            if(j) dp[i][j][1]=min(dp[i][j][1],min(dp[i][j-1][0]+d[i][n+j],dp[i][j-1][1]+d[n+j-1][n+j]));\n        }    \n    printf(\"%lld\",dp[n][m][0]);\n    return 0;\n}\n```",
        "postTime": 1497701544,
        "uid": 31311,
        "name": "IceFox",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2848 \u3010[USACO16DEC]Cow Checklist\u5976\u725b\u786e\u8ba4\u5355\u3011"
    },
    {
        "content": "## Solution\n\u8003\u8651 dp\uff0c\u72b6\u6001 $f_{i,j,0/1}$ \u8868\u793a $H$ \u725b\u53d6\u5230\u4e86\u7b2c $i$ \u4e2a\uff0c$G$ \u725b\u53d6\u5230\u4e86\u7b2c$j$ \u4e2a\uff0c$0/1$ \u8868\u793a\u8fd9\u4e00\u6b65\u53d6 $H$ \u725b\u8fd8\u662f $G$ \u725b\uff0c$f$ \u5185\u5b58\u7684\u662f\u6700\u5c0f\u7684\u4ee3\u4ef7\u3002\n\n\u8bbe $\\operatorname{dis}(i,j)$ \u8868\u793a\u4ece\u7b2c $i$ \u5934\u725b\u8d70\u5230\u7b2c $j$ \u5934\u725b\u7684\u4ee3\u4ef7\uff08\u8bbe $H$ \u725b\u7f16\u53f7\u4ece $1$ \u5230 $H$\uff0c$G$ \u725b\u7f16\u53f7\u4ece $H+1$ \u5230 $H+G$\uff09\uff0c\u53ef\u4ee5\u5f97\u5230\u8f6c\u79fb\u65b9\u7a0b\u5982\u4e0b\uff1a\n\n$$f_{i,j,0}=\\min(f_{i,j,0},f_{i-1,j,0}+\\operatorname{dis}(i-1,i),f_{i-1,j,1}+\\operatorname{dis}(i,n+j))$$\n$$f_{i,j,1}=\\min(f_{i,j,1},f_{i,j-1,1}+\\operatorname{dis}(n+j,n+j-1),f_{i,j-1,0}+\\operatorname{dis}(i,n+j))$$\n\n\u521d\u503c $f_{1,0,0}=0$\uff0c\u7b54\u6848\u5373\u4e3a $f_{n,m,0}$\u3002\u8bb0\u5f97\u5f00 ```long long```\u3002\n## Code\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\nconst int N=1005;\nint n,m,x[N<<1],y[N<<1];\nll f[N][N][2];\ninline int dis(int i,int j)//\u7b97\u51fa\u4ee3\u4ef7\n{\n\treturn (x[i]-x[j])*(x[i]-x[j])+(y[i]-y[j])*(y[i]-y[j]);\n}\nint main()\n{\n\tcin>>n>>m;\n\tfor(int i=1;i<=n+m;++i)\n\t\tcin>>x[i]>>y[i];\n\tmemset(f,0x7f,sizeof(f));\n\tf[1][0][0]=0;\n\tfor(int i=1;i<=n;++i)\n\t\tfor(int j=0;j<=m;++j)\n\t\t{\n\t\t\tf[i][j][0]=min(f[i][j][0],min(f[i-1][j][0]+dis(i-1,i),f[i-1][j][1]+dis(i,n+j)));\n\t\t\tif(j)f[i][j][1]=min(f[i][j][1],min(f[i][j-1][1]+dis(n+j,n+j-1),f[i][j-1][0]+dis(i,n+j)));//\u8f6c\u79fb\n\t\t}\n\tcout<<f[n][m][0];\n\treturn 0;\n}\n```",
        "postTime": 1658376168,
        "uid": 451328,
        "name": "lnwhl",
        "ccfLevel": 6,
        "title": "\u3010\u9898\u89e3\u3011P2848 [USACO16DEC]Cow Checklist G"
    },
    {
        "content": "# \u9012\u63a8\u516c\u5f0f\n\u5f88\u660e\u663e\uff0c\u8fd9\u9053\u9898\u662f\u4e00\u4e2a dp\uff0c\u6240\u4ee5\u8bf4\u9996\u5f53\u5176\u51b2\u7684\u662f\u60f3\u51fa\u9012\u63a8\u516c\u5f0f\uff0c\u5efa\u7acb\u53d8\u91cf $d_{i,j,k}$ \u7528\u6765\u8868\u793a\u76ee\u524d\u5df2\u7ecf\u8868\u793a\u51fa\u4e86\u7b2c\u4e00\u7ec4\u7b2c $i$ \u4e2a\uff0c\u7b2c\u4e8c\u7ec4\u7b2c $j$ \u4e2a\uff0c\u76ee\u524d\u5728\u7b2c $j+1$ \u7ec4\u4e2d\uff08\u5176\u5b9e\u8fd9\u4e2a\u53d8\u91cf\u5c31\u662f\u7528\u6765\u8868\u793a\u5728\u7b2c\u51e0\u7ec4\u7684\uff09\uff0c\u5f88\u5bb9\u6613\u60f3\u51fa \u5728 $k=1$ \u65f6\u6709\uff1a\n$$d_{i,j,1}=d_{i,j-1,0}\\times dis_{i,j}+dis_{i,j-1,1}\\times dis_{j-1,j}$$\n\u540c\u7406\u53ef\u5f97\uff0c\u5728 $k=0$ \u65f6\uff0c\u6709\uff1a\n$$d_{i,j,0}=d_{i-1,j,0}\\times dis_{i-1,i}+dis_{i-1,j,1}\\times dis_{j,i}$$\n\n\u8bf4\u660e\u4e00\u4e0b\uff0c$dis$ \u7528\u6765\u5b58\u50a8\u4e24\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u5e73\u65b9\n\n\u6240\u4ee5\u8bf4\uff0c~~\u8fd9\u9053\u9898\u5df2\u7ecf\u89e3\u51b3\u4e86~~\n# \u4e00\u4e9b\u95ee\u9898\n$1$ \u4e0d\u5f00 longlong \u89c1\u7956\u5b97\u3002\n\n$2$ \u6ce8\u610f\u5b58\u50a8\u8fb9\u4e0e\u8fb9\u7684\u8ddd\u79bb\u65f6\uff0c\u5c3d\u91cf\u4e0d\u8981\u5206\u4e24\u4e2a\u6570\u7ec4\uff0c\u53ef\u4ee5\u628a\u7b2c\u4e8c\u7ec4\u7684\u5b58\u50a8\u7eed\u5728\u7b2c\u4e00\u7ec4\u4e4b\u540e\uff0c\u4e5f\u5c31\u662f\u5f00\u4e00\u4e2a $dis_{n+m,n+m}$ \u4f1a\u65b9\u4fbf\u4e00\u4e9b\uff08~~\u8c28\u9632 RE~~\uff09\n\n$3$ \u9898\u76ee\u91cc\u89c4\u5b9a\u4e86\u9996\u9879\u4e3a\u7b2c\u4e00\u7ec4\u7b2c\u4e00\u4e2a\u672b\u9879\u4e3a\u7b2c\u4e00\u7ec4\u6700\u540e\u4e00\u4e2a\uff0c\u6240\u4ee5dp \u8fc7\u7a0b\u4e2d\uff0c\u4ee3\u8868\u7b2c\u4e8c\u7ec4\u7684\u5faa\u73af\u8981\u4ece $0$ \u5f00\u59cb\uff0c\n\n\u8bdd\u4e0d\u591a\u8bf4\uff0c\u4e0a\u4ee3\u7801\u3002\n\n# CODE\n```c\n#include<stdio.h>\n#include<string.h>\n#include<algorithm>\nusing namespace std;\nlong long d[2005][2005][2];\nlong long dis[2005][2005];\nstruct node{\n\tint x,y;\n}a[2005];\nint main(){\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++){\n\t\tint xf,yf;\n\t\tscanf(\"%d%d\",&xf,&yf);\n\t\ta[i]={xf,yf};\n\t}\n\tfor(int i=n+1;i<=m+n;i++){\n\t\tint xf,yf;\n\t\tscanf(\"%d%d\",&xf,&yf);\n\t\ta[i]={xf,yf}; \n\t}\n\tfor(int i=1;i<=n+m;i++){\n\t\tfor(int j=i+1;j<=m+n;j++){\n\t\t\tdis[i][j]=(a[j].x-a[i].x)*(a[j].x-a[i].x)+(a[j].y-a[i].y)*(a[j].y-a[i].y);//\u4e24\u70b9\u5750\u6807\u516c\u5f0f\u5e73\u65b9\n\t\t}\n\t}\n\tmemset(d,0x7f,sizeof(d));//\u4e0d\u8981\u5fd8\u4e86\u521d\u59cb\u5316\n\td[1][0][0]=0;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=0;j<=m;j++){\n\t\t\tif(j) d[i][j][1]=min(d[i][j][1],min(d[i][j-1][1]+dis[j-1+n][j+n],d[i][j-1][0]+dis[i][j+n]));//\u5982\u679cj\u4e3a0\uff0c\u90a3\u4e48\u5c31\u4f1a\u8d8a\u754c\n\t\t\td[i][j][0]=min(d[i][j][0],min(d[i-1][j][1]+dis[i][j+n],d[i-1][j][0]+dis[i-1][i]));\n\t\t}\n\t}\n\tprintf(\"%lld\",d[n][m][0]);//\u672b\u9879\u5fc5\u987b\u662f\u7b2c\u4e00\u7ec4\u6700\u540e\u4e00\u4e2a\n\treturn 0;\n} \n```",
        "postTime": 1664641109,
        "uid": 626781,
        "name": "nzcnnr",
        "ccfLevel": 0,
        "title": "P2848\u9898\u89e3"
    }
]