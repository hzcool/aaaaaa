[
    {
        "content": "### \u9898\u610f\n\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217\uff0c\u8981\u5c06\u5176\u5212\u5206\u4e3a\u6070\u597d $k$ \u6bb5\uff0c\u4f7f\u5f97\u65e0\u6cd5\u4ece\u6bcf\u6bb5\u4e2d\u53d6\u4e00\u4e2a\u503c\u4f7f\u5f97\u8fd9\u4e2a\u503c\u4e25\u683c\u5927\u4e8e\u524d\u9762\u7684\u6bb5\u4e2d\u9009\u7684\u503c\u3002\n\n### \u601d\u8def\n\n\u9996\u5148\u6211\u4eec\u5148\u8bf4\u660e\u5982\u679c\u5212\u5206\u4e3a $a$ \u6bb5\u53ef\u884c\uff0c\u90a3\u4e48\u5212\u5206\u4e3a $b>a$ \u6bb5\u4e5f\u53ef\u884c\u3002\n\n\u5047\u8bbe\u539f\u6765\u7684\u5212\u5206\u4e3a $v_{1 \\sim a}$\uff0c\u6784\u9020\u65b0\u5212\u5206\u4e3a $w_{1 \\sim b}$\uff0c\u4f7f\u5f97 $v \\subset w$\u3002\n\n\u8fd9\u65f6\u5019\u4f1a\u591a\u5212\u5206\u51fa\u4e00\u4e9b\u6bb5\uff0c\u6b64\u65f6\u8fd9\u79cd\u5212\u5206\u65b9\u5f0f\u4e5f\u5408\u6cd5\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u53cd\u8bc1\u8bf4\u660e\uff0c\u5982\u679c\u5212\u5206 $w$ \u6709\u4e00\u79cd\u53d6\u6570\u6784\u6210\u4e0a\u5347\u5e8f\u5217\u7684\u65b9\u6848\uff0c\u8fd9\u79cd\u65b9\u6848\u5728 $v$ \u4e2d\u6bcf\u4e00\u6bb5\u53ef\u80fd\u6709\u591a\u4e2a\u6570\uff0c\u5220\u9664\u5230\u6bcf\u6bb5\u53ea\u5269\u4e00\u4e2a\u5c31\u80fd\u6784\u6210\u4e00\u4e2a $v$ \u53d6\u6570\u6784\u6210\u4e0a\u5347\u5e8f\u5217\u7684\u65b9\u6848\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u6070\u597d $k$ \u6bb5\u7684\u6761\u4ef6\u6539\u4e3a\u6700\u591a $k$ \u6bb5\uff0c\u6784\u9020\u5b8c\u540e\u518d\u8fd8\u539f\u4e3a\u6070\u597d $k$ \u6bb5\uff0c\u5b9e\u73b0\u89c1\u4ee3\u7801\u7684 ```work()``` \u51fd\u6570\u3002\n\n\u8bb0\u5212\u5206\u533a\u95f4\u6570\u4e3a $p$\uff0c\u7136\u540e\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n\u82e5 $p = 2$\uff0c\u53ea\u80fd\u5207\u4e00\u5200\uff0c\u8981\u6c42 $\\min_{1 \\sim i} \\ge \\max_{i+1 \\sim n}$\uff0c\u9012\u63a8\u524d\u540e\u7f00 $\\min,\\max$ \u5373\u53ef\u3002\n\n\u82e5 $p > 3$\uff0c\u663e\u7136\u5982\u679c $a$ \u4e3a\u4e0a\u5347\u5e8f\u5217\u65e0\u89e3\uff0c\u5426\u5219\u4e00\u5b9a\u80fd\u627e\u5230 $a_i \\ge a_{i+1}$\uff0c\u5c06\u5176\u5355\u72ec\u5212\u5206\u5f00\u5373\u53ef\u3002\n\n\u82e5 $p = 3$\uff0c\u53ea\u80fd\u5207\u4e24\u5200\uff0c\u4e00\u4e2a\u524d\u7f00\u4e00\u4e2a\u540e\u7f00\uff0c\u524d\u7f00\u4e00\u5b9a\u53d6 $\\min$\uff0c\u540e\u7f00\u4e00\u5b9a\u53d6 $\\max$\uff0c\u4e2d\u95f4\u5b58\u5728 $i$\uff0c\u6ee1\u8db3 $a_i \\le \\min$ \u6216\u8005 $a_i \\ge \\max$\u3002\u4e0d\u96be\u53d1\u73b0\u4e0d\u5982\u53ea\u53d6\u4e00\u4e2a\u6570\uff0c\u6bd4\u8f83\u5373\u53ef\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nint n,k;\nint a[500005],mn[500005],mx[500005];\nint num[500005],cnt;\n\ninline void work()\n{\n    cout<<\"TAK\\n\";\n\n    sort(num+1,num+cnt+1);\n    cnt=unique(num+1,num+cnt+1)-num-1;\n\n    k-=cnt-1;\n\n    int pos=1;\n\n    for(int i=2;i<=cnt;i++)\n    {\n        while(k&&pos<num[i])\n        {\n            k--;\n            cout<<pos<<' ';\n            pos++;\n        }\n\n        pos=num[i]+1;\n        \n        if(i!=cnt)\n            cout<<num[i]<<' ';\n    }\n\n    cout<<'\\n';\n}\n\nint main()\n{\n    ios::sync_with_stdio(0);\n    cin.tie(0),cout.tie(0);\n\n    cin>>n>>k;\n\n    for(int i=1;i<=n;i++)\n        cin>>a[i];\n\n    mn[1]=a[1];\n    for(int i=2;i<=n;i++)\n        mn[i]=min(mn[i-1],a[i]);\n\n    mx[n]=a[n];\n    for(int i=n-1;i;i--)\n        mx[i]=max(mx[i+1],a[i]);\n\n    num[1]=0;\n    num[2]=n;\n    cnt=2;\n\n    for(int i=1;i<n;i++)\n    {\n        if(mn[i]>=mx[i+1])\n        {\n            num[++cnt]=i;\n            work();\n            return 0;\n        }\n    }\n\n    if(k==2)\n    {\n        cout<<\"NIE\\n\";\n\n        return 0;\n    }\n    \n    if(k>3)\n    {\n        for(int i=1;i<n;i++)\n        {\n            if(a[i]>=a[i+1])\n            {\n                num[++cnt]=i-1;\n                num[++cnt]=i;\n                num[++cnt]=i+1;\n                work();\n                return 0;\n            }\n        }\n\n        cout<<\"NIE\\n\";\n\n        return 0;\n    }\n    \n    for(int i=2;i<n;i++)\n    {\n        if(mn[i-1]>=a[i]||mx[i+1]<=a[i])\n        {\n            num[++cnt]=i-1;\n            num[++cnt]=i;\n            work();\n            return 0;\n        }\n    }\n\n    cout<<\"NIE\\n\";\n\n    return 0;\n}\n```\n",
        "postTime": 1684229559,
        "uid": 191748,
        "name": "Rosaya",
        "ccfLevel": 0,
        "title": "[PA 2022] Podwy\u017cki \u9898\u89e3"
    }
]