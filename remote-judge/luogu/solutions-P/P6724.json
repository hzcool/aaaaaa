[
    {
        "content": "## \u9898\u610f\n\u7ed9\u4f60\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6c42\u51fa\u6700\u5c0f\u8bcd\u6839\u3002\u8bcd\u6839\u7684\u5b9a\u4e49\u4e3a\uff1a\u9996\u5c3e\u76f8\u8fde\u53ef\u4ee5\u62fc\u63a5\u6210\u539f\u4e32\uff0c\u800c\u4e14\u53ef\u4ee5\u6539\u53d8\u5b57\u6bcd\u4f4d\u7f6e\u3002[QWQ](https://www.luogu.com.cn/blog/xzc/solution-p6724)\n## \u5206\u6790\n\u53ef\u4ee5\u6539\u53d8\u5b57\u6bcd\u4f4d\u7f6e\uff0c\u8fd9\u8868\u660e\u6b64\u9898\u4e0d\u662f\u4ec0\u4e48\u5339\u914d\u7b97\u6cd5\u3002\u800c\u65e0\u8bba\u600e\u6837\u6539\u53d8\u5b57\u6bcd\u4f4d\u7f6e\uff0c\u5b57\u7b26\u7684\u591a\u5c11\u548c\u79cd\u7c7b\u662f\u786e\u5b9a\u4e86\u7684\uff0c\u800c\u4e14\u5b57\u7b26\u96c6\u5408\u5f88\u5c0f\uff0c\u53ef\u4ee5\u76f4\u63a5\u5f00\u4e2a\u6876\u8bb0\u5f55\u3002\u90a3\u4e48\u73b0\u5728\u53ea\u9700\u8981\u66b4\u529b\u679a\u4e3e\u8bcd\u6839\u957f\u5ea6\u5c31\u53ef\u4ee5\u4e86\u3002\u7531\u4e8e\n$$\n\\sum_{i=1}^{n} \\frac{n}{i} = O(n\\log n)\n$$\n\u6240\u4ee5\u603b\u7684\u590d\u6742\u5ea6\u4e3a $O(26\\times n\\log n)$ \u3002\u5b9e\u6d4b\u8dd1\u5f97\u98de\u5feb\u3002\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N = 1e5+100;\nint cnt[30],c[30][N],len = 0,flag = 0;\nchar ch[N];\nint main()\n{\n\tscanf(\"%s\",ch + 1);\n\tlen = strlen(ch+1);\n\tfor(int i = 1;i <= len;i++) \n\t{\n\t\tfor(int j = 1;j <= 26;j++)\n\t\tc[j][i] = c[j][i-1] + ((ch[i] - 'a' + 1) == j);\n\t}\n\tfor(int i = 1;i < len;i++)\n\t{\n\t\tif(len%i) continue;\n\t\tmemset(cnt,0,sizeof(cnt));\n\t\tfor(int j = 1;j <= 26;j++) cnt[j] = c[j][i] - c[j][0]; \n\t\tflag = 0;\n\t\tfor(int j = 1;j*i <= len;j++)\n\t\t{\n\t\t\tint L = i*(j-1),R = i*j;\n\t\t\tfor(int k = 1;k <= 26;k++)\n\t\t\t{\n\t\t\t\tif(c[k][R] - c[k][L] != cnt[k]) {\n\t\t\t\t\tflag = 1;break; \n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!flag){\n\t\t\tfor(int j = 1;j <= i;j++)\n\t\t\tputchar(ch[j]);\n\t\t\tprintf(\"\\n\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\tcout<<\"-1\"<<endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1596532316,
        "uid": 227824,
        "name": "JK_LOVER",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6724 \u3010[COCI2015-2016#5] MULTIGRAM\u3011"
    },
    {
        "content": "## \u9898\u610f\n\u6c42\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u6700\u5c0f\u5faa\u73af\u8282\uff0c\u4f7f\u5f97\u5b57\u7b26\u4e32\u80fd\u88ab\u5206\u5272\u6210\u51e0\u4e2a\u5b8c\u6574\u7684\u5faa\u73af\u8282\u4e14\u6bcf\u4e2a\u5faa\u73af\u8282\u6bcf\u4e2a\u5b57\u7b26\u7684\u51fa\u73b0\u6b21\u6570\u76f8\u540c\uff0c\u5e76\u8f93\u51fa\u7b2c\u4e00\u4e2a\u5faa\u73af\u8282\u3002\n\n\u627e\u4e0d\u5230\u6700\u5c0f\u5faa\u73af\u8282\u8f93\u51fa $-1$ \u3002\n## \u601d\u8def\n\u672c\u6765\u4ee5\u4e3a\u662f\u4ec0\u4e48kmp\u2026\u2026\n\n\u770b\u770b\u8fd9\u4e2a\u6570\u636e\u8303\u56f4\uff0c\u7acb\u9a6c\u5f00\u59cb\u5199\u66b4\u529b\u3002\n\n\u6ce8\u610f\u5230\u4e0d\u8d85\u8fc7 $10^5$ \u7684\u6570\u56e0\u6570\u4e00\u5b9a\u4e0d\u4f1a\u5f88\u591a\uff0c\u6240\u4ee5\u679a\u4e3e\u5faa\u73af\u8282\u957f\u5ea6\u5e76\u4f9d\u6b21\u5339\u914d\u3002\n\n\u662f\u5426\u6bcf\u4e2a\u5b57\u7b26\u51fa\u73b0\u6b21\u6570\u76f8\u540c\u76f4\u63a5\u6876\u6392\u5e8f\u5373\u53ef\u3002\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read()\n{\n    int w=0;\n    char ch=getchar();\n    while(!isdigit(ch)) ch=getchar();\n    while(isdigit(ch)) w=w*10+ch-48,ch=getchar();\n    return w;\n}\nchar ch[1000003];\nint a[33],b[33];\nint main()\n{\n    scanf(\"%s\",ch);\n    int n=strlen(ch);\n    for(int i=1; i<n; i++) if(n%i==0)\n    {\n        memset(a,0,sizeof(a));\n        int now=0,k=n/i-1;\n        bool f=1;\n        for(int j=1; j<=i; j++) ++a[ch[now++]-'a'];\n        for(int t=1; t<=k; t++) \n        {\n            memset(b,0,sizeof(b));\n            for(int j=1; j<=i; j++) ++b[ch[now++]-'a'];\n            for(int j=0; j<26; j++) if(a[j]!=b[j]) f=0;\n        }\n        if(f) { for(int j=0; j<i; j++) printf(\"%c\",ch[j]); exit(0); }\n    }\n    puts(\"-1\");\n    return 0;\n}\n```",
        "postTime": 1596543455,
        "uid": 111055,
        "name": "dead_X",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P6724 \u3010[COCI2015-2016#5] MULTIGRAM\u3011"
    },
    {
        "content": "\u7b2c\u4e00\u773c\u770b\u5230\u9898\u76ee\uff0c\u4f60\u4f1a\u4ee5\u4e3a\u662f\u4ec0\u4e48 $\\text{hash}$ \u6216\u8005 $\\text{kmp}$\uff0c\u5b9e\u9645\u4e0a\u5b83\u6ca1\u6709\u90a3\u4e48\u590d\u6742\u3002\n\n\u9996\u5148\uff0c\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u8bcd\u6839\u7684\u957f\u5ea6\u5fc5\u5b9a\u662f\u8be5\u5b57\u7b26\u4e32\u957f\u5ea6\u7684\u56e0\u5b50\uff0c\u6240\u4ee5\u679a\u4e3e\u8bcd\u6839\u957f\u5ea6\u7684\u65f6\u5019\uff0c\u4e00\u65e6\u53d1\u73b0\u4e0d\u662f\u603b\u957f\u5ea6\u7684\u56e0\u5b50\u76f4\u63a5\u8df3\u8fc7\uff0c\u6210\u529f\u8282\u7701\u65f6\u95f4\u3002\n\n\u8fd8\u6709\uff0c\u5b57\u7b26\u4e32\u7684\u987a\u5e8f\u4efb\u610f\uff0c\u76f8\u4fe1\u5927\u5bb6\u90fd\u4f1a\u60f3\u5230\u7528\u6392\u5e8f\u6765\u641e\uff0c\u4e3a\u4e86\u63d0\u5347\u6548\u7387~~\u5361\u5e38~~\uff0c\u6876\u6392\u5e8f\u6bd4\u8f83\u5408\u9002\u3002\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u66b4\u529b\u679a\u4e3e\u4e86\uff01\n\n\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nconst int maxn=100010;\nchar str[maxn]; int t[26],tmp[26];\nint main(){\n    scanf(\"%s\",str);\n    int len=strlen(str);\n    for(register int sub=1;sub<=(len>>1);sub++){ //\u8bcd\u6839\u4e0d\u80fd\u662f\u6574\u4e2a\u5b57\u7b26\u4e32\uff01\n        if(len%sub) continue;//\u526a\u679d\n        memset(t,0,sizeof(t));//\u522b\u5fd8\u4e86\u521d\u59cb\u5316\n        for(register int i=0;i<sub;i++) t[(int)(str[i]-'a')]++;//\u7edf\u8ba1\u8bcd\u6839\u7684\u5404\u4e2a\u5b57\u6bcd\u4e2a\u6570\n        bool flag=true;\n        for(register int i=sub;i<len;i+=sub){\n            memset(tmp,0,sizeof(tmp));\n            for(register int j=i;j<i+sub;j++) tmp[(int)(str[j]-'a')]++;\n            for(register int j=0;j<26;j++)\n                if(tmp[j]!=t[j]) flag=false;//\u7edf\u8ba1\u5e76\u5224\u65ad\u662f\u5426\u548c\u8bcd\u6839\u76f8\u540c\n        }\n        if(flag){\n            for(register int i=0;i<sub;i++) putchar(str[i]);\n            putchar('\\n'); return 0;\n        }//\u6ee1\u8db3\u6761\u4ef6\u5c31\u8f93\u51fa\n    }\n    puts(\"-1\");//\u7279\u6b8a\u60c5\u51b5\n    return 0;\n}\n```\n\n\u76f8\u4f3c\u9898\u76ee\uff1a [LibreOJ P10035](https://loj.ac/p/10035)",
        "postTime": 1607745988,
        "uid": 334727,
        "name": "BreakPlus",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6724 \u3010[COCI2015-2016#5] MULTIGRAM\u3011"
    }
]