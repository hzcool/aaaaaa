[
    {
        "content": "\u83ab\u961f\u4e8c\u6b21\u79bb\u7ebf\u6a21\u677f\u9898\u3002\n\n\u76f4\u63a5\u5957 P4887 \u4ee3\u7801\uff0c\u53ea\u9700\u8981\u6539\u53d8\u7ed3\u6784\u548c\u8be2\u95ee\uff1a\n\nP4887 \u4e2d\uff0c\u6211\u4eec\u5e0c\u671b $a_i\\oplus a_j$ \u5c5e\u4e8e\u76ee\u6807\u96c6\u5408 $t$\u3002\u8fd9\u91cc $a_i\\in p$ \u5176\u4e2d $p$ \u9700\u8981\u652f\u6301\u6dfb\u52a0\u5143\u7d20\uff0c\u5e76\u4e14 $a_j$ \u968f\u65f6\u8be2\u95ee\u3002\n\n\u4e8e\u662f\u6211\u4eec\u7ef4\u62a4\u4e86\u6570\u7ec4 $S$\uff0c\u5176\u4e2d $S_i$ \u4e3a $p\\otimes t$ \u4e2d\u5f02\u6216\u4e3a $i$ \u7684\u5bf9\u6570\u4e2a\u6570\u3002\u8fd9\u6837\u8be2\u95ee\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee $S$ \u800c\u4fee\u6539\u53ef\u4ee5 $O(|t|)$ \u4fee\u6539 $S$ \u7684 $|t|$ \u4e2a\u4f4d\u7f6e\u3002\n\n\u800c\u8fd9\u9053\u9898\u4e2d $t$ \u4e3a\u4e00\u4e2a\u524d\u7f00 $[0,x]$ \u7684\u5f62\u5f0f\uff0c\u6211\u4eec\u4ecd\u7136\u53ef\u4ee5\u7ef4\u62a4\u540c\u6837\u7684\u6570\u7ec4 $S$\u3002\u5c06 $a_i$ \u6dfb\u52a0\u5230\u96c6\u5408 $p$ \u7684\u65f6\u5019 $S$ \u9700\u8981\u5bf9\u6240\u6709 $S_{a_i\\oplus c}:0\\le c\\le x$ \u4f4d\u7f6e\u52a0 1\u3002\u8003\u8651 $x+1$ \u7684\u4e8c\u8fdb\u5236\u6700\u5927\u4f4d $y$\uff0c\u5219 $2^y<x$\uff0c$c$ \u53ef\u4ee5\u5206\u6210\u4e24\u7c7b\uff1a$0\\le c<2^y$ \u4ee5\u53ca $2^y\\le c<(x+1)\\iff 0\\le c\\oplus2^y<(x+1)\\oplus2^y$\u3002\n\n\u7ee7\u7eed\u62c6\u6700\u5927\u4f4d\u5c31\u53ef\u4ee5\u628a $\\{a_o\\oplus c\\}$ \u96c6\u5408\u62c6\u4e3a\u82e5\u5e72 $[l\\times 2^k,(l+1)\\times 2^k)$ \u4e4b\u5e76\uff0c\u5176\u4e2d\u6bcf\u4e00\u4e2a $k$ \u4e92\u4e0d\u76f8\u540c\u3002\u5bf9 $S$ \u5206\u5927\u5c0f\u4e3a $2^9$ \u7684\u5757\uff0c\u5f53 $k\\ge 9$ \u6574\u5757\u66b4\u529b\u6253\u6807\u8bb0\uff0c\u5f53 $k<9$ \u76f4\u63a5\u66b4\u529b\u4fee\u6539\uff0c\u8be2\u95ee\u4ecd\u7136\u662f $O(1)$\u3002\n\n\u8fd9\u6837\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n\\sqrt n+n\\sqrt q)$\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\nvoid add(int val) {\n  for (int i = 17; i >= 9; i--)\n    if (x & (1 << i)) {\n      int l = (val >> i) << i;\n      int r = l + (1 << i);\n      l >>= 9, r >>= 9;\n      for (int j = l; j < r; j++)\n        layer2[j]++;\n      val ^= (1 << i);\n    }\n  for (int i = 8; i >= 0; i--)\n    if (x & (1 << i)) {\n      int l = (val >> i) << i;\n      int r = l + (1 << i);\n      for (int j = l; j < r; j++)\n        layer1[j]++;\n      val ^= (1 << i);\n    }\n}\n```",
        "postTime": 1634458648,
        "uid": 511511,
        "name": "DreamWasTaken",
        "ccfLevel": 0,
        "title": "P7906 [Ynoi2005] rpxleqxq"
    },
    {
        "content": "\u9893\u5e9f\u8bb0\u5f55\u3002\u3002\u3002\n\n\u9898\u610f\uff1a\u7ed9\u5b9a\u5168\u5c40 $x$\uff0c\u8fdb\u884c $q$ \u6b21\u53ef\u79bb\u7ebf\u8be2\u95ee $[l,r]$ \u4e2d\u6709\u591a\u5c11\u4e8c\u5143\u7ec4 $(i,j)$ \u6ee1\u8db3 $i<j\\land(a_i\\oplus a_j)\\le x$\u3002\n\n\u4e00\u773c\u83ab\u4e8c\u79bb\uff0c\u4f46\u662f\u8d5b\u65f6\u5634\u5df4\u5728\u65c1\u8fb9\u5435\u5435\uff0c\u673a\u623f\u7684\u4eba\u90fd\u5728\u9a82\u51fa\u9898\u4eba\uff0c\u6ca1\u60f3\u5230\u600e\u4e48\u5e73\u8861\u590d\u6742\u5ea6\u3002\n\n\u4e8e\u662f\u5957\u4e0a\u83ab\u4e8c\u79bb\u7684\u677f\u5b50\uff0c\u6211\u4eec\u73b0\u5728\u8981\u89e3\u51b3\u5982\u4f55\u5e73\u8861\u590d\u6742\u5ea6\uff0c\u5373\u727a\u7272\u4e00\u70b9\u590d\u6742\u5ea6\u4f46\u662f\u8fbe\u5230 $O(1)$ \u67e5\u8be2\u7684\u4e1c\u897f\u3002\n\n\u53ef\u4ee5\u610f\u8bc6\u5230\u6211\u4eec\u8981\u89e3\u51b3\u7684\u95ee\u9898\u662f $O(1)$ \u8be2\u95ee $g$ \u548c\u591a\u5c11\u4e2a\u96c6\u5408 $S$ \u7684\u5143\u7d20\u5f02\u6216\u5728 $[0,x]$ \u4e0a\u3002\n\n\u8003\u8651\u4e00\u4e2a\u6734\u7d20\u7684\u4e1c\u897f\uff0c\u6bcf\u6b21\u63d2\u5165\u4e00\u4e2a\u6570 $a$ \u7684\u65f6\u5019\uff0c\u628a\u6240\u6709\u7684 $y\\in[0,x],G_{y\\oplus a}\\leftarrow G_{y\\oplus a}+1$\uff0c\u7136\u540e\u67e5\u8be2\u5c31\u76f4\u63a5\u8be2\u95ee $G_g$ \u5373\u53ef\u3002\n\n\u4f46\u662f\u4f60\u5927\u53ef\u4e0d\u5fc5\uff0c\u4f60\u628a $y\\oplus a$ \u53d8\u6210\u82e5\u5e72\u4e2a $[t2^h,(t+1)2^h-1]$\uff0c\u8003\u8651\u4e00\u4e2a\u503c\u57df\u5206\u5757\u4e00\u6837\u7684\u4e1c\u897f\uff0c$h< 9$ \u65f6\u8dd1\u66b4\u529b\uff0c$h\\ge9$ \u65f6\u76f4\u63a5\u6253\u6807\u8bb0\u5373\u53ef\u3002\n\n```cpp\n#define maxn 1000010\nint n,m;\nint a[200005];\nint pos[200005],blo;\nstruct prpr{\n\tint l,r,id;\n\tinline bool operator<(prpr x)const{\n\t\tif(pos[l]^pos[x.l])return l<x.l;\n\t\tif(pos[l]&1)return r<x.r;\n\t\treturn r>x.r;\n\t}\n}q[maxn];\nstruct G{\n\tint U;\n\tint G1[512],G2[262144];\n\tvoid clear(){\n\t\tmemset(G1,0,sizeof G1);\n\t\tmemset(G2,0,sizeof G2);\n\t}\n\tint ask(int c){\n\t\treturn G1[c>>9]+G2[c];\n\t}\n\tvoid add(int c){\n\t\tper(i,17,9)if(U>>i&1){\n\t\t\tint l=c>>i<<i;\n\t\t\tint r=l+(1<<i);\n\t\t//\tcout<<l<<' '<<r<<endl;\n\t\t\tl>>=9,r>>=9;\n\t\t\t//divided into [(c>>i)*2^i,((c>>i)+1)*2^i-1]\n\t\t\trep(j,l,r-1)G1[j]++;\n\t\t\tc^=1<<i;\n\t\t}\n\t\tper(i,8,0)if(U>>i&1){\n\t\t\tint l=c>>i<<i;\n\t\t\tint r=l+(1<<i);\n\t\t//\tcout<<l<<' '<<r<<endl;\n\t\t\trep(j,l,r-1)G2[j]++;\n\t\t\tc^=1<<i;\n\t\t}\n\t}\n}st;\nint pre[maxn];\nstruct opt{\n\tint l,r,id,f;\n\topt(int ll=0,int rr=0,int iid=0,int ff=0):l(ll),r(rr),id(iid),f(ff){}\n};\nvector<opt>v1[200005],v2[200005];\nlong long ans[maxn];\nsigned main(){/*\n\tst.U=683;\n\tst.add(146);\n\t\n\treturn 0;*/\n#ifndef ONLINE_JUDGE\n\tfreopen(\"testdata.in\",\"r\",stdin);\n#endif\n\tcin>>n>>st.U;st.U++;\n\trep(i,1,n)cin>>a[i];\n\trep(i,2,n)st.add(a[i-1]),pre[i]=st.ask(a[i]);\n\tblo=sqrt(n);\n\trep(i,1,n)pos[i]=(i-1)/blo+1;\n\tcin>>m;\n\trep(i,1,m){\n\t\tcin>>q[i].l>>q[i].r;\n\t\tq[i].id=i;\n\t}\n\tsort(q+1,q+m+1);\n\tint l=1,r=0;\n\tfor(int i=1;i<=m;i++){\n\t\tif(r<q[i].r)v1[l].push_back(opt(r+1,q[i].r,q[i].id,1)),r=q[i].r;\n\t\tif(l>q[i].l)v2[r].push_back(opt(q[i].l,l-1,q[i].id,1)),l=q[i].l;\n\t\tif(r>q[i].r)v1[l].push_back(opt(q[i].r+1,r,q[i].id,-1)),r=q[i].r;\n\t\tif(l<q[i].l)v2[r].push_back(opt(l,q[i].l-1,q[i].id,-1)),l=q[i].l;\n\t}\n\tst.clear();\n\tfor(int i=1;i<=n;i++){\n\t\tfor(unsigned j=0;j<v1[i].size();j++)\n\t\tfor(int k=v1[i][j].l;k<=v1[i][j].r;k++)\n\t\tans[v1[i][j].id]+=(pre[k]-st.ask(a[k]))*v1[i][j].f;\n\t\tst.add(a[i]);\n\t}\n\tst.clear();\n\tfor(int i=1;i<=n;i++){\n\t\tst.add(a[i]);\n\t\tfor(unsigned j=0;j<v2[i].size();j++)\n\t\tfor(int k=v2[i][j].l;k<=v2[i][j].r;k++)\n\t\tans[v2[i][j].id]+=(st.ask(a[k])-pre[k]-1)*v2[i][j].f;\n\t}\n\trep(i,1,m)ans[q[i].id]+=ans[q[i-1].id];\n\trep(i,1,m)cout<<ans[i]<<endl;\n#ifndef ONLINE_JUDGE\n\tcerr<<endl<<(double)clock()/CLOCKS_PER_SEC;\n#endif\n}\n```\n\u6700\u540e\u4e00\u76f4\u6700\u540e\u4e00\u4e2a $\\text{subtask re}$\uff0c\u8fdb\u884c\u4e86 $\\text{assert}$\uff0c\u53d1\u73b0\u505a\u524d\u7f00\u548c $\\text{ans}$ \u7684\u65f6\u5019 $\\text{q.id}$ \u8d8a\u754c\u4e86\uff0c\u4e8e\u662f\u7acb\u9a6c\u610f\u8bc6\u5230\u662f\u6570\u7ec4\u8d8a\u754c\u4e86\uff0c\u628a $\\text{G2}$ \u6570\u7ec4\u5927\u5c0f\u4ece $2\\times10^5+5$ \u6539\u5230\u4e86 $2^{18}$\uff0c\u7136\u540e\u5c31\u8fc7\u4e86\u3002\u3002\u3002\u3002\n\n\u8fd9\u4e9b\u90fd\u6ca1\u6709\u731c\u9898\u76ee\u610f\u601d\u6709\u8da3\uff1a$\\texttt{Range Pair Xor LEQ X Queries}$",
        "postTime": 1634776666,
        "uid": 100325,
        "name": "peterwuyihong",
        "ccfLevel": 7,
        "title": "P7906 [Ynoi2005] rpxleqxq \u8bb0\u5f55"
    },
    {
        "content": "\u53c8\u88ab\u4e8c\u8fdb\u5236\u5757\u957f\u7ed9\u6740\u6389\u4e86\uff0cSB\uff0c\u8fd9\u79cd\u4e1c\u897f\u90fd\u770b\u4e0d\u51fa\u6765\u3002          \n\n\u6708\u8d5b\u7684\u524d 2h \u4e00\u76f4\u90fd\u5728\u60f3\u6b64\u9898\u7684\u5206\u5757\u505a\u6cd5\u2026\u2026\u575a\u4fe1\u4e86\u4e00\u4e2a\u611f\u89c9\u597d\u50cf $O(n \\sqrt {n \\log n})$ \u505a\u6cd5\u540e\u4e00\u770b\u53d1\u73b0\u90fd\u6709\u4eba\u8fc7\u4e86\uff0c\u4e00\u770b\u7801\u91cf\u5c31\u611f\u89c9\u4e0d\u662f\u5927\u5206\u5757\u9898\u2026\u2026     \n\n\u7136\u540e\u53c8\u76ef\u4e86\u4e00\u4e0b\uff0c\u53d1\u73b0\u2026\u2026\u8fd9\u4e0d\u662f\u9759\u6001\u67e5\u8be2\u5417\uff1f\u8fd9\u4e2a\u533a\u95f4\u67e5\u8be2\u8fd8\u5177\u5907\u5355\u70b9\u79fb\u52a8\u540e\u7684\u524d\u7f00\u51cf\u6027\u8d28\uff0c\u600e\u4e48\u611f\u89c9\u8fd9\u4e2a\u66f4\u50cf\u4e8c\u79bb\u83ab\u961f\u4e86\u2026\u2026\uff08\u592a\u4e45\u6ca1\u78b0\u4e8c\u79bb\u83ab\u961f\u771f\u5fd8\u5b8c\u4e86\uff09             \n\n\u7136\u540e\u8003\u8651\u4e86\u4e00\u4e0b\u4e8c\u79bb\u83ab\u961f\u7684\u505a\u6cd5\uff0c\u53d1\u73b0\u74f6\u9888\u5c31\u5728\u4e8e\u7ef4\u62a4\u503c\u57df\u5185\u4efb\u610f\u6570\u5bf9\u4e00\u4e2a\u524d\u7f00\u7684\u8d21\u732e\uff0c\u7531\u4e8e\u4e8c\u79bb\u83ab\u961f\u4e4b\u540e\u5c31\u5df2\u7ecf\u6709 $O(n \\sqrt m)$ \u4e2a\u8be2\u95ee\u4e86\uff0c\u6240\u4ee5\u5fc5\u987b\u7528\u4e00\u4e2a\u4e0d\u52a3\u4e8e $O(\\sqrt w) - O(1)$ \u7ea7\u522b\u7684\u6570\u636e\u7ed3\u6784\u7ef4\u62a4\u3002            \n\n~~\u5f53\u7136\u9664\u79d1\u6280\u4ee5\u5916\u4e5f\u5c31\u53ea\u6709\u5206\u5757\u4e86\u3002~~\n\n\u73b0\u5728\u6211\u4eec\u77e5\u9053\u4e86 $a_i$ \u4e0e $x$\uff0c\u8981\u5728\u503c\u57df\u4e0a\u5bf9\u6240\u6709\u6ee1\u8db3 $ai \\bigoplus a_j \\leq x$ \u7684 $a_j$ \u7684\u503c\u52a0 $1$\u3002\u7528\u4e00\u822c\u7684\u5957\u8def\u6211\u4eec\u4e00\u5b9a\u53ef\u4ee5\u628a\u533a\u95f4\u62c6\u6210 $\\Theta(\\log w)$ \u4e2a\u533a\u95f4\uff0c\u5c31\u53ef\u4ee5 $O(\\sqrt w \\log w) - O(1)$ \u7ef4\u62a4\u4e86\uff0c\u4e0d\u8fc7\u80af\u5b9a\u4e5f\u8fc7\u4e0d\u4e86\u3002                    \n\n\u53d1\u73b0 $\\Theta(\\log w)$ \u4e2a\u533a\u95f4\u4e92\u4e0d\u76f8\u4ea4\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u7528\u679a\u4e3e\u6bcf\u4e2a\u5757\u88ab\u52a0\u8fc7\u6ca1\u6709\u7136\u540e\u66b4\u529b\u52a0\u6563\u5757\u5c31\u884c\u4e86\uff0c\u8bb0\u5757\u957f\u4e3a $B$ \u90a3\u4e48\u4fee\u6539\u7684\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n(B \\log w + \\frac{w}{B}))$\uff0c\u6b64\u65f6\u53d6 $B = \\frac{\\sqrt w}{\\sqrt {\\log w}}$ \u53ef\u4ee5\u505a\u5230 $O(n \\sqrt {w \\log w})$ \u7684\u603b\u4fee\u6539\u65f6\u95f4\u590d\u6742\u5ea6\u3002           \n\n\u4f46\u662f\u8fd9\u6837\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u8fd8\u662f\u6709\u4f18\u5316\u7684\u7a7a\u95f4\u3002\u6211\u4eec\u8003\u8651\u4ee4\u5757\u957f\u4e3a $2 ^ x$ \u5e76\u4ece $0$ \u5f00\u59cb\u5206\u5757\uff0c\u4e0d\u96be\u53d1\u73b0\u6bcf\u4e00\u4e2a\u5757\u7684\u5934\u90fd\u662f\u53ef\u4ee5\u5199\u6210 $2 ^ x$ \u7684\u500d\u6570\u7684\uff0c\u6240\u4ee5\u5f53\u6211\u4eec\u5728\u53d6 $\\Theta(\\log w)$ \u4e2a\u533a\u95f4\u65f6\uff0c\u5982\u679c\u6b64\u65f6\u533a\u95f4\u957f\u5ea6\u5927\u4e8e $2 ^ x$ \u90a3\u4e48\u5fc5\u5c06\u8986\u76d6\u4e00\u6bb5\u8fde\u7eed\u7684\u6574\u5757\uff0c\u800c\u5f53\u533a\u95f4\u957f\u5ea6\u5c0f\u4e8e $2 ^ x$ \u65f6\uff0c\u6211\u4eec\u77e5\u9053\u8fd9\u540e\u9762\u7684\u533a\u95f4\u957f\u5ea6\u4e4b\u548c\u4e3a $2 ^ x$ \u6570\u91cf\u7ea7\u76f4\u63a5\u66b4\u529b\u52a0\u5c31\u597d\u4e86\u3002\u7531\u4e8e\u6bcf\u4e2a\u5757\u81f3\u591a\u88ab\u8986\u76d6\u4e00\u6b21\u6240\u4ee5\u4e00\u6b21\u4fee\u6539\u7684\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(\\frac{w}{2 ^ x} + 2 ^ x)$\u3002              \n\n\u4e2a\u4eba\u83ab\u961f\u65f6\u7684\u5757\u957f\u53d6\u7684\u662f $300$\uff0c$x$ \u53d6\u5230 $9$ \u8dd1\u7684\u6700\u5feb\uff0c\u5982\u679c\u6709\u540c\u5b66\u88ab\u5361\u5e38\u4e86\u53ef\u4ee5\u53c2\u8003\u4e00\u4e0b\u8fd9\u7ec4\u6570\u636e\u3002\n",
        "postTime": 1634570758,
        "uid": 132533,
        "name": "Hakuoro",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P7906 [Ynoi2005] rpxleqxq"
    },
    {
        "content": "~~\u51fa\u9898\u4eba\u9898\u89e3.jpg~~\n\n\u53d1\u73b0\u9898\u89e3\u533a\u4e09\u7bc7\u9898\u89e3\u90fd\u4e0d\u662f\u51fa\u9898\u4eba\u7684\u672c\u610f\u6240\u4ee5\u8fc7\u6765\u5199\u5199\n\n***\n\n\u9996\u5148\u770b\u5230\u4e8c\u5143\u7ec4\u60f3\u5230\u4e8c\u79bb\uff0c\u53ef\u4ee5\u8f6c\u5316\u4e3a\u4e00\u4e2a $O(n)$ \u6b21\u4fee\u6539 $O(n\\sqrt{m})$ \u6b21\u67e5\u8be2\u7684\u95ee\u9898\uff0c\u8fd9\u90e8\u5206\u5176\u5b9e\u633a\u677f\u7684\u3002\n\n\u4fee\u6539\u65b9\u5f0f\u662f\u5411\u96c6\u5408\u4e2d\u63d2\u5165\u4e00\u4e2a\u70b9\uff0c\u67e5\u8be2\u65b9\u5f0f\u662f\u7ed9\u51fa\u4e00\u4e2a\u6570 $x$ \u548c\u4e00\u4e2a\u56fa\u5b9a\u7684\u5e38\u6570 $y$ \uff0c\u6c42\u96c6\u5408\u5185\u6709\u591a\u5c11\u4e2a\u6570 $z$ \u6ee1\u8db3 $z \\oplus x \\le y$\u3002\n\n\u8003\u8651\u5bf9 $z$ \u5efa Trie \uff0c\u6309 $x, y$ \u7684\u5f53\u524d\u4f4d\u8fdb\u884c\u8ba8\u8bba\u3002\n\n\u5177\u4f53\u8ba8\u8bba\u4e0d\u5c55\u5f00\u4e86\uff0c\u53cd\u6b63\u4e00\u5b9a\u662f \u201c\u5bf9\u4e00\u68f5\u5b50\u6811\u7d2f\u52a0\u8d21\u732e\u7136\u540e\u8fdb\u5165\u53e6\u4e00\u68f5\u5b50\u6811\u201d \u7684\u5f62\u5f0f\u3002\n\n\u4e0d\u8fc7\u8fd9\u6837\u505a\u4f1a\u591a\u4e00\u4e2a $\\log$\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a $O(\\sqrt{n})$ \u4fee\u6539 $O(1)$ \u67e5\u8be2\u7684\u6570\u636e\u7ed3\u6784\u3002\n\n\u8003\u8651\u628a $k$ \u5c42\u51b3\u7b56\u538b\u6210\u4e00\u5c42\uff0c\u90a3\u4e48\u5982\u679c\u80fd\u505a\u5230\u6bcf\u4e00\u5c42 $O(1)$ \u67e5\u8be2\uff0c\u4e00\u6b21\u67e5\u8be2\u5c31\u662f $O(\\frac{\\log n}{k})$ \u7684\u3002\n\n\u7136\u540e\u8003\u8651\u4fee\u6539\u90e8\u5206\uff0c\u6211\u4eec\u5bf9\u4e8e\u6bcf $k$ \u5c42\u76f4\u63a5\u679a\u4e3e $x, y$ \u5728\u8fd9\u51e0\u4f4d\u7684\u7684 $2^k$ \u79cd\u53ef\u80fd\u6027\uff0c\u56e0\u6b64\u53d6 $k= \\frac{\\log n}{2}$ \u5373\u53ef\u5f97\u5230 $O(\\sqrt{n})-O(1)$ \u7684\u4e00\u4e2a\u7ed3\u6784\u3002\n\n\u5177\u4f53\u5b9e\u73b0\u7684\u65f6\u5019\u53ea\u9700\u8981\u548c\u666e\u901a Trie \u7c7b\u4f3c\u5b9e\u73b0\uff0c\u53ea\u4e0d\u8fc7\u7b2c\u4e00\u5c42\u7684\u51fa\u8fb9\u6761\u6570\u53d8\u6210\u4e86 $2^k$ \u800c\u5df2\uff0c\u7136\u540e\u6ce8\u610f\u5230\u7b2c\u4e8c\u5c42\u7684\u8282\u70b9\u53ef\u4ee5\u901a\u8fc7\u7b2c\u4e00\u5c42\u7684\u51fa\u8fb9\u76f4\u63a5\u786e\u5b9a\u7f16\u53f7\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u52a8\u6001\u5f00\u70b9\u3002\n\n\u4ed4\u7ec6\u60f3\u60f3\u611f\u89c9\u8fd9\u73a9\u610f\u513f\u672c\u8d28\u4e0a\u5c31\u662f\u9ad8\u4f4e\u4f4d\u5206\u5757\uff08\uff08\n\n\u5173\u952e\u90e8\u5206\u4ee3\u7801\uff08\u5269\u4e0b\u8d3a\u4e2a\u4e8c\u79bb\u677f\u5b50\u5c31\u884c\uff09\n```cpp\n// o \u5c31\u662f\u9898\u9762\u4e2d\u7684 x\nstruct DS {\n    int f1[1 << 9 | 5], f2[1 << 9 | 5][1 << 9 | 5];\n    inline void ins(const int x) {\n\t\tREP(i, 0, 1 << 9) f1[i] += (((x >> 9) ^ i) < (o >> 9));\n\t\tREP(i, 0, 1 << 9) f2[x >> 9][i] += (((x & mod) ^ i) <= (o & mod));\n\t}\n    inline int ask(const int x) { return f1[x >> 9] + f2[(x ^ o) >> 9][x & mod]; }\n}ds;\n```\n",
        "postTime": 1634459127,
        "uid": 66511,
        "name": "DPair",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 \u3010P7906 [Ynoi2005] rpxleqxq\u3011"
    }
]