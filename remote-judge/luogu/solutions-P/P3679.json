[
    {
        "content": "> \u5f15\u7406\uff1a\u70b9\u96c6 $V$ \u5728\u5339\u914d\u5185\u7684\u5145\u8981\u6761\u4ef6\u4e3a $V \\cap A$ \u80fd\u5728\u5339\u914d\u5185\u4e14 $V \\cap B$ \u80fd\u5728\u5339\u914d\u5185\u3002\n\n> \u8bc1\u660e\uff08\u53c2\u8003\u4e86[\u8fd9\u7bc7\u535a\u5ba2](https://blog.csdn.net/qq_42101694/article/details/121020996)\uff09\uff1a\u4ee4 $X = V \\cap A,Y = V \\cap B$\u3002\u5219\u5148\u627e\u51fa\u8986\u76d6 $X$ \u7684\u539f\u56fe\u4e0a\u7684\u6700\u5927\u5339\u914d\u548c\u8986\u76d6 $Y$ \u7684\u6700\u5927\u5339\u914d\uff0c\u7136\u540e\u628a\u8fd9\u4e9b\u8fb9\u5355\u72ec\u62ce\u51fa\u6765\u5efa\u56fe\u3002\u5219\u73b0\u5728\u7684\u76ee\u6807\u662f\u9009\u51fa\u82e5\u5e72\u6761 **\u4e0d\u4ea4\u7684** \u8fb9\uff0c\u4f7f\u5f97 $X$ \u548c $Y$ \u5747\u88ab\u8986\u76d6\u3002\u6839\u636e\u5b9a\u4e49\u6bcf\u4e2a\u70b9 $deg \\le 2$\uff0c\u6240\u4ee5\u8fde\u901a\u5757\u53ea\u6709\u94fe\u548c\u73af\u4e24\u79cd\u3002\u5bf9\u4e8e\u73af\uff0c\u53ea\u53ef\u80fd\u662f\u5076\u73af\uff0c\u6240\u4ee5\u9694\u4e00\u6761\u8fb9\u53d6\u4e00\u6761\u8fb9\u5373\u53ef\uff1b\u5bf9\u4e8e\u94fe\uff0c\u5982\u679c\u662f\u5947\u94fe\uff0c\u5219\u4ece\u7b2c\u4e00\u6761\u8fb9\u5f00\u59cb\u9694\u7740\u53d6\uff1b\u5982\u679c\u662f\u5076\u94fe\uff0c\u53d1\u73b0\u7aef\u70b9\u540c\u5c5e\u4e8e\u5de6\u90e8\u70b9\u6216\u53f3\u90e8\u70b9\uff0c\u4e0d\u53ef\u80fd\u540c\u65f6 $\\in X$ \u6216 $\\in Y$\u3002\u907f\u5f00\u4e0d\u9700\u8981\u8986\u76d6\u7684\u7aef\u70b9\u9009\u8fb9\u5373\u53ef\u3002\n\n\u4e8e\u662f\u73b0\u5728\u53ef\u4ee5\u5206\u522b\u5bf9\u5de6\u90e8\u70b9\u548c\u53f3\u90e8\u70b9\u7edf\u8ba1\u4e86\u3002\n\n> Hall \u5b9a\u7406\uff1a\u8003\u8651\u5de6\u90e8\u70b9\u6216\u53f3\u90e8\u70b9\u7684\u67d0\u4e2a\u70b9\u96c6 $S$\uff0c\u8bbe $N(S) = \\{v | \\exists u \\in S,(u,v) \\in E\\}$\uff0c\u5219 $S$ \u6709\u5b8c\u7f8e\u5339\u914d\u7684\u5145\u8981\u6761\u4ef6\u4e3a $\\forall T \\subseteq S,|N(T)| \\ge |T|$\u3002\n\n\u6839\u636e Hall \u5b9a\u7406\uff0c\u72b6\u538b\u540e\u5bf9\u5de6\u90e8\u70b9\u548c\u53f3\u90e8\u70b9\u5206\u522b\u8dd1\u4e00\u904d\u9ad8\u7ef4\u524d\u7f00\u4e0e\u5c31\u80fd\u5f97\u51fa\u54ea\u4e9b\u70b9\u96c6\u6709\u5b8c\u7f8e\u5339\u914d\u3002\u4e4b\u540e\u7531\u4e8e\u9898\u76ee\u6c42\u7684\u662f\u5de6\u90e8\u70b9\u548c\u53f3\u90e8\u70b9\u7684\u70b9\u96c6\uff0c\u505a\u4e00\u904d\u53cc\u6307\u9488\u6216\u4e8c\u5206\u5747\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n2^n)$\u3002",
        "postTime": 1678273423,
        "uid": 275273,
        "name": "zltqwq",
        "ccfLevel": 0,
        "title": "P3679 \u9898\u89e3"
    },
    {
        "content": "\u524d\u7f6e\u77e5\u8bc6\uff1a\u970d\u5c14\u5b9a\u7406\n\n> \u5bf9\u4e8e\u4e8c\u5206\u56fe\uff0c\u4e24\u90e8\u5206\u522b\u4e3a $X,Y$\uff0c\u4ee4 $|X| \\le |Y|$\uff0c\u5219\u5b58\u5728\u5927\u5c0f\u4e3a $X$ \u7684\u5339\u914d\u7684\u5145\u8981\u6761\u4ef6\u662f\u5bf9\u4e8e\u4efb\u610f $S\\subseteq X$\uff0c\u90fd\u6709 $|F(S)| \\ge |S|$\uff0c\u5176\u4e2d $F(S) = \\{y\\ |\\ x\\to y \\in E,x\\in S,y\\in Y\\}$\u3002\n\n\u8bf4\u4eba\u8bdd\u5c31\u662f\u5bf9\u4e8e $X$ \u7684\u6240\u6709\u5b50\u96c6\uff0c\u76f8\u90bb\u7684\u70b9\u6570\u90fd\u4e0d\u5c0f\u4e8e\u5b50\u96c6\u3002\n\n\u5fc5\u8981\u6027\u663e\u7136\uff0c\u5145\u5206\u6027\u4e0d\u663e\u7136\uff0c\u53cd\u8bc1\u4e00\u4e0b\u3002\n\n> \u5047\u8bbe\u6ee1\u8db3\u6761\u4ef6\u4f46\u662f\u5339\u914d $<|X|$\uff0c\u90a3\u4e48\u4e0d\u59a8\u4ee4\u6ca1\u6709\u5339\u914d\u7684\u70b9\u4e3a $x$\uff0c$x$ \u7684\u6240\u6709\u90bb\u5c45\u90fd\u88ab\u5339\u914d\u4e86\uff0c\u6b64\u65f6\u4ece $x$ \u51fa\u53d1\u4e00\u5b9a\u5b58\u5728\u4e00\u6761\u589e\u5e7f\u8def\uff08\u5308\u7259\u5229\u7b97\u6cd5\uff09\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u5047\u8bbe\u8fd9\u6761\u975e\u589e\u5e7f\u8def\u7ecf\u8fc7 $X$ \u7684\u70b9\u96c6\u4e3a $X'$ \uff0c$|F(X')|$ \u4e00\u5b9a $<|X'|$\uff0c\u624b\u52a8\u753b\u56fe\u5373\u53ef\u7406\u89e3\u3002\n\n\u90a3\u4e48\u5bf9\u4e8e\u672c\u9898\u5173\u952e\u7ed3\u8bba\u662f\n\n> $V$ \u5728 $X$ \u4e2d\u7684\u70b9\u96c6\u4e3a $S$\uff0c$Y$ \u4e2d\u7684\u70b9\u96c6\u4e3a $T$\u3002\u5982\u679c\u5b58\u5728\u5339\u914d\u8986\u76d6 $S$\uff0c\u5e76\u5b58\u5728\u5339\u914d\u8986\u76d6 $T$\uff0c\u5219\u4e00\u5b9a\u5b58\u5728\u5339\u914d\u8986\u76d6 $V$\u3002\n\n\u8fd9\u7ed3\u8bba\u633a\u597d\u731c\u7684\uff0c$N\\le 20$ \u663e\u7136\u5c31\u662f\u6298\u534a\u7136\u540e\u53cc\u6307\u9488\u561b\u3002\u8bc1\u660e\u4e5f\u4e0d\u96be\u3002\n\n> $S$ \u5728 $T$ \u4e2d\u7684\u90bb\u5c45\u4e3a $W$\uff0c$S$ \u548c\u5b83\u7684\u90bb\u5c45\u5339\u914d\uff0c\u7136\u540e $T/W$ \u518d\u8fdb\u884c\u5339\u914d\u5373\u53ef\u3002\n\n\u6240\u4ee5\u76f4\u63a5\u72b6\u538b DP\uff0c$f_S$ \u8868\u793a\u96c6\u5408 $S$ \u7684\u90bb\u5c45\u96c6\u5408\uff0c$h_{S}$ \u8868\u793a\u96c6\u5408 $S$ \u662f\u5426\u5408\u6cd5\uff0c\u76f4\u63a5\u8f6c\u79fb $\\mathcal{O}(n^22^n + m^22 ^m)$\u3002 \n\n```cpp\n#define N 20\n#define M ((1 << N) + 5)\nint n, m, u[M], v[M], f[M], bt[M], g[M], p[M], q[M], l, r, h[M], a[M], b[M]; char s[N + 1];\nint main() {\n\tread(n, m);\n\trep(i, 0, n - 1){\n\t\tscanf(\"%s\", s);\n\t\trep(j, 0, m - 1)if(s[j] == '1')u[1 << i] |= 1 << j, v[1 << j] |= 1 << i;\n\t}\n\trep(i, 0, n - 1)read(p[1 << i]);\n\trep(i, 0, m - 1)read(q[1 << i]);\n\tint w = (1 << max(n, m)) - 1;\n\trp(i, w)bt[i] = bt[i >> 1] + (i & 1);\n\tw = (1 << n) - 1;\n\th[0] = 1;\n\trp(i, w){\n\t\tint j = i & -i;\n\t\tp[i] = p[j] + p[i ^ j];\n\t\tf[i] = u[j] | f[i ^ j];\n\t\th[i] = 1;\n\t\tfor(int k = i; k; k -= k & -k)h[i] &= h[i ^ (k & -k)];\n\t\th[i] &= bt[f[i]] >= bt[i];\n\t\tif(h[i])a[++l] = p[i];\n\t}a[++l] = 0;\n\tw = (1 << m) - 1;\n\trp(i, w){\n\t\tint j = i & -i;\n\t\tq[i] = q[j] + q[i ^ j];\n\t\tg[i] = v[j] | g[i ^ j];\n\t\th[i] = 1;\n\t\tfor(int k = i; k; k -= k & -k)h[i] &= h[i ^ (k & -k)];\n\t\th[i] &= bt[g[i]] >= bt[i];\n\t\tif(h[i])b[++r] = q[i];\n\t}b[++r] = 0;\n\tsort(a + 1, a + l + 1),\n\tsort(b + 1, b + r + 1);\n\tread(w);\n\tint j = r; LL ans = 0;\n\trp(i, l){\n\t\twhile(j && b[j] + a[i] >= w)j--;\n\t\tans += r - j;\n\t}printf(\"%lld\\n\", ans);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1649511507,
        "uid": 119261,
        "name": "7KByte",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011[CERC2016]\u4e8c\u5206\u6bef Bipartite Blanket"
    },
    {
        "content": "\u8865\u5145\uff1a\u539f\u9898\u8fd8\u6709\u4e00\u4e2a\u6837\u4f8b\n\nINPUT:\n\n```\n3 2\n01\n11\n10\n1 2 3\n4 5\n8\n```\nOUTPUT:\n\n```\n13\n```\n\n\u9884\u5907\u77e5\u8bc6\uff1a\u970d\u5c14\u5b9a\u7406\n\n\u5982\u679c\u6307\u9488\u5bf9\u5de6\u8fb9\uff0c\u90a3\u4e48\u53ef\u4ee5\u72b6\u6001\u538b\u7f29\uff0c\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9\u662f\u5426\u5728\u96c6\u5408\u4e2d\uff0c\u5f97\u5230\u6bcf\u4e00\u4e2a\u70b9\u662f\u4e0d\u662f\u6ee1\u8db3\u970d\u5c14\u5b9a\u7406\uff0c\u628a\u6240\u6709\u6ee1\u8db3\u7684\u8bb0\u4e0b\u6765\n\n\u73b0\u5728\u662f\u9488\u5bf9\u5de6\u53f3\u4e24\u8fb9\uff0c\u53ef\u4ee5\u7528\u7c7b\u4f3c$meet$ $in$ $the$ $middle$\u7684\u65b9\u6cd5\uff0c\u5148\u6c42\u51fa\u5de6\u8fb9\u6ee1\u8db3\u7684\u548c\u53f3\u8fb9\u6ee1\u8db3\u7684\uff0c\u7136\u540e\u62fc\u8d77\u6765\u8fbe\u5230t\u7684\u6743\u503c\uff0c\u53ef\u4ee5$two-pointers$\u6216\u76f4\u63a5$lowerbound$\n\n```cpp\n#include <iostream>\n#include <stdio.h>\n#include <string.h>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nconst int N=(1<<20)+5;\nint s1[N],s2[N],dp1[N],dp2[N],n,m,v1[25],v2[25],tot1=0,tot2=0,t,sz[N];\nchar s[25];\nlong long ans=0;\nvector<int> sum1,sum2;\nint lowbit(int x) {return x&(-x);}\nint main() {\n  scanf(\"%d%d\",&n,&m);\n  for (int i=1;i<=n;++i) {\n    scanf(\"%s\",s);\n    for (int j=0;j<m;++j) if(s[j]=='1') {\n      s1[(1<<(i-1))]|=(1<<j);\n      s2[(1<<j)]|=(1<<(i-1));\n    }\n  }\n  for (int i=1;i<=n;++i) scanf(\"%d\",&v1[i]);\n  for (int i=1;i<=m;++i) scanf(\"%d\",&v2[i]);\n  for (int i=1;i<(1<<20);++i) sz[i]=sz[i-lowbit(i)]+1;\n  for (int i=0;i<(1<<n);++i) {\n    int ret=0;\n    dp1[i]=1;\n    for (int j=0;j<n;++j) {\n      if(i&(1<<j)) {\n        s1[i]|=s1[i^(1<<j)];\n        dp1[i]&=dp1[i^(1<<j)];\n        ret+=v1[j+1];\n      }\n    }\n    dp1[i]&=(sz[s1[i]]>=sz[i]);\n    if(dp1[i]) sum1.push_back(ret);\n  }\n  for (int i=0;i<(1<<m);++i) {\n    int ret=0;\n    dp2[i]=1;\n    for (int j=0;j<m;++j) {\n      if(i&(1<<j)) {\n        s2[i]|=s2[i^(1<<j)];\n        dp2[i]&=dp2[i^(1<<j)];\n        ret+=v2[j+1];\n      }\n    }\n    dp2[i]&=(sz[s2[i]]>=sz[i]);\n    if(dp2[i]) sum2.push_back(ret);\n  }\n  scanf(\"%d\",&t);\n  sort(sum1.begin(),sum1.end());\n  sort(sum2.begin(),sum2.end());\n  for (int i=0;i<sum1.size();++i) {\n    ans=ans+1ll*(sum2.end()-lower_bound(sum2.begin(),sum2.end(),t-sum1[i]));\n  }\n  printf(\"%lld\\n\",ans);\n  return 0;\n}\n\n```",
        "postTime": 1583066975,
        "uid": 78187,
        "name": "zjjcth330",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3679 \u3010[CERC2016]\u4e8c\u5206\u6bef Bipartite Blanket\u3011"
    },
    {
        "content": "\u72b6\u6001\u538b\u7f29dp\uff0cF[mask]\u8868\u793a\u4e00\u8fb9\u7684\u70b9\u96c6mask\u662f\u5426\u5b58\u5728\u5b8c\u5907\u5339\u914d\uff08\u5de6\u53f3\u5404\u505a\u4e00\u6b21\uff09\uff0c\u4f9d\u636eHall\u5b9a\u7406\u8f6c\u79fb \n\u5c06\u5de6\u53f3\u6240\u6709\u5b58\u5728\u5b8c\u5907\u5339\u914d\u7684\u70b9\u96c6\u5408\u7684\u6743\u503c\u548c\u7b97\u51fa\u6765\u585e\u5230\u4e24\u4e2a\u6570\u7ec4\u91cc\uff0ctwo pointers\u5224\u6743\u503c\u548c\u591f\u4e0d\u591f\u5c31\u884c\u4e86\n\n\t#include <bits/stdc++.h>\n    #pragma GCC optimize(2)\n    #define tn ((1<<n)-1)\n    #define tm ((1<<m)-1)\n    #define L (1<<(i-1))\n    #define R (1<<(j-1))\n    #define M 1100000\n    #define N 50 \n    using namespace std;\n    typedef long long LL;\n    int F[M],G[M],f[M],g[M],c[M],w[N],v[N],n,m,t,p,q,h,_,i,j;\n    LL P[M],Q[M],ans,s;\n    char mp[N][N];\n    inline int rd() { int r; scanf(\"%d\",&r); return r; }\n    int main() {\n        freopen(\"guard.in\",\"r\",stdin);\n        freopen(\"guard.out\",\"w\",stdout);\n        n=rd(),m=rd();\n        for (i=1;i<=n;i++) scanf(\"%s\",mp[i]+1);\n        for (i=1;i<=n;w[i++]=rd());\n        for (i=1;i<=m;v[i++]=rd());\n        t=rd();\n\n        for (i=1;i<=n;++i)\n            for (j=1;j<=m;++j) \n                mp[i][j]=='1' ? F[L]|=R,G[R]|=L :0;\n\n        for (_=1;_<=max(tn,tm);_++)c[_]=c[_-(_&-_)]+1;\n        for (_=0;_<=tn;++_,s=0) {\n            f[_]=1;\n            for (int i=1;i<=n;++i) \n                L&_ ? F[_]|=F[_^L],f[_]&=f[_^L],s+=w[i] :0;\n            (f[_]&=c[F[_]]>=c[_]) ? P[++p]=s :0;\n        }\n\n        for (_=0;_<=tm;++_,s=0) {\n            g[_]=1;\n            for (int j=1;j<=m;j++)\n                R&_ ? G[_]|=G[_^R],g[_]&=g[_^R],s+=v[j] :0;\n            (g[_]&=(c[G[_]]>=c[_])) ? Q[++q]=s :0;\n        }\n\n        sort(P+1,P+p+1),sort(Q+1,Q+q+1);\n\n        for (_=1,h=q+1;_<=p;++_,ans+=q-h+1) \n            while (h-1 && P[_]+Q[h-1]>=t) h--;\n        printf(\"%lld\\n\",ans);\n        return 0;\n    }",
        "postTime": 1532050685,
        "uid": 29771,
        "name": "\u4fe1\u606f\u6280\u672f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3679 \u3010[CERC2016]\u4e8c\u5206\u6bef Bipartite Blanket\u3011"
    }
]