[
    {
        "content": "# $P2561 [AHOI2002]$\u9ed1\u767d\u74f7\u7816\n\n## Polya\u5b9a\u7406\n\n> \u5bf9\u4e8e\u4e00\u4e2a$n$\u9636\u7f6e\u6362\n$$\n (a_1,a_2,a_3,..,a_n)=\n \\lgroup\n \\begin{matrix}\n     1 & 2 & 3 & .. & n\\\\\n     a_1 & a_2 & a_3 & .. &a_n\\\\\n \\end{matrix} \n \\rgroup\n$$\n> \u6211\u4eec\u53ef\u4ee5\u627e\u5230\u5176\u4e2d\u82e5\u5e72\u5faa\u73af\u8282\n>\n> \u5faa\u73af\u8282:\n>\n> \u6211\u4eec\u8bb0$i->a_i$ \u4e3a\u4e00\u6b21\u53d8\u6362,\u82e5$i$\u7ecf\u8fc7$k$\u6b21\u53d8\u6362\u540e\u7b49\u4e8e$i$,\u4e14\u4efb\u4f55\u5c0f\u4e8e$k$\u6b21\u7684\u53d8\u6362\u5747\u4e0d\u4e3a$i$\n>\n> \u90a3\u4e48\u6211\u4eec\u627e\u5230\u4e86\u4e00\u4e2a\u5927\u5c0f\u4e3a$k-1$\u7684\u5faa\u73af\u8282\n>\n> \u663e\u7136\u4e00\u4e2a$n$\u9636\u7f6e\u6362\u6700\u591a\u6709$n$\u4e2a\u5faa\u73af\u8282,\u6700\u5c11$1$\u4e2a\u5faa\u73af\u8282,\u5e76\u4e14\u6bcf\u4e2a\u6570\u53ea\u5b58\u5728\u4e8e\u4e00\u4e2a\u5faa\u73af\u8282\u5185\n>\n> \u4e3e\u4e2a\u4f8b\u5b50:\n$$\n \\lgroup\n \\begin{matrix}\n     1 & 2 & 3 & 4 & 5\\\\\n     3 & 5 & 1 & 4 & 2\\\\\n \\end{matrix} \n \\rgroup\n =(13)(25)(4)\n$$\n> \u5176\u4e2d\u540e\u9762\u7528\u591a\u4e2a\u62ec\u53f7\u7ec4\u5408\u6210\u7684\u8868\u8fbe\u5f0f,\u5176\u6bcf\u5bf9\u62ec\u53f7\u5185\u7684\u6570\u5f62\u6210\u4e00\u4e2a\u5faa\u73af\u8282\n>\n> \u8ba1\u6570\u516c\u5f0f:\n$$\n L=\\frac{1}{|G|}(m^{c(g_1)}+m^{c(g_2)}+m^{c(g_3)}+ \\cdots+m^{c(g_s)})\n$$\n> \u89e3\u91ca\u4e00\u4e0b\n>\n> $L$:\u8ba1\u6570\u7ed3\u679c\n>\n> $G$:\u7f6e\u6362\u7fa4\n>\n> $|G|$:\u7f6e\u6362\u7fa4\u7684\u7f6e\u6362\u6570,\u5373$s$,\u8868\u793a\u603b\u5171\u6709$s$\u79cd\u7f6e\u6362\u65b9\u5f0f\n>\n> $m$:\u5bf9\u4e8e$n$\u9636\u7f6e\u6362,\u8868\u793a\u7f6e\u6362\u64cd\u4f5c\u524d,$n$\u79cd\u5143\u7d20\u6bcf\u4e2a\u5143\u7d20\u7684\u53d6\u503c,\u6216\u8005\u7406\u89e3\u4e3a\u6bcf\u4e2a\u70b9\u7684\u67d3\u8272\u65b9\u5f0f,\u5171$m$\u79cd\n>\n> $g_i$:\u8868\u793a\u5355\u4e2a\u7f6e\u6362,\u4e3a$G$\u4e2d\u7684\u5143\u7d20\n>\n> $c()$:\u51fd\u6570,\u8fd4\u56de\u6bcf\u4e2a\u7f6e\u6362\u4e2d\u7684\u5faa\u73af\u8282\u6570\n>\n> \u4ee5\u4e0a\u4e3a$Polya$\u5b9a\u7406\n\n\n\n\u6ce8\u610f\u7f6e\u6362\u7fa4\u5fc5\u987b\u6ee1\u8db3\u7fa4\u7684\u6027\u8d28,\u5c01\u95ed\u6027,\u7ed3\u5408\u5f8b,\u5355\u4f4d\u5143,\u9006\u5143. \n\n\u9898\u76ee\u6240\u7ed9\u7684\u7f6e\u6362\u79cd\u7c7b\u53ef\u80fd\u4e0d\u8db3\u4ee5\u6784\u6210\u7fa4,\u9700\u8981\u8865\u5145\u7f6e\u6362\n\n\n\n\u4e0b\u9762\u9488\u5bf9\u9898\u76ee:\n\n> \u663e\u7136\u6211\u4eec\u6709\u57fa\u7840\u7684\u4e09\u79cd\u7f6e\u6362,\u65cb\u8f6c\u4e24\u79cd,\u7ffb\u8f6c\u4e00\u79cd\n>\n> \u660e\u663e\u6211\u4eec\u7f3a\u5931\u4e86\u4e0d\u52a8\u7684\u7f6e\u6362,\u52a0\u5165\u5355\u4f4d\u5143\n>\n> \u5c01\u95ed\u6027:\u5373G\u7684\u4efb\u610f\u4e24\u4e2a\u5143\u7d20\u5728 $*$\u4e0b\u7684\u8fd0\u7b97\u7ed3\u679c\u90fd\u662f\u8be5\u96c6\u5408\u7684\u4e00\u4e2a\u5143\u7d20\n>\n> \u6211\u4eec\u53d1\u73b0\u7ffb\u8f6c\u518d\u65cb\u8f6c\u7684\u7f6e\u6362\u4e0d\u5728\u7fa4\u5185\n>\n> \u6240\u4ee5\u6211\u4eec\u8865\u5145\u4e24\u79cd\u7ffb\u8f6c,\u5f62\u6210\u516d\u79cd\u7f6e\u6362:\n>\n> 1. \u65cb\u8f6c:$120^{\\circ }, 240^{\\circ} $\n> 2. \u7ffb\u8f6c,\u5bf9\u4e8e\u4e09\u6761\u5bf9\u79f0\u8f74\u5404\u6709\u4e00\u79cd\n> 3. \u4e0d\u52a8,\u5373\u4e3a\u5355\u4f4d\u5143\n>\n> \u7136\u540e\u6765\u7edf\u8ba1\u5faa\u73af\u8282\u6570\n>\n> 1. \u65cb\u8f6c,\u6211\u4eec\u77e5\u9053\u540c\u4e00\u65b9\u5f0f\u65cb\u8f6c\u4e09\u6b21\u4e00\u5b9a\u4f1a\u4e0e\u539f\u56fe\u91cd\u5408,\u6240\u4ee5\u5faa\u73af\u8282\u5e94\u8be5\u662f\u4e09\u4e2a\u4e00\u7ec4,\u7136\u540e\u624b\u63a8\u4e00\u4e0b$1 \\sim 4$ \u7684\u60c5\u51b5,\u5f97\u5230\u5faa\u73af\u8282\u6570\u4e3a$\\lceil \\frac{n}{3} \\rceil$\n> 2. \u7ffb\u8f6c,\u7ffb\u4e24\u6b21\u80af\u5b9a\u91cd\u5408,\u4f46\u662f\u4e2d\u8f74\u7ebf\u4e0a\u7684\u70b9\u4e00\u76f4\u4e0d\u53d8.\u6211\u4eec\u5148\u5f97\u5230\u4e2d\u8f74\u7ebf\u4e0a\u7684\u70b9\u6570$s= \\lceil \\frac{n}{2} \\rceil$,\u5faa\u73af\u8282\u6570\u4e3a$\\frac{n-s}{2}+s$\n> 3. \u4e0d\u52a8,\u663e\u7136\u4e3a$n$\n>\n> \u63a5\u7740\u7531\u4e8e\u662f\u9ed1\u767d\u67d3\u8272,\u67d3\u8272\u65b9\u5f0f$m=2$\n>\n> \u6211\u4eec\u76f4\u63a5\u5957\u516c\u5f0f\u5373\u53ef\n\ncode:\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nint read(){\n\tint x=0; char c; int flag=1;\n\tfor(c=getchar();!isdigit(c);c=getchar()) if(c=='-') flag=-1;\n\tfor(;isdigit(c);c=getchar()) x=(x<<1)+(x<<3)+(c^48);\n\treturn x*flag;\n}\n\nstruct bignum{\n    int g[505];\n    int l;\n    void init() { l=0; memset(g,0,sizeof(g)); }\n    void one() { init(); l=1; g[1]=1; }\n    void jw(){ while(g[l+1]>0) { ++l; g[l+1]=g[l]/10; g[l]%=10; }  }\n    void out() { for(int i=l;i>=1;i--) printf(\"%d\",g[i]); printf(\"\\n\"); }\n};\n\nbignum operator +(bignum a,bignum b){\n    bignum c; c.init();\n    c.l=max(a.l,b.l);\n    for(int i=1;i<=c.l;i++){\n\t    c.g[i]+=a.g[i]+b.g[i];\n\t    c.g[i+1]+=c.g[i]/10;\n\t    c.g[i]%=10;\n\t}\n\tc.jw();\n\treturn c;\n}\n\nbignum operator *(bignum a,bignum b){\n    bignum c; \n\tc.init(); c.l=a.l+b.l-1;\n    for(int i=1;i<=a.l;i++)\n    for(int j=1;j<=b.l;j++)\n    c.g[i+j-1]+=a.g[i]*b.g[j];\n    \n    for(int i=1;i<=c.l;i++){\n\t    c.g[i+1]+=c.g[i]/10;\n\t    c.g[i]%=10;\n\t}\n\tc.jw();\n\treturn c;\n}\n\nbignum operator /(bignum a,int b){\n    for(int i=a.l;i>=1;i--){\n\t    a.g[i-1]+=(a.g[i]%b)*10;\n\t    a.g[i]/=b;\n\t}\n\t\n\twhile(a.l>1&&a.g[a.l]==0) --a.l;\n\treturn a;\n}\n\nbignum ksm(int y){\n    bignum ret; ret.one();\n    bignum x; x.one(); x.g[1]=2;\n    \n    while(y){\n\t    if(y&1) ret=ret*x;\n\t    y>>=1;\n\t    x=x*x;\n\t}\n\treturn ret;\n} \n\nsigned main() {\n    int n=read();\n    \n    int Still=n*(n+1)/2;//n\u884c,\u683c\u5b50\u65701+2+..+n,\u7b49\u5dee\u6570\u5217\n\tint Rotate=(Still+2)/3;//\u65cb\u8f6c\u7684\u5faa\u73af\u8282\u6570\n\tint Reverse=(Still-(n+1)/2)/2+(n+1)/2; //\u7ffb\u8f6c\u7684\u5faa\u73af\u8282\u6570\n\t\n\tbignum ans; ans.init();\n\t ans=ans+ksm(Still)+ksm(Rotate)+ksm(Rotate)+ksm(Reverse)+ksm(Reverse)+ksm(Reverse);\n\t//\u5fd8\u8bb0\u5199\u9ad8\u7cbe*\u4f4e\u7cbe\u4e86\n    ans=ans/6;\n\t//\u4ee5\u4e0a\u4e3a\u516c\u5f0f\n\tans.out();\n\treturn 0;\n}\n\n```\n\n\u56e0\u4e3a\u516c\u5f0f\u683c\u5f0f\u6302\u4e86,\u4ea4\u4e86\u597d\u51e0\u6b21\u9898\u89e3,\u4e0d\u77e5\u9053\u4f1a\u600e\u6837,\n\n\u7ba1\u7406\u5927\u5927\u4e0d\u8981\u751f\u6c14,\u53ea\u8981\u901a\u8fc7\u6700\u540e\u8fd9\u6b21\u5c31\u597d\u4e86qwq\n",
        "postTime": 1572604653,
        "uid": 31928,
        "name": "\u6731\u5b50\u6657",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2561 \u3010[AHOI2002]\u9ed1\u767d\u74f7\u7816\u3011"
    },
    {
        "content": "\u770b\u5230\u67d3\u8272\u65cb\u8f6c\u7ffb\u8f6c\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u731c\u5230\u8fd9\u9053\u9898\u9700\u8981\u4f7f\u7528 P\u00f3lya \u5b9a\u7406\uff08 \u00f3 : Alt + 243 \uff09\u3002\n\n## P\u00f3lya \u5b9a\u7406\n\n$$l=\\frac 1 {\\mid G\\mid}\\sum_{k=1}^{\\mid G \\mid}m^{c(p_k)}$$\n\n$G=\\{p_1,p_2,\\cdots\\}$ \u4e3a $N$ \u4e2a\u5bf9\u8c61\u7684\u7f6e\u6362\u7fa4\uff0c$c(p_k)$ \u4e3a\u7f6e\u6362 $p_k$ \u7684\u5faa\u73af\u6570\uff0c$l$ \u4e3a $m$ \u79cd\u989c\u8272\u67d3 $N$ \u4e2a\u5bf9\u8c61\u7684\u65b9\u6848\u6570\u3002\n\n## \u5206\u6790\n\n\u663e\u7136\uff0c\u5728\u6b64\u9898\u4e2d $\\mid G \\mid=6$\uff0c\u5206\u522b\u4e3a\u5355\u4f4d\u5143\uff0c\u7531\u65cb\u8f6c\u5f97\u5230\u7684\u4e24\u79cd\uff0c\u7531\u7ffb\u8f6c\u5f97\u5230\u7684\u4e09\u79cd\uff0c\u53ef\u4ee5\u89c2\u5bdf\u51fa\u65e2\u65cb\u8f6c\u53c8\u7ffb\u8f6c\u5f97\u5230\u7684\u7f6e\u6362\u5305\u62ec\u5728\u4e0a\u8ff0\u516d\u79cd\u4e2d\u3002\u53c8\u7531\u9ed1\u767d\u67d3\u8272\u5f97\u51fa $m=2$\uff0c\u74f7\u7816\u5927\u5c0f $N=\\frac{n\\times(n+1)}{2}$\u3002\n\n\u4ee3\u5165\u516c\u5f0f\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4ec5\u5269 $c(p_k)$ \u6ca1\u6709\u6c42\u51fa\uff0c\u601d\u8003\u5faa\u73af\u7684\u542b\u4e49\uff1a\n\n$$\\bigg(^{a_1\\ a_2\\ a_3\\ \\cdots\\ a_n}_{a_n\\ a_1\\ a_2\\ \\cdots\\ a_{n-1}}\\bigg)=(1\\ 2\\ 3\\ \\cdots\\ n)$$\n\n+ \u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5355\u4f4d\u5143\u7684\u5faa\u73af\u6570\u91cf\u663e\u7136\u4e3a $N$\uff1b\n\n+ \u800c\u5bf9\u4e8e\u65cb\u8f6c\u4ea7\u751f\u7684\u4e24\u79cd\u7f6e\u6362\uff0c\u4e00\u4e2a\u70b9\u5728\u65cb\u8f6c $120\\degree$ \u540e\u5b9a\u7136\u4e0e\u53e6\u4e00\u70b9\u91cd\u5408\uff0c\u5728\u65cb\u8f6c\u4e09\u6b21\u540e\u56de\u5230\u539f\u4f4d\uff0c\u5171\u7ecf\u8fc7\u4e09\u4e2a\u4f4d\u7f6e\uff0c\u90a3\u4e48\u6bcf\u4e00\u4e2a\u5faa\u73af\u7684\u5927\u5c0f\u5c31\u4e3a $3$\uff0c\u5faa\u73af\u6570\u91cf\u4e3a $\\lceil\\frac N 3\\rceil$\uff0c\u6ce8\u610f\u5411\u4e0a\u53d6\u6574\uff0c\u539f\u56e0\u2014\u2014\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff08\u5982 $n=4$\uff09\uff0c\u5b58\u5728\u4e0d\u52a8\u7684\u4e2d\u5fc3\u70b9\uff0c\u5176\u5faa\u73af\u5927\u5c0f\u4e3a $1$\uff1b\n\n+ \u5bf9\u4e8e\u7ffb\u8f6c\u6765\u8bf4\uff0c\u9664\u4e86\u5bf9\u79f0\u8f74\u4e0a\u7684 $\\lceil\\frac n 2\\rceil$ \u4e2a\u70b9\uff0c\u5176\u4f59\u5747\u4e3a\u4e24\u4e24\u4ea4\u6362\uff0c\u5faa\u73af\u5927\u5c0f\u4e3a $2$\uff0c\u5faa\u73af\u6570\u91cf\u4e3a $\\frac {N-\\lceil\\frac n 2\\rceil} 2+\\lceil\\frac n 2\\rceil$\u3002\n\n## \u7ed3\u8bba\n\n$$\nans=\\frac 1 6(2^N+2\\times 2^{\\lceil\\frac N 3\\rceil}+3\\times2^{(\\frac {N-\\lceil\\frac n 2\\rceil} 2+\\lceil\\frac n 2\\rceil)})\n$$\n\n$$N=\\frac{n\\times(n+1)}{2}$$\n\n## \u4ee3\u7801\n\n\u6ce8\u610f\uff1a\u6b64\u9898\u9700\u8981\u9ad8\u7cbe\u5ea6\uff0c\u4f46\u53ef\u4ee5\u4e0d\u7528\u5feb\u901f\u5e42\u3002\n\n```cpp\n#include<cstdio>//for IO\n#include<cstring>//for memset\n#include<utility>//for std::swap\nint n,bs,xz,fz;//\u5355\u4f4d\u5143\uff0c\u65cb\u8f6c\uff0c\u7ffb\u8f6c \nstruct bign{\n\tstatic const int base=10000;\n\tint a[60],l;\n\tbign():l(){//init\n\t\tmemset(a,0,sizeof(a));\n\t}\n\tint& operator [](int x){\n\t\treturn a[x];\n\t}\n\tconst int& operator [](int const&x)const{\n\t\treturn a[x];\n\t}\n\tfriend bign operator + (bign x,bign y){\n\t\tbign ans;\n\t\tif(x.l<y.l)std::swap(x,y);\n\t\tans[0]=0;\n\t\tfor(ans.l=0;ans.l<x.l||ans[ans.l];++ans.l){\n\t\t\tans[ans.l]+=x[ans.l]+y[ans.l];\n\t\t\tif(ans[ans.l]>base)ans[ans.l+1]=1,ans[ans.l]-=base;\n\t\t\telse ans[ans.l+1]=0;\n\t\t}\n\t\treturn ans;\n\t}\n\tfriend bign operator *(bign x,int y){\n\t\tbign ans;\n\t\tans[0]=0;\n\t\tfor(ans.l=0;ans.l<x.l||ans[ans.l];++ans.l){\n\t\t\tans[ans.l]+=x[ans.l]*y;\n\t\t\tif(ans[ans.l]>base)ans[ans.l+1]=ans[ans.l]/base,ans[ans.l]%=base;\n\t\t\telse ans[ans.l+1]=0;\n\t\t}\n\t\treturn ans;\n\t}\n\tfriend bign operator /(bign x,int y){\n\t\tfor(int i=x.l-1;~i;--i){\n\t\t\tif(i)x[i-1]+=(x[i]%y)*base;\n\t\t\tx[i]/=y;\n\t\t}\n\t\twhile(x.l&&!x[x.l-1])x.l--;\n\t\treturn x;\n\t}\n\tvoid output(void){\n\t\tprintf(\"%d\",a[l-1]);\n\t\tfor(int i=l-2;~i;--i)\n\t\t\tprintf(\"%04d\",a[i]);\n\t}\n}bsp,fzp,xzp,res;\nint main(){\n\tscanf(\"%d\",&n);\n\tbs=n*(n+1)/2;\n\tfz=(bs-(n+1)/2)/2+(n+1)/2;\n\txz=(bs+2)/3;\n//ans=(pow(2,bs)+pow(2,fz)*3+pow(2,xz)*2)/6\n\tbsp[0]=1,bsp.l=1;\n\tfor(int i=1;i<=bs;i++)bsp=bsp*2;\n\tfzp[0]=1,fzp.l=1;\n\tfor(int i=1;i<=fz;i++)fzp=fzp*2;\n\tfzp=fzp*3;\n\txzp[0]=1,xzp.l=1;\n\tfor(int i=1;i<=xz;i++)xzp=xzp*2;\n\txzp=xzp*2;\n\tres=(bsp+fzp+xzp)/6;\n\tres.output();\n\treturn 0;\n}\n```\n\u6700\u540e\uff0c\u5982\u6709\u9519\u8bef\uff0c\u8bf7\u5728\u8bc4\u8bba\u6307\u51fa\u3002",
        "postTime": 1597289147,
        "uid": 55707,
        "name": "gxy001",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2561"
    },
    {
        "content": "\u9898\u76ee\u610f\u601d\u8fd8\u662f\u6bd4\u8f83\u6e05\u6670\u7684\uff0c\u7136\u540e\u6211\u4eec\u89c2\u5bdf\u4e00\u4e0b\u3002\r\n\r\n- \u5bf9\u4e8e\u201c\u4e0d\u52a8\u201d\uff0c\u5b50\u73af\u4e2a\u6570\u5341\u5206\u663e\u7136\u4e3a $n$\u3002\r\n\r\n- \u5bf9\u4e8e\u201c\u65cb\u8f6c\u201d,\u4e3a\u603b\u683c\u5b50\u4e2a\u6570\u9664\u4ee5 $3$ \u540e\u5411\u4e0a\u53d6\u6574\r\n\r\n- \u5bf9\u4e8e\u201c\u5bf9\u79f0\u201d,\u4e3a\u683c\u5b50\u603b\u6570\u52a0\u4e0a\u4e2d\u8f74\u7ebf\u4e0a $ (n / 2) / 2 $\u3002\r\n\r\n\u7136\u540e\u672c\u4f53\u8fd8\u8981\u7528\u5230\u9ad8\u7cbe\uff0c\u6570\u636e\u8303\u56f4\u633a\u5c0f\uff0c\u6211\u4eec\u53ef\u4ee5\u7528 `Python` \u6253\u51fa\u8868\u6765\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528 `Python` \u5207\u4e86\u3002\r\n\r\n\u4e0b\u9762\u662f `Python` \u4ee3\u7801\uff1a\r\n\r\n```cpp\r\nn=int(input())\r\nm=n*(n+1)//2\r\nt=2**m\r\nc=0\r\nfor i in range(1,n+1):\r\n    c+=(i+1)//2\r\nt+=2**c\r\nif n%3==1:\r\n    t+=2*((2**((m-1)//3+1))+(2**((m-4)//2+3)))\r\nelse:\r\n    t+=2*((2**(m//3))+(2**c))\r\nprint(t//6)\r\n```\r\n## AC code:\r\n\r\n```cpp\r\n/*\r\nwork by: TLE_Automation\r\nTime: O(TLE)\r\nknowledge:\r\n*/\r\n#include<bits/stdc++.h>\r\n#define TLE std\r\n#define int long long\r\n#define Min(x, y)  (x > y ? y : x);\r\n#define Max(x, y)  (x > y ? x : y);\r\n#define orz cout << \"szt lps fjh AK IOI\";\r\nusing namespace TLE;\r\n\r\nconst int maxn = 3e6;\r\nconst int MAXN = 3e3;\r\nconst double down = 0.996;\r\nconst double limit = 1e-10;\r\n\r\ninline int read() {\r\n\tint s = 0, w = 1;\r\n\tchar ch = getchar();\r\n\twhile (!isdigit(ch)) {if(ch == '-') {w = -1;}ch = getchar();}\r\n\twhile (isdigit(ch)) {s = (s << 1) + (s << 3) + (ch ^ 48);ch = getchar();}\r\n\treturn s * w;\r\n}\r\n\r\ninline void print(int x) {\r\n\tif (x < 0 ) putchar('-'), x = -x;\r\n\tif (x > 9 ) print(x / 10);\r\n\tputchar(x % 10 + '0');\r\n}\r\n\r\nstring a[22] = {\"0\", \"2\",\"4\",\"20\",\"208\",\"5728\",\"351616\",\"44772352\",\"11453771776\",\"5864078802944\",\"6004800040206336\",\"12297829416834170880\",\"50371909152808594571264\",\"412646679762074900658913280\",\"6760803201217259503457555972096\",\"221537999297485988040673580072042496\",\"14518714321960041110131833181979847688192\",\"1902996923607946508078923551753025410956263424\",\"498859225542281529413525041870510961437758449516544\",\"261545905641111698493157893267478067457861758958922891264\",\"274250759553534340359161530426874121271106557923036528403021824\"};\r\nsigned main() {\r\n\tint n = read();\r\n\tcout << a[n];\r\n}\r\n\r\n\r\n```",
        "postTime": 1641691901,
        "uid": 396974,
        "name": "Buried_Dream",
        "ccfLevel": 4,
        "title": "P2561 [AHOI2002]\u9ed1\u767d\u74f7\u7816 \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u597d\u6c34\u554a\uff0c\u96be\u70b9\u662f\u9ad8\u7cbe\u5417\uff08\n\n\u8fd9\u91cc\u9ed8\u8ba4\u5927\u5bb6\u90fd\u4f1a polya \u5b9a\u7406\u4e86\uff0c\u4e0d\u4f1a\u8bf7\u5148\u505a\u677f\u5b50\u3002\n\n\u660e\u663e polya \u5b9a\u7406\uff0c\u53d1\u73b0\u6709\u4e09\u79cd\u7f6e\u6362\uff0c\u5206\u522b\u662f\uff1a\u4e0d\u53d8\u3001\u65cb\u8f6c\u3001\u7ffb\u8f6c\u3002\n\n\u8bb0\u683c\u5b50\u603b\u6570\u4e3a $tot$\uff0c\u5373 $\\dfrac{n(n+1)}{2}$\u3002\n\n\u4e0d\u53d8\u5c31\u662f\u6240\u6709\u53ef\u80fd\u561b\uff0c$2^{tot}$\u3002\n\n\u7ffb\u8f6c\u4e5f\u5f88\u7b80\u5355\uff0c\u5947\u6570\u884c\u4e2d\u5fc3\u5bf9\u79f0\uff0c\u4e3a $\\dfrac{i+1}{2}$\uff0c\u5076\u6570\u884c\u5c31\u662f\u4e00\u534a\u3002\u628a\u6bcf\u884c\u770b\u6210\u4e00\u4e2a\u6570\uff0c\u53d1\u73b0\u8fd9\u4e2a\u6570\u5217\u662f $1+1+2+2+...$\uff0c\u5206\u7c7b\u8ba8\u8bba\uff0c\u5982\u679c\u884c\u6570\u4e3a\u5076\u6570\u5c31\u662f $2\\times\\dfrac{(\\dfrac{n}{2})(\\dfrac{n}{2}+1)}{2}$\uff0c\u5426\u5219 $2\\times\\dfrac{(\\dfrac{n}{2})(\\dfrac{n}{2}+1)}{2}+\\dfrac{n}{2}+1$\u3002\n\n\u7136\u540e\u5c31\u662f\u65cb\u8f6c\uff0c\u65cb\u8f6c\u624b\u52a8\u6a21\u62df $n=[1,4]$ \u7684\u60c5\u51b5\u5c31\u53ef\u4ee5\u53d1\u73b0\u662f\u6bcf\u4e09\u4e2a\u4e00\u4e2a\u5faa\u73af\uff0c\u5982\u679c\u591a\u51fa\u6765\u5c31\u5355\u72ec\u7b97\u3002\u7531\u4e8e $tot \\bmod 3$ \u4e0d\u53ef\u80fd\u4e3a $2$\uff0c\u6240\u4ee5\u53ea\u9700\u8981\u8003\u8651\u8fd9\u4e24\u79cd\u3002\n\n\u63a5\u4e0b\u6765\u8003\u8651\u6bcf\u79cd\u7f6e\u6362\u7684\u65b9\u6cd5\u6570\uff0c\u4e0d\u53d8\u663e\u7136\u4e00\u79cd\uff0c\u65cb\u8f6c\u6709\u4e24\u79cd\uff08\u9898\u9762\u4e0a\u7684\u90a3\u4e24\u79cd\uff09\uff0c\u7ffb\u8f6c\u6709\u4e09\u79cd\uff08\u4e09\u4e2a\u8f74\uff09\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nstruct BigInt\n{\n    vector<int> vec;\n    inline BigInt operator+(BigInt t)\n    {\n        int sz = max(vec.size(), t.vec.size());\n        vector<int> res(sz);\n        int cry = 0;\n        for (int i = 0; i < sz; i++)\n        {\n            if (vec.size() > i)\n                res[i] += vec[i];\n            if (t.vec.size() > i)\n                res[i] += t.vec[i];\n            res[i] += cry;\n            cry = res[i] > 9;\n            res[i] %= 10;\n        }\n        if (cry)\n            res.emplace_back(1);\n        return (BigInt){res};\n    }\n    inline BigInt operator-(BigInt t)\n    {\n        vector<int> res = vec;\n        int cry = 0;\n        for (int i = 0; i < vec.size(); i++)\n        {\n            if (t.vec.size() > i)\n                res[i] -= t.vec[i];\n            res[i] -= cry;\n            cry = 0;\n            if (res[i] < 0)\n            {\n                res[i] += 10;\n                cry = 1;\n            }\n        }\n        while (res.size() > 1 && !res.back())\n            res.pop_back();\n        return (BigInt){res};\n    }\n    inline BigInt operator*(BigInt t)\n    {\n        vector<int> res(vec.size() + t.vec.size() - 1);\n        for (int i = 0; i < vec.size(); i++)\n            for (int j = 0; j < t.vec.size(); j++)\n                res[i + j] += vec[i] * t.vec[j];\n        for (int i = 0; i < res.size() - 1; i++)\n            res[i + 1] += res[i] / 10, res[i] %= 10;\n        while (res.back() > 9)\n        {\n            res.emplace_back(res.back() / 10);\n            res[res.size() - 2] %= 10;\n        }\n        return (BigInt){res};\n    }\n    inline BigInt operator/(int k)\n    {\n        vector<int> res;\n        reverse(vec.begin(), vec.end());\n        int cur = 0, beg = 0;\n        for (int i = 0; i < vec.size(); i++)\n        {\n            cur = cur * 10 + vec[i];\n            if (cur >= k)\n            {\n                res.emplace_back(cur / k);\n                cur %= k;\n                beg = 1;\n            }\n            else if (beg)\n                res.emplace_back(0);\n        }\n        reverse(vec.begin(), vec.end());\n        reverse(res.begin(), res.end());\n        if (res.empty())\n            res.emplace_back(0);\n        return (BigInt){res};\n    }\n    inline bool operator<=(BigInt t)\n    {\n        if (vec.size() != t.vec.size())\n            return vec.size() < t.vec.size();\n        for (int i = vec.size() - 1; ~i; i--)\n            if (vec[i] != t.vec[i])\n                return vec[i] < t.vec[i];\n        return true;\n    }\n    inline BigInt sqrt()\n    {\n        BigInt l, r, num = *this, _1, _2;\n        l.vec.emplace_back(0);\n        r.vec.emplace_back(1);\n        _1.vec.emplace_back(1);\n        _2.vec.emplace_back(2);\n        while (r * r <= num)\n            r = r * _2;\n        while (l <= r)\n        {\n            BigInt mid = (l + r) / 2;\n            if (mid * mid <= num)\n                l = mid + _1;\n            else\n                r = mid - _1;\n        }\n        return l - _1;\n    }\n    inline BigInt pow2()\n    {\n        BigInt res, num = *this, _0, _1, _2;\n        res.vec.emplace_back(1);\n        _0.vec.emplace_back(0);\n        _1.vec.emplace_back(1);\n        _2.vec.emplace_back(2);\n        while (!(num <= _0))\n        {\n            res = res * _2;\n            num = num - _1;\n        }\n        return res;\n    }\n    inline void read()\n    {\n        string s;\n        cin >> s;\n        vec.resize(s.size());\n        for (int i = 0; i < s.size(); i++)\n            vec[s.size() - i - 1] = s[i] - '0';\n    }\n    inline void print()\n    {\n        for (int i = vec.size() - 1; ~i; i--)\n            cout << vec[i];\n    }\n    inline int mod3()\n    {\n        int res = 0;\n        for (int x : vec)\n            (res += x) %= 3;\n        return res;\n    }\n};\nint main()\n{\n    ios::sync_with_stdio(false);\n    cin.tie(nullptr);\n    BigInt n, _1;\n    _1.vec.emplace_back(1);\n    n.read();\n    BigInt tot = n * (n + _1) / 2;\n    BigInt a = tot.pow2();\n    BigInt b = (!(n.vec.back() & 1) ? (n / 2) * (n / 2 + _1) : (n / 2) * (n / 2 + _1) + n / 2 + _1).pow2();\n    BigInt c = (!(tot.mod3()) ? tot / 3 : tot / 3 + _1).pow2();\n    ((a + b + b + b + c + c) / 6).print();\n    return 0;\n}   \n```",
        "postTime": 1682322489,
        "uid": 576378,
        "name": "creation_hy",
        "ccfLevel": 5,
        "title": "P2561 \u9898\u89e3"
    },
    {
        "content": "P\u00f3lya\u662f\u89e3\u51b3\u67d3\u8272\u95ee\u9898\u7684\u597d\u65b9\u6cd5\uff0c\u4f46\u662f\u89c2\u5bdf\u9898\u4e2d\u7684\u6240\u7ed9\u7684\u7f6e\u6362\u53d1\u73b0\u4e0d\u7b26\u5408\u6784\u6210\u7f6e\u6362\u7fa4\u7684\u6761\u4ef6\uff08\u4e0d\u6784\u6210\u5c31\u4e0d\u80fd\u4f7f\u7528\u8be5\u5b9a\u7406\uff09\n\n\n1.\u5355\u4f4d\u5143e\uff0c\u6211\u4eec\u7528\u7f6e\u6362\u201c\u4e0d\u52a8\u201d\n\n2.\u5c01\u95ed\u6027\uff0c\u591a\u52a0\u4e24\u4e2a\u659c\u7740\u7684\u7f6e\u6362\n\n\n\u6839\u636eP\u00f3lya\u5b9a\u7406\u6709\n\n\n$ans=\\Large\\frac{1}{|G|}\\sum\\limits_{f\\in G}k^{c(f)}$\n\n\u5176\u4e2d m(f) \u4e3a\u5b50\u73af\u4e2a\u6570\n\n\n\u89c2\u5bdf\u4e00\u4e0b\u6211\u4eec\u53d1\u73b0\n\n\n- \u5bf9\u4e8e\u201c\u4e0d\u52a8\u201d\uff0c\u663e\u7136\u5b50\u73af\u4e2a\u6570\u4e3an\n\n- \u5bf9\u4e8e\u201c\u65cb\u8f6c\u201d,\u4e3a\u603b\u683c\u5b50\u4e2a\u6570\u9664\u4ee53\u5411\u4e0a\u53d6\u6574\n\n- \u5bf9\u4e8e\u201c\u5bf9\u79f0\u201d,\u4e3a\u683c\u5b50\u603b\u6570\u52a0\u4e0a\u4e2d\u8f74\u7ebf\u4e0a\uff08n / 2\uff09\uff08\u5411\u4e0a\u53d6\u6574\uff09\u4e2a\u683c\u5b50/2\n\n\n\u6240\u4ee5\u6709\u5982\u4e0b\u4ee3\u7801\uff08\u672a\u52a0\u9ad8\u7cbe\u5ea6\uff09\n\n\n```cpp\n#include<cstdio>\nBigNum f[300];//\u6570\u5b57\u5927 \u4f7f\u7528\u9ad8\u7cbe\u5ea6\nint n;\ninline void polya(){\n    BigNum ans=0;\n    int still=(n+1)*n/2;\n    int roate=still/3+(still%3?1:0);//\u5411\u4e0a\u53d6\u6574\n    int filp=(still+(n+1)/2)/2;\n    f[0]=1;\n    for(int i=1;i<=still||i<=roate||i<=filp;i++)\n        f[i]=f[i-1]*2;\n    ans=(f[still]+f[roate]*2+f[filp]*3)/6;//2*roate \u662f\u56e0\u4e3a\u6709\u4e24\u79cd\u65cb\u8f6c 3*filp\u662f\u56e0\u4e3a\u6709\u4e09\u6761\u5bf9\u79f0\u8f74\u7ffb\u8f6c \u4e00\u5171\u4e09\u79cd \n    ans.print();\n}\nint main(){\n    scanf(\"%d\",&n);\n    polya();\n    return 0;\n}\n```\n\u8be6\u89c1[oi.ozem.pw](https://oi.ozem.pw/CodeVS/p2926.html)\n\n\n\u5173\u4e8eP\u00f3lya\u5b9a\u5f8b\u53ef\u53c2\u89c1 \u5218\u6c5d\u4f73\u3001\u9ec4\u4eae\u300a\u7b97\u6cd5\u827a\u672f\u4e0e\u4fe1\u606f\u5b66\u7ade\u8d5b\u300b\u548cRichard A.Brualdi\u300a\u7ec4\u5408\u6570\u5b66\u300b\n",
        "postTime": 1496485442,
        "uid": 16225,
        "name": "EkiXu",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2561 \u3010[AHOI2002]\u9ed1\u767d\u74f7\u7816\u3011"
    }
]