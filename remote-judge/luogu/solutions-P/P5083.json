[
    {
        "content": "\u4e00\u5f00\u59cb\u7684\u60f3\u6cd5\u662f\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u4f46\u662f\u6570\u636e\u8303\u56f4\u5185\u5b58\u4f1a\u7206\u70b8\u3002\n\u8bd5\u9a8c\u4e4b\u540e\u4f1a\u53d1\u73b0\u5f53n\u8f83\u5927\u65f6\u603b\u662f\u6709\u4e00\u957f\u4e32\u76f8\u540c\uff08\u597d\u50cf0-10000\u91cc\u9762\u53ea\u6709400+\u4e2a\u4e0d\u540c\u503c\uff09\uff0c\u4e8e\u662f\u5c31\u4f1a\u60f3\u7528\u522b\u7684\u65b9\u5f0f\u50a8\u5b58\u6570\u636e\u3002\n\u6240\u4ee5struct\u4e2aa[MAXN]\u51fa\u6765\u50a8\u5b58\u6570\u636e\u3002\n```\nstruct func{\n\tull start,end,value;\n}a[MAXN+1];\n```\n\n\u7136\u540e\u6211\u4eec\u7814\u7a76\u4e00\u4e0b\u5176\u5b9e\u662f\u53ef\u4ee5\u53d1\u73b0\uff0cend[i],start[i],value[i]\uff0c\u5728i\u6bd4\u8f83\u5927\u7684\u60c5\u51b5\u4e0b\u662f\u6709\u9012\u63a8\u5173\u7cfb\u7684\uff08i\u6307\u7b2ci\u4e2a\u533a\u95f4\uff09\n\n\n```\n\tstart[num]=end[num-1]+1;\n\tvalue[num]=max(start[num],value[search(start[num]/2)]+value[search(start[num]/3)]+value[search(start[num]/8)]+value[search(start[num]/9)]);\n\tend[num]=min(ai*(end[search(start[num]/ai)]+1))-1;(ai=2,3,8,9)\n```\n\u5176\u4e2dsearch\uff08n\uff09\u662f\u5bfb\u627en\u5728\u90a3\u4e2a\u533a\u95f4\u7684\u4e00\u4e2a\u51fd\u6570\n\u4f46\u662f\u5f53i\u6bd4\u8f83\u5c0f\u7684\u60c5\u51b5\u4e0d\u4e00\u5b9a\u6210\u7acb\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u9012\u63a8\u5f0f\u662f\u5728max(g(n/2)+g(n/3)+g(n/8)+g(n/9),n)=g(n/2)+g(n/3)+g(n/8)+g(n/9)\u7684\u60c5\u51b5\u4e0b\u6210\u7acb\u7684\n\u53ef\u4ee5\u8bc1\u660e\u5f53n\u6bd4\u8f83\u5927\u65f6\u60c5\u51b5\u7684\u786e\u5982\u6b64\n\u9644\u4ee3\u7801\n```\n#include<iostream>\n#include<cmath>\n#define ull unsigned long long\n#define MAXN 100010\nusing namespace std;\nstruct func{\n\tull start,end,value;\n}a[MAXN+1];\null num=0;\null search (ull n){\n\tull l=0,r=num,mid=(l+r)/2;\n\twhile (r>l){\n\t\tmid=(l+r)/2;\n\t\tif (n>a[mid].end)l=mid;\n\t\telse if (n<a[mid].start)r=mid;\n\t\telse if (n>=a[mid].start&&n<=a[mid].end)return mid;\n\t\telse if (n>=a[l].start&&n<=a[l].end)return l;\n\t\telse if (n>=a[r].start&&n<=a[r].end)return r;\n\t\telse return mid; \n\t}\n\treturn mid;\n}\null g(ull n){\n\tif (n==0)return 0;\n\telse return max(n,g(n/2)+g(n/3)+g(n/8)+g(n/9));\n}\nint main(){\n\tull n=1e17;\n\ta[0].start=a[0].end=a[0].value=0;\n//\tfor (ull i=0;i<=n;i++)cout<<i<<\" \"<<g(i)<<endl;\n\tfor (ull i=1;i<=200;i++){\n\t\tif (g(i)!=g(i-1)){\n\t\t\ta[++num].start=i;\n\t\t\ta[num-1].end=i-1;\n\t\t\ta[num].value=g(i);\n\t\t}\n\t}\n\twhile (a[num].end<2*n){\n\t\t++num;\n\t\ta[num].start=a[num-1].end+1;\n\t\ta[num].value=max(a[num].start,a[search(a[num].start/2)].value+a[search(a[num].start/3)].value+a[search(a[num].start/8)].value+a[search(a[num].start/9)].value);\n\t\ta[num].end=min(2*(a[search(a[num].start/2)].end+1),min(3*(a[search(a[num].start/3)].end+1),min(8*(a[search(a[num].start/8)].end+1),9*(a[search(a[num].start/9)].end+1))))-1;\n\t}\n//\tull t=n;\n//\tfor (n=0;n<=t;n++)if (a[search(n)].value!=g(n))\nlong long x,y;\nwhile(cin>>x>>y){\nif (x<2||y<2)cout<<x+y<<endl;\nelse if (x<0)cout<<x+a[search(y)].value<<endl ;\nelse if (y<0)cout<<y+a[search(x)].value<<endl;\nelse cout<<a[search(x)].value+a[search(y)].value<<endl;\n}\n//\tcout<<a[search(n)].value<<endl;\n}\n\n```\n61ms \u5e94\u8be5\u7b97\u662f\u6bd4\u8f83\u5feb\u7684\u4e86",
        "postTime": 1544726627,
        "uid": 10028,
        "name": "Johndoe",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5083 \u3010\u51fd\u6570\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u6211\u4eec\u8003\u8651\u66b4\u529b\u7684\u505a\u6cd5\u5373\u53ef\u3002\n\n\u505a\u6cd5\u5927\u81f4\u5c31\u662f\u6a21\u62df\u9898\u76ee\u7684\u60f3\u6cd5\uff0c\u4e0d\u8fc7\u52a0\u4e86\u4e24\u6837\u4e1c\u897f\uff1a\u9884\u5904\u7406\u4ee5\u53camap\u8bb0\u5fc6\u5316\u3002\n\n\u9996\u5148\u6211\u4eec\u60f3\u60f3\u90a3\u4e00\u957f\u4e32\u7684\u5f0f\u5b50\uff1a\n\n$ f(a,b)=max(a+b,g(a/2)+g(a/3)+g(a/8)+g(a/9)+b,$\n$g(b/2)+g(b/3)+g(b/8)+g(b/9)+a,$\n$g(b/2)+g(b/3)+g(b/8)+g(b/9)+g(a/2)+g(a/3)+g(a/8)+g(a/9))$\n\n\n\u4ee5\u53ca \n$ g(n)=max(g(n/2)+g(n/3)+g(n/8)+g(n/9),n) $\n\n\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u770b\u51fa f(a,b) \u7684\u8868\u8fbe\u5f0f\u53ef\u4ee5\u76f4\u63a5\u8f6c\u5316\u4e3a $f(a,b)=g(a)+(b)$\n\n\u56e0\u4e3a\u539f\u8868\u8fbe\u5f0f\u5176\u5b9e\u5c31\u662f\uff1a\n>$f(a,b)=max(a,g(a/2)+g(a/3)+g(a/8)+g(a/9))+$\n>$max(b,g(b/2)+g(b/3)+g(b/8)+g(b/9))$\n\n\u8fd9\u70b9\u6ca1\u6bdb\u75c5\u5bf9\u5427\u3002\n\n\u90a3\u4e48\u4e24\u4e2amax \u5c31\u76f4\u63a5\u8f6c\u5316\u4e3a\u4e86 $g(a)+g(b)$ \u4e86\u3002\n\n\u7136\u540e\u6211\u4eec\u9884\u5904\u7406\u5b8c g \u51fd\u6570\u5c31\u53ef\u4ee5\u8f7b\u677e\u62ff\u5230 40 \u5206\u3002\n\n\u63a5\u7740\u5462\uff0c \u6211\u4eec\u8003\u8651 map \u7684\u8bb0\u5fc6\u5316\uff1a\n\n\u5bf9\u4e8e\u6570\u636e\u8303\u56f4\u8d85\u8fc7 1e7 \u7684\u6570\u5b57\uff0c\u6211\u4eec\u8003\u8651\u76f4\u63a5\u6df1\u641c\u8bb0\u5fc6\u5316\uff0c\u5982\u679c\u8ba1\u7b97\u8fc7\u76f4\u63a5\u8fd4\u56de\u503c\u3002\n\n\u7136\u540e\u8fd9\u9898\u5c31\u8fd9\u4e48\u8349\u7387\u7684 A \u6389\u4e86\u3002\u3002\u3002\u4e5f\u4e0d\u77e5\u9053\u6b63\u89e3\u662f\u4ec0\u4e48\n~~\u80fdA\u5c31\u662f\u6b63\u89e3\uff01\uff01\uff01~~\n\n\u8bdd\u8bf4\u6211\u6bd4\u8d5b\u7684\u65f6\u5019\u7528\u4e86scanf \u88ab\u5361\u6389\u4e86 30 \u5206\uff1f $WTF$  `(\u256f\u2035\u25a1\u2032)\u256f\ufe35\u253b\u2501\u253b`\n\n\n\u7136\u540e\u4e0a\u4ee3\u7801\uff08\u4f18\u5316\u8fc7\u7684\u4ee3\u7801 270ms+ ,\u4e0b\u9762\u7684\u4ee3\u7801\u53ea\u6709\u4e00\u70b9\u5c0f\u4f18\u5316\uff09\n\n\n```\n//by Judge\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nll a,b,g[1000007];\nmap<ll,ll> gg;\nll f(ll n){ if(n<=1000000) return g[n];\n    if(gg[n]) return gg[n];\n    return gg[n]=max(f(n/2)+f(n/3)+f(n/8)+f(n/9),n);\n}\nint main(){\n    for(ll n=1;n<=100000;++n)\n        g[n]=max(g[n/2]+g[n/3]+g[n/8]+g[n/9],n);\n    while(cin>>a>>b) cout<<f(a)+f(b)<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1544364208,
        "uid": 38576,
        "name": "J\u03bcdge",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5083 \u3010\u51fd\u6570\u3011"
    },
    {
        "content": "\u5361\u5e38\u662f\u795e\u5947\u7684\u3002\n\n\u9996\u5148\u4f60\u5199\u4e86\u4e00\u4e2a\u8bb0\u5fc6\u5316\u7684 $g(n)$\uff0c\u4f46\u662f\u600e\u4e48\u5361\u5e38\u90fd\u5361\u4e0d\u8fdb 200ms\u3002\u8bf4\u53e5\u95f2\u8bdd\uff0c\u5148\u9884\u5904\u7406\u51fa $5\\times 10^6$ \u5185\u7684 $g(n)$ \u8fd8\u662f\u6709\u4e00\u5b9a\u7684\u5361\u5e38\u6548\u679c\u7684\uff0c\u867d\u7136\u5e76\u4e0d\u9700\u8981\u8fd9\u6837\u4e5f\u80fd\u8fc7\u3002\n\n\u7136\u540e\u4f60\u53d1\u73b0\u8fd9\u4e2a\u51fd\u6570\u5176\u5b9e\u5728 $10^{16}$ \u5185\u7684\u53d6\u503c\u662f\u975e\u5e38\u5c11\u7684\uff0c\u53ea\u6709 5000 \u591a\u4e2a\u3002\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u5728\u4e00\u5f00\u59cb\u5c31\u9884\u5904\u7406\u51fa\u6bcf\u4e2a\u53d6\u503c\u7684\u5de6\u53f3\u7aef\u70b9\uff08\u4e8b\u5b9e\u4e0a\u5de6\u7aef\u70b9\u5c31\u53ef\u4ee5\u4e86\uff09\u548c\u503c\uff0c\u7136\u540e\u67e5\u8be2\u7684\u65f6\u5019\u5927\u529b\u4e0a\u4e8c\u5206\u3002\n\n\u4f60\u60f3\u4e86\u60f3\u53d1\u73b0\u4f3c\u4e4e\u5e76\u6ca1\u6709\u6574\u9664\u5206\u5757\u90a3\u6837\u7684\u6027\u8d28\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u5de6\u7aef\u70b9\u63a8\u51fa\u53f3\u7aef\u70b9\u3002\uff08\u4f46\u5176\u5b9e\u770b\u4e86 Johndoe \u7684\u9898\u89e3\u4e4b\u540e\u53d1\u73b0\u662f\u6709\u7684\uff09\n\n\u8feb\u4e0d\u5f97\u5df2\u4e4b\u4e0b\u53ea\u80fd\u9009\u62e9\u4e86\u500d\u589e\u3002\u5373\u901a\u8fc7\u5de6\u7aef\u70b9\u500d\u589e\u51fa\u53f3\u7aef\u70b9\u3002\n\n\u6548\u679c\u4e0d\u9519\uff0c\u5361\u8fdb 400ms \u4e86\u3002\u4f46\u662f\u4e00\u76f4\u90fd\u662f 350ms \u7684\u8fd9\u4e2a\u6837\u5b50\u3002\n\n\u7136\u540e\u5c31\u6ca1\u6709\u4ec0\u4e48\u5bf9\u8ba1\u7b97 $g$ \u7684\u5361\u5e38\u4e86\u3002\n\n\u90a3\u53ea\u80fd\u5bf9\u500d\u589e\u672c\u8eab\u5361\u5e38\u4e86\u3002\n\n\u500d\u589e\u7684\u4e0a\u754c\u539f\u672c\u9009\u62e9\u7684\u662f $\\lfloor \\log 10^{16} \\rfloor=53$ \u7684\uff0c\u5c0f\u5fc3\u7ffc\u7ffc\u7684\u8c03\u4e86\u4e00\u4e0b\u53d1\u73b0\u7adf\u7136\u53ef\u4ee5\u8c03\u5230 $45$\uff01\u56e0\u4e3a\u5176\u5b9e\u53f3\u7aef\u70b9\u548c\u5de6\u7aef\u70b9\u7684\u8ddd\u79bb\u5e76\u6ca1\u6709\u90a3\u4e48\u5927\u3002\n\n\u8fd9\u6837\u4e00\u4e0b\u5b50\u5c31\u5361\u5230\u4e86 200+ms \uff01\u8fd9\u542f\u53d1\u6211\u4eec\u8c03\u6574\u500d\u589e\u4e0a\u754c\u3002\n\n\u6253\u8868\u53d1\u73b0\uff0c\u5176\u5b9e\u6bcf\u4e2a\u5de6\u7aef\u70b9\u5bf9\u5e94\u7684\u500d\u589e\u4e0a\u754c\u662f\u4e0d\u540c\u7684\u3002\u76f8\u5bf9\u6765\u8bf4\uff0c\u8bbe\u5de6\u7aef\u70b9\u4e3a $l$\uff0c\u90a3\u4e48 $l$ \u8d8a\u5927\u500d\u589e\u4e0a\u754c\u4e5f\u8d8a\u5927\u3002\u7ecf\u8fc7\u8bd5\u9a8c\uff0c\u6bcf\u6b21\u7684\u500d\u589e\u4e0a\u754c\u53ef\u4ee5\u9009\u62e9 $\\lfloor \\log l-6 \\rfloor$\u3002\n\n\u8fd9\u6837\u5c31\u5361\u5230\u4e86 160ms\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nconst int mod=8010007;\nstruct has\n{\n\tstruct node\n\t{\n\t\tint nxt;\n\t\tll v,key;\n\t}a[10000000];\n\tint head[mod+5];\n\tint cnt;\n\tll add(ll key,ll v)\n\t{\n\t\ta[++cnt].nxt=head[key%mod];\n\t\ta[cnt].v=v;\n\t\ta[cnt].key=key;\n\t\thead[key%mod]=cnt;\n\t\treturn v;\n\t}\n\tll find(ll x)\n\t{\n\t\tfor(int i=head[x%mod];i;i=a[i].nxt)\n\t\t\tif(a[i].key==x)\n\t\t\t\treturn a[i].v;\n\t\treturn 0;\n\t}\n}dp;\nconst int mxn=5e6;\nint dp2[mxn+5];\nll g(ll n)\n{\n\tif(n<=mxn) return dp2[n];\n\tll ans=dp.find(n);\n\tif(ans) return ans;\n\treturn dp.add(n,max(g(n/2)+g(n/3)+g(n/8)+g(n/9),n));\n}\nll li[6000],ans[6000];\nint cnt;\nll g2(ll n)\n{\n\treturn ans[upper_bound(li,li+cnt,n)-li-1];\n}\nint main()\n{\n\tll a,b,i,l,r;\n\tfor(int i=1;i<=mxn;i++)\n\t\tdp2[i]=max(i,dp2[i/2]+dp2[i/3]+dp2[i/8]+dp2[i/9]);\n\tfor(l=0;l<=1e16;l=r+1)\n\t{\n\t\ta=g(l);\n\t\tfor(r=l,i=1ll<<int(log2(l)-6);i>=1;i>>=1)\n\t\t\tif(r+i<=1e16&&g(r+i)==a)\n\t\t\t\tr+=i;\n\t\tli[cnt]=l,ans[cnt++]=a;\n\t}\t\n\twhile(~scanf(\"%lld%lld\",&a,&b))\n\t{\n\t\tif(a<2||b<2) printf(\"%lld\\n\",a+b);\n\t\telse printf(\"%lld\\n\",g2(a)+g2(b));\n\t}\n}\n```\n",
        "postTime": 1607234291,
        "uid": 203623,
        "name": "Ntokisq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5083 \u3010\u51fd\u6570\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u8c8c\u4f3c\u53ea\u6709@AKEE \u5927\u4f6cA\u6389\uff0c\u606d\u559c\uff01\n\n\u8fd8\u6709\u56e0\u4e3ac++\u4e2d\u652f\u6301\u4e24\u4e2a\u53c2\u6570\u6570\u91cf\u4e0d\u540c\u7684\u76f8\u540c\u540d\u79f0\u7684\u51fd\u6570\u8c03\u7528\uff0c\u6240\u4ee5\u5f53\u65f6\u5c31\u6ca1\u6539\u6210\u4e24\u4e2a\u51fd\u6570\uff0c\u8fd9\u91cc\u8868\u793a\u62b1\u6b49\u3002\n\n\u8fd9\u9053\u9898\u53ef\u76f4\u63a5\u7528\u6307\u9488+hash\u4e00\u4e0b\uff0c\u7136\u540e\u5c31\u6a21\u62df\u5373\u53ef\u3002\n\n# \u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int Mo=10000000;\nstruct node \n{\n    long long int state,ans;\n    node* next;\n}*Hash[Mo+10],*p;\nlong long max(long long a,long long b,long long c,long long d,long long e) \n{\n    return max(a,max(b,max(c,max(d,e))));\n}\nlong long max(long long a,long long b,long long c,long long d) \n{\n    return max(a,max(b,max(c,d)));\n}\nlong long f(long long x) \n{\n    if(x==0)return 0;\n    p=Hash[x%Mo];\n    while(p!=NULL)\n    {\n        if(p->state==x)return p->ans;\n        p=p->next;\n    }\n    long long anss=max(x,f(x/2)+f(x/3)+f(x/8)+f(x/9));\n    p=new node;\n    p->state=x;\n    p->ans=anss;\n    p->next=Hash[x%Mo];\n    Hash[x%Mo]=p;\n    return anss;\n}\nlong long f(long long a,long long b) \n{\n    long long anss=max(a+b,f(a/2)+f(a/3)+f(a/8)+f(a/9)+b,f(b/2)+f(b/3)+f(b/8)+f(b/9)+a,f(b/2)+f(b/3)+f(b/8)+f(b/9)+f(a/2)+f(a/3)+f(a/8)+f(a/9));\n    return anss;\n}\nint main() \n{\n\t//freopen(\"function.in\",\"r\",stdin);\n\t//freopen(\"function.out\",\"w\",stdout);\n    long long int a,b;\n    while(cin>>a>>b) \n    {\n        cout<<f(a,b)<<endl;\n    }\n    return 0;\n}\n```",
        "postTime": 1544395423,
        "uid": 45475,
        "name": "ShineEternal",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5083 \u3010\u51fd\u6570\u3011"
    }
]