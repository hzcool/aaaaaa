[
    {
        "content": "## [\u9898\u610f](https://blog.csdn.net/BeNoble_/article/details/80083151)\n\n\u7ed9\u4f60$n$\u4e2a\u957f\u5ea6\u4e3a$m$\u7684$01$\u4e32\n\n\u4f60\u53ef\u4ee5\u5728\u6bcf\u4e2a\u4e32\u524d\u9762\u52a0\u4e00\u4e2a\u8fd0\u7b97\u7b26$\\land$\u6216$\\lor,$\u5206\u522b\u8868\u793a$and$\u548c$or$\u8fd0\u7b97\n\n\u6bcf\u6b21\u8be2\u95ee\u4e00\u4e2a\u957f\u5ea6\u4e3a$m$\u7684$01$\u4e32$,$\u95ee\u6709\u591a\u5c11\u603b\u64cd\u4f5c\u5e8f\u5217\u80fd\u5f97\u5230\u8fd9\u4e2a\u4e32\n\n---\n\n## \u9898\u89e3\n\n\u56e0\u4e3a\u662f\u4e8c\u8fdb\u5236\u6570$,$\u6240\u4ee5\u8003\u8651\u6309\u4f4d\u5904\u7406($i$\u8868\u793a\u7b2c$i$\u4e2a\u6570\u5b57$,j$\u8868\u793a\u7b2c$j$\u4f4d)\n\n$1.$\n\n>$0\\lor1=1,1\\lor1=1$\n\n>$0\\land0=0,1\\land0=0$\n\n\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u7b2c$j$\u4f4d\u662f$0$\u4e14$i$\u524d\u9762\u7684\u8fd0\u7b97\u7b26\u662f$\\land,$\u90a3\u4e48\u4e0d\u7ba1\u524d\u9762\u662f\u4ec0\u4e48\u6700\u540e\u7684\u8fd0\u7b97\u7ed3\u679c\u90fd\u786e\u5b9a\u4e86\u662f$0$(\u53e6\u5916\u4e00\u79cd\u60c5\u51b5\u540c\u7406)\n\n$2.$\n>$0\\lor0=0,1\\lor0=1$\n\n>$0\\land1=0,1\\land1=1$\n\n\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u7b2c$j$\u4f4d\u662f$0$\u4e14$i$\u524d\u9762\u7684\u8fd0\u7b97\u7b26\u662f$\\lor,$\u90a3\u4e48\u4e0d\u7ba1\u524d\u9762\u662f\u4ec0\u4e48\u6700\u540e\u7684\u8fd0\u7b97\u7ed3\u679c\u90fd\u4e0d\u4f1a\u53d1\u751f\u6539\u53d8(\u53e6\u5916\u4e00\u79cd\u60c5\u51b5\u540c\u7406)\n\n\u8003\u8651\u628a\u64cd\u4f5c\u5e8f\u5217\u8f6c\u5316\u6210$01$\u5e8f\u5217$(\\lor\\to0,\\land\\to1)$\n\n\u53ef\u4ee5\u89c2\u5bdf\u5230\n\n>\u5982\u679c$i$\u524d\u9762\u7684\u8fd0\u7b97\u7b26\u548c\u7b2c$j$\u4f4d\u76f8\u540c\u90a3\u4e48\u8fd0\u7b97\u7ed3\u679c\u5c31\u4e0d\u4f1a\u6539\u53d8\n\n>\u5426\u5219\u7684\u8bdd\u8fd0\u7b97\u7ed3\u679c\u4e5f\u662f\u53ef\u4ee5\u76f4\u63a5\u5f97\u51fa\u7684\n\n\u8bbe\u6700\u540e\u4e00\u4f4d\u662f\u6700\u9ad8\u4f4d\n\n\u628a\u7b2c$j$\u4f4d\u7684$01$\u4e32\u63d0\u51fa\u6765\u5f97\u5230\u4e00\u4e2a\u957f\u5ea6\u662f$n$\u7684\u4e8c\u8fdb\u5236\u6570$x$\n\n\u56e0\u4e3a\u8981\u4f7f\u5f97\u7b2c$j$\u4f4d\u8fd0\u7b97\u7ed3\u679c\u662f$1$\u5219\u6700\u540e\u4e00\u4e2a$\\lor1$\u64cd\u4f5c\u7684\u4f4d\u7f6e\u4e00\u5b9a\u8981\u5728$\\land0$\u540e\u9762\n\n\u8f6c\u5316\u4e00\u4e0b\u5c31\u662f\u5c31\u8981\u6c42$x\\gt$**\u64cd\u4f5c\u4e32**\n\n$e.g$\n\n>$ x=1011,op=0011,x\\gt op$\n\n>$0\\lor 1\\lor 0\\land 1\\land 1=1$\n\n>$ x=1011,op=1011,x\\le op$\n\n>$0\\land 1\\lor 0\\land 1\\land 1=0$\n\n\u90a3\u4e48\u8fd9\u9053\u9898\u5c31\u6210\u529f\u7684\u8f6c\u5316\u4e3a\u4e00\u4e2a\u6bd4\u5927\u5c0f\u7684\u9898\u76ee\u4e86\n\n\u6bcf\u4e00\u4f4d\u6309\u7167\u5176\u4e8c\u8fdb\u5236\u6570\u7684\u503c\u6392\u5e8f\n\n\u5224\u65ad\u4e00\u4e0b\u6bcf\u4e00\u4f4d\u4e8c\u8fdb\u5236\u6570\u548c$op$\u7684\u5927\u5c0f\u5173\u7cfb\n\n\u5982\u679c\u6709\u89e3\u6700\u540e\u53ef\u4ee5\u5f97\u5230$x\\le op\\lt y,$\u90a3\u4e48\u65b9\u6848\u6570\u5c31\u662f$y-x$\n\n```\n#include<bits/stdc++.h>\n#define fp(i,a,b) for(register int i=a,I=b+1;i<I;++i)\n#define fd(i,a,b) for(register int i=a,I=b-1;i>I;--i)\n#define go(u) for(register int i=fi[u],v=e[i].to;i;v=e[i=e[i].nx].to)\n#define file(s) freopen(s\".in\",\"r\",stdin),freopen(s\".out\",\"w\",stdout)\ntemplate<class T>inline bool cmax(T&a,const T&b){return a<b?a=b,1:0;}\ntemplate<class T>inline bool cmin(T&a,const T&b){return a>b?a=b,1:0;}\nusing namespace std;\nconst int N=5005,P=1e9+7;\ntypedef int arr[N];\nint n,m,q,c[2];arr a,b,s,t,Mi;char p[N];\ninline int pls(int a,int b){return a+=b,a<P?a:a-P;}\ninline int sub(int a,int b){return a-=b,a<0?a+P:a;}\nint main(){\n    #ifndef ONLINE_JUDGE\n        file(\"s\");\n    #endif\n    scanf(\"%d%d%d\\n\",&n,&m,&q);\n    Mi[1]=1;fp(i,2,n+1)Mi[i]=(Mi[i-1]<<1)%P;\n    fp(i,1,m)a[i]=i;\n    fp(i,1,n){\n        gets(p+1);c[0]=0,c[1]=m;\n        fp(j,1,m)p[j]=='1'?s[j]=pls(s[j],Mi[i]):++c[0];\n        fd(j,m,1)b[c[p[a[j]]-48]--]=a[j];swap(a,b);\n    }\n    fp(i,1,m)t[i]=s[a[i]];\n    register int up,dw;t[m+1]=Mi[n+1];\n    while(q--){\n        gets(p+1);up=m+1,dw=0;\n        fd(i,m,1)if(p[a[i]]=='0'){dw=i;break;}\n        fp(i,1,m)if(p[a[i]]=='1'){up=i;break;}\n        printf(\"%d\\n\",up<dw?0:sub(t[up],t[dw]));\n    }\nreturn 0;\n}\n```",
        "postTime": 1524650310,
        "uid": 20156,
        "name": "Kelin",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P4424 \u3010[HNOI/AHOI2018]\u5bfb\u5b9d\u6e38\u620f\u3011"
    },
    {
        "content": "\u5bfb\u5b9d\u6e38\u620f\n\n\u9898\u610f\uff1a\n\n\u7ed9\u5b9a$n$\u4e2a\u957f\u5ea6\u4e3a$m$\u7684$01$\u4e32\n\n\u73b0\u5728\u5141\u8bb8\u4f60\u5728\u5bf9$0$\u4f9d\u6b21\u201c\u6309\u4f4d\u4e0e\u201d\u6216\u8005\u201c\u6309\u4f4d\u6216\u201d\u4e0a\u8fd9\u4e9b$01$\u4e32\n\n$q$\u7ec4\u8be2\u95ee\uff0c\u6bcf\u6b21\u8be2\u95ee\u6709\u591a\u5c11\u79cd\u65b9\u6cd5\u586b\u5165\u201c\u6309\u4f4d\u4e0e\u201d\u6216\u8005\u201c\u6309\u4f4d\u6216\u201d\u4f7f\u5f97\u6700\u7ec8\u7ed3\u679c\u4e3a\u8be2\u95ee\u7684$01$\u4e32\n\n$Sol:$\n\n$1.$\n\n$$0~|~1~=~1~,\\quad 1~|~1~=~1$$\n\n$$0~\\&~0=~0,\\quad 1~\\&~0~=~0$$\n\n\u4e8e\u662f\u6709\u5bf9\u4e8e\u4e00\u4e2a$1$\u5982\u679c\u5176\u524d\u9762\u586b\u5165\u7684\u4e3a$~|~$\uff0c\u90a3\u4e48\u65e0\u8bba\u5982\u4f55\u7b54\u6848\u90fd\u662f$1$\n\n\u5bf9\u4e8e\u4e00\u4e2a$0$\u5982\u679c\u5176\u524d\u9762\u586b\u5165\u7684\u4e3a$\\&$\uff0c\u90a3\u4e48\u65e0\u8bba\u5982\u4f55\u7b54\u6848\u90fd\u662f$0$\n\n\n$2.$\n\n$$1~|~0~=~1~,\\quad 0~|~0~=~0$$\n\n$$1~\\&~1=~1,\\quad 0~\\&~1~=~0$$\n\n\u4e8e\u662f\u6709\u5bf9\u4e8e\u4e00\u4e2a$1$\u5982\u679c\u5176\u524d\u9762\u4e3a$\\&$\u90a3\u4e48\u7b54\u6848\u4e0d\u4f1a\u6539\u53d8\n\n\u5bf9\u4e8e\u4e00\u4e2a$0$\u5982\u679c\u5176\u524d\u9762\u4e3a$~|~$\u90a3\u4e48\u7b54\u6848\u4e5f\u4e0d\u4f1a\u6539\u53d8\n\n$3.$\n\n\u6211\u4eec\u5148\u8003\u8651\u6700\u57fa\u7840\u7684\u95ee\u9898\uff0c\u5047\u8bbe\u6240\u6709\u7684$0/1$\u4e32\u90fd\u53ea\u6709$1$\u4f4d\n\n\u6211\u4eec\u4ece\u540e\u5f80\u524d\u8003\u8651\u6240\u6709\u7684$0/1$\uff0c\u53ef\u4ee5\u5c06\u5176\u53d8\u6210\u4e00\u4e2a\u5e8f\u5217\n\n\u7531\u4e8e\u4e24\u4e24\u4e4b\u95f4\u4e5f\u6709\u4e00\u4e2a\u64cd\u4f5c\uff0c\u4e8e\u662f\u628a\u64cd\u4f5c\u5355\u72ec\u63d0\u51fa\u6765\u4e5f\u662f\u4e00\u4e2a\u5e8f\u5217\n\n\u89c4\u5b9a\u5b83\u4e3a\u64cd\u4f5c\u5e8f\u5217\uff0c\u6211\u4eec\u5c1d\u8bd5\u628a\u64cd\u4f5c\u5e8f\u5217\u8f6c\u6210\u4e00\u4e2a$0/1$\u5e8f\u5217\n\n\u4ee4$~|~$\u4e3a $0$\uff0c$\\&$ \u4e3a $1$\n\n\u4e8e\u662f\u5bf9\u4e8e\u4e00\u4e2a$0/1$\u5e8f\u5217$10010$\u7b49\uff0c\u5176\u8fd0\u7b97\u7ed3\u679c\u4e3a$1$\u5f53\u4e14\u4ec5\u5f53\u5176$>$\u64cd\u4f5c\u5e8f\u5217\uff0c\u5426\u5219\u5176\u4e3a$0$\n\n\u8fd9\u662f\u56e0\u4e3a\u5bf9\u4e8e\u64cd\u4f5c\u5e8f\u5217\uff0c\u5982\u679c\u504f\u9ad8\u4f4d\u4e0e$0/1$\u5e8f\u5217\u5168\u90e8\u76f8\u7b49\uff0c\u5219\u4e3a\u60c5\u51b5$2$\u8fd0\u7b97\u7ed3\u679c\u4e0d\u53d8\uff0c\u5426\u5219\u5982\u679c\u5b58\u5728\u4e00\u4e2a$1$\u4e14\u64cd\u4f5c\u5e8f\u5217\u5bf9\u5e94\u4f4d\u4e3a$0$\u5219\u4e3a\u60c5\u51b5$1$\uff0c\u8fd0\u7b97\u7ed3\u679c\u4e3a$1$\n\n\u4e8e\u662f\u5bf9\u4e8e\u4e00\u4f4d\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u6210\u529f\u5c06\u8fd9\u9053\u9898\u8f6c\u5316\u6210\u4e86\u4e00\u9053\u6bd4\u5927\u5c0f\u7684\u9898\u76ee\u4e86$qwq$\n\n\u5bf9\u4e8e\u6bcf\u4e2a$0/1$\u4e32\u82e5\u5176\u6709$m$\u4f4d\u6211\u4eec\u5c31\u5bf9\u5176\u6bcf\u4e00\u4f4d\u5355\u72ec\u8003\u8651\n\n\u82e5\u7ed3\u679c\u8981\u6c42\u5f53\u4e14\u4f4d\u4e3a$1$\u5219\u8868\u660e\u64cd\u4f5c\u5e8f\u5217$<$\u5f53\u4e14\u4f4d\uff0c\u5426\u5219\u8868\u793a\u64cd\u4f5c\u5e8f\u5217$\\ge$\u5f53\u524d\u4f4d\n\n\u4e8e\u662f\u6211\u4eec\u5c06\u6240\u6709\u7684$0/1$\u4e32\u63d0\u524d\u6392\u4e2a\u5e8f\uff0c\u95ee\u9898\u5c31\u53ea\u9700\u8981\u53d6$0$\u4e2d\u6700\u5927\u503c$x$\u548c$1$\u4e2d\u6700\u5c0f\u503c$y$\uff0c$y-x$\u5373\u65b9\u6848\u6570\n\n**\u4e00\u70b9\u7ec6\u8282**\n\n\u6ce8\u610f\u5230\u6211\u4eec\u6700\u540e\u8981\u53cd\u5411\uff0c\u8fd8\u8981\u5bf9\u6bcf\u4e00\u4f4d\u5355\u72ec\u5904\u7406\n\n\u4e8e\u662f\u597d\u50cf\u6709\u6211\u4eec\u8bfb\u5165\u7684\u5c31\u662f\u5f85\u6392\u5e8f\u7684\u6700\u4f4e\u4f4d\uff0c\u6b21\u4f4e\u4f4d...\u6700\u9ad8\u4f4d\n\n\u4e8e\u662f\u597d\u50cf\u53ef\u4ee5\u8fb9\u8bfb\u5165\u8fb9\u57fa\u6392...\n\n\u590d\u6742\u5ea6$O(nm+qm)$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define rep( i, s, t ) for( register int i = s; i <= t; ++ i )\n#define drep( i, s, t ) for( register int i = t; i >= s; -- i )\n#define int long long\n#define re register\nint read() {\n\tchar cc = getchar(); int cn = 0, flus = 1;\n\twhile(cc < '0' || cc > '9') {  if( cc == '-' ) flus = -flus;  cc = getchar();  }\n\twhile(cc >= '0' && cc <= '9')  cn = cn * 10 + cc - '0', cc = getchar();\n\treturn cn * flus;\n}\nconst int P = 1000000007 ; \nconst int N = 1000 + 5 ;\nconst int M = 5000 + 5 ; \nint n, m, q, lk[M], rk[M], b[M][N], a[M], Ans[M] ; \nchar s[M] ;\nint Get( int x, int y ) {\n\treturn ( Ans[y] - Ans[x] + P ) % P ; \n}\nsigned main()\n{\n\tn = read(), m = read(), q = read() ; \n\trep( i, 1, m ) rk[i] = i ; \n\trep( i, 1, n ) {\n\t\tscanf(\"%s\", s + 1 ) ; int rs = 0 ; \n\t\trep( j, 1, m ) a[j] = s[j] - '0', b[j][i] = a[j] ; \n\t\trep( j, 1, m ) if( a[rk[j]] == 0 ) lk[++ rs] = rk[j] ;\n\t\trep( j, 1, m ) if( a[rk[j]] == 1 ) lk[++ rs] = rk[j] ;\n\t\trep( j, 1, m ) rk[j] = lk[j] ; \n\t}\n\trep( j, 1, m ) drep( i, 1, n ) Ans[j] = ( Ans[j] * 2ll + b[j][i] ) % P ;\n\trep( j, 1, n ) Ans[m + 1] = ( Ans[m + 1] * 2ll + 1 ) % P ; \n\trk[m + 1] = m + 1 ; Ans[m + 1] += 1 ; \n\twhile( q -- ) {\n\t\tscanf(\"%s\", s + 1 ) ; int Lk = 0, Rk = m + 1 ; \n\t\trep( j, 1, m ) if( s[rk[j]] == '1' ) { Rk = j ; break ; }\n\t\tdrep( j, 1, m ) if( s[rk[j]] == '0' ) { Lk = j ; break ; } \n\t\tprintf(\"%lld\\n\", ( Rk < Lk ) ? 0 : Get( rk[Lk], rk[Rk] ) ) ;\n\t} \n\treturn 0;\n}\n```",
        "postTime": 1567926937,
        "uid": 30036,
        "name": "Soulist",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P4424 \u3010[HNOI/AHOI2018]\u5bfb\u5b9d\u6e38\u620f\u3011"
    },
    {
        "content": "\u5b98\u65b9\u9898\u89e3 [myy\u7684\u9898\u89e3](http://matthew99.blog.uoj.ac/blog/3488)\n\n\u9996\u5148\u6ce8\u610f\u52300|1=1|1=1,0&0=1&0=0,\u4e5f\u5c31\u662f\u8bf4\u4e0d\u7ba1\u524d\u9762\u662f\u4ec0\u4e48\u53ea\u8981\u9047\u5230|1\u548c&0\u540e\u9762\u7684\u7ed3\u679c\u90fd\u662f\u786e\u5b9a\u7684.\u800c&1\u548c|0\u5219\u4e0d\u4f1a\u6539\u53d8\u7ed3\u679c\n\n\u90a3\u4e48\u5bf9\u4e8e\u67d0\u4e00\u4f4d\u6765\u8bf4\u6700\u7ec8\u7ed3\u679c\u662f1\u7684\u5145\u8981\u6761\u4ef6\u5c31\u662f\u6700\u540e\u4e00\u4e2a&0\u540e\u9762\u81f3\u5c11\u8981\u6709\u4e00\u4e2a|1.\u4e5f\u5c31\u662f\u6700\u540e\u4e00\u4e2a|1\u7684\u4f4d\u7f6e\u8981\u5728\u6700\u540e\u4e00\u4e2a&0\u540e\u9762.\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u64cd\u4f5c\u8f6c\u5316\u4e00\u4e0b,\u5bf9\u4e8e\u7b2ci\u4e2a\u64cd\u4f5c,\u5982\u679c\u662f|\u5c31\u8bbe\u4e3a0,&\u5c31\u8bbe\u4e3a1.\u8fd9\u6837\u5c31\u8f6c\u5316\u6210\u4e86\u4e00\u4e2a\u957f\u5ea6\u4e3an\u768401\u4e32.\u6211\u4eec\u53ef\u4ee5\u89c2\u5bdf\u5982\u679c\u8981\u8ba9\u67d0\u4e00\u4f4d\u4e3a1,\u8fd9\u4e2a01\u4e32\u9700\u8981\u6ee1\u8db3\u4ec0\u4e48\u6761\u4ef6.\u6211\u4eec\u4ece\u540e\u5f80\u524d\u770b,\u5982\u679c\u5f53\u524d\u4e3a0,\u64cd\u4f5c\u4e32\u4e5f\u4e3a0,|0\u6ca1\u6709\u4efb\u4f55\u5f71\u54cd,\u90fd\u4e3a1\u540c\u7406.\u5982\u679c\u9047\u5230\u4e00\u4f4d\u4e0d\u540c,\u64cd\u4f5c\u4e32\u4e3a1(&),\u6570\u5b57\u4e3a0\u5219\u4e00\u5b9a\u975e\u6cd5(\u56e0\u4e3a\u540e\u9762\u6ca1\u6709|1),\u53cd\u4e4b\u4e00\u5b9a\u5408\u6cd5.\n\n\u8003\u8651\u8fd9\u4e2a\u8fc7\u7a0b\u6211\u4eec\u53d1\u73b0:\u8fd9\u5b9e\u9645\u4e0a\u5c31\u662f\u5728\u6bd4\u8f83\u4e8c\u8fdb\u5236\u6570\u7684\u5927\u5c0f!\u5982\u679c\u540e\u9762\u4e3a\u9ad8\u4f4d,\u90a3\u4e48\u7b2ci\u4f4d\u64cd\u4f5c\u540e\u4e3a1,\u5f53\u4e14\u4ec5\u5f53\u64cd\u4f5c\u4e32\u7684\u5b57\u5178\u5e8f\u5c0f\u4e8e\u7b2ci\u4f4d01\u4e32.\u90a3\u4e48\u6ee1\u8db3\u8fd9\u4e00\u4f4d\u4e3a1\u7684\u64cd\u4f5c\u7684\u4e2a\u6570\u5c31\u662f\u8fd9\u4e00\u4f4d01\u4e32\u5f62\u6210\u7684\u4e8c\u8fdb\u5236\u6570.\n\n\u901a\u8fc7\u8fd9\u4e2a\u7ed3\u8bba\u6211\u4eec\u53ef\u4ee5\u5f88\u660e\u663e\u7684\u5f97\u5230\u7b97\u6cd5.\n\u5bf9\u4e8e\u6bcf\u4e00\u4f4d\u5f62\u6210\u768401\u4e32\u4ece\u5927\u5230\u5c0f\u8fdb\u884c\u6392\u5e8f,\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8be2\u95ee\u68c0\u67e5\u662f\u5426\u5408\u6cd5(\u6309\u7167\u6392\u5e8f\u540e\u7684\u987a\u5e8f\u65f6\u5019\u6240\u67090\u57281\u540e\u9762,\u4e3a1\u5219\u5c0f\u4e8e\u5f53\u524d\u6570,\u4e3a0\u5219\u5927\u4e8e\u5f53\u524d\u6570),\u76f4\u63a5\u8f93\u51fa\u7b54\u6848(\u6700\u5c0f\u7684\u7ed3\u679c\u4e3a1\u768401\u4e32-\u6700\u5927\u7684\u7ed3\u679c\u4e3a0\u768401\u4e32)\n\n\u4ee3\u7801:\n```cpp\n#include<bits/stdc++.h>\n#include<tr1/unordered_map>\n#define  For(i,a,b) for(int i=a,i##E=b;i<=i##E;++i)\n#define\trFor(i,a,b) for(int i=a,i##E=b;i>=i##E;--i)\n#define pb push_back\n#define pii pair<int,int>\n#define ft first\n#define sd second\n#define mem(a,b) memset(a,b,sizeof(a))\nusing namespace std;\ntypedef long long LL;\nconst int N=5010;\nconst int inf=0x3f3f3f3f;\nconst int mod=1e9+7;\ntemplate<typename T>inline bool chkmax(T&A,const T&B){return A<B?1,A=B:0;}\ntemplate<typename T>inline bool chkmin(T&A,const T&B){return A>B?1,A=B:0;}\ntemplate<typename T>inline void read(T&x)\n{\n    x=0;int f=0;char ch=getchar();\n    while(!isdigit(ch))f|=(ch=='0'),ch=getchar();\n    while( isdigit(ch))x=x*10+ch-'0',ch=getchar();\n    x=f?-x:x;\n}\ninline void file()\n{\n    freopen(\"hunt.in\",\"r\",stdin);\n    freopen(\"hunt.out\",\"w\",stdout);\n}\nint n,m,Q,len;\nint a[N];\nint num[N],p[N];\nchar str[N][N],q[N];\ninline void Add(int&x,const int&y){x=x+y<mod?x+y:x+y-mod;}\ninline LL qpow(LL a,LL b)\n{\n\tLL ret=1;\n\tfor(;b;b>>=1,a=a*a%mod)\n\t\tif(b&1)ret=ret*a%mod;\n\treturn ret;\n}\nstruct node{int x[N/30+1],id,ans;}s[N];\ninline bool operator<(const node&A,const node&B)\n{\n\trFor(i,len,0)if(A.x[i]!=B.x[i])return A.x[i]>B.x[i];\n\treturn 0;\n}\nint main()\n{\n    file();\n    read(n),read(m),read(Q);\n\tFor(i,1,n)scanf(\"%s\",str[i]+1);\n\tFor(i,1,m)\n\t{\n\t\trFor(j,n,1)\n\t\t{\n\t\t\ts[i].x[j/30]=(s[i].x[j/30]<<1)|(str[j][i]-'0');\n\t\t\tAdd(s[i].ans,s[i].ans+(str[j][i]-'0'));\n\t\t}\n\t\ts[i].id=i;\n\t}\n\tlen=n/30;\n\tsort(s+1,s+m+1);\n\tFor(i,1,m)num[s[i].id]=i;\n\ts[0].ans=qpow(2,n);\n\twhile(Q--)\n\t{\n\t\tscanf(\"%s\",q+1);\n\t\tFor(i,1,m)p[num[i]]=q[i]-'0';\n\t\tint pos1=0,pos0=0;\n\t\trFor(i,m,1)if(p[i]){pos1=i;break;}\n\t\tFor(i,1,m)if(!p[i]){pos0=i;break;}\n\t\tif(pos0&&pos1&&pos0<pos1)puts(\"0\");\n\t\telse printf(\"%d\\n\",(s[pos1].ans+mod-s[pos1+1].ans)%mod);\n\t}\n    return 0;\n}\n\n```",
        "postTime": 1523969193,
        "uid": 8462,
        "name": "ztzshiwo001219",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4424 \u3010[HNOI/AHOI2018]\u5bfb\u5b9d\u6e38\u620f\u3011"
    },
    {
        "content": "[\u5728\u535a\u5ba2\u67e5\u770b](https://www.cnblogs.com/chenxiaoran666/p/Luogu4424.html)\n\n**\u5927\u81f4\u9898\u610f\uff1a** \u7ed9\u4f60$n$\u4e2a$m$\u4f4d\u4e8c\u8fdb\u5236\u6570\u3002\u6bcf\u7ec4\u8be2\u95ee\u7ed9\u4f60\u4e00\u4e2a$m$\u4f4d\u4e8c\u8fdb\u5236\u6570\uff0c\u8981\u6c42\u4f60\u4ece$0$\u5f00\u59cb\uff0c\u4f9d\u6b21\u5bf9\u4e8e\u8fd9$n$\u4e2a\u6570\u8fdb\u884c$and$\u6216$or$\u64cd\u4f5c\uff0c\u95ee\u6709\u591a\u5c11\u79cd\u65b9\u6848\u80fd\u591f\u5f97\u5230\u7ed9\u4f60\u7684\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u6570\u3002\n\n### \u627e\u89c4\u5f8b\n\n\u4e0d\u96be\u60f3\u5230\u53bb\u5bf9\u6bcf\u4e00\u4f4d\u5206\u522b\u8ba8\u8bba\u3002\n\n\u5219\u6839\u636e\u4f4d\u8fd0\u7b97\u6cd5\u5219\u53ef\u5f97\uff1a\n\n- \u5f53\u4f60\u628a\u67d0\u4e00\u4f4d\u7684\u6570$and\\ 0$\uff0c\u5c31\u76f8\u5f53\u4e8e\u628a\u8fd9\u4e00\u4f4d\u6570\u8d4b\u503c\u4e3a$0$\u3002\n- \u5f53\u4f60\u628a\u67d0\u4e00\u4f4d\u7684\u6570$or\\ 1$\uff0c\u5c31\u76f8\u5f53\u4e8e\u628a\u8fd9\u4e00\u4f4d\u6570\u8d4b\u503c\u4e3a$1$\u3002\n- \u5f53\u4f60\u628a\u67d0\u4e00\u4f4d\u7684\u6570$and\\ 1$\u6216\u8005$or\\ 0$\u65f6\uff0c\u8fd9\u4e00\u4f4d\u7684\u503c\u5747\u4e0d\u53d8\u3002\n\n\u5219\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u7ed3\u8bba\uff1a\n\n- \u82e5\u7ed9\u5b9a\u6570\u8fd9\u4e00\u4f4d\u4e3a$0$\uff0c\u5219\u5bf9\u4e8e\u8fd9\u4e00\u4f4d\u7684\u8fd0\u7b97\u4e2d\u6700\u540e\u4e00\u6b21$and\\ 0$\u8981\u51fa\u73b0\u5728\u6700\u540e\u4e00\u6b21$or\\ 1$\u4e4b\u540e\uff08\u6216\u8005\u4e24\u8005\u90fd\u672a\u51fa\u73b0\uff09\u3002\n- \u82e5\u7ed9\u5b9a\u6570\u8fd9\u4e00\u4f4d\u4e3a$1$\uff0c\u5219\u5bf9\u4e8e\u8fd9\u4e00\u4f4d\u7684\u8fd0\u7b97\u4e2d\u6700\u540e\u4e00\u6b21$or\\ 1$\u8981\u51fa\u73b0\u5728\u6700\u540e\u4e00\u6b21$and\\ 0$\u4e4b\u540e\uff08\u6ce8\u610f$or\\ 1$\u5fc5\u987b\u6709\uff0c$and\\ 0$\u53ef\u6709\u53ef\u65e0\uff09\u3002\n\n\u4f46\u8fd9\u6837\u4f9d\u7136\u4e0d\u592a\u597d\u64cd\u4f5c\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u8fdb\u884c\u8fdb\u4e00\u6b65\u8f6c\u5316\u3002\n\n### \u8f6c\u5316\n\n\u8003\u8651\u628a\u64cd\u4f5c\u5e8f\u5217\u8f6c\u5316\u4e3a\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\uff0c$or$\u4e3a$0$\uff0c$and$\u4e3a$1$\uff0c\u4e14\u8f83\u540e\u64cd\u4f5c\u5904\u4e8e\u8f83\u9ad8\u4f4d\u3002\n\n\u7136\u540e\u628a\u9898\u76ee\u4e2d\u7ed9\u51fa\u7684$n$\u4e2a\u957f\u5ea6\u4e3a$m$\u7684\u6570\u53d8\u4e3a$m$\u4e2a\u957f\u5ea6\u4e3a$n$\u7684\u6570\uff0c\u7b2c$i$\u4e2a\u6570\u7531\u521d\u59cb\u7684$n$\u4e2a\u6570\u7684\u7b2c$i$\u4f4d\u7ec4\u6210\uff0c\u4e14\u7f16\u53f7\u8f83\u5927\u7684\u6570\u5904\u4e8e\u8f83\u9ad8\u4f4d\u3002\n\n\u8fd9\u6837\u4e00\u6765\u64cd\u4f5c\u4e0e\u6570\u5c31\u53ef\u4ee5\u4e00\u4e00\u5bf9\u5e94\u4e86\u3002\n\n\u7136\u540e\u8003\u8651\u5982\u679c\u5bf9\u5e94\u4f4d\u76f8\u7b49\uff0c\u8868\u793a\u8be5\u64cd\u4f5c\u65e0\u5f71\u54cd\u3002\n\n\u800c\u4e0d\u76f8\u7b49\u90a3\u4e00\u4f4d\uff0c\u82e5\u64cd\u4f5c\u5e8f\u5217\u4e2d\u7684\u503c\u4e3a$0$\uff0c\u6570\u4e2d\u7684\u503c\u4e3a$1$\uff0c\u5373\u64cd\u4f5c\u5e8f\u5217\u4e2d\u8fd9\u4e00\u4f4d\u5c0f\u4e8e\u8be5\u6570\u4e2d\u7684\u8fd9\u4e00\u4f4d\uff0c\u8bf4\u660e\u662f\u8d4b\u503c\u4e3a$1$\uff0c\u53cd\u4e4b\u662f\u8d4b\u503c\u4e3a$0$\u3002\n\n\u7531\u4e8e\u4e8c\u8fdb\u5236\u4e0b\u6bd4\u5927\u5c0f\u770b\u4e0d\u76f8\u7b49\u7684\u6700\u9ad8\u4f4d\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u7ed3\u8bba\uff1a\n\n- \u82e5\u64cd\u4f5c\u5e8f\u5217\u6240\u8868\u793a\u7684\u4e8c\u8fdb\u5236\u6570\u5c0f\u4e8e\u8be5\u6570\uff0c\u5219\u6700\u7ec8\u7ed3\u679c\u4e2d\u8be5\u6570\u6240\u5bf9\u5e94\u4f4d\u4e0a\u4e3a$1$\uff08\u4e0d\u80fd\u7b49\u4e8e\u662f\u56e0\u4e3a\u4e00\u5b9a\u8981\u6709$or\\ 1$\u64cd\u4f5c\uff09\u3002\n- \u82e5\u64cd\u4f5c\u5e8f\u5217\u6240\u8868\u793a\u7684\u4e8c\u8fdb\u5236\u6570\u5927\u4e8e\u7b49\u4e8e\u8be5\u6570\uff0c\u5219\u6700\u7ec8\u7ed3\u679c\u4e2d\u8be5\u6570\u6240\u5bf9\u5e94\u4f4d\u4e0a\u4e3a$0$\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u64cd\u4f5c\u5e8f\u5217\u6240\u8868\u793a\u7684\u4e8c\u8fdb\u5236\u6570\uff0c\u8981\u6ee1\u8db3\u5176\u5c0f\u4e8e\u6240\u6709\u5e94\u5f97\u4f4d\u4e3a$1$\u7684\u6570\uff0c\u5927\u4e8e\u7b49\u4e8e\u6240\u6709\u5e94\u5f97\u4f4d\u4e3a$0$\u7684\u6570\u3002\n\n\u800c\u8fd9\u4e5f\u5c31\u662f\u8981\u5c0f\u4e8e\u6240\u6709\u5e94\u5f97\u4f4d\u4e3a$1$\u7684\u6570\u7684\u6700\u5c0f\u503c\uff0c\u5927\u4e8e\u7b49\u4e8e\u6240\u6709\u5e94\u5f97\u6570\u4e3a$0$\u7684\u6570\u7684\u6700\u5927\u503c\u3002\n\n\u5219\u53ef\u4ee5\u5148\u5c06\u6240\u6709\u6570\u6392\u5e8f\uff0c\u7136\u540e\u6c42\u51fa\u6240\u6709\u6570\u53d6\u6a21\u540e\u7684\u503c\uff0c\u7136\u540e\u5bf9\u4e8e\u8be2\u95ee\u4ece\u5c0f\u5230\u5927\u627e\u6700\u5927\u503c\uff0c\u4ece\u5927\u5230\u5c0f\u627e\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u5177\u4f53\u5b9e\u73b0\u8be6\u89c1\u4ee3\u7801\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define Tp template<typename Ty>\n#define Ts template<typename Ty,typename... Ar>\n#define Reg register\n#define RI Reg int\n#define Con const\n#define CI Con int&\n#define I inline\n#define W while\n#define N 1000\n#define M 5000\n#define X 1000000007\n#define Inc(x,y) ((x+=(y))>=X&&(x-=X))\nusing namespace std;\nint n,m,v[M+5],pw[M+5];\nstruct data\n{\n\tint p;string s;\n\tI bool operator < (Con data& o) Con {return s<o.s;}\n}s[M+5];\nI int XSub(CI x,CI y) {return x<y?x-y+X:x-y;}\nint main()\n{\n\tRI Qt,i,j,l,r;string st;for(scanf(\"%d%d%d\",&n,&m,&Qt),i=1;i<=m;++i) s[i].p=i;//\u521d\u59cb\u5316\n\tfor(i=1;i<=n;++i) for(cin>>st,j=1;j<=m;++j) s[j].s=st[j-1]+s[j].s;//\u521d\u59cb\u5316\u51fa\u5b57\u7b26\u4e32\n\tfor(pw[0]=i=1;i<=n;++i) (pw[i]=pw[i-1]<<1)>=X&&(pw[i]-=X);v[m+1]=pw[n];//\u9884\u5904\u74062\u7684\u5e42\n\tfor(sort(s+1,s+m+1),i=1;i<=m;++i) {for(j=0;j^n;++j) s[i].s[j]^48&&Inc(v[i],pw[n-j-1]);}//\u6392\u5e8f\uff0c\u9884\u5904\u7406\u51fa\u6bcf\u4e2a\u6570\u7684\u503c\n\tW(Qt--)\n\t{\n\t\tfor(cin>>st,l=0,i=m;i;--i) if(st[s[i].p-1]^'1') {l=i;break;}//\u627e\u6700\u5c0f\u503c\n\t\tfor(r=m+1,i=1;i<=m;++i) if(st[s[i].p-1]^'0') {r=i;break;}//\u627e\u6700\u5927\u503c\n\t\tprintf(\"%d\\n\",l<=r?XSub(v[r],v[l]):0);//\u8ba1\u7b97\u7b54\u6848\n\t}return 0;\n}\n```",
        "postTime": 1559455370,
        "uid": 28382,
        "name": "TheLostWeak",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P4424 \u3010[HNOI/AHOI2018]\u5bfb\u5b9d\u6e38\u620f\u3011"
    },
    {
        "content": "\u662f myy \u7684\u9898\u5462 orz\n\n\u6211\u4eec\u5148\u8003\u8651 $m=1$ \u7684\u60c5\u51b5\u3002\n\n\u5bb9\u6613\u53d1\u73b0\u4f4d\u8fd0\u7b97\u5b58\u5728\u8fd9\u6837\u7684\u89c4\u5f8b\uff1a\n\n1. $\\vee 1$ \u548c $\\wedge 0$ \u4f1a\u76f4\u63a5\u5f71\u54cd\u8fd0\u7b97\u7ed3\u679c\uff0c\u524d\u8005\u4f7f\u5f97\u503c\u53d8\u4e3a $1$\uff0c\u540e\u8005\u4f7f\u5f97\u503c\u53d8\u4e3a $0$\uff1b\n2. $\\vee 0$ \u548c $\\wedge 1$ \u5bf9\u7ed3\u679c\u6ca1\u6709\u5f71\u54cd\u3002\n\n\u7531\u4e0a\u9762\u4e24\u4e2a\u7ed3\u8bba\u53ef\u4ee5\u77e5\u9053\uff0c\u8fd0\u7b97\u6700\u540e\u7ed3\u679c\u4e3a $1$\uff0c\u5f53\u4e14\u4ec5\u5f53\u5b58\u5728\u81f3\u5c11\u4e00\u4e2a $\\vee 1$ \u64cd\u4f5c\uff0c\u4e14\u6700\u540e\u4e00\u4e2a $\\vee 1$ \u64cd\u4f5c\u5728 $\\wedge 0$ \u64cd\u4f5c\u4e4b\u524d\u3002\n\n\u770b\u8d77\u6765\u4f3c\u4e4e\u8fd8\u662f\u4e0d\u592a\u597d\u529e\uff1f\u6211\u4eec\u8f6c\u5316\u4e00\u4e0b\u3002\n\n\u8bbe\u64cd\u4f5c\u5e8f\u5217\u4e2d $\\vee=0$\uff0c$\\wedge=1$\u3002\n\n\u540c\u65f6\u6211\u4eec\u8bbe\u6570\u5b57\u5e8f\u5217\u4ece\u4e0b\u5f80\u4e0a\u770b\u5f97\u5230\u7684\u6570\u4e3a $x$\uff0c\u64cd\u4f5c\u5e8f\u5217\u4ece\u4e0b\u5f80\u4e0a\u770b\u5f97\u5230\u7684\u6570\u4e3a $y$\uff0c\n\n\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u8f6c\u5316\u6761\u4ef6\uff1a\u8fd0\u7b97\u6700\u540e\u7ed3\u679c\u4e3a $1$\uff0c\u5f53\u4e14\u4ec5\u5f53 $x \\gt y$\u3002\n\n\u611f\u6027\u7406\u89e3\u4e00\u4e0b\uff0c\u4ece\u9ad8\u4f4d\u5411\u4f4e\u4f4d\u76f8\u540c\u7684\u4f4d\u90fd\u4e0d\u5f71\u54cd\u7ed3\u679c\uff0c\u800c\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u4e0d\u540c\u7684\u4f4d\uff0c$x$ \u5bf9\u5e94\u7684\u4f4d\u4e3a $1$\uff0c$y$ \u5bf9\u5e94\u7684\u4f4d\u4e3a $0$ \u65f6\uff0c\u610f\u5473\u7740\u6211\u4eec\u5728\u8fd9\u4e2a\u4f4d\u4e0a\u6267\u884c\u4e86\u4e00\u6b21 $\\vee 1$ \u64cd\u4f5c\uff0c\u6839\u636e\u524d\u9762\u7684\u6027\u8d28\uff0c\u6613\u77e5\u8fd9\u79cd\u60c5\u51b5\u4e0b\u8fd0\u7b97\u7ed3\u679c\u4e3a $1$\uff0c\u53cd\u4e4b\u540c\u7406\u3002\n\n\u6700\u540e\u89e3\u96c6\u4e00\u5b9a\u662f\u8fd9\u4e24\u4e2a\u4e0d\u7b49\u5f0f\u4e4b\u4e00\uff1a$x \\gt y$\uff08\u8be5\u4f4d\u662f $1$\uff09 \u6216\u8005\u662f $x \\leq y$\uff08\u8be5\u4f4d\u662f $0$\uff09\u3002\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u89e3\u51b3\u4e86 $m=1$ \u7684\u60c5\u51b5\u3002\n\n\u5bf9\u4e8e\u591a\u4e2a\u4f4d\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u9700\u8981\u5c06\u5404\u4e2a\u4f4d\u7684\u7ed3\u679c\u5408\u5e76\u3002\n\n\u8bf4\u767d\u4e86\u5c31\u662f\u89e3\u8fd9\u6837\u4e00\u4e2a\u4e0d\u7b49\u5f0f\u7ec4\uff1a\n\n$$\n\\begin{cases}\n x \\gt a_1\\\\\n x \\leq a_2\\\\\n x \\leq a_3\\\\\n x \\gt a_4\\\\\n \\vdots\n\\end{cases}\n$$\n\n```cpp\n// Problem : P4424 [HNOI/AHOI2018]\u5bfb\u5b9d\u6e38\u620f\n// Contest : Luogu\n// URL : https://www.luogu.com.cn/problem/P4424\n// Author : StudyingFather\n// Site : https://studyingfather.com\n// Memory Limit : 500 MB\n// Time Limit : 1000 ms\n// Powered by CP Editor (https://github.com/cpeditor/cpeditor)\n\n#include <iostream>\n#include <string>\n#include <algorithm>\n#define MOD 1000000007\nusing namespace std;\nstruct node\n{\n string s;\n int id;\n bool operator<(const node&a)const\n {\n  return s>a.s||(s==a.s&&id<a.id);\n }\n}p[5005];\nstring a[1005];\nlong long res[5005];\nint main()\n{\n ios::sync_with_stdio(false);\n int n,m,q;\n cin>>n>>m>>q;\n for(int i=1;i<=n;i++)\n  cin>>a[i];\n for(int i=0;i<m;i++)\n {\n  p[i].id=i;\n  for(int j=n;j;j--)\n  {\n   a[j][i]-='0';\n   res[i]=(res[i]*2+a[j][i])%MOD;\n   p[i].s.push_back(a[j][i]);\n  }\n }\n p[m].id=m;\n p[m+1].id=m+1;\n for(int j=n;j;j--)\n {\n  res[m]=(res[m]*2+1)%MOD;\n  p[m].s.push_back(1);\n }\n res[m]++;\n sort(p,p+m+1);\n while(q--)\n {\n  string str;\n  cin>>str;\n  int l=0,r=m+1;\n  for(int i=m;i;i--)\n   if(str[p[i].id]=='1')\n   {\n    l=i;\n    break;\n   }\n  for(int i=0;i<=m;i++)\n   if(str[p[i].id]=='0')\n   {\n    r=i;\n    break;\n   }\n  cout<<(l>r?0:(res[p[l].id]-res[p[r].id]+MOD)%MOD)<<endl;\n }\n return 0;\n}\n```\n",
        "postTime": 1587289081,
        "uid": 22030,
        "name": "StudyingFather",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4424 \u3010[HNOI/AHOI2018]\u5bfb\u5b9d\u6e38\u620f\u3011"
    },
    {
        "content": "\u4e0d\u96be\u53d1\u73b0 $\\vee 1$ \u548c $\\wedge 0$ \u662f\u4f1a\u5f71\u54cd\u5230\u6700\u7ec8\u7ed3\u679c\u7684\uff0c\u76f8\u5f53\u4e8e\u8d4b\u503c\u64cd\u4f5c\uff0c\u800c $\\wedge 1$ \u548c $\\vee 0$ \u662f\u65e0\u6cd5\u5bf9\u7ed3\u679c\u4ea7\u751f\u5f71\u54cd\u7684\u3002\u5f53\u67d0\u4e00\u4f4d\u6700\u7ec8\u7684\u7ed3\u679c\u662f $1$ \u65f6\uff0c\u6700\u540e\u4e00\u4e2a\u80fd\u4ea7\u751f\u5f71\u54cd\u7684\u64cd\u4f5c\u5fc5\u987b\u662f $\\vee 1$\uff0c\u5f53\u6700\u7ec8\u7684\u7ed3\u679c\u662f $0$ \u65f6\uff0c\u6700\u540e\u4e00\u4e2a\u80fd\u4ea7\u751f\u5f71\u54cd\u7684\u64cd\u4f5c\u5fc5\u987b\u662f $\\wedge 0$\u3002\n\n$n$ \u4e2a\u4e8c\u8fdb\u5236\u4e32\uff0c\u5bf9\u6bcf\u4e00\u4f4d\u5206\u522b\u6765\u8fdb\u884c\u8003\u8651\uff0c\u5f97\u5230 $m$ \u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u4e8c\u8fdb\u5236\u4e32\uff0c\u6bcf\u4e00\u4f4d\u90fd\u5bf9\u5e94\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4e32\u3002\u628a $\\vee\\wedge$ \u7684\u8fd0\u7b97\u5e8f\u5217\u4e5f\u770b\u4f5c\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4e32\uff0c$\\vee$ \u770b\u4f5c $0$\uff0c$\\wedge$ \u770b\u4f5c $1$\uff0c\u6839\u636e\u521a\u624d\u7684\u6027\u8d28\u5f97\uff0c\u82e5\u7b2c $i$ \u4f4d\u7684\u6700\u7ec8\u7ed3\u679c\u4e3a $1$\uff0c\u5219\u7b2c $i$ \u4f4d\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u4e32\u8981\u5927\u4e8e\u8fd0\u7b97\u5e8f\u5217\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u4e32\uff0c\u82e5\u7b2c $i$ \u4f4d\u7684\u6700\u7ec8\u7ed3\u679c\u4e3a $0$\uff0c\u5219\u7b2c $i$ \u4f4d\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u4e32\u8981\u5c0f\u4e8e\u7b49\u4e8e\u8fd0\u7b97\u5e8f\u5217\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u4e32\u3002\n\n\u56e0\u6b64\u5148\u5c06 $m$ \u4e2a\u4e8c\u8fdb\u5236\u4e32\u6392\u5e8f\u540e\uff0c\u5e76\u5904\u7406\u51fa\u5176\u5bf9\u5e94\u7684\u6743\u503c\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u8be2\u95ee\u4e32\uff0c\u901a\u8fc7\u6bcf\u4e00\u4f4d\u7684\u9650\u5236\u5f97\u51fa\u8fd0\u7b97\u5e8f\u5217\u7684\u53d6\u503c\u8303\u56f4\uff0c\u4f5c\u5dee\u5373\u53ef\u6c42\u89e3\u3002\n\n\u540c\u65f6\u8fd8\u9700\u5728\u8fb9\u754c\u4e0a\u52a0\u4e0a\u6781\u5927\u503c\u548c\u6781\u5c0f\u503c\uff0c\u56e0\u4e3a\u4e24\u4e2a\u9650\u5236\u5206\u522b\u662f\u5927\u4e8e\u548c\u5c0f\u4e8e\u7b49\u4e8e\uff0c\u6240\u4ee5\u6781\u5927\u503c\u8fd8\u9700\u7279\u6b8a\u5904\u7406\uff0c\u8ba9\u5176\u6743\u503c\u518d\u52a0\u4e0a $1$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define maxn 5010\n#define p 1000000007\nusing namespace std;\ntypedef long long ll;\ntemplate<typename T> inline void read(T &x)\n{\n    x=0;char c=getchar();bool flag=false;\n    while(!isdigit(c)){if(c=='-')flag=true;c=getchar();}\n    while(isdigit(c)){x=(x<<1)+(x<<3)+(c^48);c=getchar();}\n    if(flag)x=-x;\n}\nint n,m,q;\nint rnk[maxn];\nll pw[maxn],val[maxn];\nchar str[maxn];\nstruct node\n{\n    int s[maxn];\n    int id;\n}t[maxn];\nbool cmp(const node &a,const node &b)\n{\n    for(int i=n;i;--i)\n        if(a.s[i]!=b.s[i])\n            return a.s[i]<b.s[i];\n    return 0;\n}\nint main()\n{\n    read(n),read(m),read(q),pw[0]=1;\n    for(int i=1;i<=n;++i) pw[i]=pw[i-1]*2%p;\n    for(int i=1;i<=n;++i)\n    {\n        scanf(\"%s\",str+1);\n        for(int j=1;j<=m;++j) t[j].s[i]=str[j]-'0';\n    }\n    for(int i=1;i<=n;++i) t[m+1].s[i]=1;\n    for(int i=1;i<=m+1;++i) t[i].id=i;\n    sort(t+1,t+m+1,cmp),val[m+1]=1;\n    for(int i=1;i<=m+1;++i)\n    {\n        rnk[t[i].id]=i;\n        for(int j=1;j<=n;++j)\n            val[i]=(val[i]+pw[j-1]*t[i].s[j])%p;\n    }\n    while(q--)\n    {\n        int l=0,r=m+1;\n        scanf(\"%s\",str+1);\n        for(int i=1;i<=m;++i)\n        {\n            if(str[i]-'0') r=min(r,rnk[i]);\n            else l=max(l,rnk[i]);\n        }\n        printf(\"%lld\\n\",l>r?0:(val[r]-val[l]+p)%p);\n    }\n    return 0;\n}\n```",
        "postTime": 1598968158,
        "uid": 172489,
        "name": "lhm_",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4424 \u3010[HNOI/AHOI2018]\u5bfb\u5b9d\u6e38\u620f\u3011"
    },
    {
        "content": "\u6211\u4eec\u6309\u4f4d\u8003\u8651\uff0c\u5bb9\u6613\u53d1\u73b0\uff0c$\\text{and}\\ 1$ \u548c $\\text{or}\\ 0$ \u5bf9\u7b54\u6848\u65e0\u5f71\u54cd\n\n\u82e5\u6700\u540e\u4e00\u4e2a\u51fa\u73b0\u7684\u662f $\\text{and}\\ 0$\uff0c\u5219\u7b54\u6848\u4e3a $0$\uff1b\u82e5\u6700\u540e\u4e00\u4e2a\u51fa\u73b0\u7684\u662f $\\text{or}\\ 1$\uff0c\u5219\u7b54\u6848\u4e3a $1$\n\n\u6211\u4eec\u5c06\u64cd\u4f5c\u5e8f\u5217\u4e2d\u7684 $\\text{and}$ \u770b\u6210 $1$\uff0c\u5c06 $\\text{or}$ \u770b\u6210 $0$\n\n\u5982\u679c\u4ee4\u64cd\u4f5c\u5e8f\u5217\u7684\u6700\u540e\u4e00\u4f4d\u4e3a\u6700\u9ad8\u4f4d\uff0c\u8bbe $n$ \u4e2a\u5b57\u7b26\u4e32\u7684\u7b2c $j$ \u4f4d\u7ec4\u6210\u7684\u4e8c\u8fdb\u5236\u6570\u4e3a $x$\uff08\u7b2c $n$ \u4e2a\u5b57\u7b26\u4e32\u7684\u7b2c $j$ \u4f4d\u4e3a\u6700\u9ad8\u4f4d\uff09\n\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5982\u679c\u7b54\u6848\u4e3a $0$\uff0c\u5219 $x\\le op$\uff08\u5982\u679c\u76f8\u7b49\u7684\u8bdd\u5c31\u90fd\u662f\u5bf9\u7b54\u6848\u65e0\u5f71\u54cd\u7684\u60c5\u51b5\uff0c\u7b54\u6848\u4e3a\u6700\u5f00\u59cb\u7684 $0$\uff09\uff1b\u5982\u679c\u7b54\u6848\u4e3a $1$\uff0c\u5219 $x > op$\n\n\u90a3\u4e48\u6211\u4eec\u5c06 $m$ \u4e2a\u4e8c\u8fdb\u5236\u6570\u6392\u4e2a\u5e8f\uff0c\u6bcf\u6b21\u8be2\u95ee\u5408\u5e76\u4e00\u4e0b\u4e0d\u7b49\u5f0f\u7ec4\uff0c\u5c31\u5f97\u51fa\u4e86\u7b54\u6848\u8303\u56f4\u4e86\n\n\u4e0d\u8981\u7528 `scanf(\"%1d\",)`\uff0c\u6162\u6b7b\u4e86\n\n```cpp\n//timeuse:30min\nconst int N = 5010;\nint n,m,q;\nchar p[N];ll _2[N],s[N],res[N];\nint t[2],a[N],b[N];\nint main()\n{\n\tfreopen(\"random.in\",\"r\",stdin);\n\tfreopen(\"sol.out\",\"w\",stdout);\n\tn = read(),m = read(),q = read();\n\t_2[0] = 1;for(int i = 1;i <= n;i++) _2[i] = Mod(_2[i - 1] + _2[i - 1]);\n\tfor(int i = 1;i <= m;i++) a[i] = i;\n\tfor(int i = 1;i <= n;i++)\n\t{\n\t\tscanf(\"%s\",p + 1),t[0] = t[1] = 0;\n\t\tfor(int j = 1;j <= m;j++) \n\t\t\tp[j] -= '0',s[j] = Mod(s[j] + _2[i - 1] * p[j]),t[0] += !p[j],t[1]++;\n\t\tfor(int j = m;j;j--) b[t[p[a[j]]]--] = a[j];swap(a,b);\n\t}\n\tfor(int i = 1;i <= m;i++) res[i] = s[a[i]];\n\tres[m + 1] = _2[n];\n\twhile(q--)\n\t{\n\t\tscanf(\"%s\",p + 1);for(int i = 1;i <= m;i++) p[i] -= '0';\n\t\tint up = m + 1,down = 0;\n\t\tfor(int i = m;i;i--) if(!p[a[i]]) { down = i;break; }\n\t\tfor(int i = 1;i <= m;i++) if(p[a[i]]) { up = i;break; }\n\t\tfprint(up > down ? Mod(res[up] - res[down] + mod) : 0);\n\t}\n\treturn 0;\n}\n\n```",
        "postTime": 1592982840,
        "uid": 53994,
        "name": "81179332_",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P4424 \u3010[HNOI/AHOI2018]\u5bfb\u5b9d\u6e38\u620f\u3011"
    },
    {
        "content": "\u611f\u89c9MYY\u51fa\u7684\u9898\u5c31\u662f\u4e0d\u4e00\u6837\u3002\n\n\u4f4d\u6570\u5f88\u591a\uff0c\u6240\u4ee5\u5e94\u8be5\u8981\u60f3\u5230\u5bf9\u4e8e\u6bcf\u4e00\u4f4d\u5355\u72ec\u8003\u8651\u3002\n\n\u5bf9\u4e8e\u5355\u72ec\u6bcf\u4e00\u4f4d\uff0c\u8003\u8651\u6bcf\u4e00\u4e2a\u8fd0\u7b97\u7b26\u8fd9\u4e00\u4f4d\u4e0a\u7684\u5f71\u54cd\uff0c\u4e0d\u96be\u53d1\u73b0\u603b\u5171\u6709\u56db\u79cd\u60c5\u51b5\uff1a$\\land 1, \\land 0, \\lor 1, \\lor 0$\uff0c\u5176\u4e2d$\\land 1,\\lor 0$\u5bf9\u6700\u540e\u7684\u7ed3\u679c\u4e0d\u4f1a\u4ea7\u751f\u5f71\u54cd\uff0c\u4e8e\u662f\u6211\u4eec\u53d1\u73b0$\\land 0$\u4f1a\u4f7f\u76ee\u524d\u7684\u7ed3\u679c\u4e3a0\uff0c$\\lor 1$\u4f1a\u4f7f\u76ee\u524d\u7684\u7ed3\u679c\u4e3a1\uff0c\u5e76\u4e14\u6bcf\u4e00\u6b21\u7684\u8fd0\u7b97\u72ec\u7acb\uff0c\u548c\u4e4b\u524d\u7684\u7ed3\u679c\u5e76\u6ca1\u6709\u4efb\u4f55\u5173\u7cfb\u3002\n\n\u4e8e\u662f\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5f97\u5230\uff0c\u5982\u679c\u6700\u540e\u7684\u7ed3\u679c\u8981\u4e3a1\uff0c\u90a3\u4e48\u6700\u540e\u4e00\u4e2a\u6709\u6548\u7684\u8fd0\u7b97\u5e94\u8be5\u662f$\\lor 1$\uff0c\u5982\u679c\u662f0\uff0c\u5219\u6700\u540e\u4e00\u4e2a\u6709\u6548\u7684\u8fd0\u7b97\u5e94\u8be5\u662f$\\land 0$\u3002\n\n\u4e8e\u662f\u6211\u4eec\u628a\u64cd\u4f5c\u5e8f\u5217\u7684$\\land$\u770b\u4f5c1\uff0c$\\lor$\u770b\u4f5c0\uff0c\u5e76\u53cd\u8f6c\u3002\u7136\u540e\u5c06\u6bcf\u4e00\u4f4d\u7684\u5e8f\u5217\u7ed9\u4ece\u540e\u5f80\u524d\u63d0\u51fa\u6765\uff0c\u4e0d\u96be\u53d1\u73b0\u5f53\u8fd9\u4e00\u4f4d\u7684\u5e8f\u5217$>$opt\u7684\u65f6\u5019\uff0c\u8fd9\u4e00\u4f4d\u7684\u7ed3\u679c\u4e3a1\uff0c\u53cd\u4e4b\u5219\u4e3a0\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ea\u8981\u5bf9\u6bcf\u4e00\u4f4d\u7684\u64cd\u4f5c\u5e8f\u5217\u6392\u5e8f\u5c31\u597d\u4e86\u3002\n\n\u5982\u679c\u770b\u4e0d\u61c2\u7684\u8bdd\u770b\u4e00\u4e0b[\u4ee3\u7801](https://blog.csdn.net/ylsoi/article/details/84841770)\u53ef\u4ee5\u5e2e\u52a9\u7406\u89e3",
        "postTime": 1545022895,
        "uid": 20059,
        "name": "ylsoi",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P4424 \u3010[HNOI/AHOI2018]\u5bfb\u5b9d\u6e38\u620f\u3011"
    },
    {
        "content": "\u4e0d\u662f\u5f88\u50cf $\\text{CN}$ \u7701\u9009\u7684\u9898\uff0c\u4e2a\u4eba\u611f\u89c9\u66f4\u50cf\u662f $\\text{JOI}$ \u90a3\u7c7b\u98ce\u683c\u7684\u9898\uff08\uff1f\n\n\u5bf9\u4e8e\u8fd9\u79cd\u4f4d\u8fd0\u7b97\u9898\uff0c\u4e00\u4e0a\u6765\u80af\u5b9a\u5148\u60f3\u5230\u62c6\u4f4d\u5e76\u627e\u5bfb\u4f4d\u8fd0\u7b97\u7684\u89c4\u5f8b\u3002\n\n- \u5bf9\u4e8e $\\vee$ \u800c\u8a00\uff0c\u4efb\u4f55\u4e00\u4f4d\u7684\u4e8c\u8fdb\u5236\u6570 $\\vee 0$ \u90fd\u4e3a\u5176\u81ea\u8eab\uff0c$\\vee 1$ \u90fd\u4e3a $1$\u3002\n\n- \u5bf9\u4e8e $\\wedge$ \u800c\u8a00\uff0c\u4efb\u4f55\u4e00\u4f4d\u7684\u4e8c\u8fdb\u5236\u6570 $\\wedge 1$ \u90fd\u4e3a\u5176\u81ea\u8eab\uff0c$\\wedge 0$ \u90fd\u4e3a $0$\u3002\n\n**\u8fd9\u63d0\u9192\u6211\u4eec\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4f4d\u800c\u8a00\uff0c\u53ea\u6709 $\\wedge 0,\\vee 1$ \u80fd\u591f\u6539\u53d8\u8fd9\u4e00\u4f4d\u4e0a\u7684\u72b6\u6001\u3002**\n\n\u8003\u8651 $m=1$ \u7684\u60c5\u51b5\u3002\u82e5\u6700\u7ec8\u8fd0\u7b97\u7ed3\u679c\u4e3a $1$\uff0c\u6700\u540e\u4e00\u4e2a $\\vee 1$ \u5fc5\u7136\u5728 $\\wedge 0$ \u4e4b\u540e\uff08\u4e5f\u53ef\u4ee5\u4e0d\u5b58\u5728 $\\wedge 0$\uff0c\u4f46\u4e00\u5b9a\u6709 $\\vee 1$\uff09\uff1b\u82e5\u6700\u7ec8\u8fd0\u7b97\u7ed3\u679c\u4e3a $0$\uff0c\u6700\u540e\u4e00\u4e2a $\\vee 1$ \u5fc5\u7136\u5728 $\\wedge 0$ \u4e4b\u524d\uff08\u4e5f\u53ef\u4ee5\u4e0d\u5b58\u5728 $\\vee 1$ \u548c $\\wedge 0$\uff0c\u56e0\u4e3a\u521d\u59cb\u65f6\u4e3a $0$\uff09\u3002\n\n\u4f46\u8fd9\u6837\u8fd8\u662f\u5f88\u96be\u8003\u8651\uff0c\u5bf9\u6a21\u578b\u8fdb\u884c\u8f6c\u6362\u3002\u6211\u4eec\u53d1\u73b0\uff0c\u63d2\u5165\u7684\u6bcf\u4e2a\u7b26\u53f7\uff0c\u90fd\u5bf9\u5e94\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d\u4e0a\u7684\u6570\uff0c\u9664\u4e86\u521d\u59cb\u7684 $0$ \u6ca1\u6709\u7b26\u53f7\u4e0e\u4e4b\u5bf9\u5e94\u3002\u4e0d\u59a8\u5c06 $n$ \u4e2a\u7b26\u53f7\u4e5f\u538b\u7f29\u6210\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\uff0c\u5e76\u8bbe $\\vee\\to 0,\\wedge\\to 1$\u3002\u8fd9\u6837\u8bbe\u6709\u4e00\u4e2a\u5f88\u5de7\u5999\u7684\u70b9\uff1a\u5f53 $\\vee 0$ \u6216 $\\wedge 1$ \u65f6\uff0c\u6309\u4f4d\u6bd4\u8f83\u8fd9\u4e24\u4e2a\u4e8c\u8fdb\u5236\u6570\u662f\u4e00\u6837\u7684\uff0c\u800c $\\vee 1$ \u6216 $\\wedge 0$ \u8fd9\u4e9b\u5bf9\u7ed3\u679c\u6709\u5b9e\u8d28\u5f71\u54cd\u7684\u64cd\u4f5c\uff0c\u4f53\u73b0\u5728\u8fd9\u4e24\u4e2a\u4e8c\u8fdb\u5236\u6570\u4e0a\u5c31\u6709\u5927\u5c0f\u4e4b\u5206\u3002\n\n\u6839\u636e\u4e4b\u524d\u7684\u7ed3\u8bba\uff0c\u6700\u7ec8\u8fd0\u7b97\u7ed3\u679c\u4e3a $1$ \u65f6\uff0c\u6700\u540e\u4e00\u4e2a $\\vee 1$ \u5fc5\u5728 $\\wedge 0$ \u4e4b\u540e\uff08\u6216\u8005\u4e0d\u5b58\u5728 $\\wedge 0$\uff0c\u53ea\u5b58\u5728 $\\vee 1$\uff09\u3002\u6211\u4eec\u53d1\u73b0\u5c06\u7ed9\u51fa\u7684 $n$ \u4e2a $1$ \u4f4d\u4e8c\u8fdb\u5236\u6570\u6309 $n\\sim 1$ \u4ece\u9ad8\u5230\u4f4e\u4f4d\u538b\u7f29\u6210\u4e00\u4e2a $n$ \u4f4d\u4e8c\u8fdb\u5236\u6570 $x$\u3002\u8bb0 $w$ \u4e3a\u64cd\u4f5c\u5e8f\u5217\u538b\u7f29\u6210\u7684\u4e8c\u8fdb\u5236\u6570\uff0c\u82e5 $w<x$\uff0c\u90a3\u4e48\u8fd9\u4e00\u4f4d\u7ed3\u679c\u4e3a $1$\uff1b\u5426\u5219\uff0c\u82e5 $w\\geq x$\uff0c\u8fd9\u4e00\u4f4d\u7ed3\u679c\u4e3a $0$\u3002\n\n\u4e0a\u8ff0\u7ed3\u8bba\u7684\u8bc1\u660e\u5982\u4e0b\uff1a\n- \u5bf9\u4e8e $w\\neq x$ \u7684\u60c5\u51b5\uff0c\u6839\u636e\u4e8c\u8fdb\u5236\u6bd4\u8f83\u7684\u5b9a\u4e49\uff0c\u8bbe $w$ \u4e0e $x$ \u7684 $i\\sim n$ \u4f4d\u76f8\u7b49\uff0c\u800c\u5728\u7b2c $i-1$ \u4f4d\u4e0d\u76f8\u7b49\uff0c\u76f8\u7b49\u7684\u90e8\u5206\u5bf9\u7ed3\u679c\u6ca1\u6709\u5f71\u54cd\uff0c\u53ea\u8003\u8651\u4e0d\u76f8\u7b49\u3002\u4e0d\u76f8\u7b49\u53ea\u5b58\u5728\u4e24\u79cd\u60c5\u51b5\uff0c$w$ \u7684\u7b2c $i-1$ \u4f4d\u4e3a $0$\uff0c\u800c $x$ \u7684\u7b2c $i-1$ \u4f4d\u4e3a $1$\uff0c\u6216 $w$ \u7684\u7b2c $i-1$ \u4f4d\u4e3a $1$\uff0c\u800c $x$ \u7684\u7b2c $i-1$ \u4e3a $0$\u3002\u7b2c\u4e00\u79cd\u60c5\u51b5\u5bf9\u5e94\u4e86 $\\vee 1$ \u665a\u4e8e $\\wedge 0$ \u7684\u60c5\u51b5\uff0c\u800c\u7b2c\u4e8c\u79cd\u60c5\u51b5\u5bf9\u5e94\u4e86 $\\wedge 0$ \u665a\u4e8e $\\vee 1$ \u7684\u60c5\u51b5\u3002\n- \u5bf9\u4e8e\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c$w<x$\uff0c\u6700\u7ec8\u7ed3\u679c\u4e3a $1$\uff1b\u5bf9\u4e8e\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c$w > x$\uff0c\u6700\u7ec8\u7ed3\u679c\u4e3a $0$\u3002\n- \u5bf9\u4e8e $w=x$ \u7684\u60c5\u51b5\uff0c\u76f8\u7b49\u7684\u90e8\u5206\u5bf9\u7ed3\u679c\u6ca1\u6709\u5f71\u54cd\uff0c\u56e0\u6b64\u6700\u7ec8\u7ed3\u679c\u4e3a\u521d\u59cb\u7684 $0$\u3002\n\n\u5f97\u5230\u4e0a\u8ff0\u7ed3\u8bba\u540e\uff0c\u5bf9\u4e8e $m\\geq 2$ \u7684\u70b9\u4e5f\u975e\u5e38\u597d\u60f3\uff0c\u76f4\u63a5\u5c06\u6bcf\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\u62c6\u4f4d\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4f4d\u5f97\u5230\u4e00\u4e2a\u5173\u4e8e $w$ \u7684\u4e0d\u7b49\u5f0f\uff0c\u89e3\u8fd9\u4e2a\u4e0d\u7b49\u5f0f\u7ec4\u5373\u53ef\u3002\u6700\u7ec8\u5f97\u5230 $L \\leq w < R$\uff0c\u7b54\u6848\u5373\u4e3a $R-L$\uff0c\u6ce8\u610f\u5bf9\u4e8e\u7b54\u6848\u5904\u7406\u8fb9\u754c\u3002\n\n\u4ee3\u7801\u5199\u7684\u975e\u5e38\u5a31\u4e50\uff0c\u5bf9\u4e8e\u4e8c\u8fdb\u5236\u6570\u6392\u5e8f\u90e8\u5206\u7684\u5904\u7406\uff0c\u6ca1\u6709\u7528 $\\text{trie}$ \u4e5f\u6ca1\u6709\u7528\u57fa\u6392\uff0c\u66b4\u529b\u5199\u4e86\u4e2a $\\text{cmp}$ \u76f4\u63a5\u5957\u7528 $\\text{sort}$\uff0c\u8dd1\u7684\u6162\u6b7b\u4e86\uff0c\u770b\u770b\u5c31\u597d\uff08\n\n```cpp\n#include<cstdio>\n#include<algorithm>\ntypedef long long ll;\nconst ll mod=1e9+7;\nint n;\nstruct BN {\n\tint id,a[5005];\n}input[1005],c[5005];\nchar s[5005]; int rev[5005];\ninline int min(const int &x,const int &y) {return x<y? x:y;}\ninline int max(const int &x,const int &y) {return x>y? x:y;} \ninline bool cmp(const BN &x,const BN &y) {for(register int i=n;i>=1;--i) {if(x.a[i]<y.a[i]) return 1; if(x.a[i]>y.a[i]) return 0;} return 0;}\nsigned main() {\n\tint m,q; scanf(\"%d%d%d\",&n,&m,&q);\n\tfor(register int i=1;i<=n;++i) {\n\t\tscanf(\"%s\",s+1);\n\t\tfor(register int j=1;j<=m;++j) input[i].a[j]=s[m-j+1]-'0'; \n\t}\n\tfor(register int i=1;i<=m;++i) {\n\t\tfor(register int j=n;j>=1;--j) {\n\t\t\tc[i].a[j]=input[j].a[i];\n\t\t}\n\t\tc[i].id=i;\n\t}\n\tstd::sort(c+1,c+1+m,cmp);\n\tfor(register int i=1;i<=n;++i) c[m+1].a[i]=1;\n\tfor(register int i=1;i<=m;++i) rev[c[i].id]=i;\n\tfor(register int t=1;t<=q;++t) {\n\t\tscanf(\"%s\",s+1); int st=0,ed=m+1;\n\t\tfor(register int i=1;i<=m;++i) {\n\t\t\tif(s[i]=='1') {ed=min(ed,rev[m-i+1]);}\n\t\t\telse {st=max(st,rev[m-i+1]);}\n\t\t}\n\t\tif(!cmp(c[st],c[ed])) {printf(\"0\\n\");}\n\t\telse {\n\t\t\tll L=0,R=0;\n\t\t\tfor(register int i=n;i>=1;--i) L=((L<<1)|(c[st].a[i]))%mod;\n\t\t\tfor(register int i=n;i>=1;--i) R=((R<<1)|(c[ed].a[i]))%mod;\n\t\t\tprintf(\"%lld\\n\",((R+(ed==m+1)-L)%mod+mod)%mod);\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1602034665,
        "uid": 95244,
        "name": "tommymio",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4424 \u3010[HNOI/AHOI2018]\u5bfb\u5b9d\u6e38\u620f\u3011"
    },
    {
        "content": "\u9996\u5148\u6211\u4eec\u5bf9\u6bcf\u4e00\u4f4d\u5355\u72ec\u8003\u8651\uff0c\u518d\u5c06m\n\u4f4d\u7684\u4e00\u8d77\u8003\u8651\u3002\u6211\u4eec\u5c06\u64cd\u4f5c\u5e8f\u5217\u4e5f\u5b9a\u4e49\u4e3a\u4e00\u4e2a01\n\u4e32\u3002\u5982\u679c\u662fand\u64cd\u4f5c\uff0c\u5219\u4e3a1\uff0c\u5426\u5219\u4e3a0\u3002\u6211\u4eec\u53d1\u73b0\uff1a\nx and 0=0x or 1=1\u4e5f\u5c31\u662f\u8bf4 and 0\n\u548c or 1\u672c\u8d28\u4e0a\u662f\u8d4b\u503c\u64cd\u4f5c\u3002\u7136\u540ex and 1=xx or 0=x\u4e5f\u5c31\u662f\u8bf4 and 1\n\u548c or 0\n\u540e\u4e0a\u503c\u4e0d\u53d8\u3002\u7136\u540e\u8003\u8651\u7b2cj\n\u4f4d\uff0c\u5982\u679c\u5b83\u5e94\u8be5\u4e3a1\n\uff0c\u5219\u6700\u540e\u4e00\u4e2a\u8d4b\u503c\u64cd\u4f5c\u540e\u7b2cj\n\u4f4d\u53d8\u6210\u4e861\n\u3002\u7136\u540e\u6211\u4eec\u89c2\u5bdf\u64cd\u4f5c\u5e8f\u5217\u548c\u7b2cj\n\u5217\u768401\n\u4e32\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\u8d4b\u503c\u64cd\u4f5c\u7684\u65f6\u5019\u5bf9\u5e94\u4f4d\u7f6e\u4e0a\u7684\u6570\u4e0d\u540c\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u4ee5n\n\u4e3a\u6700\u9ad8\u4f4d\uff0c\u8bbe\u7b2cj\n\u5217\u7684\u6570\u5b57\u4e3asj\n,\u64cd\u4f5c\u5e8f\u5217\u7684\u6570\u5b57\u4e3aR\n\uff0c\u5219R>sj\n\u3002\u53cd\u4e4b\uff0c\u5219R\u2264sj\n\u3002\n\u6240\u4ee5\u6211\u4eec\u5c06m\n\u5217\u6570\u5b57\u6392\u5e8f\u8fc7\u540e\u627e\u5230\u4e0a\u4e0b\u754c\u5c31\u884c\u4e86\u3002\n\n\n\n\n\n\n\n\n\n\n\n\n\n```cpp\n#include <bits/stdc++.h>\n#define il inline\nconst int maxn = 1e3 + 10;\nconst int maxm = 5e3 + 10;\nconst int P = 1000000007;\ntypedef long long ll;\nusing namespace std;\ntemplate<class T> il void rd(T& res) {\n    res = 0;char c;bool sign = 0;\n    for(c = getchar();!isdigit(c);c = getchar()) sign |= c == '-';\n    for(;isdigit(c);c = getchar()) res = (res << 1) + (res << 3) + (c ^ 48);\n    (sign) && (res = -res);\n    return;\n}\ntemplate<class T> il void rd(T& a,T& b,T& c) {\n    rd(a);rd(b);rd(c);\n    return;\n}\ntemplate<class T> il void Chkmin(T& x,T y) {\n    if(x > y) x = y;\n}\ntemplate<class T> il void Chkmax(T& x,T y) {\n    if(x < y) x = y;\n}\nint n,m,i,j,k,ans,q;  \nint rnk[maxn];         \nll _2[maxn],sum[maxn];\nbool b[maxn];\nstruct Node {\n    bool val[maxn];int id;\n}a[maxm];\nil bool cmp(Node a,Node b) {\n    for(int i = 1;i <= n;i++) {\n        if(a.val[i] < b.val[i]) return 1;\n        if(a.val[i] > b.val[i]) return 0;\n    }\n    return 0;\n}\nil void add(ll& x,ll y) {\n    x = (x + y) % P;\n    return;\n}\nint main() {\n    rd(n,m,q);\n    _2[0] = 1;\n    for(int i = 1;i <= n;i++) _2[i] = (_2[i - 1] << 1) % P;\n    for(int i = 1;i <= n;i++) {\n        char c;do {c = getchar();}while(!isdigit(c));  \n        int cnt = 0;\n        while(isdigit(c)) a[++cnt].val[n - i + 1] = c - 48,c = getchar();    \n    }\n    for(int i = 1;i <= m;i++) a[i].id = i;sort(a + 1,a + m + 1,cmp);   \n    for(int i = 1;i <= m;i++) rnk[a[i].id] = i;\n    for(int i = 1;i <= n;i++) a[m + 1].val[i] = 1;\n    for(int i = 1;i <= m + 1;i++) {\n        for(int j = 1;j <= n;j++) {\n            if(a[i].val[j]) add(sum[i],_2[n - j]);\n        }\n    }\n    sum[m + 1]++;\n    while(q--) {\n        int cnt = 0,l = 0,r = m + 1;char c;\n        do {c = getchar();}while(!isdigit(c));\n        while(isdigit(c)) b[++cnt] = c - 48,c = getchar();\n        for(int i = 1;i <= m;i++) {\n            if(b[i]) Chkmin(r,rnk[i]);\n            else Chkmax(l,rnk[i]);\n        }\n        if(l > r) puts(\"0\");\n        else printf(\"%lld\\n\",(sum[r] - sum[l] + P) % P);\n    }\n    return 0;\n}\n```\n",
        "postTime": 1592549778,
        "uid": 270889,
        "name": "\u26a1\ufe0f\u884c\u4e91\u6d41\u6c34",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4424 \u3010[HNOI/AHOI2018]\u5bfb\u5b9d\u6e38\u620f\u3011"
    }
]