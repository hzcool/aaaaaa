[
    {
        "content": "\u628a\u6b63\u9762\u5f53\u4f5c0\uff0c\u53cd\u9762\u5f53\u4f5c1\n\n\u6ce8\u610f\u5230\u6bcf\u4e00\u6b21\u53d8\u6362\u4e4b\u540e\u6240\u5f97\u5230\u7684\u7ed3\u679c\u53d6\u51b3\u4e8e\u53d8\u6362\u4e4b\u524d\u8be5\u4f4d\u7f6e\u5de6\u53f3\u4e24\u4e2a\u786c\u5e01\u7684\u5f02\u6216\u503c\n\n\u4e0b\u9762\u8ba9\u6211\u4eec\u627e\u4e00\u4e0b\u89c4\u5f8b\uff0c\u8bbe\u7b2c2i-1\u4e2a\u4f4d\u7f6e\u521a\u8f93\u5165\u65f6\u5019\u65f6\u7684\u72b6\u6001\u662fAi\uff0c\u7a7a\u4f4d\u7f6e\u5c31\u75280\u4ee3\u66ff\n\u6709\u4e00\u70b9\u70b9\u7701\u7565\uff0c\u76f8\u4fe1\u5927\u5bb6\u8fd8\u662f\u770b\u5f97\u61c2\u7684\n\n\n![](https://cdn.luogu.com.cn/upload/pic/17648.png)\n\n\u8fd9\u6837\u4e0b\u6765\uff0c\u6211\u4eec\u5927\u6982\u80fd\u591f\u53d1\u73b0\uff0c\u7ecf\u8fc72^k\u6b21\u53d8\u6362\u4e4b\u540e\uff0cA[i]\u4f1a\u53d8\u6210A[i+2^(k-1)]^[i-2^(k-1)]\u3010\u6682\u65f6\u4e0d\u8003\u8651k=1\u7684\u60c5\u51b5\u3011\n\n\n\u4e8e\u662f\u5bf9T\u6309\u4f4d\u5904\u7406\uff0c\u5982\u679cT\u4ece\u5c0f\u5230\u5927\u7b2ck\u4f4d\u4e3a1\uff0c\u90a3\u4e48\u5c31\u628a\u539f\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2aA[i]\u8fdb\u884c\u4e00\u6b21\u66ff\u6362\n\n\u6700\u540e\u5982\u679cT\u4e3a\u5947\u6570\uff0c\u5c31\u518d\u8fdb\u884c\u4e00\u6b21\u53d8\u6362\n\n\u4ee3\u7801\u5982\u4e0b\uff0c\u6ce8\u610f\u8bb0\u5f97\u8981\u63d0\u524d\u5904\u7406\u51fa\u6bcf\u4e00\u4e2a2^k\n\u8fd8\u6709\u5c31\u662f\u4e3a\u4e86\u53d6\u6a21\u65f6\u5019\u65b9\u4fbf\uff0c\u6211\u7684\u6570\u7ec4\u662f\u4ece0\u5f00\u59cb\u4f7f\u7528\u7684\n```\n#include <stdio.h>\n#include <algorithm>\nusing namespace std;\ntypedef long long llw;\nint c[4][200010];\nllw n2[66];\nllw T;\nint n;\n\nint main()\n{\n\tint k=0;\n\tn2[0]=1;\n\tfor(int i=1;i<=60;i++) n2[i]=n2[i-1]<<1;//\u9884\u5904\u74062^i\n\tscanf(\"%d %lld\",&n,&T);\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tscanf(\"%d\",&c[0][i<<1]);\n\t\tc[0][i<<1]--;//\u6ce8\u610f\u539f\u6765\u8f93\u5165\u65f6\u5019\u8f93\u5165\u7684\u662f1\u548c2\uff0c\u800c\u4e0d\u662f\u7528\u4e8e\u5f02\u6216\u8fd0\u7b97\u76840\u548c1\n\t}\n\tfor(llw i=1;n2[i]<=T;i++)\n\t{\n\t\tif(n2[i]&T)//\u5224\u65ad\u7b2ci\u4f4d\u662f\u5426\u4e3a1\n\t\t{\n\t\t\tk^=1;\n\t\t\tfor(int j=0;j<n;j++)\n\t\t\t{\n\t\t\t\tc[k][j<<1]=c[k^1][(((j-n2[i-1])%n+n)%n)<<1]^c[k^1][((j+n2[i-1])%n)<<1];//\u6ce8\u610f\u8981*2\n\t\t\t}\n\t\t}\n\t}\n\tif(T&1)//\u5224\u65ad\u662f\u5426\u4e3a\u5947\u6570\n\t{\n\t\tk^=1;\n\t\tfor(int i=0;i<n;i++) c[k][(i<<1)+1]=c[k^1][i<<1]^c[k^1][((i<<1)+2)%(n<<1)];\n\t\tfor(int i=1;i<(n<<1);i+=2) printf(\"0 %d \",c[k][i]+1);\n\t}\n\telse\n\t{\n\t\tfor(int i=0;i<(n<<1);i+=2) printf(\"%d 0 \",c[k][i]+1);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1524044846,
        "uid": 28341,
        "name": "unknowncloud",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4405 \u3010[ZJOI2009]\u786c\u5e01\u6e38\u620f\u3011"
    },
    {
        "content": "\u7b2c\u4e00\u773c\u770b\u8fc7\u53bb\uff1a$DP$\u53ef\u89e3\uff08\u522b\u95ee\u6211\u600e\u4e48\u770b\u51fa\u6765\u7684\u2026\u6211\u4e5f\u4e0d\u77e5\u9053\u5f53\u65f6\u4ec0\u4e48\u8111\u5b50\uff09,\n\n\u4e8e\u662f\u5217\u51fa\u65b9\u7a0b\n\n$A_[i]$->A[$i$+$2^{(k-1)}$]^[$i$-$2^{k-1}$]\n\n\u7136\u540e\u5c31\u7206\u96f6\u4e86\u2026\u53d1\u73b0\u60df\u4e00\u4e00\u7bc7\u9898\u89e3\u548c\u6211\u7684\u65b9\u7a0b\u4e00\u6837\uff0c\u4e8e\u662f\u5c31\u5495\u5495\u5495\u4e86\u2026\n\u518d\u6765\u770b\u8fd9\u9053\u9898\u65f6\uff0c\u76ef\u7740\u6837\u4f8b\u770b\uff0c\u4e94\u5206\u949f\u5565\u90fd\u6ca1\u770b\u51fa\u6765\uff0c\u4e8e\u662f\u796d\u51fa\u5c0f\u5b66\u56db\u5e74\u7ea7\u5b66\u7684\n\n### \u77aa\uff08\u6570\uff09\u773c\uff08\u5b66\uff09\u5927\uff08\u5f52\uff09\u6cd5\uff08\u7eb3\uff09\n\n\u53d1\u73b0\u8fdb\u884c$2^k$\u6b21\u53d8\u6362\u4e4b\u540e\uff0c\u7b2c$i$\u4e2a\u4f4d\u7f6e\u7684\u786c\u5e01\u60c5\u51b5\u53ea\u4e0e\u5b83\u5de6\uff08\u53f3\uff09\u7684\u7b2c$k+1$\u4e2a\u786c\u5e01\u6709\u5173\u3002\n\n\u5982\u679c$k=0$,\u90a3\u4e48\u7b2c$3$\u4e2a\u786c\u5e01\u60c5\u51b5\u53ea\u4e0e\u7b2c$2$\u4e2a\u548c\u7b2c$4$\u4e2a\u786c\u5e01\u6709\u5173\u3002\u56e0\u4e3a$t$\u53ef\u4ee5\u62c6\u6210\u82e5\u5e72\u4e2a$2^k$\u7684\u548c\uff0c\u4e8e\u662f\u5bf9\u6bcf\u4e2a$2^k$\u8fdb\u884c$O(n)$\u7684\u53d8\u6362\uff0c\u603b\u590d\u6742\u5ea6$O(nlogt)$\u3002~~\u7136\u9e45\u65b9\u7a0b\u5e76\u6ca1\u6709\u53d8~~\n\n\u4e0b\u9762\u9644\u4ee3\u7801\n```c\n#include <bits/stdc++.h>\n#define in  freopen(\"coin.in\",\"r\",stdin);\n#define out freopen(\"coin.out\",\"w\",stdout);\ntypedef long long ll;\nusing namespace std;\ninline ll read()\n{\n    ll x=0,f=1;\n    char ch=getchar();\n    while(ch<'0'||ch>'9')\n    {\n        if(ch=='-')\n            f=-1;\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9')\n    {\n        x=x*10+ch-'0';\n        ch=getchar();\n    }\n    return x*f;\n}\nconst int N=200020;//\u8fd9\u4e2a\u53ef\u4ee5\u8c03\uff0c\u4f46\u662f\u4e0d\u8981\u5f00\u592a\u5c0f\nll n,t,a[N],b[N];\nll f(ll b,ll k)\n{\n    ll x=b-k;\n    ll y=b+k;\n    x=(x%(n<<1)+(n<<1)-1)%(n<<1)+1;\n    y=(y-1)%(n<<1)+1;\n    if(k==0)\n        return a[x];\n    if(a[x]==0)\n        return 0;\n    if(a[x]==a[y])\n        return 1;\n    else return 2;\n}\nvoid work(ll k,ll q)\n{\n    if(k==0)\n        return;\n    work(k>>1,q<<1);\n    if(k%2==1)\n    {\n        memset(b,false,sizeof(b));\n        for(ll j=1;j<=(n<<1);j++)\n            b[j]=f(j,q);\n        swap(a,b);\n    }\n}\nint main()\n{\n    n=read();\n    t=read();\n    for(ll i=1;i<=n;i++)\n        a[(i<<1)-1]=read();\n    work(t,1);\n    for(ll i=1;i<(n<<1);i++)\n        cout<<a[i]<<\" \";\n    cout<<a[n<<1]<<endl;\n    return 0;\n}\n```",
        "postTime": 1588925945,
        "uid": 327534,
        "name": "Siyunshan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4405 \u3010[ZJOI2009]\u786c\u5e01\u6e38\u620f\u3011"
    }
]