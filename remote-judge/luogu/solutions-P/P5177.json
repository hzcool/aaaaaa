[
    {
        "content": "\u5bf9\u5927\u4f6c\u7684\u4ee3\u7801\u8868\u793a\u65e0\u9650\u61f5\u903c\u2026\u2026\n\n\u8fd9\u9053\u9898\u76ee\u601d\u7ef4\u6709\u70b9\u6bd2\u7624\uff0c\u56e0\u4e3alogn\u90fd\u4f1a\u8d85\u65f6\uff0c\u4ece\u5934\u8bb2\u5427\u3002\n\n\u5bf9\u4e24\u4e2a\u6570i\uff0cj\u4e0d\u59a8\u8bbei>j\uff0c\u4ee4h=i^j\uff0c\u5219j\u6700\u9ad8\u4f4d\u4e0d\u80fd\u4e3ai\u7684\u6700\u9ad8\u4f4d\uff0c\u5426\u5219h<j,\u5f53\u6ee1\u8db3\u8fd9\u4e00\u6761\u4ef6\u65f6,h\u4e00\u5b9a\u5927\u4e8ej,\u5176\u6b21\uff0c\u8981\u8ba9h<i,\u90a3\u4e48\uff08\u7ecf\u8fc7\u591a\u6b21\u5c1d\u8bd5\uff09\u53ea\u8981\u5bf9i\u7b2c\u4e8c1\u5904\uff0cj\u5728\u6b64\u53d6\u6700\u9ad8\u4f4d\uff0c\u540e\u9762\u968f\u4fbf\u53d6\uff0c\u6211\u4eec\u795e\u5947\u5730\u53d1\u73b0\uff0c\u5b83\u4ee3\u8868\u7684\u6b63\u597d\u662f\u8be5\u4f4d\u4ee3\u8868\u7684\u6570\u5b57\uff0c\u540c\u7406\u5bf9\u7b2c3\uff0c\u7b2c4\u2026\u2026\n\n\u4e8e\u662f\uff0c\u4e00\u4e2a\u6570\u4ee3\u8868\u7684\u5c31\u662f\u5b83\u51cf\u53bb\u6700\u9ad8\u4f4d\uff01\n\n\u7136\u540e\uff0c\u5c31\u597d\u529e\u4e86\u2026\u2026\n```\n#include<bits/stdc++.h>\nusing namespace std;\nlong long q[101],n,b[101],sum,bit;\nint t,l;\nconst long long mod=1000000007,inv=500000004;\nlong long num(long long x)\n{\n    long long h=(((((x+1)%mod)*x)%mod)*inv)%mod;\n    return h;\n}//\u7b49\u5dee\u6570\u5217\u6c42\u548c\nint main()\n{\n    b[1]=1;\n     for(int i=2;i<64;i++)\n     { \n        b[i]=b[i-1]<<1;\n        q[i]=num(((1ll<<(i-1))-1)%mod);\n        q[i]=(q[i]+q[i-1])%mod;//\u6c422^i\u7684\u60c5\u51b5\u6570\n    }\n    scanf(\"%d\",&t);\n    while(t--)\n    {\n        scanf(\"%lld\",&n);\n        for(bit=63;bit>=1;bit--)\n        { \n            if(n>b[bit])break;\n        }//\u5012\u7740\u6c42\uff0c\u4e0d\u7136\u4f1aT\n        n-=(1ll<<(bit-1)); \n        sum=q[bit-1];\n        sum=(sum+num(n%mod))%mod;\n        sum=(sum*2)%mod;\n        printf(\"%lld\\n\",sum);\n    }\n}\n```",
        "postTime": 1546865944,
        "uid": 115130,
        "name": "Eric1031",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5177 \u3010\u7b7e\u5230\u3011"
    },
    {
        "content": "### T5:\u7b7e\u5230\u9898\n#### \u601d\u8003\u96be\u5ea6\uff1a\u63d0\u9ad8-?\n#### \u4ee3\u7801\u96be\u5ea6\uff1a\u666e\u53ca?\n\u7b97\u6cd51\uff1a\u66b4\u529b\n\n\u5b9e\u9645\u5f97\u5206\uff1a27\n\n\u7b97\u6cd52\uff1a\u6709\u6280\u5de7\u7684\u66b4\u529b\u679a\u4e3e\n\n\u8003\u8651\u679a\u4e3e\u6bcf\u4e00\u4e2a$n$\uff0c\u7136\u540e\u5bf9$\\le n$\u7684\u8ba1\u6570\u3002\n\n\u53d1\u73b0$n$\u7684\u4e8c\u8fdb\u5236\u7b2c\u4e00\u4e2a$1$\u4e0d\u53ef\u653e\uff0c\u7136\u540e\u7b2c\u4e8c\u4e2a$1$\u5982\u679c\u653e1\uff0c\u540e\u9762\u968f\u4fbf\u653e\uff0c\u5982\u679c\u4e0d\u653e\uff0c\u90a3\u7b2c\u4e09\u4e2a$1$\u53ef\u653e\uff0c\u540e\u9762\u968f\u4fbf\u653e\uff0c......\n\n\u6240\u4ee5\u5bf9\u4e8e\u4e00\u4e2a$n$\uff0c\u53ef\u4ee5\u653e\u7684\u5c31\u662f\u5220\u53bb\u7b2c\u4e00\u4e2a$1$\u540e\u7684\u503c\u3002\n\n\u6240\u4ee5\u66b4\u679a$n$\u5373\u53ef\u3002\n\n\u5b9e\u9645\u5f97\u520654\n\n\u7b97\u6cd53\uff1a\n\n\u8003\u8651\u9884\u5904\u7406\u51fa$2^k$\u7684\u7b54\u6848\u3002\n\n\u5bf9\u4e8e$n=2^k+p\\ (p<2^k)$\uff0c\u540e$p$\u4e2a\u7b49\u5dee\u6570\u5217\u6c42\u548c\uff0c\u52a0\u4e0a\u9884\u5904\u7406\u7684$2^k$\u7b54\u6848\u5373\u53ef\u3002\n\n\u590d\u6742\u5ea6$\\ Tlog_2n$\n\n\u5b9e\u9645\u5f97\u520690\n\n\u7b97\u6cd54\uff1a\n\n\u74f6\u9888\u5728\u5982\u4f55\u627e\u5230$k$\uff0c\u4e8c\u5206\u6216\u8005\u8c03\u7528__builtin_clzll\u5373\u53ef\u3002\n\n\u590d\u6742\u5ea6$\\ T loglogn$\n\n\u5b9e\u9645\u5f97\u5206100\n\n```\n#include<cstdio>\ntypedef long long LL;\nconst int mod=1e9+7;\nLL t,n,x,z,i;\nLL _2[66],_3[66];\ntemplate<typename T>inline void rad(T&_){\n    static char ch;\n    while(ch=getchar(),ch<'0'||ch>'9');_=ch-48;\n    while(ch=getchar(),ch>='0'&&ch<='9')_=_*10+ch-48;\n}\ntemplate<typename T>inline void print(const T x){\n    if(x>=10)print(x/10);\n    putchar(x%10+'0');\n}\nint main(){\n//\tfreopen(\"testdata11.in\",\"r\",stdin);\n//\tfreopen(\"testdata11.out\",\"w\",stdout);\n    for(_2[0]=1,i=1;i<=65;++i)_2[i]=(_2[i-1]<<1)%mod;\n    for(_3[1]=1,i=2;i<=65;++i)_3[i]=(_3[i-1]<<2|1)%mod;\n    for(i=1;i<=65;++i)_3[i]=_2[i-1]*(_2[i]-1)-_3[i];\n    for(i=1;i<=65;++i)_3[i]=(_3[i]<<1)%mod;\n    for(rad(t);t;--t){\n        rad(n);\n        \n        if(n>>47){\n            float q=(float)(n>>46);\n    \t\tx=47+((*(int*)&q)>>23&31);\n        }else if(n>>24){\n            float q=(float)(n>>23);\n            x=24+((*(int*)&q)>>23&31);\n        }else if(n>>1){\n            float q=(float)n;\n            x=1+((*(int*)&q)>>23&31);\n        }else x=0;\n        \n        z=(n-_2[x])%mod;\n        print((_3[x]+z*(z+1))%mod);\n        putchar('\\n');\n    }\n}\n```",
        "postTime": 1546503424,
        "uid": 50092,
        "name": "da32s1da",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P5177 \u3010\u7b7e\u5230\u3011"
    },
    {
        "content": "## [\u9898\u76ee](https://www.luogu.com.cn/problem/P5177)\n\n- **\u8fd9\u9898\u663e\u7136\u53ef\u4ee5$O(n^2)$\u66b4\u529b\u679a\u4e3e\uff0c\u671f\u671b\u5f97\u5206$27$**\n\n### \u8003\u8651\u4f18\u5316\uff0c\u5148\u89c2\u5bdf\u67ff\u5b50\n\n- \u53d1\u73b0\u5f53$i=j$\u65f6$i\\ xor\\ j$\u4e3a\u96f6\u4e00\u5b9a\u4e0d\u6ee1\u8db3\u6761\u4ef6\u3002\n- \u6240\u4ee5\u53ef\u4ee5\u5047\u8bbe$i<j$\uff0c\u6700\u540e\u7b54\u6848\u4e58\u4e8c\u5c31\u53ef\u4ee5\u4e86\u3002\n- \u5bf9\u4e8e\u6bcf\u4e00\u4e2a$j$\uff0c\u5408\u6cd5\u7684\u4e2a\u6570\u662f$j-j\\ and\\ (-j)$\u3002\n- \u8003\u8651\u5982\u4f55\u8bc1\u660e\uff0c\u5148\u8bbe$low$\u4e3a\u4e8c\u8fdb\u5236\u4e0b\u7684\u6700\u9ad8\u4f4d,\u5bf9\u4e8e\u6bcf\u4e00\u4e2a$0\\leq i<low$\uff0c\u663e\u7136$i\\ xor\\ j \\geq low>i$\uff0c\u90a3\u6700\u5c0f\u8fb9\u754c\u5df2\u7ecf\u8003\u8651\u597d\u4e86\u3002\n- \u8fdb\u4e00\u6b65\u7684\uff0c\u5bf9\u4e8e$\\ j\\ $\u4e2d$\\ low\\ $\u540e\u9762\u7684\u7b2c$k$\u4f4d$1$,\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u9009$1$\u6216\u4e0d\u9009$1$\u3002\u82e5\u9009\u62e9\uff0c\u90a3\u4e48\u4e4b\u540e\u7684\u6bcf\u4e00\u4f4d\u90fd\u53ef\u4ee5\u4efb\u610f\u9009\uff0c\u6709$2^k$\u79cd\u7b54\u6848\u3002\u82e5\u4e0d\u9009\uff0c\u5219\u8003\u8651$j$\u4e4b\u540e\u7684\u90a3\u4e00\u4f4d$1$\uff0c\u6240\u4ee5\u5bf9\u4e8e$j$\u7684\u6bcf\u4e00\u4f4d$low$\u540e\u9762\u7684$1\\ $\uff0c\u90fd\u6709$2^k$\u4e2a$i$,\u4e8e\u662f$i$\u7684\u603b\u6570\u4e3a$j-j\\ and\\ (-j)$\n- **\u77e5\u9053\u8fd9\u4e00\u6b65\u5c31\u53ef\u4ee5$O(Tn)$\u8fc7\u6389$54$\u5206\u4e86**\n\n### \u77e5\u9053\u4e86\u4e0a\u9762\u7684\u7ed3\u8bba\u540e\u5c31\u597d\u505a\u8bb8\u591a\u4e86\n\n- \u5bf9\u4e8e$n$\uff0c\u8fd8\u662f\u5148\u4f7f$low=n\\ and\\ (-n)$,\u5bf9\u4e8e$low\\leq j \\leq n$\uff0c\u8fd9\u4e00\u90e8\u5206\u306e\u8d21\u732e\u662f$\\sum_{i=1}^n\\ i$\uff0c\u53ef\u7528\u9ad8\u65af\u6c42\u548c$O(1)$\u8ba1\u7b97\u3002\n- \u5bf9\u4e8e\u540e\u9762\u7684\u6bcf\u4e00\u4f4d\uff0c\u53ef\u4ee5\u9884\u5904\u7406$2^n$\u7684\u524d\u7f00\u548c\uff0c\u8be6\u7ec6\u770b\u4ee3\u7801\n- \u56e0\u4e3a$low$\u7684\u4f4d\u6570\u4e0d\u592a\u597d\u76f4\u63a5\u6c42\uff0c\u5783\u573e\u7684\u6211\u5c31\u5199\u4e86\u4e2a\u4e8c\u5206QAQ\n- **\u65f6\u95f4\u590d\u6742\u5ea6$O(6T)$**\n\n\n------------\n```cpp\n#include<bits/stdc++.h>\n#define N 64\n#define R register\n#define LL long long\n#define inf 0x7f7f\nusing namespace std;\ninline LL read(){\n\tLL x=0,sum=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')sum=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=(x<<3)+(x<<1)+ch-48;ch=getchar();}\n\treturn x*sum;\n}//\u9898\u76ee\u8bfb\u5165\u6709\u70b9\u5927\u4eba\u50bb\u5e38\u6570\u5927\u7684\u7a9d\u9009\u62e9\u4e86\u5feb\u8bfb\u3002\nconst LL mo=1e9+7;\ninline LL maxx(LL A,LL B){return A>B?A:B;}\ninline LL minn(LL A,LL B){return A<B?A:B;}\ninline LL abss(LL A){return A<0?-A:A;}\nLL T,n,ans,low,tow[N],sum[N];\ninline LL find(LL x){\n\tLL l=0,r=63,ans,mid;\n\twhile (l<=r){\n\t\tmid=(l+r)>>1;\n\t\tif (tow[mid]<=x) ans=mid,l=mid+1;\n\t\t\telse r=mid-1;\n\t}\n\treturn ans;\n}//\u5bfb\u627elow\u662f\u7b2c\u51e0\u4f4d\u3002\nint main(){\n\tT=read();\n\ttow[0]=1; sum[1]=0;//\u521d\u59cb\u5316\n\tfor (R int i=1;i<=63;++i){\n\t\ttow[i]=tow[i-1]*2;\t\n\t\tLL j=(tow[i]-1)%mo;\n\t\tsum[i+1]=(sum[i]+j*(j+1)/2)%mo;\n\t}//sum\u662f\u65b9\u6848\u6570\u7684\u524d\u7f00\u548c\u3002\n\twhile (T--){\n\t\tn=read();\n\t\tlow=find(n); n=(n-tow[low])%mo;\n\t\tans=(2*sum[low]+n*(n+1)%mo)%mo;//\u5982\u4e0a\u6240\u8bf4\u7684\u90a3\u6837\u3002\n\t\tprintf(\"%lld\",ans);putchar('\\n');\n\t}\n\treturn 0;\n}\n```\n\n\n### PS:\u73b0\u76ee\u524d\u56e0\u7279\u6b8a\u539f\u56e0\u53ea\u6709$90$\u5206\uff0c\u4e00\u4e2a\u70b9$OLE$,\u671b\u7ba1\u7406\u5927\u5927$Fix$\u4e00\u4e0b\n\n\n### \u611f\u8c22tommy0103\u6307\u51fa\u6765\u7684\u9519\u8bef",
        "postTime": 1605171136,
        "uid": 64175,
        "name": "qian_shang",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P5177 \u3010\u7b7e\u5230\u3011"
    },
    {
        "content": "\u8fd9\u4e2a $\\min(i,j),\\max(i,j)$ \u770b\u4e0a\u53bb\u5f88\u96be\u53d7\uff0c\u4e0d\u59a8\u89c4\u5b9a $i<j$\uff0c\u7531\u4e8e $i=j$ \u65f6 $i\\oplus j=0\\notin[i,j]$\uff0c\u6240\u4ee5\u53ea\u9700\u7ed9\u89c4\u5b9a $i<j$ \u7684\u7b54\u6848\u4e58\u4e0a $2$ \u5373\u53ef\u3002\n\n\u73b0\u5728\u8003\u8651\u5bf9\u4e8e\u4e00\u4e2a\u56fa\u5b9a\u7684 $j$ \uff0c\u6709\u591a\u5c11\u4e2a\u6ee1\u8db3\u6761\u4ef6\u7684 $i$\u3002\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5f53 $j$ \u7684\u6700\u9ad8\u4f4d\u548c $i$ \u76f8\u540c\uff0c$i\\oplus j<i,i\\oplus j<j$\uff0c\u4e00\u5b9a\u4e0d\u5728 $[i,j]$ \u5185\u3002\u6240\u4ee5\u5f97\u5230\u7ed3\u8bba\uff1a\u82e5\u8bbe $i$ \u7684\u6700\u9ad8\u4f4d\u4e3a $x$\uff0c\u5219\u53ef\u80fd\u6ee1\u8db3\u6761\u4ef6\u7684 $j$ \u4e00\u5b9a\u6ee1\u8db3 $j<2^x$\u3002\u5e76\u4e14\u8fdb\u4e00\u6b65\u7684\uff0c\u82e5 $i$ \u9664\u53bb\u6700\u9ad8\u4f4d\u7684 $1$ \u4ee5\u5916\uff0c\u7b2c $b_1,b_2,b_3...b_m$ \u4f4d\u4e0a\u4e3a $1$\uff0c\u5176\u4e2d $b_1<b_2<b_3...<b_m$\uff0c\u90a3\u4e48 $j$ \u7684\u6700\u9ad8\u4f4d\u53d6\u4e86 $b_i$ \u4ee5\u540e\uff0c\u7b2c $b_i-1\\sim 0$ \u4f4d\u53ef\u4ee5\u4efb\u610f\u53d6\uff0c\u6709 $2^{b_i}$ \u79cd\u53d6\u6cd5\u3002\u5219 $j$ \u6709 $\\sum_{i=1}^m 2^b_i$ \u79cd\u53d6\u503c\u3002\u8bb0 $\\mathrm{highbit(n)}$ \u4e3a\u5341\u8fdb\u5236\u6570 $n$ \u5728\u4e8c\u8fdb\u5236\u610f\u4e49\u4e0b\u6700\u9ad8\u4f4d\u7684\u503c\u53ca\u5176\u4e4b\u540e\u7684\u4e8c\u8fdb\u5236\u4f4d\uff0c\u5982 $\\mathrm{highbit(6)=4}$\uff0c\u90a3\u4e48\u5bf9\u4e8e\u4e00\u4e2a $i$\uff0c\u5176\u5408\u6cd5\u53d6\u503c $j$ \u6709 $i-\\mathrm{highbit(i)}$ \u79cd\u3002\n\n\u7b54\u6848\u5c31\u4e3a $\\sum\\limits_{i=1}^n i-\\mathrm{highbit(i)}$\u3002\u8003\u8651\u600e\u4e48\u5feb\u901f\u8ba1\u7b97\u8fd9\u4e2a\u503c\uff0c\u53d1\u73b0 $\\mathrm{highbit(x)}$ \u5728 $x\\in[2^i,2^{i+1}-1]$ \u65f6\uff0c\u503c\u90fd\u662f $2^i$\uff0c\u6240\u4ee5\u5c06 $\\sum_{i=1}^n \\mathrm{highbit(x)}$ \u5206\u6bb5\u8ba1\u7b97\uff0c\u5f97\u5230\uff1a\n\n$$\n\\sum_{i=0}^{\\lfloor\\log_2 n\\rfloor-1}2^i\\times2^i+2^{\\lfloor\\log_2 n\\rfloor}\\times(n-2^{\\lfloor\\log_2 n\\rfloor}+1)\n$$\n\n\u5176\u4e2d\u548c\u5f0f\u4e2d\u7b2c\u4e00\u4e2a $2^i$ \u4e3a $x\\in [2^i,2^{i+1}-1] $ \u7684 $\\mathrm{highbit(x)}$\uff0c\u7b2c\u4e8c\u4e2a $2^i$ \u4e3a $[2^i,2^{i+1}-1]$ \u8fd9\u4e00\u6bb5\u7684\u957f\u5ea6\u3002\u548c\u5f0f\u5916\u7684\u67ff\u5b50\u662f\u8fb9\u754c\u503c\uff0c\u56e0\u4e3a\u957f\u5ea6\u4e0d\u518d\u4e3a $2^{\\lfloor\\log_2 n\\rfloor}$\uff0c\u5fc5\u987b\u62ce\u51fa\u6765\u5904\u7406\u3002\n\n\u8fd9\u6837\u5927\u5bb6\u5e94\u8be5\u5c31\u90fd\u4f1a\u505a\u4e86\uff0c$O(32767+\\log n)$ \u9884\u5904\u7406\u51fa $2$ \u7684 $i$ \u6b21\u5e42\u5bf9 $10^9+7$ \u53d6\u6a21\u7684\u503c $(i\\in [0,32767^2])$\uff0c\u4ee5\u53ca\u7b49\u6bd4\u6570\u5217\u65f6\u8981\u7528\u5230\u7684 $3$ \u7684\u9006\u5143\uff08\u4e8b\u5b9e\u4e0a $3$ \u7684\u9006\u5143\u4f60\u53ef\u4ee5\u7528\u53e6\u4e00\u4e2a\u7a0b\u5e8f\u8dd1\u51fa\u7ed3\u679c\u518d\u76f4\u63a5\u8bb0\u5f55\uff0c\u8fd9\u6837\u5c31\u5c11\u4e00\u4e2a $\\log n$ \u7684\u9884\u5904\u7406\uff09\u3002\u5bf9\u4e8e $\\mathrm{highbit(x)}$ \u6ca1\u6709\u4ec0\u4e48\u597d\u7684\u6c42\u6cd5\uff0c\u53ea\u80fd\u4ece\u9ad8\u5230\u4f4e\u679a\u4e3e\uff0c\u6216\u8005\u8c03\u7528 $\\text{GNU Extension}$ \u7684 $\\texttt{\\_\\_lg}$\uff08$\\text{NOIP}$ \u522b\u7528\uff09\uff0c\u9664\u53bb $\\mathrm{highbit}$ \u7684\u4e00\u4e2a\u8dd1\u4e0d\u6ee1\u7684 $\\log$ \u4e4b\u5916\uff0c\u8be2\u95ee\u7684\u5176\u4ed6\u90e8\u5206\u90fd\u662f\u7ebf\u6027\u7684\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(2^{16}+T\\log n)$\uff0c\u4f46\u4e8b\u5b9e\u8bc1\u660e\u5e76\u8dd1\u4e0d\u6ee1\uff08~~\u65f6\u95f4\u590d\u6742\u5ea6\u91cc\u4e3a\u4ec0\u4e48\u6709\u5e38\u6570\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u5e38\u6570\u5b83\u5f88\u5927\u554a~~\n\n```cpp\n#include<cstdio>\ntypedef long long ll;\nconst ll phimod=1e9+6;\nconst ll mod=1e9+7;\nll powf[(1<<16)+10],powg[(1<<16)+10];\ninline ll read() {\n\tll x=0,f=1;register char s=getchar();\n\twhile(s>'9'||s<'0') {if(s=='-') f=-1;s=getchar();}\n\twhile(s>='0'&&s<='9') {x=x*10+s-'0';s=getchar();}\n\treturn x*f;\n}\ninline ll pow(ll x) {return powg[x/32767]*powf[x%32767]%mod;}\ninline ll pow(ll x,ll p) {ll res=1;for(;p;p>>=1) {if(p&1) res=res*x%mod; x=x*x%mod;} return res;}\nint main() {\n\tint T=read(),inv3=pow(3,mod-2);\n\tpowf[0]=powg[0]=1;\n\tfor(register int i=1;i<=32767;++i) powf[i]=powf[i-1]*2ll%mod;\n\tfor(register int i=1;i<=32767;++i) powg[i]=powg[i-1]*powf[32767]%mod;\n\twhile(T--) {\n\t\tll n=read(),lim=63;\n\t\twhile(n>>lim&1^1) {--lim;}\n\t\tll x1,x2=pow(lim); x1=x2*x2%mod; \n\t\tll ans=(n%mod)*((n+1)%mod)%mod*pow(mod-2)%mod-(x1-1)*inv3%mod-x2*((n-x2+1)%mod)%mod;\n\t\tans=ans*2%mod; printf(\"%lld\\n\",(ans%mod+mod)%mod);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1606403150,
        "uid": 95244,
        "name": "tommymio",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P5177 \u3010\u7b7e\u5230\u3011"
    },
    {
        "content": "\u53ef\u4ee5\u53d1\u73b0\uff0c$a\\not = b$\u3002\u90a3\u4e48\u9996\u5148\u5f3a\u5236\u4ee4$a< b$\u3002\u53cd\u8fc7\u6765\u7684\u60c5\u51b5\u4e58$2$\u5373\u53ef\u3002\n\n\u90a3\u4e48\uff0c\u89c2\u5bdf\u53ef\u5f97:\n\n$a$\u7684\u6700\u9ad8\u4f4d\u6bd4$b$\u7684\u6700\u9ad8\u4f4d\u5c0f\uff0c\u4e14\u8be5\u6700\u9ad8\u4f4d\u88ab$b$\u5305\u542b\u3002\n\n\u8fd9\u4e24\u4e2a\u6027\u8d28\u5f88\u5bb9\u6613\u5f97\u5230\u3002\n\n\u90a3\u4e48\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5408\u6cd5\u7684$b$\uff0c\u5bf9\u5e94\u5408\u6cd5\u7684$a$\u7684\u6570\u91cf\u4e3a$b-maxbit_b$\u3002\u5176\u4e2d$maxbit_b$\u4e3a$b$\u4e8c\u8fdb\u5236\u4f4d\u6700\u9ad8\u4f4d\u3002\n\n\u90a3\u4e48\uff0c\u76f4\u63a5\u679a\u4e3e\u8fd9\u4e2a\u6700\u9ad8\u4f4d\uff0c\u7136\u540e\u51cf\u6389\u5373\u53ef\u3002\u6ce8\u610f\u8f93\u51fa\u91cf\u7279\u522b\u5927\uff0c\u9700\u8981\u7528\u5feb\u8bfb\u3002\u5feb\u8bfb\u9700\u8981\u6ce8\u610f\u5185\u5b58\u9650\u5236\u3002\n\n\u4ee3\u7801:\n```cpp\n#include<bits/stdc++.h>\n#define Rep(i,a,b) for(register int i=(a);i<=(b);++i)\n#define Repe(i,a,b) for(register int i=(a);i>=(b);--i)\n#define rep(i,a,b) for(register int i=(a);i<(b);++i)\n#define pb push_back\n#define mx(a,b) (a>b?a:b)\n#define mn(a,b) (a<b?a:b)\ntypedef unsigned long long uint64;\ntypedef unsigned int uint32;\ntypedef long long ll;\nusing namespace std;\n\nnamespace IO\n{\n    const uint32 Buffsize=1<<15,Output=1<<20;\n    static char Ch[Buffsize],*S=Ch,*T=Ch;\n    inline char getc()\n    {\n        return((S==T)&&(T=(S=Ch)+fread(Ch,1,Buffsize,stdin),S==T)?0:*S++);\n    }\n    static char Out[Output],*nowps=Out;\n    \n    inline void flush(){fwrite(Out,1,nowps-Out,stdout);nowps=Out;}\n\n    template<typename T>inline void read(T&x)\n    {\n        x=0;static char ch;T f=1;\n        for(ch=getc();!isdigit(ch);ch=getc())if(ch=='-')f=-1;\n        for(;isdigit(ch);ch=getc())x=x*10+(ch^48);\n        x*=f;\n    }\n\n    template<typename T>inline void write(T x,char ch='\\n')\n    {\n        if(!x)*nowps++='0';\n        if(x<0)*nowps++='-',x=-x;\n        static uint32 sta[111],tp;\n        for(tp=0;x;x/=10)sta[++tp]=x%10;\n        for(;tp;*nowps++=sta[tp--]^48);\n        *nowps++=ch;\n    }\n}\nusing namespace IO;\n\nvoid file(void)\n{\n    FILE*DSD=freopen(\"water.in\",\"r\",stdin);\n    FILE*CSC=freopen(\"water.out\",\"w\",stdout);\n}\n\nstatic int _;\n\nstatic ll n;\n\nstatic int ans;\n\nconst int mod=1e9+7,div2=(mod+1)>>1;\n\nstatic int cnt;\n\ninline void work()\n{\n\tread(n);\n\tans=n%mod*((n+1)%mod)%mod*div2%mod;\n\tfor(register ll k=1;k<=n;k<<=1)\n\t\tans=(ans+mod-(uint64)k%mod*(min((n^k)+1,k)%mod)%mod)%mod;\n\twrite(ans*2%mod);\n\tif(++cnt>=100000)cnt=0,flush();\n}\n\nint main()\n{\n    read(_);\n    while(_--)work();\n    flush();\n    return 0;\n}\n```",
        "postTime": 1546514614,
        "uid": 7035,
        "name": "Great_Influence",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5177 \u3010\u7b7e\u5230\u3011"
    }
]