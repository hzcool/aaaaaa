[
    {
        "content": "**\u524d\u7f6e\u6280\u80fd\uff1apoj3041**\n\n\n-----\n\n\u5982\u679c\u662f\u4e8c\u7ef4\u5e73\u9762\u6709\u4e00\u4e9b\u65b9\u5757\uff0c\u8fd9\u4e9b\u65b9\u5757\u88ab\u67d3\u4e86\u9ed1\u8272\uff0c\u4f60\u6bcf\u6b21\u53ef\u4ee5\u9009\u62e9 $(x,y)$ \u7684\u533a\u57df\u67d3\u6210\u767d\u8272\uff0c\u4ee3\u4ef7\u662f $\\min(x,y)$\uff0c\u95ee\u4f60\u4ed8\u51fa\u7684\u6700\u5c0f\u4ee3\u4ef7\n\n![fig1](http://images2017.cnblogs.com/blog/1277233/201801/1277233-20180119111451443-2114357869.png)\n\n\u663e\u7136\u6211\u4eec\u4e0d\u4f1a\u8fd9\u4e48\u67d3\n\n![fig2](http://images2017.cnblogs.com/blog/1277233/201801/1277233-20180119111514021-339786142.png)\n\n\u56e0\u4e3a\u8fd9\u6837\u6211\u4eec\u7684\u4ee3\u4ef7\u662f $\\min(x,y)$\uff0c\u4e3a\u4e86\u7814\u7a76\u7684\u65b9\u4fbf\u6211\u4eec\u5047\u8bbe $x$ \u6bd4 $y$ \u5c0f\uff0c\u90a3\u6211\u4eec\u5c31\u76f8\u5f53\u4e8e\u67d3 $x$ \u6b21 $1 \\times y$ \u7684\u533a\u57df\uff0c\u56e0\u6b64\u4e00\u6b21\u67d3\u4e00\u7247\u603b\u662f\u4e0d\u5982\u4e00\u6b21\u67d3\u4e00\u6761\u7684\u3002\u4e0b\u9762\u8fd9\u4e48\u67d3\u5c31\u5f88\u597d\n\n![fig3](http://images2017.cnblogs.com/blog/1277233/201801/1277233-20180119111759881-409408222.png)\n\n\u6240\u4ee5\u6211\u4eec\u5efa\u7acb\u4e8c\u5206\u56fe\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u9ed1\u8272\u5757 $(x,y)$\uff0c\u6211\u4eec\u5c06\u5176\u5904\u4e8e\u7b2c\u4e00\u90e8\u7684 $x$ \u4e0e\u5904\u4e8e\u7b2c\u4e8c\u90e8\u7684 $y$ \u8fde\u63a5\uff0c\u6c42\u4e00\u4e2a\u6700\u5c0f\u70b9\u8986\u76d6\u3002\u4e8c\u5206\u56fe\u4e2d\u6700\u5c0f\u70b9\u8986\u76d6=\u6700\u5927\u5339\u914d\uff0c\u5c31\u5f97\u5230\u4e86\u7b54\u6848\u3002\n\n![fig4](http://images2017.cnblogs.com/blog/1277233/201801/1277233-20180119112710099-418777145.png)\n\n\n-----\n\n\u56de\u5230\u672c\u9898\uff0c\u9898\u76ee\u4e2d\u6269\u5c55\u5230\u4e86\u4e09\u7ef4\u7a7a\u95f4\uff0c\u6211\u4eec\u4e5f\u6709\u7c7b\u4f3c\u7684\u60f3\u6cd5\u3002\u7136\u800c\u6211\u4eec\u5e76\u4e0d\u4f1a\u4e09\u5206\u56fe\u5339\u914d\u8fd9\u79cd\u4e1c\u897f\u2026\u2026\n\n\u89c2\u5bdf\u5230 $abc \\leq 5000$\uff0c\u53cd\u8bc1\u6cd5\u53ef\u4ee5\u8f7b\u6613\u5730\u8bc1\u51fa $a,b,c$ \u4e2d\u6709\u4e00\u4e2a $\\leq \\sqrt[3]{5000} \\approx 17.1$\uff0c\u4e3a\u4e86\u7814\u7a76\u65b9\u4fbf\u6211\u4eec\u94a6\u5b9a\u662f $a \\leq \\sqrt[3]{5000}$\uff0c\u8fd9\u6837\u5c31\u66b4\u529b\u679a\u4e3e $1\\ldots a$ \u4e2d\u7684\u67d0\u4e00\u5c42\u662f\u76f4\u63a5\u524a\u6389\u8fd8\u662f\u4e00\u4f1a\u513f\u518d\u5904\u7406\uff08\u53ea\u6709\u8fd9\u4e24\u79cd\u60c5\u51b5\uff0c\u522b\u7684\u90fd\u4e0d\u597d\uff0c\u60f3\u4e00\u60f3\u4e3a\u4ec0\u4e48\uff09\u3002\n\n\u5bf9\u4e8e\u6ca1\u6709\u88ab\u76f4\u63a5\u524a\u6389\u7684\u5c42\uff0c\u6211\u4eec\u628a\u5b83\u4eec\u5265\u79bb\u51fa\u6765\uff0c\u7136\u540e**\u62cd\u6241**\u6210\u4e8c\u7ef4\u5e73\u9762\u4e0a\u7684\u95ee\u9898\u6c42\u89e3\u3002\n\n\n-----\n\u4ee3\u7801\u3002\u8dd1\u5f97\u4e0d\u662f\u5f88\u5feb\uff0c\u501f\u9274\u4e86\u4e00\u4e0b\u7f51\u4e0a\u7684\u4ee3\u7801\n\n```cpp\n#include <iostream>\n#include <cstring>\n#include <cstdio>\nusing namespace std;\nint T, hea[5005], cnt, a, b, c, minn, sx[4][5005], uu, ans, lnk[5005], qaq;\nbool isn[5005], qwq[25], vis[5005];\nstruct Edge{\n    int too, nxt;\n}edge[5005];\nvoid add_edge(int fro, int too){\n    edge[++cnt].nxt = hea[fro];\n    edge[cnt].too = too;\n    hea[fro] = cnt;\n}\nbool dfs(int x){\n    for(int i=hea[x]; i; i=edge[i].nxt){\n        int t=edge[i].too;\n        if(!vis[t]){\n            vis[t] = true;\n            if(!lnk[t] || dfs(lnk[t])){\n                lnk[t] = x;\n                return true;\n            }\n        }\n    }\n    return false;\n}\nvoid work(int x){\n    for(int i=1; i<=b; i++)    hea[i] = 0;\n    cnt = 0;\n    for(int i=1; i<=c; i++)    lnk[i] = 0;\n    int tmp=0;\n    for(int i=0; i<a; i++){\n        if(x&(1<<i))    qwq[i+1] = false, tmp++;\n        else    qwq[i+1] = true;\n    }\n    for(int i=1; i<=qaq; i++)\n        if(qwq[sx[1][i]])\n            add_edge(sx[2][i], sx[3][i]);\n    for(int i=1; i<=b; i++){\n        for(int j=1; j<=c; j++)    vis[j] = false;\n        if(dfs(i))    tmp++;\n    }\n    ans = min(tmp, ans);\n}\nint main(){\n    cin>>T;\n    while(T--){\n        qaq = 0;\n        ans = 0x3f3f3f3f;\n        scanf(\"%d %d %d\", &a, &b, &c);\n        minn = min(a, min(b, c));\n        for(int i=1; i<=a; i++)\n            for(int j=1; j<=b; j++)\n                for(int k=1; k<=c; k++){\n                    scanf(\"%d\", &uu);\n                    if(!uu)    continue;\n                    sx[1][++qaq] = i;\n                    sx[2][qaq] = j;\n                    sx[3][qaq] = k;\n                }\n        if(minn==b)    swap(a, b), swap(sx[1], sx[2]);\n        else if(minn==c)    swap(a, c), swap(sx[1], sx[3]);\n        for(int i=0; i<(1<<a); i++)\n            work(i);\n        printf(\"%d\\n\", ans);\n    }\n    return 0;\n}\n```",
        "postTime": 1516333260,
        "uid": 44733,
        "name": "poorpool",
        "ccfLevel": 0,
        "title": "[HNOI2013]\u6d88\u6bd2"
    },
    {
        "content": "\u5148\u8003\u8651\u4e00\u4e2a\u5e73\u9762\u4e0a\u7684\u95ee\u9898\uff1a\n\n\u5e73\u9762\u4e0a\u6709$n$\u4e2a\u70b9\uff0c\u6d88\u9664\u4e00\u4e2a$x*y$\u7684\u77e9\u5f62\u91cc\u7684\u6240\u6709\u70b9\u9700\u8981\u7528$min(x,y)$\u7684\u4ee3\u4ef7\uff0c\u6c42\u6d88\u9664\u6240\u6709\u70b9\u7684\u6700\u5c0f\u4ee3\u4ef7\u3002\n\n\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5728\u8fd9\u91cc\u7528$min(x,y)$\u6761\u7ad6\u7ebf\u6216\u6a2a\u7ebf\u5c31\u53ef\u4ee5\u8986\u76d6\u4e00\u4e2a$x*y$\u7684\u77e9\u5f62\u3002\u8fd9\u6837\u5c31\u53d8\u6210\u4e86\u4e8c\u5206\u56fe\u6700\u5c0f\u70b9\u8986\u76d6\u7684\u88f8\u9898\uff0c\u5957\u6a21\u677f\u5373\u53ef\u3002\n\n\n\u56de\u5230\u95ee\u9898\u3002\u540c\u6837\u4e5f\u53ef\u4ee5\u5c06\u95ee\u9898\u7406\u89e3\u4e3a\u4ee5\u4e0b\u6a21\u578b\uff1a\n\n\u7a7a\u95f4\u5185\u6709$n$\u4e2a\u70b9\uff0c\u6bcf\u4e00\u6b21\u64cd\u4f5c\u53ef\u4ee5\u6d88\u9664\u4e00\u4e2a\u9762\u4e0a\u6240\u6709\u7684\u70b9\uff0c\u6c42\u6d88\u9664\u6240\u6709\u70b9\u7684\u6700\u5c11\u64cd\u4f5c\u6b21\u6570\u3002\n\n\u4f46\u662f\u8fd9\u662f\u4e09\u7ef4\u7684\uff0c\u6240\u4ee5\u4e0d\u80fd\u7b80\u5355\u5730\u6c42\u6700\u5c0f\u70b9\u8986\u76d6\u3002\u600e\u4e48\u505a\u5462\uff1f\n\n\u770b\u5230\u9898\u76ee\u4e2d\u6709$a*b*c<=5000$\uff0c\u4e5f\u5c31\u610f\u5473\u7740$a,b,c$\u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u4e0d\u5927\u4e8e$17$\u3002\u6240\u4ee5\u5c31\u5148\u66b4\u641c\u5bf9\u5e94\u7684\u8f74\u4e0a\u7684\u4e0d\u5927\u4e8e$17$\u4e2a\u9762\u662f\u5426\u88ab\u64cd\u4f5c\uff08\u5bf9\u5e94\u7684\u9762\u4e0a\u7684\u6240\u6709\u70b9\u88ab\u6d88\u9664\uff09\uff0c\u7136\u540e\u6c42\u6700\u5c0f\u70b9\u8986\u76d6\u6765\u66f4\u65b0\u7b54\u6848\u3002\n\n\u540c\u65f6\u6ce8\u610f\uff1a\u6b64\u9898\u65f6\u9650\u5361\u5f97\u8f83\u7d27\uff0c\u8bf7\u6ce8\u610f\u4e00\u4e9b\u5e38\u6570\u4f18\u5316\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <cmath>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\ninline int read() {\n    int res = 0; bool bo = 0; char c;\n    while (((c = getchar()) < '0' || c > '9') && c != '-');\n    if (c == '-') bo = 1; else res = c - 48;\n    while ((c = getchar()) >= '0' && c <= '9')\n        res = (res << 3) + (res << 1) + (c - 48);\n    return bo ? ~res + 1 : res;\n}\nconst int N = 5005, E = 23, INF = 0x3f3f3f3f;\nint n, D[5], pos, ecnt, nxt[N], adj[N], go[N], val[N], my[N],\nX[N][5], Ans, cnt, vis[N], times;\nbool sel[E];\nvoid add_edge(int u, int v, int w) {\n    nxt[++ecnt] = adj[u]; adj[u] = ecnt; go[ecnt] = v; val[ecnt] = w;\n}\nbool dfs(int u) {\n    for (int e = adj[u], v; e; e = nxt[e])\n        if (!sel[val[e]] && vis[v = go[e]] < times) {\n            vis[v] = times;\n            if (!my[v] || dfs(my[v])) {\n                my[v] = u;\n                return 1;\n            }\n        }\n    return 0;\n}\nint solve(int tt) {\n    int i, j, ans = 0;\n    for (i = 1; i <= cnt; i++) my[i] = 0;\n    for (i = 1; i <= cnt; i++) {\n        times++;\n        if (dfs(i)) ans++;\n        if (tt + ans >= Ans) return tt + ans;\n    }\n    return tt + ans;\n}\nvoid Dfs(int dep, int tt) {\n    if (dep > D[pos]) return (void) (Ans = min(Ans, solve(tt)));\n    sel[dep] = 1; Dfs(dep + 1, tt + 1);\n    sel[dep] = 0; Dfs(dep + 1, tt);\n}\nvoid work() {\n    int i, j, k, x; n = 0; Ans = INF; cnt = 0;\n    pos = 1; D[1] = read(); D[2] = read(); D[3] = read();\n    if (D[2] < D[pos]) pos = 2; if (D[3] < D[pos]) pos = 3;\n    for (i = 1; i <= 3; i++) if (i != pos) cnt = max(cnt, D[i]);\n    for (i = 1; i <= D[1]; i++) for (j = 1; j <= D[2]; j++)\n    for (k = 1; k <= D[3]; k++) {\n        x = read(); if (x) X[++n][1] = i, X[n][2] = j, X[n][3] = k;\n    }\n    ecnt = 0; for (i = 1; i <= cnt; i++) adj[i] = 0;\n    for (i = 1; i <= n; i++) {\n        if (pos == 1) add_edge(X[i][2], X[i][3], X[i][1]);\n        else if (pos == 2) add_edge(X[i][1], X[i][3], X[i][2]);\n        else add_edge(X[i][1], X[i][2], X[i][3]);\n    }\n    printf(\"%d\\n\", (Dfs(1, 0), Ans));\n}\nint main() {\n    int T = read();\n    while (T--) work();\n    return 0;\n}\n```",
        "postTime": 1506258499,
        "uid": 29936,
        "name": "xyz32768",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3231 \u3010[HNOI2013]\u6d88\u6bd2\u3011"
    },
    {
        "content": "[\u6d1b\u8c37\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P3231)\n\n### Solution\n\n##### \u5148\u8003\u8651\u4e8c\u7ef4\n\n\u5bf9\u4e8e\u4e00\u4e2a\u70b9 $(x,y)$ \uff0c\u8981\u4e48\u662f\u5728\u7b2c $x$ \u5217\u88ab\u6d88\u6bd2\uff0c\u8981\u4e48\u662f\u5728\u7b2c $y$ \u5217\u88ab\u6d88\u6bd2\uff0c\u8003\u8651\u4e8c\u5206\u56fe\u5339\u914d\uff0c\u5de6\u8fb9\u662f\u5217\uff0c\u53f3\u8fb9\u662f\u884c\uff0c\u6c42\u6700\u5c0f\u70b9\u8986\u76d6\u5373\u53ef\u3002\n\n##### \u56de\u5230\u4e09\u7ef4\n\n\u663e\u7136\u4e09\u5206\u56fe\u5339\u914d\u662f\u4e0d\u53ef\u7684\uff0c\u6240\u4ee5\u8981\u770b\u770b\u522b\u7684\u4e1c\u897f\u3002\n\n\u9898\u76ee\u4e2d\u7ed9\u4e86 $abc\\leq 5000$ \uff0c\u4e5f\u5c31\u662f $\\min\\{a,b,c\\}\\leq \\sqrt[3] {5000}\\approx 17$ \uff0c\u6240\u4ee5\u53ef\u4ee5\u679a\u4e3e\u6700\u5c0f\u7684\u4e00\u7ef4\uff0c\u5224\u65ad\u662f\u5c06\u4e00\u5c42\u5168\u90e8\u6d88\u6389\u8fd8\u662f\u7559\u4e0b\uff0c\u7136\u540e\u518d\u5c06\u5269\u4e0b\u7684\u62cd\u6210\u4e00\u4e2a\u4e8c\u7ef4\u5e73\u9762\uff08\u6216\u8005\u8bf4\uff0c\u5c06\u679a\u4e3e\u7684\u90a3\u4e00\u4f4d\u5750\u6807\u53bb\u6389\uff09\uff0c\u6309\u4e0a\u9762\u4e8c\u7ef4\u65b9\u6cd5\u6c42\u89e3\u5373\u53ef\u3002\n\n### Code\n\n```c++\n#include<cstdio>\n#include<iostream>\n#include<cstring>\nusing namespace std;\nstruct lsqy{\n\tint next,to;\n}q[5010];\nint a,b,c,ys[5101];\nint dir[4][5101],tot; \nint match[5001],vis[5100],head[5101],cnt;\nint ans=2147483644;\nvoid add(int x,int y)\n{\n\tq[++cnt].next=head[x];\n\thead[x]=cnt;\n\tq[cnt].to=y;\n}\nbool dfs(int u)\n{\n\tfor(int i=head[u];i;i=q[i].next)\n\t{\n\t\tint v=q[i].to;\n\t\tif(!vis[v])\n\t\t{\n\t\t\tvis[v]=1;\n\t\t\tif(dfs(match[v])||!match[v])\n\t\t\t{\n\t\t\t\tmatch[v]=u;\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\nvoid work(int s)\n{\n\tfor(int i=1;i<=b;++i)\n\t  head[i]=0;\n\tfor(int j=1;j<=c;++j)\n\t  match[j]=0;\n\tcnt=0;\n\tint con=0;\n\t//memset(ys,0,sizeof(ys));\n    for(int i=1;i<=a;++i)\n\t  if((1<<(i-1))&s) ys[i]=0,con++;\n\t    else ys[i]=1;\n    for(int i=1;i<=tot;++i)\n      if(ys[dir[1][i]])\n        add(dir[2][i],dir[3][i]);\n    for(int i=1;i<=b;++i)\n    {\n      for(int j=1;j<=c;++j)\n        vis[j]=0;\n      //memset(vis,0,sizeof(vis));\n\t  if(dfs(i)) con++;   \n\t}\n\tans=min(ans,con); \n} \nint main()\n{\n\tint T_T,minn;\n\tscanf(\"%d\",&T_T);\n\twhile(T_T--)\n\t{\n\t\ttot=0;\n\t\tminn=ans=2147483644;\n\t\tscanf(\"%d%d%d\",&a,&b,&c);\n\t\tminn=min(a,min(b,c));\n\t\tfor(int i=1;i<=a;++i)\n\t\t  for(int j=1;j<=b;++j)\n\t\t    for(int k=1;k<=c;++k)\n\t\t      {\n\t\t      \tint x;\n\t\t      \tscanf(\"%d\",&x);\n\t\t      \tif(!x) continue;\n\t\t      \ttot++;\n\t\t\t\tdir[1][tot]=i;\n\t\t      \tdir[2][tot]=j;\n\t\t      \tdir[3][tot]=k;\n\t\t\t  }\n\t\t  if(minn=b) swap(b,a),swap(dir[1],dir[2]);\n\t\t    else if(minn=c)  swap(c,a),swap(dir[1],dir[3]);\n\t\tfor(int i=0;i<=(1<<a)-1;++i)\n\t\t  work(i);\n\t\tprintf(\"%d\\n\",ans);\n\t}\n\t\n } \n```\n\n\u611f\u8c22[bored](https://www.luogu.com.cn/user/230202)\u7684\u7cbe\u5f69\u4ee3\u7801",
        "postTime": 1604563082,
        "uid": 272143,
        "name": "\u662f\u4e2a\u6c49\u5b50",
        "ccfLevel": 4,
        "title": "P3231 [HNOI2013]\u6d88\u6bd2"
    },
    {
        "content": "\u8fd9\u9898\u597d\u50cf\u6ca1\u6709\u7f51\u7edc\u6d41\u9898\u89e3\uff0c\u8865\u4e00\u53d1\uff01\n\n\u597d\u50cf\u6bd4\u8f83\u6bd2\u7624\uff0c\u5c31\u662f\u628a\u5b83\u6392\u5230\u4e00\u4e2a\u5e73\u9762\u4e0a\uff0c~~\u72b6\u6001\u538b\u7f29~~\n\n\u5c31\u8fd9\u6837\uff0c\u5c31\u5b8c\u4e8b\u4e86\uff0c\u7136\u540e\u505a\u4e00\u4e0b\u4e8c\u5206\u56fe\u5339\u914d\uff0c\u987a\u5e26\u6a21\u62df\u4e00\u4e0b\u90a3\u4e9b\u53d6\uff0c\u4e0e\u4e0d\u53d6\n\n\u4e0d\u4f1a\u7684\u53ef\u4ee5\u767e\u5ea6\u767e\u79d1...\n\n\u8bb0\u5f97\u521d\u59cb\u4e00\u4e2a\u503c\u7684\u65f6\u5019\u8981care\n\n\u4e0d\u8981memset\u5427\uff01\uff08\u3002\u3002\u3002\u3002\u3002\u3002\uff09\n\n\u597d\u50cf\u4f1atle qwq qwq\n\n\u5f53\u7136\u6211\u4e5f\u6ca1\u8bd5\u8fc7\uff01\u53cd\u8bc1\u6709\u70b9\u4ee3\u7801\u96be\u5ea6qwq\ncode:\n```cpp\n// luogu-judger-enable-o2\n#include <bits/stdc++.h>\n#define fi first\n#define se second\n#define mp make_pair\nusing namespace std;\ntypedef pair <int, int> P;\nconst int N = 5005, M = 80005, INF = 1e9;\nint fir[N], cur[N], to[M], nxt[M], len[M], inv[M], depth[N], q[N], rec[4][N];\nint a, b, c, ss, tt, l, r, mn, ans, size, ecnt, tot;\nbool p[N], vis[N]; P e[N];\ntemplate <class T> void cmax(T &x, T y) {x = max(x, y);}\ntemplate <class T> void cmin(T &x, T y) {x = min(x, y);}\ntemplate <class T> void rd(T &x) {\n    char c = getchar(); int f = 1; x = 0;\n    for (; !isdigit(c); c = getchar()) if (c == '-') f = -1;\n    for (; isdigit(c); c = getchar()) x = x * 10 + c - '0';\n    x *= f;\n}\nvoid ae(int u, int v, int w) {\n    to[++ecnt] = v; nxt[ecnt] = fir[u]; len[ecnt] = w; inv[ecnt] = ecnt + 1; fir[u] = ecnt;\n    to[++ecnt] = u; nxt[ecnt] = fir[v]; len[ecnt] = 0; inv[ecnt] = ecnt - 1; fir[v] = ecnt;\n}\nbool make_level() {\n    int i; for (i = ss; i <= tt; ++i) cur[i] = fir[i];\n    vis[q[l = r = 1] = ss] = true, depth[ss] = 1;\n    while (l <= r) {\n        int u = q[l++];\n        for (i = fir[u]; i; i = nxt[i]) {\n            int v = to[i], w = len[i];\n            if (!vis[v] && w) vis[q[++r] = v] = true, depth[v] = depth[u] + 1;\n        }\n    }\n    bool flag = vis[tt];\n    for (i = 1; i <= r; ++i) vis[q[i]] = false; \n    return flag;\n}\nint dinic(int u, int lim) {\n    if (u == tt) return lim;\n    int i, ret = 0;\n    for (i = cur[u]; i; i = nxt[i]) {\n        int v = to[i], w = len[i];\n        if (depth[v] == depth[u] + 1 && w) {\n            int tmp = dinic(v, min(w, lim));\n            len[i] -= tmp; len[inv[i]] += tmp;\n            lim -= tmp; ret += tmp;\n            if (!lim) {cur[u] = i; return ret;}\n        }\n    }\n    cur[u] = 0; return ret;\n}\nvoid work(int x) {\n    int i, mx, res; size = res = mx = 0;\n    for (i = 0; i < a; ++i)\n        if (x & (1 << i)) p[i + 1] = false, ++res;\n        else p[i + 1] = true;\n    for (i = 1; i <= tot; ++i)\n        if (p[rec[1][i]]) e[++size] = mp(rec[2][i], rec[3][i]);\n    for (i = 1; i <= size; ++i) cmax(mx, e[i].fi), cmax(mx, e[i].se);\n    ss = 0, tt = mx << 1 | 1; memset(fir, ecnt = 0, sizeof(fir));\n    for (i = 1; i <= mx; ++i) ae(ss, i, 1), ae(i + mx, tt, 1);\n    for (i = 1; i <= size; ++i)\tae(e[i].fi, e[i].se + mx, 1);\n    while (make_level()) res += dinic(ss, INF);\n    cmin(ans, res);\n}\nvoid solve() {\n    int i, j, k;\n    tot = 0, ans = INF; rd(a); rd(b); rd(c); mn = min(min(a, b), c);\n    for (i = 1; i <= a; ++i)\n        for (j = 1; j <= b; ++j)\n            for (k = 1; k <= c; ++k) {\n                int x; rd(x);\n                if (!x) continue;\n                rec[1][++tot] = i, rec[2][tot] = j, rec[3][tot] = k;\n            }\n    if (mn == b) swap(a, b), swap(rec[1], rec[2]);\n    else if (mn == c) swap(a, c), swap(rec[1], rec[3]);\n    for (i = 0; i < (1 << a); ++i) work(i);\n    printf(\"%d\\n\", ans);\n}\nint main() {\n    int T; rd(T);\n    while (T--) solve();\n    return 0;\n}\n\n```",
        "postTime": 1546819043,
        "uid": 30817,
        "name": "muller",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3231 \u3010[HNOI2013]\u6d88\u6bd2\u3011"
    },
    {
        "content": "### [[HNOI2013]\u6d88\u6bd2](https://www.luogu.com.cn/problem/P3231)\n\n\u6211\u7684\u8fd9\u79cd\u5199\u6cd5\u5e94\u8be5\u662f\u76ee\u524d\u7684\u6700\u4f18\u89e3~~\uff08\u867d\u7136\u597d\u50cf\u4e5f\u6ca1\u5feb\u591a\u5c11\uff09~~\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/f0gab2ll.png)\n\n\u8fd9\u9053\u9898\u8c8c\u4f3c\u4e0d\u80fd\u7528 Dinic\uff0c\u7528 Dinic \u6bcf\u6b21\u679a\u4e3e\u597d\u50cf\u90fd\u8981\u91cd\u65b0\u5efa\u56fe\uff0c\u6700\u540e\u5bfc\u81f4\u65f6\u95f4\u590d\u6742\u5ea6\u5230\u4e86 $O(2^{17}abc)$\uff0c\u9898\u89e3\u597d\u591a\u7528 Dinic \u7684\u7406\u8bba\u65f6\u95f4\u590d\u6742\u5ea6\u90fd\u5e94\u8be5\u662f\u4e0d\u5bf9\u7684\uff0c\u6570\u636e\u8fd8\u662f\u6c34\u4e86\u3002\n\n\u7528\u5308\u7259\u5229\u7b97\u6cd5\u7684\u65f6\u5019\u8bbe\u7f6e\u4e00\u4e2a\u8fb9\u6743\uff0c\u518d\u5229\u7528\u8fb9\u6743\u5224\u65ad\u8fd9\u6761\u8fb9\u662f\u5426\u8fde\u901a\u7684\u8bdd\u5c31\u4e0d\u7528\u91cd\u65b0\u5efa\u56fe\u3002\n\n[\u53c2\u8003\u9898\u89e3](https://www.luogu.com.cn/blog/user29936/solution-p3231)\n\n# Solution\n\n\u4e0d\u59a8\u4ee4 $a \\leq b \\leq c$\uff0c\u4e14\u5c06 $a$ \u770b\u4f5c\u957f\u65b9\u4f53\u7684\u9ad8\u3002\n\n\u5148\u8003\u8651\u4e8c\u7ef4\u5e73\u9762 $b \\times c$\uff0c\u5f88\u663e\u7136\u6bcf\u6b21\u6211\u4eec\u4f7f\u7528 $1 \\times b$ \u6216\u8005 $1 \\times c$ \u7684\u77e9\u5f62\u8986\u76d6\u5fc5\u7136\u662f\u6700\u4f18\u7684\uff0c\u8fd9\u6837\u5c31\u53d8\u6210\u4e86\u4e00\u9053\u4e8c\u5206\u56fe\u6700\u5c0f\u70b9\u8986\u76d6\u95ee\u9898\u3002\n\n\u5bf9\u4e8e\u5e73\u9762\u4e0a\u7684\u6bcf\u4e00\u4e2a\u70b9 $(x , y)$\uff0c\u6211\u4eec\u5c06\u5de6\u8fb9\u7684 $x$ \u8fde\u5411\u53f3\u8fb9\u7684 $y$\uff0c\u8fd9\u6837\u6bcf\u4e00\u6761\u8fb9\u5c31\u4ee3\u8868\u4e00\u4e2a\u70b9\uff0c\u7136\u540e\u8dd1\u4e00\u904d\u4e8c\u5206\u56fe\u6700\u5c0f\u70b9\u8986\u76d6\u5373\u53ef\u3002\n\n\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6709\u5982\u4e0b\u7684\u70b9\u3002\n\n```\n\uff081\u53f7\u70b9\uff09   \uff081\uff0c3\uff09\n\uff082\u53f7\u70b9\uff09   \uff082\uff0c3\uff09\n\uff083\u53f7\u70b9\uff09   \uff081\uff0c2\uff09\n\uff084\u53f7\u70b9\uff09   \uff083\uff0c1\uff09\n\uff085\u53f7\u70b9\uff09   \uff081\uff0c1\uff09\n```\n\n\u6700\u540e\u5efa\u51fa\u6765\u7684\u4e8c\u5206\u56fe\u5e94\u8be5\u662f\u8fd9\u6837\u7684\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/0a1r503p.png)\n\n\u8dd1\u4e00\u904d\u4e8c\u5206\u56fe\u6700\u5c0f\u70b9\u8986\u76d6\uff0c\u5982\u679c\u9009\u4e86\u5de6\u8fb9\u7684 $i$ \u53f7\u70b9\uff0c\u4e5f\u5c31\u610f\u5473\u7740\u7528 $1 \\times c$ \u7684\u77e9\u5f62\u5c06 $i$ \u8fd9\u4e00\u884c\u5168\u90e8\u8986\u76d6\u6389\u3002\u53f3\u8fb9\u540c\u7406\u3002\u6700\u540e\u8dd1\u51fa\u6765\u7684\u5c31\u662f\u8fd9\u6e05\u7406\u4e00\u4e2a\u5e73\u9762\u9700\u8981\u7684\u82b1\u8d39\u3002\n\n\u56de\u5230\u4e09\u7ef4\uff0c\u7531\u4e8e $abc \\leq 5000$\uff0c\u6240\u4ee5 $a \\leq 17$\u3002\u6211\u4eec\u53ef\u4ee5\u4e8c\u8fdb\u5236\u679a\u4e3e\u8fd9\u4e00\u5c42\u662f\u5426\u76f4\u63a5\u7528 $1 \\times b \\times c$ \u82b1\u8d39\u4e3a $1$ \u7684\u957f\u65b9\u4f53\u76f4\u63a5\u5c06\u8fd9\u4e00\u5c42\u6e05\u7406\u5e72\u51c0\u3002\u5bf9\u4e8e\u4e0d\u76f4\u63a5\u6e05\u7406\u5e72\u51c0\u7684\u90a3\u4e9b\u5c42\uff0c\u628a\u5b83\u62cd\u6241\u6210\u4e8c\u7ef4\uff0c\u7136\u540e\u7528\u4e0a\u9762\u8bb2\u7684\u5904\u7406\u4e8c\u7ef4\u7684\u65b9\u6cd5\u8fdb\u884c\u5904\u7406\u3002\n\n\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u62cd\u6241\u6210\u4e8c\u7ef4\u4e00\u8d77\u6e05\u7406\uff1f\u663e\u7136\u6211\u4eec\u53ef\u4ee5\u7528 $a \\times b \\times 1$ \u6216\u8005 $a \\times 1 \\times c$ \u7684\u957f\u65b9\u4f53\u8fdb\u884c\u8986\u76d6\uff0c\u4e5f\u5c31\u662f\u5373\u4f7f\u4e24\u4e2a\u9700\u8981\u6e05\u7406\u7684\u70b9\u4e0d\u5728\u540c\u4e00\u5c42\uff0c\u4f46\u5982\u679c\u5b83\u4eec\u5728\u540c\u4e00\u884c\u6216\u8005\u540c\u4e00\u5217\uff0c\u6211\u4eec\u540c\u65f6\u5904\u7406\u6389\u5b83\u4eec\u7684\u82b1\u8d39\u8fd8\u662f\u4e3a $1$\u3002\n\n\u8fd9\u6837\u8fd9\u9053\u9898\u5c31\u53ef\u4ee5\u89e3\u51b3\u4e86\u3002\n\n\u5f00\u5934\u8bb2\u7684\uff0c\u7528 Dinic \u7684\u8bdd\u6bcf\u6b21\u90fd\u8981\u91cd\u65b0\u5efa\u56fe\uff0c\u7406\u8bba\u4e0a\u65f6\u95f4\u590d\u6742\u5ea6\u5e94\u8be5\u4e0d\u80fd\u8fc7\u3002\u7528\u5308\u7259\u5229\u7b97\u6cd5\uff0c\u8fde\u8fb9\u7684\u65f6\u5019\u8fb9\u6743\u8bbe\u4e3a\u8fd9\u4e2a\u70b9\u6240\u5728\u7684\u5c42\u7684\u7f16\u53f7\uff0c\u8fd9\u6837\u6211\u4eec\u6c42\u4e8c\u5206\u56fe\u6700\u5c0f\u70b9\u8986\u76d6\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u6839\u636e\u8fd9\u6761\u8fb9\u7684\u8fb9\u6743\u5224\u65ad\u8fd9\u6761\u8fb9\u5b58\u4e0d\u5b58\u5728\uff08\u4e5f\u5c31\u662f\u8fd9\u6761\u8fb9\u6240\u4ee3\u8868\u7684\u70b9\u6709\u6ca1\u6709\u88ab\u76f4\u63a5\u6e05\u7406\u6389\uff09\u3002\n\n# Code\n\n```cpp\n#include<bits/stdc++.h>\n#define rep(i , m , n) for(register int i = m; i <= n; i++)\n\nusing namespace std;\nconst int INF = 0x3f3f3f3f;\nint read(){\n\tint x = 0 , f = 1;\n\tchar c = getchar();\n\twhile(c < '0' || c > '9')f = (c == '-') ? -1 : 1 , c = getchar();\n\twhile(c >= '0' && c <= '9')x = (x << 3) + (x << 1) + (c ^ 48) , c = getchar();\n\treturn x * f;\n}\nstruct Edge{\n\tint v , w , nex;\n}e[5005];\nint h[5005];\nint tot = 0;\nvoid Add(int u , int v , int w){\n\t++tot;\n\te[tot].v = v , e[tot].w = w;\n\te[tot].nex = h[u] , h[u] = tot;\n}\nint a , b , c;\nint n;\nint p[5005][4];\nint sl[5005];\nint vis[5005] , pai[5005];\nint times = 1;\nbool Match(int u){\n\tfor(int i = h[u]; i; i = e[i].nex){\n\t\tint v = e[i].v , w = e[i].w;\n\t\tif(sl[w] || vis[v] == times)continue;  //sl[w]\u7528\u4e8e\u5224\u65ad\u8fd9\u4e2a\u70b9\u662f\u5426\u88ab\u76f4\u63a5\u6e05\u7406 \n\t\tvis[v] = times;\n\t\tif(!pai[v] || Match(pai[v])){\n\t\t\tpai[v] = u;\n\t\t\treturn 1;\n\t\t}\n\t}\n\treturn 0;\n}\nint calc(){\n\trep(i , 1 , max(a , max(b , c)))pai[i] = 0;  //\u521d\u59cb\u5316\uff0c\u7528memset\u4f1a\u8d85\u65f6 \n\tint cnt = 0;\n\trep(i , 1 , max(a , max(b , c))){\n\t\ttimes++; //\u5bf9vis\u7528memset\u6e05\u96f6\u4f1a\u8d85\u65f6\uff0c\u6240\u4ee5\u7528times\u7d2f\u8ba1\u907f\u514d\u521d\u59cb\u5316 \n\t\tif(Match(i))cnt++;\n\t}\n\treturn cnt;\n}\nint main(){\n\tint Q = read();\n\twhile(Q--){\n\t\tmemset(h , 0 , sizeof h);\n\t\tmemset(vis , 0 , sizeof vis);\n\t\ttot = 0;\n\t\tint ans = INF;\n\t\tn = 0;\n\t\ta = read() , b = read() , c = read();\n\t\tint Min = min(a , min(b , c)) , pos = (Min == a) ? 1 : ((Min == b) ? 2 : 3); //\u5c06a,b,c\u4e2d\u6700\u5c0f\u7684\u770b\u4f5c\u9ad8\uff0c\u4ee5\u514d\u4e8c\u8fdb\u5236\u679a\u4e3e\u8d85\u65f6 \n\t\trep(i , 1 , a) rep(j , 1 , b) rep(k , 1 , c){\n\t\t\tint x = read();\n\t\t\tif(x)p[++n][1] = i , p[n][2] = j , p[n][3] = k;\n\t\t}\n\t\tif(pos == 1)rep(i , 1 , n)Add(p[i][2] , p[i][3] , p[i][1]);  //\u8fde\u8fb9\uff0c\u5e76\u5c06\u8fb9\u6743\u8bbe\u4e3a\u6240\u5728\u5c42\u7684\u7f16\u53f7 \n\t\tif(pos == 2)rep(i , 1 , n)Add(p[i][1] , p[i][3] , p[i][2]);\n\t\tif(pos == 3)rep(i , 1 , n)Add(p[i][1] , p[i][2] , p[i][3]);\n\t\tfor(int d = 0; d <= (1 << Min) - 1; d++){  //\u679a\u4e3e\u90a3\u4e9b\u5c42\u76f4\u63a5\u6e05\u7406\u6389 \n\t\t\tint tmp = 0;\n\t\t\trep(i , 0 , Min - 1)  //\u5904\u7406\u51fa\u90a3\u4e9b\u5c42\u88ab\u76f4\u63a5\u6e05\u7406\u6389 \n\t\t\t\tif(d & (1 << i))sl[i + 1] = 1 , tmp++;\n\t\t\t\telse\t\t\tsl[i + 1] = 0;\n\t\t\tint temp = tmp + calc();\n\t\t\tans = min(ans , temp);\n\t\t}\n\t\tprintf(\"%d\\n\" , ans);\n\t}\n\treturn 0;\n} \n```\n",
        "postTime": 1684845668,
        "uid": 59691,
        "name": "\u51d1\u4e2a\u70ed\u95f9\u5416",
        "ccfLevel": 7,
        "title": "[HNOI2013]\u6d88\u6bd2"
    },
    {
        "content": "\u660e\u663e\u7684\uff0c\u6bcf\u6b21\u6e05\u6d17\u7528 $1\\times x\\times y$ \u662f\u6700\u4f18\u7684\uff0c\u8003\u8651\u53cd\u8bc1\uff1a\u82e5\u6700\u4f18\u89e3\u7528 F \u8bd5\u5242\u6e05\u6d17\u4e86\u5927\u5c0f\u4e3a $x\\times y\\times z$ \u7684\u957f\u65b9\u4f53\uff08$x\\le y\\le z$\uff09,\u4e5f\u53ef\u4ee5\u62c6\u5206\u4e3a $x$ \u4e2a\u5927\u5c0f\u4e3a $1\\times y\\times z$ \u7684\u957f\u65b9\u4f53\uff0c\u4ee3\u4ef7\u4e0d\u53d8\u3002\n\n\u56e0\u4e3a $abc\\le 5\\times 10^3$\uff0c\u6240\u4ee5 $\\min(a,b,c)\\le 17$\uff0c\u8003\u8651\u5c06\u6700\u5c0f\u7684\u4e00\u7ef4\u66b4\u529b\u679a\u4e3e\u5c06\u5176\u53d8\u6210\u4e8c\u7ef4\u5e73\u8fb9\u95ee\u9898\uff0c\u6bcf\u4e00\u6b21\u64cd\u4f5c\u5c06\u5176\u4e2d\u4e00\u884c\u6216\u4e00\u5217\u6e05\u6d17\u5e72\u51c0\uff0c\u4ee3\u4ef7\u4e3a\u4e00\uff0c\u6362\u4e2a\u8bf4\u6cd5\uff0c\u5c31\u662f\u9009\u62e9\u5c3d\u91cf\u5c11\u7684\u884c\u548c\u5217\uff0c\u4f7f\u5f97\u6bcf\u4e2a\u8981\u6e05\u6d17\u7684\u70b9\u88ab\u81f3\u5c11\u8986\u76d6\u4f9d\u6b21\uff0c\u5373\u4e8c\u5206\u56fe\u6700\u5c0f\u8986\u76d6\u95ee\u9898\uff0c\u76f4\u63a5\u5efa\u7acb\u884c\u4e0e\u5217\u7684\u4e8c\u5206\u56fe\uff0c\u8dd1\u6700\u5927\u5339\u914d\u5373\u53ef\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define rep(i, aa, bb) for(int i=(aa); i<=(bb); i++)\nusing namespace std;\n\nstruct Node{int x, y, z;};\n\nconst int N=2e4+11;\nint aa, bb, cc, ncnt;\nNode a[N];\nint match[N], vis[N], tim;\nint h[N], nt[N<<1], to[N<<1], cnt;\n\nvoid link(int u, int v){\n    nt[++cnt]=h[u], h[u]=cnt, to[cnt]=v;\n}\n\nbool dfs(int u){\n    for(int i=h[u]; i; i=nt[i]){\n        int v=to[i];\n        if(vis[v]==tim) continue;\n        vis[v]=tim;\n        if(!match[v]||dfs(match[v])){\n            match[v]=u; return true;\n        }\n    }\n    return false;\n}\n\nint solve(int Do){\n    rep(i, 1, cc) match[i]=0; rep(i, 1, bb) h[i]=0; cnt=0; int ans=0;\n\n    rep(i, 1, ncnt)if((Do&(1<<(a[i].x-1)))==0)link(a[i].y, a[i].z);\n\n    rep(i, 1, bb) tim++, ans+=dfs(i);\n\n    rep(i, 1, aa) ans+=(((Do)>>(i-1))&1);\n\n    return ans;\n}\n\nint solution(){\n    scanf(\"%d %d %d\", &aa, &bb, &cc);\n//    printf(\"%d %d %d\\n\", aa, bb, cc);\n    ncnt=0;\n    rep(i, 1, aa) rep(j, 1, bb) rep(k, 1, cc){\n        static int x; scanf(\"%d\", &x);\n        if(x==1) a[++ncnt]={i, j, k};\n    }\n\n    int mn=min(aa, min(bb, cc));\n    if(mn==bb) {swap(aa, bb); rep(i, 1, ncnt) swap(a[i].y, a[i].x);}\n    else\n    if(mn==cc) {swap(aa, cc); rep(i, 1, ncnt) swap(a[i].y, a[i].x);}\n\n    int ans=0x3f3f3f3f;\n    for(int i=0, j=(1<<aa)-1; i<=j; i++) ans=min(ans, solve(i));\n\n    printf(\"%d\\n\", ans);\n\n    return 0;\n}\n\nint main(){\n    int T;\n    scanf(\"%d\", &T);\n    while(T--)\n        solution();\n    return 0;\n}\n```",
        "postTime": 1684480722,
        "uid": 740607,
        "name": "__ODT__",
        "ccfLevel": 0,
        "title": "P3231"
    },
    {
        "content": "# \u9898\u76ee\u5927\u610f\n\n\u6700\u8fd1\u5728\u751f\u7269\u5b9e\u9a8c\u5ba4\u5de5\u4f5c\u7684\u5c0f $\\textbf T$ \u9047\u5230\u4e86\u5927\u9ebb\u70e6\u3002 \u7531\u4e8e\u5b9e\u9a8c\u5ba4\u6700\u8fd1\u5347\u7ea7\u7684\u7f18\u6545\uff0c\u4ed6\u7684\u5206\u683c\u5b9e\u9a8c\u76bf\u662f\u4e00\u4e2a\u957f\u65b9\u4f53\uff0c\u5176\u5c3a\u5bf8\u4e3a $a\\times b\\times c$\u3002\u4e3a\u4e86\u5b9e\u9a8c\u7684\u65b9\u4fbf\uff0c\u5b83\u88ab\u5212\u5206\u4e3a $a\\times b\\times c$ \u4e2a\u5355\u4f4d\u7acb\u65b9\u4f53\u533a\u57df\uff0c\u6bcf\u4e2a\u5355\u4f4d\u7acb\u65b9\u4f53\u5c3a\u5bf8\u4e3a $1\\times 1\\times 1$\uff0c\u5e76\u7528 $(i,j,k)$ \u6807\u8bc6\u4e00\u4e2a\u5355\u4f4d\u7acb\u65b9\u4f53\u3002\u8fd9\u4e2a\u5b9e\u9a8c\u76bf\u5df2\u7ecf\u5f88\u4e45\u6ca1\u6709\u4eba\u7528\u4e86\u3002\u73b0\u5728\uff0c\u5c0f $\\textbf T$ \u88ab\u5bfc\u5e08\u8981\u6c42\u5c06\u5176\u4e2d\u4e00\u4e9b\u5355\u4f4d\u7acb\u65b9\u4f53\u533a\u57df\u8fdb\u884c\u6d88\u6bd2\u64cd\u4f5c\uff08\u6bcf\u4e2a\u533a\u57df\u53ef\u4ee5\u88ab\u91cd\u590d\u6d88\u6bd2\uff09\u3002\n\n\u800c\u7531\u4e8e\u4e25\u683c\u7684\u5b9e\u9a8c\u8981\u6c42\uff0c\u4ed6\u88ab\u8981\u6c42\u4f7f\u7528\u4e00\u79cd\u7279\u5b9a\u7684 $\\textbf F$ \u8bd5\u5242\u6765\u8fdb\u884c\u6d88\u6bd2\u3002 \u8fd9\u79cd F \u8bd5\u5242\u7279\u522b\u5947\u602a\uff0c\u6bcf\u6b21\u5bf9\u5c3a\u5bf8\u4e3a $x\\times y\\times z$ \u7684\u957f\u65b9\u4f53\u533a\u57df\uff08\u5b83\u7531 $x\\times y\\times z$ \u4e2a\u5355\u4f4d\u7acb\u65b9\u4f53\u7ec4\u6210\uff09\u8fdb\u884c\u6d88\u6bd2\u65f6\uff0c\u53ea\u9700\u8981\u4f7f\u7528 $\\min(x,y,z)$ \u5355\u4f4d\u7684 $\\textbf F$ \u8bd5\u5242\u3002$\\textbf F$ \u8bd5\u5242\u7684\u4ef7\u683c\u4e0d\u83f2\uff0c\u8fd9\u53ef\u96be\u5012\u4e86\u5c0f $\\textbf T$\u3002\n\n\u73b0\u5728\u8bf7\u4f60\u544a\u8bc9\u4ed6\uff0c\u6700\u5c11\u8981\u7528\u591a\u5c11\u5355\u4f4d\u7684 $\\textbf F$ \u8bd5\u5242\u3002\n\n$1\\le a,b,c\\le 5\\times 10^3,a\\times b\\times c\\le 5\\times 10^3$\u3002\n\n# \u9898\u76ee\u5206\u6790\n\n\u5f53\u8fd9\u662f\u4e2a\u4e8c\u7ef4\u5e73\u9762\u65f6\uff0c\u6211\u4eec\u4e00\u5b9a\u662f\u4e00\u6761\u4e00\u6761\u5730\u67d3\u7684\uff0c\u56e0\u4e3a\u4e00\u6761\u4e00\u6761\u5730\u67d3\u53ef\u662f\u4f7f\u5f97 $\\min\\{x,y\\}=1$\u3002\u6240\u4ee5\u6211\u4eec\u7684\u95ee\u9898\u8f6c\u6362\u6210\u4e86\uff1a\n\n\u7ed9\u5b9a\u4e00\u4e2a\u4e8c\u7ef4\u5e73\u9762\uff0c\u5176\u4e2d\u6709\u4e00\u4e9b\u7279\u6b8a\u4f4d\u7f6e\uff0c\u9009\u6700\u5c11\u7684\u51e0\u884c\u6216\u51e0\u5217\u628a\u8fd9\u4e9b\u4f4d\u7f6e\u8986\u76d6\u4f4f\u3002\u8fd9\u5c31\u662f\u4e00\u4e2a\u6700\u5c0f\u70b9\u8986\u76d6\u95ee\u9898\uff0c\u6211\u4eec\u628a\u884c\u62c6\u6210\u5de6\u90e8\u70b9\uff0c\u5217\u62c6\u6210\u53f3\u90e8\u70b9\uff0c\u7279\u6b8a\u4f4d\u7f6e\u7684\u884c\u3001\u5217\u5750\u6807\u8fde\u8fb9\uff0c\u6700\u540e\u8dd1\u6700\u5c0f\u70b9\u8986\u76d6\u5373\u53ef\u3002\n\n\u4f46\u8fd9\u91cc\u662f\u4e09\u7ef4\u5e73\u9762\u3002\n\n\u6ce8\u610f\u5230 $1\\le a,b,c\\le 5\\times 10^3,a\\times b\\times c\\le 5\\times 10^3$\uff0c\u6240\u4ee5\u4e00\u5b9a\u6709 $1\\le \\min\\{a,b,c\\}\\le 17$\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u72b6\u538b\u679a\u4e3e $\\min$ \u8fd9\u4e00\u7ef4\u7684\u72b6\u6001\uff08$1$ \u8868\u793a\u76f4\u63a5\u5207\u6389\uff0c$0$ \u8868\u793a\u6682\u65f6\u7559\u7740\uff09\u3002\u5269\u4e0b\u7684\u6211\u4eec\u7528\u4e8c\u5411\u7b94\u628a\u5b83\u5e72\u6241\u770b\u6210\u4e8c\u7ef4\u5e73\u9762\u8dd1\u6700\u5c0f\u70b9\u8986\u76d6\u5373\u53ef\u3002\n\n# \u4ee3\u7801\n\n```cpp\n// Problem: P3231 [HNOI2013]\u6d88\u6bd2\n// Contest: Luogu\n// URL: https://www.luogu.com.cn/problem/P3231\n// Memory Limit: 125 MB\n// Time Limit: 1000 ms\n// Date:2022-06-10 21:17\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n#include <iostream>\n#include <cstdio>\n#include <climits>//need \"INT_MAX\",\"INT_MIN\"\n#include <cstring>//need \"memset\"\n#include <numeric>\n#include <algorithm>\n#include <cmath>\n#define enter putchar(10)\n#define debug(c,que) std::cerr << #c << \" = \" << c << que\n#define cek(c) puts(c)\n#define blow(arr,st,ed,w) for(register int i = (st);i <= (ed); ++ i) std::cout << arr[i] << w;\n#define speed_up() std::ios::sync_with_stdio(false),std::cin.tie(0),std::cout.tie(0)\n#define mst(a,k) memset(a,k,sizeof(a))\n#define stop return(0)\nconst int mod = 1e9 + 7;\ninline int MOD(int x) {\n\tif(x < 0) x += mod;\n\treturn x % mod;\n}\nnamespace Newstd {\n\tchar buf[1 << 21],*p1 = buf,*p2 = buf;\n\tinline int getc() {\n\t\treturn p1 == p2 && (p2 = (p1 = buf) + fread(buf,1,1 << 21,stdin),p1 == p2) ? EOF : *p1 ++;\n\t}\n\t#define getchar getc\n\tinline int read() {\n\t\tint ret = 0,f = 0;char ch = getchar();\n\t\twhile (!isdigit(ch)) {\n\t\t\tif(ch == '-') f = 1;\n\t\t\tch = getchar();\n\t\t}\n\t\twhile (isdigit(ch)) {\n\t\t\tret = (ret << 3) + (ret << 1) + ch - 48;\n\t\t\tch = getchar();\n\t\t}\n\t\treturn f ? -ret : ret;\n\t}\n\tinline double double_read() {\n\t\tlong long ret = 0,w = 1,aft = 0,dot = 0,num = 0;\n\t\tchar ch = getchar();\n\t\twhile (!isdigit(ch)) {\n\t\t\tif (ch == '-') w = -1;\n\t\t\tch = getchar();\n\t\t}\n\t\twhile (isdigit(ch) || ch == '.') {\n\t\t\tif (ch == '.') {\n\t\t\t\tdot = 1;\n\t\t\t} else if (dot == 0) {\n\t\t\t\tret = (ret << 3) + (ret << 1) + ch - 48;\n\t\t\t} else {\n\t\t\t\taft = (aft << 3) + (aft << 1) + ch - '0';\n\t\t\t\tnum ++;\n\t\t\t}\n\t\t\tch = getchar();\n\t\t}\n\t\treturn (pow(0.1,num) * aft + ret) * w;\n\t}\n\tinline void write(int x) {\n\t\tif(x < 0) {\n\t\t\tputchar('-');\n\t\t\tx = -x;\n\t\t}\n\t\tif(x > 9) write(x / 10);\n\t\tputchar(x % 10 + '0');\n\t}\n}\nusing namespace Newstd;\n\nconst int INF = 0x3f3f3f3f;\nconst int N = 5005,M = 18;\nstruct Graph {\n\tint v,nxt;\n} gra[N];\nint head[N],vis[N],mat[N],maps[3][N];\nbool exist[M];\nint T,a,b,c,siz,idx,nowidx,ans;\ninline void add(int u,int v) {\n\tgra[++ idx] = (Graph){v,head[u]},head[u] = idx;\n}\ninline void init() {\n\tsiz = 0,ans = INF;\n}\ninline bool dfs(int now) {\n\tfor (register int i = head[now];i;i = gra[i].nxt) {\n\t\tint v = gra[i].v;\n\t\tif (vis[v] != nowidx) {\n\t\t\tvis[v] = nowidx;\n\t\t\tif (!mat[v] || dfs(mat[v])) {\n\t\t\t\tmat[v] = now;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\ninline void hungary(int x) {\n\tfor (register int i = 1;i <= c; ++ i) vis[i] = mat[i] = 0;\n\tfor (register int i = 1;i <= idx; ++ i) gra[i] = (Graph){0,0};\n\tfor (register int i = 1;i <= b; ++ i) head[i] = 0;\n\tidx = nowidx = 0;\n\tint num = 0;\n\tfor (register int i = 0;i < a; ++ i) {\n\t\tif (x & (1 << i)) {\n\t\t\texist[i + 1] = false;\n\t\t\tnum ++;\n\t\t} else {\n\t\t\texist[i + 1] = true;\n\t\t}\n\t}\n\tfor (register int i = 1;i <= siz; ++ i) {\n\t\tif (exist[maps[0][i]]) {\n\t\t\tadd(maps[1][i],maps[2][i]);\n\t\t}\n\t}\n\tfor (register int i = 1;i <= b; ++ i) {\n\t\tnowidx ++;\n\t\tif (dfs(i)) num ++;\n\t}\n\tans = std::min(ans,num);\n}\ninline void solve() {\n\ta = read(),b = read(),c = read();\n\tfor (register int i = 1;i <= a; ++ i) {\n\t\tfor (register int j = 1;j <= b; ++ j) {\n\t\t\tfor (register int k = 1;k <= c; ++ k) {\n\t\t\t\tint x = read();\n\t\t\t\tif (!x) continue;\n\t\t\t\tmaps[0][++ siz] = i,maps[1][siz] = j,maps[2][siz] = k;\n\t\t\t}\n\t\t}\n\t}\n\tint minn = std::min(a,std::min(b,c));\n\tif (minn == b) {\n\t\tstd::swap(a,b),std::swap(maps[0],maps[1]);\n\t} else if (minn == c) {\n\t\tstd::swap(a,c),std::swap(maps[0],maps[2]);\n\t}\n\tfor (register int i = 0;i < (1 << a); ++ i) hungary(i);\n\tprintf(\"%d\\n\",ans);\n}\nint main(void) {\n\tT = read();\n\twhile (T --) {\n\t\tinit();\n\t\tsolve();\n\t}\n\t\n\treturn 0;\n}\n```",
        "postTime": 1654987981,
        "uid": 430409,
        "name": "Coros_Trusds",
        "ccfLevel": 6,
        "title": "P3231 [HNOI2013]\u6d88\u6bd2"
    },
    {
        "content": "\u5982\u679c\u53ea\u6709\u4e24\u7ef4\uff0c\u90a3\u5c31\u662f\u4e8c\u5206\u56fe\u6700\u5c0f\u70b9\u8986\u76d6\n\n\u73b0\u5728\u662f\u4e09\u7ef4\uff0c\u4f46\u662fa*b*c<=5000\uff0c\u8bf4\u660e\u6700\u5c0f\u7684\u90a3\u4e00\u7ef4\u4e0d\u4f1a\u8d85\u8fc717\n\n\u5c06\u6700\u5c0f\u7684\u90a3\u4e00\u7ef4\u4f5c\u4e3a\u6b63\u65b9\u5f62\u7684\u9ad8\n\n\u7136\u540e\u679a\u4e3e\u8981\u6d88\u54ea\u4e9b\u5c42\uff0c\u5269\u4e0b\u7684\u5c42\u770b\u6210\u4e00\u5c42 \u505a\u6700\u5c0f\u70b9\u8986\u76d6\n\n\u6ce8\u610f\u5361\u5e38\n\n\n```\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n\nusing namespace std;\n\n#define N 5001\n\nstruct node\n{\n    int i,j,k;\n}e[N];\n\nbool have[18];\n\nint front[N],to[N],nxt[N],tot;7\n\nint match[N];\nint tim,vis[N];\n\nvoid read(int &x)\n{\n    x=0; char c=getchar();\n    while(!isdigit(c)) c=getchar();\n    while(isdigit(c)) { x=x*10+c-'0'; c=getchar(); }\n}\n\nbool go(int u)\n{\n    int v;\n    for(int i=front[u];i;i=nxt[i])\n    {\n        v=to[i];\n        if(vis[v]!=tim)\n        {\n            vis[v]=tim;\n            if(!match[v] || go(match[v])) \n            {\n                match[v]=u;\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nint count(int x)\n{\n    int sum=0;\n    while(x) sum+=x&1,x>>=1;\n    return sum;\n}\n\nvoid add(int u,int v)\n{\n    to[++tot]=v; nxt[tot]=front[u]; front[u]=tot;\n}\n\nint main()\n{\n    int T,a,b,c;\n    int ty,x;\n    int S,cnt; bool tag;\n    int ans,now;\n    read(T);\n    while(T--)\n    {\n        read(a); read(b); read(c);\n        if(a<=b && a<=c) ty=1;\n        else if(b<=a && b<=c) ty=2;\n        else ty=3;\n        memset(have,false,sizeof(have));\n        cnt=0;\n        for(int i=1;i<=a;++i)\n            for(int j=1;j<=b;++j)\n                for(int k=1;k<=c;++k)\n                {\n                    read(x);\n                    if(!x) continue;\n                    cnt++;\n                    if(ty==1) e[cnt].i=i,e[cnt].j=j,e[cnt].k=k;\n                    if(ty==2) e[cnt].i=j,e[cnt].j=i,e[cnt].k=k;\n                    if(ty==3) e[cnt].i=k,e[cnt].j=i,e[cnt].k=j;\n                    have[e[cnt].i]=true;\n                }\n        if(ty==2) swap(a,b);\n        else if(ty==3) swap(b,c),swap(a,b);\n        ans=a;\n        S=1<<a;\n        for(int s=0;s<S;++s)\n        {\n            tag=true;\n            for(int i=1;i<=a && tag;++i)\n                if(1<<i-1&s && !have[i]) tag=false;\n            if(!tag) continue;\n            now=count(s);\n            tot=0;\n            memset(front,0,sizeof(*front)*(b+1));\n            for(int i=1;i<=cnt;++i)\n                if(!(1<<e[i].i-1&s)) add(e[i].j,e[i].k);\n            memset(match,0,sizeof(*match)*(c+1));\n            for(int i=1;i<=b;++i)\n            {\n                tim++;\n                if(go(i)) now++;\n                if(now>=ans) break;\n            }\n            ans=ans<=now ? ans : now;\n        }\n        printf(\"%d\\n\",ans);\n    }\n}\n```\n",
        "postTime": 1561341331,
        "uid": 111289,
        "name": "Ryan_",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P3231 \u3010[HNOI2013]\u6d88\u6bd2\u3011"
    },
    {
        "content": "\u5f31\u5316\u4e00\u4e0b\uff0c\u5148\u8003\u8651\u5728\u4e8c\u7ef4\u4e0a\u89e3\u51b3\u95ee\u9898\u3002\n\n\u9898\u76ee\u5c31\u8f6c\u5316\u4e3a\uff1a\u6709 $n$ \u4e2a\u70b9 $(i, j)$ \u9700\u8981\u88ab\u8986\u76d6\uff0c\u800c\u6211\u4eec\u6bcf\u6b21\u53ef\u4ee5\u9009\u4e00\u884c\u6216\u4e00\u5217\u53bb\u8986\u76d6\uff0c\u6c42\u8986\u76d6\u6240\u6709\u70b9\u7684\u6700\u5c11\u9009\u62e9\u6b21\u6570\u3002\n\n\u5982\u679c\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $(i, j)$\uff0c\u6211\u4eec\u628a\u7b2c $i$ \u884c\u548c\u7b2c $j$ \u5217\u8fde\u8fb9\uff0c\u663e\u7136\u80fd\u6784\u6210\u4e00\u5f20\u4e8c\u5206\u56fe\u3002\n\n\u56fe\u4e2d\u6bcf\u4e00\u6761\u8fb9\u5c31\u662f\u4e00\u4e2a\u9700\u6c42\uff0c\u800c\u6bcf\u9009\u62e9\u4e00\u4e2a\u70b9\u5c31\u80fd\u89e3\u51b3\u6389\u6240\u6709\u4e0e\u4e4b\u76f8\u8fde\u7684\u9700\u6c42\uff0c\u7b54\u6848\u5c31\u662f\u89e3\u51b3\u6240\u6709\u9700\u6c42\u6700\u5c11\u9700\u8981\u9009\u62e9\u7684\u70b9\u6570\u3002\u8fd9\u5c31\u662f\u4e8c\u5206\u56fe\u4e0a\u7684\u6700\u5c0f\u70b9\u8986\u76d6\u95ee\u9898\u3002\n\n\u7b54\u6848\u5373\u4e3a\u6700\u5927\u5339\u914d\u6570\u3002\n\n\u73b0\u5728\u52a0\u5165\u4e09\u7ef4\u3002\u56e0\u4e3a $a, b, c \\leq 5 \\times 10 ^ 3$\uff0c\u6240\u4ee5 $\\min \\{a, b, c\\} \\leq 13$\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u7528\u6700\u591a $2^{13}$ \u7684\u65f6\u95f4\u53bb\u679a\u4e3e\u5176\u4e2d\u4e00\u7ef4\u7684\u9009\u62e9\uff0c\u5373\u679a\u4e3e\u8fd9\u4e00\u7ef4\u4e0a\u6211\u4eec\u9009\u62e9\u54ea\u51e0\u6761\u57fa\u51c6\u7ebf\u5148\u76f4\u63a5\u8986\u76d6\u3002\n\n\u90a3\u4e48\u5269\u4e0b\u7684\u5c31\u662f\u4e4b\u524d\u7684\u4e8c\u7ef4\u505a\u6cd5\u4e86\u3002\u6ce8\u610f\u6bcf\u6b21\u679a\u4e3e\u7684\u65f6\u5019\u5e94\u8be5\u679a\u4e3e\u6700\u5c0f\u7684\u90a3\u4e00\u4f4d\uff0c\u8fd9\u6837\u624d\u80fd\u4fdd\u8bc1\u590d\u6742\u5ea6\u3002\n\n\u4e8c\u5206\u56fe\u6700\u5927\u5339\u914d\u4f7f\u7528\u5308\u7259\u5229\u7b97\u6cd5\uff0c\u5728\u63a5\u8fd1\u5b8c\u5168\u56fe\u7684\u56fe\u4e2d\u6027\u80fd\u76f8\u6bd4\u4e8e Dinic \u4f1a\u8f83\u597d\u3002\n\n```cpp\n#include <cstdio>\n\nint Abs(int x) { return x < 0 ? -x : x; }\nint Max(int x, int y) { return x > y ? x : y; }\nint Min(int x, int y) { return x < y ? x : y; }\n\nint read() {\n    int x = 0, k = 1;\n    char s = getchar();\n    while(s < '0' || s > '9') {\n        if(s == '-')\n            k = -1;\n        s = getchar();\n    } \n    while('0' <= s && s <= '9') {\n        x = (x << 3) + (x << 1) + (s ^ 48);\n        s = getchar();\n    }\n    return x * k;\n}\n\nvoid write(int x) {\n    if(x < 0) {\n        x = -x;\n        putchar('-');\n    }\n    if(x > 9)\n        write(x / 10);\n    putchar(x % 10 + '0');\n}\n\nvoid print(int x, char s) {\n    write(x);\n    putchar(s);\n}\n\nconst int MAXN = 5e3 + 5;\nconst int MAXM = 2e5 + 5;\nconst int MAXL = 5e3 + 5;\nconst int INF = 2147483647;\n\n    struct edge {\n        int v, w, nxt;\n        edge() {}\n        edge(int V, int W, int Nxt) {\n            v = V, w = W, nxt = Nxt;\n        }\n    } e[MAXM << 1];\n    int head[MAXN], n, m, cnt;\n    void Add_Edge(int u, int v, int w) { \n        e[cnt] = edge(v, w, head[u]);\n        head[u] = cnt++;\n    }\n    bool Chose[MAXM << 1];\n    int Mat[MAXN], Tim[MAXN], tot;\n\n    void init(int N, int M) {\n        for(int i = 0; i <= cnt; i++)  \n            Chose[i] = false;\n        n = N, m = M;\n        for(int i = 1; i <= n; i++) \n            head[i] = -1, Tim[i] = 0, Mat[i] = 0;\n        cnt = 0, tot = 0;\n    }\n\n    bool dfs(int u) {\n        if (Tim[u] == tot)\n            return false;        \n        Tim[u] = tot;\n        for (int i = head[u], v; ~i; i = e[i].nxt) {\n            if(Chose[e[i].w])\n                continue;\n            v = e[i].v;\n            if (!Mat[v] || dfs(Mat[v])) {\n                Mat[v] = u;\n                return true;\n            }\n        }\n        return false;\n    }\n\n    int calc() {\n        int ans = 0;\n        for (int i = 1; i <= m; i++)\n            Mat[i] = 0;\n        for (int i = 1; i <= n; i++)\n            Tim[i] = 0;\n        for (int i = n; i >= 1; i--) {\n            tot++;\n            ans += dfs(i);\n        }\n        return ans;\n    }    \n\nbool vis[MAXN];\nint q[MAXN], pos[5], len = 0, ans = INF, tot2 = 0, S, T;\n\nvoid dfs2(int p) {\n    if(p > pos[1]) {\n        ans = Min(ans, calc() + tot2);\n        return ;\n    }\n    Chose[p] = true;\n    tot2++;\n    dfs2(p + 1);\n    Chose[p] = false;    \n    tot2--;\n    dfs2(p + 1);\n}\n\nint main() {\n    int t = read();\n    while(t--) {\n        for(int i = 1; i <= 3; i++) \n            pos[i] = read();\n        if(pos[1] > pos[2])\n            pos[1] ^= pos[2] ^= pos[1] ^= pos[2];\n        if(pos[2] > pos[3])\n            pos[2] ^= pos[3] ^= pos[2] ^= pos[3];\n        if(pos[1] > pos[2])\n            pos[1] ^= pos[2] ^= pos[1] ^= pos[2];\n        init(pos[2], pos[3]);\n        len = 0, ans = INF, tot = 0;\n        for(int i = 1, j, k, p; i <= pos[1]; i++) \n            for(j = 1; j <= pos[2]; j++)\n                for(k = 1; k <= pos[3]; k++) {\n                    p = (i - 1) * pos[2] * pos[3] + (j - 1) * pos[3] + k;\n                    q[p] = read();\n                    if(q[p]) \n                        Add_Edge(j, k, i);                       \n                }      \n        dfs2(1);\n        print(ans, '\\n');\n    }\n    return 0;\n}\n```",
        "postTime": 1641170985,
        "uid": 266779,
        "name": "STrAduts",
        "ccfLevel": 6,
        "title": "\u300cHNOI2013\u300d\u6d88\u6bd2"
    }
]