[
    {
        "content": "# \u5e76\u67e5\u96c6+\u6700\u5c0f\u751f\u6210\u6811\u7b97\u6cd5\n#### \u9898\u76ee\u8981\u6c42\u6700\u5927\u503c\u6700\u5c0f\u5316\uff0c\u6ee1\u8db3\u6700\u5c0f\u751f\u6210\u6811\u7684\u6027\u8d28\n\n\n------------\n### Details\n\n**1.** \u5efa\u56fe\u3002\u9664\u8fb9\u7f18\u5916\u7684\u6bcf\u4e2a\u70b9\u5747\u53ef\u4ee5\u5411**\u4e0a\u4e0b\u5de6\u53f3**\u56db\u4e2a\u65b9\u5411\u8fde\u8fb9\uff0c\u70b9\u7684\u7f16\u53f7\u53ef\u8868\u793a\u4e3a:       _n*(i-1)+j_ (i\u4e3a\u884c,j\u4e3a\u5217)\n\n\u5b9e\u73b0\u4ee3\u7801\uff1a\n\n```cpp\nint ex(int i,int j){\n\treturn (i-1)*n+j;\n}\n```\n\u8fb9\u7684\u6743\u503c\u5373\u4e3a\u4e24\u70b9\u9ad8\u5ea6\u5dee\u7684**\u7edd\u5bf9\u503c**\n\n\n**2.** \u5982\u4f55\u7ef4\u62a4\u96c6\u5408\u7684\u5927\u5c0f\u3002\u521d\u59cb\u5316\u5c06size\u5168\u8bbe\u4e3a1\uff0c\u540e\u7eed\u518d\u8fdb\u884c\u5408\u5e76\u64cd\u4f5c(merge)\u65f6\uff0c\u5c06\u65e7\u7684\u96c6\u5408\u7684\u5927\u5c0f\u66f4\u65b0\u5230\u65b0\u7684\u96c6\u5408\u4e0a\u3002\u5728\u65b0\u7684\u96c6\u5408\u5927\u5c0f**\u5927\u4e8e**(n*n)/2\u65f6\uff0c\u8f93\u51fa\u5f53\u524d\u8fb9\u7684\u6743\u503c\u5373\u53ef\u3002\n\n\u5b9e\u73b0\u4ee3\u7801\uff1a\n```cpp\nx=find(x);//find\u51fd\u6570\u662f\u4e3a\u4e86\u627e\u7236\u4eb2\ny=find(y);\nif(x!=y){\n\tfa[x]=y;\n\tsiz[y]+=siz[x];\n\tif(siz[y]>=(n*n+1)/2){\n\t\tcout<<w<<endl;\n\t\treturn 0;\n\t}\n}\n```\n**3.** \u6700\u5c0f\u751f\u6210\u6811Kruskal \u4e0d\u89e3\u91ca\n\n\u4e0d\u4f1a\u7684\u53ef\u4ee5\u627e\u6a21\u677f\u9898[P3366 \u3010\u6a21\u677f\u3011\u6700\u5c0f\u751f\u6210\u6811](https://www.luogu.com.cn/problem/P3366)\n\n### \u6700\u540e\u9001\u4e0a\u4ee3\u7801\uff0c\u795d\u5404\u4f4d~~\u6c34\u9898~~\u5207\u9898\u6109\u5feb\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=501;\nint n;\nint mp[maxn][maxn];\ninline int read(){//\u5feb\u8bfb\n\tint x=0,y=1;\n\tchar ch=getchar();\n\twhile(!isdigit(ch)){if(ch=='-')y=-y; ch=getchar();}\n\twhile(isdigit(ch)){x=(x<<3)+(x<<1)+ch-'0';ch=getchar();}\n\treturn x*y;\n}\nint fa[maxn*maxn];\nint siz[maxn*maxn];\nstruct node{\n\tint u,v,w;\n\tnode(){}\n\tnode(int uu,int vv,int ww){\n\t\tu=uu;\n\t\tv=vv;\n\t\tw=ww;\n\t}\n}edge[maxn*maxn*4];\nbool cmp(const node &a,const node &b){\n\treturn a.w<b.w;\n}\nint ans=0;\nvoid init(){\n\tfor(int i=1;i<=n*n;i++){\n\t\tfa[i]=i;\n\t\tsiz[i]=1;\n\t}\n}\nint find(int x){\n\tif(x==fa[x]) return x;\n\telse return fa[x]=find(fa[x]);\n}\nint ex(int i,int j){\n\treturn (i-1)*n+j;\n}\nint main(){\n\tn=read();\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=1;j<=n;++j){\n\t\t\tmp[i][j]=read();\n\t\t}\n\t}\n\tinit();\n\tint tp=1;\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=1;j<=n;++j){\n\t\t\tif(i>1){\n\t\t\t\tedge[tp]=node(ex(i,j),ex(i-1,j),abs(mp[i-1][j]-mp[i][j]));\n\t\t\t\ttp++;\n\t\t\t}\n\t\t\tif(j>1){\n\t\t\t\tedge[tp]=node(ex(i,j),ex(i,j-1),abs(mp[i][j-1]-mp[i][j]));\n\t\t\t\ttp++;\n\t\t\t}\n\t\t\tif(i<n){\n\t\t\t\tedge[tp]=node(ex(i,j),ex(i+1,j),abs(mp[i+1][j]-mp[i][j]));\n\t\t\t\ttp++;\n\t\t\t}\n\t\t\tif(j<n){\n\t\t\t\tedge[tp]=node(ex(i,j),ex(i,j+1),abs(mp[i][j+1]-mp[i][j]));\n\t\t\t\ttp++;\n\t\t\t}\n\t\t}\n\t}\n\tsort(edge+1,edge+tp,cmp);\n\tfor(int i=1;i<tp;i++){\n\t\tint x=edge[i].u;\n\t\tint y=edge[i].v;\n\t\tint w=edge[i].w;\n\t\tx=find(x);\n\t    y=find(y);\n\t    if(x!=y){\n\t\t    fa[x]=y;\n\t\t    siz[y]+=siz[x];\n\t\t    if(siz[y]>=(n*n+1)/2){\n\t\t\t    cout<<w<<endl;\n\t\t\t    return 0;\n\t\t    }\n\t    }\n\t}\n}\n```\n\n _\u5199\u9898\u89e3\u4e0d\u6613\uff0c\u6c42\u4e2a\u8d5e_ ",
        "postTime": 1583072163,
        "uid": 144379,
        "name": "daihang",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P3073 \u3010[USACO13FEB]Tractor S\u3011"
    },
    {
        "content": "# \u9898\u76ee\u5927\u610f\n\n[\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/P3073)\n\n\u8ba9 $Farmer John$ \u5728\u82b1\u8d39\u4ee3\u4ef7\u6700\u5c0f\u7684\u60c5\u51b5\u4e0b\u9a76\u8fc7\u519c\u573a\u7684\u4e00\u534a\uff0c\u800c\u4ee3\u4ef7\u4e3a\u6240\u7ecf\u8fc7\u6700\u5927\u7684\u9ad8\u5ea6\u5dee\u3002\n\n# \u601d\u8def\n\n\u7531\u4e8e\u9898\u76ee\u7684\u8f93\u5165\u4e3a\u8054\u901a\u5757\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u7528 $DFS$ \u89e3\u9898\u3002 [\u8fd9\u91cc\u662f\u4e00\u9053\u76f8\u8fd1\u7684\u57fa\u7840 $DFS$ \u8054\u901a\u5757\u9898\u76ee\u3002](https://www.luogu.com.cn/problem/P1596) \u5927\u4f53\u601d\u8def\u5c31\u662f\u6807\u8bb0\u8d70\u8fc7\u7684\u683c\u5b50\uff0c\u800c\u5c0f\u4e8e\u4e4b\u524d\u6700\u5c0f\u7684\u9ad8\u5ea6\u5dee\u90fd\u662f\u540c\u4e00\u5757\u4e2d\u7684\uff0c\u6700\u540e\u7edf\u8ba1\u8d70\u8fc7\u7684\u6240\u6709\u683c\u5b50\u3002\n\n## \u65b9\u6cd5\u4e00\n\n\u66b4\u529b $DFS$\n\n```cpp\nint xpos[]={0,0,1,0,-1},ypos[]={0,1,0,-1,0};//\u641c\u7d22\u4e0a\u4e0b\u5de6\u53f3\nint dfs(int x,int y,int d){\n\tint sum=1;//\u8bb0\u5f55\u8d70\u8fc7\u7684\u683c\u5b50\n\tflag[x][y]=1;\n\tfor(int i=1;i<=4;i++){\n\t\tint px=x+xpos[i];\n\t\tint py=y+ypos[i]; \n\t\tif(abs(mapp[x][y]-mapp[px][py])<=d/*\u9ad8\u5ea6\u5dee\u5c0f\u4e8ed* /&&px>=1&&py>=1&&px<=n&&py<=n/*\u672a\u53d1\u751f\u6570\u7ec4\u8d8a\u754c* /&&!flag[px][py]/*\u672a\u88ab\u6807\u8bb0* /){\n\t\t\tsum+=dfs(px,py,d);//\u81ea\u5df1\u8c03\u7528\u81ea\u5df1 \n\t\t} \n\t}\n\treturn sum;\n}\n```\n\n\u4e4b\u540e\u5c31\u662f\u66b4\u529b\u90e8\u5206\u3002\n\n```cpp\nbool chkans(int x){//\u5224\u65ad\u7b54\u6848\u662f\u5426\u7b26\u5408\u8981\u6c42 \n\tmemset(flag,0,sizeof(flag));//\u6e05\u7a7a\u6807\u8bb0 \n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(!flag[i][j]&&dfs(i,j,x)*2>=n*n){\n\t\t\t\treturn 1;//\u7b26\u5408\u8981\u6c42\uff0c\u8fd4\u56de true \n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n```\n```cpp\nint ans=1;\nwhile(ans++){\n\tif(chkans(ans))break;\n}\n```\n\n### \u5f97\u5206 $10pts$ \u5269\u4e0b\u5168\u90e8\u8d85\u65f6\u3002\n\n## \u65b9\u6cd5\u4e8c\n\n$DFS+$ \u4e8c\u5206\n\n\u5927\u4f53\u601d\u8def\u5dee\u4e0d\u591a\uff0c\u4e8c\u5206\u4ee3\u7801\uff1a\n\n```cpp\nwhile(l<=r){\n\tint mid=(l+r)/2;\n\tif(chkans(mid)==1){\n\t\tr=mid-1,ans=mid;\n\t}\n\telse{\n\t\tl=mid+1;\n\t}\n}\n```\n\n\u5176\u4e2d $l r$ \u53ef\u4ee5\u5728\u8f93\u5165 `mapp` \u65f6\u7ebf\u6027\u66f4\u65b0\u3002 \n\n```cpp\nfor(int i=1;i<=n;i++){\n\tfor(int j=1;j<=n;j++){\n\t\tcin>>mapp[i][j];\n\t\tl=min(mapp[i][j],l);\n\t\tr=max(mapp[i][j],r);//\u7ebf\u6027\u66f4\u65b0 \n\t}\n}\n``` \n\u4f46\u662f\u6ce8\u610f\uff0c $l r$ \u521d\u59cb\u503c\u8981\u8d4b\u3002\n\n\u5b8c\u6574\u4ee3\u7801\uff1a \n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define MAXN 1145140\n#define MINN -1\nusing namespace std;\nint n,l=MAXN,r=MINN;\nint xpos[]={0,0,1,0,-1},ypos[]={0,1,0,-1,0};\nmap<int,int> mm;\nbool flag[1001][1001];\nint mapp[1001][1001];\nint dfs(int x,int y,int d){\n\tint sum=1;\n\tflag[x][y]=1;\n\tfor(int i=1;i<=4;i++){\n\t\tint px=x+xpos[i];\n\t\tint py=y+ypos[i];\n\t\tif(abs(mapp[x][y]-mapp[px][py])<=d&&px>=1&&py>=1&&px<=n&&py<=n&&!flag[px][py])sum+=dfs(px,py,d);\n\t}\n\treturn sum;\n}\nbool chkans(int x){\n\tmemset(flag,0,sizeof(flag));\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(!flag[i][j]&&dfs(i,j,x)*2>=n*n){\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\nsigned main(){\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tcin>>mapp[i][j];\n\t\t\tl=min(mapp[i][j],l);\n\t\t\tr=max(mapp[i][j],r);\n\t\t}\n\t}\n\tint ans=1;\n\twhile(l<=r){\n\t\tint mid=(l+r)/2;\n\t\tif(chkans(mid)==1){\n\t\t\tr=mid-1,ans=mid;\n\t\t}\n\t\telse{\n\t\t\tl=mid+1;\n\t\t}\n\t}\n\tcout<<ans;\n}\n```\n\u671b\u8fc7\u5ba1\u6838\uff0c\u8c22\u8c22\uff08\uff08\uff08 ",
        "postTime": 1611883008,
        "uid": 352464,
        "name": "JJA_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3073"
    },
    {
        "content": "\u4e0d\u8981\u7406\u4f1a\u6807\u7b7e\u91cc\u7684\u201c\u7ebf\u6bb5\u6811\u201d\u548c\u201c\u80cc\u5305\u201d\uff0c\u90fd\u662f\u5047\u7684QAQ\n\n\u4ee5\u76f8\u90bb\u4e24\u70b9\u4e4b\u5dee\u4e3a\u8fb9\u6743\u5efa\u56fe\u3002\u7136\u540e\u8dd1<\u4f2a>\u6700\u5c0f\u751f\u6210\u6811\uff0c\u7ef4\u62a4\u5e76\u67e5\u96c6\u5927\u5c0f\uff0c\u5f53\u6700\u5927\u503c\u5927\u4e8e\u70b9\u6570\u4e00\u534a\u65f6\u8f93\u51fa\u5f53\u524d\u8fb9\n\n```c++\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\n\nconst int inf  =0x7fffffff;\nconst int maxn =250010;\nconst int maxm =1000010;\nconst int maxl =505;\n\nint node[maxl][maxl];\nint fa[maxn];\nint size[maxn];\nint n, m, sum, ans, maxsize, maxi;\n\nstruct road {\n\tint st;\n\tint en;\n\tint l;\n}r[maxm];\n\nbool operator<(road a, road b){\n\treturn a.l<b.l;\n}\n\nbool operator>(road a, road b){\n\treturn a.l>b.l;\n}\n\nint find(int a){\n\tif(fa[a] == a)return a;\n\tfa[a]=find(fa[a]);\n\treturn fa[a];\n} \n\nvoid add(int a,int b){\n\tint faa, fab;\n\tfaa=find(a);\n\tfab=find(b);\n\tfa[fab]=faa;\n\tsize[faa]+=size[fab];\n\tif(size[faa] > maxsize) {\n\t\tmaxsize=size[faa];\n\t\tmaxi=faa;\n\t}\n\treturn;\n}\n\nint main() {\n\t\n\tint i, j, ii, ta, tb, tc, minn, mint, mi, mj;\n\tint zi[4]={0, 1}, zj[4]={1, 0};\n\troad t;\n\t\n\tscanf(\"%d\", &n);\n\t\n\tfor(i=1; i <= n*n; i++)\n\t\tfa[i]=i, size[i]=1;\n\t\n\tfor(i=1; i <= n; i++)\n\t\tfor(j=1; j <= n; j++)\n\t\t\tscanf(\"%d\", &node[i][j]);\n\t\n\tm=0;\n\tfor(i=1; i <= n; i++)\n\t\tfor(j=1; j <= n; j++) {\n\t\t\tfor(ii=0; ii <= 1; ii++){\n\t\t\t\tmi=i+zi[ii];\n\t\t\t\tmj=j+zj[ii];\n\t\t\t\tif(mi > n || mj > n) continue;\n\t\t\t\t\n\t\t\t\tm++;\n\t\t\t\tr[m].st = ( i-1)*n+ j;\n\t\t\t\tr[m].en = (mi-1)*n+mj;\n\t\t\t\tr[m].l  = abs(node[i][j] - node[mi][mj]);\n\t\t\t}\n\t\t}\n\t\n\tsort(r+1,r+1+m);\n\t\n\tmaxsize=0;\n\ti=0;\n\tn=n*n;\n\twhile(maxsize < n/2){\n\t\ti++;\n\t\tif(i>m)break;\n\t\tt=r[i];\n\t\tta=t.en;\n\t\ttb=t.st;\n\t\t\n\t\tif(find(ta)==find(tb))continue;\n\t\t\n\t\tadd(ta, tb);\n\t}\n\t\n\tprintf(\"%d\\n\", t.l);\n\treturn 0;\n}\n```",
        "postTime": 1533435461,
        "uid": 18883,
        "name": "CR_Raphael",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3073 \u3010[USACO13FEB]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "[\u539f\u9898\u94fe\u63a5](https://www.luogu.org/problemnew/show/P3073)\n\n**\u4e00\u9053\u4e8c\u5206\u7b54\u6848\u7684\u597d\u9898\u3002**\n---\n\n\u601d\u8def\uff1a**dfs+\u4e8c\u5206\u7b54\u6848**\n\n\u7531\u4e8e\u9898\u76ee\u8981\u6c42\u7684\u662f\u6700\u5927\u503c\u6700\u5c0f\u5316\uff0c\u6240\u4ee5\u5f88\u5bb9\u6613\u60f3\u5230\u4e8c\u5206\u7b54\u6848\u3002\n\n\u8981\u7528\u4e8c\u5206\u7b54\u6848\uff0c\u5c31\u8981\u5199$check$\u51fd\u6570\u3002\n\n\u600e\u4e48\u5199$check$\u51fd\u6570\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u7ed3\u5408$dfs$.\n\n\u5177\u4f53\u8bf7\u770b\u4ee3\u7801\uff1a\n```cpp\nint n,a[wlxsq][wlxsq],ans;\nbool vis[wlxsq][wlxsq];   //\u6807\u8bb0\nint dfs(int x,int y,int k)\n//dfs\u8fd4\u56de\u4e00\u4e2aint,\u8868\u793a\u5728k\u9ad8\u5ea6\u4e0b\u80fd\u5230\u8fbe\u7684\u683c\u6570\n{\n    vis[x][y]=1;\n    int res=1;\n    For(i,0,3)\n    {\n        int xx=x+dx[i],yy=y+dy[i];\n        if(xx>0&&yy>0&&xx<=n&&yy<=n&&!vis[xx][yy]&&abs(a[xx][yy]-a[x][y])<=k)\n            res+=dfs(xx,yy,k);\n    }\n    return res;\n}\n//\u4e8c\u5206\u7b54\u6848 check\u51fd\u6570\nbool check(int k)\n{\n    memset(vis,0,sizeof vis);//\u6807\u8bb0\u6e05\u96f6\n    For(i,1,n)\n        For(j,1,n)\n            if(!vis[i][j])\n                if(dfs(i,j,k)*2>=n*n)\n                //\u8d85\u8fc7\u4e00\u534a\uff0c\u7b26\u5408\u8981\u6c42\n                \treturn 1;\n    return 0;\n}\n```\n\u63a5\u4e0b\u6765\u5c31\u662f\u4e8c\u5206\u7b54\u6848\u3002\n\n\u6211\u628a\u4e8c\u5206\u7b54\u6848\u7684$l$\u8bbe\u4e3a\u77e9\u9635\u4e2d\u6700\u5c0f\u503c\uff0c$r$\u8bbe\u4e3a\u77e9\u9635\u4e2d\u6700\u5927\u503c\uff0c\u7136\u540e\u4e8c\u5206\u7b54\u6848\n```cpp\nint l=1e6,r=-1,ans;\nFor(i,1,n)\n    For(j,1,n){\n       \ta[i][j]=read();\n        r=max(r,a[i][j]);\n        l=min(l,a[i][j]);\n    }\nwhile(l<=r)\n{\n    int mid=(l+r)>>1;\n    if(check(mid))r=mid-1,ans=mid;\n    \t//\u7b26\u5408\uff0c\u8bbe\u7f6eans\u4e0e\u53f3\u533a\u95f4\n    else l=mid+1;\n}\nprintf(\"%d\",ans);\n```\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a\u4e8c\u5206\u7b54\u6848\u662f$O(log m)$,m\u4e3a\u7b54\u6848\u8303\u56f4;$dfs$\u4e3a$O(n^2)$\n\n\u6240\u4ee5\u603b\u5171\u662f$O(n^2 log m)$\n\n**\u5b8c\u6574AC\u4ee3\u7801\uff1a**\n```cpp\n#include<bits/stdc++.h>\n#define For(i,a,b) for(register int i=(a);i<=(b);++i)\n#define Rep(i,a,b) for(register int i=(a);i>=(b);--i)\nusing namespace std;\n#define TP int\ninline TP read(){//\u5feb\u8bfb\n    char c=getchar();TP x=0;bool f=0;\n    while(!isdigit(c))f^=!(c^45),c=getchar();\n    while(isdigit(c))x=(x<<1)+(x<<3)+(c^48),c=getchar();\n    if(f)x=-x;return x;\n}\nconst int wlxsq=505;\nconst int dx[]={0,1,0,-1},dy[]={1,0,-1,0};\nint n=read(),a[wlxsq][wlxsq],l=1e6,r=-1,ans;\nbool vis[wlxsq][wlxsq];\nint dfs(int x,int y,int k)\n{\n    vis[x][y]=1;\n    int res=1;\n    For(i,0,3)\n    {\n        int xx=x+dx[i],yy=y+dy[i];\n        if(xx>0&&yy>0&&xx<=n&&yy<=n&&!vis[xx][yy]&&abs(a[xx][yy]-a[x][y])<=k)\n            res+=dfs(xx,yy,k);\n    }\n    return res;\n}\nbool check(int k)\n{\n    memset(vis,0,sizeof vis);\n    For(i,1,n)\n        For(j,1,n)\n            if(!vis[i][j])\n                if(dfs(i,j,k)*2>=n*n)\n                \treturn 1;\n    return 0;\n}\nint main()\n{\n    For(i,1,n)\n        For(j,1,n){\n        \ta[i][j]=read();\n        \tr=max(r,a[i][j]);\n        \tl=min(l,a[i][j]);\n        }\n    while(l<=r)\n    {\n        int mid=(l+r)>>1;\n        if(check(mid))r=mid-1,ans=mid;\n        else l=mid+1;\n    }\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1555306010,
        "uid": 151935,
        "name": "Rainbow_qwq",
        "ccfLevel": 0,
        "title": "P3073 \u3010[USACO13FEB]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "# \u4e8c\u5206\u7b54\u6848+dfs\n**\u7b97\u6cd5\u5206\u6790**\n\n\u9996\u5148\uff0c\u9898\u76ee\u7406\u89e3\u4e00\u4e0b\u53ef\u4ee5\u77e5\u9053\u662f\u6c42\u6700\u5927\u9ad8\u5ea6\u5dee\u7684\u6700\u5c0f\u503c\u3002\n\n\u201c\u6700\u5927\u503c\u6700\u5c0f\u201d\u201c\u6700\u5c0f\u503c\u6700\u5927\u201d\u8fd9\u4e00\u7c7b\u5927\u5bb6\u5e94\u8be5\u90fd\u89c1\u8fc7\uff0c\u662f\u4e8c\u5206\u7b54\u6848\u7684\u6807\u5fd7\uff0c\u6240\u4ee5\u53ef\u4ee5\u786e\u5b9a\u662f\u4e8c\u5206\u7b54\u6848\u3002\n\n**\u600e\u6837\u5224\u65ad\u7b54\u6848\u662f\u5426\u6210\u7acb\u5462\uff1f**\n\n\u5f88\u7b80\u5355\uff0c\u53ea\u9700\u8981\u6309\u7167\u9898\u76ee\u8981\u6c42\u904d\u5386\u5373\u53ef\u3002\u4e00\u8c08\u5230\u904d\u5386\uff0c\u5927\u6982\u81ea\u7136\u90fd\u4f1a\u60f3\u5230$dfs$\u3002\n\n\u6240\u4ee5\u7b97\u6cd5\u5c31\u786e\u5b9a\u4e86\u3002\u5206\u6790\u4e00\u4e0b\u65f6\u95f4\uff0c$O(n^2logd)$\uff0c\u663e\u7136\u4e0d\u4f1a\u8d85\u65f6\u3002\n\n**\u63a5\u4e0b\u6765\u7684\u5b9e\u73b0\u5927\u6982\u5c31\u6bd4\u8f83\u7b80\u5355\u5566~\u4e0b\u9762\u662f\u4ee3\u7801\uff0c\u53c2\u7167\u5373\u53ef\u3002**\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint n,mp[1010][1010],maxc,ans,mid,l=1e9,r;\nbool vis[1010][1010],f;\nint dx[]={0,1,0,-1},dy[]={1,0,-1,0};\ntemplate <typename T> inline void read(T &x)\n{\n    x=0;\n    int f=1;\n    char c=getchar();\n    for(;!isdigit(c);c=getchar())if(c=='-')f=-1;\n    for(;isdigit(c);c=getchar())x=(x<<1)+(x<<3)+(c^48);\n    x*=f;\n}\ninline int dfs(int x,int y,int cn)\n{\n\tvis[x][y]=1;\n\tint now=1;\n\tfor(int i=0;i<4;i++)\n\t{\n\t\tint nx=x+dx[i],ny=y+dy[i];\n\t\tif(nx<1||ny<1||nx>n||ny>n)continue;\n\t\tif(vis[nx][ny])continue;\n\t\tif(abs(mp[nx][ny]-mp[x][y])<=cn)now+=dfs(nx,ny,cn);\n\t}\n\treturn now;\n}\ninline bool check(int k)\n{\n\tmemset(vis,0,sizeof(vis));\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tif(vis[i][j])continue;\n\t\t\tif(dfs(i,j,k)>=n*n/2)return 1;\n\t\t}\n\t}\n\treturn 0;\n}\nint main()\n{\n\tread(n);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tread(mp[i][j]);\n\t\t\tl=min(l,mp[i][j]);\n\t\t\tr=max(r,mp[i][j]);\n\t\t}\n\t}\n\twhile(l<=r)\n\t{\n\t\tmid=(l+r)>>1;\n\t\tif(check(mid))r=mid-1,ans=mid;\n\t\telse l=mid+1;\n\t}\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1609052885,
        "uid": 333574,
        "name": "Tyyyyyy",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3073 \u3010[USACO13FEB]Tractor S\u3011"
    },
    {
        "content": "\u8fd9\u9898\u5f88\u660e\u663e\u662f\u4e00\u4e2a\u6700\u5c0f\u751f\u6210\u6811\uff0c\u8282\u70b9\u662f\u6bcf\u4e2a\u683c\u5b50\uff0c\u7136\u540e\u4ece\u6bcf\u4e2a\u683c\u5b50\u5411\u56db\u4e2a\u65b9\u5411\u8fde\u8fb9\u3002\n\n**1.\u8282\u70b9\u7f16\u53f7**\n\n\u4e0d\u77e5\u9053\u6709\u6ca1\u6709\u7528\u4e00\u7ef4\u6570\u7ec4\u5f53\u4e8c\u7ef4\u6570\u7ec4\u7528\u8fc7\u3002\u6211\u4eec\u8bbe `a[i][j]` \u8868\u793a\u7b2c $i$ \u884c\uff0c\u7b2c $j$ \u5217\uff0c\u6bcf\u884c $n$ \u4e2a\u5143\u7d20\uff0c\u90a3\u4e48\u8f6c\u5316\u4e3a\u4e00\u7ef4\u6570\u7ec4\u5c31\u662f `a[(i-1)*n+j]`\u3002\u8fd9\u4e2a\u5e94\u8be5\u5f88\u597d\u60f3\u901a\uff0c\u6709 $i$ \u884c\u8bf4\u660e\u524d\u9762\u5df2\u7ecf\u6709\u4e86 $(i-1)\\times n$ \u4e2a\u5143\u7d20\uff0c\u518d\u52a0\u4e0a\u8fd9\u884c\u7684 $j$ \u4e2a\u5143\u7d20\u5c31\u5f97\u4e86\u3002\u7531\u4e8e\u4e0b\u6807\u662f\u4ece $0$ \u5f00\u59cb\u7684\uff0c\u6211\u4eec\u8f6c\u6210\u4e00\u7ef4\u7684\u65f6\u5019\u5c31\u4e0d\u7528\u51cf  $1$ \u4e86\u3002\n\n\u8282\u70b9\u7f16\u53f7\u540c\u7406\uff0c${i,j}$ \u8f6c\u5316\u6210 ${i\\times n+j}$\u3002\n\n**2.\u8fde\u8fb9**\n\n\u8fd9\u4e2a\u597d\u7406\u89e3\uff0c\u6bcf\u4e2a\u8282\u70b9\u5411\u56db\u9762\u90fd\u8fde\u4e00\u4e2a\u8fb9\uff0c\u8fb9\u6743\u5c31\u662f\u4e24\u8282\u70b9\u9ad8\u5ea6\u5dee\u7684\u7edd\u5bf9\u503c\u3002\n\n\u603b\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\ncin>>n;\nfor(int i=0;i<n;++i)\n\tfor(int j=0;j<n;++j)\n\t\tcin>>a[i][j];\nconst int dx[]={0,0,-1,1};\nconst int dy[]={1,-1,0,0};\nfor(int i=0;i<n;++i)\n\tfor(int j=0;j<n;++j)\n\t\tfor(int k=0;k<4;k++){\n\t\t\tint x=i+dx[k],y=j+dy[k];\n\t\t\tif(0<=x&&x<n&&0<=y&&y<n)\n\t\t\t\tedges.push_back(edge(i*n+j,x*n+y,abs(a[i][j]-a[x][y])));\n\t\t\t}\n```\n\n\u63a5\u7740\uff0c\u5c31\u662f kruskal \u4e86\u3002\n\n**\u6ce8\u610f\uff01**\n\n\u5982\u679c\u4f60\u76f4\u63a5\u4f7f\u7528\u8fde\u901a\u5757\u7684\u4e2a\u6570\u5c0f\u4e8e\u4e00\u534a\u662f\u9519\u7684\u3002\n\n\u62ff\u6837\u4f8b\u6765\u8bf4\n\n```\n5 \n0 0 0 3 3 \n0 0 0 0 3 \n0 9 9 3 3 \n9 9 9 3 3 \n9 9 9 9 3 \n```\n\n\u6211\u4eec\u6240\u6709\u7684 $0,9,3$ \u5168\u90e8\u8fde\u8d77\u6765\u4e86\uff0c\u6b64\u65f6\u8fde\u901a\u5757\u53ea\u6709\u4e09\u4e2a\uff0c\u7a0b\u5e8f\u80af\u5b9a\u4f1a\u8f93\u51fa $0$\uff0c\u4f46\u8fd9\u79cd\u60c5\u51b5\u660e\u663e\u662f\u9519\u7684\u3002\n\n~~\u5728\u8fd9\u91ccWA\u7684\u6b7b\u53bb\u6d3b\u6765~~\n\n\u4e8e\u662f\u6211\u4eec\u7528 `size[i]` \u6765\u8868\u793a $i$ \u6240\u5728\u8fde\u901a\u5757\u7684\u5927\u5c0f\uff0c\u5f53\u6211\u4eec\u5408\u5e76\u65f6\u4e5f\u5c06 `size[i]` \u5408\u5e76\uff0c\u7136\u540e\u770b\u5408\u5e76\u5b8c\u540e\u7684\u8fde\u901a\u5757\u662f\u5426\u6ee1\u8db3\u5927\u4e8e\u603b\u6570\u7684\u4e00\u534a\u3002\n\nAC\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<iostream>\n#include<vector>\n#include<algorithm>\nusing namespace std;\nint n,m;\nconst int maxn=500+5;\nstruct edge{\n\tint u,v,dis;\n\tbool operator<(const edge& rhs)const{\n\t\treturn dis<rhs.dis;\n\t}\n\tedge(int u=0,int v=0,int d=0):u(u),v(v),dis(d){}\n};\nvector <edge> edges;\nint a[maxn][maxn];\nint cnt=0;\nconst int dx[]={0,0,-1,1};\nconst int dy[]={1,-1,0,0};\nint size[maxn*maxn];\nint pa[maxn*maxn];\nint root(int x){\n\treturn pa[x]==x?x:pa[x]=root(pa[x]);\n}\nint main(){\n\tcin>>n;\n\tfor(int i=0;i<n;++i)\n\t\tfor(int j=0;j<n;++j)\n\t\t\tcin>>a[i][j];\n\tfor(int i=0;i<=n*n;++i)\n\t\tpa[i]=i,size[i]=1;\n\tfor(int i=0;i<n;++i)\n\t\tfor(int j=0;j<n;++j)\n\t\t\tfor(int k=0;k<4;k++){\n\t\t\t\tint x=i+dx[k],y=j+dy[k];\n\t\t\t\tif(0<=x&&x<n&&0<=y&&y<n)\n\t\t\t\t\tedges.push_back(edge(i*n+j,x*n+y,abs(a[i][j]-a[x][y])));\n\t\t\t}\n\tsort(edges.begin(),edges.end());\n\tfor(int i=0;i<edges.size();++i){\n\t\tint x=root(edges[i].u),y=root(edges[i].v);\n\t\tif(x!=y){\n\t\t\tpa[x]=y;\n\t\t\tsize[y]+=size[x];//\u7531\u4e8e\u662f\u76f4\u63a5\u627e\u5230\u6839\u8282\u70b9\u7684\uff0c\u53ea\u5728\u8fd9\u91cc\u7ef4\u62a4\u8fde\u901a\u5757\u5927\u5c0f\u5c31\u597d\u4e86\n\t\t\tif(size[y]>=(n*n+1)/2){\n\t\t\t\tcout<<edges[i].dis;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1619227586,
        "uid": 164302,
        "name": "endless_loop",
        "ccfLevel": 0,
        "title": "P3073\u9898\u89e3"
    },
    {
        "content": "- \u62d6\u62c9\u673a\u6700\u4f4e\u8d39\u7528$0$\u5143\uff0c\u6700\u9ad8$10^6$\u5143\u3002 \n\n- \u53ef\u4ee5\u4ece\u6bcf\u4e00\u4e2a\u683c\u5b50\u51fa\u53d1\u5224\u65ad\u662f\u5426\u80fd\u5de1\u89c6\u4e00\u534a\u7684\u683c\u5b50\u3002\n\n- \u5de1\u89c6\u53ef\u4ee5\u7528dfs\u641c\u7d22\u8fde\u901a\u5feb\uff0c\u7528\u4e00\u4e2a\u53d8\u91cf\u8ba1\u6570\u3002\n\ndfs\u4ee3\u7801\uff1a\n```cpp\nint dfs(int x,int y)\n{\n\tint sum=1;//\u8bb0\u5f55\u80fd\u5de1\u89c6\u7684\u683c\u5b50 \n\tvis[x][y]=1;//\u6807\u8bb0\u5df2\u7ecf\u8d70\u8fc7 \n\tfor(int i=0;i<4;i++)\n\t{\n\t\tint xx=x+dx[i],yy=y+dy[i];\n\t\tif(xx>=1&&xx<=n&&yy>=1&&yy<=n&&!vis[xx][yy]&&abs(a[xx][yy]-a[x][y])<=mid)//\u5728\u519c\u7530\u5185&\u6ca1\u8bbf\u95ee\u8fc7&mid\u5143\u7684\u62d6\u62c9\u673a\u53ef\u4ee5\u901a\u8fc7 \n\t\t\tsum+=dfs(xx,yy);\n\t}\n\treturn sum;\n}\n```\n\u903b\u8f91\u4e0a\u6ca1\u6709\u95ee\u9898\uff0c\u4f46\u679a\u4e3e$0$\u5230$10^6$\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$10^6*n^2$=$2.5*10^11$ \u6709\u70b9\u5c0fTLE\uff08 \n\n\u5f53\u7136\u53ef\u4ee5\u505a\u4e00\u70b9\u4f18\u5316\uff0c\u6bd4\u5982~~O2\u4f18\u5316~~\u8bb0\u5f55\u6240\u6709\u683c\u5b50\u9ad8\u5ea6\u7684\u6700\u5927\u503c\u4ee3\u66ff$10^6$\u53ef\u80fd\u4f1a\u591a\u5f97\u4e00\u4e9b\u5206\u6570\u3002\n\n\u6c42\u6700\u4f18\u503c\u4e09\u677f\u65a7\uff1a\u8d2a\u5fc3\u52a8\u89c4\u4e8c\u5206\u7b54\u6848\uff0c\u8003\u8651\u4e8c\u5206\u7b54\u6848\uff1a\n\n\u62d6\u62c9\u673a\u7684\u94b1\u8d8a\u591a\uff0c\u5de1\u89c6\u7684\u683c\u5b50\u5c31\u66f4\u591a\uff0c\u7b26\u5408\u5355\u8c03\u6027\u221a\n\n\u4e8c\u5206\u7b54\u6848\u4ee3\u7801\uff1a\n```cpp\nwhile(l<r)\n{\n\tmid=(l+r)/2;//\u6c42\u4e2d\u95f4\u503c \n\tif(check()) r=mid;//\u5982\u679cmid\u53ef\u4ee5\uff0cmid+1,mid+2..\u90fd\u884c\uff0cr=mid \n\telse l=mid+1;//\u5982\u679cmid\u4e0d\u884c\uff0cmid-1,mid-2...\u90fd\u4e0d\u884c\uff0cl=mid+1 \n}\n//\u6700\u540e\u7b54\u6848\u4e3al \n```\n\nAC Code:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,a[501][501],tot,l,r=1e6,mid; \nint dx[4]={-1,1,0,0},dy[4]={0,0,-1,1};\nbool vis[501][501];\nint dfs(int x,int y)\n{\n\tint sum=1;\n\tvis[x][y]=1;\n\tfor(int i=0;i<4;i++)\n\t{\n\t\tint xx=x+dx[i],yy=y+dy[i];\n\t\tif(xx>=1&&xx<=n&&yy>=1&&yy<=n&&!vis[xx][yy]&&abs(a[xx][yy]-a[x][y])<=mid)\n\t\t\tsum+=dfs(xx,yy);\n\t}\n\treturn sum;\n}\nbool check()\n{\n\tmemset(vis,0,sizeof(vis));//\u521d\u59cb\u5316 \n\tfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=n;j++)\n\t\tif(!vis[i][j]&&dfs(i,j)>=tot)\n\t\t\treturn 1;\n\treturn 0;\n}\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=n;j++)\n\t\tcin>>a[i][j];\n\ttot=n*n/2+n*n%2;//\u6ce8\u610f\u8981\u52a0\u4e0an*n%2 \n\twhile(l<r)//\u4e8c\u5206\u7b54\u6848 \n\t{\n\t\tmid=(l+r)/2;\n\t\tif(check()) r=mid;\n\t\telse l=mid+1;\n\t}\n\tcout<<l;\n\treturn 0;\n}\n```",
        "postTime": 1597298397,
        "uid": 277173,
        "name": "lyy3_2_1",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P3073 \u3010[USACO13FEB]Tractor S\u3011"
    },
    {
        "content": "\u8fd9\u7b97\u662f\u8d2a\u5fc3\u601d\u8def\u5427\n\u6392\u5e8f+\u5e76\u67e5\u96c6\n\n\u6309\u70b9\u4e0e\u70b9\u4e4b\u95f4\u7684\u9ad8\u5ea6\u5dee\u6392\u5e8f\uff08\u8be5\u601d\u8def\u6e90\u4e8e\u6700\u77ed\u8def....2333\uff09\n\u5e76\u67e5\u96c6\u7684\u8fc7\u7a0b\u4e2d\u7ef4\u62a4\u9762\u79ef\u548c\u82b1\u8d39\u5c31\u597d\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cstdio>\nusing namespace std;\ninline int read(){\n\tchar ch='*';int sum=0,f=1;\n\twhile(ch<'0'||ch>'9'){\n\t\tif(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9')\n\t\tsum*=10,sum+=ch-'0',ch=getchar();\n\treturn sum*f;\n}\n#if 0\nWriters: G.S.M. && Goes\nEnjoyable\n#endif\nint fa[505*505],n;\nint f(int x){\n\tif(fa[x]==x)return x;\n\telse return fa[x]=f(fa[x]);\n}\n#define num(x,y) (x-1)*n+y\nstruct ss{\n\tint dis,pos,to;\n}tlj[505*505*4];int tot;\nbool cmp(ss a,ss b){return a.dis<b.dis;}\nint va[505*505],mj[505*505];\nint con(int p){\n\tint x=tlj[p].pos,y=tlj[p].to;\tint fx=f(x),fy=f(y);\n\tif(fx==fy) return false;\n\tfa[fx]=fy;va[fy]=tlj[p].dis;mj[fy]+=mj[fx];\n\tif(mj[fy]>=n*n/2) return va[fy];\n\telse return false;\n}\n#include<cmath>\n#include<algorithm>\nint H[505][505];\nint main()\n{\n\tn=read();\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tH[i][j]=read();\n\t\t\tif(i>1)tlj[++tot]=(ss)\n\t\t\t{abs(H[i][j]-H[i-1][j]),num(i,j),num(i-1,j)};\n\t\t\tif(j>1)tlj[++tot]=(ss)\n\t\t\t{abs(H[i][j]-H[i][j-1]),num(i,j),num(i,j-1)};\n\t\t}\n\tfor(int i=1;i<=n*n;i++) fa[i]=i,mj[i]=1;\n\tsort(tlj+1,tlj+tot+1,cmp);int ans;\n\tfor(int i=1;i<=tot;i++)if(ans=con(i)) break;\n\tcout<<ans<<endl;\treturn 0;\n}\n\n```",
        "postTime": 1520841095,
        "uid": 38348,
        "name": "Goes",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3073 \u3010[USACO13FEB]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "### \u7ed9\u5927\u5bb6\u63d0\u4f9b\u4e00\u4e2a\u5e26\u6743\u5e76\u67e5\u96c6+\u6700\u5c0f\u751f\u6210\u6811\u7684\u505a\u6cd5\u3002\n\n\u6211\u89c9\u5f97\u5f88\u591a\u9009\u62e9\u7528\u5e76\u67e5\u96c6\u505a\u7684\u4eba\u5e94\u8be5\u662f\u5361\u5728\u70b9\u662f\u6a2a\u5750\u6807+\u7eb5\u5750\u6807\u4e0a\u4e86\uff0c\u4f46\u5176\u5b9e\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e9b\u5de7\u5999\u7684\u8f6c\u5316\u4f7f\u5f97\u6bcf\u4e2a\u70b9\u6709\u4e00\u4e2a\u72ec\u4e00\u65e0\u4e8c\u7684\u7f16\u53f7\u3002\n\n\u5982\u679c\u5bf9\u4e8c\u7ef4\u6570\u7ec4\u7406\u89e3\u6bd4\u8f83\u900f\u5f7b\u7684\u8bdd\u5e94\u8be5\u77e5\u9053\u4e8c\u7ef4\u6570\u7ec4\u4e5f\u53ef\u4ee5\u5f53\u4f5c\u4e00\u7ef4\u6570\u7ec4\u3002\n\n\n\n------------\n\n\n#### \u8f6c\u5316\u539f\u7406\uff1a\n\n\u5bf9\u4e8e\u4e00\u4e2a\u6570 a(i,j) \u4ed6\u524d\u9762\u4e00\u5171\u6709 (i-1) \u884c\u5143\u7d20\u52a0\u4e0a j \u4e2a\u5143\u7d20\u3002\n\n\u90a3\u4e48\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4ed6\u5728\u4e8c\u7ef4\u6570\u7ec4\u4e2d\u7684\u4f4d\u7f6e\u4f5c\u4e3a\u8fd9\u4e2a\u70b9\u7684\u7f16\u53f7\uff0c\u8fd9\u6837\u5b50\u5c31\u53ef\u4ee5\u5c06\n\u6a2a\u5750\u6807+\u7eb5\u5750\u6807\u7684\u70b9\u8f6c\u5316\u4e3a\u80fd\u7528\u5355\u4e2a\u6570\u5b57\u8868\u793a\u7684\u70b9\u4e86\u3002\n\n\n\n------------\n\n\n\u5982\u679c\u8fd8\u4e0d\u4f1a\u5e26\u6743\u5e76\u67e5\u96c6 [\u5e26\u6743\u5e76\u67e5\u96c6\u6a21\u677f\u9898](https://www.luogu.com.cn/problem/P1196)\n\n~~\u6700\u5c0f\u751f\u6210\u6811\u7684\u8bdd\uff0c\u60a8\u90fd\u5207\u84dd\u9898\u4e86\u80af\u5b9a\u4f1a~~\n\n#### \u4ee3\u7801:\n```cpp\n#include<algorithm>\n#include<iostream>\n#include<cstdio>\n#include<vector>\n#include<cmath>\n#define  r read()//\u61d2\u60f0\nusing namespace std;\ninline int read()//\u5feb\u8bfb\u4e0d\u89e3\u91ca\n{\n    char c=getchar();\n    int x=0,fh=0;\n    while(c<'0'||c>'9'){fh|=c=='-';c=getchar();}\n    while(c>='0'&&c<='9'){x=(x<<1)+(x<<3)+(c^48);c=getchar();}\n    return fh?-x:x;\n}\nstruct node //\u4e3a\u6700\u5c0f\u751f\u6210\u6811\u7b97\u6cd5\u7684\u51c6\u5907\n{\n    int u,v,w;\n    node(int x,int z,int y):u(x),w(z),v(y){}\n};\nvector<node>g;//\u5b58\u8fb9\nint f[501*501];//\u5e76\u67e5\u96c6\u7528\u7684\u6570\u7ec4\nint s[501*501];//\u5b58\u653e\u8fde\u901a\u5757\u5927\u5c0f\nint t[4][2]={{1,0},{0,1},{-1,0},{0,-1}};\nint f1(int a)//\u627e\u7236\u4eb2\n{\n    return f[a]==a?a:f[a]=f1(f[a]);\n}\nvoid marge(int a,int b)//\u5408\u5e76\n{\n    int t1=f1(a);\n    int t2=f1(b);\n    if(t1!=t2)\n    {\n        s[t1]+=s[t2];//\u6240\u5728\u7ef4\u62a4\u8fde\u901a\u5757\u7684\u5927\u5c0f\n        f[t2]=f[t1];//\u6ce8\u610f\uff1a\u4e0d\u80fd\u53cd\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u5c31\u7559\u505a\u601d\u8003\u9898\n    }\n}\nbool cmp(node a,node b)\n{\n    return a.w<b.w;\n}//\u6bd4\u8f83\u51fd\u6570\nint a[501][501];//\u5b58\u50a8\u5730\u56fe\nint main()\n{\n    int n=r,k=1;\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=n;j++)\n        {\n            a[i][j]=r;\n            f[(i-1)*n+j]=(i-1)*n+j;//\u521d\u59cb\u5316\u5e76\u67e5\u96c6\n            s[(i-1)*n+j]=1;//\u6bcf\u4e2a\u70b9\u76ee\u524d\u6240\u5728\u8fde\u901a\u5757\u5927\u5c0f\u5c31\u662f1\n        }\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=n;j++)\n        {\n            for(int m=0;m<4;m++)\n            {\n                int x=i+t[m][0];\n                int y=j+t[m][1];\n                if(x<1||y<1||x>n||y>n)\n                    continue;\n                node x=node((i-1)*n+j,abs(a[x][y]-a[i][j]),(x-1)*n+y);\n                g.push_back(x);\n            }\n        }\n    sort(g.begin(),g.end(),cmp);\n    int maxn=0;\n    for(int i=0;i<g.size();i++)\n    {\n        if(f1(g[i].u)!=f1(g[i].v))\n        {\n            marge(g[i].u,g[i].v);\n            if(s[f1(g[i].u)]>(n*n+1)/2-1)//\u5148\u52a01\u518d\u9664\u4ee52\u5c31\u80fd\u81ea\u52a8\u5411\u4e0a\u53d6\u6574\u4e86\n            //\u548c\u6700\u5c0f\u751f\u6210\u6811\u677f\u5b50\u7684\u552f\u4e00\u533a\u522b\n            //\u5f53\u5408\u5e76\u7684\u8fd9\u4e24\u4e2a\u8fde\u901a\u5757\u603b\u5927\u5c0f\u5927\u4e8e\u603b\u683c\u5b50\u7684\u4e00\u534a\u5c31\u6ee1\u8db3\u6761\u4ef6\u4e86\n            //\u76f4\u63a5 break \u6389\n            //\u56e0\u4e3a\u6392\u8fc7\u5e8f\uff0c\u6240\u4ee5\u8fd9\u4e2a\u8fde\u901a\u5757\u9ad8\u5ea6\u5dee\u6700\u5927\u7684\u4e24\u4e2a\u683c\u5b50\u7684\u5dee\u503c\u5c31\u662f\n            //\u8fd9\u4e24\u4e2a\u683c\u5b50\u7684\u9ad8\u5ea6\u5dee\uff0c\u540c\u6837\u56e0\u4e3a\u6392\u8fc7\u5e8f\uff0c\u6240\u4ee5\u7b2c\u4e00\u4e2a\u8fbe\u5230\u8981\u6c42\u7684\n            //\u8fde\u901a\u5757\u6700\u5927\u9ad8\u5ea6\u5dee\u80af\u5b9a\u6700\u5c0f\n            {\n                maxn=g[i].w;\n                break;\n            }\n        }\n    }\n    printf(\"%d\",maxn);\n    return 0;\n}\n```\n",
        "postTime": 1581673185,
        "uid": 287811,
        "name": "KALY",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3073 \u3010[USACO13FEB]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "\u66f4~~\u7cdf~~\u597d\u7684\u9605\u8bfb\u4f53\u9a8c\uff0c\u8bf7\u6233[\u8fd9\u91cc](https://thomasguo666.github.io/2020/02/14/solution-P3073/)\n\n\n---\n\n\n\u9996\u5148\u6211\u4eec\u7b80\u5316\u4e00\u4e0b\u9898\u610f\u3002\u9898\u76ee\u7684\u610f\u601d\u662f\u8bf4\uff0c\u8ba9\u6211\u4eec\u627e\u4e00\u4e2a\u5305\u542b $\\lceil \\frac{n^2}{2} \\rceil $ \u4e2a\u70b9\u7684\u8fde\u901a\u5757\u7684\u76f8\u90bb\u683c\u4e4b\u95f4\u9ad8\u5ea6\u5dee\u7684\u6700\u5927\u503c\u7684\u6700\u5c0f\u503c\u3002\n\n\u8bf8\u5982\u8fd9\u79cd\u6700\u5c0f\u5316 max \u503c\u7684\u9898\u76ee\uff0c\u5e38\u89c1\u601d\u8def\u662f\u4f7f\u7528**\u4e8c\u5206\u7b54\u6848**\u5c06\u5176\u7531**\u6700\u4f18\u5316\u95ee\u9898**\u8f6c\u4e3a**\u53ef\u884c\u6027\u95ee\u9898**\u3002\n\n\u5177\u4f53\u5230\u8fd9\u9053\u9898\uff0c\u6211\u4eec\u4e8c\u5206\u9ad8\u5ea6\u5dee\u7684\u6700\u5927\u503c\uff0c\u8bbe\u6700\u5927\u503c\u4e3a mid\u3002\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u628a\u628a $n^2$ \u4e2a\u683c\u5b50\u5bf9\u5e94\u6210 $n^2$ \u4e2a\u70b9\uff0c\u628a\u6574\u5f20\u7f51\u683c\u5f53\u4f5c\u4e00\u5f20\u65e0\u5411\u56fe\u3002\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u6709\u8fb9\uff0c\u5f53\u4e14\u4ec5\u5f53\u8fd9**\u4e24\u4e2a\u8282\u70b9\u6240\u5bf9\u5e94\u7684\u683c\u5b50\u76f8\u90bb\uff0c\u4e14\u9ad8\u5ea6\u4e4b\u5dee\u4e0d\u8d85\u8fc7 mid**\u3002\n\n\u90a3\u4e48\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u95ee\u9898\u8f6c\u5316\u4e3a\uff1a**\u6c42\u51fa\u4e00\u5f20 $n^2$ \u9636\u56fe\u4e2d\u662f\u5426\u5b58\u5728\u81f3\u5c11\u6709 $\\lceil \\frac{n^2}{2} \\rceil $ \u4e2a\u70b9\u7684\u8054\u901a\u5757**\u3002\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528**\u5e76\u67e5\u96c6**\u5373\u53ef\u5feb\u901f\u5730\u89e3\u51b3\u8be5\u95ee\u9898\u3002\u5177\u4f53\u5730\u8bf4\uff0c\u5bf9\u4e8e\u56fe\u4e2d\u7684\u6bcf\u4e00\u6761\u8fb9\uff0c\u82e5\u5176\u4e24\u7aef\u70b9\u4e0d\u5728\u540c\u4e00\u8fde\u901a\u5757\uff0c\u5219\u6211\u4eec\u5c06\u5176\u53f3\u7aef\u70b9\u7684\u8fde\u901a\u5757\u548c\u5de6\u7aef\u70b9\u7684\u8fde\u901a\u5757\u5408\u5e76\u3002\u82e5\u65b0\u8fde\u901a\u5757\u5305\u542b\u4e86\u8fc7\u534a\u6570\u7684\u70b9\uff0c\u5219\u5224\u5b9a\u4e3a\u5b58\u5728\u3002\u82e5\u5bf9\u6240\u6709\u8fb9\u8fdb\u884c\u4e86\u4e0a\u8ff0\u64cd\u4f5c\u540e\uff0c\u4ecd\u672a\u5224\u5b9a\u4e3a\u5b58\u5728\uff0c\u5219\u5224\u5b9a\u4e3a\u4e0d\u5b58\u5728\u3002\n\n\n\n\u66f4\u591a\u5b9e\u73b0\u7684\u7ec6\u8282\u95ee\u9898\uff0c\u89c1\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n#define debug printf(\"Running %s on line %d...\\n\",__FUNCTION__,__LINE__)\n#define in inline\n#define re register\nusing namespace std;\ntypedef long long ll;\ntypedef double db;\nin int read()\n{\n    int ans=0,f=1;char c=getchar();\n    for (;!isdigit(c);c=getchar()) if (c=='-') f=-1;\n    for (;isdigit(c);c=getchar()) ans=(ans<<3)+(ans<<1)+(c^48);\n    return ans*f;\n}\nin int cmin(int &a,int b) {return a=min(a,b);}\nin int cmax(int &a,int b) {return a=max(a,b);}\nint n;\nint a[505][505];\nint dx[]={1,0};\nint dy[]={0,1};\nint st[500005],en[500005];\nint fa[250005],sz[250005],tot;\nin int zip(int x,int y) // \u5c06\u70b9 (x,y) \u538b\u7f29\u6210\u4e00\u4e2a [1,n*n] \u4e4b\u95f4\u7684\u6574\u6570\n{\n    return (x-1)*n+y;\n}\nint find(int x) // \u5e76\u67e5\u96c6\u5bfb\u6839\u51fd\u6570\n{\n    return x==fa[x]?x:fa[x]=find(fa[x]); // \u8def\u5f84\u538b\u7f29\n}\nint check(int mid) // \u4e8c\u5206\u7b54\u6848\u7684\u5224\u65ad\u51fd\u6570\n{\n    tot=0;\n    for (int i=1;i<=n;i++)\n    {\n        for (int j=1;j<=n;j++)\n        {\n            fa[zip(i,j)]=zip(i,j);\n            sz[zip(i,j)]=1;\n            for (int k=0;k<2;k++)\n            {\n                int ii=i+dx[k],jj=j+dy[k];\n                if (ii<=n && jj<=n && abs(a[i][j]-a[ii][jj])<=mid) // \u53ea\u6709\u7b26\u5408\u8981\u6c42\u7684\u624d\u8fde\u8fb9\n                {\n                    st[++tot]=zip(i,j);\n                    en[tot]=zip(ii,jj);\n                }\n            }\n        }\n    }\n    for (int i=1;i<=tot;i++)\n    {\n        int u=st[i],v=en[i];\n        int uu=find(u),vv=find(v);\n        if (uu==vv) continue;\n        fa[vv]=uu;\n        sz[uu]+=sz[vv]; // \u5408\u5e76\u96c6\u5408\n        sz[vv]=0;\n    }\n    for (int i=1;i<=n*n;i++)\n    {\n        if (sz[i]*2>=n*n) return 1;\n    }\n    return 0;\n}\nint main()\n{\n    n=read();\n    for (int i=1;i<=n;i++) for (int j=1;j<=n;j++) a[i][j]=read();\n    int l=0,r=1000000,ans=1000000;\n    while (l<=r) // \u4e8c\u5206\u7b54\u6848\n    {\n        int mid=l+r>>1;\n        if (check(mid)) r=mid-1,ans=mid;\n        else l=mid+1;\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n\n```\n\n",
        "postTime": 1581652042,
        "uid": 107935,
        "name": "Thomasguo666",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3073 \u3010[USACO13FEB]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "## \u4e8c\u5206+\u5e76\u67e5\u96c6\n\u4e0d\u96be\u53d1\u73b0\u7b54\u6848\u5177\u6709\u5355\u8c03\u6027\uff0c\u56e0\u4e3a\u5982\u679c\u5c0f\u7684\u4ef7\u503c\u6ee1\u8db3\u6761\u4ef6\uff0c\u90a3\u4e48\u5927\u7684\u4ef7\u503c\u4e5f\u4e00\u5b9a\u6ee1\u8db3\u6761\u4ef6\uff0c\u5927\u4ef7\u503c\u7684\u8054\u901a\u5757\u5927\u5c0f\u4e00\u5b9a\u5927\u4e8e\u7b49\u4e8e\u5c0f\u4ef7\u503c\u7684\u8054\u901a\u5757\u5927\u5c0f\u3002\n\n\u56e0\u4e3a\u7b54\u6848\u5177\u6709\u5355\u8c03\u6027\uff0c\u6240\u4ee5\u53ef\u4ee5\u4e8c\u5206\uff0c\u5173\u952e\u5c31\u662f\u5982\u4f55check\uff0c\u53ef\u4ee5\u8003\u8651\u7528\u5e76\u67e5\u96c6\u7ef4\u62a4\u8054\u901a\u5757\uff0c\u5982\u679c\u76f8\u90bb\u4e24\u4e2a\u683c\u5b50\u7684\u9ad8\u5ea6\u5dee$abs(a_{i,j}-a_{i'j'})\\leq x$,\u5176\u4e2d$x$\u4e3a\u5f53\u524d\u4e8c\u5206\u7684\u7b54\u6848\uff0c\u90a3\u4e48$(i,j)$\u548c$(i',j')$\u4e00\u5b9a\u53ef\u4ee5\u76f8\u4e92\u5230\u8fbe\uff0c\u4e8e\u662f\u53ef\u4ee5\u7528\u5e76\u67e5\u96c6\u7ef4\u62a4\u8fde\u901a\u6027\uff0c\u987a\u4fbf\u7edf\u8ba1\u4e00\u4e0b\u5927\u5c0f\uff0c\u6700\u540e\u53ea\u9700\u5224\u65ad\u6700\u5927\u7684\u8054\u901a\u5757\u5927\u5c0f\u662f\u5426\u5927\u4e8e$\\lceil \\frac{n*n}{2}\\rceil$\u5373\u53ef\n\n\u590d\u6742\u5ea6\u4e3a$O(n^2logn^2*\\alpha)$\n\n### AC\u4ee3\u7801\n```cpp\n/*\nProblem : luogu P3073\nAlgorithm : binary search + Dsu\nStatus : AC\n*/\n#include <bits/stdc++.h>\n#include <cstring>\n#include <vector>\n#include <algorithm>\n#include <cstdio>\n#include <iostream>\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int,int> pii;\n\nconst int INF = 0x3f3f3f3f;\nconst int MAXN = 505;\nconst int MAXM = MAXN * MAXN;\nconst int dx[] = {1,0,-1,0};\nconst int dy[] = {0,1,0,-1};\n\nint n,limit;\nint a[MAXN][MAXN];\n\nint getId(int x,int y){\n\treturn (x - 1) * n + y;\n}\n\nnamespace Dsu{ //\u5e76\u67e5\u96c6\n\tint f[MAXM],size[MAXM];\n\t\n\tvoid Init(){\n\t\tfor(int i = 1;i <= n * n;i++){\n\t\t    f[i] = i;\n\t\t    size[i] = 1;\n\t\t}\n\t}\n\t\n\tint Find(int x){\n\t\tif(x == f[x])\n\t\t    return x;\n\t\telse\n\t\t    return f[x] = Find(f[x]);\n\t}\n\t\n\tvoid Unionn(int x,int y){\n\t\tint fx = Find(x);\n\t\tint fy = Find(y);\n\t\tif(fx != fy){\n\t\t\tif(size[fx] >= size[fy]){ //\u6309\u79e9\u5408\u5e76\n\t\t\t    f[fy] = fx;\n\t\t\t    size[fx] += size[fy];\n\t\t\t}else{\n\t\t\t    f[fx] = fy;\n\t\t\t    size[fy] += size[fx];\n\t\t\t}\n\t\t}\n\t}\n\t\n\tint GetMax(){\n\t\tint Max = 0;\n\t\tfor(int i = 1;i <= n * n;i++) //\u627e\u6700\u5927\u7684\u8054\u901a\u5757\n\t\t\tMax = max(Max,size[i]);\n\t\treturn Max;\n\t}\n}\n\nbool check(int x){\n\tDsu::Init();\n\tfor(int i = 1;i <= n;i++){\n\t\tfor(int j = 1;j <= n;j++){\n\t\t\tfor(int k = 0;k < 4;k++){\n\t\t\t\tint nx = i + dx[k];\n\t\t\t\tint ny = j + dy[k];\n\t\t\t\tif(nx >= 1 && nx <= n && ny >= 1 && ny <= n && abs(a[i][j] - a[nx][ny]) <= x)\n\t\t\t\t\tDsu::Unionn(getId(i,j),getId(nx,ny)); //\u7ef4\u62a4\u8fde\u901a\u6027\n\t\t\t}\n\t\t}\n\t}\n\treturn Dsu::GetMax() >= limit;\n}\n\nint main(){\n    //freopen(\".in\",\"r\",stdin);\n    //freopen(\".out\",\"w\",stdout);\n\tscanf(\"%d\",&n);\n\tlimit = (n * n + 1) / 2;\n\tfor(int i = 1;i <= n;i++){\n\t\tfor(int j = 1;j <= n;j++)\n\t\t    scanf(\"%d\",&a[i][j]);\n\t}\n\tint l = 0,r = INF,ans = 0;\n\twhile(l <= r){\n\t\tint mid = (l + r) >> 1;\n\t\tif(check(mid)){\n\t\t\tans = mid;\n\t\t\tr = mid - 1;\n\t\t}else\n\t\t    l = mid + 1;\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1575295839,
        "uid": 108894,
        "name": "\u5173\u6000\u4ed6\u4eba",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3073 \u3010[USACO13FEB]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "## Sol ##\n\n[blog\u98df\u7528](http://www.caolaoshi.men/index.php/archives/usaco13feb-trac.html)\n\n~~\u597d\u6c34\u7684\u4e00\u9053\u9898\u554a\u2026\u2026~~\u76f4\u63a5\u4e8c\u5206\u7b54\u6848\u5c31\u53ef\u4ee5\u8fc7\uff0c\u4e0d\u9700\u8981\u5e76\u67e5\u96c6\u7684\uff0c\u4e8c\u5206\u52a0\u5e7f\u641c\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662f$O(n^2 logM)$\uff0c\u80fd\u8fc7\u7684\u3002\n\n\u8bfb\u5b8c\u9898\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u7684\u5c31\u80fd\u77e5\u9053\uff0c\u7b54\u6848\u6ee1\u8db3\u5355\u8c03\u6027\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679cmid\u80fd\u591f\u5230\u8fbe\u4e00\u534a\u4ee5\u4e0a\uff0c\u90a3\u4e48>mid\u7684\u6240\u6709\u7684\u6570\u90fd\u53ef\u4ee5\u8fbe\u5230\u4e00\u534a\u4ee5\u4e0a\uff0c\u4e8e\u662f\u5c31\u4f1a\u6709\u4e00\u4e2a\u4e34\u754c\u503c\u662f\u8fbe\u5230\u548c\u8fbe\u4e0d\u5230\u4e4b\u95f4\u7684\uff0c\u8fd9\u4e2a\u503c\u5c31\u662f\u6211\u4eec\u6700\u7ec8\u7684\u7b54\u6848\u3002\u7ecf\u5206\u6790\u5f97\uff0c\u672c\u9898\u6ee1\u8db3\u4e8c\u5206\u6761\u4ef6\uff0c\u53ef\u4ee5\u4e8c\u5206\u3002\u4e8c\u5206\u51fa\u6765\uff0c\u6211\u4eec\u6b63\u7740\u505a\u5e7f\u641c\uff0c\u641c\u7d22\u7684\u8def\u4e0a\u5c31\u80fd\u6c42\u51fa\u6700\u5927\u7684\u8054\u901a\u5757\uff0c\u5982\u679c\u6700\u5927\u7684\u8054\u901a\u5757\u6bd4\u4e00\u534a\u8981\u591a\uff0c\u53f3\u7aef\u70b9\u79fb\u52a8\uff0c\u53cd\u4e4b\u5de6\u7aef\u70b9\u79fb\u52a8\u3002\n\n## Code ##\n\n```\n#include<iostream>\n#include<cstdio>\n#include<queue>\n#include<cstring>\nusing namespace std;\n\nvoid read(int &x)\n{\n    char c = getchar(); x = 0;\n    while(c < '0' || c > '9') c = getchar();\n    while(c <= '9' && c >= '0') x = x*10+c-48, c = getchar();\n}\n\nvoid put(int x)  \n{  \n    int num = 0; char c[15];\n    while(x) c[++num] = (x%10)+48, x /= 10;\n    while(num) putchar(c[num--]);\n    putchar('\\n'); \n}\n\nstruct Node {\n    int x , y;\n    Node(){}\n    Node (int xx , int yy) {\n        x = xx , y = yy;\n    }\n};\nint n , map[505][505] , minn = 1e8 , maxx = -1 , vis[505][505] , K;\n\ninline int mymax(int a , int b) { return a>b?a:b; }\ninline int mymin(int a , int b) { return a<b?a:b; }\ninline int myabs(int a) { return a>0?a:(-a); }\ninline int mypow(int a , int b) { if(b == 1) return a; int t = mypow(a , b/2); if(b % 2 == 0) return t*t; return t*t*a; }\n\nint bfs(int x , int y , int k) {\n    int res = 1;\n    vis[x][y] = 1;\n    queue<Node>q; \n    q.push(Node(x , y));\n    while(!q.empty()) {\n        Node u = q.front();\n        q.pop();\n        if(u.x-1>=1 && !vis[u.x-1][u.y] && myabs(map[u.x-1][u.y]-map[u.x][u.y])<=k) {\n            vis[u.x-1][u.y] = 1;\n            res++;\n            q.push(Node(u.x-1,u.y));\n        }\n        if(u.x+1<=n && !vis[u.x+1][u.y] && myabs(map[u.x+1][u.y]-map[u.x][u.y])<=k) {\n            vis[u.x+1][u.y] = 1;\n            res++;\n            q.push(Node(u.x+1,u.y));\n        }\n        if(u.y-1>=1 && !vis[u.x][u.y-1] && myabs(map[u.x][u.y-1]-map[u.x][u.y])<=k) {\n            vis[u.x][u.y-1] = 1;\n            res++;\n            q.push(Node(u.x,u.y-1));\n        }\n        if(u.y+1<=n && !vis[u.x][u.y+1] && myabs(map[u.x][u.y+1]-map[u.x][u.y])<=k) {\n            vis[u.x][u.y+1] = 1;\n            res++;\n            q.push(Node(u.x,u.y+1));\n        }\n    }\n    return res;\n}\n\nint jud(int x) {\n    int ans = 0;\n    for(int i=1; i<=n; i++)\n        for(int j=1; j<=n; j++)\n            if(!vis[i][j])\n                ans = mymax(ans , bfs(i,j,x));\n    if(ans >= K)\n        return 1;\n    return 0;\n} \n\nint main() {\n    read(n);\n    K = mypow(n , 2) / 2;\n    for(int i=1; i<=n; i++)\n        for(int j=1; j<=n; j++) {\n            read(map[i][j]);\n            minn = mymin(minn , map[i][j]);\n            maxx = mymax(maxx , map[i][j]);\t\t\n        }\n    int l = 0 , r = maxx - minn; \n    while(l <= r) {\n        memset(vis , 0 , sizeof(vis)); \n        int mid = (l+r)>>1;\n        if(jud(mid))\n            r = mid - 1;\n        else\n            l = mid + 1;\n    } \n    put(l);\n    return 0;\n}\n```\n\n\n  [1]: https://www.luogu.org/problemnew/show/P3073",
        "postTime": 1535336828,
        "uid": 37427,
        "name": "\u66f9\u8001\u5e08",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3073 \u3010[USACO13FEB]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "# P3073 Tractor\n\n### \u9898\u76ee\u63cf\u8ff0\n\nFJ\u6709\u5757\u519c\u7530\u592a\u5d0e\u5c96\u4e86\uff0c\u4ed6\u8981\u4e70\u4e00\u8f86\u65b0\u62d6\u62c9\u673a\u624d\u80fd\u5728\u8fd9\u91cc\u5de1\u89c6\u3002\u8fd9\u5757\u519c\u7530\u7531N x N\u4e2a\u683c\u5b50\u7684\u975e\u8d1f\u6574\u6570\u8868\u793a\u9ad8\u5ea6(1<=N<=500)\u3002\u62d6\u62c9\u673a\u4ece\u5f53\u524d\u683c\u5b50\u8d70\u5230\u76f8\u90bb\u683c\u5b50\uff08\u4e1c\u3001\u5357\u3001\u897f\u3001\u5317\u56db\u4e2a\u65b9\u5411\uff09\u7684\u4ee3\u4ef7\u4e3a\u9ad8\u5ea6\u5deeD\uff0c\u5219FJ\u9a76\u8fc7\u8fd9\u4e24\u4e2a\u683c\u5b50\u7684\u62d6\u62c9\u673a\u6700\u5c11\u4e5f\u8981\u503cD\u5757\u94b1\u3002\n\nFJ\u613f\u610f\u82b1\u8db3\u591f\u7684\u94b1\u4e70\u4e00\u8f86\u65b0\u7684\u62d6\u62c9\u673a\u4f7f\u5f97\u4ed6\u80fd\u4ee5\u6700\u5c0f\u7684\u9ad8\u5ea6\u5dee\u8d70\u904d\u6240\u6709\u683c\u5b50\u7684\u4e00\u534a(\u5982\u679c\u683c\u5b50\u603b\u6570\u662f\u5947\u6570\uff0c\u90a3\u4e48\u4e00\u534a\u7684\u503c\u4e3a\u56db\u820d\u4e94\u5165\u7684\u503c)\u3002\u56e0\u4e3aFJ\u5f88\u61d2\uff0c\u6240\u4ee5\u4ed6\u627e\u5230\u4f60\u5e2e\u4ed6\u7f16\u7a0b\u8ba1\u7b97\u4ed6\u6700\u5c0f\u9700\u8981\u82b1\u591a\u5c11\u94b1\u4e70\u5230\u7b26\u5408\u8fd9\u4e9b\u8981\u6c42\u7684\u62d6\u62c9\u673a\u3002\n\n### \u601d\u8def\n\n\u6211\u4eec\u53ef\u4ee5\u4e8c\u5206\u8fd9\u4e2a\u7b54\u6848\uff0c\u56e0\u4e3a\u5b83\u7b26\u5408\u5355\u8c03\u6027\uff0c\u7136\u540e\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u9700\u8981\u53bb\u6c42\u51fa\u5728\u8fd9\u4e2a\u7b54\u6848\u4e0b\u80fd\u5426\u9a76\u8fc7\u4e00\u534a\u7684\u683c\u5b50\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a\u5e76\u67e5\u96c6\u7ef4\u62a4\uff0c\u5047\u5982\u5f53\u524d\u8fd9\u4e2a\u683c\u5b50\u80fd\u591f\u5230\u8fbe\u4e0b\u4e00\u4e2a\u683c\u5b50\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5408\u5e76\u8d77\u6765\uff0c\u540c\u65f6\u7ef4\u62a4\u6839\u8282\u70b9\u7684\u5927\u5c0f\n\n### \u8d34\u4ee3\u7801\n\n```c++\n#include<cstdio>\n#include<iostream>\n#include<cstring>\n#include<algorithm>\n#define maxn 600\nusing namespace std;\nint dx[2]={1,0};\nint dy[2]={0,1};\nint m[maxn][maxn];\nint n,ans;\nint l,r,mid;\nint d[maxn*maxn];\nint f[maxn*maxn];\nstruct Edge{\n\tint x,y,v;\n\tbool operator < (const Edge &a)const{\n\t\treturn v<a.v;\n\t}\n}e[maxn*maxn*4];\nint ecnt;\nint abs(int x){\n\treturn x<0?-x:x;\n}\nvoid adde(int x,int y,int v){\n\te[++ecnt].x=x;\n\te[ecnt].y=y;\n\te[ecnt].v=v;\n}\nbool check(int x,int y){\n\tif(x<1||x>n||y<1||y>n){\n\t\treturn false;\n\t}\n\telse{\n\t\treturn true;\n\t}\n}\nint num(int x,int y){\n\treturn n*(x-1)+y;\n}\nint find(int x){\n\treturn f[x]==x?x:f[x]=find(f[x]);\n}\nvoid merge(int a,int b){\n\tint fa=find(a);\n\tint fb=find(b);\n\tif(fa==fb){\n\t\treturn;\n\t}\n\tif(d[fa]>d[fb]){\n\t\tswap(fa,fb);\n\t}\n\tf[fa]=fb;\n\td[fb]+=d[fa];\n\treturn;\n}\nbool solve(int limit){\n\tfor(int i=1;i<=n*n;i++){\n\t\tf[i]=i;\n\t\td[i]=1;\n\t}\n\tfor(int i=1;i<=ecnt;i++){\n\t\tif(e[i].v>limit){\n\t\t\tbreak;\n\t\t}\n\t\tmerge(e[i].x,e[i].y);\n\t}\n\tfor(int i=1;i<=n*n;i++){\n\t\tif(d[find(i)]>=n*n/2){\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\nint main(){\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tcin>>m[i][j];\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tfor(int k=0;k<2;k++){\n\t\t\t\tint nx=i+dx[k];\n\t\t\t\tint ny=j+dy[k];\n\t\t\t\tif(check(nx,ny)){\n\t\t\t\t\tint de=abs(m[i][j]-m[nx][ny]);\n\t\t\t\t\tr=max(r,de);\n\t\t\t\t\tadde(num(i,j),num(nx,ny),de);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tsort(e+1,e+1+ecnt);\n\twhile(l<=r){\n\t\tmid=(l+r)/2;\n\t\tif(solve(mid)){\n\t\t\tans=mid;\n\t\t\tr=mid-1;\n\t\t}\n\t\telse{\n\t\t\tl=mid+1;\n\t\t}\n\t}\n\tprintf(\"%d\",ans);\n}\n```\n\n",
        "postTime": 1569064931,
        "uid": 143418,
        "name": "\u5b51\u5f67",
        "ccfLevel": 0,
        "title": "P3073 \u89e3\u9898\u62a5\u544a"
    },
    {
        "content": "# \u4e8c\u5206\u5927\u6cd5\u597d\n~~ps\uff1a\u4e5f\u4e0d\u77e5\u9053\u54ea\u4e9b\u5927\u4f6c\u8d34\u4e86\u7ebf\u6bb5\u6811\u4e4b\u7c7b\u7684\u6807\u7b7e\uff08tql\uff09\uff0c\u4e5f\u53ef\u80fd\u662f\u6211\u849f\u84bb\u770b\u4e0d\u51fa~~\n\n\n------------\n\u672c\u9898\u662f\u4e00\u4e2a\u6c42\u6700\u503c\u95ee\u9898\uff0c\u5f88\u5bb9\u6613\u5c31\u60f3\u5230\u4e8c\u5206\u76f8\u5dee\u503c\uff0c\u53ea\u662f\u5224\u65ad\u51fd\u6570\u6709\u70b9\u96be\u5199\u3002\u600e\u4e48\u5199\u5462\uff1f\n##### \u6838\u5fc3\u4ee3\u7801\n```c++\nconst int dx[4] = {1, 0, -1, 0}, dy[4] = {0, 1, 0, -1};\nint a[502][502], r = 1e6, l, mid, n, sum;\nbool vis[501][501];\ninline void dfs(int x, int y) {\n    int xi, yi;\n    vis[x][y] = true;\n    sum ++; \n    for (int i = 0; i < 4; i ++) {//\u5411\u56db\u65b9\u6269\u5c55\n        xi = x + dx[i], yi = y + dy[i];\n        if (a[xi][yi] && !vis[xi][yi] && abs(a[x][y] - a[xi][yi]) <= mid) {\n            dfs(xi, yi);//\u5728\u8fd9\u91cc\u4e3a\u4f7f\u5224\u65ad\u53d8\u5c11\uff0c\u6211\u628a\u8282\u70b9\u503c\u90fd\u52a0\u4e861\uff0c\u4f7f\u5176\u4ece\u975e\u8d1f\u6574\u6570\u53d8\u4e3a\u6b63\u6574\u6570\uff0c0\u5c31\u662f\u8fb9\u754c\n        }\n    }\n}\ninline bool check() {\n    memset(vis, false, sizeof(vis));//\u5224\u65ad\u6709\u6ca1\u6709\u5230\u8fc7\n    for (int i = 1; i <= n; i ++) {\n        for (int j = 1; j <= n; j ++) {\n            if (!vis[i][j]) {//\u672a\u8bbf\u95ee\u8fc7\n                sum = 0;//\u6240\u80fd\u5230\u683c\u5b50\u4e2a\u6570\n                dfs(i, j);\n                if ((sum << 1) >= n * n) return true;//\u8d85\u8fc7\u4e00\u534a\n            }\n        }\n    }\n    return false;\n}\n```\n### dfs\u662f\u4ec0\u4e48\uff1fdfs\u5c31\u662f\u6307\u5982\u679c\u6211\u4ece\u8fd9\u4e2a\u70b9\u5f00\u59cb\u904d\u5386\u3002\n### \u5982\u679c\u8fd9\u4e00\u5757\u4e0d\u6ee1\uff0c\u90a3\u4e48\u8981\u4ece\u6211\u6ca1\u904d\u5386\u8fc7\u7684\u70b9\u518d\u6b21\u5f00\u59cb\u641c\u3002\n\u4e0b\u9762\u6765\u8bb2\u8bb2\u4e8c\u5206\u3002\n\u5982\u679cx\u80fd\u6ee1\u8db3\u9898\u76ee\u8981\u6c42\uff0c\u5373\u80fd\u904d\u5386\u7684\u4e00\u534a\u70b9\u4e2d\u4efb\u610f\u4e24\u70b9\u5dee\u503c\u90fd\u5c0f\u4e8e\u7b49\u4e8ex\uff0c\u90a3\u4e48\u6bd4x\u5927\u7684y\u80af\u5b9a\u6ee1\u8db3\u8981\u6c42\u3002\u56e0\u6b64\u672c\u9898\u5177\u6709\u4e8c\u5206\u7684\u6027\u8d28\u3002\n## \u5168\u4ee3\u7801\n```c++\n#include<bits/stdc++.h>\nusing namespace std;\ntemplate <typename T> inline void read(T &x) {\n    x = 0;\n    register int f = 1;\n    register char c = getchar();\n    for (; !isdigit(c); c = getchar()) if (c == '-') f = -1;\n    for (; isdigit(c); c = getchar()) x = (x << 1) + (x << 3) + (c ^ 48);\n    x *= f;\n}\ntemplate <typename T> inline void w(T x) {\n    if (x > 9) w(x / 10);\n    putchar(x % 10 + 48);\n}\ntemplate <typename T> inline void write(T x, char c) {\n//\tif (x < 0) putchar('-'), x = -x;\n    w(x);\n    putchar(c);\n}\nconst int dx[4] = {1, 0, -1, 0}, dy[4] = {0, 1, 0, -1};\nint a[502][502], r = 1e6, l, mid, n, sum;\nbool vis[501][501], flg;\ninline void dfs(int x, int y) {\n    int xi, yi;\n    vis[x][y] = true;\n    sum ++; \n    for (int i = 0; i < 4; i ++) {\n        xi = x + dx[i], yi = y + dy[i];\n        if (a[xi][yi] && !vis[xi][yi] && abs(a[x][y] - a[xi][yi]) <= mid) {\n            dfs(xi, yi);\n        }\n    }\n}\ninline bool check() {\n    flg = false;\n    memset(vis, false, sizeof(vis));\n    for (int i = 1; i <= n; i ++) {\n        for (int j = 1; j <= n; j ++) {\n            if (!vis[i][j]) {\n                sum = 0;\n                dfs(i, j);\n                if ((sum << 1) >= n * n) return true;\n            }\n        }\n    }\n    return false;\n}\nint main() {\n    read(n);\n    for (int i = 1; i <= n; i ++) {\n        for (int j = 1; j <= n; j ++) {\n            read(a[i][j]);\n            a[i][j] ++;\n        }\n    }\n    while(l < r) {\n        mid = (l + r) >> 1;\n        if (check()) {\n            r = mid;\n        }\n        else l = mid + 1;\n    }\n    write(r, '\\n');\n    return 0;\n}\n```\n\n",
        "postTime": 1556348189,
        "uid": 46820,
        "name": "Wall_breaker",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3073 \u3010[USACO13FEB]\u62d6\u62c9\u673aTractor\u3011"
    }
]