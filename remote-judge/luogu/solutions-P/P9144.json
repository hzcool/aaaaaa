[
    {
        "content": "> [P9144 [THUPC 2023 \u521d\u8d5b] \u6700\u540e\u7684\u6d3b\u52a8](https://www.luogu.com.cn/problem/P9144)\n\n\u8bbe $f_i$ \u8868\u793a\u6070\u597d\u51d1\u5230 $i$ \u7684\u6982\u7387\uff0c$f_0 = 1$\u3002\u7528 $f_0\\sim f_{i - 1}$ \u9012\u63a8 $f_i$\u3002\n\n\u6211\u4eec\u76f4\u63a5\u6a21\u62df\u4e00\u8f6e\u8ff7\u5bab\u7684\u8fc7\u7a0b\uff0c\u5728\u6bcf\u4e2a\u51b3\u7b56\u5904\u53d6\u6982\u7387\u8f83\u5927\u503c\uff0c\u51fa\u8ff7\u5bab\u5c31\u8ba4\u4e3a\u6982\u7387\u662f $f_{i - c}$\uff0c\u5176\u4e2d $c$ \u8868\u793a\u672c\u8f6e\u8ff7\u5bab\u83b7\u5f97\u7684\u5206\u6570\u3002\u95ee\u9898\u5728\u4e8e $c$ \u53ef\u80fd\u7b49\u4e8e $0$\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6211\u4eec\u7ed9 $f_i$ \u8d4b\u521d\u503c\uff0c\u90a3\u4e48\u5f97\u5230\u7684 $f_i$ \u76f8\u8f83\u4e8e\u521d\u503c\u4e00\u5b9a\u66f4\u504f\u5411\u4e8e\u771f\u5b9e\u503c\uff0c\u8fd9\u662f\u56e0\u4e3a\u51b3\u7b56\u65f6 $f$ \u7684\u7cfb\u6570\u5728 $[0, 1)$ \u4e4b\u95f4\uff08\u4e0d\u53ef\u80fd\u53d6\u5230 $1$\uff0c\u56e0\u4e3a $u_1 + u_2$ \u548c $v_1 + v_2$ \u5747\u5927\u4e8e $0$\uff0c\u5373\u603b\u6709\u6982\u7387\u5f97\u5206\uff09\uff0c\u6240\u4ee5\u5982\u679c $f$ \u504f\u79bb\u771f\u5b9e\u503c\uff0c\u90a3\u4e48\u504f\u79bb\u7684\u90e8\u5206\u4f1a\u56e0\u4e3a\u4e58\u4e0a\u4e86 $[0, 1)$ \u4e4b\u95f4\u7684\u7cfb\u6570\u800c\u51cf\u5c0f\uff0c\u4f7f\u5f97\u7b54\u6848\u504f\u5411\u771f\u5b9e\u503c\u3002\n\n\u76f4\u63a5\u8fed\u4ee3\u9700\u8981\u5f88\u591a\u8f6e\u624d\u80fd\u6536\u655b\uff0c\u6839\u636e\u5355\u8c03\u6027\u5c06\u8fed\u4ee3\u6362\u6210\u4e8c\u5206\u5c31\u53ef\u4ee5\u63a5\u53d7\u4e86\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal{O}(2 ^ nM\\log \\frac 1 {\\epsilon})$\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nusing ll = long long;\nusing ull = unsigned long long;\n\nbool Mbe;\nconstexpr int N = 8;\nconstexpr int M = 1e4 + 5;\nint n, m, c, s1[N], s2[N];\ndouble u0[N], u1[N], u2[N], v0[N], v1[N], v2[N], f[M];\ndouble dfs(int pos, int acc, int aim) {\n  if(pos > n) return 0;\n  auto F = [&](int c) {return c > aim ? 0 : f[aim - c];};\n  double p1 = max(F(acc + s1[pos]), dfs(pos + 1, acc + s1[pos], aim));\n  double p2 = max(F(acc + s2[pos]), dfs(pos + 1, acc + s2[pos], aim));\n  int sc = acc * c / 100;\n  double u = u0[pos] * F(sc) + u1[pos] * p1 + u2[pos] * p2;\n  double v = v0[pos] * F(sc) + v1[pos] * p1 + v2[pos] * p2;\n  return max(u, v);\n}\n\nbool Med;\nint main() {\n  fprintf(stderr, \"%.3lf MB\\n\", (&Mbe - &Med) / 1048576.0);\n  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);\n  #ifdef ALEX_WEI\n    FILE* IN = freopen(\"1.in\", \"r\", stdin); \n    FILE* OUT = freopen(\"1.out\", \"w\", stdout);\n  #endif\n\n  cin >> n >> m >> c;\n  for(int i = 1; i <= n; i++) {\n    cin >> s1[i] >> s2[i];\n    cin >> u0[i] >> u1[i] >> u2[i];\n    int su = u0[i] + u1[i] + u2[i];\n    u0[i] /= su, u1[i] /= su, u2[i] /= su;\n    cin >> v0[i] >> v1[i] >> v2[i];\n    int sv = v0[i] + v1[i] + v2[i];\n    v0[i] /= sv, v1[i] /= sv, v2[i] /= sv;\n  }\n  f[0] = 1;\n  for(int i = 1; i <= m; i++) {\n    double l = 0, r = 1;\n    for(int _ = 0; _ <= 30; _++) {\n      double m = (l + r) / 2;\n      f[i] = m;\n      if(dfs(1, 0, i) < m) r = m;\n      else l = m;\n    }\n    printf(\"%.9lf \", f[i]);\n  }\n  cerr << 1e3 * clock() / CLOCKS_PER_SEC << \" ms\\n\";\n  return 0;\n}\n```",
        "postTime": 1678414249,
        "uid": 123294,
        "name": "Alex_Wei",
        "ccfLevel": 10,
        "title": "P9144 [THUPC 2023 \u521d\u8d5b] \u6700\u540e\u7684\u6d3b\u52a8"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](/problem/P9144)\n\n\u573a\u4e0a\u6ca1\u52a0\u4e8c\u5206\uff0c\u4e00\u76f4\u5bc4/ll\n\n\u4e00\u770b $n\\le 6$\uff0c\u53ef\u4ee5\u76f4\u63a5\u5bf9\u6bcf\u4e2a\u5173\u5361\u7684\u4e09\u79cd\u51b3\u7b56\u8fdb\u884c\u7206\u641c\uff0c\u53d6\u6982\u7387\u7684 $\\max$\u3002\n\n\u7136\u540e\u4f60\u4f1a\u53d1\u73b0\u641c\u7684\u65f6\u5019\u9700\u8981\u7528\u5230\u81ea\u5df1\u7684\u6982\u7387\uff0c\u8fd9\u65f6\u5019\u8003\u8651\u4e8c\u5206\u3002\u5177\u4f53\u7684\uff0c\u5148\u628a\u8fd9\u4e2a\u6982\u7387\u8bbe\u6210\u67d0\u4e2a\u6570\uff0c\u5982\u679c\u641c\u51fa\u6765\u7684\u7ed3\u679c\u6bd4\u5b83\u5927\uff0c\u5219\u7b54\u6848\u533a\u95f4\u5e94\u8be5\u589e\u5927\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002\n\n\u6ce8\u610f\u7279\u5224\u6389\u7b2c\u4e00\u5173\u5c31\u653e\u5f03\u6216\u8005\u5bc4\u4e86\uff0c\u8fd9\u4e9b\u60c5\u51b5\u662f\u5b8c\u5168\u6ca1\u6709\u610f\u4e49\u7684\u3002\n\n\u7cbe\u5ea6\u4e0d\u80fd\u8bbe\u592a\u5c0f\u4e0d\u7136\u4f1a\u88ab\u5361\u5e38\u3002\n\n\u4ee3\u7801\u5f88\u4e11\uff0c\u4e0d\u8d34\u4e86\u3002",
        "postTime": 1678235247,
        "uid": 127949,
        "name": "cmk666",
        "ccfLevel": 7,
        "title": "P9144 \u9898\u89e3"
    }
]