[
    {
        "content": "- **\u5206\u6790**\n\n  \u628a\u539f\u6765\u5e8f\u5217\u4e0d\u65ad\u4ea4\u6362\u540e\uff0c\u5f97\u5230\u65b0\u7684\u5e8f\u5217\u7684\u3002\u4ea4\u6362\u4e2a\u6570\u5c31\u662f\u539f\u6765\u7f16\u53f7\u7684\u9006\u5e8f\u5bf9\u6570\u3002\n\n  \u6211\u4eec\u8003\u8651\u4e00\u4e2a\u4e2a\u6570\u6765\u5224\u65ad\u3002\n\n  \u663e\u7136\u8d8a\u5927\u7684\u6570\u8d8a\u540e\u8d8a\u4f18\uff0c\u6bcf\u4e2a\u6570\u586b\u5728\u6240\u80fd\u5728\u7684\u6700\u5927\u4f4d\u7f6e\u5373\u53ef\u3002\n\n  \u5b9e\u65f6\u6700\u5927\u503c\u53ef\u4ee5\u7528\u5806\u7ef4\u62a4\u3002\n\n------------\n\n- **\u4ee3\u7801**\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<vector>\n#include<queue>\nusing namespace std;\ntypedef long long ll;\nconst int N=2e5+5;\nint n,a[N],t[N];\nll ans;\nvector<int>v[N];\npriority_queue<int>q;\nint lowbit(int x){return x&(-x);}\nint query(int x)\n{\t\n\tint res=0;\n\tfor(;x;x-=lowbit(x))res+=t[x];\n\treturn res;\n}\nvoid modify(int x,int y){\n\tfor(;x<=n;x+=lowbit(x))t[x]+=y;\n}\nint main()\n{\t\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t{\t\n\t\tscanf(\"%d\",&a[i]);\n\t\tv[a[i]].push_back(i);\n\t}\n\tfor(int i=n;i>=1;i--)\n\t{\n\t\tfor(int j=0;j<v[i].size();j++)\n\t\t\tq.push(v[i][j]);\n\t\tif(q.empty()){ans=-1;break;}\n\t\tint u=q.top();\n\t\tq.pop();\n\t\tans+=1ll*query(u);\n\t\tmodify(u,1);\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1635988908,
        "uid": 39408,
        "name": "Rainy7",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P6642 [CCO2020] Exercise Deadlines"
    },
    {
        "content": "# \u9898\u76ee\u5927\u610f\n\n\u7ed9\u5b9a\u4e00\u4e2a\u5e8f\u5217 $d$\uff0c\u4f60\u9700\u8981\u7528\u6700\u5c0f\u7684\u4ea4\u6362\u6b21\u6570\uff0c\u5f97\u5230\u4e00\u4e2a $d$ \u7684\u6392\u5217 $p$\uff0c\u4f7f\u5f97 $p_i \\leqslant d_{p_{i}}$\u3002\n\n# \u505a\u6cd5\n\n\u8d2a\u5fc3\uff0c$d_i$ \u66f4\u5927\u7684\u80af\u5b9a\u9650\u5236\u66f4\u5c0f\uff0c\u90a3\u5c31\u628a\u5e8f\u5217\u6309\u7167 $d_i$ \u6392\u5e8f\uff0c\u6309\u7167 $d_i$ \u4ece\u5927\u5230\u5c0f\u8d2a\u5fc3\u3002\u53c8\u6211\u4eec\u8981\u9006\u5e8f\u5bf9\u6700\u5c0f\uff0c\u6240\u4ee5\u5c3d\u91cf\u628a $i$ \u5927\u7684\u653e\u5230\u540e\u9762\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a`priority_queue`\u6765\u5b58\u8fd9\u4e9b\u4efb\u52a1\uff0c\u5012\u5e8f\u63d2\u5165\u3002\n\n\u4ea4\u6362\u7684\u6b21\u6570\u4e3a \u8981\u53bb\u7684\u4f4d\u7f6e - \u6392\u5217\u91cc\u7684\u4f4d\u7f6e\u3002\n\n\u590d\u6742\u5ea6\u8fd8\u662f\u4e0d\u591f\u4f18\uff0c\u6211\u4eec\u7528\u4e00\u4e2a\u6811\u72b6\u6570\u7ec4\u7ef4\u62a4\u3002\u521d\u59cb\u65f6\u5168\u90e8\u8bbe\u4e3a1\uff0c\u6bcf\u6b21\u79fb\u52a8\u5c31\u5c06\u5176\u4f4d\u7f6e\u7684\u503c-1\uff0c\u6bcf\u6b21\u67e5\u8be2\u5f97\u5230\u7684\u5c31\u662f\u6392\u540d\u3002\n\n```cpp\n#include <cstdio>\n#include <queue>\nint read() {\n\tregister char ch = getchar();\n\tregister int n = 0;\n\tbool f = 1;\n\twhile (ch < '0' || ch > '9') {\n\t\tif (ch == '-')\n\t\t\tf = 0;\n\t\tch = getchar();\n\t}\n\twhile (ch >= '0' && ch <= '9') {\n\t\tn = (n << 3) + (n << 1) + (ch ^ '0');\n\t\tch = getchar();\n\t}\n\treturn f ? n : -n;\n}\nconst int N = 200005;\ntypedef long long ll;\nint n;\nint t[N];\nint lowbit(int x) {\n\treturn x & (-x);\n}\nvoid build() { // O(N) \u5efa\u6811\n\tfor (int i = 1; i <= n; i++) {\n\t\tt[i]++;\n\t\tint j = i + lowbit(i);\n\t\tif (j <= n)\n\t\t\tt[j] += t[i];\n\t}\n}\nvoid update(int x, int val) {\n\tfor (int i = x; i <= n; i += lowbit(i)) t[i] += val;\n}\nint query(int x) {\n\tint res = 0;\n\tfor (int i = x; i >= 1; i -= lowbit(i)) res += t[i];\n\treturn res;\n}\nstd::deque<int> pos[N];\nstd::priority_queue<int> q;\nint main(void) {\n\tn = read();\n\tfor (int i = 1; i <= n; i++) {\n\t\tint tmp = read();\n\t\tpos[tmp].push_back(i);\n\t}\n\tbuild();\n\tll ans = 0;\n\tfor (int i = n; i >= 1; i--) { // \u6ce8\u610f\u5012\u5e8f\u626b\u63cf\n\t\tfor (int j = 0; j < pos[i].size(); j++) q.push(pos[i][j]);\n\t\tif (q.empty()) {\n\t\t\tans = -1;\n\t\t\tbreak;\n\t\t}\n\t\tconst int x = q.top();\n\t\tq.pop();\n\t\tans += i - query(x);\n\t\tupdate(x, -1);\n\t}\n\tprintf(\"%lld\\n\", ans);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1611732494,
        "uid": 255095,
        "name": "PragmaGCC",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P6642 \u3010[CCO2020] Exercise Deadlines\u3011"
    }
]