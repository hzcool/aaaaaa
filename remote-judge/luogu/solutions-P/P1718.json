[
    {
        "content": "# \u795e\u5947\u7684\u6df1\u641c\uff01\uff01\n\n~~\u7136\u800c\u5c45\u7136\u6709\u4eba\u7528tarjan\u5199~~\n\n***\u5927\u81f4\u601d\u8def***\n\n\u4f7f\u7528f[i][j]\u8868\u793ai\u5230j\u7684\u8ddd\u79bb\uff0cans[i]\u8868\u793a\u7b54\u6848\u7684\u7b2ci\u4e2a\u6570\u662f\u591a\u5c11,used[i]\u8868\u793ai\u8fd9\u4e2a\u70b9\u662f\u5426\u88ab\u7528\u8fc7\n\ndfs\u65f6\uff0c\u5982\u679c\u518d\u6b21\u641c\u7d22\u52301\u5e76\u4e14\u7b54\u6848\u957f\u5ea6\u53d8\u6210\u4e86n+1,\u8bf4\u660e\u627e\u5230\u7b54\u6848\uff08\u56e0\u4e3a\u5b57\u5178\u5e8f\u6700\u5c0f\uff09\uff0c\u8f93\u51fa\u540e\u76f4\u63a5\u9000\u51fa\u7a0b\u5e8f\uff1b\u5426\u5219\uff0c\u6269\u5c55\u8fd9\u4e2a\u70b9\n\ndfs(nownow,anscnt):nownow\u8868\u793a\u5f53\u524d\u7684\u70b9\uff0canscnt\u8868\u793a\u6807\u8bb0\u4e86\u591a\u5c11\u4e2a\u70b9\u3002\n\n\u8be6\u89c1\u6ce8\u91ca\u3002\n\nAC\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,a,b;\nbool f[51][51],used[2500];\nint ans[2500];\nvoid dfs(int nownow,int anscnt)\n{\n    if(nownow==1&&anscnt==n+1)\n    {\n        for(int i=1;i<anscnt;i++) printf(\"%d \",ans[i]);\n        exit(0);//\u8f93\u51fa\u7b54\u6848\uff0c\u76f4\u63a5\u9000\u51fa\n    }\n    for(int i=1;i<=n;i++)\n        if(i!=nownow&&f[nownow][i]&&(!used[i]||(i==1&&anscnt==n)))//\u8fd9\u4e0d\u662f\u5f53\u524d\u7684\u70b9\uff0c\u5e76\u4e14\u8054\u901a\u3001\u800c\u4e14\u6ca1\u6709\u7528\u8fc7\u6216\u8005\u8fd9\u662f1\u5e76\u4e14\u641c\u7d22\u5b8c\u4e86\n        {\n            used[i]=1;ans[anscnt+1]=i;//\u6807\u8bb0\u4e3a\u4f7f\u7528\u8fc7\uff0c\u8bb0\u5f55\n            dfs(i,anscnt+1);\n            used[i]=0;//\u56de\u6eaf\uff0c\u91cd\u65b0\u6807\u8bb0\u4e3a\u6ca1\u6709\u7528\u8fc7\n        }\n}\nint main()\n{\n    scanf(\"%d\",&n);\n    while(scanf(\"%d %d\",&a,&b)!=EOF)\n    {\n        f[a][b]=f[b][a]=1;//\u53cc\u5411\u7684\n    }\n    ans[1]=1;used[1]=1;//1\u8fd9\u4e2a\u70b9\u5df2\u7ecf\u7528\u8fc7\u4e86\uff0c\u6807\u8bb0\u4e00\u4e0b\n    dfs(1,1);\n    return 0;\n}\n\n```",
        "postTime": 1533477666,
        "uid": 54609,
        "name": "LJB00125",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1718 \u3010\u56fe\u5f62\u590d\u539f\u3011"
    },
    {
        "content": "### \u89e3\u9898\u601d\u8def\n\n\u4e0d\u9700\u8981 tarjan \uff0c\u666e\u901a\u7684\u6df1\u641c\u3002\n\n\u4ece\u6bcf\u4e2a\u70b9\u5f00\u59cb\u641c\uff0c\u904d\u5386 $n$ \u4e2a\u70b9\uff0c\u5982\u679c\u904d\u5386\u5230\u7684\u6700\u540e\u4e00\u4e2a\u70b9\u53ef\u4ee5\u5230\u8fbe\u8d77\u70b9\uff0c\u90a3\u4e48\u6211\u4eec\u4e00\u5b9a\u904d\u5386\u5230\u4e86\u4e00\u4e2a\u73af\u3002\n\n\u8fd9\u65f6\u5019\u56e0\u4e3a\u6211\u4eec\u662f\u4ece\u5c0f\u5230\u5927\u5f00\u59cb\u641c\u7684\uff0c\u6240\u4ee5\u6700\u540e\u7684\u7ed3\u679c\u4e00\u5b9a\u662f\u6700\u5c0f\u7684\u5b57\u5178\u5e8f\u3002\n\n\u6211\u4eec\u5c06\u7b2c $i$ \u4e2a\u904d\u5386\u7684\u70b9\u8bb0\u4e0b\u6765\uff0c\u8f93\u51fa\u5373\u53ef\u3002\n\n### AC\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h> \nusing namespace std;\nint n,m,sum,s;\nint ans[60];\nbool all,flag;\nbool a[60][60],vis[60];\nvoid dfs(int k,int cnt){\n    if(flag==true) return;\n\tans[cnt]=k;\n\tif(cnt==n&&a[k][s]==1){\n        for(int i=1;i<=n;i++) cout<<ans[i]<<' ';\n        flag=true;\n        return;\n    }\n    for(int i=1;i<=n;i++){\n        if(a[k][i]&&k!=i&&!vis[i]){\n            vis[i]=1;\n            dfs(i,cnt+1);\n            vis[i]=0;\n        }\n    }\n    \n}\nint main(){ \n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=2*n-3;i++){\n\t    int x,y;\n\t    scanf(\"%d%d\",&x,&y);\n\t    a[x][y]=1;\n\t    a[y][x]=1;\n\t}\n\tfor(int i=1;i<=n;i++){   \n\t    s=i;\n\t    vis[i]=1;\n\t    dfs(i,1);\n\t}\n}\n```\n",
        "postTime": 1622250285,
        "uid": 209808,
        "name": "\u94f6\u6cb3AI",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1718 \u56fe\u5f62\u590d\u539f"
    },
    {
        "content": "~~\u96be\u5f97\u9047\u89c1\u9898\u53f7\u5c0f\u4e8eP2000\u8fd8\u6709\u9898\u89e3\u901a\u9053\u7684\u6a59\u9898qwq~~\n\n## \u9898\u610f\n\n\u4e00\u5f20\u65e0\u5411\u56fe\uff0c\u627e\u5230\u5b83\u552f\u4e00\u7684\u8fc7\u6240\u6709\u70b9\u7684\u56de\u8def\u3002\n\n## \u505a\u6cd5\n\n\u6df1\u641c\uff0c\u4ece\u4efb\u4f55\u4e00\u70b9\uff08\u8fd9\u91cc\u4ece $1$\uff09\u5f00\u59cb\u904d\u5386\u6574\u5f20\u56fe\uff1b\u5982\u679c\u53d1\u73b0\u56de\u5230\u4e86\u904d\u5386\u7684\u8d77\u70b9\u5e76\u4e14 $n$ \u4e2a\u70b9\u90fd\u641c\u8fc7\u4e86\uff0c\u7ed3\u675f\u9012\u5f52\u3002  \n\u6ce8\u610f\u5230 $\\max n=50$\uff0c\u6240\u4ee5\u7528\u90bb\u63a5\u77e9\u9635\u8db3\u77e3\u3002\u53e6\u5916\u8fb9\u6ca1\u6709\u8fb9\u6743\uff0c\u6545\u90bb\u63a5\u77e9\u9635\u53ef\u4ee5\u53ea\u5f00 `bool` \u7c7b\u578b\uff0c\u7a7a\u95f4\u6ca1\u6709\u95ee\u9898\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define maxn 55\nint n,a,b;\nbool g[maxn][maxn]; // \u90bb\u63a5\u77e9\u9635\nbool vis[maxn]; // \u5224\u65ad\u662f\u5426\u5df2\u7ecf\u7ecf\u8fc7\nint ans[maxn],lans; // ans\uff1a\u5b58\u50a8\u7b54\u6848\u7684\u6570\u7ec4(\u4e0b\u6807\u4ece0\u5f00\u59cb)\uff0clans \u4e3a\u5176\u957f\u5ea6\nbool dfs(int u,int depth)\n{\n    if(u==1 && depth==n)\n    {\n        return 1;\n    }\n    for(int v=1;v<=n;++v)\n    {\n        if(g[u][v] && !vis[v])\n        {\n            vis[v]=1;\n            if(dfs(v,depth+1))\n            {\n                ans[lans++]=v;\n                return 1;\n            }\n            vis[v]=0;\n        }\n    }\n    return 0;\n}\nint main()\n{\n    cin >> n;\n    while(cin >> a >> b)\n        g[a][b]=g[b][a]=1; // \u65e0\u5411\u56fe\n    dfs(1,0);\n    cout << ans[0] << \" \";\n    for(int i=lans-1;i>=1;--i)\n        cout << ans[i] << \" \";\n    return 0;\n}\n```\n\n~~\u6ce8\u91ca\u5199\u4e0d\u4e0b\u7684~~\u5bf9\u4ee3\u7801\u4e2d\u4e00\u4e9b\u7ec6\u8282\u7684\u89e3\u91ca\uff1a\n\n- `dfs` \u51fd\u6570\u7684\u53c2\u6570\uff1a$u$ \u4e3a\u5f53\u524d\u8282\u70b9\uff0c`depth` \u4e3a\u9012\u5f52\u6df1\u5ea6\uff0c\u5373\u904d\u5386\u7684\u8282\u70b9\u4e2a\u6570\u3002  \n`dfs` \u51fd\u6570\u7684\u8fd4\u56de\u503c\uff1a$1$ \u4ee3\u8868\u904d\u5386\u5df2\u7ecf\u7ed3\u675f\uff0c\u5904\u4e8e\u8fd4\u56de\u9636\u6bb5\u3002$0$ \u5219\u4ee3\u8868\u9700\u8981\u7ee7\u7eed\u904d\u5386\u3002\n\n- \u4e0e\u4e00\u4e9b\u8d70\u8ff7\u5bab\u7684\u9898\u76ee\u4e0d\u540c\uff0c\u5728\u8c03\u7528 `dfs` \u524d\u4e0d\u80fd `vis[1]=1`\u3002\u56e0\u4e3a\u904d\u5386\u8def\u5f84\u662f\u4e00\u4e2a\u56de\u8def\uff0c\u6700\u540e\u9700\u8981\u518d\u6b21\u641c\u5230 $1$\uff0c\u5982\u679c\u4e00\u5f00\u59cb\u6807\u8bb0 $1$ \u5c31\u4e0d\u80fd\u518d\u8bbf\u95ee $1$ \u4e86\u3002\n\n- \u4e0d\u80fd\u8bbe `g[i][i]=1`\uff0c\u9664\u975e\u5728 `dfs` \u4e2d\u7684 `for` \u91cc\u52a0\u4e0a `if(u!=v)`\u3002\n\n- \u6ce8\u610f\u6700\u540e `ans` \u6570\u7ec4\u8f93\u51fa\u7684\u987a\u5e8f\uff1a\u5148\u8f93\u51fa `ans[0]`\uff0c\u5176\u540e\u7684 `ans[1]` \u5230 `ans[lans-1]` \u5012\u5e8f\u8f93\u51fa\u3002  \n\u9898\u76ee\u8981\u6c42\u6309\u5b57\u5178\u5e8f\u8f93\u51fa\uff0c\u800c `ans` \u5b58\u50a8\u4e86\u6240\u6709 $n$ \u4e2a\u70b9\uff0c\u6240\u4ee5\u8f93\u51fa\u4e00\u5b9a\u8981\u4ece $1$ \u5f00\u59cb\u3002\u53c8\u56e0\u4e3a `ans[0]` \u4e00\u5b9a\u4e3a $1$\uff08\u904d\u5386\u7ec8\u70b9\u4e3a $1$\uff09\uff0c\u6545\u53ef\u4ee5\u5148\u8f93\u51fa `ans[0]`\u3002\u4e4b\u540e\u7684\u90e8\u5206\u56e0\u4e3a\u9012\u5f52\u8fd4\u56de\u7684\u987a\u5e8f\u4e0e\u904d\u5386\u76f8\u53cd\uff0c\u6240\u4ee5\u9700\u8981\u9006\u5e8f\u8f93\u51fa\u3002  \n~~\u53e6\u5916\uff0c\u4f3c\u4e4e\u6709 `lans=n`\uff1f~~",
        "postTime": 1670750248,
        "uid": 450246,
        "name": "Franz_Liszt",
        "ccfLevel": 4,
        "title": "P1718 \u56fe\u5f62\u590d\u539f \u9898\u89e3"
    },
    {
        "content": "1\u9053\u7b80\u5355\u7684\u6df1\u641c\n\nf[i][j] = 1 \u8868\u793a\u70b9i\u4e0e\u70b9j\u76f8\u8fde\n\n\u9898\u76ee\u7684\u610f\u601d\u662f\u8ba9\u6211\u4eec\u627e\u52301\u4e2a\u73af\n\n\u6211\u4eec\u4ece\u70b91\u5f00\u59cbdfs\uff0c\u8bbeans\u6765\u50a8\u5b58\u8d70\u8fc7\u7684\u8def,\u8bbebo\u6765\u5224\u65ad\u80fd\u4e0d\u80fd\u8d70\u5230\u7b2ci\u4e2a\u70b9\uff0c\u5982\u679c\u8981\u8d70\u5c31\u628abo[i]\u6539\u4e3a1\uff0c\u4e4b\u540e\u5c31\u4e0d\u80fd\u91cd\u590d\u8d70\u8fd9\u4e2a\u70b9\n\n\u76f4\u5230\u6211\u4eec\u641c\u4e86n\u6761\u8fb9\u5e76\u4e14\u56de\u5230\u70b91\u5c31\u9000\u51fa,\u6700\u540e\u5faa\u73af\u8f93\u51faans\u5c31\u662f\u7b54\u6848\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\nint n, a, b, f[55][55], bo[55], ans[55];\nusing namespace std;    \ninline int get()\n{\n    char ch;\n    int res = 0;\n    while (((ch = getchar()) < '0' || ch > '9') && ch != '-');\n    if (ch != '-')\n      res = ch - '0';\n    char c;\n    while ((c = getchar()) >= '0' && c <= '9')\n      res = (res << 3) + (res << 1) + c - '0';\n    return ch == '-' ? ~res + 1 : res;\n}\nvoid put(int x)\n{\n    if (x < 0)\n      putchar('-'), x = ~x + 1;\n    if (x > 9) put(x / 10);\n      putchar(x % 10 + '0'); \n}\nbool bl(int l, int z)\n{\n    if (l == n + 1 && z == 1) return true;\n    else if (l < n + 1)\n    {\n        for (int i = 1; i <= n; ++i)\n          if (f[z][i] == 1 && bo[i] == 0)\n          {\n                f[z][i] = 0; f[i][z] = 0; bo[i] = 1; ans[l] = i;\n                if (bl(l + 1, i) == true) return true;\n                f[z][i] = 1; f[i][z] = 1; bo[i] = 0;\n          }\n    }\n    return false;\n}\nint main()\n{\n    n = get();\n    while(scanf(\"%d%d\", &a, &b) == 2)\n    {\n        f[a][b] = 1;\n        f[b][a] = 1;\n    }\n    bl(1, 1);\n    put(1); printf(\" \");\n    for (int i = 1; i <= n - 1; ++i)\n      put(ans[i]), printf(\" \"); \n}\n```",
        "postTime": 1500366951,
        "uid": 30013,
        "name": "\u5c01\u4e8c\u5c11",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1718 \u3010\u56fe\u5f62\u590d\u539f\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P1718)\n\n\u9898\u610f\uff1a\u6c42\u5c06 $n$ \u4e2a\u70b9\u5728\u4e0d\u91cd\u590d\u7684\u60c5\u51b5\u4e0b\u5168\u90e8\u904d\u5386\u4e00\u904d\u7684\u987a\u5e8f\u3002\n### \u601d\u8def\uff1a\n\u8fd9\u91cc\u8bb2\u4e00\u79cd\u6df1\u641c\u65b9\u6cd5\u3002\n- \u9996\u5148\uff0c\u8fd9\u662f\u4e00\u4e2a\u65e0\u5411\u56fe\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\u5b58\u4e0b\u6765\uff0c\u56e0\u4e3a\u4e0d\u77e5\u9053\u6709\u591a\u5c11\u6761\u8fb9\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528  ```while``` \n \u5faa\u73af\u5b58\u8fb9\uff0c\u800c\u7ed3\u679c\u7528\u4e00\u4e2a $b$ \u6570\u7ec4\u5b58\u4e0b\u6765\u3002\n- \u63a5\u7740\uff0c\u6211\u4eec\u5c31\u5f00\u59cb\u641c\u7d22\u56fe\u4e86\uff0c\u56e0\u4e3a\u8981\u662f\u5b57\u5178\u5e8f\u6700\u5c0f\uff0c\u6240\u4ee5\u6211\u4eec\u4ece\u70b9 $1$ \u5f00\u59cb\u641c\u7d22\u3002\u5728\u51fd\u6570\u4e2d\u8981\u5148\u8fdb\u884c\u5224\u65ad\u5982\u679c\u5df2\u7ecf\u5168\u90e8\u904d\u5386\u8fc7\u4e86\u4e14\u5934\u5c3e\u80fd\u76f8\u8fde\u5c31\u8f93\u51fa $b$ \u6570\u7ec4\u4e2d\u7684\u5143\u7d20\uff0c\u5426\u5219\u5c31\u904d\u5386\uff0c\u5bfb\u627e\u80fd\u591f\u5230\u8fbe\u7684\u70b9\u518d\u641c\u7d22\u3002\n#### \u641c\u7d22\u51fd\u6570\u4ee3\u7801\n ```cpp\nvoid dfs(int u,int sum){\n\tif(flag) return;\n\tif(sum==n){\n\t\tif(a[u][1]==1){\n\t\t\tflag=1;\n\t\t\tprint();\n\t\t}\n\t\treturn;\n\t}\n\tfor(int v=1;v<=n;v++){\n\t\tif(a[u][v]==1&&!vis[v]){\n\t\t\tvis[v]=1;\n\t\t\tb[sum+1]=v;\n\t\t\tdfs(v,sum+1);\n\t\t\tvis[v]=0;\n\t\t}\n\t}\n}\n```\n+ \u6700\u540e\u8981\u6ce8\u610f\u4e00\u70b9\u7ec6\u8282\uff1a\u904d\u5386\u524d\u6211\u4eec\u8981\u5148\u628a $b$ \u6570\u7ec4\u7684\u7b2c\u4e00\u4f4d\u6539\u4e3a $1$\uff0c\u56e0\u4e3a\u662f\u4ece $1$ \u70b9\u5f00\u59cb\u3002\n### \u4ee3\u7801\n[\u5b8c\u6574\u4ee3\u7801\u8bf7\u70b9\u8fd9\u91cc](https://www.luogu.com.cn/paste/81ojebyt)",
        "postTime": 1660138297,
        "uid": 445650,
        "name": "hehe625",
        "ccfLevel": 0,
        "title": "P1718\u9898\u89e3"
    },
    {
        "content": "\u672c\u9898\u89e3\u63d0\u4f9b\u672c\u9898\u7684\u4e24\u4e2a\u591a\u9879\u5f0f\u590d\u6742\u5ea6\u7684\u505a\u6cd5\u3002\n\n\u5305\u62ec\u4e00\u4e2a\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n)$ \u7684\u505a\u6cd5\u548c\u4e00\u4e2a\u57fa\u4e8e Tarjan \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2)$ \u7684\u505a\u6cd5\u3002\n\n~~\u672c\u9898\u7684\u9898\u9762\u6570\u636e\u8303\u56f4\u4e3a n \u4e0d\u5927\u4e8e 50\uff0c\u4f46\u5b9e\u9645\u4e0a\u6570\u636e\u4e2d n \u4e0d\u5927\u4e8e20\uff0c\u6240\u4ee5\u9898\u89e3\u4e2d\u5168\u90e8\u662f\u641c\u7d22\u3002\u4f46\u4e8b\u5b9e\u4e0a\u622a\u6b62\u672c\u9898\u89e3\u53d1\u51fa\uff0c\u6ca1\u6709\u4e00\u7bc7\u9898\u89e3\u53ef\u4ee5\u901a\u8fc7 n=50 \u7684\u6570\u636e\u3002~~\n\n\u5148\u7ed9\u51fa\u4e00\u4e2a\u7ed3\u8bba\uff1a\u82e5\u672c\u9898\u5b58\u5728\u7b54\u6848\uff0c\u5219\u4e0d\u5b58\u5728\u4e24\u4e2a\u4e0d\u540c\u7684\u957f\u5ea6\u4e3a n \u7684\u73af\u3002\n\n\u8bc1\u660e\u89c1\u8be5[\u535a\u5ba2](https://www.luogu.com.cn/blog/user754/solution-p1718)\u3002\n\n\u90a3\u4e48\u672c\u9898\u5c31\u76f8\u5f53\u4e8e\u5728\u56fe\u4e2d\u6c42\u51fa\u4e00\u4e2a\u957f\u5ea6\u4e3a n \u7684\u73af\u3002\n\n## \u505a\u6cd51 $O(n)$\n\n\u89c2\u5bdf\u53ef\u5f97\u5982\u679c\u4e00\u4e2a\u70b9\u7684\u5ea6\u6570\u4e3a 2\uff0c\u90a3\u4e48\u76f8\u90bb\u7684\u4e24\u6761\u8fb9\u4e00\u5b9a\u5728\u957f\u5ea6\u4e3a n \u7684\u73af\u5185\u3002\n\n\u5982\u679c\u5b58\u5728\u4e00\u6761\u4ece u \u5230 v \u7684\u957f\u5ea6\u4e0d\u7b49\u4e8e n-1 \u7684\u8def\u5f84\uff0c\u4e14\u8def\u5f84\u4e2d\u7684\u6bcf\u4e00\u4e2a\u8fb9\u90fd\u4e00\u5b9a\u5728\u957f\u5ea6\u4e3a n \u7684\u73af\u5185\uff0c\u90a3\u4e48\u5982\u679c\u8fb9 (u,v) \u5b58\u5728\uff0c\u90a3\u4e48\u5220\u53bb (u,v) \u4e0d\u5f71\u54cd\u7ed3\u679c\u3002\n\n\u4e8e\u662f\u6211\u4eec\u8003\u8651\u5148\u627e\u5230\u4e00\u4e2a\u5ea6\u6570\u4e3a 2 \u7684\u70b9\uff0c\u7136\u540e\u5411\u4e24\u8fb9\u6269\u5c55\uff0c\u5728\u6269\u5c55\u7684\u8fc7\u7a0b\u4e2d\u5220\u53bb\u7aef\u70b9\u95f4\u7684\u8fb9\u3002\n\n\u6269\u5c55\u65f6\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u6269\u5c55\u5230\u7684\u4e0b\u4e00\u4e2a\u70b9 u \u672a\u88ab\u6269\u5c55\u5230\u8fc7\uff0c\u6269\u5c55\u5230\u7684\u4e0b\u4e00\u4e2a\u70b9 u \u88ab\u6269\u5c55\u5230\u8fc7\u3002\n\n1. \u6269\u5c55\u7684\u4e0b\u4e00\u4e2a\u70b9 u \u672a\u88ab\u6269\u5c55\u5230\u8fc7\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u628a\u5f53\u524d\u6269\u5c55\u6bb5\u7684\u7aef\u70b9\u6539\u6210\u65b0\u70b9\uff0c\u7136\u540e\u5224\u65ad\u65b0\u70b9\u4e0e\u53e6\u4e00\u4e2a\u7aef\u70b9\u4e4b\u95f4\u662f\u5426\u6709\u8fb9\u5373\u53ef\u3002\n\n2. \u6269\u5c55\u7684\u4e0b\u4e00\u4e2a\u70b9 u \u88ab\u6269\u5c55\u5230\u8fc7\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u628a\u4e24\u4e2a\u6269\u5c55\u6bb5\u8fdb\u884c\u5408\u5e76\uff0c\u5220\u9664\u7aef\u70b9\u95f4\u7684\u8fb9\uff0c\u7136\u540e\u8003\u8651 u \u76f8\u8fde\u7684\u5176\u4ed6\u8fb9\u3002\u5e94\u4e3a u \u5df2\u7ecf\u786e\u5b9a\u4e86\u76f8\u8fde\u7684\u4e24\u6761\u8fb9\uff0c\u6240\u4ee5\u53ef\u4ee5\u904d\u5386\u4e0e u \u76f8\u8fde\u7684\u8fb9\uff0c\u76f4\u63a5\u5c06\u5176\u4ed6\u8fb9\u5220\u9664\u3002\n\n\u5982\u679c\u53d1\u73b0\u4e24\u4e2a\u8fb9\u754c\u5ea6\u6570\u4e3a 2\uff0c\u4e0d\u80fd\u6269\u5c55\uff0c\u90a3\u4e48\u5c31\u6362\u4e00\u4e2a\u70b9\u6269\u5c55\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5b8c\u6210\u70b9 1 \u7684\u6269\u5c55\u540e\uff0c\u53d1\u73b0\u70b9 2,6 \u7684\u5ea6\u6570\u5747\u4e3a 3\uff0c\u90a3\u4e48\u5c31\u6362\u53e6\u4e00\u4e2a\u5ea6\u6570\u4e3a 2 \u7684\u70b9\uff083 \u6216 5\uff09\u6269\u5c55\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/rnhs6rmv.png)\n\n\u6bd4\u5982\u518d\u6362\u6210\u70b9 5 \u8fdb\u884c\u6269\u5c55\uff0c\u90a3\u4e48\u7b2c\u4e00\u6b21\u4f1a\u5220\u9664\u8fb9 (4,6),(2,4)\uff0c\u6269\u5c55\u6bb5\u7684\u7aef\u70b9\u5373\u4e3a 2 \u548c 4\uff0c\u7b2c\u4e8c\u6b21\u6269\u5c55\u5230 3 \uff0c\u7136\u540e\u95ee\u9898\u5c31\u89e3\u51b3\u4e86\u3002\n\n\u5173\u4e8e\u6b63\u786e\u6027\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u89c2\u5bdf\uff1a\n\n\u4e00\u4e2a\u51f8 $n(n\\ge3)$ \u8fb9\u5f62\u4e2d\u6709\u82e5\u5e72\u6761\u4e0d\u4ea4\u53c9\u7684\u5bf9\u89d2\u7ebf\uff0c\u90a3\u4e48\u5fc5\u7136\u5b58\u5728\u70b9\u7684\u5ea6\u6570\u4e3a 2\u3002\n\n\u8bc1\u660e\u7565\u3002\n\n\u4e8e\u662f\u6bcf\u6b21\u628a\u5ea6\u6570\u4e3a 2 \u7684\u70b9\u6269\u5c55\uff0c\u76f8\u5f53\u4e8e\u5c06\u8fd9\u4e2a\u6269\u5c55\u6bb5\u91cc\u7684\u70b9\u7f29\u6210\u4e00\u4e2a\u5927\u70b9\u3002\u5982\u679c\u5269\u4f59\u7684\u70b9\u5927\u4e8e 2\uff0c\u90a3\u4e48\u65b0\u7684\u56fe\u4f9d\u65e7\u6ee1\u8db3\u9650\u5236\u6761\u4ef6\uff0c\u53ef\u4ee5\u7ee7\u7eed\u6269\u5c55\u3002\n\n\u6700\u540e\u662f\u4e00\u4e9b\u7ec6\u8282\uff1a\n\n1. \u4e0a\u6587\u4e2d\u6709\u63d0\u5230\u6269\u5c55\u6269\u5c55\u6bb5\u540e\u9700\u8981\u5224\u65ad\u7aef\u70b9\u95f4\u662f\u5426\u5b58\u5728\u8fb9\u3002\u4e0b\u6587\u7684\u4ee3\u7801\u7684\u5b9e\u73b0\u53ef\u4ee5\u4fdd\u8bc1\u6bcf\u4e00\u6b21\u64cd\u4f5c\u4e25\u683c $O(1)$\uff08\u8bf4\u660e\u53ef\u4ee5\u89c1\u9644\u6ce8\uff09\u3002\u4f46\u5b9e\u9645\u4e0a\u53ea\u9700\u8981\u904d\u5386\u4e24\u7aef\u70b9\u5ea6\u6570\u8f83\u5c0f\u7684\u70b9\uff0c\u5373\u53ef\u5b9e\u73b0\u6bcf\u4e00\u6b21\u64cd\u4f5c\u5747\u644a $O(1)$\uff0c\u540c\u6837\u53ef\u4ee5\u505a\u5230\u603b\u590d\u6742\u5ea6 $O(n)$\u3002\n\n2. \u5408\u5e76\u6269\u5c55\u6bb5\u53ef\u4ee5\u7701\u6389\u5e76\u67e5\u96c6\uff0c\u56e0\u4e3a\u53ea\u6709\u7aef\u70b9\u4f1a\u4e0e\u975e\u8be5\u6269\u5c55\u6bb5\u7684\u70b9\u6709\u8fde\u8fb9\uff0c\u6269\u5c55\u65f6\u53ea\u9700\u4fee\u6539\u7aef\u70b9\u7684\u6240\u5c5e\u6269\u5c55\u6bb5\u3002\u4f46\u662f\u8fd9\u6837\u53ef\u80fd\u4f1a\u5728\u6269\u5c55\u65f6\u6269\u5c55\u5230\u6bb5\u5185\u7684\u7ed3\u70b9\uff0c\u6240\u4ee5\u4e0b\u6587\u4ee3\u7801\u4e2d\u8fd8\u8bb0\u5f55\u4e86\u7aef\u70b9\u7684\u76f8\u90bb\u7ed3\u70b9\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u5206\u6790\uff1a\n\n\u6613\u5f97\u8fb9\u6570 $m$ \u6ee1\u8db3 $n\\le m\\le 2n-3$\u3002\n\n\u6bcf\u4e00\u4e2a\u70b9\u81f3\u591a\u6269\u5c55\u4e00\u6b21\uff0c\u6545\u6269\u5c55\u603b\u590d\u6742\u5ea6\u4e3a $O(m)=O(n)$\u3002\n\n\u5224\u65ad\u7aef\u70b9\u95f4\u7ebf\u6bb5\u81f3\u591a $O(n)$ \u6b21\uff0c\u6bcf\u4e00\u6b21 $O(1)$ \uff0c\u6545\u603b\u590d\u6742\u5ea6\u4e3a $O(n)$\u3002\n\n\u5408\u5e76\u6269\u5c55\u6bb5\u65f6\uff0c\u9700\u8981\u904d\u5386\u5408\u5e76\u70b9\u76f8\u8fde\u7684\u8fb9\uff0c\u6bcf\u4e00\u6761\u8fb9\u81f3\u591a\u88ab\u904d\u5386 2 \u6b21\uff0c\u8fd9\u90e8\u5206\u7684\u590d\u6742\u5ea6\u4e3a $O(m)=O(n)$\u3002\n\n\u5176\u4ed6\u90e8\u5206\u590d\u6742\u5ea6\u4e5f\u4e3a $O(n)$\u3002\n\n\u6240\u4ee5\u603b\u590d\u6742\u5ea6\u4e3a $O(n)$\u3002\n\n\u53c2\u8003\u4ee3\u7801\uff1a\n\n```\n#include<cstdio>\n#include<cstring>\nconst int N = 500010;\nint l[N],r[N],col[N],d[N],q[N],sz[N],t,h,dd[N],adj[N];\nint ver[N*4],next[N*4],head[N],ecnt = 1;\nint _index[N][2],val[N][2],q1[N],cnt1;\nbool exist[N*4];\nint n,ll,rr,last,nxt,u,v;\nvoid add_edge(int u,int v)\n{\n    ver[++ecnt] = v,next[ecnt] = head[u],head[u] = ecnt;\n}\nint find(int u,int v)\n{\n\tif (_index[u][0] == v)\n\t\treturn val[u][0];\n\tif (_index[u][1] == v)\n\t\treturn val[u][1];\n\treturn 0;\n}\nvoid delete_edge(int u,int v)\n{\n\tint p = find(u,v)+find(v,u);\n\tif (p && exist[p])\n\t{\n\t\texist[p] = exist[p^1] = 0;\n\t\t--d[u],--d[v];\n\t}\n}\nint find_adj(int u)\n{\n\tfor (int i = head[u];i;i = next[i])\n\t\tif (exist[i] && col[ver[i]] != col[u] && ver[i] != adj[u])\n\t\t\treturn ver[i];\n    return 0;\n}\nint main()\n{\n\t//freopen(\"1.in\",\"r\",stdin);\n\t//freopen(\"1.out\",\"w\",stdout);\n\tscanf(\"%d\",&n);\n\twhile (scanf(\"%d%d\",&u,&v) != EOF)\n\t\tadd_edge(u,v),add_edge(v,u),++d[u],++d[v];\n\tmemset(exist,0xff,sizeof(bool)*(ecnt+10));\n\tfor (int i = 1;i <= n;++i)\n\t{\n\t\tif (d[i] == 2)\n\t\t\tq[++t] = i;\n\t\tdd[i] = d[i];\n\t\tif (dd[i] <= 2)\n\t\t\tq1[++cnt1] = i;\n\t}\n   //\u4ee5\u4e0b\u90e8\u5206\u662f\u4e3a\u4e86\u4e0b\u9762\u53ef\u4ee5O(1)\u67e5\u8be2\u4efb\u610f\u4e24\u70b9\u95f4\u662f\u5426\u6709\u8fb9\u76f8\u8fde\n\twhile (cnt1)\n\t{\n\t\tint x = q1[cnt1--];\n\t\tfor (int i = head[x];i;i = next[i])\n\t\t\tif (exist[i])\n\t\t\t{\n\t\t\t\texist[i] = exist[i^1] = 0,--dd[ver[i]];\n\t\t\t\tif (_index[x][0])\n\t\t\t\t\t_index[x][1] = ver[i],val[x][1] = i;\n\t\t\t\telse\n\t\t\t\t\t_index[x][0] = ver[i],val[x][0] = i;\n\t\t\t\tif (dd[ver[i]] == 2)\n\t\t\t\t\tq1[++cnt1] = ver[i];\n\t\t\t}\n\t}\n   //\n\tmemset(exist,0xff,sizeof(bool)*(ecnt+10));\n    while (h++ < t)\n    {\n        if (col[q[h]])\n            continue;\n        col[q[h]] = h,sz[h] = 1;\n\t\tll = find_adj(q[h]);\n        if (col[ll] == 0)\n            col[ll] = h,++sz[h],adj[l[h] = ll] = q[h];\n        else\n        {\n            sz[h] += sz[col[ll]],l[h] = l[col[ll]]+r[col[ll]]-ll,col[l[h]] = col[ll] = h;\n            for (int i = head[ll];i;i = next[i])\n                if (exist[i] && col[ver[i]] != h && ver[i] != adj[ll])\n                    exist[i] = exist[i^1] = 0,--d[ver[i]],--d[ll];\n        }\n        rr = find_adj(q[h]);\n        if (col[rr] == 0)\n            col[rr] = h,++sz[h],adj[r[h] = rr] = q[h];\n        else\n        {\n            sz[h] += sz[col[rr]],r[h] = l[col[rr]]+r[col[rr]]-rr,col[r[h]] = col[rr] = h;\n            for (int i = head[rr];i;i = next[i])\n                if (exist[i] && col[ver[i]] != h && ver[i] != adj[rr])\n\t\t\t\t\texist[i] = exist[i^1] = 0,--d[ver[i]],--d[rr];\n        }\n        if (l[h] != ll && r[h] != rr)\n            delete_edge(ll,rr);\n        if (r[h] != rr)\n            delete_edge(l[h],rr);\n        if (l[h] != ll)\n            delete_edge(ll,r[h]);\n        if (sz[h] < n)\n            delete_edge(l[h],r[h]);\n        if (sz[h] == n)\n            break;\n        while (l[h] != r[h] && (d[l[h]] == 2 || d[r[h]] == 2) && sz[h] < n)\n        {\n            if (d[l[h]] == 2)\n            {\n                ll = find_adj(l[h]);\n                if (col[ll] == 0)\n                    ++sz[h],adj[ll] = l[h],col[l[h] = ll] = h;\n                else\n                {\n\t\t\t\t\tsz[h] += sz[col[ll]],l[h] = l[col[ll]]+r[col[ll]]-ll,col[l[h]] = h;\n\t\t\t\t\tfor (int i = head[ll];i;i = next[i])\n\t\t\t\t\t\tif (exist[i] && col[ver[i]] != h && ver[i] != adj[ll])\n\t\t\t\t\t\t\texist[i] = exist[i^1] = 0,--d[ver[i]],--d[ll];\n\t\t\t\t\tdelete_edge(ll,r[h]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\trr = find_adj(r[h]);\n\t\t\t\tif (col[rr] == 0)\n\t\t\t\t\t++sz[h],adj[rr] = r[h],col[r[h] = rr] = h;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsz[h] += sz[col[rr]],r[h] = l[col[rr]]+r[col[rr]]-rr,col[r[h]] = h;\n\t\t\t\t\tfor (int i = head[rr];i;i = next[i])\n\t\t\t\t\t\tif (exist[i] && col[ver[i]] != h && ver[i] != adj[rr])\n\t\t\t\t\t\t\texist[i] = exist[i^1] = 0,--d[ver[i]],--d[rr];\n\t\t\t\t\tdelete_edge(l[h],rr);\n                }\n\t\t\t}\n\t\t\tif (sz[h] < n)\n\t\t\t\tdelete_edge(l[h],r[h]);\n\t\t}\n\t}\n\tprintf(\"1\"),last = 1,nxt = n;\n\tfor (int i = head[1];i;i = next[i])\n\t\tif (exist[i] && ver[i] < nxt)\n\t\t\tnxt = ver[i];\n\tprintf(\" %d\",nxt);\n\tfor (int i = 1;i <= n-2;++i)\n\t\tfor (int j = head[nxt];j;j = next[j])\n\t\t\tif (exist[j] && ver[j] != last)\n\t\t\t{\n\t\t\t\tprintf(\" %d\",ver[j]),last = nxt,nxt = ver[j];\n\t\t\t\tbreak;\n\t\t\t}\n\tputs(\"\");\n\treturn 0;\n}\n```\n\n## \u505a\u6cd52 $O(n^2)$\n\n\u8be5\u505a\u6cd5\u975e\u672c\u4eba idea\uff0c\u56e0\u4e0e\u4e0a\u6587\u60f3\u6cd5\u5f88\u4e0d\u76f8\u540c\uff0c\u6545\u5217\u4e0e\u6b64\u3002\n\n\u8003\u8651\u5230\u672c\u9898\u7684\u56fe\u662f\u4e00\u4e2a\u8fb9\u53cc\u8054\u901a\u5206\u91cf\u3002\n\n\u5982\u679c\u5220\u53bb\u4e00\u6761\u5bf9\u89d2\u7ebf\uff0c\u90a3\u4e48\u672c\u9898\u7684\u56fe\u8fd8\u662f\u4e00\u4e2a\u8fb9\u53cc\u8054\u901a\u5206\u91cf\u3002\n\n\u5982\u679c\u5220\u53bb\u4e00\u6761\u591a\u8fb9\u5f62\u4e0a\u7684\u8fb9\uff0c\u90a3\u4e48\u672c\u9898\u7684\u56fe\u5c31\u4e0d\u518d\u662f\u4e00\u4e2a\u8fb9\u53cc\u8054\u901a\u5206\u91cf\u3002\n\n\u4ee5\u4e0a\u7ed3\u8bba\u8bc1\u660e\u7565\u3002\n\n\u6545\u5bf9\u4e8e\u6bcf\u4e00\u6761\u8fb9\uff0c\u5224\u65ad\u5176\u5220\u53bb\u540e\u662f\u5426\u4e3a\u8fb9\u53cc\u8054\u901a\u5206\u91cf\u5373\u53ef\u3002\n\n\u8fb9\u6570\u4e3a $m=O(n)$ \uff0c\u6bcf\u4e00\u6b21 Tarjan \u65f6\u95f4\u4e3a $O(n)$\uff0c\u6545\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2)$\u3002\n\n### \u9644\u6ce8\n\n\u4e0a\u6587\u63d0\u5230\u53ef\u4ee5\u505a\u5230\u67e5\u8be2\u4efb\u610f\u4e24\u70b9\u95f4\u662f\u5426\u6709\u8fb9\u5355\u6b21 $O(1)$\uff0c\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n\u8003\u8651\u5c06\u4e00\u6761\u8fb9 (u,v) \u5b58\u50a8\u5728\u5176\u4e00\u4e2a\u7aef\u70b9\u4e0a\uff0c\u67e5\u8be2\u65f6\u5728\u4e24\u4e2a\u7aef\u70b9\u67e5\u8be2\u3002\n\n\u8003\u8651\u6bcf\u4e00\u6b21\u5728\u56fe\u4e2d\u627e\u5230\u5ea6\u6570\u4e0d\u5927\u4e8e 2 \u7684\u70b9\uff0c\u5c06\u76f8\u90bb\u7684\u4e24\u6761\u8fb9\u5b58\u5728\u8fd9\u4e2a\u70b9\u4e0a\uff0c\u7136\u540e\u5c06\u8fd9\u4e2a\u70b9\u548c\u76f8\u8fde\u7684\u8fb9\u5220\u6389\u3002\n\n\u73b0\u5728\u7684\u56fe\u5f62\u5982\u4e00\u4e2a\u4e2d\u95f4\u53ef\u80fd\u6709\u4e00\u4e9b\u4e0d\u4ea4\u53c9\u5bf9\u89d2\u7ebf\u7684\u51f8\u591a\u8fb9\u5f62\u548c\u4e00\u4e9b\u4ee5\u591a\u8fb9\u5f62\u7684\u7aef\u70b9\u4e3a\u6839\u7684\u6811\u6216\u8005\u4e00\u68f5\u6811\uff0c\u56e0\u4e3a\u4e0a\u6587\u7684\u89c2\u5bdf\uff0c\u56fe\u4e2d\u603b\u5b58\u5728\u5ea6\u6570\u4e0d\u5927\u4e8e 2 \u7684\u70b9\uff0c\u6545\u53ef\u4ee5\u4e00\u76f4\u5220\u9664\u3002\n\n\u56e0\u4e3a\u6bcf\u4e00\u4e2a\u7ed3\u70b9\u4fdd\u5b58\u7684\u8fb9\u6570\u4e0d\u5927\u4e8e 2\uff0c\u6545\u5355\u6b21\u67e5\u8be2\u590d\u6742\u5ea6\u4e3a $O(1)$\u3002\n\n\u9274\u4e8e\u672c\u9898\u5f53 n \u8f83\u5927\u65f6\u65e0\u5904\u8bc4\u6d4b\uff0c\u6545\u6b64\u5904\u63d0\u4f9b\u4e00\u4e2a\u672c\u4eba\u5199\u7684\u6570\u636e\u751f\u6210\u5668\uff0c\u89c1[\u6b64](https://www.luogu.com.cn/blog/hjrhhh/p1718-ti-xie-san-kao-zi-liao)\u3002\n\n### Reference\n\n[1][https://www.luogu.com.cn/blog/user754/solution-p1718](https://www.luogu.com.cn/blog/user754/solution-p1718)\n\n[2][https://www.luogu.com.cn/blog/hjrhhh/p1718-ti-xie-san-kao-zi-liao](https://www.luogu.com.cn/blog/hjr626824755hhh/p1718-ti-xie-san-kao-zi-liao)",
        "postTime": 1670994777,
        "uid": 223529,
        "name": "huangjiarui",
        "ccfLevel": 7,
        "title": "P1718\u9898\u89e3"
    },
    {
        "content": "### \u9898\u610f\n\n\u7ed9\u51fa\u4e00\u5f20\u65e0\u5411\u56fe\uff0c\u627e\u51fa\u4e00\u6761\u7ecf\u8fc7\u6240\u6709\u70b9\u7684\u8def\u5f84\uff0c\u4f7f\u5176\u5b57\u5178\u5e8f\u6700\u77ed\u3002\n### \u601d\u8def\n\n\u6211\u4eec\u53ef\u4ee5\u5148\u5efa\u4e2a\u65e0\u5411\u56fe\uff0c\u53ef\u4ee5\u7528\u4e8c\u7ef4\u6570\u7ec4\u5b58\u56fe\uff0c\u4e5f\u53ef\u4ee5\u7528\u94fe\u8868\u6216 $vector$ \u5b58\u56fe\u3002\n\n\u7136\u540e\u4ee5 $1$ \u5f00\u59cb\u641c\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u8981\u4f7f\u5b57\u5178\u5e8f\u6700\u5c0f\uff0c\u4ee5 $1$ \u5f00\u59cb\u80fd\u4fdd\u8bc1\u662f\u6700\u5c0f\u7684\u3002\n\n\u641c\u7684\u8fc7\u7a0b\u4e2d\u7528\u4e00\u4e2a\u6570\u7ec4\u4fdd\u5b58\u8def\u5f84\u5c31\u884c\u4e86\u3002\n### \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,x,y,a[100][100],d[100],f[100];\nvoid out(){\n\tfor(int i=1;i<n;i++)printf(\"%d \",d[i]);\n\tprintf(\"%d\\n\",d[n]);\n\texit(0);\n}\nvoid dfs(int x,int k){//k\u53ef\u4ee5\u7406\u89e3\u4e3a\u6df1\u5ea6 \n\td[k]=x;//\u6807\u8bb0\u8def\u5f84 \n\tif(k==n){ \n\t\tif(a[x][1])out();\n\t\telse return;\n\t}\n\tfor(int i=1;i<=n;i++){//\u679a\u4e3e\u5404\u4e2a\u70b9 \n\t\tif(a[x][i]&&!f[i]){\n\t\t\tf[i]=1;\n\t\t\tdfs(i,k+1);\n\t\t\tf[i]=0;\n\t\t}\n\t}\n\treturn;\n}\nint main(){\n\tcin>>n;\n\twhile(cin>>x>>y)a[x][y]=a[y][x]=1;//\u7528\u6570\u7ec4\u6807\u8bb0,\u7528vector\u4e5f\u884c \n\tf[1]=1;\n\tdfs(1,1);//\u4ece1\u904d\u5386\uff0c\u56e0\u4e3a1\u5f00\u59cb\u662f\u5b57\u5178\u5e8f\u6700\u5c0f\u7684 \n} \n```\n",
        "postTime": 1660032334,
        "uid": 638192,
        "name": "Exotic_sum",
        "ccfLevel": 4,
        "title": "\u56fe\u5f62\u590d\u539f"
    },
    {
        "content": "## ~~\u6c34\u9898~~\n\u7528dfs+\u56de\u6eaf\u904d\u5386\n\n\u5b57\u5178\u5e8f\u8f83\u5c0f\u53ea\u9700\u8981\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\uff0c\u5224\u65ad\u6bcf\u4e2a\u70b9\u662f\u5426\u4e0e\u5f53\u524d\u70b9\u8fde\u901a\uff0c\u4e14\u6ca1\u6709\u88ab\u904d\u5386\u8fc7\uff0c\u5177\u4f53\u770b\u4ee3\u7801\n\n### [Code]\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,x,y,a[100][100]={},f[100]={},p[100]={};\nvoid print()//\u8f93\u51fa\n{\n\tfor(int i=1;i<n;i++)printf(\"%d \",p[i]);\n\tprintf(\"%d\\n\",p[n]);\n\texit(0);\n}\nvoid dfs(int x,int k)//dfs\u904d\u5386\uff0cx\u8868\u793a\u5f53\u524d\u70b9\u7f16\u53f7\uff0ck\u8868\u793a\u5f53\u524d\u5230\u7b2c\u51e0\u4e2a\n{\n\tp[k]=x;//\u8bb0\u5f55\u7f16\u53f7\uff0c\u8f93\u51fa\u8981\u7528\n\tif(k==n)\n\t{\n\t\tif(a[x][1])print();//\u6ee1\u8db3\u6761\u4ef6\u5c31\u8f93\u51fa\n\t\telse return;\n\t}\n\tfor(int i=1;i<=n;i++)//\u904d\u5386\u6bcf\u4e2a\u70b9\n\t{\n\t\tif(a[x][i]&&!f[i])//\u8fde\u901a\u4e14\u6ca1\u904d\u5386\u8fc7\n\t\t{\n\t\t\tf[i]=1;\n\t\t\tdfs(i,k+1);//\u5f80\u4e0b\u904d\u5386\n\t\t\tf[i]=0;//\u56de\u6eaf\n\t\t}\n\t}\n\treturn;\n}\nint main()\n{\n    \n\tscanf(\"%d\",&n);\n\twhile(cin>>x>>y)\n\t{\n\t\ta[x][y]=a[y][x]=1;//\u65e0\u5411\u56fe\n\t}\n\tf[1]=1;dfs(1,1);//\u4ece\u7b2c\u4e00\u4e2a\u70b9\u5f00\u59cb\u904d\u5386\n\treturn 0;\n}\n```",
        "postTime": 1595592741,
        "uid": 199230,
        "name": "YB_is_short",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1718 \u3010\u56fe\u5f62\u590d\u539f\u3011"
    },
    {
        "content": "\u5176\u5b9e\u5f53\u6211\u7b2c\u4e00\u773c\u770b\u5230\u8fd9\u9053\u9898\uff0c\u7b2c\u4e00\u53cd\u5e94\u662f tarjian\u3002\u6bd5\u7adf\u6570\u636e\u5f88\u5c0f\u3002\u4e0d\u7528\u6015\u8d85\u65f6\u3002\u4f46\u662f\u6211\u6253\u5230\u4e00\u534a\uff0c\u53d1\u73b0\u6ca1\u8fd9\u4e48~~\u7b80\u5355~~\u96be\u3002\n\n\u8fd9\u9053\u9898\u5b8c\u5168\u53ef\u4ee5\u7206\u641c\u554a\uff01\n\n\u7ed9\u5927\u5bb6\u8bb2\u8bb2\u6211\u7684\u601d\u8def\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u786e\u5b9a\u8fd9\u662f\u4e00\u4e2a $n$ \u8fb9\u5f62\u3002\u5e76\u4e14\u4ed6\u80af\u5b9a\u4f1a\u5f62\u6210\u4e00\u4e2a\u81ea\u73af\u3002\u8fd9\u91cc\u6211\u5b9a\u4e49 $cnt$ \u8868\u793a\u6211\u4eec\u5df2\u7ecf\u641c\u4e86 $cnt$ \u6761\u8fb9\uff0c$u$ \u8868\u793a\u6211\u4eec\u73b0\u5728\u5df2\u7ecf\u641c\u5230\u4e86\u8fb9 $u$\u3002\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u5224\u65ad\u5f53 `if (cnt==n+1&&u==1)` \u4e5f\u5c31\u662f\u5df2\u7ecf\u641c\u4e86 $n+1$ \u6761\u8fb9\uff0c\u4e5f\u5c31\u662f\u641c\u5b8c\u4e86\u3002\u5e76\u4e14 $u$ \u7684\u503c\u4e3a 1\u3002\u4e5f\u5c31\u8868\u793a\u6211\u4eec\u56de\u5230\u4e86\u8d77\u70b9\u3002\u90a3\u4e0d\u5c31\u8868\u793a\u6211\u4eec\u641c\u5230\u4e86\u73af\u5417\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u5728\u7206\u641c\u7684\u540c\u65f6\u5224\u65ad\u662f\u5426\u6210\u73af\u5373\u53ef\u3002\n\n\u5148\u7ed9\u5927\u5bb6\u770b\u770b\u6211\u7684 dfs\u3002\n\n```cpp\nbool dfs (int u, int cnt) {\n\tif (cnt == n + 1 && u == 1) return true;\n\tfor (int i = 1 ; i <= n ; i++) {\n\t\tif (a[u][i] && !f[i]) {\n\t\t\tf[i] = 1;\n\t\t\ta[u][i] = a[i][u] = 0;\n\t\t\tscc[cnt] = i;\n\t\t\tif (dfs (i, cnt + 1)) return true;\n            f[i] = 0;\n\t\t\ta[u][i] = a[i][u] = 1;\n\t\t}\n\t}\n\treturn false;\n}\n\n```\n\u8fd9\u91cc\u6211\u4e3a\u4ec0\u4e48\u8981\u7528 bool \u5462\uff0c\u5e94\u4e3a\u5047\u5982\u4f60\u5df2\u7ecf\u641c\u5230\u4e86\u73af\u3002\u4f46\u662f\u4f60 return \u4e4b\u540e\u4ed6\u7684\u4e0a\u4e00\u5c42\u5faa\u73af\u8fd8\u5728\u7ee7\u7eed\u3002\u6b64\u65f6\u4ed6\u5c31\u4f1a\u6d6a\u8d39\u8bb8\u591a\u65f6\u95f4\u5e76\u5bfc\u81f4\u7b54\u6848\u9519\u8bef\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u7528 bool \u4f18\u5316\u4e00\u4e0b\u3002\u6211\u8fd9\u91cc\u7528\u6570\u7ec4\u6765\u4fdd\u5b58\u7b54\u6848\uff0c\u4f46\u662f\u6ce8\u610f\uff0c\u6211\u4eec\u5728\u8f93\u51fa\u7684\u65f6\u5019\u4e0d\u7528\u8f93\u51fa\u5230 $scc_n$\u3002\u5e94\u4e3a\u4ed6\u6700\u540e\u4e00\u4f4d\u662f 1\uff0c\u5e94\u4e3a\u4ed6\u51fa\u73b0\u4e86\u81ea\u73af\uff0c\u56de\u5230\u4e86\u539f\u70b9\u3002\u6240\u4ee5\u4ece $scc_1$ \u8f93\u51fa\u5230 $scc_n-1$ \u5373\u53ef\n\n\u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nint n, m, a[55][55], f[55], scc[55];\n\nbool dfs (int u, int cnt) {\n\tif (cnt == n + 1 && u == 1) return true;\n\tfor (int i = 1 ; i <= n ; i++) {\n\t\tif (a[u][i] && !f[i]) {\n\t\t\tf[i] = 1;\n\t\t\ta[u][i] = a[i][u] = 0;\n\t\t\tscc[cnt] = i;\n\t\t\tif (dfs (i, cnt + 1)) return true;\n            f[i] = 0;\n\t\t\ta[u][i] = a[i][u] = 1;\n\t\t}\n\t}\n\treturn false;\n}\n\nint main ()\n{\n    cin >> n;\n    int x, y;\n    while (cin >> x >> y) a[y][x] = a[x][y] = 1;\n    cout << \"1 \";\n\tdfs (1, 1);\n\tfor (int i = 1 ; i < n ; i++) cout << scc[i] << ' ';\n    return 0;\n}\n```\n",
        "postTime": 1660047324,
        "uid": 381189,
        "name": "xiezihanAKIOI",
        "ccfLevel": 3,
        "title": "tj"
    },
    {
        "content": "\u6bd4\u8f83\u6709\u610f\u601d\u7684\u4e00\u9053\u9898\u3002\n\n\u5173\u952e\u5728\u4e8e\u60f3\u5230\u95ee\u9898\u7684\u672c\u8d28\u662f\u641c\u7d22\u4e00\u4e2a\u73af\uff0c\u5305\u62ec\u6240\u6709\u7684\u9876\u70b9\u3002\n\n\u9996\u5148\u5b8c\u6210\u4e00\u4e2a\u8bc1\u660e\uff0c\u5047\u5982\u4e00\u4e2a\u591a\u8fb9\u5f62\uff0c\u9876\u70b9\u4f9d\u6b21\u662f1\u30012\u30013..n\uff0c\u6ca1\u6709\u8fde\u63a5\u76f8\u4ea4\u7684\u5bf9\u89d2\u7ebf\uff0c\u90a3\u4e48\u5b83\u53ea\u6709\u4e00\u4e2a\u5305\u62ec\u6240\u6709\u9876\u70b9\u7684\u73af\u3002\u5047\u8bbe\u5b58\u5728\u7b2c\u4e8c\u4e2a\uff0c\u90a3\u4e48\u4ece1\u53f7\u70b9\u5f00\u59cb\u8fde\u63a5\u8fd9\u4e2a\u73af\uff0c\u5fc5\u6709\u8fd9\u6837\u4e00\u4e2a\u70b9i\uff0c\u5b83\u8fde\u63a5\u7684\u4e0d\u662fi+1\u53f7\u70b9(\u5047\u5982\u4e0d\u5b58\u5728\u8fd9\u6837\u7684\u70b9\uff0c\u5c31\u548c\u539f\u591a\u8fb9\u5f62\u4e00\u6837\u4e86\uff09\uff0c\u8fd9\u6761\u7531i\u8fde\u5411i+j\u70b9\u7684\u7ebf\u6bb5\u628a\u6574\u4e2a\u70b9\u96c6\u5206\u6210\u4e86\u4e24\u90e8\u5206\uff0c\u5fc5\u7136\u4e0d\u80fd\u5f62\u6210\u73af\uff0c\u56e0\u4e3a\u5982\u679c\u8981\u5f62\u6210\u73af\uff0c\u5219\u8fd9\u4e24\u90e8\u5206\u5fc5\u6709\u8fde\u7ebf\uff0c\u800c\u8fde\u7ebf\u53c8\u5fc5\u4e0ei->i+j\u8fd9\u6761\u7ebf\u76f8\u4ea4\uff0c\u4e0e\u9898\u8bbe\u77db\u76fe\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u5728\u8fd9\u4e2a\u56fe\u4e2d\u641c\u7d22\u51fa\u4e00\u4e2a\u56de\u8def\u5c31\u53ef\u4ee5\u4e86\uff0c\u6ce8\u610f\u6309\u7167\u5b57\u5178\u5e8f\u3002\n",
        "postTime": 1383229893,
        "uid": 754,
        "name": "neverreborn",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1718 \u3010\u56fe\u5f62\u590d\u539f\u3011"
    },
    {
        "content": "\u9898\u76ee[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P1718)\n## \u601d\u8def\u63d0\u4f9b\n\u8fd9\u662f\u4e00\u9053\u7b80\u5355\u7684\u6df1\u641c\u9898\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u4ece\u7b2c\u4e00\u4e2a\u70b9\u5f00\u59cb\u641c\u7d22\uff0c\u5982\u679c\u6211\u4eec\u518d\u4e00\u6b21\u627e\u5230\u4e86\u7b2c\u4e00\u4e2a\u70b9\uff0c\u90a3\u4e48\u6211\u4eec\u4e00\u5b9a\u5c31\u80fd\u627e\u5230\u4e00\u4e2a\u73af\uff0c\u56e0\u4e3a\u6211\u4eec\u662f\u4ece\u7b2c\u4e00\u4e2a\u70b9\uff08\u5373\u6700\u5c0f\u7684\u70b9\uff09\uff0c\u5f00\u59cb\u641c\u7d22\uff0c\u6240\u4ee5\u6211\u4eec\u6240\u5f97\u5230\u7684\u6570\u7684\u5b57\u5178\u5e8f\u4e00\u5b9a\u662f\u6700\u5c0f\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u8bb0\u5f55\u4e0b\u641c\u7d22\u65f6\u7684\u6bcf\u4e2a\u70b9\u5230\u6700\u540e\u7684\u65f6\u5019\u8f93\u51fa\u5c31\u53ef\u4ee5\u4e86\u3002\n## AC code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,x,y,a[55][55],be[55],ans[55],flag;\nvoid dfs(int x,int cnt){\n\tif(flag) return ;//flag==1\u8bf4\u660e\u5df2\u7ecf\u8f93\u51fa\u7b54\u6848\u4e86\uff0c\u6240\u4ee5\u5c31\u4e0d\u7528\u7ee7\u7eed\u627e\u4e86\uff0c\u4e0d\u7136\u4f1a\u6b7b\u5faa\u73af\n\tans[cnt]=x;\n\tif(cnt==n){//\u4e2a\u6570\u8fbe\u5230\n\t\tif(a[x][1]==1){\n\t\t\tfor(int i=1;i<=cnt;i++){\n\t\t\t\tcout<<ans[i]<<\" \";\n\t\t\t}//\u8f93\u51fa\u7b54\u6848\uff0c\u5e76\u7ed9flag\u8d4b\u503c\n\t\t\tflag=1;\n\t\t}\n\t\treturn ;\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tif(a[x][i] && be[i]==0){//\u4e00\u5b9a\u662f\u6ca1\u6709\u8d70\u8fc7\u7684\u503c\n\t\t\tbe[i]=1;\n\t\t\tdfs(i,cnt+1);//\u6df1\u641c\u6a21\u677f\uff0c\u8bb0\u5f97\u8981\u8fd8\u539f\u73b0\u573a\n\t\t\tbe[i]=0;\n\t\t}\n\t}\n}\nint main(){\n\tcin>>n;\n\twhile(cin>>x>>y) a[x][y]=a[y][x]=1;//\u7531\u4e8e\u4e0d\u77e5\u9053\u6709\u51e0\u4e2a\u6570\uff0c\u6240\u4ee5\u7528 while \u8bfb\u5165\uff0c\u8bb0\u5f97\u8981\u8bb0\u5f55\u53cc\u5411\u7684\n\tbe[1]=1;//\u5f00\u59cb\u7b2c\u4e00\u4e2a\u70b9\u4e00\u5b9a\u8981\u6807\u8bb0\u4e3a\u5df2\u8d70\u8fc7\n\tdfs(1,1);\n\treturn 0;\n}\n```\n",
        "postTime": 1661417522,
        "uid": 422387,
        "name": "VIOLET__FOREVER",
        "ccfLevel": 0,
        "title": "P1718 \u56fe\u5f62\u590d\u539f"
    }
]