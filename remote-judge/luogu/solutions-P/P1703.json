[
    {
        "content": "\u8fd9\u5e94\u8be5\u662f\u5e73\u8861\u6811\u7ef4\u62a4\u533a\u95f4\u7ffb\u8f6c\u7684\u6a21\u677f\u9898\u5427\n\n\u5bf9\u4e8e\u4e00\u6b21\u7ffb\u8f6c\uff08L , R\uff09\n\n\u4e3b\u6d41\u7684\u505a\u6cd5\u662fSplay\u628a\u7f16\u53f7\u4e3aL-1\u7684\u8282\u70b9\u65cb\u8f6c\u5230\u6839\n\n\u518d\u628a\u7f16\u53f7\u4e3aR+1\u7684\u8282\u70b9\u65cb\u8f6c\u5230\u6839\u7684\u53f3\u8282\u70b9\n\n\u8fd9\u6837\u6839\u7684\u53f3\u8282\u70b9\u7684\u5de6\u5b50\u6811\u5168\u4e3aL---R\uff0c\u6253\u4e0a\u7ffb\u8f6c\u6807\u8bb0\u5373\u53ef\n\n\n\u987a\u4fbf\u518d\u62d3\u5c55\u4e00\u79cd\u7b97\u6cd5\uff0c\u4e5f\u5c31\u662f\u6211\u5199\u7684\u975e\u9009\u62e9treap\n\n\u6838\u5fc3\u64cd\u4f5c\u662fsplit\u548cmerge\n\nsplit\u662f\u4ece\u67d0\u4e00\u4f4d\u7f6e\u628a\u5e73\u8861\u6811\u62c6\u5f00\uff0c\u8fd4\u56de\u4e24\u4e2a\u503c\u5373\u4e24\u6839\n\nmerge\u662f\u5408\u5e76\u4e24\u4e2a\u5b50\u6811\uff0c\u8981\u6c42\u4fdd\u8bc1\u67d0\u4e00\u5b50\u6811\u5143\u7d20\u4e25\u683c\u5c0f\u4e8e\u53e6\u4e00\u5b50\u6811\n\n\u8fd9\u6837\u7ffb\u8f6c\u533a\u95f4L---R\u7684\u65f6\u5019\n\n\u53ef\u4ee5\u901a\u8fc7split\u62c6\u51fa\u68111---L-1\uff0c\u6811L---R\uff0c\u6811R+1---n(\u5747\u4e3a\u7f16\u53f7)\n\n\u5728\u7b2c\u4e8c\u68f5\u6811\u7684\u6839\u4e0a\u6253\u4e0a\u7ffb\u8f6c\u6807\u8bb0\n\n\u6309\u987a\u5e8f\u5408\u5e76\u4e09\u68f5\u6811\uff0c\u5728\u5408\u5e76\u8fc7\u7a0b\u4e2d\u4e0b\u653e\u6807\u8bb0\n\n\u5373\u53ef\u4ee5\u590d\u6742\u5ea6O(len\\*log(len))\u7684\u590d\u6742\u5ea6\u6c34\u8fc7\u6b64\u9898\n\n\u4ee5\u4e0b\u662f\u6211\u7684\u4ee3\u7801\uff1a\n\n\n\n\n\n```cpp\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<ctime>\n#define rt register int\n#define ll long long\n#define r read()\nusing namespace std;\ninline int read()\n{\n    int x = 0; int zf = 1; char ch;\n    while (ch != '-' && (ch < '0' || ch > '9')) ch = getchar();\n    if (ch == '-') zf = -1, ch = getchar();\n    while (ch >= '0' && ch <= '9') x = x * 10 + ch - '0', ch = getchar(); return x * zf;\n}\nint i,j,m,n,x,y,z,cnt,all,num,Root;\nstruct points{\n    int ls,rs,val,size,lazy;\n}a[10010];\nstruct two{int ls,rs;};\ninline void up(const int x)\n{\n    a[x].size=a[a[x].ls].size+a[a[x].rs].size+1;\n}\ninline void down(const int x)\n{\n    if(!a[x].lazy)return;\n    swap(a[x].ls,a[x].rs);\n    a[a[x].ls].lazy^=1;\n    a[a[x].rs].lazy^=1;\n    a[x].lazy=0;\n}\ninline int merge(const int x,const int y)//x < y\n{\n    if(!x)return y;if(!y)return x;\n    down(x);down(y);\n    if(a[x].val>a[y].val)\n    {\n        a[y].ls=merge(x,a[y].ls);\n        up(y);\n        return y;\n    }\n    else\n    {\n        a[x].rs=merge(a[x].rs,y);\n        up(x);\n        return x;        \n    }\n}\ntwo split(const int x,const int val)//rank 1...val ;val+1...n\n{\n    two ret={0,0};down(x);\n    if(!x)return ret;rt p=a[a[x].ls].size+1;\n    if(p<=val)\n    {\n        ret=split(a[x].rs,val-p);\n        a[x].rs=ret.ls;\n        ret.ls=x;\n    }\n    else\n    {\n        ret=split(a[x].ls,val);\n        a[x].ls=ret.rs;\n        ret.rs=x;\n    }up(x);\n    return ret;\n}\nchar v[10010],k,c[10010];short len1,len2;\nvoid writes(const int x)\n{\n    down(x);\n    if(a[x].ls)writes(a[x].ls);\n    putchar(c[x]);\n    if(a[x].rs)writes(a[x].rs);\n}\ninline int newnode(const int x)\n{\n    cnt++;a[cnt].size=1;a[cnt].val=rand();return cnt;\n}\ninline void insert(const int val)\n{\n    two u=split(Root,val);\n    Root=merge(merge(u.ls,u.rs),newnode(val));\n}\ninline void solve(const int L,const int R)\n{\n    two p1=split(Root,L-1); \n    two p2=split(p1.rs,R-a[p1.ls].size);\n    a[p2.ls].lazy^=1; \n    Root=merge(p1.ls,merge(p2.ls,p2.rs));\n}\nint main()\n{\n    srand(time(0));j=0;\n    scanf(\"%s %s\",v+1,c+1);rt len1=strlen(v+1);n=strlen(c+1);\n    for(rt i=1,j=1;i<=n;i++,j++)\n    {\n        if(j>len1)j-=len1;\n        if(v[j]<='Z')k=v[j]-'A';else k=v[j]-'a';\n        if(c[i]<='Z')k+=c[i]-'A';else k+=c[i]-'a';\n        if(k>=26)k-=26;\n        if(c[i]<='Z')c[i]='A'+k;else c[i]='a'+k;\n    }\n    for(rt i=1;i<=n;i++)insert(i);\n    for(m=r;m;m--)\n    {\n        x=r;y=r;\n        solve(x,y);\n    }\n    writes(Root);\n    return 0;\n}\n\n```",
        "postTime": 1515312743,
        "uid": 58448,
        "name": "Flaranis",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1703 \u3010\u90a3\u4e2a\u4ec0\u4e48\u5bc6\u78012\u3011"
    },
    {
        "content": "\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u91cd\u6e29\u4e00\u4e0b[\u8fd9\u9053\u7ecf\u5178\u9898](https://www.luogu.com.cn/problem/P1079)\u3002~~\u591a\u5e74\u524d\uff0c\u6211\u8fd8\u5199\u4e86[\u4e00\u7bc7\u9898\u89e3](https://www.luogu.com.cn/blog/shenyouran/P1079)\u3002~~\n\n\u9898\u4e2d\u7ed9\u51fa\u4e86\u4e0b\u8868\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/30.png)\n\n\u4e4d\u770b\u4e0a\u53bb\u975e\u5e38\u6076\u5fc3\uff0c\u4f46\u5176\u5b9e\u89c4\u5f8b\u662f\u663e\u800c\u6613\u89c1\u7684\u3002\u6211\u4eec\u53ea\u9700\u8981\u622a\u53d6\u5176\u4e2d\u4e00\u90e8\u5206\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/etm3d9ha.png)\n\n\u4ed4\u7ec6\u89c2\u5bdf\u53d1\u73b0\uff0c\u5047\u8bbe\u4e00\u4e2a\u660e\u6587\u7684\u5b57\u7b26\u4e3a$a$\uff0c\u5bc6\u94a5\u7684\u4e00\u4e2a\u5b57\u7b26\u4e3a$b$\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u628a$b$\u7edf\u4e00\u53d8\u6210\u5c0f\u5199\uff0c\u5373$\\texttt{b=tolower(b)}$\u3002\n\n\u6211\u4eec\u5f97\u5230$c=a+b-97$\uff0c\u5373\u5bc6\u6587\u7684\u5bf9\u5e94\u5b57\u7b26\u3002\n\n\u5f53\u7136\uff0c$c$\u7684$\\texttt{ASCII}$\u503c\u53ef\u80fd\u4e0d\u662f\u4e00\u4e2a\u5b57\u6bcd\u3002\u6211\u4eec\u9700\u8981\u5bf9$a$\u7684\u5927\u5c0f\u5199\u8fdb\u884c\u8ba8\u8bba\uff0c\u7136\u540e\u5f97\u51fa\u662f\u5426\u8981\u5bf9$c$\u8fdb\u884c\u4fee\u6b63\u3002\n\n\u6700\u540e\uff0c\u6211\u4eec\u6309\u7167\u9898\u610f\uff0c\u5408\u7406\u8fd0\u7528$\\text{string}$\u4e2d\u7684\u5b50\u4e32\u3001\u53cd\u8f6c\u51fd\u6570\uff0c\u5c31\u53ef\u4ee5\u89e3\u51b3\u672c\u9898\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstring key,ans;\n//key\u4e3a\u5bc6\u94a5\uff0cans\u65e2\u7528\u6765\u8f93\u5165\u660e\u6587\uff0c\u53c8\u7528\u6765\u4fdd\u5b58\u7ed3\u679c\nint m;\nint main()\n{\n    cin>>key>>ans;\n    for(int i=0;key[i];i++)key[i]=tolower(key[i]);\n    //\u7edf\u4e00\u628akey\u4e2d\u7684\u6240\u6709\u5b57\u7b26\u53d8\u4e3a\u5c0f\u5199\u3002\u6ce8\u610ftolower\u4e0d\u662f\u4e00\u4e2avoid\u51fd\u6570\uff0c\u5fc5\u987b\u8981\u8fdb\u884c\u8d4b\u503c\uff0c\u5426\u5219\u65e0\u6548\uff08\u6d4b\u8bd5\u7684\u65f6\u5019WA\u4e86\u5f88\u591a\u6b21\uff09\uff01\n    for(int i=0,j=0,x;ans[i];i++,j=(j+1)%key.size())\n    {\n        /*\n        \u8fd9\u91cc\u672c\u6765\u53ef\u4ee5\u76f4\u63a5\u8fdb\u884c\u8d4b\u503c\uff0c\u4f46\u662f\u6211\u4eec\u9700\u8981\u4ece\u6781\u9650\u8003\u8651\uff1a\n        \u5047\u5982\u660e\u6587\u7684\u4e00\u4e2a\u5b57\u7b26\u662fz\uff0c\u7136\u540e\u5bc6\u94a5\u5bf9\u5e94\u5b57\u7b26\u4e5f\u662fz\u3002\n        \u6211\u4eec\u77e5\u9053\uff0cz\u7684ASCII\u503c\u662f122\uff0ca\u7684\u662f97\u3002\n        \u6240\u4ee5\u5982\u679c\u76f4\u63a5\u8fdb\u884c\u66f4\u6539\uff0c\u90a3\u4e48\u5bc6\u6587\u7684char\u503c\u4f1a\u53d8\u4e3a122+122-97=147\u3002\n        \u7136\u800cchar\u7684\u8303\u56f4\u662f[-128,128)\uff0c\u6240\u4ee5147\u4f1a\u6ea2\u51fa\u3002\u6ea2\u51fa\u540e\u53d8\u4e3a-109\u3002\n        \u8fd9\u663e\u7136\u4e0d\u662f\u6211\u4eec\u60f3\u8981\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u8303\u56f4\u7565\u5927\u7684\u7c7b\u578b\u2014\u2014\u8fd9\u91cc\u4f7f\u7528int\u3002\n        \u5177\u4f53\u65b9\u6cd5\u662f\uff0c\u628a\u5bc6\u6587\u8d4b\u503c\u7ed9int\uff0c\u7136\u540e\u770b\u662f\u5426\u8d85\u51fa\u4e86\u5927\u5c0f\u5199\u7684\u8303\u56f4\u3002\u8d85\u51fa\u7684\u8bdd\u8981\u51cf26\u3002\n        \u4fee\u6b63\u5b8c\u6bd5\u540e\uff0c\u628ax\u8d4b\u503c\u7ed9\u5b57\u7b26\u4e32\u5373\u53ef\u3002\n        */\n        x=ans[i]+key[j]-'a';//x\u5728for\u5faa\u73af\u91cc\u5df2\u7ecf\u5b9a\u4e49\u4e86\uff0c\u8fd9\u91cc\u8fdb\u884c\u8d4b\u503c\n        if((islower(ans[i])&&x>'z')||(isupper(ans[i])&&x>'Z'))x-=26;\n        //\u5982\u679c\u660e\u6587\u5b57\u7b26\u4e3a\u5c0f\u5199\uff0c\u4f46\u8fd9\u91cc\u5df2\u7ecf\u8d85\u51fa\u5c0f\u5199\u5b57\u6bcd\u7684\u8303\u56f4\uff0c\u90a3\u4e48\u51cf\u53bb26\u8fdb\u884c\u4fee\u6b63\u3002\u5927\u5199\u540c\u7406\u3002\n        ans[i]=x;//\u628a\u4fee\u6b63\u4e4b\u540e\u7684\u6570\u503c\u8d4b\u503c\u7ed9\u660e\u6587\uff08\u5b83\u73b0\u5728\u4fdd\u5b58\u7684\u662f\u5bc6\u6587\uff09\n    }\n    scanf(\"%d\",&m);\n    for(int i=0,a,b;i<m;i++)\n    {\n        scanf(\"%d%d\",&a,&b);\n        a--;\n        b--;\n        //\u6ce8\u610f\uff0cstring\u662f\u4ece0\u4e0b\u6807\u5f00\u59cb\u7684\n        string s=ans.substr(a,b-a+1);\n        //string.substr(pos,len)\u8868\u793a\u4ecepos\u5f00\u59cb\uff0c\u53d6\u957f\u5ea6\u4e3alen\u7684\u5b50\u4e32\n        reverse(s.begin(),s.end());//\u628a\u5b50\u4e32\u8fdb\u884c\u53cd\u8f6c\n        ans.replace(a,b-a+1,s);\n        //string.replace(pos,len,src)\u8868\u793a\u628a\u4ecepos\u5f00\u59cb\uff0c\u957f\u5ea6\u4e3alen\u7684\u5b57\u7b26\u4e32\u5168\u90e8\u66ff\u6362\u6210\u5b57\u7b26\u4e32src\n    }\n    cout<<ans;\n}\n```",
        "postTime": 1594779503,
        "uid": 137367,
        "name": "hensier",
        "ccfLevel": 6,
        "title": "P1703 \u90a3\u4e2a\u4ec0\u4e48\u5bc6\u78012 \u9898\u89e3"
    },
    {
        "content": "[\u8fd9\u91cc\u662f\u539f\u9898](https://www.luogu.com.cn/problem/P1079)\n\n\u8bfb\u539f\u9898\u4e2d\u7684\u8868\u53ef\u77e5\uff0cA R A=A\uff0cA R B=B\uff0cB R B=C\uff0cB R C=D....\uff08R\u4e3a\u8fd0\u7b97\u64cd\u4f5c\uff09\uff0c\u53ef\u5f97\u51fa\u6bcf\u4e2a\u5b57\u6bcd\u90fd\u6709\u5b83\u7684\u4e00\u4e2a\u503cA\u76f8\u5f53\u4e8e0\uff0cB\u76f8\u5f53\u4e8e1\uff0cC\u76f8\u5f53\u4e8e2...\n\n\u6c42\u5b57\u6bcd\u7684\u503c\u7684\u4ee3\u7801\n```cpp\nint value(char a){\n    if(a>='a'&&a<='z'){\n        return a-97;\n    }\n    return a-65;\n}\n```\n\n\u660e\u6587\u8f6c\u5316\u6210\u5bc6\u6587\u5c31\u76f4\u63a5\u5c06\u6bcf\u4e2a\u5b57\u6bcd\u7684ASCII\u7801\u503c\u52a0\u4e0a\u5bc6\u5319\u5bf9\u5e94\u5b57\u6bcd\u7684$value$\u5373\u53ef\uff0c\u4f46\u9700\u6ce8\u610f\u5f53\u52a0\u4e0a\u7684\u503c\u8d85\u8fc7\u2018z\u2019\u6216\u2018Z\u2019\u65f6\u9700\u53d6\u6a21\u3002\n\n\u8f6c\u6362\u4ee3\u7801\u5b9e\u73b0\n```cpp\n    string a1,a2;\n    cin>>a1>>a2;\n    int len1=a1.length();\n    int len2=a2.length();\n    int k=0;//\u5faa\u73af\u4f7f\u7528\u5bc6\u5319\n    for(int i=0;i<len2;i++){\n        int x=a2[i]+value(a1[k]);//\u52a0\u4e0a\u5bc6\u5319\u7684value\n        if(a2[i]>='A'&&a2[i]<='Z'){//\u4e3a\u5927\u5199\u5b57\u6bcd\n            if(x>90){\n                x=x%90+64;//\u5982\u679c\u6ea2\u51fa\uff0c\u8fd4\u56de\u521d\u59cb\uff0c\u5982Z+B\u8fd4\u56de\u53d8\u4e3aA\n            }\n        }else{\n            if(x>122){\n                x=x%122+96;\n            }//\u5c0f\u5199\u5b57\u6bcd\u540c\u7406\n        }\n        a2[i]=char(x);//\u6539\u53d8\u539f\u4e32\n        k++;//\u5bc6\u5319\u6307\u9488\u5411\u540e\u79fb\n        if(k==len1){\n            k=0;//\u8d85\u51fa\u5bc6\u5319\u957f\u5ea6\u8fd4\u56de0\u5f00\u59cb\n        }\n    }\n\n```\n\n\u63a5\u4e0b\u6765\uff0c\u5c31\u5230\u4e86\u53cd\u8f6c\u4e86\u3002\u4e0b\u9762\u662f\u624b\u5199\u7684\u53cd\u8f6c\u51fd\u6570\uff08\u5341\u5206\u7b80\u6d01\uff09\u3002\u672c\u9898\u66b4\u529b\u53ef\u8fc7\u3002\n\n```cpp\n\nvoid fanzhuan(int a,int b,string &s//\u8981\u4f20\u5740){\n    for(int i=a-1,j=b-1;i<j;i++,j--){//\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\uff1aa,b\u6307\u7b2ca,b\u4e2a\u5b57\u6bcd\uff0c\u4e0d\u662f\u4e0b\u6807\u3002\u6240\u4ee5\u4ecea-1\u5f00\u59cb\u5230b-1\u3002\n    //\u4e24\u5934\u540c\u65f6\u8fdb\u884c\u3002\u7b2c\u4e00\u4e2a\u4e0e\u6700\u540e\u4e00\u4e2a\u8c03\u6362\uff0c\u7b2c\u4e8c\u4e2a\u4e0e\u5012\u6570\u7b2c\u4e8c\u4e2a\u8c03\u6362...\u8fd9\u6837\u5c31\u80fd\u4f7f\u6574\u4e2a\u4e32\u53cd\u8f6c\n        swap(s[i],s[j]);\n    }\n    return;\n}\n```\n~~\u81ea\u5df1\u52a8\u624b\u4e30\u8863\u8db3\u98df~~\n\n\u5b8c\u6574\u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<string>\n#include<cstdio>\nusing namespace std;\ninline void read(int &x){//\u5feb\u8bfb\uff0c\u5ffd\u7565\u5b83\n    x=0;\n    int f=1;\n    char ch=getchar();\n    while(ch<'0'||ch>'9'){\n        if(ch=='-'){\n            f=-1;\n        }\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9'){\n        x=x*10+ch-48;\n        ch=getchar();\n    }\n    x*=f;\n    return;\n}\nvoid fanzhuan(int a,int b,string &s){\n    for(int i=a-1,j=b-1;i<j;i++,j--){\n        swap(s[i],s[j]);\n    }\n    return;\n}\nint value(char a){\n    if(a>='a'&&a<='z'){\n        return a-97;\n    }\n    return a-65;\n}\nint main(){\n    string a1,a2;\n    cin>>a1>>a2;\n    int len1=a1.length();\n    int len2=a2.length();\n    int k=0;\n    for(int i=0;i<len2;i++){\n        int x=a2[i]+value(a1[k]);\n        if(a2[i]>='A'&&a2[i]<='Z'){\n            if(x>90){\n                x=x%90+64;\n            }\n        }else{\n            if(x>122){\n                x=x%122+96;\n            }\n        }\n        a2[i]=char(x);\n        k++;\n        if(k==len1){\n            k=0;\n        }\n    }\n    int m;\n    read(m);\n    int a,b;\n    for(int i=0;i<m;i++){\n    \tread(a);\n    \tread(b);\n    \tfanzhuan(a,b,a2);\n    }\n    cout<<a2;\n    return 0;\n}\n```\n\n\n",
        "postTime": 1593874294,
        "uid": 326065,
        "name": "InformationEntropy",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1703 \u3010\u90a3\u4e2a\u4ec0\u4e48\u5bc6\u78012\u3011"
    },
    {
        "content": "\u5148\u8865\u5f20\u56fe\u3002\u3002\u3002\n\n![](https://cdn.luogu.com.cn/upload/pic/30.png)\n\n$RT$\n\n\u5176\u5b9e\u660e\u6587+\u5bc6\u94a5\u8f6c\u6362\u6210\u5bc6\u6587\u76f8\u5bf9\u539f\u9898\u4f1a\u7b80\u5355\u4e00\u4e9b\uff0c\u76f4\u63a5\u5bf9\u7740\u8868\u6a21\u62df\u5c31\u597d\u4e86\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u628a$A$\u770b\u4f5c\u6570\u5b57$0$\uff0c$B$\u770b\u4f5c\u6570\u5b57$1$\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\n\t\n \u00ae\u64cd\u4f5c\u5176\u5b9e\u5c31\u662f\u628a\u5b57\u6bcd\u8f6c\u6362\u6210\u6570\u5b57\uff0c\u7136\u540e\u76f8\u52a0\uff0c\u518d\u8f6c\u6362\u6210\u5b57\u6bcd\u3002\n \n \u5b50\u7a0b\u5e8f\u4ee3\u7801\uff1a\n \n ```\ninline char R(char x,char y)//\u5bc6\u94a5\u3001\u660e\u6587\u8f6c\u6362\u4e3a\u5bc6\u6587\n{\n\tbool af=0;//\u9ed8\u8ba4\u5c0f\u5199\n\tif(islower(x))x-='a';\n\telse x-='A';\n\tif(islower(y))y-='a';\n\telse y-='A',af=1;//\u5927\u5199\n\tint z=int(x+y);\n\tz%=26;\n\tif(af)return char(z+'A');//\u5927\u5199\n\telse return char(z+'a');//\u5c0f\u5199\n}\n```\n\u8981\u6ce8\u610f\u4e00\u4e0b\u5927\u5c0f\u5199\u3002\n\n\u5f97\u5230\u5bc6\u6587\u4e4b\u540e\u518d\u8fdb\u884c$M$\u4e2a\u64cd\u4f5c\uff0c\u9700\u8981\u7528\u5230$string$\u91cc\u7684\u4e00\u4e9b\u51fd\u6570\u3002\n\n\u4e0d\u4f1a\u7684\u53ef\u4ee5\u54a8\u8be2[\u5ea6\u5a18](https://www.baidu.com/)\u3002\n\n\u5b8c\u6574\u4ee3\u7801\uff1a\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\nstring k,m,c;\nint mlen,klen;\nint n; \ninline char R(char x,char y)//\u5bc6\u94a5\u3001\u660e\u6587\u8f6c\u6362\u4e3a\u5bc6\u6587\n{\n\tbool af=0;//\u9ed8\u8ba4\u5c0f\u5199\n\tif(islower(x))x-='a';\n\telse x-='A';\n\tif(islower(y))y-='a';\n\telse y-='A',af=1;//\u5927\u5199\n\tint z=int(x+y);\n\tz%=26;\n\tif(af)return char(z+'A');//\u5927\u5199\n\telse return char(z+'a');//\u5c0f\u5199\n}\nint main()\n{\n\tcin>>k>>m;\n\tmlen=m.length();\n\tklen=k.length();\n\tfor(int i=0,j=-1;i<mlen;i++)\n\t{\n\t\tj++;\n\t\tif(j==klen)j=0;\n\t\tc=c+R(k[j],m[i]);\n\t}\n   cin>>n;\n\tfor(int a,b;n;n--)\n\t{\n\t\tcin>>a>>b;\n\t\tstring zhong=c.substr(a-1,b-a+1);\n\t\treverse(zhong.begin(),zhong.end());\n\t\tc.replace(a-1,b-a+1,zhong);\n\t}\n\tcout<<c<<endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1580102632,
        "uid": 114504,
        "name": "\u68a6\u91cc\u8c03\u97f3",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1703 \u3010\u90a3\u4e2a\u4ec0\u4e48\u5bc6\u78012\u3011"
    },
    {
        "content": "**\u5927\u5bb6\u505a\u9898\u4e4b\u524d\u5e94\u5f53\u5148\u53c2\u8003\u4e00\u4e0b[P1079](https://www.luogu.com.cn/problem/P1079),\u90a3\u91cc\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u5bc6\u7801\u8f6c\u5316\u7684\u89c4\u5219\u3002**\n\n**\u8fd9\u9053\u9898\u6211\u662f\u7528~~\u66b4\u529b+\u66b4\u529b~~\u8fc7\u7684\u8fd9\u9053\u9898\uff0c\u4f46\u4ee3\u7801\u8fd8\u662f\u6bd4\u8f83\u77ed\u7684\uff0c \u8be6\u7ec6\u8fc7\u7a0b\u5728\u4e0b\u9762\u4ee3\u7801\u7684\u6ce8\u91ca\u91cc\u9762\u3002**\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n\tint k,x,y,end;\n    string key,pass,copy,all,as,s;//key\u662f\u5bc6\u94a5\uff0cpass\u662f\u660e\u6587 \n    cin>>key>>pass;\n    copy=key;\n    as=pass;//\u4f7f\u771f\u6b63\u7684\u660e\u6587\u5b57\u6bcd\u4e0d\u53d8 \n    int l1=key.size();\n    int l2=pass.size();//\u8ba1\u7b97\u5b57\u7b26\u4e32\u957f\u5ea6 \n    while(l1<l2)//\u66b4\u529b\u65b9\u6cd5\uff0c\u76f4\u5230\u5bc6\u94a5\u7684\u957f\u5ea6\u5927\u4e8e\u660e\u6587\u4e3a\u6b62\uff0c\u4fbf\u4e8e\u540e\u9762\u6bd4\u8f83 \n    {\n        key=key+copy;//\u82e5\u5bc6\u94a5\u957f\u5ea6\u5c0f\u4e8e\u660e\u6587\uff0c\u5219\u91cd\u590d\u4f7f\u7528 \n        l1=key.size();//\u5237\u65b0\u5f53\u524d\u7684\u957f\u5ea6\uff0c\u907f\u514d\u6b7b\u5faa\u73af \n    }\n    for(int i=0;i<=l2-1;i++)\n    key[i]=tolower(key[i]);//\u5c06\u5bc6\u94a5\u5168\u90e8\u8f6c\u5316\u4e3a\u5c0f\u5199\u5b57\u6bcd \n    for(int i=0;i<=l2-1;i++)\n    {                       \n        as[i]=tolower(as[i]);//\u5c06\u660e\u6587\u8f6c\u5316\u4e3a\u5c0f\u5199\u5b57\u6bcd\uff0c\u4fbf\u4e8e\u64cd\u4f5c \n\t\tif(as[i]-97+1+key[i]-97+1<=27)//\u5b57\u6bcd\u5e8f\u6570\u76f8\u52a0\u4e0d\u5927\u4e8e\u4e8ez+1\u65f6 \n\t\tall+=char(pass[i]+(key[i]-97));\n\t\telse all+=char(pass[i]+(key[i]-97)-26);//\u5b57\u6bcd\u5e8f\u6570\u76f8\u52a0\u5927\u4e8ez+1\u65f6 \n    }\n    cin>>k;//\u64cd\u4f5c\u6b21\u6570 \n    for(int i=1;i<=k;i++)\n    {\n    \tcin>>x>>y;//\u7aef\u70b9 \n    \ts=all.substr(x-1,y-x+1);//\u5148\u63d0\u53d6\u9700\u8981\u5012\u5e8f\u7684\u5b50\u4e32 \n\t\treverse(s.begin(),s.end());//\u7136\u540e\u5012\u5e8f \n        all.replace(x-1,y-x+1,s);//\u6700\u540e\u66ff\u6362\u76ee\u6807\u5b50\u4e32 \n\t}\n\tcout<<all;\n    return 0;\n}\n```\n\n",
        "postTime": 1579152498,
        "uid": 270986,
        "name": "Spect_Scan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1703 \u3010\u90a3\u4e2a\u4ec0\u4e48\u5bc6\u78012\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u9898\u5e72\u662f\u57281079\u9898\uff0c\u5b57\u7b26\u4e32\u5904\u7406\uff0c\u7b80\u5355\u6a21\u62df\uff0c\u53ef\u4ee5\u6253\u8868\u6216\u8005\u6a21\u62df\u6a21\u62df\u51fa\u79d8\u94a5\u7684\u89c4\u5219\uff0c\u7136\u540e\u5229\u7528\u89c4\u5219\u5904\u7406\u660e\u6587\uff0c\u5f97\u5230\u5bc6\u6587\n\n\u4e4b\u540e\u7684\u64cd\u4f5c\u53ef\u7528substr\u64cd\u4f5c\u622a\u53d6\u5b50\u4e32\uff0creverse\u5012\u8f6c\u5b50\u4e32\uff0c\u5b57\u7b26\u4e32\u52a0\u6cd5\u53e0\u52a0\u5b50\u4e32\u5f97\u5230\u7ed3\u679c\uff0c\u6570\u636e\u5f88\u6c34\uff0c\u66b4\u529b\u53ef\u8fc7\n\n/\\*by loadingnow\u7b2c\u4e00\u6b21\u53d1\u9898\u89e3\u7684\u840c\u65b0\u745f\u745f\u53d1\u6296\n\n```cpp\n#include <algorithm>\n#include <iostream>\n#include <cstring>\nusing namespace std;\nconst int MAX=5010;\nint miyao[MAX];\nint main()\n{\n    string s,k;\n    cin>>k;\n    for(int i=0;i<k.length();i++)\n    {\n        for(int j=i;j<MAX;j+=k.length())\n        {\n            if(k[i]>='A'&&k[i]<='Z')\n                miyao[j]=(int)(k[i]-'A');\n            else\n                miyao[j]=(int)(k[i]-'a'); \n        }\n    }\n    cin>>s;\n    for(int i=0;i<s.length();i++)\n    {\n        if(s[i]>='A'&&s[i]<='Z')\n        {\n            if(s[i]+miyao[i]>'Z')\n                s[i]=s[i]+miyao[i]-26;\n            else\n                s[i]=s[i]+miyao[i];\n        }\n        else\n        {\n            if(s[i]+miyao[i]>'z')\n                s[i]=s[i]+miyao[i]-26;\n            else\n                s[i]=s[i]+miyao[i];\n        }\n    }\n    int n,a,b;\n    cin>>n;\n    while(n--)\n    {\n        cin>>a>>b;\n        string t1=s.substr(0,a-1);\n        string t2=s.substr(a-1,b-a+1);\n        string t3=s.substr(b,s.length()-b);\n        reverse(t2.begin(),t2.end());\n        s=t1+t2+t3;\n    }\n    cout<<s<<endl;\n    return 0;\n}\n```",
        "postTime": 1501583191,
        "uid": 27599,
        "name": "loadingnow",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1703 \u3010\u90a3\u4e2a\u4ec0\u4e48\u5bc6\u78012\u3011"
    },
    {
        "content": "\u81ea\u52a9\u53d1\u6807\u7a0b\u3001\u5176\u5b9ec++\u91cc\u53ef\u4ee5\u76f4\u63a5\u6709\u8fc7\u7a0b\u5b9e\u73b0\u53cd\u8f6c\u3001\n\n```delphi\n\nvar\n  k,m,s:ansistring;\n  t:char;\n  p,i,o,a,b,q:longint;\n  change:array[1..1001]of boolean;\n  y:boolean;\nfunction calculate(k1,m1:char):char;\nbegin\n  p:=ord(k1)+(ord(m1)-97);\n  if p<=122 then calculate:=chr(p)\n   else calculate:=chr(p-26);\nend;\nbegin\n  readln(k);\n  readln(m);\n  fillchar(change,sizeof(change),false);\n  for i:=1 to length(k) do\n   if ord(k[i])<97 then k[i]:=chr(ord(k[i])+32);\n  for i:=1 to length(m) do\n   if ord(m[i])<97 then begin change[i]:=true; m[i]:=chr(ord(m[i])+32); end;\n  for i:=1 to length(m) do\n   begin\n     if i mod length(k)=0 then o:=length(k)\n                          else o:=i mod length(k);\n     s:=s+calculate(k[o],m[i]);\n   end;\n  readln(q);\n  for i:=1 to q do\n   begin\n     readln(a,b);\n     while a<b do\n     begin\n       t:=s[a];\n       s[a]:=s[b];\n       s[b]:=t;\n       y:=change[a];\n       change[a]:=change[b];\n       change[b]:=y;\n       a:=a+1;\n       b:=b-1;\n     end;\n   end;\n     for i:=1 to length(s) do\n   if change[i] then write(chr(ord(s[i])-32))\n                else write(s[i]);\n  readln;\n  readln;\nend.   \n\n```",
        "postTime": 1379478629,
        "uid": 408,
        "name": "jxpxcsh",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1703 \u3010\u90a3\u4e2a\u4ec0\u4e48\u5bc6\u78012\u3011"
    }
]