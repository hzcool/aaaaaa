[
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n[\u7565\u3002](https://www.luogu.com.cn/problem/P7266)\n\n## \u601d\u8def\n\u8fd9\u9898\u633a\u96be\u7684\uff01\n\n\u89c2\u5bdf\u6570\u636e\u8303\u56f4\uff0c\u53d1\u73b0 $O(n^3)$ \u6700\u9002\u5408\uff0c\u4e8e\u662f\u9009\u62e9\u66b4\u529b dp\u3002\n\n\u8bbe $dp_{i,j,0/1}$ \u8868\u793a\u5f53\u524d\u8d70\u5230\u4e86\u7b2c $i$ \u884c\uff0c\u7b2c $j$ \u5217\u6ca1\u4ea4\u6362/\u4ea4\u6362\u6570\u5b57\u7684\u6700\u5927\u6743\u503c\u548c\u3002\n\n\u6211\u4eec\u53d1\u73b0\u8702\u7a9d\u56fe\u7684\u884c\u548c\u5217\u90fd\u662f $2 \u00d7 n - 1$\uff0c\u6240\u4ee5\u5f97\u5f00 $dp[200][200][2]$\u3002\u6709\u70b9\u70e6\u4eba\u7684\u662f\u8f93\u5165\uff0c\u4f46\u662f\u627e\u4e00\u4e0b\u89c4\u5f8b\u5176\u5b9e\u4e5f\u6ca1\u90a3\u4e48\u96be\u3002\u4e3b\u8981\u662f\u5148\u8f93\u5165\u4e0a\u534a\u90e8\u5206\uff0c\u518d\u8f93\u5165\u4e0b\u534a\u90e8\u5206\uff1a\n\n```cpp\nfor(int i = 1; i <= n; i++)\n\t\tfor(int j = 1; j <= n + i - 1; j++) {\n\t\t\tcin >> a[i][j];\n\t\t}\n\tfor(int i = 1; i <= n - 1; i++)\n\t\tfor(int j = 1; j <= 2 * n - i - 1; j++) {\n\t\t\tcin >> a[i + n][j];\n\t\t}\n```\n\n\u7136\u540e\u6211\u4eec\u6765\u8ba8\u8bba\u4e00\u4e0b\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u3002\n\n\u8f6c\u79fb\u65b9\u7a0b\u4e3b\u8981\u5206\u6210\u4e24\u79cd\u60c5\u51b5\uff08\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6570\u7ec4\u5c31\u4e0d\u7528 $\\LaTeX$ \u4e86\uff09\uff1a\n\n* \u4ece\u7b2c $1$ \u884c\u5230\u7b2c $n$ \u884c\uff08\u5217\u6570\u9012\u589e\uff09\uff0c\u6613\u5f97\u8f6c\u79fb\u65b9\u7a0b\uff1a$dp[i][j][0] = \\max(dp[i-1][j][0],dp[i-1][j-1][0])+a[i][j]$\uff0c$dp[i][j][1] = \\max(\\max(dp[i-1][j][1],dp[i-1][j-1][1])+a[i][j]),\\max(dp[i-1][j][0],dp[i-1][j-1][0])+rowmax[i])$\u3002\n\n* \u4ece\u7b2c $n + 1$ \u884c\u5230\u7b2c $2 \u00d7 n - 1$ \u884c\uff08\u5217\u6570\u9012\u51cf\uff09\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u8ddf\u4e0a\u9762\u7684\u6ca1\u5565\u4e24\u6837\uff0c\u5efa\u8bae\u81ea\u5df1\u60f3\uff0c\u5b9e\u5728\u60f3\u4e0d\u51fa\u6765\u770b[\u8fd9](https://www.luogu.com.cn/paste/kosfvxgr)\u3002\n\n\u8fd9\u91cc\u9762\u7684 $rowmax_i$ \u8868\u793a\u7b2c $i$ \u884c\u6700\u5927\u7684\u503c\u3002\u6211\u4eec\u7528\u8d2a\u5fc3\uff0c\u5982\u679c\u8fd9\u4e00\u884c\u8981\u6362\u503c\uff0c\u90a3\u4e48\u5c31\u628a\u503c\u6362\u6210\u6700\u5927\u7684\u3002\n\n\u6700\u540e\u53d6 $dp_{n\u00d72-1,i,1}$ \u7684\u6700\u5927\u503c\u5373\u53ef\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint n, ans = 0;\nint row[207];\nint a[207][207];\nint dp[207][207][2];\nint main() {\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++)\n\t\tfor(int j = 1; j <= n + i - 1; j++) {\n\t\t\tcin >> a[i][j];\n\t\t\trow[i] = max(row[i], a[i][j]);\n\t\t}\n\tfor(int i = 1; i <= n - 1; i++)\n\t\tfor(int j = 1; j <= 2 * n - i - 1; j++) {\n\t\t\tcin >> a[i + n][j];\n\t\t\trow[i + n] = max(row[i + n], a[i + n][j]);\n\t\t}\n\tfor(int i = 1; i <= n; i++)\n\t\tfor(int j = 1; j <= n + i - 1; j++) {\n\t\t\tdp[i][j][0] = max(dp[i - 1][j][0], dp[i - 1][j - 1][0]) + a[i][j];\n\t\t\tdp[i][j][1] = max(max(dp[i - 1][j][1], dp[i - 1][j - 1][1]) + a[i][j], max(dp[i - 1][j][0], dp[i - 1][j - 1][0]) + row[i]);\n\t\t}\n\tfor(int i = 1; i <= n - 1; i++)\n\t\tfor(int j = 1; j <= 2 * n - i - 1; j++) {\n\t\t\tint w = i + n;\n\t\t\tdp[w][j][0] = max(dp[w - 1][j][0], dp[w - 1][j + 1][0]) + a[w][j];\n\t\t\tdp[w][j][1] = max(max(dp[w - 1][j][1], dp[w - 1][j + 1][1]) + a[w][j], max(dp[w - 1][j][0], dp[w - 1][j + 1][0]) + row[w]);\n\t\t}\n\tfor(int i = 1; i <= n; i++)\n\t\tans = max(ans, dp[n * 2 - 1][i][1]);\n\tcout << ans;\n\treturn 0;\n}\n```",
        "postTime": 1679822708,
        "uid": 494699,
        "name": "Wicked_Game",
        "ccfLevel": 4,
        "title": "P7266 [BalticOI 2000] Honeycomb Problem \u7684\u9898\u89e3"
    },
    {
        "content": "## \u505a\u6cd5\n\u4e09\u7ef4\u7684\u66b4\u529b DP\u3002\n\n\u9996\u5148\u8003\u8651\u4e00\u4e0b\u600e\u4e48\u5b58\u8702\u7a9d\u56fe\u3002\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u628a\u5b83\u62cd\u6241\u5728\u5899\u4e0a\u5c31\u884c\u4e86\u3002\u539f\u6765\u5bbd\u5ea6\u4e3a 3 \u7684\u8702\u7a9d\u56fe\n\u62cd\u6241\u4e4b\u540e\u5c31\u957f\u8fd9\u6837\uff1a\n```\n***\n****\n*****\n****\n***\n```\n\u62cd\u6241\u4e86\u5c31\u53ef\u4ee5\u7528\u4e8c\u7ef4\u6570\u7ec4\u5b58\u4e86\u3002\n\n\u663e\u7136\uff0c\u8981\u4ea4\u6362\u7684\u8bdd\u53ea\u6709\u628a\u5f53\u524d\u884c\u6700\u5927\u7684\u90a3\u4e2a\u6570\u5b57\u5f04\u8fc7\u6765\u624d\u662f\u6700\u4f18\u7684\u3002\u90a3\u4e48\u5c31\u9700\u8981\u9884\u5904\u7406\u4e00\u4e2a\u6570\u7ec4 $maxn$\uff0c\u7528 $maxn_i$ \u8868\u793a\u7b2c $i$ \u884c\u6700\u5927\u7684\u6570\u5b57\u3002\n\n\u53ef\u4ee5\u5b9a\u4e49 $dp_{0,i,j}$ \u8868\u793a\u8d70\u5230\u7b2c $i$ \u884c\u7b2c $j$ \u5217\u5e76**\u6ca1\u4ea4\u6362\u8fc7\u6570\u5b57**\u7684\u6700\u5927\u6743\u503c\u548c\uff0c $dp_{1,i,j}$ \u8868\u793a\u8d70\u5230\u7b2c $i$ \u884c\u7b2c $j$ \u5217\u5e76**\u4ea4\u6362\u8fc7\u6570\u5b57**\u7684\u6700\u5927\u6743\u503c\u548c\u3002\u90a3\u4e48\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e5f\u5f88\u597d\u60f3\uff0c\u4e0a\u534a\u8fb9\u5c31\u662f:\n\n$dp_{0,i,j}=\\max(dp_{0,i-1,j},dp_{0,i-1,j-1})+a_{i,j}$\n\n$dp_{1,i,j}=\\max(\\max(dp_{1,i-1,j},dp_{1,i-1,j-1})+a_{i,j},\\max(dp_{0,i-1,j},dp_{0,i-1,j-1})+maxn_i)$\n\n\u4e0b\u534a\u8fb9\u5c31\u662f:\n\n$dp_{0,i,j}=\\max(dp_{0,i-1,j},dp_{0,i-1,j+1})+a_{i,j}$\n\n$dp_{1,i,j}=\\max(\\max(dp_{1,i-1,j},dp_{1,i-1,j+1})+a_{i,j},\\max(dp_{0,i-1,j},dp_{0,i-1,j+1})+maxn_i)$\n\n\u5176\u5b9e\u7531\u4e8e\u6bcf\u4e00\u884c\u7684\u72b6\u6001\u90fd\u662f\u7531\u4e0a\u4e00\u884c\u8f6c\u79fb\u8fc7\u6765\u7684\uff0c\u6240\u4ee5 $dp$ \u6570\u7ec4\u53ef\u4ee5\u964d\u7ef4\uff0c\u4f46\u7531\u4e8e\u672c\u9898\u4e0d\u5361\u7a7a\u95f4\u8fd9\u91cc\u5c31\u4e0d\u964d\u4e86\u3002\n\n\u6700\u540e\u5bf9\u7b2c $n\\times2-1$ \u884c\u53d6\u4e00\u4e2a\u6700\u5927\u503c\u5c31\u884c\u4e86\u3002\n\n## AC \u4ee3\u7801\n```cpp\n#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\nint n,a[205][205],maxn[205],dp[2][205][205]; // \u6ce8\u610f\u7a7a\u95f4\u8981\u5f00\u4e24\u500d \n\nint main()\n{\n\tscanf(\"%d\",&n);\n\t// \u5206\u6210\u4e0a\u4e0b\u4e24\u534a\u8bfb\u5165 \n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n+i-1;j++)\n\t\t{\n\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t\tmaxn[i]=max(maxn[i],a[i][j]);\n\t\t}\n\t}\n\tfor(int i=1;i<=n-1;i++)\n\t{\n\t\tfor(int j=1;j<=n+n-1-i;j++)\n\t\t{\n\t\t\tint t=i+n;\n\t\t\tscanf(\"%d\",&a[t][j]);\n\t\t\tmaxn[t]=max(maxn[t],a[t][j]);\n\t\t}\n\t}\n\t// \u5206\u6210\u4e0a\u4e0b\u4e24\u534a DP \n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n+i-1;j++)\n\t\t{\n\t\t\tdp[0][i][j]=max(dp[0][i-1][j],dp[0][i-1][j-1])+a[i][j];\n\t\t\tdp[1][i][j]=\n\t\t\tmax(\n\t\t\tmax(dp[1][i-1][j],dp[1][i-1][j-1])+a[i][j],\n\t\t\tmax(dp[0][i-1][j],dp[0][i-1][j-1])+maxn[i]\n\t\t\t);\n\t\t}\n\t}\n\tfor(int i=1;i<=n-1;i++)\n\t{\n\t\tfor(int j=1;j<=n+n-1-i;j++)\n\t\t{\n\t\t\tint t=i+n;\n\t\t\tdp[0][t][j]=max(dp[0][t-1][j],dp[0][t-1][j+1])+a[t][j];\n\t\t\tdp[1][t][j]=\n\t\t\tmax(\n\t\t\tmax(dp[1][t-1][j],dp[1][t-1][j+1])+a[t][j],\n\t\t\tmax(dp[0][t-1][j],dp[0][t-1][j+1])+maxn[t]\n\t\t\t);\n\t\t}\n\t}\n\tint ans=0;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tans=max(ans,dp[1][n*2-1][i]); // \u6c42\u6700\u5927\u503c \n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1620654727,
        "uid": 251130,
        "name": "lovely_ckj",
        "ccfLevel": 0,
        "title": "P7266 [BalticOI 2000] Honeycomb Problem \u9898\u89e3"
    },
    {
        "content": "#### Description\n\n> \u7ed9\u5b9a\u4e00\u4e2a\u8fb9\u957f\u4e3a $n$ \u7684\u8702\u7a9d\u56fe\uff0c\u6c42\u4e00\u6761\u8def\u5f84\u4f7f\u5f97\u548c\u6700\u5927\u3002      \n> \u53ef\u4ee5\u9009\u62e9\u4efb\u610f\u4e00\u884c\u7684\u4e24\u4e2a\u6570\u4ea4\u6362\u3002         \n> $1 \\le n \\le 99$\uff0c$0 \\le $ \u8702\u7a9d\u56fe\u7684\u6bcf\u4e2a\u6570 $\\le 99$\n\n#### Solution\n\n\u7c7b\u4f3c\u8fc7\u6cb3\u5352\u7684\u66b4\u529b dp\uff0c\u53ea\u4e0d\u8fc7\u5957\u4e86\u4e00\u5c42\u53ef\u4ee5\u4ea4\u6362\u548c\u8702\u7a9d\u56fe\u7684\u8863\u670d\uff0c\u672c\u8d28\u4e00\u6837\u3002\n\n\u9996\u5148\u4e00\u4e2a\u5f88\u7b80\u5355\u7684\u7ed3\u8bba\uff0c\u5982\u679c\u8981\u4ea4\u6362\uff0c\u90a3\u4e48\u4e00\u5b9a\u9009\u62e9\u8fd9\u4e00\u884c\u7684\u6700\u5927\u6570\u8fdb\u884c\u4ea4\u6362\u3002\n\n\u5b9a\u4e49\u5230\u7b2c $i$ \u884c\u7b2c $j$ \u5217\u7684\u6700\u5927\u548c\u4e3a $dp[i][j]$\uff0c\u56e0\u4e3a\u6709\u4ea4\u6362\u548c\u4e0d\u4ea4\u6362\uff0c\u56e0\u6b64\u66b4\u529b\u5347\u7ef4\uff1a\n\n- $dp[i][j][1]$ \u4e3a\u7ecf\u8fc7\u4ea4\u6362\u540e\u5230\u7b2c $i$ \u884c\u7b2c $j$ \u5217\u7684\u6700\u5927\u503c\u3002\n- $dp[i][j][0]$ \u4e3a\u4e0d\u7ecf\u8fc7\u4ea4\u6362\u540e\u5230\u7b2c $i$ \u884c\u7b2c $j$ \u5217\u7684\u6700\u5927\u503c\u3002\n- $a[i][j]$ \u4e3a\u7b2c $i$ \u884c\u7b2c $j$ \u5217\u7684\u6570\u3002\n\n\u8f6c\u79fb\u65b9\u7a0b\u5f88\u5bb9\u6613\u5f97\u5230\uff1a\n\n- $dp[i][j][0]$ \u4ece $dp[i][j][0]$ \u7684\u5de6\u4e0a\u89d2\u548c\u53f3\u4e0a\u89d2\u8f6c\u79fb\u8fc7\u6765\u3002\n- $dp[i][j][1]$ \u4ece $dp[i][j][1]$ \u7684\u5de6\u4e0a\u89d2\uff0c\u53f3\u4e0a\u89d2\uff0c\u6216\u8005\u5de6\u4e0a\u89d2\uff0c\u53f3\u4e0a\u89d2\u7684 $dp[i][j][0]$ \u7684\u503c\u7684\u6700\u5927\u503c\u52a0\u4e0a $\\max\\{a[i][j]\\}$\u3002\n\n\u4f46\u662f\u8f93\u5165\u6709\u70b9\u6076\u5fc3\uff0c\u8fb9\u957f\u4e3a $n$ \u7684\u8702\u7a9d\u56fe\u6709 $2 \\times n-1$ \u884c\uff0c\u524d $n$ \u884c\u662f\u6b63\u7740\u7684\uff0c\u540e $n$ \u884c\u662f\u5012\u7740\u7684\uff0c\u524d $n$ \u884c\u548c\u540e $n$ \u884c\u4e0d\u4e00\u6837\uff0c\u5de6\u4e0a\u89d2\u548c\u53f3\u4e0a\u89d2\u7684\u8868\u793a\u65b9\u5f0f\u4e5f\u4e0d\u4e00\u6837\uff0c\u81ea\u5df1\u6a21\u62df\u4e00\u4e0b\u5373\u53ef\u3002",
        "postTime": 1610854753,
        "uid": 114914,
        "name": "\u4e00\u53ea\u4e66\u866b\u4ed4",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P7266 \u3010[BalticOI 2000] Honeycomb Problem\u3011"
    },
    {
        "content": "## \u601d\u8def\n\n\u672c\u9898\u6211\u7684\u7b2c\u4e00\u60f3\u6cd5\u662f $\\mathcal{O(n^3)}$ \u505a\u6cd5\uff1a\u679a\u4e3e\u8981\u6539\u53d8\u7684\u90a3\u4e00\u884c\uff0c\u5e76\u5bf9\u5e94\u7684\u8003\u8651\u6700\u5927\u503c\uff0c\u6700\u540e\u8003\u8651\u6539\u53d8\u6bcf\u4e00\u884c\u5bf9\u5e94\u7684\u6700\u5927\u503c\u3002\n\n## \u89e3\u6cd5\n\n\u5bf9\u4e8e\u8981\u6539\u53d8\u7684\u6bcf\u4e00\u884c\uff1a\n\n- \u904d\u5386\u6bcf\u4e00\u884c\uff0c\u8fd0\u7528\u6734\u5b9e\u7684\u80cc\u5305\u3002\n- \u5728\u9047\u5230\u8981\u6539\u53d8\u7684\u90a3\u4e00\u884c\u7684\u65f6\u5019\uff0c\u8df3\u8fc7\u3002\n- \u5728\u9047\u5230\u8981\u6539\u53d8\u7684\u90a3\u4e00\u884c\u7684\u4e0b\u4e00\u884c\u7684\u65f6\u5019\uff0c\u8003\u8651\u5176\u4e0a\u4e0a\u884c\u53ef\u80fd\u4f20\u4e0b\u6765\u7684\u4e09\u4e2a\u4f4d\u7f6e\uff0c\u66f4\u65b0\u7b54\u6848\u3002\n\n\u6700\u540e\u8003\u8651\u6700\u540e\u4e00\u884c\u7684\u6700\u5927\u503c\uff0c\u52a0\u4e0a\u5bf9\u5e94\u884c\u7684\u6700\u5927\u503c\uff0c\u66f4\u65b0\u6700\u7ec8\u7b54\u6848\u3002\n\n\u6700\u540e\u8f93\u51fa\u5373\u53ef\u3002\n\nPS. \u6211\u8c8c\u4f3c\u8f93\u5165\u662f\u9898\u89e3\u4e2d\u6700\u7b80\u77ed\u7684\uff0c\u5efa\u8bae\u501f\u9274\u6211\u7684\u7684\uff08doge\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nll n , m , p[305][305] , f[305][305] , ans;\nint main()\n{\n\tcin >> n;\n\tfor ( int i = 1; i < 2 * n; i++ )\tfor ( int j = 1; j <= 2 * n - 1 - abs( i - n ); j++ )\tcin >> p[i][j];\n\tfor ( int l = 1; l < 2 * n; l++ )\n\t{\n\t\tfor ( int i = 0; i <= 2 * n + 2; i++ )\tfor ( int j = 0; j <= 2 * n - 1 - abs( i - n ) + 2; j++ )\tf[i][j] = 0;\n\t\tll pls = 0 , s = 0;\n\t\tfor ( int i = 1; i <= 2 * n - 1 - abs( l - n ); i++ )\tpls = max( pls , p[l][i] );\n\t\tfor ( int i = 1; i <= n; i++ )\n\t\t\tfor ( int j = 1; j <= i + n - 1; j++ )\n\t\t\t{\n\t\t\t\tif ( i == l )\tcontinue;\n\t\t\t\tif ( i == l + 1 && i >= 2 )\n\t\t\t\t{\n\t\t\t\t\tf[i][j] = max( f[i - 2][j] , f[i - 2][j - 1] );\n\t\t\t\t\tif ( j - 2 >= 0 ) f[i][j] = max( f[i - 2][j - 2] , f[i][j] );\n\t\t\t\t\tf[i][j] += p[i][j];\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tf[i][j] = max( f[i - 1][j - 1] , f[i - 1][j] );\n\t\t\t\tf[i][j] += p[i][j];\n\t\t\t}\n\t\tfor ( int i = n + 1; i < 2 * n; i++ )\n\t\t\tfor ( int j = 1; j <= 3 * n - i - 1; j++ )\n\t\t\t{\n\t\t\t\tif ( i == l )\tcontinue;\n\t\t\t\tif ( i == l + 1 && i >= 2 )\n\t\t\t\t{\n\t\t\t\t\tf[i][j] = max( f[i - 2][j] , f[i - 2][j + 1] );\n\t\t\t\t\tif ( i > n + 1 )\tf[i][j] = max( f[i - 2][j + 2] , f[i][j] );\n\t\t\t\t\telse\tf[i][j] = max( f[i - 2][j - 1] , f[i][j] );//\u8fd9\u91cc\u5f88\u91cd\u8981\uff0c\u56e0\u4e3a\u5728n+1\u884c\u5904\uff0c\u4e0a\u4e0a\u884c\u5bf9\u5e94\u7684\u672c\u884c\u7684\u53ef\u4f20\u4e0b\u6765\u7684\u4f4d\u7f6e\u4e0d\u540c\u4e8en+2\u884c\u4ee5\u4e0b\u7684\n\t\t\t\t\tf[i][j] += p[i][j];\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tf[i][j] = max( f[i - 1][j + 1] , f[i - 1][j] );\n\t\t\t\tf[i][j] += p[i][j];\n\t\t\t}\n\t\tif ( l < 2 * n - 1 )\tfor ( int i = 1; i <= n; i++ )\ts = max( s , f[2 * n - 1][i] );\n\t\telse\tfor ( int i = 1; i <= n; i++ )\ts = max( s , f[2 * n - 2][i] );//\u8fd9\u91cc\u867d\u7136\u4e0d\u5f71\u54cdAC\uff0c\u4f46\u662f\u9700\u8981\u8003\u8651\u5f53\u6211\u4eec\u6539\u53d8\u6700\u540e\u4e00\u884c\u4e14\u5176\u4e2d\u542b\u6709\u6700\u4f18\u89e3\u7684\u65f6\u5019\uff0c\u6700\u540e\u4e00\u884c\u662f\u5168\u90fd\u662f0\u7684\uff0c\u9700\u8981\u8003\u8651\u524d\u4e00\u884c\n\t\ts += pls;\n\t\tans = max( ans , s );\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1680611074,
        "uid": 726395,
        "name": "ztntonny",
        "ccfLevel": 4,
        "title": "P7266\u9898\u89e3"
    },
    {
        "content": "## P7266 [BalticOI 2000] Honeycomb Problem \u9898\u89e3\n\n\u5206\u6790\uff1a\n\n\u9898\u89e3\u533a\u91cc\u770b\u5230\u4e86\u5f88\u591a\u7528 $O(n^2)$ \u7684\u4e09\u7ef4 dp \u8fc7\u4e86\u8fd9\u9053\u9898\uff0c\u6211\u7ed9\u5927\u5bb6\u5206\u4eab\u4e00\u4e2a\u66f4\u6613\u61c2\uff0c\u590d\u6742\u5ea6\u4e3a $O(n^3)$ \u7684\u65b9\u6cd5\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u679a\u4e3e\u4e00\u4e2a $k$\uff0c\u8868\u793a\u6211\u4eec\u4ea4\u6362\u7b2c $k$ \u884c\u7684\u4e24\u4e2a\u6570\u7684\u503c\u3002\n\n\u53ef\u4ee5\u7406\u89e3\u4e3a\u4ea4\u6362\u540e\u8fd9\u4e00\u884c\u7684\u6240\u6709\u6570\u90fd\u53d8\u6210\u4e86\u8fd9\u4e00\u884c\u7684\u6700\u5927\u503c\u3002\n\n\u7136\u540e\u518d dp \u5c31\u597d\u4e86\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^3)$\u3002\n\ncode\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int maxn=220;\nint a[maxn][maxn];\nint dp[maxn][maxn];\nint len[maxn];\nint mx[maxn];\n\nint main(){\n\tint n;\n\tscanf(\"%d\",&n);\n\t\n\tlen[0]=n-1;\n\tfor (int i=1;i<2*n;i++){\n\t\tif (i<=n) len[i]=len[i-1]+1;\n\t\telse len[i]=len[i-1]-1;\n\t\t\n\t\tfor (int j=1;j<=len[i];j++) scanf(\"%d\",&a[i][j]),mx[i]=max(mx[i],a[i][j]);\n\t}\n\t\n\tint ans=0;\n\tfor (int k=1;k<2*n;k++){\n\t\tmemset(dp,0,sizeof(dp));\n\t\tfor (int i=1;i<=n;i++){\n\t\t\tfor (int j=1;j<=len[i];j++){\n\t\t\t\tif (i==k) dp[i][j]=max(dp[i-1][j],dp[i-1][j-1])+mx[i];\n\t\t\t\telse dp[i][j]=max(dp[i-1][j],dp[i-1][j-1])+a[i][j];\n\t\t\t}\n\t\t}\n\t\t\n\t\tfor (int i=n+1;i<2*n;i++){\n\t\t\tfor (int j=1;j<=len[i];j++){\n\t\t\t\tif (i==k) dp[i][j]=max(dp[i-1][j],dp[i-1][j+1])+mx[i];\n\t\t\t\telse dp[i][j]=max(dp[i-1][j],dp[i-1][j+1])+a[i][j]; \n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tfor (int i=1;i<=n;i++) ans=max(ans,dp[2*n-1][i]);\n\t}\n\t\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1679495361,
        "uid": 546301,
        "name": "past_tense",
        "ccfLevel": 0,
        "title": "P7266 [BalticOI 2000] Honeycomb Problem \u9898\u89e3"
    },
    {
        "content": "\u4e2a\u4eba\u8ba4\u4e3a\u8fd9\u9898\u76ee\u96be\u5ea6\u5927\u6982\u5728 pj T2~T3 \u7684\u6837\u5b50\u3002\n\n\u660e\u663e\u6709\u4e00\u4e2a\u65e0\u540e\u6548\u6027\uff0c\u4e5f\u5c31\u53ef\u4ee5\u8003\u8651 DP\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8282\u70b9\u6765\u8bb2\u5b83\u65e0\u975e\u5c31\u51e0\u79cd\u53ef\u80fd\u6027\u5230\u8fbe\u3002\n\n1. \u4ece\u4ed6\u5de6\u8fb9\u8fc7\u6765\u3002\n\n1. \u4ece\u4ed6\u53f3\u8fb9\u8fc7\u6765\u3002\n\n\u5bf9\u4e8e\u64cd\u4f5c\u6765\u8bb2\uff0c\u663e\u7136\u5f97\u5230\u6362\u6700\u5927\u503c\u662f\u6700\u4f18\u7684 (\u4e0d\u8fc7\u8fd9\u91cc\u679a\u4e3e\u4e00\u4e0b\u5e94\u8be5\u4e5f\u4e0d\u4f1a T)\u3002\n\n\u5b9a\u4e49\u72b6\u6001 $f_{i,j,k}$ \u8868\u793a\u5230\u7b2c $i$ \u884c\uff0c\u7b2c $j$ \u5217\uff0c\u6709\u65e0\u8fdb\u884c\u8fc7\u64cd\u4f5c\u4ea7\u751f\u7684\u6700\u5927\u503c\u3002\n\n\u4e0a\u534a\u6bb5\u65b9\u7a0b\uff1a\n\n$k$ \u7684\u60c5\u51b5\u8ba8\u8bba\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\u3002\n\n$f_{i,j}=\\max(f_{i-1,j-1},f_{i-1,j})+a_{i,j}$ \u3002\n\n\u4e0b\u534a\u6bb5\u65b9\u7a0b\uff1a\n\n$f_{i,j}=\\max(f_{i-1,j+1},f_{i-1,j})+a_{i,j}$ \u3002\n\n\u6ce8\u610f\u8fd9\u8fb9\u64cd\u4f5c\u53ef\u4ee5\u7528\u5728\u4e4b\u524d\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$\u3002\n\n\u6ce8\u610f\u8fd9\u91cc\u8981\u5206\u4e0a\u4e0b\u4e24\u6bb5\u8ba8\u8bba\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <iostream>\n#include <cstdio>\nusing namespace std;\nconst int INF=205;\nint n,a[INF][INF],sum[INF],f[INF][INF][3],ans;\nsigned main()\n{\n        scanf(\"%d\",&n); int jj=n,fl=1;\n        for (int i=1; i<=2*n-1; i++) {\n                // cout<<jj<<\"\\n\";\n                for (int j=1; j<=jj; j++) {\n                        scanf(\"%d\",&a[i][j]);\n                        sum[i]=max(sum[i],a[i][j]);\n                }\n                jj+=fl;\n                if (jj>=2*n) jj-=2,fl=-1;\n        }\n        jj=n; fl=1;\n        for (int i=1; i<=n; i++) {\n                for (int j=1; j<=jj; j++) {\n                        int xx=max(f[i-1][j][0],f[i-1][j-1][0]);\n                        f[i][j][0]=xx+a[i][j];\n                        int yy=max(f[i-1][j][1],f[i-1][j-1][1])+a[i][j];\n                        // if (i==5 && j==3) cout<<yy<<\"\\n\";\n                        xx+=sum[i];\n                        f[i][j][1]=max(xx,yy);\n                        // cout<<f[i][j][0]<<\" \"<<f[i][j][1]<<\" \"<<i<<\" \"<<j<<\"\\n\";\n                }\n                jj+=fl;\n                if (jj>=2*n) jj-=2,fl=-1;\n        }\n        for (int i=n+1; i<=2*n-1; i++) {\n                for (int j=1; j<=jj; j++) {\n                        int xx=max(f[i-1][j][0],f[i-1][j+1][0]);\n                        f[i][j][0]=xx+a[i][j];\n                        int yy=max(f[i-1][j][1],f[i-1][j+1][1])+a[i][j];\n                        // if (i==5 && j==3) cout<<yy<<\"\\n\";\n                        xx+=sum[i];\n                        f[i][j][1]=max(xx,yy);\n                        if (i==2*n-1) ans=max(ans,max(f[i][j][0],f[i][j][1]));\n                        // cout<<f[i][j][0]<<\" \"<<f[i][j][1]<<\" \"<<i<<\" \"<<j<<\"\\n\";\n                }\n                jj+=fl;\n                if (jj>=2*n) jj-=2,fl=-1;\n        }\n        cout<<ans<<\"\\n\";\n        return 0;\n}\n\n```\n\n\u8fd9\u9898\u76ee\u8fd8\u53ef\u4ee5\u7528\u6eda\u52a8\u6570\u7ec4\u5c06\u7a7a\u95f4\u538b\u6210 $O(n)$\u3002\n\n~~\u7136\u540e\u53ef\u4ee5\u6109\u5feb\u5730\u5361\u7a7a\u95f4\u4e86\uff01~~\n\n\u6570\u636e\u8303\u56f4\u53ef\u4ee5\u51fa\u5230 $n \\le 2000$\u3002\n\n\u76ee\u524d\u6211\u5c3d\u529b\u53ea\u80fd\u505a\u5230\u8fd9\u91cc\u3002\n\n**\u8c22\u8c22**\n\n",
        "postTime": 1624703947,
        "uid": 208653,
        "name": "_edge_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P7266"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u975e\u5e38\u5178\u578b\u7684 $\\text{dp}$ \u9898\u76ee\u3002\n\n\u6709\u51e0\u4e2a\u8f83\u4e3a\u4e0d\u5bb9\u6613\u601d\u8003\u7684\u70b9\uff1a\n\n1. \u5982\u4f55\u50a8\u5b58\u8702\u7a9d\u56fe\uff1f\n\n2. \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5982\u4f55\u63a8\uff1f\uff08\u5b58\u5728\u4e00\u6b21\u4ea4\u6362\u6570\u503c\u7684\u673a\u4f1a\uff09\n\n\n------------\n\n###  \u5148\u6765\u8bf4\u7b2c\u4e00\u70b9\u5427\uff0c\u5982\u4f55\u50a8\u5b58\u8702\u7a9d\u56fe\uff1f\n\n\u6211\u4eec\u5176\u5b9e\u5c31\u53ef\u4ee5\u8003\u8651\u91c7\u7528\u6837\u4f8b\u5448\u73b0\u7684\u65b9\u5f0f\u5b58\u56fe\u3002\u7528\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4\uff0c\u7b2c\u4e00\u884c\u7684\u4e0b\u6807\u4e3a $(1,1)-(1,n)$\uff0c\u7b2c\u4e8c\u884c\u7684\u4e0b\u6807\u4e3a $(2,1)-(2,n+1)$\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u90a3\u4e48\u4e00\u4e2a\u95ee\u9898\u5c31\u6765\u4e86\uff0c**\u5982\u4f55\u5728\u5faa\u73af\u4e2d\u8868\u793a\u67d0\u4e00\u884c\u7684\u5217\u6570\u5462\uff1f**\n\n\u6211\u4eec\u91c7\u7528\u5206\u7c7b\u8ba8\u8bba\u7684\u65b9\u5f0f\uff08\u5047\u8bbe\u884c\u7528 $i$ \u8868\u793a\uff0c\u5217\u7528 $j$ \u8868\u793a\uff09\uff1a\n\n1. \u5bf9\u4e8e\u524d $n$ \u884c\uff1a\u6211\u4eec\u4f1a\u53d1\u73b0\u5217\u6570\u4f1a\u968f\u7740\u884c\u6570\u7684\u589e\u5927\u800c\u589e\u5927\uff0c\u6545\u5173\u7cfb\u5f0f\u4e3a $j=n+i-1$\u3002\n\n2. \u5bf9\u4e8e\u540e $n-2$ \u884c\uff1a\u6211\u4eec\u4f1a\u53d1\u73b0\u5217\u6570\u4f1a\u968f\u7740\u884c\u6570\u7684\u589e\u5927\u800c\u51cf\u5c0f\uff0c\u4e14\u884c\u5217\u4e4b\u548c\u6052\u4e3a $3\\times n-1$\uff08\u7b2c $n+i$ \u884c\u4f1a\u6709 $2\\times n-1-i$ \u5217\uff09\uff0c\u6545\u5173\u7cfb\u5f0f\u4e3a $j=3\\times n-i-1$\u3002\n\n\u81f3\u6b64\uff0c\u4e00\u5ea7\u5927\u5c71\u5df2\u7ecf\u88ab\u6211\u4eec\u7ffb\u8fc7\u4e86\uff01\n\n\n------------\n\n### \u6700\u91cd\u8981\u7684\u95ee\u9898\u6765\u4e86\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u600e\u4e48\u63a8\uff1f\n\n\u5982\u679c\u5148\u4e0d\u8003\u8651\u8f6c\u79fb\u70b9\u7684\u95ee\u9898\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8f7b\u677e\u7684\u77e5\u9053\uff0c**\u5230\u67d0\u4e2a\u70b9\u622a\u6b62\u7684\u6700\u5927\u503c\u4e00\u5b9a\u4e0e\u8be5\u70b9\u4e0a\u9762\u7684\u4e24\u4e2a\u70b9\u6709\u5173**\u3002\u6240\u4ee5\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a\u2014\u2014\n\n\u4e0d\u5bf9\uff0c\u4e0a\u534a\u5c42\u56fe\u548c\u4e0b\u534a\u5c42\u56fe\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u4e0a\u534a\u5c42\u56fe\u70b9 $(i,j)$ \u7684\u4e0a\u9762\u4e24\u4e2a\u70b9\u4e3a\u70b9 $(i-1,j-1)$ \u548c\u70b9 $(i-1,j)$\uff0c\u4e0b\u534a\u5c42\u56fe\u4e3a\u70b9 $(i-1,j)$ \u548c\u70b9 $(i-1,j+1)$\u3002\n\n\u6240\u4ee5\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a\uff1a\uff08$t$ \u6570\u7ec4\u4e3a\u8f93\u5165\u7684\u56fe\uff09\n\n\u4e0a\u534a\u5c42\uff1a$dp_{i,j}=max\\left\\{dp_{i-1,j-1},dp_{i-1,j}\\right\\}+t_{i,j}$\n\n\u4e0b\u534a\u5c42\uff1a$dp_{i,j}=max\\left\\{dp_{i-1,j},dp_{i-1,j+1}\\right\\}+t_{i,j}$\n\n\u5df2\u7ecf\u601d\u8003\u5230\u8fd9\u91cc\u4e86\uff0c\u90a3\u4e48\u52a0\u4e0a\u8f6c\u79fb\u70b9\u4e5f\u5c31\u7b80\u5355\u4e86\u2014\u2014\u6211\u4eec\u53ef\u4ee5\u518d\u5c06 $\\text{dp}$ \u6570\u7ec4\u52a0\u4e00\u7ef4\uff0c\u8868\u793a\u5230\u8be5\u70b9\u4e3a\u6b62\u662f\u5426\u8f6c\u79fb\u8fc7\u70b9\uff0c\u518d\u7528\u4e00\u4e2a $\\text{maxn}$ \u6570\u7ec4\u8bb0\u5f55\u6bcf\u4e00\u884c\u7684\u6700\u5927\u503c\uff0c\u8f6c\u79fb\u65b9\u7a0b\u5982\u4e0b\u3002\n\n\u4e0a\u534a\u5c42\uff1a\n\n$$dp_{i,j,0}=max\\left\\{dp_{i-1,j-1,0},dp_{i-1,j,0}\\right\\}+t_{i,j}$$\n$$dp_{i,j,1}=max\\left\\{max\\left\\{dp_{i-1,j-1,1},dp_{i-1,j,1}\\right\\}+t_{i,j},max\\left\\{dp_{i-1,j-1,0},dp_{i-1,j,0}\\right\\}+maxn_i\\right\\}$$\n\n\u4e0b\u534a\u5c42\u7684\u5c31\u4ee5\u6b64\u7c7b\u63a8\u5566\uff01\n\n\u6700\u540e\u5c06\u6700\u540e\u4e00\u6392\u7684 $\\text{dp 1}$ \u503c\u53d6\u6700\u5927\u503c\u8f93\u51fa\u5c31\u884c\u5566\uff08\u56e0\u4e3a\u4ea4\u6362\u8fc7\u7684\u503c\u80af\u5b9a\u5927\u4e8e\u7b49\u4e8e\u672a\u4ea4\u6362\u8fc7\u7684\uff09\n\n## AC Code\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define N 205\nint n,t[N][N],dp[N][N][2],maxn[N];\nint read(){\n\tint w=0,f=1;\n\tchar c=getchar();\n\twhile (c>'9'||c<'0'){\n\t\tif (c=='-') f=-1;\n\t\tc=getchar();\n\t}\n\twhile (c<='9'&&c>='0'){\n\t\tw=(w<<3)+(w<<1)+(c^48);\n\t\tc=getchar();\n\t}\n\treturn w*f;\n}\nint main(){\n\tn=read();\n\tfor (int i=1;i<=n;i++){\n\t\tfor (int j=1;j<n+i;j++){\n\t\t\tt[i][j]=read();\n\t\t\tmaxn[i]=max(maxn[i],t[i][j]);\n\t\t}\n\t}\n\tfor (int i=n+1;i<2*n;i++){\n\t\tfor (int j=1;j<3*n-i;j++){\n\t\t\tt[i][j]=read();\n\t\t\tmaxn[i]=max(maxn[i],t[i][j]);\n\t\t}\n\t}\n\tfor (int i=1;i<=n;i++){//\u7b2c\u4e00\u6392\u7279\u522b\u5904\u7406\u4e00\u4e0b\n\t\tdp[1][i][0]=t[1][i];\n\t\tdp[1][i][1]=maxn[1];\n\t}\n\tfor (int i=2;i<=n;i++){\n\t\tfor (int j=1;j<n+i;j++){\n\t\t\tdp[i][j][0]+=max(dp[i-1][j-1][0],dp[i-1][j][0])+t[i][j];\n\t\t\tdp[i][j][1]=max(max(dp[i-1][j-1][1],dp[i-1][j][1])+t[i][j],\n\t\t\t\t\t\t\tmax(dp[i-1][j-1][0],dp[i-1][j][0])+maxn[i]);\n\t\t}\n\t}\n\tfor (int i=n+1;i<2*n;i++){\n\t\tfor (int j=1;j<3*n-i;j++){\n\t\t\tdp[i][j][0]+=max(dp[i-1][j][0],dp[i-1][j+1][0])+t[i][j];\n\t\t\tdp[i][j][1]=max(max(dp[i-1][j][1],dp[i-1][j+1][1])+t[i][j],\n\t\t\t\t\t\t\tmax(dp[i-1][j][0],dp[i-1][j+1][0])+maxn[i]);\t\t\t\t\t\t\t\n\t\t}\n\t}\n\tint ans=0;\n\tfor (int i=1;i<=n;i++){\n\t\tans=max(ans,dp[2*n-1][i][1]);\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1613820336,
        "uid": 257621,
        "name": "\u7ffc\u5fb7\u5929\u5c0a",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P7266 \u3010Honeycomb Problem\u3011"
    },
    {
        "content": "### \u524d\u8a00\n\n\u9996A!\n\n### \u6b63\u6587\n\n\u5efa\u8bae\u770b[\u8fd9\u9053\u9898](https://www.luogu.com.cn/problem/P1004)\u5b66\u4e60\u4ec0\u4e48\u662f\u52a8\u6001\u89c4\u5212\u3002\n\n\u8fd9\u9053\u9898\u662f\u52a8\u6001\u89c4\u5212\u6c34\u9898\uff0c\u7136\u540e\u6211\u7528\u4e86\u4e09\u5206\u949fA\u4e86\u5b83\u3002\n\n\u9996\u5148\uff0c\u6839\u636e\u5c0f\u5b66\u76ee\u89c6\u6cd5\u53ef\u77e5\uff0c\u7b2c $i$ \u884c\u6709 $2n-|i-n|-1$ \u4e2a\u6570\u5b57\u3002\n\n\u5176\u6b21\uff0c\u6839\u636e\u5c0f\u5b66\u76ee\u89c6\u6cd5\u53ef\u77e5\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u8702\u7a9d $a_{i,j}$\uff1a\u5982\u679c $i\\le n$,\u90a3\u4e48\u8fd9\u4e2a\u8702\u7a9d\u7684\u5de6\u4e0a\u89d2\u548c\u53f3\u4e0a\u89d2\u5206\u522b\u662f $a_{i-1,j}$ \u548c $a_{i-1,j-1}$ \u4e0d\u7136\uff0c\u5219\u662f $a_{i-1,j+1}$ \u548c $a_{i-1,j}$ \u3002\n\n\u5728\u5176\u6b21\uff0c\u6839\u636e\u5c0f\u5b66\u76ee\u89c6\u6cd5\u53ef\u77e5\uff0c\u5982\u679c\u8fdb\u884c\u4ea4\u6362\uff0c\u4e00\u5b9a\u662f\u5c06\u8fd9\u4e00\u884c\u6700\u5927\u7684\u90a3\u4e2a\u6570\u4ea4\u6362\u8fc7\u6765\u3002\n\n\u6211\u4eec\u4ee4 $m_i$ \u8868\u793a\u7b2c $i$ \u884c\u8702\u7a9d\u6700\u5927\u503c\u3002\n\n\u6211\u4eec\u4ee4 $f_{i,j}$ \u8868\u793a\u6ca1\u6709\u8fdb\u884c\u4ea4\u6362\uff0c\u5230\u8fbe\u8fd9\u4e2a\u8702\u7a9d\u65f6\u53ef\u4ee5\u83b7\u5f97\u7684\u603b\u548c\u7684\u6700\u5927\u503c\u3002\n\n\u6211\u4eec\u4ee4 $g_{i,j}$ \u8868\u793a\u6709\u8fdb\u884c\u4ea4\u6362\uff0c\u5230\u8fbe\u8fd9\u4e2a\u8702\u7a9d\u65f6\u53ef\u4ee5\u83b7\u5f97\u7684\u603b\u548c\u7684\u6700\u5927\u503c\u3002\n\n\u8f6c\u79fb\u65b9\u7a0b\u663e\u7136\uff1a\n\n$ f_{i,j}=\\max(f_{\\texttt{\u5de6\u4e0a\u89d2}}+a_{\\texttt{\u5de6\u4e0a\u89d2}},f_{\\texttt{\u53f3\u4e0a\u89d2}}+a_{\\texttt{\u53f3\u4e0a\u89d2}}) $ \u3002\n\u5206\u522b\u5bf9\u5e94\u5de6\u4e0a\u89d2\u8f6c\u79fb\u6765\uff0c\u53f3\u4e0a\u89d2\u8f6c\u79fb\u6765\u4e24\u79cd\u51b3\u7b56\u3002\n\n$g_{i,j}=\\max(\\max(f_{\\texttt{\u5de6\u4e0a\u89d2}},f_{\\texttt{\u53f3\u4e0a\u89d2}})+m_i,g_{\\texttt{\u5de6\u4e0a\u89d2}}+a_{\\texttt{\u5de6\u4e0a\u89d2}},g_{\\texttt{\u53f3\u4e0a\u89d2}}+a_{\\texttt{\u53f3\u4e0a\u89d2}})$\n\n\u4ee3\u7801\u663e\u7136:\n\n### Code\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#include<stdio.h>\nusing namespace std;\n#define l (n+n-abs(i-n)-1)\nconst int size=99*2-1+5;\nconst int inf=1000000;\nint n,ans=-inf;\nint a[size][size],f[size][size],g[size][size],m[size];\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=0;i<=2*n-1;i++)\n\t\tfor(int j=0;j<=2*n-1;j++)\n\t\t\ta[i][j]=f[i][j]=g[i][j]=-inf;\n\tfor(int j=1;j<=2*n-1;j++)a[0][j]=f[0][j]=g[0][j]=0;\n\tfor(int i=1;i<=2*n-1;i++)\n\t\tfor(int j=1;j<=l;j++)\n\t\t\tscanf(\"%d\",&a[i][j]),m[i]=max(a[i][j],m[i]);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=l;j++)\n\t\t\tf[i][j]=max(f[i-1][j]+a[i-1][j],f[i-1][j-1]+a[i-1][j-1]),\n\t\t\tg[i][j]=max(max(f[i-1][j],f[i-1][j-1])+m[i-1],max(g[i-1][j]+a[i-1][j],g[i-1][j-1]+a[i-1][j-1]));\n\tfor(int i=n+1;i<=2*n-1;i++)\n\t\tfor(int j=1;j<=l;j++)\n\t\t\tf[i][j]=max(f[i-1][j]+a[i-1][j],f[i-1][j+1]+a[i-1][j+1]),\n\t\t\tg[i][j]=max(max(f[i-1][j],f[i-1][j+1])+m[i-1],max(g[i-1][j]+a[i-1][j],g[i-1][j+1]+a[i-1][j+1]));\n\tfor(int j=1;j<=2*n-1;j++)\n\t\tans=max(ans,max(f[2*n-1][j],g[2*n-1][j])+a[2*n-1][j]);\n\treturn printf(\"%d\\n\",ans),0;\n}\n```\n\n\u65f6\u7a7a\u590d\u6742\u5ea6 $\\Theta(n^2)$\uff0c\u7ef0\u7ef0\u6709\u4f59\u3002\n\n\u5f53\u7136\u8fd9\u9053\u9898\u53ef\u4ee5\u7528\u6eda\u52a8\u6570\u7ec4\u5361\u7a7a\u95f4\uff0c\u6709\u5174\u8da3\u7684\u4eba\u53ef\u4ee5\u601d\u8003\u4e00\u4e0b\u3002",
        "postTime": 1610535347,
        "uid": 217300,
        "name": "Error_Eric",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P7266 \u3010[BalticOI 2000] Honeycomb Problem\u3011"
    }
]