[
    {
        "content": "\u849f\u84bb\u4e5f\u80fd\u5199\u51fa\u6765\u7684AC\u4ee3\u7801\uff01\u5176\u5b9e\u521a\u62ff\u5230\u8fd9\u9053\u9898\u662f\u6211\u662f\u4e0d\u4f1a\u505a\u7684\u2026\u2026\u56e0\u4e3a\u6211\u60ef\u6027\u601d\u7ef4\u4e86\uff0c\u8001\u662f\u60f3\u7740\u4ece1\u63a8\u5230n\uff0c\u4f46\u662f\u8fd9\u6837\u662f\u6709\u540e\u6548\u6027\u7684\u3002\n\n\u4e0d\u8fc7\uff0c**\u6b63\u96be\u5219\u53cd**\uff0c\u65e2\u7136\u4ece1\u5230n\u6709\u540e\u6548\u6027\u4e86\uff0c\u90a3\u4e48\u6211\u4eec\u60f3\u7740\u4ecen\u63a8\u52301\u3002\u53ef\u4ee5\u770b\u51fa\u6765\u4e00\u4e2a\u661f\u7403\u9009\u62e9\u4e0e\u5426\u5bf9\u540e\u9762\u7684\u5f71\u54cd\u662f\u6210\u6bd4\u4f8b\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u53ea\u662f\u7cfb\u6570\u7684\u5dee\u522b\u3002\n\n\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u7b2ci\u4e2a\u662f\u8d44\u6e90\u578b\uff0c\u6211\u4eec\u53ef\u4ee5\u641e\u51fadp[i+1]\uff08\u4ee3\u8868\u4ecei+1\u5f00\u59cb\u9009\uff0c1\uff5ei\u4e00\u6982\u7565\u8fc7\uff09\u7684\u6700\u5927\u91d1\u94b1\u6570\uff0c\u94a6\u5b9a\u7b2ci\u4e2a\u5f00\u59cb\u9009\u7684\u7cfb\u6570\u4e3a1\uff0c\u90a3\u4e48dp[i]=max(dp[i+1]/\\*\u8fd9\u4e2a\u4e0d\u9009\\*/, a[i]+dp[i+1]\\*(1-0.01\\*k)/\\*\u7b2ci\u4e2a\u9009\u4e86\uff0c\u52a0\u4e0a\u91d1\u94b1\uff0c\u5f53\u524d\u94bb\u5934\u80fd\u529b\u7cfb\u6570\u53d8\u4e3a\u539f\u6765\u7684(1-0.01\\*k)\uff0c\u90a3\u4e48\u540e\u9762\u7684\u5f97\u5230\u7684\u6700\u5927\u91d1\u94b1\u6570\u4e5f\u53d8\u4e3a\u539f\u6765\u7684(1-0.01\\*k)\\*/)\n\n\u4ee3\u7801\u91cf\u5f88\u5c11\u4f46\u662f\u601d\u7ef4\u8fd8\u662f\u5f88\u6709\u96be\u5ea6\u7684qwq\n\n```cpp\n#include <iostream>\n#include <cstdio>\nusing namespace std;\nint n, f[100005], a[100005];\ndouble c, k, w, dp[100005];\nint main(){\n    cin>>n>>k>>c>>w;\n    for(int i=1; i<=n; i++)\n        scanf(\"%d %d\", &f[i], &a[i]);\n    for(int i=n; i>=1; i--){\n        if(f[i]==1)    dp[i] = max(dp[i+1], a[i]+dp[i+1]*(1-0.01*k));\n        else        dp[i] = max(dp[i+1], -a[i]+dp[i+1]*(1+0.01*c));\n    }\n    printf(\"%.2lf\", dp[1]*w);\n    return 0;\n}\n```",
        "postTime": 1508487011,
        "uid": 44733,
        "name": "poorpool",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "# [\u987e](https://www.luogu.org/blog/RPdreamer/#)[z](https://www.cnblogs.com/-guz/)\n\n~~\u4f60\u6ca1\u6709\u53d1\u73b0\u4e24\u4e2a\u5b57\u91cc\u7684blog\u90fd\u4e0d\u4e00\u6837\u561b~~ qwq\n\n\u9898\u76ee\u63cf\u8ff0-->[P1412 \u7ecf\u8425\u4e0e\u5f00\u53d1](https://www.luogu.org/problemnew/show/P1412)\n\n## \u5206\u6790\n\n\u867d\u7136\u770b\u5230$Rank_1$\u5df2\u7ecf\u6709\u4e86\u89e3\u91ca.\n\n~~\u4f46\u6211\u8ba4\u4e3a\u6211\u80fdBB\u7684\u66f4\u597d~~\n\n\u6211\u8fd8\u662f\u51b3\u5b9a\u6765\u5199\u4e00\u7bc7\u9898\u89e3. qwq\n\n### \u5217\u5f0f\n\n\u6839\u636e\u9898\u610f,\u6211\u4eec\u5f88\u5bb9\u6613\u5217\u51fa\u5f0f\u5b50.(\u778e~~j8~~\u5199.\n\n(\u53d8\u91cf\u540d\u4e0e\u9898\u76ee\u63cf\u8ff0\u76f8\u540c.\n\n$a_1 \\times w+ (1-0.01 \\times k)\\times w \\times a_2+(1-0.01 \\times k)\\times w\\times(1-0.01\\times k)\\times a_3+\\dots$\n\n\u5176\u4e2d$(1-0.01 \\times k)\\times w$\u4ee3\u8868\u65b0\u7684\u80fd\u529b\u503c.\n\n\u63d0\u53d6\u516c\u56e0\u5f0f$w$. (\u662f\u53eb\u516c\u56e0\u5f0f\u8fd8\u662f\u516c\u56e0\u5b50?,qwq\n\n**\u65b0\u5f0f\u5b50**\n$w\\times[a_1+ (1-0.01 \\times k) \\times a_2+(1-0.01 \\times k)\\times(1-0.01\\times k)\\times a_3+\\dots]$\n\n\u7136\u540e\u53c8\u53ef\u4ee5\u5199\u6210\u8fd9\u79cd\u5f62\u5f0f.\n\n$w\\times[a_1+ (1-0.01 \\times k) \\times a_2+(1-0.01 \\times k)^2\\times a_3+\\dots]$\n\n\u518d\u5c06$[]$\u4e2d\u7684\u5f0f\u5b50\u53d8\u5f62(\u6839\u636e[\u79e6\u4e5d\u97f6\u7b97\u6cd5](https://baike.baidu.com/item/%E7%A7%A6%E4%B9%9D%E9%9F%B6%E7%AE%97%E6%B3%95/449196).\n\n\u5f97\u5230\u8fd9\u6837\u7684\u5f0f\u5b50\n\n$w\\times[a_1+ (1-0.01 \\times k) \\times (a_2+(1-0.01 \\times k)\\times a_3+\\dots)]$\n\n\u7136\u540e\u6839\u636e\u79e6\u4e5d\u97f6\u4e00\u76f4\u62c6\u4e0b\u53bb.\n\n(\u4e0b\u9762\u4ee5$k^{'}$\u4ee3\u8868$(1-0.01\\times k)$\n\n\u6240\u4ee5\u6211\u4eec\u4f1a\u5f97\u5230\u8fd9\u6837\u7684\u5f0f\u5b50.\n\n$w*[a_1+k^{'}\\times(a_2+k{'}\\times(a_3+k{'}\\times (a_4+\\dots)))]$\n\n\u7136\u540e\u5199\u51fa\u6765\u597d\u957f\u597d\u957f\u4e00\u6bb5 qwq.\n\n### \u7136\u540e\u8003\u8651\u6b63\u89e3**\u4e3a\u4ec0\u4e48\u662f\u5012\u7740\u679a\u4e3e**\uff1f.\n\n\u663e\u7136,\u6211\u4eec\u4ece$1-n$\u679a\u4e3e\u661f\u7403,\u94bb\u5934\u4f1a\u53d7\u5230\u5f71\u54cd.\n\n\u5373\u540e\u9762\u7684\u7b54\u6848\u4f1a\u53d7\u5230\u5f71\u54cd.(\u540e\u6548\u6027.\n\n\u800c\u6211\u4eec\u4ece\u540e\u5411\u524d\u679a\u4e3e\u5219\u53ef\u4ee5\u514d\u53bb\u8fd9\u79cd\u5f71\u54cd.(\u611f\u89c9\u8fd9\u53e5\u8bdd\u81ea\u5df1\u8bf4\u7684\u5f88\u865a\u554a.\n\n\u5982\u679c\u4e0d\u7406\u89e3\u8fd9\u53e5\u8bdd\u7684\u8bdd,\u8bf7\u56de\u60f3\u79e6\u4e5d\u97f6\u7b97\u6cd5\u4e5f\u662f\u4ece\u91cc\u5230\u5916\u5730\u6c42\u89e3.\n\n\u5bf9\u5e94\u5230\u8fd9\u4e2a\u9898\u7684\u8bdd\u6211\u4eec\u5c31\u76f8\u5f53\u4e8e\u4ece\u540e\u5411\u524d\u679a\u4e3e.\n\n\u56e0\u4e3a\u79e6\u4e5d\u97f6\u7b97\u6cd5\u7684\u8bdd,\u4ece\u91cc\u5230\u5916\u7684\u62c6\u5206\u4f1a\u4e58\u4e0a$k^{'}$.(\u94bb\u5934\u80fd\u529b\u503c\u4f1a\u964d\u4f4e.\n\n**\u7b80\u5355\u6765\u8bb2\u7684\u8bdd**\n\n\u6211\u4eec\u901a\u8fc7\u4e00\u76f4\u4e58\u4e0a$k^{'}$,\u6700\u91cc\u5c42\u7684\u5f0f\u5b50,\u5bf9\u5e94\u7684\u5c31\u662f\u6211\u4eec\u6700\u540e\u4e00\u6b21\u4f7f\u7528\u94bb\u5934\u7684\u60c5\u51b5.\n\u540c\u6837,\u6b21\u91cc\u5c42\u7684\u5f0f\u5b50,\u5bf9\u5e94\u7684\u5c31\u662f\u6211\u4eec\u5012\u6570\u7b2c\u4e8c\u6b21\u4f7f\u7528\u94bb\u5934\u7684\u60c5\u51b5.\n\n(\u65e0\u6cd5\u6b63\u786e\u7ec4\u7ec7\u8bed\u8a00. qwq.\n\n\u5982\u679c\u4e0d\u61c2\u7684\u8bdd\u8fd8\u662f\u7528\u7b14\u8bd5\u4e00\u4e0b.\n\n\u8fd9\u6837\u6211\u4eec**\u6a21\u62df\u7684\u5c31\u662f\u8fd9\u4e2a\u4ece\u91cc\u5411\u5916\u6c42\u89e3\u7684\u8fc7\u7a0b**.\n\n\n\n\u6240\u4ee5\u6211\u4eec\u6c42\u51fa\u6765\u7684\u4e00\u5b9a\u4f1a\u662f\u6211\u4eec\u7684\u7b54\u6848.\n\n------------------\u4ee3\u7801-------------------\n\n```cpp\n#include<bits/stdc++.h>\n#define R register\nusing namespace std;\nint  n;\ndouble k,c,w;\nstruct cod{int idx;double cost;}type[100008];\ndouble ans;\nint main()\n{\n\tscanf(\"%d%lf%lf%lf\",&n,&k,&c,&w);\n\tk=1-0.01*k;c=1+0.01*c;//\u6211\u8bf4\u6211\u5f0f\u5b50\u4e00\u5f00\u59cb\u5e26\u9519\u4e86\u4f60\u4fe1\u4e0d\u4fe1 qwq.\n\tfor(R int i=1;i<=n;i++)\n\t\tscanf(\"%d%lf\",&type[i].idx,&type[i].cost);\n\tfor(R int i=n;i>=1;i--)\n\t\tif(type[i].idx==1)ans=max(ans,ans*k+type[i].cost);\n\t\telse ans=max(ans,ans*c-type[i].cost);\n\tprintf(\"%.2lf\",ans*w);\n}\n```",
        "postTime": 1537772663,
        "uid": 87960,
        "name": "\u987ez",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u6211\u5bf9\u697c\u4e0b\u505a\u51fa\u70b9\u8865\u5145\uff0c\u8bb0\u6700\u7ec8\u7b54\u6848\u4e3aans\uff0c\u5176\u5b9e\u5bf9\u4e8e\u6bcf\u4e2a\u661f\u7403\u4e0d\u7ba1\u662f\u7ef4\u4fee\u8fd8\u662f\u8d44\u6e90\u578b\uff0c\u90fd\u53ef\u4ee5\u628a\u5bf9\u94bb\u5934\u7684\u6539\u53d8\u5ea6\u8bb0\u4f5c\u4e00\u4e2a\u5e38\u6570k\uff0c\u800c\u4e14k\u662f\u6709\u540e\u6548\u6027\u7684\u3002\u6211\u4eec\u5148\u5177\u4e00\u4e2ai=4\u7684\u4f8b\u5b50\uff0cans=w\\*k1\\*a1+w\\*k1\\*k2\\*a2+w\\*k1\\*k2\\*k3\\*a3+w\\*k1\\*k2\\*k3\\*k4\\*a4,\u5373ans=w\\*(k1\\*a1+k1\\*k2\\*a2+k1\\*k2\\*k3\\*a3+k1\\*k2\\*k3\\*a4),\u8fdb\u4e00\u6b65\u63d0\u516c\u56e0\u5f0f\u5c31\u662fans=w\\*(k1\\*(a[1]+k2\\*(a[2]+k3\\*(a[3]+k4\\*a[4]))))\uff08\u8fd9\u53eb\u4ec0\u4e48\u6570\u5b66\u540d\u8bcd\u6765\u7740\uff0c\u849f\u84bb\u5fd8\u4e86\uff09\uff0c\u5b9e\u9645\u4e0a\u5bf9\u4e8e\u6bcf\u4e2aa[i]\uff0ca[i]\u524d\u8fd8\u8981\u4e58\u4e0a\u4e00\u4e2a\u7b26\u53f7\u53d8\u91cft\uff08\u7ef4\u4fee+1\uff0c\u8d44\u6e90-1,\u4e0d\u9009\u4e580\uff09\u3002\u5373ans=w\\*(k1\\*(t1\\*a[1]+k2\\*(t2\\*a[2]+k3\\*(t3\\*a[3]+k4\\*t4\\*a[4]))))\u90a3\u4e48\u6211\u4eec\u7684\u9898\u76ee\u5c31\u53d8\u4e3a\u5bf9\u6bcf\u9879\u9009\u62e9\u6700\u4f18\u7684\u7b26\u53f7\u53d8\u91cf\u5f97\u51fa\u6700\u5927\u7684\u7b54\u6848\u503c\u3002\u7167\u697c\u4e0b\u7684\u601d\u8def\u6211\u4eec\u662f\u8981\u4ece\u6700\u91cc\u9762\u7684\u62ec\u53f7\u5f00\u59cb\u63a8\uff0c\u786e\u4fdd\u6bcf\u6b21\u62ec\u53f7\u91cc\u7684\u503c\u90fd\u6700\u5927\u3002\n\n\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u8981\u6c42\u7684\u603b\u95ee\u9898\u5c31\u662f\u4f7f\u7684w\\*(\u5185\u7684\u503c\u6700\u5927)\u3002\u800c\u6bcf\u4e2a\u9636\u6bb5\u7684\u51b3\u7b56\u662fti\\*a[i]+ki\\*\uff08\u5185\u7684\u503c\uff09\u3002\u56e0\u4e3a\u540e\u4e00\u9879\u80af\u5b9a\u4e3a\u6b63\uff0c\u7531\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28\u5f97\uff08\u5185\u7684\u503c\u4e00\u5b9a\u662f\u6700\u5927\u503c\uff09\u3002\u8fd9\u6837\u4ee5\u6765\u697c\u4e0b\u7684\u601d\u8def\u5c31\u901a\u4e86\u3002\n",
        "postTime": 1477469624,
        "uid": 17378,
        "name": "Vin_1999",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "/\\*\u9898\u89e3\n\n\n\u5bf9\u4e8ek=100\u7684\u60c5\u51b5\uff0c\u8d2a\u5fc3\n\n\n\u5bf9\u4e8e100%\u7684\u6570\u636e\n\n\n\u53ef\u4ee5\u53d1\u73b0\uff0c\u5f53\u524d\u7684\u51b3\u7b56\u53ea\u5bf9\u540e\u9762\u7684\u5f00\u91c7\u6709\u5f71\u54cd\uff0c\u4e14\u5269\u4f59\u8010\u4e45\u5ea6\u4e0e\u4e4b\u540e\u7684\u5f00\u91c7\u6536\u76ca\u6210\u6b63\u6bd4\uff0c\n\n\u5982\u679c\u5012\u7740\u8003\u8651\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f97\u51fai-n\u7684\u661f\u74031\u70b9\u8010\u4e45\u5ea6\u6240\u80fd\u83b7\u5f97\u7684\u6700\u5927\u6536\u76ca\uff0c\n\n\u4ece\u540e\u5f80\u524ddp\uff0c\u5f97\u51fa\u6700\u5927\u503c\u6700\u540e\u4e58w\u5c31\u662f\u7b54\u6848\\*/\n\n/\\*\u8fd9\u9053\u9898\u76ee\u53ea\u8981\u80fd\u60f3\u51fa\u5012\u7740\u5904\u7406\uff0c\u4e00\u5207\u90fd\u8fce\u5203\u800c\u89e3\u4e86\uff01\uff01\\*/\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n#define N 100010\nint flag[N];\ndouble a[N];\nint n;\ndouble k,c,w;\ndouble ans=0;\nvoid input()\n{\n    scanf(\"%d%lf%lf%lf\",&n,&k,&c,&w);\n    for(int i=1;i<=n;++i)\n    {\n        scanf(\"%d%lf\",&flag[i],&a[i]);\n    }\n    k=(1-0.01*k);\n    c=(1+0.01*c);\n}\nint main()\n{\n    input();\n    for(int i=n;i>=1;--i)\n    {\n        if(flag[i]==1)\n          ans=max(ans,ans*k+a[i]);\n        else ans=max(ans,ans*c-a[i]);\n    }\n    printf(\"%0.2lf\",ans*w);\n    return 0;\n}\n```",
        "postTime": 1466317961,
        "uid": 16496,
        "name": "csgc0131123",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "# ~~\u5199\u4e2a\u9898\u89e3\u6765\u7eaa\u5ff5\u6211\u57286.13\u7684\u72060\u8bc4\u6d4b~~\n\n## \u7ed3\u5408\u9898\u76ee\u5177\u4f53\u5206\u6790\u4e00\u4e0b\n\n### \u201c\u4f9d\u6b21\u98de\u8fc7n\u4e2a\u661f\u7403\u201d\uff0c\u7b2c\u4e00\u53cd\u5e94\u5c31\u662f\u52a8\u6001\u89c4\u5212\uff0c\u7136\u540e\u9a8c\u8bc1\u4e0b\u65e0\u540e\u6548\u6027\u5373\u53ef\u3002\n\n### F[i]\u8868\u793a\u524di\u4e2a\u661f\u7403\u7684\u6700\u4f18\u6536\u5165\u3002\u5f88\u660e\u663e\u8fd9\u662f\u4e0d\u884c\u7684\uff0c\u56e0\u4e3a\u5f53\u524d\u94bb\u5934\u80fd\u529b\u4f1a\u5207\u5b9e\u5f71\u54cd\u5230\u540e\u9762\u7684\u8fc7\u7a0b\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u524d\u94bb\u5934\u80fd\u529b\u6709\u201c\u540e\u6548\u6027\u201d\u3002\n\n### \u4f46\u662f\u8fd9\u4e2a\u5f53\u524d\u94bb\u5934\u80fd\u529b\u5bf9\u540e\u7a0b\u7684\u5f71\u54cd\u65e0\u975e\u5c31\u662f\u4e58\u4e0a\u4e00\u4e2a\u6570\u503c\u3002\uff08\u5c31\u597d\u50cf\u521d\u59cb\u94bb\u5934\u80fd\u529b\u4e3aw\uff0c\u5b9e\u9645\u4e0a\u4f60\u53ef\u4ee5\u63091\u6765\u505a\uff0c\u6700\u540e\u518d\u628aans\u4e58\u4e0aw\uff09\u3002\n\n### \u8f6c\u79fb\u8fc7\u7a0b\u5c31\u53d8\u5f97\u7b80\u5355\uff1a\u5982\u679c\u5728\u7b2ci\u4e2a\u661f\u7403\u5f00\u91c7\uff0c\u90a3\u4e48\u7b2ci+1--n\u4e2a\u661f\u7403\u7684\u521d\u59cb\u94bb\u5934\u80fd\u529b\u5c31\u662f1*(1-0.01k)\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5c31\u662fF[i+1]*(1-0.01k)\u3002\n\n### \u4e5f\u5c31\u6210\u4e86\u6240\u8c13\u7684 \n\n    F[i] = max ( F[i+1] , F[i+1] * ( 1 - 0.01k )+a[i])\n\n\n\n------------\n\n\u4e0b\u9762\u4e0a\u4ee3\u7801\n\n\n    #include <bits/stdc++.h>\n    #define maxn 100001\n    using namespace std;\n    inline int read(){\n        int x = 0;char ch = getchar();\n        while (!isdigit(ch)) ch = getchar();\n        while (isdigit(ch)) x = (x << 3 ) + (x << 1) + ch - '0',ch = getchar();\n        return x; \n    }\n    int n,w,a[maxn],v[maxn];\n    double ans,k,c;\n    int main(){\n        n = read(); k = read(); c = read(); w = read();\n        k = 1 - 0.01*k; c = 1 + 0.01*c;\n        for (int i = 1;i <= n; ++i) v[i] = read() , a[i] = read();\n        for (int i = n;i >= 1; --i){\n        if(v[i] == 1)\tans = max ( ans , ans * k + a[i]);\n        else ans = max ( ans , ans * c - a[i]);\n        }\n        printf (\"%.2lf\",ans*w);\n    }\n\n",
        "postTime": 1560501781,
        "uid": 99716,
        "name": "_Grey",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u662f\u6211\u4eec\u6a21\u62df\u8d5b\u7684\u538b\u8f74\u9898\uff0c\u4f5c\u4e3a\u849f\u84bb\uff0c\u6211\u663e\u7136\u662f\u4e0d\u4f1a\u7684\u3002\u6240\u4ee5\u6211\u8fd9\u53ea\u849f\u84bb\u53ea\u597d\u53bb\u6253\u66b4\u529b\u8fbd\u3002\n\n## \u6700\u88f8\u7684\u66b4\u529b\n\n\u5f88\u663e\u7136\uff0c\u5bf9\u4e8e\u6bcf\u9897\u661f\u7403\u60c5\u51b5\u53ea\u6709\u4e24\u79cd\u72b6\u6001\uff1a\u5f00\u91c7/\u4fee\u590d\u548c\u5565\u90fd\u4e0d\u5e72\u3002\u90a3\u6211\u4eec\u5c31\u9488\u5bf9\u8fd9\u4e24\u79cd\u72b6\u6001\u8fdb\u884c\u66b4\u529b\u7684DFS\u5373\u53ef\u3002\n\u53ef\u4ee5\u8bbex\u4e3a\u5f53\u524d\u661f\u7403\uff0ccost\u4e3a\u5f53\u524d\u6536\u5165\uff08+\uff09/\u652f\u51fa\uff08-\uff09\uff0czuan\u4e3a\u76ee\u524d\u5269\u4f59\u7684\u80fd\u529b\n\n```cpp\ninline void dfs(int x,double cost,double zuan)\n{\n\tif(x==n)\n\t{\n\t\tans=max(cost,ans); \n\t\treturn ;\n\t}\n\tif(tp[x+1]==1)\n\t{\n\t\tdfs(x+1,cost+(double)a[x+1]*zuan,zuan*(1-0.01*k));//\u5f00\u91c7 \n\t\tdfs(x+1,cost,zuan);//\u4e0d\u5f00\u91c7 \n\t}\n\tif(tp[x+1]==2)\n\t{\n\t\tdfs(x+1,cost-(double)b[x+1]*zuan,zuan*(1+0.01*c));//\u7ef4\u4fee\n\t\tdfs(x+1,cost,zuan);//\u4e0d\u7ef4\u4fee \n\t}\n\treturn ;\n}\n```\n\n\u6ce8\u610f\uff0c\u6709\u4e00\u79cd\u526a\u679d\u662f\u94bb\u5b50\u6709\u80fd\u529b\u5f00\u91c7\uff0c\u53ea\u5728\u53ea\u5bf9\u5269\u4f59\u94b1\u6570\u4e3a\u6b63\u65f6\u7ef4\u4fee\uff0c\u8fd9\u6837\u4f1a1\u5206\u62ff\u4e0d\u5230\u7684\uff0c\u60e8\uff01\n\n\u590d\u6742\u5ea6$O(2^n)$\uff0c\u671f\u671b\u5f97\u520610pts\u3002\n\n# \u8d2a\u5fc3\u7684\u6b63\u89e3\n\n\u4e3a\u4ec0\u4e48\u590d\u6742\u5ea6\u8fd9\u4e48\u9ad8\uff1f\u663e\u7136\u662f\u72b6\u6001\u592a\u591a\u5bfc\u81f4\u3002\u4e3a\u4ec0\u4e48\u72b6\u6001\u8fd9\u4e48\u591a\uff1f\u663e\u7136\u662f\u53d7\u94bb\u5934\u80fd\u529b\u503c\u540e\u6548\u6027\u7684\u5f71\u54cd\u5bfc\u81f4\u3002\u90a3\u4e48\uff0c\u600e\u6837\u6d88\u9664\u8fd9\u6837\u7684\u5f71\u54cd\u5462\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u521d\u59cb\u4e3aw\u7684\u80fd\u529b\u503c\u5176\u5b9e\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u963b\u788d\u3002\u5047\u8bbe\u6211\u4eec\u5c06w\u8bbe\u4e3a\u5750\u6807\u539f\u70b9\uff0c\u90a3\u4e48\u6bcf\u6b21\u7684\u53d8\u5316\u90fd\u4f1a\u5728\u539f\u70b9\u5de6\u53f3\u79fb\u52a8\u3002\u6211\u4eec\u4e0d\u59a8\u5c06\u8fd9\u4e2a\u539f\u70b9\u8bbe\u4e3a1\uff0c\u5728\u539f\u70b9\u4e4b\u540e\u7684\u80fd\u529b\u503c\u4fbf\u662f$1\u00d7(1-0.01k)$\u7136\u540e\u4ece\u540e\u5f80\u524d\u66f4\u65b0\uff0c\u5f53\u9047\u5230\u4e24\u79cd\u4fee\u6539\u4efb\u610f\u4e00\u79cd\u53ef\u4ee5\u4f7f\u7b54\u6848\u66f4\u5927\u65f6\uff0c\u6211\u4eec\u4fee\u6539\u4fbf\u53ef\u4ee5\u66f4\u65b0\u3002\u6211\u4eec\u53ea\u8981\u7ef4\u62a4$i \\ to \\  n$\u7684\u6700\u5927\u503c\uff0c\u5373\u53ef\u3002\n\n\u4ee3\u7801\u5f88\u77ed\uff0c10\u884c\u641e\u5b9a\n\n```cpp\n#include<bits/stdc++.h>\ndouble n,k,c,w,a[100001],b[100001],tp[100001],ans;\nint main(){\n\tstd::cin>>n>>k>>c>>w;\n\tfor(int i=1;i<=n;i++)\n\tstd::cin>>tp[i],tp[i]==1?std::cin>>a[i]:std::cin>>b[i];\n\tfor(int i=n;i>=1;i--)\n\ttp[i]==1?ans=std::max(ans*(1-0.01*k)+a[i],ans):ans=std::max(ans*(1+0.01*c)-b[i],ans);\n\tprintf(\"%.2lf\",ans*w);\n} \n```\n\u795d\u5927\u5bb6AC\u6109\u5feb\uff01",
        "postTime": 1599118196,
        "uid": 244059,
        "name": "king_xbz",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "\u5176\u5b9e\u770b\u8d77\u6765\u6ca1\u601d\u8def\uff0c\u505a\u8d77\u6765\u5f88\u597d\u505a\uff0c\n\nans\u8868\u793ai+1~n\u7684\u6700\u5927\u6536\u76ca\n\n\n\u5982\u679c\u5728i\u661f\u7403\u6316\u4e86\u77ff\uff0c\u5219i+1~n\u7684\u6700\u5927\u6536\u76ca\u4f1a\u4e0b\u964d\uff0c\u5373ans\\*k\n\n\n\u56e0\u6b64\u6bd4\u8f83ans(\u4e0d\u6316\u7684\u72b6\u6001\uff09\uff0cans\\*k+a[i]\uff08\u6316\u4e86\u7684\u72b6\u6001\uff09\u7684\u5927\u5c0f\n\n\n\u6700\u540e\u4e58\u4ee5w\u5373\u53ef\n\n```cpp\nprogram ny001;\nvar\nn,w,i:longint;\nk,c,ans:real;\nt,a:array[1..100005]of longint;\nfunction max(x,y:real):real;\nbegin\nif x>y then max:=x\n    else max:=y;\nend;\nbegin\nread(n,k,c,w);\nk:=1-0.01*k;\nc:=1+0.01*c;\nans:=0;\nfor i:=1 to n do\n    begin\n        read(t[i],a[i]);\n        readln;\n    end;\n    for i:=n downto 1 do\n        if(t[i]=1)then ans:=max(ans,ans*k+a[i])\n            else ans:=max(ans,ans*c-a[i]);\nwriteln(ans*w:0:2);\nend.\n```",
        "postTime": 1502686386,
        "uid": 35803,
        "name": "\u60a6\u513f\u5f2f\u5f2f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "[${\\color{Pink}{>>my\\;blog}}$](https://www.cnblogs.com/mzg1805/p/11425024.html)\n\n\u8fd9\u9053\u9898\u662f\u5f53\u521d\u8003\u8fc7\u7684\u6a21\u62df\u9898,\u5f53\u65f6\u7406\u89e3\u5f97\u8ff7\u8ff7\u7cca\u7cca\u7684,\u4ee5\u81f3\u4e8e\u4eca\u5929\u53c8\u6253\u4e00\u904d\n\n\u6309\u7167\u5e38\u89c4\u7684\u601d\u8def,\u4ece\u524d\u5f80\u540e\u63a8,\u6bcf\u4e2a\u661f\u7403\u9009\u6216\u4e0d\u9009\n\n\u4f46\u4ed4\u7ec6\u5206\u6790,\u53d1\u73b0\u8fd9\u6837\u662f\u6709\u540e\u6548\u6027\u7684\n\n\u4e3a\u4ec0\u4e48\u5462?\u6211\u4eec\u53ef\u4ee5\u6765\u63a8\u4e00\u63a8\u8fd9\u4e2a\u8fc7\u7a0b\n\n\u521d\u59cb\u4e3a$w$,\u5f00\u91c7\u4e00\u6b21\u540e(\u4fee\u590d\u540c\u7406)\u53d8\u6210$w*(1-\\%k)$,\u5047\u8bbe\u53c8\u5f00\u91c7,\u91d1\u94b1+$w*(1-\\%k)*a_i$\n\n\u628a\u540e\u9762\u62ec\u8d77\u6765,\u5373+$w*((1-\\%k)*a_i)$\n\n\u770b\u61c2\u4e86\u5417?\u4e5f\u5c31\u662f\u8bf4\u6bcf\u5f00\u91c7\u4e00\u6b21,\u76f8\u5f53\u4e8e\u540e\u9762\u6bcf\u4e2a$a_i$\u90fd\u7f29\u5c0f\u4e86$\\%k$,\u5373\u540e\u9762\u7684\u95ee\u9898\u89c4\u6a21\u7f29\u5c0f\u4e86$\\%k$,\u540e\u9762\u7684\u51b3\u7b56\u53d7\u5230\u4e86\u524d\u9762\u7684\u5f71\u54cd\n\n\u6240\u4ee5\u6211\u4eec\u4ece\u540e\u5f80\u524d\u63a8,\u4ee4$f[i]$\u8868\u793a$i\\to n$\u7684\u6700\u5927\u6536\u5165,\u4e14$i$\u7684\u89c4\u6a21\u4e3a$1$\n\n\u90a3\u4e48\u6709\n\n\n\n$$\nf[i] = \\left\\{\n\\begin{matrix}\nmax(f[i+1],a[i]+f[i+1]*(1-\\%k)),type = 1\\\\\nmax(f[i+1],-a[i]+f[i+1]*(1+\\%c)),type = 2\n\\end{matrix}\\right.\n$$\n\n\n\n\u6700\u540e\u518d$*w$\u5373\u53ef(\u6211\u4eec\u7b97\u7684\u662f\u95ee\u9898\u89c4\u6a21\u4e3a$1$\u7684$f[1]$)\n\n\u4ee3\u7801\u5982\u4e0b\n```cpp\n#include <iostream>\n#include <algorithm>\n#include <cstring>\n#include <cstdio>\n#include <vector>\n#define ll long long\nusing namespace std; \n\ntemplate <typename T> void in(T &x) {\n    x = 0; T f = 1; char ch = getchar();\n    while(!isdigit(ch)) {if(ch == '-') f = -1; ch = getchar();}\n    while( isdigit(ch)) {x = 10 * x + ch - 48; ch = getchar();}\n    x *= f;\n}\n\ntemplate <typename T> void out(T x) {\n    if(x < 0) x = -x , putchar('-');\n    if(x > 9) out(x/10);\n    putchar(x%10 + 48);\n}\n//-------------------------------------------------------------\n\nconst int N = 1e5+7;\nint n,k,c,w,a[N],t[N];\ndouble f[N];\n\nint main() {\n\tint i; in(n); in(k); in(c); in(w);\n\tfor(i = 1;i <= n; ++i) in(t[i]),in(a[i]);\n\tf[n] = t[n] == 1 ? a[n]:0;\n\tfor(i = n-1;i >= 1; --i) {\n\t\tif(t[i] == 1) f[i] = max(f[i+1],a[i]+f[i+1]*(1-k*0.01));\n\t\telse f[i] = max(f[i+1],-a[i]+f[i+1]*(1+c*0.01));\n\t}\n\tprintf(\"%.2lf\",f[1]*w);\n\treturn 0;\n}\n\n```",
        "postTime": 1566984933,
        "uid": 109407,
        "name": "MZ_CXQ",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "\u554a\u5728\u5907\u8003 CSP \u4e4b\u9645\u91cd\u65b0\u6574\u7406\u4e00\u4e0b\u8fc7\u53bb\u5237\u8fc7\u7684\u9898\n\n\u8fd9\u9898\u8fd8\u662f\u8981\u52a8\u52a8\u8111\u7b4b\u7684\n\n\u9996\u5148\uff0c\u6211\u4eec\u6839\u636e\u9898\u610f\uff0c\u53ef\u4ee5\u5217\u51fa\u5982\u679c\u5168\u90e8\u662f1\u7c7b\u578b\u4e14\u5168\u90e8\u9009\u62e9\u5f00\u91c7\u7684\u60c5\u51b5\u7684\u67ff\u5b50\uff08\u5176\u5b9e\u4e3a\u4e86\u65b9\u4fbf\u6253\u51fa\u516c\u5f0f\uff09\uff1a\n\n$$a_1\\times w+(1-0.01\\times k)\\times a_2\\times w+(1-0.01\\times k)^2\\times a_3\\times w+...$$\n\n\u5f53\u7136\u522b\u7684\u60c5\u51b5\u7684\u67ff\u5b50\u4e5f\u90fd\u662f\u5dee\u4e0d\u591a\u7684\uff0c\u81f3\u5c11\u8ba1\u7b97\u65b9\u5f0f\u548c\u601d\u8def\u662f\u4e00\u6837\u7684\n\n\u53ef\u662f\u6211\u4eec\u53d1\u73b0\u8fd9\u6837\u76f4\u63a5\u7b97\u7684\u590d\u6742\u5ea6\u662f $O(n^2)$ \uff0c\u70b8\u6389\u4e86\uff0c\u800c\u4e14\u5728\u6bd4\u5927\u5c0f\u7684\u65f6\u5019 $w$ \u503c**\u4e0d\u662f\u5b9a\u7684**\uff0c\u90a3\u600e\u4e48\u529e\u5462\n\n\u8fd9\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u6211\u4eec\u4e2d\u56fd\u4f1f\u5927\u7684\u6570\u5b66\u5bb6\u79e6\u4e5d\u97f6\u63d0\u51fa\u7684\u79e6\u4e5d\u97f6\u7b97\u6cd5\uff0c\u53ef\u4ee5\u7b80\u5316\u6211\u4eec\u7684\u591a\u9879\u5f0f\uff0c\u8be6\u60c5\u65b9\u6cd5\u81ea\u5df1\u53ef\u4ee5\u767e\u5ea6\u67e5\u770b\uff0c\u6211\u8fd9\u91cc\u5c31\u628a\u5316\u51fa\u6765\u7684\u7ed3\u679c\u653e\u51fa\u6765\uff1a\n\n\u4ee4 $kk=1-0.01\\times k$\n\n\u5219\n\n$$w\\times(a_1+kk\\times (a_2+kk\\times (a_3+kk\\times ...)))$$\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u4ece\u540e\u5f80\u524d\u7b97\uff0c\u5c31\u6ca1\u6709\u4e0a\u9762\u7684\u987e\u8651\u4e86\uff01\n\n\u6700\u540e\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nconst int N=100010;\nusing namespace std;\nll read(){\n\tll x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){\n\t\tif(ch='-')f=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9'){\n\t\tx=(x<<3)+(x<<1)+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn x*f;\n}\nint n,type[N];\ndouble k,c,w,ans,x[N];\nint main(){\n\tscanf(\"%d%lf%lf%lf\",&n,&k,&c,&w);\n\tk=1-0.01*k,c=1+0.01*c;\n\tfor(int i=1;i<=n;i++)scanf(\"%d%lf\",&type[i],&x[i]);\n\tfor(int i=n;i;i--){\n\t\tif(type[i]==1)ans=max(ans,ans*k+x[i]);\n\t\tif(type[i]==2)ans=max(ans,ans*c-x[i]);\n\t}\n\tprintf(\"%.2lf\",ans*w);\n\treturn 0;\n}\n```\n\u5176\u5b9e\u672c\u4eba\u7528\u5feb\u8bfb\u65f6\u4e00\u76f4\u90fd\u4f1a\u51fa\u73b0\u4e00\u4e9b\u5947\u602a\u7684\u95ee\u9898\uff0c\u4e8e\u662f\u5c31\u53ea\u80fd\u7528 $scanf$ \u4e86 $QAQ$\n\n# \u795d\u5927\u5bb6 CSP2020rp+=INF \uff01",
        "postTime": 1604500146,
        "uid": 178556,
        "name": "Skyjoy",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "### \u9898\u610f\u7b80\u8ff0\n\n\u6709\u4e00\u4e2a\u521d\u59cb\u8010\u4e45\u4e3a$w$\u94bb\u5934\u3002\u7ed9\u51fa\u5e8f\u5217$\\{a\\},\\{b\\}$\u73b0\u5728\u6709$2$\u7c7b\u661f\u7403\u53ef\u4f9b\u505c\u9760\uff1a\n\n- $1$\u7c7b\uff1a\u82e5\u5f53\u524d\u94bb\u5934\u8010\u4e45\u4e3a$p$,\u90a3\u4e48\u6d88\u8017$k\\%$\u7684\u8010\u4e45\uff0c\u83b7\u5f97$a_i\\times p$\u7684\u91d1\u94b1\u3002\n- $2$\u7c7b\uff1a\u82e5\u5f53\u524d\u94bb\u5934\u8010\u4e45\u4e3a$p$,\u90a3\u4e48\u83b7\u5f97$c\\%$\u7684\u8010\u4e45\uff0c\u6d88\u8017$b_i\\times p$\u7684\u91d1\u94b1\u3002\n\n\u7ed9\u5b9a\u98de\u8239\u7684\u98de\u884c\u987a\u5e8f\uff0c\u9009\u62e9$n$\u4e2a\u661f\u7403\u505c\u9760\u3002\n\n\u6c42\u89e3\u6700\u5927\u53ef\u4ee5\u83b7\u5f97\u7684\u91d1\u94b1\u3002\n\n### \u89e3\u7b54\n\n#### 10$pts$\n\n\u8003\u8651\u8fdb\u884c\u66b4\u529b\u641c\u7d22\u3002\u5b9a\u4e49$\\text{dfs}(x,\\text{money},p)$\u51fd\u6570\uff0c\u8868\u793a\u5728\u5f53\u524d\u7b2c$x$\u4e2a\u661f\u7403\u7684\u65f6\u5019\u505c\u9760\uff0c\u73b0\u5728\u6709$\\text{money}$\u7684\u91d1\u94b1\uff0c\u94bb\u5934\u7684\u8010\u4e45\u4e3a$p$.\n\n\u4e0d\u96be\u5f97\u5230$\\text{dfs}$\u7684\u65b9\u6cd5\uff1a\n$$\n\\text{dfs}(x,\\text{money},p)\\begin{aligned}\n\n&\\stackrel{\\text{1\uff0c\u5f00\u91c7}}{\\longrightarrow} \\text{dfs}(x+1,\\text{money}+a_{x+1}\\times p,p\\times(1-k\\%))\\\\\n&\\stackrel{\\text{1\uff0c\u4e0d\u5f00\u91c7}}{\\longrightarrow}  \\text{dfs}(x+1,\\text{money},p)\\\\\n&\\stackrel{\\text{2\uff0c\u5f00\u91c7}}{\\longrightarrow} \\text{dfs}(x+1,\\text{money}-b_{x+1}\\times p,p\\times(1+c\\%))\\\\\n&\\stackrel{\\text{2\uff0c\u4e0d\u5f00\u91c7}}{\\longrightarrow}  \\text{dfs}(x+1,\\text{money},p)\\\\\n\n\\end{aligned}\n$$\n\u6ce8\u610f\uff0c\u8fd9\u91cc\u662f\u4e00\u6b65\u4e00\u6b65\u679a\u4e3e\u7684\u3002\u7531\u4e8e\u83b7\u5f97\u7684\u91d1\u94b1\u4e0e\u94bb\u5934\u7684\u8010\u4e45\u6709\u5173\uff0c\u90a3\u4e48\u6211\u4eec\u53d1\u73b0\u4ece\u524d\u5f80\u540e\u6ca1\u6709\u529e\u6cd5\u8bbe\u8ba1\u6ca1\u6709\u540e\u6548\u6027\u7684\u72b6\u6001\u3002\n\n\u60a8\u53ef\u4ee5\u5728[\u8fd9\u91cc](https://paste.ubuntu.com/p/FD2Q89YPg2/)\u770b\u5230\u4e00\u4efd\u66b4\u529b\u4ee3\u7801\u3002\n\n#### \u8fc7\u6e21\n\n\u5982\u679c\u60a8\u66fe\u505a\u8fc7[\u5c3c\u514b\u7684\u4efb\u52a1](https://www.luogu.com.cn/problem/P1280)\uff0c\u60a8\u4f1a\u53d1\u73b0\uff0c\u5982\u679c\u6211\u4eec\u5047\u8bbe$f[i]$\u4e3a$1\\sim i$\u7684\u6700\u5927\u7a7a\u95f2\u65f6\u95f4\uff0c\u60a8\u4f1a\u53d1\u73b0\u7b2c$i$\u65f6\u523b\u7684\u7a7a\u95f2\u65f6\u95f4\u4f9d\u8d56\u4e8e$i+1$\u65f6\u523b\u7684\u7a7a\u95f2\u65f6\u95f4\u3002\n\n\u56e0\u800c\uff0c\u6211\u4eec\u53ef\u4ee5\u60f3\u5230\u8981\u5012\u7740\u641c\u7d22\u3002\u8fd9\u4e00\u70b9\u60a8\u53ef\u4ee5\u5728\u4e0a\u9898\u9898\u89e3\u533a\u57df\u66f4\u52a0\u6df1\u5165\u5730\u7406\u89e3\u3002\n\n\u73b0\u5728\uff0c\u6211\u4eec\u9762\u4e34\u7740\u540c\u6837\u7684\u95ee\u9898\u3002\n\n#### 100$pts$\n\n\u7531\u4e8e\u662f\u5426\u9009\u62e9\u4e00\u4e2a\u661f\u7403\u5f71\u54cd\u540e\u7eed\u64cd\u4f5c\u800c\u4e0d\u5f71\u54cd\u524d\u9a71\u64cd\u4f5c\uff0c\u6211\u4eec\u5c1d\u8bd5\u501f\u9274[\u8fc7\u6e21](#\u8fc7\u6e21)\u4e2d\u7684\u601d\u8def\uff0c\u5047\u8bbe\u521a\u5f00\u59cb\u7684\u8010\u4e45\u5ea6\u4e3a$1$, \u4ece\u540e\u5f80\u524d\u8003\u8651\u3002\n\n\u4ed4\u7ec6\u8003\u8651\u4e00\u4e0b\uff0c\u5269\u4f59\u8010\u4e45\u5ea6\u4e0e\u4e4b\u540e\u7684\u5f00\u91c7\u6536\u76ca\u6210\u6b63\u6bd4\uff0c\u5012\u5e8f\u8003\u8651\u662f\u6ca1\u95ee\u9898\u7684\u3002\n\n- \u5b9a\u4e49$f[i]$\u4e3a$i \\to n$\u7684\u65f6\u5019\u6700\u5927\u7684\u82b1\u8d39\u3002\u90a3\u4e48\uff1a\n  - \u5982\u679c$\\text{type}[i]=1$, \u90a3\u4e48: $f[i]=\\max\\{f[i+1],a[i]+f[i+1]\\times(1-k\\%)\\}$\n  - \u5982\u679c$\\text{type}[i]=0$, \u90a3\u4e48: $f[i]=\\max\\{f[i+1],-b[i]+f[i+1]\\times(1+c\\%)\\}$\n\n\u94bb\u5934\u7684\u6bcf\u6b21\u6316/\u4fee\u4fee\u6539\u7684\u767e\u5206\u6bd4\u6052\u5b9a\uff0c\u4e5f\u5c31\u662f\u8bf4\u5176\u66f4\u6539\u53ea\u4e0e\u6316/\u4fee\u7684\u6b21\u6570\u6709\u5173\uff0c\u5373\u662f\u8bf4\u521d\u59cb\u80fd\u529b\u548c\u6700\u5927\u82b1\u8d39\u4e4b\u95f4\u6210\u4e00\u5b9a\u6bd4\u4f8b\u3002\n\n\u90a3\u4e48$f[1]\\times w$\u5373\u4e3a\u7b54\u6848\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#include <iomanip>\n#define D double\nusing namespace std;\n#define MAXN 100010\nD c,w,n,k,a[MAXN];\nint t[MAXN];\ndouble f[MAXN];\nD ans = 0;\nint main(){\n\tcin>>n>>k>>c>>w;\n\tfor(int i=1;i<=n;i++) cin>>t[i]>>a[i];\n\tfor(int i=n;i>=1;i--){\n\t\tif(t[i]==1) f[i] = max((D)f[i+1],(D)a[i]+(D)f[i+1]*(1-0.01*k));\n\t\telse if(t[i]==2) f[i] = max((D)f[i+1],(D)-a[i]+(D)f[i+1]*(1+0.01*c));\n\t}\n\tcout<<fixed<<setprecision(2)<<f[1]*w;\n\treturn 0;\n}\n```\n\n### \u56de\u987e\n\n\u8be5\u9898\u8981\u5411\u6b63\u786e\u7684\u89e3\u7b54\u9700\u8981\u4e86\u89e3\u72b6\u6001\u4e4b\u95f4\u7684\u8f6c\u79fb\u5173\u7cfb\u3002\n\n\u5982\u679c\u6211\u4eec\u7b80\u5316\u9898\u76ee\u4e2d\u6570\u636e\uff0c\u6bcf\u6b21\u5230\u8bbf\u4e00\u4e2a\u661f\u7403\uff0c\u4f1a\u8ba9\u7a3f\u5b50\u8010\u4e45\u66f4\u6539$k$. \u5e76\u4e14\u6211\u4eec\u6bcf\u6b21\u6309\u7167\u8d44\u6e90\u7c7b\u578b\u5904\u7406$a$, \u8bbe\u7f6e\u51fd\u6570$g(a)$\uff0c\u4f7f\u5f97\uff1a\n$$\ng(x) = \\{\\begin{aligned}\n& x & \\text{\u9009\u62e9\uff0c\u5982\u679c\u662f\u8d44\u6e90\u578b} \\\\ & -x & \\text{\u9009\u62e9\uff0c\u5982\u679c\u662f\u7ef4\u4fee\u578b} \\\\\n& 0 & \\text{\u4e0d\u9009}\n\\end{aligned}\n$$\n\n\n\u6211\u4eec\u6700\u7ec8\u7684\u7b54\u6848$ans$\u7b49\u4e8e\uff1a\n$$\nans=w*(k_1*\\mathbf{(g(a[1])} +k_2*\\mathbf{(g(a[2])}+k_3*\\mathbf{(g(a[3])}+k_4*\\mathbf{(g(a[4])}+k_5*\\mathbf{g(a[5])}*(\\cdots+k_n*\\mathbf{g(a[n])})\\cdots))))\n$$\n$k$\u662f\u4e00\u4e2a\u5b9a\u503c\uff0c\u8981\u6c42\u5f97\u521a\u521a\u7684\u5b9a\u503c\uff0c\u6211\u4eec\u5c31\u4ece\u6570\u5b66\u7684\u89d2\u5ea6\u4e86\u89e3\u4e86\u5012\u7740\u6c42\u89e3\u7684\u539f\u7406\u3002\n\n**\u5982\u679c\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u79c1\u4fe1\u4f5c\u8005\u3002\u611f\u8c22\u9605\u8bfb\u3002**\n\n$\\color{green}\\texttt{</>} \\qquad\\text{Micoael_Primo}$\n\n\n\n\n\n",
        "postTime": 1599221450,
        "uid": 239477,
        "name": "shzaiz",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "\u795e\u4ed9\u9898\u3002\u6211\u4eec\u6ce8\u610f\u5230\uff0c\u65e0\u8bba\u662f\u94bb\u5934\u80fd\u529b\u7684\u53d8\u5316\uff0c\u8fd8\u662f\u6536\u5165\u7684\u53d8\u5316\uff0c\u90fd\u662f\u6309\u7167\u6bd4\u4f8b\u589e\u5927\u7684\uff0c\u56e0\u6b64\u6211\u4eec**\u65e0\u8bba\u6700\u521d\u80fd\u529b\u503c\u4e3a\u591a\u5c11**\uff0c\u6bcf\u4e2a\u661f\u7403\u4e0a\u7684\u51b3\u7b56\u4e00\u5b9a\u4e0d\u4f1a\u53d8\u5316\u3002\u56e0\u6b64\u5982\u679c\u661f\u7403\u4fdd\u6301\u4e0d\u53d8\uff0c\u6700\u5f00\u59cb\u7684\u80fd\u529b\u503c\u4e0e\u6700\u540e\u7684\u91d1\u989d\u6210\u6b63\u6bd4\u3002\n\n\u8fd9\u5c31\u89e3\u51b3\u4e86\u80fd\u529b\u503c\u4e3a double \u683c\u5f0f\uff0c\u65e0\u6cd5\u8bb0\u5f55\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bb0\u5f55\u80fd\u529b\u503c\u4e3a 1 \u7684\u60c5\u51b5\u800c\u63a8\u51fa\u4efb\u610f\u4e00\u79cd\u80fd\u529b\u503c\u7684\u60c5\u51b5\u3002\n\n\u6bd4\u5982\u8bf4\uff0c\u4ece $x$ \u53f7\u661f\u7403\u51fa\u53d1\uff0c\u80fd\u529b\u503c\u4e3a $1$\uff0c\u6700\u540e\u603b\u6536\u5165\u4e3a $s$\uff1b\u5219\u82e5\u5c06\u80fd\u529b\u503c\u6539\u4e3a $t$\uff0c\u5219\u603b\u6536\u5165\u76f8\u5e94\u53d8\u4e3a $s \\times t$\u3002\n\n\u56e0\u6b64\u6211\u4eec\u8bbe $dp[i]$ \u4e3a\u4ece $i$ \u53f7\u661f\u7403\u51fa\u53d1\uff0c\u6b64\u65f6\u80fd\u529b\u503c\u4e3a $1$ \u90a3\u4e48\u6700\u540e\u603b\u6536\u5165\u6700\u5927\u662f\u591a\u5c11\u3002\n\n\u5206\u4e24\u79cd\u60c5\u51b5\uff1a\n+ \u7ef4\u4fee\u6027\uff1a$dp[i] = \\max\\{dp[i+1], dp[i+1] \\times (1+c \\times 0.01) - b[i]\\}$\n+ \u8d44\u6e90\u6027\uff1a$dp[i] = \\max\\{dp[i+1], dp[i+1] \\times (1-k \\times 0.01) + b[i]\\}$",
        "postTime": 1595995249,
        "uid": 319914,
        "name": "Aftershock",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "### \u9898\u76ee\u94fe\u63a5\n[\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011](https://www.luogu.com.cn/problem/P1412)\n### solve\n\u770b\u5230\u9898\u76ee\uff0c\u7b2c\u4e00\u611f\u89c9\u5c31\u662f\u52a8\u6001\u89c4\u5212\uff0c\u4e8e\u662f\u53ef\u4ee5\u5206\u6790\u4e00\u4e0b\u9898\u76ee\n\n$ans=a_1* w + (1-0.01k)* w * a_2+(1-0.01k) * (1-0.01k)* w * a_3+...$\n\n$\\Rightarrow w*[a_1+(1-0.01k)* a_2+(1-0.01k)^2+...]$\n\n$\\Rightarrow w* [a_1+(1-0.01k]* (a_2+(1-0.01k)* a_3...)]$\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u4ece\u6700\u91cc\u9762\u5f00\u59cb\u63a8\uff0c\u4e5f\u5c31\u662f\u53cd\u7740\u63a8\u6bcf\u6b21\u4e58\u4e0a(1-0.01k)\u5373\u53ef\u3002\n\n\u6211\u4eec\u5b9a\u4e49F[i]\u8868\u793a\u540ei+1\u4e2a\u5904\u7406\u5b8c\u4e86\uff0c\u73b0\u5728\u5904\u7406\u7b2ci\u4e2a\n\n\u8f6c\u79fb\u65b9\u7a0b\u5c31\u5f88\u7b80\u5355\u4e86\n\n\u65e0\u975e\u5c31\u662f\u4e00\u4e2a\u94bb\u6216\u4e0d\u94bb(\u7ef4\u4fee\u6216\u4e0d\u7ef4\u4fee)\u7684\u95ee\u9898\n\n\n$F[i] = max(F[i+1], a[i]+F[i+1]*(1-0.01*k))$\n\n\n\u56e0\u4e3a\u662f\u53cd\u8fc7\u6765\u5904\u7406\uff0c\u6240\u4ee5\u6700\u540e\u7b54\u6848\u5c31\u662f$F[1]$\u3002\n\n### code \n\n```cpp\n#include<bits/stdc++.h> \nusing namespace std;\nint n,a[100005],c,k,w,vis[100005];\ndouble F[100005];\nint read(){\n\tint ret=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-f;ch=getchar();}\n\twhile(ch<='9'&&ch>='0')ret=ret*10+ch-'0',ch=getchar();\n\treturn ret*f;\n}\nint main(){\n    n=read(),k=read(),c=read(),w=read();\n    for(int i=1; i<=n; i++)vis[i]=read(),a[i]=read();\n    for(int i=n; i>=1; i--){\n        if(vis[i]==1)    F[i] = max(F[i+1], a[i]+F[i+1]*(1-0.01*k));\n        else        F[i] = max(F[i+1], -a[i]+F[i+1]*(1+0.01*c));\n    }\n    printf(\"%.2lf\", F[1]*w);\n    return 0;\n}\n```",
        "postTime": 1585126403,
        "uid": 128822,
        "name": "OI\u754c\u7684\u5c0f\u6df7\u6df7",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "[\u66f4\u597d\u9605\u8bfb\u4f53\u9a8c](https://xiaohuang888.github.io/2019/12/11/%E3%80%8CLuogu%201412%E3%80%8D%E7%BB%8F%E8%90%A5%E4%B8%8E%E5%BC%80%E5%8F%91/)\n\n### Solution\n\n\u5f88\u5bb9\u6613\u60f3\u5230\u662f\u52a8\u6001\u89c4\u5212\uff0c\u6309\u9898\u76ee\u8bf4\u7684\uff0c\u6211\u4eec\u5206\u4e3a\u4e24\u79cd\u60c5\u51b5\uff0c\u5206\u522b\u4e3a$\\rm type = 1$\u548c$\\rm type = 2$\uff0c\u4f46\u662f\u5982\u679c\u76f4\u63a5\u987a\u5e8f\u8fdb\u884c$\\rm dp$\uff0c\u53d1\u73b0\u5b58\u5728\u540e\u6548\u6027\uff0c\u65e0\u6cd5\u76f4\u63a5\u786e\u5b9a\u7b54\u6848\uff0c\u6240\u4ee5\u6211\u4eec\u5012\u7740\u6765\uff0c\u8f6c\u79fb\u65b9\u7a0b\u5206\u522b\u4e3a\uff1a\n\n1. \u5f53$type = 1$\u65f6\uff1a$\\rm dp[i] = \\max(dp[i + 1], a[i] + dp[i + 1] * (1 - 0.01 * k))$\n\n2. \u5f53$type = 2$\u65f6\uff0c$\\rm dp[i] = max(dp[i + 1], -a[i] + dp[i + 1] * (1 + 0.01 * c))$\n\n\u7b54\u6848\u5c31\u662f$\\rm dp[1]$\u3002\n\n### Code\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n\nusing namespace std;\n\nconst int MAXN = 100005;\nint n, k, c, w, typ[MAXN], a[MAXN];\ndouble dp[MAXN];\nint main() {\n    scanf(\"%d%d%d%d\", &n, &k, &c, &w);\n    for (int i = 1; i <= n; i++)\n        scanf(\"%d%d\", &typ[i], &a[i]);\n    memset(dp, 0, sizeof(dp));\n    for (int i = n; i; i--)//\u6ce8\u610f\u5012\u7740\u679a\u4e3e\n        if (typ[i] == 1) dp[i] = max(dp[i + 1], a[i] + dp[i + 1] * (1 - 0.01 * k)); else dp[i] = max(dp[i + 1], -a[i] + dp[i + 1] * (1 + 0.01 * c));//\u8f6c\u79fb\n    printf(\"%.2lf\\n\", dp[1] * w);//\u4e58\u4ee5\u521d\u59cb\u7684\u80fd\u529b\u503c\n    return 0;\n}\n```",
        "postTime": 1574776125,
        "uid": 19729,
        "name": "xiaohuang",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "\u601d\u8def\uff1a\u6211\u662f\u770b\u4e86\u697c\u4e0b\u5927\u4f6c\u9898\u89e3\u5199\u5230\u7684\u3002\u697c\u4e0b\u5927\u4f6c\u8bf4\u7684\u7279\u522b\u597d\uff0c\u4f46\u662f\u63a8\u5bfc\u597d\u50cf\u6709\u70b9\u95ee\u9898\u3002\u6211\u4eec\u8bbeans\u4e3a\u80fd\u591f\u83b7\u5f97\u6700\u5927\u91d1\u5e01\u6570\uff1b\u5219\uff1a\nans=W*a1+W*k1*a2+W*k1*k2*a3+W*k1*k2*k3*a4;\n\u7136\u540e\u6211\u4eec\u5408\u5e76\u4e00\u4e0b\u53d8\u6210\u8fd9\u4e2a\u6837\u5b50\uff1a\nans=W*[t1a1+k1(t2a2+k2(t3a3+k3(t4a4)))]\n\u5176\u4e2dt\u8868\u793a\u53d6\u8fd8\u662f\u4e0d\u53d6\uff0c\u5c31\u6bd4\u5982\u5bf9\u4e8e\u77ff\u7269\u6027\u7684\uff0c\u6211\u4eec\u8003\u8651\u6316\u8fd8\u662f\u4e0d\u6316\uff0c\u5982\u679c\u6316\u5c31\u662f1\uff0c\u4e0d\u6316\u5c31\u662f0.\u5bf9\u4e8e\u4fee\u7406\u6027\u7684\uff0c1\u5c31\u662f\u4fee\u7406\uff0c0\u5c31\u662f\u4e0d\u4fee\u7406\u3002\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u53d1\u73b0\u72b6\u6001\u4e3adp[i]=max(dp[i+1],dp[i+1]*(1-0.01*k)+a[i])\u8fd9\u662f\u6316\u77ff\u7684\uff0c\u8fd8\u6709\u5c31\u662f\u4fee\u7406\u7684dp[i]=max(dp[i+1],dp[i+1]*(1+0.01*c)+a[i])\u8fd9\u662f\u4fee\u7406\u7684\u3002\u4ece\u540e\u5f80\u524d\u8f6c\u79fb\u3002\u8fd9\u6837\u5c31\u6ca1\u6709\u540e\u6548\u6027\u4e86\u3002\n```c\n#include<bits/stdc++.h>\n#pragma GCC optimize(2)\n#define MAXN 100005\n#define INF 0x3f3f3f3f\nusing namespace std;\n\nint a[MAXN],b[MAXN];\ndouble dp[MAXN];\nint n,k,c,w;\n\nint main()\n{\n    scanf(\"%d %d %d %d\",&n,&k,&c,&w);\n    for(int i=1;i<=n;i++)\n    {\n        scanf(\"%d %d\",&a[i],&b[i]);\n    }\n    for(int i=n;i>=1;i--)\n    {\n        if(a[i]==1)\n            dp[i]=max(dp[i+1],dp[i+1]*(1-0.01*k)+b[i]);\n        else\n            dp[i]=max(dp[i+1],dp[i+1]*(1+0.01*c)-b[i]);\n    }\n    printf(\"%.2lf\\n\",dp[1]*w);\n    return 0;\n}\n\n```\n",
        "postTime": 1571550728,
        "uid": 210155,
        "name": "abandentsky",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "\u8fd9\u9898\u6211\u5728\u7ec4\u5185\u7684\u6a21\u62df\u6d4b\u8bd5\u89c1\u8fc7\u4e86\u4e24\u6b21QvQ\n\n\u53ef\u4ee5\u7528f[i][j][k]\u8868\u793a\u5230\u8fbe\u7b2ci\u4e2a\u661f\u7403\uff0c\u4e14\u4e4b\u524d\u5f00\u91c7\u8fc7j\u6b21\uff0c\u7ef4\u4fee\u8fc7k\u6b21\uff0c\u6b64\u65f6\u7684\u94bb\u5934\u80fd\u529b\u5373\u4e3aw(k^j)(c^k)\uff0c\u6b64\u65f6\u5373\u53ef\u5f97\u51fa\u4e00\u4e2aO(n^3)\u7684\u505a\u6cd5\n\n\u8fd9\u9898\u4e3b\u8981\u96be\u70b9\u5728\u4e8e\u5f53\u524d\u7684\u94bb\u5934\u80fd\u529b\u96be\u4ee5\u5f97\u51fa\u5e76\u5904\u7406\uff0c\u67d0\u79cd\u610f\u4e49\u4e0a\u5f53\u524d\u7684\u94bb\u5934\u80fd\u529b**\u53ef\u80fd**\u5177\u6709\u540e\u6548\u6027\u2026\u2026\n\n\u6b63\u96be\u5219\u53cd\uff0c\u5982\u679c\u4ecen\u52301\u5730\u8fdb\u884cDP\uff0c\u90a3\u4e48\u53ef\u4ee5\u6d88\u9664\u8fd9\u4e2a\u7c7b\u4f3c\u540e\u6548\u6027\u7684\u6570\u503c\u7684\u4f5c\u7528\n\n\u5373f[i]\u8868\u793ai\u5230n\u6240\u80fd\u83b7\u5f97\u7684\u6700\u5927\u6536\u5165\u5e76\u4e14\u5047\u8bbe\u5f53\u524d\u7684\u94bb\u5934\u80fd\u529b\u4e3a1\n\n\u5219\u6709\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0bf[i]=max(f[i+1],(f[i+1]*(1-0.01*k)+b[i]))(a[i]=1);f[i]=max(f[i+1],(f[i+1]*(1+0.01*c)-b[i]))(a[i]=2)\n\n\u6b64\u65f6\u7b54\u6848\u5373\u4e3af[1]*k\n```cpp\n#include<cstdio>\nusing namespace std;\nint n,a[500010];\ndouble k,c,w,b[500010],f[500010];\ndouble max(double a,double b)\n{\n\treturn a>b?a:b;\n}\nint main()\n{\n\tscanf(\"%d%lf%lf%lf\",&n,&k,&c,&w);\n\tfor(int i=1;i<=n;++i){scanf(\"%d%lf\",&a[i],&b[i]);f[i]=-12960718.0;}//\u521d\u59cb\u5316\n\tfor(int i=n;i>=1;--i)\n\t{\n\t\tif(a[i]==1){f[i]=max(f[i+1],(f[i+1]*(1-0.01*k)+b[i]));}\n\t\telse{f[i]=max(f[i+1],(f[i+1]*(1+0.01*c)-b[i]));}\n\t}\n\tprintf(\"%.2f\",(f[1]*w));\n\treturn 0;\n}\n```",
        "postTime": 1542794160,
        "uid": 14378,
        "name": "doby",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "## \u5f15\u5bfc\uff1a\n\n\u770b\u9898\u7684\u7b2c\u4e00\u6b65\u770b\u770b\u6d4b\u8bd5\u6570\u636e\u8303\u56f4\uff0c\u53d1\u73b0\u5f88\u5927\uff0c\u8fd9\u662f\u6211\u4eec\u5c31\u8981\u60f3\u5230\u52a8\u6001\u89c4\u5212\u3002\n\n\n------------\n\n## \u601d\u8def\uff1a\n\n### 1: \u8fd9\u662f\u6211\u4eec\u6709\u4e00\u4e2a\u5f88\u7b80\u5355\u60f3\u5230\u7684\u4e09\u7ef4 DP \uff1af[i][j][k] : i \u8868\u793a\u7b2c i \u4e2a\u6570 \uff0cj \u8868\u793a\u7ef4\u4fee\u6b21\u6570\uff0c k \u5f00\u91c7\u6b21\u6570\uff0c \u8868\u793a\u8ba8\u8bba\u5b8c\u6240\u80fd\u8fbe\u5230\u7684\u6700\u5927\u6536\u5165\u3002\u90a3\u4e48\u663e\u7136\u6709\u72b6\u6001\u65b9\u7a0b\uff1a \n\nf[i][j][k]=max(f[i\u22121][j][k],f[i\u22121][j][k\u22121]+a[i]\u2217p),type[i]=1\n\nf[i][j][k]=max(f[i\u22121][j][k],f[i\u22121][j\u22121][k]\u2212b[i]\u2217p),type[i]=2\n\n### \u5f88\u660e\u663e\uff0c\u662f\u4e0d\u53ef\u53d6\u7684\uff0c\u56e0\u4e3a\u8303\u56f4\u592a\u5927\u4e86\uff0c\u4e8e\u662f\u6211\u4eec\u8981\u60f3\u8bb2\u4e09\u7ef4\u538b\u6210\u4e00\u7ef4\u3002\n\n### 2: \u53ef\u4ee5\u53d1\u73b0\uff0c\u5f53\u524d\u7684\u51b3\u7b56\u53ea\u5bf9\u540e\u9762\u7684\u5f00\u91c7\u6709\u5f71\u54cd\uff0c\u4e14\u5269\u4f59\u8010\u4e45\u5ea6\u4e0e\u4e4b\u540e\u7684\u5f00\u91c7\u6536\u76ca\u6210\u6b63\u6bd4\uff0c\u5982\u679c\u5012\u7740\u8003\u8651\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f97\u51fa i - n \u7684\u661f\u7403 1 \u70b9\u8010\u4e45\u5ea6\u6240\u80fd\u83b7\u5f97\u7684\u6700\u5927\u6536\u76ca\uff0c\u4ece\u540e\u5f80\u524d dp \uff0c\u5f97\u51fa\u6700\u5927\u503c\u6700\u540e\u4e58 w \u5c31\u662f\u7b54\u6848.\n\n### 3\uff1a\u5982\u679c\u6b63\u7740\u8ba8\u8bba\u4e0d\u591f\u4f18\u79c0\u6216\u8005\u96be\u4ee5\u8ba8\u8bba\uff08\u6b63\u96be\u5219\u53cd\uff09\uff0c\u8003\u8651\u5012\u7740\u8ba8\u8bba\u3002\u6ce8\u610f\u5230\u5982\u679c\u628a\u7b54\u6848\u5217\u5f0f\u8ba1\u7b97\u4e0b\u6765\uff0c\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u4e58\u6cd5\u5206\u914d\u7387\u7684\u5f62\u5f0f\uff0c\u56e0\u4e3a\u6bcf\u6b21\u64cd\u4f5c\u5bf9p\u7684\u6539\u53d8\u90fd\u662f\u4e58\u4e0a\u4e00\u4e2a\u6570\u3002\u6240\u4ee5\uff0c\u5982\u679c\u5b9a\u4e49 f[i] \u4e3a\u5904\u7406\u5b8c\u533a\u95f4 [i,n] \u7684\u661f\u7403\u5f97\u5230\u7684\u6700\u5927\u6536\u5165\uff0c\n\nf[i]=max(f[i+1],(1\u22120.01k)\u2217f[i+1]+a[i]),type[i]=1\nf[i]=max(f[i+1],(1+0.01c)\u2217f[i+1]\u2212b[i]),type[i]=2\n\n\n------------\n\n## \u4e2a\u4eba\u5efa\u8bae\uff1a\n\n~~DP\u662f\u7384\u5b66\uff0c\u4e0d\u91cd\u8981~~\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u624d\u91cd\u8981\uff01\n\n```c\n#include <iostream>\n#include <cstdio>\n#include <cmath>\nusing namespace std;\nint n, a[1000005], f[1000005];\ndouble w, c, k, dp[1000005];\nint main()\n{\n    scanf(\"%d %lf %lf %lf\", &n, &k, &c, &w);\n\tfor (int i = 1; i <= n; i++)\n        scanf(\"%d %d\", &f[i], &a[i]);\n\t\n\tfor (int i = n; i >= 1; i--)\n    {\n        if (f[i] == 1) dp[i] = max(dp[i + 1], dp[i + 1] * (1 - 0.01 * k) + a[i]);\n        else dp[i] = max(dp[i + 1], dp[i + 1] * (1 + 0.01 * c) - a[i]);\n    }\n    printf(\"%.2lf\", dp[1] * w);\n    return 0;\n} \n```",
        "postTime": 1541577698,
        "uid": 114633,
        "name": "\u8d1e\u767d\u5468\u9038\u6c11",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    },
    {
        "content": "\u6b63\u89e3\u697c\u4e0b\u6709\uff0c\u6211\u5c31\u8bf4\u4e00\u4e0b\u90a350\u5206\u7684\u66b4\u529b\u5427\n\n\u5b9a\u4e49f[i][j]\u4e3a\u5f00\u91c7i\u6b21\uff0c\u4fee\u7406j\u6b21\u7684\u6700\u5927\u6536\u76ca\u3002\n\n\u90a3\u4e48\u5c31\u6709\u65b9\u7a0b   f[ i ][ j ] = f[ i-1 ][ j ] +c[ j ] \\* p[ i -1 ] \\* w \\*a[ i ]  and\n\nf[ i ][ j ] = f[ i ][ j - 1 ] +c[ j - 1 ] \\* p[ i ] \\* w \\*b[ i ]\n\nc [ j ]\u8868\u793a\u4fee\u7406j\u6b21\u94bb\u5934\u7684\u53d8\u5316\n\np [ i ]\u8868\u793a\u5f00\u91c7i\u6b21\u94bb\u5934\u7684\u53d8\u5316\n\n\u5373c [ j ]=c[ j - 1] \\*( c /100 )  p[ i ]=p [i -1 ]\\*(p / 100)\n\n\u201d****\u53c2\u8003**** \uff08\u4e0d\u5b8c\u6574\uff09    \u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n\n\n                 \n```cpp\nint n,k,cc,w;\nstruct data\n{\n    int t,x;\n}p[100100];\ndouble f[110][110];\ndouble pp[110];\ndouble c[100010];\nint a[110],b[1100];\ndouble ff[100010];\n    scanf(\"%d%d%d%d\",&n,&k,&cc,&w);\n    if(k==100)\n    {\n                for(int j=0;j<=n;j++)\n                {\n                    ff[j]=-1.34218e+100;\n                }\n            c[0]=1.0;\n            for(int i=1;i<=n;i++)\n            {\n                c[i]=c[i-1]*(double)(1+(double)cc/100.0);\n            }\n            double maxx=0.0;\n             for(int i=1;i<=n;i++)  \n             {\n               scanf(\"%d%d\",&p[i].t,&p[i].x);\n               if(p[i].t==1)  b[i]=b[i-1];\n               else  b[i]=b[i-1]+1;\n             }\n             ff[0]=0.0;\n             for(int i=1;i<=n;i++)\n             {\n                     for(int k=b[i];k>=0;k--)\n                     {\n                         if(p[i].t==1)\n                         {\n                             maxx=max(ff[k]+(double)w*c[k]*p[i].x,maxx);\n                             //cout<<ff[k]<<' '<<(double)w<<' '<<c[k]<<' '<<p[i].x<<' '<<maxx<<endl;\n                         }\n                         else\n                         {\n                             if(k==0)  continue;\n                             ff[k]=max(ff[k],ff[k-1]-(double) w*c[k-1]*p[i].x);    \n                             //cout<<ff[k]<<' '<<k<<' '<<c[k-1]<<' '<<p[i].x<<\"aaa\"<<endl;    \n                         }\n                     }\n                 }\n                 printf(\"%0.2lf\\n\",maxx);\n             }\n else{\n        if(n<=100)\n        {\n            for(int i=0;i<=n;i++)\n            {\n                for(int j=0;j<=n;j++)\n                {\n                    f[i][j]=-0x7ffffff*1.0;\n                }\n            }\n            pp[0]=1.0;c[0]=1.0;\n            for(int i=1;i<=n;i++)\n            {\n                pp[i]=pp[i-1]*(double)(1-(double) k/100.0);\n                c[i]=c[i-1]*(double)(1+(double)cc/100.0);\n            }\n            double maxx=0.0;\n             for(int i=1;i<=n;i++)  \n             {\n               scanf(\"%d%d\",&p[i].t,&p[i].x);\n               if(p[i].t==1)  a[i]+=a[i-1]+1,b[i]=b[i-1];\n               else  b[i]=b[i-1]+1,a[i]=a[i-1];\n             }\n             f[0][0]=0.0;\n             for(int i=1;i<=n;i++)\n             {\n                 for(int j=a[i];j>=0;j--)\n                 {\n                     for(int k=b[i];k>=0;k--)\n                     {\n                         if(p[i].t==1)\n                         {\n                             if(j==0)  continue;\n                             f[j][k]=max(f[j][k],f[j-1][k]+(double) w*pp[j-1]*c[k]*p[i].x);\n                             maxx=max(f[j][k],maxx);\n                         }\n                         else\n                         {\n                             if(k==0)  continue;\n                             f[j][k]=max(f[j][k],f[j][k-1]-(double) w*pp[j]*c[k-1]*p[i].x);        \n                         }\n                     }\n                 }\n             }\n             printf(\"%0.2lf\\n\",maxx);\n        }\n\n```",
        "postTime": 1508398874,
        "uid": 22236,
        "name": "\u65e5\u6708\u5f71",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1412 \u3010\u7ecf\u8425\u4e0e\u5f00\u53d1\u3011"
    }
]