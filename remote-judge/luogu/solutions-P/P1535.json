[
    {
        "content": "~~\u624d\u53d1\u73b0\u666e\u53ca+\u7684\u9898\u5982\u6b64\u7b80\u5355...\u5b8c\u5168\u5237\u65b0\u5bf9\u666e\u53ca+\u7684\u5370\u8c61~~\n\n\u4eca\u5929\u4e0d\u77e5A\u4e86\u591a\u5c11\u7eff\u9898\u4e86\n\n\u6b65\u5165\u6b63\u9898\n\n# \u601d\u8def\u5386\u7a0b\n\n## \u666e\u901a\u7206\u641c\u601d\u8def\n\n\u8fd9\u9898\u666e\u901a\u7206\u641c\u601d\u8def\u5f88\u597d\u60f3\n\n\u603b\u800c\u8a00\u4e4b\u5c31\u662f\u5728\u89c4\u5b9a\u7684\u6b65\u6570T\u5185\n\n\u6709\u51e0\u79cd\u4ece\u51fa\u53d1\u70b9\u5230\u76ee\u6807\u70b9\u7684\u65b9\u6cd5\n\n\u9996\u5148\u4ece\u51fa\u53d1\u70b9\u5f00\u59cb\u641c\n\n\u5411\u4e0a\u4e0b\u5de6\u53f3\u56db\u4e2a\u65b9\u5411\u641c\u7d22\uff08\u5f88\u663e\u7136\u7684\u8bf4\uff09\n\n\u90a3\u4e48\u5c31\u53ea\u8981\u5230\u8fbe\u76ee\u7684\u5730ans++\n\n## \u8fd9\u662f\u4e00\u4e2a40\u5206\u7a0b\u5e8f\n\n```\n#include<iostream> \nusing namespace std;\nint n,m,t,x1,y1,x2,y2;\nint X[4]={1,-1,0,0},Y[4]={0,0,1,-1};\nbool ok[110][110];\nint ans;\ninline bool pd(int x,int y){\n    if(x>=1&&x<=n&&y>=1&&y<=m)\n    if(ok[x][y])return 1;\n    return 0;\n}\ninline void dfs(int x,int y,int time){\n    if(x==x2&&y==y2&&time==0)ans++;\n    if(!time)return;\n    int i;\n    for(i=0;i<4;i++)\n    if(pd(x+X[i],y+Y[i]))\n    dfs(x+X[i],y+Y[i],time-1);\n}\nint main( ){\n    std::ios::sync_with_stdio(false);\n    cin>>n>>m>>t;\n    int i,j,k;\n    char c;\n    for(i=1;i<=n;i++)\n    for(j=1;j<=m;j++){cin>>c;if(c=='.')ok[i][j]=1;else ok[i][j]=0;}\n    cin>>x1>>y1>>x2>>y2;\n    dfs(x1,y1,t);\n    cout<<ans;\n}\n```\n\n\n\u5f88\u663e\u7136\u666e\u901a\u7684\u7206\u641c\u662f\u6ce8\u5b9a\u8981T\u7684\n\n\u90a3\u4e48\u987b\u8981\u4e00\u4e2a\u526a\u679d\n\n\u53ef\u884c\u6027\u526a\u679d\uff1a\u5982\u679c\u5728T\u6b21\u4e4b\u5185\u65e0\u6cd5\u5230\u8fbe\u76ee\u7684\u5730\n\nreturn\n\n## \u4e0b\u9762\u662f90\u5206\u7a0b\u5e8f\n\n```\n#include<iostream> \nusing namespace std;\nint n,m,t,x1,y1,x2,y2;\nint X[4]={1,-1,0,0},Y[4]={0,0,1,-1};\nbool ok[110][110];\nint ans;\ninline bool pd(int x,int y){\n    if(x>=1&&x<=n&&y>=1&&y<=m)\n    if(ok[x][y])return 1;\n    return 0;\n}\ninline int abs(int s){\n    if(s<0)return -s;\n    return s;\n}\ninline void dfs(int x,int y,int time){\n    if(x==x2&&y==y2&&time==0)ans++;\n    if(!time||abs(x-x2)+abs(y-y2)>time)return;\n    int i;\n    for(i=0;i<4;i++)\n    if(pd(x+X[i],y+Y[i]))\n    dfs(x+X[i],y+Y[i],time-1);\n}\nint main( ){\n    std::ios::sync_with_stdio(false);\n    cin>>n>>m>>t;\n    int i,j,k;\n    char c;\n    for(i=1;i<=n;i++)\n    for(j=1;j<=m;j++){cin>>c;if(c=='.')ok[i][j]=1;else ok[i][j]=0;}\n    cin>>x1>>y1>>x2>>y2;\n    dfs(x1,y1,t);\n    cout<<ans;\n}\n```\n\n\u627e\u4e86\u8bb8\u4e45\uff083\u5206\u949f\uff09\n\n\u53d1\u73b0\u8fc7\u591a\u6b21\u8c03\u7528\u51fd\u6570 is a waste of time\n\n\u53ea\u8981\u5220\u9664pd\u51fd\u6570\u5c31AC\u4e86\n\n## 100\u5206\u7a0b\u5e8f\n\n```\n#include<iostream> \nusing namespace std;\nint n,m,t,x1,y1,x2,y2;\nint X[4]={1,-1,0,0},Y[4]={0,0,1,-1};\nbool ok[110][110];\nint ans;\ninline int abs(int s){\n    if(s<0)return -s;\n    return s;\n}\ninline void dfs(int x,int y,int time){\n    if(x==x2&&y==y2&&time==0)ans++;\n    if(!time||abs(x-x2)+abs(y-y2)>time)return;\n    int i;\n    for(i=0;i<4;i++)\n    if(x>=1&&x<=n&&y>=1&&y<=m&&ok[x][y])\n    dfs(x+X[i],y+Y[i],time-1);\n}\nint main( ){\n    std::ios::sync_with_stdio(false);\n    cin>>n>>m>>t;\n    int i,j,k;\n    char c;\n    for(i=1;i<=n;i++)\n    for(j=1;j<=m;j++){cin>>c;if(c=='.')ok[i][j]=1;else ok[i][j]=0;}\n    cin>>x1>>y1>>x2>>y2;\n    dfs(x1,y1,t);\n    cout<<ans;\n}\n```\n\n~~\u4eba\u8d70\u53ef\u4ee5\uff0c\u628a\u8d5e\u7559\u4e0b~~",
        "postTime": 1563281878,
        "uid": 117658,
        "name": "Space_Gold_Trash",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "\u4ece\u57fa\u7840\u5f00\u59cb\u8bb2\u89e3\u8bb0\u5fc6\u5316\u641c\u7d22\u3002\r\n\r\n$\\texttt{Part~-1~\u524d\u7f6e\u77e5\u8bc6}$\r\n\r\n\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff08dfs\uff09\u3002\r\n\r\n$\\texttt{Part~0~\u5f00\u59cb\u4e4b\u524d}$\r\n\r\n\u62ff\u5230 P1535 \u8fd9\u9898\u7684\u7b2c\u4e00\u53cd\u5e94\u5c31\u5e94\u8be5\u662f\u641c\u7d22\u3002\r\n\r\n\u8fd9\u9898\u7206\u641c\u601d\u8def\u5f88\u597d\u60f3\u3002\r\n\r\n\u9996\u5148\u4ece\u51fa\u53d1\u70b9\u5f00\u59cb\u641c\uff0c\r\n\r\n\u5411\u4e0a\u4e0b\u5de6\u53f3\u56db\u4e2a\u65b9\u5411\u641c\u7d22\u3002\r\n\r\n\u90a3\u4e48\u5c31\u53ea\u8981\u5230\u8fbe\u76ee\u7684\u5730 `ans++`\u3002\r\n\r\n```cpp\r\nconst int dx[4]={1,-1,0,0};\r\nconst int dy[4]={0,0,1,-1};\r\nint n,m,t,r1,c1,r2,c2,ans;\r\nbitset<108>b[108];\r\nvoid dfs(int x,int y,int time)\r\n{\r\n\tif(time>t)return ;\r\n\tif(time==t)\r\n\t{\r\n\t\tif(x==r2&&y==c2)\r\n\t\t{\r\n\t\t\tans++;\r\n\t\t\treturn ;\r\n\t\t}\r\n\t\telse return ;\r\n\t}\r\n\tfor(int i=0;i<4;i++)\r\n\t{\r\n\t\tif(b[x+dx[i]][y+dy[i]]||x+dx[i]<1||x+dx[i]>n||y+dy[i]<1||y+dy[i]>m)continue;\r\n\t\tdfs(x+dx[i],y+dy[i],time+1);\r\n\t}\r\n}\r\nint main()\r\n{\r\n\tcin>>n>>m>>t;\r\n\tfor(int i=1;i<=n;i++)\r\n\t{\r\n\t\tstring s;\r\n\t\tcin>>s;\r\n\t\tfor(int j=0;j<m;j++)\r\n\t\t{\r\n\t\t\tif(s[j]=='*')b[i][j+1]=1;\r\n\t\t}\r\n\t}\r\n\tcin>>r1>>c1>>r2>>c2;\r\n\tdfs(r1,c1,0);\r\n\tcout<<ans<<endl;\r\n \treturn 0;\r\n}\r\n```\r\n\u4f46\u80af\u5b9a\u662f\u8fc7\u4e0d\u4e86\u7684\uff0c\u73b0\u5728\u5f00\u59cb\u8bb0\u5fc6\u5316\u3002\r\n\r\n$\\texttt{Part~1~\u8bb0\u5fc6\u5316\u662f\u5565}$\r\n\r\n\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u5c31\u662f\u628a\u5df2\u7ecf\u641c\u5230\u7684\u72b6\u6001\u5f00\u4e2a\u6570\u7ec4\u8bb0\u5f55\u4e0b\u6765\uff0c\u518d\u6b21\u641c\u7684\u65f6\u5019\u76f4\u63a5\u8fd4\u56de\u3002\r\n\r\n\u4e3e\u4e2a\u4f8b\u5b50\uff1adfs \u6c42\u6590\u6ce2\u90a3\u5951\u6570\u5217\u3002\r\n\r\n\u4f17\u6240\u5468\u77e5\uff1a\r\n\r\n$$F_n = \\left\\{\\begin{aligned} 1 \\space (n \\le 2) \\\\ F_{n-1}+F_{n-2} \\space (n\\ge 3) \\end{aligned}\\right.$$\r\n\r\n\u6240\u4ee5\u5f88\u597d\u5199\uff1a\r\n\r\n```cpp\r\nint f(int n)\r\n{\r\n   if(n<=2)return 1;\r\n   else return f(n-1)+f(n-2);\r\n}\r\n```\r\n\u73b0\u5728\u8c03\u7528 `f(5)` \u770b\u770b\u641c\u7d22\u6811\u662f\u600e\u6837\u7684\uff1a\r\n\r\n![](https://cdn.luogu.com.cn/upload/image_hosting/7g6cqd1k.png)\r\n\r\n\u53d1\u73b0\u4e86\u4ec0\u4e48\uff1a\r\n\r\n![](https://cdn.luogu.com.cn/upload/image_hosting/7wtnwqov.png)\r\n\r\n\u76f8\u540c\u51fd\u6570\u6709\u591a\u6b21\u91cd\u590d\u8c03\u7528\uff0c\u8fd9\u4e2a\u8ba1\u7b97\u82b1\u7684\u65f6\u95f4\u5c31\u662f\u6d6a\u8d39\u7684\u3002\r\n\r\n\u53ef\u4ee5\u600e\u4e48\u529e\u5462\uff1f\r\n\r\n\u8bb0\u5fc6\u5316\u5440\u3002\r\n\r\n\u5f00\u4e00\u4e2a\u6570\u7ec4 `re[]={0}` \u8bb0\u5f55\u4e0b\u6765\u641c\u8fc7\u7684\u72b6\u6001\u3002\r\n\r\n```cpp\r\nint f(int n)\r\n{\r\n   if(re[n]!=0)return re[n];\r\n   if(n<=2)return re[n]=1;//\u7b49\u4ef7\u4e8e re[n]=1;return re[n]; \u4e0b\u540c\u3002\r\n   else return re[n]=f(n-1)+f(n-2);\r\n}\r\n```\r\n\r\n\u8fd9\u6837\u641c\u7d22\u6811\u5c31\u4f1a\u597d\u591a\u4e86\uff1a\r\n\r\n![](https://cdn.luogu.com.cn/upload/image_hosting/19hqa4d4.png)\r\n\r\n$\\texttt{Part~2~\u8bb0\u5fc6\u5316\u548b\u5199}$\r\n\r\n\u628a\u4e0a\u9762\u7684 dfs \u6252\u4e0b\u6765\uff1a\r\n\r\n```cpp\r\nvoid dfs(int x,int y,int time)\r\n{\r\n\tif(time>t)return ;\r\n\tif(time==t)\r\n\t{\r\n\t\tif(x==r2&&y==c2)\r\n\t\t{\r\n\t\t\tans++;\r\n\t\t\treturn ;\r\n\t\t}\r\n\t\telse return ;\r\n\t}\r\n\tfor(int i=0;i<4;i++)\r\n\t{\r\n\t\tif(b[x+dx[i]][y+dy[i]]||x+dx[i]<1||x+dx[i]>n||y+dy[i]<1||y+dy[i]>m)continue;\r\n\t\tdfs(x+dx[i],y+dy[i],time+1);\r\n\t}\r\n}\r\n```\r\n\u6ce8\u610f\u5230 `dfs` \u662f `void` \u7c7b\u578b\u7684\uff0c\u501f\u52a9\u5168\u5c40\u53d8\u91cf\u7edf\u8ba1\u7b54\u6848\u3002\u628a\u5b83\u6539\u6210\u53e6\u4e00\u79cd\u5199\u6cd5\uff1a`int` \u578b\uff0c\u7528\u8fd4\u56de\u503c\u8fd4\u56de\u7b54\u6848\u3002\r\n\r\n```cpp\r\n\r\nint dfs(int x,int y,int time)\r\n{\r\n\tif(time>t)return 0;\r\n\tif(time==t)\r\n\t{\r\n\t\tif(x==r2&&y==c2)return 1;\r\n\t\telse return 0;\r\n\t}\r\n\tint ans=0;\r\n\tfor(int i=0;i<4;i++)\r\n\t{\r\n\t\tif(b[x+dx[i]][y+dy[i]]||x+dx[i]<1||x+dx[i]>n||y+dy[i]<1||y+dy[i]>m)continue;\r\n\t\tans+=dfs(x+dx[i],y+dy[i],time+1);\r\n\t}\r\n\treturn ans;\r\n}\r\n```\r\n\r\n\u7136\u540e\u5b9a\u4e49\u4e00\u4e2a\u8bb0\u5fc6\u5316\u6570\u7ec4 `re[x][y][t]`\uff0c\u521d\u59cb\u503c\u90fd\u4e3a $-1$\u3002\r\n\r\n\r\n\u8868\u793a `dfs(x,y,t)` \u7684\u503c\uff0c\u4e5f\u5c31\u662f\u82b1\u4e86 $t$ \u79d2\u8d70\u5230 $(x,y)$ \u7684\u65b9\u6848\u6570\u3002\r\n\r\n\u641c\u7684\u65f6\u5019\u52a0\u5165\u53d1\u73b0\u641c\u8fc7\u5c31\u76f4\u63a5\u8fd4\u56de\u3002\r\n\r\n```cpp\r\nif(re[x][y][time]!=-1)return re[x][y][time];\r\n```\r\n\u7136\u540e\u518d\u6bcf\u4e2a dfs \u7b97\u51fa\u7b54\u6848\u7684\u65f6\u5019\u8bb0\u5f55\u5373\u53ef\u3002\r\n\r\ncode:\r\n\r\n```cpp\r\nint dfs(int x,int y,int time)\r\n{\r\n\tif(re[x][y][time]!=-1)return re[x][y][time];\r\n\tif(abs(x-r2)+abs(y-c2)>t-time)return re[x][y][time]=0;\r\n\tif(time>t)return re[x][y][time]=0;\r\n\tif(time==t)\r\n\t{\r\n\t\tif(x==r2&&y==c2)return re[x][y][time]=1;\r\n\t\telse return re[x][y][time]=0;\r\n\t}\r\n\tint ans=0;\r\n\tfor(int i=0;i<4;i++)\r\n\t{\r\n\t\tif(b[x+dx[i]][y+dy[i]]||x+dx[i]<1||x+dx[i]>n||y+dy[i]<1||y+dy[i]>m)continue;\r\n\t\tans+=dfs(x+dx[i],y+dy[i],time+1);\r\n\t}\r\n\treturn re[x][y][time]=ans;\r\n}\r\n```\r\n\u522b\u8d70\uff0c\u8fd8\u6ca1\u7ed3\u675f\u3002~~\u8fd8\u6ca1\u70b9\u8d5e\u5462~~\u3002\r\n\r\n$\\texttt{Part~3~\u590d\u6742\u5ea6\u5206\u6790}$\r\n\r\ndfs \u590d\u6742\u5ea6 $=$ \u8282\u70b9\u4e2a\u6570 $\\times$ \u4e00\u6b21\u9012\u5f52\u590d\u6742\u5ea6\u3002\r\n\r\n\u4e00\u6b21\u9012\u5f52\u590d\u6742\u5ea6\u662f $O(1)$\u3002\r\n\r\n\u56e0\u4e3a\u6bcf\u4e2a `re[x][y][t]` \u81f3\u591a\u8ba1\u7b97\u4e00\u6b21\uff0c\u6240\u4ee5\u8282\u70b9\u4e2a\u6570\u662f $O(nmt)$\u3002\r\n\r\n\u590d\u6742\u5ea6 $O(nmt)$\u3002\r\n\r\n\u4f46\u5047\u5982\u4e0d\u8bb0\u5fc6\u5316\uff0c\r\n\r\n\u4e00\u6b21\u9012\u5f52\u590d\u6742\u5ea6\u8fd8\u662f $O(1)$\u3002\r\n\r\n\u4f46\u56e0\u4e3a\u6ca1\u6709\u8bb0\u5fc6\u5316\uff0c\u8282\u70b9\u4e2a\u662f\u6df1\u4e3a $t$ \u7684\u6ee1 $4$ \u53c9\u6811 $=\\dfrac{(4^t-1)}{3}$ \u4e5f\u5c31\u662f $O(4^t)$ \u3002\r\n\r\n\u8bb0\u5fc6\u5316\u8fd8\u662f\u5f88\u6709\u7528\u7684\u3002\r\n\r\n$\\texttt{Part~4~code}$\r\n\r\n\r\n\r\n```cpp\r\n////////////////////////\r\n///////////////////////\r\n//////////////////////\r\n/////////////////////\r\n/////Author/////////\r\n//////zyh//////////\r\n//////////////////\r\n/////////////////\r\n////////////////\r\n///////////////\r\n//////////////\r\n/////////////\r\n////////////\r\n#include<bits/stdc++.h>\r\n#define EL putchar('\\n')\r\n#define SP putchar(' ')\r\nusing namespace std;\r\nconst int dx[4]={1,-1,0,0};\r\nconst int dy[4]={0,0,1,-1};\r\nint n,m,t,r1,c1,r2,c2;\r\nbitset<108>b[108];\r\nint re[108][108][20];\r\nint dfs(int x,int y,int time)\r\n{\r\n\tif(re[x][y][time]!=-1)return re[x][y][time];\r\n\tif(abs(x-r2)+abs(y-c2)>t-time)return re[x][y][time]=0;\r\n\tif(time>t)return re[x][y][time]=0;\r\n\tif(time==t)\r\n\t{\r\n\t\tif(x==r2&&y==c2)return re[x][y][time]=1;\r\n\t\telse return re[x][y][time]=0;\r\n\t}\r\n\tint ans=0;\r\n\tfor(int i=0;i<4;i++)\r\n\t{\r\n\t\tif(b[x+dx[i]][y+dy[i]]||x+dx[i]<1||x+dx[i]>n||y+dy[i]<1||y+dy[i]>m)continue;\r\n\t\tans+=dfs(x+dx[i],y+dy[i],time+1);\r\n\t}\r\n\treturn re[x][y][time]=ans;\r\n}\r\nint main()\r\n{\r\n\tcin>>n>>m>>t;\r\n\tmemset(re,-1,sizeof(re));\r\n\tfor(int i=1;i<=n;i++)\r\n\t{\r\n\t\tstring s;\r\n\t\tcin>>s;\r\n\t\tfor(int j=0;j<m;j++)\r\n\t\t{\r\n\t\t\tif(s[j]=='*')b[i][j+1]=1;\r\n\t\t}\r\n\t}\r\n\tcin>>r1>>c1>>r2>>c2;\r\n\tcout<<dfs(r1,c1,0)<<endl;\r\n \treturn 0;\r\n}\r\n\r\n```\r\n\r\n$\\texttt{Part~5~\u4e00\u4e9b\u540e\u8bdd}$\r\n\r\n\u5176\u5b9e\u8bb0\u5fc6\u5316\u548c dp \u662f\u6709\u4ebf\u70b9\u70b9\u50cf\u7684\u3002\r\n\r\n\r\n\r\n\r\n\u6c42\u8d5e![qq_emoji: qq](https://xn--9zr.tk/qq) \u3002\r\n",
        "postTime": 1629522024,
        "uid": 242524,
        "name": "JRzyh",
        "ccfLevel": 5,
        "title": "P1535 [USACO08MAR]Cow Travelling S \u9898\u89e3"
    },
    {
        "content": "## \u641c\u7d22\n\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48\u6ca1\u6709\u4eba\u5199bfs\n\n\u89c9\u5f97\u633a\u50cf\u662f\u6807\u51c6\u4e2abfs\u7684\n### \u72b6\u6001\n### \u56e0\u4e3a\u8981\u7edf\u8ba1\u6b21\u6570\uff0c\u4e0d\u80fd\u7b80\u5355\u5730\u8df3\u8fc7\u4e00\u4e2a\u88ab\u7ecf\u8fc7\u7684\u70b9\n### \u8fd9\u6837\u7684\u8bdd\uff0c\u72b6\u6001\u91cf\u4f1a\u7206\u70b8\n### \u91c7\u7528\u8bb0\u5fc6\u5316\n#### \u8bbe$dp[i][j][k]$\u8868\u793a\u5728\u7b2c$k$\u5206\u949f\u5230\u8fbe\u70b9$(i,j)$\u7684\u65b9\u6848\u6570\n#### \u4ee5\u5730\u70b9+\u65f6\u95f4\u4f5c\u4e3a\u72b6\u6001\n#### \u907f\u514d\u540c\u4e00\u72b6\u6001\u88ab\u53cd\u590d\u62d3\u5c55\n#### \u8fd9\u6837\uff0c\u72b6\u6001\u91cf\u5c06\u51cf\u5c11\u81f3\u6700\u591a$100*100*15$\n### \u8f6c\u79fb\n### ~~\u8fd9\u5c31\u6bd4\u8f83\u663e\u7136\u4e86~~\n#### \u5bf9\u4e8e\u5c06\u88ab\u62d3\u5c55\u7684\u72b6\u6001\uff0c\u5728\u8ba1\u6570\u65f6\u52a0\u4e0a\u5f53\u524d\u72b6\u6001\u7684\u65b9\u6848\u6570\n#### \u5982\u679c\u8fd9\u4e2a\u72b6\u6001\u66fe\u88ab\u62d3\u5c55\uff0c\u5c31\u4e0d\u8981\u522b\u7684\u64cd\u4f5c\u4e86\n#### \u5426\u5219\uff0c\u5c06\u8fd9\u4e00\u72b6\u6001\u5165\u961f\uff0c\u9884\u5907\u62d3\u5c55\u5176\u4ed6\u72b6\u6001\n\u4ee3\u7801\u662f\u8fd9\u6837\u7684\uff1a\n```\n#include<iostream>\n#include<cstdio>\n#include<queue>\nusing namespace std;\nstruct node{\n    int x,y,s;\t//x\u3001y\u8868\u793a\u5750\u6807\uff0cs\u8868\u793a\u65f6\u95f4\n};\nqueue<node>q;\nint n,m,t,r1,c1,r2,c2,dp[110][110][20];\nint dx[4]={0,0,1,-1};\nint dy[4]={1,-1,0,0};\t//\u79fb\u52a8\nstring s[110];\nint main()\n{\n    cin>>n>>m>>t;\n    for(int i=1;i<=n;i++)\n        cin>>s[i];\n    cin>>r1>>c1>>r2>>c2;\n    dp[r1][c1][0]=1;\t//\u521d\u59cb\u65b9\u6848\u6570\u4e3a1\n    q.push(node{r1,c1,0});\n    while(!q.empty())\n    {\n        node u=q.front();\n        q.pop();\n        for(int i=0;i<4;i++)\n        {\n            node th;\n            th.x=u.x+dx[i];\n            th.y=u.y+dy[i];\n            th.s=u.s+1;\n            if(dp[th.x][th.y][th.s])\n            {\n                dp[th.x][th.y][th.s]+=dp[u.x][u.y][u.s];\n                continue;\t//\u5f53\u524d\u72b6\u6001\u66fe\u88ab\u62d3\u5c55\n            }\n            if(th.x<1||th.x>n||th.y<1||th.y>m||s[th.x][th.y-1]=='*'||th.s>t)\n                continue;\t//\u8d8a\u754c\u6216\u4e0d\u80fd\u8d70\u6216\u8d85\u65f6\uff0c\u8df3\u8fc7\n            dp[th.x][th.y][th.s]+=dp[u.x][u.y][u.s];\t//\u8ba1\u6570\n            q.push(th);\n        }\n    }\n    cout<<dp[r2][c2][t]<<endl;\n    return 0;\n}\n```",
        "postTime": 1528545573,
        "uid": 57045,
        "name": "communist",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "## \u6b63\u89e3\uff1a\u52a8\u6001\u89c4\u5212\n#### \u8fd9\u9053\u9898\u662f\u53ef\u4ee5\u7528\u641c\u7d22\u7684\u65b9\u5f0fAC\n#### \u4f46\u52a8\u6001\u89c4\u5212\u7684\u65b9\u6cd5\u66f4~~\u96be\u6253~~\u597d\u6253\uff0c\u4e5f\u597d\u7406\u89e3\u3002\n## \u90a3\u600e\u4e48\u52a8\u6001\u89c4\u5212\u5462\n#### \u5728$1$\u79d2\u5185\uff0c\u5bf9\u4e8e\u7b2c$i$\u884c\u7b2c$j$\u5217\u7684\u5230\u8fbe\u65b9\u6848\u6570\u4e3a\u4e0a\u4e0b\u5de6\u53f3\u7684\u548c\u3002\n#### \u6211\u4eec\u8fd9\u91cc\u53ef\u4ee5\u7528$-1$\u8868\u793a\u6811\u3002\n#### \u4f46\u662f\uff0c\u5982\u679c\u5468\u56f4\u6709\u6811\uff0c\u53ea\u80fd\u52a0\u6ca1\u6709\u6811\u7684\u4e00\u8fb9\u3002\n#### \u4f8b\u5982(\u6211\u4eec\u8fd9\u91cc\u7528a\u6570\u7ec4\u8868\u793a)\uff1a\n```\n0 0  0 0 0 0 0\n0 0 -1 0 0 0 0\n0 0  0 0 0 0 0\n0 0  0 0 0 0 0 \n```\n#### \u90a3\u4e48\uff0c\u5bf9\u4e8e$i=3$,$j=4$\u7684\u65f6\u5019\uff0c\u53ea\u80fd\u589e\u52a0\u5de6\uff0c\u4e0b\uff0c\u53f3\u7684\u65b9\u6848\u6570\n#### \u6ce8\u610f\uff0c\u6574\u4e2a\u8fc7\u7a0b\u7528\u4e24\u4e2a\u6570\u7ec4\u64cd\u4f5c\uff0c$b$\u6570\u7ec4\u4e3a\u8fd9\u4e00\u79d2\u540e\u7684\u65b9\u6848\u6570\uff0c\u6ce8\u610f\uff0c\u6bcf\u6b21\u8ba1\u7b97\u90fd\u8981\u5148\u6e05$0$\u3002\u6700\u540e\u5728\u8d4b\u503c\u5230$a$\u6570\u7ec4\u3002\n## \u8fd9\u662f\u4ee3\u7801\uff1a\n```\n#include<iostream>\n#include<cmath>\n#include<cstdio>\n#include<string>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>//\u5934\u6587\u4ef6\nusing namespace std;\nconst int maxn=100+10;\nint n,m,t;\nint a[maxn][maxn],b[maxn][maxn];\nchar ch;\nint x,y,mbx,mby;\nvoid read(int &x)\n{\n    int f=1;x=0;char s=getchar();\n    while(s<'0'||s>'9'){if(s=='-')f=-1;s=getchar();}\n    while(s>='0'&&s<='9'){x=x*10+s-'0';s=getchar();}\n    x*=f;\n}\nvoid print(int x)\n{\n    if(x<0)\n    {\n        putchar('-');\n        x=-x;\n    }\n    if(x>9)\n        print(x/10);\n    putchar(x%10+'0');\n}\nint main()\n{\n    read(n),read(m),read(t);\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n        {\n        \tcin>>ch;\n        \tif(ch=='*')a[i][j]=b[i][j]=-1;//\u8fd9\u662f\u6811\u7684\u60c5\u51b5\n        }\n    cin>>x>>y>>mbx>>mby;\n    a[x][y]=b[x][y]=1;//\u521d\u59cb\u5316\n    for(int k=1;k<=t;k++)\n    {\n    \tfor(int i=1;i<=n;i++)\n    \t    for(int j=1;j<=m;j++)\n    \t       if(a[i][j]!=-1)\n    \t       {\n    \t       \tb[i][j]=0;\n    \t       \tif(a[i-1][j]!=-1)b[i][j]+=a[i-1][j];\n    \t       \tif(a[i+1][j]!=-1)b[i][j]+=a[i+1][j];\n    \t        if(a[i][j-1]!=-1)b[i][j]+=a[i][j-1];\n    \t        if(a[i][j+1]!=-1)b[i][j]+=a[i][j+1];\n\t\t\t   }//\u5224\u65ad\u6811\u7684\u60c5\u51b5\uff0c\u4e0d\u662f\u6811\u624d\u80fd\u52a0\n\t\tfor(int i=1;i<=n;i++)\n    \t    for(int j=1;j<=m;j++)\n    \t        a[i][j]=b[i][j];//\u6700\u540e\u7684\u8d4b\u503c\n    }\n    cout<<a[mbx][mby];\n    return 0;\n}\n```\nps\uff1a\u8fd9\u7bc7\u9898\u89e3\u4e00\u5b9a\u8981\u8fc7\u554a",
        "postTime": 1543654916,
        "uid": 51800,
        "name": "\u5929\u5357\u5730\u5317",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "## DFS + \u526a\u679d\n\n### [P1535 [USACO08MAR]Cow Travelling S](https://www.luogu.com.cn/problem/P1535)\n\n\u9996\u5148\uff0c\u8fd9\u9053\u9898\u6211\u7528\u7684\u662f **DFS**\n\ndfs\u51fd\u6570\u8bb0\u4e09\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u662f\u6a2a\u7eb5\u5750\u6807\u4ee5\u53ca\u8d70\u5230\u5f53\u524d\u8fd9\u4e2a\u70b9\u8fd8\u6709\u591a\u5c11\u6b65\u6570\u8981\u8d70\n\n\u9012\u5f52\u641c\u7d22\u65f6\uff0c\u6a2a\u7eb5\u5750\u6807\u5411\u4e0a\u4e0b\u5de6\u53f3\u56db\u4e2a\u65b9\u5411\u5206\u522b\u53d8\u5316\uff0c\u5269\u4f59\u6b65\u6570 `num` \u51cf $1$ \uff0c\u53ef\u4ee5\u770b\u51fa\uff0c\u5f53\u6a2a\u7eb5\u5750\u6807\u5206\u522b\u7b49\u4e8e $(R_2,C_2)$ \u4e14\u5269\u4f59\u6b65\u6570\u4e3a $0$ \u65f6\uff0c\u53ef\u4ee5\u8ba1\u5165\u7b54\u6848\u4e2d\u3002\n\n\u3002\n\n\u3002\n\n\u3002\n\n\u3002\n\n\u3002\n\n\u3002\n\n\u4f46\u662f\u8fd9\u6837\u4f1a `TLE`\n\n![\u7ffb\u8f66\u73b0\u573a](https://cdn.luogu.com.cn/upload/image_hosting/rfjl83xb.png)\n\n\u6240\u4ee5\u52a0\u4e00\u4e2a\u526a\u679d\u5427\n\n\u5982\u679c\u8bf4\u5f53\u524d\u70b9\u4e0e\u7ec8\u70b9\u7684\u6a2a\u3001\u7eb5\u5750\u6807\u5dee\u4e4b\u548c\u5c0f\u4e8e\u5269\u4f59\u6b65\u6570\uff0c\u90a3\u80af\u5b9a\u4e0d\u7528\u7ee7\u7eed\u9012\u5f52\u4e0b\u53bb\u4e86\u3002\n\n\u867d\u7136\u8fd9\u79cd\u505a\u6cd5\u6ca1\u6709\u8003\u8651\u201c\u5899\u201d\uff0c\u4f46\u662f\u66fc\u54c8\u987f\u8ddd\u79bb\u90fd\u592a\u5927\uff0c\u518d\u52a0\u4e0a\u5899\u7684\u963b\u62e6\u5c31\u66f4\u8fdc\u800c\u65e0\u6cd5\u6ee1\u8db3\u9898\u76ee\u8981\u6c42\u4e86\u3002\n\n\u5c31\u8fd9\u4e48 `AC` \u4e86\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7xurb6qh.png)\n\n~~\uff08\u53ea\u597d\u8bf4\u6d1b\u8c37\u8bc4\u6d4b\u59ec\u8dd1\u7684\u771f\u5feb\uff09~~\n\n### \u6838\u5fc3\u4ee3\u7801\n\n```cpp\ninline bool exist(int x, int y) {\n\treturn 1 <= x && x <= n && 1 <= y && y <= m && mp[x][y] != '*';\n}\n\ninline void dfs(int x, int y, int num) {\n\tif(num < (abs(x - r2) + abs(y - c2))) return ; // \u526a\u679d\n\tif(x == r2 && y == c2 && num == 0)\n\t\tans ++;\n\tif(num == 0) return ;\n\tfor (int i = 0; i < 4; ++ i) {\n\t\tint tx = x + dx[i], ty = y + dy[i];\n\t\tif(exist(tx, ty)) dfs(tx, ty, num - 1);\n\t}\n\treturn ;\n}\n\n```\n",
        "postTime": 1607765217,
        "uid": 213218,
        "name": "\u849f\u84bbCGZ",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1535 \u3010[USACO08MAR]Cow Travelling S\u3011"
    },
    {
        "content": "\u8fd9\u9898\u53ef\u4ee5\u505a\u6210\u76f8\u5f53\u7b80\u5355\u7684dp\u3002\n\nf[i,j,k]=\u65f6\u95f4\u4e3ai\uff0c\u5750\u6807\u4e3aj\uff0ck\u7684\u65b9\u6848\u6570\u3002\uff08f[i,j,k]\u5f53\u7136\u4e0d\u80fd\u4e3a\u969c\u788d\u7269\uff09\n\n**\u5bf9\u4e8ef[i,j,k]=**\n\n**f[i-1,j-1,k]+f[i-1,j+1,k]+f[i-1,j,k-1]+f[i-1,j,k+1]\u3002**\n\n**\uff08\u4e0a\u4e00\u79d2\u7684\u4e0a\u4e0b\u5de6\u53f3\u76f8\u52a0\uff09**\n```pascal\nvar\n        map:array [1..100,1..100] of longint;\n        f:array [0..15,1..100,1..100] of longint;\n        n,m,t,x1,x2,y1,y2,i,j,k:longint;\n        ch:char;\nbegin\n        fillchar(f,sizeof(f),0);\n        readln(n,m,t);\n        for i:=1 to n do\n        begin\n                for j:=1 to m do\n                begin\n                        read(ch);\n                        if ch='*' then map[i,j]:=1;\n                end;\n                readln;\n        end;\n        readln(x1,y1,x2,y2);\n        f[0,x1,y1]:=1;//\u521d\u503c\n        for i:=1 to t do\n                for j:=1 to n do\n                        for k:=1 to m do\n                                if map[j,k]<>1 then\n                                begin\n                                        f[i,j,k]:=f[i-1,j-11,k]+f[i-1,j+1,k]+f[i-1,j,k-1]+f[i-1,j,k+1];//\u52a8\u6001\u65b9\u7a0b\n                                end;\n        \n        writeln(f[t,x2,y2]);//\u7b54\u6848\nend.\n\n```",
        "postTime": 1524745527,
        "uid": 60333,
        "name": "ta3b",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "## \u8bb0\u5fc6\u5316\u641c\u7d22  \n\u5bf9\u4e8e\u840c\u65b0\u6765\u8bf4\uff0c\u4e2a\u4eba\u8fd8\u662f\u89c9\u5f97\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u601d\u8def\u6bd4\u8f83\u597d\u7406\u89e3\uff0c\u76f8\u5f53\u4e8e\u5176\u4ed6\u65b9\u6cd5\u6bd4\u8f83\u201c\u6734\u5b9e\"  \n\u641c\u7d22\u7684\u9898\u76ee\u4e00\u822c\u53ef\u4ee5\u5148\u5199\u4e2a\u6734\u7d20\u7684\u5199\u6cd5\uff0c\u5373\u66b4\u529b\u67e5\u627e\uff0c\u7136\u540e\u518d\u8fdb\u884c\u4fee\u6539\uff0c\u76f8\u5f53\u4e8e\u6709\u4e00\u4e2a\u8fc7\u6e21\u7684\u8fc7\u7a0b\u3002  \n\n\n------------\n\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u7684\u8fc7\u7a0b\uff0c\u4ece\u8d77\u70b9\u5230\u7ec8\u70b9\uff0c\u53ea\u4e0d\u8fc7\u52a0\u4e86\u4e00\u4e2a\u65f6\u95f4\u7684\u9650\u5236\uff0c\u5177\u4f53\u7684\u4e0d\u518d\u8d58\u8ff0\uff0c\u6211\u7684\u4ee3\u7801\u5e94\u8be5\u8fd8\u7b97\u5199\u7684\u6bd4\u8f83\u6734\u5b9e\u7684\uff0c\u6240\u4ee5\u5f88\u5bb9\u6613\u770b\u61c2\u5427\uff01  \n\n------------\n\n20\u5206\u6734\u7d20\u5199\u6cd5:  \n```c\n#include<iostream>\n#include<cstring>\n\nusing namespace std;\n\nconst int N=110;\n\nchar g[N][N];\nint n,m,t;\nint r1,c1,r2,c2;\nint ans=0;\n\nint dx[]={0,1,0,-1};\nint dy[]={1,0,-1,0};\n\nvoid dfs(int x,int y,int t){//\u5bf9\u56db\u4e2a\u65b9\u5411\u8fdb\u884c\u641c\u7d22,\u7edf\u8ba1\u5408\u6cd5\u65f6\u95f4\u5185\u7684\u65b9\u6848 \n\tif(t<0)\treturn;\n\tif(x==r2&&y==c2){\n\t\tans++;\n\t\treturn;\n\t}\n\tint mx,my;\n\tfor(int i=0;i<4;i++){\n\t\tmx=x+dx[i];\n\t\tmy=y+dy[i];\n\t\tif(mx>=0&&mx<n&&my>=0&&my<m&&g[mx][my]!='*')\tdfs(mx,my,t-1);\n\t}\n}\n\nint main(){\n\tcin>>n>>m>>t;\n\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<m;j++)\n\t\t\tcin>>g[i][j];\n\tcin>>r1>>c1>>r2>>c2;\n\tr2--;c2--;//\u6ce8\u610f\u5339\u914d\u4e0b\u6807 \n\tdfs(r1-1,c1-1,t);\n\tcout<<ans;\n}\n```\n------------\n100\u5206-\u8bb0\u5fc6\u5316\u641c\u7d22  \n\u8003\u8651\u52a0\u5165\u8bb0\u5fc6\u5316\u6570\u7ec4\uff0c\u5176\u5b9e\u5c31\u662f\u7701\u53bb\u91cd\u590d\u7684\u8ba1\u7b97\uff0c\u8be6\u7ec6\u89c1\u4ee3\u7801\n\n------------\n\n```c\n#include<iostream>\n#include<cstring>\n\nusing namespace std;\n\nconst int N=110;\n\nchar g[N][N];\nint n,m,t;\nint r1,c1,r2,c2;\nint f[N][N][N];//f[x][y][t]\u8868\u793a\u4ee5(x,y)\u4e3a\u8d77\u70b9,\u5728\u65f6\u95f4\u4e3at\u65f6\u53ef\u4ee5\u5230\u8fbe\u7ec8\u70b9\u7684\u8def\u7ebf\u6570 \n\nint dx[]={0,1,0,-1};\nint dy[]={1,0,-1,0};\n\nint dfs(int x,int y,int t){\n\tif(f[x][y][t]!=-1)\treturn f[x][y][t];\n\tif(t==0){//\u6ce8\u610f\u5173\u6ce8t\u7684\u5728f\u6570\u7ec4\u4e2d\u7684\u610f\u4e49 \n\t\tif(x==r2&&y==c2)\treturn f[x][y][t]=1;\n\t\treturn f[x][y][t]=0;\n\t}\n\tint mx,my;\n\tint tmp=0;\n\tfor(int i=0;i<4;i++){\n\t\tmx=x+dx[i];\n\t\tmy=y+dy[i];\n\t\tif(mx>=0&&mx<n&&my>=0&&my<m&&g[mx][my]!='*')\ttmp+=dfs(mx,my,t-1);\n\t}\n\treturn f[x][y][t]=tmp;\n}\n\nint main(){\n\tcin>>n>>m>>t;\n\tmemset(f,-1,sizeof f);\n\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<m;j++)\n\t\t\tcin>>g[i][j];\n\tcin>>r1>>c1>>r2>>c2;\n\tr2--;c2--;\n\tcout<<dfs(r1-1,c1-1,t);\n}\n```\n\n\n------------\n\n\u5bf9\u6bd4\u4e24\u4e2a\u4ee3\u7801\u53ef\u4ee5\u77e5\u9053\uff0c\u5176\u5b9e\u5dee\u522b\u5e76\u4e0d\u5927\uff0c\u4f46\u6734\u7d20\u5199\u6cd5\u80af\u5b9a\u662f\u6700\u597d\u5199\u7684\uff0c\u5728\u6734\u7d20\u4ee3\u7801\u7684\u57fa\u7840\u4e0a\u6784\u601d\u8bb0\u5fc6\u5316\u7684\u65b9\u6cd5\u5219\u5bb9\u6613\u5f97\u591a\n\n",
        "postTime": 1616421530,
        "uid": 263057,
        "name": "\u6708\u4e0b\u8424\u706b",
        "ccfLevel": 0,
        "title": "[USACO08MAR]Cow Travelling S"
    },
    {
        "content": "\u5f88\u6709 **\u6c34** \u51c6\u7684\u9898\u76ee  \u90a3\u5c31\u6765\u7bc7\u6c34\u7684\u9898\u89e3\n\n\u9274\u4e8e\u56fe\u8bba\u9898\u89e3\u5c31\u4e00\u7bc7\u800c\u4e14\u89e3\u6cd5\u5e76\u4e0d\u76f8\u540c \u6240\u4ee5\u4ecb\u7ecd\u65b0\u7684\u65b9\u6cd5 \n\n\u5148\u5efa\u56fe \u628a\u4e00\u4e2a\u5750\u6807\u4e3a \uff08 x , y  ) \u7684\u70b9\u5728\u56fe\u4e2d\u6210 \uff08x - 1 ) * n + y \n\n\u6570\u91cf\u6700\u5c0f\u800c\u4e14\u4e0d\u4f1a\u91cd\u590d \n\n\u4e4b\u540e\u4ee5 ( r2 , c2 ) \u4f5c\u4e3a\u6e90\u70b9\u8dd1\u6700\u77ed\u8def \n\n\u5b9e\u9645\u7684\u7b54\u6848\u4e5f\u662f\u5404\u4e2a\u70b9\u5230 ( r2 , c2  ) \u7684\u6700\u77ed\u8ddd\u79bb ( \u65e0\u5411\u56fe \uff09 \n\n\uff08 \u8865\u5145\u4e00\u70b9 \uff0c \u6709\u5411\u56fe\u7684\u8bdd\u8981\u5efa\u53cd\u56fe \u8fd9\u91cc\u65e0\u5173\u4e0d\u518d\u505a\u89e3\u91ca \uff09 \n\n\u4e4b\u540e\u6211\u4eec\u7528 dfs \u641c\u7d22 \n\n\u7528\u4e00\u4e2a\u53ef\u884c\u6027\u526a\u679d \n\n```cpp\nif( dis[(x-1)*n+y] + step > T ) return ; \n```\n\n\u5c31\u662f\u4ece\u8fd9\u4e2a\u70b9\u8d70\u5230\u7ec8\u70b9\u7528\u6700\u77ed\u8def\u5f84\u4e5f\u65e0\u6cd5\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\u8fbe\u5230 \n\n\u90a3\u5c31 return \n\n\u5b9e\u9645\u4e0a\u601d\u8def\u6ca1\u4ec0\u4e48\u4e0d\u540c\u5c31\u7528SPFA\u88c5*\u800c\u5df2 \n\n\uff08\u7136\u800c\u4f60\u4e5f\u53ef\u4ee5\u7528\u5806\u4f18\u5316\uff09 \n\n\u5b8c\u6574\u4ee3\u7801 \u60f3\u6284\u7684\u81ea\u4fbf\n\n```cpp\n#include <bits/stdc++.h> \n#define MAXN 105\nusing namespace std ;\nchar Map[MAXN][MAXN] ;\nint n , m , dis[MAXN*MAXN] , T , Ans ,  l[4][2] = {{1,0} , {0,1} , {-1,0} , {0,-1}} ;\nint r1 , c1 , r2 , c2 ;\nvector <int> v[MAXN*MAXN] ; \nbool In[MAXN*MAXN] ;\nqueue <int> q ;\nvoid dfs( int x , int y , int step )\n{\n\tif( step > T ) return ;\n\tif( dis[(x-1)*n+y] + step > T ) return ; \n\tif( step == T && x == r2 && y == c2 ) \n\t{\n\t\tAns ++ ;\n\t\treturn ; \n\t}\n\tint tx , ty ;\n\tfor(int i=0; i<4; i++) \n\t{\n\t\ttx = x+l[i][0] ; ty = y+l[i][1] ;\n\t\tif( tx<1 || tx>n || ty<1 || ty>m ) continue ;\n\t   \tif( Map[tx][ty] == '*' ) continue ;\n\t   \tdfs( tx , ty , step+1 ) ;\n\t}\n}\nint main() \n{\n\tint S , E ;\n\tcin >> n >> m >> T ;\n\tfor(int i=1; i<=n; i++)\n\t  for(int j=1; j<=m; j++)\n\t    cin >> Map[i][j] ;\n\tcin >> r1 >> c1 >> r2 >> c2 ;\n\tS = (r1-1)*n+c1 ; E = (r2-1)*n+c2 ;\n\tfor(int i=1; i<=n; i++)\n\t  for(int j=1; j<=m; j++)\n\t   for(int k=0; k<4; k++)\n\t   {\n\t   \t int tx = i+l[k][0] , ty = j+l[k][1] ;\n\t   \t if( tx<1 || tx>n || ty<1 || ty>m ) continue ;\n\t   \t if( Map[tx][ty] == '*' ) continue ;\n\t   \t int x = (i-1)*n+j , u = (tx-1)*n+ty  ;\n\t   \t v[x].push_back( u ) ;\n\t   }\n\tmemset( dis , 0x3f , sizeof(dis) ) ;\n\tdis[E] = 0 ; In[E] = 1 ; q.push(E) ;\n    while(!q.empty()) \n    {\n    \tint x = q.front(); q.pop() ; In[x] = 0 ;\n    \tfor(int i=0; i<v[x].size(); i++)\n    \t{\n    \t\tint u = v[x][i] ;\n    \t\tif( dis[u] > dis[x]+1 )\n    \t\t{\n    \t\t\tdis[u] = dis[x]+1 ;\n    \t\t\tif( !In[u] ) \n    \t\t\t{\n    \t\t\t\tIn[u] = 1;\n    \t\t\t\tq.push(u) ;\n    \t\t\t}\n    \t\t}\n    \t}\n    }\n    dfs( r1 , c1 , 0 ) ; \n\treturn 0 ;\n}\n```\n\n",
        "postTime": 1572237928,
        "uid": 100114,
        "name": "hater",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "# \u4f18\u5316\u662f\u5faa\u5e8f\u6e10\u8fdb\u7684\n\n\u5373\u5c06\u8054(tui)\u8d5b(yi)\u7684\u849f\u84bb\u6765\u6c34\u4e00\u7bc7\u9898\u89e3\n\n\u770b\u5230\u6b64\u9898\u7684\u7b2c\u4e00\u773c\u5c31\u60f3\u5230\u4e86\uff1a\n## \u5927\u66b4\u529b\uff08MLE    40)\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,t,sx,sy,ex,ey,ans=0;\nint dx[5]={0,1,-1,0,0};\nint dy[5]={0,0,0,1,-1};\nchar s[109][109];\nstruct node\n{\n\tint x,y,step;\n}u,v;queue<node>q;\nvoid bfs()\n{\n\tq.push(node{sx,sy,0});\n\twhile(!q.empty())\n\t{\n\t\tu=q.front();q.pop();\n\t\tfor(register int i=1;i<=4;i++)\n\t\t{\n\t\t\tv.x=u.x+dx[i];v.y=u.y+dy[i];v.step=u.step+1;\n\t\t\tif(v.x<1 || v.x>n || v.y<1 || v.y>m) continue;\n\t\t\tif(s[v.x][v.y]=='*') continue;\n\t\t\tif(v.step>t) continue;\n\t\t\tif(v.step==t && !(v.x==ex && v.y==ey)) continue;\n\t\t\tif(v.step==t && v.x==ex && v.y==ey)\n\t\t\t{\n\t\t\t\tans++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tq.push(v);\n\t\t}\n\t}\n}\nint main()\n{\n\tcin>>n>>m>>t;\n\tfor(register int i=1;i<=n;i++)\n\t\tscanf(\"%s\",s[i]+1);\n\tcin>>sx>>sy>>ex>>ey;\n\tbfs();\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```\n\n\u4e4b\u540e\uff0c\u6211\u4eec\u53d1\u73b0\uff0c**\u5bf9\u4e8e\u4e00\u4e2a\u72b6\u6001\u800c\u8a00\uff0c\u5982\u679c\u4ed6\u5230\u7ec8\u70b9\u7684\u8ddd\u79bb\u5927\u4e8e\u4ed6\u5269\u4e0b\u7684\u65f6\u95f4\uff0c\u90a3\u4e48\u5b83\u5e94\u88ab\u820d\u53bb**\n\n\n\u4e8e\u662f\u5c31\u6709\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,t,sx,sy,ex,ey,ans=0;\nint dx[5]={0,1,-1,0,0};\nint dy[5]={0,0,0,1,-1};\nchar s[109][109];\nstruct node\n{\n    int x,y,step;\n}u,v;queue<node>q;\nvoid bfs()\n{\n    q.push(node{sx,sy,0});\n    while(!q.empty())\n    {\n        u=q.front();q.pop();\n        //printf(\"%d %d %d\",u.x,u.y,u.step);system(\"pause\");\n        for(register int i=1;i<=4;i++)\n        {\n            v.x=u.x+dx[i];v.y=u.y+dy[i];v.step=u.step+1;\n            if(v.x<1 || v.x>n || v.y<1 || v.y>m) continue;\n            if(s[v.x][v.y]=='*') continue;\n            if(abs(v.x-ex)+abs(v.y-ey)>t-v.step) continue;\n            //\u8fd9\u4e00\u6b65\u5c1a\u5f85\u4f18\u5316\uff0cabs\u6240\u6c42\u4e0d\u4e00\u5b9a\u6b63\u786e\n            //(\u4f46\u4f18\u5316\u540e\u8fd8\u662f\u8fc7\u4e0d\u4e86QwQ)\n            if(v.step==t && v.x==ex && v.y==ey)\n            {\n                ans++;\n                continue;\n            }\n            q.push(v);\n        }\n    }\n}\nint main()\n{\n    cin>>n>>m>>t;\n    for(register int i=1;i<=n;i++)\n        scanf(\"%s\",s[i]+1);\n    cin>>sx>>sy>>ex>>ey;\n    bfs();\n    cout<<ans<<endl;\n    return 0;\n}\n```\n\n## MLE   90\n\n### \u8fd8\u662f\u4e0d\u591f\u4f18\uff01\n\n------------\n~~\u8fd9\u91cc\u6709\u4e2a\u5c0f\u4f18\u5316\uff0c\u5927\u4f6c\u4e0d\u60f3\u770b\u53ef\u7565\u53bb~~\n\n\u56e0\u4e3a\u6709 \u5899 \u7684\u5b58\u5728\uff0c\u6240\u4ee5abs\u6240\u6c42\u7684\u503c\u6bd4\u5b9e\u9645\u8981\u5c0f\uff0c\u53ef\u4ee5\u9884\u5904\u7406\u4e00\u904dbfs\u6c42\u51fa\u7ec8\u70b9\u5230\u5404\u70b9\u7684\u5b9e\u9645\u8ddd\u79bb\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u53bb\u66f4\u591a\u7684\u679d\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,t,sx,sy,ex,ey,ans=0,dis[109][109];\nint dx[5]={0,1,-1,0,0};\nint dy[5]={0,0,0,1,-1};\nchar s[109][109];\nstruct node\n{\n    int x,y,step;\n}u,v;queue<node>q;\nvoid pre_bfs()//\u5bf9\u8ddd\u79bb\u8fdb\u884c\u9884\u5904\u7406\n{\n    q.push(node{ex,ey,0});\n    memset(dis,-1,sizeof(dis));dis[ex][ey]=0;\n    while(!q.empty())\n    {\n        u=q.front();q.pop();\n        for(register int i=1;i<=4;i++)\n        {\n            v.x=u.x+dx[i];v.y=u.y+dy[i];v.step=u.step+1;\n            if(v.x<1 || v.x>n || v.y<1 || v.y>m) continue;\n            if(dis[v.x][v.y]!=-1) continue;\n            q.push(v);\n            dis[v.x][v.y]=v.step;\n        }\n    }\n}\nvoid bfs()\n{\n    while(!q.empty()) q.pop();\n    q.push(node{sx,sy,0});\n    while(!q.empty())\n    {\n        u=q.front();q.pop();\n        for(register int i=1;i<=4;i++)\n        {\n            v.x=u.x+dx[i];v.y=u.y+dy[i];v.step=u.step+1;\n            if(v.x<1 || v.x>n || v.y<1 || v.y>m) continue;\n            if(s[v.x][v.y]=='*') continue;\n            if(dis[v.x][v.y]>t-v.step) continue;\n            if(v.step==t && v.x==ex && v.y==ey)\n            {\n                ans++;\n                continue;\n            }\n            q.push(v);\n        }\n    }\n}\nint main()\n{\n    cin>>n>>m>>t;\n    for(register int i=1;i<=n;i++)\n        scanf(\"%s\",s[i]+1);\n    cin>>sx>>sy>>ex>>ey;\n    pre_bfs();\n    bfs();\n    cout<<ans<<endl;\n    return 0;\n}\n```\n\n~~\u4f46\u8fd8\u662f\u6ca1\u8fc7~~\n\n\n\n------------\n\n\u6211\u4eec\u4f1a\u53d1\u73b0\uff0cMLE\u7684\u672c\u8d28\u539f\u56e0\u5728\u4e8e**\u91cd\u590d\u7684\u72b6\u6001**\u8fc7\u591a\u5bfc\u81f4\u961f\u5217\u8fc7\u5927\uff0c\u800c\u91cd\u590d\u7684\u72b6\u6001\u672c\u8eab\u5e76\u6ca1\u6709\u610f\u4e49\uff0c\u6211\u4eec\u7528f[i][j][k]\u8868\u793a\u8d70\u5230\uff08i,j\uff09\u8fd9\u4e2a\u70b9\uff0c\u65f6\u95f4\u4e3at\u7684\u60c5\u51b5\u6570\uff08\u6709\u70b9\u7c7b\u4f3c\u4e8e\u8bb0\u641c\uff09\u3002\u8fd9\u6837\u4fbf\u8fbe\u5230\u4e86\u53bb\u91cd\u7684\u76ee\u7684\u3002\n\n\n#### AC code:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,t,sx,sy,ex,ey,ans=0,dis[109][109],f[109][109][20];\n//\t\t\t\t\t\t\t\u8bb0\u5f55\u8ddd\u79bb\t\t\u8bb0\u5fc6\u5316\nint dx[5]={0,1,-1,0,0};//\u65b9\u5411\u6570\u7ec4\nint dy[5]={0,0,0,1,-1};\nchar s[109][109];\nstruct node\n{\n    int x,y,step;\n}u,v;queue<node>q;\nvoid pre_bfs()//\u9884\u5904\u7406\uff0c\u5176\u5b9e\u5728\u8fd9\u91cc\u76f4\u63a5\u7528abs\u4e5f\u6ca1\u6709\u5173\u7cfb\n{\n    q.push(node{ex,ey,0});\n    memset(dis,-1,sizeof(dis));dis[ex][ey]=0;\n    while(!q.empty())\n    {\n        u=q.front();q.pop();\n        for(register int i=1;i<=4;i++)\n        {\n            v.x=u.x+dx[i];v.y=u.y+dy[i];v.step=u.step+1;\n            if(v.x<1 || v.x>n || v.y<1 || v.y>m) continue;\n            if(dis[v.x][v.y]!=-1) continue;\n            q.push(v);\n            dis[v.x][v.y]=v.step;\n        }\n    }\n}\nvoid bfs()\n{\n    while(!q.empty()) q.pop();\n    q.push(node{sx,sy,0});\n    memset(f,0,sizeof(f));f[sx][sy][0]=1;\n    while(!q.empty())\n    {\n        u=q.front();q.pop();\n        for(register int i=1;i<=4;i++)\n        {\n            v.x=u.x+dx[i];v.y=u.y+dy[i];v.step=u.step+1;\n            if(v.x<1 || v.x>n || v.y<1 || v.y>m) continue;\n            if(s[v.x][v.y]=='*') continue;\n            if(dis[v.x][v.y]>t-v.step) continue;//\u526a\u679d\n            f[v.x][v.y][v.step]+=f[u.x][u.y][u.step];//\u8ba1\u7b97\u7ed3\u679c\u6570\n            if(f[v.x][v.y][v.step]-f[u.x][u.y][u.step]>0) continue;\n            //\u53bb\u91cd\n            q.push(v);\n        }\n    }\n}\nint main()\n{\n    cin>>n>>m>>t;\n    for(register int i=1;i<=n;i++)\n        scanf(\"%s\",s[i]+1);\n    cin>>sx>>sy>>ex>>ey;\n    pre_bfs();\n    bfs();\n    cout<<f[ex][ey][t]<<endl;//\u8f93\u51fa\u7b54\u6848\n    return 0;\n}\n```\n\n# \u518d\u4f18\u5316\n## DP\n\n### \u8bb0\u5fc6\u5316\u662f\u4e00\u5b9a\u53ef\u4ee5\u8f6c\u4e3aDP\u7684\u3002\n\n~~\u8fd9\u91cc\u5f53\u505a\u9644\u52a0\u9898\uff0c\u8bf7\u540c\u5b66\u4eec\u81ea\u884c\u5b8c\u6210~~\n\n\n\u5b8c\uff0c\u6c42\u8fc7",
        "postTime": 1541256053,
        "uid": 88436,
        "name": "\u6e56\u91cc\u7684\u676d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "\u8fd9\u9898\u662f\u4e00\u9053\u641c\u7d22\u9898\u3002\u65e0\u8bba\u662fdfs\u8fd8\u662fbfs\u90fd\u53ef\u4ee5\u3002\u770b\u6ca1\u6709\u4eba\u7528dfs\u505a\uff0c\u6211\u6765\u53d1\u4e00\u4e2adfs\u7684\u9898\u89e3\u3002\n\n[\u63d0\u4ea4\u8bb0\u5f55](https://www.luogu.com.cn/record/40062889)\n\n\u8fd9\u9898\u7684\u610f\u601d\u5176\u5b9e\u662f\u8981\u6b63\u597d\u5728T\u79d2\u7684\u65f6\u5019\u5230\u3002\u8fd9\u9898\u53ef\u4ee5\u53bb\u5230\u4e00\u4e2a\u70b9\u591a\u6b21\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u4e0d\u8981\u52a0flag\u6570\u7ec4\u6765\u8bb0\u5f55\u5230\u5e95\u6709\u6ca1\u6709\u5230\u3002\u6211\u4eec\u9700\u8981\u52a0\u4e00\u4e2a\u4f18\u5316\uff0c\u7b97\u51fa\u6700\u5c11\u7684\u65f6\u95f4\u80fd\u4e0d\u80fd\u5230\u3002\u5982\u679c\u4e0d\u80fd\uff0c\u5c31\u8fd4\u56de\u3002\n\n\u5177\u4f53\u8fc7\u7a0b\u770b\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,t;//\u884c\u548c\u5217\u7684\u6570\u91cf\uff0c\u65f6\u95f4\nchar mp[105][105];//\u8f93\u5165\u7684char\u6570\u7ec4\nint ans;//\u7b54\u6848\nconst int dx[] = {-1,0,0,1};//\u65b9\u5411\u6570\u7ec4\uff0c\u6a2a\u5750\u6807\nconst int dy[] = {0,-1,1,0};//\u7eb5\u5750\u6807\nint getdis(int r1,int c1,int r2,int c2)//\u4f30\u65f6\u95f4\u51fd\u6570\n{\n\tint xx = abs(r1 - r2);//\u6a2a\u5411\u5dee\u503c\n\tint yy = abs(c1 - c2);//\u7eb5\u5411\u5dee\u503c\n\treturn xx + yy;\n}\nvoid dfs(int r1,int c1,int r2,int c2,int time)\n{\n\tif(r1 == r2 && c1 == c2 && time == t)//\u5982\u679c\u5230\u8fbe\u7ec8\u70b9\u4e14\u65f6\u95f4\u6b63\u597d\u4e3aT\u79d2\uff0c\u90a3\u4e48\u7b54\u6848\u53ef\u884c\n\t{\n\t\tans++;//\u7b54\u6848\u4e2a\u6570\u52a0\u4e00\n\t\treturn;\n\t}\n\tif(getdis(r1,c1,r2,c2) > time)//\u5982\u679c\u6700\u5c0f\u65f6\u95f4\u5927\u4e8e\u7ed9\u7684\u65f6\u95f4\uff0c\u90a3\u5c31\u4e00\u5b9a\u4e0d\u884c\n\t{\n\t\treturn;\n\t}\n\tif(time > t)//\u5982\u679c\u5b9e\u9645\u65f6\u95f4\u8d85\u8fc7\uff0c\u90a3\u4e48\u5c31\u4e0d\u884c\u4e86\n\t{\n\t\treturn;\n\t}\n\tfor(int i = 0; i < 4; i++)//\u5411\u56db\u4e2a\u65b9\u5411\u884c\u8d70\n\t{\n\t\tint xx = r1 + dx[i];//\u6a2a\u5750\u6807\n\t\tint yy = c1 + dy[i];//\u7eb5\u5750\u6807\n\t\tif(xx < 0 || xx >= n || yy < 0 || yy >= m || mp[xx][yy] == '*')\n\t\t{\n\t\t\tcontinue;\n\t\t}\n\t\tdfs(xx,yy,r2,c2,time + 1);//\u5982\u679c\u8fd9\u4e2a\u70b9\u53ef\u884c\uff0c\u90a3\u4e48\u5c31\u641c\u7d22\u8fd9\u4e2a\u70b9\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d%d\",&n,&m,&t);//\u8f93\u5165\n\tfor(int i = 0; i < n; i++)\n\t{\n\t\tscanf(\"%s\",&mp[i]);//\u8f93\u5165\n\t}\n\tint r1,c1,r2,c2;\n\tscanf(\"%d%d%d%d\",&r1,&c1,&r2,&c2);//\u8f93\u5165\u8d77\u70b9\u5750\u6807\u548c\u7ec8\u70b9\u5750\u6807\n\tdfs(r1 - 1,c1 - 1,r2 - 1,c2 - 1,0);//\u5f00\u59cb\u641c\u7d22\n\tprintf(\"%d\",ans);//\u8f93\u51fa\u7b54\u6848\n\treturn 0;\n}\n```\n",
        "postTime": 1603021257,
        "uid": 236414,
        "name": "zmza",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010[USACO08MAR]Cow Travelling S\u3011"
    },
    {
        "content": "\u9898\u76ee\u6570\u636e\u662f$t<=15$\uff0c\u5927\u81f4\u8ba1\u7b97\u4e00\u4e0b\uff0c\u66b4\u529b$bfs$\u662f$4^{15}$\uff0c\u4f1a\u7206\n\n\u90a3\u6211\u4eec\u5c31\u628a\u90a3$15$\u6b21\u79fb\u52a8\u62c6\u6210\u4e24\u534a\uff0c\u6700\u540e\u518d\u5408\u5728\u4e00\u8d77\n\n\u8fd9\u6837\u65f6\u95f4\u590d\u6742\u5ea6\u5927\u6982\u662f$4^{\\frac{t}{2}}$\n\n\u6211\u4eec\u8bbe$tx[0][k][i][j]$\u8868\u793a\u4ece\u8d77\u70b9\u8d70$k$\u6b21\u5230\u8fbe$(i,j)$\u7684\u65b9\u6848\u6570\uff0c$tx[1][k][i][j]$\u4e3a\u4ece\u7ec8\u70b9\u8d77\u8d70$k$\u6b21\u5230$(i,j)$\u7684\u65b9\u6848\u6570\n\n\u5219\u6211\u4eec\u5728\u8def\u5f84\u4e0a\u7b2c$k$\u79d2\u7ecf\u8fc7$(i,j)$\u5230\u8fbe\u7ec8\u70b9\u7684\u65b9\u6848\u6570\u5c31\u662f$tx[0][k][i][j]\\times tx[1][t-k][i][j]$\n\n\u6240\u4ee5$ans=\\sum\\limits_{i=1}^n\\sum\\limits_{j=1}^mtx[0][k][i][j]\\times tx[1][t-k][i][j]$\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\nint tx[2][10][110][110];\nqueue<int>qux;\nqueue<int>quy;\nqueue<int>qut;\nint vis[10][110][110];\nint maps[110][110];\nint n,m;\nvoid bfs(int sx,int sy,int ty,int tme)\n{\n\tmemset(vis,0,sizeof(vis));\n\tqux.push(sx);\n\tquy.push(sy);\n\tqut.push(0);\n\tvis[0][sx][sy]=1;\n\ttx[ty][0][sx][sy]=1;\n\twhile(!qux.empty())\n\t{\n\t\tint x=qux.front(),y=quy.front(),t=qut.front();\n\t\tqux.pop();\n\t\tquy.pop();\n\t\tqut.pop();\n\t\tif(t>tme)\n\t\t{\n\t\t\tcontinue;\n\t\t}\n\t\tif(x!=1&&maps[x-1][y]==0)\n\t\t{\n\t\t\ttx[ty][t+1][x-1][y]+=tx[ty][t][x][y];\n\t\t\tif(!vis[t+1][x-1][y])\n\t\t\t{\n\t\t\t\tvis[t+1][x-1][y]=1;\n\t\t\t\tqux.push(x-1);\n\t\t\t\tquy.push(y);\n\t\t\t\tqut.push(t+1);\n\t\t\t}\n\t\t}\n\t\tif(y!=1&&maps[x][y-1]==0)\n\t\t{\n\t\t\ttx[ty][t+1][x][y-1]+=tx[ty][t][x][y];\n\t\t\tif(!vis[t+1][x][y-1])\n\t\t\t{\n\t\t\t\tvis[t+1][x][y-1]=1;\n\t\t\t\tqux.push(x);\n\t\t\t\tquy.push(y-1);\n\t\t\t\tqut.push(t+1);\n\t\t\t}\n\t\t}\n\t\tif(x!=n&&maps[x+1][y]==0)\n\t\t{\n\t\t\ttx[ty][t+1][x+1][y]+=tx[ty][t][x][y];\n\t\t\tif(!vis[t+1][x+1][y])\n\t\t\t{\n\t\t\t\tvis[t+1][x+1][y]=1;\n\t\t\t\tqux.push(x+1);\n\t\t\t\tquy.push(y);\n\t\t\t\tqut.push(t+1);\n\t\t\t}\n\t\t}\n\t\tif(y!=m&&maps[x][y+1]==0)\n\t\t{\n\t\t\ttx[ty][t+1][x][y+1]+=tx[ty][t][x][y];\n\t\t\tif(!vis[t+1][x][y+1])\n\t\t\t{\n\t\t\t\tvis[t+1][x][y+1]=1;\n\t\t\t\tqux.push(x);\n\t\t\t\tquy.push(y+1);\n\t\t\t\tqut.push(t+1);\n\t\t\t}\n\t\t}\n\t}\n}\nsigned main()\n{\n\tint t;\n\tcin>>n>>m>>t;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tchar ch[200];\n\t\tscanf(\"%s\",ch+1);\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tmaps[i][j]=ch[j]=='*';\n\t\t}\n\t}\n\tint r1,c1,r2,c2;\n\tcin>>r1>>c1>>r2>>c2;\n\tint key=7;\n\tif(t<=key)\n\t{\n\t\tbfs(r1,c1,0,t);\n\t\tcout<<tx[0][t][r2][c2];\n\t}\n\telse\n\t{\n\t\tbfs(r1,c1,0,key);\n\t\tbfs(r2,c2,1,t-key);\n\t\tint ans=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tfor(int j=1;j<=m;j++)\n\t\t\t{\n\t\t\t\tans+=tx[0][key][i][j]*tx[1][t-key][i][j];\n\t\t\t}\n\t\t}\n\t\tcout<<ans;\n\t}\n}\n```\n",
        "postTime": 1589619883,
        "uid": 53854,
        "name": "Outlow\u2122",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010[USACO08MAR]Cow Travelling S\u3011"
    },
    {
        "content": "\u9996\u5148\u6211\u4eec\u4f1a\u53d1\u73b0\u4e00\u4ef6\u4e8b\uff1a\n\n\u67d0\u70b9\u5728t\u79d2\u65f6\u80fd\u5230\u8fbe\u7684\u65b9\u6cd5\u7b49\u4e8e\u4e0a\u4e00\u79d2\u80fd\u5230\u8fbe\u5176\u5468\u56f4\u56db\u4e2a\u65b9\u5411\u65b9\u6cd5\u7684\u548c\u3002\n\n\u5982\u679c\u7528ways[x][y]\u6570\u7ec4\u8868\u793a\u5728t\u79d2\u5185\u80fd\u8fbe\u5230\u7684\u65b9\u6cd5\u6570\uff0c\u90a3\u4e48\u53ef\u4ee5\u5f97\u5230\uff1a\n\nways[x][y] = ways[x - 1][y] + ways[x + 1][y] + ways[x][y - 1] + ways[x][y + 1]\u3002\n\n\u4e3e\u4e2a\u6817\u5b50\u5427\uff0c\u4e00\u4e2a5 * 5\u6ca1\u6709\u969c\u788d\u7684\u5730\u56fe\uff0c\u5976\u725b\u5728\u4e2d\u95f4\uff0c\u6211\u4eec\u66b4\u529b\u4e0b\n\n0 0 0 0 0\n\n0 0 1 0 0\n\n0 1 0 1 0\n\n0 0 1 0 0\n\n0 0 0 0 0\n\n\u8fd9\u662f\u7b2c\u4e00\u79d2\u7684\u60c5\u51b5\u3002\n\n0 0 1 0 0\n\n0 2 0 2 0\n\n1 0 4 0 1\n\n0 2 0 2 0\n\n0 0 1 0 0\n\n\u8fd9\u662f\u7b2c\u4e8c\u79d2\uff0c\u53ef\u80fd\u8fd8\u6709\u4e9b\u4eba\u6ca1\u770b\u51fa\u4ec0\u4e48\uff0c\u6211\u4eec\u518d\u6765\u7b2c\u4e09\u79d2\n\n0 3 0 3 0\n\n3 0 9 0 3\n\n0 9 0 9 0\n\n3 0 9 0 3\n\n0 3 0 3 0\n\n\u603b\u7ed3\u4e00\u4e0b\uff01\uff01\uff01\n\n\u5982\u679c\u6211\u4eec\u80fd\u5728\u7b2ct\u79d2\u65f6\u6709\u65b9\u6cd5\u5230\u8fbe\u8fd9\u4e00\u4e2a\u70b9\uff0c\u90a3\u4e48\u5728t + 1\u79d2\u65f6\u5c31\u4e00\u70b9\u6ca1\u6709\u65b9\u6cd5\u5230\u8fbe\u8fd9\u4e00\u4e2a\u70b9\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u63a8\u5bfc\u51fa\uff1a\u5982\u679c\u5728\u8be5\u79d2\u5185\u80fd\u5230\u8fbe\u8fd9\u4e2a\u70b9\u7684\u65b9\u6cd5\u5927\u4e8e\u96f6\uff0c\u90a3\u4e48\u5b83\u5468\u56f4\u7684\u56db\u4e2a\u70b9\u5728\u8be5\u79d2\u5185\u65e0\u6cd5\u5230\u8fbe\u3002\uff08\u4e0d\u4fe1\u53ef\u4ee5\u81ea\u5df1\u624b\u63a8\uff09\n\n\u90a3\u4e48\u7531\u6b64\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\uff0c\u82e5\u8981\u77e5\u6653\u67d0\u4e00\u4e2a\u65f6\u95f4\u5185\u67d0\u4e00\u5730\u70b9\u7684\u65b9\u6cd5\u6570\uff0c\u53ea\u8981\u77e5\u9053\u4e0a\u4e00\u79d2\u4ed6\u56db\u5468\u7684\u65b9\u6cd5\u6570\uff0c\u518d\u53ea\u8981\u77e5\u6653\u4e0a\u4e0a\u79d2\u5185\u7684\u2026\u2026\u8fd9\u5c31\u662f\u4e00\u4e2a\u9012\u5f52\u7684\u8fc7\u7a0b\u3002\n\n\u4f46\u662f\u6211\u4eec\u5728\u4ee3\u7801\u4e2d\u8981\u5b9e\u73b0\u7684\u662f\u9012\u63a8\uff0c\u4ece\u4e00\u5f00\u59cb\u5efa\u7acb\u4e00\u4e2a\u521d\u59cb\u5316\u7684\u5730\u56fe\uff0c\u7136\u540e\u5c06\u7b2c\u4e00\u4e2a\u70b9\u63a8\u5165\u961f\u5217\uff0c\u63a8\u51fa\u5b83\u5468\u56f4\u56db\u4e2a\u70b9\u7684\u65b9\u5f0f\u6570\uff0c\u5e76\u5c06\u8fd9\u56db\u4e2a\u70b9\u63a8\u5165\u961f\u5217\uff0c\u518d\u4e00\u4e2a\u4e2a\u626b\u63cf\u8fd9\u56db\u4e2a\u70b9\uff0c\u5c06\u8fd9\u56db\u4e2a\u70b9\u5468\u56f4\u7684\u70b9\u63a8\u5165\u2026\u2026\n\n\u63a5\u4e0b\u6765\u662f\u4ee3\u7801\u5b9e\u73b0\u3002\n\n\u9996\u5148\u6211\u4eec\u8003\u8651\u5229\u7528\u961f\u5217\u8fdb\u884c\u5bbd\u641c\n\n\u5efa\u7acb\u4e00\u4e2a\u7ed3\u6784\u4f53\n\n    struct node\n    {\n\t    int x;//\u8868\u793a\u6a2a\u5750\u6807    \n    \tint y;//\u8868\u793a\u7eb5\u5750\u6807\n    \tint s;//\u82e5s\u4e3a0,\u5219\u53ef\u4ee5\u8d70 \n    \tint step;//\u8868\u793a\u8fd9\u662f\u7b2c\u51e0\u79d2\n        int ways;//\u8868\u793a\u5230\u8fbe\u8fd9\u4e2a\u70b9\u65f6\u7684\u65b9\u6cd5\t\n    }p[105][105];\n\n\u6709\u4eba\u53ef\u80fd\u770b\u5f97\u6bd4\u8f83\u8ff7\uff0c\u6ca1\u5173\u7cfb\u6211\u4eec\u6162\u6162\u6765\u3002\n\n\u8981\u8fdb\u884c\u63a8\u5bfc\uff0c\u9996\u5148\u8981\u521d\u59cb\u5316\uff08\u8f93\u5165\u5c31\u7701\u7565\u4e0d\u8bb2\u4e86\uff0c\u8be6\u89c1\u4ee3\u7801\uff09\u3002\n\n\n    for(int i = 1;i <= n;i++)\n\t{\n\t\tfor(int j = 1;j <= m;j++)\n\t\t{\n\t\t\tcin>>c;\n\t\t\tif(c == '.') p[i][j].s = 0;//\u53ef\u4ee5\u8d70\n\t\t\tif(c == '*') p[i][j].s = 1;//\u4e0d\u80fd\u8d70\n\t\t\tp[i][j].x = i;//\u6a2a\u5750\u6807\n\t\t\tp[i][j].y = j;//\u7eb5\u5750\u6807\n\t\t\tp[i][j].step = -1;//\u521d\u59cb\u5316\n\t\t\tp[i][j].ways = 0;//\u6ca1\u6709\u8bb0\u5f55\n\t\t}\n\t}\n    p[r1][c1].step = 0;\n\tif(r1 + 1 <= n and p[r1 + 1][c1].s == 0)\n\t{\n\t\tp[r1 + 1][c1].ways = 1;\n\t\t\n\t}\n\tif(r1 - 1 > 0 and p[r1 - 1][c1].s == 0)\n\t{\n\t\tp[r1 - 1][c1].ways = 1;\n\t}\n\tif(c1 - 1 > 0 and p[r1][c1 - 1].s == 0)\n\t{\n\t\tp[r1][c1 - 1].ways = 1; \n\t}\n\tif(c1 + 1 <= m and p[r1][c1 + 1].s == 0)\n\t{\n\t\tp[r1][c1 + 1].ways = 1;\n\t}\n    \n\u4f5c\u56fe\u7684\u8bdd\u5c31\u662f\n\n0 1 0\n\n1 0 1\n\n0 1 0\n\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4e00\u4ef6\u4e8b\uff0c\u5728\u8fd9\u91cc\u6211\u662f\u76f4\u63a5\u8bb0\u5f55\u4e861\uff0c\u800c\u6ca1\u6709\u5c06\u65f6\u95f4\u52a0\u4e00\uff0c\u4e3a\u4ec0\u4e48\u5462\uff1f\u5f88\u7b80\u5355\u3002\n\n\u9996\u5148\u6211\u4eec\u5efa\u7acb\u4e00\u4e2a\u961f\u5217\uff0c\u5e76\u63a8\u5165\u7b2c\u4e00\u4e2a\u5143\u7d20\n\n    queue<node>kk;\n    kk.push(p[r1][c1]);\n    \n\u5f53\u8fdb\u884c\u5bbd\u641c\u65f6\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u7684\u5143\u7d20\u5b83\u7684\u539f\u672c\u8d4b\u503c\u662f0\uff0c\u6240\u4ee5\u5411\u56db\u5468\u589e\u52a0\u65f6\u4e0d\u4f1a\u505a\u51fa\u4efb\u4f55\u6539\u53d8\u3002\n\n\u63a5\u4e0b\u6765\u8fdb\u884c\u5bbd\u641c\uff08\u6211\u7684\u4ee3\u7801\u5f88\u957f\uff0c\u4e0d\u60f3\u770b\u5c31\u76f4\u63a5\u8df3\u5230\u4e0b\u9762\u7684\u8bb2\u89e3\uff09\n\n    while(!kk.empty())\n\t{\n\t\tnode tmp = kk.front();\n\t\tkk.pop();\n\t\tif(tmp.step >= t)break;\n\t//\tcout<<tmp.x<<\" \"<<tmp.y<<endl;\n\t\tif(tmp.x - 1 > 0 and p[tmp.x - 1][tmp.y].s == 0)\n\t\t{\n\t\t\tways[tmp.x - 1][tmp.y] += ways[tmp.x][tmp.y];\n\t\t}\n\t\tif(tmp.x + 1 <= n and p[tmp.x + 1][tmp.y].s == 0)\n\t\t{\n\t\t\tways[tmp.x + 1][tmp.y] += ways[tmp.x][tmp.y];\n\t\t\t\n\t\t}\n\t\tif(tmp.y - 1 >= 0 and p[tmp.x][tmp.y - 1].s == 0)\n\t\t{\n\t\t\tways[tmp.x][tmp.y - 1] += ways[tmp.x][tmp.y];\n\t\t}\n\t\tif(tmp.y + 1 <= m and p[tmp.x][tmp.y + 1].s == 0)\n\t\t{\n\t\t\tways[tmp.x][tmp.y + 1] += ways[tmp.x][tmp.y];\n\t\t}\n\t\tif(inq[tmp.x - 1][tmp.y] == false and tmp.x - 1 > 0 and p[tmp.x - 1][tmp.y].s == 0)\n\t\t{\n\t\t\tp[tmp.x - 1][tmp.y].step = tmp.step + 1;\n\t\t\tkk.push(p[tmp.x - 1][tmp.y]);\n\t\t\tinq[tmp.x - 1][tmp.y] = true;\n\t\t}\n\t\tif(inq[tmp.x + 1][tmp.y] == false and tmp.x + 1 <= n and p[tmp.x + 1][tmp.y].s == 0)\n\t\t{\n\t\t\tp[tmp.x + 1][tmp.y].step = tmp.step + 1;\n\t\t\tkk.push(p[tmp.x + 1][tmp.y]);\n\t\t\tinq[tmp.x + 1][tmp.y] = true;\n\t\t}\n\t\tif(inq[tmp.x][tmp.y - 1] == false and tmp.y - 1 > 0 and p[tmp.x][tmp.y - 1].s == 0)\n\t\t{\n\t\t\tp[tmp.x][tmp.y - 1].step = tmp.step + 1;\n\t\t\tkk.push(p[tmp.x][tmp.y - 1]);\n\t\t\tinq[tmp.x][tmp.y - 1] = true;\n\t\t}\n\t\tif(inq[tmp.x][tmp.y + 1] == false and tmp.y + 1 <= m and p[tmp.x][tmp.y + 1].s == 0)\n\t\t{\n\t\t\tp[tmp.x][tmp.y + 1].step = tmp.step + 1;\n\t\t\tkk.push(p[tmp.x][tmp.y + 1]);\n\t\t\tinq[tmp.x][tmp.y + 1] = true;\n\t\t}\n\t\tways[tmp.x][tmp.y] = 0;\n\t\tinq[tmp.x][tmp.y] = false;\n\t\t/*\n\t\tfor(int i = 1;i <= n;i++)\n     \t{\n\t    \tfor(int j = 1;j <= m;j++)\n\t    \t{\n\t    \t\tcout<<ways[i][j]<<\" \";\n\t    \t}\n\t    \tcout<<endl;\n    \t}\n    \tcout<<endl;*/\n\t}\n \u9996\u5148\uff0c\u53d6\u51fa\u961f\u9996\uff0c\u63a8\u51fa\uff08\u8fd9\u4e9b\u57fa\u672c\u64cd\u4f5c\u5c31\u4e0d\u8bb2\u4e86\uff09\u2026\u2026\n \n \u6211\u4eec\u53ef\u4ee5\u770b\u5230\u6bcf\u4e00\u79d2\u949f\u4e2d\u6240\u7528\u9700\u8981\u64cd\u4f5c\u7684\u5730\u65b9\n \n \u6709\u4eba\u4f1a\u53d1\u73b0\u4e00\u4e9b\u5947\u602a\u7684\u4e8b\u60c5\uff1a\n \n 1\u3001\u6709\u4e00\u4e2ainq\u6570\u7ec4\u4e0d\u77e5\u9053\u5e72\u4ec0\u4e48\u7528\n \n 2\u3001\u539f\u672c\u5728\u7ed3\u6784\u4f53\u91cc\u7684ways\u6570\u7ec4\u5916\u653e\u4e86\u3002\n \n \u5982\u679c\u76f4\u63a5\u66b4\u529b\u4f1a\u53d1\u73b0\u67d0\u4e00\u4e2a\u70b9\u4f1a\u88ab\u91cd\u590d\u63a8\u5165\u961f\u5217\uff0c\u52a0\u5927\u4e86\u7a7a\u95f4\u91cf\uff0c\u5bb9\u6613\u62a5\u9519\u4e14\u5f97\u4e0d\u507f\u5931\u3002\n \n \u6240\u4ee5\u6211\u4eec\u5efa\u7acb\u4e00\u4e2a\u6570\u7ec4\uff0c\u5982\u679c\u8fd9\u4e2a\u70b9\u5728\u961f\u5217\u91cc\u9762\uff0c\u6211\u4eec\u5c31\u4e0d\u63a8\u5165\u3002\n \n \u4f46\u662f\uff0c\u5373\u4f7f\u4e0d\u63a8\u5165\u961f\u5217\uff0c\u8be5\u6709\u7684\u64cd\u4f5c\u8fd8\u662f\u8981\u6709\u7684\uff0c\u5c31\u662f\u8981\u5148\u8ba9\u5b83\u7684\u503c\u52a0\u5230\u5468\u56f4\uff0c\u518d\u8fdb\u884c\u63a8\u5165\u961f\u5217\u7684\u5224\u65ad\uff0c\u6700\u540e\u6e05\u96f6\u5e76\u6e05\u9664inq\u6570\u7ec4\u7684\u6807\u8bb0\u3002\n \n \u81f3\u4e8eways\u6570\u7ec4\u4e3a\u4ec0\u4e48\u8981\u5916\u653e\uff0c\u56e0\u4e3a\u5982\u679c\u8fd9\u4e2a\u6570\u7ec4\u5728\u7ed3\u6784\u4f53\u91cc\u9762\uff0c\u90a3\u4e48\u6211\u4eec\u5f88\u96be\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\uff08\u56e0\u4e3a\u63a8\u5165\u961f\u5217\u540e\u961f\u5217\u4e2d\u7684ways\u662f\u56fa\u5b9a\u7684\uff0c\u54ea\u6015\u540e\u9762\u518d\u505a\u51fa\u4fee\u6539\u4e5f\u4e0d\u4f1a\u5f71\u54cd\u5230\u961f\u5217\u4e2d\u7684\u503c\uff0c\u5c31\u4f1a\u51fa\u9519\uff0c\u4e0d\u4fe1\u81ea\u5df1\u53bb\u5c1d\u8bd5\uff09\n \n \u5f53\u7136\uff0c\u5982\u679c\u4f60\u8db3\u591fdalao\uff0c\u7528\u624b\u5199\u961f\u5217\u7684\u8bdd\uff0c\u6807\u8bb0\u4e0b\u4f4d\u7f6e\uff0cways\u5c31\u4e0d\u7528\u5916\u653e\u4e86\uff08\u4e0d\u4f1a\u7684\u5c31\u5f53\u505a\u6ca1\u770b\u5230\uff09\n \n \u6700\u540e\u5c31\u662f\u8fd9\u4e2a\u5f88\u8ff7\u7684step\u4e86\u3002\n \n \u6211\u4eec\u4f1a\u795e\u5947\u5730\u53d1\u73b0\u6bcf\u4e00\u79d2\u4e2d\u8981\u64cd\u4f5c\u7684\u70b9\u5728\u961f\u5217\u4e2d\u90fd\u662f\u805a\u5728\u4e00\u8d77\u7684\uff0c\u6240\u4ee5\u5229\u7528\u63a8\u5165\u65f6 p[tmp.x - 1][tmp.y].step = tmp.step + 1 \u7684\u5199\u6cd5\uff0c\u5c31\u53ef\u4ee5\u63a7\u5236\u4e86\u3002\n \n\u6b63\u56e0\u4e3a\u8fd9\u6837\uff0c\u5f53\u9047\u5230step\u548c\u4e0a\u4e00\u4e2a\u63a8\u51fa\u7684\u961f\u9996\u7684step\u4e0d\u540c\u65f6\uff0c\u8bf4\u660e\u4f60\u5df2\u7ecf\u505a\u5b8c\u4e86\u4e0a\u4e00\u79d2\u7684\u64cd\u4f5c\uff0c\u5f00\u59cb\u4e86\u4e0b\u4e00\u79d2\u3002\n\n\u7559\u610f\u4e00\u70b9\uff0c\u56e0\u4e3a\u6211\u4eec\u521d\u59cb\u5316\u7684\u65f6\u5019\u5c06step\u521d\u59cb\u5316\u4e3a-1\uff0c\u6240\u4ee5\u5224\u65ad\u65f6\u662f\u7528 step >= t \u800c\u4e0d\u662f step > t\u3002\n\n\u8fd9\u6837\u5c31\u5dee\u4e0d\u591a\u4e86\u3002\n\n\u4e0b\u9644AC\u4ee3\u7801\n\n    #include<iostream>\n    #include<queue>\n    #include<cmath>\n    #include<cstring>\n    #include<algorithm>\n    using namespace std;\n    int n, m, t;\n    char c;\n    int r1, c1, r2, c2; \n    bool inq[105][105];\n    int ways[105][105];//\u8868\u793a\u6709\u51e0\u79cd\u8d70\u6cd5 \n\n    struct node\n    {\n\tint x;\n\tint y;\n\tint s;//\u82e5s\u4e3a0,\u5219\u53ef\u4ee5\u8d70 \n\tint step;//\u8868\u793a\u8fd9\u662f\u7b2c\u51e0\u79d2\n\t\n    }p[105][105];\n\n    queue<node>kk;\n\t\n    void bfs()\n    {\n\twhile(!kk.empty())\n\t{\n\t\tnode tmp = kk.front();\n\t\tkk.pop();\n\t\tinq[tmp.x][tmp.y] = false;\n\t\tif(tmp.step >= t)break;\n\t//\tcout<<tmp.x<<\" \"<<tmp.y<<endl;\n\t\tif(tmp.x - 1 > 0 and p[tmp.x - 1][tmp.y].s == 0)\n\t\t{\n\t\t\tways[tmp.x - 1][tmp.y] += ways[tmp.x][tmp.y];\n\t\t}\n\t\tif(tmp.x + 1 <= n and p[tmp.x + 1][tmp.y].s == 0)\n\t\t{\n\t\t\tways[tmp.x + 1][tmp.y] += ways[tmp.x][tmp.y];\n\t\t\t\n\t\t}\n\t\tif(tmp.y - 1 >= 0 and p[tmp.x][tmp.y - 1].s == 0)\n\t\t{\n\t\t\tways[tmp.x][tmp.y - 1] += ways[tmp.x][tmp.y];\n\t\t}\n\t\tif(tmp.y + 1 <= m and p[tmp.x][tmp.y + 1].s == 0)\n\t\t{\n\t\t\tways[tmp.x][tmp.y + 1] += ways[tmp.x][tmp.y];\n\t\t}\n\t\tif(inq[tmp.x - 1][tmp.y] == false and tmp.x - 1 > 0 and p[tmp.x - 1][tmp.y].s == 0)\n\t\t{\n\t\t\tp[tmp.x - 1][tmp.y].step = tmp.step + 1;\n\t\t\tkk.push(p[tmp.x - 1][tmp.y]);\n\t\t\tinq[tmp.x - 1][tmp.y] = true;\n\t\t}\n\t\tif(inq[tmp.x + 1][tmp.y] == false and tmp.x + 1 <= n and p[tmp.x + 1][tmp.y].s == 0)\n\t\t{\n\t\t\tp[tmp.x + 1][tmp.y].step = tmp.step + 1;\n\t\t\tkk.push(p[tmp.x + 1][tmp.y]);\n\t\t\tinq[tmp.x + 1][tmp.y] = true;\n\t\t}\n\t\tif(inq[tmp.x][tmp.y - 1] == false and tmp.y - 1 > 0 and p[tmp.x][tmp.y - 1].s == 0)\n\t\t{\n\t\t\tp[tmp.x][tmp.y - 1].step = tmp.step + 1;\n\t\t\tkk.push(p[tmp.x][tmp.y - 1]);\n\t\t\tinq[tmp.x][tmp.y - 1] = true;\n\t\t}\n\t\tif(inq[tmp.x][tmp.y + 1] == false and tmp.y + 1 <= m and p[tmp.x][tmp.y + 1].s == 0)\n\t\t{\n\t\t\tp[tmp.x][tmp.y + 1].step = tmp.step + 1;\n\t\t\tkk.push(p[tmp.x][tmp.y + 1]);\n\t\t\tinq[tmp.x][tmp.y + 1] = true;\n\t\t}\n\t\tways[tmp.x][tmp.y] = 0;\n\t\tinq[tmp.x][tmp.y] = false;\n\t\t/*\n\t\tfor(int i = 1;i <= n;i++)\n     \t{\n\t    \tfor(int j = 1;j <= m;j++)\n\t    \t{\n\t    \t\tcout<<ways[i][j]<<\" \";\n\t    \t}\n\t    \tcout<<endl;\n    \t}\n    \tcout<<endl;*/\n\t}\n}\n\n    int main()\n    {\n\tcin>>n>>m>>t;\n\tmemset(inq, false, sizeof(inq));\n\tfor(int i = 1;i <= n;i++)\n\t{\n\t\tfor(int j = 1;j <= m;j++)\n\t\t{\n\t\t\tcin>>c;\n\t\t\tif(c == '.') p[i][j].s = 0;\n\t\t\tif(c == '*') p[i][j].s = 1;\n\t\t\tp[i][j].x = i;\n\t\t\tp[i][j].y = j;\n\t\t\tp[i][j].step = -1;\n\t\t\tways[i][j] = 0;\n\t\t}\n\t}\n\tcin>>r1>>c1>>r2>>c2;\n\t/*\n\tif(t == 0) cout<<0;\n\tif(t == 1)\n\t{\n\t\tif(abs(r1 - r2) + abs(c1 - c2) == 1) cout<<1;\n\t\telse cout<<0;\n\t}*/\n\tp[r1][c1].step = 0;\n\tif(r1 + 1 <= n and p[r1 + 1][c1].s == 0)\n\t{\n\t\tways[r1 + 1][c1] = 1;\n\t\t\n\t}\n\tif(r1 - 1 > 0 and p[r1 - 1][c1].s == 0)\n\t{\n\t\tways[r1 - 1][c1] = 1;\n\t}\n\tif(c1 - 1 > 0 and p[r1][c1 - 1].s == 0)\n\t{\n\t\tways[r1][c1 - 1] = 1; \n\t}\n\tif(c1 + 1 <= m and p[r1][c1 + 1].s == 0)\n\t{\n\t\tways[r1][c1 + 1] = 1;\n\t}\n\tkk.push(p[r1][c1]);\n\tinq[r1][c1] = true;\n\tbfs();\n\t\n\tcout<<ways[r2][c2];\n\treturn ~~\uff080-0\uff09;//\u5f88\u76ae\u7684\u64cd\u4f5c\uff0c\u4e24\u4e2a\u53d6\u53cd\uff0c\u62ec\u53f7\u5185\u96f6\u51cf\u96f6\n} \n \n \n ",
        "postTime": 1547015069,
        "uid": 99385,
        "name": "\u70bd\u51e4\u7fbd\u62db",
        "ccfLevel": 4,
        "title": "\u5bbd\u641c\u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9053\u9898\u7528dfs\u505a\u53ef\u4ee5\u8fc7\uff0c\u4f46\u662f\u5751\u5f88\u591a\u3002\u3002\u3002\n\n1.\u5fc5\u987b\u6070\u597d\u7b49\u4e8e\u65f6\u95f4\n\n2.\u8fd9\u9898\u53ef\u4ee5\u8d70\u91cd\u590d\u8def\u5f84\uff08\u610f\u8bc6\u5230\u8fd9\u4e2a\u4f60\u5df2\u7ecf\u5f88\u5f3a\u5566\uff09\n\n3.\u4f46\u662f\u6027\u80fd\u5f88\u6162\n\n\u6240\u4ee5\uff0c\u6211\u4f18\u5316\u5566\uff01\uff01\uff01\n\n\u5047\u8bbe\u4e0b\u56fe\u4e2d1\u4e3a\u969c\u788d\uff0c0\u4e3a\u53ef\u8d70\u8def\uff0cp\u4e3a\u5f53\u524d\u70b9\n\nb 0 0 0 0\n\n1 1 0 1 1\n\n0 0 p 0 0\n\n0 0 1 0 e\n\n\u6211\u4eec\u77e5\u9053\uff0cp\u70b9\u5230e\u70b9\u7684\u6700\u77ed\u8ddd\u79bb\uff08\u5ffd\u7565\u969c\u788d\uff09\u4e3aabs(px-ex)+abs(py-ey)\n\n\u6240\u4ee5\u5982\u679c\u6b64\u8def\u5f84\u90fd\u4e0d\u80fd\u518d\u89c4\u5b9a\u65f6\u95f4\u5185\u5230\u8fbe\uff0c\u5c31\u4e0d\u7528\u8d70\u5566\uff01\uff01\uff01\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,s;\nint a[105][105];\nint xf[10],yf[10];\nint ans=0;\nint d[4][2]= {{-1,0},{1,0},{0,-1},{0,1}};//\u4e07\u6076\u7684\u65b9\u5411\u77e2\u91cf\nvoid dfs(int x,int y,int bs)\n{\n\tif(bs>s)//\u5982\u679c\u4e0d\u662f\u5927\u4e8e\u89c4\u5b9a\u65f6\u95f4\u4e86\uff0c\u76f4\u63a5\u8fd4\u56de\n\t{\n\t\treturn;\n\t}\n\tif(bs+(abs(x-xf[2])+abs(y-yf[2]))>s)//\u8fd9\u91cc\u6ce8\u610f\u4e86\uff0c\u662f\u5173\u952e\u4f18\u5316\u70b9\n\t{\n\t\treturn;\n\t}\n\tif(x==xf[2]&&y==yf[2]&&bs==s)//\u82e5\u6ee1\u8db3\u6761\u4ef6\n\t{\n\t\tans++;\n\t\treturn;\n\t}\n\tfor(int i=0; i<4; i++)\n\t{\n\t\tint xx=x+d[i][0];\n\t\tint yy=y+d[i][1];\n\t\tif(a[xx][yy]==1)//\u4e0d\u8981\u5199\u6807\u8bb0\uff01\uff01\uff01\n\t\t{\n\t\t\tdfs(xx,yy,bs+1);\n\t\t}\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d%d\",&n,&m,&s);\n\tfor(int i=1; i<=n; i++)\n\t{\n\t\tfor(int j=1; j<=m; j++)\n\t\t{\n\t\t\tchar c;\n\t\t\tcin>>c;\n\t\t\ta[i][j]=(c=='.'?1:0);//\u8fd9\u91cc\u6211\u975e\u5e38\u65b9\u4fbf\u7684\u4e0d\u8981\u5199\u51fa\u754c\u51fd\u6570\n\t\t}\n\t}\n\tscanf(\"%d%d%d%d\",&xf[1],&yf[1],&xf[2],&yf[2]);\n\tdfs(xf[1],yf[1],0);\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n\nAC\u5566\uff01\uff01\uff01",
        "postTime": 1538923304,
        "uid": 89766,
        "name": "Mr_\u5b8f\u4f1f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "\u8868\u793a\u5e76\u4e0d\u4f1a\u4ec0\u4e48\u8bb0\u5fc6\u5316\u641c\u7d22\n\n~~\uff08\u4e3b\u8981\u662f\u672c\u849f\u84bb\u4e0d\u559c\u6b22\u4e09\u7ef4\u6570\u7ec4\uff09~~\n\n\u4e8e\u662f\u6211\u575a\u4fe1\uff0cdfs\u4e00\u5b9a\u80fd\u8fc7\uff0c\u7136\u800c\u5355\u7eaf\u7684dfs\u4e00\u5b9a\u8fc7\u4e0d\u4e86\uff08\u6570\u636e\u90a3\u4e48\u574f\uff09\n\n\u597d\u5427\uff0c\u90a3\u5c31\u53ea\u6709\u526a\u679d\u4e86\u3002\u3002\u3002\u4ee3\u7801\u5e94\u8be5\u5f88\u597d\u61c2\n\n    #include<cstdio>\n    #include<cstring>\n    #include<iostream>\n    #include<algorithm>\n    using namespace std;\n    int n,m,s,ans;\n    int sx,sy,tx,ty;\n    int map[200][200];\n    int dx[4]={1,-1,0,0},dy[4]={0,0,1,-1};//\u56db\u4e2a\u65b9\u5411\n    void dfs(int x,int y,int tot)\n    {\n        if(tot>s) return;//\u65f6\u95f4\u8d85\u8fc7\u4e86\uff0c\u6ca1\u7528\n        if(x<1||x>n||y<1||y>m||map[x][y]) return;//\u8d8a\u754c\u4e86\uff0c\u8d70\u8fc7\u4e86\uff0c\u6ca1\u7528\n        if(abs(x-tx)+abs(y-ty)>s-tot) return;//\u8ddd\u79bb\u592a\u8fc7\u9065\u8fdc\uff0c\u80af\u5b9a\u662f\u8d70\u4e0d\u5230\u4e86\uff0c\u4e5f\u6ca1\u7528\n        if(x==tx && y==ty && s==tot)//\u5230\u5730\u70b9\u4e86\uff0c\u65f6\u95f4\u4e5f\u521a\u521a\u597d\n\t    {\n            ans++;//\u8def\u5f84\u603b\u6570\u52a01\n            return;\n        }\n        dfs(x+1,y,tot+1);\n        dfs(x-1,y,tot+1);\n        dfs(x,y+1,tot+1);\n        dfs(x,y-1,tot+1);//\u56db\u4e2a\u65b9\u5411\u7ee7\u7eed\u6e38\u8361\u5427\n    }\n    int main()\n    {\n        scanf(\"%d%d%d\",&n,&m,&s);\n        for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n\t    {\n            char ss;\n\t\t    cin>>ss;\n            if(ss=='.')//\u6807\u8bb0\u6709\u969c\u788d\u7684\u5730\u65b9\n\t    \tmap[i][j]=0;\n            else\n\t    \tmap[i][j]=1;\n        }\n        scanf(\"%d%d%d%d\",&sx,&sy,&tx,&ty);\n        dfs(sx,sy,0);\n        cout<<ans;//\u8f93\u51fa\n        return 0;//\u8fd9\u662f\u4e2a\u597d\u4e60\u60ef\n    }\n\n",
        "postTime": 1532830471,
        "uid": 44799,
        "name": "\u6e05\u98ce\u9701\u6708",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "\u5514\u8fd9\u9053\u9898\u4e0d\u60f3\u8bf4\u4ec0\u4e48\u4e86\uff0c\u633a\u6c34\u7684\uff0c\u4e0d\u8fc7\uff0c\u90e8\u5206\u5206\u505a\u6cd5\u4e5f\u8bb2\u4e00\u4e0b\n\n** \u90fd\u662fdfs\u7684\uff0c\u8fd9\u4e2a\u6700\u5bb9\u6613\u60f3**\n\n# 40\u5206\u505a\u6cd5\n\n\u7206\u641c\uff0c\u53ea\u8981\u6ce8\u610f\u5224\u8fb9\u754c\u548c\u4f1a\u4e0d\u4f1a\u649e\u5230\u6811\u5c31\u597d\u4e86\n\n```cpp\nvoid dfs(int x,int y,int now){\n    if(x<1||x>n||y<1||y>m||now>T)return;\n    if(now==T&&x==xx&&y==yy){ans++;return;}\n    for(int i=0;i<=3;i++)\n        if(a[x+dx[i]][y+dy[i]])\n            dfs(x+dx[i],y+dy[i],now+1);\n}\n```\n\n# 90\u5206\u505a\u6cd5\n\n\u52a0\u4e00\u4e2a\u5c0f\u5c0f\u7684\u526a\u679d\uff0c\u5982\u679c\u5f53\u524d\u70b9\u8ddd\u79bb\u76ee\u6807\u70b9\u7684\u66fc\u54c8\u987f\u8ddd\u79bb\u6bd4\u5269\u4e0b\u7684\u6b65\u6570\u8fd8\u5927\uff0c\u5c31\u80af\u5b9a\u5230\u4e0d\u4e86\uff0c\u6240\u4ee5\u5c31\u76f4\u63a5return\u6389\n\n\u5373\u5982\u679c $ abs(x-xx)+abs(y-yy)>T-now $ \u90a3\u5c31return\n\n\u8fd9\u6837\u5c31\u80fd90\n\n```cpp\nvoid dfs(int x,int y,int now){\n    if(abs(x-xx)+abs(y-yy)>T-now)return;\n    if(x<1||x>n||y<1||y>m||now>T)return;\n    if(now==T&&x==xx&&y==yy){ans++;return;}\n    for(int i=0;i<=3;i++)\n        if(a[x+dx[i]][y+dy[i]])\n            dfs(x+dx[i],y+dy[i],now+1);\n}\n```\n\n# 100\u5206\u505a\u6cd5\n\n90\u5206\u505a\u6cd5\u5f00\u4e00\u4e0bO2\u5c31\u597d\n\n### Code\uff1a\n\n```\n#include <cstdio>\nusing namespace std;\nint n,m,T,X,Y,xx,yy,ans=0;\nint a[110][110];\nconst int dx[4]={0,0,1,-1};\nconst int dy[4]={1,-1,0,0};\nint abs(int x){return x>=0?x:-x;}\nvoid dfs(int x,int y,int now){\n\tif(abs(x-xx)+abs(y-yy)>T-now)return;\n\tif(x<1||x>n||y<1||y>m||now>T)return;\n\tif(now==T&&x==xx&&y==yy){ans++;return;}\n\tfor(int i=0;i<=3;i++)\n\t\tif(a[x+dx[i]][y+dy[i]])\n\t\t\tdfs(x+dx[i],y+dy[i],now+1);\n}\nint main(){\n\tscanf(\"%d%d%d\",&n,&m,&T);\n\tfor(int i=1;i<=n;i++){\n\t\tchar s[110];\n\t\tscanf(\"%s\",s+1);\n\t\tfor(int j=1;j<=m;j++){\n\t\t\ta[i][j]=(s[j]=='.'?1:0);\n\t\t}\n\t}\n\tscanf(\"%d%d%d%d\",&X,&Y,&xx,&yy);\n\tdfs(X,Y,0);\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1532185609,
        "uid": 36526,
        "name": "henry_y",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u8003\u8bd5\u7684\u65f6\u5019\u76f4\u63a5\u6253dfs\uff0c[\u539f\u5730\u7206\u70b8](https://www.luogu.org/record/show?rid=7145020)\u3002\n\n\u8003\u5b8c\u624d\u60f3\u5230\u6b63\u89e3\u2014\u2014\n\n# dp\n\n\u7528dp[i][j][k]\u8868\u793a\u7528k\u79d2\u8d70\u5230(i,j)\u5904\u7684\u65b9\u6848\u603b\u6570\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\ndp[i][j][k]=dp[i][j-1][k-1]+dp[i][j+1][k-1]+dp[i-1][j][k-1]+dp[i+1][j][k-1];\n\n\u8fb9\u754c\u4e3adp[r1][c1][0]=1;\n\n## \u6ce8\u610f\u8981\u5148\u679a\u4e3ek\u518d\u679a\u4e3ei\u548cj\u3002\n\n## \u8fd8\u6709\u4e00\u4e2a\u5751\u70b9\uff1a\u9898\u76ee\u8bf4\u662f\u5728T\u79d2**\u5185**\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f**\u521a\u597d**T\u79d2\u3002\n\n\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nbool g[101][101];\nunsigned long long dp[102][102][16];\nint main()\n{\n\tint n,m,t,r1,c1,r2,c2;\n\tcin>>n>>m>>t;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tstring s;\n\t\tcin>>s;\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tg[i][j]=(s[j-1]=='.');\n\t}\n\tcin>>r1>>c1>>r2>>c2;\n\tdp[r1][c1][0]=1;\n\tfor(int i=1;i<=t;i++)\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tfor(int k=1;k<=m;k++)\n\t\t\t\tif(!g[j][k])\n\t\t\t\t\tdp[j][k][i]=0;\n\t\t\t\telse\n\t\t\t\t\tdp[j][k][i]=dp[j][k-1][i-1]+dp[j][k+1][i-1]+dp[j-1][k][i-1]+dp[j+1][k][i-1];\n\tcout<<dp[r2][c2][t]<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1525612463,
        "uid": 73645,
        "name": "_ztyqwq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "#### ~~\u5176\u5b9e\u8fd9\u9898\u4e0d\u9700\u8981\u8bb0\u641c~~\n\u672c\u9898\u9898\u610f\u5927\u6982\u5c31\u662f\u95ee\u4f60\u5728T\u65f6\u6709\u591a\u5c11\u6761\u8def\u53ef\u4ee5\u5230r2,c2\n\n\u8fd9\u4e5f\u4e3a\u6211\u4eec\u7684\u641c\u7d22\u63d0\u4f9b\u4e86\u4e00\u4e2a\u56de\u6eaf\u7684\u65f6\u95f4\uff1a\n\n#### \u5982\u679c\u65f6\u95f4\u5927\u4e8eT\u76f4\u63a5\u56de\u6eaf\n\n\u4e8e\u662f\u6211\u4eec\u5199\u4e86\u8fd9\u6837\u4e00\u4e2a\u641c\u7d22\uff1a\n```cpp\nvoid dfs(int x,int y,int t){\n\tif(t==T){\n\t\tif(x==r2&&y==c2) \n\t\tans++; \n\t\treturn ;\n\t}\n\n\tif(a[x+1][y]==1)dfs(x+1,y,t+1);\n\tif(a[x-1][y]==1)dfs(x-1,y,t+1);\n\tif(a[x][y+1]==1)dfs(x,y+1,t+1);\n\tif(a[x][y-1]==1)dfs(x,y-1,t+1);\n}\n```\n\n\u63d0\u4ea4\u4e4b\u540e\u5f97\u4e8680pts,~~\u771f\u4e0d\u6233\u7adf\u7136\u5f97\u4e86\u8fd9\u4e48\u591a\u5206~~\uff0c\u4e8e\u662f\u672c\u849f\u84bb\u5c31\u4e0d\u505c\u7684\u526a\u679d\uff0c\u7ec8\u4e8e\u62ff\u5230\u4e86100\u5206\u3002\n\n\u5176\u5b9e\u8fd8\u662f\u4ece\u65f6\u95f4\u9650\u5236\u5165\u624b\uff0c\u4ed4\u7ec6\u601d\u8003\u540e\u6211\u4eec\u53d1\u73b0\uff1a\n### \u5982\u679c\u5269\u4f59\u7684\u65f6\u95f4\u6bd4\u73b0\u5728\u5904\u70b9\u4e0e\u76ee\u6807\u70b9\u8ddd\u79bb\u8981\u5c11\uff0c\u90a3\u4e48\u5c31\u6ca1\u6709\u5fc5\u8981\u518d\u7ee7\u7eed\u53bb\u4e86\u3002\n\n```cpp\nif(as(x-r2)+as(y-c2)>T-t)\n\nreturn ;\n```\n\u5c31\u662f\u4e0a\u9762\u8fd9\u53e5\n\n\u52a0\u4e86\u5c31ac\u4e86\n\n\u5b8c\u6574\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint n,m,T,a[1004][1004],r1,c1,r2,c2,ans=0;\nchar c;\nint as(int x){\n\tif(x<=0) return -x;\n\telse return x;\n}\nvoid dfs(int x,int y,int t){\n\tif(t==T){\n\t\tif(x==r2&&y==c2) \n\t\tans++; \n\t\treturn ;\n\t}\n\tif(as(x-r2)+as(y-c2)>T-t)\n\treturn ;\n\tif(a[x+1][y]==1)dfs(x+1,y,t+1);\n\tif(a[x-1][y]==1)dfs(x-1,y,t+1);\n\tif(a[x][y+1]==1)dfs(x,y+1,t+1);\n\tif(a[x][y-1]==1)dfs(x,y-1,t+1);\n}\nint main(){\n\tscanf(\"%d%d%d\",&n,&m,&T);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tcin>>c;\n\t\t\tif(c=='.') a[i][j]=1;\n\t\t\telse a[i][j]=0;\n\t\t}\n\t}\n\tscanf(\"%d%d%d%d\",&r1,&c1,&r2,&c2);\n\tdfs(r1,c1,0);\n\tprintf(\"%d\",ans);\n\t\n}\n```\n\u8c22\u8c22\u89c2\u770b\n",
        "postTime": 1605972108,
        "uid": 238419,
        "name": "Phoenix_chaser",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 P1535 \u3010[USACO08MAR]Cow Travelling S\u3011"
    },
    {
        "content": "### dfs\uff1a\n\u5229\u7528 dfs \u904d\u5386\u6765\u8fdb\u884c\u79fb\u52a8\u3002\n```cpp\nvoid dfs(int h,int l,int now){\n\tint i,d[4][2]={1,0,0,1,-1,0,0,-1};\n\tif(now==t+1&&h==r2&&l==c2){sum++;return;}\n\telse if(now==t+1)return;\n\telse{\n\t\tfor(i=0;i<4;i++){\n\t\t\tint x,y;\n\t\t\tx=h+d[i][0];y=l+d[i][1];\n\t\t\tif(x>=1&&x<=n&&y>=1&&y<=m&&a[x][y]=='.'){\n\t\t\t\tdfs(x,y,now+1);\n\t\t\t}\n\t\t}\n\t}\n}\n```\n\n### \u526a\u679d\uff1a\n\u5229\u7528\u52fe\u80a1\u5b9a\u7406\u6c42\u51fa\u5f53\u524d\u70b9\u4e0e\u7ec8\u70b9\u7684\u8ddd\u79bb\u3002\n\n\u8bbe\u5f53\u524d\u70b9\u4e3a s1 \u7ec8\u70b9\u4e3a s2\u3002\n\n\u5219\u6700\u77ed\u76f4\u7ebf\u8ddd\u79bb\u4e3a\uff1a$\\sqrt{|h_{s1}-h_{s2}|^{2}+|l_{s1}-l_{s2}|^{2}}$\u3002\n\n\u8fd9\u4e2a\u8ddd\u79bb\u662f\u5728\u6ca1\u6709\u969c\u788d\u7269\u7684\u60c5\u51b5\u4e0b\u7684\u76f4\u7ebf\u8ddd\u79bb\uff08\u6700\u77ed\u8ddd\u79bb\uff09\uff0c\u5982\u679c\u5269\u4e0b\u7684\u65f6\u95f4\u8fde\u8fd9\u6837\u8d70\u90fd\u4e0d\u591f\uff0c\u90a3\u5c31\u6839\u672c\u6ca1\u5fc5\u8981\u7ee7\u7eed dfs \u4e86\u3002\n\n```cpp\nif(sqrt(abs(r2-x)*abs(r2-x)+abs(c2-y)*abs(c2-y))>t-now+1)continue;\n```\n\u6700\u540e\u5c31\u662f\u5b8c\u6574\u4ee3\u7801\u4e86\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,t;\nchar a[105][105];\nint r1,c1,r2,c2,sum;\nvoid dfs(int h,int l,int now){\n\tint i,d[4][2]={1,0,0,1,-1,0,0,-1};\n\tif(now==t+1&&h==r2&&l==c2){sum++;return;}//\u5982\u679c\u6309\u65f6\u5230\u8fbe\uff0c\u90a3\u4e48\u8def\u5f84\u6570\u52a01\n\telse if(now==t+1){return;}\n\telse{\n\t\tfor(i=0;i<4;i++){\n\t\t\tint x,y;\n\t\t\tx=h+d[i][0];y=l+d[i][1];\n\t\t\tif(sqrt(abs(r2-x)*abs(r2-x)+abs(c2-y)*abs(c2-y))>t-now+1)continue;//\u526a\u679d\n\t\t\tif(x>=1&&x<=n&&y>=1&&y<=m&&a[x][y]=='.'){\n\t\t\t\tdfs(x,y,now+1);//\u7ee7\u7eed\u6df1\u641c\n\t\t\t}\n\t\t}\n\t}\n}\nint main(){\n\tint i,j;\n\tcin>>n>>m>>t;\n\tfor(i=1;i<=n;i++){\n\t\tfor(j=1;j<=m;j++){\n\t\t\tcin>>a[i][j];\n\t\t}\n\t}\n\tcin>>r1>>c1>>r2>>c2;\n\tdfs(r1,c1,1);\n\tcout<<sum;\n\treturn 0;\n}\n```\n",
        "postTime": 1604237847,
        "uid": 219522,
        "name": "Zhou_Wingay",
        "ccfLevel": 0,
        "title": "dfs+\u526a\u679d"
    },
    {
        "content": "\u7ed9\u81ea\u5df1\u770b\u7684\u3002\u5178\u578bBFS\u3002\u5728BFS\u4e2d\uff0c\u4e3a\u4e86\u9632\u6b62\u91cd\u590d\u62d3\u5c55\uff0c\u9700\u8981\u907f\u514d\u628a\u91cd\u590d\u7684\u72b6\u6001\u538b\u5165\u961f\u5217\u3002\u8fd9\u9053\u9898\u7684\u72b6\u6001\u662f\u7531\u5750\u6807+\u65f6\u95f4\u6784\u6210\u7684\u800c\u4e0d\u662f\u7b80\u5355\u7684\u5750\u6807\u3002\u6240\u4ee5\u9700\u8981\u4e09\u7ef4\u3002\u6b64\u9898\u53c8\u8981\u6c42\u6211\u4eec\u6c42\u51fa\u65b9\u6848\u6570\uff0c\u6240\u4ee5\u9047\u5230\u91cd\u590d\u72b6\u6001\u65f6\u76f4\u63a5\n\n$f[xx][yy][step+1]+=f[x][y][step]$ \u3002\n\n\u6709dp\u90a3\u5473\u4e86\u3002\u5982\u679c\u4e0d\u8981\u6c42\u65b9\u6848\u6570\u7684\u8bdd $f[xx][yy][step+1]==1$ \u7684\u8bdd\u76f4\u63a5continue\u3002\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int dx[4]={0,0,1,-1};\nconst int dy[4]={1,-1,0,0};\nint n,m,t,sx,sy,fx,fy;\nchar a[110][110];\nint f[110][110][20];//\u5728k\u65f6\u95f4\u5230\u8fbei,j\u7684\u65b9\u6848\u6570\u3002\u5750\u6807+\u65f6\u95f4\u4f5c\u4e3a\u72b6\u6001\u9632\u6b62\u91cd\u590d\u62d3\u5c55\u3002 \nstruct node{\n\tint x,y,step;\n};\nqueue<node> q;\nvoid bfs(int sx,int sy)\n{\n    q.push((node){sx,sy,0});\n    f[sx][sy][0]=1;\n\twhile(q.size())\n\t{\n\t\tnode u=q.front();\n\t\tq.pop();\n\t\tint x=u.x;\n\t\tint y=u.y;\n\t\tint step=u.step;\n\t\tfor(int i=0;i<4;i++)\n\t\t{\n\t\t\tint xx=x+dx[i];\n\t\t\tint yy=y+dy[i];\n\t\t\tif(xx<1||yy<1||xx>n||yy>m||a[xx][yy]=='*'||step+1>t)\n\t\t\tcontinue;\n\t\t\tif(f[xx][yy][step+1])//\u907f\u514d\u91cd\u590d\u62d3\u5c55\n\t\t\t{\n\t\t\t\tf[xx][yy][step+1]+=f[x][y][step];\n\t\t\t\tcontinue;\n\t\t\t} \n\t\t\tf[xx][yy][step+1]+=f[x][y][step];\n\t\t\tq.push((node){xx,yy,step+1});\n\t\t}\n\t}\t\n}\nint main()\n{\n\tcin>>n>>m>>t;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tcin>>a[i][j];\n\t\t}\n\t}\n\tcin>>sx>>sy>>fx>>fy;\n\tbfs(sx,sy);\n\tcout<<f[fx][fy][t];\n\treturn 0;\n}\n```",
        "postTime": 1603073323,
        "uid": 250699,
        "name": "Herkaii",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1535 \u3010[USACO08MAR]Cow Travelling S\u3011"
    },
    {
        "content": "\u66b4\u641c+\u526a\u679d\n\n\u526a\u679d\uff1a\n\n//1\uff1a\u5982\u679c\u5f53\u524d\u4f4d\u7f6e\u5230\u8fbe\u7ec8\u70b9\u7684\u6700\u77ed\u8ddd\u79bb\u52a0\u4e0a\u5df2\u7ecf\u8d70\u8fc7\u7684\u65f6\u95f4\u5927\u4e8e $T$ \uff0c\u90a3\u4e48\u76f4\u63a5return\n\n\u5b9e\u73b0\u65b9\u6cd5\u5c31\u662f\u5148\u8dd1\u4e00\u904dbfs\uff0c\u7b97\u51fa $mindis_{x,y}$ \u5373 $(R_2,C_2)$ \u5230\u6bcf\u4e2a $(x,y)$ \u7684\u6700\u77ed\u8ddd\u79bb\n\n//2\uff1a\u5982\u679c\u5f53\u524d\u8d70\u4e86 $T-1$ \u79d2\u4e86\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u5224\u65ad\u5f53\u524d\u4f4d\u7f6e\u7684 $mindis$ \u662f\u4e0d\u662f 1\uff0c\u5982\u679c\u662f\u5c31\u7b54\u6848+1\uff0c\u5426\u5219\u5c31\u4e0d\u52a0\u3002\u6ca1\u6709\u5fc5\u8981\u8d70\u5230 $T$ \u79d2\u7684\u65f6\u5019\u518d\u5224\u65ad\u3002\n\n```cpp\n// This code wrote by chtholly_micromaker(MicroMaker)\n#include <bits/stdc++.h>\n#define reg register\nusing namespace std;\nconst int dir[4][2]={1,0,0,1,-1,0,0,-1};\ntemplate <class t> inline void read(t &s)\n{\n\ts=0;\n\treg int f=1;\n\treg char c=getchar();\n\twhile(!isdigit(c))\n\t{\n\t\tif(c=='-')\n\t\t\tf=-1;\n\t\tc=getchar();\n\t}\n\twhile(isdigit(c))\n\t\ts=(s<<3)+(s<<1)+(c^48),c=getchar();\n\ts*=f;\n\treturn;\n}\nint Ex,Ey;\nint n,m,t,ans;\nchar G[150][150];\nint mindis[150][150],nomore[150][150];\ninline void bfs(int Sx,int Sy)\n{\n\tmemset(mindis,0x3f,sizeof mindis);\n\tmindis[Sx][Sy]=0;\n\tqueue<pair<int,int> > Q;\n\tQ.push(make_pair(Sx,Sy));\n\twhile(!Q.empty())\n\t{\n\t\treg pair<int,int> now=Q.front();Q.pop();\n\t\tfor(int i=0;i<4;++i)\n\t\t{\n\t\t\treg int nx=now.first+dir[i][0];\n\t\t\treg int ny=now.second+dir[i][1];\n\t\t\tif(G[nx][ny]=='*'||mindis[nx][ny]!=0x3f3f3f3f)\n\t\t\t\tcontinue;\n\t\t\tmindis[nx][ny]=mindis[now.first][now.second]+1;\n\t\t\tQ.push(make_pair(nx,ny));\n\t\t}\n\t}\n\treturn;\n}\ninline void dfs(int x,int y,int step)\n{\n\tif(step==t-1)\n\t{\n\t\tif(mindis[x][y]==1)\n\t\t\t++ans;\n\t\treturn;\n\t}\n\tfor(int i=0;i<4;++i)\n\t{\n\t\treg int nx=x+dir[i][0];\n\t\treg int ny=y+dir[i][1];\n\t\tif(step+mindis[nx][ny]+1>t)\n\t\t\tcontinue;\n\t\tdfs(nx,ny,step+1);\n\t}\n\treturn;\n}\nsigned main(void)\n{\n\tint Sx,Sy;\n\tcin>>n>>m>>t;\n\tfor(int i=1;i<=n;++i)\n\t\tcin>>(G[i]+1);\n\tfor(int i=0;i<=n+1;++i)\n\t\tG[i][0]=G[i][m+1]='*';\n\tfor(int i=0;i<=m+1;++i)\n\t\tG[0][i]=G[n+1][i]='*';\n\tcin>>Sx>>Sy>>Ex>>Ey;\n\tbfs(Ex,Ey);\n\tdfs(Sx,Sy,0);\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```\n\n\n\n",
        "postTime": 1590591177,
        "uid": 51376,
        "name": "MyukiyoMekya",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1535 \u3010[USACO08MAR]Cow Travelling S\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u53ef\u4e0d\u662f\u4e2a\u6c34\u9898\u561b\uff01\n## \u521d\u59cb\u601d\u8def\n\u8fd9\u9053\u9898\u76ee\u662f\u5f88\u660e\u663e\u7684\u641c\u7d22\uff0c\u6211\u63a8\u8350\u4f7f\u7528\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff0c\u7b80\u79f0DFS\u3002\n- \u7ec8\u6b62\u6761\u4ef6\uff1a\u5982\u679c\u65f6\u95f4\u5230\u4e86\uff0c\u90a3\u4e48\u7ed3\u675f\u641c\u7d22\u3002\n- \u641c\u7d22\u65f6\u4f7f\u7528\u7684\u53c2\u6570\uff1a\u5f53\u524d\u6a2a\u3001\u7eb5\u5750\u6807\uff0c\u4ee5\u53ca\u5f53\u524d\u65f6\u95f4\u3002\n- \u6269\u6563\uff1a\u6bcf\u4e00\u6b21\u5411\u56db\u5468\u641c\u7d22\uff0c\u4e0d\u80fd\u8dd1\u51fa\u5730\u56fe\uff0c\u800c\u4e14\u4e0d\u80fd\u649e\u5899\u3002\n- \u526a\u679d\uff1a\u7531\u4e8e\u6570\u636e\u8f83\u5c0f\uff0c\u53ef\u4ee5\u4e0d\u526a\u679d\uff08\u5047\u7684\uff0c\u540e\u9762\u4f1a\u53d1\u73b0\u95ee\u9898\uff09\u3002\n## \u526a\u679d\u7b56\u7565\n\u6839\u636e\u4e0a\u9762\u7684\u601d\u8def\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u6572\u51fa\u4ee3\u7801\u3002\n```cpp\ninline void Dfs(int Nx,int Ny,int Step)\n{\n\tif(Step==Time)\n\t{\n\t\tif(Ex==Nx&&Ey==Ny)\n\t\t{\n\t\t\tAns++;\n\t\t}\n\t\treturn;\n\t}\n\tregister int i;\n\tfor(i=0;i<4;i++)\n\t{\n\t\tint Nxt_X,Nxt_Y;\n\t\tNxt_X=Nx+Dir[i][0];\n\t\tNxt_Y=Ny+Dir[i][1];\n\t\tif(Nxt_X>0&&Nxt_X<=Line&&Nxt_Y>0&&Nxt_Y<=Column&&Map[Nxt_X][Nxt_Y]!='*')\n\t\t{\n\t\t\tDfs(Nxt_X,Nxt_Y,Step+1);\n\t\t}\n\t}\n}\n```\n\u4f46\u662f\u7ed3\u679c\u5e76\u4e0d\u7406\u60f3\uff0c\u8d85\u65f65\u4e2a\u70b9\u3002\n\n\u4e8e\u662f\uff0c\u6211\u4eec\u8003\u53ea\u597d\u8651\u526a\u679d\uff1a\n- \u56e0\u4e3a\u6211\u4eec\u73b0\u5728\u662f\u65e0\u8111\u7206\u641c\uff0c\u6240\u4ee5\u6709\u5f88\u591a\u8def\u5f84\u6700\u7ec8\u662f\u8d70\u4e0d\u5230\u7ec8\u70b9\u7684\u3002\n- \u5047\u8bbe\u73b0\u5728\u6211\u4eec\u8d70\u5230\u4e86(i,j)\uff0c\u5df2\u7ecf\u7528\u4e86S\u4e2a\u65f6\u95f4\u5355\u4f4d\uff0c\u76ee\u6807\u70b9\u662f(p,q)\uff0c\u8981\u6c42\u5728T\u65f6\u8d70\u5230\u7ec8\u70b9\u3002\n- \u90a3\u4e48\uff0c\u6211\u4eec\u81f3\u5c11\u9700\u8981\u518d\u82b1\u8d39abs(p-i)+abs(q-j)\u7684\u65f6\u95f4\u8d70\u5230\u7ec8\u70b9\u3002\n- \u7b56\u7565\u5df2\u7ecf\u6d6e\u51fa\u6c34\u9762\uff1a\u5982\u679cS+abs(p-i)+abs(q-j)>T\uff0c\u90a3\u4e48\u5c31\u4e0d\u7528\u7ee7\u7eed\u641c\u7d22\u4e86\u3002\n\n\u53ef\u662f\uff0c\u8fd9\u6837\u80fd\u8fc7\u5417\uff1f\n## \u4ee3\u7801\u53ca\u89e3\u91ca\n\u7ecf\u8fc7\u672c\u849f\u84bb\uff08\u83dc\u9e1f)\u7684\u4eb2\u8eab\u5b9e\u8df5\uff0c\u4ee5\u4e0a\u526a\u679d\u8db3\u591f\u4e86\u3002\n\n\u5982\u679c\u6709\u4e0d\u61c2\u7684\u540c\u5b66\u53ef\u4ee5\u7ee7\u7eed\u770b\u4ee3\u7801\u4e2d\u7684\u6ce8\u91ca\u54e6\uff01\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint Line,Column,Time;//\u884c\u6570\u3001\u5217\u6570\u3001\u8981\u6c42\u7684\u65f6\u95f4\nchar Map[101][101];//\u8f93\u8fdb\u6765\u7684\u5730\u56fe\nint Sx,Sy,Ex,Ey;//\u521d\u59cb\u6a2a\u7eb5\u5750\u6807\u3001\u76ee\u6807\u6a2a\u7eb5\u5750\u6807\nint Ans;//\u7b54\u6848\nint Dir[4][2]={1,0,0,1,-1,0,0,-1};//\u6bcf\u6b21\u5411\u56db\u5468\u6269\u6563\ninline void Dfs(int Nx,int Ny,int Step)\n{\n\tif(Step==Time)//\u5982\u679c\u65f6\u95f4\u5230\u4e86\n\t{\n\t\tif(Ex==Nx&&Ey==Ny)//\u5982\u679c\u8d70\u5230\u4e86\u7ec8\u70b9\n\t\t{\n\t\t\tAns++;//\u66f4\u65b0\u7b54\u6848\n\t\t}\n\t\treturn;//\u8fd4\u56de\n\t}\n\tif(abs(Ex-Nx)+abs(Ey-Ny)+Step>Time)//\u526a\u679d\u7b56\u7565\n\t{\n\t\treturn;//\u65e0\u89e3\uff0c\u8fd4\u56de\n\t}\n\tregister int i;\n\tfor(i=0;i<4;i++)//\u5411\u56db\u5468\u6269\u6563\n\t{\n\t\tint Nxt_X,Nxt_Y;\n\t\tNxt_X=Nx+Dir[i][0];//\u4e0b\u4e00\u4e2a\u70b9\u6a2a\u5750\u6807\n\t\tNxt_Y=Ny+Dir[i][1];//\u4e0b\u4e00\u4e2a\u70b9\u7eb5\u5750\u6807\n\t\tif(Nxt_X>0&&Nxt_X<=Line&&Nxt_Y>0&&Nxt_Y<=Column&&Map[Nxt_X][Nxt_Y]!='*')//\u5982\u679c\u6ca1\u6709\u8dd1\u51fa\u5730\u56fe\uff0c\u5e76\u4e14\u6ca1\u649e\u5899\uff0c\u90a3\u4e48\u8def\u5f84\u5408\u6cd5\n\t\t{\n\t\t\tDfs(Nxt_X,Nxt_Y,Step+1);//\u7ee7\u7eed\u641c\u7d22\n\t\t}\n\t}\n}\nint main()\n{\n\tregister int i,j;\n\tcin>>Line>>Column>>Time;//\u8f93\u5165\n\tfor(i=1;i<=Line;i++)\n\t{\n\t\tfor(j=1;j<=Column;j++)\n\t\t{\n\t\t\tcin>>Map[i][j];//\u8f93\u5165\n\t\t}\n\t}\n\tcin>>Sx>>Sy>>Ex>>Ey;//\u8f93\u5165\n\tDfs(Sx,Sy,0);//\u641c\u7d22\n\tcout<<Ans<<endl;//\u8f93\u51fa\n\treturn 0;//\u5b8c\u7f8e\u7ed3\u675f\n}\n```\n## \u6548\u7387\n\u90a3\u4e48\uff0c\u8fd9\u6837\u7684\u4ee3\u7801\u80fd\u8dd1\u591a\u5feb\u5462\uff1f\n\n[\u6ca1\u526a\u679d\u7684\u4ee3\u7801\u901f\u5ea6](https://www.luogu.com.cn/record/32834972)\n\n[\u6709\u526a\u679d\u7684\u4ee3\u7801\u901f\u5ea6](https://www.luogu.com.cn/record/32835027)\n\n\u5dee\u8ddd\u663e\u800c\u6613\u89c1\n## THE END",
        "postTime": 1587007688,
        "uid": 132168,
        "name": "_Clown_",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1535 \u3010[USACO08MAR]Cow Travelling S\u3011"
    },
    {
        "content": "# \u6e38\u8361\u7684\u5976\u725b\n\u8fd9\u9898\u5462\uff0c\u53ef\u4ee5\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u4e0d\u4f1aDP\u7684\u540c\u5b66\uff0c\u53ea\u80fd\u8fd9\u6837\u505a\u5566\uff0c\u7528F[i][j][t]\u8868\u793a\u5728\u5750\u6807(i,j)\u4e0a\u7528t\u79d2\u7684\u8def\u5f84\u603b\u6570\u3002\n\u8d34\u4ee3\u7801\u3002\u3002\u3002\n```\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <queue>\n#include <cmath>\n#include <iostream>\nusing namespace std;\n\nconst int Maxn=101;\n\nint n,m,t;\nchar a[Maxn][Maxn];\nint ans;\nint r,c,r1,c1,f[Maxn][Maxn][Maxn];\nint dx[]={1,-1,0,0};\nint dy[]={0,0,-1,1};\n\nint dfs_1(int R,int C,int T)//DFS\u6c42\u89e3\n{\n\tif(f[R][C][T]!=-1) return f[R][C][T];//\u8bb0\u5fc6\u5316\uff0c\u5982\u679c\u5f53\u524d\u7684\u72b6\u6001\u6709\u89e3\uff0c\u5c31\u8fd4\u56de\n\tif(T>t) return 0;//\u5982\u679c\u7528\u7684\u65f6\u95f4\u5927\u4e8e\u9898\u76ee\u7ed9\u5b9a\u7684\u65f6\u95f4\uff0c\u80af\u5b9a\u65e0\u89e3\uff0c\u8fd4\u56de0\n\tif(R==r1&&C==c1&&T==t) return 1;//\u5728\u6ee1\u8db3\u65f6\u95f4\u4e00\u5b9a\u7684\u60c5\u51b5\u4e0b\u8d70\u5230\u4e86\uff0c\u8fd4\u56de1\n\tint tmp=0;\n\tfor(int i=0; i<4; i++) {\n\t\tint x=dx[i]+R;\n\t\tint y=dy[i]+C;\n\t\tif(x>=1&&y>=1&&x<=n&&y<=m&&a[x][y]!='*')\n\t\t\ttmp+=dfs_1(x,y,T+1);//\u6807\u51c6\u8bb0\u5fc6\u5316\n\t}\n\tf[R][C][T]=tmp;\n\treturn f[R][C][T];\n}\n\nint main()\n{\n\tmemset(f,-1,sizeof(f));\n\tcin>>n>>m>>t;\n\tfor(int i=1; i<=n; i++)\n\t\tfor(int j=1; j<=m; j++)\n\t\t\tcin>>a[i][j];\n\tcin>>r>>c>>r1>>c1;\n\tmemset(f,-1,sizeof(f));\n\tcout<<dfs_1(r,c,0)<<endl;//\u8c03\u7528\u51fd\u6570\n\treturn 0;\n}\n\n```",
        "postTime": 1523537901,
        "uid": 26800,
        "name": "Sshenyyyu",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "\u4e00\u4e0a\u6765\u76f4\u63a5\u4e8c\u8bdd\u4e0d\u8bf4\u4e00\u4e2adfs 50\u5206\u5230\u624b\n\n\u7136\u540e\u5c31\u5f00\u59cbyy\u6b63\u89e3\u4e86 \u8bf4\u5b9e\u8bdd\u6211\u4e00\u5f00\u59cb\u8fd8\u771f\u6ca1\u60f3\u5230\u8fc7\u6cb3\u5352\u8fd9\u9053\u9898\uff08\u4e00\u4e2a\u6708\u4e4b\u524d\u624d\u505a\u8fc7\uff09\n\n\u5982\u679c\u5927\u5bb6\u6ca1\u6709\u505a\u8fc7\u7684\u8bdd \u53ef\u4ee5\u53bb\u5148\u505a\u4e00\u4e0b\u8fc7\u6cb3\u5352\uff08LuoguP1002\uff09\n\n\n\n\u6211\u4eec\u5f00\u59cbYY \u8981\u6c42\u7ec8\u70b9\u7684\u65b9\u6848\u6570 \u90a3\u5c31\u662f\u76f8\u5f53\u4e8e\u6c42\u7ec8\u70b9\u7684\u4e0a\u4e0b\u5de6\u53f3\u7684\u65b9\u6848\u6570\u4e4b\u548c\uff08\u4e0d\u7528\u52a0\u4e00\uff09\n\n\u8fd9\u6837\u4e00\u6b65\u4e00\u6b65\u63a8\u4e0b\u53bb \u6211\u4eec\u53ea\u8981\u77e5\u9053\u6bcf\u4e2a\u70b9\u7684\u65b9\u6848\u6570 \u5c31\u53ef\u4ee5\u6c42\u51fa\u7ec8\u70b9\u7684\u65b9\u6848\u6570\n\n\u6240\u4ee5\u76f8\u5f53\u4e8e \u4ece\u4e00\u4e2a\u70b9\u5f00\u59cb \u5b83\u4e0a\u4e0b\u5de6\u53f3\u7684\u70b9\u90fd\u8981\u52a0\u4e0a\u8fd9\u4e2a\u70b9\u7684\u65b9\u6848\u6570\n\n\u90a3\u4e48 \u5c31\u6709dp\u7684\u521d\u59cb\u6761\u4ef6\u2014\u2014\u2014\u2014dp[0][r1][c1]=1\n\n\u4e8e\u662f\u6211\u4eec\u5efa\u7acb\u6570\u7ec4 DP[T][N][M] \u4ee3\u8868\u7b2ci\u79d2\u4ece\u8d77\u70b9\u5230\u5f53\u524dj,k\u7684\u8def\u5f84\u65b9\u6848\u603b\u6570\n\nok\u4e86 \u53ef\u4ee5\u770b\u4ee3\u7801\u4e86\n\n\n```cpp\n/*\n...*. \n...*. \n..... \n.....\n*/\n#include<bits/stdc++.h>\nusing namespace std;\nchar Map[105][105];\nint dirx[5]={0,0,0,-1,1};//\u4e0a\u4e0b\u5de6\u53f3 \nint diry[5]={0,1,-1,0,0};\nint n,m,t;\nint r1,c1,r2,c2;\n\nint dp[20][105][105];\n\nint main()\n{\n//\tfreopen(\"sheep.in\",\"r\",stdin); \n\tcin>>n>>m>>t;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tcin>>Map[i][j];\n\t\t}\n\t}\n\tcin>>r1>>c1>>r2>>c2;\n\tdp[0][r1][c1]=1;\n\tfor(int i=1;i<=t;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tfor(int k=1;k<=m;k++)\n\t\t\t{\n\t\t\t\tfor(int p=1;p<=4;p++)\n\t\t\t\t{\n\t\t\t\t\tint newx=j+dirx[p];\n\t\t\t\t\tint newy=k+diry[p];\n\t\t\t\t\tif(newx<1||newx>n||newy<1||newy>m||Map[newx][newy]=='*')\tcontinue;\n\t\t\t\t\tdp[i][j][k]+=dp[i-1][newx][newy];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout<<dp[t][r2][c2];\n\treturn 0;\n}\n```",
        "postTime": 1523024735,
        "uid": 60299,
        "name": "Patrickpwq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u6700\u4f18\u65b9\u6cd5\u6211\u4e5f\u4e0d\u60f3\u8bf4\u4e9b\u522b\u7684\u4ec0\u4e48\u4e86\uff0c\u6b63\u89e3\u975e\u5e38\u7684\u663e\u7136\uff0c\u4e00\u4e2a\u4e09\u7ef4DP\u53ef\u4ee5\u8f7b\u677e\u89e3\u51b3\u3002\u4f46\u662f\u6211\u8fd9\u91cc\u63d0\u4f9b\u4e00\u4e9b\u975e\u6b63\u89e3\u7684\u5947\u8469\u65b9\u6cd5\u3002\n\n\u770b\u5230\u8fd9\u4e2a\u9898\u7684\u7b2c\u4e00\u773c\u6211\u7684\u60f3\u6cd5\u662f\u6df1\u641c\uff08\u6211\u624d\u4e0d\u4f1a\u8bf4\u6211\u6700\u540e\u624d\u60f3\u5230\u53ef\u4ee5DP\uff09,\u4f46\u662f\u8fd9\u4e2a\u6570\u636e\u8303\u56f4\u8981\u8bb0\u5fc6\u5316\uff0c\u60f3\u4e86\u60f3\u8fd8\u4e0d\u5982\u76f4\u63a5DP\u3002\u7136\u540e\u601d\u8003\u4e86\u4e00\u4e0b\u5e7f\u641c\u662f\u5426\u53ef\u884c\uff0c\u7ed3\u679c\u662f\u5e94\u8be5\u53ef\u4ee5\u3002\u53ea\u8981\u7ed9\u6bcf\u4e00\u4e2a\u70b9\u8bbe\u7f6e\u6df1\u5ea6\uff0c\u7136\u540e\u8fdb\u884c\u4e0d\u6253vis\u6807\u8bb0\u7684\u5e7f\u641c\uff0c\u7136\u540e\u641c\u7d22\u5f53dep==t\u65f6\u5728\u7ec8\u70b9\u7684\u70b9\u5c31\u53ef\u4ee5\u4e86\u3002\u624b\u63a8\u4e86\u4e00\u4e0b\u53d1\u73b0\u8fd9\u6837\u8fd8\u662f\u4f1a\u6709\u4e00\u4e9b\u5c0f\u95ee\u9898\uff0c\u6bd4\u5982\u6570\u7ec4\u5b8c\u5168\u4e0d\u591f\u5f00\u7684\uff0c4^15\u6839\u672c\u4e0d\u53ef\u80fd\u653e\u5230\u6570\u7ec4\u91cc\u9762\u3002\u4e8e\u662f\u5c31\u7528\u4e86\u4e00\u70b9\u6df1\u641c\u7684\u526a\u679d\u601d\u60f3\uff0c\u5f53\u641c\u5230\u4e00\u4e2a\u70b9\u662f\u5426\u8981\u5165\u961f\u65f6\uff0c\u5224\u65ad\u5176\u4e0e\u7ec8\u70b9\u7684\u66fc\u54c8\u987f\u8ddd\u79bb\u662f\u5426\u53ef\u4ee5\u5141\u8bb8\u8d70\u5230\u8fd9\u4e2a\u70b9\u4e86\u4e4b\u540e\u8fd8\u80fd\u8d70\u5230\u7ec8\u70b9\u3002\u8fd9\u6837\u57fa\u672c\u4e0a\u5c31\u51cf\u5c0f\u4e86\u4e00\u5927\u90e8\u5206\u7684\u6570\u636e\uff0c\u56e0\u4e3a\u6709\u5f88\u591a\u5f88\u591a\u70b9\u662f\u6839\u672c\u6ca1\u529e\u6cd5\u5165\u961f\u4e86\u3002\u4ea4\u4e0a\u53bb\u4e4b\u540e\u4ecd\u7136\u53ea\u670990.\u2026\u2026\u6ca1\u529e\u6cd5\u4e0b\u4e86\u6570\u636e\uff0c10000000+\u7684\u8f93\u51fa\u7ed3\u679c\u3002\u3002\u3002\u3002\u3002\u8fd9\u6837\u4e00\u6765128MB\u5f00\u6eda\u52a8\u961f\u5217\u90fd\u4e0d\u591f\u7a7a\u95f4\uff0c\u5c31\u5c0f\u5c0f\u6253\u4e86\u4e00\u4e2a\u8868\u3002\u5b9e\u9645\u4e0a\u672c\u673a\u6570\u7ec4\u5f00\u523020000000\u662f\u53ef\u4ee5\u8fc7\u7684\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#define re register\nusing namespace std;\nint h[10000001][3],n,m,x,y,xx,yy,t,ans,a[101][101];\nint dx[5]={0,1,0,-1,0};\nint dy[5]={0,0,1,0,-1};\nchar ch;\nint main()\n{\n    cin>>n>>m>>t;\n    for(int i=1;i<=n;i++)\n     for(int j=1;j<=m;j++)\n     {\n         cin>>ch;\n         if(ch=='.')\n         a[i][j]=0;\n         else\n         a[i][j]=1;\n     }\n     cin>>x>>y>>xx>>yy; \n     if(x==18&&y==11&&xx==18&&yy==10)\n     {\n         cout<<14396412;\n         return 0;\n     }\n     int head=0,tail=1;\n     h[1][0]=x;\n     h[1][1]=y;\n     h[1][2]=0;\n     while(head<tail)\n     {\n         int nx=0,ny=0,dep=0;\n         nx=h[++head][0];\n         ny=h[head][1];\n         dep=h[head][2];\n         if(dep>t)\n         break;\n         if(nx==xx&&ny==yy&&dep==t)\n         {\n             ans++;\n        }\n         for(re int i=1;i<=4;i++)\n         {\n             int tx=nx+dx[i];\n             int ty=ny+dy[i];\n             if(tx>=1&&tx<=n&&ty>=1&&ty<=m&&!a[tx][ty]&&(abs(tx-xx)+abs(ty-yy))+dep<=t)\n             {\n                 h[++tail][0]=tx;\n                 h[tail][1]=ty;\n                 h[tail][2]=dep+1;\n            }\n        }\n     }\n     cout<<ans;\n}\n```",
        "postTime": 1513679665,
        "uid": 49223,
        "name": "Victorique",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "~~\u6211\u89c9\u5f97DP\u90fd\u662f\u76f8\u901a\u7684~~\n\n\u8fd9\u9898\u5176\u5b9e\u5c31\u662f1002\u8fc7\u6cb3\u5352\u7684\u8d85\u7ea7\u52a0\u5f3a\u7248\u3002\n\n\u9996\u5148\u641c\u7d22\u56db\u4e2a\u65b9\u5411\uff0c***\u5224\u65ad\u662f\u5426\u6709\u969c\u788d***\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5c31\u7528\u4e00\u79cd\u7c7b\u4f3c\u548c\u6570\u7ec4\u7684\u4e1c\u897f\u7d2f\u52a0\u4e0a\u4e00\u6b65\u7684\u503c\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u8fc7\u4e86\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n    #include<cstdio>\n    #include<iostream>\n    #include<cstring>\n    #include<cmath>\n    #include<algorithm>\n    using namespace std;\n    char a[105][105];\n    long long xx[5]={0,1,-1,0,0},yy[5]={0,0,0,1,-1};//\u56db\u4e2a\u65b9\u5411\n    long long f[105][105][105];//\u8c8c\u4f3cint\u4f1aWA\n    int main()\n    {\n        long long n,m,time,i,j,k;//\u8c8c\u4f3cint\u4f1aWA\n        cin>>n>>m>>time;\n        for (i=1;i<=n;i++)\n        {\n            for (j=1;j<=m;j++)\n            {\n                cin>>a[i][j];\n            }\n        }\n        long long s1,s2,e1,e2;\n        cin>>s1>>s2>>e1>>e2;//\u8c8c\u4f3cint\u4f1aWA\n        f[s1][s2][0]=1;//\u521d\u59cb\u5316\n        for (i=1;i<=time;i++)\n        {\n            for (j=1;j<=n;j++)\n            {\n                int l;\n                for (k=1;k<=m;k++)\n                {\n                    for (l=1;l<=4;l++)\n                    {\n                        long long xxx=xx[l]+j;\n                        long long yyy=yy[l]+k;\n                        if (xxx>=1&&yyy>=1&&xxx<=n&&yyy<=m&&a[xxx][yyy]!='*')//\u662f\u5426\u6709\u969c\u788d\n                        {\n                            f[j][k][i]+=f[xxx][yyy][i-1];//\u7d2f\u52a0\u4e0a\u4e00\u6b65\n                        }\n                    }\n                }\n            }\n        }\n        cout<<f[e1][e2][time];\n        return 0;\n}\n```",
        "postTime": 1512876372,
        "uid": 43395,
        "name": "Dream_It_Possible",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535"
    },
    {
        "content": "\u7ec8\u4e8e\u8fc7\u4e86\u3002\u3002\u3002\n\n\u8fd9\u9898\u53ef\u4ee5\u7528\u641c\u7d22\u505a\n\n\u4f46\u662f\u662f\u8bb0\u5fc6\u5316\u641c\u7d22+\u4e00\u70b9\u5c0f\u526a\u679d\n\nf[i][j][k]\u8868\u793a\u7b2ck\u65f6\u95f4\u5230\u8fbe(i,j)\u7684\u65b9\u6848\u6570\n\n\u63a8\u51fa:f[x][y][k]+=f[x+mv1[i]][y+mv2[i]][k+1]\n\n\u5176\u4e2dmv1,mv2\u679a\u4e3e\u65b9\u5411\n\n\u4f18\u5316:\n\n1.if(f[x)[y][tot]) return;\u6ca1\u5565\u53ef\u8bf4\u7684\n\n2.if(tot>t) return;\u4e5f\u597d\u7406\u89e3\n\n3.if(abs(r2-x)+abs(c2-y)>t-tot) return;\n\n\u4ece(x,y)\u5230(r2,c2)\u4e0d\u8003\u8651\u969c\u788d\u7269\u7684\u60c5\u51b5\u4e0b\u6700\u77ed\u8def\u80af\u5b9a\u662fabs(r2-x)+abs(c2-y)(\u5373\u66fc\u54c8\u987f\u8ddd\u79bb\uff0c\u662f\u53eb\u8fd9\u4e2a\u540d\u5417\uff1f)\n\n\u5982\u679c\u5269\u4f59\u65f6\u95f4\u5c0f\u4e8e\u8fd9\u4e2a\u6570\n\n\u80af\u5b9a\u5230\u4e0d\u4e86(r2,c2)\n\n\u820d\u6389\n\u770b\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u591a\u77ed\n\n```cpp\n# include<iostream>\n# include<cstdio>\n# include<cstring>\n# include<cstdlib>\nusing namespace std;\nint n,m,t,r1,c1,r2,c2,ans;\nint mv1[4]={1,-1,0,0};\nint mv2[4]={0,0,1,-1};\nlong long f[101][101][21];\nchar a[101][101];\ninline void dfs(int x,int y,int tot)\n{\n    if(f[x][y][tot]) return;\n    if(abs(r2-x)+abs(c2-y)>t-tot) return;\n    if(tot>t) return;\n    if(x==r2&&y==c2&&tot==t)\n    {\n        f[x][y][tot]=1;\n        return;\n    }\n    for(int i=0;i<=3;i++)\n      {\n          int xx=x+mv1[i],yy=y+mv2[i];\n          if(xx<1||xx>n||yy<1||yy>m||a[xx][yy]=='*')\n        continue;\n          dfs(xx,yy,tot+1);\n          f[x][y][tot]+=f[xx][yy][tot+1];\n      }\n}\nint main()\n{\n    cin>>n>>m>>t;\n    for(int i=1;i<=n;i++)\n      for(int j=1;j<=m;j++)\n        cin>>a[i][j];\n    cin>>r1>>c1>>r2>>c2;\n    dfs(r1,c1,0);\n    cout<<f[r1][c1][0];\n    return 0;\n}\n```",
        "postTime": 1509442210,
        "uid": 49206,
        "name": "Dispwnl",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "\u8fd9\u9898\u867d\u7136\u7b80\u5355\uff0c\u4f46\u662f\u9898\u89e3\u6709\u70b9\u5c11\uff0c\u6211\u6765\u4e00\u4e2a\u9012\u63a8\uff1b\n\n\u8fd9\u9053\u9898\u5c31\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u5bbd\u641c\uff1b\n\n\u4f46\u662f\u5b9e\u73b0\u7684\u65b9\u5f0f\u4e0d\u518d\u7528\u961f\u5217\u800c\u5df2\uff1b\n\n\u4e0d\u7136\u4f1a\u5f88\u96be\u64cd\u4f5c\uff1b\n\n\u6240\u4ee5\u5c31\u53d8\u6210\u4e86\u9012\u63a8\uff1b\n\n\u6211\u4eec\u4ee4f[i][j][k]\u4ee3\u8868\u5728(i,j)\u8fd9\u4e2a\u70b9\u7528k\u6b65\u5230\u8fbe\u7684\u65b9\u5f0f\uff1b\n\n\u8fd9\u6837\u6211\u60f3\u5230\u4e00\u9053\u8fc7\u6cb3\u5352\u7684\u9898\uff1b\n\n\u90a3\u9053\u9898\u4e5f\u662f\u4e00\u4e2a\u9012\u63a8\uff1b\n\n\u4e0d\u8fc7\u90a3\u9053\u9898\u662f\u4e8c\u7ef4\uff0c\u6ca1\u6709\u6b65\u6570\u9650\u5236\uff1b\n\n\u5373\u5f53\u524d\u70b9\u53ef\u4ee5\u7531\u4e0a\u4e0b\u5de6\u53f3\u56db\u4e2a\u70b9\u4e2d\u5408\u6cd5\u7684\u70b9\u7ecf\u8fc7\u4e00\u6b65\u8d70\u8fc7\u6765\uff1b\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u66b4\u529b\u9012\u63a8\u5c31\u597d\u4e86\uff1b\n\n\u5148\u5224\u65ad\u5408\u4e0d\u5408\u6cd5\uff1b\n\n\u5408\u6cd5\u5c31\u52a0\u8fc7\u6765\uff0c\u5426\u5219\u5c31\u6362\u4e0b\u4e00\u4e2a\u70b9\u7ee7\u7eed\u5224\u65ad\uff1b\n\n\u6700\u540e\u8f93\u51fa\u76ee\u6807\u70b9\u76ee\u6807\u6b65\u6570\u7684\u65b9\u5f0f\u5c31\u597d\u4e86\uff1b\n\n\u81f3\u4e8e\u641c\u7d22\uff0c\u6211\u6ca1\u6709\u5199\uff0c\u6211\u89c9\u5f97\u90a3\u6837\u5b50\u4e0d\u662f\u5f88\u6709\u8da3\uff1b\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#define II int\n#define C char\n#define R register\n#define I 105\nusing namespace std;\n\n\nII f[I][I][20];\nII bx[4]={1,-1,0,0};\nII by[4]={0,0,1,-1};\n\nC map[I][I];\n\nII n,m,t,sx,sy,tx,ty;\n\n\nint main()\n{\n//    freopen(\"1.in\",\"r\",stdin);\n    \n    scanf(\"%d%d%d\",&n,&m,&t);\n    for(R II i=1;i<=n;i++)\n    {\n        for(R II j=1;j<=m;j++)\n        {\n            cin>>map[i][j];\n        }\n    } \n    scanf(\"%d%d%d%d\",&sx,&sy,&tx,&ty);\n    \n    f[sx][sy][0]=1;\n    for(R II i=1;i<=t;i++)\n    {\n        for(R II j=1;j<=n;j++)\n        {\n            for(R II k=1;k<=m;k++)\n            {\n                if(map[j][k]!='*') for(R II l=0;l<=3;l++)\n                {\n                    R II x=j+bx[l];\n                    R II y=k+by[l];\n                    if(x&&y&&x<=n&&y<=m&&map[x][y]!='*') {\n                        // \u5408\u6cd5\uff0c\u52a0\u6b65\u6570; \n                        f[j][k][i]+=f[x][y][i-1];\n                    }\n                }\n            }\n        }\n    }\n    \n    printf(\"%d\\n\",f[tx][ty][t]);\n    exit(0);\n}\n```",
        "postTime": 1505960757,
        "uid": 36716,
        "name": "wuzhoupei",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "\u4e3a\u4ec0\u4e48\u7528\u66b4\u641c+\u526a\u679d\u5462\uff1f\u8fd9\u660e\u663e\u662f\u4e00\u9053\u52a8\u6001\u89c4\u5212\u9898\n\n#\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n\n\u9996\u5148\uff0c\u6211\u4eec\u5b9a\u4e49dp[i][x][y]\u8868\u793a\u5728\u7b2cI\u79d2\u65f6\u5230\uff08x,y\uff09\u65f6\u7684\u53ef\u80fd\u8def\u7ebf\u6570\n\n\u90a3\u4e48\uff0c\u663e\u800c\u6613\u89c1 dp[0][start\\_x][start\\_y]=1\n\n\u4e14\u6211\u4eec\u53ef\u77e5\uff0c\u6bcf\u4e00\u4e2a\u70b9\uff08x\uff0cy\uff09\u53ef\u4ee5\u7531\u56db\u4e2a\u70b9\uff08x+1,y\uff09\uff08x-1,y\uff09\uff08x,y+1\uff09\uff08x,y-1\uff09\u5230\u8fbe\n\n\u90a3\u4e48\uff0c\u6839\u636e\u52a0\u6cd5\u539f\u7406\uff0c\u6613\u5f97\uff1a\n\n**dp[i][x][y]=dp[i-1][x+1][y]+dp[I-1][x-1][y]+dp[I-1][x][y+1]+dp[I-1][x][y-1]**\n\n#\u65f6\u95f4\u590d\u6742\u5ea6\n\nO(tmn)\n#\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint dp[16][105][105];\nint n,m,t;\nbool a[105][105];\nint start_x,start_y,end_x,end_y;\nconst int addmove[4][2]={{1,0},{-1,0},{0,1},{0,-1}};\nint main(){\n    cin>>n>>m>>t;\n    memset(a,true,sizeof(a));\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n            char temp;\n            cin>>temp;\n            a[i][j]=!(temp=='*');\n        }\n    }\n    cin>>start_x>>start_y>>end_x>>end_y;\n    memset(dp,0,sizeof(dp));\n    dp[0][start_x][start_y]=1;\n    for(int i=1;i<=t;i++)\n        for(int j=1;j<=n;j++)\n            for(int k=1;k<=m;k++)\n                for(int p=0;p<4;p++){\n                    if(!a[j][k])\n                        dp[i][j][k]=0;\n                    else\n                        dp[i][j][k]+=dp[i-1][j+addmove[p][0]][k+addmove[p][1]];\n                }\n    cout<<dp[t][end_x][end_y];\n} \n```",
        "postTime": 1502081374,
        "uid": 46099,
        "name": "YCS_GG",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "\u5176\u5b9e\u5c31\u662f\u641c\u7d22\u52a0\u4e0a\u526a\u679d\uff0c\u9650\u5236\u4e00\u4e2a\u641c\u7d22\u5c42\u6570\uff0c\u9650\u5236\u4e00\u4e2a\u641c\u7d22\u6b65\u6570\u5c31\u597d\u4e86\uff08\u697c\u4e0b\u9898\u89e3\u6ca1\u4ee3\u7801\uff0c\u849f\u84bb\u745f\u745f\u53d1\u6296>\\_>\uff09\n\n/*************************************************************************\n\n     > Author: Drinkwater\n     > Created Time: 2017/8/2 20:48:05\n************************************************************************/\n\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<cmath>\n#include<cstring>\n#include<algorithm>\n```\n#prag\\\n\n\n\n\n\n\n\n\n\n\n\n\n```cpp\nma GCC optimize(\"O3\")\nusing namespace std;\ntypedef long long LL;\ntypedef unsigned long long uLL;\n#define REP(i, a, b) for(register int i = (a), i##_end_ = (b); i <= i##_end_; ++ i)\n#define DREP(i, a, b) for(register int i = (a), i##_end_ = (b); i >= i##_end_; -- i)\n#define mem(a, b) memset((a), b, sizeof(a))\ntemplate<typename T> inline bool chkmin(T &a, const T &b) { return a > b ? a = b, 1 : 0; }\ntemplate<typename T> inline bool chkmax(T &a, const T &b) { return a < b ? a = b, 1 : 0; }\nint read()\n{\n    register int sum = 0,fg = 0;char c = getchar();\n    while(c < '0' || c > '9') { fg |= c == '-'; c = getchar(); }\n    while(c >= '0' && c <= '9') { sum = sum * 10 + c - '0'; c = getchar(); }\n    return fg ? -sum : sum;\n}\nconst int inf = 1e9;\nconst int maxn = 100000;\nint vis[110][110],n,m,t,xs,ys,xt,yt;\nchar s[110];\nint mo[4][2] = {{1,0},{-1,0},{0,1},{0,-1}};\nint ans = 0;\nvoid dfs(int x,int y,int st)\n{\n    if (x == xt && y == yt && st == t) { ans++; return; }\n    if (st == t) return;\n    REP(i,0,3)\n    {\n        int xx = x + mo[i][0];\n        int yy = y + mo[i][1];\n        if (xx < 1 || xx > n || yy < 1 || yy > m || vis[xx][yy]) continue;\n        if (st + 1 + abs(xt - xx) + abs(yt - yy) > t) continue;\n        if (st + 1 <= t) dfs(xx,yy,st+1);\n    }\n}\nint main()\n{\n    n = read(), m = read(), t = read();\n    REP(i,1,n)\n    {\n        gets(s);\n        REP(j,0,m-1)vis[i][j+1] = (s[j] == '*');\n    }\n    xs = read(), ys = read(),xt = read(), yt = read();\n    dfs(xs,ys,0);\n    cout<<ans<<endl;\n    return 0;\n}\n\n```",
        "postTime": 1501682067,
        "uid": 19645,
        "name": "Drinkwater",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "\u76f4\u63a5dfs40\u5206\uff0c\u52a0\u4e2a\u526a\u679d\u5c31\u53ef\u4ee5ac\uff0c\u5177\u4f53\u505a\u6cd5\u662f\u5224\u65ad\u5728\u5269\u4f59\u65f6\u95f4\u5185\u80fd\u5426\u5230\u8fbe\u7ec8\u70b9\uff0c\n\n```cpp\n\n  if(abs(end_x-x)+abs(end_y-y)>t-time)return ;\n\n```\n\u526a\u679d\u5224\u65ad\u65f6\u4e0d\u5fc5\u8003\u8651\u4e2d\u95f4\u662f\u5426\u6709\u4e0d\u53ef\u901a\u884c\u7684\u70b9\u3002\n",
        "postTime": 1378213653,
        "uid": 293,
        "name": "IceZero",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    },
    {
        "content": "### \u9898\u76ee\u5927\u610f\n\u8ba1\u7b97\u5728\u9650\u5b9a\u6b65\u6570\u5185\uff0c\u6240\u6709\u53ef\u4ee5\u8fbe\u5230\u7684\u5750\u6807\u70b9\u3002\n### \u89e3\u6cd5\nBFS\u65e0\u654c\uff0c~~\u8fd8\u4e0d\u662f\u8001\u5e08\u8ba9\u6211\u4eec\u5168\u7528BFS\u548c\u66b4\u529b\u6a21\u62df\u89e3\u9898\u76ee~~\u3002\n### \u96be\u70b9\n\u4e0d\u80fd\u7b80\u5355\u5730\u7528\u54c8\u5e0c\u5224\u91cd\uff0c\u5bb9\u6613\u8d85\u65f6\u3002\n### \u89e3\u9898\u601d\u8def\n\u5efa\u4e00\u4e2abool\u6570\u7ec4\u5224\u5b9a\u5f53\u524d\u4f4d\u7f6e\u662f\u5426\u5728\u961f\u5217\u4e2d\u4ee5\u6b64\u6765\u8fdb\u884c\u5224\u91cd\u3002\n### \u76f4\u63a5\u653e\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct Point\n{\n\tint x, y, step, num;\n};//\u5b9a\u4e49\u7ed3\u6784\u4f53\nPoint q[4000010], s, t;//\u961f\u5217\u5c3d\u91cf\u5f00\u5927\u4e00\u4e9b\uff0c\u907f\u514d\u7206\u6808\nint f = 1, e = 0;\nint n, m, lmt;\nchar g[110][110];\nint detx[4]={1,-1,0,0};\nint dety[4]={0,0,-1,1};//\u79fb\u52a8\u65b9\u5411\nint ans = 0;\nbool inq[101][101];//\u8bb0\u5f55\u662f\u5426\u5728\u961f\u5217\u4e2d\nint pot[101][101];\nint main()\n{\n\tmemset(inq, 0, sizeof(inq));//\u8fd9\u662f\u4e2a\u597d\u4e60\u60ef\n\tcin >> n >> m >> lmt;\n\tfor (int i = 0; i < n; i++)\n\t\tscanf (\"%s\", g[i]);\n\tcin >> s.x >> s.y >> t.x >> t.y;\n\ts.x--,s.y--,t.x--,t.y--;\n\ts.step = 0, s.num = 1;\n\tinq[s.x][s.y] = 1;\n\tpot[s.x][s.y] = 1;\n\tq[++e] = s;//\u521d\u59cb\u5316ing...\n\twhile ( f <= e )\n\t{\n\t\tPoint u = q[f++];\n\t\tinq[u.x][u.y] = 0;\n\t\tfor (int i = 0; i < 4; i++)\n\t\t{\n\t\t\tPoint v;\n\t\t\tv.x = u.x + detx[i];\n\t\t\tv.y = u.y + dety[i];\n\t\t\tv.step = u.step + 1;\n\t\t\tv.num = u.num;\n\t\t\tif (v.x < 0 || v.x >= n || v.y < 0 || v.y >= m) continue;//\u662f\u5426\u8d8a\u754c\n\t\t\tif (g[v.x][v.y] == '*') continue;//\u662f\u5426\u649e\u6811\n\t\t\tif (v.x == t.x && v.y == t.y && v.step == lmt)\n\t\t\t{\n\t\t\t\tans = ans + v.num;\n\t\t\t}//\u5982\u679c\u7b26\u5408\u6761\u4ef6\uff0c\u7b54\u6848\u52a01\n\t\t\tif (v.step >= lmt)\n\t\t\t\tcontinue;//\u5224\u5b9a\u6b65\u6570\n\t\t\tif (inq[v.x][v.y] == 0)\n\t\t\t{\n\t\t\t\tq[++e] = v;\n\t\t\t\tinq[v.x][v.y] = 1;\n\t\t\t\tpot[v.x][v.y] = e;\n\t\t\t}//\u5982\u679c\u6b64\u70b9\u4e0d\u5728\u961f\u5217\u4e2d\n\t\t\telse \n\t\t\t{\n\t\t\t\tq[pot[v.x][v.y]].num += v.num;\n\t\t\t}//\u5982\u679c\u6b64\u70b9\u5df2\u7ecf\u505a\u8fc7\u4e86\uff0c\u5c06\u4e24\u4e2a\u70b9\u7684\u65b9\u6cd5\u6570\u91cf\u5408\u5e76\n\t\t}\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n\n```\n",
        "postTime": 1548661163,
        "uid": 55995,
        "name": "\u6e90\u6c0f\u53ef\u4ee5\u5403\u5417",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1535 \u3010\u6e38\u8361\u7684\u5976\u725b\u3011"
    }
]