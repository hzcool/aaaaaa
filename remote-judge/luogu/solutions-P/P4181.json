[
    {
        "content": "\u9898\u610f\u7ffb\u8bd1\n\nfarmer john\u6709N\uff081\u2264N\u2264100,000\uff09\u5934\u725b\uff0c\u4ed6\u60f3\u8d5a\u8ddf\u591a\u7684\u94b1\uff0c\u6240\u4ee5\u4ed6\u51c6\u5907\u4e70\u725b\u5976\u548c\u51fa\u79df\u725b\u3002\u6709M(1\u2264M\u2264100,000 )\u5bb6\u5546\u5e97\u60f3\u4e70\u725b\u5976\uff0c\u6bcf\u5bb6\u5546\u5e97\u7684\u8fdb\u8d27\u4ef7\u4e0d\u540c\u3002\u6709R(1\u2264R\u2264100,000 )\u6237\u90bb\u5c45\u60f3\u79df\u725b\uff0c\u6bcf\u6237\u4eba\u5bb6\u7684\u79df\u4ef7\u4e0d\u540c\u3002 \u95ee\u4ed6\u6700\u591a\u80fd\u8d5a\u591a\u5c11\u94b1\u3002\n\n\u8f93\u5165\uff1a\u8f93\u5165\u7684\u7b2c1\u884c\u5305\u542bn,m,r\u4e09\u4e2a\u6574\u6570\u3002\u7d27\u63a5\u7740\u7684n\u884c\u6bcf\u4e00\u884c\u67091\u4e2a\u6574\u6570Ci (1\u2264Ci\u22641,000,000)\uff0c\u8868\u793a\u7b2ci\u5934\u725b\u4ea7\u51faCi\u52a0\u4ed1\u5976\u3002\u518d\u4e0b\u9762\u7684m\u884c\u6bcf\u884c\u6709\u4e24\u4e2a\u6574\u6570Qi\u4e0ePi (1\u2264Qi,Pi\u22641,000,000)\uff0c\u8868\u793a\u7b2ci\u4e2a\u5546\u5e97\u6700\u591a\u4ee5Pi\u7f8e\u5206\u6bcf\u52a0\u4ed1\u7684\u4ef7\u683c\u8d2d\u4e70Qi\u52a0\u4ed1\u725b\u5976\u3002FJ\u53ef\u9500\u552e0~Qi\u52a0\u4ed1\u725b\u5976\u5230\u4e00\u4e2a\u5546\u5e97\u3002\u7136\u540e\u7684r\u884c\u6bcf\u884c\u6709\u4e00\u4e2a\u6574\u6570Ri\uff0c\u8868\u793aFJ\u7684\u7b2ci\u4e2a\u90bb\u5c45\u60f3\u4ee5Ri(1\u2264Ri\u22641,000,000 ), \u7684\u4ef7\u683c\u79df\u4e00\u5934\u725b\u3002\n\n\u8f93\u51fa\uff1a\u4ec5\u4e00\u884c\u3002\u8868\u793a\u4e00\u5929\u6700\u591a\u83b7\u5f97\u591a\u5c11\u94b1\u3002\n\n\n\u8bf4\u660e\uff1a FJ \u9700\u8981\u6324\u4e00\u53f7\u548c\u56db\u53f7\u5976\u725b\u7684\u5976\uff0c\u5171\u53ef\u5f97\u725b\u597613\u52a0\u4ed1\u3002\u4ed6\u53ef\u4ee5\u5148\u4e70\u7ed9\u51fa\u4ef7\u6700\u9ad8\u768410\u52a0\u4ed1\uff0c\u8d5a250\u7f8e\u5206\uff0c\u7136\u540e\u628a\u5269\u4e0b\u7684\u6309\u6bcf\u52a0\u4ed115\u7f8e\u5206\u53bb\u5356\uff0c\u5171\u6709295\u7f8e\u5206\u7684\u5229\u6da6\u3002 \u7136\u540e\uff0c\u4ed6\u8981\u628a\u5176\u4ed6\u4e09\u5934\u4ee5250,80\uff0c\u548c100\u7f8e\u5206\u7684\u4ef7\u683c\u5206\u522b\u5356\u51fa\uff0c\u8d5a430\u7f8e\u5206\u3002\u6240\u4ee5\u4ed6\u4e00\u5171\u53ef\u5f97725\u7f8e\u5206/\u65e5\u7684\u5229\u6da6\u3002\n\n\u8f93\u5165\u8f93\u51fa\u6837\u4f8b\n\u8f93\u5165\u6837\u4f8b#1\uff1a\n\n5 3 4\n6\n2\n4\n7\n1\n10 25\n2 10\n15 15\n250\n80\n100\n40\n\n\u8f93\u51fa\u6837\u4f8b#1\uff1a\n\n725\n\u6ce8\u610f\uff1aint\u7c7b\u578b\u4e0d\u591f\u5927\uff01\uff01\uff01\n\n\u8fd9\u9053\u9898\u6709\u4e09\u79cd\u5730\u65b9\u7528\u5230\u4e86\u8d2a\u5fc3:\n1.\u7559\u4e0b\u4ea7\u5976\u91cf\u591a\u7684\u5976\u725b;\n2.\u5356\u725b\u5976\u5148\u5356\u7ed9\u51fa\u4ef7\u9ad8\u7684\u5546\u94fa;\n3.\u628a\u5976\u725b\u79df\u7ed9\u51fa\u4ef7\u9ad8\u7684\u90bb\u5c45\u3002\n\n\u800c\u4e3a\u4e86\u8282\u7701\u65f6\u95f4\uff0c\u5c31\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u3002\n\u6ce8\u610f\u7a0b\u5e8f\u4e2d\u7684\u8fd9\u4e00\u53e5\uff1amm=max(mm,zqs+c[min(n-i,k)]);\nc\u4e2d\u4fdd\u5b58\u5c06\u4e0d\u4ea7\u5976\u7684n-i\u5934\u5976\u725b\u79df\u7ed9\u90bb\u5c45\u7684\u53ef\u5f97\u7684\u6700\u5927\u91d1\u989d\uff0c\u56e0\u4e3a\u524d\u7f00\u548c\u540e\u76f4\u63a5\u53d6c[min(n-i,k)]\uff0c\u6c42\u4e2amin\u662f\u56e0\u4e3an-i\u53ef\u80fd\u4e0dk\u5927\uff0c\u8bf4\u660e\u79df\u7ed9\u90bb\u5c45\u540e\u8fd8\u6709\u5976\u725b\u5269\u4f59\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct ll{            \n//\u5168\u90e8\u7528long long\uff08\u53ea\u8981\u4e2a\u522b\u7528\u5c31\u53ef\u4ee5\uff0c\u8fd9\u91cc\u4e3a\u4e86\u8282\u7ea6\u505a\u9898\u65f6\u95f4\uff09\n\tlong long zl,qian;\n}b[1000001];\nlong long n,m,k,z,zqs,mm,t,a[1000001],c[1000001];\nbool cmp(long long x,long long y)\n{\n\treturn x>y;\n}\nbool cmp2(ll x,ll y)\n{\n\treturn x.qian>y.qian;\n}\nint main()\n{\n\tcin>>n>>m>>k;\n\tfor(int i=1;i<=n;i++)\n    //\u8bfb\u5165\u5976\u725b\u7684\u4ea7\u5976\u91cf\uff0c\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff08\u8d2a\u5fc3\uff09\n\tcin>>a[i];\n\tsort(a+1,a+1+n,cmp);\n\tfor(int i=1;i<=m;i++)\n    //\u8bfb\u5165\u5546\u94fa\u4e70\u5976\u725b\u7684\u4fe1\u606f\uff0c\u6309\u94b1\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff08\u518d\u6b21\u8d2a\u5fc3\uff09\n\tcin>>b[i].zl>>b[i].qian;\n\tsort(b+1,b+1+m,cmp2)\uff1b\n\tfor(int i=1;i<=k;i++)\n    //\u8bfb\u5165\u90bb\u5c45\u79df\u5976\u725b\u7684\u91d1\u94b1\uff0c\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff08\u53c8\u4e00\u6b21\u8d2a\u5fc3\uff09\n\tcin>>c[i];\n\tsort(c+1,c+1+k,cmp);\n\tfor(int i=1;i<=k;i++)//\u8282\u7701\u65f6\u95f4\u800c\u7528\u7684\u524d\u7f00\u548c\n\tc[i]=c[i-1]+c[i];\n\tt=1; //t\u4ee3\u8868\u5f53\u524d\u5356\u4e2a\u7b2c\u51e0\u4e2a\u5546\u94fa\n\tfor(int i=0;i<=n;i++)//\u679a\u4e3e\u7559\u4e0bi\u5934\u5976\u725b\u4ea7\u5976\n\t{\n\t\tz=z+a[i];//\u7b2ci\u5934\u725b\u4ea7\u5976\n\t\twhile((t<=m)&&(z>=b[t].zl))\n        //\u5546\u94fa\u8fd8\u80fd\u5356\u4e14\u53ef\u4ee5\u5c06\u5546\u94fa\u7684\u9700\u6c42\u91cf\u5168\u90e8\u5b8c\u6210\uff0c\u5219\u5168\u90e8\u4e70\u3002\n\t\t{\n\t\t\tzqs=zqs+b[t].zl*b[t].qian;\n\t\t\tz=z-b[t].zl;\n\t\t\tt++;\n\t\t}\n\t\tif(t<=m)//\u6ca1\u505a\u5b8c\u7684\u8bdd\uff0c\u5c06\u5269\u4f59\u7684\u725b\u5976\u4e70\u51fa\u53bb\u3002\n\t\t{\n\t\t\tzqs=zqs+z*b[t].qian;b[t].zl-=z;z=0;\n\t\t}\n\t\tmm=max(mm,zqs+c[min(n-i,k)]);\n\t}\n\tcout<<mm;\n\treturn 0;\n}\n```\n",
        "postTime": 1555325257,
        "uid": 155355,
        "name": "AOTO",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P4181 \u3010[USACO18JAN]Rental Service\u3011"
    },
    {
        "content": "\u633a\u597d\u73a9\u7684\u4e00\u9053\u9898\u3002   \n\u6211\u6709\u4e2a\u76f4\u89c2\u4e00\u4e9b~~(\u5927\u6982)~~\u7684\u601d\u8def\uff0c\u65f6\u7a7a\u754c\u4e5f\u8fd8\u4e0d\u9519\u3002(\u622a\u6b622018.8.6\uff0c\u7a7a\u95f43.24MB rank1\uff0c\u6ca1\u7528fread\u65f6\u95f4128ms rank2)\n\n\n------------\n\n\u5148\u8003\u8651\u5bf9\u4e8e\u4e00\u5934\u725b\u7684\u64cd\u4f5c\u3002    \n\n\u4e00\u5934\u725b\u5356\u5976\u8fd8\u662f\u79df\u5f88\u660e\u663e\u8981\u770b\u54ea\u4e2a\u8d5a\u5f97\u94b1\u66f4\u591a\u3002\u4f46\u662f\uff0c\u5bf9\u4e8e\u67d0\u4e00\u5934\u725b\u6765\u8bf4\uff0c\u5047\u5982\u5b83\u7684\u4ea7\u5976\u91cf\u9ad8\uff0c\u867d\u7136\u76ee\u524d\u5356\u7684\u94b1\u66f4\u591a\uff0c\u4f46\u662f\u5982\u679c\u6211\u8d2a\u5fc3\u7684\u5356\u4e86\u5b83\uff0c\u5bfc\u81f4\u540e\u671f\u6ca1\u725b\u5356\u5f97\u51fa\u53bb\u4e86(\u90bb\u5c45\u4e2a\u6570\u662f\u56fa\u5b9a\u7684)\uff0c\u540e\u9762\u7684\u725b\u4ea7\u7684\u5976\u4e5f\u6ca1\u5b83\u591a\uff0c\u90a3\u4e0d\u662f\u4e8f\u60e8\u4e86\u5417? \u6211\u4e0d\u5982\u628a\u5b83\u5148\u7559\u7740\uff0c\u5356\u4ea7\u5976\u91cf\u5c11\u7684\u725b\uff0c\u56e0\u4e3a**\u6bcf\u5934\u725b\u5356\u51fa\u53bb\u7684\u4ef7\u683c\u662f\u76f8\u540c\u7684\uff0c\u65e0\u8bba\u4ea7\u5976\u91cf\u591a\u5c11**\u3002\n\n\u90a3\u4e48\u8d2a\u5fc3\u7b56\u7565\u4e5f\u5c31\u547c\u4e4b\u6b32\u51fa\u4e86\u3002\u5bf9\u4e8e\u725b\u7684\u4ea7\u5976\u91cf\u6392\u5e8f\uff0c\u7ef4\u62a4\u4e00\u524d\u4e00\u540e\u4e24\u4e2a\u6307\u9488\uff0c\u5148\u5c1d\u8bd5\u8ba9\u5b83\u4ea7\u5976\u5e76\u8bb0\u5f55\u8fd9\u4e2a\u6536\u76ca\uff0c\u7136\u540e\u5047\u5982\u6709\u4e00\u4e2a\u90bb\u5c45\u51fa\u4ef7\u6bd4\u8fd9\u4e2a\u503c\u8fd8\u8981\u9ad8\uff0c\u90a3\u4e48\u5c31\u5356\u6389**\u4ea7\u5976\u91cf\u6700\u5c11\u7684\u4e00\u5934\u725b**\uff0c\u53cd\u4e4b\u8bf4\u660e\u8ba9\u8fd9\u5934\u725b\u4ea7\u5976\u6700\u4f18\uff0c\u4e8e\u662f\u8ba9\u5b83\u4ea7\u5976\uff0c\u7136\u540e\u521d\u59cb\u5316\u6536\u76ca\u5373\u53ef\u3002\n\n```cpp\n#include <queue>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\ntypedef pair<int, int> P;\ntypedef long long ll;\nconst int MAXN = 1e5 + 20;\n\ninline int read()\n{\n\tint x = 0; char ch = getchar(); bool f = false;\n\twhile(!isdigit(ch)) f |= (ch == '-'), ch = getchar();\n\twhile(isdigit(ch)) x = x * 10 + ch - '0', ch = getchar();\n\treturn f ? -x : x;\n}\n\nint N, M, R;\nint buy[MAXN]; P shop;\nint cow[MAXN];\npriority_queue<P> q;\n\nint main()\n{\n\tcin>>N>>M>>R;\n\tfor(int i = 1; i <= N; i++) cow[i] = read();\n\tfor(int i = 1; i <= M; i++) \n\t\tshop.second = read(), shop.first = read(), q.push(shop);\n\tfor(int i = 1; i <= R; i++) buy[i] = read();\n\tsort(cow + 1, cow + N + 1);\n\tsort(buy + 1, buy + R + 1);\n\n\tint l = 1, r = N, b = R; \n\tll ans = 0, tmp = -1; \n\tfor(int i = 1; i <= N; i++){\n\t\tif(tmp == -1) while(!q.empty() && cow[r]) {\n\t\t\tif(tmp == -1) tmp = 0;\n\t\t\tif(q.top().second > cow[r]) {\n\t\t\t\tP p = q.top(); q.pop();\n\t\t\t\ttmp += 1LL * cow[r] * p.first,\n\t\t\t\tp.second -= cow[r], cow[r] = 0;\n\t\t\t\tq.push(p);\n\t\t\t}\n\t\t\t\t\n\t\t\telse \n\t\t\t\ttmp += 1LL * q.top().first * q.top().second,\n\t\t\t    cow[r] -= q.top().second, q.pop();\n\t\t} \n\t\tif(tmp != -1 && tmp >= buy[b])\n\t\t\tans += tmp, tmp = -1, --r;\n\t\telse if(b != 0) ans += buy[b--], ++l;\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n\n```",
        "postTime": 1533567689,
        "uid": 57705,
        "name": "\u4ffa\u662f\u5c0f\u7a0b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4181 \u3010[USACO18JAN]Rental Service\u3011"
    },
    {
        "content": "## \u9898\u76ee\u5206\u6790\n\n\u5f88\u663e\u7136\uff0c\u8fd9\u662f\u4e00\u9053\u8d2a\u5fc3\u9898\u3002\u4e3b\u8981\u7528\u4e86\u4e09\u6b21\u8d2a\u5fc3\uff1a\n1.  \u7528 sort \u6392\u4e00\u4e0b $C_n$ ,\u53ea\u628a\u4ea7\u5976\u91cf\u8f83\u5c0f\u7684\u5356\u7ed9\u90bb\u5c45\uff0c\u5176\u4ed6\u6324\u5976\u4f9b\u5e94\u5546\u5e97\u3002\n2.  \u7528 sort \u628a\u5546\u5e97\u7ed9\u51fa\u7684\u4ef7\u683c\u4ece\u5927\u5230\u5c0f\u6392,\u53ea\u628a\u5976\u5356\u7ed9\u51fa\u4ef7\u9ad8\u7684\uff0c\u51fa\u4ef7\u4f4e\u7684\u4e0d\u5356\uff0c\u5f53\u7136\uff0c\u8fd9\u4f1a\u7528\u5230\u7ed3\u6784\u4f53\u7684\u77e5\u8bc6\u3002\n3.  \u7528 sort \u6392\u4e00\u4e0b $R_r$ \uff0c\u53ea\u7ed9\u51fa\u4ef7\u9ad8\u7684\u90bb\u5c45\u5976\u725b\uff0c\u800c\u4e14\u53ea\u7ed9\u4ea7\u5976\u91cf\u4f4e\u7684\u5976\u725b\u3002\n\n\u7136\u540e\u5f88\u660e\u663e\uff0c\u5728\u5976\u725b\u4e4b\u95f4\u5b58\u5728\u4e00\u4e2a\u5206\u754c\u70b9\u4f7f\u5f97\u5206\u754c\u70b9\u5de6\u8fb9\u7684\u5976\u725b(\u4ea7\u5976\u91cf\u5c0f\u7684)\u90fd\u5356\u7ed9\u90bb\u5c45\uff0c\u5176\u4ed6\u4f9b\u5e94\u5546\u5e97\u3002\u679a\u4e3e\u8fd9\u4e2a\u5206\u754c\u70b9\u5373\u53ef\u3002\n\n\u6700\u540e\uff0c\u8bb0\u5f97\u5f00 long long !!!\n\n## \u4ee3\u7801\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define ll long long\nconst int MAXN=1e6+5;\nint n,m,r;\nll rmb=0;\nll ans=0;//\u7b54\u6848\nint num=1,have=0;//\u8bb0\u5f55\u5f53\u524d\u5546\u5e97\u7f16\u53f7,\u5546\u5e97\u5df2\u6709\u725b\u5976\nint c[MAXN];//\u6bcf\u5934\u5976\u725b\u7684\u6324\u5976\u91cf\nll d[MAXN];//\u519c\u573a\u7684\u4ef7\u683c\nstruct shop{\n\tint p;//\u5355\u4ef7\n\tint q;//\u9700\u8981\u725b\u5976\n}a[MAXN];\nbool cmp(shop x,shop y){\n\treturn x.p>y.p;\n}\nbool clr(int x,int y){\n\treturn x>y;\n}\nint main(){\n\tcin>>n>>m>>r;\n\tfor(int i=1;i<=n;i++)\n\t\tcin>>c[i];\n\tfor(int i=1;i<=m;i++)\n\t\tcin>>a[i].q>>a[i].p;\n\tfor(int i=1;i<=r;i++)\n\t\tcin>>d[i];\n\tsort(c+1,c+n+1,clr);\n\tsort(a+1,a+m+1,cmp);\n\tsort(d+1,d+r+1,clr);\n\tfor(int i=1;i<=r;i++)\n\t\td[i]+=d[i-1];\n\t//\u6392\u5e8f&\u8f93\u5165\n\t\n\tfor(int i=0;i<=n;i++){\n\t\twhile(num<=m){\n\t\t\tif(c[i]+have>=a[num].q){\n\t\t\t\tc[i]=c[i]-a[num].q+have;\n\t\t\t\trmb+=(a[num].q-have)*1ll*a[num].p;\n\t\t\t\tnum++;\n\t\t\t\thave=0;\n\t\t\t}\n\t\t\telse{\n\t\t\t\trmb+=c[i]*1ll*a[num].p;\n\t\t\t\thave+=c[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}//\u5982\u679c\u4f9b\u5e94\u5546\u7535\u6240\u5e26\u6765\u7684\u91d1\u94b1\n\t\tif(d[min(n-i,r)]+rmb>ans)//\u8fd8\u6ca1\u6709\u8fbe\u5230\u5206\u754c\u70b9\n\t\t    ans=rmb+d[min(n-i,r)];//\u66f4\u65b0\u7b54\u6848\n\t\telse break;//\u8d8a\u8fc7\u5206\u754c\u70b9,\u6ca1\u6709\u5fc5\u8981\u7ee7\u7eed\u4e86\n\t}\n\tcout<<ans;\n}\n\n```\n",
        "postTime": 1614727101,
        "uid": 248400,
        "name": "Inaba_Meguru",
        "ccfLevel": 7,
        "title": "P4181 [USACO18JAN]Rental Service S \u9898\u89e3"
    },
    {
        "content": "[[USACO18JAN]Rental Service S](https://www.luogu.com.cn/problem/P4181)\n\n### \u524d\u8a00\n\n\u8fd9\u9053\u9898\u7684\u7b97\u6cd5\u6700\u57fa\u7840\u7684\u5e94\u8be5\u662f\u8d2a\u5fc3\uff0c\u4f46\u5728\u5b9e\u73b0\u4e0a\uff0c\u603b\u6709\u8bb8\u591a\u4e0d\u4e00\u6837\uff08\u6e05\u5947\uff09\u7684\u601d\u8def\u3002\n\n\u540e\u6765\u53d1\u73b0\u9898\u89e3\u533a\u91cc\u9762\u6709\u4e00\u4e2a\u5927\u4f6c\u7528\u4e8c\u5206\u6cd5\u89e3\u51b3\u7684\uff0c\u4f46\u6ca1\u6709\u8be6\u7ec6\u7684\u5206\u6790\uff0c\u5bf9\u4e8e\u50cf\u6211\u8fd9\u6837\u7684\u849f\u84bb\u6765\u8bf4\u5b9e\u5728\u662f\u770b\u4e0d\u61c2\u7684\uff0c\u6240\u4ee5\u624d\u6709\u4e86\u8fd9\u7bc7\u9898\u89e3\u3002\n\n\u7801\u98ce\u6709\u70b9\u76f8\u4f3c\uff0c\u4f46\u786e\u786e\u5b9e\u5b9e\u662f\u6211\u81ea\u5df1\u6253\u7684\u3002\n\n## 1.\u5ba1\u9898\n\n\u7ed9\u51fa\u4e00\u4e9b\u725b\uff0c\u4f60\u53ef\u4ee5\u5c06\u4ed6\u4eec\u79df\u51fa\u83b7\u5f97\u6536\u76ca\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5356\u4ed6\u4eec\u7684\u725b\u5976\u83b7\u5f97\u6536\u76ca\uff0c\u95ee\u8fd9\u4e2a\u6536\u76ca\u7684\u6700\u5927\u503c\u3002\n\n## 2.\u8d2a\u5fc3\n\n### 2.1\u5bf9\u4e8e\u5356\u4ed6\u4eec\u7684\u725b\u5976\n\n\u5bf9\u4e00\u52a0\u4ed1\u7684\u725b\u5976\u548c\u60f3\u8981\u5b83\u7684\u5546\u5e97\u6765\u8bf4\uff0c\u8fd9\u4e00\u52a0\u4ed1\u7684\u725b\u5976\u65e0\u8bba\u5982\u4f55\u90fd\u8981\u5356\u51fa\u53bb\uff0c\u53ef\u662f\u600e\u6837\u624d\u80fd\u8ba9\u6536\u76ca\u6700\u5927\u5462\uff1f\n\n\u5f53\u7136\u662f\u8ba9**\u51fa\u4ef7\u6700\u9ad8**\u7684\u5546\u8d29\u5c06\u4ed6\u8d2d\u4e70\u8d70\u3002\n\n### 2.2\u5bf9\u4e8e\u5c06\u4ed6\u4eec\u51fa\u79df\n\n\u4e0e\u4e0a\u9762\u57fa\u672c\u540c\u7406\uff0c\u4e5f\u53ef\u4ee5\u786e\u5b9a\u8d2a\u5fc3\u7b56\u7565\uff1a**\u79df\u7ed9\u4ef7\u683c\u9ad8\u7684**\u3002\n\n\u8fd8\u6709\u4e00\u4e2a\u5c0f\u70b9\uff1a\u6bcf\u6b21\u51fa\u79df**\u5976\u4ea7\u7684\u6700\u5c11\u7684**\uff0c\u6700\u5927\u9650\u5ea6\u8ba9\u51fa\u79df\u76f8\u540c\u6570\u91cf\u7684\u5976\u725b\u540e\uff0c\u5269\u4e0b\u7684\u4ea7\u7684\u725b\u5976\u6700\u591a\u3002\n\n## 3.\u5b9e\u73b0\n\n### 3.1\u6570\u636e\u7684\u57fa\u7840\u5904\u7406\n\n\u6392\u5e8f\uff0c\u7528C++\u7684STL\u4e2d\u7684sort\u51fd\u6570\u3002~~STL\u5927\u6cd5\u597d~~\n\n\u5c06\u6240\u6709\u6570\u636e\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u5546\u5e97\u6309\u4ef7\u683c\u6392\u5e8f\uff08\u4e0d\u662f\u5bb9\u91cf\uff09\n\n\u524d\u7f00\u548c\uff0c\u6c42\u51fa\u4ee5\u4e0b\u6570\u7ec4\u3002\n\n$need_i$ \uff1a\u524d $i$ \u5934\u5976\u725b\u7684\u4ea7\u5976\u91cf\u3002\n\n$lend_i$ \uff1a\u524d $i$ \u4e2a\u79df\u6237\u7ed9\u51fa\u7684\u79df\u8d37\u603b\u548c\u3002\n\n$milk_i$ \uff1a\u524d $i$ \u4e2a\u5546\u5e97\u6240\u9700\u5bb9\u91cf\u603b\u548c\u3002\n\n$milkadd_i$ \uff1a**\u521a\u597d\u6ee1\u8db3**\u524d $i$ \u4e2a\u5546\u5e97\u53ef\u83b7\u5f97\u7684\u5229\u6da6\u3002\n\n### 3.2\u57fa\u7840\u4ee3\u7801\u5b9e\u73b0\uff0820\u5206\uff09\n\n\u66b4\u529b\u679a\u4e3e\u5c06\u4ea7\u5976\u91cf\u6700\u5c11\u7684 $i$ \u5934\u5976\u725b\u51fa\u79df\u3002\n\n\u5bf9\u4e8e\u6bcf\u79cd\u60c5\u51b5\uff1a\n\n\u51fa\u79df\u83b7\u5f97\u7684\u5229\u6da6\uff1a $lend_i$\n\n\u5f97\u5230\u7684\u725b\u5976 $m$\uff1a $need_{N-i}$ \n\n\u518d\u6b21\u66b4\u529b\u8ba1\u7b97\uff1a\u4ece1\u5f00\u59cb\u5230 M ,\u7528\u7b2c\u4e8c\u90e8\u5206\u7684\u8d2a\u5fc3\u7b56\u7565\u8ba1\u7b97\u5176\u603b\u7684\u5229\u6da6\u3002\n\n\u6bcf\u6b21\u66f4\u65b0\u7b54\u6848\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a\uff1a$O(\\min(N,R)M)$\n\n\u80af\u5b9a\u662f\u8981~~\u72e0\u72e0\u7684~~\u8d85\u65f6\u7684\u3002\n\n### 3.3\u4f18\u5316\n\n\u6211\u4eec\u89c2\u5bdf\u5230 $milk_i$ \u662f\u4e00\u4e2a\u4e0a\u5347\u5e8f\u5217\uff0c\u90a3\u600e\u6837\u5feb\u901f\u627e\u51fa\u5f97\u5230\u7684\u725b\u5976\u5728\u54ea\u4e2a\u5546\u5e97\u505c\u6b62\u5356\u51fa\u5462\uff1f\n\n~~lower_bound&upper_bound\uff1a\u9009\u6211\uff01~~\n\n\u5176\u5b9e\u4e24\u4e2a\u90fd\u662f\u53ef\u4ee5\u7684\uff0c\u5982\u679c\u4f60\u8fd8\u4e0d\u77e5\u9053\u8fd9\u4e24\u4e2a\u51fd\u6570\uff0c[\u70b9\u6211](https://www.luogu.com.cn/problem/solution/P1020)\n\n\u4e24\u4e2a\u5dee\u4e00\u4e2a\u7b49\u4e8e\u53f7\u5176\u5b9e\u4e0d\u7b97\u592a\u91cd\u8981\uff0c\u53ea\u662f\u5728\u8ba1\u7b97\u65f6\u6709\u4e9b\u7ec6\u5fae\u7684\u5dee\u522b\u3002\n\n\u8fd9\u91cc\u7528 lower_bound \u505a\u4f8b\u5b50\u3002\n\n\u627e\u51fa\u6570\u5b57\u4e0b\u6807 $t$ \u540e\uff0c$milkadd_{t-1}$\u5c31\u662f\u524d $t-1$ \u4e2a\u5546\u5e97\u7684\u603b\u548c\u3002\n\n\u800c\u5269\u4e0b\u7684\u725b\u5976\u5c31\u7528 $(m-milk_{t-1})\\times shopp_t$ ,\u5176\u4e2d $shopp_t$ \u8868\u793a\u7b2c $i$ \u4e2a\u5546\u5e97\u4ef7\u683c\u662f\u591a\u5c11\u3002\n\n\u73b0\u5728\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5c31\u662f\uff1a$O(\\min(N,R)\\log M)$ \n\n## 4.\u4ee3\u7801:\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long N,M,R;\nlong long m_milk[100005];\nstruct P\n{\n\tlong long q,p;\n}milk_shop[100005];\nlong long cow_lend[100005];\nbool cmp(long long a,long long b){return a>b;}\nbool cmp2(P a,P b){return a.p>b.p;}\nlong long ans=-1,money=0;\nlong long sum_need[100005];\nlong long sum_lend[100005];\nlong long sum_milk[100005];\nlong long sum_milkadd[100005];\nint main()\n{\n\tscanf(\"%lld%lld%lld\",&N,&M,&R);\n\tfor(long long i=1;i<=N;i++)scanf(\"%lld\",&m_milk[i]);\n\tfor(long long i=1;i<=M;i++)scanf(\"%lld%lld\",&milk_shop[i].q,&milk_shop[i].p);\n\tfor(long long i=1;i<=R;i++)scanf(\"%lld\",&cow_lend[i]);\n\tsort(m_milk+1,m_milk+N+1,cmp);\n\tsort(cow_lend+1,cow_lend+R+1,cmp);\n\tsort(milk_shop+1,milk_shop+M+1,cmp2);\n\tfor(long long i=1;i<=N;i++)sum_need[i]=sum_need[i-1]+m_milk[i];\n\tfor(long long i=1;i<=R;i++)sum_lend[i]=sum_lend[i-1]+cow_lend[i];\n\tfor(long long i=1;i<=M;i++)sum_milk[i]=sum_milk[i-1]+milk_shop[i].q;\n\tfor(long long i=1;i<=M;i++)sum_milkadd[i]=sum_milkadd[i-1]+milk_shop[i].q*milk_shop[i].p;\n\tfor(long long i=0;i<=min(R,N);i++)\n\t{\n\t\tlong long milk=sum_need[N-i];\n\t\tlong long t=lower_bound(sum_milk+1,sum_milk+M+1,milk)-sum_milk;\n\t\tlong long tot=sum_milkadd[t-1]+(milk-sum_milk[t-1])*milk_shop[t].p;\n\t\tans=max(ans,tot+sum_lend[i]);\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n\n\n",
        "postTime": 1599363817,
        "uid": 116650,
        "name": "\u91d1\u94f6\u82b1\u9732",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P4181 \u3010[USACO18JAN]Rental Service S\u3011"
    },
    {
        "content": "```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int Max_Cows=100000+10;\n\nint Read()\n{ int Digital=0,Symbol=1;  char gc=getchar();\n  while (gc<'0'||gc>'9') {if(gc=='-')Symbol=-Symbol; gc=getchar();}\n  while (gc>='0'&&gc<='9') Digital=Digital*10+gc-'0',gc=getchar();\n  return Digital*Symbol;\n}\n\nint Yield[Max_Cows],Rental[Max_Cows];\nlong long S_Yield[Max_Cows],S_Need[Max_Cows];\nlong long S_Rental[Max_Cows],S_Stores[Max_Cows];\nstruct Node{int Need,Price;}Stores[Max_Cows];\nint N_Cows,M_Stores,R_Rental;long long Max_Money=0;\n\ninline bool Compare(int X,int Y){return X>Y;}\ninline bool Compare_Price(Node X,Node Y){return X.Price>Y.Price;}\nint main()\n{\n  int i; \t\n  //freopen(\"rental.in\",\"r\",stdin);freopen(\"rental.out\",\"w\",stdout);\n  N_Cows=Read(),M_Stores=Read(),R_Rental=Read();\n  for (i=1;i<=N_Cows;++i) Yield[i]=Read(); \n  sort(Yield+1,Yield+N_Cows+1,Compare);//\u6309\u725b\u5976\u4ea7\u91cf\u964d\u5e8f \n  for (i=1;i<=N_Cows;++i) S_Yield[i]=S_Yield[i-1]+Yield[i];\n  for (i=1;i<=M_Stores;++i) Stores[i].Need=Read(),Stores[i].Price=Read();\n  sort(Stores+1,Stores+M_Stores+1,Compare_Price);\n  //\u6309\u5546\u5e97\u9700\u8981\u725b\u5976\u91cf\u964d\u5e8f\n  for (i=1;i<=M_Stores;++i) \n    {S_Need[i]=S_Need[i-1]+Stores[i].Need;\n     S_Stores[i]=S_Stores[i-1]+(long long)Stores[i].Need*Stores[i].Price;}\n  for (i=1;i<=R_Rental;++i) Rental[i]=Read();\n  sort(Rental+1,Rental+R_Rental+1,Compare);\n  for (i=1;i<=R_Rental;++i) S_Rental[i]=S_Rental[i-1]+Rental[i];\n  for (i=0;i<=N_Cows;++i)\n   { if (N_Cows-i>R_Rental)continue;//\u8003\u8651\u79df\u8d41\u9700\u6c42N_Cows-i<=R_Rental\u5230N_Cows \n     long long Now_Money=S_Rental[N_Cows-i];\n     int Pos=upper_bound(S_Need+1,S_Need+M_Stores+1,S_Yield[i])-(S_Need+1);\n     //\u6309\u524di\u5934\u5976\u725b\u4ea7\u91cf\u603b\u548c\u641c\u7d22\u5546\u5e97\u9700\u6c42\u725b\u5976\u91cf \n     Now_Money+=S_Stores[Pos];//\u52a0\u5165\u5356\u7ed9\u5546\u5e97\u7684\u76c8\u5229 \n     if (Pos!=M_Stores) \n\t   Now_Money+=(long long)Stores[Pos+1].Price*(S_Yield[i]-S_Need[Pos]);\n     Max_Money=max(Max_Money,Now_Money);\n   }\n printf(\"%lld\\n\",Max_Money);\n return 0;\n}\n```",
        "postTime": 1521621937,
        "uid": 51234,
        "name": "s5_gan",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P4181 \u3010[USACO18JAN]Rental Service\u3011"
    },
    {
        "content": "http://www.elijahqi.win/2018/02/02/luogu4181-usaco18janrental-service/ \u200e\n\nhttp://blog.csdn.net/elijahqi/article/details/79242813\n\u9898\u610f\u7ffb\u8bd1\n\nfarmer john\u6709N\uff081\u2264N\u2264100,000\uff09\u5934\u725b\uff0c\u4ed6\u60f3\u8d5a\u8ddf\u591a\u7684\u94b1\uff0c\u6240\u4ee5\u4ed6\u51c6\u5907\u4e70\u725b\u5976\u548c\u51fa\u79df\u725b\u3002\u6709M(1\u2264M\u2264100,000 )\u5bb6\u5546\u5e97\u60f3\u4e70\u725b\u5976\uff0c\u6bcf\u5bb6\u5546\u5e97\u7684\u8fdb\u8d27\u4ef7\u4e0d\u540c\u3002\u6709R(1\u2264R\u2264100,000 )\u6237\u90bb\u5c45\u60f3\u79df\u725b\uff0c\u6bcf\u6237\u4eba\u5bb6\u7684\u79df\u4ef7\u4e0d\u540c\u3002 \u95ee\u4ed6\u6700\u591a\u80fd\u8d5a\u591a\u5c11\u94b1\u3002\n\n\u8f93\u5165\uff1a\u8f93\u5165\u7684\u7b2c1\u884c\u5305\u542bn,m,r\u4e09\u4e2a\u6574\u6570\u3002\u7d27\u63a5\u7740\u7684n\u884c\u6bcf\u4e00\u884c\u67091\u4e2a\u6574\u6570Ci (1\u2264Ci\u22641,000,000)\uff0c\u8868\u793a\u7b2ci\u5934\u725b\u4ea7\u51faCi\u52a0\u4ed1\u5976\u3002\u518d\u4e0b\u9762\u7684m\u884c\u6bcf\u884c\u6709\u4e24\u4e2a\u6574\u6570Qi\u4e0ePi (1\u2264Qi,Pi\u22641,000,000)\uff0c\u8868\u793a\u7b2ci\u4e2a\u5546\u5e97\u6700\u591a\u4ee5Pi\u7f8e\u5206\u6bcf\u52a0\u4ed1\u7684\u4ef7\u683c\u8d2d\u4e70Qi\u52a0\u4ed1\u725b\u5976\u3002FJ\u53ef\u9500\u552e0~Qi\u52a0\u4ed1\u725b\u5976\u5230\u4e00\u4e2a\u5546\u5e97\u3002\u7136\u540e\u7684r\u884c\u6bcf\u884c\u6709\u4e00\u4e2a\u6574\u6570Ri\uff0c\u8868\u793aFJ\u7684\u7b2ci\u4e2a\u90bb\u5c45\u60f3\u4ee5Ri(1\u2264Ri\u22641,000,000 ), \u7684\u4ef7\u683c\u79df\u4e00\u5934\u725b\u3002\n\n\u8f93\u51fa\uff1a\u4ec5\u4e00\u884c\u3002\u8868\u793a\u4e00\u5929\u6700\u591a\u83b7\u5f97\u591a\u5c11\u94b1\u3002\n\n\u6ce8\u610f\uff1aint\u7c7b\u578b\u4e0d\u591f\u5927\uff01\uff01\uff01\n\n\u8bf4\u660e\uff1a FJ \u9700\u8981\u6324\u4e00\u53f7\u548c\u56db\u53f7\u5976\u725b\u7684\u5976\uff0c\u5171\u53ef\u5f97\u725b\u597613\u52a0\u4ed1\u3002\u4ed6\u53ef\u4ee5\u5148\u4e70\u7ed9\u51fa\u4ef7\u6700\u9ad8\u768410\u52a0\u4ed1\uff0c\u8d5a250\u7f8e\u5206\uff0c\u7136\u540e\u628a\u5269\u4e0b\u7684\u6309\u6bcf\u52a0\u4ed115\u7f8e\u5206\u53bb\u5356\uff0c\u5171\u6709295\u7f8e\u5206\u7684\u5229\u6da6\u3002 \u7136\u540e\uff0c\u4ed6\u8981\u628a\u5176\u4ed6\u4e09\u5934\u4ee5250,80\uff0c\u548c100\u7f8e\u5206\u7684\u4ef7\u683c\u5206\u522b\u5356\u51fa\uff0c\u8d5a430\u7f8e\u5206\u3002\u6240\u4ee5\u4ed6\u4e00\u5171\u53ef\u5f97725\u7f8e\u5206/\u65e5\u7684\u5229\u6da6\u3002\n\n---by \u98ce\u683c\u96e8\u5173\u3001WuYongxuan\u3001\u6bd5\u6c81\u9732\n\u9898\u76ee\u63cf\u8ff0\n\nFarmer John realizes that the income he receives from milk production is insufficient to fund the growth of his farm, so to earn some extra money, he launches a cow-rental service, which he calls \"USACOW\" (pronounced \"Use-a-cow\").\n\nFarmer John has\nNN\n\nN cows (\n1\u2264N\u2264100,0001 \\leq N \\leq 100,000\n\n1\u2264N\u2264100,000 ), each capable of producing some amount of milk every day. The\nMM\n\nM stores near FJ's farm (\n1\u2264M\u2264100,0001 \\leq M \\leq 100,000\n\n1\u2264M\u2264100,000 ) each offer to buy a certain amount of milk at a certain price. Moreover, Farmer John's\nRR\n\nR (\n1\u2264R\u2264100,0001 \\leq R \\leq 100,000\n\n1\u2264R\u2264100,000 ) neighboring farmers are each interested in renting a cow at a certain price.\n\nFarmer John has to choose whether each cow should be milked or rented to a nearby farmer. Help him find the maximum amount of money he can make per day.\n\u8f93\u5165\u8f93\u51fa\u683c\u5f0f\n\n\u8f93\u5165\u683c\u5f0f\uff1a\nThe first line in the input contains\nNN\n\nN ,\nMM\n\nM , and\nRR\n\nR . The next\nNN\n\nN lines each contain an integer\ncic_i\n\nci\u200b (\n1\u2264ci\u22641,000,0001 \\leq c_i \\leq 1,000,000\n\n1\u2264ci\u200b\u22641,000,000 ), indicating that Farmer John's\nii\n\ni th cow can produce\ncic_i\n\nci\u200b gallons of milk every day. The next\nMM\n\nM lines each contain two integers\nqiq_i\n\nqi\u200b and\npip_i\n\npi\u200b (\n1\u2264qi,pi\u22641,000,0001 \\leq q_i, p_i \\leq 1,000,000\n\n1\u2264qi\u200b,pi\u200b\u22641,000,000 ), indicating that the\nii\n\ni th store is willing to buy up to\nqiq_i\n\nqi\u200b gallons of milk for\npip_i\n\npi\u200b cents per gallon. Keep in mind that Farmer John can sell any amount of milk between zero and\nqiq_i\n\nqi\u200b gallons to a given store. The next\nRR\n\nR lines each contain an integer\nrir_i\n\nri\u200b (\n1\u2264ri\u22641,000,0001 \\leq r_i \\leq 1,000,000\n\n1\u2264ri\u200b\u22641,000,000 ), indicating that one of Farmer John's neighbors wants to rent a cow for\nrir_i\n\nri\u200b cents per day.\n\n\u8f93\u51fa\u683c\u5f0f\uff1a\nThe output should consist of one line containing the maximum profit Farmer John can make per day by milking or renting out each of his cows. Note that the output might be too large to fit into a standard 32-bit integer, so you may need to use a larger integer type like a \"long long\" in C/C++.\n\u8f93\u5165\u8f93\u51fa\u6837\u4f8b\n\n\u8f93\u5165\u6837\u4f8b#1\uff1a \u590d\u5236\n\n5 3 4\n6\n2\n4\n7\n1\n10 25\n2 10\n15 15\n250\n80\n100\n40\n\n\u8f93\u51fa\u6837\u4f8b#1\uff1a \u590d\u5236\n\n725\n\n\u8bf4\u660e\n\nFarmer John should milk cows #1 and #4, to produce 13 gallons of milk. He should completely fill the order for 10 gallons, earning 250 cents, and sell the remaining three gallons at 15 cents each, for a total of 295 cents of milk profits.\n\nThen, he should rent out the other three cows for 250, 80, and 100 cents, to earn 430 more cents. (He should leave the request for a 40-cent rental unfilled.) This is a total of 725 cents of daily profit.\n\n\u586b\u5751ing zhx\u5de8\u4f6c\u5f88\u65e9\u4e4b\u524dA\u8fc7\u7684\u9898 \u7ecf\u8fc7\u4e86thuwc\u7684\u88ab\u8840\u8650 \u4eca\u5929\u4e00\u76f4\u81ea\u5df1\u60f3\u9898\u6240\u4ee5\u505a\u9898\u901f\u5ea6\u653e\u6162\u4e86\u5f88\u591a \u6b64\u9898\u6709\u4e24\u79cd\u6a21\u5f0f 1\u3001\u53ef\u4ee5\u5356\u725b\u59762\u3001\u53ef\u4ee5\u51fa\u79df\u5976\u725b \u6839\u636e\u76f4\u89c9\u53ef\u4ee5\u611f\u89c9\u5230 \u6211\u51fa\u79df\u5976\u725b\u4e00\u5b9a\u5f97\u662f\u51fa\u79df\n\n\u90a3\u4e9b\u4ea7\u5976\u91cf\u504f\u5c11\u7684 \u7136\u540e\u9760\u4ea7\u5976\u4e3a\u6536\u5165\u7684\u90a3\u4e48\u4e00\u5b9a\u5f97\u662f \u4ea7\u5976\u91cf\u591a\u7684\u5976\u725b \u90a3\u4e48\u5c31\u9488\u5bf9\u4e24\u90e8\u5206\u5206\u522b\u8ba1\u7b97 \u5982\u679ci\u5934\u5976\u725b\u5168\u4ea7\u5976 \u6211\u6700\u591a\u83b7\u5f97\u7684\u7ecf\u6d4e\u6536\u76ca\u662f\u591a\u5c11\u7136\u540e\u518d\u679a\u4e3e\u4e00\u4e0b\u6211i\u5934\u5976\u725b\u5168\u51fa\u79df\u83b7\u5f97\u7684\u6536\u76ca\u662f\u591a\u5c11 \u90a3\u4e48\u8fd9\u65f6\u5019\u518d\u679a\u4e3e\u4e00\u4e0b \u6211\u51e0\u5934\u5976\u725b\u51fa\u79df\u51e0\u5934\u5976\u725b\u4ea7\u5976 \u9009\u6700\u5927\u5373\u53ef\n```\n#include<cstdio>\n#include<algorithm>\n#define ll long long\n#define N 110000\nusing namespace std;\ninline char gc(){\n\tstatic char now[1<<16],*S,*T;\n\tif (T==S){T=(S=now)+fread(now,1,1<<16,stdin);if (T==S) return EOF;}\n\treturn *S++;\n}\ninline int read(){\n\tint x=0,f=1;char ch=gc();\n\twhile(ch<'0'||ch>'9'){if (ch=='-') f=-1;ch=gc();}\n\twhile(ch<='9'&&ch>='0') x=x*10+ch-'0',ch=gc();\n\treturn x*f;\n}\nstruct node{\n\tint nd,pri;\n}s[N];\nint n,m,r,milk[N],price[N];ll sum[N],sum1[N];\ninline bool cmp1(const int &a,const int &b){return a>b;}\ninline bool cmp(const node &a,const node &b){return a.pri>b.pri;}\nint main(){\n\tfreopen(\"rental.in\",\"r\",stdin);\n\tfreopen(\"rental.out\",\"w\",stdout);\n\tn=read();m=read();r=read();\n\tfor (int i=1;i<=n;++i) milk[i]=read();sort(milk+1,milk+n+1,cmp1);\n\tfor (int i=1;i<=m;++i) s[i].nd=read(),s[i].pri=read();\n\tsort(s+1,s+m+1,cmp);int now=1,now1=1;\n\tfor (int i=1;i<=r;++i) price[i]=read();sort(price+1,price+r+1,cmp1);ll ans=0;\n\tfor (int i=1;i<=r;++i) sum[i]=sum[i-1]+price[i];\n\tfor (int i=1;i<=n;++i){\n\t\tll tmp1=0;int c=milk[i],pre=now;node e=s[now];\n\t\twhile(c>=s[now].nd&&now<=m){\n\t\t\ttmp1+=(ll)s[now].nd*s[now].pri;\n\t\t\tc-=s[now].nd;++now;e=s[now];\n\t\t}tmp1+=(ll)c*s[now].pri;e.nd-=c;\n\t\tsum1[i]=sum1[i-1]+tmp1;s[now]=e;\n\t}\n\tfor (int i=1;i<=n;++i) ans=max(ans,sum1[i]+sum[n-i]);\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n\n```",
        "postTime": 1517574406,
        "uid": 5037,
        "name": "elijahqi",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P4181 \u3010[USACO18JAN]Rental Service\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u76ee\u662f\u4e00\u9053\u6bd4\u8f83\u7b80\u5355\u7684\u8d2a\u5fc3\u3002\n\u6b65\u9aa4\uff1a\nS1 \u8f93\u5165\nS2 \u9884\u5904\u7406\uff1a\u6839\u636e\u4ea7\u5976\u91cf\u6392\u5e8f\u5976\u725b\uff0c\u6839\u636e\u6536\u8d2d\u4ef7\u683c\u6392\u5e8f\u5546\u5e97\uff0c\u6839\u636e\u79df\u91d1\u6392\u5e8fneighbour\u3002\nS3 \u8d2a\u5fc3\uff1a\u4ea4\u6613\u5f53\u524d\u6536\u76ca\u6700\u5927\u7684\nS4 \u8f93\u51fa\n\u4e0b\u9762\u4e0a\u4ee3\u7801(c++)\uff0c\u4e0d\u61c2\u5f97\u53ef\u4ee5\u95ee\uff0c\u4e0d\u559c\u52ff\u55b7\n_____\n```\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int maxn=1e5+5;\nint N,M,R;\nint r[maxn],c[maxn];\nlong long sum=0;\nint sl=1,rl=1,tj,lq;\n//tj\u8bb0\u5f55\u5f53\u524d\u5c1d\u8bd5\u4ea4\u6613\u7684\u6700\u540e\u4e00\u5bb6\u5546\u5e97\u4f4d\u7f6e\uff0csl\u8bb0\u5f55\u524d\u4e00\u6b21\u4ea4\u6613\u5b8c\u6210\u5546\u5e97\u7684\u7f16\u53f7\uff0crl\u8bb0\u5f55\u5f85\u79df\u5976\u725b \uff0clq\u4e3a\u5269\u4f59\u9700\u6c42\u91cf \nstruct store{\n    int p,q;\n}s[maxn];\nint cmp1(store a,store b){//\u6392\u5e8f\u5546\u5e97\u7684\u4ef7\u683c \n    return a.p>b.p;\n}\nint cmp2(int a,int b){\n    return a>b;\n}\nlong long rent(int i){\n    return (long long)r[rl];\n}\nlong long sell(int i){\n    int flag=0,left=c[i];long long tot=0;\n    tj=sl;\n    while(left>=s[tj].q&&tj<=M){//\u5269\u4f59\u5976\u91cf\u5356\u7ed9\u5546\u5e97 \n        left-=s[tj].q;tot+=s[tj].q*s[tj].p;tj++;\n    }\n    if(tj>M){//\u725b\u5976\u4f9b\u8fc7\u4e8e\u6c42 \n        return tot;\n    }\n    lq=s[tj].q-left;tot+=left*s[tj].p;//lq\u8868\u793a\u8fd9\u5934\u725b\u7684\u725b\u5976\u5356\u7684\u6700\u540e\u4e00\u5bb6\u5546\u5e97\u8fd8\u9700\u8981\u591a\u5c11\u725b\u5976 \n    return tot;\n}\nint main(){\n    cin>>N>>M>>R;\n    int i,j,k;\n    for(i=1;i<=N;i++){\n        scanf(\"%d\",&c[i]);\n    }\n    sort(c+1,c+N+1);\n    for(i=1;i<=M;i++){\n        scanf(\"%d%d\",&s[i].q,&s[i].p);\n    }\n    for(i=1;i<=R;i++)scanf(\"%d\",&r[i]);\n    sort(s+1,s+M+1,cmp1);\n    sort(r+1,r+R+1,cmp2);\n    i=1;j=N;int w=0;\n    while(i<=j){\n        long long a=rent(i),b=sell(j);\n        if((a>=b||sl>M)&&rl<=R){//\u51fa\u79df\u76ee\u524d\u4ea7\u5976\u91cf\u6700\u5c11\u7684\u5976\u725b\u6bd4\u8f83\u5408\u7b97 \n            rl++;\n            sum+=a;\n            i++;\n        }\n        else if(sl<=M){//\u5356\u725b\u5976\u5408\u7b97 \n            sl=tj;if(tj<=M)s[tj].q=lq;//\u66f4\u65b0\u6307\u9488\uff0c\u4fee\u6539\u5546\u5e97\u9700\u6c42 \n            sum+=b;--j;\n        }\n        w++;\n        if(w>N)break;//\u4f9b\u8fc7\u4e8e\u6c42\uff0c\u9000\u51fa\u5faa\u73af \n    }\n    cout<<sum<<endl;\n    return 0;\n}\n```",
        "postTime": 1540436361,
        "uid": 21672,
        "name": "zxf_272",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P4181 \u3010[USACO18JAN]Rental Service\u3011"
    }
]