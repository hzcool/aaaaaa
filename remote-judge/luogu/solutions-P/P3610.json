[
    {
        "content": "**\u77e5\u8bc6\u70b9\uff1a\u516d\u7ef4BFS**\n\n\u5c31\u4e00\u4e2abfs\u4f46\u662f\u8c03\u4e86\u597d\u51e0\u4e2a\u5c0f\u65f6\uff08\u4e34\u754c\u6761\u4ef6\u597d\u9ebb\u70e6\n\n\uff08\u867d\u7136\u4ee3\u7801\u4e2d\u6709\u6ce8\u91ca \u4f46\u6211\u8fd8\u662f\u60f3\u8bb2~~(tu)~~\u8bb2~~(cao)~~\n\n**\u56e0\u4e3a\u6709\u4e24\u5934\u725b\u800c\u4e14N\u503c\u6bd4\u8f83\u5c0f \u6211\u4eec\u53ef\u4ee5\u7528\u516d\u7ef4\u6570\u7ec4\u6a21\u62df\u51fa\u6bcf\u4e00\u4e2a\u725b\u7684\u671d\u5411\u548c\u4f4d\u7f6e**\n\nf[x1][y1][x2][t2][d1][d2]\u542b\u4e49\u5982\u4e0a\n\n\u8fd8\u8981\u6ce8\u610f\u4e34\u754c\u6761\u4ef6\uff1a**\u8fb9\u754c\u548c\u969c\u788d\u8981\u5224\u65ad \u5224\u65ad\u725b\u662f\u5426\u5e94\u8be5\u56de\u5230\u6765\u65f6\u7684\u70b9**\n\n**\u7136\u540e\u5c31\u662f\u8fdb\u6808 \u66f4\u65b0\u4ec0\u4e48\u7684**\n\n\u8fd9\u91cc\u6211\u7528\u4e86\u4f20\u5740& ~~\u4e5f\u53ef\u4ee5\u76f4\u63a5Ctrl+C Ctrl+V\u6765\u7701\u4e8b\uff08\u4e0d\u662f\u590d\u5236My Code~~\n\n\u63a5\u4e0b\u6765**\u5224\u65ad\u5de6\u8f6c\u53f3\u8f6c** \u7279\u5224\u4e00\u4e0b\u65b9\u5411\uff1a\u4ee5\u514d\u51fa\u8d1f\u53f7RE\n\n\u56e0\u4e3a\u6211\u4eec\u4e0d\u77e5\u9053\u6700\u540e\u7684\u725b\u7684\u8138\u671d\u54ea\u513f **\u4e8e\u662f\u679a\u4e3e\u65b9\u5411\u5373\u53ef\u6c42\u51fa\u7b54\u6848**\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<algorithm>\n#include<queue>\n#include<stack>\n#include<set>\n#define MAXN 100005\n#define LL long long\n#define INF 2147483647\n#define MOD 1000000007\n#define free(s) freopen(\"s.txt\",\"r\",stdin);\n#define lowbit(x) ((x&(-x))) \n#define debug(x) cout<<x<<endl;\nusing namespace std;\nconst int L=21;\nint n,map[L][L],f[L][L][L][L][5][5],ans=INF,dx[]={0,-1,0,1,0},dy[]={0,0,1,0,-1};\nbool vis[L][L][L][L][5][5];\nstruct node{\n\tint x1,x2,y1,y2,d1,d2;\n    node (int x1,int y1,int x2,int y2,int d1,int d2):x1(x1),y1(y1),x2(x2),y2(y2),d1(d1),d2(d2) {}\n    node () {}\n};\nint ex(char ch)\n{\n\tif(ch=='E')\n\t\treturn 1;\n\treturn 0;\n}\nbool judge(int x,int y)\n{\n\treturn (x>=1)&&(x<=n)&&(y>=1)&&(y<=n);\n}\nvoid bfs()\n{\n\tqueue<node>q;\n\tq.push(node(n,1,n,1,1,2));\n\twhile(!q.empty())\n\t{\n\t\tnode head=q.front();\n\t\tq.pop();\n\t\tint nx1,nx2,ny1,ny2;\t\t//\u76f4\u8d70 \n\t\tnx1=head.x1+dx[head.d1];\n\t\tny1=head.y1+dy[head.d1];\n\t\tnx2=head.x2+dx[head.d2];\n\t\tny2=head.y2+dy[head.d2];\n\t\tint cnt=f[head.x1][head.y1][head.x2][head.y2][head.d1][head.d2];\n\t\tif(!judge(nx1,ny1)||(!map[nx1][ny1]))//\u725b\u4e00\u4e0d\u80fd\u76f4\u8d70 \u518d\u56de\u6765 \n\t\t\tnx1=head.x1,ny1=head.y1;\n\t\tif(!judge(nx2,ny2)||(!map[nx2][ny2]))//\u725b\u4e8c\u4e0d\u80fd\u76f4\u8d70 \u518d\u56de\u6765 \n\t\t\tnx2=head.x2,ny2=head.y2;\n\t\tif(head.x1==1&&head.y1==n)//\u725b\u4e00\u8d70\u5230\u8fb9\u754c \u4e0d\u80fd\u79fb\u52a8 \n\t\t\tnx1=1,ny1=n;\n        if (head.x2==1&&head.y2==n)//\u725b\u4e8c\u8d70\u5230\u8fb9\u754c \u4e0d\u80fd\u79fb\u52a8 \n\t\t\tnx2=1,ny2=n;\n\t\tint &p=f[nx1][ny1][nx2][ny2][head.d1][head.d2];\n\t\tif(p>cnt+1)//\u8fdb\u6808 \u66f4\u65b0 \n\t\t{\n\t\t\tp=cnt+1;\n\t\t\tif(!vis[nx1][ny1][nx2][ny2][head.d1][head.d2])\n\t\t\t{\n\t\t\t\tvis[nx1][ny1][nx2][ny2][head.d1][head.d2]=1;\n\t\t\t\tq.push(node(nx1,ny1,nx2,ny2,head.d1,head.d2));\n\t\t\t}\n\t\t} \n\t\tint d1,d2;\n\t\td1=head.d1-1,d2=head.d2-1;\t\t//\u5de6\u8f6c \n\t\tif(!d1) d1=4; if(!d2) d2=4;\n\t\tint &u=f[head.x1][head.y1][head.x2][head.y2][d1][d2];\n\t\tif(u>cnt+1)//\u8fdb\u6808 \u66f4\u65b0 \n\t\t{\n\t\t\tu=cnt+1;\n\t\t\tif(!vis[head.x1][head.y1][head.x2][head.y2][d1][d2])\n\t\t\t{\n\t\t\t\tvis[head.x1][head.y1][head.x2][head.y2][d1][d2]=1;\n\t\t\t\tq.push(node(head.x1,head.y1,head.x2,head.y2,d1,d2));\n\t\t\t}\n\t\t}\n        d1=head.d1+1,d2=head.d2+1;\t\t//\u53f3\u8f6c \n\t\tif(d1==5) d1=1;if(d2==5) d2=1;\n\t\tint &r=f[head.x1][head.y1][head.x2][head.y2][d1][d2];\n\t\tif(r>cnt+1)//\u8fdb\u6808 \u66f4\u65b0 \n\t\t{\n\t\t\tr=cnt+1;\n\t\t\tif(!vis[head.x1][head.y1][head.x2][head.y2][d1][d2])\n\t\t\t{\n\t\t\t\tvis[head.x1][head.y1][head.x2][head.y2][d1][d2]=1;\n\t\t\t\tq.push(node(head.x1,head.y1,head.x2,head.y2,d1,d2));\n\t\t\t}\t\n\t\t}\n\t}\n}\nint main()\n{\n\tmemset(f,0x3f,sizeof(f));\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tchar c;\n\t\t\tcin>>c;\n\t\t\tmap[i][j]=ex(c);\n\t\t}\n\tf[n][1][n][1][1][2]=0;\n\tbfs();\n\tfor(int i=1;i<=4;i++)\n\t\tfor(int j=1;j<=4;j++)\n\t\t\tans=min(ans,f[1][n][1][n][i][j]);//\u679a\u4e3e\u6700\u540e\u7684\u671d\u5411 \n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1528532543,
        "uid": 37427,
        "name": "\u66f9\u8001\u5e08",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3610 \u3010[USACO17JAN]Cow Navigation\u5976\u725b\u5bfc\u822a\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u53ef\u4ee5\u7528\u7ed3\u6784\u4f53+bfs\u505a\n\u7ed3\u6784\u4f53\u67097\u4e2a\u53c2\u6570{x1, y1, d1, x2, y2, d2, step}\n\nx1, y1, d1 \u7528\u6765\u8ddf\u8e2a\u7b2c\u4e00\u5934\u725b\u7684\u4f4d\u7f6e (x1, y1), \u548c\u5b83\u7684\u65b9\u5411 d1\n\nx2, y2, d2 \u7528\u6765\u8ddf\u8e2a\u7b2c\u4e00\u5934\u725b\u7684\u4f4d\u7f6e (x2, y2), \u548c\u5b83\u7684\u65b9\u5411 d2\n\n\u5176\u4e2dd1\u548cd2\u4eceN->E->S->W \u4ee50-3 \u8868\u793a\uff0c0\u8868\u793a\u4e0a\uff0c3\u8868\u793a\u53f3\n\n\u8fd9\u6837\u5bf9\u4e8e\u4efb\u4f55\u4e00\u5934\u725b\u6211\u4eec\u8f93\u5165\u6307\u4ee4\u7684\u65f6\u5019\u5de6\u8f6c\u5c31\u53d8\u6210 (d + 3) % 4 , \u53f3\u8f6c\u5c31\u662f (d + 1) % 4\n\nstep\u662f\u5728bfs\u4e2d\u8ddf\u8e2a\u6b65\u6570\u7684\u53d8\u91cf\n\n**\u5177\u4f53\u4ee3\u7801\u6bcf\u6b21bfs\u5faa\u73af\u63a8\u8fdb3\u4e2a\u65b0\u7684\uff0c\u672a\u8bbf\u95ee\u8fc7\u7684\u5730\u70b9\uff08\u5305\u62ec\u65b9\u5411\uff09\u8fdb\u961f\u5217**\n\n```cpp\n\nint dirr[] = {-1, 0, 1, 0}, dirc[] = {0, 1, 0, -1}; //\u53d8\u5411\u6570\u7ec4\n\nbool check(int x, int y) {\n\treturn x >= 0 && x < n && y >= 0 && y < n && map[x][y];\n}\n\n//\u5de6\u8f6c\nque.push(location(loc.x1, loc.y1, (loc.d1 + 3) % 4, loc.x2, loc.y2, (loc.d2 + 3) % 4, loc.step + 1));\n\n//\u53f3\u8f6c\nque.push(location(loc.x1, loc.y1, (loc.d1 + 1) % 4, loc.x2, loc.y2, (loc.d2 + 1) % 4, loc.step + 1));\n```\n```cpp\n//\u76f4\u8d70\nint x1, x2, y1, y2;\nx1 = loc.x1 + dirr[loc.d1];\nx2 = loc.x2 + dirr[loc.d2];\ny1 = loc.y1 + dirc[loc.d1];\ny2 = loc.y2 + dirc[loc.d2];\n\nif (!check(x1, y1) || (loc.x1 == 0 && loc.y1 == n - 1)) {\n\tx1 = loc.x1;\n\ty1 = loc.y1;\n}\nif (!check(x2, y2) || (loc.x2 == 0 && loc.y2 == n - 1)) {\n\tx2 = loc.x2;\n\ty2 = loc.y2;\n}\nque.push(location(x1, y1, loc.d1, x2, y2, loc.d2, loc.step + 1));\n```\n\u76f4\u8d70\uff1a\u65b0\u5efa4\u4e2a\u53d8\u91cfx1, y1, x2, y2, \u4f5c\u4e3a\u8fd9\u4e24\u5934\u725b\u4e0b\u4e00\u6b65\u7684\u5750\u6807\uff08\u65b9\u5411\u4e0d\u53d8\uff09\u3002\u7528\u53d8\u5411\u6570\u7ec4\u5c31\u80fd\u679a\u4e3e\u51fa\u4e0b\u4e00\u6b65\u4ee5\u5f53\u524d\u65b9\u5411\u7684\u4e0b\u4e00\u4e2a\u4f4d\u7f6e\u3002\u7136\u540e\u6211\u4eeccheck\u8fd9\u4e9b\u5750\u6807\uff0c\u8981\u662f\u51fa\u754c\uff0c\u78b0\u5230\u969c\u788d\uff0c\u6216\u8005\u5df2\u8d70\u5230\u7ec8\u70b9\uff0c\u5c31\u8fd4\u56de\u539f\u6765\u7684\u4f4d\u7f6e\u3002\u6700\u7ec8push\u8fdb\u53bb\u8fd9\u4e2alocation\uff0c\u7136\u540estep++\u3002\n\n\u5b8c\u6574\u4ee3\u7801\uff1a\n```cpp\n#include <cstring>\n#include <iostream>\n#include <queue>\n#include <cstdio>\nusing namespace std;\n\nint n, dirr[] = {-1, 0, 1, 0}, dirc[] = {0, 1, 0, -1};\nbool map[20][20], vis[20][20][4][20][20][4];\n\nstruct location {\nint x1, y1, d1, x2, y2, d2, step;\nlocation(int _x1, int _y1, int _d1, int _x2, int _y2, int _d2, int _step) {\n\t\tx1 = _x1;\n\t\ty1 = _y1;\n\t\td1 = _d1;\n\t\tx2 = _x2;\n\t\ty2 = _y2;\n\t\td2 = _d2;\n\t\tstep = _step;\n\t}\n};\n\nbool check(int x, int y) {\n\treturn x >= 0 && x < n && y >= 0 && y < n && map[x][y];\n}\n\nvoid bfs() {\n\tqueue<location> que;\n\tque.push(location(n - 1, 0, 0, n - 1, 0, 1, 0));\n\n\twhile (!que.empty()) {\n\t\tlocation loc = que.front();\n\t\tif (!vis[loc.x1][loc.y1][loc.d1][loc.x2][loc.y2][loc.d2]) {\n\t\t\tvis[loc.x1][loc.y1][loc.d1][loc.x2][loc.y2][loc.d2] = true;\n\n\t\t\tif (loc.x1 == 0 && loc.y1 == n - 1 && loc.x2 == 0 && loc.y2 == n - 1) {\n\t\t\t\tcout << loc.step;\n\t\t\t\tbreak;\n\t\t\t}\n            \n\t\t\t//left\n\t\t\tque.push(location(loc.x1, loc.y1, (loc.d1 + 3) % 4, loc.x2, loc.y2, (loc.d2 + 3) % 4, loc.step + 1));\n\n\t\t\t//right\n\t\t\tque.push(location(loc.x1, loc.y1, (loc.d1 + 1) % 4, loc.x2, loc.y2, (loc.d2 + 1) % 4, loc.step + 1));\n\n\t\t\t//forward\n\t\t\tint x1, x2, y1, y2;\n\t\t\tx1 = loc.x1 + dirr[loc.d1];\n\t\t\tx2 = loc.x2 + dirr[loc.d2];\n\t\t\ty1 = loc.y1 + dirc[loc.d1];\n\t\t\ty2 = loc.y2 + dirc[loc.d2];\n\n\t\t\tif (!check(x1, y1) || (loc.x1 == 0 && loc.y1 == n - 1)) {\n\t\t\t\tx1 = loc.x1;\n\t\t\t\ty1 = loc.y1;\n\t\t\t}\n\t\t\tif (!check(x2, y2) || (loc.x2 == 0 && loc.y2 == n - 1)) {\n\t\t\t\tx2 = loc.x2;\n\t\t\t\ty2 = loc.y2;\n\t\t\t}\n\t\t\tque.push(location(x1, y1, loc.d1, x2, y2, loc.d2, loc.step + 1));\n\t\t}\n\t\tque.pop();\n\t}\n}\n\nint main() {\n\tcin >> n;\n\tchar temp;\n\tfor (int i = 0; i < n; i++) {\n\t\tfor (int j = 0; j < n; j++) {\n\t\t\tcin >> temp;\n\t\t\tif (temp == 'E')\n\t\t\t\tmap[i][j] = 1;\n\t\t}\n\t}\n\t//start: [n-1][0]\n\t//end: [0][n-1]\n\t//N->E->S->W : 0, 1, 2, 3\n\tbfs();\n}\n```\n\n",
        "postTime": 1573664878,
        "uid": 219141,
        "name": "Lastwhisper1212",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3610 \u3010[USACO17JAN]Cow Navigation\u5976\u725b\u5bfc\u822a\u3011"
    },
    {
        "content": "\u770b\u9898\u89e3\u90fd\u662f6\u7ef4BFS\u505a\u7684\uff0c$f[x1][y1][x2][y2][dir1][dir2]$\uff0c\u8868\u793a\u539f\u5148\u671d\u4e0a\u7684\u8d70\u5230$(x1,y1)$,\u65b9\u5411\u4e3adir1\uff0c\u539f\u5148\u671d\u5de6\u7684\u8d70\u5230$(x2,y2)$,\u65b9\u5411\u4e3adir2\u7684\u6700\u5c0f\u6b65\u6570\uff0c\u7136\u540e\u8dd1bfs\u5c31\u53ef\u4ee5\u4e86\u3002**\u4f46\u5176\u5b9e\u8fd8\u662f\u53ef\u4ee5\u7a7a\u95f4\u4f18\u5316\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5b83\u964d\u52305\u7ef4\uff0c**\u4e5f\u5c31\u662f\u53ea\u5b58\u4e00\u4e2adir\u5c31\u53ef\u4ee5\u4e86,\u56e0\u4e3a\u4e0d\u7ba1\u8f6c\u51e0\u6b21\uff0c\u539f\u5148\u671d\u4e0a\u7684\u65b9\u5411\u80af\u5b9a\u662f\u539f\u5148\u671d\u5de6\u7684\u65b9\u5411\u5411\u53f3\uff0c\u6545\u6211\u4eec\u53ea\u9700\u8bb0\u5f55\u4e00\u4e2adir\u5c31\u884c\u4e86\u3002bfs\u7684\u4ee3\u7801\u9898\u89e3\u91cc\u7684\u5404\u4f4ddalao\u90fd\u5df2\u7ecf\u89e3\u91ca\u7684\u5f88\u6e05\u695a\u4e86\uff0c\u4e0d\u518d\u8d58\u8ff0\u4e86QwQ",
        "postTime": 1548940865,
        "uid": 20504,
        "name": "Rachel_in",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3610 \u3010[USACO17JAN]Cow Navigation\u5976\u725b\u5bfc\u822a\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u6211\u770b\u4e86\u534a\u5929\u522b\u4eba\u7684\u9898\u89e3\uff0c\u4e3a\u4e86\u5f88\u4e45\u4ee5\u540e\u6211\u8fd8\u80fd\u770b\u61c2\uff0c\u6240\u4ee5\u5199\u9898\u89e3\u6765\u8bb0\u5f55\u4e00\u4e0b\u3002\n\n\n\u6b64\u9898\u4e3ausaco20171\u6708\u6708\u8d5b\u91d1\u7ec4\n\n\n\u8fd9\u9053\u9898\u662f\u4e00\u9053\u52a8\u5f52\u52a0\u4e0aspfa\uff0c\u7528dis[x1][y1][x2][y2][d1][d2]\u6765\u8868\u793a\u4e24\u6761\u8def\u5206\u522b\u5728x1,y1,\u9762\u5411d1,\u548c\u5728x2,y2,\u9762\u5411d2,\u4ece\u8d77\u70b9\u51fa\u53d1\u8981\u5230\u8fd9\u4e2a\u72b6\u6001\u6240\u9700\u7684\u6700\u77ed\u6307\u4ee4\u3002\n\n\nspfa\u4e2d\uff0c\u5206\u4e09\u79cd\u60c5\u51b5\u6765\u8ba8\u8bba\u4e09\u79cd\u505a\u6cd5\uff0c\u6700\u540e\u7684\u5f97\u5230\u7ed3\u679c\u3002\n\n\n\u5177\u4f53\u7684\u89e3\u91ca\u548c\u610f\u601d\u5728\u4ee3\u7801\u6ce8\u91ca\u91cc\u3002\n\n\n\u590d\u5236\u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<queue>\nusing namespace std;\nint n,m[100][100],dis[30][30][30][30][5][5]; \nbool c[30][30][30][30][5][5];\nint nowx1,nowx2,nowy1,nowy2;\nint h[]={0,-1,0,1,0},l[]={0,0,1,0,-1};\nint sum1,ans,sum2,td1,td2;\nchar a[100][100];\nstruct gather{\n    int x1,y1,x2,y2,d1,d2;\n    gather (int x1,int y1,int x2,int y2,int d1,int d2):\n        x1(x1),y1(y1),x2(x2),y2(y2),d1(d1),d2(d2){}\n    gather () {}\n};\n//\u4e0a\u9762\u8fd9\u6bb5\u5b9a\u4e49\uff0c\u662f\u6211\u65e0\u803b\u5730\u6284\u4e86\u4e00\u4e2a\u535a\u5ba2\uff0c\u56e0\u4e3a\u6211\u5b8c\u5168\u4e0d\u77e5\u9053\u8be5\u600e\u4e48\u628a\u90a3\u516d\u4e2a\u5143\u7d20\u5b9a\u4e49\u8d77\u6765....\u4e5f\u662f\u770b\u4e86\u90a3\u4e2a\u4eba\u7684\u535a\u5ba2\u540e\u624d\u6307\u5bfc\u65b9\u6cd5\u7684\u3002\u3002\u3002\n```\n\u6211\u4eec\u5c31\u59d1\u4e14\u7b97\u4f5c\u662f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u5305\u542b\u516d\u4e2a\u5143\u7d20\u7684\u96c6\u5408\u5427\u3002\u3002\u3002\n```cpp\nqueue<gather>q;//\u5b9a\u4e49\u4e00\u4e2a\u961f\u5217\nbool check(int x,int y)\n{\n    if ((x<1)||(x>n)||(y<1)||(y>n)) return false;\n    else return true;\n```\n}//\u68c0\u67e5\u76ee\u524d\u7684\u8fd9\u4e2a\u5750\u6807\u6709\u6ca1\u6709\u8d8a\u754c\n```cpp\nvoid spfa()\n{\n  q.push(gather(n,1,n,1,1,2));//\u628a\u7b2c\u4e00\u4e2a\u96c6\u5408\u653e\u8fdb\u53bb\uff0c\u4e5f\u5c31\u662f\u8d1d\u897f\u7684\u8d77\u59cb\u4f4d\u7f6e\n  c[n][1][n][1][1][2]=true;//\u8fd9\u4e2a\u96c6\u5408\u5df2\u7ecf\u51fa\u961f\u5217\u4e86\n  while (!q.empty())//\u5982\u679c\u96c6\u5408\u4e0d\u4e3a\u7a7a\n  {\n      gather p=q.front();//\u62ff\u51fa\u961f\u9996\u7684\u96c6\u5408\n      q.pop();//\u5220\u961f\u9996\u96c6\u5408\n       //1.\u7b2c\u4e00\u79cd\u65b9\u6848\uff0c\u6309\u5f53\u524d\u65b9\u5411\u7ee7\u7eed\u5411\u524d\u8d70\n      nowx1=p.x1+h[p.d1]; nowy1=p.y1+l[p.d1];\n      nowx2=p.x2+h[p.d2]; nowy2=p.y2+l[p.d2];\n       //\u4ee5\u4e0a\u662f\u4e24\u6761\u8def\u5728\u7ee7\u7eed\u6309\u5f53\u524d\u65b9\u5411\u8d70\u540e\uff0c\u4f1a\u5230\u8fbe\u7684\u70b9\n      if ((check(nowx1,nowy1)==false)||(m[nowx1][nowy1]==false)){\n        nowx1=p.x1; nowy1=p.y1;\n    }\n    if ((check(nowx2,nowy2)==false)||(m[nowx2][nowy2]==false)){\n        nowx2=p.x2; nowy2=p.y2;\n    } \n       //\u4ee5\u4e0a\u4e24\u4e2aif\u8bed\u53e5\u8868\u793a\u5982\u679c\u7ee7\u7eed\u5411\u524d\u8d70\u4e00\u6b65\uff0c\u5230\u8fbe\u7684\u70b9\u5982\u679c\u8d85\u51fa\u56fe\u7684\u8303\u56f4\uff0c\u6216\u8005\u662f\u90a3\u4e2a\u5e97\u5b58\u5728\u77f3\u5934\uff0c\u90fd\u662f\u4e0d\u80fd\u8d70\u7684\uff0c\u5e94\u505c\u7559\u5728\u539f\u6765\u7684\u4f4d\u7f6e\u3002\n    if ((p.x1==1)&&(p.y1==n)){nowx1=1;nowy1=n;}\n    if ((p.x2==1)&&(p.y2==n)){nowx2=1;nowy2=n;}\n    //\u8fd9\u4e2a\u70b9\u8868\u793a\u5982\u679c\u5176\u4e2d\u4efb\u610f\u4e00\u6761\u8def\u539f\u672c\u5df2\u7ecf\u5230\u4e86\u7ec8\u70b9\uff0c\u5c31\u4e0d\u7528\u518d\u8d70\u4e86\uff0c\u505c\u5728\u539f\u6765\u4f4d\u7f6e\u3002\n      sum1=dis[nowx1][nowy1][nowx2][nowy2][p.d1][p.d2];\n     //\u76ee\u524d\u4e3a\u6b62\u5411\u524d\u8d70\u9700\u8981\u7684\u6700\u77ed\u6307\u4ee4\n      sum2=dis[p.x1][p.y1][p.x2][p.y2][p.d1][p.d2];\n  //\u8d70\u5230\u539f\u6765\u4f4d\u7f6e\u9700\u8981\u7684\u6700\u77ed\u6307\u4ee4\n      if (sum1>sum2+1)//\u66f4\u65b0\u6700\u77ed\u6307\u4ee4\n      { \n        dis[nowx1][nowy1][nowx2][nowy2][p.d1][p.d2]=sum2+1;\n        if (c[nowx1][nowy1][nowx2][nowy2][p.d1][p.d2]==false)\n        q.push(gather(nowx1,nowy1,nowx2,nowy2,p.d1,p.d2));\n          //\u5982\u679c\u4e0d\u5728\u961f\u5217\u5185\uff0c\u5c31\u653e\u8fdb\u53bb\n        c[nowx1][nowy1][nowx2][nowy2][p.d1][p.d2]=true;\n    }\n    //2.\u5411\u53f3\u8f6c90\u5ea6\n    td1=p.d1+1; td2=p.d2+1; \n    if (td1>4) td1=1; if (td2>4) td2=1;\n       //\u66f4\u65b0\u6240\u6307\u5411\u7684\u65b9\u5411\n    sum1=dis[p.x1][p.y1][p.x2][p.y2][td1][td2];\n    if (sum1>sum2+1)//\u66f4\u65b0\u6700\u77ed\u6307\u4ee4\n      { \n        dis[p.x1][p.y1][p.x2][p.y2][td1][td2]=sum2+1;\n        if (c[p.x1][p.y1][p.x2][p.y2][td1][td2]==false)\n        q.push(gather(p.x1,p.y1,p.x2,p.y2,td1,td2));\n        c[p.x1][p.y1][p.x2][p.y2][td1][td2]=true;\n    }\n    //3.\u5411\u5de6\u8f6c90\u5ea6\n    td1=p.d1-1; td2=p.d2-1; \n    if (td1<1) td1=4; if (td2<1) td2=4;\n    sum1=dis[p.x1][p.y1][p.x2][p.y2][td1][td2];\n    if (sum1>sum2+1)\n      { \n        dis[p.x1][p.y1][p.x2][p.y2][td1][td2]=sum2+1;\n        if (c[p.x1][p.y1][p.x2][p.y2][td1][td2]==false)\n        q.push(gather(p.x1,p.y1,p.x2,p.y2,td1,td2));\n        c[p.x1][p.y1][p.x2][p.y2][td1][td2]=true;\n    }\n    c[p.x1][p.y1][p.x2][p.y2][p.d1][p.d2]=false;\n       //\u51fa\u961f\u5217\n  }\n}\nint main()\n{\n  scanf(\"%d\",&n);\n  a[1][1]=getchar();\n  for (int i=1;i<=n;i++)\n   for (int j=1;j<=n+1;j++)\n   {\n     a[i][j]=getchar();\n     if (a[i][j]=='E') m[i][j]=true;\n     else if (a[i][j]=='H') m[i][j]=false;\n   }\n//\u6211\u4eec\u7528dis[x1][y1][x2][y2][d1][d2]\u6765\u8868\u793a\u4e24\u6761\u8def\u5206\u522b\u5728x1,y1,\u9762\u5411d1,\n```\n\u548c\u5728x2,y2,\u9762\u5411d2,\u4ece\u8d77\u70b9\u51fa\u53d1\u8981\u5230\u8fd9\u4e2a\u72b6\u6001\u6240\u9700\u7684\u6700\u77ed\u6307\u4ee4\u3002\n```cpp\n  for (int i=1;i<=n;i++)\n   for (int j=1;j<=n;j++)\n    for (int i1=1;i1<=n;i1++)\n     for (int j1=1;j1<=n;j1++)\n      for (int u=1;u<=4;u++)\n       for (int d=1;d<=4;d++)\n       dis[i][j][i1][j1][u][d]=2147483647/2;//\u521d\u59cb\u5316\n   dis[n][1][n][1][1][2]=0;\n   ans=2147483647/2;\n   spfa();\n   for (int i=1;i<=4;i++)\n    for (int j=1;j<=4;j++)\n    ans=min(ans,dis[1][n][1][n][i][j]);     \n   cout<<ans<<endl;\n}\n```",
        "postTime": 1486988592,
        "uid": 21621,
        "name": "nihanchu",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3610 \u3010[USACO17JAN]Cow Navigation\u5976\u725b\u5bfc\u822a\u3011"
    },
    {
        "content": "\u9996\u5148\u6211\u4eec\u5982\u679c\u5355\u5355\u53e3\u80e1\uff0c\u5f88\u5bb9\u6613\u60f3\u5230\u4e00\u4e2a $O(dn^4)$ \u7684 BFS\uff08\u5176\u4e2d $d$ \u8868\u793a\u725b\u7684\u671d\u5411\u6570\uff0c\u672c\u9898\u4e3a $4$\uff09\u3002\r\n\r\n\u5199\u7684\u65f6\u5019\u6211\u4eec\u89c2\u5bdf\u5230\u8fd9\u662f USACO \u9898\uff0c\u653e\u5fc3\u4f7f\u7528 STL\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u7ed3\u6784\u4f53\u6211\u4eec\u5f00\u671d\u53f3\u8d70\u7684\u5976\u725b\u5750\u6807\u3001\u671d\u4e0a\u8d70\u7684\u5976\u725b\u5750\u6807\u3001\u671d\u53f3\u8d70\u7684\u5976\u725b\u65b9\u5411\u3002\r\n\r\n\u7136\u540e\u6211\u4eec\u601d\u8003\u600e\u4e48\u5224\u91cd\u3002\u6211\u4eec\u53d1\u73b0\uff0c\u5982\u679c\u5f00\u4e94\u7ef4\u6570\u7ec4\uff0c\u53ef\u80fd\u4f1a\u78b0\u5230\u4e0b\u9762\u7684\u95ee\u9898\uff1a\r\n- \u53d1\u73b0\u7ed3\u6784\u4f53\u53c8\u8981\u4e00\u4e2a\u4e00\u4e2a\u89e3\u7ed1\uff0c\u4ee3\u7801\u91cf\u4e0a\u5347\u3002\r\n- \u8fd9\u9053\u9898\u95ee\u9898\u4e0d\u5927\uff0c\u5982\u679c\u662f\u5176\u4ed6\u9898\uff0c\u53ef\u80fd\u4ea7\u751f\u5927\u91cf\u6d6a\u8d39\uff0c\u7a7a\u95f4\u53d7\u4e0d\u4e86\u3002\r\n\r\n\u56e0\u6b64\u6211\u4eec\u91c7\u7528 `unordered_map/set` \u5c31\u53ef\u4ee5\u5f88\u597d\u5730\u89e3\u51b3\u3002\r\n\r\n\u5f88\u591a\u540c\u5b66\uff08\u5305\u62ec\u6211\uff09\u4e4b\u524d\u90fd\u6ca1\u6709\u7528\u8fc7\u8fd9\u73a9\u610f\u5b58\u81ea\u5b9a\u4e49\u7ed3\u6784\u4f53\uff0c\u56e0\u4e3a\u663e\u7136 STL \u5e76\u4e0d\u4f1a\u4e3a\u8fd9\u79cd\u4e1c\u897f\u63d0\u4f9b `hash_policy`\u3002\u56e0\u6b64\u8fd9\u91cc\u7b80\u5355\u5730\u6559\u4e00\u4e0b\u3002\r\n\r\n\u9996\u5148\uff0c\u4f60\u9700\u8981**\u91cd\u8f7d `==`**\uff0c\u56e0\u4e3a\u8fd9\u662f `unordered`\uff0c\u6240\u4ee5\u4f60\u5e76\u4e0d\u9700\u8981\u91cd\u8f7d\u5c0f\u4e8e\u53f7\u3002\r\n\r\n\u7136\u540e\uff0c\u4f60\u9700\u8981\u624b\u5199\u54c8\u5e0c\u51fd\u6570\u3002\u8fd9\u4e2a\u54c8\u5e0c\u548c\u6211\u4eec\u5e73\u65f6\u7684\u54c8\u5e0c\u4e0d\u540c\uff0c\u7531\u4e8e\u54c8\u5e0c\u8868\u5927\u5c0f\u662f STL \u51b3\u5b9a\u7684\uff0c\u4f60\u5e76\u4e0d\u9700\u8981\u6c42\u4f59\uff0c\u76f4\u63a5\u8fd4\u56de\u4e00\u4e2a `size_t` \u5c31\u884c\u4e86\u3002\r\n\r\n\u603b\u800c\u8a00\u4e4b\uff0c\u4f60\u9700\u8981\u5199\u4e0b\u9762\u8fd9\u79cd\u4e1c\u897f\uff1a\r\n```cpp\r\nstruct node{int x1,y1,x2,y2,dir;};\r\nbool operator == (node x,node y){return x.x1==y.x1 and x.x2==y.x2 and x.y1==y.y1 and x.y2==y.y2 and x.dir==y.dir;}//\u5b9a\u4e49\u76f8\u7b49\r\nstruct my_hash//\u5b9a\u4e49\u54c8\u5e0c\r\n{\r\n\tsize_t operator () (node x)const//\u8fd9\u53e5\u8bdd\u5176\u5b9e\u53ef\u4ee5\u76f4\u63a5\u80cc\uff08\r\n\t{\r\n\t\treturn (((x.x1*20+x.y1)*20+x.x2)*20+x.y2)*4+x.dir;\r\n\t}\r\n};\r\nunordered_map<node,int,my_hash> dis;//\u5728\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u7684\u4f4d\u7f6e\u5199\u4e0a\u4f60\u7684\u54c8\u5e0c\r\n```\r\n\r\n\u5176\u4ed6\u5730\u65b9\u5c31\u5927\u540c\u5c0f\u5f02\u4e86\u3002\u4e0b\u9762\u653e\u51fa\u53c2\u8003\u4ee3\u7801\uff1a\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\r\nusing namespace std;\r\n#define x1 eoifgjfkwdf\r\n#define y1 poeirtwepfjdkl\r\nconst int dry[]={1,0,-1,0};\r\nconst int drx[]={0,-1,0,1};\r\nconst int duy[]={0,-1,0,1};\r\nconst int dux[]={-1,0,1,0};\r\nint n;\r\nchar mp[22][22];\r\nstruct node{int x1,y1,x2,y2,dir;};\r\nbool operator == (node x,node y){return x.x1==y.x1 and x.x2==y.x2 and x.y1==y.y1 and x.y2==y.y2 and x.dir==y.dir;}\r\nstruct my_hash\r\n{\r\n\tsize_t operator () (node x)const\r\n\t{\r\n\t\treturn (((x.x1*20+x.y1)*20+x.x2)*20+x.y2)*4+x.dir;\r\n\t}\r\n};\r\nunordered_map<node,int,my_hash> dis;\r\nqueue<node> q;\r\nint main()\r\n{\r\n\tscanf(\"%d\",&n);\r\n\tfor(int i=1;i<=n;i++)\r\n\t\tscanf(\"%s\",mp[i]+1);\r\n\tq.push({n,1,n,1,0});\r\n\tdis[{n,1,n,1,0}]=0;\r\n\twhile(q.size())\r\n\t{\r\n\t\tnode qf=q.front();int qd=dis[qf];q.pop();\r\n\t\tnode rht={qf.x1,qf.y1,qf.x2,qf.y2,(qf.dir+1)%4};\r\n\t\tif(dis.count(rht)==0)\r\n\t\t\tq.push(rht),dis[rht]=qd+1;\r\n\t\tnode lft={qf.x1,qf.y1,qf.x2,qf.y2,(qf.dir+3)%4};\r\n\t\tif(dis.count(lft)==0)\r\n\t\t\tq.push(lft),dis[lft]=qd+1;\r\n\t\tif(not(qf.x1==1 and qf.y1==n) and mp[qf.x1+drx[qf.dir]][qf.y1+dry[qf.dir]] == 'E')\r\n\t\t\tqf.x1+=drx[qf.dir],qf.y1+=dry[qf.dir];\r\n\t\tif(not(qf.x2==1 and qf.y2==n) and mp[qf.x2+dux[qf.dir]][qf.y2+duy[qf.dir]] == 'E')\r\n\t\t\tqf.x2+=dux[qf.dir],qf.y2+=duy[qf.dir];\r\n\t\tif(dis.count(qf)==0)\r\n\t\t\tq.push(qf),dis[qf]=qd+1;\r\n\t}\r\n\tint ans=0x3f3f3f3f;\r\n\tif(dis.count({1,n,1,n,0}))ans=min(ans,dis[{1,n,1,n,0}]);\r\n\tif(dis.count({1,n,1,n,1}))ans=min(ans,dis[{1,n,1,n,1}]);\r\n\tif(dis.count({1,n,1,n,2}))ans=min(ans,dis[{1,n,1,n,2}]);\r\n\tif(dis.count({1,n,1,n,3}))ans=min(ans,dis[{1,n,1,n,3}]);\r\n\tprintf(\"%d\\n\",ans);\r\n\treturn 0;\r\n}\r\n```",
        "postTime": 1669079482,
        "uid": 101694,
        "name": "yummy",
        "ccfLevel": 7,
        "title": "\u5982\u4f55\u4f18\u96c5\u5730 BFS"
    },
    {
        "content": "\u8fd9\u9898\u7b97\u662f[P1126 \u673a\u5668\u4eba\u642c\u91cd\u7269](https://www.luogu.org/problemnew/show/P1126)\u7684\u5347\u7ea7\u7248QAQ\uff0c\u5c31\u662f\u628a\u4ed6\u5f53\u6210\u4e24\u53ea\u725b\u6765\u7b97\u5c31\u597d\u4e86\n```\nconst z:array[1..4,1..2]of -1..1=((-1,0),(0,1),(1,0),(0,-1));\nvar i,j,k:longint;\n    n:longint;\n    bo:array[0..21,0..21,0..21,0..21,1..4,1..4]of boolean;\n    //6\u7ef4\u6570\u7ec4\uff0c\u4e3a\u7b2c\u4e00\u53ea\u725b\u7684\u5750\u6807\u3001\u65b9\u5411\uff0c\u7b2c\u4e8c\u53ea\u725b\u7684\u5750\u6807\u3001\u65b9\u5411\n    no:array[0..21,0..21]of boolean;\n    x1,y1,x2,y2,u,fx1,fx2:array[0..10000000]of longint;\n    _x1,_y1,_x2,_y2,_fx1,_fx2:longint;\n    ch:char;\n    h,t:longint;\n    x1i,y1i,x2i,y2i:longint;\nprocedure add(x1,y1,x2,y2:longint);//\u5f53\u524d\u8fd9\u4e00\u683c\u662f\u53ef\u4ee5\u8d70\u7684\nvar i,j:longint;\nbegin\n  for i:=1 to 4 do\n  for j:=1 to 4 do\n  bo[x1,y1,x2,y2,i,j]:=true;\nend;\nfunction left(fx:longint):longint;//\u5de6\u8f6c\nbegin\n  if fx=1 then exit(4) else exit(fx-1);\nend;\nfunction right(fx:longint):longint;//\u53f3\u8f6c\nbegin\n  if fx=4 then exit(1) else exit(fx+1);\nend;\nprocedure go(fx:longint;var x,y:longint);//\u5224\u65ad\u53ef\u4e0d\u53ef\u4ee5\u8d70...\nbegin\n  if (x=1) and (y=n) then exit;//\u5230\u4e86\u7ec8\u70b9\u5c31\u4e0d\u53ef\u4ee5\u8d70\u4e86\n  if no[x+z[fx,1],y+z[fx,2]] then//\u79fb\u52a8\n  begin\n    x:=x+z[fx,1];\n    y:=y+z[fx,2];\n  end;\nend;\nbegin\n  readln(n);\n  for i:=1 to n do\n  begin\n    for j:=1 to n do\n    begin\n      read(ch);\n      if ch='E' then\n      no[i,j]:=true;\n    end;\n  readln;\n  end;\n  //\u5224\u65ad\u7528\u7684\u6570\u7ec4\u521d\u59cb\u5316\n  for x1i:=1 to n do\n  for y1i:=1 to n do\n  for x2i:=1 to n do\n  for y2i:=1 to n do\n  if no[x1i,y1i] and no[x2i,y2i] then\n  add(x1i,y1i,x2i,y2i);\n  //\u961f\u5217\u521d\u59cb\u5316\n  h:=1;\n  t:=1;\n  x1[1]:=n;\n  y1[1]:=1;\n  x2[1]:=n;\n  y2[1]:=1;\n  u[1]:=0;\n  fx1[1]:=1;\n  fx2[1]:=2;\n  bo[x1[1],y1[1],x2[1],y2[1],fx1[1],fx2[1]]:=false;\n  repeat\n    if (x1[t]=1) and (x2[t]=1) and (y1[t]=n) and (y2[t]=n) then//\u4e24\u53ea\u725b\u90fd\u5230\u7ec8\u70b9\u4e86\n    begin\n      write(u[t]);\n      exit;\n    end;\n    for i:=1 to 3 do\n    begin\n      if i=1 then\n      begin\n        //\u8bb0\u5f55\u4e0b\u6765\u6bd4\u8f83\u65b9\u4fbf\n        _x1:=x1[t];\n        _y1:=y1[t];\n        _x2:=x2[t];\n        _y2:=y2[t];\n        go(fx1[t],_x1,_y1);\n        go(fx2[t],_x2,_y2);\n        if(bo[_x1,_y1,_x2,_y2,fx1[t],fx2[t]])then//\u5224\u65ad\u5411\u524d\u8d70\u53ef\u4e0d\u53ef\u4ee5\n        begin//\u5165\u961f\u5217\n          inc(h);\n          x1[h]:=_x1;\n          y1[h]:=_y1;\n          x2[h]:=_x2;\n          y2[h]:=_y2;\n          fx1[h]:=fx1[t];\n          fx2[h]:=fx2[t];\n          bo[_x1,_y1,_x2,_y2,fx1[t],fx2[t]]:=false;\n          u[h]:=u[t]+1;\n        end;\n      end;\n      if i=2 then\n      if(bo[x1[t],y1[t],x2[t],y2[t],left(fx1[t]),left(fx2[t])])then//\u5de6\u8f6c\n      //\u8f6c\u5f2f\u4e0d\u4f1a\u5230\u5730\u56fe\u5916\u9762\u548c\u8349\u4e0a\uff0c\u4e0d\u7528\u7279\u5224\n      begin\n        inc(h);\n        fx1[h]:=left(fx1[t]);\n        fx2[h]:=left(fx2[t]);\n        x1[h]:=x1[t];\n        y1[h]:=y1[t];\n        x2[h]:=x2[t];\n        y2[h]:=y2[t];\n        bo[x1[h],y1[h],x2[h],y2[h],fx1[h],fx2[h]]:=false;\n        u[h]:=u[t]+1;\n      end;\n      if i=2 then\n      if(bo[x1[t],y1[t],x2[t],y2[t],right(fx1[t]),right(fx2[t])])then//\u53f3\u8f6cQAQ\n      begin\n        inc(h);\n        fx1[h]:=right(fx1[t]);\n        fx2[h]:=right(fx2[t]);\n        x1[h]:=x1[t];\n        y1[h]:=y1[t];\n        x2[h]:=x2[t];\n        y2[h]:=y2[t];\n        bo[x1[h],y1[h],x2[h],y2[h],fx1[h],fx2[h]]:=false;\n        u[h]:=u[t]+1;\n      end;\n    end;\n    inc(t);\n  until t>h;\nend.\n```\n\u5c31\u662f\u5199\u8d77\u6765\u7d2f\u70b9\uff0c\u601d\u8def\u8fd8\u662f\u5f88\u6e05\u695a\u7684QAQWQ\n",
        "postTime": 1550553866,
        "uid": 86625,
        "name": "Limit",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3610 \u3010[USACO17JAN]Cow Navigation\u5976\u725b\u5bfc\u822a\u3011"
    },
    {
        "content": "\u5199\u4e86\u4e00\u4efd~~\u81ea\u8ba4\u4e3a\u662f\u6bd4\u8f83\u6e05\u771f\u7684~~\u4ee3\u7801\n\n\u601d\u8def\u5f88\u7b80\u5355 \u5c31\u662f6\u7ef4bfs\n\n\u4ee5(n,1,0,n,1,1)\u4e3a\u8d77\u70b9\uff0c(1,n,i,1,n,j)(0<=i,j<=3)\u4e2d\u8ddd\u79bb\u6700\u5c0f\u7684\u4e3a\u7ec8\u70b9 \u4e09\u79cd\u72b6\u6001\u8f6c\u79fb\n\n\u5176\u4e2d\u8981\u6ce8\u610f\u51e0\u70b9,\u5df2\u5728\u4ee3\u7801\u4e2d\u6807\u51fa\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#define N 25\nconst int px[4]={-1,0,1,0},py[4]={0,1,0,-1};//0\u4e0a1\u53f32\u4e0b3\u5de6\nbool blk[N][N],mrk[N][N][4][N][N][4];\nint n,dst[N][N][4][N][N][4],head,tail=1;\nstruct P{\n\tint x,y,d;\n\tbool IsnInBound(){return x<1||x>n||y<1||y>n||blk[x][y];}\n};\nstruct S{\n\tP p1,p2;\n\tint& get(){return dst[p1.x][p1.y][p1.d][p2.x][p2.y][p2.d];}//\u8fd4\u56de\u5f15\u7528 \u65b9\u4fbf\u5f88\u591a233\n\tbool IsMrked(){return mrk[p1.x][p1.y][p1.d][p2.x][p2.y][p2.d];}\n\tvoid Mark(){mrk[p1.x][p1.y][p1.d][p2.x][p2.y][p2.d]=true;}\n};\nvoid move(P& d,P f,int w){\n\td=f;\n\tif(w==0){//\u524d\u8fdb\n\t\tif(d.x==1&&d.y==n)return;//\u8fd9\u91cc\u5751\u4e86\u6211\u5f88\u4e45...\u5982\u679c\u5df2\u7ecf\u5230\u4e86\u7ec8\u70b9\u5c31\u4e0d\u4f1a\u518d\u79fb\u52a8...\u8c03\u4e86\u6211\u51e0\u4e2a\u5c0f\u65f6\n\t\td.x+=px[d.d],d.y+=py[d.d];\n\t\tif(d.IsnInBound())d=f;\n\t}else if(w==1){//\u987a\u65f6\u948890\n\t\td.d++;\n\t\tif(d.d==4)d.d=0;\n\t}else if(w==2){//\u9006\u65f6\u948890\n\t\td.d--;\n\t\tif(d.d==-1)d.d=3;\n\t}\n}\nS q[N*N*N*N*16];\nint main(){\n\tmemset(dst,0x7f,sizeof(dst));\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++){\n    \tgetchar();\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tblk[i][j]='H'==getchar();\n\t\t}\n\t}\n\tq[0].p1.x=q[0].p2.x=n,q[0].p1.y=q[0].p2.y=q[0].p2.d=1;\n\tq[0].get()=0;\n\tS p,nx;\n\twhile(head<tail){\n\t\tp=q[head++],nx;\n//\t\tif(p.p1.x==1&&p.p2.x==1&&p.p1.y==n&&p.p2.y==n)break;\u7b2c\u4e00\u6b21\u904d\u5386\u5230\u5176\u5b9e\u5c31\u53ef\u505c\u4e0b\n\t\tint w=p.get();\n\t\tfor(int i=0;i<3;i++){\n\t\t\tmove(nx.p1,p.p1,i),move(nx.p2,p.p2,i);\n\t\t\tint &nd=nx.get();\n\t\t\tif(nd>w+1){\n\t\t\t\tnd=w+1;\n\t\t\t\tif(!nx.IsMrked())q[tail++]=nx,nx.Mark();//\u5176\u5b9e\u53ef\u4ee5\u4e0d\u7528\u5224\u65ad\u662f\u5426\u5df2\u7ecf\u8d70\u8fc7 \u56e0\u4e3a\u8f6c\u79fb\u72b6\u6001\u82b1\u8d39\u4e3a1 \u5148\u904d\u5386\u5230\u7684\u80af\u5b9a\u8ddd\u79bb\u6700\u5c0f\n\t\t\t}\n\t\t}\n\t}\n\tint ans=0x7f7f7f7f;\n\tfor(int i=0;i<4;i++)for(int j=0;j<4;j++)ans=std::min(ans,dst[1][n][i][1][n][j]);\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n\n```",
        "postTime": 1532786079,
        "uid": 70245,
        "name": "s7a9",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3610 \u3010[USACO17JAN]Cow Navigation\u5976\u725b\u5bfc\u822a\u3011"
    }
]