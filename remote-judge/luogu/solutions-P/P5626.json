[
    {
        "content": "\u8fd9\u5176\u5b9e\u4e5f\u662f\u539f\u9898\uff0c\u5f88\u65e9\u4ee5\u524d\u51fa\u516c\u5f00\u8d5b\u51c6\u5907\u7528\u8fd9\u4e2a\uff0c\u53ea\u4e0d\u8fc7\u6570\u636e\u5f3a\u592a\u591a\u4e86...\u4e0d\u8bf4\u4e86\uff0c\u4e0a\u9898\u89e3\uff08[\u52a0\u5f3a\u7248\u5728\u6b64](https://www.luogu.org/problem/P5634)\uff09\n\n\u4e3a\u4e86\u65b9\u4fbf\uff0c\u4ee5\u4e0b\u6211\u7528$lg$\u6765\u4ee3\u66ff$\\log_2$\n\n\u6211\u4eec\u5bb9\u6613\u5f97\u51fa$ans=F(n)=F(\\lfloor n/2\\rfloor )+F(\\lceil n/2\\rceil )+n-1(n>1)$\uff0c\u6211\u4eec\u4ee4$g(n)=g(\\lfloor n/2\\rfloor )+g(\\lceil n/2\\rceil )+a(n)(n>1)$\uff0c\u5219\u6709$\\Delta g(n)=\\Delta a(n)+\\Delta g(\\lfloor n/2\\rfloor)$\n\n\u6211\u4eec\u6709\u6052\u7b49\u5f0f$\\lceil lg2j\\rceil=\\lceil lgj\\rceil+1$\u548c$\\lceil lg(2j-1)\\rceil=\\lceil lgj\\rceil+[j>1](j\\geq1)$\uff0c\u6240\u4ee5\u5f53$a(n)=n-1$\u65f6\uff0c$\\lceil lg(n+1)\\rceil$\u6ee1\u8db3$\\Delta f(n)=1+\\Delta f(\\lfloor n/2\\rfloor)$\n\n\u6240\u4ee5\u6709\u7ed3\u8bba\u82e5$F(1)=0,F(n)=F(\\lfloor n/2\\rfloor )+F(\\lceil n/2\\rceil )+n-1(n>1)$\uff0c$F(n)=\\sum\\limits_{k=1}^{n}\\lceil lgk\\rceil$\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u66b4\u529b\u6c42$F(n)$\uff0c\u4f46\u6b64\u65f6\u66b4\u529b\u4ecd\u7136\u662f$O(n)$\u7684\uff0c\u56e0\u4e3a\u5176\u4e2d\u6709\u4e00\u4e9b\u8fde\u7eed\u76f8\u7b49\u7684\u6570\uff0c\u53ef\u4ee5\u8003\u8651\u6570\u8bba\u5206\u5757\uff0c\u590d\u6742\u5ea6\u5927\u6982\u662f$O(lgn)$\u7684\uff0c\u5728\u6211\u7684\u90a3\u9053\u9898\u4e2d\u9884\u8ba1\u5f97\u5206$10\\sim20pts$\n\n\u4ee4$m=\\lceil lgn\\rceil$\uff0c\u6211\u4eec\u8003\u8651\u589e\u52a0$2^m-n$\u9879\u4ee5\u7b80\u5316\u8fd0\u7b97\uff1a\n\n$F(n)+(2^m-n)m=\\sum\\limits_{k=1}^{2^m}\\lceil lgk\\rceil=\\sum\\limits_{j,k}j[j=\\lceil lgk\\rceil][1\\leq k\\leq 2^m]=\\sum\\limits_{j,k}j[2^{j-1}\\lt k\\leq 2^j][1\\leq j\\leq m]=\\sum\\limits_{j=1}^{m}j2^{j-1}=2^m(m-1)+1$\n\n\u6240\u4ee5\u6211\u4eec\u5f97\u5230$F(n)=nm-2^m+1$\n\n\u4f46\u662f\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\uff1a\u5982\u4f55\u6c42$\\lceil lgn\\rceil$\uff0c\u7531\u4e8e$n$\u592a\u5927\uff0c\u53ea\u80fd\u4f7f\u7528\u9ad8\u7cbe\u5ea6\uff0c\u8003\u8651\u66b4\u529b\u6c42$2^k$\uff0c\u66b4\u529b\u627e\u5230$m$\uff0c\u66b4\u529b\u53d6\u6a21\uff0c\u590d\u6742\u5ea6\u4ecd\u4e3a$O(lgn)$\uff0c\u5728\u6211\u7684\u90a3\u9053\u9898\u4e2d\u9884\u8ba1\u5f97\u5206\u4ecd\u7136\u4e3a$10\\sim20pts$\n\n\u6211\u4eec\u6709\u6362\u5e95\u516c\u5f0f$lgn=\\log_{10}n/\\log_{10}2=\\log_{10}n*(1/\\log_{10}2),\\log_{10}n$\u53ef\u4ee5\u7528\u6570\u4f4d\u4e2a\u6570\u4f30\u7b97\uff08\u504f\u5c0f\uff09\uff0c$1/\\log_{10}2$\u53d6\u4f30\u7b97\u503c$3.32192809488736218170856773213$\uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u6c42\u5f97\u4f30\u7b97\u503c$l$\uff0c\u8003\u8651\u9884\u5904\u7406\u51fa$2^{2^l}$\uff0c\u518d\u628a$l$\u7528\u4e8c\u8fdb\u5236\u6cd5\u8868\u793a\u5373\u53ef\u5feb\u901f\u6c42\u51fa$2^l$\uff0c\u518d\u7528\u66b4\u529b\u5373\u53ef\uff08\u6b64\u65f6\u66b4\u529b\u6700\u591a\u7b97$4$\u6b21\uff0c\u56e0\u4e3a$2^4\\gt10$\uff09\uff0c\u590d\u6742\u5ea6$O(lglgn)$\uff0c\u9884\u8ba1\u5f97\u5206$100pts$\uff0c\u4f46\u662f\u6b64\u9898\u6570\u636e\u8303\u56f4\u8fbe\u5230$10^{100000}$\uff0c\u5fc5\u987b\u7528$FFT$\u4f18\u5316\uff0c\u5426\u5219\u5f97\u5206\u53ea\u80fd\u662f$50\\sim80pts$\uff08\u5747\u6307\u5728\u6211\u7684\u90a3\u9053\u9898\u4e2d\uff09\n\n\u53e6\u5916\uff0c\u63d0\u4f9b\u672c\u9898\uff08\u8f83\u5f31\u7248\u7684AC\u4ee3\u7801\uff09\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\ninline int qpow(int a,int b){\n\tint s=1;\n\twhile(b){\n\t\tif(b&1) s*=a;\n\t\ta*=a,b>>=1;\n\t}\n\treturn s;\n}\nsigned main(){\n\tint n,m;\n\tcin>>n;m=ceil(log2(n));\n\tcout<<m*n-qpow(2,m)+1;\n\treturn 0;\n}\n```",
        "postTime": 1573263262,
        "uid": 48057,
        "name": "Pisces",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5626 \u3010\u3010AFOI-19\u3011\u6570\u7801\u6392\u5e8f\u3011"
    },
    {
        "content": "\u663e\u7136\u627e\u89c4\u5f8b\uff0c\u8003\u8651\u5148\u5bf9\u5c0f\u6570\u636e\u8fdb\u884c\u5206\u6790\uff1a\n| $n$\u7684\u503c | $ans$\u7684\u503c |\n| :----------: | :----------: |\n| 1 | 0 |\n| 2 | 1 |\n| 3 | 3 |\n| 4 | 5 |\n| 5 | 8 |\n| 6 | 11 |\n| 7 | 14 |\n| 8 | 17 |\n| 9 | 21 |\n| 10| 25 |\n\n\u90a3\u4e48\u4e00\u5f00\u59cb\u6ca1\u6709\u770b\u51fa\u4ec0\u4e48\u76f4\u5230\u770b\u5230\u63d0\u793a\u4e2d `\u957f\u5ea6\u4e3a4\u7684\u5e8f\u5217\u5f52\u5e76\u8c03\u7528\uff0c\u5206\u62102\u7ec4\uff0c\u4e00\u7ec42\u4e2a\u5143\u7d20` \u731c\u6d4b\u548c\u5e8f\u5217\u7684\u5947\u5076\u6027\u6709\u5173\n\n\u8fd8\u662f`\u5f52\u5e76\u6392\u5e8f`\uff0c\u7531\u4e8e\u5c06\u6570\u7ec4\u5206\u62102\u7ec4\uff0c\u4e0d\u96be\u731c\u60f3\u503c\u4e4b\u548c\u4e0e\u62c6\u5f002\u7ec4\u7684\u6240\u9700\u4e2a\u6570\u6709\u5173\u3002\n\n\u89c2\u5bdf\uff1a\n\n- 3\u548c0\u30011\u7684\u5173\u7cfb\n- 5\u548c1\u30011\u7684\u5173\u7cfb\n- 8\u548c1\u30013\u7684\u5173\u7cfb\n\n\u597d\u50cf\u627e\u4e0d\u51fa\u4ec0\u4e48\u89c4\u5f8b\uff0c\u4f46\u7a81\u7136\u60f3\u5230\u5f52\u5e76\u6392\u5e8f\u4e24\u6570\u7ec4\u8fd8\u8981\u6574\u5408\uff0c\u5206\u522b\u6bd4\u8f83\uff0c\u6240\u4ee5\u60f3\u5230\u6b21\u6570\u548cn\u6709\u5173\u3002\u8003\u8651\u518d\u51cf\u6389\u4e00\u4e2an\n\n\u89c2\u5bdf\uff1a\n\n- 0\u548c0\u30011\u7684\u5173\u7cfb\n- 1\u548c1\u30011\u7684\u5173\u7cfb\n- 3\u548c1\u30013\u7684\u5173\u7cfb\n\n\u73b0\u5728\u5c31\u5f88\u660e\u663e\u4e86\uff0c$f(n)-n=f(int(n/2))+f(int(n/2+{1/2}))-1$\n\n\n\u2234\u7a0d\u5fae\u5904\u7406\u4e00\u4e0b\u540e\uff0c\u5f97\u51fa\n1. n\u4e3a\u5947\u6570\u65f6\uff0c$f(n)=f(n/2)+f(n/2+1)+n-1$\n2. n\u4e3a\u5076\u6570\u65f6\uff0c$f(n)=2*f(n/2)+n-1$\n\n\u663e\u7136\u5355\u662f\u8fd9\u6837\u9012\u63a8\uff08\u9012\u5f52\uff09\u662f\u4e0d\u884c\u7684\uff0c\u6bd5\u7adf$n<=10^{16}$\u3002\u8003\u8651\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u4f46\u5f00\u6570\u7ec4\u80af\u5b9a\u5b58\u4e0d\u4e0b\u3002\u53ea\u80fd\u7528STL\u5185map\u6c34\u4e00\u6c34\uff0c\u5927\u6982\u8981\u6700\u591a\u8981\u5b58\u4e0b~~log2(n)*2~~\uff08\u4e5f\u7b97\u4e0d\u6e05\u695aQAQ\u53cd\u6b63\u80fd\u5b58\u4e0b\uff09\n\n\u6ce8\u610ff(1)\u548cf(2)\u8981\u7279\u5224",
        "postTime": 1573241209,
        "uid": 136601,
        "name": "\u3000\u3000\u3000\u543e\u7687",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P5626 \u3010\u3010AFOI-19\u3011\u6570\u7801\u6392\u5e8f\u3011"
    },
    {
        "content": "\u4e0b\u9762\u4ecb\u7ecd\u4e00\u79cdO(log(n))\u7684\u6734\u7d20\u505a\u6cd5\n\n\u9996\u5148\u80af\u5b9a\u662f\u5f52\u5e76\u6392\u5e8f\u6bd4\u8f83\u5feb\uff0c\u5982\u679c\u4e0d\u61c2\u7684\u8bdd\u5efa\u8bae\u5148\u53bb\u5b66\u4e60\u5f52\u5e76\u6392\u5e8f\n\n\u7136\u540e\u5f00\u59cb\u505a\u5c0f\u5b66\u6570\u5b66\u9898\uff08~~\u627e\u89c4\u5f8b~~\n\n\u4e0b\u9762\u662f\u5c0f\u6570\u636e\uff1a\n\n```\n n |ans\n 1 | 0\n 2 | 1=0+1\n 3 | 3=1+2\n 4 | 5=3+2\n 5 | 8=5+3\n 6 | 11=8+3\n 7 | 14=11+3\n 8 | 17=14+3\n 9 | 21=17+3\n 10| 25=21+4\n```\n\u5c06\u6bcf\u4e24\u9879\u7684\u516c\u5dee\u7b97\u51fa\u540e\uff08\u5c0f\u5b66\u9898\u5957\u8def\uff09\u53ef\u4ee5\u5f88~~\u8f7b\u6613~~\u53d1\u73b0\u89c4\u5f8bqwq\n\n\u7136\u540e\u5c31\u662f\u4ee3\u7801\u7684\u4e8b\u4e86\n\n\u4e0b\u9762\u662f\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long n,a,m,j=1,ans,x=1;\nint main(){\n\tscanf(\"%lld\",&n);\n\tif(n==1ll){puts(\"0\");return 0;}//1\u9700\u8981\u7279\u5224\n\ta=n-1;\n\twhile(a){\n\t\tm++;\n\t\ta/=2;\n\t}//\u6c42\u51fa\u5927\u4e8e\u7b49\u4e8en\u7684\u7b2c\u4e00\u4e2a2\u7684m\u6b21\u65b9\u7684m\n\tfor(int i=1;i<=m;i++)\n\t\tj*=2;//\u6c42\u51fa\u5927\u4e8e\u7b49\u4e8en\u7684\u7b2c\u4e00\u4e2a2\u7684m\u6b21\u65b9\u7684\u6570j\n\tfor(int i=1;i<=m;i++)\n\t\tans+=(i*x),x*=2;//\u6c42\u51faj\u7684ans\n\tans-=((j-n)*m);//\u628a\u591a\u52a0\u4e86\u7684\u51cf\u6389\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1573394590,
        "uid": 104662,
        "name": "PrincessQi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5626 \u3010\u3010AFOI-19\u3011\u6570\u7801\u6392\u5e8f\u3011"
    },
    {
        "content": "#### \u9898\u76ee\u5206\u6790\uff1a\n\n\u9996\u5148\uff0c$n$ \u8f83\u5927\u65f6\uff0c\u4e00\u5b9a\u662f\u5f52\u5e76\u6392\u5e8f\u6bd4\u8f83\u6b21\u6570\u5c11\u3002\n\n\u5148\u6253\u4e2a\u8868\uff0c\u53d1\u73b0\u5373\u4f7f $n$ \u8f83\u5c0f\u65f6\uff0c\u4e5f\u662f\u5f52\u5e76\u6392\u5e8f\u6bd4\u8f83\u6b21\u6570\u66f4\u5c0f\uff0c\u4e8e\u662f\u53ea\u8003\u8651\u5f52\u5e76\u6392\u5e8f\u7684\u6bd4\u8f83\u6b21\u6570\uff0c\u4e00\u5c42\u5e8f\u5217\u957f\u5ea6\u4e3a $x$ \u7684\u8c03\u7528\u4f1a\u5f15\u53d1\u4e0b\u4e00\u5c42\u7684\u8c03\u7528\u548c\u672c\u5c42\u6700\u574f\u4e3a $x-1$ \u6b21\u7684\u6bd4\u8f83\uff0c\u4e8e\u662f\u5f97\u51fa\u5982\u4e0b\u8f6c\u79fb\u65b9\u7a0b\u3002\n\n$$f[0]=f[1]=0,f[x]=f[\\frac{x}{2}]+f[x-\\frac{x}{2}]+x-1$$\n\n\u56e0\u4e3a $n$ \u5f88\u5927\uff0c\u6709\u4ee5\u4e0b\u4e24\u79cd\u505a\u6cd5\uff1a\n\n1. ~~\u9762\u5411OEIS\u7f16\u7a0b~~ \u627e\u89c4\u5f8b\u63a8\u7ed3\u8bba\n\n2. \u8bb0\u5fc6\u5316\u641c\u7d22\n\n\u4e0b\u9762\u7ed9\u51fa\u516c\u5f0f\u548c\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u4ee3\u7801\u5b9e\u73b0\u3002\n\n$$S_n=n\\times\\left\\lceil\\log{n}\\right\\rceil-2^{\\left\\lceil\\log{n}\\right\\rceil}+1$$\n\n~~\u5173\u4e8e\u8fd9\u4e2a\u516c\u5f0f\uff0c\u7a9d\u5e76\u4e0d\u77e5\u9053\u600e\u4e48\u63a8~~\n\n#### \u4ee3\u7801\u5b9e\u73b0(\u8bb0\u5fc6\u5316\u641c\u7d22)\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\n\nmap <ll, ll> mp;\n\nll dfs(ll x) {\n\tif(mp.count(x)) return mp[x];\n\tif(x <= 1) return 0;\n\treturn mp[x] = dfs(x >> 1) + dfs(x - (x >> 1)) + x - 1;\n}\n\nint main() {\n\tll n;\n\tscanf(\"%lld\", &n);\n\tprintf(\"%lld\", dfs(n));\n\treturn 0;\n}\n```",
        "postTime": 1573117485,
        "uid": 133236,
        "name": "saxiy",
        "ccfLevel": 0,
        "title": "\u6570\u7801\u6392\u5e8f\u3010\u9898\u89e3\u3011"
    },
    {
        "content": "\u4e3a\u4ec0\u4e48\u6ca1\u6709\u5b98\u65b9solution\u554a\uff0c\u90a3\u7a9d\u6765\u642c\u8fd0\u4e00\u4e2aqwq\n\n---\n\n\u8fd9\u91cc\u987a\u4fbf\u5ba3\u4f20\u4e00\u4e0b\u795ePisces\u7684[\u52a0\u5f3a\u7248](https://www.luogu.org/problem/P5634)\n\n\u5bf9\u4e8e\u90a3\u9898\u8bf7\u81ea\u89c9\u4e0d\u4f7f\u7528python\n\n\u8fd9\u9898\u5c31\u662f\u7ed9\u5927\u5bb6\u5a31\u4e50\u7684\n\n---\n\n\u7ecf\u8fc7\u89c2\u5bdf\u53d1\u73b0\uff0c\u5f52\u5e76\u6392\u5e8f\u663e\u7136\u6bd4\u5176\u4ed6\u51e0\u79cd\u6392\u5e8f\u66f4\u4f18\n\n\u6211\u4eec\u8003\u8651\u4e00\u4e2a\u6570\u5217\u5206\u6210\u4e24\u534a\u8ba1\u7b97\u8d21\u732e\uff0c\u5229\u7528\u5206\u6cbb\u7684\u601d\u60f3\u89e3\u51b3\n\n\u8003\u8651\u5230\u5f52\u5e76\u6392\u5e8f\u5c06\u957f\u5ea6\u4e3a$n$\u7684\u6570\u5217\u5206\u6210\u957f\u5ea6\u4e3a$\\frac{n}{2}$\u548c$n-\\frac{n}{2}$\u7684\u4e24\u4e2a\u5e8f\u5217\n\n\u6211\u4eec\u9700\u8981\u7684\u6bd4\u8f83\u6b21\u6570\u4e3a$f(n)=f(\\frac{n}{2})+f(n-\\frac{n}{2})+$\u5408\u5e76\u6240\u9700\u7684\u8d21\u732e\n\n\u5bb9\u6613\u5f97\u5230\uff0c\u5728\u6700\u574f\u60c5\u51b5\u4e0b\uff0c\u5408\u5e76\u4e24\u4e2a\u957f\u5ea6\u4e3a$\\frac{n}{2}$\u548c$n-\\frac{n}{2}$\u7684\u5e8f\u5217\u9700\u8981$n-1$\u6b21\u6bd4\u8f83\n\n\u53c8\u7531\u4e8e\u6570\u636e\u4fdd\u8bc1\u968f\u673a\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528map\u6216\u8005unordered_map\u6765\u8bb0\u5fc6\u5316\u641c\u7d22\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O($**\u80fd\u8fc7**$)$\n\nCode:\n\n```\n#include<bits/stdc++.h>\n\n#define rd(x) x=read()\n\n#define int long long\n\nusing namespace std;\n\nint n;\nunordered_map<int,int>f;\n\ninline int read()\n{\n    int x=0,f=1;char ch=getchar();\n    while(ch>'9'||ch<'0'){if(ch=='-')f=-1;ch=getchar();}\n    while(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n    return x*f;\n}\n\ninline void write(int x)\n{\n    if(x<0){putchar('-');x=-x;}\n    if(x>=10)write(x/10);\n    putchar(x%10+'0');\n}\n\nint solve(int x)\n{\n\tif(x==1)return 0;\n\tif(x==2)return 1;\n\tif(x==3)return 3;\n\tif(f[x])return f[x];\n\treturn f[x]=solve(x/2)+solve(x-x/2)+x-1;\n}\n\nsigned main()\n{\n\trd(n);cout<<solve(n)<<endl;\n    return 0;\n}\n\n\n\n```",
        "postTime": 1573365817,
        "uid": 53807,
        "name": "Erusel",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5626 \u3010\u3010AFOI-19\u3011\u6570\u7801\u6392\u5e8f\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P5626)\n\n#### \u601d\u8def\n\n\u9996\u5148\uff0c\u4e00\u5b9a\u662f\u5f52\u5e76\u6392\u5e8f\u6700\u5feb\u3002\n\n\u63a5\u7740\u624b\u78e8\u6253\u8868\u627e\u89c4\u5f8b\uff1a\n\n| $n$ | $ans$ |\n| :----------: | :----------: |\n| 1 | 0 |\n| 2 | 1+0 |\n| 3 | 1+2 |\n| 4 | 2+3 |\n| 5 | 5+3 |\n| 6 | 8+3 |\n| 7 | 11+3 |\n| 8 | 14+3 |\n| 9 | 17+4 |\n| 10 | 21+4 |\n\n\u63a5\u7740\uff0c\u5bb9\u6613\u627e\u51fa\u8868\u4e2d\u89c4\u5f8b\uff0c\u8bbe $p=\\lfloor log_2n \\rfloor$\uff0c\u53ef\u7b97\u51fa\u7b54\u6848\uff1a\n\n$$S_n=\\sum^p_{i=1}(i2^{i-1})-p(2^p-n)$$\n\n\u6839\u636e\u5c0f\u5b66\u63a8\u5bfc\u516c\u5f0f\uff0c\u53ef\u5c06\u5de6\u8fb9\u5f0f\u5b50\u53d8\u6210 $p2^p+1-2^p$\u3002\n\n\u6574\u4e2a\u5f0f\u5b50\u5373\u53ef\u5316\u6210\uff1a\n\n$$S_n=np-2^p+1$$\n\n\u6ce8\u610f\u4f7f\u7528\u5feb\u901f\u5e42\u3002\n\n#### \u8d34\u8d34\u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\nll n;\ninline ll ksm(ll a,ll b){ll z=1;while(b){if(b&1)z=z*a;a=a*a;b>>=1;}return z;}\nint main(){\n\tscanf(\"%lld\",&n);\n\tll p=ceil(log2(n*1.0));\n\tll ans=n*p-ksm(2,p)+1;\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n\n```\n\n",
        "postTime": 1670588037,
        "uid": 590600,
        "name": "MoriyaSuwako",
        "ccfLevel": 0,
        "title": "P5626\u9898\u89e3"
    },
    {
        "content": ">\u6700\u574f\u60c5\u51b5\u4e0b\u6700\u5c11\u9700\u8981\u51e0\u6b21\u6bd4\u8f83\n\n\u663e\u7136\u8fd9\u662f\u5bf9\u5f52\u5e76\u6392\u5e8f\u7684\u8be2\u95ee\uff0c\u4e0e\u53e6\u5916\u4e09\u79cd\u6392\u5e8f\u7b97\u6cd5\u65e0\u5173\n\n\u7531**\u4e8c\u8def\u5f52\u5e76\u6392\u5e8f**\u539f\u7406\uff0c\u53ef\u77e5\u9012\u63a8\u5f0f\uff1a\n\n$$f(x) =\n\\begin{cases}\n1,\\ x=1\\\\\nf(\\left \\lfloor \\Large{\\frac{x}{2} } \\right \\rfloor)+f(\\left \\lfloor \\Large{\\frac{x}{2} } \\right \\rfloor+1)+x-1,x\\ge2\\ \\&\\&\\ x\\ is\\ \\ odd\\ \\\\\n2*f(\\left \\lfloor \\Large{\\frac{x}{2} } \\right \\rfloor)+x-1,x\\ge2\\ \\&\\&\\ x\\ is\\ \\ even\\  \n\\end{cases}$$\n\n\n$n$ \u7684\u89c4\u6a21\u662f $10^{16}$ \uff0c\u987b\u8fdb\u884c**\u8bb0\u5fc6\u5316\u641c\u7d22**\n\n```\n#include<iostream>\n#include<cstdio>\n#include<map>\nusing namespace std;\ntypedef unsigned long long ll;\nll n;\nmap<ll,ll> S;\nll F(ll x){\n    switch(x){\n\t\tcase 1:return 0;\n\t    case 2:return 1;\n\t    case 3:return 3;\n\t}\n\tif(S[x]) return S[x];\n\treturn x&1?S[x]=F((x>>1))+F((x>>1)+1)+x-1:S[x]=(F((x>>1))<<1)+x-1;\n}\nint main(){\n    cin>>n;\n    cout<<F(n)<<'\\n';\n    return 0;\n}\n```",
        "postTime": 1573362095,
        "uid": 90615,
        "name": "opened",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P5626 \u3010\u3010AFOI-19\u3011\u6570\u7801\u6392\u5e8f\u3011"
    }
]