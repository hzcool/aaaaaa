[
    {
        "content": "\u8bbe $d\\left(n\\right)$ \u8868\u793a\u4e00\u68f5 $n$ \u4e2a\u53f6\u5b50\u7ed3\u70b9\u7684\u7ebf\u6bb5\u6811\u7684\u6df1\u5ea6\uff0c\u90a3\u4e48\u6709 $d\\left(1\\right)=1$ \u4e0e\n$$\n\\begin{aligned}\nd\\left(2n\\right)&=d\\left(n\\right)+1,\\\\\nd\\left(2n+1\\right)&=\\max\\left\\{d\\left(n+1\\right),d\\left(n\\right)\\right\\}+1.\n\\end{aligned}\n$$\n\u6240\u4ee5\n$$\nd\\left(n\\right)=\\left\\lceil\\log n\\right\\rceil+1.\n$$\n\u6211\u4eec\u53c8\u6709\n$$\n\\begin{aligned}\nf\\left(2n\\right)&=2^{d\\left(n\\right)+1}+f\\left(n\\right),\\\\\nf\\left(2n+1\\right)&=\\begin{cases}\n2^{d\\left(n\\right)}+f\\left(n+1\\right), &d\\left(n+1\\right)>d\\left(n\\right),\\\\\n2^{d\\left(n\\right)+1}+f\\left(n\\right), &d\\left(n+1\\right)\\le d\\left(n\\right).\n\\end{cases}\n\\end{aligned}\n$$\n\u6309 $n$ \u7684\u4e8c\u8fdb\u5236\u4f4d\u4ece\u9ad8\u4f4d\u5411\u4f4e\u4f4d\u9012\u63a8\u3002\u53d1\u73b0 $d\\left(n+1\\right)>d\\left(n\\right)$ \u5f53\u4e14\u4ec5\u5f53 $n=2^k\\left(k\\in\\N\\right)$\uff0c\u56e0\u6b64 $n$ \u6700\u9ad8 $\\texttt1$ \u4f4d\u540e\u7684\u5168 $\\texttt0$ \u6bb5\u8fd9\u4e00\u90e8\u5206\u7684\u7b54\u6848\u53ef\u4ee5\u76f4\u63a5\u8ba1\u7b97\uff0c\u4e4b\u540e\u7684 $\\texttt1$ \u4f4d\u5c31\u4e00\u5b9a\u662f\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u4e8e\u662f\u7b2c\u4e00\u6bb5\u5168 $\\texttt0$ \u4f4d\u540e\u7684 $\\texttt0$ \u4f4d\u5c31\u4e0e $\\texttt1$ \u4f4d\u4e00\u6837\u4e86\u3002\n\n\u6709\u4e86\u8fd9\u70b9\uff0c\u6211\u4eec\u5c31\u5bb9\u6613\u53d1\u73b0\n$$\nf\\left(n\\right)=\\begin{cases}\n2^{x+1}-1, &n=2^x\\left(x\\in\\N\\right),\\\\\n2^{x+2}-2^{x-y+1}+1, &n=2^x+2^y+t\\left(x,y\\in\\N,0\\le t<2^y<2^x\\right).\n\\end{cases}\n$$\n\u73b0\u5728\u6211\u4eec\u8981\u5bf9 $f$ \u6c42\u548c\u3002\u6211\u4eec\u53ef\u4ee5\u5206\u522b\u6c42\u51fa $n=1,2,3,\\dots,b$ \u65f6\u7684\u548c\u4e0e $n=1,2,3,\\dots,a-1$ \u65f6\u7684\u548c\uff0c\u7136\u540e\u4f5c\u5dee\u5f97\u51fa\u7b54\u6848\uff0c\u6240\u4ee5\u6211\u4eec\u73b0\u5728\u8981\u5bf9\u4e8e $N=a-1$ \u548c $N=b$ \u6c42\n$$\n\\sum_{n=1}^Nf\\left(n\\right).\n$$\n\u82e5 $N=2^X\\left(X\\in\\N\\right)$\uff0c\u90a3\u4e48\u6211\u4eec\u5355\u72ec\u8ba1\u7b97 $f\\left(N\\right)$ \u7136\u540e\u5e76\u8ba1\u7b97 $N$ \u51cf\u53bb\u4e00\u540e\u7684\u7b54\u6848\uff0c\u6c42\u548c\u5c31\u53ef\u4ee5\u5f97\u5230\u7b54\u6848\u3002\u6240\u4ee5\u6211\u4eec\u5047\u8bbe $N=2^X+2^Y+T\\left(X,Y\\in\\N,0\\le T<2^Y<2^X\\right)$\uff0c\u90a3\u4e48\n$$\n\\begin{aligned}\n\\sum_{n=1}^Nf\\left(n\\right)=&\\sum_{x=0}^{X-1}\\left(2^{x+1}-1+\\sum_{y=0}^{x-1}2^y\\left(2^{x+2}-2^{x-y+1}+1\\right)\\right)+2^{X+1}-1\\\\\n&\\qquad+\\sum_{y=0}^{Y-1}2^y\\left(2^{X+2}-2^{X-y+1}+1\\right)+\\left(T+1\\right)\\left(2^{X+2}-2^{X-Y+1}+1\\right)\\\\\n=&3\\times2^X-2^{X+1}X-2X+\\frac{2^{2X+2}-13}3+2^{X+1}-1\\\\\n&\\qquad+\\left(2^{X+2}+1\\right)\\left(2^Y-1\\right)-Y\\times2^{X+1}+\\left(T+1\\right)\\left(2^{X+2}-2^{X-Y+1}+1\\right).\n\\end{aligned}\n$$\n\u4e8e\u662f\u5c31\u53ef\u4ee5\u8ba1\u7b97\u4e86\u3002~~\u4f60\u53ef\u80fd\u9700\u8981\u4e00\u4e2a\u9ad8\u7cbe\u5ea6\u677f\u5b50\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $\\sout{O\\left(\\log b\\log\\log b\\right)}$\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6 $\\sout{O\\left(\\log b\\right)}$\u3002~~**\u4eba\u751f\u82e6\u77ed\uff0c\u6211\u7528 Ruby\u3002**",
        "postTime": 1606551063,
        "uid": 55251,
        "name": "Daniel13265",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P7122 \u3010Chino \u4e0e\u7ebf\u6bb5\u6811\u3011"
    }
]