[
    {
        "content": " [\u554a\u54c8\uff0c\u9898\u76ee\u5728\u8fd9\u91cc](https://www.luogu.com.cn/problem/P2623)\n\n\u9898\u610f\u5f88\u660e\u663e\u561b\n\n\u4e09\u4e2a\u80cc\u5305\n\n\n\u4e0d\u77e5\u9053\u5927\u4f6c\u4eec\u8bf4\u7684\u51fd\u6570\u80cc\u5305\u662f\u4ec0\u4e48\u4e1c\u4e1c\uff0c~~\u867d\u7136\u7684\u5374\u5f88\u5f62\u8c61~\n~\n\n\u7532\uff1a\n\n\u5f53\u65f6\u53ea\u662f\u89c9\u5f97\u7532\u53ef\u4ee5\u6839\u636e\u4ed6\u7ed9\u7684\u5f0f\u5b50\u76f4\u63a5\u6765\u5199\u5bf9\u5e94\u4f53\u79ef\u7684\u4ef7\u503c\u7136\u540e\u6765\u8dd1$01$\u80cc\u5305\n\n\u4e59\uff1a\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u4e2a\u6570\u5904\u7406\u4e00\u624b\uff0c\u7136\u540e\u4f9d\u65e7\u8dd1$01$\u80cc\u5305\n\n\u4e19\uff1a\n\n\u5b8c\u5168\u80cc\u5305\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n``` cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#define N 1000010\nusing namespace std;\nint re() {\n\tint p=0; char i=getchar();\n\twhile(i<'0'||i>'9')\ti=getchar();\n\twhile(i>='0'&&i<='9')\tp=p*10+i-'0',i=getchar();\n\treturn p;\n}\nint n,m,cnt;\nint w[N],v[N],r[N];\nint f[N];\nint main()\n{\n\tn=re(); m=re();\n\tif(n==0||m==0) {\n\t\tcout<<0<<endl;\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint op,x,y,z;\n\t\top=re();x=re();y=re();\n\t\tif(op==1)\n\t\t{\n\t\t\tfor(int j=1;j<=m;j++)\n\t\t\t{\n\t\t\t\tif(x*j-y<=0) continue;\n\t\t\t\tv[++cnt]=j;\n\t\t\t\tw[cnt]=j*(j*x-y);\n\t\t\t\tr[cnt]=1;\n\t\t\t}\n\t\t}\n\t\tif(op==2)\n\t\t{\n\t\t\tint k=1;\tz=re();\n\t\t\twhile(z>0)\n\t\t\t{\n\t\t\t\tint mi=min(k,z);\n\t\t\t\tw[++cnt]=mi*x;\n\t\t\t\tv[cnt]=mi*y;\n\t\t\t\tr[cnt]=1;\n\t\t\t\tz-=k;\tk<<=1;\n\t\t\t}\n\t\t}\n\t\tif(op==3)\n\t\t{\n\t\t\tw[++cnt]=x;\n\t\t\tv[cnt]=y;\n\t\t\tr[cnt]=0;\n\t\t}\n\t}\n\tfor(int i=1;i<=cnt;i++)\n\t{\n\t\tif(r[i]==0)\n\t\t{\n\t\t\tfor(int j=v[i];j<=m;j++)\tf[j]=max(f[j-v[i]]+w[i],f[j]);\n\t\t}\n\t\telse {\n\t\t\tfor(int j=m;j>=v[i];j--)\tf[j]=max(f[j-v[i]]+w[i],f[j]);\n\t\t}\n\t}\n\tcout<<f[m]<<endl;\t\nreturn 0;\n}\n```\n\n### \u5982\u6709\u4e0d\u59a5\u4e4b\u5904\u6216\u4e0d\u660e\u767d\u4e4b\u5904\uff0c\u6b22\u8fce\u6307\u51fa\u6765qwq\n",
        "postTime": 1609592589,
        "uid": 233816,
        "name": "_zy_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2623 \u3010\u7269\u54c1\u9009\u53d6\u3011"
    },
    {
        "content": "\u4e3a\u4ec0\u4e48\u5176\u4ed6\u7684\u9898\u89e3\u5168\u90e8\u90fd\u662f$O(nm^2+nmc)$\u5361\u5e38\u554a...\n\n\u6211\u6709\u4e00\u4e2a\u590d\u6742\u5ea6\u8f83\u597d\uff08$O(nmc)$\uff09\u7684\u60f3\u6cd5\uff1a\n\n\u53ef\u4ee5\u8bc1\u660e\u4e00\u5b9a\u5b58\u5728\u4e00\u79cd\u6700\u4f18\u89e3\uff0c\u5176\u4e2d\u53d6\u7684\u7532\u7c7b\u7269\u54c1\u603b\u6570<=1\n\n\u8bc1\u660e\u7b80\u5355\u6765\u8bb2\u5c31\u662f\u5982\u679c\u53d6\u4e86\u4e24\u4e2a\u6216\u4ee5\u4e0a\u7532\u7c7b\u7269\u54c1\uff0c\u90a3\u4e48\u53d6\u5176\u4e2d\u4efb\u610f\u4e24\u4e2a\uff08\u8bbe\u5c5e\u6027\u5206\u522b\u4e3a(a1,b1),(a2,b2)\uff0c\u5404\u53d6\u4e86x1,x2\u7684\u4f53\u79ef\uff09\uff0c\u5c06\u5b83\u4eec\u66ff\u6362\u4e3a\u4e00\u4e2a\u4f53\u79ef\u662f\u5b83\u4eec\u4e4b\u548c\uff0c\u5c5e\u6027\u4e3a\u5b83\u4eec\u4e4b\u4e00\u7684\u7269\u54c1\uff0c\u4e00\u5b9a\u4e0d\u4f1a\u66f4\u52a3\n\n$a1*{(x1+x2)}^2-b1*(x1+x2)>=a1*{x1}^2-b1*x1+a2*{x2}^2-b2*x2$\n\n\u8fd9\u6837\u5c31\u5f88\u7b80\u5355\u4e86\uff1a\u4e59\u7c7b\u548c\u4e19\u7c7b\u7269\u54c1\u7684\u5904\u7406\u697c\u4e0a\u8bb2\u7684\u5f88\u6e05\u695a\uff1b\u9047\u5230\u7532\u7c7b\u7269\u54c1\u5148\u4e0d\u7ba1\uff0c\u5b58\u8d77\u6765\n\n\u5904\u7406\u5b8c\u4e59\u548c\u4e19\u7c7b\u7269\u54c1\u540e\u8ba1\u7b97\u4e00\u4e2a\u6570\u7ec4ans\uff0c\u5176\u4e2dans\\[i\\]\u8868\u793a\u53ea\u53d6\u4e59\u6216\u4e19\u7c7b\u7269\u54c1\u65f6\uff0c\u7528**\u6700\u591a**i\u7684\u4f53\u79ef\u5f97\u5230\u7684\u6700\u5927\u4ef7\u503c\n\n\u7136\u540e\u679a\u4e3e\u7532\u7c7b\u7269\u54c1\u53d6\u7684\u60c5\u51b5\uff1a\u4e0d\u53d6\u6216\u8005\u53d6\u67d0\u4e00\u4e2a\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u7532\u7c7b\u7269\u54c1\uff0c\u518d\u8dd1\u4e00\u904ddp\uff0c\u5c31\u662f\u53ea\u53d6\u5b83\u65f6\u679a\u4e3e\u5b83\u7684\u4f53\u79ef\u5373\u53ef\n\n```\n//\u8bbean2\u4e3a\u6700\u7ec8\u7b54\u6848,dd\u4e3a\u5b58\u50a8\u7532\u7c7b\u7269\u54c1\u4fe1\u606f\u7684vector\n//\u5176\u4e2ddd[i].fi,dd[i].se\u5206\u522b\u8868\u793a\u7b2ci\u4e2a\u7532\u7c7b\u7269\u54c1\u7684A\u5c5e\u6027,B\u5c5e\u6027\nan2=ans[m];\nfor(i=0;i<dd.size();i++)\n{\n\tfor(j=0;j<=m;j++)\n\t{\n\t\tan2=max(an2,ans[m-j]+dd[i].fi*j*j-dd[i].se*j);\n\t}\n}\n```\n\u4ee3\u7801\uff1a\n```\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<vector>\nusing namespace std;\n#define fi first\n#define se second\n#define mp make_pair\n#define pb push_back\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<ll,ll> pll;\n\nll ans[2005],an2;\n//\u524di\u4e2a\u7269\u54c1\uff0c\u7528j\u7684\u5bb9\u91cf\u7684\u6700\u5927\u4ef7\u503c\nvector<pll> dd;\nll n,m;\nint main()\n{\n    ll idx,i,j,k,a,b,c;\n    scanf(\"%lld%lld\",&n,&m);\n    for(i=1;i<=n;i++)\n    {\n        scanf(\"%lld\",&idx);\n        if(idx==1)\n        {\n            scanf(\"%lld%lld\",&a,&b);\n            dd.pb(mp(a,b));\n        }\n        else if(idx==2)\n        {\n            scanf(\"%lld%lld%lld\",&a,&b,&c);\n            if(b==0)\n            {\n                for(j=0;j<=m;j++)\tans[j]+=a*c;\n            }\n            else\n            {\n                for(j=m;j>=1;j--)\n                {\n                    for(k=min(c,j/b);k>=1;k--)\n                    {\n                        ans[j]=max(ans[j],ans[j-k*b]+k*a);\n                    }\n                }\n            }\n        }\n        else if(idx==3)\n        {\n            scanf(\"%lld%lld\",&a,&b);\n            if(b==0)\texit(-1);\n            else\n            {\n                for(j=b;j<=m;j++)\n                {\n                    ans[j]=max(ans[j],ans[j-b]+a);\n                }\n            }\n        }\n        //for(int i=0;i<=m;i++)\tprintf(\"a%lld %lld\\n\",i,ans[i]);\n    }\n    for(i=1;i<=m;i++)\tans[i]=max(ans[i],ans[i-1]);\n    an2=ans[m];\n    for(i=0;i<dd.size();i++)\n    {\n        for(j=0;j<=m;j++)\n        {\n            an2=max(an2,ans[m-j]+dd[i].fi*j*j-dd[i].se*j);\n        }\n    }\n    printf(\"%lld\",an2);\n    return 0;\n}\n```\n",
        "postTime": 1534493873,
        "uid": 28455,
        "name": "hehe_54321",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2623 \u3010\u7269\u54c1\u9009\u53d6\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u662f\u4e00\u9053~~\u7b80\u5355\u7684~~\u6df7\u5408\u80cc\u5305\u9898\u2026\u2026\n\n\u9996\u5148\u5206\u6790\u53ef\u77e5**\u7532\u7c7b**\u662f\u4e00\u4e2a\u51fd\u6570\u80cc\u5305\uff0c\n\n**\u4e59\u7c7b**\u662f\u4e00\u4e2a\u591a\u91cd\u80cc\u5305\uff0c\n\n**\u4e19\u7c7b**\u662f\u4e00\u4e2a\u5b8c\u5168\u80cc\u5305\u3002\n\n\u5bf9\u4e8e\u540e\u4e24\u4e2a\u80cc\u5305\u65e0\u9700\u591a\u8a00\uff0c\u4ec5\u9700\u5f97\u51fa\u7b2c\u4e00\u4e2a\u80cc\u5305\u7684\u52a8\u89c4\u65b9\u7a0b\u3002\n\n------------\n\n\u8bbedp[i]\u4e3a\u524di\u4f53\u79ef\u7684\u80cc\u5305\u6240\u88c5\u7684\u6700\u5927\u4ef7\u503c\uff0c\n\u52063\u79cd\u60c5\u51b5\u8ba8\u8bba\u5373\u53ef\u3002\n\n\u7532\u7c7b\uff1a\n```cpp\nfor(int j = m; j >= 0; j--)\n\tfor(int k = 1; k <= j; k++)\n\t\tdp[j] = max(dp[j], dp[j - k] + k * k * a - b * k);\n```\n\n\u4e59\u7c7b\uff1a\n```cpp\nfor(int j = m; j >= b; j--)\n\tfor(int k = 1; k <= min(c, j / b); k++)\n\t\tdp[j] = max(dp[j], dp[j - k * b] + k * a);\n```\n\n\u4e19\u7c7b\uff1a\n```cpp\nfor(int j = b; j <= m; j++)\n\tdp[j] = max(dp[j], dp[j - b] + a);\n```\n\n\n\n------------\n\n\u5b8c\u6574\u4ee3\u7801\n```cpp\n#include <stdio.h>\n#include <cstdio>\n#include <algorithm>\n#include <iostream>\nusing namespace std;\n\nint n, m, op;\nint dp[2010];\nint a, b, c;\n\nint main()\n{\n    cin >> n >> m;\n    if(m == 0)\n    {\n    \tcout << 0;\n    \treturn 0;\n\t}\n\tfor(int i = 1; i <= n; i++)\n\t{\n\t\tscanf(\"%d\", &op);\n\t\tif(op == 1)\n\t\t{\n\t\t\tscanf(\"%d %d\", &a, &b);\n\t\t\tfor(int j = m; j >= 0; j--)\n\t\t\t\tfor(int k = 1; k <= j; k++)\n\t\t\t\t\tdp[j] = max(dp[j], dp[j - k] + k * k * a - b * k);\n\t\t}\n\t\tif(op == 2)\n\t\t{\n\t\t\tscanf(\"%d %d %d\", &a, &b, &c);\n\t\t\tfor(int j = m; j >= b; j--)\n\t\t\t\tfor(int k = 1; k <= min(c, j / b); k++)\n\t\t\t\t\tdp[j] = max(dp[j], dp[j - k * b] + k * a);\n\t\t}\n\t\tif(op == 3)\n\t\t{\n\t\t\tscanf(\"%d %d\", &a, &b);\n\t\t\tfor(int j = b; j <= m; j++)\n\t\t\t\tdp[j] = max(dp[j], dp[j - b] + a);\n\t\t}\n\t}\n\t\n\tcout << dp[m];\n\t\n    return 0;\n}\n```\n",
        "postTime": 1527404649,
        "uid": 71084,
        "name": "\u5e05\u5230\u62a5\u8b66",
        "ccfLevel": 0,
        "title": "P2623  \u7269\u54c1\u9009\u53d6"
    },
    {
        "content": "### 01\u80cc\u5305\uff0c\u5b8c\u5168\u80cc\u5305\uff0c\u591a\u91cd\u80cc\u5305\u7684\u7efc\u5408\u3002\n\n###### \u9996\u5148\u4e59\u4e19\u7269\u54c1\u5f88\u663e\u7136\uff0c\u4e59\u5c31\u662f\u4e00\u4e2a\u591a\u91cd\u80cc\u5305\uff0c\u4e19\u662f\u5b8c\u5168\u80cc\u5305\u3002\u5177\u4f53\u4ee3\u7801\u5b9e\u73b0\uff1a\n\n# \u4e59\uff1a\n```cpp\nfor(int i=1;i<=n;i++)\nfor(int j=1;j<=t[i];j++)//t[i]\u4e3ai\u7684\u4e2a\u6570\u3002\nfor(int k=m;k>=v[i];k--)\nf[k]=max(f[k],f[k-v[i]]+w[i]);\n```\n# \u4e19\uff1a\n```\nfor(int i=1;i<=n;i++)\nfor(int j=v[i];j<=m;j++)\nf[j]=max(f[j],f[j-v[i]]+w[i]);\n```\n### \u6df7\u5408\u8fd9\u4e24\u4e2a\u5c31\u53ef\u4ee5\u83b7\u5f97~~60\u5206\u7684~~~~\u597d\u6210\u7ee9~~~~~~\n\n###  \u7532\u53ef\u4ee5\u8f6c\u5316\u4e3a01\u80cc\u5305\uff0c\u6211\u4eec\u53ea\u9700\u8981\u679a\u4e3e\n## \u6bcf\u4e2a\u4f53\u79ef\u7532\u7684\u4ef7\u503c\u3002\n\u4e0b\u9762\u662f\u4ee3\u7801\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint n,m,a[1010],b[1010],w[1010],v[1010],t[1010],x[1010],f[10010];\nint main()\n{\n\tfreopen(\"pack.in\",\"r\",stdin);\n\tfreopen(\"pack.out\",\"w\",stdout);\n\tscanf(\"%d%d\",&n,&m);\n\tif(m==0)\n\t{\n\t\tcout<<\"0\"<<endl;\n\t\treturn 0;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d\",&x[i]);\n\t\tif(x[i]==1) scanf(\"%d%d\",&a[i],&b[i]);\n\t\tif(x[i]==2) scanf(\"%d%d%d\",&w[i],&v[i],&t[i]);\n\t\tif(x[i]==3) scanf(\"%d%d\",&w[i],&v[i]);\n\t}\n\tf[0]=0;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tif(x[i]==1)\n\t\t{\n\t\t\tfor(int j=m;j>=1;j--)\n\t\t\t{\n\t\t\t\tfor(int k=1;k<=j;k++)\n\t\t\t\t{\n\t\t\t\t\tf[j]=max(f[j],f[j-k]+a[i]*k*k-b[i]*k);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\tif(x[i]==2)\n\t\t{\n\t\t\tfor(int j=1;j<=t[i];j++)\n\t\t\t{\n\t\t\t\tfor(int k=m;k>=v[i];k--)\n\t\t\t\t{\n\t\t\t\t\tf[k]=max(f[k],f[k-v[i]]+w[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(x[i]==3)\n\t\t{\n\t\t\tfor(int j=v[i];j<=m;j++)\n\t\t\t{\n\t\t\t\tf[j]=max(f[j],f[j-v[i]]+w[i]);\n\t\t\t}\n\t\t}\n\t}\n\tcout<<f[m]<<endl;\n\treturn 0;\n}\n          \n\n\n\n```\n\n\n\n",
        "postTime": 1609591042,
        "uid": 300372,
        "name": "_Aghost",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2623 \u3010\u7269\u54c1\u9009\u53d6\u3011"
    },
    {
        "content": "~~##~~\u5c45\u7136\u4e00\u53d1\u9898\u89e3\u90fd\u6ca1\u6709\uff1f\uff01\uff01\uff01\n\n\u90a3\u5c31\u9898\u89e30\u7a81\u7834\n\n\u4e59\u7c7b\u548c\u4e19\u7c7b\u5c31\u4e0d\u8bf4\u4e86\uff0c\u5206\u522b\u662f\u591a\u91cd\u80cc\u5305\u548c\u5b8c\u5168\u80cc\u5305\uff08\u51e1\u662f\u5b66\u8fc7\u80cc\u5305\u95ee\u9898\u7684\u5e94\u8be5\u90fd\u4f1a\uff09\n\n\\*  \u9012\u63a8\u516c\u5f0f\uff1a\n\n\\*  \u4e59\u7c7b\uff1a\uff08\u591a\u91cd\u80cc\u5305\uff09\n\n```cpp\n( for (i=1 to n) )\n    for (j=m;j>=B;j--)//\u9006\u5faa\u73af\n        for (k=1;k<=C;k++)\n            if (j-k*B<0)break;//\u65e0\u6cd5\u518d\u653e\n            else f[j]=maxx(f[j-k*B]+k*A,f[j]);//\u5982\u679c\u653e\u4e86\u4ef7\u503c\u5927\uff0c\u5c31\u653e\uff0c\u53cd\u4e4b\uff0c\u5c31\u4e0d\u653e\n```\n\\*  \u4e19\u7c7b\uff1a\uff08\u5b8c\u5168\u80cc\u5305\uff09\n\n```cpp\n( for (i=1 to n) )\n    for (j=B;j<=m;j++)//\u987a\u5faa\u73af\n        f[j]=maxx(f[j-B]+A,f[j]);//\u9009\u4e86\u4ef7\u503c\u5927\u5c31\u9009\n```\n\u7532\u7c7b\u4e5f\u4e0d\u96be\uff0c\u867d\u7136\u4ef7\u503c\u548c\u4f53\u79ef\u6709\u53d8\uff0c\u4f46\u4ecem\u52300\uff08\u53ea\u53d6\u4e00\u6b21\uff09\u5c06\u4f53\u79ef\u4f9d\u6b21\u4ece1\u5230j\u8bd5\u4e00\u6b21\u5373\u53ef\n\n\\*  \u9012\u63a8\u516c\u5f0f\uff1a\n\n```cpp\n( for (i=1 to n) )\nfor (j=m;j>0;j--)//\u4e0e01\u80cc\u5305\u4e00\u6837\uff0c\u53ea\u9009\u7528\u4e00\u6b21\n    for (k=1;k<=j;k++)//\u6b64\u65f6\u53ef\u9009\u91cd\u91cf\u679a\u4e3e\n        f[j]=maxx(f[j-k]+v(k),f[j]);//\u9009\u4e86\u4ef7\u503c\u5927\u5c31\u9009\n```\n\u6700\u540e\uff0c\u4e0a\u4ee3\u7801\uff1a\n\n\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\n\n```cpp\n#include <iostream>\nusing namespace std;\n#define v(xx) A*xx*xx-B*xx  //\u7532\u7c7b\u4f53\u79ef\u7b97\u6cd5\n#define maxx(a,b) a>b?a:b  //\u6c42\u6700\u5927\u503c\nint n,m,x,A,B,C,f[2020];\nint main()\n{\n    int i,j,k;\n    cin>>n>>m;\n    for (i=1;i<=n;i++)//\u5faa\u73af\u8f93\u5165\uff0c\u5904\u7406\n    {\n        cin>>x>>A>>B;//x\uff0cA\uff0cB\u662f\u6bcf\u6b21\u5fc5\u8f93\u7684\n        if (x==1)//\u7532\u7c7b\uff1a\n        for (j=m;j>0;j--)\n        for (k=1;k<=j;k++)\n        f[j]=maxx(f[j-k]+v(k),f[j]);\n        else if (x==2)//\u4e59\u7c7b\uff1a\n        {\n            cin>>C;//\u4e59\u7c7b\u9700\u8f93\u5165C\n            for (j=m;j>=B;j--)\n            for (k=1;k<=C;k++)\n            if (j-k*B<0)break;\n            else f[j]=maxx(f[j-k*B]+k*A,f[j]);\n        }\n        else//\u975e\u7532\u975e\u4e59\u81ea\u7136\u662f\u4e19\u7c7b\u4e86\n        for (j=B;j<=m;j++)\n        f[j]=maxx(f[j-B]+A,f[j]);\n    }\n    cout<<f[m]<<endl;//\u8f93\u51fa\n    return 0;\n}\n```",
        "postTime": 1496669691,
        "uid": 35137,
        "name": "a___",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2623 \u3010\u7269\u54c1\u9009\u53d6\u3011"
    },
    {
        "content": "## \u524d\u8a00\n\n\u524d\u7f6e\u7b97\u6cd5:01\u80cc\u5305\u3002\n\n\u5176\u4ed6\u9898\u89e3\u90fd\u662f$O(n\u00d7m\u00b2)$,\u5206\u4eab\u4e00\u4e2a$O(n\u00d7sum\\{log_2(c\u00f7b)\\})$(\u4e5f\u5c31\u662f$O(n\u00d7m\u00d7log_2(m\u00f7b))$)\u7684\u505a\u6cd5\u3002(\u7b97\u4e86\u4e00\u4e0b$nm\u00b2$,\u6709$4\u00d710^{8}$,\u4ee5\u4e3a\u8fc7\u4e0d\u4e86)\n\n\u8bf7\u770b50pts\u540e\u518d\u770b100pts,\u5426\u5219\u4f60\u4f1a\u770b\u4e0d\u61c2\u3002\n\n\u4e0d\u7406\u89e3\u7684\u53ef\u4ee5\u7ed3\u5408\u4ee3\u7801\u6765\u7406\u89e3\u3002\n\n## 50pts\n\n> \u5bf9\u4e8e50%\u7684\u6570\u636e\uff0c\u53ea\u6709\u4e59\u548c\u4e19\u4e24\u7c7b\u7269\u54c1\uff1b\n\n\u73b0\u5728\u53ea\u6709\u4e59\u548c\u4e19,\u90a3\u4e48\u5c31\u662f\u6df7\u5408\u5b8c\u5168\u80cc\u5305\u548c\u90e8\u5206\u80cc\u5305\u3002\u4f46\u662f\u6ca1\u5fc5\u8981\u7528\u6df7\u5408\u80cc\u5305\u3002\u76f4\u63a5\u628a\u5b8c\u5168\u80cc\u5305\u770b\u6210\u6709m\u00f7b\u4e2a\u7684\u90e8\u5206\u80cc\u5305\u3002\n\n[\u53ef\u80fd\u6709\u70b9\u4e0d\u597d\u7406\u89e3,\u53ef\u4ee5\u770b\u4e3e\u4f8b]\u7136\u540e\u90e8\u5206\u80cc\u5305\u53ef\u4ee5\u91c7\u7528\u4e8c\u8fdb\u5236\u62c6\u5206(\u6709\u70b9\u50cf\u500d\u589e\u601d\u60f3)\u3002\u5047\u8bbe\u91cd\u91cf\u4e3a$x$,\u628a\u5b83\u62c6\u6210$(log_2(x)+1)$\u4e2a\u80cc\u5305,\u5206\u522b\u4e3a$2^i(0<=i<log_2(x))$\u548c\u5269\u4f59\u91cd\u91cf\u3002\n\n\u6bd4\u5982\u6709$19$\u4e2a\u7269\u54c1\u3002\u5c31\u628a\u5b83\u62c6\u6210$6$\u4e2a\u7269\u54c1:$1+2+4+8+16+3$,\u8fd9\u6837\u5c31\u53ef\u4ee5\u8868\u793a19\u4e86\u3002(\u8bc1\u660e:$16$\u4ee5\u5185\u53ef\u4ee5\u7528\u4e8c\u8fdb\u5236\u8868\u793a,\u5269\u4f59\u7684$17~19$\u53ef\u4ee5\u7528$14~16$\u52a0\u4e0a$3$),\u7136\u540e\u5c31\u8f6c\u5316\u4e3a\u4e8601\u80cc\u5305\u3002\n\n\u7b80\u5355\u8bb2\u89e301\u80cc\u5305\u3002\n\n01\u80cc\u5305:\u8bbe$f[i][j]$\u4e3a\u5bb9\u91cf\u4e3a$j$\u65f6\u524d$i$\u4e2a\u7269\u54c1\u7684\u6700\u5927\u503c\u3002$a[i]$\u4e3a\u4f53\u79ef,$b[i]$\u4e3a\u4ef7\u503c\u3002\n\n$f[i][j]=max(f[i-1][j],f[i-1][j-a[i]]+b[i]);$\n\n## 100pts\n\n\u6b64\u65f6\u52a0\u5165\u4e86\u4e00\u4e2a\u7532,\u6211\u4eec\u53d1\u73b0\u53ea\u9700\u8981\u9009\u53d6$1$\u4e2a\u7532\u3002\u56e0\u4e3a$2$\u4e2a\u7532\u7269\u54c1\u4e00\u5b9a\u6bd4$1$\u4e2a\u66f4\u5dee\u3002\u56e0\u4e3a$x^{2}$\u4e00\u5b9a\u6bd4$a^{2}+(x-a)^2$\u8981\u66f4\u4f18\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u679a\u4e3e\u9009\u591a\u5c11\u7684\u7532\u5bb9\u91cf\u3002\n\n\u6839\u636e\u4e0a\u9762\u7684\u63a8\u8bba,\u7532\u7684\u4ef7\u503c\u4e3a\u6240\u6709\u4ef7\u503c\u4e2d\u7684\u6700\u5927\u503c\u3002\n\n\u7531\u4e8e\u4e59\u4e19\u5bb9\u91cf$f$\u5df2\u6c42\u51fa,\u6240\u4ee5\u603b\u5bb9\u91cf\u5c31\u662f$O(n\u00b2)$\u5faa\u73af\u679a\u4e3e\u4e86\u3002\u5177\u4f53\u89c1\u4ee3\u7801\u2193\u3002\n## AC\u4ee3\u7801\u3002\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint a[1000005],b[1000005],c[1000005],d[1000005],tot0=0,tot1=0; //a,b\u8868\u793a01\u80cc\u5305\u4f53\u79ef\u4ef7\u503c\u3002c,d\u8868\u793a\u7532\u7269\u54c1\u3002\nint f[5005][2005]; \nint main(){\n\tint tot=0,n,m,i,j,opt,A,B,C,Max=0,ans=0,t=0;\n\tcin>>n>>m;\n\tfor(i=0;i<n;i++){\n\t\tscanf(\"%d\",&opt);\n\t\tif(opt==1){\n\t\t\ttot1++;\n\t\t\tscanf(\"%d %d\",c+tot1,d+tot1);\n\t\t\tcontinue;\n\t\t}\n\t\tscanf(\"%d %d\",&A,&B);\n\t\tif(opt==3){\n\t\t\tC=m/B; //\u5b8c\u5168\u80cc\u5305->\u90e8\u5206\u80cc\u5305\u3002\n\t\t}else{\n\t\t\tscanf(\"%d\",&C);\n\t\t\tC=min(m/B,C); //\u4f18\u5316\u3002\n\t\t}\n\t\tfor(j=1;(j<<1)<=C;j<<=1){ //\u90e8\u5206\u80cc\u5305->01\u80cc\u5305(\u62c6\u5206)\u3002\n\t\t\ta[tot0]=B*j;\n\t\t\tb[tot0]=A*j;\n\t\t\ttot0++;\n\t\t}\n\t\ta[tot0]=B*(C-j+1);\n\t\tb[tot0]=A*(C-j+1);\n\t\ttot0++;\n\t}\n\tfor(i=0;i<=m;i++){ //01\u80cc\u5305\u521d\u59cb\u5316\u3002\n\t\tif(a[0]<=i){\n\t\t\tf[0][i]=b[0];\n\t\t}else{\n\t\t\tf[0][i]=0;\n\t\t}\n\t}\n\tfor(i=1;i<tot0;i++){ //01\u80cc\u5305\u3002\n\t\tfor(j=0;j<=m;j++){\n\t\t\tif(j<a[i]){\n\t\t\t\tf[i][j]=f[i-1][j];\n\t\t\t}else{\n\t\t\t\tf[i][j]=max(f[i-1][j],f[i-1][j-a[i]]+b[i]);\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=0;i<=m;i++){\n\t\tMax=0;\n\t\tt=m-i; //t\u8868\u793a\u5269\u4e0b\u591a\u5c11\u7ed9\u7532\u7684\u5bb9\u91cf\u3002\n\t\tfor(j=1;j<=tot1;j++){\n\t\t\tMax=max(Max,c[j]*t*t-d[j]*t); //\u8ba1\u7b97\u8be5\u5bb9\u91cf\u4e0b\u7532\u7269\u54c1\u7684\u6700\u5927\u503c\u3002\n\t\t}\n\t\tans=max(ans,f[tot0-1][i]+max(0,Max)); //\u4e0e0\u53d6max\u662f\u56e0\u4e3a\u5982\u679c\u4ef7\u503c\u5c0f\u4e8e0\u90a3\u4e48\u4e0d\u5982\u4e0d\u9009\u53d6\u7532\u3002\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n//39ms 7.62MB  _**~~\u662f\u4e0d\u662f\u5f88\u795e\u5947?~~**_",
        "postTime": 1601634492,
        "uid": 87799,
        "name": "xh39",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2623 \u3010\u7269\u54c1\u9009\u53d6\u3011"
    },
    {
        "content": "\u5c31\u50cf\u6211\u4e00\u6837\uff0c\u6211\u6ca1\u6709\u6ce8\u610f\u5230\u6570\u636e\u8303\u56f4\u5c0f\uff0c\u4ee5\u4e3a\u66b4\u529b\u4e0d\u53ef\u8fc7\u3002\r\n\r\n\u4e8e\u662f\u5c31\u63a8\u51fa\u4e86\u7b2c\u4e00\u79cd\u7269\u54c1\u7684\u659c\u7387\u5f0f\r\n\r\n$2Aj<\\frac{(ans_i+Ai^2+B_i)-(ans_k+Ak^2+B_k)}{i-k}$\r\n\r\n\u4f7f\u7528\u5355\u8c03\u6808\u7ef4\u62a4\u4e0a\u51f8\u5305\u5c31\u53ef\u4ee5\u4e86\u3002\r\n\r\n\u5177\u4f53\u8bf4\u6765\uff0c\u6bcf\u6b21\u5148\u627e\u5230\u6700\u4f18\u89e3\u518d\u6808\u4e2d\u7684\u4f4d\u7f6e\uff0c\u901a\u8fc7\u89c2\u5bdf\u51f8\u5305\u53ef\u5f97\u4ece\u6808\u9876\u53d6\u51fa\u659c\u7387\u5927\u4e8e$2Aj$\u7684\uff0c\u56e0\u4e3a\u6808\u4e0b\u9762\u7684\u7b54\u6848\u4e00\u5b9a\u66f4\u4f18\uff0c\u7edf\u8ba1\u7b54\u6848\u4e4b\u540e\u9000\u6808\u6765\u7ef4\u62a4\u51f8\u5305\u7684\u6027\u8d28\uff0c\u5c31\u53ef\u4ee5\u4e86\u3002\r\n\r\n```cpp\r\n#include <bits/stdc++.h>\r\n#define ll long long\r\n#define xx first\r\n#define yy second\r\nusing namespace std;\r\nconst int N = 10000 + 5, M = 20000 + 5;\r\nint n, m;\r\npair<pair<int, int>, int> info[N]; int cnt_i;\r\npair<int, int> tmp_info[N << 2]; int cnt_t;\r\npair<int, int> info_x[N]; int cnt_x;\r\nint ans[M], ans_2[M], ans_3[M];\r\ndouble A, B;\r\nint q[M], tail;\r\ninline double slope (int x, int y) {\r\n    return ((double)ans_2[y] + (double)A * y * y + (double)B * y - (double)ans_2[x] - (double)A * x * x - (double)B * x) / ((double)y - (double)x);\r\n}\r\ninline void solve2 () {\r\n    for (int i = 1; i <= cnt_x; ++i) {\r\n        A = (double)info_x[i].xx, B = (double)info_x[i].yy;\r\n        tail = 1, q[1] = 0, ans_2[0] = 0;\r\n        for (int j = 1; j <= m; ++j) {\r\n            while (tail > 1 && slope (q[tail - 1], q[tail]) <= 2.0 * A * j) tail--;\r\n            ans_3[j] = max ((double)ans_2[j], ans_2[q[tail]] + A * (j - q[tail]) * (j - q[tail]) - B * (j - q[tail]));\r\n            while (tail > 1 && slope (q[tail], j) >= slope (q[tail - 1], j)) tail--;//\r\n            q[++tail] = j;\r\n        }\r\n        for (int j = 1; j <= m; ++j) ans_2[j] = ans_3[j];\r\n    }\r\n}\r\ninline void solve1 () {\r\n    for (int i = 1; i <= cnt_i; ++i) {\r\n        for (int k = 1; k <= info[i].yy; k <<= 1) {\r\n            tmp_info[++cnt_t] = make_pair (k * info[i].xx.xx, k * info[i].xx.yy);\r\n            info[i].yy -= k;\r\n        }\r\n        if (info[i].yy) {\r\n            tmp_info[++cnt_t] = make_pair (info[i].yy * info[i].xx.xx, info[i].yy * info[i].xx.yy);\r\n        }\r\n    }\r\n    for (int i = 1; i <= cnt_t; ++i) {\r\n        for (int j = m; j >= 0; --j) {\r\n            if (j < tmp_info[i].yy) break;\r\n            ans[j] = max (ans[j], ans[j - tmp_info[i].yy] + tmp_info[i].xx);\r\n        }\r\n    }\r\n}\r\nint main () {\r\n    scanf (\"%d%d\", &n, &m);\r\n    for (int i = 1; i <= n; ++i) {\r\n        int opt, a, b, c;\r\n        scanf (\"%d\", &opt);\r\n        if (opt == 1) {\r\n            scanf (\"%d%d\", &a, &b);\r\n            info_x[++cnt_x] = make_pair (a, b);\r\n        }\r\n        else {\r\n            scanf (\"%d%d\", &a, &b);\r\n            if (opt == 3) {\r\n                for (int i = 0; i <= m - b; ++i) {\r\n                    ans[i + b] = max (ans[i + b], ans[i] + a);\r\n                }\r\n                continue;\r\n            }\r\n            else scanf (\"%d\", &c), c = min (c, m / b);\r\n            info[++cnt_i] = make_pair (make_pair (a, b), c);\r\n        }\r\n    }\r\n    solve1 ();\r\n    solve2 ();\r\n    int Ans = 0;\r\n    for (int i = 1; i <= m; ++i) {\r\n        ans[i] = max (ans[i], ans[i - 1]);\r\n        ans_2[i] = max (ans_2[i], ans_2[i - 1]);\r\n    }\r\n    for (int i = 0; i <= m; ++i) {\r\n        Ans = max (Ans, ans[i] + ans_2[m - i]);\r\n    }\r\n    printf (\"%d\\n\", Ans);\r\n    return 0;\r\n}\r\n```\r\n\u6ce8\u610f\u8981\u65b0\u5f00\u6570\u7ec4\uff0c\u56e0\u4e3a\u7532\u7c7b\u53ea\u80fd\u7528\u4e00\u4e2a\u3002\r\n\r\n\u6211\u7528\u4e86\u4e8c\u8fdb\u5236\u4f18\u5316\u80cc\u5305\uff08\u4e59\u7c7b\u548c\u4e19\u7c7b\uff09\u3002",
        "postTime": 1564706885,
        "uid": 122451,
        "name": "Sasiyar",
        "ccfLevel": 0,
        "title": "P2623"
    },
    {
        "content": "\u8fd9\u9898\u5f88\u7b80\u5355\n\u7532\u662f\u7ed9\u7684\u4f53\u79ef\u591a\u5c11\uff0c\u6765\u5b9a\u4ef7\u503c\u7684\n\u4e59\u662f\u591a\u91cd\u80cc\u5305\u53ef\u4ee5\u7528\u4e8c\u8fdb\u5236\u4f18\u5316\uff08~~\u6570\u636e\u5c0f\u4e3a\u4ec0\u4e48\u8981\u5199~~\uff09\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5199\n\u4e19\u662f\u5b8c\u5168\u80cc\u5305\n\u4e0b\u9762\uff0c\u4e0a\u4ee3\u7801\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint dp[2005],n,t,s,a,b,c;\nint main()\n{\n\tcin>>n>>t;\n\twhile(n--)\n\t{\n\tcin>>s;\n\tif(s==1)\n\t{cin>>a>>b;\n\tfor(int i=t;i>=1;i--)\n\tdp[i]=max(dp[i],dp[i-i]+a*i*i-b*i);\n\t}\n\tif(s==2)//\u591a\u91cd\u80cc\u5305\n\t{cin>>a>>b>>c;\n\tfor(int i=t;i>=0;i--)\n\tfor(int j=1;j<=c&&j*b<=i;j++)\n    dp[i]=max(dp[i],dp[i-j*b]+j*a);\n    }\n\tif(s==3)//\u5b8c\u5168\u80cc\u5305\n\t{cin>>a>>b;\n\tfor(int i=b;i<=t;i++)\n\tdp[i]=max(dp[i],dp[i-b]+a);\n   }\n\t}\n\tcout<<dp[t]<<endl;\n\treturn 0;\n}\n```\n\u4e8c\u8fdb\u5236\u4f18\u5316\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint dp[2005],n,t,s,a,b,c,v[10],w[10];\nint main()\n{\n\tcin>>n>>t;\n\twhile(n--)\n\t{\n\tcin>>s;\n\tif(s==1)\n\t{cin>>a>>b;\n\tfor(int i=t;i>=1;i--)\n\tdp[i]=max(dp[i],dp[i-i]+a*i*i-b*i);\n\t}\n\tif(s==2)\n\t{cin>>a>>b>>c;\n\tint d=0;\n    memset(v,0,sizeof(v));\n    memset(w,0,sizeof(w));\n\tfor(int j=1;c-j>=0;c-=j,j<<=1)\n\t{v[++d]=j*a;w[d]=j*b;}\n\tif(c>0)\n\t{v[++d]=c*a;w[d]=c*b;}\n\tfor(int i=1;i<=d;i++)\n\tfor(int j=t;j>=w[i];j--)\n    dp[j]=max(dp[j],dp[j-w[i]]+v[i]);}\n\tif(s==3)\n\t{cin>>a>>b;\n\tfor(int i=b;i<=t;i++)\n\tdp[i]=max(dp[i],dp[i-b]+a);}\n\t}\n\tcout<<dp[t]<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1599388396,
        "uid": 230243,
        "name": "syf2008",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2623 \u3010\u7269\u54c1\u9009\u53d6\u3011"
    },
    {
        "content": "\u672c\u9898\u4e3a\u80cc\u5305\uff0c\u8bbef[i]\u8868\u793a\u88c5i\u4f53\u79ef\u7269\u54c1\u7684\u6700\u5927\u4ef7\u503c\n\n\u5219\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a\uff1a\n\n\u7532\u7c7b(\u51fd\u6570\u80cc\u5305)\n```\nfor(int i=m;i>=1;i--)\n\tfor(int j=1;j<=i;j++)\n    \tf[i]=max(f[i],f[i-j]+A*j*j-B*j);\n```\n\u4e59\u7c7b(\u591a\u91cd\u80cc\u5305)\n```\nint k=1;\n\t\t\twhile(k<=C)\n\t\t\t{\n\t\t\t\tfor(int i=m;i>=k*B;i--) f[i]=max(f[i],f[i-k*B]+k*A);\n\t\t\t\tC-=k;\n\t\t\t\tk*=2;\n\t\t\t}\n\t\t\tif(C!=0) for(int i=m;i>=C*B;i--) f[i]=max(f[i],f[i-C*B]+C*A);\n```\n\u4e19\u7c7b(\u5b8c\u5168\u80cc\u5305)\n```\nfor(int i=B;i<=m;i++) f[i]=max(f[i],f[i-B]+A);\n```\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```\n# include <cstdio>\nint n,m;\nint x,a,b,c;\nint s[2010];\nint f[2010];\nint v(int a,int b,int v)\n{\n\treturn a*v*v-b*v;\n}\nint max(int a,int b)\n{\n\tif(a>b) return a;\n\treturn b;\n}\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d\",&x);\n\t\tif(x==1)//\u7532\u7c7b;\n\t\t{\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tfor(int j=1;j<=m;j++) s[j]=v(a,b,j);//\u63d0\u524d\u5c06\u5404\u4f53\u79ef\u7684\u4ef7\u503c\u7b97\u51fa\u6765;\n\t\t\tfor(int j=m;j>=1;j--)\n\t\t\t\tfor(int k=1;k<=j;k++)\n\t\t\t\t\tf[j]=max(f[j],f[j-k]+s[k]);\n\t\t}\n\t\telse if(x==2)//\u4e59\u7c7b;\n\t\t{\n\t\t\tscanf(\"%d%d%d\",&a,&b,&c);\n\t\t\tint k=1;\n\t\t\twhile(k<=c)//\u5c06\u591a\u91cd\u80cc\u5305\u5206\u4e3a01\u80cc\u5305,\u53ef\u4ee5\u52a0\u5feb\u591a\u91cd\u80cc\u5305\u7684\u8ba1\u7b97\u901f\u5ea6;\n\t\t\t{\n\t\t\t\tfor(int j=m;j>=k*b;j--) f[j]=max(f[j],f[j-k*b]+k*a);\n\t\t\t\tc-=k;\n\t\t\t\tk*=2;\n\t\t\t}\n\t\t\tif(c!=0) for(int j=m;j>=c*b;j--) f[j]=max(f[j],f[j-c*b]+c*a);\n\t\t}\n\t\telse//\u4e19\u7c7b;\n\t\t{\n\t\t\tscanf(\"%d%d\",&a,&b);\n\t\t\tfor(int j=b;j<=m;j++) f[j]=max(f[j],f[j-b]+a);\n\t\t}\n\t}\n\tprintf(\"%d\",f[m]);\n\treturn 0;\n}\n```",
        "postTime": 1568709724,
        "uid": 132199,
        "name": "\u795e\u9608\u5c0f\u6770",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2623 \u3010\u7269\u54c1\u9009\u53d6\u3011"
    },
    {
        "content": "\u9996\u5148\u6309\u7167\u9898\u76ee\u8981\u6c42\u53ef\u4ee5\u5c06\u7269\u54c1\u5206\u4e3a\u4e09\u7c7b\n\n1)\u5b8c\u5168\u80cc\u5305\n\n2)\u591a\u91cd\u80cc\u5305\n\n3)\u51fd\u6570\u80cc\u5305\n\n\u4ee4f[i]\u8868\u793a\u4f53\u79ef\u4e3ai\u7684\u80cc\u5305\u7684\u6700\u5927\u4ef7\u503c\n\n\u5148\u8fdb\u884c1),2)\u5f97\u5230\u76ee\u524d\u6700\u4f18\u7684f[i]\n\n\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a3)\u7c7b\u7269\u54c1,\u679a\u4e3e\u5206\u7ed9\u4ed6\u4eec\u7684\u4f53\u79efj\n\nf[m]=max(f[m],f[m-j]+Val(j,i));\n\n\u66f4\u65b0\u7b54\u6848\n\n[\u4f60\u4eec\u60f3\u8981\u7684](http://www.cnblogs.com/adelalove/p/9014273.html)",
        "postTime": 1525849382,
        "uid": 83546,
        "name": "\u4f9d\u4f9d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2623 \u3010\u7269\u54c1\u9009\u53d6\u3011"
    },
    {
        "content": "\u6df7\u5408\u80cc\u5305+\u5206\u7ec4\u80cc\u5305\uff0cA\u7c7b\u4e3a\u5206\u7ec4\u80cc\u5305\uff08\u5c06\u4e00\u4e2a\u7269\u54c1\u89c6\u4e3a\u4e00\u7ec4\uff0c\u6bcf\u7ec4\u6709\u4ece\u4e00\u5230\u6700\u5927\u7684\u4ef7\u503c\uff08\u7531\u516c\u5f0f\u53ef\u4ee5\u7b97\u51fa\u6765\uff09B\u7c7b\u4e3a\u591a\u91cd\u80cc\u5305\uff0cc\u7c7b\u4e3a\u5b8c\u5168\u80cc\u5305\uff0c\u4e4b\u540e\u6309\u6df7\u5408\u80cc\u5305\u5199\u5c31\u53ef\u4ee5\u4e86\uff1b\nA\u7c7b\uff1a\n```cpp\n\tfor(int x=1;x<=a;x++)//\u5206\u7ec4\u80cc\u5305\n\t{\t\n\tfor(int z=n;z>=1;z--)\n\t\t{\n\t\tfor(int y=z;y>=1;y--)//\u5faa\u73af\u5957\u91cc\u9762\uff0c\u8fd9\u6837\u7269\u54c1\u4e0d\u4f1a\u91cd\u590d\u4f7f\u7528\n\t\t{\n\t\tint l=y*y*aaa[x].a-aaa[x].b*y;//\u7269\u54c1\u4ef7\u503c\u3002\u3002\u3002\u539f\u8c05\u6211\u73b0\u7b97\u4e86\u3002\u3002\n\t\tdp[z]=max(dp[z],dp[z-y]+l);\n\t\t}\n\t\t}\n\t}\n```\nB\u7c7b\uff1a\n```cpp\nfor(int x=1;x<=b;x++)//\u591a\u91cd\u80cc\u5305\n\t{\n\t\tfor(int y=0;y<bbb[x].s;y++)//\u5c31\u6bd4\u96f6\u4e00\u80cc\u5305\u591a\u4e2a\u5728\u5916\u9762\u7684\u5faa\u73af\uff0c\u5c31\u662f\u8fd9\u4e2a\u7269\u54c1\u8fd8\u6709\u51e0\u4e2a\uff0c\u90fd\u653e\u4e00\u4e0b\u7684\u610f\u601d\u3002\n\t\tfor(int z=n;z>=bbb[x].n;z--)\n\t\t{\n\t\t\tdp[z]=max(dp[z],dp[z-bbb[x].n]+bbb[x].v);\n\t\t}\n\t}\n```\nC\u7c7b\uff1a\n```cpp\n\tfor(int x=1;x<=c;x++)//\u5b8c\u5168\u80cc\u5305\u3002\u3002\u3002\u5c31\u4e0d\u8bf4\u4ec0\u4e48\u4e86\n\t{\n\t\tfor(int y=ccc[x].n;y<=n;y++)\n\t\t{\n\t\t\tdp[y]=max(dp[y],dp[y-ccc[x].n]+ccc[x].v);\t\n\t\t}\n\t}\n```\n\u5168\u90e8\u4ee3\u7801\uff1a\n```cpp\n#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#define ll long long\nusing namespace std;\ntypedef struct{\n\tll int v,n,s;\n}bb;\ntypedef struct{\n\tll int a,b;\n}aa;\ntypedef struct{\n\tll int v,n;\n}cc;\naa aaa[210];\nbb bbb[210];\ncc ccc[210];\nll int dp[3000],e,d,f,s,z,q,l,m,n,a,b,c;\nint main()\n{\n\tscanf(\"%lld%lld\",&m,&n);\n\tfor(int x=0;x<m;x++)\n\t{\n\t\tscanf(\"%lld\",&e);\n\t\tif(e==1)\n\t\t{\n\t\t\ta++;\n\t\t\tscanf(\"%lld%lld\",&aaa[a].a,&aaa[a].b);\n\t\t}\n\t\telse if(e==2)\n\t\t{\n\t\t\tb++;\n\t\t\tscanf(\"%lld%lld%lld\",&bbb[b].v,&bbb[b].n,&bbb[b].s);\n\t\t}\n\t\telse if(e==3)\n\t\t{\n\t\t\tc++;\n\t\t\tscanf(\"%lld%lld\",&ccc[c].v,&ccc[c].n);\n\t\t}\n\t}\n\tfor(int x=1;x<=a;x++)\n\t{\t\n\tfor(int z=n;z>=1;z--)\n\t\t{\n\t\tfor(int y=z;y>=1;y--)\n\t\t{\n\t\tint l=y*y*aaa[x].a-aaa[x].b*y;\n\t\tdp[z]=max(dp[z],dp[z-y]+l);\n\t\t}\n\t\t}\n\t}\n\tfor(int x=1;x<=b;x++)\n\t{\n\t\tfor(int y=0;y<bbb[x].s;y++)\n\t\tfor(int z=n;z>=bbb[x].n;z--)\n\t\t{\n\t\t\tdp[z]=max(dp[z],dp[z-bbb[x].n]+bbb[x].v);\n\t\t}\n\t}\n\tfor(int x=1;x<=c;x++)\n\t{\n\t\tfor(int y=ccc[x].n;y<=n;y++)\n\t\t{\n\t\t\tdp[y]=max(dp[y],dp[y-ccc[x].n]+ccc[x].v);\t\n\t\t}\n\t}\n\tprintf(\"%lld\",dp[n]);\n}\n```\n\u521a\u5f00\u59cb\u5c45\u7136\u6ca1\u770b\u51faa\u7c7b\u662f\u4e2a\u5206\u7ec4\u80cc\u5305\u7684\u6211\u3002\u3002\u3002\u3002\u3002\u3002\u3002\u3002",
        "postTime": 1525416563,
        "uid": 73320,
        "name": "lenaalyth",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2623 \u3010\u7269\u54c1\u9009\u53d6\u3011"
    }
]