[
    {
        "content": "[\u9898\u9762](https://www.luogu.com.cn/problem/P9209)\n\n\u9996\u5148\u6211\u4eec\u601d\u8003\u4e00\u6bb5\u957f\u4e3a $len$ \u7684**\u8fde\u7eed\u7a7a\u4f4d**\u505c**\u4e00\u8f86\u8f66**\u7684\u6700\u5c0f\u65f6\u95f4\u3002\n\n\u5982\u679c\u8fd9\u8f86\u8f66**\u505c\u5728\u4e24\u4fa7**\uff0c\u90a3\u6700\u5c0f\u65f6\u95f4\u663e\u7136\u662f $w_i-(len-1)\\max(l_i,r_i)$\u3002\n\n\u4e0d\u59a8\u8bbe $l_i\\leq r_i$\uff0c\u90a3**\u505c\u5728\u4e24\u4fa7\u7684\u6700\u4f18\u89e3**\u662f\u505c\u5728\u6700\u5de6\u8fb9\uff0c\u65f6\u95f4\u4e3a $w_i-(len-1)r_i$\u3002\n\n\u5982\u679c\u8fd9\u8f86\u8f66\u53f3\u79fb $x$ \u4e2a\u8f66\u4f4d\uff0c\u90a3\u65f6\u95f4\u5c06\u4f1a\u53d8\u6210 $w_i-x\\cdot l_i-(len-1-x)r_i=w_i-(len-1)r_i+x(r_i-l_i)$\u3002\n\n\u56e0\u4e3a $l_i\\leq r_i,x>0$\uff0c\u6240\u4ee5 $x(r_i-l_i)\\geq 0$\uff0c\u90a3\u8fd9\u6837\u65f6\u95f4\u80af\u5b9a**\u4e0d\u4f1a\u51cf\u5c11**\uff0c\u770b\u5f97\u51fa\u6765\u4e00\u6bb5\u957f\u5ea6\u4e3a $len$ \u7684**\u8fde\u7eed\u7a7a\u4f4d**\u505c**\u4e00\u8f86\u8f66**\u7684\u6700\u5c0f\u65f6\u95f4\u4e3a $w_i-(len-1)\\max(l_i,r_i)$\u3002\n\n\u90a3\u662f\u5426\u6709\u53ef\u80fd\u8fd9\u6837\u5b50\u8d2a\u5fc3\u7684\u505c\u5728\u4e24\u4fa7\u4f1a\u5f71\u54cd\u5230\u540e\u9762\uff0c\u6216\u8005\u8bf4\u6709\u6ca1\u6709\u60c5\u51b5\u4f7f\u5f97\u67d0\u4e00\u8f86\u8f66\u4e0d\u505c\u5728\u4e24\u4fa7\u80fd\u8ba9\u65f6\u95f4\u51cf\u5c11\u3002\n\n\u6211\u4eec\u53d1\u73b0\u5f53 $w,l,r$ \u4e0d\u53d8\u65f6\uff0c$len$ \u8d8a\u5927\uff0c\u65f6\u95f4\u8d8a\u5c0f\u3002\n\n\u800c\u521a\u597d\uff0c\u505c\u5728\u4e24\u4fa7\u7684\u60c5\u51b5\u80fd\u4fdd\u8bc1\u4e00\u76f4\u90fd\u53ea\u6709\u4e00\u6bb5\u8fde\u7eed\u8f66\u4f4d\uff0c\u957f\u5ea6 $len$ \u4ece $n$ \u5f00\u59cb\u4e0d\u65ad\u51cf\u4e00\uff0c\u4f7f\u5f97 $len$ \u4e00\u76f4\u662f\u6700\u5927\u7684\u3002\n\n\u90a3\u5c31\u597d\u529e\u4e86\uff0c\u4e00\u76f4\u8d2a\u5fc3\u53d6\u4e0b\u53bb\u5c31\u884c\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define LL long long\n#define N 100005\nusing namespace std;\nint n;LL W[N],L[N],R[N],ans;\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i(1);i<=n;++i) scanf(\"%lld\",&W[i]);\n\tfor(int i(1);i<=n;++i) scanf(\"%lld\",&L[i]);\n\tfor(int i(1);i<=n;++i) scanf(\"%lld\",&R[i]);\n\tfor(int i(1);i<=n;++i) ans+=W[i]-(n-i)*max(L[i],R[i]);\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1681125243,
        "uid": 554574,
        "name": "gyyyyx",
        "ccfLevel": 0,
        "title": "\u4e0d\u706d\u300c\u4e0d\u6b7b\u9e1f\u4e4b\u5c3e\u300d"
    },
    {
        "content": "\uff1f\n\n\u8003\u8651\u8fd9\u6837\u4e00\u4e2a\u60c5\u51b5\uff1a\u5c06\u67d0\u4e00\u8f86\u8f66\u8f86\u8f66\u505c\u5728 $[l,r]$ \u533a\u95f4\u5185\u7684\u6700\u5c0f\u82b1\u8d39\uff0c\u533a\u95f4\u5185\u4fdd\u8bc1\u6ca1\u6709\u5176\u4ed6\u8f66\u3002\n\n\u8fd9\u6837\u4e00\u5b9a\u5c31\u662f\u505c\u5728\u5de6\u7aef\u70b9\u6216\u8005\u662f\u53f3\u7aef\u70b9\u4e2d\u7cfb\u6570\u66f4\u5927\u7684\u90a3\u8fb9\u3002\n\n\u90a3\u653e\u5230\u539f\u95ee\u9898\u4e2d\u4e5f\u53ef\u4ee5\u8fd9\u6837\u505a\uff0c\u56e0\u4e3a\u6bcf\u4e00\u6b21\u505c\u8f66\u7684\u65f6\u5019\u90fd\u662f\u4e00\u6574\u6bb5\u7a7a\u533a\u95f4\u3002\n\n```cpp\nconst int N=1e5+3;\nint n,ans,a[N],b[N],c[N];\nvoid Solve()\n{\n\trd(n);\n\tfor(re int i=1;i<=n;++i) rd(a[i]);\n\tfor(re int i=1;i<=n;++i) rd(b[i]);\n\tfor(re int i=1;i<=n;++i) rd(c[i]);\n\tfor(re int i=1;i<=n;++i) ans+=a[i]-std::max(b[i],c[i])*(n-i);\n\tprt(ans,'\\n');\n\treturn;\n}\n```",
        "postTime": 1681130726,
        "uid": 359113,
        "name": "elbissoPtImaerD",
        "ccfLevel": 0,
        "title": "P9209 \u89e3\u9898\u62a5\u544a"
    },
    {
        "content": "## [P9209 \u4e0d\u706d\u300c\u4e0d\u6b7b\u9e1f\u4e4b\u5c3e\u300d](https://www.luogu.com.cn/problem/P9209)\n\n\u8d2a\u5fc3\u677f\u5b50\u9898\u3002\n\n~~\u63d0\u4ea4\u4e86\u516b\u6b21\u7684\u539f\u56e0\u662f~~\u5feb\u8bfb\u6ca1\u5f00 `long long`\u2026\u2026\n\n## \u9898\u76ee\u5927\u610f\n\n\u8bbe\u60f3\u4e00\u4e2a 01 \u5e8f\u5217 \n\n$$ S = \\underbrace{\\{0, 0, \\cdots, 0\\}}_n $$\n\n\u73b0\u5728\u8981\u5bf9**\u6ca1\u64cd\u4f5c\u8fc7\u7684\u5143\u7d20**\u8fdb\u884c $n$ \u6b21\u64cd\u4f5c $S_x \\gets 1$\u3002\n\n\u6bcf\u8fdb\u884c\u4e00\u6b21\u64cd\u4f5c\u7684\u4ee3\u4ef7\u4e3a\n\n$$ W_i - (L_i \\times l + R_i \\times r) $$\n\n\u5176\u4e2d $l, r$ \u5206\u522b\u662f $S_x$ **\u5de6\u3001\u53f3**\u7684**\u8fde\u7eed** $0$ \u4e2a\u6570\u3002\n\n\u4f8b\u5982\uff0c\u5f53 \n\n$$ S = \\{0, 1, 0, 0, 0, 0\\} $$\n\n\u5047\u8bbe\u8981\u5bf9 $S_4$ \u8fdb\u884c\u64cd\u4f5c\uff0c\u90a3\u4e48\u5c31\u6709\n\n$$ S = \\{0, 1, {\\color{Red}0}, {\\color{Blue}1}, {\\color{Green}0}, {\\color{Green}0}\\} $$\n\n\u53ef\u4ee5\u77e5\u9053\uff0c$S_4$\uff08\u84dd\u8272\uff09\u5de6\u8fb9\u6709 $1$ \u4e2a**\u8fde\u7eed**\u7684 $0$\uff08\u7ea2\u8272\uff09\uff0c\u53f3\u8fb9\u6709 $2$ \u548c**\u8fde\u7eed**\u7684 $0$\uff08\u7eff\u8272\uff09\uff0c\u6240\u4ee5\n\n$$ l = 1, r = 2. $$\n\n\u73b0\u5728\uff0c\u6c42\u8fdb\u884c\u5b8c $n$ \u6b21\u64cd\u4f5c\u540e\uff0c**\u6700\u5c0f**\u4ee3\u4ef7\u603b\u548c\u3002\n\n## \u601d\u8def\u5206\u6790\n\n\u4f9d\u9898\u610f\uff0c\n\n$$ L_i \\times l + R_i \\times r $$\n\n\u8fd9\u4e2a\u90e8\u5206\u5e94\u5f53**\u8d8a\u5927**\u8d8a\u597d\u3002\n\n\u5bf9\u4e8e $S_x$ \u5728\u4e00\u4e2a\u533a\u95f4\u7684\u64cd\u4f5c\uff0c$l + r$ \u56fa\u7136\u4e0d\u53d8\u3002\n\n\u5047\u8bbe $L_i = R_i$\uff0c\u90a3\u4e48\u4e0a\u5f0f $\\iff L_i (l + r)$\u3002\n\n\u4f46\u5982\u679c $L_i \\ne R_i$\uff0c\u90a3\u4e48\u53ef\u4ee5\u5bf9\u8fd9\u4e2a\u533a\u95f4\u7684**\u6700\u5de6** / **\u6700\u53f3**\u7aef\u8fdb\u884c\u64cd\u4f5c\u3002\u8fd9\u6837\uff0c$l, r$ \u4e2d\u5c31\u6709\u4e00\u4e2a $= 0$\uff0c\u800c\u53e6\u4e00\u7aef\u5c31\u662f $\\max(L_i, R_i)$ \u6240\u5bf9\u5e94\u7684**\u53cd\u65b9\u5411**\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c $L_i > R_i$\uff0c\u90a3\u4e48\u5bf9\u533a\u95f4\u7684**\u6700\u53f3**\u7aef\u64cd\u4f5c\uff1b\u53cd\u4e4b\uff0c\u5bf9\u533a\u95f4**\u6700\u5de6**\u7aef\u64cd\u4f5c\uff0c\u53ef\u4ee5\u4f7f\u5f97\u4e0a\u5f0f**\u6700\u5927**\u3002\n\n\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4fdd\u8bc1**\u6bcf\u4e00\u6b21**\u64cd\u4f5c\u90fd**\u5c3d\u91cf**\u9760\u8fd1 $S_1, S_n$\uff0c\u6240\u4ee5\u4e2d\u95f4 $l + r = n - i$\uff08$i$ \u4ee3\u8868\u7b2c $i$ \u6b21\u64cd\u4f5c\uff09\u3002\n\n## \u5b8c\u6574\u4ee3\u7801\n\n\u622a\u6b62 2023-5-12 \u662f[\u6700\u4f18\u89e3](https://www.luogu.com.cn/record/list?pid=P9209&user=&orderBy=1&status=&page=1)\uff08`fread` \u5feb\u8bfb + O2\uff09\uff0c\u4f46\u60a8\u770b\u5230\u8fd9\u7bc7\u6587\u7ae0\u65f6\u5e94\u8be5\u4e0d\u662f\u4e86\u2026\u2026\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n// \u5feb\u8bfb\u4e0d\u518d\u9610\u8ff0\uff0c\u81ea\u5df1 BDFS\nchar buf[0x17f00], *p1 = buf, *p2 = buf;\n#define getchar() (p1 == p2 && (p2 = (p1 = buf) + fread(buf, 1, 0x17f00, stdin), p1 == p2) ? EOF: *p1++)\n\ninline long long read() { // \u8fd9\u91cc\u6ca1\u5f00 long long \u4ea4\u4e86 8 \u6b21 555\n    char c = getchar();\n    long long x = 0;\n    int f = 1;\n    for (; c < '0' || c > '9'; c = getchar())\n        if (c == '-') f *= -1;\n    for (; c >= '0' && c <= '9'; c = getchar()) \n        x = (x << 3) + (x << 1) + (c - 48);\n    return x * f;\n}\n\nconst int N = 1e5 + 10;\nlong long n, res, w[N], l[N], r[N];\n\nint main() {\n    n = read();\n    for (int i = 1; i <= n; i++)\n        w[i] = read();\n    for (int i = 1; i <= n; i++)\n        l[i] = read();\n    for (int i = 1; i <= n; i++)\n        r[i] = read(), res += w[i] - (n - i) * max(l[i], r[i]); \n        // W[i] - \u5269\u4f59\u7684 0 \u4e2a\u6570 * max(L[i], R[i]) \u6bcf\u6b21\u7d2f\u52a0\u3002\n    printf(\"%lld\", res);\n}\n```\n\nThe End!",
        "postTime": 1683867100,
        "uid": 912750,
        "name": "StandardManager",
        "ccfLevel": 0,
        "title": "P9209\u9898\u89e3"
    },
    {
        "content": "### \u9898\u76ee\u5206\u6790\uff1a\n\n\u5bf9\u4e8e\u5f53\u524d\u8f66\u8981\u505c\u5230\u957f\u5ea6\u4e3a $n$ \u7684\u8fde\u7eed\u7a7a\u4f4d\uff0c\u5de6\u4ee3\u4ef7\u4e3a $L_i$\uff0c\u53f3\u4ee3\u4ef7\u4e3a $R_i$\uff0c\u90a3\u4e48\u5f53\u524d\u9009\u62e9\u7b2c $j$ \u4e2a\u4f4d\u7f6e\uff0c\u7b54\u6848\u4e3a $(j-1)\\times L_i+(n-j)\\times R_i$\u3002\n\n\u5316\u7b80\u4e00\u4e0b\uff0c\u5f97\u5230\u7b54\u6848\u4e3a $j\\times(L_i-R_i)-L_i+nR_i$\u3002\u663e\u7136 $-L_i,nR_i$ \u548c $L_i-R_i$ \u4e3a\u5b9a\u503c\u3002\u6240\u4ee5\u53d6\u5f97\u6700\u5c0f\u65f6\u4e0e $j$ \u6709\u5173\u3002\u6b64\u65f6\u6700\u5c0f\u503c\u663e\u7136\u662f $j$ \u53d6\u6700\u5de6\u7aef\u6216\u8005\u6700\u53f3\u7aef\u7684\u65f6\u5019\u6700\u5c0f\u3002\u7b80\u5355\u5730\u5206\u7c7b\u8ba8\u8bba\u4e00\u4e0b\u5c31\u80fd\u51fa\u7b54\u6848\u3002\n\n\n### \u4ee3\u7801\u5982\u4e0b\uff1a\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nconst int N=1e5+10;\n//===\n//\u7f3a\u7701\u5143\n//===\nint n;\nll w[N];\nll l[N],r[N];\nll ans=0;\nint main(){\n\t//freopen(\".in\",\"r\",stdin);\n\t//freopen(\".out\",\"w\",stdout);\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)cin>>w[i];\n\tfor(int i=1;i<=n;i++)cin>>l[i];\n\tfor(int i=1;i<=n;i++)cin>>r[i];\n\tfor(int i=1;i<=n;i++){\n\t\tll cl=(n-i)*r[i],cr=(n-i)*l[i];\n\t\tif(cl>cr)ans+=w[i]-cl;\n\t\telse ans+=w[i]-cr;\n\t}printf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(n)$\u3002",
        "postTime": 1681190987,
        "uid": 511271,
        "name": "\u30c0\u6708",
        "ccfLevel": 5,
        "title": "\u4e0d\u706d\u300c\u4e0d\u6b7b\u9e1f\u4e4b\u5c3e\u300d"
    },
    {
        "content": "## \u9898\u610f\n\n\u7ed9\u5b9a $W_i,L_i,R_i$\uff0c\u8981\u6c42\u67e5\u8be2\u4e00\u4e2a\u6570 $l$\uff0c\u4f7f $W_i-L_i \\times l-R_i \\times (n-l-1)$ \u6700\u5c0f\uff08$n$ \u4e3a\u5269\u4f59\u7a7a\u4f4d\uff09\uff0c\u5e76\u8f93\u51fa\u8fd9\u4e2a\u6700\u5c0f\u503c\u3002\n\n### \u8d2a\u5fc3\n\n\u8bbe $L_i \\times l+R_i \\times (n-l-1)=y_i$\uff0c\u5219\u603b\u82b1\u8d39\u4e3a $W_i-y_i$\u3002\n\n\u5316\u7b80\u5f97 $y_i=(L_i-R_i) \\times l+(n-1) \\times R_i$\n\n\u4f7f\u82b1\u8d39\u6700\u5c0f\uff0c\u6545\u4ee4 $y_i$ \u6700\u5927\u3002\n\n1.\u5f53 $L_i>R_i$ \u65f6\n\n\u8be5\u51fd\u6570\u7684 $k>0$\uff0c\u5373 $y_i$ \u968f $l$ \u7684\u589e\u5927\u800c\u589e\u5927\uff0c\u6545\u4f7f $l$ \u5c3d\u53ef\u80fd\u5927\uff0c\u5373\u9009\u62e9\u6700\u53f3\u4fa7\u7684\u7a7a\u4f4d\uff0c\u6b64\u65f6 $l=n-1$\uff0c\u5219 $y_i=(n-1) \\times L_i$\n\n2.\u5f53 $L_i<R_i$ \u65f6\n\n\u8be5\u51fd\u6570\u7684 $k<0$\uff0c\u5373 $y_i$ \u968f $l$ \u7684\u589e\u5927\u800c\u51cf\u5c0f\uff0c\u6545\u4f7f $l$ \u5c3d\u53ef\u80fd\u5c0f\uff0c\u5373\u9009\u62e9\u6700\u5de6\u4fa7\u7684\u7a7a\u4f4d\uff0c\u6b64\u65f6 $l=0$\uff0c\u5219 $y_i=(n-1) \\times R_i$\n\n3.\u5f53 $L_i=R_i$ \u65f6\n\n\u51fd\u6570\u65e0\u610f\u4e49\uff0c\u53d6\u503c\u4e0e $l$ \u65e0\u5173\u3002\u4f46\u662f\u4e3a\u4e86\u540e\u9762\u7684\u5269\u4f59\u8fde\u7eed\u7a7a\u4f4d\u6700\u5927\uff0c\u8fd8\u662f\u9009\u62e9\u6700\u5de6\u6216\u6700\u53f3\u7684\u3002\n\n\u7531\u4e8e\u524d\u4e24\u79cd\u60c5\u51b5\u90fd\u542b\u6709 $(n-1)$\uff0c\u6545\u5408\u5e76\u5f97\u6700\u7ec8\u89e3\u4e3a\uff1a\n\n$y=(n-1) \\times \\max(L_i,R_i)$\n\n\u6b64\u65f6\u7684 $n$ \u662f\u5269\u4f59\u7a7a\u4f4d\uff0c\u8981\u4f7f\u5728\u5faa\u73af\u4e2d\u53ef\u4ee5\u76f4\u63a5\u9009\u7528\u5219\u9700\u8981\u5c06 $n$ \u4fee\u6539\u4e3a $n-i+1$\uff0c\u5219\uff1a\n\n$y=(n-i) \\times \\max(L_i,R_i)$\n\n### \u63d0\u793a\n\u6570\u636e\u8303\u56f4 $nL_i+nR_i\\le W_i\\le 2\\times 10^{10}$\uff0c\u8981\u5f00 `long long`\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n;\nlong long w[100005],l[100005],r[100005];\nlong long ans;\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%lld\",&w[i]);\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%lld\",&l[i]);\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%lld\",&r[i]);\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tans+=(w[i]-(n-i)*max(l[i],r[i]));//\u4ee3\u5165\u516c\u5f0f\n\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1681378395,
        "uid": 740157,
        "name": "Wind_Smiled",
        "ccfLevel": 0,
        "title": "P9209 \u4e0d\u706d\u300c\u4e0d\u6b7b\u9e1f\u4e4b\u5c3e\u300d"
    }
]