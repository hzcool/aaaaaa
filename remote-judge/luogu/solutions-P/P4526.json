[
    {
        "content": "Upd:\u4fee\u6b63\u8ba1\u7b97\u9519\u8bef\u548c\u9519\u522b\u5b57\n\n[\u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd52](https://www.luogu.com.cn/problem/P4526)\n### \u53cd\u9a73 \n\u53cd\u5bf9\u697c\u4e0a\u7684\u7b54\u6848\uff0c\u53cd\u5e38\u79ef\u5206\u7684\u6536\u655b\u6027\u4e0d\u662f\u8fd9\u4e48\u5224\u65ad\u7684\uff01\n\n**\u53cd\u9a731**\n\n\u5f53 $x\\to a$ \u65f6 $f(x)\\to\\infty$ \uff0c $\\int_a^bf(x)\\operatorname{d}\\!x$ \u4e0d\u4e00\u5b9a\u53d1\u6563\u3002\u4f8b\uff1a\n\n$\\lim\\limits_{x\\to0^+}\\ln x=-\\infty$\n\n$\\int_0^1\\ln x\\operatorname{d}\\!x=\\lim\\limits_{x\\to1^-}(x\\ln x-x)-\\lim\\limits_{x\\to0^+}(x\\ln x-x)=-1-\\lim\\limits_{x\\to0^+}x\\ln x$\n\n\u5e94\u7528\u6d1b\u5fc5\u8fbe\u6cd5\u5219\uff0c $\\lim\\limits_{x\\to0^+}x\\ln x=\\lim\\limits_{x\\to0^+}\\frac{\\ln x}{\\frac1x}=\\lim\\limits_{x\\to0^+}\\frac{\\frac1x}{-\\frac1{x^2}}=\\lim\\limits_{x\\to0^+}-x=0$\n\n\u6240\u4ee5 $\\int_0^1\\ln x\\operatorname{d}\\!x$ \u6536\u655b\u4e14\u7b49\u4e8e $-1$ \u3002\n\n**\u53cd\u9a732**\n\n\u5f53 $x\\to+\\infty$ \u65f6 $f(x)\\to0$ \uff0c$\\int_a^{+\\infty}f(x)\\operatorname{d}\\!x$ \u4e0d\u4e00\u5b9a\u6536\u655b\u3002\u4f8b\uff1a\n\n$\\lim\\limits_{x\\to+\\infty}\\frac1x=0$\n\n$\\int_1^{+\\infty}\\frac1x\\operatorname{d}\\!x=\\lim\\limits_{x\\to+\\infty}\\ln x-\\lim\\limits_{x\\to1^+}\\ln x=+\\infty-1=+\\infty$\n\n\u6240\u4ee5 $\\int_1^{+\\infty}\\frac1x\\operatorname{d}\\!x$ \u53d1\u6563\u3002\n\n---\n### \u65e0\u7a77\u754c\u79ef\u5206\u7684\u5ba1\u655b\u6cd5\n\u4e0b\u9762\u6211\u4eec\u90fd\u8ba8\u8bba\u5728\u5b9a\u4e49\u57df\u5185\u8fde\u7eed\u7684\u51fd\u6570\u3002\n\n**\u5b9a\u7406\uff1a**\n\n\u8bbe $f(x)$ \u5728 $[a,+\\infty)$ \u4e0a\u6709 $f(x)\\ge0$ \u3002\n\n\u5982\u679c\u5b58\u5728\u5e38\u6570 $p>1$ \u4f7f\u5f97 $\\lim\\limits_{x\\to+\\infty}x^pf(x)=c<+\\infty$ \uff0c\u90a3\u4e48 $\\int_a^{+\\infty}f(x)\\operatorname{d}\\!x$ \u6536\u655b\u3002\n\n\u5982\u679c $\\lim\\limits_{x\\to+\\infty}xf(x)=d>0$ \uff0c\u90a3\u4e48 $\\int_a^{+\\infty}f(x)\\operatorname{d}\\!x$ \u53d1\u6563\u3002\n\n\u5c06\u533a\u95f4\u6362\u4e3a $(-\\infty,a]$ \u65f6\u5b9a\u7406\u4ecd\u6210\u7acb\u3002\n\n\u60f3\u8981\u8bc1\u660e\uff1f\u5728[\u8fd9\u91cc](https://book.douban.com/subject/26311133/)\n\n**\u5e94\u7528**\n\n\u56e0\u4e3a $\\lim\\limits_{x\\to+\\infty}x^2\u00b7\\frac1{x\\sqrt{x^2+1}}=1<+\\infty$ \uff0c\u6240\u4ee5 $\\int_1^{+\\infty}\\frac1{x\\sqrt{x^2+1}}\\operatorname{d}\\!x$ \u6536\u655b\u3002\n\n\u56e0\u4e3a $\\lim\\limits_{x\\to+\\infty}x\u00b7\\frac1{\\sqrt{x^2-1}}=1>0$ \uff0c\u6240\u4ee5 $\\int_2^{+\\infty}\\frac1{\\sqrt{x^2-1}}\\operatorname{d}\\!x$ \u53d1\u6563\u3002\n\n### \u65e0\u7a77\u95f4\u65ad\u70b9\u7684\u5ba1\u655b\u6cd5\n\n**\u5b9a\u7406\uff1a** \n\n\u8bbe $a$ \u662f $f(x)$ \u7684\u65e0\u7a77\u95f4\u65ad\u70b9\uff0c $f(x)$ \u5728 $(a,b]$ \u4e0a\u6709 $f(x)\\ge0$ \u3002\n\n\u5982\u679c\u5b58\u5728\u5e38\u6570 $0<p<1$ \u4f7f\u5f97 $\\lim\\limits_{x\\to a^+}(x-a)^pf(x)=c<+\\infty$ \uff0c\u90a3\u4e48 $\\int_a^bf(x)\\operatorname{d}\\!x$ \u6536\u655b\u3002\n\n\u5982\u679c $\\lim\\limits_{x\\to a^+}(x-a)f(x)=d>0$ \uff0c\u90a3\u4e48 $\\int_a^bf(x)\\operatorname{d}\\!x$ \u53d1\u6563\u3002\n\n---\n\n\u8bbe $b$ \u662f $f(x)$ \u7684\u65e0\u7a77\u95f4\u65ad\u70b9\uff0c $f(x)$ \u5728 $[a,b)$ \u4e0a\u6709 $f(x)\\ge0$ \u3002\n\n\u5982\u679c\u5b58\u5728\u5e38\u6570 $0<p<1$ \u4f7f\u5f97 $\\lim\\limits_{x\\to b^-}(b-x)^pf(x)=c<+\\infty$ \uff0c\u90a3\u4e48 $\\int_a^bf(x)\\operatorname{d}\\!x$ \u53d1\u6563\u3002\n\n\u5982\u679c $\\lim\\limits_{x\\to b^-}(b-x)f(x)=d>0$ \uff0c\u90a3\u4e48 $\\int_a^bf(x)\\operatorname{d}\\!x$ \u53d1\u6563\u3002\n\n\u8bc1\u660e\u540c\u6837\u5728\u4e0a\u9762\u3002\n\n**\u5e94\u7528\uff1a** \n\n\u56e0\u4e3a $\\lim\\limits_{x\\to1^-}(1-x)^{\\frac12}\u00b7\\frac1{\\sqrt{1-x^2}}=\\lim\\limits_{x\\to1^-}\\frac1{\\sqrt{1+x}}=\\frac{\\sqrt{2}}2<+\\infty$ \uff0c\u6240\u4ee5 $\\int_0^1\\frac1{\\sqrt{1-x^2}}\\operatorname{d}\\!x$ \u6536\u655b\u3002\n\n\u56e0\u4e3a $\\lim\\limits_{x\\to1^-}(x-1)\u00b7\\frac1{\\ln x}=\\lim\\limits_{x\\to1^-}\\frac1{\\frac1x}=1>0$ \uff0c\u6240\u4ee5 $\\int_1^3\\frac{\\operatorname{d}\\!x}{\\ln x}$ \u53d1\u6563\u3002\n\n---\n### \u672c\u9898\n\n\u672c\u9898\u4e2d\uff0c$x\\in[0,+\\infty),f(x)=x^{\\frac ax-x}=x^{\\frac{a-x^2}x}\\ge0$ \u3002\n\n**$a<0$ \u65f6\u53d1\u6563\u7684\u8bc1\u660e**\n\n$\\lim\\limits_{x\\to0^+}x^{\\frac{a-x^2}x}=e^{\\lim\\limits_{x\\to0^+}\\frac{a-x^2}x\\ln x}=\\begin{cases}e^{+\\infty}=+\\infty&a<0\\\\e^0=1&a=0\\\\e^{-\\infty}=0&a>0\\end{cases}$\n\n\u6240\u4ee5\u53ea\u6709 $a<0$ \u65f6 $\\int_0^{+\\infty}f(x)\\operatorname{d}\\!x$ \u53ef\u80fd\u5728 $x=0$ \u5904\u53d1\u6563\u3002\n\n\u5f53 $a<0$ \u65f6\uff0c$\\lim\\limits_{x\\to0^+}x\u00b7x^{\\frac{a-x^2}x}=e^{\\lim\\limits_{x\\to0^+}\\frac{a-x^2+x}x\\ln x}=e^{+\\infty}=+\\infty$ \uff0c\u6240\u4ee5 $\\int_0^{+\\infty}f(x)\\operatorname{d}\\!x$ \u5728 $0$ \u5904\u53d1\u6563\u3002\n\n**$+\\infty$ \u5904\u6536\u655b\u7684\u8bc1\u660e**\n\n$\\lim\\limits_{x\\to+\\infty}x^2\u00b7x^{\\frac{a-x^2}x}=e^{\\lim\\limits_{x\\to+\\infty}\\frac{a-x^2+2x}x\\ln x}$\n\n\u7531\u6d1b\u5fc5\u8fbe\u6cd5\u5219\uff0c $\\lim\\limits_{x\\to+\\infty}\\frac{(a-x^2+2x)\\ln x}x=\\lim\\limits_{x\\to+\\infty}(-2x+2)\\ln x+\\frac{a-x^2+2x}x=-\\infty$ \u3002\n\n\u6240\u4ee5 $\\lim\\limits_{x\\to+\\infty}x^2\u00b7x^{\\frac{a-x^2}x}=e^{-\\infty}=0<+\\infty$ \u3002\n\n\u6240\u4ee5 $\\int_0^{+\\infty}f(x)\\operatorname{d}\\!x$ \u5728\u6b63\u65e0\u7a77\u5927\u5904\u6536\u655b\u3002\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c $\\int_0^{+\\infty}f(x)\\operatorname{d}\\!x$ \u5728 $a<0$ \u65f6\u53d1\u6563\uff0c\u5728 $a\\ge0$ \u65f6\u6536\u655b\u3002\n",
        "postTime": 1583470444,
        "uid": 68467,
        "name": "xcxcli",
        "ccfLevel": 0,
        "title": "[\u6a21\u677f]\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5"
    },
    {
        "content": "\u6211\u5e76\u4e0d\u6253\u7b97\u8bb2\u592a\u591a\u7684\u5b9e\u73b0\u4e0a\u7684\u95ee\u9898\u3002\u3002\u3002\u5404\u4f4ddalao\u7684\u9898\u89e3\u90fd\u5df2\u7ecf\u8bf4\u5f97\u5f88\u6e05\u695a\u4e86\uff08\u800c\u4e14\u4e0d\u4f1a\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5\u6765\u505a\u8fd9\u9053\u9898\u5e72\u561b\uff01\uff09\n\n\u6211\u4e3b\u8981\u662f\u8bb2\u8bb2\uff0c\u8fd9\u4e2a\u770b\u4f3c\u201c\u663e\u800c\u6613\u89c1\u201d\u7684\u201c$a<0$\u65f6\u539f\u79ef\u5206\u53d1\u6563\u201d\u662f\u5982\u4f55\u5f97\u6765\u7684\u3002\u56e0\u4e3a\u5728\u6211\u505a\u8fd9\u9053\u9898\u65f6\uff0c\u672c\u849f\u84bb\u4e5f\u56e0\u4e3a\u9898\u89e3\u91cc\u7684\u201c\u753b\u56fe\u53ef\u5f97\u201d\u800c\u4e00\u8138\u8499\u5708\uff0c\u540e\u6765\u81ea\u5df1\u597d\u597d\u501f\u7528desmos\u753b\u4e86\u4e2a\u56fe\uff0c\u7814\u7a76\u4e86\u4e00\u756a\u624d\u5f04\u61c2\u3002\n\n\u5982\u679c\u662f\u6bd4\u8d5b\u573a\u4e0a\uff0c\u50cf\u8fd9\u6837\u7684\u51fd\u6570\u56fe\u8c61\u6839\u672c\u6ca1\u529e\u6cd5\u753b\u5f97\u597d\u554a\uff01\n\n## \u4e00\u3001$a<0$\u65f6\u539f\u79ef\u5206\u53d1\u6563\u3002\n\n\u8fd9\u70b9\u5012\u662f\u8fd8\u6bd4\u8f83\u597d\u8bc1\u3002\u6ce8\u610f\u770b\u8fd9\u4e2a\u51fd\u6570\u7684\u6307\u6570\uff1a\n\n$\\dfrac{a}{x}-x$\n\n\u53ef\u4ee5\u8f6c\u5316\u4e3a\n\n$\\dfrac{a-x^2}{x}$\n\n\u4e8e\u662f\u51fd\u6570\u53ef\u4ee5\u53d8\u6210\u8fd9\u6837\uff1a\n\n$x^{\\tfrac{a-x^2}{x}}$\n\n\u56e0\u4e3a\u539f\u79ef\u5206\u7684\u79ef\u5206\u4e0b\u754c\u4e3a0\uff0c\u800c$x=0$\u65f6\u88ab\u79ef\u51fd\u6570\u65e0\u610f\u4e49\uff0c\u6240\u4ee5\u53ef\u4ee5\u5ffd\u75650\uff0c\u6539\u5b9a\u4e49\u57df\u4e3a$(0,+\\infty)$\u3002\n\n\u6b64\u65f6\uff1a\n\n$\\because$ $a<0,x^2>0,-x^2<0$\n\n$\\therefore$ $a-x^2<0$\n\n$\\therefore$ \u539f\u51fd\u6570\u53ef\u5316\u4e3a$\\dfrac{1}{x^{\\tfrac{x^2-a}{x}}}$\n\n$\\because$ $x$\u8d8b\u8fd1\u4e8e$0$\u65f6\uff0c$x^2$\u8d8b\u8fd1\u4e8e$0$\uff0c$\\dfrac{1}{x}$\u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\u3002\n\n$\\therefore$ $x^2-a$\u8d8b\u8fd1\u4e8e$-a$\uff0c$-\\dfrac{a}{x}$\u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\u3002\n\n$\\because$ \u5f53$0<x<1$\u65f6\uff0c$x^m$\u5728$m$\u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\u65f6\u8d8b\u8fd1\u4e8e0\u3002\n\n\u4e14$x$\u8d8b\u8fd1\u4e8e$0$\u65f6\uff0c$\\dfrac{1}{x}$\u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\u3002\n\n$\\therefore$ \u539f\u51fd\u6570\u5728$x$\u8d8b\u8fd1\u4e8e$0$\u65f6\u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\u3002\n\n$\\therefore$ \u539f\u51fd\u6570\u5728\u5b9a\u4e49\u57df\u4e0a\u53d1\u6563\u3002\n\n\uff08\u5982\u679c\u56e0\u4e3a\u8fc7\u591a\u7684\u8d8b\u8fd1\u4e8e\u800c\u611f\u5230\u96be\u53d7\uff0c\u6211\u6df1\u8868\u6b49\u610f\u3002\uff09\n\n_____\n\n\u8fd9\u8fd8\u7b97\u5bb9\u6613\uff0c\u73b0\u5728\u6211\u4eec\u8981\u8bc1\u660e\u7b2c\u4e8c\u4ef6\u4e8b\uff1a\u539f\u79ef\u5206\u5728$a>0$\u65f6\u6536\u655b\u3002\n\n## \u4e8c\u3001$a>0$\u65f6\u539f\u79ef\u5206\u6536\u655b\u3002\n\n### \u5bf9\u4e8e\u4efb\u610f\u5b9e\u6570$a$\uff1a\n\n$x$\u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\u65f6\uff0c$\\dfrac{x^2-a}{x}$\u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\uff0c${x^{\\tfrac{x^2-a}{x}}}$\u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\u3002\n\n$\\because$ $m$\u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\u65f6\uff0c$\\dfrac{1}{m}$\u8d8b\u8fd1\u4e8e$0$\u3002\n\n$\\therefore$ $x$\u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\u65f6\uff0c$\\dfrac{1}{x^{\\tfrac{x^2-a}{x}}}$\u8d8b\u8fd1\u4e8e$0$\u3002\n\n$\\therefore$ \u539f\u51fd\u6570\u5728$x$\u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\u65f6\u6536\u655b\u3002\n\n### \u5bf9\u4e8e$a>0$\uff1a\n\n\u53ef\u4ee5\u53d6$x<min(\\sqrt a,1)$\uff0c\u6b64\u65f6$\\dfrac{a-x^2}{x}$\u5927\u4e8e$0$\uff0c\u6240\u4ee5$x^\\tfrac{a-x^2}{x}$\u5c0f\u4e8e$1$\u3002\n\n\u800c\u5728$[1,+\\infty)$\u4e0a\uff0c\u7b54\u6848\u5fc5\u6709\u9650\u3002\n\n\u6240\u4ee5\u539f\u79ef\u5206\u6536\u655b\u3002\n\n## \u90a3\u4e48\u4ec0\u4e48\u65f6\u5019\u4f1a\u6536\u655b\u5462\uff1f\n\n\u6211\u4eec\u8bbe$\\epsilon_1$\u4e3a\u7cbe\u5ea6\u4e0b\u9650\uff0c\u5373\u6536\u655b\u7684$f(x)$\u7684\u754c\u3002\n\n\u672c\u4eba\u5199\u4e86\u8fd9\u4e48\u4e00\u4e2a\u7a0b\u5e8f\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\ntypedef double ld;\nconst ld eps=1e-8;\nconst ld eps2=1e-6;\nld l,r,mid;\nld a;\n\nint main(){\n\tscanf(\"%lf\",&a);\n\tl=2.000; r=200.0000;\n\twhile(l+eps<r){\n\t\tmid=l+(r-l)/2;\n\t\tprintf(\"%lf %lf\\n\",mid,pow(mid,(a/mid)-mid));\n\t\tif(pow(mid,(a/mid)-mid)<=eps2)r=mid;\n\t\telse l=mid;\n\t}\n\tprintf(\"%lf\",l);\n} \n```\n\n\u5b9a$\\epsilon_1=1e^{-6}$\uff0c\u53ef\u4ee5\u53d1\u73b0\uff0c\u5728$a=50$\uff0c$x\\ge 10.581484$\u65f6$f(x)>\\epsilon_1$\u3002\n\n\u4e3a\u4e86\u7cbe\u786e\uff0c\u5b9a$\\epsilon_1=1e^{-10}$\uff0c\u5728$a=50$\uff0c$x\\ge 12.884417$\u65f6$f(x)>\\epsilon_1$\u3002\n\n\u8fd9\u4e5f\u662f\u5982\u4f55\u628a\u539f\u79ef\u5206\u8f6c\u5316\u4e3a\u5b9a\u79ef\u5206\u7684\u65b9\u6cd5\uff1a\u628a$[0,+\\infty)$\u8f6c\u5316\u4e3a$[0,15)$\u3002\n\n\u6700\u540e\u8fd8\u662f\u653e\u4e2a\u672c\u4eba\u7684\u4ee3\u7801\u5427\u3002\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nconst double Eps=1e-10;\ndouble a,l,r;\n\ninline double F(double x){\n    return pow(x,(a/x)-x);\n}//\u51fd\u6570\n\ninline double Simpson(double p,double q){\n    double k=p+(q-p)/2;\n    return (F(p)+4*F(k)+F(q))*(q-p)/6.0;\n}//\u4e09\u70b9\u8f9b\u666e\u68ee\u6cd5\n\ndouble Adaptive(double p,double q,double S){\n    double k=p+(q-p)/2;\n    double l1=Simpson(p,k),l2=Simpson(k,q);\n    if(fabs(l1+l2-S)<=15*Eps)return l1+l2;\n    else return Adaptive(p,k,l1)+Adaptive(k,q,l2);\n}//\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5\n\nint main(){\n    scanf(\"%lf\",&a);\n    if(a<0){\n        printf(\"orz\");\n        return 0;\n    }//\u5224\u65ad\u6536\u655b/\u53d1\u6563\n    printf(\"%.5lf\",Adaptive(Eps,15,Simpson(l,r)));\n}\n```\n\n\u5b8c\u7ed3\u6492\u82b1\uff01\u5e0c\u671b\u80fd\u5e2e\u5230\u5927\u5bb6~",
        "postTime": 1540308089,
        "uid": 52913,
        "name": "CreeperK",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4526 \u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd52"
    },
    {
        "content": "### 0xFF - LICENSE\n\n\u672c\u6587\u9075\u5b88 [\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528-\u7981\u6b62\u6f14\u7ece 4.0 \u534f\u8bae](https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh-Hans)\uff0c\u8f6c\u8f7d\u8bf7\u5e26\u4e0a\u8457\u540d\uff0c\u5e76\u6309\u539f\u6837\u8f6c\u8f7d\u3002\n\n### 0x00 - \u524d\u8a00\n\n\u672c\u6587\u7ae0\u4e3b\u8981\u8bb2\u89e3**\u9f99\u8d1d\u683c\u7b97\u6cd5\u4e0e\u63a8\u5bfc\u8fc7\u7a0b(Romberg's Method)**\uff0c\u540c\u65f6\u4f5c\u4e3a P4526\uff0cUVA1356\uff0cP4207 \u7684\u9898\u89e3\u3002\n\n\u5982\u679c\u60a8\u4e0d\u60f3\u770b\u63a8\u5bfc\uff0c\u8bf7\u8df3\u81f3 **0x16**\uff1b\u5982\u679c\u60a8\u662f\u4ece\u9898\u89e3\u533a\u8fdb\u6765\u7684\uff0c\u8bf7\u5728\u9605\u8bfb\u5b8c **0x1** \u7684\u6240\u6709\u5185\u5bb9\u540e\u8df3\u81f3 **0x3** \u7684\u5bf9\u5e94\u9898\u76ee\u3002\n\n\u5bf9\u4e8e\u4e0b\u6587\u4e2d\u51fa\u73b0\u7684\u6bcf\u4e2a\u672a\u5b9a\u4e49\u7684\u51fd\u6570 $f(x),g(x)$ \u7b49\uff0c\u9664\u975e\u6709\u7279\u522b\u8bf4\u660e\uff0c\u5426\u5219\u9ed8\u8ba4\u5176\u5728\u533a\u95f4 $[a,b]$ \u5185**\u53ef\u79ef**\uff0c\u4e14\u5bf9\u4e8e\u6bcf\u4e2a\u5c0f\u6807\u9898\u5747\u975e\u540c\u4e00\u51fd\u6570\u3002\n\n#### 0x01 - \u521d\u5b66\u8005\u5165\u95e8\n\n\u5982\u679c\u60a8\u521a\u5165\u95e8\uff0c\u8bf7\u5728\u770b\u5b8c\u672c\u8282\u540e\u76f4\u63a5\u8df3\u81f3 **0x16**\uff0c\u5426\u5219\u60a8\u53ef\u4ee5\u8df3\u8fc7\u672c\u8282\u3002\n\n\u5fae\u5206 $f'(x) / \\mathrm{d}f(x)$\uff0c\u5c31\u662f $f(x)$ \u5728\u67d0\u4e00\u77ac\u65f6\u7684\u53d8\u5316\u91cf\u3002\n\n\u79ef\u5206 $\\int_a^bf(x)\\mathrm{d}x$\uff0c\u5c31\u662f\u6c42 $f(x),x=a,x=b,y=0$ \u56f4\u6210\u56fe\u5f62\u7684\u9762\u79ef\uff0c$y=0$ \u4e0a\u9762\u4e3a\u6b63\uff0c\u4e0b\u9762\u4e3a\u8d1f\u3002\n\n\u6570\u503c\u79ef\u5206\uff0c\u5c31\u662f\u5bf9\u4e8e\u67d0\u4e9b\u7279\u522b\u96be\u6c42\u7684\u79ef\u5206\uff0c\u901a\u8fc7\u67d0\u4e9b\u65b9\u6cd5\u9010\u6b65\u903c\u8fd1\u51c6\u786e\u503c\u3002\n\n### 0x10 - \u7b97\u6cd5\u8bb2\u89e3\n\n#### 0x11 - \u4e3a\u4ec0\u4e48\u8981\u7528\u9f99\u8d1d\u683c\u7b97\u6cd5\uff1f\n\n\u4f18\u70b9\uff1a\u6536\u655b**\u6027\u80fd\u826f\u597d**\uff1b\u5728\u8bb8\u591a\u9898\u76ee\u4e0a**\u8fd0\u884c\u5feb\u901f**\uff1b**\u601d\u8def\u6e05\u6670**\uff0c\u663e\u7136\u6bd4\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u79ef\u5206\u7684 $\\times15$ \u597d\u5199\uff1b\u975e\u9012\u5f52\uff0c\u5360\u7528\u5185\u5b58\u76f8\u5bf9\u8f83\u5c0f\u3002\n\n\u7f3a\u70b9\uff1a\u6709\u591a\u79cd\u5199\u6cd5\u4e14\u4ee3\u7801\u96be\u5ea6\u4e0e\u590d\u6742\u5ea6**\u5dee\u5f02\u5de8\u5927**\uff1b\u5bf9\u4e8e\u5728\u79ef\u5206\u533a\u95f4\u4e2d\u5177\u6709\u4e0d\u540c\u5e73\u7a33\u6027\u6765\u56de\u53d8\u5316\u7684\u51fd\u6570\u5177\u6709\u8f83\u5dee\u7684\u6027\u80fd\uff08\u8fd9\u4e2a\u7f3a\u70b9\u662f\u975e\u81ea\u9002\u5e94\u6027\u6570\u503c\u79ef\u5206\u7b97\u6cd5\u6240\u5171\u6709\u7684\uff0c\u4f46\u662f\u5bf9\u4e8e\u9f99\u8d1d\u683c\u7b97\u6cd5\u6765\u8bf4\uff0c\u5b83\u6536\u655b\u5feb\u901f\u7684\u4f18\u70b9\u4e8b\u5b9e\u4e0a\u57fa\u672c\u62b5\u6d88\u4e86\u8fd9\u4e2a\u7f3a\u70b9\uff09\u3002\n\n\u800c\u4e14\u5b83\u4e0d\u4ec5\u53ef\u4ee5\u505a\u5fae\u79ef\u5206\u9898\uff0c\u8fd8\u53ef\u4ee5\u6c34\u8fc7\u67d0\u4e9b\u8ba1\u7b97\u51e0\u4f55\u6bd2\u7624\u9898\uff0c\u5e76\u4e14\u597d\u60f3\u597d\u5199\u3002\n\n#### 0x12 - \u590d\u5316\u68af\u5f62\u6c42\u79ef\u516c\u5f0f\n\n\u6211\u4eec\u77e5\u9053\uff0c\u6709\u68af\u5f62\u516c\u5f0f $\\int_a^bf(x)\\mathrm{d}x\\approx\\frac{(f(a)+f(b))(b-a)}{2}\\kern{25px}(1)$\u3002\n\n\u5219\u5728\u7ed9\u5b9a $n$ \uff08$n$ \u4e3a\u5206\u70b9\u4e2a\u6570\uff09\u7684\u60c5\u51b5\u4e0b\u7531 $(1)$ \u5f97\u590d\u5316\u68af\u5f62\u6c42\u79ef\u516c\u5f0f\uff1a\n\n$$\\int_a^bf(x)\\mathrm{d}x=\\sum_{k=0}^{n-1}\\int_{x_k}^{x_{k+1}}f(x)\\mathrm{d}x\\approx\\sum_{k=0}^{n-1}\\frac{a-b}{2n}(f(x_k)+f(x_{k+1}))$$\n\n$$=\\frac{b-a}{2n}(f(a)+f(b)+2\\sum_{k=1}^{n-1}f(x_k))\\kern{25px}(2)$$\n\n\u5176\u4e2d $x_k=a+k\\cdot\\frac{b-a}{n}$\u3002\n\n#### 0x13 - \u7406\u67e5\u5fb7\u68ee\u5916\u63a8\u6cd5\n\n\u5047\u5b9a\u67d0\u4e00\u51fd\u6570 $f$ \u53ef\u6570\u503c\u8fd1\u4f3c\u4e3a $F(h)$\uff0c\u5176\u4e2d $h$ \u4e3a\u6b65\u957f\uff0c\n\n$f=F(h)+ah^{p}+bh^{q}+\\ldots\\kern{25px}(3)$\n\n\u5176\u4e2d $p$ \u4e3a\u9996\u9879\u9636\u6570\uff0c$q$ \u4e3a\u4e0b\u4e00\u9879\u9636\u6570\uff0c\u6ee1\u8db3 $q>p$\u3002\n\n\u540c\u6837\u5730\uff0c\u6211\u4eec\u6709\n\n$f=F(h_{2})+ah_{2}^{p}+bh_{2}^{q}+\\ldots\\kern{25px}(4)$\n\n\u5219\u7531 $(3)-({\\frac {h}{h_{2}}})^{p}(4)$ \u5f97\uff1a\n\n$$(1-r)f=F(h)+ah^{p}+bh^{q}-rF(h_{2})-rah_{2}^{p}-rbh_{2}^{q}+\\ldots=F(h)-rF(h_{2})+a\\underbrace{(h^{p}-rh_{2}^{p})}_{0}+b(h^{q}-rh_{2}^{q})$$\n\n$$(1-r)f=F(h)-rF(h_{2})+b(h^{q}-rh_{2}^{q})$$\n\n$$f={\\frac{F(h)-rF(h_{2})}{1-r}}+{\\frac{b(h^{q}-rh_{2}^{q})}{1-r}}={\\frac{F(h)-rF(h_{2})}{1-r}}+{\\frac{b(1-r{\\frac{h_{2}^{q}}{h^{q}}})h^{q}}{1-r}}$$\n\n$$f={\\frac{F(h)-rF(h_{2})}{1-r}}+{\\frac{b(1-({\\frac{h}{h_{2}}})^{p}({\\frac{h_{2}}{h}})^{q})h^{q}}{1-r}}=\\underbrace{\\frac{F(h)-rF(h_{2})}{1-r}}_{f^*(h)}+\\underbrace{\\frac{b(1-({\\frac{h_{2}}{h}})^{q-p})}{1-r}}_{b^*}h^{q}$$\n\n\u5176\u4e2d $r=({\\frac {h}{h_{2}}})^{p}$\u3002\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u5f97\u5230\u66f4\u9ad8\u7cbe\u5ea6\u7684\u51fd\u6570 $F^*(h)=\\frac{F(h)-\\left({\\frac {h}{h_{2}}}\\right)^{p}F(h_{2})}{1-\\left({\\frac {h}{h_{2}}}\\right)^{p}}\\kern{25px}(5)$\u3002\n\n#### 0x14 - \u68af\u5f62\u516c\u5f0f\u7684\u4f59\u9879\u516c\u5f0f\uff08\u8bef\u5dee\uff09\n\n\u5148\u653e\u5f20\u56fe\u76f4\u89c2\u5730\u611f\u53d7\u4e00\u4e0b\u68af\u5f62\u516c\u5f0f\u7684\u8bef\u5dee\u3002\n\n\u5982\u56fe 1 \u6240\u793a\uff0c\u7ea2\u8272\u90e8\u5206\u4e3a\u591a\u7b97\u90e8\u5206\uff0c\u9ed1\u8272\u90e8\u5206\u4e3a\u5c11\u7b97\u90e8\u5206\u3002\n\n[![\u56fe 1](https://cdn.luogu.com.cn/upload/image_hosting/q2v8pviz.png)](https://www.desmos.com/calculator/ulakkttve7?lang=zh-CN)\n\n$$\\tiny\\color{grey}\\text{\u56fe~1\uff0c\u68af\u5f62\u516c\u5f0f\u7684\u8bef\u5dee\uff0c\u539f\u521b}$$\n\n\u7531\u5206\u90e8\u79ef\u5206\u6cd5 $\\int g'(x)f(x)\\mathrm{d}x = g(x)f(x)-\\int g(x)f'(x)\\mathrm{d}x$ \u5f97\uff0c\n\n$$\\int_a^b g'(x)f(x)\\mathrm{d}x = g(b)f(b)-g(a)f(a)-\\int_a^b g(x)f'(x)\\mathrm{d}x$$\n\n$$\\therefore\\int^b_a f(x)\\mathrm{d}x=\\int^b_a1\\cdot f(x)\\mathrm{d}(x-a)$$\n\n$$=(b-a)f(b)-(a-a)f(a)-\\int_a^b(x-a)f'(x)\\mathrm{d}(x-a)=(b-a)f(b)-\\int_a^b(x-a)f'(x)\\mathrm{d}x\\kern{25px}(6)$$\n\n\u540c\u7406\uff0c\n\n$$\\int^b_a f(x)\\mathrm{d}x=(b-a)f(a)-\\int_a^b(x-b)f'(x)\\mathrm{d}x\\kern{25px}(7)$$\n\n\u7531 $\\frac{(6)+(7)}{2}$ \u5f97\uff0c\n\n$$\\int^b_a f(x)\\mathrm{d}x=\\frac{(f(a)+f(b))(b-a)}{2}-\\frac{\\int_a^b((x-a)+(x-b))f'(x)\\mathrm{d}x}{2}$$\n\n$$=(1)-\\frac{\\int_a^b((x-a)+(x-b))f'(x)\\mathrm{d}x}{2}$$\n\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c$((x-a)(x-b))'=(x-a)'(x-b)+(x-a)(x-b)'=(x-b)+(x-a)$\uff0c\u6240\u4ee5\u8bbe $u=(x-a)(x-b)$\u3002\n\n$$\\int^b_a f(x)\\mathrm{d}x=(1)-\\frac{\\int_a^b((x-a)+(x-b))f'(x)\\mathrm{d}x}{2}=(1)-\\frac{\\int_a^bu'f'(x)\\mathrm{d}u}{2}=(1)-\\frac{\\int_a^b1\\cdot f'(x)\\mathrm{d}u}{2}$$\n\n\u518d\u7531\u5206\u90e8\u79ef\u5206\u6cd5\u5f97\uff0c\n\n$$\\int^b_a f(x)\\mathrm{d}x=(1)-\\frac{\\int_a^b1\\cdot f'(x)\\mathrm{d}((x-a)(x-b))}{2}$$\n\n$$=(1)-\\frac{(b-a)(b-b)f'(b)-(a-a)(a-b)f'(a)-\\int_a^b(x-a)(x-b)f''(x)\\mathrm{d}((x-a)(x-b))}{2}$$\n\n$$=(1)+\\frac{\\int_a^b(x-a)(x-b)f''(x)\\mathrm{d}((x-a)(x-b))}{2}=(1)+\\frac{\\int_a^b(x-a)(x-b)f''(x)\\mathrm{d}x}{2}$$\n\n\u518d\u7531\u5b9a\u79ef\u5206\u7b2c\u4e00\u4e2d\u503c\u5b9a\u7406 $\\exists\\xi\\in[a,b],\\int_a^bf(x)g(x)\\mathrm{d}x=f(\\xi)\\int_a^bg(x)\\mathrm{d}x$ \u5f97\uff0c\n\n$$\\exists\\xi\\in[a,b],\\int^b_a f(x)\\mathrm{d}x=(1)+\\frac{\\int_a^b(x-a)(x-b)f''(x)\\mathrm{d}x}{2}=(1)+\\frac{f''(\\xi)}{2}\\int^b_a(x-a)(x-b)\\mathrm{d}x$$\n\n\u6211\u4eec\u7740\u624b\u8ba1\u7b97 $\\int^b_a(x-a)(x-b)\\mathrm{d}x$\uff0c\u5148\u8bbe $v=\\frac{x-a}{b-a}$\uff0c\u5219 $x=(b-a)v+a$\uff0c\u5373 $(x-a)=(b-a)v,(x-b)=(b-a)v+(a-b)=(b-a)(v-1)$\u3002\n\n$$\\therefore\\int^b_a(x-a)(x-b)\\mathrm{d}x=\\int^b_a(b-a)^2v(v-1)\\mathrm{d}x=\\int^b_a(b-a)^3v(v-1)\\mathrm{d}v$$\n\n$$=(b-a)^3\\int^b_a(v^2-v)\\mathrm{d}v=(b-a)^3(\\int^b_av^2\\mathrm{d}v-\\int^b_av\\mathrm{d}v)=(b-a)^3(\\frac{1}{3}-\\frac{1}{2})=-\\frac{1}{6}(b-a)^3$$\n\n\u7531\u6b64\u5f97\n\n$$\\exists\\xi\\in[a,b],\\int^b_a f(x)\\mathrm{d}x=(1)+\\frac{f''(\\xi)}{2}\\int^b_a(x-a)(x-b)\\mathrm{d}x=(1)-\\frac{f''(\\xi)(b-a)^3}{12}\\kern{25px}(8)$$\n\n\u5373\u68af\u5f62\u516c\u5f0f\u7684\u4f59\u9879\u516c\u5f0f\uff08\u8bef\u5dee\uff09\u4e3a $-\\frac{f''(\\xi)(b-a)^3}{12}$\u3002\n\n#### 0x15 - \u590d\u5316\u68af\u5f62\u6c42\u79ef\u516c\u5f0f\u7684\u4f59\u9879\u516c\u5f0f\uff08\u8bef\u5dee\uff09\n\n\u540c\u6837\u5148\u653e\u5f20\u56fe\u76f4\u89c2\u5730\u611f\u53d7\u4e00\u4e0b\u590d\u5316\u68af\u5f62\u6c42\u79ef\u516c\u5f0f\u7684\u8bef\u5dee\u3002\n\n\u5982\u56fe 2 \u6240\u793a\uff0c\u7ea2\u8272\u90e8\u5206\u4e3a\u591a\u7b97\u90e8\u5206\uff0c\u9ed1\u8272\u90e8\u5206\u4e3a\u5c11\u7b97\u90e8\u5206\u3002\n\n[![\u56fe 2](https://cdn.luogu.com.cn/upload/image_hosting/80ybjjh7.png)](https://www.desmos.com/calculator/l1r3y3xtd4?lang=zh-CN)\n\n$$\\tiny\\color{grey}\\text{\u56fe~2\uff0c\u590d\u5316\u68af\u5f62\u6c42\u79ef\u516c\u5f0f\u7684\u8bef\u5dee\uff0c\u539f\u521b}$$\n\n$$\\int^b_a f(x)\\mathrm{d}x-(2)=\\sum_{k=0}^{n-1}\\int_{x_k}^{x_{k+1}}f(x)\\mathrm{d}x-\\sum_{k=0}^{n-1}\\frac{a-b}{2n}(f(x_k)+f(x_{k+1}))$$\n\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4e0a\u5f0f\u7b2c\u4e8c\u4e2a $\\sum$ \u7684\u540e\u9762\u5373\u4e3a\u5f53 $a=x_k,b=x_{k+1}$ \u65f6\u7684\u68af\u5f62\u516c\u5f0f\u3002\n\n\u5219\u53ef\u4ee5\u7531 $(8)$ \u5f97\uff0c\n\n$$\\int^b_a f(x)\\mathrm{d}x-(2)=\\sum_{k=0}^{n-1}{\\huge(}\\int_{x_k}^{x_{k+1}}f(x)\\mathrm{d}x-\\frac{b-a}{2n}(f(x_k)+f(x_{k+1})){\\huge)}=-\\frac{1}{12}\\sum_{k=0}^{n-1}f''(\\xi_k)(x_{k+1}-x_k)^3$$\n\n$$=-\\frac{(b-a)^3}{n^3}\\cdot\\frac{1}{12}\\sum_{k=0}^{n-1}f''(\\xi_k)=-\\frac{(b-a)^2}{n^2}\\cdot(b-a)\\cdot\\frac{1}{12}\\sum_{k=0}^{n-1}\\frac{f''(\\xi_k)}{n}$$\n\n\u56e0\u4e3a $f''(x)$ \u5728\u533a\u95f4 $[a,b]$ \u4e0a\u8fde\u7eed\uff0c\u6240\u4ee5 $f''(x)$ \u5728\u533a\u95f4 $[a,b]$ \u4e0a\u6709\u6700\u5927\u503c $\\textit{fmax}$ \u4e0e\u6700\u5c0f\u503c $\\textit{fmin}$\uff0c\u5219 $n\\cdot\\textit{fmin}\\le\\sum_{k=0}^{n-1}f''(\\xi_k)\\le n\\cdot\\textit{fmax}$\uff0c\u5219 $\\textit{fmin}\\le\\sum_{k=0}^{n-1}\\frac{f''(\\xi_k)}{n}\\le\\textit{fmax}$\u3002\n\n\u53c8\u7531[\u4ecb\u503c\u5b9a\u7406](https://baike.baidu.com/item/%E4%BB%8B%E5%80%BC%E5%AE%9A%E7%90%86/10818809)\u5f97\uff0c\u5fc5\u5b9a\u5b58\u5728 $\\eta\\in[a,b]$ \u4f7f $\\sum_{k=0}^{n-1}\\frac{f''(\\xi_k)}{n}=f''(\\eta)$\uff0c\u6211\u4eec\u518d\u4ee4 $h=\\frac{b-a}{n}$\uff08\u5373\u6b65\u957f\uff09\uff0c\u5f97\u5230\n\n$$\\int^b_a f(x)\\mathrm{d}x-(2)=-\\frac{(b-a)^2}{n^2}\\cdot(b-a)\\cdot\\frac{1}{12}\\sum_{k=0}^{n-1}\\frac{f''(\\xi_k)}{n}=-\\frac{h^2}{12}(b-a)f''(\\eta)\\kern{25px}(9)$$\n\n\u5373\u590d\u5316\u68af\u5f62\u6c42\u79ef\u516c\u5f0f\u7684\u4f59\u9879\u516c\u5f0f\u4e3a $-\\frac{h^2}{12}(b-a)f''(\\eta)$\uff0c\u5176\u4e2d $\\eta$\uff08\u6839\u636e\u5b9a\u4e49\uff09\u4e0e\u6b65\u957f $h$ \u6b63\u76f8\u5173\uff08\u5373\u4e0d\u542b $h$ \u7684\u8d1f\u6570\u6b21\u9879\uff09\u3002\n\n#### 0x16 - \u9f99\u8d1d\u683c\u7b97\u6cd5\n\n\u5230\u91cd\u5934\u620f\u4e86\u3002\n\n\u4e3a\u4e86\u80fd\u591f\u5bf9\u590d\u5316\u68af\u5f62\u6c42\u79ef\u516c\u5f0f\uff08\u5373 $(2)$\uff0c\u4e0b\u79f0 $F(h)$\uff0c$h$ \u4e3a\u6b65\u957f\uff09\u4f7f\u7528\u7406\u67e5\u5fb7\u68ee\u5916\u63a8\u6cd5\uff0c\u6211\u4eec\u5c06\u590d\u5316\u68af\u5f62\u6c42\u79ef\u516c\u5f0f\u7684\u4f59\u9879\u516c\u5f0f\u5199\u6210\u5e42\u7ea7\u6570\u7684\u5f62\u5f0f\u3002\n\n\u7531\u4e8e $\\eta$ \u4e0e\u6b65\u957f $h$ \u6b63\u76f8\u5173\uff0c\u6211\u4eec\u6709\uff0c\n\n$$\\int^b_a f(x)\\mathrm{d}x-(2)=-\\frac{h^2}{12}(b-a)f''(\\eta)=\\sum_{k=1}^\\infty\\alpha_kh^{2k}\\kern{25px}(10)$$\n\n\u5373 $(3)(4)$ \u4e2d\u7684 $p=2,q=4$\u3002\n\n\u6211\u4eec\u4ee4 $(3)$ \u4e2d\u7684 $h$ \u7b49\u4e8e $(4)$ \u4e2d $h_2$ \u7684 $\\frac{1}{2}$\uff0c\u5219\u7531 $(5)$ \u4e0e $(10)$ \u5f97\n\n$\\Large F^*(h_2)=\\frac{F(h)-\\left({\\frac {h}{h_{2}}}\\right)^{p}F(h_{2})}{1-\\left({\\frac {h}{h_{2}}}\\right)^{p}}=\\frac{F(\\frac{h_2}{2})-\\frac{1}{4}F(h_2)}{1-\\frac{1}{4}}=\\frac{4F(\\frac{h_2}{2})-F(h_2)}{3}$\n\n\u6b64\u65f6\u8bef\u5dee\u6765\u5230 $\\sum_{k=2}^\\infty\\alpha_kh^{2k}$\uff0c\u5373 $p=4,q=6$\u3002\n\n\u4e0b\u4e00\u4e2a\u66f4\u7cbe\u786e\u7684\u51fd\u6570\u5219\u662f\n\n$\\Large F^{**}(h_2)=\\frac{F^*(h)-\\left({\\frac {h}{h_{2}}}\\right)^{p}F^*(h_{2})}{1-\\left({\\frac {h}{h_{2}}}\\right)^{p}}=\\frac{F^*(\\frac{h_2}{2})-\\frac{1}{16}F^*(h_2)}{1-\\frac{1}{16}}=\\frac{16F^*(\\frac{h_2}{2})-F^*(h_2)}{15}$\n\n\u4ee5\u6b64\u4e0d\u65ad\u4f7f\u7528\u7406\u67e5\u5fb7\u68ee\u5916\u63a8\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49**\u9f99\u8d1d\u683c\u51fd\u6570 $R(n,m)$**\uff1a\n\n$$R(n,m)=\\Large\\left\\{\\begin{matrix}\n\\frac{(f(a)+f(b))(b-a)}{2}&(n=m=0)&\\text{\\small\u6ce8\uff1a\u68af\u5f62\u516c\u5f0f}\\\\\n\\frac{R(n-1,0)}{2}+\\frac{b-a}{2^n}\\sum\\limits_{k=1}^{2^{n-1}}f(a+\\frac{(b-a)(2k-1)}{2^n})&(n\\not=0,m=0)&\\text{\\small\u6ce8\uff1a\u590d\u5316\u68af\u5f62\u6c42\u79ef\u516c\u5f0f\uff0c\u6b65\u957f\u4e3a}{\\small\\frac{1}{2^n}}\\\\\n\\frac{4^mR(n,m-1)-R(n-1,m-1)}{4^m-1}&otherwise&\\text{\\small\u6ce8\uff1a\u4e0a\u9762\u7684\u7406\u67e5\u5fb7\u68ee\u5916\u63a8\u6cd5}\n\\end{matrix}\\right.$$\n\n\u800c\u7531\u5b9a\u4e49\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u5f0f\u5b50\uff1a\n\n$$\\int_a^bf(x)\\mathrm{d}x=\\lim_{n,m\\rightarrow\\infty}R(n,m)$$\n\n\u4e8e\u662f\u6211\u4eec\u9012\u63a8\u5904\u7406\u9f99\u8d1d\u683c\u51fd\u6570\uff0c\u76f4\u5230\u8fbe\u5230\u7cbe\u5ea6\u8981\u6c42\u5373\u53ef\u3002\n\n\u8d34\u4e00\u5f20\u56fe\u4ee5\u52a9\u4e8e\u7406\u89e3\uff1a\n\n![\u56fe3](https://pic3.zhimg.com/80/v2-fd29b77f90cb75da0bdb114fb8f38b6a_720w.jpg)\n\n$$\\tiny\\color{grey}\\text{\u56fe~3\uff0c\u9f99\u8d1d\u683c\u51fd\u6570\u8868\u7684\u8ba1\u7b97\uff0c\u6458\u81ea@sola}$$\n\n### 0x20 - \u4ee3\u7801\u6a21\u677f\n\n#### 0x21 - \u6570\u7ec4\u5b9e\u73b0\n\n\u6700\u597d\u5199\u3001\u6700\u4e0d\u5bb9\u6613\u5199\u9519\u3001\u4f46\u4e0d\u662f\u6700\u5feb\u901f\u7684\u4e00\u79cd\u3002\n\n\u6839\u636e\u9f99\u8d1d\u683c\u51fd\u6570\u76f4\u63a5\u641e\u3002\n\n\u6ce8\uff1a\u4e3a\u4e86\u907f\u514d\u7a7a\u95f4\u5360\u7528\u8fc7\u5927\u6240\u4ee5\u6ca1\u6709\u4f7f\u7528\u4e8c\u7ef4\u6570\u7ec4\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nclass Romberg {\nprotected:\n    function<long double(long double)> f;\npublic:\n    Romberg(function<long double(long double)> F = [](long double x) {return x;}) { f = F; }\n    long double operator()(long double a, long double b, long double eps) {\n        static long double t[65536], h, p, ans;\n        static long long m, n, s;\n        m = 1, n = 1, s = 1, h = b - a, t[0] =  ( f(a) + f(b) ) * ( b - a ) / 2;\n        while (true) {\n            p = 0;\n            for (int i = 0;i < n;i++)p += f(a + ( i + 0.5 ) * h);\n            p = ( t[0] + h * p ) / 2, s = 1;\n            for (int i = 0;i < m;i++)s <<= 2, ans = ( s * p - t[i] ) / ( s - 1 ), t[i] = p, p = ans;\n            if (fabs(ans - t[m - 1]) < eps)break;\n            t[m++] = ans, n <<= 1, h /= 2;\n        }\n        return ans;\n    }\n};\n```\n\n#### 0x22 - \u52a0\u901f\u7248\u5b9e\u73b0\n\n\u5b83\u7701\u7565\u4e86\u9f99\u8d1d\u683c\u51fd\u6570 $m>3$ \u7684\u6240\u6709\u60c5\u51b5\uff0c\u7cbe\u5ea6\u53ef\u80fd\u4f1a\u964d\u4f4e\uff08\u5176\u5b9e\u6ca1\u591a\u5927\u5f71\u54cd\uff09\uff0c\u5374\u5feb\u5f97\u591a\u3002\n\n\u5177\u4f53\u6d41\u7a0b\u89c1\u56fe 4\u3002\n\n![\u56fe 4](https://cdn.luogu.com.cn/upload/image_hosting/k0k3qnc8.png)\n\n$$\\tiny\\color{grey}\\text{\u56fe~4\uff0c\u9f99\u8d1d\u683c\u7b97\u6cd5\u7684\u6d41\u7a0b\u56fe\uff0c\u5728\u7f51\u7edc\u4e0a\u627e\u5230\u7684\u7248\u672c\u90fd\u6709BUG\uff0c\u5c31\u81ea\u5df1\u753b\u4e86\u4e00\u5e45}$$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nclass Romberg {\nprotected:\n    function<long double(long double)> f;\n    long double ctqf(long double a, long double b, long double h) {\n        static long double ans;\n        ans = 0.0;\n        for (long double i = a + h / 2.0; i < b; i += h) ans += f(i);\n        return ans;\n    }\npublic:\n#define continue {k++;continue;}\n    Romberg(function<long double(long double)> F = [](long double x) {return x;}) { f = F; }\n    long double operator()(long double a, long double b, long double eps) {\n        static long double T1, T2, S1, S2, C1, C2, R1, R2, h, S;\n        static int cnt, k;\n        h = b - a, T1 = ( f(a) + f(b) ) * h / 2, cnt = 0, k = 1;\n        while (1) {\n            S = ctqf(a, b, h), T2 = ( T1 + h * S ) / 2, S2 = ( 4 * T2 - T1 ) / 3, h /= 2, T1 = T2, S1 = S2, C1 = C2, R1 = R2,cnt++;\n            if (k == 1)continue;\n            C2 = ( 16 * S2 - S1 ) / 15;\n            if (k == 2)continue;\n            R2 = ( 64 * C2 - C1 ) / 63;\n            if (k == 3)continue;\n            if (fabs(R1 - R2) < eps || cnt > 100)break;\n        }\n        return R2;\n    }\n#undef continue\n};\n```\n\n### 0x30 - \u4f8b\u9898\n\n#### 0x31 - P4525 \u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5 1\n\n\u59a5\u59a5\u7684\u6a21\u677f\u9898\uff0c\u76f4\u63a5\u6c42\u9898\u9762\u7ed9\u7684\u5b9a\u79ef\u5206\u5373\u53ef\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n\u3010\u6a21\u677f\u90e8\u5206\u3011\nint main(){\n    long double a,b,c,d,l,r;\n    cin>>a>>b>>c>>d>>l>>r;\n    printf(\"%.6Lf\\n\",Romberg([a,b,c,d](long double x){return (c*x+d)/(a*x+b);})(l,r,1e-100l));\n}\n```\n\n#### 0x32 - P4526 \u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5 2\n\n\u9898\u9762\u662f\u4e00\u4e2a\u53cd\u5e38\u79ef\u5206\uff0c\u90a3\u663e\u7136\u628a $b$ \u5f00\u8db3\u591f\u5927\u5373\u53ef\uff0c\u53d1\u6563\u5f53\u4e14\u4ec5\u5f53 $a<0$\u3002\n\n\u4e8e\u662f\u53c8\u53d8\u6210\u4e86\u6a21\u677f\u9898\u3002\n\n```cpp\n\u3010\u6a21\u677f\u90e8\u5206\u3011\nint main(){\n    long double a;\n    cin>>a;\n    if(a<0)return puts(\"orz\"),0;\n    printf(\"%.5Lf\\n\",Romberg([a](long double x){return pow(x,a/x-x);})(1e-100l,20.0l,1e-100l));\n}\n```\n\n#### 0x33 - UVA1356 Bridge\n\n\u5bf9\u7535\u7ebf\u6746\u7684\u6570\u91cf\u8d2a\u5fc3\uff0c\u6700\u5c0f\u6570\u91cf\u4e3a $n=\\lceil\\frac{B}{D}\\rceil$\uff0c\u8ddd\u79bb\u4e3a $d=\\frac{B}{n}$\uff0c\u7535\u7ebf\u957f\u5ea6\u4e3a $\\frac{L}{n}$\uff0c\u7136\u540e\u4e8c\u5206\u9ad8\u5ea6\u5957\u5f27\u957f\u516c\u5f0f $f(x)=\\sqrt{1+4(\\frac{4h}{d})^2x^2}$ \u5373\u53ef\u3002\n\n\u4e8e\u662f\u53c8\u53c8\u53d8\u6210\u4e86\u6a21\u677f\u9898\u3002\n\n```cpp\n\u3010\u6a21\u677f\u90e8\u5206\u3011\nint main(){\n    int T,n;\n    cin>>T;\n    for(int i=1;i<=T;i++){\n        long double D,H,B,L,l,r,W;\n    \tcin>>D>>H>>B>>L,l=0,r=H,n=(B-1)/D+1,L/=n,W=B/n;\n        while(l+1e-9l<r){if(Romberg([=](long double x){return sqrt(1+4*(4*(l+r)/2/(W*W))*(4*(l+r)/2/(W*W))*x*x);})(0,W/2,1e-9l)*2<=L)l=(l+r)/2;else r=(l+r)/2;}\n        printf(\"Case %d:\\n%.2Lf\\n\",i,H-l);\n        if(i<T)puts(\"\");\n    }\n}\n```\n\n#### 0x34 - P4207 [NOI2005] \u6708\u4e0b\u67e0\u6aac\u6811\n\n\u8fd9\u7c7b\u9898\u7684\u5173\u952e\u5c31\u662f\u628a\u6240\u6c42\u9762\u79ef\u8f6c\u5316\u4e3a\u4e00\u4e2a\u51fd\u6570\uff0c\u81f3\u591a $O(n\\log n)$\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u9f99\u8d1d\u683c\u6c42\u89e3\u3002\n\n\u53ef\u80fd\u8fd8\u9700\u8981\u5e26\u70b9\u626b\u63cf\u7ebf\u7684\u601d\u60f3\u3002\n\n### 0x40 - \u7ec3\u4e60\u9898\n\n1. [P4406 [CQOI2005] \u4e09\u89d2\u5f62\u9762\u79ef\u5e76](https://www.luogu.com.cn/problem/P4406)\n\n2. [P1222 \u4e09\u89d2\u5f62](https://www.luogu.com.cn/problem/P1222)\n\n3. [P3219 [HNOI2012] \u4e09\u89d2\u5f62\u8986\u76d6\u95ee\u9898](https://www.luogu.com.cn/problem/P3219)\n\n4. [SP8073 CIRU - The area of the union of circles](https://www.luogu.com.cn/problem/SP8073)\n\n5. [SP3863 VCIRCLES - Area of circles](https://www.luogu.com.cn/problem/SP3863)\n\n6. [CF600D Area of Two Circles' Intersection](https://www.luogu.com.cn/problem/CF600D)\n\n### 0x50 - \u540e\u8bb0\n\n#### 0x51 - \u4e00\u4e9b\u65e0\u804a\u7684\u7edf\u8ba1\n\n\u672c\u6587\u5171\u6709 $13890$ \u4e2a\u5b57\u8282\uff0c\u5176\u4e2d\u6709 $12468$ \u4e2a\u975e\u7a7a\u767d\u5b57\u7b26\uff0c$1543$ \u4e2a\u6c49\u5b57\uff0c$198$ \u4e2a\u4e2d\u6587\u6807\u70b9\uff0c$734$ \u4e2a\u6570\u5b57\uff0c$8986$ \u4e2a ASCII \u5b57\u7b26\uff08\u4e0d\u542b\u7a7a\u683c\uff09\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/zc1jbimq.png)\n\n$$\\tiny\\color{grey}\\text{\u56fe~5\uff0c\u672c\u6587\u7ae0\u7684\u8bcd\u4e91\u56fe}$$\n\n#### 0x52 - \u53c2\u8003\u8d44\u6599\n\n1. [\u7406\u67e5\u5fb7\u68ee\u5916\u63a8\u6cd5 - \u7ef4\u57fa\u767e\u79d1\uff0c\u81ea\u7531\u7684\u767e\u79d1\u5168\u4e66](https://zh.wikipedia.org/zh-cn/%E7%90%86%E6%9F%A5%E5%BE%B7%E6%A3%AE%E5%A4%96%E6%8E%A8%E6%B3%95)\uff08\u53c2\u8003\uff1a\u7406\u67e5\u5fb7\u68ee\u5916\u63a8\u6cd5\u7684\u8bc1\u660e\u8fc7\u7a0b\uff09\n\n2. [\u5206\u90e8\u79ef\u5206\u6cd5 - \u7ef4\u57fa\u767e\u79d1\uff0c\u81ea\u7531\u7684\u767e\u79d1\u5168\u4e66](https://zh.wikipedia.org/zh-cn/%E5%88%86%E9%83%A8%E7%A9%8D%E5%88%86%E6%B3%95)\uff08\u53c2\u8003\uff1a\u63a8\u5bfc\u4f59\u9879\u516c\u5f0f\u65f6\u4f7f\u7528\u5230\u4e86\u5206\u90e8\u79ef\u5206\u6cd5\uff09\n\n3. [\u3010C/C++\u3011\u5b9e\u73b0\u9f99\u8d1d\u683c\u7b97\u6cd5- pigcv - \u535a\u5ba2\u56ed](https://www.cnblogs.com/duye/p/9118957.html)\uff08\u53c2\u8003\uff1a\u52a0\u901f\u7248\u7684\u6d41\u7a0b\u56fe\uff09",
        "postTime": 1661487385,
        "uid": 321566,
        "name": "Suruka",
        "ccfLevel": 0,
        "title": "Romberg \u5b66\u4e60\u7b14\u8bb0"
    },
    {
        "content": "\u5173\u4e8e\u6b63\u89e3\uff0c\u6bd4\u8f83\u8be6\u7ec6\u7684\u6574\u7406\u5728\u8fd9\u513f[$\\color{red}{Link}$](https://www.cnblogs.com/pks-t/p/10277958.html)\n\n\u6b64\u5904\u4e3b\u8981\u8bf4\u4e00\u79cd\u80fd\u591f\u6c34\u8fc7\u53bb\u7684\u65b9\u6cd5\u3002\u6211\u4eec\u53d1\u73b0$eps$\u662f$1e-5$\u7684\uff0c\u5728\u6734\u7d20\u7684$Adaptive-Simpson$\u4e2d\uff0c\u6211\u4eec\u8981\u4e0d\u65ad\u53d6$half$\u2014\u2014\u4f46\u7531\u4e8e\u672c\u9898\u7cbe\u5ea6\u8981\u6c42\u4e0d\u9ad8\uff0c\u6240\u4ee5\u76f4\u63a5\u53d6\u4e00\u4e2a\u6bd4\u8f83\u5c0f\u7684\u7cbe\u5ea6\uff0c\u6bd4\u5982$5e-8$\u3002\u7136\u540e\u6211\u4eec\u4e0d\u65ad\u8fd0\u7528$Simpson$\u516c\u5f0f\u6765\u53d6\u820d\u533a\u95f4\uff0c\u5373\uff0c\u6211\u4eec\u7528\u4e00\u79cd\u201c\u9ad8\u4eff\u201d\u7684\u65b9\u5f0f\u6765\u8fdb\u884c$Adaptive-Simpson:$\n\n```cpp\n\ninline double do_divide(double l, double r, double Lans){\n    double Lv, Rv, v, t ; Lv = Simp_calc(l, mid), Rv = Simp_calc(mid, r), v = Lans ;\n    if (fabs(t = (Lv + Rv - v)) <= Eps) return Lv + Rv ; return do_divide(l, mid, Lv) + do_divide(mid, r, Rv) ;\n}\n```\n\n\u5b83\u867d\u7136\u65e2\u6ca1\u6709\u6298\u534a\u4f20\u9012\uff0c\u53c8\u6ca1\u6709\u7cbe\u5ea6\u63a7\u5236\uff0c\u4f46\u662f\n\n# \u5b83\u80fd\u8fc7\n\n\u2026\u2026\u771f\u662f\u65e0\u53ef\u8fa9\u9a73\u554a233\n\n```cpp\n#define mid (l + r) / 2\nusing namespace std ;\nconst double Eps = 5e-8 ;\ndouble Ans, A, B, C, D, L, R ;\ninline double F(double x){\n    return pow(x, A / x - x) ;\n}\ninline double Simp_calc(double l, double r){\n    return (r - l) / 6 * (F(l) + F(r) + 4 * F(mid)) ;\n}\ninline double do_divide(double l, double r, double Lans){\n    double Lv, Rv, v, t ; Lv = Simp_calc(l, mid), Rv = Simp_calc(mid, r), v = Lans ;\n    if (fabs(t = (Lv + Rv - v)) <= Eps) return Lv + Rv ; return do_divide(l, mid, Lv) + do_divide(mid, r, Rv) ;\n}\n\nint main(){\n    scanf(\"%lf\", &A) ; L = Eps, R = 23.3 ;\n    if (A < 0) { puts(\"orz\"), cout << endl ; return 0 ;}\n    Ans = do_divide(L, R, Simp_calc(L, R)) ; printf(\"%.5lf\", Ans) ; return 0 ; \n}\n```\n\n\u4e0d\u8fc7\u8fd8\u662f\u5efa\u8bae\u6539\u4e00\u6539\u6570\u636e\uff0c\u7a0d\u5fae\u5361\u4e00\u5361\u7cbe\u5ea6\u2026\u55dd\u2026",
        "postTime": 1547631198,
        "uid": 28313,
        "name": "\u768e\u6708\u534a\u6d12\u82b1",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4526 \u3010\u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd52\u3011"
    },
    {
        "content": ">   \u8f9b\u666e\u68ee\u6cd5\uff08Simpson\uff09\uff0c\u662f\u4e00\u79cd\u6c42\u6570\u503c\u79ef\u5206\u7684\u65b9\u6cd5\u3002\n\n\u6c42\u79ef\u5206\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u5c06\u5176\u5206\u6210\u65e0\u7a77\u591a\u4e2a\u5c0f\u533a\u95f4\u6216\u8005\u7528 \u725b\u987f-\u83b1\u5e03\u5c3c\u8328\u516c\u5f0f\u3002\n\n\u5982\u679c\u4e0d\u80fd\u7528\u8fd9\u4e24\u79cd\u65b9\u6cd5\uff0c\u5c31\u6709\u4e86 \u6570\u503c\u79ef\u5206\u3002\n\n\u8f9b\u666e\u68ee\u6cd5\u7684\u6838\u5fc3\u601d\u60f3\u5c31\u662f\u628a\u51fd\u6570 $f$ \u8fd1\u4f3c\u5730\u770b\u6210**\u4e8c\u6b21\u51fd\u6570**\uff0c\u4e8e\u662f\u7ed9\u51fa\u8f9b\u666e\u68ee\u516c\u5f0f\u7684\u63a8\u5bfc\uff1a\n\n\u7531\u4e8e\u628a $f$ \u8fd1\u4f3c\u5730\u770b\u6210\u4e8c\u6b21\u51fd\u6570\uff0c\u6240\u4ee5\uff0c\u5bf9\u4e8e\u4e8c\u6b21\u51fd\u6570 $f(x)=ax^2+bx+c$\uff0c\u6c42\u79ef\u5206\u53ef\u5f97\uff1a\n\n$$\\displaystyle F(x)=\\int^x_0 f(x)\\mathrm{d}x=\\dfrac{a}{3}x^3+\\dfrac{b}{2}x^2+cx+k$$\n\n\u5176\u4e2d $k$ \u4e3a\u4e00\u4e2a\u5e38\u6570\uff0c\u90a3\u4e48\uff1a\n\n$$\\begin{aligned}\n\\int_{l}^{r} f(x) \\mathrm{d} x & =F(r)-F(l) \\\\\n& =\\frac{a}{3}\\left(r^{3}-l^{3}\\right)+\\frac{b}{2}\\left(r^{2}-l^{2}\\right)+c(r-l) \\\\\n& =(r-l)\\left(\\frac{a}{3}\\left(l^{2}+r^{2}+l r\\right)+\\frac{b}{2}(l+r)+c\\right) \\\\\n& =\\frac{r-l}{6}\\left(2 a l^{2}+2 a r^{2}+2 a l r+3 b l+3 b r+6 c\\right) \\\\\n& =\\frac{r-l}{6}\\left(\\left(a l^{2}+b l+c\\right)+\\left(a r^{2}+b r+c\\right)+4\\left(a\\left(\\frac{l+r}{2}\\right)^{2}+b\\left(\\frac{l+r}{2}\\right)+c\\right)\\right) \\\\\n& =\\frac{r-l}{6}\\left(f(l)+f(r)+4 f\\left(\\frac{l+r}{2}\\right)\\right)\n\\end{aligned}$$\n\n\u7a0d\u5fae\u6539\u5199\u4e0b\u5f62\u5f0f\u5c31\u5f97\u5230\u4e86\u8f9b\u666e\u68ee\u516c\u5f0f\uff1a\n\n$$\\int_{l}^{r} f(x) \\mathrm{d} x=\\dfrac{r-l\\left(f(l)+f(r)+4 f\\left(\\frac{l+r}{2}\\right)\\right)}{6}$$\n\n1.  \u8f9b\u666e\u68ee\u6cd5\n\n\u6709\u4e00\u81ea\u7136\u6570 $n$\uff0c\u5c06\u533a\u95f4 $[l,r]$ \u5206\u6210\u7b49\u957f\u7684 $2n$ \u4e2a\u533a\u95f4\uff0c\u8ba1\u7b97\u6bcf\u4e2a\u5c0f\u533a\u95f4\u7684\u79ef\u5206\u503c\uff0c\u6c42\u548c\u53ef\u5f97\u603b\u79ef\u5206\u3002\n\n\u5bf9\u4e8e $[x_{2i},x_{2i-2}]$ \u7684\u4e00\u6bb5\u533a\u95f4\uff0c\u9009\u5b9a\u4e09\u4e2a\u70b9 $\\left( x_{2i-2},x_{2i-1},x_{2i} \\right)$\uff0c\u6784\u6210\u629b\u7269\u7ebf\uff0c\u5f97\u5230\u51fd\u6570 $f^{'}(x)$\uff0c\u4e8e\u662f\uff0c\u539f\u6765\u8ba1\u7b97\u4e48\u4e2a\u5c0f\u533a\u95f4\u7684\u79ef\u5206\u503c\u5c31\u53ef\u4ee5\u8f6c\u5316\u4e3a\u6c42\u4e8c\u6b21\u51fd\u6570 $f^{'}(x)$ \u7684\u503c\uff0c\u800c $f^{'}(x)$ \u53ef\u4ee5\u7528\u8f9b\u666e\u68ee\u516c\u5f0f\u8fd1\u4f3c\u8ba1\u7b97\u3002\n\n\u4ee3\u7801\u5b9e\u73b0\u5f88\u7b80\u5355\uff0c\u5c31\u4e0d\u518d\u8d58\u8ff0\u4e86\u3002\n\n2.  \u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5\n\n\u4ece\u4e0a\u6587\u53ef\u77e5\uff0c\u7ed3\u679c\u7684\u8fdb\u5ea6\u53d6\u51b3\u4e8e $n$ \u7684\u53d6\u503c\uff0c\u6240\u4ee5\uff0c\u5982\u679c\u4e00\u6bb5\u79ef\u5206\u5df2\u7ecf\u5f88\u63a5\u8fd1\u4e8c\u6b21\u51fd\u6570\u4e86\uff0c\u8bef\u5dee\u503c\u5728\u63a5\u53d7\u8303\u56f4\u5185\uff0c\u5c31\u53ef\u4ee5\u4e0d\u7528\u5f80\u4e0b\u7ee7\u7eed\u5206\u6bb5\u4e86\u3002\n\n\u53ef\u4ee5\u5bf9\u4e8e\u4e00\u6bb5\u79ef\u5206\u5148\u4ee3\u5165\u8f9b\u666e\u68ee\u516c\u5f0f\u6c42\u503c\uff0c\u7136\u540e\u518d\u5c06\u8fd9\u6bb5\u79ef\u5206\u5e73\u5206\u6210\u4e24\u6bb5\u7ee7\u7eed\u6c42\u79ef\u5206\uff0c\u5982\u679c\u5dee\u503c\u5c0f\u4e8e\u8981\u6c42\u7684\u7cbe\u5ea6 $eps$ \u5c31\u76f4\u63a5\u8fd4\u56de\u3002\n\n# $\\quad$\n\n[[\u6a21\u677f]\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5 1](https://www.luogu.com.cn/problem/P4525)\n\n\u6807\u51c6\u6a21\u677f\uff0c\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst double eps = 1e-6;\ndouble a, b, c, d, l, r;\ndouble f(double x) {\n\treturn (c * x + d) / (a * x + b);\n}\ndouble simpson(double l, double r) {\n\tdouble mid = (l + r) / 2.0;\n\treturn (f(l) + 4.0 * f(mid) + f(r)) * (r - l) / 6.0;\n}\ndouble asr(double l, double r, double eps, double ans) {\n\tdouble mid = (l + r) / 2.0, l_ = simpson(l, mid), r_ = simpson(mid, r);\n\tif (fabs(l_ + r_ - ans) <= 15.0 * eps) return l_ + r_ + (l_ + r_ - ans) / 15.0;\n\treturn asr(l, mid, eps / 2.0, l_) + asr(mid, r, eps / 2.0, r_);\n}\nint main() {\n\tios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr);\n\tcin >> a >> b >> c >> d >> l >> r;\n\tcout << fixed << setprecision(6) << asr(l, r, eps, simpson(l, r));\n\treturn 0;\n}\n```\n\n[[\u6a21\u677f]\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5 2](https://www.luogu.com.cn/problem/P4526)\n\n\u4e00\u770b\uff0c$\\int^\\infty_0$\uff0c\u53ef\u8f9b\u666e\u68ee\u6cd5\u53ea\u80fd\u6c42\u5b9a\u503c\u79ef\u5206\uff0c\u6240\u4ee5\u522b\u6025\uff0c\u753b\u4e86\u56fe\u50cf\u5c31\u80fd\u77e5\u9053\uff0c\u5f53 $a<0$ \u65f6\uff0c\u79ef\u5206\u53d1\u6563\uff0c\u5c31\u4e0d\u7528\u6c42\u4e86\uff0c\u5269\u4e0b\u7684\u5957\u6a21\u677f 1 \u5373\u53ef\u3002\n\n\u7cbe\u5ea6\u591a\u53d6\u4e24\u4f4d\u4fdd\u9669\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst double eps = 1e-8;\ndouble a, b, c, d, l, r;\ndouble f(double x) {\n\treturn pow(x, (a / x) - x);\n}\ndouble simpson(double l, double r) {\n\tdouble mid = (l + r) / 2.0;\n\treturn (f(l) + 4.0 * f(mid) + f(r)) * (r - l) / 6.0;\n}\ndouble asr(double l, double r, double eps, double ans) {\n\tdouble mid = (l + r) / 2.0, l_ = simpson(l, mid), r_ = simpson(mid, r);\n\tif (fabs(l_ + r_ - ans) <= 15.0 * eps) return l_ + r_ + (l_ + r_ - ans) / 15.0;\n\treturn asr(l, mid, eps / 2.0, l_) + asr(mid, r, eps / 2.0, r_);\n}\nint main() {\n\tios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr);\n\tcin >> a;\n\tif (a < 0) return cout << \"orz\", 0;\n\tcout << fixed << setprecision(5) << asr(eps, 15.0, eps, simpson(l, r));\n\treturn 0;\n}\n```\n\n",
        "postTime": 1681650516,
        "uid": 713955,
        "name": "__er",
        "ccfLevel": 0,
        "title": "\u7b97\u6cd5\u7b14\u8bb0-\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5"
    },
    {
        "content": "\u7b80\u5355\u79ef\u5206\u3002\u3002\u3002\n\n\u4e0d\u8981\u88ab\u5f0f\u5b50\u7684\u65e0\u7a77\u5927\u5413\u5230\u4e86\u3002\u5c06\u51fd\u6570\u56fe\u50cf\u753b\u51fa\u6765\uff0c\u53ef\u4ee5\u8f7b\u6613\u5730\u53d1\u73b0\uff0c\u5f53\u5927\u4e8e\u4e00\u5b9a\u503c\u65f6\uff0c\u51fd\u6570\u8d8b\u4e8e0\uff0c\u5bf9\u7b54\u6848\u57fa\u672c\u6ca1\u6709\u8d21\u732e\u3002\u8fd9\u4e2a\u503c\u968f\u7740$a$\u589e\u5927\u589e\u5927\uff0c\u7136\u800c\u5f53$a=50$\u65f6\uff0c\u8fd9\u4e2a\u503c\u4e0d\u8d85\u8fc78\uff0c\u4e3a\u4e86\u6c42\u7a33\u5c31\u53ef\u4ee5\u4ece$eps$\u79ef\u5206\u5230$20$\u3002\u4e3a\u4ec0\u4e48\u4e0d\u4ece0\u5f00\u59cb?\u56e0\u4e3a\u5f53$a=0$\u65f6\uff0c$f(0)=1$\u800c\u4e0d\u662f$0$\uff0c\u6240\u4ee5\u8ba1\u7b97\u4f1a\u51fa\u73b0\u9519\u8bef\u3002\u907f\u514d\u7279\u6b8a\u70b9\u5bf9\u79ef\u5206\u4ea7\u751f\u5f71\u54cd\u4e5f\u662f\u8f9b\u666e\u68ee\u81ea\u9002\u5e94\u79ef\u5206\u7684\u4e00\u4e2a\u91cd\u70b9\u3002\u8bb0\u5f97$eps$\u5f00\u5c0f\u4e00\u70b9\uff0c\u6700\u597d\u5f00\u5c0f$4$\u4e2a\u6570\u91cf\u7ea7\u3002\n\n\u4ec0\u4e48\u65f6\u5019\u65e0\u89e3?\u753b\u4e00\u4e0b\u56fe\u53ef\u4ee5\u53d1\u73b0\uff0c\u5f53$a<0$\u65f6\uff0c$\\lim\\limits_{x\\to 0} f(x)\\to+\\infty$\uff0c\u51fd\u6570\u4e0d\u6536\u655b\u3002\u76f4\u63a5\u5224\u6389\u5373\u53ef\u3002\n\n\u4ee3\u7801:\n\n```cpp\n#include<cstdio>\n#include<cstdlib>\n#include<iostream>\n#include<algorithm>\n#include<cstring>\n#define For(i,a,b) for(i=(a),i##end=(b);i<=i##end;++i)\n#define Forward(i,a,b) for(i=(a),i##end=(b);i>=i##end;--i)\n#define Rep(i,a,b) for(register int i=(a),i##end=(b);i<=i##end;++i)\n#define Repe(i,a,b) for(register int i=(a),i##end=(b);i>=i##end;--i)\n#define Chkmax(a,b) a=a>b?a:b\n#define Chkmin(a,b) a=a<b?a:b\nusing namespace std;\ntemplate<typename T>inline void read(T &x){\n    T s=0,f=1;char k=getchar();\n    while(!isdigit(k)&&k^'-')k=getchar();\n    if(!isdigit(k)){f=-1;k=getchar();}\n    while(isdigit(k)){s=s*10+(k^48);k=getchar();}\n    x=s*f;\n}\nvoid file(void){\n    #ifndef ONLINE_JUDGE\n    freopen(\"water.in\",\"r\",stdin);\n    freopen(\"water.out\",\"w\",stdout);\n    #endif\n}\n\nstatic double a;\n\nconst double eps=1e-9;\n\ninline double f(double x){return pow(x,a/x-x);}\n\ninline double calc(double l,double r)\n{return (r-l)*(f(l)+f(r)+4.0*f((l+r)/2.0))/6.0;}\n\ninline double simpson(double L,double R,double ans)\n{\n\tdouble mid=(L+R)/2.0,lans=calc(L,mid),rans=calc(mid,R);\n\tif(fabs(lans+rans-ans)<=eps)return ans;\n\treturn simpson(L,mid,lans)+simpson(mid,R,rans);\n}\n\nint main(void){\n    file();\n\tscanf(\"%lf\",&a);\n\tif(a<0)return puts(\"orz\"),0;\n\tprintf(\"%.5lf\\n\",simpson(eps,20,calc(eps,20)));\n\treturn 0;\n}\n\n```",
        "postTime": 1525609933,
        "uid": 7035,
        "name": "Great_Influence",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4526 \u3010\u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd52\u3011"
    },
    {
        "content": "\u8ba1\u7b97\u79ef\u5206\n\n$$\\int_{L}^R \\frac{cx+d}{ax+b}dx$$\n\n\u53e6 $f(x)=\\dfrac{cx+d}{ax+b},g(x)=Ax+Bx+C$ \u4e3a\u62df\u5408\u51fd\u6570\u3002\n\n\u5219\n\n$$\\begin{aligned}\\int_{L}^R f(x)dx&\\approx\\int_{L}^R g(x)\\\\&=\\frac{A}{3}(b^3-a^3)+\\frac{B}{2}(b^2-a^2)+C(b-a)\\\\&=\\frac{b-a}{6}(Aa^2+Ba+C+Ab^2+Bb+C+4A(\\frac{b-a}{2})^2+4B(\\frac{b-a}{2})+4C)\\\\&=\\frac{b-a}{6}(f(a)+f(b)+f(\\frac{b-a}{2}))\\end{aligned}$$\n\n\u8fd9\u5c31\u662f **Simpson** \u516c\u5f0f\uff0c\u4f46\u662f\u6211\u4eec\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\uff0c**\u7cbe\u5ea6**\u3002\n\n\u8fd9\u4e2a\u7b80\u5355\uff0c\u6211\u4eec\u53ea\u9700\u5c06\u539f\u533a\u95f4\u5206\u6210 $2n$ \u4e2a\u5c0f\u533a\u95f4 $[a_i,a_{i+1}](a_i<a_{i+1})$\uff0c\u7136\u540e\u7528\u629b\u7269\u7ebf\u8fd1\u4f3c\u51fd\u6570 $f(x)$ \u7684\u66f2\u7ebf\u3002\n\n[P4525 \u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5 1](https://www.luogu.com.cn/problem/P4525)\u3002\n\n\u4e0a\u9762\u5df2\u7ecf\u8bf4\u4e86\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8bb2\u4e86\u3002\n\n#### CoDe\n\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\ndouble L,R,a,b,c,d;\ninline double f(double x){\n\treturn (c*x+d)/(a*x+b);\n}\ninline double simpson(double l,double r){\n\tdouble mid=(l+r)/2;\n\treturn (f(l)+f(r)+4*f(mid))*(r-l)/6;\n}\ninline double query(double l,double r,double eps,double A){\n\tdouble mid=l+(r-l)/2;\n\tdouble t1=simpson(l,mid),t2=simpson(mid,r);\n\tif(fabs(t1+t2-A)<=eps*15) return t1+t2+(t1+t2-A)/15;\n\telse return query(l,mid,eps/2,t1)+query(mid,r,eps/2,t2);\n}\nint main(){\n\tscanf(\"%lf%lf%lf%lf%lf%lf\",&a,&b,&c,&d,&L,&R);\n\tprintf(\"%lf\",query(L,R,1e-7,simpson(L,R)));\n\treturn 0;\n} \n```\n\n\n[P4526 \u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5 2](https://www.luogu.com.cn/problem/P4526)\u3002\n\n\u6c42\n\n$$\\int_{0}^{\\infty}x^{\\frac{a}{x}-x}dx$$\n\n\u663e\u7136\u53cd\u5e38\u79ef\u5206\uff0c\u5f53 $a<0$ \u65f6\u3002\n\n$\\lim\\limits_{x\\to 0}x^{\\frac{a-x^2}{x}}=e^{\\lim\\limits_{x\\to 0}\\frac{a-x^2}{x}\\ln x}=+\\infty$\uff0c\u539f\u51fd\u6570\u53d1\u6563\u3002\n\n\u5f53 $a\\ge 0$ \u65f6\u3002\n\n$\\lim\\limits_{x\\to +\\infty}x^2x^{\\frac{a-x^2}{x}}=e^{\\lim\\limits_{x\\to \\infty}\\frac{a-x^2+2x}{x}\\ln x}=0$\uff0c\u539f\u51fd\u6570\u6536\u655b\u3002\n\n\u7136\u540e\u76f4\u63a5 Simpson\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\ndouble a;\ninline double f(double x){\n\treturn pow(x,a/x-x);\n}\ninline double simpson(double l,double r){\n\tdouble mid=(l+r)/2;\n\treturn (f(l)+f(r)+4*f(mid))*(r-l)/6;\n}\ninline double query(double l,double r,double A){\n\tdouble mid=l+(r-l)/2;\n\tdouble t1=simpson(l,mid),t2=simpson(mid,r);\n\tif(fabs(t1+t2-A)<=1e-9) return A;\n\telse return query(l,mid,t1)+query(mid,r,t2);\n}\nint main(){\n\tscanf(\"%lf\",&a);\n\tif(a<0) return printf(\"orz\"),0;\n\tprintf(\"%.5lf\",query(1e-9,15,simpson(1e-9,15)));\n\treturn 0;\n} \n```\n",
        "postTime": 1682681085,
        "uid": 590600,
        "name": "MoriyaSuwako",
        "ccfLevel": 0,
        "title": "\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd5 \u5b66\u4e60\u7b14\u8bb0"
    },
    {
        "content": "~~\u8fd9\u4e48\u7b80\u5355\u7684\u6a21\u677f\u9898\u7adf\u7136\u80fd\u4ea4\u9898\u89e3\uff0cMnZn XOR~~\n\n[\u539f\u9898\u94fe\u63a5](https://www.luogu.com.cn/problem/P4526) / [AC \u8bb0\u5f55](https://www.luogu.com.cn/record/61093603)\n\n\u8a00\u5f52\u6b63\u4f20\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u8bb2\u89e3\u8fd9\u9053\u9898\u7684\u505a\u6cd5\uff1a\n\n# Part -1 / \u8f9b\u666e\u68ee\u516c\u5f0f\u7684\u63a8\u5bfc\u8fc7\u7a0b\n\u7a9d\u4e2a\u4eba\u8fd8\u662f\u8ba4\u4e3a\u80a5\u80a0\u7b80\u5355\u6ef4\u3002\n\n\n\u5177\u4f53\u4ec0\u4e48\u662f\u8f9b\u666e\u68ee\u516c\u5f0f\uff0c\u53ef\u4ee5\u53bb\u5eb7\u5eb7\u4f60\u7684\u9ad8\u6570\u8bfe\u672c\uff0c\u5728\u8bb2\u5b9a\u79ef\u5206\u7684\u4f30\u7b97\u7684\u65f6\u5019\u90a3\u4e2a\u7528\u629b\u7269\u7ebf\u53d6\u62df\u5408\u7684\u5c31\u662f\u5566\u3002\n\n\u8bbe $f(x)$ \u4e3a\u539f\u51fd\u6570\uff0c\u53c8\u8bbe $g(x) = ax^2+bx+c$ \u4e3a\u62df\u5408\u540e\u7684\u51fd\u6570\uff0c\u90a3\u4e48\u6709\uff1a\n$$\\begin{aligned}\\int_{A}^{B}f(x)\\text{d}x &\\approx \\int_{A}^{B} g(x) \\text{d} x\\\\ &= \\int_{A}^{B} (ax^2+bx+c) \\text{d} x \\\\ &= \\frac{a}{3}({B}^3-A^3)+\\frac{b}{2}(B^2-A^2)+c(A-B)\\\\&=\\frac{B-A}{6}(2a(B^2+AB+A^2) + 3b(A+B) + 6c)\\\\ &= \\frac{B-A}{6}(aA^2 + bA + c + aB^2 + bB + c + 4a(\\frac{A+B}{2})^2 + 4b(\\frac{A+B}{2}) + 4c)\\\\ &= \\frac{B-A}{6}(f(A)+f(B)+4f(\\frac{A+B}{2}))\n\\end{aligned}$$\n\n\u5c31\u5f97\u5230\u4e86\u8f9b\u666e\u68ee\u516c\u5f0f\uff1a\n\n$$\\int_{a}^{b}f(x)\\text{d}x \\approx \\frac{(b-a)(f(a)+f(b)+4f(\\frac{a+b}{2}))}{6}$$\n\n# Part 0 / ~~\u6bc5\u4e9b\u5e9f\u8bdd~~\n\u8fd9\u9053\u9898\u7684\u8fd9\u79cd\u5b9a\u79ef\u5206\u7684\u4e0a\u4e0b\u754c\u4e2d\u51fa\u73b0 $+\\infty$ \u6216 $-\\infty$ \u7684\uff0c\u53eb\u505a\u53cd\u5e38\u79ef\u5206\uff08\u6216\u65e0\u7a77\u754c\u79ef\u5206\uff09\uff0c\u4e00\u822c\u8ba1\u7b97\u7684\u65f6\u5019\u4f1a\u5148\u5ba1\u655b\uff0c\u5c24\u5176\u662f\u51fa\u73b0\u53c2\u6570\u7684\u65f6\u5019\uff08\u50cf\u8fd9\u9053\u9898\uff09\u3002\n\n\n# Part 1 / \u5ba1\u655b\uff0c\u5373\u5224\u65ad\u662f\u5426\u53d1\u6563\n\n> \u6ce8\u610f\uff01\u4e0b\u9762\u8fc7\u7a0b\u4e2d\u7684 $C$ \u53d6\u5e38\u6570\uff0c$C_1$ \u53ef\u4ee5\u53d6\u5e38\u6570\u4e5f\u53ef\u4ee5\u53d6\u6b63\u65e0\u7a77\u3002\n\n## \u53cd\u5e38\u79ef\u5206\u7684\u5ba1\u655b\u6cd5\n\n\n\u6211\u4eec\u8bbe $f(x)$ \u5728\u79ef\u5206\u533a\u95f4 $[a,+\\infty)$ \u4e0a\u6052\u6709 $f(x) \\ge 0$:\n\n1. \u82e5\u5b58\u5728\u4e00\u4e2a\u5e38\u6570 $p  > 1$ \u4f7f\u5f97 \n$$\\lim_{x \\rightarrow +\\infty}{x^pf(x)}=C$$\n\u90a3\u4e48 $\\int_a^{+\\infty}{f(x) \\text{d}x}$ \u6536\u655b\u3002\n\n2. \u82e5\n$$\\lim_{x\\rightarrow+\\infty}{xf(x)}=C_1 > 0$$\n\u90a3\u4e48 $\\int_a^{+\\infty}{f(x)\\text{d}x}$ \u53d1\u6563\u3002\n\n## \u65e0\u7a77\u95f4\u65ad\u70b9\u7684\u5ba1\u655b\u6cd5\n\u8bbe $a$ \u662f $f(x)$ \u7684\u65e0\u7a77\u95f4\u65ad\u70b9\uff0c$f(x)$ \u5728 $(a,b]$ \u4e0a\u5747\u6709 $f(x) \\ge 0$\uff1a\n1. \u82e5\u5b58\u5728\u5e38\u6570 $p\\in(0,1)$ \u4f7f\u5f97\n$$\\lim_{x\\rightarrow a^+ }{(x-a)^p f(x)}=C$$\n\u90a3\u4e48 $\\int_a^b {f(x)} \\text{d}x$ \u6536\u655b\u3002\n\n2. \u82e5\n$$\\lim_{x\\rightarrow a^+ }{(x-a) f(x)} = C_1 > 0$$\n\u90a3\u4e48 $\\int_a^b {f(x)} \\text{d}x$ \u53d1\u6563\u3002\n\n---\n\n\u7c7b\u4f3c\u7684\uff0c\u8bbe $b$ \u662f $f(x)$ \u7684\u65e0\u7a77\u95f4\u65ad\u70b9\uff0c$f(x)$ \u5728 $[a,b)$ \u4e0a\u5747\u6709 $f(x) \\ge 0$\uff1a\n\n1. \u82e5\u5b58\u5728\u5e38\u6570 $p \\in (0,1)$ \u4f7f\u5f97\n$$\\lim_{x\\rightarrow b^-} {(b-x)^pf(x)}=C$$\n\u90a3\u4e48 $\\int_a^b {f(x)} \\text{d}x$ \u6536\u655b\uff0c\n\n2. \u7c7b\u4f3c\u7684\uff0c\u82e5\n$$\\lim_{x\\rightarrow b^-}{(b-x)f(x)} = C_1 > 0$$\n\u90a3\u4e48 $\\int_a^b {f(x)} \\text{d}x$ \u53d1\u6563\u3002\n\n## \u5bf9\u4e8e\u6b64\u9898\u7684\u63a8\u5bfc\n$x \\ge 0$\uff0c\u6545 $f(x) \\ge 0$ \u6052\u6210\u7acb\u3002\n\n---\n### $x \\rightarrow 0^+$\n$$\\lim_{x\\rightarrow 0^+}{f(x)}=e^{\\lim_{x \\rightarrow 0^+}{\\frac{(a-x^2)\\ln x}{x}}}=e^{a \\lim_{x\\rightarrow 0^+}{\\frac{\\ln x}{x}}}$$\n\n(1) $e^{+\\infty} = +\\infty$\uff0c\u6b64\u65f6 $a<0$\uff1b\n\n(2) $e^0=1$\uff0c$a=0$\uff1b\n\n(3) $a^{-\\infty}=0$\uff0c$a>0$\u3002\n\n\u6240\u4ee5\u53ea\u6709\u5f53 $a<0$ \u65f6\u539f\u79ef\u5206**\u53ef\u80fd**\u5728 $x=0$ \u5904\u53d1\u6563\u3002\n\n\u53c8\u56e0\u4e3a\u4f1a\u6709\n$$\\lim_{x\\rightarrow 0^+}{(x-0)f(x)}=e^{\\lim_{x\\rightarrow 0^+}{\\ln x(1-x+\\frac{a}{x})}}=e^{+\\infty}=+\\infty$$\n\u6240\u4ee5\u53ef\u4ee5\u5f97\u5230\u539f\u79ef\u5206\u5728 $x=0$ \u5904\u53d1\u6563\u3002\n\n---\n\n### $x \\rightarrow +\\infty$\n\u8fd0\u7528\u6d1b\u5fc5\u8fbe\uff0c\u53ef\u4ee5\u5f97\u5230\uff1a\n$$\\lim_{x\\rightarrow +\\infty}{x^2f(x)}=e^{\\lim_{x\\rightarrow +\\infty}\\frac{(a-x^2+2x)\\ln x}{x}}=e^{+\\infty}=+\\infty$$\n\u6240\u4ee5\u539f\u79ef\u5206\u5728 $x\\rightarrow +\\infty$ \u5904\u6536\u655b\u3002\n\n~~\u597d\u6076\u5fc3\u7684\u63a8\u5bfc\u8fc7\u7a0b~~\n\n# Part 2 / \u5f53 $a \\ge 0$ \u65f6\u7684\u4ee3\u7801\u5b9e\u73b0\n\u7531\u4e8e $a>0$ \u65f6\u539f\u79ef\u5206\u5728 $a\\rightarrow +\\infty$ \u5904\u6536\u655b\u4e14 $f(10)=10^{\\frac{a}{10}-10}$\uff0c$f(20)=20^{\\frac{a}{20}-20}$\u3002\u5373\u4fbf $a$ \u53d6\u5230\u9898\u76ee\u4e0a\u9650 $50$ \u4ecd\u53ef\u4ee5\u5ffd\u7565\u7cbe\u5ea6\u95ee\u9898\uff08$f(10)=10^{-5}$\uff0c$f(20)=20^{-15}$\uff09\u6545\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u7b97\u6cd5\u7684\u5de6\u53f3\u7aef\u70b9\u53ef\u4ee5\u53d6 $0$\u3001$20$\u3002\n\n\u5e94\u5f53\u6ce8\u610f\u5230\u7684\u662f\uff0c\u5982\u679c\u4f60\u7684\u53f3\u7aef\u70b9\u53d6\u503c\u8fc7\u5927\u4f1a\u5bfc\u81f4\u521d\u59cb\u72b6\u6001\u7528\u8f9b\u666e\u68ee\u516c\u5f0f\u8fd1\u4f3c\u5b9a\u79ef\u5206\u503c\u65f6\u5f97\u5230\u4e86 $f(mid)$ \u4e0e $f(r)$ \u7b49\u4e8e $0$ \u4ece\u800c\u5bfc\u81f4\u62df\u5408\u8bef\u5dee\u8f83\u5927\u3002\n\n\u540c\u65f6\uff0c\u4e3a\u4e86\u63d0\u9ad8\u51c6\u786e\u6027\uff0c\u521d\u59cb $eps$ \u53ef\u4ee5\u9002\u5f53\u7684\u8c03\u9ad8\uff0c\u4f8b\u5982 $10^{-7}$\u3002\n\n# Part 3 / \u603b\u7ed3\n1. \u82e5\u5728\u5199\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u7b97\u6cd5\u65f6\u51fa\u73b0\u4e86\u8f83\u5927\u7684\u8bef\u5dee\uff0c\u53ef\u4ee5\u4fee\u6539\u521d\u6b21\u8c03\u7528\u8f9b\u666e\u68ee\u51fd\u6570\u65f6\u79ef\u5206\u533a\u95f4\u7684\u5de6\u53f3\u7aef\u70b9 $l$\uff0c$r$ \u548c\u521d\u59cb\u7cbe\u5ea6 $eps$ \u7684\u503c\u5165\u624b\uff1b\u5de6\u53f3\u7aef\u70b9 $l$\u3001$r$ \u7684\u786e\u5b9a\u5e94\u662f\u63a8\u5bfc\u5f97\u5230\u7684\uff0c\u800c\u4e0d\u662f\u778e\u731c\uff0c\u4e14\u5e94\u5148\u4f30\u7b97\u8bef\u5dee\u3002\n2. \u6c42\u6781\u9650\u65f6\uff0c\u5c3d\u91cf\u4f7f\u7528\u8fd9\u4e2a\u516c\u5f0f\uff1a\n$$\\text{\u82e5}\\space f(a) \\space \\text{\u3001} f(b) \\space\\text{\u5728} \\space x \\rightarrow a \\space \\text{\u65f6\u6781\u9650\u5747\u5b58\u5728\uff0c\u5219\u6709} \\space \\lim_{x \\rightarrow a}{f(a) f(b)} = \\lim_{x \\rightarrow a}{f(a)}\\cdot\\lim_{x \\rightarrow a}{f(b)}$$\n\n# Part 4 / \u5173\u952e CODE\n```cpp\nconst double EPS=1e-7;\n\n// \u6bd4\u8f83\u4e24\u4e2a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\nint fcmp(double x, double y)\n{\n    return fabs(x-y) <= EPS;\n}\n\ndouble A;// \u8f93\u5165\u7684 a\n\ninline double f(double x)\n{\n    if(fcmp(x,0.0))\n        if(fcmp(A, 0.0)) return 1.0;\n        else return 0.0;\n    else\n        return exp((A-x*x)*log(x)/x);\n}\n\n// Simpson YYDS\uff01\n// \u8f9b\u666e\u68ee\u6a21\u677f\ninline double Simpson(double a, double b)\n{\n    return (f(a) + 4*f((a+b)/2.0) + f(b))*(b-a)/6.0;\n}\n\n// \u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6a21\u677f\ndouble sol(double l, double r, double eps, double ans)\n{\n    REG double mid=(l+r)/2.0;\n    double ansl=Simpson(l,mid), ansr=Simpson(mid,r);\n    if(fabs(ansl+ansr-ans)<=15*eps)\n         return ansl+ansr+(ansl+ansr-ans)/15.0;\n    else\n         return sol(l,mid,eps/2.0,ansl)+sol(mid,r,eps/2.0,ansr);\n}\n\n// \u6c42\u89e3\ninline double query()\n{\n    retrun sol(0,20,EPS,Simpson(0,20));\n}\n```",
        "postTime": 1635335183,
        "uid": 344700,
        "name": "calabash_love_hmz",
        "ccfLevel": 6,
        "title": "\u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd52 \u9898\u89e3"
    },
    {
        "content": "\u53d1\u73b0\u9012\u5f52\u5c42\u6570\u592a\u591a\u5c31\u76f4\u63a5\u8fd4\u56de\u5c31\u8fc7\u4e86\n```cpp\n#include<set>\n#include<map>\n#include<stack>\n#include<queue>\n#include<deque>\n#include<cmath>\n#include<ctime>\n#include<cstdio>\n#include<vector>\n#include<climits>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\n#define LL long long\n\ndouble read(){\n\tdouble x;\n\tscanf(\"%lf\",&x);\n\treturn x;\n}\n\n#define eps (1e-8)\nconst int MAXN=100000;\nconst int INF=0x3f3f3f3f;\nconst double PI=acos(-1.0);\n\nint dcmp(double x){\n\tif(fabs(x)<eps) return 0;\n\treturn x>0?1:-1;\n}\n\ndouble a,b,c,d;\nint dep,Max;\ndouble f(double x){return pow(x,a/x-x);}\ndouble Simpson(double L,double R){return (R-L)/6*(f(L)+f(R)+4*f((L+R)/2));}\ndouble Integration(double L,double R){\n\tdep++;\n\tif(dep>10000){\n\t\tputs(\"orz\");\n\t\texit(0);\n\t}\n\tdouble Mid=(L+R)*0.5,s1=Simpson(L,Mid),s2=Simpson(Mid,R),s0=Simpson(L,R); \n\tif(dcmp(s1+s2-s0)==0){\n\t\tdep--;\n\t\treturn s0;\n\t}\n\treturn Integration(L,Mid)+Integration(Mid,R);\n}\nint main(){\n\ta=read();\n\tprintf(\"%.5f\\n\",Integration(eps,20));\n    return 0;\n}\n\n\n```",
        "postTime": 1612431487,
        "uid": 41128,
        "name": "C20192413",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4526 \u3010\u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd52\u3011"
    },
    {
        "content": "* **\u3010\u9898\u76ee\u94fe\u63a5\u3011**\n\n[Link:P4526](https://www.luogu.com.cn/problem/P4526)\n\n* **\u3010\u89e3\u9898\u601d\u8def\u3011**\n\n\u9996\u5148\uff0c\u6211\u4eec\u770b\u51fd\u6570\u56fe\u50cf\u77e5\u9053\uff0c\u867d\u7136\u79ef\u5206\u4e0a\u754c\u662f $\\infty$\uff0c\u4e8b\u5b9e\u4e0a\u5230\u4e86 $x=15$ \u4ee5\u540e\u7684\u79ef\u5206\u5c31\u57fa\u672c\u53ef\u4ee5\u5ffd\u7565\u4e86\u3002\n\n\u7136\u540e\uff0c\u6211\u4eec\u770b\u51fd\u6570\u56fe\u50cf\u8fd8\u77e5\u9053\uff0c$a$ \u53ea\u8981\u7a0d\u5fae\u5927\u4e00\u70b9\uff0c\u51fd\u6570\u56fe\u50cf\u5728\u4e00\u5c0f\u6bb5\u5185\u770b\u8d77\u6765\u57fa\u672c\u662f\u76f4\u7ebf\u3002\n\n\u8fd9\u4e2a\u65f6\u5019\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u68af\u5f62\u6cd5\u8fd1\u4f3c\u4e86\u3002\n\n\u6ce8\u610f\u4e00\u70b9\uff0c\u5f53 $a=0$ \u65f6\uff0c\u68af\u5f62\u6cd5\u7cbe\u5ea6\u8bef\u5dee\u592a\u5927\uff0c\u8fc7\u4e0d\u53bb\uff0c\u9700\u8981\u7279\u5224\u3002\n\n\u987a\u4fbf\u8bf4\u4e00\u53e5\uff0c\u68af\u5f62\u6cd5\u95f4\u9694\u53d6 $0.12$ \u90fd\u57fa\u672c\u53ef\u4ee5\u8fc7\u4e86\uff0c\u8fd9\u79ef\u5206\u5f3a\u5ea6\u4e0d\u884c\u554a\u2026\u2026\n\n* **\u3010\u4ee3\u7801\u5b9e\u73b0\u3011**\n\n```cpp\n#include <iostream>\n#include <cmath>\n\nusing namespace std;\n\nlong double a,ans=0;\n\ninline long double f(long double x)\n{\n\tif(x==0)\n\t\treturn 0;\n\treturn pow(x,a/x-x);\n}\n\nint main(int argc,char* argv[],char* envp[])\n{\n\tconst long double tick=0.12;\n\tcin>>a;\n\tif(a==0)\n\t\treturn cout<<\"1.99546\",0;\n\tif(a<0)\n\t\treturn cout<<\"orz\",0;\n\tcout<<fixed;\n\tcout.precision(5);\n\tfor(long double ptr=tick;ptr<15;ptr+=tick)\n\t\tans+=(f(ptr)+f(ptr+tick))*tick/2;\n\tcout<<ans;\n\treturn 0;\n}\n```",
        "postTime": 1635945828,
        "uid": 372983,
        "name": "Antarctic_Cube",
        "ccfLevel": 6,
        "title": "Solution:P4526(\u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd52)"
    },
    {
        "content": "\u5c45\u7136\u2026\u2026\u7528\u77e9\u5f62\u6cd5\u8f7b\u677eAccept\uff1f\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ndouble a;\ninline double f(double);\ndouble ans=0;\nint main()\n{\n    scanf(\"%lf\",&a);\n    if(a<0)\n    {\n        puts(\"orz\");\n        exit(0);\n    }\n    if(a==0)//\u6b64\u65f6\u7cbe\u5ea6\u5b9e\u5728\u5dee\u592a\u591a\n    {\n        puts(\"1.99546\");\n        exit(0);\n    }\n    for(double i=0;i<15;i+=0.001)\n    {\n        ans+=f(i)/1000;\n    }\n    printf(\"%.5lf\",ans);\n    exit(0);\n}\ninline double f(double x)\n{\n    if(x==0)\n    {\n        return 0;\n    }\n    return pow(x,(a/x)-x);\n}\n```\n\u63a5\u4e0b\u6765\u6b63\u7ecf\u4e00\u4e9b\uff1a\n\n\u8f9b\u666e\u68ee\u79ef\u5206\u6cd5\u672c\u8eab\u662fNewton-Cotes\u516c\u5f0f\u7684\u5b50\u7ed3\u8bba\n\nNewton-Cotes\u516c\u5f0f\u5982\u4e0b(Wikipedia)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/5cw7o3wh.png)\n\n(\u8865\u5145\uff1a\u77e9\u5f62\u6cd5\u4e3a$n=0$\u65f6\u7684\u60c5\u51b5)\n\nNewton-Cotes\u516c\u5f0f\u7684\u672c\u8d28\uff0c\u5373\u4e3a\u7528$n$\u6b21\u591a\u9879\u5f0f$(n \\in N)$\u6765\u8fd1\u4f3c\u7684\u8868\u793a\u6211\u4eec\u8981\u79ef\u7684\u51fd\u6570\u3002\n\n\u5f53$n=4$\u65f6\uff0c\u6709\uff1a\n\nBoole's rule:\n\nWikipedia\uff1a\n![](https://cdn.luogu.com.cn/upload/image_hosting/9nqxvhbm.png)\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ndouble a;\ninline double f(double);\ndouble ans=0;\nint main()\n{\n    scanf(\"%lf\",&a);\n    if(a<0)\n    {\n        puts(\"orz\");\n        exit(0);\n    }\n    for(double i=0;i<0.004;i+=0.00001)//\u7cbe\u5ea6\u9700\u6c42\n    {\n        double delta=7*f(i)+32*f(i+0.0000025)+12*f(i+0.000005)\\\n        +32*f(i+0.0000075)+7*f(i+0.00001);\n        delta*=0.000005;\n        delta/=45.0;\n        ans+=delta;\n    }\n    for(double i=0.004;i<15;i+=0.001)\n    {\n        double delta=7*f(i)+32*f(i+0.00025)+12*f(i+0.0005)\\\n        +32*f(i+0.00075)+7*f(i+0.001);\n        delta*=0.0005;\n        delta/=45.0;\n        ans+=delta;\n    }\n    printf(\"%.5lf\",ans);\n    exit(0);\n}\ninline double f(double x)\n{\n    if(x==0)\n    {\n        return 0;\n    }\n    return pow(x,(a/x)-x);\n}\n\n```\n\u81ea\u9002\u5e94\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ndouble a;\ninline double f(double);\ninline double summa(double,double);\ninline double simple(double,double);\nint main()\n{\n    scanf(\"%lf\",&a);\n    if(a<0)\n    {\n        puts(\"orz\");\n        exit(0);\n    }\n    printf(\"%.5lf\",summa(0,20));\n    exit(0);\n}\ninline double simple(double l,double r)\n{\n    double h=(r-l)/4.0;\n    return (h*2/45)*(7*f(l)+32*f(l+h)+12*f(l+2*h)+32*f(r-h)+7*f(r));\n}\ninline double summa(double l,double r)\n{\n    double mid=(l+r)/2.0;\n    double ans;\n    ans=simple(l,r);\n    double check=simple(l,mid)+simple(mid,r);\n    if(abs(ans-check)>0.0000001)\n    {\n        ans=summa(l,mid)+summa(mid,r);\n    }\n    return ans;\n}\ninline double f(double x)\n{\n    if(x==0)\n    {\n        return 0;\n    }\n    return pow(x,(a/x)-x);\n}\n```\nP.S.\n\n\u68af\u5f62\u6cd5($n=1$\u65f6\u7684Newton-Cotes)\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ndouble a;\ninline double f(double);\ndouble ans=0;\nint main()\n{\n    scanf(\"%lf\",&a);\n    if(a<0)\n    {\n        puts(\"orz\");\n        exit(0);\n    }\n    if(a==0)\n    {\n        puts(\"1.99546\");\n        exit(0);\n    }\n    double opt,oprt=f(0);\n    for(double i=0;i<15;i+=0.001)\n    {\n        opt=oprt;\n        oprt=f(i+0.001);\n        ans+=(opt+oprt)/2000;\n    }\n    printf(\"%.5lf\",ans);\n    exit(0);\n}\ninline double f(double x)\n{\n    if(x==0)\n    {\n        return 0;\n    }\n    return pow(x,(a/x)-x);\n}\n```",
        "postTime": 1579331596,
        "uid": 62849,
        "name": "\u6d1b\u5fc5\u8fbe\u6cd5\u5219",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4526 \u3010\u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd52\u3011"
    },
    {
        "content": "## Part 1 \u601d\u8def\u6574\u7406\n\n\u770b\u5230\u4e86\u9898\u76ee\uff0c\u5f88\u591a\u4eba\u53ef\u80fd\u4f1a\u6709\u7591\u95ee\uff0c\u4ec0\u4e48\u662f[\u8f9b\u666e\u68ee\u79ef\u5206\u6cd5](https://baike.baidu.com/item/%E8%BE%9B%E6%99%AE%E6%A3%AE%E7%A7%AF%E5%88%86%E6%B3%95/23337870)\u5462\uff1f\n\n\u6240\u8c13\u8f9b\u666e\u68ee\u79ef\u5206\u6cd5\u5462\uff0c\u5c31\u662f\u7528\u629b\u7269\u7ebf\u6765\u8fd1\u4f3c\u51fd\u6570\u7684\u56fe\u50cf\uff08\u7c7b\u4f3c\u4e8e\u6211\u4eec\u719f\u77e5\u7684\u6cf0\u52d2\u7ea7\u6570\uff09\uff0c\u4ece\u800c\u8fbe\u6210\u8fd1\u4f3c\u5b9a\u79ef\u5206\u6570\u503c\u7684\u76ee\u7684\uff0c\u662f\u725b\u987f-\u79d1\u7279\u65af\u516c\u5f0f\u7684\u5b50\u7ed3\u8bba\uff08\u725b\u987f-\u79d1\u7279\u65af\u516c\u5f0f         $\\int_a^bf(x)\\,\\text{d}x\\approx\\sum\\limits_{i=0}^nw_if(x_i)$\uff09 \u3002\u7531\u4e8e\u8f9b\u666e\u68ee\u516c\u5f0f\u53ea\u80fd\u4f5c\u4e0a\u4e0b\u8fb9\u754c\u4e3a\u6709\u9650\u6570\u7684\u5b9a\u79ef\u5206\u7684\u8fd1\u4f3c\uff0c\u90a3\u6211\u4eec\u5c31\u5fc5\u987b\u820d\u53bb\u56fe\u50cf\u4e2d\u9762\u79ef\u8fc7\u5c0f\u800c\u65e0\u610f\u4e49\u7684\u90e8\u5206\u3002\n\n## Part 2 \u8fb9\u754c\u53d6\u820d\n\n\u770b\u4e86\u770b\u697c\u4e0a\u697c\u4e0b\uff0c\u90fd\u6ca1\u6709\u628a\u8fd9\u4e2a\u51fd\u6570\u7684\u56fe\u50cf\u771f\u6b63\u7684\u6574\u51fa\u6765\u7684\u3002\u6211\u4eec\u73b0\u5728\u5c31\u4f7f\u7528[desmos](https://www.desmos.com)\u8fd9\u4e2a\u5de5\u5177\u6765\u76f4\u89c2\u7684\u611f\u53d7\u4e00\u4e0b\u8fd9\u4e2a\u51fd\u6570\u7684\u56fe\u50cf\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cua8cwtl.png)\n\n\u8fd9\u4e2a\u662f\u5f53 $a=2.33$ \u65f6\uff0c\u51fd\u6570\u7684\u56fe\u50cf\n\n\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5f53 $x\\in[15,+\\infty)$ \u65f6\uff0c\u51fd\u6570\u7684\u56fe\u50cf\u65e0\u9650\u8d8b\u8fd1\u4e8e$x$\u8f74\uff0c\u6545\u8fd9\u4e00\u6bb5\u7684\u9762\u79ef\u53ef\u4ee5\u8fd1\u4f3c\u4e3a0\u3002\u8fd9\u4e00\u4e0b\u6211\u4eec\u5c31\u5f88\u9ad8\u5174\u5566\uff0c\u53ef\u4ee5\u5f88\u6109\u5feb\u5730\u4f7f\u7528\u8f9b\u666e\u68ee\u79ef\u5206\u4e86\u5462\u3002\n\n\u5c31\u8fd9\u6837\uff0c\u6211\u4eec\u6c42\u79ef\u5206\u7684\u5f0f\u5b50\u5c31\u53d8\u4e3a $\\int_0^{15}x^{\\frac a x-x}\\,\\text{d}x$ \u4e86\u3002\n\n## Part 3 \u53d1\u6563\u4e0e\u6536\u655b\n\n\u6ce8\u610f\u5230\u9898\u76ee\u8ba9\u6211\u4eec\u7279\u5224\u51fa\u79ef\u5206\u53d1\u6563\u65f6\u7684\u60c5\u51b5\u5e76\u8f93\u51faorz\uff0c\u6240\u4ee5\uff0c\u6211\u4eec\u5fc5\u987b\u627e\u51fa\u5f53\u79ef\u5206\u53d1\u6563\u65f6 $a$ \u7684\u53d6\u503c\u3002\u73b0\u5728\uff0c\u6211\u4eec\u544a\u8bc9\u5927\u5bb6\uff0c $a\\ge0$ \u65f6\uff0c\u79ef\u5206\u6536\u655b\uff1b $a<0$ \u65f6\uff0c\u79ef\u5206\u53d1\u6563\uff0c\u4e0b\u9762\u5c31\u6765\u7b80\u5355\u8bc1\u660e\u4e00\u4e0b\u3002\n\n1. $a<0$ \u65f6\uff0c\u79ef\u5206\u53d1\u6563\n\n\u6211\u4eec\u4ee4$ f(x)=x^{\\frac a x-x} $\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u5230:$ f(x)=x^{\\frac {a^2-x} a} $\n\n$=\\dfrac 1 {x^{\\frac {x-a^2} a}}$ \uff08\u8fd9\u4e00\u6b65\u7684\u8bc1\u660e[\u697c\u4e0acreeperK\u5927\u4f6c\u6709\u8bb2](https://www.luogu.com.cn/blog/DJCreeper/P4526)\uff0c\u4e0d\u518d\u8d58\u8ff0\uff09\n\n$\\because x\\to0$ \u65f6\uff0c $x^2\\to0,\\dfrac 1 x\\to+\\infty$\n\n$\\therefore x^2-a\\to-a,-\\dfrac a x\\to+\\infty$\n\n\u53c8 $\\because$ \u5f53 $x\\in(0,1)$ \u65f6     $\\lim\\limits_{n\\to+\\infty}x^n\\to0$ \n\n\u6545 $\\lim\\limits_{x\\to0}f(x)\\to+\\infty$\n\n\u5219\u539f\u547d\u9898\u5f97\u8bc1.\n\n\n2. $a\\ge0$ \u65f6\uff0c\u79ef\u5206\u6536\u655b\n\n\u6211\u4eec\u9996\u5148\u8ba8\u8bba $a\\in\\mathbb{R}$ \u65f6\u7684\u60c5\u51b5\u3002\n\n$\\because \\lim\\limits_{x\\to+\\infty}\\dfrac {a-x^2} a \\to +\\infty$\n\n$\\therefore \\lim\\limits_{x\\to+\\infty}x^{\\frac {a-x^2} a}\\to+\\infty$\n\n\u53c8 $\\because \\lim\\limits_{m\\to+\\infty}\\dfrac 1 m\\to 0$\n\n$\\therefore$\u539f\u51fd\u6570\u5728 $x$ \u8d8b\u8fd1\u4e8e\u6b63\u65e0\u7a77\u65f6\u6536\u655b\n\n\u7136\u540e\u5462\uff0c\u6211\u4eec\u518d\u8ba8\u8bba $a>0$ \u65f6\u7684\u60c5\u51b5\u3002\n\n$\\because \\left.\\frac {a-x^2} x\\right|_{x<\\min(\\sqrt{a},1)}>0$\n\n$\\therefore \\left.x^{\\frac {a-x^2} x}\\right|_{x<\\min(\\sqrt{a},1)}<1$\n\n$\\therefore x<1$ \u65f6,\u539f\u51fd\u6570\u662f\u6709\u9650\u7684\n\n\u6545\u547d\u98982\u5f97\u8bc1\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u539f\u51fd\u6570\u6536\u655b\u548c\u53d1\u6563\u7684\u6761\u4ef6\u5566\n\n## Part 4 code \n\n\u90a3\u4e48\uff0c\u7efc\u5408\u4ee5\u4e0a\u7684\u5206\u6790\uff0c\u6211\u76f8\u4fe1\u5404\u4f4d\u4e00\u5b9a\u7406\u89e3\u4e86\u8fd9\u9898\u7684\u601d\u8def\u4e0e\u89e3\u6cd5\u3002\u4e0b\u9762\u5c31\u662fAC\u4ee3\u7801\uff1a\n\n```cpp\n//@copyright 2020~2022 Iam\u8d3e\u7cae\u5b85  All rights reserved\n#include <bits/stdc++.h>\n#define cd const double\ntypedef long long ll;\nusing namespace std;\ncd Eps=1e-8;\ndouble a,lf,rt;\ninline double f(double x)//function original\n{\n    return pow(x,(a/x)-x);\n}\ninline double s(double p,double q)//simpson\n{\n\tdouble k=p+(q-p)/2;\n    return (f(p)+4*f(k)+f(q))*(q-p)/6.0;\n}\ndouble as(double p,double q,double S)//adaptive-simpson\n{\n\tdouble k=p+(q-p)/2;\n    double l1=s(p,k),l2=s(k,q);\n    if(fabs(l1+l2-S)<=Eps) return l1+l2;\n    else return as(p,k,l1)+as(k,q,l2);\n}\nint main()\n{\n    cin>>a;\n    if(a<0) puts(\"orz\");\n    else printf(\"%.5lf\",as(Eps,15,s(lf,rt)));\n    return 0;\n}\n```\n\n\u6ce8\u610f\uff0c\u8fd9\u91ccEps\u4e0d\u8981\u8c03\u592a\u9ad8\uff0c\u5efa\u8bae\u662f1e-8.\uff08\u8981\u4e0d\u7136\u4f60\u53ef\u80fd\u4f1aWA\u51e0\u4e2a\u70b9\uff09",
        "postTime": 1649422586,
        "uid": 388066,
        "name": "Iam\u8d3e\u7cae\u5b85",
        "ccfLevel": 0,
        "title": "P4526 \u9898\u89e3"
    },
    {
        "content": "\u6240\u4ee5\u53c8\u6c34\u8fc7\u4e86 \u8f9b\u666e\u68ee2...\n\n$$\\LaTeX$$\n# noteskey\n\n\u7528\u7684\u65b9\u6cd5\u548c 1 \u5dee\u4e0d\u591a\uff0c\u505a\u6cd5\u4e5f\u662f\u548c 1 \u9898\u89e3\u4e2d\u8bf4\u7684\u628a f \u91cc\u9762\u7684\u4e1c\u897f\u6362\u4e00\u6362\u5c31\u597d\u4e86\u3010\u6ed1\u7a3d\n\n\u4f46\u662f\u8fd9\u91cc\u8981\u5224\u65ad\u53d1\u6563\u554a...\u600e\u4e48\u529e\uff1f \u6211\u4eec\u8003\u8651\u53ea\u8981\u770b\u770b a \u662f\u5426\u5c0f\u4e8e 0 \u5c31\u597d\u4e86\uff0c\u5c0f\u4e8e 0 \u7684\u8bdd\u5c31\u662f\u53d1\u6563\u7684\uff0c\u8bc1\u660e\u5462\uff1f\n\n\u6211\u4eec\u4ee4 a<0 \u7136\u540e\u5316\u5f0f\u5b50\uff1a\n\n$$f(x)=x^{{a\\over x}-x}$$\n\n$$=x^{{a-x^2\\over x}}$$\n\n\n\n$$={1\\over x^{{x^2-a\\over x}}}$$\n\n\n\u6211\u4eec\u8003\u8651 $x\u21920$ \u7684\u60c5\u51b5\uff0c\u8fd9\u65f6\u5019\u6709\uff1a\n\n$1\\over x$ \u65e0\u7a77\u5927\uff0c$x^2-a >0$ \n\n\u6240\u4ee5 $x^\\infty \u21920$ \uff0c$1\\over x^\\infty$ \u65e0\u7a77\u5927\n\n\u539f\u51fd\u6570\u53d1\u6563\uff0c\u5f97\u8bc1\n\n$$\\LaTeX$$\n\n\u81f3\u4e8e\u5927\u4e8e\u7b49\u4e8e\u96f6\u5219\u4e0d\u53d1\u6563\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b x \u8d8a\u5927\u539f\u5f0f\u8d8a\u63a5\u8fd1 0 \uff0c\u5bf9\u7b54\u6848\u6ca1\u6709\u8d21\u732e\uff0c\u6240\u4ee5\u539f\u5f0f\u4e2d\u53f3\u533a\u95f4\u7684 $\\infty$ \u6211\u4eec\u53ef\u4ee5\u6839\u636e\u624b\u9020\u51fa\u6765\u7684\u51fd\u6570\u56fe\u50cf\uff08\u6216\u8005\u7528\u4e2a\u4ec0\u4e48\u51e0\u4f55\u753b\u677f\u4e4b\u7c7b\u7684\u8f6f\u4ef6\u753b\u753b\uff09\u5206\u6790\u4e00\u4e0b\u5927\u6982\u5230 10 \u4ee5\u4e0a\u5c31\u6ca1\u4ec0\u4e48\u8d21\u732e\u4e86...\u5427\uff1f\u53cd\u6b63\u5f00\u4e2a 12 \u662f\u53ef\u4ee5\u8fc7\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u628a $[eps,12]$ \u7b80\u5355\u5e26\u5165 $asr$ \u8ba1\u7b97\u7b54\u6848\u5c31\u597d\u4e86\n\n$$\\LaTeX$$\n\n\n\n\n\n\n\n# for more\n\n\u8bdd\u8bf4\u8fd9\u4ee3\u7801\u597d\u77ed\u554a\uff01~~\u771f\u597d\u80cc\uff01~~\n\n\u8bdd\u8bf4\u5de6\u8fb9\u754c l \u8bbe\u4e3a eps \u53ef\u6d77\u661f\uff08\u597d\u50cf\u662f\u4e3a\u4e86\u907f\u514d f(0) \u5bf9\u7b54\u6848\u7684\u5f71\u54cd\uff1f\uff09\n\n\u6b63\u7ecf\u89e3\u91ca\u4e00\u4e0b\uff1a\n\n\u8f9b\u666e\u68ee\u662f\u53bb\u627e\u4e00\u4e2a**\u8fde\u7eed\u7684** \u4e8c\u6b21\u51fd\u6570\u53bb\u62df\u5408\u539f\u51fd\u6570\uff0c\u6240\u4ee5\u539f\u51fd\u6570\u4e2d\u7684\u7279\u6b8a\u70b9\u662f\u4f1a\u5bf9\u8bef\u5dee\u7684\u5224\u5b9a\u4ea7\u751f\u5947\u602a\u7684\u5f71\u54cd\u7684\uff08\u8003\u8651 \u9898\u76ee\u4e2d\u7ed9\u7684\u51fd\u6570\u5728 0 \u70b9\u6bd4\u8f83\u7279\u6b8a\uff09\n\n\u4f46\u662f\u6211\u4eec\u53d1\u73b0\u5176\u5b9e\u628a 0 \u70b9\u53bb\u6389\u5bf9\u7b54\u6848\u4e0d\u4f1a\u6709\u5f71\u54cd\uff08\u56e0\u4e3a\u7ebf\u6bb5\u662f\u6ca1\u6709\u9762\u79ef\u7684\u554a\uff01\uff09\n\n\u5f53\u7136\u6211\u4eec\u80af\u5b9a\u505a\u4e0d\u5230\u53ea\u5427 0 \u70b9\u6316\u6389\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u5fcd\u75db\u5c06\u4ece 0 \u5f00\u59cb\u7684\u4e00\u6bb5\u6781\u5c0f\u533a\u95f4\u90fd\u6316\u6389\uff0c\u8fd9\u6837\u7684\u8bef\u5dee\u662f\u5728\u7b54\u6848\u5141\u8bb8\u8303\u56f4\u5185\u7684\n\n\u5f53\u7136\u8fd9\u9053\u9898\u7ed9\u4e86\u6211\u4eec\u4e00\u70b9\u542f\u793a\uff0c\u5c31\u662f\u5728\u505a\u8f9b\u666e\u68ee\u7684\u65f6\u5019\u8981\u591a\u6ce8\u610f\u7279\u6b8a\u70b9 ~~\uff08\u7136\u540e\u628a\u7279\u6b8a\u70b9\u72e0\u72e0\u6316\u6389\uff09~~ \uff0c\u907f\u514d\u7279\u6b8a\u70b9\u5bf9\u7b54\u6848\u7684\u5f71\u54cd\uff0c\u5c24\u5176\u662f\u50cf 0 \u70b9\u8fd9\u4e48\u660e\u663e\u7684\u70b9...\n\n$$\\LaTeX$$\n\n# code\n\n```\n//by Judge\n#include<bits/stdc++.h>\n#define Rg register\n#define db double\nusing namespace std; db a;\ninline db f(Rg db x){return pow(x,a/x-x);}\ninline db simpson(Rg db l,Rg db r){ db mid=(l+r)/2;\n\treturn (f(l)+f(r)+4*f(mid))*(r-l)/6;\n}\ndb asr(db l,db r,db eps,db ans){\n\tdb mid=(l+r)/2,L=simpson(l,mid),R=simpson(mid,r);\n\tif(fabs(L+R-ans)<=eps) return L+R+(L+R-ans);\n\treturn asr(l,mid,eps/2,L)+asr(mid,r,eps/2,R);\n}\ninline db asr(Rg db l,Rg db r,Rg db eps){\n\treturn asr(l,r,eps,simpson(l,r));\n}\nint main(){ scanf(\"%lf\",&a); if(a<0) return !puts(\"orz\");\n\treturn !printf(\"%.5lf\\n\",asr(1e-8,12,1e-6)); //\u5de6\u533a\u95f4\u968f\u4fbf\u8bbe\uff0c\u5c0f\u4e8e 1e6 \u80af\u5b9a\u90fd\u884c\uff0c\u522b\u662f 0 \u5c31\u597d\n}\n```\n\n$$\\LaTeX$$\n\n",
        "postTime": 1554093435,
        "uid": 38576,
        "name": "J\u03bcdge",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4526 \u3010\u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd52\u3011"
    },
    {
        "content": "\u5e7f\u544a\uff1a[\u6211\u7684\u535a\u5ba2](http://ebola.blogwo.com/2018/06/20/%E3%80%90luogup4526%E3%80%91%E8%87%AA%E9%80%82%E5%BA%94%E8%BE%9B%E6%99%AE%E6%A3%AE%E6%B3%952-%E9%A2%98%E8%A7%A3/)\n\n\u6b63\u65e0\u7a77\uff1f\uff01\u60ca\u4e86\uff01\u6211\u4eec\u7684\u8f9b\u666e\u68ee\u79ef\u5206\u53ea\u80fd\u505a\u5b9a\u79ef\u5206\u554a\u2026\u2026\n\n\u6ca1\u6709\u601d\u8def\uff0c\u5728\u51e0\u4f55\u753b\u677f\u4e0a\u968f\u4fbf\u753b\u51e0\u4e2a\u56fe\u50cf\u770b\u770b\u8fd9\u662f\u4ec0\u4e48\u9b3c\u51fd\u6570\n\n![](http://wx3.sinaimg.cn/mw690/0060lm7Tly1fshq7jlyr1j30we0guglx.jpg)\n\n\u597d\u50cf\u53d1\u73b0\u4e86\u4ec0\u4e48\u5927\u65b0\u95fb\uff01\uff01\uff01\n\n\u5f53a>0\u65f6\uff0c\u51fd\u6570\u66f2\u7ebf\u5728x>10\u7684\u65f6\u5019\u5c31\u8fd1\u4e4e\u4e0ex\u8f74\u91cd\u5408\u4e86\uff0c\u4e5f\u5c31\u662f\u8bf4\u540e\u9762\u7684\u6211\u4eec\u90fd\u53ef\u4ee5\u4e0d\u7528\u53bb\u7ba1\u5b83\u3002\u4e8e\u662f\u6211\u4eec\u5b9a\u79ef\u5206\uff0c\u5728\u6b63\u534a\u8f74\u79ef\u523010\u5c31\u53ef\u4ee5\u4e86\uff01\u4f46\u7531\u4e8e\u672c\u9898\u7cbe\u5ea6\u8981\u6c42\u975e\u5e38\u9ad8\uff0c\u4e3a\u4e86\u8fdb\u4e00\u6b65\u51cf\u5c0f\u8bef\u5dee\uff0c\u6211\u4eec\u79ef\u523020\uff08\u5b9e\u6d4b\u79ef\u523010\u53ea\u80fd\u62ff90\u5206\uff0c\u79ef\u523020\u53ef\u4ee5AC\uff09\u3002\u6ce8\u610f\u7edd\u5bf9\u4e0d\u80fd\u4ece0\u5f00\u59cb\u79ef\uff0c\u800c\u5e94\u8be5\u4ece\u4e00\u4e2a\u6781\u5c0f\u91cf\u5f00\u59cb\uff0c\u56e0\u4e3ax\u5728\u5e42\u4e2d\u505a\u4e86\u5206\u6bcd\uff0c\u79ef0\u5c31\u5475\u5475\u4e86\u3002\n\n\u5f53a<0\u65f6\uff0c\u53d1\u73b0\u5b83\u4e0d\u662f\u6536\u655b\u7684\uff0c\u5b83\u5728\u9760\u8fd1y\u8f74\u65f6\u8d8b\u4e8e\u65e0\u7a77\u5927\uff08\u56fe\u4e2d\u9ec4\u7ebf\uff09\u3002\u4e8e\u662f\u6211\u4eec\u5728a<0\u65f6\u8f93\u51faorz\u5373\u53ef\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst double eps=1e-12;\ndouble a;\n\ndouble F(double x){return pow(x,a/x-x);}\ndouble simpson(double a,double b)\n{\n\tdouble mid=(a+b)/2;\n\treturn (F(a)+4*F(mid)+F(b))*(b-a)/6;\n}\ndouble asr(double a,double b,double A)\n{\n\tdouble mid=(a+b)/2;\n\tdouble L=simpson(a,mid),R=simpson(mid,b);\n\tif(fabs(L+R-A)<=15*eps) return L+R+(L+R-A)/15.0;\n\treturn asr(a,mid,L)+asr(mid,b,R);\n}\ndouble asr(double a,double b){return asr(a,b,simpson(a,b));}\n\nint main()\n{\n\tcin>>a;\n\tif(a<0) puts(\"orz\");\n\telse printf(\"%.5lf\\n\",asr(eps,20.0));\n\treturn 0;\n}\n\n```",
        "postTime": 1529484135,
        "uid": 20158,
        "name": "Ebola",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P4526 \u3010\u3010\u6a21\u677f\u3011\u81ea\u9002\u5e94\u8f9b\u666e\u68ee\u6cd52\u3011"
    }
]