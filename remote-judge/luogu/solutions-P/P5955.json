[
    {
        "content": "### Description\n\n\u73b0\u6709\u82e5\u5e72\u4e8c\u7ef4\u5411\u91cf\uff0c\u4f60\u9700\u8981\u4efb\u9009\u82e5\u5e72\u6761\u4e8c\u7ef4\u5411\u91cf\u4f7f\u5f97\u8fd9\u4e9b\u5411\u91cf\u7684\u548c\u957f\u5ea6\u6700\u5927\u3002\n\n### Solution\n\n\u89c2\u5bdf\u9898\u76ee\u53ef\u4ee5\u53d1\u73b0\uff0c\u53ea\u6709\u5728\u7b54\u6848\u5411\u91cf\u65b9\u5411\u6295\u5f71\u4e3a\u6b63\u7684\u5411\u91cf\u624d\u4f1a\u5bf9\u7ed3\u679c\u4ea7\u751f\u8d21\u732e\u3002\u7531\u6b64\u8003\u8651\u679a\u4e3e\u6240\u6709\u65b9\u5411\u8fdb\u884c\u6c42\u89e3\u3002\n\n\u5bf9\u6240\u6709\u5411\u91cf\u6c42\u51fa\u6781\u89d2\u5e8f\uff0c\u53ef\u4ee5\u770b\u51fa\u9009\u53d6\u7684\u5411\u91cf\u5728\u6392\u5e8f\u540e\u4e00\u5b9a\u662f\u8fde\u7eed\u7684\u4e00\u6bb5\u3002\u7531\u6b64\u53ef\u4ee5\u8003\u8651\u53cc\u6307\u9488\u7684\u65b9\u6cd5\u6c42\u89e3\u3002\u6240\u6709\u5411\u91cf\u5f62\u6210\u4e00\u4e2a\u73af\uff0c\u56e0\u6b64\u5904\u7406\u65f6\u9700\u8981\u590d\u5236\u4e00\u4efd\u6c42\u89e3\uff0c\u7136\u540e\u53cc\u6307\u9488\u679a\u4e3e\u5de6\u53f3\u7aef\u70b9\u5373\u53ef\u5f97\u51fa\u7ed3\u679c\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $O(nlogn)$\u3002\n\n\u672c\u9898\u5bf9\u7cbe\u5ea6\u6709\u4e00\u5b9a\u8981\u6c42\uff0c\u9700\u8981\u6ce8\u610f\u7cbe\u5ea6\u95ee\u9898\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nchar buf[10000001],*ptr=buf-1;\n\ninline int read()\n{\n\tint x=0,f=1,c=*++ptr;\n\twhile(c<48) c=='-'&&(f=-1),c=*++ptr;\n\twhile(c>47) x=x*10+c-'0',c=*++ptr;\n\treturn x*f;\n}\n\ntypedef long long ll;\nconst int MAXN = 400005;\nconst double pi = acos(-1);\nstruct Point {int x,y; double agl;} p[MAXN];\nint n;\n\nbool operator < (Point a,Point b)\n{return a.agl<b.agl;}\n\nint main(int argc, char const *argv[])\n{\n\tfread(buf,1,sizeof(buf),stdin)[buf]=0;\n\tn=read();\n\tfor(int i=1; i<=n; ++i)\n\t{\n\t\tp[i].x=read(); p[i].y=read();\n\t\tp[i].agl=atan2(p[i].y,p[i].x);\n\t\t(!p[i].x&&!p[i].y) &&(--i,--n);\n\t}\n\tsort(p+1,p+n+1);\n\tll dx=0,dy=0,ans=0;\n\tfor(int l=1,r=1; l<=n; ++l)\n\t{\n\t\tp[n+l]=(Point) {p[l].x,p[l].y,p[l].agl+2*pi};\n\t\twhile(r<n+l&&p[r].agl-p[l].agl<pi+1e-10)\n\t\t{\n\t\t\tdx+=p[r].x; dy+=p[r++].y;\n\t\t\tans=max(ans,dx*dx+dy*dy);\n\t\t}\n\t\tdx-=p[l].x; dy-=p[l].y;\n\t\tans=max(ans,dx*dx+dy*dy);\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n\n\n\n\n\n",
        "postTime": 1591154852,
        "uid": 107735,
        "name": "shiroi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5955 \u3010[POI2018]Pionek\u3011"
    },
    {
        "content": "## \u51e0\u4f55+\u53cc\u6307\u9488\n\n[\u535a\u5ba2\u9605\u8bfb](https://www.cnblogs.com/wljss/p/12344129.html)\n\n\u9898\u76ee\u5927\u610f\uff1a\u73b0\u5728\u6709 $n$ \u4e2a\u5411\u91cf\uff0c\u8bf7\u4f60\u9009\u51fa\u6765\u4e00\u4e9b\u5411\u91cf\u4f7f\u5b83\u4eec\u7684\u548c\u7684\u957f\u5ea6\u6700\u5927\uff0c\u8f93\u51fa\u6700\u5927\u503c\u7684\u5e73\u65b9\u3002\n\n\u5047\u5982\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e86\u6700\u7ec8\u5411\u91cf\u7684\u65b9\u5411\uff0c\u6211\u4eec\u8981\u60f3\u4f7f\u957f\u5ea6\u6700\u5927\uff0c\u5c31\u9700\u8981\u5c06\u6240\u6709\u6295\u5f71\u5728\u6700\u7ec8\u5411\u91cf\u6b63\u65b9\u5411\u4e0a\u7684\u5411\u91cf\u90fd\u52a0\u8d77\u6765\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u6309\u89d2\u5ea6\u679a\u4e3e\u6700\u7ec8\u5411\u91cf\u7684\u65b9\u5411\uff0c\u6211\u4eec\u9700\u8981\u52a0\u8d77\u6765\u7684\u5c31\u662f\u4e00\u6bb5\u79fb\u52a8\u7684\u533a\u95f4\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u53cc\u6307\u9488\u6765\u7ef4\u62a4\u52a0\u8d77\u6765\u7684\u5411\u91cf\u3002\n\n\u56e0\u4e3a\u6700\u7ec8\u5411\u91cf\u7684\u65b9\u5411\u6709\u53ef\u80fd\u662f\u7ed9\u51fa\u7684\u5411\u91cf\uff0c\u4e5f\u6709\u53ef\u80fd\u662f\u5411\u91cf\u4e4b\u95f4\u95f4\u9694\u7684\u65b9\u5411\uff0c\u6240\u4ee5\u6bcf\u6b21\u79fb\u52a8\u6307\u9488\u7684\u65f6\u5019\u90fd\u8981\u66f4\u65b0\u4e00\u4e0b\u7b54\u6848.\n\n\u56e0\u4e3a\u5f00\u59cb\u7ed9\u51fa\u7684\u5411\u91cf\u4e0d\u4e00\u5b9a\u6709\u5e8f\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5148\u5c06\u5411\u91cf\u6392\u5e8f\u3002\n\n```cpp\n#include <algorithm>\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n#define LL long long\nusing namespace std;\nint n;\nconst double PI = acos(-1);\nLL sx, sy, ans;\nstruct data\n{\n\tLL x, y; double ang;\n\tfriend bool operator <(const data & a,const data & b) {return a.ang < b.ang;}\n}a[400010];\nint main()\n{\n\tcin >> n;\n\tfor(int i = 1; i <= n; ++ i)scanf(\"%lld%lld\", &a[i].x, &a[i].y), a[i].ang = atan2(a[i].y,a[i].x);\n\tsort(a + 1, a + 1 + n);\n\tfor(int i = 1; i <= n; ++ i)a[n + i].x = a[i].x, a[n + i].y = a[i].y, a[n + i].ang = a[i].ang + 2 * PI;\n\tfor(int l = 1, r = 1; l <= n; ++ l)\n\t{\n\t\twhile(r < n + l && a[r].ang - a[l].ang < PI)sx += a[r].x, sy += a[r].y, ans = max(ans, sx * sx + sy * sy), ++ r;\n\t\tsx -= a[l].x, sy -= a[l].y, ans = max(ans, sx * sx + sy * sy);\n\t}\n\tcout << ans;\n\treturn 0;\n}\n```",
        "postTime": 1582334689,
        "uid": 153843,
        "name": "wljss",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5955 \u3010[POI2018]Pionek\u3011"
    }
]