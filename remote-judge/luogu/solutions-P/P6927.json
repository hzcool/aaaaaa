[
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P6927)\n\n~~\u6211\u8d2a\u5fc3\u592a\u83dc\u4e86\uff0c\u53ea\u80fd\u4ece\u5199\u9898\u89e3\u7ec3\u8d77~~\n\n\u9898\u76ee\u4e2d\u7684\u786c\u76d8\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a\n\n1.\u683c\u5f0f\u5316\u540e\u5bb9\u91cf\u589e\u5927\uff1b\n\n2.\u683c\u5f0f\u5316\u540e\u5bb9\u91cf\u51cf\u5c0f\u3002\n\n\u5bf9\u4e8e**\u7b2c\u4e00\u79cd\u786c\u76d8**\uff0c\u57fa\u4e8e\u8d2a\u5fc3\u7684\u601d\u8def\uff0c\u7531\u4e8e\u683c\u5f0f\u5316\u540e\u603b\u5bb9\u91cf\u4e00\u5b9a\u589e\u5927\uff0c\u6211\u4eec\u9700\u8981\u8ba9\u989d\u5916\u5bb9\u91cf\u5c3d\u53ef\u80fd\u5c0f\uff0c\u6240\u4ee5\u6211\u4eec**\u6309\u7167\u683c\u5f0f\u5316\u524d\u7684\u5bb9\u91cf\u4ece\u5c0f\u5230\u5927\u6392\u5e8f**\uff1b\n\n\u5bf9\u4e8e**\u7b2c\u4e8c\u79cd\u786c\u76d8**\uff0c\u6211\u4eec\u5e0c\u671b\u8ba9\u5b83\u683c\u5f0f\u5316\u540e\u5269\u4f59\u7684\u5bb9\u91cf\u5c3d\u53ef\u80fd\u5927\uff0c\u6240\u4ee5**\u6309\u7167\u683c\u5f0f\u5316\u540e\u7684\u5bb9\u91cf\u4ece\u5927\u5230\u5c0f\u6392\u5e8f**\u3002\n\n\u4e4b\u540e\u5728\u5904\u7406\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u53ea\u9700\u8981\u50a8\u5b58\u5f53\u524d\u53ef\u7528\u7a7a\u95f4\uff0c\u8fb9\u5904\u7406\u8fb9\u6539\u53d8\u7b54\u6848\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u4e0b\u9762\u662f\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nnamespace Std\n{\n    template<typename tp>\n    void read(tp &x)\n    {\n        x=0;\n        tp nev=1;\n        char c=getchar();\n        while(c<'0'||c>'9'){if(c=='-'){nev=-1;}c=getchar();}\n        while(c>='0'&&c<='9'){x=(x<<1)+(x<<3)+(c^48);c=getchar();}\n    }\n    int n,cnt1=0,cnt2=0;\n    ll ans=0,now=0;\n    struct node\n    {\n        ll st,ed;\n        node(){}\n        node(ll _st,ll _ed){st=_st,ed=_ed;}\n    }k1[1000001],k2[1000001];\n    bool cmp1(node x,node y)\n    {\n        return x.st<y.st;\n    }\n    bool cmp2(node x,node y)\n    {\n        return x.ed>y.ed;\n    }\n    int main(void)\n    {\n        read(n);\n        ll st,ed;\n        for(int i=1;i<=n;++i)\n        {\n            read(st),read(ed);\n            if(st<ed) k1[++cnt1]=node(st,ed);\n            else k2[++cnt2]=node(st,ed);\n        }\n        sort(k1+1,k1+1+cnt1,cmp1);\n        sort(k2+1,k2+1+cnt2,cmp2);\n        for(int i=1;i<=cnt1;++i)\n        {\n            if(k1[i].st>now)\n            {\n                ans+=k1[i].st-now;\n                now=k1[i].ed;\n            }\n            else\n            {\n                now+=k1[i].ed-k1[i].st;\n            }\n        }\n        for(int i=1;i<=cnt2;++i)\n        {\n            if(k2[i].st>now)\n            {\n                ans+=k2[i].st-now;\n                now=k2[i].ed;\n            }\n            else\n            {\n                now+=k2[i].ed-k2[i].st;\n            }\n        }\n        printf(\"%lld\\n\",ans);\n        return 0;\n    }\n}\nint main()\n{\n    return Std::main();\n}\n```\n",
        "postTime": 1648119829,
        "uid": 576737,
        "name": "Wilson_Inversion",
        "ccfLevel": 7,
        "title": "P6927\u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P6927)\n\n\u4e00\u9053\u5f88\u597d\u7684\u8d2a\u5fc3\u9898\u3002\n\n\u53d1\u73b0\u786c\u76d8\u79cd\u7c7b\u5206\u4e3a\u4e24\u79cd\uff1a1\u3001\u683c\u5f0f\u5316\u540e\u786c\u76d8\u5bb9\u91cf\u589e\u5927\uff0c2\u3001\u683c\u5f0f\u5316\u540e\u786c\u76d8\u5bb9\u91cf\u4e0d\u589e\u5927\u3002\n\n\u8003\u8651\u5bf9\u8fd9\u4e24\u79cd\u786c\u76d8\u5206\u522b\u8d2a\u5fc3\u3002\n\n\u663e\u7136\u5bf9\u4e8e\u7b2c $1$ \u79cd\u786c\u76d8\uff0c\u6309\u683c\u5f0f\u5316\u524d\u7684\u5bb9\u91cf\u7531\u5c0f\u5230\u5927\u6392\u5e8f\u662f\u6700\u4f18\u89e3\u3002\u56e0\u4e3a\u8fd9\u79cd\u786c\u76d8\u662f\u4e0d\u65ad\u83b7\u5f97\u7a7a\u95f4\u7684\u8fc7\u7a0b\uff0c\u7531\u4e8e\u83b7\u5f97\u7684\u7a7a\u95f4\u603b\u548c\u4e00\u5b9a\uff0c\u56e0\u6b64\u5e94\u8be5\u8ba9\u6bcf\u6b21\u83b7\u5f97\u7a7a\u95f4\u6240\u4ed8\u51fa\u7684\u4ee3\u4ef7\u5c3d\u91cf\u5c0f\uff0c\u6240\u4ee5\u91c7\u53d6\u5982\u4e0a\u7684\u8d2a\u5fc3\u7b56\u7565\u3002\n\n\u800c\u5bf9\u4e8e\u7b2c $2$ \u79cd\u786c\u76d8\uff0c\u6309\u683c\u5f0f\u5316\u540e\u7684\u5bb9\u91cf\u7531\u5927\u5230\u5c0f\u6392\u5e8f\u662f\u6700\u4f18\u89e3\u3002\u56e0\u4e3a\u8fd9\u79cd\u786c\u76d8\u662f\u4e0d\u65ad\u5931\u53bb\u7a7a\u95f4\u7684\u8fc7\u7a0b\uff0c\u7531\u4e8e\u5931\u53bb\u7684\u7a7a\u95f4\u603b\u548c\u4e00\u5b9a\uff0c\u56e0\u6b64\u5e94\u8be5\u8ba9\u6bcf\u6b21\u5931\u53bb\u4e4b\u540e\u6240\u83b7\u5f97\u7684\u7a7a\u95f4\u5c3d\u91cf\u66f4\u5927\u3002\n\n\u7136\u540e\u5206\u522b\u5bf9\u4e24\u79cd\u786c\u76d8\u8fdb\u884c\u8d2a\u5fc3\u5373\u53ef\uff0c\u6bcf\u6b21\u8d2a\u5fc3\u8fc7\u7a0b\u4e2d\u7ef4\u62a4\u73b0\u6709\u7684\u786c\u76d8\u7a7a\u95f4\u5927\u5c0f\uff0c\u540c\u65f6\u66f4\u65b0\u7b54\u6848\u3002\u6ce8\u610f\u6a21\u62df\u65f6\u5e94\u8be5\u5148\u6a21\u62df\u7b2c $1$ \u79cd\u786c\u76d8\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(nlogn)$\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define back return\n#define ll long long\n#define ri register int\nusing namespace std;\nll read()\n{\n\tll x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9')\n\t{\n\t\tif(ch=='-')\n\t\t\tf=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t\tx=x*10+ch-'0';\n\t\tch=getchar();\n\t}\n\tback x*f;\n}\nstruct node\n{\n\tint x,y;\n}a1[1000005],a2[1000005];\nbool cmp1(node a,node b)\n{\n\tback a.x<b.x;\n}\nbool cmp2(node a,node b)\n{\n\tback a.y>b.y;\n}\nint n,cnt1,cnt2;\nll sp,ans;\nint main()\n{\n\tn=read();\n\tfor(ri i=1;i<=n;i++)\n\t{\n\t\tint a,b;\n\t\ta=read(),b=read();\n\t\tif(b>a)\n\t\t\ta1[++cnt1].x=a,a1[cnt1].y=b;\n\t\telse\n\t\t\ta2[++cnt2].x=a,a2[cnt2].y=b;\n\t}\n\tsort(a1+1,a1+cnt1+1,cmp1);\n\tsort(a2+1,a2+cnt2+1,cmp2);\n\tfor(ri i=1;i<=cnt1;i++)\n\t{\n\t\tif(a1[i].x>sp)\n\t\t\tans+=a1[i].x-sp,sp=a1[i].y;\t\n\t\telse\n\t\t\tsp+=a1[i].y-a1[i].x;\t\n\t}\n\tfor(ri i=1;i<=cnt2;i++)\n\t{\n\t\tif(a2[i].x>sp)\n\t\t\tans+=a2[i].x-sp,sp=a2[i].y;\n\t\telse\n\t\t\tsp+=a2[i].y-a2[i].x;\n\t}\n\tcout<<ans<<\"\\n\";\n\tback 0;\n}\n```\n",
        "postTime": 1633665414,
        "uid": 93266,
        "name": "\u65ad\u6e05\u79cb",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011P6927 [ICPC2016 WF]Swap Space"
    }
]