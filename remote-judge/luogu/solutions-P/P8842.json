[
    {
        "content": "[P8842 [\u4f20\u667a\u676f #4 \u521d\u8d5b] \u5c0f\u5361\u4e0e\u8d28\u65702](https://www.luogu.com.cn/problem/P8842)\n\n**\u9898\u610f\uff1a\u7ed9\u5b9a $T$ \u4e2a $x$ \uff0c\u6c42\u6709\u591a\u5c11\u4e2a\u5c0f\u4e8e $x$ \u7684\u975e\u8d1f\u6574\u6570\u4e0e $x$ \u5f02\u6216\u7684\u7ed3\u679c\u4e3a\u8d28\u6570\u3002**\n\n$x\u2295y=p (y < x)$\n\n\u8981\u679a\u4e3e $y$ \uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(Tx)$\n\n$x\u2295y=p \\to x\u2295p=y(y < x)$\n\n\u8981\u679a\u4e3e $p$ \uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(Tz)$ \u3002\u767e\u4e07\u5185\u7684\u8d28\u6570\u6709$z$\u4e2a\uff08\u51e0\u4e07\uff09\u3002\n\n\u56e0\u4e3a $y<x$\uff0c\u5f02\u6216\u540e\u503c\u53d8\u5c0f\u3002\u4ec0\u4e48\u60c5\u51b5\u5f02\u6216\u540e\u503c\u4f1a\u53d8\u5c0f\uff1f\n\n\u8bbe $x=(100100)_2$\n\n\u8981\u60f3\u5f02\u6216\u540e\u503c\u53d8\u5c0f\uff0c$1$ \u5fc5\u987b\u53d8\u6210 $0$ \n\n$1\u22951=0$ \n\n- \u7b2c\u4e00\u4e2a$1$\n\n$100100\u2295 1***** = 0***** <100100$\n\n\u6362\u8a00\u4e4b\uff0c$100100\u2295(100000 \\sim 111111)$ \u7684\u503c\u90fd\u5c0f\u4e8e $100100$\n\n\u5373\uff0c$x\u2295(2^5 \\sim 2^6-1)$ \u7684\u503c\u5c0f\u4e8e $x$\n\n\u73b0\u5728\u6211\u4eec\u53ea\u8981\u7b97\u51fa $(2^5 \\sim 2^6-1)$ \u6709\u51e0\u4e2a\u8d28\u6570\u5373\u53ef\uff0c\u524d\u7f00\u548c\u3002\n\n- \u7b2c\u4e8c\u4e2a $1$\n\n$100100 \u2295 0001** = 1000** <100100$\n\n\u6362\u8a00\u4e4b\uff0c $100100\u2295(000100 \\sim  000111)$ \u7684\u503c\u90fd\u5c0f\u4e8e  $100100$\n\n\u5373\uff0c $x\u2295(2^2 \\sim 2^3-1)$ \u7684\u503c\u5c0f\u4e8e $x$\n\n\u73b0\u5728\u6211\u4eec\u53ea\u8981\u7b97\u51fa $(2^2 \\sim 2^3-1)$ \u6709\u51e0\u4e2a\u8d28\u6570\u5373\u53ef\u3002\n\n\u603b\u4e4b\uff0c\u82e5 $x$ \u7684\u7b2c $i$ \u4f4d\u4e3a $1$\uff0c\u7b97\u51fa $2^i \\sim 2^{i+1}-1$ \u6709\u591a\u5c11\u4e2a\u8d28\u6570\u7d2f\u52a0\u5373\u53ef\u3002\n\n\u6ce8\u610f\uff0c$x\u2295p=y(y < x)$\uff0c $p$ \u6709\u53ef\u80fd\u8d85\u8fc7 $x$ \u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N=1e7+10;\nint prime[N],sum[N];\n\nint main() {\n\tint n;\n\tcin>>n;\n\tprime[0]=prime[1]=1;\n\tfor(int i=2;i<=N-10;i++)\n\t{\n\t\tif(prime[i]) continue;\n\t\tfor(int j=2;i*j<=N-10;j++) prime[i*j]=1;\n\t}\n\tfor(int i=1;i<=N-10;i++) sum[i]=sum[i-1]+(!prime[i]); \n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint x,ans=0;\n\t\tcin>>x;\n\t\tfor(int j=0;j<=30;j++)\n\t\t\tif(x&(1<<j)) \n\t\t\t\tans+=sum[(1<<(j+1))-1]-sum[(1<<j)-1];\n\t\tcout<<ans<<'\\n';\n\t}\n\treturn 0;\n}\n```\n\n\n",
        "postTime": 1668196543,
        "uid": 92704,
        "name": "fdszlzl",
        "ccfLevel": 0,
        "title": "\u3010\u4f4d\u8fd0\u7b97+\u6570\u8bba\u3011P8842 [\u4f20\u667a\u676f #4 \u521d\u8d5b] \u5c0f\u5361\u4e0e\u8d28\u65702"
    },
    {
        "content": "\u9898\u76ee\u8981\u6c42\u6ee1\u8db3 $x \\oplus y = p$\uff0c$p$ \u4e3a\u8d28\u6570\u7684 $y$ \u7684\u4e2a\u6570($y<x$)\u3002\n\n\u53d8\u4e00\u4e0b\u9898\u76ee\uff1a$x \\oplus y=p \\to x \\oplus p = y$\uff0c$\\because y<x$\uff0c$\\therefore x \\oplus p <x$\u3002\n\n\u518d\u8003\u8651\u4e0b\u8fd9\u4e2a\u95ee\u9898\u7684\u672c\u8d28\uff0c\u6211\u4eec\u4ece\u9ad8\u4f4d\u770b\u8d77\uff0c\u627e\u5230\u7b2c\u4e00\u4f4d $x$ \u662f $1$\uff0c$p$ \u662f $0$ \u7684\uff0c\u5f02\u6216\u64cd\u4f5c\u5176\u5b9e\u5c31\u662f\u4e0d\u8fdb\u4f4d\u52a0\u6cd5\uff0c\u90a3\u4e48\u8bbe\u8fd9\u4f4d\u662f\u7b2c $k$ \u4f4d\uff0c\u53ea\u8981\u5728 $[2^k,2^{k+1})$ \u4e4b\u5185\u7684\u8d28\u6570\u4e0e $x$ \u5f02\u6216\u4e0b\u6765\u90fd\u6bd4 $x$ \u5c0f\u3002\n\n\u4ee3\u7801\u5bb9\u6613\u5199\u51fa\uff1a\n\n```cpp\n// Date: 2022-11-12 06:30:03\n// Problem: P8842 [\u4f20\u667a\u676f #4 \u521d\u8d5b] \u5c0f\u5361\u4e0e\u8d28\u65702\n// Contest: Luogu\n// URL: https://www.luogu.com.cn/problem/P8842\n// Memory Limit: 128 MB\n// Time Limit: 1000 ms\n// Author: Gym_nastics\n// \n// Powered by CP Editor (https://cpeditor.org)\n\n#include<cmath>\n#include<queue>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\n\nconst int INF=0x3f3f3f3f;\nconst int Maxn=1e6+7;\nconst int Mod=1e9+7;\n\nint read() {\n    int x=0,f=0;char ch=getchar();\n    for(;!isdigit(ch);ch=getchar()) f|=(ch=='-');\n    for(;isdigit(ch);ch=getchar()) x=(x<<1)+(x<<3)+(ch&15);\n    return f?-x:x;\n}\n\nvoid print(int x) {\n    if(x<0) putchar('-'),x=-x;\n    if(x>9) print(x/10);\n    putchar(x%10+48);\n}\n\nbool vis[Maxn<<1];\nint pri[Maxn],cnt,Q[22];\n\nvoid prepare(){\n    for(int i=2;i<=(Maxn<<1)-14;i++){\n        if(!vis[i]) pri[++cnt]=i;\n        for(int j=1;j<=cnt&&i*pri[j]<=(Maxn<<1)-14;j++){\n            vis[i*pri[j]]=1;\n            if(i%pri[j]==0) break;\n        }\n    }\n    for(int i=1;i<=cnt;i++){\n        int x=pri[i],sum=0,ls=0;\n        while(x){if(x&1) ls=sum;x>>=1,++sum;}\n        Q[ls]++;\n    }\n}\n\nvoid Main(){\n    int x=read(),ans=0;\n    for(int i=0;i<=21;i++) if((x>>i)&1) ans+=Q[i];\n    print(ans),putchar('\\n');\n}\n\nsigned main() {\n    prepare();\n    int T=read();\n    while(T--) Main();\n    return 0;\n}\n```",
        "postTime": 1668206833,
        "uid": 397317,
        "name": "Gym_nastics",
        "ccfLevel": 0,
        "title": "P8842 [\u4f20\u667a\u676f #4 \u521d\u8d5b] \u5c0f\u5361\u4e0e\u8d28\u65702"
    },
    {
        "content": "[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P8842)\n\n\u53d8\u6001\u6570\u5b66\u9898\uff08\u4e3b\u8003\u4f4d\u8fd0\u7b97\u4e0e\u7d20\u6570\u7b5b\uff09\u3002\n\n\u8bfb\u5b8c\u9898\u770b\u8d77\u6765\u6709\u70b9\u96be\u505a\uff0c\u56e0\u4e3a\u8d28\u6570\u7684\u51fa\u73b0\u662f\u6839\u672c\u6ca1\u6709\u53ef\u4ee5\u4f7f\u7528\u7684\u89c4\u5f8b\u3002\u66b4\u529b\u7684\u8bdd\u4e5f\u5f88\u597d\u60f3\uff0c\u679a\u4e3e $y$\u3002\u4f46\u662f\u80af\u5b9a\u4f1a\u8d85\u65f6\u3002\u6211\u4eec\u4e5f\u53ef\u4ee5\u6362\u4e2a\u65b9\u5411\u679a\u4e3e\u3002\u5bf9\uff0c\u7b5b\u51fa\u7d20\u6570\uff0c\u518d\u8fd4\u8fc7\u53bb\u5224\u65ad\u6709\u591a\u5c11\u4e2a\u7d20\u6570\u7b26\u5408\u6761\u4ef6\uff0c\u4f46\u4efb\u7136\u4f1a\u8d85\u65f6\u3002\n\n\u518d\u601d\u8003\u4e00\u4e0b\uff0c$x$ \u5f02\u6216\u4e0a\u4ec0\u4e48\u6837\u7684\u6570\u624d\u80fd\u4f7f\u7ed3\u679c\u5c0f\u4e8e $x$\uff1f\n\n#### \u6ce8\u610f\u4e0b\u9762\u7684\u6b65\u9aa4\u9700\u8981\u8349\u7a3f\u7eb8\u63a8\u6f14\uff0c\u4e0d\u7136\u4f1a\u6709\u70b9\u96be\u7406\u89e3\u3002\n\n\u6211\u4eec\u8bbe\u7b26\u5408\u6761\u4ef6\u7684\u7d20\u6570\u4e3a $k$ \uff0c\u6211\u4eec\u8bbe $k$ \u7684\u4e8c\u8fdb\u5236\u4e2d\u6700\u9ad8\u4f4d\u662f\u7b2c $M$ \u4f4d\uff0c\u4e0d\u96be\u53d1\u73b0\uff0c\u53ea\u6709\u5728 $x$ \u7684\u7b2c $M$ \u4f4d\u4e0a\u4e5f\u662f $1$ \u7684\u65f6\u5019\uff0c$k$ \u5f02\u6216 $x$ \u7684\u7ed3\u679c\u5c0f\u4e8e $x$\uff08\u8fd9\u4e00\u6b65\u82e5\u5b9e\u5728\u60f3\u4e0d\u901a\u7684\u53ef\u4ee5\u62c9\u5230\u6587\u672b\uff0c\u67e5\u770b\u8bc1\u660e\u8fc7\u7a0b\uff09\u3002\n\n\u968f\u5373\u3002\u6211\u4eec\u7528\u7d20\u6570\u7b5b\uff0c\u5e76\u7edf\u8ba1\u8303\u56f4\u5185\u6240\u6709\u7d20\u6570\u7684\u6700\u9ad8\u4f4d\u662f\u54ea\u4e00\u4f4d\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u8be2\u95ee\u628a $x$ \u6bcf\u4f4d\u62c6\u5f00\uff0c\u82e5\u53d1\u73b0\u67d0\u4e00\u4f4d\u662f $1$\uff0c\u5219\u52a0\u4e0a\u6876\u91cc\u5df2\u7ecf\u8ba1\u7b97\u597d\u7684\uff0c\u4e8c\u8fdb\u5236\u6570\u8be5\u4f4d\u4e3a $1$ \u7684\u7d20\u6570\u4e2a\u6570\u3002\n\n\u4ee3\u7801\u5949\u4e0a\uff1a\n```cpp\n#include<iostream>\nusing namespace std;\nint T,n,m,ans;\nint zhi[2000010],cnt[26];\nbool f[2000010];\nvoid IAKchuanzhibei(){\n\t//\u7d20\u6570\u7b5b \uff08\u6b27\u62c9\u7b5b\u6cd5\uff09 \n\tfor(int i=2;i<=2000000;i++){\n\t\tif(!f[i])zhi[++m]=i;\n\t\tfor(int j=1;j<=m&&i*zhi[j]<=2000000;j++){\n\t\t\tf[i*zhi[j]]=1;\n\t\t\tif(!(i%(zhi[j])))break;\n\t\t}\n\t}\n\t//\u5f00\u6876\u8bb0\u5f55 \n\tfor(int i=1;i<=m;i++)\n\t\tfor(int j=25;j>=1;j--)//\u7531\u4e8e1000000\u5185\u6700\u5927\u7684\u8d28\u6570\u4e3a999983,\u8f6c\u6210\u4e8c\u8fdb\u5236\u4e3a1111 0100 0010 0010 1111\uff0c\u517124\u4f4d\uff0c\u4e3a\u4fdd\u9669\u8d77\u89c1\uff0c\u8fd9\u91cc\u4ece25\u5f00\u59cb\u8ba1\u7b97 \n\t\t\tif(zhi[i]&(1<<(j-1))){\n\t\t\t\tcnt[j]++;//\u8ba1\u7b97\u5f53\u8d28\u6570\u4e3aj\u4f4d\u65f6\uff0c\u4e00\u5171\u7684\u4e2a\u6570 \n\t\t\t\tbreak;\n\t\t\t}\n}\nint main()\n{\n\t//\u9884\u5904\u7406 \n\tIAKchuanzhibei();\n\t\n\tcin>>T;\n\twhile(T--)\n\t{\n\t\tcin>>n;\n\t\tans=0;\n\t\tfor(int i=25;i>=1;i--) if(n&(1<<(i-1))) ans+=cnt[i];//\u52a0\u4e0a\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u7d20\u6570 \n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n}\n```\n\u8bc1\u660e\u8fc7\u7a0b\uff1a\n\n\u89c2\u70b9\u4e00\uff1a\u90a3\u4e48 $k$ \u5f02\u6216 $x$ \u7684\u7ed3\u679c\u4ece $M+1$ \u4f4d\u5f00\u59cb\u4e0e $x$ \u7684 $M+1$ \u4f4d\u5f00\u59cb\u7684\u90e8\u5206\u76f8\u540c\u3002\u56e0\u4e3a $k$ \u7684 $M+1$ \u4f4d\u4ee5\u4e0a\u7684\u90e8\u5206\u5747\u4e3a $0$\uff0c\u56e0\u4e3a $1$ \u5f02\u6216 $0$ \u7684\u7ed3\u679c\u4e3a $1$\uff0c$0$ \u5f02\u6216 $0$ \u7684\u7ed3\u679c\u4e3a $0$\uff0c\u6240\u4ee5\u4fdd\u6301\u4e0d\u53d8\u3002\n\n\u89c2\u70b9\u4e8c\uff1a\u90a3\u4e48\u91cd\u70b9\u6765\u5230 $M$ \u4f4d\uff0c\u7531\u4e8e $k$ \u7684 $M$ \u4f4d\u4e00\u5b9a\u4e3a $1$\uff0c\u90a3\u4e48\u5982\u679c $x$ \u7684 $M$ \u4f4d\u4e5f\u4e3a $1$\uff0c\u5f02\u6216\u4e00\u4e0b\u7ed3\u679c\u4e3a $0$\uff0c\u5373\u5c0f\u4e8e\u539f\u6765 $x$ \u7684 $M$ \u4f4d\uff0c\u90a3\u4e48\u5f02\u6216\u7684\u7ed3\u679c\u4e00\u5b9a\u5c0f\u4e8e $x$\u3002\u82e5 $x$ \u7684 $M$ \u4f4d\u4e3a $0$\uff0c\u5219\u53cd\u4e4b\u3002\n\n---\n\n\u6211\u4eec\u8bbe $x=13$\uff0c\u5e76\u62ff\u8d28\u6570 $3$ \u548c $5$ \u4e3e\u4f8b\u3002\n\n$13$ \u7684\u4e8c\u8fdb\u5236\uff1a$1101$\u3002\n\n$3$ \u7684\u4e8c\u8fdb\u5236\uff1a$0011$ \u5f02\u6216\u7ed3\u679c\uff1a$1110$\u3002\n\n\u524d\u4e24\u4f4d\u4e0e $1101$ \u76f8\u540c\uff08\u89c2\u70b9\u4e00\uff09\u3002\n\n\u7b2c\u4e8c\u4f4d\uff08$M$ \u4f4d\uff09\u4e3a $1$\uff0c\u5927\u4e8e\u539f\u6765\u7684 $0$\u3002\u6240\u4ee5\u65e0\u8bba\u540e\u9762\u51e0\u4f4d\u4e3a\u4ec0\u4e48\uff0c\u5f02\u6216\u7ed3\u679c\u90fd\u6bd4 $1101$ \u5927\u3002\uff08\u89c2\u70b9\u4e8c\uff09\u3002\n\n---\n\n$5$ \u7684\u4e8c\u8fdb\u5236\uff1a$0101$ \u5f02\u6216\u7ed3\u679c\uff1a$1000$\u3002\n\n\u524d\u4e00\u4f4d\u4e0e $1101$ \u76f8\u540c\uff08\u89c2\u70b9\u4e00\uff09\u3002\n\n\u7b2c\u4e09\u4f4d\uff08$M$ \u4f4d\uff09\u4e3a $0$\uff0c\u5c0f\u4e8e\u539f\u6765\u7684 $1$\u3002\u6240\u4ee5\u65e0\u8bba\u540e\u9762\u51e0\u4f4d\u4e3a\u4ec0\u4e48\uff0c\u5f02\u6216\u7ed3\u679c\u90fd\u6bd4 $1101$ \u5c0f\u3002\uff08\u89c2\u70b9\u4e8c\uff09\u3002",
        "postTime": 1674797649,
        "uid": 616964,
        "name": "shoot_down",
        "ccfLevel": 4,
        "title": "P8842 [\u4f20\u667a\u676f #4 \u521d\u8d5b] \u5c0f\u5361\u4e0e\u8d28\u65702"
    }
]