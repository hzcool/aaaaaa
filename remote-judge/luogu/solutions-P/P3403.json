[
    {
        "content": "### \u96be\u70b9\u4e3b\u8981\u5728\u4e8e\u601d\u7ef4\u7684\u8f6c\u5316\n\n\n------------\n#### \u4ee4$f(i)$\u8868\u793a\u8868\u793a\u4ec5\u901a\u8fc7\u64cd\u4f5c$2$\u548c\u64cd\u4f5c$3$\u80fd\u5230\u8fbe\u7684 $mod$ $x$ $=$ $i$ \u7684\u6700\u5c0f\u697c\u5c42  \n\u5f88\u5bb9\u6613\u5f97\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b  \n+ \t$f(i+y)=f(i)+y$;\n+\t$f(i+z)=f(i)+z$;\n\n\u80fd\u5230\u8fbe$mod x=i+y$\u7684\u6700\u5c0f\u697c\u5c42  \n\u5373,\u5728\u80fd\u5230\u8fbe$mod x=i$\u7684\u6700\u5c0f\u697c\u5c42\u7684\u57fa\u7840\u4e0a,\u518d\u6267\u884c\u4e00\u904d\u64cd\u4f5c$2$\n### \u90a3\u4e48\u6709\u4e86\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b,\u5982\u4f55\u5feb\u901f\u5730\u6c42\u51fa\u6765\u5462?\n\u6211\u4eec\u6765\u770b\u770b\u6700\u77ed\u8def\u7684\u6c42\u6cd5\n> \n$f(y)=f(x)+edge(i)$;\n\n$y$\u662f\u5b50\u7ed3\u70b9,$x$\u662f\u7236\u8282\u70b9,$edge$\u8868\u793a\u6743\u503c  \n\u8fd9\u4e2a\u5199\u6cd5\u8ddf\u6211\u4eec\u4e0a\u9762\u7684\u8f6c\u79fb\u65b9\u7a0b\u5f88\u50cf\u8bf6  \n\u4e8e\u662f\u8003\u8651\u8ba9$(i+y)$\u548c$(i+z)$\u6210\u4e3a\u70b9;  \n\u8ba9$y,z$\u6210\u4e3a\u6743\u503c\u4ece\u800c\u7b97\u51fa$f(i)$; \n### \u7b97\u51fa$f(i)$\u6709\u4ec0\u4e48\u7528\u5462?\n$ans+=(h-f[i])/x +1$;  \n\u7531\u4e8e$f(i)$\u662f\u5728\u4e0d\u9002\u7528\u64cd\u4f5c$1$\u7684\u60c5\u51b5\u4e0b  \n\u6240\u4ee5$h$\u548c$f(i)$\u4e4b\u95f4\u7684\u5dee\u503c\u7531\u64cd\u4f5c$1$\u6765\u5b8c\u6210  \n\u800c\u6bcf\u8fdb\u884c\u64cd\u4e00\u6b21\u4f5c$1$,\u6211\u4eec\u5c31\u53ef\u4ee5\u5230\u8fbe\u4e00\u4e2a\u65b0\u7684\u697c\u5c42  \n\u6240\u4ee5\u7b54\u6848\u5c31\u8981\u7d2f\u52a0\u4e0a\u8fdb\u884c\u64cd\u4f5c$1$\u7684\u6b21\u6570\n#### \u5373 $(h-f[i])/x +1$\n\u4e3a\u4ec0\u4e48\u8981$+1$\u5462,  \n\u56e0\u4e3a\u9664\u6cd5\u662f\u5411\u4e0b\u53d6\u6574,\u6ce8\u610f\u7531\u4e8e$f$\u6570\u7ec4\u7684\u5b58\u5728,\u662f\u4e0d\u53ef\u80fd\u51fa\u73b0\u521a\u597d\u88ab\u6574\u9664\u7684,\u8fd9\u4e00\u70b9\u8bf7\u81ea\u5df1\u601d\u8003\n## Code:\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<queue>\n\nusing namespace std;\n\nconst int N=1e5+3;\nconst int INF=0x3f3f3f3f;\n\nlong long h,x,y,z;\nlong long f[N],ans;\nbool vis[N];\nint tot,ver[N*2],Next[N*2],edge[N*2],head[N];\n\n/*f(i)\u8868\u793a\u4ec5\u901a\u8fc72\u64cd\u4f5c\u548c3\u64cd\u4f5c\u80fd\u5230\u8fbe\u7684 mod x = i \u7684\u6700\u5c0f\u697c\u5c42 \n\u663e\u7136\n\tf(i+y)=f(i)+y\n\tf(i+z)=f(i)+z;\n\u800c\u6700\u77ed\u8def\u7684\u6c42\u6cd5\n\tf(y)=f(x)+edge(i);\n\u8ba9(i+y)\u548c(i+z)\u6210\u4e3a\u70b9\n\u8ba9y,z\u6210\u4e3a\u6743\u503c\n\u4ece\u800c\u7b97\u51faf(i) \n*/\nvoid add(int x,int y,int z)\n{\n\tver[++tot]=y;\n\tNext[tot]=head[x];\n\thead[x]=tot;\n\tedge[tot]=z;\n}\n\nvoid spfa()\n{\n\tmemset(f,INF,sizeof(f));\n\tmemset(vis,0,sizeof(vis));\n\tqueue<int> qwq;\n\tqwq.push(1);\n\tvis[1]=1;\n\tf[1]=1;\n\twhile(!qwq.empty())\n\t{\n\t\tint x=qwq.front();qwq.pop();\n\t\tvis[x]=0;\n\t\tfor(int i=head[x];i;i=Next[i])\n\t\t{\n\t\t\tint y=ver[i];\n\t\t\tif(f[y]>f[x]+edge[i])\n\t\t\t{\n\t\t\t\tf[y]=f[x]+edge[i];\n\t\t\t\tif(!vis[y])\n\t\t\t\t{\n\t\t\t\t\tqwq.push(y);\n\t\t\t\t\tvis[y]=1;\n\t\t\t\t } \n\t\t\t}\n\t\t}\n\t}\n}\n\nint main()\n{\n\tscanf(\"%lld\\n%lld%lld%lld\",&h,&x,&y,&z);\n\tif(x==1 || y==1 || z==1){cout<<h;return 0;} //\u7279\u5224 \n\tfor(int i=0;i<x;i++)\n\t{\n\t\t//\u5173\u952e\u70b9 \n\t\tadd(i,(i+y)%x,y);\n\t\tadd(i,(i+z)%x,z);\n\t}\n\tspfa();\n\tfor(int i=0;i<x;i++)\n\t\tif(f[i]<=h)\n\t\t\tans+=(h-f[i])/x +1;\n\t\t\t//\u663e\u7136 \n\t\n\tprintf(\"%lld\",ans);\n\t\n\treturn 0;\n}\n```\n",
        "postTime": 1541323350,
        "uid": 105790,
        "name": "fengzi8615",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3403 \u3010\u8df3\u697c\u673a\u3011"
    },
    {
        "content": "#### $20190928$ \u91cd\u65b0\u4fee\u4e86\u4e00\u4e0b\u6b64\u7bc7\u535a\u5ba2,\u4fee\u6539\u4e86\u7801\u98ce\n## **\u540c\u4f59\u6700\u77ed\u8def**\uff0c\u5e76\u4e0d\u662f\u7528\u540c\u4f59\u6765\u8dd1\u6700\u77ed\u8def\uff0c\u800c\u662f\u901a\u8fc7\u540c\u4f59\u6765\u6784\u9020\u67d0\u4e9b\u72b6\u6001\uff0c\u4ece\u800c\u8fbe\u5230\u4f18\u5316\u65f6\u95f4\u7a7a\u95f4\u590d\u6742\u5ea6\u7684\u76ee\u7684\u3002\u5f80\u5f80\u8fd9\u4e9b\u72b6\u6001\u5c31\u662f\u6700\u77ed\u8def\u4e2d\u7684\u70b9\uff0c\u53ef\u4ee5\u7c7b\u6bd4\u5dee\u5206\u7ea6\u675f\u8dd1\u6700\u77ed\u8def($f[i]+w<=f[j]$\u6784\u9020\u6700\u77ed\u8def\u4e0d\u7b49\u5f0f(\u5982 \u5c0fk\u7684\u519c\u573a))  \n## $luogu P3403$\u8df3\u697c\u673a \n\u9898\u610f\uff1a\u6c42$ax+by+cz=K,\\{K\u2208[1,h];x,y,z\u2208N\\}$\uff0c\u6709\u591a\u5c11$K$\u6ee1\u8db3\u6761\u4ef6    \n\u7c7b\u6bd4$(NOIP~2018~T2)$(\u4e5f\u53ef\u4ee5\u7528\u540c\u4f59\u6700\u77ed\u8def\u6765\u8dd1,~~\u7136\u800c\u5f53\u5e74\u624b\u63a8exgcd~~),\u533a\u522b\u5c31\u5728\u8d27\u5e01\u7cfb\u7edf\u9650\u5236\u4e86\u8d27\u5e01\u7684\u4e0a\u9650$a[i]<=25000$,\u6240\u4ee5\u53ef\u4ee5\u7528\u80cc\u5305\u6765\u8dd1\u3002\u4f46\u662f\u8fd9\u9053\u9898\u7684**\u6700\u5927\u4e0a\u9650\u8fbe\u5230\u4e86$1e18$**,\u6240\u4ee5\u5c31\u8981\u7528\u5230\u540c\u4f59\u6700\u77ed\u8def\u6765\u4f18\u5316\u3002 \n\n\u5148\u8003\u8651\u7b80\u5355\u60c5\u51b5,\u5047\u8bbe\u53ea\u6709\u4e24\u4e2a\u6570$x\\&y$\uff08\u5373$z=0$\uff09,**\u53ef\u4ee5\u8003\u8651\u7528$ax$\u6765\u51d1\u51fa\u6240\u6709$ax\\%b==[0,b-1]$\u4e2d\u5230\u6bcf\u4e2a\u72b6\u6001\u70b9$[0,b-1]$\u7684\u6700\u5c0f$x$\u6240\u7528\u503c**\u3002\u4e0b\u9762\u5bf9\u6700\u5c0f\u6709\u89e3\u91ca\u3002  \n \n### \u8bbe$dis[i]$\u8868\u793a\u5230i\u53f7\u72b6\u6001\u70b9\u65f6,\u6240\u9700\u82b1\u8d39\u7684\u6700\u5c0f$a*x$,\u4e5f\u5c31\u662f\u8981\u8fbe\u5230\u72b6\u6001$ax\\%b==i$\u4f7f\u7528$a$\u8df3\u697c\u673a\u7684\u6700\u5c0f\u6b21\u6570$x$\u3002  \n#### \u8fd9\u91cc\u6709\u4e24\u4e2a\u5730\u65b9\u9700\u8981\u7406\u89e3\uff1a  \n+ **i\u53f7\u72b6\u6001\u70b9**: \u8868\u793a\u7684\u662f$ax\\%y==i$\u7684\u72b6\u6001,\u5c06\u6b64\u72b6\u6001\u62bd\u8c61\u6210\u4e00\u4e2a\u70b9\u3002\u56e0\u4e3a$y$\u6709\u7cfb\u6570$b$,\u6bcf\u5bf9\u5f53\u524d\u72b6\u6001$i$\u53d6\u4e00\u4e2a$y$\uff0c\u90fd\u4f1a\u5bf9\u5e94\u4e00\u4e2a\u65b0\u7684\u697c\u5c42\u3002\u8fd9\u6837\u7528\u6700\u5927\u9ad8\u5ea6\u51cf\u53bb\u5f53\u524d$dis[i]$\u53bb\u9664\u7cfb\u6570$b$\u5411\u4e0b\u53d6\u6574\u5f97\u5230\u5c31\u662f\u53ef\u4ee5\u8df3\u5230\u7684\u697c\u5c42\u6570\u91cf\u3002\n+ **\u82b1\u8d39\u6700\u5c0f\u7684x**: \u9650\u5236\u4e86$x$\u6700\u5c0f,\u5373$a*x$\u6700\u5c0f,\u8fd9\u6837\u5c31\u53ef\u4ee5\u7528\u7559\u4e0b\u66f4\u591a\u7684$y$\u6765\u5f97\u5230\u66f4\u5927\u7684\u7b54\u6848\u3002\n\n\u5efa\u8fb9\u65b9\u5f0f     \n``` adde(u = i, v = ( i + a ) % b, w = a); ```\n\n\u7edf\u8ba1\u7b54\u6848    \n``` for ( i = 0; i < y; ++i) if (h >= dis[i]) ans += (h - dis[i]) / b + 1; ```\n\n\u7edf\u8ba1\u7b54\u6848\u65f6\u76f4\u63a5\u7b97$b$\u7684\u7cfb\u6570$y$\u6709\u591a\u5c11\u79cd\u53ef\u80fd\u5c31\u884c\u4e86,\u8fd9\u6837\u76f8\u5f53\u4e8e\u56fa\u5b9a\u4e86\u4e00\u4e2a\u540c\u4f59\u7cfb$b$\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u72b6\u6001$i$,\u52a0\u4e0a$b*y$\u4e00\u5b9a\u4e0d\u4f1a\u91cd\u590d\u7edf\u8ba1\u697c\u5c42\u3002\n\n\u7136\u540e\u8003\u8651\u5982\u9898\u60c5\u51b5,\u4e09\u5143\u4e0d\u5b9a\u65b9\u7a0b$ax+by+cz=N$,\u8bbe$c=min(a,b,c)$,\u4e3a\u4e86\u6700\u5927\u8282\u7701\u7a7a\u95f4\u65f6\u95f4,\u6211\u4eec\u53d6\u6a21\u6570\u6700\u5c0f\u503c,\uff08\u5373\u4f7f\u5f97\u540c\u4f59\u7cfb\u6700\u5c0f\uff09,\u8bbe\u6700\u5c0f\u6570\u540c\u4f59\u7cfb\u53c2\u6570\u4e3a$c$\uff0c\u72b6\u6001\u70b9\u6570\u4e3a$0$ ~ $c-1$\u3002    \n\u5efa\u8fb9\u65b9\u5f0f\u4e3a  ```adde(i, (i+a)%c, a) \u548c adde(i, (i + b) % c, b)```   \n\u7edf\u8ba1\u7b54\u6848\u4ecd\u4e3a\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u72b6\u6001\u70b9$i$,\u8ba1\u7b97$c$\u7684\u7cfb\u6570$z$\u7684\u53d6\u503c\u4e2a\u6570\u3002  \n\u5373``` if ( h >= dis[i] ) ans += (h - dis[i]) / c + 1;``` \n\n\u62d3\u5c55\uff1a\u5982\u679c\u8981\u5355\u72ec\u8ba8\u8bba$x$\u80fd\u5426\u88ab\u53d6\u5230\uff0c$x$\u80fd\u88ab\u53d6\u5230\u7684\u5145\u8981\u6761\u4ef6 $d[x\\%a_i] <= x$\uff0c\u8fd9\u91cc\u7684$a_i$\u662f\u4e4b\u524d\u94a6\u5b9a\u7684\u6700\u5c0f\u6a21\u6570\u3002\n\n```cpp   \n  \n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<queue>\n#define rr register int\nusing namespace std; \ntypedef long long ll;\ninline ll read(){\n\tchar i = getchar();\n\tll dp = 1, res = 0;\n\twhile (i < '0' || i > '9') {\n\t\tif (i == '-') dp = -1;\n\t\ti = getchar();\n\t}\n\twhile (i >= '0' && i <= '9') {\n\t\tres = res * 10 + i - '0';\n\t\ti = getchar();\n\t}\n\treturn res * dp;\n}\nconst int N = 1e5 + 50;\nstruct zk{\n\tint v, next;\n\tll w;\n}ed[N << 2];\nint head[N], cnt=0, vis[N];\nll dis[N];\ninline void adde(int u, int v, ll w){\n\ted[++cnt].v = v;\n\ted[cnt].w = w;\n\ted[cnt].next = head[u];\n\thead[u] = cnt;\n}\nll h, x, y, z;\nqueue<int> q;\nvoid SPFA(){ //SPFA \u677f\u5b50 \n\tdis[1] = 1;\n\tvis[1] = 1;\n\tq.push(1);\n\twhile (!q.empty()) {\n\t\tint u = q.front();\n\t\tvis[u] = 0;\n\t\tq.pop();\n\t\tfor (rr i = head[u]; ~ i; i = ed[i].next) {\n\t\t\tint v = ed[i].v, w = ed[i].w;\n\t\t\tif (dis[v] > dis[u] + w){\n\t\t\t\tdis[v] = dis[u] + w;\n\t\t\t\tif (!vis[v]) {\n\t\t\t\t\tq.push(v);\n\t\t\t\t\tvis[v] = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nint main(){\n\tmemset(head, -1, sizeof(head));\n\tmemset(dis, 0x3f3f3f3f, sizeof(dis));\n    h = read(), x = read(), y = read(), z=read();\n    for (rr i = 0; i < z;++i) {\n    \tadde(i, (i + x)% z, x);\n    \tadde(i, (i + y)% z, y);//\u8868\u793a\u4ecei\u5230\u4e0b\u4e00\u4e2a\u70b9(i+y)%z \n    }\n    SPFA();\n    ll ans = 0;\n    for(rr i = 0; i < z; ++i) {\n    \tif(h >= dis[i]) \n\t\t\tans += (h - dis[i]) / z + 1;\n    }\n    printf(\"%lld\\n\",ans);\n}\n  \n```\n",
        "postTime": 1544856770,
        "uid": 19905,
        "name": "DarkMoon_Dragon",
        "ccfLevel": 0,
        "title": "\u540c\u4f59\u6700\u77ed\u8def\u603b\u7ed3"
    },
    {
        "content": "## [\u539f\u6587\u5730\u5740](https://www.cnblogs.com/bcoier/p/10789672.html)\n\n~~\u8fd9\u9898\u662f\u5728\u5e72\u561b\u554a\uff1f\u6015\u4e0d\u662f\u53c8\u662fa*b-a-b~~\n\n\u7136\u800c\u4e07\u4e07\u6ca1\u60f3\u5230\uff0c\u8fd9\u662f\u5230\u56fe\u8bba\u9898\n\n\u8bbe$dis[i]$\u4e3a\u5728$%x$\u610f\u4e49\u4e0b\uff0c\u80fd\u5230\u8fbe\u7684\u697c\u5c42\u4e3ai\u7684\u6700\u5c0f\u503c\n\n\u4e5f\u5c31\u662f\u8bf4\u53ea\u7528$y, z$\u80fd\u5230\u8fbe\u7684\u697c\u5c42\u5728$%x$\u610f\u4e49\u4e0b\u7684\u6700\u5c0f\u503c\n\n\u4e0d\u96be\u63a8\u51fa\u65b9\u7a0b\n\n$$dis[(i + y) \\% x] = min(dis[(i + y) \\% x], dis[i] + y)$$\n\n$$dis[(i + z) \\% x] = min(dis[(i + z) \\% x], dis[i] + z)$$\n\n\u770b\u5230\u8fd9\u4e24\u4e2a\u67ff\u5b50\uff0c\u4e0d\u96be\u60f3\u5230\u56fe\u8bba\u4e2d\u7684\u6700\u77ed\u8def\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528\u6700\u77ed\u8def\u6765\u6c42\u51fa$0~x$\u7684$dis$\u503c\n\n\u6c42\u9664\u4e86dis\u4ee5\u540e\u6709\u4ec0\u4e48\u7528\u5462\uff1f\n\n\u8ddf\u636edis\u5b9a\u4e49\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7y, z\u5230\u8fbe\u7684\u6700\u5c0f\u697c\u5c42\uff0c\u4ee5\u8be5\u697c\u5c42\u4e3a\u8d77\u70b9\uff08\u8bbe\u8be5\u70b9\u4e3as\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u8df3\u5230$s + x$, $s + 2 * x$\u2026\u2026\n\n\u603b\u5171\u6211\u4eec\u53ef\u4ee5\u8df3\u5230$(H - dis[i]) / x + 1$\u5c42\n\n\u4e0d\u96be\u8bc1\u660e\uff0c\u6bcf\u4e2a\u697c\u5c42\u662f\u4e0d\u4f1a\u88ab\u91cd\u590d\u7edf\u8ba1\u7684\n\n\u4e8e\u662f\u6211\u4eec\u5c31\u53ef\u4ee5\u4ee5\u4f18\u79c0\u7684\u590d\u6742\u5ea6\u5b8c\u6210\u6b64\u9898\u4e86\n```\n#include<bits/stdc++.h>\nusing namespace std;\n#define il inline\n#define re register\n#define int long long\nil int read() {\n    re int x = 0, f = 1; re char c = getchar();\n    while(c < '0' || c > '9') { if(c == '-') f = -1; c = getchar();}\n    while(c >= '0' && c <= '9') x = x * 10 + c - 48, c = getchar();\n    return x * f;\n}\n#define rep(i, s, t) for(re int i = s; i <= t; ++ i)\n#define mem(k, p) memset(k, p, sizeof(k))\n#define maxn 100005\nint n, m, x, y, z, dis[maxn], vis[maxn], ans;\nqueue<int>q;\nil void SPFA() {\n\tmem(dis, 63), q.push(1 % x), dis[1 % x] = 1;\n\twhile(!q.empty()) {\n\t\tint u = q.front(); q.pop(), vis[u] = 0;\n\t\tint v = (u + y) % x;\n\t\tif(dis[v] > dis[u] + y) {\n\t\t\tdis[v] = dis[u] + y;\n\t\t\tif(!vis[v]) vis[v] = 1, q.push(v);\n\t\t}\n\t\tv = (u + z) % x;\n\t\tif(dis[v] > dis[u] + z) {\n\t\t\tdis[v] = dis[u] + z;\n\t\t\tif(!vis[v]) vis[v] = 1, q.push(v);\n\t\t}\n\t}\n}\nsigned main() {\n\tn = read(), x = read(), y = read(), z = read();\n\tSPFA();\n\trep(i, 0, x - 1) if(dis[i] <= n) ans += (n - dis[i]) / x + 1;\n\tprintf(\"%lld\", ans);\n\treturn 0;\n}\n```",
        "postTime": 1556511009,
        "uid": 57014,
        "name": "Nemlit",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3403 \u3010\u8df3\u697c\u673a\u3011"
    },
    {
        "content": "## \u57fa\u672c\u601d\u60f3\n\n\u901a\u8fc7\u540c\u4f59\u6784\u9020\u67d0\u4e9b\u72b6\u6001\uff0c\u72b6\u6001\u4e4b\u95f4\u7684\u5173\u7cfb\u7c7b\u4f3c\u4e8e\u4e24\u70b9\u4e4b\u95f4\u7684\u5e26\u6743\u6709\u5411\u8fb9\u3002\n\n\u90a3\u4e48\u53ef\u4ee5\u4ee5\u6b64\u5efa\u56fe\uff0c\u5c06\u67d0\u4e9b\u95ee\u9898\u8f6c\u5316\u4e3a\u6700\u77ed\u8def\u95ee\u9898\uff0c\u518d\u4f7f\u7528\u5177\u6709\u4f18\u79c0\u65f6\u95f4\u590d\u6742\u5ea6\u7684\u7b97\u6cd5\u6c42\u89e3\u3002\n\n#### \u3010\u4f8b\u9898\u3011[P3403 \u8df3\u697c\u673a](https://www.luogu.com.cn/problem/P3403)\n\n\u9996\u5148\u53ef\u4ee5\u5c06 $h$ \u51cf\u53bb $1$\uff0c\u540c\u65f6\u8d77\u59cb\u697c\u5c42\u8bbe\u4e3a $0$\u3002\n\n\u8bbe $d_i$ \u4e3a\u80fd\u591f\u5230\u8fbe\u7684\u6700\u4f4e\u7684 $\\bmod x = i$ \u7684\u697c\u5c42\u3002\n\n\u5219\u6709 $i \\stackrel{y}{\\longrightarrow} (i+y)\\bmod x$ \u548c $i \\stackrel{z}{\\longrightarrow} (i+z)\\bmod x$\u3002\n\n\u50cf\u8fd9\u6837\u5efa\u56fe\u540e\uff0c$d_i$ \u5c31\u76f8\u5f53\u4e8e $0 \\to i$ \u7684\u6700\u77ed\u8def\uff0cDijkstra \u5373\u53ef\u3002\n\n\u6700\u540e\u7edf\u8ba1\u65f6\uff0c\u5bf9\u4e8e $d_i \\le h$\uff0c\u6709\u8d21\u732e $\\lfloor\\frac{h-d_i}x\\rfloor + 1$\u3002\n\n\u603b\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(n \\log n)$\u3002\n\n```cpp\nconst int N = 1e5 + 7;\nconst ll inf = (1ull << 63) - 1;\nll h, d[N], ans;\nint x, y, z, v[N];\nvector< pi > e[N];\npq< pair< ll, int > > q; \n\nint main() {\n\trd(h), --h, rd(x), rd(y), rd(z);\n\tfor (int i = 0; i < x; i++) e[i].pb(mp((i + y) % x, y)), e[i].pb(mp((i + z) % x, z)), d[i] = inf;\n\td[0] = 0, q.push(mp(0, 0));\n\twhile (q.size()) {\n\t\tint x = q.top().se;\n\t\tq.pop();\n\t\tif (v[x]) continue;\n\t\tv[x] = 1;\n\t\tfor (ui i = 0; i < e[x].size(); i++) {\n\t\t\tint y = e[x][i].fi, z = e[x][i].se;\n\t\t\tif (d[y] > d[x] + z) d[y] = d[x] + z, q.push(mp(-d[y], y));\n\t\t}\n\t}\n\tfor (int i = 0; i < x; i++)\n\t\tif (h >= d[i]) ans += (h - d[i]) / x + 1;\n\tprint(ans);\n\treturn 0;\n}\n```\n\n#### \u3010\u4f8b\u9898\u3011[P2371 [\u56fd\u5bb6\u96c6\u8bad\u961f]\u58a8\u58a8\u7684\u7b49\u5f0f](https://www.luogu.com.cn/problem/P2371)\n\n\u4e0a\u4e00\u9898\u7684\u6269\u5c55\u3002\n\n```cpp\nconst int N = 5e5 + 7;\nconst ll inf = 1e18;\nll l, r, d[N], ans;\nint n, x, v[N];\nvector< pi > e[N];\npq< pair< ll, int > > q; \n\nint main() {\n\trd(n), rd(l), --l, rd(r), rd(x);\n\tfor (int i = 1; i < x; i++) d[i] = inf;\n\tfor (int i = 1, y; i < n; i++) {\n\t\trd(y);\n\t\tfor (int i = 0; i < x; i++)\n\t\t\te[i].pb(mp((i + y) % x, y));\n\t}\n\tq.push(mp(0, 0));\n\twhile (q.size()) {\n\t\tint x = q.top().se;\n\t\tq.pop();\n\t\tif (v[x]) continue;\n\t\tv[x] = 1;\n\t\tfor (ui i = 0; i < e[x].size(); i++) {\n\t\t\tint y = e[x][i].fi, z = e[x][i].se;\n\t\t\tif (d[y] > d[x] + z) d[y] = d[x] + z, q.push(mp(-d[y], y));\n\t\t}\n\t}\n\tfor (int i = 0; i < x; i++) {\n\t\tif (r >= d[i]) ans += (r - d[i]) / x + 1;\n\t\tif (l >= d[i]) ans -= (l - d[i]) / x + 1;\n\t}\n\tprint(ans);\n\treturn 0;\n}\n```",
        "postTime": 1576062972,
        "uid": 100544,
        "name": "xht",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3403 \u3010\u8df3\u697c\u673a\u3011"
    },
    {
        "content": "\u5076\u7136\u95f4\u53d1\u73b0\u4e86\u53bb\u5e74\u505a\u8fc7\u7684\u8fd9\u9898\u90a3\u5c31\u5199\u4e00\u4e0b\u9898\u89e3\u53edqwq.\n\n------------\n\n\u77e5\u8bc6\u70b9\uff1a**\u6700\u77ed\u8def**\n\n\u601d\u8def\uff1a\u64cd\u4f5c1-4\u5206\u522b\u4e3a\uff1a\u56de\u52301\uff1b\u4e0a\u5347a\u5c42\uff1b\u4e0a\u5347b\u5c42\uff1b\u4e0a\u5347c\u5c42\uff1b\n\n**\u7528f[i]\uff08\u6211\u7684\u7406\u89e3\u5c31\u662f\u697c\u5c42\u95f4\u9694\uff09\u5b58\u4ec5\u901a\u8fc7\u7b2c3\uff0c4\u79cd\u65b9\u5f0f\u79fb\u52a8\u6240\u80fd\u5230\u8fbe\u7684mod a= i\u7684\u6700\u5c0f\u697c\u5c42\u3002**\n\n```cpp\n\u4e3e\u4e2a\u6817\u5b50\uff1a\n\u5f53\u524da=4,b=2,c=3\u65f6\uff1b\n\u6b64\u65f6\u6240\u80fd\u5230\u8fbe\u7684\u6700\u5c0f\u697c\u5c42\u4e3a6\uff1b\n\u5219 6 mod 4 = 2\uff1b\u6240\u4ee5 f[2] = 6\u3002\n```\n\n\u7406\u89e3\u4e86\u4e0a\u9762\u7684\u6b65\u9aa4\u5c31\u53ef\u4ee5\u5f97\u51fa\u4ec5\u901a\u8fc73\u64cd\u4f5c\u62164\u64cd\u4f5c\u6c42\u51faf[i]\u7684\u5f0f\u5b50\u3002\n\n```cpp\n3\u64cd\u4f5c\uff1af[i+b] = f[i] + b;\n//\u80fd\u5230\u8fbemod a=i+b\u7684\u6700\u5c0f\u697c\u5c42\u5373\u5728\u80fd\u5230\u8fbemod a=i\u7684\u6700\u5c0f\u697c\u5c42\u7684\u57fa\u7840\u4e0a\u518d\u6267\u884c\u4e00\u904d3\u64cd\u4f5c\uff0c4\u64cd\u4f5c\u540c\u7406\uff1b\n4\u64cd\u4f5c: f[i+c] = f[i] + c\u3002\n```\n\n\u4ece\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\u4e0e\u6700\u77ed\u8def\u7684\u6a21\u677f\u76f8\u4f3c\uff1a\n\ndist[x] = dist[y] + z\u3002\n\n\u63a5\u4e0b\u6765\u7edf\u8ba1\u7b54\u6848:\n\n\u56e0\u4e3af[i]\u53ea\u662f\u901a\u8fc73\u64cd\u4f5c\u4e0e4\u64cd\u4f5c\u6240\u80fd\u5230\u8fbe\u7684mod a= i\u7684\u6700\u5c0f\u697c\u5c42\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u53ef\u4ee5**\u901a\u8fc72\u64cd\u4f5c\u5230\u8fbe\u66f4\u9ad8\u7684\u697c\u5c42**\uff0c\u90a3\u4e48\u5728\u7edf\u8ba1\u7b54\u6848\u65f6\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u5373\uff1b\n\n```cpp\nans +=\uff08h-d[i]\uff09/ a + 1\uff1b\n\"+1\" \u662f\u5b83\u672c\u8eab\u7684\u697c\u5c42\u3002\n```\n\u505a\u5b8c\u4ee5\u4e0a\u6b65\u9aa4\u5373\u53ef\u3002\n\n~~\uff08\u9898\u5916\u8bdd\uff1a\u56e0\u4e3a\u5fd8\u8bb0STL\u5927\u6839\u5806\u662f\u6309\u7b2c\u4e00\u4e2a\u5173\u952e\u5b57\u6392\u5e8f\u7684\u61a8\u61a8\u8c03\u4e86\u4e00\u4e2a\u5c0f\u65f6\u3002\u3002\u3002\u8bdd\u8bf4spfa\u597d\u50cf\u66f4\u5feb\u4f46\u662f\u5b83\u8fd8\u662f\u6b7b\u4e86\uff09~~\n\nCODE\uff1a\n```cpp\n#include <iostream>\n#include <queue>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\nusing namespace std;\n\nconst int N=1e5+100;\nlong long n,a,b,c,ans,tot;\nlong long d[N],ver[N<<1],head[N],edge[N<<1],Next[N<<1];\nbool v[N];\npriority_queue< pair<long long,long long> > q;\n\ninline void add(int x,int y,int z){\n\tver[++tot]=y,edge[tot]=z,Next[tot]=head[x],head[x]=tot;\n}\n\ninline void dijkstra(){\n\tmemset(d,0x3f3f,sizeof(d));\n   //long long\u4e0b\u7684\u6700\u5927\u503c\u662f0x3f3f3f3f3f3f3f3f\u7136\u540ememset\u662f4\u4f4d4\u4f4d\u8d4b\u503c\u7684\u6240\u4ee5\u5c31\u662f0x3f3f\n\tmemset(v,false,sizeof(v));\n\td[1]=1;//\u4e0e\u5e73\u5e38\u7684\u6700\u77ed\u8def\u4e0d\u540c\uff0c\u56e0\u4e3a\u5230\u5b83\u672c\u8eab\u697c\u5c42\u4e5f\u6709\u4e00\u6b21\u6240\u4ee5\u8d4b\u4e3a1\n\tq.push(make_pair(-1,1));\n\twhile(q.size()){\n\t\tint x=q.top().second;\n\t\tq.pop();\n\t\tif(v[x]) continue;\n\t\tv[x]=true;\n\t\tfor(int i=head[x];i;i=Next[i]){\n\t\t\tint y=ver[i],z=edge[i];\n\t\t\tif(d[y]>d[x]+z){\n\t\t\t\td[y]=d[x]+z;\n\t\t\t\tq.push(make_pair(-d[y],y));\n\t\t\t}\n\t\t}\n\t}\n}\n\nint main(){\n\tscanf(\"%lld%lld%lld%lld\",&n,&a,&b,&c);\n\tif(a==1 || b==1 || c==1){\n\t\tprintf(\"%lld\",n);//\u5982\u679c\u6709\u5b58\u5728\u4e00\u79cd\u64cd\u4f5c\u4e3a\u4e0a\u53471\u5c42\u663e\u7136\u90fd\u53ef\u5230\u8fbe\n\t\treturn 0;\n\t}\n\tfor(int i=0;i<a;i++) add(i,(i+b)%a,b),add(i,(i+c)%a,c);//\u5efa\u56fe\n\tdijkstra();\n\tfor(int i=0;i<a;i++)\n\t\tif(d[i]<=n) ans+=(n-d[i])/a+1;//\u7edf\u8ba1\u7b54\u6848\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1572232811,
        "uid": 67885,
        "name": "Juk_DR",
        "ccfLevel": 0,
        "title": "P3403 \u8df3\u697c\u673a"
    },
    {
        "content": "\u56de\u6765\u590d\u4e60,\u770b\u89c1\u8fd9\u9053\u9898\u535a\u5ba2\u8fd8\u6ca1\u5199\u5b8c,\u56de\u6765\u8865\u4e86\u8865;\n\n---\n\t\u8fd9\u9053\u9898\u601d\u8def\u5e76\u4e0d\u597d\u60f3,\u8bf4\u662f\u540c\u4f59,\u4e3b\u8981\u662f\u56e0\u4e3a\u7edf\u8ba1\u7b54\u6848\u65f6\u4e0e\u8dd1\u6700\u77ed\u8def\u4f18\u5316\u6570\u7ec4\u5927\u5c0f\u7684\u65b9\u5f0f\u7f62\u4e86;\n\n\u200b\t\u5148\u8003\u8651\u5982\u4f55\u7edf\u8ba1\u7b54\u6848,\u5982\u679c\u6211\u4eec\u77e5\u9053\u4e00\u4e2a\u6570 $num$ \u662f\u7531 $y,z$ \u6784\u6210\u7684,\u5373 $num=a*y+b*z$ ,\u90a3\u4e48\u5982\u679c\u52a0\u4e0a $x$ ,\u5b83\u80fd\u5230\u8fbe\u7684\u697c\u5c42\u6570\u4e3a $(h-num)/x+1$ \u5176\u4e2d $+1$ \u662f\u56e0\u4e3a\u8981\u7edf\u8ba1\u4e0d\u52a0 $x$ \u65f6\u7684\u7b54\u6848;\n\n\u200b\t\u90a3\u4e48\u5982\u679c\u6211\u4eec\u80fd\u627e\u5230\u8fd9\u4e9b\u6570,\u518d\u53bb\u7edf\u8ba1\u4e0d\u5c31\u597d\u4e86\u5417,\u4f46\u662f\u4f1a\u6709\u91cd\u590d,\u800c\u4e14\u6570\u5b57\u592a\u8fc7\u5e9e\u5927,\u65e0\u6cd5\u5b8c\u5168\u8dd1\u51fa,\u90a3\u4e48\u8003\u8651\u4ec0\u4e48\u65f6\u5019\u56de\u91cd\u590d\u8ba1\u6570,\u5373\u5f53 $num1=num2+ax$ ,\u6b64\u65f6 $num1$ \u7684\u8d21\u732e\u5df2\u7ecf\u88ab $num2$ \u7edf\u8ba1\u8fc7,\u518d\u89c2\u5bdf\u4e24\u4e2a\u6570\u5b57,\u53d1\u73b0 $num1 \\% x=num2 \\% x$ ,\u90a3\u4e48\u6211\u4eec\u53ea\u8981\u627e\u5230\u4f59\u6570\u76f8\u540c\u4e2d\u6700\u5c0f\u503c\u5373\u53ef,\u4f59\u6570\u5171\u6709 $x$ \u79cd; \n\n\u200b\t\u8bbe\u8ba1\u8f6c\u79fb\u65b9\u7a0b: \u8bbe $f[i]$ \u6307\u4f59\u6570\u4e3a $i$ \u65f6\u6700\u5c0f\u697c\u5c42\u6570,\u90a3\u4e48\u8f6c\u79fb\u6709\u4e24\u79cd\u65b9\u5f0f;\n\n\u200b\t$f[(i+y)\\%x]=min(f[i]+y,f[(i+y)\\%x])$\n\n\u200b\t$f[(i+z)\\%x]=min(f[i]+z,f[(i+y)\\%x])$ \n\n\u200b\t\u6211\u4eec\u53ef\u4ee5\u7528\u6700\u77ed\u8def\u6765\u4f18\u5316\u7c7b\u4f3c\u4e8e\u70b9 $i$ \u4e0e\u70b9 $(i+y)\\%x$ \u8fde\u8fb9,\u4ee3\u4ef7\u4e3a $y$ ;\n\n\u200b\t\u8bb2\u5230\u8fd9\u5e94\u8be5\u5c31\u591f\u4e86,\u8fd9\u91cc\u9644\u4e0a\u7684\u4ee3\u7801\u662f\u6211\u4ee5\u524d\u5199\u7684,\u6709\u70b9\u4e11,\u4f46\u662f\u80fd\u770b\u61c2;\n#### code\n```cpp\n#include<bits/stdc++.h>\n#define INF 1000000000000000LL\n#define ll long long\n#define maxn 100007\nusing namespace std;\nll h,dis[maxn];\nint a[4],x,y,z,mn,vis[maxn];\nint min(int x,int y){return x<y?x:y;}\nqueue<int >q;const int n=3;\n\nvoid SPFA(){\n\tmemset(dis,0x3f3f3f3f,sizeof(dis));\n\tvis[1]=1;q.push(1);dis[1]=1;\n\twhile(!q.empty()){\n\t\tint x=q.front();q.pop();\n\t\tfor(int i=1;i<=n;i++) if(a[i]!=mn){\n\t\t\tint y=(a[i]+x)%mn;\n\t\t\tif(dis[y]>dis[x]+a[i]){\n\t\t\t\tdis[y]=dis[x]+a[i];\n\t\t\t\tif(!vis[y]) vis[y]=1,q.push(y);\n\t\t\t}\n\t\t}\n\t\tvis[x]=0;\n\t}\n}\n\nll query(ll x){\n\tll ans=0;\n\tfor(int i=0;i<mn;i++){\n\t\tif(x>=dis[i]) ans+=(x-dis[i])/mn+1; \n\t}\n\treturn ans;\n}\n\nint main(){\n//\tfreopen(\"srwudi.in\",\"r\",stdin);\n//\tfreopen(\"srwudi.out\",\"w\",stdout);\n\tscanf(\"%lld%d%d%d\",&h,&x,&y,&z);\n\tmn=min(x,min(y,z));\n\tif(x==1||y==1||z==1){\n\t\tprintf(\"%lld\",h);\n\t\treturn 0;\n\t}\n\ta[1]=x,a[2]=y,a[3]=z;\n\tSPFA();\n\tprintf(\"%lld\",query(h));\n\treturn 0;\n}\n```\n",
        "postTime": 1573609789,
        "uid": 142518,
        "name": "Mr_Leceue",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3403 \u3010\u8df3\u697c\u673a\u3011"
    },
    {
        "content": "\u3010\u6700\u77ed\u8def\u76f8\u5173\u3011\n\n\u591c\u6df1\u4eba\u9759 \u4f46\u5fc3\u91cc\u6709\u4e9b\u70e6\u8e81 \u5199\u70b9\u4e1c\u897f\u8bb0\u5f55\u4e00\u4e0b\u81ea\u5df1\u521a\u505a\u7684\u4e24\u9053\u9898\u7684\u611f\u609f\n\n\u4e24\u9053\u9898\uff1a\n\n\u8df3\u697c\u673ahttps://www.luogu.org/problemnew/show/P3403\n \n\u58a8\u58a8\u7684\u7b49\u5f0fhttps://www.luogu.org/problemnew/show/P2371\n\n\u8fd9\u4e24\u9053\u9898\u770b\u4f3c\u4e0e\u6700\u77ed\u8def\u65e0\u5173\uff0c\u7b2c\u4e00\u9053\u9898\u8ba9\u4eba\u6478\u4e0d\u5230\u5934\u8111\uff0c\u7b2c\u4e8c\u9053\u9898\u4e00\u770b\u9898\u9762\u5012\u50cf\u662f\u4e00\u9053\u6570\u5b66\u9898\uff0c\u7ed3\u679c\u5374\u53ef\u4ee5\u5229\u7528\u6700\u77ed\u8def\u6c42\u89e3\uff0c\u771f\u662f\u5947\u5999\u554a\u3002\n\n## T1\uff1a\n\u4ece\u4e00\u697c\u5f00\u59cb\uff0c\u53ef\u4ee5\u4e0a\u5347x, y, z\u5c42\uff0c\u697c\u9ad8H\uff0c\u6c42\u80fd\u591f\u5230\u8fbe\u7684\u697c\u5c42\u6570\u91cf\u3002\n\n\u7b2c\u4e00\u6b21\u5199\u4e86\u4e2a\u6df1\u641c\uff0c\u5f97\u4e8640\u5206\uff1a\n```\n#include <cstdio>\n#include <iostream>\n#include <cstring>\nusing namespace std;\n\ntypedef long long ll;\n\nll h, ans;\nint x, y, z;\nbool vis[50000000 + 3];\n\nvoid dfs(int n){\n    if(n + x > h && n + y > h && n + z > h) return ;\n    \n    if(n + x <= h && !vis[n + x]){\n        vis[n + x] = true;\n        ans++;\n        dfs(n + x);\n    }\n    \n    if(n + y <= h && !vis[n + y]){\n        vis[n + y] = true;\n        ans++;\n        dfs(n + y);\n    }\n    \n    if(n + z <= h && !vis[n + z]){\n        vis[n + z] = true;\n        ans++;\n        dfs(n + z);\n    }\n}\n\nint main(){\n    scanf(\"%lld%d%d%d\", &h, &x, &y, &z);\n    ans = 1;\n    dfs(1);\n    printf(\"%lld\\n\", ans);\n    return 0;\n}\n```\n\u7136\u540e\u770byyb\u5927\u7237\u7684\u9898\u89e3:\n\n\u201c\u5148\u53ea\u8003\u8651\u53ea\u7528y,z\u4e24\u79cd\u79fb\u52a8\u65b9\u5f0f\uff0c\u5b83\u4eec\u4e00\u5b9a\u80fd\u591f\u5230\u8fbe\u4e00\u4e9b\u697c\u5c42\uff0c\n\u90a3\u4e48\u8fd9\u4e9b\u697c\u5c42\u518d\u53ea\u7528x\u62d3\u5c55\u5c31\u80fd\u591f\u8ba1\u7b97\u7b54\u6848\u3002\n\n\u90a3\u4e48\u6211\u4eec\u8fd9\u6837\u5b50\u8ba1\u7b97\u7b54\u6848\uff0c\u8bbedis[i]\u8868\u793a\u53ef\u4ee5\u5230\u8fbemod x=i\u7684\u697c\u5c42\u7684\u6700\u5c0f\u503c\uff0c\u663e\u7136\u8fd9\u4e2a\u73a9\u610f\u53ef\u4ee5\u6700\u77ed\u8def\u6c42\uff0c\u90a3\u4e48\u76f4\u63a5\u5efa\u56fe\u8dd1SPFA\uff08\u6b7b\u4e0d\u6389\u7684\uff09\uff0c\u7136\u540e\u7edf\u8ba1\u4e00\u4e0b\u7b54\u6848\u3002\u201d\n\n\u5176\u5b9e\u4e00\u5f00\u59cb\u5e76\u4e0d\u600e\u4e48\u61c2......\n\n**(\u81ea\u4ee5\u4e3a\u7684\u4e3b\u8981\u601d\u60f3)**\n\n**\u4efb\u9009\u4e24\u79cd\u65b9\u5f0f (\u4f3c\u4e4e\u662f\u54ea\u4e24\u4e2a\u90fd\u884c...\u8fd9\u91cc\u662f\u9009\u7684x\u548cy)\uff0c\u4f5c\u4e3a\u8fb9\u6743\u53bb\u62d3\u5c55\u697c\u5c42\uff0c\u62d3\u5c55\u5230\u4e00\u4e2a\u697c\u5c42\u53ea\u9700\u8981\u8bb0\u5f55\u6b64\u697c\u5c42 mod x \u7684(\u6700\u5c0f?)\u503c\u5c31\u884c\uff0c\u56e0\u4e3a\u53ea\u8981\u5b58\u5728\u4e00\u4e2a\u6570i(i < x)\uff0c\u90a3\u4e48 i + kx <= H \u7684\u697c\u5c42\u90fd\u53ef\u4ee5\u5230\u8fbe\uff0c\u8fd9\u4e2a\u4e1c\u897f\u5c31\u53ef\u4ee5\u5efa\u56fe\u7136\u540e\u8dd1\u6700\u77ed\u8def\u6c42\u4e86\uff0c\u90a3\u4e48\u7edf\u8ba1\u7b54\u6848\u7684\u65f6\u5019\u5c31\u5e94\u5f53\u8fd9\u6837**\n\n```\nfor(int i = 0; i < x; i++){\n\t\t//\u6700\u540e+1\u662f\u52a0\u4e0a\u6b64\u697c\u5c42\uff01\n        if(dis[i] <= H) ans += (H - dis[i]) / x + 1;\n    }\n```\n\nstd\n```\n#include <cstdio>\n#include <iostream>\n#include <queue>\n#include <cstring>\nusing namespace std;\n\ntypedef long long ll;\n\nconst int N = 1e5 + 3;\nconst int INF = 0x3f3f3f3f;\n\nll H, x, y, z, dis[N], ans;\nbool inq[N];\n\nstruct edge{\n    int to, w, nxt;\n}e[N << 1];\nint tot, hd[N];\n\nvoid addedge(int from, int to, int w){\n    e[++tot] = (edge){to, w, hd[from]}; hd[from] = tot;\n}\n\nqueue<int> Q;\n\nvoid SPFA(){\n    memset(dis, INF, sizeof(dis));\n    //\u4e00\u697c\u80fd\u5230\u7684mod x\u6700\u5c0f\u697c\u5c42\u6570\u5c31\u662f1\u4e86...\n    dis[1 % x] = 1;  Q.push(1 % x);  inq[1 % x] = true;\n    while(!Q.empty()){\n        int u = Q.front(); Q.pop();\n        inq[u] = false;\n        for(int i = hd[u]; i; i = e[i].nxt){\n            int v = e[i].to;\n            if(dis[v] > dis[u] + e[i].w){\n                dis[v] = dis[u] + e[i].w;\n                if(!inq[v]) Q.push(v), inq[v] = true;\n            }\n        }\n    }\n}\n\nint main(){\n    scanf(\"%lld%lld%lld%lld\", &H, &x, &y, &z); \n    for(int i = 0; i < x; i++){ //\u5173\u952e\u5728\u6b64\n        addedge(i, (i + y) % x, y);\n        addedge(i, (i + z) % x, z);\n    }\n    SPFA();\n    for(int i = 0; i < x; i++){ //\u5173\u952e\u5728\u6b64: i : 0 -> (x - 1)\n        if(dis[i] <= H) ans += (H - dis[i]) / x + 1;\n    }\n    printf(\"%lld\\n\", ans);\n    return 0;\n}\n```\n\u8bb2\u4e86\u8fd9\u4e48\u4e00\u904d\u81ea\u5df1\u5e94\u8be5\u4f1a\u4e86\u5427......\n\n\n## T2\uff1a\n\u7ed9\u5b9a\u65b9\u7a0b a1 * x1 + a2 * x2 + ... + an * xn = B , \u7ed9\u5b9aN, {an}, \u4ee5\u53caB\u7684\u53d6\u503c\u8303\u56f4\uff0c\u95ee\u8fd9\u5176\u4e2d\u6709\u591a\u5c11\u4e2aB\u4f7f\u5f97\u65b9\u7a0b\u5b58\u5728\u975e\u8d1f\u6574\u6570\u89e3\n\nyyb:\u201c\u548c\u8df3\u697c\u673a\u90a3\u9898\u662f\u4e00\u6837\u7684\u3002\n\u53ea\u4e0d\u8fc7\u8d70\u7684\u65b9\u5f0f\u4ece3\u79cd\u53d8\u6210\u4e86n\u79cd\u800c\u5df2\uff0c\u5176\u4ed6\u7684\u6839\u672c\u6ca1\u6709\u533a\u522b\u4e86\u3002\u201d\n\n\u6211\uff1a\u61f5\u903c\n\n\u770b\u4e00\u770b\u8fd9\u4e24\u9053\u9898\u7684\u5171\u540c\u70b9\uff1a\u90fd\u662f**\u7edf\u8ba1\u4e2a\u6570**\n\n\u6211\u4eec\u53ef\u4ee5\u5728{an}\u4e2d\u9009\u62e9\u4e00\u4e2a\u6700\u5c0f\u7684ai\uff0c\u8bb0\u4e3amn\uff0c\u7136\u540e\u7528\u5176\u4ed6\u7684\u7cfb\u6570\u53bb\u62d3\u5c55\u8fd9\u4e9b\u7b26\u5408\u6761\u4ef6\u7684B\u7684\u4e2a\u6570\uff0c\u50cf\u4e0a\u4e00\u9898\u4e00\u6837\uff0c\u7528dis[i]\u8868\u793a mod mn = i \u7684(\u6700\u5c0f?)\u503c\uff0c\u7136\u540e\u5c06\u5404\u4e2a\u7cfb\u6570ai\u4f5c\u4e3a\u8fb9\u6743\u53bb\u62d3\u5c55\u7b26\u5408\u6761\u4ef6\u7684B\u7684\u4e2a\u6570\uff0c\u6700\u540e\u7edf\u8ba1\u4e2a\u6570\u4e5f\u662f\u5dee\u4e0d\u591a\u7684\uff0c\u53ea\u662f\u9898\u76ee\u7ed9\u5b9a\u4e86\u4e00\u4e2a\u533a\u95f4\uff0c\u6240\u4ee5\uff1a\n```\nans = enquiry(R) - enquiry(L - 1);\n\nll enquiry(ll m){\n    ll res = 0;\n    for(int i = 0; i < mn; i++)\n        if(dis[i] <= m) res += (m - dis[i]) / mn +  1;\n    return res;\n}\n```\n\nstd\n```\n#include <cstdio>\n#include <iostream>\n#include <cstring>\n#include <queue>\nusing namespace std;\n\ntypedef long long ll;\n\nconst int N = 12 + 3;\nconst int MAXA = 5e5 + 500;\nconst int INF = 0x3f3f3f3f;\n\nint read(){\n    int k = 1, x = 0;\n    char c = getchar();\n    while(c < '0' || c > '9') { if(c == '-')k = -1; c = getchar(); }\n    while(c >= '0' && c<= '9') { x = x * 10 + c - '0'; c = getchar(); }\n    return x * k;\n}\n\nint n, a[N], tot, mn;\nll L, R, dis[MAXA];\nbool inq[MAXA];\n\nqueue<int> Q;\n\nvoid SPFA(){\n    memset(dis, INF, sizeof(dis));\n    memset(inq, false, sizeof(inq));\n    Q.push(0);  inq[0] = true;  dis[0] = 0;//\u5f97\u52300\u7684\u4ee3\u4ef7\u662f0\n    while(!Q.empty()){\n        int u = Q.front(); Q.pop();\n        inq[u] = false;\n        for(int i = 1; i <= n; i++) if(a[i] != mn){\n            int v = (u + a[i]) % mn;\n            if(dis[v] > dis[u] + a[i]){\n                dis[v] = dis[u] + a[i];\n                if(!inq[v]) Q.push(v), inq[v] = true;\n            }\n        }\n    }\n}\n\nll enquiry(ll m){\n    ll ans = 0;\n    for(int i = 0; i < mn; i++)\n        if(dis[i] <= m) ans += (m - dis[i]) / mn +  1;\n    return ans;\n}\n\nint main(){\n    scanf(\"%d%lld%lld\", &n, &L, &R);\n    mn = INF;\n    for(int i = 1; i <= n; i++){\n        if((a[i] = read())) a[++tot] = a[i];\n        mn = min(mn, a[i]);\n    }\n    n = tot;\n    SPFA();\n    printf(\"%lld\\n\", enquiry(R) - enquiry(L - 1));\n    return 0;\n}\n```",
        "postTime": 1536939176,
        "uid": 50062,
        "name": "currycodingg",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3403 \u3010\u8df3\u697c\u673a\u3011"
    },
    {
        "content": "\u548b\u90fd\u662f SPFA\uff0c\u5361\u4e00\u4e0b\u4e0d\u5c31\u6b7b\u4e86\u5417\u3002\n\n\u8fd8\u6709 dijkstra\uff0c\u548b\u6ca1\u4eba\u5199 01bfs \u554a\u3002\n\n\u5927\u6982\u505a\u6cd5\u5176\u4ed6\u9898\u89e3\u5df2\u7ecf\u8bf4\u5f97\u5f88\u6e05\u695a\u4e86\uff0c\u5c31\u662f\u8bbe $d_u$ \u4e3a\u819c $x$ \u5f97 $u$ \u7684\u80fd\u5230\u8fbe\u7684\u6700\u5c0f\u697c\u5c42\uff0c\u7136\u540e\u8dd1\u6700\u77ed\u8def\u3002\n\n\u4f46\u662f\u8fd9\u6837\u7684\u8bdd\u662f\u4e2a\u5e26\u6743\u6700\u77ed\u8def\u3002\u6211\u4eec\u4ee4 $d_u$ \u4e3a\u4e0a\u9762\u90a3\u4e2a $d_u$ \u9664\u4ee5 $x$ \u5411\u4e0b\u53d6\u6574\uff0c\u7136\u540e\u94a6\u5b9a $x\\ge y,z$\uff0c\u8fd9\u6837\u7684\u8bdd\u6bcf\u6b21\u8f6c\u79fb\u7684\u8fb9\u6743\u53ea\u6709\u53ef\u80fd\u662f $0$ \u6216\u8005 $1$\uff0c\u5c31\u53ef\u4ee5 01bfs \u4e86\u3002\n\n\u7136\u540e\u5c31\u662f\u4e0d\u8981\u50cf\u6211\u8fd9\u79cd\u5165\u95e8\u9009\u624b\u4e00\u6837\u4e0d\u4f1a\u5199 01bfs\u2026\u2026\n```cpp\n#include<queue>\n#include<cctype>\n#include<cstdio>\nusing namespace std;\ntypedef long long ll;\ninline ll readint(){\n\tll x=0;\n\tbool f=0;\n\tchar c=getchar();\n\twhile(!isdigit(c)&&c!='-') c=getchar();\n\tif(c=='-'){\n\t\tf=1;\n\t\tc=getchar();\n\t}\n\twhile(isdigit(c)){\n\t\tx=x*10+c-'0';\n\t\tc=getchar();\n\t}\n\treturn f?-x:x;\n}\nconst int maxx=1e5+5;\nint x,y,z;\nll h;\nconst int inf=2e9;\nint d[maxx],p[maxx];\nbool vis[maxx];\nvoid bfs(){\n\tfor(int i=0;i<x;i++) d[i]=inf;\n\tdeque<int> q;\n\td[1]=0;\n\tq.push_back(1);\n\twhile(!q.empty()){\n\t\tint u=q.front();\n\t\tq.pop_front();\n\t\tif(vis[u]) continue;\n\t\tvis[u]=1;\n\t\tif(u+y<x){\n\t\t\tif(d[u+y]>d[u]){\n\t\t\t\td[u+y]=d[u];\n\t\t\t\tq.push_front(u+y);\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(d[u+y-x]>d[u]+1){\n\t\t\t\td[u+y-x]=d[u]+1;\n\t\t\t\tq.push_back(u+y-x);\n\t\t\t}\n\t\t}\n\t\tif(u+z<x){\n\t\t\tif(d[u+z]>d[u]){\n\t\t\t\td[u+z]=d[u];\n\t\t\t\tq.push_front(u+z);\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tif(d[u+z-x]>d[u]+1){\n\t\t\t\td[u+z-x]=d[u]+1;\n\t\t\t\tq.push_back(u+z-x);\n\t\t\t}\n\t\t}\n\t}\n}\nint main(){\n\t#ifdef LOCAL\n\tfreopen(\"in.txt\",\"r\",stdin);\n\tfreopen(\"out.txt\",\"w\",stdout);\n\t#endif\n\th=readint();\n\tx=readint();\n\ty=readint();\n\tz=readint();\n\tif(x<y) swap(x,y);\n\tif(x<z) swap(x,z);\n\tif(x==1){\n\t\tprintf(\"%lld\\n\",h);\n\t\treturn 0;\n\t}\n\tbfs();\n\tll ans=0;\n\tfor(int i=1;i<x;i++) if(vis[i]&&h/x+(h%x>=i)>=d[i])\n\t\tans+=h/x+(h%x>=i)-d[i];\n\tif(vis[0]&&h/x-d[0]+1>=0) ans+=h/x-d[0]+1;\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1590395756,
        "uid": 174045,
        "name": "FZzzz",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3403 \u3010\u8df3\u697c\u673a\u3011"
    },
    {
        "content": "\u4e00\u4e2a\u6bd4\u8f83\u7b80\u5355\u7684 trick\u3002\u4f3c\u4e4e\u7f51\u4e0a\u73b0\u5728\u53ea\u6709\u4e24\u9053\u9898\uff08[\u8df3\u697c\u673a](https://www.luogu.com.cn/problem/P3403) \u548c [\u58a8\u58a8\u7684\u7b49\u5f0f](https://www.luogu.com.cn/problem/P2371)\uff09\u3002\u5e72\u8106\u5c31\u6765\u5199\u4e00\u4e0b\u5427\u3002\n\n## \u540c\u4f59\u6700\u77ed\u8def\n\n\u901a\u8fc7\u540c\u4f59\u6784\u9020\u4e00\u4e9b\u72b6\u6001\uff0c\u72b6\u6001 $x \\to y$ \u76f8\u5f53\u4e8e\u56fe\u4e0a\u70b9 $x$ \u8fde\u4e0a\u4e00\u6761\u6709\u5411\u5e26\u6743\u7684\u8fb9\u81f3 $y$\u3002\n\n\u56e0\u6b64\u53ef\u901a\u8fc7\u6b64\u65b9\u6cd5\u5efa\u56fe\u8dd1\u6700\u77ed\u8def\uff0c\u4ee5\u6b64\u8fbe\u5230\u89e3\u51b3\u95ee\u9898\u7684\u6548\u679c\u3002\n\n### [\u3010\u4f8b\u9898\u3011\u8df3\u697c\u673a](https://www.luogu.com.cn/problem/P3403)\n\n\u6709\u56db\u79cd\u64cd\u4f5c\uff0c\u5206\u522b\u4e3a\uff1a\n\n- \u5411\u4e0a\u8df3 $x$ \u5c42\uff1b   \n- \u5411\u4e0a\u8df3 $y$ \u5c42\uff1b   \n- \u5411\u4e0a\u8df3 $z$ \u5c42\uff1b   \n- \u56de\u5230\u7b2c $1$ \u5c42\u3002\n\n\u7ed9\u5b9a\u6700\u9ad8\u697c\u5c42 $h$\uff0c\u95ee\u53ef\u4ee5\u5230\u8fbe\u591a\u5c11\u4e0d\u540c\u7684\u697c\u5c42\u3002\n\n---\n\n\u5148\u5047\u8bbe $x < y < z$\u3002\n\n\u5b9a\u4e49 $d_i$ \u4e3a\u53ea\u901a\u8fc7\u64cd\u4f5c $2,3$ \u80fd\u591f\u8fbe\u5230\u7684\u6700\u4f4e\u697c\u5c42 $p$\uff0c\u5e76\u4e14\u6ee1\u8db3 $p \\ \\bmod x =i$\u3002\n\n\u4e0d\u96be\u5f97\u5230\u4e24\u4e2a\u72b6\u6001\uff1a\n\n- $i \\stackrel{y}{\\longrightarrow}[(i+y) \\ \\bmod x]$\uff1b\n- $i \\stackrel{z}{\\longrightarrow}[(i+z) \\ \\bmod x]$\u3002\n\n\u53ea\u8981\u6211\u4eec\u6c42\u51fa $d_0,d_1,\\dots,d_{x-1}$\uff0c\u7b54\u6848\u5c31\u663e\u800c\u6613\u89c1\u4e86\u3002\u5728\u6b64\u57fa\u7840\u4e0b\u6211\u4eec\u53ea\u9700\u8981\u8df3\u5230\u4e0d\u80fd\u518d\u8df3\uff0c\u5bf9\u4e8e\u7b54\u6848\u7d2f\u52a0\u5c31\u884c\u4e86\u3002\u663e\u7136\u80fd\u591f\u8bc1\u660e\u8df3\u7684\u697c\u5c42\u4e0d\u4f1a\u91cd\u590d\u3002\u7b54\u6848\u5373\u4e3a\uff1a\n\n$$\\sum_{i=0}^{x-1} \\lfloor \\frac{(h-d_i)}{x} \\rfloor +1$$\n\n\u6ce8\uff1a\u8fd9\u91cc\u9700\u8981\u52a0\u4e00\u7684\u539f\u56e0\u662f\u73b0\u5728\u6240\u5904\u7684\u697c\u5c42\u4e5f\u8981\u7b97\u4e00\u6b21\u3002\n\n\u73b0\u5728\u7684\u6700\u4e3b\u8981\u95ee\u9898\u662f $d_i$ \u5982\u4f55\u6c42\u51fa\u3002\n\n\u8054\u60f3\u5230\u6700\u77ed\u8def\uff0c\u6700\u77ed\u8def\u7684\u8f6c\u79fb\u662f\uff1a\n\n$$i \\stackrel{val}{\\longrightarrow}j$$\n\n\u8fd9\u4e2a\u8f6c\u79fb\u5b9e\u9645\u4e0a\u548c\u9898\u76ee\u8981\u6c42\u7684\u72b6\u6001\u662f\u76f8\u50cf\u7684\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4ee4 $i,[(i+y) \\ \\bmod x]$ \u4e0e $[(i+z) \\ \\bmod x]$ \u4e3a\u70b9\uff0c$y,z$ \u4e3a\u6743\u503c\u5c31\u80fd\u591f\u8f6c\u79fb\u4e86\u3002\n\n\u5b9a\u4e49\u5230\u8fd9\u91cc\uff0c\u663e\u7136\u7684\uff0c$d_i$ \u5c31\u662f $1 \\to i$ \u7684\u6700\u77ed\u8def\u3002\u76f4\u63a5\u4f7f\u7528\u6700\u77ed\u8def\u7b97\u6cd5\u5373\u53ef\u3002\u8fd9\u91cc\u4f7f\u7528\u7684 Dijkstra \u7b97\u6cd5\u3002\u4f46\u662f\u8fd9\u79cd\u9898\u63a8\u8350\u4f7f\u7528 SPFA\uff0c\u8fd9\u6837\u5efa\u56fe\u662f\u4e0d\u4f1a\u88ab\u5361\u7684\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\nstruct Edge{\n\tLL v,val;\n\tEdge(){}\n\tEdge(LL V,LL VAL){v=V,val=VAL;}\n};\nstruct Point{\n\tLL val;\n\tint s;\n\tPoint(){}\n\tPoint(LL VAL,int S){val=VAL,s=S;}\n\tbool operator < (Point another) const {return val<another.val;}\n};\nvector<Edge> G[100005];\nLL h,d[100005];\nint x,y,z;\nvoid Dijkstra(LL s)\n{\n\tmemset(d,63,sizeof d);\n\td[1]=1;\n\tpriority_queue<Point> Q;\n\tQ.push(Point(1,s));\n\twhile(!Q.empty())\n\t{\n\t\tPoint now=Q.top();\n\t\tQ.pop();\n\t\tint p=now.s;\n\t\tLL val=now.val;\n\t\tif(val<d[p])\tcontinue;\n\t\tfor(unsigned int i=0;i<G[p].size();++i)\n\t\t{\n\t\t\tif(G[p][i].val+d[p]<d[G[p][i].v])\n\t\t\t{\n\t\t\t\td[G[p][i].v]=G[p][i].val+d[p];\n\t\t\t\tQ.push(Point(d[G[p][i].v],G[p][i].v));\n\t\t\t}\n\t\t}\n\t}\n}\nint main(){\n\tscanf(\"%lld %d %d %d\",&h,&x,&y,&z);\n\tif(x==1 || y==1 || z==1)\treturn printf(\"%lld\",h)&0;\n\tint a[5];\n\ta[1]=x,a[2]=y,a[3]=z;\n\tsort(a+1,a+4);\n\tx=a[1],y=a[2],z=a[3];\n\tfor(int i=0;i<x;++i)\tG[i].emplace_back(Edge((i+y)%x,y)),G[i].emplace_back(Edge((i+z)%x,z));\n\tDijkstra(1);\n\tLL ans=0;\n\tfor(int i=0;i<x;++i)\tif(d[i]<=h)\tans+=(h-d[i])/x+1;\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```\n\n### [\u3010\u62d3\u5c55\u3011\u58a8\u58a8\u7684\u7b49\u5f0f](https://www.luogu.com.cn/problem/P2371)\n\n\u9898\u610f\uff1a\n\n\u7ed9\u5b9a $a_1,a_2,\\dots,a_n,l,r,n$\uff0c\u6c42\u6709\u591a\u5c11\u4e2a $b \\in [l,r]$\uff0c\u4f7f\u5f97\u7b49\u5f0f\u5b58\u5728\u975e\u8d1f\u6574\u6570\u89e3\u3002\n\n\u4e0e\u4e0a\u9898\u76f8\u5dee\u4e0d\u5927\uff0c\u552f\u4e00\u7684\u53d8\u5316\u662f\u6c42\u6709\u591a\u5c11\u4e2a $b \\in [l,r]$ \u6ee1\u8db3\u6761\u4ef6\uff0c\u5b9e\u9645\u4e0a\u7b49\u540c\u4e8e\u5206\u522b\u6c42\u6709\u591a\u5c11\u4e2a $b \\in [1,r]$ \u6ee1\u8db3\u6761\u4ef6\u548c\u6709\u591a\u5c11\u4e2a $b \\in [1,l-1]$ \u6ee1\u8db3\u6761\u4ef6\u3002\u7136\u540e Dijkstra \u5199\u4e11\u7684\u88ab\u5361\u4e86\u3002\n\n\u533a\u522b\u5728\u4e8e\u4e0a\u9898\u6709 $3$ \u4e2a\u4e0a\u697c\u7684\u64cd\u4f5c\uff0c\u8fd9\u4e2a\u9898\u6709 $n$ \u4e2a\u3002\u7167\u5e38\u5efa\u56fe\u5c31\u884c\u4e86\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\nchar buf[1<<21],*p1=buf,*p2=buf;\n#define getchar() (p1==p2 && (p2=(p1=buf)+fread(buf,1,1<<21,stdin),p1==p2)?EOF:*p1++)\nLL read()\n{\n\tLL x=0,f=1;\n\tchar c=getchar();\n\twhile(c<'0' || c>'9')\n\t{\n\t\tif(c=='-')\tf=-1;\n\t\tc=getchar();\n\t}\n\twhile(c>='0' && c<='9')\tx=(x<<1)+(x<<3)+(c^'0'),c=getchar();\n\treturn x*f;\n}\nvoid write(LL x)\n{\n\tif(x<0)\tputchar('-'),x=-x;\n\tif(x>9)\twrite(x/10);\n\tputchar(x%10+'0');\n}\nstruct Edge{\n\tint v,val;\n\tEdge(){v=val=0;}\n\tEdge(int V,int VAL){v=V,val=VAL;}\n};\nstruct Point{\n\tint val,s;\n\tPoint(){val=s=0;};\n\tPoint(int VAL,int S){val=VAL,s=S;}\n\tbool operator < (Point another) const {return val<another.val;}\n};\nvector<Edge> G[500005];\nLL l,r,d[500005];\nbool vis[500005];\nint n,a[15];\nvoid Spfa(int s)\n{\n\tmemset(d,63,sizeof d);\n\tqueue<int> Q;\n\td[s]=0;\n\tQ.push(s);\n\twhile(!Q.empty())\n\t{\n\t\tint now=Q.front();\n\t\tQ.pop();\n\t\tvis[now]=false;\n\t\tfor(unsigned int i=0;i<G[now].size();++i)\n\t\t{\n\t\t\tint to=G[now][i].v,val=G[now][i].val;\n\t\t\tif(d[to]>d[now]+val)\n\t\t\t{\n\t\t\t\td[to]=d[now]+val;\n\t\t\t\tif(!vis[to])\tQ.push(to),vis[to]=true;\n\t\t\t}\n\t\t}\n\t}\n}\nLL query(LL upper)\n{\n\tLL ans=0;\n\tfor(LL i=0;i<a[1];++i)\tif(d[i]<=upper)\tans+=(upper-d[i])/a[1]+1;\n\treturn ans;\n}\nint main(){\n\tn=read(),l=read(),r=read();\n\tfor(LL i=1;i<=n;++i)\n\t{\n\t\ta[i]=read();\n\t\tif(a[i]==1)\treturn write(r-l+1),0;\n\t\tif(!a[i])\t--n,--i;\n\t}\n\tsort(a+1,a+1+n);\n\tLL p=unique(a+1,a+1+n)-a-1;\n\tn=p;\n\tif(n==1)\treturn write(r/a[1]-(l-1)/a[1]),0;\n\tfor(LL i=0;i<a[1];++i)\tfor(LL j=2;j<=n;++j)\tG[i].emplace_back(Edge((i+a[j])%a[1],a[j]));\n\t/*\n\t0 2\n\t1 0\n\t2 1\n\t*/\n\tSpfa(0);\n\twrite(query(r)-query(l-1));\n\treturn 0;\n}\n```\n\n\n\u5b8c\u3002",
        "postTime": 1593913897,
        "uid": 184977,
        "name": "pomelo_nene",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3403 \u3010\u8df3\u697c\u673a\u3011"
    },
    {
        "content": "## \u9898\u89e3\uff08\u778e\u5439\uff09\n\n\u5982\u679c\u4e0d\u8003\u8651$h$\u7684\u5927\u5c0f\u95ee\u9898\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u7b80\u5355\u7684dp:\n\n$f(i)=f(i-x)|| f(i-y)|| f(i-z)$\n\n$f(1)=true$\n\n\u56e0\u4e3a$h$\u8fc7\u5927\uff0c\u8fd9\u4e2adp\u7684\u65f6\u7a7a\u590d\u6742\u5ea6\u8fc7\u9ad8\uff0c\u4e0d\u80fd\u63a5\u53d7\uff0c\u56e0\u6b64\u9700\u8981\u8fdb\u884c\u4f18\u5316\u3002\n\n\u6700\u7ec8\u4e0a\u5347\u5230\u7684\u697c\u5c42\u548c\u64cd\u4f5c\u7684\u987a\u5e8f\u6ca1\u6709\u5173\u7cfb\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06\u4e00\u79cd\u64cd\u4f5c\u5806\u79ef\u8d77\u6765\uff0c\u5c06\u4e00\u4e2a\u5230\u8fbe\u7684\u697c\u5c42\u5206\u89e3\u4e3a:\n$$\nh=ax+by+cz\n$$\n\u9996\u5148\u6211\u4eec\u7528\u6700\u77ed\u8def\u7684\u65b9\u5f0f\u6c42\u51fa\u6570\u7ec4$f()$\uff0c\u4e0d\u77e5\u9053\u600e\u4e48\u8ba1\u7b97\u7684\u5230\u65f6\u5019\u770b\u4ee3\u7801\n\n$f(i)=\\min\\limits_h\\{h\\mod z=i\\}$\n\u5176\u4e2d$h=ax+by$\n\n\u7ffb\u8bd1\u6210\u4eba\u8bdd\u5c31\u662f\u7528\u524d\u4e24\u79cd\u64cd\u4f5c\u5230\u8fbe\u4e00\u4e2a\u9ad8\u5ea6h\uff0c\u8fd9\u4e2a\u9ad8\u5ea6\u548cz\u53d6\u6a21\u7684\u7ed3\u679c\u662fi\uff0c$f(i)$\u8868\u793a\u7684\u662f\u6700\u5c0f\u7684h\u3002\n\n\u6c42\u51fa\u8fd9\u4e2a$f()$\u4e4b\u540e\uff0c\u6211\u4eec\u4ece\u697c\u5c42$f(i)$\u51fa\u53d1\uff0c\u53ea\u7528\u64cd\u4f5c3\u80fd\u591f\u5230\u8fbe\u7684\u697c\u5c42\u6709$\\lfloor{h-f(i)\\over x}\\rfloor + 1 \\ \\ \\ (1)$\n\n\u90a3\u4e48\u8fd9\u4e2a\u7b54\u6848\u662f\u5426\u6709\u9057\u6f0f\u5462\uff0c\u5047\u8bbe\u6211\u4eec\u4ece$f(i)$\u51fa\u53d1\uff0c\u7528\u64cd\u4f5c1\uff0c2\u518d\u8d70\u5230\u4e86\u4e00\u4e2a\u697c\u5c42$h'$\uff0c\u8fd9\u4e2a\u697c\u5c42\u4f9d\u7136\u6ee1\u8db3$h'\\mod z=i$\uff0c\u90a3\u4e48\u53ef\u4ee5\u5f97\u5230:\n\n$h'=\\lfloor{h'\\over z}\\rfloor z+i$\n\n$\\because h=\\lfloor{h\\over z}\\rfloor z+i$\n\n$\\therefore h'-h=(\\lfloor{h'\\over z}\\rfloor-\\lfloor{h\\over z}\\rfloor)z$\n\n\u6240\u4ee5\u8fd9\u4e2a\u697c\u5c42$h'$\u5176\u5b9e\u4e5f\u53ef\u4ee5\u7531$h$\u4f7f\u7528\u51e0\u6b21\u64cd\u4f5c3\u5f97\u5230\uff0c\u4e5f\u5c31\u8bf4\u5b83\u4f1a\u88ab\u8ba1\u7b97\u5230\u5f0f\u5b50(1)\u4e2d\uff0c\u4e0d\u4f1a\u88ab\u9057\u6f0f\uff0c\u90a3\u4e48\u6211\u4eec\u6700\u7ec8\u7684\u7b54\u6848\u53ef\u4ee5\u8868\u793a\u4e3a:\n$$\nans = \\sum\\limits_{i=0}^n \\lfloor{h-f(i)\\over x}\\rfloor+1\n$$\n\u8fd9\u6837\u7684\u8ba1\u7b97\u662f\u4e0d\u4f1a\u7528\u91cd\u590d\u7684\u3002\u7b80\u5355\u7684\u8bc1\u660e\uff08\u4e71\u641e\uff09\u5982\u4e0b\uff1a\n\n\u4f7f\u7528\u53cd\u8bc1\u6cd5\uff0c\u5982\u679c\u540c\u4e00\u4e2a\u697c\u5c42\u80fd\u4f7f\u7528\u4e24\u79cd\u4e0d\u540c\u7684\u65b9\u5f0f\u5f97\u5230\uff0c\u5982\u679c$a_1 \\neq a_2, b_1\\neq b_2, c_1\\neq c_2$\uff0c\u90a3\u4e48:\n$$\na_1x+b_1y+c_1z=a_2x+b_2y+c_2z=h\n$$\n\u4e24\u4e2a\u591a\u9879\u5f0f\u76f8\u7b49\uff0c\u5219\u8fd9\u4e24\u591a\u9879\u5f0f\u6700\u9ad8\u6b21\u6570\u76f8\u540c\uff0c\u4e14\u5bf9\u5e94\u6b21\u6570\u9879\u7684\u7cfb\u6570\u76f8\u540c.\n\n\u90a3\u4e48\u5f97\u5230\n$$\na_1=a_2,b_1=b_2,c_1=c_2\n$$\n\u663e\u7136\u4e24\u4e2a\u65b9\u6cd5\u5176\u5b9e\u662f\u540c\u4e00\u4e2a\u3002\n\n\u5982\u679c$a,b,c$\u6709\u4e24\u4e2a\u662f\u76f8\u7b49\u7684\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5c06\u8fd9\u4e24\u4e2a\u76f8\u7b49\u5b57\u6bcd\u6240\u5728\u7684\u5355\u9879\u5f0f\u5408\u5e76\uff0c\u4f9d\u7136\u662f\u7c7b\u4f3c\u4e8e\u4e0a\u9762\u7684\u7ed3\u679c\u3002\n```cpp\n#include <bits/stdc++.h>\n#define LL long long\n\nusing namespace std;\n\nconst int maxn = 1e5 + 5;\nstruct Edge {\n    int v, nex; LL w;\n    Edge(int v = 0, LL w = 0, int nex = 0) : v(v), w(w), nex(nex) {}\n} E[maxn << 2];\n\nint head[maxn], tote;\nvoid addEdge(int u, int v, LL w) {\n    E[++tote] = Edge(v, w, head[u]), head[u] = tote;\n} \nLL h, x, y, z;\nbool vis[maxn];\nLL f[maxn];\nqueue<int> q;\n\nint main() {\n    memset(f, 0x3f, sizeof(f));\n    memset(head, -1, sizeof(head));\n    // freopen(\"testdata.in\", \"r\", stdin);\n    // freopen(\"testdata.out\", \"w\", stdout);\n    scanf(\"%lld%lld%lld%lld\", &h, &x, &y, &z);\n    for (int i = 0; i < x; i++) \n        addEdge(i, (i + y) % x, y),\n        addEdge(i, (i + z) % x, z);\n    q.push(1 % x), f[1 % x] = 1;\n    while (!q.empty()) {\n        int u = q.front(); q.pop(), vis[u] = false;\n        for (int i = head[u]; ~i; i = E[i].nex) {\n            int v = E[i].v;\n            if (f[v] > f[u] + E[i].w) {\n                f[v] = f[u] + E[i].w;\n                if (!vis[v]) vis[v] = true, q.push(v);\n            }\n        }\n    }\n    LL ans = 0;\n    for (int i = 0; i < x; i++)\n        if (f[i] <= h) ans += (h - f[i]) / x + 1;\n    printf(\"%lld\\n\", ans);\n    return 0;\n}\n```",
        "postTime": 1556805680,
        "uid": 52404,
        "name": "\u5751\u961f\u53cb\u7684\u5c0f\u767d",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3403 \u3010\u8df3\u697c\u673a\u3011"
    },
    {
        "content": "\u4e3b\u8981\u7684\u601d\u60f3\u662f\u8981\u5c06\u9898\u76ee\u8f6c\u4e3a\u6700\u77ed\u8def\u3002\u6211\u4eec\u5047\u8bbedis[i]\u662fy\u548cz\u53ef\u8fbe\u5230\u7684\u697c\u5c42mod x=i\u7684\u6700\u4f4e\u697c\u5c42\u3002\u5c06i\u4ece0\u5230x-1\u679a\u4e3e\u4e00\u904d\uff0c\u6700\u7ec8\u5f97\u5230\u7684\u4fbf\u662f\u6240\u6709\u5728h\u8303\u56f4\u5185\u4f59\u6570\u4ece0\u5230x-1\u53ef\u8fbe\u5230\u7684\u4f4d\u7f6e\u5168\u90e8\u76f8\u52a0\uff0c\u5373 $ (h-dis[i])/x+1 $ \uff08i\u4ece0\u5230i-1\uff09\u3002\n\n\u800c\u5176\u4e2d\u6bd4\u8f83\u5173\u952e\u7684\u4e00\u4e2a\u70b9\u5c31\u662f\u8981\u5c06\u6240\u6709\u7684dis[i]\u6c42\u51fa\u6765\uff0c\u8fd9\u5c31\u9700\u8981\u6700\u77ed\u8def\u3002\u800c\u6700\u77ed\u8def\u9700\u8981\u7684\u56fe\u8981\u7531$f(i+y)=f(i)+y$\u548c$f(i+z)=f(i)+z $\u56e0\u4e3a\u5230\u8fbe$mod x=i+y$\u7684\u5c42\u6570\u5c31\u662f\u76f8\u5f53\u4e8e\u5148\u8dd1\u5230$mod x=i$\u7684\u5c42\u6570\u5728\u5f80\u4e0a\u8dd1y\u5c42\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u81ea\u5df1\u6784\u5efa\u56fe\uff0c\u5728\u8fdb\u884cspfa\u3002\n\n\u8fd9\u9898\u6709\u4e00\u4e2a\u5751\uff0c\u5c31\u662f\u7b2c\u4e00\u7ec4\u6570\u636e\uff0cx,y,z\u5b58\u57281\u4e14\u662f\u4e71\u5e8f\u3002\u5fc5\u987b\u8981\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u5426\u5219\u7ed3\u679c\u4f1a\u662f0\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u8fdb\u884c\u7279\u5224\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<queue>\nusing namespace std;\nconst int N = 500010;\nlong long ans, h, x, y, z, vis[N], dis[N], head[N], Next[N], ver[N], edge[N], tot;\nqueue <int> q;\nvoid add(int x,int y,int z)//\u8fb9\u8868 \n{\n    ver[++tot]=y;\n    edge[tot]=z;\n    Next[tot]=head[x];\n    head[x]=tot;\n}\nvoid spfa()//\u6700\u77ed\u8def \n{\n    memset(dis,0x3f3f3f,sizeof(dis));\n    q.push(1);\n    dis[1]=1;\n    while(q.size())\n    {\n        int x=q.front();\n        q.pop();\n        vis[x]=1;\n        for(int i=head[x];i;i=Next[i])\n        {\n            int y=ver[i];\n            if(dis[y]>dis[x]+edge[i])\n            {\n                dis[y]=dis[x]+edge[i];\n                if(!vis[y]) q.push(y);\n                vis[y]=1;\n            }\n        }\n        vis[x]=0;\n    }\n}\nint main()\n{\n    scanf(\"%lld%lld%lld%lld\",&h,&x,&y,&z);\n    if(y<z) swap(y,z);\n    if(x<y) swap(x,y);//\u5c06x\uff0cy\uff0cz\u6309\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0cx\u4f59\u6570\u8303\u56f4\u5c3d\u91cf\u5927,\u8fc7\u7b2c\u4e00\u70b9\n    for(int i=0;i<x;i++)//\u5efa\u56fe \n    {\n        add(i,(i+y)%x,y);//f(i+y)=f(i)+y   \u5230\u8fbemod x=i+y\u7684\u5c42\u6570\u5c31\u662f\u76f8\u5f53\u4e8e\u5148\u8dd1\u5230mod x=i\u7684\u5c42\u6570\u5728\u5f80\u4e0a\u8dd1y\u5c42 \n        add(i,(i+z)%x,z);//f(i+z)=f(i)+z   \u540c\u4e0a \n    } \n    spfa();//\u8dd1\u4e00\u904d\u6700\u77ed\u8def \n    for(int i=0;i<x;i++)\n    {\n        if(h>=dis[i]) ans+=(h-dis[i])/x+1;//\u5982\u679c\u53ef\u4ee5mod x=i\u65f6y\u548cz\u53ef\u4ee5\u8fbe\u5230\u7684\u6700\u4f4e\u697c\u6bd4\u603b\u9ad8\u5ea6\u5c0f\uff0c\u90a3\u5c31\u52a0\u4e0a\u5b83\u7684\u500d\u6570\uff08\u5728h\u8303\u56f4\u5185\uff09\uff0c\u8fd8\u8981\u5305\u62ec\u5b83\u81ea\u5df1 \n    }\n    printf(\"%lld\",ans);\n    return 0;\n}\n```\n",
        "postTime": 1566477594,
        "uid": 108459,
        "name": "lizh",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3403 \u3010\u8df3\u697c\u673a\u3011"
    },
    {
        "content": "# \u7b2c\u4e00\u9053\u611f\u89c9\u61c2\u5f97\u4e0d\u9519\u7684\u540c\u4f59\u6700\u77ed\u8def\u9898\n\u8be6\u89c1\u4ee3\u7801\u6ce8\u91ca\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\n#include<map>\n#include<queue>\n#include<stack>\n#include<iomanip>\n#define maxn 100005\ntypedef long long ll;\nconst int inf = 0x3f3f3f3f;\nint cnt;\nint head[maxn],vis[maxn];\nll dis[maxn];\nll h,x,y,z;\nusing namespace std;\ntemplate <class T> void read(T &x)\n{\n\tx=0;int f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9')\n\t{\n\t\tif(ch=='-')f=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t\tx=(x<<1)+(x<<3)+(ch^48);\n\t\tch=getchar();\n\t}\n\tx*=f;\n}\nstruct fuck\n{\n\tint to,next;\n\tll w;\n}e[maxn<<1];\nvoid add(int u,int v,ll w)\n{\n\te[cnt].w=w;\n\te[cnt].to=v;\n\te[cnt].next=head[u];\n\thead[u]=cnt++;\n}\nvoid SPFA()\n{\n\tqueue<int>q;\n\tmemset(dis,inf,sizeof(dis));\n\tdis[1]=1;vis[1]=1;q.push(1);//\u8d77\u70b9\u5728\u9ad8\u5ea61\n\twhile(!q.empty())\n\t{\n\t\tint u=q.front();\n\t\tvis[u]=0;q.pop();//\u6b63\u5e38\u6700\u77ed\u8def \n\t\tfor(int i=head[u];~i;i=e[i].next)\n\t\t{\n\t\t\tint j=e[i].to;\n\t\t\tif(dis[j]>dis[u]+e[i].w)\n\t\t\t{\n\t\t\t\tdis[j]=dis[u]+e[i].w;\n\t\t\t\tif(!vis[j])\n\t\t\t\t{\n\t\t\t\t\tq.push(j);\n\t\t\t\t\tvis[j]=1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{//dis[i]\u8868\u793a\u6c42\u4f59y(\u7b80\u5355\u60c5\u51b5)\u6216z\u4f59\u6570\u4e3ai\u7684\u524d\u9762\u6570\u603b\u548c\u7684\u6700\u5c0f\u503c\n//\u8fd9\u6837y(\u6216\u8005z)\u5c31\u6709\u6700\u591a\u7684\u53d6\u503c\u60c5\u51b5 \n\tmemset(head,-1,sizeof(head));\n\tread(h);read(x);read(y);read(z);\n\tif(!z)\n\t{//\u5148\u8003\u8651\u7b80\u5355\u7684\u60c5\u51b5 k1*x+k2*y=h \n\t\tfor(int i=0;i<y;i++)add(i,(i+x)%y,x);//\u5148\u7ed9\u5230\u6c42\u4f59y\u7684\u4e0d\u540c\u4f59\u6570\u5efa\u8fb9 \n\t\tSPFA();ll ans=0;\n\t\tfor(int i=0;i<y;i++)\n\t\tif(h>=dis[i])ans+=(h-dis[i])/y+1;//z\u7684\u7cfb\u6570\u53ef\u4ee5\u53d60~(h-dis[i])/y\u7684\u4e0d\u540c\u65b9\u6848 \n\t\tprintf(\"%lld\",ans);\n\t\treturn 0;\n\t}\n\tif(z==1)printf(\"%lld\",h);\n\telse\n\t{//z!=0\u540c\u7406 \n\t\tfor(int i=0;i<z;i++)\n\t\t{\n\t\t\tadd(i,(i+x)%z,x);\n\t\t\tadd(i,(i+y)%z,y);\n\t\t}\tSPFA(); ll ans=0;\n\t\tfor(int i=0;i<z;i++)\n\t\tif(h>=dis[i])ans+=(h-dis[i])/z+1; \n\t\tprintf(\"%lld\",ans);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1544866240,
        "uid": 19814,
        "name": "\u89de\u7fb0\u6d99",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3403 \u3010\u8df3\u697c\u673a\u3011"
    },
    {
        "content": "\u5bf9\u9ad8\u5ea6\u8fdb\u884c\u4e00\u4e0bHash\uff0c\u53ef\u4ee5\u6709\u4e00\u90e8\u5206\u5206\uff0c\u5982\u679c\u5f3a\u608d\u4e00\u70b9\u7684\u8bdd\uff0c\u52a8\u6001\u5f00\uff0c\u6709\u53ef\u80fd\u80fd\u591f\u8fc7\u6389\uff0c\u6211\u5728\u672c\u673a\u4e0a\u8bd5\u4e86\u4e0b\uff0c\u5927\u6982\u9700\u89815.0s\u3002\u3002\u3002\n\n\n\u8003\u8651\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff0c\u8bb0di = c , \u8868\u793a\u5728\u6ee1\u8db3 c mod x = i \u7684\u524d\u63d0\u4e0b\uff0c\u4ec5\u901a\u8fc7\u7b2c\u4e8c\u548c\u7b2c\u4e09\u4e2a\u64cd\u4f5c\u80fd\u591f\u5230\u8fbe\u7684\u6700\u5c0f\u697c\u5c42c \uff0c \u5982\u679c\u6211\u4eec\u7b97\u51fa\u4e86di \uff0c \u90a3\u4e48\u8fd9\u4e2a\u95ee\u9898\u5c31\u89e3\u51b3\u4e86\uff0c \u7b54\u6848\u5c31\u662f (h - di) / x + 1 ( i : 0 ... x - 1 )\n\n\n\n       d(i + y) mod x = di + y\n\n       d(i + z) mod x = di + z\n\n\u7528spfa\u641e\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\n",
        "postTime": 1475673897,
        "uid": 22733,
        "name": "eternal",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3403 \u3010\u8df3\u697c\u673a\u3011"
    }
]