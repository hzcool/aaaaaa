[
    {
        "content": "### [\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P1575)\n\n### [\u535a\u5ba2\u98df\u7528\u66f4\u4f73](https://www.luogu.com.cn/blog/wzmzmhk/solution-p1575#)\n------------\n\n\u6b64\u9898C\u515a\u7684\u9898\u89e3\u5927\u90e8\u5206\u90fd\u662f\u7528\u6808\u6765\u5b8c\u6210\u7684\uff0c\u90a3\u4e48\u672c\u849f\u84bb\u5c31\u6765\u5199\u4e00\u4e2a\u4e0e\u6240\u6709\u9898\u89e3\u90fd\u4e0d\u540c\u7684\u65b9\u6cd5\u3002\n\n## \u5927\u81f4\u601d\u8def\uff1a\n1. \u9996\u5148\u8bfb\u5165\u4e00\u6574\u884c\u5b57\u7b26\u4e32\u3002\n1. \u8fdb\u884c\u7279\u5224\uff0c\u5982\u679c\u5f00\u5934\u6216\u672b\u5c3e\u5373\u4e3a```and```\u6216```or```\uff0c\u6216\u672b\u5c3e\u4e3a```not```\uff0c\u5219\u76f4\u63a5\u8f93\u51fa```error```\u3002\n1. \u627e\u51fa\u6240\u6709\u7684```not```\uff0c\u5982\u679c```not```\u540e\u6709```or```\u6216```and```\uff0c\u76f4\u63a5\u8f93\u51fa```error```\uff1b\u5982\u679c\u5b58\u5728\u591a\u4e2a```not```\u7684\u60c5\u51b5\uff0c\u5219\u628a\u6bcf\u4e24\u4e2a```not```\u5220\u9664\u3002\u6700\u540e\u53ea\u5269\u4e00\u4e2a\u6216\u96f6\u4e2a```not```\uff0c\u82e5\u5269\u4e00\u4e2a```not```\uff0c\u5219\u628a\u540e\u8fb9\u7684**\u4e00\u4e2a**\u5355\u8bcd\u53cd\u8f6c\uff08\u5373```true```\u4e0e```false```\u4e92\u6362\uff09\uff0c\u5e76\u628a```not```\u6539\u4e3a\"&nbsp;&nbsp;&nbsp;\"\uff08\u4e09\u4e2a\u7a7a\u683c\uff09\u3002\n1. \u627e\u51fa\u6240\u6709\u7684 ```and```\uff0c\u5982\u679c```and```\u524d\u9762\u7684\u7b2c\u4e00\u4e2a\u5355\u8bcd\u4e0e\u540e\u9762\u7684\u7b2c\u4e00\u4e2a\u5355\u8bcd\u90fd\u662f```true```\uff0c\u90a3\u4e48\u628a```and```\u4ee5\u53ca\u4efb\u610f\u4e00\u4e2a```true```\u5168\u90e8\u8d4b\u503c\u4e3a\u7a7a\u683c\uff0c\u4f8b\u5982\uff0c```true and true```\u53d8\u4e3a```true```&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\uff089\u4e2a\u7a7a\u683c\uff09\u3002\n1. \u627e\u51fa\u6240\u6709\u7684```or```\uff0c\u65b9\u6cd5\u4e0e```and```\u57fa\u672c\u4e00\u81f4\u3002\n1. \u6700\u540e\u5224\u65ad\u5b57\u6bcdt\u4e0e\u5b57\u6bcdf\u7684\u4e2a\u6570\uff0c\u5982\u679c\u4e8c\u8005\u90fd\u6709\u6216\u4efb\u610f\u4e00\u8005\u591a\u4f59\u4e00\u4e2a\uff0c\u5219\u8f93\u51fa```error```\uff0c\u5426\u5219\u67091\u4e2at\u5c31\u8f93\u51fa```true```\uff0c\u67091\u4e2af\u5c31\u8f93\u51fa```false```\u3002\n\n\u6ce8\u610f\uff1a\u6211\u4eec\u53ea\u9700\u5224\u65ad\u5355\u8bcd\u4e2d\u7684\u51e0\u4e2a\u5b57\u6bcd\u5373\u53ef\u5224\u65ad\u8be5\u5355\u8bcd\u4e3a\u4ec0\u4e48\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u628a\u6574\u4e2a\u5355\u8bcd\u5206\u79bb\u5224\u65ad\u3002\n\n#### \u6b65\u9aa41&&\u6b65\u9aa42\uff08\u8f93\u5165\u5e76\u7279\u5224\uff09\uff1a\n```cpp\n//input\n    getline(cin, s);\n    int len = s.size();\n    if (s[0] == 'a' || s[0] == 'o' || s[len - 1] == 'd' || s[len - 1] == 'r' || s[len - 1] == 't') {\n        cout << \"error\";\n        return 0;\n    }\n```\n\n#### \u6b65\u9aa43\uff08\u5904\u7406```not```\uff09\uff1a\n```cpp\n//not\n    for (int i = 0; i < len; i++) {\n        if (s[i] == 'n' && s[i + 1] == 'o') {\n            int j = i + 4;\n            while (s[j] == ' ') j++;\n            if (s[j] == 't')\n                s[j] = 'f', s[j + 1] = 'a', s[j + 2] = 's', s[j + 3] = 'e', s[i] = s[i + 1] = s[i + 2] = ' ';\n                //\u56e0\u4e3a\"true\"\u662f4\u4e2a\u5b57\u6bcd\uff0c\"false\"\u662f5\u4e2a\u5b57\u6bcd\uff0c\u800c\u4e2d\u95f4\u7684\"l\"\u6ca1\u6709\u7528\uff0c\u6240\u4ee5\u53ef\u4ee5\u8fd9\u6837\u505a\n            else if (s[j] == 'f')\n                s[j] = 't', s[j + 1] = 'r', s[j + 2] = 'r', s[j + 3] = 'u', s[j + 4] = 'e', s[i] = s[i + 1] = s[i + 2] = ' ';\n                //\u9053\u7406\u540c\u4e0a\n            else if (s[j] == 'n')\n                s[i] = s[i + 1] = s[i + 2] = s[j] = s[j + 1] = s[j + 2] = ' ';\n            else {\n                cout << \"error\";\n                return 0;\n            }\n        }\n    }\n```\n\n#### \u6b65\u9aa44\uff08\u5904\u7406```and```\uff09\uff1a\n```cpp\n//and\n    for (int i = 1; i < len; i++) {\n        if (s[i] == 'a' && s[i + 1] == 'n') {\n            int j = i - 2, k = i + 4;\n            while (s[j] == ' ') j--;//\u6b64\u65f6j\u4e3aand\u4e0a\u4e00\u4e2a\u5b57\u6bcd\u7684\u672b\u5c3e\u4e0b\u6807\n            while (s[k] == ' ') k++;//\u6b64\u65f6k\u4e3aand\u540e\u4e00\u4e2a\u5b57\u6bcd\u7684\u9996\u4f4d\u4e0b\u6807\n            if (s[k] == 'a' && s[k + 1] == 'n') {\n                cout << \"error\";\n                return 0;\n            }//\u5982\u679cand\u540e\u9762\u8fd8\u6709and\uff0c\u5c31\u8f93\u51fa\"error\"\n            while (s[j] != ' ' && j != 0) j--;//\u6b64\u65f6j\u4e3aand\u4e0a\u4e00\u4e2a\u5b57\u6bcd\u7684\u9996\u4f4d\u4e0b\u6807\n            while (s[k] != ' ' && k != len - 1) k++;//\u6b64\u65f6j\u4e3aand\u4e0a\u4e00\u4e2a\u5b57\u6bcd\u7684\u672b\u4f4d\u4e0b\u6807\n            if (j != 0)\n                j++;\n            if (k != len - 1)\n                k--;\n            bool flag1 = false, flag2 = false;\n            if (s[j] == 't' && s[j + 1] == 'r')\n                flag1 = true;\n            if (s[k] == 'e' && s[k - 1] == 'u')\n                flag2 = true;\n            if (flag1 && flag2) {\n                s[j] = 't', s[j + 1] = 'r', s[j + 2] = 'u', s[j + 3] = 'e';\n                for (int l = j + 3 + 1; l <= k; l++)\n                    s[l] = ' ';\n            }\n            else {\n                s[j] = 'f', s[j + 1] = 'a', s[j + 2] = 'l', s[j + 3] = 's', s[j + 4] = 'e';\n                for (int l = j + 4 + 1; l <= k; l++)\n                    s[l] = ' ';\n            }\n        }\n    }\n```\n\n#### \u6b65\u9aa45\uff08\u5904\u7406```or```\uff09\uff1a\n\n\u6b64\u6b65\u9aa4\u4e0e\u6b65\u9aa44\u51e0\u4e4e\u4e00\u6a21\u4e00\u6837\uff0c\u5c06\u6b65\u9aa44\u7a0d\u5fae\u4fee\u6539\u5373\u53ef\uff0c\u8fd9\u91cc\u7559\u7ed9\u8bfb\u8005\u81ea\u5df1\u601d\u8003\u3002\n\n#### \u6b65\u9aa46\uff08\u8f93\u51fa\uff09\uff1a\n```cpp\n//output\n    int t[200] = { 0 };//\u8fd9\u91cc\u7528\u4e86\u4e00\u4e2a\u6876\u6765\u7edf\u8ba1\u5b57\u6bcd\u51fa\u73b0\u7684\u6570\u91cf\uff0ct[s]\u8868\u793a\u4e3a\u5b57\u6bcds\u51fa\u73b0\u7684\u6b21\u6570\n    for (int i = 0; i < len; i++) {\n        if (s[i] != ' ')\n            t[s[i]]++;\n    }\n    if (t['t'] > 1 || t['f'] > 1 || (t['t'] >= 1 && t['f'] >= 1)) {\n        cout << \"error\";\n        return 0;\n    }\n    else if (t['t'] == 1)\n        cout << \"true\";\n    else\n        cout << \"false\";\n```\n",
        "postTime": 1626857358,
        "uid": 250983,
        "name": "wzmzmhk",
        "ccfLevel": 0,
        "title": "P1575\u9898\u89e3"
    },
    {
        "content": "## \u63d0\u4f9b\u4e00\u4efd\u5a31\u4e50\u5411\u4ee3\u7801~~\u4e5f\u5e0c\u671b\u80fd\u4e30\u5bcc\u4e0b\u9898\u89e3\u533a~~\n**\u5c0f\u77e5\u8bc6**\uff1apython\u7684eval\u51fd\u6570\u53ef\u4ee5\u76f4\u63a5\u5c06\u5b57\u7b26\u4e32\u5f53\u6210\u4ee3\u7801\u7247\u6bb5\u6267\u884c\n```python\n# \u5c06Python\u7684\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u4e3a\u9898\u76ee\u91cc\u7684\u683c\u5f0f\ntrue, false = True, False\n# \u56e0\u4e3a\u9898\u76ee\u8bf4\u53ef\u80fd\u4f1a\u6709\u975e\u6cd5\u8868\u8fbe\u5f0f\uff0c\u6bd4\u5982and and\uff0c\u6240\u4ee5\u76f4\u63a5\u7528eval\u6267\u884c\u53ef\u80fd\u4f1a\n# \u629b\u51fa\u4e00\u4e2a\u5f02\u5e38\ntry:\n  # \u5c06\u8f93\u5165\u7684\u8868\u8fbe\u5f0f\u8fd4\u56de\u7684\u7ed3\u679c\u8f6c\u6362\u6210\u5b57\u7b26\u4e32\uff0c\u518d\u5229\u7528lower()\u65b9\u6cd5\u683c\u5f0f\u5316\n  print(str(eval(input())).lower())\nexcept SyntaxError:\n  # \u8868\u8fbe\u5f0f\u975e\u6cd5\u5c31\u8f93\u5165error\n  print('error')\n```\n",
        "postTime": 1596110805,
        "uid": 277849,
        "name": "AveMarina",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1575 \u3010\u6b63\u8bef\u95ee\u9898\u3011"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://aday526.github.io/%E9%A2%98%E8%A7%A3%20P1575%20%E3%80%90%E6%AD%A3%E8%AF%AF%E9%97%AE%E9%A2%98%E3%80%91/)  \n\n\u770b\u5230`and`\u548c`or`\uff0c\u6211\u4e00\u4e0b\u5c31\u60f3\u5230\u4e86py...  \npy\u7684`and`\u5c31\u662fc++\u7684`&&`,`or`\u5c31\u662f`||`  \n\u90a3\u4e48\u600e\u4e48\u505a\u8fd9\u9053\u9898\u5462\uff1f  \n\n------\n\n\u5176\u5b9epy\u6709\u4e00\u4e2a`eval`\u51fd\u6570\uff0c\u53ef\u4ee5\u5f97\u5230\u4e00\u6bb5\u5b57\u7b26\u4e32\u4ee3\u7801\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u4f8b\u5982\uff1a  \n\n```python\neval(\"1+1\")=2\neval(\"pow(2,10)\")=1024\neval(\"True and False\")=False\n```\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5~~\u6c34~~\u8fc7\u6b64\u9898\u4e86  \n\n\u4f46\u662f\u6b64\u65f6\u8fd8\u6709\u4e2a\u68d8\u624b\u7684\u95ee\u9898\u2014\u2014py\u7684\u771f\u548c\u5047\u4e3a`True`\u548c`False`,\u5e76\u4e0d\u662f\u5c0f\u5199  \n\n\u90a3\u4e48\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a\u5b57\u7b26\u4e32\u51fd\u6570`capitalize`\n\n\u5b83\u53ef\u4ee5\u628a\u5b57\u7b26\u4e32\u7b2c\u4e00\u4e2a\u5b57\u7b26\u6539\u4e3a\u5927\u5199\u3002\u6211\u4eec\u628a\u6bcf\u4e00\u4e2a\u5355\u8bcd\u5224\u65ad\u662f\u5426\u4e3a`True`\u6216`False`\u518d\u64cd\u4f5c\u5373\u53ef   \n\n### \u5f02\u5e38\u5904\u7406\n\n\u5982\u679c\u7a0b\u5e8f\u4f1aRE\uff0c\u8bf4\u660e\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u662f\u9519\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528`try...except...`\u8bed\u53e5\uff0c\u5373\uff1a \u82e5`try`\u4e2d\u8bed\u53e5\u53d1\u751f\u5f02\u5e38\uff0c\u6267\u884c`except`\u7684\u8bed\u53e5\uff0c\u5c31\u662f\u8f93\u51fa$error$\n\n### \u4ee3\u7801\n\n```python\ntry:\n    s=input().split()#\u4ee5\u7a7a\u683c\u5212\u5206\u8f93\u5165\n    ans=''#\u8bb0\u5f55\u6539\u53d8\u540e\u7684\u8868\u8fbe\u5f0f\n    for i in range(len(s)):#\u904d\u5386\n        if s[i]=='true' or s[i]=='false':\n            s[i]=s[i].capitalize()\n        ans+=s[i]+' '\n    print(str(eval(ans)).lower())#\u8ba1\u7b97\u8868\u8fbe\u5f0f\u5e76\u8f6c\u4e3a\u5c0f\u5199\nexcept:\n    print('error')#\u5f02\u5e38\n```\n\n\n\n",
        "postTime": 1590577361,
        "uid": 312393,
        "name": "ADay",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1575 \u3010\u6b63\u8bef\u95ee\u9898\u3011"
    },
    {
        "content": "### \u6ce8\u610f\uff1a\u8fd9\u662f\u4e00\u7bc7 C++ \u9898\u89e3\u3002\n\n**[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P1575)**\n\n------------\n### \u9898\u610f\uff1a\n\u7ed9\u5b9a\u4e00\u4e2a\u903b\u8f91\u8868\u8fbe\u5f0f\uff0c\u5305\u542b $\\verb!true!$\u3001$\\verb!false!$\u3001$\\verb!not!$\u3001$\\verb!and!$\u3001$\\verb!or!$ \u548c\u7a7a\u683c\u3002\n\n\u5982\u679c\u8be5\u8868\u8fbe\u5f0f\u9519\u8bef\uff0c\u8f93\u51fa $\\verb!error!$\uff0c\u5426\u5219\u8f93\u51fa\u7ed3\u679c\uff08$\\verb!true!$ \u6216 $\\verb!false!$\uff09\u3002\n\n------------\n### \u524d\u6587\uff1a\n\u6709\u96be\u5ea6\u7684\u6a21\u62df\u9898\uff0c~~\u5361\u4e86\u6211\u4e24\u5929~~\u3002\n\n\u903b\u8f91\u8868\u8fbe\u5f0f\u7ffb\u8bd1\uff1a\n\n- $\\verb!not!$ \u628a\u540e\u9762\u7684\u503c\u53d6\u53cd\u3002\n- $\\verb!and!$ \u4e24\u8005\u90fd\u4e3a\u771f\u8fd4\u56de\u771f\uff0c\u5426\u5219\u8fd4\u56de\u5047\u3002\n- $\\verb!or!$ \u5176\u4e2d\u4e00\u8005\u6216\u4e24\u8005\u4e3a\u771f\u8fd4\u56de\u771f\uff0c\u5426\u5219\u8fd4\u56de\u5047\u3002\n\n\u7b2c\u4e00\u773c\u770b\u5230\u9898\u76ee\uff0c\u89c9\u5f97\u53ef\u4ee5\u76f4\u63a5\u7528\u5b57\u7b26\u4e32\u6a21\u62df\uff0c\u4e8e\u662f\u5c31\u6709\u4e86\u4e0b\u9762\u7684\u63d0\u4ea4\u8bb0\u5f55\uff1a[\u4ea4\u4e86\u51e0\u5341\u6b21WA](https://www.luogu.com.cn/record/list?pid=P1575&user=486799&page=1&status=14)\u3002\n\n\u7136\u540e\u5c31\u662f\u4e0d\u65ad\u7684 $\\verb!Debug!$\uff0c\u5728\u5404\u4f4d\u5927\u4f6c\u7684\u5e2e\u52a9\u4e0b\u8c03\u4e86\u8fd1\u4e24\u5929\u624d\u52c9\u5f3a\u901a\u8fc7\uff0c\u5728\u8c03\u8bd5\u8fc7\u7a0b\u4e2d\u53d1\u73b0\u9898\u89e3\u533a\u7f3a\u5c11\u6a21\u62df\u505a\u6cd5\u7684 $\\verb!C++!$ \u9898\u89e3\uff0c\u6545\u5199\u7bc7\u9898\u89e3\u4ee5\u8865\u5168\u7a7a\u7f3a\u3002\n\n------------\n### \u6b63\u6587\uff1a\n\n\u9996\u5148\u53ef\u4ee5\u770b\u5230\uff1a\n\n> \u4f18\u5148\u7ea7\u4ece\u9ad8\u5230\u4f4e\u4f9d\u6b21\u4e3a $\\verb!not!$\uff0c$\\verb!and!$\uff0c$\\verb!or!$\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5148\u628a\u6240\u6709\u7684 $\\verb!not!$ \u5904\u7406\u6389\uff0c\u7136\u540e\u4f9d\u6b21\u5904\u7406 $\\verb!and!$ \u548c $\\verb!or!$\u3002\n\n- $\\verb!not!$\t\n\n\u53ef\u4ee5\u4ece\u5934\u904d\u5386\u5b57\u7b26\u4e32\uff0c\u627e\u5230**\u4e00\u6bb5\u8fde\u7eed**\u7684 $\\verb!not!$\uff0c\u7136\u540e\u5c06 $\\verb!not!$ \u4ece\u5b57\u7b26\u4e32\u4e2d\u5220\u9664\u3002\uff08\u53ef\u4ee5\u628a\u8fd9\u6bb5\u5b57\u7b26\u4e32\u8d4b\u503c\u6210\u7a7a\u683c\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 [$\\operatorname{erase}$](https://www.cnblogs.com/loda333/p/5229980.html#:~:text=%20erase%28%29%E5%87%BD%E6%95%B0%E7%9A%84%E5%8A%9F%E8%83%BD%E6%98%AF%E7%94%A8%E6%9D%A5%E5%88%A0%E9%99%A4%E5%AE%B9%E5%99%A8%E4%B8%AD%E7%9A%84%E5%85%83%E7%B4%A0,%E5%88%A0%E9%99%A4%E6%9F%90%E4%B8%AA%E5%AE%B9%E5%99%A8%E9%87%8C%E7%9A%84%E6%9F%90%E4%B8%AA%E5%85%83%E7%B4%A0%EF%BC%9Ac.erase%28T%29%3B%20%E7%9C%8B%E4%BC%BC%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%8A%A8%E4%BD%9C%EF%BC%8C%E7%84%B6%E8%80%8C%E5%AF%B9%E4%B8%8D%E5%90%8C%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%AE%B9%E5%99%A8%EF%BC%8C%E5%86%85%E9%83%A8%E5%8D%B4%E5%81%9A%E4%BA%86%E6%88%AA%E7%84%B6%E4%B8%8D%E5%90%8C%E7%9A%84%E4%BA%8B%E6%83%85%EF%BC%8C%E5%90%8E%E9%9D%A2%E4%BB%8B%E7%BB%8D%E3%80%82) \u51fd\u6570\u3002\uff09\n\n\u6700\u540e\u5224\u65ad $\\verb!not!$ \u6570\u91cf\u7684\u5947\u5076\u6027\uff0c\u5982\u679c\u4e3a\u5076\u6570\uff0c\u540e\u9762\u7684\u503c\u4e0d\u53d8\uff0c\u5426\u5219\u5c31\u53d8\u6210\u76f8\u53cd\u7684\u503c\uff0c\u7136\u540e\u7ee7\u7eed\u5bfb\u627e\u4e0b\u4e00\u5904 $\\verb!not!$\u3002\n\n- $\\verb!and!$\n\n\u4ece\u5934\u904d\u5386\u5b57\u7b26\u4e32\uff0c\u627e\u5230 $\\verb!and!$ \u540e\u5224\u65ad\u524d\u540e\u662f\u5426\u5408\u6cd5\uff0c\u7136\u540e\u8fdb\u884c\u8ba1\u7b97\u5373\u53ef\uff08\u524d\u540e\u4e3a\u771f\u8fd4\u56de\u771f\uff0c\u5426\u5219\u8fd4\u56de\u5047\uff09\u3002\n\n- $\\verb!or!$\n\n\u548c $\\verb!and!$ \u7684\u64cd\u4f5c\u65b9\u6cd5\u7c7b\u4f3c\uff0c\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u89c1\u4ee3\u7801\u4e2d\u3002\n\n- $\\verb!error!$ \u7684\u5224\u5b9a\n\n1. $\\verb!not!$ \u7684\u540e\u9762\u51fa\u73b0 $\\verb!and!$ \u6216\u8005 $\\verb!or!$\uff0c\u6216\u8005 $\\verb!not!$ \u51fa\u73b0\u5728\u7ed3\u5c3e\u3002\n2. $\\verb!and!$ \u6216 $\\verb!or!$ \u51fa\u73b0\u5728\u5f00\u5934\u6216\u8005\u7ed3\u5c3e\u3002\n3. $\\verb!and!$\u3001$\\verb!or!$ \u524d\u9762\u51fa\u73b0 $\\verb!or!$\u3001$\\verb!and!$ \u6216 $\\verb!not!$ \u4ee5\u53ca\u540e\u9762\u51fa\u73b0 $\\verb!or!$ \u6216 $\\verb!and!$\u3002\n4. \u5728\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u903b\u8f91\u8868\u8fbe\u5f0f\u4e2d\u51fa\u73b0\u591a\u4e2a $\\verb!true!$ \u6216 $\\verb!false!$ \u4e14\u6ca1\u6709\u51fa\u73b0\u8fd0\u7b97\u7b26\uff08\u4f8b\u5982\uff1a$\\verb!true false!$\uff09\u3002\n5. \u903b\u8f91\u8868\u8fbe\u5f0f\u4e2d\u53ea\u6709\u8fd0\u7b97\u7b26\uff08\u4f8b\u5982\uff1a$\\verb!not not!$\uff09\u3002\n\n- \u5176\u4ed6\n\n\u8f93\u5165\u53ef\u80fd\u6709\u591a\u4f59\u7a7a\u683c\uff0c\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u4e5f\u53ef\u80fd\u4f1a\u4ea7\u751f\u591a\u4f59\u7a7a\u683c\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u4e00\u5f00\u59cb\u53ca\u6bcf\u6b21\u8fd0\u7b97\u7ed3\u675f\u65f6\u8fdb\u884c\u53bb\u9664\u591a\u4f59\u7a7a\u683c\uff0c\u7ec6\u8282\u89c1\u4ee3\u7801\u3002\n\n------------\n### code\uff1a\n\u8d85\u957f\u4ee3\u7801\u9884\u8b66\uff01\uff01\uff01\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nstring s;\nint l;\nstring trim(string& str){\n    str.erase(0, str.find_first_not_of(\" \\t\")); // \u53bb\u6389\u5934\u90e8\u7a7a\u683c\n\tstr.erase(str.find_last_not_of(\" \\t\") + 1); // \u53bb\u6389\u5c3e\u90e8\u7a7a\u683c\n    return str;\n}\nvoid kongge(){\n\tchar st[305]=\"\";\n\ts=trim(s);\n\tint len=s.length();\n\tbool fl=1;\n\tint cnt=0;\n\tfor(int i=0;i<len;i++){\n\t\tif(s[i] == ' '){\n\t\t\tif(!fl){\n\t\t\t\tst[cnt++]=s[i];\n\t\t\t\tfl=1;\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tfl=0;\n\t\t\tst[cnt++]=s[i];\n\t\t}\n\t}\n\ts=st;\n\ts+=\" \"; \t//\u4e0d\u52a0\u7684\u8bdd\u518d\u5faa\u73af\u4e2d\u4f1a\u8d8a\u754c \n\treturn ;\n}\nbool check1(int i){\t\t//\u5224\u65ad and \u524d\u540e\u662f\u5426\u5408\u6cd5 \n\tint t=i;\n\tchar c[305]=\"\";\n\tint cnt=0;\n\ti-=2;\n\twhile(s[i] != ' ' && i > 0){c[cnt++]=s[i]; i--;}\n\tstring str=c;\n\treverse(str.begin(),str.end());\n\tif(str == \"not\" || str == \"and\" || str == \"or\")\treturn 0;\n\tmemset(c,'\\0',sizeof(c));\n\ti=t;\n\ti+=4;\n\tcnt=0;\n\tint lene=s.length();\n\twhile(s[i] != ' ' && i < lene){c[cnt++]=s[i], i++;}\n\tstr=c;\n\tif(str == \"and\" || str == \"or\")\treturn 0;\n\treturn 1;\n}\nbool check4(int i){\t\t//\u5224\u65ad or \u524d\u540e\u662f\u5426\u5408\u6cd5 \n\tint t=i;\n\tchar c[305]=\"\";\n\tint cnt=0;\n\ti-=2;\n\twhile(s[i] != ' ' && i > 0){c[cnt++]=s[i]; i--;}\n\tstring str=c;\n\treverse(str.begin(),str.end());\n\tif(str == \"not\" || str == \"and\" || str == \"or\")\treturn 0;\n\tmemset(c,'\\0',sizeof(c));\n\ti=t;\n\ti+=3;\n\tcnt=0;\n\tint lene=s.length();\n\twhile(s[i] != ' ' && i < lene){c[cnt++]=s[i], i++;}\n\tstr=c;\n\tif(str == \"and\" || str == \"or\")\treturn 0;\n\treturn 1;\n}\nbool check3(int i){\t//\u5224\u65adnot\u524d\u540e\u662f\u5426\u5408\u6cd5 \n    kongge();\n    int cnt=0;\n    char c1[10]=\"\";\n    while(s[--i] == ' ');\t//-\n    int lene=s.length();\n    while(s[++i] != ' ' && i < lene)c1[cnt++]=s[i];\t// -\n    string str=c1;\n    if(str == \"or\" || str == \"and\")    return 0;\n    return 1;\n}\nbool check(int i){\n    kongge();\n    if(s[i+4]=='f'&&s[i+5]=='a'&&s[i-5]=='t'&&s[i-4]=='r')  return 1;\n    if(s[i+4]=='t'&&s[i+5]=='r'&&s[i-6]=='f'&&s[i-5]=='a')  return 1;\n    return 0;\n}\nbool check2(int i){\n    kongge();\n    if(s[i+3]=='f'&&s[i+4]=='a'&&s[i-5]=='t'&&s[i-4]=='r')  return 1;\n    if(s[i+3]=='t'&&s[i+4]=='r'&&s[i-6]=='f'&&s[i-5]=='a')  return 1;\n    return 0;\n}\nvoid init(){\n\tbool fl=1;\n\tl=s.length();\n\tfor(int i=0;i<l;i++){\n\t\tif(s[i]=='t'&&s[i+1]=='r'&&s[i+2]=='u'&&s[i+3]=='e'){\n\t\t\tfl=0;\n\t\t\ti+=3;\n\t\t}\n\t\telse if(s[i]=='f'&&s[i+1]=='a'&&s[i+2]=='l'&&s[i+3]=='s'&&s[i+4]=='e'){\n\t\t\tfl=0;\n\t\t\ti+=4;\n\t\t}\n\t}\n\tif(fl){\n\t\tcout << \"error\";\n\t\texit(0); \n\t}\n}\nvoid solve(){\n    l=s.length();\n    if(l == 0){\n    \tcout << \"error\";\n\t\texit(0); \n\t}\n    kongge();\n    if(s[0]=='a' || s[0]=='o' || s[l-1]=='d' || s[l-1]=='r' || s[l-1]=='t'){\n        cout << \"error\";exit(0);\n    }\n    if(l <= 5){\n        kongge();\n        cout << s;\n        exit(0);\n    }\n    for(int i=0;i<l;i++){\n        if((s[i]=='a'&&s[i+1]=='n')||(s[i]=='o'&&s[i+1]=='r')){\n            if(!check1(i)){\n                cout << \"error\";\n                exit(0); \n            }\n        }\n    }\n\tbool fl=0;\n    for(int i=0;i<l;i++){\n\t\tif(s[i]=='n'&&s[i+1]=='o'&&s[i+2]=='t'){\n\t\t\tfl=1;\n\t\t\ti+=2;\n\t\t}\n\t\telse if(s[i]=='a'&&s[i+1]=='n'&&s[i+2]=='d'){\n\t\t\tfl=1;\n\t\t\ti+=2;\n\t\t}\n\t\telse if(s[i]=='o'&&s[i+1]=='r'){\n\t\t\tfl=1;\n\t\t\ti++;\n\t\t}\n\t}\n\t//cout << fl;\n\tkongge();\n\tl=s.length();\n\tif(!fl && l > 6){\t//l>6\u539f\u56e0\uff1a\u672b\u5c3e\u53ef\u80fd\u4f1a\u6709\u4e00\u4e2a\u591a\u4f59\u7a7a\u683c \n\t\t//cout << l << s;\n\t\tcout << \"error\";\n\t\texit(0); \n\t}\n\tinit();\n    return ;\n}\nint main(){\n    getline(cin,s);\n    init();\n\tsolve();\n\tstring stmp=\"not\";\n\twhile(s.find(stmp) != -1){\n\t\tkongge();\n\t\tl=s.length(); \n\t    for(int i=0;i<l;i++){\n\t        if(s[i] == 'n' && s[i+1] == 'o'){\n\t            if(!check3(i)){\n\t                cout << \"error\";\n\t                return 0;\n\t            }\n\t            //cout << i << \" \";\n\t            s[i]=s[i+1]=s[i+2]=' ';\n\t\t\t\t//cout << s << \"@\";\n\t\t\t\ti+=3;\n\t            int t=1;\n\t            while(s[i] == ' ')  i++;\n\t            while(s[i] == 'n' && s[i+1] == 'o'){\n\t                s[i]=s[i+1]=s[i+2]=' ';t++;i+=3;\n\t                while(s[i] == ' ')  i++;\n\t            }\n\t            //cout<<i<<t<<endl;\n\t            //i++;\n\t            if(t%2 != 0){\n\t            \t//cout << s[i] << \"#\";\n\t                if(s[i] == 't' && s[i+1] == 'r'){\n\t                    s.erase(i,4);\n\t                    string tmp=\"false\";\n\t                    s.insert(i,tmp);\n\t                    i++;\n\t                }   \n\t                else if(s[i] == 'f' && s[i+1] == 'a'){\n\t                    s.erase(i,5);\n\t                    string tmp=\"true\";\n\t                    s.insert(i,tmp);\n\t                    i--;\n\t                }   \n\t            }\n\t           // cout << s << \"@\";\n\t            break;\n\t        }\n\t    }\n\t}\n    solve();\n    string ssss=\"and\";\n    while(s.find(ssss) != -1){\n    \tkongge();\n\t\tl=s.length(); \n\t    for(int i=0;i<l;i++){\n\t        kongge();\n\t        if(s[i] == 'a' && s[i+1] == 'n'){\n\t            if(!check1(i)){ //and\u4e24\u8fb9\u51fa\u73b0not\u6216or \n\t                cout << \"error\";\n\t                return 0; \n\t            }\n\t            else if(s[i-4] == 'n' && s[i-3] == 'o'){\n\t            \tcout << \"error\";\n\t            \treturn 0;\n\t\t\t\t}\n\t            if(s[i+4]=='f'&&s[i+5]=='a'&&s[i-6]=='f'&&s[i-5]=='a'){ //\u53ccfalse\n\t                s.erase(i,9);\n\t            }\n\t            else if(s[i+4]=='t'&&s[i+5]=='r'&&s[i-5]=='t'&&s[i-4]=='r'){    //\u53cctrue \n\t                s.erase(i,8);\n\t            }\n\t            else if(check(i)){  //\u4e00true\u4e00false \n\t                if(s[i+4]=='f') s.erase(i-5,8);\n\t                else    s.erase(i,8);\n\t            } \n\t            break;\n\t        }   \n\t    }  \n\t}\n    solve();\n    string sss=\"or\";\n    while(s.find(sss)!=-1){\n    \tkongge();\n\t\tl=s.length(); \n\t    for(int i=0;i<l;i++){\n\t        kongge();\n\t        if(s[i] == 'o' && s[i+1] == 'r'){\n\t            if(!check4(i)){\n\t            \t//cout << s;\n\t                cout << \"error\";\n\t                return 0;\n\t            }\n\t            else if(s[i-4] == 'n' && s[i-3] == 'o'){\n\t            \tcout << \"error\";\n\t            \treturn 0;\n\t\t\t\t}\n\t            if(s[i+3]=='f'&&s[i+4]=='a'&&s[i-6]=='f'&&s[i-5]=='a'){ //\u53ccfalse\n\t                s.erase(i,8);\n\t            }\n\t            else if(s[i+3]=='t'&&s[i+4]=='r'&&s[i-5]=='t'&&s[i-4]=='r'){    //\u53cctrue \n\t                s.erase(i,7);\n\t            }\n\t            else if(check2(i)){ //\u4e00true\u4e00false \n\t                if(s[i+3]=='f') s.erase(i,8);\n\t                else    s.erase(i-6,9);\n\t            } \n\t            break;\n\t        }\n\t    }\n\t}\n    solve();\n\tcout << s;\n    return 0;\n}\n\n```\n\n**\u6587\u7ae0\u3001\u4ee3\u7801\u82e5\u6709\u9519\u8bef\u6b22\u8fce\u5927\u4f6c\u6307\u51fa\u3002**",
        "postTime": 1660709810,
        "uid": 486799,
        "name": "Queue_Hao",
        "ccfLevel": 0,
        "title": "P1575 \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u5f88\u5bb9\u6613\u5c31\u53ef\u4ee5\u8ba9\u6211\u4eec\u60f3\u5230 python \u7684 eval \u51fd\u6570\u3002\n\n\u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u4e00\u4e2a\u8868\u8fbe\u5f0f\u3002\n\n\u4f46\u662f python \u7684\u6570\u636e\u7c7b\u578b\u548c\u9898\u76ee\u91cc\u7684\u4e0d\u4e00\u6837\uff0c\u90a3\u76f4\u63a5\u8f6c\u6362\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u5f53\u7136 python \u8fd8\u53ef\u4ee5\u5224\u65ad\u8868\u8fbe\u5f0f\u662f\u5426\u6709\u8bef\uff0c\u6240\u4ee5\u8fd9\u4e2a\u4e5f\u4e0d\u7528\u7ba1\u3002\n\n\u5f53\u7136\u4f60\u8fd9\u6837\u5c31\u53ea\u80fd\u5f97 $30$ \u5206\uff0c\u56e0\u4e3a\u4f60\u76f4\u63a5\u8f93\u51fa\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u4f1a\u662f\u5927\u5199\uff0c\u4f46\u662f\u9898\u76ee\u91cc\u662f\u5c0f\u5199\u3002\n\n\u6211\u4eec\u53ea\u7528\u7a0d\u52a0\u4e00\u4e2a\u5224\u65ad\u5c31\u53ef\u4ee5\u8fc7\u4e86\u3002\n\n```python\ntrue=True#\u8f6c\u6362\nfalse=False\ntry:#\u5224\u65ad\u5f02\u5e38\n    s=eval(input())\n    if s==True:#\u7a0d\u52a0\u5224\u65ad\uff0c\u8bb0\u5f97\u662f\u5224\u65ad\u5e03\u5c14\u7c7b\u578b\uff0c\u800c\u4e0d\u662f\u5b57\u7b26\u4e32\u7c7b\u578b\n        print('true')\n    if s==False:\n        print('false')\nexcept:\n    print('error')\n```\n",
        "postTime": 1658375201,
        "uid": 558597,
        "name": "Gravel",
        "ccfLevel": 0,
        "title": "P1575"
    },
    {
        "content": "\u8fd9\u91cc\u662f\u4e00\u4efd Node.js \u89e3\u6cd5\n\n\u9898\u89e3\u4e2d\u6709\u7528 Python \u7684 eval \u6765\u5199\u7684\uff0c\u4f46\u662f\u6211\u4eec\u7684 Node.js \u5e76\u6ca1\u6709\u9ed8\u8ba4\u7684 `and,not,or` \u8fd0\u7b97\u7b26\uff0c\u4e5f\u53ef\u4ee5\u7528 eval \u505a\u5417\uff1f\n\n\u8003\u8651 `and` \u8fd0\u7b97\u7b26\u5373\u4e3a `&&`\uff0c`not` \u8fd0\u7b97\u7b26\u5373\u4e3a `!`\uff0c`or` \u8fd0\u7b97\u7b26\u5373\u4e3a `||`\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b57\u7b26\u4e32\u7684 `replace` \u51fd\u6570\u628a\u51fd\u6570\u4e2d\u7684\u8fd9\u4e09\u4e2a\u4e32\u66ff\u6362\u4e3a\u8fd0\u7b97\u7b26\uff0c\u7136\u540e `eval` \u83b7\u53d6\u7ed3\u679c\u5373\u53ef\u3002\n\n\u5982\u4f55\u5224\u65ad error\uff1f\u5f53\u8868\u8fbe\u5f0f\u51fa\u73b0\u9519\u8bef\uff0c\u5c31\u4ee3\u8868\u4ee3\u7801\u8fd0\u884c\u51fa\u73b0\u4e86 error\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5`try...catch` \u6765\u5224\u65ad\uff01\n\n```javascript\nconst fs=require('fs')\nconst data=fs.readFileSync('/dev/stdin')\nconst result=data.toString('ascii').trim().replace(/and/g,\"&&\").replace(/or/g,\"||\").replace(/not/g,\"!\");//\u66ff\u6362\u8fd0\u7b97\u7b26\nlet ans;\ntry{\n    ans=eval(result);//eval\u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u4ee3\u7801\u6bb5\u6267\u884c\u7ed3\u675f\u7684\u503c\n}catch{\n    console.log(\"error\");\n    process.exit();\n}\nconsole.log(ans);\nprocess.exit();\n```\n",
        "postTime": 1661043918,
        "uid": 160363,
        "name": "\u4e1c\u706f",
        "ccfLevel": 5,
        "title": "P1575 \u6b63\u8bef\u95ee\u9898"
    },
    {
        "content": "**\u8fd9\u662f\u4e00\u4e2a\u975eC++\u9898\u89e3\uff0c\u6240\u4ee5\u5982\u679c\u60f3\u770bC++\u9898\u89e3\u7684\u8bf7\u770b\u5176\u4ed6\u5927\u4f6c\u7684\u9898\u89e3**\n\n\u9898\u610f\uff1a\u7ed9\u5b9a\u4e00\u4e2a\u903b\u8f91\u5f0f\uff0c\u8981\u6c42\u4f60\u7b97\u51fa\u5b83\u7684\u7ed3\u679c\u3002\n\n\u6211\u4eec\u60f3\u5230Python\u6709\u4e2a`eval`\u51fd\u6570\u53ef\u4ee5\u6267\u884c\u5b57\u7b26\u4e32\u683c\u5f0f\u7684\u4ee3\u7801\uff0c\u4e8e\u662f\u6211\u4eec\u7528\u5b83\u597d\u4e86\u3002\n\n\u4f46\u662f\u95ee\u9898\u662fPython\u91cc`true`\u5e94\u8be5\u662f`True`\uff0c\u800c`false`\u5e94\u8be5\u662f`False`\uff0c\u90a3\u4e48\u89e3\u91ca\u5668\u4f1a\u628a`true`\u548c`false`\u5f53\u53d8\u91cf\uff0c\u6240\u4ee5\u6211\u4eec\u5b9a\u4e49\u5b83\u5c31\u597d\u4e86\u3002\n```python\ntrue=True\nfalse=False\n```\n\n\u7136\u540e\u662f\u8bfb\u5165 \u3002\n```python\ns=input()\n```\n\n\u53ef\u662f\u6ce8\u610f\u5230\uff0c\u9898\u76ee\u53ef\u80fd\u662f\u9519\u8bef\u7684\u5f0f\u5b50\uff0c\u6bd4\u5982`true true and false`\u4e4b\u7c7b\u7684\uff0c\u90a3`eval`\u5c31\u4f1a\u629b\u51fa\u5f02\u5e38\uff0c\u6240\u4ee5\u6211\u4eec`try`\u4e00\u4e0b\u5c31\u597d\u4e86\uff0c\u5982\u679c\u6709\u95ee\u9898\uff0c\u5c31\u8f93\u51fa`error`\u3002\n\n\u81f3\u4e8e\u8fd4\u56de\u7684\u7ed3\u679c\uff0c\u5982\u679c\u6ca1\u6709\u9519\u8bef\uff0c\u5c31\u5e94\u8be5\u662f`True`\u6216`False`\uff0c\u4f46\u662f\u9898\u76ee\u8981\u6c42\u8f93\u51fa\u7684\u662f`true`\u6216`false`\uff0c\u6211\u4eec\u5e94\u8be5\u8f6c\u6362\u4e00\u4e0b\u3002\n\n\u8fd9\u90e8\u5206\u4ee3\u7801\u5982\u4e0b\u3002\n\n```python\ntry:\n    k=eval(s) #\u6267\u884c\nexcept:\n    print ('error') # \u6709\u95ee\u9898\nelse:\n    if k==True:\n        print('true')\n    else:\n        print ('false') #\u8f6c\u6362\n```\n\n\u90a3\u4e48\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\u3002\n```python\ntrue=True\nfalse=False\ns=input()\ntry:\n    k=eval(s)\nexcept:\n    print ('error')\nelse:\n    if k==True:\n        print('true')\n    else:\n        print ('false')\n```",
        "postTime": 1590067796,
        "uid": 122079,
        "name": "songhongyi",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1575 \u3010\u6b63\u8bef\u95ee\u9898\u3011"
    },
    {
        "content": "**\u672c\u4eba\u7b2c\u4e00\u6b21\u5199\u9898\u89e3\uff0c\u96be\u514d\u4f1a\u7ecf\u9a8c\u4e0d\u8db3\u6216\u6709\u9519\u8bef\uff0c\u6b22\u8fce\u6307\u6b63\u3002**\n\n**\u8fd9\u4e48\u8bf4\u6765\u8fd9\u9898\u4e5f\u633a\u503c\u5f97\u7eaa\u5ff5**\n\n------------\n\nPython\u6709\u4e00\u4e2a `eval` \u51fd\u6570\uff0c\u53ef\u4ee5\u7b80\u5355\u5730\u7406\u89e3\u4e3a\u628a\u4e00\u4e2a\u5b57\u7b26\u4e32\u53bb\u6389\u53cc\u5f15\u53f7\uff08\u6216\u8005\u5355\u5f15\u53f7\uff09\uff0c\u7136\u540e\u6c42\u51fa\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\u3002\n\n\u5176\u5b9e\u5728\u8f93\u5165\u7684\u65f6\u5019\uff0c `eval` \u5c31\u662f\u4e2a\u597d\u6599\u5b50\u3002\u56e0\u4e3a\u6211\u4eec\u5e73\u5e38\u5199\u8f93\u5165\u90fd\u662f `a=int(input())` \u7b49\u7b49\uff0c\u5df2\u7ecf\u89c4\u5b9a\u4e86\u7c7b\u578b\u3002\u4f46\u662f\u7528 `eval` \u7684\u8bdd\uff0c\u5c31\u53ef\u4ee5\u4e0d\u7528\u7ba1\u7c7b\u578b\uff0c\u76f4\u63a5\u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u8868\u8fbe\u5f0f\u3002\n\n\u4e3e\u4e2a\u6817\u5b50\uff1a\n\n`'3+2'` -> `3+2` -> `6`\n\n\u540c\u6837\uff0c\u5e03\u5c14\u8868\u8fbe\u5f0f\u4e5f\u53ef\u4ee5\u6cbf\u7528\u6b64\u601d\u8def\u3002\n\n`'True or False'` -> `True or False` -> `True`\n\n\u6ce8\u610f\u5230 Python \u7684\u5e03\u5c14\u503c\u662f\u5927\u5199\u7684\uff0c\u6240\u4ee5\u8fd8\u662f\u9700\u8981\u60f3\u529e\u6cd5\u8f6c\u6362\u4e00\u4e0b\u3002\u6211\u4eec\u53ef\u4ee5\u60f3\u51fa\u7b2c\u4e00\u4e2a\u601d\u8def\uff0c\u76f4\u63a5\u901a\u8fc7\u5b57\u7b26\u4e32\u8f6c\u6362\u3002\u81f3\u4e8e error \u53ef\u4ee5\u4f7f\u7528 `try-except` \u8bed\u53e5\uff0c\u81ea\u52a8\u5224\u65ad\u9519\u8bef\u3002\u8fd9\u4e2a\u8bed\u53e5\u5c1d\u8bd5\u6267\u884c `try` \uff0c\u5982\u679c\u6709\u9519\u8bef\u6267\u884c `except` \u4e2d\u7684\u8bed\u53e5\uff0c\u5b9e\u73b0\u6709\u9519\u8bef\u4e0d\u4e2d\u65ad\u7a0b\u5e8f\u3002\n\n```python\ntry:\n\ts = input().split()\n\ta = [] #\u5728eval\u524d\u7d2f\u52a0\n\t#input\u5f97\u5230\u5b57\u7b26\u4e32\uff0c\u901a\u8fc7\u7a7a\u683c\u5206\u5272\u6210\u5b57\u7b26\u4e32\u6570\u7ec4\n\tfor i in s: #\u904d\u5386\u6240\u6709\u5355\u8bcd\n\t\tif i == 'true':\n\t\t\ta.append('True')\n\t\telif i == 'false':\n\t\t\ta.append('False')\n\t\telse:\n\t\t\ta.append(i)\n\t#\u8f6c\u6362\u540e\u8fdb\u884c\u6fc0\u52a8\u4eba\u5fc3\u7684eval\n\tif eval(' '.join(a)) == True:\n\t\tprint('true') #\u7ed3\u679c\u8f6c\u6362\u4e00\u4e0b\n\telif eval(' '.join(a)) == False:\n\t\tprint('false')\nexcept: #\u62a5\u9519\n\tprint('error')\n```\n\u65e0\u5948\u6d1b\u8c37\u8bc6\u522b\u6210 Pascal \uff0c\u63d0\u4ea4\u65e0\u6548\u3002\u6d4b\u4e86\u4e00\u4e0b\u6837\u4f8b\u5927\u6982\u6ca1\u6709\u95ee\u9898\uff0c\u5982\u679c\u6709\u95ee\u9898\u5927\u5bb6\u8bf7\u53ca\u65f6\u6307\u6b63\u3002\n\n\u63a5\u4e0b\u6765\u4f18\u5316\u4e00\u4e0b\u3002\u4ee5\u6837\u4f8b\u4e3a\u4f8b\uff0c\u5982\u679c\u76f4\u63a5 `eval` \uff0c Python \u6267\u884c\u7684\u662f\uff1a\n\n`true or false and false`\n\n\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u53d8\u91cf\uff0c\u8ba9 `true` \u6307\u5411\u4e00\u4e2a\u53eb `true` \u7684\u771f\u5e03\u5c14\u53d8\u91cf\uff0c `false` \u540c\u7406\uff0c\u8fd9\u6837\u4ee3\u7801\u9a6c\u4e0a\u77ed\u4e86\u597d\u591a\u3002\n\n```python\ntrue = True\nfalse = False\ntry:\n    s = eval(input())\n    if s:\n        print('true')\n    else:\n        print('false')\nexcept:\n    print('error')\n```",
        "postTime": 1660571595,
        "uid": 562521,
        "name": "junhaowang",
        "ccfLevel": 0,
        "title": "Python\u89e3\u51b3P1575\u7684\u4e24\u79cd\u529e\u6cd5"
    },
    {
        "content": "# P1575 \u81ea\u9876\u5411\u4e0b\u5206\u6790\u6c42\u89e3\u903b\u8f91\u8868\u8fbe\u5f0f\n\n\u5982\u679c\u5728\u5904\u7406\u53ef\u80fd\u51fa\u73b0\u9519\u8bef\u7684\u8868\u8fbe\u5f0f\uff0c\u6211\u4eec\u7528\u9012\u5f52\u4e0b\u964d\u6cd5\u6216\u8005\u6808+\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7\u6cd5\u65e0\u6cd5\u6b63\u786e\u5904\u7406\u7684\u8bdd\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u901a\u8fc7\u53e6\u4e00\u79cd\u9012\u5f52\u5206\u6790--\u81ea\u9876\u5411\u4e0b\u5206\u6790\u6cd5\u6765\u5b8c\u6210\u8fd9\u65b9\u9762\u7684\u5de5\u4f5c\u3002\n\n## \u5148\u4ece\u7b80\u5355\u7684\u56db\u5219\u8fd0\u7b97\u8868\u8fbe\u5f0f\u6c42\u503c\u8bf4\u8d77\n\n\u5728\u672c\u4eba\u4ee5\u524d\u7684\u9898\u89e3\u5f53\u4e2d\uff0c\u6ca1\u5c11\u4ecb\u7ecd\u8fc7\u9012\u5f52\u4e0b\u964d\u6c42\u89e3\u8868\u8fbe\u5f0f\u7684\u65b9\u6cd5\uff0c\u4f46\u662f\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5c31\u7740\u91cd\u4ecb\u7ecd\u4e00\u4e0b\u81ea\u9876\u5411\u4e0b\u5206\u6790\u662f\u5982\u4f55\u5b8c\u6210\u8868\u8fbe\u5f0f\u6c42\u503c\u7684\u3002\n\n\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u7528**\u9012\u5f52**\u7684\u65b9\u5f0f\u6765\u5b9a\u4e49\uff0c\u4ec0\u4e48\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u8868\u8fbe\u5f0f\u3002\n\n- \u5355\u72ec\u7684\u4e00\u4e2a\u5e38\u91cf\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u8868\u8fbe\u5f0f\u3002\n- \u5982\u679c`[EXPR]`\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u8868\u8fbe\u5f0f\uff0c\u90a3\u4e48`([EXPR])`\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u8868\u8fbe\u5f0f\uff0c\u5176\u503c\u4e0e`[EXPR]`\u76f8\u540c\u3002\n- \u5982\u679c`[EXPR_0]`,`[EXPR_1]`,\u2026\u2026,`[EXPR_n]`\u662f $n+1$ \u4e2a**\u4e0a\u8ff0\u4e24\u6761\u89c4\u5219**\u5b9a\u4e49\u7684\u5408\u6cd5\u7684\u8868\u8fbe\u5f0f\uff08 $n$ \u81f3\u5c11\u4e3a $1$ \uff09\uff0c`[OPR_1]`,`[OPR_2]`,\u2026\u2026,`[OPR_n]`\u662f $n$ \u4e2a**\u4e58\u53f7\u6216\u9664\u53f7\u8fd0\u7b97\u7b26**\uff0c\u90a3\u4e48`[EXPR_0][OPR_1][EXPR_1][OPR_2]\u2026\u2026[OPR_n][EXPR_n]`\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u8868\u8fbe\u5f0f\uff0c\u5176\u503c\u4e3a\u5c06`[EXPR_0]`,`[EXPR_1]`,\u2026\u2026,`[EXPR_n]`\u4f9d\u6b21\u8fdb\u884c`[OPR_1]`,`[OPR_2]`,\u2026\u2026,`[OPR_n]`\u8fd0\u7b97\u7684\u7ed3\u679c\u3002\n- \u5982\u679c`[EXPR_0]`,`[EXPR_1]`,\u2026\u2026,`[EXPR_n]`\u662f $n+1$ \u4e2a**\u4e0a\u8ff0\u4e09\u6761\u89c4\u5219**\u5b9a\u4e49\u7684\u5408\u6cd5\u7684\u8868\u8fbe\u5f0f\uff08 $n$ \u81f3\u5c11\u4e3a $1$\uff09\uff0c`[OPR_1]`,`[OPR_2]`,\u2026\u2026,`[OPR_n]`\u662f $n$ \u4e2a**\u52a0\u53f7\u6216\u51cf\u53f7\u8fd0\u7b97\u7b26**\uff0c\u90a3\u4e48`[EXPR_0][OPR_1][EXPR_1][OPR_2]\u2026\u2026[OPR_n][EXPR_n]`\u662f\u4e00\u4e2a\u5408\u6cd5\u7684\u8868\u8fbe\u5f0f\uff0c\u5176\u503c\u4e3a\u5c06`[EXPR_0]`,`[EXPR_1]`,\u2026\u2026,`[EXPR_n]`\u4f9d\u6b21\u8fdb\u884c`[OPR_1]`,`[OPR_2]`,\u2026\u2026,`[OPR_n]`\u8fd0\u7b97\u7684\u7ed3\u679c\u3002\n- **\u53ea\u6709\u7b26\u5408\u4ee5\u4e0a\u51e0\u6761\u5b9a\u4e49\u7684\u8868\u8fbe\u5f0f\u624d\u662f\u5408\u6cd5\u7684\u3002**\n\n\u90a3\u4e48\u7531\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u52a0\u51cf\u6cd5\u4e0e\u4e58\u9664\u6cd5\u7684\u4e0d\u540c\u8fd0\u7b97\u7ea7\uff0c\u6839\u636e\u8fd0\u7b97\u7b26\u6240\u5728\u7684\u4f4d\u7f6e\u7684\u62ec\u53f7\u5d4c\u5957\u60c5\u51b5\uff0c\u8fdb\u884c\u5411\u4e0b\u7684\u9012\u5f52\u67e5\u627e\u6c42\u503c\u3002\u5177\u4f53\u5982\u4e0b:\n\n```c\n#include<stdio.h>\n#include<string.h>\n#include<ctype.h>\nchar str[114514];\nint len;\n//\u83b7\u53d6\u5b57\u7b26\u4e32str[l...r]\u4e4b\u95f4\u8868\u793a\u7684\u6570\u5b57\nint getnum(int l,int r) {\n    int i,ret=0;\n    for(i=l;i<=r;i++)\n        ret=ret*10+str[i]-'0';\n    return ret;\n}\n//\u5224\u65ad\u5b57\u7b26\u4e32str[l...r]\u4e4b\u95f4\u662f\u5426\u662f\u7eaf\u6570\u5b57\nint isnum(int l,int r) {\n    int i;\n    for(i=l;i<=r;i++)\n        if(!isdigit(str[i])) return 0;\n    return 1;\n}\n//\u5224\u65ad\u5b57\u7b26\u4e32str[l...r]\u7684\u6700\u5916\u5c42\u62ec\u53f7\u662f\u5426\u4e92\u76f8\u914d\u5bf9\nint issub(int l,int r) {\n    int i,in=0;\n    if(str[l]!='('||str[r]!=')')\n        return 0;\n    for(i=l;i<r;i++) {\n        in+=str[i]=='(';\n        in-=str[i]==')';\n        if(in==0)return 0;\n    }\n    return 1;\n}\n//\u83b7\u53d6str[l...r]\u5f53\u4e2d\u7684\u5173\u952e\u8fd0\u7b97\u7b26\uff0c\u4ee5\u6b64\u4f5c\u4e3a\u5411\u4e0b\u9012\u5f52\u7684\u4f9d\u636e\nint getlst(int L,int R) {\n    int i,ret=-1;\n    int in=0;\n    for (i=R;i>=L;i--) {\n        in+=str[i]=='(';\n        in-=str[i]==')';\n        if(in!=0) continue;\n        //\u4f18\u5148\u7ea7 1 : \u52a0\u51cf\u53f7 (\u8fd0\u7b97\u987a\u5e8f\u662f\u4ece\u5de6\u5411\u53f3\uff0c\u6240\u6709\u5411\u4e0b\u9012\u5f52\u662f\u4ece\u53f3\u5f80\u5de6\u5bfb\u627e)\n        if(str[i]=='+'||str[i]=='-')\n            return i;\n        //\u4f18\u5148\u7ea7 2 : \u4e58\u9664\u53f7 (\u8fd0\u7b97\u987a\u5e8f\u662f\u4ece\u5de6\u5411\u53f3\uff0c\u6240\u6709\u5411\u4e0b\u9012\u5f52\u662f\u4ece\u53f3\u5f80\u5de6\u5bfb\u627e)\n        if((str[i]=='*'||str[i]=='/')&&ret==-1)\n            ret=i;\n    }\n    return ret;\n}\n//\u5224\u65ad\u5b57\u7b26\u4e32str[l...r]\u7ec4\u6210\u7684\u8868\u8fbe\u5f0f\u7684\u503c\nint c(int L,int R) {\n    if(L>R)\n        return 0;\n    //\u5982\u679c\u5168\u662f\u6570\u5b57\uff0c\u5219\u8fd4\u56de\u5bf9\u5e94\u8868\u8fbe\u7684\u6570\u5b57\n    if(isnum(L,R))\n        return getnum(L,R);\n    //\u5982\u679c\u6700\u5916\u5c42\u62ec\u53f7\u4e92\u76f8\u5339\u914d\uff0c\u5219\u53bb\u6389\u6700\u5916\u5c42\u62ec\u53f7\uff0c\u53ea\u8ba1\u7b97\u5185\u90e8\n    if(issub(L,R))\n        return c(L+1,R-1);\n    int mid=getlst(L,R);\n    //\u83b7\u53d6\u5173\u952e\u7684\u8fd0\u7b97\u7b26\uff0c\u4f5c\u4e3a\u5411\u4e0b\u9012\u5f52\u7684\u4f9d\u636e\uff0c\u5e76\u5206\u60c5\u51b5\u679a\u4e3e\u9012\u5f52\u60c5\u51b5\uff08\u672c\u4ee3\u7801\u53ea\u6709\u52a0\u51cf\u4e58\u9664\uff09\n    if(str[mid]=='+')\n        return c(L,mid-1)+c(mid+1,R);\n    if(str[mid]=='-')\n        return c(L,mid-1)-c(mid+1,R);\n    if(str[mid]=='*')\n        return c(L,mid-1)*c(mid+1,R);\n    if(str[mid]=='/')\n        return c(L,mid-1)/c(mid+1,R);\n    return 0;\n}\n\nint main() {\n    while(scanf(\"%s\",str+1) != EOF)\n        len=strlen(str+1), printf(\"%d\\n\",c(1,len));\n}\n```\n\n## \u56de\u5230\u672c\u9898\n\n### \u8fd0\u7b97\u7b26\u5206\u6790\n\n\u672c\u9898\u4e00\u5171\u53ea\u67093\u79cd\u8fd0\u7b97\u7b26:\n\n- \u4e00\u5143\u8fd0\u7b97\u7b26`not`\uff0c\u4f18\u5148\u7ea7\u6700\u9ad8\n- \u4e8c\u5143\u8fd0\u7b97\u7b26`and`\uff0c\u4f18\u5148\u7ea7\u4e2d\u95f4\n- \u4e8c\u5143\u8fd0\u7b97\u7b26`or`\uff0c\u4f18\u5148\u7ea7\u6700\u4f4e\n\n\u90a3\u4e48\u6211\u4eec\u5206\u522b\u8bbe\u7f6e $3$ \u4e2a\u4e0d\u540c\u7684\u8fd0\u7b97\u7b26\u67e5\u627e\u51fd\u6570\uff0c\u4ece\u9ad8\u5230\u4f4e\u67e5\u627e\uff0c\u518d\u9012\u5f52\u5411\u4e0b\u641c\u7d22\u3002\n\n### \u5982\u4f55\u5224\u65ad\u8868\u8fbe\u5f0f\u51fa\u73b0\u9519\u8bef\uff1f\n\n\u8fd9\u4e2a\u4e5f\u5f88\u7b80\u5355\uff0c\u53ea\u8981\u5728\u5c06\u5b50\u8868\u8fbe\u5f0f\u62c6\u5206\u5230\u957f\u5ea6\u53ea\u6709\u4e00\u4e2a\u5355\u8bcd\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u5355\u8bcd**\u5fc5\u987b\u662f\u4e00\u4e2a\u5e38\u91cf**\uff0c\u5728\u672c\u9898\u4e2d\u4e5f\u5c31\u610f\u5473\u7740\u5fc5\u987b\u662f`true`\u6216`false`\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5219\u76f4\u63a5\u53ef\u4ee5\u5224\u5b9a\u8be5\u8868\u8fbe\u5f0f\u662f\u51fa\u73b0\u9519\u8bef\u7684\n\n## AC\u4ee3\u7801\n\n\u53bb\u6389\u4e86\u5934\u6587\u4ef6\uff0c\u7528`C`\u8bed\u8a00\u5b8c\u6210\uff0c\u4e0d\u8981\u76f4\u63a5\u590d\u5236\u7c98\u8d34\u54e6\uff01\n\n```c\nchar in[1010];\nchar s[114514];\nint len;\nint bracket_level[114514];\nint level_cnt[114514];\nint flag;\nvoid get_bracket_status(int l, int r) {\n\tmemset(&bracket_level[l], 0, (r - l + 1) * sizeof(int));\n\tmemset(level_cnt, 0, sizeof(level_cnt));\n\tint i = 0, in = 0;\n\tfor (i = l; i <= r; ++i) {\n\t\tif (s[i] == '(') {\n\t\t\t++in;\n\t\t\tbracket_level[i] = in;\n\t\t\t++level_cnt[in];\n\t\t}\n\t\tif (s[i] == ')') {\n\t\t\tbracket_level[i] = in;\n\t\t\t++level_cnt[in];\n\t\t\t--in;\n\t\t}\n\t}\n}\nint get_binary_op_1(int l, int r) {\n\tint in = 0;\n\tint i;\n\tfor (i = r; i >= l; --i) {\n\t\tin += s[i] == '(';\n\t\tin -= s[i] == ')';\n\t\tif (in) continue;\n\t\tif (s[i] == '&')\n\t\t\treturn i;\n\t}\n\treturn -1;\n}\nint get_binary_op_2(int l, int r) {\n\tint in = 0;\n\tint i;\n\tfor (i = r; i >= l; --i) {\n\t\tin += s[i] == '(';\n\t\tin -= s[i] == ')';\n\t\tif (in) continue;\n\t\tif (s[i] == '|')\n\t\t\treturn i;\n\t}\n\treturn -1;\n}\nint cal(int l, int r) {\n\tif (flag) return 0;\n\tif (l > r) return 0;\n\tget_bracket_status(l, r);\n\tint in = 1, pos = -1;\n\twhile (level_cnt[in] == 2 && bracket_level[l] == in && bracket_level[r] == in)\n\t\tl++, r--, ++in;\n\n\tif (l == r) {\n\t\tif (!isdigit(s[l])) { flag = 1; return 0; }\n\t\treturn s[l] - '0';\n\t}\n\n\tpos = get_binary_op_2(l, r);\n\tif (pos == l || pos == r) flag = 1;\n\tif (pos != -1) return cal(l, pos - 1) | cal(pos + 1, r);\n\n\tpos = get_binary_op_1(l, r);\n\tif (pos == l || pos == r) flag = 1;\n\tif (pos != -1) return cal(l, pos - 1) & cal(pos + 1, r);\n\n\tif (s[l] == '~') return cal(l + 1, r) ^ 1;\n\tflag = 1;\n\treturn 0;\n}\nint res;\nint main() {\n\twhile (scanf(\"%s\", in) != EOF) {\n\t\tif (!strcmp(in, \"true\")) s[len++] = '1';\n\t\tif (!strcmp(in, \"false\")) s[len++] = '0';\n\t\tif (!strcmp(in, \"or\")) s[len++] = '|';\n\t\tif (!strcmp(in, \"and\")) s[len++] = '&';\n\t\tif (!strcmp(in, \"not\")) s[len++] = '~';\n\t}\n\tres = cal(0, len - 1);\n\t//puts(s);\n\tputs(flag ? \"error\" : (res ? \"true\" : \"false\"));\n}\n```",
        "postTime": 1626954024,
        "uid": 257523,
        "name": "CYMario",
        "ccfLevel": 0,
        "title": "P1575 \u8868\u8fbe\u5f0f\u6c42\u503c&\u9519\u8bef\u5904\u7406"
    }
]