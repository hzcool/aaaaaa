[
    {
        "content": "\u6811\u5f62 dp\u3002\n\n\u601d\u8003\u8f6c\u79fb\u7684\u65f6\u5019\u53ef\u4ee5\u8003\u8651\u5f00\u59cb\u53ea\u6709\u4e00\u4e2a\u70b9\uff0c\u6bcf\u6b21\u52a0\u4e00\u68f5\u5b50\u6811\u8fdb\u53bb\uff0c\u8fd9\u6837\u601d\u8003\u8d77\u6765\u4f1a\u6e05\u6670\u4e00\u70b9\u3002\n\n\u7531\u4e8e\u8986\u76d6\u4e00\u6761\u8fb9\u7684\u53ef\u80fd\u662f\u76f8\u90bb\u70b9\u6216\u8005\u5176\u76f8\u90bb\u8fb9\u8fde\u5411\u7684\u70b9\uff0c\u6240\u4ee5\u5904\u7406\u65f6 $i$ \u5b50\u6811\u5185\u4e0e $i$ \u76f8\u90bb\u7684\u8fb9\u53ef\u80fd\u672a\u88ab\u8986\u76d6\uff0c\u6240\u4ee5\u9700\u8981\u5c06\u5176\u8003\u8651\u5230\u72b6\u6001\u91cc\u3002\n\n\u8bb0 $f_{i,j=0/1/2/3/4,k=0/1/2}$ \u8868\u793a $i$ \u5b50\u6811\u5185\uff0c$j=0$ \u8868\u793a $i$ \u4e0e $i$ \u7684\u513f\u5b50\u90fd\u6ca1\u6709\u653e\u53d1\u5c04\u5668\uff0c$j=1/2$ \u5206\u522b\u8868\u793a $i$ \u653e\u4e86 $1$\u3001$2$ \u4e2a\u53d1\u5c04\u5668\uff0c$j=3/4$ \u5206\u522b\u8868\u793a $i$ \u7684\u513f\u5b50\u653e\u4e86 $1$\u3001$\\geq2$ \u4e2a\u53d1\u5c04\u5668\uff0c$k$ \u8868\u793a $i$ \u5b50\u6811\u5185\u4e0e\u5176\u76f8\u90bb\u7684\u8fb9\u8fd8\u9700\u8981\u7684\u53d1\u5c04\u5668\u6570\u91cf\u3002\n\n\u4e0d\u9700\u8981\u8003\u8651 $i$ \u548c $i$ \u513f\u5b50\u90fd\u653e\u4e86\u53d1\u5c04\u5668\u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u65f6\u5019\u53ea\u6709 $i$ \u4e0a\u7684\u53d1\u5c04\u5668\u6709\u7528\u3002\n\n\u8f6c\u79fb\u65f6\uff0c\u8bb0\u5f53\u524d\u8282\u70b9\u4e3a $u$\uff0c\u52a0\u5165\u7684\u513f\u5b50\u4e3a $v$\u3002\n\n\u5148\u8003\u8651 $v$ \u5b50\u6811\u5185\u4e0e $v$ \u76f8\u90bb\u7684\u672a\u8986\u76d6\u8fb9\uff0c\u5b83\u4eec\u9700\u8981 $u$ \u653e\u7684\u53d1\u5c04\u5668\u6570\u91cf\u4e3a $v$ \u72b6\u6001\u4e2d\u7684 $k$\uff0c\u6839\u636e\u8fd9\u4e2a\u6761\u4ef6\u5148\u5224\u6389\u4e0d\u5408\u6cd5\u7684\u8f6c\u79fb\u3002\n\n\u518d\u8003\u8651 $u$ \u4e0e $v$ \u4e4b\u95f4\u7684\u8fde\u8fb9\uff1a\n\n1. \u5982\u679c $u$ \u6216 $v$ \u4e0a\u6709\u53d1\u5c04\u5668\uff0c\u5219\u6b64\u8fb9\u5df2\u88ab\u8986\u76d6\uff0c\u76f4\u63a5\u4e0d\u7ba1\uff1b\n\n2. \u5426\u5219\u6b64\u8fb9\u76f8\u90bb\u70b9\u4e0a\u7684\u53d1\u5c04\u5668\u6570\u91cf\u4e3a $u$ \u513f\u5b50\u4e0a\u53d1\u5c04\u5668\u6570\u91cf $+$ $v$ \u513f\u5b50\u4e0a\u53d1\u5c04\u5668\u6570\u91cf\uff0c\u8fd9\u4e24\u4e2a\u90fd\u8bb0\u5728 dp \u72b6\u6001\u4e2d\u4e86\u3002\u6839\u636e\u8fd9\u4e2a\u66f4\u65b0 $u$ \u72b6\u6001\u7684 $k$ \u503c\u3002\n\n\u8fd8\u6709\u5c31\u662f\u6839\u636e $v$ \u4e0a\u7684\u53d1\u5c04\u5668\u6570\u91cf\u6765\u66f4\u65b0 $u$ \u72b6\u6001 $j,k$ \u7684\u503c\u3002\n\n\u5177\u4f53\u53ef\u4ee5\u81ea\u5df1\u753b\u5f20\u56fe\u601d\u8003\u4e00\u4e0b\uff0c\u6216\u8005\u76f4\u63a5\u770b\u4ee3\u7801\n\n$\\texttt{Code Below}$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=2e5+5;\nint inf;\n\nint read()\n{\n\tint s=0;\n\tchar c=getchar(),lc='+';\n\twhile (c<'0'||'9'<c) lc=c,c=getchar();\n\twhile ('0'<=c&&c<='9') s=s*10+c-'0',c=getchar();\n\treturn lc=='-'?-s:s;\n}\nvoid write(int x)\n{\n\tif (x<0) putchar('-'),x=-x;\n\tif (x<10) putchar(x+'0');\n\telse write(x/10),putchar(x%10+'0');\n}\nvoid print(int x,char c='\\n')\n{\n\twrite(x);\n\tputchar(c);\n}\nstruct edge\n{\n\tint to,nxt;\n}e[N*2];\nint head[N],cnte=0;\nvoid add_edge(int u,int v)\n{\n\te[++cnte].to=v;\n\te[cnte].nxt=head[u];\n\thead[u]=cnte;\n}\nint f[N][5][3],g[5][3];\nbool trans(int x,int y,int a,int b,int &c,int &d)\n{\n\tc=x,d=y;\n\tif (b)\n\t{\n\t\tif (x>2) return 0;\n\t\tif (x<b) return 0;\n\t}\n\tif (1<=a&&a<=2) d=max(d-a,0);\n\tif (!((1<=a&&a<=2)||(1<=x&&x<=2)))\n\t{\n\t\tint tot=max(a-2,0)+max(x-2,0);\n\t\td=max(d,2-tot);\n\t}\n\tif (1<=a&&a<=2&&!(1<=c&&c<=2)) c=min(a+max(c-2,0)+2,4);\n\treturn 1;\n}\nvoid dfs(int now,int father)\n{\n\tf[now][0][0]=0;\n\tf[now][1][0]=1;\n\tf[now][2][0]=2;\n\tfor (int i=head[now];i;i=e[i].nxt)\n\t{\n\t\tint to=e[i].to,c,d;\n\t\tif (to==father) continue;\n\t\tdfs(to,now);\n\t\tmemcpy(g,f[now],sizeof(g));\n\t\tmemset(f[now],0x3f,sizeof(f[now]));\n\t\tfor (int x=0;x<=4;x++)\n\t\tfor (int y=0;y<=2;y++)\n\t\tif (g[x][y]<inf)\n\t\tfor (int a=0;a<=4;a++)\n\t\tfor (int b=0;b<=2;b++)\n\t\tif (f[to][a][b]<inf)\n\t\tif (trans(x,y,a,b,c,d))\n\t\tf[now][c][d]=min(f[now][c][d],g[x][y]+f[to][a][b]);\n\t}\n}\n\nsigned main(signed bangumi,char *ss969[])\n{\n\t(void)bangumi,(void)ss969;\n\tmemset(f,0x3f,sizeof(f));\n\tinf=f[0][0][0];\n\tint n=read();\n\tfor (int i=1;i<n;i++)\n\t{\n\t\tint u=read(),v=read();\n\t\tadd_edge(u,v);\n\t\tadd_edge(v,u);\n\t}\n\tdfs(1,0);\n\tint ans=inf;\n\tfor (int i=0;i<=4;i++) ans=min(ans,f[1][i][0]);\n\tprint(ans);\n\t\n\treturn 0;\n}\n```",
        "postTime": 1631880497,
        "uid": 61120,
        "name": "QwQcOrZ",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P5969\u3010POI2016 Nadajniki\u3011"
    }
]