[
    {
        "content": "##$x y R/D w$\u8868\u793a\u4ece$(x,y)$\u9876\u90e8\u53d6w\u4e2a\u68cb\u5b50\u60f3\u53f3/\u4e0b\u79fb\u52a8\n\u4e00\u5230\u673a\u623f\u5c31\u88ab$Manchery$\u5b89\u5229\u4e86\u8fd9\u9898\u2026\u2026 \n\u8003\u8651$n$\u8def\u5f52\u5e76\uff0c\u53ef\u4ee5\u4ece$(1..x,1..y)$\u7684\u683c\u5b50\u5f52\u5e76\u5230$(x,y)$\n\n\n------------\n##$(1,1)$\u56e0\u4e3a\u6ca1\u6709\u79fb\u52a8\uff0c\u6240\u4ee5\u53ea\u80fd\u4fdd\u8bc1\u9876\u90e8\u7b2c\u4e00\u4e2a\u68cb\u5b50\u662f\u6709\u5e8f\u7684\uff0c$(2,1)(1,2)$\u53ef\u4ee5\u901a\u8fc7\u6bd4\u8f83$(1,1)$\u7684\u9876\u90e8\u4e24\u4e2a\u68cb\u5b50\u6765\u505a\u5230\u4e24\u4e2a\u68cb\u5b50\u7684\u5347\u5e8f\uff0c$(2,2)$\u53ef\u4ee5\u5f52\u5e76$(1,1)(2,1)(1,2)$\u505a\u52305\u4e2a\u6709\u5e8f\u2026\u2026\u5176\u4ed6\u7684\u683c\u5b50\u53ef\u4ee5\u4ece\u5b83\u4e4b\u524d\u7684\u683c\u5b50\u4e2dn\u8def\u5f52\u5e76\u5f97\u5230\u5e8f\u5217\u3002\u9012\u5f52\u5904\u7406\u5c31\u53ef\u4ee5\u4e86\u3002 \n\u5927\u6982$(6,6)$\u521a\u597d\u53ef\u4ee5\u505a\u5230$40000$ \n\u8981\u505a\u5230\u4ece\u5e95\u5411\u4e0a\u5347\u5e8f\u7684\u8bdd\uff0c\u4e4b\u524d\u7684\u683c\u5b50\u5f97\u4ece\u5e95\u5411\u4e0a\u964d\u5e8f\uff0c\u53cd\u4e4b\u4ea6\u7136\n\n\u7c97\u7565\u7b97\u4e86\u4e0b\u590d\u6742\u5ea6\u2026\u2026\u5927\u6982$O(66+36nlog36)$\uff1f\uff1f \u53cd\u6b63\u8dd1\u5f97\u8fc7\u2026\u2026\n```c\n#include <cstdio>\n#include <iostream>\n#include <algorithm>\n#include <stack>\n#include <queue>\n#include <vector>\n#define X first\n#define Y second\n\nusing namespace std;\n\ntypedef pair<int,int> pari;\ntypedef pair<int,pari> par;\n\nint n;\nint C[10][10];\nstack<int> A[10][10],B[10][10];\npriority_queue<par,vector<par>,less<par> > Q1;\npriority_queue<par,vector<par>,greater<par> > Q2;\n\ninline void move(int i,int j,int x,int y){\n    for(;i<x;i++) printf(\"%d %d D 1\\n\",i,j);\n    for(;j<y;j++) printf(\"%d %d R 1\\n\",i,j);\n}\n\ninline void Sort1(int x,int y){\n    for(int i=1;i<=x;i++)\n        for(int j=1;j<=y;j++)\n            if((i!=x||j!=y)&&!A[i][j].empty()) Q1.push(par(A[i][j].top(),pari(i,j)));\n    while(!Q1.empty()){\n        A[x][y].push(Q1.top().X);\n        int i=Q1.top().Y.X,j=Q1.top().Y.Y; Q1.pop();\n        move(i,j,x,y); A[i][j].pop();\n        if(!A[i][j].empty()) Q1.push(par(A[i][j].top(),pari(i,j)));\n    }\n}\n\ninline void Sort2(int x,int y){\n    for(int i=1;i<=x;i++)\n        for(int j=1;j<=y;j++)\n            if((i!=x||j!=y)&&!A[i][j].empty()) Q2.push(par(A[i][j].top(),pari(i,j)));\n    while(!Q2.empty()){\n        A[x][y].push(Q2.top().X);\n        int i=Q2.top().Y.X,j=Q2.top().Y.Y; Q2.pop();\n        move(i,j,x,y); A[i][j].pop();\n        if(!A[i][j].empty()) Q2.push(par(A[i][j].top(),pari(i,j)));\n    }\n}\n\nvoid solve(int x,int y,int wh){\n    if(x==1&&y==1){\n        if(!B[x][y].empty()) A[x][y].push(B[x][y].top()),B[x][y].pop();\n        return ;\n    }\n    if((x==1&&y==2)||(x==2&&y==1)){\n        if(B[1][1].empty()) return ;\n        int i=B[1][1].top(); B[1][1].pop();\n        if(B[1][1].empty()){ A[x][y].push(i); move(1,1,x,y); return ; }\n        int j=B[1][1].top(); B[1][1].pop();\n        if((i>j)^wh) printf(\"%d %d %c 2\\n\",1,1,x==1?'R':'D');\n        else printf(\"%d %d %c 1\\n%d %d %c 1\\n\",1,1,x==1?'R':'D',1,1,x==1?'R':'D');\n        if(wh) A[x][y].push(max(i,j)),A[x][y].push(min(i,j));\n        else A[x][y].push(min(i,j)),A[x][y].push(max(i,j));\n        return ;\n    }\n    for(int i=x;i;i--)\n        for(int j=y;j;j--)\n            if(i!=x||j!=y) solve(i,j,wh^1);\n    if(wh) Sort1(x,y);\n    else Sort2(x,y);\n}\n\nint main(){\n    //freopen(\"disks.in\",\"r\",stdin);\n    //freopen(\"disks.out\",\"w\",stdout);\n    scanf(\"%d\",&n);\n    for(int i=1,x;i<=n;i++){\n        scanf(\"%d\",&x); B[1][1].push(x);\n    }\n    solve(6,6,1);\n}\n```",
        "postTime": 1541067133,
        "uid": 85998,
        "name": "\u5362\u777f\u97ec\uff08\u901d\uff09",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 \u3010[CERC2016]\u821e\u52a8\u7684\u76d8\u5b50 Dancing Disks\u3011"
    }
]