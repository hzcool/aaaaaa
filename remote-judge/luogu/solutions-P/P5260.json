[
    {
        "content": "\u9898\u76ee\u5927\u610f\uff1a\u7ed9\u5b9a $n$ \u4e2a\u8282\u70b9 $m$ \u6761\u8fb9\u7684\u65e0\u5411\u56fe\uff0c\u5224\u65ad\u5176\u662f\u5426\u540c\u6784\u4e8e\u4e00\u8d85\u7acb\u65b9\u56fe\u3002\u82e5\u540c\u6784\uff0c\u8bf7\u5c06\u70b9\u91cd\u65b0\u7f16\u53f7\u4f7f\u5f97\u76f8\u90bb\u4e24\u4e2a\u70b9\u7684\u7f16\u53f7\u5728\u4e8c\u8fdb\u5236\u4e0b\u6070\u6709\u4e00\u4f4d\u4e0d\u540c\u3002\n\n\u9996\u5148\uff0c\u4e00\u4e2a $k$ \u7ef4\u8d85\u7acb\u65b9\u4f53\u6709\u4e24\u4e2a\u6027\u8d28\uff1a\n\n1. **\u6709 $2^k$ \u4e2a\u9876\u70b9**\n\n2. **\u6709 $k\\cdot2^{k-1}$ \u6761\u8fb9**\n\n\u5bf9\u4e8e\u7b2c\u4e8c\u6761\u6027\u8d28\uff0c\u6ce8\u610f\u5230\u6bcf\u4e2a\u9876\u70b9\u4f1a\u5411\u5916\u8fde\u51fa $k$ \u6761\u8fb9\uff0c\u4e00\u5171\u6709 $2^k$ \u4e2a\u9876\u70b9\uff0c\u7136\u800c\u6bcf\u6761\u8fb9\u4f1a\u88ab\u7b97\u4e24\u6b21\uff0c\u56e0\u6b64\u5171\u6709 $k\\cdot2^{k-1}$ \u6761\u8fb9\u3002\n\n\u56e0\u6b64\uff0c\u901a\u8fc7\u5224\u65ad $n,m$ \u662f\u5426\u6ee1\u8db3\u4e0a\u8ff0\u4e24\u4e2a\u6761\u4ef6\uff0c\u4fbf\u53ef\u521d\u6b65\u6392\u9664\u90a3\u4e9b\u975e\u8d85\u7acb\u65b9\u56fe\uff1a\n\n```cpp\n(n & (n - 1)) || (m != log2(n) * n / 2)\n```\n\n\u4f46\u4ec5\u4ec5\u8fd9\u6837\u8fd8\u4e0d\u8db3\u4ee5\u5224\u65ad\uff0c\u4f8b\u5982\u6837\u4f8b\u4e2d\u7b2c\u4e8c\u7ec4\u8be2\u95ee\uff1a\n\n![graph.png](https://i.loli.net/2021/02/10/moJkHNCTguisVdB.png)\n\n\u867d\u7136 $n=m=4$ \u6ee1\u8db3\u6027\u8d28\uff0c\u4f46\u5b83\u4e0d\u662f\u6b63\u65b9\u5f62\u3002\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u9898\u76ee\u63d0\u4f9b\u7684\u6027\u8d28\uff1a\u5982\u679c\u8fd9\u4e2a\u56fe\u540c\u6784\u4e8e\u8d85\u7acb\u65b9\u56fe\uff0c\u90a3\u4e48\u53ef\u4ee5\u627e\u5230\u4e00\u4e2a\u7f16\u53f7\u65b9\u5f0f\u4f7f\u5f97\u76f8\u90bb\u4e24\u70b9\u7f16\u53f7\u5728\u4e8c\u8fdb\u5236\u4e0b\u6070\u6709\u4e00\u4f4d\u4e0d\u540c\u3002\n\n\u4e8b\u5b9e\u4e0a\uff0c\u5b83\u7684\u9006\u5b9a\u7406\u540c\u6837\u6210\u7acb\u3002\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5148\u5c1d\u8bd5\u627e\u51fa\u4e00\u79cd\u7f16\u53f7\u65b9\u6848\uff0c\u82e5\u627e\u4e0d\u5230\u8bf4\u660e\u5b83\u5e76\u975e\u8d85\u7acb\u65b9\u56fe\u3002\n\n\u600e\u4e48\u7f16\u53f7\u5462\uff1f\u5047\u8bbe\u6709\u4e00\u4e2a $k$ \u7ef4\u7684\u8d85\u7acb\u65b9\u56fe\u3002\n\n**\u9996\u5148**\u5f97\u5b89\u6392\u4e00\u4e2a $0$ \u53f7\u5427\uff0c\u5904\u4e8e\u8d85\u7acb\u65b9\u4f53\u7684\u5bf9\u79f0\u6027\uff0c\u8fd9\u4e2a $0$ \u53f7\u9009\u54ea\u4e2a\u70b9\u90fd\u65e0\u6240\u8c13\uff08\u6211\u9009\u7684\u662f\u539f\u6765\u7684 $0$ \u53f7\u8282\u70b9\uff09\u3002\n\n**\u7136\u540e**\uff0c\u5bf9\u4e8e\u5b83\u8fde\u5411\u7684 $k$ \u4e2a\u8282\u70b9\uff0c\u5206\u522b\u7f16\u53f7\u4e3a $1,2,4,\\dots,2^{k-1}$\u3002\u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u5728\u4e8c\u8fdb\u5236\u4e0b\u4e0e $0$ \u4ec5\u6709\u4e00\u4f4d\u4e0d\u540c\u3002\n\n**\u63a5\u7740**\u6709\u610f\u601d\u7684\u90e8\u5206\u6765\u4e86\u3002\u5b9a\u4e49\u4e00\u4e2a\u8282\u70b9\u7684\u6df1\u5ea6\u4e3a\u5176\u5230 $0$ \u53f7\u8282\u70b9\u7684\u8ddd\u79bb\uff0c\u5219\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\u7f16\u53f7\u4e2d $1$ \u7684\u4e2a\u6570\u5c31\u7b49\u4e8e\u5b83\u7684\u6df1\u5ea6\u3002\u800c\u6df1\u5ea6\u4e3a $d$ \u7684\u70b9\uff0c\u5219\u6070\u6709 $d$ \u4e2a\u6df1\u5ea6\u4e3a $d-1$ \u7684\u8282\u70b9\u4e0e\u4e4b\u76f8\u8fde\uff08\u5373\u5c06\u7f16\u53f7\u4e2d $d$ \u4e2a $1$ \u4efb\u610f\u4fee\u6539\u4e00\u4e2a\u53d8\u4e3a $0$\uff09\u3002**\u56e0\u6b64\u5c06\u6240\u6709\u4e0e\u4e4b\u76f8\u8fde\u7684\u6df1\u5ea6\u4e3a $d-1$ \u7684\u70b9\u7684\u7f16\u53f7\u6216\u8d77\u6765\uff0c\u4fbf\u53ef\u5f97\u5230\u6df1\u5ea6\u4e3a $d$ \u7684\u70b9\u7684\u7f16\u53f7\u3002** \u6309\u7167\u6df1\u5ea6 BFS \u4e00\u904d\u5373\u53ef\u5f97\u5230\u6240\u6709\u70b9\u7684\u7f16\u53f7\u3002\n\n\u4ee5\u4e0a\u4e09\u6b65\u4fbf\u662f\u5982\u4f55\u7ed9\u8d85\u7acb\u65b9\u56fe\u7f16\u53f7\u7684\u8fc7\u7a0b\u3002\u5176\u5b9e\u4e2a\u4eba\u8ba4\u4e3a\u53ef\u4ee5\u8fd9\u4e48\u7c7b\u6bd4\uff1a\u7b2c\u4e00\u6b65\u786e\u5b9a**\u539f\u70b9**\uff0c\u7b2c\u4e8c\u6b65\u786e\u5b9a**\u5750\u6807\u8f74**\uff0c\u7b2c\u4e09\u6b65\u5206\u5c42\u6784\u5efa\u51fa**\u6574\u4e2a\u8d85\u7acb\u65b9\u4f53**\u3002\n\n\u7f16\u53f7\u5b8c\u540e\u8bb0\u5f97 check \u4e00\u904d\uff0c\u5982\u679c\u65b9\u6848\u975e\u6cd5\u5219\u8bf4\u660e\u539f\u56fe\u4e0d\u662f\u8d85\u7acb\u65b9\u56fe\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define nb 33333\nusing namespace std;\n\nint q, n, m, a[nb];\nvector<int> G[nb];\n\nbool bfs(){\n\ta[0] = 0;\n\t// \u786e\u5b9a\u539f\u70b9\n\tqueue<int> q;\n\tfor(int i = 0; i < G[0].size(); i++){\n\t\tq.push(G[0][i]);\n\t\ta[G[0][i]] = 1 << i;\n\t\t// \u786e\u5b9a\u5750\u6807\u8f74\n\t}\n\twhile(!q.empty()){\n\t\tint u = q.front();\n\t\tq.pop();\n\t\tfor(int i = 0; i < G[u].size(); i++){\n\t\t\tint v = G[u][i];\n\t\t\tif(a[v] != -1) continue;\n\t\t\tq.push(v);\n\t\t\ta[v] = 0;\n\t\t\tfor(int j = 0; j < G[v].size(); j++){\n\t\t\t\tint w = G[v][j];\n\t\t\t\tif(a[w] != -1) a[v] |= a[w];\n\t\t\t\t// \u5c06\u6df1\u5ea6\u6070\u597d\u5c0f 1 \u7684\u70b9\u7f16\u53f7\u6216\u8d77\u6765\u5c31\u662f\u6b64\u70b9\u7f16\u53f7\n\t\t\t}\n\t\t}\n\t}\n\tfor(int u = 0; u < n; u++){\n\t\tfor(int i = 0; i < G[u].size(); i++){\n\t\t\tint tmp = a[G[u][i]] ^ a[u];\n\t\t\tif(tmp & (tmp - 1)) return 1;\n\t\t\t// \u9a8c\u8bc1\u7f16\u53f7\u65b9\u6848\u662f\u5426\u5408\u6cd5\n\t\t\t// \u5982\u679c\u76f8\u90bb\u8282\u70b9\u7f16\u53f7\u5f02\u6216\u5f97\u5230\u4e0d\u662f 2 \u7684\u5e42\uff0c\u8bf4\u660e\u65b9\u6848\u975e\u6cd5\n\t\t}\n\t}\n\treturn 0;\n}\n\nint main(){\n\tios::sync_with_stdio(0);\n\tfor(cin >> q; q; q--){\n\t\tcin >> n >> m;\n\t\tmemset(a, -1, sizeof(a));\n\t\tfor(int i = 0; i < n; i++) G[i].clear();\n\t\tfor(int i = 0, u, v; i < m; i++){\n\t\t\tcin >> u >> v;\n\t\t\tG[u].push_back(v);\n\t\t\tG[v].push_back(u);\n\t\t}\n\t\tif((n & (n - 1)) || (m != log2(n) * n / 2) || bfs()){\n\t\t\t// n, m \u4e0d\u7b26\u5408\u6761\u4ef6\u6216\u65e0\u5408\u6cd5\u65b9\u6848\uff0c\u8bf4\u660e\u539f\u56fe\u4e0d\u662f\u8d85\u7acb\u65b9\u56fe\n\t\t\tcout << \"-1\\n\";\n\t\t\tcontinue;\n\t\t}\n\t\tfor(int i = 0; i < n; i++){\n\t\t\tcout << a[i] << \" \";\n\t\t}\n\t\tcout << endl;\n\t}\n\treturn 0;\n}\n\n// \u987a\u4fbf\u5e2e\u5fd9\u586b\u4e86 SPJ \u7684\u5751\uff0c\u5982\u53d1\u73b0\u6709 bug \u6b22\u8fce\u6307\u6b63\n```",
        "postTime": 1612969514,
        "uid": 142338,
        "name": "pythoner713",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P5260 \u3010[JSOI2013]\u8d85\u7acb\u65b9\u4f53\u3011"
    }
]