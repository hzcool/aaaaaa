[
    {
        "content": "[\u63a8\u8350\u672c\u849f\u84bb\u7684\u535a\u5ba2](https://www.luogu.com.cn/blog/mSzTCm/)\r\n\r\n\u9644\u4e0bAC\u4ee3\u7801\uff0c\u4ee3\u7801\u7684\u89e3\u91ca\u90fd\u5199\u5728\u6ce8\u91ca\u91cc\u4e86\r\n\r\n\r\n------------\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\t\t\t//\u61d2\u4eba\u4e13\u7528\u5934\u6587\u4ef6 \r\nusing namespace std;\r\nint n,m,cnt;\r\nint a[111][111],b[111][111];\t//\u4e3a\u4e86\u9632\u6b62\u635f\u574fa\u6570\u7ec4\uff0c\u5224\u65ad\u7684\u64cd\u4f5c\u5e94\u5728b\u6570\u7ec4\u5185\u6267\u884c \r\nbool f(int r,int c)\t\t\t\t//\u5224\u65ad\u957f\u4e3ar\uff0c\u5bbd\u4e3ac\u7684\u9524\u5b50\u662f\u5426\u80fd\u591f\u521a\u597d\u7838\u5b8c\u5730\u9f20 \r\n{\r\n\tif(cnt%(r*c))return false;\t//\u53ef\u884c\u6027\u526a\u679d\uff1a\u5982\u679c\u5730\u9f20\u7684\u6570\u91cf\u4e0d\u80fd\u88ab\u4e00\u6b21\u7838\u7684\u5730\u9f20\u6570\u91cf\u6574\u9664\uff0c\u90a3\u4e48\u6700\u540e\u4e00\u5b9a\u4e0d\u80fd\u521a\u597d\u7838\u5b8c \r\n\telse\r\n\t{\r\n\t\tfor(int i=1;i<=n;i++)\r\n\t\t{\r\n\t\t\tfor(int j=1;j<=m;j++)\r\n\t\t\t{\r\n\t\t\t\tb[i][j]=a[i][j];//\u590d\u5236a\u6570\u7ec4\u81f3b\u6570\u7ec4\r\n\t\t\t}\r\n\t\t}\t\r\n\t\tfor(int i=1;i<=n;i++)\r\n\t\t{\r\n\t\t\tfor(int j=1;j<=m;j++)//\u679a\u4e3e\u6240\u6709\u7684\u70b9\uff0c\u4e00\u4e2a\u4e00\u4e2a\u7838\u4e0b\u53bb \r\n\t\t\t{\t\r\n\t\t\t\tif(b[i][j])\t\t//\u5982\u679cb[i][j]\u4e0d\u4e3a\u7a7a\uff0c\u90a3\u4e48\u5c31\u5c06\u8303\u56f4\u5185\u7684\u5730\u9f20\u6570\u91cf\u5168\u90fd\u51cf\u53bb\u5b83,\u5b9e\u73b0\u4ee5i\uff0cj\u4e3a\u5de6\u4e0a\u89d2\u7838b[i][j]\u6b21\u9524\u5b50 \r\n\t\t\t\t{\r\n\t\t\t\t\tint x=b[i][j];\r\n\t\t\t\t\tfor(int k=1;k<=r;k++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfor(int l=1;l<=c;l++)//\u679a\u4e3e\u9524\u5b50\u7684\u8303\u56f4\uff0c\u5c06\u8303\u56f4\u5185\u7684\u5730\u9f20\u90fd\u51cf\u53bbb[i][j] \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif(i+k-1>n || j+l-1>m)return false;\t//\u5982\u679c\u9524\u5b50\u7684\u8303\u56f4\u8d85\u51fa\u4e86n*m\uff0c\u90a3\u4e48\u8fd4\u56de\u5047 \r\n\t\t\t\t\t\t\tb[i+k-1][j+l-1]-=x;\t \t\t\t\t//\u51cf\u53bbb[i][j] \r\n\t\t\t\t\t\t\tif(b[i+k-1][j+l-1]<0)return false;\t//\u5982\u679c\u9524\u5b50\u5c06\u4e00\u4e2a\u4f4d\u7f6e\u7684\u5730\u9f20\u6570\u91cf\u7838\u6210\u4e86\u8d1f\u6570\uff0c\u90a3\u4e48\u4e5f\u8fd4\u56de\u5047 \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int i=1;i<=n;i++)\r\n\t\t{\r\n\t\t\tfor(int j=1;j<=m;j++)\r\n\t\t\t{\r\n\t\t\t\tif(b[i][j])\r\n\t\t\t\t{\r\n\t\t\t\t\treturn false;\t\t\t//\u5728\u6240\u6709\u4f4d\u7f6e\u7684\u5730\u9f20\u90fd\u7838\u4e86\u4e00\u904d\u8fc7\u540e\uff0c\u5982\u679c\u8fd8\u6709\u4f4d\u7f6e\u6709\u5730\u9f20\u7559\u4e0b\uff0c\u90a3\u4e48\u540c\u6837\u8fd4\u56de\u5047\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\t\t\t\t\t\t//\u6700\u540e\uff0c\u8fd4\u56de\u771f \r\n\t}\r\n}\t\t\r\nint main()\r\n{\r\n\tcin>>n>>m;\t\t\t\t\t\t\t\t//\u8f93\u5165n\u4e0em \r\n\tfor(int i=1;i<=n;i++)\r\n\t{\r\n\t\tfor(int j=1;j<=m;j++)\r\n\t\t{\r\n\t\t\tcin>>a[i][j];\t\t\t\t\t//\u8f93\u5165\u6bcf\u4e2a\u4f4d\u7f6e\u7684\u5730\u9f20\u6570\u91cf \r\n\t\t\tcnt+=a[i][j];\t\t\t\t\t//\u7edf\u8ba1\u5730\u9f20\u4e00\u5171\u7684\u6570\u91cf \r\n\t\t}\r\n\t}\t\r\n\tint ans=INT_MAX;\t\t\t\t\t\t//\u5c06ans\u521d\u59cb\u5316\u4e3a\u4e00\u4e2a\u5f88\u5927\u7684\u6570 \r\n\tfor(int i=1;i<=n;i++)\t\t\t\t\t//\u679a\u4e3e\u9524\u5b50\u7684\u957f \r\n\t{\r\n\t\tfor(int j=1;j<=m;j++)\t\t\t\t//\u679a\u4e3e\u9524\u5b50\u7684\u5bbd \r\n\t\t{\r\n\t\t\tif(f(i,j))\t\t\t\t\t\t//\u5224\u65ad\u957f\u4e3ai\uff0c\u5bbd\u4e3aj\u7684\u9524\u5b50\u662f\u5426\u80fd\u591f\u521a\u597d\u7838\u5b8c\u5730\u9f20 \r\n\t\t\t{\r\n\t\t\t\tans=min(ans,(cnt)/(i*j));\t//\u9700\u8981\u7838\u7684\u6b21\u6570\u7b49\u4e8e\u5730\u9f20\u4e00\u5171\u7684\u6570\u91cf\u9664\u4ee5\u4e00\u6b21\u7838\u7684\u5730\u9f20\u6570\u91cf\uff0c\u6700\u540e\u53d6\u6700\u5c0f\u503c \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcout<<ans;\t\t\t\t\t\t\t\t//\u6700\u540e\u8f93\u51fa\u7b54\u6848 \r\n\treturn 0;\r\n}\r\n```\r\n\r\n\r\n------------\r\n\r\n### \u849f\u84bb\u7b2c\u4e00\u6b21\u63d0\u4ea4\u9898\u89e3\uff0c\u6b22\u8fce\u5728\u8bc4\u8bba\u533a\u63d0\u51fa\u5efa\u8bae\uff01",
        "postTime": 1603365419,
        "uid": 290856,
        "name": "SzTC",
        "ccfLevel": 0,
        "title": "P2484 [SDOI2011]\u6253\u5730\u9f20 \u9898\u89e3"
    },
    {
        "content": "\u96be\u5ea6\u6807\u7b7e\u504f\u9ad8\uff0c\u5b9e\u9645\u5c31\u662fpj+\uff08\u7136\u800c\u672c\u849f\u84bb\u8fd8\u662f\u8c03\u4e86\u534a\u5929qwq\n\n\u5927\u6982\u601d\u8def\uff1a\n\n\u6570\u636e\u8303\u56f4\u53ea\u6709100,\u6240\u4ee5\uff0c\u9762\u5411\u6570\u636e\u7f16\u7a0b\u7684\u6211\u4eec\uff0c\u6253\u4e2a\u66b4\u529b\u5c31\u597d\u4e86\n\n\u4ece1->100\u5206\u522b\u679a\u4e3er\u548cc\n\n\u5224\u65ad\u53ef\u884c\u4e0d\u53ef\u884c\n\n\u6700\u540e\u53d6r\\*c\u6700\u5927\u7684\u503c==\n\n\u5f53\u7136\u53ea\u6709\u8fd9\u6837\u5bb9\u6613t\uff0c\u6240\u4ee5\u6211\u4eec\u8fd8\u8981\u526a\u679d\uff01\uff01\uff01\n\n\u56e0\u4e3a\u6bcf\u6b21\u90fd\u80fd\u6253\u6389r\\*c\u53ea\u5730\u9f20\uff0c\u6240\u4ee5\u6240\u6709\u5730\u9f20\u7684sum\u4e00\u5b9a\u662fr\\*c\u7684\u500d\u6570\uff1b\n\n\u6bcf\u6b21\u679a\u4e3e\u524d\u5224\u65adsum\u662f\u4e0d\u662fr\\*c\u7684\u500d\u6570\uff0c\u5982\u679c\u4e0d\u662f\u76f4\u63a5\u8df3\u8fc7\n\n\u6700\u540e\u5c31a\u8fa3==\n\n\u4e0b\u9762\u5c31\u662f\u6211\u7684\u4ee3\u7801\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<iostream>\nusing namespace std;\nint g[101][101],a[101][101];\nint n,m,sum=0;\nbool check(int r,int c)//\u5224\u65adr*c\u662f\u5426\u53ef\u884c\n{\n    if((sum%(r*c)))return false;//\u53ef\u884c\u6027\u526a\u679d\n    else{\n        for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n        a[i][j]=g[i][j];\n        for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n        if(a[i][j])\n        {\n            int t=a[i][j];\n            for(int q=1;q<=r;q++)\n            for(int w=1;w<=c;w++)\n            {\n                if(i+q-1>n||j+w-1>m)return false;\n                a[i+q-1][j+w-1]-=t;\n                if(a[i+q-1][j+w-1]<0)\n                return false;\n            }\n        }\n        for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++)\n        if(a[i][j])return false;\n        return true;\n    }\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++)\n    for(int j=1;j<=m;j++)\n    scanf(\"%d\",&g[i][j]),sum+=g[i][j];\n//    cout<<check(1,1)<<endl;\n    int ans=10000086;\n    for(int r=1;r<=n;r++)\n    for(int c=1;c<=m;c++)\n    if(check(r,c)){\n        ans=min(ans,(sum)/(r*c));\n    }\n    cout<<ans<<endl;\n    return 0;\n}\n```",
        "postTime": 1506427197,
        "uid": 43601,
        "name": "\u56e7\u4eba232",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2484 \u3010[SDOI2011]\u6253\u5730\u9f20\u3011"
    },
    {
        "content": "### Prelude\n\n\n\u4e3a\u4ec0\u4e48\u6d1b\u8c37\u4e0a\u6240\u6709\u7684\u9898\u89e3\u90fd\u662f\u526a\u679d\u505a\u7684\u554a\uff01\u5c31\u6ca1\u6709\u4eba\u5199\u590d\u6742\u5ea6\u9760\u8c31\u7684\u7b97\u6cd5\u5417\uff01\n\n\u4f20\u9001\u5230\u6d1b\u8c37\uff1a[(\uffe3\u3001\uffe3)](https://www.luogu.org/problemnew/show/P2484)\n\n\u4f20\u9001\u5230BZOJ\uff1a[( \u00b4\uff65\uff65)\uff89(.\\_.`)](http://www.lydsy.com/JudgeOnline/problem.php?id=2241)\n\n\u672c\u7bc7\u535a\u5ba2\u5730\u5740\uff1a[o(><\uff1b)oo](http://www.cnblogs.com/mlystdcall/p/8075591.html)\n\n\n---\n\n### Solution\n\n\n\u9996\u5148$O(n^6)$\uff0c\u6216\u8005\u662f$O(n^4 \\log^2 n)$\u7684\u6a21\u62df\u975e\u5e38\u597d\u60f3\uff0c\u679a\u4e3e\u9524\u5b50\u7684\u957f\u5bbd\uff0c\u7136\u540e\u4ece\u5de6\u4e0a\u89d2\u5f00\u59cb\u6328\u4e2a\u7838\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u679a\u4e3e\u7684\u590d\u6742\u5ea6\u662f$O(n^2)$\u7684\uff0c\u6a21\u62df\u4e00\u6b21\u7684\u590d\u6742\u5ea6\u662f$O(n^4)$\u7684\uff0c\u4e5f\u53ef\u4ee5\u7528BIT\u505a\u5230\u4e00\u6b21\u6a21\u62df$O(n^2 \\log^2 n)$\u3002\n\n\u4ed4\u7ec6\u60f3\u4e86\u60f3\u53d1\u73b0\u4f3c\u4e4e\u6ca1\u6cd5\u5408\u7406\u679a\u4e3e\uff0c\u90a3\u5c31\u53ea\u80fd\u53d1\u6398\u6027\u8d28\u4e86\u3002\n\n\u76f4\u89c9\u544a\u8bc9\u6211\u4f3c\u4e4e\u662f\u884c\u5217\u65e0\u5173\u7684\u3002\n\n\u5177\u4f53\u6765\u8bf4\uff0c\u6211\u4eec\u9996\u5148\u56fa\u5b9a\u9524\u5b50\u7684\u957f\u4e3a1\uff0c\u7136\u540e\u679a\u4e3e\u9524\u5b50\u7684\u5bbd\uff0c\u6c42\u51fa\u5f53\u957f\u4e3a1\u7684\u65f6\u5019\u6700\u5927\u53ef\u884c\u7684\u5bbd\uff0c\u53eb\u505a$c$\u3002\n\n\u7136\u540e\u518d\u56fa\u5b9a\u9524\u5b50\u7684\u5bbd\u4e3a1\uff0c\u679a\u4e3e\u9524\u5b50\u7684\u957f\uff0c\u6c42\u51fa\u5f53\u5bbd\u4e3a1\u7684\u65f6\u5019\u6700\u5927\u53ef\u884c\u7684\u957f\uff0c\u53eb\u505a$r$\u3002\n\n\u4e0a\u9762\u4e24\u6b65\u53ef\u4ee5\u7528$O(n^4)$\u7684\u66b4\u529b\u6a21\u62df\u6765\u505a\uff0c\u6216\u8005\u662f\u7528BIT\u505a\u5230$O(n^3 \\log n)$\u3002\n\n\u90a3\u4e48\u8fd9\u4e2a$r$\u548c$c$\u5c31\u662f\u6700\u7ec8\u7b54\u6848\u3002\n\n\u8bd5\u7740\u8bc1\u660e\u4e86\u4e00\u4e0b\uff0c\u786e\u5b9e\u662f\u8fd9\u6837\u7684\uff0c\u5177\u4f53\u8bc1\u660e\u6211\u6ca1\u6709\u4ed4\u7ec6\u60f3\uff0c\u5927\u6982\u611f\u89c9\u662f\u4ece\u201c\u6bcf\u4e2a\u683c\u5b50\u88ab\u6572\u6253\u7684\u6b21\u6570\u662f\u884c\u5217\u65e0\u5173\u7684\u201d\u8fd9\u6761\u5165\u624b\uff1f\n\n\u7136\u540e\u5c31A\u6389\u4e86\u3002\n\n\u56e0\u4e3a\u6211\u6bd4\u8f83\u61d2\uff0c\u6240\u4ee5\u5199\u7684\u662f$O(n^4)$\u7684\u65b9\u6cd5\uff0c\u6bd5\u7adf\u8fd9\u4e2a\u6a21\u62df\u5e38\u6570\u5c0f\u561b\uff0c$O(n^4)$\u8fc7100\u80af\u5b9a\u6ca1\u95ee\u9898\u5566\u3002\n\n\n---\n\n### Code\n\n\n```cpp\n#include <cstring>\n#include <algorithm>\n#include <cstdio>\n\nusing namespace std;\nconst int MAXN = 110;\nint _w;\n\nint n, m, a[MAXN][MAXN], tot;\nint r, c, b[MAXN][MAXN];\nint t[MAXN][MAXN];\n\nbool check( int x ) {\n    for( int i = 1; i <= r; ++i )\n        for( int j = 1; j <= c; ++j )\n            t[i][j] = b[i][j];\n    for( int i = 1; i <= r; ++i )\n        for( int j = 1; j <= c-x+1; ++j )\n            for( int k = j+x-1; k >= j; --k )\n                t[i][k] -= t[i][j];\n    for( int i = 1; i <= r; ++i )\n        for( int j = 1; j <= c; ++j )\n            if( t[i][j] ) return false;\n    return true;\n}\n\nvoid solve() {\n    r = n, c = m;\n    for( int i = 1; i <= r; ++i )\n        for( int j = 1; j <= c; ++j )\n            b[i][j] = a[i][j];\n    for( int x = c; x >= 1; --x )\n        if( check(x) ) {\n            tot /= x;\n            break;\n        }\n    r = m, c = n;\n    for( int i = 1; i <= r; ++i )\n        for( int j = 1; j <= c; ++j )\n            b[i][j] = a[j][i];\n    for( int y = c; y >= 1; --y )\n        if( check(y) ) {\n            tot /= y;\n            break;\n        }\n    printf( \"%d\\n\", tot );\n}\n\nint main() {\n    _w = scanf( \"%d%d\", &n, &m );\n    tot = 0;\n    for( int i = 1; i <= n; ++i )\n        for( int j = 1; j <= m; ++j ) {\n            _w = scanf( \"%d\", &a[i][j] );\n            tot += a[i][j];\n        }\n    solve();\n    return 0;\n}\n```",
        "postTime": 1513771681,
        "uid": 8212,
        "name": "__stdcall",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P2484 \u3010[SDOI2011]\u6253\u5730\u9f20\u3011"
    },
    {
        "content": "ps\uff1a\u90fd\u8bf4\u8fd9\u9898\u662f\u6a21\u62df\uff0c\u4e3a\u4f55\u6211\u505a\u7684\u65f6\u5019\u603b\u89c9\u5f97\u662f\u9012\u63a8\n\n\u697c\u4e0b\u4ee3\u7801\u4e3b\u7a0b\u5e8f\u4e0d\u96be\uff0c\u672c\u9898\u89e3\u662f\u5bf9\u697c\u4e0b\u6a21\u62df\u90e8\u5206\u7684\u4e00\u4e9b\u8865\u5145\n\n\u5177\u4f53\u4ee3\u7801\u89c1\u697c\u4e0b\n\n\u8003\u8651\u5230\u9524\u5b50\u4e0d\u80fd\u65cb\u8f6c\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece \u5de6\u4e0a\u89d2 \u5f00\u59cb\u63a8\n\n\u4e0d\u96be\u770b\u51fa\u6572\u6389\u5de6\u4e0a\u89d2\u53ea\u6709\u4e00\u79cd\u65b9\u6cd5\n\n ![](https://cdn.luogu.com.cn/upload/pic/4398.png) \n\n\u5de6\u4e0a\u89d2\u5f00\u59cbr\\*c\u8303\u56f4\u90fd\u81f3\u5c11\u9700\u8981\u6572 \u5de6\u4e0a\u89d2\u7684\u6b21\u6570\n\n```cpp\nfor x:=r-1 downto 0 do       //r*c\u7684\u77e9\u5f62\u8303\u56f4\n for y:=c-1 downto 0 do\n  begin\n   dec(f[i+x,j+y],f[i,j]);          //\u8303\u56f4\u5185\u7684\u6bcf\u4e00\u4e2a\u5747\u51cf\u5c11\u5de6\u4e0a\u89d2\u7684\u6b21\u6570\n   if f[i+x,j+y]<0 then exit(false);     //\u82e5\u4e0d\u591f\u51cf\u8bf4\u660e\u65b9\u6cd5\u4e0d\u5bf9\n  end;\n```\n\u6572\u5b8c\u4e4b\u540e\uff0c\u6211\u4eec\u4e0d\u96be\u53d1\u73b0\u6700\u4e0a\u9762\u4e00\u884c\u6700\u5de6\u8fb9\u7684\u4f4d\u7f6e\u8fd8\u662f\u53ea\u80fd\u6709\u4e00\u79cd\u65b9\u6cd5\n\n ![](https://cdn.luogu.com.cn/upload/pic/4404.png) \n\n\u56e0\u6b64\u6211\u4eec\u53ea\u8981\u4f9d\u6b21\u679a\u4e3e\u5404\u4e2a\u70b9\u9012\u63a8\u4e0b\u53bb\u5373\u53ef\n\n```cpp\nfor i:=1 to m-r+1 do     //\u7b2c\u4e00\u884c\u5f00\u59cb       \u679a\u4e3er*c\u77e9\u5f62\u7684\u6bcf\u4e00\u4e2a\u5de6\u4e0a\u9876\u70b9\n   for j:=1 to n-c+1 do       //\u5de6\u8fb9\u5f00\u59cb\n```\n\u6700\u540e\uff0c\u82e5\u53ef\u4ee5\u679a\u4e3e\u5b8c\uff08\u4e2d\u9014\u6ca1\u6709\u9000\u51fa\uff09\u5219\u8bf4\u660e\u53ef\u884c\n\n\u4e8e\u662f\u5728\u672b\u5c3e\u52a0\u4e0aexit(true);\n",
        "postTime": 1489200169,
        "uid": 31383,
        "name": "\u9b4d\u9b49\u00b0",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2484 \u3010[SDOI2011]\u6253\u5730\u9f20\u3011"
    },
    {
        "content": "\u5982\u679c\u6211\u4eec\u786e\u5b9a\u4e86$r$\u548c$c$,\u4e8b\u5b9e\u4e0a\u4e5f\u786e\u5b9a\u4e86\u6253\u5730\u9f20\u7684\u65b9\u6848\u3002\n\n\u56e0\u4e3a\u6240\u6709$r\\times c$\u7684\u77e9\u5f62\u4e2d,\u53ea\u67091\u4e2a\u80fd\u8986\u76d6\u5f53\u524d\u8fd8\u6709\u5730\u9f20\u7684\u4f4d\u7f6e\u7ec4\u6210\u7684\u56fe\u5f62\u7684\u89d2\u843d\u4e0a\u7684\u90a3\u4e2a\u6d1e,\u6240\u4ee5\u6211\u4eec\u53ea\u80fd\u5728\u90a3\u4e2a\u89d2\u843d\u4e0a\u7838\u3002\n\n\u6bd4\u5982,\u6211\u4eec\u76ee\u524d\u5269\u4e0b\u7684\u5730\u9f20\u5206\u5e03\u4e3a\n\n0 0 0 0\n\n0 0 **1** 2\n\n0 2 1 2\n\n2 2 3 1\n\n\u90a3\u4e48\u6211\u4eec\u53ea\u80fd\u4ee5\u7b2c\u4e8c\u884c\u7684\u7b2c\u4e09\u4e2a\u4f4d\u7f6e(\u90a3\u4e2a\u52a0\u7c97\u76841)\u4e3a\u5de6\u4e0a\u89d2\u78381\u6b21\u3002\n\n### \u505a\u6cd51\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5$O(nm)$\u679a\u4e3e$r$,\u679a\u4e3e$c$,\u7136\u540e$O(nm)$\u4ece\u5de6\u5230\u53f3,\u4ece\u4e0a\u5230\u4e0b\u679a\u4e3e\u70b9,\u7136\u540e$O(rc)$\u7ed9\u4ee5\u5f53\u524d\u70b9\u4e3a\u5de6\u4e0a\u89d2\u7684\u77e9\u5f62\u5185\u7684\u6570\u51cf\u53bb\u5f53\u524d\u70b9\u5269\u4e0b\u7684\u5730\u9f20\u6570\u91cf,\u5bfb\u627e$r\\times c$\u7684\u6700\u5927\u503c\u3002\n\n\u7136\u800c\u8fd9\u6837\u505a\u662f$O(n^3m^3)$\u7684\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u505a\u4e00\u4e0b\u4e8c\u7ef4\u5dee\u5206,\u7136\u540e\u7701\u53bb\u4e86\u6700\u540e\u7ed9\u77e9\u5f62\u5185\u70b9\u51cf\u53bb\u5f53\u524d\u70b9\u5269\u4e0b\u7684\u5730\u9f20\u6570\u91cf\u7684\u6b65\u9aa4\u3002\n\n\u4e8c\u7ef4\u5dee\u5206:\u7ed9\u4e00\u4e2a\u5de6\u4e0a\u7aef\u70b9\u4e3a$(x_1,y_1)$,\u53f3\u4e0b\u7aef\u70b9\u4e3a$(x_2,y_2)$\u7684\u77e9\u5f62\u52a0\u4e0a$v$,\u9700\u8981\u5728\u5dee\u5206\u6570\u7ec4\u7684$s_{x_1,y_1}$\u548c$s_{x_2+1,y_2+1}$\u52a0\u4e0a$v$,\u7ed9$s_{x_1,y_2+1}$\u7ed9$s_{x_2+1,y_1}$\u51cf\u53bb$v$,\u90a3\u4e48\u5de6\u4e0a\u7aef\u70b9\u4e3a$(1,1)$,\u53f3\u4e0b\u7aef\u70b9\u4e3a$(x,y)$\u7684\u77e9\u5f62\u7684\u548c\u5c31\u662f\u70b9$(x,y)$\u4e0a\u7684\u5b9e\u9645\u503c\u4e86\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O(n^2m^2)$\u3002\n\ncode:\n\n```cpp\n#include<bits/stdc++.h>\n#define Add(u,l,d,r,v) (sum[u][l]+=v,sum[d+1][r+1]+=v,sum[u][r+1]-=v,sum[d+1][l]-=v)\nusing namespace std;\nint n,m,num[110][110],sum[110][110],ans,t,SUM;\nint main(){\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;++i)for(int j=1;j<=m;++j)scanf(\"%d\",&num[i][j]),SUM+=num[i][j];\n    for(int r=1;r<=n;++r){\n        for(int c=1;c<=m;++c){\n            for(int i=1;i<=n;++i)for(int j=1;j<=m;++j)sum[i][j]=0;\n            for(int i=1;i<=n;++i){\n                for(int j=1;j<=m;++j){\n                    sum[i][j]+=sum[i-1][j]+sum[i][j-1]-sum[i-1][j-1];\n                    if(sum[i][j]>num[i][j])goto END;\n                    if(sum[i][j]<num[i][j]){\n                        if(i+r-1>n||j+c-1>m)goto END;\n                        t=num[i][j]-sum[i][j],Add(i,j,i+r-1,j+c-1,t);\n                    }\n                }\n            }\n            ans=max(ans,r*c);\n            END:\n            ;\n        }\n    }\n    printf(\"%d\",SUM/ans);\n    return 0;\n}\n```\n\n\n\n### \u505a\u6cd52\n\n\u6211\u4eec\u679a\u4e3e$r$,\u5047\u5b9a$c=1$,\u8ba1\u7b97\u6700\u5927\u7684\u5408\u6cd5\u7684$r$;\n\n\u7136\u540e\u5047\u5b9a$r=1$,\u679a\u4e3e$c$,\u8ba1\u7b97\u6700\u5927\u7684\u5408\u6cd5\u7684$c$;\n\n\u90a3\u4e48$r\\times c$\u9524\u5b50\u4e00\u5b9a\u662f\u53ef\u884c\u7684\u3002\n\n\u4e3a\u4ec0\u4e48\u5462?\n\n\u8bc1\u660e:\n\n\u6211\u4eec\u6bcf\u6b21\u9524\u7684\u70b9\u662f\u76ee\u524d\u5730\u9f20\u6570\u975e0\u7684\u4f4d\u7f6e\u7ec4\u6210\u7684\u56fe\u5f62\u4e2d\u6700\u4e0a\u4e00\u884c\u6700\u5de6\u4e00\u5217\u7684\u70b9\uff0c\u6211\u4eec\u8bbe\u8fd9\u4e2a\u70b9\u8fd8\u6709$x$\u53ea\u5730\u9f20\u3002\n\n\u9996\u5148,\u4ee5\u8fd9\u4e2a\u70b9\u4e3a\u5de6\u4e0a\u7aef\u70b9,\u9524\u4e00\u4e2a$1\\times c$\u7684\u77e9\u5f62$x$\u6b21\u662f\u5408\u6cd5\u7684;\n\n\u5176\u6b21,\u4ee5\u8fd9\u4e00\u884c\u524d$c$\u4e2a\u70b9\u6bcf\u4e00\u4e2a\u4e3a\u5de6\u4e0a\u7aef\u70b9,\u5404\u9524\u4e00\u4e2a$r\\times 1$\u7684\u77e9\u5f62$x$\u6b21\u662f\u5408\u6cd5\u7684\u3002\n\n\u6240\u4ee5\u8fd9\u4e2a$r\\times c$\u77e9\u5f62\u4e5f\u5c31\u662f\u5408\u6cd5\u7684\u4e86\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O((n+m)nm)$\u3002\n\ncode:\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,num[110][110],sum[110][110],r,c,t,SUM;\nint main(){\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;++i)for(int j=1;j<=m;++j)scanf(\"%d\",&num[i][j]),SUM+=num[i][j];\n    for(r=n;r>=1;--r){\n        for(int i=1;i<=n;++i)for(int j=1;j<=m;++j)sum[i][j]=0;\n        for(int i=1;i<=n;++i)for(int j=1;j<=m;++j){\n            sum[i][j]+=sum[i-1][j];\n            if(sum[i][j]>num[i][j])goto END1;\n            if(sum[i][j]<num[i][j]){\n                if(i+r-1>n)goto END1;\n                else t=num[i][j]-sum[i][j],sum[i][j]+=t,sum[i+r][j]-=t;\n            }\n        }\n        break;\n        END1:\n        ;\n    }\n    for(c=n;c>=1;--c){\n        for(int i=1;i<=n;++i)for(int j=1;j<=m;++j)sum[i][j]=0;\n        for(int i=1;i<=n;++i)for(int j=1;j<=m;++j){\n            sum[i][j]+=sum[i][j-1];\n            if(sum[i][j]>num[i][j])goto END2;\n            if(sum[i][j]<num[i][j]){\n                if(j+c-1>m)goto END2;\n                else t=num[i][j]-sum[i][j],sum[i][j]+=t,sum[i][j+c]-=t;\n            }\n        }\n        break;\n        END2:\n        ;\n    }\n    printf(\"%d\",SUM/(r*c));\n    return 0;\n}\n```",
        "postTime": 1552023029,
        "uid": 26294,
        "name": "xryjr233",
        "ccfLevel": 9,
        "title": "[2019.3.8]LuoguP2484/BZOJ2241 [SDOI2011]\u6253\u5730\u9f20(\u679a\u4e3e/\u4e8c\u7ef4\u5dee\u5206)"
    },
    {
        "content": "# 0x00 \u601d\u8def\n\n\u601d\u8def\u5f88\u7b80\u5355\uff0c\u76f4\u63a5\u66b4\u529b\u679a\u4e3e\u8fb9\u957f\uff0c\u7136\u540e\u6a21\u62df\u5373\u53ef\uff0c\u4e2d\u95f4\u6709\u4e00\u4e9b\u5c0f\u4f18\u5316\uff0c\u4e0d\u7136\u4f1a\u8d85\u65f6\u3002\n\n# 0x01 \u66b4\u529b&\u6a21\u62df\n\n\u65e2\u7136\u6c42\u7684\u662f\u6700\u5c11\u7684\u6325\u821e\u6b21\u6570\uff0c\u90a3\u4e48\u80af\u5b9a\u80fd\u6325\u821e\uff0c\u4e0d\u7136\u65e0\u6cd5\u8ba1\u7b97\uff0c\u6240\u4ee5\u6211\u4eec\u5199\u4e00\u4e2a $ \\texttt c  \\texttt h  \\texttt e \\texttt c  \\texttt k$ \u51fd\u6570\uff0c\u91cc\u9762\u4f20\u5165 $x,y$ \u8868\u793a\u80fd\u5426\u7528\u957f\u4e3a $x$ \u548c\u5bbd\u4e3a $y$ \u7684\u9524\u5b50\u9524\u5b8c\u6240\u6709\u7684\u5730\u9f20\u3002\u7531\u4e8e $ \\texttt a$ \u6570\u7ec4\u968f\u65f6\u6709\u53ef\u80fd\u88ab\u66f4\u6539\uff0c\u6240\u4ee5\u6211\u4eec\u7528\u4e00\u4e2a\u8f85\u52a9\u6570\u7ec4 $ \\texttt b$ \u6765\u5b58\u50a8\u5f53\u524d\u6bcf\u4e2a\u683c\u5b50\u7684\u5730\u9f20\u6570\u91cf\uff0c\u6211\u4eec\u9700\u8981\u4f9d\u6b21\u679a\u4e3e\u6bcf\u4e00\u4e2a\u683c\u5b50\uff0c\u5982\u679c\u8fd9\u4e2a\u683c\u5b50\u6ca1\u6709\u5730\u9f20\uff0c\u8df3\u8fc7\u5373\u53ef\uff0c\u5982\u679c\u6709\u5730\u9f20\uff0c\u90a3\u4e48\u9700\u8981\u679a\u4e3e\u4ee5 $x$ \u4e3a\u957f\uff0c$y$ \u4e3a\u5bbd\u7684\uff0c\u5e76\u4e14\u5de6\u4e0a\u89d2\u4e3a $(i,j)$ \u7684\u957f\u65b9\u5f62\uff0c\u7531\u4e8e\u6bcf\u4e2a\u683c\u5b50\u5fc5\u987b\u8981\u9524\uff0c\u6240\u4ee5\u8fd9\u4e2a\u957f\u65b9\u5f62\u7684\u5185\u683c\u5b50\u5fc5\u987b\u8981\u4e0d\u4e3a\u96f6\u4e14\u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e $b[i][j]$\uff0c\u4e0d\u7136\u5c31\u8fd4\u56de 0\uff0c\u5f04\u5b8c\u4e4b\u540e\u5c31\u8fd4\u56de 1\u3002\n\n# 0x02 \u4f18\u5316\n\n\u5b58\u50a8\u4e00\u4e0b\u603b\u5171\u5730\u9f20\u7684\u6570\u91cf\uff0c\u770b\u4e00\u4e0b\u5982\u679c\u603b\u5730\u9f20\u7684\u6570\u91cf\u6a21\u8fd9\u4e2a\u957f\u65b9\u5f62\u7684\u5927\u5c0f\uff0c\u5982\u679c\u4e0d\u4e3a 0\uff0c\u5c31\u53ef\u4ee5\u5b8c\u5168\u4e0d\u7ba1\u3002\n\n# 0x03 \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define rep(i,l,r) for(int i=l;i<=r;i++)\n#define dep(i,r,l) for(int i=r;i>=l;i--)\n#define INF 0x3f3f3f3f\nusing namespace std;\nint n,m,a[105][105],b[105][105],ds,ans=INF;\nbool check(int x,int y){\n\trep(i,1,n)\n\t\trep(j,1,m) b[i][j]=a[i][j];\n\trep(i,1,n)\n\t\trep(j,1,m){\n\t\t\tif(!b[i][j]) continue;\n\t\t\trep(l,i,i+x-1)\n\t\t\t\trep(r,j,j+y-1){\n\t\t\t\t\tif(l==i && r==j) continue;\n\t\t\t\t\tif(l>n || r>m || b[l][r]<b[i][j]) return 0;\n\t\t\t\t\tb[l][r]-=b[i][j];\n\t\t\t\t}\n\t\t\tb[i][j]=0;\n\t\t}\n\treturn 1;\n}\nint main(){\n\tscanf(\"%d %d\",&n,&m);\n\trep(i,1,n)\n\t\trep(j,1,m) scanf(\"%d\",&a[i][j]),ds+=a[i][j];\n\trep(i,1,n)\n\t\trep(j,1,m)\n\t\t\tif(!(ds%(i*j)) && check(i,j)) ans=min(ans,ds/(i*j));\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1629463742,
        "uid": 364122,
        "name": "BigJoker",
        "ccfLevel": 6,
        "title": "P2484 [SDOI2011]\u6253\u5730\u9f20-\u9898\u89e3\u62a5\u544a"
    },
    {
        "content": "\u8fd9\u9053\u9898\u6700\u597d\u53ef\u4ee5\u505a\u5230$n^{2.5}$\uff0c\u4f46\u7531\u4e8e\u6570\u636e\u5f31\u53ef\u4ee5\u8ba9\u4e00\u4e9b\u9519\u8bef\u7684$n^2$\u7b97\u6cd5AC\n\n\u5c06\u884c\u548c\u5217\u5206\u5f00\u8003\u8651\u3002\n\n\u679a\u4e3e\u6bcf\u4e2a\u70b9\u65f6\u7528\u524d\u7f00\u548c\u8bb0\u5f55\u8981\u51cf\u53bb\u7684\u6570\uff08\u89c1\u6ce8\u91ca\uff09\n\n\u679a\u4e3e\u884c\u6570\uff08\u5217\u6570\uff09\u65f6\u4f7f\u7528\u6bcf\u4e00\u884c\uff08\u5217\uff09\u7684\u548c\u7684gcd\u7684\u7ea6\u6570\u3002\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<map>\n#define ll long long\n#define N 1010\n#define max(x,y) ((x)>(y) ? (x) : (y))\n#define min(x,y) ((x)<(y) ? (x) : (y))\nusing namespace std;\n\ninline int getint() {\n\tint p,t=0;\n\tchar ch=getchar();\n\tfor(;ch!='-' && !(ch>='0' && ch<='9');ch=getchar());\n\tif(ch=='-') ch=getchar(),p=-1;\n\telse p=1;\n\tfor(;ch>='0' && ch<='9';ch=getchar()) {\n\t\tt=t*10+ch-48;\n\t}\n\treturn t*p;\n}\n\nint n,m,a[N][N],r,p[N],cnt,g[N],c;\nll rs,cs;\n\ninline ll gcd(ll a,ll b) {\n\tll r=a%b;\n\twhile(r) {a=b,b=r,r=a%b;}\n\treturn b;\n}\n\nint main() {\n//\tfreopen(\"shrew.in\",\"r\",stdin);\n//\tfreopen(\"shrew.out\",\"w\",stdout);\n\tn=getint();m=getint();\n\tll tot=0;\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\ttot+=a[i][j]=getint();\n\t\t}\n\t}\n\trs=0;\n\tfor(int i=1;i<=n;i++) {\n\t\tll sum=0;\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tsum+=a[i][j];\n\t\t}\n\t\trs=(rs==0 ? sum : gcd(rs,sum));//\u6bcf\u4e00\u884c\u7684\u548c\u7684gcd\n\t}\n\tint RS=min(rs,m);\n\tcnt=0;\n\tfor(int i=1;i<=RS;i++) {\n\t\tif(rs%i==0) {\n\t\t\tg[cnt++]=i;//\u679a\u4e3e\u7ea6\u6570\n\t\t}\n\t}\n\tfor(int ir=cnt-1;ir>=0;ir--) {\n\t\tr=g[ir];\n\t\tbool f=true;\n\t\tfor(int i=1;i<=n;i++) {\n\t\t\tmemset(p,0,sizeof p);//\u524d\u7f00\u548c\n\t\t\tfor(int j=1;j<=m;j++) {\n\t\t\t\tp[j]=p[j-1];\n\t\t\t\tif(j>r) {\n\t\t\t\t\tif(a[i][j]<p[j]-p[j-r] || (j==m && a[i][j]!=p[j]-p[j-r])) {f=false;break;}\n                    //p[j]-p[j-r]\u662f\u5f53\u524d\u70b9\u8981\u51cf\u53bb\u7684\u6570\n\t\t\t\t\telse p[j]=a[i][j]+p[j-r];\n                    //p[j]+=a[i][j]-(p[j]-p[j-r]);\n\t\t\t\t} else {\n\t\t\t\t\tif(a[i][j]<p[j] || (j==m && a[i][j]!=p[j])) {f=false;break;}\n\t\t\t\t\telse p[j]=a[i][j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!f) break;\n\t\t}\n\t\tif(f) break;\n\t}\n//\tprintf(\"%d\\n\",r);\n\tcs=0;\n\tfor(int j=1;j<=m;j++) {\n\t\tll sum=0;\n\t\tfor(int i=1;i<=n;i++) {\n\t\t\tsum+=a[i][j];\n\t\t}\n\t\tcs=(cs==0 ? sum : gcd(cs,sum));\n\t}\n\tint CS=min(cs,n);\n\tcnt=0;\n\tfor(int i=1;i<=CS;i++) {\n\t\tif(cs%i==0) {\n\t\t\tg[cnt++]=i;\n\t\t}\n\t}\n\tfor(int ic=cnt-1;ic>=0;ic--) {\n\t\tc=g[ic];\n\t\tbool f=true;\n\t\tfor(int j=1;j<=m;j++) {\n\t\t\tmemset(p,0,sizeof p);\n\t\t\tfor(int i=1;i<=n;i++) {\n\t\t\t\tp[i]=p[i-1];\n\t\t\t\tif(i>c) {\n\t\t\t\t\tif(a[i][j]<p[i]-p[i-c] || (i==n && a[i][j]!=p[i]-p[i-c])) {f=false;break;}\n\t\t\t\t\telse p[i]=a[i][j]+p[i-c];\n\t\t\t\t} else {\n\t\t\t\t\tif(a[i][j]<p[i] || (i==n && a[i][j]!=p[i])) {f=false;break;}\n\t\t\t\t\telse p[i]=a[i][j];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!f) break;\n\t\t}\n\t\tif(f) break;\n\t}\n\tprintf(\"%lld\\n\",tot/r/c);\n\treturn 0;\n}\n```",
        "postTime": 1533026505,
        "uid": 53417,
        "name": "Diogenes",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2484 \u3010[SDOI2011]\u6253\u5730\u9f20\u3011"
    },
    {
        "content": "\u4eca\u5929\u5b66\u4e86\u4e00\u5929\u7684\u6570\u8bba\uff0c\u611f\u89c9\u5934\u660f\u8111\u80c0\uff0c\u5feb\u70b9\u5237\u9053\u9898\u6e05\u9192\u6e05\u9192\u3002\n\n\u8fd9\u9053\u9898$O(n^6)$\u7684\u7b97\u6cd5\u5e76\u4e0d\u96be\u60f3\uff0c\u56e0\u4e3a\u5982\u679c\u6211\u4eec\u5148\u679a\u4e3e\u9524\u5b50\u7684\u5927\u5c0fr\uff0cc\u540e\uff0c\u5728\u4ece\u5de6\u4e0a\u89d2\u5f00\u59cb\u679a\u4e3e\uff0c\u6700\u5de6\u4e0a\u89d2\u7684\u4e00\u5b9a\u8981\u88ab\u5148\u6253\u6389\uff0c\u6240\u4ee5\u5c31\u591a\u6253\u51e0\u4e0b\uff0c\u6253\u5b8c\u540e\u518d\u6253\u65b0\u51fa\u73b0\u7684\u5de6\u4e0a\u89d2\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u5982\u679c\u4e2d\u95f4\u51fa\u73b0\u67d0\u4e2a\u6d1e\u88ab\u6253\u6210\u4e86\u8d1f\u7684\uff0c\u5c31\u65e0\u89e3\u3002\u6211\u4eec\u53ef\u4ee5\u4ece\u6700\u5927\u7684\u9524\u5b50\u5f00\u59cb\u679a\u4e3e\uff0c\u5982\u679c\u53ef\u884c\uff0c\u90a3\u4e48\u8f93\u51fa\u5c31\u884c\u4e86\u3002\n\n\u4f46\u8fd9\u6837\u4e00\u5b9a\u662f\u8fc7\u4e0d\u4e86\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u8003\u8651\u4f18\u5316\u3002\n\n\u6700\u5f00\u59cb\uff0c\u6211\u60f3\u5230\u7684\u662f\u4e8c\u7ef4\u6811\u72b6\u6570\u7ec4\uff0c\u65f6\u95f4\u590d\u6742\u5ea6$O(n^4log^2n)$\uff0c\u4f46\u662f\u5f88\u663e\u7136\uff0c\u8fd9\u6837\u8fd8\u662f\u8fc7\u4e0d\u4e86\u7684\u3002\n\n\u8fdb\u4e00\u6b65\u89c2\u5bdf\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u6211\u4eec\u53ea\u9700\u8981\u987a\u5e8f\u52a0\u6570\uff0c\u5e76\u4e0d\u9700\u8981\u5220\u9664\uff0c\u90a3\u6211\u4eec\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u52a0\u5bb9\u65a5\u4f18\u5316\u5230$O(n^4)$\uff0c\u987a\u5229A\u8fc7\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nconst int Maxn=110;\ntypedef long long ll;\nvoid read(ll &a)\n{\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9')ch=getchar();\n\twhile(ch>='0'&&ch<='9')a=(a<<3)+(a<<1)+ch-'0',ch=getchar();\n}\nstruct node\n{\n\tll x,y,size;\n}b[Maxn*Maxn];//\u7528\u6765\u5b58\u9524\u5b50\nint cmp(node a,node b)\n{\n\treturn a.size>b.size;\n}\nll a[Maxn][Maxn],c[Maxn][Maxn];\n//a\u662f\u539f\u6570\u7ec4\uff0cc\u662f\u524d\u7f00\u548c\u3002\nll n,m,totn,tot;\nbool solve(ll x,ll y)\n{\n\tmemset(c,0,sizeof(c));\n\tfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=m;j++)\n\t{\n\t\tll temp=c[max(0ll,i-x)][max(0ll,j-y)]+c[i][j-1]-c[i-1][j-1]-c[i][max(0ll,j-y)]+c[i-1][j]-c[max(0ll,i-x)][j];\n        //\u4ee4\u4eba\u671b\u800c\u751f\u754f\u7684\u5bb9\u65a5\n\t\tif(temp>a[i][j])\n\t\t\treturn false;\n\t\telse\n\t\t\tc[i][j]=c[i-1][j]+c[i][j-1]-c[i-1][j-1]+a[i][j]-temp;\n\t}\n\treturn true;\n}\nint main()\n{\n\tread(n);read(m);\n\tfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=m;j++)\n\t{\n\t\tread(a[i][j]);\n\t\ttotn+=a[i][j];\n\t}\n\tfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=m;j++)\n\t{\n\t\tif(totn%i*j!=0)\n\t\t\tcontinue;\n\t\tb[++tot].size=i*j;\n\t\tb[tot].x=i;\n\t\tb[tot].y=j;\n\t}\n\tsort(b+1,b+tot+1,cmp);//\u6392\u5e8f\u540e\u4ece\u5927\u5230\u5c0f\u679a\u4e3e\uff0c\u7b2c\u4e00\u4e2a\u5c31\u662f\u7b54\u6848\u3002\n\tfor(int i=1;i<=tot;i++)\n\t{\n\t\tll temp=b[i].size;\n\t\tif(solve(b[i].x,b[i].y))\n\t\t{\n\t\t\tprintf(\"%lld\\n\",totn/temp);\n\t\t\treturn 0;\n\t\t}\n\t}\n\treturn 0;//\u4f3c\u4e4e\u5e76\u4e0d\u9700\u8981...\n}\n```",
        "postTime": 1521982475,
        "uid": 53250,
        "name": "\u5355\u66e6\u589e",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2484 \u3010[SDOI2011]\u6253\u5730\u9f20\u3011"
    },
    {
        "content": "\u672c\u9898\u4e3a\u4e09\u4e2a\u4eba\u6240\u505a\uff0c\u4e24\u4e2a\u5927\u4f6c\u52a0\u6211\u4e00\u4e2a\u849f\u84bb\u3002\u3002\u3002\u3002\u3002\u3002\n\n\u4e09\u4e2a\u4eba\u4e00\u8d77\u505a\u7684\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01\n\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint a[1010][1010],f[1010][1010],ans,sum=0,n,m,maxn=0;\nvoid dalaotaiqiangla(int i,int j)\n{\n    for(int x=1;x<=m;x++)\n        for(int y=1;y<=n;y++)\n            f[x][y]=a[x][y]; //\u590d\u5236\u6570\u7ec4 \n    for(int x=1;x<=m;x++)\n        for(int y=1;y<=n;y++)\n            if(f[x][y]!=0)\n            {\n                int hh=f[x][y];\n                if((m-x-i+1)<0 && (n-y-j+1)<0) return; //\u9632\u6b62\u4e00\u9524\u5b50\u7838\u51fa\u754c\u3002\u3002\u3002\u6bd5\u7adf\u4f24\u4eba\u8981\u8d54\u94b1\u3002\u3002\u3002 \n                else for(int z1=x;z1<=x+i-1;z1++)\n                         for(int z2=y;z2<=y+j-1;z2++)\n                        {\n                            if(f[z1][z2]<f[x][y]) return; //\u91cd\u70b9\u601d\u8def\uff0c\u679a\u4e3e\u6bcf\u4e2a\u70b9\u4e3a\u9524\u5b50\u8303\u56f4\u5185\u6700\u5de6\u8fb9\u7684\u70b9\uff0c\u8303\u56f4\u5185\u6ca1\u6709\u6bd4\u8fd9\u4e2a\u70b9\u5927\u7684\uff0c\u4fbf\u53ef\u4ee5 \n                            else f[z1][z2]-=hh;           //\u518d\u4f7f\u8303\u56f4\u5185\u5176\u4ed6\u70b9\u90fd\u51cf\u53bb\u8fd9\u4e2a\u70b9 \uff0c\u8fd9\u6837\u8c8c\u4f3c\u5c31\u53ef\u4ee5\u4e86\u3002 \n                        }\n            }\n    ans=min(ans,sum/(i*j));\n}\nint main()\n{\n    cin>>m>>n;\n    for(int i=1;i<=m;i++)\n        for(int j=1;j<=n;j++)\n        {\n            cin>>a[i][j]; //\u8f93\u5165 \n            sum+=a[i][j]; //\u7b97\u603b\u548c \n            maxn=max(maxn,a[i][j]); //\u6700\u5927\u7684\u70b9 \n        }\n    ans=sum; //\u666e\u901a\u9524\u5b50 1*1 \u7684\u60c5\u51b5 \n    for(int i=1;i<=m;i++)\n        for(int j=1;j<=n;j++)\n            {\n                if(i*j>sum || sum%(i*j)!=0 || sum/(i*j)>ans || sum/(i*j)<maxn) continue; //\u526a\u679d\uff0c\u52a0\u4e86\u524d\u4e24\u4e2aAC\uff0c\u52a0\u4e86\u56db\u4e2a\u8dd1\u7684\u66f4\u5feb\uff0c\u5168\u4e0d\u52a0\u4f1aTLE\u56db\u4e2a\u70b9\u3002 \n                dalaotaiqiangla(i,j); //\u4e27\u5fc3\u75c5\u72c2\u7684\u51fd\u6570\u540d\u3002\u3002\u3002 \n            }\n    cout<<ans;\n    return 0;\n}\n```\n\u6b64\u5904\u5916\u52a0\u4e00\u4e2a\u6c34\u8fc7\u4e86\u4e09\u4e2a\u70b9\u7684\u4ee3\u7801\uff0c\u4e3a\u6700\u521d\u601d\u60f3\uff0c\u6253\u4e86\u4e0a\u9762\u7684\u66b4\u529b\u540e\u8fc7\u4e86\u3002\u3002\u3002\u3002\u3002\u3002\n\u770b\u61c2\u8fd9\u4e2a\u540e\u6216\u8bb8\u6709\u52a9\u4e8e\u7406\u89e3\u4e0a\u9762\u7684\u7a0b\u5e8f\u3002\u3002\u3002\u3002\u3002\u3002\n\n```cpp\n#include<iostream>\nusing namespace std;\nint m,n,a[1001][1001],sum,ans=9999999;\nint main()\n{\n    cin>>m>>n;\n    for(int i=1;i<=m;i++)\n        for(int j=1;j<=n;j++)\n        {\n            cin>>a[i][j];\n            sum+=a[i][j];\n        }\n    for(int r=1;r<=m;r++)\n        for(int c=1;c<=n;c++)\n        {\n            int area=r*c;\n            if(sum%area!=0) continue;\n            else ans=min(ans,sum/area);\n        }\n    cout<<ans;\n    return 0;\n}\n```",
        "postTime": 1506126741,
        "uid": 52892,
        "name": "zzzyc",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2484 \u3010[SDOI2011]\u6253\u5730\u9f20\u3011"
    },
    {
        "content": "\u6a21\u62df\u8d5b\u51fa\u8fd9\u9898\uff0c\u6211\u66b4\u529b\u526a\u679d $n^6$ \u8fc7\u4e86\u3002\u98a0\u8986\u6211\u8ba4\u77e5\u3002\n\n\u8003\u8651\u6734\u7d20\u7b97\u6cd5\u3002\u679a\u4e3e $r,c$\uff0c\u5c06\u6240\u6709 $r\\times c$ \u7684\u77e9\u5f62\u51cf\u53bb\u5de6\u4e0a\u89d2\u503c\uff0c\u6700\u540e\u5224\u65ad\u80fd\u4e0d\u80fd\u5168\u6d88\u6210 $0$\u3002\n\n\u526a\u679d $1$\uff1a\u8bbe $\\sum a_{i,j}=tot$\u3002\u82e5 $r\\times c\\nmid tot$ \u5219\u8df3\u8fc7\u3002\u6bcf\u6b21\u603b\u548c\u51cf\u53bb $r\\times c$\uff0c\u5219\u526a\u679d\u6b63\u786e\u6027\u663e\u7136\u3002\n\n\u526a\u679d $2$\uff1a\u82e5\u4efb\u4f55\u65f6\u523b\u77e9\u9635\u51fa\u73b0\u8d1f\u6570\u5219\u9000\u51fa\u3002\u77e9\u9635\u5185\u6570\u53ea\u51cf\u4e0d\u589e\u3002\n\n\u526a\u679d $3$\uff1a\u82e5\u5f53\u524d\u8981\u51cf\u53bb\u7684\u77e9\u9635\u5de6\u4e0a\u89d2\u4e3a $0$ \u5219\u4e0d\u8fdb\u884c\u4efb\u4f55\u64cd\u4f5c\u3002\n\n\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u8f7b\u677e\u5730\u901a\u8fc7\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\n\nusing namespace std;\n\nconst int maxn = 1e2 + 10;\n\nint n, m, tot, ans = 1145141919810ll;\nint a[maxn][maxn];\nint b[maxn][maxn];\n\nbool check(int r, int c) {\n\tif (tot % (r * c) != 0) return false;\n\tbool flag = true;\n\tfor (int i = 1; i <= n; i++) {\n\t\tfor (int j = 1; j <= m; j++) {\n\t\t\ta[i][j] = b[i][j];\n\t\t}\n\t}\n\tfor (int i = 1; i <= n - r + 1; i++) {\n\t\tfor (int j = 1; j <= m - c + 1; j++) {\n\t\t\tint x = a[i][j];\n\t\t\tif (!x) continue;\n\t\t\tfor (int p = i; p < i + r; p++) {\n\t\t\t\tfor (int q = j; q < j + c; q++) {\n\t\t\t\t\tif (a[p][q] - x >= 0) a[p][q] -= x;\n\t\t\t\t\telse {\n\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!flag) break;\n\t\t\t}\n\t\t\tif (!flag) break;\n\t\t}\n\t\tif (!flag) break;\n\t}\n\tif (!flag) return false;\n\tfor (int i = 1; i <= n; i++) {\n\t\tfor (int j = 1; j <= m; j++) {\n\t\t\tif (a[i][j]) return false;\n\t\t}\n\t}\n\treturn true;\n}\n\nsigned main() {\n//\tfreopen(\"shrew.in\", \"r\", stdin);\n//\tfreopen(\"shrew.out\", \"w\", stdout);\n\tcin >> n >> m;\n\tfor (int i = 1; i <= n; i++) {\n\t\tfor (int j = 1; j <= m; j++) {\n\t\t\tcin >> b[i][j];\n\t\t\ttot += b[i][j];\n\t\t}\n\t}\n\tfor (int r = 1; r <= n; r++) {\n\t\tfor (int c = 1; c <= m; c++) {\n\t\t\tif (!check(r, c)) continue;\n\t\t\tans = min(ans, tot / (r * c));\n\t\t}\n\t}\n\tcout << ans;\n\treturn 0;\n}\n```\n\n",
        "postTime": 1676713780,
        "uid": 362750,
        "name": "TernaryTree",
        "ccfLevel": 0,
        "title": "P2484 [SDOI2011]\u6253\u5730\u9f20"
    },
    {
        "content": "# P2484 [SDOI2011]\u6253\u5730\u9f20 \u9898\u89e3\n\n## \u9898\u76ee\n\n[P2484 [SDOI2011]\u6253\u5730\u9f20 \u9898\u89e3](https://www.luogu.com.cn/problem/P2484)\n\n## \u5206\u6790\n\n\u9524\u5b50\u6bcf\u6b21\u53ea\u80fd\u5c06\u6bcf\u4e2a\u6d1e\u91cc\u6253\u6389\u4e00\u53ea\u5730\u9f20\uff0c\u6240\u4ee5\u5bf9\u4e8e\u6bcf\u6b21\u51fb\u6253\uff0c\u90fd\u4f1a\u6253\u6389 $r\\times c$ \u53ea\u5730\u9f20\u3002\u800c\u6bcf\u6b21\u51fb\u6253\u7684\u8303\u56f4\u5185\u7684\u6bcf\u4e2a\u6d1e\u91cc\u5fc5\u987b\u90fd\u8981\u6709\u5730\u9f20\uff0c\u6240\u4ee5\u5730\u9f20\u7684\u603b\u6570\u5fc5\u987b\u88ab $r\\times c$ \u6574\u9664\u3002\n\n\u56e0\u4e3a\u6bcf\u53ea\u5730\u9f20\u90fd\u9700\u8981\u88ab\u5e72\u6389\uff0c\u6240\u4ee5\u5982\u679c\u5f53\u524d\u65b9\u6848\u6210\u7acb\uff0c\u603b\u53ef\u4ee5\u901a\u8fc7\u4e0d\u65ad\u5728\u5730\u56fe\u5de6\u4e0a\u89d2\u5bfb\u627e\u6709\u5730\u9f20\u7684\u6d1e\uff0c\u518d\u4ee5\u8fd9\u4e2a\u6d1e\u4e3a\u9524\u5b50\u51fb\u6253\u7684\u8303\u56f4\u7684\u5de6\u4e0a\u89d2\u8fdb\u884c\u51fb\u6253\u6765\u6253\u5b8c\u6240\u6709\u5730\u9f20\u3002\n\n\u800c\u5982\u679c\u5728\u6253\u5730\u9f20\u7684\u65f6\u5019\u53d1\u73b0\u51fb\u6253\u8303\u56f4\u5185\u6709\u5df2\u7ecf\u6ca1\u6709\u5730\u9f20\u7684\u6d1e\u6216\u8005\u4f1a\u6253\u5230\u5730\u56fe\u5916\u9762\u7684\u8bdd\uff0c\u5f53\u524d\u65b9\u6848\u5c31\u4e0d\u6210\u7acb\u3002\n\n## \u601d\u8def\n\n\u7531\u4e8e\u5730\u56fe\u53ea\u662f\u4e2a $100\\times 100$ \u7684\u77e9\u5f62\uff0c\u6240\u4ee5\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u679a\u4e3e $r$ \u548c $c$\uff0c\u53ea\u8981\u9524\u5b50\u8986\u76d6\u7684\u533a\u57df\u5927\u5c0f\u5373 $r\\times c$ \u80fd\u6574\u9664\u5730\u56fe\u4e2d\u7684\u5730\u9f20\u603b\u6570\u5c31\u8fdb\u884c\u5c1d\u8bd5\u3002\n\n\u6839\u636e\u4e0a\u6587\u7684\u5206\u6790\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728\u6574\u4e2a\u5730\u56fe\u5de6\u4e0a\u89d2\u627e\u5230\u4e00\u4e2a\u8fd8\u5269\u7684\u6709\u5730\u9f20\u7684\u6d1e\uff0c\u8bbe\u8fd9\u4e2a\u6d1e\u7684\u5750\u6807\u4e3a $(x,y)$\uff0c\u7136\u540e\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n\n1. \u5224\u65ad $(x+r-1,y+c-1)$ \u662f\u5426\u5728\u5730\u56fe\u5916\u9762\u3002\u5728\u7684\u8bdd\u8bf4\u660e\u8fd9\u4e2a\u9524\u5b50\u4e0d\u6ee1\u8db3\u9898\u610f\uff0c\u7ed3\u675f\uff0c\u5426\u5219\u8fdb\u884c\u4e0b\u4e00\u6b65\u3002\n2. \u5224\u65ad$(x,y)$ \u5230 $(x+r-1,y+c-1)$ \u8303\u56f4\u5185\u6709\u6ca1\u6709\u7a7a\u5730\u9f20\u6d1e\u3002\u5982\u679c\u6709\u7684\u8bdd\uff0c\u8bf4\u660e\u8fd9\u4e2a\u9524\u5b50\u4e0d\u6ee1\u8db3\u9898\u610f\uff0c\u7ed3\u675f\uff0c\u5426\u5219\u8fdb\u884c\u4e0b\u4e00\u6b65\u3002\n3. \u5c06 $(x,y)$ \u5230 $(x+r-1,y+c-1)$ \u8303\u56f4\u5185\u7684\u5730\u9f20\u6570\u91cf\u51cf\u4e00\u3002\n4. \u5c06\u8fd9\u4e2a\u9524\u5b50\u7684\u51fb\u6253\u603b\u6b21\u6570\u52a0\u4e00\u3002\n5. \u56de\u5230\u7b2c $1$ \u6b65\u64cd\u4f5c\u76f4\u5230\u6240\u6709\u5730\u9f20\u6d1e\u4e3a\u7a7a\u3002\n\n\u56e0\u4e3a $(x+y)$ \u7684\u5730\u9f20\u5728\u9524\u5b50\u5927\u5c0f\u6ee1\u8db3\u9898\u610f\u7684\u60c5\u51b5\u4e0b\u518d\u600e\u4e48\u6837\u90fd\u4f1a\u88ab\u6253\u5b8c\uff0c\u6240\u4ee5\u6211\u4eec\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5c06 $(x,y)$ \u5230 $(x+r-1,y+c-1)$ \u8303\u56f4\u5185\u7684\u5730\u9f20\u6570\u91cf\u51cf $(x,y)$ \u91cc\u7684\u5730\u9f20\u6570\u91cf\uff08\u76f8\u5f53\u4e8e\u8fde\u7eed\u6253 $(x,y)$ \u91cc\u7684\u5730\u9f20\u6570\u91cf\u6b21\uff09\uff0c\u5224\u65ad\u51cf\u4e4b\u540e\u6709\u6ca1\u6709\u4e3a\u8d1f\u7684\u6d1e\uff0c\u6709\u8bf4\u660e\u9524\u5b50\u4e0d\u6ee1\u8db3\u9898\u610f\uff0c\u6ca1\u6709\u7684\u8bdd\u5c06\u9524\u5b50\u603b\u51fb\u6253\u6b21\u6570\u52a0\u4e0a $(x,y)$ \u91cc\u7684\u5730\u9f20\u6570\u91cf\uff0c\u7136\u540e\u7ee7\u7eed\u5c1d\u8bd5\u3002\u8fd9\u7b97\u662f\u4e2a\u5c0f\u4f18\u5316\u3002\n\n\u6700\u540e\u5c31\u8f93\u51fa\u6240\u6709\u53ef\u884c\u7684\u9524\u5b50\u4e2d\u51fb\u6253\u6b21\u6570\u6700\u5c0f\u7684\u503c\u5c31\u597d\u4e86\u3002\u66f4\u8be6\u7ec6\u7684\u89e3\u91ca\u8bf7\u53c2\u9605\u4ee3\u7801\u91cc\u7684\u6ce8\u91ca\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#pragma GCC optimize(2)\n#include <cstdio>\nusing namespace std;\nint n, m, tot = 0;\nlong long ans = 1145141919810;\nint maze[105][105];\nint tmaze[105][105]; //\u56e0\u4e3a\u8981\u5c1d\u8bd5\u591a\u6b21\u4e14\u6bcf\u6b21\u5c1d\u8bd5\u90fd\u4f1a\u4fee\u6539\u5730\u9f20\u6d1e\u5185\u5730\u9f20\u7684\u6570\u91cf\uff0c\n                     //\u6211\u4eec\u9700\u8981\u5728\u6bcf\u6b21\u5c1d\u8bd5\u524d\u590d\u5236\u539f\u59cb\u7684\u5730\u56fe\nlong long Min(long long a, long long b)\n{\n    return a > b ? b : a;\n}\ninline bool findfirst(int &x, int &y) //\u4ece\u5730\u56fe\u5de6\u4e0a\u89d2\u627e\u5230\u7b2c\u4e00\u4e2a\u6709\u5730\u9f20\u7684\u5730\u9f20\u6d1e\uff0c\u8fd4\u56de\u662f\u5426\u627e\u5230\n{\n    for (register int i = 1; i <= n; i++)\n    {\n        for (register int j = 1; j <= m; j++)\n        {\n            if (tmaze[i][j])\n            {\n                x = i, y = j; //\u627e\u5230\u5c31\u5c06\u8fd9\u4e2a\u6d1e\u7684\u5750\u6807\u4f20\u56de\u53bb\n                return 1;\n            }\n        }\n    }\n    return 0;\n}\ninline void dfs(int r, int c, int cnt) //\u53c2\u6570\u8868\u793a\u9524\u5b50\u5927\u5c0f\u548c\u82b1\u8d39\n{\n    int x, y;             //\u7528x,y\u8868\u793a\u76ee\u524d\u5728\u5de6\u4e0a\u89d2\u627e\u5230\u7684\u5730\u9f20\u6d1e\u4e3a(x,y)\n    if (!findfirst(x, y)) //\u5982\u679c\u6ca1\u627e\u5230\u6709\u5730\u9f20\u7684\u6d1e\u8bf4\u660e\u627e\u5b8c\u4e86\uff0c\u66f4\u65b0\u7b54\u6848\u5e76\u7ed3\u675f\n    {\n        ans = Min(ans, 1ll * cnt);\n        return;\n    }\n    if (x + r - 1 > n || y + c - 1 > m || cnt >= ans) //\u64cd\u4f5c1\uff0c\u5982\u679c\u8981\u6253\u5de6\u4e0a\u89d2\u7684\u5730\u9f20\n                                                      //\u6d1e\u9524\u5b50\u4f1a\u8d85\u8fc7\u5730\u56fe\uff0c\u8bf4\u660e\u8fd9\u7ec4\n                                                      //\u65b9\u6848\u4e0d\u6210\u7acb\n        return;\n    int red = tmaze[x][y]; //\u64cd\u4f5c3\uff0c\u5c06(x,y)\u5230(x+r-1,y+c-1)\u5185\u7684\u5730\u9f20\u6570\u91cf\u90fd\u51cf\u53bb(x,y)\u5185\u7684\u5730\u9f20\u6570\n    for (register int i = x; i <= x + r - 1; i++)\n    {\n        for (register int j = y; j <= y + c - 1; j++)\n        {\n            tmaze[i][j] -= red;\n            if (tmaze[i][j] < 0) //\u64cd\u4f5c2\uff0c\u5982\u679c\u8fd9\u4e2a\u6d1e\u91cc\u7684\u5730\u9f20\u6570\u91cf\u4e3a\u8d1f\u8bf4\u660e\u8fd9\u7ec4\u65b9\u6848\u4e0d\u6210\u7acb\n                return;\n        }\n    }\n    dfs(r, c, cnt + red); //\u64cd\u4f5c4\u30015\uff0c\u52a0\u4e0a\u64cd\u4f5c\u6b21\u6570\uff0c\u7ee7\u7eed\u6253\u5269\u4e0b\u7684\u5730\u9f20\n    return;\n}\nvoid cpymaze()\n{\n    for (register int i = 1; i <= n; i++)\n        for (register int j = 1; j <= m; j++)\n            tmaze[i][j] = maze[i][j]; //\u590d\u5236\u539f\u59cb\u7684\u5730\u56fe\n}\nsigned main()\n{\n    scanf(\"%d%d\", &n, &m);\n    for (int i = 1; i <= n; i++)\n    {\n        for (int j = 1; j <= m; j++)\n        {\n            scanf(\"%d\", &maze[i][j]);\n            tot += maze[i][j]; //\u8bb0\u5f55\u5730\u9f20\u603b\u6570\n        }\n    }\n    for (int r = 1; r <= n; r++)\n    {\n        for (int c = 1; c <= m; c++)\n        {\n            if (tot % (r * c) == 0) //\u5206\u6790\u4e2d\u6240\u8bf4\u7684\uff0c\u53ea\u6709\u9524\u5b50\u7684\u8986\u76d6\u5927\u5c0f\u80fd\u6574\u9664\u5730\u9f20\u603b\u6570\u624d\u884c\n            {\n                cpymaze();\n                dfs(r, c, 0);\n            }\n        }\n    }\n    printf(\"%lld\\n\", ans);\n}\n```",
        "postTime": 1667568359,
        "uid": 245033,
        "name": "if_OF",
        "ccfLevel": 0,
        "title": "P2484 [SDOI2011]\u6253\u5730\u9f20 \u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P2484)\n\n### \u9898\u76ee\u601d\u8def\u5206\u6790\n\n\u8003\u8651\u5230\u8fd9\u9898\u6570\u636e\u5f88\u5c0f\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u66b4\u529b\u679a\u4e3e\u52a0\u6a21\u62df\u8fc7\u6389\u8fd9\u9053\u9898\u3002\n\n\u5bf9\u4e8e\u9524\u5b50\u7684\u5927\u5c0f\uff0c\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u3002\u7136\u540e\u6a21\u62df\u5bf9\u8981\u7838\u7684\u90e8\u5206\u8fdb\u884c\u64cd\u4f5c\uff0c\u5bf9\u8be5\u533a\u57df\u51cf\u53bb\u7838\u7684\u5730\u65b9\u5de6\u4e0a\u89d2\u7684\u6570\uff0c\u5982\u679c\u5c0f\u4e8e\u96f6\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fd4\u56de false \u4e86\u3002\u8fd9\u6837\u4f1a\u8282\u7701\u8bb8\u591a\u65f6\u95f4\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u4ece\u5927\u5230\u5c0f\u679a\u4e3e\u9524\u5b50\uff0c\u5e76\u4e14\u53ea\u6709\u6240\u6709\u5730\u6d1e\u5730\u9f20\u4e4b\u548c\u4e3a\u9524\u5b50\u4f53\u79ef\u7684\u500d\u6570\u65f6\u624d\u8fdb\u884c\u64cd\u4f5c\u3002\n\n\u4ee4\u5730\u9f20\u548c\u4e3a $x$\uff0c\u9524\u5b50\u4f53\u79ef\u4e3a $v$\uff0c\u5df2\u5f97\u5230\u7b54\u6848\u6700\u5c0f\u503c\u4e3a $ans$\uff0c\u90a3\u4e48\u5f53\u4e14\u4ec5\u5f53 $x\\div v\\le ans$ \u65f6\u624d\u7838\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define re register int//\u5e38\u6570\u4f18\u5316 \nusing namespace std;\nint m,n,a[101][101],b[101][101],ans,sum,minn=1e9,w;\ninline bool hit(int r,int c){//\u6a21\u62df\u8fc7\u7a0b \n\tans=0;\n\tfor(re i=1;i<=m-r+1;++i)\n\t\tfor(re j=1;j<=n-c+1;++j){\n\t\t\tw=b[i][j];\n\t\t\tfor(re x=i;x<=i+r-1;++x)\n\t\t\t\tfor(re y=j;y<=j+c-1;++y){\n\t\t\t\t\tif(b[x][y]-w<0)return false;//\u5c0f\u4e8e\u96f6\u76f4\u63a5return false \n\t\t\t\t\telse b[x][y]-=w;\n\t\t\t\t}\n\t\t\tans+=w;\n\t\t}\n\tfor(re i=1;i<=m;++i)\n\t\tfor(re j=1;j<=n;++j)\n\t\t\tif(b[i][j]!=0)\n\t\t\t\treturn false;\n\treturn true; \n}\ninline void copy(){\n\tfor(re i=1;i<=m;++i)\n\t\tfor(re j=1;j<=n;++j)\n\t\t\tb[i][j]=a[i][j];\n}\nint main(){\n\tscanf(\"%d%d\",&m,&n);\n\tfor(re i=1;i<=m;++i)\n\t\tfor(re j=1;j<=n;++j){\n\t\t\tscanf(\"%d\",&a[i][j]);\n\t\t\tsum+=a[i][j];\n\t\t}\n\tcopy();\n\tfor(re r=m;r>=1;--r){\n\t\tfor(re c=n;c>=1;--c){\n\t\t\tif(sum%(r*c)!=0)continue;\n\t\t\tif(sum/(r*c)>minn)continue;\n\t\t\tcopy();\n\t\t\tif(hit(r,c)==true)minn=min(minn,sum/(r*c));\n\t\t}\n\t}\n\tprintf(\"%d\",minn);\n\treturn 0;\n}\n```\nBye\uff01",
        "postTime": 1683469654,
        "uid": 652444,
        "name": "IcyFoxer_XZY",
        "ccfLevel": 4,
        "title": "\u6253\u5730\u9f20\u9898\u89e3"
    },
    {
        "content": "# \u9898\u76ee\u5927\u610f\uff1a\n\n\u7ed9\u4f60\u4e00\u4e2a $n \\times m$ \u7684\u77e9\u9635\uff0c\u6bcf\u6b21\u53ef\u4ee5\u8ba9 $r \\times c$ \u5927\u5c0f\u7684\u5b50\u77e9\u9635\u91cc\u7684\u6240\u6709\u503c $-1$\uff0c\u53ea\u6709\u6700\u540e\u6574\u4e2a\u77e9\u9635\u7684\u6240\u6709\u503c\u90fd\u4e3a $0$ \u65f6 $r$ \u548c $c$ \u624d\u662f\u5408\u6cd5\u7684\u3002\n\n\u95ee\u5982\u4f55\u9009\u62e9\u5408\u6cd5\u7684 $r$ \u548c $c$ \u7684\u503c\u4f7f\u5f97\u8ba9\u77e9\u9635\u5168\u90e8\u53d8\u4e3a $0$ \u7684\u6b21\u6570\u6700\u5c11\u3002\n\n---\n\n# \u601d\u8def\uff1a\n\n\u6211\u4eec\u76f4\u63a5\u66b4\u529b\u679a\u4e3e $r$ \u548c $c$ \u7684\u957f\u5ea6\uff0c\u6bcf\u6b21\u5224\u65ad\u4e00\u4e0b\u5f53\u524d\u7684 $r$ \u548c $c$ \u662f\u5426\u5408\u6cd5\uff0c\u5e76\u4e14\u66f4\u65b0\u7b54\u6848(\u6700\u5c0f\u503c)\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u66f4\u65b0\u7684\u65b9\u6cd5\u5c31\u662f\uff1a`if(check(r,c))ans=min(ans,sum/r/c);`\n\n\u5176\u4e2d $ans$ \u662f\u7b54\u6848\uff0c$sum$ \u662f\u5730\u9f20\u603b\u6570\u3002\n\n\u4ee5\u4e0b\u662f\u6211\u7684\u5224\u65ad\u51fd\u6570\uff0c\u6253\u4e86\u6ce8\u91ca\u7684\uff0c\u65b9\u4fbf\u5927\u5bb6\u7406\u89e3\u3002\n```cpp\nbool check(int x,int y){//\u4f20\u8fdb\u6765\u7684\u53c2\u6570\u5c31\u662fr\u548cc,\u4e0d\u8fc7\u4e2a\u4eba\u4e60\u60ef\u6bd4\u8f83\u7231\u7528x\u548cy\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tb[i][j]=a[i][j];//\u7531\u4e8e\u539f\u6570\u7ec4\u7684\u503c\u4e0d\u80fd\u4fee\u6539,\u9700\u8981\u62f7\u8d1d\u4e00\u4efd\n\t\t}\n\t}\n\tfor(int i=1;i<=n-x+1;i++){//\u957f\u4e3ax\u53ea\u7528\u5faa\u73af\u5230n-x+1\n\t\tfor(int j=1;j<=m-y+1;j++){//\u5bbd\u4e3ay\u53ea\u7528\u5faa\u73af\u5230m-y+1\n\t\t\tif(b[i][j]){//\u5728\u5f53\u524d\u4f4d\u7f6e\u6709\u5730\u9f20\u65f6\u6211\u4eec\u9700\u8981\u4e0d\u65ad\u6572\u6253\u81f3\u6b64\u5143\u7d20\u4e3a0\n\t\t\t\tint z=b[i][j];\n\t\t\t\tfor(int k=0;k<x;k++){\n\t\t\t\t\tfor(int l=0;l<y;l++){\n\t\t\t\t\t\tb[i+k][j+l]-=z;//\u6bcf\u4e2a\u5143\u7d20\u90fd\u4f1a\u88ab\u6572\u6253z\u6b21\n\t\t\t\t\t\tif(b[i+k][j+l]<0)return 0;//\u5982\u679c\u6709\u5143\u7d20\u6572\u6253\u81f3\u8d1f\u6570\u8bf4\u660e\u8fd9\u4e2a\u89c4\u683c\u4e0d\u5408\u6cd5\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(b[i][j])return 0;//\u5982\u679c\u6709\u4e0d\u4e3a0\u7684\u5143\u7d20\u4e5f\u662f\u4e0d\u5408\u6cd5\u7684\n\t\t}\n\t}return 1;\n}\n```\n\n\u8fd9\u79cd\u8d85\u66b4\u529b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^6)$\u3002\n\n\u56e0\u4e3a $n \\le 100$\uff0c\u8dd1\u8dd1\u6d1b\u8c37\u7684\u8bc4\u6d4b\u673a\u770b\u4e0a\u53bb\u662f\u6709\u4e00\u70b9\u70b9\u5c0f\u5c0f\u7684\u95ee\u9898\u7684\u3002\n~~(\u6bd5\u7adf\u6211\u6ca1\u6709\u5c1d\u8bd5\u8fc7\u3002)~~\n\n\u6240\u6709\uff0c\u6211\u4eec\u9700\u8981\u4e00\u6ce2\u5c0f\u5c0f\u7684\u4f18\u5316\u3002\n\n\n\u5bf9\u4e8e\u4e00\u4e2a $r$ \u548c $c$ \u7684\u957f\u5ea6\uff0c\u4e3a\u4e86\u8ba9\u77e9\u9635\u4e0a\u7684\u5730\u9f20\u5168\u90e8\u53d8\u4e3a $0$\uff0c\u90a3\u4e48\u5730\u9f20\u603b\u6570 $sum$ \u6a21 $r \\times c$ \u80af\u5b9a\u4e3a $0$\uff0c\u8981\u4e0d\u7136\u4f60\u80af\u5b9a\u4f1a\u5269\u4e0b\u4e00\u4e9b\u5143\u7d20\u4e0d\u4e3a $0$\u3002\u6240\u4ee5\u5f53\u6a21\u4e0b\u6765\u4e0d\u4e3a $0$ \u65f6\u6211\u4eec\u76f4\u63a5\u5224\u65ad\u4e3a\u4e0d\u5408\u6cd5\u60c5\u51b5\u3002\n\n\u8fd8\u6709\u5728\u4e0a\u4e00\u4e2a\u4f18\u5316\u6210\u7acb\u65f6\uff0c\u5982\u679c\u5730\u9f20\u603b\u6570 $sum$ \u9664\u4ee5 $r \\times c$ \u7684\u503c $\\ge$ \u4e4b\u524d\u7684\u6700\u5c0f\u503c $ans$\uff0c\u6211\u4eec\u76f4\u63a5\u7565\u8fc7\u8fd9\u4e2a $r$ \u548c $c$\uff0c\u56e0\u4e3a\u5c31\u7b97\u8fd9\u4e2a $r$ \u548c $c$ \u662f\u5408\u6cd5\u7684\uff0c\u4e5f\u5bf9\u6211\u4eec\u7684\u7b54\u6848\u4e0d\u4f1a\u4ea7\u751f\u5f71\u54cd\u3002\n\n\u8fd9\u6837\u4f18\u5316\u4e0b\u6765\u7684 $O(n^6)$ \u5e76\u4e0d\u6162\uff0c\u76ee\u524d\u4e3a\u63d0\u4ea4\u6700\u4f18\u89e3\u7684\u7b2c\u516d\u3002\n\n---\n\n# Code\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint a[105][105],b[105][105],n,m,ans,sum;\n//a\u662f\u8f93\u5165\u6570\u7ec4,b\u4e3a\u62f7\u8d1d\u6570\u7ec4\nbool check(int x,int y){//check\u6211\u524d\u9762\u6253\u8fc7\u6ce8\u91ca\u4e86,\u8fd9\u91cc\u5c31\u7b97\u4e86\u5427\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tb[i][j]=a[i][j];\n\t\t}\n\t}\n\tfor(int i=1;i<=n-x+1;i++){\n\t\tfor(int j=1;j<=m-y+1;j++){\n\t\t\tif(b[i][j]){\n\t\t\t\tint z=b[i][j];\n\t\t\t\tfor(int k=0;k<x;k++){\n\t\t\t\t\tfor(int l=0;l<y;l++){\n\t\t\t\t\t\tb[i+k][j+l]-=z;\n\t\t\t\t\t\tif(b[i+k][j+l]<0)return 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(b[i][j])return 0;\n\t\t}\n\t}return 1;\n}\nint main(){\n\tios_base::sync_with_stdio(0);//\u9ed1\u79d1\u6280\u52a0\u901f\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tcin>>a[i][j];sum+=a[i][j];//\u7edf\u8ba1\u603b\u548c\n\t\t}\n\t}ans=sum;//\u6700\u5927\u4e5f\u5c31\u6572\u6253sum\u4e0b,\u4e3a1*1\u7684\u9524\u5b50\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(sum%(i*j)==0&&sum/i/j<ans){//\u4e0a\u6587\u63d0\u5230\u7684\u4f18\u5316\n\t\t\t\tif(check(i,j))ans=sum/i/j;\n\t\t\t}\n\t\t}\n\t}cout<<ans;\n\treturn 0;\n}\n```",
        "postTime": 1629690487,
        "uid": 481893,
        "name": "Super_Cube",
        "ccfLevel": 0,
        "title": "P2484 [SDOI2011]\u6253\u5730\u9f20 \u9898\u89e3"
    },
    {
        "content": "## \u7b80\u8ff0\u9898\u610f\uff1a  \n\u7ed9\u4e00\u4e2a $ n \\times m $ \u7684\u77e9\u9635\uff0c\u53ef\u4ee5\u9009\u53d6\u4e00\u4e2a $ r \\times c $ \u7684\u5b50\u77e9\u9635\uff0c\u8ba9\u8fd9\u4e2a\u8303\u56f4\u5185\u7684\u6570 $ -1 $ \u3002  \n\u8981\u6c42\u5982\u4f55\u8bbe\u5b9a $ r $ \u548c $ c $ \u7684\u503c\uff0c\u4f7f\u64cd\u4f5c\u6b21\u6570\u6700\u5c0f\u3002  \n  \n## \u9898\u76ee\u5206\u6790\uff1a  \n\u5148\u770b\u6570\u636e\u8303\u56f4\uff1a $ 1 \\leq m , n \\leq 100 $ ,\u641c\u7d22\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002  \n\n\u6211\u4eec\u679a\u4e3e**\u6bcf\u4e2a** $ r $ \u548c $ c $ \uff0c\u518d\u6a21\u62df\u201c\u6572\u5730\u9f20\u201d\uff08\u5373\u4e0a\u8ff0\u64cd\u4f5c\uff09\u7684\u8fc7\u7a0b\u3002  \n\u6a21\u62df\u5b8c\u540e\uff0c\u770b\u7ecf\u64cd\u4f5c\u540e\u7684\u6570\u7ec4\u662f\u5426\u90fd\u4e3a\u96f6\uff0c\u662f\u5219\u53ef\u884c\u3002  \n  \n\u5f53\u786e\u8ba4 $ r \\times c $ \u8fd9\u79cd\u60c5\u51b5\u53ef\u884c\u540e\uff0c\u5c31\u8981\u7edf\u8ba1\u7b54\u6848\u3002\uff08**\u6df1\u641c\u4e0d\u80fd\u4fdd\u8bc1\u7b2c\u4e00\u6b21\u641c\u5230\u7684\u5c31\u662f\u6700\u5c0f\u7b54\u6848**\uff09\u3002   \n \n\u8981\u4f7f\u77e9\u9635\u6700\u540e**\u5168\u4e3a** $ 0 $ \uff0c\u64cd\u4f5c\u6b21\u6570\u662f**\u56fa\u5b9a**\u7684\u3002  \n\n\u8bb0\u5f55**\u6bcf\u4e2a\u5143\u7d20\u7684\u603b\u548c** $ sum $ \u3002\u6bcf\u6b21\u64cd\u4f5c\uff0c\u51cf\u53bb\u7684\u503c**\u59cb\u7ec8**\u4e3a $ r \\times c $ ,\u8bbe\u64cd\u4f5c\u6b21\u6570\u4e3a $ times $ \u6b21\uff0c\u5219\uff1a  \n\n$ times \\times ( r \\times c ) = sum $   \n\n\u518d\u79fb\u9879\u53ef\u5f97\u7b54\u6848 $ times = sum \\div ( r \\times c ) $ \u3002    \n\n        \n\u8fd8\u53ef\u636e\u6b64\u8fdb\u884c**\u53ef\u884c\u6027\u4f18\u5316**\u3002\u5728\u6bcf\u6b21\u9a8c\u8bc1\u524d**\u5148\u5224\u65ad** $ sum \\% ( r \\times c ) $ **\u662f\u5426\u4e3a** $ 0 $ \uff0c\u662f\u7684\u8bdd\u518d\u9a8c\u8bc1\u3002   \n  \n## \u4ee3\u7801\uff1a  \n```\n#include <bits/stdc++.h>\nusing namespace std;\nlong long n,m,a[114][114],s[114][114],sum,ans=10e10;//ans\u8d4b\u503c\u8981\u5927 \nbool find(int r,int c) {\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=m; j++) {\n\t\t\ts[i][j]=a[i][j];//s\u6570\u7ec4\u662f\u4e3a\u4e86\u65b9\u4fbf\u64cd\u505a\uff0c\u4fdd\u8bc1a\u6570\u7ec4\u4e0d\u53d8\u3002 \n\t\t}\n\t}\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=m; j++) {\t\t\t\n\t\t\tif(!s[i][j]){//\u5982\u679c\u5f53\u524ds[i][j]\u8fd9\u4e2a\u5143\u7d20\u5df2\u7ecf\u4e3a0\u4e86\uff0c\u5c31\u4e0d\u64cd\u4f5c\u4e86\u3002 \n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tint op=s[i][j];\n\t\t\tfor(int x=1; x<=r; x++) {\n\t\t\t\tfor(int y=1; y<=c; y++) {\n\t\t\t\t\tif(i+x-1>n || j+y-1>m) {//\u5224\u65ad\u8fb9\u754c \n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t\ts[i+x-1][j+y-1]-=op;\n\t\t\t\t\tif(s[i+x-1][j+y-1]<0) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1; i<=n; i++){\n\t\tfor(int j=1; j<=m; j++){\n\t\t\tif(s[i][j]) {//\u6700\u540e\u770b\u80fd\u4e0d\u80fd \n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\treturn 1;\n}\nint main() {\n\tcin>>n>>m;\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=m; j++) {\n\t\t\tscanf(\"%lld\",&a[i][j]);\n\t\t\tsum+=a[i][j];//\u7b97\u7684\u603b\u548c \n\t\t}\n\t}\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=m; j++) {\n\t\t\tif(sum%(i*j)==0) {//\u53ef\u884c\u6027\u4f18\u5316 \n\t\t\t\tif(find(i,j)==1) {\n\t\t\t\t\tans=min(ans,sum/(i*j));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n",
        "postTime": 1622008806,
        "uid": 169555,
        "name": "Kiloio",
        "ccfLevel": 0,
        "title": "[SDOI2011]\u6253\u5730\u9f20"
    },
    {
        "content": "[P2484 [SDOI2011]\u6253\u5730\u9f20](https://www.luogu.org/problemnew/show/P2484)\n\n\u6253\u8fd9\u9053\u9898\u662f\u56e0\u4e3a~~\u6ca1\u60f3\u5230\u8fd9\u9053\u9898\u53ef\u4ee5\u7528\u4e00\u7ef4\u5dee\u5206\u6765\u505a~~\u6ca1\u7ec3\u8fc7\u4e8c\u7ef4\u5dee\u5206\uff0c\u60f3\u8bd5\u8bd5\u624b\uff0c\u7ed3\u679c\u53d1\u73b0\u5927\u95ee\u9898\u3002\n\n\u5f00\u59cb\u62ff80\u5206\u600e\u4e48\u90fd\u627e\u4e0d\u5230\u9519\uff0c80\u5206\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#define rg register\n#define il inline\nusing namespace std;\nconst int Maxans=1000000005;\nint m,n,ans=Maxans,count;\nint mice[105][105];\nint copym[105][105];\nil int check(int r,int c)\n{\n\tint ans=0;\n\tif(count%(r*c)!=0) return Maxans;\n\tfor(rg int i=1;i<=m;++i) for(rg int j=1;j<=n;++j) mice[i][j]=copym[i][j];\n\tfor(rg int i=1;i<=m-r+1;++i) for(rg int j=1;j<=n-c+1;++j)\n\t{\n\t\tif(mice[i][j]<0) return Maxans;\n\t\telse if(mice[i][j]==0) continue;\n\t\telse{\n\t\t\tans+=mice[i][j]; //cout<<i<<' '<<j<<' '<<' '<<mice[i][j]<<endl;\n\t\t\tmice[i+r][j+c]-=mice[i][j];\n\t\t\tmice[i+r][j]+=mice[i][j];\n\t\t\tmice[i][j+c]+=mice[i][j];\n\t\t\tmice[i][j]=0;\n\t\t}\n\t}\n\tfor(rg int i=1;i<=m;++i)\n\tfor(rg int j=n-c+2;j<=n;++j)\n\tif(mice[i][j]) return Maxans;\n\tfor(rg int i=m-r+2;i<=m;++i)\n\tfor(rg int j=1;j<=n-c+2;++j)\n\tif(mice[i][j]) return Maxans;\n\treturn ans;\n}\nint main(void)\n{\n\tscanf(\"%d%d\",&m,&n);\n\tfor(rg int i=1;i<=m;++i) for(rg int j=1;j<=n;++j)\n\tscanf(\"%d\",&mice[i][j]),count+=mice[i][j],copym[i][j]=mice[i][j];\n\tfor(rg int i=m;i>=1;--i)\n\tfor(rg int j=n;j>1;--j)\n\tcopym[i][j]-=copym[i][j-1];\n\tfor(rg int j=n;j>=1;--j)\n\tfor(rg int i=m;i>1;--i)\n\tcopym[i][j]-=copym[i-1][j];\n\tfor(rg int r=1;r<=m;++r) for(rg int c=1;c<=n;++c)\n\tans=min(ans,check(r,c));\n\tprintf(\"%d\\n\",ans);\n}\n```\n\u600e\u4e48\u8bf4\u5462\u72af\u9519\u53ef\u80fd\u548c\u672c\u4eba\u6709\u5f3a\u8feb\u75c7\u6709\u5173\uff0c\u5728check\u6700\u540e\u68c0\u9a8c\u65f6\u613f\u68c0\u9a8c\u591a\u7684\u70b9\uff0c\u4e25\u683c\u9650\u5236\u4e86\u8fb9\u754c\uff08\u5b9e\u9645\u4e0a\u6211\u8fd8\u662f\u591a\u68c0\u9a8c\u4e86\u4e00\u4e2a\u70b9\uff0c\u5c31\u662f\u540e\u6587\u8bf4\u7684\u8d8a\u754c\u7684\u70b9\uff09\u3002\n```cpp\n\tfor(rg int i=1;i<=m;++i)\n\tfor(rg int j=n-c+2;j<=n;++j)\n\tif(mice[i][j]) return Maxans;\n\tfor(rg int i=m-r+2;i<=m;++i)\n\tfor(rg int j=1;j<=n-c+2;++j)\n\tif(mice[i][j]) return Maxans;\n\treturn ans;\n ```\n \u4f46\u5b9e\u9645\u4e0a\uff0c\u6211\u5e76\u6ca1\u6709\u6ce8\u610f\u5230\u5f53c=1\u65f6\uff0c\u7b2c\u4e8c\u4e2afor\u5faa\u73af\u4e2dj\u4f1a\u8d8a\u754c\uff08\u7b2c\u4e00\u4e2a\u56e0\u4e3a\u8bbe\u7f6e\u7684\u4e0a\u754c\u6240\u4ee5\u4e0d\u4f1a\u6709\u95ee\u9898\uff0c\u8d8a\u754c\u4e5f\u8fdb\u4e0d\u53bb\uff09\u3002\n \n \u540e\u6765\u6211\u867d\u7136\u53d1\u73b0\u4e86\uff0c\u4f46\u56e0\u4e3a\u6211\u7684\u6570\u7ec4\u5927\u5c0f\u4e0d\u662f\u5361\u7ebf\u7684\uff0c\u6240\u4ee5\u6211\u5e76\u4e0d\u8ba4\u4e3a\u8d8a\u754c\u4f1a\u6709\u5f71\u54cd\u3002\u4f46\u5728\u548cwdc\u5927\u4f6c\u7684\u4e25\u8c28\u5206\u6790\u540e\uff0c\u6211\u53d1\u73b0\u72af\u6b64\u9519\u8bef\u7684\u6839\u672c\u539f\u56e0\u5728\u4e8e\u5bf9\u4e8c\u7ef4\u5dee\u5206\u7684\u672c\u8d28\u7406\u89e3\u4e0d\u591f\u900f\u5f7b\u3002\n \n \u4e14\u770b\u6211\u5dee\u5206\u4ee3\u7801\uff1a\n ```cpp\n    for(rg int i=m;i>=1;--i)\n\tfor(rg int j=n;j>1;--j)\n\tcopym[i][j]-=copym[i][j-1];\n\tfor(rg int j=n;j>=1;--j)\n\tfor(rg int i=m;i>1;--i)\n\tcopym[i][j]-=copym[i-1][j];\n ```\n \u6211\u4ece\u524d\u8ba4\u4e3a\u5373\u4f7f\u8d8a\u754c\u4e86\uff0c\u8d8a\u754c\u7684\u90e8\u5206\u7684\u6570\u503c\u4e5f\u5e94\u8be5\u662f0\uff0c\u56e0\u4e3a\u6574\u4e2a\u6570\u7ec4\u6700\u540e\u6bcf\u4e2a\u503c\u7684\u524d\u7f00\u548c\u5e94\u8be5\u90fd\u4e3a0\u3002\u4f46\u662f\u6211\u5728\u5904\u7406\u5dee\u5206\u65f6\u5e76\u6ca1\u6709\u5bf9\u8fd9\u4e00\u90e8\u5206\u7684\u6570\u636e\u8fdb\u884c\u5dee\u5206\uff0c\u800c\u540e\u5374\u5728\u4fee\u6539\u533a\u95f4\u7684\u8fc7\u7a0b\u4e2d\u7528\u5230\u4e86\u8fd9\u4e9b\u6570\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u8d8a\u754c\u7684\u6570\u636e\u662f\u4e0d\u4e00\u5b9a\u4e3a\u96f6\u7684\u3002\n\u56e0\u6b64\u6211WA\u4e86\u70b91\u548c\u70b97\u3002\n\n\u636e\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e24\u79cd\u6539\u6cd5\uff1a\n\n\u5176\u4e00\uff1a\u6539\u8fb9\u754c\n\n\u5176\u4e8c\uff1a\u5728\u5dee\u5206\u7684\u65f6\u5019\u591a\u5f80\u540e\u5904\u7406\u4e00\u4f4d\uff0c\u5982\u4e0b\uff1a\n```cpp\n\tfor(rg int i=m+1;i>=1;--i)\n\tfor(rg int j=n+1;j>1;--j)\n\tcopym[i][j]-=copym[i][j-1];\n\tfor(rg int j=n+1;j>=1;--j)\n\tfor(rg int i=m+1;i>1;--i)\n\tcopym[i][j]-=copym[i-1][j];\n```\n\u7136\u540e\u6ce8\u610f\u5728\u521d\u59cb\u5316\u7684\u65f6\u5019\u8bb0\u5f97\u4e5f\u628a\u8303\u56f4\u6539\u4e86\u5c31\u597d\u4e86\u3002\n\n\u603b\u7ed3\u4e0a\u8ff0\u9519\u8bef\uff0c\u5b66\u4e60\u7b97\u6cd5\u5e94\u65f6\u6df1\u5165\u4e86\u89e3\u5176\u672c\u8d28\u624d\u80fd\u5c3d\u91cf\u5728\u5b9e\u73b0\u4e2d\u907f\u514d\u72af\u7384\u5b66\u9519\u8bef\u3002\n\n\u6700\u540e\u653e\u4e0a\u6b63\u786e\u4ee3\u7801\u796d\uff0c\u5e0c\u671b\u4ee5\u540e\u4e0d\u8981\u518d\u72afqwq\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#define rg register\n#define il inline\nusing namespace std;\nconst int Maxans=1000000005;\nint m,n,ans=Maxans,count;\nint mice[105][105];\nint copym[105][105];\nil int check(int r,int c)\n{\n    int ans=0;\n    if(count%(r*c)!=0) return Maxans;\n    for(rg int i=1;i<=m;++i) for(rg int j=1;j<=n;++j) mice[i][j]=copym[i][j];\n    for(rg int i=1;i<=m-r+1;++i) for(rg int j=1;j<=n-c+1;++j)\n    {\n        if(mice[i][j]<0) return Maxans;\n        else if(mice[i][j]==0) continue;\n        else{\n            ans+=mice[i][j];\n            mice[i+r][j+c]-=mice[i][j];\n            mice[i+r][j]+=mice[i][j];\n            mice[i][j+c]+=mice[i][j];\n            mice[i][j]=0;\n        }\n    }\n    for(rg int i=1;i<=m;++i)\n    for(rg int j=n-c+2;j<=n;++j)\n    if(mice[i][j]) return Maxans;\n    for(rg int i=m-r+2;i<=m;++i)\n    for(rg int j=1;j<=n-c+1;++j)\n    if(mice[i][j]) return Maxans;\n    return ans;\n}\nint main(void)\n{\n    scanf(\"%d%d\",&m,&n);\n    for(rg int i=1;i<=m;++i) for(rg int j=1;j<=n;++j)\n    scanf(\"%d\",&mice[i][j]),count+=mice[i][j],copym[i][j]=mice[i][j];\n    for(rg int i=m;i>=1;--i)\n    for(rg int j=n;j>=1;--j)\n    copym[i][j]-=copym[i][j-1];\n    for(rg int j=n;j>=1;--j)\n    for(rg int i=m;i>=1;--i)\n    copym[i][j]-=copym[i-1][j];\n    for(rg int r=1;r<=m;++r) for(rg int c=1;c<=n;++c)\n    ans=min(ans,check(r,c));\n    printf(\"%d\\n\",ans);\n}\n```\n\n\u6700\u540esincerely\u611f\u8c22\u8fd9\u9053\u9898\u7684\u6d4b\u8bd5\u6570\u636e\uff0c\u52a9\u6211\u53d1\u73b0\u9519\u8bef\u3010\u6342\u8138\u3011\u3002\n\n\u5168\u6587\u7ec8\u3002",
        "postTime": 1563457396,
        "uid": 131735,
        "name": "Jade_Lover",
        "ccfLevel": 0,
        "title": "[SDOJ2011]\u6253\u5730\u9f2080\u5206\u67e5\u9519\u6709\u611f"
    },
    {
        "content": "\u6211\u90fd\u6709\u70b9\u6000\u7591\u662f\u4e0d\u662f\u6570\u636e\u592a\u6c34\u4e86, \u56e0\u4e3a\u6211\u7adf\u7136\u5199\u4e00\u5199\u5c31\u8fc7\u4e86.\n#### Solution\n\u3000\u3000\u9996\u5148\u53d1\u73b0\u8fd9\u9053\u9898\u4e0d\u5b58\u5728\u5355\u8c03\u6027.\u4e3e\u4e2a\u4f8b\u5b50\u5982\u679c$3\\times 3$\u7684\u9524\u5b50\u80fd\u5168\u6253\u5b8c, \u4f46\u662f$2\\times 2$\u7684\u9524\u5b50\u5374\u4e0d\u80fd\u6253\u5b8c, \u56e0\u6b64\u4e0d\u80fd\u901a\u8fc7\u4e8c\u5206\u9524\u5b50\u7684\u957f\u548c\u5bbd\u6765\u505a.\n\n\u3000\u3000\u4f46\u662f\u6211\u53d1\u73b0\u5982\u679c$4\\times 4$\u7684\u9524\u5b50\u80fd\u5168\u90e8\u6253\u5b8c, \u90a3\u4e48$2\\times 2$\u7684\u9524\u5b50\u80af\u5b9a\u4e5f\u884c, \u56e0\u4e3a$4\\times 4$\u5305\u542b$2\\times 2$.\u800c\u4e14\u53d1\u73b0\u5982\u679c\u4e00\u884c\u6709$k$\u4e2a\u77f3\u5b50, \u90a3\u4e48\u957f\u5ea6\u4e3a$d$\u7684\u9524\u5b50\u53ea\u6709\u5f53$d|k$\u7684\u65f6\u5019\u624d\u53ef\u80fd\u53ef\u4ee5.\n\n\u3000\u3000**\u884c\u5217\u7684\u65e0\u5173\u6027**: \u5373\u5982\u679c\u6bcf\u4e00\u884c\u90fd\u80fd\u88ab$r\\times 1$\u7684\u9524\u5b50\u641e\u6389, \u6bcf\u4e00\u5217\u90fd\u80fd\u88ab$1\\times c$\u7684\u9524\u5b50\u641e\u6389, \u90a3\u4e48\u6574\u4e2a\u56fe\u4e00\u5b9a\u80fd\u88ab$r\\times c$\u7684\u9524\u5b50\u641e\u6389.\u8fd9\u4e2a\u4e1c\u897f\u6211\u4e5f\u4e0d\u4f1a\u4e25\u683c\u8bc1\u660e\u2026\u2026\n\u3000\u3000\u4e8e\u662f\u53ef\u4ee5\u8fd9\u4e48\u505a:\n- \u627e\u51fa\u6240\u6709\u884c\u77f3\u5b50\u6570\u76ee\u7684\u6700\u5927\u516c\u7ea6\u6570, \u9524\u5b50\u7684\u957f\u5ea6\u80af\u5b9a\u662f\u5b83\u7684\u7ea6\u6570.\n- \u627e\u51fa\u6240\u6709\u5217\u77f3\u5b50\u6570\u76ee\u7684\u6700\u5927\u516c\u7ea6\u6570, \u9524\u5b50\u7684\u5bbd\u5ea6\u80af\u5b9a\u662f\u5b83\u7684\u7ea6\u6570.\n- \u4ece\u5927\u5230\u5c0f\u679a\u4e3e\u6240\u6709\u884c\u77f3\u5b50\u6570\u76ee\u7684\u6700\u5927\u516c\u7ea6\u6570\u7684\u7ea6\u6570, \u5224\u65ad\u80fd\u5426\u641e\u6389\u6240\u6709\u884c.\n- \u5217\u540c\u4e0a.\n\n\u3000\u3000**\u5982\u4f55\u5224\u65ad\u4e00\u884c\u80fd\u5426\u88ab$r\\times 1$\u7684\u9524\u5b50\u6d88\u53bb?**:\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u5fc5\u987b\u88ab\u6d88\u53bb, \u2026\u2026, \u76f4\u5230\u4e0d\u8db3$r$\u4e2a\u4f4d\u7f6e.\n  \n#### Code\n```c++\n#include<cstdio>\n#include<cmath>\n#define N 105\nusing namespace std;\n\nint map[N][N];\nint h[N],l[N];\nint n,m;\n\nint gcd(int i,int j){return j?gcd(j,i%j):i;}\n\nbool XiaoHang(int ha,int te){\n    int temp[N];\n    for(int i=1;i<=m;++i)temp[i]=map[ha][i];\n    for(int i=1;i<=m-te+1;++i){\n        if(temp[i]<0)return false;\n        int jian=temp[i];\n        for(int j=i;j<=i+te-1;++j)\n            temp[j]-=jian;\n    }\n    for(int i=m-te+2;i<=m;++i)\n        if(temp[i])return false;\n    return true;\n}\n\nbool XiaoLiee(int li,int te){\n    int temp[N];\n    for(int i=1;i<=n;++i)temp[i]=map[i][li];\n    for(int i=1;i<=n-te+1;++i){\n        if(temp[i]<0)return false;\n        int jian=temp[i];\n        for(int j=i;j<=i+te-1;++j)\n            temp[j]-=jian;\n    }\n    for(int i=n-te+2;i<=n;++i)\n        if(temp[i])return false;\n    return true;\n}\n\nint main(){\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;++i)\n        for(int j=1;j<=m;++j)\n            scanf(\"%d\",&map[i][j]);\n    int ans=0;\n    for(int i=1;i<=n;++i)\n        for(int j=1;j<=m;++j)\n            h[i]+=map[i][j],l[j]+=map[i][j],ans+=map[i][j];\n    int H=h[1],L=l[1];\n    for(int i=2;i<=n;++i)H=gcd(H,h[i]);\n    for(int i=2;i<=n;++i)L=gcd(L,l[i]);\n\n    int te,flag,ans1,ans2;\n    for(int q=1;q<=sqrt(H);++q)if(H%q==0){\n        te=H/q,flag=true;\n        for(int i=1;i<=n&&flag;++i)\n            if(!XiaoHang(i,te))flag=false;\n        if(flag){ans1=te;break;}\n    }\n    for(int q=1;q<=sqrt(L);++q)if(L%q==0){\n        te=L/q,flag=true;\n        for(int i=1;i<=m&&flag;++i)\n            if(!XiaoLiee(i,te))flag=false;\n        if(flag){ans2=te;break;}\n    }\n    printf(\"%d\",ans/(ans1*ans2));\n    return 0;\n}\n\n```",
        "postTime": 1530411611,
        "uid": 39067,
        "name": "aiyougege",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2484 \u3010[SDOI2011]\u6253\u5730\u9f20\u3011"
    },
    {
        "content": "#pascal\u9898\u89e3\n\n\u672c\u9898\u5176\u5b9e\u5c31\u662f\u6a21\u62df\uff0c\u4f46\u5982\u679c\u66b4\u529bn\\*m\u679a\u4e3er\u3001c\u518d\u5224\u65ad\u9876\u591a60\u3002\u901a\u8fc7\u89c2\u5bdf\u9898\u76ee\u53d1\u73b0\u6bcf\u6b21\u5fc5\u5b9a\u6253\u6389r\\*c\u53ea\u5730\u9f20\uff0c\u6240\u4ee5\u5f53\u5730\u9f20\u603b\u6570mod(r\\*c)=0\u65f6\u624d\u5224\u65ad\uff08\u53ef\u884c\u6027\u526a\u679d\uff09\uff0c\u8fd8\u6709\u5f53\u6253\u51fb\u6b21\u6570\u5c0f\u4e8e\u5df2\u7ecf\u5f97\u51fa\u7684\u7b54\u6848\u65f6\u624d\u5224\u65ad\uff08\u6700\u4f18\u6027\u526a\u679d\uff09\uff0c\u8fd8\u662f\u6bd4\u8f83\u6c34\u7684\u4e00\u9053\u9898\u3002\n\n```cpp\nvar a:array[0..200,0..200] of longint;\n    i,j,k,t,m,n,p,ans,r,c:longint;\nfunction pd(r,c:longint):boolean;//\u5224\u65ad\nvar f:array[0..200,0..200] of longint;\n    i,j,x,y:longint;\nbegin\n f:=a;\n for i:=1 to m-r+1 do\n  for j:=1 to n-c+1do\n   for x:=r-1 downto 0 do\n    for y:=c-1 downto 0 do//\u66b4\u529b\u6a21\u62df\n     begin\n      dec(f[i+x,j+y],f[i,j]);\n      if f[i+x,j+y]<0 then exit(false);\n     end;\n exit(true);\nend;\nbegin\n assign(input,'233.in');\n reset(input);//\u5173\u8054\u6587\u4ef6\u4fbf\u4e8e\u8c03\u8bd5\n readln(m,n);\n for i:=1 to m do for j:=1 to n do begin read(a[i,j]); inc(t,a[i,j]); end;\n for r:=m downto 1 do\n  for c:=n downto 1 do\n   if (t mod (r*c)=0)and(r*c>ans) then//\u526a\u679d\n    if pd(r,c) then ans:=r*c;\n writeln(t div ans);\nend.\n```",
        "postTime": 1485047962,
        "uid": 19049,
        "name": "Mogician",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2484 \u3010[SDOI2011]\u6253\u5730\u9f20\u3011"
    }
]