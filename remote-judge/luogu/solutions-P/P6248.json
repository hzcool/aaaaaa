[
    {
        "content": "### \u4e00\u9053\u66b4\u529b\u641c\u7d22\u9898\uff0c\u4f46\u662f\u4e2a\u4eba\u611f\u89c9\u5e76\u6ca1\u6709\u5176\u4ed6\u5927\u4f6c\u5199\u7684\u90a3\u4e48\u590d\u6742\n\n\u601d\u8def\u5c31\u5f88\u7b80\u5355\uff0c\u7528\u4e00\u4e2a$map$\u6765\u8bb0\u5f55\u540d\u5b57\u5bf9\u5e94\u7684\u7f16\u53f7\uff0c\u7136\u540e\u901a\u8fc7$DFS$\u679a\u4e3e\u53d6\u516d\u4e2a\u82f1\u96c4\u7684\u6240\u6709\u53ef\u80fd\u6027\uff08\u4e0d\u9700\u8981\u8003\u8651\u522b\u7684\uff0c\u7eaf\u679a\u4e3e\uff09\u3002\u4e0d\u4f1a$DFS$\u7684[\u70b9\u8fd9\u91cc](https://baike.baidu.com/item/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/5224976?fromtitle=DFS&fromid=5055&fr=aladdin)\u3002\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u7528$DFS$\u5b9e\u73b0\u4ece$1$~$n$\u4e2a\u6570\u5b57\u91cc\u9009$6$\u4e2a\u6570\u5b57\uff0c\u4e14\u4e0d\u8003\u8651\u987a\u5e8f\uff08\u6700\u7b80\u5355\u3001\u6700\u57fa\u7840\u7684\u6df1\u641c\uff09\u3002\n\n#### \u6ce8\u610f\uff1a\n\n\u9898\u76ee\u7684\u5751\u70b9\u662f`\u82f1\u96c4\u7ec4\u5408\u53ef\u4ee5\u91cd\u590d`\uff0c\u8bb0\u5f97\u8003\u8651\u8fd9\u4e00\u70b9\u3002\n\n------\n\u5177\u4f53\u5b9e\u73b0\u65b9\u6cd5\u770b\u4ee3\u7801\uff08\u6709\u8be6\u7ec6\u6ce8\u91ca\uff09\uff1a\n```\n#include <bits/stdc++.h>\nusing namespace std;\nmap<string,int>m;\nint together[100][100],power[100],a[100]={1},ans,n,K;\n//together[i][j]\u8868\u793a\u7b2ci,j\u4e2a\u82f1\u96c4\u540c\u65f6\u4e0a\u9635\u589e\u52a0\u7684\u80fd\u529b\u503c\uff1b\n//power[i]\u8868\u793a\u7b2ci\u4e2a\u82f1\u96c4\u7684\u4e2a\u4eba\u80fd\u529b\u503c\uff1b\n//a\u6570\u7ec4\u7528\u6765\u8bb0\u5f55DFS\u679a\u4e3e\u7ed3\u679c\u3002\nbool k[100];\nvoid moni()\n{\n  int pmax=0;\n  for(int i=1; i<=6; i++)\n  {\n    pmax+=power[a[i]];//\u52a0\u4e0a\u82f1\u96c4\u7684\u4e2a\u4eba\u80fd\u529b\u503c\n    for(int j=1; j<=n; j++)//\u8303\u56f4\u4e0d\u5927\u76f4\u63a5\u7206\u641c\n      if(k[j])//\u5982\u679c\u53e6\u4e00\u4e2a\u82f1\u96c4\u4e5f\u4e0a\u9635\u4e86\n        pmax+=together[a[i]][j];\n  }\n  ans=max(ans,pmax);//\u66f4\u65b0\u6700\u5927\u503c\n}\nvoid dfs(int kk)//\u5178\u578b\u6df1\u641c\n{\n  if(kk==7||kk==n+1)//\u679a\u4e3e\u5b8c\u516d\u4e2a\u82f1\u96c4\u6216\u662fn\u4e2a\u82f1\u96c4\n    moni();\n  else\n    for(int i=a[kk-1]; i<=n; i++)\n      if(!k[i])//\u5982\u679c\u7b2ci\u4e2a\u82f1\u96c4\u6ca1\u6709\u4e0a\u9635\n      {\n        k[i]=1;\n        a[kk]=i;\n        dfs(kk+1);\n        k[i]=0;\n      }\n}\nint main()\n{\n  string s,ss;\n  cin>>n>>K;\n  for(int i=1; i<=n; i++)\n  {\n    cin>>s>>power[i];\n    m[s]=i;//\u540d\u5b57s\u5bf9\u5e94\u7f16\u53f7i\n  }\n  for(int i=0; i<K; i++)\n  {\n      cin>>s>>ss>>h;\n      together[m[s]][m[ss]]+=h;\n      //\u6ce8\uff1a\u6b64\u5904\u8981\u7528+=\u6765\u8fdb\u884c\u53e0\u52a0\n  }\n  dfs(1);//\u5f00\u59cb\u6df1\u641c\n  cout<<ans;//\u8f93\u51fa\u7ed3\u679c\n  return 0;\n}\n```\n#### **$for$\u65b0\u624b\uff08\u4e2a\u4eba\u7684\u5efa\u8bae\uff09\uff1a**\n\n\u6df1\u641c\u7684\u65f6\u5019\u4e0d\u7528\u8003\u8651\u90a3\u4e48\u591a\uff0c\u53ea\u679a\u4e3e\u7b80\u5355\u7684\uff0c\u81f3\u4e8e\u540e\u9762\u7684\u6a21\u62df\uff0c\u4e0d\u8981\u653e\u5728\u6df1\u641c\u91cc\u9762\u6267\u884c\uff0c\u8fd9\u6837\u7684\u601d\u8def\u4f1a\u66f4\u6e05\u6670\u4e9b\u3002",
        "postTime": 1585446102,
        "uid": 288716,
        "name": "lzqy_",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P6248 \u3010\u51c6\u5907\u6218\u6597\uff0c\u9009\u62e9\u4f60\u7684\u82f1\u96c4\u3011"
    },
    {
        "content": "\u53d1\u73b0\u6570\u636e\u8303\u56f4\u8f83\u5c0f\u3002\u53ef\u4ee5\u4f7f\u7528\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^6)$ \u7684 `DFS` \u89e3\u51b3\u3002\n\n\u4f7f\u7528 `DFS` \u679a\u4e3e\u51fa\u6240\u6709\u53ef\u80fd\u7684\u60c5\u51b5\uff0c\u7edf\u8ba1\u7b54\u6848\u3002\n\n\u5bf9\u4e8e\u5b58\u5728\u5c5e\u6027\u52a0\u6210\u7684\u82f1\u96c4\u7ec4\u5408\uff0c\u53ef\u4ee5\u76f4\u63a5\u50a8\u5b58\u5e76\u5728\u7edf\u8ba1\u65f6\u66b4\u529b\u679a\u4e3e\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 `std::map` \u6216 `\u5b57\u7b26\u4e32\u54c8\u5e0c`\u3002\n\n\u9700\u8981\u6ce8\u610f\uff1a\u82f1\u96c4\u7ec4\u5408\u53ef\u4ee5\u91cd\u590d\uff0c\u82e5\u91cd\u590d\u8bf7\u591a\u6b21\u8ba1\u6570\u3002\n\n\u53c2\u8003\u4ee3\u7801\uff1a\n\n```\n#include<cstdio>\n#include<cstring>\n\nconst int BASE=131;\nconst int MOD=991;\nunsigned fun(char *p){\n\tint l=strlen(p);\n\tunsigned ans=0;\n\tfor(int i=0;i<l;++i){\n\t\tans=ans*MOD+p[i];\n\t}\n\treturn ans;\n}\nchar key[MOD][20];\nint num[MOD],cnt;\nint find(char *p){\n\tint g=fun(p)%(MOD-1)+1;\n\tfor(int i=fun(p)%MOD;;i=(i+g)%MOD){\n\t\tif(strcmp(key[i],p)==0){\n\t\t\treturn num[i];\n\t\t}\n\t\tif(strlen(key[i])==0){\n\t\t\tstrcpy(key[i],p);\n\t\t\treturn num[i]=cnt;\n\t\t}\n\t}\n\treturn -1;\n}\n//\u5b57\u7b26\u4e32\u54c8\u5e0c\uff0c\u7ed9\u6bcf\u4f4d\u82f1\u96c4\u7f16\u53f7 1...n\u3002\n\nint val[50],tm[50][50];\n//val \u50a8\u5b58\u6bcf\u4f4d\u82f1\u96c4\u5bf9\u56e2\u961f\u7684\u8d21\u732e\uff0ctm(i,j) \u8868\u793a\u7b2c i \u4f4d\u82f1\u96c4\u4e0e\u7b2c j \u4f4d\u82f1\u96c4\u7ec4\u5408\u7684\u989d\u5916\u8d21\u732e\u3002\nint ans;\nint n,m;\nint p[10];\nvoid DFS(int tot,int cur,int sum){\n\tif(tot==6){\n\t\tif(sum>ans){\n\t\t\tans=sum;\n\t\t}\n\t\treturn;\n\t}\n\tfor(int i=cur;i<n;++i){\n\t\tint t=sum+val[i];\n\t\tfor(int j=0;j<tot;++j){\n\t\t\tt+=tm[i][p[j]];\n\t\t}\n\t\tp[tot]=i;\n\t\tDFS(tot+1,i+1,t);\n\t}\n\treturn;\n}\n//DFS\uff0c\u641c\u7d22\u82f1\u96c4\u7f16\u53f7\uff0c\u679a\u4e3e\u51fa\u6240\u6709\u53ef\u80fd\u7684\u60c5\u51b5\uff0c\u7edf\u8ba1\u7b54\u6848\u3002\n\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\twhile(cnt<n){\n\t\tchar s[20];\n\t\tscanf(\"%s\",s);\n\t\tint t;\n\t\tscanf(\"%d\",&t);\n\t\tfind(s);\n\t\tval[cnt++]=t;\n\t}\n\tfor(int i=0;i<m;++i){\n\t\tchar a[20],b[20];\n\t\tscanf(\"%s%s\",a,b);\n\t\tint t;\n\t\tscanf(\"%d\",&t);\n\t\tint u=find(a),v=find(b);\n\t\ttm[u][v]+=t,tm[v][u]+=t;\n\t\t//\u627e\u5230\u82f1\u96c4 a,b \u7684\u7f16\u53f7\uff0c\u50a8\u5b58\u989d\u5916\u8d21\u732e\u3002  \n\t}\n\tDFS(0,0,0);\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1585396290,
        "uid": 118228,
        "name": "Wenoide",
        "ccfLevel": 0,
        "title": "\u300c\u9898\u89e3\u300dP6248 \u51c6\u5907\u6218\u6597\uff0c\u9009\u62e9\u4f60\u7684\u82f1\u96c4"
    },
    {
        "content": "\u76f4\u63a5\u679a\u4e3e\u5373\u53ef\uff08\u5e38\u6570\u5c0f\uff0c\u4ee3\u7801\u77ed\uff0c\u76f4\u63a5\u5230\u6700\u4f18\u89e3\uff09\n\n\u7528 $map$ \u8bb0\u5f55\u5b57\u7b26\u4e32\u3002\n\n\u7531\u4e8e\u53ef\u80fd\u6709\u91cd\u8fb9\uff0c\u6240\u4ee5\u8bb0\u5f55\u4e24\u4e2a\u4eba\u4e00\u8d77\u4ea7\u751f\u7684\u8d21\u732e\u5e94\u8be5\u7528 $+=$ \u800c\u4e0d\u662f $=$\u3002\n\n\u5176\u4ed6\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff0c\u603b\u590d\u6742\u5ea6\uff1a $O(n^6+m)$ \u5e76\u4e14\u5b8c\u5168\u8dd1\u4e0d\u6ee1\uff0c\u5b9e\u9645\u4e0a\u662f $C_n^6$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define re register\nusing namespace std;\nint n,m,val[32],g[32][32],ans;\nmap<string,int>mp;\nchar s[12],ss[12];\ninline int read(){\n\tre int t=0;\n\tre char v=getchar();\n\twhile(v<'0')v=getchar();\n\twhile(v>='0')t=(t<<3)+(t<<1)+v-48,v=getchar();\n\treturn t;\n}\nint main(){\n\tn=read(),m=read();\n\tfor(re int i=1;i<=n;++i){\n\t\tscanf(\"%s\",s+1);\n\t\tmp[s+1]=i;\n\t\tval[i]=read();\n\t}\n\tfor(re int i=1;i<=m;++i){\n\t\tscanf(\"%s%s\",s+1,ss+1);\n\t\tre int x=mp[s+1],y=mp[ss+1];\n\t\tre int kk=read();\n\t\tg[x][y]+=kk;\n\t\tg[y][x]+=kk;\n\t}\n\tfor(re int a=1;a<=n;++a)\n\t\tfor(re int b=a+1;b<=n;++b)\n\t\t\tfor(re int c=b+1;c<=n;++c)\n\t\t\t\tfor(re int d=c+1;d<=n;++d)\n\t\t\t\t\tfor(re int e=d+1;e<=n;++e)\n\t\t\t\t\t\tfor(re int f=e+1;f<=n;++f)ans=max(ans,val[a]+val[b]+val[c]+val[d]+val[e]+val[f]+g[a][b]+g[a][c]+g[a][d]+g[a][e]+g[a][f]+g[b][c]+g[b][d]+g[b][e]+g[b][f]+g[c][d]+g[c][e]+g[c][f]+g[d][e]+g[d][f]+g[e][f]);\n\tprintf(\"%d\",ans);\n}\n```\n",
        "postTime": 1585409053,
        "uid": 41476,
        "name": "gyh20",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P6248 \u3010\u51c6\u5907\u6218\u6597\uff0c\u9009\u62e9\u4f60\u7684\u82f1\u96c4\u3011"
    },
    {
        "content": "\u601d\u8def\u90fd\u662f\u590d\u6742\u5ea6$O(C_n^6)$\u7684\uff0c\u90fd\u662f\u66b4\u529b\u679a\u4e3e\u82f1\u96c4\uff0c\u7136\u540e\u76f4\u63a5\u5224\u65ad\u503c\u3002\n\n~~\u66fe\u7ecf\u60f3\u5199\u8d2a\u5fc3\u6700\u540e\u653e\u5f03\u4e86\u3002~~\n\n\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u79cdstl\u7684string\u7c7b\u578b\u5b57\u7b26\u4e32\u6bd4\u8f83\u65b9\u6cd5\u3002\n\n\u6211\u4eec\u5148\u9700\u8981\u4e24\u4e2a\u7ed3\u6784\u4f53u\u4e0ev\uff0c\u4e00\u4e2a\u5b58\u82f1\u96c4\u7684\u5c5e\u6027\uff0c\u4e00\u4e2a\u5b58\u9644\u52a0\u6761\u4ef6\uff08\u7ed3\u5408\u52a0\u6210\uff09\u3002\n\n```cpp\nstruct hero{\n   string s;\n   int v;\n}p[40];\nstruct extra{\n   string a;\n   string b;\n   int v;\n}q[40];\n```\n\n\u5173\u4e8estring\u7c7b\u578b\u7684\u6bd4\u8f83\u6709\u4e00\u4e2a\u51fd\u6570\u53ebs1.compare(s2)\u6216\u8005s2.compare(s1)\uff0c\u5f53\u5b83\u8fd4\u56de0\u65f6\u8868\u793as1,s2\u76f8\u540c\uff0c\u8fd4\u56de-1\u65f6\u8868\u793a\u4e0d\u540c\u3002\n\n\u8fd9\u91cc\u768412\u4e2acompare\u8bed\u53e5\u7a0d\u5fae\u6709\u4e9b\u96be\u61c2\uff0c\u8fd9\u91cc\u89e3\u91ca\u4e00\u4e0b\u3002\u5bf9\u4e8e\u7ed9\u5b9a\u7684\u4e00\u79cd\u7ec4\u5408\uff0c\u5148\u7528\u5de6\u8fb9\u90a3\u4e2a\u82f1\u96c4\u8ddf\u6240\u6709\u9009\u5b9a\u82f1\u96c4\u914d\u5bf9\uff0c\u518d\u7528\u53f3\u8fb9\u7684\u914d\u5bf9\u3002\u56e0\u4e3a\u5de6\u53f3\u4e24\u904d\u7684\u82f1\u96c4\u4e0d\u4f1a\u662f\u540c\u4e00\u4e2a\uff0c\u6240\u4ee5\u662f\u4e00\u79cd\u7b49\u4ef7\u7684\u5199\u6cd5\uff0c\u5e76\u4e0d\u5f71\u54cd\u7ed3\u679c\u3002\u53ea\u8981\u6709\u4e24\u7ec4\u914d\u5bf9\u6210\u529f\uff0c\u5c31\u8bf4\u660eu,v\u8fd9\u4e24\u79cd\u82f1\u96c4\u90fd\u5728\u9009\u5b9a\u82f1\u96c4\u4e2d\u5b58\u5728\uff0c\u53ef\u4ee5\u52a0\u4e0a\u4ed6\u4eec\u7684\u9644\u52a0\u503c\u3002\n\n```cpp\nint getv(int a,int b,int c,int d,int e,int f){\n   int ans=p[a].v+p[b].v+p[c].v+p[d].v+p[e].v+p[f].v;\n   for(int i=1;i<=m;i++){\n      int flg=0;\n      string u=q[i].a,v=q[i].b;\n      if(u.compare(p[a].s)==0||v.compare(p[a].s)==0) flg++;\n      if(u.compare(p[b].s)==0||v.compare(p[b].s)==0) flg++;\n      if(u.compare(p[c].s)==0||v.compare(p[c].s)==0) flg++;\n      if(u.compare(p[d].s)==0||v.compare(p[d].s)==0) flg++;\n      if(u.compare(p[e].s)==0||v.compare(p[e].s)==0) flg++;\n      if(u.compare(p[f].s)==0||v.compare(p[f].s)==0) flg++;\n      if(flg==2) ans+=q[i].v;\n   }\n   return ans;\n}\n```\n\n\u81f3\u4e8e\u679a\u4e3e\u90e8\u5206\uff0c\u76f4\u63a5\u66b4\u529b\u516d\u91cdfor\u5faa\u73af\u5373\u53ef\u3002\n",
        "postTime": 1585442896,
        "uid": 239832,
        "name": "sipu6174",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P6248 \u3010\u51c6\u5907\u6218\u6597\uff0c\u9009\u62e9\u4f60\u7684\u82f1\u96c4\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P6248)\n\n\u53ef\u4ee5\u770b\u51fa\u6570\u636e\u975e\u5e38\u7684\u5c0f\uff0c\u76f4\u63a5**\u641c\u7d22**\u66b4\u529b\u89e3\u51b3\u3002\n\n\u9996\u5148\u8981\u89e3\u51b3\u5b57\u7b26\u4e32\uff1amap\u5927\u6cd5\u4e0d\u9999\u5417~~C++\u798f\u5229\u554a~~\u3002\n\n\u5176\u6b21\u7531\u4e8e\u6211\u6bd4\u8d5b\u65f6\u6ca1\u6709\u770b\u5230\u4e00\u4e2a\u91cd\u8981\u4fe1\u606f\uff0c\u53ea\u5f97\u4e8670\u5206qwq\u3002\n\n### \u91cd\u8981\u4fe1\u606f\uff1a\u82f1\u96c4\u7ec4\u5408\u53ef\u4ee5\u91cd\u590d\uff0c\u82e5\u91cd\u590d\u8bf7\u591a\u6b21\u8ba1\u6570\u3002\n\n------------\n\n**\u601d\u8def\uff1a**\n\n    \u53d8\u91cf\u58f0\u660e\uff1a\n\n    v[i]\u8bb0\u5f55\u6bcf\u4e2a\u82f1\u96c4\u7684\u8d21\u732e\u503c\uff1b\n\n    map<string,int>\u8bb0\u5f55\u82f1\u96c4\u6240\u5bf9\u5e94\u7684\u7f16\u53f7\uff1b\n\n    c[i][j]\u8bb0\u5f55\u82f1\u96c4i\u4e0e\u82f1\u96c4j\u7ec4\u5408\u65f6\u7684\u8d21\u732e\uff1b\n\n    b\u6570\u7ec4\u8bb0\u5f55\u6bcf\u6b21\u66b4\u529b\u679a\u4e3e\u82f1\u96c4\u7684\u7f16\u53f7\u3002\n   \n\u6211\u4eec\u5148\u628a\u82f1\u96c4\u540d\u5b57\u7528map\u8f6c\u5316\u4e3a\u7f16\u53f7\uff0c\u7136\u540e\u8bb0\u5f55\u7ec4\u5408\u82f1\u96c4\u7684\u8d21\u732e\uff0c\u518d\u66b4\u529b\u679a\u4e3e\u9009\u53d6\u54ea6\u4e2a\u82f1\u96c4\uff0c\u6700\u540e\u5c06\u6bcf\u6b21\u679a\u4e3e\u7684\u603b\u8d21\u732e\u503c\u4e0e\u7b54\u6848\u6bd4\u8f83\uff0c\u53d6\u8f83\u5927\u7684\u3002\n\n _Code:_ \n \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define For(i,j,k) for(int i=(int)(j);i<=(int)(k);i++)\n#define Rep(i,j,k) for(int i=(int)(j);i>=(int)(k);i--)\ninline ll read(){\n\tll x=0;char ch=getchar();bool f=0;\n\tfor(;!isdigit(ch);ch=getchar()) if(ch=='-') f=1;\n\tfor(;isdigit(ch);ch=getchar()) x=x*10+ch-'0';\n\treturn f?-x:x;\n}\nvoid write(ll x){\n\tif(x<0) putchar('-'),x=-x;\n\tif(x>=10) write(x/10);putchar(x%10+'0');\n}\nvoid writeln(ll x){write(x);puts(\"\");}\nvoid writep(ll x){write(x);putchar(' ');}\n\nint const N=30+3;\nint n,m,ans,v[N],b[N],c[N][N];\nmap<string,int> mp;\n\nvoid dfs(int x,int k,int s){//\u8003\u8651x\u7f16\u53f7\u5bf9\u5e94\u7684\u82f1\u96c4\u6210\u4e3a\u7b2ck\u4e2a\u9009\u62e9\u82f1\u96c4\uff0c\u4e4b\u524d\u6bcf\u4e2a\u82f1\u96c4\u5355\u72ec\u7684\u8d21\u732e\u548c\u4e3as\n\tif (k>6){//\u5df2\u6ee16\u4e2a\u82f1\u96c4\n\t\tint res=s;\n\t\tfor (int i=2;i<=6;i++)\n\t\t  for (int j=1;j<i;j++)\n\t\t    res+=c[b[i]][b[j]];//\u5bf9\u4e8e\u7ec4\u5408\u82f1\u96c4\u7684\u8d21\u732e\n\t\tans=max(ans,res);//\u66f4\u65b0\u7b54\u6848\n\t\treturn;\n\t}\n\tif (x>n) return;//\u9009\u5b8c\u4e86\n\tb[k]=x;//\u9009\n\tdfs(x+1,k+1,s+v[x]);\n\tb[k]=0;//\u4e0d\u9009\n\tdfs(x+1,k,s);\n}\nint main(){\n\tn=read();m=read();\n\tfor (int i=1;i<=n;i++){\n\t\tstring s;\n\t\tcin>>s;\n\t\tv[i]=read();\n\t\tmp[s]=i;//\u540d\u5b57\u8f6c\u5316\u6210\u7f16\u53f7\n\t}\n\tfor (int i=1;i<=m;i++){\n\t\tstring x,y;\n\t\tcin>>x>>y;\n\t\tc[mp[x]][mp[y]]=c[mp[y]][mp[x]]=c[mp[x]][mp[y]]+read();//\u6ce8\u610f\u8981\u52a0\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u8d4b\u503c\uff0c\u5426\u5219\u53ea\u670970\u5206\u4e86\n\t}\n\tdfs(1,1,0);\n\twriteln(ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1585404058,
        "uid": 146307,
        "name": "\u8881\u5b87\u8f69",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6248 \u3010\u51c6\u5907\u6218\u6597\uff0c\u9009\u62e9\u4f60\u7684\u82f1\u96c4\u3011"
    },
    {
        "content": "\u6765\u5199\u7bc7\u9898\u89e3\u5427\u3002\u867d\u7136\u6ca1\u65f6\u95f4\u505a\u53ea\u62ff\u4e8670\u5206\uff0c\u4f46\u662f\u8fd8\u662f\u6bd4\u8f83\u5bb9\u6613\u60f3\u5230\u6b63\u89e3\u7684\u3002\n\n\u7b97\u6cd5\u65b9\u9762\u7528\u4e86dfs\uff0c\u641c\u7d226\u4e2a\u82f1\u96c4\uff0c\u6bd4\u8f83\u6700\u5927\u503c\uff08\u5373\u66b4\u529b\u679a\u4e3e\u6cd5\uff09\u3002\u5176\u4ed6\u7684\u5199\u5728\u4ee3\u7801\u91cc\u4e86\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,x[35][35],ans=0;//x[i][j]\uff1a\u7b2ci\u548c\u7b2cj\u4e2a\u6b66\u5c06\u540c\u65f6\u767b\u573a\u52a0\u7684\u6218\u529b\u503c\nbool visited[35];\nstruct ying_xiong //\u8fd9\u4e2a\u50a8\u5b58\u82f1\u96c4\uff0czhanli\u4e3a\u6218\u529b\uff0cname\u4e3a\u540d\u5b57\u3002\n{\n\tint zhanli;\n\tstring name;\n}a[35];\nint find_wei(string you_should_find)//\u66b4\u529b\u679a\u4e3e\u641c\u7d22\u540d\u5b57\u7684\u5bf9\u5e94\u7f16\u53f7\uff08\u6211\u592a\u83dc\u4e86\u4e0d\u4f1a\u7528stl\uff09\n{\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tif(a[i].name==you_should_find)return i;\n\t}\n}\nint suan(int xxx)//\u8ba1\u7b97\u52a0\u5165\u8fd9\u4e2a\u6b66\u5c06\u53ef\u4ee5\u589e\u52a0\u591a\u5c11\u201c\u8054\u52a8\u201d\u80fd\u529b\u503c\uff0c\u5176\u4e2d\u56e0\u4e3a\u53ea\u7b97\u4e00\u6b21\uff0c\u6240\u4ee5\u628a\u8fd9\u4e2a\u4e4b\u524d\u9009\u7684\u6b66\u5c06\u52a0\u8d77\u6765\u5c31\u53ef\u4ee5\u4e86\u3002\n{\n\tint s=0;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tif(visited[i])s+=x[i][xxx];\n\t}\n\treturn s;\n}\nvoid dfs(int ren,int nowwei,int k)//\u4e3b\u4f53\uff0cren\u662f\u73b0\u5728\u9009\u7684\u4eba\u6570\uff0cnowwei\u662f\u73b0\u5728\u8981\u9009\u62e9\u7684\u6b66\u5c06\u4f4d\u7f6e\uff0ck\u662f\u5f53\u524d\u80fd\u529b\u503c\n{\n\tif(ren==6)//\u9009\u597d\u4e86\uff0c\u6bd4\u8f83\n\t{\n\t\tans=max(ans,k);\n\t}\n\telse\n\t{\n\t\tfor(int i=nowwei;i<=n;i++)//\u91cd\u590d\u6267\u884c\uff1a\u5982\u679c\u9009\u7b2ci\u4e2a\u6b66\u5c06\n\t\t{\n\t\t\tvisited[i]=1;//visited\u4ee3\u8868\u662f\u5426\u9009\u8fc7\u8fd9\u4e2a\u6b66\u5c06\uff0c\u4fbf\u4e8e\u8ba1\u7b97\u8054\u52a8\u80fd\u529b\u503c\n\t\t\tint fff=k+suan(i)+a[i].zhanli;//\u52a0\u4e0a\u6218\u529b\n\t\t\tdfs(ren+1,i+1,fff);//\u4e0b\u4e00\u4e2a\u6b66\u5c06\n\t\t\tvisited[i]=0;//\u7b97\u597d\u4e86\uff0c\u5c31\u4e0d\u9009\u4ed6\n\t\t}\n\t}\n}\nint main()\n{\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>a[i].name>>a[i].zhanli;//\u8bfb\u5165\u540d\u5b57\u4e0e\u6218\u529b\n\t}\n\tstring ai,bi;\n\tint sum;\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tcin>>ai>>bi>>sum;\n\t\tint aci=find_wei(ai),bci=find_wei(bi);//\u67e5\u627e\u8fd9\u4e9b\u6b66\u5c06\u7684\u540d\u5b57\n\t\tx[aci][bci]+=sum;x[bci][aci]+=sum;//\u539f\u6765\u4e24\u4e2a\u6b66\u5c06\u4e4b\u95f4\u53ef\u80fd\u6709\u591a\u6b21\u8054\u52a8\u554a\uff0c\u8003\u573a\u4e0a30\u5206\u5c31\u8fd9\u6837\u6ca1\u4e86\n\t}\n\tdfs(0,0,0);//\u5927\u6cd5\u5e08000\n\tcout<<ans;//\u8f93\u51fa\u5373\u53ef\n\treturn 0;\n}\n```\n",
        "postTime": 1585402170,
        "uid": 136931,
        "name": "chenpengda",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P6248 \u3010\u51c6\u5907\u6218\u6597\uff0c\u9009\u62e9\u4f60\u7684\u82f1\u96c4\u3011"
    },
    {
        "content": "\u4e3a\u4ec0\u4e48\u611f\u89c9\u5176\u4ed6\u4eba\u7684 dp \u90fd\u8fd9\u4e48\u590d\u6742\u5462 qaq\n\n\u76f4\u63a5\u7ed9\u6240\u6709\u4eba\u6807\u53f7\uff0c\u679a\u4e3e\u9009\u8c01\uff0c\u7136\u540e\u5224\u65ad\u4e00\u4e0b\u4e24\u4e24\u4e4b\u95f4\u5982\u679c\u4e00\u8d77\u9009\u6709\u591a\u5c11\u7684\u52a0\u6210\u3002\n\n\u5982\u679c\u8fd9\u4e24\u4e2a\u4eba\u6ca1\u6709\u7ec4\u5408\uff0c\u90a3\u4e48\u4e00\u8d77\u9009\u7684\u52a0\u6210\u5c31\u662f $0$\u3002\n\n\u590d\u6742\u5ea6 $C_{n}^6\\times 6^2$ \uff08\u53ef\u80fd\u7a0d\u5fae\u591a\u4e00\u70b9\u70b9\uff09\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read(){\n\tregister int x=0;\n\tregister bool f=0;\n\tregister char c=getchar();\n\twhile(c<'0'||c>'9'){\n\t\tif(c=='-') f=1;\n\t\tc=getchar();\n\t}\n\twhile(c>='0'&&c<='9'){\n\t\tx=(x<<3)+(x<<1)+c-48;\n\t\tc=getchar();\n\t}\n\treturn f?-x:x;\n}\nchar cr[200];int tt;\ninline void print(register int x,register char k='\\n') {\n    if(!x) putchar('0');\n    if(x < 0) putchar('-'),x=-x;\n    while(x) cr[++tt]=x%10+'0',x/=10;\n    while(tt) putchar(cr[tt--]);\n    putchar(k);\n}\nmap<string,int> mp;\nstruct yx{\n\tint a;\n\tstring s;\n}y[100];\nbool cmp(yx a,yx b){\n\treturn a.a>b.a;\n}\nint n,b[100][100],m,c[100],mx;\nint tmp[100],now;\nvoid chk(){\n\tint k=0;\n\tfor(int i=1;i<=6;i++){\n\t\tk+=y[tmp[i]].a;\n\t}\n\tfor(int i=1;i<=6;i++){\n\t\tfor(int j=i;j<=6;j++){\n\t\t\tk+=b[tmp[i]][tmp[j]];\n\t\t}\n\t}\n\tmx=max(mx,k);\n}\nvoid dfs(int g){\n\tif(g>n) return;\n\ttmp[++now]=g;\n\tif(now==6){\n\t\tchk();\n\t}\n\telse{\n\t\tdfs(g+1);\n\t}\n\tnow--;\n\tdfs(g+1);\n}\nint main(){\n\tn=read();m=read();\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>y[i].s;\n\t\ty[i].a=read();\n\t\tmp[y[i].s]=i;\n\t}\n\tfor(int i=1;i<=m;i++){\n\t\tstring s1,s2;\n\t\tcin>>s1>>s2;\n\t\tc[i]=read();\n\t\tb[mp[s1]][mp[s2]]+=c[i];\n\t\tb[mp[s2]][mp[s1]]+=c[i];\n\t}\n\tdfs(1);\n\tprint(mx);\n\treturn 0;\n}\n```",
        "postTime": 1585401768,
        "uid": 120074,
        "name": "BFqwq",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P6248 \u3010\u51c6\u5907\u6218\u6597\uff0c\u9009\u62e9\u4f60\u7684\u82f1\u96c4\u3011"
    },
    {
        "content": "\u63a8\u9500\u4e00\u4e0b\u65b0\u535a\u5ba2\uff1ahttps://yce3216037.github.io/post/luo-gu-p6248-ti-jie/\n\n\u8fd9\u9053\u9898\u76ee\u662f\u4e00\u4e2a\u641c\u7d22\u9898\uff0c\u6570\u636e\u8303\u56f4\u5f88\u5c0f\uff0c\u4f46\u662f\u4e0d\u53ef\u4ee5\u76f4\u63a5\u66b4\u641c\uff0c\u5426\u5219\u76f4\u63a5 TLE\uff0c\u4f46\u662f\u7531\u4e8e\u9898\u76ee\u8bf4\u9009\u62e9 $6$ \u4e2a\u4eba\uff0c\u6240\u4ee5\u53ef\u4ee5\u7565\u52a0\u526a\u679d\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4ece $2^n\\times m$ \u8f6c\u4e3a $C_n^6\\times m$ \u4e86\uff0c\u53ef\u4ee5\u901a\u8fc7\u672c\u9898\u3002\u8f93\u5165\u7684\u540d\u5b57\u53ef\u4ee5\u7528 map \u5b58\u8d77\u6765\uff0c\u800c\u4e14\u53ef\u4ee5\u5229\u7528\u4f4d\u8fd0\u7b97\u7701\u53bb\u56de\u6eaf\u3002\n```cpp\n#include<map>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nconst int N = 30 + 10;\nFILE *fin, *fout;\ninline int read(int &x) {\n\tchar c = 0; int f = x = 0;\n\twhile (c < 48 || c > 57) {\n\t\tif (c == -1) return 0;\n\t\tif (c == '-') f = 1; c = fgetc(fin);\n\t}\n\twhile (c > 47 && c < 58) x = (x << 3) + (x << 1) + (c & 15), c = fgetc(fin);\n\tif (f) x = -x; return 1;\n}\ninline int read(string &s) {\n\ts = \"\"; char c = 0;\n\twhile (c == 32 || c == 10 || c == 13 || c == 0) c = fgetc(fin); if (c == -1) return 0;\n\twhile (!(c == 32 || c == 10 || c == 13 || c == 0 || c == -1)) s += c, c = fgetc(fin);\n\treturn 1;\n}\ntemplate<class T, class... Args> inline int read(T &x, Args&... args) {\n\treturn read(x) + read(args...);\n}\ninline int write(int x) {\n\tif (x < 0) return fputc(45, fout), write(-x);\n\tif (x > 9) write(x / 10);\n\treturn fputc((x % 10) | 48, fout), 1;\n}\nstring name, u, v;\nmap<string, int> ma;//ma[s]\u8868\u793a\u540d\u5b57\u4e3as\u7684\u4eba\u7684\u4e0b\u6807\nint n, m, ans, a[N], k[N], gay[N];//a[i]\u8868\u793a\u7b2ci\u4e2a\u4eba\u7684\u521d\u59cb\u5b9e\u529b\uff0ck[i]\u8868\u793a\u7b2ci\u5bf9\u4eba\u65b0\u589e\u7684\u5b9e\u529b\uff0cgay[i]\u8868\u793a\u7b2ci\u5bf9\u4eba\u7684\u4e24\u4e2a\u4e0b\u6807\uff0c\u4ece0\u5f00\u59cb\uff0c\u4f8b\u598210(1010)\u8868\u793a1\u53f7\u548c3\u53f7\u53ef\u4ee5\u65b0\u589e\u5b9e\u529b\nvoid dfs(int x, int y, int res, int bit) {//x\u8868\u793a\u73b0\u5728\u5230\u4e86\u7b2cx\u4e2a\u4eba\uff0cy\u8868\u793a\u9009\u62e9\u4e86y\u4e2a\u4eba\uff0cres\u8868\u793a\u76ee\u524d\u7684\u603b\u5b9e\u529b\uff0cbit\u8868\u793a\u9009\u62e9\u7684\u4eba\uff0c\u4f8b\u598222(10110)\u8868\u793a\u9009\u62e9\u4e861\u30012\u30014\u53f7\n\tif (n - x + y < 6) return;//\u8981\u662f\u5230\u7ed3\u5c3e\u90fd\u4e0d\u80fd\u9009\u591f6\u4e2a\u4eba\uff0c\u76f4\u63a5\u8fd4\u56de\n\tif (y == 6) {//\u5982\u679c\u9009\u62e9\u4e866\u4e2a\u4eba\u4e86\n\t\tfor (int i = 0; i < m; ++i)//\u6bcf\u4e2agay\u90fd\u679a\u4e3e\u4e00\u904d\n\t\t\tif ((bit & gay[i]) == gay[i])\n\t\t\t\tres += k[i];\n\t\tans = max(ans, res);\n\t\treturn;\n\t}\n\tif (x == n) return;\n\tdfs(x + 1, y, res, bit);//\u4e0d\u9009\n\tdfs(x + 1, y + 1, res + a[x], bit | (1 << x));//\u9009\uff0c\u6216\u4e0a\u7b2cx\u4e2a\u4eba\n}\nint main() {\n\t#ifdef ONLINE_JUDGE\n\tfin = stdin;\n\tfout = stdout;\n\t#else\n\tfin = fopen(\"P6248.in\", \"rb\");\n\tfout = fopen(\"P6248.out\", \"wb\");\n\t#endif\n\tread(n, m);\n\tfor (int i = 0; i < n; ++i) read(name, a[i]), ma[name] = i;//\u7528map\u5b58\u4e0b\u540d\u5b57\n\tfor (int i = 0; i < m; ++i) read(u, v, k[i]), gay[i] = (1 << ma[u]) | (1 << ma[v]);//\u5c06\u4e24\u4e2a\u4eba\u7ed1\u5728\u4e00\u8d77\n\tdfs(0, 0, 0, 0);\n\twrite(ans);\n\treturn 0;\n}\n```",
        "postTime": 1585397008,
        "uid": 181378,
        "name": "Alarm5854",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P6248 \u3010\u51c6\u5907\u6218\u6597\uff0c\u9009\u62e9\u4f60\u7684\u82f1\u96c4\u3011"
    }
]