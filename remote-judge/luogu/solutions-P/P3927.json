[
    {
        "content": "\u4e00\u4e2a\u6570\u5728\u5341\u8fdb\u5236\u8f6ck\u8fdb\u5236\u65f6\uff0c\u6211\u4eec\u7528\u77ed\u9664\u6cd5\u6765\u505a\u3002\u5bb9\u6613\u53d1\u73b0\uff0c\u5982\u679c\u8fde\u7eed\u6574\u9664p\u4e2ak\uff0c\u5219\u672b\u5c3e\u6709p\u4e2a0\u3002\n\n\n\u4e8e\u662f\u95ee\u9898\u8f6c\u5316\u4e3an!\u80fd\u8fde\u7eed\u6574\u9664\u51e0\u4e2ak\u3002\n\n\n\u6211\u4eec\u5148\u7ed9k\u5206\u89e3\u8d28\u56e0\u6570\uff0c\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a\u8d28\u56e0\u6570\uff0c\u6c42\u51fan!\u91cc\u6709\u591a\u5c11\u4e2a\u8d28\u56e0\u6570\uff0c\u7136\u540e\u5982\u679ck\u91cc\u6709x\u4e2a\u8fd9\u4e2a\u8d28\u56e0\u6570\uff0c\u5219\u6c42\u51fa\u7684\u7ed3\u679c\u9664\u4ee5x\u3002\u6700\u540e\u7684\u7b54\u6848\u4e3a\u8fd9\u4e9b\u7ed3\u679c\u7684\u6700\u5c0f\u503c\u3002\n\n\n\u5982\u4f55\u6c42n!\u91cc\u5305\u542b\u8d28\u56e0\u6570\u7684\u4e2a\u6570\uff1f\u7531\u4e8en!\u662f1\u4e58\u5230n\uff0c\u6240\u4ee5\u6bcfp(p\u662f\u8d28\u6570)\u4e2a\u6570\u91cc\u4e00\u5b9a\u6709\u4e00\u4e2ap\uff0c\u7136\u540e\u8fd9\u4e9b\u6570\u4e2d\u6bcfp\u4e2a\u91cc\u4e00\u5b9a\u8fd8\u6709\u4e2ap\uff0c\u4ee5\u6b64\u7c7b\u63a8\u5373\u53ef\u7b97\u51fa\u3002\n\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u7ea6\u662f\u03b8(sqrt(k)log\u2061n)\u3002\n\n```cpp\n#include<cstdio>\nusing namespace std;\nlong long n,k,p[200002],c[200002],ans;\nint cnt;\nint main(){\n    scanf(\"%lld%lld\",&n,&k);\n    cnt=0;\n    for(long long i=2;i*i<=k;++i)\n    if(k%i==0){\n        p[++cnt]=i;\n        c[cnt]=0;\n        while(k%i==0){\n            ++c[cnt];\n            k/=i;\n        }\n    }\n    if(k>1){\n        p[++cnt]=k;\n        c[cnt]=1;\n    }\n    ans=20000000000000;\n    for(int i=1;i<=cnt;++i){\n        long long t=0,now=n;\n        while(now)t+=now/=p[i];\n        t/=c[i];\n        if(t<ans)ans=t;\n    }\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n```",
        "postTime": 1508049964,
        "uid": 6813,
        "name": "mrsrz",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    },
    {
        "content": "## PART 0 : \u9898\u76ee\u5927\u610f\n\u672c\u9898\u7684\u610f\u601d\u662f\u8981\u6211\u4eec\u5c06\u4e00\u4e2a\u5341\u8fdb\u5236\u6570\u8f6c\u6362\u6210 $K$ \u8fdb\u5236\u3002\n\n\u770b\u5230\u9898\u76ee\u6570\u636e\u8303\u56f4\uff0c\u4f60\u4e5f\u8bb8\u4f1a\u65e0\u4ece\u4e0b\u624b\uff0c\u65e2\u7136\u7406\u89e3\u4e86\u9898\u76ee\uff0c\u6211\u4eec\u5c31\u5f00\u59cb\u505a\u9898\u3002\n\n## PART 1 : \u601d\u8def\u5206\u6790\n\u6211\u4eec\u770b\u5230\u8f6c\u6362\u8fdb\u5236\u7684\u9898\u76ee\uff0c\u9996\u5148\u60f3\u5230\u7684\u80af\u5b9a\u662f\u77ed\u9664\u6cd5\u505a\uff0c\u5f88\u5bb9\u6613\u7684\u5c31\u4f1a\u53d1\u73b0\uff0c\u672b\u5c3e\u6709\u591a\u5c11\u4e2a $0$\uff0c\u4e5f\u5c31\u662f\u80fd\u6574\u9664 $K$ \u7684\u591a\u5c11\u6b21\u65b9\u3002\n\n\u4e8e\u662f\u95ee\u9898\u8f6c\u5316\u4e3a $n!$ \u80fd\u591f\u6574\u9664 $K$ \u7684\u51e0\u6b21\u65b9\u3002\n\n\u71c3\u9e45\uff0c$n$ \u6700\u5927\u53ef\u4ee5\u5230 $10^{12}$\uff0c$n!$ \u5fc5\u7136\u662f\u4e00\u4e2a\u5929\u6587\u6570\u5b57\uff0c\u4e8e\u662f\u6211\u4eec\u60f3\u5230\u552f\u4e00\u5206\u89e3\u5b9a\u7406\uff0c\u628a $n!$ \u548c $K$ \u90fd\u5206\u89e3\u6210\u8d28\u6570\u76f8\u4e58\u7684\u5f62\u5f0f\uff0c\u518d\u7528 $n!$ \u548c $K$ \u6240\u5305\u542b\u7684 $K$ \u7684\u8d28\u56e0\u6570\u7684\u6b21\u6570\u76f8\u9664\uff0c\u53d6\u6700\u5c0f\u503c\u5c31\u5f97\u5230\u4e86\u7b54\u6848\u4e86\u3002\n\n\u6211\u76f8\u4fe1\u5927\u90e8\u5206\u4eba\u770b\u5230\u8fd9\u91cc\u5c31\u5df2\u7ecf\u53ef\u4ee5\u5f00\u59cb\u7801\u4ee3\u7801\u4e86\uff0c\u5982\u679c\u8fd8\u6709\u4e0d\u660e\u767d\u7684\uff0c\u5f80\u4e0b\u770b\u3002\n\n## PART 2 \uff1a\u7b97\u6cd5\u5b9e\u73b0\n\u6709\u4eba\u5c31\u95ee\u4e86\uff0c\u54ce\u4f60\u90a3\u4e2a $n!$ \u7684\u8d28\u56e0\u6570\u4f60\u4e5f\u6c42\u4e0d\u51fa\u6765\u554a\u3002\u5176\u5b9e\u8fd9\u662f\u6ca1\u6709\u5fc5\u8981\u7684\uff0c\u524d\u9762\u8bf4\u8fc7\uff0c\u53ea\u8981\u6c42 $n!$ \u548c $K$ \u6240\u5305\u542b\u7684 $K$ \u7684\u8d28\u56e0\u6570\u7684\u6b21\u6570\u76f8\u9664\u5c31\u53ef\u4ee5\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u6c42\u51fa $K$ \u7684\u8d28\u56e0\u6570\u6765\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u90a3\u4e48\u600e\u4e48\u6c42 $n!$ \u4e2d\u90a3\u4e9b\u8d28\u56e0\u6570\u7684\u6b21\u6570\u5462? \u7531\u4e8e $n!$ \u662f\u4ece $1$ \u4e00\u76f4\u4e58\u5230 $n$\uff0c\u6240\u4ee5\u6bcf $p$ \u4e2a\u6570\u91cc\u5c31\u6709\u4e00\u4e2a\u8d28\u6570 $p$\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u7528 $n$ \u4e00\u76f4\u9664\u4ee5 $p$ \u5c31\u53ef\u4ee5\u4e86\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\nlong long frequency(long long x,long long y){\n    long long cnt=0;\n    while(x>=y){\n        cnt+=x/y;\n        x/=y;\n    }\n    return cnt;\n}\n```\n\n\u5b9e\u73b0\u4e86\u8fd9\u4e9b\u4ee5\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5199\u51fa AC \u4ee3\u7801\u4e86\uff0c\u5982\u679c\u8fd8\u6709\u4e0d\u61c2\u7684\uff0c\u8bf7\u770b\u4e0b\u9762\u3002\n\n## PART 3 : AC \u4ee3\u7801\n\u4e0b\u9762\u662f AC \u4ee3\u7801\uff0c\u672c\u4eba\u7801\u98ce\u6781\u4e11\uff0c\u8bf7\u8c05\u89e3\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define INF 10000000000000\nusing namespace std;\nlong long n,k,num,ans=INF;\nlong long p[10000100],p_k[10000100],p_n[10000100];\nlong long frequency(long long x,long long y){\n    long long cnt=0;\n    while(x>=y){\n        cnt+=x/y;\n        x/=y;\n    }\n    return cnt;\n}\nint main(){\n    cin>>n>>k;\n    for(int i=2;i<sqrt(k+0.5);i++){\n    \tif(k%i==0){\n    \t\tp[num]=i;\n    \t\tp_k[num]=0;\n    \t\twhile(k%i==0){\n    \t\t\tp_k[num]++;\n    \t\t\tk/=i;\n\t\t\t}\n\t\t\tnum++;\n\t\t}\n\t}\n    if(k>1){\n        p[num]=k;\n        p_k[num++]=1;\n    }\n    memset(p_n,-1,sizeof(p_n));\n    for(int i=0;i<num;i++){\n    \tp_n[i]=frequency(n,p[i]);\n\t}\n\tfor(int i=0;i<num;i++){\n\t\tans=min(ans,p_n[i]/p_k[i]);\n\t}\n\tcout<<ans;\n}\n```\n\n\u672c\u4eba\u849f\u84bb\uff0c\u7b2c\u4e00\u6b21\u53d1\u9898\u89e3\uff0c\u5404\u4f4d\u5de8\u4f6c\u52ff\u55b7\uff0c\u6709\u4ec0\u4e48\u95ee\u9898\u53ef\u4ee5\u6307\u51fa\u554a\u3002",
        "postTime": 1628219881,
        "uid": 547908,
        "name": "Hoshino_kaede",
        "ccfLevel": 7,
        "title": "P3927 SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial"
    },
    {
        "content": "## \u601d\u8def\u8bb2\u89e3\uff1a\n\n\u672c\u9898\u5176\u5b9e\u5c31\u662f\u5728\u95ee $n!$ \u4e2d\u542b\u6709\u591a\u5c11\u4e2a $k$ \u56e0\u5b50\u3002\n\n\u9996\u5148\u8003\u8651\u5c06 $k,n$ \u8d28\u56e0\u6570\u5206\u89e3\uff0c\u4e0d\u59a8\u8bbe $k=\\prod\\limits_{i=1}^n a_i^{\\alpha_{i}}$\uff0c\u82e5 $n$ \u4e2d\u542b\u6709\u8fd9\u4e9b\u8d28\u56e0\u5b50\u5206\u522b $\\beta_{i}$ \u4e2a\uff0c\u90a3\u4e48\u6700\u7ec8\u7ed3\u679c\u5c31\u662f $\\min(\\frac{\\beta_{1}}{\\alpha_{1}},\\frac{\\beta_{2}}{\\alpha_{2}} \\cdots \\frac{\\beta_{n}}{\\alpha_{n}})$\uff08**\u5747\u5411\u4e0b\u53d6\u6574**\uff09\n\n\u5177\u4f53\u5199\u6cd5\u5982\u4e0b\uff1a\n\n\u5148\u5bf9 $k$ \u8fdb\u884c\u5206\u89e3\uff0c\u6bcf\u5206\u89e3\u51fa\u4e00\u4e2a\u8d28\u56e0\u6570\uff0c\u5c31\u8ba1\u7b97\u5728 $n!$ \u4e2d\u542b\u6709\u591a\u5c11\u4e2a\u6b64\u8d28\u56e0\u5b50\u3002\u6700\u540e\u5c06\u4ed6\u4eec\u7684\u5546\uff08\u5411\u4e0b\u53d6\u6574\uff09\u53d6\u6700\u5c0f\u5373\u53ef\u3002\n\n## AC CODE\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long nm(long long n,long long m)\n{\n\tlong long ans=0;\n\twhile(n)\n\t{\n\t\tans+=n/m;\n\t\tn/=m;\n\t}\t\n\treturn ans;\n}\nint main(){\n\tlong long n,m;\n\tcin>>n>>m;\n\tlong long ans=0;\n\tlong long res=9e18;\n\tint max=1;\n\tfor(long long i=max+1;i<=sqrt(m);i++)\n\t{\n\t\tif(m%i)continue;\n\t\tmax=i; \n\t\tans=0;\n\t\twhile(m%i==0)\n\t\t{\n\t\t\tans++;\n\t\t\tm/=i;\n\t\t}\n\t\tres=min(res,nm(n,i)/ans);\n\t}\n\tif(m>1)res=min(res,nm(n,m));\n\tif(res==9e18)\n\t{\n\t\tcout<<0;\n\t\treturn 0;\n\t}\n\tcout<<res;\n\treturn 0;\n}\n\n```\n\n\u8c22\u8c22\u89c2\u770b~",
        "postTime": 1646465631,
        "uid": 575320,
        "name": "yinhy09",
        "ccfLevel": 5,
        "title": "P3927\u9898\u89e3"
    },
    {
        "content": "### 1. \u9898\u610f\n\u629b\u53bb\u4e0d\u592a\u957f\u7684\u80cc\u666f\uff0c\u91cd\u70b9\u53ea\u6709\u4e00\u53e5\u8bdd\u2014\u2014\n\n**\u4e00\u4e2a\u6570\u7684\u9636\u4e58\u5728 k \u8fdb\u5236\u8868\u793a\u4e0b\u672b\u5c3e 0 \u7684\u4e2a\u6570\u3002**\n\n\u5373\u4e3a\u6240\u6c42\u3002\n### 2. \u4ec0\u4e48\u662f k \u8fdb\u5236\u4e0b\u7684\u672b\u5c3e 0\uff1f\n\u5047\u8bbe\u5728 a \u8fdb\u5236\u4e0b\u6709\u4e00\u4e2a\u6570 $x=(1100)_a$\u3002\n\n\u90a3\u4e48 x \u5728\u5341\u8fdb\u5236\u4e0b\u7684\u503c\u4e3a \n\n$ 0\\times 1+0\\times a+1\\times a^2+1\\times a^3$\u3002\n \n\u53ef\u4ee5\u7b80\u5199\u6210 $a^2 \\times (1+a)$\u3002\n\n\u53ef\u5f97\u51fa $x \\bmod a^2=0$ \u800c $x \\bmod a^3 \\ne 0$\u3002\n\n\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u51fa\u7ed3\u8bba\u2014\u2014**\u5f53\u4e00\u4e2a\u6570\u6a21 a \u7684 x \u6b21\u65b9\u662f 0\uff0c\u4e14\u6a21 a \u7684 (x+1) \u6b21\u65b9\u4e0d\u7b49\u4e8e 0\uff0c\u90a3\u4e48\u8be5 a \u8fdb\u5236\u6570\u7684\u672b\u5c3e\u6709 x \u4e2a 0\u3002**\n\n### 3. \u672b\u5c3e 0 \u600e\u4e48\u6c42\uff1f\uff08\u96be\u5ea6\uff1a\u5c0f\u5b66\u5965\u6570\uff09\n\u6839\u636e\u4e0a\u6587\u53ef\u77e5\uff0c\u6c42\u6709\u51e0\u4e2a 0 \u5373\u6c42\u8be5\u6570\u4e2d\u6709\u51e0\u4e2a a\u3002\n\n\u90a3\u4e48\u5bf9\u4e8e $n!$ \uff0c\u6211\u4eec\u8981\u6c42\u7684\u5c31\u662f\u5b83\u5f53\u4e2d\u6709\u51e0\u4e2a k\u3002\n\n\u8f6c\u6362\u4e00\u4e0b\u601d\u8def\uff0c\u76f8\u5f53\u4e8e\u6c42\u5bf9\u4e8e k \u7684\u6bcf\u4e00\u4e2a\u8d28\u56e0\u6570 $a^b$\uff0c\u6211\u4eec\u8981\u6c42\u51fa a \u5728 $n!$ \u4e2d\u51fa\u73b0\u7684\u6b21\u6570 c,\n\n$$ans=\\min(ans,\\left\\lfloor\\dfrac{c}{b}\\right\\rfloor )$$\n\n\u6700\u540e\u4e00\u4e2a\u95ee\u9898\uff0c\u5bf9\u4e8e $n!$\uff0c\u6211\u4eec\u8be5\u600e\u4e48\u6c42\u5b83\u7684\u91cc\u9762\u6709\u51e0\u4e2a a?\n\n\u9996\u5148\uff0c\u8003\u8651 $n!$ \u4e2d\u6709\u51e0\u4e2a a \u7684\u500d\u6570\uff1a\n$$n\\div a$$ \n\n\u7136\u540e\u8003\u8651 $n!$ \u4e2d\u6709\u51e0\u4e2a $a^2$ \u7684\u500d\u6570\uff1a\n$$n\\div a^2$$\n\u4ee5\u6b64\u7c7b\u63a8\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u6c42\u6cd5\uff1a\n\n$$ans=\\left\\lfloor\\dfrac{n}{a}\\right\\rfloor + \\left\\lfloor\\dfrac{n}{a^2}\\right\\rfloor+\u2026\u2026+\\left\\lfloor\\dfrac{n}{a^b}\\right\\rfloor(n \\ge a^b)$$\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\nlong long ge(long long x)\n{\n\tlong long sum=0;\n\tlong long y=n;\n\twhile(y>=x)\n\t{\n\t\tsum+=y/x;\n\t\ty/=x;\n\t}\n\treturn sum;\n}\n\n```\n\u9898\u89e3\u90e8\u5206\u5230\u6b64\u4e3a\u6b62\u3002\n\n### 4. \u559c\u95fb\u4e50\u89c1\u7684\u4ee3\u7801\u90e8\u5206\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nlong long n,m;//\u6ce8\u610f\u4e00\u5b9a\u8981\u5f00 long long\u3002\n\nlong long ge(long long x)// n! \u4e2d\u6709\u51e0\u4e2a\u56e0\u6570 a\u3002\n{\n\tlong long sum=0;\n\tlong long y=n;\n\twhile(y>=x)\n\t{\n\t\tsum+=y/x;\n\t\ty/=x;\n\t}\n\treturn sum;\n}\n\n\nvoid fen(long long x)\n{\n\tlong long sum=0;\n\tlong long ans=9223372036854775807;//\u6ce8\u610f\u8fd9\u91cc\u4e0d\u80fd\u7528 INT_MAX;\u3002\n\tfor(long long i=2;i<=sqrt(x);i++)\n\t{\n\t\tif(x%i==0)\n\t\t{\n\t\t//\tcout<<i<<endl;\n\t\t\tsum=0;\n\t\t\twhile(x%i==0)\n\t\t\t{\n\t\t\t\tsum++;\n\t\t\t\tx/=i;\n\t\t\t}\n\t\t\tans=min(ans,ge(i)/sum);\n\t\t}\n\t}\n\tif(x!=1) ans=min(ans,ge(x));//\u6ce8\u610f\u5982\u679c\u6ca1\u6709\u9664\u5c3d\uff0c\u8981\u7279\u5224\u3002\n\tprintf(\"%lld\",ans);\n\treturn;\n}\n\nint main()\n{\n\tscanf(\"%lld%lld\",&n,&m); \n\tfen(m);\n\treturn 0;\n}\n\n```\n\u849f\u84bb\u7b2c\u4e00\u6b21\u5199\u9898\u89e3\uff0c\u82e5\u6709\u5efa\u8bae\u8bf7\u6beb\u4e0d\u7559\u60c5\u5730\u63d0\u51fa\u6765\uff0c\u8c22\u8c22\u3002",
        "postTime": 1634120080,
        "uid": 185223,
        "name": "huangziqin",
        "ccfLevel": 0,
        "title": "P3927 SAC E#1 \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u7684\u9898\u89e3"
    },
    {
        "content": "\u95ee $n!$ \u7684 $k$ \u8fdb\u5236\u4e0b\u6709\u51e0\u4e2a\u540e\u5bfc $0$\u3002\n\n\u8f6c\u5316\u6210 $n!$ \u80fd\u6700\u591a\u9664\u4ee5\u51e0\u6b21 $k$\u3002\n\n\u6ce8\u610f\u5230 $k$ \u662f\u5408\u6570\uff0c\u5e76\u4e0d\u80fd\u76f4\u63a5\u7528\u5904\u7406\u8d28\u6570\u7684\u65b9\u6cd5\u505a\u3002\u4e8e\u662f\u4f60\u628a $k$ \u5206\u89e3\u8d28\u56e0\u6570\uff0c\u628a\u5176\u4e2d $p_i^{\\alpha_i}$ \u7684\u9879\u638f\u51fa\u6765\uff0c\u6211\u4eec\u6c42\u51fa $n!$ \u4e2d\u6709\u51e0\u4e2a $p_i$ \u56e0\u5b50\uff0c\u9664\u4ee5 $\\alpha_i$ \u53d6\u4e0b\u53d6\u6574\uff0c\u5c31\u80fd\u5f97\u51fa\u8fd9\u4e00\u9879\u80fd\u9664\u591a\u5c11\u904d\uff0c\u628a\u6240\u6709\u9879\u638f\u51fa\u6765\u6c42\u4e00\u4e0b\uff0c\u53d6\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u4ece[FACT1](https://www.luogu.com.cn/problem/SP4941)\u90a3\u91cc\u8d3a\u6765\u4e86 pollard-rho\uff0c\u590d\u6742\u5ea6 $O(k^\\frac{1}{4}+\\beta d(k))$\uff0c$\\beta$ \u662f\u7384\u5b66\u56e0\u5b50\u3002\n\n```cpp\n#define int long long\n#define maxn 100010\nint ksm(int a,int b,int p){\n\tint ans=1;\n\tfor(;b;b>>=1,a=(__int128)a*a%p)\n\tif(b&1)ans=(__int128)ans*a%p;\n\treturn ans;\n}\nbool MR(int p){\n    if(p<2)return 0;\n    if(p<=3)return 1;\n    int d=p-1,r=0;\n    while(!(d&1))d>>=1,r++;\n    for(int k=1;k<=10;k++){\n        int a=rand()%(p-2)+2;\n        int x=ksm(a,d,p);\n        if(x==1||x==p-1)continue;\n        for(int i=0;i<r-1;i++){\n            x=(__int128)x*x%p;\n            if(x==p-1)break;\n        }\n        if(x!=p-1)return 0;\n    }\n    return 1;\n}\nint f(int x,int c,int n){\n\treturn ((__int128)x*x+c)%n;\n}\nint PR(int x){\n\tint s=0,t=0;\n\tint c=rand()%(x-1)+1;\n\tfor(int goal=1,val=1;;goal<<=1,s=t,val=1){\n\t\tfor(int step=1;step<=goal;step++){\n\t\t\tt=f(t,c,x);\n\t\t\tval=(__int128)val*abs(t-s)%x;\n\t\t\tif(step%63==0){\n\t\t\t\tint d=__gcd(val,x);\n\t\t\t\tif(d>1)return d;\n\t\t\t}\n\t\t}\n\t\tint d=__gcd(val,x);\n\t\tif(d>1)return d;\n\t}\n}\nmap<int,int>M;\nvoid fac(int x){\n\tif(MR(x))return M[x]++,void();\n\tint p=x;\n\twhile(p==x)p=PR(x);\n\tfac(p),fac(x/p);\n}\nint n,k;\nint ans=LLONG_MAX;\nsigned main(){\n\tcin>>n>>k;\n\tfac(k);\n\tfor(map<int,int>::iterator it=M.begin();it!=M.end();++it){\n\t\tint u=it->first;\n\t\tint res=0,g=n;\n\t\twhile(g){\n\t\t\tres+=g/u;\n\t\t\tg/=u;\n\t\t}\n\t\tans=min(ans,res/it->second);\n\t}\n\tcout<<ans;\n}\n```\n[\u53cc\u500d\u7ecf\u9a8c](https://www.luogu.com.cn/problem/CF1114C)",
        "postTime": 1631793493,
        "uid": 100325,
        "name": "peterwuyihong",
        "ccfLevel": 7,
        "title": "P3927 SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial \u8bb0\u5f55"
    },
    {
        "content": "\u601d\u8def\u5f88\u7b80\u5355\uff0c\u5148\u5bf9k\u5206\u89e3\u8d28\u56e0\u6570\uff0c\u5b58\u5165\u4e00\u4e2a\u6570\u7ec4\u4e2d\u53bb\u3002\n\n\u7136\u540e\u5bf9\u4e8en\u7684\u9636\u4e58\u5206\u89e3\u90a3\u4e2a\u6570\u7ec4\u7684\u8d28\u56e0\u6570\uff0c\u9664\u6570\u91cf\uff0c\u53d6\u6700\u5c0f\u503c\uff01\n\n\u521a\u5f00\u59cb\u5fd8\u7279\u5224tot==0\uff0cans\u5f00\u7684\u4e0d\u591f\u5927\uff01\n\n\n\u66f4\u5feb\u66f4\u7a33\u5b9a\u7684\u65b9\u6cd5RHO\u5927\u8d28\u6570\u5206\u89e3\uff0c\u6211\u61d2\u7684\u6253\u4e86\u3002\n\n\u4e0d\u4f1a\u7684\u53ef\u4ee5\u53c2\u8003\u6211\u4e4b\u524d\u7684BLOG[\uff08\u6c42\u4e00\u4e2a\u5f88\u5927\u6570\u7684\u6b27\u62c9\u51fd\u6570\uff09](http://blog.csdn.net/qq\\_35914587/article/details/78171711)\n\n\n\n\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#define ll long long\nusing namespace std;\nconst int maxm=1e7;\nll prime[maxm],cnt;\nbool vis[maxm];\nll z[maxm],num[maxm],tot;\nvoid pre()\n{\n    vis[1]=1;\n    for(int i=2;i<=1e7;i++)\n    {\n        if(!vis[i])\n         prime[++cnt]=i;\n        for(int j=1;j<=cnt&&i*prime[j]<=maxm;j++)\n         {\n            vis[i*prime[j]]=1;\n            if(i%prime[j]==0)\n             break;\n         }\n    }\n}\nint main()\n{\n    pre();\n    ll n,k;\n    scanf(\"%lld%lld\",&n,&k);\n    for(int j=1;j<=cnt&&k!=1;j++)\n    {\n        if(prime[j]>n) break;\n        if(k%prime[j]==0)\n         {\n            z[++tot]=prime[j];\n            while(k%prime[j]==0)\n             k/=prime[j],num[tot]++;\n         }\n    }\n    ll ans=1e17;\n    for(int i=1;i<=tot;i++)\n    {\n        ll t=n;\n        ll sum=0;\n        while(t)\n        {\n            t/=z[i];\n            sum+=t;\n        }\n        //printf(\"%lld\\n\",sum);\n        ans=min(ans,1ll*sum/num[i]);\n    }\n    ll w=1e17;\n    if(ans==w) ans=0;\n    /*printf(\"%lld\\n\",tot);\n    for(int i=1;i<=tot;i++)\n     printf(\"%lld %lld\\n\",z[i],num[i]);*/\n    printf(\"%lld\",ans);\n} \n\n```",
        "postTime": 1508050922,
        "uid": 19842,
        "name": "\u534a\u4ed9\u80e1\u5c0f\u6843",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    },
    {
        "content": "\u89e3\u91ca\u4e00\u4e0b\u8fd9\u6bb5\u7384\u5b66\u7edf\u8ba1\u8fc7\u7a0b\u3002\n\n```cpp\nvoid prime(long long nn,long long kk){\n    long long minn=0;//N\u4ee5\u5185nn\u7684\u4e2a\u6570\n    for(long long i=nn;i<=n;i*=nn)minn+=n/i;//\u8fd9\u91cc\u8868\u793a\u5148\u7edf\u8ba1N\u4ee5\u5185nn\u7684\u4e2a\u6570\uff0c\u518d\u7edf\u8ba1N\u4ee5\u5185nn^2\u7684\u4e2a\u6570\uff0c\u518d\u7edf\u8ba1N\u4ee5\u5185nn^3\u7684\u4e2a\u6570\u3002\u3002\u3002\u4e00\u76f4\u5230nn^k>N\u4e3a\u6b62\u3002\n    Min=min(Min,minn/kk);//0\u7684\u4e2a\u6570\u53d6\u6240\u6709\u5305\u542b\u7684\u56e0\u6570\u4e2d\u5305\u542b\u6700\u5c0f\u7684\n}\n```\n\u5b8c\u6574\u8fc7\u7a0b\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\nusing namespace std;\nlong long Min=0x7fffffffffff,n,k;\nvoid prime(long long nn,long long kk){\n    long long minn=0;\n    for(long long i=nn;i<=n;i*=nn)minn+=n/i;\n    Min=min(Min,minn/kk);\n}\nvoid P(long long int nn){\n    for(int i=2;i<=sqrt(nn);i++){\n        if(nn%i==0){\n            int q=0;\n            while(nn%i==0){\n                q++;\n                nn/=i;\n            }\n            prime(i,q);\n        }\n    }\n    if(nn!=1)prime(nn,1);\n}\nint main(){\n    //cout<<(long)2*3*5*7*11*13*18*19;\n    //freopen(\"factorial.in\",\"r\",stdin);\n    //freopen(\"factorial.out\",\"w\",stdout);\n    cin>>n;\n    cin>>k;\n    P(k);\n    cout<<Min;\n    return 0;\n}\n```",
        "postTime": 1507872507,
        "uid": 42156,
        "name": "feecle6418",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    },
    {
        "content": "\n\n\n```cpp\n#include<cstdio>\nlong long n,k,minn=0x7fffffffffffffffll,num,w,l,t;\nlong long ctl(long long n,long long k)\n{\n    long long m=0;\n    if(k==2)\n    {\n        while(n)\n        {\n            m+=(n>>1);\n            n>>=1;\n        }\n        return m;\n}\n//\u7531\u4e8e\u8003\u8651\u5230\u56e0\u5b502\u53ef\u80fd\u6709\u5f88\u591a\uff0c\u6240\u4ee5\u7528\u4f4d\u8fd0\u7b97\u7edf\u8ba1\n    while(n)\n    {\n        m+=n/k;\n        n/=k;\n    }\n    return m;\n}\nint main()\n{\n    while(scanf(\"%lld%lld\",&n,&k)==2)\n    {\n        while((k&1)==0)\n        {\n            k>>=1;\n            ++w;\n}\n//\u540c\u4e0a if(w) num=ctl(n,2)/w,(minn=minn>num? num:minn),w=0;\nfor(long long i=3;i*i<=k;i+=2)\n        {\n            while(k%i==0)\n            {\n                k/=i;\n                ++w;\n}\n//\u7edf\u8ba1\u56e0\u5b50i\u7684\u4e2a\u6570 \nif(w) num=ctl(n,i)/w,(minn=minn>num? num:minn),w=0;\nif(k==1) break;\n//\u5982\u679ck\u5206\u89e3\u5b8c\u4e86\uff0c\u5c31\u8df3\u51fa\u5faa\u73af\n        }\n        if(k>1) num=ctl(n,k),(minn=minn>num? num:minn);//\u5982\u679ck\u4ecd\u6709\u8d28\u6570\u56e0\u5b50\uff0c\u5fc5\u7136\u53ea\u67091\u4e2a \n        printf(\"%lld\\n\",minn);//\u8f93\u51fa \n        minn=0x7fffffffffffffffll;\n    }\n    return 0;\n}\n```",
        "postTime": 1507538876,
        "uid": 31293,
        "name": "Adove",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    },
    {
        "content": "\u4e3b\u8981\u5229\u7528\u8d28\u56e0\u5b50\u5206\u89e3\uff0c\u8ba1\u7b97k\u7684\u8d28\u56e0\u5b50p\u5728n\u4e2d\u51fa\u73b0\u7684\u6b21\u6570\uff0c\u53ef\u5206\u89e3\u4e3an!=n\\*p^e\u7684\u5f62\u5f0f\uff0ce=n/p + n/p^2 + n/p^3+ \u2026\u2026\n\n\u7b97\u662f\u5199\u5f97\u6e05\u695a\u4e86\u5427\u3002\u3002\u3002\n\n\u4e0d\u7ba1\uff0c\u672c\u849f\u84bb\u6015\u88ab\u540c\u5b66\u6253\u5c31\u62ff\u5c0f\u53f7\u641e\u4e2a\u9898\u89e3\n\n   \n   \n```cpp\n#include<iostream>\n#include<cstdio>   \n#include<cmath>   \n#define N 3000001   \nusing namespace std;\nlong long a[N],b[N];//a\u6570\u7ec4\u5b58k\u7684\u8d28\u56e0\u5b50\uff0cb\u6570\u7ec4\u5b58k\u7684\u67d0\u8d28\u56e0\u5b50\u7684\u4e2a\u6570 \nlong long sum;   \nlong long n,k; \nlong long ans=0x7fffffffffffffff,temp;    \nvoid fenjie(long long s)  //\u6c42\u8d28\u56e0\u5b50\u53ca\u4e2a\u6570 \uff08\u5927\u6982\u4e0d\u9700\u8981\u89e3\u91ca\u4e86\u5427\u3002\u3002\u3002\uff09 \n{    \n    long long i,j=0;   \n    for (i=2;i*i<=s;i++)   \n        if (s%i==0)   \n        {   \n            long long count=0;   \n            a[j]=i;   \n            while (s%i==0)   \n            {   \n                count++;   \n                s/=i;   \n            }   \n            b[j++]=count;   \n        }   \n    if (s>1)   \n    {    \n        a[j]=s;   \n        b[j++]=1;   \n    }   //\u53ef\u80fd\u5bb9\u6613\u9057\u6f0f\uff0c\u5373k\u672c\u8eab\u662f\u8d28\u6570\n    sum=j;   \n}   \nlong long fac(long long x,long long y)   \n{   \n    if (x<y)   \n        return 0;  //\u5224\u65adx\u662f\u5426\u5c0f\u4e8ey\uff0c\u82e5\u5c0f\u4e8e\uff0c\u7ed3\u675f\u7edf\u8ba1(\u5426\u5219\u4f1a\u4e00\u76f4\u505a\u4e0b\u53bb) \n    else   \n        return x/y+fac(x/y,y); //\u7edf\u8ba1n\uff01\u4e2da[i]\u51fa\u73b0\u7684\u6b21\u6570 \n}   \nint main()   \n{   \n    while (scanf(\"%lld%lld\",&n,&k)==2)  //\u591a\u7ec4\u6570\u636e\u563f\u563f\u563f\uff08\u53cd\u6b63\u6709\u4eba\u56e0\u4e3a\u8fd9\u4e2a\u6ca1\u5206\uff09 \n    {   \n        fenjie(k);  \n        for(int i=0;i<sum;i++)  \n        {  \n            temp=fac(n,a[i]); \n            temp/=b[i];  //\u6ce8\u610f\uff0ck\u53ef\u4ee5\u5206\u89e3\u4e3a\u591a\u4e2aa[i]\uff0c\u6240\u4ee5temp\u8fd8\u8981\u518d\u9664\u4ee5a[i]\u7684\u4e2a\u6570 \n            ans=ans>temp?temp:ans;   \n        }  \n        printf(\"%lld\\n\",ans);  \n    }   \n    return 0;   \n}\n```",
        "postTime": 1507479141,
        "uid": 61279,
        "name": "\u9b54\u828b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u7684\u601d\u8def\u5df2\u7ecf\u5f88\u663e\u7136\u4e86\uff0c\u4f46\u662f\u50cf\u521a\u5f00\u59cb\u672a\u4fee\u6539\u6570\u636e\u65f6\u6570\u636e\u5f88\u5927\u4f1aT\u600e\u4e48\u529e\uff1f\n\n\u4f7f\u7528 Pollard\\_rho\u5927\u6570\u5206\u89e3\u3002\n\nPollard\\_rho\u7b97\u6cd5\u7684\u5927\u81f4\u6d41\u7a0b\u662f \u5148\u5224\u65ad\u5f53\u524d\u6570\u662f\u5426\u662f\u7d20\u6570\uff08Miller\\_rabin\uff09\u4e86\uff0c\u5982\u679c\u662f\u5219\u76f4\u63a5\u8fd4\u56de\u3002\u5982\u679c\u4e0d\u662f\u7d20\u6570\u7684\u8bdd\uff0c\u8bd5\u56fe\u627e\u5230\u5f53\u524d\u6570\u7684\u4e00\u4e2a\u56e0\u5b50\uff08\u53ef\u4ee5\u4e0d\u662f\u8d28\u56e0\u5b50\uff09\u3002\u7136\u540e\u9012\u5f52\u5bf9\u8be5\u56e0\u5b50\u548c\u7ea6\u53bb\u8fd9\u4e2a\u56e0\u5b50\u7684\u53e6\u4e00\u4e2a\u56e0\u5b50\u8fdb\u884c\u5206\u89e3\u3002\n\n\u90a3\u4e48\u81ea\u7136\u7684\u7591\u95ee\u5c31\u662f\uff0c\u600e\u4e48\u627e\u5230\u5f53\u524d\u6570n\u7684\u4e00\u4e2a\u56e0\u5b50\uff1f\u5f53\u7136\u4e0d\u662f\u4e00\u4e2a\u4e00\u4e2a\u6162\u6162\u8bd5\u9a8c\uff0c\u800c\u662f\u4e00\u79cd\u795e\u5947\u7684\u60f3\u6cd5\u3002\u5176\u5b9e\u8fd9\u4e2a\u627e\u56e0\u5b50\u7684\u8fc7\u7a0b\u6211\u7406\u89e3\u7684\u4e0d\u662f\u975e\u5e38\u900f\u5f7b\uff0c\u611f\u89c9\u8fd8\u662f\u6709\u4e00\u70b9\u513f\u8bd5\u7684\u610f\u5473\uff0c\u4f46\u4e0d\u662f\u76f2\u76ee\u7684\u679a\u4e3e\uff0c\u800c\u662f\u4e00\u79cd\u968f\u673a\u5316\u7b97\u6cd5\u3002\u6211\u4eec\u5047\u8bbe\u8981\u627e\u7684\u56e0\u5b50\u4e3ap\uff0c\u4ed6\u662f\u968f\u673a\u53d6\u4e00\u4e2ax1\uff0c\u7531x1\u6784\u9020x2\uff0c\u4f7f\u5f97\uff5bp\u53ef\u4ee5\u6574\u9664x1-x2 && x1-x2\u4e0d\u80fd\u6574\u9664n\uff5d\u5219p=gcd\uff08x1-x2\uff0cn\uff09\uff0c\u7ed3\u679c\u53ef\u80fd\u662f1\u4e5f\u53ef\u80fd\u4e0d\u662f1\u3002\u5982\u679c\u4e0d\u662f1\u5c31\u627e\u5bfb\u6210\u529f\u4e86\u4e00\u4e2a\u56e0\u5b50\uff0c\u8fd4\u56de\u56e0\u5b50\uff1b\u5982\u679c\u662f1\u5c31\u5bfb\u627e\u5931\u8d25\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u8981\u4e0d\u65ad\u8c03\u6574x2\uff0c\u5177\u4f53\u7684\u529e\u6cd5\u901a\u5e38\u662fx2=x2\\*x2+c\uff08c\u662f\u81ea\u5df1\u5b9a\u7684\uff09\u76f4\u5230\u51fa\u73b0x2\u51fa\u73b0\u4e86\u5faa\u73af==x1\u4e86\u8868\u793ax1\u9009\u53d6\u5931\u8d25\u91cd\u65b0\u9009\u53d6x1\u91cd\u590d\u4e0a\u8ff0\u8fc7\u7a0b\u3002\n\n\u56e0\u4e3ax1\u548cx2\u518d\u8c03\u6574\u65f6\u6700\u7ec8\u4e00\u5b9a\u4f1a\u51fa\u73b0\u5faa\u73af\uff0c\u5f62\u6210\u4e00\u4e2a\u7c7b\u4f3c\u5e0c\u814a\u5b57\u6bcdrho\u7684\u5f62\u72b6\uff0c\u6545\u56e0\u6b64\u5f97\u540d\u3002\n\n\u53e6\u5916\u901a\u8fc7find\u51fd\u6570\u6765\u5206\u89e3\u7d20\u6570\uff0c\u5982\u679c\u627e\u5230\u4e86\u4e00\u4e2a\u7d20\u6570\u56e0\u5b50\u5219\u52a0\u5165\u5230\u56e0\u5b50map\u4e2d\uff0c\u5426\u5219\u5982\u679c\u7528Pollard\u627e\u5230\u4e00\u4e2a\u56e0\u5b50\u5219\u9012\u5f52\u53bb\u627e\u7d20\u6570\u56e0\u5b50\u3002\n\n\u4e4b\u540e\u5c31\u6ca1\u6709\u5565\u4e86\n\n\u4e0b\u6765\u662f\u5168\u7f51\u7406\u8bba\u6700\u5feb\u7684\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\nconst int maxn = 1e5 + 7;\nvoid read(ll &x)\n{\n    char c = getchar();\n    x = 0;\n    int flag = 1;\n    while (c<'0' || c>'9')\n    {\n        if (c == '-')flag = -1;\n        c = getchar();\n    }\n    while (c >= '0'&&c <= '9')\n    {\n        x = x * 10 + c - 48;\n        c = getchar();\n    }\n    x *= flag;\n}\nconst int S = 40;\nlong long mult_mod(long long a, long long b, long long c)\n{\n    a %= c;\n    b %= c;\n    long long ret = 0;\n    while (b)\n    {\n        if (b & 1) { ret += a; ret %= c; }\n        a <<= 1;\n        if (a >= c)a %= c;\n        b >>= 1;\n    }\n    return ret;\n}\nlong long pow_mod(long long x, long long n, long long mod)\n{\n    if (n == 1)return x%mod;\n    x %= mod;\n    long long tmp = x;\n    long long ret = 1;\n    while (n)\n    {\n        if (n & 1) ret = mult_mod(ret, tmp, mod);\n        tmp = mult_mod(tmp, tmp, mod);\n        n >>= 1;\n    }\n    return ret;\n}\nbool check(long long a, long long n, long long x, long long t)\n{\n    long long ret = pow_mod(a, x, n);\n    long long last = ret;\n    for (int i = 1; i <= t; i++)\n    {\n        ret = mult_mod(ret, ret, n);\n        if (ret == 1 && last != 1 && last != n - 1) return true;\n        last = ret;\n    }\n    if (ret != 1) return true;\n    return false;\n}\nbool Miller_Rabin(long long n)\n{\n    if (n<2)return false;\n    if (n == 2)return true;\n    if ((n & 1) == 0) return false;\n    long long x = n - 1;\n    long long t = 0;\n    while ((x & 1) == 0) { x >>= 1; t++; }\n    for (int i = 0; i<S; i++)\n    {\n        long long a = rand() % (n - 1) + 1;\n        if (check(a, n, x, t))\n            return false;\n    }\n    return true;\n}\nlong long factor[100];\nint tol;\nlong long gcd(long long a, long long b)\n{\n    if (a == 0)return 1;\n    if (a<0) return gcd(-a, b);\n    while (b)\n    {\n        long long t = a%b;\n        a = b;\n        b = t;\n    }\n    return a;\n}\nlong long Pollard_rho(long long x, long long c)\n{\n    long long i = 1, k = 2;\n    long long x0 = rand() % x;\n    long long y = x0;\n    while (1)\n    {\n        i++;\n        x0 = (mult_mod(x0, x0, x) + c) % x;\n        long long d = gcd(y - x0, x);\n        if (d != 1 && d != x) return d;\n        if (y == x0) return x;\n        if (i == k) { y = x0; k += k; }\n    }\n}\nvoid findfac(long long n)\n{\n    if (Miller_Rabin(n))\n    {\n        factor[tol++] = n;\n        return;\n    }\n    long long p = n;\n    while (p >= n)p = Pollard_rho(p, rand() % (n - 1) + 1);\n    findfac(p);\n    findfac(n / p);\n}\nll n, k;\nstruct node\n{\n    ll zhiyin, is;\n}c[maxn], p[maxn];\nll cnt1 = 0;\nbool cmp(node a, node b)\n{\n    return a.is<b.is;\n}\nint main()\n{\n    read(n), read(k);\n    tol = 0;\n    findfac(k);\n    for (ll i = 0; i<tol; i++)\n    {\n        ll kk = factor[i];\n        cnt1++;\n        c[cnt1].is = kk;\n        while (i<tol)\n        {\n            if (factor[i] != kk)break;\n            c[cnt1].zhiyin++;\n            i++;\n        }\n        i--;\n    }\n    sort(c + 1, c + cnt1 + 1, cmp);\n    for (int i = 1; i <= cnt1; i++)\n    {\n        ll m = n, t = c[i].is;\n        p[i].is = t;\n        ll w = 0;\n        while (m)\n        {\n            m /= t;\n            w += m;\n        }\n        p[i].zhiyin = w;\n    }//\n     //    for(int i=1;i<=cnt1;i++)\n     //    {\n     //        cout<<c[i].is<<\" \"<<c[i].zhiyin<<\"--\"<<p[i].is<<\" \"<<p[i].zhiyin<<endl;\n     //    } \n    ll ans = 9999999999999LL;\n    for (ll i = 1; i <= cnt1; i++)\n    {\n        ans = min(ans, p[i].zhiyin / c[i].zhiyin);\n    }\ncout << ans;\nreturn 0;\n}\n```",
        "postTime": 1507389716,
        "uid": 28053,
        "name": "aface0427",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    },
    {
        "content": "\u6839\u636e\u8fdb\u5236\u7684\u610f\u4e49\uff0c\u5728k\u8fdb\u5236\u7684\u60c5\u51b5\u4e0b\u9022k\u8fdb1\uff0c\u90a3\u4e48\u672b\u4f4d\u5c31\u53d8\u4e3a\u4e860\u3002\u9898\u76ee\u8981\u6c42\u6c42n\uff01\u5728k\u8fdb\u5236\u4e0b\u672b\u4f4d\u76840\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u6c42n\uff01\u6574\u9664k\u591a\u5c11\u6b21\u3002\u8be5\u6b21\u6570\u8bb0\u4e3ai\u3002i\u5c31\u662f\u7b54\u6848\u3002\u6240\u4ee5k^i<=n!\u3002\n\n\u7531\u4e8en\u975e\u5e38\u4e4b\u5927\uff0c\u6c42n\uff01\u662f\u4e0d\u73b0\u5b9e\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u628ak\u548cn\uff01\u5206\u89e3\u8d28\u56e0\u6570\uff0c\u4e3e\u4e2a\u6817\u5b50\uff0cn\uff01=2^a \\* 3^b \\* 5^c....k\u540c\u7406\u3002\n\n\u56e0\u4e3an\uff01\u662fn\u7684\u9636\u4e58\uff08\u5e9f\u8bdd\uff09\u6240\u4ee5n\u91cc\u9762\u6709\u7684\u8d28\u56e0\u6570\u5728n\uff01\u91cc\u4e5f\u5b58\u5728\u3002\u518d\u601d\u8003k\u4e0en\uff01\u7684\u5173\u7cfb\u53ef\u4ee5\u77e5\u9053\uff0c\u5982\u679c\u4e00\u4e2a\u8d28\u56e0\u6570\u5b58\u5728\u4e8en\u4e2d\uff0c\u4f46\u4e0d\u5b58\u5728\u4e8ek\u4e2d\uff0c\u6211\u4eec\u662f\u65e0\u9700\u7406\u4f1a\u7684\u3002\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u5206\u89e3k\u7684\u8d28\u56e0\u6570\u5c31\u53ef\u4ee5\u4e86\u3002\u4e4b\u540e\u6211\u4eec\u518d\u5224\u65ad\u4ecek\u5206\u89e3\u51fa\u6765\u7684\u8d28\u56e0\u6570\u4e5f\u662f\u4e0d\u662fn\u7684\u8d28\u56e0\u6570\u3002\u5982\u679c\u662f\u7684\u8bdd\uff0c\u5047\u8bben!\u4e2d2\u7684\u4e2a\u6570\u4e3aa\uff08\u540c\u4e0a\u6817\u5b50\uff09\uff0ck\u4e2d2\u7684\u4e2a\u6570\u4e3ax\uff0c\u90a3\u4e48a\u6574\u9664x\u5c31\u662f\u6709\u53ef\u80fd\u4e3a\u7b54\u6848\u3002\u56e0\u4e3an\uff01\u548ck\u7684\u76f8\u540c\u8d28\u56e0\u6570\u53ef\u80fd\u6709\u591a\u4e2a\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u8981\u627e\u67d0\u4e2aa\u6574\u9664\u67d0\u4e2ax\u7684\u6700\u5c0f\u503c\uff08\u503c\u5927\u4e86\u5c0f\u7684\u53d7\u4e0d\u4e86\uff09\uff0c\u8fd9\u4e2a\u503c\u5c31\u662f\u7b54\u6848\u4e86\u3002\n\n\u2018\u2019\u2018cpp\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<fstream>\n#include<cstring>\n#include<cmath>\n#define ll long long\nusing namespace std;\nconst int maxn=1e6+5;\nll n,k,ans,x,prmnum;\nstruct yan\n{\n    ll ds,zsn,zsk;\n}t[maxn];\nvoid fss(ll p)\n{\n    ll temp=(sqrt(p));\n    for (ll i=2;i<=temp;i++)\n    {\n        if (p%i==0)\n        {\n            ll prm=0;\n            while (p%i==0)\n            {\n                prm++;\n                p/=i;\n            }\n            prmnum++;\n            t[prmnum].ds=i;\n            t[prmnum].zsk=prm;//\u8bb0\u5f55\u8d28\u56e0\u5b50 \n        }\n        temp=(sqrt(p));//\u63d0\u9ad8\u6548\u7387\u3002\u4f8b\u5982k=200\u65f6\uff0c\u628a2\u7684\u4e2a\u6570\u7b97\u51fa\u6765\u540ep=25\uff0c\u53ef\u4ee5\u770b\u4f5c\u4e00\u4e2a\u65b0\u7684k\u518d\u53bb\u5206\u89e3 \n    }\n    if (p>1)\n    {\n        prmnum++;\n        t[prmnum].ds=p;\n        t[prmnum].zsk=1;\n```\n}//\u6700\u540e\u5269\u4e0b\u6765\u7684\u4fdd\u8bc1\u662f\u8d28\u6570\uff0c\u4e00\u5bf9\u7684\u561b\n\n```cpp\n}\nll f(ll n,ll x)\n{\n    ll count=0;\n    while (n>0)\n    {\n        n/=x;\n        count+=n;\n    }\n    return count;\n```\n}/\\*\u597d\u597d\u8003\u8651\u5982\u4e0b\u4e8b\u5b9e\uff1a\u4f8b\u5982\n1-N\u8fd9N\u4e2a\u6570\u4e2d\u6709N/5\u4e2a\u6570\u662f5\u7684\u500d\u6570\n\n1-N\u8fd9N\u4e2a\u6570\u4e2d\u6709N/5^2\u4e2a\u6570\u662f5^2\u7684\u500d\u6570\n\n1-N\u8fd9N\u4e2a\u6570\u4e2d\u6709N/5^3\u4e2a\u6570\u662f5^3\u7684\u500d\u6570\n\n...\n\u5c31\u5e94\u8be5\u80fd\u7406\u89e3\u8fd9\u4e2a\u7b97\u6cd5\u4e86\\*/\n\n\n```cpp\nint main()\n{\n    while (scanf(\"%lld%lld\",&n,&k)!=EOF)\n    {\n        ans=9223372036854775807;//2^63 - 1 \n        fss(k);//\u5206\u89e3k\u7684\u8d28\u56e0\u6570 \n        for (int i=1;i<=prmnum;i++)\n        {\n            t[i].zsn=f(n,t[i].ds);//\u8ba1\u7b97\u5728n\uff01\u4e2d\u8d28\u56e0\u5b50x\u7684\u7684\u6570\u91cf \n            ans=min(ans,(t[i].zsn/t[i].zsk));\n        }\n        cout<<ans<<endl;\n    }\n    return 0;\n}\n'''\n```",
        "postTime": 1507386415,
        "uid": 48232,
        "name": "Chuan_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    },
    {
        "content": "//\u5bf9k\u8fdb\u884c\u5206\u89e3\uff0c\u8ba1\u7b97\u56e0\u5b50\u4e2a\u6570\uff0c\u53d6\u6700\u5c0f\u503c\u3002\u601d\u8def\u540c\u697c\u4e0b\\_\uff08\u6ca1\u5fc5\u8981\u5f00\u6570\u7ec4\uff09\\_\n\n\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nlong long n,k,ans=1e18;\nlong long sum(long long a,long long b){\n    long long cnt=0;\n    for(a/=b;a;a/=b) cnt+=a;//\u7edf\u8ba1a\uff01\u4e2d\u8d28\u6570b\u7684\u56e0\u5b50\u4e2a\u6570 \n    return cnt;\n}\nint main(){\n    scanf(\"%lld%lld\",&n,&k);\n    for(long long i=2;i*i<=k;++i){\n        long long cnt=0;\n        while(k%i==0) ++cnt,k/=i;//\u83b7\u53d6\u8d28\u56e0\u5b50 \n        if(cnt) ans=min(ans,sum(n,i)/cnt);//\u53d6\u6700\u5c0f\u503c \n    }\n    if(k>1) ans=min(ans,sum(n,k));//\u53d6\u6700\u5c0f\u503c \n    printf(\"%lld\",ans);\n    return 0;\n}\n```",
        "postTime": 1507383785,
        "uid": 29070,
        "name": "abcdhhhh",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    },
    {
        "content": "**\u9898\u610f\uff1a\u6c42$n!$\u5728$k$\u8fdb\u5236\u4e0b\u540e\u7f00$0$\u7684\u4e2a\u6570\u3002**\n\n\n~~\u8001\u592b\u6390\u6307\u4e00\u7b97\uff0c\u7adf\u7136\u6390\u5230std\u7b97\u6cd5\uff1f~~\n\n\n- **Solution**\n\n\u8bb2\u9053\u7406\uff0c\u521a\u5f00\u59cb\u770b\u5230\u8fd9\u9053\u9898\u662f\u4e0d\u4f1a\u505a\u7684\u3002\n\n\u4f46\u662f\u8001\u592b\u60f3\u60f3\u5982\u679c$m=10$\u8fd8\u662f\u4f1a\u505a\u7684\u3002\n\n\u6570\u6570\u5c0f\u4e8e\u7b49\u4e8e$n$\u6709\u591a\u5c11\u4e2a5\u7684\u500d\u6570\u5c31\u884c\u4e86\u30022\u7684\u500d\u6570\u7edd\u5bf9\u6bd45\u7684\u500d\u6570\u591a\u561b\u3002\n\n\u4e8e\u662f\u6211\u5c31\u6709\u4e86\u4e00\u70b9\u60f3\u6cd5\u3002\n\n\u9996\u5148\u8d28\u56e0\u6570\u5206\u89e3\u5c11\u4e0d\u4e86\u7684\u3002$m = \\sum_{i = 1}^k s_i^{cnt_i}$\n\n\u7136\u540e\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u8d28\u56e0\u6570$s_i$\uff0c\u7b97\u4e00\u7b97$[1,n]$\u80fd\u627e\u5230\u591a\u5c11\u5b83\u7684\u500d\u6570\uff08\u4e0d\u8fc7\u7c7b\u4f3c\u8ba1\u7b972\u65f6\u9047\u5230$2^3$\u8fd9\u4e9b\u8981\u7b97\u4e09\u6b21\u7684\uff09\n\n\u600e\u4e48\u8ba1\u7b97\uff1f\u5bb9\u65a5\u4e00\u4e0b\uff1f\u5e94\u8be5\u53ea\u6709\u6211\u8fd9\u79cdzz\u4e00\u5f00\u59cb\u8fd9\u4e48\u60f3\uff1f\n\n\u540e\u6765\u53d1\u73b0\u8ba1\u7b97\u7684\u65f6\u5019\u6bcf\u6b21\u52a01\u5c31\u884c\u4e86\uff0c\u56e0\u4e3a\u524d\u9762\u7684\u90fd\u5df2\u7ecf\u8ba1\u7b97\u8fc7\u4e86\u3002\n\n\u7b97\u5b8c\u4e4b\u540e\uff0c\u53d1\u73b0$s_i$\u5728$[1,n]$\u4e2d\u627e\u5230\u4e86$x_i$\uff0c\u4f46\u662f\u51fa\u73b0\u4e00\u4e2a$m$\u81f3\u5c11$s_i$\u8981\u51fa\u73b0$cnt_i$\u6b21\u3002\u6240\u4ee5\u6700\u7ec8\u7b54\u6848\u5c31\u662f$min_{i=1}^{k}\\{ \\frac{x_i}{cnt_i} \\}$\n\n\n```cpp\n#include <bits/stdc++.h>\n#define LL long long\nusing namespace std ;\nLL n, m, tot ;\nLL s[1010], cnt[1010] ;\nint main() {\n#ifndef ONLINE_JUDGE\n    freopen ( \"a.in\", \"r\", stdin ) ;\n    freopen ( \"a.out\", \"w\", stdout ) ;\n#endif\n    LL i, j, x, ans, gn ;\n    while ( scanf ( \"%lld%lld\", &n, &m ) != EOF ) {\n        memset ( s, 0, sizeof s ) ;\n        memset ( cnt, tot = 0, sizeof cnt ) ;\n        for ( x = m, i = 2 ; i*i <= x ; i ++ ) {\n            if (x%i == 0) s[++tot] = i ;\n            while (x%i == 0) cnt[tot] ++, x /= i ;\n        }\n        if (x != 1) s[++tot] = x, cnt[tot] = 1 ;    \n        /*printf ( \"%lld = \", m ) ;\n        for ( i = 1 ; i < tot ; i ++ ) printf ( \"%lld^%lld + \", s[i], cnt[i] ) ;\n        printf ( \"%lld^%lld\\n\", s[tot], cnt[tot] ) ;*/\n        ans = 1LL<<60 ;\n        for ( i = 1 ; i <= tot ; i ++ ) {\n            gn = 1 ;    \n            x = 0 ;    \n            for ( j = 1 ; gn <= n ; j ++ ) {\n                gn *= s[i] ;\n                x += n/gn ;\n            }\n            //printf ( \"time %lld = %lld\\n\", s[i], x ) ;    \n            ans = min(ans, x/cnt[i]) ;    \n        }\n        printf ( \"%lld\\n\", ans ) ;    \n    }\n    return 0 ;\n}\n```\n\n\u606c\u4e0d\u77e5\u803b\u7684\u53d1\u4e2a\u5e7f\u544a\uff1a[\u6211\u7684\u535a\u5ba2](http://blog.csdn.net/WT\\_cnyali/article/details/78171779)\n",
        "postTime": 1507382736,
        "uid": 39497,
        "name": "GoAway",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    },
    {
        "content": "1\uff0c\u4ece2\u5faa\u73af\u5230sqrt\uff08k\uff09\u6c42k\u7684\u6240\u6709\u56e0\u6570\u5e76\u8bb0\u5f55\u6bcf\u4e2a\u56e0\u6570\u51fa\u73b0\u4e2a\u6570\uff08\u4e0d\u8bb0\u5f55\u8981\u7ffb\u8f66\uff09\uff08\u5728\u5faa\u73af\u7684\u8fc7\u7a0b\u4e2d\u8981\u968f\u65f6\u66f4\u65b0k\u7684\u503c\uff0c\u4e0d\u7136\u4f1at\uff09\u3002\n\n2\uff0c\u5728n\uff01\u4e2d\u627e\u51fa\u6bcf\u4e2a\u56e0\u6570\u51fa\u73b0\u6b21\u6570\uff0c\u5728\u6240\u6709\u56e0\u6570\u4e2d\u627e\u5230\u6700\u5c11\u7684\u3002\n\n3\uff0c\u8f93\u51fa\u6700\u5c0f\uff1a\u56e0\u6570/\u51fa\u73b0\u6b21\u6570 \u7684\u503c\uff08\u6ce8\u610f\u4e00\u8fdb\u5236\u7279\u5224\u6700\u5927\u503c\uff09\u3002\n\n\n\u8be6\u89c1\u4ee3\u7801\uff1a\n\n\n```cpp\n#include <cstdio>\n#include <iostream>\nusing namespace std;\nlong long n,k,len,ans,ys[5000],num[5000];\nint main()\n{\n    while(scanf(\"%lld%lld\",&n,&k)!=EOF)\n    {\n        ans=0x7fffffffffffffffll;len=0;\n        for(register long long i=2;i*i<=k;i++)\n            if(k%i==0)\n            {\n                ys[len]=i;\n                num[len]=0;\n                 while(k%i==0)\n                  {\n                       k/=i;\n                        num[len]++;\n                }\n                len++;\n            }\n        if(k>1)num[len]=1,ys[len++]=k;\n        for(register long long i=0;i<len;i++)\n        {\n            long long nownum=0;\n            for(register long long j=ys[i];j<=n;j*=ys[i])\n                nownum+=(n/j);\n            if(i==0) ans=nownum/num[i];\n            ans=min(ans,nownum/num[i]);\n        }\n        printf(\"%lld\\n\",ans);\n    }\n    return 0;\n}\n```",
        "postTime": 1507373957,
        "uid": 50158,
        "name": "\u65b0\u57ce",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    },
    {
        "content": "\u601d\u8def\uff1a\u5bf9k\u8fdb\u884c\u5206\u89e3\uff0c\u5b58\u5165a\u6570\u7ec4\u4e2d\uff0c\u5728\u7edf\u8ba1n!\u4e2da[i]\u56e0\u5b50\u7684\u4e2a\u6570(\u76f8\u540c\u7684\u65f6\u5019\uff0c\u7edf\u8ba1\u7684\u4e2a\u6570/\u76f8\u540c\u7684\u4e2a\u6570\u5373\u53ef)\uff0c\u4ece\u800c\u5f97\u5230s\uff0c\u6700\u540e\u8f93\u51famin(s)\n\n\u770b\u4e0b\u9762~~~\n\n```cpp\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<algorithm>\n#define LL long long\n#define R register\n#define I int\n#define MAX 0x7fffffffffffffffll\n#define min(x,y) ((x)<(y)?(x):(y))\nusing namespace std;\n    LL n,k,a[70];\nint main()\n{\n    while(scanf(\"%lld %lld\",&n,&k)!=EOF)\n    {\n        memset(a,0,sizeof(a));//\u6ce8\u610f\u6e05\u7a7a\n        LL ans=MAX;\n        I t=0;\n        for(R LL i=2;i*i<=k;i++)\n            while(k%i==0) k/=i,a[++t]=i;//\u5206\u89e3k\uff0c\u5b58\u5165a\n        if(k>1) a[++t]=k;//\u6ce8\u610f\uff0c\u8fd9\u662fk\u6700\u540e\u5206\u89e3\u4e3a\u7d20\u6570\u7684\u60c5\u51b5\n        I q=1;\n        while(q<=t)\n        {\n            LL s=0;\n            for(R LL i=a[q];i<=n;i*=a[q])//\u5728\u7edf\u8ba1n!\u4e2da[i]\u56e0\u5b50\u7684\u4e2a\u6570\n                s+=n/i;\n            I o=q;//\u6ce8\u610f\u521d\u59cb\u503c\n            for(R I i=q+1;i<=t+1;i++)//\u5f80\u540e\u627e\u76f8\u540c\u548ca[i]\u7684\u6570\n                if(a[q]!=a[i])\n                {\n                    o=i-1;\n                    break;\n                }\n            ans=min(ans,s/((LL)o-q+1));//\u76f8\u540c\u7684\u65f6\u5019\uff0c\u7edf\u8ba1\u7684\u4e2a\u6570/\u76f8\u540c\u7684\u4e2a\u6570\u5373\u53ef\n            q=o+1;//\u5f80\u540e\u79fb\u52a8\n        }\n        printf(\"%lld\\n\",ans);\n    }\n}\n```",
        "postTime": 1507366513,
        "uid": 31955,
        "name": "Mark_ZZY",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    },
    {
        "content": "\u5176\u5b9e\u8fd9\u9898\u4e00\u5f00\u59cbk\u4f3c\u4e4e\u5f88\u5927\uff0cn\u4e5f\u5f88\u5927\uff0c\u4e0d\u8fc7\u540e\u6765\u53d1\u751f\u4e86\u4e00\u70b9\u4e8b\u6545\uff1f\u7136\u540e\u8303\u56f4\u5c31\u5c0f\u4e86\u3002\n\n\u51e0\u4e4e\u662fPolland\\_Rho\u88f8\u9898\uff0c\u7ec3\u4e00\u4e0b\u677f\u5b50\u3002\n\n\n---\n\u6211\u4eec\u53d1\u73b0\uff0c\u8bbe$k=\\prod {p_i}^{k_i}$\uff0c\u90a3\u4e48\u7b54\u6848\u5c31\u662f$\\min( \\lfloor \\frac{S(n,p_i)}{k_i}\\rfloor)$\n\n\n\u5176\u4e2d$S(n,p)$\u8868\u793an!\u8d28\u56e0\u6570\u5206\u89e3\u540ep\u7684\u6307\u6570\uff0c\u4e5f\u5c31\u662fn!\u4e2d\u5305\u542b\u591a\u5c11\u4e2ap\u3002\n\n\n\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u5462\uff1f\n\n\u9996\u5148\u8003\u8651k=p\u7684\u60c5\u51b5\uff08p\u4e3a\u8d28\u6570\uff0c\u4e0b\u540c\uff09\n\n\u663e\u7136\u6bcf\u4e2ap\u8868\u793ak\u8fdb\u5236\u4e0b\u7684\u4e00\u4e2a10\u3002\n\n\u6240\u4ee50\u7684\u4e2a\u6570\u5c31\u662fp\u4e2a\u6570\n\n\n\u7136\u540e\u8003\u8651$k=p^a$\u3002\n\n\u663e\u7136\u6bcfa\u4e2ap\u8868\u793ak\u8fdb\u5236\u4e0b\u7684\u4e00\u4e2a10\u3002\n\n\u6240\u4ee50\u7684\u4e2a\u6570\u5c31\u662fp\u7684\u4e2a\u6570/a\n\n\n\u7136\u540e\u8003\u8651$k=\\prod {p_i}^{k_i}$\n\n\u663e\u7136\u6bcf\u4e2a$\\prod {p_i}^{k_i}$\u8868\u793a\u4e00\u4e2ak\u8fdb\u5236\u4e0b\u768410\uff0c\n\n\u54ea\u4e00\u9879\u4e0d\u591f\u5c31\u51d1\u4e0d\u6210\u3002\n\n\n\u7136\u540e\u8ba1\u7b97$S(n,p)$\u4e5f\u5f88\u663e\u7136\uff0c$S(0,p)=0$,$S(n,p)=S(n/p,p)+n/p$\n\n\u663e\u7136\u4e0b\u53d6\u6574\u3002\n\n\u7136\u540e\u8d28\u56e0\u6570\u5206\u89e3\u53ef\u4ee5\u5229\u7528Pollard\\_Rho\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u66b4\u529b\u3002\n\n\n```CPP\n/*\nAuthor: CNYALI_LK\nLANG: C++\nPROG: 3927.cpp\nMail: cnyalilk@vip.qq.com\n*/\n#include<bits/stdc++.h>\n#define debug(...) fprintf(stderr,__VA_ARGS__)\n#define DEBUG printf(\"Passing [%s] in LINE %lld\\n\",__FUNCTION__,__LINE__)\n#define Debug debug(\"Passing [%s] in LINE %lld\\n\",__FUNCTION__,__LINE__)\n#define all(x) x.begin(),x.end()\nusing namespace std;\nconst double eps=1e-8;\nconst double pi=acos(-1.0);\ntypedef long long ll;\ntypedef pair<ll,ll> pii;\ntemplate<class T>ll chkmin(T &a,T b){return a>b?a=b,1:0;}\ntemplate<class T>ll chkmax(T &a,T b){return a<b?a=b,1:0;}\ntemplate<class T>T sqr(T a){return a*a;}\ntemplate<class T>T mmin(T a,T b){return a<b?a:b;}\ntemplate<class T>T mmax(T a,T b){return a>b?a:b;}\ntemplate<class T>T aabs(T a){return a<0?-a:a;}\n#define min mmin\n#define max mmax\n#define abs aabs\nll read(){\n    ll s=0,base=1;\n    char c;\n    while(!isdigit(c=getchar()))if(c=='-')base=-base;\n    while(isdigit(c)){s=s*10+(c^48);c=getchar();}\n    return s*base;\n}\nchar WritellBuffer[1024];\ntemplate<class T>void write(T a,char end){\n    ll cnt=0,fu=1;\n    if(a<0){putchar('-');fu=-1;}\n    do{WritellBuffer[++cnt]=fu*(a%10)+'0';a/=10;}while(a);\n    while(cnt){putchar(WritellBuffer[cnt]);--cnt;}\n    putchar(end);\n}\nll fpm(ll a,ll b,ll p){\n    ll c=1;\n    while(b){\n        if(b&1)c=(a*c)%p;\n        a=a*a%p;\n        b>>=1;\n    }\n    return c;\n}\nll Miller_Rabin(ll a){\n    if(a==2)return 1;\n    ll s,g,d,n;\n    d=a-1;\n    g=0;\n    while(!(d&1)){\n        d>>=1;\n        ++g;\n    }\n    for(ll i=1;i<=50;++i){\n        s=((((ll)rand())<<31)|rand())%(a-1)+1;\n        n=fpm(s,d,a);    \n        for(ll j=1;j<=g;++j){\n            s=n;\n            n=s*s%a;\n            if(n==1&&s!=1&&s!=a-1)return 0;\n        }    \n        if(n!=1)return 0;\n    }\n    return 1;\n}\nll pri[102424],ps;\nll gcd(ll a,ll b){\n    return b?gcd(b,a%b):a;\n}\nll f(ll x,ll c,ll p){\n    return (x*x+c)%p;\n}\n\n\nvoid Pollard_Rho(ll a){\n    if(Miller_Rabin(a))pri[++ps]=a;\n    else{\n        for(ll i=1;;++i){\n            ll x=1,ok=1,y=f(x,i,a);\n            if(x==y)ok=0;\n            while(ok&&gcd(abs(y-x),a)==1){\n                x=f(x,i,a);\n                y=f(y,i,a);\n                y=f(y,i,a);\n                if(x==y)ok=0;\n            }\n            if(ok){\n                x=gcd(abs(y-x),a);\n                Pollard_Rho(x);\n                Pollard_Rho(a/x);\n                return;\n            }\n        }\n    }\n\n}\nll js(ll n,ll p){\n    ll ans=0;\n    while(n){\n        ans+=n/p;\n        n/=p;\n    }\n    return ans;\n}\nint p[102424],k[102424],m;\nvoid calc(){\n    sort(pri+1,pri+ps+1);\n    p[m=1]=pri[1];\n    k[1]=1;\n    for(int i=2;i<=ps;++i)if(pri[i]==pri[i-1])++k[m];else {p[++m]=pri[i];k[m]=1;}\n}\nint main(){\n#ifdef cnyali_lk\n    freopen(\"3927.in\",\"r\",stdin);\n    freopen(\"3927.out\",\"w\",stdout);\n#endif\n    ll n,K;\n    n=read();K=read();\n    Pollard_Rho(K);\n    calc();\n    ll ans=0x3f3f3f3f3f3f3f3f;\n    for(ll i=1;i<=m;++i){\n        chkmin(ans,js(n,p[i])/k[i]);\n    }\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n\n```",
        "postTime": 1515648720,
        "uid": 8943,
        "name": "\u8001K",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3927 \u3010SAC E#1 - \u4e00\u9053\u4e2d\u6863\u9898 Factorial\u3011"
    }
]