[
    {
        "content": "\u554a\u8fd9\u9053\u9898\u9996\u5148\u8bfb\u5165\u7684\u65f6\u5019\u819c\u4e00\u4e0b\uff0c\u8bb0\u5f55\u6bcf\u4e2a\u6570\u51fa\u73b0\u7684\u6b21\u6570\uff0c\u7136\u540e7^7\u66b4\u529b\u679a\u4e3e\u4e0b\uff0c\u65b9\u6848\u6570\u4e58\u8d77\u6765\u3002\n\n```cpp\n[/color][codec ]#include<bits/stdc++.h>\nusing namespace std;\nint g[10][10];\nint x[10];long long ans=0;\nint v[233][8]={0};\nvoid dfs(int now){\n    if (now==7){\n        long long sum=1ll*(x[0]+x[1]+x[2]+x[2]+x[3]+x[1])*(x[4]+x[5]+x[1]+x[2])*(x[6]+x[5]*2);\n        if (sum%7==0){\n            long long tmp=1;\n            for (int i=0;i<7;i++)\n                tmp*=g[i][x[i]];\n            ans+=tmp;\n        }\n        return ;\n    }\n    for (int i=0;i<7;i++){\n        if (!g[now][i]) continue;\n        x[now]=i;\n        dfs(now+1);\n    }\n}\nint main(){\n    int n;\n    cin>>n;\n    for (int i=1;i<=n;i++){\n        char c;int l;\n        cin>>c>>l;\n        l=(l%7+7)%7;\n        if (c=='B') g[0][l]++;\n        if (c=='E') g[1][l]++;\n        if (c=='S') g[2][l]++;\n        if (c=='I') g[3][l]++;\n        if (c=='G') g[4][l]++;\n        if (c=='O') g[5][l]++;\n        if (c=='M') g[6][l]++;        \n    }\n    dfs(0);\n    cout<<ans;\n    return 0;\n}[/codec ]\n```",
        "postTime": 1473564998,
        "uid": 775,
        "name": "Expecto",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3123 \u3010[USACO15OPEN]\u8d1d\u831c\u8bf4\u54deBessie Goes Moo\u3011"
    },
    {
        "content": "#### \u4e3a\u4ec0\u4e48\u6807\u7b7e\u91cc\u6709\u201cDP\u201d?\n#### \u4e3a\u4ec0\u4e48\u6807\u7b7e\u91cc\u6709\u201c\u52a8\u6001\u89c4\u5212\u201d\uff1f\n\n\u7531\u4e8e\u6211\u4eec\u53ea\u9700\u8981\u5224\u65ad\u4e00\u4e2a\u6570\u80fd\u5426\u88ab7\u6574\u9664\uff0c\u6240\u4ee5\u6bcf\u4e2a\u53d8\u91cf\u7684\u53d6\u503c\u90fd\u53ef\u4ee5\u5148`%7`\uff0c\u6240\u4ee5\u867d\u7136\u6bcf\u4e2a\u53d8\u91cf\u6709500\u79cd\u53d6\u503c\uff0c\u4f46\u662f\u5bf97\u6a21\u6570\u76f8\u540c\u7684\u53ef\u4ee5\u770b\u505a\u4e00\u4e2a\u6570\uff0c\u6240\u4ee5\u6bcf\u4e2a\u6570\u53ea\u67097\u79cd\u9009\u62e9\u3002\n\n\u63a5\u4e0b\u6765\u679a\u4e3e\u6bcf\u4e2a\u53d8\u91cf\u9009\u4ec0\u4e48\uff0c\u5224\u65ad\u662f\u5426\u88ab7\u6574\u9664\uff0c\u5e76\u7d2f\u52a0\u7b54\u6848\u5373\u53ef\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u53d6\u6a21\u540e\uff0c\u540c\u4e00\u4e2a\u53d8\u91cf\uff08\u59822,9,16...\uff09\u867d\u7136\u672c\u8d28\u76f8\u540c\uff0c\u4f46\u662f\u7b54\u6848\u5e94\u8be5\u8ba1\u7b97\u591a\u6b21\uff0c\u7531\u4e58\u6cd5\u539f\u7406\u53ef\u77e5\uff0c\u7b54\u6848\u5e94\u8be5\u662f\u6bcf\u4e00\u4e2a\u6570\u7b49\u6548\u7684\u6570\u4e2a\u6570\u7684\u4e58\u79ef\u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define long long long\nusing namespace std;\n\nchar t[3], c[7] = {'B', 'E', 'S', 'I', 'G', 'O', 'M'};\n\nint N, x, f[7], a[7][7];\nlong ans;\n\nmap <char, int> M;\n\nvoid DFS(int x)\n{\n\tif (x == 7)\n\t{\n\t\tlong sum = (f[0]+(f[1]+f[2])*2+f[3]) * (f[1]+f[2]+f[4]+f[5]) * (f[6]+f[5]*2);\n\t\tif (!(sum % 7))\n\t\t{\n\t\t\tsum = 1;\n\t\t\tfor (int i = 0; i < 7; i++)\n\t\t\t\tsum *= a[i][f[i]];//\u4e58\u6cd5\u539f\u7406\u8ba1\u7b97\u7b54\u6848\n\t\t\tans += sum;\n\t\t}return;\n\t}\n\tfor (int i = 0; i < 7; i++)\n\t\tif (a[x][i]) f[x] = i, DFS(x+1);//\u679a\u4e3e\u6240\u6709\u53ef\u80fd\u7684\u53d6\u503c\n}\n\nint main()\n{\n\tscanf(\"%d\", &N);\n\tfor (int i = 0; i < 7; i++)\n\t\tM[c[i]] = i;//\u5c06\u5b57\u6bcd\u79bb\u6563\u5316\u4e3a0~6\n\t\n\twhile (N--)\n\t{\n\t\tscanf(\"%s%d\", t, &x);\n\t\ta[M[t[0]]][(x%7+7)%7]++;//\u8fd9\u91cc\u4f7f\u7528\u6876\u6765\u5b58\u50a8\u6b21\u6570\n\t}\n\tDFS(0);\n\tprintf(\"%lld\\n\", ans);\n}\n```",
        "postTime": 1570018831,
        "uid": 73489,
        "name": "NyaRu_Official",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3123 \u3010[USACO15OPEN]\u8d1d\u831c\u8bf4\u54deBessie Goes Moo\u3011"
    },
    {
        "content": "\u597d\u5427\n\u5f88\u666e\u901a\u7684\u4e00\u79cd\u505a\u6cd5\n\n```cpp\n#include<cstdio>\n#define LL long long\nusing namespace std;\nint N,x;\nchar ch;\nLL ans,hsh[95][7];\ninline int read(){//\u5feb\u8bfb\n\tint ret=0,f=1;char ch=getchar();\n\twhile (ch<'0'||ch>'9'){if (ch=='-')f=-f;ch=getchar();}\n\twhile (ch>='0'&&ch<='9') ret=ret*10+ch-'0',ch=getchar();\n\treturn ret*f;\n}\nint main(){\n    N=read();\n    for (int i=0;i<N;i++){\n        ch=getchar(),x=read();\n        hsh[ch][(x%7+7)%7]++;//\u56e0\u4e3a\u662f7\u7684\u500d\u6570,\u6240\u4ee5\u5206\u62107\u7c7b\uff08\u5206\u522b\u662f%7=0,1,2,3,4,5,6\uff09,\u5176\u5b9e\u53ea\u9700\u8981\u5224\u65ad\u4ed6\u4eec\u9664\u4ee57\u7684\u4f59\u6570\u76f8\u52a0\u662f\u5426\u4e3a7\u7684\u500d\u6570\n    }\n    for(int B=0;B<7;B++)\n    for(int E=0;E<7;E++)\n    for(int S=0;S<7;S++)\n    for(int I=0;I<7;I++)\n    for(int G=0;G<7;G++)\n    for(int O=0;O<7;O++)\n    for(int M=0;M<7;M++) \n      if (((B+E+S+S+I+E)*(G+O+E+S)*(M+O+O))%7==0){\n          ans+=hsh['B'][B]*hsh['E'][E]*hsh['S'][S]*hsh['I'][I]*hsh['G'][G]*hsh['O'][O]*hsh['M'][M];//\u5224\u65ad%7\u540e\u7684\u4f59\u6570\u662f\u5426\u4e3a7\u7684\u500d\u6570\uff0c\u5982\u679c\u662fans++;\n      }\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n```\n",
        "postTime": 1566107746,
        "uid": 32029,
        "name": "Wangchenxin",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3123 \u3010[USACO15OPEN]\u8d1d\u831c\u8bf4\u54deBessie Goes Moo\u3011"
    },
    {
        "content": "\u72ec\u95e8\u7684dfs\uff0c\u6e90\u4e8e\u6570\u636e\u8303\u56f4\u7684\u5c0f\uff0c\u66b4\u529b\u5373\u53ef\u3002\n\n\u6240\u8c13\u6570\u636e\u8303\u56f4\u7684\u5c0f\uff0c\u5c31\u5728\u4e8e\u6a21\u6570\u5c0f\uff0c\u53ea\u67097\uff0c\u53d8\u91cf\u5c11\uff0c\u4e5f\u662f7\uff0c\u4e8e\u662fdfs\u4fbf\u80fd\u5f00\u5fc3\u7684\u6c34\u8fc7\u3002\n\n\u4f46\u8fd9\u9053\u9898\u4e5f\u5305\u5bb9\u4e86\u4e0d\u5c11\u7b97\u6cd5\u601d\u8def\uff0c\u5982\u6ce8\u91ca\u6240\u8ff0\u3002\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\n#include<queue>\n#include<map>\nusing namespace std;\n#define re register int\ninline int read(){\n    int x=0,ff=1;char c=getchar();\n    while(c<'0'||c>'9'){if(c=='-')ff=-1;c=getchar();}\n    while(c>='0'&&c<='9'){x=(x<<1)+(x<<3)+(c^48);c=getchar();}\n    return x*ff;\n}\nint b[10][10];\n//b[i][j]\u8868\u793a\u7b2ci\u4e2a\u53d8\u91cf\uff08\u81ea\u5b9a\u4e49\uff09\u53ef\u53d6\u6570\u7684\u6a21\u6570\u4e3a\u7684j\u6709\u51e0\u4e2a\nint a[10];\n//dfs\u8bb0\u5f55\u53d8\u91cf\nlong long ss;\nvoid dfs(int i,long long s){\n\tif(i>7){\n\t\tif((a[1]+2*a[2]+2*a[3]+a[4])%7==0||(a[2]+a[3]+a[5]+a[6])%7==0||(a[7]+2*a[6])%7==0){\n        //\u56e0\u4e3a7\u4e3a\u8d28\u6570\uff0c\u6240\u4ee53\u4e2a\u56e0\u6570\u4e2d\u6bd4\u8981\u6709\u4e00\u4e2a\u6574\u96647\n\t\t\tss+=s;return;\n        //\u52a0\u4e0a\u65b9\u6848\n\t\t}\n\t}\n\tfor(int j=0;j<7;j++){\n\t\tif(b[i][j]){\n\t\t\ta[i]=j;dfs(i+1,s*b[i][j]);\n        //\u679a\u4e3e\uff0c\u641c\u7d22\n        //s*b[i][j]\u8868\u793a\u65b9\u6848\u6570\uff08\u4e58\u6cd5\u539f\u7406\uff09\n\t\t}\n\t}\n}\nint main(){\n\tint n=read(),x;\n\tchar c;\n\twhile(n--){\n\t\tcin>>c;x=read();\n\t\tx=(x%7+7)%7;\n     //\u53d6\u6a21\uff0c\u56e0\u4e3a\u540c\u4f59\u6027\u8d28\uff0c\u6240\u4ee5\u4e0d\u5f71\u54cd\u6c42\u89e3\uff0c\u8fd9\u4fbf\u76f8\u5f53\u79bb\u6563\u5316\u4e86\n\t\tif(c=='B'){\n\t\t\tb[1][x]++;\n\t\t}\n\t\tif(c=='E'){\n\t\t\tb[2][x]++;\n\t\t}\n\t\tif(c=='S'){\n\t\t\tb[3][x]++;\n\t\t}\n\t\tif(c=='I'){\n\t\t\tb[4][x]++;\n\t\t}\n\t\tif(c=='G'){\n\t\t\tb[5][x]++;\n\t\t}\n\t\tif(c=='O'){\n\t\t\tb[6][x]++;\n\t\t}\n\t\tif(c=='M'){\n\t\t\tb[7][x]++;\n\t\t}\n     //\u4ee5\u4e0a\u662f\u53d6\u6a21\u540e\u7684\u5b58\u50a8\uff0c\u5b57\u6bcd\u8bfb\u5165\u591f\u6bd2\u7624\u7684\u3002\n\t}\n\tdfs(1,1);\n\tcout<<ss<<endl;\n\n    return 0;\n}\n\n```\n",
        "postTime": 1559486986,
        "uid": 110574,
        "name": "Eismcs",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P3123 \u3010[USACO15OPEN]\u8d1d\u831c\u8bf4\u54deBessie Goes Moo\u3011"
    },
    {
        "content": "\u968f\u673a\u8df3\u9898\u8df3\u5230\u4e86\u8fd9\u4e2a\u9898\u3002  \n\u95f2\u8bdd\u5c11\u8bf4\uff0c\u5207\u5165\u6b63\u9898\u2014\u2014  \n\n---\n\u9898\u76ee\u8ba9\u6211\u4eec\u6c42\u591a\u5c11\u79cd\u65b9\u6848\u8ba9\u5f0f\u5b50\u5f97\u6570\u6210\u4e3a $7$ \u7684\u500d\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\u6a21 $7$ \u4e3a $0$\u3002  \n\u65e2\u7136\u662f\u53d6\u4f59\u8fd0\u7b97\uff0c\u6bcf\u4e2a\u6570\u662f\u6ca1\u6709\u592a\u5927\u610f\u4e49\u4e86\uff0c\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u628a\u6bcf\u4e2a\u6570\u503c\u53d8\u6210\u8fd9\u4e2a\u6570\u5bf9 $7$ \u53d6\u4f59\u7684\u6570\u5b57\uff0c\u8fd9\u5bf9\u7ed3\u679c\u53d6\u4f59 $7$ \u6ca1\u6709\u4efb\u4f55\u5f71\u54cd\u3002  \n$7$ \u7684\u4f59\u6570\u5fc5\u7136\u5c0f\u4e8e $7$\uff0c\u53ea\u6709 $0\\sim 6$ \u8fd9 $6$ \u79cd\uff0c\u6bcf\u4e2a\u5b57\u6bcd\u6709 $7$ \u4e2d\u53d6\u503c\uff0c\u6709 $7$ \u4e2a\u5b57\u6bcd\uff0c\u7ec4\u5408\u8d77\u6765\u53ea\u6709 $7^7$ \u79cd\u60c5\u51b5\u3002  \n\u53ea\u8981\u8ba1\u7b97\u4e00\u4e0b\u5c31\u597d\u4e86\u3002    \n\u552f\u4e00\u8981\u6ce8\u610f\u7684\u4e00\u70b9\uff1a\u6570\u503c\u53ef\u80fd\u662f\u8d1f\u6570\uff01  \n```cpp\n#include <iostream> \n#define MAXN 100000\n#define QWQ cout << \"QWQ\" << endl;\nusing namespace std;\nlong long sum[10][10];\nint id(char ch) {\n\tif(ch == 'B') return 1;\n\telse if(ch == 'E') return 2;\n\telse if(ch == 'S') return 3;\n\telse if(ch == 'I') return 4;\n\telse if(ch == 'G') return 5;\n\telse if(ch == 'O') return 6;\n\telse if(ch == 'M') return 7;\n}\nint main() {\n\tint n; cin >> n; char ch;\n\tlong long ans = 0;\n\tfor(int p = 1, x; p <= n; p++)\n\t\tcin >> ch >> x, sum[id(ch)][(x + 2486750) % 7]++;\n\tfor(int B = 0; B < 7; B++)\n\t\tfor(int E = 0; E < 7; E++)\n\t\t\tfor(int S = 0; S < 7; S++)\n\t\t\t\tfor(int I = 0; I < 7; I++)\n\t\t\t\t\tfor(int G = 0; G < 7; G++)\n\t\t\t\t\t\tfor(int O = 0; O < 7; O++)\n\t\t\t\t\t\t\tfor(int M = 0; M < 7; M++)\n\t\t\t\t\t\t\t\tif((B+E+S+S+I+E) * (G+O+E+S) * (M+O+O) % 7 == 0)\n\t\t\t\t\t\t\t\t\tans += sum[1][B] * sum[2][E] * sum[3][S] * sum[4][I] * sum[5][G] * sum[6][O] * sum[7][M];\n\tcout << ans << endl;\n}\n```",
        "postTime": 1626762122,
        "uid": 298549,
        "name": "SIXIANG32",
        "ccfLevel": 5,
        "title": "\u9898\u89e3\u3010P3123 [USACO15OPEN]Bessie Goes Moo S\u3011"
    },
    {
        "content": "\u5f00\u4e00\u4e2a $v$ \u6570\u7ec4\u5c06\u6bcf\u4e2a\u5b57\u6bcd\u4e0e $7$ \u53d6\u4f59\u4e4b\u540e\u7684\u503c\u7684\u4e2a\u6570\uff0c\u518d\u901a\u8fc7\u679a\u4e3e $7$ \u4e2a\u6570\u7684\u4f59\u6570\u7b97\u51fa\u7b54\u6848\u3002\n\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6211\u4eec\u9700\u8981\u5c06\u590d\u6570\u53d6\u4f59\u540e\u7684\u4f59\u6570\u5b58\u4e3a\u590d\u6570\u3002\u81ea\u5df1\u53ef\u4ee5\u62ff $-1$ \u548c $6$ \u8fd9\u4e24\u4e2a\u6570\u4e3e\u4f8b\u3002\n```cpp\n#include<iostream>\n#define RE register\nusing namespace std;\nconst int kj=6;\nunsigned long long dp;\nlong long v[8][13];\nint n;\nint G(char a)\n{\n  if(a=='B')return 1;\n  if(a=='E')return 2;\n  if(a=='S')return 3;\n  if(a=='I')return 4;\n  if(a=='G')return 5;\n  if(a=='O')return 6;\n  if(a=='M')return 7;\n}\nint main()\n{\n//freopen(\"bgm.in\",\"r\",stdin);\n//freopen(\"bgm.out\",\"w\",stdout);\ncin>>n;\nfor(RE int i=1;i<=n;++i)\n{\n  char a;\n  int b;\n  cin>>a>>b;\n  ++v[G(a)][b%7+kj];//\u5c06\u6bcf\u4e2a\u6570%7\u7684\u4f59\u6570\u7b97\u51fa\u6765\n}\nfor(RE int b=0;b<=12;++b)\n{\n  if(v[1][b]==0)continue;\n  for(RE int e=0;e<=12;++e)\n  {\n    if(v[2][e]==0)continue;\n    for(RE int s=0;s<=12;++s)\n    {\n      if(v[3][s]==0)continue;\n      for(RE int i=0;i<=12;++i)\n      {\n        if(v[4][i]==0)continue;\n        for(RE int g=0;g<=12;++g)\n        {\n          if(v[5][g]==0)continue;\n          for(RE int o=0;o<=12;++o)\n          {\n            if(v[6][o]==0)continue;\n            for(RE int m=0;m<=12;++m)\n            {\n              if(v[7][m]==0)continue;\n              if((b-kj+e-kj+s-kj+s-kj+i-kj+e-kj)%7==0||(g-kj+o-kj+e-kj+s-kj)%7==0||(m-kj+o-kj+o-kj)%7==0)//\u5224\u65ad\u662f\u5426\u53ef\u884c\n              {\n                dp+=v[1][b]*v[2][e]*v[3][s]*v[4][i]*v[5][g]*v[6][o]*v[7][m];//\u7edf\u8ba1\u7b54\u6848\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\ncout<<dp;\nreturn 0;\n//fclose(stdin);\n//fclose(stdout);\n}",
        "postTime": 1626752366,
        "uid": 210719,
        "name": "Violet___Evergarden",
        "ccfLevel": 4,
        "title": "P3123"
    },
    {
        "content": "### \u7b80\u5355\u7684\u601d\u8def\n\n\u56e0\u4e3a\u6570\u636e\u8f83\u5c0f\uff0c\u6240\u4ee5\u53ef\u4ee5\u8fdb\u884c\u66b4\u529b\u679a\u4e3e\n\n\u7528\u4e00\u4e2a\u53d8\u91cf\u8bb0\u5f55\u6bcf\u4e2a\u5b57\u6bcd\u51fa\u73b0\u7684\u6b21\u6570\n\n\u4f46\u662f\u8981\u8bb0\u4f4f\u5bf9\u8f93\u5165\u7684\u6570\u8fdb\u884c\u53d6\u4f597\u7684\u64cd\u4f5c\uff0c\u8282\u7701\u6570\u7ec4\u7684\u7a7a\u95f4\n\n\u5728\u8bb0\u5f55\u597d\u4e86\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u8fdb\u884c\u679a\u4e3e\u4e86\n\n\u4ee3\u7801\u5e76\u4e0d\u96be\u5199\uff0c\u96be\u70b9\u5728\u4e8e\u601d\u8003\u5230\u5982\u4f55\u8282\u7701\u65f6\u95f4\u4e0e\u7a7a\u95f4\n\n\u5728\u53d6\u4f59\u5904\u7406\u540e\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(7^7)$\n### Code:\n```cpp\n#include<iostream>\n#include<cstdio>\n#define FOR(i) for(int i=0;i^7;i++)\nusing namespace std;\ntypedef long long LL;\nint n;\nLL ans,a[105][10];\ninline int read(){\n\tint ret=0,f=1;char ch=getchar();\n\twhile (ch<'0'||ch>'9'){if (ch=='-') f=-f;ch=getchar();}\n\twhile (ch>='0'&&ch<='9')ret=ret*10+ch-'0',ch=getchar();\n\treturn ret*f;\n}\ninline char fchar(){\n\tchar ch=getchar();\n\twhile (ch!='B'&&ch!='E'&&ch!='S'&&ch!='I'&&ch!='G'&&ch!='O'&&ch!='M') ch=getchar();\n\treturn ch;\n}\nint main(){\n\tscanf(\"%d\",&n);\n\tfor (int i=1;i<=n;i++)a[fchar()][(read()%7+7)%7]++;\n\tFOR(B) FOR(E) FOR(S) FOR(I) FOR(G) FOR(O) FOR(M)\n\t  if ((B+2*E+2*S+I)*(G+O+E+S)*(M+2*O)%7==0)\n\t\tans+=a['B'][B]*a['E'][E]*a['S'][S]*a['I'][I]*a['G'][G]*a['O'][O]*a['M'][M];\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1622178166,
        "uid": 434929,
        "name": "Usada_Pekora",
        "ccfLevel": 7,
        "title": "\u66b4\u529b\u679a\u4e3e\u9a97\u5206"
    },
    {
        "content": "**P3123 [USACO15OPEN]\u8d1d\u831c\u8bf4\u54deBessie Goes Moo**     \n\u9898\u610f\u5f88\u7b80\u5355\uff1a\u7ed9\u4e00\u4e2a\u4ee3\u6570\u5f0f\u586b\u6570\uff0c\u4f7f\u4ee3\u6570\u5f0f\u7684\u503c%7\u7b49\u4e8e0     \n\u5f88\u5bb9\u6613\u60f3\u5230\uff0c\u4e09\u4e2a\u4e00\u6b21\u591a\u9879\u5f0f\u4e2d\u7684\u4e00\u4e2a%7\u7b49\u4e8e0\u5373\u53ef   \n\u4e8e\u662f\u6211\u4eec\u628a\u6bcf\u4e2a\u8f93\u5165\u6570\u636e%7\u540e\u5b58\u4e0b\u6765   \n\u4ee4f[i][j]\u8868\u793a\u7b2ci\u4e2a\u5b57\u6bcd\u53d6\u503c%7\u4e3aj\u65f6\u7684\u65b9\u6848\u6570   \n\u6211\u4eecO(7^7)\u679a\u4e3e\u6bcf\u4e2a\u5b57\u6bcd\u53ef\u80fd\u7684%7\u7684\u53d6\u503c\uff0c\u518d\u5224\u65ad\u5373\u53ef   \n\u5224\u65ad\u53ea\u9700\u5c06\u4e09\u4e2a\u5f0f\u5b50\u5404\u7b97\u51fa\uff0c\u5e76%7\u4e00\u4e0b\u5373\u53ef    \n# \u4f18\u5316\u4eec\uff1a    \n1.dfs\u641c\u7d22   \n2.\u5982\u679c\u4e00\u4e2a\u53d6\u503c\u6ca1\u51fa\u73b0\u4fbf\u4e0d\u505a     \n\uff08\u672c\u9898\u6700xx\u4ee3\u7801\uff0c\u65e0\u4f18\u5316\uff09    \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n;\nint f[8][8]={0};\ntypedef long long ll;\nll ans=0;\nint change(char c){\n\tif(c=='B') return 1;\n\telse if(c=='E') return 2;\n\telse if(c=='S') return 3;\n\telse if(c=='I') return 4;\n\telse if(c=='G') return 5;\n\telse if(c=='O') return 6;\n\telse return 7; \n}\nint main(){\n\tcin>> n;\n\tfor(int i=1;i<=n;i++){\n\t\tchar c;\n\t\tint t;\n\t\tcin>>c>>t;\n\t\tf[change(c)][(t%7+7)%7]++;\n\t}\n\tint a[10];\n\tfor(a[1]=0;a[1]<=6;a[1]++){for(a[2]=0;a[2]<=6;a[2]++){for(a[3]=0;a[3]<=6;a[3]++){for(a[4]=0;a[4]<=6;a[4]++){for(a[5]=0;a[5]<=6;a[5]++){for(a[6]=0;a[6]<=6;a[6]++){for(a[7]=0;a[7]<=6;a[7]++){\n\t\tif((a[1]+2*a[2]+2*a[3]+a[4])%7==0||(a[2]+a[3]+a[5]+a[6])%7==0||(2*a[6]+a[7])%7==0){\n\t\tll sum=1;\n\t\tfor(int i=1;i<=7;i++) sum*=(ll)f[i][a[i]];\n\t\tans+=sum; \n\t}\n\t}\n\t}\n\t}\n\t}\n\t}\n\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n} \n```",
        "postTime": 1551876654,
        "uid": 61757,
        "name": "Seanq",
        "ccfLevel": 0,
        "title": "P3123 [USACO15OPEN]\u8d1d\u831c\u8bf4\u54deBessie Goes Moo"
    },
    {
        "content": "\u9996\u5148\u540c\u4f59\u6709\u4e00\u4e2a\u6027\u8d28\uff1a\n\n$\\text{\u82e5}x\u2261a(mod\\ p),y\u2261b(mod\\ p),\\text{\u5219\u6709}xy\u2261ab(mod\\ p)$\n\n\u6240\u4ee5\u6211\u4eec\u628a\u8bfb\u5165\u7684\u6570\u5148\u5bf9$7$\u53d6\u819c\uff0c\u95ee\u9898\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86\u3002\n\n\u6211\u4eec\u8bbe$\\texttt{B,E,S,I,G,O,M}$\u5206\u522b\u4e3a$1,2,3,4,5,6,7$\n\n\u7136\u540e\u66b4\u529b\u679a\u4e3e\u4e0b\u5c31\u597d\u4e86\u3002\u590d\u6742\u5ea6$O(7^8)$\n```\n#include<bits/stdc++.h>\n#define gc getchar \nusing namespace std;\nint has[8][8],n;\nlong long ans;\ninline int getch(){\n\tchar x=gc();\n\twhile (!isalpha(x)) x=gc();\n\tif (x=='B') return 1;\n\tif (x=='E') return 2;\n\tif (x=='S') return 3;\n\tif (x=='I') return 4;\n\tif (x=='G') return 5;\n\tif (x=='O') return 6;\n\tif (x=='M') return 7;\n}\n//BESIGOM\ninline int read(){\n    int x=0,f=1;char ch=gc();\n    while(ch<'0'||ch>'9') {if (ch=='-') f=-1;ch=gc();}\n    while(ch<='9'&&ch>='0') x=x*10+ch-'0',ch=gc();\n    return x*f;\n}\nint main(){\n\tn=read();\n\tfor (int i=1;i<=n;i++){\n\t\tint ch=getch(),x=read();\n\t\thas[ch][(x%7+7)%7]++;\n\t}\n\tfor (int iB=0;iB<=6;iB++){\n\t\tfor (int iE=0;iE<=6;iE++){\n\t\t\tfor (int iS=0;iS<=6;iS++){\n\t\t\t\tfor (int iI=0;iI<=6;iI++){\n\t\t\t\t\tfor (int iG=0;iG<=6;iG++){\n\t\t\t\t\t\tfor (int iO=0;iO<=6;iO++){\n\t\t\t\t\t\t\tfor (int iM=0;iM<=6;iM++){\n\t\t\t\t\t\t\t\tif ((iB+iE+2*iS+iI+iE)*(iG+iO+iE+iS)*(iM+iO+iO)%7) continue;\n                                //\u5224\u65ad\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\n\t\t\t\t\t\t\t\tlong long tmp=1;\n\t\t\t\t\t\t\t\ttmp*=has[1][iB];\t\n\t\t\t\t\t\t\t\ttmp*=has[2][iE];\n\t\t\t\t\t\t\t\ttmp*=has[3][iS];\n\t\t\t\t\t\t\t\ttmp*=has[4][iI];\n\t\t\t\t\t\t\t\ttmp*=has[5][iG];\n\t\t\t\t\t\t\t\ttmp*=has[6][iO];\n\t\t\t\t\t\t\t\ttmp*=has[7][iM];\n\t\t\t\t\t\t\t\tans+=tmp;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1545091011,
        "uid": 20309,
        "name": "Fading",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3123 \u3010[USACO15OPEN]\u8d1d\u831c\u8bf4\u54deBessie Goes Moo\u3011"
    },
    {
        "content": "# \u89e3\u9898\u601d\u8def\uff1a\n\u9996\u5148\u6211\u4eec\u89c2\u5bdf\u9898\u4e2d\u6240\u7ed9\u5f0f\u5b50\uff1a\n\n$$(B+E+S+S+I+E)(G+O+E+S)(M+O+O)$$\n\n\u5f88\u5bb9\u6613\u53d1\u73b0\u5176\u4e2d\u53ea\u6709\u52a0\u6cd5\u548c\u4e58\u6cd5\u8fd0\u7b97\uff0c\u6545\u8054\u7cfb\u9898\u4e2d\u8981\u6c42\u88ab\u4e03\u6574\u9664\u7684\u8981\u6c42\u53ef\u4ee5\u60f3\u5230\u5c06\u6240\u6709\u53ef\u80fd\u53d6\u503c\u5bf9\u4e03\u53d6\u6a21\uff0c\u800c\u9898\u76ee\u53c8\u4fdd\u8bc1\u6ca1\u6709\u4e24\u4e2a\u53d6\u503c\u76f8\u540c\uff0c\u6240\u4ee5\u76f4\u63a5\u679a\u4e3e\u6bcf\u4e2a\u6570\u7684\u503c\u5bf9\u4e8e\u4e03\u7684\u4f59\u6570\uff0c\u5728\u4f7f\u5f0f\u5b50\u88ab\u4e03\u6574\u9664\u65f6\u8ba1\u7b97\u65b9\u6848\u6570\u5373\u53ef\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n\nusing namespace std;\n\nint n, x;\nchar c;\nlong long ans1, ans2, ans3, ans, ans4, ans5, ans6, ans7;\n\nstruct bian {\n  int a[7], s;\n}b[7];\n\nint main() {\n  ios_base::sync_with_stdio(0);//\u4e00\u4e2a\u4f18\u5316cin\uff0ccout\u7684\u4e1c\u897f\n  cin.tie(NULL), cout.tie(NULL);\n  cin >> n;\n  for (register int i = 1; i <= n; ++i) {\n    cin >> c >> x;//B0, E1, S2, I3, G4, O5, M6\n    if (c == 'B') {\n      ++b[0].a[(x % 7 + 7) % 7], ++b[0].s;\n    } if (c == 'E') {\n      ++b[1].a[(x % 7 + 7) % 7], ++b[1].s;\n    } if (c == 'S') {\n      ++b[2].a[(x % 7 + 7) % 7], ++b[2].s;\n    } if (c == 'I') {\n      ++b[3].a[(x % 7 + 7) % 7], ++b[3].s;\n    } if (c == 'G') {\n      ++b[4].a[(x % 7 + 7) % 7], ++b[4].s;\n    } if (c == 'O') {\n      ++b[5].a[(x % 7 + 7) % 7], ++b[5].s;\n    } if (c == 'M') {\n      ++b[6].a[(x % 7 + 7) % 7], ++b[6].s;\n    }\n  }\n  for (register int i = 0; i <= 6; i++) { //\u679a\u4e3eb\u7684\u503c\u9664\u4e03\u7684\u4f59\u6570\n    if(b[0].a[i]){//\u907f\u514d\u51fa\u73b0\u4e00\u4e9b\u6ca1\u7528\u7684\u72b6\u6001\n      for (register int j = 0; j <= 6; ++j) { //\u679a\u4e3ee\u7684\u503c\u9664\u4e03\u7684\u4f59\u6570\n      if(b[1].a[j]){\n        for (register int k = 0; k <= 6; ++k) { //\u679a\u4e3es\u7684\u503c\u9664\u4e03\u7684\u4f59\u6570\n        if(b[2].a[k]) {\n        for (register int l = 0; l <= 6; ++l) { //\u679a\u4e3ei\u7684\u503c\u9664\u4e03\u7684\u4f59\u6570\n        if(b[3].a[l]) {\n          for (register int s = 0; s <= 6; ++s) { //\u679a\u4e3eg\u7684\u503c\u9664\u4e03\u7684\u4f59\u6570\n          if(b[4].a[s]){\n            for (register int p = 0; p <= 6; ++p) { //\u679a\u4e3eo\u7684\u503c\u9664\u4e03\u7684\u4f59\u6570\n            if(b[5].a[p]){\n              for (register int q = 0; q <= 6; ++q) {//\u679a\u4e3em\u7684\u503c\u9664\u4e03\u7684\u4f59\u6570\n                if (((i + 2 * j + 2 * k + l) * (j + k + s + p) * (q + 2 * p)) % 7 == 0) {\n                  ans7 += 1ll * b[0].a[i] * b[1].a[j] * b[2].a[k] * b[3].a[l] * b[4].a[s] * b[5].a[p] * b[6].a[q];//\u7d2f\u52a0\u65b9\u6848\u6570\n                }\n              }}\n            }}\n          }}\n        }}\n      }}\n    }}\n  }\n  cout << ans7;\n  return 0;\n}\n```\n",
        "postTime": 1626763671,
        "uid": 203317,
        "name": "Parat_rooper",
        "ccfLevel": 0,
        "title": "P3123\u9898\u89e3"
    },
    {
        "content": "\u9898\u610f\uff1a\u4ee3\u7801\u4e0b\u9762\u6709\u5f88\u591a\uff0c\u6211\u53ea\u6765\u8bf4\u4e00\u4e0b\u9898\u76ee\u5565\u610f\u601d\u3002\n      B,E,S,I,G,O,M\u8fd9\u51e0\u4e2a\u5b57\u6bcd\u3002\n      \u7b2c\u4e00\u884c\u7ed9\u4f60\u7ed9\u51fa\u4e00\u4e2a\u6b63\u6574\u6570n\uff0c\u4e0b\u9762n\u884c\uff0c\u6bcf\u884c\u4e00\u4e2a\u5b57\u6bcd\uff0c\u4e00\u4e2a\u6570\u5b57\uff0c\u8868\u793a\n      \u90a3\u4e2a\u5b57\u6bcd\u662f\u54ea\u4e2a\u503c\u3002\u73b0\u5728\u95ee\u4f60\u6709\u591a\u5c11\u79cdB,E,S,I,G,O,M\u5b57\u6bcd\u7ec4\u5408\u4f7f\u5f97\u4ed6\u4eec\n      \u80fd\u6ee1\u8db3(B+E+S+S+I+E)(G+O+E+S)(M+O+O)\u53d6\u4f597\u4e3a0.\u5176\u4e2d\u8fd9\u51e0\u4e2a\u5b57\u6bcd\u662f\u53ef\u4ee5\n      \u91cd\u590d\u7684\u3002\n\u601d\u8def\uff1a\u6211\u4eec\u9700\u8981\u8bb0\u5f55B,E,S,I,G,O,M\u8fd9\u51e0\u4e2a\u5b57\u6bcd\u5206\u522b\u6709\u51e0\u79cd\uff0c\u6bcf\u79cd\u4e2a\u6709\u591a\u5c11\u4e2a\u3002\n      \u6bcf\u79cd\u5c31\u662f\u5728\u6a217\u4e0b\u3002\u7136\u540e\u76f4\u63a5\u66b4\u529b\u6389\u5c31\u597d\u4e86\u3002\nAC\u4ee3\u7801\uff1a\uff08\u548c\u697c\u4e0b\u5927\u4f6c\u7684\u4ee3\u7801\u5dee\u4e0d\u591a\uff09\n```c\n#include<bits/stdc++.h>\n#pragma GCC optimize(2)\n#define MAXN 20\n#define MAXP 55\n#define maxnode 50010\n#define sigma_size 26\n#define mod 1000000007\n#define INF 0x3f3f3f3f\n#define lc  (id<<1)\n#define rc  (id<<1|1)\nusing namespace std;\ntypedef long long LL;\n\nLL num[100][8];\nchar str[10],ch;\nint n,pop;\nLL ans;\n\nint main()\n{\n    scanf(\"%d\",&n);\n    ans=0;\n    for(int i=1;i<=n;i++)\n    {\n        scanf(\"%s\",str);\n        scanf(\"%d\",&pop);\n        ch=str[0];\n        num[ch][(pop%7+7)%7]++;\n    }\n    for(int B=0;B<7;B++)\n    {\n        for(int E=0;E<7;E++)\n        {\n            for(int S=0;S<7;S++)\n            {\n                for(int I=0;I<7;I++)\n                {\n                  for(int G=0;G<7;G++)\n                  {\n                     for(int O=0;O<7;O++)\n                     {\n                         for(int M=0;M<7;M++)\n                         {\n                             if(((B+E+S+S+I+E)*(G+O+E+S)*(M+O+O))%7==0)\n                             {\n                                ans+=num['B'][B]*num['E'][E]*num['S'][S]*num['I'][I]*num['G'][G]*num['O'][O]*num['M'][M];\n                             }\n                         }\n                     }\n                 }\n             }\n          }\n        }\n    }\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n\n```\n",
        "postTime": 1577535130,
        "uid": 210155,
        "name": "abandentsky",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3123 \u3010[USACO15OPEN]\u8d1d\u831c\u8bf4\u54deBessie Goes Moo\u3011"
    },
    {
        "content": "**\u9898\u76ee\u63cf\u8ff0**\n\n\u4e03\u4e2a\u53d8\u91cfB,E,S,I,G,O,M;\u4f7f\u5f97(B+E+S+S+I+E)(G+O+E+S)(M+O+O)\u88ab7\u6574\u9664\u7684\u65b9\u6848\u6709\u591a\u5c11\u79cd.\n\n**\u8f93\u5165\u683c\u5f0f**\n\n\u7b2c\u4e00\u884c\u4e00\u4e2a\u6574\u6570N\n\n\u63a5\u4e0b\u6765N\u884c\uff0c\u6bcf\u884c\u5305\u542b\u4e00\u4e2a\u53d8\u91cf\u548c\u5176\u53ef\u80fd\u7684\u4e00\u4e2a\u503c\u3002\u8f93\u5165\u6570\u636e\u4fdd\u8bc1\u540c\u4e00\u4e2a\u53d8\u91cf\u53ef\u80fd\u7684\u53d6\u503c\u5404\u4e0d\u76f8\u540c\uff0c\u4e14\u90fd\u5728-10^5 \u5230 10^5\u4e4b\u95f4\n\n**\u8f93\u51fa\u683c\u5f0f**\n\n\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u65b9\u6848\u6570\u3002\n\n**\u8f93\u5165\u8f93\u51fa\u6837\u4f8b**\n\n**\u8f93\u5165**\n\n```\n10\nB 2\nE 5\nS 7\nI 10\nO 16\nM 19\nB 3\nG 1\nI 9\nM 2\n```\n\n**\u8f93\u51fa **\n\n```\n2\n```\n\n**\u8bf4\u660e/\u63d0\u793a**\n\nThe two possible assignments are\n\n(B,E,S,I,G,O,M) = (2, 5, 7, 9, 1, 16, 19) -> 51,765\n\n= (2, 5, 7, 9, 1, 16, 2 ) -> 34,510\n\n\n\n> \u7b80\u5355\u601d\u8def\n\n\u5982\u679c\u5c06\u53ef\u80fd\u7684\u53d6\u503c\u6a217\uff0c\u5e76\u4e0d\u5f71\u54cd\u7edf\u8ba1\u7684\u7ed3\u679c\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u8f93\u5165\u7684\u65f6\u5019\u5c06\u6bcf\u4e2a\u53d6\u503c\u6a217\u540e\u7684\u7ed3\u679c\u51fa\u73b0\u7684\u6b21\u6570\u4fdd\u5b58\u4e0b\u6765\uff0c\u5219\u6bcf\u4e2a\u53d8\u91cf\u53d6\u503c\u53ea\u6709\u4e03\u79cd\u60c5\u51b5\uff0c\u518d\u5e26\u5165\u8868\u8fbe\u5f0f\u66b4\u529b\u679a\u4e3e\uff0c\u7edf\u8ba1\u7b54\u6848\u3002\n\n\n\n```cpp\n#include<cmath>\n#include<cctype>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\ninline char getc(){\n\tstatic const int len=1<<19;static char buf[len],*p1=buf,*p2=buf;\n\treturn p1==p2 and (p2=(p1=buf)+fread(buf,1,len,stdin),p1==p2)?EOF:*p1++;\n}\ninline bool blank(char c){return c==' ' or c=='\\n' or c=='\\r' or c=='\\t';}\ntemplate <typename T> inline void rd(T &x){\n\tx=0;bool f=false;char c=getc();\n\twhile(!isdigit(c)) f=(c=='-'),c=getc();\n\twhile(isdigit(c)) x=x*10+c-'0',c=getc();\n\tif(f) x=-x;\n}\ninline void rdb(double &x){\n\tx=0;bool f=false;char c=getc();\n\twhile(!isdigit(c)) f=(c=='-'),c=getc();\n\twhile(isdigit(c)) x=x*10+c-'0',c=getc();\n\tif(c=='.') {double tmp=1;c=getc();while(isdigit(c)) tmp/=10.0,x+=tmp*(c-'0'),c=getc();}\n\tif(f) x=-x;\n}\ninline int rds(char *s){\n\tint len=0;char c=getc();\n\tfor(;blank(c);c=getc());\n\tfor(;!blank(c);c=getc()) *s++=c,len++;\n\t*s=0;return len;\n}\n#define hh puts(\"\")\n#define int long long\n#define DB double\n#define mod(x) (x%7+7)%7\n#define documents(x); freopen(x\".in\",\"r\",stdin);freopen(x\".out\",\"w\",stdout);\nusing namespace std;\n\nint n,ans,mo[10][10],curr[10];\n\nvoid dfs(int x);\n\nsigned main(){\n\t//documents(\"math\");\n\trd(n);\n\tfor(int i=1,x;i<=n;i++){\n\t\tchar c=getc();\n\t\twhile(blank(c)) c=getc();\n\t\tif(isalpha(c)){\n\t\t\tswitch(c){\n\t\t\t\tcase 'B': {rd(x);mo[1][mod(x)]++;break;}\n\t\t\t\tcase 'E': {rd(x);mo[2][mod(x)]++;break;}\n\t\t\t\tcase 'S': {rd(x);mo[3][mod(x)]++;break;}\n\t\t\t\tcase 'I': {rd(x);mo[4][mod(x)]++;break;}\n\t\t\t\tcase 'G': {rd(x);mo[5][mod(x)]++;break;}\n\t\t\t\tcase 'O': {rd(x);mo[6][mod(x)]++;break;}\n\t\t\t\tcase 'M': {rd(x);mo[7][mod(x)]++;break;}\n\t\t\t}\n\t\t}\n\t}\n\tdfs(1);\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n\nvoid dfs(int step){\n\tif(step>7){\n\t\tif((curr[1]+2*curr[2]+2*curr[3]+curr[4])*(curr[5]+curr[6]+curr[2]+curr[3])*(curr[7]+2*curr[6])%7==0){\n\t\t\tint tmp=1;\n\t\t\tfor(int i=1;i<=7;i++){\n\t\t\t\ttmp*=mo[i][curr[i]];\n\t\t\t}\n\t\t\tans+=tmp;\n\t\t\treturn ;\n\t\t}\n\t\treturn ;\n\t}\n\tfor(int i=0;i<7;i++){\n\t\tif(!mo[step][i]) continue;\n\t\tcurr[step]=i;\n\t\tdfs(step+1);\n\t}\n}\n```\n\n",
        "postTime": 1571909093,
        "uid": 187618,
        "name": "Pjenorsheet",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3123 \u3010[USACO15OPEN]\u8d1d\u831c\u8bf4\u54deBessie Goes Moo\u3011"
    }
]