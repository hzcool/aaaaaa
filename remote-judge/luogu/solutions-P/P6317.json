[
    {
        "content": "## \u9898\u76ee\u63cf\u8ff0\n\u5728 $n \\times n$ \u7684\u7f51\u683c\u4e2d\uff0c\u4f7f\u6bcf\u4e00\u6392\uff0c\u6bcf\u4e00\u5217\u90fd\u53ea\u6709\u4e00\u4e2a\u68cb\u5b50\uff0c\u6c42\u65b9\u6848\u6b65\u6570\u7684\u6700\u5c0f\u503c\u3002\n## \u5206\u6790\n\u6211\u4eec\u53d1\u73b0\u6bcf\u4e00\u6392\uff0c\u6bcf\u4e00\u5217\u662f\u4e0d\u5f71\u54cd\u7684\uff0c\u90a3\u4e48\u53ef\u4ee5\u8003\u8651\u5148\u6309 $x$ \u8f74\u6392\u5e8f\uff0c\u518d\u6309 $y$ \u8f74\u6392\u5e8f\uff0c\u8d2a\u5fc3\u7684\u9009\u53d6\u7b2c $i$ \u4e2a\u3002\u8bc1\u660e\uff1a\n$$\n\\text{\u6709\u4ee5\u4e0b\u539f\u5750\u6807\u6392\u5e8f:} \\ a_1\\le a_2 \\le a_3 \\le ...\\le a_n\n$$\n$$\nans_1= \\sum_i^n abs(a_i-i)\n$$ \n$\\text{\u82e5\u4ea4\u6362\u7b2cx,y\u4e2a(x < y):}$\n$$\nans_2 = \\sum_{i,i \\neq x,y}^nabs(a_i-i)+abs(a_x-y)+abs(a_y-x)\n$$\n$$\nabs(a_x-x)+ abs(a_y-y) \\le abs(a_x-y)+ abs(a_y-x)\n$$\n\u56e0\u4e3a\u70b9 $(a_x,a_y)$ \u4e00\u5b9a\u5728\u76f4\u7ebf $y=x$ \u4e4b\u4e0a\uff0c\u6240\u4ee5 $(x,y)$ \u7684\u66fc\u54c8\u987f\u8ddd\u79bb\u4e00\u5b9a\u6bd4 $(y,x)$ \u66f4\u77ed\n\n\u6240\u4ee5\u7531\u5c0f\u5230\u5927\u4e00\u5b9a\u6700\u4f18\u3002\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N = 5110;\nstruct node\n{\n    int x,y,id; \n}s[N];\nstruct Q{\n\tint id,M;\n\tchar A;\n}st[N];\ninline int read()\n{\n    int t=0,f = 0;char a=getchar();\n\twhile(a<'0'||a>'9'){if(a=='-')f=1;a=getchar();}\n    while(a>='0'&&a<='9'){t=(t<<1)+(t<<3)+a-'0';a=getchar();}\n\treturn f?-t:t;\n}\nbool cmp1(node a,node b)\n{\n\treturn a.x<b.x;\n}\nbool cmp2(node a,node b)\n{\n\treturn a.y<b.y;\n}\nlong long n,ans = 0,top = 0;\nint main()\n{\n\tn = read();\n\tfor(int i = 1;i <= n;i++)\n\ts[i].x = read(),s[i].y = read(),s[i].id = i;\n\tsort(s+1,s+1+n,cmp1);\n\tfor(int i = 1;i <= n;i++)\n\t{\n\t\tint f = s[i].x - i;\n\t\tans += abs(f);\n\t\tif(f < 0)\n\t\t{\n\t\t\tst[++top].id = s[i].id;\n\t\t\tst[top].M = abs(f);\n\t\t\tst[top].A = 'D';\n\t\t}\n\t\tif(f > 0)\n\t\t{\n\t\t\tst[++top].id = s[i].id;\n\t\t\tst[top].M = abs(f);\n\t\t\tst[top].A = 'U';\n\t\t}\n\t}\n\tsort(s+1,s+1+n,cmp2);\n\tfor(int i = 1;i <= n;i++)\n\t{\n\t\tint f = s[i].y - i;\n\t\tans += abs(f);\n\t\tif(f < 0)\n\t\t{\n\t\t\tst[++top].id = s[i].id;\n\t\t\tst[top].M = abs(f);\n\t\t\tst[top].A = 'R';\n\t\t}\n\t\tif(f > 0)\n\t\t{\n\t\t\tst[++top].id = s[i].id;\n\t\t\tst[top].M = abs(f);\n\t\t\tst[top].A = 'L';\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",ans);\n\tfor(int i = 1;i <= top;i++)\n\t{\n\t\tfor(int j = 1;j <= st[i].M;j++)\n\t\t{\n\t\t\tprintf(\"%d %c\\n\",st[i].id,st[i].A);\n\t\t}\n\t}\n}\n```\n[\u535a\u5ba2\u5730\u5740](https://www.luogu.com.cn/blog/xzc/solution-p6317)",
        "postTime": 1590568870,
        "uid": 227824,
        "name": "JK_LOVER",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6317 \u3010[COCI2006-2007#3]  TENKICI\u3011"
    }
]