[
    {
        "content": "\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cd\u65b0\u7684\u601d\u8def:\n\n\u72b6\u6001:**f[i][j][k][m] : \u524di\u4e2a\u7269\u54c1 \u5f53\u524d\u624b\u4e2d\u6709j\u4e2a\"A\" k\u4e2a\"B\" m\u4e2a\"C\"\u65f6\u7684\u6700\u5c0f\u5378\u8d27\u6b21\u6570**\n\n\u5f88\u660e\u663e\u5bf9\u4e8e\u7b2ci\u4e2a\u7269\u54c1\u53ef\u4ee5\n\n1:)\u53ea\u53d6\u51fa\u6765 \u6682\u65f6\u4e0d\u88c5\u8fdb\u53bb \u524d\u63d0\u5c31\u662f\u5f53\u524d\u624b\u4e2d\u8d27\u7269\u6570\u91cf<10\n\n2:)\u53d6\u51fa\u6765\u540e \u88c5\u8fdb\u53bb \u6ca1\u6709\u524d\u63d0\n\n\u6240\u4ee5\u8f6c\u79fb\u65b9\u7a0b\u5c31\u51fa\u6765\u4e86:\n\n**f[i][j][k][m] = f[i-1][j-1][k][m] if(ob[i]=='A' && j)**\n\n**f[i][j][k][m] = f[i-1][j][k-1][m] if(ob[i]=='B' && k)**\n\n**f[i][j][k][m] = f[i-1][j][k][m-1] if(ob[i]=='C' && m)**\n\n\u4ee5\u4e0a\u4e09\u4e2a\u5747\u662f ****\u53ea\u53d6\u51fa\u6765****\n\n**f[i][0][k][m] = f[i][j][k][m] + 1 ;**\n\n**f[i][j][0][m] = f[i][j][k][m] + 1 ;**\n\n**f[i][j][k][0] = f[i][j][k][m] + 1 ;**\n\n\u8fd9\u4e09\u4e2a\u5c31\u662f\u5378\u8d27\u5566qwq \u8fd8\u6709\u4e00\u4e2a\u5927\u524d\u63d0:****j+k+m<=10****\n\n\u521d\u503c:**f[0][0][0][0]=0** ; \u5176\u4ed6\u5747\u4e3a**+oo**\n\n\u76ee\u6807:**f[n][0][0][0]**\n\n\u8fd8\u4e0d\u61c2\u5c31\u7ed3\u5408~~\u849f\u84bb\u7684~~\u4ee3\u7801\u770b\u770b\n\n```\n#pragma GCC optimize (2)\n#include<bits/stdc++.h>\n#define M 10005\n#define rep(i , x , y) for(register int i = x ; i <= y ; ++i)\n#define Rep(i , x , y) for(register int i = x ; i >= y ; --i)\nusing namespace std ;\nint f[101][11][11][11] ;\n//f[i][j][k][m] \u8868\u793a\u524di\u4e2a\u7269\u54c1 \u5f53\u524d\u624b\u4e0a\u6709A j\u4e2a B k\u4e2a C m\u4e2a \nint n ;\nchar obje[101] ;//\u5b58\u7269\u54c1 \nint main(){\n\tmemset(f , 63 , sizeof f) ;//\u8d4b\u4e3ainf \n\tscanf(\"%d\",&n) ;\n\trep(i , 1 , n)cin >> obje[i] ;\n\tf[0][0][0][0] = 0 ;//\u521d\u503c \n\trep(i , 1 , n)rep(j , 0 , 10)rep(k , 0 , 10)rep(p , 0 , 10){\n\t\tif(j + k + p > 10)continue ;//\u624b\u4e2d\u7269\u54c1\u4e0d\u80fd\u8d85\u8fc710\u4e2a \u5426\u5219\u4e0d\u5904\u7406 \n\t\tif(obje[i] == 'A' && j)//\u4e09\u4e2a\u72b6\u6001\u8f6c\u79fb \u90fd\u5dee\u4e0d\u591a(\u53ea\u88c5) \u6ce8\u610fj,k,p\u5f97\u5b58\u5728 \n\t\tf[i][j][k][p] = f[i - 1][j - 1][k][p] ;\n\t\tif(obje[i] == 'B' && k)\n\t\tf[i][j][k][p] = f[i - 1][j][k - 1][p] ;\n\t\tif(obje[i] == 'C' && p)\n\t\tf[i][j][k][p] = f[i - 1][j][k][p - 1] ;\n\t\t//\u8fd9\u662f\u5378\u8d27\u7684\u8f6c\u79fb \n\t\tf[i][0][k][p] = min(f[i][0][k][p] , f[i][j][k][p] + 1) ;\n\t\tf[i][j][0][p] = min(f[i][j][0][p] , f[i][j][k][p] + 1) ;\n\t\tf[i][j][k][0] = min(f[i][j][k][0] , f[i][j][k][p] + 1) ;\n\t}\n\tprintf(\"%d\\n\",f[n][0][0][0]) ;//\u7ec8\u6001 \n\treturn 0 ;\n}\n```",
        "postTime": 1535679725,
        "uid": 61637,
        "name": "Always",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    },
    {
        "content": "\u8fd9\u4e48\u4e00\u9053\uff08\u8bb0\u5fc6\u5316\u641c\u7d22||dp\uff09\u7684\u597d\u9898\uff0c\u7adf\u7136\u6ca1\u4eba\u53d1\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u90a3\u6211\u6765\u5427\uff0c\u5176\u5b9e\u4e00\u822c\u7684dp\u90fd\u80fd\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\u8fc7\uff0c\u6bd5\u7adf\u539f\u7406\u90fd\u4e00\u6837\uff0c\u4e0d\u8fc7\u6211\u89c9\u5f97\u8bb0\u5fc6\u5316\u641c\u7d22\u597d\u7406\u89e3\u4e00\u4e9b\uff0c\u72b6\u6001f[x][a][b][c]\uff1ax\u8868\u793a\u5f53\u524d\u5904\u7406\u5230\u7684\u6210\u54c1\u7684\u4e0b\u6807+1\uff08\u5c31\u662f\u9a6c\u4e0a\u8981\u5904\u7406\u7684\u5f00\u5934\uff09\uff0ca\u8868\u793a\u5f53\u524d\u624b\u4e0a\u6709\u7684A\u7684\u6570\u91cf\uff0cb\u548cc\u5c31\u662fB\u548cC\u7684\u6570\u91cf\u5566\uff0c\u5176\u5b83\u7684\u4ee3\u7801\u91cc\u8be6\u8bf4\uff1a\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\nusing namespace std;\nint n,a[101],f[101][11][11][11];//a\u662f\u5b58\u6210\u54c1\u7684\u79cd\u7c7b\nint dfs(int g[4],int x)//g\u5b58\u5f53\u524d\u4e09\u79cd\u6210\u54c1\u5728\u624b\u4e0a\u7684\u6570\u91cf\n{\n    if(f[x][g[1]][g[2]][g[3]]!=0) return f[x][g[1]][g[2]][g[3]];//\u8bb0\u5fc6\u5316\u8c03\u7528\n    if(g[1]==0&&g[2]==0&&g[3]==0) return 0;//\u5904\u7406\u5b8c\u4e86\u8fd4\u56de\u8fd8\u9700\u89810\u6b21\u5904\u7406\n    int num=100000000;//num\u8bb0\u5f55\u5b50\u65b9\u6848\u7684\u6700\u4f18\u89e3\n    for(int i=1;i<=3;i++)//\u679a\u4e3e\u88c5\u7bb1\u7684\u6210\u54c1\u79cd\u7c7b\n        if(g[i]!=0)//\u8981\u624b\u4e0a\u624b\u4e0a\u6709\u624d\u88c5\n        {\n            int t1=g[1],t2=g[2],t3=g[3],j,t=g[i];//\u8bb0\u5f55\u4e0b\u5f53\u4e0b\u7684\u503c\uff0c\u65b9\u4fbf\u590d\u539f\n            g[i]=0;//\u88c5\u7bb1\n            for(j=x;j<=x+t-1&&j<=n;j++)//\u53d6\u53d6\u884c\u7684\u6210\u54c1\uff1b\n                g[a[j]]++;\n            num=min(num,dfs(g,j));//\u641c\u7d22\u4e0b\u4e00\u5c42\n            g[1]=t1,g[2]=t2,g[3]=t3;//\u56de\u590d\u5f53\u5c42\u7684\u503c\n        }\n    num++;//\u5728\u4e0a\u9762\u7684\u5faa\u73af\u91cc\u5c31\u8fdb\u884c\u4e86\u88c5\u7bb1\uff0c\u6240\u4ee5\u6b21\u6570\u8981\u52a0\u4e00\n    f[x][g[1]][g[2]][g[3]]=num;//\u8bb0\u5fc6\u5316\n    return num;//\u8fd4\u56de\u6b64\u65b9\u6848\u6700\u4f18\u503c\n}\nint main()\n{\n//    freopen(\"worker.in\",\"r\",stdin);\n    //freopen(\"worker.out\",\"w\",stdout);\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)//\u8f93\u5165\n    {\n        char j;\n        cin>>j;\n        switch(j)\n        {\n            case 'A': a[i]=1;break;\n            case 'B': a[i]=2;break;\n            case 'C': a[i]=3;break;\n        }\n    }\n    int g[4]={0},i;\n    for(i=1;i<=10&&i<=n;i++)//\u5148\u88c5\u5341\u4e2a\n        g[a[i]]++;\n    cout<<dfs(g,i)<<endl;//\u8c03\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\u5e76\u8f93\u51fa\n    return 0;\n}\n```",
        "postTime": 1507704791,
        "uid": 45685,
        "name": "\u6613\u9896\u6770",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    },
    {
        "content": "\u6b64\u9898\u7b2c\u4e00\u6b21\u60f3\u5230\u7684\u662f\u4ee5\u524di\u4e2a\u88c5\u5b8c\u4e3a\u57fa\u7840\u7684\u9636\u6bb5\u8fdb\u884cdp,\u7b54\u6848\u5728dp[n][?][?]....;\n\u4f46\u7531\u4e8e\u6bcf\u6b21\u8003\u8651\u88c5\u5b8c\u524d\u9762\u7684\u6765\u8f6c\u79fb\u4e0d\u4e00\u5b9a\u662f\u6700\u4f18\u7684\uff0c\u6240\u4ee5\u524di\u4f4d\u4e0d\u80fd\u5f53\u4f5c\u72b6\u6001\u3002\n****\u56e0\u6b64\u6211\u4eec\u60f3\u5230\u4e00dp[i][j][k]\u8868\u793a\u88c5\u5b8ci\u4e2aA,j\u4e2aB\uff0ck\u4e2aC\u7684\u6700\u5c11\u88c5\u7bb1\u6b21\u6570\u3002\n\u7b54\u6848\u5c31\u5728dp[num[A]][num[B]][num[C]]\u4e2d\u3002\n\n\u8003\u8651\u8f6c\u79fb,\u5047\u8bbe\u6211\u4eec\u77e5\u9053\u5f53\u524ddp[i][j][k]\u7684\u6700\u4f18\u89e3,\u4e3a\u4e86\u8f6c\u79fb\u5230dp[i+?][j+?][k+?],\u6211\u4eec\u5c31\u9700\u8981\u77e5\u9053\u5f53\u524d\u80fd\u88c5\u591a\u5c11\u4e2aA,B,C,\u56e0\u6b64\u6211\u4eec\u9700\u89813\u4e2a\u4e1c\u897f:****1:\u5f53\u524d\u6d41\u6c34\u7ebf\u7684\u4f4d\u7f6e(\u8bbe\u4e3apos[i][j][k],pos[0][0][0]\u7b49\u4e8e1);2:\u5f53\u524d\u72b6\u6001\u5269\u4f59\u591a\u5c11\u4e2aA,B,C\u6ca1\u6709\u88c5(\u56e0\u4e3a\u4e0d\u4e00\u5b9a\u5f53\u524d\u72b6\u6001\u4f4d\u7f6e\u524d\u9762\u7684\u90fd\u5df2\u7ecf\u88c5\u5b8c\u4e86,\u7528cnt[A,B,C][i][j][k]\u8868\u793a); 3:\u5f53\u524d\u6d41\u6c34\u7ebf\u4f4d\u7f6e\u80fd\u65b0\u52a0\u5165\u7684\u6709\u591a\u5c11\u4e2aA,B,C(get[A,B,C][i][1-10]\u8868\u793a\u4ecei\u8fd9\u4e2a\u4f4d\u7f6e\u5ef6\u4f381-10\u80fd\u6709\u591a\u5c11A,B,C,\u9884\u5904\u7406\u5c31\u884c\u4e86)\u3002\n\n\u6709\u4e86\u8fd93\u6837\u4e1c\u897f\uff0c\u8981\u8f6c\u79fb\u5c31\u5f88\u7b80\u5355\u4e86\uff0c\u4ee5A\u4e3a\u4f8b\u3002\u5047\u8bbeleft\u8868\u793a\u5f53\u524d\u72b6\u6001\u8fd8\u5269\u4f59\u6ca1\u6709\u88c5\u7684\u4e2a\u6570(A,B,C 3\u79cd),\u90a3\u4e48\u8fd8\u80fd\u5ef6\u4f38\u7684\u533a\u95f4\u5c31\u662f ****\u6211\u4eec\u5047\u8bbe\u7684pos[i][j][k]---pos[i][j][k]+(10-left)-1\u3002\u5047\u8bbec1\u4e3a\u5f53\u524d\u72b6\u6001\u8fd8\u6709c1\u4e2aA\u6ca1\u6709\u88c5,new1\u8868\u793a\u5f53\u524dpos\u5ef6\u4f38\u51fa\u53bb\u80fd\u6709\u591a\u5c11\u4e2aA\u3002\n\n****\u8f6c\u79fb\u65b9\u7a0b\u5f88\u5bb9\u6613\u60f3\u5230dp[i+c1+new1][j][k]=min(dp[i][j][k]+1,dp[i+c1+new1][j][k])\u3002\u540c\u7406B\u548cC\u3002\n\n\u6211\u7684\u601d\u8def\u5927\u6982\u662f\u8fd9\u6837\uff0c\u8bb0\u5f55cnt\u7684\u8bdd\uff0c\u8ddf\u7740\u8f6c\u79fb\u5c31\u597d\u4e86\uff0c\u8d34\u4ee3\u7801\uff0c\u4e0d\u61c2\u7684\u8bdd\u53ef\u4ee5\u770b\u4ee3\u7801\uff0c\u6709\u6ce8\u91ca\u3002\u5c31\u662f\u4ee3\u7801\u6709\u70b9\u957f..\n```cpp\n#include<cstdio>//\u6b64\u9898\u7531\u4e8e\u88c5\u7bb1\u8fc7\u7a0b\u4e2d\u6709\u65b0\u7269\u54c1\u52a0\u5165\uff0c\u800c\u4e5f\u6709\u524d\u9762\u6ca1\u88c5\u5b8c\u7684\u53ef\u80fd\uff0c\u6545\u524di\u4e2a\u4e0d\u80fd\u4f5c\u4e3a\u72b6\u6001\u3002 \n#include<algorithm>//\u6211\u4eec\u53ea\u80fd\u8003\u8651\u88c5\u4e86\u591a\u5c11\u4e2aA\uff0cB\uff0c\u548cC\u7684\u6700\u5c11\u6b21\u6570\u3002 \n#include<cstring>\nusing namespace std;\nconst int N=111;//pos[i][j][k]\u8868\u793a\u5f53\u524d\u72b6\u6001\u6d41\u6c34\u7ebf\u7684\u4f4d\u7f6e\u3002 \nint dp[N][N][N],n,pos[N][N][N],cnt[3][N][N][N];//cnt[0,1,2][i][j][k]\u8868\u793a\u5f53\u524d\u72b6\u6001\u5269\u4f59\u591a\u5c11\u4e2a\u6ca1\u6709\u88c5\u3002 \nint get[3][N][11];//\u9884\u5904\u7406\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u5411\u53f3x\u4f4d\u6709\u591a\u5c11A,B,C\u3002 \nint num[3];\nchar s[N];\nint main()\n{\n\tscanf(\"%d\",&n);\n\tchar ch;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tch=getchar();\n\t\twhile(ch<'A'||ch>'C') ch=getchar();\n\t\ts[i]=ch;\n\t\tnum[ch-'A']++;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=i;j<=i+9;j++)\n\t\t{\n\t\t\tif(s[j]=='A') get[0][i][j-i+1]=1;\n\t\t\telse if(s[j]=='B') get[1][i][j-i+1]=1;\n\t\t\telse if(s[j]=='C') get[2][i][j-i+1]=1;\n\t\t\tget[0][i][j-i+1]+=get[0][i][j-i];\n\t\t\tget[1][i][j-i+1]+=get[1][i][j-i];\n\t\t\tget[2][i][j-i+1]+=get[2][i][j-i];\n\t\t}\n\t}\n\tfor(int i=0;i<=num[0];i++)//\u6ce8\u610f\u8d4b\u521d\u503c\u3002 \n\t\tfor(int j=0;j<=num[1];j++)\n\t\t\tfor(int k=0;k<=num[2];k++)\n\t\t\t\tdp[i][j][k]=1e9;\n\t////////////////////////////////////////////////////////////////////////DP\u3002 \n\tdp[0][0][0]=0;pos[0][0][0]=1;cnt[0][0][0][0]=0;cnt[1][0][0][0]=0;cnt[2][0][0][0]=0;//\u521d\u59cb\u5316 \n\tfor(int i=0;i<=num[0];i++)\n\t{\n\t\tfor(int j=0;j<=num[1];j++)\n\t\t{\n\t\t\tfor(int k=0;k<=num[2];k++)\n\t\t\t{\n\t\t\t\tif(dp[i][j][k]==1e9) continue;//\u6211\u4eec\u53ea\u9488\u5bf9\u6709\u503c\u7684\u72b6\u6001\u8fdb\u884c\u8f6c\u79fb\u3002 \n\t\t\t\tint c1=cnt[0][i][j][k];\n\t\t\t\tint c2=cnt[1][i][j][k];\n\t\t\t\tint c3=cnt[2][i][j][k];//\u5f53\u524d\u72b6\u6001\u5269\u4f59\u591a\u5c11\u4e2a\u6ca1\u88c5\u7684A,B,C \n\t\t\t\tint po=pos[i][j][k];\n\t\t\t\tint left=10-(c1+c2+c3);//\u5411\u53f3\u80fd\u5ef6\u957f\u591a\u5c11\uff1f\u6700\u591a\u662f10\u3002 \n\t\t\t\tint new1=get[0][po][left];\n\t\t\t\tint new2=get[1][po][left];\n\t\t\t\tint new3=get[2][po][left];//\u65b0\u52a0\u5165\u7684A,B,C \n\t\t\t\tif(dp[i][j][k]+1<dp[i+c1+new1][j][k])\n\t\t\t\t{\n\t\t\t\t\tdp[i+c1+new1][j][k]=dp[i][j][k]+1;\n\t\t\t\t\tcnt[1][i+c1+new1][j][k]=cnt[1][i][j][k]+new2;//\u56e0\u4e3a\u53ea\u88c5\u4e86A\uff0c\u6545\u5bf9\u4e8eB\u548cC\u5269\u4f59\u7684\u6ca1\u88c5\u7684\u5c31\u662f\u65b0\u52a0\u5165\u7684\u52a0\u4e0a\u539f\u5148\u5269\u4f59\u7684\u3002 \n\t\t\t\t\tcnt[2][i+c1+new1][j][k]=cnt[2][i][j][k]+new3;\n\t\t\t\t\tpos[i+c1+new1][j][k]=po+left; //\u4e0d\u7528\u8003\u8651\u8d8a\u754c\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u53ea\u5173\u5fc3\u88c5\u4e86\u591a\u5c11\u4e2aA,B,C\u3002 \n\t\t\t\t\tcnt[0][i+c1+new1][j][k]=0;//\u8bb0\u5f97\u8d4b0\uff01\uff01\u4e0b\u9762\u540c\u7406\u3002 \n\t\t\t\t}\n\t\t\t\tif(dp[i][j][k]+1<dp[i][j+c2+new2][k])\n\t\t\t\t{\n\t\t\t\t\tdp[i][j+c2+new2][k]=dp[i][j][k]+1;\n\t\t\t\t\tcnt[0][i][j+c2+new2][k]=cnt[0][i][j][k]+new1;\n\t\t\t\t\tcnt[2][i][j+c2+new2][k]=cnt[2][i][j][k]+new3;\n\t\t\t\t\tpos[i][j+c2+new2][k]=po+left;\n\t\t\t\t\tcnt[1][i][j+c2+new2][k]=0;\n\t\t\t\t}\n\t\t\t\tif(dp[i][j][k]+1<dp[i][j][k+c3+new3])\n\t\t\t\t{\n\t\t\t\t\tdp[i][j][k+c3+new3]=dp[i][j][k]+1;\n\t\t\t\t\tcnt[0][i][j][k+c3+new3]=cnt[0][i][j][k]+new1;\n\t\t\t\t\tcnt[1][i][j][k+c3+new3]=cnt[1][i][j][k]+new2;\n\t\t\t\t\tpos[i][j][k+c3+new3]=po+left;\n\t\t\t\t\tcnt[2][i][j][k+c3+new3]=0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\",dp[num[0]][num[1]][num[2]]);\n\treturn 0;\n}\n```\n",
        "postTime": 1535772997,
        "uid": 85752,
        "name": "\u4e36Cyanide",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    },
    {
        "content": "## \u5206\u6790\n\ndp \u9898\n\n\u8bbe $dp_{i,j,k,l}$ \u8868\u793a\u8003\u8651\u5f53\u524d\u9009\u5b8c\u7b2c $i$ \u4e2a,\u624b\u91cc\u6709  $j$ \u4e2a A,$k$ \u4e2a B,$l$ \u4e2a C,\u8003\u8651\u586b\u8868\u6cd5\u3002\n\n\u8bbe $nexa$ \u8868\u793a\u62ff\u8d70 A \u79cd\u540e,\u518d\u8865\u5168\u5230\u5341\u4e2a\u540e\u7684\u4f4d\u7f6e\u3002\n\n\u8bbe $nexb$ \u8868\u793a\u62ff\u8d70 B \u79cd\u540e,\u518d\u8865\u5168\u5230\u5341\u4e2a\u540e\u7684\u4f4d\u7f6e\u3002\n\n\u8bbe $nexc$ \u8868\u793a\u62ff\u8d70 C \u79cd\u540e,\u518d\u8865\u5168\u5230\u5341\u4e2a\u540e\u7684\u4f4d\u7f6e\u3002\n\n\u8bbe $c1$ \u8868\u793a\u62ff\u8d70\u4e00\u79cd\u540e,\u518d\u8865\u5168\u5230\u5341\u4e2a\u540e A \u7684\u6570\u91cf\u3002\n\n\u8bbe $c2$ \u8868\u793a\u62ff\u8d70\u4e00\u79cd\u540e,\u518d\u8865\u5168\u5230\u5341\u4e2a\u540e B \u7684\u6570\u91cf\u3002\n\n\u8bbe $c3$ \u8868\u793a\u62ff\u8d70\u4e00\u79cd\u540e,\u518d\u8865\u5168\u5230\u5341\u4e2a\u540e C \u7684\u6570\u91cf\u3002\n\n\u6240\u4ee5\uff1a\n\n$$\ndp_{nexa,j,k+c2,l+c3}=\\min (dp_{nexa,j,k+c2,l+c3},dp_{i,j,k,l}+1) \n$$\n\n$$\ndp_{nexb,j+c1,k,l+c3}=\\min (dp_{nexb,j+c1,k,l+c3},dp_{i,j,k,l}+1) \n$$\n\n$$\ndp_{nexc,j+c1,k+c2,l}=\\min (dp_{nexb,j+c1,k+c2,l},dp_{i,j,k,l}+1) \n$$\n\n\u4e3a\u4e86\u66f4\u7cbe\u51c6\u7684\u904d\u5386\u72b6\u6001\uff0c\u518d\u8bb0\u4e00\u4e2a $vis_{i,j,k,l}$ \u8868\u793a\u5f53\u524d\u9009\u5b8c\u7b2c $i$ \u4e2a,\u624b\u91cc\u6709 $j$ \u4e2aA,$k$ \u4e2a B,$l$ \u4e2a C \u7684\u72b6\u6001\u76ee\u524d\u662f\u5426\u53ef\u8fbe\u3002\n\n### \u4ee3\u7801\n\n```\n#include<bits/stdc++.h>\n#define re reigister\n#define in inline\nusing namespace std;\nin int read(){\n\tint x=0,f=1;char c=getchar();\n\twhile(!isdigit(c)){if(c=='-')f=-1;c=getchar();}\n\twhile(isdigit(c))x=x*10+c-'0',c=getchar();\n\treturn x*f;\n}\nin void print(int x){\n\tif(x<0)x=-x,putchar('-');\n\tif(x>9)print(x/10);\n\tputchar(x%10+'0');\n}\nconst int N=1e2+100;\nint dp[N][11][11][11];\nbool vis[N][11][11][11];\nint n,_10;\nint c1,c2,c3;\nchar c[N];\nvoid qa(int k,int x,int y,int z){\t\t\t\t//\u62ff\u8d70\u8fd910\u4e2a\u4e2d\u6240\u6709\u7684 A \u3002 \n\tint sum=10-y-z;\n\tc1=0,c2=0,c3=0;\n\tint nex=min(n,k+sum);\n\tfor(int i=k+1;i<=nex;i++)c1+=(c[i]=='A'),c2+=(c[i]=='B'),c3+=(c[i]=='C');\n\tdp[nex][c1][y+c2][z+c3]=min(dp[nex][c1][y+c2][z+c3],dp[k][x][y][z]+1);\n\tvis[nex][c1][y+c2][z+c3]=1;\t\t\t\t\t//\u6807\u8bb0\u72b6\u6001\u662f\u5426\u53ef\u8fbe\u3002 \n}\nvoid qb(int k,int x,int y,int z){\t\t\t\t//\u62ff\u8d70\u8fd910\u4e2a\u4e2d\u6240\u6709\u7684 B \u3002 \n\tint sum=10-x-z;\n\tc1=0,c2=0,c3=0;\n\tint nex=min(n,k+sum);\n\tfor(int i=k+1;i<=nex;i++)c1+=(c[i]=='A'),c2+=(c[i]=='B'),c3+=(c[i]=='C');\n\tdp[nex][x+c1][c2][z+c3]=min(dp[nex][x+c1][c2][z+c3],dp[k][x][y][z]+1);\n\tvis[nex][x+c1][c2][z+c3]=1;\n}\nvoid qc(int k,int x,int y,int z){\t\t\t\t//\u62ff\u8d70\u8fd910\u4e2a\u4e2d\u6240\u6709\u7684 C \u3002 \n\tint sum=10-x-y;\n\tc1=0,c2=0,c3=0;\n\tint nex=min(n,k+sum);\n\tfor(int i=k+1;i<=nex;i++)c1+=(c[i]=='A'),c2+=(c[i]=='B'),c3+=(c[i]=='C');\n\tdp[nex][x+c1][y+c2][c3]=min(dp[nex][x+c1][y+c2][c3],dp[k][x][y][z]+1);\n\tvis[nex][x+c1][y+c2][c3]=1;\n}\nint ans=2e9;\nint main(){\n\tmemset(dp,0x3f,sizeof(dp));\n\tn=read();_10=min(n,10);\t\t\t\t\t\t//\u5904\u7406\u5c0f\u4e8e\u5341\u7684\u60c5\u51b5\u3002 \n\tfor(int i=1;i<=n;i++){\n\t\tcin>>c[i];\n\t\tif(i<=10)\n\t\t\tc1+=(c[i]=='A'),c2+=(c[i]=='B'),c3+=(c[i]=='C');\n\t}\n\tvis[_10][c1][c2][c3]=1,dp[_10][c1][c2][c3]=0;\n\tfor(int i=_10;i<=n;i++)\n\t\tfor(int j=0;j<=10;j++)\n\t\t\tfor(int k=0;k<=10;k++)\n\t\t\t\tfor(int l=0;l<=10;l++){\n\t\t\t\t\tif(j+k+l>10)continue;\n\t\t\t\t\tif(!vis[i][j][k][l])continue;\n\t\t\t\t\tqa(i,j,k,l);\n\t\t\t\t\tqb(i,j,k,l);\n\t\t\t\t\tqc(i,j,k,l);\n\t\t\t\t}\n\tfor(int j=0;j<=10;j++)\t\t\t\t\t\t//\u5bf9\u4e8e\u5269\u4f59\u7684\u7edf\u8ba1\u7b54\u6848 \n\t\t\tfor(int k=0;k<=10;k++)\n\t\t\t\tfor(int l=0;l<=10;l++){\n\t\t\t\t\tif(j+k+l>10)continue;\n\t\t\t\t\tif(!vis[n][j][k][l])continue;\n\t\t\t\t\tans=min(ans,dp[n][j][k][l]+(j!=0)+(k!=0)+(l!=0));\n\t\t\t\t}\n\tcout<<ans;\n}\n```\n",
        "postTime": 1666964057,
        "uid": 186240,
        "name": "seanli",
        "ccfLevel": 0,
        "title": "P2530\u9898\u89e3"
    },
    {
        "content": "\u5199\u7684\u50cf\u4e2a$dp$\u4f3c\u7684\uff0c\u611f\u89c9\u5176\u5b9e\u5c31\u662f\u4e2a\u66b4\u529b\u3002\n\n\u8bbe$dp[i][j][k][l]$\u8868\u793a\u62ff\u5230\u4e86$i$\u4e2a\uff0cA\u6709$j$\u4e2a\uff0cB\u6709$k$\u4e2a\uff0cC\u6709$l$\u4e2a\u3002\n\n\u6ce8\u610f\u7279\u5224$n<10$\u7684\u60c5\u51b5\u3002\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint dp[102][11][11][11],sum[3][104],a[102],n;\ninline void mi(int &a,int b){if(b<a)a=b;}\nchar s[2];\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;++i)\n\t{\n        scanf(\"%s\",s);\n        a[i]=s[0]-'A';\n        sum[a[i]][i]=sum[a[i]][i-1]+1;\n        for(int j=0;j<=2;++j)if(j!=a[i])sum[j][i]=sum[j][i-1];\n    }\n    memset(dp,0x3f,sizeof(dp));\n    if(n<10)\n\t{\n        cout<<(sum[0][n]!=0)+(sum[1][n]!=0)+(sum[2][n]!=0)<<endl;\n        return 0;\n    }\n    dp[10][sum[0][10]][sum[1][10]][sum[2][10]]=0;\n    for(int i=10;i<=n;++i)\n      \tfor(int j=0;j<=10;++j)\n        \tfor(int k=0;k<=10&&k+j<=10;++k)\n          \t\tfor(int l=0;l<=10&&k+j+l<=10;++l)if(dp[i][j][k][l]!=0x3f3f3f3f)\n\t\t\t\t  {\n               \t\tif(j)\n\t\t\t   \t\t{\n                   \t\tint num=j;\n                 \t\tmi(dp[min(i+num,n)][sum[0][min(n,i+num)]-sum[0][i]][k+sum[1][min(i+num,n)]-sum[1][i]][l+sum[2][min(i+num,n)]-sum[2][i]],dp[i][j][k][l]+1);\n             \t\t}\n            \t\tif(k)\n\t\t\t\t\t{\n                \t\tint num=k;\n                \t\tmi(dp[min(i+num,n)][j+sum[0][min(n,i+num)]-sum[0][i]][sum[1][min(n,i+num)]-sum[1][i]][l+sum[2][min(n,i+num)]-sum[2][i]],dp[i][j][k][l]+1);\n            \t\t}\n            \t\tif(l)\n\t\t\t\t\t{\n                \t\tint num=l;\n                \t\tmi(dp[min(i+num,n)][j+sum[0][min(i+num,n)]-sum[0][i]][k+sum[1][min(i+num,n)]-sum[1][i]][sum[2][min(i+num,n)]-sum[2][i]],dp[i][j][k][l]+1);\n            \t\t}\n          \t\t}\n        int ans=0x3f3f3f3f;\n    for(int i=0;i<=10;++i)\n      \tfor(int j=0;i+j<=10;++j)\n        \tfor(int k=0;i+j+k<=10;++k)\n\t\t\t\tif(dp[n][i][j][k]!=0x3f3f3f3f)\n    ans=min(ans,dp[n][i][j][k]+(i!=0)+(j!=0)+(k!=0));\n    cout<<ans;\n    return 0;\n}\n```",
        "postTime": 1562598073,
        "uid": 98954,
        "name": "\u4e0d\u5b58\u5728\u4e4b\u4eba",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    },
    {
        "content": "# \u72b6\u6001\u538b\u7f29-11\u8fdb\u5236\n\u5206\u62103\u4f4d 0 0 0 f[i][j] \u8868\u793a\u5230i\u72b6\u6001\u4e3aj\u7684 c\uff0cb\uff0ca\uff0c\u5206\u522b\u6709\u591a\u5c11\u4f4d\u3002\n\n\u6574\u4e2aDP\u5206\u6210\u4e24\u6b65\n\n## \u4ece\u4e4b\u524d\u7684\u62ff\u8d27\u7269\u8f6c\u79fb\u5230\u5f53\u524d\u72b6\u6001\n\u7531\u4e8e\u53ef\u4ee5\u62ff\u7684\u8d27\u7269\u662f\u786e\u5b9a\u7684\uff0c\u6240\u4ee5\u8f6c\u79fb\u4e5f\u662f\u4e00\u5b9a\u7684-\u8be6\u7ec6\u770b\u4ee3\u7801\u6ce8\u91ca\u3002\n## \u4ece\u73b0\u5728\u7684\u72b6\u6001 \u8f6c\u79fb\u5230 \u88c5\u51fa\u624b\u4e2d\u4e00\u79cd\u8d27\u7269\u7684\u72b6\u6001\u3002\n~~\u8d2a\u5fc3\u7684\u60f3~~\u88c5\u7684\u65f6\u5019\u628a\u624b\u91cc\u7684\u7269\u54c1\u5168\u88c5\u5b8c\u80af\u5b9a\u662f\u6700\u4f18\u7684\uff0c\u6240\u4ee5\u8f6c\u79fb\u5230\u628a\u624b\u4e2d\u67d0\u79cd\u8d27\u7269\u5168\u88c5\u7bb1\u662f\u6700\u4f18\u7684\u3002\n\n\u9884\u5904\u7406\u6240\u6709\u53ef\u80fd\u72b6\u6001\u53ef\u4ee5\u52a0\u5feb\u7a0b\u5e8f\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define rg register\ninline int read(){\n\trg char ch=getchar();\n\trg int x=0,f=0;\n\twhile(!isdigit(ch)) f|=(ch=='-'),ch=getchar();\n\twhile(isdigit(ch)) x=(x<<1)+(x<<3)+(ch^48),ch=getchar();\n\treturn f?-x:x;\n}\nint f[110][1334];\nint n;\nchar s[110];\nint ok[1334],cnt;\nint main(){\n\tn=read();\n\tfor(rg int i=1;i<=n;++i) scanf(\"%s\",&s[i]);\n//\tmemset(f,0x3f,sizeof f);\n\tf[0][0]=0;\n\tfor(rg int a,b,c,j=0;j<=1331;++j){\n\t\ta=j%11,b=j/11%11,c=j/121%11;\n\t\tif(a+b+c>10) continue;\n\t\tok[++cnt]=j;//\u9884\u5904\u7406\u72b6\u6001\n\t}\n\tfor(rg int op,a,b,c,al,bl,cl,j,i=1;i<=n;++i){\n\t\tfor(int l=1;l<=cnt;++l){\n\t\t\t\tj=ok[l];\n\t\t\t\tal=a=j%11,bl=b=j/11%11,cl=c=j/121%11;\n\t\t\t\tif(a+b+c>10)continue;\n\t\t\t\tf[i][j]=0x3f3f3f3f;\n\t\t\tfor(int k=i;i-k<=10&&~k;--k){\n\t\t\t\tif(a<0||b<0||c<0) continue;\n\t\t\t\tf[i][j]=min(f[i][j],f[k][a+b*11+c*121]);//\u8f6c\u79fb\u88c5\u5165\u72b6\u6001\n\t\t\t\top=s[k]-'A'+1;\n\t\t\t\tif(op==1) --a;\n\t\t\t\tif(op==2) --b;\n\t\t\t\tif(op==3) --c;\n\t\t\t}\n\t\t\tf[i][j-al]=min(f[i][j-al],f[i][j]+1);\n\t\t\tf[i][j-bl*11]=min(f[i][j-bl*11],f[i][j]+1);\n\t\t\tf[i][j-cl*121]=min(f[i][j-cl*121],f[i][j]+1);//\u8f6c\u79fb\u88c5\u51fa\u72b6\u6001\n  //\u8fd9\u91cc\u503c\u5f97\u4e00\u63d0\u7684\u662f\u72b6\u6001\u8f6c\u79fb\u53ef\u4ee5\u7701\u7565\u4e0b\u9762\u4e09\u4e2a\u8f6c\u79fb\uff0c\u56e0\u4e3a\u6211\u4eec\u662f\u6309\u4e00\u4e2a\u4e00\u4e2a\u7269\u54c1\u9012\u8fdb\u7684\uff0c\u6ca1\u6709\u91cd\u53e0\u7684\u7269\u54c1\uff0c\u6240\u4ee5\u53ef\u4ee5\u7701\u7565\u3002\n//\t\t\tf[i][j-al-bl*11]=min(f[i][j-al-bl*11],f[i][j]+2);\n//\t\t\tf[i][j-al-cl*121]=min(f[i][j-al-cl*121],f[i][j]+2);\n//\t\t\tf[i][j-bl*11-cl*121]=min(f[i][j-bl*11-cl*121],f[i][j]+2);\n//\t\t\tf[i][0]=min(f[i][0],f[i][j]+3);\n\t\t}\n\t}\n\tcout<<f[n][0]<<endl;\n\treturn 0;\n}\n```\n## \u603b\u7ed3 \u72b6\u6001\u7684\u8868\u793a\u8981\u7cbe\u51c6\uff0c\u8bb0\u5f55\u72b6\u6001\u53ef\u4ee5\u5b9e\u73b0\u7cbe\u51c6\u8f6c\u79fb",
        "postTime": 1561720088,
        "uid": 121618,
        "name": "Accoty_AM",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    },
    {
        "content": "\u53bb\u9664\u6389\u9898\u76ee\u4e2d\u7684\u65e0\u7528\u4fe1\u606f\uff0c\u7b80\u660e\u9898\u610f\u5982\u4e0b\uff1a\n\n- \u5b58\u5728 $\\text{A}$\u3001$\\text{B}$\u3001$\\text{C}$ \u4e09\u79cd\u7269\u54c1\uff0c\u540c\u4e00\u65f6\u523b\u624b\u4e0a\u6700\u591a\u62ff $10$ \u4e2a\u7269\u54c1\uff1b\n- \u6309\u987a\u5e8f\u7ecf\u8fc7\u6240\u6709\u7269\u54c1\uff0c\u6bcf\u4e2a\u7269\u54c1\u6709**\u62ff**\u548c**\u4e0d\u62ff**\u4e24\u79cd\u9009\u62e9\uff1b\n- \u968f\u65f6\u53ef\u4ee5\u5c06\u624b\u4e0a\u7684\u67d0\u79cd\u7269\u54c1\u7684\u6570\u91cf\u6e05\u96f6\uff08\u5373\u88c5\u7bb1\uff09\uff1b\n- \u6c42\u53ef\u80fd\u7684\u6700\u5c11\u88c5\u7bb1\u6b21\u6570\u3002\n\n***\n\n\u9996\u5148\u8003\u8651\u5982\u4f55\u8bbe\u8ba1\u72b6\u6001\u3002\u7531\u4e8e\u7269\u54c1\u662f\u6392\u6210\u4e00\u884c\u7684\uff0c\u6545\u72b6\u6001\u53ef\u7528\u56db\u5143\u7ec4 $(x_A, x_B, x_C,\\text{pos})$ \u8868\u793a\uff0c\u4f9d\u6b21\u5f53\u524d\u624b\u4e0a\u5404\u7c7b\u7269\u54c1\u7684\u6570\u91cf\u548c\u5f53\u524d\u5904\u5728\u7684\u4f4d\u7f6e\u3002\n\n\u90a3\u4e48\u53ef\u80fd\u7684\u72b6\u6001\u8f6c\u79fb\u5982\u4e0b\uff1a\n\n$$\n(x_A,x_B,x_C,\\text{pos})\n\\rightarrow\n\\begin{cases}\n(0, x_B,x_C,\\text{pos}) && (\\text{\u6e05\u7a7a A})\\\\\n(x_A,0,x_C,\\text{pos}) && (\\text{\u6e05\u7a7a B})\\\\\n(x_A,x_B,0,\\text{pos}) && (\\text{\u6e05\u7a7a C})\\\\\n(x_A+1,x_B,x_C,\\text{pos} + 1) && (\\text{\u53d6\u8d70 A})\\\\\n(x_A,x_B+1,x_C,\\text{pos} + 1) && (\\text{\u53d6\u8d70 B})\\\\\n(x_A,x_B,x_C+1,\\text{pos} + 1) && (\\text{\u53d6\u8d70 C})\\\\\n\\end{cases}\n$$\n\n\u8d77\u59cb\u72b6\u6001\uff1a$(0, 0, 0, 1)$\u3002\n\n\u7b2c\u4e00\u81f3\u7b2c\u4e09\u79cd\u60c5\u51b5\u8981\u5728\u5bf9\u5e94\u7684 $x$ \u5927\u4e8e\u7b49\u4e8e $0$ \u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u3001\u7b2c\u56db\u81f3\u7b2c\u516d\u79cd\u60c5\u51b5\u8981\u770b\u7b2c $\\text{pos}$ \u4e2a\u7269\u54c1\u7684\u79cd\u7c7b\u8fdb\u884c\u3002\n\n\u53e6\u5916\uff0c\u6ce8\u610f\u5230\u9898\u76ee\u4e2d\u8bf4**\u987a\u5e8f\u4ece\u6d41\u6c34\u7ebf\u4e0a\u53d6 $10$ \u4e2a\u6210\u54c1**\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ea\u8981**\u80fd\u53d6**\u7269\u54c1\u5c31**\u4e00\u5b9a**\u53d6\uff0c\u4e0d\u5b58\u5728\u5ffd\u7565\u67d0\u4e2a\u7269\u54c1\u7684\u60c5\u51b5\uff1b\u5bf9\u4e8e\u624b\u4e0a\u7684\u7269\u54c1\u5df2\u7ecf\u8fbe\u5230\u4e0a\u9650\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5**\u5148\u6e05\u7a7a**\u624b\u4e0a\u67d0\u7c7b\u7269\u54c1\u7684\u6570\u91cf\uff0c\u4e4b\u540e\u518d\u8fdb\u884c\u3002\u4e8e\u662f\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u6027\u8d28\uff1a\u6700\u4f18\u7684\u7b56\u7565\u4e2d**\u4e0d\u4f1a\u653e\u5f03\u4efb\u4f55\u4e00\u4e2a**\u7269\u54c1\u3002\n\n\u4f9d\u7167\u8fd9\u4e2a\u6027\u8d28\u4e0d\u96be\u63a8\u51fa\u72b6\u6001\u8f6c\u79fb\u7684\u8fb9\u754c\uff1a\u5f53\u6240\u6709\u7269\u54c1\u53d6\u5c3d\u7684\u65f6\u5019\uff0c\u624b\u4e0a\u6709\u591a\u5c11\u7c7b\u7269\u54c1\u7684\u6570\u91cf\u4e0d\u4e3a $0$\uff0c\u4fbf\u8981\u6e05\u96f6\u591a\u5c11\u6b21\u3002$\\text{pos}$ \u4f1a\u8d85\u8fc7 $n$\uff0c\u56e0\u4e3a\u8d77\u59cb\u72b6\u6001\u4e2d $\\text{pos}=1$\u3002\u6240\u4ee5\u8fb9\u754c\u662f\uff1a\u5f53 $pos=n+1$ \u65f6\uff0c\n\n$$(x_A, x_B, x_C, \\text{pos}) = \\text{(A\u3001B\u3001C \u4e2d\u5927\u4e8e 0 \u7684\u4e2a\u6570)}~~~~ $$\n\n\u5230\u6b64\uff0c\u8fd9\u9053\u9898\u5927\u4f53\u4e0a\u7684\u601d\u8def\u5df2\u7ecf\u6e05\u6670\u4e86\u3002\u4e0a\u9762\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff0c\u5f88\u81ea\u7136\u5730\uff0c\u53ef\u4ee5\u4f7f\u7528**\u8bb0\u5fc6\u5316\u641c\u7d22**\u6765\u8ba1\u7b97\u3002\n\n\u8bb0\u5fc6\u5316\u641c\u7d22\u5728\u5e38\u6570\u4e0a\u4f1a\u7565\u6162\u4e8e\u5faa\u73af\u8ba1\u7b97\uff0c\u800c\u4e14\u5faa\u73af\u8ba1\u7b97\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u8fd8\u80fd\u4f18\u5316\uff1b\u4f46\u662f\uff0c\u8bb0\u5fc6\u5316\u641c\u7d22\u4e5f\u6709\u201c\u52a0\u901f\u7b56\u7565\u201d\uff1a\u989d\u5916\u7ef4\u62a4\u201c**\u5f53\u524d\u82b1\u8d39**\u201d\u548c\u201c**\u76ee\u524d\u6700\u4f18**\u201d\u7684\u4fe1\u606f\u6765\u526a\u679d\u3002\u5177\u4f53\u89c1\u4ee3\u7801\uff1a\n\n```\n#include <iostream>\n\nusing namespace std;\n\nchar typ[105];\nint min(int & a, int & b) {\n\treturn a < b ? a : b;\n}\nint f[15][15][15][105]; // \u8bb0\u5fc6\u5316\u8868\u9879\nint n;\n                \nint A, B, C, pos; // \u5bf9\u5e94 (x_A, x_B, x_C, pos) \u72b6\u6001\nint cur_cost; // \u5f53\u524d\u82b1\u8d39\nint cur_min = 0x3f3f3f3f; // \u76ee\u524d\u6700\u4f18\n\nint dp() {\n\tint g = (A > 0) + (B > 0) + (C > 0); // A B C \u4e2d\u5927\u4e8e 0 \u7684\u4e2a\u6570\n\tif(cur_cost + g > cur_min) return 0x3f3f3f3f; // \u526a\u679d\n\tif(pos == n + 1) { // \u8fb9\u754c\n\t\tcur_min = min(cur_min, cur_cost + g);\n\t\treturn g;\n\t}\n\telse {\n\t\tif(f[A][B][C][pos]) return f[A][B][C][pos];\n\t\tint ret = 0x3f3f3f3f;\n\t\tif(A + B + C < 10) { // \u80fd\u591f\u53d6\u7269\u54c1\n\t\t\tswitch(typ[pos]) {\n\t\t\t\tcase 'A': A++; break;\n\t\t\t\tcase 'B': B++; break;\n\t\t\t\tcase 'C': C++; break; \n\t\t\t}\n\t\t\tpos++;\n\t\t\tret = min(ret, dp());\n\t\t\tpos--; // \u8fd8\u539f \n\t\t\tswitch(typ[pos]) { // \u6ce8\u610f\uff1a\u4e00\u5b9a\u8981\u5148\u8fd8\u539f pos \n\t\t\t\tcase 'A': A--; break;\n\t\t\t\tcase 'B': B--; break;\n\t\t\t\tcase 'C': C--; break; \n\t\t\t}\n\t\t}\n\t\tint bak;\n\t\tcur_cost++; // \u4ee5\u4e0b\u90fd\u662f\u6e05\u7a7a\u7269\u54c1\u7684\u90e8\u5206\uff0c\u53ef\u4ee5\u63d0\u524d\u589e\u52a0 cur_cost \n\t\tif(A) { \n\t\t\tbak = A, A = 0; // \u5907\u4efd\u4e4b\u540e\u6e05\u7a7a\uff0c\u4e0b\u540c \n\t\t\tret = min(ret, dp() + 1); // \u6e05\u7a7a\u6b21\u6570 + 1 \n\t\t\tA = bak;\n\t\t}\n\t\tif(B) {\n\t\t\tbak = B, B = 0;\n\t\t\tret = min(ret, dp() + 1);\n\t\t\tB = bak;\n\t\t}\n\t\tif(C) {\n\t\t\tbak = C, C = 0;\n\t\t\tret = min(ret, dp() + 1);\n\t\t\tC = bak;\n\t\t}\n\t\tcur_cost--; // \u8fd8\u539f cur_cost \n\t\treturn f[A][B][C][pos] = ret;\n\t}\n}\n\nint main() {\n\tios::sync_with_stdio(false);\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++) cin >> typ[i];\n\tA = B = C = 0, pos = 1; // \u8d77\u59cb\u72b6\u6001 \n\tcout << dp();\n\treturn 0; \n} \n```\n\n\u8fd9\u4efd\u4ee3\u7801\u7684\u8fd0\u884c\u901f\u5ea6\u662f 38ms\uff0c\u7a7a\u95f4\u5360\u7528\u8f83\u5c0f\u3002\n\n![](https://i.bmp.ovh/imgs/2022/02/47a42fb78d68c020.png)\n\n\n\u5927\u90e8\u5206\u52a8\u6001\u89c4\u5212\u7684\u9898\u76ee\u90fd\u80fd\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\u89e3\u51b3\uff0c\u4e14\u8bb0\u5fc6\u5316\u641c\u7d22\u5728\u601d\u8def\u660e\u6717\u7684\u60c5\u51b5\u4e0b\uff0c\u4ee3\u7801\u957f\u5ea6\u8f83\u77ed\u8f83\u6e05\u6670\uff0c\u4e0d\u5931\u4e3a\u4e00\u79cd\u52a8\u6001\u89c4\u5212\u7684\u89e3\u9898\u65b9\u5f0f\u3002\n",
        "postTime": 1643883090,
        "uid": 188950,
        "name": "UruhaRushia",
        "ccfLevel": 6,
        "title": "P2530 \u9898\u89e3"
    },
    {
        "content": "\n## \u9898\u89e3\uff1a\n\n\u4e00\u9053\u6700\u4f18\u5316\u9898\uff0c\u800c\u4e14\u6709\u72b6\u6001\u6709\u8f6c\u79fb\uff0c\u6211\u4eec\u8003\u8651DP\u3002\n\n\u7279\u610f\u8bf7\u6559\u4e86\u5927\u4f6c@JZYShuraK\uff0c\u4ec0\u4e48\u65f6\u5019\u6211\u4eec\u8003\u8651DP\u5462\uff1f\u9996\u5148\u662fDP\u8ba1\u6570\uff08\u6570\u6570\u9898\u6076\u5fc3\u5f97\u8981\u547d\uff09\u7136\u540e\u662f\u6700\u4f18\u5316\u9898\uff0c\u5c24\u5176\u662f\uff0c\u90a3\u79cd\u4e0d\u9700\u8981\u4e86\u89e3\u8fc7\u7a0b\uff0c\u53ea\u9700\u8981\u8f93\u51fa\u7ed3\u679c\u7684\uff08\u6bd4\u5982\u672c\u9898\uff0c\u6211\u4eec\u538b\u6839\u4e0d\u9700\u8981\u77e5\u9053\u5230\u5e95\u4ec0\u4e48\u65f6\u5019\u62ff\u8d70\u4e86\u4ec0\u4e48\u3001\u591a\u5c11\u7269\u54c1\uff0c\u53ea\u9700\u8981\u77e5\u9053\u6700\u5c11\u62ff\u591a\u5c11\u6b21\uff08\u5373\u6211\u4eec\u8981\u7edf\u8ba1\u7684\u7b54\u6848\uff09\uff09\u3002\u8fd9\u4e2a\u65f6\u5019\u53ef\u4ee5\u679c\u65ad\u9009\u62e9DP\u3002\n\n\u6ce8\u610f\u5230\u8fd9\u9053\u9898\u7684\u6570\u636e\u8303\u56f4\uff1aN\u662f1-100\u7684\u3002\u8fd9\u4e2a\u6570\u636e\u8303\u56f4\u751a\u81f3\u53ef\u4ee5\u652f\u6301\u6211\u4eec\u8dd1$O(n^4)$\u7684\u7b97\u6cd5\uff0c\u65e0\u8bba\u662f\u65f6\u95f4\u590d\u6742\u5ea6\u8fd8\u662f\u7a7a\u95f4\u590d\u6742\u5ea6\u90fd\u662f\u5982\u6b64\u3002\u8fd9\u9053\u9898\u4e00\u5f00\u59cb\u628a\u6211\u96be\u4f4f\u7684\u4e00\u4e2a\u70b9\u662f\u72b6\u6001\u7684\u8bbe\u7f6e\u3002\u603b\u89c9\u5f97\u600e\u4e48\u8bbe\u7f6e\u90fd\u5f88\u4ee4\u4eba\u4e0d\u6ee1\u610f\u3002\u540e\u6765\u7ec8\u4e8e\u604d\u7136\uff1a\u4e00\u7ef4\u4e24\u7ef4\u641e\u4e0d\u6e05\u695a\u72b6\u6001\uff0c\u591a\u5f00\u51e0\u7ef4\u4e0d\u5c31\u6210\u4e86\uff1f\u53cd\u6b63\u7a7a\u95f4\u591f\u7528\u3002\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u7684\u72b6\u6001\u4fbf\u8bbe\u7f6e\u6210\uff1a\n\n$dp[i][j][k][m]$\u8868\u793a\u4e00\u5171$i$\u4e2a\u7269\u54c1\uff0c\u624b\u4e2d\u8fd8\u5269$j$\u4e2a$A$\uff0c$k$\u4e2a$B$\uff0c$m$\u4e2a$C$\u65f6\u7684\u6700\u5c0f\u88c5\u7bb1\u6b21\u6570\u3002\n\n\u7136\u540e\u6211\u4eec\u8003\u8651\u521d\u503c\u548c\u7b54\u6848\uff1a\u56e0\u4e3a\u8981\u6c42\u6700\u5c0f\u503c\uff0c\u6240\u4ee5\u7b54\u6848\u663e\u7136\u8bbe\u7f6e\u6210\u6700\u5927\u503c\u3002\u7279\u6b8a\u5730\uff0c\u4e0d\u96be\u53d1\u73b0\uff0c$dp[0][0][0][0]=0$\u3002\u800c\u6839\u636e\u72b6\u6001\uff0c\u6211\u4eec\u7684\u6700\u7ec8\u7b54\u6848\u5c31\u662f\uff1a$dp[n][0][0][0]$\u3002\n\n\u63a5\u4e0b\u6765\u5c31\u662f\u72b6\u6001\u8f6c\u79fb\u4e86\uff1a\n\n\u5728\u6211\u4eec\u8bbe\u8ba1\u4e00\u4e2a$DP$\u7b97\u6cd5\u7684\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u7262\u8bb0\uff1a$DP$\u7b97\u6cd5\u7684\u5b9e\u8d28\u5176\u5b9e\u662f\u4e00\u4e2a\u51b3\u7b56\u7684\u8fc7\u7a0b\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u72b6\u6001\u548c\u9636\u6bb5\uff0c\u6211\u4eec\u5982\u4f55\u53bb\u6839\u636e\u5177\u4f53\u7684\u60c5\u51b5\u800c\u9009\u62e9\u4e00\u4e2a\u5f53\u524d\u60c5\u51b5\u4e0b\u7684\u6700\u4f18\u51b3\u7b56\u3002\u800c\u7531\u4e8e$DP$\u7684\u65e0\u540e\u6548\u6027\u7684\u5f71\u54cd\uff0c\u8fd9\u4e2a\u51b3\u7b56\u662f\u4e0d\u4f1a\u5f71\u54cd\u5230\u4e0b\u4e00\u4e2a\u51b3\u7b56\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u6bcf\u4e00\u6b21\u8fdb\u884c\u51b3\u7b56\u7684\u65f6\u5019\u90fd\u9009\u62e9\u4e86\u6700\u4f18\u7684\u4e00\u79cd\u60c5\u51b5\uff0c\u90a3\u4e48\u6700\u540e\u7684\u7b54\u6848\u663e\u7136\u5c31\u662f\u6700\u4f18\u7684\u3002\n\n\u90a3\u4e48\u9488\u5bf9\u4e8e\u672c\u9898\uff0c\u6211\u4eec\u7684\u51b3\u7b56\u5e94\u8be5\u662f\u4ec0\u4e48\u5462\uff1f\n\n\u5c31\u662f\uff1a**\u653e\u8fd8\u662f\u4e0d\u653e**\u3002\u5373\u53d6\u51fa\u6765\u5148\u5728\u624b\u4e2d\u5b58\u7740\uff0c\u8fd8\u662f\u53d6\u51fa\u6765\u76f4\u63a5\u653e\u8fdb\u53bb\u3002\n\n\u4e8e\u662f\u6211\u4eec\u5c31\u53d1\u73b0\uff0c\u5bf9\u4e8e\u7b2c$i$\u4ef6\u7269\u54c1\uff0c\u5982\u679c\u6211\u4eec\u5b58\u7740\u7684\u8bdd\uff0c\u90a3\u4e48\u6709\uff1a\n$$\ndp[i][j][k][m]=dp[i-1][j-1][k][m]\n$$\n\uff08\u6b64\u5904\u6f14\u793a\u7684\u662f\u7b2c$i$\u4ef6\u7269\u54c1\u4e3a$A$\u7684\u60c5\u51b5\uff0c\u5176\u4ed6\u60c5\u51b5\u540c\u7406\uff09\n\n\u5982\u679c\u88c5\u7bb1\u7684\u8bdd\uff1a\n$$\ndp[i][0][k][m]=min(dp[i][0][k][m],dp[i][j][k][m]+1);\n$$\n\uff08\u6ce8\u610f\uff0c\u56e0\u4e3a\u6211\u4eec\u6bcf\u6b21\u88c5\u7bb1\u8981\u88c5\u8fdb\u53bb\u6240\u6709\u7684\u540c\u79cd\u7269\u54c1\uff0c\u6240\u4ee5\u7b2c\u4e8c\u7ef4\u662f0\uff09\n\n\u5728\u6211\u4eec\u679a\u4e3e\u7684\u65f6\u5019\uff0c\u8fd8\u8981\u8003\u8651$j+k+m\\le 10$\u3002\n\n\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cstring>\nusing namespace std;\nint n;\nint dp[110][11][11][11];\nchar opt[110];\nint main()\n{\n    memset(dp,0x3f,sizeof(dp));\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)\n        cin>>opt[i];\n    dp[0][0][0][0]=0;\n    for(int i=1;i<=n;i++)\n        for(int j=0;j<=10;j++)\n            for(int k=0;k<=10;k++)\n                for(int m=0;m<=10;m++)\n                {\n                    if(j+k+m>10)\n                        continue;\n                    if(opt[i]=='A' && j)\n                        dp[i][j][k][m]=dp[i-1][j-1][k][m];\n                    if(opt[i]=='B' && k)\n                        dp[i][j][k][m]=dp[i-1][j][k-1][m];\n                    if(opt[i]=='C' && m)\n                        dp[i][j][k][m]=dp[i-1][j][k][m-1];\n                    dp[i][0][k][m]=min(dp[i][0][k][m],dp[i][j][k][m]+1);\n                    dp[i][j][0][m]=min(dp[i][j][0][m],dp[i][j][k][m]+1);\n                    dp[i][j][k][0]=min(dp[i][j][k][0],dp[i][j][k][m]+1);\n                }\n    printf(\"%d\",dp[n][0][0][0]);\n    return 0;\n}\n```\n\n",
        "postTime": 1571960212,
        "uid": 175131,
        "name": "\u5085\u601d\u7ef4666",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    },
    {
        "content": "\u6211\u4e00\u5f00\u59cb\u60f3\u5230\u7684\u65b9\u7a0b\u662f\n\ndp[i][j][k] \u5206\u522b\u8868\u793a\u5df2\u7ecf\u5206\u522b\u505a\u5b8c\u4e09\u79cd\u7eaf\u5ea6i,j,k\u4e2a\u4ea7\u54c1\u7684\u6700\u4f18\u89e3\uff0c\u7136\u540e\u53ef\u4ee5\u63a8\u51fa\u5f53\u524d\u624b\u4e2d\u7684\u7269\u54c1\uff0c\u7136\u540e\u8bb0\u5fc6\u5316\u641c\u7d22\n\n\u4ee3\u7801\u6253\u5230\u4e00\u534a\uff0c\u53d1\u73b0\u8fd9\u6837\u4f3c\u4e4e\u884c\u4e0d\u901a\n\n\u4e3a\u4ec0\u4e48\uff1f\u56e0\u4e3a\u4f60\u600e\u4e48\u63a8\u51fa\u6765\uff0c\u597d\u50cf\u786e\u5b9e\u662f\u9000\u4e0d\u51fa\u6765\u7684\u5427\u3002\u3002\u3002\u3002\n\n\u4e8e\u662f\u6211\u5077\u770b\u4e86\u4e00\u4e0b\u9898\u89e3\uff0c\u5c31\u4f1a\u4e86\n\ndp\u7684\u65b9\u7a0b\u4e00\u822c\u662f\u4e0d\u50a8\u5b58\u4ee5\u524d\u7684\u72b6\u6001\u7684\uff0c\u53ea\u662f\u8bb0\u4e0b\u5f53\u524d\u7684\u6700\u4f18\u89e3\n\n\u90a3\u4e48\u5bf9\u5f53\u524d\u6700\u91cd\u8981\u7684\u5c31\u662f\u5f53\u524d\u5230\u4e86\u7b2c\u51e0\u4e2a\uff0c\u8fd8\u6709\u624b\u4e2d\u6bcf\u79cd\u7eaf\u5ea6\u4ea7\u54c1\u7684\u4e2a\u6570\n\n\u90a3\u4e48\u65b9\u7a0b\u5c31\u662f dp[i][p1][p2][p3] \uff0c\u4ee3\u8868\u4ec0\u4e48\u5927\u5bb6\u5e94\u8be5\u90fd\u6e05\u695a\u5427\n\n\u4e0b\u9762\u8bf4\u4e00\u4e0b\u72b6\u6001\u8f6c\u79fb\u7684\u65b9\u6cd5\n\n\u4e00\u3001\u624b\u4e2d\u4e0d\u8db310\u4e2a\n\u90a3\u80af\u5b9a\u5c31\u662fi\u662f\u4ec0\u4e48\u989c\u8272\uff0c\u5c31\u628a\u4ec0\u4e48\u989c\u8272\u653e\u8fdb\u53bb\n\n```cpp\nif ( st[i] == 'A' && p1 )\n    dp[i][p1][p2][p3] = dp[i-1][p1-1][p2][p3] ;\nif ( st[i] == 'B' && p2 ) \n    dp[i][p1][p2][p3] = dp[i-1][p1][p2-1][p3] ;\nif ( st[i] == 'C' && p3 ) \n    dp[i][p1][p2][p3] = dp[i-1][p1][p2][p3-1] ;\n```\n\u4e8c\u3001\u624b\u4e2d\u6ee1\u5341\u4e2a\u6216\u8005\u6ca1\u6709\u5269\u4f59\n\n```cpp\ndp[i][0][p2][p3] = min ( dp[i][0][p2][p3] , dp[i][p1][p2][p3]+1 ) ;\ndp[i][p1][0][p3] = min ( dp[i][p1][0][p3] , dp[i][p1][p2][p3]+1 ) ;\ndp[i][p1][p2][0] = min ( dp[i][p1][p2][0] , dp[i][p1][p2][p3]+1 ) ;\n```\n\u4f60\u53ef\u80fd\u4f1a\u95ee\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u7528\u6ee1\u8db3\u624b\u4e2d\u5341\u4e2a\u6216\u8005\u6ca1\u6709\u5269\u4f59\n\n\u5982\u679c\u4f60\u52a0\u4e86\u7279\u5224\uff08\u5c31\u50cf\u6211\u4e00\u5f00\u59cb\u4e00\u6837\uff09\n\n```cpp\nif ( p1+p2+p3 == 10 || i+p1+p2+p3-1 == 0 )\n```\n\u90a3\u4f60\u4e00\u5b9a\u4f1a\u9519\uff0c\u56e0\u4e3a\u4f60\u5728dp\u7684\u8fc7\u7a0b\u4e2d\u65e0\u6cd5\u5224\u65ad\u5269\u4f59\u4e86\u591a\u5c11\u3002\n\n\u8fd9\u4f3c\u4e4e\u5f88\u6709\u9053\u7406\u5462\uff01\u4f46\u662f\u4e3a\u4ec0\u4e48\u8fd9\u6837\u4e0d\u4f1a\u9519\u5462\uff1f\n\n\u5f88\u7b80\u5355\uff0c\u56e0\u4e3a\u4f60\u624b\u4e2d\u6ee1\u4e86\u5341\u4e2a\u6216\u8005\u6ca1\u6709\u5269\u4f59\u624d\u5f00\u59cb\u88c5\u7bb1\u80af\u5b9a\u662f\u6700\u4f18\u7684\uff08\u4e00\u6b21\u653e\u7684\u591a\u603b\u662f\u4f1a\u6bd4\u4e00\u6b21\u653e\u7684\u5c11\u8981\u597d\u5427\uff09\uff0c\u6240\u4ee5\u8fd9\u6837\u5e76\u4e0d\u4f1a\u5f71\u54cd\u7ed3\u679c\u7684\u6b63\u786e\u6027\uff0c\u800c\u4e14\u53ef\u4ee5\u907f\u514d\u5224\u65ad\u662f\u5426\u6ca1\u6709\u5269\u4f59\n\n\u53c2\u8003\u4ee3\u7801\n\n```cpp\n#pragma GCC optimize (3)\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\n \nusing namespace std ;\n \nnamespace IO {\n    inline int read() {\n        int x = 0 , f = 0 ; char s = getchar() ;\n        while ( !isdigit(s) ) f |= s=='-' , s = getchar() ;\n        while (  isdigit(s) ) x = (x<<1)+(x<<3)+(s-48) , s = getchar() ;\n        return !f ? x : -x ;\n    }\n    inline void write(int x) {\n        if( x < 0 ) {\n            putchar('-') ; x =- x ;\n        }\n        if(x > 9) write( x/10 ) ;\n        putchar( x%10+'0' ) ;\n    }\n}\nusing namespace IO ;\n\nconst int N = 110 ;\nconst int MAX = 11 ;\n\nint n , dp[N][MAX][MAX][MAX] ;\nchar st[N] ;\n\nvoid init() {\n    memset ( dp , 63 , sizeof(dp) ) ; n = read() ; \n    for ( int i = 1 ; i <= n ; i ++ ) \n        cin >> st[i] ;\n    dp[0][0][0][0] = 0 ;\n}\nvoid solve() {\n    for ( int i = 1 ; i <= n ; i ++ ) \n        for ( int p1 = 0 ; p1 <= 10 ; p1 ++ ) \n            for ( int p2 = 0 ; p2 <= 10 ; p2 ++ ) {\n                if ( p1 + p2 > 10 ) break ; \n                for ( int p3 = 0 ; p3 <= 10 ; p3 ++ ) {\n                    if ( p1+p2+p3 > 10 ) break ;\n                    if ( st[i] == 'A' && p1 )\n                        dp[i][p1][p2][p3] = dp[i-1][p1-1][p2][p3] ;\n                    if ( st[i] == 'B' && p2 ) \n                        dp[i][p1][p2][p3] = dp[i-1][p1][p2-1][p3] ;\n                    if ( st[i] == 'C' && p3 ) \n                        dp[i][p1][p2][p3] = dp[i-1][p1][p2][p3-1] ;\n                    dp[i][0][p2][p3] = min ( dp[i][0][p2][p3] , dp[i][p1][p2][p3]+1 ) ;\n                    dp[i][p1][0][p3] = min ( dp[i][p1][0][p3] , dp[i][p1][p2][p3]+1 ) ;\n                    dp[i][p1][p2][0] = min ( dp[i][p1][p2][0] , dp[i][p1][p2][p3]+1 ) ;\n                }\n            }\n}\n\nint main() {\n    init() , solve() , write ( dp[n][0][0][0] ) ;\n}\n\n```\n",
        "postTime": 1551246571,
        "uid": 66181,
        "name": "Celebrate",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    },
    {
        "content": "//f[i][a][b][c][d] \u53d6\u5b8c\u524di\u4ef6\u65f6 \u624b\u4e2d\u8fd8\u6709a\u4e2aA\uff0cb\u4e2aB\uff0cc\u4e2aC\u7684\u6700\u5c0f\u6b21\u6570\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint dp[110][15][15][15];\nint suma[110],sumb[110],sumc[110];//\u524di\u4ef6\u4e2dA,B,C\u7684\u6570\u91cf\nint main(){\n    char ch;\n    int n,i,a,b,c,ans,tmp;\n    cin>>n;\n    suma[0]=sumb[0]=sumc[0]=0;\n    for(i=1;i<=n;i++){\n        suma[i]=suma[i-1];\n        sumb[i]=sumb[i-1];\n        sumc[i]=sumc[i-1];\n        cin>>ch;\n        if(ch=='A')suma[i]++;\n            else if(ch=='B')sumb[i]++;\n            else sumc[i]++;}\n    if(n<=10){//\u4e0d\u8d85\u8fc710\u76f4\u63a5\u8f93\u51fa\n        ans=3;\n        if(!suma[n])ans--;\n        if(!sumb[n])ans--;\n        if(!sumc[n])ans--;\n        cout<<ans<<endl;return 0;}\n    memset(dp,0x7f,sizeof(dp));\n    dp[10][suma[10]][sumb[10]][sumc[10]]=0;\n    for(i=10;i<=n;i++)\n    for(a=0;a<=10;a++)\n    for(b=0;b<=10;b++)\n    for(c=0;c<=10;c++){\n        if(dp[i][a][b][c]>=1000000)continue;//\u65e0\u6cd5\u5230\u8fbe\u6b64\u72b6\u6001 \u8fd4\u56de\n        if(i==n){\n            ans=3;\n            if(!a)ans--;\n            if(!b)ans--;\n            if(!c)ans--;\n            dp[n][0][0][0]=min(dp[n][0][0][0],dp[n][a][b][c]+ans);\n            continue;}\n               //\u8ba8\u8bba\u653e\u624b\u4e2d\u5168\u90e8\u7684A,B,C\n        if(a){\n            tmp=min(n,i+a);//\u9632\u6b62\u8d8a\u754c\n            dp[tmp][suma[tmp]-suma[i]][b+sumb[tmp]-sumb[i]][c+sumc[tmp]-sumc[i]]=\n            min(dp[tmp][suma[tmp]-suma[i]][b+sumb[tmp]-sumb[i]][c+sumc[tmp]-sumc[i]],dp[i][a][b][c]+1);}\n        if(b){\n            tmp=min(n,i+b);\n            dp[tmp][a+suma[tmp]-suma[i]][sumb[tmp]-sumb[i]][c+sumc[tmp]-sumc[i]]=\n            min(dp[tmp][a+suma[tmp]-suma[i]][sumb[tmp]-sumb[i]][c+sumc[tmp]-sumc[i]],dp[i][a][b][c]+1);}\n        if(c){\n            tmp=min(n,i+c);\n            dp[tmp][a+suma[tmp]-suma[i]][b+sumb[tmp]-sumb[i]][sumc[tmp]-sumc[i]]=\n            min(dp[tmp][a+suma[tmp]-suma[i]][b+sumb[tmp]-sumb[i]][sumc[tmp]-sumc[i]],dp[i][a][b][c]+1);}}\n    cout<<dp[n][0][0][0]<<endl;\nreturn 0;}\n```",
        "postTime": 1507597508,
        "uid": 16986,
        "name": "TheGod",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    },
    {
        "content": "\u7528\u6570\u7ec4\u8868\u793a\u6240\u6709\u7684\u72b6\u6001\uff0c\u72b6\u6001\u4e3a\u5f53\u524d\u62ff\u5230\u4e86\u7b2c\u51e0\u4e2a\u7269\u54c1\uff0c\u73b0\u5728\u624b\u91cc\u6709A\u7c7b\u7269\u54c1\uff0cB\u7c7b\u7269\u54c1\uff0cC\u7c7b\u7269\u54c1\u5404\u51e0\u4e2a\uff0c\u6240\u4ee5\u6bcf\u6b21\u8f6c\u79fb\u90fd\u662f\u628a\u4e00\u79cd\u4e1c\u897f\u653e\u8fdb\u53bb\u4e4b\u540e\u518d\u53d6\u51e0\u4ef6\uff0c\u7136\u540e\u5c31\u6bd4\u8f83\u597d\u5199\u4e86\n\n\u00b7\u00b7\u00b7\n\n    \n    \n```cpp\n#include<iostream>\n#include<cstdio> \nusing namespace std;\nint n,w[105],f[105][15][15][15],t[4],ans;\nint read(){//read\u51fd\u6570\u662f\u5bf9\u5b57\u7b26\u8fdb\u884c\u4e00\u4e0b\u8f6c\u53d8\uff0c\u53d8\u6210\u6570\u5b57\n    int x;char c=getchar();\n    while(c<'A'||c>'C') c=getchar();\n    x=c-'A'+1;\n    return x;\n}\nvoid dp(int cur,int nxt,int a,int b,int c,int k){//cur\u662f\u5f53\u524d\u72b6\u6001\u7684\u7269\u54c1\u6570\uff0cnxt\u8f6c\u79fb\u540e\u7684\u72b6\u6001\u7684\u7269\u54c1\u6570\uff0cabc\u662f\u4e09\u79cd\u7269\u54c1\u5728\u624b\u4e2d\u7684\u6570\u91cf\uff0ck\u662f\u8981\u653e\u54ea\u4e00\u79cd\u7269\u54c1\n    int aa=a,bb=b,cc=c;\n    nxt=min(nxt,n);//\u4e0d\u80fd\u8d85\u51fa\n    if(k==1) aa=0;\n    else if(k==2) bb=0;\n    else if(k==3) cc=0;\n    for(int i=cur+1;i<=nxt;i++){\n        if(w[i]==1) aa++;\n        else if(w[i]==2) bb++;\n        else if(w[i]==3) cc++;\n    }\n    f[nxt][aa][bb][cc]=min(f[nxt][aa][bb][cc],f[cur][a][b][c]+1);//\u4e0a\u4e00\u4e2a\u72b6\u6001\u7684\u6b21\u6570\u518d\u591a\u653e\u4e00\u6b21\n}\nint main(){\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++){\n        w[i]=read();\n        if(i<=10){\n            t[w[i]]++;//\u5148\u8bb0\u5f55\u524d\u5341\u4e2a\u7269\u54c1\u4e09\u79cd\u5404\u6709\u51e0\u4e2a\n        }\n    }\n    if(n<=10){//\u5c0f\u4e8e\u5341\u4e2a\u5c31\u76f4\u63a5\u8f93\u51fa\n        for(int i=1;i<=3;i++){\n            ans+=(t[i]>0?1:0);\n        }\n        printf(\"%d\\n\",ans);\n        return 0;\n    }\n    for(int i=0;i<=n;i++){\n        for(int j=0;j<=10;j++){\n            for(int k=0;k<=10;k++){\n                for(int l=0;l<=10;l++){\n                    f[i][j][k][l]=(1<<30);//\u521d\u59cb\u5316\n                }\n            }\n        }\n    }\n    f[10][t[1]][t[2]][t[3]]=0;//\u521d\u72b6\u6001\u4e3a\u96f6\u6b21\uff0c i<=10&&j<=t[1]&&k<=t[2]&&l<=t[3] \u7684\u72b6\u6001\u4e0d\u53d8\u4e3a\u96f6\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u72b6\u6001\u4e00\u5b9a\u4e0d\u662f\u6700\u4f18\uff0c\u6240\u4ee5\u4e0d\u5fc5\u521d\u59cb\u5316\n    for(int i=10;i<=n;i++){\n        for(int j=0;j<=10;j++){\n            for(int k=0;k<=10;k++){\n                for(int l=0;l<=10;l++){\n                    if(f[i][j][k][l]!=(1<<30)){//\u5982\u679c\u8fd9\u4e2a\u72b6\u6001\u53ef\u4ee5\u8f6c\u79fb\n                        if(j>0){\n                            dp(i,i+j,j,k,l,1);//\u5206\u522b\u5c1d\u628a\u6bcf\u4e00\u79cd\u7269\u54c1\u653e\u56de\u53bb\u8fdb\u884c\u72b6\u6001\u8fdb\u884c\u8f6c\u79fb\n                        }\n                        if(k>0){\n                            dp(i,i+k,j,k,l,2);\n                        }\n                        if(l>0){\n                            dp(i,i+l,j,k,l,3);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    ans=(1<<30);\n    for(int j=0;j<=10;j++){\n        for(int k=0;k<=10;k++){\n            for(int l=0;l<=10;l++){\n                ans=min(ans,f[n][j][k][l]+(j>0?1:0)+(k>0?1:0)+(l>0?1:0));//\u5728\u6240\u6709\u5df2\u7ecf\u53d6\u4e86n\u4e2a\u7269\u54c1\u7684\u72b6\u6001\u91cc\u53d6\u6700\u5c0f\u503c\n            }\n        }\n    }\n    printf(\"%d\\n\",ans);\n    return 0; \n}\n\u00b7\u00b7\u00b7\n```",
        "postTime": 1502197002,
        "uid": 33084,
        "name": "circlegg",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    },
    {
        "content": "#\u52a8\u6001\u89c4\u5212\u90e8\u5206\n\n\u5b9a\u4e49 **f[i][A][B][C] \u4e3a\u524di\u4e2a\u4e2d A\u79cd\u6709A\u4e2a B\u79cd\u6709B\u4e2a C\u79cd\u6709C\u4e2a \u6240\u9700\u6700\u5c0f\u7684\u64cd\u4f5c\u6b21\u6570**\n\n\u90a3\u4e48\u6bcf\u4e00\u6b21\u64cd\u4f5c\u53ef\u4ee5\u5c06 \u76ee\u524d\u7684A\u79cd\u6216B\u79cd\u6216C\u79cd\u7684\u7269\u54c1\u5168\u90e8\u79fb\u9664\n\n\u90a3\u4e48 f[i+A][A'][B'][C] f[i+B][A'][B'][C'] f[i+C][A'][B'][C'](A' B' C'\u5206\u522b\u4ee3\u8868\u5728i+1~i+(A\u6216B\u6216C)\u4e2d A\u6216B\u6216C\u7684\u503c) \\_\u5c31\u662f\u6211\u7684\u4ee3\u7801\u4e2d\u7684 grant\u51fd\u6570\\_\n\n\u5747\u53ef\u4ee5\u7531f[i][A][B][C]\u63a8\u5f97 \u7136\u540e\u5bf9\u6bcf\u4e00\u9879\u6c42\u5f97\u6700\u5c0f\u64cd\u4f5c\u6b21\u6570\n\n\u5f53i=n\u65f6 f[n][A][B][C]=f[n][A][B][C]+ A>0+ B>0+ C>0\n\n\u518d\u5728 f[n][j][k][l]\u4e2d\u6c42\u6700\u5c0f\u503c\u5373\u4e3a\\_ans \\_\n\n\n###\u4ee5\u4e0b\u4e3a\u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn=105,INF=1<<30-1;\nint f[maxn][11][11][11],a[maxn],n,p[4],ans=INF;\nchar c;\ninline int cacl(char c)\n{\n    if(c=='A')return 1;\n    else if(c=='B')return 2;\n    else if(c=='C')return 3;\n}\ninline void grant(int x,int y,int A,int B,int C,int k)\n{\n    \n    int A1=A,B1=B,C1=C;y=min(y,n);\n    if(k==1)A1=0;else if(k==2)B1=0;else C1=0;//\u5bf9\u4e00\u79cd\u7269\u54c1\u8fdb\u884c\u64cd\u4f5c\n    for(int i=x+1;i<=y;i++){//\u5206\u522b\u8bb0\u5f55A',B',C'\u7684\u503c\n        if(a[i]==1)A1++;\n        else if(a[i]==2)B1++;\n        else if(a[i]==3)C1++;\n    }\n    f[y][A1][B1][C1]=min(f[x][A][B][C]+1,f[y][A1][B1][C1]);//\u627e\u6700\u5c0f\u7684\u6b21\u6570\u8fbe\u5230\u6b64\u72b6\u6001\n}\ninline void inti()\n{\n    cin>>n;\n    for(int i=1;i<=n;i++){\n        cin>>c;\n        a[i]=cacl(c);//\u5c06\u5b57\u7b26\u6539\u4e3a\u6570\u5b57 \u867d\u7136\u5e76\u6ca1\u8d77\u5230\u4ec0\u4e48\u5e2e\u52a9\n        if(i<=10)p[a[i]]++;//\u8bb0\u5f55\u6570\u5b571 2 3\u7684\u4e2a\u6570\n    }\n    if(n<=10){//\u5728n<=10\u7684\u65f6\u5019\u7279\u5224\u7136\u540e\u5bf9\u6bcf\u79cd\u989c\u8272\u5747\u64cd\u4f5c\u4e00\u6b21 \u5426\u5219\u65e0\u6cd5\u8ba1\u7b97\n    cout<<(int)(p[1]>0)+(int)(p[2]>0)+(int)(p[3]>0)<<endl;\n    exit(0);}\n    for(int i=0;i<=n;i++)\n     for(int j=0;j<=10;j++)\n      for(int k=0;k<=10;k++)\n       for(int l=0;l<=10;l++)\n        f[i][j][k][l]=INF;//\u6570\u7ec4\u521d\u59cb\u5316 \u5747\u8bbe\u7f6e\u4e3a\u4e0d\u53ef\u5230\u8fbe\n    f[10][p[1]][p[2]][p[3]]=0;//\u8d77\u70b9\u603b\u6b21\u6570\u4e3a0\n}\ninline void dp()\n{\n    for(int i=10;i<=n;i++)\n     for(int j=0;j<=10;j++)\n      for(int k=0;k<=10;k++)\n       for(int l=0;l<=10;l++)\n       if(f[i][j][k][l]!=INF){//\u679a\u4e3ef[i][j][k][l]\u627e\u5230\u53ef\u4ee5\u63a8\u5f97\u7684\u72b6\u6001\n           if(j)grant(i,i+j,j,k,l,1);//\u5982\u679cA\u8fd8\u6709\u5269\u4f59\u5219\u53d6\u5149A \u4e0b\u540c\u4e0a\n           if(k)grant(i,i+k,j,k,l,2);\n           if(l)grant(i,i+l,j,k,l,3);\n       }\n    for(int j=0;j<=10;j++)\n     for(int k=0;k<=10;k++)\n      for(int l=0;l<=10;l++)\n       ans=min(ans,f[n][j][k][l]+(int)(j>0)+(int)(k>0)+(int)(l>0));//\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5df2\u7ecf\u6ca1\u6709\u7269\u54c1\u5728\u6d41\u6c34\u7ebf\u4e0a\u7684\u72b6\u6001 \u53ea\u9700\u6bcf\u79cd\u5747\u64cd\u4f5c\u4e00\u6b21\u5373\u53ef\n}\nint main()\n{\n    inti();//\u8f93\u5165\n    dp();//dp\u4e3b\u7a0b\u5e8f\n    cout<<ans<<endl;\n    return 0;\n}\n```",
        "postTime": 1496760078,
        "uid": 23172,
        "name": "Lin1043",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    },
    {
        "content": "\u52a8\u6001\u89c4\u5212\u3002\n\ndp[i][j][k][l]\u8868\u793a\u62ff\u8d70\u524di\u4e2a\uff0cA\u3001B\u3001C\u5206\u522b\u5269\u4e0bj\u3001k\u3001l\u4e2a\u7684\u6700\u5c0f\u88c5\u7bb1\u6b21\u6570\u3002\n\n\u7528\u5b83\u5237\u8868\uff0c\u5206\u522b\u8003\u8651\u628aA\u3001B\u3001C\u5168\u62ff\u8d70\u3002\n\n\u5177\u4f53\u65b9\u7a0b\u89c1\u4ee3\u7801\u3002\n\n\u6700\u540e\u7684\u7b54\u6848\u662f\u5728\u6240\u6709dp[n]\u91cc\u627e\u6700\u5c0f\u503c\uff0c\u6ce8\u610f\u5269\u4e0b\u7684\u4e5f\u8981\u7b97\u5230\u6b21\u6570\u91cc\u3002\n\n\u7279\u5224n<10\u7684\u60c5\u51b5\u3002\n\n\u6ce8\u610f\u6700\u540e\u5269\u4f59\u4e0d\u8db310\u4e2a\u7684\u60c5\u51b5\u3002\n\n\n\u4ee3\u7801\u5982\u4e0b\n\n\n                \n                \n                \n```cpp\n#include <cstdio>\n#include <iostream>\n#include <cstring>\nusing namespace std;\nint n,a[200],f[120][10][10][10],a1,a2,a3;\nchar c;\nmain()\n{\n    scanf(\"%d\",&n);\n    for (int i=1;i<=n;i++)\n    {\n        cin>>c;\n        if (c=='A')\n            a[i]=1;\n        else if (c=='B')\n            a[i]=2;\n        else\n            a[i]=3;\n    }\n    for (int i=1;i<=min(10,n);i++)\n        if (a[i]==1)\n            a1++;\n        else if (a[i]==2)\n            a2++;\n        else\n            a3++;\n    if (n<=10)\n    {\n        printf(\"%d\",(a1>0)+(a2>0)+(a3>0));\n        return 0;\n    }\n    memset(f,-1,sizeof f);\n    int x,y,z,nn;\n    f[10][a1][a2][a3]=0;\n    for (int i=10;i<=n;i++)\n        for (int j=0;j<=10;j++)\n            for (int k=0;k<=10;k++)\n            {\n                int l=10-j-k;\n                if (f[i][j][k][l]==-1) continue;\n                x=0,y=k,z=l,nn=i+j;\n                if (nn>n) nn=n;\n                for (int ii=i+1;ii<=nn;ii++)\n                    if (a[ii]==1)\n                        x++;\n                    else if (a[ii]==2)\n                        y++;\n                    else\n                        z++;\n                if (f[nn][x][y][z]==-1) f[nn][x][y][z]=0x3f3f3f3f;\n                f[nn][x][y][z]=min(f[nn][x][y][z],f[i][j][k][l]+1);\n                x=j,y=0,z=l,nn=i+k;\n                if (nn>n) nn=n;\n                for (int ii=i+1;ii<=nn;ii++)\n                    if (a[ii]==1)\n                        x++;\n                    else if (a[ii]==2)\n                        y++;\n                    else\n                        z++;\n                if (f[nn][x][y][z]==-1) f[nn][x][y][z]=0x3f3f3f3f;\n                f[nn][x][y][z]=min(f[nn][x][y][z],f[i][j][k][l]+1);\n                x=j,y=k,z=0,nn=i+l;\n                if (nn>n) nn=n;\n                for (int ii=i+1;ii<=nn;ii++)\n                    if (a[ii]==1)\n                        x++;\n                    else if (a[ii]==2)\n                        y++;\n                    else\n                        z++;\n                if (f[nn][x][y][z]==-1) f[nn][x][y][z]=0x3f3f3f3f;\n                f[nn][x][y][z]=min(f[nn][x][y][z],f[i][j][k][l]+1);\n            }\n            int ans=0x7fffffff;\n            for (int i=0;i<=10;i++)\n                for (int j=0;j<=10;j++)\n                    for (int k=0;k<=10;k++)\n                        if (f[n][i][j][k]!=-1)\n                            ans=min(ans,f[n][i][j][k]+(i>0)+(j>0)+(k>0));\n            printf(\"%d\",ans);\n}\n```",
        "postTime": 1477554587,
        "uid": 17689,
        "name": "\u8fdc\u822a\u4e4b\u66f2",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    },
    {
        "content": "DP\u4e0d\u7528\u8bf4\uff0c\u56e0\u4e3a\u7269\u54c1\u53ea\u6709\u4e09\u79cd\uff0c\u800c\u4e14\u624b\u4e2d\u6700\u591a\u670910\u4e2a\u7269\u54c1\uff0c\u6240\u4ee5\u8003\u8651\u624b\u4e2d\u7269\u54c1\u5404\u591a\u5c11\u65f6\u6240\u88c5\u7bb1\u7684\u6700\u5c11\u7684\u6b21\u6570\uff0c\u6240\u4ee5\u8bbe\u7acb\u72b6\u6001f[i,j,k,l]\u8868\u793a\u524di\u4e2a\u7269\u54c1\uff0c\u624b\u4e2dA\u6709j\u4e2a\uff0c\u624b\u4e2dB\u6709k\u4e2a\uff0c\u624b\u4e2dC\u6709l\u4e2a\u7684\u6700\u5c0f\u88c5\u7bb1\u6b21\u6570\uff0c\u90a3\u4e48\u51b3\u7b56\u5c31\u8003\u8651\u5728\u8fd9\u4e2a\u72b6\u6001\u65f6\uff0c\u53ef\u4ee5\u63a8\u5230\u54ea\u4e9b\u72b6\u6001\uff0c\u6bd4\u5982\u8bf4\u628aA\u5168\u90e8\u88c5\u8fdb\u53bb\uff0c\u90a3\u4e48f[i,j,k,l]+1=f[i+j,0,k,l]\uff0c\u56e0\u4e3a\u628aA\u90fd\u88c5\u8fdb\u53bb\u4e86\uff0c\u6240\u4ee5A\u5c31\u662f0\u4e86\uff0c\u540c\u6837B\u548cC\u4e5f\u662f\u8fd9\u4e48\u63a8\u7684\uff0c\u6700\u540e\u5728f[n,i,j,k]\u627e\u4e2a\u6700\u5c0f\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\n\n\u4ee3\u7801\uff1a\n\n    \n    \n\n\n    \n```cpp\nvar\n    a                            :array[0..105] of longint;\n    s                            :array[1..3] of longint;\n    ch                            :char;\n    f                            :array[0..105,-20..10,-20..10,-20..10] of longint;\n    i,j,k,l,m,n,ans,x,y,z,nn,ii    :longint;\nfunction min(x,y:longint):longint;\nbegin\n    if x>y then exit(y) else exit(x);\nend;\nprocedure init1;\nbegin\n    x:=0; y:=k; z:=l; nn:=i+j;\n    if nn>n then nn:=n;\n    for ii:=i+1 to nn do\n    begin\n        if a[ii]=1 then inc(x);\n        if a[ii]=2 then inc(y);\n        if a[ii]=3 then inc(z);\n    end;\n    if f[nn,x,y,z]=-1 then f[nn,x,y,z]:=maxlongint;\n    f[nn,x,y,z]:=min(f[nn,x,y,z],f[i,j,k,l]+1);\nend;\nprocedure init2;\nbegin\n    x:=j; y:=0; z:=l; nn:=i+k;\n    if nn>n then nn:=n;\n    for ii:=i+1 to nn do\n    begin\n        if a[ii]=1 then inc(x);\n        if a[ii]=2 then inc(y);\n        if a[ii]=3 then inc(z);\n    end;\n    if f[nn,x,y,z]=-1 then f[nn,x,y,z]:=maxlongint;\n    f[nn,x,y,z]:=min(f[nn,x,y,z],f[i,j,k,l]+1);\nend;\nprocedure init3;\nbegin\n    x:=j; y:=k; z:=0; nn:=i+l;\n    if nn>n then nn:=n;\n    for ii:=i+1 to nn do\n    begin\n        if a[ii]=1 then inc(x);\n        if a[ii]=2 then inc(y);\n        if a[ii]=3 then inc(z);\n    end;\n    if f[nn,x,y,z]=-1 then f[nn,x,y,z]:=maxlongint;\n    f[nn,x,y,z]:=min(f[nn,x,y,z],f[i,j,k,l]+1);\nend;\nbegin\n    readln(n);\n    for i:=1 to n do\n    begin\n        readln(ch);\n        a[i]:=ord(ch)-64;\n        if i<=10 then inc(s[a[i]]);\n    end;\n    if n<=10 then\n    begin\n        for i:=1 to 3 do if s[i]>0 then inc(ans);\n        writeln(ans);\n        halt;\n    end;\n    for i:=0 to 105 do\n    for j:=-20 to 10 do\n    for k:=-20 to 10 do\n    for l:=-20 to 10 do f[i,j,k,l]:=-1;\n    f[10,s[1],s[2],s[3]]:=0;\n    for i:=10 to n do\n    for j:=0 to 10 do\n    for k:=0 to 10 do\n    begin\n        l:=10-j-k;\n        if f[i,j,k,l]<0 then continue;\n        init1;\n        init2;\n        init3;\n    end;\n    ans:=maxlongint;\n    for i:=0 to 10 do\n    for j:=0 to 10 do\n    for k:=0 to 10 do\n    begin\n        if f[n,i,j,k]=-1 then continue;\n        nn:=0;\n        if i<>0 then inc(nn);\n        if j<>0 then inc(nn);\n        if k<>0 then inc(nn);\n        ans:=min(ans,f[n,i,j,k]+nn);\n    end;\n    writeln(ans);\nend.\n\n```",
        "postTime": 1467366358,
        "uid": 17939,
        "name": "Zoewilly",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2530 \u3010[SHOI2001]\u5316\u5de5\u5382\u88c5\u7bb1\u5458\u3011"
    }
]