[
    {
        "content": "\u5b89\u5229\u4e00\u53d1\u81ea\u5df1\u7684\u535a\u5ba2\uff1a[http://www.cnblogs.com/OIerShawnZhou/](http://www.cnblogs.com/OIerShawnZhou/)\n\n\uff08\u6211\u5e73\u5e38\u5199\u7684\u9898\u89e3\u90fd\u4f1a\u5f80\u535a\u5ba2\u91cc\u53d1\uff0c\u6b22\u8fce\u5404\u4f4d\u5927\u4f6c\u524d\u6765\u62cd\u7816\uff09\n\n***\u4e0a\u4e00\u4e2a\u9898\u89e3\u6709\u4e00\u5904\u624b\u8bef\uff0c\u5df2\u66f4\u6b63**\n\n\u5e26\u6709\u9644\u4ef6\u7684\u80cc\u5305\u95ee\u9898\uff0c\u5b83\u5c5e\u4e8e01\u80cc\u5305\u7684\u53d8\u5f0f\u3002\n\n\u8fd9\u9898\u8fd8\u597d\uff0c\u6bcf\u4e00\u4e2a\u7269\u54c1\u6700\u591a\u53ea\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u5bf9\u4e3b\u4ef6\u8fdb\u884c\u80cc\u5305\u7684\u65f6\u5019\uff0c\u51b3\u7b56\u5c31\u4e0d\u518d\u662f\u4e24\u4e2a\u4e86\uff0c\u800c\u662f\u4e94\u4e2a\u3002\n\n\u8fd8\u8bb0\u5f9701\u80cc\u5305\u7684\u51b3\u7b56\u662f\u4ec0\u4e48\u5417\uff1f\n\n1.\u4e0d\u9009\uff0c\u7136\u540e\u53bb\u8003\u8651\u4e0b\u4e00\u4e2a\n\n2.\u9009\uff0c\u80cc\u5305\u5bb9\u91cf\u51cf\u6389\u90a3\u4e2a\u91cd\u91cf\uff0c\u603b\u503c\u52a0\u4e0a\u90a3\u4e2a\u4ef7\u503c\u3002\n\n\u8fd9\u4e2a\u9898\u7684\u51b3\u7b56\u662f\u4e94\u4e2a\uff0c\u5206\u522b\u662f\uff1a\n\n1.\u4e0d\u9009\uff0c\u7136\u540e\u53bb\u8003\u8651\u4e0b\u4e00\u4e2a\n\n2.\u9009\u4e14\u53ea\u9009\u8fd9\u4e2a\u4e3b\u4ef6\n\n3.\u9009\u8fd9\u4e2a\u4e3b\u4ef6\uff0c\u5e76\u4e14\u9009\u9644\u4ef61\n\n4.\u9009\u8fd9\u4e2a\u4e3b\u4ef6\uff0c\u5e76\u4e14\u9009\u9644\u4ef62\n\n5.\u9009\u8fd9\u4e2a\u4e3b\u4ef6\uff0c\u5e76\u4e14\u9009\u9644\u4ef61\u548c\u9644\u4ef62.\n\n\u8fd9\u4e2a\u3002\u3002\u3002\u5f88\u597d\u60f3\u5427\u3002\u3002\u3002\n\n\u6211\u4eec\u77e5\u9053\uff0c01\u80cc\u5305\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff08\u5df2\u4f7f\u7528\u6eda\u52a8\u6570\u7ec4\u4f18\u5316\uff09\u662ff[j] = max(f[j],f[j-w[i]]+c[i])\uff0c\u90a3\u4e48\uff0c\u8fd9\u9053\u9898\u7684\u8f6c\u79fb\u65b9\u7a0b\u4e5f\u5c31\u4e0d\u96be\u5199\u51fa\u4e86\u3002\n\n\u7b49\u7b49\uff0c\u4f60\u5f97\u5148\u5224\u65ad\u67d0\u4e2a\u9009\u9644\u4ef6\u7684\u51b3\u7b56\u662f\u4e0d\u662f\u53ef\u884c\u7684\uff0c\u5982\u679c\u5f53\u524d\u7684\u5bb9\u91cf\u8fd8\u591f\u653e\u7b2c\u4e00\u4e2a\uff0c\u6216\u7b2c\u4e8c\u4e2a\uff0c\u6216\u4e24\u4e2a\u90fd\u9009\u7684\u9644\u4ef6\uff0c\u90a3\u4e48\u624d\u80fd\u8003\u8651\u8f6c\u79fb\u3002\n\n\u5f53\u7136\uff0c\u4e0d\u9009\u9644\u4ef6\u7684\u8bdd\u5c31\u4e0d\u7528\u5224\u5566\uff0c\u76f4\u63a501\u80cc\u5305\u7684\u8f6c\u79fb\u65b9\u7a0b\u5373\u53ef\u3002\n\n\u6211\u4eec\u4ee4main\\_item\\_w\u6570\u7ec4\u8868\u793a\u67d0\u4e2a\u4e3b\u4ef6\u7684\u8d39\u7528\uff0c\u800cmain\\_item\\_c\u6570\u7ec4\u8868\u793a\u67d0\u4e2a\u4e3b\u4ef6\u7684\u4ef7\u503c\u3002\n\n\u540c\u6837\u7684\uff0c\u7528\u4e8c\u7ef4\u6570\u7ec4annex\\_item\\_w\u8868\u793a\u67d0\u4e2a\u9644\u4ef6\u7684\u8d39\u7528\uff0cannex\\_item\\_c\u8868\u793a\u67d0\u4e2a\u9644\u4ef6\u7684\u4ef7\u503c\uff0c\u7b2c\u4e8c\u7ef4\u53ea\u9700\u89810,1,2\u8fd9\u4e09\u4e2a\u6570\uff0c\u5176\u4e2d\u7b2c\u4e8c\u7ef4\u662f0\u7684\u573a\u5408\u8868\u793a\u8fd9\u4e2a\u4e3b\u4ef6i\u7684\u9644\u4ef6\u6570\u91cf\uff0c\u5b83\u53ea\u80fd\u7b49\u4e8e0\u62161\u62162\u3002\u7b2c\u4e8c\u7ef4\u662f1\u6216\u8005\u662f2\u7684\u503c\u4ee3\u8868\u4ee5i\u4e3a\u4e3b\u4ef6\u7684\u9644\u4ef61\u6216\u8005\u9644\u4ef62\u7684\u76f8\u5173\u4fe1\u606f\uff08\u8d39\u7528 \u4ef7\u503c\uff09\u3002\u8fd9\u4e9b\u6570\u7ec4\u7684\u4fe1\u606f\u5e94\u8be5\u5728\u8bfb\u5165\u65f6\u5904\u7406\u597d\uff0c\u5177\u4f53\u8be6\u89c1\u4ee3\u7801\u3002\n\n\u8fd9\u6837\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5c31\u662f\u56db\u4e2a\u3002\n\n\u4e0d\u9009\u9644\u4ef6\u7684\u2460\uff1af[j] = max(f[j],f[j-main\\_item\\_w[i]]+main\\_item\\_c[i]);\n\n\u9009\u9644\u4ef61\u7684\u2461\uff1af[j] = max(f[j],f[ j - main\\_item\\_w[i] - annex\\_item\\_w[i][1] ] + main\\_item\\_c[i] + annex\\_item\\_c[i][1]);\n\n\u9009\u9644\u4ef62\u7684\u2462\uff1af[j] = max(f[j],f[ j - main\\_item\\_w[i] - annex\\_item\\_w[i][2] ] + main\\_item\\_c[i] + annex\\_item\\_c[i][2]);\n\n\u9009\u9644\u4ef61\u548c\u9644\u4ef62\u7684\u2463\uff1af[j] = max(f[j],f[ j - main\\_item\\_w[i] - annex\\_item\\_w[i][1] - annex\\_item\\_w[i][2] ] + main\\_item\\_c[i] + annex\\_item\\_c[i][1] + annex\\_item\\_c[i][2]);\n\n\u5df2\u7ecf\u6eda\u52a8\u6389\u4e86\u7b2c\u4e00\u7ef4\uff0c\u9053\u7406\u548c\u6b63\u5e38\u5411\u768401\u80cc\u5305\u90fd\u662f\u4e00\u6837\u7684\uff0c\u5373\u53ea\u6709i\u548ci-1\u6709\u5173\u7cfb\uff0c\u4f46\u662f\u8fd9\u4e2a\u89c4\u5f8b\u5728\u5faa\u73af\u4e2d\u5df2\u7ecf\u6ee1\u8db3\u4e86\u6240\u4ee5\u5b8c\u5168\u6ca1\u5fc5\u8981\u8bb0\u5f55\u3002\n\n\u76ee\u6807\u72b6\u6001f[n]\uff0c\u8f93\u51fa\u5c31\u597d\u3002\n\n\u53c2\u8003\u4ee3\u7801\uff1a\n\n```cpp\n#include <iostream>\n#define maxn 32005\nusing namespace std;\nint n,m;\nint v,p,q;\nint main_item_w[maxn];\nint main_item_c[maxn];\nint annex_item_w[maxn][3];\nint annex_item_c[maxn][3];\nint f[maxn];\nint main(){\n    cin >> n >> m;\n    for (int i=1;i<=m;i++){\n        cin >> v >> p >> q;\n        if (!q){\n            main_item_w[i] = v;\n            main_item_c[i] = v * p;\n        }\n        else{\n            annex_item_w[q][0]++;\n            annex_item_w[q][annex_item_w[q][0]] = v;\n            annex_item_c[q][annex_item_w[q][0]] = v * p;\n        }\n    }\n\n    for (int i=1;i<=m;i++)\n        for (int j=n;main_item_w[i]!=0 && j>=main_item_w[i];j--){\n            f[j] = max(f[j],f[j-main_item_w[i]]+main_item_c[i]);\n\n            if (j >= main_item_w[i] + annex_item_w[i][1])\n                f[j] = max(f[j],f[ j - main_item_w[i] - annex_item_w[i][1] ] + main_item_c[i] + annex_item_c[i][1]);\n\n            if (j >= main_item_w[i] + annex_item_w[i][2])\n                f[j] = max(f[j],f[ j - main_item_w[i] - annex_item_w[i][2] ] + main_item_c[i] + annex_item_c[i][2]);\n\n            if (j >= main_item_w[i] + annex_item_w[i][1] + annex_item_w[i][2])\n                f[j] = max(f[j],f[ j - main_item_w[i] - annex_item_w[i][1] - annex_item_w[i][2] ] + main_item_c[i] + annex_item_c[i][1] + annex_item_c[i][2]);\n\n         }\n     cout << f[n] << endl;\n     return 0;\n}\n```",
        "postTime": 1506489546,
        "uid": 20197,
        "name": "ShawnZhou",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "### \u8fd9\u9053\u9898\u770b\u8d77\u6765\u6bd4\u8f83\u96be\uff0c\u4f46\u662f\u5982\u679c\u6574\u7406\u597d\u601d\u8def\uff0c\u975e\u5e38\u7b80\u5355\u3002\n-----\n## \u57fa\u672c\u601d\u8def\n\u65e2\u7136\u7269\u54c1\u5206\u4e3a\u4e3b\u4ef6\u548c\u9644\u4ef6\u4e24\u7c7b\uff0c\u4e14\u6bcf\u4e2a\u4e3b\u4ef6\u6700\u591a\u5305\u542b\u4e24\u4e2a\u9644\u4ef6\uff0c\u90a3\u4e48\u6211\u4eec\u4e0d\u59a8\u679a\u4e3e\u6240\u6709\u7684\u4e3b\u4ef6\u3002\u90a3\u4e48\uff0c\u5bf9\u4e8e\u6bcf\u6b21\u679a\u4e3e\uff0c\u4f1a\u6709\u4e94\u79cd\u60c5\u51b5\uff1a\n+ \u4ec0\u4e48\u90fd\u4e0d\u4e70\n+ \u53ea\u4e70\u4e3b\u4ef6\n+ \u4e70\u4e3b\u4ef6\u548c\u7b2c\u4e00\u4e2a\u9644\u4ef6\n+ \u4e70\u4e3b\u4ef6\u548c\u7b2c\u4e8c\u4e2a\u9644\u4ef6\n+ \u4e70\u4e3b\u4ef6\u548c\u4e24\u4e2a\u9644\u4ef6\n\n\u53ea\u8981\u628a\u8fd9\u4e94\u79cd\u60c5\u51b5\u6700\u7ec8\u7684\u4ef7\u503c\u7b97\u51fa\u6765\uff0c\u53d6\u6700\u5927\u503c\u5c31\u53ef\u4ee5\u4e86\u3002\n\n-----\n## \u5982\u4f55\u5f00\u6570\u7ec4\uff1f\n\u5efa\u7acb\u4e24\u4e2a\u4e8c\u7ef4\u6570\u7ec4 $V_{65,3}$ \u548c $P_{65,3}$\uff0c\u542b\u4e49\u5982\u9898\u76ee\u63cf\u8ff0\u3002$V_{i, j}$ \u548c $P_{i, j}$ \u5206\u522b\u8868\u793a\u7b2c $i$ \u4e2a\u7269\u54c1\u7684\u7b2c $j$ \u4e2a\u9644\u4ef6\u7684\u4ef7\u683c\u548c\u91cd\u8981\u5ea6\uff08\u5f53 $j = 0$ \u65f6\uff0c\u8868\u793a\u4e3b\u4ef6\uff09\u3002\n\n-----\n## \u5982\u4f55\u9884\u5904\u7406\u6570\u7ec4\uff1f\n+ \u5982\u679c\u662f\u4e3b\u4ef6\uff0c\u5219\u4ee4 $V_{i, 0}, P_{i, 0} = \\_v, \\_p$\u3002\n+ \u5982\u679c\u662f\u7269\u54c1 $\\_q$ \u7684\u7b2c $j$ \u4e2a\u9644\u4ef6\uff0c\u5219\u4ee4 $V_{q,j}, P_{q,j} = \\_v, \\_p$\u3002\n\n-----\n## \u52a8\u6001\u8f6c\u79fb\u65b9\u7a0b\n\u6211\u4eec\u53ef\u4ee5\u7528 $F_j$ \u8868\u793a\u82b1\u8d39\u94b1\u6570\u4e3a $j$ \u65f6\uff0c\u4ef7\u683c\u4e0e\u91cd\u8981\u5ea6\u4e58\u79ef\u7684\u6700\u5927\u503c\u3002\n\u6613\u77e5\uff1a\n+ \u5f53 $F_j \\geqslant V_{i, 0}$ \u65f6\uff0c$F_j = \\max\\{F_j, F_{j - V{i, 0}} + V_{i, 0} \\times P_{i, 0}\\}$\n+ \u5f53 $F_j \\geqslant (V_{i, 0} + V_{i, 1})$ \u65f6\uff0c$F_j = \\max\\{F_j, F_{j - V{i, 0} - V_{i, 1}} + V_{i, 0} \\times P_{i, 0} + V_{i, 1} \\times P_{i, 1}\\}$\n+ \u5f53 $F_j \\geqslant (V_{i, 0} + V_{i, 2})$ \u65f6\uff0c$F_j = \\max\\{F_j, F_{j - V{i, 0} - V_{i, 2}} + V_{i, 0} \\times P_{i, 0} + V_{i, 2} \\times P_{i, 2}\\}$\n+ \u5f53 $F_j \\geqslant (V_{i, 0} + V_{i, 1} + V_{i, 2})$ \u65f6\uff0c$F_j = \\max\\{F_j, F_{j - V{i, 0} - V_{i, 1} - V_{i, 2}} + V_{i, 0} \\times P_{i, 0} + V_{i, 1} \\times P_{i, 1} + V_{i, 2} \\times P_{i, 2}\\}$\n\n\u5217\u51fa\u4e86\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff0c\u5957\u80cc\u5305\u516c\u5f0f\u5c31\u597d\u4e86\n\n-----\n## \u4ee3\u7801\u7b80\u5316\n**\u96be\u9053\u4f60\u771f\u7684\u8981\u5728 $\\texttt{for}$ \u5faa\u73af\u5185\u90e8\u5199\u5982\u6b64\u9ebb\u70e6\u7684\u6570\u7ec4\u4e0b\u6807\u5417\uff1f\u4e0d\u6015\u5199\u6655\u81ea\u5df1\u5417\uff1f**\n\n\u5bf9\u4e8e\u8fd9\u79cd\u6570\u7ec4\u4e0b\u6807\u5f88\u4e71\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff0c\u6700\u597d\u628a\u4e0b\u6807\u5199\u77ed\u4e00\u70b9\u3002\u600e\u4e48\u5199\u77ed\u5462\uff1f\n\n\u89c2\u5bdf\u4e00\u4e0b\u521a\u624d\u5217\u51fa\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff0c\u53d1\u73b0 $V_{i, j1} + V_{i, j2}$ \u7b49\u4e0b\u6807\u88ab\u5199\u4e86\u5f88\u591a\u904d\u3002\u4e0d\u59a8\u4f7f\u7528\u51fd\u6570\u6765\u8ba1\u7b97\u8fd9\u4e9b\u503c\uff0c\u5728\u4e0b\u6807\u91cc\u9762\u5199\u51fd\u6570\u8c03\u7528\u3002\u4e0d\u59a8\uff1a\n+ \u5b9a\u4e49 $\\texttt{cost2(int x, int y)}$ \u8ba1\u7b97 $V_{i, x} + V_{i, y}$\u3001\n+ \u5b9a\u4e49 $\\texttt{cost3(int x, int y, int z)}$ \u8ba1\u7b97 $V_{i, x} + V_{i, y} + V_{i, z}$\u3001\n+ \u5b9a\u4e49 $\\texttt{rpp(int x)}$ \u8ba1\u7b97 $V_{i, x} \\times P_{i, x}$\n\n\u4e8e\u662f\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u53ef\u4ee5\u7b80\u5316\u6210\u8fd9\u6837\uff1a\n+ \u5f53 $F_j \\geqslant V_{i, 0}$ \u65f6\uff0c$F_j = \\max\\{F_j, F_{j - V{i, 0}} + \\texttt{rpp(0)}\\}$\n+ \u5f53 $F_j \\geqslant \\texttt{cost2(0, 1)}$ \u65f6\uff0c$F_j = \\max\\{F_j, F_{j - \\texttt{cost2(0, 1)}} + \\texttt{rpp(0)} + \\texttt{rpp(1)}\\}$\n+ \u5f53 $F_j \\geqslant \\texttt{cost2(0, 2)}$ \u65f6\uff0c$F_j = \\max\\{F_j, F_{j - \\texttt{cost2(0, 2)}} + \\texttt{rpp(0)} + \\texttt{rpp(2)}\\}$\n+ \u5f53 $F_j \\geqslant \\texttt{cost3(0, 1, 2)}$ \u65f6\uff0c$F_j = \\max\\{F_j, F_{j - \\texttt{cost3(0, 1, 2)}} + \\texttt{rpp(0)} + \\texttt{rpp(1)} + \\texttt{rpp(2)}\\}$\n\n\u8fd9\u6837\u5c31\u663e\u5f97\u597d\u591a\u4e86\u3002\n\n-----\n## \u5b8c\u6574 AC \u4ee3\u7801\n```cpp\n//\u3010P1064\u3011\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848 - \u6d1b\u8c37 - 100\n#include <iostream>\n#include <algorithm> \n\nconst int kMaxN = 32000, kMaxM = 60; // \u5e38\u91cf\u540d\u524d\u5e26 k\uff0c\u7b26\u5408\u547d\u540d\u89c4\u8303\nint v[kMaxM + 5][3], p[kMaxM + 5][3];\nint f[kMaxN + 5];\n\nint main() {\n\tint n, m;\n\tstd::cin >> n >> m;\n\tfor (int i = 1; i <= m; ++i) {\n\t\tint _v, _p, _q;\n\t\tstd::cin >> _v >> _p >> _q;\n\t\tif (!_q) { // \u662f\u4e3b\u4ef6 \n\t\t\tv[i][0] = _v;\n\t\t\tp[i][0] = _p;\n\t\t} else {\n\t\t\tif (v[_q][1] == 0) { // \u662f\u7b2c\u4e00\u4e2a\u9644\u4ef6 \n\t\t\t\tv[_q][1] = _v;\n\t\t\t\tp[_q][1] = _p;\n\t\t\t} else { // \u662f\u7b2c\u4e8c\u4e2a\u9644\u4ef6 \n\t\t\t\tv[_q][2] = _v;\n\t\t\t\tp[_q][2] = _p;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfor (int i = 1; i <= m; ++i)\n\t\tfor (int j = n; j >= 0; --j) {\n        \t// \u7528 lambda \u8868\u8fbe\u5f0f\u4ee3\u66ff\u51fd\u6570\u5b9a\u4e49\uff08C++11 \u5077\u61d2\u4e13\u7528)\n\t\t\tauto cost2 = [v, p, i](int x, int y) { return v[i][x] + v[i][y]; };\n\t\t\tauto cost3 = [v, p, i](int x, int y, int z) { return v[i][x] + v[i][y] + v[i][z]; };\n\t\t\tauto rpp = [v, p, i](int x) { return v[i][x] * p[i][x]; };\n\t\t\t\n\t\t\tif (j >= v[i][0]) // \u591f\u4e70\u4e3b\u4ef6 \n\t\t\t\tf[j] = std::max(f[j], f[j - v[i][0]] + rpp(0));\n\t\t\tif (j >= cost2(0, 1)) // \u8fd8\u591f\u4e70\u7b2c\u4e00\u4e2a\u9644\u4ef6 \n\t\t\t\tf[j] = std::max(f[j], f[j - cost2(0, 1)] + rpp(0) + rpp(1));\n\t\t\tif (j >= cost2(0, 2)) // \u8fd8\u591f\u4e70\u7b2c\u4e8c\u4e2a\u9644\u4ef6 \n\t\t\t\tf[j] = std::max(f[j], f[j - cost2(0, 2)] + rpp(0) + rpp(2));\n\t\t\tif (j >= cost3(0, 1, 2)) // \u8fd8\u591f\u4e70\u4e24\u4e2a\u9644\u4ef6 \n\t\t\t\tf[j] = std::max(f[j], f[j - cost3(0, 1, 2)] + rpp(0) + rpp(1) + rpp(2));\n\t\t}\n\t\t\n\tstd::cout << f[n] << std::endl;\n}\n```",
        "postTime": 1519387172,
        "uid": 53062,
        "name": "Anguei",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u3010\u7b97\u6cd5\u5206\u6790\u3011\n\n\u8fd9\u662f\u4e00\u4e2a \u6709\u4f9d\u8d56(?) \u768401\u80cc\u5305\n\n\u8bf4\u4eba\u8bdd\uff0c\u5c31\u662f\u60c5\u51b5\u591a\u4e86\u51e0\u4e2a\uff1a\n\n\u4ece \u2460\u9009\u8fd9\u4e2a\u4e1c\u897f\u653e\u5305\u91cc \u2461\u4e0d\u8981\u8fd9\u4e2a\u4e1c\u897f   \u53d8\u6210\u4e86\uff1a\n\n\u2460\u4e0d\u4e70\u4e3b\u4ef6  \u2461\u4e70\u4e3b\u4ef6  \u2462\u4e70\u4e3b\u4ef6+\u526f\u4ef61  \u2463\u4e70\u4e3b\u4ef6+\u526f\u4ef62  \u2464\u4e70\u4e3b\u4ef6+\u526f\u4ef61+\u526f\u4ef62\n\n\u5f53\u7136\uff0c\u524d\u63d0\u662f\uff1a\n\n~~1\uff09\u6709\u9644\u4ef6 \uff08\u6ca1\u6709\u9644\u4ef6\u662f\u6781\u5176\u7f8e\u597d\u7684\uff0c\u63a5\u4e0b\u6765\u7684\u4ee3\u7801\u4e2d\u53ef\u4ee5\u770b\u5230\uff0c\u5982\u679c\u6ca1\u6709\u9644\u4ef6\uff0c\u4e0d\u4f1a\u4ea7\u751f\u5f71\u54cd\uff09~~\n\n2\uff09\u8be5\u9644\u4ef6\u548c\u4e3b\u4ef6\u7684\u91cd\u91cf\uff08\u4e3a\u533a\u5206\u4ef7\u683c\u548c\u4ef7\u503c\uff0c\u63a5\u4e0b\u6765\u7684\u6240\u6709\u5206\u6790\u90fd\u6309\u80cc\u5305\u7406\u89e3\uff09\u4e4b\u548c\u2264\u73b0\u5728\u5728\u5224\u65ad\u7684j\n\n~~\uff08\u7b2c\u4e00\u6b21\u63d0\u4ea4\u667a\u969c\u822c\u5fd8\u4e86\u52a0\u7b49\u53f7\uff0c80\u5206\uff09~~\n\n\u4e0d\u591a\u8bf4\uff0c\u653e\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>  \nusing namespace std;  \nint m,n,mw[33333],mv[33333],fw[33333][3],fv[33333][3],f[33333],v,p,q;  \n//mw\u4e3b\u4ef6\u91cd\u91cf\uff0cmv\u4e3b\u4ef6\u4ef7\u503c\uff0cfw\u4e3b\u4ef6\u5bf9\u5e94\u7684\u9644\u4ef6\u91cd\u91cf\uff0cfv\u4e3b\u526f\u4ef7\u503c\uff0cn\u603b\u91cd\u91cf\uff0cm\u603b\u4e2a\u6570   \nint main()  \n{  \n    cin>>n>>m;  \n    for(int i=1;i<=m;i++){  \n    cin>>v>>p>>q;  \n    if(!q){//\u5982\u679c\u662f\u4e3b\u4ef6   \n        mw[i]=v;//\u4e3b\u4ef6\u91cd\u91cf   \n        mv[i]=v*p;//\u4e3b\u4ef6\u4ef7\u503c\u4e0e\u91cd\u91cf\u4e58\u79ef   \n    }  \n    else{//\u5982\u679c\u662f\u9644\u4ef6   \n        fw[q][0]++;//\u8bb0\u5f55\u4e3b\u4ef6\u7684\u9644\u4ef6\u4e2a\u6570\uff08\u53ea\u8bb0\u5f55\u5728fw\u5c31\u884c\uff0cfv\u90a3\u91cc\u6ca1\u7528   \n        fw[q][fw[q][0]]=v;//\u4e3b\u4ef6\u7684\u4e2a\u6570\u662f\u7528\u6765\u786e\u5b9a\u8be5\u9644\u4ef6\u5e94\u8be5\u586b\u5728\u7b2c\u4e00\u4e2a\u8fd8\u662f\u7b2c\u4e8c\u4e2a\u683c\u5b50\u91cc   \n        fv[q][fw[q][0]]=v*p;//\uff08\u662f\u7b2c\u4e00\u4e2a\u8fd8\u662f\u7b2c\u4e8c\u4e2a\u9644\u4ef6\uff09   \n    }  \n    }  \n    for(int i=1;i<=m;i++)  \n    for(int j=n;j>=mw[i];j--){//01\u80cc\u5305\u6a21\u677f   \n    //\u6bcf\u4e00\u4e2aif\u7684\u524d\u63d0\u662f\u80cc\u5305\u80fd\u4e0d\u80fd\u88c5\u4e0b\u8be5\u7269\u54c1   \n        //\u60c5\u51b51\uff1a\u53ea\u8981\u4e3b\u4ef6 \u548c\u5565\u90fd\u4e0d\u8981\u6bd4\u8f83   \n        f[j]=max(f[j],f[j-mw[i]]+mv[i]);  \n        //\u60c5\u51b52\uff1a\u4e3b\u4ef6\u548c\u9644\u4ef61 \u548c\u4e0a\u9762\u9009\u51fa\u7684\u8f83\u5927\u503c\u6bd4\u8f83   \n        if(j>=mw[i]+fw[i][1])f[j]=max(f[j],f[j-mw[i]-fw[i][1]]+mv[i]+fv[i][1]);  \n        //\u60c5\u51b53\uff1a\u4e3b\u4ef6\u548c\u9644\u4ef62 \u548c\u4e0a\u9762\u9009\u51fa\u7684\u8f83\u5927\u503c\u6bd4\u8f83   \n        if(j>=mw[i]+fw[i][2])f[j]=max(f[j],f[j-mw[i]-fw[i][2]]+mv[i]+fv[i][2]);  \n        //\u60c5\u51b54\uff1a\u90fd\u8981   \n        if(j>=mw[i]+fw[i][1]+fw[i][2])  \n        f[j]=max(f[j],f[j-mw[i]-fw[i][1]-fw[i][2]]+mv[i]+fv[i][1]+fv[i][2]);  \n    }  \n    //\u8f93\u51fa\u5728\u4ef7\u503c\u4e3an\u65f6\u80fd\u5f97\u5230\u7684\u6700\u5927\u503c   \n    cout<<f[n]<<endl;  \n    return 0;  \n}  \n```\n\n\u5e0c\u671b\u4ee5\u4e0a\u6ca1\u6709\u9519\u3002\u5e94\u8be5\u5df2\u7ecf\u8db3\u591f\u6e05\u6670\u6613\u61c2\u4e86\u3002\u6765\u81ea\u4e00\u53ea\u849f\u84bb\u5154~~\uff08\u5b66dp\u7b2c\u4e8c\u5929\u5199\u7684\uff0c\u636e\u8bf4\u591a\u53d1\u9898\u89e3\u80fd\u6a59\u540d\uff08\uff1f\uff09~~",
        "postTime": 1524225269,
        "uid": 64539,
        "name": "Erutsiom",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\n\u7406\u89e3\u4e86\u5c31\u975e\u5e38\u7b80\u5355\u4e86~~~\u4e0d\u8bf4\u591a\uff0c\u8d34\u4ee3\u7801~~~\n\n\n```cpp\n#include<iostream>\nusing namespace std;\n//\u4e00\u7ef4\u6570\u7ec4\u4e0d\u8d85\u8fc7 3000 0000\n//!!!\u806a\u660e\u628a\u6700\u591a2\u4ef6\u7269\u54c1\u7684\u91cd\u8981\u5ea6\u3001\u4ef7\u683c\u90fd\u4fdd\u5b58\u5728\u4e3b\u4ef6\u4e0a-\u8fd9\u6837\u770b\u6bcf\u4e2a\u7269\u54c1\u67093\u4e2a\n//v[4][0]-v[4][1]-v[4][2]\u8868\u793a\u7b2c4\u4ef6\u7269\u54c1\u7684\u4e3b\u4ef6\u4ef7\u683c-\u7b2c4\u4ef6\u7269\u54c1\u7b2c1\u4ef6\u9644\u4ef6\u4ef7\u683c\n//v-p\u90fd\u53d8\u6210\u4e86\u4e8c\u7ef4 [61][3] \nint n,m;//n\u662f\u603b\u7684\u94b1--\u76f8\u5f53\u4e8e\u4ee5\u524d\u7684c\uff0c \u6709m\u4ef6\u7269\u54c1---\u76f8\u5f53\u4e8en \nint v[61][3];//\u7b2ci\u4ef6\u7269\u54c1\u7684\u4ef7\u683c\uff1a\u6bcf\u4e2a\u7269\u54c1\u6700\u591a\u67092\u4e2a\u9644\u4ef6\u4e0b\u6807\u5168\u90e8\u4ece1\u5f00\u59cb\n//\u6bcf\u4ef6\u7269\u54c1\u7684\u4ef7\u683c,v[i][0]\u8868\u793a\u4e3b\u4ef6\u7f16\u53f7i\u7684\u4ef7\u683c\n//v[i][1]\u8868\u793a\u4e3b\u4ef6\u7f16\u53f7i\u7684\u9644\u4ef61\u7684\u4ef7\u683c\n//v[i][2] \u793a\u4e3b\u4ef6\u7f16\u53f7i\u7684\u9644\u4ef62\u7684\u4ef7\u683c\nint p[61][3];//\u7b2ci\u4ef6\u7269\u54c1\u4e2d\u7684\u91cd\u8981\u5ea6 \n//\u6bcf\u4ef6\u7269\u54c1\u7684\u91cd\u8981\u5ea6,p[i][0]\u8868\u793a\u4e3b\u4ef6\u7f16\u53f7i\u7684\u91cd\u8981\u5ea6\n//p[i][1]\u8868\u793a\u4e3b\u4ef6\u7f16\u53f7i\u7684\u9644\u4ef61\u7684\u91cd\u8981\u5ea6 p[i][1]\n//p[i][2] \u8868\u793a\u4e3b\u4ef6\u7f16\u53f7i\u7684\u9644\u4ef62\u7684\u91cd\u8981\u5ea6 p[i][2]\n//f[i][j]=\u524di\u4ef6\u7269\u54c1\u603b\u82b1\u8d39\u4e3aj\u7684\u9009\u62e9\u7269\u54c1\u7684\u603b\u548c\u4ef7\u503c\u6700\u5927\n/*f[i][j]=max{\nf[i-1][j];//1\u3001\u4e0d\u80cc\u7b2ci\u4ef6\u7269\u54c1\nf[i-1][j-v[i][0]]+p[i][0]*v[i][0];     //2\u3001\u53ea\u80cc\u4e3b\u4ef6 \nf[i-1][j-v[i][0]-v[i][1]]+p[i][0]*v[i][0]+p[i][1]*v[i][1] //3\u3001\u80cc\u4e3b\u4ef6\u53ea\u8981\u9644\u4ef61 \nf[i-1][j-v[i][0]-v[i][2]]+p[i][0]*v[i][0]+p[i][2]*v[i][2]//4\u3001\u80cc\u4e3b\u4ef6\u53ea\u8981\u9644\u4ef62 \n```\nf[i-1][j-v[i][0]-v[i][1]-v[i][2]]+p[i][0]\\*v[i][0]+p[i][2]\\*v[i][2]\n+p[i][1]\\*v[i][1];//5\u3001\u80cc\u4e3b\u4ef6\u52a0\u4e24\u4e2a\u9644\u4ef6 \n\n}\n1000  5\n\n800 2 0\n\n400 5 1\n\n300 5 1\n\n400 3 0\n\n500 2 0\n\n\n\\*/\nint f[61\\*3][32000];//f[i][j]\u524di\u4ef6\u7269\u54c1\u603b\u94b1\u4e3aj\u7684\u4ef7\u503c\u548c\u6700\u5927:61\\*3\u4e2a\u9644\u4ef6\n\n```cpp\nvoid read()\n{ int i,j,a,b,c,num=0;//num\u8ba1\u4e3b\u4ef6\u7684\u4e2a\u6570 \nint map[61]={0};\ncin>>n>>m;//\u8bfb\u5165\u603b\u94b1\u6570\u548cm\u4ef6\u7269\u54c1\nn=n/10;//\u6bcf\u4ef6\u7269\u54c1\u90fd\u662f10\u7684\u6574\u6570\u500d\uff0c\u53ef\u4ee5\u4f18\u5316\u7a0b\u5e8f\nfor(i=1;i<=m;i++)\n{ cin>>a>>b>>c;//\u5148\u7528\u53d8\u91cf\u4fdd\u5b58--\u5224\u65ad\u597d\u662f\u4e3b\u8fd8\u662f\u9644\u8fd1\u518d\u8d4b\u503c\n if(c==0) //\u5148\u586b\u4e3b\u4ef6\uff0cc\u624d\u662f\u4e3b\u4ef6\n  { num++;//\uff01\uff01\u8ba1\u4e00\u5171\u6709\u591a\u5c11\u4e2a\u4e3b\u4ef6\uff0c\u9644\u4ef6\u90fd\u8bb0\u5728\u4e3b\u4ef6\u7b2c\u4e8c\u7ef4\u4e0b\u6807[1][2] \n   v[num][0]=a/10;\n   p[num][0]=b;//i=4\uff0c\u662f\u7b2c4\u4ef6\u5176\u5b9e\u4e0d\u662f\u7684-\u56e0\u4e3a\u524d\u9762\u7684\u6709\u53ef\u80fd\u662f\u9644\u4ef6\uff0c\u800c\u9644\u4ef6\u4e0d\u8bb0\u6570 \n   map[i]=num;//\u8bb0\u4e0b\u7b2ci\u4e2a\u7269\u54c1\u7684\u4e3b\u4ef6\u5e8f\u53f7 \n   continue;\n  }\n//c\u662f\u7269\u54c1\u7684\u5e8f\u53f7\u662fi\uff0c\u4e0d\u662fnum\uff0c\u800c\u672c\u9898\u6240\u6709\u7684\u9644\u4ef6\u8981\u653e\u5728num\u4e3b\u4ef6\u4e0a \nc=map[c];//i=2,c=1\u65f6 c=map[1]=1, i=3\u65f6\uff0cc=1 ,c=map[1]=1\n//i=4,map[4]=2,i=5,map[5]=3\nif(v[c][1]==0)//\u5982\u679c\u7b2cc\u4ef6\u7269\u54c1\u7684\u7b2c1\u4e2a\u9644\u4ef6\u8fd8\u6ca1\u6709\n        { v[c][1]=a/10; p[c][1]=b;\n         continue;\n        } \n    else { v[c][2]=a/10;p[c][2]=b;\n         }    \n```\n}//\u586b\u597d v,p\u4e24\u4e2a\u6570\u7ec4\n```cpp\n//\u7528\u80cc\u5305;--\u4e3b\u4ef6\u548c\u9644\u4ef6\u6700\u591a\u53ea\u88ab1\u6b21- \nfor(i=1;i<=num;i++)//\u7a77\u4e3e\u6240\u6709\u7684\u4e3b\u4ef6\u7269\u54c1:\n{\nfor(j=n;j>=0;j--)    //j\u662f\u603b\u91cd\u91cf\u603b\u4ef7\u683cn\uff1a\uff01\uff01\u8fd9\u662f\u4fee\u6539j>=0\u56e0\u4e3aj<v[i][0]\u4e5f\u8981\u7b97 \n{ //\u60c5\u51b51\uff1a\u4e0d\u9009\u4e3b\u4ef6    :\u8fd9\u91cc\u628aj<v[i][0]\u7684\u60c5\u51b5\u4e5f\u8981\u8ba1\u7b97\u5427\n f[i][j]=f[i-1][j];//\u8fd9\u65f6\u5019f[i][j]=f[i-1][j]\u8fd9\u4e2a\u8981\u6267\u884c.\n //\u60c5\u51b52\uff1a\u53ea\u9009\u4e3b\u4ef6\n //\u80cc\u5f97\u52a8\n if(j>=v[i][0])    //\u91cd\u8981\u5ea6*\u4ef7\u683c \n   f[i][j]=max(f[i][j],f[i-1][j-v[i][0]]+p[i][0]*v[i][0]);\n//\u60c5\u51b53\uff1a\u9009\u4e3b\u4ef6\u548c\u9644\u4ef61\nif(j>=v[i][0]+v[i][1])\n  f[i][j]=max(f[i][j],f[i-1][j-v[i][0]-v[i][1]]+p[i][0]*v[i][0]+p[i][1]*v[i][1]);\n //\u60c5\u51b54\uff1a\u9009\u4e3b\u4ef6\u548c\u9644\u4ef62 \nif(j>=v[i][0]+v[i][2])\nf[i][j]=max(f[i][j],f[i-1][j-v[i][0]-v[i][2]]+p[i][0]*v[i][0]+p[i][2]*v[i][2]);\n//\u60c5\u51b55\uff1a\u4e3b\u4ef6+2\u4e2a\u9644\u4ef6\nif(j>=v[i][0]+v[i][1]+v[i][2])\nf[i][j]=max(f[i][j],f[i-1][j-v[i][0]-v[i][1]-v[i][2]]+p[i][0]*v[i][0]+\np[i][1]*v[i][1]+p[i][2]*v[i][2]);  // if(a[i]>x) x=a[i]  x=max(x,a[i]);\n} //end for j\n}//end for i\ncout<<f[num][n]*10;        \n}\nint main()\n{read();\nreturn 0;\n}\n```",
        "postTime": 1510222683,
        "uid": 54285,
        "name": "\u72ec\u6d3b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "###DP\u80cc\u5305\u95ee\u9898###\n\n**\u601d\u8def\uff1a**\u5206\u7ec4\u80cc\u5305\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u7528\u5206\u7ec4\u80cc\u5305\u6765\u89e3\uff0c\u4f46\u662f\u56e0\u4e3a\u6709\u4f9d\u8d56\u6027(\u53ea\u6709\u9009\u4e86\u4e3b\u4ef6\u624d\u80fd\u9009\u62e9\u5b83\u7684\u9644\u4ef6)\uff0c\u6240\u4ee5\u53ef\u4ee5\u8f6c\u6362\u4e3a\u6709\u4f9d\u8d56\u7684\u80cc\u5305\u6765\u505a(\u4e0d\u4f1a\u7684\u53bb\u770b\u80cc\u5305\u4e5d\u8bb2)\u3002\u6211\u4eec\u8bbef[i]\u8868\u793ai\u7684\u94b1\u5185\u80fd\u5f97\u5230\u7684\u6700\u5927\u4ef7\u503c;g[j]\u8868\u793a\u5728\u9009\u4e86\u67d0\u4e2a\u4e3b\u4ef6\u4e0b\uff0cj\u7684\u94b1\u5185\u5f97\u5230\u7684\u6700\u5927\u4ef7\u503c(\u53ef\u4ee5\u7406\u89e3\u4e3a\u5c06\u6bcf\u4e2a\u4e3b\u4ef6\u53ca\u5176\u9644\u4ef6\u4e5f\u8fdb\u884c01\u80cc\u5305\u7684DP)\u3002\u5219\u4e0d\u96be\u5f97\u5230\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a**g[i]=max(g[i],g[i-a[j].price]+a[j].value) (\u5176\u4e2dj\u4e3ai\u7684\u9644\u4ef6)\uff0cf[i]=max(f[i],g[i]) (\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3:\u5982\u679cf[i]=f[i],\u8868\u793a\u4e0d\u9009i\u4e3b\u4ef6\u53ca\u5176\u9644\u4ef6,\u82e5f[i]=g[i],\u5219\u8868\u793a\u9009\u4e86i\u4e3b\u4ef6\u53ca\u5176\u9644\u4ef6)**\n\n\u4ed4\u7ec6\u601d\u8003\uff0c\u5e94\u8be5\u5f88\u5bb9\u6613\u7406\u89e3\u7684\u3002\n\n\u6b22\u8fce\u6765\u8e29\u535a\u5ba2\uff1a[five20](http://www.cnblogs.com/five20/p/7806278.html)\n",
        "postTime": 1510148030,
        "uid": 44000,
        "name": "\u6d45\u8272\u8c03",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "# \u6811\u5f62\u80cc\u5305\u597d\u9898\n\n\u8fd9\u9053\u9898\u5f88\u4e0d\u9519\uff0c~~\u65e2\u53ef\u4ee5\u56db\u79cd\u60c5\u51b5\u63a801\u80cc\u5305\u7684\u65b9\u7a0b\uff0c\u4e5f~~\u53ef\u4ee5\u7528\u6811\u5f62\u80cc\u5305~~\u5bfb\u627e\u53cc\u500d\u7ecf\u9a8c~~\u6c42\u89e3\u3002\n\n\u7136\u800c\u2014\u2014\n\n\u6211\u8fd8\u662fWA\u4e862\u6b21qwq\n\n~~\u5efa\u8baeAFO~~\n\n\u5c0f\u7ec6\u8282\u5982\u4e0b\uff1a\n\n**1. \u6700\u540e\u7edf\u8ba1\u7b54\u6848\u65f6\u5e94\u8be5\u4ece0\u5230n\u800c\u4e0d\u662fn-1\uff0c\u56e0\u4e3a\u53ef\u4ee5\u521a\u597d\u628a\u94b1\u82b1\u5b8c\u3002**\n\n**2. \u6570\u7ec4\u8981\u5f00\u591fqwq**\n\n\u5269\u4e0b\u7684\u5c31\u53ef\u4ee5\u76f4\u63a5\u770b\u4ee3\u7801\u5566\u2014\u2014\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nint N,m,w[200],c[200],x,dp[200][40000];//\u6570\u7ec4\u5927\u5c0fqwq\nint head[200],k=1;//\u94fe\u5f0f\u524d\u5411\u661f\u52a0\u8fb9\u7528\nstruct edge\n{\n\tint to,next;\n}e[200];//\u6811\u7684\u8fb9\n\nvoid adde(int u,int v)//\u94fe\u5f0f\u524d\u5411\u661f\u52a0\u8fb9\n{\n\te[k].to=v;\n\te[k].next=head[u];\n\thead[u]=k++;\n}\n\nvoid dfs(int u,int t,int fa)\n//u\u662f\u5f53\u524d\u8282\u70b9\uff0ct\u662f\u5f53\u524d\u5bb9\u91cf\uff0cfa\u662f\u7236\u4eb2\u8282\u70b9\n{\n\tif(t<=0)return;//\u88c5\u4e0d\u4e0b\u4e86\n\tfor(int i=head[u];i;i=e[i].next)//\u8bbf\u95ee\u4e0e\u8be5\u70b9\u76f8\u8fde\u7684\u6bcf\u4e00\u6761\u8fb9\n\t{\n\t\tint v=e[i].to;\n\t\tif(v==fa)continue;//\u5982\u679c\u662f\u7236\u8282\u70b9\u5219\u8df3\u8fc7\n\t\tfor(int k=N-w[v];k>=0;k--)\n\t\t\tdp[v][k]=dp[u][k]+c[v];//\u8981\u9009\u5b50\u6811\uff0c\u5c31\u5fc5\u987b\u9009\u8be5\u8282\u70b9\n\t\tdfs(v,t-w[v],u);//\u7ee7\u7eed\u9012\u5f52\n\t\tfor(int k=N;k>=w[v];k--)\n\t\t\tdp[u][k]=max(dp[u][k],dp[v][k-w[v]]);//\u9009\u6216\u4e0d\u9009\uff08\u8fd9\u662f01\u80cc\u5305\uff09\n\t}\n}\n\nint main()\n{\n\tscanf(\"%d%d\",&N,&m);\n\tfor(register int i=1;i<=m;i++)\n\t{\n\t\tscanf(\"%d%d%d\",&w[i],&c[i],&x);\n\t\tc[i]*=w[i];//\u8bfb\u5165\n\t\tadde(i,x);adde(x,i);//\u8fde\u53cc\u5411\u8fb9\n\t}\n\tdfs(0,N,-1);//0\u4e3a\u865a\u62df\u6839\u8282\u70b9\uff0c\u6df1\u641c\u8dd1dp\n\tint ans=0;\n\tfor(register int i=0;i<=N;i++)//\u8fd9\u91cc\u4e00\u5b9a\u8981\u5199<=\uff0c\u56e0\u4e3a\u53ef\u4ee5\u521a\u597d\u628a\u94b1\u82b1\u5b8c\n\t\tans=max(ans,dp[0][i]);//\u7edf\u8ba1\u7b54\u6848\n\tprintf(\"%d\\n\",ans);//\u8f93\u51fa\n\treturn 0;//\u7ed3\u675f\u4e86\u7f6a\u6076\u7684\u4e00\u751f\n}\n```\n\u8d44\u74f7\u4e00\u4e0b\u53edqwq",
        "postTime": 1576901610,
        "uid": 65502,
        "name": "Crab_Dave",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "##  P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011\u9898\u89e3\n### \u6b64\u5904\u4ecb\u7ecd\u4e24\u79cd\u65b9\u6cd5\uff1a\n### \uff08\u4e00\uff09\u5206\u7ec4\u80cc\u5305\n- \u5c06\u9009\u4e3b\u4ef6\u3001\u4e3b\u4ef6+\u9644\u4ef61\u3001\u4e3b\u4ef6+\u9644\u4ef62\u3001\u4e3b\u4ef6+\u9644\u4ef61+\u9644\u4ef62\u3001\u4e0d\u90095\u4e2a\u72b6\u6001\u5206\u4e3a\u4e00\u7ec4\uff0c\u8fd9\u4e94\u4e2a\u72b6\u6001\u4e2d\u53ea\u80fd\u9009\u4e00\u4e2a\uff08\u60f3\u4e00\u60f3\uff0c\u4e3a\u4ec0\u4e48\uff09\u3002         \n- \u8fd9\u6837\uff0c\u5c31\u6784\u6210\u4e86\u4e00\u4e2a**\u5206\u7ec4\u80cc\u5305**\u6a21\u578b\u3002\n\n- **\u5206\u7ec4\u80cc\u5305**\u4f2a\u4ee3\u7801\u957f\u8fd9\u6837\uff1a\n\n\n\n```\nfor \u6240\u6709\u7684\u7ec4k\n\tfor v=V..0\n    \tfor \u6240\u6709\u7684i\u5c5e\u4e8e\u7ec4k\n\u3000\u3000\u3000\u3000\u3000\u3000f[v]=max{f[v],f[v-w[i]]+c[i]}\n```\n\n\n- \u6545\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct node\n{\n    int v;\n    int w;\n};\nstruct node2\n{\n    int vv,pp,qq,num;\n}y[65];\nvector<node>h[100];\nint dp[32005];\nbool cmp(node2 a,node2 b)\n{\n    return a.qq<b.qq;\n}\nint main()\n{\n    int n,m,i,j,k;\n    int cnt=0;\n    scanf(\"%d%d\",&n,&m);\n    for(i=1;i<=m;i++) \n    {\n        scanf(\"%d%d%d\",&y[i].vv,&y[i].pp,&y[i].qq);\n        y[i].num=i;\n    }\n    sort(y+1,y+m+1,cmp);\n    for(i=1;i<=m;i++)\n    {\n        node x;\n        if(y[i].qq==0) \n        {\n        \tx.v=y[i].vv;\n        \tx.w=y[i].vv*y[i].pp;\n        \th[y[i].num].push_back(x);\n        }\n        else\n        {\n            int s=h[y[i].qq].size();\n            for(j=0;j<s;j++)\n            {\n                x.v=y[i].vv+h[y[i].qq][j].v;\n                x.w=y[i].vv*y[i].pp+h[y[i].qq][j].w;\n                h[y[i].qq].push_back(x);\n            }\n        }\n    }\n    for(i=1;i<=m;i++)\n    {\n        if(h[i].size()==0) continue;\n        for(j=n;j>=0;j--)\n        {\n            for(k=0;k<h[i].size();k++)\n            {\n                if(h[i][k].v<=j) dp[j]=max(dp[j],dp[j-h[i][k].v]+h[i][k].w);\n            }\n        }\n    }\n    printf(\"%d\\n\",dp[n]);\n    return 0;\n}\n```\n\n\n              \n\n### \uff08\u4e8c\uff09\u4f9d\u8d56\u80cc\u5305\n- \u5206\u7ec4\u80cc\u5305\u867d\u7136\u80fd\u8fc7\uff0c\u53ef\u60dc\u4e0d\u662f\u6b63\u89e3\n\n- \u4e3a\u4ec0\u4e48\u5462\uff1f\u56e0\u4e3a\u76ee\u524d\u6bcf\u4e2a\u4e3b\u4ef6\u4ec5\u67091-2\u4e2a\u9644\u4ef6\uff0c\u72b6\u6001\u8f83\u5c11\uff1b\u6709\u591a\u4e2a\u9644\u4ef6\u65f6\uff0c\u72b6\u6001\u4f1a\u5448\u6307\u6570\u7ea7\u589e\u957f\uff0c\u590d\u6742\u5ea6\u8f83\u9ad8\n\n- \u6b64\u65f6\u4fbf\u8f6e\u5230**\u4f9d\u8d56\u80cc\u5305**\u95ea\u4eae\u767b\u573a\n\n- \u6240\u8c13\u201c\u4f9d\u8d56\u80cc\u5305\u201d\u5373\u6307\u80cc\u5305\u7269\u4ef6\u6709\u4e3b\u9644\u4ef6\uff0c\u4e0d\u8fc7\u8fd9\u91cc\u7684\u4e3b\u9644\u4ef6\u662f\u4ece\u5c5e\u5173\u7cfb\uff0c\u5373\u9009\u62e9\u4e3b\u4ef6\uff0c\u5fc5\u987b\u8981\u9009\u62e9\u9644\u4ef6\n\n- \u90a3\u5982\u4f55\u89e3\u51b3\u8fd9\u7c7b\u95ee\u9898\u5462\uff1f\n\n- \u6211\u4eec\u53ef\u4ee5\u5bf9\u4e3b\u4ef6i\u7684\u201c\u9644\u4ef6\u96c6\u5408\u201d\u5148\u8fdb\u884c\u4e00\u6b2101\u80cc\u5305\uff0c\u5f97\u5230\u8d39\u7528\u4f9d\u6b21\u4e3a0..V-c[i]\u3002\u6240\u6709\u8fd9\u4e9b\u503c\u65f6\u76f8\u5e94\u7684\u6700\u5927\u4ef7\u503cf'[0..V-c[i]]\u3002\n- \u90a3\u4e48\u8fd9\u4e2a\u4e3b\u4ef6\u53ca\u5b83\u7684\u9644\u4ef6\u96c6\u5408\u76f8\u5f53\u4e8eV-c[i]+1\u4e2a\u7269\u54c1\u7684\u7269\u54c1\u7ec4\uff0c\u5176\u4e2d\u8d39\u7528\u4e3ac[i]+k\u7684\u7269\u54c1\u7684\u4ef7\u503c\u4e3af'[k]+w[i]\u3002\u4e5f\u5c31\u662f\u8bf4\u539f\u6765\u6307\u6570\u7ea7\u7684\u7b56\u7565\u4e2d\u6709\u5f88\u591a\u7b56\u7565\u90fd\u662f\u5197\u4f59\u7684\uff0c\u901a\u8fc7\u4e00\u6b2101\u80cc\u5305\u540e\uff0c\u5c06\u4e3b\u4ef6i\u8f6c\u5316\u4e3aV-c[i]+1\u4e2a\u7269\u54c1\u7684\u7269\u54c1\u7ec4\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u89e3\u51b3\u95ee\u9898\u4e86\u3002\n\n- \u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct node\n{\n\tint v;\n\tint w;\n};\nvector<node>h[65];\nint dp[32005],a[32005];\nint main()\n{\n\tint n,m,i,j,k;\n\tint v,p,q;\n\tnode x;\n\tscanf(\"%d%d\",&n,&m);\n\tmemset(dp,0,sizeof(dp));\n\tfor(i=1;i<=m;i++)\n\t{\n\t    scanf(\"%d%d%d\",&v,&p,&q);\n\t    x.v=v;\n\t    x.w=v*p;\n\t    if(q==0) h[i].push_back(x);\n\t    else h[q].push_back(x);\n\t}\n\tfor(i=1;i<=m;i++)\n\t{\n\t    if(h[i].size()==0) continue;\n\t    int vv=h[i][0].v;\n\t    int num=h[i].size()-1;\n\t    for(j=0;j<=n-vv;j++)\n\t    {\n\t        a[j+vv]=dp[j]+h[i][0].w;\n\t    }\n\t    for(j=1;j<=num;j++)\n\t    {\n\t        for(k=n;k>=vv+h[i][j].v;k--)\n\t        {\n\t            a[k]=max(a[k],a[k-h[i][j].v]+h[i][j].w);\n\t        }\n\t    }\n\t    for(j=vv;j<=n;j++)\n\t    {\n\t        dp[j]=max(dp[j],a[j]);\n\t    }\n\t}\n\tprintf(\"%d\\n\",dp[n]);\n\treturn 0;\n}\n```\n\n\n\n\n",
        "postTime": 1555748260,
        "uid": 110973,
        "name": "\u5f69\u8679\u732b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "### \u66f4\u65b0\uff0c\u52a0\u5165\u4fbf\u4e8e\u9605\u8bfb\u7684\u7248\u672c\uff0c\u589e\u52a0\u53ef\u8bfb\u6027\n\n~~\u8bdd\u8bf4\u8bf4\u8fd9\u4e2a\u4ee3\u7801\u4e0d\u597d\u7406\u89e3\u7684\uff0c\u4f60\u4eec\u6015\u662f\u6ca1\u89c1\u8fc7rqy\u548czyb\u7684\u4ee3\u7801\u538b\u884c\u6bd4\u8d5b~~\n\n------\n\n\u597d\u4e45\u6ca1\u505a\u80cc\u5305\u7684\u9898\u4e86\uff0c\u6709\u70b9\u751f\uff0c\u56de\u53bb\u5237\u51e0\u9053\u6c34\u9898\u627e\u627e\u611f\u89c9\uff0c\u53c8\u9047\u5230\u4e86\u8fd9\u9053\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\n\n\u601d\u8def\u5f88\u7b80\u5355\uff0c\u914d\u4ef6\u4e0d\u5355\u72ec\u62ff\u51fa\u6765\uff0c\u6211\u4eec\u53ea\u5904\u7406\u4e3b\u4ef6\uff0c\u914d\u4ef6\u7ed1\u5b9a\u4e3b\u4ef6\u5904\u7406\u3002\n\n\u90a3\u4e48\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4e3b\u4ef6$i$\u548c\u5b83\u7684\u4e24\u4e2a\u914d\u4ef6$j\uff0ck$\uff0c\u4e00\u5171\u6709\u4e94\u79cd\u60c5\u51b5\uff0c\u5206\u522b\u662f\uff1a\n\n1.\u4e00\u4e2a\u4e5f\u4e0d\u9009\n\n2.\u53ea\u9009\u62e9\u4e3b\u4ef6$i$\n\n3.\u9009\u62e9\u4e3b\u4ef6$i$\u548c\u9644\u4ef6$j$\n\n4.\u9009\u62e9\u4e3b\u4ef6$i$\u548c\u9644\u4ef6$k$\n\n5.\u9009\u62e9\u4e3b\u4ef6$i$\u4ee5\u53ca\u9644\u4ef6$j\uff0ck$\n\n\u90a3\u4e48\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e5f\u5c31\u51fa\u6765\u4e86\uff0c\u6211\u4eec\u7528w\u6570\u7ec4\u8868\u793a\u4ef7\u503c\uff0cv\u6570\u7ec4\u8868\u793a\u4f53\u79ef,\u7528$m$\u8868\u793a\u80cc\u5305\u5f53\u524d\u5bb9\u79ef\uff0c\u4e5f\u5c31\u662f\n\n## $f[m]=max(f[m],f[m-v[i]]+w[i],f[m-v[i]-v[j]]+w[i]+w[j],f[m-v[i]-v[k]]+w[i]+w[k],f[m-v[i]-v[j]-v[k]]+w[i]+w[j]+w[k])$\n\n\u8981\u6ce8\u610f\u7684\u662f\uff0c\u672c\u9898\u6709\u4e24\u4e2a\u53ef\u4ee5\u4f18\u5316\u7684\u70b9\uff0c\u4e00\u662f\u6bcf\u4ef6\u7269\u54c1\u7684\u4ef7\u683c\u90fd\u662f\u6574\u5341\uff0c\u90a3\u4e48\u5982\u679cm\u975e\u6574\u5341\uff0c\u90a3\u4e48\u5b83\u975e\u6574\u5341\u7684\u90e8\u5206\u4e5f\u65e0\u6cd5\u5229\u7528\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u628a\u6bcf\u4ef6\u7269\u54c1\u7684\u4f53\u79ef\u8fd8\u6709\u80cc\u5305\u603b\u5bb9\u79ef\u90fd\u9664\u4ee5$10$\uff0c\u8f93\u51fa\u7684\u65f6\u5019\u518d\u4e58\u5341\u5373\u53ef\u3002\u7b2c\u4e8c\u4e2a\u70b9\u5c31\u662f\u91cd\u8981\u5ea6\u5728\u8f93\u5165\u7684\u65f6\u5019\u76f4\u63a5\u4e58\u5230\u4ef7\u503c\u4e0a\u5373\u53ef\n\n\u5e94\u5927\u5bb6\u7684\u8981\u6c42\uff0c\u5148\u653e\u4e00\u4e2a\u628a\u65b9\u7a0b\u62c6\u5f00\u4e86\u7684\u7248\u672c\uff0c\u4fbf\u4e8e\u7406\u89e3\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<cctype>\n#define ll long long\n#define gc() getchar()\n#define maxn 65\n#define maxm 20005\nusing namespace std;\n\ninline ll read(){    //\u65e5\u5e38\u8bfb\u5165\u4f18\u5316\uff0c\u5bf9\u8fd9\u9053\u9898\u6beb\u65e0\u5375\u7528\n\tll a=0;int f=0;char p=gc();\n\twhile(!isdigit(p)){f|=p=='-';p=gc();}\n\twhile(isdigit(p)){a=(a<<3)+(a<<1)+(p^48);p=gc();}\n\treturn f?-a:a;\n}\nvoid write(ll a){\n\tif(a>9)write(a/10);\n\tputchar(a%10+'0');\n}\n\nint n,m,v[maxn],w[maxn],f[maxm],c[maxn][maxn];  //c[i][0]\u8868\u793a\u4e3b\u4ef6\u4e3ai\u7684\u7269\u54c1\u7684\u6570\u91cf\uff0c\u90a3\u4e48c[0][0]\u5c31\u8868\u793a\u4e3b\u4ef6\u7684\u6570\u91cf\uff0cc[i][j]\u8868\u793a\u4e3b\u4ef6\u4e3ai\u7684\u7b2cj\u4e2a\u7269\u54c1\u7684\u6807\u53f7\uff0c\u8fd9\u6837\u5199\u672c\u610f\u662f\u5904\u7406\u65e0\u7a77\u4e2a\u914d\u4ef6\uff0c\u7ed3\u679c\u53d1\u73b0\u914d\u4ef6\u81f3\u591a\u6709\u4e24\u4e2a\uff0c\u61d2\u5f97\u6539\u4e86\nint main(){\n\tm=read()/10;n=read();\n\tfor(int i=1;i<=n;++i){\n\t\tv[i]=read()/10;w[i]=read()*v[i];\n\t\tint q=read();c[q][++c[q][0]]=i;\n\t}\n\tfor(int i=1;i<=c[0][0];++i)\n\t\tfor(int k=m;k>=v[i];--k){\n\t\t\tint v2=(k-v[c[0][i]])>=0?f[k-v[c[0][i]]]+w[c[0][i]]:0;    //\u53ef\u9009\u5219\u5b58\u4e3a\u53ef\u5b58\u5165\u7684\uff0c\u4e0d\u53ef\u9009\u5219\u4e3a0\uff0c\u4ee5\u4e0b\u540c\u6b64\uff0cv2,v3,v4,v5\u5206\u522b\u4ee3\u8868\u7684\u662f\u524d\u9762\u8bb2\u7684\u7b2c\u4e8c\u7b2c\u4e09\u7b2c\u56db\u7b2c\u4e94\u79cd\u60c5\u51b5\n\t\t\tint v3=(k-v[c[0][i]]-v[c[c[0][i]][1]])>=0?f[k-v[c[0][i]]-v[c[c[0][i]][1]]]+w[c[0][i]]+w[c[c[0][i]][1]]:0;    \n\t\t\tint v4=(k-v[c[0][i]]-v[c[c[0][i]][2]])>=0?f[k-v[c[0][i]]-v[c[c[0][i]][2]]]+w[c[0][i]]+w[c[c[0][i]][2]]:0;\n\t\t\tint v5=(k-v[c[0][i]]-v[c[c[0][i]][1]]-v[c[c[0][i]][2]])>=0?f[k-v[c[0][i]]-v[c[c[0][i]][1]]-v[c[c[0][i]][2]]]+w[c[0][i]]+w[c[c[0][i]][1]]+w[c[c[0][i]][2]]:0;\n\t\t\tf[k]=max(f[k],max(max(v2,v3),max(v4,v5)));  //\u7b80\u5316\u540e\u5e94\u8be5\u5c31\u6bd4\u8f83\u5bb9\u6613\u770b\u61c2\u4e86\n\t\t}\n\twrite(f[m]*10);\n\treturn 0;\n}\n```\n\n\n\n## \u539f\u6765\u7684\u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<cctype>\n#define ll long long\n#define gc() getchar()\n#define maxn 65\n#define maxm 20005\nusing namespace std;\n\ninline ll read(){    //\u65e5\u5e38\u8bfb\u5165\u4f18\u5316\uff0c\u5bf9\u8fd9\u9053\u9898\u6beb\u65e0\u5375\u7528\n\tll a=0;int f=0;char p=gc();\n\twhile(!isdigit(p)){f|=p=='-';p=gc();}\n\twhile(isdigit(p)){a=(a<<3)+(a<<1)+(p^48);p=gc();}\n\treturn f?-a:a;\n}\nvoid write(ll a){\n\tif(a>9)write(a/10);\n\tputchar(a%10+'0');\n}\n\nint n,m,v[maxn],w[maxn],f[maxm],c[maxn][maxn];  //c[i][0]\u8868\u793a\u4e3b\u4ef6\u4e3ai\u7684\u7269\u54c1\u7684\u6570\u91cf\uff0c\u90a3\u4e48c[0][0]\u5c31\u8868\u793a\u4e3b\u4ef6\u7684\u6570\u91cf\uff0cc[i][j]\u8868\u793a\u4e3b\u4ef6\u4e3ai\u7684\u7b2cj\u4e2a\u7269\u54c1\u7684\u6807\u53f7\uff0c\u8fd9\u6837\u5199\u672c\u610f\u662f\u5904\u7406\u65e0\u7a77\u4e2a\u914d\u4ef6\uff0c\u7ed3\u679c\u53d1\u73b0\u914d\u4ef6\u81f3\u591a\u6709\u4e24\u4e2a\uff0c\u61d2\u5f97\u6539\u4e86\nint main(){\n\tm=read()/10;n=read();\n\tfor(int i=1;i<=n;++i){\n\t\tv[i]=read()/10;w[i]=read()*v[i];\n\t\tint q=read();c[q][++c[q][0]]=i;\n\t}\n\tfor(int i=1;i<=c[0][0];++i)\n\t\tfor(int k=m;k>=v[i];--k)\n\t\t\tf[k]=max(f[k],max(max((k-v[c[0][i]])>=0?f[k-v[c[0][i]]]+w[c[0][i]]:0,(k-v[c[0][i]]-v[c[c[0][i]][1]])>=0?f[k-v[c[0][i]]-v[c[c[0][i]][1]]]+w[c[0][i]]+w[c[c[0][i]][1]]:0),max((k-v[c[0][i]]-v[c[c[0][i]][2]])>=0?f[k-v[c[0][i]]-v[c[c[0][i]][2]]]+w[c[0][i]]+w[c[c[0][i]][2]]:0,(k-v[c[0][i]]-v[c[c[0][i]][1]]-v[c[c[0][i]][2]])>=0?f[k-v[c[0][i]]-v[c[c[0][i]][1]]-v[c[c[0][i]][2]]]+w[c[0][i]]+w[c[c[0][i]][1]]+w[c[c[0][i]][2]]:0)));  //\u8868\u9762\u4e0a\u8fd9\u4e2a\u5730\u65b9\u5f88\u590d\u6742\uff0c\u5b9e\u9645\u4e0a\u539f\u7406\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u4e0a\u9762\u6211\u4eec\u6240\u8bf4\u76845\u79cd\u60c5\u51b5\n\twrite(f[m]*10);\n\treturn 0;\n}\n```",
        "postTime": 1531135455,
        "uid": 34530,
        "name": "\u5b50\u8c26\u3002",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u653e\u4e86\u597d\u957f\u65f6\u95f4\uff0c\u770b\u9898\u89e3\u597d\u591a\u90fd\u662f\u8f6c\u5316\u4e3a01\u80cc\u5305\u6765\u505a\uff0c\u4f46\u662f\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u8c8c\u4f3c\u975e\u5e38\u9ebb\u70e6\u6211\u65e0\u6cd5\u7406\u89e3\uff08\u61d2\u5f97\u5f04\u61c2\uff09\u3002\u6811\u5f62\u80cc\u5305\u7684\u9898\u89e3\u4e5f\u6ca1\u6709\u8ba9\u6211\u611f\u5230\u5f88\u8212\u670d\u7684\uff0c\u5728\u5b66\u4e60\u6811\u5f62\u80cc\u5305\u6253[\u9009\u8bfe](https://www.luogu.org/problemnew/show/P2014)\u4e00\u9898\u7684\u65f6\u5019\uff0c\u7a81\u53d1\u5947\u60f3\u53ef\u4ee5\u8f6c\u6362\u4e00\u4e0b\u601d\u8def\u6765A\u6389\u8fd9\u4e2a\u9898\uff0c\u63a5\u4e0b\u6765\u8fdb\u5165\u6b63\u9898\u3002\n\n\u6709\u4f9d\u8d56\u80cc\u5305\u9644\u4ef6\u4f9d\u8d56\u4e3b\u4ef6\u53ef\u4ee5\u770b\u6210\u4e3b\u4ef6\u5411\u9644\u4ef6\u8fde\u4e86\u4e00\u6761\u6709\u5411\u8fb9\uff0c\u7531\u4e8e\u4e3b\u4ef6\u4e4b\u95f4\u662f\u6ca1\u6709\u7ec3\u4e60\u7684\uff0c\u6211\u4eec\u5c31\u8bbe\u4e00\u4e2a\u865a\u70b9\u5c06\u4e3b\u4ef6\u8fde\u8d77\u6765\uff0c\u8fd9\u6837\u5c31\u6784\u6210\u4e86\u4e00\u68f5\u4ee5\u865a\u70b9\u4e3a\u6839\u7684\u6811\uff0c\u7136\u540e\u5728\u6811\u7684\u6bcf\u4e00\u6761\u94fe\u4e0a\u505a\u7c7b\u4f3c01\u80cc\u5305\u7684\u64cd\u4f5c\u3002\n\n\u6211\u4eec\u8bbef[u][t]\u4e3a\u9009u\u8fd9\u4e2a\u7269\u4ef6\uff08\u7236\u8282\u70b9\uff09\u5927\u5c0f\u4e3at\u7684\u80cc\u5305\u6240\u83b7\u5f97\u7684\u6700\u5927\u4ef7\u503c\uff0cv\u4e3au\u7684\u9644\u4ef6\uff08\u5b50\u8282\u70b9\uff09\uff0c\u5982\u679c\u80fd\u88c5\u4e0bv\uff0c\u90a3\u4e48\u5c31\u66f4\u65b0\u6700\u4f18\u503c\u3002\u53e6\u5916\uff0c\u5f53u\u4e0d\u4e3a0\u65f6\uff0c\u8dd1\u4e00\u6b21\u5c06u\u88c5\u4e0b\u53bb\u7684\u60c5\u51b5\uff0c\u8fd9\u6837f[0][m]\uff08m\u662f\u80cc\u5305\u5927\u5c0f\uff0c0\u4e3a\u865a\u70b9\uff0c\u5373\u6839\uff0c\u5982\u679c\u5728\u67d0\u4e9b\u95ee\u9898\u4e2d0\u5df2\u7ecf\u6709\u610f\u4e49\u4e86\uff0c\u53ef\u4ee5\u6362\u6210\u5176\u5b83\u503c\u5f53\u4f5c\u6839\uff0c\u90a3\u65f6\u6700\u4f18\u89e3\u4e3af[root][m]\uff09\u4fbf\u662f\u6700\u7ec8\u7684\u89e3\u4e86\u3002\n\n\u4f46\u662f\u5355\u5355\u505a\u4e0a\u9762\u7684\u4e0d\u80fd\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53d1\u73b0m\u53ef\u4ee5\u975e\u5e38\u5927\uff0c\u5728\u6811\u4e0a\u8dd101\u80cc\u5305\u8017\u65f6\u5f88\u591a\uff0c\u5c06\u6bcf\u4e2a\u4f53\u79ef\u548cm\u90fd\u9664\u4ee510\u4ecd\u4f1aT\u6389\u7b2c10\u4e2a\u70b9\u3002\u8fd9\u65f6\u6211\u5c1d\u8bd5\u4e86\u4e00\u4e0b\u53d1\u73b0\u7b2c10\u4e2a\u70b9\u4e2dm\u548ct[i]\u90fd\u662f100\u7684\u500d\u6570\uff0c\u4e8e\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u5224\u5b9a\u4e00\u4e0b\uff0c\u5982\u679c\u90fd\u662f100\u7684\u500d\u6570\u5c31\u9664\u4ee5100\uff0c\u901a\u8fc7\u8fd9\u4e2a\u795e\u5947\uff08\u65e0\u803b\uff09\u7684\u4f18\u5316\uff0c\u53ef\u4ee5\u8fc7\u6389\u8fd9\u4e2a\u9898\u3002\n\n\u4e0b\u9762\u662f\u4ee3\u7801\uff0c\u4ee3\u7801\u4e2d\u7684\u6ce8\u91ca\u53ef\u4ee5\u5e2e\u52a9\u52a0\u6df1\u5bf9\u6811\u5f62\u80cc\u5305\u7684\u7406\u89e3\u3002\n\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<vector>\n#include<queue>\n#include<map>\nusing namespace std;\n#define ll long long\n#define in inline\nin ll read(){\n    ll x=0,f=1;char c=getchar();\n    while(c>'9'||c<'0'){if(c=='-')f=-f;c=getchar();\n    }\n    while(c>='0'&&c<='9'){x=x*10+c-'0';c=getchar();\n    }return x*f;\n}\nconst int mx=1550;\nint h[mx],p,f[61][3210],w[mx],v[mx],m;\nstruct edge{\n    int next,v;\n}e[4*mx];\nin void add(int a,int b){\n    p++;e[p].next=h[a];h[a]=p;e[p].v=b;\n}\nint n,flag;\nin void putin(){\n    m=read();n=read();m/=10;\n    for(int i=1,p,x;i<=n;i++){\n    \tw[i]=read();v[i]=read();p=read();\n    \tw[i]/=10;\n    \tif(w[i]%10>0)flag=1;//\u4f18\u5316\uff0c\u5982\u679c\u51fa\u73b0\u4e0d\u80fd\u6574\u51fa100\u7684\u5c31\u6807\u8bb0\u3002\n    \tv[i]*=w[i];//\u6211\u4eec\u8fd9\u91cc\u8ba1\u7b97v\u7684\u65f6\u5019\u662f\u4e58\u7684\u9664\u4ee510\u7684w\uff0c\u6240\u4ee5\u7b54\u6848\u4e5810\u3002\n    \tadd(p,i);\n    }\n    if(flag==0){//\u4f18\u5316\u3002\n    \tm/=10;\n    \tfor(int i=1;i<=n;i++)w[i]/=10;\n    }\n    \n    memset(f,0xcf,sizeof(f));\n}\nin void dfs(int u){\n    for(int i=0;i<=w[u];i++)f[u][i]=0;\n    for(int i=h[u];i;i=e[i].next){\n    \tint v=e[i].v;\n    \tdfs(v);\n    \tfor(int t=m;t>=w[v];t--){//\u4e0d\u4f18\u5316\u8fd9\u91cc\u4f1a\u70b8\n    \t\tfor(int j=t;j>=w[v];j--)\n    \t\tf[u][t]=max(f[u][t],f[u][t-j]+f[v][j]);\n        }\n    }\n    if(u!=0){\n        for(int t=m;t>=w[u];t--)f[u][t]=f[u][t-w[u]]+v[u];\n    }\n}\nint main(){\n    putin();\n    dfs(0)\uff1b\n     printf(\"%d\",f[0][m]*10);\n    return 0;\n}\n```\n\n\u7528\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u8f7b\u677eA\u6389\u9009\u8bfe\u90a3\u4e2a\u9898\uff0c\u90a3\u662f\u9053\u84dd\u9898\u54e6\u3002\u800c\u4e14\u5b66\u4e60\u7f29\u70b9\u540e\u8fd8\u53ef\u4ee5\u53bbA\u6389[\u8f6f\u4ef6\u5b89\u88c5]\u3002(https://www.luogu.org/problemnew/show/P2515)",
        "postTime": 1542521017,
        "uid": 72111,
        "name": "Maktub",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u81ea\u5df1\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\n\u672c\u9898\u7684\u8bdd\uff0c\u9996\u5148\u8003\u8651\u4e86\u9644\u4ef6\u60c5\u51b5\n\u53d1\u73b0\u53ea\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u8fd9\u6837\u7684\u8bdd\u53ef\u4ee5\u7528w\uff0cv\u4e8c\u4f4d\u6570\u7ec4\u8fdb\u884c\u5904\u7406\uff0c\n\u4e4b\u540e\u4f1a\u53d1\u73b0\u6709\u56db\u79cd\u60c5\u51b5\n\u5177\u4f53\u89c1\u4ee3\u7801\u4e2d\u7684\u6ce8\u91ca\n\u795d\u5404\u4f4d2018  noip rp++\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint m,n,k;\nint w[61][3],v[61][3];\nint f[32001];\nint num,ans;\nint main()\n{ scanf(\"%d%d\",&m,&n);\n  for (int i=1;i<=n;i++)\n  { int x,y,z;\n    scanf(\"%d%d%d\",&x,&y,&z);\n    if (!z) {w[i][0]=x*y;v[i][0]=x;}\n    else { if (!w[z][1]) {w[z][1]=x*y;v[z][1]=x;}\n\t       else {w[z][2]=x*y;v[z][2]=x;}\n\t\t }\n  }\n  for (int i=1;i<=n;i++)\n  { for (int j=m;j>=v[i][0];j--)\n    { f[j]=max(f[j],f[j-v[i][0]]+w[i][0]);//\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u53ea\u8981\u4e3b\u4ef6 \n      if (v[i][0]+v[i][1]+v[i][2]<=j) f[j]=max(f[j],f[j-v[i][1]-v[i][2]-v[i][0]]+w[i][1]+w[i][2]+w[i][0]);//\u7b2c\u4e8c\u79cd\u60c5\u51b5\uff0c\u8981\u4e3b\u4ef6\uff0c\u4e5f\u8981\u4e24\u4e2a\u9644\u4ef6 \n      if (v[i][0]+v[i][1]<=j) f[j]=max(f[j],f[j-v[i][1]-v[i][0]]+w[i][1]+w[i][0]);//\u7b2c\u4e09\u79cd\u60c5\u51b5\uff0c\u8981\u7b2c\u4e00\u4e2a\u9644\u4ef6 \n      if (v[i][0]+v[i][2]<=j) f[j]=max(f[j],f[j-v[i][2]-v[i][0]]+w[i][2]+w[i][0]);//\u7b2c\u56db\u79cd\u60c5\u51b5\uff0c\u8981\u7b2c\u4e8c\u4e2a\u9644\u4ef6 \n\t}\n  }\n  printf(\"%d\",f[m]);\n  return 0;\n}\n```",
        "postTime": 1540712702,
        "uid": 74900,
        "name": "Hale",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u53c8\u66f4\u597d\u7684\u505a\u6cd5\uff0c\u5982\u679c\u53ea\u662f\u679a\u4e3e\u7136\u540e\u7528\u5206\u7ec4\u80cc\u5305\u53ef\u80fd\u5e76\u4e0d\u662f\u6700\u597d\u7684\u89e3\u6cd5\u3002\n\n\u8fd9\u91cc\u63d0\u4f9b\u4e86\u53e6\u4e00\u79cd\u89e3\u6cd5\uff0c\u5176\u89e3\u91ca\u90fd\u5728\u4ee3\u7801\u4e2d\n\n\u548c\u52a8\u6001\u89c4\u5212\u6bd4\u8f83\u7684\u76f8\u4f3c\n```cpp\n//\u80cc\u5305\u7c7b\u578b\u7684\u6a21\u677f \n\n#include<cstdio>\n#include<algorithm>\n#include<iostream>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nint n,m;\nint f[5000010];\nint h[5000010];\nstruct node\n{\n    int v,p,q;\n}a[1010];\nint main()\n{\n    scanf(\"%d%d\",&n,&m);//\u8f93\u5165 \n    for(int i=1;i<=m;i++)\n    {\n        scanf(\"%d%d%d\",&a[i].v,&a[i].p,&a[i].q);\n        a[i].p*=a[i].v;\n    }//\u5148\u628a\u6bcf\u4e00\u4e2a\u7684\u4ef7\u503c\u9884\u5904\u7406\u51fa\u6765 \n    for(int i=1;i<=m;i++)//\u73b0\u5728\u679a\u4e3e\u6bcf\u4e00\u4e2a\u7269\u54c1 \n    if(a[i].q==0)\n    {//\u5982\u679c\u5b83\u662f\u4e3b\u4ef6\n\t//\u90a3\u4e48\u63a5\u4e0b\u6765\u7684\u64cd\u4f5c\u90fd\u662f\u9488\u5bf9\u5f53\u524d\u7684\u7ec4\u7684\u9009\u62e9\n\t//\u4e5f\u5c31\u662f\u8bf4\u540e\u9762\u7684\u64cd\u4f5c\u90fd\u662f\u57fa\u4e8e\u5f53\u524d\u4e3b\u4ef6\u9009\u62e9\u4e86\u7684\u60c5\u51b5\u4e0b\u7684 \n\t//\u6240\u4ee5\u6240\u6709\u7684\u64cd\u4f5c\u90fd\u8981\u628a\u4e3b\u4ef6\u8003\u8651\u5728\u5185 \n        memset(h,0,sizeof(h));\n        \n        for(int j=a[i].v;j<=n;j++)\n        h[j]=f[j-a[i].v]+a[i].p;\n        //h\u6570\u7ec4\u8bb0\u5f55\u7684\u662f\u9009\u4e86\u5f53\u524d\u7ec4\u7684\u6700\u5927\u503c\uff0c\u5373\u5148\u628a\u4e3b\u4ef6\u5904\u7406\u6389 \n        \n        for(int j=1;j<=m;j++)\n        if(a[j].q==i)//\u5982\u679c\u662f\u9644\u4ef6\uff0c\u4e14\u5c5e\u4e8e\u8fd9\u4e2a\u7ec4 \n        for(int k=n;k>=a[i].v+a[j].v;k--)\n        h[k]=max(h[k],h[k-a[j].v]+a[j].p);\n        //\u90a3\u4e48\u5c31\u5728\u5f53\u524d\u7684\u7ec4\u4e0a\u595701\u80cc\u5305\n\t\t \n        for(int j=a[i].v;j<=n;j++)\n        f[j]=max(f[j],h[j]);//\u628a\u7b54\u6848\u66f4\u65b0 \n        \n    }   \n    printf(\"%d\\n\",f[n]);\n    return 0;\n}\n```\n",
        "postTime": 1571750472,
        "uid": 114514,
        "name": "zzr8178541919",
        "ccfLevel": 7,
        "title": "\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848"
    },
    {
        "content": "\u7531\u4e8e\u6ca1\u8ba4\u771f\u770b\u9898\u76ee\uff0c\u6ca1\u53d1\u73b0\u4e00\u4e2a\u4e3b\u4ef6\u6700\u591a\u201c\u7ed1\u5b9a\u201d2\u4e2a\u9644\u4ef6~~~~\n\n\u4e0d\u5e9f\u8bdd\u4e86\uff0c\u8fdb\u5165\u6b63\u9898\u3002\n\n\u6211\u4eec\u53ea\u9700\u5206\u522b\u8003\u8651\u6bcf\u4e2a\u4e3b\u4ef6\u4ee5\u53ca\u5b83\u6240\u5e26\u7684\u9644\u4ef6\uff0c\u6211\u4eec\u8bbedp[k][0]\u4e3a\u82b1\u6389k\u5143\u94b1\u4f46\u5e76\u4e0d\u8d2d\u4e70\u5f53\u524d\u4e3b\u4ef6\uff08\u4e00\u5b9a\u4e0d\u8d2d\u4e70\u9644\u4ef6\uff09\u53ef\u83b7\u5f97\u7684\u6700\u5927\u6536\u76ca\uff1bdp[k][1]\u4e3a\u82b1\u6389k\u5143\u94b1\u5e76\u8d2d\u4e70**\u4e86**\u5f53\u524d\u4e3b\u4ef6\uff08\u4e0d\u4e00\u5b9a\u8d2d\u4e70\u4e86\u9644\u4ef6\uff09\u53ef\u83b7\u5f97\u7684\u6700\u5927\u6536\u76ca\u3002\n\n\u90a3\u4e48\u73b0\u5728\u6211\u4eec\u9762\u4e34\u77402\u79cd\u60c5\u51b5\uff1a\n\n1. \u7269\u54c1i\u6ca1\u6709\u201c\u7ed1\u5b9a\u201d\u9644\u4ef6\n2. \u7269\u54c1i\u6709\u201c\u7ed1\u5b9a\u201d\u9644\u4ef6\n\n\u82e5\u7269\u54c1i\u6ca1\u6709\u201c\u7ed1\u5b9a\u201d\u9644\u4ef6\uff0c\u6211\u4eec\u76f4\u63a5\u7528\u4f20\u7edf\u76840-1\u80cc\u5305\u72b6\u6001\u8f6c\u6362\u65b9\u7a0b\u5f0f(\u6b64\u65f6\u7684```dp[k][0]```\u5c31\u76f8\u5f53\u4e8e```dp[k]```)\n```\ndp[k][0]=max(dp[k][0],dp[k-v[i]][0]+v[i]*w[i]);\n```\n\n\n------------\n\n\n\u82e5\u7269\u54c1i\u201c\u7ed1\u5b9a\u201d\u4e86\u9644\u4ef6\uff0c\u90a3\u4e48\u5bf9\u4e8e\u9644\u4ef6j\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5f0f\u5e94\u4e3a\n```\ndp[k][1]=max(dp[k-v[i]][0]+v[i]*w[i],dp[k-v[j]][1]+v[j]*w[j]);\n```\n\u6ce8\u610f\u5fc5\u987b\u8981\u5728\u8d2d\u4e70\u4e86\u4e3b\u4ef6\u7684\u60c5\u51b5\u4e0b\u624d\u80fd\u4f7f\u7528\n```dp[k-v[j]][1]+v[j]*w[j];``` \u5426\u5219\u4f1a\u5bfc\u81f4WA;\u6700\u540e\u8981\u5c06```dp[k][0]```\u4e0e```dp[k][1]```\u4e2d\u7684\u6700\u5927\u6536\u76ca\u4fdd\u7559\u5230```dp[k][0]```\u4e2d\u3002\u5177\u4f53\u64cd\u4f5c\u65b9\u6cd5\u89c1\u4ee3\u7801~.~\n\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<vector>\n#define pi pair<int,int>\n#define f first\n#define s second\n\nusing namespace std;\n\nint n,m;\nint dp[32001][2];\nvector<pi>gp[61];//vector\u7528\u4e8e\u8bb0\u5f55\u9644\u4ef6\nint cnt,v[61],w[61],id[61];\n\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=m;i++){\n\t\tint a,b,c;\n\t\tscanf(\"%d%d%d\",&a,&b,&c);\n\t\tif(c==0){//\u4e0d\u542b\u9644\u4ef6\n\t\t\tv[++cnt]=a;\n\t\t\tw[cnt]=b;\n\t\t\tid[cnt]=i;\n\t\t}\n\t\telse{\n\t\t\tgp[c].push_back(pi(a,b));\n\t\t}\n\t}\n\tfor(int i=1;i<=cnt;i++){\n\t\tif(gp[id[i]].size()==0){//\u6ca1\u6709\u9644\u4ef6  \n\t\t\tfor(int j=n;j>=v[i];j--)dp[j][0]=max(dp[j][0],dp[j-v[i]][0]+v[i]*w[i]);\n\t\t}\n\t\telse{//\u6709\u9644\u4ef6\n\t\t\tfor(int j=n;j>=v[i];j--)dp[j][1]=dp[j-v[i]][0]+v[i]*w[i];\n\t\t\tfor(int k=0;k<gp[id[i]].size();k++){\n\t\t\t\tint vk=gp[id[i]][k].f;//\u5f53\u524d\u9644\u4ef6\u7684\u4ef7\u683c\n\t\t\t\tint wk=gp[id[i]][k].s;//\u5f53\u524d\u9644\u4ef6\u7684\u91cd\u8981\u7b49\u7ea7\n\t\t\t\tfor(int j=n;j>=v[i]+vk;j--)dp[j][1]=max(dp[j][1],dp[j-vk][1]+vk*wk);//j\u7684\u8fb9\u754c\u6761\u4ef6\u975e\u5e38\u91cd\u8981\n\t\t\t}\n\t\t\tfor(int j=n;j>=v[i];j--)dp[j][0]=max(dp[j][1],dp[j][0]);//\u4fdd\u7559\u6700\u4f18\u89e3\n\t\t}\n\t}\n\tprintf(\"%d\\n\",dp[n][0]);//\u8f93\u51fa\n\treturn 0;\n}\n```\n\n\u672c\u4eba\u7b2c\u4e00\u6b21\u5199\u9898\u89e3\uff0c\u8bed\u6587\u4e5f\u4e0d\u597d\uff0c\u5982\u679c\u6709\u4ec0\u4e48\u8bb2\u5f97\u4e0d\u597d\u7684\u5730\u65b9\u8bf7\u591a\u6307\u6559O.O",
        "postTime": 1531210859,
        "uid": 79219,
        "name": "Tony321",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u6b64\u9898\u662f01\u80cc\u5305\u95ee\u9898\u7684\u53d8\u5f62\u3002\u7269\u54c1\u7684\u91cd\u8981\u5ea6\u4e58\u4ee5\u4ef7\u683c\u662f\u80cc\u5305\u95ee\u9898\u4e2d\u7684\u4ef7\u503c\uff0c\u7269\u54c1\u7684\u4ef7\u683c\u662f\u80cc\u5305\u95ee\u9898\u4e2d\u7684\u4f53\u79ef\u3002\n\n1\u3001\u6211\u4eec\u53ef\u4ee5\u628a\u5982\u4f55\u5728\u4f17\u591a\u4e3b\u4ef6\u4e0e\u9644\u4ef6\u4e4b\u4e2d\u9009\u62e9\u8d2d\u4e70\u7684\u95ee\u9898\u8f6c\u53d8\u4e3a\u770b\u6210\u8d2d\u4e70\u76845\u79cd\u65b9\u6848\uff1a\n\n\uff081\uff09\u4ec0\u4e48\u90fd\u4e0d\u4e70\uff0c\uff082\uff09\u53ea\u4e70\u4e3b\u4ef6\uff0c\uff083\uff09\u4e70\u4e3b\u4ef6\u548c\u9644\u4ef61\uff0c\uff084\uff09\u4e70\u4e3b\u4ef6\u548c\u9644\u4ef62\uff0c\uff085\uff09\u4e70\u4e3b\u4ef6\u548c\u4e24\u4e2a\u9644\u4ef6\u3002\n\n2\u3001\u6709\u4e9b\u4e3b\u4ef6\u6709\u9644\u4ef6\uff0c\u800c\u6709\u4e9b\u6ca1\u6709\uff0c\u8fd9\u4e3a\u6211\u4eec\u601d\u8003\u5e26\u6765\u4e86\u8d1f\u62c5\uff0c\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u5047\u8bbe\u4efb\u4f55\u4e3b\u4ef6\u90fd\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u9898\u76ee\u6ca1\u6709\u7ed9\u51fa\u67d0\u4e2a\u4e3b\u4ef6\u7684\u9644\u4ef6\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u5047\u8bbe\u8fd9\u4e2a\u4e3b\u4ef6\u7684\u9644\u4ef6\u662f\u5b58\u5728\u7684\uff0c\u4e14\u4ef7\u683c\u548c\u91cd\u8981\u5ea6\u90fd\u7b49\u4e8e0\u3002\u8fd9\u4e2a\u5047\u8bbe\u9996\u5148\u4e0d\u4f1a\u5f71\u54cd\u5230\u7a0b\u5e8f\u7684\u6b63\u786e\u6027\uff0c\u4e5f\u4e0d\u4f1a\u589e\u52a0\u591a\u5c11\u8fd0\u7b97\u65f6\u95f4\uff0c\u4e14\u8fd9\u79cd\u5047\u8bbe\u4f7f\u5f97\u6211\u4eec\u60f3\u95ee\u9898\u548c\u5199\u7a0b\u5e8f\u90fd\u53d8\u5f97\u7b80\u5355\u591a\u4e86\u3002\n\n3\u3001\u9898\u76ee\u4e2d\u7684\u4ef7\u683c\u90fd\u662f10\u7684\u8fd9\u4e2a\u6761\u4ef6\uff0c\u53ef\u4ee5\u51cf\u5c11\u4e00\u4e9b\u65f6\u95f4\u548c\u7a7a\u95f4\u7684\u5f00\u9500\u3002\n\n\u6b64\u9898\u548c01\u80cc\u5305\u95ee\u9898\u67092\u4e2a\u4e3b\u8981\u7684\u533a\u522b\uff1a\n\n\u533a\u522b\u4e00\uff1a01\u80cc\u5305\u95ee\u9898\u5bf9\u5f53\u524d\u7269\u54c1\u8003\u8651\u7684\u53ea\u6709\u4e70\u548c\u4e0d\u4e70\u4e24\u79cd\u60c5\u51b5\uff0c\u800c\u6b64\u9898\u9700\u8981\u8003\u8651\u4e0a\u9762\u6240\u8bf4\u76845\u79cd\u4e0d\u540c\u7684\u8d2d\u4e70\u65b9\u6848\u3002\n\n\u533a\u522b\u4e8c\uff1a01\u80cc\u5305\u95ee\u9898\u662f\u7528v[i]\u6765\u4fdd\u5b58\u7b2ci\u4e2a\u7269\u54c1\u7684\u4ef7\u503c\uff0c\u800c\u6b64\u9898\u9700\u8981\u7528v[i]\u6765\u4fdd\u5b58\u7b2ci\u4e2a\u7269\u54c1\u548c\u5b83\u7684\u4e24\u4e2a\u9644\u4ef6\u7684\u4ef7\u503c\uff0c\u6b64\u65f6\u6211\u4eec\u9700\u8981\u4e8c\u7ef4\u6570\u7ec4\u6765\u5b9e\u73b0\uff0c\u7269\u54c1\u4f53\u79efw\u540c\u6837\u9700\u8981\u7528\u4e8c\u7ef4\u6570\u7ec4\u6765\u4fdd\u5b58\u3002\n\nv[i][0]\u8868\u793a\u7b2ci\u4e2a\u7269\u54c1\u7684\u4e3b\u4ef6\u4ef7\u503c\uff0c v[i][1]\u8868\u793a\u7b2ci\u4e2a\u7269\u54c1\u7684\u7b2c\u4e00\u4e2a\u9644\u4ef6\u7684\u4ef7\u503c\uff0cv[i][2]\u8868\u793a\u7b2ci\u4e2a\u7269\u54c1\u7684\u7b2c\u4e8c\u4e2a\u9644\u4ef6\u7684\u4ef7\u503c .w[i][0..2]\u8868\u793a\u540c\u6837\u7684\u7269\u54c1\u7684\u4f53\u79ef\u3002\n\nf[i,j]\u8868\u793a\u7ed9\u5b9ai\u4e2a\u7269\u54c1\u548cj\u7684\u7a7a\u95f4\u80fd\u591f\u83b7\u5f97\u7684\u6700\u5927\u4ef7\u503c\u603b\u5408\u3002\n\n\u5219\uff1a\nf[i,j]=max{f[i-1,j],\n\nf[i-1,j-w[i,0]]+v[i,0],\n\nf[i-1,j-w[i,0]-w[i,1]]+v[i,0]+v[i,1],\n\nf[i-1,j-w[i,0]-w[i,2]]+v[i,0]+v[i,2],\n\nf[i-1,j-w[i,0]-w[i,1]-w[i,2]]+v[i,0]+v[i,1]+v[i,2]}\n\n\u5176\u5b9e\uff0c\u6b64\u9898\u8fd8\u6709\u4e00\u4e2a\u5173\u952e\u70b9\uff0c\u5c31\u662f\u8f93\u5165\u6570\u636e\u7684\u5904\u7406\u3002\n\n\u6839\u636e\u9898\u76ee\u7684\u610f\u601d\uff0cq\u662f\u7269\u54c1\u7684\u7f16\u53f7\uff0c\u4f46\u662f\u8fd9\u4e2a\u7f16\u53f7\u662f\u5728\u8003\u8651\u9644\u4ef6\u65f6\u7edf\u8ba1\u7684\u7f16\u53f7\uff0c\u800c\u6211\u4eec\u8ba4\u4e3a\u9644\u4ef6\u548c\u4e3b\u4ef6\u662f\u4e00\u4f53\u7684\uff0c\u56e0\u6b64\u9644\u4ef6\u7f16\u53f7\u56e0\u8be5\u548c\u4e3b\u4ef6\u4e00\u81f4\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5bf9\u9898\u76ee\u7ed9\u51fa\u7684\u7f16\u53f7\u8fdb\u884c\u8f6c\u6362\u3002\n\n```cpp\n  #include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\n    using namespace std;  \n    const int maxn = 40000;  \n    int f[70][maxn];  \n    int value[70][3],imp[70][3];  \n    int main()  \n    {  \n        int n,m;  \n        int v,p,q;  \n        scanf(\"%d%d\",&n,&m);   \n        for(int i=1; i<=m; i++)  \n        {  \n            scanf(\"%d%d%d\",&v,&p,&q);  \n            //\u4e3a\u4e3b\u4ef6   \n            if (!q)  \n            {  \n                value[i][0] = v;  \n                imp[i][0] = p;  \n            }  \n            //\u4e3a\u9644\u4ef6   \n            else  \n            {  \n                if (!value[q][1])  \n                {  \n                    value[q][1] = v;  \n                    imp[q][1] = p;  \n                }  \n                else  \n                {  \n                    value[q][2] = v;  \n                    imp[q][2] = p;  \n                }  \n            }  \n        }          \n        memset(f,0,sizeof(f));   \n        for(int i=1; i<=m; i++)  \n        {  \n            for(int j=1; j<=n; j++)  \n            {  \n                if (j-value[i][0]>=0)  \n                {  \n                    //\u4ec5\u4e3b\u4ef6   \n                    f[i][j] = max(f[i-1][j],f[i-1][j-value[i][0]] + value[i][0]*imp[i][0]);  \n                    //\u8fd9\u4e2a\u65f6\u5019\u7684f[i][j]\u8868\u793a\u4ec5\u6709\u4e3b\u4ef6\u7684\u65f6\u5019\u7684\u60c5\u51b5\uff0c\u800c\u4e0b\u9762\u6bcf\u79cd\u52a0\u9644\u4ef6\u7684\u60c5\u51b5\uff0c\u90fd\u662f\u5728\u6709\u4e3b\u4ef6\u7684\u57fa\u7840\u4e0b\uff0c\u6240\u4ee5  \n                    //\u76f4\u63a5\u548cf[i][j]\u6bd4\u8f83   \n                    //\u4e3b\u4ef6 + \u9644\u4ef61   \n                    if (j-value[i][0]-value[i][1]>=0)  \n                        f[i][j] = max(f[i][j],f[i-1][j-value[i][0]-value[i][1]] + value[i][0]*imp[i][0] + value[i][1]*imp[i][1]);  \n                    //\u4e3b\u4ef6 + \u9644\u4ef62   \n                    if (j-value[i][0]-value[i][2]>=0)  \n                        f[i][j] = max(f[i][j],f[i-1][j-value[i][0]-value[i][2]] + value[i][0]*imp[i][0] + value[i][2]*imp[i][2]);  \n                    //\u4e3b\u4ef6 + \u6240\u6709\u9644\u4ef6  \n                    if (j-value[i][0]-value[i][1]-value[i][2]>=0)  \n                        f[i][j] = max(f[i][j],f[i-1][j-value[i][0]-value[i][1]-value[i][2]] + value[i][0]*imp[i][0] + value[i][1]*imp[i][1] + value[i][2]*imp[i][2]);  \n                }  \n                else  \n                    f[i][j] = f[i-1][j];  \n            }  \n        }  \n        printf(\"%d\\n\",f[m][n]);  \n        return 0;  \n    }   \nP.S:\u4e00\u5f00\u59cb\u6709\u4e2aassembler messages\u7684\u9519\u8bef\uff0c\u7ea0\u7ed3\u7684\u534a\u5929\uff0c\u539f\u6765\u662f\u4e00\u5f00\u59cb\u5f04\u7684f[maxn][maxn]\u6570\u7ec4\u592a\u5927\u7206\u70b8\u4e86\uff0c\n```",
        "postTime": 1499325266,
        "uid": 21534,
        "name": "ysner",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "##### \u505a\u56de\u4e00\u5e74\u524dA\u6389\u7684\u9898\uff0c\u7528\u7684\u662f\u540c\u4e00\u79cd\u601d\u8003\u65b9\u5f0f\uff0c\u7b2c\u4e00\u6b21\u63d0\u4ea4\u624d30\u5206\uff1f\uff1f\uff01\uff01\n\n###### \u6211\u53bb\u81ea\u95ed\n\n\u56de\u5230\u6b63\u9898\uff0c\u6211\u4eec\u53d1\u73b0\u4e00\u4e2a\u4e3b\u4ef6\u6700\u591a\u53ea\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u90a3\u7ec4\u5408\u65b9\u5f0f\u6709\n\n1.\u4e3b\u4ef6\n\n2.\u4e3b\u4ef6+\u9644\u4ef61\n\n3.\u4e3b\u4ef6+\u9644\u4ef62\n\n4.\u4e3b\u4ef6+\u9644\u4ef61+\u9644\u4ef62\n\n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u628a\u4e0a\u9762\u770b\u505a\u4e00\u4e2a\u7ec4\u91cc\u76844\u4e2a\u7269\u54c1\uff0c\u4ed6\u7684\u91cd\u91cf\u548c\u4ef7\u503c\u5c31\u662f\u6240\u5305\u542b\u7684\u7269\u54c1\u7684\u91cd\u91cf\u548c+\u4ef7\u503c\u548c\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u505a\u5206\u7ec4\u80cc\u5305\uff0c\u56e0\u4e3a\u6bcf\u7ec4\u53ea\u80fd\u9009\u4e00\u4ef6\u561b\uff08\u7b80\u5355\u601d\u8003\u53ef\u77e5\uff09\n\n##### \u5148\u770b\u770b\u6211\u4e00\u5e74\u524d\u5199\u7684\u4ee3\u7801\uff1a\n\n```cpp\n//\u8fd9\u4e2a\u7a0b\u5e8f\u628a\u6709\u4f9d\u8d56\u7684\u80cc\u5305\u95ee\u9898\u8f6c\u6362\u4e3a01\u80cc\u5305\u95ee\u9898\uff01\uff01\uff01 \n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\nusing namespace std;\nint n,m,newv[10],newp[10],v[100],q[100],f[32010];\nlong long p[100];\nint calc(int k)\n{ int x=1;\n  memset(newv,0,sizeof(newv)); //\u4e34\u65f6\u4ef7\u683c\u6570\u7ec4 \n  memset(newp,0,sizeof(newp));//\u4e34\u65f6\u91cd\u8981\u5ea6\u6570\u7ec4 \n  newv[1]=v[k]; //newv[1]=\u4e3b\u4ef6\u7684\u4ef7\u683c \n  newp[1]=p[k];//newp[1]=\u4e3b\u4ef6\u7684\u91cd\u8981\u5ea6 \n  for(int i=1;i<=m;i++) //\u6bcf\u4e2a\u7269\u54c1\u626b\u4e00\u6b21\uff0c\u627e\u5230\u5c5e\u4e8e\u8fd9\u4e2a\u4e3b\u4ef6\u7684\u9644\u4ef6 \n   if (q[i]==k) //\u627e\u5230\u9644\u4ef6 \n   {\n   for(int j=1;j<=x;j++) //\u6570\u7ec4\u7684\u957f\u5ea6 \n\t{\n\t newv[j+x]=newv[j]+v[i];//\u89c1\u8868\u683c \n\t newp[j+x]=newp[j]+p[i];//\u89c1\u8868\u683c \n\t}\n     x=x*2;//x*2\u539f\u56e0\u89c1\u8868\u683c \n   }\n   return x;//\u8fd4\u56de\u4e34\u65f6\u6570\u7ec4\u7684\u957f\u5ea6\uff0c\u4e5f\u5c31\u662f\u6709\u51e0\u4e2a\u7ec4\u5408 \n}\n\nint main()\n{ \n  cin>>n>>m;//n\u8868\u793a\u603b\u94b1\u6570\uff0cm\u4e3a\u7269\u54c1\u7684\u4e2a\u6570\n  for (int i=1;i<=m;i++) \n   {cin>>v[i]>>p[i]>>q[i]; //v[i]\u8be5\u7269\u54c1\u7684\u4ef7\u683c p[i]\u8be5\u7269\u54c1\u7684\u91cd\u8981\u5ea6 q[i]\u8be5\u7269\u54c1\u662f\u4e3b\u4ef6\u8fd8\u662f\u9644\u4ef6\n    p[i]=p[i]*v[i]; //\u91cd\u8981\u5ea6*\u4ef7\u683c \n   } \n   memset(f,0,sizeof(f));\n   for (int i=1;i<=m;i++) //\u679a\u4e3e\u6bcf\u4e2a\u7269\u54c1 \n\t{\n      if (q[i]!=0)  continue; //\u5982\u679c\u8be5\u7269\u54c1\u4e0d\u662f\u4e3b\u4ef6\uff0c\u56e0\u4e3a\u4e0b\u9762\u7684\u7a0b\u5e8f\u9488\u5bf9\u4e3b\u4ef6 \n\t  for (int j=n;j>0;j--) //\u679a\u4e3e\u6bcf\u4e2a\u94b1\u6570 \n\t   for (int k=1;k<=calc(i);k++) //\u679a\u4e3e\u6bcf\u4e2a\u7ec4\u4e2d\u7684\u7ec4\u5408\uff0ccalc(i)\u8ba1\u7b97\u4ee5\u8fd9\u4e2a\u4e3b\u4ef6\u4e3a\u4e00\u7ec4\uff0c\u91cc\u9762\u7684\u7ec4\u5408\u6570 \n\t\tif (j>=newv[k] ) //\u5982\u679c\u8fd9\u4e2a\u7ec4\u5408\u8981\u7528\u7684\u4ef7\u94b1\u53ef\u4ee5\u8003\u8651 \n\t\t   f[j]=max(f[j],f[j-newv[k]]+newp[k]);\n\t\t   //f[j]=max(f[j],f[\u88c5\u4e86\u8fd9\u4e2a\u7ec4\u5408\u5269\u4e0b\u7684\u5bb9\u91cf\u8fd8\u80fd\u4ea7\u751f\u7684\u6700\u5927\u4ef7\u503c]+\u88c5\u4e86\u8fd9\u4e2a\u7ec4\u5408\u80fd\u4ea7\u751f\u7684\u4ef7\u503c)\n\t}\n\tcout<<f[n];\n   return 0;\n}\n/*                 x(\u51b3\u5b9a\u6570\u7ec4\u7684\u957f\u5ea6)\nnewv[j]\u6216\u8005newp[j]:0 1   2       3       4           5       6           7           8   ...     \n        \uff08\u521d\u59cb\u503c\uff091  \u4e3b  \u4e3b+\u96441  \u4e3b+\u96442  \u4e3b+\u96441+\u96442  \u4e3b+\u96443  \u4e3b+\u96441+\u96443  \u4e3b+\u96442+\u96443  \u4e3b+\u96441+\u96442+\u96443...*/ \n\n\n\n```\n\n\u5982\u679c\u6211\u6ca1\u8bb0\u9519\u7684\u8bdd\u662f\u5728\u8001\u5e08\u7684\u6307\u5bfc\u4e0b\u5199\u7684\uff0c\u6240\u4ee5\u601d\u8def\u5f88\u6e05\u6670\n\n##### \u7136\u540e\u518d\u6765\u770b\u770b\u6211\u73b0\u5728\u5199\u7684\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint W,n,cnt,b[10000],f[400000];\n//b[i]:\u7b2ci\u4e2a\u7269\u54c1\uff08\u5f53\u4ed6\u662f\u4e3b\u4ef6\u65f6\uff09\u7684\u4e3b\u4ef6\u987a\u5e8f\n// f[i]:\u82b1\u8d39i\u5143\u80fd\u4e70\u5230\u7684\u6700\u5927\u4ef7\u503c \nstruct node{\n\tint w; //\u6b64\u7269\u54c1\u7684\u91cd\u91cf \n\tint v; //\u6b64\u7269\u54c1\u7684\u4ef7\u503c \n\tint num; //\u6b64\u7269\u54c1\u6240\u5f52\u5c5e\u7684\u7ec4\u522b \n}a[1000][1000];\nint main()\n{\n\tscanf(\"%d%d\",&W,&n);\n\tfor (int i=1;i<=n;i++) \n\t{\n\t\tint x,y,z;\n\t\tscanf(\"%d%d%d\",&x,&y,&z);\n\t\tif (z==0) //\u5f53\u4ed6\u662f\u4e3b\u4ef6\u65f6\uff0c\u8981\u5f00\u62d3\u65b0\u7684\u4e00\u7ec4 \n\t\t{\n\t\t\tcnt++;\n\t\t\tb[i]=cnt; //\u8fd9\u4e2a\u4e3b\u4ef6\u5728\u539f\u6765\u8f93\u5165\u7684\u7f16\u53f7\u4e3ai,\u5728\u65b0\u7684\u4e3b\u4ef6\u96c6\u5408\u8981\u6309\u7167\u5148\u6765\u540e\u5230\u6392\u5230\u524d\u9762\u4e3b\u4ef6\u7684\u540e\u9762 \n\t\t\ta[cnt][0].num++; //\u8fd9\u4e00\u7ec4\u7684\u7269\u54c1\u6570+1 \n\t\t\ta[cnt][1].w=x; //\u4e3b\u4ef6\u5355\u72ec\u8ba1\u7b97\u91cd\u91cf\u548c\u4ef7\u503c \n\t\t\ta[cnt][1].v=x*y;\n\t\t}\n\t\telse  //\u8fd9\u662f\u9644\u4ef6 \n\t\t{\n\t\t\tint j=b[z]; //\u4e0a\u9762\u7684b[i]=cnt\u5c31\u6d3e\u4e0a\u7528\u573a\u4e86\uff0c\u53ef\u4ee5\u5f88\u5feb\u5730\u77e5\u9053\u8fd9\u4e2a\u9644\u4ef6\u6240\u5c5e\u4e3b\u4ef6\u5728a[][]\u4e2d\u7684\u987a\u5e8f \n\t\t\ta[j][0].num++; //\u8fd9\u4e00\u7ec4\u53c8\u591a\u4e86\u4e00\u4ef6\u7269\u54c1\u5566 \n\t\t\ta[j][a[j][0].num].w=x+a[j][1].w; //\u8fd9\u662f\u7b2c\u4e00\u3001\u4e8c\u4e2a\u9644\u4ef6\u5355\u72ec\u548c\u4e3b\u4ef6\u7ec4\u5408\u5728\u4e00\u8d77\u6210\u4e3a\u4e00\u4e2a\u7269\u54c1 \n\t\t\ta[j][a[j][0].num].v=x*y+a[j][1].v;\n\t\t\tif (a[j][0].num==3) //\u4e3b\uff0c\u4e3b+\u96441\uff0c\u4e3b+\u96442\u90fd\u5f04\u597d\u4e86 \uff0c\u5c31\u5230\u4e3b+\u96441+\u96442 \n\t\t\t{\n\t\t\t\ta[j][0].num++; //\u5343\u4e07\u4e0d\u8981\u5fd8\u8bb0\u7269\u54c1\u6570\u91cf+1\uff01\uff01\u6211\u5c31\u662f\u56e0\u4e3a\u8fd9\u4e2a\u8c03\u4e86\u4e00\u4e0b\u5348\uff0c\u6ca1\u8c03\u597d\uff0c\u5403\u4e86\u4e2a\u996d\u624d\u60f3\u8d77\u6765 \n\t\t\t\ta[j][4].w=a[j][2].w+a[j][3].w-a[j][1].w; //\u6765\u4e2a\u6570\u5b66\u9898\uff0c\u4e3b+\u96441+\u4e3b+\u96442-\u4e3b=\u4e3b+\u96441+\u96442 \n\t\t\t\ta[j][4].v=a[j][2].v+a[j][3].v-a[j][1].v;\n\t\t\t}\n\t\t}\n\t}\n\tfor (int k=1;k<=cnt;k++) //\u63a5\u4e0b\u6765\u54b1\u4eec\u5c31\u6109\u5feb\u5730\u8fdb\u884c\u5206\u7ec4\u80cc\u5305\u5427\uff01 \n\t  for (int j=W;j>=0;j--)\n\t    for (int i=1;i<=a[k][0].num;i++)\n\t      if (a[k][i].w<=j)\n\t        f[j]=max(f[j],f[j-a[k][i].w]+a[k][i].v);\n\tprintf(\"%d\\n\",f[W]);\n\treturn 0;\n} \n```\n\u601d\u8def\u66f4\u6e05\u6670\u4e86\u5462\uff01\n\n~~~^_^~~~ \u7b11\u6bd9\u7f57\uff08\u7b11\u5f97\u8fde\u773c\u6cea\u90fd\u8e66\u51fa\u6765\u4e86...\uff09 \n\n\n\n",
        "postTime": 1566301085,
        "uid": 78568,
        "name": "\u8521\u4fca\u9ee0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "##   \u672c\u9898\u5927\u773c\u4e00\u626b\u8c8c\u4f3c**\u5f88\u96be**\uff0c\u4f46\u5176\u5b9e\u4e0d\u7136\uff0c\u8fd9\u662f\u4e00\u9053\u6bd4\u8f83~~\u5165\u95e8~~\u768401\u80cc\u5305\u95ee\u9898   ##\n  \u9996\u5148\uff0c\u8981\u89e3\u51b3\u8fd9\u9053\u9898\u6211\u4eec\u9700\u8981\u77e5\u9053\u4ec0\u4e48\u662f[\u52a8\u6001\u89c4\u5212](https://baike.baidu.com/item/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/529408?fr=aladdin)\uff08DP\uff09\uff0c\u52a8\u6001\u89c4\u5212\u8bf4\u5230\u5e95\u5c31\u662f\u5bf9\u4e8e\u4e00\u79cd\u72b6\u6001\u7684\u8f6c\u79fb\u4e0e\u5904\u7406\uff0c\u5e76\u4e0d\u4f1a\u5f71\u54cd\u5168\u5c40\uff08\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u6709\u65f6\u770b\u7740\u975e\u5e38\u50cf\u8d2a\u5fc3\u7684\u9898\u5374\u65e0\u6cd5\u5b8c\u5168\u89e3\u51b3\uff09\u3002\n  DP\u7684\u79cd\u7c7b\u5206\u4e3a\u5f88\u591a\u6709\u80cc\u5305\u95ee\u9898\uff0c\u7ebf\u6027DP\uff0c\u6811\u72b6DP\uff0c\u72b6\u538bDP......\uff08\u7531\u4e8e\u672c\u849f\u84bb\u5e76\u4e0d\u5168\u4f1a\uff0c\u6240\u4ee5\u5c31\u4e0d\u5728\u4e00\u4e00\u8bb2\u89e3\uff09\u3002\n  \n\n\n\n------------\n  \u4e0b\u9762\u6211\u4eec\u6b65\u5165\u6b63\u9898\uff0c\u8fd9\u662f\u4e00\u9053\u7b97\u4e0d\u4e0a\u96be\u768401\u80cc\u5305\u95ee\u9898\uff0c\u76f8\u8f83\u4e8e\u8fd9\u4e00\u9053\u88f801\u80cc\u5305[ P1060 \u5f00\u5fc3\u7684\u91d1\u660e](https://www.luogu.org/problemnew/show/P1060)\uff0c\u672c\u9898\u7684\u91d1\u660e\u591a\u4e86\u4e00\u4e2a\u9644\u5c5e\u54c1\uff0c\u4f46\u8fd9\u5e76\u4e0d\u4f1a\u5f71\u54cd\u6211\u4eec\u7684\u601d\u8def\u3002\n  \u4e0b\u9762\u8fdb\u5165\u5206\u6790\uff1a\n  - \u6211\u4eec\u53ef\u4ee5\u77e5\u9053\uff0c\u5728N\u5143\u94b1\u5185\uff0c\u6211\u4eec\u8981\u5356\u5230\u7efc\u5408\u4ef7\u503c\u603b\u548c\u6700\u5927\u7684\u7269\u54c1\uff0c\u5c31\u5f88\u5bb9\u6613\u60f3\u5230f[j]=max(f[j],f[j-a[i]]+w[i]);\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u3002\n  - \u4f46\u662f\u6211\u4eec\u8fd8\u8981\u8003\u8651\u91d1\u660e\u8981\u4e70\u7684\u7269\u54c1\u6709\u9644\u5c5e\u54c1\u7684\u60c5\u51b5\uff0c\u7531\u4e8e\u91d1\u660e\u60f3\u4e70\u7684\u4e00\u4e2a\u4e3b\u4ef6\u6700\u591a\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2astruct\uff0c\n  ```cpp\nstruct aa{\n\tint v,w; //v\u662f\u5546\u54c1\u4ef7\u503c\uff0cw\u662f\u5546\u54c1\u4ef7\u503c*\u5546\u54c1\u91cd\u8981\u7a0b\u5ea6\n}a[67][3];//\u5b9a\u4e49\u7269\u54c1\u4ee5\u53ca\u5bf9\u662f\u5426\u4e3a\u9644\u4ef6\u8fdb\u884c\u6807\u8bb0 \n```\n  \u8fd9\u6837\u6211\u4eec\u5c31\u5f88\u597d\u7684\u89e3\u51b3\u4e86\u9644\u4ef6\u5224\u65ad\u95ee\u9898\u3002\n  - \u6700\u540e\u5c31\u662f\u6211\u4eec\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u3002\n  \u4e0d\u96be\u800c\u77e5\uff0c\u91d1\u660e\u4e00\u5171\u67095\u79cd\u65b9\u6848\n  1\u3001\u4e0d\u9009\u8be5\u4e3b\u4ef6\u3002                    \n  2\u3001\u53ea\u9009\u8be5\u4e3b\u4ef6\u3002               \n  3\u3001\u9009\u4e3b\u4ef6\u548c\u9644\u4ef61\u3002  \n  4\u3001\u9009\u4e3b\u4ef6\u548c\u9644\u4ef62\u3002  \n  5\u3001\u5168\u9009   \n  \u975e\u5e38\u7684\u663e\u800c\u6613\u89c1\uff08\u5982\u679c\u4f60\u770b\u4e0d\u51fa\u6765\uff0c\u8bf7\u81ea\u884c\u624b\u52a8\u6a21\u62df\uff0c\u4e00\u5b9a\u8981\u5f04\u660e\u767d\uff01\uff01\uff01\uff09\uff0c\u65b9\u7a0b\u5c31\u53ef\u4ee5\u63a8\u51fa\u6765\u4e86\u3002  \n  ```cpp\n\tf[j]=max(f[j],f[j-a[i][0].v]+a[i][0].w);//\u60c5\u51b51\u548c2\n    f[j]=max(f[j],f[j-a[i][0].v-a[i][1].v]+a[i][0].w+a[i][1].w);//\u60c5\u51b53\n    f[j]=max(f[j],f[j-a[i][0].v-a[i][2].v]+a[i][0].w+a[i][2].w);//\u60c5\u51b54\n    f[j]=max(f[j],f[j-a[i][0].v-a[i][2].v-a[i][1].v]+a[i][0].w+a[i][2].w+a[i][1].w);//\u60c5\u51b55\n```\n  \u63a8\u51fa\u8fd9\u4e2a\u65b9\u7a0b\uff0c\u8fd9\u9053\u9898\u5c31\u53ef\u4ee5\u79d2\u5207\u4e86......\n\t\u4e0b\u9762\u8d34\u51fa\u5b8c\u6574\u4ee3\u7801   \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m;\nstruct aa{\n\tint v,w; \n}a[67][3];//\u5b9a\u4e49\u7269\u54c1\u4ee5\u53ca\u5bf9\u662f\u5426\u4e3a\u9644\u4ef6\u8fdb\u884c\u6807\u8bb0 \nint vis[67],f[320004]; //vis[]\u5224\u65ad\u662f\u8be5\u4e3b\u4ef6\u7684\u7b2c\u51e0\u4e2a\u9644\u4ef6 \nint main(){\n\tmemset(vis,0,sizeof(vis));//\u521d\u59cb\u5316\uff08\u4e00\u822c\u53ef\u5ffd\u7565\uff09 \n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=m;i++){\n\t\tint aa,bb,cc;\n\t\tscanf(\"%d%d%d\",&aa,&bb,&cc);\n\t\tif(cc==0){\n\t\t\ta[i][0].v=aa;\n\t\t\ta[i][0].w=aa*bb;\n\t\t}else{\n\t\t\tif(!vis[cc]){\n\t\t\t\ta[cc][1].v=aa;\n\t\t\t\ta[cc][1].w=aa*bb;\n\t\t\t\tvis[cc]=1;\n\t\t\t}else{\n\t\t\t\ta[cc][2].v=aa;\n\t\t\t\ta[cc][2].w=aa*bb;\n\t\t\t}\n\t\t}\t\t\n\t}//\u8bfb\u5165 \n\tfor(int i=1;i<=m;i++){//m\u662f\u4ef6\u6570\uff0c\u679a\u4e3e\u4ece1\u4ef6\u5230m\u4ef6\u8fd9\u51e0\u79cd\u60c5\u51b5 \n\t\tfor(int j=n;j>=0;j--){//\u679a\u4e3e\u7a7a\u95f4\u5927\u5c0f \n\t\t\tif(j>=a[i][0].v){\n\t\t\t\tf[j]=max(f[j],f[j-a[i][0].v]+a[i][0].w);\n\t\t\t}//\u53ea\u9009\u4e3b\u4ef6 \n\t\t\tif(j>=a[i][0].v+a[i][1].v){\n\t\t\t\tf[j]=max(f[j],f[j-a[i][0].v-a[i][1].v]+a[i][0].w+a[i][1].w);\n\t\t\t}//\u9009\u4e3b\u4ef6\u548c\u9644\u4ef6\u4e00 \n\t\t\tif(j>=a[i][0].v+a[i][2].v){\n\t\t\t\tf[j]=max(f[j],f[j-a[i][0].v-a[i][2].v]+a[i][0].w+a[i][2].w);\n\t\t\t}//\u9009\u4e3b\u4ef6\u548c\u9644\u4ef6\u4e8c \n\t\t\tif(j>=a[i][0].v+a[i][1].v+a[i][2].v){\n\t\t\t\tf[j]=max(f[j],f[j-a[i][0].v-a[i][2].v-a[i][1].v]+a[i][0].w+a[i][2].w+a[i][1].w);\n\t\t\t}//\u90fd\u9009 \n\t\t}\n\t}\n\t printf(\"%d\",f[n]);\n\treturn 0;\n} \n```\n \n\u8bf4\u5728\u6700\u540e\uff1aDP\u662f\u5341\u5206\u91cd\u8981\u7684\uff01\u91cd\u8981\u7684\uff01\u91cd\u8981\u7684\uff01  \n\u518d\u63a8\u8350\u51e0\u9053DP\u9898\u76ee\uff0c\u4e0d\u662f\u7279\u522b\u96be\uff0c\u4f46\u662f\u5f88\u7ecf\u5178\u3002   \n01\u80cc\u5305[P1164 \u5c0fA\u70b9\u83dc](https://www.luogu.org/problemnew/show/P1164)    [P1048 \u91c7\u836f](https://www.luogu.org/problemnew/show/P1048)   \n\u5b8c\u5168\u80cc\u5305 [P1616 \u75af\u72c2\u7684\u91c7\u836f](https://www.luogu.org/problemnew/show/P1616)   \nPS\uff08\u672c\u4eba\u7b2c\u4e00\u7bc7\u9898\u89e3\uff0c\u5982\u6709\u9519\u8bef\uff0c\u8bf7\u6307\u51fa\u3002(\u02c9\u25bd\u02c9\uff1b)\uff09\n\n\n\n\n",
        "postTime": 1548471989,
        "uid": 103452,
        "name": "\u60dc\u65f6\u5982\u91d1",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u6709\u4f9d\u8d56\u7684\u5206\u7ec4\u80cc\u5305\u95ee\u9898\uff0c\u867d\u7136\u56e0\u4e3a\u6bcf\u4e00\u4e2a\u4e3b\u4ef6\u53ea\u4f9d\u8d56\u4e8e\u6700\u591a\u4e24\u4e2a\u7684\u9644\u4ef6\uff0c\u6240\u4ee5\u53ef\u4ee5\u4f7f\u752801\u80cc\u5305\u7684\u505a\u6cd5\uff0c\u4f46\u8fd9\u91cc\u8fd8\u662f\u63d0\u4f9b\u4e00\u79cd\u66f4\u52a0\u901a\u7528\u7684\u65b9\u6cd5\u3002\n\n\u5bf9\u4e8e\u4e0d\u719f\u6089\u80cc\u5305\u95ee\u9898\u7684\u5efa\u8bae\u770b\u4e00\u4e0b[\u80cc\u5305\u4e5d\u8bb2](https://www.kancloud.cn/kancloud/pack/70124)\uff0c\u91cc\u9762\u57fa\u672c\u4e0a\u5c06\u6240\u6709\u7684\u80cc\u5305\u95ee\u9898\u90fd\u505a\u4e86\u603b\u7ed3\u3002\n\n\u4e8b\u5b9e\u4e0a\u5206\u7ec4\u80cc\u5305\u548c01\u80cc\u5305\u7684\u505a\u6cd5\u662f\u5341\u5206\u76f8\u4f3c\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff0c\u6bcf\u4e00\u4e2a\u5206\u7ec4\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u4e00\u4e2a01\u80cc\u5305\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u5206\u7ec4\u5206\u522b\u8fdb\u884c01\u80cc\u5305\u64cd\u4f5c\u4e4b\u540e\uff0c\u4e5f\u5c31\u6c42\u51fa\u4e86\u89e3\u3002\n\n### \u9884\u5904\u7406\u64cd\u4f5c\n\n\u56e0\u4e3a\u6bcf\u4e00\u4e2a\u7ec4\u53ef\u4ee5\u9009\u4e0d\u6b62\u4e00\u4ef6\u9644\u4ef6\uff0c\u540c\u65f6\u9009\u4e86\u9644\u4ef6\uff0c\u90a3\u4e48\u4e3b\u4ef6\u5c31\u5fc5\u987b\u9009\u62e9\uff0c\u6240\u4ee5\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5206\u7ec4\u8fdb\u884c01\u80cc\u5305\u64cd\u4f5c\u4e4b\u524d\uff0c\u6211\u4eec\u8fd8\u6709\u4e00\u4e2a\u9884\u5904\u7406\u64cd\u4f5c\uff0c\u5373\u5c06\u6bcf\u4e2a\u5206\u7ec4\u91cc\u7684\u9644\u4ef6\u8fdb\u884c\u4e00\u4e2a\u7ec4\u5408\u64cd\u4f5c\u3002\n\n\u6211\u4eec\u4f7f\u7528vector\u6570\u7ec4\u6765\u8868\u793a\u4e0d\u540c\u7684\u5206\u7ec4\uff08\u4e00\u4e2a\u4e3b\u4ef6\u4ee3\u8868\u4e00\u4e2a\u5206\u7ec4\uff09\uff0c\u4e3b\u4ef6\u7684\u4fe1\u606f\u5b58\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u6570\u7ec4\u4e2d\uff0c\u6bcf\u8bfb\u5165\u4e00\u4e2a\u9644\u4ef6\u7684\u4fe1\u606f\uff0c\u5c31\u5c06\u5176\u4e0e\u5176\u4ed6\u9644\u4ef6\u8fdb\u884c\u4e00\u4e2a\u7ec4\u5408\uff0c\u5f62\u6210\u4e00\u4e2a\u7269\u54c1\u7ec4\uff0c\u5728\u6240\u6709\u6570\u636e\u8bfb\u53d6\u5b8c\u540e\uff0c\u5c06\u6bcf\u4e00\u4e2a\u4e3b\u4ef6\u4fe1\u606f\u52a0\u5230\u5bf9\u5e94\u5206\u7ec4\u7684\u7269\u54c1\u4e0a\u3002\n\n### \u5206\u7ec4\u80cc\u5305\n\n\u8fdb\u8fc7\u4e0a\u9762\u7684\u4e00\u4e2a\u9884\u5904\u7406\u4e4b\u540e\uff0c\u8fd9\u4e2a\u95ee\u9898\u53d8\u6210\u4e86\u6bcf\u7ec4\u7269\u54c1\u6709\u82e5\u5e72\u79cd\u7b56\u7565\uff1a\u662f\u9009\u62e9\u672c\u7ec4\u7684\u67d0\u4e00\u4ef6\uff0c\u8fd8\u662f\u4e00\u4ef6\u90fd\u4e0d\u9009\uff08\u56e0\u4e3a\u8fdb\u8fc7\u4e86\u9884\u5904\u7406\u4e4b\u540e\uff0c\u6bcf\u4e00\u4e2a\u9009\u62e9\u5176\u5b9e\u5df2\u7ecf\u5305\u542b\u4e86\u591a\u4e2a\u9644\u4ef6\uff09\u3002\u4e5f\u5c31\u662f\u8bf4\u8bbef[k][v]\u8868\u793a\u524dk\u7ec4\u7269\u54c1\u82b1\u8d39\u8d39\u7528v\u80fd\u53d6\u5f97\u7684\u6700\u5927\u6743\u503c\uff0c\u5219\u6709\uff1a\n\nf[k][v]=max{f[k-1][v],f[k-1][v-c[i]]+w[i]|\u7269\u54c1i\u5c5e\u4e8e\u7ec4k}\n\n\u4f7f\u7528\u4e00\u7ef4\u6570\u7ec4\u7684\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```\nfor \u6240\u6709\u7684\u7ec4k\n    for v=V..0\n        for \u6240\u6709\u7684i\u5c5e\u4e8e\u7ec4k\n            f[v]=max{f[v],f[v-c[i]]+w[i]}\n```\n            \n**\u4ee3\u7801\uff1a**\n\n```cpp\n#include <bits/stdc++.h>\n\ntypedef long long int lli;\n#define data1  \"E:\\\\WorkSpace\\\\ACM\\\\data.in\"\n#define data2  \"F:\\\\ACM\\\\data.in\"\nusing namespace std;\n#define in fstream _file;_file.open(data1,ios::in);if(_file){freopen(data1,\"r\",stdin);}else{_file.open(data2,ios::in);if(_file)freopen(data2,\"r\",stdin);}\n#define mset(t, x) memset(t,x,sizeof(t))\n#define maxn 32100\nint n, m;\n\n\nint main() {\n    pair<int, int> primary[100];//\u4e3b\u4ef6\n    vector<pair<int, int> > groups[100];//\u5206\u7ec4\n    int dp[maxn];\n    in;\n    scanf(\"%d%d\", &n, &m);\n    int v, p, q;\n    for (int i = 1; i < 100; i++) {\n        pair<int, int> temp(0, 0);//\u9884\u5148\u6dfb\u52a0\u4e00\u4e2a\u7a7a\u7269\u54c1\uff0c\u8fd9\u662f\u7ed9\u4e3b\u4ef6\u7684\u4e00\u4e2a\u5360\u4f4d\u7b26\n        groups[i].push_back(temp);\n    }\n    for (int i = 1; i <= m; i++) {\n        scanf(\"%d%d%d\", &v, &p, &q);\n        if (q == 0) {\n            primary[i].first = v;\n            primary[i].second = p * v;\n        } else {\n            int len = groups[q].size();\n            for (int j = 0; j < len; j++) {//\u9644\u4ef6\u7ec4\u5408\n                int cost = groups[q][j].first + v;\n                int value = groups[q][j].second + p * v;\n                pair<int, int> temp(cost, value);\n                groups[q].push_back(temp);\n            }\n        }\n    }\n    for (int i = 1; i <= m; i++) {\n        for (int j = 0; j < groups[i].size() && primary[i].first; j++) {//\u6dfb\u52a0\u4e3b\u4ef6\u4fe1\u606f\n            groups[i][j].first += primary[i].first;\n            groups[i][j].second += primary[i].second;\n        }\n    }\n    //\u5206\u7ec4\u80cc\u5305\n    for (int i = 1; i <= m; i++) {//\u4e0d\u540c\u7684\u5206\u7ec4\n        for (int k = n; k >= 0 && groups[i].size(); k--) {//\u8d39\u7528\n            for (int j = 0; j < groups[i].size(); j++) {//\u904d\u5386\u6bcf\u4e00\u4e2a\u5206\u7ec4\uff0c\u6ce8\u610f\u5faa\u73af\u987a\u5e8f\u4e0d\u53ef\u66f4\u6539\n                if (k >= groups[i][j].first) {\n                    dp[k] = max(dp[k], dp[k - groups[i][j].first] + groups[i][j].second);//\u524di\u4e2a\u5206\u7ec4\uff0c\u5728\u82b1\u8d39k\u7684\u60c5\u51b5\u4e0b\u7684\u6700\u5927\u4ef7\u503c\n                }\n            }\n        }\n    }\n    printf(\"%d\\n\", dp[n]);\n    return 0;\n}\n```",
        "postTime": 1523927636,
        "uid": 87676,
        "name": "Yaser",
        "ccfLevel": 0,
        "title": "P1064 \u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848"
    },
    {
        "content": "# \u8fd8\u6ca1\u6709\u4eba\u5199\u6cdb\u5316\u80cc\u5305\u7684\u9898\u89e3\uff0c\u6211\u6765\u8865\u5145\u4e0a\n\u6cdb\u5316\u80cc\u5305\u662f\u89e3\u51b3\u80cc\u5305\u95ee\u9898\u7684\u5927\u6740\u5668\uff0c\u5c24\u5176\u662f\u590d\u6742\u7684\u6811\u5f62\u4f9d\u8d56\u80cc\u5305\uff0c\u6bd4\u5982\u672c\u9898\u3002\n\n## \u4ec0\u4e48\u662f\u6cdb\u5316\u7269\u54c1\n\u8003\u8651\u8fd9\u6837\u4e00\u79cd\u7269\u54c1\uff0c\u5b83\u5e76\u6ca1\u6709\u56fa\u5b9a\u7684\u8d39\u7528\u548c\u4ef7\u503c\uff0c\u800c\u662f\u5b83\u7684\u4ef7\u503c\u968f\u7740\u4f60\u5206\u914d\u7ed9\u5b83\u7684\u8d39\u7528\u800c\u53d8\u5316\u3002\u8fd9\u5c31\u662f\u6cdb\u5316\u7269\u54c1\u7684\u6982\u5ff5\u3002\n\n\u66f4\u4e25\u683c\u7684\u5b9a\u4e49\u4e4b\u3002\u5728\u80cc\u5305\u5bb9\u91cf\u4e3a$V$\u7684\u80cc\u5305\u95ee\u9898\u4e2d\uff0c\u6cdb\u5316\u7269\u54c1\u662f\u4e00\u4e2a\u5b9a\u4e49\u57df\u4e3a$0..V$\u4e2d\u7684\u6574\u6570\u7684\u51fd\u6570h\uff0c\u5f53\u5206\u914d\u7ed9\u5b83\u7684\u8d39\u7528\u4e3a$v$\u65f6\uff0c\u80fd\u5f97\u5230\u7684\u4ef7\u503c\u5c31\u662f$h(v)$\u3002\n\u8fd9\u4e2a\u5b9a\u4e49\u6709\u4e00\u70b9\u70b9\u62bd\u8c61\uff0c\u53e6\u4e00\u79cd\u7406\u89e3\u662f\u4e00\u4e2a\u6cdb\u5316\u7269\u54c1\u5c31\u662f\u4e00\u4e2a\u6570\u7ec4$h[0..V]$\uff0c\u7ed9\u5b83\u8d39\u7528$v$\uff0c\u53ef\u5f97\u5230\u4ef7\u503c$h[V]$\u3002\n\n\u4e00\u4e2a\u8d39\u7528\u4e3a$c$\u4ef7\u503c\u4e3a$w$\u7684\u7269\u54c1\uff0c\u5982\u679c\u5b83\u662f01\u80cc\u5305\u4e2d\u7684\u7269\u54c1\uff0c\u90a3\u4e48\u628a\u5b83\u770b\u6210\u6cdb\u5316\u7269\u54c1\uff0c\u5b83\u5c31\u662f\u9664\u4e86$h(c)=w$\u5176\u5b83\u51fd\u6570\u503c\u90fd\u4e3a$0$\u7684\u4e00\u4e2a\u51fd\u6570\u3002\u5982\u679c\u5b83\u662f\u5b8c\u5168\u80cc\u5305\u4e2d\u7684\u7269\u54c1\uff0c\u90a3\u4e48\u5b83\u53ef\u4ee5\u770b\u6210\u8fd9\u6837\u4e00\u4e2a\u51fd\u6570\uff0c\u4ec5\u5f53$v$\u88ab$c$\u6574\u9664\u65f6\u6709$h(v)=v/c*w$\uff0c\u5176\u5b83\u51fd\u6570\u503c\u5747\u4e3a$0$\u3002\u5982\u679c\u5b83\u662f\u591a\u91cd\u80cc\u5305\u4e2d\u91cd\u590d\u6b21\u6570\u6700\u591a\u4e3a$n$\u7684\u7269\u54c1\uff0c\u90a3\u4e48\u5b83\u5bf9\u5e94\u7684\u6cdb\u5316\u7269\u54c1\u7684\u51fd\u6570\u6709$h(v)=v/c*w$\u4ec5\u5f53$v$\u88ab$c$\u6574\u9664\u4e14$v/c<=n$\uff0c\u5176\u5b83\u60c5\u51b5\u51fd\u6570\u503c\u5747\u4e3a$0$\u3002\n\n\u4e00\u4e2a\u7269\u54c1\u7ec4\u53ef\u4ee5\u770b\u4f5c\u4e00\u4e2a\u6cdb\u5316\u7269\u54c1$h$\u3002\u5bf9\u4e8e\u4e00\u4e2a$0..V$\u4e2d\u7684$v$\uff0c\u82e5\u7269\u54c1\u7ec4\u4e2d\u4e0d\u5b58\u5728\u8d39\u7528\u4e3av\u7684\u7684\u7269\u54c1\uff0c\u5219$h(v)=0$\uff0c\u5426\u5219$h(v)$\u4e3a\u6240\u6709\u8d39\u7528\u4e3a$v$\u7684\u7269\u54c1\u7684\u6700\u5927\u4ef7\u503c\u3002P07\u4e2d\u6bcf\u4e2a\u4e3b\u4ef6\u53ca\u5176\u9644\u4ef6\u96c6\u5408\u7b49\u4ef7\u4e8e\u4e00\u4e2a\u7269\u54c1\u7ec4\uff0c\u81ea\u7136\u4e5f\u53ef\u770b\u4f5c\u4e00\u4e2a\u6cdb\u5316\u7269\u54c1\u3002\n\n## \u6cdb\u5316\u7269\u54c1\u7684\u548c\n\u5982\u679c\u9762\u5bf9\u4e24\u4e2a\u6cdb\u5316\u7269\u54c1$h$\u548c$l$\uff0c\u8981\u7528\u7ed9\u5b9a\u7684\u8d39\u7528\u4ece\u8fd9\u4e24\u4e2a\u6cdb\u5316\u7269\u54c1\u4e2d\u5f97\u5230\u6700\u5927\u7684\u4ef7\u503c\uff0c\u600e\u4e48\u6c42\u5462\uff1f\u4e8b\u5b9e\u4e0a\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u7ed9\u5b9a\u7684\u8d39\u7528$v$\uff0c\u53ea\u9700\u679a\u4e3e\u5c06\u8fd9\u4e2a\u8d39\u7528\u5982\u4f55\u5206\u914d\u7ed9\u4e24\u4e2a\u6cdb\u5316\u7269\u54c1\u5c31\u53ef\u4ee5\u4e86\u3002\u540c\u6837\u7684\uff0c\u5bf9\u4e8e0..V\u7684\u6bcf\u4e00\u4e2a\u6574\u6570v\uff0c\u53ef\u4ee5\u6c42\u5f97\u8d39\u7528$v$\u5206\u914d\u5230$h$\u548c$l$\u4e2d\u7684\u6700\u5927\u4ef7\u503c$f(v)$\u3002\u4e5f\u5373$f(v)=max{h(k) +l(v-k)|0<=k<=v}$\u3002\u53ef\u4ee5\u770b\u5230\uff0c$f$\u4e5f\u662f\u4e00\u4e2a\u7531\u6cdb\u5316\u7269\u54c1$h$\u548c$l$\u51b3\u5b9a\u7684\u5b9a\u4e49\u57df\u4e3a$0..V$\u7684\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c$f$\u662f\u4e00\u4e2a\u7531\u6cdb\u5316\u7269\u54c1$h$\u548c$l$\u51b3\u5b9a\u7684\u6cdb\u5316\u7269\u54c1\u3002\n\n\u7531\u6b64\u53ef\u4ee5\u5b9a\u4e49\u6cdb\u5316\u7269\u54c1\u7684\u548c\uff1a$h\u3001l$\u90fd\u662f\u6cdb\u5316\u7269\u54c1\uff0c\u82e5\u6cdb\u5316\u7269\u54c1$f$\u6ee1\u8db3$f(v)=max{h(k)+l(v-k)|0<=k<=v}$\uff0c\u5219\u79f0$f$\u662f$h$\u4e0e$l$\u7684\u548c\uff0c\u5373$f=h+l$\u3002\u8fd9\u4e2a\u8fd0\u7b97\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f$O(V^2)$\u3002\n\n\u6cdb\u5316\u7269\u54c1\u7684\u5b9a\u4e49\u8868\u660e\uff1a\u5728\u4e00\u4e2a\u80cc\u5305\u95ee\u9898\u4e2d\uff0c\u82e5\u5c06\u4e24\u4e2a\u6cdb\u5316\u7269\u54c1\u4ee3\u4ee5\u5b83\u4eec\u7684\u548c\uff0c\u4e0d\u5f71\u54cd\u95ee\u9898\u7684\u7b54\u6848\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5bf9\u4e8e\u5176\u4e2d\u7684\u7269\u54c1\u90fd\u662f\u6cdb\u5316\u7269\u54c1\u7684\u80cc\u5305\u95ee\u9898\uff0c\u6c42\u5b83\u7684\u7b54\u6848\u7684\u8fc7\u7a0b\u4e5f\u5c31\u662f\u6c42\u6240\u6709\u8fd9\u4e9b\u6cdb\u5316\u7269\u54c1\u4e4b\u548c\u7684\u8fc7\u7a0b\u3002\u8bbe\u6b64\u548c\u4e3as\uff0c\u5219\u7b54\u6848\u5c31\u662f$s[0..V]$\u4e2d\u7684\u6700\u5927\u503c\u3002\n\n## \u80cc\u5305\u95ee\u9898\u7684\u6cdb\u5316\u7269\u54c1\n\u4e00\u4e2a\u80cc\u5305\u95ee\u9898\u4e2d\uff0c\u53ef\u80fd\u4f1a\u7ed9\u51fa\u5f88\u591a\u6761\u4ef6\uff0c\u5305\u62ec\u6bcf\u79cd\u7269\u54c1\u7684\u8d39\u7528\u3001\u4ef7\u503c\u7b49\u5c5e\u6027\uff0c\u7269\u54c1\u4e4b\u95f4\u7684\u5206\u7ec4\u3001\u4f9d\u8d56\u7b49\u5173\u7cfb\u7b49\u3002\u4f46\u80af\u5b9a\u80fd\u5c06\u95ee\u9898\u5bf9\u5e94\u4e8e\u67d0\u4e2a\u6cdb\u5316\u7269\u54c1\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u7ed9\u5b9a\u4e86\u6240\u6709\u6761\u4ef6\u4ee5\u540e\uff0c\u5c31\u53ef\u4ee5\u5bf9\u6bcf\u4e2a\u975e\u8d1f\u6574\u6570v\u6c42\u5f97\uff1a\u82e5\u80cc\u5305\u5bb9\u91cf\u4e3av\uff0c\u5c06\u7269\u54c1\u88c5\u5165\u80cc\u5305\u53ef\u5f97\u5230\u7684\u6700\u5927\u4ef7\u503c\u662f\u591a\u5c11\uff0c\u8fd9\u53ef\u4ee5\u8ba4\u4e3a\u662f\u5b9a\u4e49\u5728\u975e\u8d1f\u6574\u6570\u96c6\u4e0a\u7684\u4e00\u4ef6\u6cdb\u5316\u7269\u54c1\u3002\u8fd9\u4e2a\u6cdb\u5316\u7269\u54c1\u2014\u2014\u6216\u8005\u8bf4\u95ee\u9898\u6240\u5bf9\u5e94\u7684\u4e00\u4e2a\u5b9a\u4e49\u57df\u4e3a\u975e\u8d1f\u6574\u6570\u7684\u51fd\u6570\u2014\u2014\u5305\u542b\u4e86\u5173\u4e8e\u95ee\u9898\u672c\u8eab\u7684\u9ad8\u5ea6\u6d53\u7f29\u7684\u4fe1\u606f\u3002\u4e00\u822c\u800c\u8a00\uff0c\u6c42\u5f97\u8fd9\u4e2a\u6cdb\u5316\u7269\u54c1\u7684\u4e00\u4e2a\u5b50\u57df\uff08\u4f8b\u59820..V\uff09\u7684\u503c\u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2a\u51fd\u6570\u7684\u53d6\u503c\u5f97\u5230\u80cc\u5305\u95ee\u9898\u7684\u6700\u7ec8\u7b54\u6848\u3002\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c\u4e00\u822c\u800c\u8a00\uff0c\u6c42\u89e3\u80cc\u5305\u95ee\u9898\uff0c\u5373\u6c42\u89e3\u8fd9\u4e2a\u95ee\u9898\u6240\u5bf9\u5e94\u7684\u4e00\u4e2a\u51fd\u6570\uff0c\u5373\u8be5\u95ee\u9898\u7684\u6cdb\u5316\u7269\u54c1\u3002\u800c\u6c42\u89e3\u67d0\u4e2a\u6cdb\u5316\u7269\u54c1\u7684\u4e00\u79cd\u65b9\u6cd5\u5c31\u662f\u5c06\u5b83\u8868\u793a\u4e3a\u82e5\u5e72\u6cdb\u5316\u7269\u54c1\u7684\u548c\u7136\u540e\u6c42\u4e4b\u3002\n\n## \u5c0f\u6ce8\n\u4ee5\u4e0a\u8fd9\u4e9b\u6587\u5b57\u6765\u6e90\u4e8e\u4faf\u5929\u7ffc\u7684\u300a\u80cc\u5305\u4e5d\u8bb2\u300b\uff0c\u5b83\u5bf9\u6cdb\u5316\u80cc\u5305\u8fdb\u884c\u4e86\u8be6\u5c3d\u7684\u63cf\u8ff0\u3002\u7f8e\u4e2d\u4e0d\u8db3\u7684\u662f\uff0c\u300a\u80cc\u5305\u4e5d\u8bb2\u300b\u6ca1\u6709\u7ed9\u51fa\u8be6\u5c3d\u7684C\u8bed\u8a00\u4ee3\u7801\u3002\u8fd9\u91cc\u6211\u9488\u5bf9\u6811\u5f62\u4f9d\u8d56\u80cc\u5305\u8fd9\u4e00\u95ee\u9898\u7f16\u5199\u4e86C++\u4ee3\u7801\uff0cC/P\u515a\u53ef\u4ee5\u53c2\u8003\u5b9e\u73b0\u3002\n\n\u53ef\u4ee5\u770b\u5230\uff0c\u5c3d\u7ba1\u662f\u590d\u6742\u7684\u9898\u76ee\uff0c\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u5f97\u6bd4\u8f83\u4f18\u96c5\u548c\u7b80\u6d01\u3002\n\n\u5728\u5b58\u50a8\u65b9\u9762\uff0c\u6211\u5c06\u7269\u54c1\u770b\u505a\u6811\u7684\u8282\u70b9\uff0c\u9664\u4e86\u4ef7\u503c$v$\u3001\u4ef7\u683c$w$\u5916\uff0c\u8fd8\u6709\u54e5\u54e5\u8282\u70b9\u7684\u7f16\u53f7$n$\u548c\u8282\u70b9\u7684\u7f16\u53f7$c$\u3002\u8fd9\u7c7b\u4f3c\u4e8e\u56fe\u8bba\u4e2d\u7684\u524d\u5411\u661f\u5b58\u56fe\u65b9\u5f0f\u3002\n\n## AC\u4ee3\u7801\n\u8fd9\u4e2a\u89e3\u6cd5\u662f\u6807\u51c6\u7684\u6cdb\u5316\u80cc\u5305\u89e3\u6cd5\uff0c\u4f46\u6027\u80fd\u6709\u4e9b\u95ee\u9898\uff0c\u9700\u8981\u5f00\u542fO2\uff0c\u4ee5\u53ca\u5bf9\u5bb9\u91cf\u9884\u5904\u7406\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nstruct Item {\n    int v, w, n, c;\n} items[65];\n\n// \u7b2ci\u53f7\u7269\u4f53\uff0c\u80cc\u5305\u5bb9\u91cf\u6709m\nint f[65][21000];\n\nvoid dfs(int r, int cap) {\n    for (int i = items[r].c; i; i = items[i].n) {\n        dfs(i, cap - items[r].w);\n    }\n\n    // \u5148\u9009\u9644\u4ef6\n    for (int i = items[r].c; i; i = items[i].n) {\n        // \u5bf9\u4e8e\u6bcf\u79cd\u5bb9\u91cf\n        for (int j = cap; j >= items[r].w; --j) {\n            // \u5228\u53bb\u4fdd\u7559\u7684\u5bb9\u91cf\n            for (int k = 0; k <= j - items[r].w; ++k) {\n                f[r][j] = max(f[r][j], f[r][j - k] + f[i][k]);\n            }\n        }\n    }\n\n    // \u9009\u4e0a\u81ea\u5df1\n    for (int j = cap; j >= items[r].w; --j) {\n        f[r][j] += items[r].v;\n    }\n\n}\n\nint main() {\n    int m, n;\n    cin >> m >> n;\n    for (int i = 1; i <= n; ++i) {\n        int p;\n        cin >> items[i].w >> items[i].v >> p;\n        items[i].w /= 10;\n        items[i].v *= items[i].w;\n        items[i].n = items[p].c;\n        items[p].c = i;\n//            cout << i << \" \" << items[i].w << \" \" << items[i].v << \" \" << p << endl;\n    }\n    dfs(0, m / 10);\n    cout << f[0][m / 10] * 10 << endl;\n    return 0;\n}\n\n```\n\u539f\u6765\u7684\u89e3\u6cd5\uff0c\u8fd9\u4e2a\u89e3\u6cd5\u4e0d\u662f\u6cdb\u5316\u80cc\u5305\u95ee\u9898\uff0c\u6bd4\u8f83tricky\uff0c\u4f46\u53ef\u4ee5\u89e3\u51b3\u4e00\u5c42\u7684\u4f9d\u8d56\u95ee\u9898\uff0c\u6027\u80fd\u6bd4\u4e0a\u8ff0\u7684\u5f3a\n```cpp\nvoid dfs(int id, int m)\n{\n    for (int i = items[id].c; i; i = items[i].n)\n    {\n        // for ( int j = 0; j <= m - items[i].w; ++j )\n        // {\n        // \tdp[i][j] = dp[id][j];//\u4e3a\u6240\u6709\u5b50\u6811\u7684\u6839\u8282\u70b9\u8d4b\u4e88\u521d\u503c\n        // }\n        memcpy(dp[i], dp[id], 4 * max(0, m - items[i].w + 1));\n        dfs(i, m - items[id].w);\n        for (int j = m; j >= items[i].w; --j)\n        {\n            dp[id][j] = max(dp[id][j], dp[i][j - items[i].w] + items[i].v);\n        }\n    }\n\n\n}\n```",
        "postTime": 1536508940,
        "uid": 61724,
        "name": "\u90b1\u6c5f\u5764",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "# \u6700\u901a\u4fd7\u6613\u61c2\u7684\u6811\u5f62\u4f9d\u8d56\u80cc\u5305\uff08\u4e3b\u9644\u4ef6\u80cc\u5305\uff09\u7684\u9898\u89e3\n___\n- \u524d\u7f6e\u59ff\u52bf\uff1a\u6811\u7684\u540e\u5e8f\u904d\u5386\n- \u53c2\u8003\u4fe1\u606f\uff1a[\u6811\u5f62\u4f9d\u8d56\u80cc\u5305\u7684\u4f18\u5316\u65b9\u6cd5](https://www.cnblogs.com/ezyzy/p/8505528.html)\n___\n\n\u6811\u5f62\u4f9d\u8d56\u80cc\u5305\u95ee\u9898\n\n\u6bcf\u4e2a\u70b9\u6709\u4e2a\u6743\u503c\u548c\u4f53\u79ef\uff0c\u5982\u679c\u9009\u4e86\u67d0\u4e2a\u70b9\u90a3\u4e48\u5b83\u7684\u7236\u4eb2\u4e5f\u5fc5\u987b\u9009\uff0c\u95ee\u4f53\u79ef\u548c<=m\u7684\u6700\u5927\u6743\u503c\u548c\u3002\n\n\u80bf\u4e48\u529e\uff1f\n- \u679a\u4e3e\u6bcf\u9897\u5b50\u6811\u7684\u9009\u53d6\u65b9\u5f0f\uff0c\u66b4\u529b\u641e\u4e0d\u597d\u90fd\u80fd\u5199\u9519\uff08WTF)\n- \u7528\u6cdb\u5316\u7269\u54c1\u7684\u548c\uff0c$O(n*m^2)$\u89e3\u51b3\uff08emmm!@#!!$!#\uff09\n- \u7528\u6cdb\u5316\u7269\u54c1\u7684\u5e76\uff0c$O(n*m)$\u89e3\u51b3\uff08\u5df2\u7ecf\u4e0d\u662f\u6b63\u5e38\u4eba\u80fd\u7406\u89e3\u7684\u4e86\uff09\n- \u7528\u540e\u5e8f\u904d\u5386\u5316\u4e3a\u5e8f\u5217\u4e0a\u80cc\u5305 \u2714\n\n\u6211\u4eec\u8003\u8651\u6c42\u51fa\u6811\u7684\u540e\u5e8f\u904d\u5386\uff0c\u90a3\u4e48\u5bf9\u4e8ei\u8fd9\u68f5\u5b50\u6811\uff0c\u5b83\u5728\u540e\u5e8f\u904d\u5386\u4e0a\u662f\u8fde\u7eed\u4e00\u6bb5\uff0c\u5e76\u4e14i\u5728\u6700\u540e\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u786e\u4fdd\u8f6c\u79fb\u65f6\u9700\u8981\u7684\u72b6\u6001\u5df2\u7ecf\u8ba1\u7b97\u5b8c\u6bd5\u3002\n\n\u8003\u8651i\u9009\u8fd8\u662f\u4e0d\u9009\uff0c\u5982\u679c\u9009\u7684\u8bddf\\[i\\]\u53ef\u4ee5\u4ecef\\[i\u22121\\]\u8f6c\u79fb\u8fc7\u6765\uff0c\u5426\u5219\u76f4\u63a5\u4ecef\\[i\u2212size\\[i]]copy\u8fc7\u6765\u3002\n\n\u9700\u8981\u6ce8\u610f\u4e00\u4e9b\u7ec6\u8282\uff0c\u8be6\u89c1\u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<vector>\n#include<algorithm>\nusing namespace std;\ntemplate<typename T> inline void read(T& t)\n{\n    t=0; int ch,f=false;\n    while(ch=getchar(),!((ch>='0'&&ch<='9')||ch=='-'));\n    if(ch=='-') f=true,ch=getchar();\n    t=ch^48;\n    while(ch=getchar(),ch>='0'&&ch<='9') t=t*10+(ch^48);\n    if(f) t=-t;\n}\ntemplate<typename T,typename... Args> inline void read(T& t,Args&... args) { read(t); read(args...); }\nconst int maxn=65;\nconst int maxm=32005;\nint f[maxn][maxm];\nvector<int> son[maxn];\nint V[maxn],W[maxn];\nint n,m,v,p,q;\nint sz[maxn],suf[maxn],cnt;\nvoid dfs(int u)\n{\n\tsz[u]=1;\n\tfor(int i=0;i<son[u].size();i++) { dfs(son[u][i]); sz[u]+=sz[son[u][i]]; }\n\tsuf[++cnt]=u;\n}\nint main()\n{\n#ifdef local\n\tfreopen(\"pro.in\",\"r\",stdin);\n#endif\n\tread(m,n);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tread(v,p,q);\n\t\tV[i]=v*p; W[i]=v; son[q].push_back(i);\n\t}\n\tdfs(0);\n\tfor(int i=1;i<=cnt;i++)\n\t{\n\t\tint now=suf[i];\n\t\tfor(int j=m;j>=0;j--)\n\t\t\tif(j>=W[now]) f[i][j]=max(f[i-sz[now]][j],f[i-1][j-W[now]]+V[now]);\n\t\t\telse f[i][j]=f[i-sz[now]][j];\n\t}\n\tprintf(\"%d\\n\",f[cnt][m]);//\u6ce8\u610f\u5e94\u8be5\u8f93\u51fa\u865a\u62df\u8282\u70b9\n\treturn 0;\n}\n```",
        "postTime": 1535088677,
        "uid": 87248,
        "name": "happyZYM",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u672c\u9898\u4e2d\uff0c\u91d1\u660e\u53ef\u4ee5\u9009\u62e9\u4e3b\u4ef6\u548c\u9644\u4ef6\uff0c\u662f\u4e00\u4e2a\u5178\u578b\u7684\u4f9d\u8d56\u80cc\u5305\r\n\r\n\u770b\u5230\u522b\u4eba\u5199\u7684\u5927\u591a\u6570\u662f\u679a\u4e3e\u56db\u79cd\u60c5\u51b5\uff0c\u6211\u5c31\u6765\u5199\u4e00\u4e2a\u80cc\u5305\u4e5d\u8bb2P07\u7684\u65b9\u6cd5\r\n\r\n```cpp\r\n#define \u91cd\u91cf \u4ef7\u683c\r\n#define \u4ef7\u503c \u91cd\u8981\u5ea6*\u4ef7\u683c\r\n```\r\n------------\r\n\r\n\u56e0\u4e3a\u672c\u9898\u4e2d\u4e0d\u5b58\u5728\u4f9d\u8d56\u591a\u4e2a\u7269\u54c1\u6216\u8005\u4e00\u4e2a\u9644\u4ef6\u4f9d\u8d56\u53e6\u4e00\u4e2a\u9644\u4ef6\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5c06\u4e3b\u4ef6\u53ca\u5176\u9644\u4ef6\u770b\u6210\u4e00\u4e2a\u7ec4\u5408\uff0c\u5c31\u8f6c\u5316\u6210\u4e86P06\u7684\u7ec4\u5408\u80cc\u5305\u3002\r\n\r\n\u5f53\u7136\uff0c\u6709\u4e00\u4e2a\u4e00\u5b9a\u8981\u9009\u4e3b\u4ef6\u7684\u9650\u5236\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u6240\u6709\u9009\u62e9\u9644\u4ef6\u7684\u60c5\u51b5\r\n\r\n### \u4f8b\u5982\u6211\u4eec\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u679a\u4e3e\r\n\t\t0.\u4ec0\u4e48\u90fd\u4e0d\u9009\uff08\u4e3b\u4ef6\u4e5f\u4e0d\u9009\uff09\r\n\r\n\t\t1.\u4e0d\u9009\u62e9\u9644\u4ef6\r\n\r\n\t\t2.\u9009\u62e9\u7b2c\u4e00\u4e2a\u9644\u4ef6\r\n\r\n\t\t3.\u9009\u62e9\u7b2c\u4e8c\u4e2a\u9644\u4ef6\r\n    \r\n    \t4.\u9009\u62e9\u7b2c\u4e00\u4e2a\u9644\u4ef6\u548c\u7b2c\u4e8c\u4e2a\u9644\u4ef6\r\n------------\r\n\r\n\u4f46\u662f\uff0c\u8fd9\u6837\u7684\u65b9\u6cd5\u5176\u5b9e\u6709\u4e9b\u4f4e\u6548\uff08\u4e8b\u5b9e\u4e0a\uff0c\u8bbe\u6709n\u4e2a\u9644\u4ef6\uff0c\u5219\u7b56\u7565\u67092^n+1\u4e2a\uff0c\u4e3a\u6307\u6570\u7ea7\u3002\uff09\r\n\uff08\u672c\u9898\u5176\u5b9e\u6ca1\u5173\u7cfb\uff09\r\n\r\n\u90a3\u4e48\u5982\u679c\u6709\u5f88\u591a\u5f88\u591a\u7684\u9644\u4ef6\u6211\u4eec\u5e94\u8be5\u600e\u4e48\u529e\u5462\uff1f\r\n\r\n\u8fd9\u65f6\u6211\u4eec\u60f3\u5230\uff0c\u53ef\u4ee5\u5148\u628a\u8fd9\u4e2a\u7ec4\u5408\u91cc\u7684\u9644\u4ef6\u5148\u901a\u8fc701\u80cc\u5305\uff0c\u5c06\u4e0d\u540c\u7a7a\u95f4\u4e0b\u7684\u6700\u5927\u4ef7\u503c\u6c42\u51fa\u6765\uff0c\u7136\u540e\u5c06\u8fd9\u4e2a\u7a7a\u95f4\u548c\u5176\u6700\u5927\u4ef7\u503c\u770b\u6210\u4e00\u4e2a\u65b0\u7684\u9644\u4ef6\r\n\r\n\u4f8b\u5982\u6211\u4eec\u53ef\u80fd\u6c42\u51fa\r\n\t\t\r\n        \u91cd\u91cf\t0\t1\t2\t3\t4\r\n\t\t\u4ef7\u503c\t0\t4\t5\t5\t7\r\n\r\n\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u628a\u5b83\u4eec\u770b\u6210\u662f\u4e94\u4e2a\u65b0\u7684\u7269\u54c1\uff08\u91cd\u91cf\uff0c\u4ef7\u503c\uff09\r\n\t\t\r\n        \uff080,0\uff09\uff0c\uff081,4\uff09\uff0c\uff082,5\uff09\uff0c\uff083,5\uff09\uff0c\uff084,7\uff09\r\n\r\n\u8fd9\u6837\u6bcf\u4e2a\u518d\u52a0\u4e0a\u4e3b\u4ef6\u7684\u91cd\u91cf\u548c\u4ef7\u503c\u505a\u4e00\u4e0b\u7ec4\u5408\u80cc\u5305\u5c31\u884c\u4e86\u3002\r\n\r\n\u4e0d\u8fc7\uff0c\u7ec6\u5fc3\u7684\u540c\u5b66\u53ef\u80fd\u4f1a\u53d1\u73b0\uff0c\uff082,5\uff09\u548c\uff083,5\uff09\u7684\u4ef7\u503c\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u91cd\u91cf\u4e0a\u6709\u533a\u522b\u3002\u52a8\u6001\u89c4\u5212\u4e2d\uff0c\u6211\u4eec\u4e00\u76f4\u5728\u8ffd\u6c42\u6700\u4f73\u7684\u9009\u62e9\uff0c\u90a3\u4e48\u5728\u540c\u7b49\u4ef7\u503c\u7684\u60c5\u51b5\u4e0b\uff0c\u91cd\u91cf\u66f4\u5c0f\u7684\u80af\u5b9a\u662f\u5360\u636e\u4f18\u52bf\u7684\u3002\r\n\r\n### **~~\uff08\u5982\u679c\u4e00\u4e2a\u7269\u54c1\u6bd4\u4f60\u8f7b\u8fd8\u6bd4\u4f60\u66f4\u6709\u4ef7\u503c\uff0c\u90a3\u4f60\u5c31\u6253\u4e0d\u8fc7\u5b83\u4e86\uff09~~**\r\n\r\n\r\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u518d\u5220\u53bb\uff083,5\uff09\u8fd9\u4e2a\u7269\u54c1\uff0c\u8fd9\u5176\u5b9e\u5bf9\u5e94\u4e86P02\u4e2d\u201c\u4e00\u4e2a\u7b80\u5355\u6709\u6548\u7684\u4f18\u5316\u201d\r\n\r\n\u56e0\u6b64\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5199\u51fa\u4ee5\u4e0b\u7684\u4ee3\u7801\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\r\nusing namespace std;\r\n\r\nint n,m,x;\r\nint w[61],v[61],dp[32003];\r\nint group1[61][61],g1[61],g2[61];\r\npair<int,int> group2[61][32003];\r\n\r\nint main()\r\n{\r\n    std::ios::sync_with_stdio(false);\r\n    cin>>m>>n;\r\n    for(int i=1;i<=n;++i)//\u8bfb\u5165 \r\n    {\r\n        cin>>w[i]>>v[i]>>x;\r\n        v[i]*=w[i];//\u7b97\u51fa\u4ef7\u503c\r\n        if(!x) group1[i][0]=i; //\u5b58\u4e3b\u4ef6\r\n        else group1[x][++g1[x]]=i;//\u5b58\u9644\u4ef6\r\n    }\r\n    for(int i=1;i<=n;++i)//01\u80cc\u5305&\u4f18\u5316 \r\n    {\r\n        if(group1[i][0]==0) continue;//\u4e0d\u662f\u4e3b\u4ef6\u8df3\u51fa\r\n        memset(dp,0,sizeof(dp));     //\u6e05\u7a7adp\u6570\u7ec4 \r\n        for(int j=1;j<=g1[i];++j) \r\n            for(int k=m-w[i];k>=w[group1[i][j]];--k) \r\n                dp[k]=max(dp[k],dp[k-w[group1[i][j]]]+v[group1[i][j]]);//\u9644\u4ef601\u80cc\u5305\r\n        for(int j=0;j<=m-w[i];++j)\r\n            if(dp[j]>dp[j-1])//01\u80cc\u5305\u4e2d\uff0c\u540e\u4e00\u4e2a\u7a7a\u95f4\u7684\u6700\u5927\u4ef7\u503c\u80af\u5b9a\u2265\u524d\u4e00\u4e2a\u7a7a\u95f4\u7684\u6700\u5927\u4ef7\u503c\r\n            {\r\n                group2[i][++g2[i]].first+=j+w[i];\r\n                group2[i][g2[i]].second+=dp[j]+v[i];//\u5728group2\u4e2d\u5b58\u6570\u636e\uff1b \r\n            }\r\n        group2[i][0].first+=w[i];\r\n        group2[i][0].second+=v[i];//\u56e0\u4e3a0\u7a7a\u95f4\u65f6\u4e3b\u4ef6\u7684\u6570\u636e\u5728\u524d\u9762\u88ab\u5ffd\u7565\u6389\u4e86\uff0c\u6240\u4ee5\u73b0\u5728\u6211\u4eec\u8981\u52a0\u56de\u6765\r\n    }\r\n    memset(dp,0,sizeof(dp));\r\n    for(int k=1;k<=n;++k)//\u5206\u7ec4\u80cc\u5305 \r\n    {\r\n        if(group2[k][0].first==0) continue;//\u4e0d\u662f\u4e3b\u4ef6\u8df3\u51fa\r\n        for(int j=m;j>=group2[k][0].first;--j)\r\n            for(int i=0;i<=g2[k];++i)\r\n                if(j>=group2[k][i].first) \r\n                    dp[j]=max(dp[j],dp[j-group2[k][i].first]+group2[k][i].second); \r\n    } \r\n    cout<<dp[m];\r\n    return 0;\r\n}\r\n```",
        "postTime": 1526053383,
        "uid": 53164,
        "name": "WorldBest\u4e36\u725b\u987f",
        "ccfLevel": 3,
        "title": "P1064"
    },
    {
        "content": "\u6211\u5f88\u83dc\uff0c\u5199\u5b8c\u8fd9\u9898\u5174\u594b\u4e0d\u5df2\uff0c\u5728\u540c\u5b66\u7684\u9f13\u821e\u4e0b\uff0c\u6253\u7b97\u5199\u4e00\u7bc7\u9898\u89e3\u3002\n\n\u8fd9\u9898\u548cP1060\u3010\u5f00\u5fc3\u7684\u91d1\u660e\u3011\u5dee\u4e0d\u591a\uff0c\u5c31\u662f\u8981\u5904\u7406\u4e00\u4e0b\u4e3b\u4ef6\u548c\u9644\u4ef6\u7684\u95ee\u9898\uff0cdalao\u7684\u9898\u89e3tql\uff0c\u6211\u8bf4\u4e00\u4e0b\u6211\u7684\u849f\u84bb\u89e3\u6cd5\uff08\u53ef\u80fd\u5dee\u4e0d\u591a\uff09\u3002\n\n\u8fd9\u9898\uff0c\u5047\u5982\u6309\u7167\u6b63\u5e38\u80cc\u5305\u5199\uff0c\u95ee\u9898\u5728\u4e8e\u5982\u4f55\u5224\u65ad\u8fd9\u4e2a\u9644\u4ef6\u7684\u4e3b\u4ef6\u662f\u5426\u5df2\u88ab\u8d2d\u4e70\u3002\u56e0\u4e3a\u6211\u4e0d\u4f1a\u5224\u65ad\uff0c\u6240\u4ee5\u6211\u5c31\u60f3\u5230\u4e86\u53e6\u4e00\u79cd\u89e3\u6cd5\u3002\n\n\u5047\u5982\u6211\u53ea\u8003\u8651\u4e3b\u4ef6\uff0c\u7136\u540e\u628a\u9644\u4ef6\u548c\u4e3b\u4ef6\u7ed1\u5728\u4e00\u8d77\u5f53\u6210\u4e00\u4e2a\u7269\u54c1\u3002\n\n ~~\u770b\u5230\u8fd9\uff0c\u53ef\u4ee5\u5148\u601d\u8003\u4e00\u4e0b\u4e86\u3002~~\n\n\u4e0a\u8ff0\u601d\u8def\uff1a\u4e00\u4e2a\u4e3b\u4ef6\u6709n\u4e2a\u4e3b\u4ef6\uff0c\u90a3\u4e48\uff0c\u5219\u628a\u8fd91+n\u4e2a\u7269\u54c1\u6574\u7406\u6210\u4e00\u4e2a\u4e3b\u4ef6\uff0c\u4e00\u4e2a\u4e3b\u4ef6\u52a0\u4e00\u4e2a\u9644\u4ef6...\u4e00\u4e2a\u4e3b\u4ef6\u52a0n\u4e2a\u9644\u4ef6\u53bb\u505a\u80cc\u5305\u3002**\u4f46\u662f**\uff0c\u8fd9\u6709\u95ee\u9898\u3002\n\n~~\u518d\u601d\u8003\u4e0b\uff0c\u628a\u95ee\u9898\u627e\u51fa\u6765\uff0c\u518d\u81ea\u5df1\u505a\u4e0b\u9898\u3002~~\n\n\u7ee7\u7eed\u3002\u8fd9\u6574\u7406\u8fc7\u540e\u76841+n\u4e2a\u7269\u54c1\uff0c\u610f\u5473\u7740\u6bcf\u4e2a\u7269\u54c1\u6211\u90fd\u53ef\u4ee5\u4e70\uff0c\u90a3\u4e48\u5c31\u4f1a\u51fa\u73b0\u4e3b\u4ef6\u88ab\u91cd\u590d\u9009\u62e9\u7684\u60c5\u51b5\uff0c\u90a3\u4e48\u8be5\u600e\u4e48\u5904\u7406\uff1f\u89c2\u5bdf\u9898\u9762\uff0c\u53d1\u73b0\u9898\u76ee\u7ed9\u4e86\u61d2\u4eba\uff08\u6bd4\u5982\u6211\uff09\u4e00\u79cd\u7b28\u5904\u7406\u65b9\u6cd5\u3002\n\n\u9898\u76ee\u4e2d\u5199\u9053\uff0c\u6bcf\u4e2a\u4e3b\u4ef6\u81f3\u591a\u53ea\u67092\u4e2a\u9644\u4ef6\u3002\u90a3\u4e48\uff0c\u6211\u4eec\u4e0d\u96be\u60f3\u5230\uff0c01\u80cc\u5305\u5916\u5c42\u5faa\u73af\u5faa\u73af\u4e3b\u4ef6\uff0c\u5185\u5c42\u8fd8\u662f\u5faa\u73af\u4f53\u79ef\uff0c\u53ea\u662f\u52a0\u4e00\u4e0b\u7279\u5224\uff1a\u5047\u5982\u6211\u53ef\u4ee5\u4e70\u8fd9\u4e2a\u4e3b\u4ef6\u4ee5\u53ca\u5b83\u76842\u4e2a\u9644\u4ef6;\u5047\u5982\u6211\u53ef\u4ee5\u4e70\u8fd9\u4e2a\u4e3b\u4ef6\u7684\u7b2c\u4e00\u4e2a\u9644\u4ef6\uff1b\u5047\u5982\u6211\u53ef\u4ee5\u4e70\u8fd9\u4e2a\u4e3b\u4ef6\u7684\u7b2c\u4e8c\u4e2a\u9644\u4ef6\uff1b\u5047\u5982\u6211\u53ea\u80fd\u4e70\u8fd9\u4e2a\u4e3b\u4ef6\u56db\u79cd\u60c5\u51b5\u3002\n\n\u601d\u8003\u5b8c\u6bd5\uff0c\u4e0a\u4ee3\u7801\u3002\n\n```c\n#include<bits/stdc++.h>\nusing namespace std;\n//\u5feb\u8bfb\u5feb\u8f93\u5927\u5bb6\u81ea\u5df1\u6253\u55bd^_^ \nstruct act{\n\tint v,w;\n}a[65],an[65][65];\nint m,n;\nint f[50005],p[65];\nint main(){\n\tread(m),read(n);\n\tfor(int j=1;j<=n;j++){\n\t\tint v,w,ma;\n\t\tread(v),read(w),read(ma),w*=v;\n\t\tif(ma){//\u5982\u679c\u4e0d\u662f\u4e3b\u4ef6\uff0c\u5c31\u52a0\u5728\u5b83\u4e3b\u4ef6\u7684\u9644\u4ef6\u4e2d\uff1b \n\t\t\tp[ma]++;\n\t\t\tan[ma][p[ma]].v=v;\n\t\t\tan[ma][p[ma]].w=w;\n\t\t}\n\t\telse a[j].v=v,a[j].w=w;\n\t}\n\tfor(int k=1;k<=n;k++){\n\t\tif(!a[k].v) continue;//\u8fd9\u8fb9\u6211\u5904\u7406\u7684\u4e0d\u548b\u5730\uff0c\u5927\u5bb6\u5c06\u5c31\u770b\uff1b \n\t\tfor(int j=m;j>=a[k].v;j--){//\u56db\u79cd\u60c5\u51b5\uff1b \n\t\t\tif(j>=a[k].v+an[k][1].v+an[k][2].v) \n\t\t\t\tf[j]=max(f[j],f[j-a[k].v-an[k][1].v-an[k][2].v]+a[k].w+an[k][1].w+an[k][2].w); \n\t\t\tif(j>=a[k].v+an[k][1].v) \n\t\t\t\tf[j]=max(f[j],f[j-a[k].v-an[k][1].v]+a[k].w+an[k][1].w);\t\n\t\t\tif(j>=a[k].v+an[k][2].v) \n\t\t\t\tf[j]=max(f[j],f[j-a[k].v-an[k][2].v]+a[k].w+an[k][2].w);\n\t\t\tf[j]=max(f[j],f[j-a[k].v]+a[k].w);\n\t\t}\n\t}\t\n\tput(f[m]);\n}\n```\n",
        "postTime": 1568786042,
        "uid": 209944,
        "name": "\u541b\u7398",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u8fd9\u9898\u663e\u800c\u6613\u89c1\u662f01\u80cc\u5305\u95ee\u9898\uff0c\u4f46\u662f\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u9636\u6bb5\uff0c\u53ef\u4f9b\u9009\u62e9\u7684\u51b3\u7b56\u660e\u663e\u589e\u591a\u3002\n\n\u6839\u636e\u9898\u76ee\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4e3b\u4ef6\uff0c\u6700\u591a\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u6240\u4ee5\u53ef\u4ee5\u505a\u51fa\u7684\u51b3\u7b56\u6709\uff1a\n\n1\u3001\u4ec5\u9009\u62e9\u8be5\u4e3b\u4ef6\n\n2\u3001\u9009\u62e9\u8be5\u4e3b\u4ef6+\u9644\u4ef61\n\n3\u3001\u9009\u62e9\u8be5\u4e3b\u4ef6+\u9644\u4ef62\n\n4\u3001\u9009\u62e9\u8be5\u4e3b\u4ef6+\u9644\u4ef61+\u9644\u4ef62\n\n5\u3001\u5747\u4e0d\u9009\n\n\u7a0b\u5e8f\u8bbe\u8ba1\u65b9\u6cd5\uff1a\n\n\u8bbedp[j]\u8868\u793a\u5728\u91d1\u660e\u62e5\u6709j\u5143\u65f6\uff0c\u83b7\u5f97\u7684\u6700\u5927\u4ef7\u503c\uff0cv[i]\u8868\u793a\u7b2ci\u4ef6\u7269\u54c1\u7684\u7684\u4ef7\u683c\uff0cw[i]\u8868\u793a\u4e70\u4e0b\u7b2ci\u4ef6\u7269\u54c1\u53ef\u83b7\u5f97\u7684\u4ef7\u503c\uff08\u9884\u5148\u5904\u7406\uff09\uff0cth[i][j]\u8868\u793a\u7b2ci\u4e2a\u7269\u54c1\u7684\u7b2cj\u4e2a\u9644\u4ef6\u7684\u5e8f\u53f7 \n\n\u8fdb\u884c\u4e24\u5c42\u5faa\u73af\uff0c\u7b2c\u4e00\u5c42\u679a\u4e3e\u7269\u54c1\uff08\u5faa\u73af\u53d8\u91cf\u4e3ai\uff09\uff0c\u4ece1~m\uff0c\u5bf9\u4e8e\u7b2ci\u4ef6\uff0c\u5982\u679c\u5b83\u662f\u4e3b\u4ef6\uff0c\u8003\u8651\u8981\u4e0d\u8981\u9009\u5b83\uff1b\u7b2c\u4e8c\u5c42\u679a\u4e3e\u94b1\u6570\uff08\u5faa\u73af\u53d8\u91cf\u4e3aj\uff09\uff0c\u4ecem~1\uff0c\u8868\u793a\u91d1\u660e\u62e5\u6709j\u5143\u3002\n\n\u901a\u8fc7\u6eda\u52a8\u6570\u7ec4\u7684\u5904\u7406\uff0c\u53ef\u4ee5\u77e5\u9053\u5728\u8ba1\u7b97dp[j]\u65f6\uff0cdp\u6570\u7ec4\u5728j\u4ee5\u524d\u7684\u6570\u636e\u5168\u662f\uff08i-1\uff09\u9636\u6bb5\u7684\uff0c\u4e0d\u5f71\u54cd\u5224\u65ad\u3002\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a\uff1a\n\ndp[j]=max(dp[j],dp[j-v[i]]+w[i]);//\u51b3\u7b561\n\ndp[j]=max(dp[j],dp[j-v[i]-v[th[i][1]]]+w[i]+w[th[i][1]]);//\u51b3\u7b562\n\ndp[j]=max(dp[j],dp[j-v[i]-v[th[i][2]]]+w[i]+w[th[i][2]]);//\u51b3\u7b563\n\ndp[j]=max(dp[j],dp[j-v[i]-v[th[i][1]]-v[th[i][2]]]+w[i]+w[th[i][1]]+w[th[i][2]]);//\u51b3\u7b564\n\n\u5728\u5faa\u73af\u4e2d\uff0c\u5bf9\u4e8e\u4e3b\u4ef6i\uff0c\u987a\u5e8f\u6267\u884c\u8fd94\u4e2a\u6b65\u9aa4\uff0c\u5224\u65ad\u73b0\u5728\u7684j\uff08\u94b1\u6570\uff09\u80fd\u5426\u652f\u4ed8\u8be5\u51b3\u7b56\uff0c\u5982\u679c\u53ef\u4ee5\uff0c\u5224\u65ad\u91c7\u7528\u8be5\u51b3\u7b56\u540e\u53ef\u83b7\u5f97\u7684\u4ef7\u503c\u662f\u5426\u5927\u4e8e\u73b0\u5728\u7684\u6700\u5927\u4ef7\u503c\uff08dp[j]\uff09\uff0c\u5982\u679c\u5927\u4e8e\uff0c\u66f4\u65b0dp[j].\n\uff08\u5373\u4f7f\u8be5\u4e3b\u4ef6\u6ca1\u6709\u9644\u4ef6\uff0c\u56e0\u4e3a\u6570\u7ec4\u7684\u503c\u9ed8\u8ba4\u4e3a0\uff0c\u4e0d\u5f71\u54cd\u5224\u65ad\uff09\uff08\u5728\u91c7\u7528\u51b3\u7b561~4\u90fd\u6ca1\u6709\u66f4\u65b0dp[j]\u65f6\uff0c\u5373\u4e3a\u91c7\u7528\u51b3\u7b565\uff09\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<cstring>\nusing namespace std;\nint dp[32005];\nint th[65][5];//th[i][j]\u8868\u793a\u7b2ci\u4e2a\u7269\u54c1\u7684\u7b2cj\u4e2a\u9644\u4ef6\u7684\u5e8f\u53f7 \nint v[65],w[65];//v\uff1a\u4ef7\u683c   w:\u4ef7\u503c \nint t[65];//th\u6570\u7ec4\u7684\u6307\u9488\uff0c\u521d\u59cb\u4e3a0 \nint fj[65];//\u8bb0\u5f55\u662f\u5426\u4e3a\u9644\u4ef6 \nint n,m;//n\uff1a\u94b1   m\uff1a\u7269\u54c1\u4e2a\u6570 \nint x;\nint main()\n{\n\tmemset(dp,0,sizeof(dp));//\u521d\u59cb\u5316 \n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tscanf(\"%d%d%d\",&v[i],&w[i],&x);//\u8f93\u5165 \n\t\tw[i]*=v[i];//\u9884\u5904\u7406\uff0c\u8ba1\u7b97\u7269\u54c1i\u7684\u4ef7\u503c \n\t\tif(x!=0)//\u662f\u9644\u4ef6 \n\t\t{\n\t\t\tt[x]++;//x\u662f\u8be5\u9644\u4ef6\u7684\u4e3b\u4ef6\u7684\u5e8f\u53f7\uff0c\u6307\u9488\u81ea\u589e1 \n\t\t\tth[x][t[x]]=i;//\u8bb0\u5f55i\u662fx\u7684\u9644\u4ef6 \n\t\t\tfj[i]=-1;//\u6807\u8bb0i\u662f\u9644\u4ef6 \n\t\t}\n\t} \n\tfor(int i=1;i<=m;i++)\n\t\tfor(int j=n;j>=1;j--)//\u52a8\u89c4 \n\t\t{\n\t\t\tif(fj[i]!=-1)//\u4e3b\u4ef6 \n\t\t\t{\n\t\t\t\tif(j>=v[i])dp[j]=max(dp[j],dp[j-v[i]]+w[i]);//\u51b3\u7b561 \n\t\t\t\tif(j>=v[i]+v[th[i][1]])dp[j]=max(dp[j],dp[j-v[i]-v[th[i][1]]]+w[i]+w[th[i][1]]);//\u51b3\u7b562 \n\t\t\t\tif(j>=v[i]+v[th[i][2]])dp[j]=max(dp[j],dp[j-v[i]-v[th[i][2]]]+w[i]+w[th[i][2]]);//\u51b3\u7b563 \n\t\t\t\tif(j>=v[i]+v[th[i][1]]+v[th[i][2]])dp[j]=max(dp[j],dp[j-v[i]-v[th[i][1]]-v[th[i][2]]]+w[i]+w[th[i][1]]+w[th[i][2]]); //\u51b3\u7b564 \n\t\t\t\t/*\u8fd9\u51e0\u884c\u7684\u89e3\u91ca\u8be6\u89c1\u4e0a\u6587*/ \n\t\t\t}\n\t\t}\n\tprintf(\"%d\",dp[n]);//dp[n]\u5373\u4e3a\u7b54\u6848 \n\treturn 0;\n}\n```",
        "postTime": 1530973677,
        "uid": 29913,
        "name": "RetroDnix",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\n\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <vector>\nusing namespace std;\nlong long  n,m,tmp=0,v,p,q,x;\nlong long f[65][3205],a[65][3],jz[65][3],o[65];\nint main(){\n    cin>>n>>m;\n    n=n/10;\n    for(int i=1;i<=m;i++){\n        cin>>v>>p>>q;\n        v=v/10;\n        if(q==0){\n            tmp+=1;\n            a[tmp][0]=v;\n            jz[tmp][0]=v*p;\n            o[i]=tmp;\n        }\n        else{\n            if(a[o[q]][1]){\n                a[o[q]][2]=v;\n                jz[o[q]][2]=v*p;\n            }\n            else{\n                a[o[q]][1]=v;\n                jz[o[q]][1]=v*p;\n            }\n        }\n    }\n    for(int i=1;i<=tmp;i++){\n        for(int j=1;j<=n;j++){\n            if((j-a[i][0])>=0){\n                f[i][j]=max(f[i-1][j],f[i-1][j-a[i][0]]+jz[i][0]);\n            } \n            else{\n                f[i][j]=f[i-1][j];continue;\n            } \n            if((j-a[i][0]-a[i][1])>=0) f[i][j]=max(f[i][j],f[i-1][j-a[i][0]-a[i][1]]+jz[i][0]+jz[i][1]);\n            if((j-a[i][0]-a[i][2])>=0) f[i][j]=max(f[i][j],f[i-1][j-a[i][0]-a[i][2]]+jz[i][0]+jz[i][2]);\n            if((j-a[i][0]-a[i][1]-a[i][2])>=0) f[i][j]=max(f[i][j],f[i-1][j-a[i][0]-a[i][1]-a[i][2]]+jz[i][0]+jz[i][1]+jz[i][2]);\n        }\n    }\n    cout<<f[tmp][n]*10;\n}\n```\n\u5927\u6982\u5c31\u662f \u5206\u6210\u4e94\u79cd\u60c5\u51b5\n\u4e3b\u4ef6\u9644\u4ef6\u90fd\u4e0d\u4e70 \u53ea\u4e70\u4e3b\u4ef6 \u4e70\u4e3b\u4ef6\u548c\u9644\u4ef61 \u4e70\u4e3b\u4ef6\u548c\u9644\u4ef62 \u4e70\u4e3b\u4ef6\u548c\u9644\u4ef61\u548c\u9644\u4ef62\n\n\u8fd8\u6709 \u5b58\u6570\u636e\u8981\u6ce8\u610f\uff01\uff01\uff01\uff01\uff01\uff01\uff08\u4e4b\u524d\u6ca1\u6709AC\u5c31\u662f\u5b58\u6570\u636e\u7684\u65f6\u5019GG\u4e86\uff09\n",
        "postTime": 1506433231,
        "uid": 42796,
        "name": "Arthur_L",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u601d\u8def: \u52a8\u89c4\u9898\u6ca1\u6bdb\u75c5, \u628a\u82e5\u5e72\u5b58\u5728\u9644\u5c5e\u5173\u7cfb\u7684\u7269\u54c1\u770b\u505a\u662f\u4e00\u4ef6\u7269\u54c1, \u6bcf\u4ef6\u7269\u54c1\u4e2d\u6709\u56db\u79cd\u7ec4\u5408\u65b9\u5f0f\u53ef\u9009, \u5bf9\u6bcf\u4e00\u4ef6\u7269\u54c1\u5728\u6bcf\u4e00\u4e2a\u5269\u4f59\u94b1\u6570\u8fdb\u884c\u72b6\u6001\u8f6c\u79fb\u65f6\u90fd\u5bfb\u627e\u4e00\u904d\u6700\u4f18\u7ec4\u5408... \u6211\u592a\u84bb\u4e86\u6240\u4ee5\u53ef\u80fd\u6ca1\u8bf4\u660e\u767d, \u770b\u4e00\u4e0b\u4ee3\u7801\u5427\n\n```c\n#include <stdio.h>\n#include <stdlib.h>\n\nstruct item {\n    int cost;\n    int value;\n};\n\nstruct item goods[62][7];\n/*\n    good[i][0].cost \u4ee3\u8868\u7b2c i \u4e2a\u9644\u5c5e\u5173\u7cfb\u5df2\u7ecf\u6709\u4e86\u591a\u5c11\u79cd\u7269\u54c1\n    good[i][1] ~ good[i][3] \u4ee3\u8868\u6bcf\u79cd\u7269\u54c1\u7684\u4ef7\u683c\u548c\u6743\u503c\n    good[i][4] ~ good[i][7] \u4ee3\u8868\u56db\u79cd\u7ec4\u5408\u7684\u4ef7\u683c\u548c\u6743\u503c\n*/\nint dp[3202];\nint i, j, k, l, ma;\nint n, m;\nint v, w, q;\n\nint main(void)\n{\n    scanf(\"%i %i\", &n, &m);\n    n /= 10;\n    for (i = 1; i <= m; i++)\n    {\n        scanf(\"%i %i %i\", &v, &w, &q);\n        if (q)\n            k = q;\n        else\n            k = i;\n        \n        l = ++goods[k][0].cost;\n        goods[k][l].cost = v / 10;    // \u4ef7\u683c\u662f 10 \u7684\u6574\u6570\u500d\u6240\u4ee5\u4f18\u5316\u5e38\u6570\n        goods[k][l].value = v * w;\n    }\n    for (i = 1; i <= m; i++)\n    {\n        // \u4f53\u73b0\u6211\u849f\u84bb\u5c5e\u6027\u7684\u4ee3\u7801, \u5982\u679c\u6ca1\u9650\u5236\u6700\u591a 2 \u4e2a\u9644\u5c5e\u54c1\u6211\u5c31\u5e9f\u4e86\n        goods[i][4].cost = goods[i][1].cost;\n        goods[i][4].value = goods[i][1].value;\n        goods[i][5].cost = goods[i][1].cost + goods[i][2].cost;\n        goods[i][5].value = goods[i][1].value + goods[i][2].value;\n        goods[i][6].cost = goods[i][1].cost + goods[i][2].cost;\n        goods[i][6].value = goods[i][1].value + goods[i][2].value;\n        goods[i][7].cost = goods[i][1].cost + goods[i][2].cost + goods[i][3].cost;\n        goods[i][7].value = goods[i][1].value + goods[i][2].value + goods[i][3].value;\n    }\n    \n    for (i = 1; i <= m; i++)\n        for (k = 0; k <= n; k++)\n        {\n            // \u4ee5\u4e0b\u548c\u5f00\u5fc3\u7684\u91d1\u660e\u4e0d\u4e00\u6837\n            ma = 0;    // max \u7684\u7b80\u5199\n            for (l = 4; l <= 7; l++)    // \u5bf9\u4e8e\u56db\u79cd\u7ec4\u5408\u7684\u5224\u65ad\n            {\n                if (k + goods[i][l].cost > n)    // \u5982\u679c\u5f53\u524d\u7ec4\u5408\u82b1\u8d39\u7684\u94b1\u5927\u4e8e\u5269\u4f59\u94b1\u6570\u5c31\u8df3\u8fc7\n                    continue;\n                if (ma < dp[k + goods[i][l].cost] + goods[i][l].value)\n                    ma = dp[k + goods[i][l].cost] + goods[i][l].value;    // \u66f4\u65b0\u6700\u5927\u6743\u503c\n            }\n            // \u4ee5\u4e0a\u548c\u5f00\u5fc3\u7684\u91d1\u660e\u4e0d\u4e00\u6837\n            if (dp[k] < ma)\n                dp[k] = ma;\n        }\n    \n    l = 0;\n    for (i = 0; i <= n; i++)\n        if (dp[i] > l)\n            l = dp[i];\n    \n    printf(\"%i\\n\", l);\n    \n    return 0;\n}\n```",
        "postTime": 1506241801,
        "uid": 48672,
        "name": "leylee",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "//\u8fd9\u9898\u662f\u5206\u7ec4\u80cc\u5305\uff0c\u4f46\u662f\u7531\u4e8e\u9644\u4ef6\u5f88\u5c11\uff0c\u6240\u4ee5\u53ef\u4ee5\u4e71\u641e\u3002\u3002\n\n//\u53ef\u4ee5\u770b\u51fa\u9644\u4ef6\u4e0e\u4e3b\u4ef6\u5b58\u5728\u4ece\u5c5e\u5173\u7cfb\uff0c\u90a3\u4e48\u53ef\u4ee5\u5728\u9644\u4ef6\u65f6\u76f4\u63a5\u8df3\u8fc7\uff0c\u5728\u4e3b\u4ef6\u65f6\u8fdb\u884c\u53d6\u6216\u8005\u4e0d\u53d6\u67d0\u4e2a\u9644\u4ef6\u7684\u9009\u62e9\u3002\n\n//\u7528sub\u6570\u7ec4\u5b58\u50a8\u9644\u4ef6\uff0csub[i][k]\u8868\u793a\u7b2ci\u4e2a\u7269\u54c1\u7684\u7b2ck\u4e2a\u9644\u4ef6\u7684\u7f16\u53f7\uff1bf\u6570\u7ec4\u5373dp\u3002\n\n//\u56db\u4e2a\u5206\u652f\u624b\u52a8\u679a\u4e3e\u4ee3\u7801\u8fc7\u957f\uff0c\u76f4\u63a5dfs\u5728\u6b64\u9898\u4e2d\u5dee\u522b\u4e0d\u5927\u3002\u3002\n\n\n\n```cpp\n//\u6700\u7ec8\u65f6\u95f4\u590d\u6742\u5ea6\u4e3aO\uff08n*m*4\uff09\nvar\n  m,n,i,j:longint;\n  sub:array[0..61,0..61]of longint;\n  f:array[0..61,0..32001]of longint;\n  price,level,q:array[0..61]of longint;\nfunction max(x,y:longint):longint;\nbegin\n  if x>y then exit(x);\n  exit(y);\nend;\nprocedure dfs(k,s,get:longint);//k\u8868\u793a\u7b2ck\u4e2a\u9644\u4ef6\uff0cs\u8868\u793a\u7ec4\u5185\u9009\u53d6\u7684\u4ee3\u4ef7\uff0cget\u8868\u793a\u7ec4\u5185\u9009\u53d6\u540e\u5f97\u5230\u7684\u6548\u76ca\nbegin\n  if k=sub[i][0]+1 then\n  begin\n    if j-s>=0 then f[i][j]:=max(f[i][j],f[i-1][j-s]+get);\n    exit;\n  end;\n  dfs(k+1,s,get);//\u8be5\u9644\u4ef6\u4e0d\u53d6\n  dfs(k+1,s+price[sub[i][k]],get+price[sub[i][k]]*level[sub[i][k]]); //\u8be5\u9644\u4ef6\u53d6\nend;\nbegin\n  readln(m,n);\n  for i:=1 to n do\n  begin\n    read(price[i],level[i],q[i]);\n    if q[i]>0 then\n    begin\n      inc(sub[q[i]][0]);//sub[q[i]][0]\u5b58\u50a8q[i]\u7684\u9644\u4ef6\u6570\u91cf\n      sub[q[i]][sub[q[i]][0]]:=i;\n    end;\n  end;\n  for i:=1 to n do //01\u80cc\u5305\n    for j:=1 to m do\n    begin\n      f[i][j]:=f[i-1][j];\n      if q[i]=0 then dfs(1,price[i],price[i]*level[i]); //dfs\u5224\u65ad\u6bcf\u4e2a\u9644\u4ef6\u662f\u5426\u9009\u53d6\n    end;\n  writeln(f[n][m]);\nend.\n\n```",
        "postTime": 1506141883,
        "uid": 47611,
        "name": "\u4e0a\u5929\u53f0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u8be5\u9898\u53ef\u4ee5\u53d8\u6210\u5206\u7ec4\u80cc\u5305\u95ee\u9898....\n\n\u6bcf\u7ec4\u4e2d\u7684\u7269\u54c1\u4e92\u76f8\u51b2\u7a81\uff0c\u53ea\u53ef\u4ee5\u53d6\u4e00\u79cd\u3002\n\n\u8fd9\u6837\u7684\u8bdd\uff0c\u9996\u5148\u679a\u4e3e\u8be5\u7ec4\u53d6\u4e0d\u53d6\uff0c\u7136\u540e\u518d\u5206\u522b\u679a\u4e3e\u8fd9\u7ec4\u4e2d\u7684\u6bcf\u4e00\u4e2a\u7269\u54c1\uff0c\u53d6\u4e2a\u6700\u5927\u503c\u3002\n\n\u6bcf\u4e2a\u4e3b\u4ef6\u6700\u591a\u4f1a\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u6211\u4eec\u4ee4\u5176\u5206\u522b\u4e3aa,b,c\u3002\n\n\u82e5b\u4e0d\u4e3a\u7a7a\uff0c\u5219\u8fd9\u4e00\u7ec4\u4f1a\u6709\u4e24\u4e2a\u7269\u54c1\uff0ca\u548ca+b\n\n\u82e5c\u4e5f\u4e0d\u4e3a\u7a7a\uff0c\u5219\u8fd9\u4e00\u7ec4\u4f1a\u6709\u56db\u4e2a\u7269\u54c1\uff0ca,a+b,a+c,a+b+c\n\n\u6211\u4eec\u4e8b\u5148\u8bfb\u5165a,b,c\uff0c\u7136\u540e\u518d\u5bf9\u5176\u8fdb\u884c\u5904\u7406\u5c06\u5b83\u53d8\u6210\u4e00\u7ec4\u591a\u4e2a\u7269\u54c1\u3002\n\n\n**\u9898\u76ee\u63cf\u8ff0\u4e2d\u7684\u9644\u4ef6\u6240\u5c5e\u662f\u521d\u59cb\u8f93\u5165\u987a\u5e8f\u7684\u7b2cn\u4e2a\u7269\u54c1\uff0c\u5e76\u975e\u662f\u4e3b\u4ef6\u4e2d\u7684\u7b2cn\u4e2a\u7269\u54c1\uff0c\u8fd9\u70b9\u7ec6\u8282\u8fd8\u8bf7\u6ce8\u610f**\n\n\n\u72b6\u6001\uff1adp[i][j] \u524di\u7ec4\u5269\u5bb9\u91cfj\n\ndp[i][j]=max ( dp[ i-1 ][ j ] , dp[ i-1 ] [ j-g[i].V[k] ] + g[ i ] . W[ k ] )\n\ng[i].V\u548cg[i].W\u5c31\u662f\u8fd9\u4e00\u7ec4\u4e2d\u7684\u7269\u54c1\u7684\u5927\u5c0f\u548c\u4ef7\u503c\u7684\u6570\u7ec4\u3002\u5176\u5b9e\u591a\u91cd\u80cc\u5305\u300101\u80cc\u5305\u3001\u5206\u7ec4\u80cc\u5305\u90fd\u8fd8\u662f\u5f88\u50cf\u7684\u3002\n\n\n\u4ee3\u7801\u5b9e\u73b0\u548c\u7ec6\u8282\u8bf7\u89c1\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=70;\nstruct Group{\n    vector<int> t; //\u7ec4\u4e2d\u7269\u54c1\u5927\u5c0f \n    vector<int> w; //\u7269\u54c1\u4ef7\u503c \n}g[N]; //\u7269\u54c1\u7ec4 \nint gp=1; //\u7ec4\u6307\u9488 \nint dp[N][3210]; //dp\u65b9\u7a0b \nint idx[N]; //\u7b2ci\u4e2a\u4e3b\u4ef6\u5c5e\u4e8e\u7b2c\u51e0\u4e2a\u7269\u54c1\u7ec4 \n\nint main(){\n    int n,m;\n    scanf(\"%d%d\",&n,&m);\n    n/=10; //\u56e0\u4e3a\u662f10\u7684\u6574\u6570\u500d\uff0c\u6574\u9664\u8282\u7701\u7a7a\u95f4 \n    int a,b,c;\n    for(int i=1;i<=m;i++){\n        scanf(\"%d%d%d\",&a,&b,&c);\n        a/=10; //\u4e0d\u8981\u5fd8 \n        if(!c)g[gp].t.push_back(a),g[gp].w.push_back(a*b),idx[i]=gp,gp++; //\u5982\u679c\u662f\u4e3b\u4ef6\uff0c\u65b0\u5efa\u7269\u54c1\u7ec4\uff0c\u5e76\u7d22\u5f15 \n        else g[idx[c]].t.push_back(a),g[idx[c]].w.push_back(a*b); //\u5982\u679c\u662f\u9644\u4ef6\uff0c\u627e\u5230\u6240\u5c5e\u4e3b\u4ef6\u7684\u7269\u54c1\u7ec4\uff0c\u5e76\u52a0\u5165 \n    }\n    /*\u5904\u7406\u7269\u54c1\u7ec4*/ \n    for(int i=1;i<gp;i++){\n        int len=g[i].t.size();\n        if(len>=2)g[i].t[1]+=g[i].t[0] , g[i].w[1]+=g[i].w[0]; //\u5982\u679c\u81f3\u5c11\u6709\u4e24\u4e2a\u7269\u54c1 \n        if(len==3){\n            g[i].t[2]+=g[i].t[0] , g[i].w[2]+=g[i].w[0]; //\u5982\u679c\u6709\u4e09\u4e2a\u7269\u54c1 \n            g[i].t.push_back(g[i].t[1]+g[i].t[2]-g[i].t[0]);\n            g[i].w.push_back(g[i].w[1]+g[i].w[2]-g[i].w[0]); //\u4e0d\u8981\u5fd8\u4e86\u5904\u7406\u7b2c\u56db\u79cd(a+b+c)\u60c5\u51b5 \n        }\n    }\n    int ans=0;\n    for(int i=1;i<gp;i++){\n        for(int j=0;j<=n;j++){\n            dp[i][j]=dp[i-1][j];\n            for(int k=0;k<g[i].t.size();k++){\n                if(j>=g[i].t[k])\n                    dp[i][j]=max(dp[i][j],dp[i-1][j-g[i].t[k]]+g[i].w[k]);\n            }//\u679a\u4e3e\u7269\u54c1\u7ec4\u4e2d\u7684\u7269\u54c1 \n            if(i==gp-1)ans=max(ans,dp[i][j]);\n        }\n    }\n    cout<<ans*10;//\u7b54\u6848\u8bb0\u5f97*10 \n    return 0;\n}\n```",
        "postTime": 1504060873,
        "uid": 5554,
        "name": "Sino_E",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "###pascal\u7684\u4ee3\u7801\u5c11\u600e\u4e48\u53ef\u4ee5\u5462\n\n\u8fd9\u79cd\u80cc\u5305\u95ee\u9898\u7684\u7269\u54c1\u95f4\u5b58\u5728\u67d0\u79cd\u201c\u4f9d\u8d56\u201d\u7684\u5173\u7cfb\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c**i**\u4f9d\u8d56\u4e8e**j**\uff0c\u8868\u793a\u82e5\u9009\u7269\u54c1**i**\uff0c\u5219\u5fc5\u987b\u9009\u7269\u54c1**j**\u3002\u5728\u6b64\u9898\u4e2d\uff0c\u6ca1\u6709\u67d0\u4e2a\u7269\u54c1\u65e2\u4f9d\u8d56\u4e8e\u522b\u7684\u7269\u54c1\uff0c\u53c8\u88ab\u522b\u7684\u7269\u54c1\u6240\u4f9d\u8d56\uff1b\u53e6\u5916\uff0c\u6ca1\u6709\u67d0\u4ef6\u7269\u54c1\u540c\u65f6\u4f9d\u8d56\u591a\u4ef6\u7269\u54c1\u3002\u5bf9\u4e8e\u6b64\u9898\uff0c\u6bcf\u4e00\u4e2a\u4e3b\u4ef6\u6700\u591a\u67094\u79cd\u9009\u62e9\u65b9\u6848\uff1a\u53ea\u9009\u62e9\u4e3b\u4ef6\uff0c\u9009\u62e9\u4e3b\u4ef6\u548c\u9644\u4ef61\uff0c\u9009\u62e9\u4e3b\u4ef6\u548c\u9644\u4ef62\uff0c\u9009\u62e9\u4e3b\u4ef6\u548c\u9644\u4ef61\u30012\uff0c\u7136\u540e\u8f6c\u5316\u4e3a01\u80cc\u5305\u8fdb\u884c\u6c42\u89e3\u3002\uff08\u63a8\u8350\u5148\u53bb\u7ec3\u4e60\u4e00\u4e0b**\u91c7\u836f**\u8fd9\u7c7b01\u80cc\u5305\u7684\u9898\u76ee\u3002\n\n\u4e0b\u9644\u4ee3\u7801\uff1a\n\n```pascal\nvar\n  n,p,s,i,j,k,l,r,c,t,ans:longint;\n  w,v,f,b:array[-100000..1000000] of longint;\n\nprocedure qsort(l,r:longint);\n  var\n    i,j,x,pa,pb:longint;\n  begin\n    i:=l;\n    j:=r;\n    x:=random(j-i+1)+i;\n    pa:=w[x];\n    pb:=v[x];\n    repeat\n      while (w[i]<pa) or (w[i]=pa) and (v[i]>pb) do inc(i);\n      while (w[j]>pa) or (w[j]=pa) and (v[j]<pb) do dec(j);\n      if i<=j\n        then\n          begin\n            w[0]:=w[i];\n            w[i]:=w[j];\n            w[j]:=w[0];\n            v[0]:=v[i];\n            v[i]:=v[j];\n            v[j]:=v[0];\n            inc(i);\n            dec(j);\n          end;\n    until i>j;\n    if i<r then qsort(i,r);\n    if j>l then qsort(l,j);\n  end;\n\nfunction max(x,y:longint):longint;\n  begin\n    if x>y then exit(x);\n    exit(y);\n  end;\n\nfunction dp(x:longint):boolean;\n  var\n    i,j:longint;\n  begin\n    fillchar(f,sizeof(f),0);\n    for i:=1 to n do\n      begin\n        if w[i]>x then continue;\n        for j:=s downto w[i] do\n          f[j]:=max(f[j],f[j-w[i]]+v[i]);\n      end;\n    if f[s]>=p then exit(true);\n    exit(false);\n  end;\n\nbegin\n  randomize;\n  readln(n,p,s);\n  r:=-maxlongint;\n  for i:=1 to n do\n    begin\n      readln(w[i],v[i]);\n    end;\n  c:=0;\n  t:=1;\n  for i:=1 to n do\n    if w[i]>w[i-1]\n      then\n        begin\n          b[t]:=i-1;\n          inc(t);\n        end;\n  b[t]:=n;\n  t:=0;\n  l:=1;\n  r:=s+1;\n  while l<r do\n    begin\n      c:=(l+r) div 2;\n      if dp(c)\n        then\n          begin\n            r:=c;\n            ans:=c;\n          end\n        else\n          l:=c+1;\n    end;\n  if ans=0\n    then\n      writeln('No Solution!')\n    else\n      writeln(ans);\nend.\n```",
        "postTime": 1502173240,
        "uid": 21994,
        "name": "The_Oldest_Person",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "#\u5e26\u6709\u5148\u51b3\u6761\u4ef6\u7684\u80cc\u5305\u95ee\u9898\n\n\u554a\u554a\u554a\u8fd9\u4e2a\u9898\u3002\u3002\u3002\u4ea4\u4e865\u6b21\u7ec8\u4e8e\u8fc7\u4e86\u554a\u554a\u554a\u554aqwq\u3002\u3002\u3002\n\n\u8fd9\u4e2a\u9898\u4e3b\u8981\u662f**\u5e26\u6709\u5148\u51b3\u6761\u4ef6\u7684\u80cc\u5305\u95ee\u9898**\u3002\n\n##\u3010\u603b\u4f53\u601d\u8def\u3011\u8bf4\u8bf4\u601d\u8def\n\n**\u5148\u628a\u5907\u9009\u7269\u54c1\u4e2d\u6240\u6709\u7684\u5e26\u6709\u5148\u51b3\u6761\u4ef6\u7684\u7269\u54c1\u8fdb\u884c\u7ec4\u5408\uff0c\u7ec4\u5408\u6210\u4e0d\u540c\u7684\u8d2d\u4e70\u65b9\u5f0f\uff0c\u5e76\u628a\u6bcf\u4e00\u79cd\u8d2d\u4e70\u65b9\u5f0f\u5355\u72ec\u89c6\u4e3a\u4e00\u4ef6\u5546\u54c1\u3002\n\n\u6bd4\u5982\u5728\u6837\u4f8b\u4e2d\uff1a\u53ef\u4ee5\u9009\u62e9\uff1a\u4e701\u3001\u4e701,2\u3001\u4e701,3\u3001\u4e701,2,3\u8fd9\u4e09\u79cd\u9009\u62e9\u3002\u8fd9\u56db\u79cd\u9009\u62e9\u7ec4\u6210\u4e00\u4e2a\u96c6\u5408\uff0c\u8ba9\u8fd9\u56db\u4ef6\u5546\u54c1\u5728\u81ea\u5df1\u7684\u7ec4\u4e2d\u8fdb\u884cdp\uff0c\u51b3\u7b56\u51fa\u5728\u6bcf\u79cd\u72b6\u6001\u4e0b\u6700\u5927\u7684\u503c\uff0c\u7136\u540e\u518d\u8fd4\u56de\u539f\u6765\u7684dp\u6570\u7ec4\u8fdb\u884c\u6bd4\u8f83\u3001\u53d6\u6700\u503c\u3002**\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u65e0\u803b\u306e\u5206\u5272\u7ebf\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n##\u3010\u4ee3\u7801\u8bb2\u89e3\u3011\u8fd8\u662f\u5148\u8bf4\u4e00\u4e0b\u6211\u7684\u5927\u4f53\u4ee3\u7801\u601d\u8def\u3002\n\n- \u9996\u5148\uff0c\u8bfb\u5165\u6570\u636e\u3002\u5728\u8bfb\u5165\u6570\u636e\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u6570\u636e\u5b58\u50a8\u5728\u4e00\u4e2a\u94fe\u8868\u4e2d\u3002\u5bf9\u4e8e\u6ca1\u6709\u5148\u51b3\u6761\u4ef6\u7684\u7269\u54c1\uff0c\u5355\u72ec\u7ed9\u4e88\u4e00\u4e2a\u7ec4\u3002\u5bf9\u4e8e\u6709\u5148\u51b3\u6761\u4ef6\u7684\u7269\u54c1\uff0c\u5c06\u5b83\u8fde\u63a5\u5728\u5176\u5148\u51b3\u6761\u4ef6\u7684\u94fe\u8868\u6240\u5728\u7ec4\u4e2d\u3002\u5e76\u4e14\u5728\u8fd9\u4e2a\u7ec4\u91cc\u5148\u524d\u6709\u7684\u5143\u7d20\u4e2d\u5168\u90e8\u518d\u6dfb\u52a0\u4e00\u79cd\u60c5\u51b5\uff0c\u5c31\u662f\u6709\u8fd9\u4e2a\u65b0\u5143\u7d20\u7684\u60c5\u51b5\u3002\uff08\u56e0\u4e3a\u5728\u52a0\u5165\u8fd9\u4e2a\u5143\u7d20\u4e4b\u524d\uff0c\u7ec4\u5185\u7684\u5143\u7d20\u90fd\u4e0d\u5305\u542b\u8fd9\u4e2a\u65b0\u7684\u5143\u7d20\u3002\u56e0\u6b64\u6269\u5927\u8fd9\u4e2a\u7ec4\uff0c\u751f\u6210\u201c\u6709\u8fd9\u4e2a\u65b0\u5143\u7d20\u201d\u548c\u201c\u6ca1\u6709\u8fd9\u4e2a\u65b0\u5143\u7d20\u201d\u7684\u4e24\u79cd\u60c5\u51b5\u3002\uff09\n\n- \u7136\u540e\u76f4\u63a5\u5f00\u59cbdp\u3002\u8bbe\u7f6edp\u4e3a\u4e3b\u8981\u7684dp\u6570\u7ec4\uff0ctdp\u4e3atemp\\_dp\u7ec4\u5185\u4f7f\u7528\u7684dp\u6570\u7ec4\u3002\u5728\u7ec4\u5185\u8fdb\u884c\u9009\u62e9\u65f6\uff0c\u53ea\u9700\u8981\u6309\u7167\u987a\u5e8f\u8bfb\u53d6\u94fe\u8868\u4e2d\u5b58\u50a8\u7684\u5185\u5bb9\u5373\u53ef\u3002\u94fe\u8868\u4e2d\u5b58\u50a8\u7684\u60c5\u51b5\u5168\u90e8\u62ff\u51fa\u53c2\u4e0e\u6bd4\u8f83\uff0c\u6ce8\u610f\u5e76\u4e0d\u50cf\u5916\u9762\u7684\u4e3bdp\u4e00\u6837\uff0c\u8fd9\u91cc\u7684\u7ec4\u5185\u9009\u4e3e\u5177\u6709**\u552f\u4e00\u6027**\uff0c\u5373\u7ec4\u5185\u7684\u6570\u636e\u53ea\u80fd\u6709\u4e00\u79cd\u5b58\u5728\u3002\n\n- \u7ec4\u5185dp\u5b8c\u6210\u540e\uff0ctdp\u6570\u7ec4\u4e2d\u5b58\u5728\u7684\u5185\u5bb9\u5c31\u662f\u7ec4\u5185\u6700\u4f18\u89e3\u3002\u4e0e\u4e3bdp\u6570\u7ec4\u53d6\u6700\u5927\u503c\u3002\n\n- \u5f53\u7136\uff0c\u5373\u4fbf\u662f\u4e00\u4e2a\u7269\u54c1\u6ca1\u6709\u9644\u5c5e\u7269\u54c1\u4e5f\u6ca1\u6709\u5173\u7cfb\uff0c\u56e0\u4e3a\u90a3\u6837\u5bf9\u5e94\u7ec4\u4e2d\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\uff0c\u5373\u5b83\u672c\u8eab\u3002\u56e0\u6b64\u4f1a\u6b63\u5e38\u8fdb\u884c\u51b3\u7b56\u3002\n\n- \u5b8c\u6210\u540e\uff0cdp\u6570\u7ec4\u5185\u5b58\u50a8\u7684dp[m]\u5c31\u662f\u6700\u4f18\u89e3\u3002\n\n- \u5982\u679c\u6709\u4eba\u95ee\u4e3a\u4ec0\u4e48dp\u6570\u7ec4\u662f\u4e00\u7ef4\u800c\u4e0d\u662f\u4e8c\u7ef4\u3002\u3002\u3002\u8fd9\u662f\u4e00\u79cd\u80cc\u5305\u95ee\u9898\u7684**\u7a7a\u95f4\u590d\u6742\u5ea6\u538b\u7f29**\u3002\u8fd9\u79cd\u538b\u7f29\u4e0d\u6539\u53d8\u7ed3\u679c\u548c\u65f6\u95f4\u590d\u6742\u5ea6\uff0c\u800c\u4e14\u4f7f\u7528\u65b9\u4fbf\u3002\n\n\u4e0d\u538b\u7f29\u7a7a\u95f4\u590d\u6742\u5ea6\u7684dp\u4f2a\u4ee3\u7801\uff1a\n\n```cpp\nfor(int i=2;i<=n;i++)\n{\nfor(int j=price[i];j<=m;j++)\n{\ndp[i][j]=max(dp[i-1][j],dp[i-1][j-price[i]]++value[i]);\n}\n}\n```\n\u538b\u7f29\u7a7a\u95f4\u590d\u6742\u5ea6\u7684dp\u4f2a\u4ee3\u7801\uff1a\n\n```cpp\nfor(int i=2;i<=n;i++)\n{\nfor(int j=m;j>=price[i];j--)\n{\ndp[j]=max(dp[j],dp[j-price[i]]+value[i]);\n}\n}\n```\n\u597d\u4e86\u3002\u3002\u3002\u8bb2\u8fd9\u4e48\u591a\uff0c\u4e0b\u9762\u653e\u4ee3\u7801\u3002\n\n\u6709\u8bf7\u4ee3\u7801\u541b\u3002\u3002\u3002\u556a\u556a\u556a\u556a\u556a\u556a\u556a\u9f13\uff08da\uff09\u638c\uff08lian\uff09\u3002\u3002\u3002\u3002\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u65e0\u803b\u306e\u5206\u5272\u7ebf\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\n\nstruct base{int n,m,wm,next;};//\u5b58\u653e\u7ec4\u7684\u7ed3\u6784\u4f53\nbase group[65];//\u7ec4\nint head[65],n,m,mlin=0;//head\uff1a\u6bcf\u4e2a\u7269\u4ef6\u5bf9\u5e94\u7684\u5143\u7d20\u5728\u94fe\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u3002\u5982\u679c\u5143\u7d20\u662f\u6709\u5148\u51b3\u6761\u4ef6\u7684\u5143\u7d20\uff0c\u5219\u6ca1\u6709\u72ec\u7acb\u7ec4\u3002mlin\uff1a\u6307\u5411\u94fe\u8868\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002\nint dp[32005],tdp[32005]; //dp\u6570\u7ec4\u3002\n\nint main()\n{\n    scanf(\"%d%d\",&m,&n);\n    for(int i=1;i<=n;i++)\n    {\n        int m,p,q;\n        scanf(\"%d%d%d\",&m,&p,&q);\n        if(q==0)//\u8868\u660e\u8be5\u7269\u54c1\u6ca1\u6709\u5148\u51b3\u6761\u4ef6\uff0c\u76f4\u63a5\u8fde\u4e0a\u4e00\u4e2a\u65b0\u7684\u7ec4\u3002\n        {\n            mlin++;\n            group[mlin]=(base){i,m,p*m,head[i]};\n            head[i]=mlin;\n        }\n        else//\u6709\u5148\u51b3\u6761\u4ef6\uff0c\u6dfb\u52a0\u7ec4\u5408\u65b9\u5f0f\u3002\n        {\n            for(int j=head[q];j>0;j=group[j].next)\n            {\n                mlin++;\n                group[mlin]=(base){i,m+group[j].m,p*m+group[j].wm,head[q]};\n                head[q]=mlin;\n            }\n        }\n    }\n    for(int i=1;i<=n;i++)//\u4e3bdp stand by\u3002\u3002\u3002\n    {\n        for(int j=head[i];j>0;j=group[j].next)//\u5728\u7ec4\u5185\u7684dp\n        {\n            int mm=group[j].m;\n            int wm=group[j].wm;\n            for(int k=m;k>=mm;k--)//\u7ec4\u91cc\u7684dp\n            {\n                tdp[k]=max(max(tdp[k],dp[k]),wm+dp[k-mm]);\n            }\n        }\n        for(int k=m;k>=1;k--)//\u6267\u884c\u5b8c\u7ec4\u5185\u7684dp\uff0c\u7136\u540e\u4e0e\u4e3bdp\u6570\u7ec4\u53d6\u6700\u5927\u503c\u3002\n        {\n            dp[k]=max(dp[k],tdp[k]);\n            tdp[k]=0;\n        }\n    }\n    printf(\"%d\",dp[m]);\n    return 0;\n}\n```\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u65e0\u803b\u306e\u5206\u5272\u7ebf\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n\u540e\u8bb0\uff1a\u7ec8\u4e8e\u5199\u5b8c\u4e86\uff0c\u611f\u89c9\u8fd9\u9053\u9898\u4ee4\u6211\u5f88\u6709\u6536\u83b7\uff0c\u6bd5\u7adfwa\u4e865\u6b21\u5462\u3002\u3002\u3002qwq\u3002\u3002\u3002\n",
        "postTime": 1478848417,
        "uid": 19027,
        "name": "rentenglong",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u611f\u89c9\u697c\u4e0b\u7684DP\u65b9\u7a0b\u6ca1\u4eba\u4f1a\u770b\uff0c\u8bb0\u5f55\u91cc\u90fd\u662f\u5927\u7801\u91cf\uff0c\u51b3\u5b9a\u53d1\u4e2a\u9898\u89e3\uff0c\u5206\u7ec4\u80cc\u5305\u89e3\u51b3\u4f9d\u8d56\u80cc\u5305\u95ee\u9898\uff0c\u56e0\u4e3a\u9644\u4ef6\u5c11\u76f4\u63a5\u4e8c\u8fdb\u5236\u679a\u4e3e\u3002\n\n```delphi\nvar\ni,j,t,k,x,ww,vv,n,cap:longint;\nw,v,f:array[0..100010] of longint;\na:array[0..1000,0..10] of longint;\nboo:array[0..100010] of boolean;\n\nfunction max(x,y:longint):longint;\nbegin\n    if x>y then exit(x);exit(y);\nend;\n\nbegin\n    readln(cap,n);\n    for i:=1 to n do\n    begin\n        readln(w[i],v[i],x);\n        v[i]:=v[i]*w[i];\n        if x=0 then continue;\n        boo[i]:=true;\n        inc(a[x,0]);a[x,a[x,0]]:=i;\n    end;\n    \n    for i:=1 to n do\n    if not boo[i] then\n    for j:=cap downto w[i] do\n    begin\n        for k:=0 to 1<<a[i,0]-1 do\n        begin\n            ww:=0;vv:=0;\n            for t:=1 to a[i,0] do\n            if (k>>(t-1))and 1=1 then \n            begin inc(ww,w[a[i,t]]);inc(vv,v[a[i,t]]);end;\n            if j>=ww+w[i] then f[j]:=max(f[j],f[j-ww-w[i]]+vv+v[i]);\n        end;\n    end;\n    writeln(f[cap]);\nend.\n```\uff08pascal\uff09\n",
        "postTime": 1444437958,
        "uid": 9725,
        "name": "setio",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "## \u601d\u8def\u662f\u628a\u6240\u6709\u7684\u5546\u54c1\u5206\u7ec4. \n\n\u9898\u76ee\u5199\u5230:\n\n_\u6bcf\u4e2a\u4e3b\u4ef6\u53ef\u4ee5\u67090\u4e2a\u30011\u4e2a\u62162\u4e2a\u9644\u4ef6\u3002\u9644\u4ef6\u4e0d\u518d\u6709\u4ece\u5c5e\u4e8e\u81ea\u5df1\u7684\u9644\u4ef6\u3002_ \n\n\u8fd9\u662f\u4e00\u4e2a\u6bd4\u8f83\u7b80\u5355\u7684\u60c5\u51b5\u4e86. \n\n\u5b9e\u9645\u4e0a, \u5982\u679c\u628a\u6240\u6709\u7684\u4e3b\u4ef6\u90fd\u62ff\u51fa\u6765\u5206\u7ec4, \n\n\u90a3\u4e48\u5bf9\u4e8e\u6bcf\u4e00\u7ec4 , \u53ef\u4ee5\u8d2d\u4e70\u7684\u7ec4\u5408\u662f\u8fd9\u6837\u7684:\n\nA:(B,C) => (A , A+B , A+C , A+B+C)\n\nD:(E) => (D , D+E)\n\nF => F\n\n\u4e0a\u9762\u7684\u4f8b\u5b50, \u628aA-F 6\u79cd\u5546\u54c1\u7684\u4e3b\u526f\u5173\u7cfb, \u548c\u6bcf\u4e00\u7ec4\u80fd\u8d2d\u4e70\u7684\u7ec4\u5408\u5199\u51fa\u6765\u4e86. \n\n\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u628a\u4e0a\u9762 3 \u4e2a\u5b50\u96c6\u5408, \u518d\u751f\u6210\u4e00\u4e2a\u5927\u7684\u96c6\u5408\u5c31\u641e\u5b9a\u5566.\n\n\n### \u4ee5\u4e0b\u7684\u505a\u6cd5\u5199\u5f97\u901a\u7528\u4e00\u70b9\n\n**\u5141\u8bb8\u6709\u4efb\u610f\u4e2a\u9644\u4ef6, \u5141\u8bb8\u9644\u4ef6\u6709\u9644\u4ef6...**\n\n\n```cpp\n\n#include <unordered_map>\n#include <vector>\n#include <algorithm>\n#include <iostream>\nusing namespace std;\n\nint MONEY;\n\nvector<std::pair<const int, int>> inserts;\t//\u4e58\u6cd5\u5f97\u5230\u7684\u5e8f\u5217, \u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u4e0d\u9012\u5f52. \n\nstruct nodeitem\n{\n\tint money;\n\tint weight;\n\tvector<nodeitem*> subitems;\t//\u5f53\u524d\u662f\u4e3b\u4ef6, subitems\u5c31\u662f\u4e0b\u4e00\u7ea7\u7684\u9644\u4ef6\u5217\u8868\n\n\tunordered_map<int, int> submap;\t//unordered_map, \u8fd9\u4e00\u9898\u5408\u5e76\u5b50\u96c6, \u65e0\u9700\u6392\u5e8f\n\n\tvoid calc_subset()\n\t{\n\t\tif (money > MONEY)return;\t//\u53ef\u80fd\u5b58\u5728\u7684\u526a\u679d?\n\n\t\tsubmap[money] = weight;\t//\u5728\u5f53\u524d\u6811\u4e2d, \u4e3b\u4ef6\u662f\u5fc5\u987b\u8981\u4e70\u7684.\n\n\t\tfor (nodeitem* pitem : subitems)\n\t\t{\n\t\t\tpitem->calc_subset();\t//\u9012\u5f52\n\n\t\t\tinserts.clear();\t//\u6e05\u7a7a\n\n\t\t\t//\u5408\u5e76\u5355\u7236\u591a\u5b50\u96c6\u5408 , \u4e3b\u8981\u662f\u6ce8\u610f\u6bcf\u4e00\u4e2a\u5b50\u7684\u5143\u7d20\u4e0d\u80fd\u91cd\u590d\u4f7f\u7528, \u5148\u4e58\u6cd5\u751f\u6210\u5e8f\u5217:\n\t\t\tfor (auto& itempair : pitem->submap)\n\t\t\t{\n\t\t\t\tfor (auto& subpair : submap)\n\t\t\t\t{\n\t\t\t\t\tint newmoney = itempair.first + subpair.first;\n\t\t\t\t\tif (newmoney > MONEY)\t//\u526a\u679d\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tinserts.push_back({ newmoney,itempair.second + subpair.second });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (auto& insertpair : inserts)\t//\u7136\u540e\u518d\u628a\u5e8f\u5217\u5408\u5e76\u5230submap\u4e0a\u53bb:\n\t\t\t{\n\t\t\t\tauto it = submap.find(insertpair.first);\n\t\t\t\tif (it != submap.end())\t//\u5fc5\u987b\u5bfb\u627e\u548c\u5224\u65ad\u5927\u5c0f\n\t\t\t\t{\n\t\t\t\t\tif (insertpair.second > it->second)\n\t\t\t\t\t\tit->second = insertpair.second;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tsubmap.insert(it, insertpair);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t}\n\t}\n};\n\nnodeitem nodes[62];\n\n\nint readnum()\n{\n\tint v = 0, s = 1, cc = getchar();\n\twhile (cc < 48) { if (cc == '-')s = -s; cc = getchar(); }\n\twhile (cc >= 48) { v = v * 10 + cc - 48; cc = getchar(); }\n\treturn v * s;\n}\n\n\nvoid program()\n{\n\tMONEY = readnum();\n\tint GOODS = readnum();\n\n\tfor (int i = 1; i <= GOODS; i++)\t//\u8bfb\u53d6\u6570\u636e, [1,...,GOODS]\n\t{\n\t\tint m = readnum();\n\t\tnodes[i].money = m;\n\t\tnodes[i].weight = m * readnum();\n\t\t\n\t\tint p = readnum();//p\u4e3a0\u65f6, nodes[0]\u4e3a\u6240\u6709\u7684root\n\n\t\t//\u751f\u6210\u6811\u5f62\u7684\u7236\u5b50\u5173\u7cfb , \u5176\u4e2d nodes[0] \u867d\u7136\u6ca1\u6709money/weight, \u4f46\u662f\u6240\u6709\u5546\u54c1\u7684\u6839\u8282\u70b9\n\t\tnodes[p].subitems.push_back(&nodes[i]);\n\t}\n\n\tnodes[0].calc_subset();\t//\u9012\u5f52\u8ba1\u7b97\u6240\u6709\u7684\u4ef7\u683c\u7ec4\u5408\n\n\tint maxv = 0;\t//\u6c42\u6700\u5927\u503c\n\tfor (auto& p : nodes[0].submap)\n\t\tmaxv = std::max(maxv, p.second);\n\t\n\n\tcout << maxv << endl;\n\n}\n\n\nint main()\n{\n\tprogram();\n\n\treturn 0;\n}\n\n```\n",
        "postTime": 1568682189,
        "uid": 234252,
        "name": "ZHDX",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u672c\u849f\u84bb\u7b2c\u4e00\u9053\u7eff\u9898...\n\n\u6700\u591a\u67092\u4e2a\u9644\u52a0\u7269\u54c1\uff0c\u6240\u4ee5\u53ef\u4ee5\u5199\u51fa4\u4e2a\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n\n\u7b2c\u4e00\u4e2a\u662f\u6709\u5173\u53d6\u4e0d\u53d6\u4e3b\u4ef6 \u7b2c\u4e8c\u4e2a\u6709\u5173\u53d6\u4e0d\u53d6\u7b2c\u4e00\u4e2a\u9644\u4ef6 \u7b2c\u4e09\u4e2a\u6709\u5173\u53d6\u4e0d\u53d6 \u7b2c\u56db\u4e2a\u6709\u5173\u53d6\u4e0d\u53d6\u7b2c\u4e00\u548c\u4e8c\u4e2a\u9644\u4ef6\n\n\u7528temp\u4fdd\u5b58\u4e0d\u53d6\u4e3b\u4ef6\u65f6\u7684\u6700\u5927\u4ef7\u503c \u4e0e\u540e\u9762\u53d6\u4e86\u4e3b\u4ef6\u7684\u6700\u5927\u4ef7\u503c\u6bd4\u8f83\u53d6\u6700\u5927\u503c\n\n\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n\nusing std::cin;\nusing std::cout;\nusing std::endl;\n\nint f[32010],v[70],w[70],map[60][4]; \n\nint main()\n{\n    int nm,m;\n    memset(map,0,sizeof(map));\n    memset(f,0,sizeof(f));\n    cin>>nm>>m;\n    for(int i=1;i<=m;i++)\n    {\n        int q;\n        cin>>w[i]>>v[i];\n        v[i]*=w[i];\n        cin>>q;\n        if(q!=0)\n        {\n            map[i][3]=1;\n            for(int j=0;j<2;j++)\n                if(map[q][j]==0)\t//\u5b58\u50a8\u9644\u4ef6\u7684\u7f16\u53f7\uff08\u5199\u7684\u65f6\u5019\u5fd8\u8bb0\u6539\u4e86\u5bfc\u81f4map\u7684\u7b2c\u4e09\u5217\u6ca1\u6709\u88ab\u7528\u5230\n                {\n                    map[q][j]=i;\n                    break;\n                }\n        }\n    }\n    for(int i=1;i<=m;i++)\n    {\n        if(map[i][3]==1)\t//\u5982\u679c\u662f\u9644\u4ef6\u5c31\u8df3\u8fc7\n            continue;\n        for(int j=nm;j>=0;j--)\n        {\n            if(j-w[i]>=0)\n            {\n                int temp;\n                temp=f[j];\n                f[j]=std::max(f[j],f[j-w[i]]+v[i]);\n                if(map[i][0]!=0&&j-w[i]-w[map[i][0]]>=0)\n                    f[j]=std::max(f[j],f[j-w[i]-w[map[i][0]]]+v[map[i][0]]+v[i]);\n                if(map[i][1]!=0&&j-w[i]-w[map[i][1]]>=0)\n                    f[j]=std::max(f[j],f[j-w[i]-w[map[i][1]]]+v[map[i][1]]+v[i]);\n                if(map[i][0]!=0&&map[i][1]!=0&&j-w[i]-w[map[i][0]]-w[map[i][1]]>=0)\n                    f[j]=std::max(f[j],f[j-w[i]-w[map[i][0]]-w[map[i][1]]]+v[map[i][0]]+v[map[i][1]]+v[i]);\n                f[j]=std::max(temp,f[j]);\n            }\n            else\n                f[j]=f[j];\n        }\t\n    }\n    cout<<f[nm];\n    return 0;\n}\n```",
        "postTime": 1540819905,
        "uid": 88479,
        "name": "KagurazakaHanabi",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "~~\uff08\u554a\u554a\u554a\u8fd9\u4e2asd\u9898\u76ee\u5361\u4e86\u6211\u534a\u5929QAQ\n\n\u6211\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u8fd9\u4e48\u50bb\u554a\uff09~~\n\n\u9898\u76ee\u5927\u610f\u8fd9\u91cc\u5c31\u4e0d\u653e\u4e86qwq\uff0c\u76f8\u4fe1\u5927\u5bb6\u4e5f\u80fd\u770b\u61c2quq\n\n\n\u5982\u679c\u8981\u4e70\u5f52\u7c7b\u4e3a\u9644\u4ef6\u7684\u7269\u54c1\uff0c\u5fc5\u987b\u5148\u4e70\u8be5\u9644\u4ef6\u6240\u5c5e\u7684\u4e3b\u4ef6\u3002\u6bcf\u4e2a\u4e3b\u4ef6\u53ef\u4ee5\u670900\u4e2a\u300111\u4e2a\u621622\u4e2a\u9644\u4ef6\u3002\u9644\u4ef6\u4e0d\u518d\u6709\u4ece\u5c5e\u4e8e\u81ea\u5df1\u7684\u9644\u4ef6\u3002\u91d1\u660e\u60f3\u4e70\u7684\u4e1c\u897f\u5f88\u591a\uff0c\u80af\u5b9a\u4f1a\u8d85\u8fc7\u5988\u5988\u9650\u5b9a\u7684NN\u5143\u3002\u4e8e\u662f\uff0c\u4ed6\u628a\u6bcf\u4ef6\u7269\u54c1\u89c4\u5b9a\u4e86\u4e00\u4e2a\u91cd\u8981\u5ea6\uff0c\u5206\u4e3a55\u7b49\uff1a\u7528\u6574\u65701-51\u22125\u8868\u793a\uff0c\u7b2c55\u7b49\u6700\u91cd\u8981\u3002\u4ed6\u8fd8\u4ece\u56e0\u7279\u7f51\u4e0a\u67e5\u5230\u4e86\u6bcf\u4ef6\u7269\u54c1\u7684\u4ef7\u683c\uff08\u90fd\u662f1010\u5143\u7684\u6574\u6570\u500d\uff09\u3002\u4ed6\u5e0c\u671b\u5728\u4e0d\u8d85\u8fc7NN\u5143\uff08\u53ef\u4ee5\u7b49\u4e8eNN\u5143\uff09\u7684\u524d\u63d0\u4e0b\uff0c\u4f7f\u6bcf\u4ef6\u7269\u54c1\u7684\u4ef7\u683c\u4e0e\u91cd\u8981\u5ea6\u7684\u4e58\u79ef\u7684\u603b\u548c\u6700\u5927\u3002\n\n\u8fd9\u4e2a\u9898\u76ee\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u7528\u5206\u7ec4\u80cc\u5305\u505a\uff0c\u56e0\u4e3a\u6bcf\u4e00\u7ec4\u6700\u591a\u53ea\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u90a3\u4e48\u6211\u4eec\u5206\u7ec4\u80cc\u5305\u91cc\u9762\u7684\u7b56\u7565\u6570\u4e5f\u5c31\u67095\u79cd\uff1a\u9009\u4e3b\u4ef6\uff0c\u4e3b\u4ef6+\u9644\u4ef61\uff0c\u4e3b\u4ef6+\u9644\u4ef62\uff0c\u4e3b\u4ef6+\u9644\u4ef61+\u9644\u4ef62\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u9884\u5904\u7406\u7684\u65f6\u5019\u628a\u8fd9\u51e0\u4e2a\u72b6\u6001\u90fd\u679a\u4e3e\u51fa\u6765\n\n\u6b64\u5916\uff0c\u56e0\u4e3a\u72b6\u6001\u5f88\u5c11\uff0c\u6240\u4ee5\u9884\u5904\u7406\u7684\u65f6\u5019\u4e5f\u53ef\u4ee5\u5224\u65ad\u6bcf\u4e00\u4e2a\u80cc\u5305\u91cc\u9762\u662f\u4e0d\u662f\u90fd\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u6ca1\u6709\u7684\u8bdd\u76f4\u63a5\u9000\u51fa\u6216\u8005\u52a0\u5b83\u90a3\u4e00\u4e2a\u9644\u4ef6\u5c31\u597d\u4e86\n\n\u9644\u4ef6\u6240\u83b7\u5f97\u7684\u4ef7\u503c\u7528c[i]\u8868\u793a\uff0c\u9700\u8981\u82b1\u8d39w[i]\u7684\u4f53\u529b\uff0c\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u5728\u627e\u9644\u4ef6\u7684\u65f6\u5019\u76f4\u63a5\u628a\u5b83\u52a0\u4e0a\u4e3b\u4ef6\u5c31\u597d\u4e86\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u7b56\u7565\u662f\u4e92\u65a5\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u7528\u5728\u610f\u4f1a\u4e0d\u4f1a\u9009\u4e3b\u4ef6+\u9644\u4ef6\u4f1a\u591a\u52a0\u4e00\u904d\u4e3b\u4ef6\n\n~~\u5206\u7ec4\u80cc\u5305\u7684\u539f\u7406\u5c31\u4e0d\u8bb2\u4e86\uff0c\u8bf7\u53c2\u8003\u80cc\u5305\u4e5d\u8bb2qwq\uff08\u9003~~\n\n\u4e0b\u9762\u653e\u4e0a\u4ee3\u7801\uff08\u4ee3\u7801\u91cc\u9762\u4e5f\u6709\u90e8\u5206\u6ce8\u91caqwq\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n\nusing namespace std;\n\nint a[10001][6],f[100001],w[10001],c[10001],n,m,t;//\u4e0d\u4f1a\u94fe\u8868QAQ\uff0c\u5c31\u53ea\u80fd\u7528\u6570\u7ec4\u6a21\u62df\u5b58\u50a8\n  \nint main()\n{\n \tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1; i<=m; i++)\n\t{\n\t\tint k;\n\t\tscanf(\"%d%d%d\",&w[i],&c[i],&k);\n\t\tc[i]*=w[i];//\u76f4\u63a5\u628a\u4ef7\u503c\u4e58\u4e0a\n\t\tif(k!=0)//\u5982\u679c\u4e0d\u662f\u4e3b\u4ef6\u5c31\u52a0\u5230\u5b83\u4f9d\u9644\u7684\u4e3b\u4ef6\u5e8f\u53f7\u540e\u9762\n\t\t\ta[k][++a[k][0]]=i;\n\t\telse //\u662f\u4e3b\u4ef6\u5c31\u52a0\u4e00\u7ec4\u4ee5\u4ed6\u7684\u5e8f\u53f7\u4e3a\u5934\u7684\u80cc\u5305\uff08\u5343\u4e07\u4e0d\u8981\u56fe\u7701\u7a7a\u95f4qwq\n\t\t{\n\t\t\tt+=i;\n\t\t\ta[i][++a[i][0]]=i;\n\t\t}\n\t}\n\tfor(int i=1; i<=t; i++)\n\t{\n\t\tif(a[i][0]>2)//\u5982\u679c\u4ed6\u6709\u4fe9\u9644\u4ef6\n\t\t{\n\t\t\ta[i][0]++;m++;\n\t\t\tw[m]+=w[a[i][1]]+w[a[i][2]]+w[a[i][3]]; w[a[i][2]]+=w[a[i][1]]; w[a[i][3]]+=w[a[i][1]];\n\t\t\tc[m]+=c[a[i][1]]+c[a[i][2]]+c[a[i][3]]; c[a[i][2]]+=c[a[i][1]]; c[a[i][3]]+=c[a[i][1]];\t\t\t\n\t\t\ta[i][a[i][0]]=m;\n\t\t\tcontinue;\n\t\t} \n\t\tif(a[i][0]<2) continue; //\u548b\u4e00\u4e2a\u9644\u4ef6\u90fd\u6ca1\u6709\u5462\uff0c\u8df3\u8fc7\uff01qwq\n\t\tif(a[i][0]==2) //\u6b63\u597d\u6709\u4e00\u4e2a\u9644\u4ef6\n\t\t{\n\t\t\tw[a[i][2]]+=w[a[i][1]];\n\t\t\tc[a[i][2]]+=c[a[i][1]];\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\tfor(int k=1; k<=t; k++) //\u6807\u51c6\u7684\u5206\u7ec4\u80cc\u5305\n\t\tfor(int j=n; j>=0; j--)\n\t\t\tfor(int i=1; i<=a[k][0]; i++)\n\t\t\t\tif(j>=w[a[k][i]])//\u4e00\u5b9a\u6ce8\u610f\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u80fd\u88c5\n\t\t\t\t\tf[j]=max(f[j],f[j-w[a[k][i]]]+c[a[k][i]]);\n\tprintf(\"%d\",f[n]);\n\t\t\t\t\t\n}\n```",
        "postTime": 1540435672,
        "uid": 142007,
        "name": "\u857e\u59c6\u9171QvQ",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u80cc\u5305\u578bDP\uff0c\u53ea\u662f\u6709\u4e3b\u4ef6\u914d\u4ef6\u4e4b\u5206\uff0c\u6240\u4ee5\u5e94\u8be5\u600e\u4e48\u5904\u7406\u5462\uff1f\n\n\u770b\u5927\u90e8\u5206\u4eba\u90fd\u662f\u5224\u65ad\u4e94\u79cd\u72b6\u6001\uff0c\u4e2a\u4eba\u6709\u4e0d\u540c\u60f3\u6cd5\uff0c\u5728\u6b64\u5206\u4eab\u7ed9\u5927\u5bb6\u3002~~dalao\u8bf7\u4e0d\u8981\u5632\u7b11~~\n\n1.\u5982\u679c\u4e00\u4e2a\u4e3b\u4ef6\u6ca1\u6709\u914d\u4ef6\uff0c\u4e0d\u9700\u8981\u52a0\u5176\u4ed6\u64cd\u4f5c\n\n2.\u5982\u679c\u4e00\u4e2a\u4e3b\u4ef6\u6709\u4e00\u4e2a\u914d\u4ef6\uff0c\u628a\u914d\u4ef6\u5220\u6389\uff0c\u53e6\u5f00\u4e00\u4e2a\u201c\u4e3b\u4ef6\u201d\uff0c\u5b83\u7684\u4ef7\u683c\u662f\u4e24\u8005\u4e4b\u548c\n\n3.\u5982\u679c\u4e00\u4e2a\u4e3b\u4ef6\u6709\u4e24\u4e2a\u914d\u4ef6\uff0c\u628a\u4e24\u914d\u4ef6\u5220\u6389\uff0c\u53e6\u5f00\u4e09\u4e2a\u201c\u4e3b\u4ef6\u201d\uff0c\u5206\u522b\u8868\u793a\u4e3b+1\u53f7\u914d\uff0c\u4e3b+2\u53f7\u914d\uff0c\u4e3b+1\u53f7\u914d+2\u53f7\u914d\n\n\u8fd8\u6709\u4e9b\u8981\u8bb2\u7684\u653e\u4ee3\u7801\u91cc\u4e86\uff0c\u5ba2\u5b98\u8bf7\u4e0a\u773c\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#include<vector>\nusing namespace std;\nint jiav[100],jiat[100],h[100],ff[100][32005],n,jian,m,i,j,k,l,s,d,f,r;//\u6240\u6709\u53d8\u91cf\u540d\u52a0\u4e86jia\uff08\u5047\uff09\u7684\u5c31\u662f\u4e34\u65f6\u53d8\u91cf\uff08\u8bf7\u4e0d\u8981\u5728\u610f\u4e3a\u4ec0\u4e48\u6211\u52a0\u4e86\u8fd9\u4e48\u591a\u65e0\u7528\u53d8\u91cf\uff09\nvector<int>bin[100],val[100],tiji[100];//bin\u662f\u4e00\u4e2a\u4e3b\u4ef6\u7684\u6240\u6709\u914d\u4ef6\u7f16\u53f7\nint main(){\n\tcin>>m>>jian;\n\tmemset(h,0,sizeof(h));\n\tfor(i=1;i<=jian;i++){\n\t\tscanf(\"%d%d%d\",&jiat[i],&jiav[i],&f);\n\t\tbin[f].push_back(i);\n\t\tif(f!=0){\n\t\t\th[i]=1;\n\t\t}//\u6807\u8bc6\u662f\u5426\u4e3a\u914d\u4ef6\n\t}\n\tn=0;\n\tfor(i=1;i<=jian;i++){\n\t\tif(h[i]==0){//\u4e3b\u4ef6\n\t\t\tn++;\n\t\t\tval[n].push_back(jiav[i]*jiat[i])\uff1b//\u4ef7\u503c\u5b58\u7684\u65f6\u5019\u5c31\u76f4\u63a5\u4e58\uff0c\u4f5cDP\u65f6\u65b9\u4fbf\u70b9\n\t\t\ttiji[n].push_back(jiat[i]);//\u4e3b\u4ef6\u81ea\u5df1\u80af\u5b9a\u662f\u8981\u52a0\u7684\n\t\t\tif(!bin[i].empty()){//\u5982\u679c\u4e3b\u4ef6\u6709\u914d\u4ef6\n\t\t\t\tif(bin[i].size()==1){\n\t\t\t\t\tval[n].push_back(jiav[i]*jiat[i]+jiav[bin[i][0]]*jiat[bin[i][0]]);\n\t\t\t\t\ttiji[n].push_back(jiat[i]+jiat[bin[i][0]]);\n\t\t\t\t}//\u4e00\u4e2a\u914d\u4ef6\n\t\t\t\telse\n\t\t\t\tif(bin[i].size()==2){\n\t\t\t\t\tval[n].push_back(jiav[i]*jiat[i]+jiav[bin[i][0]]*jiat[bin[i][0]]);\n\t\t\t\t\ttiji[n].push_back(jiat[i]+jiat[bin[i][0]]);\n\t\t\t\t\tval[n].push_back(jiav[i]*jiat[i]+jiav[bin[i][1]]*jiat[bin[i][1]]);\n\t\t\t\t\ttiji[n].push_back(jiat[i]+jiat[bin[i][1]]);\n\t\t\t\t\tval[n].push_back(jiav[i]*jiat[i]+jiav[bin[i][0]]*jiat[bin[i][0]]+jiav[bin[i][1]]*jiat[bin[i][1]]);\n\t\t\t\t\ttiji[n].push_back(jiat[i]+jiat[bin[i][0]]+jiat[bin[i][1]]);\n\t\t\t\t}//\u4e24\u4e2a\u914d\u4ef6\n\t\t\t}\n\t\t}//\u628a\u65b0\u589e\u7684\u4e3b\u4ef6\u653e\u5728\u539f\u4e3b\u4ef6\u540c\u610f\u7ea7\u522b\u4e0a\uff0c\u4f5cDP\u65f6\u65b9\u4fbf\u70b9\n\t}\n\tmemset(ff,0,sizeof(ff));\n\tfor(i=1;i<=n;i++){\n\t\tfor(j=0;j<=m;j++){\n\t\t\tff[i][j]=ff[i-1][j];\n\t\t\tfor(k=0;k<val[i].size();k++){\n\t\t\t\tif(j-tiji[i][k]>=0){\n\t\t\t\t\tff[i][j]=max(ff[i][j],ff[i-1][j-tiji[i][k]]+val[i][k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}//\u6b63\u7ecf\u7684DP\uff08\u61d2\u5f97\u5199\u6eda\u52a8\u4e86\uff09\n\tr=0;\n\tfor(i=1;i<=m;i++){\n\t\tr=max(r,ff[n][i]);\n\t}\n\tcout<<r<<endl;\n\treturn 0;\n}\n\n```\n\n\u9ebb\u70e6\u5927\u5bb6\u628a\u8fd9\u79cd\u65b9\u6cd5\u9876\u4e0a\u53bb\uff0c\u8c22\u8c22\n\n\u6700\u540e\u795d\u5927\u5bb6AC\u6109\u5feb",
        "postTime": 1535287969,
        "uid": 67608,
        "name": "lihengyi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u770b\u5230\u5927\u5bb6\u90fd\u5728\u7528\u5206\u7ec4\u80cc\u5305\u6765\u505a\n\n\u4f46\u5982\u679c\u914d\u4ef6\u6570\u4e0d\u9650\u5236\u6216\u51fa\u73b0\u4e86\u914d\u4ef6\u7684\u914d\u4ef6\u600e\u4e48\u529e\u5462\uff1f~~\u5176\u5b9e\u6211\u662f\u505a\u5b8c\u9898\u624d\u53d1\u73b0\u914d\u4ef6\u6570<2\u7684~~\n\n\u8fd9\u65f6\u5019\u5c31\u9700\u8981\u6811\u5f62DP\u4e86\n\n\u5176\u601d\u60f3\u662f\u628a\u7269\u54c1\u5b58\u6210\u6811\uff0c\u4e3b\u4ef6\u5168\u90e8\u4e0e0\u53f7\u8282\u70b9\u76f8\u8fde\n\n\u63a5\u4e0b\u6765\u8fb9\u904d\u5386\u8fb9DP\n\n\u5177\u4f53\u6765\u8bf4\u5f53\u904d\u5386\u5230\u4e00\u4e2a\u8282\u70b9\u65f6\u5148\u628a\u5b83\u7684\u6240\u6709\u513f\u5b50\u90fd\u904d\u5386\u5b8c\n\n\u7136\u540e\u628a\u6bcf\u4e2a\u513f\u5b50\u5f53\u6210\u4e00\u7ec4\u7269\u54c1\u8fdb\u884cDP\n\n\u5728DP\u524d\u53ef\u4ee5\u5148\u8bb0\u5f55\u4e00\u4e0b\u6bcf\u4e2a\u5b50\u6811\u6240\u6709\u8d39\u7528\u603b\u548c\u4f18\u5316\u4e00\u4e0b\u5e38\u6570\n\n\u9001\u4e0a\u4ee3\u7801~~\u4e0d\u8981\u95ee\u6211\u4e3a\u4ec0\u4e48\u4e0d\u7528\u6eda\u52a8\u6570\u7ec4\u56e0\u4e3a\u6211\u4e0d\u4f1a~~\n\n```cpp\n#include<iostream>\nusing namespace std;\nstruct node{int to;node* next;};\nnode a[67];node* q[67];int money[67],imp[67],deep[67];//\u90bb\u63a5\u8868\u5b58\u50a8\uff0cq\u4e3a\u5411\u524d\u661f \nint f[67][3207],part[67][3207];//part[i][j]\u4e3a\u9009\u7684\u4e0a\u4e00\u4e2a\u513f\u5b50\u4e3ai\uff0c\u5bb9\u91cf\u4e3aj\u7684\u6700\u5927\u4ef7\u503c \nint n,m;\nvoid travel(int);\nvoid dfs(int);\nint main()\n{cin>>m>>n;m/=10;\nfor(int i=0;i<=n;++i)\nq[i]=&a[i];\nfor(int i=1;i<=n;++i)\n{int x;\ncin>>money[i]>>imp[i]>>x;\nmoney[i]/=10;\nq[x]->next=new node;//\u5b58\u6811 \nq[x]=q[x]->next;\nq[x]->to=i;\nq[x]->next=NULL;}\ntravel(0);//\u8bb0\u5f55\u4e00\u4e0b\u6bcf\u9897\u6811\u7684\u8d39\u7528\u548c \ndfs(0);\nint mmm=0;\nfor(int i=1;i<=m;++i)\n{if(f[0][i]>mmm)mmm=f[0][i];}//mmm\u4e3amaxn \ncout<<mmm;\nreturn 0;}\nvoid travel(int x)\n{deep[x]=money[x];\nnode* p=&a[x];\nwhile(p->next)\n{p=p->next;\ntravel(p->to);\ndeep[x]+=deep[p->to];}}\nvoid dfs(int x)\n{int sss=money[x];\nint h=x;\nif(money[h]<=m)\npart[h][money[h]]=money[h]*imp[h]*10;\nnode* p=&a[x];\nwhile(p->next)//\u5148\u904d\u5386\u513f\u5b50\u518dDP \n{p=p->next;\ndfs(p->to);}\np=&a[x];\nwhile(p->next)//\u4f9d\u6b21\u8bd5\u513f\u5b50 \n{p=p->next;sss+=deep[p->to];//sss\u4e3a\u5f53\u524d\u53ef\u80fd\u7684\u6700\u5927\u8d39\u7528 \nfor(int i=money[x];i<=min(sss,m);++i)\n{part[p->to][i]=part[h][i];\nfor(int j=money[p->to];j<=min(i-money[x],deep[p->to]);++j)\n{part[p->to][i]=max(part[p->to][i],part[h][i-j]+f[p->to][j]);}}\nh=p->to;}\nfor(int i=1;i<=min(deep[x],m);++i)\nf[x][i]=part[h][i];}//\u628apart\u7684\u5185\u5bb9\u6574\u5408\u5230f\u4e0a\n```\n\u6811\u5f62DP\u65f6\u95f4\u590d\u6742\u5ea6\u8c8c\u4f3c\u662fO(n*m^2)\u6bd4\u5206\u7ec4\u80cc\u5305\u6162\u4f46\u901a\u7528\n",
        "postTime": 1524748983,
        "uid": 38535,
        "name": "laorui",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u63a8\u4e00\u4e0b\u81ea\u5df1\u5728\u6d1b\u8c37\u7684\u535a\u5ba2\uff0c\u6d1b\u8c37\u7684\u9898\u6709\u65b0\u9898\u89e3\u90fd\u4f1a\u5728\u91cc\u9762\u5199\u51fa\u6765\u7684\uff1ahttps://fancy--gemini.blog.luogu.org/\n\n\u7136\u540e\u6628\u5929\u6ca1\u9898\u89e3\u662f\u56e0\u4e3a\u672c\u84bb\u8311\u53bb\u5c1d\u8bd5\u4e86\u4e00\u9053\u4ee5\u4e3a\u81ea\u5df1\u4f1a\u505a\u7684\u9898\uff0c\u7ed3\u679c\uff1a10\u4e2a\u6d4b\u8bd5\u70b99\u4e2awa\u2026\u2026\n\n\u4e0a\u6b21\u770b\u5230\u52a8\u5f52\u8fd9\u4e2a\u8bcd\u4ee5\u540e\u5c31\u53bb\u628a\u52a8\u5f52\u5165\u95e8\u4e86\u4e00\u4e0b\uff0c~~\u53ef\u4ee5\u8bf4\u662f\u5341\u5206\u7684\u61c2\u4e86\uff0c~~\u521a\u597d\u4eca\u5929\u968f\u673a\u70b9\u9898\u70b9\u5230\u4e86\u8fd9\u9053\u52a8\u6001\u89c4\u5212\uff08\u597d\u50cf\u6709\u70b9\u590d\u6742\uff1f\uff1f\uff1f\uff09\uff0c\u83ab\u540d\u5176\u5999wa\u4e86\u51e0\u6b21\uff0c\u4f46\u662f\u6700\u540e\u8fd8\u662fAC\u5c31\u5341\u5206\u7684\u5f00\u5fc3\u4e86\u3002\n\n------------\n\n\n\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u4e0a\u601d\u8def\uff1a\n\n\u52a8\u5f52\u5728\u6211\u5370\u8c61\u5f53\u4e2d\u8981\u5f00\u6570\u7ec4\uff0c\u4e8e\u662f\u6211\u6beb\u4e0d\u72b9\u8c6b\uff0c\u5728main\u524d\u9762\u6253\u4e0b\u4e86\u8fd9\u4e48\u4e00\u5927\u4e32\uff1a\n\n```cpp\nint v[65]={0},p[65]={0},dp[32005]={0},is_adx_v[65][2]={0},is_adx_p[65][2]={0};\n```\n\n\u9898\u76ee\u5199\u5230<60\u4e2a\u7269\u54c1\uff0c\u94b1\u6570<32000\uff0c\u7136\u540e\u5176\u5b9e\u6700\u540e\u9762\u7684\u6211\u521a\u5f00\u59cb\u6ca1\u6709\u60f3\u5230\uff0c\u60f3\u7740\u9644\u4ef6\u7684\u8bdd\u4ef7\u683c\u76f4\u63a5\u52a0\u4e0a\u5bf9\u5e94\u4e3b\u4ef6\u7684\u4ef7\u683c\uff0c\u8f6c\u5ff5\u4e00\u60f3\u4e0d\u5bf9\uff0c\u8fd9\u6837\u5b50** \u4ef7\u683c*\u91cd\u8981\u503c **\u5c31\u4e0d\u597d\u5904\u7406\u4e86\uff0c\u4e8e\u662f\u65b0\u5f00\u4e86\u8fd9\u4e24\u4e2a\u6570\u7ec4\uff0c\u81f3\u4e8e **2** \u662f\u56e0\u4e3a\u9898\u76ee\u8bb2\u6700\u591a\u4e24\u4e2a\u9644\u4ef6\uff0c\u6240\u4ee5\u4e0a\u9762\u4e94\u4e2a\u6570\u7ec4\u4f9d\u6b21\u662f**\u4e3b\u4ef6\u4ef7\u683c\u3001\u4e3b\u4ef6\u4ef7\u683cx\u91cd\u8981\u503c\u3001\u6c42\u7b54\u6848\u6570\u7ec4\u3001\u9644\u4ef6\uff080/1\uff09\u4ef7\u683c\u3001\u9644\u4ef6\uff080/1\uff09\u4ef7\u683cx\u91cd\u8981\u503c\u3002**\n\n------------\n\n\n**\u6c42\u89e3\u6570\u7ec4**\uff1a\u4e0b\u6807\u53f7\u5bf9\u5e94\u94b1\u6570\u7684\u6700\u5927\u6240\u6709**\u7269\u54c1\u4ef7\u503c*\u91cd\u8981\u503c**\u3002\n\n------------\n\n\n\u63a5\u4e0b\u6765\u5c31\u662f\u8bfb\u53d6\u524d\u4e24\u4e2a\u6570\u636e\uff0c\u6211\u5206\u522b\u7528 *total_mon* \u548c *wanna_ite* \u8868\u793a\u3002\n\n\u770b\u5230\u9898\u76ee\u4e2d\u6709\u4e2a**\u7269\u54c1\u4ef7\u683c\u90fd\u4e3a10\u7684\u500d\u6570**\uff0c\u628a\u7ed9\u7684\u94b1\u9664\u4e8610\uff0c\u7136\u540e\u5c06dp\u6570\u7ec4\u6539\u5c0f\u4e3a```\ndp[3205]\n```\u3002\n\n\u8bfb\u53d6\u63a5\u4e0b\u6765m-1\u884c\u6570\u636e\uff0c\u4e4b\u524d\u5148\u58f0\u660e\u4e86**iv**\u3001**ip**\u3001**iq**\u5206\u522b\u4ee3\u8868\u8f93\u5165\u7684**\u4ef7\u683c**\u3001**\u4ef7\u683cx\u91cd\u8981\u503c**\u548c**\u5bf9\u5e94\u4e3b\u4ef6\u7f16\u53f7**\u3002\u5f53\u7136\uff0c\u4e0d\u8981\u5fd8\u4e86\u628a**\u4ef7\u683c\u9664\u4ee510**\n\n\u8bb0\u5f55\u7684\u540c\u65f6\u8fd8\u8981\u5224\u65ad\u662f\u5426\u4e3a\u9644\u4ef6\uff0c\u662f\u7684\u8bdd\u8fd8\u5f97\u5206\u522b\u5904\u7406\uff08\u4f5c\u4e3a\u9644\u4ef60/1\uff09\uff0c\u7528\u90a3\u4e24\u4e2a\u4e8c\u7ef4\u6570\u7ec4\u8fdb\u884c\u8bb0\u5f55\u3002\n\n\u8fd9\u90e8\u5206\u7684\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a\n\n```cpp\nfor(int i=1;i<=wanna_ite;i++)\n    {\n        scanf(\"%d%d%d\",&iv,&ip,&iq);\n        iv/=10;\n        if(iq==0)\n        {\n            v[i]=iv;\n            p[i]=ip*iv;\n        }\n        else\n        {\n            if(is_adx_v[iq][0]==0)\n            {\n                is_adx_v[iq][0]=iv;\n                is_adx_p[iq][0]=ip*iv;\n            }\n            else\n            {\n                is_adx_v[iq][1]=iv;\n                is_adx_p[iq][1]=ip*iv;\n            }\n        }\n    }\n```\n\n\u7136\u540e\u5c31\u662f\u7ecf\u5178\u7684\u52a8\u5f52\u95ee\u9898\u6765\u5904\u7406\u4e86\uff0c\u8fdb\u884c\u5206\u6210\u56db\u7c7b\u8fdb\u884c\u8ba8\u8bba\u6c42\u89e3\u7684**01\u80cc\u5305\u95ee\u9898**\uff0c~~\u76f8\u4fe1\u770b\u9898\u89e3\u7684\u5404\u4f4d\u5e94\u8be5\u90fd\u4f1a**01\u80cc\u5305**\u5427orz~~\u3002\n\n\u56db\u7c7b\u5206\u522b\u662f**\u53ea\u591f\u4e70\u4e3b\u4ef6**\u3001**\u591f\u4e70\u4e3b\u4ef6+\u9644\u4ef61**\u3001**\u591f\u4e70\u4e3b\u4ef6+\u9644\u4ef62**\u3001**\u591f\u4e70\u4e3b\u4ef6+\u9644\u4ef61+\u9644\u4ef62**\u3002\n\n~~\u4f5c\u4e3a\u521a\u521a\u5165\u95e8\u52a8\u5f52\u7684\u84bb\u8311~~\u60f3\u8bf4\u4e00\u4e0b01\u80cc\u5305\u7684\u7b2c\u4e8c\u5c42\u5faa\u73af\u4e0d\u8981\u5fd8\u4e86\u662f**\u9006\u5e8f**\u7684\u5faa\u73af\uff0c\u800c\u4e14\u7b2c\u4e8c\u5c42\u5faa\u73af\u624d\u662f\u9650\u5236\u6761\u4ef6\uff08\u5c31\u50cf\u8fd9\u91cc\u7684\u94b1\uff09\u3002\n\n\u4ee3\u7801\u6bb5\uff1a\n\n```cpp\nfor(int i=1;i<=wanna_ite;i++)\n\t\tfor(int j=total_mon;j>=v[i];j--)\n        {\n            if(j>=v[i])\n                dp[j]=max(dp[j],dp[j-v[i]]+p[i]);\n            if(j>=v[i]+is_adx_v[i][0])\n                dp[j]=max(dp[j],dp[j-v[i]-is_adx_v[i][0]]+p[i]+is_adx_p[i][0]);\n            if(j>=v[i]+is_adx_v[i][1])\n                dp[j]=max(dp[j],dp[j-v[i]-is_adx_v[i][1]]+p[i]+is_adx_p[i][1]);\n            if(j>=v[i]+is_adx_v[i][0]+is_adx_v[i][1])\n                dp[j]=max(dp[j],dp[j-v[i]-is_adx_v[i][0]-is_adx_v[i][1]]+p[i]+is_adx_p[i][0]+is_adx_p[i][1]);\n        }\n```\n\n\u597d\u5197\u957f\u554aorz......\n\n\u6700\u540e\u6253\u5370\u51fa\u6c42\u89e3\u6570\u7ec4\u4e2d\u7684\u5bf9\u5e94\u94b1\u7684\u90a3\u4e00\u4f4d**x10**\u5c31\u884c\u4e86\uff0c\u6ce8\u610f\u4e00\u5b9a\u8981**x10**,\u56e0\u4e3a\u524d\u9762\u6211\u4eec\u9664\u4ee510\u4e86\u3002\n\nwa\u4e86\u51e0\u6b21\u7684\u539f\u56e0\u662f\u6211\u5f53\u65f6\u7684\u4ee3\u7801\u6709\u4e00\u4e2a\u5730\u65b9\u76841\u5199\u6210\u4e860......\u7cca\u6d82\u6210\u8fd9\u6837\u4e5f\u662f\u6ca1\u6551\u4e86QAQ\u3002\n\n\u6709\u9519\u8bef\u6b22\u8fce\u6307\u51fa\u54e6(\u256fovo)\u256f\u3002",
        "postTime": 1520055712,
        "uid": 81937,
        "name": "Fancy_G_wanna_fly",
        "ccfLevel": 0,
        "title": "P1064 \u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848"
    },
    {
        "content": "\u672c\u4eba\u849f\u84bb\uff0c\u8fd9\u9053\u9898\u770b\u4e86\u5404\u4f4d\u5927\u4f6c\u7684\u601d\u8def\n\n\u5148\u8bf4\u601d\u8def\u5427 \u4e3b\u8981\u5c31\u662f\u53d8\u5f62\u6210\u4e00\u4e2a\u5206\u7ec4\u80cc\u5305\n\n\u5373\u5206\u4e3a4\u7ec4\n\n\u4e3b\u4ef6 \u4e3b\u4ef6+\u9644\u4ef61 \u4e3b\u4ef6+\u9644\u4ef62 \u4e3b\u4ef6+\u9644\u4ef61+\u9644\u4ef62\n\n\u5177\u4f53\u600e\u4e48\u5b9e\u73b0\u53c2\u8003\u4ee3\u7801\n\n\u8bf4\u6765\u6700\u673a\u667a\u7684\u662f\u697c\u4e3b\u7684\u5b58\u50a8\u6570\u7ec4z[][]\uff08\u5efa\u8bae\u5c0f\u4f19\u4f34\u4eec\u7528\u624b\u63a8\u4e0b\uff0c\u5f88\u597d\u61c2\u7684\uff09\n\n\u8fd9\u6837\u53ef\u4ee5\u4f7f\u4ee3\u7801\u5f88\u77ed \u800c\u4e14\u7a7a\u95f4\u51e0\u4e4e\u4e0d\u6d6a\u8d39\n\n\u8fd8\u6709\u4e00\u70b9\n\n\u9644\u4ef6\u53ef\u80fd\u5728\u4e3b\u4ef6\u5148\u51fa\u73b0\n\n\u6240\u4ee5for(int i=1;i<=n;i++)\u8dd12\u904d \u5148\u627e\u4e3b\u4ef6\n\n\u5c31\u8fd9\u4e48\u591a\u4e86\n\n\u4ee3\u7801\u6ca1\u6ce8\u91ca\uff08\u9003\u8d70\uff09\n\n```cpp\n#include<iostream>\nusing namespace std;\nint s,n,dp[32005],w[65*2],v[65*2],g[65*2],z[65][6],d,y[65*2];\nint main() {\n    cin>>s>>n;\n    s/=10; \n    for(int i=1;i<=n;i++){\n        cin>>w[i]>>v[i]>>g[i];\n        w[i]/=10;\n        v[i]*=w[i];\n        if(!g[i]){\n            z[++d][++z[d][0]]=i;\n            y[i]=d;\n        }\n    } \n    for(int i=1;i<=n;i++){\n        if(g[i]){\n            z[y[g[i]]][++z[y[g[i]]][0]]=i;\n            w[i]+=w[g[i]];\n            v[i]+=v[g[i]];\n            if(z[y[g[i]]][0]==3) {\n                z[y[g[i]]][++z[y[g[i]]][0]]=n+i;\n                for(int j=1; j<=3; j++) {\n                    w[n+i]+=w[z[y[g[i]]][j]];\n                    v[n+i]+=v[z[y[g[i]]][j]];\n                } \n                w[n+i]-=2*w[z[y[g[i]]][1]];\n                v[n+i]-=2*v[z[y[g[i]]][1]];\n            }\n        }\n    }\n    for(int l=1; l<=d; l++)\n        for(int i=s; i>=0; i--)\n            for(int j=1; j<=z[l][0]; j++)\n                if(i>=w[z[l][j]])dp[i]=max(dp[i],dp[i-w[z[l][j]]]+v[z[l][j]]);\n    cout<<dp[s]*10<<endl;\n    return 0;\n}\n```",
        "postTime": 1506079620,
        "uid": 44529,
        "name": "chestX_ray",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u6700\u8fd1\u53d1\u73b0dp\u4e2d\u8981\u5b66\u7684\u8fd8\u6709\u597d\u591a\u554a\uff01\u5199\u9898\u89e3\u603b\u7ed3\uff1a\uff08\u63a8\u8350\u9605\u8bfb\u80cc\u5305\u4e5d\u8bb2\u5b8c\u6574\u7248.pdf,\u57fa\u672c\u80fd\u89e3\u51b3\u6240\u6709\u80cc\u5305\u95ee\u9898\u4e86\uff01\uff09\n\n\n********\u8fd9\u662f\u4e00\u9053\u9700\u8981\u8f6c\u5316\u7684\u5206\u7ec4\u80cc\u5305\u95ee\u9898\u3002\u5982\u5728\u6bcf\u7ec4\u4e2d\u53ea\u80fd\u53d61\u4e2a\uff0c\u53ea\u9700\u7528dp[i][j]\u8868\u793a\u524di\u7ec4\u4e2dw\u4e0d\u8d85\u8fc7j\u7684\u6700\u4f18\u89e3\uff0c\u6bcf\u6b21\u5728\u6bcf\u7ec4\u4e2d\u9009\u53d6\u6700\u4f18\u89e3\u5373\u53ef\n\n\n\u7528\u7269\u54c1\u7ec4\u7684\u601d\u60f3\u8003\u8651\u9898\u4e2d****\u6781\u5176\u7279\u6b8a\u7684\u4f9d\u8d56\u5173\u7cfb****\uff1a\u7269\u54c1\u4e0d\u80fd\u65e2\u4f5c\u4e3b\u4ef6\u53c8\u4f5c\u9644\u4ef6\uff0c\u6bcf\u4e2a\u4e3b\u4ef6\u6700\u591a\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e2a\u4e3b\u4ef6\u548c\u5b83\u7684\u4e24\u4e2a\u9644\u4ef6\u7b49\u4ef7\u4e8e\u4e00\u4e2a\u7531\u56db\u4e2a\u7269\u54c1\u7ec4\u6210\u7684\u7269\u54c1\u7ec4\uff0c\u4ece\u800c\u7528\u5206\u7ec4\u80cc\u5305\u95ee\u9898\u6c42\u89e3\u3002\uff08Note:\u53d1\u73b0\u95ee\u9898\u4e2d\u6570\u636e\u95f4\u5173\u7cfb\u7684\u7279\u6b8a\u6027\uff09\n\n\n\u5c0f\u6280\u5de7\uff1a\u53d1\u73b0\u6570\u636e\u5747\u4e3a10\u7684\u500d\u6570\u65f6\uff0c\u5f71\u54cd\u5230\u5148\u5c06\u6240\u6709\u6570\u9664\u4ee510\uff0c\u6700\u540e\u518d\u4e5810\uff0c\u4ece\u800c\u65f6\u95f4\u590d\u6742\u5ea6\u548c\u7a7a\u95f4\u590d\u6742\u5ea6\u5747\u7f29\u5c0f10\u500d\uff01\uff08\u53d1\u73b0\u95ee\u9898\u7279\u70b9\uff09\n\n\u521d\u59cb\u5316\u65f6\u5bfb\u627e\u6700\u7b80\u4fbf\u7684\u6a21\u5f0f\n\n\u5f53vector.size()\u5728\u5faa\u73af\u4e2d\u4f1a\u6539\u53d8\u65f6,\u5faa\u73af\u6761\u4ef6\u7684\u7ec8\u6b62\u4e00\u5b9a\u4e0d\u80fd\u5199size(),\u8981\u5728\u5faa\u73af\u524d\u5148\u53d6\u51fa\uff01\n\n\n\u9644\u4e0a\u4ee3\u7801\n\n\n\n\n\n    \n    \n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nstruct solu\n{\n    int w,v;\n    solu(int nw, int nv){w=nw;v=nv;} //\u6784\u9020\u51fd\u6570 \n};\nvector<solu> a[65];\nint n,m,dp[32005];\nmap<int,int> mp;\nint main()\n{\n    cin >> n >> m;n/=10;  //\u5c0f\u6280\u5de7\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u548c\u7a7a\u95f4\u590d\u6742\u5ea6\u7f29\u5c0f10\u500d\uff01 \n    int k=0;\n    for(int i=1;i<=m;i++)\n    {\n        int x,y,z;\n        cin >> x >> y >> z;x/=10;\n        if(z==0)  //\u5206\u7c7b\u5904\u7406 \n        {\n            k++;\n            a[k].push_back(solu(x,x*y));\n            mp[i]=k;\n        }\n        else\n        {\n            int len=a[mp[z]].size();  //\u8fd9\u91cc\u4e00\u5b9a\u8981\u5148\u628asize\u53d6\u51fa\u6765\uff0c\u5728\u6dfb\u52a0\u8fc7\u7a0b\u4e2dsize\u4f1a\u4e0d\u65ad\u589e\u52a0!!! \n            for(int j=0;j<len;j++) a[mp[z]].push_back(solu(x+a[mp[z]][j].w,x*y+a[mp[z]][j].v)); //\u8f83\u7b80\u4fbf\u7684\u521d\u59cb\u5316\u6a21\u5f0f\n        }\n    }\n    for(int i=1;i<=k;i++)  //\u5206\u7ec4\u80cc\u5305 \n    {\n        for(int j=n;j>=0;j--)\n        {\n            for(int q=0;q<a[i].size();q++)\n            {\n                if(j>=a[i][q].w) dp[j]=max(dp[j],dp[j-a[i][q].w]+a[i][q].v); //\u9009\u53d6\u6bcf\u7ec4\u7684\u6700\u4f18\u89e3 \n            }\n        }\n    }\n    cout << dp[n]*10; //\u7ed3\u679c\u4e00\u5b9a\u8981\u8bb0\u5f97\u4e5810 \n    return 0;\n}\n```",
        "postTime": 1504564876,
        "uid": 18490,
        "name": "NewErA",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u5e94\u8be5\u5c5e\u4e8e\u6709\u4f9d\u8d56\u5173\u7cfb\u7684\u80cc\u5305DP\uff0c\u4f46\u662f\u9898\u76ee\u4e2d\u8bf4\u660e\u4e00\u4e2a\u4e3b\u4ef6\u6700\u591a\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u6240\u4ee5\u8bf4\u53ef\u4ee5\u624b\u52a8\u679a\u4e3e\u5404\u79cd\u7ec4\u5408\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u7ec4\uff0c\u67095\u79cd\u65b9\u6848\uff08\u4ec0\u4e48\u90fd\u4e0d\u9009\uff0c\u4e3b\u4ef6\uff0c\u4e3b\u4ef6+\u9644\u4ef61\uff0c\u4e3b\u4ef6+\u9644\u4ef62\uff0c\u4e3b\u4ef6+\u9644\u4ef61+\u9644\u4ef62\uff09\uff0c\u8bbedp[i][j]\u8868\u793a\u524di\u7ec4\u88c5\u5728\u4e00\u4e2a\u5bb9\u91cf\u4e3aj\u7684\u80cc\u5305\u4e2d\u6240\u83b7\u5f97\u7684\u6700\u5927\u4ef7\u503c\u3002\u65b9\u7a0b\u5982\u4e0b\uff1a\n\n>dp[i][j]=max{\ndp[i-1][j],\n\ndp[i-1][j-v[i]]+w[i],\n\ndp[i-1][j-v[i]-v1[i]]+w[i]+w1[i],\n\ndp[i-1][j-v[i]-v2[i]]+w[i]+w2[i],\n\ndp[i-1][j-v[i]-v1[i]-v2[i]]+w[i]+w1[i]+w2[i],\n\n}\n\u4e00\u4e2a\u4f18\u5316\uff1a\u7531\u4e8e\u94b1\u662f10\u7684\u500d\u6570\uff0c\u53ef\u4ee5\u966410\uff0c\u6700\u540e\u518d\u4e5810\u3002\u8fd9\u6837\u65f6\u95f4\u5c31\u51cf\u5c0f\u4e8610\u500d\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\n \nint V,n,m;\nint v[62],w[62];\nint v1[62],w1[62];\nint v2[62],w2[62];\nint dp[3300];\nint ans;\n \nint main() {\n    cin>>V>>m;\n    V/=10;\n    for(int i=1; i<=m; i++) {\n        int v0,p0,q0;\n        cin>>v0>>p0>>q0;\n        v0/=10;\n        if(q0) {\n            if(!v1[q0]) {\n                v1[q0]=v0;\n                w1[q0]=v0*p0;\n            } else {\n                v2[q0]=v0;\n                w2[q0]=v0*p0;\n            }\n            n=max(n,q0);\n        } else {\n            v[i]=v0;\n            w[i]=v0*p0;\n            n=i;\n        }\n    }\n    \n    for(int i=1;i<=n;i++)\n        for(int j=V;j>=v[i];j--){\n            dp[j]=max(dp[j],dp[j-v[i]]+w[i]);\n            if(j-v[i]-v1[i]>=0)  dp[j]=max(dp[j],dp[j-v[i]-v1[i]]+w[i]+w1[i]);\n            if(j-v[i]-v2[i]>=0)  dp[j]=max(dp[j],dp[j-v[i]-v2[i]]+w[i]+w2[i]);\n            if(j-v[i]-v1[i]-v2[i]>=0)  dp[j]=max(dp[j],dp[j-v[i]-v1[i]-v2[i]]+w[i]+w1[i]+w2[i]);\n        }\n    cout<<dp[V]*10;\n        return 0;\n    }\n```",
        "postTime": 1494063767,
        "uid": 16859,
        "name": "Lucio",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u76f8\u4fe1\u5f88\u591a\u4eba\u90fd\u80fdAC\u8fd9\u9053\u9898\u3002\u4f46\u662f\uff0c\u5f88\u591a\u4eba\u4ee3\u7801\u53ef\u8bfb\u6027\u4e0d\u9ad8\u3002\u4e0b\u9762\u7528\u9762\u5411\u5bf9\u8c61\u89d2\u5ea6\u601d\u8003\u8fd9\u4e00\u95ee\u9898\u3002\n\n\u672c\u9898\u7684\u4e3b\u8981\u5bf9\u8c61\u4e3a\u4e3b\u4ef6\u3001\u526f\u4ef6\u548cDP\u6570\u7ec4\uff0c\u5176\u4e2d\u4e3b\u4ef6\u884c\u4e3a\u6bd4\u8f83\u660e\u663e\uff0c\u8003\u8651\u5c06\u4e3b\u4ef6\u4f5c\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u3002\n\n\u4e3b\u4ef6\u6709\u8fd9\u4e9b\u4fe1\u606f\uff1a\n\n- \u4e3b\u4ef6\u7684\u4ef7\u503c\u3001\u91cd\u8981\u7a0b\u5ea6\n\n- \u526f\u4ef6\u4eec\u7684\u4ef7\u503c\u3001\u91cd\u8981\u7a0b\u5ea6\n\n- \u9644\u4ef6\u7684\u6570\u91cf\n\n\u597d\u4e86\uff0c\u6211\u4eec\u7531\u6b64\u521b\u5efa\u4e00\u4e2a\u4e3b\u4ef6\u7c7b\uff1a\n\n```cpp\nstruct Good {\n    int v0, w0;\n    int cnt;\n    int v[2], w[2];\n    // \u8fd9\u91cc\u8fd8\u6709\u2026\u2026\n}\n```\n\u4e0b\u9762\u5206\u6790\u4e3b\u4ef6\u5bf9\u8c61\u7684\u884c\u4e3a\uff1a\n\n- \u589e\u52a0\u4e00\u4e2a\u526f\u4ef6\n\n- \u4fee\u6539\u81ea\u5df1\u7684\u4ef7\u503c\u548c\u6743\u503c\n\n- \u53c2\u4e0eDP\u7684\u8ba1\u7b97\n\n- \u521d\u59cb\u5316\n\n\n\u521d\u59cb\u5316\u5982\u4e0b\uff1a\n\n```cpp\n    Good(int v0 = 0, int w0 = 0):v0(v0), w0(w0), cnt(0) {\n        v[0] = v[1] = w[0] = w[1] = 0;\n    }\n```\n\n\u589e\u52a0\u526f\u4ef6\u5b9e\u73b0\u5982\u4e0b\uff1a\n\n```cpp\n    // \u5199\u5728struct Good\u5185\n    void add(int v2, int w2) {\n        v[cnt] = v2;\n        w[cnt] = w2;\n        cnt++;\n    }\n```\n\u5b9e\u73b0\u4fee\u6539\u81ea\u5df1\u7684\u4ef7\u503c\u548c\u6743\u503c\u5982\u4e0b\n\n```cpp\n    // \u5199\u5728struct Good\u91cc\u9762\n    void set(int v, int w) {\n        v0 = v;\n        w0 = w;\n    }\n```\n\n\u53c2\u4e0eDP\u7684\u90e8\u5206\n\n```cpp\n    // \u5199\u5728struct Good\u5185\n    void update(int des) const {  // des\u4e3a\u4e86\u8fbe\u5230\u201c\u7528\u4e86\u591a\u5c11\u94b1\u201d\n        // \u8fd9\u91cc\u4e0d\u7528\u5224\u65adcnt\u7684\u503c\uff0c\u56e0\u4e3a\u53ef\u4ee5\u628a\u4ed6\u4eec\u89c6\u4e3a\u4ef7\u503c\u4e3a0\u7684\u7269\u54c1\n        int &ans = d[des];\n        if(des >= v0) {\n            smax(ans, d[des - v0] + v0 * w0);\n            if(des >= v0 + v[0]) {\n                smax(ans, d[des - v0 - v[0]] + v0 * w0 + v[0] * w[0]);\n            }\n            if(des >= v0 + v[1]) {\n                smax(ans, d[des - v0 - v[1]] + v0 * w0 + v[1] * w[1]);\n            }\n            if(des >= v0 + v[0] + v[1]) {\n                smax(ans, d[des - v0 - v[0] - v[1]] + v0 * w0 + v[0] * w[0] + v[1] * w[1]);\n            }\n        }\n    }\n```\nsmax\u5b9e\u73b0\u5982\u4e0b\uff1a\n\n```cpp\ntemplate<typename T>\ninline void smax(T& a, const T &b) {\n    if(a < b) a = b;\n}\n```\n\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<cctype>\n#include<cstdio>\n\n\ninline int nextint() {\n    int x = 0, c;\n    do {\n        c = getchar();\n    } while(!isdigit(c));\n    do {\n        x = x * 10 + c - '0';\n    } while(isdigit(c = getchar()));\n    return x;\n}\n\ninline void nextint(int &x) {\n    x = 0;\n    int c;\n    do {\n        c = getchar();\n    } while(!isdigit(c));\n    do {\n        x = x * 10 + c - '0';\n    } while(isdigit(c = getchar()));\n}\n\n#include<bits/stdc++.h>\n#include<map>\nusing namespace std;\n\ntemplate<typename T>\ninline void smax(T& a, const T &b) {\n    if(a < b) a = b;\n}\n\nconst int maxm = 33001;\n\nint d[maxm];\n\nstruct Good {\n    int v0, w0;\n    int cnt;\n    int v[2], w[2];\n    void add(int v2, int w2) {\n        v[cnt] = v2;\n        w[cnt] = w2;\n        cnt++;\n    }\n    Good(int v0 = 0, int w0 = 0):v0(v0), w0(w0), cnt(0) {\n        memset(v, 0, sizeof v);\n        memset(w, 0, sizeof w);\n    }\n    void set(int v, int w) {\n        v0 = v;\n        w0 = w;\n    }\n    void update(int des) const {\n        int &ans = d[des];\n        if(des >= v0) {\n            smax(ans, d[des - v0] + v0 * w0);\n            if(des >= v0 + v[0]) {\n                smax(ans, d[des - v0 - v[0]] + v0 * w0 + v[0] * w[0]);\n            }\n            if(des >= v0 + v[1]) {\n                smax(ans, d[des - v0 - v[1]] + v0 * w0 + v[1] * w[1]);\n            }\n            if(des >= v0 + v[0] + v[1]) {\n                smax(ans, d[des - v0 - v[0] - v[1]] + v0 * w0 + v[0] * w[0] + v[1] * w[1]);\n            }\n        }\n    }\n};\n\nmap<int, Good> goods;\n\nint main() {\n    int m = nextint();\n    int n = nextint();\n    for(int i = 1; i <= n; i++) {\n        int v = nextint();\n        int w = nextint();\n        int q = nextint();\n        if(q == 0) {\n            goods[i].set(v, w);\n        } else {\n            goods[q].add(v, w);\n        }\n    }\n    memset(d, 0, sizeof d);\n    for(map<int, Good>::const_iterator it = goods.begin(); it != goods.end(); ++it) {\n        for(int i = m; i >= 0; i--) {\n            it->second.update(i);\n        }\n    }\n    for(int i = m; i > 0; i--) {\n        if(d[i]) printf(\"%d\", d[i]);\n        return 0;\n    }\n    putchar('0');\n}\n\n```",
        "postTime": 1478956076,
        "uid": 28372,
        "name": "\u6c22\u6c27\u5316\u94efCsOH",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u6b64\u9898\u5e94\u8be5\u6ce8\u610f\u7684\u662f\uff0c\u4e0d\u7528\u5728\u610f\u914d\u4ef6\u7684\u72b6\u6001\uff0c\n\n\u56e0\u4e3a\u6bcf\u4e2a\u914d\u4ef6\u662f\u4ece\u5c5e\u4e8e\u5176\u4e3b\u4ef6\u7684\uff0c\u53ef\u4ee5\u5c06\u5176\u4e0e\u4e3b\u4ef6\u5408\u5e76\uff0c\u53c8\u56e0\u4e3a\u6bcf\u4e2a\u4e3b\u4ef6\u6700\u591a\u6709\u4e24\u4e2a\u914d\u4ef6\uff0c\u4e5f\u5c31\u662f\u8bf4\uff1a\u6bcf\u4e2a\u4e3b\u4ef6\u6700\u591a\u6709\u56db\u4e2a\u72b6\u6001\uff1a\n\nw[\u4e3b]\uff1b\n\nw[\u4e3b]w[\u526f\u4e00]\uff1b\n\nw[\u4e3b]w[\u526f\u4e8c]\uff1b\n\nw[\u4e3b]w[\u526f\u4e00]w[\u526f\u4e8c]\uff1b\n\n\u6240\u4ee5\u5c31\u8fd9\u6837\u5728\u8bfb\u5165\u65f6\u5c31\u9884\u5904\u7406\u51fa\u6bcf\u4e2a\u4e3b\u4ef6\u53ca\u5176\u914d\u4ef6\uff0c\u7136\u540e\u518d\u52a8\u5f52\u65f6\u5c31\u662f\u4e00\u4e2a\u53ea\u7528\u8003\u8651\u6bcf\u4e3b\u4ef6\u768401\u80cc\u5305\u4e86\u3002\n\n\u8be6\u7ec6\u7684\u5c31\u4e0d\u591a\u8bb2\uff0c\u53ef\u4ee5\u53c2\u8003\u697c\u4e0b\uff0c\u6211\u4e5f\u662f\u53c2\u8003\u4e86\u4ed6\u7684\u72b6\u6001\u624d\u6539\u5bf9\u7684\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff08\u4e5f\u4e0d\u662f\u591a\u5b8c\u7f8e\uff09\uff1a\n\n\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nint n,m;\nint v[70],p[70],q[70];\nint q1[70],q2[70];\nint dp[40000];//dp[i]\u8868\u793a\u9009\u53d6\u65f6\u82b1\u8d39\u4e3ai\u65f6\u7684\u9898\u76ee\u8981\u6c42\u7684\u6700\u5927\u503c \nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=m;i++)\n    {\n        scanf(\"%d%d%d\",&v[i],&p[i],&q[i]);\n        if(q[i]!=0)//\u9884\u5904\u7406\u6bcf\u4e2a\u4e3b\u4ef6\u7684\u9644\u4ef6 \n        {\n            if(q1[q[i]]==0) q1[q[i]]=i;\n            else q2[q[i]]=i;\n        }\n    }\n    for(int i=1;i<=m;i++)\n    for(int j=n;j;j--)//\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u662fn~1\u8bf7\u67e5\u770b01\u80cc\u5305\u7684\u4e00\u7ef4\u64cd\u4f5c\uff0c\u65b0\u624b\u4e5f\u53ef\u4ee5\u5148\u8bd5\u8bd5\u4e8c\u7ef4\uff0c\u8fd9\u91cc\u5c31\u63d0\u4f9b\u8fd9\u4e2a\u4e00\u7ef4\u7684 \n    if(q[i]==0)//\u53ea\u7528\u679a\u4e3e\u4e3b\u4ef6\u7684\u72b6\u6001 \uff0c\u4e0b\u9762\u6574\u4e2a\u5c31\u662f01\u80cc\u5305\u4e00\u7ef4\u64cd\u4f5c \n    {\n        if(j-v[i]>=0) dp[j]=max(dp[j],dp[j-v[i]]+v[i]*p[i]);//\u4e3b\u4ef6\u72b6\u6001\u4e00 \n        if(q1[i]!=0&&j-v[i]-v[q1[i]]>=0) dp[j]=max(dp[j],dp[j-v[i]-v[q1[i]]]+v[i]*p[i]+v[q1[i]]*p[q1[i]]);//\u4e3b\u4ef6\u72b6\u6001\u4e8c \n        //\u5982\u679c\u6709\u7b2c\u4e00\u4e2a\u9644\u4ef6 \u5e76\u4e14\u5f53\u524d\u72b6\u6001\u7684\u94b1\u80fd\u591f\u4e70\u4e0b\u4e3b\u4ef6i\u548c\u5176\u7b2c\u4e00\u4e2a\u9644\u4ef6 \n        if(q2[i]!=0)//\u5982\u679c\u6709\u7b2c\u4e8c\u4e2a\u9644\u4ef6 \n        {\n            if(j-v[i]-v[q2[i]]>=0) dp[j]=max(dp[j],dp[j-v[i]-v[q2[i]]]+v[i]*p[i]+v[q2[i]]*p[q2[i]]);//\u4e3b\u4ef6\u72b6\u6001\u4e09 \n            if(j-v[i]-v[q1[i]]-v[q2[i]]>=0) dp[j]=max(dp[j],dp[j-v[i]-v[q1[i]]-v[q2[i]]]+v[i]*p[i]+v[q1[i]]*p[q1[i]]+v[q2[i]]*p[q2[i]]);\n            //\u8fd9\u4e24\u4e2aif\u90fd\u662f\u5224\u65ad\u5f53\u524d\u679a\u4e3e\u7684\u94b1\u662f\u5426\u4e70\u5f97\u8d77\u7b2ci\u4e3b\u4ef6\u548c\u5176\u7b2c\u4e8c\u9644\u4ef6\u6216\u4e00\u4e8c\u9644\u4ef6 \n        }\n    }\n    printf(\"%d\",dp[n]);//\u6700\u540e\u8868\u793a\u82b1n\u5143\u83b7\u5f97\u6700\u5927\u4ef7\u503c\uff08\u60f3\u60f3\u4e3a\u4ec0\u4e48\uff1f\u82e5\u4e0d\u77e5\u9053\uff0c\u60f3\u60f3dp\u8868\u793a\u7684\u72b6\u6001\u7684\u610f\u4e49\uff09 \n    return 0;\n}\n```\n\u6700\u540e\u5982\u6709\u7591\u95ee\uff0c\u6b22\u8fce\u79c1\u4fe1\u6211\u3002",
        "postTime": 1476276395,
        "uid": 25151,
        "name": "traceson",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u76f4\u63a5\u6dfb\u52a00\u8fd9\u4e2a\u865a\u70b9\uff0c\u5411\u6240\u6709\u4e3b\u4ef6\u8fde\u4e00\u6761\u8fb9\uff0c\u7136\u540e\u5c31\u6210\u4e3a\u4e86\u4e00\u68f5\u6811\n\n\u7136\u540e\u76f4\u63a5DP\u5c31\u597d\u4e86\uff0c\u5f88\u77ed\u7684\uff0c\u800c\u4e14\u590d\u6742\u5ea6\u662fO\uff08nC\uff09\u7684\n\n\u6838\u5fc3\u4ee3\u7801\u5f88\u77ed\u7684\u8bf4\n\n/\\* ***********************************************\n\nAuthor        :BPM136\n\nCreated Time  :2016-10-7 21:11:08\n\nFile Name     :3.cpp\n\n************************************************ \\*/\n\n\n\n\n\n\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstdlib>\n#include<cmath>\n#include<cstring>\n#include<iomanip>\n#include<bitset>\n#include<queue>\n#include<ctime>\n#include<set>\n#include<utility>\n#include<vector>\n#include<functional>\n#include<numeric>\n#include<memory>\n#include<iterator>\n#define LL long long\n#define DB double\n#define LB long double\n#define UL unsigned long\n#define ULL unsigned long long\n#define pb push_back\n#define popb pop_back\n#define get(a,i) a&(1<<(i-1))\n#define PAU putchar(32)\n#define ENT putchar(10)\n#define clr(a,b) memset(a,b,sizeof(a))\n#define fo(_i,_a,_b) for(int _i=_a;_i<=_b;_i++)\n#define fd(_i,_a,_b) for(int _i=_a;_i>=_b;_i--)\n#define efo(_i,_a) for(int _i=last[_a];_i!=0;_i=e[_i].next)\n#define file(x) freopen(#x\".in\",\"r\",stdin),freopen(#x\".out\",\"w\",stdout);\n#define mkd(x) freopen(#x\".in\",\"w\",stdout);\n#define setlargestack(x) int size=x<<20;char *p=(char*)malloc(size)+size;__asm__(\"movl %0, %%esp\\n\" :: \"r\"(p));\n#define end system(\"pause\")\nusing namespace std;\nLL read()\n{\n         LL f=1,d=0;char s=getchar();\n         while (s<48||s>57){if (s==45) f=-1;s=getchar();}\n         while (s>=48&&s<=57){d=d*10+s-48;s=getchar();}\n         return f*d;\n}\nLL readln()\n{\n       LL f=1,d=0;char s=getchar();\n       while (s<48||s>57){if (s==45) f=-1;s=getchar();}\n       while (s>=48&&s<=57){d=d*10+s-48;s=getchar();}\n       while (s!=10) s=getchar();\n       return f*d;\n}\ninline void write(LL x)\n{\n    if(x==0){putchar(48);return;}if(x<0)putchar(45),x=-x;\n    int len=0,buf[20];while(x)buf[len++]=x%10,x/=10;\n    for(int i=len-1;i>=0;i--)putchar(buf[i]+48);return;\n}\ninline void writeln(LL x){write(x);ENT;}\nconst int N = 60 + 5;\nconst int M = 32000 + 5;\nconst int MAX = 10000;\nint f[N][M];\nint n,m;\nint G[N][N];\nint c[N],v[N];\nvoid init() {\n    m=read(),n=read();\n    fo(i,1,n) {\n        int x=read(),y=read();\n        c[i]=x; v[i]=x*y;\n        int z=read();\n        G[z][++G[z][0]]=i;\n    }\n}\nvoid dfs(int x,int lim) {\n    if(lim<=0) return ;\n    fo(i,1,G[x][0]) {\n        fo(j,0,lim-c[G[x][i]]) f[G[x][i]][j]=f[x][j]+v[G[x][i]];\n        dfs(G[x][i],lim-c[G[x][i]]);\n        fo(j,c[G[x][i]],lim) f[x][j]=max(f[x][j],f[G[x][i]][j-c[G[x][i]]]);\n    }\n}\nvoid work() {\n    clr(f,0);\n    dfs(0,m);\n    cout<<f[0][m]<<endl;\n}\nint main() {\n    freopen(\"3.in\",\"r\",stdin);\n    freopen(\"3.out\",\"w\",stdout);\n    init();\n    work();\n    return 0;\n}\n\n```",
        "postTime": 1475847865,
        "uid": 3183,
        "name": "BPM136",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u5f3a\u5316\u7248\u768401\u80cc\u5305\uff0c\u5728\u8003\u8651\u4e3b\u4ef6\u65f6\u8003\u8651\u540c\u65f6\u5e26\u4e0d\u5e26\u9644\u4ef6\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1af[j]=max(f[j],f[j-w[i]]+c[i],f[j-w[i]-w[q[i][1]]]+c[i]+c[q[i][1]],f[j-w[i]-w[q[i][2]]]+c[i]+c[q[i][2]],f[j-w[i]-w[q[i][1]]-w[q[i][2]]]+c[i]+c[q[i][1]]+c[q[i][2]]);\n\n```cpp\n#include<iostream>\nusing namespace std;\nint f[33000],v,n,w[70],c[70],q[33000][3]={0},qb[33000]={0},pd;\nint main()\n{\n    cin>>v>>n;\n    for(int i=1;i<=n;i++)\n    {\n        cin>>w[i]>>c[i]>>pd;c[i]=c[i]*w[i];//\u5c06\u4ef7\u503c\u76f4\u63a5\u4e58\u4e0a\u4ef7\u683c\n        if(pd){qb[i]=1;if(!q[pd][1]){q[pd][1]=i;}else{q[pd][2]=i;}}//\u6807\u8bb0\u5904\u7406\u9644\u4ef6\n    }\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=v;j>=w[i];j--)\n        {\n            if(!qb[i])//\u5982\u679c\u662f\u4e3b\u4ef6\uff0c\u5f00\u59cb\u8f6c\u72b6\u6001\n            {\n                f[j]=max(f[j],f[j-w[i]]+c[i]);//\u6ca1\u6709\u9644\u4ef6\n                if(w[i]+w[q[i][1]]<=j){f[j]=max(f[j],f[j-w[i]-w[q[i][1]]]+c[i]+c[q[i][1]]);}//\u53ea\u4e70\u4e00\u4e2a\n                if(w[i]+w[q[i][2]]<=j){f[j]=max(f[j],f[j-w[i]-w[q[i][2]]]+c[i]+c[q[i][2]]);}\n                if(w[i]+w[q[i][1]]+w[q[i][2]]<=j){f[j]=max(f[j],f[j-w[i]-w[q[i][1]]-w[q[i][2]]]+c[i]+c[q[i][1]]+c[q[i][2]]);}//\u4e24\u4e2a\u90fd\u4e70\n            }\n        }\n    }\n    cout<<f[v];//\u8f93\u51fa\u6700\u4f18\u89e3\n    return 0;\n}\n```",
        "postTime": 1471944869,
        "uid": 14378,
        "name": "doby",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u5982\u679c\u4e0d\u53bb\u5728\u8fd0\u7b97\u65f6\u679a\u4e3e\u4e70\u9644\u4ef6\uff0c\u800c\u662f\u5728\u4e70\u4e3b\u4ef6\u65f6\u628a\u9644\u4ef6\u7684\u7f16\u53f7\u5b58\u50a8\u5728\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff0c\u5728\u679a\u4e3e\u4e3b\u4ef6\u65f6\u53bb\u8003\u8651\u8981\u4e0d\u8981\u4e70\u9644\u4ef6\u5c31\u662f\u4e00\u4e2a\u7b80\u5355\u768401\u80cc\u5305\u95ee\u9898\u4e86\u3002\n\n/\\*\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\\*/\n\n\n\n\n```cpp\nint f[32000]={0}; \n#include<stdio.h>\nmain()\n{int n,m,i,k,q1;\nint w[60],v[60],q[60][2]={0};//q[60][2]\u5b58\u50a8\u6240\u9700\u8981\u7684\u7269\u4ef6\u7684\u9644\u4ef6\u7f16\u53f7\uff08\u9644\u4ef6\u7684\u9644\u4ef6\u7f16\u53f7\u6052\u4e3a0\uff0c\u4e3b\u4ef6\u7684\u9644\u4ef6\u6700\u591a\u6709\u4e24\u79cd\uff09\nint qa[60]={0};//qa\u5b58\u50a8\u662f\u4e0d\u662f\u4e3b\u4ef6\nw[0]=0;v[0]=0; //\u5fc5\u987b\u5199\uff08\u56e0\u4e3a\u5047\u5982\u662f\u4e3b\u4ef6\u65e0\u9644\u4ef6\u65f6q[i][]=0\uff1b\u8f6c\u79fb\u5230w[0] v[0]\uff0c\u8d4b\u503c\u4e3a0\u5bf9\u5224\u65ad\u65e0\u5f71\u54cd\nscanf(\"%d%d\",&n,&m);\nfor(i=1;i<=m;i++)\n{\nscanf(\"%d%d%d\",&w[i],&k,&q1);\nv[i]=w[i]*k; \nif(q1!=0)//\u5224\u65ad\u4ed6\u662f\u4e0d\u662f\u9644\u4ef6\n{qa[i]=1;//i\u4ef6\u662f\u9644\u4ef6\u5219qa[i]=1\uff1b\nif(q[q1][0]==0)q[q1][0]=i;//\u5b58\u50a8\nelse q[q1][1]=i;\n}\n} \nk=0; \nfor(i=1;i<=m;i++)\nfor(k=n;k>=w[i];k--)//\u6807\u51c6\u768401\u80cc\u5305\u5199\u6cd5\n{if(qa[i]==0)\n    {\n    f[k]=max(f[k],f[k-w[i]]+v[i]);//\u88c5\u4e3b\u4ef6\n    if(k-w[i]-w[q[i][0]]>=0)f[k]=max(f[k],f[k-w[i]-w[q[i][0]]]+v[i]+v[q[i][0]]);//\u9009\u62e9\u7b2c\u4e00\u9644\u4ef6\n    if(k-w[i]-w[q[i][1]]>=0)f[k]=max(f[k],f[k-w[i]-w[q[i][1]]]+v[i]+v[q[i][1]]);//\u9009\u62e9\u7b2c\u4e8c\u9644\u4ef6\n    if(k-w[i]-w[q[i][0]]-w[q[i][1]]>=0)f[k]=max(f[k],f[k-w[i]-w[q[i][0]]-w[q[i][1]]]+v[i]+v[q[i][0]]+v[q[i][1]]);//\u90fd\u8981\n    }\n}\n printf(\"%d\",f[n]); \n}\n int max(int x,int y)//\u51fd\u6570\u6bd4\u5927\u5c0f\n {if(x>y)return x;\n return y;\n}\n```",
        "postTime": 1470395621,
        "uid": 21010,
        "name": "\u90aa\u738b\u771f\u773cRikka",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "```cpp\n//\u7ecf\u5178\u7684\u6709\u4f9d\u8d56\u80cc\u5305\u95ee\u9898~~~~~ \n//\u8fd9\u79cd\u9898\u76ee\u7684\u65b9\u6cd5\u5c31\u662f\u5206\u7c7b\u8ba8\u8bba\uff0c\n//\u9996\u5148\u5047\u8bbe\u53ea\u9009\u4e3b\u4ef6\uff0c\u90a3\u4e48\u4e0d\u5c31\u662f\u4e00\u4e2a\u7b80\u5355\u768401\u80cc\u5305\u5417\uff1fo(>\ufe4f<)o\n//\u7136\u540e\u8003\u8651\u9009\u7b2c\u4e00\u4ef6\u9644\u4ef6\uff0c\u540c\u4e0a\uff0c\u53ea\u8981\u5728\u6570\u7ec4\u4e2d\u591a\u51cf\u4e00\u4e2a\u9644\u4ef6\u5c31\u597d\u4e86\n// \u7136\u540e\u9009\u7b2c\u4e8c\u4ef6\u3002\u3002\u3002\u70e6\u6b7b\u4e86/(\u3112o\u3112)/~~\n//\u6700\u540e\u5c31\u662f\u540c\u65f6\u9009\u4e24\u4ef6\u3002\u3002\u3002\u4e00\u6837\uff0c\u5728f\u3010\u3011\u4e2d\u540c\u65f6\u51cf\u53bb\u4e24\u4ef6\u7684\u4ef7\u683c\u5373\u53ef\n//\u8fd9\u6837\u5c31\u5927\u529f\u544a\u6210\u4e86O(\u2229_\u2229)O~~\n//\u3002\u3002\u256e(\u256f_\u2570)\u256d\u6211\u4e0d\u4f1a\u7b97\u3002\u3002\u3002 \n#include<cstdio> \n#include<algorithm>\nusing namespace std;\nint w[70],p[70],q[70],f[50000]; //w\u8868\u793a\u4ef7\u683c\uff0cp\u8868\u793a\u91cd\u8981\u5ea6\uff0cq\u8868\u793a\u4e3b\u89c1\u8fd8\u662f\u9644\u4ef6   \nint main()  \n{  \n    freopen(\"budget.in\",\"r\",stdin);\n    freopen(\"budget.out\",\"w\",stdout);\n    int n,m;     \n    int l=0;  \n    scanf(\"%d%d\",&n,&m);  \n    for(int i=1;i<=m;i++)  \n    {  \n        scanf(\"%d%d%d\",&w[i],&p[i],&q[i]);  \n    }  \n    for(int i=1;i<=m;i++)  \n    {  \n        int k1=0;  \n        int k2=0;  \n        int t1=0;  \n        int t2=0;  \n        if(q[i]==0)  \n        {  \n            for(int k=i+1;k<=m;k++)  \n                if(q[k]==i)                         \n                {  \n                    t1=k;  \n                    k1=1;  \n                    break;  \n                }  \n                for(int k=t1+1;k<=m;k++)  \n                    if(q[k]==i)                         \n                    {  \n                        t2=k;  \n                        k2=1;  \n                        break;  \n                    }   \n                    for(int j=n;j>=w[i];j--)  \n                    {         \n                        f[j]=max(f[j-w[i]]+w[i]*p[i],f[j]);  \n                        f[j]=max(f[j-w[i]]+w[i]*p[i],f[j]);     \n                        if((j-w[i]-w[t1])>=0&&k1==1)                           \n                            f[j]=max(f[j-w[i]-w[t1]]+w[i]*p[i]+w[t1]*p[t1],f[j]);  \n                        if((j-w[i]-w[t2])>=0&&k2==1)                                             \n                            f[j]=max(f[j-w[i]-w[t2]]+w[i]*p[i]+w[t2]*p[t2],f[j]);  \n                        if((j-w[i]-w[t1]-w[t2])>=0&&k1==1&&k2==1)                                             \n                            f[j]=max(f[j-w[i]-w[t1]-w[t2]]+w[i]*p[i]+w[t1]*p[t1]+w[t2]*p[t2],f[j]);           \n                    }  \n        }  \n    }  \n    printf(\"%d\\n\",f[n]);  \n    return 0;  \n}\n```",
        "postTime": 1470019399,
        "uid": 14293,
        "name": "cms061817",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u4e0d\u540c\u4e8e\u666e\u53ca\u7ec4\u7684\u91d1\u660e\uff0c\u8fd9\u91cc\u7531\u4e8e\u5b58\u5728\u5f71\u54cd\u9009\u62e9\u7684\u9644\u4ef6\uff0c\u6211\u4eec\u5c31\u9700\u8981\u8003\u8651\u66f4\u590d\u6742\u7684\u60c5\u51b5\u3002\n\n\n\u9996\u5148\uff0c\u56e0\u4e3a\u6211\u4eec\u77e5\u9053\u9009\u62e9\u9644\u4ef6\u7684\u524d\u63d0\u662f\u8981\u6709\u4e3b\u4ef6\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u60f3\u5728\u9009\u62e9\u9644\u4ef6\u7684\u65f6\u5019\u52a0\u4e00\u4e2a\u5224\u65ad\u3002\u4f46\u5b9e\u9645\u4e0a\u8fd9\u6837\u505a\u5c31\u4e0d\u7b26\u5408\u80cc\u5305\u52a8\u6001\u89c4\u5212\u7684\u7ed3\u6784\uff0c\u56e0\u6b64\u6211\u4eec\u5c31\u5e94\u8be5\u7528\u4e00\u79cd\u5efa\u7acb\u5728\u80cc\u5305\u95ee\u9898\u57fa\u7840\u4e0a\u7684\u7b97\u6cd5\u3002\n\n\n\u8003\u8651\u5230\u6700\u591a\u65f6\u67092\u4e2a\u9644\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u60f3\uff1a\n\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u4e3b\u4ef6\u548c\u5b83\u6700\u591a2\u4e2a\u7684\u9644\u4ef6\uff0c\u5171\u67094\u79cd\u60c5\u51b5\n\n1.\u53ea\u53d6\u4e3b\u4ef6\n\n2.\u53d6\u4e3b\u4ef6\u548c\u7b2c\u4e00\u4e2a\u9644\u4ef6\n\n3.\u53d6\u4e3b\u4ef6\u548c\u7b2c\u4e8c\u4e2a\u9644\u4ef6\n\n4.\u53d6\u4e3b\u4ef6\u548c\u6240\u6709\u9644\u4ef6\n\n\n\u5728\u679a\u4e3e\u7269\u54c1\u548c\u7a7a\u95f4\u4e4b\u540e\u518d\u679a\u4e3e\u8fd94\u79cd\u5206\u652f\u6765\u89e3\u51b3\u95ee\u9898\n\n\nPASCAL\u4ee3\u7801\n\n```delphi\n\nvar a,c:array[1..100,0..4] of longint;\n    m,n,i,v,p,q,l,j,k:longint;\n    dist:array[1..100] of longint;\n    f:array[-50000..50000] of longint;\n\nfunction max(a,b:longint):longint;\n\nbegin\n\n        if a>b then exit(a)\n\n               else exit(b);\n\nend;\n\nbegin\n\n        readln(m,n);\n\n        for i:=1 to n do begin\n\n                readln(v,p,q);\n\n                if q=0 then begin\n\n                l:=l+1;dist[i]:=l;\n\n                c[l,0]:=1;\n                c[l,c[l,0]]:=v*p;\n\n                a[l,0]:=1;\n                a[l,a[l,0]]:=v;\n\n                end\n\n                else begin\n\n                c[dist[q],0]:=c[dist[q],0]+1;\n                c[dist[q],c[dist[q],0]]:=c[dist[q],1]+v*p;\n\n                a[dist[q],0]:=a[dist[q],0]+1;\n                a[dist[q],a[dist[q],0]]:=a[dist[q],1]+v;\n\n                end;\n\n                end;\n\n        for i:=1 to l do\n\n            if c[i,0]=3 then begin\n\n            c[i,4]:=c[i,3]+c[i,2]-c[i,1];\n\n            a[i,4]:=a[i,3]+a[i,2]-a[i,1];\n\n            end;\n\n    {\u6570\u7ec4a[i,k]\u8868\u793a4\u79cd\u60c5\u51b5\u4e0b\u7684\u7a7a\u95f4\n             c[i,k]\u8868\u793a4\u79cd\u60c5\u51b5\u4e0b\u7684\u4ef7\u503c}\n\n        for i:=1 to l do\n\n            for j:=m downto 0 do\n\n                for k:=1 to 4 do\n\n                if j-a[i,k]>=0 then\n\n                f[j]:=max(f[j],f[j-a[i,k]]+c[i,k]);\n\n        writeln(f[m]);\n\nend.\n\n```\n",
        "postTime": 1446685702,
        "uid": 10356,
        "name": "\u5929\u72d7\u7684\u624b\u5e16",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u7c7b\u4f3c01\u80cc\u5305\uff0c\u4f46\u662f\u52a0\u4e86\u4e3b\u4ef6\u9644\u4ef6\u7684\u9650\u5236\u3002\n\n\u7531\u4e8e\u6700\u591a2\u4e2a\u4e3b\u4ef6\uff0c\u628a01\u80cc\u5305\u7684DP\u6539\u4e00\u4e0b\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u53e6\u5916\uff0c\u5982\u679c\u4e0d\u9650\u5236\u9644\u4ef6\u7684\u6570\u91cf\uff0c\u4e0d\u9650\u5236\u9644\u4ef6\u6ca1\u6709\u9644\u4ef6\uff0c\u90a3\u5c31\u53d8\u6210\u4e86\u6811\u5f62\u80cc\u5305\u3002\n\n\u4e0a\u4ee3\u7801\n\n```cpp\n\n#include <cstdio>\n\nstatic int f[32010]; // f[i] = the max result when i money\nstatic int val[100][10], wgt[100][10];\n\nint main()\n{\n    int n, m; scanf(\"%d%d\", &n, &m);\n    for (int i = 0; i < m; i++)\n    {\n        int v, p, q; scanf(\"%d%d%d\", &v, &p, &q);\n        if (q) q--, val[q][val[q][1] ? 2 : 1] = v, wgt[q][wgt[q][1] ? 2 : 1] = p * v;\n        else val[i][0] = v, wgt[i][0] = v * p;\n    }\n    for (int i = 0; i < m; i++) if (wgt[i][0]) for (int j = n; j > 0; j--)\n    {\n        if (j >= val[i][0] && f[j] < (f[j - val[i][0]] + wgt[i][0]))\n                f[j] = f[j - val[i][0]] + wgt[i][0];\n        if (j >= (val[i][0] + val[i][1]) && f[j] < (f[j - val[i][0] - val[i][1]] + wgt[i][0] + wgt[i][1]))\n                f[j] = f[j - val[i][0] - val[i][1]] + wgt[i][0] + wgt[i][1];\n        if (j >= (val[i][0] + val[i][2]) && f[j] < (f[j - val[i][0] - val[i][2]] + wgt[i][0] + wgt[i][2]))\n                f[j] = f[j - val[i][0] - val[i][2]] + wgt[i][0] + wgt[i][2];\n        if (j >= (val[i][0] + val[i][1] + val[i][2]) && f[j] < (f[j - val[i][0] - val[i][1] - val[i][2]] + wgt[i][0] + wgt[i][1] + wgt[i][2]))\n                f[j] = f[j - val[i][0] - val[i][1] - val[i][2]] + wgt[i][0] + wgt[i][1] + wgt[i][2];\n    }\n    printf(\"%d\\n\", f[n]);\n    return 0;\n}\n\n```",
        "postTime": 1444880036,
        "uid": 10280,
        "name": "wxy2015",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u6709\u6761\u4ef6\u7684\u80cc\u5305\u6a21\u578b\uff0c\u53ef\u4ee5\u679a\u4e3e\u4e3b\u4ef6\uff0c\u6709\u4e0d\u53d6\uff0c\u53d6\u9644\u4ef6A\uff0c\u9644\u4ef6B\uff0c\u4e24\u4e2a\u9644\u4ef6\u56db\u79cd\u60c5\u51b5\u3002\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n\n\nf[j]:=max(f[j],\n\nf[j-a[i,0]]+a[i,0]\\*b[i,0],\n\nf[j-a[i,0]-a[i,1]]+a[i,0]\\*b[i,0]+a[i,1]\\*b[i,1],\n\nf[j-a[i,0]-a[i,2]]+a[i,0]\\*b[i,0]+a[i,2]\\*b[i,2],\n\nf[j-a[i,0]-a[i,2]-a[i,1]]+a[i,0]\\*b[i,0]+a[i,2]\\*b[i,2]+a[i,1]\\*b[i,1]\n\n\n \n```delphi\n\n(var a,b:array[1..100,0..2] of longint;\n//b[i,j]\u8868\u793ai\u7684\u7b2cj\u4e2a\u5b69\u5b50\u7684\u91cd\u8981\u6027\uff1ba[i,j]\u8868\u793ai\u7684\u7b2cj\u4e2a\u5b69\u5b50\u7684\u4ef7\u503c\uff1ba[i,0],b[i,0]\u8868\u793a\u7684\u662f\u81ea\u8eab;\n    f:array[-1000000..1000000] of longint;\n    n,m,i,x,y,z,j:longint;\n\nfunction max(x,y:longint):longint;\nbegin\n    if x>y then exit(x) else exit(y);\nend;\n\nbegin\n    readln(n,m);\n    fillchar(a,sizeof(a),0);\n    fillchar(a,sizeof(a),0);\n    fillchar(f,sizeof(f),0);\n    for i:=1 to m do\n        begin\n            readln(x,y,z);\n            if z=0 then\n                begin\n                    a[i,0]:=x;\n                    b[i,0]:=y;\n                end;\n            if z<>0 then\n                begin\n                    if a[z,1]=0 then\n                        begin\n                            a[z,1]:=x;\n                            b[z,1]:=y;\n                        end\n                    else\n                        begin\n                            a[z,2]:=x;\n                            b[z,2]:=y;\n                        end;\n                end;\n        end;\n    for i:=1 to m do\n        for j:=n downto 1 do\n            begin\n                if j>=a[i,0] then f[j]:=max(f[j],f[j-a[i,0]]+a[i,0]*b[i,0]);//\u53d6\u4e3b\u4ef6\n                if j>=a[i,0]+a[i,1] then f[j]:=max(f[j],f[j-a[i,0]-a[i,1]]+a[i,0]*b[i,0]+a[i,1]*b[i,1]);//\u53d6\u7b2c\u4e00\u4e2a\u9644\u4ef6\n                if j>=a[i,0]+a[i,2] then f[j]:=max(f[j],f[j-a[i,0]-a[i,2]]+a[i,0]*b[i,0]+a[i,2]*b[i,2]);//\u53d6\u7b2c\u4e8c\u4e2a\u9644\u4ef6\n                if j>=a[i,0]+a[i,1]+a[i,2] then f[j]:=max(f[j],f[j-a[i,0]-a[i,2]-a[i,1]]+a[i,0]*b[i,0]+a[i,2]*b[i,2]+a[i,1]*b[i,1]);//\u53d6\u4e09\u4e2a\u9644\u4ef6\n            end;\n    writeln(f[n]);\nend.)\n\n);\n```",
        "postTime": 1439176680,
        "uid": 6906,
        "name": "gryql",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u2460\u6211\u56e0\u4e3a\u6ca1\u8bfb\u61c2\u9898\u610f\u63d0\u4ea4\u7b2c4\u6b21\u624d\u8fc7\uff1a\u6ce8\u610f\u7f16\u53f7q\u4e0d\u662f\u6309\u8f93\u5165\u7684\u7b2c\u51e0\u4e2a\u4e3b\u4ef6\u6765\u7f16\u53f7\u7684\uff0c\u800c\u662f\u6309\u8f93\u5165\u7684\u7b2c\u51e0\u4e2a\u7269\u4f53\u6765\u7f16\u53f7\u3002\n\n\u2461\u5b58\u50a8\u65f6\u628a\u9644\u4ef6\u5f53\u4f5c\u4e3b\u4ef6\u7684\u5b50\u8282\u70b9\u4f1a\u597d\u4e9b\u3002\n\n\u2462\u6211\u7684\u4e94\u4e2a\u51b3\u7b56\u770b\u8d77\u6765\u6bd4\u8f83\u957f\uff0c\u5176\u5b9e\u5c31\u590d\u5236\u7c98\u8d34\u2026\u2026\u56e0\u4e3a\u7528\u4e86\u5feb\u6392\u6240\u4ee5\u611f\u89c9\u601d\u8def\u4f1a\u5f88\u6e05\u6670\u3002\n\n\u4e0b\u9762\u662fC\u4ee3\u7801\uff1a\n\n```cpp\n#include<stdio.h>\n#include<stdlib.h>\nint cmp(const void *a,const void *b)\n{return *(int*)b - *(int*)a;}\nint main(void)\n{\n    int n,m,v,p,q,f[32001]={0},i,j,k,V[61][3]={{0}},P[61][3]={{0}},book[61],num[61]={0};\n    scanf(\"%d%d\",&n,&m);\n    for(i=1,j=0;i<=m;i++) //j\u4e3a\u4e3b\u4ef6\u4e2a\u6570\n    {\n        scanf(\"%d%d%d\",&v,&p,&q);\n        if(q==0) //\u4e3b\u4ef6\n        { \n            V[++j][0]=v;\n            P[j][0]=p;\n            book[i]=j;//\u7f16\u53f7i\u7269\u4f53\u662f/\u4ece\u5c5e\u4e8e\u7b2cj\u4e2a\u4e3b\u4ef6\n            num[j]=1;//\u4e3b\u4ef6+\u9644\u4ef6\u6570\u91cf \n        }\n        else //\u9644\u4ef6\n        {\n            V[book[q]][num[book[q]]]=v; //V[i][0]\u5b58\u4e3b\u4ef6,V[i][1\u548c2]\u5b58\u9644\u4ef6\n            P[book[q]][num[book[q]]++]=p;//\u540cV.\n        }\n    }\n    for(i=1;i<=j;i++)//\u5bf9\u4e8e\u6bcf\u4e2a\u4e3b\u4ef6 \n    {\n        for(k=n;k>=10;k-=10) //\u56e0\u4e3a\u9898\u610f\u8bf4\u4e86\u94b1\u5fc5\u7136\u662f\u6574\u6570\u500d\n        {\n            int c[5]={0};\n            c[0]=f[k];//\u4e0d\u4e70 \n            if(k-V[i][0]>=0) c[1]=f[k-V[i][0]]+V[i][0]*P[i][0];//\u4e70\u4e3b\u4ef6 \n            if(k-V[i][0]-V[i][1]>=0)\n                c[2]=f[k-V[i][0]-V[i][1]]+V[i][0]*P[i][0]+V[i][1]*P[i][1];//\u4e3b\u4ef6+\u9644\u4ef61\n            if(k-V[i][0]-V[i][2]>=0)\n                c[3]=f[k-V[i][0]-V[i][2]]+V[i][0]*P[i][0]+V[i][2]*P[i][2];//\u4e3b\u4ef6+\u9644\u4ef62 \n            if(k-V[i][0]-V[i][1]-V[i][2]>=0)\n                c[4]=f[k-V[i][0]-V[i][1]-V[i][2]]+\n                    V[i][0]*P[i][0]+V[i][1]*P[i][1]+V[i][2]*P[i][2];//\u4e3b\u4ef6+\u9644\u4ef61\u30012 \n            qsort(c,5,sizeof(c[0]),cmp);\n            f[k]=c[0];\n        }\n    }\n    printf(\"%d\",f[n]);\n    return 0;\n}\n```",
        "postTime": 1438754164,
        "uid": 4693,
        "name": "CoolTeam",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u6069\u2026\u2026\u4e94\u79cd\u60c5\u51b5\u7684\u80cc\u5305\u95ee\u9898\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u5269\u4f59\u7a7a\u95f4\n\n1.\u4ec0\u4e48\u90fd\u4e0d\u53d6\n\n2.\u53ea\u53d6\u4e3b\u4ef6\n\n3.\u53d6\u4e3b\u4ef6+\u9644\u4ef61\n\n4.\u53d6\u4e3b\u4ef6+\u9644\u4ef62\n\n5.\u53d6\u4e3b\u4ef6+\u9644\u4ef61+\u9644\u4ef62\n\n\n\u8fd9\u6837\u7684\u8bdd\uff0c\u8f6c\u79fb\u65b9\u7a0b\u5f88\u5bb9\u6613\u5c31\u51fa\u6765\u4e86\uff08\u65b9\u7a0b\u592a\u957f\uff0c\u539f\u8c05\u6211\u61d2\u2511(\uffe3\u0414 \uffe3)\u250d\uff09\n\n\nPS\uff1a\u5b58\u50a8\u7684\u65f6\u5019\u6211\u7528\u4e86\u4e2a\u6bd4\u8f83\u7b28\u7684\u65b9\u6cd5( \ufe41 \ufe41 ) \uff0c\u76f4\u63a5\u5f004\u4e2a\u4e00\u7ef4\u6570\u7ec4\u6765\u5b58\n\nfv1\u4e0efw1\u662f\u9644\u4ef61\u7684    fv2\u4e0efw2\u662f\u9644\u4ef62\u7684   \u5f53\u7136v\u4e0ew\u662f\u4e3b\u4ef6\u7684\n\n\n\u6807\u7a0b\u5982\u4e0b\uff1a\n\n```delphi\nvar\n  dp:array[-100..33000] of longint;\n  v,w,fv1,fw1,fv2,fw2:array[1..60] of longint;\n  n,m,i,j,o,p,q,max:longint;\nbegin\n  read(n,m);\n  for i:=1 to m do\n    begin\n      read(o,p,q);\n      if q=0 then\n        begin\n          v[i]:=o;w[i]:=p*o;\n        end\n      else\n        if fv1[q]=0 then\n          begin\n            fv1[q]:=o;fw1[q]:=p*o;\n          end\n        else\n          begin\n            fv2[q]:=o;fw2[q]:=p*o;\n          end;\n    end;\n  fillchar(dp,sizeof(dp),0);\n  for i:=1 to m do\n    if v[i]>0 then\n      for j:=n downto 0 do\n        begin\n          max:=dp[j];\n          if (j-v[i]>=0) and (dp[j-v[i]]+w[i]>max) then max:=dp[j-v[i]]+w[i];\n          if (j-v[i]-fv1[i]>=0) and (dp[j-v[i]-fv1[i]]+w[i]+fw1[i]>max) then max:=dp[j-v[i]-fv1[i]]+w[i]+fw1[i];\n          if (j-v[i]-fv2[i]>=0) and (dp[j-v[i]-fv2[i]]+w[i]+fw2[i]>max) then max:=dp[j-v[i]-fv2[i]]+w[i]+fw2[i];\n          if (j-v[i]-fv1[i]-fv2[i]>=0) and (dp[j-v[i]-fv1[i]-fv2[i]]+w[i]+fw1[i]+fw2[i]>max) then max:=dp[j-v[i]-fv1[i]-fv2[i]]+w[i]+fw1[i]+fw2[i];\n          dp[j]:=max;\n        end;\n  write(dp[n]);\nend.\n```\n\n\u7a0b\u5e8f\u4e11\u8bf7\u89c1\u8c05orz\n",
        "postTime": 1437573046,
        "uid": 5938,
        "name": "\u5c0f\u9ed1",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u52a8\u5f52\u65b9\u7a0b\uff08\u5bf9\u4e8e\u4e3b\u4ef6\uff09\uff1a\n\nf[j]:=max(f[j-a[i,0]]+b[i,0],f[j-a[i,0]-a[i,1]]+b[i,0]+b[i,1],f[j-a[i,0]-a[i,2]]+b[i,0]+b[i,2],f[j-a[i,0]-a[i,1]-a[i,2]]+b[i,0]+b[i,1]+b[i,2],f[j]);\n\n\u7a0b\u5e8f\uff1a\n\n```cpp\nvar\n  g,f:array[-100000..100000] of longint;\n  a,b:array[0..100,0..2] of longint;\n  v,n,i,x,y,z,j:longint;\nfunction max(a,b,c,d,e:longint):longint;\nbegin\n  if a<b then a:=b;\n  if a<c then a:=c;\n  if a<d then a:=d;\n  if a<e then a:=e;\nend;\nbegin\n  readln(v,n);\n  for i:=-50000 to -1 do f[i]:=-maxlongint;\n  for i:=1 to n do\n    begin\n      readln(x,y,z);\n      if z=0 then begin\n      g[i]:=1;\n      a[i,0]:=x;b[i,0]:=x*y;\n      end else begin\n      a[z,g[z]]:=x;b[z,g[z]]:=x*y;\n      inc(g[z]);\n      end;\n    end;\n  for i:=1 to n do\n    if g[i]>=1 then\n    for j:=v downto 0 do\n      begin\n        f[j]:=max(f[j-a[i,0]]+b[i,0],f[j-a[i,0]-a[i,1]]+b[i,0]+b[i,1],f[j-a[i,0]-a[i,2]]+b[i,0]+b[i,2],f[j-a[i,0]-a[i,1]-a[i,2]]+b[i,0]+b[i,1]+b[i,2],f[j]);\n      end;\n  writeln(f[v]);\nend.\n\n```",
        "postTime": 1382351514,
        "uid": 817,
        "name": "lbn187",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u6709\u53f2\u4ee5\u6765\u6211\u5199\u7684\u6700\u81ea\u95ed\u7684\u80cc\u5305T_T  \n#### \u5927\u4f53\u601d\u8def  \n\u679a\u4e3e\u6bcf\u4e00\u4e2a\u4e3b\u4ef6\uff0c\u5e76\u987a\u5e26\u8f6c\u79fb\u5176\u9644\u4ef6  \nf[i]\u8868\u793a\u7528i\u5143\u94b1\u53ef\u4ee5\u83b7\u5f97\u7684\u6700\u5927\u8212\u9002\u5ea6\uff08\u6682\u4e14\u8fd9\u4e48\u53eb\u5427\uff09  \n\u8f6c\u79fb\u65b9\u7a0b\u53ef\u4ee5\u770b\u7a0b\u5e8f\uff0ci\u679a\u4e3e\u4e3b\u4ef6\uff0cj\u679a\u4e3e\u4ef7\u683c  \n### \u6ce8\u610f\uff1a\n\u4e00\u5b9a\u8981\u679a\u4e3e\u4e24\u4e2a\u9644\u4ef6\u90fd\u9009\u7684\u60c5\u51b5  \n\u9644\u4ef6\u7684\u8f6c\u79fb\u8981\u4e00\u5b9a\u8981\u9009\u62e9\u52a0\u5165\u4e3b\u4ef6\u7684f\uff0c\u800c\u4e0d\u662f\u53d6max\u4e4b\u540e\u7684f  \n~~\u4e0d\u7136\u4f60\u4eec\u5c31\u4f1a\u50cf\u6211\u4e00\u683740\u5206\u4e0d\u77e5\u6240\u63aa~~  \n```\n#include<bits/stdc++.h>\nusing namespace std;\n/*\n\u80cc\u5305 \n\u9047\u5230\u4e3b\u4ef6\u65f6\uff0c\u679a\u4e3e\u9644\u4ef6\u5e76\u8f6c\u79fb \nf[i]\u8868\u793a\u82b1i\u5143\u94b1\u53ef\u4ee5\u83b7\u5f97\u7684\u6700\u5927\u8212\u9002\u5ea6 \n*/\nint main()\n{\n\tint n,m,tmp,ans=0;\n\tcin>>n>>m;\n\tbool mai[n+5];\n\tint val[n+5],imp[n+5],f[n+5];\n\tvector<int> item[n+5];\n\tmemset(f,-1,sizeof(f));\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tcin>>val[i]>>imp[i]>>tmp;\n\t\tmai[i]=true;\n\t\tif(tmp>0)\n\t\t{\n\t\t\titem[tmp].push_back(i);\n\t\t\tmai[i]=false;\n\t\t}\n\t}\n\tf[0]=0;\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tif(!mai[i])\n\t\t\tcontinue;\n\t\tfor(int j=n-1;j>=0;j--)\n\t\t{\n\t\t\tif(f[j]==-1||j+val[i]>n)\n\t\t\t\tcontinue;\n\t\t\tf[j+val[i]]=max(f[j+val[i]],f[j]+val[i]*imp[i]);\n\t\t\tif(item[i].size()>0&&j+val[i]+val[item[i][0]]<=n)\n\t\t\t\tf[j+val[i]+val[item[i][0]]]=max(f[j+val[i]+val[item[i][0]]],f[j]+val[i]*imp[i]+val[item[i][0]]*imp[item[i][0]]);\n\t\t\tif(item[i].size()>1&&j+val[i]+val[item[i][1]]<=n)\n\t\t\t{\n\t\t\t\tf[j+val[i]+val[item[i][1]]]=max(f[j+val[i]+val[item[i][1]]],f[j]+val[i]*imp[i]+val[item[i][1]]*imp[item[i][1]]);\n\t\t\t\tif(j+val[i]+val[item[i][0]]+val[item[i][1]]<=n)\n\t\t\t\t\tf[j+val[i]+val[item[i][0]]+val[item[i][1]]]=max(f[j+val[i]+val[item[i][0]]+val[item[i][1]]],f[j]+val[i]*imp[i]+val[item[i][0]]*imp[item[i][0]]+val[item[i][1]]*imp[item[i][1]]);\n\t\t\t}\n\t\t}\n\t}\n\tfor(int j=1;j<=n;j++)\n\t\tans=max(ans,f[j]);\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1571233278,
        "uid": 182525,
        "name": "yangyujia18",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": " [\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.org/problem/P1064)\n \n\u8fd9\u9053\u9898\u662f\u5e26\u6709\u4f9d\u8d56\u7684\u80cc\u5305\u7684\u59cb\u7956(?)\u2026\u2026\n\n## \u7b80\u8981\u5206\u6790\n\n\u4e8e\u662f\u849f\u84bb\u5bf9\u6837\u4f8b\u753b\u4e86\u4e2a\u7b80\u56fe\uff08\u7f16\u53f7\u4e3a\u8f93\u5165\u987a\u5e8f\uff0c\u4e2d\u62ec\u53f7\u5de6\u4e3a\u4ef7\u683c\u00d7\u91cd\u8981\u503c\uff0c\u53f3\u4e3a\u4ef7\u683c\uff09\u2026\u2026\n\n![](https://cdn.luogu.com.cn/upload/pic/72844.png)\n\n\u4e8e\u662f\u4e4e\uff0c\u6211\u4eec\u53d1\u73b0\u6211\u4eec\u53ef\u4ee5\u5c06\u6bcf\u4e00\u4e2a\u4e3b\u4ef6\u548c\u5b83\u7684\u81f3\u591a2\u4e2a\u9644\u4ef6\u7ec4\u5408\u6210\u4e00\u4e2a\u7ec4\uff0c\u800c\u6bcf\u4e00\u4e2a\u7ec4\u5185\u4e4b\u5185\u7684\u51b3\u7b56\u4e3a\uff1a\n\n####  **\u53ea\u6709\u4e3b\u4ef6\u65f6\uff1a**\n\n$\\color{gray}\\text{\u4e3b\u4ef6}$\n\n#### **\u6709\u4e00\u4e2a\u9644\u4ef6\u65f6\u4f1a\u589e\u52a0\uff1a**\n\n$\\color{gray}\\text{\u4e3b\u4ef6+\u9644\u4ef61}$\n\n#### **\u518d\u6765\u4e00\u4e2a\u9644\u4ef6\uff1a**\n\n$\\color{gray}\\text{\u4e3b\u4ef6+\u9644\u4ef62}$\n\n$\\color{gray}\\text{\u4e3b\u4ef6+\u9644\u4ef61+\u9644\u4ef62}$\n\n\u663e\u800c\u6613\u89c1\uff0c\u8fd9\u4e2a\u4e3b\u4ef6\u4e0e\u5176\u9644\u4ef6\u7ec4\u6210\u7684\u7ec4\u4e2d\u7684\u56db\u4e2a\u53ef\u80fd\u7684\u51b3\u7b56\u662f\u4e92\u76f8\u51b2\u7a81\u7684\uff01\n\n\u4e8e\u662f\u4e4e\uff0c\u6211\u4eec\u60ca\u559c\u7684\u53d1\u73b0\u8fd9\u4e48\u505a\u5c31\u628a\u8fd9\u9053\u9898\u53d8\u6210\u4e86\u4e00\u9053\u5206\u7ec4\u80cc\u5305\u95ee\u9898\uff01\uff08\u5bf9\u80cc\u5305\u4e0d\u4e86\u89e3\u7684\u53ef\u4ee5[\u6765\u8fd9\u91cc](https://baike.baidu.com/item/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/2416931?fr=aladdin#8)\uff09\n\n\u73b0\u5728\u77e5\u9053\u505a\u9898\u601d\u8def\uff0c\u73b0\u5728\u6211\u4eec\u9700\u8981\u89e3\u51b3\u7684\u662f\u5982\u4f55\u5c06\u8f93\u5165\u7684\u6570\u636e\u8f6c\u5316\u4e3a\u8fd9\u79cd\u51b3\u7b56\u3002\n\n____\n\n### \u5148\u8ba8\u8bba\u4e00\u4e0b\u6570\u7ec4\u8303\u56f4\uff08\u867d\u7136\u8fd9\u9898\u65e0\u6240\u8c13\uff0c\u4f46\u4e07\u4e00\u4e4b\u540e\u6709\u4ec0\u4e48\u9898\u76ee\u5361\u7a7a\u95f4\u5462\uff09\n\n\u5b58\u50a8\u8f93\u5165\u6570\u636e\u7684\u5206\u7ec4\u660e\u663e\u53ea\u9700\u8981\u5f00\u523060\uff1b\n\n\u653e\u7f6e\u7b56\u7565\u7684\u4ef7\u503c\u3001\u82b1\u8d39\u7684\u6570\u7ec4\uff08\u5373 $w$ , $c$ \u6570\u7ec4\uff09\uff1a\u6700\u574f\u7684\u60c5\u51b5\u4e3a20\u4e2a\u4e3b\u4ef6+40\u4e2a\u9644\u4ef6\uff0c\u51b3\u7b56\u6570\u4e3a80\uff1b\n\n\u50a8\u5b58\u5206\u7ec4\u7684\u6570\u7ec4\uff1a\u6700\u591a\u670960\u4e2a\u4e3b\u4ef6\u5373\u6700\u591a60\u7ec4\uff0c\u6700\u591a4\u4e2a\u51b3\u7b56\u5373\u6570\u7ec4\u53ea\u9700\u8981\u5f00\u5230 61*5 \u5373\u53ef\u3002\n\n____\n\n### \u9884\u5904\u7406\u90e8\u5206\n\n\u663e\u800c\u6613\u89c1\uff0c\u6211\u4eec\u53ef\u4ee5\u627e\u51fa\u6240\u6709\u7684\u4e3b\u4ef6\uff0c\u5e76\u4e3a\u5b83\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7ec4\uff0c\u800c\u7ec4\u5185\u6210\u5458\u5c31\u662f\u5b83\u4e0e\u5b83\u7684\u9644\u4ef6\u6240\u7ec4\u6210\u7684\u51b3\u7b56\u3002\n\n $g$ \u6570\u7ec4\u7528\u6765\u5b58\u50a8\u8f93\u5165\u6570\u636e\uff0c\u5b9a\u4e49\u8fc7\u7a0b\u5982\u4e0b\uff1a\n\n~~~cpp\nstruct item{\n\tint v,mul,to[3],cnt;//\u4f9d\u6b21\u4e3a\u8d39\u7528\uff0c\u8d39\u7528\u00d7\u91cd\u8981\u503c\uff0c(\u5982\u679c\u662f\u4e3b\u4ef6)\u9644\u5c5e\u9644\u4ef6\u7684\u7f16\u53f7\uff0c\u9644\u4ef6\u7684\u6570\u91cf\n\tbool t;//\u662f\u5426\u6709\u6570\u91cf(\u4e0d\u80fd\u53ea\u4f9d\u9760\u9644\u4ef6\u6570\u91cf\u5224\u65ad\u662f\u5426\u662f\u4e3b\u4ef6\uff0c\u56e0\u4e3a\u5b58\u5728\u81ea\u6210\u4e00\u7ec4\u7684\u4e3b\u4ef6)\n}g[70];\n\n~~~\n\n\u8bfb\u5165\u4ee3\u7801\u5982\u4e0b\uff1a\n\n~~~cpp\nvoid init(int i){//\u8bfb\u5165\u7684\u662f\u7b2c\u51e0\u4e2a\u7269\u54c1\n\tint x,y,from;\n\tscanf(\"%d%d%d\",&x,&y,&from);\n\tg[i].mul=x*y;g[i].v=x;//\u628a\u4ef7\u503c\u3001\u82b1\u8d39\u5b58\u653e\u8fdb\u53bb\n\tif(from==0)g[i].t=true;//\u5982\u679c\u8fd9\u662f\u4e3b\u4ef6\uff0c\u5c31\u6807\u8bb0\u5b83\n\telse g[from].to[++g[from].cnt]=i;//\u5426\u5219\u5c06\u5b83\u5f52\u5c5e\u4e8e\u5b83\u8bf4\u9644\u5c5e\u7684\u4e3b\u4ef6\n}\n~~~\n\n\u9884\u5904\u7406\u8fc7\u7a0b\u5982\u4e0b,\u5176\u4e2d $w$ , $c$ , $a$ \u5206\u522b\u4ee3\u8868\u7269\u54c1\u7684\u4ef7\u683c\u3001\u4ef7\u683c\u4e0e\u91cd\u8981\u5ea6\u7684\u4e58\u79ef\u3001\u7269\u54c1\u7684\u5206\u7ec4\uff0c $cnt$ \u548c $uni$ \u5206\u522b\u4ee3\u8868\u603b\u51b3\u7b56\u6570\u548c\u5206\u7ec4\u6570\n\n\n~~~cpp\n\tfor(int i=1;i<=m;i++)\n\t\tif(g[i].t==true){//\n\t\t\t++uni;\n\t\t\tw[++cnt]=g[i].v;\n\t\t\tc[cnt]=g[i].mul;\n\t\t\ta[uni][++a[uni][0]]=cnt;\n\t\t\tif(g[i].cnt>=1){\n\t\t\t\tw[++cnt]=g[i].v+g[g[i].to[1]].v;\n\t\t\t\tc[cnt]=g[i].mul+g[g[i].to[1]].mul;\n\t\t\t\ta[uni][++a[uni][0]]=cnt;\n\t\t\t}\n\t\t\tif(g[i].cnt>=2){\n\t\t\t\tw[++cnt]=g[i].v+g[g[i].to[2]].v;\n\t\t\t\tc[cnt]=g[i].mul+g[g[i].to[2]].mul;\n\t\t\t\ta[uni][++a[uni][0]]=cnt;\n\t\t\t\tw[++cnt]=g[i].v+g[g[i].to[1]].v+g[g[i].to[2]].v;\n\t\t\t\tc[cnt]=g[i].mul+g[g[i].to[1]].mul+g[g[i].to[2]].mul;\n\t\t\t\ta[uni][++a[uni][0]]=cnt;\n\t\t\t}\n\t\t}\n}\n~~~\n\n## \u5206\u7ec4\u80cc\u5305\n\n\u540c\u6837\u7684\u94fe\u63a5[\u518d\u6765\u4e00\u904d](https://baike.baidu.com/item/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/2416931?fr=aladdin#8)\n\n$f_j$ \u2014\u2014\u5f53\u82b1\u8d39\u8d39\u7528 $j$ \u65f6\u53ef\u83b7\u5f97\u7684\u6700\u5927$\\sum{v_i*w_i}$\u3002\n\n\u61d2\u5f97\u53bbBaiduBaike\u7684\u6765\u770b\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b(\u849f\u84bb\u7684LATEX\u51fa\u4e8b\u4e86)\uff1a\n\n$\\boxed{f_j=max\\left\\{\\text{f[j-w[i]]+c[i]}\\right\\}}$\n    \n  \n\u4e4b\u540e\u8f93\u51fa $f_n$ \u5373\u53ef\n\n____\n\n#### \u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\n_\u7801\u98ce\u4e0d\u597d\u8fd8\u8bf7\u89c1\u8c05_ \uff1a\n\n~~~cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nstruct item{//\u5b58\u50a8\u8f93\u5165\u7269\u54c1\n\tint v,mul,to[3],cnt;\n\tbool t;\n}g[70];\nint w[81],c[81],f[33000],cnt,n,m,a[70][5],uni;\nvoid init(int i){\n\tint x,y,from;\n\tscanf(\"%d%d%d\",&x,&y,&from);\n\tg[i].mul=x*y;g[i].v=x;\n\tif(from==0)g[i].t=true;\n\telse g[from].to[++g[from].cnt]=i;//\u5c06\u5b83\u6807\u6ce8\u4e3a\u5176\u4e3b\u4ef6\u7684\u9644\u4ef6\n}\nvoid pre(){//\u9884\u5904\u7406\uff0c\u5c06\u7269\u54c1\u5904\u7406\u4e3a\u4e0d\u540c\u7684\u51b3\u7b56\n\tfor(int i=1;i<=m;i++)\n\t\tif(g[i].t==true){\n\t\t\t++uni;\n\t\t\tw[++cnt]=g[i].v;\n\t\t\tc[cnt]=g[i].mul;\n\t\t\ta[uni][++a[uni][0]]=cnt;\n\t\t\tif(g[i].cnt>=1){\n\t\t\t\tw[++cnt]=g[i].v+g[g[i].to[1]].v;\n\t\t\t\tc[cnt]=g[i].mul+g[g[i].to[1]].mul;\n\t\t\t\ta[uni][++a[uni][0]]=cnt;\n\t\t\t}\n\t\t\tif(g[i].cnt>=2){\n\t\t\t\tw[++cnt]=g[i].v+g[g[i].to[2]].v;\n\t\t\t\tc[cnt]=g[i].mul+g[g[i].to[2]].mul;\n\t\t\t\ta[uni][++a[uni][0]]=cnt;\n\t\t\t\tw[++cnt]=g[i].v+g[g[i].to[1]].v+g[g[i].to[2]].v;\n\t\t\t\tc[cnt]=g[i].mul+g[g[i].to[1]].mul+g[g[i].to[2]].mul;\n\t\t\t\ta[uni][++a[uni][0]]=cnt;\n\t\t\t}\n\t\t}\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=m;i++)init(i);\n\tpre();\n\tfor(int k=1;k<=uni;k++)//\u5206\u7ec4\u80cc\u5305\n\t\tfor(int j=n;j>=0;j--)\n\t\t\tfor(int i=1;i<=a[k][0];i++)\n\t\t\t\tif(j>=w[a[k][i]]){\n\t\t\t\t\tint tmp=a[k][i];\n\t\t\t\t\tf[j]=max(f[j],f[j-w[tmp]]+c[tmp]);\n\t\t\t\t}\n\tprintf(\"%d\",f[n]);\n\treturn 0;\n}\n~~~\n____\n\n",
        "postTime": 1566026450,
        "uid": 17045,
        "name": "A_konjac",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u53ef\u4ee5\u628a\u6b64\u9898\u8f6c\u5316\u621001\u80cc\u5305\u6765\u505a\n\n\u572801\u80cc\u5305\u4e2d\uff0c\u6bcf\u79cd\u7269\u54c1\u6709\u53d6\u548c\u4e0d\u53d6\u4e24\u79cd\u9009\u62e9\uff0c\u800c\u5728\u8fd9\u9898\u4e2d\uff0c\u53ea\u4e0d\u8fc7\u628a\u4e24\u79cd\u9009\u62e9\u53d8\u6210\u4e86\u56db\u79cd\u9009\u62e9\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u4e3b\u4ef6\u53ef\u4ee5\uff1a\u4e0d\u53d6\uff0c\u53ea\u53d6\u4e3b\u4ef6\uff0c\u53ea\u53d6\u4e3b\u4ef6\u548c\u7b2c\u4e00\u4e2a\u9644\u4ef6\uff0c\u53d6\u4e3b\u4ef6\u548c\u4e24\u4e2a\u9644\u4ef6\n\n\u8fd9\u6837\u5c31\u8f7b\u677e\u5730\u8f6c\u5316\u6210\u4e8601\u80cc\u5305\uff0c\u5c31\u53ef\u4ee5\u5957\u6a21\u677f\u5566\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<vector>\nusing namespace std;\nconst int Maxn=70,Maxm=32000+10;\nstruct node{\n\tint w,v,org;\n}a[Maxn],p;\nint f[Maxm];\nvector <node> e[Maxn];//\u50a8\u5b58\u6bcf\u4e2a\u4e3b\u4ef6\u5bf9\u5e94\u7684\u9644\u4ef6\nint n,m,cnt;\nint read()//\u5feb\u8bfb\n{\n\tint s=0,w=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n\twhile(ch>='0' && ch<='9')s=s*10+ch-'0',ch=getchar();\n\treturn s*w;\n}\nint main()\n{\n\tm=read(),cnt=read();\n\t\n\tfor(int i=1;i<=cnt;++i)\n\t{\n\t\tint x=read(),y=read(),z=read();\n\t\ty*=x;//\u6700\u540e\u7684\u7b54\u6848\u8981\u6c42\u662f\u91cd\u8981\u5ea6\u4e58\u4ee5\u4ef7\u683c\uff0c\u6240\u4ee5\u76f4\u63a5\u5148\u4e58\u8d77\u6765\n\t\tif(z==0)//\u5982\u679c\u8fd9\u4e2a\u662f\u4e3b\u4ef6\uff0c\u5c31\u628a\u4ed6\u653e\u8fdb\u7ed3\u6784\u4f53\u4e2d\n\t\t{\n\t\t\tn++;\n\t\t\ta[n].w=x,a[n].v=y,a[n].org=i;//org\u5b58\u7684\u662f\u6bcf\u4e2a\u4e3b\u4ef6\u662f\u7b2c\u51e0\u4e2a\u8f93\u5165\u7684\uff0c\u56e0\u4e3a\u540e\u9762\u8f93\u5165\u7684\u4e3b\u4ef6\u7f16\u53f7\u662f\u4e3b\u4ef6\u8f93\u5165\u662f\u7684\u7f16\u53f7\uff0c\u800c\u653e\u5165\u7ed3\u6784\u4f53\u4e2d\u7f16\u53f7\u4f1a\u6539\u53d8\n\t\t}\n\t\telse//\u5982\u679c\u8fd9\u662f\u9644\u4ef6\uff0c\u5c31\u628a\u5b83\u653e\u5230\u8ddf\u4ed6\u7684\u4e3b\u4ef6\u5bf9\u5e94\u7684vector\u91cc\n\t\t{\n\t\t\tp.w=x,p.v=y;\n\t\t\te[z].push_back(p);\n\t\t}\n\t}\n\tfor(int i=1;i<=n;++i)\n\tfor(int j=m;j>=a[i].w;--j)\n\t{\n\t\tf[j]=max(f[j],f[j-a[i].w]+a[i].v);\n\t\tif(e[a[i].org].size()>=1 && j>=a[i].w+e[a[i].org][0].w)//\u5982\u679c\u80cc\u5305\u53ef\u4ee5\u88c5\u4e0b\u4e3b\u4ef6\u548c\u4ed6\u7684\u7b2c\u4e00\u4e2a\u9644\u4ef6\n\t\tf[j]=max(f[j],f[j-a[i].w-e[a[i].org][0].w]+a[i].v+e[a[i].org][0].v);\n\t\tif(e[a[i].org].size()>=2 && j>=a[i].w+e[a[i].org][0].w+e[a[i].org][1].w)//\u5982\u679c\u53ef\u4ee5\u88c5\u4e0b\u4e3b\u4ef6\u548c\u4e24\u4e2a\u9644\u4ef6\n\t\tf[j]=max(f[j],f[j-a[i].w-e[a[i].org][0].w-e[a[i].org][1].w]+a[i].v+e[a[i].org][0].v+e[a[i].org][1].v);\n\t}\n\tprintf(\"%d\\n\",f[m]);\n\treturn 0;\n}\n```",
        "postTime": 1565163950,
        "uid": 120362,
        "name": "Priori_Incantatem",
        "ccfLevel": 7,
        "title": "P1064 \u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848"
    },
    {
        "content": "\u5237\u7740\u80cc\u5305\u95ee\u9898,\u7a81\u7136\u5237\u5230\u8fd9\u4e00\u9053\u636e(\u540c\u5b66)\u8bf4\u662f\u6700\u96be\u7684\u4e00\u9053,\u7136\u540e\u4e00\u770b\u5176\u5b9e\u4e5f\u8fd8\u597d(\u5427)\u2026\u2026\n\n[~\u9898\u76ee\u94fe\u63a5~](https://www.luogu.org/problemnew/show/P1064)\n\n\u6211do\u8fd9\u9053\u9898\u5176\u5b9e\u4e0d\u662f\u4e0d\u662f\u6b63\u7edf\u7684\u89e3\u6cd5 ~~\u4ec0\u4e48\u70c2DP\u8f6c\u79fb\u65b9\u7a0b\u53bb\u6b7b\u5427~~\n\n\u5173\u952e\u5b57\u6bb5: __\u6bcf\u4e2a\u4e3b\u4ef6\u53ef\u4ee5\u67090\u4e2a\u30011\u4e2a\u62162\u4e2a\u9644\u4ef6\u3002__\n![Important!!!](https://cdn.luogu.com.cn/upload/pic/43556.png)\n\n\u6ca1\u6bdb\u75c5\u7684\u2026\u2026 \u770b\u5230\u8fd9\u53e5,\u9a6c\u4e0a\u60f3\u5230\u66b4\u529bDP\u2026\u2026\n\n\u5206\u6790\uff1a\u5bf9\u4e8e\u4e00\u4e2a\u7269\u54c1\u6765\u8bf4,\u6709\u4e24\u79cd\u72b6\u6001 : \u4e3b\u4ef6\u548c\u9644\u4ef6\n\n\u53c8\u56e0\u4e3a\u9644\u4ef6\u6ca1\u6709\u9644\u4ef6\u4e86,\u6240\u4ee5\u5bf9\u4e8e\u4e00\u4e2a\u4e3b\u4ef6\u4e00\u5171\u67095\u79cd\u9009\u62e9\uff1a\n\n1. \u4e0d\u9009\u8be5\u4ef6\u7269\u54c1\n\n2. \u53ea\u9009\u4e3b\u4ef6\n\n3. \u9009\u4e3b\u4ef6+\u7b2c\u4e00\u4e2a\u9644\u4ef6\n\n4. \u9009\u4e3b\u4ef6+\u7b2c\u4e8c\u4e2a\u9644\u4ef6\n\n5. \u9009\u4e3b\u4ef6+\u7b2c\u4e00\u4e2a\u9644\u4ef6+\u7b2c\u4e8c\u4e2a\u9644\u4ef6\n\n\u603b\u7ed3\u6210\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5c31\u662f \uff1a\n\n```\ndp[j]=max{dp[j],dp[j-v[i]]+w[i],dp[j-v[i]-v[son[i][1]]]+w[i]+w[son[i][1]],dp[j-v[i]-v[son[i][2]]]+w[i]+w[son[i][2]],dp[j-v[i]-v[son[i][1]]-v[son[i][2]]+w[i]+w[son[i][1]]+w[son[i][2]]}\n```\n\n\u6240\u4ee5\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e00\u51fa\u6765,DP\u4e5f\u5c31\u6709\u89e3\u4e86\u2026\u2026\n\n\u5982\u679c\u8fd9\u9053\u9898\u53ef\u4ee5\u6709\u65e0\u9650\u4e2a\u9644\u4ef6\u7684\u8bdd,\u8fd9\u4e2a\u65b9\u6848\u7684\u590d\u6742\u5ea6\u5c31\u5f88\u5927,\u6700\u591a\u6709O(2^n),\u6240\u4ee5\u8fd9\u4e2a\u65b9\u6cd5\u5728\u4e00\u4e2a\u7269\u4f53\u7684\u9644\u4ef6\u8f83\u5c11\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u3002\n\n\u53ef\u80fd\u8f83\u6b63\u89e3\u6811\u72b6DP\u8981\u7b80\u5355\u4e00\u4e9b,\u4e0d\u8fc7\u6570\u636e\u5927\u4e86\u6211\u4e5f\u4e0d\u77e5\u9053\u8981\u6162\u591a\u5c11\u2026\u2026\n\n\u9644\u4e0a\u4ee3\u7801\n\n```cpp\n#include<cstdio>\n#include<vector>\nusing namespace std;\n#define reg register\ninline int read()\n{\n    int a=0; char f=1,c=getchar();\n    while(c<'0'||c>'9') { if(c=='-') f=-1; c=getchar(); }\n    while(c>='0'&&c<='9') a=(a<<1)+(a<<3)+c-'0',c=getchar();\n    return a*f;\n}\ninline void write(int x)\n{\n    if(x<0) x=(~x)+1,putchar('-');\n    if(x/10) write(x/10);\n    putchar(x%10+48);\n}\nint V=read(),n=read();\nstruct node{\n    int v,w;\n    inline void input() { v=read(),w=read()*v; }\n}a[61];\nint dp[32001];\nint son[61][3];\nint s[61];\nbool flag[61];\ninline int Max(int a,int b) { return a>b?a:b; }\ninline int MAX(int a,int b,int c,int d,int e)\n{\n    return Max(Max(a,b),Max(c,Max(d,e)));\n}\nint main()\n{\n    for(reg int i=1;i<=n;i++)\n    {\n        a[i].input();\n        int pre=read();//\u662f\u8c01\u7684\u9644\u4ef6\n        if(pre) son[pre][++s[pre]]=i;//\u628a\u5f53\u524d\u7269\u54c1\u653e\u5165\u5bf9\u5e94\u4e3b\u4ef6\u7684\u9644\u4ef6\u5e8f\u5217\n        else flag[i]=1;//flag\u50a8\u5b58\u8be5\u7269\u54c1\u662f\u5426\u662f\u4e3b\u4ef6\n    }\n    for(reg int i=1;i<=n;i++)\n    {\n        if(!flag[i]) continue;\n        for(reg int j=V;j>=1;j--)//\u4ee50-1\u80cc\u5305\u4e3a\u57fa\u7840\n            dp[j]=MAX(dp[j],//\u4e0d\u9009\u8be5\u4ef6\u7269\u54c1,\u5bf9\u5e94\u72b6\u51b51\n                      j>=a[i].v?dp[j-a[i].v]+a[i].w:0,//\u53ea\u9009\u4e3b\u4ef6,\u5bf9\u5e94\u72b6\u51b52\n                      j>=a[i].v+a[son[i][1]].v?dp[j-a[i].v-a[son[i][1]].v]+a[i].w+a[son[i][1]].w:0,//\u9009\u4e3b\u4ef6+\u7b2c\u4e00\u4e2a\u9644\u4ef6,\u5bf9\u5e94\u72b6\u51b53\n                      j>=a[i].v+a[son[i][2]].v?dp[j-a[i].v-a[son[i][2]].v]+a[i].w+a[son[i][2]].w:0,//\u9009\u4e3b\u4ef6+\u7b2c\u4e8c\u4e2a\u9644\u4ef6,\u5bf9\u5e94\u72b6\u51b54\n                      j>=a[i].v+a[son[i][1]].v+a[son[i][2]].v?dp[j-a[i].v-a[son[i][1]].v-a[son[i][2]].v]+a[i].w+a[son[i][1]].w+a[son[i][2]].w:0);//\u9009\u4e3b\u4ef6+\u7b2c\u4e00\u4e2a\u9644\u4ef6+\u7b2c\u4e8c\u4e2a\u9644\u4ef6,\u5bf9\u5e94\u72b6\u51b55\n                      //\u8fd9\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u771f\u7684\u597d\u5927\u5768\n    }\n    write(dp[V]);\n}\n\n```",
        "postTime": 1542261998,
        "uid": 104241,
        "name": "Sora\u9171",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u770b\u4e86\u524d\u9762\u51e0\u7bc7\u9898\u89e3,\u5728\u8f6c\u79fb\u7684\u5730\u65b9\u90fd\u662f\u76f4\u63a5\u5224\u65ad\u7684,~~me,too~~\u60f3\u7740\u5199\u4e00\u4e2a\u597d\u770b\u70b9\u7684,\u4e8e\u662f\u5c31\u6709\u4e86\u8fd9\u4e2a\u4ee3\u7801.\n\n\u9996\u5148f[i]\u7684\u542b\u4e49\u4e0d\u53d8\u4f9d\u7136\u662fi\u7684\u82b1\u8d39\u80fd\u8fbe\u5230\u7684\u6700\u5927\u4ef7\u503c.\n\n\u4e3b\u8981\u662f\u8f6c\u79fb\u7684\u5730\u65b9,\u6211\u4eec\u6ce8\u610f\u5230\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u9644\u4ef6\u53ef\u4ee5\u9009\u4e5f\u53ef\u4ee5\u4e0d\u9009,\u90a3\u4e48\u5728\u8f6c\u79fb\u65f6\u6211\u4eec\u9009\u62e9\u7528\u9012\u5f52~~\u641c\u7d22~~\u6765\u5b9e\u73b0:\n```cpp\nil void dfs(int k,int now,int allcost,int allval,int tot){\n  if(allcost>tot)return;\n  int u=fa[k][now];\n  if(now==(fa[k][0]+1)){f[tot]=max(f[tot],f[tot-allcost]+allval);return;}\n  else{\n    dfs(k,now+1,allcost+cost[u],allval+w[u],tot);\n    dfs(k,now+1,allcost,allval,tot);\n  }\n}\n```\n\u5728\u8fd9\u91cck\u662f\u4e3b\u4ef6\u7f16\u53f7,now\u662f\u9644\u4ef6\u7684\u5e8f\u53f7\uff081\u53f7\u9644\u4ef6\u3001\u4e8c\u53f7\u9644\u4ef6\uff09,allcost\u662f\u5f53\u524d\u9009\u62e9\u7684\u82b1\u8d39,allval\u662f\u5f53\u524d\u9009\u62e9\u7684\u4ef7\u503c,tot\u4ece\u4e3b\u51fd\u6570\u4f20\u8fc7\u6765,\u662fDP\u8f6c\u79fb\u4e2df[i]\u7684\"i\".\n\n\u4e8e\u662f\u6211\u4eec\u5c31\u6709\u4e86\u8f6c\u79fb\u90e8\u5206\u7684\u7a0b\u5e8f\n```cpp\n  for(int i=1;i<=m;++i){\n    if(!vis[i])continue;//\u4e0d\u662f\u4e3b\u4ef6\u5c31\u4e0d\u7ba1\n    for(int j=n;j>=cost[i];--j){\n      dfs(i,1,cost[i],w[i],j);\n    }\n  }\n```\n\u8fd9\u91cc\u6211\u5f3a\u5236\u9009\u53d6\u4e86\u4e3b\u4ef6\uff0c\u90a3\u4e48\u5728\u9644\u4ef6\u90fd\u4e0d\u9009\u7684\u60c5\u51b5\u4e0b\u5c31\u6709\u4e86\u6700\u57fa\u672c\u7684\u8f6c\u79fb\u65b9\u7a0b\n```cpp\nf[i]=max(f[i],f[i-cost[i]]+w[i])\n```\n\u5927\u6982\u5c31\u662f\u8fd9\u6837\u4e86.....\n\u653e\u4e2a\u4e3b\u7a0b\u5e8f\n```cpp\n#include<bits/stdc++.h>\n#define il inline\n#define ll long long\nusing namespace std;\nil int gi(){\n  char ch=getchar();\n  int ans=0;\n  while(ch<'0' || ch>'9')ch=getchar();\n  while(ch>='0' && ch<='9'){ans=ans*10+ch-'0';ch=getchar();}\n  return ans;\n}\nint f[32010];\nint cost[61],w[61];\nint n,m;\nint fa[61][3];\nil void dfs(int k,int now,int allcost,int allval,int tot){\n  if(allcost>tot)return;\n  int u=fa[k][now];\n  if(now==(fa[k][0]+1)){f[tot]=max(f[tot],f[tot-allcost]+allval);return;}\n  else{\n    dfs(k,now+1,allcost+cost[u],allval+w[u],tot);\n    dfs(k,now+1,allcost,allval,tot);\n  }\n}\nbool vis[61];\nint main(){\n  n=gi();m=gi();\n  for(int i=1;i<=m;++i){\n    cost[i]=gi();\n    int tmp=gi();\n    w[i]=tmp*cost[i];\n    int op=gi();\n    if(op==0){vis[i]=1;continue;}\n    else{\n      fa[op][0]++;\n      fa[op][fa[op][0]]=i;\n    }\n  }\n  for(int i=1;i<=m;++i){\n    if(!vis[i])continue;\n    for(int j=n;j>=cost[i];--j){\n      dfs(i,1,cost[i],w[i],j);\n    }\n  }\n  //for(int i=0;i<=n;++i)printf(\"%d\\n\",f[i]);\n  printf(\"%d\\n\",f[n]);\n}\n\n```\n~~\u5c31\u662f\u611f\u89c9\u6162\u4e86\u70b9,\u6ca1\u4ed4\u7ec6\u53bb\u6253~~",
        "postTime": 1541150836,
        "uid": 26429,
        "name": "Days",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u7684\u6811\u5f62\u4f9d\u8d56\u80cc\u5305\u7684\u7b80\u5316\u7248\uff0cdp[i][j][k]\u8868\u793a\u9009\u62e9\u7b2c\u7528k\u5927\u5c0f\u6765\u88c5i\u8282\u70b9\u5e76\u7528\u65b9\u6848j\u6765\u9009\u62e9\u9644\u4ef6\u7684\u6700\u5927\u4ef7\u503c\uff1b\n1. \u65b9\u6848 0\uff1a \u9009\u62e9\u4e0d\u9009\u9644\u4ef6\uff1b\n1. \u65b9\u6848 1\uff1a \u9009\u62e9\u9644\u4ef61\uff1b\n1. \u65b9\u6848 2\uff1a \u9009\u62e9\u9644\u4ef62\uff1b\n1. \u65b9\u6848 3\uff1a\u4e24\u79cd\u9644\u4ef6\u4e00\u8d77\u9009\u62e9\uff1b  \n\n\u6211\u4eec\u5faa\u73af\u4e09\u904d\uff1b\n\u5047\u8bbe\u5171n\u4ef6\u7269\u54c1\uff0c\u4e3b\u4ef6m\u4ef6\uff0c\u9644\u4ef6n-m\u4ef6\uff1b\uff1b\u6240\u4ee5\u6211\u4eec\u7684\u590d\u6742\u5ea6\u4e3aO((m-n)*m)\uff0c\u6709\u5747\u503c\u4e0d\u7b49\u5f0f\u5f97\u5f53\u4e14\u4ec5\u5f53n-m=m\u662f\u6700\u574f\uff0c\u590d\u6742\u5ea6\u4e3a(n/2)^2\uff0c\u6070\u597d\u548c\u7b2c\u4e09\u5c42\u5faa\u73af\u7684\u5e38\u6570\u62b5\u6d88\uff0c\u590d\u6742\u5ea6\u4e3aO(n^2)\uff0c\u5b8c\u5168\u591f\u7528\uff1b\ni\u548ck\u6211\u90fd\u7528\u6eda\u52a8\u6570\u7ec4\u4f18\u5316\u6389\u4e86\u5177\u4f53\u89c1\u4ee3\u7801:\n```\n#include<cstdio>\n#define max(a,b) a>b? a:b\n#define maxn 64\n#define ll long long \n#define maxm 32005\nll v,p,q,c[maxn][4],w[maxn][4],dp[maxm],queue[maxn],n,m,cnt;//queue\u624b\u5199\u7684\u961f\u5217;c[i][k]\u4e3b\u4ef6i\u6309\u7167\u7b2ck\u79cd\u65b9\u6848\u9009\u6d88\u8017\u7684\u91d1\u94b1;w[i][k]\u4e3b\u4ef6i\u6309\u7167\u7b2ck\u79cd\u65b9\u6848\u9009\u83b7\u5f97\u7684\u6109\u60a6\u5ea6\nbool fa[maxn];//\u7528\u6765\u8bb0\u5f55\u4e00\u4e2a\u4e3b\u4ef6\u662f\u5426\u6709\u9644\u4ef6\n// read()\u4e00\u4e2a\u5927\u5bb6\u90fd\u61c2\u7684\u51fd\u6570\uff0c\u7701\u7565\u9632\u6284\u88ad\n\nint main(){\n    read(n);read(m);\n    for(int i = 0;i < m;i++){\n        read(v);read(p);read(q);/\n    //\tprintf(\"%lld %lld %lld\\n\",v,p,q);\n        if(q) {\n            q--;//\u56e0\u4e3alrj\u6240\u4ee5\u6211\u90fd\u662f\u4ece0\u5f00\u59cb\u8ba1\u6570\u7684\uff0c\u6240\u4ee5\u5b9e\u9645\u5e8f\u53f7\u6bd4\u4f53\u9762\u5e8f\u53f7\u8981--\n            if (fa[q]){\n                w[q][2] = v*p + w[q][0];c[q][2] = v + c[q][0];\n                w[q][3] = w[q][2] + w[q][1] - w[q][0];c[q][3] = c[q][2] + c[q][1]- c[q][0];\n            }\n            else{\n                w[q][1] = v*p + w[q][0];\n                c[q][1] = c[q][2] = v + c[q][0];\n                fa[q] = true;\n            }\n        } \n        else {queue[cnt++] = i;w[i][0] = v*p;c[i][0] = v;}//\u5c06\u4e3b\u4ef6\u653e\u5165\u961f\u5217\n    }//\u8f93\u5165\u5e76\u9884\u5904\u7406\uff0c\u96be\u5f97\u538b\u884c\u4e86\n    for(ll t = 0;t < cnt;t++){\n        ll i = queue[t];//\u53d6\u51fa\u961f\u9996\n       // printf(\"%d \",i);\n        for(ll j = n;j >= c[i][0];j--){\n            dp[j] = max(dp[j],dp[j - c[i][0]] + w[i][0]);\n            if(fa[i]){\n                for(ll k = 1;k < 4;k++){\n                    if(c[i][k] > j) continue;\n                //\tprintf(\"w[%d][%d]:%d   c[%d][%d]:%d\\n\",i,k,w[i][k],i,k,c[i][k]);\n                    dp[j] = max(dp[j],dp[j - c[i][k]] + w[i][k]);//\u80cc\u5305\u7684\u7ecf\u5178dp\u65b9\u7a0bqwq\n                }\n            }\n        }\n    }\n    printf(\"%lld \",dp[n]);\n    return 0;\n}```",
        "postTime": 1534860399,
        "uid": 101957,
        "name": "shejian0702",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "[\u6253\u4e2a\u5e7f\u544a](http://www.vixbob-lwc.pw/)\n\n\u8fd9\u9053\u9898\u5361\u4e86\u6211\u597d\u957f\u65f6\u95f4\uff0c\u56e0\u4e3a\u6628\u5929\u5b66\u957f\u624d\u521a\u521a\u8bb2\u4e86\u80cc\u5305\u7684\u95ee\u9898\uff0c\u6240\u4ee5\u505a\u8d77\u6765\u5341\u5206\u7684\u751f\u6da9\u554a\n\n\u8fd9\u9053\u9898\u7684\u5173\u952e\u5728\u4e8e\u6709\u9644\u5c5e\u54c1\u7684\u5b58\u5728\uff0c\u8fd9\u8ba9\u9898\u76ee\u53d8\u5f97\u6709\u4e9b\u4e0d\u597d\u5904\u7406\n\n`\u56e0\u4e3a\u6709\u9644\u5c5e\u54c1\u7684\u5b58\u5728\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5c06\u9644\u5c5e\u54c1\u5b58\u5728\u4e3b\u7269\u54c1\u4e4b\u4e0b\u5c31\u597d\u4e86\uff0c\u7136\u540e\u76f4\u63a5\u679a\u4e3e\u4e3b\u7269\u54c1\u8fd9\u4e2a\u95ee\u9898\u5c31\u89e3\u51b3\u4e86`\n\n\u66f4\u591a\u7684\u7ec6\u8282\u89c1\u4ee3\u7801\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <vector>\n#define pb push_back\nusing namespace std;\nint feesum,n,ans,f[33000],cnt,num[65];\nstruct node{int w,v,is;}t[65];\nvector<int>goods[65];\nbool cmp(node x,node y){return x.is<y.is;}\nint main(){\n    scanf(\"%d%d\",&feesum,&n);\n    for(int i=1;i<=n;i++){\n        int x,y,z;scanf(\"%d%d%d\",&x,&y,&z);\n        t[i].w=x;t[i].v=y;t[i].is=z;\n    }\n    //sort(t+1,t+1+n,cmp);\u8fd9\u53e5\u8bdd\u662f\u5b8c\u5168\u6ca1\u5fc5\u8981\u7684\uff0c\u7ed3\u679c\u4e00\u5f00\u59cb\u6211\u52a0\u4e86\u8fd9\u53e5\u6392\u5e8f\u7684\u8bed\u53e5\u8fd8WA\u4e866\u4e2a\u70b9\n    for(int i=1;i<=n;i++){\n        if(!t[i].is){goods[i].pb(i);num[++cnt]=i;}//\u5c06\u4e3b\u7269\u54c1\u5b58\u4e0b\u6765\uff0c\u4e3b\u7269\u54c1\u7684\u7f16\u53f7\u653e\u5230\u53e6\u4e00\u4e2a\u6570\u7ec4\u91cc\uff0c\u679a\u4e3e\u65f6\u8282\u7ea6\u65f6\u95f4\n        else goods[t[i].is].pb(i);//\u9644\u5c5e\u54c1\u5b58\u4e0b\u6765\n    }\n    for(int i=cnt;i>=1;i--)//\u679a\u4e3e\u4e0b\u6807\uff0c\u4f46\u662f\u8981\u53d6\u5176\u4e2d\u7684\u503c\n        for(int j=feesum;j>=t[num[i]].w;j-=10){//\u56e0\u4e3a\u662f\u5341\u7684\u500d\u6570\u76f4\u63a5-=10\u8dd1\u5f97\u66f4\u5feb\n            int pos=num[i];int len=goods[pos].size();\n            f[j]=max(f[j],f[j-t[pos].w]+t[pos].v*t[pos].w);\n            if(len>=2&&j-t[pos].w-t[goods[pos][1]].w>=0)f[j]=max(f[j],f[j-t[pos].w-t[goods[pos][1]].w]+t[pos].v*t[pos].w+t[goods[pos][1]].v*t[goods[pos][1]].w);\n            if(len>=3&&j-t[pos].w-t[goods[pos][1]].w-t[goods[pos][2]].w>=0)f[j]=max(f[j],f[j-t[pos].w-t[goods[pos][1]].w-t[goods[pos][2]].w]+t[pos].v*t[pos].w+t[goods[pos][1]].v*t[goods[pos][1]].w+t[goods[pos][2]].v*t[goods[pos][2]].w);\n            if(len>=4&&j-t[pos].w-t[goods[pos][1]].w-t[goods[pos][2]].w-t[goods[pos][3]].w>=0)f[j]=max(f[j],f[j-t[pos].w-t[goods[pos][1]].w-t[goods[pos][2]].w-t[goods[pos][3]].w]+t[pos].v*t[pos].w+t[goods[pos][1]].v*t[goods[pos][1]].w+t[goods[pos][2]].v*t[goods[pos][2]].w+t[goods[pos][3]].v*t[goods[pos][3]].w);//\u56db\u4e2a\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n            ans=max(f[j],ans);//\u8bb0\u5f55\u7b54\u6848\n        }\n    printf(\"%d\",ans);\n    return 0;\n}\n```\n\u56e0\u4e3a\u5404\u79cd\u4f18\u5316\uff0c\u6240\u4ee5\u6211\u8fd9\u4e2a\u4ee3\u7801\u867d\u7136\u7528\u4e86vector\u4f46\u662f\u8dd1\u5f97\u98de\u8d77\uff0c0ms\uff0c\u6211\u8fd8\u662f\u5f88\u6ee1\u610f\u7684\n\n`\u4f46\u662f\u6211\u5199\u7684\u8fd9\u4e2a\u4ee3\u7801\u6709\u4e2a\u5730\u65b9\u6ca1\u5904\u7406\u597d\uff0c\u5c31\u662f\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5199\u7684\u65f6\u5019\u4e0b\u6807\u5957\u4e0b\u6807\u641e\u5f97\u5341\u5206\u7684\u5197\u957f\u4e0d\u592a\u597d\u770b\uff0c\u5341\u5206\u5bb9\u6613\u770b\u82b1\u773c`\n\n\u5404\u4f4d\u5728\u81ea\u5df1\u6572\u4ee3\u7801\u7684\u65f6\u5019\u53ef\u4ee5\u505a\u8fdb\u4e00\u6b65\u7684\u4f18\u5316\u5904\u7406\uff0c\u4f8b\u5982\n\n\\* \u5c06\u91cd\u8981\u7a0b\u5ea6\u548c\u94b1\u7684\u4e58\u79ef\u53e6\u5916\u5355\u72ec\u5b58\u4e0b\u6765\n\n\n\u6216\u8005\u4e00\u4e9b\u5176\u4ed6\u7684\n",
        "postTime": 1509454559,
        "uid": 50971,
        "name": "ViXbob",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u539f\u9898\n\u5982\u679c\u4e0d\u8003\u8651\u9644\u4ef6\uff0c\u5c31\u662f\u4e00\u905301\u80cc\u5305\u9898\u3002\n\n\u6240\u4ee5\u6211\u4eec\u5c31\u5148\u4e0d\u8003\u8651\u9644\u4ef6\uff0c\u628a\u5b83\u5f53\u4f5c01\u80cc\u5305\u505a\u4e00\u4e0b\uff1b\u56e0\u4e3a\u6700\u591a\u53ea\u6709\u4e24\u4e2a\u9644\u4ef6\uff0c\u6bcf\u4e2a\u7269\u54c1\u7684\u72b6\u6001\u53ea\u6709\u4e09\u79cd\uff08\u6ca1\uff0c\u6709\u4e00\u4e2a\uff0c\u4e24\u4e2a\uff09\uff0c\u5206\u522b\u5f53\u4f5c01\u80cc\u5305\u505a\u4e00\u4e0b\uff0c\u5373\u5206\u4e3a4\u4e2a01\u80cc\u5305\u3002\u7136\u540e\u6bd4\u8f83\u56db\u4e2a\u80cc\u5305\u603b\u7684\u6700\u5927\u503c\u3002\n\n```cpp\n#include<iostream>\n#include<iomanip>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\nusing namespace std;\nstruct po{\n    int data,one,two,impor,ju;\n}a[61];\nint n,m;int f[4][3201][61];\nint main()\n{\n    cin>>n>>m;n/=10;memset(f,0,sizeof(f));\n    for(int i=1;i<=m;++i)\n    {\n        a[i].one=0;\n        a[i].two=0;\n    }\n    for(int i=1;i<=m;++i)\n    {\n        cin>>a[i].data>>a[i].impor>>a[i].ju;\n        a[i].data/=10;\n        if(a[i].ju!=0)\n        {\n            if(a[a[i].ju].one==0)\n            a[a[i].ju].one=i;\n            else a[a[i].ju].two=i;\n            a[i].ju=-1;\n        }\n    }\n    for(int j=1;j<=m;++j)\n    {\n        for(int i=n;i>=1;--i)\n        {    \n            f[0][i][j]=f[0][i][j-1];\n            if(i<a[j].data||a[j].ju!=0) continue;\n            f[0][i][j]=max(f[0][i][j],f[0][i-a[j].data][j-1]+a[j].data*a[j].impor);\n        }\n    }\n    for(int j=1;j<=m;++j)\n    {\n        for(int i=n;i>=1;--i)\n        {    \n            f[1][i][j]=f[1][i][j-1];\n            if(i<a[j].data||a[j].ju!=0) continue;\n            f[1][i][j]=max(f[1][i][j],f[1][i-a[j].data][j-1]+a[j].data*a[j].impor);\n            if(i>=a[j].data+a[a[j].one].data)\n            f[1][i][j]=max(f[1][i][j],f[1][i-a[j].data-a[a[j].one].data][j-1]+a[j].data*a[j].impor+a[a[j].one].data*a[a[j].one].impor);\n        }\n    }\n    for(int j=1;j<=m;++j)\n    {\n        for(int i=n;i>=1;--i)\n        {    \n            f[2][i][j]=f[2][i][j-1];\n            if(i<a[j].data||a[j].ju!=0) continue;\n            f[2][i][j]=max(f[2][i][j],f[2][i-a[j].data][j-1]+a[j].data*a[j].impor);\n            if(i>=a[j].data+a[a[j].two].data)\n            f[2][i][j]=max(f[2][i][j],f[2][i-a[j].data-a[a[j].two].data][j-1]+a[j].data*a[j].impor+a[a[j].two].data*a[a[j].two].impor);\n        }\n    }\n    for(int j=1;j<=m;++j)\n    {\n        for(int i=n;i>=1;--i)\n        {    \n            f[3][i][j]=f[3][i][j-1];\n            if(i<a[j].data||a[j].ju!=0) continue;\n            f[3][i][j]=max(f[3][i][j],f[3][i-a[j].data][j-1]+a[j].data*a[j].impor);\n            if(i>=a[j].data+a[a[j].two].data+a[a[j].one].data)\n            f[3][i][j]=max(f[3][i][j],f[3][i-a[j].data-a[a[j].two].data-a[a[j].one].data][j-1]+a[j].data*a[j].impor+a[a[j].two].data*a[a[j].two].impor+a[a[j].one].data*a[a[j].one].impor);\n        }\n    }\n    int k1=max(f[0][n][m],f[1][n][m]);\n    int k2=max(f[2][n][m],f[3][n][m]);\n    cout<<max(k1,k2)*10;\n    return 0;\n}\n\n```",
        "postTime": 1503664297,
        "uid": 43140,
        "name": "zhaoyifan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u53ef\u4ee5\u7b80\u5355\u6a21\u62df\u5c06\u6709\u9644\u4ef6\u7684\u4e3b\u4ef6\u5206\u6210\u51e0\u79cd\u9009\u53d6\u65b9\u6cd5\u540e01\u80cc\u5305\u8fc7\uff08\u5f88\u591a\u9898\u89e3\u4e5f\u662f\u8fd9\u6837\uff09\n\n\u4f46\u662f\u4e3a\u4e86\u4e25\u8c28\uff0c\u8fd8\u662f\u6309\u7167\u80cc\u5305\u4e5d\u8bb2\u4e2d\u201c\u6709\u4f9d\u8d56\u6027\u7684\u80cc\u5305\u95ee\u9898\u201d\u6572\u4e86\u8fd9\u4e2a\u51fa\u6765\uff1a\n\n\u5e0c\u671b\u80fd\u5e2e\u52a9\u66f4\u591a\u4eba~\n\n```cpp\n#include<bits/stdc++.h>  \nusing namespace std;  \nint n,m,s[40100]={0},t[40100]={0};  \nstruct subject  \n{  \n    int weight,value,team;  \n};  \nsubject a[70];  \nvoid init()  \n{  \n    scanf(\"%d%d\",&n,&m);  \n    for(int i=1;i<=m;i++)  \n    {  \n        scanf(\"%d%d%d\",&a[i].weight,&a[i].value,&a[i].team);  \n        a[i].value*=a[i].weight;  \n    }  \n    return;  \n}  \n  \nvoid dp()  \n{  \n    for(int i=1;i<=m;i++)  \n    if(a[i].team==0)//\u5982\u679c\u662f\u4e3b\u7269\u54c1   \n    {  \n        for(int j=1;j<=a[i].weight;j++)t[j]=0;//t\u6570\u7ec4\u5b58\u8fd9\u7ec4\u7269\u54c1\u9009\u62e9\u540e\u53ef\u8fbe\u5230\u7684\u6700\u5927\u503c   \n        for(int j=a[i].weight;j<=n;j++)t[j]=s[j-a[i].weight]+a[i].value;//\u5148\u8981\u5168\u9009k\u7269\u54c1   \n        for(int j=1;j<=m;j++)  \n          if(a[j].team==i)//\u5982\u679c\u662fk\u8fd9\u4e00\u7ec4  \n            for(int k=n;k>=a[i].weight+a[j].weight;k--)//\u6ce8\u610f\u4e0b\u754c   \n              t[k]=max(t[k],t[k-a[j].weight]+a[j].value);//\u5728a\u7684\u57fa\u7840\u4e0a01\u80cc\u5305   \n        for(int j=a[i].weight;j<=n;j++)//\u5982\u679c\u8be5\u7ec4\u9009\u62e9\u540e\u6bd4\u5f53\u524d\u503c\u5927   \n        if(t[j]>s[j])s[j]=t[j];  \n    }  \n    return;  \n}  \n  \nint main()  \n{  \n    init();  \n    dp();  \n    printf(\"%d\",s[n]);  \n    return 0;  \n}  \n```",
        "postTime": 1503139867,
        "uid": 21386,
        "name": "s223568907",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u53ef\u4ee5\u8f6c\u5316\u4e3a\u5206\u7ec4\u80cc\u5305\u95ee\u9898\u3002\n\n\u5047\u8bbe\u6709\u4e2a\u4e3b\u4ef6A\uff0c\u5b83\u6709\u4e24\u4e2a\u9644\u4ef6 B\uff0cC\n\n\u90a3\u4e48\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u7ec4\uff1a A\uff0cA+B\uff0cA+C\uff0cA+B+C\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5206\u7ec4\u6765\u8bf4\uff0c\u53ea\u80fd\u9009\u5206\u7ec4\u4e2d\u7684\u4e00\u4e2a\u7269\u54c1\uff0c\u56e0\u6b64\u53ef\u4ee5\u8f6c\u5316\u4e3a\u5206\u7ec4\u80cc\u5305\u3002\n\n\u6ce8\u610f\u8f93\u5165\uff0c\u9644\u4ef6\u5728\u8f93\u5165\u4e2d\u53ef\u80fd\u51fa\u73b0\u5728\u4e3b\u4ef6\u7684\u524d\u9762\uff08\u5f00\u5148\u6ca1\u6ce8\u610f\uff0c\u53ea\u62ff\u4e8620\u5206\uff09\u3002\n\n\u9644\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include <iostream>\n#include <cstring>\n#include <vector>\nusing namespace std;\n\nconst int MAXN = 32005;\nconst int MAXM = 65;\n\nstruct Node{\n    int w, v, q;\n    Node(){}\n    Node(int nw, int nv) : w(nw), v(nv){}\n}; \n\nNode input[MAXM];            //\u4fdd\u5b58\u8f93\u5165 \nvector<Node> node[MAXM];    //\u6bcf\u4e00\u7ec4\u4e2d\u6709\u54ea\u4e9b\u7269\u54c1 \nint n, m;\nint dp[MAXN];\n\nint main(){\n//    freopen(\"input.txt\", \"r\", stdin);\n    \n    cin >> n >> m;\n    for(int i=1; i<=m; i++){\n        cin >> input[i].w >> input[i].v >> input[i].q;\n        input[i].v *= input[i].w;\n    }\n    \n    //\u5148\u653e\u4e3b\u4ef6\n    for(int i=1; i<=m; i++){\n        if(input[i].q == 0){\n            node[i].push_back(Node(input[i].w, input[i].v));\n        }\n    } \n    \n    //\u518d\u653e\u9644\u4ef6 \n    for(int i=1; i<=m; i++){\n        if(input[i].q != 0){\n            int q = input[i].q;\n            int size = node[q].size();\n            for(int j=0; j<size; j++){\n                node[q].push_back(Node(node[q][j].w + input[i].w, node[q][j].v + input[i].v));\n            }\n        }\n    }\n    \n    //\u5206\u7ec4\u80cc\u5305 \n    memset(dp, 0, sizeof(dp));\n    for(int i=1; i<=m; i++){\n        for(int j=n; j>=0; j--){\n            for(int k=0; k<node[i].size(); k++){\n                int w, v;\n                w = node[i][k].w;\n                v = node[i][k].v;\n                if(j >= w){\n                    dp[j] = max(dp[j], dp[j-w] + v);\n                }\n            }\n        }\n    }\n    \n    cout << dp[n];\n    \n    return 0;\n}\n```",
        "postTime": 1502802076,
        "uid": 50599,
        "name": "hl1033950430",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u88ab\u8fd9\u9053\u9898\u56f0\u4e86\u51e0\u4e2a\u5c0f\u65f6\u4e86\u2026\u2026\u7ec8\u4e8e\u51fa\u6765\u4e86\u3002\n\n\u5f00\u5fc3\u4e4b\u4f59\u987a\u4fbf\u6765\u4e00\u6ce2\u9898\u89e3\u3002\u2190v\u2190\n\n\n\u5450\uff0c\u9996\u5148\u4e0d\u77e5\u9053\u7535\u89c6\u673a\u524d\u7684\u4f60= =\u6709\u6ca1\u6709\u505a\u8fc7\u4e92\u65a5\u80cc\u5305\u95ee\u9898\uff0c\u4e5f\u5c31\u662f\u51e0\u4e2a\u4e1c\u897f\u4e0d\u80fd\u88ab\u540c\u65f6\u9009\u4e2d\u7684\u80cc\u5305\u95ee\u9898\u3002\n\n\u4e0d\u77e5\u9053\u7684\u53ef\u4ee5\u53bb\u770b\u770b\u3002\u3002\u8fd9\u91cc\u6211\u5c31\u4e0d\u8bf4\u4e86\n\n\u8fd9\u9053\u9898\u6211\u7684\u601d\u8def\u662f\u628a\u4ed6**\u8f6c\u6362\u6210\u4e92\u65a5\u80cc\u5305\u95ee\u9898**\u3002\n\n\u6bd4\u5982\u6211\u4eec\u6709\u4e00\u4e2a\u4e3b\u4ef6\u4e24\u4e2a\u9644\u4ef6\uff0c\u5206\u522b\u4e3aA,B,C\n\n\u90a3\u4e48\u4ed6\u4eec\u7684\u7ec4\u5408\u67094\u4e2a\uff0c\u5373A,AB,AC,ABC\n\n**\u8fd94\u4e2a\u9009\u62e9\u663e\u7136\u662f\u4e92\u65a5\u7684\uff08\u5426\u5219\u4f60\u9700\u8981\u6709\u591a\u4e2aA\uff09**\n\n\u90a3\u4e48\u7531\u6b64\u53ef\u4ee5\u4eff\u7167\u4e92\u65a5\u80cc\u5305\u95ee\u9898\u53bb\u6c42\u89e3\u3002\n\n\n\n```cpp\n//P1064\n#include <iostream>\n#include <cstdio>\n#include <cstdlib>\nusing namespace std;\nint n, m;//n\uff0cm\u4f60\u61c2\u5f97\nint group[112][2][5];//\u4e09\u4e2a\u7ef4\u5ea6\u7684\u542b\u4e49\uff1a\u4e3b\u4ef6\u7ec4\u522b       \u7a7a\u95f40\u4ef7\u503c1    \u4e92\u65a5\u7684\u53ef\u9009\u62e9\u7ec4\u5408\nint GroupEnd[112];//\u7ec4\u522b\u4e2a\u6570\u7684\u7ed3\u5c3e\nint GEnd(1);//\u8868\u793a\u7ec4\u522b\u7684\u4e2a\u6570(\u5230\u6700\u540e\u4e0en\u76f8\u7b49)\nint v[112345];//\u5927\u5bb6\u6700\u559c\u95fb\u4e50\u89c1\u7684\u4e00\u7ef4\u72b6\u6001\u6570\u7ec4\uff0c\u50a8\u5b58\u4e86\u5f53\u94b1\u6570\u4e3aa\uff0c\u7269\u54c1\u6570\u4e3ai-1\u65f6\u7684\u6700\u4f18\u89e3v[a]\nint main()\n{\n    scanf(\"%d%d\", &m, &n);\n    for (int i(1); i <= n; ++i)\n    {\n        int a, b, c;//\u4e09\u4e2a\u8fc7\u573a\u7684\u53d8\u91cf\u3002\u3002\n        scanf(\"%d%d%d\", &a, &b, &c);\n        if (c != 0)\n        {\n            int i(0), end(GroupEnd[c]);\n            for (; i != end; ++i)\n            {\n                group[c][0][GroupEnd[c]] = group[c][0][i] + a;\n                group[c][1][GroupEnd[c]++] = group[c][1][i] + b * a;\n```\n/\\*\u5bf9\u8fd9\u4e2a\u7269\u54c1\u8fdb\u884c\u5206\u7ec4\uff0c\u540c\u65f6\u5c06\u8be5\u7ec4\u4e4b\u524d\u5df2\u6709\u7684\u7ec4\u5408\u8fdb\u884c\u52a0\u4e0a\u7269\u54c1\u3002\n\u53ef\u80fd\u6709\u70b9\u96be\u61c2\u3002\u3002\u6211\u8bed\u6587\u4e0d\u597d\uff0c**\u90a3\u5c31\u6765\u4e2a\u4f8b\u5b50**\u6bd4\u5982\u8bf4\u4e4b\u524d\u53ea\u6709A\uff0c\u73b0\u5728\u6765\u4e86\u4e2a\u4f9d\u8d56A\u7684B\uff0c\u90a3\u4e48\u8fd9\u6ce2\u5faa\u73af\u540egroup[c]\u4e2d\u5c31\u5b58\u4e0b\u4e86\n\nA\uff0cAB\u4e24\u4e2a\u7ec4\u5408\u7684\u6570\u636e\uff1b\u5982\u679c\u518d\u6765\u4e2aC\uff0cgroup[c]\u4e2d\u5c31\u5b58\u653e\u4e86A\uff0cAB\uff0cAC\uff0cABC\u7684\u6570\u636e\u3002** :)\u633a\u91cd\u8981\u7684\u4e00\u6b65***/\n\n```cpp\n            }\n        }\n        else\n        {\n            group[GEnd][0][0] = a;//\u5982\u679c\u8fd9\u4e2a\u7269\u54c1\u5e76\u4e0d\u4f9d\u8d56\u4e8e\u522b\u7684\u7269\u54c1\uff0c\u5c31\u65b0\u5f00\u4e00\u4e2a\u7ec4\u522b\n            group[GEnd][1][0] = a * b;\n            ++GroupEnd[GEnd];\n        }\n        ++GEnd;\n    }\n//\u5b9e\u9645\u4e0a\uff0c\u8fd9\u6837\u5904\u7406\u540e\u6709\u4e00\u4e9b\u7ec4\u522b\u4e2d\u662f\u7a7a\u7684\uff0c\u4e5f\u5c31\u662f\u5168\u4e3a0\uff0c\u4f460\u4e0d\u4f1a\u5f71\u54cd\u7b54\u6848\n    /*for (int i(1); i != GEnd; ++i)\n    {\n        printf(\"%d\\n\", i);\n        for (int a(0); a != GroupEnd[i]; ++a)\n        {\n            printf(\"%d \", group[i][0][a]);\n        }\n        printf(\"\\n\\n\");\n    }*/\n        //\u4ee5\u4e0a\u4e00\u5927\u6bb5\u662f\u5173\u4e8e\u5206\u7ec4\u7684\u6d4b\u8bd5\uff0c\u5982\u679c\u6709\u7591\u60d1\u53ef\u4ee5\u53bb\u6389\u6ce8\u91ca\u770b\u4e00\u770b\n    for (int i(1); i != GEnd; ++i)\n    {\n        for (int j(m); j >= group[i][0][0]; --j)//\u5176\u5b9e\u53ef\u4ee5\u4f18\u5316\uff0c\u56e0\u4e3a\u7269\u54c1\u4ef7\u683c\u4e3a10\u500d\u6570\uff08\u4f46\u8fd9\u6709\u4ec0\u4e48\u7528\uff0c**_\u6211\u592a\u61d2\u4e86_**\uff09\n        {\n            for (int k(0); k != GroupEnd[i]; ++k)//\u8fd9\u4e00\u6b65\u5982\u679c\u4e0d\u6e05\u695a\u7684\u8bdd\u53ef\u4ee5\u5148\u53bb\u770b\u770b\u4e92\u65a5\u80cc\u5305\u95ee\u9898\uff0c\u4f46\u5b9e\u9645\u4e0a\u5c31\u662f\u4ecegroup[i]\u8fd9\u4e2a\u7ec4\u522b\n//\u4e2d\u627e\u51fa\u53ef\u4ee5\u7ee7\u627f\u4e0a\u4e00\u72b6\u6001\u7684\u6700\u4f18\u7ec4\u5408\uff0c\u7406\u89e3\u5e94\u8be5\u4e0d\u662f\u5f88\u96be\u5427\uff1f\u3001\n            {\n                if (j < group[i][0][k]) continue;\n                if (v[j - group[i][0][k]] + group[i][1][k] > v[j])\n                {\n                    v[j] = v[j - group[i][0][k]] + group[i][1][k];//**\u72b6\u6001\u8f6c\u79fb**\n                }\n            }\n        }\n    }\n    printf(\"%d\", v[m]);//\u62ff\u7740\u7b54\u6848\u4e0d\u80fd\u4e0d\u8f93\u51fa\u554a\n    //system(\"pause\");\n    return 0;\n}\n```\n\u5e0c\u671b\u80fd\u5bf9\u4f60\u6709\u6240\u5e2e\u52a9\u54e6",
        "postTime": 1495287254,
        "uid": 33173,
        "name": "_J_C_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "# \u601d\u8def\n\n\u5bf9\u6bcf\u4e2a\u7269\u54c1\u7684\u6240\u6709\u9644\u4ef6\u8fdb\u884c\u4e00\u6b210-1\u80cc\u5305\uff0c\u628a\u4e3b\u4ef6\u548c\u5c5e\u4e8e\u5b83\u7684\u80cc\u5305\u770b\u6210 vol \u4e2a\u7269\u54c1\uff0c\u5bf9\u6bcf\u4e2a\u4e3b\u4ef6\u8fdb\u884c\u5206\u7ec4\u80cc\u5305\n\n# \u4f18\u70b9\n\n\u901a\u7528\u6027\u5f3a(~~\u5176\u5b9e\u662f\u61d2\uff0c\u540c\u7c7b\u95ee\u9898\u53ea\u60f3\u5199\u4e00\u6b21~~\n\n# \u7f3a\u70b9\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u9ad8\uff0c\u8981\u4e0d\u662f\u8fd9\u9053\u9898\u7684\u6570\u636e\u6bd4\u8f83\u6c34\uff08\u90fd\u80fd\u88ab100\u6574\u9664\uff09\u5c31\u8fc7\u4e0d\u4e86\u4e86\n\n```cpp\n#include<bits/stdc++.h>\nusing std::max;\n\nstruct good\n{\n    int w,c;\n};\n\nclass backpack_d\n{\n    private:\n        good data[101][101];\n        int num[101];\n        int size,vol;\n        int n;\n    public:\n        backpack_d()\n        {\n            memset(data,0,sizeof(data));\n            memset(num,0,sizeof(num));\n            size=vol=0;n=0x7f;\n        }\n        void init(const int &v){vol=v;}//\u521d\u59cb\u5316\u5bb9\u91cf\n        void add(int iw,const int &ic,const int &ir)\n        {\n            int t=10;\n            while(!(iw%t)){t*=10;}\n            t/=10;\n            if(n>t)n=t;\n            if(!ir)//\u4e3b\u4ef6\u5904\u7406\n            {\n                data[++size][0].c=ic;\n                data[size][0].w=iw;\n                return;\n            }//\u9644\u4ef6\u5904\u7406\n            data[ir][++num[ir]].c=ic;\n            data[ir][num[ir]].w=iw;\n            size++;\n        }\n        int maxw()\n        {\n            vol/=n;\n            for(int i=1;i<=size;i++)\n            {\n                for(int j=0;j<=num[i];j++)\n                {\n                    data[i][j].w/=n;//\u8def\u5f84\u538b\u7f29\uff0c\u51cf\u5c0f\u65f6\u95f4\u590d\u6742\u5ea6 \n                }\n            }\n            int dp[32001],d[32001];\n            memset(d,0,sizeof(d));\n            for(int i=1;i<=size;i++)//\n            {\n                if(!data[i][0].w)continue;\n                memset(dp,0,sizeof(dp));\n                for(int j=1;j<=num[i];j++)\n                {\n                    for(int k=vol-data[i][0].w;k>=data[i][j].w;k--)\n                    {\n                        dp[k]=max(dp[k],dp[k-data[i][j].w]+data[i][j].c);//\u5bf9\u9644\u4ef6\u8fdb\u884c0-1 \n                    }\n                }\n                for(int j=vol-data[i][0].w;j>=0;j--)\n                {\n                    dp[j]+=data[i][0].c;\n                }\n                for(int k=vol;k>=data[i][0].w;k--)\n                {\n                    for(int j=0;j<=vol-data[i][0].w;j++)\n                    {\n                        if(k-(j+data[i][0].w)<0)continue;\n                        d[k]=max(d[k],d[k-(j+data[i][0].w)]+dp[j]);//\u5bf9\u4e3b\u4ef6\u8fdb\u884c\u5206\u7ec4 \n                    }\n                }\n            }\n            return d[vol];\n        }\n};\n\nint main()\n{\n    int n,m,v,p,q;\n    scanf(\"%d%d\",&n,&m);\n    backpack_d bp;\n    bp.init(n);\n    for(int i=1;i<=m;i++)\n    {\n        scanf(\"%d%d%d\",&v,&p,&q);\n        bp.add(v,v*p,q);\n    }\n    printf(\"%d\\n\",bp.maxw());\n    return 0;\n}\n```",
        "postTime": 1488543096,
        "uid": 35031,
        "name": "Aoi_Tori",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u770b\u4e86\u597d\u4e45\u90fd\u6ca1\u770b\u5230P\u7684\u9898\u89e3\uff0c\u4e8e\u662f\u6211\u6765\u4e22\u4e2ap\u7684\u9898\u89e32333333\n\n\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u628a\u9898\u76ee\u770b\u6210\u4e00\u4e2a01\u80cc\u5305\u7684\u6a21\u578b\n\n\u65e2\u7136\u6709\u4e3b\u4ef6\u548c\u9644\u4ef6\uff0c\u90a3\u4e48\u5f88\u5bb9\u6613\u60f3\u5230\u5bf9\u4e8e\u6bcf\u4e2a\u4e3b\u4ef6\u603b\u51715\u79cd\u9009\u62e9\u72b6\u6001\n\n1. \u53ea\u9009\u4e3b\u4ef6\n\n2. \u4e3b\u4ef6+\u9644\u4ef61\n\n3. \u4e3b\u4ef6+\u9644\u4ef62\n\n4. \u4e3b\u4ef6+\u9644\u4ef61+\u9644\u4ef62\n\n5.  \u4e0d\u9009\n\n##\u7136\u800c\uff0c\u4f60\u53ef\u80fd\u4f1a\u60f3\u5230\uff0c\u6709\u4e9b\u4e3b\u4ef6\u662f\u6ca1\u6709\u4e24\u4e2a\u9644\u4ef6\n\n\u90a3\u53c8\u6709\u4ec0\u4e48\u5173\u7cfb\u5462\uff0c\u54c8\u54c8\u54c8\uff08\u5077\u7b11\u4e2d\uff09\n\n\u6ca1\u6709\u9644\u4ef6\uff0c\u5b83\u7684\u503c\u4e3a0\uff0c\u5bf9\u8ba1\u7b97\u6ca1\u6709\u5f71\u54cd\uff0c\u867d\u7136\u591a\u4e86\u4e00\u4e22\u4e22\u65f6\u95f4\uff0c\u4f46\u662f\u65f6\u95f4\u591a\u561b\uff0c\u5bf9\u5427\n\n\u7136\u540e\u8bf4\u660e\u4e0b\u6211\u7684\u7a0b\u5e8f\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u88f8\u7684\u80cc\u5305\n\nv[i,k]\u8868\u793a\u4e3b\u4ef6\u7f16\u53f7\u4e3ai\u7684\u76f8\u5173\u4ef7\u683c\uff0ck=0\u5373\u4e3a\u4e3b\u4ef6\uff0ck=1\u4e3a\u9644\u4ef61\uff0ck=2\u4e3a\u9644\u4ef62\n\np[i,k]\u8868\u793a\u4e3b\u4ef6\u7f16\u53f7\u4e3ai\u7684\u4ef7\u683c\u4e0e\u91cd\u8981\u5ea6\u4e58\u79ef\uff0c\u4e5f\u5c31\u662f\u672c\u9898\u7684\u6743\u503c\n\n\u5982\u679c\u4f60\u4e0d\u61c2\u80cc\u5305\u7684\u8bdd\u5148\u53bb\u770b\u666e\u901a\u768401\u80cc\u5305\uff0c\u6211\u76f4\u63a5\u7701\u7565\u4e86\u4e00\u7ef4\u505a\u7684\uff0c\u7701\u7565\u6389\u4e86n\u7684\u90a3\u4e00\u7ef4\n\n\u63a5\u4e0b\u6765\u9644\u4e0a\u4ee3\u7801\n\n```pascal\nvar i,j,n,m,a,b,c:longint;\n    f:array[0..4000]of longint;\n    v,p:array[1..60,0..2]of longint;\n\nbegin\nreadln(n,m);n:=n div 10;\nfor i:=1 to m do\nbegin\n    readln(a,b,c);\n    if c=0 then c:=i;\n    for j:=0 to 2 do\n            if v[c,j]=0 then\n                begin\n                   v[c,j]:=a div 10;\n                   p[c,j]:=v[c,j]*b;\n                   break;\n                end;\nend;\n\n  for i:=1 to m do\n  if v[i,0]<>0 then\n      for j:=n downto 0 do\n      begin\n      if (j>=v[i,0])and(f[j]<f[j-v[i,0]]+p[i,0]) then\n                f[j]:=f[j-v[i,0]]+p[i,0];\n\n      if (j>=v[i,0]+v[i,1])and(f[j]<f[j-v[i,0]-v[i,1]]+p[i,0]+p[i,1]) then\n                f[j]:=f[j-v[i,0]-v[i,1]]+p[i,0]+p[i,1];\n\n      if (j>=v[i,0]+v[i,2])and(f[j]<f[j-v[i,0]-v[i,2]]+p[i,0]+p[i,2]) then\n                f[j]:=f[j-v[i,0]-v[i,2]]+p[i,0]+p[i,2];\n\n      if (j>=v[i,0]+v[i,1]+v[i,2])and(f[j]<f[j-v[i,0]-v[i,1]-v[i,2]]+p[i,0]+p[i,1]+p[i,2]) then\n                f[j]:=f[j-v[i,0]-v[i,1]-v[i,2]]+p[i,0]+p[i,1]+p[i,2];\n      end;\n      writeln(f[n]*10);\nend.\n```",
        "postTime": 1478572071,
        "uid": 10632,
        "name": "Sunshine\u96e2",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "Pascal \u7528\u4e8c\u7ef4\u768401\u80cc\u5305\u505a\u7684\u4ee3\u7801\u3002\u5ffd\u7565\u9644\u4ef6\uff0c\u5728\u505a\u4e3b\u4ef6\u7684\u65f6\u5019\u628a\u9644\u4ef6\u4e00\u8d77\u505a\u4e86\uff0c\u4e5f\u5c31\u662f\u5bf9\u4e8e\u6bcf\u4e2a\u4e3b\u4ef6\u7684f[i,j]:=max(\u4e0d\u53d6\uff0c\u4e3b\uff0c\u4e3b+\u96441\uff0c\u4e3b+\u96442\uff09\n\n```cpp\nuses math;\nvar f:array[0..60,0..32000] of int64;\n    item:array[0..60,1..2] of longint;\n    w,v,num,q:array[1..60] of longint;\n    i,j,x,y,z,k,m,n,p,t1,t2:longint;sum:int64;\nbegin\n    readln(n,m);\n    for i:=1 to m do\n    begin\n        readln(v[i],w[i],q[i]);\n        if q[i]>0 then\n        begin\n            inc(num[q[i]]);\n            item[q[i],num[q[i]]]:=i;\n        end;\n    end;\n    for i:=1 to m do\n    begin\n        for j:=0 to n do\n        begin\n            if (v[i]>j)or(q[i]>0) then f[i,j]:=f[i-1,j] else\n            begin\n                f[i,j]:=max(f[i-1,j],f[i-1,j-v[i]]+w[i]*v[i]);\n                if num[i]>=1 then\n                  if j-v[i]-v[item[i,1]]>=0 then\n                    f[i,j]:=max(f[i,j],f[i-1,j-v[i]-v[item[i,1]]]+w[i]*v[i]+w[item[i,1]]*v[item[i,1]]);\n                if num[i]=2 then\n                begin\n                    t1:=item[i,1];t2:=item[i,2];\n                    if j-v[i]-v[t2]>=0 then\n                      f[i,j]:=max(f[i,j],f[i-1,j-v[i]-v[t2]]+w[i]*v[i]+w[t2]*v[t2]);\n                    if j-v[i]-v[t1]-v[t2]>=0 then\n                      f[i,j]:=max(f[i,j],f[i-1,j-v[i]-v[t1]-v[t2]]+w[i]*v[i]+w[t1]*v[t1]+w[t2]*v[t2]);\n                end;\n            end;\n        end;\n    end;\n    writeln(f[m,n]);\nend.\n\n```",
        "postTime": 1476693033,
        "uid": 14130,
        "name": "The_Dark_Knight",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "\u56e0\u4e3a\u8fd9\u9053\u9898\u662f\u5178\u578b\u7684\u80cc\u5305\u95ee\u9898\uff0c\u663e\u7136\u6807\u51c6\u7b97\u6cd5\u5c31\u662f\u52a8\u6001\u89c4\u5212\u3002\u7531\u4e8e\u6211\u4eec\u8981\u5bf9\u4e3b\uff0c\u9644\u4ef6\u505a\u6346\u7ed1\u3002\u7531\u4e8e\u9898\u76ee\u6ca1\u6709\u76f4\u63a5\u7ed9\u51fa\u6bcf\u4e2a\u4e3b\u4ef6\u5bf9\u5e94\u7684\u9644\u4ef6\uff0c\u6240\u4ee5\u8fd8\u9700\u8981\u505a\u4e00\u4e2a\u9884\u5904\u7406\uff1a\u53e6\u5f00\u4e24\u4e2a\u6570\u7ec4q1\uff0cq2\u6765\u5206\u522b\u8bb0\u5f55\u5bf9\u5e94\u7684\u7b2ci\u4e2a\u4e3b\u4ef6\u7684\u9644\u4ef6\u3002\u90a3\u4e48\u5bf9\u4e0e\u9644\u4ef6\u4e0d\u9700\u8981\u5904\u7406\u3002\u800c\u4e3b\u4ef6\u7684\u82b1\u8d39\u5c31\u67094\u79cd\u60c5\u51b5\u4e86\u3002( \u4e0b\u9762\u7528W\u8868\u793a\u82b1\u8d39)\n\n```cpp\nW1=v[i]                               \uff08\u53ea\u4e70\u4e3b\u4ef6\uff09\nW2=v[i]+v[q1[i]]                        \uff08\u4e70\u4e3b\u4ef6\u548c\u7b2c\u4e00\u4e2a\u9644\u4ef6\uff09\nW3=v[i]+v[q2[i]]                         \uff08\u4e70\u4e3b\u4ef6\u548c\u7b2c\u4e8c\u4e2a\u9644\u4ef6\uff09\nW4=v[i]+v[q1[i]]+v[q2[i]]                 \uff08\u4e70\u4e3b\u4ef6\u548c\u90a3\u4e24\u4e2a\u9644\u4ef6\uff09\n```\n\u90a3\u4e48\u5728\u505a\u7684\u65f6\u5019\u6ce8\u610f\u4e00\u70b9\u5c0f\u7ec6\u8282  \u6bd4\u5982\u8bf4\u9898\u76ee\u7ed9\u7684\u662f10\u7684\u500d\u6570 \u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u60f3\u628a\u6240\u6709\u4ef7\u94b1\u9664\u4ee510\u4ee5\u540e\u518d\u4e58\u56de\u6765\n\u5728\u679a\u4e3e\u7269\u54c1\u6570\u91cf\u7684\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u53ea\u679a\u4e3e\u4e3b\u4ef6\u5373\u53ef\uff08\u4ee3\u7801\u5199\u5f97\u8f83\u4e11  \u4e0d\u7528\u5728\u610f\u8fd9\u4e9b\u7ec6\u8282...\uff09\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\nusing namespace std;\nconst int mod=10;\nint n,m;\nint w[100],v[100],belong,x,next[100][2];\nint minn=0x7f7f7f;\nint f[3000];\nbool vis[100];\nint maxn=-1;\nvoid dp_function()\n{\n    for(int i=1;i<=m;i++) \n     if(vis[i])\n      for(int j=n;j>=0;j--)\n      {\n          if(next[i][0]==0)\n            if(j-w[i]>=0) f[j]=max(f[j],f[j-w[i]]+v[i]);\n          if(next[i][0]!=0&&next[i][1]==0) \n        {\n          if(j-w[i]>=0) f[j]=max(f[j],f[j-w[i]]+v[i]);\n          if(j-w[i]-w[next[i][0]]>=0) f[j]=max(f[j],f[j-w[i]-w[next[i][0]]]+v[i]+v[next[i][0]]);\n        }\n        if(next[i][1]!=0)\n        {\n          if(j-w[i]>=0) f[j]=max(f[j],f[j-w[i]]+v[i]);\n          if(j-w[i]-w[next[i][0]]>=0) f[j]=max(f[j],f[j-w[i]-w[next[i][0]]]+v[i]+v[next[i][0]]);\n          if(j-w[i]-w[next[i][1]]>=0) f[j]=max(f[j],f[j-w[i]-w[next[i][1]]]+v[i]+v[next[i][1]]);\n          if(j-w[i]-w[next[i][0]]-w[next[i][1]]>=0) f[j]=max(f[j],f[j-w[i]-w[next[i][0]]-w[next[i][1]]]+v[i]+v[next[i][0]]+v[next[i][1]]);    \n        } \n      }\n    printf(\"%d\",f[n]*mod);  \n}\nint main()\n{\n    memset(vis,true,sizeof(vis));\n    memset(f,0,sizeof(f));\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=m;i++)\n    {\n      scanf(\"%d%d%d\",&w[i],&x,&belong),v[i]=w[i]*x;\n      if(belong!=0)\n      {\n          vis[i]=false;\n          if(next[belong][0]==0) next[belong][0]=i;\n          else next[belong][1]=i;\n      }\n    }  \n    n/=mod;\n    for(int i=1;i<=m;i++) w[i]/=mod,v[i]/=mod;\n    dp_function();\n    return 0;\n}\n```",
        "postTime": 1476270598,
        "uid": 22060,
        "name": "Memorize",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    },
    {
        "content": "#\u95f2\u6765\u65e0\u4e8b......\u5199\u7bc7\u9898\u89e3\n\n\u672c\u4eba\u5728\u505a\u9898\u65f6\u7a81\u7136\u60f3\u5230\u4e00\u4e2a\u65b9\u6cd5\uff1a\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u80cc\u5305\u7684\u8003\u8651\u987a\u5e8f\uff08\u5373\u4f4d\u7f6e\uff09\u91cd\u65b0\u6392\u5217\u4e00\u4e0b\n\n\u628a\u6240\u6709\u7684\u914d\u4ef6\u7d27\u63a5\u7740\u5b83\u4eec\u7684\u4e3b\u4ef6\u653e\u5728\u4e00\u8d77\n\n\u8fd9\u6837\u5c31\u53ef\u4ee501\u80cc\u5305\u4e86\uff08\u4f46\u8fd8\u662f\u6709\u5c0f\u533a\u522b\uff0c\u4e3b\u4ef6\u4e0d\u4e70\u7684\u65f6\u5019\u9700\u8981\u8df3\u8fc7\u914d\u4ef6\uff09\n\n\u4e0b\u9762\u8d34\u4ee3\u7801\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#define maxn 65\nusing namespace std;\nint dp[maxn][32005];\nint line[maxn];\nint w[maxn];\nint v[maxn];\nint s[maxn];\nint n,m;\n\nint DP(int pos,int rest){\n    if(pos>=n+1) return 0;\n    if(dp[pos][rest]!=0)return dp[pos][rest];\n    if(s[line[pos]]!=0){\n        int ans=DP(pos+1,rest);\n        if(rest>=v[line[pos]]) ans=max(ans,DP(pos+1,rest-v[line[pos]])+v[line[pos]]*w[line[pos]]);\n        dp[pos][rest]=ans;\n        return ans;\n    }\n    else{\n        int k=pos+1;\n        while(s[line[k]]!=0)k++;//\u8df3\u8fc7\u5b83\u7684\u914d\u4ef6\n        int ans=DP(k,rest);\n        if(rest>=v[line[pos]]){\n            ans=max(ans,DP(pos+1,rest-v[line[pos]])+v[line[pos]]*w[line[pos]]);\n        }\n        dp[pos][rest]=ans;\n        return ans;\n    }\n}                                    //\u76f4\u63a501\u80cc\u5305\n\nbool cmp(const int i,const int j){\n    if((s[i]==0)&&(s[j]==0)){\n        return i<j;\n    }\n    if(s[i]==0){\n        return i<=s[j];\n    }\n    if(s[j]==0){\n        return s[i]<j;\n    }\n    else{\n        return s[i]<s[j];\n    } //cmp\u6392\u5e8f\u51fd\u6570,\u7528\u4e8e\u5b9e\u73b0\u4e0a\u6587\u6240\u8ff0\u7684\u6392\u5e8f\n}\n\n\nint main(){\n    int z;\n    freopen(\"input.txt\",\"r\",stdin);\n    scanf(\"%d%d\",&m,&n);\n    for(int i=1;i<=n;i++){\n        scanf(\"%d%d%d\",&v[i],&w[i],&s[i]);\n        line[i]=i;\n    }\n    sort(line+1,line+n+1,cmp);\n    printf(\"%d\",DP(1,m));\n    return 0;\n}\n```\n**\u603b\u8017\u65f635ms\uff0c\u4e2a\u4eba\u611f\u89c9\u826f\u597d**\n",
        "postTime": 1475383052,
        "uid": 23414,
        "name": "Renatus",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1064 \u3010\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u3011"
    }
]