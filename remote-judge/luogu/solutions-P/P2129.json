[
    {
        "content": "# \u6a21\u62df\n\n\u5bf9\u5c31\u662f\u6a21\u62df\uff0c\u4f46\u663e\u7136\u6734\u7d20\u7684\u6a21\u62df\u662f\u8fc7\u4e0d\u6389\u7684\u3002\n\n\u6bcf\u6b21\u4e0d\u53ef\u80fd\u628a\u6240\u6709\u7684\u70b9\u90fd\u79fb\u52a8\uff0c\u90a3\u600e\u4e48\u529e\uff1f\n\n## \u90a3\u5c31\u79fb\u52a8\u5750\u6807\u7cfb\u554a\uff01\n\n\\_\u5982\u679c\u8111\u5b50\u60f3\u4e0d\u51fa\u6765\uff0c\u90a3\u5c31\u7528\u811a\u6307\u5934\u60f3\u4e00\u60f3\u3002\u2014\u2014sSay\\_\n\n\u7b2c\u4e00\u79cd\u64cd\u4f5c\u76f4\u63a5\u7edf\u8ba1\u5230\u7cfb\u4e0a\u3002\n\n\u7b2c\u4e8c\u79cd\u64cd\u4f5c\u548c\u7b2c\u4e09\u79cd\u64cd\u4f5c\u8003\u8651\u628a\u5750\u6807\u7cfb\u7ffb\u8f6c\uff0c\n\n\u7ffb\u8f6c\u540e\u628a\u7b2c\u4e00\u79cd\u64cd\u4f5c\u7684\u7edf\u8ba1\u53cd\u7740\u7edf\u8ba1\n\n(\u56e0\u4e3a\u6b63\u6570\u52a0\u7b49\u4e8e\u8d1f\u6570\u51cf)\n\n\u7136\u540e\u5c31\u6ca1\u4e86\u3002O(n)\u7b97\u6cd5\u8fd8\u662f\u6bd4\u8f83\u5feb\u7684\n\n``` cpp\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n\nusing namespace std;\n\nconst int Maxn = 501010;\n\ntypedef long long ll;\n\nchar ch[Maxn];\nint n, m, flag1, flag2;\nll x[Maxn], y[Maxn], a[Maxn], b[Maxn];\n\nint Get(int p) {return (p ? -1 : 1);}\n\nint main() {\n    scanf(\"%d%d\", &n, &m);\n    for(int i = 1; i <= n; ++i) cin >> x[i] >> y[i];\n    for(int i = 1; i <= m; ++i) {\n        cin >> ch[i];\n        if(ch[i] == 'm') cin >> a[i] >> b[i];    \n    }\n    ll deltax = 0, deltay = 0;\n    for(int i = m; i >= 1; --i) {\n        if(ch[i] == 'x') flag1 ^= 1;\n        else if(ch[i] == 'y') flag2 ^= 1;\n        else {\n            deltax += Get(flag1) * a[i];\n            deltay += Get(flag2) * b[i];\n        }\n    }\n    for(int i = 1; i <= n; ++i) {\n        cout << Get(flag1) * (deltax + x[i]) << ' ' << Get(flag2) * (deltay + y[i]) << endl;\n    }\n    return 0;\n}\n```",
        "postTime": 1508141876,
        "uid": 19125,
        "name": "sSay",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2129 \u3010L\u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb\u3011"
    },
    {
        "content": "\u8d77\u59cb\u4f4d\u7f6e\u786e\u5b9a\uff0c\u7b80\u5355\u7684\u4e09\u79cd\u64cd\u4f5c\uff0c\u5341\u5206\u7b80\u5355\u7684\u6a21\u62df\u3002\n\n\u4f46\u6bcf\u6b21\u90fd\u79fb\u52a8\u6240\u6709\u7684\u519b\u961f\uff0cO\uff08nm\uff09\uff0c\u4e00\u770b\u6570\u636e\u8303\u56f4\uff0cT\u98de\u5566\u3002\n\n\u6211\u4eec\u8003\u8651\u7b80\u5316\u64cd\u4f5c(\u8fd9\u4e48\u7b80\u5355\u7684\u64cd\u4f5c\u4e0d\u662f\u767d\u7ed9\u7684\uff09\u3002\u6211\u4eec\u901a\u8fc7\u89c2\u5bdf\u53d1\u73b0\uff0c\u53ea\u6709m\u64cd\u4f5c\u4e3a\u52a0\u51cf\uff0cx,y\u4e3a\u53d6\u76f8\u53cd\u6570\u3002\u90a3\u4e48\u5c31\u53ef\u4ee5\u5c06\u672b\u4f4d\u7f6e\u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u539f\u59cb\u5750\u6807\uff08\u53ea\u662f\u6b63\u8d1f\u53d8\u5316\uff09\u548c\u5750\u6807\u53d8\u5316\u91cf\uff0co\uff08m\uff09\u5c31\u53ef\u4ee5\u6c42\u51fa\u6700\u7ec8\u7684\u539f\u59cb\u5750\u6807\u6b63\u8d1fsx\uff0csy\uff0c\u4ee5\u53ca\u5750\u6807\u53d8\u91cfxx\uff0cyy\u3002\n\u7b54\u6848\u4e3a\uff08\u539f\u59cb\u6a2a\u5750\u6807*sx+xx\uff0c\u539f\u59cb\u7eb5\u5750\u6807*sy+yy\uff09\u3002\n\ncode\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint n,m;\nstruct ll\n{\n\tlong long x,y;\n}lc[500005];\nchar c[500005];\nlong long a[500005],b[500005];\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%lld%lld\",&lc[i].x,&lc[i].y);\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tcin>>c[i];\n\t\tif(c[i]=='m') \n\t\tscanf(\"%lld%lld\",&a[i],&b[i]);\n\t}\n\tlong long xx=0,sx=1,yy=0,sy=1;\n\tfor(int i=m;i>=1;i--)\n\t{\n\t\tif(c[i]=='y')\n\t\t{\n\t\t\tsy=-sy;yy=-yy;\n\t\t}\n\t\tif(c[i]=='m')\n\t\t{\n\t\t\txx+=a[i];yy+=b[i];\n\t\t}\n\t\tif(c[i]=='x')\n\t\t{\n\t\t\tsx=-sx;xx=-xx;\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tprintf(\"%lld %lld\\n\",lc[i].x*sx+xx,lc[i].y*sy+yy);\n\treturn 0;\n}\n```\n\n\u81f4\u8c22",
        "postTime": 1572956857,
        "uid": 113777,
        "name": "1\u6c83\u5c14\u514b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2129 \u3010L\u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb\u3011"
    },
    {
        "content": "\u6734\u7d20\u6a21\u62dfO(nm)\u5e94\u8be5\u4e0d\u7528\u89e3\u91ca\uff0c\u6211\u5341\u5206\u597d\u5fc3\u5730\u7559\u4e86\u51e0\u5206\u3002\n\n\u6b63\u89e3\uff1a\u77e9\u9635\u4e58\u6cd5\uff01\u5177\u4f53\u89e3\u91ca\uff1ahttp://baike.baidu.com/view/2455255.htm?fr=aladdin\n\n\u8bfb\u4e86\u4e0a\u9762\u7684\u4e1c\u897f\uff0c\u5e94\u8be5\u77e5\u9053\u4e86\u77e9\u9635\u4e58\u6cd5\u6709\u4e2a\u91cd\u8981\u6027\u8d28\uff1a\u6ee1\u8db3\u7ed3\u5408\u5f8b\u3002\n\n\u800c\u4e14\u7ecf\u8fc7\u4e00\u756a\u51d1\u6570\uff0c\u80fd\u5f97\u5230\u4e09\u4e2a\u7b49\u5f0f\uff08\u89c1http://www.matrix67.com/blog/archives/276\n\n\u8d34\u6807\u7a0b\uff1a\uff09\n\n\u5982\u679c\u4ece\u524d\u5f80\u540e\u628a\u64cd\u4f5c\u6240\u5bf9\u5e94\u76843\\*3\u77e9\u9635\u76f8\u4e58\uff0c\n\n\u518d\u628a\u7ed3\u679c\u6bcf\u6b21\u4e58\u4e0a(xi,yi,1)\uff08\u5b58\u4f5cd[1,1],d[2,1],d[3,1]\uff0c\u522b\u53cd\u4e86\uff09\uff0c\n\n\u5728\u6bcf\u6b21\u8ba1\u7b97\u65f6\u7b97\u6700\u540e\u4e24\u4e2a\uff08\u7ed3\u5408\u5f8b\uff0c\u4e00\u6837\u4e00\u6837\u6ef4\uff09\uff0c\n\n\u90a3\u4e48\u5c31\u4f1a\u53d1\u73b0\uff0c\u7ed3\u679c\u5c31\u662f\u7b2ci\u4e2a\u70b9\u7ecf\u8fc7\u4ece\u5c3e\u5230\u5934\u7684\u79fb\u52a8\u540e\u7684\u7ed3\u679c\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6O(n+m)\uff0c\u79d2\u8fc7\uff01\n\n\u53c2\u8003\uff1ahttp://www.matrix67.com/blog/archives/276\n\n\u8d34\u6807\u7a0b\uff1a\n\n```cpp\ntype jz=array[1..3,1..3]of longint;\n     zb=array[1..3,1..1]of longint;\nvar n,m,i,s,p,q:longint;ch:char;a,b,c:jz;d:zb;\n    x,y:array[1..500000]of longint;\nprocedure cf;            //3*3\u77e9\u9635a\u4e58\u4e0a3*3\u77e9\u9635b\uff0c\u5f97\u52303*3\u77e9\u9635c\nvar i,j,k:longint;\nbegin\n  for i:=1 to 3 do\n  for j:=1 to 3 do\n  begin\n  s:=0;\n  for k:=1 to 3 do s:=s+a[i,k]*b[k,j];\n  c[i,j]:=s;\n  end;\nend;\nprocedure cff;           //3*3\u77e9\u9635a\u4e58\u4e0a 3*1\u77e9\u9635d\uff0c\u5f97\u52303*1\u77e9\u9635c\nvar i,j,k:longint;\nbegin\n  for i:=1 to 3 do\n  for j:=1 to 1 do\n  begin\n  s:=0;\n  for k:=1 to 3 do\n  s:=s+a[i,k]*d[k,j];\n  c[i,j]:=s;\n  end;\nend;\nbegin\n  assign(input,'army.in');reset(input);\n  assign(output,'army.out');rewrite(output);\n  readln(n,m);\n  for i:=1 to n do\n  readln(x[i],y[i]);\n  read(ch);\n  case ch of\n```\n'm':\n```cpp\n  begin\n  readln(p,q);\n  a[1,1]:=1;a[1,2]:=0;a[1,3]:=p;\n  a[1,2]:=0;a[2,2]:=1;a[2,3]:=q;\n  a[3,1]:=0;a[3,2]:=0;a[3,3]:=1;\n  end;\n```\n'y':\n```cpp\n  begin\n  readln;\n  a[1,1]:=1;a[1,2]:=0;a[1,3]:=0;\n  a[2,1]:=0;a[2,2]:=-1;a[2,3]:=0;\n  a[3,1]:=0;a[3,2]:=0;a[3,3]:=1;\n  end;\n```\n'x':\n```cpp\n  begin\n  readln;\n  a[1,1]:=-1;a[1,2]:=0;a[1,3]:=0;\n  a[2,1]:=0;a[2,2]:=1;a[2,3]:=0;\n  a[3,1]:=0;a[3,2]:=0;a[3,3]:=1;\n  end;\n  end;\n  for i:=2 to m do\n  begin\n  read(ch);\n  case ch of\n```\n'm':\n```cpp\n  begin\n  readln(p,q);\n  b[1,1]:=1;b[1,2]:=0;b[1,3]:=p;\n  b[1,2]:=0;b[2,2]:=1;b[2,3]:=q;\n  b[3,1]:=0;b[3,2]:=0;b[3,3]:=1;\n  end;\n```\n'y':\n```cpp\n  begin\n  readln;\n  b[1,1]:=1;b[1,2]:=0;b[1,3]:=0;\n  b[2,1]:=0;b[2,2]:=-1;b[2,3]:=0;\n  b[3,1]:=0;b[3,2]:=0;b[3,3]:=1;\n  end;\n```\n'x':\n```cpp\n  begin\n  readln;\n  b[1,1]:=-1;b[1,2]:=0;b[1,3]:=0;\n  b[2,1]:=0;b[2,2]:=1;b[2,3]:=0;\n  b[3,1]:=0;b[3,2]:=0;b[3,3]:=1;\n  end;\n  end;\n  cf;\n  a:=c;\n  end;                          //\u5148\u628a\u6240\u6709\u77e9\u9635\u6309\u5e8f\u4e58\u4e0a\n  for i:=1 to n do                 //\u518d\u4e00\u4e2a\u70b9\u4e00\u4e2a\u70b9\u5904\u7406\u4f4d\u7f6e\n  begin\n  d[1,1]:=x[i];d[2,1]:=y[i];d[3,1]:=1;\n  cff;\n  writeln(c[1,1],' ',c[2,1]);\n  end;\n  close(input);close(output);\nend.\n\n```",
        "postTime": 1411119211,
        "uid": 885,
        "name": "wanglichao1121",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2129 \u3010L\u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb\u3011"
    },
    {
        "content": "# **\u3010\u9898\u89e3\u3011L \u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb [P2129]**\n\n\n**\u4f20\u9001\u95e8\uff1a** [$L$ \u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb $[P2129]$](https://www.luogu.org/problem/P2129)\n\n-------\n\n## **\u3010\u5206\u6790\u3011**\n\n\u5927\u4f6c\u4eec\u90fd\u5199\u7684\u662f**\u77e9\u9635\u4e58\u6cd5**\u6216\u8005**\u6a21\u62df**\uff0c\u5411\u6211\u8fd9\u79cd\u4e0d\u4f1a\u77e9\u9635\u548c\u819c\u60a8\u7684\u849f\u84bb\u5c31\u53ea\u80fd\u5199\u7ebf\u6bb5\u6811\u4e86 $\\text{QAQ}$ \uff08\u597d\u50cf\u662f\u7b2c\u4e00\u4e2a\u7528\u8fd9\u79cd\u5947\u8469\u65b9\u6cd5\u7684\uff1f\uff09\u3002\n\n\u533a\u95f4\u52a0\uff0c\u533a\u95f4\u4e58\u7684\u6a21\u677f\uff0c\u4f46\u56e0\u4e3a\u662f\u5355\u8c03\u67e5\u8be2\uff0c\u800c\u4e14\u6ca1\u6709\u53d6\u6a21\u8fd9\u79cd\u9b3c\u755c\u64cd\u4f5c\uff0c\u6bd4[\u3010\u6a21\u677f\u3011\u7ebf\u6bb5\u6811 $2$](https://www.luogu.org/problem/P3373) \u548c [\u7ef4\u62a4\u5e8f\u5217](https://www.luogu.org/problem/P2023) \u8981\u7b80\u5355\u5f97\u591a\u3002\n\n\u7ef4\u62a4\u4e00\u4e2a\u4e58\u6cd5\u6807\u8bb0 $mul$ \u548c\u52a0\u6cd5\u6807\u8bb0 $add$\uff0c\u533a\u95f4\u52a0\u65f6\u5c31\u76f4\u63a5\u66f4\u65b0 $add$\uff0c\u533a\u95f4\u4e58 $v$ \u5c31\u5148\u8ba9 $mul$ \u548c $add$ \u90fd\u4e58\u4ee5 $v$ \u3002\n\n\u4e0b\u4f20\u6807\u8bb0\u65f6\u5148\u4f20 $mul$ \u518d\u4f20 $add$\n\n\u5176\u4ed6\u7684\u5c31\u76f4\u63a5\u7167\u7740\u9898\u76ee\u6a21\u62df\u5c31\u53ef\u4ee5\u4e86\u3002\n\n**\u5751\u70b9\uff1a$m$ \u4e2a\u6307\u4ee4\u8981\u5012\u7740\u5904\u7406\u3002**\n\n## **\u3010Code\u3011**\n\n```cpp\n#include<cstdio>\n#define Re register int\n#define pl (p<<1)//\u5de6\u513f\u5b50\n#define pr (p<<1|1)//\u53f3\u513f\u5b50\n#define mid (L+R>>1)\n#define pa tr[p].add//\u52a0\u6cd5\u6807\u8bb0\n#define pm tr[p].mul//\u4e58\u6cd5\u6807\u8bb0\nconst int N=5e5+5;\nint n,x,y,T,a[N],b[N];\ninline void in(Re &x){\n    Re f=0;x=0;char c=getchar();\n    while(c<'0'||c>'9')f|=c=='-',c=getchar();\n    while(c>='0'&&c<='9')x=(x<<1)+(x<<3)+(c^48),c=getchar();\n    x=f?-x:x;\n}\nstruct Segment_Tree{\n    struct QAQ{int l,r,ans,add,mul;}tr[N<<2];\n    inline void updata_add(Re p,Re v){\n        if(tr[p].l==tr[p].r)tr[p].ans+=v;//\u53ea\u9700\u8981\u66f4\u65b0\u53f6\u5b50\u8282\u70b9\n        pa+=v;//\u4f46\u6807\u8bb0\u5fc5\u987b\u4e0b\u4f20\n    }\n    inline void updata_mul(Re p,Re v){\n        if(tr[p].l==tr[p].r)tr[p].ans*=v;//\u540c\u4e0a\n        pm*=v,pa*=v;\n    }\n    inline void pushdown(Re p){//\u5148\u4e0b\u4f20\u4e58\u6cd5\u6807\u8bb0\uff0c\u518d\u4e0b\u4f20\u52a0\u6cd5\u6807\u8bb0\n        if(pm!=1)updata_mul(pl,pm),updata_mul(pr,pm),pm=1;//\u8fd9\u91cc\u4e58\u6cd5\u6807\u8bb0\u4e5f\u8981\u521d\u59cb\u5316\u4e3a1\n        if(pa)updata_add(pl,pa),updata_add(pr,pa),pa=0;\n    }\n    inline void build(Re p,Re L,Re R){//\u521d\u59cb\u5316\u5efa\u6811\n        tr[p].l=L,tr[p].r=R,pm=1;//\u4e58\u6807\u8bb0\u8981\u521d\u59cb\u5316\u4e3a1\n        if(L==R){tr[p].ans=a[L];return;}\n        build(pl,L,mid),build(pr,mid+1,R);\n    }\n    inline void change_add(Re p,Re l,Re r,Re v){//\u533a\u95f4\u52a0\n        Re L=tr[p].l,R=tr[p].r;\n        if(l<=L&&R<=r){updata_add(p,v);return;}\n        pushdown(p);\n        if(l<=mid)change_add(pl,l,r,v);\n        if(r>mid)change_add(pr,l,r,v);\n    }\n    inline void change_mul(Re p,Re l,Re r,Re v){//\u533a\u95f4\u4e58\n        Re L=tr[p].l,R=tr[p].r;\n        if(l<=L&&R<=r){updata_mul(p,v);return;}\n        pushdown(p);\n        if(l<=mid)change_mul(pl,l,r,v);\n        if(r>mid)change_mul(pr,l,r,v);\n    }\n    inline int ask(Re p,Re w){//\u5355\u70b9\u67e5\u8be2\n        Re L=tr[p].l,R=tr[p].r;\n        if(L==R)return tr[p].ans;\n        pushdown(p);\n        if(w<=mid)return ask(pl,w);\n        else return ask(pr,w);\n    }\n}T1,T2;//T1:x\u5750\u6807\u3002T2:y\u5750\u6807\u3002\ninline void sakura(Re T){\n\tRe x,y;char op;\n\tif(!T)return;\n\tscanf(\" %c\",&op);\n    if(op=='m')in(x),in(y);\n    sakura(T-1);\n    if(op=='x')T1.change_mul(1,1,n,-1);//(x,y) -> (-x,y)\n    else if(op=='y')T2.change_mul(1,1,n,-1);//(x,y) ->(x,-y)\n    else T1.change_add(1,1,n,x),T2.change_add(1,1,n,y);//(x,y) -> (x+p,y+q)\n}\nint main(){\n    // freopen(\"123.txt\",\"r\",stdin);\n    in(n),in(T);\n    for(Re i=1;i<=n;++i)in(a[i]),in(b[i]);\n    T1.build(1,1,n);//\u7b2c\u4e00\u68f5\u6811\n\tfor(Re i=1;i<=n;++i)a[i]=b[i];\n\tT2.build(1,1,n);//\u7b2c\u4e8c\u8bfe\u6811\n    sakura(T);\n    for(Re i=1;i<=n;++i)printf(\"%d %d\\n\",T1.ask(1,i),T2.ask(1,i));\n}\n```\n",
        "postTime": 1569210501,
        "uid": 110985,
        "name": "\u8fb0\u661f\u51cc",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2129 \u3010L\u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb\u3011"
    },
    {
        "content": "\u60f3\u4e0d\u901a\u8fd9\u9898\u7684\u77e9\u9635\u62ff\u6765\u5e72\u4ec0\u4e48......\n\n\u5b8c\u5168\u6ca1\u6709\u610f\u4e49\n\n---\n\n**\u3010\u5206\u6790\u3011**\n--\n\n\u5df2\u77e5 $n$ \u4e2a\u70b9\uff0c $m$ \u4e2a\u64cd\u4f5c\uff0c\u64cd\u4f5c\u5305\u62ec\u6240\u6709\u70b9\u79fb\u52a8\u3001\u6cbf $x$ \u8f74\u7ffb\u8f6c\u3001\u6cbf $y$ \u8f74\u7ffb\u8f6c\n\n\u9996\u5148\uff0c\u6211\u4eec\u7ef4\u62a4\u4e00\u4e2a $x$\u3001$y$ \u8868\u793a\u6240\u6709\u70b9\u662f\u5426\u5173\u4e8e $y$ \u8f74\u3001$x$ \u8f74\u7ffb\u8f6c\u5947\u6570\u6b21\uff0c\u662f\u7684\u8bdd\u4e3a $-1$ \u5426\u5219\u4e3a $1$\n\n\u4e3a\u4ec0\u4e48\u662f\u5947\u6570\u6b21\uff1f\u56e0\u4e3a\u7ffb\u8f6c\u5076\u6570\u6b21\u76f8\u5f53\u4e8e\u6ca1\u7ffb\u8f6c\n\n\u540c\u6837\u7684\uff0c\u6211\u4eec\u518d\u7ef4\u62a4\u4e00\u4e2a $dx$\u3001$dy$ \u8868\u793a\u6240\u6709\u70b9\u6700\u7ec8\u7684\u79fb\u52a8\n\n\u90a3\u4e48\uff0c\u8fd9\u91cc\u6709\u4e00\u4e2a\u7ec6\u8282\uff1a\n\n\u5047\u8bbe\u539f\u672c\u5b58\u5728\u4e00\u4e2a\u70b9 $(x,y)$ \uff0c\u5148\u79fb\u52a8\u53d8\u6210\u4e86 $(x+p,y+q)$\n\n\u63a5\u4e0b\u6765\u5047\u8bbe\u6cbf $y$ \u8f74\u7ffb\u8f6c\uff0c\u5219\u53d8\u6210 $(-x-p,y+q)$\n\n\u672c\u6765\uff0c\u6211\u4eec\u7ffb\u8f6c $y$ \u8f74\u7684\u5c31\u662f\u53ea\u8981 $x$ \u53d8\u4e3a $-x$ \uff0c\u90a3\u73b0\u5728\u5c31\u9700\u8981\u591a\u52a0\u4e00\u6b65 $dx=-dx$\n\n\u5173\u4e8e $x$ \u8f74\u7ffb\u8f6c\u7684\u4e5f\u662f\u4e00\u6837\u7684\n\n\u5176\u4ed6\u4ec0\u4e48\u4ece\u6808\u91cc\u9762\u53d6\u51fa\u6765\u7684\u5c31\u76f4\u63a5\u770b\u672c\u849f\u84bb\u7684\u4ee3\u7801\u5427\n\n---\n\n**\u3010\u4ee3\u7801\u3011**\n--\n\n```cpp\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n#define f(a,b,c) for(register int a=b;a<=c;a++)\n#define g(a,b,c) for(register int a=b;a>=c;a--)\n#define Max(a,b) ((a>b)?a:b)\n#define Min(a,b) ((a<b)?a:b)\n#define File(s) freopen(s\".in\",\"r\",stdin);freopen(s\".out\",\"w\",stdout)\ntypedef long long int ll;\ntypedef unsigned long long int ull;\nconst int MAXN=500010;\ntypedef ll ar[MAXN];\ninline ll read(){\n\tregister ll ans=0;register char c=getchar();register bool neg=0;\n\twhile((c<'0')|(c>'9')) neg^=!(c^'-') ,c=getchar();\n\twhile((c>='0')&(c<='9')) ans=(ans<<3)+(ans<<1)+(c^48),c=getchar();\n\treturn neg?-ans:ans;\n}\nint N,M;\nll x=1,y=1,dx=0,dy=0;\nar X,Y,O,Ox,Oy;\nvoid pre(){\n\tN=read(); M=read();\n\tf(i,1,N) X[i]=read(),Y[i]=read();\n\tf(i,1,M){\n\t\tchar c=getchar();\n\t\twhile(c!='x'&&c!='y'&&c!='m') c=getchar();\n\t\tif(c=='m') O[i]=1,Ox[i]=read(),Oy[i]=read();\n\t\telse O[i]=(c=='x')?2:3;\n\t}\n}\nvoid work(){\n\tg(i,M,1){\n\t\tif(O[i]==1) dx+=Ox[i],dy+=Oy[i];\n\t\telse if(O[i]==2) dx=-dx,x=-x;\n\t\telse if(O[i]==3) dy=-dy,y=-y;\n\t}\n}\nint main(){\n\tpre();\n\twork();\n\tf(i,1,N) printf(\"%lld %lld\\n\",X[i]*x+dx,Y[i]*y+dy);\n\treturn 0;\n}\n```",
        "postTime": 1541496834,
        "uid": 36031,
        "name": "JustinRochester",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2129 \u3010L\u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb\u3011"
    },
    {
        "content": "             P2129 L\u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb  \n          \n  [2129](https://www.luogu.org/problemnew/show/P2129)   \n  \n  \u9996\u5148\u6211\u4eec\u5e38\u89c4\u6253\u4e00\u4e2a\u66b4\u529b\uff0c\u66b4\u529b\u4fee\u6539\u3002\u3002\u3002   \n  $O(n * m)$  \n  \n  \u8fd8\u9a97\u4e8690\u5206~\n  \n  ```cpp\n\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<algorithm>\n\nusing namespace std;\n\nconst int maxn=500001;\n\nint n,m;\n\nstruct node\n{\n\tint x,y;\n}t[maxn];\n\nstruct node2\n{\n\tchar op[3];int x,y;\n}tt[maxn];\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tscanf(\"%d%d\",&t[i].x,&t[i].y);\n\t}\t\n\tfor(int i=1;i<=m;++i)\n\t{\n\t\tscanf(\"%s %d %d\",tt[i].op,&tt[i].x,&tt[i].y);\n\t}\n\twhile(m)\n\t{\n\t\tif(tt[m].op[0]=='x')\n\t\t{\n\t\t\tfor(int i=1;i<=n;++i)\n\t\t\t{\n\t\t\t\tt[i].x=-1*t[i].x;\n\t\t\t}\n\t\t\t//cout<<\"233\";\n\t\t}\t\n\t\telse if(tt[m].op[0]=='y')\n\t\t{\n\t\t\tfor(int i=1;i<=n;++i)\n\t\t\t{\n\t\t\t\tt[i].y=-1*t[i].y;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tint xx,yy;\n\t\t\t\n\t\t\txx=tt[m].x;\n\t\t\tyy=tt[m].y;\n\t\t\tfor(int i=1;i<=n;++i)\n\t\t\t{\n\t\t\t\tt[i].x+=xx;\n\t\t\t\tt[i].y+=yy;\n\t\t\t}\n\t\t}\n\t\tm--;\n\t}\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tprintf(\"%d %d\\n\",t[i].x,t[i].y);\n\t}\n\treturn 0;\n}\n\n```   \n\u7136\u540e\u6211\u4eec\u8003\u8651\u5982\u4f55\u53bb\u641e\u6b63\u89e3\n   \u9996\u5148\u6211\u4eec\u80af\u5b9a\u8981\u628a\u4e00\u4e2a\u6539\u6210$log$\u7ea7\u522b\u7684\uff0c\u6211\u4eec\u6709\u770b\u5230\u4e86\u8fd9\u4e9b\u5168\u662f\u76f8\u52a0\u6ca1\u6709\u76f8\u4e58\uff0c\u8fd9\u6211\u4eec\u60f3\u5230\u5e38\u89c1\u7684\u666e\u901a\u7684\u77e9\u9635\u4e58\u6cd5\uff0c\u6211\u4eec\u5c31\u9884\u5904\u7406\u51fa\u6765\uff0c\u7136\u540e\u4e00\u4e2a\u4e2a\u4e58\u5c31ok\u54af\u3002   \n *     \n x y 1---> -x y 1   \n   \n  -1 0 0  \n  0 1 0  \n  0 0 1  \n  \n*   x y 1 ---> x -y 1   \n1 0 0   \n0 -1 0  \n0 0 1   \n\n* x y 1 ---> x+p x+q 1    \n1 0 0   \n0 1 0     \np q 1   \n\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<alagorithm>\n#include<cstdio>\n\nusing namespace std;\n\nconst int maxn=500001;\n\nint n,m;\n\nstruct node3\n{\n\tint x,y;\n\t\n}t[maxn];\n\nstruct node2\n{\n\tint x,y;char op[3];\n}tt[maxn];\n\nstruct node\n{\n\tint a[5][5];\n\tnode(){memset(a,0,sizeof(a));}\n}a,b,c,d,e;\n\nnode operator * (const node &a,const node &b)\n{\n\tnode c;\n\tfor(int i=1;i<=3;++i)\n\t{\n\t\tfor(int j=1;j<=3;++j)\n\t\t{\n\t\t\tfor(int k=1;k<=3;++k)\n\t\t\t{\n\t\t\t\tc.a[i][k]+=a.a[i][j]*b.a[j][k];\n\t\t\t}\n\t\t}\n\t}\n\treturn c;\n}\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tscanf(\"%d %d\",&t[i].x,&t[i].y);\n\t}\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tscanf(\"%s %d %d\",tt[i].op,&tt[i].x,&tt[i].y);\n\t}\n\tfor(int i=1;i<=3;++i)\n\t{\n\t\ta.a[i][i]=1;\n\t\tb.a[i][i]=1;\n\t\tc.a[i][i]=1;\n\t\td.a[i][i]=1;\n\t}\n\ta.a[1][1]=-1;\n\tb.a[2][2]=-1;\n\tfor(int i=m;i;i--)\n\t{\n\t\tif(tt[i].op[0]=='x')\n\t\t{\n\t\t\tc=c*a;\n\t\t}\n\t\telse if(tt[i].op[0]=='y')\n\t\t{\n\t\t\tc=c*b;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tint x,y;\n\t\t\tx=tt[i].x;\n\t\t\ty=tt[i].y;\n\t\t\td.a[3][1]=x;\n\t\t\td.a[3][2]=y;\n\t\t\tc=c*d;\n\t\t}\n\t}\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\te.a[1][1]=t[i].x;\n\t\te.a[1][2]=t[i].y;\n\t\te.a[1][3]=1;\n\t\te=e*c;\n\t\tcout<<e.a[1][1]<<\" \"<<e.a[1][2]<<endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1539922447,
        "uid": 102786,
        "name": "Sym_Je",
        "ccfLevel": 0,
        "title": "P2129 L\u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb"
    },
    {
        "content": "## \u6807\u8bb0\u5316\u601d\u60f3 + \u6a21\u62df\n\n\u8fd9\u9898\u7684\u64cd\u4f5c\u8ba9\u6211\u8fd9\u79cd\u849f\u84bb\u60f3\u8d77\u4e86\u7ebf\u6bb5\u68112\u90a3\u9053\u6781\u5176\u9b3c\u755c\u7684\u9898\u3002\u3002\u3002\n\n\u597d\u5728\u8fd9\u9898\u6ca1\u6709\u533a\u95f4\u64cd\u4f5c\n\n\u90a3\u4e48\u6211\u4eec\u5b8c\u5168\u53ef\u4ee5\u4f7f\u7528\u61d2\u6807\u8bb0\u7684\u601d\u60f3\n\n\u7ef4\u62a4\u56db\u4e2a\u503c\n\n$Add_x,Add_y,Mul_x,Mul_y$\n\n**ps:\u8fd9\u79cd\u505a\u6cd5\u5728\u7ebf\u4e5f\u53ef\u505a**\n\n\n\n\u9996\u5148\u6211\u4eec\u94a6\u5b9a **\u4e58\u6cd5\u7684\u4f18\u5148\u7ea7\u9ad8\u4e8e\u52a0\u6cd5**\n\n\u5373 \u4e58\u6cd5\u64cd\u4f5c\u4f1a\u5f71\u54cd\u52a0\u6cd5\uff0c\u52a0\u6cd5\u64cd\u4f5c\u5f71\u54cd\u4e0d\u5230\u4e58\u6cd5\n\n\u4e0b\u4f20\u65f6\u5148\u5904\u7406\u4e58\u6cd5\uff0c\u518d\u5904\u7406\u52a0\u6cd5\n\n\u7136\u540e\u8fd9\u9898\u5c31\u6ca1\u4e86\n\n**\u5177\u4f53\u8bf4\u6765**\n\n\u5f53\u8bfb\u5230x\u64cd\u4f5c\u65f6\n\n$Mul_x * (-1) \\quad Add_x *(-1)$\n\ny\u64cd\u4f5c\u540c\u7406\n\n\u5bf9\u4e8em\u64cd\u4f5c\n\n\u76f4\u63a5\u4fee\u6539$Add_x\\quad Add_y$  \u7684\u503c\u5373\u53ef\n\n\u7b54\u6848\u76f4\u63a5\u8003\u8651\u6807\u8bb0\u5bf9\u5f53\u524d\u503c\u7684\u5f71\u54cd\uff0c**\u5148\u4e58\u540e\u52a0**\n\n```cpp\n#include<cstdio>\ninline int read(){\n    int x;scanf(\"%d\",&x);return x;\n}\nconst int N =6e5;\nstruct node{\n    char op;\n    int x,y;\n}s[N];\nint x[N],y[N];\nint main(){\n    int n =read(),m =read(),add_x =0,add_y =0,mul_x =1,mul_y =1;\n    for(int i=1;i<=n;++i)   x[i] =read(),y[i] =read();\n    for(int i=1;i<=m;++i){\n        char op[4]; scanf(\"%s\",op);\n        if(op[0]=='m')  s[i].x =read(),s[i].y =read();\n        else s[i].op =op[0];\n    }\n    for(int i=m;i>=1;--i){\n        if(s[i].op=='x')  add_x *=-1,mul_x *=-1;\n        else if(s[i].op=='y') add_y *=-1,mul_y *=-1;\n        else add_x +=s[i].x,add_y +=s[i].y;\n    }\n    for(int i=1;i<=n;++i)   \n        printf(\"%d %d\\n\",x[i]*mul_x+add_x,y[i]*mul_y+add_y);\n}\n```\n\n\n\n",
        "postTime": 1569761946,
        "uid": 104000,
        "name": "Kisaragi_77",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2129 \u3010L\u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb\u3011"
    },
    {
        "content": "https://www.luogu.org/problemnew/show/P2129\n\nC++\u7248\u7684**\u77e9\u9635\u4e58\u6cd5**\uff08\u697c\u4e0adalao\u5199\u7684\u662fP\uff09\n\n\u6839\u636e\u9898\u610f\u5148\u5c06\u6240\u6709\u64cd\u4f5c\u5148\u76f8\u4e58\uff08\u6ce8\u610f\u662f\u5012\u7740\uff0c\u9898\u76ee\u8bf4\u662f\u9006\u5e8f\u5904\u7406\uff09\u5f97\u51fa\u4e00\u4e2a\u6700\u7ec8\u8f6c\u6362\u77e9\u9635\uff0c\u518d\u5c06\u6bcf\u4e2a\u70b9\u4e0e\u8fd9\u4e2a\u77e9\u9635\u76f8\u4e58\u5c31\u53ef\u4ee5\u5f97\u51fa\u7b54\u6848\u4e86\u3002\n\n\u5982\u679c\u4e0d\u7406\u89e3\u53ef\u4ee5\u770b\u770b\u697c\u4e0adalao\u7684\u9898\u89e3\uff0c\u672c\u849f\u84bb\u53ea\u662f\u8865\u4e2aC++\u7248\u7684qwq\n\n\u590d\u6742\u5ea6$O(n+m)$\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cctype>\nusing namespace std;\n\ninline int Int()\n{\n\tchar c=getchar(); int x=0,f=1;\n\twhile(!isdigit(c)) f= !f||c=='-' ? 0:1,c=getchar();\n\twhile(isdigit(c)) x=(x<<3)+(x<<1)+(c^48),c=getchar();\n\treturn f ? x:-x;\n}\nint wt[50];\ninline void out(int x)\n{\n\tif(!x){putchar(48); return ;}\n\tif(x<0) putchar('-'),x=-x;\n\tint l=0;\n\twhile(x) wt[++l]=x%10,x/=10;\n\twhile(l) putchar(wt[l--]+48);\n}\n\nstruct matrix{\n\tint a[4][4],l,r;\n\tmatrix(){memset(a,0,sizeof(a));}\n\tmatrix operator * (matrix &tmp){//r==tmp.l\u65f6\u7684\u77e9\u9635\u4e58\u6cd5\n\t\tmatrix c; c.l=l; c.r=tmp.r;\n\t\tfor(int i=1;i<=c.l;++i)\n\t\t\tfor(int j=1;j<=c.r;++j)\n\t\t\t\tfor(int k=1;k<=r;++k)\n\t\t\t\t\tc.a[i][j]+=a[i][k]*tmp.a[k][j];\n\t\treturn c;\n\t}\n}x,y,p,b[500002],mul;\nstruct data{\n\tchar opt; int q1,q2;\n}d[500002];\nint n,m;\n\nint main()\n{\n\tx.l=x.r=3; x.a[1][1]=-1; x.a[2][2]=x.a[3][3]=1;\n\ty.l=y.r=3; y.a[2][2]=-1; y.a[1][1]=y.a[3][3]=1;\n\tp.l=p.r=3; p.a[1][1]=p.a[2][2]=p.a[3][3]=1;\n    //3\u79cd\u64cd\u4f5c\u5148\u9884\u5904\u7406\u77e9\u9635\n\tmul.l=mul.r=3; mul.a[1][1]=mul.a[2][2]=mul.a[3][3]=1; //\u6700\u7ec8\u548c\u70b9\u76f8\u4e58\u7684\u77e9\u9635\n\tint q1,q2;\n\tn=Int(); m=Int();\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tq1=Int(); q2=Int();\n\t\tb[i].l=1; b[i].r=3;\n\t\tb[i].a[1][1]=q1;\n\t\tb[i].a[1][2]=q2;\n\t\tb[i].a[1][3]=1; //\u628a\u6bcf\u4e2a\u70b9\u5904\u7406\u62101*3\u7684\u77e9\u9635\n\t}\n\tfor(int i=1;i<=m;++i)\n\t{\n\t\t//d[i].opt=getchar();// scanf(\"%c\",&d[i].opt); \u4e0d\u77e5\u9053\u4e3a\u5565\u7528\u8fd9\u4e24\u79cd\u8bfb\u5165\u90fd\u4e0d\u6b63\u5e38qwq\n\t\tcin>>d[i].opt;\n\t\tif(d[i].opt=='m') d[i].q1=Int(),d[i].q2=Int();\n\t}\n\tfor(int i=m;i>=1;--i) //\u9006\u5e8f\u5904\u7406\u64cd\u4f5c\n\t{\n\t\tif(d[i].opt=='x') mul=mul*x;\n\t\telse if(d[i].opt=='y') mul=mul*y;\n\t\telse{\n\t\t\tp.a[3][1]=d[i].q1; p.a[3][2]=d[i].q2;\n\t\t\tmul=mul*p;\n\t\t}\n\t}\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tb[i]=b[i]*mul; //\u76f4\u63a5\u76f8\u4e58\u540e\u5f97\u51fa\u7b54\u6848\n\t\tout(b[i].a[1][1]),putchar(' ');\n\t\tout(b[i].a[1][2]),putchar('\\n');\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1534994671,
        "uid": 21679,
        "name": "\u9999\u98ce\u667a\u4e43",
        "ccfLevel": 7,
        "title": "P2129 L\u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb"
    },
    {
        "content": "\u6055\u6211\u76f4\u8a00\uff0c\u8fd9\u662f\u6211\u89c1\u8fc7\u6700\u6c34\u7684\u4e00\u9053\u84dd\u9898\u3002\n\n# \u9898\u76ee\u5927\u610f\n\n\u5e73\u9762\u4e0a\u7684n\u4e2a\u70b9\uff0c\u4e00\u5171m\u6b21\u64cd\u4f5c\uff0c\u8981\u4e48\u6bcf\u6b21\u5c06\u6bcf\u4e2a\u70b9\u7684y\u8f74\u53d8\u8d1f\uff0c\u8981\u4e48\u6bcf\u6b21\u5c06\u6bcf\u4e2a\u70b9\u7684x\u8f74\u53d8\u8d1f\uff0c\u8981\u4e48\u6bcf\u6b21\u5c06\u6bcf\u4e2a\u70b9\u7684x\u8f74\u52a0\u4e0a\u4e00\u4e2a\u6570\uff0cy\u8f74\u52a0\u4e0a\u4e00\u4e2a\u6570\uff0c\u6700\u540e\u6c42\u6bcf\u4e2a\u70b9\u7684\u5750\u6807\u3002\n\n\u9996\u5148\u53ef\u4ee5\u80af\u5b9a\u7684\u662f\uff0c\u66b4\u529b\u7684O(nm)\u4f1aTLE\u3002\n\n\u7136\u540e\u518d\u770b\u770b\u9898\uff0c\u6bcf\u6b21\u64cd\u4f5c\u90fd\u662f\u5bf9\u5168\u90e8\u7684\u70b9\u8fdb\u884c\u64cd\u4f5c\u3002\n\n\u6240\u4ee5\u6211\u4eec\u52a0\u8bbe\u4e24\u4e2a\u53d8\u91cf\uff0c$ a $\u8868\u793a$ x $\u8f74\u662f\u5426\u7ffb\u8f6c\uff0c$ b $\u8868\u793a$ y $\u8f74\u662f\u5426\u7ffb\u8f6c\uff0c\u7136\u540e\u5c31\u662fm\u64cd\u4f5c\u4e86\u3002\n\n\u5bf9\u4e8em\u64cd\u4f5c\uff0c\u6211\u4eec\u53ef\u4ee5\u518d\u52a0\u8bbe\u4e24\u4e2a\u53d8\u91cf$ sx $\u548c$ sy $\uff0c\u5206\u522b\u8868\u793ax\u8f74\u4e0a\u52a0\u4e86\u591a\u5c11\uff0cy\u8f74\u4e0a\u52a0\u4e86\u591a\u5c11\u3002\n\n\u81f3\u4e8e\u64cd\u4f5c\u662f\u6808\uff0c\u5f04\u4e2a\u9012\u5f52\u5c31\u597d\u3002\n\n\u8d34\u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<iostream>\ntypedef long long ll;\nll n,m,a=1,b=1,sx,sy,x[500005],y[500005];\ninline void DFS(int k)\n{\n\tif(!k)return;ll x,y;char f;std::cin>>f;\n\tif(f=='m')scanf(\"%lld%lld\",&x,&y);DFS(k-1);\n\tif(f=='x')a=-a;else if(f=='y')b=-b;else sx+=a*x,sy+=b*y;\n}\nmain()\n{\n\tint i;scanf(\"%lld%lld\",&n,&m);\n\tfor(i=1;i<=n;++i)scanf(\"%lld%lld\",&x[i],&y[i]);DFS(m);\n\tfor(i=1;i<=n;++i)\n\tprintf(\"%lld %lld\\n\",a*(x[i]+sx),b*(y[i]+sy));\n}\n```\n",
        "postTime": 1584930768,
        "uid": 160839,
        "name": "Prean",
        "ccfLevel": 7,
        "title": "\u6a21\u62df P2129\u9898\u89e3"
    },
    {
        "content": "\u7576\u6211\u770b\u5230\u4e86\u201c\u77e9\u9663\u201d\u9019\u500b\u6a19\u7c3d\u2026\u2026\u5185\u5fc3\u4eff\u4f5b\u5c31\u6fc0\u52d5\u4e86\u8d77\u4f86\uff01\n\n~~\uff08\u7136\u800c\u61f6\u5f97\u5beb\u77e9\u9663\uff0c\u7528\u4e86\u6578\u5b78\u2026\u2026\uff09~~\n\n\n\u5148\u4eaeAC\u78bc   ___[\u8907\u96dc\u5ea6O(n+m)?]___\n\n\n------------\n\n```cpp\n#include <cstdio>\n#include <iostream>\nusing namespace std;\nint n,m; \nint x=1,y=1,addx=0,addy=0;\nint a[500000][2];\nchar ne;\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor (int i=0;i<n;++i) scanf(\"%d%d\",&a[i][0],&a[i][1]);\n\tfor (int i=0;i<m;++i)\n\t{\n\t\tcin>>ne;\n\t\tif (ne=='x') x=-x;\n\t\tif (ne=='y') y=-y;\n\t\tif (ne=='m') \n\t\t{\n\t\t\tint j,k;\n\t\t\tscanf(\"%d%d\",&j,&k);\n\t\t\taddx+=x*j;\n\t\t\taddy+=y*k;\n\t\t}\n\t}\n\tfor (int i=0;i<n;++i)\n\tprintf(\"%d %d\\n\",a[i][0]*x+addx,a[i][1]*y+addy);\n}\n```\n\n\u9996\u5148\n------------\n\n\u6309\u7167\u77e9\u9663\u7684\u5206\u6790\u65e2\u662f[x,y,addxy(\u5c31\u662f1)]\n\nC\u70bax\u5247x\u53d6\u53cd\uff0c\u70bay\u5247y\u53d6\u53cd\uff0c\u70bam\u5247\u5c0d\u61c9\u4f4d\u52a0\u6578\n~~\uff08\u539a\u9854\u7121\u6065\u7684\u91cd\u8907\u4e86\u4e00\u904d\u984c\u610f\uff09~~\n\n\u5982\u679c\u8a66\u5716\u7528\u7d71\u8a08\u7684\u8a71\uff0c\u4e0b\u5834\u53ea\u80fd\u662f\u201c\u807d\u53d6\u86d9\u8072\u4e00\u7247\u201d~\n\n# \u7531\u65bcx,y\u7684\u53cd\u8f49\uff0c\u52a0\u4e00\u500b\u6578\u5be6\u969b\u4e0a\u662f\u6e1b\u53bb\u4e00\u500b\u6578\n\n\u9019\u6a23\u60f3\u660e\u767d\u540e\uff0c\u984c\u76ee\u4e5f\u5c31\u8b8a\u5f97\u6e05\u6670\u4e86\n\n\n------------\n\n\nTHEN\n------------\n\u6211\u5011\u5927\u81bd\u7684\u629b\u68c4\u77e9\u9663\uff0c\u53ea\u5269\u4e0b\u8b80\u5165\u6240\u9700\u77e9\u9663\uff0c\n\nx\uff0cy\u8a18\u9304\u53cd\u8f49\uff0caddx\uff0caddy\u8a18\u9304\u52a0\u6578\n\n\u521d\u59cb\u7684x\uff0cy\u8a2d\u72321\u8868\u793a\u672a\u53cd\u8f49(-1\u70ba\u53cd)\uff0cadd\u7576\u7136\u70ba0\n\n\u5b78\u904e\u6578\u5b78\u7684\u90fd\u77e5\u9053x+a=(x+a)//-x+a=-(x-a)\n\n#### \u6b64\u6642\uff0c\u6211\u5011\u767c\u73fe\uff0c\u62ec\u865f\u5185\u90e8\u5206x\u4fc2\u6578\u662f1,a\u7684\u4fc2\u6578\u770bx\u662f\u5426\u53cd\uff0c\u6700\u5f8c\u6574\u9ad4\u7684\u6b63\u53cd\u7531\u6700\u5916\u5c64\u7b26\u865f\u6c7a\u5b9a\u3002\n#### \u6240\u4ee5\u6bcf\u9047\u5230x,y\u5c31\u53ef\u5c07\u5176\u53cd\u8f49\uff0cmoveX\u3001moveY\u5728\u52a0\u5230addx\u3001addy\u524d\u7528\u6b64\u6642x\uff0cy\u7684\u503c\u4e58\u4e0a\u5c31\u53ef\u4ee5\u8b8a\u6210\u5be6\u969b\u4f4d\u79fb\u4e86\n\n\uff08\u7c21\u55ae\u4f86\u8aac\u5c31\u662f\u63d0x\u7684\u4fc2\u6578\uff0c\u201c\u8ca0\u8ca0\u5f97\u6b63\uff0c\u8ca0\u6b63\u5f97\u8ca0\uff0c\u6b63\u6b63\u2026\u2026\u201d\uff0c\u7136\u5f8c\u7b97\u51fa\u5be6\u969b\u79fb\u52d5\uff09\n\n### \u4f60\u9019\u662f\u9806\u5e8f\u8655\u7406\uff0c\u90a3\u68e7\u7684\u5806\u53e0\u600e\u9ebd\u8fa6\uff1f\n\n\u82e5\u5617\u8a66\u6a21\u64ec\u9019\u500b\u63a8\u8ad6\uff0c\u5f97\u51fa\u7d50\u679c\u548c\u6b63\u78ba\u51fa\u68e7\u9806\u5e8f\u6a21\u64ec\u7d50\u679c\u662f\u4e00\u81f4\u7684\u3002\u3002\u3002~~\uff08\u539f\u7406\u81ea\u884c\u609f\u9053\uff09~~\n\n\nEND\n------------\n\u4ee3\u78bc\u5beb\u7684\u5f88\u7c97\u7cd9\uff0c\u4e5f\u5f88\u63a5\u5730\u6c23[good]\n\n~~\u4e0d\u958blonglong\u53ef\u4ee5\u4e0d\u7528\u898b\u7956\u5b97~~\n\n\u671b\u6536\u9304\uff01\uff01\uff01\uff01",
        "postTime": 1584353794,
        "uid": 63001,
        "name": "Yang123",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2129 \u3010L\u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb\u3011"
    },
    {
        "content": "\u63d0\u4f9b\u4e00\u4e2a\u4e0d\u9700\u8981\u5c06\u64cd\u4f5c\u53cd\u8f6c\u7684\u89e3\u6cd5qwq\u3002\n\n\u53ef\u4ee5\u89c2\u5bdf\u5230\uff0c\u6709\u8bb8\u591a\u64cd\u4f5c\u662f\u53ef\u4ee5\u5408\u5e76\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ef\u4ee5\u4f7f\u7528`lazy algorithm`\u7684\u601d\u60f3\uff0c\u5c06\u4e00\u4e9b\u64cd\u4f5c\u5408\u5e76\u3002\n\n\u5982\u679c\u4e24\u4e2a`m`\u64cd\u4f5c\u76f8\u90bb\u7684\u8bdd\uff0c\u663e\u7136\u53ef\u4ee5\u5c06`p`\u548c`q`\u5206\u522b\u76f8\u52a0\uff0c`x`\u64cd\u4f5c\u76f8\u90bb\u53ef\u4ee5\u62b5\u6d88\uff0c`y`\u64cd\u4f5c\u76f8\u90bb\u4e5f\u53ef\u4ee5\u62b5\u6d88\u3002\u4f46\u662f`x`\u548c`y`\u64cd\u4f5c\u5bf9`m`\u64cd\u4f5c\u7684\u5f71\u54cd\u672a\u77e5\u3002\n\n\u5148\u5047\u8bbe\u6211\u4eec\u5df2\u7ecf\u5c06\u6700\u540e`k`\u4e2a\u64cd\u4f5c\u6574\u7406\u6210\u4e00\u4e2a`m`\u64cd\u4f5c\u3001\u4e00\u4e2a\u6216\u96f6\u4e2a`x`\u64cd\u4f5c\u548c\u4e00\u4e2a\u6216\u96f6\u4e2a`y`\u64cd\u4f5c\u4f9d\u6b21\u8fdb\u884c\u7684\u5f62\u5f0f\u3002\u8003\u8651\u524d\u4e00\u4e2a\u64cd\u4f5c\uff08\u56e0\u4e3a\u8bfb\u5165\u987a\u5e8f\u662f\u4ece\u6700\u540e\u4e00\u4e2a\u64cd\u4f5c\u5f00\u59cb\u5f80\u524d\u8bfb\uff09\uff0c\u5982\u679c\u524d\u4e00\u4e2a\u662f`m`\u7684\u8bdd\uff0c\u53ef\u4ee5\u76f4\u63a5\u5408\u5e76\uff1b\u5982\u679c\u662f`x`\uff0c\u5219\u5c06`m`\u64cd\u4f5c\u7684\u76f8\u5e94\u5e45\u5ea6\u53d6\u4e3a\u76f8\u53cd\u6570\uff0c\u7136\u540e\u548cx\u64cd\u4f5c\u5408\u5e76\uff1b`y`\u64cd\u4f5c\u7c7b\u4f3c\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6$\\Theta(m+n)$\uff0c\u5982\u679c\u5148\u8bfb\u5165\u64cd\u4f5c\u518d\u8bfb\u5165\u5750\u6807\u7684\u8bdd\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u80fd\u8fbe\u5230$\\Theta(1)$\uff08\u9003\uff09\uff0c\u4ee3\u7801\u4e5f\u5f88\u77ed\u5f88\u597d\u5199\u3002\n\n\u9644AC\u4ee3\u7801\uff1a\n\n```cpp\n#include <cstdio>\nusing namespace std;\n\n#define int long long\n\nint mvmx;\nint mvmy;\nint timx = 1;\nint timy = 1;\n\nint xi[500005];\nint yi[500005];\n\nsigned main()\n{\n\tint n,m;\n\tscanf(\"%lld%lld\",&n,&m);\n\tfor(int i=1; i<=n; ++i)\n\t{\n\t\tscanf(\"%lld%lld\",xi+i,yi+i);\n\t}\n\tfor(int i=1; i<=m; ++i)\n\t{\n\t\tchar cmd;\n\t\tscanf(\"\\n\\r%c\",&cmd);\n\t\tif(cmd == 'm')\n\t\t{\n\t\t\tint p,q;\n\t\t\tscanf(\"%lld%lld\",&p,&q);\n\t\t\tmvmx += p;\n\t\t\tmvmy += q;\n\t\t}\n\t\telse if(cmd == 'x')\n\t\t{\n\t\t\tmvmx = -mvmx;\n\t\t\ttimx = -timx;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmvmy = -mvmy;\n\t\t\ttimy = -timy;\n\t\t}\n\t}\n\n\tfor(int i=1; i<=n; ++i)\n\t{\n\t\tprintf(\"%lld %lld\\n\",(xi[i]+mvmx)*timx,(yi[i]+mvmy)*timy);\n\t}\n}\n```",
        "postTime": 1565853201,
        "uid": 49458,
        "name": "\u6728\u6728\uff01",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2129 \u3010L\u56fd\u7684\u6218\u6597\u7eed\u4e4b\u591a\u8def\u51fa\u51fb\u3011"
    }
]