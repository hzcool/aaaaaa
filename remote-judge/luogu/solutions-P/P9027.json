[
    {
        "content": "## \u601d\u8def\n\n\u610f\u8bc6\u5230\u6bcf\u4e2a\u8d28~~\u53ea~~\u56e0\u5b50\u662f\u72ec\u7acb\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u5bf9\u6bcf\u4e2a\u8d28\u56e0\u5b50\u5355\u72ec\u8dd1\u4e00\u904d\uff0c\u9171\u7d2b\u5c31\u80fd\u76f4\u63a5\u64cd\u4f5c\u6307\u6570\u3002\n\n\u628a $\\operatorname{gcd}$ \u7ffb\u8bd1\u5230\u6307\u6570\u4e0a\uff0c\u5c31\u662f\u8fd9\u4e00\u6bb5\u533a\u95f4\u7684\u6307\u6570\u7684\u6700\u5c0f\u503c**\u6070\u597d**\u7b49\u4e8e $Z$ \u7684\u6307\u6570\u3002\n\n\u8003\u8651\u628a\u6070\u597d\u62c6\u5f00\uff0c\u5148\u6784\u9020\u4f7f\u5f97\u5bf9\u4e8e\u6240\u6709\u533a\u95f4\u90fd\u4f7f\u5f97\u6700\u5c0f\u503c $\\geq Z$ \u7684\u6307\u6570\uff0c\u518d\u68c0\u67e5\u662f\u5426\u540c\u65f6\u6ee1\u8db3 $\\leq$\u3002\n\n\u4e3a\u4e86\u8ba9 $\\leq$ \u66f4\u5bb9\u6613\u88ab\u6ee1\u8db3\uff0c\u6211\u4eec\u5728\u6784\u9020\u7684\u65f6\u5019\u8981\u9009\u6ee1\u8db3 $\\geq$ \u7684\u6700\u5c0f\u503c\u3002\u5373\u5bf9\u4e8e\u67d0\u4e2a\u4f4d\u7f6e\uff0c\u6070\u597d\u53d6\u6240\u6709\u8986\u76d6\u5230\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u9650\u5236\u7684\u6700\u5927\u503c\uff08\u66f4\u5927\u5c31\u4e0d\u80fd\u5f88\u597d\u5730\u6ee1\u8db3 $\\leq$\uff0c\u66f4\u5c0f\u5c31\u4e0d\u80fd\u6ee1\u8db3 $\\geq$\uff09\u3002\n\n\u611f\u89c9\u4e00\u4f1a\u5927\u4e8e\u4e00\u4f1a\u5c0f\u4e8e\uff0c\u903b\u8f91\u5173\u7cfb\u6709\u70b9\u6df7\u4e71\u3002\u3002\u3002\n\nchecker \u4e4b\u524d\u9505\u4e86\uff0c\u8c22\u7f6a\u3002\u5b9e\u9645\u4e0a checker \u662f\u4f1a\u5ffd\u7565\u7a7a\u767d\u7684\uff0c\u6240\u4ee5\u884c\u672b\u7a7a\u683c\u5565\u7684\u4e0d\u5f71\u54cd\u3002~~\u4f1a\u4e0d\u4f1a\u6709\u4eba\u4ece checker \u91cc\u9762\u8d3a ST \u8868\u677f\u5b50\u3002~~\n\n## code\n\n```cpp\n#include<stdio.h>\n#include<stdlib.h>\n#include<algorithm>\n#include<queue>\n#define N 150000\n#define LG 18\n#define pr pair<int,int> \nusing namespace std;\ninline char nc()\n{\n\tstatic char buf[99999],*l,*r;\n\treturn l==r&&(r=(l=buf)+fread(buf,1,99999,stdin),l==r)?EOF:*l++;\n}\ninline void read(int&x)\n{\n\tchar c=nc();for(;c<'0'||'9'<c;c=nc());\n\tfor(x=0;'0'<=c&&c<='9';x=(x<<3)+(x<<1)+(c^48),c=nc());\n}\nint n,m,lg[N],a[N],st[N][LG];\nstruct node\n{\n\tint x,y,z,tmp;\n\tinline void in(){read(x);read(y);--x;--y;read(z);}\n\tinline bool operator<(const node&kkk)const{return x<kkk.x;}\n}c[N];\ninline int pw(const int&i,int j){int ans=1;for(;j--;ans*=i);return ans;}\ninline int query(const int&l,const int&r)\n{\n\tint i=lg[r-l];\n\treturn min(st[l][i],st[r-(1<<i)+1][i]);\n}\ninline void f(const int&x)\n{\n\tfor(int i=0;i<m;++i)\n\t{\n\t\tc[i].tmp=0;\n\t\tfor(int&j=c[i].z;!(j%x);j/=x,++c[i].tmp);//tmp\u662fZ\u7684\u6307\u6570\n\t}\n\tpriority_queue<pr>q;\n\tfor(int i=0,j=0;i<n;++i)\n\t{\n\t\tfor(;j<m&&c[j].x<=i;++j)q.emplace(c[j].tmp,j);\n\t\tfor(;q.size()&&c[q.top().second].y<i;q.pop());\n\t\tif(q.size())st[i][0]=q.top().first;\n\t\telse st[i][0]=0;\n\t}//\u7528\u5806\u7ef4\u62a4\u6240\u6709\u8986\u76d6\u5230\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u9650\u5236\u7684\u6700\u5927\u503c\uff0c\u8fdb\u884c\u6784\u9020\n\tfor(int i=n-1;i>=0;--i)for(int j=1;j<LG;++j)\n\t\tif(i+(1<<j-1)<n)st[i][j]=min(st[i][j-1],st[i+(1<<j-1)][j-1]);\n\t\telse st[i][j]=st[i][j-1];\n\tfor(int i=0;i<m;++i)//\u68c0\u67e5\n\t\tif(query(c[i].x,c[i].y)^c[i].tmp)printf(\"Impossible\"),exit(0);\n\tfor(int i=0;i<n;++i)a[i]*=pw(x,st[i][0]);\n}\nmain()\n{\n\tread(n);read(m);for(int i=0;i<m;c[i++].in());sort(c,c+m);\n\tfor(int i=2;i<n;lg[i]=lg[i>>1]+1,++i);\n\tfor(int i=0;i<n;a[i++]=1);\n\tf(2);f(3);f(5);f(7);f(11);f(13);\n\tfor(int i=0;i<n;printf(\"%d \",a[i++]));\n}\n```",
        "postTime": 1675729930,
        "uid": 90693,
        "name": "_\u2022\u0301\u3078\u2022\u0301\u256c_",
        "ccfLevel": 7,
        "title": "P9027 [CCC2021 S5] Math Homework \u9898\u89e3"
    }
]