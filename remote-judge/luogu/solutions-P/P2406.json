[
    {
        "content": "~~\u771f\u662f\u4e2a\u65e0\u4eba\u533a\u554a~~~\n\n\u63d0\u4ea4\u901a\u8fc7\u6570\u90fd\u8fd9\u4e48\u5c11\u3002\u3002\u3002\n\n\u4f46\u662f\uff01_rqy\u7adf\u7136\u505a\u4e86\u8fd9\u9053\u9898\uff01\u6240\u4ee5\u6211\u6253\u7b97\u5c1d\u8bd5\u4e00\u4e0b\u3002\u3002\u3002\n\n#### \u9996\u5148\u66f4\u6b63\u4e00\u4e0b\u697c\u4e0b\u7684\u9898\u89e3\u3002\n\n#### \u4e0b\u9762\u7684\u9898\u89e3\u597d\u50cf\u6709\u70b9\u95ee\u9898\u3002\u3002\u3002\u8fd9\u9898\u7edf\u8ba1\u7b54\u6848\u65f6\u662f\u4e0d\u80fd\u8d2a\u5fc3\u7684\uff0c\u9700\u8981\u7528\u80cc\u5305\u3002\u4f46\u6570\u636e\u592a\u5f31\uff0c\u6240\u4ee5\n\n#### \u6bd4\u5982\u8d28\u56e0\u6570\u5206\u89e3\u540e\u662f2 3 5 7\uff0c\u6700\u4f18\u7684\u80af\u5b9a\u662f3,5\u653e\u4e00\u8d77\uff0c2,7\u653e\u4e00\u8d77\uff0c\u4f46\u5982\u679c\u4ece\u524d\u5f80\u540e\u679a\u4e3e\u7684\u8bdd\uff0c\u5c31\u53ea\u80fd\u66f4\u65b0$2*3*5$\u3002\n\n\u4ee5\u4e0a\u662f\u5bf9\u697c\u4e0b\u9898\u89e3\u7684\u66f4\u6b63\uff0c~~\u6240\u4ee5\u5bf9\u4e8e\u697c\u4e0b\u9519\u8bef\u7684\u5199\u6cd5\uff0c\u8fd9\u7bc7\u5c31\u662f\u552f\u4e00\u6b63\u786e\u7684\u4e86\uff1f~~\n\n\n\n \n__________\n\n\n#### \u90a3\u6211\u4eec\u56de\u5230\u9898\u76ee\uff1a\n\n\u601d\u8def\u770b\u697c\u4e0b\u7684\u9898\u89e3\u5c31\u884c\u4e86~\uff0c\u697c\u4e0b\u8bb2\u7684\u8fd8\u662f\u5f88\u6e05\u695a\u7684\u3002\n\n\u8bbe\u8f93\u5165\u7684\u662fa\u548cb\u3002\n\n\u5148\u628aa\u548cb\u4e24\u4e2a\u6570\u76f8\u9664\uff0c\u5c06\u5f97\u5230\u7684\u6570c\u5206\u89e3\u3002\n\n\u6211\u4eec\u8981\u6c42\u4e00\u5bf9x,y\uff0c\u4f7fx,y\u4e92\u8d28\uff0c\u4e14$x*y=c$\u3002\n\n\u8fd9\u6837$x*a,y*a$\u5c31\u662f\u6211\u4eec\u7684\u7b54\u6848\uff0c\u6ee1\u8db3\u6700\u5927\u516c\u56e0\u6570\u662fa\uff0c\u6700\u5c0f\u516c\u500d\u6570\u662fb\uff08$b =x*y/a$\uff09\u3002\n\n\u6240\u4ee5\u6211\u4eec\u8981\u5c06c\u7684\u8d28\u56e0\u6570\u5206\u7ed9x\u548cy\uff0c\u4f46\u6bcf\u4e2a\u8d28\u56e0\u6570\u53ea\u80fd\u5c5e\u4e8ex\u6216y\uff0c\u5982\u679cx\uff0cy\u51fa\u73b0\u4e86\u76f8\u540c\u7684\u8d28\u56e0\u6570\uff0c\u90a3\u4e48\u4ed6\u4eec\u5c31\u4e0d\u4f1a\u4e92\u8d28\u3002\n\n\u6240\u4ee5\u6211\u4eec\u73b0\u5728\u7684\u4efb\u52a1\u662f\u5c06\u8d28\u56e0\u6570\u5206\u7ed9x\u548cy\uff0c\u5e76\u4f7fx+y\u6700\u5c0f\uff0c\u6211\u4eec\u5df2\u77e5$x*y=c$\uff0c\u6240\u4ee5x\u4e0ey\u7684\u5dee\u8d8a\u5c0f\u8d8a\u597d\uff0c~~\u521d\u4e2d\u77e5\u8bc6\u3002\u3002~~\n\n\u6211\u4eec\u5f00\u4e00\u4e2a\u80cc\u5305\uff0c\u4f7fx\u80fd\u8d8a\u63a5\u8fd1$\\sqrt{c}$\u5c31\u8d8a\u597d\u3002\n\n\u90a3\u4e48\u6700\u540e\u8f93\u51fax\u548cy\u4e0ea\u7684\u4e58\u79ef\u5c31\u884c\u3002\n\n\n\u8be6\u89c1\u4ee3\u7801\uff1a\n\n```cpp\n#include<algorithm>\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<cmath>\n#define QWQ cout<<\"QwQ\"<<endl;\n#define ll long long \n#include<vector>\n#include<queue>\n#include<stack>\n#include<map>\nusing namespace std;\nconst ll N=101010;\nconst ll qwq=202020;\nconst ll inf=0x3f3f3f3f3f3f3f3f;\nll a,b,c;\nll x, y;\nll pre[N], cnt;\nvector <int> ans;\n\nint main() {\n\twhile(cin>>a>>b) {\n\t\tcnt = 0; ans.clear();\n\t\tif(a==0||b==0) {\n\t\t\tprintf(\"0 0\\n\");\n\t\t\tcontinue;\n\t\t}\n\t\tc = b / a;\n\t\tll c1 = c;\n\t\tfor(ll i=2;i<=c1;i++) {\n\t\t\tif(c1%i==0) pre[++cnt] = 1;\n\t\t\twhile(c1%i==0) {\n\t\t\t\tpre[cnt] *= i;\n\t\t\t\tc1 /= i;\n\t\t\t}\n\t\t}\n\t\tans.push_back(1);\n\t\tfor(int i=1;i<=cnt;i++) {\n\t\t\tint len = ans.size();\n\t\t\tfor(int j=0;j<len;j++) {\n\t\t\t\tif(ans[j]*pre[i] > sqrt(c)) continue;\n\t\t\t\tans.push_back( ans[j]*pre[i] );\n\t\t\t}\n\t\t}\n\t\tsort(ans.begin(),ans.end());\n\t\tx = ans[ans.size()-1];\n\t\ty = c / x;\n\t\tcout<<x*a<<\" \"<<y*a<<endl;\n\t}\n\treturn 0;\n}\n\n\n```\n\n\u6700\u540e\u6ce8\u610f\u8fd9\u4e2a~~\u6c99\u96d5~~\u7684\u7ec6\u8282\uff1aa\uff0cb\u5747\u4e3a0\u65f6x\uff0cy\u4e5f\u662f0\u3002",
        "postTime": 1568168205,
        "uid": 102726,
        "name": "Flandre_495",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2406 \u3010\u6700\u5c0f\u548c\u3011"
    },
    {
        "content": "\u9898\u610f\uff1a\u7ed9\u5b9a$x=lcm(a,b),y=gcd(a,b)$\uff0c\u6c42$a+b$\u6700\u5c0f\u65f6$a,b$\u7684\u503c\n\n\u56e0\u4e3a$xy=gcd(x,y)\\times lcm(x,y)$\uff0c\u6211\u4eec\u5148\u5c06$lcm(a,b),a,b$\u90fd\u9664\u4ee5$gcd(a,b)$\n\n\u95ee\u9898\u5c31\u8f6c\u5316\u4e3a\u4e86$ab=x,gcd(a,b)=1$\n\n\u56e0\u4e3a$a+b$\u6700\u5c0f$ab$\u4e00\u5b9a\uff0c\u6240\u4ee5$(a+b)^2$\u6700\u5c0f\u7684\u8bdd\uff0c$(a+b)^2-4ab$\u5373$(a-b)^2$\u5c31\u6700\u5c0f\n\n\u6240\u4ee5$a,b$\u8981\u5c3d\u91cf\u9760\u8fd1$\\sqrt{lcm(a,b)}$\n\n\u56e0\u4e3a\u662f$longlong$\u8303\u56f4\u5185\uff0c\u6240\u4ee5\u6211\u4eec\u7528$Pollard\\ Rho$\u5bf9\u5176\u8fdb\u884c\u5206\u89e3\uff0c\u7136\u540e\u518d\u6298\u534a\u641c\u7d22\u7ec4\u5408\u7b54\u6848\u5c31\u53ef\u4ee5\u4e86\n\n\u4e0d\u7ed9\u4ee3\u7801\u5566\n\n",
        "postTime": 1544936153,
        "uid": 48265,
        "name": "decoqwq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2406 \u3010\u6700\u5c0f\u548c\u3011"
    },
    {
        "content": "## \u9898\u610f\u7b80\u8ff0\n~~\u5176\u5b9e\u9898\u76ee\u91cc\u5df2\u7ecf\u8bf4\u7684\u591f\u7b80\u5355\u4e86~~   \n\u7ed9\u5b9a\u4e24\u4e2a\u6b63\u6574\u6570 $a$,$b$,\u6c42\u51fa\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u4e14\u548c\u6700\u5c0f\u7684 $x$,$y$\n- 1. $gcd(x,y)=a$\n- 2. $lcm(x,y)=b$\n- 3. $x \\le y$  \n\n\u591a\u6d4b\uff0c\u4e0d\u8d85\u8fc71000\u7ec4\u6570\u636e\uff0c\u4ee5EOF\u7ed3\u675f\n## Solution\n\u56e0\u4e3a $gcd(x,y)=a$\uff0c\u5373 $x$,$y$ \u4e2d\u90fd\u542b\u6709 $a$ \u8fd9\u4e2a\u56e0\u6570\uff0c\u6240\u4ee5\u4e0d\u59a8\u5148\u5c06 $a$ \u4ece $x$,$y$ \u4e2d\u5206\u79bb\u51fa\u6765\uff0c\u5230\u6700\u540e\u6c42\u51fa\u89e3\u540e\u518d\u628a $a$ \u4e58\u56de\u53bb   \n\u8fd9\u6837\u505a\u7684\u8bdd\uff0c\u95ee\u9898\u5c31\u8f6c\u5316\u6210\u4e86\u6c42\u4e00\u5bf9\u4e92\u8d28\u7684\u6574\u6570 $x$,$y$,\u4f7f $xy=b/a$\uff0c\u7136\u540e....   \n### \u5206\u89e3\u8d28\u56e0\u6570\n\u53ea\u8981\u5bf9 $b/a$ \u5206\u89e3\u8d28\u56e0\u6570\uff0c\u628a $b/a$ \u6839\u636e[\u7b97\u672f\u57fa\u672c\u5b9a\u7406](https://baike.baidu.com/item/%E7%AE%97%E6%9C%AF%E5%9F%BA%E6%9C%AC%E5%AE%9A%E7%90%86/10920095?fr=aladdin) \u8868\u793a\u6210\u82e5\u5e72\u4e2a\u4e0d\u540c\u8d28\u6570\u7684\u5e42\u7684\u4e58\u79ef,\u5373 $p_1^{k_1}* p_2^{k_2}* p_3^{k_3}*.....* p_m^{k_m}$  \n\n\u7136\u540e\u4ece\u5c0f\u5230\u5927\u679a\u4e3e $x$ \u7684\u503c\uff0c\u8ba9 $x=p_1^{k_1},p_1^{k_1}* p_2^{k_2},p_1^{k_1}* p_2^{k_2}* p_3^{k_3}$,$y=(b/a)/x$ , \u8fd9\u6837\u80fd\u4fdd\u8bc1 $gcd(x,y)$ \u59cb\u7ec8\u4e3a1\uff08$x$,$y$\u6ca1\u6709\u516c\u5171\u7684\u8d28\u56e0\u5b50,$p_1$,$p_2$\u7b49\u8d28\u6570\u90fd\u662f\u4e0d\u76f8\u540c\u7684\uff09             \n\n\u5728\u679a\u4e3e\u8fc7\u7a0b\u4e2d\u7528\u4e00\u4e2a\u53d8\u91cf\u8bb0\u5f55\u4e0b $x-y$ \u7684\u6700\u5c0f\u503c\uff08\u4e58\u79ef\u4e00\u5b9a\uff0c\u4e24\u6570\u5dee\u8d8a\u5c0f\uff0c\u548c\u8d8a\u5c0f\uff09      \n\u5982\u679c\u5f53\u524d\u503c\u6bd4\u6700\u5c0f\u503c\u66f4\u5c0f\u5219\u66f4\u65b0\u7b54\u6848\uff0c\u679a\u4e3e\u7ed3\u675f\u540e\u8981\u5224\u65ad\u4e00\u4e0b\uff0c\u5982\u679c $x>y$ \u5219\u4ea4\u6362 $x,y$,\u6700\u540e\u7ed9 $x,y$\u90fd\u4e58\u4e0a   $a$ \u5373\u53ef\n## \u4ee3\u7801\n~~\u5438\u6c27\u8dd1\u4e86\u4e2a24ms\uff0c\u6700\u4f18\u89e3~~   \n```c\n#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define rint register int\n#define pc(x) putchar(x)\n#define gc getchar\nll a,b,x,y,tmp,zys[16],k,mn,mc;\n//mn\u8bb0\u5f55abs(x-y)\u7684\u6700\u5c0f\u503c\uff0c\u521d\u59cb\u5316\u4e3a(b/a)-1 (x=1,y=b/a),mc\u5373\u4e3ab/a,k\u8bb0\u5f55(b/a)\u7684\u8d28\u56e0\u5b50\u4e2a\u6570,tmp\u8bb0\u5f55\u6bcf\u6b21\u679a\u4e3e\u5f97\u5230\u7684abs\uff08x-y\uff09\u7684\u503c \n//zys\u8bb0\u5f55\u5206\u89e3\u51fa\u6765\u7684p[i]^k[i]\u7684\u503c\uff0c\u7531\u4e8elong long\u8303\u56f4\u5185\u7684\u6570\u6700\u591a\u670915\u4e2a\u4e0d\u540c\u7684\u8d28\u56e0\u6570\uff0c\u6240\u4ee5\u5f00\u5230\u4e8616 \ninline void write(ll x){//\u5feb\u5199\uff08\u4f46\u4f3c\u4e4e\u5e76\u6ca1\u6709\u7528\u5904\uff09 \n\tif(x>9) write(x/10);\n\tpc('0'+x%10);\n}\nvoid fjzys(ll x){//\u5206\u89e3\u8d28\u56e0\u6570\uff0c\u8fd9\u91cc\u4f18\u5316\u4e86\u4e00\u4e0b\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5927\u6982\u662f\u4e2aO(sqrt(n)/2)? \n\tif(!(x&1)){//\u5148\u628ax\u4e2d\u76842\u5206\u89e3\u51fa\u53bb\uff0c\u7136\u540e\u540e\u9762\u679a\u4e3e\u7684\u65f6\u5019\u5c31\u76f4\u63a5\u6bcf\u6b21+2\uff0c\u5feb\u4e86\u4e00\u500d \n\t\tzys[++k]=1;\n\t\twhile(!(x&1)) x>>=1,zys[k]<<=1;\n\t}for(rint i=3;i*i<=x;i+=2){//\u4ece\u5c0f\u5230\u5927\u679a\u4e3e\uff0c\u4fdd\u8bc1\u6bcf\u6b21\u679a\u4e3e\u5230\u7684\u90fd\u662fx\u7684\u4e00\u4e2a\u8d28\u56e0\u5b50 \n\t\tif(x%i==0){//\u5982\u679ci\u662fx\u7684\u4e00\u4e2a\u8d28\u56e0\u5b50\uff0c\u5c31\u8bb0\u5f55\u4e0bi,\u7136\u540e\u7528\u5faa\u73af\u628ax\u4e2d\u7684\u6240\u6709i\u90fd\u5206\u89e3\u51fa\u53bb \n\t\t\tzys[++k]=1;\n\t\t\twhile(x%i==0) x/=i,zys[k]*=i;\n\t\t}//\u6ce8\u610f\uff0c\u5206\u89e3\u5b8c\u6709\u53ef\u80fd\u7559\u4e0b\u5c0f\u4e8ei*i\u7684\u4e00\u4e2a\u5927\u8d28\u6570\uff0c\u4e0b\u4e00\u884c\u7684\u7279\u5224\u4f1a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898 \n\t}if(x>1) zys[++k]=x;\n}\nll mi(ll x,ll y){//\u624b\u5199\u7684longlong\u7248min() \n\treturn (x>y)?y:x;\n}\nll jdz(ll x){//\u7edd\u5bf9\u503c\n\treturn (x<0)?-x:x;\n}\nint main(){\n\twhile(scanf(\"%lld%lld\",&a,&b)==2){\n\t\tmemset(zys,0,sizeof(zys)),k=0,mc=b/a,fjzys(mc),mn=(b/a)-1,x=0,y=0,tmp=0;//\u521d\u59cb\u5316\n\t\tfor(rint i=1;i<=k;i++){\n\t\t\ttmp=jdz(zys[i]-mc/zys[i]);//\u679a\u4e3e\n\t\t\tif(tmp<mn) mn=tmp,x=zys[i],y=mc/zys[i];//\u66f4\u65b0\n\t\t}if(y<x) swap(x,y);//\u7279\u5224\n\t\twrite(x*a),pc(' '),write(y*a),pc('\\n');\n\t}return 0;\n}\n```\n",
        "postTime": 1634872175,
        "uid": 438168,
        "name": "OldVagrant",
        "ccfLevel": 6,
        "title": "P2406 \u9898\u89e3"
    },
    {
        "content": "# \u9898\u610f\n\n\u7ed9\u5b9a\u4e24\u4e2a\u6570 $x,y$ \u7684\u6700\u5927\u516c\u56e0\u6570 $a$ \u4e0e\u6700\u5c0f\u516c\u500d\u6570 $b$\uff0c\u6c42\u5f53\u4e24\u6570\u4e4b\u5dee\u6700\u5c0f\u65f6 $x,y$ \u7684\u503c $(x \\le y)$\u3002\n\n# \u601d\u8def\n\n$x,y$ \u5747\u4e3a $a$ \u7684\u500d\u6570\u3002\u6b64\u65f6\u4e0d\u59a8\u8bbe $\\left\\{\\begin{matrix}\nx=a\\times n\n \\\\\ny=a\\times m\n\\end{matrix}\\right.$\n\n\u6839\u636e $x,y$ \u6700\u5927\u516c\u56e0\u6570\u4e3a $a$\uff0c\u82e5 $n,m$ \u8fd8\u6709\u516c\u56e0\u6570 $p$\uff0c\u5219\u6700\u5927\u516c\u56e0\u6570\u4e3a $a \\times p$\uff0c$a\\times p=a$\uff0c\u5f97\u51fa  $p=1$\uff0c\u5373 $n,m$ \u4e92\u8d28\u3002\u6b64\u65f6\u6839\u636e\u524d\u9762\u7684\u6761\u4ef6\uff0c\u68b3\u7406\u53ef\u5f97: $n\\times a$ \u4e0e $m\\times a$ \u6700\u5c0f\u516c\u500d\u6570\u4e3a $b$\u3002\u518d\u8fdb\u4e00\u6b65\u53ef\u5f97 $n,m$ \u7684\u6700\u5c0f\u516c\u500d\u6570\u4e3a $b\\div a$\u3002\n\n\u8bbe $t=b \\div a$\u3002$n,m$ \u4e92\u8d28\uff0c\u6700\u5c0f\u516c\u500d\u6570\u4e3a $t$\uff0c\u5206\u89e3\u8d28\u56e0\u6570\u540e\u5f97 $t={{p_1} ^{f_1}}\\times {{p_2} ^{f_2}}\\times{{p_3} ^{f_3}}\\cdots{{p_{q}} ^{f_q}}$\uff0c$n={{p_1} ^{g_1}}\\times {{p_2} ^{g_2}}\\times{{p_3} ^{g_3}}\\cdots{{p_{q}} ^{g_q}}$\uff0c$m={{p_1} ^{h_1}}\\times {{p_2} ^{h_2}}\\times{{p_3} ^{h_3}}\\cdots{{p_{q}} ^{h_q}}$\u3002\n\n\u5f97 $\\max(g_1,h_1)=f_1$\uff0c$\\max(g_2,h_2)=f_2$\uff0c$\\max(g_3,h_3)=f_3 \\cdots \\max(g_q,h_q)=f_q$\u3002\n\n$\\because  n,m$ \u4e92\u8d28\u3002\n\n$\\therefore n \\times m = t,g_i$ \u4e0e $h_i$ \u5206\u522b\u4e3a $(0,f_i)$ \u6216 $(f_i,0)$\u3002\n\n\u6b64\u65f6\u8fdb\u884c\u641c\u7d22\uff0c\u679a\u4e3e $g_1,g_2,g_3 \\cdots g_q$ \u4e2d\u7684 $g_i$ \u4e3a $0$ \u6216 $f_i$\uff0c\u5f97\u51fa $n$ \u540e\u6c42\u51fa $m$\uff0c\u6c42\u51fa\u5dee\u7684\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n# \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int unsigned long long\nint n,m;\nint ans;\nint cnt;\nint p[1000001];\nint t[1000001];\nvoid dfs(int step,int x){//\u641c\u7d22\n\tif(step>cnt&&x>=n/x){\n\t\tans=min(ans,x);\n\t\treturn;\n\t}\n\tif(step>cnt) return;\n\tdfs(step+1,x);\n\tdfs(step+1,x*p[step]);\n}\nsigned main(){\n\twhile(cin>>m>>n){\n\t\tif(n==0||m==0){ cout<<0<<\" \"<<0<<endl; continue;}\n\t\tcnt=0,ans=0x3f3f3f3f3f3f3f3f;\n\t\tmemset(p,0,sizeof(p));\n\t\tn/=m;\n\t\tint t=n;\n\t\tfor(int i=2;t!=1;i++){//\u5206\u89e3\u8d28\u56e0\u6570\n\t\t\tif(t%i==0){\n\t\t\t\tcnt++;\n\t\t\t\tp[cnt]=1;\n\t\t\t}\n\t\t\twhile(t%i==0){\n\t\t\t\tt/=i;\n\t\t\t\tp[cnt]*=i;\n\t\t\t}\n\t\t}\n\t\tdfs(1,1);\n\t\tcout<<(n/ans)*m<<\" \"<<ans*m<<endl;\n\t}\n    return 0;\n}\n```",
        "postTime": 1684163087,
        "uid": 308846,
        "name": "CristianoRonaldo07",
        "ccfLevel": 4,
        "title": "P2406 \u6700\u5c0f\u548c \u9898\u89e3"
    },
    {
        "content": "\u5206\u6790\u4e00\u4e0b\uff1a\n\n* $a=\\gcd(x,y)$\n\n* $b=\\text{lcm}[x,y]$\n\n\u8bbe\uff1a $A=\\dfrac x a,B=\\dfrac y a$ \uff0c\u90a3\u4e48\uff1a\n\n* $A \\times B \\times a=b$\n\n* $\\gcd(A,B)=1$\n\n\u9898\u76ee\u8981\u6c42 $x+y$ \u6700\u5c0f\uff0c\u90a3\u5c31\u662f\u6c42 $A \\times a+B \\times a$ \u6700\u5c0f\uff0c\u53ef\u4ee5\u8f6c\u5316\u4e3a\u6c42 $a \\times (A+B)$ \u6700\u5c0f\u3002\u56e0\u4e3a $a$ \u662f\u5b9a\u503c\uff0c\u6240\u4ee5\u53d8\u6210\u4e86\u6c42 $A+B$ \u6700\u5c0f\u3002\n\n\u800c $A \\times B \\times a=b$ \uff0c\u6240\u4ee5 $A \\times B = \\dfrac b a$ \u3002\n\n\u800c\u95ee\u9898\u5c31\u8f6c\u5316\u4e3a\u4e86\uff0c\u5df2\u77e5 $A \\times B$ \uff0c\u6c42 $A+B$ \u7684\u6700\u5c0f\u503c\uff0c\u4e14 $A,B$ \u4e92\u8d28\u3002\n\n\u5982\u679c\u7528\u679a\u4e3e\uff0c $\\sqrt n \\times \\log n$ \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u94c1\u5b9a\u8d85\u65f6\uff08\u4e3a\u5565\u5e26\u4e86 $\\log$ \uff1f\u56e0\u4e3a\u8fd8\u8981\u6c42\u4e92\u8d28\uff0c\u6240\u4ee5\u8fd8\u8981\u6c42\u4e00\u6b21 $\\gcd$ \uff09\u3002\n\n\u90a3\u4e48\u2026\u2026\n\n\u8bf4\u53e5\u95f2\u8bdd\uff1a\u89e3\u51b3\u6570\u8bba\u95ee\u9898\u7684\u6700\u597d\u65b9\u6cd5\u662f\u2014\u2014\n\n**\u8d28\u56e0\u6570\u5206\u89e3\uff01**\n\n\u6211\u4eec\u8bbe $c=\\dfrac b a$ \uff0c\u7136\u540e\u5bf9 $c$ \u5206\u89e3\u8d28\u56e0\u6570\uff1a\n\n $c=\\prod_{i=1}^n p_i^{s_i}$ \n\n\u7136\u540e\u628a\u8d28\u56e0\u6570\u5206\u6210\u4e24\u90e8\u5206\uff0c\u6bcf\u4e00\u90e8\u5206\u7684\u79ef\u5c31\u662f $A $\u548c $B$ \u3002\n\n\u7528 dfs \u679a\u4e3e\u8fd9\u4e24\u90e8\u5206\u3002\u5b9e\u9645\u4e0a\uff0c\u679a\u4e3e\u4e00\u90e8\u5206\u5c31\u884c\u4e86\u3002\n\n\u90a3\u8fd9\u6837\u6709\u4ec0\u4e48\u597d\u5904\u5462\uff1f\n\n\u5bf9\u4e8e\u4e00\u4e2a\u6570 $n$ \uff0c\u5b83\u7684\u8d28\u56e0\u6570\u4e2a\u6570\u662f $\\log n$ \u7ea7\u7684\uff0c\u800c dfs \u679a\u4e3e\u662f $2^n$ \u7684\uff0c $2^{\\log_2{n}}=n$ \uff0c\u6bd4\u679a\u4e3e\u8fd8\u6162\u2026\u2026\n\n\u800c\u4e14\u8fd8\u8981\u52a0\u4e0a\u5224\u65ad\u4e92\u8d28\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\n\n\u7b49\u7b49\u2026\u2026\u5224\u65ad\u4e92\u8d28\uff01\n\n\u4e24\u4e2a\u6570\u4e92\u8d28\uff0c\u5c31\u610f\u5473\u7740\u4e24\u4e2a\u6570\u6ca1\u6709\u5171\u540c\u7684\u8d28\u56e0\u6570\u3002\u90a3\u4e48\uff0c\u5bf9\u4e8e\u4e00\u79cd\u8d28\u56e0\u6570\uff0c\u5b83\u4e0d\u53ef\u80fd\u5206\u4e3a\u4e24\u90e8\u5206\u3002\u6bd4\u5982\u6709 $2^3$ \uff0c\u4e0d\u53ef\u80fd\u6709\u201c $A$ \u4e2d\u6709 $2^2$ \u800c $B$ \u4e2d\u6709 $2^1$ \u201d\u7684\u60c5\u51b5\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53ea\u7528\u679a\u4e3e\u4e0d\u540c\u7684\u8d28\u56e0\u6570\u5c31\u53ef\u4ee5\u4e86\uff01\n\n\u867d\u7136\u4e0d\u540c\u7684\u8d28\u56e0\u6570\u4e5f\u662f $\\log$ \u7ea7\u7684\uff0c\u4f46\u662f\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2a\u5de8\u5927\u7684\u98de\u8dc3\u3002\n\n\u8fd8\u6709\u5206\u89e3\u8d28\u56e0\u6570\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\n\n\u5f53\u7136\u6709 $O(n)$ \u7684\uff0c\u6709 $O(\\sqrt n)$ \u7684\uff0c\u4e5f\u6709 $O(n^{\\frac 1 4})$ \u7684\uff08 Pollard-Rho \uff09\u3002\u4e00\u5f00\u59cb\u628a Pollard-Rho \u7684\u677f\u5b50\u6539\u4e86\u6539\uff0c\u6284\u4e0a\u53bb\u4e86\uff0c\u4f46\u662f\u9519\u4e86\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u53ea\u80fd\u7528 $O(\\sqrt n)$ \u7684\u4e86\u3002\n\n\u90a3\u4e0d\u4f1a\u8d85\u65f6\u5417\uff1f\n\n\u4e0d\u4f1a\u3002\u867d\u7136\u7406\u8bba\u4e0a\u662f $O(\\sqrt n)$ \u7684\uff0c\u4f46\u8fd9\u662f\u4e00\u4e2a\u6bd4\u8f83\u5bbd\u677e\u7684\u4e0a\u754c\uff0c\u5b9e\u9645\u4e0a\u53ef\u80fd\u4f1a\u6bd4\u8fd9\u5c0f\u3002\u800c\u4e14\u8bf7\u6ce8\u610f\u9898\u76ee\u4e2d\u7684\u4e00\u53e5\u8bdd\uff1a\n\n>\u6570\u636e\u968f\u673a\u751f\u6210\n\n\u56e0\u4e3a\u6570\u636e\u968f\u673a\u751f\u6210\uff0c\u6240\u4ee5\u5176\u5b9e $\\dfrac a b$ \u5e76\u6ca1\u6709\u5230 $2^{63}$ \u7ea7\u522b\uff0c\u81ea\u7136 $O(\\sqrt n)$ \u4e5f\u53ef\u4ee5\u8fc7\u4e86\u3002\n\n\u76ee\u524d\u6392\u540d\u7b2c\u4e09\uff0c\u633a\u5feb\u7684\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nll zyx[10000],mn,len,kc,xx,yy;\nvoid dfs(ll d,ll s)\n{\n\tif(s>kc/s) return;\n    if(d==len)\n    {\n        if(s+kc/s<mn)\n        {\n            mn=s+kc/s;\n            xx=s;\n            yy=kc/s;\n        }\n        return;\n    }\n    dfs(d+1,s);\n    dfs(d+1,s*zyx[d]);\n}\nint main()\n{\n    ll p,n,i,j,s,ka,kb;\n    while(cin>>ka>>kb)\n    {\n        if(kb+ka==0) \n        {\n            cout<<0<<' '<<0<<endl;\n            continue;   \n        }\n        kc=kb/ka;\n        for(len=0,i=2,p=kc;i*i<=p;i++)\n        {\n            if(p%i==0)\n            {\n                zyx[len]=1;\n                while(p%i==0)\n                {\n                    p/=i;\n                    zyx[len]*=i;\n                }\n                len++;\n            }\n        }\n        if(p>1) zyx[len++]=p;\n        mn=kc+2;\n        dfs(0,1);\n        cout<<xx*ka<<' '<<yy*ka<<endl;  \n    }\n} \n```\n\nUPD \uff0c2020.3.6\uff1a\u56e0\u4e3a\u6570\u636e\u6709\u8bef\uff0c\u7b2c\u56db\u4e2a\u70b9\u6709$a$\u548c$b$\u5747\u4e3a$0$\u7684\u60c5\u51b5\uff0c\u4e0d\u7b26\u5408\u9898\u76ee\u8981\u6c42\uff0c\u8bf7\u5c3d\u5feb\u4fee\u6b63\u3002\u5728\u6ca1\u6709\u4fee\u6b63\u6570\u636e\u4e4b\u524d\uff0c\u8bf7\u7279\u5224$a$\u548c$b$\u5747\u4e3a$0$\u7684\u60c5\u51b5\u7b54\u6848\u4e3a$0$ $0$\u3002\n\nUPD \uff0c2020.3.17\uff1a\u4fee\u4e86\u4e00\u4e0b\u4e11\u964b\u7684 MD \u3002\n\n\u8fd8\u6709\uff0c PR \u4eca\u5929\u7ec8\u4e8e\u8c03\u8fc7\u4e86\uff0c\u8fd9\u91cc\u518d\u653e\u4e0a\u4ee3\u7801\u5427\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\nusing namespace std;\nmap<ll,int> a;\nll zyx[1000],mn,len,kc,xx,yy;\ninline ll ksm(ll x,ll p,ll md)\n{\n    ll ans=1;\n    while(p)\n    {\n        if(p&1) ans=(__int128)ans*x%md;\n        x=(__int128)x*x%md;\n        p>>=1;\n    }\n    return ans;\n}\ninline ll ksmn(ll x,ll p)\n{\n    ll ans=1;\n    while(p)\n    {\n        if(p&1) ans=ans*x;\n        x=x*x;\n        p>>=1;\n    }\n    return ans;\n}\ninline bool test(ll n,ll a,ll d)\n{\n\tif(n==2||n==a) return 1;\n\twhile(!(d&1)) d>>=1;\n\tll t=ksm(a,d,n);\n\twhile(d!=n-1&&t!=1&&t!=n-1)\n\t{\n\t\tt=(__int128)t*t%n;\n\t\td<<=1;\n\t}\n\treturn t==n-1||d&1==1;\n}\ninline bool MR(ll n)\n{\n\tif(n==2||n==3) return 1;\n\tif(n==1||n%6!=1&&n%6!=5) return 0;\n\tif(!test(n,11,n-1)||!test(n,61,n-1))\n\t\treturn 0;\n\treturn 1;\n}\ninline ll f(ll x,ll t,ll n)\n{\n\treturn ((__int128)x*x+t)%n;\n}\ninline ll fj(ll x)\n{\n\tll l,r,t,s;\n\tfor(;;)\n\t{\n\t\tt=rand()%(x-1)+1;\n\t\tl=f(0,t,x);\n\t\tr=f(l,t,x);\n\t\twhile(l!=r)\n\t\t{\n\t\t\ts=__gcd(abs(l-r),x);\n\t\t\tif(s>1&&s<x) return s;\n\t\t\tl=f(l,t,x);\n\t\t\tr=f(f(r,t,x),t,x);\n\t\t}\n\t}\n}\ninline void PR(ll x,ll c)\n{\n\tif(x==4)\n\t{\n\t\ta[2]+=c*2;\n\t\treturn;\n\t}\n\tif(x==1) return;\n\tif(MR(x)) \n\t{\n\t\ta[x]+=c;\n\t\treturn; \n\t}\n\tll qwq=fj(x),s=0;\n\twhile(x%qwq==0) \n\t\tx/=qwq,s++;\n\tPR(qwq,c*s),PR(x,c);\n} \nvoid dfs(ll d,ll s)\n{\n\tif(d==len)\n\t{\n\t\tif(s+kc/s<mn)\n\t\t{\n\t\t\tmn=s+kc/s;\n\t\t\txx=min(s,kc/s);\n\t\t\tyy=max(s,kc/s);\n\t\t}\n\t\treturn;\n\t}\n\tdfs(d+1,s);\n\tdfs(d+1,s*zyx[d]);\n}\nint main()\n{\n\tsrand(time(0));\n\tll p,n,i,j,s,ka,kb;\n\tmap<ll,int>::iterator it;\n\twhile(cin>>ka>>kb)\n\t{\n\t\ta.clear();\n\t\tkc=kb/ka;\n\t\tPR(kc,1);\n\t\tfor(len=0,it=a.begin();it!=a.end();it++,len++)\n\t\t\tzyx[len]=ksmn(it->first,it->second);\n\t\tmn=kc+2;\n\t\tdfs(0,1);\n\t\tprintf(\"%lld %lld\\n\",xx*ka,yy*ka);\t\n\t}\n} \n```\n",
        "postTime": 1582077567,
        "uid": 203623,
        "name": "Ntokisq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2406 \u3010\u6700\u5c0f\u548c\u3011"
    },
    {
        "content": "### update\uff1a2019.11.4,\u611f\u8c22 [Flandre_495](https://www.luogu.org/space/show?uid=102726)julao\u6307\u51fa\u95ee\u9898\n\n### update\uff1a2020.1.14 \u7528markdown\u4fee\u4e86\u4e00\u4e0b\n\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.org/problem/P2406)\n\n\u9898\u76ee\u5927\u610f\uff1a\u7ed9\u51fa\u4e24\u4e2a\u6570$a=gcd(x,y),b=lcm(x,y)$\uff0c\u6c42$x,y$\u4e14\u8ba9$x+y$\u5c3d\u53ef\u80fd\u7684\u5c0f\u3002\n\n\u9898\u76eebug\uff1a$a,b$\u975e\u6b63\u6574\u6570\u800c\u81ea\u7136\u6570\n\n\u9898\u76ee\u601d\u8def\uff1a\u4f17\u6240\u5468\u77e5\uff0c$gcd(x,y)*lcm(x,y)=xy$\n\n\u5982\u679c$a=0$\u4e14$b=0$\u90a3\u4e48\u8f93\u51fa$(0,0)$\n\n\u5426\u5219\u6211\u4eec\u53ef\u4ee5\u4ee4$kk=b/a$\uff0c\u7136\u540e\u5728$1$~$kk$\u4e2d\u5bfb\u627e\u80fd\u591f\u88ab$kk$\u6574\u9664\u7684\u6570\uff0c\u4e14\u4f7f\u5b83\u6700\u63a5\u8fd1$\\sqrt{kk}$\n\n\u8fd9\u91cc\u5176\u5b9e\u53ef\u4ee5\u8bc1\u660e\uff0c\u5927\u6982\u8fc7\u7a0b\u4e3a\uff0c\u4e3a\u4e86\u4f7f$(a+b)^2$\u6700\u5c0f\uff0c\u5728$ab$(\u5373kk,\u56e0\u4e3a($gcd(a,b)$\u4e3a$1$)\u6052\u4e0d\u53d8\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06$(a+b)^2$\u8f6c\u6362\u4e3a$(a-b)^2$\uff08~~\u5b66\u8fc7\u4e58\u6cd5\u539f\u7406\u7684\u5e94\u8be5\u90fd\u80fd\u8fc7\u4e00\u773c\u770b\u6210\u6765\u5427~~\uff09\uff0c\u6b64\u65f6\u6211\u4eec\u53ea\u8981\u662f\u5f97$(a-b)^2$\u6700\u5c0f\u5373\u53ef\uff0c\u6240\u4ee5\u662f\u5f97$\\sqrt{lcm(a,b)}$\u9760\u8fd1$a,b$\n\n\u6211\u4eec\u4e0d\u59a8\u4ee4$\\sqrt{lcm(a,b)}$\u4e3alastt , \u6c42\u5f97lastt\u540e\u6839\u636e\u6027\u8d28\n\n$gcd(x,y)*lcm(x,y)=xy$\n\n\u8f93\u51fa\uff0c\u53c8\u56e0\u4e3a\u6b64\u65f6\uff08\u9664\u4ee5a\u540e\uff09\u7684\u6700\u5927\u516c\u56e0\u6570\uff0c\u4e5f\u5c31\u662f\u6b64\u6027\u8d28\u4e2d\u7684x\u4e3a1\uff0c\u6240\u4ee5\u8f93\u51fa$lastt * a$ , $kk / lastt * a$\u5373\u53ef\u3002\n\n\u81f3\u4e8e\u600e\u4e48\u53bb\u6c42$lastt$\uff0c\u6211\u4e4b\u524d\u7528\u7684\u662f\u8d2a\u5fc3\uff0c\u65e2\u7136Flandre_495julao\u8bf4\u8d2a\u5fc3\u662f\u4e0d\u5bf9\u7684\uff0c\u8981\u7528\u80cc\u5305\u6765\u6c42\uff0c\u90a3\u4e48\u6211\u53ea\u597d\u5199\u80cc\u5305\u4e86\uff0c\u5177\u4f53\u7684\u8bdd\u5c31\u770b\u4ee3\u7801\u4e86\u5427\n\n\u8d34\u4ee3\u7801\uff08\u6709\u6ce8\u91ca\uff09\uff1a\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\n#include<vector>\nusing namespace std;\n#define ll long long\nvector<ll> k,ans;//\u4e0d\u786e\u5b9a\u6570\u7ec4\u5f00\u591a\u5927,\u6240\u4ee5\u7528\u52a8\u6001\u6570\u7ec4vector\u6765\u5b58\n//\u5f00long long\nll max(ll i,ll j){return i>j?i:j;}\nint main(){\n    long long p,q;\n    bool flag=1;\n    scanf(\"%lld%lld\",&p,&q);\n    while(flag){\n        if(p==0||q==0){//\u4e00\u5b9a\u8981\u7279\u5224\n            puts(\"0 0\");\n            if(scanf(\"%lld%lld\",&p,&q)==-1)flag=0;\n            continue;//\u8bb0\u5f97\u8df3\u8fc7\n        }\n        ll kk=q/p,ls=kk;\n        for(int i=2;i<=ls;i++){//\u5206\u89e3\u8d28\u56e0\u6570\uff0c\u6709\u4e00\u5b9a\u7b80\u5316\n        \tll s=1;\n        \tbool flag=1;//\u8fd9\u4e2aflag\u7528\u4e8e\u5224\u65ad\u8fd9\u4e2a\u6570\u662f\u5426\u6709\u6548\n        \twhile(ls%i==0){\n        \t\ts*=i;\n        \t\tls/=i;\n        \t\tflag=0;\n\t\t\t}\n\t\t\tif(!flag)k.push_back(s);//\u52a0\u5165\u6570\u7ec4\n\t\t}\n\t\tint lenk=k.size();\n\t\tans.push_back(1);//\u4e00\u5b9a\u8981\u52a0\u51651\u6765\u51d1\u6570\n\t\tfor(int i=0;i<lenk;i++){//vector\u4e0b\u6807\u4ece\u96f6\u5f00\u59cb\n\t\t\tint len=ans.size();\n\t\t\tfor(int j=0;j<len;j++){\n            \t\t//\u8fd9\u91cc\u4e0d\u80fd\u628alen\u6539\u4e3aans.size()\uff0c\u56e0\u4e3aans\u7684\u957f\u5ea6\u4e00\u76f4\u5728\u6539\u53d8.\n                    //\u6bcf\u6b21\u6c42\u8fd9\u4e2a\u503c\u4f1a\u66f4\u65b0\uff0c\u4ece\u800c\u5bfc\u81f4\u4e0d\u4e00\u6837\uff0c\u51fa\u73b0\u7384\u5b66\u9519\u8bef\n\t\t\t\tif(k[i]*ans[j]<=sqrt(kk))ans.push_back(k[i]*ans[j]);\n                \t//\u8d85\u8fc7sqrt(kk)\u7684\uff0c\u4e00\u5b9a\u80fd\u5728\u5c0f\u4e8esqrt(kk)\u7684\u8303\u56f4\u5185\u627e\u5230\u76f8\u5bf9\u5e94\u7684\u6570\u3002\n                   \t//\u6211\u4eec\u53ea\u9700\u5728\u6700\u540e\u6c42\u7684\u65f6\u5019\u5904\u7406\u4e00\u4e0b\u5373\u53ef\u3002\n\t\t\t}\n\t\t}\n\t\tll lastt=-1;\n\t\tfor(int i=0;i<ans.size();i++){\n\t\t\tlastt=max(ans[i],lastt);\n            //\u6c42ans\u6570\u7ec4\u91cc\u6700\u5927\u7684\u503c\uff0c\u5373\u627e\u6ee1\u8db3\u6761\u4ef6\u7684lastt\n\t\t}\n\t\tprintf(\"%lld %lld\\n\",lastt*p,kk/lastt*p);//\u6309\u7167\u6027\u8d28\u8f93\u51fa\n    \tk.clear(),ans.clear();//\u6e05\u7a7a\u6570\u7ec4\n        if(scanf(\"%lld%lld\",&p,&q)==-1)flag=0;//scanf\u8f93\u5165\u5931\u8d25\u4e3a-1\n    }\n    return 0;\n}\n```\n\u672c\u849f\u84bb\u5df2\u7ecf\u5c3d\u529b\u4e86\uff0c\u6709\u4e0d\u8db3\u4e4b\u5904\u8bf7\u5404\u4f4djulao\u6307\u51fa,\u4e5f\u8bf7\u591a\u591a\u5305\u6db5",
        "postTime": 1565148683,
        "uid": 129169,
        "name": "sounds_666",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2406 \u3010\u6700\u5c0f\u548c\u3011"
    },
    {
        "content": "\u524d\u7f6e\u829d\u58eb\uff1a[Pollard-Rho](https://oi-wiki.org/math/pollard-rho/)\n\n\u4ee4 $p = \\frac{b}{a}$\uff0c\u8003\u8651\u5176\u8d28\u56e0\u6570 $q$\uff0c\u5219 $p$ \u4e0e $\\frac{p}{q}$ \u4e92\u8d28\uff0c\u6b64\u65f6 $x = aq$\uff0c$y = \\frac{ap}{q}$\u3002\n\n\u8003\u8651\u4e00\u4e2a\u663e\u7136\u7684\u7ed3\u8bba\uff1a\u5f53 $q$ \u6700\u63a5\u8fd1 $\\sqrt{p}$ \u65f6\uff0c$x + y$ \u53d6\u5f97\u6700\u5c0f\u503c\u3002\n\n\u8003\u8651\u5c06 $p$ \u4f7f\u7528 Pollard-Rho \u5206\u89e3\u8d28\u56e0\u6570\uff0c\u9884\u5904\u7406\u51fa $p$ \u4e2d\u6bcf\u4e2a\u8d28\u6570\u7684\u5e42\u6b21\uff0c\u7136\u540e dfs \u4f9d\u6b21\u679a\u4e3e\u6bcf\u4e2a\u8d28\u56e0\u6570\u5e42\u6b21\u9009\u6216\u4e0d\u9009\u5373\u53ef\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^{\\frac{1}{4}} \\log n + 2^{\\omega(n)})$\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <iostream>\n#include <algorithm> \n#include <cstdlib>\n#include <cmath>\n#include <ctime>\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef __int128 lll;\n\nconst int N = 9, M = (1 << 7) - 1, K = 62 + 7;\nint test_prime[N + 7] = {0, 2, 3, 5, 7, 11, 13, 17, 19, 23};\nll p[K], p_pow_k[K];\n\ninline ll quick_pow(ll x, ll p, ll mod){\n\tll ans = 1;\n\twhile (p){\n\t\tif (p & 1) ans = (lll)ans * x % mod;\n\t\tx = (lll)x * x % mod;\n\t\tp >>= 1;\n\t}\n\treturn ans;\n}\n\ninline bool miller_rabin(ll n, ll k){\n\tll nd = n - 1, m = nd;\n\twhile (m){\n\t\tll x = quick_pow(k, m, n);\n\t\tif (x != 1 && x != nd) return false;\n\t\tif ((m & 1) == 1 || x == nd) return true;\n\t\tm >>= 1;\n\t}\n\treturn true;\n}\n\ninline bool is_prime(ll n){\n\tif (n < 2) return false;\n\tfor (register int i = 1; i <= N; i++){\n\t\tif (n == test_prime[i]) return true;\n\t\tif (!miller_rabin(n, test_prime[i])) return false;\n\t}\n\treturn true;\n}\n\ninline ll floyd(ll a, ll b, ll p){\n\treturn ((lll)a * a % p + b) % p;\n}\n\nll gcd(ll a, ll b){\n\treturn b == 0 ? a : gcd(b, a % b);\n}\n\ninline ll pollard_pho(ll n){\n\tll x = 0, c = rand() % (n - 1) + 1;\n\tfor (register int i = 1; ; i <<= 1){\n\t\tll y = 1, z = x, ans;\n\t\tfor (register int j = 1; j <= i; j++){\n\t\t\tx = floyd(x, c, n);\n\t\t\ty = (lll)y * abs(x - z) % n;\n\t\t\tif (j % M == 0){\n\t\t\t\tans = gcd(n, y);\n\t\t\t\tif (ans > 1) return ans;\n\t\t\t}\n\t\t}\n\t\tans = gcd(n, y);\n\t\tif (ans > 1) return ans;\n\t}\n}\n\nvoid decompand(ll n, ll ans[], int &cnt){\n\tif (n < 2) return;\n\tif (is_prime(n)){\n\t\tans[++cnt] = n;\n\t\treturn;\n\t}\n\tll factor;\n\tdo {\n\t\tfactor = pollard_pho(n);\n\t} while (factor == n);\n\twhile (n % factor == 0){\n\t\tn /= factor;\n\t}\n\tdecompand(n, ans, cnt);\n\tdecompand(factor, ans, cnt);\n}\n\ninline ll sqrt(ll n){\n\tll ans = sqrt((double)n);\n\twhile (ans * ans <= n) ans++;\n\treturn ans - 1;\n}\n\ninline ll max(ll a, ll b){\n\treturn a > b ? a : b;\n}\n\nll dfs(ll n, int cnt, ll cur, int depth){\n\tif (cur > n) return 0;\n\tif (depth > cnt) return cur;\n\tint depth_i = depth + 1;\n\treturn max(dfs(n, cnt, cur, depth_i), dfs(n, cnt, cur * p_pow_k[depth], depth_i));\n}\n\nint main(){\n\tll a, b;\n\twhile (cin >> a >> b){\n\t\tint cnt = 0;\n\t\tll x = b / a, y, t = x;\n\t\tsrand(time(NULL));\n\t\tdecompand(x, p, cnt);\n\t\tsort(p + 1, p + cnt + 1);\n\t\tcnt = unique(p + 1, p + cnt + 1) - p - 1;\n\t\tfor (register int i = 1; i <= cnt; i++){\n\t\t\tp_pow_k[i] = 1;\n\t\t\twhile (t % p[i] == 0){\n\t\t\t\tt /= p[i];\n\t\t\t\tp_pow_k[i] *= p[i];\n\t\t\t}\n\t\t}\n\t\ty = dfs(sqrt(x), cnt, 1, 1);\n\t\tcout << y * a << \" \" << x / y * a << endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1620089930,
        "uid": 201007,
        "name": "Leasier",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P2406 \u3010\u6700\u5c0f\u548c\u3011"
    },
    {
        "content": "# \u601d\u8def\n- \u8003\u8651$x\\times y$\u5fc5\u7136\u7b49\u4e8e$a\\times b$\uff0c\u90a3\u4e48\u4ee4$x=a\\times c$\uff0c$y=a\\times d$\u3002\n- \u5219\u95ee\u9898\u8f6c\u5316\u4e3a\u628a$b\\div a$\u5206\u89e3\u56e0\u6570\uff0c\u5e76\u5c06\u5b83\u4eec\u5212\u5206\u4e3a\u4e24\u4e2a\u96c6\u5408\uff0c\u4f7f\u4e24\u4e2a\u96c6\u5408\u91cc\u7684\u6570\u4e58\u8d77\u6765\u540e\u76f8\u5dee\u6700\u5c0f\uff08\u611f\u6027\u7406\u89e3\u5c31\u662f\u5dee\u5c0f\u79ef\u5927\uff09\u3002\n- \u6ce8\u610f\u5230\u8fd9\u91cc\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\uff1a$c$\u3001$d$\u7684\u6700\u5927\u516c\u7ea6\u6570\u4e3a1\u3002\u6240\u4ee5\u82e5$b\\div a=p_1^{x_1}\\times p_2^{x_2}\u2026\u2026p_m^{x_m}$\uff0c$\\forall p_i^{x_i}$\u53ea\u80fd\u5168\u90e8\u653e\u5165\u540c\u4e00\u4e2a\u96c6\u5408\u91cc\uff0c\u4e0d\u53ef\u80fd\u4e24\u4e2a\u96c6\u5408\u91cc\u90fd\u6709$p_i$\u3002\n- \uff08\u8fd9\u597d\u50cf\u8bf4\u7684\u4e0d\u592a\u6e05\u695a\u2026\u2026\u5927\u5bb6\u770b\u770b\u4ee3\u7801\u5427$QwQ$\uff09\n- \u7136\u540e\u600e\u4e48\u6c42\u89e3\u5462\uff1f\u6211\u7528\u4e86\u4e00\u4e2aans\u6570\u7ec4\uff0c\u5b58\u50a8\u80fd\u51d1\u51fa\u7684\u4e0d\u5927\u4e8e$\\sqrt{b\\div a}$\u7684\u6700\u5927\u7684\u6570\u3002\u7136\u540e\u7528\u7c7b\u4f3c\u4e0e\u80cc\u5305\u7684\u601d\u60f3\uff0c\u679a\u4e3e$b\\div a$\u7684\u56e0\u6570\uff0c\u6bcf\u6b21\u4e58\u4ee5ans\u91cc\u9762\u7684\u6bcf\u4e00\u4e2a\u6570\u66f4\u65b0\u7b54\u6848\u3002\n- \u7531\u4e8e\u6570\u636e\u968f\u673a\uff0c\u590d\u6742\u5ea6\u5f53\u7136\u5c31\u662f$O($\u80fd\u8fc7$)$\u5566\u3002\uff08\u5b9e\u9645\u4e0a\u611f\u89c9\u5e94\u8be5\u662f$O(2^m)$\u7684\uff0c\u56e0\u4e3a\u6bcf\u4e00\u6b21\u66f4\u65b0\u6570\u7ec4\u5927\u5c0f\u7ffb\u4e2a\u500d\u3002\uff09\n\n# \u4ee3\u7801\n```\n#include<bits/stdc++.h>\n\n#define rg register int\n#define il inline\n#define in read()\n#define _num(x) (x >= '0' && x <= '9')\n#define Mem(x) memset(x, 0, sizeof(x)) \n#define mid (l+r>>1)\n#define el else if\n#define lowbit(x) (x&(-x))\n#define int long long\n\nusing namespace std;\n\nconst int N = 1e5+7;\n\nil int read(){\n\tint x=0,f=1;\n\tchar ch=getchar();\n\twhile(!_num(ch)){\n\t\tif(ch=='-')\n\t\t\tf=-1;\n\t\tch=getchar();\n\t}\n\twhile(_num(ch)){\n\t\tx=x*10+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn x*f;\n}\n\nchar f[18];\nint pcnt;\n\nil void pint(int x){\n\tpcnt = 0;\n\tif(x == 0) putchar('0');\n\tif(x < 0){\n\t\tx = -x;\n\t\tputchar('-');\n\t}\n\twhile(x){\n\t\tf[++pcnt] = x % 10 + '0';\n\t\tx /= 10;\n\t}\n\twhile(pcnt) putchar(f[pcnt--]);\n}\n\nint n, m, x, y, now, pc, pre[N], ls;\nint ans[N], ac;\n\nil void ckmax(int &x, int y){return (void)(x = x < y ? y : x);}\n\nsigned main()\n{\n//\tfreopen(\"1.txt\", \"r\", stdin);\n\twhile(~scanf(\"%lld\", &n)){\n\t\tscanf(\"%lld\", &m);\n\t\tif(n == 0 && m == 0){\n\t\t\tprintf(\"0 0\\n\");\n\t\t\tcontinue;\n\t\t}\n\t\tm /= n;\n\t\tls = m;\n\t\tpc = ac = 0;\n\t\tfor(rg i = 2; i <= sqrt(m); ++ i)if(!(m % i)){\n\t\t\tnow = 1;\n\t\t\twhile(!(m % i)) m /= i, now *= i;\n\t\t\tpre[++ pc] = now;\n\t\t}\n\t\tif(m - 1) pre[++ pc] = m;\n\t\tans[++ ac] = 1;\n\t\tfor(rg i = 1; i <= pc; ++ i){\n\t\t\tnow = ac;\n\t\t\tfor(rg j = 1; j <= now; ++ j){\n\t\t\t\tif(ans[j] * pre[i] > sqrt(ls)) break;\n\t\t\t\tans[++ ac] = ans[j] * pre[i];\n\t\t\t}\n\t\t}\n        sort(ans+1, ans+ac+1);\n\t\tnow = ans[ac];\n\t\tpint(now * n);\n\t\tputchar(' ');\n\t\tnow = ls / now;\n\t\tpint(now * n);\n\t\tputchar('\\n');\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1601600509,
        "uid": 69263,
        "name": "stansxt",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2406 \u3010\u6700\u5c0f\u548c\u3011"
    }
]