[
    {
        "content": "C++\u9898\u89e3\n//\u6837\u4f8b\u8c8c\u4f3c\u6ca1\u8fc7\uff0c\u4f46\u795e\u5947\u7684AC\u4e86\n\u8fd9\u4e00\u9898\u662f\u4e00\u9053\u5f88\u660e\u663e\u7684\u8d2a\u5fc3\n\u7528\u4f18\u5148\u961f\u5217\u5199\u975e\u5e38\u65b9\u4fbf\n\u8fd8\u6709\u5c31\u662f\u4e00\u5b9a\u8981\u5f00long long int\n\u6211\u5f00\u59cb\u5c31\u662f\u88ab\u5751\u4e86\u5bfc\u81f480\u5206\n\u76f4\u63a5\u4e0a\u4ee3\u7801\n```\n#include<iostream>\n#include<queue>\n#include<algorithm>//\u5934\u6587\u4ef6\u3002\u5176\u5b9e\u53ef\u4ee5\u7528bits\u7684 \nusing namespace std;\nlong long int ans[300006],cnt=0,tot=0,sum=0;//\u6ce8\u610f\uff1a\u8fd9\u91cc\u4e00\u5b9a\u8981\u5f00long long int\uff0c\u4e0d\u7136\u4f1a\u9519 \nstruct Day{\n    long long int a;\n    long long int b;\n}day[300006];//\u5b9a\u4e49\u7ed3\u6784\u4f53\u5929\u6570\nstruct Point{\n    long long int g;\n    long long int p;\n    Point(long long int c,long long int d){\n        g=c;p=d;\n    }//\u7ed3\u6784\u4f53\u51fd\u6570 \n};//\u7ed3\u6784\u4f53 \nstruct Rule{\t \n    bool operator()(const Point &a,const Point &b){\n        return a.g<b.g;\n    }\n};//\u7ed3\u6784\u4f53\npriority_queue<Point,vector<Point>,Rule>a;//\u4f18\u5148\u961f\u5217\uff0c\u4e2a\u4eba\u8ba4\u4e3a\u8fd9\u6837\u5199\u5f88\u65b9\u4fbf \nint main(){\n\tstd::ios::sync_with_stdio(false);//\u5bf9cin\u7684\u8bfb\u5165\u4f18\u5316 \n    int n;\n    cin>>n;\n    for(int i=1;i<=n;i++)\n        cin>>day[i].a;\n    for(int i=1;i<=n;i++)\n        cin>>day[i].b; \n    for(long long int i=1;i<=n;i++){\n        tot+=day[i].a;\n        if(tot>=day[i].b){\n            tot-=day[i].b;\n            a.push(Point(day[i].b,i));\n            sum++;\n        }\n        else{\n            if(!a.empty()&&a.top().g>day[i].b){\n                tot+=a.top().g;\n                tot-=day[i].b;\n                a.pop();\n                a.push(Point(day[i].b,i));\n            }\n        }\n    }//\u8d2a\u5fc3 \n    while(!a.empty()){\n        ans[++cnt]=a.top().p;\n        a.pop();\n    }\n    sort(ans+1,ans+cnt+1);//\u8fd9\u91cc\u8981\u5bf9ans\u6570\u7ec4\u8fdb\u884c\u6392\u5e8f \n    cout<<sum<<endl;//\u8f93\u51fasum\u7684\u503c \n    for(int i=1;i<=cnt;i++) \n        cout<<ans[i]<<\" \";\n    //\u8f93\u51faans \n    return 0;//\u7ed3\u675f\u4e3b\u7a0b\u5e8f \n} \n```",
        "postTime": 1535430688,
        "uid": 50279,
        "name": "\u552f\u7231\u4f60\u4e00\u751f",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 P3545 \u3010[POI2012]HUR-Warehouse Store\u3011"
    },
    {
        "content": "[\u9898\u9762](https://www.luogu.com.cn/problem/P3545)\n\n## \u9898\u610f\n\n\u9898\u76ee\u4e2d\u7ed9\u51fa\u4e24\u4e2a\u6570\u7ec4 $A[]$ \u548c $B[]$ \uff0c\u4f60\u62e5\u6709\u4e00\u4e2a\u5b58\u8d27\u6570\u91cf\uff0c\u5728\u7b2c $i$ \u5929\u7684\u4e0a\u5348\u4f1a\u52a0\u4e0a $A_i$ \uff0c\u4e0b\u5348\u4f60\u53ef\u4ee5\u9009\u62e9\u51cf\u5c11 $B_i$ \u7684\u5b58\u8d27\u6765\u6ee1\u8db3\u4e00\u4e2a\u987e\u5ba2\u7684\u8981\u6c42\u3002\u95ee $n$ \u5929\u5185\u4f60\u6700\u591a\u80fd\u6ee1\u8db3\u591a\u5c11\u987e\u5ba2\u3002\n\n## \u505a\u6cd5\n\n\u6211\u4eec\u5148\u5c3d\u53ef\u80fd\u6ee1\u8db3\u6240\u6709\u6211\u4eec\u9047\u5230\u7684\u987e\u5ba2\uff0c\u5e76\u4e14\u4f7f\u7528\u4e00\u4e2a\u5927\u6839\u5806\u5b58\u653e\u6240\u6709\u4f60\u5f53\u524d\u6ee1\u8db3\u8fc7\u7684\u987e\u5ba2\u7684\u4fe1\u606f\u3002\u5f53\u6211\u4eec\u9047\u5230\u4e00\u4e2a\u6211\u4eec\u65e0\u6cd5\u76f4\u63a5\u6ee1\u8db3\u7684\u987e\u5ba2\uff0c\u5982\u679c\u5927\u6839\u5806\u7684\u5806\u9876\u7684 $B_i$ \u5c0f\u4e8e\u5f53\u524d\u7684 $B_i$ \uff0c\u6211\u4eec\u5c1d\u8bd5\u53d6\u51fa\u5927\u6839\u5806\u7684\u5806\u9876\uff0c\u5c06\u5b83\u5220\u9664\u5e76\u4e14\u5c06\u5b83\u7684 $B_i$ \u52a0\u5165\u4f60\u7684\u5b58\u8d27\u6570\u91cf\u4e2d\uff0c\u7136\u540e\u4f60\u7ee7\u7eed\u6ee1\u8db3\u8fd9\u4e00\u4f4d\u987e\u5ba2\u3002\n\n## \u7b97\u6cd5\u6b63\u786e\u6027\u8bc1\u660e\n\n\u7531\u4e8e\u6211\u4eec\u524d\u63d0\u6761\u4ef6\u4e2d\u6709\u201c\u5927\u6839\u5806\u5806\u9876\u7684 $B_i$ \u5927\u4e8e\u5f53\u524d\u7684 $B_i$ \u201d\uff0c\u5982\u679c\u6211\u4eec\u4e0d\u6ee1\u8db3\u5927\u6839\u5806\u5806\u9876\u7684\u987e\u5ba2\uff08\u5373\u5f53\u524d\u65b9\u6848\u4e0b\u6240\u6709\u6211\u4eec\u6ee1\u8db3\u7684\u987e\u5ba2\u4e2d $B_i$ \u6700\u5927\u7684\uff09\uff0c\u6211\u4eec\u4e00\u5b9a\u662f\u80fd\u591f\u7528\u53d6\u6d88\u5806\u9876\u7684\u987e\u5ba2\u6240\u62ff\u6765\u7684\u5e93\u5b58\u6765\u6ee1\u8db3\u5f53\u524d\u987e\u5ba2\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u6ee1\u8db3\u7684\u987e\u5ba2\u6570\u91cf\u4e0d\u964d\uff0c\u5e76\u4e14\u4f60\u624b\u5934\u4e0a\u7684\u5b58\u8d27\u6570\u91cf\u8fd8\u6709\u53ef\u80fd\u4e0a\u5347\uff0c\u4e5f\u5bf9\u7b54\u6848\u6709\u6b63\u9762\u5f71\u54cd\u3002\u6240\u4ee5\u4e0d\u6ee1\u8db3\u5806\u9876\uff0c\u6ee1\u8db3\u5f53\u524d\u9879\u5728\u8fd9\u6837\u7684\u60c5\u51b5\u4e0b\u662f\u6ee1\u8db3\u8d2a\u5fc3\u7684\u5c40\u90e8\u6700\u4f18\u7684\u3002\n\n## \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nconst int maxn=250005;\n\ntypedef pair<long long,int> pii;\n\nlong long a[maxn],b[maxn];\nbool vis[maxn];//\u8bb0\u5f55\u662f\u5426\u6ee1\u8db3\u6bcf\u4e00\u4f4d\u987e\u5ba2\n\npriority_queue<pii,vector<pii>,less<pii> > que;\n\nint main()\n{\n\tint n;\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++) scanf(\"%lld\",a+i);\n\tfor(int i=1;i<=n;i++) scanf(\"%lld\",b+i);\n\tlong long tot=0,cnt=0;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\ttot+=a[i];\n\t\tif(tot<b[i]&&!que.empty()&&que.top().first>b[i])\n\t\t{//\u82e5\u65e0\u6cd5\u6ee1\u8db3\u5f53\u524d\u987e\u5ba2\u5e76\u4e14\u5806\u9876\u66f4\u8d35\u7684\u60c5\u51b5\n\t\t\tvis[que.top().second]=false;\n\t\t\ttot+=que.top().first;//\u5220\u9664\u5806\u9876\n\t\t\tque.pop();\n\t\t\tcnt--;\n\t\t}\n\t\tif(tot>=b[i])\n\t\t{\n\t\t\ttot-=b[i];\n\t\t\tque.push((pii){b[i],i});\n\t\t\tvis[i]=true;//\u52a0\u5165\u5f53\u524d\u70b9\n\t\t\tcnt++;\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",cnt);\n\tfor(int i=1;i<=n;i++)\n\t\tif(vis[i]) printf(\"%d \",i);\n\tputs(\"\");\n\treturn 0;\n}\n```",
        "postTime": 1597569685,
        "uid": 98482,
        "name": "Macesuted",
        "ccfLevel": 0,
        "title": "P3545"
    },
    {
        "content": "\u8fd9\u9898\u7684\u505a\u6cd5\u662f\u8d2a\u5fc3\n\n\n\n\u5f88\u660e\u663e\u53ef\u4ee5\u53d1\u73b0\uff0c\u5f53\u80fd\u5356\u65f6\u5c31\u5356\u662f\u4e00\u4e2a\u5341\u5206\u597d\u7684\u8d2a\u5fc3\u7b56\u7565\n\n\n\u4f46\u662f\u4f1a\u6709\u4e00\u79cd\u60c5\u51b5\u4f8b\u5916\uff0c\u5c31\u662f\u524d\u9762\u6709\u4e00\u4e2a\u5f88\u5927\u7684\u4eba\u8981\u4e70\uff0c\u4ee5\u81f3\u4e8e\u540e\u9762\u7684\u4e00\u7fa4\u4eba\u90fd\u4e0d\u80fd\u4e70\u4e86\n\n\n\u6240\u4ee5\u53ef\u4ee5\u7528\u5806\u7ef4\u62a4\u4e00\u4e0b\u5728\u4e4b\u524d\u4e70\u7684\u4eba\u6700\u5927\u662f\u591a\u5c11\uff0c\u5982\u679c\u5f53\u524d\u7684\u4eba\u4e70\u4e0d\u4e86\uff0c\u800c\u5806\u4e2d\u6700\u5927\u6bd4\u5f53\u524d\u5927\u5c31\u628a\u90a3\u4e2a\u4eba\u6362\u6210\u73b0\u5728\u8fd9\u4e2a\uff0c\u5982\u679c\u73b0\u5728\u7684\u6700\u5927\u6bd4\u4e4b\u524d\u8fd8\u5927\u663e\u7136\u6362\u4e86\u66f4\u52a0\u4e0d\u4f18\u3002\n\n\n\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int N=250005;\nint n;\nint a[N],b[N];\nstruct xxx{\n    int k,t;\n}heap[N];\nbool com(xxx a,xxx b)\n{\n    return a.t<b.t;\n}\nbool comm(xxx a,xxx b)\n{\n    return a.k<b.k;\n}\nsigned main()\n{\n    scanf(\"%lld\",&n);\n    for(int i=1;i<=n;i++){\n        scanf(\"%lld\",&b[i]);\n    }\n    for(int i=1;i<=n;i++){\n        scanf(\"%lld\",&a[i]);\n    }\n    int t=0;\n    int k=0;\n    memset(heap,0,sizeof(heap));\n    make_heap(heap+1,heap+t+1,com);\n    for(int i=1;i<=n;i++){\n//        cout<<heap[1].t<<' '<<heap[1].k<<endl;\n        k+=b[i];\n        if(a[i]<=k){//\u8d2a\u5fc3\n            k-=a[i];\n            t++;\n            heap[t].t=a[i];\n            heap[t].k=i;\n            push_heap(heap+1,heap+t+1,com);\n        }\n        else if(heap[1].t>=a[i]){//\u7528\u5806\u7ef4\u62a4\uff0c\u5c06\u4e4b\u524d\u7684\u89e3\u6539\u7684\u66f4\u4f18\n            k+=heap[1].t;\n            k-=a[i];\n            pop_heap(heap+1,heap+t+1,com);\n            heap[t].t=a[i];\n            heap[t].k=i;\n            push_heap(heap+1,heap+t+1,com);\n        }\n    }\n    sort(heap+1,heap+t+1,comm);\n    printf(\"%d\\n\",t);\n    for(int i=1;i<=t;i++){\n        printf(\"%d \",heap[i].k);\n    }\n    return 0;\n}\n```",
        "postTime": 1505818350,
        "uid": 34604,
        "name": "\u5c0f\u624b\u51b0\u51c9",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3545 \u3010[POI2012]HUR-Warehouse Store\u3011"
    },
    {
        "content": "###### \u6211\u7684\u7b2c\u4e00\u7bc7\u7d2b\u9898\u9898\u89e3~~~\n\n\u597d\u4e86\uff0c\u56de\u5f52\u6b63\u9898\n\n\u5f53\u6211\u4eec\u4e00\u770b\u5230\u8fd9\u4e2a\u9898\u76ee\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u5148\u60f3\u5230\u4ec0\u4e48\u5462\uff1f\n\n\u672c\u849f\u84bb\u5c31\u60f3\u5230\u4e86~~\u6211\u64e6\uff01\u8fd9\u662f\u7d2b\u9898\uff01~~\u7528\u66b4\u529b\u6bcf\u4e00\u5929\u80fd\u5426\u5b8c\u6210\u8ba2\u5355\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4f46\u5f53\u4ee5\u4e0b\u6570\u636e\u51fa\u73b0\u65f6\u00b7\u00b7\u00b7\n\n```\n6\n5 0 0 0 0 0\n5 1 1 1 1 1\n```\n\u663e\u7136\uff0c\u9762\u5bf9\u8fd9\u79cd\u6570\u636e\u65f6\u66b4\u529b\u80af\u5b9a\u662f\u9519\u7684\u3002\n\n\u7136\u540e\u672c\u849f\u84bb\u53c8\u60f3\u5230\u4e86~~\u770b\u4e00\u4e0b\u9898\u89e3\u5427\uff01\u5c31\u770b\u4e00\u4e0b\uff01~~dfs\u89e3\u51b3\u3002\u4f46\u6570\u636e\u8303\u56f4\u6781\u5927\uff0c\u4f1aT\u6389\uff08$2^{250000}$\uff09\u3002\n\nso\uff0c\u6211\u4eec\u53ea\u6709\u91cd\u770b\u9898\u76ee\uff0c\u627e\u4e00\u627e\u5173\u952e\u8bcd\u4e86\u3002\n\n\u7136\u540e\u773c\u778e\u7684\u6211\u624d\u53d1\u73b0\n>\u6700\u591a\u80fd\u6ee1\u8db3\u51e0\u5929\u4e2d\u987e\u5ba2\u7684\u9700\u6c42\n\n>\u2191 \u2191\n\n\u8fd9\u4e0d\u662f\u8d2a\u5fc3\u5417QAQ\uff08\u8bf7\u539f\u8c05\u6211\u7684\u89c6\u529b\uff09\n\n\u6240\u4ee5\u6839\u636e~~\u8111\u6d1e~~\u8d2a\u5fc3\u7684\u601d\u60f3\uff0c\u6211\u4eec\u6709\u4ee5\u4e0b\u601d\u8def\uff1a\n\n1\u3001\u5c06\u5f53\u524d\u6240\u62e5\u6709\u7684\u5546\u54c1\u4ef6\u6570\u7edf\u8ba1\u51fa\u6765\uff0c\u679a\u4e3e\u6bcf\u5929\u7684\u8ba2\u5355\u662f\u5426\u80fd\u5b8c\u6210\uff08\u542c\u6211\u8bf4\u5b8c\uff01\u8fd9\u4e0d\u662f\u66b4\u529b\uff01QAQ\uff09\n\t\n   i\u3001\u5982\u679c\u80fd\uff0c\u5c06\u5f53\u524d\u6240\u62e5\u6709\u7684\u5546\u54c1\u51cf\u53bb\u987e\u5ba2\u6240\u8981\u7684\u5546\u54c1\u3002\u7136\u540e\u628a\u8fd9\u4e2a\u8ba2\u5355\u653e\u8fdb~~\u5783\u573e\u6876~~\u91cc\u3002\n    \n   ii\u3001\u5982\u679c\u4e0d\u80fd\uff0c\u5219\u5728~~\u5783\u573e\u6876~~\u4e2d\u627e\u5230\u4ee5\u524d\u8ba2\u5355\u4e4b\u4e2d**\u6240\u9700**\u7684\u5546\u54c1\u4ef6\u6570\u6700\u5927\u7684\u4e00\u4e2a\u8ba2\u5355\uff0c\u7136\u540e\u4e0e\u5f53\u524d\u7684\u8fd9\u4e2a\u8ba2\u5355\u6bd4\u8f83\uff0c\u5982\u679c\u5f53\u524d\u8ba2\u5355**\u6240\u9700**\u7684\u5546\u54c1\u4ef6\u6570\uff0c\u6bd4\u627e\u51fa\u6765\u7684\u8ba2\u5355\u7684**\u6240\u9700**\u5546\u54c1\u4ef6\u6570\u8981\u5c11\uff0c\u5219~~\u628a\u521a\u7ffb\u51fa\u6765\u7684\u8ba2\u5355\u6254\u51fa\u673a\u623f\u7a97\u5916\uff0c\u521a\u63a5\u5230\u7684\u8ba2\u5355\u653e\u5728\u5783\u573e\u6876\u91cc~~\uff08\u8d2a\u5fc3\u601d\u60f3\uff09\u3002\n   \n\u8fd9\u91cc\u53ef\u80fd\u53c8\u6709julao\u5728\u95ee\u4e86\uff1a\n\n>\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u5904\u7406\u7684\u8ba2\u5355\u4e0d\u6254\u51fa\u7a97\u5916\uff0c\u800c\u662f\u653e\u5728\u5783\u573e\u6876\u91cc\u5462\uff1f\n\n\u672c\u849f\u84bb\u7b54\uff1a\n\n>\u5176\u5b9e\u540e\u9762\u6709\u4e00\u4e2a\u5728\u5783\u573e\u6876\u4e2d\u627e\u8ba2\u5355\u7684\u64cd\u4f5c\uff0c\u800c\u662f\u8981\u627e\u6240\u9700\u5546\u54c1\u4ef6\u6570\u6700\u5927\u7684\uff0c\u6240\u4ee5\u663e\u7136\u8fd9\u4e2a\u5783\u573e\u6876\u5e94\u8be5\u662f\u4e00\u4e2a\u4e8c\u53c9\u5806\uff0c\u4f18\u5316\u4e00\u4e0b\u7a0b\u5e8f\u3002\uff08\u673a\u623f\u7684\u5783\u573e\u6876\u90fd\u8fd9\u4e48\u9ad8\u7ea7\uff1fQAQ\uff09\n\n\u601d\u8def\u68b3\u7406\uff1a\u8d2a\u5fc3\u601d\u60f3+\u4e8c\u53c9\u5806\u4f18\u5316\u3002\n\n\u4e0a\u4ee3\u7801~~~\u2193\n\n```\n#include<cstdio>\n#include<queue>\nusing namespace std;\nstruct shangpin{\n\tlong long a,b;\n}day[250010];\npriority_queue<shangpin> ans2;\nlong long n,zongshu,ansl;\nbool operator <(const shangpin &x,const shangpin &y)\n{\n\treturn x.a<y.a;\n}\ninline void read(long long &x)\n{\n\tchar ch;\n\tfor(ch=getchar(),x=0;ch<'0'||ch>'9';ch=getchar());\n\tfor(;ch>='0'&&ch<='9';x=(x<<3)+(x<<1)+(ch^48),ch=getchar());\n}\ninline void write(int x)\n{\n\tif(x>=10)write(x/10);\n\tputchar(x%10+48);\n}\nint main()\n{\n\tread(n);\n\tfor(register long long i=1;i<=n;i++)read(day[i].a);\n\tfor(register long long i=1;i<=n;i++)\n\t{\n\t\tread(day[i].b);\n\t\tzongshu+=day[i].a;\n\t\tif(day[i].b<=zongshu)\n\t\t{\n\t\t\tzongshu-=day[i].b;\n\t\t\t++ans1;\n\t\t\tshangpin tmp={day[i].b,i};\n\t\t\tans2.push(tmp);\n\t\t}\n\t\telse if(!ans2.empty()&&ans2.top().a>day[i].b)\n\t\t{\n\t\t\tzongshu+=ans2.top().a-day[i].b;\n\t\t\tans2.pop();\n\t\t\tshangpin tmp={day[i].b,i};\n\t\t\tans2.push(tmp);\n\t\t}\n\t}\n\twrite(ans1),putchar('\\n');\n    while(!ans2.empty())write(ans2.top().b),putchar(' '),ans2.pop();\n}\n```\n\uff08\u8bf7\u4e0d\u8981\u6284\u849f\u84bb\u7684\u4ee3\u7801QAQ\uff0c\u8fd9\u91cc\u662f\u6709\u9632\u4f2a\u54d2~~~\uff09",
        "postTime": 1549532827,
        "uid": 112557,
        "name": "UhhhQQQU",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3545 \u3010[POI2012]HUR-Warehouse Store\u3011"
    },
    {
        "content": "## \u601d\u8def\n\u8d2a\u5fc3\u53cd\u6094+\u4f18\u5148\u961f\u5217\u3002\n\n\u76f4\u63a5\u8d2a\u5fc3\u663e\u7136\u662f\u4e0d\u884c\u7684\u3002 \u5982\u679c\u6211\u4eec\u6bcf\u4e00\u5929\u80fd\u5356\u5c31\u5356\uff0c\u53cd\u4e4b\u4e0d\u5356\uff0c\u5c31\u80fd\u88ab\u4ee5\u4e0b\u6570\u636e\u5361\u6389\uff1a\n\n```cpp\n10\n9 0 0 0 0 0 0 0 0 0\n9 1 1 1 1 1 1 1 1 1\n```\n\u6309\u4ee5\u4e0a\u7b97\u6cd5\uff0c \u7b2c\u4e00\u5929\u5c31\u4f1a\u5356\u6389 $9$ \u4ef6\u5546\u54c1\uff0c\u672c\u6765\u53ef\u4ee5\u653e\u5f03\u7b2c\u4e00\u5929\u83b7\u53d6\u66f4\u5927\u7684\u6536\u76ca\uff0c\u7ed3\u679c\u5374\u76ee\u5149\u77ed\u6d45\u5730\u628a\u6240\u6709\u5e93\u5b58\u5356\u7ed9\u4e86\u9700\u6c42\u6700\u9ad8\u7684\u5ba2\u6237\u3002\u6240\u4ee5\u6211\u4eec\u9700\u8981\u8bbe\u8ba1\u4e00\u79cd\u6b63\u786e\u7684\u8d2a\u5fc3\u65b9\u6cd5\uff1a\n\n\u9996\u5148\u5f00\u4e00\u4e2a $vis$ \u6570\u7ec4\uff0c$vis_i=true$ \u8868\u793a\u6ee1\u8db3\u4e86\u5ba2\u6237 $i$\uff0c\u53cd\u4e4b\u6ca1\u6709\u6ee1\u8db3\u3002\n\u7528 $sum$ \u8868\u793a\u73b0\u6709\u7684\u5e93\u5b58\uff0c\u521d\u59cb\u4e3a $0$\uff0c\u7b2c $i$ \u5929 $sum$ \u52a0\u4e0a $a_i$\u3002\n\n1. \u8ddf\u9519\u8bef\u7b97\u6cd5\u4e00\u6837\uff0c\u5bf9\u4e8e\u5ba2\u6237 $i$\uff0c\u9996\u5148\u80fd\u5356\u5c31\u5356\uff0c\u4e14\u628a $vis_i$ \u7f6e\u4e3a $true$\uff1b\u53cd\u4e4b\u4e0d\u5356\uff08**\u8d2a\u5fc3**\uff09\u3002\n2. \u82e5\u4eca\u5929\u7684\u5ba2\u6237 $i$ \u6ee1\u8db3\u4e0d\u4e86\uff0c\u5373 $sum<b_i$\uff0c\u90a3\u5c31\u627e\u5230\u6ee1\u8db3\u8fc7\u7684\uff0c\u5373 $vis_j=true$\uff0c\u4e14 $b_j$ \u6700\u5927\u7684\u5ba2\u6237 $j\\ (1\\le j<i)$\uff0c\u82e5 $b_j>b_i$\uff0c\u90a3\u4e48\uff0c\u5c31\u7528\u5356\u7ed9\u5ba2\u6237 $j$ \u7684\u5546\u54c1\u53bb\u6ee1\u8db3\u5ba2\u6237 $i$\uff0c\u5373\u628a $vis_j$ \u7f6e\u4e3a $false$\uff0c$vis_i$ \u7f6e\u4e3a $true$\uff0c$sum$ \u52a0\u4e0a $b_j-b_i$\u3002\u663e\u7136\uff0c\u653e\u5f03\u6ee1\u8db3 $b_j$ \u8f83\u9ad8\u7684\u5ba2\u6237 $j$\uff0c\u53bb\u6ee1\u8db3 $b_i$ \u8f83\u4f4e\u7684\u5ba2\u6237 $i$\uff0c\u80fd\u83b7\u5f97\u66f4\u5927\u7684\u6536\u76ca\uff08**\u53cd\u6094**\uff09\u3002\n\n\u90a3\u4e48\uff0c\u5982\u4f55\u9ad8\u6548\u5730\u5b9e\u73b0\u627e\u51fa\u5728\u5ba2\u6237 $i$ \u4e4b\u524d\u6ee1\u8db3\u8fc7\u7684 $b_j$ \u6700\u5927\u7684\u5ba2\u6237 $j$ \u5462\uff1f\n\n\u6211\u4eec\u53d1\u73b0\uff0c**\u4f18\u5148\u961f\u5217**\u53ef\u4ee5\u80dc\u4efb\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u6ee1\u8db3\u8fc7\u7684\u5ba2\u6237 $j\\ (1\\le j<i)$\uff0c\u7ef4\u62a4\u5ba2\u6237\u7684\u9700\u6c42 $b_j$ \u4ee5\u53ca\u6765\u7684\u65f6\u95f4 $j$\uff0c\u5c31\u53ef\u4ee5\u7528 $O(1)$ \u7684\u590d\u6742\u5ea6\u67e5\u627e $\\max\\limits_{1\\le j<i}{b_j}$\uff0c\u4ee5\u53ca\u7528 $O(\\log n)$ \u7684\u590d\u6742\u5ea6\u5220\u9664\uff0c\u5176\u4e2d $i$ \u4e3a\u5929\u6570\u3002\n\n## Tips\n$0\\le a_i, b_i \\le 10^9$\uff0c\u968f\u4fbf\u52a0\u4e00\u52a0\u5c31\u6ea2\u51fa\uff0c\u6240\u4ee5\u5f00 long long\u3002\n\n## \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nconst int MAXN = 250005;\nll a[MAXN], b[MAXN];\nint n;\n\nstruct node {//\u5ba2\u6237\u7684\u7ed3\u6784\u4f53\uff0c\u6765\u7684\u65f6\u95f4\u4e0e\u9700\u6c42\n\tint id;\n\tll v;\n\tbool operator < (const node& x) const {\n\t\treturn v < x.v;\n\t}\n\tbool operator > (const node& x) const {\n\t\treturn v > x.v;\n\t}\n\n};\n\npriority_queue<node, vector<node>, less<node> > q;\nbool vis[MAXN];//\u5ba2\u6237\u6ee1\u8db3\u60c5\u51b5\nint ans;\n\nint main() {\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++) cin >> a[i];\n\tfor(int i = 1; i <= n; i++) cin >> b[i];\n\tll sum = 0;\n\tfor(int i = 1; i <= n; i++) {\n\t\tsum += a[i];\n\t\tif(sum >= b[i]) {//\u80fd\u6ee1\u8db3\uff0c\u76f4\u63a5\u5356\n\t\t\tsum -= b[i];\n\t\t\tvis[i] = 1;\n\t\t\tq.push(node{i, b[i]});\n\t\t\t++ans;\n\t\t}\n\t\telse {\n\t\t\tif(!q.empty() && q.top().v > b[i]) {//\u6ee1\u8db3\u4e0d\u4e86\uff0c\u4f46\u662f\u6ee1\u8db3\u8fc7\u9700\u6c42\u66f4\u9ad8\u7684\u5ba2\u6237\uff0c\u628a\u5356\u51fa\u53bb\u7684\u9000\u56de\u6765\uff01\n\t\t\t\tvis[q.top().id] = 0;\n\t\t\t\tvis[i] = 1;\n\t\t\t\tsum += q.top().v - b[i];\n\t\t\t\tq.pop();\n\t\t\t\tq.push(node{i, b[i]});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout << ans << endl;\n\tfor(int i = 1; i <= n; i++) {\n\t\tif(vis[i]) cout << i << ' ';\n\t}\n\t\n\treturn 0;\n}\n```\n[AC\u8bb0\u5f55](https://www.luogu.com.cn/record/45740332)\n\n---\n$\\large\\text{THE\\ \\ END}$",
        "postTime": 1612751303,
        "uid": 227623,
        "name": "John_yangliwu",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3545 \u3010[POI2012]HUR-Warehouse Store\u3011"
    },
    {
        "content": "# \u8fd9\u662f\u4e00\u9053\u5f88\u7ecf\u5178\u7684\u8d2a\u5fc3\u9898\n\n### \u8d2a\u5fc3\u7b56\u7565\uff1a\u5f53\u80fd\u6ee1\u8db3\u5f53\u524d\u6240\u6709\u4eba\u65f6\u6ee1\u8db3\u5f53\u524d\u6240\u6709\u4eba\u3002\n\n\u4f46\u5f53\u4e0d\u80fd\u6ee1\u8db3\u65f6\uff0c\u5c31\u4f1a\u51fa\u73b0\u9519\u8bef\u3002\n\n\u90a3\u6211\u4eec\u600e\u4e48\u4fdd\u8bc1\u8d2a\u5fc3\u7684\u6b63\u786e\u884c\u5462\uff1f\n\n\u5f53\u6211\u4eec\u4e0d\u80fd\u6ee1\u8db3\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u770b\u524d\u9762\u7684\u4eba\uff0c\u770b\u770b\u6ee1\u8db3\u8fd9\u4e2a\u4eba\u662f\u4e0d\u662f\u66f4\u4f18\u3002\n\n\u5047\u5982\uff0c\u5f53\u524d\u8fd9\u4e2a\u4eba\u8981\u6bd4\u524d\u9762\u4e70\u7684\u6700\u591a\u7684\u4eba\u90fd\u8981\u591a\uff0c\u90a3\u6211\u4eec\u53ef\u4ee5\u4e0d\u4e70\u7ed9\n\n\u8fd9\u4e2a\u4eba\uff0c\u4ee5\u6b64\u6765\u7559\u4e0b\u66f4\u591a\u7684\u5546\u54c1\uff0c\u6ee1\u8db3\u5269\u4e0b\u7684\u4eba\u3002\n\n\u5982\u679c\u6bd4\u524d\u9762\u4e70\u7684\u6700\u591a\u7684\u4eba\u90fd\u8981\u5c11\uff0c\u8bf4\u660e\u6ee1\u8db3\u8fd9\u4e2a\u4eba\u8981\u66f4\u4f18\uff0c\n\n\u56e0\u4e3a\u4ed6\u53ef\u4ee5\u5269\u4e0b\u66f4\u591a\u7684\u5546\u54c1\uff0c\u6765\u6ee1\u8db3\u5269\u4e0b\u7684\u4eba\u3002\n\n\u90a3\u6211\u4eec\u5c31\u53ef\u4ee5\u8003\u8651\u7ef4\u62a4\u4e00\u4e2a\u5927\u8ddf\u5806\uff0c\u6bcf\u6b21\u628a\u4eba\u7684\u5e8f\u53f7\u548c\u4ed6\u4e70\u7684\u5546\u54c1\u6570\n\n\u52a0\u5165\u5806\u4e2d\uff0c\u7136\u540e\u6309\u7167\u4e0a\u8ff0\u65b9\u6cd5\u7ef4\u62a4\u5c31\u884c\u4e86\u3002\n\n### \u51e0\u4e2a\u6ce8\u610f\u7684\u70b9\n\n1. \u5728\u5220\u9664\u5927\u6839\u5806\u5806\u9876\u65f6\uff0c\u4e00\u5b9a\u8981\u5224\u65ad\u8fd9\u4e2a\u5806\u662f\u5426\u4e3a\u7a7a\u3002\u5426\u5219\u5c31\u4f1a\u75af\u72c2RE\n\n1. \u4e00\u5b9a\u8981\u5f00 long long\uff08~~\u4e0d\u5f00long long\u89c1\u7956\u5b97~~\uff09\n\n### \u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<queue>\n#define LL long long\nusing namespace std;\nLL n,ans;\nLL a[300010],b[300010];\nbool vis[300010];\npriority_queue<pair<LL,int>, vector< pair<LL,int> > >q;//\u7ef4\u62a4\u4e00\u4e2a\u5927\u6839\u5806\nint main()\n{\n\tscanf(\"%lld\",&n); LL rest = 0;\n\tfor(int i = 1; i <= n; i++) scanf(\"%lld\",&a[i]);\n\tfor(int i = 1; i <= n; i++) scanf(\"%lld\",&b[i]);\n\tfor(int i = 1; i <= n; i++)\n\t{\n\t\trest += a[i];\n\t\tif(b[i] <= rest)//\u5269\u4e0b\u7684\u5546\u54c1\u6570\uff0c\u8981\u6bd4\u8fd9\u4e2a\u4eba\u4e70\u7684\u8981\u591a\uff0c\u5219\u53ef\u4ee5\u6ee1\u8db3\n\t\t{\n\t\t\tans++;\n\t\t\tq.push(make_pair(b[i],i));\n\t\t\trest -= b[i];//rest\u5b58\u5269\u4e0b\u7684\u5546\u54c1\u6570\n\t\t\tvis[i] = 1;\n\t\t}\n\t\telse if(!q.empty() && b[i] < q.top().first)//\u4e00\u5b9a\u8981\u5224\u5806\u662f\u5426\u4e3a\u7a7a\n\t\t{\n            int t = q.top().second; q.pop();//\u53bb\u6389\u4e0d\u4f18\u7684\u5806\u9876\n            rest += b[t]; rest -= b[i];\n            vis[t] = 0, vis[i] = 1;//\u5bf9\u8981\u4e70\u7684\u5546\u54c1\u6253\u6807\u6025\n            q.push(make_pair(b[i],i));\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",ans);\n\tfor(int i = 1; i <= n; i++) if(vis[i]) printf(\"%d \",i);\n\treturn 0;\n}\n```\n###  ENDING\n",
        "postTime": 1596450208,
        "uid": 248896,
        "name": "genshy",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P3545 \u3010[POI2012]HUR-Warehouse Store\u3011"
    },
    {
        "content": "--->[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P3545)\n\n---\n\n### \u9898\u76ee\u5927\u610f\n\n\u5728 $n(1 \\le n \\le 250000)$ \u5929\u4e2d\uff0c\u7ed9\u4f60\u6bcf\u5929\u5546\u54c1\u7684\u8fdb\u8d27\u91cf\u548c\u6bcf\u5929\u53ef\u80fd\u7684\u51fa\u8d27\u91cf\uff0c\u6c42\u51fa\u6700\u591a\u80fd\u6ee1\u8db3\u591a\u5c11\u5929\u7684\u53ef\u80fd\u7684\u51fa\u8d27\u91cf\u548c\u5bf9\u5e94\u7684\u65f6\u95f4\uff0c\u5546\u54c1\u53ef\u4ee5\u7d2f\u79ef\n\n---\n\n### \u601d\u8def\n\n\u4e00\u773c\u8d2a\u5fc3\n\n\u5148\u5efa\u4e00\u4e2a\u5927\u6839\u5806\u7528\u6765\u5b58\u53ef\u80fd\u7684\u5546\u54c1\u51fa\u8d27\u91cf\u548c\u5bf9\u5e94\u7684\u65f6\u95f4\uff0c\u6b63\u5e8f\u679a\u4e3e\u5929\u6570\u3002\n\n\u5bf9\u4e8e\u7b2c $i$ \u5929\uff0c\u9996\u5148\u5148\u8003\u8651\u5f53\u524d\u8d27\u7269\u662f\u5426\u80fd\u6ee1\u8db3\u5f53\u524d\u53ef\u80fd\u7684\u51fa\u8d27\u91cf\u7684\u9700\u6c42\uff1a\u5982\u679c\u6ee1\u8db3\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fdb\u5806\uff0c\u4e0d\u6ee1\u8db3\u7684\u8bdd\u5c31\u5c06\u5f53\u524d\u53ef\u80fd\u7684\u51fa\u8d27\u91cf\u4e0e\u5806\u9876\u4f5c\u6bd4\u8f83\uff0c\u8d2a\u5fc3\u7684\u5c06\u8f83\u5c0f\u7684\u53ef\u80fd\u7684\u51fa\u8d27\u91cf\u52a0\u5165\u5806\uff0c\u518d\u5c06\u5927\u7684\u8e22\u51fa\u6765\uff0c\u4ee5\u4fbf\u4ee5\u540e\u80fd\u66f4\u597d\u7684\u6ee1\u8db3\u5176\u4ed6\u5929\u6570\u7684\u51fa\u8d27\u91cf\n\n\u4ee3\u7801\u4e2d\u6709\u8be6\u7ec6\u7684\u6ce8\u91ca\n\n---\n\n### \u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define in inline\n#define ri register\n#define int long long int \n#define _123hh2 0\nusing namespace std;\nin int read()\n{\n    int x=0,f=1;char ch=getchar();\n    while(ch>'9'||ch<'0') {if(ch=='-') f=-1;ch=getchar();}\n    while(ch>='0'&&ch<='9') {x=(x<<3)+(x<<1)+(ch^48);ch=getchar();}\n    return x*f;\n}\nin void write(int x)\n{\n    if(x<0) {x=-x;putchar('-');}\n    if(x>9) write(x/10);\n    putchar(x%10+'0');\n}\nconst int maxn=250001;\nint awa[maxn];//\u7528\u6765\u5b58\u6bcf\u5929\u7684\u8fdb\u8d27\u91cf\nbool vis[maxn];//\u6807\u8bb0\u80fd\u6ee1\u8db3\u54ea\u5929\u7684\u51fa\u8d27\u91cf\npriority_queue<pair<int,int> > q;//\u5927\u6839\u5806\uff0c\u7528 pair \u5b58\u7b2c i \u5929\u7684\u51fa\u8d27\u91cf\nsigned main()\n{\n    cin.tie(NULL);cout.tie(NULL);\n    int n=read(),sum=0;\n    for(ri int i=1;i<=n;i++) awa[i]=read();\n    for(ri int i=1;i<=n;i++)\n    {\n        sum+=awa[i];//\u5f53\u524d\u5e93\u5b58\u7684\u8d27\u7269\n        int x=read();\n        if(sum>=x) q.push(make_pair(x,i)),vis[i]=1,sum-=x;//\u5982\u679c\u6ee1\u8db3\u5c31\u53ef\u4ee5\u76f4\u63a5\u8fdb\u5806\n        else\n        {\n            if(q.empty()) continue;//\u8fd9\u91cc\u5f97\u5224\u65ad\u4e00\u4e0b\uff0c\u53ef\u80fd\u5f53\u524d\u5e93\u5b58\u6bd4\u8981\u6c42\u51fa\u8d27\u91cf\u5c0f\uff0c\u5e76\u4e14\u5806\u4e3a\u7a7a\uff0c\u8fd9\u65f6\u76f4\u63a5\u5f03\u6389\u5f53\u5929\u7684\u9009\u62e9\n            if(q.top().first>x)//\u5806\u9876\u6bd4\u7b2c i \u5929\u51fa\u8d27\u91cf\u5927\uff0c\u8ba9\u5c0f\u7684\u8fdb\u5806\uff0c\u5927\u7684\u51fa\u5806\n            {\n                vis[q.top().second]=0;//\u4e4b\u524d\u7684\u5546\u54c1\u4e0d\u51fa\u4e86\uff0c\u6807\u62100\n                vis[i]=1;//\u51fa\u5f53\u524d\u7684\u5546\u54c1\uff0c\u6807\u4e3a1\n                sum+=q.top().first,sum-=x;//\u522b\u5fd8\u4e86\u66f4\u65b0\u4e00\u4e0b\u5f53\u524d\u7684\u5e93\u5b58\u5546\u54c1\n                q.pop();q.push(make_pair(x,i));\n            }\n        }\n    }\n    write(q.size()),puts(\"\");//\u73b0\u5728\u5806\u7684\u5927\u5c0f\u5c31\u662f\u80fd\u51fa\u5546\u54c1\u7684\u6700\u5927\u5929\u6570\n    for(ri int i=1;i<=n;i++) if(vis[i]) cout<<i<<\" \";//\u4f9d\u6b21\u5c06\u6807\u8bb0\u7684\u5929\u6570\u8f93\u51fa\u51fa\u6765\n    return _123hh2;\n}\n```\n",
        "postTime": 1628210590,
        "uid": 388626,
        "name": "123hh2",
        "ccfLevel": 6,
        "title": "P3545\u3010\u9898\u89e3\u3011[POI2012]HUR-Warehouse Store"
    },
    {
        "content": "\u4ee5\u4e0b\u9898\u89e3\u4e3a\u672c\u4eba\u62ff\u5230\u9898\u76ee\u7684\u601d\u7ef4\u8fc7\u7a0b\uff0c\u53ef\u4ee5\u4ed4\u7ec6\u9605\u8bfb\uff0c\u5982\u679c\u53ea\u60f3\u770b\u6b63\u89e3\u7684\u53ef\u4ee5\u4ece\u7b2c\u4e09\u6bb5\u5f00\u59cb\u9605\u8bfb\u3002\n\n[P3545 [POI2012]HUR-Warehouse Store](https://www.luogu.com.cn/problem/P3545)\n\n---\n\n\u9996\u5148\uff0c\u6211\u4eec\u770b\u5230\u9898\u76ee\u5148\u4f1a\u60f3\u5230 $01$ \u80cc\u5305\u3002\u662f\u4e2a\u6b63\u786e\u7684\u4f5c\u6cd5\uff0c\u4f46\u662f\u80af\u5b9a\u8fc7\u4e0d\u4e86\u3002\n\n\u7136\u540e\uff0c\u6211\u4eec\u8003\u8651\u5230\u8fd9\u4e00\u5b9a\u662f\u4e2a\u8d2a\u5fc3/\u63a8\u5f0f\u5b50\u7684\u9898\u76ee\u3002\n\n\u4f46\u662f\u63a8\u5f0f\u5b50\u7684\u9898\u76ee\u4e00\u822c\u7684\u7279\u6027\u5728\u8fd9\u91cc\u663e\u7136\u4e0d\u7b26\u5408(\u63a8\u5f0f\u5b50\u7684\u9898\u76ee\u4e00\u822c\u4e0d\u4f1a\u8ba9\u4f60\u9009\u62e9)\n\n\u90a3\u63a5\u4e0b\u6765\u8003\u8651\u600e\u4e48\u53bb\u8d2a\u5fc3\u3002\n\n\u7b2c\u4e00\u60f3\u6cd5\u662f\u6211\u4eec\u9009\u6700\u5c0f\u7684\u80af\u5b9a\u662f\u6700\u4f18\u7684\uff0c\u56e0\u4e3a\u5c31\u7b97\u9009\u4e86\u8fd9\u4e2a\u6700\u5c0f\u7684\u800c\u5bfc\u81f4\u5176\u4ed6\u7684\u4e0d\u53ef\u4ee5\u9009\uff0c\u90a3\u4e5f\u6700\u591a\u53ea\u80fd\u5bfc\u81f4\u4e00\u4e2a\u4e0d\u53ef\u4ee5\u9009\u3002\n\n\u56e0\u4e3a\u5982\u679c\u53ef\u4ee5\u5bfc\u81f4\u591a\u4e2a\u4e0d\u53ef\u4ee5\u9009\u7684\u8bdd\uff0c\u9009\u4e86\u6b21\u5c0f\u7684\u54ea\u4e00\u4e2a\u4e5f\u4f1a\u5bfc\u81f4\u66f4\u591a\u7684\u4e0d\u53ef\u4ee5\u9009\u3002\n\n\u6240\u4ee5\u9009\u62e9\u6700\u5c0f\u7684\u7b56\u7565\u662f\u5bf9\u7684\uff0c$sort$ \u4e00\u822c\u7684\u590d\u6742\u5ea6\u6211\u4eec\u4e5f\u53ef\u4ee5\u63a5\u53d7\uff0c\u4f46\u662f\u95ee\u9898\u6765\u4e86\uff0c\u6211\u4eec\u90a3\u4e9b\u6570\u53ef\u4ee5\u53d6\uff1f\n\n\u53d6\u5b8c\u5f53\u524d\u6700\u5c0f\u7684\uff0c\u90a3\u4e48\u5b83\u524d\u9762\u7684\u4e00\u4e9b\u6570\u8bf4\u4e0d\u5b9a\u4e0d\u53ef\u4ee5\u518d\u53bb\u3002\n\n\u90a3\u4e48\u5904\u7406\u8fd9\u4e9b\u7684\u590d\u6742\u5ea6\u5c31\u4e0d\u7a33\u5b9a\u4e86\uff0c\u53ef\u4ee5\u6784\u9020\u6570\u636e\u5361\u6389\u3002\n\n---\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u60f3\u6bcf\u5929\u4e0a\u5348\u8fdb\u7684\u8d27\u7269\u4f1a\u5bf9\u4ec0\u4e48\u6709\u5f71\u54cd\u3002\n\n\u8fd9\u4e2a\u5f88\u663e\u7136\uff0c\u5b83\u53ef\u4ee5\u5bf9\u4ed6\u540e\u9762\u7684\u6240\u6709\u6570\u4ea7\u751f\u5f71\u54cd\uff0c\u56e0\u4e3a\u5230\u8d27\u4e86\u5c31\u53ef\u4ee5\u5356\u7ed9\u522b\u4eba\u4e86\u3002\n\n\u90a3\u662f\u4e0d\u662f\u53ef\u4ee5\u8fd9\u4e48\u8003\u8651\uff0c\u4ece\u540e\u5f80\u524d\u53bb\u8dd1\uff0c\u6bcf\u6b21\u53bb\u5f53\u524d\u53ef\u4ee5\u53d6\u7684\u6700\u5c0f\u7684\u3002\n\n\u56e0\u4e3a\u4ece\u540e\u5b8c\u5168\u5c31\u53bb\u9664\u4e86\u5b83\u7684\u540e\u6548\u6027\uff0c\u6240\u6709\u6b63\u786e\u6027\u4e5f\u662f\u5bf9\u7684\u3002\n\n\u4f46\u662f\u65b0\u589e\u4e00\u4e2a\u6570 $A_i$ \u53ef\u80fd\u5f88\u5927\uff0c\u4e00\u6b21\u53ef\u4ee5\u5904\u7406\u591a\u4e2a\u6570\u3002\n\n\u90a3\u4f60\u5c31\u5fc5\u987b\u4fdd\u8bc1\u540e\u9762\u6574\u4e2a\u5e8f\u5217\u662f\u6709\u5e8f\u7684\uff0c\u800c\u4e14\u8fd8\u8981\u7ef4\u62a4\u4e00\u4e2a\u540e\u7f00\u548c\u3002\n\n\u6211\u4eec\u8003\u8651\u7ef4\u62a4\u8fd9\u4e2a\u6709\u5e8f\u6570\u5217\u7684\u590d\u6742\u5ea6\u6700\u4f18\uff0c\u90a3\u5c31\u662f\u5f80\u524d\u52a0\u4e00\u4e2a\u6570\uff0c\u5c31\u628a\u8fd9\u4e2a\u6570\u52a0\u5165\u5230\u6570\u5217\u91cc\u9762\u53bb\u3002\n\n\u8fd9\u6837\u7684\u590d\u6742\u5ea6\u6700\u52a3\u662f $O(n^2)$ \u7684\uff0c\u8fd8\u662f\u4f1a\u70b8\u3002\n\n---\n\n\u90a3\u6211\u4eec\u662f\u4e0d\u662f\u65e0\u6cd5\u4ece\u4e00\u4e9b\u987a\u5e8f\u4e0a\u53bb\u627e\u5230\u4f18\u5316\u7684\u7a7a\u95f4\u3002\n\n\u6211\u4eec\u5c31\u53ef\u4ee5\u8003\u8651\u53bb\u83bd\uff0c\u7136\u540e\u652f\u6301\u64a4\u9500\uff0c\u8fd9\u6837\u4e5f\u53ef\u4ee5\u4fdd\u8bc1\u6b63\u786e\u6027\u3002\n\n\u5177\u4f53\u7684\u8bdd\u662f\u8fd9\u6837\u5b9e\u73b0\u7684\uff1a\n\n\u4ece\u524d\u5f80\u540e\u8bfb\u5165\uff0c\u6bcf\u6b21\u53ef\u4ee5\u53d6\u5c31\u53d6\uff0c\u5e76\u4e14\u628a\u8fd9\u4e9b\u53d6\u8fc7\u7684\u8bb0\u5f55\u5728\u5355\u8c03\u961f\u5217\u4e2d\u3002\n\n\u5982\u679c\u5f53\u524d\u8fd9\u4e2a\u653e\u4e0d\u4e0b\uff0c\u6211\u4eec\u5c31\u628a\u4ed6\u548c\u961f\u5217\u9996\u7684\u5143\u7d20\u505a\u6bd4\u8f83\uff0c\u4e0d\u65ad\u66f4\u65b0\u5373\u53ef\u3002\n\n\u6839\u636e\u6211\u4eec\u7684\u7b2c\u4e8c\u4e2a\u60f3\u6cd5\uff0c\u6bcf\u4e2a\u524d\u9762\u53d6\u8fc7\u7684\u5982\u679c\u5f39\u51fa\u6765\uff0c\u56e0\u4e3a\u4ed6\u7684\u540e\u6548\u6027\uff0c\u80af\u5b9a\u662f\u53ef\u4ee5\u670d\u52a1\u540e\u9762\u7684\u3002\n\n\u90a3\u4e48\u5c31\u7ed3\u675f\u4e86\u3002\n\n### $Code$\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long\nconst int maxn = 250010;\nint n, sum, ans, book[maxn];\npriority_queue<pair<int, int>, vector<pair<int, int> > > Q;\nstruct node {\n    int a, b, id;\n} e[maxn];\nint cmp(node x, node y) {\n    return x.b < y.b;\n}\nsigned main() {\n    scanf(\"%lld\", &n);\n    for(int i = 1; i <= n; ++ i) {\n        scanf(\"%lld\", &e[i].a);\n        e[i].id = i;\n    }\n    for(int i = 1; i <= n; ++ i) {\n        scanf(\"%lld\", &e[i].b);\n    }\n    for(int i = 1; i <= n; ++ i) {\n        sum += e[i].a;\n        if(e[i].b < sum) {\n            Q.push(make_pair(e[i].b, e[i].id));\n            ++ ans;\n            book[i] = 1;\n            sum -= e[i].b;\n        }\n        else if(! Q.empty() && Q.top().first > e[i].b) {\n            book[Q.top().second] = 0;\n            book[i] = 1;\n            sum += e[Q.top().second].b - e[i].b;\n            Q.pop(); Q.push(make_pair(e[i].b, e[i].id));\n        }\n    }\n    printf(\"%lld\\n\", ans);\n    for(int i = 1; i <= n; ++ i) {\n        if(book[i]) {\n            printf(\"%d \", i);\n        }\n    }\n    return 0;\n}\n```\n\nPs:\u672c\u4eba\u77e5\u9053\u9898\u89e3\u524d\u4e0d\u5e94\u8be5\u653e\u9519\u8bef\u4f5c\u6cd5\uff0c\u4f46\u662f\u89c9\u5f97\u8fd9\u4e9b\u9519\u8bef\u4f5c\u6cd5\u4e5f\u662f\u4e00\u4e9b\u89e3\u9898\u7684\u601d\u8def\uff0c\u8fd9\u91cc\u7528\u4e0d\u4e0a\uff0c\u5176\u4ed6\u5730\u65b9\u53ef\u80fd\u7528\u5230\u4e0a\uff0c\u671b\u6279\u51c6\u3002",
        "postTime": 1603013491,
        "uid": 155767,
        "name": "Tarsal",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3545"
    },
    {
        "content": "\u8fd8\u6ca1\u6709\u7ebf\u6bb5\u6811\u7684\u9898\u89e3\uff0c\u6211\u6765\u53d1\u4e00\u7bc7\u3002\n\n\n\u6839\u636e\u5957\u8def\uff0c\u8003\u8651\u8d2a\u5fc3\u3002\n\n\n\u663e\u7136\u6211\u4eec\u5e94\u8be5\u4f18\u5148\u9009\u62e9\u4e70\u7684\u6570\u91cf\u5c11\u7684\u5ba2\u6237\uff0c\u56e0\u4e3a\u6240\u6709\u5ba2\u6237\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u90fd\u662f$1$\uff0c\u6570\u91cf\u5c11\u7684\u5ba2\u6237\u53ef\u4ee5\u4ee5\u66f4\u5c0f\u7684\u4ee3\u4ef7\u5bf9\u7b54\u6848\u4ea7\u751f\u8d21\u732e\u3002\n\n\n**\u5b9a\u4e49**$:\\operatorname{Sum_i}=\\sum\\limits_{j=1}^ia_j$\n\n\u8003\u8651\u5230\u8d27\u7269\u53ef\u4ee5\u56e4\u79ef\uff0c\u663e\u7136\u53ea\u8981$\\mathrm{Sum_{i}}\\ge b_i$\u5373\u53ef\u641e\u5b9a\u7b2c$i$\u4e2a\u4eba\u3002\n\n\n\u641e\u5b9a\u7b2c$i$\u4e2a\u4eba\u4f1a\u5bf9\u6d88\u8017\u6389$b_i$\u4e2a\u8d27\u7269\uff0c\u8fd9\u5c06\u4f7f$\\operatorname{Sum_i}\\cdots\\operatorname{Sum_n}$\u51cf\u5c11$b_i$\u3002\n\n\u4f46\u540c\u65f6\u8003\u8651\u5230$Sum_i$\u975e\u8d1f\uff0c\u6240\u4ee5\u9009\u7b2c$i$\u4e2a\u4eba\u4e4b\u524d\u8981\u67e5\u8be2$\\operatorname{Sum_i}\\cdots\\operatorname{Sum_n}$\u662f\u5426\u90fd\u5927\u4e8e$b_i$\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ea\u7528\u7ef4\u62a4\u4e00\u4e2a\u652f\u6301\u533a\u95f4\u4fee\u6539\u548c\u533a\u95f4\u67e5\u8be2\u6700\u5c0f\u503c\u7684\u7ebf\u6bb5\u6811\u5373\u53ef\u3002\n\n\n$Code:\\mathrm{O(N\\ log\\ N)}$\n```cpp\n#include<bits/stdc++.h>\n#define int long long \n#define N 250005\n#define rep(i,a,b) for(int i=a;i<=b;i++)\nusing namespace std;\nstruct node{\n\tint l,r,val,add;\n}a[N<<2];\n#define ls (x<<1)\n#define rs (ls|1)\n#define A a[x].add\n#define L a[x].l\n#define R a[x].r\n#define S a[x].val\nstruct point{\n\tint val,day;\n\tbool operator<(const point o)const{\n\t\tif(val^o.val)return val<o.val;\n\t\treturn day<o.day;\n\t}\n}b[N];\nint s[N],n;\nvoid updata(int x){\n\tS=min(a[ls].val,a[rs].val)+A;\n}\nvoid build(int x,int l,int r){\n\tL=l;R=r;A=0;\n\tif(l==r){\n\t\tS=s[l];return;\n\t}\n\tint mid=(l+r)>>1;\n\tbuild(ls,l,mid);\n\tbuild(rs,mid+1,r);\n\tupdata(x);\n}\nvoid pushup(int x,int val){\n\tS+=val;A+=val;\n}\nvoid down(int x){\n\tif(!A)return;\n\tpushup(ls,A);pushup(rs,A);A=0;\n}\nvoid change(int x,int l,int r,int val){\n\tif(L>=l&&R<=r)pushup(x,val);\n\telse{\n\t\tdown(x);\n\t\tint mid=(L+R)>>1;\n\t\tif(mid>=l)change(ls,l,r,val);\n\t\tif(mid<r)change(rs,l,r,val);\n\t\tupdata(x);\n\t}\n}\nint ask(int x,int l,int r){\n\tif(L>=l&&R<=r)return S;\n\tdown(x);\n\tint mid=(L+R)>>1,mn=0x7fffffffffffffff;\n\tif(mid>=l)mn=min(mn,ask(ls,l,r));\n\tif(mid<r)mn=min(mn,ask(rs,l,r));\n\treturn mn;\n}\nint ans;\nvector<int>ed;\n//Program by Inf_Voltage\nsigned main(){\n\tscanf(\"%lld\",&n);\n\trep(i,1,n)scanf(\"%lld\",&s[i]),s[i]+=s[i-1];\n\tbuild(1,1,n);\n\trep(i,1,n)scanf(\"%lld\",&b[i].val),b[i].day=i;\n\tsort(b+1,b+n+1);\n\trep(i,1,n){\n\t\tint x=b[i].val,y=b[i].day;\n\t\tif(ask(1,y,n)>=x){\n\t\t\tans++;ed.push_back(y);\n\t\t\tchange(1,y,n,-x);\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",ans);\n\tsort(ed.begin(),ed.end());\n\tfor(int i=0;i<ed.size();i++)printf(\"%lld \",ed[i]);\n\tputchar('\\n');\n\treturn 0;\n}\n```",
        "postTime": 1581691690,
        "uid": 119261,
        "name": "7KByte",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3545 \u3010[POI2012]HUR-Warehouse Store\u3011"
    },
    {
        "content": "   \u4e00\u5f00\u59cb\u6211\u770b\u5230\u8fd9\u9898\u65f6\uff0c\u4e0b\u610f\u8bc6\u53cd\u5e94\u3002\u54c7\uff0c\u6c34\u9898\uff0c\u80fd\u53d6\u5c31\u53d6\u4e0d\u5c31\u884c\u4e86\u3002\n  \n   \u4f46\u5f88\u660e\u663e\uff0c\u5f53\u524d\u9762\u5b58\u5728\u4e00\u4e2a\u5f88\u5927\u7684\u6570\u65f6\uff0c\u53ef\u80fd\u8ba9\u540e\u9762\u8bb8\u591a\u4e0d\u80fd\u4e70\u3002\n  \n   \u4f46\u6211\u4eec\u4e0d\u5fc5\u66f4\u6362\u8d2a\u5fc3\u7b56\u7565 ~~\u5426\u5219\u4f60\u600e\u4e48\u8d2a\u5fc3~~ \u8003\u8651\u52a8\u6001\u7ef4\u62a4\u524d\u9762\u5df2\u7ecf\u9009\u62e9\u4e70\u4e86\u7684\u7269\u54c1\u7684\u96c6\u5408\u3002\n   \n   \u6211\u4eec\u4f9d\u65e7\u9009\u62e9\u80fd\u4e70\u5c31\u4e70\uff0c\u5047\u8bbe\u4f60\u4e0d\u80fd\u4e70\u4e86\uff0c\u4f60\u8003\u8651\u5f53\u524d\u7269\u54c1\u7684\u4ef7\u683c\u662f\u5426\u4f4e\u4e8e\u5df2\u7ecf\u4e70\u4e86\u7684\u7269\u54c1\u7684\u6700\u9ad8\u4ef7\u683c\uff0c\u5982\u679c\u4f4e\u4e8e\u5219\u66ff\u6362\uff0c\u5bf9\u4f59\u989d\u8fdb\u884c\u66f4\u65b0\u3002\n   \n   \u5408\u6cd5\u6027\u6211\u4e5f\u4e0d\u4f1a\u5f88\u4e25\u8c28\u7684\u8bc1\u660e\u3002\u4f46\u663e\u7136\u5728\u6700\u4f18\u9009\u62e9\u4e0b\u6211\u4eec\u65e0\u6cd5\u540c\u65f6\u4e70\u4e0b\u8fd9\u4e24\u4ef6\u5546\u54c1\uff0c\u800c\u9009\u62e9\u4e70\u4e0b\u4fbf\u5b9c\u7684\u4f1a\u8ba9\u6211\u4eec\u6709\u66f4\u591a\u7684\u4f59\u989d\u4e70\u5269\u4e0b\u7684\u5546\u54c1\u3002\n   \n```\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<string>\n#include<cstring>\n#include<cmath>\n#include<queue>\nusing namespace std;\ntypedef long long ll;\nconst ll size=3e5+10;\nstruct node{ll a,b;}c[size];\npriority_queue<node> q;\nll n,ans,res;\nbool operator<(const node&a,const node&b){return a.a<b.a;}\ninline ll read(){\n\tll x=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=(x<<1)+(x<<3)+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nint main(){\n\tn=read();\n\tfor(ll i=1;i<=n;i++) c[i].a=read();\n\tfor(ll i=1;i<=n;i++) c[i].b=read();\n\tfor(ll i=1;i<=n;i++){\n\t\tres+=c[i].a;\n\t\tif(res>=c[i].b){\n\t\t\tnode now;res-=c[i].b;ans++;\n\t\t\tnow.a=c[i].b;now.b=i;q.push(now);\n\t\t}\n\t\telse{\n\t\t\tif(q.size()&&q.top().a>c[i].b){\n\t\t\t\tres+=q.top().a-c[i].b;\n\t\t\t\tnode now;q.pop();\n\t\t\t\tnow.a=c[i].b;now.b=i;q.push(now);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",ans);\n\twhile(q.size()){\n\t\tprintf(\"%lld \",q.top().b);q.pop();\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1543327337,
        "uid": 53032,
        "name": "\u5c0f\u5858\u7a7a\u660e",
        "ccfLevel": 0,
        "title": "P3545 [POI2012]HUR-Warehouse Store"
    },
    {
        "content": "\u8d2a\u5fc3\n\n\u7b2ci\u5929\u8fdb\u7684\u8d27\u53ea\u80fd\u7ed9\u7b2ci\u5929\u53ca\u4ee5\u540e\u7684\u4eba\n\n\u53cd\u7740\u8dd1\u4e00\u904d\uff0c\u6bcf\u5929\u90fd\u628a\u5c3d\u53ef\u80fd\u591a\u7684\u8d27\u7ed9\u540e\u9762\u5c3d\u53ef\u80fd\u591a\u7684\u4eba\n```\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<queue>\n#include<vector>\n#define maxn 2000005\n#define ll long long\n#define for(i,a,b) for(int i=a;i<=b;i++)\nusing namespace std;\n\nstruct node{int v,id;\nbool operator <(const node y)const\n\t{return v>y.v;}};\nll a[maxn],b[maxn],ans[maxn],n,m; \npriority_queue<node>q;\nvoid pre()\n{\n\tscanf(\"%d\",&n);\n\tfor(i,1,n)scanf(\"%d\",&a[n-i+1]);\n\tfor(i,1,n)scanf(\"%d\",&b[n-i+1]);\n}\n\nint main()\n{\n\tpre();\n\tint len=0;ll sum=0;\n\tfor(i,1,n)\n\t{\n\tq.push((node){b[i],n-i+1});\n\t\twhile(!q.empty()&&a[i]>=q.top().v)\n\t\t{\t\n\t\t    a[i]-=q.top().v;\n\t\t    ans[++len]=q.top().id;\n\t\t\tq.pop() ;\n\t\t }\n\t\tif(!q.empty()){node t;t.v=q.top().v-a[i];t.id=q.top().id;q.pop();q.push(t);}\n\t}\n\tprintf(\"%d\\n\",len);\n\tsort(ans+1,ans+len+1);\n\tfor(i,1,len)printf(\"%d \",ans[i]);\n\treturn 0;\n}\n\n\n",
        "postTime": 1543074364,
        "uid": 118037,
        "name": "Yajnun",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3545 \u3010[POI2012]HUR-Warehouse Store\u3011"
    },
    {
        "content": "\u9898\u89e3\u6e05\u4e00\u8272\u7684\u4f18\u5148\u961f\u5217...\n\n\u6211\u7528\u4e86\u5e76\u67e5\u96c6+\u6811\u72b6\u6570\u7ec4...\n\n\u770b\u5230\u9898\u5c31\u5bb9\u6613\u60f3\u5230\u6700\u5c0f\u7684\u80af\u5b9a\u6700\u5148\u9009.\n\n\u540c\u65f6\u8981\u6ee1\u8db3\u5f53\u524d\u5269\u4f59\u7684\u524d\uff49\u4e2a\u5fc5\u987b\u81f3\u5c11\u5269\u4e0b\u8fd9\u4e48\u591a\n\n\u6811\u72b6\u6570\u7ec4\u7ef4\u62a4\u5373\u53ef.\n\nc++\u4ee3\u7801\u5982\u4e0b\uff1a\n```\n#include<bits/stdc++.h>\n#define rep(i,x,y) for(register int i = x;i <= y; ++ i)\n#define repd(i,x,y) for(register int i = x;i >= y; -- i)\ntypedef long long ll;\nusing namespace std;\ntemplate<typename T>inline void read(T&x)\n{\n\tchar c;int sign = 1;x = 0;\n\tdo { c = getchar(); if(c =='-') sign = -1; }while(!isdigit(c));\n\tdo { x = x * 10 + c - '0'; c = getchar(); }while(isdigit(c));\n\tx *= sign;\n}\n\nconst int N = 3e5 + 50;\nint id[N],a[N],n;\nll t[N];\nconst bool cmp(int x,int y) { return a[x] < a[y]; }\n#define lowbit(x) (x & -x)\ninline void add(int x,int w)\n{\n\tif(!x) return;\n\tfor(register int i = x;i <= n; i += lowbit(i))\n\t\tt[i] += w;\n}\ninline ll find(int x)\n{\n\tll ans = 0;\n\tfor(register int i = x; i ; i -= lowbit(i))\n\t\tans += t[i];\n\treturn ans;\n}\n\nint p[N];\nint get_fa(int x) { return p[x] == x ? x : p[x]=get_fa(p[x]); }\nint ans[N],num;\n\nint main()\n{\n\tfreopen(\"6.in\",\"r\",stdin);\n\tread(n);\n\trep(i,1,n)\n\t{\n\t\tint x;\n\t\tread(x);\n\t\tadd(i,x);\n\t}\n\trep(i,1,n)\n\t{\n\t\tread(a[i]);\n\t\tid[i] = i; p[i] = i;\n\t}\n\tsort(id+1,id+1+n,cmp);\n\trep(i,1,n)\n\t\tif(find(id[i]) >= a[id[i]])\n\t\t{\n\t\t\tans[++num] = id[i];\n\t\t\tint j = id[i],w = a[id[i]];\n\t\t\twhile(w)\n\t\t\t{\n\t\t\t\tj = get_fa(j);\t\n\t\t\t\tint k = find(j)-find(j-1);\n\t\t\t\tadd(j,max(-w,-k));\n\t\t\t\tif(w >= k) p[j] = j-1;\n\t\t\t\tw = max(0,w-k);\n\t\t\t}\n\t\t}\n\tprintf(\"%d\\n\",num);\n\tsort(ans+1,ans+1+num);\n\trep(i,1,num) printf(\"%d \",ans[i]);\n\treturn 0;\n}\n```",
        "postTime": 1540544542,
        "uid": 23087,
        "name": "Tgotp",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3545 \u3010[POI2012]HUR-Warehouse Store\u3011"
    }
]