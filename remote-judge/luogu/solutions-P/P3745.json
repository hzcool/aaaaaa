[
    {
        "content": "\u770b\u4e86\u770b\u697c\u4e0b\u9898\u89e3\u597d\u591a\u90fd\u662f\u4e09\u5206\u5927\u4f6c+\u4e00\u5806\u51fd\u6570\u7684\u5206\u6790qwq\n\n\u6ce8\u610f\u5230\u672c\u9898\u6709\u4e00\u4e2a\u7279\u70b9\uff0c\u5b66\u751f\u7684\u4e0d\u6109\u5feb\u5ea6\u53ea\u4e0e\u6700\u665a\u516c\u5e03\u6210\u7ee9\u7684\u65f6\u95f4\u6709\u5173\n\n\u770b\u770b\u9898\u76ee\u6570\u636e\u8303\u56f4\uff0cti,bi<=10^5\n\n\u6240\u4ee5\u5f88\u81ea\u7136\u5730\u60f3\u5230\u4e00\u79cd\u601d\u8def\n\n## \u679a\u4e3e\u6700\u665a\u516c\u5e03\u6210\u7ee9\u7684\u65f6\u95f4\n\n\u5047\u8bbe\u6211\u4eec\u5f53\u524d\u679a\u4e3e\u7684\u6700\u665a\u516c\u5e03\u65f6\u95f4\u4e3at,\u90a3\u4e48\u6211\u4eec\u663e\u7136\u8981\u628a\u6240\u4ee5\u5927\u4e8et\u7684\u8bfe\u7a0b\u516c\u5e03\u65f6\u95f4\u8c03\u4e3at\u5373\u53ef\u3002\n\n\u6b64\u65f6\u6839\u636eA\u4e0eB\u7684\u5173\u7cfb\u5206\u7c7b\u8ba8\u8bba:\n\n\u82e5A>B \u663e\u7136\u5c06\u5927\u4e8et\u7684\u8bfe\u7a0b\u5168\u90e8\u4f7f\u7528\u64cd\u4f5c2\u8c03\u4e3at\u66f4\u4f18\n\n\u82e5A<B \u663e\u7136\u80fd\u4f7f\u7528\u64cd\u4f5c1\u5219\u4f7f\u7528\uff0c\u5f53\u4e0d\u80fd\u4f7f\u7528\uff08\u516c\u5e03\u65f6\u95f4\u5c0f\u4e8et\u7684\u8bfe\u7a0b\u5168\u90e8\u56e0\u64cd\u4f5c1\u5bfc\u81f4\u516c\u5e03\u65f6\u95f4\u63a8\u8fdf\u5230t\uff09\u65f6\uff0c\u53ea\u80fd\u5c06\u5269\u4e0b\u5927\u4e8et\u7684\u8bfe\u7a0b\u4f7f\u7528\u64cd\u4f5c2\u5904\u7406\n\nA=B\u968f\u610f\n\n\u5bf9\u4e8eC\uff0c\u56e0\u4e3a\u6700\u665a\u516c\u5e03\u65f6\u95f4\u4e3at\uff0c\u7edf\u8ba1\u4e00\u4e0b\u5bf9\u4e0d\u6109\u5feb\u5ea6\u7684\u8d21\u732e\u5373\u53ef\n\n\u5177\u4f53\u5b9e\u73b0\u75283\u4e2a\u524d\u7f00\u548c\uff0c\u5bf9\u6240\u6709\u60c5\u51b5\u53d6min\n\n\u65f6\u95f4\u590d\u6742\u5ea6O\uff08max(bi)\uff09  ~~\u6211\u662f\u76f4\u63a5\u4ece10^5\u5f00\u59cb\u679a\u4e3e\u7684~~\n\n\u8fd9\u79cd\u505a\u6cd5\u4e0d\u5f00unsigned long long \u5c45\u7136\u4f1a\u6302\u4e24\u4e2a\u70b9qwq\n\n```cpp\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<cstdio>\nusing namespace std;\nconst int N=100000+5;\ntypedef unsigned long long ll;\nconst ll inf=100000000000000000ll;\nll bac[N],bac2[N],ti[N],bi[N],A,B,C,n,m;\nint main(){\n\tscanf(\"%lld%lld%lld\",&A,&B,&C);\n\tscanf(\"%lld%lld\",&n,&m);\n\tll sum1=0,t1=0,sum2=0,t2=0,sum3=0,t3=0;\n\tfor(int i=1;i<=n;i++)\n\tscanf(\"%lld\",&ti[i]),bac2[ti[i]]++,sum3+=ti[i],t3++;\n\tfor(int i=1;i<=m;i++)\n\tscanf(\"%lld\",&bi[i]),bac[bi[i]]++,sum2+=bi[i],t2++;\n\tll ans=inf;\n\tfor(ll i=100000;i>=1;i--){\n\t\tsum1+=i*bac[i],t1+=bac[i];\n\t\tsum2-=i*bac[i],t2-=bac[i];\n\t\tsum3-=i*bac2[i],t3-=bac2[i];\n\t\tif(!sum1)continue;\n\t\tll tep=0;\n\t\tif(A<B){\n\t\t\tll LQ1=sum1-t1*i,LQ2=t2*i-sum2;\n\t\t\ttep+=min(LQ1,LQ2)*A;\n\t\t\tLQ1-=min(LQ1,LQ2);\n\t\t\tif(LQ1)tep+=LQ1*B;\n\t\t}\n\t\telse {\n\t\t\tll LQ1=sum1-t1*i;\n\t\t\ttep+=LQ1*B;\n\t\t} \n\t\ttep+=(t3*i-sum3)*C;\n\t\tans=min(ans,tep);\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n\n",
        "postTime": 1526347544,
        "uid": 41950,
        "name": "\u6cc5\u837c",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    },
    {
        "content": "\u7a0d\u5fae\u5206\u6790\u4e86\u4e00\u4e0b\u4e09\u5206\u7684\u6b63\u786e\u6027\uff0c\u5e76\u7528\u4e09\u5206+\u524d\u7f00\u548c\u7684\u65b9\u5f0f\u628a$O(m\\log m)$\u4f18\u5316\u5230\u4e86$O(m+\\log m)$\uff0c\u8868\u793a\u74f6\u9888\u5728\u4e8e\u8f93\u5165\u2026\u2026\n\n**[\u535a\u5ba2\u4f20\u9001\u95e8](https://www.wjyyy.top/2818.html)**\n\n\n## \u9898\u89e3\uff1a\n\n\u9996\u5148\u5206\u6790\u4e00\u4e0b\u672c\u9898\u7684\u6a21\u578b\u3002\u53ef\u4ee5\u60f3\u8c61\u6210\u4e00\u4e2a\u6728\u6876\u6548\u5e94\uff0c\u5373\u201c**\u77ed\u677f**\u201d\u7684\u6765\u6e90\u3002\n\n![img](http://www.wjyyy.top/wp-content/uploads/2018/12/201812091729.png)\n\n\u5982\u56fe\uff0c\u5373\u4f7f\u6700\u5feb\u6539\u5b8c\u5377\u5b50\u7684\u8bfe\u7a0b\u7528\u65f6\u4e3a$0$\uff0c\u5b83\u4e5f\u9700\u8981\u7b49\u5f85\u6700\u6162\u6539\u5b8c\u5377\u5b50\u7684\u8bfe\u7a0b\u3002\u56e0\u6b64\u5728\u6539\u5377\u7684\u4eba\u529b\u5b9a\u4e0b\u6765\u4e4b\u540e\uff0c**\u5168\u90e8\u8bfe\u7a0b**\u6539\u5377\u7ed3\u675f\u7684\u65f6\u95f4\u662f**\u552f\u4e00**\u7684\u3002\u65e2\u7136\u4e0d\u6109\u5feb\u5ea6\u662f\u7531\u4eba\u529b\u51b3\u5b9a\u7684\uff0c\u4eba\u529b\u7684\u6539\u53d8\u4e5f\u51b3\u5b9a\u4e86\u5b8c\u6210\u7684\u65f6\u95f4\u3002\n\n\u56e0\u6b64\u6211\u4eec\u5c1d\u8bd5\u786e\u5b9a\u4e00\u4e2a\u7ed3\u675f\u65f6\u95f4\uff0c\u8fd9\u6837\u518d\u8d2a\u5fc3\u5730\u5206\u914d\u4eba\u529b\uff0c\u5c31\u53ef\u4ee5\u6c42\u51fa\u4ee5\u8fd9\u4e2a\u65f6\u95f4\u7ed3\u675f\u7684\u6700\u5c0f\u4e0d\u6109\u5feb\u5ea6\u3002\n\n![img](http://www.wjyyy.top/wp-content/uploads/2018/12/201812091902.png)\n\n\u865a\u7ebf\u6b64\u65f6\u662f**\u8981\u6c42\u6539\u5b8c\u5377\u5b50\u7684\u65f6\u95f4**\uff0c\u90a3\u4e48\u5728\u865a\u7ebf\u53f3\u8fb9\u7684\u65f6\u95f4\u5c31\u9700\u8981\u901a\u8fc7\u8c03\u5ea6\u8001\u5e08\u6216\u8005\u589e\u52a0\u8001\u5e08\u6765\u5f25\u8865\u3002\u9996\u5148\u5224\u65ad\u662f\u5426\u6709$A\\le B$\uff0c\u5982\u679c\u662f\uff0c\u5219\u865a\u7ebf\u5de6\u8fb9\u7684\u7a7a\u9699\u90fd\u53ef\u4ee5\u62ff\u6765\u586b\u8865\u865a\u7ebf\u53f3\u8fb9\u7684\u65f6\u95f4\u6761\uff0c\u5269\u4e0b\u7684\uff08\u82e5$A>B$\uff0c\u5219\u5269\u4e0b\u7684\u5c31\u8fd8\u662f\u539f\u6765\u90a3\u4e48\u591a\uff09\u9700\u8981\u62ff$B\\times$\u5929\u6570\u6765\u5f25\u8865\u3002\u518d\u6839\u636e\u5b66\u751f\u7684\u9700\u8981\uff0c\u628a\u865a\u7ebf\u5de6\u8fb9\u7684\u6a59\u8272\u7ebf\u6761\u5230\u865a\u7ebf\u7684\u8ddd\u79bb\u548c\u90fd\u7edf\u8ba1\u51fa\u6765\uff0c\u4e58\u4e0a$C$\uff0c\u5c31\u662f\u6211\u4eec\u628a\u7ed3\u675f\u65f6\u95f4\u5b9a\u5728\u865a\u7ebf\u4f4d\u7f6e\u7684\u4e0d\u6109\u5feb\u5ea6\u3002\n\n![img](http://www.wjyyy.top/wp-content/uploads/2018/12/201812091911.png)\n\n\u6211\u4eec\u77e5\u9053\u4e86\u8fd9\u4e9b\uff0c\u5b9e\u9645\u4e0a\u5c31\u53ef\u4ee5\u505a\u8fd9\u4e2a\u9898\u4e86\uff0c\u7528\u4e24\u90e8\u5206\u524d\u7f00\u548c\u9884\u5904\u7406\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u65f6\u95f4\u5c31\u53ef\u4ee5\u4ece$max\\{b_i\\}$\u5411\u524d\u679a\u4e3e\u4e86\u3002\u4e0d\u8fc7\u5bb3\u6015\u524d\u7f00\u548c\u51fa\u95ee\u9898\u7684\u8bdd\uff0c\u53ef\u4ee5\u60f3\u60f3\u4e09\u5206\uff0c\u6b64\u65f6\u8981\u8bc1\u4e0d\u6109\u5feb\u5ea6\u662f\u5355\u5cf0\u7684\u3002~~\u4e09\u5206\u597d\u50cf\u4e0d\u6bd4\u524d\u7f00\u548c\u597d\u5199\u5230\u54ea\u53bb\u3002~~\n\n\u5047\u8bbe\u6211\u4eec\u73b0\u5728\u6709\u6700\u4f18\u89e3$x=t$\uff0c\u90a3\u4e48\u5bf9\u4e8e$x+a(a>0)$\u6765\u8bf4\uff0c\u4e00\u5b9a\u6709$ans_{x+a}>ans_x$\u3002\n\n\u7406\u7531\u662f\u968f\u7740\u6539\u5377\u7ed3\u675f\u65f6\u95f4\uff08\u865a\u7ebf\uff09\u7684\u589e\u52a0\uff0c\u51fa\u73b0\u5728\u865a\u7ebf\u4ee5\u5de6\u7684\u6a59\u7ebf\u4f1a\u5728\u4e2a\u6570\u548c\u8ddd\u79bb\u4e0a\u90fd\u4e0d\u65ad\u589e\u52a0\uff0c\u5c3d\u7ba1\u7531$A,B$\u4ea7\u751f\u7684\u4e0d\u6109\u5feb\u5ea6\u4f1a\u51cf\u5c0f\uff0c\u4f46\u53ea\u662f\u676f\u6c34\u8f66\u85aa\uff0c\u51b5\u4e14\u8fd9\u4e2a\u51cf\u5c0f\u7684\u5e45\u5ea6\u4e5f\u4f1a\u8d8a\u6765\u8d8a\u5c0f\uff0c\u6700\u540e\u8d8b\u8fd1\u4e8e$0$\u3002\u53ef\u80fd\u4f1a\u6709\u4eba\u62c5\u5fc3\u8fd9\u4e2a\u4e0d\u6109\u5feb\u5ea6\u51cf\u5c0f\u5f97\u6bd4$C$\u90e8\u5206\u589e\u52a0\u5f97\u5feb\uff0c\u5982\u679c\u5b58\u5728\u67d0\u89e3\u6bd4\u6700\u4f18\u89e3\u66f4\u4f18\uff0c\u5b83\u4e00\u5b9a\u4e0e\u6700\u4f18\u89e3\u76f8\u90bb\uff0c\u65e2\u7136\u76f8\u90bb\u5c31\u4f1a\u4e00\u5b9a\u88ab\u4e09\u5206\u8fc7\u7a0b\u66f4\u65b0\u5230\u3002\n\n\u5bf9\u4e8e$x-a$\u540c\u7406\uff0c$A,B$\u4ea7\u751f\u8d21\u732e\u589e\u52a0\u7684\u5e45\u5ea6\u4f1a\u8d8a\u6765\u8d8a\u5927\uff0c\u800c$C$\u4ea7\u751f\u7684\u8d21\u732e\u5e45\u5ea6\u4f1a\u8d8a\u6765\u8d8a\u5c0f\u3002\u56e0\u6b64\u4e09\u5206\u7684\u6b63\u786e\u6027\u53ef\u4ee5\u4fdd\u8bc1\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u6709\u4e86$O(m\\log b_i)$\u7684\u4f18\u79c0\u4e09\u5206\u89e3\u6cd5\u3002\u518d\u5728\u4e09\u5206\u5185\u90e8\u4f7f\u7528\u524d\u7f00\u548c\uff0c\u5c31\u53ef\u4ee5\u505a\u5230$O(m+\\log b_i)$\u4e86~~\u597d\u795e\u7ecf\u554a~~\u3002\n\n\u6ce8\u610f\u8981\u7279\u5224$C_i=10^{16}$\u7684\u60c5\u51b5\uff0c\u8fd9\u79cd\u60c5\u51b5\u5c31\u7b97\u5168\u90e8\u8865\u5145\u8001\u5e08\u4e5f\u6bd4\u8ba9\u5b66\u751f\u4e0d\u6ee1\u610f\u4f18\uff0c\u56e0\u6b64\u76f4\u63a5\u8d2a\u5fc3\u51b3\u7b56\u600e\u6837\u8c03\u5ea6\u8001\u5e08\u3002\n\n## Code\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#define ll long long\n#define N 100005\nll read()\n{\n    ll x=0;\n    char ch=getchar();\n    while(ch<'0'||ch>'9')\n        ch=getchar();\n    while(ch>='0'&&ch<='9')\n    {\n        x=x*10+ch-'0';\n        ch=getchar();\n    }\n    return x;\n}\nll b[N],sum[N];//\u6709\u591a\u5c11\u4eba\u671f\u671b\u5728\u7b2ci\u5929\u4e4b\u524d\u51fa\u6210\u7ee9\nll sum1[N];//\u524d\u9762\u4eba\u7684\u5929\u6570\u4e4b\u548c\nll Sum[N],Sum1[N];//\u8fd9\u91cc\u7ef4\u62a4\u7684\u662f\u51fa\u6210\u7ee9\u65f6\u95f4\u524d\u7f00\u548c\nll x,y,z,n,m;\nll f[N];//\u8bb0\u5fc6\u5316\u5728\u7b2ci\u5929\u51fa\u6210\u7ee9\u7684\u4ee3\u4ef7\uff08\u51cf\u5c0f\u4e09\u5206\u5e38\u6570\uff09\nll calc(int u)//\u8981\u6c42\u5728\u7b2cu\u5929\u51fa\u6210\u7ee9\n{\n    if(f[u]!=-1)\n        return f[u];\n    f[u]=0;\n    ll r=0,t=0;//r\u8868\u793a\u6709\u591a\u5c11\u4f59\u529b t\u8868\u793a\u8fd8\u9700\u8981\u591a\u5c11\n    r=Sum[u]*u-Sum1[u];\n    t=Sum1[N-1]-Sum1[u]-(Sum[N-1]-Sum[u])*u;\n    //\u2191O(1) \u2193O(m)\n    /*for(int i=1;i<=m;++i)\n        if(b[i]>u)\n            t+=b[i]-u;\n        else\n            r+=u-b[i];\n    */\n    //\u9996\u5148\u8981\u586b\u6ee1 \u8d2a\u5fc3\u770b\u662f\u8c03\u5ea6\u4fbf\u5b9c\u8fd8\u662f\u76f4\u63a5\u52a0\u4fbf\u5b9c\n    if(x<y)\n    {\n        ll tmp=r<t?r:t;\n        f[u]+=tmp*x;\n        t-=tmp;\n    }\n    f[u]+=t*y;\n    f[u]+=(sum[u]*u-sum1[u])*z;\n    return f[u];\n}\nint main()\n{\n    memset(f,-1,sizeof(f));\n    x=read();y=read();z=read();n=read();m=read();\n    int u,mn=N;\n    for(int i=1;i<=n;++i)\n    {\n        u=read();\n        ++sum[u];\n        mn=mn<u?mn:u;\n    }\n    for(int i=1;i<N;++i)\n    {\n        sum1[i]=sum1[i-1]+sum[i]*i;\n        sum[i]+=sum[i-1];\n    }\n    for(int i=1;i<=m;++i)\n    {\n        b[i]=read();\n        ++Sum[b[i]];\n    }\n    for(int i=1;i<N;++i)\n    {\n        Sum1[i]=Sum1[i-1]+Sum[i]*i;\n        Sum[i]+=Sum[i-1];\n    }\n    int l=0,r=N-1,mid;\n    if(z==10000000000000000)\n        r=mn;\n    while(l<r)\n    {\n        mid=(l+r)>>1;\n        ll y_=calc(mid),y__=calc(mid+1);\n        if(y_==y__)\n        {\n            printf(\"%lld\\n\",y_);\n            return 0;\n        }\n        else if(y_>y__)\n            l=mid+1;\n        else\n            r=mid;\n    }\n    printf(\"%lld\\n\",calc(l));\n    return 0;\n}\n\n```",
        "postTime": 1544534305,
        "uid": 63539,
        "name": "wjyyy",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011\u3010\u4e09\u5206+\u524d\u7f00\u548c\u3011"
    },
    {
        "content": "\u4e00\u9053\u6bd4\u8f83\u6e05\u771f\u53cb\u597d\u7684\u8d2a\u5fc3+\u679a\u4e3e\u9898qwq\n\n\u53ef\u4ee5\u53d1\u73b0\u7b54\u6848\u4e4b\u548c\u516c\u5e03\u65f6\u95f4\u6700\u665a\u7684\u5b66\u79d1\u6709\u5173\uff0c\u5047\u8bbe\u5176\u516c\u5e03\u65f6\u95f4\u4e3a$k$\uff0c\u90a3\u4e48\u7b54\u6848\u4e3a\uff1a\n\n$$\\sum \\max( 0, k-b_i)*\\rm C$$\n\n\u4f46\u662f\u7531\u4e8e\u5b58\u5728\u4e24\u4e2a\u64cd\u4f5c\uff0c\u6240\u4ee5\u6700\u665a\u516c\u5e03\u7684\u5b66\u79d1\u7684\u65f6\u95f4\u662f\u53ef\u4ee5\u88ab\u4fee\u6539\u7684\uff0c\u6211\u4eec\u8003\u8651\u679a\u4e3e\u8fd9\u4e2a\u6700\u665a\u516c\u5e03\u7684\u5b66\u79d1\u7684\u65f6\u95f4\u3002\n\n\u5bf9\u4e8e\u4e00\u4e2a\u56fa\u5b9a\u7684$k$\uff0c\u6709\u6240\u6709\u4eba\u7b49\u5f85\u7684\u65f6\u95f4\u4fbf\u662f\u4e00\u4e2a\u5b9a\u503c\uff0c\u4e8e\u662f\u63a5\u4e0b\u6765\u7684\u5de5\u4f5c\u5c31\u662f\u5982\u4f55\u5728\u6d88\u8d39\u6700\u5c0f\u7684\u60c5\u51b5\u4e0b\u5c06\u6240\u6709\u5b66\u79d1\u7684\u516c\u5e03\u65f6\u95f4\u6539\u4e3a$k$\n\n\u5bf9\u4e8e$\\rm A>B$\u7684\u60c5\u51b5\uff0c\u663e\u7136\u6700\u4f18\u7684\u65b9\u6cd5\u662f\u5168\u90e8\u9009$\\rm B$\u64cd\u4f5c\uff0c\u4e8e\u662f\u6211\u4eec\u53ea\u9700\u8981\u7edf\u8ba1\u4e00\u4e0b\u5bf9\u4e8e\u67d0\u4e00\u4e2a$k$\uff0c\u6bd4$k$\u5927\u7684\u6570\u4e0e$k$\u7684\u5dee\u503c\u4e4b\u548c\uff0c\u8fd9\u4e2a\u53ef\u4ee5\u6bd4\u8f83\u7b80\u5355\u7684\u5229\u7528\u524d\u7f00\u548c\u89e3\u51b3\n\n\u5bf9\u4e8e$\\rm A < B$\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u663e\u7136\u8981\u5c3d\u91cf\u7528\u64cd\u4f5c$1$\uff0c\u4e0d\u80fd\u7528\u7684\u65f6\u5019\u518d\u7528$2.$\uff0c\u53ef\u4ee5\u8003\u8651\u64cd\u4f5c$1$\u53ef\u4ee5\u88ab\u4f7f\u7528\u7684\u6b21\u6570\uff0c\u53ef\u4ee5\u53d1\u73b0\u662f\u6bd4$k$\u5c0f\u7684\u6570\u4e0e$k$\u7684\u5dee\u4e4b\u548c\uff0c\u540c\u6837\u53ef\u4ee5\u4e00\u4e2a\u524d\u7f00\u548c\u5e26\u8d70\uff0c\u5bf9\u4e8e\u5269\u4e0b\u7684\uff0c\u5168\u90e8\u9009$2.$\u5373\u53ef\n\n\u7136\u540e\u5c31\u6ca1\u4e86...\uff08\u5927\u96fe\n\n$Code:$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std ;\n#define drep( i, s, t ) for( register int i = t; i >= s; -- i )\n#define rep( i, s, t ) for( register int i = s; i <= t; ++ i )\n#define re register\n#define int long long\nint gi() {\n\tchar cc = getchar() ; int cn = 0, flus = 1 ;\n\twhile( cc < '0' || cc > '9' ) {  if( cc == '-' ) flus = - flus ; cc = getchar() ; }\n\twhile( cc >= '0' && cc <= '9' )  cn = cn * 10 + cc - '0', cc = getchar() ;\n\treturn cn * flus ;\n}\nconst int N = 1e5 + 5 ; \nint A, B, C, n, m, Max, t[N], b[N], Sum[N], Pre[N], Nxt[N], Sz[N], Rev[N], Siz[N] ; \nint Ans ; \nsigned main()\n{\n\tA = gi(), B = gi(), C = gi(), n = gi(), m = gi() ; \n\trep( i, 1, n ) t[i] = gi(), Max = max( Max, t[i] ), ++ Siz[t[i]] ;\n\trep( i, 1, m ) b[i] = gi(), Max = max( Max, b[i] ), ++ Sz[b[i]], ++ Rev[b[i]] ;\n\tsort( t + 1, t + n + 1 ), sort( b + 1, b + n + 1 ) ;\n\trep( i, 1, Max ) Siz[i] += Siz[i - 1], Sum[i] = Sum[i - 1] + Siz[i - 1] ; \n\trep( i, 1, Max ) Pre[i] = Pre[i - 1] + Sz[i - 1], Sz[i] += Sz[i - 1] ;\n\tdrep( i, 1, Max ) Nxt[i] = Nxt[i + 1] + Rev[i + 1], Rev[i] += Rev[i + 1] ;\n\trep( i, 1, Max ) {\n\t\tint rAns = C * Sum[i] ;\n\t\tif( rAns > Ans && Ans ) break ; \n\t\tif( A < B ) rAns += min( Pre[i], Nxt[i] ) * A, Nxt[i] -= Pre[i], rAns += max( 0ll, Nxt[i] ) * B ; \n\t\telse rAns += Nxt[i] * B ;\n\t\tif( !Ans || rAns < Ans ) Ans = rAns ; \n\t}\n\tprintf(\"%lld\\n\", Ans ) ;\n\treturn 0 ;\n}\n```",
        "postTime": 1571141892,
        "uid": 30036,
        "name": "Soulist",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    },
    {
        "content": "\u6211\u662f\u4ece\u5206\u6cbb\u6765\u7684\uff0c\u4e00\u770b\u9898\u89c9\u5f97\u662f\u4e8c\u5206\u7b54\u6848\uff0c\u60f3\u60f3\u89c9\u5f97\u53ef\u4ee5\u4e8c\u5206\u65f6\u95f4\uff0c\u4f46\u5199\u7684\u65f6\u5019\u5c31\u5047\u4e86\uff0c\u7ffb\u9898\u89e3\u53d1\u73b0\u53ef\u4ee5\u679a\u4e3e\u65f6\u95f4\uff0c\u989d...\n\n\u6211\u6765\u8bb2\u4e00\u8bb2\u5177\u4f53\u600e\u4e48\u679a\u4e3e\u5427\uff0c\u9996\u5148\u6211\u4eec\u53d1\u73b0\u4e00\u4e2a\u7279\u70b9\uff0c\u5982\u679c\u6700\u665a\u51fa\u6210\u7ee9\u7684\u65f6\u95f4\u4e00\u5b9a\uff0c\u90a3\u4e48\u6211\u4eec\u4e00\u5b9a\u53ef\u4ee5\u6c42\u51fa\u8fd9\u65f6\u7684\u6700\u5c0f\u4e0d\u6109\u5feb\u5ea6\uff0c\u600e\u4e48\u6c42\u5462\uff1f\u6211\u4eec\u5148\u7b97\u51fa\u5b66\u751f\u7b49\u5f85\u7684\u65f6\u95f4 $\\times$C\uff0c\u5c31\u5f97\u51fa\u4e86\u5b66\u751f\u5bf9\u7b54\u6848\u7684\u8d21\u732e\uff0c\u7136\u540e\u6211\u4eec\u7b97\u51fa\u6709\u591a\u5c11\u6210\u7ee9\u51fa\u6765\u7684\u65f6\u95f4\u5927\u4e8e\u4e86\u5f53\u524d\u7684\u65f6\u95f4\uff0c\u7b97\u51fa\u9700\u8981\u5f25\u8865\u7684\u65f6\u95f4\uff0c\u6211\u4eec\u6709\u4e24\u79cd\u65b9\u6cd5\u5f25\u8865\u65f6\u95f4\uff0c\u4e00\u662f\u7528A\u64cd\u4f5c\uff0c\u7528\u524d\u9762\u591a\u51fa\u6765\u7684\u65f6\u95f4\u6765\u5f25\u8865\u540e\u9762\u7684\u65f6\u95f4\uff0c\u4e8c\u662f\u7528B\u64cd\u4f5c\u76f4\u63a5\u5f25\u8865\u540e\u9762\u7684\u65f6\u95f4\u3002\n\n\u90a3\u4e48\u600e\u4e48\u7b97\u51fa\u5b66\u751f\u7b49\u5f85\u7684\u65f6\u95f4\u5462\uff1f\u53ef\u4ee5\u7528\u524d\u7f00\u548c\uff0c\u6211\u4eec\u5047\u8bbet1\u4e3a\u5b66\u751f\u7b49\u5f85\u65f6\u95f4\u5c0f\u4e8ei\u7684\u6700\u5927\u503c\n```\ntmp+=(i*t1-suma[t1])*C;//\u524d\u9762\u9700\u8981\u7b49\u5f85\u7684\u4ee3\u4ef7\n```\n\n\u600e\u4e48\u7b97\u540e\u9762\u9700\u8981\u5f25\u8865\u7684\u65f6\u95f4\u4e0e\u524d\u9762\u591a\u51fa\u7684\u65f6\u95f4\u5462\uff1f\u4e5f\u53ef\u4ee5\u7528\u524d\u7f00\u548c\uff0c\u6211\u4eec\u5047\u8bbet2\u4e3a\u6210\u7ee9\u516c\u5e03\u65f6\u95f4\u5c0f\u4e8e\u7b49\u4e8ei\u7684\u6700\u5927\u503c\n```\ns1=sumt[m]-sumt[t2]-i*(m-t2);//\u540e\u9762\u9700\u8981\u7684\u65f6\u95f4 \ns2=i*t2-sumt[t2];//\u524d\u9762\u591a\u4f59\u7684\u65f6\u95f4\n```\n\u90a3\u4e48\u6700\u540e\u4e00\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u600e\u4e48\u7b97\u51fat1,t2\u5462\uff1f\n\u6211\u4eec\u53ef\u4ee5\u5148\u5bf9\u65f6\u95f4\u6392\u5e8f\uff0c\u4e8c\u5206\u67e5\u627e\uff0c\u4e5f\u53ef\u4ee5\u62cd\u5b8c\u5e8f\u540e\u4e00\u6b21\u679a\u4e3e\u3002\n```\nfor (ll i=t[m];i>=a[1];i--)\n{\n\twhile(a[t1]>=i)t1--;//t1\u4e3a\u5b66\u751f\u7b49\u5f85\u65f6\u95f4\u5c0f\u4e8ei\u7684\u6700\u5927\u503c \n\twhile(t[t2]>i)t2--;//t2\u4e3a\u6210\u7ee9\u516c\u5e03\u65f6\u95f4\u5c0f\u4e8e\u7b49\u4e8ei\u7684\u6700\u5927\u503c\n}\n```\n\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u8fd9\u6837\u5199while\u5faa\u73af\u5462\uff1f\u56e0\u4e3at,a\u6570\u7ec4\u90fd\u662f\u5355\u8c03\u7684\uff0c\u5f53i\u53d8\u5927\u65f6\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u4ece\u5934\u5f00\u59cb\u904d\u5386\uff0c\u53ea\u9700\u4ece\u4e0a\u4e00\u6b21\u7684\u4f4d\u7f6e\u5f00\u59cb\u904d\u5386\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u5b8c\u6574\u4ee3\u7801\n\n```\n#include<cstdio>\n#include<algorithm>\n#include<iostream>\n#define ll long long\n#define ull unsigned long long\nusing namespace std;\nconst int maxn=2e5;\nll n,m,t[maxn],A,B,C,a[maxn],l,r,suma[maxn],sumt[maxn],t1,t2;\nunsigned long long ans=1e17,s1,s2,tmp; \nint main()\n{\n\tscanf(\"%lld%lld%lld\",&A,&B,&C);\n\tscanf(\"%lld%lld\",&n,&m);\n\tfor (int i=1;i<=n;i++)scanf(\"%lld\",&a[i]);\n\tfor (int i=1;i<=m;i++)scanf(\"%lld\",&t[i]);\n\tsort(t+1,t+m+1);\n\tsort(a+1,a+n+1);\n\tfor (int i=1;i<=n;i++)suma[i]=suma[i-1]+a[i];\n\tfor (int i=1;i<=m;i++)sumt[i]=sumt[i-1]+t[i];\n\tt1=n,t2=m;\n\tfor (ll i=t[m];i>=a[1];i--)\n\t{\n\t\ttmp=0;\n\t\twhile(a[t1]>=i)t1--;//t1\u4e3a\u5b66\u751f\u7b49\u5f85\u65f6\u95f4\u5c0f\u4e8ei\u7684\u6700\u5927\u503c \n\t\twhile(t[t2]>i)t2--;//t2\u4e3a\u6210\u7ee9\u516c\u5e03\u65f6\u95f4\u5c0f\u4e8e\u7b49\u4e8ei\u7684\u6700\u5927\u503c \n\t\ttmp+=(i*t1-suma[t1])*C;//\u524d\u9762\u9700\u8981\u7b49\u5f85\u7684\u4ee3\u4ef7 \n\t\ts1=sumt[m]-sumt[t2]-i*(m-t2);//\u540e\u9762\u9700\u8981\u7684\u65f6\u95f4 \n\t\ts2=i*t2-sumt[t2];//\u524d\u9762\u591a\u4f59\u7684\u65f6\u95f4 \n\t\tif (B<=A)tmp+=s1*B;\n\t\telse\n\t\t\tif (s2>s1)tmp+=s1*A;//\u5168\u7528A\u64cd\u4f5c\uff0c\u7528\u524d\u9762\u7684\u8865 \n\t\t\telse tmp+=s2*A+(s1-s2)*B;//\u80fd\u7528A\u7684\u7528A\uff0c\u4e0d\u80fd\u7684\u7528B \n\t\tans=min(ans,tmp);\n\t}\n\tprintf(\"%llu\",ans);\n\treturn 0;\n}\n```\n\n\n",
        "postTime": 1600260618,
        "uid": 227436,
        "name": "\u5e74\u534e\u5929\u5730",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    },
    {
        "content": "###\u9012\u63a8\n\n//\u770b\u5230\u5f88\u591a\u4e09\u5206\u7684\uff0c\u5c31\u5fcd\u4e0d\u4f4f\u52a0\u4e0a\u4e00\u4e2a\u679a\u4e3e\u7684\n\n\u8fd9\u4e2a\u9898\u6570\u636e\u8303\u56f4<=10^5;\u4e0d\u662f\u5f88\u5927(\u76f8\u52a0\u5c31\u662flong long\u4e86)\u6240\u4ee5\u53ef\u4ee5\u4ece\u6700\u5c0f\u7684\u5b66\u751f\u7684\u4e0d\u6ee1\u610f\u5ea6\u5f00\u59cb\u679a\u4e3e\uff1b\n\n\u4e00\u76f4\u5230\u6700\u540e\u4e00\u4e2a\u8001\u5e08\u5224\u5b8c\u5377\u5b50\uff08\u8ba8\u538c\u8003\u8bd5\uff09\n\n\u8001\u5e08\u4e0d\u6ee1\u610f\u5ea6\u662f\u4e00\u6761\u5355\u8c03\u4e0a\u5347\u7684\u66f2\u7ebf\uff1b\u5b66\u751f\u5219\u662f\u4e0b\u964d\uff1b\n\n\u90a3\u95e8\u5408\u6210\u4e24\u6761\u7ebf\u4e00\u5b9a\u662f\u4e00\u6761\u4e8c\u6b21\u51fd\u6570\u7684\u5e76\u5c5e\u4e8e0\u5230\u6b63\u65e0\u7a77\u7684\u66f2\u7ebf\uff1b\n\n\u90a3\u5c31\u53ef\u4ee5\u6784\u9020\u51fa\u6765\u4e00\u4e2aa\u6570\u7ec4\u4ee3\u8868\u6bcf\u4e00\u4e2a\u51fd\u6570\uff08\u8001\u5e08&\u5b66\u751f\uff09\u589e\u957f\u7684\u60c5\u51b5\uff08\u5176\u5b9e\u662f\u5bfc\u6570......\uff09\n\n\u5373\u6bcf\u5f80\u540e\u62d6\u5ef6\u4e00\u5929\uff0c\u5b66\u751f\u4e0d\u6ee1\u610f\u5ea6\u5c31\u5728\u8fd9\u4e00\u5929\u53ea\u524d\u7684\u5168\u52a0\u5355\u4f4d\u4e00\uff1b\u5982\u679c\u7528exam[i]\u8868\u793a\u5728\u65f6\u95f4i\u6709x\u4e2a\u4eba\u7684\u8bdd\uff0c\u90a3\u8fd9\u4e00\u5929\u589e\u957f\u7684\u4e0d\u6ee1\u610f\u4e3a\n\nsum(k=0;i<i;i+=1)exam[k];\u5373exam\u7684\u524d\u7f00\u548c\n\n\u5bf9\u4e8e\u8001\u5e08\u4e5f\u4e00\u6837\uff1b\u7136\u540e\u6309A,B\u8d2a\u5fc3\uff1bB<A\u76f4\u63a5\u90092\uff1bB>A\u5c31\u6709\u9700\u6c42\u548c\u63d0\u4f9b\u7684\u5173\u7cfb\u4e86\uff1b\n\n\u6700\u540e\u5c31\u662f\u7279\u5224C\u4e86\uff08\u4e0d\u7136\u4f1a\u51fa\u73b0\u8d1f\u6570\u7684wa\uff09\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<algorithm>\n#define mann 150000\nlong long D(){\n     long long k=5;\n     for(int i=1;i<=30;i++)k*=10;\n     return k;\n}\nusing namespace std;\nlong long ans=D();\nlong long C,A,B,n,m;\nstruct SABER{\nlong long q,h,c;//q\u4e3a\u8001\u5e08\u524d\u7f00\u548c\uff0ch\u4e3a\u8001\u5e08\u540e\u7f00\u548c\uff0cc\u4e3a\u5b66\u751f\u7684\u524d\u7f00\u548c\n}a[mann];\nlong long student[mann],exam[mann];\nlong long q,maxa,maxb,mina=mann;\nlong long need,rest,CC;\nlong long pd(long long k1,long long k2,long long k3){\n       if(A<B){\n       if(k1==k2){return k3*C+k1*A;}\n       if(k1>k2){return k3*C+k2*A+(k1-k2)*B;}\n       else{return A*k1+C*k3;}\n       }\n       else {return k1*B+k3*C;}\n}\nint main(){\n    cin>>A>>B>>C>>n>>m;\n    for(int i=1;i<=n;i++){cin>>q;student[q]++;maxa=max(maxa,q);mina=min(mina,q);}\n    for(int i=1;i<=m;i++){cin>>q;exam[q]++;maxb=max(maxb,q);}\n    for(int i=1;i<=maxa;i++){a[i].c=a[i-1].c+student[i];}\n    for(int i=1;i<=maxb;i++)a[i].q=a[i-1].q+exam[i];\n    for(int i=maxb;i>=mina;i--){a[i].h=a[i+1].h+exam[i];need+=a[i].h;}\n    for(int i=1;i<mina;i++){rest+=a[i].q;}\n    for(int i=mina;i<=maxb;i++){\n      need-=a[i].h;\n      ans=min(ans,pd(need,rest,CC));\n      rest+=a[i].q;\n      CC+=a[i].c;\n      if(C>1e7+1)i=mann;\n    }\n    cout<<ans;\n    return 0;\n}\n```",
        "postTime": 1496224974,
        "uid": 24570,
        "name": "s_a_b_e_r",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    },
    {
        "content": "## \u5206\u6790  \n\u8bbe\u7ecf\u8fc7\u64cd\u4f5c\u540e\u6240\u6709\u6210\u7ee9\u5168\u90e8\u516c\u5e03\u7684\u65f6\u95f4\u4e3a $x$\uff0c\u6240\u83b7\u5f97\u7684\u4e0d\u6109\u5feb\u5ea6\u4e3a $f(x)$\u3002    \n\u5f53 $x$ \u5f88\u5c0f\uff0c\u90a3\u4e48\u5927\u90e8\u5206\u540c\u5b66\u90fd\u80fd\u5728\u5176\u80fd\u5fcd\u53d7\u7684\u65f6\u95f4 $t_i$ \u5185\u77e5\u6653\u6210\u7ee9\uff0c\u4f46\u662f\u7531\u4e8e $x$ \u5f88\u5c0f\uff0c$b_i>x$ \u7684\u60c5\u51b5\u662f\u5f88\u591a\u7684\uff0c\u4e3a\u4e86\u4f7f\u6240\u6709\u79d1\u76ee\u7684\u6210\u7ee9\u90fd\u5728\u65f6\u95f4 $x$ \u5185\u51fa\u6765\uff0c\u5c31\u9700\u8981\u5c06\u5927\u4e8e $x$ \u7684 $b_i$ \u51cf\u5c0f\uff0c\u90a3\u4e48\u5c31\u4f1a\u56e0\u4e3a\u591a\u6b21\u4fee\u6539 $b_i$ \u83b7\u5f97\u8f83\u591a\u7684\u4e0d\u6109\u5feb\u5ea6\uff0c\u56e0\u6b64 $f(x)$ \u662f\u6bd4\u8f83\u5927\u7684\uff1b\u5f53 $x$ \u5f88\u5927\uff0c\u867d\u7136\u4e0d\u7528\u600e\u4e48\u4fee\u6539 $b_i$\uff0c\u4f46\u662f $x$ \u4f1a\u8d85\u51fa\u5927\u90e8\u5206\u540c\u5b66\u7684\u65f6\u9650 $t_i$\uff0c\u56e0\u6b64 $f(x)$ \u4e5f\u662f\u6bd4\u8f83\u5927\u7684\u3002  \n\u6839\u636e\u4ee5\u4e0a\u5206\u6790\uff0c$f(x)$ \u5e94\u5f53\u662f\u4e00\u4e2a\u4e0b\u51f8\u7684\u5355\u5cf0\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u4e09\u5206\u6cd5\u627e\u5230\u6781\u5c0f\u503c\u70b9\u3002  \n\u63a5\u4e0b\u6765\u5206\u6790\u5982\u4f55\u8ba1\u7b97 $f(x)$\u7684\u503c\u3002\u5047\u8bbe\u5f3a\u5236\u6240\u6709\u6210\u7ee9\u5168\u90e8\u516c\u5e03\u7684\u65f6\u95f4\u4e3a $x$\uff0c\u5c06 $f(x)$ \u5206\u4e3a\u4e24\u90e8\u5206\uff0c\u7b49\u5f85\u6210\u7ee9\u516c\u5e03\u83b7\u5f97\u7684\u4e0d\u6109\u5feb\u5ea6\uff0c\u4ee5\u53ca\u4fee\u6539 $b_i$ \u4f7f\u5f97\u5bf9\u4e8e\u4efb\u610f $b_i$ \u6709 $b_i\\le x$ \u6240\u83b7\u5f97\u7684\u4e0d\u6109\u5feb\u5ea6\u3002\u7b49\u5f85\u6210\u7ee9\u516c\u5e03\u83b7\u5f97\u7684\u4e0d\u6109\u5feb\u5ea6\u53ef\u4ee5\u76f4\u63a5\u7b80\u5355\u7d2f\u52a0\uff0c```res+=C*(x-t[i])```\u3002\u63a5\u4e0b\u6765\u8ba8\u8bba\u4fee\u6539 $b_i$ \u4f7f\u5f97\u5bf9\u4e8e\u4efb\u610f $b_i$ \u6709 $b_i\\le x$ \u6240\u83b7\u5f97\u7684\u4e0d\u6109\u5feb\u5ea6\u3002\u82e5 $A>B$ \u663e\u7136\u5c06\u6210\u7ee9\u516c\u5e03\u65f6\u95f4\u5927\u4e8e $x$ \u7684\u8bfe\u7a0b\u5168\u90e8\u4f7f\u7528\u64cd\u4f5c $2$ \u8c03\u6574\u4e3a $x$ \u66f4\u4f18\uff1b\u82e5 $A<B$ \u663e\u7136\u8981\u5c3d\u91cf\u4f7f\u7528\u64cd\u4f5c $1$\uff0c\u5f53\u516c\u5e03\u65f6\u95f4\u5c0f\u4e8e $x$ \u7684\u8bfe\u7a0b\u5168\u90e8\u56e0\u64cd\u4f5c $1$ \u5bfc\u81f4\u516c\u5e03\u65f6\u95f4\u63a8\u8fdf\u5230 $x$ \u65f6\uff0c\u5c06\u5269\u4e0b\u516c\u5e03\u65f6\u95f4\u5927\u4e8e $x$ \u7684\u8bfe\u7a0b\u4f7f\u7528\u64cd\u4f5c $2$ \u5904\u7406\u3002\u6309\u7167\u4ee5\u4e0a\u4e3a\u89c4\u5219\uff0c\u5373\u53ef\u5728 $O(n+m)$ \u5185\u5f97\u5230 $f(x)$\u3002   \n## \u4ee3\u7801  \n```cpp\n#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#define ll long long\n#define N 100003\nusing namespace std;\nint t[N],b[N];\nint n,m;\nll A,B,C;\nll f(int x)//\u51fa\u6210\u7ee9\u7684\u65f6\u95f4\u4e3ax\n{\n\tint i;\n\tll res=0;\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tif(x>t[i])//\u5230\u622a\u6b62\u65e5\u671f\u8fd8\u6ca1\u51fa\u6210\u7ee9\n\t\t{\n\t\t\tres+=C*(x-t[i]);\n\t\t}\n\t}\n\t//\u8ba1\u7b97\u66f4\u6539\u622a\u6b62\u65e5\u671f\u7684\u4ee3\u4ef7\n\tif(A<B)\n\t{\n\t\tll extra,need;\n\t\textra=need=0;\n\t\tfor(i=1;i<=m;i++)\n\t\t{\n\t\t\tif(b[i]<x) extra+=x-b[i];\n\t\t\telse if(b[i]>x) need+=b[i]-x;\n\t\t}\n\t\t//\u591a\u4f59\u7684\u5929\u6570\u4e3aextra\uff0c\u53ef\u4ee5\u7528\u6765\u5f25\u8865\u8d85\u8fc7x\u7684\u5929\u6570need\n\t\t/*\n\t\t\t\u5f53\u516c\u5e03\u65f6\u95f4\u5c0f\u4e8ex\u7684\u8bfe\u7a0b\u5168\u90e8\u56e0\u64cd\u4f5c1\u5bfc\u81f4\u516c\u5e03\u65f6\u95f4\u63a8\u8fdf\u5230x\u65f6\n\t\t\t\u5c06\u5269\u4e0b\u516c\u5e03\u65f6\u95f4\u5927\u4e8ex\u7684\u8bfe\u7a0b\u4f7f\u7528\u64cd\u4f5c2\u5904\u7406\n\t\t*/\n\t\tif(extra>need) res+=A*need;\n\t\telse res+=A*extra+(need-extra)*B;\n\t}\n\telse//\u5168\u90e8\u4f7f\u7528\u64cd\u4f5c2\n\t{\n\t\tfor(i=1;i<=m;i++)\n\t\t{\n\t\t\tif(b[i]>x)\n\t\t\t{\n\t\t\t\tres+=B*(b[i]-x);\n\t\t\t}\n\t\t}\n\t}\n\treturn res;//\u83b7\u5f97f(x)\n}\nint main()\n{\n\tcin>>A>>B>>C;\n\tcin>>n>>m;\n\tint i;\n\tfor(i=1;i<=n;i++) scanf(\"%d\",t+i);\n\tfor(i=1;i<=m;i++) scanf(\"%d\",b+i);\n\tint ans;\n\t/*\n\t\t\u7279\u5224\n\t\t\u5f53C\u5f88\u5927\uff0c\u5c31\u8981\u8ba9x=min{t[i]}\n\t\t\u4e0d\u80fd\u8ba9\u4efb\u4f55\u4e00\u4e2a\u540c\u5b66\u7b49\u4e00\u5929\n\t\t\u5426\u5219\u4ee3\u4ef7\u5de8\u5927\n\t\t\u4e5f\u4e0d\u80fd\u8ba9x<min{t[i]}\n\t\t\u5426\u5219\u4fee\u6539b[i]\u7684\u4ee3\u4ef7\u4e5f\u4f1a\u53d8\u5927\n\t*/\n\tif(C==10000000000000000)\n\t{\n\t\tans=0x3f3f3f3f;\n\t\tfor(i=1;i<=n;i++) ans=min(ans,t[i]);\n\t}\n\telse//\u4e09\u5206\n\t{\n\t\tint l,r;\n\t\tl=r=1;\n\t\tfor(i=1;i<=n;i++) r=max(r,t[i]);\n\t\twhile(r-l>=10)//\u9884\u7559\u7684\u533a\u95f4\u4e3a10\n\t\t{\n\t\t\tint lmid=l+(r-l)/3;\n\t\t\tint rmid=r-(r-l)/3;\n\t\t\tif(f(lmid)>f(rmid))\n\t\t\t{\n\t\t\t\tans=l;\n\t\t\t\tl=lmid+1;\n\t\t\t}\n\t\t\telse r=rmid-1;\n\t\t}\n\t\twhile(l<=r)\n\t\t{\n\t\t\tif(f(l)<f(ans)) ans=l;\n\t\t\tl++;\n\t\t}\n\t}\n\tcout<<f(ans)<<endl;//\u8f93\u51fa\n\treturn 0;\n}\n```",
        "postTime": 1591000296,
        "uid": 253240,
        "name": "11D_Beyonder",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u4eca\u5929\u6a21\u62df\u8d5b\u8003\u4e86\u554a.....\u7eaa\u5ff5\u4e00\u4e0b.....\u6765\u5199\u4e2a\u9898\u89e3\u3002    \n\n\n\n### \u9996\u5148\u6211\u4eec\u8981\u660e\u767d.....\u8fd9\u9053\u9898\u7684T\u548cS\u90a3\u4e48\u5c0f\u662f\u6709\u539f\u56e0\u7684\u3002    \n\u4e8e\u662f\u6211\u5728\u63a8\u4e86\u8bb8\u4e45\u540e\u53d1\u73b0\u4e86\u4f3c\u4e4e\u53ef\u4ee5\u679a\u4e3e\u7b2c\u51e0\u5929\u516c\u5e03\u6210\u7ee9\uff0c\u901a\u8fc7\u524d\u7f00\u548c\u548c\u6570\u5b66\u8ba1\u7b97\uff0b\u4e8c\u5206\u67e5\u627e\u5929\u6570\u5728\u5b66\u751f\u4e2d\u7684\u4f4d\u7f6e\uff0c\u7136\u540e$O(1)$\u6570\u5b66\u8ba1\u7b97\u3002    \n\u7136\u540e\u4e00\u4e2a$O(NlogN)$\uff0c\u5e76\u4e14\u4e0d\u592a\u7f8e\u89c2\u7684\u4ee3\u7801\u51fa\u6765\u4e86.......    \n\n```\n#include<bits/stdc++.h>\n#define reg register\nusing namespace std;\nlong long a,b,c,d,e,f[200002],g[200002],h,maxx,maxn,m[200002],n[200002];\nunsigned long long ans=1e17;\ninline long long read(){\n    reg long long X=0;reg char ch=getchar();\n    while(isspace(ch)) ch=getchar();\n    while(isdigit(ch)) X=X*10+(ch^48),ch=getchar();\n    return X;\n}\nint main(){\n    a=read(),b=read(),c=read();\n    d=read(),e=read();\n    for(reg long long i=1;i<=d;++i) maxx=max(f[i]=read(),maxx);\n    for(reg long long i=1;i<=e;++i) maxn=max(g[i]=read(),maxn);\n    sort(f+1,f+d+1);sort(g+1,g+e+1);\n    for(reg long long i=1;i<=e;++i) m[i]=g[i]+m[i-1];\n    for(reg long long i=1;i<=d;++i) n[i]=f[i]+n[i-1];    //\u524d\u7f00\u548c\n    for(reg long long i=max(maxx,maxn);i>=1;i--){\n        unsigned long long tot=0;\n        int wz=lower_bound(g+1,g+e+1,i+1)-g;       //\u4e8c\u5206\n        if(b<=a) tot+=((m[e]-m[wz-1]-i*(e-wz+1))*b);\n        else tot+=min(((i*(wz-1))-m[wz-1]),m[e]-m[wz-1]-i*(e-wz+1))*a+((m[e]-m[wz-1]-i*(e-wz+1)-min(((i*(wz-1))-m[wz-1]),m[e]-m[wz-1]-i*(e-wz+1)))*b);\n        int wz2=lower_bound(f+1,f+d+1,i)-f;\n        tot+=((wz2-1)*i-n[wz2-1])*c;\n        ans=min(ans,tot);\n    }\n    cout<<ans;\n}\n\n```",
        "postTime": 1541659047,
        "uid": 107101,
        "name": "Viston",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    },
    {
        "content": "# \u9898\u89e3\u2014[\u516d\u7701\u8054\u8003]\u671f\u672b\u8003\u8bd5\uff08\u6a21\u62df+\u9012\u63a8\uff09\n\n\u9898\u76ee\u4f20\u9001\u95e8\uff1a[P3745 [\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5](https://www.luogu.com.cn/problem/P3745)\n\n**in.1**\n\n100 100 2\n\n4 5\n\n5 1 2 3\n\n1 1 2 3 3\n\n\n**out.1**\n\n6\n\n**\u6570\u636e\u8303\u56f4\u4e0e\u7ea6\u5b9a** \n\n![](https://cdn.luogu.com.cn/upload/pic/5212.png)\n\n\n## \u601d\u8def\n\n**\u4e00\u4e9b\u6027\u8d28**\n\n 1.\u7531\u9898\u610f\u5f97\uff0c\u5176\u5b9e\u5f71\u54cd\u6700\u540e\u7b54\u6848\u7684\u79d1\u76ee\u4e00\u5b9a\u662f\u6392\u5728\u6700\u540e\u9762\u7684\u79d1\u76ee\u3002\n \n 2.\u5982\u679c\u6211\u4eec\u5c06\u6700\u540e\u540c\u4e00\u65f6\u523b\u4e0a\u7684\u79d1\u76ee\u5f80\u524d\u79fb\u52a8\uff0c\u800c\u6ca1\u6709\u79fb\u52a8\u5728\u8fd9\u4e00\u65f6\u523b\u4e0a\u7684\u6240\u6709\u79d1\u76ee\uff0c\u90a3\u4e48\u8fd9\u4e4b\u524d\u7684\u79fb\u52a8\u662f\u65e0\u6548\u7684\u3002\n \n 3.\u5f53\u4e0d\u8003\u8651\u7279\u6b8a\u6761\u4ef6\u65f6\uff0c\u5982\u679c A < B \u90a3\u4e48\u4f18\u5148\u9009 A \u64cd\u4f5c\uff0c\u518d\u9009 B\u3002\u5426\u5219\u5168\u90e8\u9009 B \u64cd\u4f5c\u5373\u53ef\u3002\n \n**\u601d\u8003**\n  \n \u5982\u679c\u6211\u4eec\u679a\u4e3e\u65f6\u523b i \uff0c\u8003\u8651\u5c06\u6240\u6709\u5728\u65f6\u523b i \u4e4b\u540e\u7684\u8bfe\u7a0b\u63d0\u5230 i \u65f6\u523b\u6765\uff0c\u90a3\u4e48\u5bf9\u4e8e\u65f6\u523b i \u800c\u8a00\uff0c\u8fd9\u4e00\u5b9a\u662f\u5f53\u524d\u65f6\u523b\u7684\u6700\u4f18\u89e3\u3002\n \n \u53d1\u73b0\u6570\u636e\u5f88\u5927\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u9884\u5904\u7406\u51fa\u5c06\u6240\u6709\u5728\u65f6\u523b i \u4e4b\u540e\u7684\u79d1\u76ee\u63d0\u5230 i \u65f6\u523b\u540e\uff0c\u5b66\u751f\u7684\u4e0d\u6ee1\u610f\u5ea6 \u548c \u63d0\u524d\u64cd\u4f5c\u7684\u4e0d\u6ee1\u610f\u5ea6 \u3002\n \n \u7531\u4e8e A \u64cd\u4f5c\u7684\u6b21\u6570\u5728\u6bcf\u4e2a\u65f6\u523b i \u662f\u6709\u9650\u7684\uff08\u4e0d\u80fd\u628a\u79d1\u76ee\u5ef6\u8fdf\u5230 i \u4e4b\u540e\uff09\uff0c\u6211\u4eec\u4e5f\u8981\u9884\u5904\u7406\u51fa\u6765\u3002\n\n**\u4e3b\u8981\u5206\u4e3a\u4e24\u90e8\u5206\uff1a**\n\n1.\u9884\u5904\u7406\u51fa\u6211\u4eec\u9700\u8981\u7684\u6570\u7ec4\u3002\n\n2.O(n)\u679a\u4e3e\u65f6\u95f4\uff0c\u53d6\u6700\u5c0f\u7b54\u6848\u5373\u53ef\uff08\u5305\u62ec\u4e00\u4e9b\u7279\u5224\uff09\n\n**\u5904\u7406\uff1a**\n\n1.\u6211\u4eec\u75282\u4e2a\u6876 t[ ] \u548c d[ ] \u5206\u522b\u8bb0\u5f55\u5728 i \u65f6\u523b\u5b66\u751f\u7684**\u65f6\u95f4\u4e0a\u9650\u4e3ai\u7684\u6570\u91cf**\u548c**\u7ed3\u675f\u79d1\u76ee\u7684\u6570\u91cf**\n\n \u987a\u4fbf\u8bb0\u5f55\u4e00\u4e0b\u6700\u540e\u4e00\u79d1\u7684\u65f6\u95f4\uff0c\u4f5c\u4e3a\u679a\u4e3e\u8fb9\u754c\u3002\n\n```cpp\nfor( int i = 1 ; i <= N ; ++i )m1 = (int)read() , t[ m1 ]++ ;\nfor( int i = 1 ; i <= M ; ++i )m1 = (int)read() , las = max( (ll)m1 , las ) , d[ m1 ]++ ;\n```\n\n\n \u7136\u540e\u6211\u4eec\u679a\u4e3e\u65f6\u523b i \uff0c\u76f4\u63a5\u9884\u5904\u7406\u51fa\u4e0a\u8ff0\u4e09\u4e2a\u9700\u8981\u7684\u6570\u7ec4\u3002\u8bb0\u5f55\u65b9\u6cd5\u4e3a\u5148\u7d2f\u52a0\u8d21\u732e\u503c\uff0c\u518d\u7d2f\u52a0\u4e2a\u6570\uff0c\u81ea\u5df1\u60f3\u60f3\u5176\u5b9e\u5f88\u7b80\u5355\u7684\u3002\u590d\u6742\u5ea6 O\uff08n\uff09\u3002\n \n\n```cpp\nll tot = 0 , val = 0 ;//\u2211C \nif( flag != 3 )\n\tfor( int i = 1 ; i <= las ; ++i )\n\t\tval += tot*C , tot += t[ i ] , c[ i ] = val ;\ntot = 0 , val = 0 ;\nfor( int i = 1 ; i <= las ; ++i )//A\u7684\u4e0a\u9650 \n\tval += tot , tot += d[ i ] , used[ i ] = val ;\ntot = 0 , val = 0 ;\nfor( int i = las ; i >= 1 ; --i )//\u9700\u8981\u63d0\u524d\u7684\u6b21\u6570\n\tval += tot , tot += d[ i ] , cha[ i ] = val ;\n```\n\n\n2.\u9884\u5904\u7406\u5b8c\u6210\u4e4b\u540e\uff0c\u6211\u4eec\u679a\u4e3e\u65f6\u95f4\uff0c\u6c42\u51fa**\u5b66\u751f\u7684\u4e0d\u6ee1\u610f\u5ea6\u548c\u63d0\u524d\u64cd\u4f5c\u7684\u4e0d\u6ee1\u610f\u5ea6**\u4e4b\u548c\u5373\u53ef\u3002\n\n\u7279\u6b8a\u70b9\u5904\u7406\uff1a \n\n1 2 \u70b9\u4e0d\u80fd\u4f7f\u7528 A\uff0cB \uff0c\u76f4\u63a5\u8f93\u51fa c[ las ]\n\n3 4 \u70b9\u4e0d\u80fd\u4f7f\u7528 B \uff0c \u5168\u90e8\u4f7f\u7528 A \uff0c A\u4e0d\u591f\u76f4\u63a5 break\n\n13 14 \u70b9\u4e0d\u80fd\u9884\u5904\u7406 C , \u4e5f\u4e0d\u80fd\u4f7f\u7528 C \uff0c \u76f4\u63a5\u6c42\u51fa\u63d0\u524d\u5230\u6700\u65e9\u65f6\u95f4\u8981\u6c42\u5904\u7684\u7b54\u6848\u5373\u53ef\u3002\n\n**\u65f6\u95f4\u590d\u6742\u5ea6**\n \n \u7efc\u4e0a\u6240\u8ff0\uff0c\u9884\u5904\u7406\u548c\u9012\u63a8\u6a21\u62df\u90fd\u662f\u4e25\u683c O(n)\uff0c\u800c\u4e14**\u6570\u636e\u5206\u6cbb**\uff0c\u590d\u6742\u5ea6\u5df2\u7ecf\u4f18\u5316\uff0c\u5728**\u6570\u636e\u66f4\u65b0**\u540e20\u4e2a\u70b9\u53ea\u8dd1\u4e86134ms\uff0c\u6bd4\u5927\u90e8\u5206**\u6570\u636e\u66f4\u65b0\u524d**\u7684\u4eba\u90fd\u8dd1\u7684\u5feb\u3002\n \n ![](https://images.cnblogs.com/cnblogs_com/ssw02/1414861/o_sssss.PNG)\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std ;\n#define ll long long\nconst int MAXN = 100005 ;\ninline ll read(){\n\tll s=0 ; char g=getchar() ; while(g>'9'||g<'0')g=getchar() ;\n\twhile(g>='0'&&g<='9')s=s*10+g-'0',g=getchar() ; return s ;\n}\nll t[ MAXN ] , d[ MAXN ] , used[ MAXN ] , cha[ MAXN ] , c[ MAXN ] ;\nll A , B , C , N , M , ans , las ;//las\u8bb0\u5f55\u6700\u540e\u4e00\u79d1\u51fa\u6765\u7684\u65f6\u95f4 \nint  flag = 0 , flag2 = 0 ;\nint check(){\n    if( A < B )flag2 = 1 ;\n\tif( A == 1e9 && B == 1e9 )return 1 ;\n\tif( A != 1e9 && B == 1e9 )return 2 ;\n\tif( C == 1e16 )return 3 ;\n\treturn 0 ;\n} \nvoid  prepare(){\n\tll tot = 0 , val = 0 ;//\u2211C \n\tif( flag != 3 )\n\t    for( int i = 1 ; i <= las ; ++i )\n\t\t    val += tot*C , tot += t[ i ] , c[ i ] = val ;\n\ttot = 0 , val = 0 ;\n\tfor( int i = 1 ; i <= las ; ++i )//A\u7684\u4e0a\u9650 \n\t    val += tot , tot += d[ i ] , used[ i ] = val ;\n\ttot = 0 , val = 0 ;\n\tfor( int i = las ; i >= 1 ; --i )\n\t    val += tot , tot += d[ i ] , cha[ i ] = val ;\n}\nvoid work(){\n\tll now ; ans = c[ las ] ;\n\tfor( int i = las ; i >= 1 ; --i ){\n\t\tnow = c[ i ] ;\n\t\tif( flag2 ){//\u4f18\u5148\u7528A \n\t\t\tif( used[ i ] >= cha[ i ] )now += cha[ i ]*A ;\n\t\t\telse now += used[ i ]*A + ( cha[ i ] - used[ i ] )*B ;\n\t\t}\n\t\telse\n\t\t\tnow += cha[ i ]*B ;\n\t\tans = min( ans , now ) ;\n\t}\n\tcout<<ans ;\n}\nvoid work2(){//\u4ec5\u4f7f\u7528 A C\n\tll now ; ans = c[ las ] ;\n\tfor( int i = las ; i >= 1 ; --i ){\n\t\tnow = c[ i ] ;\n\t\tif( used[ i ] >= cha[ i ] )now += cha[ i ]*A ;\n\t\telse break ;\n\t\tans = min( ans , now ) ;\n\t}\n\tcout<<ans ;\n}\nvoid work3(){//\u4ec5\u4f7f\u7528 A B \n\tans = 0LL ; //\u4e0a\u96501e10\n\tll fir = 0LL ; \n\tfor( int i = 1 ; i <= las ; ++i )if( t[ i ] ){ fir = i ; break ; }\n\tif( flag2 ){//\u4f18\u5148\u7528A \n\t\t\tif( used[ fir ] >= cha[ fir ] )ans += cha[ fir ]*A ;\n\t\t\telse ans += used[ fir ]*A + ( cha[ fir ] - used[ fir ] )*B ;\n\t\t}\n\telse\n\t\tans += cha[ fir ]*B ;\n\tcout<<ans ;\n}\nint main(){\n\tfreopen(\"exam.in\",\"r\",stdin);\n\tfreopen(\"exam.out\",\"w\",stdout);\n\tA = read() , B = read() , C = read() , N = read() , M = read() ;\n\tint m1 , m2 ;\n\tfor( int i = 1 ; i <= N ; ++i )m1 = (int)read() , t[ m1 ]++ ;\n\tfor( int i = 1 ; i <= M ; ++i )m1 = (int)read() , las = max( (ll)m1 , las ) , d[ m1 ]++ ;\n\tflag = check() ;\n\tprepare() ;\n\tif( flag == 1 ){cout<<c[ las ] ; return 0 ; }\n\tif( flag == 2 ){ work2() ; return 0 ; }\n\tif( flag == 3 ){ work3() ; return 0 ; }\n\twork() ; \n\treturn 0 ;\n}\n```\n\n###\u5982\u6709\u4e0d\u8db3\uff0c\u8bf7\u5927\u4f6c\u6307\u51fa",
        "postTime": 1568721134,
        "uid": 119937,
        "name": "\u4ffe\u65af\u9ea6",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u4e00\u5f00\u59cb\u505a\uff0c\u5e76\u4e0d\u80fd\u60f3\u5230\u4ec0\u4e48\u7b97\u6cd5\uff1b\u4f46\u4ed4\u7ec6\u8bfb\u9898\u540e\u53d1\u73b0\uff0c\n\n\u5982\u679c\u7ed9\u5b9a\u4e00\u4e2a\u7ed3\u675f\u65f6\u95f4\uff0c\u65e0\u8bba\u662f\u8ba1\u7b97\u5b66\u751f\u7684\u4e0d\u6109\u5feb\u5ea6\u8fd8\u662f\u8fd8\u662f\n\n\u4fee\u6539\u8001\u5e08\uff0c\u90fd\u4e0e\u5176\u662f\u54ea\u4e2a\u5b66\u751f\u6216\u8c03\u52a8\u90a3\u95e8\u8bfe\u65e0\u5173\uff1b\n\n\u518d\u770b\uff1a\u5982\u679c\u7ed9\u5b9a\u7684\u65f6\u95f4\u8d8a\u8fdf\uff0c\u5b66\u751f\u7684\u4e0d\u6109\u5feb\u5ea6\u5c31\u6108\u5927\uff1b\n\n\u800c\u4fee\u6539\u8001\u5e08\u7684\u4e0d\u6109\u5feb\u5ea6\u5c31\u6108\u5c0f\uff1b\u7531\u6b64\u53d1\u73b0\u4e24\u8005\u7684\u4e0d\u6109\u5feb\u5ea6\u4e4b\u548c\uff0c\n\n\u662f\u4e00\u4e2a\u51f8\u51fd\u6570\uff0c\u5fc5\u5b58\u5728\u4e00\u4e2a\u65f6\u95f4\u70b9\u4f7f\u5f97\u4e0d\u6109\u5feb\u5ea6\u53d6\u5f97\u6781\u5c0f\u503c\u3002\n\n\u4e8e\u662f\uff1a\n\n##\u4e09\u5206\n\n\u7531\u5b66\u751f\u4eec\u671f\u671b\u65f6\u95f4\u7684\u4e0a\u4e0b\u754c\u5f00\u59cb\u4e09\u5206\uff0c\u6bcf\u6b21\u8c03\u7528sigma\u51fd\u6570\u6765\n\n\u6c42\u5f97\u4fee\u6539\u8001\u5e08\u7684\u6700\u5c0f\u4e0d\u6109\u5feb\u5ea6\uff1b\u800c\u5728\u6c42sigma\u65f6\u5e94\u7528\u8d2a\u5fc3\u601d\u60f3\uff1a\n\n\u7528rest\u8868\u793a\u6240\u6709\u8bfe\u7a0b\u80fd\u63d0\u524d\u7684\u5929\u6570\uff0cneed\u8868\u793a\u9700\u8981\u63a8\u8fdf\u7684\u5929\u6570\uff1b\n\n\u5982\u679cA\u7684\u8d39\u7528\u6bd4B\u7684\u8d39\u7528\u8fd8\u8981\u5927\uff0c\u90a3\u4e48\u7528B\u4e00\u5b9a\u6bd4A\u5212\u7b97\uff0c\n\n\u5219\u7b54\u6848\u4e3aB\\*need\uff1b\n\n\u5982\u679cA\u7684\u8d39\u7528\u6bd4B\u7684\u8d39\u7528\u5c0f\uff0c\u90a3\u4e48\u5982\u679c\u5b58\u5728\u67d0\u8bfe\u7a0b\u65f6\u95f4\u6bd4\u7ed9\u5b9a\n\n\u65f6\u95f4\u8fdf\uff0c\u90a3\u5c06\u5176\u63d0\u524d\u6ca1\u6709\u8d1f\u9762\u5f71\u54cd\uff0c\u5219\u6b64\u65f6\u7528A\u6bd4\u7528B\u66f4\u4f18\uff0c\n\n\u5426\u5219\u7528\u6ca1\u6709\u8d1f\u9762\u5f71\u54cd\u7684B\u66f4\u4f18\u4e86\uff0c\u5373A\\*rest+B\\*(need-rest)\uff1b\n\n\n\n```cpp\n%:pragma GCC optimize(3)\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#define ll long long\nusing namespace std;\nconst ll INF=pow(2,62),MAXN=1e5+10;\n\nll n,m,A,B,C,l=INF,r=-INF;\nll t[MAXN],b[MAXN];\n\n\ninline ll sigma(ll tm){ //\u7528\u4e8e\u6c42\u51fa\u5728tm\u65f6\u95f4\u4e0b\uff0c\u8001\u5e08\u4eec\u7684\u4e0d\u6109\u5feb\u5ea6 \n    ll rest=0,need=0;\n    for (ll i=1;i<=m;++i) \n        if (b[i]<=tm) rest+=tm-b[i];//\u52a0\u4e0a\u53ef\u4ee5\u88ab\u63a8\u8fdf\u7684\u5929\u6570 \n                 else need+=b[i]-tm;//\u52a0\u4e0a\u9700\u8981\u88ab\u63d0\u524d\u7684\u5929\u6570 \n    if (A<B){ //\u5047\u5982\u5b58\u5728A\u6bd4B\u8981\u7701\uff0c\u5219\u5148\u5c3d\u53ef\u80fd\u7684\u7528A \n        if (need<=rest) return A*need;//\u5168\u90e8\u53ef\u4ee5\u7528A\u89e3\u51b3 \n        return A*rest+B*(need-rest);  //\u6216A\u89e3\u51b3\u4e00\u90e8\u5206\u540e\u7528B \n    }\n    return B*need;//\u5982\u679cB\u6bd4A\u66f4\u7701\uff0c\u90a3\u5c31\u6ca1\u6709\u7528A\u7684\u5fc5\u8981\u4e86 \n}\n\n\nint main(){\n    scanf(\"%lld%lld%lld\",&A,&B,&C);\n    scanf(\"%lld%lld\",&n,&m);\n    for (ll i=1;i<=n;++i){\n        scanf(\"%lld\",&t[i]);\n        if (l>t[i])l=t[i];if (r<t[i])r=t[i];\n            //\u627e\u51fa\u8981\u4e09\u5206\u7684l\uff0cr\u533a\u95f4 \n    }\n    for (ll i=1;i<=m;++i)\n        scanf(\"%lld\",&b[i]);\n\n    while (r-l>8){ //\u4e09\u5206\u7f29\u5c0f\u6b63\u89e3\u5b58\u5728\u7684\u533a\u95f4 \n        ll m1=l+(r-l)/3,m2=l+(r-l)/3*2;\n        ll r1=sigma(m1),r2=sigma(m2);\n            //\u5148\u6c42\u51fa\u5728\u8be5\u65f6\u95f4\u4e0b\uff0c\u8001\u5e08\u7684\u4e0d\u6109\u5feb\u5ea6 \n        for (ll i=1;i<=n;++i) //\u6c42\u51fam1\u70b9 \n        if (m1>t[i]){\n                if (C==1e16) {r1=INF;break;} //\u8fd9\u91cc\u7279\u5224\uff0c\u9632\u6b62longlong\u7206 \n                        else  r1+=C*(m1-t[i]);//\u52a0\u4e0a\u5b66\u751f\u7684\u4e0d\u6109\u5feb\u5ea6 \n        }\n        for (ll i=1;i<=n;++i) //\u6c42\u51fam2\u70b9 \n        if (m2>t[i]){            \n                if (C==1e16) {r2=INF;break;}\n                        else  r2+=C*(m2-t[i]);\n        }\n        if (r1<=r2) r=m2;\n               else l=m1;\n    }\n    ll res=INF;\n    for (ll i=l;i<=r;++i){ //\u5728\u7f29\u5c0f\u540e\u7684\u8303\u56f4\u5185\u627e \n        ll res1=sigma(i);\n        for (ll j=1;j<=n;++j) //\u4e0e\u4e0a\u9762\u540c\u7406 \n            if (i>t[j])\n                if (C==1e16) {res1=INF;break;}\n                        else  res1+=C*(i-t[j]);\n        if (res1<res)res=res1;\n    }\n    cout <<res<<endl;\n    return 0;\n} \n```",
        "postTime": 1495594371,
        "uid": 20360,
        "name": "zj\u4f59\u80fd",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    },
    {
        "content": "### \u9898\u610f\n\n>\u7ed9\u5b9a$n$\u4e2a\u6570$\\{T_i\\}$\u548c$m$\u4e2a\u6570$\\{B_i\\}$,\u4e00\u4e9b\u64cd\u4f5c\u548c\u5176\u8d21\u732e\u5982\u4e0b\n>\n>- \u5bf9$\\forall x\\neq y$,\u4f7f\u5f97$B_x=B'_x+1,B_y=B'_y-1$,\u4ed8\u51fa$A$,\u53ef\u64cd\u4f5c\u4efb\u610f\u591a\u6b21\n>- \u5bf9$\\forall x$\u4f7f\u5f97$B_x=B'_x-1$,\u4ed8\u51fa$B$,\u53ef\u64cd\u4f5c\u4efb\u610f\u591a\u6b21\n>- \u4e5f\u53ef\u4ee5\u9009\u62e9\u4e0d\u518d\u64cd\u4f5c,\u5bf9$B$\u4e2d\u6700\u5927\u5143\u7d20$B_{mx}$\u4ed8\u51fa$C\\displaystyle{\\sum_{i=1}^n\\max\\{0,B_{mx}-T_i\\}}$\n\n### Solution\n\n\u8d2a\u5fc3\u505a\u6cd5\u6765\u81ea[\u535a\u5ba2](https://www.luogu.com.cn/blog/Shallowsing/ti-xie-p3745-liu-xing-lian-kao-2017-ji-mo-kao-shi-post)\n\n\u8fd9\u79cd\u660e\u663e\u5f88\u5947\u7279\u6742\u4e71\u7684\u8981\u6c42\u6211\u4eec\u9700\u8981\u8d70\u4e00\u6b65\u770b\u4e00\u6b65\n\n\u95ee\u9898\u53ef\u4ee5\u770b\u505a\u4e00\u635f\u4ff1\u635f\u7684\u6740\u62db(\u4e00\u4e2a\u53d8\u5c0f\u4e00\u4e2a\u53d8\u5c0f)/\u5b8c\u5168\u65e0\u4f24\u7684\u5b8c\u7f8e\u62db\u6570(\u53ea\u662f\u7f29\u5c0f\u8ddd\u79bb)/\u4e00\u4e2a\u53d8\u52a8\u4e0d\u5b9a\u7684\u754c\u9650\u5c31\u662f\u6211\u4eec\u6700\u7ec8\u8981\u628a$B_{mx}$\u505c\u5728\u4ec0\u4e48\u4f4d\u7f6e\u4e09\u8005\u7684\u5e26\u6743\u5747\u8861\n\n\u9996\u5148\u4ece\u7279\u6b8a\u6570\u636e\u5f97\u5230\u542f\u793a\n\n```C=1e16```\u5176\u5b9e\u8868\u793a\u6211\u4eec\u5fc5\u987b\u521a\u597d\u7528\u4e24\u79cd\u6740\u62db\u5411\u524d\u632a\u5230$T_{mi}$\u5b9a\u7ebf\u524d\u662f\u4e00\u4e2a\u8d2a\u5fc3\u95ee\u9898\uff0c\u56e0\u6b64\u6211\u4eec\u53d1\u73b0\u90a3\u6761\u7ebf\u5f88\u91cd\u8981\n\n\u5728\u8d2a\u5fc3\u7b56\u7565\u4ee5\u53ca```B\u2264A```\u7684\u6570\u636e\u53ef\u4ee5\u53d1\u73b0\u5728$B\\leq A$\u65f6\u5019\u4ff1\u635f\u7684\u62db\u53ef\u4ee5\u88ab\u66ff\u4ee3\uff0c\u5426\u5219\u5fc5\u987b\u7528\u624d\u7528(\u8003\u524d\u7684\u53d8\u540e\u9020\u6210\u635f\u5931\u6700\u5c0f)\n\n\u7b56\u7565\u5b9a\u4e0b\u6765\u4e86\uff0c\u679a\u4e3e$B_{mx}$\u628a\u6240\u6709\u5927\u4e8e\u7b49\u4e8e\u8fd9\u6761\u7ebf\u7684\u964d\u4e0b\u6765\uff0c\u7136\u540e\u6839\u636e$A,B$\u7684\u5927\u5c0f\u60c5\u51b5\u9009\u62e9\u8981\u4e0d\u8981\u5148\u5c3d\u91cf\u7528$A$",
        "postTime": 1596254832,
        "uid": 40629,
        "name": "zzw4257",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    },
    {
        "content": "\u89c2\u5bdf\u5230\u51fd\u6570\u5177\u6709\u5355\u5cf0\u7684\u6027\u8d28\uff0c\u90a3\u4e48\u4e09\u5206\u4e00\u4e0b\u5373\u53ef\u3002\n\n\u8ba1\u7b97\u51fa\u4e0d\u6ee1\u610f\u5ea6\u8fdb\u884c\u6bd4\u8f83\uff0c\u8c03\u6574\u4e09\u5206\u7684\u7aef\u70b9\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define N 200005\nusing namespace std;\ntypedef long long ll;\nint n,m,r,t[N],b[N];\nll a,B,c,ans;\nll calc(int p){\n    ll x=0,y=0;\n    for(int i=1;i<=m;i++)if(b[i]<p)x+=p-b[i];else y+=b[i]-p;\n    return a<B?min(x,y)*a+(y-min(x,y))*B:y*B;\n}\ninline int read(){\n    int f=1,x=0;char ch;\n    do{ch=getchar();if(ch=='-')f=-1;}while(ch<'0'||ch>'9');\n    do{x=x*10+ch-'0';ch=getchar();}while(ch>='0'&&ch<='9');\n    return f*x;\n}\nint main(){\n    cin>>a>>B>>c>>n>>m;\n    for(int i=1;i<=n;i++)t[i]=read();\n    for(int i=1;i<=m;i++)b[i]=read();\n    sort(b+1,b+m+1);sort(t+1,t+n+1);\n    if(c>=1e16)ans=calc(t[1]);\n    else{\n        ans=1e16;int l=1,r=N;\n        while(r-l>5){\n            int mid1=l+(r-l)/3,mid2=r-(r-l)/3;\n            ll c1=calc(mid1),c2=calc(mid2);\n            for(int i=1;i<=n;i++)if(t[i]<mid1)c1+=c*(mid1-t[i]);\n            for(int i=1;i<=n;i++)if(t[i]<mid2)c2+=c*(mid2-t[i]);\n            if (c1<=c2)r=mid2;else l=mid1;\n        }\n        for(int i=l;i<=r;i++){\n            ll x=calc(i);\n            for(int j=1;j<=n;j++)if(t[j]<i)x+=c*(i-t[j]);\n            ans=min(ans,x);\n        }\n    }\n    cout<<ans<<endl;\n}\n```",
        "postTime": 1497489277,
        "uid": 2978,
        "name": "zcysky",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    },
    {
        "content": "**\u7b2c\u4e8c\u4e2a\u9898\u89e3\uff0c\u8bf4\u4e00\u4e2a\u4e09\u5206\u7684\u89e3\u6cd5\u3002**\u5b66\u4e60\u4e8eCSDN\u7684\u535a\u4e3bRipped\n\n\u4e0d\u6109\u5feb\u5ea6\u548c\u65f6\u95f4\u662f\u4e00\u4e2a\u4e0b\u51f8\u51fd\u6570(\u5bfc\u51fd\u6570\u9012\u589e)\uff0c\u4e8e\u662f\u53ef\u4ee5\u7528\u4e09\u5206\u6cd5\u7f29\u5c0f\u679a\u4e3e\u7684\u8303\u56f4\u3002\n\n\u4e4b\u540e\u679a\u4e3e\u51fa\u65f6\u95f4\u6c42\u51fa\u6700\u5c0f\u7684\u4e0d\u6109\u5feb\u5ea6\u5373\u53ef\u3002\n\n\u7ec6\u8282\u8bf4\u660e\u89c1\u4ee3\u7801\u6ce8\u91ca\u2193\u2193\n\n\n\n\n\n    \n    \n```cpp\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#define INF 9223372036854775807ll   //\u6700\u5927\u503c\nusing namespace std;\nunsigned long long A,B,C,Y1,Y2,ans;\nint N,M,t[100017],b[100017];\nunsigned long long l=INF,r,x1,x2;\nunsigned long long calc1(int x)      //calc1\u8fd9\u4e2a\u51fd\u6570\u8ba1\u7b97\u51fa\u901a\u8fc7A.B\u64cd\u4f5c\u628a\u65f6\u95f4\u8c03\u5230X\u7684\u4e0d\u6109\u5feb\u5ea6 \n{\n    unsigned long long below=0,above=0;\n    for(int i=1;i<=M;i++)\n    {\n        if(b[i]>=x)above+=b[i]-x;\n        else below+=x-b[i];    \n    }\n    if(B>A)\n    {\n        if(below>=above)return (unsigned long long)above*A;\n        else return (unsigned long long)below*A+(above-below)*B;      //A<B\u4f18\u5148\u7528A\u586b\u8865\uff0c\u518d\u7528B\n    }\n    else return (unsigned long long)above*B;    //B\uff1cA \u76f4\u63a5\u5168\u90e8\u4f7f\u7528B\n}\nunsigned long long calc2(int x)        //\u8fd9\u4e2a\u51fd\u6570\u7b97\u51fa\u5b66\u751f\u4eec\u7684\u4e0d\u6109\u5feb\u5ea6\u603b\u548c\n{\n    unsigned long long sum=0;\n    for(int i=1;i<=N;i++)\n    {    \n        if(t[i]<x)sum+=(x-t[i])*C;\n    }\n    return sum;\n}\nint main()\n{\n    cin>>A>>B>>C>>N>>M;\n    for(int i=1;i<=N;i++)\n    {\n        scanf(\"%d\",&t[i]);\n        l=min(l,(unsigned long long)t[i]);\n        r=max(r,(unsigned long long)t[i]);           //\u5b58l,r\n    }\n    for(int i=1;i<=M;i++)scanf(\"%d\",&b[i]);\n    if(C==1e16){printf(\"%lld\\n\",calc1(l));return 0;}           //\u8fd9\u91cc\u662f\u4e2a\u7279\u5224\uff1a\u7531\u4e8e\u9898\u91cc\u9762\u6709\u4e24\u4e2a\u70b9\u662fC=1E16\u7684\uff0c\u8fd9\u79cd\u60c5\u51b5\u5c31\u662f\u8981\u4f7f\u5b66\u751f\u7684\u4e0d\u6109\u5feb\u5ea6\u603b\u548c\u4e3a0\u624d\u80fd\u8fbe\u5230\u6700\u4f18\u89e3\uff0c\u6240\u4ee5\u76f4\u63a5\u8f93\u51faclac1(\u6700\u524d\u65f6\u95f4)\n        while(r-l>5)                //\u4e09\u5206\u7f29\u5c0f\u8303\u56f4\u2193(\u4e09\u5206\u6cd5\u6a21\u677f\u89c1\u6d1b\u8c37P3382)\n    {\n        x1=(r-l)/3+l;\n        x2=(r-l)/3*2+l;\n        Y1=calc1(x1)+calc2(x1);\n        Y2=calc1(x2)+calc2(x2);\n        if(Y1>Y2)l=x1;\n        else r=x2;\n    }\n    ans=calc1(l)+calc2(l);\n    for(int i=l+1;i<=r;i++)                        //\u5728\u4e0a\u9762\u6c42\u51fa\u7684\u8303\u56f4\u5185\u679a\u4e3e\u65f6\u95f4  \u6c42\u51fa\u6700\u5c0f\u503c\u5373\u53ef\n        ans=min(calc1(i)+calc2(i),ans);\n    printf(\"%lld\\n\",ans);\n    system(\"pause\");\n    return 0;              //The End\n}\n```",
        "postTime": 1495805265,
        "uid": 24693,
        "name": "HiJ1m",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    },
    {
        "content": "#\u8fd9\u9898\u65f6\u95f4\u590d\u6742\u5ea6nlogn\n\n\u5148\u770b\u9898\u76ee\uff0c\u5b66\u751f\u7684\u4e0d\u6ee1\u610f\u5ea6\u4e0e\u987a\u5e8f\u65e0\u5173\uff0c\u6240\u4ee5\u5148\u5bf9\u5b66\u751f\u6392\u5e8f\uff0c\u8001\u5e08\u8c03\u5ea6\u7684\u4e0d\u6ee1\u610f\u5ea6\u4e5f\u4e0e\u987a\u5e8f\u65e0\u5173\uff0c\u6240\u4ee5\u5bf9\u6279\u5b8c\u5377\u5b50\u65f6\u95f4\u518d\u6392\u5e8f\uff0c\n\n\u7136\u540e\u679a\u4e3e\u9700\u8981\u7684\u6279\u5b8c\u6240\u6709\u5377\u5b50\u7684\u65f6\u95f4\uff0c\u518d\u7528\u4e24\u4e2a\u4e8c\u5206\u67e5\u627e\u548c\u524d\u7f00\u548c\u3001\u540e\u7f00\u548c\u641e\u4e00\u641e\uff0c\u5f97\u51faex\uff0c\u518d\u4e0eans\u6bd4\u8f83\u53d6\u6700\u5c0f\u503c\n\n##################################################################\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nunsigned long long  A,B,C,n,m,i,maxt,lol,lol2,ex,ans=1e19,mid,need,have,l,r,t[100001],e[100001],st[100001],se[100001];\nint main()\n{\n    scanf(\"%lld%lld%lld%lld%lld\",&A,&B,&C,&n,&m);\n    for (i=1; i<=n; i++) scanf(\"%lld\",&e[i]);\n    for (i=1; i<=m; i++) {scanf(\"%lld\",&t[i]); maxt=max(maxt,t[i]);}\n    sort(e+1,e+n+1); sort(t+1,t+m+1);\n    for (i=1; i<=n; i++) se[i]=se[i-1]+e[i];\n    for (i=m; i>=1; i--) st[i]=st[i+1]+t[i];\n    for (i=1; i<=maxt; i++)\n    {\n        lol=0; lol2=0; ex=0;\n           for (l=1,r=n,mid=(l+r)>>1;l<=r;mid=(l+r)>>1) if (e[mid]<i) {l=mid+1; lol=mid;} else r=mid-1;\n        if (lol>0) ex=(lol*i-se[lol])*C;\n        for (l=1,r=m,mid=(l+r)>>1;l<=r;mid=(l+r)>>1) if (t[mid]>i) {r=mid-1; lol2=mid;} else l=mid+1;\n        if (lol2>0)\n        {\n            need=st[lol2]-(m-lol2+1)*i;\n            if (A>=B) ex+=need*B;\n            else \n            {\n                have=(lol2-1)*i-(st[1]-st[lol2]);\n                ex+=have>=need?need*A:have*A+(need-have)*B;\n            }\n        }\n        ans=min(ans,ex);\n    }\n    printf(\"%lld\",ans);\n    return 0;\n}\n```",
        "postTime": 1494808233,
        "uid": 8742,
        "name": "zhaimingshuzms",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3745 \u3010[\u516d\u7701\u8054\u80032017]\u671f\u672b\u8003\u8bd5\u3011"
    }
]