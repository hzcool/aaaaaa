[
    {
        "content": "\u8fd9\u9898\u56e0\u4e3a\u503c\u57df\u5f88\u5c0f\uff0c\u6240\u4ee5\u53ef\u4ee5\u4e09\u7ef4\u524d\u7f00\u548c\uff08\u5bb9\u65a5\uff09\u505a\u3002\u5c06\u4e00\u652f\u8721\u7b14\u770b\u4f5c\u4e09\u7ef4\u7a7a\u95f4\u4e2d\u7684\u4e00\u4e2a\u70b9 $(R_i,G_i,B_i)$\u3002\u4e8c\u5206\u7b54\u6848\uff0c\u8bbe\u4e8c\u5206\u5230\u4e86 $M$\uff0c\u679a\u4e3e\u8fd9\u4e09\u7ef4\u533a\u95f4\u7684\u5de6\u7aef\u70b9 $i,j,k$\uff0c\u90a3\u4e48\u5bf9\u70b9 $(x,y,z)$ \u7684\u9650\u5236\u5c31\u662f $x\\in[i,i+M],y\\in[j,j+M],z\\in[k,k+M]$\uff0c\u7528\u4e09\u7ef4\u524d\u7f00\u548c $\\mathcal O(1)$ \u6c42\u51fa\u5728\u8fd9\u4e2a\u7a7a\u95f4\u5185\u7684\u70b9\u6570\uff0c\u5224\u65ad\u591f\u4e0d\u591f\u5373\u53ef\u3002\n\n\u5bf9\u4e8e\u6784\u9020\u65b9\u6848\uff0c\u5728\u5224\u65ad\u65f6\u8bb0\u4e0b\u662f\u54ea\u4e2a\u533a\u95f4\u4e2d\u7684\u70b9\u6570\u4e0d\u5c0f\u4e8e\u8fd9\u4e2a\u7b54\u6848\uff0c\u6784\u9020\u65f6\u626b\u63cf $n$ \u4e2a\u70b9\u5224\u65ad\u662f\u5426\u5728\u8fd9\u4e2a\u533a\u95f4\u5373\u53ef\u3002\n\n\u4e09\u7ef4\u524d\u7f00\u548c\u7684\u9884\u5904\u7406\u516c\u5f0f\u662f:\n\n$$s_{i,j,k}=s_{i-1,j,k}+s_{i,j-1,k}+s_{i,j,k-1}-s_{i,j-1,k-1}-s_{i-1,j,k-1}-s_{i-1,j-1,k}+s_{i-1,j-1,k-1}+a_{i,j,k}$$\n\n\u4f7f\u7528\u4e09\u7ef4\u524d\u7f00\u548c\u8868\u793a\u7b2c\u4e00\u7ef4\u5728 $[i_1,i_2]$\uff0c\u7b2c\u4e8c\u7ef4\u5728 $[j_1,j_2]$\uff0c\u7b2c\u4e09\u7ef4\u5728 $[k_1,k_2]$ \u7684\u70b9\u6570\u4e3a\uff1a\n\n$$s_{i_2,j_2,k_2}-s_{i_1,j_2,k_2}-s_{i_2,j_1,k_2}-s_{i_2,j_2,k_1}+s_{i_2,j_1,k_1}+s_{i_1,j_2,k_1}+s_{i_1,j_1,k_2}-s_{i_1,j_1,k_1}$$\n\n\u8bbe $R_i,G_i,B_i$ \u7684\u503c\u57df\u4e3a $m$\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(m^3\\log m)$\u3002\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namepace std;\nint m,a[260][260][260],s[260][260][260],R[100010],G[100010],B[100010],ansi,ansj,ansk;\ninline int read()\n{\n\tchar c=getchar();\n\tint x=0;\n\twhile(c<'0'||c>'9')\n\t\tc=getchar();\n\twhile(c>='0'&&c<='9')\n\t{\n\t\tx=(x<<3)+(x<<1)+c-'0';\n\t\tc=getchar();\n\t}\n\treturn x;\n}\nvoid write(int x)\n{\n\tif(x>9)\n\t\twrite(x/10);\n\tputchar(x%10+'0');\n}\ninline bool check(int M)\n{\n\tfor(int i=1;i+M<257;i++)//\u4e4b\u6240\u4ee5i,j,k<=256-M\u662f\u56e0\u4e3a\u5047\u5982i\u8d85\u8fc7\u4e86\uff0c\u90a3\u4e48\u70b9\u6570\u660e\u663e\u5c0f\u4e8e\u4e3a256-M\u7684\u60c5\u51b5\uff08\u533a\u95f4\u66f4\u5c0f\uff09\n\t\tfor(int j=1;j+M<257;j++)\n\t\t\tfor(int k=1;k+M<257;k++)\n\t\t\t\tif(s[i+M][j+M][k+M]-s[i-1][j+M][k+M]-s[i+M][j-1][k+M]-s[i+M][j+M][k-1]+s[i+M][j-1][k-1]+s[i-1][j+M][k-1]+s[i-1][j-1][k+M]-s[i-1][j-1][k-1]>=m)\n\t\t\t\t{\n\t\t\t\t\tansi=i;\n\t\t\t\t\tansj=j;\n\t\t\t\t\tansk=k;//\u8bb0\u5f55\u4e0b\u53ef\u884c\u7684\u533a\u95f4\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\treturn false;\n}\nint main()\n{\n\tint n=read(),i,j,k,L=-1,r=255,M;\n\tm=read();\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tR[i]=read();\n\t\tG[i]=read();\n\t\tB[i]=read();\n\t\ta[R[i]+1][G[i]+1][B[i]+1]++;//\u8fd9\u91cc\u628a\u5750\u6807+1\u662f\u907f\u514d\u4e0b\u6807\u8d8a\u754c\n\t}\n\tfor(i=1;i<257;i++)\n\t\tfor(j=1;j<257;j++)\n\t\t\tfor(k=1;k<257;k++)\n\t\t\t\ts[i][j][k]=s[i-1][j][k]+s[i][j-1][k]+s[i][j][k-1]-s[i-1][j-1][k]-s[i-1][j][k-1]-s[i][j-1][k-1]+s[i-1][j-1][k-1]+a[i][j][k];\n\twhile(L+1<r)\n\t{\n\t\tM=(L+r)>>1;\n\t\tif(check(M))\n\t\t\tr=M;\n\t\telse\n\t\t\tL=M;\n\t}\n\tansi--;\n\tansj--;\n\tansk--;\n\twrite(r);\n\tputchar('\\n');\n\tfor(i=1;i<=n;i++)\n\t\tif(m&&ansi<=R[i]&&R[i]<=ansi+r&&ansj<=G[i]&&G[i]<=ansj+r&&ansk<=B[i]&&B[i]<=ansk+r)\n\t\t{\n\t\t\twrite(R[i]);\n\t\t\tputchar(' ');\n\t\t\twrite(G[i]);\n\t\t\tputchar(' ');\n\t\t\twrite(B[i]);\n\t\t\tputchar('\\n');\n\t\t\tm--;\n\t\t}\n\treturn 0;\n}\n```",
        "postTime": 1625740671,
        "uid": 150522,
        "name": "b6e0_",
        "ccfLevel": 9,
        "title": "P6441 [COCI2011-2012#6] PASTELE \u9898\u89e3"
    },
    {
        "content": "\u200b\t\u7b2c\u4e00\u773c\u770b\u5230\u8fd9\u4e00\u9898\u53ef\u80fd\u5e76\u6ca1\u6709\u4ec0\u4e48\u601d\u8def\u3002\u6211\u4eec\u6ce8\u610f\u5230 $R_i,G_i,B_i$ \u7684\u503c\u57df\u8303\u56f4\u975e\u5e38\u7684\u5c0f\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4ece $R_i,G_i,B_i$ \u7684\u503c\u57df\u5165\u624b\u3002\u6211\u4eec\u60f3\u5230\u4e00\u4e2a\u6700\u66b4\u529b\u7684\u65b9\u6cd5\uff1a\u679a\u4e3e\u7b54\u6848\uff0c\u518d\u679a\u4e3e $R,G,B$ \u7684\u4e0b\u754c\u3002\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u5230 $R,G,B$ \u7684\u4e0a\u754c\u3002\u518d\u901a\u8fc7\u5bf9 $N$ \u652f\u5f69\u7b14\u7684\u904d\u5386\u6211\u4eec\u53ef\u4ee5\u5f88\u8f7b\u677e\u7684\u68c0\u9a8c\u6b64\u65f6\u6211\u4eec\u80fd\u53d6\u5230\u7684\u7b14\u7684\u6570\u91cf\u662f\u5426\u5927\u4e8e $k$\u3002\u5bf9\u4e8e\u8fd9\u79cd\u65b9\u6cd5\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u5f88\u5e38\u89c4\u7684\u4f18\u5316\uff1a**\u4e8c\u5206**\u3002\n\n\u200b\t\u901a\u8fc7**\u4e8c\u5206**\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u66f4\u4f18\u79c0\u7684\u590d\u6742\u5ea6\uff1a\n$$\nO(255^3\\times n\\log_2(255))\n$$\n\u200b\t\u4f46\u662f\u8fd9\u4e2a\u590d\u6742\u5ea6\u660e\u663e\u8fc7\u4e0d\u4e86\u8fd9\u4e2a\u9898\u76ee\uff0c\u6211\u4eec\u5f97\u8fdb\u4e00\u6b65\u4f18\u5316\u3002\u8054\u60f3\u5230\u4e4b\u524d\u89e3\u51b3\u8fd9\u79cd**\u5355\u4e2a**\u5143\u7d20\u5177\u6709**\u591a\u4e2a**\u5c5e\u6027\u7684\u9898\u76ee\u7684\u89e3\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7**\u6392\u5e8f**\u6765\u8fdb\u884c\u4f18\u5316\n\n\u9996\u5148 $n$ \u4e2a\u5f69\u7b14\u6309\u7167 $R$ \u7684\u6570\u503c\u8fdb\u884c\u6392\u5e8f\uff0c\u90a3\u4e48\u6211\u4eec\u5728\u679a\u4e3e\u65f6\u53ea\u9700\u8981\u679a\u4e3e $G$ \uff0c$B$ \u7684\u4e0b\u754c\uff0c\u800c\u5728\u68c0\u9a8c\u7b54\u6848\u65f6\uff0c\u6211\u4eec\u4ece\u5de6\u5230\u53f3\u5c06\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u6dfb\u52a0\u8fdb\u4e00\u4e2a\u961f\u5217\u91cc\uff0c\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u901a\u8fc7\u6392\u5e8f\u4f7f $n$ \u4e2a\u5f69\u7b14\u7684 $R$ \u503c\u6709\u5e8f\uff0c\u90a3\u4e48**\u961f\u5c3e**\u7684\u5143\u7d20\u7684 $R$ \u503c\u4e00\u5b9a\u662f\u6700\u5927\u7684\uff0c\u800c**\u961f\u9996**\u7684\u5143\u7d20\u7684 $R$ \u503c\u4e00\u5b9a\u662f\u6700\u5c0f\u7684\u3002\u6211\u4eec\u6bcf\u6dfb\u52a0\u8fdb\u4e00\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u5143\u7d20\u5728\u961f\u5c3e\uff0c\u5982\u679c**\u961f\u9996**\u4e0e**\u961f\u5c3e**\u5143\u7d20\u7684 $R$ \u503c\u7684\u5dee\u5927\u4e8e\u6211\u4eec\u679a\u4e3e\u7684\u7b54\u6848 $x$ \uff0c\u90a3\u4e48\u5c31\u4e0d\u65ad\u5f39\u51fa\u961f\u9996\u76f4\u81f3**\u961f\u9996**\u4e0e**\u961f\u5c3e**\u5143\u7d20\u7684 $R$ \u503c\u7684\u5dee\u5c0f\u4e8e\u6211\u4eec\u679a\u4e3e\u7684\u7b54\u6848 $x$ \uff0c\u7136\u540e\u7edf\u8ba1\u5f53\u524d\u961f\u5217\u5185\u5143\u7d20\u7684\u4e2a\u6570\uff0c\u5982\u679c\u4e2a\u6570\u5927\u4e8e $k$  \u90a3\u4e48\u8fd4\u56de true\u3002\u7531\u4e8e $n$ \u4e2a\u5f69\u7b14\u7684 $R$ \u503c\u662f\u5355\u8c03\u9012\u589e\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\u5f97\u5230\u6ee1\u8db3\u6761\u4ef6\u7684\u6bcf\u4e00\u79cd\u9009\u6cd5\u3002\u6b64\u65f6\u6211\u4eec\u5c06\u590d\u6742\u5ea6\u964d\u81f3\uff1a\n$$\nO(255^2\\times \\log_2(255) \\times n + n\\log_2n )\n$$\n\u6b64\u65f6\u6211\u4eec\u53ef\u4ee5\u62ff\u5230 60pts \uff0c\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAXN = 1e5+5;\nint n,k1;\nstruct pen\n{\n    int val[4];\n    bool operator < (const pen &x)const\n    {\n        return val[1]<x.val[1];\n    }\n}a[MAXN];\nqueue <int> q;\nbool judge(int k,int i,int j,int x)\n{\n    if(a[k].val[2]>=i&&a[k].val[2]<=i+x&&a[k].val[3]>=j&&a[k].val[3]<=j+x) return true;\n    return false;\n}\nbool check(int x)\n{\n    int ans=0;\n    for(int i=0;i<=255;++i)\n    {\n        for(int j=0;j<=255;++j)\n        {\n            int cnt=0;\n            while(!q.empty()) q.pop();\n            for(int k=1;k<=n;++k)\n            {\n                if(q.empty()&&judge(k,i,j,x))\n                {\n                    ++cnt;\n                    q.push(k);\n                }\n                else if(judge(k,i,j,x))\n                {\n                    q.push(k);\n                    while(a[k].val[1]-a[q.front()].val[1]>x) q.pop(),--cnt;\n                    ++cnt;\n                }\n                ans=max(ans,cnt);\n            }\n        }\n    }\n    return ans>=k1;\n}\nvoid print(int x)\n{\n    for(int i=0;i<=255;++i)\n    {\n        for(int j=0;j<=255;++j)\n        {\n            int cnt=0;\n            while(!q.empty()) q.pop();\n            for(int k=1;k<=n;++k)\n            {\n                if(q.empty()&&judge(k,i,j,x))\n                {\n                    ++cnt;\n                    q.push(k);\n                }\n                else if(judge(k,i,j,x))\n                {\n                    q.push(k);\n                    while(a[k].val[1]-a[q.front()].val[1]>x) --cnt,q.pop();\n                    ++cnt;\n                }\n                if(cnt>=k1)//\u518d\u505a\u4e00\u904d\u5f97\u5230\u7b26\u5408\u9898\u610f\u7684\u4e09\u4e2a\u5c5e\u6027\u4e0a\u4e0b\u754c\u3002\n                {\n                    cnt=k1;\n                    while(cnt--)\n                    {\n                        printf(\"%d %d %d\\n\",a[q.front()].val[1],a[q.front()].val[2],a[q.front()].val[3]);//\u8f93\u51fa\u961f\u5217\u91cc\u7684\u5143\u7d20\u3002\n                        q.pop();\n                    }\n                    return ;\n                }\n            }\n        }\n    }\n}\nint main()\n{\n    scanf(\"%d %d\",&n,&k1);\n    for(int i=1;i<=n;++i)\n        scanf(\"%d %d %d\",&a[i].val[1],&a[i].val[2],&a[i].val[3]);\n    sort(a+1,a+1+n);\n    int l=1,r=255,ans=255;\n    while(l<=r)\n    {\n        int mid=l+r>>1;\n        if(check(mid))\n        {\n            ans=mid;\n            r=mid-1;\n        }\n        else l=mid+1;\n    }\n    printf(\"%d\\n\",ans);\n    print(ans);\n    return 0;\n}\n```\n\n\u200b\t\u663e\u7136\uff0c$n$ \u7684\u6570\u503c\u592a\u5927\u4e86\uff0c\u6211\u4eec\u5fc5\u987b\u60f3\u529e\u6cd5\u5c06 $n$ \u4f18\u5316\u6389\u3002\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u6211\u4eec $\\text{check}$ \u6570\u91cc\u9762\u5b9e\u9645\u4e0a\u91cd\u590d\u5c06 $n$ \u4e2a\u5143\u7d20\u88c5\u8fdb\u961f\u5217\u91cc\u591a\u6b21\u3002\u90a3\u4e48\u6211\u4eec\u5c1d\u8bd5\u53ef\u4ee5\u5c06\u5143\u7d20\u585e\u5165 $\\text{vector}$ \u4e2d\u3002\u540c\u6837\u7684\uff0c\n\n\u200b\t\u6211\u4eec\u4ee5 $R$ \u503c\u6392\u5e8f\uff0c\u6392\u5e8f\u540e\uff0c\u518d\u4e00\u4e2a\u4e2a\u585e\u5165\u4ee5 $G,B$ \u7684\u503c\u4e3a\u4e0b\u6807\u7684 $\\text{vector}$ \u4e2d\u3002\u5728 check \u51fd\u6570\u4e2d\u6211\u4eec\u540c\u6837\u679a\u4e3e\u4e09\u4e2a\u5c5e\u6027\u7684\u4e0b\u754c\uff0c\u5e76\u901a\u8fc7\u4e8c\u5206\u51fa\u7684\u7b54\u6848\u5f97\u5230\u4e09\u4e2a\u5c5e\u6027\u7684\u4e0a\u754c\u3002\u6211\u4eec\u53ef\u4ee5\u5148\u679a\u4e3e $R$ \u7684\u4e0a\u4e0b\u754c\uff0c\u7136\u540e\u63a5\u4e0b\u6765\u4e24\u4e2a\u5c5e\u6027\u6211\u4eec\u5df2\u7ecf\u5c06\u4ed6\u4eec\u5f53\u505a\u4e0b\u6807\uff0c\u6240\u4ee5\u60f3\u8c61\u4e00\u4e2a\u4e8c\u7ef4\u5e73\u9762\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u70b9 $(x,y)$ \u6211\u4eec\u8d4b\u4e88\u5b83\u4e00\u4e2a\u6743\u503c $w$\u3002$w$ \u4e3a $R$ \u503c\u5728\u679a\u4e3e\u7684\u4e0a\u4e0b\u754c\u8303\u56f4\u5185\uff0c$G$ \u4e3a $x$\uff0c$B$ \u4e3a $y$ \u7684\u5143\u7d20\u4e2a\u6570\u3002\u8fd9\u4e2a\u6211\u4eec\u53ef\u4ee5\u5728 $vec_{x,y}$ \u4e8c\u5206\u4e0a\u4e0b\u754c\u7684\u4f4d\u7f6e\u5e76\u76f8\u51cf\u5f97\u5230\u5143\u7d20\u4e2a\u6570\uff0c\u4f46\u8fd9\u6837\u6548\u7387\u592a\u4f4e\u3002\u6211\u4eec\u8003\u8651\u4ece\u5c0f\u5230\u5927\u679a\u4e3e $R$ \u503c\u7684\u4e0b\u754c\uff0c\u7531\u4e8e $\\text{vect}$ \u4e2d\u7684\u5143\u7d20 $R$ \u6709\u7684\uff0c\u6211\u4eec\u7528\u4e00\u4e2a\u961f\u5217\u6765\u7ef4\u62a4 $vec_{x,y}$ \u4e2d\u7b26\u5408\u4e0a\u4e0b\u754c\u5143\u7d20\u7684\u4e2a\u6570\u3002\u5177\u4f53\u53ef\u4ee5\u89c1\u4ee3\u7801\u3002\n\n\u200b\t\u8fd9\u6837\u64cd\u4f5c\u540e\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u6211\u4eec\u9700\u8981\u5224\u65ad\u662f\u5426\u6709\u4e00\u4e2a $x\\times x$ \u5927\u5c0f\u7684\u77e9\u9635\u4e2d\u6240\u6709\u70b9\u7684\u6743\u503c $w$ \u4e4b\u548c\u5927\u4e8e\u7b49\u4e8e $k$\u3002\u6211\u4eec\u53ef\u4ee5\u7528\u4e8c\u7ef4\u524d\u7f00\u548c\u6765\u89e3\u51b3\u8fd9\u6837\u7684\u95ee\u9898\u3002\n\n\u200b\t\u540c\u6837\u7684\uff0c\u4e0a\u6587\u4e2d\u7684\u65b9\u6848\u662f\u518d\u7b97\u51fa\u7b26\u5408\u7b54\u6848\u7684\u4e09\u4e2a\u5c5e\u6027\u7684\u4e0a\u4e0b\u754c\u8fdb\u884c\u8f93\u51fa\uff0c\u8fd9\u6837\u6709\u4e9b\u6162\uff0c\u6211\u4eec\u8003\u8651\u5f00\u4e00\u4e2a\u6570\u7ec4\u8bb0\u5f55\u6bcf\u6b21\u4e8c\u5206 $\\text{check}$ \u65f6\u5f97\u5230\u7684\u4e09\u4e2a\u5c5e\u6027\u7684\u4e0a\u4e0b\u754c\uff0c\u800c\u5728\u8f93\u51fa\u65b9\u6848\u65f6\u6211\u4eec\u904d\u5386 $n$ \u4e2a\u5f69\u7b14\uff0c\u7b26\u5408\u6761\u4ef6\u7684\u5c31\u8f93\u51fa\u3002\u76f8\u5f53\u4e8e\u6211\u4eec\u4f7f\u7528\u4e86\u4e00\u4e2a\u4ee5\u7a7a\u95f4\u6765\u6362\u65f6\u95f4\u7684\u7b56\u7565\u3002\n\n\u200b\t\u6b64\u65f6\uff0c\u6211\u4eec\u5c06\u590d\u6742\u5ea6\u4f18\u5316\u4e3a\n$$\nO(255^3\\times \\log(255)+n+n\\times \\log(n))\n$$\n\u200b\t\u8fd9\u4e2a\u590d\u6742\u5ea6\u53ef\u4ee5\u901a\u8fc7\u8fd9\u9053\u9898\u76ee\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define R register\nusing namespace std;\nconst int MAXN = 1e5+5;\nint n,k1,lim;\nstruct pen\n{\n    int val[4];\n}a[MAXN];\nvector <int> vec[256][256];\nint cnt[256][256],head[256][256],tail[256][256],ans[256][3],sum[256][256];\ninline int read(){\n   int s=0,w=1;\n   char ch=getchar();\n   while(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n   while(ch>='0'&&ch<='9') s=s*10+ch-'0',ch=getchar();\n   return s*w;\n}\nbool check(int x)\n{\n    memset(head,0,sizeof head);\n    memset(tail,0,sizeof tail);\n    for(R int i=0;i<=lim;++i)\n    {\n        for(R int j=0;j<=lim;++j)\n        {\n            for(R int k=0;k<=lim;++k)\n            {\n                while(head[j][k]<vec[j][k].size()&&vec[j][k][head[j][k]]<i) ++head[j][k];\n                while(tail[j][k]<vec[j][k].size()&&vec[j][k][tail[j][k]]<=i+x) ++tail[j][k];//\u961f\u5217\u7ef4\u62a4\u3002\n                cnt[j][k]=tail[j][k]-head[j][k];\n                bool flag=0;\n                sum[j][k]=(j?sum[j-1][k]:0)+(k?sum[j][k-1]:0)+cnt[j][k]-(j&&k?sum[j-1][k-1]:0);//\u4e8c\u7ef4\u524d\u7f00\u548c\u3002\n                if(j>x&&k>x)\n                    if(sum[j][k]-sum[j-x-1][k]-sum[j][k-x-1]+sum[j-x-1][k-x-1]>=k1) flag=true;\n                else if(j>x&&k<=x)\n                    if(sum[j][k]-sum[j-x-1][k]>=k1) flag=true;\n                else if(j<=x&&k>x)\n                    if(sum[j][k]-sum[j][k-x-1]>=k1) flag=true;\n                else if(j<=x&&k<=x)\n                    if(sum[j][k]>=k1) flag=true;\n                if(flag)\n                {\n                    ans[x][0]=i,ans[x][1]=j,ans[x][2]=k;//\u8bb0\u5f55\u6b64\u65f6\u4e09\u4e2a\u5c5e\u6027\u7684\u4e0a\u4e0b\u754c\u3002\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\ninline int Max(int a,int b,int c,int d)\n{\n    return max(max(a,b),max(c,d));\n}\nvoid print(int x)\n{\n    int a1,b,c;\n    a1=ans[x][0],b=ans[x][1],c=ans[x][2];\n    int cnt=0;\n    for(R int i=1;i<=n;++i)\n    {\n        if(a[i].val[1]>=a1&&a[i].val[1]<=x+a1)\n        {\n            if(a[i].val[2]>=b-x&&a[i].val[2]<=b)\n            {\n                if(a[i].val[3]>=c-x&&a[i].val[3]<=c)\n                {\n                    ++cnt;\n                    printf(\"%d %d %d\\n\",a[i].val[1],a[i].val[2],a[i].val[3]);\n                    if(cnt==k1) return ;\n                }\n            }\n        }\n    }\n}\nbool cmp(pen a,pen b)\n{\n    return a.val[1]<b.val[1];\n}\nint main()\n{\n    n=read(),k1=read();\n    for(R int i=1;i<=n;++i)\n    {\n        a[i].val[1]=read();\n        a[i].val[2]=read();\n        a[i].val[3]=read();\n    }\n    sort(a+1,a+1+n,cmp);\n    lim=255;\n    for(R int i=1;i<=n;++i)\n        vec[a[i].val[2]][a[i].val[3]].push_back(a[i].val[1]);\n    int l=1,r=lim,ans=lim;\n    while(l<=r)\n    {\n        int mid=l+r>>1;\n        if(check(mid))\n        {\n            ans=mid;\n            r=mid-1;\n        }\n        else l=mid+1;\n    }\n    printf(\"%d\\n\",ans);\n    print(ans);\n    return 0;\n}\n```\n\n\u200b\t\u8fd9\u6837\u6211\u4eec\u5c31\u901a\u8fc7\u4e86\u8fd9\u9053\u9898\u3002\u5176\u5b9e\u6211\u4eec\u53ef\u4ee5\u4f18\u5316\u6389 $\\text{vector}$ \u91c7\u53d6\u4e09\u7ef4\u524d\u7f00\u548c\u7684\u65b9\u5f0f\u3002\u7528 check \u67e5\u627e\u662f\u5426\u6709\u4e00\u4e2a\u8fb9\u957f\u4e3a $x$ \u7684\u7acb\u65b9\u4f53\u4e2d\u6240\u6709\u70b9\u7684\u6743\u503c\u4e4b\u548c\u5927\u4e8e $k$ \u3002\u8fd9\u79cd\u65b9\u6cd5\u8fd9\u91cc\u5c31\u4e0d\u5728\u8d58\u8ff0\u4e86\u3002(~~\u5176\u5b9e\u662f\u6211\u4e5f\u4e0d\u4f1a~~)",
        "postTime": 1624608229,
        "uid": 141485,
        "name": "A_Sunny_Day",
        "ccfLevel": 0,
        "title": "[COCI2011-2012#6] PASTELE"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P6441)\n\n[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/lbh2021/p/14931233.html)\n\n**\u7b97\u6cd5\u5206\u6790\uff1a\u4e8c\u5206+\u524d\u7f00\u548c**\n\n\u7b54\u6848\u7684\u4e8c\u5206\u6027\u662f\u6bd4\u8f83\u660e\u663e\u7684\uff0c\u5173\u6ce8 \u201c\u6700\u5927\u503c\u201d\u201c\u6700\u5c0f\u503c\u201d \u5c31\u53ef\u4ee5\u770b\u51fa\u6765\u3002\u56e0\u6b64\u6700\u5916\u5c42\u4e8c\u5206\u7b54\u6848\u3002\n\n\u4e3a\u4e86\u8868\u8ff0\u65b9\u4fbf\uff0c\u8bb0\u6700\u5927\u7684\u989c\u8272\u53c2\u6570\u4e3a $col$\u3002\n\n\u6ce8\u610f\u5230 $0\\le R_x,G_x,B_x\\le256$\uff0c\u8303\u56f4\u8f83\u5c0f\uff0c\u5728\u6ca1\u6709\u601d\u8def\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u76f4\u63a5 $col^3$ \u679a\u4e3e\u4e09\u8005\u7684\u6700\u5927\u503c\uff0c\u7136\u540e\u518d $\\mathcal{O}(n)$ \u5224\u65ad\u53ef\u884c\u6027\u3002\u603b\u4f53\u590d\u6742\u5ea6\u4e3a $\\mathcal{O}(n\\times col^3 \\times \\log_2(col))$\u3002\u9884\u8ba1\u5f97\u5206 $50pts$\u3002\n\n\u90a3\u4e48\u5982\u4f55\u4f18\u5316\uff1f\u5916\u5c42\u4e8c\u5206\u65e0\u6cd5\u4f18\u5316\uff0c\u679a\u4e3e $col$ \u7684\u8303\u56f4\u4e5f\u53ea\u80fd\u6709\u5e38\u6570\u7ea7\u522b\u7684\u4f18\u5316\uff0c\u56e0\u6b64\u8003\u8651\u4f18\u5316\u6389 $\\mathcal{O}(n)$ \u7684\u53ef\u884c\u6027\u68c0\u67e5\u3002\n\n\u5f53\u6211\u4eec\u77e5\u9053 $R_x,G_x,B_x$ \u7684\u8303\u56f4\u65f6\uff0c\u662f\u5426\u53ef\u4ee5\u8003\u8651\u7528\u524d\u7f00\u548c $\\mathcal{O}(1)$ \u7b97\u51fa\u7b26\u5408\u8303\u56f4\u7684\u8721\u7b14\u6570\uff1f\u5f53\u7136\u53ef\u4ee5\u3002\u8003\u8651\u4f7f\u7528**\u4e09\u7ef4\u524d\u7f00\u548c**\uff0c\u7528 $f_{i,j,k}$ \u8868\u793a\u6ee1\u8db3 $R_x\\le i,G_x\\le j,B_x\\le k$ \u7684\u8721\u7b14\u603b\u6570\u3002\u6211\u4eec\u7c7b\u6bd4\u4e8c\u7ef4\u524d\u7f00\u548c\uff0c\u5229\u7528**\u5bb9\u65a5\u539f\u7406**\u8ba1\u7b97\u4e09\u7ef4\u524d\u7f00\u548c\uff0c\u9075\u5faa **\u201c\u5947\u52a0\u5076\u51cf\u201d** \u539f\u5219\uff0c\u5373\uff1a\n$$f_{i,j,k}=f_{i,j,k}+f_{i-1,j,k}+f_{i,j-1,k}+f_{i,j,k-1}-f_{i-1,j-1,k}-f_{i-1,j,k-1}-f_{i,j-1,k-1}+f_{i-1,j-1,k-1}$$\n\n\u4e8e\u662f\u53ef\u4ee5 $\\mathcal{O}(1)$ \u8ba1\u7b97\u51fa\u7b26\u5408\u6761\u4ef6\u7684\u8721\u7b14\u6570\u91cf\u3002\n\n\u603b\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal{O}(col^3 \\times \\log_2(col))$\u3002\n\n**\u6ce8\u610f\uff1a**\u989c\u8272\u5b58\u5728 \"0\"\uff0c\u8f93\u5165\u65f6\u5e94\u5c06\u6240\u6709\u7684\u7f16\u53f7**\u52a0 $1$**\uff0c\u4fbf\u4e8e\u524d\u7f00\u548c\u5904\u7406\u3002\u76f8\u5e94\u7684\uff0c\u8f93\u51fa\u65f6\u5e94\u5c06\u6240\u6709\u7f16\u53f7**\u51cf $1$**\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define reg register\n#define F(i,a,b) for(reg int i=a;i<=b;++i)\nusing namespace std;\ninline int read();\nconst int N=1e5+1,M=260;\nint n,k,ans=1e9;\nint f[M][M][M];\nstruct P {\n\tint r,g,b;\n\tinline void inp() {\n\t\tr=read()+1,g=read()+1,b=read()+1;\n\t\t//\u7531\u4e8e\u989c\u8272\u5b58\u5728 0 \u524d\u7f00\u548c\u4e0d\u6613\u5904\u7406\uff0c\u56e0\u6b64+1 \n\t}\n} a[N],Mx,Mi,rec;\ninline P max(P a,P b) {\n\treturn (P) {\n\t\tmax(a.r,b.r),max(a.g,b.g),max(a.b,b.b)\n\t};\n}\ninline P min(P a,P b) {\n\treturn (P) {\n\t\tmin(a.r,b.r),min(a.g,b.g),min(a.b,b.b)\n\t};\n}\ninline void init() {\n\tF(i,1,n)++f[a[i].r][a[i].g][a[i].b];\n\t\n\tF(i,1,257) {\n\t\tF(j,1,257) {\n\t\t\tF(k,1,257) {\n\n\t\t\t\tf[i][j][k]+=f[i-1][j][k]+f[i][j-1][k]+f[i][j][k-1]\n\t\t\t\t            -f[i-1][j-1][k]-f[i-1][j][k-1]-f[i][j-1][k-1]\n\t\t\t\t            +f[i-1][j-1][k-1];\n\n\t\t\t}\n\t\t}\n\t}//\u7edf\u8ba1\u4e09\u7ef4\u524d\u7f00\u548c \n}\ninline bool check(int col) {\n\t//\u4e00\u70b9\u679a\u4e3e\u8fb9\u754c\u5c0f\u4f18\u5316 \n\tF(r,Mi.r,Mx.r) {\n\t\tF(g,Mi.g,Mx.g) {\n\t\t\tF(b,Mi.b,Mx.b) {\n\t\t\t\treg int lr=max(1,r-col),lg=max(1,g-col),lb=max(1,b-col);\n\n\t\t\t\treg int s=f[r][g][b]-f[lr-1][g][b]-f[r][lg-1][b]-f[r][g][lb-1]\n\t\t\t\t      +f[lr-1][lg-1][b]+f[lr-1][g][lb-1]+f[r][lg-1][lb-1]\n\t\t\t\t      -f[lr-1][lg-1][lb-1];\n\t\t\t\t//\u5bb9\u65a5\u539f\u7406\u8ba1\u7b97\u7b26\u5408\u6761\u4ef6\u7684\u6570\u91cf\u3002 \n\t\t\t\tif(s>=k){\n\t\t\t\t\trec={r,g,b};\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\ninline void output(){//\u8f93\u51fa\u65b9\u6848 \n\tprintf(\"%d\\n\",ans);\n\treg int lr=rec.r-ans,lg=rec.g-ans,lb=rec.b-ans;\n\tF(i,1,n){\n\t\tif(a[i].r>=lr and a[i].r<=rec.r){\n\t\t\tif(a[i].g>=lg and a[i].g<=rec.g){\n\t\t\t\tif(a[i].b>=lb and a[i].b<=rec.b){\n\t\t\t\t\t//\u8bb0\u5f97-1 \n\t\t\t\t\tprintf(\"%d %d %d\\n\",a[i].r-1,a[i].g-1,a[i].b-1);\n\t\t\t\t\t--k;\n\t\t\t\t\tif(!k)return;\n\t\t\t\t} \n\t\t\t}\n\t\t}\n\t}\n}\nint main() {\n\tn=read(),k=read();\n\tF(i,1,n)a[i].inp(),Mx=max(Mx,a[i]),Mi=min(Mi,a[i]);\n\tinit();\n\treg int ll=0,rr=max(Mx.b-Mi.b,max(Mx.g-Mi.g,Mx.r-Mi.r)),mid;\n\twhile(ll<=rr) {\n\t\tmid=ll+rr>>1;\n\t\tcheck(mid)?rr=mid-1,ans=mid:ll=mid+1;\n\t}\n\toutput();\n\treturn 0;\n}\ninline int read() {\n\treg int x=0;\n\treg char c=getchar();\n\twhile(!isdigit(c))c=getchar();\n\twhile(isdigit(c))x=(x<<1)+(x<<3)+(c^48),c=getchar();\n\treturn x;\n}\n```\n\n[AC](https://www.luogu.com.cn/record/52041467)\n\n\u6b22\u8fce\u4ea4\u6d41\u8ba8\u8bba\uff0c\u8bf7\u70b9\u4e2a\u8d5e\u54e6~\n",
        "postTime": 1624606608,
        "uid": 415473,
        "name": "\u262f\u262f\u67ab\u262f\u262f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6441 [COCI2011-2012#6] PASTELE"
    }
]