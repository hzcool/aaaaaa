[
    {
        "content": "\u8fd9\u9898\u53ef\u4ee5\u7528\u62d3\u6251\u6392\u5e8f\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u52a0\u8fb9\uff0c\u5148\u6309\u62d3\u6251\u6392\u5e8f\uff0c\u628a\u5165\u5ea6\u4e3a0 \u7684\u52a0\u5165 \u961f\u5217\uff0c\uff08\u8fd9\u9898\u65e0\u5411\u8fb9\u5165\u5ea6\u4e0d\u52a0\uff09\uff0c\u904d\u5386\u4ed6\u7684\u6240\u6709\u8fb9\uff0c\u5982\u679c\u78b0\u5230\u4e00\u6761\u4ed6\u8fde\u51fa\u53bb\u7684\u65e0\u5411\u8fb9 \u5e76\u4e14\u8fd9\u6761\u65e0\u5411\u8fb9\u8fd8\u6ca1\u6709\u88ab\u6807\u8bb0\u8fc7\uff0c\u90a3\u4e48\u76f4\u63a5\u6807\u8bb0\u4e00\u4e0b\uff0c\u8fd9\u6837\u505a\u5c31\u4e00\u5b9a\u80fd\u4fdd\u8bc1\u65e0\u73af\uff0c\u5982\u679c\u6700\u7ec8\u6240\u6709\u7684\u70b9\u91cc\u9762\u8fd8\u6709\u70b9\u6ca1\u6709\u5165\u961f\u8fc7\uff0c\u8bf4\u660e\u8fd9\u4e9b\u70b9\u5728\u73af\u4e2d\uff0c\u5219\u8bf4\u660e\u6ca1\u6709\u53ef\u884c\u7684\u65b9\u6848\uff0c\u76f4\u63a5\u8f93\u51fa -1\u3002\n\n\n\n\n```cpp\n#include <stdio.h>\n#include<iostream>\n#include <algorithm>\nusing namespace std ;\nconst int maxn = 1000016,maxe = 3000000 ;\nstruct node{\n    int to,pre,val,from;\n}e[maxe];\nint x,y,n,e1,e2,cnt,num,h,t ;\nint into[maxn],q[maxn],head[maxn] ;\ninline void addedge(int x,int y,int w) \n{\n    e[++cnt].to = y;e[cnt].from=x;\n    e[cnt].pre = head[x] ;\n    e[cnt].val=w; \n    head[x] =cnt;\n}\nint main(){\n    scanf(\"%d%d%d\",&n,&e1,&e2) ;\n    for(int i=1;i<=e1;i++) {\n        scanf(\"%d%d\",&x,&y) ;\n        addedge(x,y,0);into[y]++;\n    } \n    for(int i=1;i<=n;i++) \n        if(into[i]==0) q[++t]=i;\n    if(cnt%2==0) cnt++;\n    for(int i=1;i<=e2;i++){\n        scanf(\"%d%d\",&x,&y);\n        addedge(x,y,1);\n        addedge(y,x,1);\n    }\n    while(h<t) {\n        int u=q[++h] ; \n        for(int i=head[u];i;i=e[i].pre) {\n            if(e[i].val==0) {\n                into[e[i].to]--; \n                if(into[e[i].to]==0) q[++t]=e[i].to;\n            } \n         }\n         for(int i=head[u];i;i=e[i].pre)\n             if(e[i].val==1) e[i^1].val=2;\n     }\n    for(int i=1;i<=cnt;i++)\n        if(e[i].val==1) printf(\"%d %d\\n\",e[i].from,e[i].to);\n    return 0 ;\n}\n\n```",
        "postTime": 1491720981,
        "uid": 18997,
        "name": "\u5c0f\u5e74\u8f7bw",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2017 \u3010[USACO09DEC]\u6655\u725bDizzy Cows\u3011"
    },
    {
        "content": "\n\n### [\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P2017)\n [USACO09DEC]Dizzy Cows G\n######  ~~bike\u66fe\u8bf4\u8fc7\uff1a\u2018\u6211\u4eec\u8981\u719f\u7ec3\u8fd0\u7528STL\u2019~~\n \n \u770b\u5230\u8fd9\u4e2a\u6709\u5411\u8fb9\u65e0\u5411\u8fb9\uff0c\u548c\u65e0\u73af\uff0c\u5f88\u5bb9\u6613\u60f3\u5230\u62d3\u6251\u6392\u5e8f\u3002\n \n **\u8fd9\u9898\u53ef\u4ee5\u8003\u8651\u7528dfs\u548cbfs\u53bb\u5199**  \n \n\n\n \u62d3\u6251\u6392\u5e8f\uff0c\u8bb0\u5f55\u7f16\u53f7\uff0c\u7136\u540e\u65e0\u5411\u8fb9\u7684\u987a\u5e8f\u6309\u6392\u5e8f\u540e\u5e8f\u53f7\u7684\u5927\u5c0f\u786e\u5b9a\u65b9\u5411\n\n------------\n\n##  \u8be6\u7ec6\u770b\u4ee3\u7801\u6ce8\u91ca\n \n\n\n\n\n//\u6b64\u5904\u5b58\u8fb9\u662f\u7528vector\uff0c\u53ef\u90bb\u63a5\u8868\u3002\u3002\u3002\nbfs\u7b56\u7565\uff1a  \n\u5982\u679c\u662f\u6709\u5411\u8fb9\uff0c\u53bb\u8bb0\u5f55\u4ed6\u7684\u5165\u5ea6... \n \u5c06\u6240\u6709\u5165\u5ea6\u4e3a\u96f6\u7684\u70b9\u8bb0\u5165\u5bb9\u5668  \n \u5728\u540e\u9762\u6bcf\u4e2a\u8fb9\u7684\u6307\u5411\u7684\u5165\u5ea6--\uff0c\u5f53\u70b9\u7684\u5165\u5ea6\u53c8\u4e3a0\u65f6\uff0c\u518d\u6b21\u5165\u961f\u3002  \n \u8fd9\u6837\u4e5f\u5c31\u53ef\u4ee5\u4f7f\u8054\u901a\u7684\u904d\u5386\u4e86\u3002\n ```cpp\n#include<bits/stdc++.h>\n//bfs \u7248 \nusing namespace std;\nint n,p1,p2;\nvector<int >a[100010];\nint in[100010];//\u8bb0\u5f55\u8be5\u70b9\u7684\u5165\u5ea6 \nint p,w,cnt;\nqueue<int> q;//\u5176\u5b9e\u8fd9\u91cc\u53ea\u662f\u9700\u8981\u4e00\u4e2a\u5bb9\u5668\uff0cstack\u4e5f\u53ef\uff08\u5927\u6982 \nint t[100001];//\u8bb0\u5f55\u4f4d\u7f6e \n\nint main()\n{\n\tios::sync_with_stdio(false);\n\tcin>>n>>p1>>p2;\n\t\n\tfor(int i=0;i<p1;i++)\n\t{//\u8f93\u5165\u6709\u5411\u8fb9\n\t\tcin>>p>>w;\n\t\tin[w]++;//\u5c06\u6307\u5411\u7684\u70b9\u5165\u5ea6++ \n\t\ta[p].push_back(w);//\u52a0\u5165 \n\t}\n\tfor(int i=1;i<=n;i++)\t\n\t{\n\t\tif(in[i]==0)//\u82e5\u5165\u5ea6\u4e3a\u96f6 \n\t\tq.push(i);//\u5c06\u5176\u653e\u5165\u5bb9\u5668 \n\t}\n\t\n\twhile(q.size()>0)\n\t{\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tt[x]=cnt++;//\u653e\u4f4d\u7f6e \n\t\tfor(int i=0;i<a[x].size();i++)\n\t\t{\n\t\t\tin[a[x][i]]--;\n\t\t\t//\u5c06\u6b64\u70b9\u7684\u8fb9\u6307\u5411\u7684\u70b9\u7684\u5165\u5ea6-- \n\t\t\tif(in[a[x][i]]==0)//\u82e5\u5165\u5ea6\u4e3a\u96f6 \n\t\t\tq.push(a[x][i]);//\u5c06\u5176\u5165\u961f \n\t\t}\n\t\t\n\t}\n\tfor(int i=0;i<p2;i++)\n\t{\n\t\tcin>>p>>w;\n\t\tif(t[p]<t[w])//\u89c2\u5bdf\u4f4d\u7f6e \n\t\tcout<<p<<\" \"<<w<<endl;\n\t\telse\n\t\tcout<<w<<\" \"<<p<<endl;\n\t}\n\t\n\treturn 0;\n}\n```\n\n\n------------\ndfs\u4e3b\u8981\u8fdb\u884c\u7f16\u53f7\uff0c\u4f46\u662f\u4ee5\u5355\u7eaf\u4ee5\u4e00\u4e2a\u70b9\u65e0\u6cd5\u5168\u904d\u5386\u3002  \n\n\u6ce8\u610f\uff1a\u8fd9\u6837\u6240\u6c42\u7684\u5e8f\u662f\u53cd\u7684\u3002\n\n\n\n```cpp\n#include<bits/stdc++.h>\n//dfs \u7248 \nusing namespace std;\nint n,p1,p,q,w;\nvector<int >a[100011];//\u6211\u4eec\u53ef\u4ee5\u53bb\u7528vector\u5b58\u8fb9 \nbool v[100011];//\u8bb0\u5f55\u662f\u5426\u641c\u8fc7 \nint t[100011],cnt;\n//\u5982\u679c \u67d0\u4e2a\u70b9\u60f3 \nvoid dfs(int x) \n{ \n\tfor(int i=0;i<a[x].size();i++)\n\t{ \n\t\tif(!v[a[x][i]])//\u5982\u679c\u6ca1\u5165\u5bb9\u5668 \n\t\tdfs(a[x][i]);//\u4ee5\u4ed6\u4e3a\u4e0b\u4e2a\u8d77\u70b9 \n\t}\n\tv[x]=1;//\u6807\u8bb0\uff0c\u8d70\u8fc7 \n\tt[x]=cnt;//\u7f16\u53f7 \n\tcnt++;\n\treturn ; \n}\n\nint main()\n{\n\tios::sync_with_stdio(false);\n\tcin>>n>>p1>>p2;\n\tfor(int i=0;i<p1;i++)\n\t{\n\t\tcin>>q>>w;\n\t\ta[q].push_back(w);//\u8fb9 \n\t}\n\tfor (int i=1;i<=n;i++) \n\t{//\u591a\u6b21\uff0c\u4e00\u6b21dfs\u5f88\u6709\u53ef\u80fd\u8d70\u4e0d\u5b8c \n\t\tif(!v[i]) //\u5982\u679c\u6ca1\u8d70\u8fc7 \n\t\t\tdfs(i);\n\t}\n\t\n\tfor(int i=0;i<p2;i++)\n\t{\n\tcin>>q>>w;\t//\u56e0\u4e3a dfs\u6c42\u7684\u662f\u5012\u5e8f \n\t\tif (t[q]>t[w])//\u6240\u4ee5\u8fd9\u91cc\u548cbfs\u4e0d\u540c \n\t\t\tcout<<q <<\" \"<<w<<endl;\n\t\t else \n\t\t\tcout<<w <<\" \"<<q<<endl;\n\t}\n\treturn 0;\n}\n```\n[\u5173\u4e8e\u62d3\u6251\u6392\u5e8f](https://oi-wiki.org/graph/topo/)  \n[\u5173\u4e8evector](https://oi-wiki.org/lang/csl/sequence-container/)  \ndfs\u6c42\u62d3\u6251\u5e8f\u7684\u677f\u5b50\n```cpp\nvector<int> G[MAXN];  // vector \u5b9e\u73b0\u7684\u90bb\u63a5\u8868\nint c[MAXN];          // \u6807\u5fd7\u6570\u7ec4\nvector<int> topo;     // \u62d3\u6251\u6392\u5e8f\u540e\u7684\u8282\u70b9\n\nbool dfs(int u) {\n  c[u] = -1;\n  for (int v : G[u]) {\n    if (c[v] < 0)\n      return false;\n    else if (!c[v])\n      if (!dfs(v)) return false;\n  }\n  c[u] = 1;\n  topo.push_back(u);\n  return true;\n}\n\nbool toposort() {\n  topo.clear();\n  memset(c, 0, sizeof(c));\n  for (int u = 0; u < n; u++)\n    if (!c[u])\n      if (!dfs(u)) return false;\n  reverse(topo.begin(), topo.end());\n  return true;\n}\n```\n",
        "postTime": 1616833536,
        "uid": 130114,
        "name": "Hehe_0",
        "ccfLevel": 0,
        "title": "P2017 Dizzy Cows G"
    },
    {
        "content": "**\u601d\u8def**\n\ndfs\u5b8c\u6210**\u62d3\u6251\u6392\u5e8f**\uff0c\u62d3\u6251\u8fd9\u4e2a\u4e1c\u897f\u6838\u5fc3\u5c31\u662f\u6392\u5e8f\uff0c\u6392\u4ec0\u4e48\u5e8f\u5462\uff0c\u5c06\u65e0\u5411\u56fe\u53d8\u6210\u4e00\u4e2a\u6709\u5411\u65e0\u73af\u56fe\uff08DAG\uff09\uff0c\u8fd9\u4e2a\u5c31\u662f\u9898\u76ee\u7684\u8981\u6c42\u5417\uff0c\u53cc\u8fb9\u5c31\u4e0d\u8dd1\uff0c\u53ea\u8dd1\u5355\u8fb9\uff0c\u628a\u62d3\u6251\u5e8f\u627e\u5230\uff0c\u518d\u4f9d\u6b21\u5224\u65ad\u65b9\u5411\n\n\u5bf9\u4e8e\u62d3\u6251\u5e8f\u6765\u8bf4\uff0cdfs\u540e\u6df1\u5ea6\u8d8a\u6d45\u7684\u70b9\uff0c\u62d3\u6251\u5e8f\u8d8a\u5927\uff0c\u7136\u540e\u53ea\u8bb2\u5927\u7684\u6307\u5411\u5c0f\u7684\uff0c\u5c31\u4e0d\u4f1a\u5f62\u6210\u73af\u4e86\n\n```c\n#include <cmath>\n#include <queue>\n#include <cstdio>\n#include <vector>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\n#define ll long long\nusing namespace std;\n\nconst int A = 1e7+10;\nconst int B = 1e6+10;\nconst int mod = 1e9 + 7;\nconst int inf = 0x3f3f3f3f;\n\ninline int read() {\n  char c = getchar();\n  int x = 0, f = 1;\n  for ( ; !isdigit(c); c = getchar()) if (c == '-') f = -1;\n  for ( ; isdigit(c); c = getchar()) x = x * 10 + (c ^ 48);\n  return x * f;\n}\n\nstruct node{int v,nxt,T,tem;}e[B];\nint head[B],cnt,n,m,fa[B],p1,p2,vis[B],t[B];\nvoid modify(int u,int v,int type,int opt)\n{\n\te[++cnt].nxt=head[u];\n\te[cnt].v=v;\n\te[cnt].T=type;\n\te[cnt].tem=opt; \n\thead[u]=cnt;\n}\nint a[B],b[B],pj,root[B];\nvoid per(int u)\n{\n\tfor (int i=head[u];i;i=e[i].nxt)\n\t{\n\t\tint v=e[i].v;\n\t\tif (vis[v]) continue;\n\t\tper(v);\n\t}\n\tvis[u]=1;\n\tt[u]=pj++;\n\treturn;\n}\nint main()\n{\n\tint x,y,js=0;\n\tn=read(),p1=read(),p2=read();\n\tfor (int i=1;i<=p1;i++)\n\t{\n\t\tx=read(),y=read();\n\t\tmodify(x,y,1,0);\n\t}\n\tfor (int i=1;i<=n;i++)\n\t{\n\t\tif (!vis[i]) per(i);\n\t}\n\tfor (int i=1;i<=p2;i++)\n\t{\n\t\tx=read(),y=read();\n\t\tif (t[x]>t[y])\n\t\tprintf(\"%d %d\\n\",x,y);\n\t\telse \n\t\tprintf(\"%d %d\\n\",y,x);\n\t}\n\t\n}\n```",
        "postTime": 1619357528,
        "uid": 230808,
        "name": "Zxsoul",
        "ccfLevel": 4,
        "title": "P2017 [USACO09DEC]Dizzy Cows G"
    },
    {
        "content": "\u8fd9\u4e2a\u53f7\u7684\u7b2c\u4e00\u53d1\u9898\u89e3\n\n\n\n\u5148\u62d3\u6251\u6392\u5e8f\u6309\u6709\u5411\u8fb9\u6392\u5e8f\uff0c\u8bb0\u5f55\u5e8f\u53f7\uff0c\u7136\u540e\u65e0\u5411\u8fb9\u7684\u987a\u5e8f\u6309\u6392\u5e8f\u540e\u5e8f\u53f7\u7684\u5927\u5c0f\u5b9a\u5411\n\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct edg{\n    int x,y,next;\n};\nqueue<int>q;\nedg e[1000000];\nint d[100000],l[1000000],t[1000000];\nint maxn=0,cnt=0;\nvoid add(int x,int y)\n{\n    e[++maxn]=(edg){x,y,l[x]};\n    l[x]=maxn;\n}\nvoid topsort()\n{\n    while(!q.empty()){\n        int now=q.front(); q.pop();\n        for(int i=l[now];i;i=e[i].next)\n            if(!(--d[e[i].y])){\n                q.push(e[i].y);\n                t[e[i].y]=++cnt;\n            }\n    }\n}\nint main()\n{    \n//    freopen(\"dizzy.in\",\"r\",stdin);\n//    freopen(\"dizzy.out\",\"w\",stdout);\n    int n,m1,m2;\n    scanf(\"%d%d%d\",&n,&m1,&m2);\n    for (int i=1;i<=m1;i++){\n        int x,y;\n        scanf(\"%d%d\",&x,&y);\n        add(x,y);\n        ++d[y];\n    }\n    for (int i=1;i<=n;i++)\n        if (!d[i]){\n            q.push(i);\n            t[i]=++cnt;\n        }\n    topsort();\n    for(int i=1;i<=m2;i++){\n        int x,y;\n        scanf(\"%d%d\",&x,&y);\n        if(t[x]<t[y])printf(\"%d %d\\n\",x,y);\n        else printf(\"%d %d\\n\",y,x);\n    }\n    return 0;\n}\n```",
        "postTime": 1491631564,
        "uid": 34604,
        "name": "\u5c0f\u624b\u51b0\u51c9",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2017 \u3010[USACO09DEC]\u6655\u725bDizzy Cows\u3011"
    },
    {
        "content": "### \u89e3\u9898\u601d\u8def\uff1a\n\n\u5148\u8003\u8651\u6ca1\u6709\u6709\u5411\u8fb9\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u76f4\u63a5\u7ed9\u6240\u6709\u7684\u70b9\u4e00\u4e2a\u4e0d\u91cd\u7684\u6743\u503c\uff0c\u8ba9\u6240\u6709\u7684\u6743\u503c\u5927\u7684\u70b9\u7ed9\u5e8f\u53f7\u5c0f\u7684\u70b9\u8fde\u8fb9\uff0c\u8fd9\u6837\u6240\u6709\u7684\u70b9\u53ea\u80fd\u8d70\u5230\u6bd4\u5176\u6743\u503c\u5c0f\u7684\u70b9\uff0c\u4e0d\u5b58\u5728\u73af\uff0c\u4e14\u6240\u6709\u7684\u8fb9\u90fd\u4e00\u5b9a\u80fd\u88ab\u5b9a\u5411\u3002\n\n\u5982\u679c\u5176\u4e2d\u591a\u4e86\u82e5\u5e72\u7684\u6709\u5411\u8fb9\uff0c\u4e5f\u5c31\u662f\u8981\u6c42\u5982\u679c\u5b58\u5728\u4e00\u6761\u6709\u5411\u8fb9 $u$ \u8fde\u5411 $v$\uff0c$u$ \u7684\u6743\u503c\u4e00\u5b9a\u8981\u6bd4 $v$ \u7684\u5927\u3002\u5bf9\u4e8e\u8fd9\u6837\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u5148\u53ea\u4fdd\u7559\u6709\u5411\u8fb9\uff0c\u8fdb\u884c\u56fe\u7684\u62d3\u6251\u6392\u5e8f\u5c31\u80fd\u5f97\u5230\u8fd9\u6837\u7684\u4e00\u4e2a\u6743\u503c\u5e8f\u5217\u3002\n\n\u590d\u6742\u5ea6 $O(n)$\u3002\n\n---\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\nusing namespace std;\nconst int MAXN=200005;\nint n,m1,m2,head[MAXN],nxt[MAXN],num[MAXN],tot,x,y,d[MAXN],val[MAXN],cnt;\nint q[MAXN],l,r;\nvoid add(int x,int y){\n\tnxt[++tot]=head[x];\n\thead[x]=tot;\n\tnum[tot]=y;\n}\nint main(){\n\tscanf(\"%d%d%d\",&n,&m1,&m2);\n\tfor(int i=1;i<=m1;i++){\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tadd(x,y);\n\t\td[y]++;\n\t}\n\tl=1;\n\tfor(int i=1;i<=n;i++)\n\tif(d[i]==0)q[++r]=i;\n\twhile(l<=r){\n\t\tint now=q[l];\n\t\tval[now]=++cnt;\n\t\tfor(int i=head[now];i;i=nxt[i]){\n\t\t\td[num[i]]--;\n\t\t\tif(d[num[i]]==0)q[++r]=num[i];\n\t\t}\n\t\tl++;\n\t}\n\tfor(int i=1;i<=m2;i++){\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tif(val[x]<val[y])printf(\"%d %d\\n\",x,y);\n\t\telse printf(\"%d %d\\n\",y,x);\n\t}\n\treturn 0;\n}\n```\n\n\n",
        "postTime": 1669369018,
        "uid": 223559,
        "name": "qxp101",
        "ccfLevel": 6,
        "title": "P2017 [USACO09DEC]Dizzy Cows G \u9898\u89e3"
    },
    {
        "content": "\u524d\u8a00\uff0c\u6211\u6709\u4e00[\u5e7f\uff08\u535a\uff09\u544a\uff08\u5ba2\uff09](https://www.cnblogs.com/gengyf/)\uff0c\u5927\u4f6c\u70b9\u5f00\u770b\u770b\u5427\uff0co(*////\u25bd////*)q\n\n------------\n\n\u9996\u5148\uff0c\u770b\u89c1\u6709\u5411\u8fb9\u65e0\u73af\uff0c\u6211\u5c31\u60f3\u5230\u4e86\u62d3\u6251\u6392\u5e8f~~\u624d\u4e0d\u662f\u770b\u4e86\u8ba8\u8bba\u4e4b\u540e\u624d\u77e5\u9053\u7684~~\n\u62d3\u6251\u6392\u5e8f\u662f\u4ec0\u4e48\uff0c\u76f8\u4fe1\u5927\u5bb6\u90fd\u77e5\u9053\u4e86\uff0c\u6211\u5c31\u4e0d\u5728\u8bf4\u4e86\uff0c\u4e0d\u77e5\u9053\u4e86\uff0c\u6211\u5e2e\u4f60[\u767e\u5ea6](https://baike.baidu.com/item/\u62d3\u6251\u6392\u5e8f/5223807?fr=aladdin)\u554a\n\n\n------------\n   \u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u4e00\u4e2a\u6027\u8d28\uff1a\u62d3\u6251\u5e8f\u5728\u540e\u9762\u7684\u70b9\uff08\u4f8b\u5982a)\u548c\u62d3\u6251\u5e8f\u5728\u540e\u9762\u7684\u70b9\uff08\u4f8b\u5982b\uff09\uff0c\u8fde\u4e00\u6761\u4eceb\u5230a\uff0c\u5c31\u4f1a\u5f62\u6210\u73af\u5982\u4e0b\u56fe\n   \n   \uff08\u4ed6\u8001\u662f\u6302\uff0c\u5c31\u770b[\u7f51\u76d8&&\u5bc6\u7801\uff1agyhv](https://pan.baidu.com/s/1_Nf2pmjqZTd8WIH8AR-Dxw)QAQ\uff0c\u771f\u662f\u62b1\u6b49\u554a\uff09\n   \n   \u6240\u4ee5\uff0c\u6309\u9898\u76ee\u8981\u6c42\uff0c\u6211\u4eec\u8981\u907f\u514d\u6210\u73af\uff0c\u6240\u4ee5\u8981\u5728\u540e\u9762\u8bfb\u5165\u65e0\u5411\u8fb9\u65f6\uff0c\u53bb\u5224\u65ad\u4ed6\u4eec\u7684\u62d3\u6251\u5e8f\u3002\u4e3a\u4e86\u65b9\u4fbf\u7684\u5904\u7406\u65e0\u5411\u8fb9\uff0c\u6211\u4eec\u89c4\u5b9a\u5982\u679c\u8bfb\u5165\u8fb9a,b\uff0c\u5219\u8fd9\u6761\u8fb9\u5c31\u662fa\u6307\u5411b\uff0c\u5982\u679c\u8fd9\u6761\u8fb9\u7684\u6307\u5411\u7834\u574f\u62d3\u6251\u5e8f\u7684\u8bdd\uff0c\u5c31\u8981\u6539\u53d8\u6307\u5411\uff0c\u5373\u53d8\u4e3a\u7531b\u6307\u5411a\n   \n   \u6837\u4f8b\u8bf4\u660e\n   \n   (\u6211\u7684\u6837\u4f8b\u8bf4\u660e\u4e5f\u6302\u4e86\uff0c\u5624\u5624\u5624(\u3063 \u00b0\u0414 \u00b0;)\u3063\uff0c\u6240\u4ee5\u8fd8\u662f\u8bf7\u5927\u5bb6\u8fd9\u5f20\u56fe\u4e5f\u53bb\u770b[\u7f51\u76d8&&\u5bc6\u7801\uff1ax6r9](https://pan.baidu.com/s/1FKQvq8eMezkVQaSAxk7tVQ)\u771f\u7684\u5bf9\u4e0d\u8d77\uff09\n   \n\n------------\n\n   \u7136\u540e\u662f\u6109\u60a6\u7684\u4ee3\u7801\u65f6\u95f4\n   ```cpp\n#include<iostream>\n#include<cstdio>\n#include<queue>\nusing namespace std;\nconst int MAXN=100001;\nint tot,a,b,n,p1,p2,cnt;int top[MAXN];\n//top\u662f\u62d3\u6251\u6392\u5e8f\u540e\u6bcf\u4e2a\u6570\u7684\u7f16\u53f7 \nint head[MAXN],ver[MAXN],nxt[MAXN],deg[MAXN];//\u5b58\u56fe \nvoid add(int x,int y){\n    ver[++tot]=y;nxt[tot]=head[x];\n    head[x]=tot;deg[y]++;\n}\nvoid topsort(){//\u62d3\u6251\u6392\u5e8f \n    queue<int> q;\n    for(register int i=1;i<=n;i++)\n        if(deg[i]==0) q.push(i),top[i]=++cnt;\n    while(q.size()){\n        int x=q.front();q.pop();\n        for(register int i=head[x];i;i=nxt[i]){\n            int y=ver[i];\n            if(!(--deg[y])) q.push(y),top[y]=++cnt;\n        }\n    }\n}\nint main(){\n    scanf(\"%d%d%d\",&n,&p1,&p2);\n    for(register int i=1;i<=p1;i++)\n        scanf(\"%d%d\",&a,&b),add(a,b);\n    topsort();\n    for(register int i=1;i<=p2;i++){\n        scanf(\"%d%d\",&a,&b);\n        if(top[a]>top[b]) printf(\"%d %d\\n\",b,a);\n        //\u5982\u679c\u5728\u539f\u672c\u62d3\u6251\u6392\u5e8f\u4e2da\u7684\u5e8f\u5217\u5728b\u540e\u9762\uff0c\u5f3a\u884c\u8fde\u4e00\u6761\u4ecea\u5230b\u7684\u8fb9\uff0c\u4f1a\u6709\u73af \n        else printf(\"%d %d\\n\",a,b);\n    }\n    return 0;\n}\n```\n\u6700\u540e\u7684\u56fd\u9645\u60ef\u4f8b\uff1athankyou for your attention",
        "postTime": 1556375254,
        "uid": 145411,
        "name": "the_Death",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2017 \u3010[USACO09DEC]\u6655\u725bDizzy Cows\u3011"
    },
    {
        "content": "\u968f\u673a\u8df3\u5230\u8fd9\u9898\uff0c\u83ab\u540d\u5176\u5999\u7684\u4e00\u4e2a\u601d\u8def\uff0c\u7136\u540e\u5c31\u83ab\u540d\u5176\u5999\u7684\u84dd\u9898AC+1\u4e86\n\n~\\(\u2267\u25bd\u2266)/~\u5566\u5566\u5566\n\n\u6211\u7684\u601d\u8def\u5927\u4f53\u662f\u8fd9\u6837\u7684\uff0c\u5982\u679c\u4e00\u4e2a\u6709\u5411\u56fe\u6ca1\u6709\u73af\uff0c\u90a3\u4e48\u4e00\u5b9a\u53ef\u4ee5\u8fdb\u884c\u62d3\u6251\u6392\u5e8f\n\n\u6240\u4ee5\u6211\u4eec\u53bb\u60f3\u62d3\u6251\n\n\u5bf9\u4e8e\u539f\u6765\u7684\u56fe\uff0c\u6211\u4eec\u6839\u636e\u6709\u5411\u8fb9\u7edf\u8ba1\u5165\u5ea6\uff0c\u7136\u540e\u6839\u636e\u8fd9\u4e2a\u5165\u5ea6\u8fdb\u884c\u62d3\u6251\u6392\u5e8f\n\n\u4e0d\u65ad\u7684\u62ff\u51fa\u62d3\u6251\u6392\u5e8f\u961f\u5217\u91cc\u7684\u70b9\uff0c\u62ff\u51fa\u8fde\u4e0a\u5b83\u7684\u8fb9\uff0c\u5982\u679c\u8fd9\u4e2a\u8fb9\u662f\u6709\u5411\u8fb9\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u5b89\u5b89\u5fc3\u5fc3\u7684toposort~~\u82f1\u6587\u540d\u9ad8\u5927\u4e0a~~\n\n\u5982\u679c\u662f\u65e0\u5411\u8fb9\uff0c\u90a3\u4e48\u5c31\u89c4\u5b9a\u4e0a\u5b83\u7684\u65b9\u5411\u5c31\u662f\u8fd9\u4e2a\u961f\u5217\u62ff\u51fa\u6765\u7684\u70b9\u6307\u5411\u8fd9\u65e0\u5411\u8fb9\u7684\u53e6\u4e00\u70b9\uff0c\u7136\u540e\u8bb0\u5f97\u628a\u8fd9\u4e2a\u65e0\u5411\u8fb9\u6807\u8bb0\u4e0a\uff0c\u4e0d\u8981\u8ba9\u5b83\u518d\u62ff\u51fa\u6765\uff01\uff01\uff01\n\n\u56e0\u4e3a\u62d3\u6251\u6392\u5e8f\u7684\u539f\u56e0\uff0c\u6240\u4ee5\u6211\u4eec\u8fd9\u6837\u7684\u7ed3\u679c\u4e00\u5b9a\u662f\u6b63\u786e\u7684\n\n\u5177\u4f53\u6807\u8bb0\u65e0\u5411\u8fb9\u7b49\u7b49\u505a\u6cd5\uff0c\u4e14\u8bf7\u5ba2\u5b98\u770bAC\u4ee3\u7801\n\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<queue>\nusing namespace std;\nint fr[100010],to[400010],nex[400010],tl;\nint Fr[100010],To[400010];\nbool fl[400010],vis[400010];\nint sy[400010];\nvoid add(int x,int y,bool f){\n\tto[++tl]=y;nex[tl]=fr[x];fr[x]=tl;fl[tl]=f;\n}\nint du[100010],cnt;\nint n,p1,p2,x,y;\nqueue<int> q;\nint main(){\n\tscanf(\"%d%d%d\",&n,&p1,&p2);\n\tfor(int i=1;i<=p1;i++){\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tadd(x,y,false);\n\t\tdu[y]++;\n\t}\n\tfor(int i=1;i<=p2;i++){\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tadd(x,y,true);add(y,x,true);\n\t\tsy[tl]=sy[tl-1]=++cnt;//\u8fd9\u4e2a\u6570\u7ec4\u4fbf\u4e8e\u8bb0\u5f55\u65e0\u5411\u8fb9\u7684\u4fe1\u606f\n\t}\n\tfor(int i=1;i<=n;i++) if(!du[i]) q.push(i);\n\twhile(!q.empty()){\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tfor(int i=fr[x];i;i=nex[i]){\n\t\t\tif(!fl[i]){\n\t\t\t\tif((--du[to[i]])==0) q.push(to[i]);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif(vis[sy[i]]) continue;//\u591a\u597d\u7528\n\t\t\t\tvis[sy[i]]=true;\n\t\t\t\tFr[sy[i]]=x;\n\t\t\t\tTo[sy[i]]=to[i];\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=cnt;i++) printf(\"%d %d\\n\",Fr[i],To[i]);\n\treturn 0;\n}\n```\n\n\u8fd9\u9053\u9898\u771f\u7684\u6ca1\u6709spj(\u2299_\u2299)\uff1f~~\u4ec0\u4e48\u53eb\u5e38\u89c4\u65b9\u6cd5~~",
        "postTime": 1541482437,
        "uid": 56916,
        "name": "\u8fdd\u89c4\u7528\u6237\u540dU56916",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2017 \u3010[USACO09DEC]\u6655\u725bDizzy Cows\u3011"
    },
    {
        "content": "### \u9898\u76ee\u63cf\u8ff0\n\n\u7ed9\u5b9a\u4e00\u4e2a\u56fe\uff0c\u6709\u6709\u5411\u8fb9\u6709\u65e0\u5411\u8fb9\u3002\u73b0\u8981\u6c42\u4f60\u7ed9\u6bcf\u4e2a\u65e0\u5411\u8fb9\u8d4b\u4e88\u4e00\u4e2a\u65b9\u5411\uff0c\u4f7f\u6574\u4e2a\u56fe\u53d8\u4e3a\u4e00\u4e2a\u6709\u5411\u65e0\u73af\u56fe\u3002\n\n### \u89e3\u6cd5\n\n\u89c2\u5bdf\u5230\u6709\u5411\u65e0\u73af\u56fe\u8fd9\u4e2a\u5b57\u773c\uff0c\u6211\u4eec\u5f88\u5bb9\u6613\u60f3\u5230\u62d3\u6251\u6392\u5e8f\u3002\u5728\u62d3\u6251\u6392\u5e8f\u540e\uff0c\u6240\u6709\u7684\u6709\u5411\u8fb9\u7684\u6027\u8d28\u5c31\u662f\u90fd\u4e3a\u7531\u62d3\u6251\u5e8f\u5c0f\u7684\u70b9\u6307\u5411\u62d3\u6251\u5e8f\u5927\u7684\u70b9\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5206\u79bb\u51fa\u6709\u5411\u8fb9\uff0c\u5bf9\u8fd9\u4e9b\u6709\u5411\u8fb9\u8fdb\u884c\u62d3\u6251\u6392\u5e8f\u3002\u8ba9\u65e0\u5411\u8fb9\u4e2d\u62d3\u6251\u5e8f\u5c0f\u7684\u6307\u5411\u5927\u7684\u518d\u8f93\u51fa\u3002\u8fd9\u5c31\u76f8\u5f53\u4e8e\u5206\u4e86\u4e00\u4e2a\u5c42\u3002\u80af\u5b9a\u8981\u5411\u6df1\u5ea6\u5c0f\u7684\u5411\u6df1\u5ea6\u5927\u7684\u6307\u3002\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u76f4\u89c2\u7684\u60f3\u6cd5\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <vector>\n#include <queue>\n\nusing namespace std;\nconst int maxn = 2e5 + 5;\n\nint n, m1, m2, d[maxn];\nint q1[maxn], q2[maxn], q0[maxn], c[maxn];\nvector<int> e[maxn];\nvector<int> l;\n\nbool topsort() {\n\tqueue<int> q;\n\tfor(int i = 1; i <= n; i ++) \n\t\tif(d[i] == 0) q.push(i);\n\twhile(!q.empty()) {\n\t\tint u = q.front();\n\t\tq.pop();\n\t\tl.push_back(u);\n\t\tfor(auto v : e[u]) {\n\t\t\tif(-- d[v] == 0) {\n\t\t\t\tq.push(v);\n\t\t\t}\n\t\t}\n\t}\n\tbool chk = 1;\n\tfor(int i = 1; i <= n; i ++)\n\t\tchk &= (d[i] == 0);\n\treturn chk;\n}\n\nvoid solve() {\n\tscanf(\"%d%d%d\", &n, &m1, &m2);\n\tfor(int i = 1; i <= n; i ++)\n\t\te[i].clear(), d[i] = 0;\n\tl.clear();\n\tfor(int i = 1, op, u, v; i <= m1; i ++) {\n\t\tscanf(\"%d%d\",&u, &v);\n\t\te[u].push_back(v), d[v] ++;\n\t\tq1[i] = u, q2[i] = v;\n\t}\n\tfor(int i = m1 + 1, op, u, v; i <= m1 + m2; i ++) {\n\t\tscanf(\"%d%d\", &u, &v);\n\t\tq1[i] = u, q2[i] = v;\n\t}\n\tif(!topsort()) cout << \"NO\" << endl;\n\telse {\n\t\tint i = 0;\n\t\tfor(auto w : l) {\n\t\t\ti ++;\n\t\t\tc[w] = i;\n\t\t}\n\t\tfor(int i = m1 + 1; i <= m1 + m2; i ++) {\n\t\t\tif(c[q1[i]] < c[q2[i]])\n\t\t\t\tcout << q1[i] << ' ' << q2[i] << endl;\n\t\t\telse \n\t\t\t\tcout << q2[i] << ' ' << q1[i] << endl;\n\t\t}\n\t}\n\t// puts(\"\");\n}\n\nint main() {\n\tint t;\n\tt = 1;\n\twhile(t --) solve();\n}\n```",
        "postTime": 1667289149,
        "uid": 294745,
        "name": "Sora1336",
        "ccfLevel": 0,
        "title": "\u53cc\u500d\u7ecf\u9a8c"
    },
    {
        "content": "## \u9898\u76ee\u7b80\u8ff0\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P2017)\n\n\u7ed9\u5b9a\u4e00\u4e2a $n$ \u4e2a\u70b9 $p1$ \u6761\u8fb9\u7684\u6709\u5411\u65e0\u73af\u56fe\uff0c\u518d\u7ed9\u51fa $p2$ \u6761\u65e0\u5411\u8fb9\u3002\n\n\u8f93\u51fa\u4e00\u4e2a\u65e0\u5411\u8fb9\u5b9a\u5411\u65b9\u6848\u4f7f\u5f97\u8be5\u56fe\u4ecd\u4e3a\u6709\u5411\u65e0\u73af\u56fe\u3002\n\n## \u601d\u8def\u7b80\u8ff0\n\n\u80fd\u8fde\u8fb9 $u$ $\\rightarrow$ $v$ \u7684\u524d\u63d0\u662f\u6ca1\u6709\u8def\u5f84\u4f7f\u5f97 $v$ \u53ef\u4ee5\u5230 $u$ \u3002\n\n\u5bb9\u6613\u60f3\u5230\u62d3\u6251\u6392\u5e8f\uff0c\u5e76\u8bb0\u5f55\u70b9\u7684\u5165\u961f\u65f6\u95f4 $ti[]$\u3002\n\n\u53d1\u73b0\u4e00\u4e2a\u6027\u8d28\uff1a\u82e5 $ti[u] \\lt ti[v]$ , \u5219\u4e00\u5b9a\u4e0d\u5b58\u5728\u4e00\u6761\u8def\u5f84\u4f7f\u5f97 $v$ \u53ef\u4ee5\u5230 $u$ \u3002\n\n\u6240\u4ee5\u5bf9\u4e8e\u6bcf\u4e00\u6761\u65e0\u5411\u8fb9\uff0c\u51fa\u961f\u65f6\u95f4\u65e9\u7684\u70b9\u5411\u51fa\u961f\u665a\u7684\u70b9\u8fde\u8fb9\u5373\u53ef\u3002\n\n## \u4e11\u964b\u306e\u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ninline int init() {\n\tchar c;\n\twhile (!isdigit(c = getchar()));\n\tint x(c ^ 48);\n\twhile (isdigit(c = getchar())) x = x * 10 + (c ^ 48);\n\treturn x;\n}\nint n, p1, p2, head[100005], in[100005], id[100005], cnt, tot;\nstruct Edge {int to, nxt;}e[100005];\nvoid add(int v, int u) {\n\te[++tot] = (Edge) {v, head[u]};\n\thead[u] = tot, ++in[v];\n}\nint main() {\n\tn = init(), p1 = init(), p2 = init();\n\tfor (int i(1); i <= p1; ++i) add(init(), init());\n\tqueue<int> q;\n\tfor (int i(1); i <= n; ++i)\n\t\tif (!in[i]) q.push(i);\n\twhile (q.size()) {\n\t\tint u(q.front()); q.pop(); id[u] = ++cnt;\n\t\tfor (int i(head[u]); i; i = e[i].nxt) \n\t\t\tif (!--in[e[i].to]) q.push(e[i].to);\n\t}\n\tfor (int i(1); i <= p2; ++i) {\n\t\tint u(init()), v(init());\n\t\tif (id[u] > id[v]) swap(u, v);\n\t\tprintf(\"%d %d\\n\", u, v);\n\t}\n\treturn 0;\n}\n```\n\n~~\u8fd9\u4e48\u6c34\u7684\u84dd\u9898\u5e94\u8be5\u6ca1\u4eba\u505a\u5427~~",
        "postTime": 1646543715,
        "uid": 312306,
        "name": "LJ07",
        "ccfLevel": 0,
        "title": "[Solution]P2017 [USACO09DEC]Dizzy Cows G"
    },
    {
        "content": "\u8fd9\u9898\u76ee\u5c31\u5f88\u5947\u602a(?\n\n\u9996\u5148\u4e00\u770b\u9898\u9762\uff0c~~(DAG? topu_sort \u6211\u6765\u4e86\uff01)~~\uff0c\u5b83\u8ba9\u4f60\u628a\u4e00\u5f20\u56fe\u7684\u65e0\u5411\u8fb9\u6539\u4e3a\u6709\u5411\u8fb9\uff0c\u7136\u540e\u4f7f\u5f97\u6574\u5f20\u56fe\u6ca1\u6709\u73af\u3002\n\n\u90a3\u4e48\u601d\u8def\u662f\u8fd9\u6837\u7684\uff0c\u9996\u5148\u505a\u4e00\u904d topu_sort \u7136\u540e\u628a\u90a3\u4e9b\u6ca1\u7528\u7684\u8282\u70b9\u5168\u90e8\u5220\u6389\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u67d0\u4e00\u4e2a\u8282\u70b9\uff0c\u82e5\u5b83\u6ca1\u6709\u6709\u5411\u8fb9\u7684\u5165\u5ea6\uff0c\u5f3a\u5236\u628a\u5b83\u5165\u5ea6\u5236\u4e3a $0$\uff0c\u7136\u540e\u5bf9\u5b83\u540e\u9762\u7684\u65e0\u5411\u8fb9\u8fde\u63a5\u7684\u8282\u70b9\u66f4\u65b0\uff0c\u987a\u4fbf\u8bb0\u5f55\u4e00\u4e0b\u7b54\u6848\u3002\n\n\u7136\u540e\u53ef\u4ee5\u7528\u4e00\u4e2a\u5f88\u795e\u5947\u7684\u66b4\u529b\uff0c\u82e5\u6ca1\u6709\u53ef\u4ee5\u66f4\u65b0\u7684\u8282\u70b9\u5c31\u9000\u51fa\u3002 (\u56e0\u4e3a\u6211\u6015\u53ef\u80fd\u4f1a\u6709\u679a\u4e3e\u5230\u6700\u540e\uff0c\u5220\u6389\u4e00\u4e9b\u6709\u5411\u8fb9\u4e4b\u540e\u4f1a\u6709\u65b0\u7684\u53ef\u88ab\u9009\u5165\u5165\u5ea6\u5f3a\u5236\u5236 $0$ \u7684\u8282\u70b9)\n\n\u56e0\u4e3a\u9898\u76ee\u4fdd\u8bc1\u6709\u5411\u8fb9\u65e0\u73af\uff0c\u6240\u4ee5\u80af\u5b9a\u4f1a\u6709\u4e00\u6b21\u5b8c\u6210\u5220\u9664\u7684\u3002\n\n\u6700\u7ec8\u7edf\u8ba1\u7b54\u6848\u7684\u65f6\u5019\u79bb\u7ebf\u4e00\u4e0b (\u9898\u76ee\u8981\u6c42\u6309\u987a\u5e8f\u8f93\u51fa)\n\n\u4e8e\u662f\u5c31\u6109\u5feb\u5730 AC \u4e86\u3002\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <queue>\n#include <cstring>\nusing namespace std;\nconst int INF=2e5+5;\nint n,m,m1,in[INF],head[INF],tot,ans[INF],ans1[INF],vis[INF];\nqueue <int> q;\nstruct _node_edge {\n        int to_,next_,kk,fl;\n} edge[INF*5];\nvoid add_edge(int x,int y,int flag,int kk) {\n        edge[++tot]=(_node_edge){y,head[x],kk,flag};\n        head[x]=tot; in[y]++; if (!flag) vis[y]++; return;\n}\nvoid topu_sort(){\n        for (int i=1; i<=n; i++) if (!in[i]) q.push(i);\n        while (q.size()) {\n                int xx=q.front(); q.pop();\n                for (int i=head[xx]; i; i=edge[i].next_) {\n                        if (!in[edge[i].to_]) continue;\n                        if (edge[i].fl) {ans[edge[i].kk]=xx; ans1[edge[i].kk]=edge[i].to_;}\n                        vis[edge[i].to_]-=(!edge[i].fl);\n                        if (!--in[edge[i].to_]) q.push(edge[i].to_);\n                }\n        }\n        return;\n}\nvoid topu_sort1(int x){\n        q.push(x);\n        while (q.size()) {\n                int xx=q.front(); q.pop();\n                for (int i=head[xx]; i; i=edge[i].next_) {\n                        if (!in[edge[i].to_]) continue;\n                        if (edge[i].fl) {ans[edge[i].kk]=xx; ans1[edge[i].kk]=edge[i].to_;}//cout<<xx<<\" \"<<edge[i].to_<<\"\\n\";\n                        vis[edge[i].to_]-=(!edge[i].fl);\n                        if (!--in[edge[i].to_]) { q.push(edge[i].to_);}\n                }\n        }\n        return;\n}\nsigned main()\n{\n        // freopen(\"P2017_2.in\",\"r\",stdin);\n        // freopen(\"ans.out\",\"w\",stdout);\n        scanf(\"%d %d %d\",&n,&m,&m1);\n        for (int i=1; i<=m; i++) {\n                int x=0,y=0; scanf(\"%d %d\",&x,&y);\n                add_edge(x,y,0,i);\n        }\n        for (int j=1; j<=m1; j++) {\n                int x=0,y=0; scanf(\"%d %d\",&x,&y);\n                add_edge(y,x,1,j); add_edge(x,y,1,j);\n        }\n        topu_sort();\n        int flag1=false;\n        while (!flag1) {\n                flag1=true;\n                for (int i=1; i<=n; i++) {\n                        if (!in[i] || vis[i]) continue;\n                        in[i]=0;  topu_sort1(i); flag1=false;\n                }\n        }\n        for (int i=1; i<=m1; i++) cout<<ans[i]<<\" \"<<ans1[i]<<\"\\n\";\n        return 0;\n}\n\n```\n",
        "postTime": 1608300242,
        "uid": 208653,
        "name": "_edge_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2017 \u3010[USACO09DEC]Dizzy Cows G\u3011"
    },
    {
        "content": "#### \u89e3\u9898\u601d\u8def\n\u521a\u770b\u5230\u8fd9\u4e2a\u9898\u7684\u65f6\u5019\uff0c\u6309\u76f4\u89c9\u5199\u4e86\u4e2a\u5047\u62d3\u6251\uff0c\u4e8e\u662fWA\u6210\u4e8610\u5206\uff0c\u63a5\u7740\u6211\u624d\u53d1\u73b0\u81ea\u5df1\u539f\u6765\u5bf9\u62d3\u6251\u6392\u5e8f\u7684\u7406\u89e3\u8fd8\u662f\u4e0d\u591f\u5230\u4f4d\u3002\u4ed4\u7ec6\u8003\u8651\u4e86\u62d3\u6251\u7684\u672c\u8d28\u540e\uff0c\u53d1\u73b0\u8fd9\u4e2a\u9898\u7eaf\u5c5e\u8003\u9a8c\u601d\u7ef4\uff0c\u5176\u5b9e\u76f4\u63a5\u6309\u62d3\u6251\u6392\u5e8f\u5c06\u8d70\u8fc7\u7684\u65e0\u5411\u8fb9\u67d3\u8272\u5373\u53ef\u3002\n\n\u611f\u6027\u8ba4\u77e5\uff1a\n\u5047\u8bbe\u4f60\u52a0\u5165\u8fb9$e[i]$\u7684\u65f6\u5019\u5f62\u6210\u4e86\u4e00\u4e2a\u73af\uff0c\u90a3\u4e48\u8bf4\u660e$e[i].v$\u4e00\u5b9a\u6709\u4e00\u6761\u51fa\u8fb9\u7ecf\u8fc7\u6570\u4e2a\u70b9\u540e\u8fbe\u5230\u4e86$e[i].u$\uff0c\u5e76\u4e14\u6b64\u65f6$e[i]$\u8fd8\u6ca1\u6709\u88ab\u67d3\u8272\u3002\u8fd9\u4e00\u5b9a\u662f\u4e0d\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u5728\u505a\u7684\u662f\u62d3\u6251\u6392\u5e8f\uff0c\u800c\u62d3\u6251\u7684\u8fc7\u7a0b\u4e0d\u4f1a\u51fa\u73b0\u73af\uff01\u65e2\u7136\u73b0\u5728\u8d70\u5230\u4e86$e[i].u$\uff0c\u90a3\u4e48\u8bf4\u660e\u62d3\u6251\u5e8f\u66f4\u9760\u524d\u7684$e[i].v$\u5df2\u7ecf\u88ab\u8d70\u8fc7\u4e86\uff0c\u800c\u8d70\u5230$e[i].v$\u65f6\uff0c$e[i]$\u4e00\u5b9a\u4f1a\u88ab\u67d3\u8272\u3002\u6240\u4ee5\u5047\u8bbe\u4e0d\u6210\u7acb\u3002\n\n#### AC\u4ee3\u7801\n```cpp\n#include <algorithm>\n#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <cctype>\n#include <queue>\n\nusing namespace std;\n\nconst int N = 3e5;\n\nint n, m1, m2, A, B, ec = -1;\nint a[N], b[N], vis[N], ind[N], f[N];\n\nstruct Edge\n{\n\tint u, v, w, nxt;\n}e[N << 1];\n\ninline void Addedge(int a, int b, int c)\n{\n\t++ec;\n\te[ec].u = a;\n\te[ec].v = b;\n\te[ec].w = c;\n\te[ec].nxt = f[a];\n\tf[a] = ec;\n}\n\ninline void read(int &x)\n{\n\tint k = 1; x = 0;\n\tchar c = getchar();\n\twhile (!isdigit(c))\n\t\tif (c == '-') c = getchar(), k = -1;\n\t\telse c = getchar();\n\twhile (isdigit(c))\n\t\tx = (x << 1) + (x << 3) + (c ^ 48),\n\t\tc = getchar();\n\tx *= k;\n}\n\nqueue <int> q;\n\nvoid topsort(void)\n{\n\twhile (!q.empty())\n\t{\n\t\tint cur = q.front(); q.pop();\n\t\tfor (int i = f[cur]; i != -1; i = e[i].nxt)\n\t\t{\n\t\t\tif (e[i].w == 1 && e[i ^ 1].w != -1)\n\t\t\t\t{ e[i].w = -1; continue; }\n\t\t\tind[e[i].v]--;\n\t\t\tif (ind[e[i].v] == 0) \n\t\t\t\tq.push(e[i].v), vis[e[i].v] = 1;\n\t\t}\n\t}\n\twhile (!q.empty()) q.pop();\n}\n\nint main()\n{\n\tmemset(f, -1, sizeof(f));\n\tread(n), read(m1), read(m2);\n\tfor (int i = 1; i <= m1; ++i)\n\t\tread(a[i]), read(b[i]);\n\tfor (int i = 1; i <= m2; ++i)\n\t\tread(A), read(B), Addedge(A, B, 1), Addedge(B, A, 1);\n\tfor (int i = 1; i <= m1; ++i)\n\t\tAddedge(a[i], b[i], 0), ++ind[b[i]];\n\tfor (int i = 1; i <= n; ++i)\n\t\tif (ind[i] == 0) \n\t\t\tq.push(i), vis[i] = 1;\n\ttopsort();\n\tfor (int i = 0; i <= ec; ++i)\n\t\tif (e[i].w == -1)\n\t\t\tprintf(\"%d %d\\n\", e[i].u, e[i].v);\n\treturn 0;\n}\n```",
        "postTime": 1550823356,
        "uid": 26512,
        "name": "Christopher_Yan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2017 \u3010[USACO09DEC]\u6655\u725bDizzy Cows\u3011"
    },
    {
        "content": "[\u67e5\u770b\u539f\u9898\u8bf7\u6233\u8fd9\u91cc](https://www.luogu.org/problemnew/show/P2017 \"\u67e5\u770b\u539f\u9898\u8bf7\u6233\u8fd9\u91cc\")\n# \u6bcf\u9519\uff0c\u8fd9\u662f\u4e00\u9053\u62d3\u6251\u6392\u5e8f\u7684\u9898\u3002\n### \u4e3a\u4ec0\u4e48\u8fd9\u4e48\u8bf4\u5462\uff1f\n\u56e0\u4e3a\u62d3\u6251\u6392\u5e8f\u7684\u524d\u63d0\u8981\u6c42\u662f\u8fdb\u884c\u6392\u5e8f\u7684\u56fe\u5fc5\u987b\u662fDAG\u3002\u6211\u4eec\u5728\u770b\u8fd9\u9053\u9898\u7684\u8981\u6c42\uff0c\u5c31\u4f1a\u53d1\u73b0\uff0c\u5f53\u4f60\u628a\u6240\u6709\u53cc\u5411\u8fb9\u6539\u6210\u5355\u5411\u8fb9\u4ee5\u540e\uff0c\u8fd9\u4e2a\u56fe\u5c31\u4e00\u5b9a\u662f\u4e00\u4e2aDAG\uff0c\u5426\u5219\u4e00\u5b9a\u65e0\u89e3\u3002\n### \u5462\u4e48\uff0c\u6211\u4eec\u8be5\u600e\u4e48\u8fdb\u884c\u62d3\u6251\u6392\u5e8f\u5462\uff1f\n\u9996\u5148\uff0c\u5bf9\u4e8e\u7ed9\u51fa\u7684\u6709\u5411\u8fb9\uff0c\u6211\u4eec\u6309\u7167\u6b63\u5e38\u7684\u62d3\u6251\u6392\u5e8f\u7684\u65b9\u5f0f\u8fdb\u884c\u6392\u5e8f\u5373\u53ef\u3002\n\u5bf9\u4e8e\u65e0\u5411\u8fb9\uff0c\u6211\u4eec\u8981\u53cc\u5411\u8fde\u8fb9\uff0c\u4f46\u662f\u4e0d\u66f4\u65b0\u5165\u5ea6\u3002\u6bcf\u5f53\u6211\u4eec\u5728\u62d3\u6251\u6392\u5e8f\u662f\u904d\u5386\u5230\u4e00\u6761\u6ca1\u6709\u88ab\u5904\u7406\u8fc7\u7684\u53cc\u5411\u8fb9\u65f6\uff0c\u53ea\u9700\u8981\u628a\u8fd9\u6761\u8fb9\u7684\u8d77\u70b9\u8bb0\u5f55\u4e3a\u5f53\u524d\u6b63\u5728\u904d\u5386\u7684\u8282\u70b9\u5373\u53ef\u3002~~\uff08\u60f3\u4e00\u60f3\uff0c\u4e3a\u4ec0\u4e48\uff09\u00b7~\n\u9644\u4e00\u4e0b\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#define INF 0x7fffffff\n#define ll long long\n\nusing namespace std;\n\nstruct Edge{\n\tint from,to,next,del;\n}edge[2000005];\n\nint t,a,b,n,p1,p2,head,tail,que[100001],d[100001],k[100001]; \n\nvoid add(int x,int y,int pd)\n{\n\tedge[++t].to = y;\n\tedge[t].from = x;\n\tedge[t].next = d[x];\n\td[x] = t;\n\tedge[t].del = pd;\n}\n\nint main()\n{\n\tscanf(\"%d%d%d\",&n,&p1,&p2);\n\tfor( int i = 1; i <= p1; i++)\n\t{\n\t\tscanf(\"%d%d\",&a,&b);\n\t\tadd(a,b,0);\n\t\tk[b] ++;\n\t}\n\tif(t % 2 == 0) t++;\n\tfor( int i = 1; i <= n; i++)\n\t\tif(k[i] == 0) que[++tail] = i;\n\tfor( int i = 1; i <= p2; i++)\n\t{\n\t\tscanf(\"%d%d\",&a,&b);\n\t\tadd(a,b,1);\n\t\tadd(b,a,1);\n\t}\n\twhile(head < tail)\n\t{\n\t\thead++;\n\t\tint u = que[head];\n\t\tfor( int i = d[u]; i; i = edge[i].next)\n\t\t{\n\t\t\tif(edge[i].del == 0)\n\t\t\t{\n\t\t\t\tk[edge[i].to] --;\n                if(k[edge[i].to] == 0) que[++tail] = edge[i].to;\n\t\t\t}\n\t\t\telse\n\t\t\tif(edge[i].del == 1) edge[i^1].del = 2;\n\t\t}\n\t}\n\tfor( int i = 1;i <= t; i++)\n\t\tif(edge[i].del == 1)\n\t\t\tprintf(\"%d %d\\n\",edge[i].from,edge[i].to); \n\treturn 0;\n}\n```",
        "postTime": 1550922970,
        "uid": 150821,
        "name": "Azuree",
        "ccfLevel": 6,
        "title": "\u6655\u725b-\u9898\u89e3"
    }
]