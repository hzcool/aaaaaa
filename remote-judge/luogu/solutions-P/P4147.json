[
    {
        "content": "\u849f\u84bb\u53ea\u4f1a\u7528**\u60ac\u7ebf\u6cd5**\u3002\n\n------------\n\n\u60ac\u7ebf\u6cd5\u601d\u8def\uff1a\u60ac\u7ebf\u7684\u5b9a\u4e49\uff0c\u5c31\u662f\u4e00\u6761\u7ad6\u7ebf\uff0c\u8fd9\u6761\u7ad6\u7ebf\u8981\u6ee1\u8db3\u4e0a\u7aef\u70b9\u5728\u6574\u4e2a\u77e9\u5f62\u4e0a\u8fb9\u754c\u6216\u8005\u662f\u4e00\u4e2a\u969c\u788d\u70b9\u3002\u7136\u540e\u4ee5\u8fd9\u6761\u60ac\u7ebf\u8fdb\u884c\u5de6\u53f3\u79fb\u52a8\uff0c\u76f4\u5230\u79fb\u81f3\u969c\u788d\u70b9\u6216\u8005\u662f\u77e9\u9635\u8fb9\u754c\uff0c\u8fdb\u800c\u786e\u5b9a\u8fd9\u6761\u60ac\u7ebf\u6240\u5728\u7684\u6781\u5927\u77e9\u9635\u3002\n\n------------\n\n\u5177\u4f53\u65b9\u6cd5\uff1a\n\n\u5148\u9884\u5904\u7406\uff1a\n\n\u7528\u6570\u7ec4l\uff0cr\u8bb0\u5f55\u67d0\u70b9\u5411\u5de6\u548c\u5411\u53f3\u80fd\u5230\u8fbe\u7684\u6700\u8fdc\u70b9\u7684\u7eb5\u5750\u6807\u3002\n\u7528\u6570\u7ec4up\u8bb0\u5f55\u67d0\u70b9\u5411\u4e0a\u80fd\u5230\u8fbe\u7684\u6700\u8fdc\u8ddd\u79bb\u3002\n```\n\t//\u5904\u7406l \n\tfor(i=1;i<=n;i++)\n\t\tfor(j=2;j<=m;j++)\n\t\t\tif(map[i][j]==1&&map[i][j-1]==1) \n\t\t\tl[i][j]=l[i][j-1];\n\t//\u5904\u7406r\n\tfor(i=1;i<=n;i++)\n\t\tfor(j=m-1;j>0;j--)\n\t\t\tif(map[i][j]==1&&map[i][j+1]==1)\n\t\t\tr[i][j]=r[i][j+1];\n```\n\u7136\u540e\u53ea\u9700\u5bf9\u6bcf\u4e2a\u70b9\u90fd\u627e\u4e00\u904d\u77e9\u5f62\u7684\u6700\u5927\u9762\u79ef\n```\nfor(i=1;i<=n;i++){\n\t\tfor(j=1;j<=m;j++){\n\t\tif(i>1&&map[i][j]==1&&map[i-1][j]==1){\n\t\t\tr[i][j]=min(r[i][j],r[i-1][j]);\n\t\t\tl[i][j]=max(l[i][j],l[i-1][j]);\n\t\t\tup[i][j]=up[i-1][j]+1;\n\t\t}\n\t\tans=max(ans,(r[i][j]-l[i][j]+1)*up[i][j]);\n\t\t}\n\t}\n```\n**\u8bb0\u5f97\u8f93\u51fa\u65f6\u8981\u4e583**\n\n\u5b8c\u6574AC\u4ee3\u7801\n```\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\ninline int Read(){\n\tint x=0,f=1;\n\tchar c=getchar();\n\twhile(c>'9'||c<'0'){if(c=='-')f=-1;c=getchar();};\n\twhile(c>='0'&&c<='9')x=x*10+c-'0',c=getchar();\n\treturn x*f;\n}//\u8bfb\u5165\u4f18\u5316 \ninline int Readc(){\n\tchar c=getchar();\n\twhile(c!='R'&&c!='F')c=getchar();\n\tif(c=='F')return 1;\n\treturn 0;\n}//F\u80fd\u7528\uff0cE\u4e0d\u80fd\u7528 \ninline int max(int x,int y){\n\treturn x>y?x:y;\n}\ninline int min(int x,int y){\n\treturn x<y?x:y;\n}\n//max\u548cmin\u6700\u597d\u81ea\u5df1\u6253\nint n,m,ans1,ans,map[1001][1001];;\n//ans\uff1a\u6700\u5927\u77e9\u5f62;map[i][j]\uff1a(i,j)\u7684\u503c \uff0c0\u4e0d\u80fd\u7528\uff0c1\u53ef\u4ee5\u7528 \nint l[2018][2018],r[2018][2018];\n//l[i][j],r[i][j],up[i][j]\u5206\u522b\u8868\u793a(i,j)\u5de6\uff0c\u53f3\u80fd\u5230\u8fbe\u7684\u6700\u8fdc\u7684\u70b9\u7684\u7eb5\u5750\u6807\nint up[2018][2018];\n//\u5411\u4e0a\u5230\u8fbe\u6700\u8fdc\u7684\u70b9\u7684\u8ddd\u79bb \nint main(){\n\tregister int i,j;\n\tans=0;\n\tn=Read(),m=Read();\n\tfor(i=1;i<=n;i++)\n\t\tfor(j=1;j<=m;j++)\n\t\t\tmap[i][j]=Readc(),up[i][j]=1,r[i][j]=l[i][j]=j;\n\t//\u5904\u7406l \n\tfor(i=1;i<=n;i++)\n\t\tfor(j=2;j<=m;j++)\n\t\t\tif(map[i][j]==1&&map[i][j-1]==1) \n\t\t\tl[i][j]=l[i][j-1];\n\t//\u5904\u7406r\n\tfor(i=1;i<=n;i++)\n\t\tfor(j=m-1;j>0;j--)\n\t\t\tif(map[i][j]==1&&map[i][j+1]==1)\n\t\t\tr[i][j]=r[i][j+1];\n\tfor(i=1;i<=n;i++){\n\t\tfor(j=1;j<=m;j++){\n\t\tif(i>1&&map[i][j]==1&&map[i-1][j]==1){\n\t\t\tr[i][j]=min(r[i][j],r[i-1][j]);\n\t\t\tl[i][j]=max(l[i][j],l[i-1][j]);\n\t\t\tup[i][j]=up[i-1][j]+1;\n\t\t}\n\t\tans=max(ans,(r[i][j]-l[i][j]+1)*up[i][j]);\n\t\t}\n\t}\n\tprintf(\"%d\",3*ans);\n\treturn 0;\n}\n```\n~~**\u6c42\u8d5e**~~",
        "postTime": 1527832909,
        "uid": 28088,
        "name": "\u94b1\u9038\u51e1",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": " Solution(\u5355\u8c03\u6808\u505a\u6cd5)\r\n \r\n \u8bf7\u4e0d\u8981\u4f9d\u9760\u540d\u5b57\u989c\u8272\u6765\u81c6\u65ad\u6c34\u5e73\uff0c\u8c22\u8c22\uff01\r\n \r\n 1.\u6211\u4eec\u6309\u884c\u53bb\u5212\u5206\uff0cO(n)\u679a\u4e3e\u884c\uff0c\u5bf9\u8be5\u884c\u5373\u4ee5\u4e0a\u7684\u90e8\u5206\u505a\u6700\u5927\u77e9\u9635\u5904\u7406\uff1b\r\n \r\n 2.\u90a3\u4e48\u6211\u4eec\u7528pos\u6570\u7ec4\u8bb0\u5f55\u6bcf\u884c\u5411\u4e0a\u53ef\u5ef6\u4f38\u7684\u6700\u5927\u8ddd\u79bb\uff0c\u9884\u5904\u7406\u7684\u65b9\u5f0f\u5373\u4e3a\uff1a\r\n \r\n (1)\u8bfb\u5230\u4e00\u4e2a\u2018F\u2019\uff0c\u8be5\u5904pos=\u4e0a\u4e00\u884c\u8be5\u5217pos\u7684\u503c+1\uff1b\r\n \r\n (2)\u8bfb\u5230\u4e00\u4e2a\u2018R\u2019\uff0c\u8be5\u5904pos=0\uff08\u56e0\u4e3a\u8be5\u5904\u4e0d\u53ef\u5411\u4e0a\u4f38\u5c55\uff09\uff1b\r\n \r\n```\r\nmemset(pos,0,sizeof(pos));\r\nfor(i=1;i<=n;++i)\r\n\tfor(j=1;j<=m;++j){\r\n\t\tx=getc();\r\n\t\tif(x=='F')pos[i][j]=pos[i-1][j]+1;\r\n\t}\r\n```\r\n 3.\u90a3\u4e48\u5bf9\u4e8e\u6bcf\u6b21\u679a\u4e3e:\u5bf9\u8be5\u884c\u53ca\u4ee5\u4e0a\u7684\u90e8\u5206\u4ece\u5de6\u5f80\u53f3\u6216\u4ece\u53f3\u5f80\u5de6\u8fdb\u884c\u4e00\u6b21\u5355\u589e\u6808\uff0c\u6bcf\u6b21\u5f39\u6808\u65f6\u66f4\u65b0\u6700\u5927\u9762\u79ef;\r\n \r\n (1)\u6808\u5185\u6bcf\u4e2a\u5355\u4f4d\u5b58\u5165\u4e24\u4e2a\u5143\u7d20\uff1a\u8be5\u5355\u4f4d\u9ad8\u5ea6height\u548c\u5bf9\u5e94\u53ef\u63a7\u5bbd\u5ea6length\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u5927\u4e8e\u6808\u9876\u76f4\u63a5\u5165\u6808\u7684\u5143\u7d20\uff0cstack[i].length=1\uff1b\r\n \r\n (2)\u5bf9\u4e8e\u9700\u8981\u5148\u5f39\u6808\u518d\u5165\u6808\u7684\u5143\u7d20\uff0c\u5176length=\u5f39\u6808\u6240\u6709\u5143\u7d20length\u4e4b\u548c+1\uff0c\u56e0\u4e3a\u88ab\u5f39\u6808\u7684\u5143\u7d20\u7684\u9ad8\u5ea6\u5747\u2265\u5f53\u524d\u5143\u7d20\uff0c\u6240\u4ee5\u5176\u53ef\u63a7\u8303\u56f4\u5e94\u52a0\u4e0a\u88ab\u5176\u5f39\u6808\u5143\u7d20\u7684length\uff1b\r\n (3)\u5728\u5f39\u6808\u8fc7\u7a0b\u4e2d\uff0c\u8bb0\u5f55\u4e00\u4e2atemp\u4e3a\u672c\u6b21\u5f39\u6808\u5230\u5f53\u524d\u4e3a\u6b62\u5f39\u51fa\u7684\u5bbd\u5ea6\uff0c\u56e0\u4e3a\u4e3a\u5355\u589e\u6808\uff0c\u6240\u4ee5\u6bcf\u4e2a\u9ad8\u5ea6\u5747\u53ef\u63a7\u5176\u540e\u88ab\u5f39\u6808\u5143\u7d20\u7684\u5bbd\u5ea6\uff0c\u6240\u4ee5\u5176\u5bf9\u5e94\u7684\u9762\u79ef\u4e3as=temp*h[i]\uff0c\u53d6max\u66f4\u65b0\u8be5\u884c\u7684maxs\uff1b\r\n \r\n 4.\u5bf9\u6bcf\u6b21\u679a\u4e3e\u7684maxs\u53d6max\u5373\u4e3a\u6700\u7ec8\u7b54\u6848\uff1b\r\n \r\n```\r\ninclude<iostream>\r\ninclude<cstdio>\r\ninclude<cmath>\r\ninclude<cstring>\r\ninclude<algorithm>\r\nusing namespace std;\r\n\r\nstruct node{\r\n\tint height,length;\r\n}stack[1010]; \r\nint n,m,i,j,k,pos[1010][1010],ans=0,maxs=0;\r\nchar x;\r\n\r\ninline int read(){\r\n\tint x=0;\r\n\tbool f=true;\r\n\tchar c;\r\n\tc=getchar();\r\n\twhile(c<'0'||c>'9'){\r\n\t\tif(c=='-') f=false;\r\n\t\tc=getchar();\r\n\t}\r\n\twhile(c>='0'&&c<='9'){\r\n\t\tx=(x<<1)+(x<<3)+(c^48);\r\n\t\tc=getchar();\r\n\t}\r\n\treturn f?x:-x;\r\n} \r\n\r\nchar getc()\r\n{\r\n\tchar c=getchar();\r\n\twhile(c!='R'&&c!='F')c=getchar();\r\n\treturn c;\r\n}\r\n\r\nvoid calc(int x){\r\n\tint top=1,temp=0;\r\n\tmaxs=0;\r\n\tstack[1].height=pos[x][1];\r\n\tstack[1].length=1;\r\n\tfor(i=2;i<=m;++i){\r\n\t\ttemp=0;\r\n\t\twhile(stack[top].height>=pos[x][i]&&top>0){\r\n\t\t\ttemp+=stack[top].length;\r\n\t\t\tmaxs=max(maxs,stack[top--].height*temp);\r\n\t\t}\r\n\t\tstack[++top].height=pos[x][i];\r\n\t\tstack[top].length=temp+1;\r\n\t}\r\n\ttemp=0;\r\n\twhile(top>0){\r\n\t\ttemp+=stack[top].length;\r\n\t\tmaxs=max(maxs,stack[top--].height*temp);\r\n\t}\r\n\tans=max(ans,maxs);\r\n}\r\n\r\nint main(){\r\n\tmemset(pos,0,sizeof(pos));\r\n\tn=read();\r\n\tm=read();\r\n\tfor(i=1;i<=n;++i)\r\n\t\tfor(j=1;j<=m;++j){\r\n\t\t\tx=getc();\r\n\t\t\tif(x=='F')pos[i][j]=pos[i-1][j]+1;\r\n\t\t}\r\n\tfor(k=1;k<=n;++k) calc(k);\r\n\tans*=3;\r\n\tprintf(\"%lld\\n\",ans);\r\n\treturn 0;\r\n}\r\n```\r\n \u5173\u4e8e\u5355\u8c03\u6808\u53ef\u4ee5\u53c2\u8003\u6211\u7684\u535a\u5ba2\uff1ahttp://www.cnblogs.com/COLIN-LIGHTNING/p/8474668.html\r\n \r\n \u6709\u4ec0\u4e48\u95ee\u9898\u6b22\u8fce\u5404\u4f4d\u5927\u4f6c\u6307\u51fa",
        "postTime": 1519646867,
        "uid": 88521,
        "name": "\u5047\u5047",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "## \u601d\u8def\n\n\n\u5f88\u5bb9\u6613\u53d1\u73b0\uff0c\u8fd9\u662f**\u6700\u5927\u5b50\u77e9\u5f62\u95ee\u9898**\u7684\u677f\u5b50\u9898\u3002\n\n\n\u5bf9\u4e8e\u8be5\u7c7b\u95ee\u9898\uff0c\u738b\u77e5\u6606dalao\u65e9\u5df2\u64b0\u5199\u8fc7\u4e00\u7bc7\u8bba\u6587\u8ba8\u8bba\u4e86\u901a\u7528\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u6211\u4eec\u53ef\u4ee5\u9605\u8bfb\u8fd9\u7bc7\u8bba\u6587\uff1a[\u6d45\u8c08\u7528\u6781\u5927\u5316\u601d\u60f3\u89e3\u51b3\u6700\u5927\u5b50\u77e9\u5f62\u95ee\u9898](http://blog.csdn.net/twtsa/article/details/8120269)\u3002\n\n\n\u5bf9\u4e8e\u8fd9\u9053\u9898\uff0c\u7531\u4e8e\u969c\u788d\u70b9\u5bc6\u96c6\uff0c\u6211\u4eec\u4f7f\u7528**\u60ac\u7ebf\u6cd5**\u89e3\u51b3\u3002//\u969c\u788d\u70b9\uff1a\u5728\u9009\u53d6\u5b50\u77e9\u5f62\u65f6\u4e0d\u5141\u8bb8\u5305\u542b\u7684\u70b9\uff0c\u672c\u9898\u4e2d\u4e3a\u201cR\u201d\u3002\n\n\n## \u4ee3\u7801\u89e3\u91ca\n\n\n\u8bbe$h(i,j)$\u8868\u793a\u4ee5$(i,j)$\u4e3a\u4e0b\u7aef\u70b9\u7684\u60ac\u7ebf\u7684\u6700\u957f\u957f\u5ea6\u3002\u9884\u5904\u7406$l(i,j)$\u548c$r(i,j)$\uff0c\u5b83\u4eec\u5206\u522b\u8868\u793a\u70b9(i,j)\u80fd\u6269\u5c55\u5230\u7684\u5de6\u8fb9\u548c\u53f3\u8fb9\u7684\u6700\u8fd1\u7684\u969c\u788d\u3002\n\n\n$L(i,j)$\u548c$R(i,j)$\u5206\u522b\u8868\u793a\u4f7f\u60ac\u7ebf\u6709\u6b64\u957f\u5ea6\u7684\u5de6\u8fb9\u6700\u8fd1\u7684\u969c\u788d\u548c\u53f3\u8fb9\u6700\u8fd1\u7684\u969c\u788d\u3002\n\n\n\u7b54\u6848\u5373\u4e3a$max(h(i,j)*(R(i,j)-L(i,j)+1)$\u3002\n\n\n\u5bf9\u4e8e\u672c\u9898\uff0c\u8981\u6c42\u8f93\u51fa\u7b54\u6848\u4e583\u540e\u7684\u503c\u3002\n\n\n## C++\u4ee3\u7801\n\n\n```cpp\n#include<bits/stdc++.h>  \nusing namespace std;  \nconst int maxn=1e3+10;  \nint a[maxn][maxn],n,m,h[maxn][maxn],ans,t;char c;  \nint l[maxn][maxn],r[maxn][maxn],L[maxn][maxn],R[maxn][maxn];  \nint main(){ \n    ios::sync_with_stdio(false);\n    cin>>n>>m;\n    for(int i=1;i<=n;i++)  \n    for(int j=1;j<=m;j++)\n    {cin>>c;if(c=='F') a[i][j]=1;} \n    for(int i=1;i<=n;i++){\n        t=0;\n        for(int j=1;j<=m;j++)//\u679a\u4e3e\u5de6\u8fb9\u7684\u969c\u788d\n            if(a[i][j])l[i][j]=t;\n            else L[i][j]=0,t=j;\n        t=m+1;\n        for(int j=m;j>=1;j--)//\u679a\u4e3e\u53f3\u8fb9\u7684\u969c\u788d\n            if(a[i][j])r[i][j]=t;  \n            else R[i][j]=m+1,t=j;      \n    }\n    for(int i=1;i<=m+1;i++) R[0][i]=m+1;\n    for(int i=1;i<=n;i++)  \n    for(int j=1;j<=m;j++){\n        if(a[i][j]){\n            h[i][j]=h[i-1][j]+1;//\u5982\u679c\u8fd9\u4e2a\u70b9\u662f\u5408\u6cd5\u7684\uff0c\u5bf9\u5e94\u7684\u60ac\u7ebf\u957f\u5ea6\u5e94\u5f53\u6bd4\u5b83\u4e0b\u9762\u7684\u70b9\u5bf9\u5e94\u7684\u60ac\u7ebf\u957f\u59271  \n            L[i][j]=max(l[i][j]+1, L[i-1][j]);\n            R[i][j]=min(r[i][j]-1, R[i-1][j]);\n            ans=max((R[i][j]-L[i][j]+1)*h[i][j], ans); //\u6c42\u51fa\u6700\u5927\u7684\u9762\u79ef          \n        }\n    }\n    cout<<3*ans<<endl;\n    return 0;\n}  \n```",
        "postTime": 1516717053,
        "uid": 37158,
        "name": "XG_Zepto",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "\u524d\u8a00\uff1a\n\n- \u8fd9\u9053\u9898\u662f\u522b\u4eba\u63a8\u8350\u7684\u4e00\u9053\u5355\u8c03\u6808\u597d\u9898\uff0c\u770b\u5230\u8fd9\u9053\u9898\u65f6\uff0c\u770b\u5230\u5f88\u591a\u9898\u89e3\u90fd\u770b\u4e0d\u61c2\uff0c\u4e8e\u662f\u56de\u53bb\u590d\u4e60lyd\u5927\u4f6c\u7684\u4e66\uff0c\u5f04\u660e\u767d\u4e4b\u540e\u5c31A\u4e86\u8fd9\u9053\u9898\uff0c\u60f3\u501f\u9898\u89e3\u52a0\u6df1\u4e00\u4e0b\u8bb0\u5fc6\uff0c\u540c\u65f6\u4e5f\u60f3\u5e2e\u52a9\u4e00\u4e0b\u548c\u6211\u4e00\u6837\u7684\u840c\u65b0.\n\n\u57fa\u7840\uff1a\n\n- \u4ec0\u4e48\u662f\u5355\u8c03\u6808\uff1f\u5355\u8c03\u6808\u5176\u5b9e\u662f\u6808\u7684\u4e00\u4e2a\u201c\u9a9a\u64cd\u4f5c\u201d\uff0c\u53ef\u4ee5\u901a\u8fc7\u7ef4\u62a4\u5355\u8c03\u9012\u51cf\u6216\u5355\u8c03\u9012\u589e\u7684\u5143\u7d20\u6765\u53ca\u65f6\u6392\u9664\u4e0d\u53ef\u80fd\u7684\u9009\u9879\uff0c\u4fdd\u8bc1\u7b56\u7565\u96c6\u5408\u7684\u6709\u6548\u6027\uff0c\u540c\u65f6\u4e5f\u4fbf\u4e8e\u7ef4\u62a4.\n\n\u95ee\u9898\u8f6c\u5316\uff1a\n\n- n\u884cm\u5217\u571f\u5730\uff0c\u6c42\u6700\u5927\u77e9\u5f62\u9762\u79ef\uff0c\u6211\u4eec\u628a\u95ee\u9898\u62c6\u5206\u6210n\u4e2a\u5b50\u95ee\u9898\u6765\u89e3\u51b3.\n- \u5bf9\u4e8e\u6bcf\u4e00\u884c,\u4f9d\u6b21\u8bb0\u5f55\u6bcf\u884c\u5411\u4e0a\u4e00\u76f4\u662fF\u571f\u5730\u7684\u53ef\u5ef6\u4f38\u7684\u6700\u5927\u8ddd\u79bb\uff0c\u8bb0\u4e3af(i,j).\n\n  1. \u5f53\u524d\u5143\u7d20(i,j)\u4e3aF,\u5219f(i,j)=f(i-1,j)+1.\n  2. \u5f53\u524d\u5143\u7d20(i,j)\u4e3aR,\u5219f(i,j)=0.\n\n- \u6211\u4eec\u8bb0\u5f55\u8fd9\u4e2a\u6570\u7ec4\u6709\u4ec0\u4e48\u7528\u5462\uff1f\u8fd9\u5c31\u53ef\u4ee5\u8f6c\u5316\u4e3a\u5355\u8c03\u6808\u7ef4\u62a4\u7684\u95ee\u9898\u4e86.\n\n\u5177\u4f53\u601d\u8def\uff1a\n\n- \u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5b50\u95ee\u9898\uff0c\u6211\u4eec\u7ef4\u62a4\u4e00\u4e2a\u5355\u8c03\u9012\u589e\u7684\u5355\u8c03\u6808.\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u7ed3\u6784\u4f53(\u5176\u4e2d\u8bb0\u5f55\u7684\u4e24\u4e2a\u5143\u7d20\u5206\u522b\u662f\u5f53\u524d\u884c\u7b2cj\u4e2a\u77e9\u5f62\u7684f\u503c\uff0c\u4ee5\u53ca\u5b83\u5728\u5f53\u524d\u5df2\u52a0\u5165\u6808\u4e2d\u77e9\u5f62\u9ad8\u5ea6\u7684\u6392\u540d).\n\n- \u6211\u4eec\u8003\u8651\u5f53\u524d\u52a0\u5165\u7b2ck\u4e2a\u77e9\u5f62\u7684\u60c5\u51b5.\n\n  1. \u5f53\u524d\u77e9\u5f62\u9ad8\u5ea6\u5927\u4e8e\u6808\u9876\uff0c\u76f4\u63a5\u52a0\u5165\u5373\u53ef\uff0c\u56e0\u4e3a\u6ca1\u6709\u6bd4\u5b83\u5927\u7684\u5143\u7d20\uff0c\u90a3\u4e48\u4ed6\u7684\u6392\u540d\u4e3a1.\n  \n  2. \u5f53\u524d\u77e9\u5f62\u9ad8\u5ea6\u5c0f\u4e8e\u6808\u9876\uff0c\u5219\u4e0d\u65ad\u53d6\u51fa\u6808\u9876\uff0c\u76f4\u5230\u6808\u4e3a\u7a7a\u6216\u8005\u6808\u9876\u77e9\u5f62\u7684\u9ad8\u5ea6\u6bd4\u5f53\u524d\u77e9\u5f62\u5c0f.\u5728\u51fa\u6808\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u7d2f\u8ba1\u88ab\u5f39\u51fa\u7684\u77e9\u5f62\u7684\u5bbd\u5ea6\u4e4b\u548c\uff0c\u5e76\u4e14\u6bcf\u5f39\u51fa\u4e00\u4e2a\u77e9\u5f62\uff0c\u5c31\u7528\u5b83\u7684\u9ad8\u5ea6\u4e58\u4e0a\u7d2f\u8ba1\u7684\u6392\u540d\uff08\u662f\u7d2f\u8ba1\uff0c\u56e0\u4e3a\u5728\u5b83\u5165\u6808\u540e\u8fd8\u6709\u6bd4\u5b83\u5927\u7684\u5143\u7d20\u5165\u6808\uff09\u6765\u66f4\u65b0\u7b54\u6848.\n  \n  3. \u8fd9\u6837\u4e3a\u4ec0\u4e48\u662f\u5bf9\u7684\u5462\uff1f\u8fd9\u662f\u56e0\u4e3a\uff1a\u5982\u679c\u5f53\u524d\u8981\u52a0\u5165\u77e9\u5f62\u7684f\u503c\uff08\u5373\u5f53\u524d\u77e9\u5f62\u7684\u9ad8\u5ea6\u6bd4\u4e0a\u4e00\u4e2a\u5c0f\uff09\uff0c\u90a3\u4e48\u8be5\u77e9\u5f62\u60f3\u5229\u7528\u524d\u9762\u7684\u77e9\u5f62\u4e00\u8d77\u6784\u6210\u4e00\u4e2a\u5927\u77e9\u5f62\u662f\uff0c\u8fd9\u5757\u77e9\u5f62\u7684\u9ad8\u5ea6\u4e0d\u53ef\u80fd\u8d85\u8fc7\u8be5\u77e9\u5f62\u81ea\u5df1\u7684\u9ad8\u5ea6\uff0c\u5219\u8bb0\u5f55\u524d\u9762\u5143\u7d20\u7684\u9ad8\u5ea6\u5c31\u6ca1\u6709\u7528\u5904\u4e86.\u800c\u5bbd\u5ea6\u8fd8\u6709\u7528\u5904\uff08\u56e0\u4e3a\u5f53\u524d\u77e9\u5f62\u9ad8\u5ea6\u8f83\u5c0f\uff0c\u4e0e\u6bd4\u5b83\u9ad8\u7684\u77e9\u5f62\u7684\u5bbd\u5ea6\u603b\u548c\u76f8\u4e58\uff0c\u5728\u6b64\u77e9\u5f62\u51fa\u6808\u65f6\uff0c\u8981\u7528\u5b83\u6765\u66f4\u65b0\u7b54\u6848\uff09.\u6240\u4ee5\u6211\u4eec\u8981\u8bb0\u4e00\u4e2a\u5f53\u524d\u5df2\u52a0\u77e9\u5f62\u7684\u9ad8\u5ea6\u6392\u540d\uff08\u65e0\u8bba\u662f\u5728\u6808\u91cc\u8fd8\u662f\u5df2\u7ecf\u51fa\u6808\uff09.\u800c\u53c8\u56e0\u4e3a\u6bcf\u4e2a\u5143\u7d20\u53ea\u88ab\u5f39\u6808\u4e00\u6b21\uff0c\u6240\u4ee5\u4e0d\u4f1a\u6709\u91cd\u590d\u60c5\u51b5.\n  \n  4. \u5728\u6240\u6709\u77e9\u5f62\uff08m\u4e2a\uff09\u90fd\u8003\u8651\u8fc7\u540e\uff0c\u6211\u4eec\u518d\u7528\u8fd8\u6ca1\u6709\u5f39\u6808\u7684\u5143\u7d20\u518d\u6765\u4e2a\u65b0\u4e00\u6ce2\u7b54\u6848\uff0c\u76f4\u5230\u6808\u7a7a.\n  \n\u4e0b\u9762\u4e0a\u4ee3\u7801\uff08\u6211\u76f8\u4fe1\u5404\u4f4d\u5927\u4f6c\u4e5f\u4e0d\u9700\u8981\u4ee3\u7801\uff09\uff1a\n\n```\n#include<iostream>\n#include<stack>\n#include<cstring>\n\n#define N 1010\n\nusing namespace std;\n\nint n,m,f[N][N],maxx;\nchar c;\nstruct node\n{\n\tint len,h;\n}a[N];\nstack<node> S;\n\nvoid ask(int x)\n{\n\tmemset(a,0,sizeof(a));\n\ta[1].h=f[x][1],a[1].len=1;\n\twhile(S.size())  S.pop();\n\tS.push(a[1]);//\u521d\u59cb\u5316\n\tfor(int i=2;i<=m;i++)\n\t{\n\t\tint w=0;\n\t\twhile(S.size()&&f[x][i]<=S.top().h)//\u9700\u8981\u5f39\u6808\n\t\t{\n\t\t\tw+=S.top().len;\n\t\t\tmaxx=max(maxx,w*S.top().h);\n\t\t\tS.pop();//\u66f4\u65b0\u7b54\u6848\u5e76\u5f39\u6808\n\t\t}\n\t\ta[i].h=f[x][i],a[i].len=w+1;//\u5df2\u5165\u6808\u7684\u6bd4\u4ed6\u9ad8\u7684\u77e9\u5f62\u4e2a\u6570\u52a01\n\t\tS.push(a[i]);\n\t}\n\tint w=0;\n\twhile(S.size())//\u7528\u5269\u4f59\u77e9\u5f62\u66f4\u65b0\u7b54\u6848\n\t{\n\t\tw+=S.top().len;\n\t\tmaxx=max(maxx,S.top().h*w);\n\t\tS.pop();\n\t}\n}\n\nint main()\n{\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tcin>>c;\n\t\t\tif(c=='F')  f[i][j]=f[i-1][j]+1;\n\t\t}\n\t\t\n\tfor(int i=1;i<=n;i++)  ask(i);//\u89e3\u51b3\u5b50\u95ee\u9898\n\t\n\tcout<<maxx*3<<endl;//\u522b\u5fd8\u4e86\u8981\u4e583\u54e6\n\t\n\treturn 0;\n}\n```\n",
        "postTime": 1567142949,
        "uid": 126136,
        "name": "Plus_Ultra",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "\u8fd9\u662f\u6765\u81ea\u6211\u6821\u5b66\u957f~~(\u7956\u4f20)~~\u7684**\u5e76\u67e5\u96c6**\u505a\u6cd5\n\n\u9996\u5148\u4ece\u4e0a\u5230\u4e0b\u679a\u4e3e\u6bcf\u4e00\u884c\uff08\u5206\u5272\u7ebf\uff09\u3002\n\n\u5728\u5f53\u524d\u884c\uff0c\u628a\u5b83\u4ee5\u4e0a\u7684F\u67d3\u8272\uff0c\u90a3\u4e48F\u4f1a\u6784\u6210\u8fd9\u6837\u7684\u56fe\u6848\u2193\n\n![](https://i.loli.net/2018/10/15/5bc3df4eb30cd.png)\n\n\u6bcf\u4e00\u5217\u5728\u8fd9\u6761\u5206\u5272\u7ebf\u4ee5\u4e0a\u6709\u591a\u5c11\u8fde\u7eed\u7684F\uff0c\u53ef\u4ee5\u5728\u6bcf\u6b21\u4e0b\u79fb\u5206\u5272\u7ebf\u65f6\u987a\u4fbf\u7528O(m)\u626b\u4e00\u904d\u7ef4\u62a4\u3002\uff08\u5982\u679c\u8fd9\u4e00\u683c\u4e3aF\uff0c\u90a3\u4e48\u8fde\u7eedF\u4e3a\u4e4b\u524d\u8fd9\u5217\u7684\u8fde\u7eedF\u52a01;\u5426\u5219\u4e3a0\uff09\n\n\u7136\u540e\u6211\u4eec\u6309\u7167\u6bcf\u4e00\u5217\u7684F\u9ad8\u5ea6\u6392\u5e8f\uff0c\u6bcf\u6b21\u628aF\u6700\u9ad8\u7684\u53d6\u51fa\u6765\u3002\n\n\u5982\u679c\u5b83**\u5de6\u8fb9\u4e00\u5217**\u88ab\u53d6\u8fc7\u4e86\uff0c\u6211\u4eec\u5c31\u628a\u5f53\u524d\u5217\u548c\u5b83\u5de6\u8fb9\u4e00\u5217\u5e76\u8d77\u6765;\u5982\u679c**\u53f3\u8fb9\u4e00\u5217**\u88ab\u53d6\u8fc7\uff0c\u5c31\u628a\u8fd9\u4e00\u5217\u548c\u53f3\u8fb9\u4e00\u5217\u5e76\u8d77\u6765\u3002\n\n\u6700\u540e\u8be2\u95ee\u4e00\u4e0b\u8fd9\u4e00\u5217\u7684\u7956\u5148\u6709\u591a\u5c11\u4e2a\u5b50\u8282\u70b9\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e00\u5217**\u4ee5\u5b83\u7684\u9ad8\u5ea6**\u5f80\u5de6\u53f3\u6700\u591a\u80fd\u6269\u5c55\u7684\u5bbd\u5ea6\u3002\n\n\u539f\u7406\uff1a\u5728\u5f53\u524d\u5217\u4e4b\u524d\u88ab\u5e76\u5165\u8fd9\u4e2a\u7956\u5148\u7684\u5217\u7684\u957f\u5ea6\u4e00\u5b9a\u5927\u4e8e\u7b49\u4e8e\u5f53\u524d\u5217\u7684\u957f\u5ea6\uff0c\u5e76\u4e14\u8fd9\u4e9b\u5217\u4e92\u76f8\u76f8\u90bb\u3002\n\n\u7136\u540e\u5f53\u524d\u5217\u7684\u9ad8\u5ea6\uff0c\u4e58\u4e0a\u5b83\u5f80\u5de6\u53f3\u6700\u591a\u80fd\u6269\u5c55\u7684\u5bbd\u5ea6\uff0c\u5c31\u662f\u53d6\u8fd9\u4e00\u5217\uff0c\u4e14\u9ad8\u5ea6\u7b49\u4e8e\u8fd9\u4e00\u5217\u7684\u6700\u5927\u77e9\u5f62\u9762\u79ef\u4e86\u3002(\u5c31\u7b97\u8fd8\u6709\u76f8\u540c\u9ad8\u5ea6\u7684\u6ca1\u6709\u5904\u7406\uff0c\u4e4b\u540e\u505a\u90a3\u4e00\u5217\u7684\u65f6\u5019\u4e5f\u4f1a\u5f97\u5230\u6700\u4f18\u89e3)\n\n\u5b9e\u73b0\u7684\u65f6\u5019\u53ea\u9700\u8981\u628a\u4e24\u4e2a\u9700\u8981\u5408\u5e76\u7684\u5217\u7684\u7956\u5148\u8282\u70b9$fa[v]=u,siz[u]+=siz[v]$\u5c31\u53ef\u4ee5\u4e86\uff0c\u56e0\u4e3a\u53ea\u6709\u7956\u5148\u8282\u70b9\u7684siz\u662f\u6709\u610f\u4e49\u7684\u3002\n\n\u56e0\u4e3a\u61d2\u6240\u4ee5\u76f4\u63a5\u7528\u4e86\u4f18\u5148\u961f\u5217\uff0c\u5e76\u67e5\u96c6\u53ea\u8def\u5f84\u538b\u7f29\u4e5f\u662f$O(mlogm)$\u7684\u65f6\u95f4\uff0c\u603b\u590d\u6742\u5ea6$O(nmlogm)$\n\n```\n#include<iostream>\n#include<cstdio>\n#include<queue>\nusing namespace std;\nint s[1003];//\u8bb0\u5f55\u6bcf\u5217\u5f80\u4e0aF\u7684\u9ad8\u5ea6\nint fa[1003],siz[1003];//\u5e76\u67e5\u96c6\nbool sf[1003];//\u6807\u8bb0\u6bcf\u4e00\u5217\u662f\u5426\u88ab\u7528\u8fc7\nstruct emm{\n    int nod,v;\n};\nstruct cmp{\n    bool operator()(emm qaq,emm qwq){\n        return qaq.v<qwq.v;\n    }\n};//\u91cd\u8f7d()\u8fd0\u7b97\u7b26\uff08\u7528\u6765\u7ed9\u4f18\u5148\u961f\u5217\u6392\u5e8f\npriority_queue<emm,vector<emm>,cmp>q;\nint fifa(int x)\n{\n    if(fa[x]==x)return x;\n    return fa[x]=fifa(fa[x]);\n}\nvoid con(int x,int y)//\u628ax\u5217\u548cy\u5217\u5e76\u8d77\u6765\n{\n    int u=fifa(x),v=fifa(y);\n    fa[v]=u;\n    siz[u]+=siz[v];\n    return;\n}\nint main()\n{\n    //freopen(\"a.in\",\"r\",stdin);\n    ios::sync_with_stdio(false);\n    cin.tie(false),cout.tie(false);//\u5173\u95ed\u540c\u6b65\u6d41\uff08\u8ba9cin\u53d8\u5feb\n    int n,m;\n    cin>>n>>m;\n    int ans=0;\n    for(int c=1;c<=n;++c)//\u4ece\u4e0a\u5f80\u4e0b\u79fb\u5206\u5272\u7ebf\n    {\n        for(int i=1;i<=m;++i)\n        {\n            char ch;\n            cin>>ch;\n            if(ch=='F'){s[i]++;q.push((emm){i,s[i]});}\n            else s[i]=0;\n        }\n        for(int i=1;i<=m;++i)\n        fa[i]=i,siz[i]=1,sf[i]=0;//\u521d\u59cb\u5316\n        while(!q.empty())\n        {\n            int i=q.top().nod,x=q.top().v;q.pop();\n            sf[i]=1;//\u6807\u8bb0\u8fd9\u4e00\u5217\u53d6\u8fc7\u4e86\n            if(sf[i-1])con(i-1,i);//\u5982\u679c\u5de6\u8fb9\u53d6\u8fc7\u4e86\u5c31\u5e76\u8d77\u6765\n            if(sf[i+1])con(i,i+1);//\u5982\u679c\u53f3\u8fb9\u53d6\u8fc7\u4e86\u5c31\u5e76\u8d77\u6765\n            int fi=fifa(i);//\u627e\u7956\u5148\u8282\u70b9\n            ans=max(ans,siz[fi]*x);\n        }\n    }\n    cout<<ans*3;//\u8f93\u51fa\u6700\u5927\u77e9\u5f62\u9762\u79ef*3\n    return 0;\n}\n```",
        "postTime": 1539563278,
        "uid": 48681,
        "name": "qwerta",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "# \u6765\u4e00\u7bc7\u4e0d\u4e00\u6837\u7684\u9898\u89e3QAQ\n\n------------\n\u770b\u5230\u8fd9\u4e00\u9053\u9898\u7684\u7b2c\u4e00\u53cd\u5e94\u662f\u60ac\u7ebf\u6cd5\uff0c\u4f46\u662f\u7a81\u7136\u60f3\u53e6\u8f9f\u8e4a\u5f84\u6765\u8bd5\u8bd5\u6c34\uff0c\u4e8e\u662f\u5c31\u53bb\u66b4\u529b\u4e86\u3002\u3002\u3002\n\n~~\u521a\u597d\u548c\u4e00\u4e2a\u4eba\u8d4c\u6c14\uff0c\u4ed6\u4e0d\u76f8\u4fe1\u4e00\u7ef4\u6570\u7ec4\u80fd\u8fc7\uff0c\u6240\u4ee5\u6211\u7528\u4e00\u7ef4\u6570\u7ec4n^3\u5927\u66b4\u529b\uff0c\uff0c\uff0c\u7ed3\u679c\u8fd8\u771f\u8fc7\u4e86@\u9b3c\u58a8\u65e0\u5fe7~~\n\n\n------------\n\u6211\u7684\u601d\u8def\u662f\u8fd9\u6837\u7684\uff1a\n\n1. \u4e09\u91cd\u5faa\u73af\u4e0d\u7528\u8bf4\uff0ci\u8868\u793a\u884c\u6570\uff0cj\u8868\u793a\u5217\u6570\uff0ck\u7528\u6765\u627e\u8be5\u884c\u524d\u9762\u7684\u77e9\u9635\n\n1. \u5f00\u4e00\u4e2a\u4e00\u7ef4\u6570\u7ec4  _map_  \u6765\u5b58\u5f53\u524d\u5230\u7b2c\u4e00\u884c\u7684\u9ad8\u5ea6\uff0c\u5982\u679c\u8bfb\u5165\u4e3a _F_ \uff0c\u5219  _++ map[j]_  \uff0c\u5982\u679c\u4e3a _R_ \uff0c\u5219\u6e05\u96f6\uff1b\n\n1. \u5f00\u4e00\u4e2a\u53d8\u91cf  _num_  \u6765\u7ef4\u62a4\u5f53\u524d\u7684\u6700\u5c0f\u9ad8\u5ea6\uff1b\n1. \u5f00\u4e00\u4e2a\u53d8\u91cf  _ans_  \u6765\u5b58\u73b0\u5728\u627e\u5230\u7684\u6700\u5927\u77e9\u5f62\u9762\u79ef\uff0c\u5373\u77e9\u5f62\u9ad8\u4e58\u4e0a\u77e9\u5f62\u957f\u5ea6\uff0c\u5c31\u662f\u4ee3\u7801\u4e2d\u7684 _num * (j - k + 1)_ \n\n\u597d\u4e86\uff0c\u73b0\u5728\u6211\u4eec\u7684\u66b4\u529b\u5b8c\u6210\u4e86\uff0c\u4f46\u662f\u76f4\u63a5\u4ea4\u80af\u5b9a\u4f1aTLE\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u52a0\u4e00\u4e2a\u4f18\u5316\uff1a\n\n$$map[j]!=0$$\n\u539f\u56e0\uff1a\u6574\u4e2a\u8f93\u5165\u53ea\u6709 _R_ \u548c _F_ \u6784\u6210 , \u800c _R_  \u53c8\u4e0d\u7528\u8003\u8651\uff0c\u6240\u4ee5\u6211\u4eec\u627e\u7684\u65f6\u5019\u76f4\u63a5\u8df3\u8fc7 _R_ \u5c31\u884c\u4e86\uff1b\n\n\u4ee3\u7801\u65f6\u95f4\uff1a\n\n```\n#include<cstdio>\n#include<algorithm>\n#define _ 0\nusing namespace std;\nint map[1050] ,n ,m ,num ,ans = 1;\nchar op;\nint main()\n{\n    scanf(\"%d%d\" ,&n ,&m);\n    for(int i = 1 ; i <= n ; ++ i)\n    {\n        for(int j  = 1 ; j <= m ; ++ j)\n        {\n            scanf(\"%s\" ,&op);\n            if(op == 'R') map[j] = 0;//\u5982\u679c\u4e3aR\u5219\u76f4\u63a5\u6e05\u96f6\n            else ++ map[j];//\u5b58\u73b0\u5728\u5230\u7b2c\u4e00\u884c\u7684\u9ad8\u5ea6\n            num = map[j];\n            for(int k = j - 1 ; k && map[k] ; -- k)\n            {\n                num = min(num , map[k]);\n                ans = max(ans , num * (j - k + 1));//\u7b97\u51fa\u7b54\u6848\n            }\n        }\n    }\n    ans *= 3;\n    printf(\"%d\" ,ans);\n    return ~~(0^_^0);\n}\n```\n\n\u9632\u4f2a\u6807\u8bb0\u5df2\u52a0\uff0c\u6284\u4ee3\u7801\u7684\u76c6\u53cb\u6ce8\u610f\u5566~~~",
        "postTime": 1572500028,
        "uid": 44505,
        "name": "lemonfor",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "\u65b0\u5b66\u7684\u60ac\u7ebf\u6cd5\u3002\u3002\n\n\u672c\u9898\u7684\u9898\u610f\u5c31\u662f\uff0c\u5728\u4e00\u4e2a\u6709\u969c\u788d\u7684\u77e9\u5f62\u4e2d\u5bfb\u627e\u4e00\u4e2a\u6700\u5927\u7684\u4e0d\u5305\u542b\u969c\u788d\u7684\u77e9\u5f62\u3002\n\n\u76f4\u63a5\u679a\u4e3e\u56db\u6761\u8fb9\u754c\u5224\u65ad\u5408\u6cd5\u80af\u5b9a\u662f\u4e0d\u884c\u7684\uff0c\u8fd9\u6837\u505a\u8d77\u7801\u662f$O(n^5$)\u7684\u590d\u6742\u5ea6\u3002\n\u60ac\u7ebf\u6cd5\u8fd0\u7528\u4e86**\u8d2a\u5fc3**\u7684\u601d\u60f3\uff0c\u90a3\u5c31\u662f\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9\uff0c\u8003\u8651\u4ed6**\u4ee5\u67d0\u79cd\u65b9\u5f0f**\u6240\u80fd\u5f62\u6210\u7684\u4e00\u4e2a**\u6781\u5927**\u7684\u77e9\u5f62\u3002\n\n## \u663e\u7136\uff0c\u4e00\u4e2a\u6781\u5927\u77e9\u5f62\u5e94\u8be5\u662f\u4e0a\u4e0b\u5de6\u53f3\u90fd\u4e0d\u80fd\u518d\u5411\u5916\u6269\u5145\u7684\u77e9\u5f62\u3002\n\u60ac\u7ebf\u6cd5\u5229\u7528\u4e86\u8fd9\u4e2a\u7ed3\u8bba\uff0c\u8003\u8651\u7684\u662f\u4ee5**\u6bcf\u4e00\u4e2a\u969c\u788d\u7269**\u6216**\u4e0a\u8fb9\u754c**\u4e3a\u4e0a\u8fb9\u754c\u7684\u6781\u5927\u77e9\u5f62\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bg3rl5a5.png)\n\n\u5982\u56fe\u6240\u793a\uff0c$1$\u53f7\u77e9\u5f62\u7684\u4e0a\u8fb9\u754c\u662f\u672c\u9898\u7684\u4e0a\u8fb9\u754c\uff0c$2$\u53f7\u77e9\u5f62\u7684\u4e0a\u8fb9\u754c\u7531\u5411\u4e0a\u65b9\u8d70\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u969c\u788d\u51b3\u5b9a\uff0c$3$\u53f7\u77e9\u5f62\u4e5f\u662f\u5982\u6b64\u3002\n\n\u53ef\u4ee5**\u679a\u4e3e\u4e0b\u8fb9\u754c\u4e0a\u7684\u4e00\u4e2a\u70b9**\u6765\u786e\u5b9a\u8fd9\u4e2a\u77e9\u5f62\u7684\u6700\u5927\u9ad8\u5ea6\uff0c\u4e5f\u5c31\u662f\u56fe\u4e2d\u76841\ufe0f\u20e32\ufe0f\u20e33\ufe0f\u20e3\u3002\u5f53\u8fd9\u4e2a\u70b9\u5411\u4e0a\u6ca1\u6709\u78b0\u5230\u969c\u788d\u6216\u8fb9\u754c\u65f6\u77e9\u5f62\u9ad8\u5ea6$+1$\u3002\u9ad8\u5ea6\u786e\u5b9a\u4e86\u4e4b\u540e\u5c31\u53ef\u4ee5\u7531\u4e2d\u95f4\u7684\u884c\u786e\u5b9a\u4ed6\u7684\u5bbd\u5ea6\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9\uff0c\u6211\u4eec\u8bb0\u5f55ta\u5411\u4e0a\u3001\u5411\u5de6\u3001\u5411\u53f3\u6700\u591a\u80fd\u6269\u5145\u7684\u957f\u5ea6\u3002\u6bcf\u4e2a\u70b9\u6240\u751f\u6210\u7684\u6781\u5927\u77e9\u5f62\u7531**\u5305\u542b\u5b83\u7684\u6700\u9ad8\u7684\u77e9\u5f62**\u51b3\u5b9a\u3010\u4e8b\u5b9e\u4e0a\u548c\u5355\u8c03\u6808\u7684\u601d\u8def\u6709\u70b9\u7c7b\u4f3c\u3011\u3002\n\n\u4e3a\u4ec0\u4e48\u8fd9\u6837\u80fd\u679a\u4e3e\u5230\u6240\u6709\u7684\u6781\u5927\u77e9\u5f62\u5462\uff1f\n![](https://cdn.luogu.com.cn/upload/image_hosting/qy64odsu.png)\n\n\u5f53\u679a\u4e3e\u52301\ufe0f\u20e3\u53f7\u70b9\u65f6\uff0c\u4ed6\u5bf9\u7b54\u6848\u7684\u8d21\u732e\u53ea\u6709\u7ea2\u8272\u7684\u77e9\u5f62\uff0c\u4f46\u4ed6\u5176\u5b9e\u540c\u65f6\u4e5f\u5305\u542b\u5728\u7eff\u8272\u7684\u77e9\u5f62\u91cc\u9762\u554a\uff1f\n\n\u4f46\u662f\uff0c\u5f88\u5bb9\u6613\u5c31\u4f1a\u53d1\u73b0\u5176\u5b9e\u7eff\u8272\u7684\u77e9\u5f62\u5728\u679a\u4e3e2\ufe0f\u20e3\u53f7\u70b9\u7684\u65f6\u5019\u5c31\u5df2\u7ecf\u679a\u4e3e\u5230\u4e86\u3002\n## **\u8fd9\u91cc\u6781\u5927\u77e9\u5f62\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6\u662f\u4e92\u76f8\u5236\u7ea6\u7684\uff0c\u786e\u5b9a\u4e00\u4e2a\uff0c\u518d\u8ba9\u53e6\u5916\u4e00\u4e2a\u5c3d\u91cf\u5927\u5c31\u597d\u4e86\u3002**\n\n\n$~~~~$\n\n#### \u4ee3\u7801\u90e8\u5206\uff0c\u9996\u5148\u9700\u8981\u9884\u5904\u7406\u51fa\u6bcf\u4e2a\u70b9\u5411\u4e0a\u5411\u5de6\u5411\u53f3\u7684\u6700\u957f\u8ddd\u79bb\uff1a\n\n```cpp\nconst int MAXN = 1017;\nint n, m;\nint G[MAXN][MAXN];\nint up[MAXN][MAXN];\nint l[MAXN][MAXN];\nint r[MAXN][MAXN];\n\nfor(int i = 1; i <= n; i++)\n        for(int j = 1; j <= m; j++){\n            if(!G[i][j]) continue;\n            l[i][j] = l[i][j-1] + 1;\n        }\n    for(int i = 1; i <= n; i++)\n        for(int j = m; j >= 1; j--){\n            if(!G[i][j]) continue;\n            r[i][j] = r[i][j+1] + 1;\n        }\n```\n\n### \u7136\u540e\u9700\u8981\u4f18\u5148\u6ee1\u8db3\u4ece\u672c\u70b9\u5411\u4e0a\u6700\u9ad8\u7684\u77e9\u5f62\u6240\u80fd\u8fbe\u5230\u7684\u5bbd\u5ea6\uff1a\n\n```cpp\nfor(int i = 1; i <= n; i++){\n        for(int j = 1; j <= m; j++){\n            if(i > 1 && G[i][j] && G[i-1][j]){\n                up[i][j] = up[i-1][j] + 1;\n                l[i][j] = min(l[i][j], l[i-1][j]);\n                r[i][j] = min(r[i][j], r[i-1][j]);\n            }\n            maxs = max(maxs, (up[i][j] + 1) * (l[i][j] + r[i][j] - 1)); //\u9ad8\u5ea6\u5e94\u8be5+1\uff0c\u5bbd\u5ea6\u5e94\u8be5-1\uff0c\u5c0f\u7ec6\u8282\u8981\u6ce8\u610f\n        }\n    }\n```\n\n### AC\u4ee3\u7801\n\n```cpp\n#include <iostream>\n#include <algorithm>\n\nusing namespace std;\n\nconst int MAXN = 1017;\nint n, m;\nint G[MAXN][MAXN];\nint up[MAXN][MAXN];\nint l[MAXN][MAXN];\nint r[MAXN][MAXN];\n\nint main(){\n    cin >> n >> m;\n    for(int i = 1; i <= n; i++)\n        for(int j = 1; j <= m; j++){\n            char ch;\n            cin >> ch;\n            if(ch == 'F')\n                G[i][j] = 1;\n        }\n    for(int i = 1; i <= n; i++)\n        for(int j = 1; j <= m; j++){\n            if(!G[i][j]) continue;\n            l[i][j] = l[i][j-1] + 1;\n        }\n    for(int i = 1; i <= n; i++)\n        for(int j = m; j >= 1; j--){\n            if(!G[i][j]) continue;\n            r[i][j] = r[i][j+1] + 1;\n        }\n    int maxs = 0;\n    for(int i = 1; i <= n; i++){\n        for(int j = 1; j <= m; j++){\n            if(i > 1 && G[i][j] && G[i-1][j]){\n                up[i][j] = up[i-1][j] + 1;\n                l[i][j] = min(l[i][j], l[i-1][j]);\n                r[i][j] = min(r[i][j], r[i-1][j]);\n            //printf(\"## (%d, %d) %d %d %d\\n\", i, j, l[i][j], r[i][j], up[i][j]);\n            }\n            maxs = max(maxs, (up[i][j] + 1) * (l[i][j] + r[i][j] - 1));\n        }\n    }\n    cout << 3 * maxs << endl;\n}\n\n\n```\n",
        "postTime": 1567483271,
        "uid": 137010,
        "name": "Skyler1017",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "## \u660e\u663e\u7684\u60ac\u7ebf\u6cd5\u6c42\u6700\u5927\u5b50\u77e9\u9635\uff0c\u4e0d\u8fc7\u4e5f\u6709\u5de8\u4f6c\u7528\u7684\u5355\u8c03\u6808\n\n\u4e0d\u4f1a\u60ac\u7ebf\u6cd5\u7684\u53ef\u4ee5\u770b\u4e0b\u9762\u8fd9\u7bc7\u535a\u5ba2\uff0c\u5f88\u8be6\u7ec6\u54e6\uff01\n[\u60ac\u7ebf\u6cd5](https://www.cnblogs.com/zhenglw/p/10102833.html)\n\n\u60ac\u7ebf\u6cd5\uff0c\u5f88\u597d\u7406\u89e3\uff0c\u5c31\u662f\u60ac\u4e00\u6839\u7ebf\u6643\u6765\u6643\u53bb\u6c42\u6700\u5927\u5b50\u77e9\u9635\u561b\uff01\n\u601d\u8def\u548c\u8f6c\u79fb\u65b9\u7a0b\u4e5f\u5f88\u7b80\u5355\uff1a\n```\nif(\u6ee1\u8db3^&%$!@#^%){\n    right[i][j]=min(right[i][j],right[i-1][j]);\n    left[i][j]=max(left[i][j],left[i-1][j]);\n    up[i][j]=up[i-1][j]+1;\n}\n ```\n\n\u4e0b\u9762\u89e3\u91ca\u4e00\u4e0b\uff1a\n\nright\u8868\u793a\u4ece(i,j)\u8fd9\u4e2a\u70b9\u51fa\u53d1\u5411\u53f3\u80fd\u5230\u8fbe\u6700\u8fdc\u7684\u8ddd\u79bb\n\nleft\u548cup\u5dee\u4e0d\u591a\uff0c\u4e00\u4e2a\u5411\u5de6\uff0c\u4e00\u4e2a\u5411\u4e0a\n\n\u5173\u4e8e\u521d\u59cb\u5316\n\n```\nfor(int i=1;i<=n;i++) \n    for(int j=1;j<=m;j++)\n        right[i][j]=left[i][j]=j,up[i][j]=1;\nfor(int i=1;i<=n;i++)\n    for(int j=2;j<=m;j++)\n        if(\u6ee1\u8db3\u6761\u4ef6)\n            right[i][j]=right[i][j-1];\nfor(int i=1;i<=n;i++)\n    for(int j=m-1;j>=1;j--)\n        if(\u6ee1\u8db3\u6761\u4ef6)\n            left[i][j]=left[i][j+1];\n```\n\n\u5176\u5b9e\u8fd9\u4e2a\u4e1c\u897f\u8ddf\u6a21\u677f\u4e00\u6837\u5957\u5c31\u597d\u4e86\n\n\u5bf9\u4e8e\u8be5\u9898\uff0c\u6761\u4ef6\u663e\u7136\u662f\u76f8\u7b49\u4e14\u4e3a\u2018F\u2019\n\u4ee3\u7801\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\ninline int read(){\n\tchar chr=getchar();\tint f=1,ans=0;\n\twhile(!isdigit(chr)) {if(chr=='-') f=-1;chr=getchar();}\n\twhile(isdigit(chr))  {ans=(ans<<3)+(ans<<1);ans+=chr-'0';chr=getchar();}\n\treturn ans*f;\n}\nvoid write(int x){\n\tif(x<0) putchar('-'),x=-x;\n\tif(x>9) write(x/10);\n\tputchar(x%10+'0');\n}\nint n,m;\nchar a[4005][4005];\nint l[4005][4005],r[4005][4005],up[4005][4005],ans1,ans2;\nint main(){\n\tn=read(),m=read();\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tcin>>a[i][j];\n\t\t\tl[i][j]=r[i][j]=j,up[i][j]=1;\n\t\t}\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=2;j<=m;j++)\n\t\t\tif(a[i][j]==a[i][j-1]&&a[i][j]=='F')\tl[i][j]=l[i][j-1];\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=m-1;j>=1;j--)\n\t\t\tif(a[i][j]==a[i][j+1]&&a[i][j]=='F')\tr[i][j]=r[i][j+1];\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(i>1)\n\t\t\t\tif(a[i][j]==a[i-1][j]&&a[i-1][j]=='F'){\n\t\t\t\t\tl[i][j]=max(l[i][j],l[i-1][j]);\n\t\t\t\t\tr[i][j]=min(r[i][j],r[i-1][j]);\n\t\t\t\t\tup[i][j]=up[i-1][j]+1;\n\t\t\t\t}\n\t\t\tint a=r[i][j]-l[i][j]+1;\n\t\t\tint b=min(a,up[i][j]);\n\t\t\tans2=max(a*up[i][j],ans2);\n\t\t}\n\tcout<<ans2*3;\n\treturn 0;\n}\n\n```\n\n\n",
        "postTime": 1544538407,
        "uid": 9287,
        "name": "LevenKoko",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "# \u795e\u4ed9\u505a\u6cd5\u3002\u3002\u3002\n## \u6700\u5927\u5b50\u77e9\u9635\u548c\u6a21\u677f\n\u5199\u6709'F'\u7684\u8bb0\u4e3a1\uff0c\u2018R\u2019\u8bb0\u4e3a\u65e0\u7a77\u5927\uff0c\n\u8fd9\u6837\u8dd1\u4e00\u8fb9\u6700\u5927\u5b50\u77e9\u9635\u663e\u7136\u4f1a\u5f97\u5230\u6700\u4f18\u89e3\u3002\u3002\u3002\uff08\u4f46\u662f\u8bdd\u8bf4\u53ea\u6709\u52a0\u4e86O2\u624d\u80fd\u5168\u8fc7\uff09\n\n\n##### \u4ee3\u7801\uff1a\n```cpp\n// luogu-judger-enable-o2\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<iostream>\n#include<algorithm>\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m;\nint jz[1001][1001],a[1001],ans;\nint MaxSum(){\n    int maxs=-19999999,b=0;\n    for(int i=1;i<=m;i++){\n        if(b>0)b+=a[i];\n        else b=a[i];\n        if(maxs<b)maxs=b;\n    }\n    return maxs;\n}\n\nvoid Maxjz(){\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++)\n\t\ta[j]=0;\n\t\tfor(int j=i;j<=n;j++){\n\t\t\tfor(int k=1;k<=m;k++)a[k]+=jz[j][k];\n\t\t\tint sum=MaxSum();\n\t\t\tans=max(sum,ans);\n\t\t}\n\t}\n}\n\nint main(){\n\tchar ch;\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tch=getchar();\n\t\t\twhile(ch!='F'&&ch!='R')\n\t\t\t    ch=getchar();\n\t\t\tif(ch=='F')jz[i][j]=1;\n\t\t\telse jz[i][j]=-1000000;\n\t    }\n\t}\n\tMaxjz();\n\tprintf(\"%d\",3*ans);\n\treturn 0;\n}\n\n```\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1aO\uff08$N^2$M\uff09\n",
        "postTime": 1566570632,
        "uid": 31621,
        "name": "\u8ffd\u98ce\u5c11\u5e74\u03c3\u03c7",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "$\\text{UPD}$\uff1a\u66f4\u65b0\u4e86\u4e0b\u4ee3\u7801\u3002\n\n\u8fd9\u9053\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u60f3\u4e00\u4e0b\uff0c\u77e9\u5f62\u7684\u9762\u79ef\u8ddf $2$ \u6761\u8fb9\u6709\u5173\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u70b9\uff0c\u6211\u4eec\u7b97\u51fa $3$ \u4e2a\u6570\uff0c`lft`\u3001`rgt`\u3001`up`\u3002\n\n> `lft`\uff1a\u5373\u6b64\u70b9\u6700\u591a\u80fd\u5411\u5de6\u5ef6\u4f38\u5230\u54ea\u4e00\u5217\u3002(\u521d\u503c\u4e3a`j`)\n>\n> ```cpp\n> for(int i=1;i<=n;i++)\n> \tfor(int j=1;j<=m;j++)\n> \t\tif(a[i][j]&&a[i][j-1])lft[i][j]=lft[i][j-1];\n> ```\n\n> `rgt`\uff1a\u5373\u6b64\u70b9\u6700\u591a\u80fd\u5411\u53f3\u5ef6\u4f38\u591a\u5c11\u54ea\u4e00\u5217\u3002(\u521d\u503c\u4e3a`j`)\n>\n> ```cpp\n> for(int i=1;i<=n;i++)\n> \t\tfor(int j=m;j>=1;j--)\n> \t\t\tif(a[i][j]&&a[i][j+1])rgt[i][j]=rgt[i][j+1];\n> ```\n\n> `up`\uff1a\u5373\u6b64\u70b9\u6700\u591a\u80fd\u5411\u4e0a\u5ef6\u4f38\u591a\u5c11\u4e2a\u683c\u5b50\u6570\u3002(\u521d\u503c\u4e3a`1`)\n>\n> \u8fb9 $dp$ \u8fb9\u6c42\u3002\n\n\u73b0\u5728\u6211\u4eec\u5c31\u8bf4\u8bf4 $dp$ \u5427\u3002\n\n```cpp\nfor(int i=1;i<=n;i++)\n\tfor(int j=1;j<=m;j++){\n\t\tif(a[i][j]&&a[i-1][j]){\n\t\t\tlft[i][j]=max(lft[i-1][j],lft[i][j]);//\u5728up\u6700\u4f18\u7684\u60c5\u51b5\u4e0b\uff0c\u5de6\u7aef\u70b9\u7684\u8ddd\u79bb\u8981\u66f4\u65b0\n\t\t\trgt[i][j]=min(rgt[i-1][j],rgt[i][j]);//\u5728up\u6700\u4f18\u7684\u60c5\u51b5\u4e0b\uff0c\u53f3\u7aef\u70b9\u7684\u8ddd\u79bb\u8981\u66f4\u65b0\n\t\t\tup[i][j]=up[i-1][j]+1;\n\t\t}\n\t\tint x=rgt[i][j]-lft[i][j]+1;\n\t\tans=max(ans,x*up[i][j]);\n\t}\n```\n\n\u5176\u5b9e\u5c31\u662f\u627e\u9ad8\u5ea6\u6700\u9ad8\u7684\u77e9\u5f62\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u6837\u662f\u6b63\u786e\u7684\u5462\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u60f3\u4e00\u4e0b\u3002\u6211\u4eec\u7684\u7b97\u6cd5\u672c\u8d28\u5c31\u662f\uff0c**\u4ee5 $i,j$  \u6700\u591a\u5f80\u4e0a\u7684\u957f\u5ea6\u505a\u77e9\u9635\u4e00\u6761\u8fb9**\uff0c\u8fd9\u4e2a\u5c31\u662f $up_{i,j}$ \u5e72\u7684\u4e8b\u60c5\uff0c\u7136\u540e $lft_{i,j}$ \u548c $rgt_{i,j}$ \u5219\u662f\u8981\u5728 $up_{i,j}$ \u6700\u4f18\u7684\u60c5\u51b5\u4e0b\uff0c\u8ba9\u53e6\u4e00\u6761\u8fb9\u4e5f\u6700\u4f18\u3002\n\n\u4f60\u53ef\u4ee5\u518d\u60f3\u4e00\u4e0b\uff0c\u4e0b\u9762\u8fd9\u5f20\u56fe\uff0c\u6700\u5927\u5b50\u77e9\u9635\u662f\u6a59\u8272\u65b9\u6846\u5708\u8d77\u6765\u7684\u3002\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u6700\u5927\u5b50\u77e9\u9635\u7684\u56db\u6761\u8fb9\uff0c\u6bcf\u6761\u8fb9\u8981\u4e48\u662f\u9760\u5230\u8fb9\u754c\uff0c\u8981\u4e48\u662f\u9760\u5230\u969c\u788d\u7269\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6700\u5927\u5b50\u77e9\u9635\u7684\u4e0a\u8fb9\u754c\u4e00\u5b9a\u4f1a\u9760\u5230\u969c\u788d\u7269\u6216\u8fb9\u754c\u3002\u6211\u4eec\u7684\u7b97\u6cd5\u5c31\u76f8\u5f53\u4e8e\u786e\u5b9a\u4e86\u4e0b\u8fb9\u754c\uff0c\u7136\u540e\u7528 $up$ \u6570\u7ec4\u53c8\u786e\u5b9a\u4e86\u4e0a\u8fb9\u754c\u3002\u7136\u540e\u7528 $lft$ \u548c $rgt$ \u786e\u5b9a\u5de6\u8fb9\u754c\u548c\u53f3\u8fb9\u754c\u3002\n![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjAvMDMvMjUvYXVXSzhVM2JHTEVNMVpwLnBuZw?x-oss-process=image/format,png)\n\n\u5982\u679c\u8fd8\u662f\u4e0d\u61c2\u7684\u8bdd\uff0c\u53ef\u4ee5\u518d\u60f3\u4e00\u4e0b\uff0c\u6211\u6765\u6a21\u62df\u4e00\u4e0b\u3002\n\n\u8fd9\u5c31\u662f\u6211\u4eec $up$ \u505a\u7684\u4e8b\u3002\n\n![213.png](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjAvMDMvMjUvbEZpY0syYjVYR3U5c1JTLnBuZw?x-oss-process=image/format,png)\n\n\u7136\u540e\u5462\uff0c\u5bf9\u4e8e\u6bcf\u6761\u7ebf\uff0c\u6211\u4eec\u8981\u8ba9\u4ed6\u4eec\u7684\u4e0a\u8fb9\u754c\u5c3d\u53ef\u80fd\u7684\u957f\u3002\n\n![](https://i.loli.net/2020/03/25/z6ZwbUkCLTuRsPr.png)\n\n\u518d\u56de\u6765\u770b\u770b\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntemplate<typename T>inline void read(T &FF){\n\tT RR=1;FF=0;char CH=getchar();\n\tfor(;!isdigit(CH);CH=getchar())if(CH=='-')RR=-1;\n\tfor(;isdigit(CH);CH=getchar())FF=(FF<<1)+(FF<<3)+(CH^48);\n\tFF*=RR;\n}\ntemplate<typename T>void write(T x){\n\tif(x<0)putchar('-'),x*=-1;\n\tif(x>9)write(x/10);\n\tputchar(x%10+48);\n}\nint a[2010][2010],lft[2010][2010],rgt[2010][2010],up[2010][2010],ans;\nint main(){\n\tint n,m;\n\tread(n);read(m);\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tchar ch;\n\t\t\tcin>>ch;\n\t\t\tif(ch=='F')a[i][j]=1;\n\t\t\tlft[i][j]=j;\n\t\t\trgt[i][j]=j;\n\t\t\tup[i][j]=1;\n\t\t}\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t\tif(a[i][j]&&a[i][j-1])lft[i][j]=lft[i][j-1];\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=m;j>=1;j--)\n\t\t\tif(a[i][j]&&a[i][j+1])rgt[i][j]=rgt[i][j+1];\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(a[i][j]&&a[i-1][j]){\n\t\t\t\tlft[i][j]=max(lft[i-1][j],lft[i][j]);\n\t\t\t\trgt[i][j]=min(rgt[i-1][j],rgt[i][j]);\n\t\t\t\tup[i][j]=up[i-1][j]+1;\n\t\t\t}\n\t\t\tif(a[i][j]){\n\t\t\t\tint x=rgt[i][j]-lft[i][j]+1;\n\t\t\t\tans=max(ans,x*up[i][j]);\n\t\t\t}\n\t\t}\n\twrite(ans*3);\n\treturn 0;\n}\n```\n\n\u662f\u4e0d\u662f\u5c31\u61c2\u4e86$qwq$\u3002\u3002\u3002\n\n~~\u6211\u624d\u4e0d\u544a\u8bc9\u4f60\uff0c\u8fd9\u4e2a\u5176\u5b9e\u5c31\u662f\u5355\u8c03\u961f\u5217~~",
        "postTime": 1586323066,
        "uid": 180242,
        "name": "orzdevinwang",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "###\u4f5c\u8005\uff1a\u5cb8\u82b7\u6c40\u5170\n\n#\u4e00\u3001\u9898\u76ee\uff1a\n\n[\u9898\u76ee\u94fe\u63a5](https://www.luogu.org/problemnew/show/P4147)\n\n#\u4e8c\u3001\u601d\u8def\uff1a\n\n\u5355\u8c03\u6808\u88f8\u9898\u3002\n\n\u9884\u5904\u7406\uff1as[i][j]\u8868\u793a(i,j)\u5411\u4e0a\u6709\u51e0\u4e2a\u8fde\u7eed\u7684\"F\"\u3002\n\n\u9700\u8981\u7528\u5355\u8c03\u6808\u7edf\u8ba1\u4e24\u4e2a\u6570\u7ec4\uff1al[i][j]\u8868\u793as[i][j]\u7684\u5de6\u8fb9\u7b2c\u4e00\u4e2a\u6bd4s[i][j]\u5c0f\u7684\u4f4d\u7f6e\uff0cr[i][j]\u8868\u793as[i][j]\u7684\u53f3\u8fb9\u7b2c\u4e00\u4e2a\u6bd4s[i][j]\u5c0f\u7684\u4f4d\u7f6e\u3002\n\n\u90a3\u4e48\u6b64\u65f6\u77e9\u5f62\u7684\u9762\u79ef\u5c31\u662f(r[i][j]-1-l[i][j])*s[i][j]\u3002\n\n\u5177\u4f53\u7ec6\u8282\u770b\u4ee3\u7801\u3002\n\n~~\u5199\u5f97\u592a\u4e11\u3002~~\n\n#\u4e09\u3001\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<stack>\n#include<algorithm>\n\nusing namespace std;\ninline int read(void) {\n\tint x = 0, f = 1; char ch = getchar();\n\twhile (ch<'0' || ch>'9') {\n\t\tif (ch == '-')f = -1;\n\t\tch = getchar();\n\t}\n\twhile (ch >= '0'&&ch <= '9') {\n\t\tx = x * 10 + ch - '0';\n\t\tch = getchar();\n\t}\n\treturn f * x;\n}\n\nconst int maxn = 1005;\n\nint n, m, map[maxn][maxn], s[maxn][maxn], l[maxn][maxn], r[maxn][maxn], ans;\n\nstack<int>monotonous;\n\ninline void clear(void) {\n\twhile (monotonous.size())monotonous.pop(); return;\n}\n\nint main()\n{\n\tn = read(); m = read();\n\tfor (register int i = 1; i <= n; i++) {\n\t\tfor (register int j = 1; j <= m; j++) {\n\t\t\tchar ch; cin >> ch;\n\t\t\tmap[i][j] = (ch == 'F' ? 1 : 0);\n\t\t}\n\t}\n\tfor (register int i = 1; i <= n; i++) {\n\t\tfor (register int j = 1; j <= m; j++) {\n\t\t\tif (map[i][j]) {\n\t\t\t\ts[i][j] = s[i - 1][j] + 1;\n\t\t\t}\n\t\t}\n\t}\n\tfor (register int i = 1; i <= n; i++) {\n\t\tclear();\n\t\tfor (register int j = 1; j <= m; j++) {\n\t\t\tif (monotonous.empty()) {\n\t\t\t\tmonotonous.push(j); l[i][j] = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\twhile (monotonous.size() && s[i][j] <= s[i][monotonous.top()])monotonous.pop();\n\t\t\t\tif (monotonous.size())l[i][j] = monotonous.top();\n\t\t\t\telse l[i][j] = 0;\n\t\t\t\tmonotonous.push(j);\n\t\t\t}\n\t\t}\n\t\tclear();\n\t\tfor (register int j = m; j >= 1; j--) {\n\t\t\tif (monotonous.empty()) {\n\t\t\t\tmonotonous.push(j); r[i][j] = m + 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\twhile (monotonous.size() && s[i][j] <= s[i][monotonous.top()])monotonous.pop();\n\t\t\t\tif (monotonous.size())r[i][j] = monotonous.top();\n\t\t\t\telse r[i][j] = m + 1;\n\t\t\t\tmonotonous.push(j);\n\t\t\t}\n\t\t}\n\t}\n\tfor (register int i = 1; i <= n; i++) {\n\t\tfor (register int j = 1; j <= m; j++) {\n\t\t\tif (!s[i][j])continue;\n\t\t\tint area = ((r[i][j] - 1) - l[i][j])*s[i][j];\n\t\t\tans = max(ans, area);\n\t\t}\n\t}\n\tprintf(\"%d\\n\", ans * 3);\n    return 0;\n}\n\n\n```\n",
        "postTime": 1525572857,
        "uid": 43513,
        "name": "\u5cb8\u82b7\u6c40\u5170",
        "ccfLevel": 8,
        "title": "\u6d1b\u8c37 P4147 \u3010\u7389\u87fe\u5bab\u3011\u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9053\u9898\u7c7b\u4f3c\u4e8e1169\u68cb\u76d8\u5236\u4f5c\u7684\u7b2c\u4e8c\u95ee~~~~\uff08\u8fd9\u4e0d\u5c31\u662f\u53cc\u500d\u7ecf\u9a8c\u561b\uff09~~~~\n\n\u9996\u5148\u8981\u8fdb\u884c\u4e00\u6b65\u9884\u5904\u7406,\u5728\u4e00\u4e2aa\u6570\u7ec4\u4e2d\u5c06F\u5b58\u4e3a1,R\u5b58\u4e3a0\n\u6211\u4eec\u8fd8\u9700\u8981\u53e6\u5916\u4e09\u4e2a\u6570\u7ec4\uff1a\n\nh:\u8bb0\u5f55h\u4e3a\u5411\u4e0a\u6269\u5c55\uff0c\u6700\u9ad8\u80fd\u5230\u54ea\u91cc\n\nl:\u8bb0l\u4e3a\u5411\u5de6\u62d3\u5c55\u6700\u5de6\u53bb\u5230\u54ea\u91cc;\u5176\u4e2d\u8981\u4fdd\u8bc1,\u8fd9\u4e9b\u5217\u5411\u4e0ah\u683c\u5747\u65e0\u969c\u788d\n\nr:\u540c\u7406,\u8bb0r\u4e3a\u5411\u5de6\u62d3\u5c55\u6700\u53f3\u53bb\u5230\u54ea\u91cc;\u5176\u4e2d\u8981\u4fdd\u8bc1,\u8fd9\u4e9b\u5217\u5411\u4e0ah\u683c\u5747\u65e0\u969c\u788d\n\n\u6240\u4ee5\u6700\u540e\u7684\u9762\u79efmax(s[i,j]=(r[i,j]-j[i,j]-1)*h[i,j])         \uff08\u6ce8\u610f\u8fd9\u91cc\u7684-1\u975e\u5e38\u5173\u952e\uff09\n\n\u6700\u540e\u6839\u636e\u9898\u610f\u5c06\u6700\u5927\u9762\u79ef\u4e58\u4e09\u540e\u8f93\u51fa\n\n\u4f46\u662f\u8fd9\u79cd\u65b9\u6cd5\u8fd8\u6709\u4e00\u4e2a\u5c0f\u95ee\u9898\uff0c\u5c31\u662f\u5728\u5bfb\u627e\u7b54\u6848\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u80fd\u4fdd\u8bc1\u4e00\u5b9a\u4f1a\u627e\u5230\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u4f46\u4e00\u5b9a\u80fd\u4fdd\u8bc1\u627e\u5230\u5168\u5c40\u6700\u4f18\u89e3\n\n------------\n\u9644\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\n#define N 1010\nusing namespace std;\nint n,m,a[N][N],l[N][N],r[N][N],h[N][N],ans;\nchar c;\ninline void solve()\n{\n\tfor(int i=1;i<=m;i++)  r[0][i]=m+1;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=m;j++)  h[i][j]=a[i][j]?h[i-1][j]+1:0;//h,\u4ee3\u8868\u8fd9\u4e2a\u4f4d\u7f6e\u5411\u4e0a\u7684\u6700\u9ad8\u9ad8\u5ea6\n\t\tint t=0;\n\t\tfor(int j=1;j<=m;j++)//l,\u4ee3\u8868\u5411\u5de6\u7684\u6700\u957f\u5bbd\u5ea6\n\t\t\tif(a[i][j])  l[i][j]=max(l[i-1][j],t);\n\t\t\telse  l[i][j]=0,t=j;\n\t\tt=m+1;\n\t\tfor(int j=m;j;j--)//r,\u4ee3\u8868\u5411\u53f3\u7684\u6700\u957f\u5bbd\u5ea6\n\t\t\tif(a[i][j])  r[i][j]=min(r[i-1][j],t);\n\t\t\telse  r[i][j]=m+1,t=j;\n\t\tfor(int j=1;j<=m;j++)  ans=max(ans,(r[i][j]-l[i][j]-1)*h[i][j]);//\u627e\u6700\u5927\u9762\u79ef\n\t}\n}\nint main()\n{\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=m;j++)\n\t\t{\n\t\t\tcin>>c;\n\t\t\ta[i][j]=(c=='F') ? 1:0;\n\t\t}\n\tsolve();\n\tcout<<ans*3;\n\treturn 0;\n}\n```",
        "postTime": 1520175424,
        "uid": 31331,
        "name": "ysy666",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "### \u4e0d\u77e5\u9053\u600e\u4e48\u6ca1\u4eba\u7528\u6eda\u52a8\u6570\u7ec4\u4f18\u5316\u7a7a\u95f4\uff1f\n\n\u4eca\u5929\u521a\u5b66\uff0c\u6559\u7ec3\u8bb2\u4e86\uff0c\u4fbf\u987a\u4fbfA\u6389\u6b64\u9898\n\n\u672c\u849f\u84bb\u770b\u4e86\u4e0b\u9898\u89e3\uff0c\u6ca1\u4eba\u7528**\u6eda\u52a8\u6570\u7ec4\u4f18\u5316\u7a7a\u95f4**\uff0c\u4fbf\u53d1\u4e00\u4e2a\u6765\u8865\u5145\n\n\u4f7f\u7528\u65b9\u6cd5\u4e5f\u4e0d\u96be\uff0c\u56e0\u4e3a\u6570\u7ec4\u66f4\u65b0\u81f3\u4e8ei\u4e0ei-1\u6709\u5173\uff0c\u6240\u4ee5**i&1\u8868\u793ai\uff0c1-(i&1)\u8868\u793ai-1** _(\u81ea\u884c\u5c06i\u4ee3\u5165\u7406\u89e3\uff0c\u6b64\u5904\u4e0d\u591a\u8d58\u8ff0)_ \n\n\n------------\n\n\n\u9898\u76ee\u65b9\u6cd5\u524d\u9762\u7684\u5927\u4f6c\u90fd\u8bb2\u4e86\uff0c\u7565\u6709\u51fa\u5165\uff0c\u4f46\u65e0\u5927\u4e0d\u540c\uff0c\u601d\u8def\u90fd\u662f\u627e\u51fa\u77e9\u9635\u7684\u5de6\u7aef\u70b9\u3001\u53f3\u7aef\u70b9\u4e0e\u9ad8\u5ea6\uff0c\u7b97\u51fa\u6700\u5927\u503c\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m;\nint ri[2][1005],le[2][1005],up[2][1005],lo,ro,ans;\nchar mapp[1005];//\u4e8c\u7ef4\u6570\u7ec4\u53ef\u4ee5\u7701\u4e00\u7ef4\uff0c\u56e0\u4e3a\u89e3\u6cd5\u53ea\u4e0e\u5f53\u524d\u884c\u7684\u5b57\u7b26\u6709\u5173\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\tmemset(ri,63,sizeof ri);\n\tfor(int i=1; i<=n; i++) { //i&1\u4ee3\u8868i\uff0c1-\uff08i&1\uff09\u4ee3\u8868i-1\n\t\tmemset(up[i&1],0,sizeof up[i&1]);\n\t\tmemset(le[i&1],0,sizeof le[i&1]);\n\t\tmemset(ri[i&1],63,sizeof ri[i&1]);\n\t\t//\u6eda\u52a8\u6570\u7ec4\u4e00\u5b9a\u8981\u521d\u59cb\u5316\n\t\tlo=0,ro=m+1;\n\t\tfor(int j=1; j<=m; j++) { //\u66f4\u65b0\u5de6\u969c\u788d\u4f4d\u7f6e\n                        mapp[j]=getchar();\n\t\t\twhile(mapp[j]!='F'&&mapp[j]!='R')mapp[j]=getchar();//\u8f93\u5165\n\t\t\tif(mapp[j]=='R')lo=j;\n\t\t\telse {\n\t\t\t\tup[i&1][j]=up[1-(i&1)][j]+1;//\u66f4\u65b0\u9ad8\u5ea6\n\t\t\t\tle[i&1][j]=max(le[1-(i&1)][j],lo+1);//\u66f4\u65b0\u5de6\u7aef\u70b9\u4f4d\u7f6e\n\t\t\t}\n\t\t}\n\t\tfor(int j=m; j>=1; j--) {\n\t\t\tif(mapp[j]=='R')ro=j;//\u66f4\u65b0\u53f3\u969c\u788d\u4f4d\u7f6e\n\t\t\telse {\n\t\t\t\tri[i&1][j]=min(ri[1-(i&1)][j],ro-1);//\u66f4\u65b0\u53f3\u7aef\u70b9\u4f4d\u7f6e\n\t\t\t\tans=max(ans,(ri[i&1][j]-le[i&1][j]+1)*up[i&1][j]);//\u66f4\u65b0\u7b54\u6848\uff0c\u5f0f\u5b50\u610f\u4e3a\u77e9\u9635\u5927\u5c0f\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\",3*ans);\n}\n```\n![\u8bc4\u6d4b\u8bb0\u5f55](https://cdn.luogu.com.cn/upload/image_hosting/dr1t92pc.png)\n\n\u5982\u6b64\u4f18\u5316\uff0c**800KB**\uff0c\u7ffb\u4e86\u4e0b\u8bb0\u5f55\uff0c**\u7b97\u6211\u7684\u4ee3\u7801\u5185\u5b58\u6700\u4f4e**\n\n\u5e0c\u671b\u5927\u5bb6\u70b9\u4e2a\u8d5e\u652f\u6301\u4e00\u4e0borz\n\n\n------------\n2020.1.14 mapp\u4e00\u7ef4\u6570\u7ec4\u7a7a\u95f4\u4f18\u5316\n\n",
        "postTime": 1578918374,
        "uid": 94486,
        "name": "\u6e9c\u80be\u6c61\u4e3bxyt",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "[\u6b22\u8fce\u6765\u535a\u5ba2\u770b\u5b8c\u6574\u7248(\u5355\u8c03\u6808\u5b66\u4e60\u7b14\u8bb0)](https://th19960601tspp.blog.luogu.org/dan-diao-dui-lie-xue-xi-bi-ji)\n\n\u849f\u84bb\u7684\u7b2c\u4e8c\u7bc7\u9898\u89e3\u2026\u2026QAQ\u8bf7dalao\u4eec\u4e0d\u8981\u603c\u6211\u3002\n\n\u8bb2\u4e00\u8bb2~~\u6211\u81ea\u5df1\u7684\u601d\u8def~~(\u5176\u5b9e\u662f\u540c\u5b66\u6559\u7684)\u5427\uff0c\u4f3c\u4e4e\u4e0d\u662f\u5f88\u597d\u7684\u89e3\uff1f\u4f46\u6211\u611f\u89c9\u6bd4\u8f83\u597d\u7406\u89e3\u2026\u2026\n\n\u9996\u5148\u628a\u8f93\u5165\u7684\u5b57\u7b26\u77e9\u9635\u8f6c\u79fb\u4e3a\u6570\u5b57\uff0c\u5373s[i][j]\u4ee3\u8868\u7b2ci\u884c\u7b2cj\u5217\u8fd9\u4e00\u683c\u4e0a\u9762\u8fde\u7eed\u7684F\u7684\u4e2a\u6570(\u5982\u679c\u8fd9\u4e00\u683c\u662fS\u7684\u8bdd\u5c31\u662f0)\uff0c\u6240\u4ee5\u9884\u5904\u7406\u4e4b\u540e\u5c31\u628a\u6837\u4f8b\u53d8\u6210\u4e86\u8fd9\u6837\uff1a\n\n0 1 1 1 1 1\n\n1 2 2 2 2 2\n\n0 0 0 3 3 3\n\n1 1 1 4 4 4\n\n2 2 2 5 5 5\n\n\u4ee3\u7801\u5b9e\u73b0\uff1a\n```cpp\nfor(int i=1;i<=n;i++)\n    for(int j=1;j<=m;j++){\n        char ch;\n        cin>>ch;\n        if(ch=='F') s[i][j]=s[i-1][j]+1;\n    }\n```\n\n\u7136\u540e\u5c31\u6709\u70b9\u7c7b\u4f3c\u4e8e\u4e0a\u9762\u90a3\u9053\u9898\u4e86\uff0c\u6bcf\u4e00\u884c\u5206\u5f00\u5206\u6790\uff0c\u627e\u5230\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u53ef\u4ee5\u5411\u5de6\u53f3\u6269\u5c55\u7684\u6700\u957f\u7684\u957f\u5ea6\uff0c\u8fd9\u662f\u77e9\u5f62\u7684\u957f\uff0c\u800c\u7ec4\u6210\u7684\u77e9\u5f62\u7684\u5bbd\u5c31\u662f\u8fd9\u4e00\u683c\u4e2d\u5bf9\u5e94\u7684\u6570\u5b57\uff0c\u6240\u4ee5\u5411\u5de6\u53f3\u4e24\u8fb9\u6269\u5c55\u7684\u6761\u4ef6\u5c31\u662f\u8981\u6269\u5c55\u7684\u90a3\u4e00\u683c\u4e2d\u7684\u6570\u5b57\u4e00\u5b9a\u5927\u4e8e\u7b49\u4e8e\u5f53\u524d\u626b\u63cf\u5230\u7684\u8fd9\u4e00\u683c\u7684\u6570\u5b57\u3002(\u4f3c\u4e4e\u6ca1\u592a\u8bb2\u6e05\u695a\u554aQAQ)\u6bcf\u4e00\u884c\u5904\u7406\u51fa\u4e00\u4e2a\u53ef\u4ee5\u7ec4\u6210\u7684\u77e9\u5f62\u7684\u6700\u5927\u9762\u79ef\uff0c\u7528\u4e00\u4e2amaxn\u53d6\u6700\u5927\u503c\u5c31\u53ef\u4ee5\u627e\u5230\u6700\u540e\u7684\u7b54\u6848\u4e86\u3002\n\n\u4ee3\u7801\u5b9e\u73b0\uff1a\n```cpp\nfor(int i=1;i<=n;i++){\n    int ans=0;//\u7528\u4e8e\u8bb0\u5f55\u5f53\u524d\u8fd9\u4e00\u884c\u7684\u77e9\u5f62\u6700\u5927\u9762\u79ef\n    for(int j=1;j<=m;j++){\n        int l=j,r=j;//l\u4ee3\u8868\u5de6\u8fb9\u80fd\u6269\u5c55\u5230\u7684\u6700\u8fdc\u4f4d\u7f6e\uff0cr\u4ee3\u8868\u53f3\u8fb9\u80fd\u6269\u5c55\u5230\u7684\u6700\u8fdc\u4f4d\u7f6e\n        while(l>=1&&s[i][l]>=s[i][j]) l--;\n        l++;\n        while(r<=m&&s[i][r]>=s[i][j]) r++;\n        r--;\n        ans=max(ans,s[i][j]*(r-l+1));//\u5f53\u524d\u8fd9\u4e00\u884c\u7684\u6700\u5927\u77e9\u5f62\u9762\u79ef\n    }\n    maxn=max(ans,maxn);//\u6bcf\u4e00\u884c\u7684\u6700\u5927\u77e9\u5f62\u9762\u79ef\u6bd4\u8f83\u53d6\u6700\u5927\u503c\n}\n```\n\n\u4ee5\u4e0b\u5b8c\u6574\u4ee3\u7801(\u6ca1\u5f00O2\u7684\u65f6\u5019T\u4e86\u4e24\u4e2a\u70b9)\n```cpp\n// luogu-judger-enable-o2\n#include<cstdio>\n#include<cstring>\n#include<iostream>\nusing namespace std;\nconst int N=1002;\nint K,n,m;\nint s[N][N];\nint maxn=0;\nint max(int x,int y){\n    return x>y?x:y;\n}\nint main(){\n    //scanf(\"%d\",&K);\n    //while(K--){\n        memset(s,0,sizeof(s));\n        scanf(\"%d%d\",&n,&m);\n        for(int i=1;i<=n;i++)\n            for(int j=1;j<=m;j++){\n                char ch;\n                cin>>ch;\n                if(ch=='F') s[i][j]=s[i-1][j]+1;\n            }\n        for(int i=1;i<=n;i++){\n            int ans=0;//\u7528\u4e8e\u8bb0\u5f55\u5f53\u524d\u8fd9\u4e00\u884c\u7684\u77e9\u5f62\u6700\u5927\u9762\u79ef\n            for(int j=1;j<=m;j++){\n                int l=j,r=j;//l\u4ee3\u8868\u5de6\u8fb9\u80fd\u6269\u5c55\u5230\u7684\u6700\u8fdc\u4f4d\u7f6e\uff0cr\u4ee3\u8868\u53f3\u8fb9\u80fd\u6269\u5c55\u5230\u7684\u6700\u8fdc\u4f4d\u7f6e\n                while(l>=1&&s[i][l]>=s[i][j]) l--;\n                l++;\n                while(r<=m&&s[i][r]>=s[i][j]) r++;\n                r--;\n                ans=max(ans,s[i][j]*(r-l+1));//\u5f53\u524d\u8fd9\u4e00\u884c\u7684\u6700\u5927\u77e9\u5f62\u9762\u79ef\n            }\n            maxn=max(ans,maxn);//\u6bcf\u4e00\u884c\u7684\u6700\u5927\u77e9\u5f62\u9762\u79ef\u6bd4\u8f83\u53d6\u6700\u5927\u503c\n        }\n        printf(\"%d\\n\",maxn*3);//\u6700\u540e\u522b\u5fd8\u4e86\u4e583\n    //}\n    return 0;\n}\n\n```\n**\u6700\u540e\u611f\u6fc0\u4e00\u4e0b\u6559\u6211\u601d\u8def\u7684\u540c\u5b66\uff0c\u5927\u5bb6\u53ef\u4ee5\u53bb\u770b\u4e00\u4e0b\u5979\u7684\u6807\u7a0bQWQ**\n\n[\u558f\u5c31\u662f\u8fd9\u4e2a\u4eba](https://www.luogu.org/space/show?uid=113981)",
        "postTime": 1544866545,
        "uid": 104065,
        "name": "Tony_Peter",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "\n\n\u8fd9\u662f\u4e00\u9053**\u60ac\u7ebf\u6cd5**\u7684\u9898\u3002\n\n\u60ac\u7ebf\u6cd5\u4e00\u822c\u7528\u6765\u6c42\u7b26\u5408\u8981\u6c42\u7684\u6700\u5927\u5b50\u77e9\u9635\u95ee\u9898\u3002\u6211\u4eec\u5b9a\u4e49\uff1a\n\n$up_{i,j}$ \u8868\u793a $i,j$ \u70b9\u5411\u4e0a\u60ac\u7ebf\u7684\u957f\u5ea6\u3002\n\n$left_{i,j}$ \u8868\u793a $i,j$ \u70b9\u5411\u5de6\u6269\u5c55\u7684\u6700\u5927\u957f\u5ea6\u3002\n\n$right_{i,j}$ \u8868\u793a $i,j$ \u70b9\u5411\u53f3\u6269\u5c55\u7684\u6700\u5927\u957f\u5ea6\u3002\n\n\u4f46\u662f\u8fd9\u4e9b\u5e76\u4e0d\u80fd\u627e\u51fa\u6700\u5927\u5b50\u77e9\u9635\u3002\u770b\u8fd9\u4e2a\u5b50\u77e9\u9635\u662f\u5426\u6ee1\u8db3\u8981\u6c42\u8fd8\u8981\u770b\u4e0b\u56fe\u7684\u84dd\u8272\u533a\u57df\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gegxjm34.png)\n\n\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5bf9\u4e09\u4e2a\u6570\u7ec4\u66f4\u65b0\uff0c\u5e76\u4e14\u8ba9 $left_{i,j}=\\max\\{left_{i,j},left_{i-1,j}\\},right_{i,j}=\\min\\{right_{i,j},right_{i-1,j}\\}$\uff0c\u7b54\u6848\u4e3a $\\max \\{ up_{i,j} \\times (right_{i,j}-left_{i,j}+1)\\}$\n\n\n\u6ce8\u610f\u8fd9\u9053\u9898\u7b54\u6848\u8981 $\\times 3$ \uff01~~\uff08\u6211\u5f00\u59cb\u5c31\u5f88\u597d\u5947\u4e3a\u4ec0\u4e48\u6837\u4f8b\u6ca1\u8fc7\u6389\u540e\u6765\u624d\u53d1\u73b0\uff09~~\n\n\u4e3a\u4e86\u907f\u514d\u8bfb\u5165\u56de\u8f66\u6211\u5c31\u7528 ``cin`` \u8bfb\u5165\u4e86\u3002\n\n**[Code](https://www.luogu.com.cn/paste/ouw2ktav)**",
        "postTime": 1588765039,
        "uid": 334727,
        "name": "BreakPlus",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "\u663e\u7136\u53ef\u4ee5\u7528 0 \u548c 1 \u6765\u5206\u522b\u8868\u793a R \u548c F \u7684\u6743\u503c\u3002\n\n\u4e00\u5f00\u59cb\u60f3\u5230\u7528 $sum_{i,j}$ \u8868\u793a\u4ece (1, 1) \u5230 (i, j) \u7684\u77e9\u5f62\u6743\u503c\u548c\uff0c\u7136\u540e\u9884\u5904\u7406\u51fa\u6240\u6709\u7684 $sum_{i,j}$ \uff0c\u56e0\u4e3a\u6700\u5927\u7684\u77e9\u5f62\u4e00\u5b9a\u53ef\u4ee5\u7531\u5b83\u7684\u5b50\u77e9\u5f62\u62d3\u5c55\u5f97\u6765\uff0c\u6240\u4ee5\u679a\u4e3e\u77e9\u5f62\u7684\u5de6\u4e0a\u89d2\uff0c\u7136\u540e\u4e8c\u5206\u957f\u548c\u5bbd\uff0c O(1) \u8ba1\u7b97\u51fa\u679a\u4e3e\u7684\u77e9\u5f62\u7684\u6743\u503c\u548c\uff0c\u5224\u65ad\u662f\u5426\u7b49\u4e8e\u5176\u9762\u79ef\uff0c\u5982\u679c\u76f8\u7b49\uff0c\u5373\u8fd9\u4e2a\u77e9\u5f62\u662f\u7531 F \u7ec4\u6210\u7684\uff0c\u90a3\u4e48\u4ee4 l = mid + 1\uff0cans \u53d6 max \u5373\u53ef\uff0c\u4e8e\u662f\u4fbf\u5b8c\u6210\u4e86\u4e00\u4e2a~~\u4f18\u79c0~~\u7684 $O(nm\\log nm)$ \u7b97\u6cd5\u3002\u4f46\u5199\u5b8c\u4ee3\u7801\u6d4b\u6837\u4f8b\u4e0d\u5bf9......\n\n\u63a5\u7740\u611f\u89c9\u8fd9\u9898\u548c [Largest Rectangle in a Histogram](http://poj.org/problem?id=2559) \u6709\u70b9\u50cf\uff0c\u4f46\u662f\u8fd9\u9898\u627e\u51fa\u7684\u7531 F \u7ec4\u6210\u7684\u8fde\u901a\u5757\u7684\u5e95\u90e8\u53ef\u80fd\u662f\u51f9\u51f8\u4e0d\u5e73\u7684\uff0c\u800c Largest Rectangle in a Histogram \u7ed9\u51fa\u7684\u76f4\u65b9\u56fe\u7684\u5e95\u90e8\u4e00\u5b9a\u662f\u5e73\u6574\u7684\uff0c\u4e8e\u662f\u53c8\u60f3\u5230\u679a\u4e3e\u6bcf\u4e00\u884c\uff0c\u4e0d\u8003\u8651\u8fde\u901a\u5757\u4e2d\u8fd9\u4e00\u884c\u4ee5\u4e0b\u7684\u90e8\u5206\uff0c\u7136\u540e\u7528 Largest Rectangle in a Histogram \u7684\u5355\u8c03\u6808\u7b97\u6cd5\u53d6 max \u5373\u53ef\u3002\n\n\u590d\u6742\u5ea6\uff1a $O(nm)$ \n\n```cpp\n//=========================\n//  author:tyqs\n//  date:2019.12.14\n//  website:http://tyqs.kim\n//=========================\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\n#define N 1003\n#define il inline\n#define re register\n#define tie0 cin.tie(0),cout.tie(0)\n#define fastio ios::sync_with_stdio(false)\n#define File(x) freopen(x\".in\",\"r\",stdin);freopen(x\".out\",\"w\",stdout)\nusing namespace std;\ntypedef long long ll;\n\ntemplate <typename T> inline void read(T &x) {\n\tT f = 1; x = 0; char c;\n    for (c = getchar(); !isdigit(c); c = getchar()) if (c == '-') f = -1;\n    for ( ; isdigit(c); c = getchar()) x = x * 10 + (c ^ 48);\n    x *= f;\n}\n\nint n, m, tp, ans;\nint g[N][N], s[N][N], st[N], w[N];\n\nvoid pre() {\n\tfor (int i = 1; i <= n; ++i) {\n\t\tfor (int j = 1; j <= m; ++j) {\n\t\t\tif (!g[i-1][j]) s[i][j] = g[i][j];\n\t\t\telse if (g[i][j]) s[i][j] = s[i-1][j] + g[i][j];\n\t\t}\n\t}\n}\n\nvoid solve(int k) {\n\tmemset(w, 0, sizeof w);\n\tint tot, tmp;\n\ttp = 0;\n\tfor (int i = 1; i <= m; ++i) {\n\t\tif (s[k][i] > st[tp]) st[++tp] = s[k][i], w[tp] = 1;\n\t\telse {\n\t\t\ttot = 0;\n\t\t\twhile (st[tp] > s[k][i]) {\n\t\t\t\ttot += w[tp];\n\t\t\t\ttmp = tot * st[tp--];\n\t\t\t\tans = max(ans, tmp);\n\t\t\t}\n\t\t\tst[++tp] = s[k][i], w[tp] = tot + 1;\n\t\t}\n\t}\n\ttot = 0;\n\twhile (tp) {\n\t\ttot += w[tp];\n\t\ttmp = tot * st[tp--];\n\t\tans = max(ans, tmp);\n\t}\n}\n\nint main() {\n\tchar c[10];\n\tread(n), read(m);\n\tfor (int i = 1; i <= n; ++i)\n\t\tfor (int j = 1; j <= m; ++j) {\n\t\t\tscanf(\"%s\", c + 1);\n\t\t\tif (c[1] == 'F') g[i][j] = 1;\n\t\t\telse g[i][j] = 0;\n\t\t}\n\tpre();\n\tfor (int i = 1; i <= n; ++i) solve(i);\n\tprintf(\"%d\", ans * 3);\n\treturn 0;\n}\n```",
        "postTime": 1576314912,
        "uid": 201280,
        "name": "\u592a\u9633\u9a91\u58eb",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "\u535a\u5ba2\u89c2\u770b\u4f53\u9a8c\u66f4\u4f73\uff1a[\u70b9\u6211](https://www.cnblogs.com/tqr06/p/11635676.html)\n\n\uff08\u5982\u679c\u56fe\u70b8\u4e86\u8bf7\u8fdb[\u535a\u5ba2](https://www.cnblogs.com/tqr06/p/11635676.html)\u89c2\u770b\uff09\n\n```\n\u4e00\u7247\u571f\u5730\u88ab\u5206\u6210N*M\u4e2a\u683c\u5b50\uff0c\u6bcf\u4e2a\u683c\u5b50\u91cc\u5199\u7740R'\u6216\u8005\"'F'\nR\u4ee3\u8868\u8fd9\u5757\u571f\u5730\u88ab\u8d50\u4e88\u4e86rainbow , F\u4ee3\u8868\u8fd9\u5757\u571f\u5730\u88ab\u8d50\u4e88\u4e86freda\n\u73b0\u5728freda\u8981\u627e\u4e00\u5757\u77e9\u5f62\u571f\u5730,\u8981\u6c42\u8fd9\u7247\u571f\u5730\u90fd\u6807\u7740'F'\u5e76\u4e14\u9762\u79ef\u6700\u5927\n\u8f93\u51fa\u6700\u5927\u7684\u7b26\u5408\u8981\u6c42\u7684\u571f\u5730\u7684\u9762\u79ef*3\n\uff08\u539f\u9898\u9762\u4e2d\u662f\u6307\u6709\u4e09\u4e2a\u4eba\u6bcf\u4e2a\u4eba\u7ed9\u4f60S\u4e24\u94f6\u5b50\uff0c\u5176\u5b9e\u5c31\u662f\u4e58\u4e09\u2026\u2026\uff09\n```\n\n\u8003\u573a\u73b0\u5b66\u201c\u60ac\u7ebf\u6cd5\u201d\u2026\u2026\n\u8bf4\u5b9e\u8bdd\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5f88\u96be\u60f3\u5230\uff0c\u4f46\u662f\u5341\u5206\u5de7\u5999\n\n\u5148\u8bb2\u4e00\u4e0b\u53e6\u4e00\u79cd\u53ef\u4ee5\u901a\u8fc7\u6b64\u9898\u7684\u4e0d\u4f18\u7b97\u6cd5\uff1a\n\n\u6211\u4eec\u628a\u6b64\u9898\u62bd\u8c61\u4e3a\u4e00\u4e2a01\u77e9\u9635\uff0c\u8981\u6c42\u627e\u5230\u6700\u5927\u7684\u51681\u5b50\u77e9\u9635\n\n\u7531\u4e8e\u7b54\u6848\u5177\u6709\u67d0\u79cd\u610f\u4e49\u4e0a\u7684\u5355\u8c03\u6027\uff08\u5982\u679c\u6709\u9762\u79ef\u4e3aS\u7684\u77e9\u9635\u7b26\u5408\uff0c\u90a3\u4e48\u5176\u7ea6\u6570\u5927\u5c0f\u7684\u77e9\u9635\u4e5f\u7b26\u5408\uff09\n\n\u90a3\u4e48\u6211\u4eec\u4e8c\u5206\u9762\u79ef\uff0c\u6bcf\u6b21check\u662f\u5426\u5b58\u5728\u8fd9\u4e48\u5927\u7684\u77e9\u9635\n\n\u9996\u5148\u4f7f\u7528\u4e8c\u7ef4\u524d\u7f00\u548c\uff0c\u7edf\u8ba1\u51fa\u4efb\u610f\u77e9\u9635\u4e2d1\u7684\u4e2a\u6570\uff0c\u4ee5\u53ca\u9884\u5904\u7406\u7ea6\u6570\n\n\u7136\u540e\u5bf9\u4e8e\u6bcf\u4e2a\u6211\u4eec\u9700\u8981check\u7684mid\uff0c$n^2$\u679a\u4e3e\u5b83\u7684\u4f4d\u7f6e\n\n\u5982\u679c\u5b83\u6240\u5728\u7684\u4f4d\u7f6e\u6b63\u597d\u6709\u9762\u79ef\u90a3\u4e48\u591a1\uff0c\u5c31\u8bf4\u660e\u5b58\u5728\n\n\u524d\u7f00\u548c\u548ccheck\u662f$\\Theta{(n^2)}$\u7684\n\u9884\u5904\u7406\u7ea6\u6570\u4e2a\u6570\uff0c\u4ee5\u53ca\u4e8c\u5206\u9762\u79ef\u90fd\u662f$\\Theta{(\\log^{2} m)}$\u7684\uff08m\u662f\u6700\u5927\u7684\u9762\u79ef\uff09\n\n\u6240\u4ee5\u603b\u590d\u6742\u5ea6\u662f$\\Theta{(n^2\\log^2 m)}$\uff0c\u663e\u7136\u4f1aT\n\u5728\u968f\u673a\u6570\u636e\u4e0b\uff0c\u6211\u4eec\u628am\u8bbe\u5c0f\u4e00\u70b9\u5373\u53ef\u8fc7\u2026\u2026\n\n\n\n------------\n\n\n\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u4e0b\u7384\u5b66\u7684\u60ac\u7ebf\u6cd5\u2014\u2014\uff08\u5982\u679c\u56fe\u70b8\u4e86\u8bf7\u8fdb[\u535a\u5ba2](https://www.cnblogs.com/tqr06/p/11635676.html)\u89c2\u770b\uff09\n\n\u5982\u4e0b\u56fe\uff0c\u5b83\u662f\u4e00\u4e2a01\u77e9\u9635\uff08\u7070\u8272\u4e3a0\uff0c\u767d\u8272\u4e3a1\uff09\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/86nweh2t.png)\n$$\\text{tqr\u53c8\u4e71\u753b\u4e86\u4e00\u4e2a\u56fe}$$\n\n\u6211\u4eec\u5728\u8fd9\u5f20\u56fe\u4e0a\u6a21\u62df\u5b9e\u73b0\u4e00\u4e0b\u8fd9\u4e2a\u7b97\u6cd5\uff1a\n\n\u8fd9\u4e2a\u7b97\u6cd5\u7684\u6734\u7d20\u601d\u8def\u662f\u4ec0\u4e48\u5462\uff1f\u9009\u53d6\u4e00\u5217\u8fde\u7eed\u76841\uff0c\u5b9a\u4e3a\u6240\u8981\u6269\u5c55\u7684\u77e9\u5f62\u7684\u9ad8\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/m2zurinj.png)\n$$\\text{\u5982\u56fe\uff0c\u8fd9\u4e2a\u7c89\u8272\u5757\u5373\u5c06\u6269\u5c55}$$\n\n\u7136\u540e\u6211\u4eec\u4fdd\u6301\u8fd9\u4e2a\u9ad8\u5ea6\u4e0d\u53d8\uff0c\u8ba9\u8fd9\u4e2a\u77e9\u5f62\u5411\u4e24\u8fb9\u6269\u5c55\uff01\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/jrd68spe.png)\n\n\u5c31\u8fd9\u6837\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u9762\u79ef\u4e3a5\u7684\u7b26\u5408\u6761\u4ef6\u7684\u77e9\u5f62\uff01\n\n\u7136\u540e\u6211\u4eec\u628a\u5b83\u7684\u9ad8\u5ea6\u589e\u52a0\u4e00\u70b9\u70b9\u2026\u2026\n![](https://cdn.luogu.com.cn/upload/image_hosting/1egehbyz.png)\n\n\u7ee7\u7eed\u6269\u5c55\n![](https://cdn.luogu.com.cn/upload/image_hosting/0ya6x6i8.png)\n\n\u73b0\u5728\u5f97\u5230\u7684\u662f\u4e00\u4e2a\u9762\u79ef\u4e3a4\u7684\u77e9\u5f62\u2026\u2026\n\n\u540c\u7406\uff0c\u7ee7\u7eed\u8fdb\u884c\u64cd\u4f5c\uff0c\u6211\u4eec\u5f97\u5230\u7684\u5c31\u662f\u9762\u79ef\u4e3a6\u7684\u77e9\u5f62\n![](https://cdn.luogu.com.cn/upload/image_hosting/0pdfsegc.png)\n\n\u7b80\u5355\u5730\u770b\u4e00\u4e0b\u56fe\uff0c\u53ef\u77e5\u8fd9\u4e2a\u77e9\u5f62\u5df2\u7ecf\u662f\u6700\u4f18\u7684\u4e86\uff08\u867d\u7136\u4e0d\u662f\u552f\u4e00\u6700\u4f18\u7684\uff09\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u5b83\u7684\u6734\u7d20\u601d\u8def\uff1a\n1. \u786e\u5b9a\u4e00\u4e2a\u8fde\u7eed\u7684\u9ad8\n2. \u5c06\u5176\u5411\u5de6\u53f3\u6269\u5c55\uff0c\u66f4\u65b0\u7b54\u6848\n\n\u4f46\u662f\u8fd9\u6837\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f$\\Theta{(n^3)}$\u7684\uff0c\u6211\u4eec\u8003\u8651\u4e0b\u600e\u4e48\u7528dp\u7684\u601d\u8def\u4f18\u5316\u5b83\u2026\u2026\n\n\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u4ee5\u4e0b\u7684\u503c\uff1a\n1. \u4e00\u4e2a\u70b9\u5f80\u4e0a\u80fd\u6269\u5c55\u5230\u54ea\u91cc\uff08u\u6570\u7ec4\uff09\uff0c\u5b9a\u4e3a\u9ad8\n2. \u4e00\u4e2a\u70b9\u5f80\u5de6\u80fd\u6269\u5c55\u5230\u54ea\u91cc\uff08l\u6570\u7ec4\uff09\n3. \u4e00\u4e2a\u70b9\u5f80\u53f3\u80fd\u6269\u5c55\u5230\u54ea\u91cc\uff08r\u6570\u7ec4\uff09\n\n\u5f88\u663e\u7136\u7684\uff0cl\u548cr\u4e0d\u9700\u8981\u5bf9\u4e8e\u6bcf\u4e2a\u70b9$\\Theta{(n)}$\u5730\u6c42\uff0c\u5b83\u53ef\u4ee5\u7531\u540c\u4e00\u884c\u7684\u5de6\uff08\u53f3\uff09\u4e00\u4e2a\u683c\u5b50\u8f6c\u79fb\u8fc7\u6765\n\n```cpp\nfor(register int i=1;i<=n;++i)\n\tfor(register int j=2;j<=m;++j)\n\t\tif(a[i][j-1]&&a[i][j]) l[i][j]=l[i][j-1];\nfor(register int i=1;i<=n;++i)\n\tfor(register int j=m-1;j>=1;--j)\n\t\tif(a[i][j+1]&&a[i][j]) r[i][j]=r[i][j+1];\n```\n\n\u8fd9\u6837\uff0c\u6211\u4eec\u5c31$\\Theta{(n^2)}$\u5730\u9884\u5904\u7406\u51fa\u4e86\u6bcf\u4e2a\u70b9\u7684l\u548cr\n\n\u7b49\u7b49\uff0c\u4f46\u8fd9\u6837\u8f6c\u79fb\u7684\u8bdd\uff0c\u4e0d\u4f1a\u51fa\u95ee\u9898\u5417\uff1f\uff1f\uff1f\n![](https://cdn.luogu.com.cn/upload/image_hosting/jrd68spe.png)\n\n\u8fd9\u6837\u7684\u4e00\u4e2a\u77e9\u5f62\uff0c\u5982\u679c\u5b83\u7684\u9ad8\u88ab\u66f4\u65b0\u4e4b\u540e\uff0cl\u548cr\u600e\u4e48\u66f4\u65b0\uff1f\n![](https://cdn.luogu.com.cn/upload/image_hosting/j4ab9lay.png)\n\n\u770b\u5230\uff0c\u68d5\u8272\u7684\u90e8\u5206\u963b\u6321\u4e86\u4e0b\u9762\u6269\u5c55\u7684\u8def\u5f84\uff0c\u800c\u4e14**\u5927\u77e9\u5f62\u7684l\u548cr\u6b63\u597d\u662f\u4e4b\u524d\u7684l\u548cr\u4e0e\u8fd9\u4e00\u884c\u7684l\u548cr\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c**\uff01\uff08\u62d2\u7edd\u611f\u6027\u7406\u89e3\uff09\n\n\u6240\u4ee5\u5f53u\u6709\u8f6c\u79fb\u7684\u65f6\u5019\uff0cl\u548cr\u4e5f\u4f1a\u8ddf\u7740\u8f6c\u79fb\uff08\u538b\u7f29\u8303\u56f4\uff09\n\n\u5176\u4e2dl\u4f1a\u5f80\u53f3\u9760\uff08\u5982\u679c\u6709\u969c\u788d\u7684\u8bdd\uff09\uff0cr\u4f1a\u5f80\u5de6\u9760\uff08\u540c\u7406\uff09\uff0c\u4e8e\u662fl\u53d6max\uff0cr\u53d6min\n```cpp\nfor(register int i=1;i<=n;++i)\n{\n\tfor(register int j=1;j<=m;++j)\n\t{\n\t\tif(i-1&&a[i-1][j]&&a[i][j])\n\t\t{\n\t\t\tu[i][j]=u[i-1][j]+1;\n\t\t\tl[i][j]=max(l[i][j],l[i-1][j]);\n\t\t\tr[i][j]=min(r[i][j],r[i-1][j]);\n\t\t}\n\t\tans=max(ans,(r[i][j]-l[i][j]+1)*u[i][j]);\n\t}\n}\n```\n\n\u5176\u5b9e\u5230\u8fd9\u91cc\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u5c31\u7ed3\u675f\u4e86\u2026\u2026\n\u65f6\u95f4\u590d\u6742\u5ea6\u975e\u5e38\u4f18\u79c0\uff0c\u81ea\u5df1\u901f\u901f\u7406\u89e3\u4e00\u4e0b\uff1f\n\n\u6700\u540e\u653e\u4e0a\u672c\u9898\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nint n,m,ans;\nbool a[1005][1005];\nchar c[2];\nint u[1005][1005],l[1005][1005],r[1005][1005];\n\ntemplate<class T>inline void read(T &res)\n{\n\tchar c;T flag=1;\n\twhile((c=getchar())<'0'||c>'9')if(c=='-')flag=-1;res=c-'0';\n\twhile((c=getchar())>='0'&&c<='9')res=res*10+c-'0';res*=flag;\n}\n\nint main()\n{\n\tread(n);read(m);\n\tfor(register int i=1;i<=n;++i)\n\t{\n\t\tfor(register int j=1;j<=m;++j)\n\t\t{\n            scanf(\"%s\",c);\n\t\t\tif(c[0]=='F') a[i][j]=1;\n\t\t\telse a[i][j]=0;\n\t\t\tif(a[i][j]) u[i][j]=1,l[i][j]=r[i][j]=j;\n\t\t}\n\t}\n\tfor(register int i=1;i<=n;++i)\n\t\tfor(register int j=2;j<=m;++j)\n\t\t\tif(a[i][j-1]&&a[i][j]) l[i][j]=l[i][j-1];\n\tfor(register int i=1;i<=n;++i)\n\t\tfor(register int j=m-1;j>=1;--j)\n\t\t\tif(a[i][j+1]&&a[i][j]) r[i][j]=r[i][j+1];\n\tfor(register int i=1;i<=n;++i)\n\t{\n\t\tfor(register int j=1;j<=m;++j)\n\t\t{\n\t\t\tif(i-1&&a[i-1][j]&&a[i][j])\n\t\t\t{\n\t\t\t\tu[i][j]=u[i-1][j]+1;\n\t\t\t\tl[i][j]=max(l[i][j],l[i-1][j]);\n\t\t\t\tr[i][j]=min(r[i][j],r[i-1][j]);\n\t\t\t}\n\t\t\tans=max(ans,(r[i][j]-l[i][j]+1)*u[i][j]);\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans*3);\n\treturn 0;\n}\n```",
        "postTime": 1570520131,
        "uid": 117842,
        "name": "\u65e0\u610f\u8bc6\u8eba\u67aa\u4eba",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "\u5728OI Wiki\u4e0a\u53d1\u73b0\u4e00\u79cd\u65b9\u6cd5\u2014\u2014\u60ac\u7ebf\u6cd5\u3002\n\n### \u9002\u7528\u95ee\u9898\n\u7ed9\u5b9a\u4e00\u4e2am*n \u7684 01 \u77e9\u9635a\uff0c\u6c42\u5176\u9762\u79ef\u6700\u5927\u7684\u5b50\u77e9\u9635\uff0c\u4f7f\u5f97\u8fd9\u4e2a\u5b50\u77e9\u9635\u4e2d\u7684\u6bcf\u4e00\u4f4d\u7684\u503c\u90fd\u4e3a0 \u3002\n\n\u60ac\u7ebf\u6cd5\u53ef\u4ee5\u5728O(n*m)\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5185\u89e3\u51b3\u4ee5\u4e0a\u95ee\u9898\u3002\n\n### \u60ac\u7ebf\u7684\u5b9a\u4e49\n\u5728\u8bb2\u89e3\u4e2d\uff0c\u6211\u4eec\u5c06\u503c\u4e3a1 \u7684\u70b9\u79f0\u4e3a\u201c\u969c\u788d\u70b9\u201d\u3002\n\n\u60ac\u7ebf\uff0c\u5c31\u662f\u4e00\u6761\u7ad6\u7ebf\uff0c\u8fd9\u6761\u7ad6\u7ebf\u8981\u6ee1\u8db3\u5176\u4e0a\u7aef\u70b9\u5728\u77e9\u5f62\u7684\u4e0a\u8fb9\u754c\u6216\u5176\u4e0a\u7aef\u70b9\u7684\u4e0a\u9762\u662f\u969c\u788d\u70b9\u3002\n\n\u6211\u4eec\u679a\u4e3e\u6bcf\u4e2a\u70b9\u7684\u60ac\u7ebf\uff0c\u6c42\u51fa\u5176\u6700\u591a\u80fd\u5411\u5de6\u548c\u5411\u53f3\u6269\u5c55\u5230\u4f55\u5904\uff0c\u53d6\u6700\u5927\u503c\uff0c\u5c31\u80fd\u6c42\u51fa\u6700\u5927\u5b50\u77e9\u9635\u4e86\u3002\n\n\n\u6309\u7167OI Wiki\u4e0a\u7684\u8bf4\u6cd5\uff1a\n\n### \u4e00\u4e9b\u5b9a\u4e49\n\t\u5b9a\u4e49up[ i ][ j ] \u4e3a\u77e9\u9635\u4e0a\u7684\u70b9(i,j)\u5411\u4e0a\u7684\u60ac\u7ebf\u957f\u5ea6\uff1b\n\t\u5b9a\u4e49left[ i ][ j ] \u4e3a\u70b9(i,j)\u5411\u5de6\u6700\u591a\u6269\u5c55\u800c\u4e0d\u4f1a\u78b0\u5230\u969c\u788d\u70b9\u7684\u957f\u5ea6\uff1b\n\t\u5bf9\u5e94\u7684\uff0c\u5b9a\u4e49right[ i ][ j ]\u4e3a\u70b9(i,j)\u5411\u53f3\u6700\u591a\u6269\u5c55\u800c\u4e0d\u4f1a\u78b0\u5230\u969c\u788d\u70b9\u7684\u957f\u5ea6\u3002\n\n### \u7528\u60ac\u7ebf\u6cd5\u89e3\u51b3\u6700\u5927\u5b50\u77e9\u9635\u95ee\u9898\n\u6211\u4eec\u53ef\u4ee5\u5728O(nm)\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5185\u9884\u5904\u7406\u51faup,left,right\u6570\u7ec4\u7684\u503c\u3002\n\n\u4f46\u662f\uff0c\u4ec5\u4ec5\u505a\u51fa\u9884\u5904\u7406\u662f\u4e0d\u591f\u7684\u3002\u6211\u4eec\u53d1\u73b0\uff0c\u4e00\u6761\u60ac\u7ebf\u5411\u5de6\u6269\u5c55\u7684\u6700\u957f\u8ddd\u79bb\u8fd8\u53d6\u51b3\u4e8eleft[ i-up[ i ][ j ]+1][ j ],left[ i-up[ i ][ j ]+2][ j ],\u2026\u2026\uff0cleft[ i-1][ j ]\u5411\u53f3\u540c\u7406\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u5728\u679a\u4e3e\u65f6\u5bf9left[ i ][ j ]\u548cright[ i ][ j ]\u8fdb\u884c\u66f4\u65b0\uff0c\u4f7f \n\t\n    left[ i ][ j ]=max{left[ i ][ j ],left[ i-1][ j]} ,\n\tright[ i ][ j ]=min{right[ i ][ j ],right[ i-1][ j]} \u3002\n\n\u6ce8\u610f\uff0c\u6211\u4eec\u5728\u9047\u5230\u969c\u788d\u70b9\u7684\u65f6\u5019\uff0c\u4e0d\u5bf9left\u548cright\u503c\u8fdb\u884c\u66f4\u65b0\uff0c\u56e0\u4e3a\u969c\u788d\u70b9\u4f7f\u60ac\u7ebf\u7684\u8d77\u70b9\u6709\u6240\u4e0d\u540c\u3002left\u8bb0\u5f55\u7684\u662f\u5411\u5de6\u6700\u591a\u80fd\u5ef6\u4f38\u5230\u54ea\u4e2a\u70b9\u3002\u6240\u4ee5\u5e94\u8be5\u662f\u5904\u7406\u6700\u63a5\u8fd1j\u7684\u90a3\u4e2a\uff0c\u56e0\u6b64\u662fmax\u3002\n\n\u7ed9\u4e2a\u6a21\u677f\uff1a\n```cpp\nfor(int i=1;i<=n;i++)\n  for (int j=1;j<=m;j++)\n    scanf(\" %c\",s[i]+j), l[i][j]=r[i][j]=j,up[i][j]=1;\nfor(int i=1;i<=n;i++){\n  for(int j=1;j<=m;j++)\n    if(s[i][j]=='0'&&s[i][j-1]=='0') l[i][j]=l[i][j-1];\n  for(int j=m;j>=1;j--)\n    if(s[i][j]=='0'&&s[i][j+1] == '0')r[i][j]=r[i][j+1];\n}\nfor(int i=1;i<=n;i++)\n  for(int j=1;j<=m;j++) {\n    if(i>1&& s[i][j]=='0'&&s[i-1][j]=='0') {\n      l[i][j]=max(l[i][j],l[i-1][j]);\n      r[i][j]=min(r[i][j],r[i-1][j]);\n      up[i][j]=up[i-1][j]+1;\n    }\n    ans=max(ans,(r[i][j]-l[i][j]+1)*up[i][j]);\n  }\n```\n\u6700\u540e\uff0cans\u5373\u4e3a\u6700\u5927\u5b50\u77e9\u9635\u7684\u9762\u79ef\u3002\n\n****\u4ee5\u4e0a\u6587\u5b57\u6765\u81ea[OI Wiki](https://oi-wiki.org/misc/largest-matrix/)\n\uff0c\u6709\u5220\u6539\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6O(NM) \u7a7a\u95f4\u590d\u6742\u5ea6O(NM)\n\n\t\u4f18\u70b9\uff1a \u590d\u6742\u5ea6\u4e0e\u969c\u788d\u70b9\u4e2a\u6570\u6ca1\u6709\u76f4\u63a5\u5173\u7cfb\u3002\n\t\u7f3a\u70b9\uff1a\u969c\u788d\u70b9\u5c11\u65f6\u5904\u7406\u8f83\u590d\u6742,\u3002\n\t\u5f53\u969c\u788d\u70b9\u8f83\u591a\uff0cn*m\u8f83\u5c0f\u65f6\uff0c\u53ef\u4ee5\u7528\u60ac\u7ebf\u6cd5\u3002\n\n\u5206\u6790\u8be5\u9898\u4e3a\u4f55\u80fd\u7528\u60ac\u7ebf\u6cd5\uff1a\n\n#### \t1.\u53ef\u4ee5\u8f6c\u6362\u4e3a01\u77e9\u9635\uff1b\uff08\u91cd\u70b9\uff01\uff01\uff01\uff09\n\t2.n*m\u8f83\u5c0f\u3002\n\n\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1010;\nint n,m,a[N][N];\nint l[N][N],r[N][N],h[N][N],ans=0;\nchar ch;\nint main(){\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=m;j++){\n            cin>>ch;\n            if(ch=='R') a[i][j]=1;\n            else a[i][j]=0;\n        }\n    }\n    for(int i=1;i<=m;i++) r[0][i]=m;\n    \n\tfor(int i=1;i<=n;i++){\n        int maxr=m,maxl=1;\n        \n\t\tfor(int j=1;j<=m;j++){\n            if(a[i][j]){\n                maxl=j+1;\n                h[i][j]=0;\n                l[i][j]=0;\n            }\n\t\t\telse{\n                h[i][j]=h[i-1][j]+1;\n                l[i][j]=max(maxl,l[i-1][j]);\n            }\n        }\n        \n\t\tfor(int j=m;j>0;j--){\n            if(a[i][j]){\n                maxr=j-1;\n                r[i][j]=m;\n            }\n\t\t\telse{\n                r[i][j]=min(maxr,r[i-1][j]);\n                ans=max(ans,(r[i][j]-l[i][j]+1)*h[i][j]);\n            }\n        }\n    }\n    \n\tcout<<ans*3;\n    return 0;\n}\n```\n**\u73cd\u7231\u8d26\u53f7\uff0c\u8fdc\u79bb\u68d5\u540d**\u3002\n\nP.S.\u6ce8\u610f\uff1a\u60ac\u7ebf\u6cd5\u7684\u9650\u5236\u6761\u4ef6\uff0801\u77e9\u9635\uff09\u3002\u56e0\u4e3a\u4e0d\u53ef\u80fd\u6240\u6709\u95ee\u9898\u90fd\u4f1a\u90a3\u4e48\u7684\u7f8e\u597d\uff0c\u6240\u4ee5\u60ac\u7ebf\u6cd5\u8fd8\u662f\u4f5c\u4e3a\u4e00\u79cd\u6280\u5de7\u6765\u4e86\u89e3\uff0c\u987a\u4fbf\u63d0\u4e00\u53e5\uff1a\u672c\u9898\u6b63\u89e3\uff1a\u5355\u8c03\u6808\u3002\n\n~~\u53bb\u590d\u4e60\u5355\u8c03\u6808\u4e86\uff08\u9003\u3002qwq\u3002~~\n\n\n",
        "postTime": 1563971943,
        "uid": 204384,
        "name": "kaiyuan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4147 \u3010\u7389\u87fe\u5bab\u3011"
    },
    {
        "content": "    L[i][j]\u8868\u793a\u7b2ci\u884c\u7b2cj\u4e2a\u683c\u5b50\u80fd\u5411\u5de6\u5ef6\u4f38\u5230\u7b2cl[i][j]\u4e2a\u683c\u5b50\uff0c\u4e14\u5728\u8fd9\u4e00\u6bb5\u533a\u95f4\u5185\u6bcf\u4e2a\u683c\u5b50\u5747\u4e3a\u2019F\u2019\uff0c\u540c\u7406r[i][j]\u8868\u793a\u5b83\u80fd\u5411\u53f3\u5ef6\u4f38\u5230\u54ea\uff0cup[i][j]\u8868\u793a\u5b83\u4ece\u7b2ci\u884c\u5f00\u59cb\uff0c\u80fd\u5411\u4e0a\u6269\u5c55\u591a\u5c11\u884c\uff08\u5305\u62ec\u7b2ci\u884c\uff09\n\n    \u521d\u59cb\u5316\uff1a\n    L[i][j]=r[i][j]=j\uff0cup[i][j]=1\n    \n    \n    \u8bfb\u5165\u540e\uff08\u8bfb\u5165\u5b57\u7b26\u65f6\u5019\u8981\u5224\u65ad\u8bfb\u7684\u662f\u5b57\u7b26\u8fd8\u662f\u6362\u884c\u7b26\uff0c\u8fd9\u5751\u4e86\u6211\u597d\u957f\u65f6\u95f4\uff09\n    If(a[i][j]==a[i][j-1]) l[i][j]=l[i][j-1]\n    If(a[i][j]==a[i][j+1]) l[i][j]=l[i][j+1]\n    If(a[i][j]==a[i-1][j]) up[i][j]=up[i-1][j]+1\n    \n    \u5f00\u59cb\u7528\u60ac\u7ebf\u6cd5\n    For\u5faa\u73af\u6bcf\u4e00\u4e2a\u70b9(i,j)\n    \u5982\u679ca[i][j]==a[i-1][j]\u4e14i>1(\u8fd9\u4e00\u70b9\u5bb3\u6211\u627e\u4e86\u597d\u957f\u65f6\u95f4\u9519)L[i][j]=max(l[i][j],l[i-1][j])\uff0cr[i][j]=min(r[i][j],r[i-1][j]),up[i][j]=up[i-1][j]+1\n    \n    \u7136\u540e\u8ba1\u7b97\u7b54\u6848ans=max(ans,(r[i][j]-l[i][j]+1)*up[i][j])\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\nint n,m,l[1100][1100],a[1100][1100],r[1100][1100],up[1100][1100],ans;\nchar ch;\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    for (int i=1;i<=n;i++)\n      for (int j=1;j<=m;j++) \n      {\n          scanf(\"%c\",&ch);\n          while (ch!='R'&&ch!='F') scanf(\"%c\",&ch);//cout<<ch<<endl;\n          if (ch=='R') a[i][j]=1;\n          else a[i][j]=0;\n      }\n    for (int i=1;i<=n;i++)\n      for (int j=1;j<=m;j++) \n      if (a[i][j]==0)\n      {\n      \tl[i][j]=r[i][j]=j;\n      \tup[i][j]=1;\n      }\n    for (int i=1;i<=n;i++)\n      for (int j=2;j<=m;j++) \n        if (a[i][j]==a[i][j-1]&&a[i][j]==0) \n          l[i][j]=l[i][j-1];\n    for (int i=1;i<=n;i++)\n      for (int j=m-1;j;j--)\n        if (a[i][j]==a[i][j+1]&&a[i][j]==0)\n          r[i][j]=r[i][j+1];\n    for (int i=1;i<=n;i++)\n      for (int j=1;j<=m;j++)\n      {\n      \tif (a[i][j]==1) continue;\n      \tif (i>1&&a[i][j]==a[i-1][j])\n      \t{\n      \t\tl[i][j]=max(l[i][j],l[i-1][j]);\n      \t\tr[i][j]=min(r[i][j],r[i-1][j]);\n      \t\tup[i][j]=up[i-1][j]+1;\n      \t}\n      \t//cout<<up[i][j]*(r[i][j]-l[i][j]+1)<<endl;\n      \tans=max(ans,up[i][j]*(r[i][j]-l[i][j]+1));\n      }\n    printf(\"%d\",3*ans);\n    return 0;\n}\n```",
        "postTime": 1547105562,
        "uid": 40780,
        "name": "Forever_Lin",
        "ccfLevel": 0,
        "title": "P4147 \u7389\u87fe\u5bab"
    },
    {
        "content": "# \u4e24\u79cd\u65b9\u6cd5\n\n## 1\uff09\u7c7b\u6bd4\u4e8e[poj2559](http://poj.org/problem?id=2559)\n\n![](http://www.yzoj.fun/upload/image/20180723/20180723084740_51973.jpg)\n\n\u5173\u4e8epoj2559\u4ee5\u53ca\u5355\u8c03\u6808 \u5728\u6211\u53e6\u4e00\u7bc7Blog\u6709\u8be6\u7ec6\u89e3\u91ca\u53ca\u4ee3\u7801[\u6233\u6233\u6233*](https://qiianr-lulala.blog.luogu.org/dan-diao-zhan)\n\n### \u624b\u52a8\u6f14\u7ec3\u7ed9\u4f60\u770b~\n\u6837\u4f8b\n5 6 \n\nR F F F F F \n\nF F F F F F\n\nR R R F F F \n\nF F F F F F \n\nF F F F F F\n\n\u5148\u5316\u4e3a\n\n1 0 0 0 0 0 \n\n0 0 0 0 0 0\n\n1 1 1 0 0 0\n\n0 0 0 0 0 0\n\n0 0 0 0 0 0\n\n\u7136\u540e\u5c31\u662f\u5bfb\u627e\u75310\u6784\u6210\u7684\u6700\u5927\u77e9\u9635\u7136\u540e\u4e583\n\n\u5904\u7406\u4e00\u756a\uff08\u6bcf\u4e00\u5217\u6700\u5927\u8fde\u7eed0\u7684\u4e2a\u6570\uff09\n\n0 1 1 1 1 1\n\n1 2 2 2 2 2\n\n0 0 0 3 3 3\n\n1 1 1 4 4 4\n\n2 2 2 5 5 5\n\n\u6240\u4ee5\u6ce5\u840c\u770b\u51fa\u7384\u673a\u4e86\u4e48\n\n\u6211\u4eec\u6765\u5355\u72ec\u770b\u6bcf\u4e00\u884c \u4e0d\u5c31\u662fpoj2559\u90a3\u9053\u5355\u8c03\u6808\u7684\u677f\u5b50\u9898\u561b\n\n\u5904\u7406\u7684\u6570\u5b57\u770b\u4f5c\u77e9\u9635\u7684\u9ad8\n\n\u5949\u4e0aSTL\u6808\u4ee5\u53ca\u624b\u5199\u6808\n\nSTL\n \n```cpp\n#include <cstdio>\n#include <iostream>\n#include <stack> \n#define maxn 1005\nusing namespace std;\nchar b;\nint n,m,a[maxn][maxn],f[maxn][maxn],ma;\nstruct node{\n\tint len,val;\n};\n\nvoid work(int x){\n\tstack<node> s;\n\tnode q;\n\tint width=0;\n\tfor(int i=1;i<=m;i++){\n\t\tq.len=1;\n\t\tq.val=f[x][i];\n\t\twidth=0;\n\t\tif(s.empty()){\n\t\t\ts.push(q);\n\t\t}else{\n\t\t\tif(s.top().val<q.val){//\u8fdb\u6808\n\t\t\t\ts.push(q);\n\t\t\t}else{\n\t\t\t\twhile(!s.empty()&&s.top().val>=q.val){//\u6808\u4e0d\u4e3a\u7a7a\n\t\t\t\t\ts.top().len+=width;\n\t\t\t\t\tma=max(ma,s.top().val*s.top().len);\n\t\t\t\t\twidth=s.top().len;\n\t\t\t\t\ts.pop();//\u9000\u6808 \n\t\t\t\t}\n\t\t\t\tq.len+=width;\n\t\t\t\ts.push(q);\n\t\t\t}\n\t\t}\n\t}\n\twidth=0;\n\twhile(!s.empty()){//\u8bb0\u5f97\u6e05\u7a7a\u6808\u54e6\uff0c\u907f\u514d\u6709\u5269\u4f59\u77e9\u5f62\u672a\u88ab\u8003\u8651\u5230\n\t\ts.top().len+=width;\n\t\tma=max(ma,s.top().val*s.top().len);\n\t\twidth=s.top().len;\n\t\ts.pop(); \n\t}\n}\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tcin>>b;//\u867d\u7136scanf\u6bd4cin\u5feb\u5f88\u591a \u4f46\u662f\u8f93\u5165\u5b57\u7b26\u53ca\u5b57\u7b26\u4e32\u65f6\u5efa\u8bae\u7528cin\u4e0d\u5bb9\u6613\u51fa\u9519\n\t\t\tif(b=='R') a[i][j]=1;//\u8f6c\u5316\u62100 1 \u6570\u7ec4\u65b9\u4fbf\u5904\u7406 \n\t\t}\n\t}\n\tfor(int i=1;i<=m;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(a[j][i]==0){//\u5904\u7406\u6bcf\u4e00\u5217 \n\t\t\t\tf[j][i]=f[j-1][i]+1;//\u7d2f\u8ba1\u8fd9\u4e00\u5217\u4e2d\u76840\u7684\u4e2a\u6570\n\t\t\t}\n\t\t}\n\t}\n    for(int i=1;i<=n;i++){\n    \twork(i);//\u5355\u8c03\u6808 \u8fd9\u91cc\u4e0epoj2559\u51e0\u4e4e\u662f\u4e00\u6bdb\u4e00\u6837\n    }\n    printf(\"%d\",ma*3);\n\treturn 0;\n}\n```\n\n\u624b\u5199\u6808\uff08\u601d\u8def\u4e0e\u4e0a\u4ee3\u7801\u540c\uff09\u4e5f\u662f\u76f4\u63a5\u6539\u7684poj2559\u7684\u4ee3\u7801\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#define maxn 1505\nusing namespace std;\nint H,W,a[maxn][maxn],f[maxn][maxn],s[maxn],w[maxn],ma=0;\nvoid work(int x){\n    int p=0;\n    f[x][W+1]=0;\n    for(int i=1;i<=W+1;i++){\n        if(f[x][i]>s[p]){\n            s[++p]=f[x][i],w[p]=1;\n        }else{\n            int width=0;\n            while(s[p]>f[x][i]){\n                width+=w[p];\n                ma=max(ma,width*s[p]);\n                p--;\n            }\n            s[++p]=f[x][i],w[p]=width+1;\n        }\n    }\n}\nint main(){\n    scanf(\"%d%d\",&H,&W);\n    char b;\n    for(int i=1;i<=H;i++){\n        for(int j=1;j<=W;j++){\n            cin>>b;\n            if(b=='R') a[i][j]=1;\n            else a[i][j]=0;\n        }\n    }\n    int cnt;\n    for(int j=1;j<=W;j++){\n        cnt=0;\n        for(int i=1;i<=H;i++){\n            if(a[i][j]==0){\n                f[i][j]=f[i-1][j]+1;\n            }\n        }\n    }\n    /*\n    for(int i=1;i<=H;i++){\n        for(int j=1;j<=W;j++){\n            printf(\"%d \",a[i][j]);\n        }\n        printf(\"\\n\");\n    }*/\t\n    for(int i=1;i<=H;i++){\n        work(i);\n    }\n    printf(\"%d\",ma*3);\n    return 0;\n}\n```\n\n## 2\uff09\u60ac\u7ebf\u6cd5\n\n\u63a8\u8350\u4e00\u7bc7\u7a76\u6781\u8be6\u7ec6\u9644\u4e0a\u8bc1\u660e\u8d85\u7ea7\u5389\u5bb3\u7684\u6587\u7ae0\u300a\u6d45\u8c08\u7528\u6781\u5927\u5316\u601d\u60f3\u89e3\u51b3\u6700\u5927\u5b50\u77e9\u9635\u95ee\u9898\u300b\n[\u53ea\u6709dalao\u624d\u6233\u5f97\u52a8](https://blog.csdn.net/clover_hxy/article/details/50532289?locationNum=1&fps=1)\n\n### ~~\u9a6c\u864e\u7248~~\n\n#### \u4f5c\u7528\uff1a\n\nO\uff08n^2\uff09\u7528\u6765\u89e3\u51b3\u6700\u5927\u77e9\u9635\u548c\u95ee\u9898\n\n#### \u601d\u8def\uff1a\n\n\u5bf9\u4e8e m*n \u77e9\u9635\u4e2d\u7684\u4efb\u610f\u4e00\u70b9\uff0c\u8986\u76d6\u8fd9\u4e2a\u70b9\u7684\u6700\u5927\u77e9\u5f62\u7684\u9762\u79ef\u4e3a\uff0c\u8be5\u70b9\u5411\u5de6\u53f3\u6700\u5927\u80fd\u5ef6\u4f38\u7684\u957f\u5ea6\u4e4b\u548c\u4e0e\u5411\u4e0a\u6700\u5927\u80fd\u5ef6\u4f38\u7684\u957f\u5ea6\u7684\u4e58\u79ef\u3002\n\n#### \u63cf\u8ff0\uff1a\n\n\u9996\u5148 O(n^2) \u9884\u5904\u7406\uff0c\u5bf9\u4e8e\u77e9\u9635\u4e0a\u7684\u6bcf\u4e00\u4e2a\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\uff1a\n\n1.\u4ece\u5b83\u5411\u4e0a\u5f15\u4e00\u6761\u60ac\u7ebf\uff0c\u9047\u5230\u8fb9\u754c\u6216\u969c\u788d\u70b9\u505c\u6b62\uff0ch[i][j] \u6570\u7ec4\u8bb0\u5f55\u4ece\u70b9 (i,j) \u5411\u4e0a\u7684\u60ac\u7ebf\u957f\u5ea6\u3002\n\n2.\u5411\u5de6\u5ef6\u4f38\uff0c\u9047\u5230\u8fb9\u754c\u6216\u969c\u788d\u70b9\u505c\u6b62\uff0cl[i][j] \u6570\u7ec4\u8bb0\u5f55\u4ece\u70b9 (i,j) \u5411\u5de6\u6700\u5927\u80fd\u5ef6\u4f38\u7684\u957f\u5ea6\u3002\n\n3.\u5411\u53f3\u5ef6\u4f38\uff0c\u9047\u5230\u8fb9\u754c\u6216\u969c\u788d\u70b9\u505c\u6b62\uff0cr[i][j] \u6570\u7ec4\u8bb0\u5f55\u4ece\u70b9 (i,j) \u5411\u53f3\u6700\u5927\u80fd\u5ef6\u4f38\u7684\u957f\u5ea6\u3002\n\n\u7136\u540e\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u4ec5\u4ec5\u505a\u51fa\u9884\u5904\u7406\u662f\u4e0d\u591f\u7684\uff0c\n\n\u56e0\u4e3a\uff0cl[i][j] \u548c r[i][j] \u7684\u503c\u90fd\u5404\u81ea\u53d6\u51b3\u4e8e l[i-1][j] \u548c r[i-1][j]\u3002\uff08\u56e0\u4e3a\u4e3a\u4fdd\u8bc1\u6210\u4e3a\u4e00\u4e2a\u77e9\u5f62\uff0cl[i][j] \u4e0d\u80fd\u8d85\u8fc7 l[i-1][j]\uff0cr \u540c\u7406\uff09\n\n\u6240\u4ee5\u679a\u4e3e\u70b9\u5bf9 l \u548c r \u8fdb\u884c\u66f4\u65b0\uff0c\u5bf9 l[i][j] \u4e0e l[i-1][j] \u53d6 min\uff0cr \u540c\u7406\u3002\n\n\u8fd9\u91cc\u53ef\u4ee5\u5408\u5e76\u6c42\u89e3\u4e0e\u66f4\u65b0\uff0c\u6bcf\u4e2a\u70b9\u66f4\u65b0\u5b8c\u4e4b\u540e\u987a\u4fbf\u7b97\u51fa\u8fd9\u4e2a\u70b9\u60ac\u7ebf\u7684\u77e9\u5f62\u9762\u79ef\u5373\u53ef\u3002\n\n#### \u9012\u63a8\u516c\u5f0f\uff1a\n\nS\uff1aS[i][j] = S[i-1][j] + 1//\u7531\u4e0a\u4e00\u4e2a\u70b9\u6c42\u51fa\u7684\u9762\u79ef\n\nRight\uff1amax(Right[i][j]\uff0cRIght[i-1],[j])\n\nLeft:\uff1amin(Left[i][j]\uff0cLeft[i-1][j])\n\n~~\u6709\u6ca1\u6709\u5f88\u597d\u5199~~\n\n\u558f~\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#define maxn 1005\nusing namespace std;\nint n,m,a[maxn][maxn],l[maxn][maxn],r[maxn][maxn],s[maxn][maxn],ans=0;\nchar b;\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tcin>>b;\n\t\t\tif(b=='R') a[i][j]=1;\n\t\t}\n\t}\n\tfor(int i=1;i<=m;i++) r[0][i]=m;\n\tfor(int i=1;i<=n;i++){\n\t\tint maxr=m,maxl=1;\n\t\tfor(int j=1;j<=m;j++){\n\t\t\tif(a[i][j]){\n\t\t\t\tmaxl=j+1;\n\t\t\t\ts[i][j]=l[i][j]=0;\n\t\t\t}else{\n\t\t\t\ts[i][j]=s[i-1][j]+1;\n\t\t\t\tl[i][j]=max(maxl,l[i-1][j]);\n\t\t\t}\n\t\t}\n\t\tfor(int j=m;j>0;j--){\n\t\t\tif(a[i][j]){\n\t\t\t\tmaxr=j-1;\n\t\t\t\tr[i][j]=m;\n\t\t\t}else{\n\t\t\t\tr[i][j]=min(maxr,r[i-1][j]);\n\t\t\t\tans=max(ans,(r[i][j]-l[i][j]+1)*s[i][j]);\n\t\t\t}\n\t\t}\n\t}\n\tcout<<ans*3;\n\treturn 0;\n}\n```",
        "postTime": 1533303573,
        "uid": 103198,
        "name": "qiianr",
        "ccfLevel": 0,
        "title": "\u7389\u87fe\u5babP4147"
    }
]