[
    {
        "content": "upd\uff1a\u4fee\u6539\u4e86\u4e00\u5904\u7b14\u8bef\uff0c\u611f\u8c22 [TheShadow](https://www.luogu.com.cn/user/122273) \u6307\u51fa\u3002\u8bf7\u7ba1\u7406\u91cd\u65b0\u5ba1\u6838\u3002\n\n$\\text{Subtask}\\;1$\uff1a\u770b\u6837\u4f8b\u8f93\u51fa\u3002\n\n$\\text{Subtask}\\;2$\uff1a\u6b63\u5e38\u7684\u7206\u641c\u5e94\u8be5\u80fd\u8fc7\u3002\uff08\u5f53\u7136\u4f60\u7206\u641c\u5199\u7684\u662f\u5047\u7684\uff08\u6307\u6b63\u786e\u6027\uff09\u5c31\u8fc7\u4e0d\u4e86\uff09\n\n$\\text{Subtask}\\;3$\uff1a~~\u7206\u641c\u627e\u89c4\u5f8b~~ \u6570\u5b66\u63a8\u5bfc\u3002\n\n\u6211\u4eec\u6765\u5206\u60c5\u51b5\u8ba8\u8bba\u3002\n\n$n=4k+1$\uff1a\u53d6\u4e00\u4e2a $n$\uff0c$2k$ \u4e2a $1$\uff0c$2k$ \u4e2a $-1$ \u5373\u53ef\u3002\n\n$n=4k+2$\uff1a\u5047\u8bbe\u53ef\u4ee5\uff0c\u8bbe $(a_1,a_2,\\cdots,a_n)$ \u662f $n$ \u7684\u4e00\u4e2a\u300c\u826f\u597d\u7684\u5206\u62c6\u300d\u3002\u65e2\u7136 $\\prod a_i=4k+2$\uff0c\u90a3\u4e48 $a_1,a_2,\\cdots,a_n$ \u4e2d\u5fc5\u5b9a\u6070\u597d\u6709\u4e00\u4e2a\u5076\u6570\uff0c\u518d\u6839\u636e $\\sum a_i=4k+2$\uff0c\u53ef\u5f97 $4k+1$ \u4e2a\u5947\u6570\u548c\u4e00\u4e2a\u5076\u6570\u7684\u548c\u662f\u5076\u6570\uff0c\u4e0d\u53ef\u80fd\u3002\u6545\u6b64\u65f6 $n$ \u6ca1\u6709\u300c\u826f\u597d\u7684\u5206\u62c6\u300d\u3002\n\n$n=4k+3$\uff1a\u5047\u8bbe\u53ef\u4ee5\uff0c\u8bbe $(a_1,a_2,\\cdots,a_n)$ \u662f $n$ \u7684\u4e00\u4e2a\u300c\u826f\u597d\u7684\u5206\u62c6\u300d\u3002\u65e2\u7136 $\\prod a_i=4k+3$\uff0c\u90a3\u4e48 $a_1,a_2,\\cdots,a_n$ \u4e2d\u5fc5\u5b9a\u6709\u5947\u6570\u4e2a $4k+3$ \u578b\u6570\u548c\u5076\u6570\u4e2a $4k+1$ \u578b\u6570\u3002\u65e0\u8bba\u662f\u6709 $4k+1$ \u4e2a $4k+3$ \u578b\u6570\u548c $4k+2$ \u4e2a $4k+1$ \u578b\u6570\uff0c\u8fd8\u662f\u6709 $4k+3$ \u4e2a $4k+3$ \u578b\u6570\u548c $4k$ \u4e2a $4k+1$ \u578b\u6570\uff0c\u5176\u548c\u90fd\u4e0d\u662f $4k+3$ \u578b\u6570\u3002\u6545\u6b64\u65f6 $n$ \u6ca1\u6709\u300c\u826f\u597d\u7684\u5206\u62c6\u300d\u3002\n\n$n=4k$\uff1a\u8981\u5206\u7c7b\u8ba8\u8bba\u3002\n\n- $n=4$\uff1a\u6ca1\u6709\uff0c\u8bfb\u8005\u81ea\u8bc1\u4e0d\u96be\uff08\n- $n=8k$\uff1a\u4e00\u4e2a $4k$\uff0c\u4e00\u4e2a $2$\uff0c$6k-2$ \u4e2a $1$\uff0c$2k$ \u4e2a $-1$\u3002\n- $n=8k+4$\uff1a\u4e00\u4e2a $4k+2$\uff0c\u4e00\u4e2a $-2$\uff0c$6k+3$ \u4e2a $1$\uff0c$2k-1$ \u4e2a $-1$\u3002\n\n\u6309\u7167\u4e0a\u9762\u7684\u65b9\u5f0f\u6784\u9020\u5373\u53ef\u3002\n\n\uff08\u5f88\u597d\u5947\u6bd4\u8d5b\u7684\u65f6\u5019\u6709\u6ca1\u6709\u4eba\u627e\u89c4\u5f8b\u627e\u51fa\u6765\n\n$\\texttt{code:}$\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<fstream>\n#include<cmath>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n#define Set(a) memset(a,0,sizeof(a))\n#define F(i,a,b) for(register int i=a,i##end=b;i<=i##end;++i)\n#define UF(i,a,b) for(register int i=a,i##end=b;i>=i##end;--i)\n#define openf(a) freopen(#a\".in\",\"r\",stdin);freopen(#a\".out\",\"w\",stdout)\n#define re register\n#define ri re int\n#define il inline\ntypedef long long ll;\ntypedef unsigned long long ull;\ntemplate<typename T> inline T rd(T& x)\n{\n\tT f=1;x=0;char c=getchar();\n\tfor(;!isdigit(c);c=getchar()) if(c=='-') f=-1;\n\tfor(; isdigit(c);c=getchar()) x=(x<<3)+(x<<1)+(T)(c-'0');\n\tx*=f;\n\treturn x;\n}\nll rd(){ll x;rd(x);return x;}\ninline int max(int a,int b){return a>b?a:b;}\ninline int min(int a,int b){return a<b?a:b;}\nconst int inf=1<<30;\n\nvoid out(int n)\n{\n\tif(n%4==1)\n\t{\n\t\tputs(\"YES\");\n\t\tif(n==1) printf(\"1\\n1 1\\n\");\n\t\telse printf(\"3\\n1 %d\\n%d 1\\n%d -1\\n\",n,n/2,n/2);\n\t}\n\telse if(n%4==2) puts(\"NO\");\n\telse if(n%4==3) puts(\"NO\");\n\telse\n\t{\n\t\tif(n%8==0)\n\t\t{\n\t\t\tputs(\"YES\");\n\t\t\tprintf(\"4\\n1 %d\\n1 2\\n%d 1\\n%d -1\\n\",n/2,n-n/4-2,n/4);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(n==4) puts(\"NO\");\n\t\t\telse\n\t\t\t{\n\t\t\t\tputs(\"YES\");\n\t\t\t\tprintf(\"4\\n1 %d\\n1 -2\\n%d -1\\n%d 1\\n\",n/2,n/4-2,n-n/4);\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tint T=rd();\n\twhile(T--) out(rd());\n\treturn 0;\n}\n```\n\n",
        "postTime": 1584529778,
        "uid": 130151,
        "name": "WYXkk",
        "ccfLevel": 9,
        "title": "T3 \u5206\u62c6 \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u697c\u4e0a\u5946\u4f6c\u5df2\u7ecf\u5199\u7684\u5f88\u597d\u4e86\uff0c\u4f46\u7531\u4e8e\u849f\u84bb\u592a\u5f31\uff0c\u770b\u8d77\u6765\u6709\u4e9b\u8d39\u52b2qwwq\n\n\u8fd9\u7bc7\u4e3b\u8981\u8bb2\u7684\u7ec6\u4e00\u4e9b\n\n# \u9898\u610f\n### \u6c42\u662f\u5426\u5b58\u5728 $\\sum_{i=1}^n a_i  = \\prod _{i=1}^n a_i = n$\n# \u601d\u8def\n\u770b\u5230\u6837\u4f8b\u89e3\u91ca\u4e2d\u7528 $-1$ \u548c $1$ \u4e3e\u4f8b\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff1a$2$ \u4e2a $-1$ \u548c $2$ \u4e2a $1$ \u76f8\u52a0\u662f $0$ \uff0c\u76f8\u4e58\u662f $1$\uff0c\u5747\u4e0d\u5f71\u54cd\u7ed3\u679c\uff0c\u6240\u4ee5\u53ef\u4ee5\u8003\u8651\u4ece $n$ \u5bf9 $4$ \u53d6\u6a21\u5165\u624b\u3002\n\n### 1. $n \\equiv 1(mod\\ 4 )$ ($x \\equiv y(mod\\ z)$ \u8868\u793a $x$ \u9664\u4ee5 $z$ \u4f59 $y$ \uff09\n\u8bbe $n=4k+1$\n\n\u6b64\u65f6\u5c31\u5982\u6837\u4f8b\u60c5\u51b5\uff0c\u7528 $1$ \u4e2a $n$ \uff0c$2k$ \u4e2a $1$\uff0c $2k$ \u4e2a $-1$ \u5373\u53ef\uff0c\u5728\u6b64\u4e0d\u518d\u8d58\u8ff0\u3002\n\n### 2. $n \\equiv 2(mod\\ 4 )$ \n\n\u8fd9\u65f6 $n$ \u80fd\u88ab $2$ \u6574\u9664\uff0c\u4e0d\u80fd\u88ab $4$ \u6574\u9664\uff0c\u7531\u4e8e $\\prod _{i=1}^n a_i = n$\uff0c$a_i$ \u4e2d\u4e0d\u53ef\u4ee5\u6709\u4e24\u4e2a\u5076\u6570\uff08\u5426\u5219\u5c31\u80fd\u88ab $4$ \u6574\u9664\u4e86\uff09\u4e14\u5fc5\u6709\u4e00\u4e2a\u6a21 $4$ \u4f59 $2$ \u7684\u5076\u6570\u3002\n\n\u6545 $a$ \u4e2d\u6709 $n-1$ \u4e2a\u5947\u6570\uff0c\u548c $1$ \u4e2a\u5076\u6570\u3002\u7531\u4e8e\u5947\u6570\uff08$n-1$ \u4e3a\u5947\uff09\u4e2a\u5947\u6570\u4e2a\u5947\u6570\u52a0\u4e00\u4e2a\u5076\u6570\u4e3a\u5947\u6570\uff0c\u800c $n$ \u4e3a\u5076\u6570\uff0c\u6545\u6b64\u65f6\u6ca1\u6709\u300c\u826f\u597d\u7684\u5206\u62c6\u300d\u3002\n\n### 3. $n \\equiv 3(mod\\ 4 )$ \n\n**\u5f15\u7406:** \u82e5 $x \\equiv a(mod\\ p ),y \\equiv b(mod\\ p )$\uff0c\u5219 $x \\times y \\equiv a \\times b(mod\\ p ),x + y \\equiv a + b(mod\\ p )$ \uff08\u8bc1\u660e\u5c31\u628a $x$ \u8bbe\u4e3a $np+a$\uff0c\u628a $y$ \u8bbe\u4e3a $mp+b$ \u518d\u5c55\u5f00\u5373\u53ef\uff09\n\n\u6b64\u65f6 $a$ \u4e2d\u4e0d\u80fd\u6709\u5076\u6570\uff0c\u5168\u90fd\u662f\u5947\u6570\uff0c\u8ba8\u8bba\u5947\u6570\u79cd\u7c7b\uff1a\n\n- $a_p \\equiv a_q \\equiv 3(mod\\ 4 )$ \n\n\t\u5219 $a_p \\times a_q \\equiv 3 \\times 3 \\equiv 1(mod\\ 4 ),a_p + a_q \\equiv 3 + 3 \\equiv 2(mod\\ 4 )$\n- $a_p \\equiv a_q \\equiv 1(mod\\ 4 )$ \n\n\t\u5219 $a_p \\times a_q \\equiv 1 \\times 1 \\equiv 1(mod\\ 4 ),a_p + a_q \\equiv 1+1 \\equiv 2(mod\\ 4 )$\n\n\u53d1\u73b0\u6b64\u65f6\u4e24\u79cd\u5947\u6570\u505a\u5076\u6570\u6b21\u4e58\u6cd5\u90fd\u662f\u6a21 $4$ \u4f59 $1$\uff0c\u6545\u9700\u8981\u5947\u6570\u4e2a\u6a21 $4$ \u4f59 $3$ \u7684\u5947\u6570\u3002\n\n\u7531\u4e8e $n$ \u4e3a\u5947\u6570\uff0c\u6240\u4ee5\u8fd8\u9700\u8981\u5076\u6570\u4e2a\u6a21 $4$ \u4f59 $1$ \u7684\u5947\u6570\u3002\n\n\u8bbe\u9700\u8981 $x$ \u4e2a\u6a21 $4$ \u4f59 $1$ \u7684\u5947\u6570 $b$\uff0c\u9700\u8981 $y$ \u4e2a\u6a21 $4$ \u4f59 $3$ \u7684\u5947\u6570 $b'$\uff08$x+y=n$\uff09\u3002\n\n- $x \\equiv 0(mod\\ 4 )$\n\n\t\u5219 $y \\equiv n-x \\equiv 3(mod\\ 4 ) \\Rightarrow n \\equiv y \\times b'+x \\times b \\equiv 3\\times 3 + 0 \\times 1\\equiv 1(mod\\ 4 ) $\uff0c\u6b64\u65f6 $n \\not\\equiv 3(mod\\ 4 )$\uff0c\u77db\u76fe\u3002\n    \n- $x \\equiv 2(mod\\ 4 )$\n\n\t\u5219 $y \\equiv n-x \\equiv 1(mod\\ 4 ) \\Rightarrow n \\equiv y \\times b'+x \\times b \\equiv 1\\times 3 + 2 \\times 1\\equiv 1(mod\\ 4 ) $\uff0c\u6b64\u65f6 $n \\not\\equiv 3(mod\\ 4 )$\uff0c\u77db\u76fe\u3002\n    \n**\u6545 $n \\equiv 3(mod\\ 4 )$ \u65f6\u6ca1\u6709\u300c\u826f\u597d\u7684\u5206\u62c6\u300d**\n\n### 4. $n \\equiv 0(mod\\ 4 )$ \n\n$n=4$ \u4e0d\u884c\uff0c\u8bc1\u660e\u6b64\u5904\u7565\u3002\n\n\u8bbe $n=4k$\uff0c\u53ef\u4ee5\u5148\u6784\u9020 $2k-2$ \u4e2a $-1$ \u548c $2k-2$ \u4e2a $1$\uff0c\u7136\u540e\u9700\u8981\u8003\u8651\u5982\u4f55\u6784\u9020\u56db\u4e2a\u6570\uff0c\u4f7f\u5176\u79ef\u548c\u548c\u90fd\u4e3a $4k$\u3002\n\n\u7531\u4e8e $4k=2 \\times 2 \\times k$\uff0c\u53d1\u73b0 $2k \\times 2 \\times(-1) \\times (-1)$ \u79ef\u662f\u5bf9\u7684\uff0c\u4f46\u548c\u5c0f\u4e86\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u8c03\u6574 $1$ \u548c $-1$ \u7684\u4e2a\u6570\uff0c\u8ba9 $-1$ \u5c11 $k$ \u4e2a\uff0c\u8ba9 $1$ \u591a $k$ \u4e2a\uff0c\u4f46\u6b64\u65f6 $-1$ \u6709 $k-2$ \u4e2a\uff0c\u6709\u53ef\u80fd\u4e58\u51fa\u6765\u662f\u8d1f\u7684\uff0c\u6240\u4ee5\u8003\u8651\u8ba8\u8bba $k$ \u7684\u5947\u5076\u6027\u3002\n\n- $k$ \u4e3a\u5076\uff08\u5373 $n|8$\uff09\n\n\t\u8fd9\u65f6\u5982\u4e0a\u9762\u6784\u9020\u7684\u65b9\u6cd5\u5373\u53ef\uff08$2k \\times 2 \\times (-1)^k \\times 1^{3k-2}$\uff09\n    \n-  $k$ \u4e3a\u5947\n\n\t\u6784\u9020\uff1a$2k \\times (-2) \\times (-1)^{k-2} \\times 1^{3k}$\n    \n# \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n\tint t, n;\n\tcin >> t;\n\twhile (t--) {\n\t\tcin >> n;\n\t\tint k = n / 4;\n\t\tswitch (n % 4) {\n\t\t\tcase 1:\n\t\t\t\tif (n == 1) {\n\t\t\t\t\tcout << \"YES\" << endl;\n\t\t\t\t\tcout << 1 << endl;\n\t\t\t\t\tcout << 1 << ' ' << 1 << endl;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcout << \"YES\" << endl;\n\t\t\t\tcout << 3 << endl;\n\t\t\t\tcout << 1 << ' ' << n << endl << 2 * k << ' ' << 1 << endl << 2 * k << ' ' << -1 << endl;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tcout << \"NO\" << endl;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tcout << \"NO\" << endl;\n\t\t\t\tbreak;\n\t\t\tcase 0:\n\t\t\t\tif (n == 4) {\n\t\t\t\t\tcout << \"NO\" << endl;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcout << \"YES\" << endl;\n\t\t\t\tcout << 4 << endl;\n\t\t\t\tif (k % 2) cout << 1 << ' ' << 2 * k << endl << 1 << ' ' << -2 << endl << k - 2 << ' ' << -1 << endl << 3 * k << ' ' << 1 << endl;\n\t\t\t\telse cout << 1 << ' ' << 2 * k << endl << 1 << ' ' << 2 << endl << k << ' ' << -1 << endl << 3 * k - 2 << ' ' << 1 << endl;\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n```\n",
        "postTime": 1642218031,
        "uid": 280604,
        "name": "DiDi123",
        "ccfLevel": 0,
        "title": "P6250 \u9898\u89e3"
    }
]