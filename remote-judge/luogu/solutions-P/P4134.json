[
    {
        "content": "\u63d0\u4f9b\u4e00\u4e2a\u517c\u5177\u8dd1\u5f97\u6162\u548c\u7801\u91cf\u5927\u4e24\u5927~~\u4f18\u70b9~~\u7684\u795e\u7b14\u505a\u6cd5/kk\n\n\u5f88\u5bb9\u6613\u60f3\u5230\u8fd9\u6837\u4e00\u4e2a\u8d39\u7528\u6d41\u5efa\u56fe\uff1a\u82e5\u4e00\u5bf9 $(x,y)$ \u662f\u5408\u6cd5\u7684\uff0c\u5219\u6e90\u70b9\u5411 $x$ \u4ee5\u53ca $y$ \u5411\u6c47\u70b9\u90fd\u8fde\u5bb9\u91cf\u4e3a $1$ \u8d39\u7528\u4e3a $0$ \u7684\u8fb9\uff0c$x$ \u5411 $y$ \u8fde\u5bb9\u91cf $1$ \u8d39\u7528 $x+y$ \u7684\u8fb9\uff0c\u7b54\u6848\u5373\u4e3a\u6700\u5927\u8d39\u7528\u6700\u5927\u6d41\u3002\n\n\u95ee\u9898\u662f\u6211\u4eec\u600e\u4e48\u77e5\u9053\u54ea\u4e9b\u70b9\u5411\u6e90\u70b9\u8fde\u54ea\u4e9b\u5411\u6c47\u70b9\u8fde\uff1f\uff08\u8fd9\u91cc\u5176\u5b83\u9898\u89e3\u76f4\u63a5\u62c6\u70b9\u89e3\u51b3\u4e86\uff0c\u4e0d\u9700\u8981\u641e\u6e05\u695a\u54ea\u4e9b\u8fde\u6e90\u70b9\u54ea\u4e9b\u8fde\u6c47\u70b9\uff09\u3002\n\n\u4ee5\u672c\u4eba\u7684\u6570\u5b66\u6c34\u5e73\u65e0\u6cd5\u627e\u51fa\u4e00\u4e2a\u7b80\u5355\u7684\u89c4\u5f8b\u8fdb\u884c\u67d3\u8272\u3002\u4f46\u6211\u4eec\u67d3\u8272\u7684\u672c\u8d28\uff0c\u662f\u5c06\u6240\u6709\u70b9\u5212\u5206\u4e3a\u4e24\u4e2a\u4e0d\u4ea4\u96c6\u5408 $S,T$\uff0c\u4f7f\u5f97\u6240\u6709\u6ee1\u8db3 $x\\in S,y\\in S,x\\ne y$ \u7684 $(x,y)$ \u90fd\u4e0d\u5408\u6cd5\u3002\u540c\u6837\uff0c\u6ee1\u8db3 $x\\in T,y\\in T,x\\ne y$ \u7684 $(x,y)$ \u4e5f\u4e0d\u5408\u6cd5\u3002\u5047\u8bbe $S$ \u4e3a\u9ed1\u8272\uff0c $T$ \u4e3a\u767d\u8272\uff0c\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u540c\u8272\u70b9\u4e4b\u95f4\u7684\u8fde\u8fb9\u3002\n\n\u90a3\u4e48\uff0c\u5982\u679c\u4e00\u5bf9 $(x,y)$ \u5408\u6cd5\uff0c\u610f\u5473\u7740 $x,y$ \u4e0d\u80fd\u5212\u5206\u5230\u76f8\u540c\u7684\u96c6\u5408\u91cc\u9762\u53bb\u3002\u53ef\u4ee5\u7528 2-SAT \u627e\u51fa\u4e00\u79cd\u53ef\u884c\u65b9\u6848\u3002\u627e\u5230\u4e86\u5408\u6cd5\u7684\u96c6\u5408\u5212\u5206\u65b9\u6848\uff08\u67d3\u8272\u65b9\u6848\uff09\u540e\uff0c\u6309\u7167\u4e4b\u524d\u8bf4\u7684\u8d39\u7528\u6d41\u5efa\u56fe\u5c31\u53ef\u4ee5\u4e86\u3002\n\n2-SAT \u4f1a\u4e0d\u4f1a\u65e0\u89e3\uff1f\u8fd9\u4e2a\u83dc\u9e21\u65e0\u6cd5\u4e25\u683c\u8bc1\u660e\uff0c\u4f46\u51ed\u76f4\u89c9\u6ee1\u8db3\u6761\u4ef6\u7684 $(x,y)$ \u5e94\u8be5\u662f\u5f88\u5c11\u7684\uff0c2-SAT \u7684\u8fb9\u4e5f\u5c31\u5f88\u5c11\uff0c\u5373 2-SAT \u6709\u89e3\u7684\u6982\u7387\u5f88\u5927\u3002\u5e76\u4e14\u5199\u5b8c\u7a0b\u5e8f\u8dd1\u4e00\u904d\u6781\u9650\u6570\u636e\u53d1\u73b0 2-SAT \u6709\u89e3\uff0c\u6240\u4ee5\u8fd9\u4e0d\u662f\u4e71\u641e\uff0c\u662f\u7406\u8bba\u4e0a\u6ca1\u6cd5\u8bc1\u660e\u4f46\u5b9e\u9645\u4e0a\u65e0\u6cd5 hack \u6389\u7684\u5947\u602a\u505a\u6cd5\uff08\n\n```cpp\n#include <cstdio>\n#include <queue>\n#include <cstring>\n#include <cmath>\n\nint n;\nstruct TwoSAT {\n\tstruct Edge {\n\t\tint to, nxt;\n\t} e[4000005];\n\tint head[2000005], s[2000005], tot, top;\n\tbool mark[2000005];\n\tvoid clear() {\n\t\tmemset(head, 0, sizeof head);\n\t\tmemset(mark, 0, sizeof mark);\n\t\ttot = 0;\n\t}\n\tinline void AddEdge(const int u, const int v) {\n\t\te[++ tot].to = v, e[tot].nxt = head[u], head[u] = tot;\n\t}\n\tinline void addclause(int x, int valx, int y, int valy) {\n\t\tx = (x - 1) * 2 + valx;\n\t\ty = (y - 1) * 2 + valy;\n\t\tAddEdge(x ^ 1, y);\n\t\tAddEdge(y ^ 1, x);\n\t}\n\tbool dfs(const int u) {\n\t\tif (mark[u ^ 1]) return false;\n\t\tif (mark[u]) return true;\n\t\tmark[u] = true;\n\t\ts[top ++] = u;\n\t\tfor (int i = head[u]; i; i = e[i].nxt)\n\t\t\tif (!dfs(e[i].to)) return false;\n\t\treturn true;\n\t}\n\tbool solve() {\n\t\tfor (int i = 0; i < n << 1; i += 2)\n\t\t\tif (!mark[i] && !mark[i ^ 1]) {\n\t\t\t\ttop = 0;\n\t\t\t\tif (!dfs(i)) {\n\t\t\t\t\twhile (top > 0) mark[s[-- top]] = false;\n\t\t\t\t\tif (!dfs(i ^ 1)) return false;\n\t\t\t\t}\n\t\t\t}\n\t\treturn true;\n\t}\n} solver;\n\nconst int INF = 1e9;\nint gcd(int n, int m) {return m ? gcd(m, n % m) : n;}\ninline int min(const int x, const int y) {return x < y ? x : y;}\nstruct Edge {\n\tint to, cap, cost, nxt;\n} e[200005];\nint head[1005], cur[1005], dis[1005], Maxflow, Maxcost;\nbool mp[1005][1005];\nint tot = 1, s, t;\nbool vis[1005], mark[1005];\nstd::queue<int> Q;\ninline void AddEdge(int u, int v, int cap, int cost) {\n\te[++ tot].to = v, e[tot].nxt = head[u], head[u] = tot;\n\te[tot].cap = cap, e[tot].cost = cost;\n\te[++ tot].to = u, e[tot].nxt = head[v], head[v] = tot;\n\te[tot].cap = 0, e[tot].cost = -cost;\n}\nbool SPFA() {\n\tmemcpy(cur, head, sizeof cur);\n\tmemset(vis, 0, sizeof vis);\n\tmemset(dis, ~0x3f, sizeof dis);\n\tmemset(mark, 0, sizeof mark);\n\tQ.push(s);\n\tdis[s] = 0;\n\twhile (Q.size()) {\n\t\tint u(Q.front());\n\t\tQ.pop();\n\t\tmark[u] = false;\n\t\tfor (int i = head[u]; i; i = e[i].nxt) {\n\t\t\tint v = e[i].to;\n\t\t\tif (e[i].cap && dis[u] + e[i].cost > dis[v]) {\n\t\t\t\tdis[v] = dis[u] + e[i].cost;\n\t\t\t\tif (!mark[v]) Q.push(v), mark[v] = true;\n\t\t\t}\n\t\t}\n\t}\n\treturn dis[t] > -INF;\n}\n\nint dfs(int u, int flow) {\n\tif (u == t) return flow;\n\tvis[u] = true;\n\tint used = 0, tmp;\n\tfor (int i = cur[u]; i && used <= flow; i = e[i].nxt) {\n\t\tcur[u] = i;\n\t\tif (e[i].cap && dis[u] + e[i].cost == dis[e[i].to]) {\n\t\t\tint v = e[i].to;\n\t\t\tif (!vis[v] && (tmp = dfs(v, min(flow - used, e[i].cap))))\n\t\t\t\tused += tmp, e[i].cap -= tmp, e[i ^ 1].cap += tmp;\n\t\t}\n\t}\n\treturn used;\n}\n\nvoid Dinic() {\n\tint flow;\n\twhile (SPFA()) Maxflow += (flow = dfs(s, INF)), Maxcost += flow * dis[t];\n}\n\nbool check(int x, int y) {\n\tint z = sqrt(x * x - y * y);\n\treturn z * z == x * x - y * y && gcd(y, z) == 1;\n}\n\nint main() {\n\tint l, r;\n\tscanf(\"%d%d\", &l, &r);\n\tn = r;\n\ts = 0, t = r + 1;\n\tfor (int i = l; i <= r; ++ i) if (i & 1)\n\t\tfor (int j = l; j < i; ++ j)\n\t\t\tif (check(i, j)) {\n\t\t\t\tmp[i][j] = mp[j][i] = true;\n\t\t\t\tsolver.addclause(i, 1, j, 1);\n\t\t\t\tsolver.addclause(i, 0, j, 0);\n\t\t\t}\n\tif (!solver.solve()) return 114514;\n\tfor (int i = l; i <= r; ++ i)\n\t\tif (solver.mark[i * 2 - 1]) AddEdge(s, i, 1, 0);\n\t\telse AddEdge(i, t, 1, 0);\n\tfor (int i = l; i <= r; ++ i) if (solver.mark[i * 2 - 1])\n\t\tfor (int j = l; j <= r; ++ j)\n\t\t\tif (!solver.mark[j * 2 - 1] && mp[i][j]) AddEdge(i, j, 1, i + j);\n\tDinic();\n\tprintf(\"%d %d\", Maxflow, Maxcost);\n}\n```",
        "postTime": 1624798420,
        "uid": 361308,
        "name": "Stinger",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 \u3010P4134 [BJOI2012]\u8fde\u8fde\u770b\u3011"
    },
    {
        "content": "\u5199\u8fd9\u7bc7\u9898\u89e3\u7684\u7f18\u7531\uff1atg\u6a21\u62df\u8d5b\u7adf\u7136\u51fa\u4e86\u7f51\u7edc\u6d41\u9898\uff0c\u5f53\u65f6\u770b\u51fa\u6765\u662f\u8d39\u7528\u6d41\u4f46\u662f\u5efa\u56fe\u5efa\u51fa\u6765\u4e00\u4e2a\u73af\uff0c $100\\rightarrow10$\u3002\n\n\u5148\u770b\u8fd9\u6570\u636e\u8303\u56f4\uff0c\u662f `1000` \u4ee5\u5185\uff0c\u7136\u540e\u8dd1\u4e00\u904d\u4e00\u5171\u6709\u591a\u5c11\u7ec4\u5408\u6cd5\u7684\uff0c\u53d1\u73b0\u53ea\u6709\u4e0d\u5230 `400` \u7ec4\uff0c\u8d39\u7528\u6d41\u662f\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\u7684\u3002\n\n\u7136\u540e\u662f\u600e\u4e48\u6837\u60f3\u5230\u662f\u8d39\u7528\u6d41\u7684\u3002\u9898\u9762\u4e2d\u8bf4\uff0c\u6bcf\u4e2a\u6570\u53ea\u80fd\u7528\u4e00\u6b21\uff0c\u81ea\u7136\u60f3\u5230\u4e86\u6d41\u91cf\u4e0a\u9650\u4e3a `1` ,\u7136\u540e\u518d\u52a0\u4e0a\u6700\u5927\u5206\u6570\uff0c\u8fd9\u9053\u9898\u5e94\u8be5\u662f\u4e00\u9053\u7c7b\u4f3c**\u4e8c\u5206\u56fe\u6700\u5927\u6743\u5b8c\u7f8e\u5339\u914d**\uff0c\u6570\u636e\u8303\u56f4\u633a\u5c0f\u7684\uff0c\u76f4\u63a5\u4e0a\u4e00\u4e2a\u6700\u5927\u8d39\u7528\u6700\u5927\u6d41\u5c31\u53ef\u4ee5\uff08\u8fb9\u6743\u5b58\u8d1f\u5c31\u884c\uff09\u3002\n\n\u4f46\u662f\uff0c\u95ee\u9898\u5c31\u6765\u4e86\uff0c\u5efa\u56fe\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u4e00\u4e9b\u6bd4\u8f83\u5c34\u5c2c\u7684\u60c5\u51b5\uff0c\u6bd4\u5982\u8fd9\u6837\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/a0zoei9x.png)\n\n\u8fd9\u5c31\u7528\u4e86\u4e00\u4e2a**\u62c6\u70b9**\u7684\u6280\u5de7\uff0c\u628a\u6bcf\u4e2a\u70b9\u62c6\u6210\u4e24\u4e2a\u70b9\u3002\n\n\u4e3a\u4e86\u7701\u53bb\u5224\u65ad~~\u8fd8\u6709\u61d2~~\uff0c\u6211\u627e\u5230\u4e00\u4e2a\u505a\u6cd5\uff0c\u5c31\u662f\u628a\u6240\u6709\u80fd\u627e\u5230\u7684\u8fb9\u90fd\u8fde\u4e00\u4e0b\uff0c\u5c31\u76f8\u5f53\u4e8e\u628a\u6bcf\u4e24\u4e2a\u70b9\u90fd**\u8fde\u4e86\u4e24\u904d**\uff0c\u7136\u540e\u518d\u628a\u5b83\u4eec\u5206\u522b\u4e0e\u8d85\u7ea7\u6e90\u70b9\u548c\u8d85\u7ea7\u6c47\u70b9\u76f8\u8fde\uff08\u6ce8\u610f\u4e00\u5b9a\u8981\u62c6\u5b8c\u70b9\uff01\uff09\u3002\n\n\u6700\u540e\uff0c\u56e0\u4e3a\u6211\u4eec\u76f8\u5f53\u4e8e\u628a\u6bcf\u6761\u8fb9\u6bcf\u4e2a\u70b9\u90fd\u904d\u5386\u4e86\u6b63\u597d\u4e24\u904d\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u628a\u7b54\u6848\u9664\u4ee5 `2` \u5373\u53ef\uff0c\u5c31\u7701\u53bb\u4e86\u5224\u65ad\uff01\n\n\u4e0b\u9762\u662f\u6838\u5fc3\u4ee3\u7801\uff08\u5269\u4e0b\u7684\u81ea\u5df1\u5957\u677f\u5b50\uff09\n\n```\nint gcd(int x,int y){\n\tif(y==0)\n\t\treturn x;\n\treturn gcd(y,x%y);\n}\nbool check(int x,int y){\n\tif(x<y)\n\t\tswap(x,y);\n\tint z=sqrt(x*x-y*y);\n\treturn z*z==x*x-y*y&&gcd(y,z)==1;\n}\nsigned main()\n{\n\tn=read(),m=read();\n\ts=0,t=m+1;\n\tfor(int i=n;i<=m;i++)\n\t\tfor(int j=i+1;j<=m;j++)\n\t\t\tif(check(i,j)){\n\t\t\t\tint w=-i-j;\n\t\t\t\tadd(i,j+t,1,w);\n\t\t\t\tadd(j,i+t,1,w);\n\t\t\t}\n\tfor(int i=n;i<=m;i++){\n\t\tadd(s,i,1,0);\n\t\tadd(i+t,t,1,0);\n\t}\n    EK();\n    printf(\"%lld %lld\",maxn/2,-cost/2);\n\treturn 0;\n}\n```\n\n\u8fd9\u91cc\u7528\u7684 `EK` \uff0c\u56e0\u4e3a\u8fd9\u91cc\u4e0d\u5361\u65f6\u95f4\u3002",
        "postTime": 1633509485,
        "uid": 253738,
        "name": "\u542c\u53d6MLE\u58f0\u4e00\u7247",
        "ccfLevel": 7,
        "title": "P4134 \u9898\u89e3"
    },
    {
        "content": "\u6ce8 $1$\uff1a\u6b64\u9898\u7684\u6a21\u578b\u5e76\u4e0d\u4e3a\u4e8c\u5206\u56fe\uff0c\u7136\u800c\u6570\u636e\u4fdd\u8bc1\u4e86\u4ed6\u662f\u4e8c\u5206\u56fe\uff08\n\n\u6ce8 $2$\uff1a\u8d2a\u5fc3\u6b63\u786e\u6027\u4f30\u8ba1\u6709\u8bef\uff0c\u6700\u5927\u5339\u914d\u5176\u5b9e\u5e94\u8be5\u662f\u8fc7\u4e0d\u53bb\u7684\uff08\n\n### \u5206\u6790\uff1a\n\n\u6211\u4eec\u5148\u5047\u8bbe\u4ed6\u662f\u4e8c\u5206\u56fe\u597d\u4e86\uff0c\u5339\u914d\u6d89\u53ca\u5230\u6743\u503c\u6700\u5927\uff0c\u6545\u6211\u4eec\u8003\u8651\u6700\u5927\u6743\u5339\u914d\u3002\n\n\u4fdd\u9669\u8d77\u89c1\uff0c\u5efa\u8bae\u5927\u5bb6\u8dd1 $\\texttt{bfs KM}$\u3002\n\n### \u4f60\u9700\u8981\u51c6\u5907\u7684\u524d\u7f6e\u77e5\u8bc6\uff1a\n\n1. $\\texttt{GCD}$\n\n\u5f88\u663e\u7136\u4e86\uff0c\u516c\u7ea6\u6570\u4e3a $1$ \u662f\u8fde\u4e0a\u8fb9\u7684\u6761\u4ef6\u4e4b\u4e00\u3002\n\n\u7528 `__gcd` \u6015 $\\texttt{TLE}$\uff0c\u81ea\u5df1\u6253\u5427\u3002\n\n```cpp\nint gcd(int x,int y){\n    if(y==0) return x;\n    else return gcd(y,x%y);\n}\n```\n\n2. \u4e8c\u5206\u56fe\u67d3\u8272\n\n\u67d3\u8272\u7684\u65f6\u5019\u6ce8\u610f\u4e00\u5b9a\u67d3\u6709\u8fb9\u7684\u70b9\uff0c\u6ca1\u8fb9\u7684\u4e0d\u8981\u53bb\u67d3\u4ed6\u4e86\u3002\n\n```cpp\nvoid color(int x,int k){\n    col[x]=k;\n    for(register int i=l;i<=r;i++){\n        if(a[x][i]!=0&&col[i]==0) color(i,-k);\n    }\n}\n```\n\n### $\\texttt{Q\\&A}$\uff1a\n\n\uff08\u6211\u4e2a\u4eba\u6709\u7591\u60d1\u7684\u5730\u65b9\uff0c\u5df2\u7ecf\u88ab\u5927\u4f6c\u4eec\u89e3\u51b3\u4e86\uff09\n\n1. \u4e8c\u5206\u56fe\u4e0d\u4e00\u5b9a\u5177\u6709\u5b8c\u7f8e\u5339\u914d\u554a\uff0c\u4e3a\u4ec0\u4e48 $\\texttt{KM}$ \u53ef\u4ee5\u901a\u8fc7\uff1f\n\n\u7528\u90bb\u63a5\u77e9\u9635\u7684\u8bdd\uff0c\u76f8\u5f53\u4e8e\u6709\u5f88\u591a\u8fb9\u6743\u4e3a $0$ \u7684\u8fb9\uff0c\u8fd9\u6837\u662f\u80af\u5b9a\u6709\u5b8c\u7f8e\u5339\u914d\u7684\u3002\n\n\u7136\u800c\u7528\u90bb\u63a5\u8868\u7684\u8bdd\uff0c\u4f30\u8ba1\u4f1a\u6b7b\u5faa\u73af\uff0c\u4e0d\u8fc7\u6ca1\u5173\u7cfb\uff0c\u5efa\u865a\u70b9\u5e94\u8be5\u884c\uff08\u6ca1\u8bd5\u8fc7\uff09\u3002\n\n2. $O(n^3)$ \u7684 $\\texttt{bfs KM}$ \u4e3a\u4ec0\u4e48\u80fd\u8fc7\uff1f\n\n\u6211\u4eec\u904d\u5386\u7684\u65f6\u5019\uff0c\u5176\u5b9e\u628a\u6ca1\u6709\u8fb9\u7684\u70b9\u90fd\u5ffd\u7565\u4e86\uff0c\u76f8\u5f53\u4e8e\u662f\u53ea\u904d\u5386\u4e86\u6709\u8fb9\u7684\u70b9\uff0c\u8fd9\u6837\u5b9e\u9645\u70b9\u6570 $n$ \u662f\u8fdc\u8fdc\u8fbe\u4e0d\u5230 $10^3$ \u7684\u3002\n\n### \u603b\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=2e3+5;\nconst int inf=1e9;\nint ans=0,slack[N],p[N],f[N],lx[N],ly[N],dfn[N],id=1,head[N],l,r,cnt,a[N][N],col[N];\nbool vis[N];\nvoid bfs(int k){\n\tint x=0,delta=0,s=0,y=l-1;\n\tmemset(slack,0x3f,sizeof(slack));\n\tslack[l-1]=0;\n\tmemset(p,0,sizeof(p));\n\tf[y]=k;\n\twhile(1){\n\t\tx=f[y],delta=inf,dfn[y]=id;\n\t\tfor(register int i=l;i<=r;i++){\n\t\t\tif(dfn[i]==id) continue;\n\t\t\tif(slack[i]>lx[x]+ly[i]-a[x][i]){\n\t\t\t\tslack[i]=lx[x]+ly[i]-a[x][i];\n\t\t\t\tp[i]=y;\n\t\t\t}\n\t\t\tif(slack[i]<delta) delta=slack[i],s=i;\n\t\t}\n\t\tfor(register int i=l-1;i<=r;i++){\n\t\t\tif(dfn[i]==id) lx[f[i]]-=delta,ly[i]+=delta;\n\t\t\telse slack[i]-=delta;\n\t\t}\n\t\ty=s;\n\t\tif(f[y]==-1) break;\n\t}\n\twhile(y) f[y]=f[p[y]],y=p[y];\n}\nint KM(){\n\tmemset(f,-1,sizeof(f));\n\tfor(register int i=l;i<=r;i++,id++) if(col[i]==1) bfs(i);\n\tfor(register int i=l;i<=r;i++) if(f[i]!=-1&&a[f[i]][i]!=0) ans+=a[f[i]][i],cnt++;\n\treturn ans;\n}\nint gcd(int x,int y){\n    if(y==0) return x;\n    else return gcd(y,x%y);\n}\nvoid color(int x,int k){\n    col[x]=k;\n    for(register int i=l;i<=r;i++){\n        if(a[x][i]!=0&&col[i]==0) color(i,-k);\n    }\n}\nint main(){\n\tscanf(\"%d %d\",&l,&r);\n\tfor(register int i=l;i<=r;i++){\n        for(register int j=i+1;j<=r;j++){\n            double k=sqrt(j*j-i*i);\n            if((int)k!=k) continue;\n            if(gcd(i,(int)k)==1) a[j][i]=i+j,a[i][j]=i+j,vis[i]=true,vis[j]=true;\n        }\n    }\n    for(register int i=l;i<=r;i++){\n        if(vis[i]==true){\n            if(col[i]==0) color(i,1);\n        }\n    }\n\tprintf(\"%d %d\",cnt,KM());\n}\n```\n",
        "postTime": 1624771621,
        "uid": 380579,
        "name": "LRCAKIOI",
        "ccfLevel": 6,
        "title": "[P4134] [BJOI2012]\u8fde\u8fde\u770b"
    },
    {
        "content": "\u63d0\u4f9b\u4e00\u79cd\u975e\u8d39\u7528\u6d41\u7684\u5947\u602a\u65b9\u6cd5\uff0c\u5bf9\u62cd\u63a8\u8350\u627e\u4e0b\u9762\u7684\u8d39\u7528\u6d41\u3002\n\n\u6211\u521a\u5b66\u4e86\u4e8c\u5206\u56fe\u5339\u914d\uff0c\u4ece\u4e8c\u5206\u56fe\u6807\u7b7e\u91cc\u627e\u5230\u7684\u8fd9\u4e2a\u9898\uff0c\u4e8e\u662f\u60f3\u5f53\u7136\u5730\u5f80\u4e8c\u5206\u56fe\u4e0a\u5957\u3002\u53d1\u73b0\u4e00\u4e2a\u6570\u53ea\u80fd\u88ab\u6d88\u4e00\u6b21\uff0c\u5e76\u4e14\u8981\u548c\u53e6\u4e00\u4e2a\u6570\u4e00\u8d77\u6d88\uff0c\u7b26\u5408\u5339\u914d\u95ee\u9898\u7684\u6027\u8d28\u3002\u6240\u4ee5\u53ef\u4ee5\u628a\u6570\u770b\u6210\u70b9\uff0c\u7528\u6570\u503c\u7ed9\u8fd9\u4e2a\u70b9\u7f16\u53f7\uff0c\u628a\u7b26\u5408\u6761\u4ef6\u7684\u70b9\u8fde\u8fb9\uff0c\u5982\u679c\u5f62\u6210\u4e8c\u5206\u56fe\u5c31\u80fd\u8dd1\u5339\u914d\u4e86\u3002\u4f46\u662f\u5b83\u7a76\u7adf\u662f\u4e0d\u662f\u4e8c\u5206\u56fe\u5462\uff1f\u6211\u4e0d\u4f1a\u8bc1\uff0c\u4e8e\u662f\u5199\u4e86\u4e2a\u66b4\u529b\u8dd1\u4e86\u4e00\u4e0b\u6ca1\u8dd1\u51fa\u6765\u5947\u73af\u3002\n\n\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\u662f\u6bcf\u6761\u8fb9\u6709\u4e00\u4e2a\u8fb9\u6743\uff0c\u662f\u9009\u8fd9\u6761\u8fb9\u5f97\u5230\u7684\u6536\u76ca\u3002\u5982\u679c\u7528KM\u7b97\u6cd5\uff0c\u6211\u53c8\u4e0d\u4f1a\u4e24\u8fb9\u7684\u70b9\u6570\u91cf\u4e0d\u76f8\u540c\u7684KM\u3002\u4f46\u662f\u53d1\u73b0\u8fd9\u4e2a\u8fb9\u6743\u4e0d\u662f\u4efb\u610f\u7684\uff0c\u662f\u8fb9\u4e24\u8fb9\u7684\u70b9\u7684\u7f16\u53f7\u7684\u548c\u3002\u4e8e\u662f\u60f3\u5f53\u7136\u5730\u6709\u8d2a\u5fc3\uff0c\u5c31\u662f\u4ece\u5de6\u8fb9\u6700\u5927\u7684\u70b9\u5f00\u59cb\u4ece\u5927\u5411\u5c0f\u5339\u914d\uff0c\u6bcf\u6b21\u627e\u589e\u5e7f\u8def\u7684\u65f6\u5019\uff0c\u627e\u5230\u6240\u6709\u589e\u5e7f\u8def\uff0c\u7136\u540e\u8d70\u90a3\u6761\u7ec8\u70b9\u7f16\u53f7\u6700\u5927\u7684\u3002\u8bbe\u70b9\u6570\u4e3an\uff0c\u590d\u6742\u5ea6\u5927\u6982\u662fn*n\u5427\u3002\u627eN\u6b21\u589e\u5e7f\u8def\uff0c\u6bcf\u6b21\u6700\u574f\u904d\u5386\u6240\u6709\u7684\u70b9\u3002\u70b9\u6570\u5927\u6982\u4e94\u767e\uff0c\u6240\u4ee5\u80fd\u8fc7\u3002\n\n\u4f46\u662f\u53d1\u73b0\u8d2a\u5fc3\u6b63\u786e\u6027\u6709\u70b9\u95ee\u9898\uff0c\u6709\u65f6\u5019\u6389\u8fdb\u5c40\u90e8\u6700\u4f18\u51fa\u4e0d\u6765\u4e86\u3002\u81ea\u7136\u5c31\u60f3\u5230\u968f\u673a\u5316\uff0c\u4e8e\u662f\u8dd1n\u6b21\u4e0a\u9762\u7684\u8d2a\u5fc3\u7b97\u6cd5\uff0c\u6bcf\u6b21\u9009\u5b9a\u4e00\u4e2a\u70b9\u4e0d\u53bb\uff0c\u6b63\u786e\u6027\u633a\u7384\u5b66\u7684\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u56fe\u662f\u6570\u5b66\u65b9\u6cd5\u751f\u6210\u7684\uff0c\u6ca1\u6cd5\u624b\u9020\uff0c\u800c\u4e14\u6bd4\u8f83\u7a00\u758f\uff0c\u6240\u4ee5\u80fd\u6c34\u8fc7\u53bb\u5427\u3002\u603b\u590d\u6742\u5ea6\u597d\u50cfn^3\uff0c\u8dd1\u51fa\u6765\u5dee\u4e0d\u591a\u516b\u5341\u6beb\u79d2\u3002\n```cpp\n#include<ctime>\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\nusing namespace std;\nint pf[1001000],nx[1000],hd[1010],t[1000],ys[1010],zb[1010],dm[1010],sl=0,zg[1010],yb[1010],sl2=0;\nint gcd(int x,int y)\n{\n    if(y==0)return x;\n    return gcd(y,x%y);\n}\nvoid ss(int x,int sc)\n{\n    ys[x]=sc;\n    for(int i=hd[x];i!=0;i=nx[i])\n        if(ys[t[i]]==0)ss(t[i],3-sc);\n}\nint zzd_sj(int x,int z)\n{\n    int mxx=-1;\n    for(int i=hd[x];i!=0;i=nx[i])\n        if(zg[t[i]]==0)\n        {\n            zg[t[i]]=1;\n            if(dm[t[i]]==0&&t[i]!=z)return t[i];//\u627e\u5230\u6700\u5927\u7684\u589e\u5e7f\u8def\u7ec8\u70b9\n            mxx=max(mxx,zzd_sj(dm[t[i]],z));\n        }\n    return mxx;\n}\nint zzg(int x,int z)\n{\n    for(int i=hd[x];i!=0;i=nx[i])\n        if(zg[t[i]]==0)\n        {\n            zg[t[i]]=1;\n            if(dm[t[i]]==0&&t[i]==z)//\u5308\u7259\u5229\uff0c\u4f46\u662f\u53ea\u8d70\u786e\u5b9a\u7684\u589e\u5e7f\u8def\n            {\n                dm[t[i]]=x;\n                return 1;\n            }\n            if(dm[t[i]]!=0&&zzg(dm[t[i]],z))\n            {\n                dm[t[i]]=x;\n                return 1;\n            }\n        }\n    return 0;\n}\nint main()\n{\n    srand(int(time(0)));\n    for(int i=1;i<=1000;i++)pf[i*i]=i;\n    int aa,bb,u=0;\n    scanf(\"%d%d\",&aa,&bb);\n    for(int i=aa+1;i<=bb;i++)\n        for(int j=aa;j<i;j++)\n        {\n            int z=pf[i*i-j*j];\n            if(z!=0&&gcd(j,z)==1)\n            {\n                nx[++u]=hd[i];\n                hd[i]=u;\n                t[u]=j;\n                nx[++u]=hd[j];\n                hd[j]=u;\n                t[u]=i;\n            }\n        }//\u66b4\u529b\u627e\u7b26\u5408\u6761\u4ef6\u7684\u70b9\u5efa\u56fe\n    for(int i=bb;i>=aa;i--)if(ys[i]==0&&hd[i]!=0)ss(i,1);\n    for(int i=bb;i>=aa;i--)\n\t\tif(ys[i]==1)zb[++sl]=i;\n\t\telse yb[++sl2]=i;//\u628a\u70b9\u9ed1\u767d\u67d3\u8272\u5206\u6210\u4e24\u90e8\u5206\n    int da=0,zh=0;\n\tfor(int i=0;i<=sl2;i++)//0\u7684\u65f6\u5019\u65e0\u9650\u5236\uff0c\u5176\u4ed6\u65f6\u5019\u90fd\u662fyb[i]\u4e0d\u53bb\n\t{\n\t\tint zh2=0,da2=0;\n\t\tmemset(dm,0,sizeof(dm));\n\t\tfor(int j=1;j<=sl;j++)\n\t\t{\n        \tmemset(zg,0,sizeof(zg));\n        \tint mx=zzd_sj(zb[j],yb[i]);\n        \tif(mx==-1)continue;\n        \t++da2;\n        \tmemset(zg,0,sizeof(zg));\n        \tzzg(zb[j],mx);//\u627e\u5230\u6700\u5927\u7684\u8def\u7136\u540e\u8d70\u8fc7\u53bb\n\t\t}\n\t\tfor(int j=aa;j<=bb;j++)if(ys[j]==2&&dm[j]!=0)\n\t\t{\n\t\t\tzh2+=j+dm[j];\n\t\t}\n\t\tzh=max(zh,zh2);\n\t\tda=max(da,da2);\n\t}\n    printf(\"%d %d\",da,zh);\n    return 0;\n}\n```",
        "postTime": 1562722133,
        "uid": 181972,
        "name": "SaltedShark",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4134 \u3010[BJOI2012]\u8fde\u8fde\u770b\u3011"
    },
    {
        "content": "emmmmm.......\u8fd9\u6570\u636e\u8303\u56f4.....\u5e94\u8be5\u662f**\u8d39\u7528\u6d41**\n\n~~\u7136\u800c\u697c\u4e0bdalao\u6240\u8bf4\u7684\u4e8c\u5206\u56fe\u6211\u4e0d\u4f1a\u8bc1\u554aqwq~~\n\n\u6ca1\u529e\u6cd5,\u53ea\u80fd\u786c\u60f3\u4e86.\n\n### \u54b3\u54b3,\u8a00\u5f52\u6b63\u4f20\n\n# \u7b97\u6cd5\n\u8fd9\u9898\u7684\u7279\u70b9\u6709\u4e24\u4e2a:\n\n- \u6bcf\u4e2a\u6570\u6700\u591a\u88ab\u6d88\u4e00\u6b21..........(\u8bb0\u4e3a\u6761\u4ef61)\n\n- \u8981\u6d88\u5c31\u662f\u4e00\u5bf9\u70b9\u4e00\u8d77\u6d88..........(\u8bb0\u4e3a\u6761\u4ef62)\n\n\u6240\u4ee5,\u4e0d\u96be\u5efa\u51fa\u56fe:\n\n- \u628a\u4e00\u4e2a\u6570\u62c6\u6210\u4e24\u4e2a\u70b9,\u5206\u522b\u8bb0\u4e3a$In_x$\u548c$Out_x$,\u8868\u793a\"\u8f93\u5165\"\u548c\"\u8f93\u51fa\".\n\n- \u4ece$S$\u5411\u6bcf\u4e2a\u6570\u7684\u8f93\u51fa\u7aef($Out_x$)\u8fde\u4e00\u6761(1,0)\u7684\u8fb9$\\qquad\\color{blue}{\\text{\u6ce8:(1,0)\u4ee3\u8868\u6d41\u91cf\u4e3a1,\u5355\u4f4d\u6d41\u91cf\u8d39\u7528\u4e3a0}}$\n\n- \u4ece\u6bcf\u4e2a\u6570\u7684\u8f93\u5165\u7aef($In_x$)\u5411$T$\u8fde\u4e00\u6761(1,0)\u7684\u8fb9\n\n- \u5bf9\u4e8e\u7b26\u5408\u6761\u4ef6\u7684\u4e24\u4e2a\u6570$x,y$,\u4ece$Out_x$\u5411$In_y$\u8fde$(1,x+y)$,\u4ece$Out_y$\u5411$In_x$\u8fde$(1,x+y)$\n\u524d\u4e09\u6761\u597d\u7406\u89e3,\u6700\u540e\u4e00\u6761\u662f\u5728\u5e72\u5565?\n\n\u9053\u7406\u5f88\u7b80\u5355:\u4e3a\u4e86\u4fdd\u8bc1\"\u6761\u4ef62\".(\u81ea\u5df1\u60f3\u60f3\u5982\u679c\u53ea\u8fde\u4e86$In_x$\u548c$Out_y$\u4f1a\u600e\u6837).\u8f93\u51fa\u7b54\u6848\u65f6,\u76f4\u63a5\u5c06\u8d39\u7528\u4e0e\u6d41\u91cf\u5206\u522b\u9664\u4ee52\u5373\u53ef\n\n# \u4e00\u4e2a\u8981\u6ce8\u610f\u7684\u5730\u65b9 & \u5173\u952e\u70b9\n\n\u6709\u4eba\u8bf4\u81ea\u5df1\u6c42\u6700\u5927\u8d39\u7528\u6700\u5927\u6d41$WA$\u4e86(\u53ea\u5f9730\u5206)\n\n\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462?\n\n\u7b54\u6848\u5c31\u662f\u4f60\u4eec\u521d\u59cb\u5316\u65f6\u628a$Dis$\u5168\u8bbe\u4e3a$-1$\u800c\u4e0d\u662f$-\\inf$\n\n\u4e0d\u8981\u5fd8\u4e86\u53cd\u5411\u5f27\u7684\u8d39\u7528\u4e3a\u8d1f\n\n\u8fd9\u6837\u5c31\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u70b9\u5230$S$\u7684\u8ddd\u79bb\u5c0f\u4e8e\u4f60\u8bbe\u7684\u521d\u59cb\u6743\u503c\n\n# \u4ee3\u7801(\u53ea\u6709\u5efa\u56fe\u90e8\u5206~~\u6211\u76f8\u4fe1\u4f60\u4eec\u90fd\u6709\u6a21\u677f~~)\n\n```cpp\nbool Ok( int x , int y ){\n\tif( x < y ) swap(x,y);\n\tint z = x*x - y*y;\n\tint d = sqrt(z);\n\tif( d*d != z ) return 0;\n\tif( __gcd(d,y) != 1 ) return 0;\n\treturn 1;\n}\n\nvoid Build(){\n\tForx(i,a,b)\n\t\tForx(j,i+1,b)\n\t\t\tif(Ok(i,j)){\n\t\t\t\tint point = i+j;\n\t\t\t\tLink(i,j+MAXN,1,point);\n\t\t\t\tLink(j,i+MAXN,1,point);\n\t\t\t}\n\tForx(i,a,b){\n\t\tLink(S,i,1,0);\n\t\tLink(i+MAXN,T,1,0);\n\t}\n}\n```",
        "postTime": 1532755074,
        "uid": 25630,
        "name": "interestingLSY",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P4134 \u3010[BJOI2012]\u8fde\u8fde\u770b\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u5176\u5b9e\u662f\u4e00\u4e2a\u8d39\u7528\u6d41~~\u6c34\u9898~~\uff0c\u6c34\u4e0d\u6c34\u5462\u4e3b\u8981\u8981\u770b\u4f60\u80fd\u4e0d\u80fd\u53d1\u73b0\u5b83\u5176\u5b9e\u662f\u4e00\u4e2a\u4e8c\u5206\u56fe\u3002\u5b83\u4e3a\u4ec0\u4e48\u662f\u4e00\u4e2a\u4e8c\u5206\u56fe\u5462\uff0c\u56e0\u4e3a\u5b83\u4e0d\u662f\u4e8c\u5206\u56fe\u6211\u4e0d\u4f1a\u505a\uff0c\u989d\uff0c\u8fd9\u597d\u50cf\u4e0d\u662f\u7406\u7531\uff0c\u4f60\u53ef\u4ee5\u624b\u73a9\u4e00\u4e0b\uff0c\u53d1\u73b0\u5b83\u662f\u4e00\u4e2a\u4e8c\u5206\u56fe\uff08\u4e3b\u8981\u8fd8\u662f\u56e0\u4e3a\u4e0d\u662f\u4e8c\u5206\u56fe\u6ca1\u6cd5\u505a\uff09\uff0c\u65e2\u7136\u5b83\u662f\u4e00\u4e2a\u4e8c\u5206\u56fe\u4e86\uff0c\u90a3\u8fd9\u4e2a\u95ee\u9898\u5c31\u5f88\u7b80\u5355\u4e86\u3002\n\n\u6211\u4eec\u66b4\u529b\u679a\u4e3e$x,y$\u66b4\u529b\u5224\u65ad\u7b26\u4e0d\u7b26\u5408\u80fd\u591f\u76f8\u6d88\u7684\u5173\u7cfb\uff0c\u4e8c\u5206\u56fe\u67d3\u4e2a\u8272\uff0c\u5206\u6210\u5de6\u53f3\u4e24\u90e8\uff0c\u5c31\u6b63\u5e38\u5efa\u56fe\uff08\u6e90\u70b9\u5230\u5de6\u90e8\uff0c\u6d41\u91cf$1$\uff0c\u8d39\u7528$0$\uff0c\u53f3\u90e8\u5230\u6c47\u70b9\uff0c\u6d41\u91cf$1$\uff0c\u8d39\u7528$0$\uff0c$x->y$\uff0c\u8d39\u7528$x+y$,\u6d41\u91cf$1$\uff0c$x$\u2208\u5de6\u90e8\uff0c$y$\u2208\u53f3\u90e8\uff09\uff0c\u8dd1\u4e00\u904d\u6700\u5927\u8d39\u7528\u6700\u5927\u6d41\u5c31\u53ef\u4ee5\u4e86\uff0c\u6700\u5927\u6d41\u5c31\u662f\u7b2c\u4e00\u95ee\uff0c\u6700\u5927\u8d39\u7528\u5c31\u662f\u7b2c\u4e8c\u95ee\u3002\uff08\u6211\u592a\u61d2\uff0c\u7528\u7684\u662f\u8d39\u7528\u53d6\u53cd\u518d\u8dd1\u6700\u5c0f\u8d39\u7528\u6700\u5927\u6d41\uff09\n\n\u672c\u6765\u6211\u8fd9\u6837\u5c31\u53ef\u4ee5\u5f00\u5f00\u5fc3\u5fc3\u5730$A$\u6389\u8fd9\u9898\u7136\u540e\u53bb\u505a\u522b\u7684\u9898\uff0c\u4f46\u662f\u6211\u8111\u5b50\u4e00\u62bd\u60f3\u8d77\u4e86\u53e6\u4e00\u4e2a\u89e3\u51b3\u4e8c\u5206\u56fe\u5e26\u6743\u5339\u914d\u7684\u95ee\u9898\uff08\u56e0\u4e3a\u8fd9\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u4e8c\u5206\u56fe\u5e26\u6743\u5339\u914d\u7684\u6a21\u578b\u561b\uff09\u2014 $KM$\u7b97\u6cd5\u3002\u7136\u540e\u6211\u5c31\u53bb\u7801$KM$\u53bb\u4e86\uff0c\u7136\u540e\u5c31\u4e00\u76f4$30$\u5206\uff0c\u5e0c\u671b\u6709$dalao$\u80fd\u544a\u8bc9\u6211\u6211\u7684$KM$\u54ea\u9519\u4e86,\u8c22\u8c22\u3002\n\n\u4e0b\u9762\u7684\u4ee3\u7801$KM$\u548c\u8d39\u7528\u6d41\u90fd\u6709\uff0c$work$\u51fd\u6570\u5c31\u662f\u8d39\u7528\u6d41\uff0c$KM$\u51fd\u6570\u662f$KM$\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<cstdlib>\n#include<string>\n#include<queue>\n#include<map>\n#include<vector>\n#include<ctime>\n\n#define ll long long\n#define R register\n#define IL inline\n#define Rf(a,b,c) for(R int (a)=(b);(a)<=(c);++(a))\n#define Tf(a,b,c) for(R int (a)=(b);(a)>=(c);--(a))\n#define MP make_pair\n#define PA pair<int,int>\n#define MES(a,b) memset((a),(b),sizeof((a)))\n#define MEC(a,b) memcpy((a),(b),sizeof((b)))\n\nusing namespace std;\n\nconst int N=300005,M=1005,inf=(1<<30);\n\nstruct node{\n\tint next,to,cup,len,from;\n}e[N*4];\n\nint ansflow,anscost;\nint vis[N],dis[N],pre[N],head[N],a,b,w[M][M],n,m,s,t,tot=1,ans,g[M][M],id[M],lx[M],ly[M],link[M],sl[M],sum,flag;\nbool S[M],T[M];\n\nqueue <int> q;\n\nIL int read(){\n\tint x=0,f=1;char ch=getchar();\n\twhile(ch>'9'||ch<'0'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x*=10;x+=(ch-'0');ch=getchar();}\n\treturn x*f;\n}\nIL void write(int x){\n    if(x<0) putchar('-'),x=-x;\n    if(x>9) write(x/10);\n    putchar(x%10+'0');\n}\n\nIL bool pd(int x,int y) {\n\tR int z=x*x-y*y,d=sqrt(z);\n\tif(d*d==z&&__gcd(y,z)==1) return true;\n\treturn false; \n}\n\nIL void add(int u,int v,int c,int l){\n\te[++tot].next=head[u];e[tot].from=u;\n\thead[u]=tot; e[tot].to=v;\n\te[tot].cup=c; e[tot].len=l;\n}\nIL void ins(int u,int v,int c,int l) {add(u,v,c,l);add(v,u,0,-l);}\n\nIL bool bfs(){\n\tmemset(vis,0,sizeof(vis));\n\tRf(i,s,t) dis[i]=inf;\n\tmemset(pre,-1,sizeof(pre));\n\tq.push(s);vis[s]=1;dis[s]=0;\n    while(!q.empty()){\n        R int now=q.front();q.pop();vis[now]=0;\n        for(int i=head[now];i;i=e[i].next){\n            int p=e[i].to;\n            if(e[i].cup&&dis[p]>dis[now]+e[i].len){\n                dis[p]=dis[now]+e[i].len;pre[p]=i;\n                if(!vis[p]) {\n                    vis[p]=1;q.push(p);\n                }\n            }\n        }\n    }\n    return dis[t]!=inf;\n}\nIL void find(){\n\tR int now=t,down=inf;\n\twhile(now!=s) {\n\t\tdown=min(down,e[pre[now]].cup);\n\t\tnow=e[pre[now]].from;\n\t}\n\tnow=t;\n\twhile(now!=s){\n\t\te[pre[now]].cup-=down;\n\t\te[pre[now]^1].cup+=down;\n\t\tnow=e[pre[now]].from;\n\t}\n\tansflow+=down;anscost+=dis[t]*down;\n}\n\nIL void work() {\n\tRf(i,a,b) {\n\t\tif(vis[i]==1) {\n\t\t\tins(s,i,1,0);\n\t\t\tRf(j,a,b) if(w[i][j]) ins(i,j,1,-i-j);\n\t\t}\n\t\telse ins(i,t,1,0);\n\t} \n\tanscost=ansflow=0;\n\twhile(bfs()) {\n\t\tfind();ans++;\n\t}\n\twrite(ans);putchar(' ');\n\twrite(-anscost);putchar('\\n');\n}\n\nvoid dfs1(int x) {\n\tRf(i,a,b) if(!vis[i]&&g[x][i]) {\n\t\tif(vis[x]==1) vis[i]=2;\n\t\telse vis[i]=1;\n\t\tdfs1(i);\n\t}\n}\n\nbool dfs(int x) {\n\tS[x]=true;\n\tRf(i,1,m) \n\t\tif(lx[x]+ly[i]==w[x][i]) {\n\t\t\tif(!T[i]) {\n\t\t\t\tT[i]=true;\n\t\t\t\tif(!link[i]||dfs(link[i])) {\n\t\t\t\t\tlink[i]=x;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse sl[i]=min(sl[i],lx[x]+ly[i]-w[x][i]);\n\treturn false;\n}\n\nIL void update() {\n\tR int a=1e9;\n\tRf(j,1,m) if(!T[j]) \n\t\ta=min(a,sl[j]); \n\tRf(i,1,n) if(S[i]) lx[i]-=a;\n\tRf(i,1,m) {\n\t\tif(T[i]) ly[i]+=a;\n\t\tsl[i]-=a;\n\t}\n}\n\nIL void KM() {\n\tRf(i,a,b) \n\t\tif(vis[i]==1) id[i]=++n;\n\t\telse id[i]=++m;\n\tif(n>m) swap(n,m),flag=1;\n\tRf(i,a,b) {\n\t\tRf(j,a,b) if(g[i][j]) {\n\t\t\tif(!flag) w[id[i]][id[j]]=i+j;\n\t\t\telse w[id[j]][id[i]]=i+j;\n\t\t}\n\t}\n\tRf(i,1,m) link[i]=lx[i]=ly[i]=0; \t\n\tRf(i,1,n) Rf(j,1,m) lx[i]=max(lx[i],w[i][j]);\n\tRf(i,1,n) while(true) {\n\t\tRf(j,1,m) {\n\t\t\tS[j]=T[j]=false;sl[j]=1e9;\n\t\t}\n\t\tif(dfs(i)) break;\n\t\telse update();\n\t}\n\tRf(i,1,m) if(link[i]&&w[link[i]][i]) {\n\t\tans++;sum+=w[link[i]][i];\n\t}\n\twrite(ans);putchar(' ');write(sum);\n}\t \n\n\nsigned main()\n{\n\ta=read();b=read();t=b+1;\n\tRf(i,a,b) Rf(j,a,i-1) if(pd(i,j)) g[i][j]=g[j][i]=1;\n\tRf(i,a,b) if(!vis[i]) {\n\t\tvis[i]=1;\n\t\tdfs1(i);\n\t}\n//\twork();\n\tKM();\n\t\n\treturn 0;\n}\n```",
        "postTime": 1520852711,
        "uid": 35700,
        "name": "Khassar",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4134 \u3010[BJOI2012]\u8fde\u8fde\u770b\u3011"
    },
    {
        "content": "## \u9898\u89e3- P4134 \u8fde\u8fde\u770b\n\n* **\u9898\u76ee\u5927\u610f**\n\n\u5c31\u662f\u5728$[a,b]$\u533a\u95f4\u4e2d\u627e\u51fa\u5c3d\u91cf\u591a\u7684\u6570\u5bf9$(x,y)$,\u82e5\u4e24\u79cd\u60c5\u51b5\u4e0b\u6570\u5bf9\u6570\u76f8\u540c\u4f7f\u5f97\u82e5\u5e72\u5bf9\u6570\u5bf9\u548c\u5c3d\u91cf\u5927\u3002\n\n* $Sol$\n\n\u8fd9\u9053\u9898\u76ee\u96be\u70b9\u5728\u4e8e\u5982\u4f55\u8f6c\u6362\u5230\u719f\u6089\u7684\u6a21\u578b\u2014\u2014**\u6700\u5c0f\u8d39\u7528\u6700\u5927\u6d41**\u3002\u4f46\u662f\u9898\u76ee\u8981\u6211\u4eec\u6c42\u6570\u5bf9\u548c\u5c3d\u91cf\u5927\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u628a\u8fb9\u6743\u53d6\u53cd**\u76f8\u5f53\u4e8e\u6c42\u6700\u5c0f\u8d39\u7528**\uff0c\u6700\u540e\u7b54\u6848\u518d\u53bb\u4e00\u904d\u53cd\u5373\u53ef\u3002\u56e0\u4e3a\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u7b80\u5355\u7684\u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u9053\u9898\u76ee\u4e86\u3002\n\n\u4e8e\u662f\u5c31\u5f88\u7b80\u5355\uff1a\n\n \u5bf9\u4e8e\u4e00\u4e2a\u6210\u7acb\u7684\u6570\u5bf9$(x,y)$\u4ece$x$\u5230$y+b$\u8fde\u4e00\u6761\u8d39\u7528\u4e3a$-x-y$\u7684\u8fb9\u6d41\u91cf\u4e3a$1$\u7684\u8fb9\u5373\u53ef\u3002\n\n\u4ece\u8d85\u7ea7\u6e90\u70b9\u5411$[a,b]$\u8fde\u8fb9\u6743\u4e3a$0$\u6d41\u91cf\u4e3a$1$\u7684\u8fb9\uff0c\u4ece$[a,b]$\u8fde\u8fb9\u6743\u4e3a$0$\u6d41\u91cf\u4e3a$1$\u7684\u8fb9\u5411\u8d85\u7ea7\u6c47\u70b9\u3002\n\n* $Code$\n\n```cpp\n\n#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N=2005;\nconst int M=2e5+5;\n\nint n,m,cnt=1,ans1,ans2,s,t;\nint head[N],lb[M],ld[N];\nint dis[N],vis[N],fl[M];\nstruct nood {\n\tint fr,nex,to,w,fl;\n};\nnood e[M<<2];\n\ninline void jia(int u,int v,int w,int fl) {\n\te[++cnt].nex=head[u];\n\te[cnt].fr=u; \n\thead[u]=cnt;\n\te[cnt].to=v;\n\te[cnt].w=w;\n\te[cnt].fl=fl;\n}\n\ninline int gcd(int a,int b) {\n\tif(!b) return a;\n\treturn gcd(b,a%b);\n}\n\ninline bool spfa() {\n\tqueue<int> q;\n\tmemset(dis,63,sizeof(dis));\n\tmemset(vis,0,sizeof(vis));\n\tmemset(fl,63,sizeof(fl));\n\tq.push(s),dis[s]=0,vis[s]=1,ld[t]=-1;\n\twhile(!q.empty()) {\n\t\tint u=q.front();\n\t\tq.pop();\n\t\tvis[u]=0;\n\t\tfor ( int i=head[u];i;i=e[i].nex ) {\n\t\t\tint v=e[i].to;\n\t\t\tif(e[i].fl&&dis[v]>dis[u]+e[i].w) {\n\t\t\t\tdis[v]=dis[u]+e[i].w;\n\t\t\t\tfl[v]=min(fl[u],e[i].fl);\n\t\t\t\tld[v]=u;\n\t\t\t\tlb[v]=i;\n\t\t\t\tif(!vis[v]) {\n\t\t\t\t\tvis[v]=1;\n\t\t\t\t\tq.push(v);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn (ld[t]!=-1);\n}\n\ninline void dinic() {\n\twhile(spfa()) {\n\t\tint u=t;\n\t\tans1+=fl[t];\n\t\tans2+=fl[t]*dis[t];\n\t\twhile(s!=u) {\n\t\t\te[lb[u]].fl-=fl[t];\n\t\t\te[lb[u]^1].fl+=fl[t];\n\t\t\tu=ld[u];\n\t\t}\n\t}\n\tans1/=2;\n\tprintf(\"%d %d\\n\",ans1,-1*ans2/2);\n\texit(0);\n}\n\nint main() {\n\tscanf(\"%d%d\",&n,&m);\n\ts=n-1,t=n+m+1;\n\tfor ( int i=n;i<=m;i++ ) {\n\t\tjia(s,i,0,1),jia(i,s,0,0);\n\t\tjia(i+m,t,0,1),jia(t,i+m,0,0);\n\t}\n\tfor ( int i=n;i<=m;i++ ) \n\t\tfor ( int j=n;j<i;j++ ) {\n\t\t\tint o=i*i-j*j;\n\t\t\tif((int)sqrt(o)*(int)sqrt(o)==o) {\n\t\t\t\tint rua=sqrt(o);\n\t\t\t\tif(gcd(rua,j)==1) { \n\t\t\t\t\tjia(i,j+m,-i-j,1),jia(j+m,i,i+j,0);\n\t\t\t\t\tjia(j,i+m,-i-j,1),jia(i+m,j,i+j,0);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\tdinic();\n\treturn 0;\n}\n\t\n\n```\n\n",
        "postTime": 1579334044,
        "uid": 308464,
        "name": "\u5947\u7c73",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4134 \u3010[BJOI2012]\u8fde\u8fde\u770b\u3011"
    },
    {
        "content": "### [$$blog$$](https://www.cnblogs.com/hbxblog/p/10255112.html)\n---\n### \u9898\u76ee\u94fe\u63a5\n[\u6233\u6211](https://www.luogu.org/problemnew/show/P4134)\n### $Solution$\n\n\u6211\u4eec\u9996\u5148\u8fdb\u884c\u62c6\u70b9\u64cd\u4f5c\uff0c\u5c06\u6bcf\u4e2a\u70b9\u90fd\u62c6\u6210$x$\u548c$y$\uff0c\u5c06\u6ee1\u8db3\u6761\u4ef6\u7684\u4e24\u4e2a\u70b9\u8fde\u8d77\u6765\u5c31\u597d\u4e86(\u8bb0\u5f97\u8981\u5c06$x$\u8fde$y'$\u7684\u540c\u65f6\u8981\u5c06$y$\u8054\u5411$x'$)\n\n### code \n``` cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nint read(){\n    int x=0,f=1;\n    char c=getchar();\n    while(c<'0'||c>'9')\n        f=(c=='-')?-1:1,c=getchar();\n    while(c>='0'&&c<='9')\n        x=x*10+c-'0',c=getchar();\n    return x*f;\n}\nstruct node{\n    int to,next,v,w;\n}a[1000001];\nint dis[10001],f[10001],pre[10001],fa[10001],s,t,n,head[10001],cnt,x,y,z,c;\nvoid add(int x,int y,int c,int v){\n    a[++cnt].to=y;\n    a[cnt].next=head[x];\n    a[cnt].v=c;\n    a[cnt].w=v;\n    head[x]=cnt;\n}\nqueue < int > q;\nint spfa(){\n    q.push(s);\n    memset(dis,127,sizeof(dis));\n    memset(f,0,sizeof(f));\n    f[s]=1,dis[s]=0;\n    int inf=dis[s+1];\n    while(!q.empty()){\n        int now=q.front();\n        q.pop();\n        f[now]=0;\n        for(int i=head[now];i;i=a[i].next){\n            int v=a[i].to;\n            if(dis[v]>dis[now]+a[i].w&&a[i].v){\n                dis[v]=dis[now]+a[i].w,pre[v]=i,fa[v]=now;\n                if(!f[v])\n                    f[v]=1,q.push(v);\n            }\n        }\n    }\n    if(dis[t]!=inf)\n        return 1;\n    return 0;\n}\nint ans1,ans;\nvoid anser(){\n    while(spfa()){\n        int minx=2147483647;\n        for(int i=t;i!=s;i=fa[i])\n            minx=min(minx,a[pre[i]].v);\n        ans+=minx,ans1+=dis[t]*minx;\n        for(int i=t;i!=s;i=fa[i])\n            a[pre[i]].v-=minx,(pre[i]%2)?a[pre[i]+1].v+=minx:a[pre[i]-1].v+=minx;\n    }\n}\nint main(){\n    int A=read(),B=read();\n    n=B,s=0,t=B+1;\n    for(int i=A;i<=B;i++)\n        add(s,i,1,0),add(i,s,0,0);\n    for(int i=A+B;i<=B+B;i++)\n        add(i,t,1,0),add(t,i,0,0);\n    for(int i=A;i<=B;i++)\n        for(int j=A;j<i;j++){\n            int l=i*i-j*j,p=sqrt(l);\n            if(p*p==l&&__gcd(j,p)==1){\n                add(i,j+B,1,-i-j),add(j+B,i,0,i+j);\n\t\t\t\tadd(j,i+B,1,-i-j),add(i+B,j,0,i+j);\n\t\t\t}\n        }\n    anser();\n    printf(\"%d %d\",ans/2,-1*ans1/2);\n}\n```",
        "postTime": 1547189540,
        "uid": 19805,
        "name": "\u64a4\u4e91",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4134 \u3010[BJOI2012]\u8fde\u8fde\u770b\u3011"
    }
]