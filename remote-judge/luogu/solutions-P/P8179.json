[
    {
        "content": "## \u524d\u8a00\nEZEC R11 Problem C\u3002\n\nDiv.1 \u9884\u671f\u901a\u8fc7 $50$\uff0c\u5b9e\u9645\u901a\u8fc7 $6$\u3002\n\nDiv.2 \u9884\u671f\u901a\u8fc7 $30$\uff0c\u5b9e\u9645\u901a\u8fc7 $1$\u3002\n\n\u672c\u6765\u662f\u60f3\u7528\u8fd9\u4e2a\u9898\u8ba9\u5927\u5bb6\u7b11\u4e00\u7b11\u7136\u540e\u53bb\u8f7b\u677e\u5730\u5f00\u59cb\u8fd9\u573a\u6bd4\u8d5b\uff0c\u7ed3\u679c\u4f3c\u4e4e\u6ca1\u6709\u4eba\u7b11\u2026\u2026\n\n[\u5173\u6ce8\u5609\u7136\uff0c\u987f\u987f\u89e3\u998b\uff01](https://space.bilibili.com/672328094)\n## Hint\n\u6bcf\u5957\u8f6e\u80ce\u4e00\u5b9a\u53ea\u4f1a\u4f7f\u7528\u4e00\u4e2a\u8fde\u7eed\u7684\u533a\u95f4\u3002\n\n\u4e0d\u7136\u628a\u8fd9\u4e24\u6bb5\u653e\u4e00\u8d77\u80fd\u7701\u4e00\u6b21\u6362\u80ce\u7684\u65f6\u95f4\u3002\n## Solution 1\n\u6211\u4f1a\u6a21\u62df\uff01\n\n\u7b2c $i$ \u5708\u9700\u8981 $a_1+b_1(i-1)^2$ \u7684\u65f6\u95f4\uff0c\u66b4\u529b\u7b97\u51fa\u6bcf\u4e00\u5708\u7684\u65f6\u95f4\u52a0\u8d77\u6765\u5c31\u884c\u4e86\u3002\n\n\u53ef\u4ee5\u901a\u8fc7 Subtask $1$\u3002\n## Solution 2\n\u6211\u4f1a\u8d2a\u5fc3\uff01\n\n\u5982\u679c $t=0$\uff0c\u90a3\u4e48\u6211\u4eec\u76f8\u5f53\u4e8e\u6bcf\u5708\u90fd\u53ef\u4ee5\u81ea\u5df1\u9009\u4e00\u5957\u8f6e\u80ce\u3002\n\n\u6bcf\u5957\u8f6e\u80ce\u7684\u5355\u5708\u65f6\u95f4\u968f\u7740\u5708\u6570\u4e0a\u5347\uff0c\u4e5f\u5c31\u662f\u4e00\u4e2a\u5355\u8c03\u7684\u51fd\u6570\u3002\n\n\u4e8e\u662f\u6211\u4eec\u9700\u8981\u5f52\u5e76\u8fd9 $n$ \u4e2a\u5e8f\u5217\u5e76\u6c42\u51fa\u524d $m$ \u9879\u3002\n\n\u4f7f\u7528\u4e00\u4e2a\u5806\u5373\u53ef\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(m\\log n)$\u3002\n\n\u53ef\u4ee5\u901a\u8fc7 Subtask $1,3,4$\u3002\n\n\u5bf9\u4e8e Subtask $2$\uff0c\u5982\u679c\u4f60\u679a\u4e3e $2^n$ \u4e2a\u5b50\u96c6\u4e3a\u81f3\u5c11\u4f7f\u7528\u4e00\u6b21\u7684\u8f6e\u80ce\u4e5f\u53ef\u4ee5\u901a\u8fc7\u3002\n## Solution 3\n\u6211\u4f1a\u66b4\u529b dp\uff01\n\n\u8003\u8651\u679a\u4e3e\u7b2c $i$ \u5957\u8f6e\u80ce\u8dd1 $0\\sim m$ \u5708\u7684\u4ee3\u4ef7\uff0c\u95ee\u9898\u53d8\u4e3a\u5206\u7ec4\u80cc\u5305\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(nm^2)$\u3002\n\n\u53ef\u4ee5\u901a\u8fc7 Subtask $1,2$\u3002\n## Solution 4\n\u6211\u4f1a\u51b3\u7b56\u5355\u8c03\u6027\u4f18\u5316\uff01\n\n\u76f4\u63a5\u4f18\u5316\u524d\u9762\u7684\u80cc\u5305\u95ee\u9898\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u964d\u4f4e\u5230 $O(nm\\log m)$\u3002\n\n\u8fd8\u662f\u53ea\u80fd\u901a\u8fc7 Subtask $1,2$\u3002\n\n\u8fd9\u91cc\u5fd8\u8bb0\u7ed9\u4e00\u6863\u5206\u4e86\uff0c\u4f46\u662f\u5982\u679c\u4f60\u5728 $nm$ \u6bd4\u8f83\u5927\u7684\u65f6\u5019\u76f4\u63a5\u8dd1 Solution $2$ \u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u3002\n\n\u8fd9\u79cd\u505a\u6cd5\u662f\u53ef\u4ee5\u5361\u7684\uff0c\u76f4\u63a5\u5c06\u5361\u5806\u8d2a\u5fc3\u7684\u6d4b\u8bd5\u70b9\u4e2d\u653e\u51e0\u4e2a $(1,500)$ \u518d\u6574\u4f53\u5e73\u79fb $a_i$ \u5c31\u53ef\u4ee5\u4e86\uff0c\u4f46\u662f\u7531\u4e8e\u6ca1\u6709\u9a8c\u9898\u4eba\u5199\u8fd9\u4e2a\u7b97\u6cd5\uff08\u5927\u5bb6\u90fd\u8ba4\u4e3a\u8fd9\u4e2a\u7b97\u6cd5\u7684\u5b9e\u73b0\u53ef\u80fd\u6bd4\u672c\u9898\u6b63\u89e3\u66f4\u96be\uff09\u5c31\u6ca1\u6709\u5361\u6389\uff0c\u5411\u5927\u5bb6\u9053\u6b49\u3002\n\n\u4e0d\u8fc7\u8fd9\u6837\u662f\u4e0d\u662f\u4e5f\u907f\u514d\u4e86\u4e00\u4e9b\u4eba\u53bb\u5199 $O(nm)$ \u7b97\u6cd5\u5462\uff1f\n## Solution 5\n\u6211\u4f1a\u627e\u6027\u8d28\uff01\n\n\u4e0d\u59a8\u628a\u6362\u80ce\u65f6\u95f4\u52a0\u5230\u7b2c\u4e00\u5708\u7684\u65f6\u95f4\u4e0a\uff0c\u8fd9\u6837\u5c31\u4e0d\u5b58\u5728\u201c\u6362\u80ce\u201d\u8fd9\u4e2a\u64cd\u4f5c\u4e86\u3002\n\n\u6ce8\u610f\u5230\u6211\u4eec\u4e0d\u80fd\u4f7f\u7528\u5806\u8d2a\u5fc3\u662f\u56e0\u4e3a\u4ef7\u683c\u4e0d\u5355\u8c03\uff0c\u8003\u8651\u5f3a\u884c\u5c06\u4ef7\u683c\u53d8\u4e3a\u5355\u8c03\u3002\n\n\u6211\u4eec\u8003\u8651\u8bb0 $S=\\lceil\\sqrt t\\rceil$\u3002\u4e0d\u96be\u53d1\u73b0\u5bf9\u4e8e\u6bcf\u5957\u8f6e\u80ce\uff0c$S$ \u5708\u4ee5\u540e\u7684\u4ef7\u683c\u4e00\u5b9a\u6bd4 $S$ \u5708\u4e4b\u524d\u7684\u4ef7\u683c\u8d35\uff0c\u5e76\u4e14\u4e5f\u662f\u5355\u8c03\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u4e24\u90e8\u5206\u5206\u5f00\u51b3\u7b56\u3002\n\n\u4e8e\u662f\u6211\u4eec\u5bf9\u4e8e\u6bcf\u5957\u8f6e\u80ce\u7684\u524d $S$ \u5708\u505a\u4e00\u4e2a dp\uff0c$S$ \u5708\u4e4b\u540e\u7528\u5806\u8d2a\u5fc3\uff0c\u5408\u5e76\u4e24\u8fb9\u7684\u7ed3\u679c\u5373\u53ef\u3002\n\n\u5982\u679c\u4f7f\u7528 Solution $2,3$ \u7684\u65b9\u6cd5\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2t+m\\log n)$\u3002\n\n\u5982\u679c\u4f7f\u7528 Solution $2,4$ \u7684\u65b9\u6cd5\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2\\sqrt t\\log(n\\sqrt t)+m\\log n)$\u3002\n\n\u4e24\u8005\u90fd\u53ef\u4ee5\u901a\u8fc7\u3002\n## Code\n```cpp\n//And in that light,I find deliverance.\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\ninline int read(){\n   int s=0,w=1;\n   char ch=getchar();\n   while(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n   while(ch>='0'&&ch<='9') s=s*10+ch-'0',ch=getchar();\n   return s*w;\n}\nconst int B=25;\nint f[503][33],g[13003],h[200003],a[503],b[503],c[503];\nstruct cmp\n{\n\tbool operator()(const int&x,const int&y)\n\t{\n\t\treturn (a[x]+b[x]*c[x]*c[x]>a[y]+b[y]*c[y]*c[y])||\n\t\t\t(a[x]+b[x]*c[x]*c[x]==a[y]+b[y]*c[y]*c[y]&&x>y);\n\t}\n};\npriority_queue<int,vector<int>,cmp> q;\nsigned main()\n{\n\tint n=read(),m=read(),d=read(),s=0;\n\tfor(int i=1; i<=n; ++i) \n\t{\n\t\ta[i]=read(),b[i]=read(),c[i]=25,q.push(i);\n\t\tf[i][1]=a[i]+d;\n\t\tfor(int j=2; j<=B; ++j) f[i][j]=f[i][j-1]+a[i]+b[i]*(j-1)*(j-1);\n\t}\n\tmemset(g,0x3f,sizeof(g)),g[0]=0;\n\tfor(int i=1; i<=n; ++i)\n\t{\n\t\ts=min(m,s+B);\n\t\tfor(int j=s; j>=0; --j)\n\t\t\tfor(int k=0; k<=B&&k<=j; ++k)\n\t\t\t\tg[j]=min(g[j],g[j-k]+f[i][k]);\n\t}\n\tfor(int i=1; i<=m; ++i)\n\t{\n\t\tint x=q.top();\n\t\tq.pop(),h[i]=h[i-1]+a[x]+b[x]*c[x]*c[x],\n\t\t++c[x],q.push(x);\n\t}\n\tint ans=0x3f3f3f3f3f3f3f3f;\n\tfor(int i=0; i<=s&&i<=m; ++i) ans=min(ans,g[i]+h[m-i]);\n\tprintf(\"%lld\\n\",ans-d);\n\treturn 0;\n}\n```",
        "postTime": 1646182126,
        "uid": 111055,
        "name": "dead_X",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P8179"
    },
    {
        "content": "\u9996\u5148 , \u53ef\u4ee5\u53d1\u73b0\u5bf9\u4e8e\u4e00\u4e2a\u8f6e\u80ce $i$ , \u4ed6\u7684\u8d39\u7528\u5728 $t=0$ \u662f\u5355\u8c03\u7684 , \u8003\u8651\u7528\u5e73\u5747\u503c\u5c06 $t$ \u5206\u914d\u5230\u540e\u9762\u7684\u51e0\u5708\u4e2d , \u53ef\u4ee5\u8bc1\u660e , \u5728\u5341\u6b65\u64cd\u4f5c\u5185\u53ef\u4ee5\u4f7f\u5e8f\u5217\u5355\u8c03 . $(\\forall a,b=1,t=500)$ \n\n\u5148\u7528\u5806\u7ef4\u62a4\u8f6e\u80ce\u7684\u8d39\u7528 , $m$ \u5c06\u51cf\u53bb\u8fd9\u4e9b\u5708\u6570 , \u628a\u5e73\u5747\u503c\u6bb5\u5f53\u505a\u6574\u4f53\u5904\u7406 , \u6b63\u786e\u6027\u5728\u5e73\u5747\u503c\u6bb5\u88ab\u5b8c\u5168\u53d6\u5b8c\u65f6\u663e\u7136\u7684 .\n\n\u7136\u540e , \u8003\u8651\u5e73\u5747\u503c\u6bb5\u5728\u4e2d\u95f4\u88c2\u5f00\u7684\u60c5\u51b5 . \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b , \u6709\u4e00\u79cd\u7b56\u7565\u662f\u53ef\u80fd\u66f4\u4f18\u7684 : \u5148\u628a\u5df2\u7ecf\u9009\u5165\u7684\u5708\u518d\u62ff\u51fa\u6765 $k$ \u5708 , \u518d\u5728\u6ca1\u8dd1\u7684\u9009\u51fa $k+m$ \u5708 , \u4f7f\u5176\u5dee\u503c\u6700\u5c0f .\n\n> 1. \u5e73\u5747\u6570\u6bb5\u6ca1\u8dd1\u5b8c\u7684\u8f6e\u80ce $($ \u63a5\u4e0b\u6765\u79f0\u4e4b\u4e3a\u540e\u9762\u7684 $)$ \u4e0d\u53ef\u80fd\u62ff\u975e\u5e73\u5747\u6570\u6bb5 , \u8dd1\u5b8c\u7684\u53ef\u4ee5 .\n>\n> 2. \u90a3\u4e48\u6211\u4eec\u76f4\u63a5\u5bf9\u540e\u9762\u7684\u6570\u5217\u7528\u5806 , \u5708\u6570\u662f $k+m~($ \u8bbe $k$ \u662f\u4e2a\u5b9a\u503c $)$ , \u90a3\u4e48\u5f53\u5e73\u5747\u503c\u6bb5\u518d\u6b21\u62ff\u5b8c\u540e , \u4e2d\u95f4\u88c2\u5f00\u7684\u90e8\u5206\u53ef\u4ee5\u76f4\u63a5\u8fd8\u7ed9\u524d\u9762 . \u56e0\u6b64\u53ef\u4ee5\u8bc1\u660e\u53ea\u8981 $k+m\\le 10$ . \u5c31\u53ef\u4ee5\u62ff\u5b8c\u67d0\u4e2a\u5e73\u5747\u6570\u6bb5$,$ \u5f97\u5230\u7b54\u6848 .\n\n\u6700\u540e\u7684\u89e3\u51b3\u65b9\u5f0f\u662f\u8dd1\u4e24\u6b21\u5206\u7ec4\u80cc\u5305 , \u7b2c\u4e00\u6b21\u6c42\u51fa\u653e $0\\sim 10-m$ \u5708\u7684\u6700\u5c0f\u65f6\u95f4 , \u7b2c\u4e8c\u6b21\u6c42\u51fa\u62ff $0\\sim 10-m$ \u5708\u7684\u6700\u591a\u65f6\u95f4 . \u4e0d\u8fc7\u6211\u5728\u5b9e\u73b0\u65f6\u76f4\u63a5\u8dd1\u4e86 $10$ .  \n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<queue>\nusing namespace std;\ninline long long GetSqrSum(long long x){return x*(x+1)*(x*2+1)/6;}\nlong long t,sum;\nstruct Tyres{\n\tlong long a,b,c;\n\tlong long cost;\n\tint id;\n\tinline long long Finder(long long _c){\n\t\treturn a+b*(_c-1)*(_c-1)+t*(_c==1);\n\t}\n\tinline void Reader(){scanf(\"%lld%lld\",&a,&b);}\n\tinline bool operator<(const Tyres&t)const{return cost*t.c>t.cost*c;}\n};\nconst int MaxN=510;\npriority_queue<Tyres>H;\nTyres T[MaxN];\nint n,m;\nint Size[MaxN];\nlong long Dp1[MaxN],Dp2[MaxN],Object[MaxN];\nint main(){\n\tscanf(\"%d%d\",&n,&m);\n\tscanf(\"%lld\",&t);\n\tfor(int i=1;i<=n;i++){\n\t\tT[i].Reader();T[i].id=i;T[i].c=1;\n\t\twhile(T[i].a*T[i].c+T[i].b*GetSqrSum(T[i].c-1)+t>=T[i].Finder(T[i].c+1)*T[i].c)T[i].c++;\n\t\tT[i].cost=T[i].a*T[i].c+T[i].b*GetSqrSum(T[i].c-1)+t;\n\t\tH.push(T[i]);\n\t}\n\twhile(true){\n\t\tTyres P=H.top();H.pop();\n\t\tif(m>=P.c){\n\t\t\tm-=P.c;\n\t\t\tsum+=P.cost;\n\t\t\tSize[P.id]+=P.c;\n\t\t\tP.cost=T[P.id].Finder(Size[P.id]+1);\n\t\t\tP.c=1;\n\t\t\tH.push(P);\n\t\t}\n\t\telse break;\n\t}\n\tif(!m){printf(\"%lld\\n\",sum-t);return 0;}\n\tmemset(Dp1,-1,sizeof(Dp1));Dp1[0]=0;\n\tmemset(Dp2,-1,sizeof(Dp2));Dp2[0]=0;\n\tfor(int i=1;i<=n;i++){\n\t\tint top=10;\n\t\tfor(int j=1;j<=top;j++)\n\t\t\tObject[j]=Object[j-1]+T[i].Finder(Size[i]+j);\n\t\tfor(int j=10;j>=0;j--){\n\t\t\tfor(int k=1;k<=top&&k<=j;k++){\n\t\t\t\tif(Dp1[j-k]==-1)continue;\n\t\t\t\tif(Dp1[j]==-1||Dp1[j-k]+Object[k]<Dp1[j])\n\t\t\t\t\tDp1[j]=Dp1[j-k]+Object[k];\n\t\t\t}\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tint top=min(10,Size[i]);\n\t\tfor(int j=1;j<=top;j++)\n\t\t\tObject[j]=Object[j-1]+T[i].Finder(Size[i]-j+1);\n\t\tfor(int j=10;j>=0;j--){\n\t\t\tfor(int k=1;k<=top&&k<=j;k++){\n\t\t\t\tif(Dp2[j-k]==-1)continue;\n\t\t\t\tif(Dp2[j]==-1||Dp2[j-k]+Object[k]>Dp2[j])\n\t\t\t\t\tDp2[j]=Dp2[j-k]+Object[k];\n\t\t\t}\n\t\t}\n\t}\n\tlong long ans=0x7f7f7f7f7f7f7f7f;\n\tfor(int i=m;i<=10;i++){\n\t\tif(Dp1[i]==-1||Dp2[i-m]==-1)continue;\n\t\tif(ans>Dp1[i]-Dp2[i-m])ans=Dp1[i]-Dp2[i-m];\n\t}\n\tprintf(\"%lld\\n\",ans+sum-t);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1646095289,
        "uid": 161296,
        "name": "DarksideCoder\u03c9",
        "ccfLevel": 7,
        "title": "P8179"
    }
]