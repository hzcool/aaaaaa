[
    {
        "content": "### \u849f\u4e58\n\n\u7b54\u6848\u5f88\u660e\u663e\u662f$\\ \\frac{(\\sum x)^2-\\sum x^2}{2}$\n\n$N~=~(\\overline{n_1 n_2 n_3 \\dots n_m})_{10}$\uff0c$G(N)=\\sum_{i=1}^mn_i$\u3002\n\n\u8bbe$f[i]$\u4e3a$G(N)=i$\u7684$N$\u7684**\u4e2a\u6570**\uff0c$g[i]$\u4e3a$G(N)=i$\u7684$N$\u7684**\u548c**\uff0c$h[i]$\u4e3a$G(N)=i$\u7684$N$\u7684**\u5e73\u65b9\u548c**\u3002\n\n$$f[i]=\\sum_{j=1}^9f[i-j]$$\n\n$$g[i]=\\sum_{j=1}^910\\times g[i-j]+j\\times f[i-j]$$\n\n$$h[i]=\\sum_{j=1}^9100\\times h[i-j]+20j\\times g[i-j]+j^2\\times f[i-j]$$\n\n\u653e\u5728\u4e00\u4e2a\u77e9\u9635\u91cc\u8f6c\u79fb\u5c31\u597d\u4e86\n\n$$\\text{\u7b54\u6848\u662f}\\ \\frac{(\\sum_{i=1}^ng[i])^2-\\sum_{i=1}^nh[i]}{2}$$\n\n```cpp\n#include<cstdio>\n#include<cstring>\nconst int mod=1e6+3;\nstruct mat{\n    int c[30][30];\n    void clear(){memset(c,0,sizeof(c));}\n    mat operator *(const mat &o)const{\n        mat r;\n        r.clear();\n        for(int i=1;i<=29;i++)\n        for(int k=1;k<=29;k++)\n        for(int j=1;j<=29;j++)\n        if(c[i][k]&&o.c[k][j])\n        r.c[i][j]=(r.c[i][j]+1ll*c[i][k]*o.c[k][j])%mod;\n        return r;\n    }\n}f,g;\nint ksm(int u,int v){\n\tint res=1;\n\tfor(;v;v>>=1,u=1ll*u*u%mod)\n\tif(v&1)res=1ll*res*u%mod;\n\treturn res;\n}\ntypedef long long LL;\nLL n;\nint main(){\n\tscanf(\"%lld\",&n);\n\tf.c[1][9]=1;//f[0]=1\n\tfor(int i=1;i<=8;i++)g.c[i+1][i]=1;\n\tfor(int i=1;i<=9;i++)g.c[i][9]=1;\n\tfor(int i=10;i<=17;i++)g.c[i+1][i]=1;\n\tfor(int i=1;i<=9;i++)g.c[i][18]=10-i;\n\tfor(int i=10;i<=18;i++)g.c[i][18]=10;\n\tfor(int i=19;i<=26;i++)g.c[i+1][i]=1;\n\tfor(int i=1;i<=9;i++)g.c[i][27]=(10-i)*(10-i);\n\tfor(int i=10;i<=18;i++)g.c[i][27]=(19-i)*20;\n\tfor(int i=19;i<=27;i++)g.c[i][27]=100;\n\tg.c[18][28]=g.c[28][28]=1;\n\tg.c[27][29]=g.c[29][29]=1;\n    //\u6211\u8fd9\u91cc\u6c42\u7684\u662fn-1\u7684\\sum\uff0c\u6240\u4ee5n\u8981\u52a01\n\tfor(++n;n;n>>=1,g=g*g)\n\tif(n&1)f=f*g;\n\tprintf(\"%lld\\n\",1ll*(1ll*f.c[1][28]*f.c[1][28]-f.c[1][29]+mod)%mod*ksm(2,mod-2)%mod);\n}\n```\n",
        "postTime": 1552808981,
        "uid": 50092,
        "name": "da32s1da",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P5257 \u3010\u5bc6\u7801 \u3011"
    }
]