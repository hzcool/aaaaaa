[
    {
        "content": "\u4e4d\u4e00\u770b\u8fd9\u9898\uff0c\u4e8c\u5206\u534a\u5f84\uff0c\u5927\u529bsimpson\u554a\uff01\u770b\u6211\u968f\u624b\u5199\u4e00\u4e2a\uff0c\u4f60\u770b\uff0c\u6837\u4f8b\u90fd\u8fc7\u4e86\uff0c\u6211\u4ea4\u4e00\u53d1......\n\nWA\\*6+TLE\\*3+AC\\*1\n\n\u534a\u5f84\u53ea\u80fd\u4e8c\u5206\u89e3\u51b3\uff0c\u800c\u9762\u79ef\uff0c\u770b\u6765\u4e0d\u662f\u80fd\u7528simpson\u6c34\u8fc7\u7684\u4e86\u3002\n\n![](https://cdn.luogu.com.cn/upload/pic/18608.png )\n\n\u89c2\u5bdf\u56fe\u5f62\uff0c\u5229\u7528\u9898\u4e2d\u591a\u8fb9\u5f62\u7684\u6027\u8d28\uff0c\u4e0d\u96be\u60f3\u51fa\u8fd9\u6837\u7684\u641e\u6cd5\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/18612.png )\n\n\u5206\u522b\u8fde\u63a5\u591a\u8fb9\u5f62\u7684\u5404\u4e2a\u9876\u70b9\u4e0e\u539f\u70b9\uff0c\u5c06\u591a\u8fb9\u5f62\u5212\u5206\u4e3a\u4e09\u89d2\u5f62\u3002\u6bcf\u4e2a\u4e09\u89d2\u5f62\u90fd\u5bf9\u5e94\u4e00\u4e2a\u552f\u4e00\u7684\u5706\u5fc3\u89d2\uff0c\u5728\u534a\u5f84\u786e\u5b9a\u65f6\uff0c\u4e5f\u5c31\u80fd\u786e\u5b9a\u4e00\u4e2a\u5bf9\u5e94\u7684\u6247\u5f62\u3002\u53ea\u9700\u6c42\u51fa\u5404\u4e2a\u4e09\u89d2\u5f62\u4e0e\u5bf9\u5e94\u6247\u5f62\u9762\u79ef\u4ea4\u7684\u548c\u5373\u53ef\u3002\n\n\u8fd9\u91cc\u5206\u4e3a4\u79cd\u60c5\u51b5\uff1a\n\n### case 1\n\n\u6700\u7b80\u5355\u7684\u60c5\u51b5\uff0c\u5982\u56fe\u4e2d$\\triangle COD$\uff0c\u4e09\u89d2\u5f62\u88ab\u6247\u5f62\u5b8c\u5168\u5305\u542b\u3002\u90a3\u4e48\u9762\u79ef\u4ea4\u5c31\u662f\u4e09\u89d2\u5f62\u7684\u9762\u79ef\uff0c\u5373\uff1a$S=|\\vec{OC}\\times\\vec{OD}|\\div2$\u3002\n\n### case 2\n\u7a0d\u5fae\u96be\u4e00\u70b9\u7684\u60c5\u51b5\uff0c\u5982\u56fe\u4e2d$\\triangle AOF,\\triangle EOF$\uff0c\u4e09\u89d2\u5f62\u5b8c\u5168\u5305\u542b\u6247\u5f62\u3002\u90a3\u4e48\u9762\u79ef\u4ea4\u5c31\u662f\u6247\u5f62\u7684\u9762\u79ef\uff0c\u5373\uff1a$S=r^2\\theta\\div2$\u3002\n\n\u5173\u4e8e$\\theta$\u7684\u6c42\u6cd5\uff0c\u53ef\u4ee5\u5148\u7528\u5750\u6807\u5206\u522b\u6c42\u51fa\u4e24\u4e2a\u70b9\u6781\u89d2\u7684\u4f59\u5f26\u503c\uff0c\u518d\u7528cmath\u91cc\u7684acos\u51fd\u6570\u6c42\u51fa\u4e24\u4e2a\u6781\u89d2\u7684\u5f27\u5ea6\u3002\u4f46\u6ce8\u610f\uff0cacos\u7684\u8fd4\u56de\u503c\u5728$[0,\\pi]$\u95f4\uff0c\u56e0\u6b64\u8fd8\u9700\u8981\u5229\u7528\u70b9\u7684\u7eb5\u5750\u6807\u6b63\u8d1f\uff0c\u6765\u786e\u5b9a$\\theta$\u662f\u5426\u5927\u4e8e$\\pi$\uff0c\u8fd8\u8981\u7528\u201c\u5947\u53d8\u5076\u4e0d\u53d8\uff0c\u7b26\u53f7\u770b\u8c61\u9650\u201d\uff0c\u53bb\u786e\u5b9a\u6781\u89d2\u7684\u5f27\u5ea6\u503c\u3002\u7136\u540e\u4e24\u89d2\u7684\u6781\u89d2\u4f5c\u5dee\uff0c\u53d6\u7edd\u5bf9\u503c\uff0c\u5982\u679c$\\theta>\\pi$\uff0c\u8fd8\u8981\u53d6$2\\pi-\\theta$\u3002\u5373\u5f97$\\theta$\u7684\u5f27\u5ea6\u3002\u8be6\u89c1\u4e0b\u9762\u7684\u4ee3\u7801\u3002\n\n### case 3\n\u524d\u4e24\u79cd\u7684\u7ed3\u5408\uff0c\u5982\u56fe\u4e2d$\\triangle BOC,\\triangle DOE$\uff0c\u89d2\u6240\u5bf9\u7684\u8fb9\u548c\u5f27\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u4ea4\u70b9\u3002\u53ef\u4ee5\u6c42\u51fa\u8fd9\u4e2a\u4ea4\u70b9\uff0c\u7136\u540e\u5bf9\u4ea4\u70b9\u5de6\u53f3\u4e24\u90e8\u5206\u5206\u522b\u7528\u524d\u4e24\u79cd\u65b9\u6cd5\u6c42\u89e3\u3002\u90a3\u4e48\u600e\u4e48\u6c42\u4ea4\u70b9\u5462\uff1f\n\n\u8bbe\u4e24\u4e2a\u70b9\u5206\u522b\u4e3a$A(x_1,y_1),B(x_2,y_2)$\u3002\u8bbe\u76f4\u7ebf$AB$\u7684\u89e3\u6790\u5f0f\u4e3a$y=kx+b$\uff0c\u5219\u659c\u7387$k=\\frac{y_1-y_2}{x_1-x_2}$\uff0c\u7eb5\u622a\u8ddd$b=y_1-kx_1$\u3002\u5706\u7684\u89e3\u6790\u5f0f\u4e3a$x^2+y^2=r^2$\u3002\n\n\u7531\u76f4\u7ebf\u89e3\u6790\u5f0f\u5f97\uff1a$$y^2=(kx+b)^2$$\n\n\u7531\u5706\u89e3\u6790\u5f0f\u5f97\uff1a$$y^2=r^2-x^2$$\n\n\u56e0\u6b64\u6709\uff1a$$(kx+b)^2=r^2-x^2$$\n$$k^2x^2+2kbx+b^2-r^2+x^2=0$$\n$$(k^2+1)x^2+2kbx+(b^2-r^2)=0$$\n\n\u89e3\u5f97\uff1a$$x_1=\\frac{-2kb+\\sqrt{4k^2b^2-4(k^2+1)(b^2-r^2)}}{2k^2+2}$$\n$$x_2=\\frac{-2kb-\\sqrt{4k^2b^2-4(k^2+1)(b^2-r^2)}}{2k^2+2}$$\n\n\u770b\u770b\u54ea\u4e2a\u70b9\u5728\u7ebf\u6bb5\u4e0a\u5c31\u884c\u4e86\u3002\u7136\u540e\u4e00\u4fa7\u6c42\u4e09\u89d2\u5f62\u9762\u79ef\uff0c\u53e6\u4e00\u4fa7\u6c42\u6247\u5f62\u9762\u79ef\u3002\n\n### case 4\n\u5982\u679c\u89e3\u51b3\u4e86\u524d\u4e09\u79cd\uff0c\u7b2c\u56db\u79cd\u5c31\u4e0d\u662f\u95ee\u9898\u4e86\u3002\u5982\u56fe\u4e2d$\\triangle AOB$\uff0c\u89d2\u7684\u5bf9\u8fb9\u4e0e\u5bf9\u5f27\u6709\u4e24\u4e2a\u4ea4\u70b9\uff0c\u53ef\u4ee5\u5c06\u5176\u5206\u4e3a\u4e24\u4e2acase 3\u89e3\u51b3\u3002\n\n### \u662f\u4e0d\u662f\u5f88\u7b80\u5355\u554a\uff1f\n```\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\n\n#define EPS 1e-5\nconst double PI=acos(-1);\n\nint n;\ndouble s;\nstruct Point\n{\n\tdouble dist,x,y;\n} point[55];\n\n//\u6c42\u51fa\u7ebf\u6bb5\u4e0a\u79bb\u539f\u70b9\u6700\u8fd1\u7684\u70b9\uff0c\u4ee5\u786e\u5b9a\u7ebf\u6bb5\u4e0e\u5f27\u662f\u5426\u76f8\u4ea4\nPoint calc_vertical(Point A,Point B)\n{\n\tPoint cross;\n    //\u4e24\u79cd\u7279\u6b8a\u60c5\u51b5\uff1a\u4e0ex\u8f74\u5782\u76f4\u3001\u4e0ey\u8f74\u5782\u76f4\n\tif(fabs(A.x-B.x)<EPS)\n\t{\n\t\tcross.x=A.x;\n\t\tcross.y=0;\n\t\tcross.dist=fabs(A.x);\n\t}\n\telse if(fabs(A.y-B.y)<EPS)\n\t{\n\t\tcross.x=0;\n\t\tcross.y=A.y;\n\t\tcross.dist=fabs(A.y);\n\t}\n\telse//\u4f5c\u5782\u7ebf\n\t{\n\t\tdouble k=(A.y-B.y)/(A.x-B.x);\n\t\tdouble b=A.y-k*A.x;\n\t\tcross.x=-b/(k+1.0/k);\n\t\tcross.y=-cross.x/k;\n\t\tcross.dist=sqrt(cross.x*cross.x+cross.y*cross.y);\n\t}\n    //\u5982\u679c\u5782\u8db3\u4e0d\u5728\u7ebf\u6bb5\u4e0a\uff0c\u5c31\u53d6\u4e24\u4e2a\u7aef\u70b9\u4e2d\u66f4\u8fd1\u7684\u4e00\u4e2a\n\tif(A.x>B.x)\n\t{\n\t\tstd::swap(A,B);\n\t}\n\tif(cross.x<A.x||cross.x>B.x)\n\t{\n\t\tcross=A.dist<B.dist?A:B;\n\t}\n\tif(A.y>B.y)\n\t{\n\t\tstd::swap(A,B);\n\t}\n\tif(cross.y<A.y||cross.y>B.y)\n\t{\n\t\tcross=A.dist<B.dist?A:B;\n\t}\n\treturn cross;\n}\n\n//\u6c42\u7ebf\u6bb5\u4e0e\u5706\u5f27\u7684\u4ea4\u70b9\nPoint calc_cross(Point A,Point B,double radius)\n{\n\tPoint res;\n\tif(A.x>B.x)\n\t{\n\t\tstd::swap(A,B);\n\t}\n\tdouble k=(A.y-B.y)/(A.x-B.x);\n\tdouble b=A.y-k*A.x;\n\tres.x=(-2*k*b+sqrt(4*k*k*b*b-4*(b*b-radius*radius)*(k*k+1)))/(2*k*k+2);\n\tif(res.x<A.x||res.x>B.x)\n\t{\n\t\tres.x=(-2*k*b-sqrt(4*k*k*b*b-4*(b*b-radius*radius)*(k*k+1)))/(2*k*k+2);\n\t}\n\tres.y=res.x*k+b;\n\tres.dist=sqrt(res.x*res.x+res.y*res.y);\n\treturn res;\n}\n\ndouble mult(Point a,Point b)//\u5411\u91cf\u7684\u5411\u91cf\u79ef\u7684\u6a21\u9664\u4ee52\n{\n\treturn fabs(a.x*b.y-b.x*a.y)/2.0;\n}\n\ndouble calc_angle(Point a)//\u8ba1\u7b97\u6781\u89d2\n{\n\tdouble cosine=a.x/a.dist;\n\tdouble res=acos(cosine);\n\treturn a.y>0?res:2*PI-res;\n}\n\ndouble calc_sector(Point a,Point b,double radius)//\u8ba1\u7b97\u6247\u5f62\u9762\u79ef\n{\n\tdouble angle=fabs(calc_angle(a)-calc_angle(b));\n\tangle=angle<PI?angle:2*PI-angle;\n\treturn radius*radius*angle/2.0;\n}\n\ndouble calc_part(Point a,Point b,double radius)//\u8ba1\u7b97\u9762\u79ef\u4ea4\n{\n\tif(a.dist-radius<EPS&&b.dist-radius<EPS)\n\t{\n\t\treturn mult(a,b);\n\t}\n\telse\n\t{\n\t\tif(a.dist>b.dist)\n\t\t{\n\t\t\tstd::swap(a,b);\n\t\t}\n\t\tPoint vertical=calc_vertical(a,b);\n\t\tif(vertical.dist-radius>EPS)\n\t\t{\n\t\t\treturn calc_sector(a,b,radius);\n\t\t}\n\t\telse if(a.dist-radius>EPS)\n\t\t{\n\t\t\treturn calc_part(a,vertical,radius)+calc_part(vertical,b,radius);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tPoint cross=calc_cross(a,b,radius);\n\t\t\treturn calc_sector(cross,b,radius)+mult(a,cross);\n\t\t}\n\t}\n}\n\ndouble calc_area(double radius)\n{\n\tdouble res=0;\n\tdouble add;\n\tfor(int i=0; i<n; ++i)\n\t{\n\t\tres+=add=calc_part(point[i],point[i+1],radius);\n\t}\n\treturn res;\n}\n\nint main()\n{\n\tdouble left_radius=0,right_radius=0,mid_radius;\n\tscanf(\"%d %lf\",&n,&s);\n\tfor(int i=0; i<n; ++i)\n\t{\n\t\tscanf(\"%lf %lf\",&point[i].x,&point[i].y);\n\t\tpoint[i].dist=sqrt(point[i].x*point[i].x+point[i].y*point[i].y);\n\t\tright_radius=std::max(right_radius,point[i].dist);\n\t}\n\tpoint[n]=point[0];\n\n\twhile(right_radius-left_radius>EPS)//\u4e8c\u5206\u534a\u5f84\n\t{\n\t\tmid_radius=(left_radius+right_radius)/2.0;\n\t\tif(calc_area(mid_radius)>s)\n\t\t{\n\t\t\tright_radius=mid_radius;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tleft_radius=mid_radius;\n\t\t}\n\t}\n\n\tprintf(\"%.2lf\\n\",mid_radius);\n\treturn 0;\n}\n```",
        "postTime": 1525499240,
        "uid": 53374,
        "name": "SuperJvRuo",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2333 \u3010[SCOI2006]\u4e00\u5b54\u4e4b\u89c1\u3011"
    }
]