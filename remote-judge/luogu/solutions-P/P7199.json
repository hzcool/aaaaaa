[
    {
        "content": "\u4e00\u4e9b wyy \u7684\u57fa\u7840\u9a97\u5206\u7684\u7b97\u6cd5\u5c31\u4e0d\u8bb2\u4e86\uff0c\u8fd9\u91cc\u5c31\u7b80\u5355\u7684\u8bf4\u8bf4\u4e00\u4e2a\u666e\u901a\u7684\u7b97\u6cd5\uff1a\n\nsolution\uff1a\n\n\u5bf9\u4e8e $100\\%$ \u7684\u6570\u636e\uff0c\u5982\u679c\u6211\u4eec\u4f7f\u7528 $\\mathcal{O}(Q\\times(r-l+1))$ \u7684\u7b97\u6cd5\u4f1a TLE \uff0c\u73b0\u5728\u7ed9\u51fa\u4e00\u79cd\u7b97\u6cd5\uff1a\n\n\u5bf9\u4e8e\u4e00\u4e2a\u6570 $\\overline{abcd}$ \u6765\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee4\u8be5\u7b97\u6cd5\u4e3a $g(x)$ \uff0c\u5176\u5b9e\u5c31\u662f\u4e0d\u65ad\u7684\u76f8\u52a0\uff1a$a+b+c+d \\cdots$ \u52a0\u5230\u4e00\u4e2a **\u4e2a\u4f4d\u6570** \u4e3a\u6b62\u3002\uff08\u6700\u540e\u53d1\u73b0 $g(\\overline{abcd})$ \u7684\u6240\u6709\u6570\u5b57\u4e4b\u548c\u4e3a $g(x)\\in[1,9]$\uff09\u3002\n\n\u56e0\u6b64\u6211\u4eec\u53ea\u9700\u8981\u77e5\u9053\uff1a$\\sum\\limits_{i=1}^9 i=45$ \uff0c\u56e0\u6b64\u53ea\u9700\u8981\u627e\u51fa $\\div 9$ \uff08\u53d6\u6574\uff09\u7684\u6570\u91cf\u52a0\u4e0a\u989d\u5916\u7684\u6570\u91cf\u5373\u53ef\u3002\n\n\u6ce8\u610f\u56e0\u4e3a\u672c\u9898\u6570\u636e\u8303\u56f4 $>2^{60}$ \uff0c\u56e0\u6b64\u9700\u8981\u4f7f\u7528 $\\texttt{long long}$\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint main() {\n\tint n;\n\tcin>>n;\n\twhile(n--) {\n\t\tlong long l, r;\n\t\tcin>>l>>r;\n\t\tlong long times=(r-l+1)/9;//\u5468\u671f\u7edf\u8ba1\u7684\u4e2a\u6570\n\t\tlong long sum=times*45; \n\t\tfor(long long i=l+times*9;i<=r;i++)//\u8ba1\u7b97\u4ecel\u4e4b\u540e\u7684\u4e0d\u5b8c\u6574\u5468\u671f\u7684\u9009\u62e9\uff0c\u6ce8\u610f\u5728\u8fd9\u91cc\u7684\u6570\u636e\u662f\u6709\u89c4\u5f8b\u53ef\u5faa\u7684\uff0c\u56e0\u6b64 /9 \u5373\u53ef\n\t\t\tsum+=(i-1)%9+1;\t\n\t\tcout<<sum<<endl;\n\t}\n\treturn 0;\n}\n```\n\n\u590d\u6742\u5ea6\u4e3a $\\mathcal{O}(q \\times \\dfrac{r-l-\\text{\u6b21\u6570}}{9})$",
        "postTime": 1609819418,
        "uid": 326382,
        "name": "Thomas_Cat",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P7199 \u3010[COCI2019-2020#1] Trol\u3011"
    },
    {
        "content": "~~\u6d1b\u8c37\u9898\u5e93\u91cc\u9762\u7ec8\u4e8e\u6709\u6211\u7684\u9898\u4e86\uff08\u867d\u7136\u662f\u4e00\u9053\u642c\u8fd0\u7684 COCI\uff09\uff0c\u5fc5\u987b\u53d1\u4e00\u4efd\u9898\u89e3\u5e86\u795d\u4e00\u4e0b\u3002~~\n\n\u8fd9\u9053\u9898\u96be\u5ea6\u8f83\u6613\uff0c\u4e3b\u8981\u8003\u5bdf\u4e86 $9$ \u4f5c\u4e3a\u6a21\u6570\u7684\u7279\u5f81\uff0c\u800c\u4e14\u90e8\u5206\u5206\u4e5f\u5f88\u8db3\uff0c\u9002\u5408\u5165\u95e8\u3002\n\n### $\\text{Solution 1: \u9012\u5f52}$\n\n\u671f\u671b\u5f97\u5206\uff1a$30$ \u5206\n\n\u6211\u4eec\u4e0d\u59a8\u4f7f\u7528\u6700\u76f4\u63a5\u7684\u65b9\u6cd5\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u6570\u7684\u6570\u5b57\u548c\u8fdb\u884c\u6c42\u89e3\uff0c\u6700\u540e\u8fdb\u884c\u76f8\u52a0\u3002\n\n\u4f8b\uff1a\u6c42\u89e3\u5143\u7d20 $137$ \u5728\u82e5\u5e72\u6b21\u64cd\u4f5c\u4e4b\u540e\u7684\u7ed3\u679c\u3002\n\n\u5148\u8ba1\u7b97 $137$ \u6240\u6709\u6570\u4f4d\u4e4b\u548c\uff1a$1+3+7=11$\u3002\n\n\u518d\u8ba1\u7b97 $11$ \u6240\u6709\u6570\u4f4d\u4e4b\u548c\uff1a$1+1=2$\u3002\n\n\u8fd9\u65f6\u53d1\u73b0 $2$ \u4e3a\u4e00\u4f4d\u6570\uff0c\u56e0\u6b64 $137$ \u5728\u64cd\u4f5c\u4e4b\u540e\u7684\u7ed3\u679c\u4e3a $2$\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u4e0a\u8ff0\u7684\u8fc7\u7a0b\u4e00\u76f4\u5728\u91cd\u590d\uff0c\u800c\u4e14\u89c4\u5f8b\u53ef\u5faa\u3002\u56e0\u6b64\u53ef\u4ee5\u5efa\u7acb\u4e00\u4e2a\u51fd\u6570\uff0c\u4e0d\u505c\u5730\u8c03\u7528\u5b83\uff0c\u552f\u4e00\u6539\u53d8\u7684\u662f\u53c2\u6570\u3002\u53ea\u8981\u5f97\u5230\u7684\u6570\u5728\u6211\u4eec\u60f3\u8981\u7684\u8303\u56f4\u4e4b\u5185\uff0c\u5c31\u53ef\u4ee5\u505c\u6b62\u8c03\u7528\u3002\n\n\u4e8e\u662f\u8003\u8651\u7f16\u5199\u9012\u5f52\u51fd\u6570\u3002\n\n`C/C++` \u4ee3\u7801\uff1a\n\n```cpp\n#include<stdio.h>\nint Q;\nlong long getsum(long long x)\n{\n    long long s=0;\n    while(x)\n    {\n        s+=x%10;\n        x/=10;\n    }\n    if(s<10)return s;//\u9012\u5f52\u51fa\u53e3\u2014\u2014\u4e3a\u4e00\u4f4d\u6570\u65f6\uff0c\u5c31\u4e0d\u518d\u7ee7\u7eed\u6c42\u89e3\n    return getsum(s);//\u5426\u5219\u518d\u4e00\u6b21\u8c03\u7528\u540c\u4e00\u51fd\u6570\uff0c\u552f\u4e00\u4e0d\u540c\u7684\u662f\u66f4\u6362\u53c2\u6570\u8fdb\u884c\u6c42\u89e3\n}\nint main()\n{\n    scanf(\"%d\",&Q);\n    while(Q--)\n    {\n        long long l,r,s=0;\n        scanf(\"%lld%lld\",&l,&r);\n        for(long long i=l;i<=r;i++)s+=getsum(i);\n        printf(\"%lld\\n\",s);\n    }\n    return 0;\n}\n```\n\n### $\\text{Solution 2: \u8bb0\u5fc6\u5316\u641c\u7d22}$\n\n\u671f\u671b\u5f97\u5206\uff1a$30$ \u5206\n\n\u5728\u6734\u7d20\u9012\u5f52\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5f88\u591a\u8f83\u5c0f\u7684\u6570\u4f1a\u88ab\u91cd\u590d\u8ba1\u7b97\u3002\n\n\u4f8b\uff1a\u5206\u6790 $27$ \u548c $93456$ \u5728\u64cd\u4f5c\u540e\u7684\u7ed3\u679c\u3002\n\n\u5bf9\u4e8e $27$\uff0c\u64cd\u4f5c\u4e3a $27 \\to 9$\u3002\n\n\u5bf9\u4e8e $93456$\uff0c\u64cd\u4f5c\u4e3a $93456 \\to 27 \\to 9$\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c$27$ \u88ab\u91cd\u590d\u8c03\u7528\u4e86\u3002\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u628a\u4e0d\u540c\u53c2\u6570\u8c03\u7528\u51fd\u6570\u7684\u7ed3\u679c\u4fdd\u5b58\u5728\u6570\u7ec4\u4e2d\u3002\u5982\u679c\u8be5\u6570\u7ec4\u5143\u7d20\u6ca1\u6709\u88ab\u8d4b\u8fc7\u503c\uff0c\u90a3\u4e48\u5c31\u6b63\u5e38\u8ba1\u7b97\u3002\u5426\u5219\u53ef\u4ee5\u76f4\u63a5\u8fd4\u56de\u6570\u7ec4\u4e2d\u7684\u503c\u3002\u8fd9\u79cd\u65b9\u6cd5\u88ab\u79f0\u4e3a\u8bb0\u5fc6\u5316\u641c\u7d22\u3002\n\n\u7136\u800c\uff0c\u5728\u672c\u9898\u4e2d\uff0c\u7531\u4e8e\u51fd\u6570\u6700\u591a\u53ea\u8c03\u7528\u4e00\u6b21\u81ea\u5df1\uff08\u5373\u62d3\u5c55\u4e00\u6b21\uff09\uff0c\u56e0\u800c\u4f18\u5316\u7684\u610f\u4e49\u4e0d\u662f\u5f88\u5927\u3002\u4f46\u5728\u6bcf\u5c42\u62d3\u5c55\u4e24\u6b21\u53ca\u4ee5\u4e0a\u7684\u51fd\u6570\u4e2d\uff0c\u8fd8\u662f\u6bd4\u8f83\u5b9e\u7528\u7684\u3002\n\n\u7531\u4e8e\u672c\u9898\u7684\u6570\u636e\u5c0f\u4e8e\u7b49\u4e8e $2^{60}$\uff0c\u6545\u5f00\u666e\u901a\u7684\u6570\u7ec4\u5185\u5b58\u4f1a\u7206\u6389\uff0c\u56e0\u6b64\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 `map`\u3002\n\n`C/C++` \u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nmap<long long,long long>ans;//\u80fd\u5b9e\u73b0\u4efb\u610f\u4e24\u79cd\u7c7b\u578b\u4e4b\u95f4\u7684\u4e00\u4e00\u5bf9\u5e94\nint Q;\nlong long getsum(long long x)\n{\n    if(x<10)return x;\n    if(ans.count(x))return ans[x];//ans.count(id) \u8fd4\u56de id \u4e0b\u6807\u662f\u5426\u88ab\u8d4b\u503c\u8fc7\n    long long s=0;\n    while(x)\n    {\n        s+=x%10;\n        x/=10;\n    }\n    return ans[x]=getsum(s);\n}\nint main()\n{\n    scanf(\"%d\",&Q);\n    while(Q--)\n    {\n        long long l,r,s=0;\n        scanf(\"%lld%lld\",&l,&r);\n        for(long long i=l;i<=r;i++)s+=getsum(i);\n        printf(\"%lld\\n\",s);\n    }\n    return 0;\n}\n```\n\n### $\\text{Solution 3: \u7b80\u5355\u6570\u8bba\u6cd5}$\n\n\u671f\u671b\u5f97\u5206\uff1a$30 \\to 50$\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$\\mathcal O(Q \\times (r-l+1)) \\to \\mathcal O(Q)$\n\n> \u4e00\u4e2a\u6574\u6570\u6a21 $9$ \u540c\u4f59\u5b83\u7684\u5404\u6570\u4f4d\u4e4b\u548c\u3002\n\n\u5047\u8bbe\u6709\u4e00\u4e2a\u6570 $x$\uff0c\u5176\u5404\u6570\u4f4d\u4e4b\u548c\u4e3a $S_0$\uff0c\u6700\u7ec8\u7ed3\u679c\u4e3a $\\text{ans}$\u3002\n\n\u5219 $x \\equiv S_0 \\mod 9$\u3002\u8bbe\u5bf9\u4e8e $S_i$\uff08$i \\ge 0$\uff09\uff0c\u5176\u5404\u6570\u4f4d\u4e4b\u548c\u4e3a $S_{i+1}$\uff0c\u5219 $S_i \\equiv S_{i+1} \\mod 9$\u3002\u800c\u5fc5\u5b9a\u6709\u4e00\u4e2a\u6574\u6570 $i$\uff0c\u4f7f\u5f97 $S_i$ \u4e3a\u82e5\u5e72\u6b21\u64cd\u4f5c\u4e4b\u540e\u7684\u7ed3\u679c\u3002\u56e0\u6b64 $x \\equiv \\text{ans} \\bmod 9$\u3002\n\n\u56e0\u4e3a $\\text{ans} \\lt 10$\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u7ed3\u8bba\uff1a\n\n$$\n\\text{ans}=\n\\begin{cases}\n9& x \\bmod 9 = 0\\cr\nx \\bmod 9& x \\bmod 9 \\neq 0\n\\end{cases}\n$$\n\n`C/C++` \u4ee3\u7801\uff1a\n\n```cpp\n#include<stdio.h>\nint Q;\nint main()\n{\n    scanf(\"%d\",&Q);\n    while(Q--)\n    {\n        long long l,r,s=0;\n        scanf(\"%lld%lld\",&l,&r);\n        for(long long i=l;i<=r;i++)\n        {\n            if(i%9)s+=i%9;\n            else s+=9;\n        }\n        printf(\"%lld\\n\",s);\n    }\n    return 0;\n}\n```\n\n\u4f46\u662f\uff0c\u8fd9\u4efd\u4ee3\u7801\u8fd8\u662f\u53ea\u62ff\u4e86 $30$ \u5206\u3002\u8fd9\u662f\u56e0\u4e3a\uff0c\u6bcf\u6b21\u8be2\u95ee\u5982\u679c\u8303\u56f4\u5f88\u5927\uff0c\u90a3\u4e48 `for` \u5faa\u73af\u4e00\u5b9a\u4f1a\u8d85\u65f6\u3002\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u8fdb\u884c\u4f18\u5316\uff0c\u4f7f\u5f97\u6bcf\u6b21\u8be2\u95ee\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u53ef\u4ee5\u51e0\u4e4e\u964d\u81f3 $\\mathcal O(1)$\u3002\n\n\u5982\u679c $r-l \\le 9$\uff0c\u5219\u53ef\u76f4\u63a5\u8dd1\u4e00\u4e2a `for` \u5faa\u73af\u8fdb\u884c\u6c42\u89e3\uff08\u53ef\u53c2\u8003\u521a\u624d\u7684\u4ee3\u7801\uff09\u3002\n\n\u5426\u5219\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u627e\u5230\u4e00\u4e2a\u6700\u5c0f\u7684\u6574\u6570 $i$\uff0c\u4f7f\u5f97 $i$ \u4e3a $9$ \u7684\u6b63\u6574\u6570\u500d\uff0c\u4e14 $i \\ge l$\u3002\u540c\u7406\uff0c\u518d\u627e\u5230\u4e00\u4e2a\u6700\u5927\u7684\u6574\u6570 $j$\uff0c\u4f7f\u5f97 $j$ \u4e3a $9$ \u7684\u6b63\u6574\u6570\u500d\uff0c\u4e14 $j \\le r$\u3002\u6211\u4eec\u518d\u901a\u8fc7 `for` \u5faa\u73af\u5355\u72ec\u5904\u7406\u5b8c $[l,i)$ \u548c $(j,r]$ \u533a\u95f4\u4e4b\u540e\uff0c\u53ea\u9700\u8981\u5904\u7406 $[i,j]$ \u533a\u95f4\u5373\u53ef\u3002\n\n\u7531\u4e8e $i,j$ \u5747\u4e3a $9$ \u7684\u6b63\u6574\u6570\u500d\uff0c\u56e0\u6b64 $i,j$ \u4e4b\u95f4\u6709 $\\dfrac{j}{9}-\\dfrac{i}{9}+1$ \u4e2a\u6570\u662f $9$ \u7684\u6b63\u6574\u6570\u500d\uff0c\u5e76\u4e14\u6a21 $9$ \u5206\u522b\u4f59 $1 \\sim 8$ \u7684\u6570\u5404\u6709 $\\dfrac{j}{9}-\\dfrac{i}{9}$ \u4e2a\u3002\n\n\u56e0\u6b64\u603b\u548c\u4e3a\uff1a\n\n$$\\sum_{I=1}^8 I(\\dfrac{j}{9}-\\dfrac{i}{9})+9(\\dfrac{j}{9}-\\dfrac{i}{9}+1)=5j-5i+9$$\n\n\u518d\u52a0\u4e0a\u524d\u9762 `for` \u5faa\u73af\u7684\u7ed3\u679c\uff0c\u5373\u53ef\u76f4\u63a5\u8f93\u51fa\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n// C/C++\n#include<stdio.h>\nint Q;\nint main()\n{\n    scanf(\"%d\",&Q);\n    while(Q--)\n    {\n        long long l,r,s=0,i,j;\n        scanf(\"%lld%lld\",&l,&r);\n        if(r-l<=9)\n        {\n            for(i=l;i<=r;i++)\n            {\n                if(i%9)s+=i%9;\n                else s+=9;\n            }\n            printf(\"%lld\\n\",s);\n            continue;\n        }\n        for(i=l;i%9&&i<=r;i++)s+=i%9;\n        for(j=r;j%9&&i>=l;j--)s+=j%9;\n        printf(\"%lld\\n\",s+5*j-5*i+9);\n    }\n    return 0;\n}\n```\n\n```pascal\n// Pascal\nvar\n    q:integer;\n    l,r,s,id,i,j:int64;\nbegin\n    read(q);\n    for id:=1 to q do\n        begin\n            s:=0;\n            read(l,r);\n            if r-l<=9 then\n                begin\n                    for i:=l to r do\n                        begin\n                            if (i mod 9<>0) then inc(s,i mod 9)\n                            else inc(s,9);\n                        end;\n                    writeln(s);\n                    continue;\n                end;\n            for i:=l to r do\n                begin\n                    if (i mod 9=0) then break;\n                    inc(s,i mod 9);\n                end;\n            for j:=r downto l do\n                begin\n                    if (j mod 9=0) then break;\n                    inc(s,j mod 9);\n                end;\n            writeln(s+5*j-5*i+9);\n        end;\nend.\n```\n\n```python\n# Python 3\nq = int(input())\nfor idx in range(q):\n    s = 0\n    l, r = map(int, input().split())\n    i, j = l, r\n    if r - l <= 9:\n        for i in range(l, r + 1):\n            if i % 9 != 0: s += i % 9\n            else: s += 9\n        print(s)\n        continue\n    for i in range(l, r + 1):\n        if i % 9 == 0: break\n        s += i % 9\n    for j in range(r, l - 1, -1):\n        if j % 9 == 0: break\n        s += j % 9\n    print(s + 5 * j - 5 * i + 9)\n```",
        "postTime": 1598346153,
        "uid": 137367,
        "name": "hensier",
        "ccfLevel": 6,
        "title": "P7199 [COCI2019-2020#1] Trol \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u91cc\u4f60\u901a\u5e38\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P7199)\n\n\u770b\u89c1\u4e00\u9053\u7ea2\u9898\uff0c\u7b2c\u4e00\u76f4\u89c9\u2014\u2014**\u6253\u8868**\n\n![\u6253\u8868](https://cdn.luogu.com.cn/upload/image_hosting/mnapv1bo.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n\u53ef\u4ee5\u770b\u51fa\uff0c\u6bcf\u4e00\u4e2a\u6570\u88ab\u66ff\u6362\u5230\u6700\u540e\u662f$1-9$\u7684\u5faa\u73af\uff0c\u800c\u8981\u6c42\u7b2c$l$\u9879\u5230\u7b2c$r$\u9879\u7684\u548c\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u524d\u7f00\u548c\u63a8\u51fa\u662f$sum_r-sum_{l-1}$\uff08$sum_i$\u4e3a\u524d$i$\u9879\u66ff\u6362\u540e\u7684\u6570\u5b57\u7684\u548c\uff09\u3002\n\n\u6b64\u65f6\uff0c\u4ee3\u7801\u5df2\u7ecf\u6d6e\u51fa\u6c34\u9762\uff1a\n\n```cpp\n#include<bits/stdc++.h> \nusing namespace std;\nlong long sum(long long x)//\u6c42\u524dx\u9879\u7684\u548c\n{\n    return x/9*45+(x%9)*(x%9+1)/2;\n}\nint main()\n{\n    int q;\n    cin>>q;\n    long long l,r;//\u672c\u9898\u6570\u636e\u8fbe\u52302^60\uff0c\u8981\u7528long long\n    for(int i=1;i<=q;i++)\n    {\n        cin>>l>>r;\n        cout<<sum(r)-sum(l-1)<<endl;//\u6c42\u7b2cl\u9879\u5230\u7b2cr\u9879\u7684\u548c\n    }\n    return 0;\n}\n```\n",
        "postTime": 1612253092,
        "uid": 419144,
        "name": "chenjunxiu",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P7199 \u3010[COCI2019-2020#1] Trol\u3011"
    },
    {
        "content": "- ### \u7b97\u6cd51\n\u76f4\u63a5\u6a21\u62df\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6570\uff1a\n\n1. \u82e5\u8be5\u6570\u6709\u4e24\u4f4d\u4ee5\u4e0a\uff0c\u7d2f\u52a0\u6bcf\u4e2a\u6570\u5b57\uff0c\u4ee4\u548c\u4e3a$sum$\u3002\u5426\u5219\uff0c\u7d2f\u52a0\u5230\u7b54\u6848\n2. \u5bf9$sum$\u6267\u884c\u6b65\u9aa4 1\n\n\u671f\u671b\u5f97\u5206\uff1a$20pts$\n\n---\n- ### \u7b97\u6cd52\n\u8bbe\u539f\u6570\u4e3a$x$\uff0c\u901a\u8fc7\u63a8\u5bfc\u5f0f\u5b50\u5f97\u77e5\uff1a\n$$res=\\begin{cases}9\\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ x\\mod{9}=0\\\\x\\mod{9}\\ \\ \\ \\ \\ x\\mod{9}\\ne0\\end{cases}$$\n\u5176\u4e2d$res$\u4e3a\u5bf9$x$\u8fdb\u884c\u64cd\u4f5c\u7684\u7ed3\u679c\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u679a\u4e3e$(l,r)$\u4e2d\u6bcf\u4e00\u4e2a\u6570\uff0c\u901a\u8fc7\u4ee5\u4e0a\u516c\u5f0f\u5728$O(1)$\u590d\u6742\u5ea6\u4e4b\u5185\u7b97\u51fa$res$\uff0c\u7d2f\u52a0\u5230\u6700\u7ec8\u7b54\u6848\u4e2d\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(Q\\times(r-l+1))$\uff0c\u671f\u671b\u5f97\u5206\uff1a$30pts$\n\n---\n- ### \u7b97\u6cd53\n\u4e3e\u4e2a\u4f8b\u5b50\uff1a\n\n\u539f\u6570\uff1a$1\\ \\ 2\\ \\dots\\  9\\ 10\\ 11 \\dots\\ 18$\n\n\u7ed3\u679c\uff1a$1\\ \\ 2\\ \\dots\\  9\\ \\ \\ 1\\ \\ \\ 2 \\ \\dots\\ \\ 9$\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u7ed3\u679c\u662f\u6709\u5468\u671f\u7684\u3002\n\n\u56e0\u6b64\u6211\u4eec\u53ea\u9700\u8981\u7b97\u51fa\u5468\u671f\u4e2a\u6570\uff0c\u5c06\u5b83\u4e58\u4ee5$45$($1+2+\\dots+9$\uff0c\u5373\u6bcf\u4e2a\u5468\u671f\u7684\u7ed3\u679c\u4e4b\u548c)\uff0c\u5728\u52a0\u4e0a\u4e0d\u5b8c\u6574\u7684\u5468\u671f\u5c31\u597d\u4e86\u3002\n\n\u522b\u5fd8\u4e86\u5f00 long long \u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(Q)$\uff0c\u671f\u671b\u5f97\u5206\uff1a$50pts$\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nint q;\n\nint main() {\n\t\t\n\tcin>>q;\n\twhile(q--) {\n\t\tll l, r;\n\t\tcin>>l>>r;\n\t\t\n\t\tll c = (r-l+1)/9;//\u5b8c\u6574\u5468\u671f\u4e2a\u6570\n\t\tll ans = c*45; \n\t\t\n\t\tfor(ll i=l+c*9;i<=r;i++) {//\u8ba1\u7b97\u4e0d\u5b8c\u6574\u7684\u5468\u671f\n\t\t\tans += (i-1)%9+1;\t\n\t\t}\n\t\t\n\t\tcout<<ans<<endl;\n\t}\n\t\n\treturn 0;\n}\n```\n",
        "postTime": 1609763721,
        "uid": 227623,
        "name": "John_yangliwu",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P7199 \u3010[COCI2019-2020#1] Trol\u3011"
    },
    {
        "content": "### \u4e00\u3001\u76f4\u63a5\u6a21\u62df\uff0820\u5206\uff09\n\u770b\u5230\u9898\u7b2c\u4e00\u60f3\u6cd5\u5c31\u662f\u76f4\u63a5\u6a21\u62df\uff0c\u6bd5\u7adf\u53ea\u662f\u4e00\u9053\u7ea2\u9898\u3002\n\n\u6a21\u62df\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#define ll unsigned long long\nusing namespace std;\nint q;\nll l,r;\nll ans;\nll f(ll n)\n{\n\tint r;\n\tint a=0;\n\twhile(n/10!=0)\n\t{\n\t\ta=0;\n\t\twhile(n!=0)\n\t\t{\n\t\t\tr=n%10;\n\t\t\ta+=r;\n\t\t\tn/=10;\n\t\t}\n\t\tn=a;\n\t}\n\treturn n;\n}\nint main()\n{\n\tcin>>q;\n\tfor(int i=1;i<=q;i++)\n\t{\n\t\tcin>>l>>r;\n\t\tans=0;\n\t\tfor(int j=l;j<=r;j++)\n\t\t\tans+=f(j);\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n } \n```\n\u7136\u800cTLE\uff0c\u53ea\u5f97\u4e86[20\u5206](https://www.luogu.com.cn/record/44726841)\uff08\u8fd9\u4e2a\u9898\u6ee1\u5206\u662f50\u5206\uff09\u3002\n\n### \u4e8c\u3001\u6570\u8bba\n\u770b\u4e00\u4e0b\u9898\u76ee\u6807\u7b7e\uff0c\u53d1\u73b0\u662f**\u6570\u8bba**\u3002\n~~\u4e4d\u4e00\u770b\u6ca1\u770b\u51fa\u6765~~\uff0c\u4e8e\u662f**\u6253\u8868**\u627e\u89c4\u5f8b\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#define ll unsigned long long\nusing namespace std;\nll f(ll n)\n{\n\tint r;\n\tint a=0;\n\twhile(n/10!=0)\n\t{\n\t\ta=0;\n\t\twhile(n!=0)\n\t\t{\n\t\t\tr=n%10;\n\t\t\ta+=r;\n\t\t\tn/=10;\n\t\t}\n\t\tn=a;\n\t}\n\treturn n;\n}\nint main()\n{\n\tfor(int i=1;i<=100;i++)\n\t\tcout<<f(i)<<' ';\n\treturn 0;\n } \n```\n![](https://cdn.luogu.com.cn/upload/image_hosting/9tlvk1v0.png)\n\u53d1\u73b0\u6709\u89c4\u5f8b\uff0c9\u4e2a\u4e00\u5faa\u73af\uff0c\u4e8e\u662f\u51fa\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#define ll unsigned long long\nusing namespace std;\nint q;\nll l,r;\nll ans,s;\nint main()\n{\n\tcin>>q;\n\tfor(int i=1;i<=q;i++)\n\t{\n\t\tcin>>l>>r;\n\t\ts=(r-l+1)/9;//9\u4e2a\u4e00\u5faa\u73af\uff0cs\u4e3a\u603b\u5171\u7684\u6b63\u5faa\u73af\u6570\n\t\tans=s*45;//9\u4e2a\u5faa\u73af\u603b\u548c\u4e3a45\n\t\tfor(ll j=l+s*9;j<=r;j++)//\u5269\u4e0b\u7684\u4e0d\u8db3\u4e00\u4e2a\u5faa\u73af\u7684\n\t\t\tans+=(j-1)%9+1;\n\t\tcout<<ans<<endl;\n\t}\n\treturn 0;\n } \n```\n**[AC](https://www.luogu.com.cn/record/44727296)**\n\n\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\uff0c\u6c42\u7ba1\u7406\u5458\u5927\u5927\u901a\u8fc7",
        "postTime": 1610081636,
        "uid": 229957,
        "name": "Wu_while",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P7199 \u3010[COCI2019-2020#1] Trol\u3011"
    },
    {
        "content": "## \u9898\u610f\n\n[\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P7199)\n\nStjepan \u6700\u8fd1\u5728\u8428\u683c\u52d2\u5e03\u5927\u5b66\u83b7\u5f97\u4e86\u6570\u5b66\u5b66\u58eb\u5b66\u4f4d\u3002\u4ed6\u7684\u7236\u6bcd\u81ea\u7136\u800c\u7136\u5730\u4e3a\u4ed6\u611f\u5230\u9a84\u50b2\uff0c\u5e76\u51b3\u5b9a\u7ed9\u4ed6\u6240\u6709\u4e0d\u8d85\u8fc7 $2^{60}$ \u7684\u6b63\u6574\u6570\u4f5c\u4e3a\u793c\u7269\u3002\u4e3a\u4e86\u4fdd\u8bc1\u5b83\u4eec\u7684\u5b89\u5168\uff0c\u4ed6\u8fc5\u901f\u5730\u5c06\u6240\u6709\u6570\u5b58\u5165\u4e86\u4e00\u4e2a\u5e8f\u5217 $A$\uff0c\u4f7f\u5f97 $A_i$=$i$\u3002\n\n\u4e00\u4e2a\u5992\u5fcc\u4ed6\u7684\u670b\u53cb Marin \u51b3\u5b9a\u505a\u4e00\u4e2a\u6076\u4f5c\u5267\uff1a**\u4e0d\u65ad\u5730\u628a $A $\u4e2d\u7684\u6bcf\u4e2a\u5143\u7d20\u66ff\u6362\u4e3a\u5176\u6240\u6709\u6570\u4f4d\u4e4b\u548c\uff0c\u76f4\u5230\u6700\u7ec8\u53ea\u5269\u4e0b\u4e00\u4f4d\u6570\u3002**\n\n\u4f8b\u5982\uff0c\u7b2c$197$\u4e2a\u5143\u7d20\u7684\u521d\u59cb\u503c\u4e3a$197$,Marin\u5148\u5c06\u8fd9\u4e2a\u503c\u53d8\u4e3a$1$+$9$+$7$=$17$,\u7136\u540e\u518d\u4e00\u6b21\u6539\u53d8\u4e86\u5b83\uff0c\u4f7f\u5176\u53d8\u4e3a $1$+$7$=$8$.\n\nStjepan \u5bf9\u6b64\u6781\u4e3a\u9707\u60ca\uff0c\u5e76\u8bf7\u6c42 Marin \u628a\u5e8f\u5217\u53d8\u56de\u521d\u59cb\u72b6\u6001\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u5728\u4ed6\u6b63\u786e\u56de\u7b54 $Q $\u4e2a\u8be2\u95ee\u4e4b\u524d\uff0cMarin \u5e76\u4e0d\u4f1a\u5982\u6b64\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u8be2\u95ee\uff0cStjepan \u9700\u8981\u56de\u7b54$A_l$\u5230$A_r$\u7684\u603b\u548c\u3002\n\n## \u601d\u8def\n\n\u4e0a\u56fe\n![](https://cdn.luogu.com.cn/upload/image_hosting/90wrdd9h.png)\n\u53ef\u770b\u51fa\uff1a\n\n1.\u5bf9\u4e8e\u6b63\u6574\u6570$n$,\u8fd0\u7b97\u7ed3\u679c\u4e3a$n$ mod 9\uff08\u975e0\uff0c0\u4e3a9\uff09\n\n2.\u6210**1\uff0c2......9\uff0c1**\u7684\u987a\u5e8f\n\n\u516c\u5f0f\uff1a\n\n\u5934+\u4e2d\u95f4+\u5c3e\n\n\u5373\n$$\n(o1+9) * (10-o1)/2+(1+o2) * (o2)/2+(((e-b)-((10-o1)+(o2))+1)/9 * 45)\n$$\n\uff08$o1$\u6307$l$  mod 9,$o2$\u6307 $r$  mod 9,\u8be6\u89c1Code\uff09\n\n## Code\n\n### C++\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main() {\n\tlong long q;\n\tcin>>q;\n\twhile(q--) {\n\t\tlong long l,r;//\u6ce8\u610f2^60\u8981\u7528long long\n\t\tcin>>l>>r;\n\t\tint o1=l%9,o2=r%9;\n\t\tif(o1==0)o1=9;\n\t\tif(o2==0)o2=9;\n\t\tcout<<(o1+9)*(10-o1)/2+(1+o2)*(o2)/2+(((r-l)-((10-o1)+(o2))+1)/9*45)<<\"\\n\";\n\t}\n\treturn 0;\n}\n\n```\n\n### C/C++\n\n```c\n#include<stdio.h>\nint main() {\n\tint q;\n\tscanf(\"%d\",&q);\n\twhile(q--) {\n\t\tlong long l,r;//\u6ce8\u610f2^60\u8981\u7528long long\n\t\tscanf(\"%lld%lld\",&l,&r);\n\t\tint o1=l%9,o2=r%9;\n\t\tif(o1==0)o1=9;\n\t\tif(o2==0)o2=9;\n\t\tlong long n=(o1+9)*(10-o1)/2+(1+o2)*(o2)/2+(((r-l)-((10-o1)+(o2))+1)/9*45);\n\t\tprintf(\"%lld\\n\",n);\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1611146853,
        "uid": 373979,
        "name": "efgh123",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P7199 \u3010[COCI2019-2020#1] Trol\u3011"
    },
    {
        "content": "### \u9898\u610f\n\u5c06\u4e00\u4e2a $l$ \u5230 $r$ \u7684\u533a\u95f4\u4e2d\u6bcf\u4e00\u4e2a\u6570\u66ff\u6362\u4e3a\u5404\u4f4d\u4e4b\u548c\uff0c\u76f4\u5230\u66ff\u6362\u6210\u4e00\u4f4d\u6570\u3002\n\n### \u4ee5\u4e0b\u6b63\u7ecf\u9898\u89e3\uff1a\n\n\u90a3\u4e48\u95ee\u9898\u662f\uff0c\u8fd9\u4e2a\u6570\u5230\u5e95\u662f\u4e2a\u5565\n\n\u5982\u679c\u8fd9\u4e2a\u6570\u662f \n$\\overline{a_n a_{n-1} \\ldots a_1}$ \n\u8fd9\u4e2a\u6570\u7b49\u4e8e \n\n$\\quad a_n \\times 10^n + a_{n-1} \\times 10^{n-1} + \\ldots + a_1$\n\n$= a_n \\times 99 \\ldots 9 + a_{n-1} \\times 99 \\ldots 9 + \\ldots + a_n + a_{n-1} + \\ldots + a_1$\n\n\u7531\u6b64\u5f97\u51fa\uff0c\u539f\u6570\u548c\u5f97\u5230\u7684\u6570\u6a21 $9$ \u5f97\u5230\u7684\u7ed3\u679c\u76f8\u7b49\uff0c\u53c8\u56e0\u4e3a\u6700\u540e\u5f97\u5230\u7684\u662f\u4e00\u4f4d\u6570\uff0c\u6240\u4ee5\u6700\u540e\u5f97\u5230\u7684\u6570\u662f\u539f\u6570\u6a21 $9$ \n\n\u5982\u679c\u76f4\u63a5\u6a21 $9$ \u7136\u540e\u76f8\u52a0\uff0c\u90a3\u4e48\u606d\u559c\u4f60 $TLE!$\n\n\u53ea\u8981\u7b97\u51fa\u6574\u5468\u671f\u4e2a\u6570 $\\times 45$ \u518d\u52a0\u4e0a\u4e0d\u5b8c\u6574\u5468\u671f\u7684\u6570\u5c31\u53ef\u4ee5\u4e86\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint q;\nlong long l,r;\nint main(){\n\tcin >> q;\n\tfor(int i = 1;i<=q;i++){\n\t\tcin >> l >> r;\n\t\tlong long ans = (r-l+1)/9; //\u6574\u5468\u671f\u6570\n\t\tans*=45;\n\t\tfor(long long j = l;j<l+(r-l+1)%9;j++){\n\t\t\tans+=(j-1)%9+1; // \u4e0d\u5b8c\u6574\u7684\n\t\t}\n\t\tcout << ans << endl;\n\t}\n} \n```\n",
        "postTime": 1609653968,
        "uid": 275287,
        "name": "xingchenyu",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P7199 \u3010[COCI2019-2020#1] Trol\u3011"
    }
]