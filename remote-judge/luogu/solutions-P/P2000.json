[
    {
        "content": "\u6b22\u8fce\u8bbf\u95ee\u6211\u7684\u535a\u5ba2\uff1ahttps://www.cnblogs.com/luyouqi233/p/9181680.html\n\n\u770b\u5230\u8fd9\u4e48\u591a\u7684\u9650\u5236\u6761\u4ef6\uff0c\u4ee5\u53ca\u6700\u540e\u6c42\u65b9\u6848\u6570\uff0c\u5f88\u5bb9\u6613\u60f3\u5230\u751f\u6210\u51fd\u6570\u3002\n\n\u751f\u6210\u51fd\u6570\u7684\u8bb2\u89e3\u5c31\u8bf7\u767e\u5ea6\u5427\u2026\u2026\u4ee5\u53ca\u4e0b\u9762\u516c\u5f0f\u7684\u63a8\u5bfc\u4e5f\u4e0d\u518d\u9610\u8ff0\u3002\n\n\u90a3\u6211\u4eec\u5c31\u7ec6\u81f4\u5730\u5217\u4e00\u4e0b\u5427\uff0c\u4ece\u7b2c\u4e00\u6761\u9650\u5236\u5230\u7b2c\u5341\u6761\u9650\u5236\u4f9d\u6b21\u5982\u4e0b\uff1a\n\n$1+x^6+x^{12}+\\cdots=\\frac{1}{1-x^6}$\n\n$1+x+x^2+\\cdots+x^9=\\frac{1-x^{10}}{1-x}$\n\n$1+x+x^2+\\cdots+x^5=\\frac{1-x^{6}}{1-x}$\n\n$1+x^4+x^8+\\cdots=\\frac{1}{1-x^4}$\n\n$1+x+x^2+\\cdots+x^7=\\frac{1-x^{8}}{1-x}$\n\n$1+x^2+x^4+\\cdots=\\frac{1}{1-x^2}$\n\n$1+x=\\frac{1-x^{2}}{1-x}$\n\n$1+x^8+x^{16}+\\cdots=\\frac{1}{1-x^8}$\n\n$1+x^{10}+x^{20}+\\cdots=\\frac{1}{1-x^{10}}$\n\n$1+x+x^2+x^3=\\frac{1-x^{4}}{1-x}$\n\n\u63a5\u4e0b\u6765\u8981\u505a\u7684\u5c31\u662f\u628a\u5b83\u4eec\u4e58\u8d77\u6765\uff0c\u5f97\u5230$\\frac{1}{(1-x)^5}$\n\n\u5c06\u5b83\u5c55\u5f00\u6210\u751f\u6210\u51fd\u6570\uff0c\u5219\u7b2c$n$\u9879\u7cfb\u6570\uff0c\u4e5f\u5c31\u662f\u7b54\u6848\uff0c\u5373\u4e3a$C_{n+5-1}^{5-1}=C_{n+4}^4$\u9ad8\u7cbe\u5ea6\u6c42\u51fa\u5373\u53ef\u3002\n",
        "postTime": 1528941772,
        "uid": 36276,
        "name": "w36557658",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2000 \u3010\u62ef\u6551\u4e16\u754c\u3011"
    },
    {
        "content": "\u751f\u6210\u51fd\u6570\u88f8\u9898\u3002\n\n\u628a\u6240\u6709\u60c5\u51b5\u7f57\u5217\u51fa\u6765: \n\nkkk:\n\n\u91d1: $1+x^6+x^{12}+\\dots=\\frac{1}{1-x^6}$\n\n\u6728: $1+x+x^2+\\dots+x^9=\\frac{1-x^{10}}{1-x}$\n\n\u6c34\u5757: $1+x+x^2+\\dots+x^5=\\frac{1-x^6}{1-x}$\n\n\u706b: $1+x^4+x^8+\\dots=\\frac{1}{1-x^4}$\n\n\u571f: $1+x+x^2+\\dots+x^7=\\frac{1-x^8}{1-x}$\n\nlzn:\n\n\u91d1: $1+x^2+x^4+\\dots=\\frac{1}{1-x^2}$\n\n\u6728: $1+x=\\frac{1-x^2}{1-x}$\n\n\u6c34: $1+x^8+x^{16}+\\dots=\\frac{1}{1-x^8}$\n\n\u706b: $1+x^{10}+x^{20}+\\dots=\\frac{1}{1-x^{10}}$\n\n\u571f: $1+x+x^2+x^3=\\frac{1-x^4}{1-x}$\n\n\u51c9\u5fc3\u51fa\u9898\u4eba\u53cb\u597d\u7684\u5361\u4e86\u7cbe\u5ea6\u5e76\u4e14\u987a\u4fbf\u5361\u4e86pypy\u3002\u6240\u4ee5\uff0c\u4eba\u751f\u82e6\u77ed\uff0cRuby\u7528\u6211\n\n```ruby\nn = gets.to_i\nprint (n + 1) * (n + 2) * (n + 3) * (n + 4) / 24\n```",
        "postTime": 1581746212,
        "uid": 161849,
        "name": "cirnovsky",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2000 \u3010\u62ef\u6551\u4e16\u754c\u3011"
    },
    {
        "content": "\u4e00\u4e2a\u5174\u594b\u6ca1\u5173\u6587\u4ef6\u7136\u540e\u4ea4\u4e0a\u53bb WA \u4e86\u4e00\u904d...\n\n\u751f\u6210\u51fd\u6570\u7684\u677f\u5b50\u9898\uff1f\n\n\n\u6211\u4eec\u8003\u8651\u628a\u9650\u5236\u6240\u5bf9\u5e94\u7684\u591a\u9879\u5f0f\u5217\u51fa\u6765\uff0c\u7136\u540e\u76f8\u4e58\u6d88\u53bb\u5c31\u53ef\u4ee5\u5f97\u5230 $1\\over(1-x)^{5}$\uff0c\u7136\u540e\u770b\u4e00\u773c\u4e0b\u9762\u7684\u7b49\u5f0f\uff1a\n\n$${1\\over (1-x)^n}=\\sum_{i=0}^{\\infty} C_{n+i-1}^i x^i$$\n\n\n\uff08\u5173\u4e8e\u8fd9\u4e2a\u7b49\u5f0f\u6210\u7acb\u7684\u8bc1\u660e\u8bf7\u79fb\u6b65\u6211\u7684[cnblogs](https://www.cnblogs.com/Judge/p/10549495.html)\uff09\n\n\u6211\u4eec\u628a 5 \u5e26\u5165\u5f97\u5230\uff1a\n\n\n$${1\\over (1-x)^5}=\\sum_{i=0}^{\\infty} C_{i+4}^i x^i$$\n\n\n\u7136\u540e\u628a\u9898\u610f\u5e26\u8fdb\u53bb\uff0c\u5c31\u662f\u8bf4\u6211\u4eec\u8981\u6c42\u5f97 x \u7684 N \u6b21\u9879\u7cfb\u6570\n\n\u8fd9\u4e2a\u7cfb\u6570\u662f\u591a\u5c11\uff1f\u5176\u5b9e\u5c31\u662f $C_{n+4}^n={(n+4)(n+3)(n+2)(n+1)\\over4!(=24)}$\n\n\n\u90a3\u4e48\u6211\u4eec\u5df2\u7ecf\u53d1\u73b0\u7b54\u6848\u5c31\u662f $(N+1)(N+2)(N+3)(N+4)/24$\n\n\u4f46\u662f N \u7684\u6570\u636e\u8303\u56f4\u7279\u522b\u5927\u4e8e\u662f\u6211\u4eec\u53ea\u80fd\u8003\u8651\u9ad8\u7cbe\u5ea6\uff08\u8bb2\u9053\u7406\u662f\u53ef\u4ee5\u8fc7\u7684\u5427...\uff09\n\n\u6216\u8005 NTT \u52a0\u901f\u4e00\u4e0b...\u5c31\u662f n log n \u4e86\uff0c\u975e\u5e38\u53ef\u4ee5\u63a5\u53d7\n\n```cpp\n//by Judge\n#include<bits/stdc++.h>\n#define fp(i,a,b) for(int i=(a),I=(b)+1;i<I;++i)\n#define fd(i,a,b) for(int i=(a),I=(b)-1;i>I;--i)\n#define ll long long\nusing namespace std;\nconst int mod=998244353;\nconst int inv3=332748118;\nconst int M=6e5+3;\ntypedef ll arr[M];\nchar sr[1<<21],z[20];int C=-1,Z;\ninline void Ot(){fwrite(sr,1,C+1,stdout),C=-1;}\ninline void print(ll x){ if(C>1<<20)Ot();\n\twhile(z[++Z]=x%10+48,x/=10);\n    while(sr[++C]=z[Z],--Z);\n} int limit=1,n,len,len1,len2,len3,len4;\narr r,n1,n2,n3,n4,ans; char s[M];\ninline int mul(int x,int y){return 1ll*x*y%mod;}\ninline int inc(ll x,ll y){return x+y>=mod?x+y-mod:x+y;}\ninline int dec(ll x,ll y){return x-y<0?x-y+mod:x-y;}\ninline int qpow(int x,int p=mod-2){ int s=1;\n\tfor(;p;p>>=1,x=mul(x,x))\n\t\tif(p&1) s=mul(s,x); return s;\n}\ninline void NTT(ll* a,int tp){\n\tfp(i,0,limit-1) if(i<r[i]) swap(a[i],a[r[i]]);\n\tfor(int mid=1,x,y;mid<limit;mid<<=1){\n\t\tint Gn=qpow(tp?3:inv3,(mod-1)/(mid<<1));\n\t\tfor(int j=0;j<limit;j+=mid<<1)\n\t\t\tfor(int k=0,g=1;k<mid;++k,g=mul(g,Gn))\n\t\t\t\tx=a[j+k],y=mul(g,a[j+k+mid]),\n\t\t\t\ta[j+k]=inc(x,y),a[j+k+mid]=dec(x,y);\n\t} if(tp) return ; int inv=qpow(limit);\n\tfp(i,0,limit-1) a[i]=a[i]*inv%mod;\n}\ninline void Mul(ll* a,ll* b){\n\tNTT(a,1),NTT(b,1);\n\tfp(i,0,limit-1)\n\t\ta[i]=a[i]*b[i]%mod;\n\tNTT(a,0); ll tmp=0;\n\tfp(i,0,limit-1){\n\t\ta[i]+=tmp,\n\t\ttmp=a[i]/10,\n\t\ta[i]%=10;\n\t\tif(a[i]) len1=i+1;\n\t}\n}\nint main(){\n\tfreopen(\"1.in\",\"r\",stdin);\n\tscanf(\"%s\",s); ll n=strlen(s),x=1;\n\tfor(;limit<=4e5;limit<<=1) ++len;\n\tfp(i,0,limit) r[i]=r[i>>1]>>1|((i&1)<<len-1);\n\treverse(s,s+n); fp(i,0,n-1) n1[i]=s[i]-48;\n\tfp(i,0,n){ n1[i]=n1[i]+x;\n\t\tx=n1[i]/10,n1[i]%=10;\n\t\tif(n1[i]) len1=i+1;\n\t} x=1;\n\tfp(i,0,len1-1){ n2[i]=n1[i]+x;\n\t\tx=n2[i]/10,n2[i]%=10;\n\t\tif(n2[i]) len2=i+1;\n\t} x=1;\n\tfp(i,0,len2-1){ n3[i]=n2[i]+x;\n\t\tx=n3[i]/10,n3[i]%=10;\n\t\tif(n3[i]) len3=i+1;\n\t} x=1;\n\tfp(i,0,len3-1){ n4[i]=n3[i]+x;\n\t\tx=n4[i]/10,n4[i]%=10;\n\t\tif(n4[i]) len4=i+1;\n\t} x=1;\n\tMul(n1,n2),Mul(n1,n3),Mul(n1,n4);\n\tll p=0,lenn=0;\n\tfd(i,len1-1,0){\n\t\tp=p*10+n1[i],ans[i]=p/24,p%=24;\n\t\tif(ans[i]&&!lenn) lenn=i+1;\n\t}\n\tif(!lenn) lenn=1;\n\tfd(i,lenn-1,0)\n\t\tprint(ans[i]);\n\treturn Ot(),0;\n}\n```\n\n",
        "postTime": 1552917900,
        "uid": 38576,
        "name": "J\u03bcdge",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2000 \u3010\u62ef\u6551\u4e16\u754c\u3011"
    },
    {
        "content": "\u4ed4\u7ec6\u89c2\u5bdf\uff0c\u53d1\u73b0\u4e24\u4e2a\u9635\u6cd5\u6240\u7528\u7684\u77f3\u5934\u4e92\u4e0d\u76f8\u5e72\uff0c\u5373\u9898\u76ee\u53ef\u4ee5\u770b\u6210n\u5757\u77f3\u5934\u5bf910\u79cd\u77f3\u5934\u7684\u5206\u914d\u95ee\u9898\u3002\n\n\u672c\u9898\u662f\u751f\u6210\u51fd\u6570\u7684\u6a21\u578b\u9898\uff08\u611f\u8c22\u53e4\u4f2f\u7684\u53cb\u60c5\u5e2e\u52a9\u4e0d\u7136\u6211\u5230\u73b0\u5728\u8fd8\u4ee5\u4e3a\u662f\u7528\u5947\u602a\u7684\u77e9\u9635\u4e58\u6cd5\u624d\u80fd\u641e\u5b9a\uff09\n\n\u5bf910\u79cd\u77f3\u5934\u5206\u7c7b\u8ba8\u8bba\u5f97\uff1a\n\n1/(1-x^6)\\*(1-x^10)/(1-x)\\*(1-x^6)/(1-x)\u2026\u2026=1/(1-x)^5\n\n\u8f6c\u5316\u51fa\u6765\u6c42n\u5373\uff1aC(5+n-1,n)=C(4+n,4)=(n+1)(n+2)(n+3)(n+4)/24\n\n\u56e0\u4e3an\u7684length\u957f\u8fbe100000\uff0c\u4e00\u822c\u7684\u9ad8\u7cbe\u5ea6\u7edd\u5bf9\u8dd1\u4e0d\u8fc7\u53bb\uff0c\u6240\u4ee5\u8981\u7528FFT\u3002\n",
        "postTime": 1390623696,
        "uid": 1855,
        "name": "kcm1996",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2000 \u3010\u62ef\u6551\u4e16\u754c\u3011"
    },
    {
        "content": "\u5f53\u521d\u5199\u8fd9\u7bc7\u9898\u89e3\u7684\u65f6\u5019\u8fd8\u4e0d\u4f1a\u4f7f\u7528$markdown$\uff0c\u73b0\u5728\u4f1a\u4e86\u4e00\u70b9\uff0c\u6240\u4ee5$update$\u4e00\u4e0b\u3002\n\n\u8fd9\u9053\u9898\u4e3b\u8981\u9700\u8981\u4e24\u4e2a\u77e5\u8bc6\uff0c\u4e00\u4e2a\u662f\u751f\u6210\u51fd\u6570\uff0c\u4e00\u4e2a\u662f$NTT$\uff08$FFT$\u7531\u4e8e\u7cbe\u5ea6\u539f\u56e0\uff0c\u636e\u8bf4\u4e0d\u53ef\u8fc7\uff09\u3002\n\n[\u4e0d\u4f1a\u751f\u6210\u51fd\u6570\u8bf7\u70b9\u5f00\u8fd9\u91cc](https://www.cnblogs.com/RabbitHu/p/9178645.html)\n[\u4e0d\u4f1a$FFT$\u8bf7\u70b9\u5f00\u8fd9\u91cc](https://www.cnblogs.com/RabbitHu/p/FFT.html)\n\u5728\u6b64%%%\u5154\u54e5\u3002\n\n\u8fd9\u9053\u9898\u5bf9\u6bcf\u4e00\u79cd\u7269\u54c1\u6784\u9020\u751f\u6210\u51fd\u6570\uff0c \u7136\u540e\u4e58\u8d77\u6765\u5c31\u662f\uff0c$ans = (n+1)\u00d7(n+1)\u00d7(n+3)\u00d7(n+4)\\ / \\ 24$\u3002\u7531\u4e8e$n$\u8fc7\u5927\uff0c\u9700\u8981\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\uff0c\u7528\u66b4\u529b\u6734\u7d20\u7b97\u6cd5\u8fc7\u4e0d\u53bb\uff0c$Karatsuba$\u7b97\u6cd5\u5e94\u8be5\u53ef\u4ee5\uff0c\u4e0d\u8fc7\u6211\u4e0d\u4f1a\uff0c\u7528FFT\u6389\u7cbe\u5ea6\uff0c\u8fc7\u4e0d\u53bb\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u8981\u4f7f\u7528$NTT$\u4e86\uff08\u8981\u4e0d\u7136\u8fd9\u9898\u600e\u4e48\u53ef\u80fd\u9ed1\u9898\uff09\u3002\n\n\u6709\u4e86\u4ee5\u4e0a\u7684\u77e5\u8bc6\uff0c\u6211\u5c31\u5f00\u59cb\u4ecb\u7ecd$NTT$\uff08\u5feb\u901f\u6570\u8bba\u53d8\u6362\uff09\u4e86\u3002\n\n$NTT$\u53ef\u4ee5\u8bf4\u662f$FFT$\u5728\u6a21\u610f\u4e49\u4e0b\u7684\u89e3\u51b3\u529e\u6cd5\uff0c\u4f18\u70b9\u5c31\u662f\u4e0d\u4f1a\u6389\u7cbe\u3002\u6240\u4ee5\u6211\u7528\u7c7b\u6bd4\u7684\u601d\u60f3\u6765\u4ecb\u7ecd\u8fd9\u4e00\u7b97\u6cd5\u3002\n\n\u9996\u5148 $FFT$ \u5f97\u4ee5\u7cbe\u5999\u5730\u5728 $O(n log n)$ \u65f6\u95f4\u5185\u5b9e\u73b0\u591a\u9879\u5f0f\u5377\u79ef\uff0c\u6b63\u662f\u5f97\u76ca\u4e8e\u5355\u4f4d\u6839 $\u03c9$ \u7684\u56db\u6761\u6027\u8d28\n\n1. $ \u03c9_{n} ^ n = 1$;\n\n2. $\u03c9_{n} ^ 0$\u5230$\u03c9_{n} ^ {n - 1}$\u4e92\u4e0d\u76f8\u540c\uff08\u8fd9\u6837\u5b50\u8ba1\u7b97\u51fa\u6765\u70b9\u503c\u7684\u624d\u80fd\u8fd8\u539f\u56de\u53bb\uff09\n\n3. $\u03c9_{n} ^ k = \u03c9_{n} ^ {k / 2}$\uff0c $\u03c9_{n} ^ {n / 2 + k} = -\u03c9_{n} ^ k$\n\n4. $IFFT$\u7684\u65f6\u5019\u5e26\u5165$\u03c9_{n} ^ {-k}$\u53ef\u4ee5\u5f97\u5230\u539f\u7cfb\u6570\n\n\u6240\u4ee5\u6211\u4eec\u8003\u8651\u5728\u6a21\u610f\u4e49\u4e0b\u662f\u5426\u80fd\u627e\u5230\u7c7b\u4f3c\u7684\u6570\uff0c\u5728\u6b64\u9700\u8981\u77e5\u9053\u4e00\u4e2a\u53eb\u505a\u539f\u6839\u7684\u4e1c\u897f\uff0c[\u4e0d\u4f1a\u539f\u6839\u8bf7\u70b9\u5f00\u8fd9\u91cc](https://blog.csdn.net/weixin_42373330/article/details/82179051)\u3002\u5982\u679c\u6211\u4eec\u73b0\u5728\u89e3\u51b3\u4e00\u4e2a\u957f\u5ea6\u4e3a$n$\u7684\u591a\u9879\u5f0f\u7684\u5377\u79ef\uff0c\u6211\u4eec\u53d6\u4e00\u4e2a\u7d20\u6570p = $i \u00d7 2 ^ k + 1$\u5e76\u4e14\u627e\u5230\u5b83\u7684\u539f\u6839 $g$ ,\u7136\u540e\u6211\u4eec\u4ee4$g_n = g^m$\uff08$m$\u662f\u6bd4$n$\u5927\u7684\u4e14\u662f$2$\u7684\u4efb\u610f\u6b21\u65b9\u7684\u6570\uff09\uff0c\u53ef\u4ee5\u53d1\u73b0\u4ee5\u4e0b\u7ed3\u8bba(\u4ee5\u4e0b\u8bbe $x = i \u00d7 2 ^ k \\ /\\  m$\uff0c \u540c\u4f59\u90fd\u662f\u6a21$p$\u610f\u4e49\u4e0b\u7684)\u3002\n\n1. $g_{n} ^ x \u2261 1$\uff08\u6839\u636e\u8d39\u9a6c\u5c0f\u5b9a\u7406\u53ef\u77e5\uff09\uff0c \u7b2c\u4e00\u6761\u6027\u8d28\u5c31\u6ee1\u8db3\u4e86\u3002\n\n2. $g_{n} ^ 0$\u5230$g_{n} ^ {x - 1}$\u6a21\u610f\u4e49\u4e0b\u4e92\u4e0d\u76f8\u540c\uff08\u6839\u636e\u539f\u6839\u7684\u6027\u8d28\u53ef\u77e5\uff09\uff0c\u7b2c\u4e8c\u6761\u6027\u8d28\u4e5f\u6ee1\u8db3\u4e86\u3002\n\n3. \u56e0\u4e3a$g_{n} ^ x \u2261 1$\uff0c \u6240\u4ee5$g_{n} ^ {x / 2} \u2261 1 \\ or -1$\uff08\u5f00\u6839\u53f7\uff09\uff0c \u800c\u6839\u636e\u539f\u6839\u6027\u8d28\uff0c\u6240\u4ee5$g_{n} ^ {x / 2} \u2261 -1$\uff0c$g_{n} ^ {x / 2 + k}$ = $-g_{n} ^ k$\uff0c\u6240\u4ee5\u6027\u8d28\u4e09\u5f97\u5230\u6ee1\u8db3\u3002\n\n4. \u6027\u8d28\u56db\u81ea\u5df1\u624b\u7b97\u4e00\u904d\u53d1\u73b0\u8fd8\u662f\u6ee1\u8db3\u7684\uff0c\u6211\u4e0d\u4f1a\u7ebf\u6027\u4ee3\u6570\u8bc1\u660e\uff0c\u4e5f\u5c31\u4e0d\u8bb2\u4e86\u3002\n\n[\u8fd9\u91cc\u6709\u4e00\u4e9b\u6ee1\u8db3p = $i \u00d7 2 ^ k + 1$\u7684\u7d20\u6570\u53ca\u5176\u539f\u6839](http://blog.miskcoo.com/2014/07/fft-prime-table)\u3002\n\n\u597d\u4e86\uff0c\u6211\u4eec\u7ec8\u4e8e\u8bf4\u5b8c\u4e86$NTT$\uff08\u8bf4\u5f97\u8fd9\u662f\u5565\u73a9\u610f\uff09\u3002\u8fd9\u4e2a\u65f6\u5019\u4f60\u53ef\u80fd\u89c9\u5f97\u8fd9\u662f\u4e00\u4e2a\u6ca1\u6709\u5ba1\u6e05\u695a\u9898\u7684$zz$\u5728\u778e$bb$\uff0c\u8fd9\u9898\u6839\u672c\u5c31\u6ca1\u6709\u8ba9\u53d6\u6a21\uff0c\u4f60$NTT$\u4e2a\u4ec0\u4e48\u52b2\u3002\n\n\u4f46\u5176\u5b9e\u53ea\u8981\u5377\u79ef\u7684\u65f6\u5019\u6bcf\u4e00\u4f4d\u7684\u7ed3\u679c\u4e0d\u4f1a\u5927\u4e8e\u4f60\u9009\u7684\u8d28\u6570\uff0c\u5c31\u4e0d\u4f1a\u51fa\u73b0\u5f71\u54cd\u6700\u7ec8\u7b54\u6848\u7684\u53d6\u6a21\uff0c\u6240\u4ee5\u8fd9\u9053\u9898\u53ef\u4ee5\u7528$NTT$\u6765\u505a\u3002\n\n\u56e0\u4e3a\u8fd9\u9053\u9898\u7ed3\u679c\u4e0d\u7528\u53d6\u6a21\uff0c\u6240\u4ee5\u9ad8\u7cbe\u5ea6\u538b\u4f4d\u4e0d\u80fd\u538b\u592a\u591a\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u6211$de$\u4e86\u5f88\u957f\u65f6\u95f4$bug,\\ qwq$\u3002\n\n\u4ee5\u4e0b\u63d0\u4f9b\u4e00\u4efd\u4ee3\u7801\uff08\u6211\u9009\u7684\u8d28\u6570\u662f$998244353$\uff0c\u5176\u539f\u6839\u4e3a$3$\uff09\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define maxn 4000005\n#define mod 998244353\n#define Fol(i, j, n) for(register int i = j ; i >= n ; i--)\n#define For(i, j, n) for(register int i = j ; i <= n ; i++)\nint l, n = 1, l1, l2, len, flag, rev[maxn];\nll p, ans, inv, invn;\nll a[maxn], b[maxn], c[maxn], g[maxn];//\u5341\u5e74oi\u4e00\u573a\u7a7a\uff0c\u4e0d\u5f00long long\u89c1\u7956\u5b97\nchar s[maxn];\n\ninline ll quickpow(ll x, int y){\n\tll sum = 1ll;\n\tfor( ; y ; x = x * x % mod, y >>= 1) if(y & 1) sum = sum * x % mod;\n\treturn sum;\n}\n\ninline void NTT(ll *a, int ju){\n\tFor(i, 0, n - 1) if(i < rev[i]) swap(a[i], a[rev[i]]);\n\tfor(register int i = 1 ; i < n ; i <<= 1){\n\t\tll T = quickpow(ju ? 3ll : inv, (mod - 1) / i >> 1);\n\t\tfor(register int j = 0 ; j < n ; j += i << 1){\n\t\t\tll t = 1;\n\t\t\tFor(k, 0, i - 1){\n\t\t\t\tll x = t * a[i + j + k] % mod;\n\t\t\t\ta[i + j + k] = (a[j + k] - x + mod) % mod, a[j + k] = (a[j + k] + x) % mod, t = t * T % mod;\n\t\t\t}\n\t\t}\n\t}\n}\ninline void change(int x){\n\tFor(i, 0, n - 1) b[i] = g[i];\n\tb[0] += x, NTT(a, 1), NTT(b, 1);\n\tFor(i, 0, n - 1) a[i] = a[i] * b[i] % mod, b[i] = 0;\n\tNTT(a, 0);\n\tFor(i, 0, n - 1) a[i] = a[i] * invn % mod;\n\tFor(i, 0, n - 1) a[i + 1] = (a[i + 1] + a[i] / 10) % mod, a[i] %= 10;//\u4e00\u5b9a\u8981\u8fdb\u4f4d\uff0c\u8981\u4e0d\u7136\u5c31\u771f\u5bf9998244353\u53d6\u6a21\u4e86\n}\n\nint main(){\n\tscanf(\"%s\", s), len = strlen(s);\n\tFor(i, 0, len - 1) g[i] = s[len - 1 - i] - '0';\n\twhile(n <= len * 5) n <<= 1, ++l2;\n\tl = max(l1, l2), inv = quickpow(3ll, mod - 2), invn = quickpow(n, mod - 2);\n\tFor(i, 0, n - 1) rev[i] = rev[i >> 1] >> 1 | (i & 1) << l - 1;//\u8bfb\u5165n,\u5e76\u505a\u597dNTT\u7684\u51c6\u5907\u5de5\u4f5c\n\ta[0] = 1;\n\tFor(i, 0, n - 1) a[i] += g[i];\n\n\tchange(2), change(3), change(4);//\u505a\u4e09\u904d\u4e58\u6cd5\n\tFor(i, 0, n - 1) a[i + 1] = (a[i + 1] + a[i] / 10) % mod, a[i] %= 10;\n\tFol(i, n - 1, 0) a[i-1] += (a[i] % 24) * 10ll, a[i] /= 24;\n\tFol(i, n - 1, 0) if(flag || a[i]) flag = 1, printf(\"%lld\", a[i]);\n\treturn 0;\n}\n```",
        "postTime": 1577360273,
        "uid": 163980,
        "name": "\u884c\u541f\u5578\u4e5d\u5dde",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2000 \u3010 \u62ef\u6551\u4e16\u754c \u3011"
    },
    {
        "content": "\nkkk\u725b\u903c\uff01\n\n[\u672c\u849f\u84bb\u7684Blog](https://www.chnxuzhiyuan.cn/2019/10/13/%E3%80%8C%E6%B4%9B%E8%B0%B7P2000%E3%80%8D%E6%8B%AF%E6%95%91%E4%B8%96%E7%95%8C-Solution/)\n\n### \u9898\u89e3\n\n\u751f\u6210\u51fd\u6570\u88f8\u9898\u3002\n\n\u4f9d\u6b21\u6765\u770b\u53ec\u5524\u6bcf\u4e00\u4f4d\u5927\u795e\u6240\u9700\u7684\u6bcf\u79cd\u77f3\u5934\u7684\u60c5\u51b5\uff1a\n\n- \u91d1\u795e\u77f3\u7684\u5757\u6570\u5fc5\u987b\u662f6\u7684\u500d\u6570\uff1a$1+x^6+x^{12}+\\dots=\\frac{1}{1-x^6}$\n\n- \u6728\u795e\u77f3\u6700\u591a\u75289\u5757\uff1a$1+x+x^2+\\dots+x^9=\\frac{1-x^{10}}{1-x}$\n\n- \u6c34\u795e\u77f3\u6700\u591a\u75285\u5757\uff1a$1+x+x^2+\\dots+x^5=\\frac{1-x^6}{1-x}$\n\n- \u706b\u795e\u77f3\u7684\u5757\u6570\u5fc5\u987b\u662f4\u7684\u500d\u6570\uff1a$1+x^4+x^8+\\dots=\\frac{1}{1-x^4}$\n\n- \u571f\u795e\u77f3\u6700\u591a\u75287\u5757\uff1a$1+x+x^2+\\dots+x^7=\\frac{1-x^8}{1-x}$\n\n- \u91d1\u795e\u77f3\u7684\u5757\u6570\u5fc5\u987b\u662f2\u7684\u500d\u6570\uff1a$1+x^2+x^4+\\dots=\\frac{1}{1-x^2}$\n\n- \u6728\u795e\u77f3\u6700\u591a\u75281\u5757\uff1a$1+x=\\frac{1-x^2}{1-x}$\n\n- \u6c34\u795e\u77f3\u7684\u5757\u6570\u5fc5\u987b\u662f8\u7684\u500d\u6570\uff1a$1+x^8+x^{16}+\\dots=\\frac{1}{1-x^8}$\n\n- \u706b\u795e\u77f3\u7684\u5757\u6570\u5fc5\u987b\u662f10\u7684\u500d\u6570\uff1a$1+x^{10}+x^{20}+\\dots=\\frac{1}{1-x^{10}}$\n\n- \u571f\u795e\u77f3\u6700\u591a\u75283\u5757\uff1a$1+x+x^2+x^3=\\frac{1-x^4}{1-x}$\n\n\u7136\u540e\u628a\u5b83\u4eec\u5168\u90fd\u4e58\u8d77\u6765\uff0c\u5c31\u6709\uff1a\n$$\n\\frac{1}{1-x^6}\\cdot \\frac{1-x^{10}}{1-x} \\cdot \\frac{1-x^6}{1-x} \\cdot \\frac{1}{1-x^4} \\cdot \\frac{1-x^8}{1-x} \\cdot \\frac{1}{1-x^2} \\cdot \\frac{1-x^2}{1-x} \\cdot \\frac{1}{1-x^8} \\cdot \\frac{1}{1-x^{10}} \\cdot \\frac{1-x^4}{1-x}\\\\\n=(\\frac{1}{1-x})^5\n$$\n\n\u7136\u540e\u518d\u628a\u8fd9\u4e2a\u5f0f\u5b50\u5c55\u5f00\uff0c\u5c31\u662f\uff1a\n$$\n(1+x+x^2+x^3+\\dots)^5\n$$\n\u7b54\u6848\u5c31\u662f\u4e0a\u9762\u8fd9\u4e2a\u591a\u9879\u5f0f$x^n$\u9879\u524d\u9762\u7684\u7cfb\u6570\u3002\n\n\u901a\u8fc7\u9694\u677f\u6cd5\u53ef\u4ee5\u6c42\u51fa\u7b54\u6848\u4e3a$\\tbinom{n+5-1}{5-1}=\\frac{n\\cdot (n+1) \\cdot(n+2)\\cdot(n+3)}{24}$\u3002\n\n\u7531\u4e8e\u6570\u636e\u8303\u56f4\u5f88\u5927\uff0c\u6240\u4ee5\u4e0aNTT\u6765\u4f18\u5316\u9ad8\u7cbe\u5ea6\u4e58\u6cd5\u5373\u53ef\u3002\n\n### \u4ee3\u7801\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\ntypedef long long LL;\nconst int TT=998244353;\nint r[263000];char n[100005];\ninline int read()\n{\n\tint ret=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-f;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){ret=ret*10+ch-'0';ch=getchar();}\n\treturn ret*f;\n}\ninline int QP(int a,int b)\n{\n\tint ret=1,w=a;\n\twhile(b)\n\t{\n\t\tif(b&1) ret=(LL)ret*w%TT;\n\t\tw=(LL)w*w%TT;b>>=1;\n\t}\n\treturn ret;\n}\ninline void NTT(int* A,int limit,int type)\n{\n\tfor(int i=0;i<limit;i++)\n\t\tif(i<r[i])\n\t\t\tswap(A[i],A[r[i]]);\n\tfor(int mid=1;mid<limit;mid<<=1)\n\t{\n\t\tint gn=QP(3,(TT-1)/(mid<<1));\n\t\tif(type<0) gn=QP(gn,TT-2);\n\t\tfor(int j=0;j<limit;j+=mid<<1)\n\t\t{\n\t\t\tint g=1;\n\t\t\tfor(int k=0;k<mid;k++,g=(LL)g*gn%TT)\n\t\t\t{\n\t\t\t\tint x=A[j+k],y=(LL)g*A[j+k+mid]%TT;\n\t\t\t\tA[j+k]=(x+y)%TT;\n\t\t\t\tA[j+k+mid]=(x-y+TT)%TT;\n\t\t\t}\n\t\t}\n\t}\n\tif(type<0)\n\t{\n\t\tint inv=QP(limit,TT-2);\n\t\tfor(int i=0;i<=limit;i++) A[i]=(LL)A[i]*inv%TT;\n\t}\n}\nstruct BigInteger\n{\n\tint len,a[263000];\n\tBigInteger(){len=0;memset(a,0,sizeof(a));}\n\tBigInteger(char* S)\n\t{\n\t\tlen=0;memset(a,0,sizeof(a));\n\t\tint n=strlen(S+1);\n\t\treverse(S+1,S+1+n);\n\t\tlen=(n+1)/2;\n\t\tfor(int i=1;i<=n;i++) S[i]-='0';\n\t\tfor(int i=1;i<=len;i++)\n\t\t\ta[i]=S[i*2-1]+S[i*2]*10;\n\t}\n\tBigInteger operator * (BigInteger b)\n\t{\n\t\tBigInteger a=*this,c;\n\t\tc.len=a.len+b.len;\n\t\tint limit=1,l=0;\n\t\twhile(limit<=c.len){limit<<=1;l++;}\n\t\tfor(int i=0;i<limit;i++)\n\t\t\tr[i]=(r[i>>1]>>1)|((i&1)<<(l-1));\n\t\tNTT(a.a+1,limit,1);\n\t\tNTT(b.a+1,limit,1);\n\t\tfor(int i=1;i<=limit;i++)\n\t\t\tc.a[i]=(LL)a.a[i]*b.a[i]%TT;\n\t\tNTT(c.a+1,limit,-1);\n\t\tfor(int i=1;i<=c.len;i++)\n\t\t{\n\t\t\tc.a[i+1]+=c.a[i]/100;\n\t\t\tc.a[i]%=100;\n\t\t}\n\t\tif(!c.a[c.len]) c.len--;\n\t\treturn c;\n\t}\n\tvoid operator /= (int b)\n\t{\n\t\tfor(int i=len;i;i--)\n\t\t{\n\t\t\ta[i-1]+=(a[i]%b)*100;\n\t\t\ta[i]/=b;\n\t\t}\n\t\ta[0]=0;\n\t\tif(!a[len]) len--;\n\t}\n\tinline void Inc()\n\t{\n\t\ta[1]++;\n\t\tfor(int i=1;i<=len;i++)\n\t\t{\n\t\t\tif(a[i]<100) break;\n\t\t\ta[i+1]+=a[i]/100;\n\t\t\ta[i]%=100;\n\t\t}\n\t\tif(a[len+1]) len++;\n\t}\n\tvoid Print()\n\t{\n\t\tprintf(\"%d\",a[len]);\n\t\tfor(int i=len-1;i>0;i--)\n\t\t\tprintf(\"%02d\",a[i]);\n\t\tputchar('\\n');\n\t}\n}A,B,C,D,ans;\nint main()\n{\n\tscanf(\"%s\",n+1);\n\tA=n;A.Inc();\n\tB=A;B.Inc();\n\tC=B;C.Inc();\n\tD=C;C.Inc();\n\tans=A*B*C*D;\n\tans/=24;\n\tans.Print();\n\treturn 0;\n}\n```\n\n",
        "postTime": 1576548918,
        "uid": 42392,
        "name": "\u5f90\u81f4\u8fdc",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2000 \u3010\u62ef\u6551\u4e16\u754c\u3011"
    },
    {
        "content": "\u8fd8\u771f\u5c31\u6ca1\u51e0\u4e2a\u4eba\u8001\u8001\u5b9e\u5b9e\u7528C++\u3002\u3002\u3002\n\n\u597d\u7684\u62ff\u5230\u9898\u663e\u7136\u53ef\u4ee5\u5199\u51fa\u51e0\u4e2aOGF\n\nkkk\uff1a\n\n\u91d1\uff1a$A_1(x)=1+x^6+x^{12}+\\cdots$\n\n\u6728\uff1a$B_1(x)=1+x+x^2+\\cdots+x^9$\n\n\u6c34\uff1a$C_1(x)=1+x+\\cdots+x^5$\n\n\u706b\uff1a$D_1(x)=1+x^4+x^8+\\cdots$\n\n\u571f\uff1a$E_1(x)=1+x+\\cdots+x^7$\n\nlzn\uff1a\n\n\u91d1\uff1a$A_2(x)=1+x^2+x^4+\\cdots$\n\n\u6728\uff1a$B_2(x)=1+x$\n\n\u6c34\uff1a$C_2(x)=1+x^8+x^{16}+\\cdots$\n\n\u706b\uff1a$D_2(x)=1+x^{10}+x^{20}+\\cdots$\n\n\u571f\uff1a$E_2(x)=1+x+x^2$\n\n\u66b4\u529b\u5c55\u5f00\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4e00\u4e9b\u5947\u5999\u7684\u4e8b\u60c5\n\n$$A_1(x)C_1(x)=B_1(x)D_2(x)=D_1(x)E_2(x)=E_1(x)C_2(x)=A_2(x)B_2(x)=1+x+x^2+\\cdots$$\n\n\u4e8e\u662f\u6211\u4eec\u5c31\u53ef\u4ee5\u5f97\u5230\u7b54\u6848\u7684OGF\u662f\n\n$$F(x)=A_1(x)B_1(x)\\cdots E_2(x)=(1+x+x^2+\\cdots)^5$$\n\n\u5219\u6839\u636e\u5c0f\u5b66\u6392\u5217\u7ec4\u5408\u77e5\u8bc6\u53ef\u5f97\n\n$$ans=[x^n]F(x)=\\dbinom{n+4}{4}=\\frac{(n+1)(n+2)(n+3)(n+4)}{24}$$\n\n\u7136\u540e\u4f60\u4f1a\u53d1\u73b0\u51c9\u5fc3\u51fa\u9898\u4eba\u5361\u4e86\u666e\u901a\u9ad8\u7cbe\u4e58\u3002\u3002\u3002\n\n\u6ca1\u4e8b\uff0cNTT\u771f\u9999\n\n\u5565\uff1fRuby\uff1f~~\u4f60\u4e0aNOI\u8003\u573a\u7ed9\u6211\u7528\u4e2aRuby\u770b\u770b~~\n\n\u4e8e\u662f\u8fd9\u9053\u9898\u5c31\u505a\u5b8c\u4e86\n\n\u7531\u4e8e\u6211\u8c03\u4e86\u5f88\u4e45\uff0c\u6240\u4ee5\u653e\u4e00\u4e0b\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=500005*3,P=998244353,G=3;\nint n[N],ans[N],lmt=1,rev[N],t[N];\nstring s; \nvoid converts(int *a,string s){\n\tint i,len=s.size();\n\tfor(i=0;i<len;i++)a[i]=s[len-i-1]-'0';\n\tfor(;i<N;i++)a[i]=0;\n}\nvoid print(int *a){\n\tint i;\n\tfor(i=N-1;i>0;i--) if(a[i]>0) break;\n\tfor(;i>=0;i--)printf(\"%d\",a[i]);\n\tputs(\"\");\n}\ninline int qpow(int a,int k){\n\tint ret=1;\n\twhile(k){\n\t\tif(k&1)ret=1LL*ret*a%P;\n\t\ta=1LL*a*a%P;\n\t\tk>>=1;\n\t}\n\treturn ret%P;\n}\ninline void NTT(int *A,int tp){\n\tfor(int i=0;i<lmt;i++)if(i<rev[i])swap(A[i],A[rev[i]]);\n\tfor(int m=1;m<lmt;m<<=1)\n\t\tfor(int j=0,Wn=qpow(G,(P-1)/(m<<1));j<lmt;j+=m<<1)\n\t\t\tfor(int k=0,w=1,x,y;k<m;k++,w=1LL*w*Wn%P)\n\t\t\t\tx=A[j+k],y=1LL*w*A[j+k+m]%P,A[j+k]=(x+y)%P,A[j+k+m]=(x-y+P)%P;\n\tif(tp==1)return;\n\treverse(A+1,A+lmt);\n\tfor(int i=0,inv=qpow(lmt,P-2);i<=lmt;i++)A[i]=1LL*A[i]*inv%P;\n}\nvoid div(int *a,int n){\n\tfor(int i=N-1,c=0;i>=0;i--)c=c%n*10+a[i],a[i]=c/n;\n}\nvoid add(int *a){\n\ta[0]++;\n\tfor(int i=1;i<N&&a[i-1]/10>0;i++)a[i]+=a[i-1]/10,a[i-1]%=10;\n}\nint main(){\n\tcin>>s;converts(n,s);\n\tint l=0;\n\twhile(lmt<s.size()*5)lmt<<=1,l++;\n\tfor(int i=1;i<lmt;i++)rev[i]=(rev[i>>1]>>1)|(i&1)<<(l-1);\n\tadd(n),memcpy(ans,n,sizeof(n)),NTT(ans,1);\n\tadd(n),memcpy(t,n,sizeof(n)),NTT(t,1);\n\tfor(int i=0;i<lmt;i++)ans[i]=1LL*ans[i]*t[i]%P;\n\tNTT(ans,-1);\n\tfor(int i=0;i<N-1;i++)ans[i+1]+=ans[i]/10,ans[i]%=10;\n\tNTT(ans,1);\n\tadd(n),memcpy(t,n,sizeof(n)),NTT(t,1);\n\tfor(int i=0;i<lmt;i++)ans[i]=1LL*ans[i]*t[i]%P;\n\tNTT(ans,-1);\n\tfor(int i=0;i<N-1;i++)ans[i+1]+=ans[i]/10,ans[i]%=10;\n\tNTT(ans,1);\n\tadd(n),memcpy(t,n,sizeof(n)),NTT(t,1);\n\tfor(int i=0;i<lmt;i++)ans[i]=1LL*ans[i]*t[i]%P;\n\tNTT(ans,-1);\n\tfor(int i=0;i<N-1;i++)ans[i+1]+=ans[i]/10,ans[i]%=10;\n\tdiv(ans,24);\n\tprint(ans);\n\treturn 0;\n}\n```\n\n\u6ce8\u610f\u6bcf\u4e58\u4e00\u6b21\u90fd\u8981\u8fdb\u4e00\u6b21\u4f4d\uff0c\u5426\u5219\u4f1aWA\uff0c\u611f\u8c22@[xiaolilsq](/user/230249)\u795e\u4ed9",
        "postTime": 1592105955,
        "uid": 121027,
        "name": "Spasmodic",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2000 \u3010\u62ef\u6551\u4e16\u754c\u3011"
    },
    {
        "content": "\u8c03\u8fd9\u4e2a\u9898\u60f3\u6253\u4eba\u771f\u7684\n\n\u9996\u5148\u751f\u6210\u51fd\u6570\u53ef\u4ee5\u7b97\u51fa\u5f0f\u5b50$(n+1)(n+2)(n+3)(n+4)/24$\n\n\u751f\u6210\u51fd\u6570\u600e\u4e48\u7528\u5c31\u53bb\u770b\u5176\u4ed6dalao\u7684\u9898\u89e3\u5427\uff08\u7a9d\u624d\u4e0d\u4f1a\u8bf4\u6211\u4e0d\u4f1a\u751f\u6210\u51fd\u6570\u5462\n\n\u7136\u540e\u5c31\u662f\u8fd9\u4e2a\u9898\u6700\u5927\u7684\u5751\u70b9\u2014\u2014\u9ad8\u7cbe\u5ea6\u8ba1\u7b97\n\n\u9996\u5148\u9ad8\u7cbe+\u5355\u7cbe\u548c\u9ad8\u7cbe\u00f7\u5355\u7cbe\u663e\u7136\u90fd\u4f1a\n\n\u6734\u7d20\u7684\u9ad8\u7cbe\u4e58\u662f$O(N^2)$\u7684\uff0c\u4e0d\u8db3\u4ee5\u901a\u8fc7\u6b64\u9898\n\n\u600e\u4e48\u505a\u8bf7\u770b[\u8fd9\u91cc](https://www.luogu.org/problemnew/show/P1919)\n\n\u4f46\u662f\uff01\u4f46\u662f\uff01\u4f46\u662f\uff01\n\n\u4e27\u5fc3\u75c5\u72c2\u7684\u51fa\u9898\u4eba\u5361\u4e86\u7cbe\u5ea6\n\n\u6240\u4ee5\u53ea\u80fd\u5199NTT\u4e86(\u6211\u8c03\u4e86\u4e00\u4e2a\u4e0a\u5348\u7684FFT\u554ammp)\n\n\u7d20\u6570\u53d6998244353\u5373\u53ef\uff0c\u5f53\u7136\u66f4\u5927(\u6bd4\u5982\u8d85int)\u7684\u8bdd\u53ef\u80fd\u6709\u60ca\u559c\uff08\u96fe\n\n\u6253\u8868\u5904\u7406$w_n$\n\n\u7136\u540e\u8fd8\u6709\u4e00\u4e9b\u7384\u5b66\u64cd\u4f5c\n\n\u6bd4\u5982\u8bf4\u53ef\u4ee5\u538b\u4f4d\n\nNTT\u600e\u4e48\u80fd\u538b\u4f4d\u5462\uff1f\n\n\u53ef\u4ee5\uff0c\u4f46\u662f\u53ea\u80fd\u538b\u4e24\u4f4d(99*99*1e5=980100000<998244353)\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u63d0\u9ad8\u4e24\u500d\u6548\u7387\u8fa3\n\n\u8fd8\u6709\u5176\u4ed6\u4e00\u4e9b\u5947\u6280\u6deb\u5de7\u6211\u4e5f\u4e0d\u662f\u5f88\u6e05\u695a\u4e86qwq\u53ef\u80fd\u6bdb\u7237\u7237\u7684\u9ed1\u79d1\u6280\u80fd\u7528\u5427\u6211\u4e5f\u4e0d\u6e05\u695a\n\n\u6b64\u5916\u4e0d\u5efa\u8bae\u5199BigNum\u56e0\u4e3a\u771f\u5fc3\u4e0d\u597d\u8c03qwq\n\n\u653e\u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\nusing namespace std;\nchar st[200000];\nlong long r[1000000];\nconst long double PI=3.141592653589793238462643383;\nconst long long mod=998244353;\nconst long long BASE=100;\nstruct comp\n{\n    double x,y;\n    comp operator +(const comp &a)const{return (comp){x+a.x,y+a.y};}\n    comp operator -(const comp &a)const{return (comp){x-a.x,y-a.y};}\n    comp operator *(const comp &a)const{return (comp){x*a.x-y*a.y,x*a.y+y*a.x};}\n};\nlong long aa[1000000]={0},bb[1000000]={0};\nint la,lans,powg[1000000],powgi[1000000];\nlong long a[1000000],ans[1000000];\nlong long qpower(long long a,long long b,long long m)\n{\n    long long ans=1;\n    while(b)\n    {\n        if(b&1)ans=ans*a%m;\n        a=a*a%m;\n        b>>=1;\n    } \n    return ans;\n}\nvoid make()\n{\n    int g=3,gi=(mod+1)/3;\n    for(int i=1;i<1<<20;i<<=1)powg[i]=qpower(g,(mod-1)/i,mod),powgi[i]=qpower(gi,(mod-1)/i,mod);\n} \nvoid fft(long long a[],int l,int f)\n{\n    for(int i=0;i<l;i++)if(i<r[i])swap(a[i],a[r[i]]);\n    for(int i=1;i<l;i<<=1)\n    {\n        long long wn=f==1?powg[i<<1]:powgi[i<<1];\n        for(int j=0,t=i<<1;j<l;j+=t)\n        {\n            long long w=1;\n            for(int k=0;k<i;k++,w=w*wn%mod)\n            {\n                int x=a[j+k],y=w*a[i+j+k]%mod;\n                a[j+k]=(x+y)%mod,a[i+j+k]=(x-y+mod)%mod;\n            }\n        }\n    }\n}\nvoid inc(long long a[],int &la)\n{\n    a[0]++;\n    for(int i=0;i<=la;i++)\n        if(a[i]>=BASE)a[i+1]++,a[i]-=BASE;\n        else break;\n    if(a[la+1])la++;\n}\nvoid mul(long long a[],long long b[],int &la,int lb)\n{\n    int m=la+lb,n=1,l=0;\n    while(n<=m)l++,n<<=1;\n    for(int i=0;i<=la;i++)aa[i]=a[i];\n    for(int i=0;i<=lb;i++)bb[i]=b[i];\n    r[0]=0;for(int i=1;i<n;i++)r[i]=(r[i>>1]>>1)|((i&1)<<l-1);\n    for(int i=la+1;i<n;i++)aa[i]=0;\n    for(int i=lb+1;i<n;i++)bb[i]=0;\n    fft(aa,n,1),fft(bb,n,1);\n    for(int i=0;i<n;i++)aa[i]=aa[i]*bb[i]%mod;\n    fft(aa,n,-1);\n    m+=2;\n    int invn=qpower(n,mod-2,mod);\n    for(int i=0;i<=m;i++)r[i]=aa[i]*invn%mod;\n    for(int i=m+1;i<n;i++)r[i]=0;\n    for(int i=0;i<=m;i++)r[i+1]+=r[i]/BASE,r[i]%=BASE;\n    while(r[m]>=BASE)r[m+1]+=r[m]/BASE,r[m++]%=BASE;\n    while(!r[m]&&m>0)m--;\n    for(int i=0;i<=m;i++)a[i]=r[i];\n    la=m;\n}\nvoid rem(long long a[],int &la,int b)\n{\n    int x=0;\n    while(x<b&&la>=0)x=x*BASE+a[la--];\n    for(int i=la++;i>=0;i--)\n    {\n        a[i+1]=x/b,x%=b;\n        x=x*BASE+a[i];\n    }\n    a[0]=x/b;\n}\nint wt[30];\nvoid putout(int x)\n{\n    int l=0;\n    while(x)wt[++l]=x%10,x/=10;\n    for(int i=1;i<=2-l;i++)putchar('0');\n    while(l)putchar(wt[l--]+48);\n}\nvoid print(long long a[],int len)\n{\n    printf(\"%lld\",a[len]);\n    for(int i=len-1;i>=0;i--)putout(a[i]);\n    putchar(10);\n}\nint main()\n{\n    scanf(\"%s\",st);\n    la=strlen(st)-1;\n    for(int i=0;i<=la;i++)ans[i]=st[la-i]-48;\n    for(int i=0;i<=la;i++)\n        for(int j=min(1,la-(i<<1));j>=0;j--)\n            a[i]=a[i]*10+ans[(i<<1)+j];\n    la>>=1;\n    for(int i=0;i<=la;i++)ans[i]=0;\n    ans[0]=1,lans=0;\n    make();\n    for(int i=1;i<=4;i++)\n    {\n        inc(a,la);\n        mul(ans,a,lans,la);\n    }\n    rem(ans,lans,24);\n    print(ans,lans);\n}\n```\n\u8fd8\u662f\u633a\u5feb\u7684\u5f00O2\u53ea\u67091400ms",
        "postTime": 1533712613,
        "uid": 22136,
        "name": "qwaszx",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P2000 \u3010\u62ef\u6551\u4e16\u754c\u3011"
    },
    {
        "content": "[\u66f4\u597d\u4f53\u9a8c](https://www.cnblogs.com/caijiLYC/p/14339762.html)\n\u6628\u5929\u83c7\u83c7\u5b66\u957f\u7206\u8bb2\u4e86\u4e00\u6ce2\u751f\u6210\u51fd\u6570~~\u7136\u540e\u5565\u4e5f\u6ca1\u542c\u61c2~~  \n\u4eca\u5929\u4e00\u770b\u8fd9\u9053\u9898~~\u7684\u9898\u89e3~~\uff0c\u7ec8\u4e8e\u77e5\u9053\u5b66\u957f\u5728\u8bb2\u4ec0\u4e48\u4e86  \n\u524d\u7f6e\u829d\u58eb\uff0c~~\u56db\u5219\u8fd0\u7b97~~\uff0c\u591a\u9879\u5f0f\uff0c\u666e\u901a\u751f\u6210\u51fd\u6570(\u4e86\u89e3)  \n\u9996\u5148\u5b9a\u4e49\u4e00\u4e9b\u4e1c\u897f\uff1a  \n$\\mathcal{A}$\u8868\u793a\u4e00\u4e2a\u7ec4\u5408\u7c7b  \n$A$\u8868\u793a$\\mathcal{A}$\u8868\u793a\u8be5\u7ec4\u5408\u7c7b\u7684\u751f\u6210\u51fd\u6570\uff0c$A(x)=\\sum{A_i*x^i}$(\u7cfb\u6570\u4e3a\u6392\u5217\u6570(\u4e0d\u662f\u6307\u6392\u5217\u6570\uff0c\u8981\u6839\u636e\u9898\u610f\u8f6c\u5316))  \n\u8fd9\u4ec0\u4e48\u610f\u601d\u5462\uff0c\u4e3e\u4e2a\u4f8b\u5b50\u201c\u6211\u73b0\u5728\u6709\u4e00\u4e2a\u5927\u5934\uff0c\u4e24\u4e2a\u871c\u8702\uff0c\u6211\u60f3\u7ec4\u5408\u51fa\u4e00\u4e2a\u5927\u5934\u871c\u8702\u201d\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a\u7ecf\u5178\u4e58\u6cd5\u539f\u7406\u7684\u5e94\u7528  \n\u8fd9\u91cc\u201c\u5927\u5934\u201d\uff0c\u548c\u201c\u871c\u8702\u201d\u90fd\u662f\u7ec4\u5408\u7c7b\uff0c\u6839\u636e\u751f\u6210\u51fd\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u4ed6\u4eec\u201c\u751f\u6210\u201d\u4e00\u4e2a\u51fd\u6570  \n\u7531\u4e8e\u7384\u5b66\uff0c\u4ed6\u4eec\u4e5f\u6ee1\u8db3\u4e58\u6cd5\u539f\u7406(\u6216\u8005\u8bf4\u7b1b\u5361\u5c14\u79ef)\uff0c\u4e8e\u662f\u4e58\u8d77\u6765(\u4e3a\u4f55\u5982\u6b64\u8349\u7387\uff01)  \n\u6839\u636e\u9898\u610f\u6211\u4eec\u5217\u5341\u4e2a\u51fd\u6570\uff08\u4e3a\u4e86\u597d\u770b\u597d\u7406\u89e3\u4e0d\u7528$\\sum$\u4e86\uff09\n$$1+x^6+x^{12}+x^{18}+\u2026\u2026=\\frac{1}{1-x^6}$$\n$$1+x+x^2+\u2026\u2026+x^9=\\frac{1-x^{10}}{1-x}$$\n$$1+x+\u2026\u2026+x^5=\\frac{1-x^6}{1-x}$$\n$$1+x^4+x^8+x^{12}+\u2026\u2026=\\frac{1}{1-x^4}$$\n$$1+x+\u2026\u2026+x^7=\\frac{1-x^8}{1-x}$$\n$$1+x^2+x^4+x^6+\u2026\u2026=\\frac{1}{1-x^2}$$\n$$x^0=1$$\n$$1+x^8+x^{16}+x^{24}+x^{32}+x^{40}=\\frac{1}{1-x^8}$$\n$$1+x^{10}+x^{20}+x^{30}+x^{40}=\\frac{1}{1-x^{10}}$$\n$$1+x+x^2+x^3=\\frac{1-x^4}{1-x}$$\n\u7528\u4e58\u6cd5\u539f\u7406\u4e58\u8d77\u6765\u5c31\u662f$C_{4+n}^{4}$  \n\u4ec0\u4e48\uff0c\u4f60\u8ba9\u6211\u7528$FFT$\uff1f  \n\u6211\u4eec\u8fd8\u662f$ruby$\u5427\n```\nn=gets.to_i\nprint (n + 1)*(n + 2)*(n + 3)*(n + 4)/24\n```",
        "postTime": 1611816396,
        "uid": 251882,
        "name": "\u849f\u84bb\u4e01",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2000 \u3010\u62ef\u6551\u4e16\u754c\u3011"
    },
    {
        "content": "\u601d\u8def\u9898\u89e3\u90fd\u8bf4\u7684\u5f88\u6e05\u695a\u4e86\n\n\u81f3\u591a\u4e3a$k$\u5c31\u662f$\\frac{1-x^{k+1}}{1-x}$\n\n$k$\u7684\u500d\u6570\u5c31\u662f$\\frac{1}{1-x^k}$\n\n\u5316\u7b80\u5b8c\u4e86\u5c31\u53ea\u5269\u4e0b\u4e00\u4e2a$\\frac{1}{(1-x)^5}$\n\n\u8fd9\u4e2a\u4e1c\u897f\u53ef\u4ee5\u76f4\u63a5\u5e7f\u4e49\u4e8c\u9879\u5f0f\u5b9a\u7406\u5c55\u5f00\uff0c\u4e5f\u5c31\u662f\u8fd9\u4e2a\u5f0f\u5b50\n\n$$\\frac{1}{(1-x)^n} = \\sum_{k=0}^{\\infty} C_{n+k-1}^{k-1}x^k$$\n\n\u7136\u9e45\u4e00\u5f00\u59cb\u6211\u5e76\u4e0d\u77e5\u9053\u8fd9\u4e2a\u4e1c\u897f\u3002\n\n\u4e8e\u662f\u5c31\u7528\u6700\u539f\u59cb\u7684\u65b9\u6cd5\u6c42, \u6211\u4eec\u60f3\u8ba9\u5206\u6bcd\u7684\u6307\u6570\u51fa\u73b0$5$\uff0c\u6700\u4fbf\u6377\u7684\u65b9\u6cd5\u5c31\u662f\u6c42\u5bfc\uff0c\u90a3\u4e48\u53ea\u8981\u5bf9$\\frac{1}{1-x}$\u6c42\u56db\u6b21\u5bfc\u5c31\u53ef\u4ee5\u641e\u51fa$\\frac{1}{(1-x)^5}$\u5566\n\n\u6700\u540e\u7684\u7b54\u6848\u4e5f\u662f$(N+1)(N+2)(N+3)(N+4) / 24$\n\n```python\nN = int(input())\nprint(int((N + 1) * (N + 2) * (N + 3) * (N + 4) / 24))\n```",
        "postTime": 1552307042,
        "uid": 36984,
        "name": "attack",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2000 \u3010\u62ef\u6551\u4e16\u754c\u3011"
    }
]