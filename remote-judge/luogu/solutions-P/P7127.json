[
    {
        "content": "$$\\texttt{\u300cRdOI R1\u300d\u4e00\u6b21\u51fd\u6570(function) \u5b98\u65b9\u9898\u89e3}$$\n\n\u8fd9\u91cc\u4e3a\u4e86\u65b9\u4fbf\uff0c\u62df\u4e86\u4e00\u4e2a $l_1,l_2$\uff0c\u4ec5\u4e3a\u53c2\u8003\uff0c\u9634\u5f71\u90e8\u5206\u8868\u793a\u7684\u5c31\u662f\u8981\u6c42\u7684\u4e09\u89d2\u5f62\u7684\u9762\u79ef\u3002\n\n[![DEdMJe.png](https://s3.ax1x.com/2020/11/16/DEdMJe.png)](https://imgchr.com/i/DEdMJe)\n\n\u5bf9\u4e8e\u76f4\u7ebf $l_1,l_2$\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee4 $y = 0$\uff0c\u5219\uff1a\n\n\u5bf9\u4e8e $l_1$\uff1a\n\n$$kx+k-1=0$$\n\n$$kx=1-k$$\n\n$$x=\\dfrac{1-k}{k}$$\n\n---\n\n\u5bf9\u4e8e $l_2$\uff1a\n\n$$(k+1)x+k=0$$\n\n$$(k+1)x=-k$$\n\n$$x=-\\dfrac{k}{k+1}$$\n\n\u5219\uff0c\u56fe\u50cf\u4e2d\u4e09\u89d2\u5f62\u7684\u5e95\u4e3a\n\n$\\because \\dfrac{1-k}{k}>-\\dfrac{k}{k+1}$\n\n$\\therefore \\dfrac{1-k}{k}-(-\\dfrac{k}{k+1})=\\dfrac{1}{k(k+1)}$\n\n---\n\n\u56e0\u6b64\u6211\u4eec\u73b0\u5728\u5f97\u5230\u4e00\u4e2a\u65b9\u7a0b\u7ec4\uff1a\n\n$$\\begin{cases}y=kx+k-1\\\\y=(k+1)x+k\\end{cases}$$\n\n\u5219\uff0c\n\n$$kx+k-1=(k+1)x+k$$\n\n$$kx+k-1=kx+x+k$$\n\n$$x=-1$$\n\n\u5f53 $x=-1$ \u65f6\uff0c$y=-1$\u3002\n\n\u5219\uff1a$| -1 | = 1$\u3002\n\n\u5219\uff1a\u56fe\u50cf\u4e2d\u4e09\u89d2\u5f62\u7684\u9ad8\u4e3a $1$\u3002\n\n---\n\n\u56e0\u6b64\u6211\u4eec\u5217\u51fa\u4e00\u4e2a\u65b9\u7a0b\uff1a\n\n$S_1+S_2+S_3+\\cdots+S_n$\n\n$=\\dfrac{1}{2} \\times 1 \\times(\\dfrac{1}{1 \\times (1+1)}+\\dfrac{1}{2 \\times (2+1)}+ \\cdots +\\dfrac{1}{n\\times(n+1)})$\n\n\u88c2\u9879\u540e\uff0c\u5f97\uff1a\n\n$=\\dfrac{1}{2} \\times 1 \\times(1-\\dfrac{1}{n+1})$\n\n$=\\dfrac{1}{2} \\times \\dfrac{n}{n+1}$\n\n$=\\dfrac{n}{2(n+1)}$\n\n---\n\n\u5b98\u65b9std\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n\tint t;\n\tscanf(\"%d\", &t);\n\twhile(t--){\n\t\tint n;\n\t\tscanf(\"%d\", &n);\n\t\tif(n==0) puts(\"0\");\n\t\telse{\n\t\t    int a=n;\n\t\t    int b=(n+1)*2;\n\t\t    int tmp=__gcd(a,b);\n            printf(\"%d/%d\\n\", a/tmp, b/tmp);\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1606404961,
        "uid": 326382,
        "name": "Thomas_Cat",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P7127\u3010\u300cRdOI R1\u300d\u4e00\u6b21\u51fd\u6570(function)\u3011"
    },
    {
        "content": "\u672c\u9898\u662f\u4e00\u9053\u7eaf\u4ee3\u6570\u9898 [P7127](https://www.luogu.com.cn/problem/P7127) \uff0c\u89e3\u6cd5\u5982\u4e0b\u3002  \n\u5148\u6c42\u51fa $ l_{k1} $ \u4e0e $ l_{k2} $ \u7684\u4ea4\u70b9:  \n$ \\quad kx+k-1=(k+1)x+k $  \n$ \\quad x=-1 $  \n$ \\quad y=-1 $  \n\u518d\u6c42\u51fa $ l_{k1} $ \u4e0e $ x $ \u8f74\u7684\u4ea4\u70b9:  \n$ \\quad kx+k-1=0 $  \n$ \\quad x=\\frac{1-k}{k} $  \n$ \\quad y=0 $  \n\u518d\u6c42\u51fa $ l_{k2} $ \u4e0e $ x $ \u8f74\u7684\u4ea4\u70b9:  \n$ \\quad (k+1)x+k=0 $  \n$ \\quad x=\\frac{-k}{k+1} $  \n$ \\quad y=0 $  \n\u90a3\u4e48\uff1a  \n$ S_k=\\dfrac{1*\\vert{\\frac{1-k}{k}-\\frac{-k}{k+1}}\\vert}{2} $  \n$ \\quad =\\dfrac{1}{2k(k+1)} $ \n\n$ \\sum_{i=1}^{n}S_k=\\frac{1}{2}(\\frac{1}{1\\cdot2}+\\frac{1}{2\\cdot3}+\\frac{1}{3\\cdot4}+...+\\frac{1}{k\\cdot(k+1)}) $  \n$ \\quad =\\dfrac{k}{2(k+1)} $  \n\n\u6240\u4ee5\u53ea\u9700\u8981\u8f93\u51fa $ \\dfrac{k}{2(k+1)} $ \u5c31\u53ef\u4ee5\u4e86\u3002\u6ce8\u610f\u5316\u7b80\u3002  \n\u8d34\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint t,n;\nint main()\n{\n\tcin>>t;\n\tfor(int i=1;i<=t;i++)\n\t{\n\t\tscanf(\"%d\",&n);\n\t\tif(n<1)printf(\"%d\\n\",0);\n\t\telse printf(\"%d/%d\\n\",(n/__gcd(n,2)),(2*(n+1)/__gcd(n,2)));\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1636004325,
        "uid": 340819,
        "name": "cwfxlh",
        "ccfLevel": 5,
        "title": "P7127"
    },
    {
        "content": "\u8fd9\u662f\u4f01\u9e45\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\uff0c\u7531\u4e8e\u8fd9\u9053\u9898\u662f\u6211\u5728\u6d1b\u8c37\u7b2c\u4e00\u6b21\u53c2\u52a0\u7684[\u6bd4\u8d5b](https://www.luogu.com.cn/contest/38025)\u7684\u9898A\uff0c\u5f53\u65f6\u6210\u529fAC\uff0c\u53ef\u8c13\u5f00\u95e8\u7ea2\uff0c\u800c\u78b0\u5de7\u6b64\u65f6\u6b64\u9898\u9898\u89e3\u533a\u5f00\u653e\uff0c\u6240\u4ee5\u4f01\u9e45\u5199\u4e0b\u4e86\u8fd9\u7bc7\u9898\u89e3\u3002  \n\n\u9898\u76ee\u4f20\u9001>>[P7127](https://www.luogu.com.cn/problem/P7127)\u3002  \n### \u9898\u610f\u7b80\u8ff0  \n- $S_k$\u4e3a\u76f4\u7ebf$l_{k1}:y=kx+k-1$\uff0c$l_{k2}:y=(k+1)x+k$\u4e0e$x$\u8f74\u56f4\u6210\u7684\u4e09\u89d2\u5f62\u7684\u9762\u79ef\uff1b  \n- \u7ed9\u5b9a$t$\u7ec4$n$,\u6c42$\\sum_{i=1}^{n}{S_i}$\uff1b  \n- \u82e5$n<1$\uff0c\u5219\u548c\u5f0f\u503c\u4e3a0\u3002  \n- \u7ed3\u679c\u53ef\u80fd\u662f\u5206\u6570\uff0c\u9700\u7ea6\u5206\u81f3\u6700\u7b80\u5206\u6570\uff0c\u4f7f\u7528$x/x$\u8868\u793a\u3002\n### \u9898\u76ee\u5206\u6790  \n#### \u601d\u8def\uff1a  \n\u5229\u7528\u4e00\u6b21\u51fd\u6570\u56fe\u8c61\u4e0a\u7684\u70b9\u7684\u5750\u6807\u7279\u5f81\u53ef\u6c42\u51fa\u76f4\u7ebf$l_1$\u3001$l_2$\u4e0e$x$\u8f74\u7684\u4ea4\u70b9\u5750\u6807\uff0c\u8054\u7acb\u4e24\u51fd\u6570\u89e3\u6790\u5f0f\u6210\u65b9\u7a0b\u7ec4\uff0c\u901a\u8fc7\u89e3\u65b9\u7a0b\u7ec4\u53ef\u6c42\u51fa\u4e24\u76f4\u7ebf\u7684\u4ea4\u70b9\u5750\u6807\uff0c\u5229\u7528\u4e09\u89d2\u5f62\u9762\u79ef\u516c\u5f0f\u53ef\u5f97$S_k$\uff0c\u5c06\u5176\u4ee3\u5165$S_1+S_2+S_3+...+S_n$\u3002  \n#### \u89e3\u6790\uff1a  \n![JieXi](https://cdn.luogu.com.cn/upload/image_hosting/s5slqse6.png)  \n\u4ee4$y=0$\uff1a  \n$l_1:$  \n$$kx+k-1=0$$\n$$kx=1-k$$\n$$x=\\frac{1-k}{k}$$  \n$l_2:$\n$$(k+1)x+k=0$$\n$$(k+1)x=-k$$\n$$x=-\\frac{k}{k+1}$$\n\u6240\u4ee5\u76f4\u7ebf$l_1$\u4e0e$x$\u8f74\u7684\u4ea4\u70b9\u5750\u6807\u4e3a$(\\frac{1-k}{k},0)$\uff0c\u76f4\u7ebf$l_2$\u4e0e$x$\u8f74\u7684\u4ea4\u70b9\u5750\u6807\u4e3a$(-\\frac{k}{k+1},0)$\u3002  \n\u8054\u7acb\u4e24\u76f4\u7ebf\u89e3\u6790\u5f0f\u6210\u65b9\u7a0b\u7ec4\uff0c  \n$$\\begin{cases}y=kx+k-1\\\\y=(k+1)x+k\\end{cases}$$  \n\u89e3\u5f97  \n$$\\begin{cases}x=-1\\\\y=-1\\end{cases}$$  \n$\u2234$\u4e24\u76f4\u7ebf\u7684\u4ea4\u70b9\u4e3a$(-1,-1)$\u3002   \n\n$\u2234$ \n$S_k$  \n$=\\frac{1}{2}\u00d7|-\\frac{k}{k+1}-\\frac{1-k}{k}|\u00d7|-1|$  \n$=\\frac{1}{2k(k+1)}$  \n$=\\frac{1}{2}(\\frac{1}{k}-\\frac{1}{k+1})$     \n\n$\u2234\\sum_{i=1}^{n}{S_i}$  \n$=\\frac{1}{2}\u00d7(1-\\frac{1}{2})+\\frac{1}{2}\u00d7(\\frac{1}{2}-\\frac{1}{3})+\\frac{1}{2}\u00d7(\\frac{1}{3}-\\frac{1}{4})+...\\frac{1}{2}\u00d7(\\frac{1}{n}-\\frac{1}{n+1})$  \n$=\\frac{1}{2}\u00d7(1-\\frac{1}{2}+\\frac{1}{2}-\\frac{1}{3}+\\frac{1}{3}-\\frac{1}{4}+...+\\frac{1}{n}-\\frac{1}{n+1})$  \n$=\\frac{1}{2}\u00d7(1-\\frac{1}{n+1})$  \n$=\\frac{1}{2}\u00d7\\frac{n}{n+1}$  \n$=\\frac{n}{2n+2}$  \n  \n  $Code\uff1a$  \n```cpp\n#include<iostream>\nusing namespace std;\n#define endl '\\n'//\u5229\u7528\u5b8f\u5b9a\u4e49\u52a0\u901f endl\u6362\u884c \nint n[2000001];//\u5f00\u6570\u7ec4\u5b58\u6bcf\u6b21\u8f93\u5165\u7684n\u3002\u5f53\u7136\u4e5f\u53ef\u4ee5\u4e0d\u5f00\uff0c\u4e00\u8fb9\u8f93\u5165\u4e00\u8fb9\u8f93\u51fa ......\nint gcd(int m,int n)//\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u91c7\u7528\u9012\u5f52\u5b9e\u73b0\u8f97\u8f6c\u76f8\u9664\u6cd5\u6c42\u6700\u5927\u516c\u7ea6\u6570 \n{\n\treturn n==0? m:gcd(n,m%n);\n}\nint main()\n{\n\tios::sync_with_stdio(0); //\u5173\u95ed\u540c\u6b65\u6d41\uff0c\u52a0\u901fcin\u8f93\u5165\u548ccout\u8f93\u51fa \n\tint t;//\u5b9a\u4e49\u7ec4\u6570\n    cin>>t;\n    for(int i=1;i<=t;i++)\n    {\n        cin>>n[i];\n    }\n    for(int i=1;i<=t;i++)\n    {\n        if(n[i]==0)//\u7279\u5224n\u4e3a0 \n        {\n            cout<<\"0\"<<endl;//\u6ce8\u610f\u6362\u884c \n        }\n        else\n        {\n        \tint a,b;//\u5b9a\u4e49\u5206\u5b50\uff0c\u5206\u6bcd \n        \ta=n[i];\n        \tb=2*n[i]+2;\n            cout<<a/gcd(a,b)<<\"/\"<<b/gcd(a,b)<<endl; //\u5206\u5b50\u548c\u5206\u6bcd\u5206\u522b\u9664\u4ee5\u5b83\u4eec\u7684\u6700\u5927\u516c\u7ea6\u6570\u5373\u8fbe\u5230\u5316\u7b80\u5206\u6570\u7684\u76ee\u7684 \n        }\n    }\n    return 0;//\u7ed3\u675f\u6574\u4e2a\u7a0b\u5e8f \n}\n```  \n\n### \u7ed3\u679c(\u672a\u5438\u6c27)\uff1a  \n![JieGuo](https://cdn.luogu.com.cn/upload/image_hosting/ujnv08zs.png)  \n\u81f3\u6b64\uff0c\u4f01\u9e45\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\u5df2\u8ba4\u8ba4\u771f\u771f\u5730\u5b8c\u6210\u4e86\uff0c\u5e0c\u671b\u5404\u4f4dOIers\u8fdb\u6b65~",
        "postTime": 1612597880,
        "uid": 271784,
        "name": "\u6c42\u5b66\u7684\u4f01\u9e45",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P7127 \u300cRdOI R1\u300d\u4e00\u6b21\u51fd\u6570(function)"
    },
    {
        "content": "## Content\n\u8bbe $S_k$ \u4e3a\u76f4\u7ebf $f(x)=kx+k-1$\uff0c\u76f4\u7ebf $f(x)=(k+1)x+k$ \u4e0e $x$ \u8f74\u56f4\u6210\u7684\u4e09\u89d2\u5f62\u7684\u9762\u79ef\u3002\u73b0\u5728\u7ed9\u51fa $t$ \u7ec4\u8be2\u95ee\uff0c\u6bcf\u7ec4\u8be2\u95ee\u7ed9\u5b9a\u4e00\u4e2a\u6574\u6570 $n$\uff0c\u6c42 $\\sum\\limits_{i=1}^n S_i$\u3002\u7ed3\u679c\u7528\u5206\u6570\u8868\u793a\u3002\n\n**\u6570\u636e\u8303\u56f4\uff1a$1\\leqslant t\\leqslant 2\\times 10^6.0\\leqslant n\\leqslant 2\\times 10^6$\u3002**\n## Solution\n\u5f88\u7b80\u5355\u7684\u4e00\u9053\u627e\u89c4\u5f8b\u9898\u76ee\u3002\n\n\u6211\u4eec\u53d1\u73b0\uff0c\u5f62\u5982 $f(x)=kx+k-1$ \u7684\u76f4\u7ebf\u90fd\u4f1a\u7ecf\u8fc7 $(-1,-1)$ \u8fd9\u4e2a\u70b9\u3002\u6211\u4eec\u518d\u7a0d\u5fae\u753b\u51e0\u4e2a\u56fe\u5c31\u80fd\u591f\u53d1\u73b0\uff0c\u9898\u76ee\u6240\u8981\u6c42\u7684\u4e1c\u897f\uff0c\u65e0\u975e\u5c31\u662f\u4ee5 $(0,0),(-1,-1)$ \u4ee5\u53ca\u6700\u540e\u4e00\u4e2a $S_i$\uff0c\u4e5f\u5c31\u662f $S_n$\uff0c\u88ab\u7ea6\u675f\u7684\u540e\u4e00\u6761\u76f4\u7ebf $f(x)=(n+1)x+n$ \u4e0e $x$ \u8f74\u7684\u70b9\u4e3a\u4e09\u4e2a\u9876\u70b9\u7684\u4e09\u89d2\u5f62\u7684\u9762\u79ef\u7f62\u4e86\u3002\u800c\u4e14\u5f88\u5bb9\u6613\u53d1\u73b0\uff0c\u6211\u4eec\u7684\u4e09\u89d2\u5f62\u5982\u679c\u4ee5\u5728 $x$ \u8f74\u4e0a\u7684\u8fb9\u4e3a\u5e95\u8fb9\u7684\u8bdd\uff0c\u5b83\u7684\u9ad8\u81ea\u7136\u5c31\u662f $1$\u3002\u518d\u8bf4\uff0c\u8fd9\u6761 $x$ \u8f74\u4e0a\u7684\u8fb9\u4e5f\u5f88\u5bb9\u6613\u6c42\u51fa\u6765\uff1a\u53ea\u9700\u8981\u6c42 $f(x)=(n+1)x+n$ \u8fd9\u6761\u76f4\u7ebf\u4e0e $x$ \u8f74\u7684\u4ea4\u70b9\uff0c\u518d\u53d6\u4e2a\u7edd\u5bf9\u503c\u5c31\u597d\u4e86\u3002\u6211\u4eec\u5f88\u5bb9\u6613\u6c42\u51fa\u4e0a\u9762\u6240\u8bf4\u7684\u90a3\u6761\u76f4\u7ebf\u4e0e $x$ \u7684\u4ea4\u70b9\u4e3a $(-\\dfrac{n}{n+1},0)$\u3002\u6240\u4ee5\u90a3\u6761\u5e95\u8fb9\u7684\u957f\u5ea6\u5c31\u662f $\\dfrac{n}{n+1}$\u3002\n\n\u56e0\u6b64\uff0c\u8fd9\u9053\u9898\u76ee\u7684\u7b54\u6848\uff0c\u4e5f\u5c31\u662f $\\sum\\limits_{i=1}^nS_i=\\begin{cases}0&n=0\\\\\\dfrac{n}{2(n+1)}&n>0\\end{cases}$\u3002\u6ce8\u610f\uff1a\n\n- $n=0$ \u7684\u65f6\u5019\uff0c\u663e\u7136\u65e0\u6cd5\u6784\u6210\u4e00\u4e2a\u4e09\u89d2\u5f62\uff0c\u56e0\u6b64\u9762\u79ef\u4e3a $0$\u3002\n- \u6ce8\u610f\u7ea6\u5206\uff0c\u76f4\u63a5\u5c06\u5206\u5b50\u548c\u5206\u6bcd\u540c\u65f6\u9664\u4ee5\u5b83\u4eec\u7684\u6700\u5927\u516c\u7ea6\u6570\uff08\u4e5f\u5c31\u662f $\\gcd\\{n,2(n+1)\\}$\uff09\u5c31\u597d\u3002\n\n\u53ea\u662f\u4e00\u65f6\u5174\u8d77\u60f3\u505a\u9053\u9898\u76ee\uff0c\u4e0d\u610f\u5473\u7740\u6b63\u5f0f\u56de\u5f52\u3002\n\n\u4f46\u662f\uff0c\u8bf7\u7b49\u7740\u6211\u3002\n\n## Code\n\u8bf7\u6ce8\u610f $\\textsf{NOI}$ \u7cfb\u5217\u8d5b\u4e8b\u4e0d\u652f\u6301 algorithm \u5e93\u7684 `__gcd` \u51fd\u6570\u3002\u5efa\u8bae\u81ea\u5df1\u5199\u4e2a gcd \u51fd\u6570\uff0c\u53cd\u6b63\u53c8\u4e0d\u96be\uff0c\u5bf9\u5427\uff1f\n\n\u4ec0\u4e48\uff0c\u8981 gcd \u51fd\u6570\uff1f\u4e0b\u9762\uff1a\n\n```cpp\nint gcd(int a, int b) {return !b ? a : gcd(b, a % b);} //\u6570\u636e\u7c7b\u578b\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u9002\u5f53\u8c03\u6574\n```\n\n\u4e0b\u9762\u7684\u662f\u6b63\u5f0f\u7684\u4ee3\u7801\uff0c\u6ce8\u610f\u76f4\u63a5\u62ff\u8fd9\u4e2a\u4ee3\u7801\u7f16\u8bd1\u662f\u4e0d\u4f1a\u901a\u8fc7\u7684\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nint t, n;\n\nint main() {\n    scanf(\"%d\", &t);\n    while(t--) {\n        scanf(\"%d\", &n);\n        if(!n) puts(\"0\");\n        else printf(\"%d/%d\\n\", n / gcd(n, 2 * (n + 1)), 2 * (n + 1) / gcd(n, 2 * (n + 1)));\n    }\n    return 0;\n}\n```",
        "postTime": 1609047370,
        "uid": 112917,
        "name": "Eason_AC",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P7127 \u3010\u300cRdOI R1\u300d\u4e00\u6b21\u51fd\u6570(function)\u3011"
    },
    {
        "content": "sb\u9898\uff0c\u611f\u89c9\u53ef\u4ee5\u8bc4\u7ea2\uff08\n\n\u9898\u76ee\u8981\u6c42$l_{k1},l_{k2}$\u4e0e$x$\u8f74\u6240\u56f4\u6210\u7684\u4e09\u89d2\u5f62\u7684\u9762\u79ef\u3002\n\n\u8981\u6c42\u4e09\u89d2\u5f62\u7684\u9762\u79ef\u9996\u5148\u6211\u4eec\u9700\u8981\u77e5\u9053\u4ed6\u7684\u4e09\u70b9\u6240\u5728\u3002\n\n\u5148\u628a\u4e09\u7ebf\u7684\u6240\u6709\u4ea4\u70b9\u6c42\u51fa\u6765\u5427\uff1a\n\n$l_{k1}$\u4e0e$l_{k2}$\u7684\u4ea4\u70b9\uff1a\n\n$$kx+k-1=(k+1)x+k$$\n\n$$kx+k-1=kx+x+k$$\n\n$$x=-1$$\n\n\u5c06$y=kx+k-1$\u4ee3\u5165$x=-1$\u5f97\u5230$y=-k+k-1=-1$\u3002\n\n\u6240\u4ee5\u5176\u4e2d\u4e00\u4e2a\u70b9\u662f$(-1,-1)$\u3002\n\n$l_{k1}$\u4e0e$x$\u8f74\u7684\u4ea4\u70b9\uff1a\n\n\u70b9\u5728$x$\u8f74\u4e0a\u8bf4\u660e\u7eb5\u5750\u6807\u4e3a$0$\u3002\n\n$$kx+k-1=0$$\n\n$$kx=1-k$$\n\n$$x=\\frac{1-k}{k}$$\n\n\u6240\u4ee5\u5176\u4e2d\u4e00\u4e2a\u70b9\u662f$(\\frac{1-k}{k},0)$\u3002\n\n\n\n$l_{k2}$\u4e0e$x$\u8f74\u7684\u4ea4\u70b9\uff1a\n\n\u70b9\u5728$x$\u8f74\u4e0a\u8bf4\u660e\u7eb5\u5750\u6807\u4e3a$0$\u3002\n\n$$kx+x+k=0$$\n\n$$(k+1)x=-k$$\n\n$$x=-\\frac{k+1}{k}$$\n\n\u6240\u4ee5\u5176\u4e2d\u4e00\u4e2a\u70b9\u662f$(0,-\\frac{k+1}{k})$\u3002\n\n\u5957\u7528~~\u6d77\u4f26\u516c\u5f0f~~\u4e09\u89d2\u5f62\u57fa\u672c\u9762\u79ef\u516c\u5f0f\u5f97\u5230\uff1a\n\n$$S_i=\\frac{\\frac{1}{k(k+1)}}{2}$$\n\n$$\\sum_{i=1}^n S_i=\\frac{\\sum\\limits_{i=1}^n\\frac{1}{i(i+1)}}{2}$$\n\n\u4e0a\u9762\u7684\u8fd9\u4e2a\u4e1c\u897f\u88c2\u9879\u5316\u7b80\u5f97\uff1a\n\n$$\\sum_{i=1}^n S_i=\\frac{\\frac{k}{k+1}}{2}$$\n\n\u6240\u4ee5\u6700\u7ec8\u7b54\u6848\u5c31\u662f\uff1a\n\n$$\\frac{k}{2k+2}$$\n\n\u4f7f\u7528$\\gcd$\u7ea6\u5206\u5373\u53efQwQ\n\n\u4ee3\u7801\uff1a\n```cpp\nint main(){\n    T=rd();\n    while(T--){\n        k=rd();\n        if(k==0) printf(\"0\\n\");\n        else printf(\"%d/%d\\n\",k/__gcd(k,2*k+2),(2*k+2)/__gcd(k,2*k+2));\n    }\n    return 0;\n}\n```\n",
        "postTime": 1608386463,
        "uid": 223797,
        "name": "Remake_",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P7127 \u3010\u300cRdOI R1\u300d\u4e00\u6b21\u51fd\u6570(function)\u3011"
    },
    {
        "content": "#### Description\n\n> \u5b9a\u4e49 $S_k$ \u4e3a\u5982\u4e0b\u4e24\u4e2a\u51fd\u6570\u4e0e $x$ \u8f74\u76f8\u4ea4\u7684\u4e09\u89d2\u5f62\u9762\u79ef\uff1a\n> $$f_1(x)=kx+k-1,f_2(x)=(k+1)x+k$$\n> \u7ed9\u5b9a $t$ \u7ec4 $n$\uff0c\u6c42\uff1a\n> $$\\sum\\limits_{i=1}^n S_i$$\n\n#### Solution\n\n\u8fd9\u4e2a\u90e8\u5206\u5206\u4e0d\u662f\u5f88\u61c2\u600e\u4e48\u505a\uff0c\u6240\u4ee5\u6765\u641e\u4e00\u4e2a\u6700\u7ec8\u89e3\uff08\n\n\u65e2\u7136\u9898\u76ee\u8bf4\u8981\u6c42\u7528\u4e24\u4e2a\u4e00\u6b21\u51fd\u6570\uff0c\u90a3\u4e48\u5c31\u7528\u4e0a\u6211\u4eec\u4e07\u80fd\u7684 [desmos](https://www.desmos.com/calculator?lang=zh-CN)\u3002\n\n\u9996\u5148\u6211\u4eec\u753b\u51fa $n=1$ \u7684\u56fe\u5f62\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/qdh0xh50.png)\n\n\u56f4\u6210\u7684\u4e09\u89d2\u5f62\u9762\u79ef\u4e3a $\\dfrac{1}{2} \\times 1 \\times \\dfrac{1}{2}$\u3002\n\n\u7136\u540e $n=2$\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/os9vzxmx.png)\n\n\u6211\u5df2\u7ecf\u628a\u5173\u952e\u70b9 $(-0.667,0)$\uff0c\u4ed6\u5176\u5b9e\u5c31\u662f $\\left(-\\dfrac{2}{3},0\\right)$\uff0c\u90a3\u4e48\u56f4\u6210\u7684\u4e09\u89d2\u5f62\u9762\u79ef\u5c31\u662f $\\left(\\dfrac{2}{3}-\\dfrac{1}{2}\\right) \\times 1 \\times \\dfrac{1}{2}$\u3002\n\n\u7136\u540e $n=3$\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/422vp29d.png)\n\n\u4e24\u4e2a\u5173\u952e\u70b9\u662f $\\left(-\\dfrac{3}{4},0\\right)$ \u548c $\\left(-\\dfrac{2}{3},0\\right)$\uff0c\u4e09\u89d2\u5f62\u9762\u79ef\u5c31\u662f $\\left(\\dfrac{3}{4}-\\dfrac{2}{3}\\right)\\times 1 \\times \\dfrac{1}{2}$\u3002\n\n\uff08\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u8ba9 $n$ \u8d8b\u8fd1\u4e8e $\\infty$\uff0c\u5728 $n=10$ \u7684\u65f6\u5019\u5c31\u5df2\u7ecf\u5f88\u660e\u663e\u4e86\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ktb2eqcu.png)\n\n\u5f53 $n$ \u8d8b\u8fd1\u4e8e $\\infty$ \u65f6\uff0c\u4e09\u89d2\u5f62\u9762\u79ef\u8d8b\u8fd1\u4e8e $0$\uff0c~~\u7136\u800c\u8ddf\u8fd9\u9898\u6ca1\u5565\u5173\u7cfb\u53ea\u662f\u5076\u7136\u53d1\u73b0\u7684~~\uff09\n\n\u4e0d\u96be\u53d1\u73b0\uff0c\u5f53 $n=p$ \u7684\u65f6\u5019\uff0c\u4e09\u89d2\u5f62\u9762\u79ef\u4e3a $\\left(\\dfrac{p}{p+1}-\\dfrac{p-1}{p}\\right)\\times \\dfrac{1}{2}$\uff0c\u7b80\u5355\u5316\u7b80\u4e00\u6ce2\uff1a\n\n$$\\begin{aligned}\\left(\\dfrac{p}{p+1}-\\dfrac{p-1}{p}\\right)\\times \\dfrac{1}{2}&=\\dfrac{p^2-1}{p \\times (p+1)}\\times\\dfrac{1}{2}\\\\&=\\dfrac{1}{p \\times (p+1)} \\times \\dfrac{1}{2}\\end{aligned}$$\n\n\u7136\u540e\u628a\u8fd9\u4e2a\u4ee3\u5165\u5230\u9898\u76ee\u91cc\uff0c\u628a $\\dfrac{1}{2}$ \u63d0\u51fa\u6765\uff1a\n\n$$\\begin{aligned}\\dfrac{1}{2}\\sum\\limits_{i=1}^n\\dfrac{1}{i \\times (i+1)}&=\\dfrac{1}{2}\\sum\\limits_{i=1}^n\\left(\\dfrac{1}{i}-\\dfrac{1}{i+1} \\right)\\\\&=\\dfrac{1}{2}\\left(1-\\dfrac{1}{n+1}\\right)\\\\&=\\dfrac{n}{2n+2}\\end{aligned}$$\n\n\u53ea\u6709\u5f53 $n \\bmod 2=0$ \u65f6\u624d\u4f1a\u7ea6\u5206\u4e3a $\\dfrac{\\frac{n}{2}}{n+1}$\uff0c\u5176\u4ed6\u60c5\u51b5\u90fd\u4e0d\u4f1a\u7ea6\u5206\u3002\n\n\u56e0\u6b64\u7b80\u5355\u7684\u4ee3\u7801\u4e5f\u5c31\u6709\u4e86\u3002\n\n#### Code\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nint main () {\n\tint t;\n\tscanf(\"%d\", &t);\n\twhile (t--) {\n\t\tint n;\n\t\tscanf(\"%d\", &n);\n\t\tif (n == 0) puts(\"0\");\n\t\telse if (n % 2 == 0) printf(\"%d/%d\\n\", n / 2, n + 1);\n\t\telse printf(\"%d/%d\\n\", n, 2 * n + 2);\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1607932892,
        "uid": 114914,
        "name": "\u4e00\u53ea\u4e66\u866b\u4ed4",
        "ccfLevel": 4,
        "title": "RdOI A \u9898\u89e3"
    },
    {
        "content": "## \u5206\u6790\n\n\u5f88\u7b80\u5355\u7684\u4e00\u9053\u627e\u89c4\u5f8b\u7684\u9898\u76ee\uff0c\u7ecf\u8fc7\u5217\u51fa\u524d\u51e0\u4e2a\u6570\u7684\u4e24\u6761\u51fd\u6570\u53ef\u4ee5\u53d1\u73b0\uff0c$i$ \u7684$l_2$ \u5c31\u662f $i+1$ \u7684$l_1$\uff0c\u5e76\u4e14\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $i$\uff0c\u5b83\u7684\u4e24\u6761\u76f4\u7ebf\u7684\u4ea4\u70b9\u7684\u6a2a\u5750\u6807\u4e0e\u7eb5\u5750\u6807\u90fd\u4e3a-1\uff0c\u800c $i$ \u4e3a1\u65f6\u7684 $l_1$ \u5df2\u7ecf\u4e0e\u5750\u6807\u539f\u70b9\u6709\u4ea4\u70b9\uff0c\u4e4b\u540e\u6bcf\u4e00\u6761\u76f4\u7ebf\u4e0e $x$ \u8f74\u7684\u4ea4\u70b9\u90fd\u5728\u4e00\u4e2a\u4e2a\u5411\u5de6\u79fb\uff0c\u56e0\u6b64\u6211\u4eec\u53ea\u9700\u8981\u77e5\u9053\u6700\u5de6\u8fb9\u7684\u90a3\u4e00\u6761\u4e0e $x$ \u8f74\u7684\u4ea4\u70b9\uff0c\u518d\u5c06\u5b83\u9664\u4ee52\uff08~~\u4e09\u89d2\u5f62\u9762\u79ef\u516c\u5f0f~~\uff09\uff0c\u518d\u8fdb\u884c\u4e00\u6b21\u53d6\u6700\u5927\u516c\u56e0\u6570\u5316\u7b80\u5373\u53ef\n\n### \u4ee3\u7801\uff08\u4e3b\u8981\u662f\u5206\u6790\uff0c\u4ee3\u7801\u65e0\u770b\u70b9\uff09\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint t,n,fz,fm,gys;\ninline int gcd(int a,int b){\n\treturn b==0?a:gcd(b,a%b);\n}\n\ninline void read(int &res){\n\tres=0;\n\tint f=1;\n\tchar c=getchar();\n\twhile(c<'0'||c>'9'){if(c=='-')f=-1;c=getchar();}\n\twhile(c>='0'&&c<='9'){res=(res<<1)+(res<<3)+c-48;c=getchar();}\n\tres*=f;\n}\nint main()\n{\n\tcin>>t;\n\twhile(t--){\n\t\tread(n);\n\t\tif(n<1){//\u7279\u5224 \n\t\t\tputs(\"0\");continue;\n\t\t}\n\t\tfz=n;//\u5206\u5b50 \n\t\tfm=(n+1)*2;//\u5206\u6bcd \n\t\tgys=gcd(fz,fm);//\u6700\u7b80\u5206\u6570 \n\t\tprintf(\"%d/%d\\n\",fz/gys,fm/gys);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1615894675,
        "uid": 166410,
        "name": "\u6f20\u5bd2",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P7127 \u300cRdOI R1\u300d\u4e00\u6b21\u51fd\u6570(function)"
    },
    {
        "content": "\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\u6765\u4e86\uff01\n\n\n------------\n\n# \u4e00\u6b21\u51fd\u6570\n\n\u4e00\u6b21\u51fd\u6570\uff01y=kx+b\uff01\n\n~~\uff08\u521d\u4e8c\u5b66\u751f\u5669\u68a6\uff09~~\n\n\u8fd9\u9053\u9898\u770b\u4f3c\u590d\u6742\uff0c\u5b9e\u9645\u4e0a\u53ea\u9700\u8981\u5f88\u77ed\u7684\u4ee3\u7801\u5c31\u80fd\u5b9e\u73b0\uff0c\u6240\u4ee5\u91cd\u5728\u7406\u89e3\u9898\u610f\n\n### \u5982\u56fe\uff0c\u84dd\u8272\u7684\u9762\u79ef\u5373\u4e3a\u6240\u6c42\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/afusq9yq.png)\n\n### ~~\u662f\u4e0d\u662f\u5f88\u7b80\u5355\u6613\u61c2(~~\n\n\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u770b\u51fa\n\n\u7b54\u6848\u5c31\u662f\n```\nn/[(n+1)*2]\n```\n\n\n\u56e0\u6b64\u5faa\u73af\uff0c\u8f93\u5165\uff0c\u5224\u65ad\uff0c\u8f93\u51fa\u5373\u53ef\n\n\u7136\u540e\u6211\u4eec\u53c8\u770b\u5230\u4e86\uff1a\n```\n\u8bf7\u6ce8\u610f\u8f93\u51fa\u7b54\u6848\u7684\u65f6\u5019\u7ea6\u5206\u3002\n```\n\n\uff1f\uff1f\uff1f\n\n\u8f6c\u5934\u4e00\u60f3\uff0c\u7ea6\u5206\u5176\u5b9e\u5c31\u662f\u6c42\u4e24\u4e2a\u6570\u7684\u6700\u5927\u516c\u56e0\u6570\u554a\uff01\n\ng c d\n\n\u5b8c\u7f8e\u89e3\u51b3\uff01\n\n# \u4ee3\u7801\uff08\u62d2\u7edd\u4ee3\u7801\u6284\u88ad\uff0c\u5171\u521b\u7f8e\u597d\u6d1b\u8c37\uff09\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint gcd(int a,int b)//\u8f97\u8f6c\u76f8\u9664 \u4e0d\u591a\u89e3\u91ca \n{\n\tif(!b)\n\t\treturn a;\n\treturn gcd(b,a%b);\n}\nint main()\n{\n\tint c,n,a,b,tmp;\n\tscanf(\"%d\",&c);\n\twhile(c--)\n\t{\n\t\tscanf(\"%d\",&n);//\u4e00\u5b9a\u8981\u7528scanf\uff0c\u4e0d\u7136TLE\uff08\u8840\u7684\u6559\u8bad\uff09 \n\t\tif(n==0)//\u7279\u5224\uff0c\u5177\u4f53\u89c1\u9898\u76ee \n\t\t{\n\t\t\tputs(\"0\");\n\t\t}\n\t\telse\n\t\t{\n\t\t    a=n;\n\t\t    b=(n+1)*2;\n\t\t    tmp=gcd(a,b);//\u6c42\u6700\u5927\u516c\u7ea6\u6570 \uff0c\u5316\u7b80\u5206\u6570 \n            cout<<a/tmp<<\"/\"<<b/tmp<<\"\\n\";\n\t\t}\n\t}\n\treturn 0;//\u597d\u4e60\u60ef( \n}\n```\n\n## \u5b8c\u7ed3\u6492\u82b1\uff01\uff01\n\n\n------------\n\u7b2c\u4e00\u7bc7\u9898\u89e3\u6c42\u8fc7\uff01\uff01\n\n\uff08\u70b9\u4e2a\u8d5e\u5427\uff01\uff09",
        "postTime": 1608712994,
        "uid": 311038,
        "name": "juun07",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P7127 \u3010\u300cRdOI R1\u300d\u4e00\u6b21\u51fd\u6570(function)\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u6709\u4e24\u4e2a\u601d\u8def\uff1a\n\n#### approach1\uff1a\n\u5e26\u6570\u8fdb\u53bb\uff0c\u4ece k=0 \u4e00\u76f4\u8bd5\u4e0b\u53bb\uff0c\u4f60\u4f1a\u627e\u5230\u89c4\u5f8b\u7684\u3002\n\n\u5f53\u7136\uff0c\u4e0a\u9762\u7684\u4e0d\u662f\u6b63\u89e3\u3002\n\n#### approach2\uff1a\n\u4f60\u53ef\u4ee5\u8111\u8865\u4e00\u4e0b\uff0c\u65e2\u7136\u4e09\u89d2\u5f62\u7684\u4e09\u8fb9\u6709\u4e00\u6761\u5728 x \u8f74\u4e0a\uff0c\u53e6\u5916\u4e24\u6761\u4e0d\u786e\u5b9a\uff0c\u5f53\u7136\u9009\u62e9 x \u8f74\u7684\u8fb9\u4f5c\u4e3a\u5e95\u4e86\u3002\u800c\u53e6\u5916\u4e24\u6761\u76f4\u7ebf\u5747\u4ea4\u4e8e x \u8f74\uff0c\u5219\u5b83\u4eec\u4ea4\u4e8e x \u8f74\u7684\u5750\u6807\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0c\u5373\u8fd9\u4e2a\u4e09\u89d2\u5f62\u7684\u5e95\u3002\n\n$l_{k1}$ \u4e0e x \u7684\u4ea4\u70b9\u5750\u6807\uff1a\u5373\u5f53 y=0 \u65f6\uff0c\u53ef\u6c42\u5f97\uff1a\n   $$kx+k-1=0$$\n   $$kx=1-k$$\n   $$x=\\dfrac{1-k}{k}$$\n$l_{k2}$ \u4e0e x \u7684\u4ea4\u70b9\u5750\u6807\uff1a\u5373\u5f53 y=0 \u65f6\uff0c\u53ef\u6c42\u5f97\uff1a\n   $$(k+1)x+k=0$$  \n   $$(k+1)x=-k$$ \n   $$x=-\\dfrac{k}{k+1}$$\n\u7136\u540e\u4f60\u60f3\u554a\uff0c\u6b63\u6570>\u8d1f\u6570\uff0c\u5219:\n$$\u2234\\dfrac{1-k}{k}>-\\dfrac{k}{k+1}$$\n\u2234\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb(\u4e09\u89d2\u5f62\u7684\u5e95)\uff1a\n$$\\dfrac{1-k}{k}-(-\\dfrac{k}{k+1})=\\dfrac{1}{k(k+1)}$$\n\u800c\u4e09\u89d2\u5f62\u7684\u9ad8\uff0c\u5219\u662f $l_{k1}$ \u4e0e $l_{k2}$ \u7684\u4ea4\u70b9\u7684 |y|\uff0c\u5e76\u4e14\uff0c\u4ed6\u4eec\u7684 y \u76f8\u540c\u3002\n$$kx+x-1=kx+x+k$$\n$$x=-1$$\n$$\u2234y=|-1|=1$$\n\u2234\u4e09\u89d2\u5f62\u7684\u9ad8\u4e3a1\u3002\n\n\u56e0\u6b64\uff1a\n$$S_{k}=\\dfrac{1}{2}\u00d71\u00d7\\dfrac{1}{k(k+1)}=\\dfrac{1}{2k(k+1)}$$\n\u7136\u540e\u4f60\u518d\u628a\u539f\u9898\u8981\u6c42\u7684\u5728\u7eb8\u4e0a\u4e00\u7b97\uff0c\u4f1a\u53d1\u73b0\u7b54\u6848\u4e3a\uff1a\n$$\\dfrac{n}{2(n+1)}$$\n\n\u81f3\u4e8e\u7ea6\u5206\uff0c\u5c06\u7b54\u6848\u9664\u4ee5\u4e00\u4e2a\u4ed6\u7684\u5206\u5b50\u548c\u5206\u6bcd\u7684\u6700\u5927\u516c\u56e0\u6570\u5373\u53ef\u3002",
        "postTime": 1628400428,
        "uid": 260074,
        "name": "Tranquil_Domain",
        "ccfLevel": 3,
        "title": "P7127 \u300cRdOI R1\u300d\u4e00\u6b21\u51fd\u6570(function)\u9898\u89e3"
    },
    {
        "content": "\u4ecb\u7ecd\u4e00\u4e2a\u6570\u5b66\u65b9\u6cd5 \n\n\u5047\u8bbe $l_{k1}$ \u4ea4 $x$ \u8f74\u4e0e $\\texttt{A}$, $l_{k2}$ \u4ea4 $x$ \u8f74\u4e0e $\\texttt{B}$\uff0c$l_{k1}$ \u4ea4 $l_{k2}$ \u8f74\u4e0e $\\texttt{C}$\n\n![image.png](https://i.loli.net/2021/07/09/ni675J4HIEwQk8a.png)\n\n\u5982\u56fe\u7ea2\u8272\u7684\u76f4\u7ebf\u662f $l_{k1}$\uff0c \u84dd\u8272 $l_{k2}$.\u5f88\u663e\u7136\uff0c\u76ee\u6807\u4e09\u89d2\u5f62\u7684\u9762\u79ef\u662f\n$$S_{\\triangle ABC}=\\frac{1}{2}\\times \\texttt{AB} \\times |y_c|$$\n\u6211\u4eec\u4ee5\u4f9d\u6b21\u5904\u7406\u4e0a\u9762\u7684\u672a\u77e5\u90e8\u5206\u3002\u9996\u5148\u5148\u7b97\u51fa $\\texttt{A},\\texttt{B},\\texttt{C}$ \u7684\u5750\u6807\uff0c\u7279\u522b\u7684\u662f\uff0c\u6211\u4eec\u5e76\u4e0d\u9700\u8981\u5168\u6c42\uff0c\u5bf9\u4e8e $\\texttt{A},\\texttt{B}$ \u4ec5\u9700\u5f97\u51fa\u6a2a\u5750\u6807\n\n\u5219 $x_A$ \u662f $y = 0$ \u65f6 $l_{k1}$ \u7684\u51fd\u6570\u503c\uff0c\u5373 $x_A$ \u662f\u5982\u4e0b\u65b9\u7a0b\u7684\u6839\n$$kx+x-1=0$$\n\u89e3\u5f97\n$$x=\\frac{1-k}{k}$$\n\u5373\n$$x_A=\\frac{1-k}{k}$$\n\u540c\u7406\u6709\n$$x_B=-\\frac{k}{k+1}$$\n\u540c\u7406\n$x_C=-1$ \u6b64\u65f6 $y_C=-1$ \n\n\u6709\u56e0\u4e3a$k>0$ \u5219 $\\dfrac{1-k}{k}>-\\dfrac{k}{k+1}$.\n\u5373$\\texttt{AB}=\\dfrac{1-k}{k}-(-\\dfrac{k}{k+1})=\\dfrac{1}{k(k+1)}$\n\n\u90a3\u4e48\n$$S_{k}=\\frac{1}{2}\\times \\dfrac{1}{k(k+1)}$$\n\u5219\n$$\\sum\\limits_{k=1}^n{S_k}=\\frac{1}{2}\\times(\\dfrac{1}{1(1+1)}\\times \\dfrac{1}{2(2+1)}\\times...\\times\\dfrac{1}{n(n+1)})$$\n\u5c0f\u5b66\u88c2\u9879\u6709\n$$\\sum\\limits_{k=1}^n{S_k}=\\frac{n}{2(n+1)}$$\n$O(1)$\u5904\u7406\u4e0a\u5f0f\u5373\u53ef\u3002\n\n\n",
        "postTime": 1625804756,
        "uid": 183026,
        "name": "Cocoly1990",
        "ccfLevel": 0,
        "title": "P7127 \u300cRdOI R1\u300d\u4e00\u6b21\u51fd\u6570(function)"
    },
    {
        "content": "### \u524d\u7f6e\u77e5\u8bc6\n\n- ~~\u89e3\u6790\u51e0\u4f55~~\uff1b\n- \u4e09\u89d2\u5f62\u9762\u79ef\u516c\u5f0f $S=\\dfrac{1}{2}ah$\uff1b\n- \u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\u4e2d\u70b9 $A$ \u7684\u6a2a\u5750\u6807\u4e3a $x_A$\uff0c\u7eb5\u5750\u6807\u4e3a $y_A$\u3002\n\n### \u9898\u76ee\n\n\u9996\u5148\uff0c\u4e00\u6b21\u51fd\u6570\u7684\u56fe\u50cf\u4e0d\u53ef\u80fd\u4e0e $x$ \u8f74\u5e73\u884c\u3002\u5229\u7528\u89e3\u6790\u51e0\u4f55\u76f8\u5173\u77e5\u8bc6\uff0c\u6211\u4eec\u53ef\u4ee5\u5224\u5b9a\uff1a\u4e24\u5e73\u884c\u76f4\u7ebf\u7684\u659c\u7387\u76f8\u7b49\uff0c\u800c $k$ \u548c $k+1$ \u663e\u7136\u4e0d\u7b49\uff0c\u56e0\u6b64\u6784\u6210\u7684\u4e09\u89d2\u5f62\u9000\u5316\u7684\u60c5\u51b5\u4e0d\u5b58\u5728\u3002\n\n\u6211\u4eec\u4ee5\u76f4\u7ebf $\\ell_1,\\ell_2$ \u548c $x$ \u8f74\u7ec4\u6210\u7684\u4e09\u89d2\u5f62\u7684\u5e95\u4e3a\u5728 $x$ \u8f74\u4e0a\u7684\u8fb9\uff0c\u5219\u5176\u9ad8\u4e3a $|y_{\\ell_1\\cap \\ell_2}|$\uff0c\u5e95\u4e3a $|x_{x\\cap\\ell_1}-x_{x\\cap\\ell_2}|$\u3002\n\n\u56e0\u6b64\uff0c\u8981\u6c42\u51fa $S_i$ \u7684\u5e95 $a$\uff0c\u9ad8 $h$\uff0c\u6211\u4eec\u9700\u8981\u6c42\u51fa\u4e0b\u9762\u4e09\u4e2a\u70b9\u7684\u5750\u6807\uff1a$\\ell_1\\cap \\ell_2,x\\cap\\ell_1,x\\cap\\ell_2$\uff0c\u5373\u4e09\u89d2\u5f62\u4e09\u4e2a\u9876\u70b9\u7684\u5750\u6807\u3002\n\n\u5bb9\u6613\u5f97\u5230 $\\ell_1\\cap \\ell_2=(-1,-1),x\\cap\\ell_1=(\\dfrac{1-k}{k},0),x\\cap\\ell_2=(-\\dfrac{k}{k+1},0)$\u3002\n\n\u56e0\u6b64 \n\n$$\nS_k=\\dfrac{1}{2k(k+1)}.\n$$\n\n\u4e8e\u662f\n\n$$\n\\sum\\limits^n_{k=1}S_k=\\dfrac{n}{2n+2}.\n$$\n\n\u5355\u72ec\u5904\u7406\u5206\u5b50\u548c\u5206\u6bcd\uff0c\u540c\u65f6\u53bb\u9664 $\\gcd(n,2n+2)$ \u5373\u53ef\u3002",
        "postTime": 1608443320,
        "uid": 327385,
        "name": "luosw",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P7127 \u3010\u300cRdOI R1\u300d\u4e00\u6b21\u51fd\u6570(function)\u3011"
    },
    {
        "content": "\u9898\u610f\u7b80\u8ff0\uff1a\n\n\u7ed9\u5b9a\u4e00\u4e2a$n$\uff0c\u6c42\u5bf9\u4e8e\u51fd\u6570 $l_1:y=kx+k-1$ \u548c $l_2:y=(k+1)x+k$ \u5bf9\u4e8e\u4ed6\u4eec\u4ece $1$ \u5230 $n$ \u4e0e $x$ \u8f74\u7684\u4ea4\u70b9\u548c\u4ed6\u4eec\u4e24\u4e2a\u51fd\u6570\u7684\u4ea4\u70b9\u7684\u9762\u79ef\u4e4b\u548c\u3002\n\n\u8bb0 $x$ \u53d6 $i$ \u65f6\u7684\u503c\u4e3a $s_i$\uff0c\u7b54\u6848\u5c31\u662f$\\sum_{i=1}^n s_i$.\n\n\u62ff\u5230\u8fd9\u4e2a\u9898\u76ee\uff0c\u6211\u4eec\u60f3\u5230\u753b\u56fe\u63a2\u7a76\u3002\n\n* \u5148\u6765\u8fdb\u884c\u4ee3\u6570\u63a8\u5bfc\u3002\u8054\u7acb $l_1,l_2$\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\uff1a$kx+k-1=kx+x+k$\n\n\u5316\u7b80\u5f97 $x+1=0$ \uff0c\u5373 $x=-1$\uff0c\u4ee3\u5165\u4efb\u4f55\u4e00\u4e2a\u51fd\u6570\u5f97 $y=-1$\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e24\u4e2a\u51fd\u6570\u603b\u662f\u4ea4\u4e8e $(-1,-1)$ \u8fd9\u4e2a\u70b9\u3002\n\n**\u7ed3\u8bba\u4e00\uff1a\u4e09\u89d2\u5f62\u7684\u9ad8\u6052\u4e3a1**\n\n* \u753b\u56fe\n\n\u5206\u522b\u753b\u51fa $x=1$ \u548c $x=2$ \u7684\u60c5\u51b5\uff1a\n\n![x=1](https://cdn.luogu.com.cn/upload/image_hosting/4oh1rexx.png)\n----------\n![x=2](https://cdn.luogu.com.cn/upload/image_hosting/7jcep51p.png)\n------------\n\n\u5bb9\u6613\u53d1\u73b0\uff0c\u5f53 $x=1$ \u65f6 $l_1$\u548c$x$\u4ea4\u4e8e$0$\uff0c$l_2$\u4e0e$x$\u4ea4\u4e8e$-\\frac12$\uff0c\u6240\u4ee5$d_{i=1}=0-\\frac12=\\frac12$\n\n\u5f53 $x=2$ \u65f6 $l_1$\u548c$x$\u4ea4\u4e8e$-\\frac12$\uff0c$l_2$\u4e0e$x$\u4ea4\u4e8e$-\\frac23$. \u6240\u4ee5$d_{i=2}=-\\frac23-(-\\frac12)=\\frac16$\n\n\u6b64\u65f6\u9762\u79ef\u603b\u548c\u5373\u4e3a $s=\\frac{(d_1+d_2)*1}{2}$\n\n\u8fd8\u539f$d$\u4ee3\u5165\u5f97$s=(\\frac{1-\\frac12+\\frac23-\\frac12}2)= \\frac{\\frac23}{2}=\\frac13$\n\n\u5bb9\u6613\u53d1\u73b0\uff0c\u53ea\u6709$\\frac{n}{n+1}$\u5bf9\u6700\u7ec8\u7684\u7b54\u6848\u9020\u6210\u5f71\u54cd\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u5f97\u5230 $O(1)$ \u7684\u6700\u7ec8\u67ff\u5b50: $s=\\frac{n}{2n+2}$\n\n\u6700\u540e\u7b80\u5355\u7684\u5224\u65ad\u548c\u7ea6\u5206\u5373\u53ef\uff0c\u8fde\u5206\u6570\u7c7b\u90fd\u4e0d\u7528\u5c01\u88c5\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n\nusing namespace std;\n\ninline long long read()\n{\n    ll f=1,s=0;char ch=getchar();\n    while(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n    while(ch>='0'&&ch<='9')s=(s<<1)+(s<<3)+ch-'0',ch=getchar();\n    return s*f;\n}\n\nll t,n;\n\nll gcd(ll x,ll y){\n\tif(!y) return x;\n\treturn gcd(y,x%y);\n}\n\nint main(){\n\tt=read();\n\twhile(t-->0){// will be fast\n\t\tn=read();\n\t\tll x=n,y=2*n+2;\n\t\tif(!x||!y) {cout<<0<<endl;continue;}\n\t\tll Q=gcd(x,y);\n\t\tx/=Q,y/=Q;\n\t\tprintf(\"%lld/%lld\\n\",x,y);\n\t}\n}\n```\n\n",
        "postTime": 1607845471,
        "uid": 120438,
        "name": "Lacrymabre",
        "ccfLevel": 0,
        "title": "\u300cRdOI R1\u300d\u4e00\u6b21\u51fd\u6570(function) \u9898\u89e3"
    }
]