[
    {
        "content": "f[i]\u8868\u793a\u6df1\u5ea6\u4e0d\u8d85\u8fc7i\u7684\u4e25\u683cn\u5143\u6811\u7684\u4e2a\u6570\u3002  \n\u8f6c\u79fb\u65f6\u8003\u8651\u52a0\u4e00\u4e2a\u6839\uff0c\u7531\u4e8e\u662fn\u5143\u6811\uff0c\u6839\u4e0b\u9700\u8981n\u4e2a\u5b50\u6811  \nf[i]=(f[i-1]^n)+1 \n\u7b54\u6848\u5373\u4e3a\u5bf9f[d]-f[d-1] \u6b63\u4f53\u73b0\u4e86\u5dee\u5206\u4e0e\u524d\u7f00\u548c\u7684\u795e\u5947\u4f5c\u7528\n\n\n\u8fb9\u754cf[0]=1\uff0c\u4e14\u5f53d=0\u65f6\u7279\u5224\u7b54\u6848\u4e3a1\n\n\n\n\u9700\u8981\u9ad8\u7cbe\u5ea6\n\n```cpp\n#include <iostream>\n#include <string>\n#include <cstring>\n#include <cstdio>\nusing namespace std;\n\nconst int maxn = 10000;\n\nstruct bign{\n    int d[maxn], len;\n\n\tvoid clean() { while(len > 1 && !d[len-1]) len--; }\n\n    bign() \t\t\t{ memset(d, 0, sizeof(d)); len = 1; }\n    bign(int num) \t{ *this = num; } \n\tbign(char* num) { *this = num; }\n    bign operator = (const char* num){\n        memset(d, 0, sizeof(d)); len = strlen(num);\n        for(int i = 0; i < len; i++) d[i] = num[len-1-i] - '0';\n        clean();\n\t\treturn *this;\n    }\n    bign operator = (int num){\n        char s[2000]; sprintf(s, \"%d\", num);\n        *this = s;\n\t\treturn *this;\n    }\n\n    bign operator + (const bign& b){\n        bign c = *this; int i;\n        for (i = 0; i < b.len; i++){\n        \tc.d[i] += b.d[i];\n        \tif (c.d[i] > 9) c.d[i]%=10, c.d[i+1]++;\n\t\t}\n\t\twhile (c.d[i] > 9) c.d[i++]%=10, c.d[i]++;\n\t\tc.len = max(len, b.len);\n\t\tif (c.d[i] && c.len <= i) c.len = i+1;\n        return c;\n    }\n    bign operator - (const bign& b){\n        bign c = *this; int i;\n        for (i = 0; i < b.len; i++){\n        \tc.d[i] -= b.d[i];\n        \tif (c.d[i] < 0) c.d[i]+=10, c.d[i+1]--;\n\t\t}\n\t\twhile (c.d[i] < 0) c.d[i++]+=10, c.d[i]--;\n\t\tc.clean();\n\t\treturn c;\n    }\n    bign operator * (const bign& b)const{\n        int i, j; bign c; c.len = len + b.len; \n        for(j = 0; j < b.len; j++) for(i = 0; i < len; i++) \n\t\t\tc.d[i+j] += d[i] * b.d[j];\n        for(i = 0; i < c.len-1; i++)\n            c.d[i+1] += c.d[i]/10, c.d[i] %= 10;\n        c.clean();\n\t\treturn c;\n    }\n    bign operator / (const bign& b){\n    \tint i, j;\n\t\tbign c = *this, a = 0;\n    \tfor (i = len - 1; i >= 0; i--)\n    \t{\n    \t\ta = a*10 + d[i];\n    \t\tfor (j = 0; j < 10; j++) if (a < b*(j+1)) break;\n    \t\tc.d[i] = j;\n    \t\ta = a - b*j;\n    \t}\n    \tc.clean();\n    \treturn c;\n    }\n    bign operator % (const bign& b){\n    \tint i, j;\n\t\tbign a = 0;\n    \tfor (i = len - 1; i >= 0; i--)\n    \t{\n    \t\ta = a*10 + d[i];\n    \t\tfor (j = 0; j < 10; j++) if (a < b*(j+1)) break;\n    \t\ta = a - b*j;\n    \t}\n    \treturn a;\n    }\n\tbign operator += (const bign& b){\n        *this = *this + b;\n        return *this;\n    }\n\n    bool operator <(const bign& b) const{\n        if(len != b.len) return len < b.len;\n        for(int i = len-1; i >= 0; i--)\n            if(d[i] != b.d[i]) return d[i] < b.d[i];\n        return false;\n    }\n    bool operator >(const bign& b) const{return b < *this;}\n    bool operator<=(const bign& b) const{return !(b < *this);}\n    bool operator>=(const bign& b) const{return !(*this < b);}\n    bool operator!=(const bign& b) const{return b < *this || *this < b;}\n    bool operator==(const bign& b) const{return !(b < *this) && !(b > *this);}\n\n    string str() const{\n        char s[maxn]={};\n        for(int i = 0; i < len; i++) s[len-1-i] = d[i]+'0';\n        return s;\n    }\n};\n\nistream& operator >> (istream& in, bign& x)\n{\n    string s;\n    in >> s;\n    x = s.c_str();\n    return in;\n}\n\nostream& operator << (ostream& out, const bign& x)\n{\n    out << x.str();\n    return out;\n}\n\n\nbign f[17];\nint n,d;\n\nint main(){\n    cin>>n>>d;\n    if(n==1&&d==1) return cout<<0,0;\n    if(d==0) return cout<<1,0;\n    f[1]=1;\n    for(int i=1;i<=d;i++) {\n    \tbign tmp=1;\n    \tfor(int j=1;j<=n;j++) tmp=tmp*f[i-1];\n    \tf[i]=f[i]+tmp+1;\n    }\n    bign ans=f[d]-f[d-1];\n    cout<<ans;\n}\n```",
        "postTime": 1528106129,
        "uid": 13856,
        "name": "GhostCai",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4295 \u3010[SCOI2003]\u4e25\u683cN\u5143\u6811\u3011"
    },
    {
        "content": "~~\u5176\u5b9e\u8fd9\u9898\u4e3b\u8981\u5c31\u662f\u9ad8\u7cbe\u4e86\u2026\u2026\u56e0\u4e3a\u9ad8\u7cbe\u5199\u6302\u4e86WA\u4e86\u6ee1\u6ee1\u4e00\u9875\u2026\u2026\u5199\u9ad8\u7cbe\u7684\u65f6\u5019\u5343\u4e07\u522b\u5fd8\u4e86\u91cd\u65b0\u8bbe\u7f6e\u957f\u5ea6\uff01\uff01\uff01\uff01\uff01\uff01\uff01~~\n\n\u9996\u5148\u663e\u800c\u6613\u89c1\u7684\u72b6\u6001\u5c31\u662f$dp[i]$\u8868\u793a\u6df1\u5ea6\u4e3ai\u7684n\u5143\u6811\u6709\u591a\u5c11\u4e2a\uff0c\u53ef\u4ee5\u60f3\u5230\u9700\u8981\u5728\u8fd9n\u4e2a\u5b69\u5b50\u4e2d\u968f\u4fbf\u94a6\u5b9a\u4e00\u4e2a\u8ba9\u4ed6\u4f38\u5230\u6700\u5e95\u90e8\uff08\u6df1\u5ea6\u4e3ai-1\uff09\uff0c\u522b\u7684\u5b69\u5b50\u6df1\u5ea6\u53ea\u8981\u4e0d\u8d85\u8fc7i\u5c31\u884c\u4e86\u3002\u90a3\u4e48\u5c31\u5f97\u8bbe$g[i]$\u4e3a\u6df1\u5ea6\u4e0d\u8d85\u8fc7i\u7684n\u5143\u6811\u4e2a\u6570\u3002\u90a3\u4e48\u8f6c\u79fb\u65b9\u7a0b\u5c31\u662f\uff1a\n\n$dp[i]=(dp[i-1]*g[i-2]^{n-1})^n$\n\n$g[i]=\\sum_{j=0}^{i}dp[j]$\n\n\u7136\u540e\u6211\u5c31\u53d1\u73b0\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u8fd9\u4e48dp\u4f1a\u6709\u91cd\u590d\u7684\u65b9\u6848\uff0c\u6bd4\u5982\u6211\u73b0\u5728\u94a6\u5b9a\u4e86\u513f\u5b50$k$\u4e3a\u6df1\u5ea6\u4e3a$i-1$\u7684\uff0c\u90a3\u4e48\u513f\u5b50$k-1$\u6309\u7167\u6211\u4eec\u7684\u8f6c\u79fb\u65b9\u7a0b\u5c31\u662f\u6df1\u5ea6\u4e0d\u8d85\u8fc7$i-1$\u5c31\u884c\u4e86\uff0c\u90a3\u4e48\u4e5f\u5c31\u662f\u8bf4$k-1$\u7684\u6df1\u5ea6\u53ef\u4ee5\u4e3a$i-1$\uff0c\u4e8e\u662f\u5f53\u4f60\u94a6\u5b9a$k-1$\u7684\u6df1\u5ea6\u5fc5\u987b\u662f$i-1$\u7684\u65f6\u5019\uff0c\u80af\u5b9a\u5c31\u4f1a\u6709\u91cd\u590d\u7684\u65b9\u6848\u88ab\u8ba1\u6570\u8fdb\u53bb\u4e86\u3002\n\n\u90a3\u4e48\u8be5\u600e\u4e48\u529e\u5462\uff1f\n\n\u91cd\u65b0\u660e\u786e\u4e00\u4e0b\u6211\u4eec\u73b0\u5728\u7684\u95ee\u9898\u662f\u4ec0\u4e48\uff0c\u5c31\u662fdp\u7684\u65f6\u5019\u4e00\u4e9b\u513f\u5b50\u53ef\u80fd\u540c\u65f6\u6df1\u5ea6\u5230\u8fbe$i-1$\uff0c\u6bcf\u6b21\u94a6\u5b9a**\u4e00\u4e2a**\u513f\u5b50\u7684\u6df1\u5ea6\u7684\u65f6\u5019\u5c31\u4f1a\u5bfc\u81f4\u65b9\u6848\u91cd\u590d\u3002\u65e2\u7136\u94a6\u5b9a\u4e00\u4e2a\u4e0d\u884c\uff0c\u90a3\u4e48\u6211\u4eec\u4e0d\u59a8\u5c31\u76f4\u63a5\u679a\u4e3e\u6709\u591a\u5c11\u4e2a\u513f\u5b50\u7684\u6df1\u5ea6\u5df2\u7ecf\u5230\u8fbe\u4e86$i-1$\uff0c\u518d\u8ba9\u5176\u4ed6\u7684\u513f\u5b50\u7684\u6df1\u5ea6\u4e0d\u8d85\u8fc7$i-2$\uff0c\u8fd9\u6837\u76f4\u63a5\u4e0a\u7ec4\u5408\u6570\u5c31\u4e0d\u4f1a\u91cd\u590d\u4e86\u3002\u90a3\u4e48\u8f6c\u79fb\u65b9\u7a0b\u5c31\u662f\uff1a\n\n$dp[i]=\\sum_{j=1}^nC_n^j*dp[i-1]^j*g[i-2]^{n-j}$\n\n\u4e0a\u4ee3\u7801\uff08\u90a3\u4e9b\u5927\u91cf\u7684\u8c03\u8bd5\u8bed\u53e5\u90fd\u662f\u9ad8\u7cbe\u95f9\u5f97\u2026\u2026\uff09\uff1a\n\n```cpp\n// luogu-judger-enable-o2\n// luogu-judger-enable-o2\n// luogu-judger-enable-o2\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#define int long long\nusing namespace std;\ntypedef struct _int{int len;\n    _int(){\n        len=1;\n    }\n    int data[1000];//9\u4f4d\u4e00\u4e2a \n    void init(){\n        len=1;\n        for(register int i=0;i<1000;i++)data[i]=0;\n    }\n    void print(){\n        //printf(\"%lld\",data[len-1]);\n        for(register int i=len-1;i>=0;i--){\n            printf(\"%.1lld\",data[i]);\n        }\n    }\n}INT;\nvoid add(_int &a,_int &b,_int &c){\n        //c.init();\n        unsigned long long cf=0;\n        int newl=max(a.len,b.len)+50;\n        //a.print();printf(\"+\");b.print();printf(\"=\");\n        for(register int i=0;i<newl;i++){\n            unsigned long long res=a.data[i]+b.data[i]+cf;\n            c.data[i]=res%10;cf=res/10;\n        }\n        while(newl>1&&c.data[newl-1]==0)newl--;c.len=newl;\n        //c.print();cout<<endl;\n}\nvoid mul(_int &a,_int &b,_int &c){\n\tint newl=a.len+b.len+10;\n    for(register int i=1;i<=a.len+10;i++){\n        unsigned long long cf=0;\n        unsigned long long tmp=a.data[i-1];\n        for(register int j=1;j<=b.len+10;j++){\n            unsigned long long res=(tmp*b.data[j-1])+cf+c.data[i+j-2];\n            c.data[i+j-2]=res%10;\n            cf=res/10;\n        }\n    }\n    while(newl>1&&c.data[newl-1]==0)newl--;\n    c.len=newl;\n}\nINT C[33][33];\nINT dp[17];\nINT mi[17][33];\nINT g[17];\nINT gmi[17][33];\nsigned main(){\n    int n,d;cin>>n>>d;\n    C[0][0].data[0]=1;\n    for(register int i=1;i<=n;i++){\n        C[i][0].data[0]=1;\n        for(register int j=1;j<=i;j++){\n            //printf(\"add(C[%d][%d],c[%d],[%d])--\",i-1,j,i-1,j-1);C[i-1][j].print();printf(\"+\");C[i-1][j-1].print();\n            //cout<<endl;\n            add(C[i-1][j],C[i-1][j-1],C[i][j]);\n        }\n    }\n    dp[0].data[0]=1;\n    g[0].data[0]=1;\n    dp[1].data[0]=1;\n    g[1].data[0]=2;\n    gmi[1][0].data[0]=1;\n    for(register int i=0;i<=n;i++){\n        mi[0][i].data[0]=gmi[0][i].data[0]=mi[1][i].data[0]=1;\n        if(i>0)mul(gmi[1][i-1],g[1],gmi[1][i]);\n    }\n    for(register int i=2;i<=d;i++){\n        INT tmp;tmp.init();\n        for(register int j=1;j<=n;j++){\n            INT cjr=C[n][j];\n            INT ywy;ywy.init();mul(cjr,mi[i-1][j],ywy);\n            cjr.init();mul(ywy,gmi[i-2][n-j],cjr);\n            ywy=tmp;tmp.init();add(cjr,ywy,tmp);\n        }\n        dp[i]=tmp;\n        add(g[i-1],dp[i],g[i]);\n        gmi[i][0].data[0]=1;\n        mi[i][0].data[0]=1;\n        for(register int j=1;j<=n;j++){\n            mul(gmi[i][j-1],g[i],gmi[i][j]);\n            mul(mi[i][j-1],dp[i],mi[i][j]);\n        }\n    }\n    dp[d].print();\n    return(0);\n} \n```",
        "postTime": 1529837357,
        "uid": 56917,
        "name": "\u989c\u4f1f\u4e1a_C_Asm",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4295 \u3010[SCOI2003]\u4e25\u683cN\u5143\u6811\u3011"
    },
    {
        "content": "\u8fd9\u9898\u81ea\u5df1\u641e\u4e86\u4e2adp\uff0c\u7136\u540e\u5361\u7a7a\u95f4\u4e00\u4e0a\u5348\u7ec8\u4e8e\u8fc7\u4e86\u2026\u2026\n\n\u4ee4$dp[i][j]$\u8868\u793a\u6df1\u5ea6\u4e3a$i$\uff0c\u8fd9\u4e00\u5c42\u6709$n * j$\u4e2a\u8282\u70b9\u7684$n$\u5143\u6811\u7684\u4e2a\u6570\u3002\u7136\u540e\u6211\u4eec\u679a\u4e3e\u4e0a\u4e00\u5c42\u7684\u8282\u70b9\u4e2a\u6570\u8fdb\u884c\u8f6c\u79fb\uff1a$dp[i][j] = \\sum _ {k = 1} ^ {n ^ {i - 2}}dp[i - 1][k] * C_{nk} ^ {j}$\u3002\n\n\u7136\u540e\u56e0\u4e3a~~\u51fa\u9898\u4eba\u8981\u6076\u5fc3\u4eba~~\u6ca1\u6709\u53d6\u6a21\uff0c\u6240\u4ee5\u8981\u5199\u9ad8\u7cbe\u3002\n\n\u5199\u5b8c\u540e\u81ea\u4fe1\u6ee1\u6ee1\u4e00\u4ea4MLE\u4e86\uff0c\u53d1\u73b0\u53ea\u6709128MB\u2026\u2026\u4e8e\u662f\u5f00\u59cb\u5361\u7a7a\u95f4\u2026\u2026\n\n\u9996\u5148\u628adp\u53d8\u6210\u6eda\u52a8\u6570\u7ec4\uff0c\u4f46\u8fd8\u662f\u8d85\u65f6\u3002\u8fd9\u65f6\u5019\u60f3\u5230\u4e86\u538b\u4f4d\u9ad8\u7cbe\uff0c\u4e8e\u662f\u628a\u6bcf8\u4f4d\u538b\u62101\u4f4d\uff0c\u7136\u540e\u9ad8\u7cbe\u6570\u7ec4\u957f\u5ea6\u6539\u6210$\\frac{200}{8} + 1 = 26$\uff0c\u8fd9\u6837\u5c31\u8fc7\u4e86\u2026\u2026\u591a\u5f00\u4e00\u70b9\u5c31\u4f1aMLE\u3002\n\n\uff08\u597d\u50cf\u5927\u4f6c\u4eec\u7684\u505a\u6cd5\u90fd\u662f\u5bb9\u65a5\u5565\u7684\uff09\n```c++\n#include<cstdio>\n#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\n#include<cstdlib>\n#include<cctype>\n#include<vector>\n#include<stack>\n#include<queue>\n#include<assert.h>\nusing namespace std;\n#define enter puts(\"\") \n#define space putchar(' ')\n#define Mem(a, x) memset(a, x, sizeof(a))\n#define In inline\ntypedef long long ll;\ntypedef double db;\nconst int INF = 0x3f3f3f3f;\nconst db eps = 1e-8;\nconst int maxn = 35;\nconst int N = 1024;\nIn ll read()\n{\n  ll ans = 0;\n  char ch = getchar(), last = ' ';\n  while(!isdigit(ch)) last = ch, ch = getchar();\n  while(isdigit(ch)) ans = (ans << 1) + (ans << 3) + ch - '0', ch = getchar();\n  if(last == '-') ans = -ans;\n  return ans;\n}\nIn void write(ll x)\n{\n  if(x < 0) x = -x, putchar('-');\n  if(x >= 10) write(x / 10);\n  putchar(x % 10 + '0');\n}\nIn void MYFILE()\n{\n#ifndef mrclr\n  freopen(\"ha.in\", \"r\", stdin);\n  freopen(\"ha.out\", \"w\", stdout);\n#endif\n}\n\nint n, d;\nconst int maxN = 26;\nconst int M = 100000000;\nconst int P = 8;\nstruct Big\n{\n  int a[maxN], len;\n  In void N() {a[0] = len = 1;}\n  friend In Big operator + (const Big& A, const Big& B)\n  {\n    Big ret; \n    int Len = min(maxN - 1, max(A.len, B.len));\n    if(Len == maxN - 1) {ret.a[0] = 0, ret.len = 1; return ret;}\n    Mem(ret.a, 0);\n    for(int i = 0; i < Len; ++i)\n      {\n\tret.a[i] += A.a[i] + B.a[i];\n\tret.a[i + 1] = ret.a[i] / M, ret.a[i] %= M;\n      }\n    if(Len < maxN - 1 && ret.a[Len]) ++Len;\n    while(Len > 1 && !ret.a[Len - 1]) --Len;\n    ret.len = Len;\n    return ret;\n  }\n  friend In Big operator * (const Big& A, const Big& B)\n  {\n    Big ret;\n    ret.len = min(maxN - 1, A.len + B.len - 1);\n    if(ret.len == maxN - 1) {ret.a[0] = 0, ret.len = 1; return ret;}\n    Mem(ret.a, 0);\n    for(int i = 0; i < A.len; ++i)\n      for(int j = 0; j < B.len; ++j)\n\t{\n\t  ll tp = 1LL * A.a[i] * B.a[j];\n\t  if(i + j < maxN) ret.a[i + j] += tp % M;\n\t  if(i + j + 1 < maxN) ret.a[i + j + 1] += tp / M;\n\t}\n    if(ret.len < maxN - 1 && ret.a[ret.len]) ++ret.len;\n    while(ret.len > 1 && !ret.a[ret.len - 1]) --ret.len;\n    return ret;\n  }\n  In void out()\n  {\n    write(a[len - 1]);\n    for(int i = len - 2; i >= 0; --i) printf(\"%0*d\", P, a[i]);\n  }\n}C[N + 2][N + 2], dp[2][N + 2];\n\nll Pow[N + 2];\nIn void init()\n{\n  for(int i = 0; i <= N; ++i)\n    for(int j = 0; j <= N; ++j) C[i][j].a[0] = 0, C[i][j].len = 1;\n  C[0][0].N();\n  for(int i = 1; i <= N; ++i)\n    {\n      C[i][0].N();\n      for(int j = 1; j <= i; ++j) C[i][j] = C[i - 1][j] + C[i - 1][j - 1];\n    }\n  Pow[0] = 1;\n  for(int i = 1; i <= N; ++i) Pow[i] = Pow[i - 1] * n;\n}\n\nint main()\n{\n  MYFILE();\n  n = read(), d = read();\n  if(!d) {puts(\"1\"); return 0;}\n  init();\n  dp[0][1].N(), dp[1][1].N();\n  int o = 0;\n  for(int i = 2; i <= d; ++i, o ^= 1)\n    {\n      for(int j = 1; j <= Pow[i - 1]; ++j)\n\t{\n\t  Mem(dp[o][j].a, 0); dp[o][j].len = 1;\n\t  for(int k = 1; k <= Pow[i - 2]; ++k)\n\t    dp[o][j] = dp[o][j] + (dp[o ^ 1][k] * C[n * k][j]);\n\t}\n    }\n  Big ans; Mem(ans.a, 0), ans.len = 1;\n  for(int i = 1; i <= Pow[d - 1]; ++i) ans = ans + dp[o ^ 1][i];\n  ans.out(), enter;\n  return 0;\n}\n```",
        "postTime": 1559460098,
        "uid": 55965,
        "name": "mrclr",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P4295 \u3010[SCOI2003]\u4e25\u683cN\u5143\u6811\u3011"
    },
    {
        "content": "# c++\u9ad8\u7cbe\u5ea6+\u666e\u901a\u89e3\u6cd5\n\u8fd9\u91cc\u63a8\u8350\u4e00\u4e0b[\u6211\u7684\u535a\u5ba2](/blog/144417/solution-p4295) ~~\u5728\u535a\u5ba2\u91cc\u89c2\u770b\u66f4\u4f73\u54e6~~\n> \u8fd9\u9898\u5176\u5b9e\u8003\u7684\u662f\u5927\u6574\u6570\uff08\u9ad8\u7cbe\u5ea6\uff09\n> \u9ad8\u7cbe\u5ea6\u89e3\u51b3\u540e\u5c31\u597d\u529e\u4e86\n\n> \u8fd0\u7528\u4e00\u4e9b\u4f4d\u8fd0\u7b97\u5c31\u80fd\u907f\u514d\u8d85\u65f6\n\n> \u6700\u540e\u5012\u5e8f\u8f93\u51fa\u5c31\u597d\u4e86\n\n> \u4e0b\u9762\u662f\u4ee3\u7801\n\n```cpp\n  #include<iostream>\n  #include<cstdio>\n  #include<cstring>\n  using namespace std;\n  const int maxn = 210;\n  int n, d;\n  //\u5927\u6574\u6570\u7ed3\u6784\u4f53\u548c\u52a0\u51cf\u4e58\n  struct bigint { int l, a[210]; } a[35], b, c, p, t;\n  bigint sum(bigint a, bigint b) {\n      memset(c.a, 0, sizeof(c.a)), c.l = max(a.l, b.l);\n      for (int i = 1; i <= c.l; i++) {\n          c.a[i] += a.a[i] + b.a[i];\n          c.a[i + 1] += c.a[i] / 10000, c.a[i] %= 10000;\n      }\n      while (c.l && !c.a[c.l]) c.l--; return c;\n  }\n  bigint sub(bigint a, bigint b) {\n      memset(c.a, 0, sizeof(c.a)), c.l = a.l;\n      for (int i = 1; i <= a.l; i++) {\n          c.a[i] = a.a[i] - b.a[i];\n          if (c.a[i] < 0) c.a[i] += 10000, a.a[i + 1]--;\n      }\n      while (c.l && !c.a[c.l]) c.l--; return c;\n  }\n  bigint mul(bigint a, bigint b) {\n      memset(c.a, 0, sizeof(c.a)), c.l = a.l + b.l;\n      for (int i = 1; i <= a.l; i++) {\n          for (int j = 1; j <= b.l; j++) {\n              c.a[i + j - 1] += a.a[i] * b.a[j];\n              c.a[i + j] += c.a[i + j - 1] / 10000, c.a[i + j - 1] %= 10000;\n          }\n      }\n      while (c.l && !c.a[c.l]) c.l--; return c;\n  }\n  int main() {\n      scanf(\"%d %d\", &n, &d);\n      a[0].a[1] = a[0].l = t.a[1] = t.l = 1;\n      //\u63a5\u4e0b\u6765\u5c31\u548c\u666e\u901a\u7684\u6c42\u89e3\u4e00\u6837\u4e86\uff0c\u53ea\u4e0d\u8fc7\u662f\u7528\u5230\u4e86\u5927\u6574\u6570\n      for (int i = 1, k; i <= d; a[i++] = sum(b, t)) {\n          memset(b.a, 0, sizeof(b.a)), p = a[i - 1], b.a[1] = b.l = 1;\n          for (k = n; k; k >>= 1, p = mul(p, p)) if (k & 1) b = mul(b, p);\n      }\n      a[d] = sub(a[d], a[d - 1]), printf(\"%d\", a[d].a[a[d].l]);\n      for (int i = a[d].l - 1; i; i--) printf(\"%04d\", a[d].a[i]);//\u8f93\u51fa\u65f6\u6ce8\u610f%04d\n      return 0;\n  }\n```",
        "postTime": 1572512560,
        "uid": 144417,
        "name": "bradfordzhang",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P4295 \u3010[SCOI2003]\u4e25\u683cN\u5143\u6811\u3011"
    },
    {
        "content": "\u5bb9\u6613\u53d1\u73b0\uff0c\u76f4\u63a5\u6c42\u9ad8\u5ea6\u4e3a $d$ \u7684\u4e25\u683c $n$ \u5143\u6811\u6570\u91cf\u4e0d\u662f\u5f88\u5bb9\u6613\uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651\u6c42\u9ad8\u5ea6\u4e0d\u8d85\u8fc7 $d$ \u7684\u4e25\u683c $n$ \u5143\u6811\u7684\u4e2a\u6570\uff0c\u518d\u51cf\u53bb\u9ad8\u5ea6\u4e0d\u8d85\u8fc7 $d-1$ \u7684\u4e25\u683c $n$ \u5143\u6811\u7684\u4e2a\u6570\uff0c\u5c31\u662f\u7b54\u6848\u3002\n\n$f_d$ \u8868\u793a\u9ad8\u5ea6\u4e0d\u8d85\u8fc7 $d$ \u7684\u4e25\u683c $n$ \u5143\u6811\u7684\u4e2a\u6570\uff0c\u53ef\u4ee5\u63a8\u51fa\u8f6c\u79fb\u65b9\u7a0b\uff1a\n$$f_d=1+f_{d-1}^n$$\n\n\u56e0\u4e3a\u662f\u4e25\u683c $n$ \u5143\u6811\uff0c\u8981\u4e48\u6839\u8282\u70b9\u662f\u53f6\u5b50\u8282\u70b9\uff0c\u8981\u4e48\u6839\u8282\u70b9\u6709 $n$ \u4e2a\u513f\u5b50\u3002\n\n\u6839\u8282\u70b9\u662f\u53f6\u5b50\u7ed3\u70b9\u7684\u9ad8\u5ea6\u4e0d\u8d85\u8fc7 $d$ \u7684\u4e25\u683c $n$ \u5143\u6811\u663e\u800c\u6613\u89c1\u53ea\u6709 $1$ \u4e2a\u3002\n\n\u6839\u8282\u70b9\u6709 $n$ \u4e2a\u513f\u5b50\u7684\u9ad8\u5ea6\u4e0d\u8d85\u8fc7 $d$ \u7684\u4e25\u683c $n$ \u5143\u6811\u7684\u6bcf\u4e2a\u513f\u5b50\u5bf9\u5e94\u7684\u5b50\u6811\u7684\u9ad8\u5ea6\u663e\u800c\u6613\u89c1\u4e0d\u80fd\u8d85\u8fc7 $d-1$\uff0c\u6839\u636e\u4e58\u6cd5\u539f\u7406\uff0c\u6709 $f_{d-1}^n$ \u4e2a\u8fd9\u6837\u7684\u4e25\u683c $n$ \u5143\u6811\u3002\n\n\u4f46\u662f\u8fd9\u9898\u8981\u9ad8\u7cbe\u5ea6\uff0c\u6240\u4ee5\u6211\u7528\u7684 python\uff0c\u4ee3\u7801\uff1a\n```python\ns=input()\nn=int(s.split(' ')[0])\nd=int(s.split(' ')[1])\nx=1\nfor i in range(d-1):\n    x=x**n+1\nprint(x**n+1-x)\n```",
        "postTime": 1651546808,
        "uid": 203008,
        "name": "toaru",
        "ccfLevel": 5,
        "title": "P4295 [SCOI2003]\u4e25\u683cN\u5143\u6811"
    },
    {
        "content": "\u5047\u8bbef[i]\u4e3a\u6df1\u5ea6\u5c0f\u4e8e\u7b49\u4e8ei\u7684\u4e25\u683cn\u5143\u6811\u7684\u4e2a\u6570\uff0c\u90a3\u4e48\u5c06\u5b83\u8f6c\u79fb\u6210f[i+1]\n\n\u76f8\u5f53\u4e8e\u7ed9\u65b0\u5efa\u4e00\u4e2a\u6839\u7ed3\u70b9\uff0c\u6bcf\u4e2a\u6839\u7ed3\u70b9\u7684\u513f\u5b50\u6709f[i]\u79cd\u9009\u62e9\uff0c\u5c31\u662ff[i]^n\n\n\u518d\u5305\u62ec\u65b0\u52a0\u4e00\u4e2a\u6df1\u5ea6\u4e3a1\u7684\u6839\u7ed3\u70b9\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u9012\u63a8\u5f0f\u5c31\u662ff[i+1]=f[i]^n+1\n```\nimport java.math.BigInteger;\nimport java.util.Scanner;\n\n\npublic class Main {\n\tpublic static BigInteger qpow(BigInteger a,int n)\n\t{\n\t\tBigInteger ans=new BigInteger(\"1\");\n\t\twhile(n!=0)\n\t\t{\n\t\t\tif((n&1)==1) ans=ans.multiply(a);\n\t\t\ta=a.multiply(a);\n\t\t\tn>>=1;\n\t\t}\n\t\treturn ans;\n\t}\n\tpublic static void main(String []args)\n\t{\n\t\tBigInteger []f=new BigInteger[105];\n\t\tf[0]=new BigInteger(\"1\");\n\t\tScanner sc=new Scanner(System.in);\n\t\tint n=sc.nextInt(),d=sc.nextInt();\n\t\tfor(int i=1;i<=d;i++)\n\t\t\tf[i]=qpow(f[i-1],n).add(new BigInteger(\"1\"));\n\t\tif(d!=0)\n\t\t\tSystem.out.println(f[d].subtract(f[d-1]));\n\t\telse System.out.println(f[d]);\n\t}\n}\n\n```\n",
        "postTime": 1564712861,
        "uid": 202208,
        "name": "Huah",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4295 \u3010[SCOI2003]\u4e25\u683cN\u5143\u6811\u3011"
    }
]