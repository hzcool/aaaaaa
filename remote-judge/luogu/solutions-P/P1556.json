[
    {
        "content": "\u6ce8\u610f\u5230$n\\le10$\uff0c\u6240\u4ee5\u679a\u4e3e\u7ecf\u8fc7\u7684\u62d0\u5f2f\u725b\u7684\u6240\u6709\u6392\u5217\u3002\n\n\u6ce8\u610f\u5230STL\u662f\u4e00\u4e2a\u597d\u4e1c\u897f\uff0c\u6240\u4ee5\u6211\u8fd9\u91cc\u5077\u61d2\u76f4\u63a5\u4f7f\u7528\u4e86`next_permutation`\n\n\u679a\u4e3e\u6240\u6709n\u7684\u6392\u5217\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u6392\u5217\u4e5f\u5c31\u662f\u7ecf\u8fc7\u62d0\u5f2f\u725b\u7684\u987a\u5e8f\uff0c\u6211\u4eec\u8981\u5224\u65ad\u4e24\u70b9\uff1a\n- \u4e00\u4e2a\u662f\u76f8\u90bb\u7684\u4e24\u4e2a\u725b(\u4ee5\u53ca\u4ece(0,0)\u5230\u7b2c\u4e00\u4e2a\u725b\uff0c\u548c\u4ece\u6700\u540e\u4e00\u4e2a\u725b\u5230(0,0))\u7684\u8def\u5f84\u662f\u5426\u5e73\u884c\u5750\u6807\u8f74\uff0c\u8fd9\u4e2a\u76f4\u63a5\u5224\u76f8\u7b49\u5373\u53ef\u3002\n- \u8fd8\u6709\u4e00\u4e2a\u662f\u8981\u5224\u65ad\u7ecf\u8fc7\u6bcf\u4e00\u5934\u725b\u662f\u5426\u62d0\u5f2f\u4e86\uff0c\u5bf9\u4e8e\u7b2cp\u5934\u725b\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u4ece\u7b2cp-1\u5934\u725b(\u5f53p=1\u5c31\u662f\u539f\u70b9)\u5230\u7b2cp\u5934\u725b\u7684\u8def\u5f84\u5411\u91cf\uff0c\u548c\u7b2cp\u5934\u725b\u5230\u7b2cp+1\u5934\u725b(\u5f53p=n\u5c31\u662f\u8fdc\u70b9)\u7684\u8def\u5f84\u5411\u91cf\uff0c\u901a\u8fc7\u4e24\u4e2a\u5411\u91cf\u7684\u70b9\u79ef\u5c31\u53ef\u4ee5\u65b9\u4fbf\u5730\u5224\u65ad\u662f\u5426\u8f6c\u5f2f\uff0c\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u5224\u65ad\u4e86\u662f\u5426\u5782\u76f4\u5e73\u884c\u5750\u6807\u7cfb\uff0c\u6240\u4ee5\u70b9\u79ef\u4e3a0\u8bf4\u660e\u8f6c\u5f2f90\u5ea6\uff0c\u70b9\u79ef\u5c0f\u4e8e0\u8bf4\u660e\u6389\u5934\uff0c\u70b9\u79ef\u5927\u4e8e0\u8bf4\u660e\u6ca1\u6709\u8f6c\u5f2f\u3002\n\n\u7136\u540e\u7b54\u6848\u5c31\u662f\u5408\u6cd5\u7684n\u7684\u6392\u5217\u7684\u4e2a\u6570\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\n\nstruct coord\n{\n    int x, y;\n}c[12];\n\nint a[10] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\nint n, ans;\n\nbool work()\n{\n    //\u4e0a\u4e00\u6b21\u7684\u5750\u6807\n    int lx = 0, ly = 0;\n    for (int i = 0; i < n; i++)\n    {\n        int p = a[i];\n        int x = c[p].x, y = c[p].y;//\u672c\u6b21\u7684\u5750\u6807\n        int nx = c[a[i + 1]].x, ny = c[a[i + 1]].y;//\u4e0b\u4e00\u6b21\u7684\u5750\u6807\n        //\u5224\u65ad\u8def\u5f84\u662f\u5426\u5e73\u884c\u4e8e\u5750\u6807\u8f74\n        if(((lx == x) || (ly == y)) == 0)\n            return false;\n        if(((nx == x) || (ny == y)) == 0)\n            return false;\n        //1\u548c2\u662f\u4e24\u4e2a\u5411\u91cf\n        int x1 = x - lx, y1 = y - ly;\n        int x2 = nx - x, y2 = ny - y;\n        if((x1 * x2 + y1 * y2 > 0))//\u8ba1\u7b97\u70b9\u79ef\n        {\n            return false;\n        }\n        lx = x;//\u66f4\u65b0\u5750\u6807\n        ly = y;\n    }\n    return true;\n}\n\nint main()\n{\n    scanf(\"%d\", &n);\n    for (int i = 0; i < n; i++)\n        scanf(\"%d%d\", &c[i].x, &c[i].y);\n    a[n] = n;\n    do\n        ans += work();\n    while (next_permutation(a, a + n));\n    printf(\"%d\\n\", ans);\n    return dou;\n}\n```\n\u8ba9\u6211\u4eec\u4e00\u8d77\u819c\u62dc\u5927\u4f6c\u6797\u745e\u5802@[olinr](https://www.luogu.org/space/show?uid=88460)",
        "postTime": 1536027352,
        "uid": 13091,
        "name": "ghj1222",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1556 \u3010\u5e78\u798f\u7684\u8def\u3011"
    },
    {
        "content": "\u9898\u7684\u672c\u8d28\u4e0d\u96be\uff0c\u5927\u6982\u4e5f\u5c31\u9ec4\u9898\u7684\u6c34\u5e73\uff0cdfs\u5373\u53ef\u3002~~\uff08\u6211\u662f\u4e0d\u4f1a\u544a\u8bc9\u4f60\u6211\u63d0\u4ea4\u4e863\u6b21\u624dAC\uff09~~\n\n\u5230\u8fbe\u4e0b\u4e00\u53ea\u725b\uff08dfs\u4e0b\u4e00\u6b65)\u7684\u6761\u4ef6\uff1a\n\n1\u3001\u4e0e\u5f53\u524d\u7684\u725b\u7684x\u8f74\u6216y\u8f74\u5750\u6807\u76f8\u7b49\u3002\n\n2\u3001**\u9700\u8981\u8f6c\u5f2f\u624d\u80fd\u5230\u8fbe**\u3002\n\n3\u3001\u6b64\u524d\u672a\u7ecf\u8fc7\u3002\n\n\u7b2c\u4e00\u4e2a\u91cd\u70b9\u5728\u4e8e\u7b2c\u4e8c\u4e2a\u6761\u4ef6\uff0c\u5982\u4f55\u5224\u65ad\u662f\u5426\u5b58\u5728\u8f6c\u5f2f\uff1f\u8fd9\u91cc\u4f7f\u7528\u4e00\u4e2a\u51fd\u6570\uff0c\u901a\u8fc7\u5bf9\u8d77\u59cb\u70b9\u548c\u76ee\u6807\u70b9\u7684\u5224\u65ad\uff0c\u8fd4\u56de\u7ebf\u8def\u7684\u65b9\u5411\uff1a\n\n```cpp\ninline int dire(int x, int y, int x1, int y1) {\n\t// \u56e0\u4e3a\u6761\u4ef61\uff0c\u6240\u4ee5\u53ea\u7528\u5224\u65ad\u4e0d\u76f8\u540c\u7684\u8f74\u7684\u5927\u5c0f\u5173\u7cfb\u3002\n\tif (x < x1) return 1;\n\tif (x > x1) return 2;\n\tif (y < y1) return 3;\n\tif (y > y1) return 4;\n}\n```\n\n\u7b2c\u4e8c\u4e2a\u91cd\u70b9\u662f\u5224\u65ad\u662f\u5426\u4e3a\u4e00\u6761\u8def\u5f84\u3002\u4e3a\u6240\u6709\u70b9\u5b9a\u4e49\u4e00\u4e2abool\u6570\u7ec4\uff0c\u8bb0\u5f55\u662f\u5426\u5df2\u7ecf\u7ecf\u8fc7\u3002\u5728dfs\u51fd\u6570\u7684\u5f00\u5934\u5224\u65ad\u662f\u5426\u6240\u6709\u70b9\u90fd\u5df2\u7ecf\u7ecf\u8fc7\uff0c\u5982\u679c\u6210\u7acb\uff0c\u5224\u65ad**\u662f\u5426\u80fd\u5728\u8f6c\u5f2f\u540e\u56de\u5230\u539f\u70b9**\u3002\u5982\u679c\u4ecd\u7136\u6210\u7acb\uff0c\u5219\u8ba1\u6570\u5668\u52a01\u3002\n\n\u6700\u540e\u4ee3\u7801\u5982\u4e0b\uff1a\uff08\u7801\u98ce\u6b20\u4f73\u8bf7\u89c1\u8c05\uff09\n\n```cpp\n#include <cstdio>\n#include <cstring>\nusing namespace std;\nstruct point {int x, y;} p[11];\nint n, ans = 0;\nbool b[11], c;\ninline int dire(int x, int y, int x1, int y1) {\n\tif (x < x1) return 1;\n\tif (x > x1) return 2;\n\tif (y < y1) return 3;\n\tif (y > y1) return 4;\n}\nvoid dfs(int x, int y, int d) {\n\tc = true;\n\tfor (register int i = 0; i < n; i++)\n\t\tif (b[i]) {\n\t\t\tc = false; break;\n\t\t} \n\tif (c && (x == 0 || y == 0) && dire(x, y, 0, 0) != d)  {\n\t\tans++; return;\n\t}\n\tfor (register int i = 0; i < n; i++)\n\t\tif ((p[i].x == x || p[i].y == y) && b[i] && dire(x, y, p[i].x, p[i].y) != d) {\n\t\t\tb[i] = false;\n\t\t\tdfs(p[i].x, p[i].y, dire(x, y, p[i].x, p[i].y));\n\t\t\tb[i] = true;\n\t\t}\n}\nint main() {\n\tmemset(b, true, sizeof(b));\n\tscanf(\"%d\", &n);\n\tfor (register int i = 0; i < n; i++) scanf(\"%d%d\", &p[i].x, &p[i].y);\n\tdfs(0, 0, 0);\n\tprintf(\"%d\\n\", ans);\n\treturn 0;****\n}\n```\n\n~~\uff08\u6ca1\u9519\uff0c\u52a0\u9ed1\u7684\u90a3\u4e24\u5904\u6b63\u662f\u6211\u4e24\u6b21WA\u7684\u539f\u56e0\uff09~~\n\n\u770b\u7740\u5c0f\u849f\u84bb\u5199\u5f97\u90a3\u4e48\u8ba4\u771f\uff0c\u4e0d\u70b9\u4e2a\u8d5e\u518d\u8d70\u5417\uff1f",
        "postTime": 1563461131,
        "uid": 200930,
        "name": "\u30d9\u72d0\u4ed9\u59d0\u59d0\u3054",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1556 \u3010\u5e78\u798f\u7684\u8def\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.org/problem/P1556)\n\n\u601d\u8def\uff1adfs\uff0c\u56e0\u4e3a\u8981\u5728\u6bcf\u4e2a\u5976\u725b\u5904\u6070\u597d\u8f6c\u5411\u4e00\u6b21\uff0c\u6240\u4ee5\u5c31\u904d\u5386\u6240\u6709\u5976\u725b\uff0c\u904d\u5386\u4e00\u6b21\u8f6c\u4e00\u6b21\u5411\uff0c\u6bcf\u6b21\u8d70\u5230\u4e00\u5934\u5976\u725b\u5c31\u8bb0\u5f55\u8be5\u5976\u725b\u5df2\u7ecf\u904d\u5386\u8fc7\uff0c\u5bfb\u627e\u4e0b\u4e00\u4e2a\u6ca1\u6709\u904d\u5386\u8fc7\u7684\u4e14\u524d\u5f80\u8be5\u5976\u725b\u9700\u8981\u8f6c\u5411\u7684\u5976\u725b\u5e76\u7ee7\u7eed\u904d\u5386\u3002\n\n\u4ee3\u7801\uff1a\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint n,x[11],y[11],ans;//asn\u8bb0\u5f55\u7b54\u6848\nvoid dfs(int zt,int a,int b,int fx)//zt\u8bb0\u5f55\u6bcf\u4e2a\u5976\u725b\u662f\u5426\u904d\u5386\u8fc7\uff08\u72b6\u6001\u538b\u7f29\uff09\uff0ca\uff0cb\u8bb0\u5f55\u5f53\u524d\u5750\u6807\uff0cfx\u8bb0\u5f55\u5f53\u524d\u65b9\u5411\uff0c\u4ee4\u5411\u4e0b\u4e3a1\uff0c\u5411\u4e0a\u4e3a2\uff0c\u5411\u5de6\u4e3a3\uff0c\u5411\u53f3\u4e3a4\n{\n\tif(zt==(1<<n)-1)//\u5982\u679c\u5df2\u904d\u5386\u5b8c\u6240\u6709\u5976\u725b\n\t{\n\t\tif(a==0 && b>0 && fx!=1)ans++;//\u5982\u679c\u524d\u5f80\u539f\u70b9\u7684\u65b9\u5411\u4e0e\u5f53\u524d\u65b9\u5411\u4e0d\u540c\u5c31\u5c06ans+1\n\t\tif(a==0 && b<0 && fx!=2)ans++;\n\t\tif(a>0 && b==0 && fx!=3)ans++;\n\t\tif(a<0 && b==0 && fx!=4)ans++;\n\t}\n\tfor(int i=1;i<=n;i++)//\u5bfb\u627e\u4e0b\u4e00\u4e2a\u53ef\u4ee5\u904d\u5386\u7684\u5976\u725b\n\t{\n\t\tif(zt&(1<<(i-1)))continue;//\u5982\u679c\u5df2\u88ab\u904d\u5386\u8fc7\u5c31continue\n\t\tif(a==x[i] || b==y[i])//\u5982\u679c\u53ef\u4ee5\u5230\u8fbe\u8be5\u5976\u725b\n\t\t{\n\t\t\tif(a==x[i] && b>y[i] && fx!=1)dfs(zt|(1<<(i-1)),x[i],y[i],1);//\u5982\u679c\u524d\u5f80\u8be5\u5976\u725b\u7684\u65b9\u5411\u4e0e\u5f53\u524d\u65b9\u5411\u4e0d\u540c\uff0c\u5c31\u8f6c\u5411\uff0c\u5f80\u4e0b\u904d\u5386\uff0c\u5e76\u8bb0\u5f55\u5f53\u524d\u5976\u725b\u5df2\u904d\u5386\u8fc7\n\t\t\tif(a==x[i] && b<y[i] && fx!=2)dfs(zt|(1<<(i-1)),x[i],y[i],2);\n\t\t\tif(a>x[i] && b==y[i] && fx!=3)dfs(zt|(1<<(i-1)),x[i],y[i],3);\n\t\t\tif(a<x[i] && b==y[i] && fx!=4)dfs(zt|(1<<(i-1)),x[i],y[i],4);\n\t\t}\n\t}\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)scanf(\"%d%d\",&x[i],&y[i]);\n\tdfs(0,0,0,-1);//\u5f00\u59cbdfs\uff0c\u4e00\u5f00\u59cb\u6ca1\u6709\u65b9\u5411\u5c31\u968f\u4fbf\u8bbe\u4e2a\u65b9\u5411\n\tprintf(\"%d\",ans);\n}\n```\n![](https://www.luogu.org/images/congratulation.png)",
        "postTime": 1566805395,
        "uid": 60075,
        "name": "pzc2004",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1556 \u3010\u5e78\u798f\u7684\u8def\u3011"
    },
    {
        "content": "\u76f4\u63a5dfs\uff0c\u5c31\u662f\u8981\u5224\u65ad\u4e00\u4e0b\u65b9\u5411\uff0c\u6765\u7684\u65b9\u5411\u548c\u53bb\u7684\u65b9\u5411\u76f8\u540c\u8981\u526a\u679d\uff0c\u800c\u4e14\u8981\u6ce8\u610f\u6700\u540e\u8981\u56de\u5230\u539f\u70b9\u3002\n\n\u56e0\u4e3a\u5224\u65ad\u65b9\u5411\u8981\u7528\u5f88\u591a\u6b21\uff0c\u6240\u4ee5\u53ef\u4ee5\u5199\u6210\u4e00\u4e2a\u51fd\u6570\u3002\u7528ifelse\u7684\u8bdd\u4f1a\u7a0d\u5fae\u957f\u4e00\u70b9\uff0c\u6240\u4ee5\u6211\u76f4\u63a5return x1==x2?int(y1>y2):int(x1>x2)+2;\n\u5982\u679c\u89c9\u5f97\u8fd9\u6837\u53ef\u8bfb\u6027\u8f83\u5dee\uff08\u5176\u5b9e\u6211\u5b8c\u5168\u4e0d\u89c9\u5f97\uff09ifelse\u4e5f\u5f88\u597d\u5b9e\u73b0\n\n\u987a\u4fbf\u8bf4\u4e00\u4e0b\u6211\u4e4b\u524d\u7528\u90bb\u63a5\u8868\u5199\u7684\uff0c\u4ee3\u7801\u5f88\u957f\uff0c\u6d6a\u8d39\u7a7a\u95f4\uff0c\u800c\u4e14\u56e0\u4e3a\u6570\u636e\u6bd4\u8f83\u5c0fSTL\u53cd\u800c\u6162..\u6240\u4ee5\u7528\u90bb\u63a5\u8868\u8fd8\u662f\u8981\u6ce8\u610f\u6570\u636e\u5927\u5c0f\n\n\u7a81\u7136\u53d1\u73b0\u90a3\u4e9b1000\u7528\u4e0d\u4e0a\u4e86..\u90a3\u662f\u4e4b\u524d\u6211\u5199\u90bb\u63a5\u8868\u7528\u7684\uff0c\u61d2\u5f97\u5220\u4e86\uff0c\u5c31\u8fd9\u6837\u5427..\n\n```\n#include <iostream>\n\nusing namespace std;\n\nint x[20],y[20],n,ans;\nbool vis[20];\n\nvoid dfs(int c,int d,int dep);\nint dir(int x1,int y1,int x2,int y2);\n\nint main()\n{\n\tint i;\n\t\n\tcin>>n;\n\t\n\tfor (i=1;i<=n;++i)\n\t{\n\t\tcin>>x[i]>>y[i];\n\t\tx[i]+=1000;\n\t\ty[i]+=1000;\n\t}\n\t\n\tx[0]=y[0]=1000;\n\t\n\tdfs(0,4,0);\n\t\n\tcout<<ans;\n\t\n\treturn 0;\n}\n\nvoid dfs(int c,int d,int dep)\n{\n\tif (dep==n)\n\t{\n\t\tif ((x[c]==1000||y[c]==1000)&&dir(1000,1000,x[c],y[c])!=d)\n\t\t{\n\t\t\t++ans;\n\t\t}\n\t\treturn;\n\t}\n\t\n\tvis[c]=true;\n\t\n\tfor (int i=1;i<=n;++i)\n\t{\n\t\tif (!vis[i]&&(x[i]==x[c]||y[i]==y[c])&&dir(x[i],y[i],x[c],y[c])!=d)\n\t\t{\n\t\t\tdfs(i,dir(x[i],y[i],x[c],y[c]),dep+1);\n\t\t}\n\t}\n\t\n\tvis[c]=false;\n}\n\nint dir(int x1,int y1,int x2,int y2)\n{\n\treturn x1==x2?int(y1>y2):int(x1>x2)+2;\n}\n```",
        "postTime": 1517886207,
        "uid": 49742,
        "name": "ouuan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1556 \u3010\u5e78\u798f\u7684\u8def\u3011"
    },
    {
        "content": "**\u4e00\u9053\uff08\u4e0d\uff09\u666e\u901a\u7684dfs\u2026\u2026**\n\n\n------------\n### STEP 1 \u5ba1\u9898\n\n1.\u8d77\u70b9\u4e3a\uff08 0 \uff0c0 \uff09\uff0c\u7ec8\u70b9\u4e3a \uff08 0 \uff0c0\uff09\uff1b\n\n2.\u4e24\u6b21\u884c\u8d70\u4e0d\u80fd\u6765\u81ea\u540c\u4e00\u4e2a\u65b9\u5411\uff1b\n\n3.\u6c42~~\u6293\u5b8c~~\u6240\u6709\u5976\u725b\u7684\u603b\u65b9\u6848\u6570\uff1b\n\nps\uff1an<=10\uff1b\n\n\n\n------------\n### STEP 2 \u601d\u8def\n\n\u770b\u5230\u6570\u636e\u8303\u56f4\uff0c~~\u563b\u563b~~\u6df1\u641c+\u526a\u679d\u59a5\u59a5\u6ca1\u95ee\u9898~\n\n\u6df1\u641c\uff0c\u4e0d\u649e\u5357\u5899\u4e0d\u56de\u5934\uff0c\u76f4\u5230\u641c\u5230\u5408\u7406\u7684\u7b54\u6848\u624d\u5c06\u603b\u65b9\u6848\u6570+1\u540e\u8fd4\u56de\u3002\n\n\n------------\n### STEP 3 \u526a\u679d\n~~\u5176\u5b9e\u8fd9\u9053\u9898\u4e5f\u4e0d\u7528\u600e\u4e48\u526a~~\n\n1.\u8d70\u8fc7\u7684\u70b9\u4e0d\u80fd\u8d70\uff08\u8fd9\u597d\u50cf\u4e0d\u7b97\u526a\u679d~\n\n2.\u5982\u65b9\u5411\u4e00\u6837\u5c31\u8fdb\u884c\u4e0b\u4e00\u4e2a\u70b9\n\n3.\u6ca1\u6709\u4efb\u4f55\u4e00\u4e2a\u5750\u6807\u4e00\u6837\u5c31\u8fd4\u56de\n\n\n------------\n### STEP 4 90\u5206\u4ee3\u7801\u53ca\u6ce8\u91ca\uff08\u6ca1\u9519\uff0c\u62d2\u7eddctrl+c\uff09\n```\n#include<bits/stdc++.h>//\u4e07\u80fd\u5934\u6587\u4ef6\nusing namespace std;\nint n,cx[11],cy[11],v[11],ans;\n//\u5206\u522b\u8bb0\u5f55\u603b\u6570\uff0c\u6bcf\u4e2a\u70b9\u7684\u5750\u6807\uff0c\u5224\u65ad\u662f\u5426\u8d70\u8fc7\u4ee5\u53ca\u7b54\u6848\u6570\nvoid dfs(int x,int y,int g,int f){//\u5206\u522b\u8868\u793a\u8be5\u70b9\u7684x,y\u5750\u6807\uff0c\u5c42\u6570\u4ee5\u53ca\u8fc7\u6765\u7684\u65b9\u5411\n\tif (g==n){//\u5982\u679c\u6bcf\u4e2a\u70b9\u90fd\u5904\u7406\u5b8c\u4e86\n\t\tint w;//\u8bb0\u5f55\u5982\u679c\u5411\u7ec8\u70b9\u8d70\u7684\u65b9\u5411\n\t\tif (cx[x]==0){\n\t\t\tif (0>cy[y]) w=4;\n\t\t\telse w=3;\n\t\t}else{\n\t\t\tif (0>cx[x]) w=2;\n\t\t\telse w=1;\n\t\t}\n\t\tif (w==f) return;//\u76f8\u540c\u5c31\u8fd4\u56de\n\t\tans++;\n\t\treturn;\n\t}\n\tfor (int i=1;i<=n;i++){\n\t\tif (!v[i]){//\u6ca1\u6709\u8d70\u8fc7\n\t\t\tif (g==n-1&&cx[i]!=0&&cy[i]!=0) return;//\u5982\u679c\u662f\u6700\u540e\u4e00\u4e2a\u70b9\u5e76\u4e14x,y\u5750\u6807\u90fd\u4e0d\u662f0\u5c31\u8fd4\u56de\n\t\t\tint w;\n\t\t\tif (cx[i]==x){\n\t\t\t\tif (cy[i]>y) w=4;\n\t\t\t\telse w=3; \n\t\t\t}else if (cy[i]==y){\n\t\t\t\tif (cx[i]>x) w=2;\n\t\t\t\telse w=1;\n\t\t\t}else continue;//\u5982\u4e0a\u8bb0\u5f55\u65b9\u5411\n\t\t\tif (w==f) continue;\n\t\t\tv[i]=1;//\u6807\u8bb0\n\t\t\tdfs(cx[i],cy[i],g+1,w);//\u641c\n\t\t\tv[i]=0;//\u56de\u9619\n\t\t}\n\t}\n}\nint main(){\n    scanf(\"%d\",&n);\n    for (int i=1;i<=n;i++) scanf(\"%d %d\",&cx[i],&cy[i]);//\u8f93\u5165\n    dfs(0,0,0,0);//\u641c\u7d22\n    printf(\"%d\\n\",ans);//\u8f93\u51fa\n    return 0;//\u597d\u4e60\u60ef++\n}\n```\n\n\n------------\n### STEP 5 \u5b8c\u7ed3\u6492\u82b1\uff01\n90\u5206\u4ee3\u7801\u53ea\u8981\u7a0d\u5fae\u6539\u4e00\u4e0b\u5c31\u53ef\u4ee5AC\u4e86\u54e6\uff01\n\n\u601d\u8def\u4e0a\uff0c\u5982\u679c\u8fd8\u6709\u4e0d\u61c2\u7684\u5730\u65b9\u53ef\u4ee5\u5728\u8bc4\u8bba\u533a\u95ee\u6211\uff0c\u6211\u4f1a\u7b2c\u4e00\u65f6\u95f4\u89e3\u7b54\u54d2\uff01\n\n\u5982\u679c\u90fd\u660e\u767d\u4e86\uff0c\u5c31\u70b9\u4e2a\u8d5e\u7eaa\u5ff5\u4e00\u4e0b\u4f60\u7684\u6210\u957f\u5427\uff01",
        "postTime": 1586255251,
        "uid": 257621,
        "name": "\u7ffc\u5fb7\u5929\u5c0a",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1556 \u3010\u5e78\u798f\u7684\u8def\u3011"
    },
    {
        "content": "\u601d\u8def\uff1a\u5168\u6392\u5217\n\n\u526a\u679d\uff1a\u5982\u679c\u4e0d\u5728\u4e0a\u4e00\u4e2a\u7684\u6b63\u4e1c\u5357\u897f\u5317\u65b9\u5373\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\u90fd\u4e0d\u76f8\u7b49\u65f6\u4e0d\u7528\u5728\u63a5\u7740\u641c\u7d22\uff0c\u4e0e\u4e0a\u4e00\u6b21\u65b9\u5411\u76f8\u540c\u65f6\u4e0d\u7528\u63a5\u7740\u641c\u7d22\uff1a\n\n...\n\n```cpp\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<iostream>\nusing namespace std;\nint sum=0,g[1000010];\nstruct node{\n    int x,y;\n}a[1000010];\nint f[1000010],v[1000010],n=0;\nvoid dfs(int x,int v1){//x:\u641c\u5230\u7b2c\u51e0\u4e2a,v1:\u4e0a\u6b21\u7684\u65b9\u5411\n    if(x==n+1){\n        int d=0;\n        if(a[f[x-1]].x<0)d=1;\n        if(a[f[x-1]].x>0)d=2;\n        if(a[f[x-1]].y<0)d=3;\n        if(a[f[x-1]].y>0)d=4;\n        if(v1!=d)g[f[x-1]]=1;//\u5224\u65ad\u65b9\u5411\u662f\u5426\u76f8\u540c\n        for(int i=1;i<=n;i++)\n           if(!g[i]){\n                   if(v1!=d)g[f[x-1]]=0;\n                   return ;\n               }\n        if(v1!=d)g[f[x-1]]=0;\n        if(a[f[x-1]].x==0 || a[f[x-1]].y==0){sum++;}\n        return ;\n    }\n    for(int i=1;i<=n;i++){\n        if(!v[i]){\n            if(a[i].x==a[f[x-1]].x || a[i].y==a[f[x-1]].y){//\u662f\u5426\u5728\u6b63\u4e1c\u5357\u897f\u5317\u65b9\u5411\n                int d=0;\n                if(a[i].x>a[f[x-1]].x)d=1;\n                if(a[i].x<a[f[x-1]].x)d=2;\n                if(a[i].y>a[f[x-1]].y)d=3;\n                if(a[i].y<a[f[x-1]].y)d=4;\n                if(d!=v1)g[f[x-1]]=1;\n                else if(x!=n) continue;//\u526a\u679d\n                v[i]=1;\n                f[x]=i;\n                dfs(x+1,d);//\u63a5\u7740\u641c\u7d22\n                v[i]=0;\n                if(d!=v1)g[f[x-1]]=0;\n            }\n        }\n    }\n}\nint main(){\n    int i,j,k,m;\n    scanf(\"%d\",&n);\n    for(i=1;i<=n;i++){\n         scanf(\"%d%d\",&a[i].x,&a[i].y);//\u8f93\u5165\n    }\n    dfs(1,0);\n    printf(\"%d\\n\",sum);//\u8f93\u51fa\n    return 0;\n}\n...\n```",
        "postTime": 1494751676,
        "uid": 8969,
        "name": "AmuroRay",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1556 \u3010\u5e78\u798f\u7684\u8def\u3011"
    },
    {
        "content": "### \u7b97\u6cd5\u5206\u6790\n\u66b4\u529b\u548c\u679a\u4e3e\u51e0\u4e4e\u662f\u4e00\u4e2a\u540c\u4e49\u8bcd\uff0c\u770b\u5230\u6570\u636e\u8303\u56f4\uff0c $n$ \u6700\u5927\u53ea\u6709 10 \uff0c\u8fd9\u5c31\u51e0\u4e4e\u7b49\u4e8e\u76f4\u63a5\u544a\u8bc9\u4f60\u8981\u8fdb\u884c\u679a\u4e3e\u4e86\u3002\u679a\u4e3e\u5c31\u662f\u6b63\u89e3......\n\n\u63d0\u4f9b\u4e86\u751f\u6210\u6392\u5217\u7684\u601d\u8def\u3002\u679a\u4e3e\u51fa\u6240\u6709\u5230\u8fbe\u725b\u7684\u987a\u5e8f\uff0c\u8fd9\u6837\u5bf9\u4e8e\u6bcf\u6b21\u79fb\u52a8\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5173\u5fc3\u5f53\u524d\u725b\u548c\u4e0b\u4e00\u5934\u725b\u4e4b\u95f4\u7684\u5173\u7cfb\uff08\u5982\u679c\u4e0d\u526a\u679d\u7684\u8bdd\uff09\u518d\u5728\u5fc5\u8981\u7684\u5730\u65b9\u8fdb\u884c\u526a\u679d\uff08\u526a\u679d\u663e\u7136\u662f\u8981\u526a\u7684\uff09\u3002\n\n\u901a\u5e38\u89e3\u9898\u65f6\uff0c\u5982\u679c\u6b63\u7740\u505a\u4e0d\u597d\u505a\uff0c\u5c31\u53cd\u7740\u505a\u3002\u5982\u679c\u6761\u4ef6\u4e0d\u591f\uff0c\u5c31\u53d1\u6398\u9690\u542b\u6761\u4ef6\u3002\u5982\u679c\u60c5\u5883\u590d\u6742\uff0c\u5c31\u5efa\u6a21\u8f6c\u5316\u3002\u5982\u679c\u8ba1\u7b97\u590d\u6742\uff0c\u5c31\u5206\u7c7b\u8ba1\u7b97\u3002\u5982\u679c\u89c4\u6a21\u590d\u6742\uff0c\u53ef\u4ee5\u8003\u8651\u5206\u6cbb\u3002\u5982\u679c\u4e0d\u597d\u5165\u624b\uff0c\u53ef\u4ee5\u5148\u6784\u9020\u518d\u5224\u65ad\u3002\u5982\u679c\u4e0d\u597d\u6784\u9020\uff0c\u53ef\u4ee5\u66b4\u529b\u679a\u4e3e\u6240\u6709\u60c5\u51b5\u518d\u5224\u65ad\u3002\n\n\u672c\u9898\u53ef\u4ee5\u91c7\u7528\u679a\u4e3e\uff0c\u5c06 \u201c \u89e3\u7b54\u9898 \u201d \u8f6c\u5316\u4e3a \u201c \u5224\u65ad\u9898 \u201d \u3002\u5224\u65ad\u65f6\u7684\u65b9\u6848\u5982\u4e0b\uff1a\n\n\u8981\u6c42\u6240\u6709\u8def\u5f84\u90fd\u5fc5\u987b\u662f\uff08\u6b63\u4e1c\u5357\u897f\u5317\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a\u4e1c\u5357\u897f\u5317\u662f\u4e00\u4e2a $xOy$ \u5750\u6807\u7cfb\uff0c\u7136\u540e\u5c06\u4e24\u70b9\u5750\u6807\u76f8\u51cf\uff0c\u5f97\u5230\u4e00\u4e2a\u65b9\u5411\u5411\u91cf\uff0c\u518d\u5c06\u8fd9\u4e2a\u5411\u91cf\u5206\u522b\u5411 $x$ \u8f74\u548c $y$ \u8f74\u8fdb\u884c\u6620\u5c04\uff0c\u4e5f\u5c31\u662f\u76f8\u5f53\u4e8e\u5c06\u5176\u79fb\u5230\u539f\u70b9\u518d\u6b63\u4ea4\u5206\u89e3\uff0c\u540c\u65f6\u8f6c\u5316\u4e3a\u5355\u4f4d\u5411\u91cf\u3002\u5982\u679c\u4e24\u6b21\u6620\u5c04\u7684\u7ed3\u679c\u5747\u4e0d\u7b49\u4e8e 0 \uff0c\u5219\u8bf4\u660e\u8fd9\u4e2a\u79fb\u52a8\u4e0d\u662f\u6b63\u5411\u7684\uff0c\u9700\u8981\u629b\u5f03\u3002\n\n### code:\n```cpp\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nconst int maxn=15;\nint n;\nint ans;\nint posx[maxn];\nint posy[maxn];//\u5404\u4e2a\u70b9\u7684x\u548cy\u5750\u6807\uff0c\u8bfb\u5165\u4e86\u4e4b\u540e\u5c31\u4e0d\u8981\u518d\u53d8\u52a8\u4e86 \nint pl[maxn];//\u6392\u5217\u7684\u53ef\u80fd\uff0c\u76f4\u63a5\u7528next_permutation\nvoid meijv(){\n\tint lst_dx=0;//\u4e0a\u4e00\u4e2a\u65b9\u5411\u5411\u91cf \n\tint lst_dy=0;\n\tfor(int i=-1;i<n;i++){\n\t\tint x,y,/*\u5f53\u524d\u70b9*/dx,dy,/*\u65b9\u5411\u5411\u91cf*/xp,yp/*\u4e0b\u4e00\u4e2a\u70b9*/;\n\t\tif(i==-1){//\u8d77\u70b9 \n\t\t\tx=0;\n\t\t\ty=0;\n\t\t}else{\n\t\t\tx=posx[pl[i]];\n\t\t\ty=posy[pl[i]];\n\t\t}\n\t\tif(i==n-1){//\u6700\u540e\u4e00\u4e2a\u70b9 \n\t\t\txp=0;\n\t\t\typ=0;\n\t\t}else{\n\t\t\txp=posx[pl[i+1]];\n\t\t\typ=posy[pl[i+1]];\n\t\t}\n\t\tdx=xp-x;\n\t\tif(dx!=0)dx/=abs(dx);\n\t\tdy=yp-y;\n\t\tif(dy!=0)dy/=abs(dy);\n\t\tif(dx&&dy)return;//\u5982\u679c\u4e0d\u8d70\u56db\u4e2a\u6b63\u5411\n\t\tif(i==-1){\n\t\t\tlst_dx=dx;\n\t\t\tlst_dy=dy;\n\t\t\tcontinue;\n\t\t}\n\t\tif(dx==lst_dx&&dy==lst_dy)return;\n\t\tlst_dx=dx;\n\t\tlst_dy=dy;\n\t}\n\tans++;\n}\nint main(){\n\tcin>>n;\n\tfor(int i=0;i<n;++i)cin>>posx[i]>>posy[i]; \n\tfor(int i=0;i<n;++i)pl[i]=i;//\u8d77\u59cb\u6392\u5217  \n\tdo{//\u679a\u4e3e\u6240\u6709\u53ef\u80fd\uff0c\u4f9d\u6b21\u8fdb\u884c\u68c0\u67e5 \n\t\tmeijv();\n\t}while(next_permutation(pl,pl+n));//next_permutation\u81ea\u5e26\u8fd4\u56de\u503c\uff0c\u751f\u6210\u5b8c\u6240\u6709\u6392\u5217\u540e\u8df3\u51fa \n\tcout<<ans;\n\treturn 0;\n}\n```\nBye\uff01",
        "postTime": 1650890744,
        "uid": 652444,
        "name": "IcyFoxer_XZY",
        "ccfLevel": 4,
        "title": "\u5e78\u798f\u7684\u8def\u9898\u89e3"
    },
    {
        "content": "\n\u9898\u76ee\u63cf\u8ff0\n\n\u6bcf\u5929\uff0cJohn\u90fd\u8981\u4e3a\u4e86\u519c\u573a\u91ccN(1\u2264N\u226410)\u5934\u725b\u7684\u5065\u5eb7\u548c\u5e78\u798f\u56db\u5904\u5954\u6ce2\u3002\n\n\u6bcf\u5934\u725b\u7684\u4f4d\u7f6e\u53ef\u4ee5\u63cf\u8ff0\u4e3a\u4e00\u4e2a\u4e8c\u7ef4\u5750\u6807\uff0cJohn\u4ece\u5750\u6807\u539f\u70b9(0,0)\u51fa\u53d1\u3002\u4e3a\u4e86\u4f7f\u8def\u5f84\u66f4\u6709\u8da3\uff0cJohn\u51b3\u5b9a\u53ea\u6cbf\u7740\u5e73\u884c\u4e8e\u5750\u6807\u8f74\u7684\u65b9\u5411\u884c\u8d70\uff0c\u8fd9\u6837\u53ea\u80fd\u6cbf\u7740\u4e1c\u897f\u5357\u5317\u65b9\u5411\u8fd0\u52a8\u3002\u800c\u4e14\u53ea\u6709\u5230\u8fbe\u67d0\u5934\u725b\u7684\u5750\u6807\u540eJohn\u624d\u4f1a\u6539\u53d8\u884c\u8d70\u7684\u65b9\u5411\uff08\u5f53\u7136\uff0c\u5982\u679c\u6709\u5fc5\u8981\uff0cJohn\u4e5f\u4f1a\u7a7f\u8fc7\u67d0\u5934\u725b\u7684\u5750\u6807\u800c\u4e0d\u6539\u53d8\u884c\u8d70\u7684\u65b9\u5411\u3002\uff09\n\n\u5982\u679cJohn\u6539\u53d8\u884c\u8d70\u7684\u65b9\u5411\uff0c\u4ed6\u4f1a\u539f\u5730\u8f6c90\u00b0\u6216\u8005180\u00b0\u3002John\u7684\u8def\u5f84\u5fc5\u987b\u4fdd\u8bc1\u68c0\u67e5\u5b8c\u6240\u6709\u725b\u540e\u8fd4\u56de\u539f\u70b9\u3002\n\nJohn\u53ef\u4ee5\u7a7f\u8fc7\u67d0\u5934\u725b\u7684\u5750\u6807\u800c\u4e0d\u6539\u53d8\u65b9\u5411\u4efb\u610f\u6b21\uff0c\u8bf7\u8ba1\u7b97\u51fa\u6709\u591a\u5c11\u6761\u8def\u5f84\u6ee1\u8db3John\u80fd\u68c0\u67e5\u5b8cN\u5934\u725b\uff0c\u5728\u6bcf\u5934\u725b\u7684\u5750\u6807\u5904\u6070\u597d\u6539\u53d8\u4e00\u6b21\u65b9\u5411\u3002\u540c\u4e00\u6761\u8def\u5f84\u4ece\u4e0d\u540c\u65b9\u5411\u7ecf\u8fc7\u8981\u8ba1\u7b97\u4e24\u6b21\u3002\n\u8f93\u5165\u8f93\u51fa\u683c\u5f0f\n\u8f93\u5165\u683c\u5f0f\uff1a\n\n\u7b2c\u4e00\u884c\uff0c\u6574\u6570N\u3002\n\n\u7b2c2\u884c\u5230\u7b2cN+1\u884c\uff0c\u7b2ci+1\u884c\u662f\u4e24\u4e2a\u7528\u7a7a\u683c\u9694\u5f00\u7684\u6574\u6570x\u548cy\uff0c\u8868\u793a\u7b2ci\u5934\u725b\u7684\u5750\u6807\uff08-1000 \u2264x, y \u22641000\uff09\n\n\u8f93\u51fa\u683c\u5f0f\uff1a\n\n\u4e00\u884c\u4e2a\u6574\u6570\uff0c\u8868\u793a\u8def\u5f84\u7684\u91cf\u5982\u679c\u6ca1\u6709\u6ee1\u8db3\u8981\u6c42\u5219\u8f93\u51fa 0\u3002\n\n\u8f93\u5165\u8f93\u51fa\u6837\u4f8b\n\u8f93\u5165\u6837\u4f8b#1\uff1a \n\n4\n0 1\n2 1\n2 0\n2 -5\n\n\u8f93\u51fa\u6837\u4f8b#1\uff1a \n\n2\n\n\u8fd9\u5176\u5b9e\u662f\u4e00\u9053\u6bd4\u8f83\u7b80\u5355\u7684dfs\u3002\n\u552f\u4e00\u7684\u96be\u70b9\u5728\u4e8e\u4e00\u4e2a\u65b9\u5411\u7684\u95ee\u9898\uff0c\u5c31\u662f\u5230\u8fbe\u4e86\u4e00\u4e2a\u70b9\u5fc5\u987b\u8f6c\u5f2f\u3002\n\n\u5177\u4f53\u505a\u6cd5\u5c31\u662f\u53ea\u8981dfs\u6bcf\u4e00\u4e2a\u5976\u725b\u7684\u4f4d\u7f6e\uff0c\u56e0\u4e3a\u53ea\u6709\u56db\u4e2a\u65b9\u5411\uff0c\u6240\u4ee5\u548c\u5f53\u524d\u4f4d\u7f6e\u5728\u540c\u4e00\u884c\u6216\u540c\u4e00\u5217\u7684\u5976\u725b\u7684\u4f4d\u7f6e\u8fd8\u6ca1\u6709\u5230\u8fc7\uff0c\u4e14\u9700\u8981\u6539\u53d8\u884c\u8d70\u7684\u65b9\u5411\u5c31\u53ef\u4ee5\u5230\u8fbe\u90a3\u4e00\u4e2a\u5976\u725b\u7684\u4f4d\u7f6e\u3002\n\nPS:\u6bcf\u6b21\u505a\u5b8c\u8fd8\u9700\u5224\u65ad\u5230\u8fbe\uff080,0\uff09\u7684\u4f4d\u7f6e\u662f\u5426\u9700\u8981\u6539\u53d8\u65b9\u5411\uff0c\u5982\u679c\u9700\u8981\u6539\u53d8\u624d\u7b97\u4e00\u6761\u662f\u8def\u5f84\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,sum,a[11],b[11];\nbool f[11];\nint pd(int t,int w,int x,int y)  //\u5224\u65ad\u884c\u8fdb\u65b9\u5411\n{\n\tif(t==x)\n\t{\n\t\tif(w<y)return 1;else return 2; \n\t}\n\tif(w==y)\n\t{\n\t\tif(t<x)return 3;else return 4;\n\t}\n}\nvoid sc(int t,int w,int fx,int h)\n//\u5f53\u524d\u4f4d\u7f6et,w\uff0c\u65b9\u5411fx\uff0c\u548c\u5c06\u8981\u5230\u8fbe\u4e86\u7b2ch\u4e2a\u5976\u725b\n{\n\tif(h>n)  \n\t{\n\t\tif(((t==0)||(w==0))&&(pd(t,w,0,0))!=fx)sum++;\n        //\u57280\u884c\u62160\u5217\uff0c\u4e14\u8981\u6539\u53d8\u65b9\u5411\n\t\treturn;\n\t}\n\tfor(int i=1;i<=n;i++)\n\tif((f[i]==false)&&          //\u6ca1\u6709\u505a\u8fc7\n      ((t==a[i])||(w==b[i]))&&  //\u5728\u540c\u884c\u6216\u540c\u5217\n      (pd(t,w,a[i],b[i])!=fx))  //\u9700\u8981\u6539\u53d8\u65b9\u5411\n\t{\n\t\tf[i]=true;\n\t\tsc(a[i],b[i],pd(t,w,a[i],b[i]),h+1);\n\t\tf[i]=false;\n\t}\n}\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\tcin>>a[i]>>b[i];\n\tsc(0,0,0,1);\n\tprintf(\"%d\",sum);\n\treturn 0;\n}\n```\n",
        "postTime": 1555325604,
        "uid": 155355,
        "name": "AOTO",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1556 \u3010\u5e78\u798f\u7684\u8def\u3011"
    },
    {
        "content": "\u672c\u9898\u601d\u8def\u5e76\u4e0d\u96be\uff0c\u8003\u8651\u5230 $n \\le 10 $\uff0c\u76f4\u63a5\u4e00\u904d dfs \u5c31\u53ef\u4ee5\u4e86\u3002\u770b\u5230\u4e0b\u9762\u6709\u8bb8\u591a\u9898\u89e3\u90fd\u662f\u7528\u5168\u6392\u5217\u5199\u7684\uff0c\u5176\u5b9e\u5e76\u4e0d\u9700\u8fd9\u4e48\u9ebb\u70e6\uff0c\u51b5\u4e14\u76f4\u63a5\u5168\u6392\u5217\u53ef\u80fd\u4f1a\u6709\u8bb8\u591a\u4e0d\u5fc5\u8981\u60c5\u51b5\uff0c\u5bfc\u81f4\u8fd0\u884c\u65f6\u95f4\u589e\u52a0\uff0c\u4e8b\u5b9e\u4e0a\u786e\u5b9e\u5982\u6b64\uff0c\u5168\u6392\u5217 200ms\uff0c\u800c\u672c\u505a\u6cd5\u53ea\u9700\u8981 40ms\u3002\n\n\u5927\u81f4\u601d\u8def\uff1a\u4ece\u5750\u6807\u539f\u70b9 $(0,0)$ \u51fa\u53d1\uff0c\u6bcf\u5230\u4e00\u4e2a\u70b9\uff0c\u679a\u4e3e\u6bcf\u4e00\u5934\u53ef\u4ee5\u5230\u8fbe\u7684\u5976\u725b\uff0c\u53ef\u4ee5\u5230\u8fbe\u7684\u6761\u4ef6\uff1a\n- \u6a2a\u5750\u6807\u6216\u7eb5\u5750\u6807\u76f8\u7b49\n- \u8fd9\u4e2a\u70b9\u5230\u4e0b\u4e00\u4e2a\u70b9\u7684\u65b9\u5411\u548c\u524d\u4e00\u4e2a\u70b9\u5230\u8fbe\u8fd9\u4e2a\u70b9\u7684\u65b9\u5411\u4e0d\u540c\uff08\u9898\u76ee\u4e2d\u5df2\u8bf4\u660e\uff09\n\n\u6700\u540e\uff0c\u5230\u8fbe\u4e00\u4e2a\u70b9\uff0c\u8fd9\u65f6\u5168\u90e8\u70b9\u5df2\u7ecf\u8d70\u5b8c\uff0c\u5982\u679c\u8fd9\u4e2a\u70b9\u53ef\u4ee5\u8fd4\u56de\u539f\u70b9\uff0c\u7b54\u6848\u52a0\u4e00\u3002\n\n## code\n```c\n#include<bits/stdc++.h>\nusing namespace std;\nint n,ans=0;\nbool vis[11];\nstruct node{\n\tint x,y;\n}a[11];\nbool check1(int x1,int y1,int x2,int y2){//\u5224\u65ad\u6a2a\u5750\u6807\u6216\u7eb5\u5750\u6807\u662f\u5426\u76f8\u7b49 \n\tif(x1==x2||y1==y2){\n\t\treturn true;\n\t}\n\treturn false;\n}\nint check2(int x1,int y1,int x2,int y2){//1\u30012\u30013\u30014 \u5206\u522b\u4ee3\u8868\u4e0a\u4e0b\u5de6\u53f3\uff08\u76f8\u5bf9\u4f4d\u7f6e\uff09 \n\tif(y1==y2&&x1>x2) return 1;\n\tif(y1==y2&&x1<x2) return 2;\n\tif(x1==x2&&y1<y2) return 3;\n\tif(x1==x2&&y1>y2) return 4;\n}\nvoid dfs(int x,int y,int d,int sum){\n\tif(sum==n){\n\t\tif((x==0||y==0)&&check2(x,y,0,0)!=d) ans++;//\u522b\u5fd8\u4e86\u6700\u540e\u8fd8\u9700\u4f1a\u539f\u70b9 \n\t\treturn ; \n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tif(vis[i]||!check1(x,y,a[i].x,a[i].y)){\n\t\t\tcontinue;\n\t\t}\n\t\tint D;\n\t\tif((D=check2(x,y,a[i].x,a[i].y))!=d){\n\t\t\tvis[i]=1;\n\t\t\tdfs(a[i].x,a[i].y,D,sum+1);\n\t\t\tvis[i]=0;\n\t\t}\n\t}\n}\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%d%d\",&a[i].x,&a[i].y);\n\t}\n\tdfs(0,0,0,0);\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1666238412,
        "uid": 526713,
        "name": "_111_",
        "ccfLevel": 0,
        "title": "P1556 \u5e78\u798f\u7684\u8def"
    },
    {
        "content": "\u76f8\u4fe1\u5404\u4f4d\u5927\u4f6c\u7684\u5168\u6392\u5217\u5df2\u7ecf\u5f88\u725b\u4e86\u5427\u3002\n\n\u597d\u7684\u3002\n\n\u8fd9\u9898\u5982\u679c\u771f\u5199 dfs\uff0c\u6ca1\u4e86\u89e3\u5168\u6392\u5217\u7684\u53ef\u4ee5\u5148\u53bb\u770b\n[\u5168\u6392\u5217](https://www.luogu.com.cn/problem/P1706)\u3002\n\n\u8fd9\u9898\u548c\u5168\u6392\u5217\u5f88\u50cf\uff0c\u90fd\u662f\u8981\u679a\u4e3e\u4ed6\u7684\u8d70\u6cd5\u3002\n\n\u6211\u4eec\u9a6c\u4e0a\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a dfs \u7684\u5168\u6392\u5217\u3002\n\n```cpp\n#include<iostream>//\u4ee5\u524d\u5199\u7684\uff0c\u7528\u6765\u89e3\u91ca\u8bf4\u660e\u3002\n#include<cstdio>\n#include<queue>\nusing namespace std;\nint a[20], judge[20],n;\nvoid dfs(int deep)//\u6df1\u5ea6\u4f18\u5148\n{\n\tif (deep > n)\n\t{\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tprintf(\"%5d\", a[i]);\n\t\t}\n\t\tprintf(\"\\n\");\n\t}\n\telse\n\t{\n\t\tfor (int i = 1; i <= n; i++)\n\t\t{\n\t\t\tif(!judge[i])\n\t\t\t{\n\t\t\t\tjudge[i] = 1;\n\t\t\t\ta[deep] = i;\n\t\t\t\tdfs(deep + 1);\n\t\t\t\tjudge[i] = 0;\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tscanf(\"%d\", &n);\n\tdfs(1);\n\treturn 0;\n}\n\n```\n\n\u90a3\u4e48\uff0c\u8fd9\u9898\u548c\u4ed6\u7684\u533a\u522b\u5c31\u662f\u5224\u65ad\u65b9\u5411\u4e86\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u7528 $1$\uff0c$2$\uff0c$3$\uff0c$4$ \u6765\u5224\u65ad\u4ed6\u76ee\u524d\u5728\u90a3\u4e2a\u65b9\u5411\u3002\n\n\u4f46\u6709\u7279\u5224\uff0c\u6bcf\u6b21\u7684 John \u5fc5\u987b\u8981\u8f6c\u65b9\u5411\uff0c\u6240\u4ee5\u5982\u679c\u4e0b\u4e00\u53ea\u5976\u725b\u65b9\u5411\u4e00\u81f4\uff0c\u4e0b\u4e00\u6b21\u53ef\u80fd\u4e0d\u80fd\u8d70\uff0c\u5982\u4e0b\uff1a\n\n```cpp\nif ((arr[i].x==x||arr[i].y==y)&&brr[i]&&dire(x,y,arr[i].x,arr[i].y)!=d) {\n \tbrr[i] = 0;\n  \tdfs(arr[i].x, arr[i].y, dire(x, y, arr[i].x, arr[i].y));\n\tbrr[i] = 1;\n}\n```\n\n\u518d\u8865\u4e0a\u4e00\u4e2a\u51fd\u6570\uff0c\u5224\u65ad\u4e0b\u4e00\u6b21\u8d70\u90a3\u4e2a\u65b9\u5411\u3002\n\n```cpp\ninline int cmp(int t,int w,int x,int y) //\u7279\u5224\u5750\u68071\uff0c2\uff0c3\uff0c4\u65b9\u5411 \n{\n  \tif(t==x){\n    \tif(w<y){\n    \t\treturn 1;\n    \t}\n    \telse{\n    \t\treturn 2; \n    \t}\n  \t}\n  \tif(w==y){\n    \tif(t<x){\n    \t  return 3;\n    \t}\n    \telse{\n    \t  return 4;\n    \t}\n  \t}\n}\n```\n\n\u7279\u5224\u5b8c\u76f4\u63a5\u5957\u5168\u6392\u5217\u3002\n\n\u5b8c\u6574\u4ee3\u7801\uff1a\n------------\n\n```cpp\n#include<bits/stdc++.h>\n#include<ctime>\n#define ll long long\n//priority_queue<int,vector<int>,greater<int>>q1\nusing namespace std;\nconst int N = 1e5+10;\nint n,sum,a[N],b[N];\nbool used[N];\ninline int cmp(int t,int w,int x,int y) //\u7279\u5224\u5750\u68071\uff0c2\uff0c3\uff0c4\u65b9\u5411 \n{\n  \tif(t==x){\n    \tif(w<y){\n    \t  \treturn 1;\n    \t}\t\n   \t\telse{\n    \t\treturn 2; \n    \t}\n  \t}\n  \tif(w==y){\n    \tif(t<x){\n    \t  \treturn 3;\n    \t}\n    \telse{\n    \t  \treturn 4;\n    \t}\n  \t}\n}\nvoid dfs(int now,int last,int x,int y)\n{\n\tif(y>n){//\u51fa\u53e3\n    \tif(((now==0)||(last==0))&&(cmp(now,last,0,0))!=x)sum++;\n      \treturn;\n  \t}\n  \tfor(int i=1;i<=n;i++){//\u5168\u6392\u5217\u7167\u642c\n    \tif((used[i]==0)&&((now==a[i])||(last==b[i]))&&(cmp(now,last,a[i],b[i])!=x)) {\n      \t\tused[i]=1;\n      \t\tdfs(a[i],b[i],cmp(now,last,a[i],b[i]),y+1);\n      \t\tused[i]=0;\n    \t}\n  \t}\n}\n\nint main()\n{\n  \tcin>>n;\n  \tfor(int i=1;i<=n;i++)\n  \tcin>>a[i]>>b[i];\n  \tdfs(0,0,0,1);\n  \tcout<<sum;\n  \treturn 0;\n}\n```\n\n~~\u5b8c\u7f8e\u3002~~\n\n\n",
        "postTime": 1660808509,
        "uid": 529017,
        "name": "Smg18",
        "ccfLevel": 0,
        "title": "P1556"
    },
    {
        "content": "\u5bf9\u4e8e\u6570\u636e$n<=10$,\u663e\u7136\u76f4\u63a5\u6df1\u641cshi\u6ca1\u6709\u95ee\u9898\u7684\uff0c\u4f46\u4e0e\u5176\u4ed6\u641c\u7d22\u9898\u4e0d\u540c\u7684\u662f\uff0c\u672c\u9898\u7684\u7b5b\u9009\u5904\u7406\u6709\u4e9b\u590d\u6742\u3002\uff08\u5177\u4f53\u89c1\u4ee3\u7801\uff09\n\n$n<=10$\u610f\u5473\u7740\u53ef\u4ee5\u7528\u72b6\u538b\u505a\u6807\u8bb0\uff0c\u53ef\u4ee5\u7701\u53bb$bool$\u6570\u7ec4\uff0c\u518d\u52a0\u4e0a\u4ebf\u4e9b\u5361\u5e38\uff0c\u53ef\u4ee5\u8f7b\u677e\u5730\u62ff\u4e0b\u6700\u4f18\u89e3\u3002\n\n\u73b0\u5728\u5f00\u59cb\u2014\u2014\u4e0a\u4ee3\u7801\uff01\n\n```cpp\n#include<bits/stdc++.h>\n#define RI register int\ninline int read(){//\u5feb\u8bfb\n    RI s=0;char c=getchar();\n\tregister bool f=0;\n    while(!isdigit(c)){if(c=='-') f=1;c=getchar();}\n    while(isdigit(c)) s=(s<<1)+(s<<3)+c-48,c=getchar();\n    return f?-s:s;\n}\ninline void write(int x){//\u5feb\u8f93\n    if(x>9) write(x/10);\n    putchar(x%10+48);\n}\nint n,a[11],b[11],ans,lg[11],p;\ninline void sch(int x,int y,int f,int w){\n\tif(w==p){//\u5224\u65ad\u662f\u5426\u904d\u5386\u5b8c\u6240\u6709\u725b\n\t\tif(!x&&y>0&&f!=1||!x&&y<0&&f!=2||x>0&&!y&&f!=3||x<0&&!y&&f!=4)\n\t\t\t++ans;//\u7edf\u8ba1\u7b54\u6848\n\t\treturn;\n\t}\t\n\tfor(RI i=1;i<=n;++i)//\u679a\u4e3e\u6240\u6709\u725b\n\t\tif(!(w&lg[i])){//\u5224\u65ad\u662f\u5426\u88ab\u904d\u5386\u8fc7\n\t\t\tif(x==a[i]&&y>b[i]&&f!=1) sch(a[i],b[i],1,w|lg[i]);//\u5982\u679c\u9700\u6539\u53d8\u65b9\u5411\uff0c\u5c31\u7ee7\u7eed\u5f80\u4e0b\u641c\n\t\t\tif(x==a[i]&&y<b[i]&&f!=2) sch(a[i],b[i],2,w|lg[i]);\n\t\t\tif(x>a[i]&&y==b[i]&&f!=3) sch(a[i],b[i],3,w|lg[i]);\n\t\t\tif(x<a[i]&&y==b[i]&&f!=4) sch(a[i],b[i],4,w|lg[i]);\n\t\t}\n}\nint main(){\n\tn=read();\n   \tlg[1]=1;//\u7b2c\u4e00\u5934\u725b\u8bb0\u4e3a1\n\tfor(RI i=1;i<=n;++i){\n\t\ta[i]=read();b[i]=read();\n\t\tif(i!=1) lg[i]=lg[i-1]<<1;//\u72b6\u538b\u9884\u5904\u7406\n\t\tp+=lg[i];//\u8ba1\u7b97\u904d\u5386\u5b8c\u6240\u6709\u725b\u7684\u603b\u548c\n\t}\n\tsch(0,0,0,0);\n\twrite(ans);\n\treturn 0;\n}\n```\n### 26ms(\u76ee\u524d\u662f\u6700\u4f18\u89e3)",
        "postTime": 1609043561,
        "uid": 133037,
        "name": "_OccDreamer_",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1556 \u3010\u5e78\u798f\u7684\u8def\u3011"
    },
    {
        "content": "### dfs:\n\u5229\u7528 dfs \u904d\u5386\u6765\u8fdb\u884c\u79fb\u52a8\u3002\n\n\u8fd9\u91cc\u6ce8\u610f\u9898\u76ee\u8981\u6c42\u5728\u5230\u8fbe\u4e0b\u4e00\u4e2a\u70b9\u4e4b\u524d\u4e0d\u80fd\u6539\u53d8\u65b9\u5411\uff0c\u6240\u4ee5\uff0c\u6bcf\u4e2a\u70b9\u90fd\u53ea\u80fd\u5230\u8fbe\u4e0e\u5b83\u884c\u6216\u5217\u76f8\u7b49\u7684\u70b9\u3002\n\n```cpp\nvoid dfs(int h,int l){\n\tint i,flag=0;\n\tfor(i=1;i<=n;i++){\n\t\tif(b[i]==0){flag=1;break;}\n\t}\n\tif(flag==0&&(h==0||l==0)){sum++;return;}\n\tfor(i=1;i<=n;i++){\n\t\tif(a[i][0]==h||a[i][1]==l){\n\t\t\tif(b[i]==0){\n\t\t\t\tb[i]=1;\n\t\t\t\tdfs(a[i][0],a[i][1]);\n\t\t\t\tb[i]=0;\n\t\t\t}\n\t\t}\n\t}\n}\n```\n### \u526a\u679d\uff1a\n\u5982\u679c\u8fde\u7eed\u4e24\u6b21\u8d70\u76f8\u540c\u7684\u65b9\u5411\uff0c\u90a3\u8fd9\u79cd\u8d70\u6cd5\u5c31\u4e0d\u7b26\u5408\u9898\u610f\u3002\uff08\u8fd9\u4f3c\u4e4e\u4e0d\u7b97\u526a\u679d\uff09\n\n\u9700\u6dfb\u52a0\u4e00\u4e2a\u5224\u65ad\u65b9\u5411\u7684\u7684\u51fd\u6570\uff1a\n```cpp\nint check(int x1,int y1,int x2,int y2){\n\tif(x1>x2) return 1;\n\telse if(x1<x2) return 2;\n\telse if(y1>y2) return 3;\n\telse if(y1<y2) return 4;\n}\n```\n\u5982\u679c\u8fd9\u4e2a\u65b9\u5411\u4e0e\u4e0a\u4e00\u4e2a\u70b9\u5230\u6b64\u70b9\u7684\u65b9\u5411\u4e00\u6837\uff0c\u90a3\u4e48\u9000\u51fa\u5373\u53ef\u3002\n\n\u5b8c\u6574\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n;\nint a[15][2],b[15];\nint sum;\nint check(int x1,int y1,int x2,int y2){//\u5224\u65ad\u65b9\u5411\n\tif(x1>x2) return 1;\n\telse if(x1<x2) return 2;\n\telse if(y1>y2) return 3;\n\telse if(y1<y2) return 4;\n}\nvoid dfs(int h,int l,int f){\n\tint i,flag=0;\n\tfor(i=1;i<=n;i++){\n\t\tif(b[i]==0){flag=1;break;}\n\t}\n\tif(flag==0&&(h==0||l==0)&&f!=check(h,l,0,0)){sum++;return;}\n\tfor(i=1;i<=n;i++){\n\t\tint fx=check(h,l,a[i][0],a[i][1]);//\u8bb0\u5f55\u65b9\u5411\n\t\tif(a[i][0]==h&&a[i][1]==l)continue;\n\t\tif(a[i][0]==h||a[i][1]==l){\n\t\t\tif(b[i]==0&&f!=fx){//\u5982\u679c\u65b9\u5411\u4e0d\u4e00\u6837\uff0c\u9000\u51fa\n\t\t\t\tb[i]=1;\n\t\t\t\tdfs(a[i][0],a[i][1],fx);//\u9012\u5f52\n\t\t\t\tb[i]=0;//\u56de\u6714\n\t\t\t}\n\t\t}\n\t}\n}\nint main(){\n\tint i,j;\n\tcin>>n;\n\tfor(i=1;i<=n;i++){\n\t\tcin>>a[i][0]>>a[i][1];\n\t\tb[i]=0;\n\t}\n\tdfs(0,0,-1);//\u521d\u59cb\u65f6\u968f\u4fbf\u8bbe\u4e2a\u65b9\u5411\n\tcout<<sum;\n\treturn 0;\n}\n```",
        "postTime": 1604319585,
        "uid": 219522,
        "name": "Zhou_Wingay",
        "ccfLevel": 0,
        "title": "dfs+\u526a\u679d"
    },
    {
        "content": "\u770b\u4e86\u697c\u4e0a\u5927\u4f6c\u7684\u9898\u89e3\n\n\u6df1\u611f\u4f69\u670d\n\n\u4f46\u6211\u89c9\u5f97\u8fd9\u662f\u771f\u7684\u8fc7\u4e8e\u590d\u6742\u4e86\n\n\u6211\u6709\u4e00\u79cd**\u5c0f\u767d**\u4e5f\u542c\u5f97\u61c2\u7684\u65b9\u6cd5 ~~\u56e0\u4e3a\u662f\u849f\u84bb\u60f3\u7684\u554a~~\n\n\u9996\u5148\u9898\u76ee\u8bb2\u5230\u6bcf\u4e2a\u5730\u65b9\u90fd\u8981\u8f6c\u4e00\u4e0b\n\n\u6211\u4eec\u5c31\u53ef\u4ee5\u8bb0\u5f55\u4e00\u4e0b\u73b0\u5728\u7684\u65b9\u5411\n\n\u7136\u540e\u5224\u65ad\u662f\u5426\u91cd\u590d\n\n\u7136\u540e\u987a\u4fbf\u518d\u7ed3\u5c3e\u65f6\u5224\u65ad\u4e00\u4e0b\n\n\u56de\u6eaf\u7ed3\u675f\n\n\u63a5\u4e0b\u6765\u9644\u8d60\u6211\u6709\u7740Chinglish\u6ce8\u91ca\u7684\u4ee3\u7801\n\n```cpp\n#include <iostream>\n#include <cstdio>\n\nusing namespace std;\n\nstruct pt{\n\tint x,y;\n};\n\nint k[12][12]={0};//whether there is a way\nbool a[12];//whether it's used \npt b[12];//some information about points\nint n,ans=0;\n\nbool p(pt,pt);//solve the problem\nvoid q(int,int,int);//queen\n\nint main(){\n\tb[0].x=b[0].y=0;//O\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>b[i].x>>b[i].y;\n\t\tfor(int j=i-1;j>=0;j--){//find a way\n\t\t\tif(p(b[i],b[j])){\n\t\t\t\tif(b[i].x==b[j].x){\n\t\t\t\t\tif(b[i].y>b[j].y){\n\t\t\t\t\t\tk[i][j]=2;//record the direction\n\t\t\t\t\t\tk[j][i]=1;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tk[i][j]=1;\n\t\t\t\t\t\tk[j][i]=2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tif(b[i].x>b[j].x){\n\t\t\t\t\t\tk[i][j]=3;\n\t\t\t\t\t\tk[j][i]=4;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tk[i][j]=4;\n\t\t\t\t\t\tk[j][i]=3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tq(0,0,0);\t\n\tcout<<ans;\n\treturn 0;\n}\n\nbool p(pt p1,pt p2){\n\treturn p1.x==p2.x||p1.y==p2.y;\n}\n\nvoid q(int cur,int num,int s){\n\tif(cur==n){//whether it's in the end\n\t\tif(k[num][0]!=0&&k[num][0]!=s)//whether there is a to the beginning\n\t\t\tans++;//record\n\t\treturn;//end the circle\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tif(!a[i]&&k[num][i]!=0&&k[num][i]!=s){//Can I go there?\n\t\t\ta[i]=1;\n\t\t\tq(cur+1,i,k[num][i]);\n\t\t\ta[i]=0;\n\t\t}\n\t}\n\t\t\n}\n```\n\n",
        "postTime": 1578794402,
        "uid": 110389,
        "name": "tianxuan",
        "ccfLevel": 6,
        "title": "\u5e78\u798f\u7684\u8def\u9898\u89e3"
    },
    {
        "content": "# \u5199\u5728\u524d\u9762\n[\u53ef\u5728\u535a\u5ba2\u5185\u9605\u8bfb](https://www.luogu.org/blog/CreeperBatter/solution-p1556)\n\n\u82b1\u4e86$1.5h$\u8003\u8651\u9664\u641c\u7d22\u4ee5\u5916\u7684\u65b9\u6cd5\u89e3\u51b3\u8fd9\u9898\uff08~~\u6211tcl~~\uff09\n- - -\n\n# \u9898\u76ee\u5927\u610f\uff1a\n### \u7ed9\u4f60$n$\u4e2a\u70b9\uff0c\u6c42\u51fa\u4ece$(0,0)$\u4e0d\u91cd\u590d\u4e0d\u9057\u6f0f\u5730\u7ecf\u8fc7\u8fd9\u4e9b\u70b9\u5e76\u56de\u5230$(0,0)$\u7684\u8def\u5f84\u6570\u91cf\uff0c\u8981\u6c42\u6bcf\u5230\u8fbe\u4e00\u4e2a\u70b9\u6362\u4e2a\u65b9\u5411\uff0c\u4e14\u5728\u5230\u8fbe\u4e0b\u4e00\u4e2a\u70b9\u4e4b\u524d\u4e0d\u80fd\u6362\u65b9\u5411\u3002\n\n- - -\n# \u601d\u8def\u5206\u6790\uff1a\n\u6ce8\u610f\u5230\n> **\u5728\u5230\u8fbe\u4e0b\u4e00\u4e2a\u70b9\u4e4b\u524d\u4e0d\u80fd\u6362\u65b9\u5411**\n\n\u4e5f\u5c31\u662f\u4ece\u4e00\u4e2a\u70b9\u53ea\u80fd\u53bb\u5230\u548c\u5b83**\u6a2a\u7eb5\u5750\u6807\u76f8\u7b49**\u7684\u70b9\uff0c\u4e3a\u65b9\u4fbf\u53d9\u8ff0\uff0c\u540e\u6587\u5c06\u8fd9\u6837\u4e00\u5bf9\u70b9\u63cf\u8ff0\u4e3a**\u76f8\u4e92\u53ef\u8fbe**\uff0c\u4e14**\u70b9$1$\u8868\u793a$(0,0)$**\u3002\n\n\u6ce8\u610f\u5230\n> $1 \\leq N \\leq 10$\n\n\u8003\u8651**\u5728\u4e00\u4e2a\u70b9\u548c\u4e0e\u5176\u6a2a\u7eb5\u5750\u6807\u76f8\u7b49\u7684\u70b9\u4e4b\u95f4\u8fde\u8fb9**\uff0c\u7136\u540e\u8fd9\u4e2a\u95ee\u9898\u5c31\u7b80\u5316\u5230\u4e00\u4e2a**\u54c8\u5bc6\u5c14\u987f\u56de\u8def\u8ba1\u6570\u95ee\u9898**\uff0c\u8003\u8651\u7528**\u72b6\u6001\u538b\u7f29$DP$** \u89e3\u51b3\u3002\n\n\u4ee4$f[i][j]$\u8868\u793a\u72b6\u6001\u4e3a$i$\u65f6\u8d70\u5230\u7b2c$j$\u4e2a\u70b9\u7684\u8def\u5f84\u6570\u91cf\uff0c\u6613\u5f97\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n> $f[i][j]=\\sum f[i$ $xor$ $2^j][k]$\uff08$k,j$\u4e4b\u95f4\u76f8\u4e92\u53ef\u8fbe\uff09\n\n\u7b54\u6848\u5373\u4e3a$\\sum f[2^n-1][i]$ ($1,i$\u4e4b\u95f4\u76f8\u4e92\u53ef\u8fbe)\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$O(2^n*n^2)$\n\n**\u6838\u5fc3\u4ee3\u7801\u5982\u4e0b**\uff1a\n```cpp\nf[1][1]=1;\nfor(register int i=1;i<=(1<<n)-1;i+=2)\n\tfor(register int j=1;j<=n;++j)\n\t\tif(i&(1<<j-1))\n\t\t\tfor(register int k=1;k<=n;++k)\n\t\t\t\tif((i&(1<<k-1))&&e[k][j]&&k!=j)\n\t\t\t\t\tf[i][j]+=f[i^(1<<j-1)][k];\n```\n~~\u7136\u540e\u5c31\u6ca1\u4e86~~\u600e\u4e48\u73c2\u80fd\uff0c\u5982\u679c\u4f60\u6309\u7167\u8fd9\u4e2a\u601d\u8def\u5199\uff0c\u4f60\u4f1a\u53d1\u73b0\u4f60\u53ea\u6709$60pts$\u3002\n\n\u539f\u6765\u662f\u5ffd\u7565\u4e86\n> **\u8981\u6c42\u6bcf\u5230\u8fbe\u4e00\u4e2a\u70b9\u6362\u4e2a\u65b9\u5411**\n\n\u8003\u8651\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u70b9\u8bb0\u5f55\u5176**\u524d\u9a71\u70b9**\uff0c\u5373\u7528$f[i][j][k]$\u8868\u793a\u72b6\u6001\u4e3a$i$\u65f6**\u4ece\u7b2c$k$\u4e2a\u70b9**\u8d70\u5230\u7b2c$j$\u4e2a\u70b9\u7684\u8def\u5f84\u6570\u91cf\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a\n> $f[i][j][k]=\\sum f[i$ $xor$ $2^j][k][l];$ ($j,k$\u548c$k,l$\u4e4b\u95f4\u76f8\u4e92\u53ef\u8fbe\uff0c\u5e76\u4e14$j,k,l$\u4e09\u70b9\u4e0d\u5171\u7ebf)\n\n\u8fd9\u65f6\u521d\u59cb\u5316\u5c31\u4e0d\u80fd\u7b80\u5355\u7684$f[1][1][1]=1$\u4e86\uff0c~~\u7136\u9e45\u6211\u5e76\u4e0d\u77e5\u9053\u5982\u4f55\u521d\u59cb\u5316~~\uff0c\u6240\u4ee5\u53ea\u597d\u5bf9\u4e8e\u6bcf\u4e2a\u70b9$1$\u80fd\u5230\u8fbe\u7684\u70b9\uff0c\u5c06\u5176\u521d\u59cb\u503c\u8d4b\u503c\u4e3a$1$\uff0c\u4f46\u8fd9\u6837\u6709\u4e00\u4e2a\u5f0a\u7aef\uff1a**\u5f53\u53ea\u6709\u4e00\u4e2a\u70b9\u65f6\u8f93\u51fa\u4e3a$0$\uff0c\u4f46\u7b54\u6848\u4e3a$1$**\uff0c\u8fd9\u6837\u4f1a$WA$\u4e00\u4e2a\u70b9\u3002~~\u7279\u5224\u4e00\u4e0b\u5c31\u597d\u4e86~~\u3002\u5982\u6709\u5927\u5bb6\u66f4\u597d\u7684\u521d\u59cb\u5316\u65b9\u6cd5\u8bf7\u53d1\u5728\u8bc4\u8bba\u533a\uff0c\u8c22\u8c22\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$O(n^3*2^n)$\uff0c\u591a\u4e86\u4e00\u4e2a$n$\uff0c~~\u4f46\u662f\u770b\u6210\u4e00\u4e2a\u5927\u5e38\u6570\u4e5f\u73c2\u4ee5~~\u3002\u5b9e\u9645\u7528\u65f6$34ms$\uff0c\u5e38\u6570\u5927\u7ea6\u4e3a$\\frac{1}{300}$\uff0c\u73c2\u80fd\u662f\u56e0\u4e3a~~\u6570\u636e\u592a\u6c34~~\u5efa\u8fb9\u8981\u6c42\u592a\u82db\u523b\u4e86\u5427\u3002\n\n------------\n\n# \u4ee3\u7801\u5b9e\u73b0\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read(){\n    int x=0,f=0;char ch=getchar();\n    while(!isdigit(ch)){f|=ch=='-';ch=getchar();}\n    while(isdigit(ch)){x=(x<<3)+(x<<1)+(ch^48);ch=getchar();}\n    return f?-x:x;\n}\nint n,ans,f[2050][12][12];bool e[12][12];\nstruct point{int x,y;}p[12];\ninline int fx(int a,int b){if(p[a].x==p[b].x)if(p[a].y>p[b].y)return 1;else return 2;if(p[a].y==p[b].y)if(p[a].x>p[b].x)return 3;else return 4;}//\u5224\u65ad\u65b9\u5411\nint main(){\n\tn=read()+1;p[1]={0,0};\n\tif(n==2)cout<<1,exit(0);\n\tfor(register int i=2;i<=n;++i)\n\t\tp[i]={read(),read()};\n\tfor(register int i=1;i<=n;++i)\n\t\tfor(register int j=i+1;j<=n;++j)\n\t\t\tif(p[i].x==p[j].x||p[i].y==p[j].y)\n\t\t\t\te[i][j]=e[j][i]=1;//\u5efa\u8fb9\n\tint mx=1<<n;\n\tfor(register int i=2;i<=n;++i)\n\t\tif(e[1][i])\n\t\t\tf[1^(1<<i-1)][i][1]=1;//\u521d\u59cb\u5316\n\tfor(register int i=1;i<=mx-1;i+=2)\n\t\tfor(register int j=1;j<=n;++j)\n\t\t\tif(i&(1<<j-1))\n\t\t\t\tfor(register int k=1;k<=n;++k)\n\t\t\t\t\tif((i&(1<<k-1))&&e[j][k])\n\t\t\t\t\t\tfor(register int l=1;l<=n;++l)\n\t\t\t\t\t\t\tif((i&(1<<l-1))&&e[k][l]&&fx(j,k)!=fx(k,l))\t\n\t\t\t\t\t\t\t\tf[i][j][k]+=f[i^(1<<j-1)][k][l];//\u66f4\u65b0\u72b6\u6001\n\tfor(register int i=2;i<=n;++i)\n\t\tfor(register int j=2;j<=n;++j)\n\t\t\tif(e[1][i]&&e[i][j]&&fx(1,i)!=fx(i,j))\n\t\t\t\tans+=f[mx-1][i][j];//\u7edf\u8ba1\u7b54\u6848\n\tcout<<ans;\n\treturn 0;\n} \n```\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
        "postTime": 1567157255,
        "uid": 62246,
        "name": "Del_Your_Heart",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1556"
    },
    {
        "content": "\u5148\u5728\u4e0a\u4e0b\u5de6\u53f3\u4e2d\u4e0e\u73b0\u65b9\u5411\u4e0d\u540c\u7684\u65b9\u5411\u4e2d\u5bfb\u627e\u6709\u65e0\u725b\uff08\u4e0d\u5305\u62ec\u5df2\u7ecf\u68c0\u67e5\u8fc7\u7684\uff09\u6709\u5c31\u8d70\u65e0\u5c31\u4e0d\u8d70\uff08\u6709\u7684\u90fd\u8981\u8d70\u4e00\u904d\uff0c\u5177\u4f53\u770b\u4ee3\u7801\uff09\uff0c\u518d\u5c06\u65b9\u5411\u66f4\u65b0\u4e3a\u627e\u7684\u65b9\u5411\uff0c\u68c0\u67e5\u603b\u6570\u52a0\u4e00\uff0c\u5f53tot\u4e3an\u65f6\u7528check\u51fd\u6570\u68c0\u67e5\u662f\u5426\u80fd\u56de\u539f\u70b9\uff08\u4e4b\u524d\u6ca1\u770b\u5230\u5361\u4e86\u597d\u4e45\uff09\n\n\u65b9\u5411\u7684\u5b9a\u4e49\uff08\u8fd9\u91cc\u7684x\uff0cy\u4e0e\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\u4e2d\u7684\u6a2a\u5750\u6807\uff0c\u7eb5\u5750\u6807\u662f\u76f8\u53cd\u7684 ~~\uff08\u7edd\u5bf9\u4e0d\u662f\u641e\u9519\u4e86\uff09~~ \uff09\n\n\u65b9\u5411\u4e00 \u5411\u4e0b\uff08x\u5c0f\uff09\u7684\u5730\u65b9\u8d70\n\n\u65b9\u5411\u4e8c \u5411\u4e0a\uff08x\u5927\uff09\u7684\u5730\u65b9\u8d70\n\n\u65b9\u5411\u4e09 \u5411\u5de6\uff08y\u5c0f\uff09\u7684\u5730\u65b9\u8d70\n\n\u65b9\u5411\u56db \u5411\u53f3\uff08y\u5927\uff09\u7684\u5730\u65b9\u8d70\n\ncheck\u51fd\u6570\u5b9a\u4e49\u5982\u4e0b\n```\nbool check(int i,int ii,int ff)//i\u4e3ax\u503c\uff0cii\u4e3ay\u503c\uff0cff\u4e3a\u6765\u6700\u540e\u4e00\u5934\u725b\u7684\u65b9\u5411\uff08\u56e0\u4e3a\u65f6\u5f53tot\u4e3an\u65f6\u8c03\u7528\u8fd8\u672a\u8f6c\u5934\uff09\n{\n\tif(i==0)\n\t{\n\t\tif(ii>0&&ff!=3) return 1;//\u56e0\u4e3a\u8fd9\u91ccff\u662f\u53bb\u6700\u540e\u4e00\u53ea\u725b\u7684\u65b9\u5411\uff0c\u6240\u4ee5\u8fd8\u672a\u8f6c\u5411\uff0c\u5982\u679cff\u4e0d\u7b49\u4e8e3\u624d\u80fd\u8f6c\u5411\u4e09\u3010\uff080<ii\uff09\u6240\u4ee5\u65b9\u5411\u4e3a3\u5411\u5de6\uff08y\u5c0f\uff09\u7684\u5730\u65b9\u8d70\u3011\n\t\tif(ii<0&&ff!=4) return 1; //\u540c\u7406\n\t}\n\tif(ii==0)\n\t{\n\t\tif(i>0&&ff!=1) return 1;//\u540c\u7406\n\t\tif(i<0&&ff!=2) return 1;//\u540c\u7406\n\t}\n\treturn 0;\n}\n```\n\n\u4ee3\u7801\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nstruct cow\n{\n    int x,y;\n}c[1000];//\u725b\nint n,ans;\nbool vis[2001];//\u5224\u65ad\u662f\u5426\u8d70\u8fc7\nbool check(int i,int ii,int ff)\n{\n    if(i==0)\n    {\n        if(ii>0&&ff!=3) return 1;\n        if(ii<0&&ff!=4) return 1; \n    }\n    if(ii==0)\n    {\n        if(i>0&&ff!=1) return 1;\n        if(i<0&&ff!=2) return 1;\n    }\n    return 0;\n}\nvoid dfs(int w,int fx,int tot)\n{\n    if(vis[w]==1) return;//\u597d\u50cf\u6ca1\u6709\u7528\n    if(tot==n)\n    {\n        if(check(c[w].x,c[w].y,fx)) ans++;//\u53ef\u4ee5\u8d70\u5b8c\n        return;\n    }\n    if(w>0) vis[w]=1;//\u539f\u70b9\u4e0d\u80fd\u5224\u65ad\u4e3a\u8d70\u8fc7\n    int a=c[w].x,b=c[w].y;//\u66f4\u65b9\u4fbf\u8868\u793a\n    if(fx!=1)//\u4e0d\u7b49\u4e8e\u5c31\u610f\u5473\u7740\u53ef\u4ee5\u8f6c\u8fc7\u53bb\n    {\n        for(int p=1;p<=n;p++)\n        {\n            if(c[p].y==b&&c[p].x<a)\n            {\n                if(!vis[p]) dfs(p,1,tot+1);\n            }\n        }\n    }\n    if(fx!=2)//\u4e0d\u7b49\u4e8e\u5c31\u610f\u5473\u7740\u53ef\u4ee5\u8f6c\u8fc7\u53bb\n    {\n        for(int p=1;p<=n;p++)\n        {\n            if(c[p].y==b&&c[p].x>a)\n            {\n                if(!vis[p]) dfs(p,2,tot+1);\n            }\n        }\n    }\n    if(fx!=3)//\u4e0d\u7b49\u4e8e\u5c31\u610f\u5473\u7740\u53ef\u4ee5\u8f6c\u8fc7\u53bb\n    {\n        for(int p=1;p<=n;p++)\n        {\n            if(c[p].x==a&&c[p].y<b)\n            {\n                if(!vis[p]) dfs(p,3,tot+1);\n            }\n        }\n    }\n    if(fx!=4)//\u4e0d\u7b49\u4e8e\u5c31\u610f\u5473\u7740\u53ef\u4ee5\u8f6c\u8fc7\u53bb\n    {\n        for(int p=1;p<=n;p++)\n        {\n            if(c[p].x==a&&c[p].y>b)\n            {\n                if(!vis[p]) dfs(p,4,tot+1);\n            }\n        }\n    }\n    vis[w]=0;//\u56de\u6eaf\n    return;\n}\nint main()\n{\n    cin>>n;\n    for(int p=1;p<=n;p++) cin>>c[p].x>>c[p].y;\n    c[0].x=0,c[0].y=0;//\u6700\u5f00\u59cb\u7684\u5750\u6807\n    c[n+1].x=0,c[n+1].y=0;//\u6700\u540e\u8981\u8fd4\u56de\u539f\u70b9\n    dfs(0,0,0);//\u6ce8\u610f\uff0c\u6700\u5f00\u59cb\u65e0\u65b9\u5411\n    cout<<ans;\n    return 0;\n}\n```\n\n",
        "postTime": 1563286082,
        "uid": 199270,
        "name": "Y_B_Y",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1556 \u3010\u5e78\u798f\u7684\u8def\u3011"
    },
    {
        "content": "\u7b80\u7b80\u5355\u5355\u7684\u5168\u6392\u5217\u3002\n\n\u4e2d\u95f4\u52a0\u4e00\u4e2a\u5c0f\u526a\u679d\uff1a\u5224\u65ad\u662f\u5426\u80fd\u8d70\u5230\u8fd9\u4e2a\u70b9\uff08\u4e0d\u8fc7\u8c8c\u4f3c\u6ca1\u5fc5\u8981\uff09\u3002\n\n\u6362\u53e5\u8bdd\u8bf4\uff0c\u5c31\u662f\u5148\u628a\u6a2a\u5750\u6807\u6216\u7eb5\u5750\u6807\u76f8\u540c\u7684\u70b9\u8fde\u8fb9\uff0c\u518d\u6c42\u6709\u591a\u5c11\u6761\u54c8\u5bc6\u987f\u56de\u8def\u3002\n",
        "postTime": 1380641546,
        "uid": 203,
        "name": "JOHNKRAM",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P1556 \u3010\u5e78\u798f\u7684\u8def\u3011"
    }
]