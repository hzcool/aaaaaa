[
    {
        "content": "\u8c8c\u4f3c\u6709\u7684\u9898\u89e3\u6ca1\u6709\u8bb2\u6e05\u695a \u8fd9\u91cc\u7ed9\u51fa\u4e00\u70b9\u8865\u5145\u5427\u3002\n\n\u6700\u5e38\u89c1\u7684\u5c31\u662fdp[i][j]\u4e3a\u4ee5i\u4e3a\u6839\u7684\u5b50\u6811\uff0c\u4fdd\u7559j\u4e2a\u8282\u70b9\u62c6\u6389\u7684\u6700\u5c0f\u8fb9\u6570\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\u9898\u89e3\u4e2d\u5404\u79cd\u521d\u59cb\u5316\u548c\u8f6c\u79fb\u7433\u7405\u6ee1\u76ee\u3002\n\n\u6709\u7684-1\uff0c\u6709\u7684-2.\n\n\u5176\u5b9e\u5c31\u662f\u56e0\u4e3adp\u72b6\u6001\u6ca1\u6709\u8bb2\u6e05\u695a\u3002\n\n\u5206\u7740\u6765\u8bf4\u5427\uff0cdp[i][j]\u8868\u793a\u4ee5i\u4e3a\u6839\u7684\u5b50\u6811\uff0c\u4fdd\u7559j\u4e2a\u8282\u70b9\uff0c\u4e14\u5f53\u524d\u5b50\u6811\u4e0e\u7236\u8282\u70b9\u76f8\u8fde\uff0c\u62c6\u6389\u7684\u6700\u5c0f\u8fb9\u6570\u3002\n\n\u6bcf\u4e2a\u72b6\u6001\u4ee3\u8868\u4e00\u68f5\u5b50\u6811\uff0c\u8fd9\u4e2a\u5b50\u6811\u4e0e\u7236\u8282\u70b9\u76f8\u8fde\u3002\n\u90a3\u4e48\u521d\u59cb\u5316\u7684\u8bdddp[i][1]=son[i],\u4e00\u5f00\u59cb\u90fd\u662f\u4e0d\u8fde\u513f\u5b50\u53ea\u8fde\u7236\u4eb2\n\n\u90a3\u4e48\u8f6c\u79fb\u7684\u90a3\u4e2a\u5c31\u53d8\u6210\u4e86dp[u][j]=max(dp[u][j-k]+dp[v][k]-1)\n\n\u4e3a\u4ec0\u4e48\u51cf1\u5462\uff0c\u56e0\u4e3a\u6ce8\u610f\u5230\u6211\u4eec\u4e00\u5f00\u59cb\u70b9\u90fd\u662f\u4e0d\u4e0e\u513f\u5b50\u76f8\u8fde\u7684\uff0c\u6211\u4eec\u901a\u8fc7dp\u7684\u8fc7\u7a0b\u4e00\u6b65\u4e00\u6b65\u628a\u4ed6\u4eec\u8fde\u8d77\u6765\u3002\n\n\u90a3\u4e48\u5bf9\u4e8eu->v\u8fd9\u4e2a\u8fb9\uff0c\u4e00\u5f00\u59cb\u5728\u521d\u59cb\u5316u\u7684\u65f6\u5019\u5df2\u7ecf\u88ab\u51cf\u6389\u4e86\uff0c\u56e0\u4e3a\u4ed6\u662f\u8fde\u63a5\u513f\u5b50\u7684\u8fb9\uff0c\u800cv->u\u8fd9\u4e2a\u8fb9\u5e76\u6ca1\u6709\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u8fde\u5411\u7236\u4eb2\u7684\u8fb9\uff0c\u6211\u4eec\u8981\u901a\u8fc7v\u8f6c\u79fb\uff0c\u5c31\u5f97\u7528u->v\u8fd9\u4e2a\u8fb9\uff0c\u6240\u4ee5\u5c31\u5f97\u8865\u56de\u6765\u3002\n\n\u800c\u4e14\u6700\u7ec8\u7b97\u7684\u65f6\u5019\uff0c\u9664\u4e86\u6839\u8282\u70b9\u65e0\u7236\u4eb2\u5916\uff0c\u5176\u4ed6\u7684\u90fd\u8981\u548c\u7236\u8282\u70b9\u65ad\u5f00\uff0c\u4e5f\u5c31\u662f\u8fb9\u6570+1\n\n\u7b2c\u4e8c\u79cd\u5c31\u662fdp[i][j]\u8868\u793a\u4ee5i\u4e3a\u6839\u7684\u5b50\u6811\uff0c\u4fdd\u7559j\u4e2a\u8282\u70b9\uff0c\u4e14\u5f53\u524d\u5b50\u6811\u4e0d\u4e0e\u7236\u8282\u70b9\u76f8\u8fde\uff0c\u9700\u8981\u62c6\u6389\u7684\u6700\u5c0f\u8fb9\u6570\u3002\n\n\u90a3\u4e48\u6211\u4eec\u7684\u521d\u59cb\u5316\u5c31\u53d8\u6210\u4e86dp[i][1]=deg[i]\n\n\u4e5f\u5c31\u662f\u628a\u4e0ei\u76f8\u8fde\u7684\u6240\u6709\u8fb9\u5168\u90e8\u62c6\u6389\u3002\n\n\u8f6c\u79fb\u81ea\u7136\u5c31\u53d8\u6210\u4e86dp[u][j]=max(dp[u][j-k]+dp[v][k]-2)\n\n\u548c\u4e0a\u9762\u4e00\u6837\uff0c\u56e0\u4e3au->v\u7684\u8fb9\u548cv->u\u7684\u8fb9\u90fd\u5df2\u7ecf\u5728\u521d\u59cb\u5316\u7684\u65f6\u5019\u88ab\u51cf\u6389\u4e86\uff0c\u6240\u4ee5\u8fd9\u65f6\u5019\u8981\u628a\u4ed6\u4eec\u8fde\u8d77\u6765\u5c31\u5f97\u51cf\u53bb\u4ed6\u4eec\u4e24\u4e2a\u9020\u6210\u7684\u8d21\u732e\uff0c\u4e5f\u5c31\u662f2.\n\n\u90a3\u4e48\u7b54\u6848\u5c31\u662fdp[i][p] \u8fd9\u4e2a\u5c31\u6ca1\u6709\u522b\u7684\u4e1c\u897f\u4e86\uff0c\u56e0\u4e3a\u5df2\u7ecf\u6210\u4e3a\u4e86\u4e00\u4e2a\u72ec\u7acb\u7684\u8054\u901a\u5757\u4e86\u3002\n\n\u8fd8\u6709\u8981\u6ce8\u610f\u7684\u5c31\u662fdp\u7684\u8303\u56f4\u3002\n\n\u5f53\u524d\u8282\u70b9\u5fc5\u987b\u4fdd\u7559\uff0c\u4e0d\u7136\u65e0\u6cd5\u8fde\u63a5\u5b50\u8282\u70b9\u3002\u5b50\u8282\u70b9\u7684\u8bdd\u4e5f\u9700\u8981\u6709\u4e00\u4e2a\uff0c\u5426\u5219\u5c31\u4e0d\u9700\u8981\u51cf\u53bb\u90a3\u70b9\u8d21\u732e\u4e86\u3002\n\n\u603b\u7684\u6765\u8bf4\uff0cdp\u8fd8\u662f\u8981\u8003\u8651\u5408\u7406\u6027\u7684",
        "postTime": 1540375785,
        "uid": 54825,
        "name": "ysj1173886760",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\n\n## 1.\u5bf9\u9898\u76ee\u7684\u7406\u89e3\n\n\u901a\u8fc7\u8bfb\u9898\uff0c\u5f88\u660e\u663e\u6b64\u9898\u662f\u4e00\u9053\u6811\u5f62DP\uff0c\u800c\u4e14\u662f\u6bd4\u8f83\u7ecf\u5178\u7684\u6811\u5f62\u80cc\u5305\u95ee\u9898\uff0c\u672c\u8d28\u4e0a\u662f\u5206\u7ec4\u80cc\u5305\uff0c\u6240\u8c13\u5206\u7ec4\u80cc\u5305\uff0c\u5373\u5728\u9009\u62e9\u7269\u54c1\u7684\u65f6\u5019\uff0c\u4e00\u5f00\u59cb\u5c06\u7269\u54c1\u5206\u4e3a\u597d\u51e0\u7ec4\uff0c\u5728\u9009\u62e9\u65f6\uff0c\u53ef\u4ee5\u4ece\u6bcf\u4e00\u7ec4\u4e2d**\u81f3\u591a\u9009\u62e9\u4e00\u4ef6\u7269\u54c1**\uff0c\u95ee\u5982\u4f55\u83b7\u5f97\u6700\u5927\u7684\u4ef7\u503c\uff0c\u6240\u4ee5\u6211\u4eec\u6bcf\u6b21\u53ef\u4ee5\u679a\u4e3e\u8fd9\u4e2a\u7ec4\u6570\uff0c\u7528i\u8868\u793a\u7b2c\u51e0\u7ec4\uff0c\u7528j\u8868\u793a\u4f53\u79ef\uff0c\u7528k\u6765\u8868\u793a\u9009\u62e9\u7684\u7269\u54c1\uff0c\u4f2a\u4ee3\u7801\u5982\u4e0b\n\n```cpp\nfor (int i = 0\u5230\u7ec4\u6570)\n\tfor (int j = max_v\u52300)\n\t\tfor (int k = \u6b64\u7ec4\u6240\u6709\u7269\u54c1)\n\t\t\tf[j] = max (f[j], f[j - v[k]] + w[k])\n```\n\n\n\u5728\u6811\u4e5f\u662f\u540c\u6837\u7684\u9053\u7406\uff0c\u6bcf\u4e2a\u5b50\u6811\u5176\u5b9e\u5c31\u662f\u6bcf\u4e00\u4e2a\u7ec4\uff0c\u5728\u91cc\u9762\u9009\u62e9\uff0c\u4f46\u4e0d\u540c\u7684\u662f\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u7528**dfs**\u6765\u5b9e\u73b0\n\n## 2.\u5927\u4f53\u601d\u8def\n1.\u5bf9\u4e8e\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u548c\u521d\u59cb\u5316\u6211\u4e5f\u4e0d\u60f3\u591a\u8bf4\uff0c\u56e0\u4e3a\u522b\u4eba\u7684\u9898\u89e3\u90fd\u6709\uff0c\u8fd9\u91cc\u6211\u4eec\u7528$f\\left ( i,j \\right )$\u6765\u8868\u793a\u7b2ci\u4e2a\u70b9\u4e3a\u8ddf\u7684\u5b50\u6811\uff0c\u4fdd\u7559j\u4e2a\u70b9\uff08\u5305\u62ec\u81ea\u5df1\uff09\u5220\u53bb\u8fb9\u7684\u6700\u5c0f\u503c\uff0c\u6211\u4eec\u7528$a[i]$l\u6765\u8bb0\u5f55\u51fa\u5ea6\uff0c \u4e5f\u5c31\u662f\u51e0\u4e2a\u513f\u5b50\uff0c\u56e0\u6b64\uff1a\n\n\u521d\u59cb\u5316\uff1a\n\n$$f\\left ( i,1 \\right ) = a[i]$$\n\n\n\n\u65b9\u7a0b\uff1a\n\n$$f\\left ( now,j \\right ) = max\\left ( f\\left ( now,j \\right ),f\\left ( now,j - k \\right ) + f\\left ( v,k \\right )-1 \\right )$$\n\n\u5176\u5b9e\u8fd9\u4e2a\u8f6c\u79fb\u65b9\u7a0b\u6ca1\u4ec0\u4e48\u7279\u6b8a\u7684\uff0c\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u6811\u4e0a\u80cc\u5305\u7684\u677f\u5b50\uff0c\u4f60\u80af\u5b9a\u4f1a\u95ee\uff1a\u677f\u5b50\u9898\u4e3a\u4ec0\u4e48\u8fd8\u8fd9\u4e48\u96be\u505a\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u9898\u7684\u5751\u70b9\u7a0d\u5fae\u6709\u4e00\u70b9\u591a\uff0c\u601d\u7ef4\u96be\u5ea6\u7a0d\u5fae\u6709\u4e00\u70b9\u5927\uff0c\u6bd4\u5982\u8bf4\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e2d\u7684-1\uff0c\u8fd8\u6709\u5176\u4ed6\u7684\u4e00\u4e9b\u4e1c\u897f\u5728\u63a5\u4e0b\u6765\u7684\u8bb2\u89e3\u4e2d\u5c31\u4f1a\u66f4\u52a0\u6df1\u5165\n\n2.\u6211\u8ddf\u522b\u4eba\u7684\u9898\u89e3\u5176\u5b9e\u4e0d\u592a\u4e00\u6837\uff0c\u6211\u4e0d\u77e5\u9053\u662f\u6211\u8ddf\u5927\u5bb6\u4e0d\u4e00\u6837\u8fd8\u662f\u5927\u5bb6\u90fd\u6ca1\u6709\u8bfb\u9898\uff0c\u5176\u5b9e\u9898\u76ee\u6709\u8bf4\uff1a\u6bcf\u884c2\u4e2a\u6574\u6570I\u548cJ\uff0c\u8868\u793a\u8282\u70b9I\u662f\u8282\u70b9J\u7684\u7236\u8282\u70b9\uff0c**\u4e5f\u5c31\u662f\u8bf4\u8fd9\u662f\u4e00\u68f5\u6811\uff0c\u800c\u4e14\u662f\u6709\u6839\u7684**\uff0c\u6240\u4ee5\u6211\u4eec\u5e76\u4e0d\u7528\u50cf\u5176\u4ed6\u9898\u89e3\u90a3\u6837\u4eba\u4e91\u4ea6\u4e91\uff0c\u5168\u90fd\u53bb\u5efa\u53cc\u5411\u8fb9\uff0c\u65e2\u7136\u6709\u6839\uff0c\u90a3\u4e48\u6211\u4eec\u76f4\u63a5\u53ef\u4ee5\u5efa**\u5355\u5411\u8fb9**\u89e3\u51b3\uff0c\u800c\u4e14\u66f4\u52a0\u8f7b\u677e\uff0c\u5f88\u663e\u7136\uff0c\u8ddf\u6ca1\u6709\u5165\u5ea6\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8bb0\u5f55\u4e00\u4e0b\u6bcf\u4e00\u4e2a\u70b9\u7684\u5165\u5ea6$b[i]$\uff0c\u6240\u4ee5\u6211\u4eec\u627e\u6839\u53ef\u4ee5\u8fd9\u6837\u627e\uff0c\u987a\u4fbf\u521d\u59cb\u5316\uff1a\n\n\n```cpp\nfor (int i = 1; i <= n; i ++)\n{\n\tif (!b[i]) root = i;\n\tf[i][1] = a[i];\n}\n```\n\n3.\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u5f00\u59cbDP\u4e86\uff0c\u627e\u51fa\u6839\u4ee5\u540e\u76f4\u63a5\u4ece\u6839\u5f00\u59cbDP\uff0c\u4e00\u8def\u5f80\u4e0b\uff0c\u8fd9\u91cc\u6211\u4eec\u53ef\u4ee5\u5f00\u4e24\u6b21\u53d8\u91cf\uff0c\u4e00\u4e2a\u662ftemp\uff0c\u4e00\u4e2a\u662fsum\uff0c**temp\u8868\u793a\u7684\u5f53\u524d\u7684v\u7684\u5b50\u6811\u4e2d\u7684\u8282\u70b9\u4e2a\u6570**\uff0c**sum\u8868\u793a\u5f53\u524d\u7684now\u8282\u70b9\u4e0b\u6240\u6709\u7684\u5b50\u6811\u7684\u8282\u70b9\u4e2a\u6570**\uff0c\u6bcf\u6b21\u904d\u5386\u5b8c\u4e00\u4e2av\u5c31\u7d2f\u52a0\uff0c\u5176\u5b9e\u4e5f\u5c31\u662f\u80cc\u5305\u7684\u4e00\u4e2a\u5bb9\u91cf\u7f62\u4e86\uff0c\u6bcf\u6b21return\u4e00\u4e0bsum\uff0c\u7531\u4e8e\u8fd9\u4e2a\u8282\u70b9\u4e2a\u6570\u8981\u5305\u62ec\u81ea\u5df1\uff0c\u6240\u4ee5\u521d\u59cb\u503c\u6211\u4eec\u5fc5\u987b\u8bbe\u7f6e\u4e3a1\n\n4.\u91cd\u5934\u620f\u6765\u4e86\uff0c\u4e00\u4e2a\u6700\u5927\u7684\u95ee\u9898\uff0c\u4e3a\u4ec0\u4e48\u6211\u4eec\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e2d\u6700\u540e\u8981\u51cf\u53bb1\u5462\uff1f\u6211\u5148\u5728\u8fd9\u91cc\u653e\u4e00\u5f20\u56fe\uff0c\u6709\u52a9\u4e8e\u7406\u89e3\n\n![](https://i.loli.net/2019/08/25/3WRSgEjhf7bQM9D.png)\n\n\u8fd9\u5f20\u56fe\u5f88\u663e\u7136\u5c31\u662f\u6211\u4eec\u7684\u6837\u4f8b\u800c\u5df2\uff0c\u4ed6\u53ef\u4ee5\u5f88\u597d\u7684\u8bf4\u660e\u95ee\u9898\uff0c\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6bd4\u5982\u8bf4\u6211\u4eec\u7684v\u662f5\u8fd9\u4e2a\u8282\u70b9\u7684\u65f6\u5019\uff0c\u6211\u4eec\u5728\u66f4\u65b0$f\\left ( 1,2 \\right )$\u65f6\uff0c\u53ef\u4ee5\u5206\u7ed9\u4ed6\u4fdd\u5b58\u4e00\u4e2a\uff0c1\u8282\u70b9\u4fdd\u5b58\u4e00\u4e2a\u90a3\u4e48\u5c31\u662f$f\\left ( 1,1 \\right ) + f\\left ( 5,1 \\right ) = 4 + 0 = 5$\u4e86\uff0c\u800c\u5f88\u663e\u7136\u7b54\u6848\u662f3\uff0c\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff0c**\u8fd9\u662f\u56e0\u4e3a\u6ca1\u6709\u8003\u8651v\u548cnow\u8282\u70b9\u4e4b\u95f4\u76f8\u8fde\u7684\u90a3\u4e00\u6761\u8fb9**\uff0c\u5f88\u663e\u7136\u662f\u4e0d\u53ef\u4ee5\u62c6\u6389\u7684\uff0c\u6240\u4ee5\u62c6\u6389\u7684\u8fb9\u6570\u5fc5\u987b\u8981\u51cf\u53bb1\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\ninline int dfs (int now)\n{\n\tint temp; int sum = 1;\n\tfor (int i = head[now]; i; i = edge[i].next)\n\t{\n\t\tint v = edge[i].v;\n\t\ttemp = dfs (v); sum += temp;\n\t\tfor (int j = sum; j >= 1; j --)\n\t\t\tfor (int k = 1; k < j; k ++)\n\t\t\t\t\tf[now][j] = min (f[now][j], f[now][j - k] + f[v][k] - 1);\n\t}\n\treturn sum;\n}\n```\n\n5.\u90a3\u4e48\u5927\u90e8\u5206\u7684\u4efb\u52a1\u6211\u4eec\u90fd\u5b8c\u6210\u4e86\uff0c\u5269\u4e0b\u7684\u5c31\u662f\u5904\u7406\u7b54\u6848\uff0c\u6211\u4e00\u5f00\u59cb\u4e5f\u72af\u4e86\u4e00\u4e2a\u5c0f\u9519\u8bef\uff0c\u76f4\u63a5\u8f93\u51fa\u4e86$f\\left ( root,p \\right )$\uff0c\u62ff\u4e8672\u5206\uff0c\u4f46\u8fd9\u4e2a\u663e\u7136\u662f\u4e0d\u5bf9\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u83b7\u5f97\u4e00\u9897\u5b50\u6811\uff0c\u5e76\u4e0d\u662f\u975e\u5f97\u4ece\u6839\u8282\u70b9\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u679a\u4e3e\u6bcf\u4e00\u4e2a\u8282\u70b9\u4e3a\u6839\u7684\u5c0f\u5b50\u6811\uff0c\u770b\u770b\u54ea\u4e00\u4e2a\u662f\u6700\u5c0f\u7684\n\n\n```cpp\nfor (int i = 1; i <= n ; i ++)\n{\n\tif (f[i][p] < ans) ans = f[i][p] + 1;\n}\n```\n\n6.\u4f60\u4f1a\u6709\u7591\u95ee\u4e86\uff0c\u4e3a\u4ec0\u4e48\u662f + 1\u5462\uff0c\u8fd9\u5c31\u662f\u672c\u9898\u7684\u53e6\u5916\u4e00\u4e2a\u5751\u70b9\uff0c\u4f60\u53ef\u4ee5\u62c9\u4e0a\u53bb\u770b\u4e0a\u9762\u90a3\u4e00\u5f20\u56fe\u7247\uff0c\u6211\u4eec\u518d\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6837\u4f8b\u522b\u7684\u4e0d\u53d8\uff0c\u5982\u679cp\u53d8\u6210\u4e864\u600e\u4e48\u529e\uff0c\u6211\u4eec\u7528\u773c\u775b\u770b\u53ef\u4ee5\u5f88\u6e05\u695a\u7684\u770b\u5230\uff0c\u4fdd\u7559\u6574\u9897\u4ee52\u4e3a\u6839\u7684\u5b50\u6811\u662f\u6700\u660e\u667a\u7684\uff0c\u53ea\u9700\u8981\u780d\u53bb\u4e00\u6761\u8fb9\uff0c\u7136\u800c\u6211\u4eecDP\u5b8c\u4e4b\u540e$f\\left ( 2,4 \\right )$\u7684\u503c\u5374\u4e3a0\uff0c\u56e0\u4e3a\u4e0d\u9700\u8981\u780d\u6389\u4efb\u4f55\u8fb9\uff0c**\u800c\u9700\u8981\u780d\u6389\u4e0a\u9762\u7684\u90a3\u4e00\u6761\u8fb9**\uff0c\u8fd9\u91cc\u6211\u4eec\u5c31\u5ffd\u7565\u6389\u4e86\uff0c\u6240\u4ee5\u9700\u8981+1\u6765\u89e3\u51b3\u95ee\u9898\n\n\n## 3.\u5b8c\u6574\u4ee3\u7801\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<queue>\n#include<cstring>\n\n#define N 310\n\nusing namespace std;\n\ninline int read ()\n{\n    int f = 1, x = 0;\n    char ch;\n    do {ch = getchar (); if (ch== '-') f = -1;} while (ch < '0' || ch > '9');\n    do {x = x * 10 + ch - '0'; ch = getchar ();} while (ch >= '0' && ch <= '9');\n    return f * x;\n}\n\nstruct node\n{\n\tint u, v, next;\n} edge[N];\nint n, p;\nint cnt, head[N];\nint f[N][N];\nint a[N];\nbool b[N];\nint root;\nint ans = 0x3f3f3f3f;\n\ninline void add (int u, int v)\n{\n\tedge[++cnt].v = v;\n\tedge[cnt].next = head[u];\n\thead[u] = cnt;\n}\n\ninline int dfs (int now)\n{\n\tint temp; int sum = 1;\n\tfor (int i = head[now]; i; i = edge[i].next)\n\t{\n\t\tint v = edge[i].v;\n\t\ttemp = dfs (v); sum += temp;\n\t\tfor (int j = sum; j >= 1; j --)\n\t\t\tfor (int k = 1; k < j; k ++)\n\t\t\t\t\tf[now][j] = min (f[now][j], f[now][j - k] + f[v][k] - 1);\n\t}\n\treturn sum;\n}\n\nint main ()\n{\n\tn = read (); p = read ();\n\tint x, y;\n\tfor (int i = 1; i <= n - 1; i ++)\n\t{\n\t\tx = read (); y = read ();\n\t\ta[x] ++; b[y] = 1;\n\t\tadd (x, y);\n\t}\n\tmemset (f, 0x3f3f3f3f, sizeof (f));\n\tfor (int i = 1; i <= n; i ++)\n\t{\n\t\tif (!b[i]) root = i;\n\t\tf[i][1] = a[i];\n\t}\n\tdfs (root);\n\tans = f[root][p];\n\tfor (int i = 1; i <= n ; i ++)\n\t{\n\t\tif (f[i][p] < ans) ans = f[i][p] + 1;\n\t}\n\tprintf (\"%d\", ans);\n\treturn 0;\n}\n```\n~~\u6211\u559c\u6b22\u6211\u7684\u7801\u98ce~~\n\n\u53ef\u4ee5\u6284\u9898\u89e3\uff0c\u4f46\u662f\u4f60\u8981\u5b66\u4f1a\u54e6\n\n## 4.\u63a8\u51e0\u9053\u7c7b\u4f3c\u7684\u6811\u4e0a\u80cc\u5305[P1273](https://www.luogu.org/problem/P1273)\uff0c[P2014](https://www.luogu.org/problem/P2014)\uff0c[P2015](https://www.luogu.org/problem/P2015)\n",
        "postTime": 1567311447,
        "uid": 136006,
        "name": "s_Shot\u10e6Maki",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u4e2a\u4eba\u89c9\u5f97\u9898\u89e3\u91cc\u9762\u7684\u90a3\u4e2a\u8f6c\u79fb\u5e76\u4e0d\u662f\u5f88\u597d\u7406\u89e3\uff0c\u6709\u4e9b\u57fa\u7840\u7684\u4e1c\u897f\u5e76\u6ca1\u6709\u628a\u5b83\u8bb2\u660e\u767d\uff0c\u6240\u4ee5\u8bf4\u8bf4\u6211\u81ea\u5df1\u7684\u7406\u89e3\u3002\n\n**\u72b6\u6001\u8bbe\u8ba1**\n\n\u9996\u5148\u53ef\u4ee5\u6709\u8fd9\u4e48\u4e00\u4e2a\u60f3\u6cd5\uff1a\u8bbe $f[u][s]$ \u8868\u793a\u5728\u8282\u70b9 $u$ \uff0c\u83b7\u5f97\u5927\u5c0f\u4e3a $s$ \u7684\u5b50\u6811\u6240\u9700\u8981\u5220\u9664\u7684\u8fb9\u7684\u4e2a\u6570\u3002\n\n**\u8f6c\u79fb**\n\n\u8003\u8651\u5bf9\u4e8e\u4e00\u4e2a $s$ \uff0c\u6211\u4eec\u9700\u8981\u627e\u5230\u4e00\u79cd\u201c\u7a7a\u95f4\u201d\u7684\u5206\u914d\u65b9\u6848\u3002\u8bb2\u7684\u5f62\u8c61\u4e00\u70b9\uff0c\u8bbe $s(v_i)$ \u8868\u793a\u5728\u5b50\u6811 $v_i$ \u5185\u6211\u4eec\u7559\u4e0b\u7684\u8282\u70b9\u4e2a\u6570\uff0c\u5176\u4e2d $v_i$ \u8868\u793a\u5f53\u524d\u8282\u70b9 $u$ \u7684\u7b2c $i$ \u4e2a\u5b50\u8282\u70b9\uff1b\u518d\u8bbe $c(v_i)$ \u8868\u793a\u6211\u4eec\u5728\u5b50\u6811 $v_i$ \u4e2d\u7559\u4e0b $s(v_i)$ \u4e2a\u8282\u70b9\u6240\u5220\u9664\u7684\u8fb9\u7684\u6570\u91cf\u3002\u90a3\u4e48\u73b0\u5728\u6211\u4eec\u8981\u505a\u7684\u4e8b\u60c5\u5c31\u662f\uff1a\u5bf9\u4e8e\u5168\u90e8 $v_i$ \uff0c\u627e\u5230\u4e00\u79cd $s(v_i)$ \u7684\u5206\u914d\u65b9\u5f0f\uff0c\u4f7f\u5f97 $\u2211s(v_i) = s$ \uff0c\u4e14 $\u2211c(v_i)$ \u6700\u5c0f\uff0c\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u4ee4 $f[u][s] = \u2211c(v_i)$\uff0c\u4e5f\u5c31\u5b8c\u6210\u4e86\u72b6\u6001\u7684\u8f6c\u79fb\u3002\n\n\u7136\u540e\u4e0a\u9762\u90a3\u53e5\u201c\u5bf9\u4e8e\u5168\u90e8 $v_i$ \uff0c\u627e\u5230\u4e00\u79cd $s(v_i)$ \u7684\u5206\u914d\u65b9\u5f0f\uff0c\u4f7f\u5f97 $\u2211s(v_i) = s$ \uff0c\u4e14 $\u2211c(v_i)$ \u6700\u5c0f\u201d\uff0c\u4f60\u4e0d\u89c9\u5f97\u8fd9\u662f\u4e00\u4e2a\u80cc\u5305\u4e48\uff1f\n\n\u7136\u540e\u8fd9\u4e2a\u65f6\u5019\u4f60\u5c31\u4f1a\u53d1\u73b0\u6211\u4eec\u6240\u8bbe\u7684 $f[u][s]$ \u8fd9\u4e2a\u72b6\u6001\u5b9e\u9645\u4e0a\u662f\u4e0d\u5b8c\u5168\u7684\u3002\u4e0d\u8003\u8651\u6eda\u52a8\u6570\u7ec4\uff0c\u6211\u4eec\u5e94\u8be5\u8bbe $f[u][k][s]$ \u8868\u793a\u8003\u8651\u8282\u70b9 $u$ \u7684\u524d $k$ \u4e2a\u5b50\u8282\u70b9\uff0c\u53d6 $s$ \u4e2a\u8282\u70b9\u6240\u9700\u8981\u7684\u6700\u5c0f\u82b1\u8d39\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a\u80cc\u5305\u3002\n\n\u90a3\u4e48\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u8f6c\u79fb\uff1a$f[u][k][s] = \\min(f[u][k-1][s] + 1, f[u][k-1][s-s_v] + f[v][k_v][s_v])$\uff0c\u5176\u4e2d $k_v$ \u8868\u793a $v$ \u7684\u6240\u6709\u5b50\u8282\u70b9\u6570\u91cf\uff0c$s_v$ \u8868\u793a\u5728\u5b50\u6811 $v$ \u4e0a\u9009\u53d6\u7684\u70b9\u7684\u6570\u91cf\u3002\n\n\u4e0a\u9762\u90a3\u4e2a\u65b9\u7a0b\u5176\u5b9e\u5f88\u597d\u7406\u89e3\uff1a\u524d\u9762\u8868\u793a\u4e0d\u4ece\u5b50\u6811 $v$ \u9009\u53d6\u8282\u70b9\uff0c\u90a3\u4e48\u8981\u5220\u9664 $(u,v)$ \u8fd9\u6761\u8fb9\uff0c\u7b54\u6848 $+1$ \uff1b\u540e\u9762\u662f\u5728\u8003\u8651\u5b50\u6811 $v$ \u5185\u9009\u53d6\u7684\u8282\u70b9\u4e2a\u6570\u3002\n\n\u7136\u540e\u4e0a\u9762\u90a3\u4e2a\u65b9\u7a0b\u5b83\u4e00\u70b9\u4e5f\u4e0d\u53ef\u7231\uff0c\u8003\u8651\u6eda\u52a8\u6389 $k$ \u8fd9\u4e00\u7ef4\uff0c\u65b9\u7a0b\u53d8\u6210 $f[u][s] = \\min(f[u][s] + 1, f[u][s-s_v] + f[v][s_v])$\u3002\n\n\u8fd9\u57fa\u672c\u4e0a\u5c31\u505a\u5b8c\u4e86\uff0c\u4f46\u662f\u5728\u8f6c\u79fb\u7684\u987a\u5e8f\u4e0a\u8fd8\u6709\u70b9\u5c0f\u95ee\u9898\u3002\n\u6211\u4eec\u53d1\u73b0 $f[u][k][s]$ \u603b\u4ece $f[u][k-1][s]$ \u6216 $f[u][k-1][s-s_v]$ \u7684\u72b6\u6001\u66f4\u65b0\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53bb\u6389 $k$ \u8fd9\u4e00\u7ef4\uff0c\u6211\u4eec\u9700\u8981\u4fdd\u8bc1 $f[u][s-s_v]$ \u6bd4 $f[u][s_v]$ \u540e\u66f4\u65b0\uff0c\u8fd9\u6837 $f[u][s_v]$ \u624d\u662f\u6211\u4eec\u60f3\u8981\u7528\u6765\u8f6c\u79fb\u7684\u201c\u4e0a\u5c42\u72b6\u6001\u201d\u3002\u90a3\u4e48\u4e5f\u5c31\u662f\u5012\u5e8f\u679a\u4e3e $s$ \u53bb\u66f4\u65b0\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ea\u9700\u8981\u679a\u4e3e $s$\uff0c\u7136\u540e\u518d\u679a\u4e3e $s_v$\uff0c\u53bb\u8f6c\u79fb\u5c31\u597d\u4e86\u3002\n\n**\u8003\u8651\u7b54\u6848\u7684\u7edf\u8ba1**\n\n\u4e0a\u9762\u90a3\u4e2a\u72b6\u6001 $f[u][s]$ \u91cc\u9762\uff0c $u$ \u5b9e\u9645\u4e0a\u662f\u5f3a\u5236\u9009\u62e9\u7684\uff0c\u5426\u5219\u5c31\u7f3a\u5c11\u4e00\u4e2a\u80fd\u628a\u82e5\u5e72\u5b50\u6811\u8fde\u63a5\u8d77\u6765\u7684\u201c\u6865\u6881\u201d\u3002\u4f46\u662f\u8d2a\u5fc3\u7684\u60f3\uff0c\u6211\u4eec\u4e0d\u4e00\u5b9a\u975e\u5f97\u5f3a\u5236\u9009\u62e9\u67d0\u4e00\u4e2a\u8282\u70b9\u554a\u3002\u90a3\u4e48\u7b54\u6848\u5e94\u8be5\u5bf9\u6240\u6709\u7684 $f[u][p]$ \u53d6\u4e00\u4e2a $\\min$ \u3002\u7136\u540e\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u5c31\u662f\u518d\u67d0\u4e00\u4e2a\u975e\u6839\u8282\u70b9\u7684\u4f4d\u7f6e\uff0c\u6211\u4eec\u60f3\u8981\u53d6\u51fa\u8fd9\u68f5\u5b50\u6811\uff0c\u8fd8\u5f97\u628a\u8fd9\u4e2a\u8282\u70b9\u548c\u5b83\u7684\u7236\u4eb2\u8282\u70b9\u65ad\u6389\uff0c\u90a3\u4e48\u7b54\u6848\u8fd8\u5f97 $+1$ \uff0c\u7ec6\u8282\u89c1\u4ee3\u7801\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<string>\nusing namespace std;\nconst int CN = 160;\nclass fs{\n  public: int to,nxt; void init(int t,int n) {to=t;nxt=n;}\n}E[CN * 2];\nint hd[CN],ecnt = 0;\nvoid add(int x,int y) {E[++ecnt].init(y,hd[x]);hd[x]=ecnt;}\n\nint n,P,ans,sum[CN],f[CN][CN]; // sum[u] \u8868\u793a\u5b50\u6811 u \u7684\u5927\u5c0f\nvoid dfs(int u,int p){\n    sum[u] = 1; f[u][1] = 0; // \u521d\u59cb\u65f6\u4e0d\u8003\u8651\u5b50\u6811\uff0c\u56e0\u6b64 f[u][1] = 1\n    for(int k=hd[u];k;k=E[k].nxt){\n        int v = E[k].to;\n        if(v == p) continue;\n        dfs(v, u); // \u6c42\u51fa\u5b50\u6811\u7684\u7b54\u6848\n        sum[u] += sum[v]; // \u7d2f\u52a0\u5927\u5c0f\n        \n        for(int s=sum[u]; s; s--){ // \u8003\u8651\u80cc\u5305\u95ee\u9898\u7684\u66f4\u65b0\u65b9\u5f0f\uff0c\u90a3\u4e48\u4e00\u5b9a\u8981\u6bcf\u6b21\u90fd\u66f4\u65b0\u4e00\u4e0b\n            f[u][s] += 1; // \u5b9e\u9645\u4e0a\u662f f[u][k][s] = f[u][k-1][s] + 1 \uff0c\u6eda\u52a8\u4e86 k \u8fd9\u4e00\u7ef4\n            for(int sv=0;sv<=min(s-1, sum[v]);sv++) // s-1 \u4e3a\u4e86\u5f3a\u5236\u9009\u6839\n                f[u][s] = min(f[u][s], f[u][s - sv] + f[v][sv]);\n        }\n    }    \n}\n\nint main()\n{\n    //freopen(\"p1272.in\",\"r\",stdin);\n\n    scanf(\"%d%d\",&n,&P);\n    for(int i=1;i<n;i++){\n        int x,y; scanf(\"%d%d\",&x,&y);\n        add(x,y); add(y,x);\n    }\n\n    memset(f,0x3f,sizeof(f));\n    dfs(1,0);\n    ans = f[1][P]; for(int i=2;i<=n;i++) ans = min(ans, f[i][P] + 1); // \u52a0\u4e0a\u4e0e\u7236\u4eb2\u4e4b\u95f4\u7684\u90a3\u6761\u8fb9\n    printf(\"%d\", ans);\n\n    return 0;\n}\n```",
        "postTime": 1572054623,
        "uid": 70177,
        "name": "big_news",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "```cpp\n//\u6811\u5f62DP\n//\u5927\u81f4\u601d\u8def\uff1a\n//\u9012\u5f52\u64cd\u4f5c\uff0cf[i][j]\u8868\u793a\u4fdd\u7559i\u4e3a\u6839\u7684\u5b50\u8282\u70b9\u3002\n//c\u6570\u7ec4\u8bb0\u5f55\u70b9\u7684\u5ea6\u3002\n//\u56e0\u4e3a\u8fd9\u662f\u4e00\u68f5\u6811\uff0c\u6240\u4ee5\u6bcf\u4e2a\u70b9\u7684\u5ea6\u4e3a1\n//\u7136\u540e\u968f\u4fbf\u8bbe\u4e00\u4e2a\u6839\uff0c\u6211\u8bbe\u76841\u4e3a\u6839\uff0c1\u7684\u6839\u5c31\u4e3a0.\n//\u9012\u5f52\u65f6\u4f20\u5165\u4e24\u4e2a\u53c2\u6570\uff0c\u4e3a\u5f53\u524d\u8282\u70b9\u548c\u5f53\u524d\u8282\u70b9\u7684\u6839\u3002\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\n```\n# define LL 153\n```cpp\nint hea[LL],num,n,p,a,b,c[LL],f[LL][LL],r[LL];\nint ans=0x3f3f3f3f;\nstruct edge{\n    int nex,to;\n}edge[LL<<1];\nvoid add_edge(int from,int to)\n{\n    edge[++num].nex=hea[from];\n    edge[num].to=to;\n    hea[from]=num;\n}\nvoid dfs(int u,int root)\n{\n    int i,j,k;\n    f[u][1]=c[u];//\u53ea\u9009\u8fd9\u4e2a\u6839\u81ea\u5df1\u9700\u8981\u5207\u6389\u51e0\u6761\u8fb9\u3002\u3002\n    for(i=hea[u];i;i=edge[i].nex)\n    if(edge[i].to!=root)//\u5982\u679c\u662f\u6839\u5c31\u4e0d\u8981\u641c\u4e86\n    {\n        dfs(edge[i].to,u);\n        for(j=p;j>=1;j--)\n          for(k=1;k<j;k++)\n            f[u][j]=min(f[u][j],f[u][k]+f[edge[i].to][j-k]-2);// emmm,\u81f3\u4e8e\u4e3a\u4ec0\u4e48-2.\u3002\u4e2a\u4eba\u8ba4\u4e3a\u672c\u9898\u6700\u5751\u7684\u4e00\u70b9\uff0c\u5bb3\u7684\u6211\u60f3\u4e86\u597d\u4e45\uff0c\u4e00\u5b9a\u662f\u6211\u592a\u83dc\u4e86\uff0c\u56e0\u4e3a\u5728\u521d\u59cb\u5316\u7684\u65f6\u5019\u5df2\u7ecf\u628a\u6240\u6709\u4e0eu\u548cedge[i].to\u76f8\u8fde\u63a5\u7684\u8282\u70b9\u7ed9\u780d\u6389\u4e86\uff0c\u4f46\u662fu\u548cedge[i].to\u76f8\u8fde\u7684\u7684\u5ea6\u5e94\u8be5\u4fdd\u7559\uff0c\u800c\u8fd9\u6bb5\u76f8\u8fde\u7684\u5ea6\uff0c\u5728u\u4e2d\u52a0\u4e86\u4e00\u6b21\uff0c\u5728edge[i].to\u4e2d\u4e5f\u52a0\u4e86\u4e00\u6b21\uff0c\u6240\u4ee5\u5e94\u8be5-2\u3002\n    }\n}\nint main()\n{\n    int i,j;\n    scanf(\"%d%d\",&n,&p);\n    for(i=1;i<n;i++)\n    {\n        scanf(\"%d%d\",&a,&b);\n        c[a]++,c[b]++;//\u8bb0\u5f55a,b\u7684\u5ea6\u3002\n        add_edge(a,b),add_edge(b,a);//\u5efa\u53cc\u5411\u8fb9\uff0c\u56e0\u4e3a1\u4e5f\u4e0d\u662f\u8fd9\u68f5\u6811\u7684\u771f\u6839\uff0c\u53ea\u662f\u56e0\u4e3a\u65b9\u4fbf\u8bbe\u7684\u3002\n    }\n    memset(f,0x3f,sizeof(f));\n    dfs(1,0);\n    for(i=1;i<=n;i++) ans=min(f[i][p],ans);\n    printf(\"%d\\n\",ans);\n    return 0;\n}\n\n```",
        "postTime": 1509663053,
        "uid": 53884,
        "name": "beretty",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\n- ### dp[u][j]=min(dp[u][j],dp[u][j-k]+dp[v][k])\n\n\n\n- \u6811\u5f62dp \u601d\u8def\u7565\u5fae\u4e0d\u540c\u3002\u3002\u3002\n\n\n- f[i][j] \u7b2ci\u4e2a\u8282\u70b9\u5207\u6389j\u4e2a\u8282\u70b9\u7684\u6240\u9700\u6700\u5c11\u8fb9\u6570\n\n- dp[u][j]=min(dp[u][j],dp[u][j-k]+dp[v][k])  (u\u5f53\u524d\u8282\u70b9\uff0cv\u5b50\u8282\u70b9)\n- \u7ec6\u8282\u6bd4\u8f83\u591a\u3002\u3002\u4ee3\u7801\u4e2d\u89e3\u91ca\n\n\n```cpp\n\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nint n,p,k,head[160],rd[160],dp[160][160],siz[160],ans=0x3f3f3f;\nstruct edge {int to,next;} ed[330];\nvoid adde(int u,int v){ed[++k].to=v;ed[k].next=head[u];head[u]=k;}\n\nvoid dfs1(int u,int fa)\n{\n\tsiz[u]++;\n\tfor(int i=head[u];i;i=ed[i].next)\n\t{\n\t\tint v=ed[i].to;\n\t\tif(v==fa) continue;\n\t\tdfs1(v,u);\n\t\tsiz[u]+=siz[v];\n\t}\n\tdp[u][siz[u]]=1;//\u5982\u679c\u5207\u6389\u6574\u68f5\u5b50\u6811\uff0c\u53ea\u9700\u5207\u6389\u4e0e\u7236\u8282\u70b9\u7684\u8fde\u8fb9 \n\tdp[u][0]=0;//\u4e0d\u5207 \n}\n\nvoid dfs2(int u,int fa)\n{\n\tfor(int i=head[u];i;i=ed[i].next)\n\t{\n\t\tint v=ed[i].to;\n\t\tif(v==fa) continue;\n\t\tdfs2(v,u);\n\t\tfor(int j=siz[u]-1;j;j--)//\u6211\u5207\u591a\u5c11 \n\t\tfor(int k=0;k<=j;k++)//\u6211\u7684\u513f\u5b50\u5207\u591a\u5c11 \n\t\tdp[u][j]=min(dp[u][j],dp[u][j-k]+dp[v][k]);\n\t\t//\u6211\u5207j\u4e2a\u8282\u70b9\u5207\u7684\u6700\u5c11\u8fb9\u6570=min \u6211\u5207j-k\u4e2a\u8282\u70b9\u7684\u6700\u5c11\u8fb9\u6570+\u6211\u7684\u513f\u5b50\u5207k\u4e2a\u8282\u70b9\u7684\u6700\u5c11\u8fb9\u6570 \n\t}\n\tif(siz[u]-p>=0)//\u6709\u90a3\u4e48\u591a\u8282\u70b9 \n\tans=min(ans,dp[u][siz[u]-p]+dp[u][siz[u]]);\n\t//min \u5207\u6389siz[u]-p\u4e2a\u8282\u70b9(\u5269P\u4e2a\u8282\u70b9)\u7684\u6700\u5c11\u8fb9\u6570+\u5206\u5f00\u6211\u4e0e\u7236\u4eb2\u7684\u8fb9 \n}\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&p);\n\tmemset(dp,0x3f3f3f,sizeof(dp));//\u521d\u59cb\u5316\u4e3a\u6700\u5927\u503c \n\tfor(int i=1;i<=n-1;i++)\n\t{\n\t\tint u,v;\n\t\tscanf(\"%d%d\",&u,&v);\n\t\tadde(u,v);adde(v,u);\n\t}\n\tdfs1(1,1);//\u6c42siz\u6570\u7ec4 & \u521d\u59cb\u5316 \n\tdp[1][siz[1]]=0;//\u6839\u8282\u70b9\u4e0d\u9700\u8981\u4e0e\u7236\u8282\u70b9\u5206\u5f00  \uff08\u6ca1\u6709\u7236\u4eb2\u3002\u3002\u3002\uff09 \n\tdfs2(1,1);//\u6811\u5f62dp \n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n\n```",
        "postTime": 1535856413,
        "uid": 61634,
        "name": "\u5f20\u666f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u5199\u7684\u6bd4\u8f83\u8be6\u7ec6\uff1a[\u591a\u53c9\u6811\u7684\u6811\u5f62\u80cc\u5305\u5e38\u89c1\u5efa\u6a21\u65b9\u6cd5](http://blog.csdn.net/no1\\_terminator/article/details/77824790)\n\n\u6211\u4eec\u8bbedp[k][i][j]\u8868\u793a\u4ee5i\u4e3a\u6839\u7684\u5b50\u6811\uff0c\u5728\u524dk\u4e2a\u513f\u5b50\u4e2d\uff0c\u5206\u79bb\u51fa\u4e00\u4e2a\u5927\u5c0f\u4e3aj\u7684\u5b50\u6811\uff08\u5fc5\u987b\u5305\u542bi\uff09\uff0c\u6240\u9700\u8981\u6700\u5c11\u7684\u64cd\u4f5c\u6b21\u6570\u3002\n\n\u90a3\u4e48\u6211\u4eec\u6bcf\u8ba1\u7b97\u5230\u7b2ck+1\u4e2a\u65b0\u7684\u513f\u5b50v\u65f6(full\\_son[v]\u8868\u793av\u7684\u513f\u5b50\u4e2a\u6570)\uff0c\n\ndp[k+1][i][j]=min(dp[k][i][j-t]+dp[full\\_son[v]][v][t]);\n\n\u7531\u4e8e\u4e00\u4e2a\u6811\u5f62\u5173\u7cfb\uff0c\u6211\u4eec\u9700\u8981\u5728\u4e00\u4e2adfs\u4e0a\u8fdb\u884cdp\uff0c\u5373\u5148dfs(v),\u7136\u540e\u66f4\u65b0dp[k+1][i][j]\u3002\n\n\u8fd9\u4e2ak\u7684\u4e00\u7ef4\u663e\u7136\u53ef\u4ee5\u7528\u6eda\u52a8\u6570\u7ec4\u4f18\u5316\u6389\u3002\n\n\u90a3\u4e48\u5c31\u662f\n\nj=m->1\nt=1->j\ndp[i][j]=min(dp[i][j-t]+dp[v][t]);\n\n\u540c\u65f6\uff0cdp\u4e00\u5f8b\u8981\u6ce8\u610f\u521d\u59cb\u5316\uff0c\u5373\u521a\u5f00\u59cb\u65f6\u6240\u6709\u7684dp[i][1]=du[i]\uff08du[i]\u8868\u793a\u4e0ei\u8fde\u8fb9\u7684\u8282\u70b9\u6570\uff0c\u53c8\u79f0i\u7684\u5165\u5ea6\uff08\u6811\u662f\u65e0\u5411\u8fb9\u54df\uff01\uff09\uff09\n\n\n\u53c2\u8003\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nconst int INF=0x3f3f3f3f;\nconst int N=201;\nstruct Edge{\n    int to,next;\n}e[N*2];\nint du[N],a[N],dp[N][N];\nint n,k,res=INF,EdgeCnt=0;\nvoid addedge(int u,int v){\n    int p=++EdgeCnt;\n    e[p].to=v;e[p].next=a[u];\n    a[u]=p;\n}\nvoid dfs(int u,int fa){\n    dp[u][1]=du[u];\n    for (int p=a[u];p;p=e[p].next){\n        int v=e[p].to;\n        if (v!=fa){\n            dfs(v,u);\n            for (int j=k;j>=1;j--)\n                for (int k=1;k<=j;k++)\n                    dp[u][j]=min(dp[u][j],dp[u][j-k]+dp[v][k]-2);\n        }\n    }\n    res=min(res,dp[u][k]);\n}\nint main(){\n    scanf(\"%d%d\",&n,&k);\n    memset(dp,0x3f,sizeof(dp));\n    for (int i=1;i<n;i++){\n        int u,v;\n        scanf(\"%d%d\",&u,&v);\n        addedge(u,v);\n        addedge(v,u);\n        du[u]++;du[v]++;\n    }\n    dfs(1,0);\n    printf(\"%d\",res);\n    return 0;\n}\n```",
        "postTime": 1504440803,
        "uid": 54916,
        "name": "I_AM_HelloWord",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u6b63\u89e3:\u6811\u5f62DP\n\n\u9996\u5148\u5b9a\u4e49\u72b6\u6001\u5f88\u91cd\u8981.....\n\n\u968f\u4fbf\u4ee5\u4e00\u4e2a\u70b9\u4e3a\u6839\n\nf[i][j]\u8868\u793a\u4ee5i\u4e3a\u6839\uff0c\u4fdd\u7559j\u4e2a\u8282\u70b9\u8981\u780d\u6389\u7684\u6700\u5c11\u8fb9\u6570\n\n\u521d\u59cb\u5316\uff1a\u9996\u5148\u6781\u5927\u503c\n\nf[i][0]=0,f[i][1]=\u4e0ei\u76f8\u8fde\u7684\u8fb9\u6570\n\n\u8bbe\u8fb9  u - > v\n\nf[u][j]=min(f[u][j],f[u][k]+f[v][j-k]-2)\n\n\u4e3a\u4ec0\u4e48\u8981\u51cf2\uff1f\n\n\u7b54\uff1a\u6211\u4eec\u901a\u8fc7v\u66f4\u65b0u\uff0c\u5c31\u8981\u4fdd\u7559u->v \u6b64\u6761\u8fb9\uff0c\u4f46\u662f\n\n\u60f3\u60f3\u6211\u4eec\u7684\u521d\u59cb\u5316\uff0c\u6211\u4eec\u5728f[u][k]\u4e2d\u780d\u6389\u4e86\u8fd9\u6761\u8fb9\u4e00\u6b21\n\n\u53c8\u5728f[v][j-k]\u4e2d\u780d\u6389\u4e86\u8fd9\u6761\u8fb9\u4e00\u6b21\uff0c\u6240\u4ee5\u8981\u52a0\u56de\u6765  \n\n[\u641e\u63a8\u9500\u7684](http://www.cnblogs.com/adelalove/p/8875163.html)  \n\n~~O(\u2229_\u2229)O~~~",
        "postTime": 1524036508,
        "uid": 83546,
        "name": "\u4f9d\u4f9d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u6811\u5f62DP\n\nf[i][j]:\u7ed3\u70b9i\u4fdd\u7559j\u4e2a\u7ed3\u70b9\u6700\u5c11\u9700\u8981\u5220\u53bb\u7684\u8fb9\u6570\n\n\u72b6\u6001\u8f6c\u79fb\uff1a\uff08v\u662fu\u7684\u5b50\u8282\u70b9\uff09f[u][j]=min(f[u][j],f[u][j-k]+f[v][k]-1);\n```cpp\n#include<cstdio>\n#include<vector>\n#include<cstring>\nusing namespace std;\n#define MAXN 150\nint N,P;\nvector<int>G[MAXN+5];\nint son[MAXN+5],sum[MAXN+5];\n//son:the num of i's son     sum:the num of all the son of the tree i\nint f[MAXN+5][MAXN+5];\n//f[i][j]:\u7ed3\u70b9i\u4fdd\u7559j\u4e2a\u7ed3\u70b9\u6700\u5c11\u9700\u8981\u5220\u53bb\u7684\u8fb9\u6570\nvoid dp(int u)\n{\n\tsum[u]=1;//notice\n\tif(!G[u].size())//leaf\n\t{\n\t\tf[u][1]=0;\n\t\tsum[u]=1;\n\t\treturn ;\n\t}\n\tfor(int i=0;i<G[u].size();i++)\n\t{\n\t\tint v=G[u][i];\n\t\tdp(v);\n\t\tsum[u]+=sum[v];\n\t\tfor(int j=sum[u];j>=0;j--)\n\t\t\tfor(int k=1;k<j;k++)\n\t\t\t\tf[u][j]=min(f[u][j],f[u][j-k]+f[v][k]-1);\n\t}\n}\nint main()\n{\n\tscanf(\"%d %d\",&N,&P);\n\tfor(int i=1;i<N;i++)\n\t{\n\t\tint u,v;\n\t\tscanf(\"%d %d\",&u,&v);\n\t\tG[u].push_back(v);\n\t\tson[u]++;\n\t}\n\tmemset(f,0x3f,sizeof(f));\n\tfor(int i=1;i<=N;i++)\n\t\tf[i][1]=son[i];//\u53ea\u5269\u4e00\u4e2a\u8282\u70b9\uff08itself\uff09\uff0c\u6240\u6709\u7684\u513f\u5b50\u90fd\u526a\u6389\n\tdp(1);\n\tint ans=f[1][P];\n\tfor(int i=2;i<=N;i++)\n\t\tans=min(ans,f[i][P]+1);\n\tprintf(\"%d\\n\",ans);\n}\n```",
        "postTime": 1517992913,
        "uid": 41165,
        "name": "Starlight_Glimmer",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u6b63\u89e3:\u6811\u5f62DP\n\n\u968f\u4fbf\u4ee5\u4e00\u4e2a\u70b9\u4e3a\u6839,f[u][j]\u8868\u793a\u4ee5u\u4e3a\u6839\uff0c\u4fdd\u7559j\u4e2a\u8282\u70b9\u8981\u780d\u6389\u7684\u6700\u5c11\u8fb9\u6570\n\n\u521d\u59cb\u5316\uff1a\n\nf[u][0]=0\u3002\n\nf[u][1]=\u4e0eu\u76f8\u8fde\u7684\u8fb9\u6570\n\nv\u662fu\u7684son\uff0cu\u662fv\u7684daddy\n\nf[u][j]=min(f[u][j],f[u][k]+f[v][j-k]-2)\n\n\u8f6c\u79fb\u65f6\u679a\u4e3e\u5220\u9664\u7684\u8fb9\u6570\n\n\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u8981\u51cf2\uff1f\n\n\u6211\u4eec\u901a\u8fc7v\u66f4\u65b0u\uff0c\u5c31\u8981\u4fdd\u7559u\u5230v \u8fd9\u6761\u8fb9\uff0c\u4f46\u662f\n\n\u6211\u4eec\u7684\u521d\u59cb\u5316\u5728f[u][k]\u4e2d\u780d\u6389\u4e86\u8fd9\u6761\u8fb9\u4e00\u6b21\n\n\u53c8\u5728f[v][j-k]\u4e2d\u780d\u6389\u4e86\u8fd9\u6761\u8fb9\u4e00\u6b21\uff0c\u5728\u8f6c\u79fb\u65f6\u65ad\u6389\u4e86\u4e24\u6b21\uff0c\n\n\u6240\u4ee5\u7b54\u6848\u8981\u51cf\u4e8c\u3002\n\n ",
        "postTime": 1564109513,
        "uid": 171826,
        "name": "\u9006\u65f6\u9488\u7684\u8bb0\u5fc6",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u9898\u9762:https://www.luogu.org/problem/P1272\n\n\u8fd9\u9898\u662f\u4e00\u9053\u6811\u5f62dp\n\n\u8bbedp[i][j]\u8868\u793a\u4ee5i\u4e3a\u6839\u7684\u8282\u70b9\u4fdd\u7559j\u4e2a\u70b9\u6240\u9700\u8981\u780d\u6389\u7684\u8fb9\u6570,cnt[i]\u4e3ai\u7684\u5b50\u8282\u70b9\u6570,size[i]\u8868\u793a\u4ee5i\u4e3a\u6839\u7684\u5b50\u6811\u7684\u8282\u70b9\u6570\n\n\u5219\u53ef\u4ee5\u5f97\u5230\u521d\u59cb\u72b6\u6001:\n\ndp[i][1]=cnt[i],(\u53ea\u7559\u4e0b\u6839\u8282\u70b9\u5219\u9700\u8981\u628a\u6240\u6709\u4e0e\u5b50\u8282\u70b9\u7684\u8fde\u8fb9\u780d\u6389);dp[i][0]=0;\n\nOtherwise, dp[i][j]=Inf(\u6781\u5927\u503c)\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u5b50\u8282\u70b9,\u6211\u4eec\u53ef\u4ee5\u5206\u914d\u4e00\u5b9a\u7684\u70b9\u6570\u7ed9\u5b83,\u5219\u6709\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b:\n\ndp[i][j]=min(dp[i][j],dp[i][k]+dp[s][j-k]-1)\u00a0 (1<=i<=n;0<=j<=size[i];1<=k<j;s\u4e3ai\u7684\u5b50\u8282\u70b9)\n\n\u5176\u4f59\u7ec6\u8282\u89c1\u7a0b\u5e8f\u6ce8\u91ca\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#define MAXN 151\nusing namespace std;\nint n,p;\nint root;\nint ans;\nbool bj[MAXN];\nint size[MAXN],cnt[MAXN],dp[MAXN][MAXN];\nint head[MAXN],h;\nstruct Edge\n{\n\tint v,next;\n}edge[MAXN];\nvoid add(int u,int v)\n{\n\th++;\n\tedge[h].v=v;\n\tedge[h].next=head[u];\n\thead[u]=h;\n}\nvoid dfs(int u)\n{\n\tsize[u]=1;\n\tdp[u][1]=cnt[u];\n\tdp[u][0]=0;\n\t//\u521d\u59cb\u5316 \n\tfor(int i=head[u];i;i=edge[i].next)\n\t{\n\t\tint v=edge[i].v;\n\t\tdfs(v);  // \u9012\u5f52 \n\t\tsize[u]+=size[v];//\u4ece\u641c\u7d22\u89d2\u5ea6\u770b\u662f\u9012\u5f52\u7684\u56de\u6eaf,,\u4ecedp(\u80cc\u5305)\u7684\u89d2\u5ea6\u6765\u770b\u5c31\u662f\u66f4\u65b0\u80cc\u5305\u5927\u5c0f \n\t\tfor(int j=size[u];j>=0;j--) //\u5012\u5e8f,\u4f7f\u6bcf\u4e2a\u8fb9\u53ea\u80fd\u88ab\u5220\u4e00\u6b21 \n\t\t{\n\t\t\tfor(int k=1;k<min(size[v]+1,j);k++) //\u8fd9\u91cc\u7684\u5faa\u73af\u4e0a\u754c,\u7a0d\u5fae\u52a0\u4e86\u70b9\u4f18\u5316,\u5f53k>size[v]\u65f6,dp[v][k]\u663e\u7136\u4e3aInf, \u65e0\u6cd5\u5bf9\u7b54\u6848\u4f5c\u8d21\u732e \n\t\t\t{\n\t\t\t\tdp[u][j]=min(dp[u][j],dp[u][j-k]+dp[v][k]-1); //\u7b97u\u7684\u5b50\u6811\u65f6\u628a\u548cv\u7684\u8fde\u8fb9\u4e5f\u780d\u6389\u4e86,\u56e0\u6b64\u8fd9\u91cc\u8981\u51cf\u53bb1,\u5373\u628a\u780d\u6389\u7684u-v\u8fb9\u8865\u56de \n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tcin>>n>>p;\n\tfor(int i=1;i<n;i++)\n\t{\n\t\tint a,b;\n\t\tscanf(\"%d%d\",&a,&b);\n\t\tadd(a,b);    \n\t\tbj[b]=1;\n\t\t//\u56e0\u4e3a\u662f\u6709\u5411\u8fb9,\u6240\u4ee5\u6211\u9009\u62e9\u627e\u51fa\u6839,\u5efa\u53cc\u5411\u8fb9\u7684\u8bdd\u5c31\u4e0d\u9700\u8981\u627e\u6839\u4e86,\u4efb\u610f\u9009\u5373\u53ef,\u53ea\u9700\u8981\u6ce8\u610f\u6df1\u641c\u65f6\u6ce8\u610f\u5224\u65ad\u56de\u8fb9 \n\t\tcnt[a]++;\n\t}\n\tmemset(dp,63,sizeof(dp));\n\tfor(int i=1;i<=n;i++) \n\t{\n\t\tif(!bj[i])\n\t\t{\n\t\t\troot=i;    //\u627e\u6839 \n\t\t\tbreak;\n\t\t}\n\t}\n\tdfs(root);\n\tans=dp[root][p];\n\tfor(int i=1;i<=n;i++) ans=min(ans,dp[i][p]+1);  \n\t//\u6839\u636e\u6211\u4eec\u7684\u72b6\u6001\u5b9a\u4e49,\u6211\u4eec\u6c42\u5f97\u53ea\u662f\u8be5\u5b50\u6811\u4fdd\u7559p\u4e2a\u8282\u70b9\u6240\u9700\u8981\u780d\u7684\u8fb9\n\t//\u56e0\u6b64,\u9664\u4e86\u6839\u8282\u70b9,\u90fd\u8fd8\u9700\u8981\u518d\u65ad\u5f00\u8be5\u8282\u70b9\u4e0e\u5176\u7236\u8282\u70b9\u7684\u8fde\u8fb9 \n\tcout<<ans;\n}\n```\n",
        "postTime": 1572365995,
        "uid": 101873,
        "name": "bzcxl",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "### \u98df\u7528 [blog](https://vasairy.blog.luogu.org/)  \u66f4\u4f73\n#### \u9898\u610f\u63cf\u8ff0\n- ##### \u6709\u4e00\u68f5\u6811\n- ##### \u5220\u6389\u4e00\u4e9b\u8282\u70b9\n- ##### \u4f7f\u5269\u4e0b\u7684\u8282\u70b9\u4ecd\u4e3a\u4e00\u68f5\u6811\uff0c\u5e76\u6070\u597d\u7b49\u4e8eP;\n- ##### \u6c42\u5220\u7684\u6700\u5c0f\u6b21\u6570\n------\n#### \u4e3b\u8981\u601d\u8def\uff1a\u6811\u5f62DP\n- ##### \u9996\u5148\u8f93\u5165\u6574\u68f5\u591a\u53c9\u6811\n- ##### \u7136\u540e\u5c06\u591a\u53c9\u6811\u8f6c\u4e3a\u4e8c\u53c9\u6811\uff08\u65b9\u4fbf\u8ba1\u7b97\uff09\n- ##### \u6c42\u5220\u6389\u8be5\u8282\u70b9\u540e\uff0c\u4f1a\u6709\u591a\u5c11\u8282\u70b9\u6302\u6389\n- ##### ~~\u6700\u540e\u5c06\u4e8c\u53c9\u6811\u8f6c\u6210\u7b54\u6848~~\n- ##### \u904d\u5386\u4e8c\u53c9\u6811 DP+\u8bb0\u5fc6\u5316 \u6c42\u89e3\n------\n#### \u5982\u4f55 **DP** \uff1f\n- ##### \u8bbe dp( i , j )\u4e3a\u5728\u8282\u70b9i\u5220j\u4e2a\u8282\u70b9\u7684\u6700\u5c0f\u6b21\u6570\n- ##### \u5bf9\u4e8e\u8282\u70b9i\uff0c\u6709\u5220\u548c\u4e0d\u5220\u4e24\u79cd\u60c5\u51b5\n- ##### \u5982\u679c\u5220\uff0c\u5219\n```cpp\n\tdp( i , j ) = dp( t [ i ].r , j - t [  i ].d ) + 1\n```\n\u610f\u4e3a\uff1a \u5728\u53f3\u5b50\u6811\u4e0a\u5220\u53bb\uff08\u8981\u5220\u7684  j \u51cf\u53bb\u5df2\u7ecf\u5220\u7684 t [  i ].d \uff09\u8282\u70b9\u7684\u6700\u5c0f\u6b21\u6570\u52a0\u4e0a\u672c\u6b21\u5220\u7684\u6b21\u6570 1 \n- ##### \u5982\u679c\u5220, \u8fd8\u6709\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\n```cpp\n\tif(m==n-p)\tdp( i , j )=dp(t[ k ].l,t[ k ].d-p)+1;\n```\n\u610f\u4e3a\uff1a \u82e5\u5176\u4ed6\u5b50\u6811\u8fd8\u672a\u5220\u4efb\u4f55\u8282\u70b9\uff0c\u53ef\u4ee5\u5728\u5220\u53bb\u7684\u5b50\u6811\u4e2d\u5220\u53bb\uff08\u5b50\u6811\u7684\u8282\u70b9\u51cf\u53bb\u8981\u4fdd\u7559\u7684\u8282\u70b9\uff09\uff0c\u5373\u7b49\u540c\u4e8e\u4e0d\u5220\u5b50\u6811\uff0c\u800c\u5220\u53bb\u9664\u8be5\u5b50\u6811\u5916\u7684\u6240\u6709\u8282\u70b9\n- #####\t\u5982\u679c\u4e0d\u5220\uff0c\u5219\n```cpp\n\tdp( i , j )=dp(t [ i ].l , k )+dp(t [ i ].r ,m-k )\n```\n\u610f\u4e3a\uff1a \u8282\u70b9i\u5de6\u5b50\u6811\u5220 k \u4e2a\u8282\u70b9\uff0c\u53f3\u5b50\u6811\u5220 m-k \u4e2a\u8282   \u70b9\u7684\u6700\u5c0f\u6b21\u6570\u548c\n- ##### \u52a0\u4e0a\u8bb0\u5fc6\u5316\n-------\n```cpp\nt [ i ].r\u4e3a\u53f3\u5b50\u6811\uff0ct [ i ].l\u4e3a\u5de6\u5b50\u6811\nt [ i ].d\u4e3a\u5220\u6389\u8be5\u8282\u70b9\u540e\uff0c\u4f1a\u6709\u591a\u5c11\u8282\u70b9\u6302\u6389\u3002\n```\n-------\n### \u4f20\u6715\u65e8\u610f\uff0c\u5ba3\u4ee3\u7801\n\n```cpp\n#include <iostream>\n#include <cstdlib>\n#include <cstdio>\n#include <cmath>\n#include <string>\n#include <cstring>\n#include <algorithm>\nusing namespace std;//\u6d41\u7ebf\u578b\u5934\u6587\u4ef6\n\nconst int INF=9999999;\nstruct tree{ int d,l,r; }t[301];\nint f[301][301];\nint n,p;//\u5b9a\u4e49\u6811\n\nint dp(int k,int m)\n{\n\tif(f[k][m]>0)\t\treturn f[k][m];\n\tif(m==0)\t\treturn 0;//\u52200\u4e2a\u8282\u70b9\u6b21\u6570\u4e3a0\n\tif(m<0)\t\t\treturn INF;//\u4e0d\u53ef\u80fd\u5220\u8d1f\u6570\u4e2a\u8282\u70b9\n\tif(k==0)\t\treturn INF;//\u4e0d\u5b58\u5728\u7684\u8282\u70b9\n\tint tmp;\n\tf[k][m]=INF;\n\ttmp=dp(t[k].r,m-t[k].d)+1;\n\tif(tmp<f[k][m])\tf[k][m]=tmp;\n\tif(m==n-p)\ttmp=dp(t[k].l,t[k].d-p)+1;\n\tif(tmp<f[k][m])\tf[k][m]=tmp;\n\tint lv,rv;\n\tfor(int i=0; i<=m; i++)\n\t{\n\t\tlv=dp(t[k].l,i);\n\t\tif(lv>=INF)\tcontinue;\n\t\trv=dp(t[k].r,m-i);\n\t\tif(rv>=INF)\tcontinue;\n\t\tif(lv+rv<f[k][m])\tf[k][m]=lv+rv;\n\t}\n\treturn f[k][m];\n}//\u6811\u5f62DP+\u8bb0\u5fc6\u5316\n\nvoid dfs(int x)\n{\n\tif(x==0)\treturn;\n\tif(t[x].l==0)\n\t{\n\t\tt[x].d=1;\n\t\treturn;\n\t}\n\tint r=t[x].l;\n\tt[x].d+=1;\n\twhile(r>0)\n\t{\n\t\tdfs(r);\n\t\tt[x].d+=t[r].d;\n\t\tr=t[r].r;\n\t}\n}//\u904d\u5386\u6811\uff0c\u6c42\u5220\u6389\u8be5\u8282\u70b9\u540e\uff0c\u4f1a\u6709\u591a\u5c11\u8282\u70b9\u6302\u6389\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&p);\n\tint x,y,r;\n\tmemset(t,0,sizeof(t));\n\tmemset(f,-1,sizeof(f));\n\tfor(int i=1; i<n; i++)\n\t{\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tif(t[x].l==0)\tt[x].l=y;\n\t\telse\n\t\t{\n\t\t\tr=t[x].l;\n\t\t\twhile(t[r].r>0)\tr=t[r].r;\n\t\t\tt[r].r=y;\n\t\t}//\u8f6c\u4e8c\u53c9\u6811\n\t}\n\tdfs(1);\n\tcout<<dp(1,n-p)<<endl;\n\treturn 0;\n}\n```\n#### 2019 RP++ !",
        "postTime": 1564127139,
        "uid": 174687,
        "name": "\u767d\u83dc\u9053\u58eb",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 \u3010\u91cd\u5efa\u9053\u8def\u3011P1272"
    },
    {
        "content": "## \u6811\u5f62DP\n\u7528\u4e86\u4e24\u79cd\u65b9\u5f0f\n1. \u8fb9\u96c6\u6570\u7ec4\n   - f[x][p]\u8868\u793a\u4ee5x\u4e3a\u6839\u7684\u5b50\u6811\u4fdd\u7559p\u4e2a\u70b9\u8981\u5220\u9664\u7684\u6700\u5c0f\u8fb9\u6570\n   - \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b:f[x][j]=min(f[x][j],f[t[i].v][k]+f[x][j-k]-2)\n   - \u8f6c\u79fb\u65f6\u679a\u4e3e\u5f53\u524d\u70b9\u5220\u9664\u591a\u5c11\u8fb9,\u513f\u5b50\u8282\u70b9\u80fd\u5220\u9664\u591a\u5c11\u6761\u8fb9\n   - \u56e0\u4e3a\u7531\u513f\u5b50\u8f6c\u79fb\u8fc7\u6765,\u4ed6\u4eec\u4e4b\u95f4\u7684\u8fde\u8fb9\u4e0d\u80fd\u65ad,but\u8f6c\u79fb\u65f6\u65ad\u6389\u4e86\u4e24\u6b21,\u6240\u4ee5ans-2\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cstdlib>\nusing namespace std;\nconst int N=305,M=100000000;\nint n,p,a[N],d[N],f[N][N],tot,ans;\n struct ss\n{\n\tint nx,v;\n}t[N*2];\n void add(int u,int v)//\u8fb9\u96c6\u6570\u7ec4\n{\n\ttot++; t[tot].v=v; t[tot].nx=a[u]; a[u]=tot;\n}\n void dp(int x,int fa)//x\u4e3a\u5f53\u524d\u8282\u70b9,fa\u4e3a\u5f53\u524d\u8282\u70b9\u7684\u7236\u8282\u70b9\n{\n\tf[x][1]=d[x]; //x\u8282\u70b9\u4fdd\u75591\u4e2a\u8282\u70b9\u65f6\u5c06\u4e0ex\u8282\u70b9\u76f8\u8fde\u7684\u5b50\u8282\u70b9\u65ad\u5f00 \n\tint i,j,k;\n\tfor (k=a[x]; k; k=t[k].nx)\t\n\t\tif (t[k].v!=fa)\n\t\t{\n\t\t\tdp(t[k].v,x);\n\t\t\tfor (i=p; i>=1; i--)\n\t\t\t\tfor (j=1; j<=i; j++) f[x][i]=min(f[x][i],f[t[k].v][j]+f[x][i-j]-2);\n\t\t}\n\tans=min(ans,f[x][p]);\n}\n int main()\n{\n\tmemset(f,0x03f,sizeof(f));\n\tscanf(\"%d%d\",&n,&p);\n\tint x,y;\n\tfor (int i=1; i<n; i++)\n\t{\n\t\tscanf(\"%d%d\",&x,&y);\n\t\td[x]++; d[y]++;\n\t\tadd(x,y); add(y,x);\n\t}\n\tans=M;\n\tdp(1,0);\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n\n  2. f[x][p]\u8868\u793a\u4ee5x\u4e3a\u6839\u7684\u5b50\u6811\u4fdd\u7559p\u4e2a\u70b9\u8981\u5220\u9664\u7684\u6700\u5c0f\u8fb9\u6570\n   - res[rx][p]\u8868\u793ax\u8282\u70b9\u53f3\u8fb9\u6700\u8fd1\u7684\u8282\u70b9\u4fdd\u7559p\u4e2a\u70b9\u8981\u5220\u9664\u7684\u6700\u5c0f\u8fb9\u6570\n   - \u4e0a\u4e00\u79cd\u65b9\u5f0f\u76f8\u6bd4,\u591a\u7528res\u6570\u7ec4\u8bb0\u5f55\u5144\u5f1f\u8282\u70b9\u7684\u503c,\u800c\u4e0a\u4e00\u79cd\u5219\u662f\u4ecep\u81f31\u5faa\u73af\u9632\u6b62\u524d\u9762\u66f4\u65b0\u7684\u503c\u5bf9\u540e\u9762\u7684\u503c\u4ea7\u751f\u5f71\u54cd\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\nusing namespace std;\nconst int N=305,M=1000000000;\nint a[N],nx[N],f[N][N],res[N][N];\nint n,p,root,ans=M;\nbool flag[N];\n void dfs(int x)\n{\n\tfor (int i=0; i<=p; i++) f[x][i]=res[x][i]=M;\n\tf[x][0]=1;\n\tif (a[x]==0)\n\t{\n\t\tf[x][1]=0;\n\t\treturn;\n\t}\n\tint i,j,k,rk=0;\n\tfor (k=a[x]; k; k=nx[k])\n\t{\n\t\tdfs(k);\n\t\tif (rk>0)\n\t\t\tfor (i=0; i<=p; i++)\n\t\t\t\tfor (j=0; j<=i; j++) \n\t\t\t\t\tres[k][i]=min(res[k][i],res[rk][j]+f[k][i-j]);\n\t\telse for (i=0; i<=p; i++) res[k][i]=f[k][i];\n\t\trk=k;\n\t}\n\tfor (i=1; i<=p; i++) f[x][i]=res[rk][i-1];\n}\n int main()\n{\n\tscanf(\"%d%d\",&n,&p);\n\tint u,v;\n\tfor (int i=1; i<n; i++) \n\t{\n\t\tscanf(\"%d%d\",&u,&v);\n\t\tnx[v]=a[u]; a[u]=v;\n\t\tflag[v]=true;\n\t}\n\tfor (int i=1; i<=n; i++)\n\t\tif (flag[i]==false) {root=i; break;}\n\tdfs(root);\n\tfor (int i=1; i<=n; i++)\n\t\tif (i==root) ans=min(ans,f[i][p]);\n\t\telse ans=min(ans,f[i][p]+1);\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1564109051,
        "uid": 141460,
        "name": "MD_17L",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u7684\u6570\u636e\u662f\u771f\u7684\u6c34==\n\n\u7b2c\u4e00\u6b21\u4ea4\u7684\u65f6\u5019\u5faa\u73af\u5199\u53cd\u4e86\u7ed3\u679c\u5c31WA\u4e86\u4e00\u4e2a\u70b9\n\n\u5199\u5199\u4e2a\u4eba\u7684\u601d\u8def\u5427\n\n\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u662f\u4e00\u4e2a\u6811\u5f62DP\u3002\u800c\u5bf9\u4e8e\u8fd9\u6837\u7684\u9898\uff0c\u4e00\u822c\u90fd\u4f1a\u679a\u4e3e\u5f53\u524d\u8282\u70b9\u7684\u8282\u70b9\u6570\u4e0e\u5f53\u524d\u8282\u70b9\u7684\u5b50\u8282\u70b9\u7684\u8282\u70b9\u6570\uff0c\u6240\u4ee5\u5728\u8fd9\u4e2a\u9898\u76ee\u4e2d\u6211\u4eec\u8981\u679a\u4e3e\u7684\uff0c\u5c31\u662f\u5207\u4e0b/\u4fdd\u7559\u7684\u8282\u70b9\u6570\n\n\u6211\u4eec\u7528\u6570\u7ec4\u8bb0\u5f55u\u8282\u70b9\u5207\u53bbj\u4e2a\u7684\u6b21\u6570\uff0c\u90a3\u5bf9\u4e8e\u7ed3\u679c\u6765\u8bf4\uff0c\u4fdd\u7559p\u4e2a\u5b9e\u9645\u4e0a\u5c31\u662f\u5207\u6389size\u3010u\u3011-p\u7684\u6b21\u6570\n\n\u9996\u5148\u5148\u7528\u4e00\u904ddfs\uff0c\u786e\u5b9a\u6bcf\u4e2a\u8282\u70b9\u7684\u5b50\u6811\u8282\u70b9\u6570\n\n```cpp\nvoid siz(int u,int fa)\n{\n\tsz[u]++;\n\tfor(int i=head[u];i;i=eg[i].next)\n\t{\n\t\tint v=eg[i].to;\n\t\tif(v!=fa){\n        siz(v,u);\n\t\tsz[u]+=sz[v];\n        }\n\t}\n\tdp[u][sz[u]]=1;\n\tdp[u][0]=0;\n}\n```\n\u5982\u679c\u6211\u4eec\u8981\u5207\u6389sz\u3010u\u3011\u4e2a\uff0c\u53ea\u9700\u8981\u5207\u6389\u4ed6\u4e0e\u4ed6\u7236\u4eb2\uff0c\u800c\u4e0d\u5207\u5219\u662f0\n\n\u5bf9\u4e8e\u6839\u8282\u70b9\u6765\u8bf4\uff0c\u6ca1\u6709\u7236\u4eb2\uff0c\u5219\u6709dp\u3010root\u3011\u3010sz\u3010root\u3011\u3011=0\n\n\u5f53\u7136root\u53ef\u4ee5\u968f\u4fbf\u8f6c\u7684\uff0c\u672c\u9898\u89e3\u4ee51\u4e3aroot\n\n\u7136\u540e\u5c31\u662f\u679a\u4e3e\u5b50\u6811\u7684\u8282\u70b9\u4e86\uff0c\u4e0d\u8fc7\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5bf9\u4e8e\u6811\u4e0a\u80cc\u5305\u95ee\u9898\uff0c\n# \u4e00\u5b9a\u4e0d\u8981\u5fd8\u8bb0\u5012\u5e8f\n\n```cpp\nvoid dfs(int u,int fa)\n{\n\tfor(int i=head[u];i;i=eg[i].next)\n\t{\n\t\tint v=eg[i].to;\n\t\tif(v==fa)continue;\n\t\tdfs(v,u);\n\t\tfor(int j=sz[u]-1;j>=1;j--)\n\t\tfor(int k=0;k<=j;k++)\n\t\tdp[u][j]=min(dp[u][j],dp[u][j-k]+dp[v][k]);\n\t}\n    }\n```\n\u6700\u540e\u7684\u8f93\u51fa\u5c31\u662f\u626b\u4e00\u904d\u6240\u6709\u7684\u8282\u70b9\u8fa3\n\u8fd9\u4e2a\u5c31\u4e0d\u8bf4\u4e86\uff0c\u76f8\u4fe1\u4f60\u80af\u5b9a\u77e5\u9053\u8be5\u600e\u4e48\u626b\u4e86\n\n**THE END**\n\n\n",
        "postTime": 1553173228,
        "uid": 116388,
        "name": "SFWR",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "[\u67e5\u770b\u539f\u9898\u8bf7\u6233\u8fd9\u91cc](https://www.luogu.org/problem/P1272)\n\n## \u72b6\u6001\u8bbe\u8ba1\n\n\u4e00\u5f00\u59cb\u6211\u8bbe\u8ba1$f[i][j]$\u8868\u793a\u5728\u4ee5$i$\u4e3a\u6839\u8282\u70b9\u7684\u5b50\u6811\u4e0a\u4fdd\u7559$j$\u4e2a\u8282\u70b9\u9700\u8981\u65ad\u6389\u7684\u6700\u5c11\u7684\u8fb9\u6570\uff0c\u4f46\u662f\u8fd9\u6837\u8bbe\u8ba1\u72b6\u6001\u867d\u7136\u601d\u8003\u8d77\u6765\u6bd4\u8f83\u76f4\u89c2\uff0c\u4f46\u662f\u72b6\u6001\u8f6c\u79fb\u8c8c\u4f3c\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6240\u4ee5\u6211\u4eec\u76f4\u63a5\u7528$f[i][j]$\u8868\u793a\u5728\u4ee5$i$\u4e3a\u6839\u7684\u5b50\u6811\u4e0a\u5220\u53bb$j$\u4e2a\u8282\u70b9\u9700\u8981\u53bb\u6389\u7684\u6700\u5c11\u7684\u8fb9\u6570\uff0c$ans=\\min(f[u][siz[u]-p]+f[u][siz[u]])$\uff0c\u5176\u4e2d$siz[u]-p$\u662f\u6211\u4eec\u8981\u5728\u8fd9\u9897\u4ee5$u$\u4e3a\u6839\u8282\u70b9\u7684\u5b50\u6811\u4e0a\u5220\u53bb\u7684\u70b9\u6570\uff0c$f[u][siz[u]]$\u662f\u628a\u4ee5$u$\u4e3a\u6839\u8282\u70b9\u7684\u5b50\u6811\u548c\u8fd9\u9897\u6811\u7684\u5269\u4f59\u90e8\u5206\u5206\u5f00\u9700\u8981\u5220\u53bb\u7684\u8fb9\u6570\u3002\n\n\u82e5$u$\u4e3a\u975e\u6839\u8282\u70b9\uff0c\u5219$f[u][siz[u]]=1$\uff08\u628a$u$\u548c$father[u]$\u4e4b\u95f4\u7684\u8fb9\u5220\u53bb\uff09\uff1b\u82e5$u$\u4e3a\u6839\u8282\u70b9\uff0c\u5219$f[u][siz[u]]=0$\uff08\u6839\u8282\u70b9\u6ca1\u6709\u7236\u4eb2\u8282\u70b9\uff0c\u4e0d\u7528\u5220\uff09\u3002\n\n## \u72b6\u6001\u8f6c\u79fb\n\n\u72b6\u6001\u8f6c\u79fb\u548c\u5206\u7ec4\u80cc\u5305\u76f8\u4f3c\uff0c\u7528\u5230\u4e86[\u6cdb\u5316\u7269\u54c1](https://baike.baidu.com/item/%E6%B3%9B%E5%8C%96%E7%89%A9%E5%93%81/810495?fr=aladdin)\u7684\u601d\u60f3\u3002\n\n\u6211\u4eec\u904d\u5386\u8fd9\u9897\u6811\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u76f8\u5f53\u4e8e\u5728\u679a\u4e3e\u7ec4\u522b\uff08\u4ee5\u540c\u4e00\u4e2a\u8282\u70b9$u$\u4e3a\u6839\u7684$f[u][1-siz[u]]$\u8fd9\u4e9b\u72b6\u6001\u5f53\u6210\u7269\u54c1\u5206\u5230\u4e00\u7ec4\uff09\u3002\n\n```cpp\nf[u][j] = min(f[u][j],f[u][j - k] + f[v][k]);\n```\n\n\u8fd9\u5c31\u662f\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff0c\u5c1d\u8bd5\u5728\u5f53\u524d\u8fd9\u9897\u5b50\u6811\u4e2d\u9009\u62e9\u4e00\u4e9b\u8282\u70b9\u5c1d\u8bd5\u80fd\u4e0d\u80fd\u5f97\u5230\u66f4\u4f18\u7684\u72b6\u6001\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\n#define ll long long\n#define INF 100000000000\n#define re register\n#define rep(i,a,b) for(int i = (a); i <= (b); i++)\n#define qwq printf(\"qwq\\n\");\n#define int long long\n\nusing namespace std;\n\nlong long read()\n{\n\tregister long long x = 0,f = 1;register char ch;\n\tch = getchar();\n\twhile(ch > '9' || ch < '0'){if(ch == '-') f = -f;ch = getchar();}\n\twhile(ch <= '9' && ch >= '0'){x = x * 10 + ch - 48;ch = getchar();}\n\treturn x * f;\n}\n\nint n,p,cnt,ans,x,y,z,d[1000005],f[155][155],siz[1005];\n\nstruct edge{\n\tint to,nex,w;\n}e[2000005];\n\nvoid add(int x,int y)\n{\n\te[++cnt].to = y;\n\te[cnt].nex = d[x];\n\td[x] = cnt;\n}\n\nvoid dfs1(int u,int fa)\n{\n\tsiz[u] ++;\n\tfor(int i = d[u]; i; i = e[i].nex)\n\t{\n\t\tint v = e[i].to;\n\t\tif(v == fa) continue;\n\t\tdfs1(v,u);\n\t\tsiz[u] += siz[v];\n\t}\n\tf[u][0] = 0;\n\tf[u][siz[u]] = 1;\n}\n\nvoid dfs2(int u,int fa)\n{\n\tfor(int i = d[u]; i; i = e[i].nex)\n\t{\n\t\tint v = e[i].to;\n\t\tif(v == fa) continue;\n\t\tdfs2(v,u);\n\t\tfor(int j = siz[u] - 1; j; j--)\n\t\t\tfor(int k = 0; k <= j; k++)\n\t\t\t\tf[u][j] = min(f[u][j],f[u][j - k] + f[v][k]);\n\t}\n\tif(siz[u] >= p) ans = min(ans,f[u][siz[u] - p] + f[u][siz[u]]);\n}\n\nsigned main()\n{\n\tn = read(); p = read();\n\tans = INF;\n\tfor(int i = 1; i < n; i++)\n\t{\n\t\tx = read(); y = read();\n\t\tadd(x,y); add(y,x);\n\t}\n\tfor(int i = 1; i <= n; i++)\n\t\tfor(int j = 1; j <= n; j++)\n\t\t\tf[i][j] = INF;\n\tdfs1(1,1);\n\tf[1][siz[1]] = 0;\n\tdfs2(1,1);\n\tprintf(\"%lld\\n\",ans);\n    return 0;\n}\n\n```",
        "postTime": 1572336824,
        "uid": 150821,
        "name": "Azuree",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u7ecf\u5178\u7684\u6811\u5f62dp\u9898\n\n\u4ee3\u7801\u4e2d\u6709\u6ce8\u91ca\u3002\u3002\n\n\n\n\n\n\n\n\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <memory.h>\n#include <iostream>\nusing namespace std;\nconst int N=155;\nstruct Node\n{int v;\n int next;\n}e[2*N];\nint n,p,tot,Ans=1000000000;\nint f[N][N],d[N],G[N];//f[i][j]\u8868\u793a\u5728\u4ee5i\u4e3a\u6839\u7684\u5b50\u6811\u91cc\u622a\u53d6j\u4e2a\u8282\u70b9\u6700\u5c11\u8981\u5220\u8fb9\u6570\nvoid addedge(int u,int v)//\u7528\u90bb\u63a5\u8868\u5b58\u50a8\u8fb9 \n{e[++tot].v=v;\n e[tot].next=G[u];\n G[u]=tot;//\u8868\u5934 \n}\nvoid init()\n{int i,u,v;\n scanf(\"%d %d\",&n,&p);\n for(i=1;i<n;i++)\n   {scanf(\"%d %d\",&u,&v);\n    d[u]++;//\u8282\u70b9u\u7684\u5ea6 \n    d[v]++;\n    addedge(u,v);\n    addedge(v,u);\n   }\n memset(f,1,sizeof(f));\n}\nvoid dfs(int u,int r)//\u8282\u70b9u\u7684\u7236\u8282\u70b9\u4e3ar \n{int i,j,k;\n f[u][1]=d[u]-(r!=0);//\u521d\u59cb\u5316\n for(i=G[u];i;i=e[i].next)\n  if(e[i].v!=r)//\u65b9\u5411\u5411\u4e0b \n  {dfs(e[i].v,u);\n   for(j=p;j>=1;j--)\n     for(k=1;k<=j;k++)\n       f[u][j]=min(f[u][j],f[u][j-k]+f[e[i].v][k]-1);//\u4e3a\u4f55\u8981-1,\u56e0\u4e3a\u4e00\u5f00\u59cb\u628a\u6240\u6709\u7684\u8fb9\u90fd\u5220\u4e86 \n  }\n Ans=min(Ans,f[u][p]+(r!=0));\n}\nint main()\n{init();\n dfs(1,0);//\u5c061\u53f7\u70b9\u5f53\u505a\u65e0\u6839\u6811\u7684\u6839\u8282\u70b9 \n cout<<Ans;\n return 0;\n}\n```",
        "postTime": 1507127089,
        "uid": 3606,
        "name": "vgccyaj",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u548c\u697c\u4e0b\u5927\u4f6c\u8bf4\u7684\u4e00\u6837\uff0c\u5c31\u662f\u6811\u5f62DP\uff0c\u4e0d\u8fc7\u6211\u662f\u62ff\u90bb\u63a5\u8868\u5199\u7684\u3002\n\n\u8bbef[i][j] \u8868\u793a\u4ee5i\u8282\u70b9\u4e3a\u6839\uff0c\u9694\u51fa\u542b\u6709j\u4e2a\u70b9\u7684\u5b50\u6811\u6240\u9700\u8981\u7684\u6700\u5c11\u64cd\u4f5c\u6b21\u6570\u3002\uff08\u611f\u89c9\u6811\u5f62DP\u72b6\u6001\u90fd\u8bbe\u7684\u5dee\u4e0d\u591a\u8bf6\uff0c\u51e0\u9053\u5165\u95e8\u9898\u7684\u72b6\u6001\u90fd\u8ddf\u8fd9\u8bbe\u7684\u5927\u5dee\u4e0d\u5dee\uff0c\u6211\u4e5f\u4e0d\u662f\u5f88\u6e05\u695a\u6bd5\u7adf\u6211\u4e5f\u6ca1\u505a\u51e0\u9898\u3010\u6c42\u5927\u4f6c\u544a\u77e5\u3011\uff09\n\n\u2026\u2026\u5176\u5b9e\u697c\u4e0b\u5927\u4f6c\u8bb2\u5f97\u5f88\u8be6\u7ec6\u554a\uff0c\u597d\u4e86\u4e0d\u5e9f\u8bdd\u8d34\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=151;\nconst int M=0x7f7f7f7f;\nint f[N][N],h[N],d[N];\nint cnt,n,m,ans=M;\nstruct node{\n    int v;\n    int next;\n}e[2*N];//\u56e0\u4e3a\u662f\u65e0\u5411\u53d8\u6240\u4ee5\u76f8\u5f53\u4e8e\u6b63\u53cd\u4e24\u6761\u6709\u5411\u8fb9\nvoid Add(int u,int v){\n    cnt++;\n    e[cnt].v=v;\n    e[cnt].next=h[u];\n    h[u]=cnt;\n}\nvoid dfs(int x,int fa){\n    f[x][1]=d[x];\n    for(int i=h[x];i;i=e[i].next)\n        if(e[i].v!=fa){\n                        dfs(e[i].v,x);\n             for(int j=m;j>=1;j--)\n                for(int k=1;k<=j;k++)\n                    f[x][j]=min(f[x][j],f[x][j-k]+f[e[i].v][k]-2);\n        }\n    ans=min(ans,f[x][m]);    \n}\nint main(){\n    memset(f,1,sizeof(f));\n    scanf(\"%d%d\",&n,&m);\n    for(int i=1;i<n;i++){\n        int u,v;\n        scanf(\"%d%d\",&u,&v);\n        Add(u,v);Add(v,u);\n        d[u]++,d[v]++;\n    }\n    dfs(1,0);\n    printf(\"%d\\n\",ans);\n    return 0;\n}\n\n```",
        "postTime": 1503043642,
        "uid": 9238,
        "name": "\u5f25\u751f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "[Link](https://www.luogu.org/problem/P1272)\n\n\u4e00\u9053\u6811\u5f62DP\n\n\u9996\u5148\u60f3\u53ef\u4e0d\u53ef\u679a\u4e3e\u5220\u7684\u8fb9\u6570\u548c\u5220\u90a3\u6761\u8fb9\uff0c\u53d1\u73b0\u5b8c\u5168\u4e0d\u53ef\u884c\u3002\n\n\u8003\u8651\u5c06\u72b6\u6001\u8bbe\u4e3a\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u70b9\uff0c\u6211\u4eec\u5728\u5b83\u7684\u5b50\u6811\u4e2d\u5220\u9664 $p-j$ \u4e2a\u70b9\uff08\u5373\u4fdd\u7559 $j$ \u4e2a\u70b9\uff09\u8981\u5220\u6389\u7684\u6700\u5c11\u8fb9\n\n\u53ef\u4ee5\u5148\u60f3\u8fb9\u754c\uff0c\u5982\u679c\u4e00\u4e2a\u70b9\u90fd\u4e0d\u5220\uff0c\u5219 $f[i][0] = 0$\n\n\u5982\u679c\u53ea\u4fdd\u7559\u4e00\u4e2a\u70b9\uff0c\u90a3\u4e48\u4fdd\u7559\u7684\u70b9\u5c31\u662f\u5b83\u81ea\u5df1\uff0c\u6240\u4ee5\u8981\u5220\u6389\u5b83\u7684\u6240\u6709\u513f\u5b50\u8282\u70b9\u7684\u8fde\u8fb9\uff0c\u5219 $f[i][1] = son[i]$\n\n\u73b0\u5728\u60f3\u8f6c\u79fb\uff0c\u5982\u679c\u8981\u5728\u70b9 $i$ \u4e0a\u4fdd\u7559 $j$ \u4e2a\u70b9\uff0c\u7b54\u6848\u4f1a\u4ece\u5b83\u7684\u4e00\u68f5\u5b50\u6811\u5220\u6389 $j-k$ \u4e2a\u70b9\u4e2d\u8f6c\u79fb\u800c\u6765\u3002\u6211\u4eec\u8bbe\u4e00\u6761\u8fb9\u4ece$u->v$ \uff0c\u5219 $f[u][j] = f[u][j] = min(f[u][j], f[u][k] + f[v][j - k] - 2);$\n\n\u5176\u4e2d\u8f6c\u79fb\u65b9\u7a0b\u4e2d\u7684$-2$\u662f\u5f15\u8d77\u9898\u89e3\u7248\u5927\u8086\u8ba8\u8bba\u7684\u5730\u65b9\u3002\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3\uff0c\u56e0\u4e3a $v$ \u662f $u$ \u7684\u513f\u5b50\uff0c\u800c $v$ \u7684\u7b54\u6848\u53c8\u662f\u4ece $v$ \u67d0\u4e2a\u513f\u5b50\u4e2d\u8f6c\u79fb\u8fc7\u6765\u7684\uff0c\u4e24\u6b21\u8f6c\u79fb\u7684\u524d\u63d0\u6761\u4ef6\u90fd\u662f\u6709\u76f8\u8fde\u7684\u8fb9\uff0c\u518d\u770b\u6211\u4eec\u7684\u8f6c\u79fb\u65b9\u7a0b\uff0c\u8fd9\u4e24\u6761\u8fb9\u5df2\u7ecf\u5728\u8f6c\u79fb\u4e2d\u7edf\u8ba1\uff0c\u6240\u4ee5\u9700\u8981\u51cf\u6389\u3002\n\n\n\n### Code\n\n```cpp\n#include <bits/stdc++.h>\n#define TEST std::cout << \"pass\" << endl;\nusing namespace std;\n\nconst int SIZE = 150 + 5;\n\nint n, p, num;\nint head[SIZE], f[SIZE][SIZE], son[SIZE];\n\nstruct node {\n    int to, Next;\n} edge[SIZE << 1];\n\ninline int read()\n{\n    char ch = getchar();\n    int f = 1, x = 0;\n    while (ch < '0' || ch > '9') { if (ch == '-') f = -1; ch = getchar(); }\n    while (ch >= '0' && ch <= '9') { x = (x << 1) + (x << 3) + ch - '0'; ch = getchar(); }\n    return x * f;\n}\n\ninline void Addedge(int x, int y)\n{\n    edge[++num].to = y;\n    edge[num].Next = head[x];\n    head[x] = num;\n}\n\ninline void DP(int u, int fa)\n{\n    for (int i = head[u]; i; i = edge[i].Next) {\n        int v = edge[i].to;\n        if (v == fa) continue;\n        DP(v, u);\n        for (int j = p; j >= 1; j--) \n            for (int k = 1; k < j; k++) {\n                f[u][j] = std::min(f[u][j], f[u][k] + f[v][j - k] - 2);\n            }\n    }\n}\n\nint main()\n{\n    int u, v;\n    n = read(), p = read();\n    for (int i = 1; i < n; i++) {\n        u = read(), v = read();\n        Addedge(u, v);\n        Addedge(v, u);\n        son[u]++, son[v]++;\n    }\n    memset(f, 0x3f, sizeof(f));\n    for (int i = 1; i <= n; i++) f[i][0] = 0, f[i][1] = son[i];\n    DP(1, 0);\n    int ans = 2e9;\n    for (int i = 1; i <= n; i++) ans = std::min(ans, f[i][p]);\n    printf(\"%d\", ans);\n    return 0;\n}\n```\n\n\n",
        "postTime": 1571752002,
        "uid": 46708,
        "name": "andysk",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "# \u91cd\u5efa\u9053\u8def \u6811\u5f62DP\n\n[$\\text{My Blog}$](https://www.cnblogs.com/santiego/p/11510964.html)\n\n\n> \u7ed9\u4e00\u68f5\u6811\uff0c\u95ee\u6700\u5c11\u65ad\u591a\u5c11\u8fb9\u4f7f\u5f97\u8fd9\u68f5\u6811\u6811\u6700\u7ec8\u53ea\u6709$p\u200b$\u4e2a\u8282\u70b9\n\n\n\u8bbe\u8ba1dp\u72b6\u6001$f[u][i][j]$\u8868\u793a\u8282\u70b9$u$\uff0c\u5230\u7b2c$i$\u4e2a\u513f\u5b50\uff0c\u4f7f$j$\u4e2a\u8282\u70b9\u5206\u79bb\uff0c\u4f46\u662f**\u4e0d\u5206\u79bb$u\u200b$**\u6700\u5c11\u9700\u8981\u65ad\u7684\u8fb9\u6570\u3002\u7c7b\u6bd4\u80cc\u5305\uff0c\u5bb9\u6613\u5f97\u5230\u8f6c\u79fb\u65b9\u7a0b\uff1a\n$$\nf[u][i][j]=min{f[u][i-1][j-k]+f[v][n][k]}\n$$\n\u518d\u4f18\u5316\u4e00\u7ef4$i$\uff0c\u72b6\u6001\u53d8\u4e3a$f[u][j]$\uff0c\u6b64\u65f6\u5fc5\u987b\u5012\u5e8f\u904d\u5386$j$\u3002\n\n\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6700\u540e\u7b54\u6848\u5e76\u4e0d\u662f$f[1][sz[1]-p]$\uff0c\u56e0\u4e3a\u6700\u540e\u53ef\u80fd\u628a\u8282\u70b91\u4e5f\u5220\u4e86\uff0c\u6240\u4ee5\u5fc5\u987b\u5728\u6bcf\u4e2a\u6ee1\u8db3\u5b50\u6811\u8282\u70b9\u6570$\\ge p$\u7684\u8282\u70b9\u5904\u7edf\u8ba1\u4e00\u4e0b\u7b54\u6848\u3002\n$$\nans=min(f[u][sz[u]-p]+f[u][sz[u]], ans)\n$$\n\u5176\u4e2d\u6ce8\u610f$f[1][sz[1]]=0\u200b$\uff0c\u56e0\u4e3a\u4e0d\u9700\u8981\u5c06\u6811\u6839\u4e0e\u5176\u7236\u4eb2\u5206\u79bb\uff08\u5b83\u6ca1\u7236\u4eb2\uff09\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#define MAXN 155\n#define MIN(A,B) ((A)<(B)?(A):(B))\nusing namespace std;\nint n,p,ans;\nint head[MAXN],nxt[MAXN*2],vv[MAXN*2],tot;\ninline void add_edge(int u, int v){\n    vv[++tot]=v;\n    nxt[tot]=head[u];\n    head[u]=tot;\n}\nint f[MAXN][MAXN],sz[MAXN];\nvoid load(int u, int fa){\n    sz[u]=1;\n    f[u][0]=0;\n    for(int i=head[u];i;i=nxt[i]){\n        int v=vv[i];\n        if(v==fa) continue;\n        load(v, u);\n        sz[u]+=sz[v];\n    }\n    f[u][sz[u]]=1;\n}\nvoid dfs(int u, int fa){\n    for(int i=head[u];i;i=nxt[i]){\n        int v=vv[i];\n        if(v==fa) continue;\n        dfs(v, u);\n        for(int j=sz[u];j>=0;--j)\n            for(int k=0;k<=MIN(sz[v], j);++k){\n                f[u][j]=MIN(f[v][k]+f[u][j-k], f[u][j]);\n            }\n    }\n    if(sz[u]>=p) ans=MIN(f[u][sz[u]-p]+f[u][sz[u]], ans);\n}\nint main(){\n    scanf(\"%d %d\", &n, &p);\n    for(int i=2;i<=n;++i){\n        int u,v;\n        scanf(\"%d %d\", &u, &v);\n        add_edge(u, v);\n        add_edge(v, u);\n    }\n    memset(f, 0x3f, sizeof(f));\n    ans=0x3f3f3f3f;\n    load(1, 0);\n    f[1][sz[1]]=0;\n    dfs(1, 0);\n    printf(\"%d\", ans);\n    return 0;\n}\n/*\nf[u][i][j]=min{f[u][i-1][j-k]+f[v][n][k]}\n*/\n\n```\n\n",
        "postTime": 1568259143,
        "uid": 63896,
        "name": "Santiego",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u6811\u5f62DP\n\n\u4e0d\u591a\u8bf4\u76f4\u63a5\u4e0a\u8f6c\u79fb\u65b9\u7a0b\n\nf[i][j]\u8868\u793a\u6839\u8282\u70b9\u4e3ai\u65f6\u5f97\u5230\u81f3\u5c11\u4e00\u4e2a\u5b50\u6811\u4e3aj\u4e2a\u8282\u70b9\u7684\u6700\u5c0f\u5272\u8fb9\u7684\u6570\u91cf\n\n\u90a3\u4e48 ***f[i][j]=min{f[p][k]+f[i][j-k]}***\n\np\u662fi\u7684\u6240\u6709\u5b50\u8282\u70b9\n\n\u9700\u8981\u6ce8\u610f\u7684\u662fj\u7684\u5faa\u73af\u8981\u5012\u7740\u6765 \u56e0\u4e3a\u5b83\u8981\u4fdd\u8bc1\u5b50\u95ee\u9898\u5df2\u7ecf\u88ab\u6c42\u89e3\n\nf[i][1]\u7684\u521d\u503c\u9644\u4e3ai\u7684\u8fde\u8fb9\u6570\u91cf233\n\n\u8bdd\u4e0d\u591a\u8bf4\u4e0a\u4ee3\u7801233 \u4ee3\u7801\u5199\u7684\u4e11QAQ \n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint f[2005][2005],tot[2005],cnt,next[10000],last[10000],Arrive[10000],p,n;\nvoid jt(int x,int y) {\n\tcnt++;\n\tnext[cnt]=last[x];\n\tlast[x]=cnt;\n\tArrive[cnt]=y;\n}\nvoid dfs(int rt,int fa) {\n\tf[rt][1]=tot[rt];\n\tfor (int i=last[rt]; i; i=next[i]) {\n\t\tif (Arrive[i]!=fa) {\n\t\t\tdfs(Arrive[i],rt);\n\t\t\tfor (int j=p; j>1; j--)\n\t\t\t\tfor (int k=1; k<j; k++)\n\t\t\t\t\tf[rt][j]=min(f[Arrive[i]][k]+f[rt][j-k]-2,f[rt][j]);\n\t\t}\n\t}\n}\nint main() {\n\tscanf(\"%d%d\",&n,&p);\n\tmemset(f,63,sizeof(f));\n\tfor (int i=1; i<=n-1; i++) {\n\t\tint x,y;\n\t\tscanf(\"%d%d\",&x,&y);\n\t\ttot[x]++;\n\t\ttot[y]++;\n\t\tjt(x,y);\n\t\tjt(y,x);\n\t}\n\tdfs(1,0);\n\tint Ans=1e9;\n\tfor (int i=1; i<=n; i++) {\n\t\tAns=min(Ans,f[i][p]);\n\t}\n\tcout<<Ans;\n\treturn 0;\n}\n```",
        "postTime": 1535185834,
        "uid": 23899,
        "name": "\u4e03\u6761\u73b2\u5948",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u597d\u6c14\u554a\u60f3\u5230\u4e86\u72b6\u6001\u60f3\u5230\u4e86\u8f6c\u79fb\u521d\u59cb\u5316\u9519\u4e86\u3002\n\n\u7531\u6b64\u53ef\u89c1\uff0c \u521d\u59cb\u5316\u662f dp \u4e2d\u8d85\u7ea7\u91cd\u8981\u7684\u90e8\u5206\u3002\n\n\u5bf9\u8fd9\u9898\uff0c \u6211\u4eec\u8bb0 f[i][j] \u8868\u793a \u5728 \u8282\u70b9 i \u7684 \u5b50\u6811\u4e2d\u4fdd\u7559 j \u4e2a \u8282\u70b9\u7684\u6700\u5c0f\u9053\u8def\n\n\u7136\u540e\u5c31\u662f\u6811\u5f62\u80cc\u5305\n\n\u8bb0 b \u4e3a i \u7684 \u513f\u5b50\u8282\u70b9\n\n#\u65b9\u7a0b\uff1a f[i][j] = min(f[i][j], f[b][k] + f[i][j-k] - 1)\n\n\n\u8fd9\u91cc -1 \u662f\u56e0\u4e3a i -> b \u8fde\u7740\u4e00\u6761\u8fb9\uff0c \u800c\u6211\u4eec\u8fd9\u91cc b \u548c i \u662f \u5c5e\u4e8e\u540c\u4e00\u5757\u7684\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\nstruct node{\n    int a, b, c, n;\n}d[155];\nint n, p, h[155], cnt, siz[155], f[155][155], du[155], ans;\nvoid cr(int a, int b){\n    d[++cnt].a = a; d[cnt].b = b; d[cnt].n = h[a]; h[a] = cnt;\n}\nvoid dfs(int a){\n    siz[a] = 1;\n    int i, b, j, k;\n    if(!h[a]) f[a][1] = 0;\n    for(i = h[a]; i; i = d[i].n){\n        b = d[i].b;\n        dfs(b);\n        siz[a] += siz[b];\n        for(j = siz[a]; j >= 1; j--){\n            for(k = j-1; k >= 1; k--)\n                f[a][j] = min(f[a][j], f[b][k] + f[a][j-k] - 1); \n        }\n    }\n}\nint main(){\n    int i, j, a, b, c;\n    memset(f, 1, sizeof(f));\n    scanf(\"%d%d\", &n, &p);\n    for(i = 1; i < n; i++){\n        scanf(\"%d%d\", &a, &b);\n        cr(a, b);\n        du[a]++;\n    }\n    for(i = 1; i <= n; i++) f[i][1] = du[i];\n    dfs(d[1].a);\n    ans = f[d[1].a][p];\n    for(i = 2; i <= n; i++) ans = min(ans, f[i][p]+1);\n    printf(\"%d\", ans);\n    return 0;\n}\n\n```",
        "postTime": 1510283606,
        "uid": 31619,
        "name": "Hzxleo4",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "\u628a\u4e00\u9897\u6811\u4ee51``(\u5047\u88c5)``\u4e3a\u6839\u8282\u70b9,\u8ba1\u7b97\u51fa\u4ed6\u6709\u591a\u5c11\u4e2a\u513f\u5b50,\u628a\u4ed6\u52a0\u4e00\u5c31\u662f\u6709\u591a\u5c11\u8fde\u51fa\u53bb\u7684\u8fb9\u3002\n\n``\u91cd\u8f7ddfs\u7684w\u5e76\u6ca1\u6709\u4ec0\u4e48\u7528.....``\n\n\u7ef4\u62a4\u4e00\u4e2a\u8fde\u901a\u5757(dp[i][1]\u5c31\u662f\u628ai\u8fd9\u4e2a\u8282\u70b9\u5220\u5230\u53ea\u5269\u5b83\u81ea\u5df1\u9700\u8981\u64cd\u4f5c\u591a\u5c11\u6b21),\u7136\u540e\u5927\u529b\u6269\u5c55\u8fde\u901a\u5757,\u901a\u8fc7father\u8282\u70b9\u52a0\u70b9,\u4f7f\u5176\u4fdd\u6301p\u4e2a\u70b9\u5728\u5757\u91cc\u3002\n\n\u7136\u540e\u679a\u4e3e\u4e00\u904d\u5728\u4ee5\u6ca1\u4e2ai\u6240\u6269\u5c55\u7684\u5927\u5c0f\u4e3ap\u7684\u8fde\u901a\u5757\u6240\u9700\u8981\u7684\u64cd\u4f5c\u6b21\u6570\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstdlib>\n#include<algorithm>\n#include<queue>\n#include<cstring>\nusing namespace std;\nconst int maxn=200;\nconst int INT=2333333;\nint read(){\n    int an=0,f=1;\n    char ch=getchar();\n    while(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n    while('0'<=ch&&ch<='9'){an=an*10+ch-'0';ch=getchar();}\n    return an*f;\n}\nint f[maxn],cnt,fa[maxn],ans=2333;\nbool vis[maxn];\nstruct saber{\nint to,nex;\n}b[maxn<<1];\nvoid add(int x,int y){\n    cnt++;\n    b[cnt].nex=f[x];\n    b[cnt].to=y;\n    f[x]=cnt;\n}\nint son[maxn],dp[maxn][maxn],m,n,p;\nvoid dfs(int x){\n    vis[x]=1;son[x]=1;\n    for(int i=f[x];i;i=b[i].nex){\n        int v=b[i].to;\n        if(!vis[v]){\n            dfs(v);\n            fa[v]=x;\n            son[x]++;\n        }\n    }\n}\nvoid dfs(int x,int w){\n    dp[x][1]=son[x];\n    for(int i=f[x];i;i=b[i].nex){\n        int v=b[i].to;\n         if(v!=fa[x]){\n         dfs(v,w);\n        for(int j=p;j>=1;j--)\n            for(int k=1;k<=j;k++)\n            dp[x][j]=min(dp[x][j],dp[x][j-k]+dp[v][k]-2);\n        }\n    }\n    ans=min(ans,dp[x][p]);\n}\nint main(){\n    n=read();p=read();\n    for(int i=0;i<=maxn-9;i++)\n    for(int j=0;j<=maxn-9;j++)dp[i][j]=INT;\n    for(int i=1;i<n;i++){\n        int x,y;\n        x=read();y=read();\n        add(x,y);\n        add(y,x);\n    }\n    dfs(1);son[1]--;\n    dfs(1,INT);\n    cout<<ans;\n    return 0;\n} \n```",
        "postTime": 1505653724,
        "uid": 24570,
        "name": "s_a_b_e_r",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "```cpp\n//h\u662f\u5934\u6307\u9488\uff0ce\u662f\u8fb9\uff0c\u7528\u4e8e\u5b58\u50a8\u6811\nconst maxi=1 shl 30;\ntype\n bi=record\n```\nnext,go:longint\n```cpp\nend;\nvar\n e:array[0..150] of bi;\n h,s,son:array[1..150] of longint;//s[i]\u662f\u4ee5i\u4e3a\u6839\u7684\u5b50\u6811\u8282\u70b9\u4e2a\u6570\uff0cson[i]\u662fi\u7684\u76f4\u7cfb\u513f\u5b50\u4e2a\u6570\n f:array[1..150,0..150,0..150] of longint;//f[i,j,k]\u8868\u793a\u7b2ci\u4e2a\u8282\u70b9\u53d6\u51fa\u8282\u70b9\u4e3aj\u7684\u5b50\u6811\u81f3\u5c11\u8981\u5220\u591a//\u5c11\u8fb9(\u5728\u524dk\u4e2a\u513f\u5b50\u4e2d)\uff0c\u72b6\u6001\u6bd4\u8f83\u7279\u522b\uff0c\u5f80\u4e0b\u770b\u5c31\u77e5\u9053\u4e86\n b:array[1..150] of boolean;\n i,x,y,n,m,ans,j:longint;\nprocedure adde(x,y:longint);\nbegin\n e[i].go:=y;\n e[i].next:=h[x];\n h[x]:=i\nend;\nprocedure dp(x:longint);\nvar\n p,i,j,k:longint;\nbegin\n p:=h[x];\n if p=0 then//\u6ca1\u6709\u513f\u5b50\u76f4\u63a5\u9000\u51fa\n begin\n  f[x,1,0]:=0;\n```\nexit\n\n```cpp\n end;\n while p>0 do\n begin\n  dp(e[p].go);\n  inc(son[x]);\n  inc(s[x],s[e[p].go]);\n  p:=e[p].next\n end;\n p:=h[x];\n f[x,1,0]:=0;\n k:=0;\n while p>0 do\n begin\n  inc(k);\n  for i:=1 to s[x] do if f[x,i,k-1]>=0 then f[x,i,k]:=f[x,i,k-1]+1;//\u52a0\u5165\u7b2ck\u4e2a\u513f\u5b50\u540e\u5f53\u524d\u6240\u6709\u7b54\u6848\u90fd//\u8981\u5148\u5220\u6389x\u4e0e\u7b2ck\u4e2a\u513f\u5b50\u4e4b\u95f4\u7684\u8fb9\n  for i:=1 to s[e[p].go] do//\u7ecf\u5178\u80cc\u5305\u95ee\u9898\n   if f[e[p].go,i,son[e[p].go]]>=0 then\n    for j:=s[x] downto i+1 do\n      if f[x,j-i,k-1]>=0 then if (f[x,j-i,k-1]+f[e[p].go,i,son[e[p].go]]<f[x,j,k])or(f[x,j,k]=-1) then\n       f[x,j,k]:=f[x,j-i,k-1]+f[e[p].go,i,son[e[p].go]];//k\u4e0ek-1\u8981\u5206\u522b\u5904\u7406\uff0c\u5426\u5219\u4f1a\u6df7\u5728\u4e00\u8d77\uff0c//\u6bd4\u8f83\u96be\u53d9\u8ff0\u4e3a\u4ec0\u4e48\uff0c\u4e0d\u670d\u7684\u8bdd\u53ef\u4ee5\u5220\u6389\u8fd9\u4e00\u7ef4\u8ddf\u8e2a\u4e00\u4e0b\n  p:=e[p].next\n end\nend;\nbegin\n readln(n,m);\n for i:=1 to n-1 do\n begin\n  readln(x,y);\n  b[y]:=true;\n  adde(x,y)\n end;\n for i:=1 to 150 do\n  for j:=0 to 150 do\n   for x:=0 to 150 do f[i,j,x]:=-1;//-1\u8868\u793a\u5220\u591a\u5c11\u6761\u8fb9\u90fd\u5f97\u4e0d\u5230\n filldword(s,sizeof(s) shr 2,1);\n for i:=1 to n do if not b[i] then dp(i);\n ans:=maxi;\n for i:=1 to n do\n  if f[i,m,son[i]]>=0 then\n  begin\n   if i=1 then if f[i,m,son[i]]<ans then ans:=f[i,m,son[i]];\n   if i>1 then if f[i,m,son[i]]+1<ans then ans:=f[i,m,son[i]]+1//\u5982\u679c\u4e0d\u662f\u6839(\u540e\u6765\u53d1\u73b0\u6839\u6052\u4e3a1\uff0c\u6211//\u8bfb\u9898\u4e0d\u4ed4\u7ec6\u5417\uff1f),\u8fd8\u8981\u591a\u5220\u4e0e\u7236\u4eb2\u8282\u70b9\u6240\u8fde\u7684\u8fb9\n  end;\n writeln(ans)\nend.\n\n```",
        "postTime": 1472997730,
        "uid": 19567,
        "name": "zx2003",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    },
    {
        "content": "#\u4f7f\u7528\u5230\u7684\u601d\u8def \u6811\u4e0adp \u80cc\u5305 (\u4f60\u53eb\u4ed6\u6811\u5f62\u80cc\u5305\u4e5f\u6ca1\u95ee\u9898)\n\n\u770b\u4e86\u770b\u5927\u5bb6\u7684\u5199\u6cd5\u597d\u50cf\u8ddf\u6211\u7684\u90fd\u4e0d\u4e00\u6837\u554a\uff0c\u770b\u6765\u662f\u6211\u8111\u56de\u8def\u6709\u70b9\u95ee\u9898\u554a\uff08\u7b11\uff09\uff0c\u6211\u6ca1\u6709\u628a\u65e0\u6839\u6811\u8f6c\u4e3a\u6709\u6839\u6811\uff0c\u800c\u5b9e\u9645\u4e0a\u8fd9\u9053\u9898\u786e\u5b9e\u662f\u6709\u6839\u6811\uff0cn-1\u6761\u8fb9\uff0c\u8fden\u4e2a\u70b9\uff0c\u4e00\u5b9a\u6709\u6811\u6839\uff0c\u6240\u4ee5\u5b9e\u9645\u4e0a\u8fd9\u9053\u9898\u662f\u53ef\u4ee5\u76f4\u63a5\u7528\u5165\u5ea6\u6765\u627e\u6839\u7684\uff0c\u7531\u4e8e\u53ea\u6709\u4e00\u4e2a\u7236\u4eb2\uff0c\u76f4\u63a5\u8bb0\u4e0b\u5c31\u53ef\u4ee5\u4e86\u3002\n\n#\u6211\u7684\u72b6\u6001  f[i][j]\u8868\u793a\u5728i\u8282\u70b9\u8fd9\u4e2a\u4f4d\u7f6e\uff0c\u8981\u53bb\u6389j\u4e2a\u70b9\uff0c\u6240\u8981\u51cf\u53bb\u7684\u6811\u679d\u3002\n\n\u7136\u540e\u7528\u4e2acnt\u5b58\u4e00\u4e0b\u4ee5\u8fd9\u4e2a\u8282\u70b9\u4e3a\u6839\uff0c\u5b50\u4e66\u4e2d\u4e00\u5171\u6709\u591a\u5c11\u4e2a\u70b9\n\n\u4e3a\u4ec0\u4e48\u4f1a\u662f\u8fd9\u4e2a\u72b6\u6001\u5462\uff0c\u56e0\u4e3a\u6bd4\u8d77\u53bb\u5b58\u4fdd\u7559\u51e0\u4e2a\uff0c\u663e\u7136\u662f\u51cf\u53bb\u51e0\u4e2a\u66f4\u597d\u8f6c\u79fb\uff0c\u56e0\u4e3a\u526a\u6389\u6811\u679d\u5b9e\u8d28\u4e0a\u5c31\u662f\u628a\u90a3\u6839\u6811\u679d\u76f8\u8fde\u7684\u5168\u90e8\u53bb\u6389\u554a\u3002\uff08\u4e3b\u8981\u662f\u6211\u6ca1\u60f3\u51fa\u6765\u5b58\u51e0\u4e2a\u7684\u72b6\u6001\u8f6c\u79fb\u600e\u4e48\u5199\uff09\n\n\u6240\u4ee5\u72b6\u6001\u8f6c\u79fb\u5c31\u5f88\u597d\u60f3\u4e86\u554a**f[i][j] = min{f[i][j-k] + f[son[i]][k],f[i][j]}**\n\n\u7136\u540e\u521d\u59cb\u5316f[i][0] = 0;f[i][cnt[i]] = 1;\n\n\u7136\u540e\u3002\u3002\u5c31\u662f\u4e00\u4e2a\u88f8\u7684\u6811\u4e0a\u80cc\u5305\u554a\uff0c\u57fa\u672c\u4e0a\u505a\u8fd9\u9053\u9898\u7684\u5927\u5bb6\u90fd\u4f1a\u5c31\u4e0d\u8d58\u8ff0\u4e86\uff0c\u5982\u679c\u6709\u4e0d\u4f1a\u7684\uff0c\u53ef\u4ee5\u770b\u4e0b\u6211\u5728\u6ca1\u6709\u4e0a\u53f8\u7684\u821e\u4f1a\u90a3\u9053\u9898\u90a3\u5199\u7684\u9898\u89e3\uff0c\u5b9e\u9645\u4e0a\u8fd9\u9053\u9898\u5982\u679c\u6839\u636e\u62d3\u6251\u6392\u5e8f\u6765\u505a\u53ef\u80fd\u4f1a\u66f4\u597d\u5199\u3002\n\n\u7136\u540e\u5bf9\u4e8e\u7b54\u6848\uff0c\u6211\u4eec\u6bcf\u4e00\u4e2a\u70b9\u90fd\u8dd1\u4e00\u4e0b\uff0c\u5982\u679ccnt[i]>=p\n\n\u5c31\u66f4\u65b0ans\n\n**ans = min(ans,f[i][cnt[i]-p] if(i is not root) ans+1);**(\u4f60\u53bb\u6389\u4e86\u591a\u4f59\u7684\u70b9\u5269\u4e0b\u6765\u7684\u4e0d\u5c31\u662fp\u4e2a\u4e86\u4e48= =)\n\n\u4ee5\u4e0b\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>//\u96fe\u96e8\u9b54\u7406\u6c99 \nusing namespace std;//zcxssb \nint n,p,f[155][155],cnt[155];\nint head[155],root;\nint ne[305],to[305],t,fa[155];\nvoid add(int u,int v)\n{\n    to[++t] = v;\n    ne[t] = head[u];\n    head[u] = t;\n}\nvoid dp(int rt)\n{\n    f[rt][0] = 0;\n    for(int i = head[rt]; i ; i = ne[i])\n    {\n        if(to[i] != fa[rt])\n        {\n            dp(to[i]);\n            cnt[rt] += cnt[to[i]];\n            for(int j = cnt[rt] - 1; j>= 1; j--)\n            {\n                for(int k = 1; k <= cnt[to[i]]; k++)\n                {\n                    if(j<k)break;\n                    f[rt][j] = min(f[rt][j-k] + f[to[i]][k] , f[rt][j]);\n                }\n            }\n        }\n    }\n    f[rt][cnt[rt]] = 1;\n}\nint main()\n{\n//    freopen(\"road.in\",\"r\",stdin);\n//    freopen(\"road.out\",\"w\",stdout);\n    memset(f,0x3f,sizeof(f));\n    scanf(\"%d %d\",&n,&p);\n    for(int i = 1; i < n; i++)\n    {\n        cnt[i] = 1;\n        int u,v;\n        scanf(\"%d %d\",&u,&v);\n        add(u,v);\n        fa[v] = u;\n    }\n    cnt[n] = 1;\n    for(int i = 1;i <= n; i++)\n    if(fa[i] == 0)\n    {\n        root = i;\n        break;\n    }\n    dp(root);\n    int ans = 0x3f3f3f;\n    for(int i = 1; i <= n; i++)\n    {\n        if(i != root)\n        if(cnt[i] >= p)\n        ans = min(ans,f[i][cnt[i]-p]+1);\n        else\n        ans = min(ans,f[i][n-p]);\n    }\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1514015739,
        "uid": 52576,
        "name": "moye\u5230\u7897\u91cc\u6765",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1272 \u3010\u91cd\u5efa\u9053\u8def\u3011"
    }
]