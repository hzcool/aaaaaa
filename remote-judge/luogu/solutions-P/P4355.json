[
    {
        "content": "### \u6b64\u9898\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\uff08\u4e5f\u662f\u6211\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\uff09\n\n[\u9898\u94fe](https://www.luogu.com.cn/problem/P4355)\n\n## \u5206\u6790\n\n\u6ca1\u4eba\u653b\u51fb\u7684\u9a91\u58eb\u4e00\u5b9a\u5728 $\\rm kernel$ \u91cc\uff0c\u628a\u6ca1\u4eba\u653b\u51fb\u7684\u52a0\u5165\u961f\u5217\uff0c\u7136\u540e\u88ab\u4ed6\u653b\u51fb\u7684\u9a91\u58eb\u4e00\u5b9a\u5728 $\\rm kernel$ \u5916\u3002\n\n$\\rm kernel$ \u5916\u7684\u9a91\u58eb\u7684\u653b\u51fb\u65e0\u6548\uff0c\u56e0\u4e3a\u5982\u679c\u4e00\u4e2a\u9a91\u58eb\u5982\u679c\u53ea\u88ab\u5916\u9762\u7684\u9a91\u58eb\u653b\u51fb\uff0c\u4ed6\u5c31\u662f $\\rm kernel$ \u91cc\u7684\u3002\n\n\u4e8e\u662f \u88ab \u5916\u9762\u7684\u9a91\u58eb\u653b\u51fb \u7684\u9a91\u58eb \u7684\u88ab\u653b\u51fb\u6b21\u6570 `-1`\uff0c\u5982\u679c\u88ab\u653b\u51fb\u6b21\u6570\u4e3a $0$ \u4e86\u5c31\u52a0\u5165\u961f\u5217\u3002\n\n\u67d0\u4e2a\u5bfc\u81f4\u6211 `WA` \u7684\u5730\u65b9\uff1a\u88ab\u653b\u51fb\u6b21\u6570 `-1` \u8fd9\u4e2a\u64cd\u4f5c\u4e0d\u80fd\u91cd\u590d\uff0c\u6240\u4ee5\u8981\u5224\u65ad\u5f53\u524d\u8fd9\u4e2a\u201c\u5916\u9762\u7684\u9a91\u58eb\u201d\u662f\u4e0d\u662f\u5df2\u7ecf\u5904\u7406\u8fc7\u3002\n\n\n## code:\n\n```cpp\n#include<queue>\n#include<cstring>\nusing namespace std;\nconst int maxn=2e5+100;\nint n,a[maxn],d[maxn],k[maxn];\nqueue<int> q;\n\nint main()\n{\n    while(~scanf(\"%d\",&n))\n    {\n        while(!q.empty()) q.pop();\n        memset(d,0,sizeof(d));\n        memset(k,0,sizeof(k));\n        for(int i=1; i<=2*n; i++)\n        {\n            scanf(\"%d\",&a[i]);\n            d[a[i]]++;\n        }\n        for(int i=1; i<=2*n; i++)\n        {\n            if(d[i]==0)q.push(i);\n        }\n        while(!q.empty())\n        {\n            int p=q.front();\n            q.pop();\n            k[p]=1;\n            if( k[ a[p] ]==-1  )continue;//\u6ca1\u6709\u5b83\u800c\u8ba9\u6211WA\u7684\u5730\u65b9\n            k[a[p]]=-1;\n            d[a[a[p]]]--;\n            if(d[a[a[p]]]==0)q.push(a[a[p]]);\n        }\n        for(int i=1; i<=2*n; i++)\n        {\n            if(i<=n&&k[i]>=0)printf(\"%d \",i);\n            else if(k[i]==1)printf(\"%d \",i);\n        }\n        printf(\"\\n\");\n    }\n    return 0;\n}\n```\n\nqwq\uff0c\u4e00\u5b9a\u8981\u8fc7\u554a",
        "postTime": 1634106557,
        "uid": 559502,
        "name": "TsH_GD",
        "ccfLevel": 4,
        "title": "P4355 [CERC2015]Kernel Knights"
    },
    {
        "content": "#### \u9898\u76ee\n\n[\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/P4355)\n\n#### \u5927\u4f53\u601d\u8def\n\n1. \u6ca1\u6709\u88ab\u653b\u51fb\u7684\u9a91\u58eb\u4e00\u5b9a\u5728\u8fd9\u4e2a\u96c6\u5408\u5f53\u4e2d\u3002\n\n2. \u5728\u505a\u5b8c\u6b65\u9aa4 $1$ \u4e4b\u540e\uff0c\u96c6\u5408\u5916\u7684\u9a91\u58eb\u5982\u679c\u6ca1\u6709\u88ab\u96c6\u5408\u5185\u7684\u5176\u5b9e\u653b\u51fb\uff0c\u5c31\u5c06\u5176\u52a0\u5165\u96c6\u5408\u3002\n\n3. \u7531\u4e8e\u6b65\u9aa4 $2$ \u8fd8\u8981\u5c06\u5176\u52a0\u5165\u96c6\u5408\uff0c\u6240\u4ee5\u7528\u4e0a\u4e00\u4e2a\u961f\u5217\u7ef4\u62a4\u6bd4\u8f83\u65b9\u4fbf\u3002\n\n\u524d\u8fb9\u5df2\u7ecf\u6709\u4eba\u7528 ```queue``` \u5199\u8fc7\u4e86\uff0c\u6240\u4ee5\u8fd9\u6b21\u7528\u6570\u7ec4\u6a21\u62df\u4e00\u4e0b\u5427\u3002\n\n#### \u5b8c\u6574\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define ok 12345\n#define no -1\nusing namespace std;\ninline int read() {\n\tint x = 0, f = 1; char ch = getchar();\n\twhile (ch > '9' || ch < '0') { if (ch == '-')f = -1; ch = getchar(); }\n\twhile (ch >= '0' && ch <= '9') { x = x * 10 + ch - '0'; ch = getchar(); }\n\treturn x * f;\n}\nint a[200005], tong[200005];\nint q[200005], ans[200005];\n//tong:\u8bb0\u5f55\u653b\u51fb\u6b21\u6570\uff0cans:\u8bb0\u5f55\u7b54\u6848\uff0cq:\u961f\u5217 \nsigned main() {\n\tregister int n, i, N;\n\tregister int l = 1, r = 0, f;\n\tn = read();\n\tN = 2 * n;//\u4f18\u5316\u5e38\u6570 \n\tfor (i = 1; i <= N; i++)\n\t\ta[i] = read(), tong[a[i]] += 1;\n\tfor (i = 1; i <= N; i++)\n\t\tif (tong[i] == 0)\n\t\t\tq[++r] = i;//step 1 \n\twhile (l <= r) {\n\t\tf = q[l++];\n\t\tans[f] = ok;\n\t\tif (ans[a[f]] == no)continue;//\u6ce8\u610f\u5df2\u7ecf\u88ab\u653b\u51fb\u7684\u9a91\u58eb\u4e0d\u5728\u96c6\u5408 \n\t\tans[a[f]] = no;\n\t\ttong[a[a[f]]] -= 1;\n\t\tif (tong[a[a[f]]] == 0)q[++r] = a[a[f]];\n\t}//step 2,3\n\tfor (i = 1; i <= N; i++) {\n\t\tif (i <= n && ans[i] >= 0)printf(\"%d \", i);\n\t\telse if (ans[i] == ok)printf(\"%d \", i);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1682852780,
        "uid": 815796,
        "name": "zzy0618",
        "ccfLevel": 0,
        "title": "P4355 [CERC2015]Kernel Knights \u9898\u89e3"
    }
]