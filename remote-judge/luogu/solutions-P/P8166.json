[
    {
        "content": "\u66b4\u529b\u505a\u6cd5\u662f\u5148\u679a\u4e3e $k$ \uff0c\u518d\u679a\u4e3e\u6bcf\u4e2a\u957f\u5ea6\u4e3a $k$ \u7684\u533a\u95f4\uff0c\u7136\u540e\u626b\u4e00\u904d\u7528\u80cc\u5305\u5224\u65ad\u662f\u5426\u80fd\u53d6\u51fa\u4e00\u79cd\u548c\u4e3a $\\frac{s}{2}$ \u7684\u65b9\u6848\u3002\n\n\u8003\u8651\u679a\u4e3e\u53f3\u7aef\u70b9\uff0c\u7136\u540e\u8bbe $dp_i$ \u4e3a\u6ee1\u8db3\u548c\u4e3a $i$ \u7684\u65b9\u6848\u6570\u5de6\u7aef\u70b9\u6700\u53f3\u80fd\u5728\u54ea\u91cc\u3002\n\n\u7136\u540e\u518d\u679a\u4e3e\u5de6\u7aef\u70b9\u5224\u65ad\u662f\u5426\u5408\u6cd5\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(Tn\\sum a_i)$\uff0c\u8981\u4e58\u4e0a\u4e00\u4e2a\u7ea6\u4e3a $\\frac{1}{4}$ \u7684\u5e38\u6570\uff0c\u52a0\u4e0a O2 \u540e\u5f88\u5feb\u3002\n\n```c++\n//QwQcOrZ yyds!!!\n#include<bits/stdc++.h>\n#define ll long long\n#define F(i,a,b) for (int i=(a);i<=(b);++i)\n#define R(i,a,b) for (int i=(a);i<(b);++i)\n#define D(i,a,b) for (int i=(a);i>=(b);i--)\n#define go(i,x) for (int i=head[x];i;i=e[i].nx)\n#define IOS ios::sync_with_stdio(false)\n#define mp make_pair\n#define pb push_back\n#define pa pair < int,int >\n#define fi first\n#define se second\n#define re register\n#define be begin()\n#define en end()\n#define sqr(x) ((x)*(x))\n#define ret return puts(\"-1\"),0;\n#define put putchar('\\n')\n#define inf 1000000005\n#define mod 998244353\n//#define int ll\n#define N 1005\nusing namespace std;\ninline char gc(){static char buf[1000000],*p1=buf,*p2=buf;return p1==p2&&(p2=(p1=buf)+fread(buf,1,1000000,stdin),p1==p2)?EOF:*p1++;}\n#define gc getchar\ninline ll read(){char c=gc();ll su=0,f=1;for (;c<'0'||c>'9';c=gc()) if (c=='-') f=-1;for (;c>='0'&&c<='9';c=gc()) su=su*10+c-'0';return su*f;}\ninline void write(ll x){if (x<0){putchar('-');write(-x);return;}if (x>=10) write(x/10);putchar(x%10+'0');}\ninline void writesp(ll x){write(x),putchar(' ');}\ninline void writeln(ll x){write(x);putchar('\\n');}\nint T,n,a[N],f[N*50],s[N],ans[N];\nsigned main()\n{\n\tT=read();\n\twhile (T--)\n\t{\n\t\tn=read();\n\t\tre vector<int>pr;\n\t\tfor (int i=1;i<=n;++i) a[i]=read(),s[i]=s[i-1]+a[i],ans[i]=1;\n\t\tf[0]=0;\n\t\tfor (re int i=1;i<=n;++i)\n\t\t{\n\t\t\tfor (re int j=min(s[n]/2,s[i]);j>a[i];--j)\n\t\t\t\tf[j]=max(f[j],f[j-a[i]]);\n\t\t\tf[a[i]]=i;\n\t\t\tfor(re int j=0;j<i;++j)\n\t\t\t\tif (!((s[i]-s[j])%2==0&&f[(s[i]-s[j])/2]>j)) ans[i-j]=0;\n\t\t}\n\t\tfor (re int i=1;i<=n;++i)\n\t\t\tif (ans[i]) pr.push_back(i);\n\t\tfor (re int i=1;i<=s[n]/2;i++) f[i]=-1;\n\t\twritesp(pr.size());\n\t\tfor (auto u:pr) writesp(u);\n\t\tputs(\"\");\n\t}\n\t\t\t\t\n\t\t\n}\n/*\n\n*/\n```\n\n",
        "postTime": 1649661196,
        "uid": 120911,
        "name": "Lynkcat",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P8166 [eJOI2021] Kpart"
    }
]