[
    {
        "content": "\u8fd9\u9053\u9898\u505a\u6cd5\u663e\u7136\uff0c\u662f\u6a21\u62df\u3002\n\n\u5982\u679c\u76f4\u63a5\u6a21\u62df\u7684\u8bdd\u4ee3\u7801\u4f1a\u5197\u957f\uff0c\u96be\u4ee5\u8c03\u8bd5\uff08\u8fd9\u6837\u7684\u4ee3\u7801\u53ef\u4ee5\u770b\u4e0b\u9762\u7684\u9898\u89e3\uff0c\u4e0b\u9762\u4f1a\u5bf9\u8fd9\u4e9b\u9898\u89e3\u8fdb\u884c\u4e00\u4e2a\u5bf9\u6bd4\uff09\u3002\n\n\u6211\u4eec\u9700\u8981\u4e00\u4e9b\u5bf9\u957f\u5ea6\u7684\u4f18\u5316\u3002\n\n\u5176\u5b9e\uff0c\u56db\u4e2a\u8e44\u5b50\u7684\u5750\u6807\u5e76\u4e0d\u9700\u8981\u7528 $8$ \u4e2a\u53d8\u91cf\uff0c\u7528\u4e00\u4e2a\u6570\u7ec4\u8bb0\u5f55\u5f53\u524d\u4f4d\u7f6e\uff0c\u7528 map \u5efa\u7acb\u6620\u5c04\u5173\u7cfb\u6765\u67e5\u8be2\u3002\n\n\u6211\u4eec\u5728\u641c\u7d22\u65f6\uff0c\u4f1a\u7528\u6570\u7ec4\u8bb0\u5f55\u56db\u4e2a\u65b9\u5411\u3002\u5728\u8fd9\u9053\u9898\u4e2d\uff0c\u5982\u679c Bessie \u5411\u5317\uff0c\u5979\u5411\u524d\u8d70\u662f\u5411\u5317\u7684\uff1b\u5982\u679c\u5979\u5411\u4e1c\uff0c\u5411\u524d\u8d70\u5c31\u662f\u5411\u4e1c\uff0c\u5411\u53f3\u8d70\u5c31\u662f\u5411\u5357\u3002\u53ef\u4ee5\u5f97\u51fa\u5979\u5b9e\u9645\u4e0a\u662f\u5411\u90a3\u8d70\u5728\u6a21\u62df\u3002\n\n\u672c\u9898\u7684\u96be\u70b9\u5728\u65cb\u8f6c\u4e0a\u3002\u4f30\u8ba1\u4e0d\u5c11\u4eba\u5361\u5728\u4e86\u8fd9\u91cc\u3002\n\n\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u5047\u8bbe\u652f\u70b9\u5750\u6807\u4e3a $(0,0)$\uff0c\u8bbe\u8981\u65cb\u8f6c\u7684\u70b9\u5750\u6807\u4e3a $(x,y)$\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/o3hn115i.png)\n\n~~\u6839\u636e\u5c0f\u5b66\u8bfe\u672c\u53ef\u77e5~~\uff0c\u4e0a\u56fe\u84dd\u7ebf\u957f\u5ea6\u76f8\u7b49\uff0c\u7b49\u4e8e $x$\uff1b\u7eff\u7ebf\u957f\u5ea6\u76f8\u7b49\uff0c\u7b49\u4e8e $y$\u3002\u5219\u53ef\u770b\u51fa\uff0c\u65b0\u70b9\u5750\u6807\u4e3a $(y,-x)$\u3002\u7ecf\u4e3e\u4f8b\u5f97\u77e5\u6b64\u89c4\u5f8b\u5728\u4efb\u4f55\u60c5\u51b5\u90fd\u6210\u7acb\u3002\n\n\u7136\u540e\u56e0\u4e3a\u4e00\u5f00\u59cb\u8bbe\u4e86\u652f\u70b9\u5750\u6807\u4e3a $(0,0)$\uff0c\u6240\u4ee5\u65b0\u70b9\u5750\u6807\u5e94\u8be5\u52a0\u56de\u652f\u70b9\u5750\u6807\u3002\n\n\u5219\u4ee3\u7801\u5199\u51fa\u6765\u5c31\u5f88\u5bb9\u6613\u4e86\u3002\n\n```cpp\n#include<algorithm>\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<string>\n#include<map>\nusing namespace std;\nconst int INF=0x3f3f3f3f;\nconst int N=1e5+10;\nconst int dx[]={0,1,0,-1},dy[]={1,0,-1,0};\nint n,dir,minx,maxx=1,miny,maxy=1,nx[4]={1,0,1,0},ny[4]={1,1,0,0};//\u8fd9\u91cc\u8bbe\u5de6\u540e\u811a\u4e3a\u539f\u70b9\nmap<string,int> mp;\nsigned main()\n{\n\tcin>>n;\n\tmp[\"FR\"]=mp[\"F\"]=0,mp[\"FL\"]=mp[\"R\"]=1,mp[\"RR\"]=mp[\"B\"]=2,mp[\"RL\"]=mp[\"L\"]=3;//\u7528 map \u5efa\u7acb\u6620\u5c04\u5173\u7cfb\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tstring s,t;\n\t\tcin>>s,t=s[2],s.erase(2,1);//\u628a\u5b57\u7b26\u4e32\u5206\u79bb\n\t\tif(t!=\"P\")//\u79fb\u52a8\u811a\n\t\t\tnx[mp[s]]+=dx[(mp[t]+dir)%4],ny[mp[s]]+=dy[(mp[t]+dir)%4];\n\t\telse\n\t\t{\n\t\t\tdir=(dir+1)%4;//\u65b9\u5411\u6539\u53d8\n\t\t\tint cx=nx[mp[s]],cy=ny[mp[s]];\n\t\t\tfor(int i=0;i<4;i++)\n\t\t\t{\n\t\t\t\tint disx=nx[i]-cx,disy=ny[i]-cy;\n\t\t\t\tnx[i]=cx+disy,ny[i]=cy-disx;//\u65b0\u70b9\u5750\u6807\u52a0\u56de\u652f\u70b9\u5750\u6807\n\t\t\t}\n\t\t}\n\t\tfor(int i=0;i<4;i++)\n\t\t\tminx=min(minx,nx[i]),maxx=max(maxx,nx[i]),miny=min(miny,ny[i]),maxy=max(maxy,ny[i]);//\u7edf\u8ba1\u6700\u5c0f\u503c\n\t\tfor(int i=0;i<4;i++)//\u5224\u65ad\u4f1a\u4e0d\u4f1a\u7eca\u5012\n\t\t\tfor(int j=i+1;j<4;j++)\n\t\t\t\tif(nx[i]==nx[j]&&ny[i]==ny[j])\n\t\t\t\t\tcout<<-1,exit(0);\n\t}\n\tcout<<(maxx-minx+1)*(maxy-miny+1);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1667631263,
        "uid": 743048,
        "name": "Lovely_Ran",
        "ccfLevel": 6,
        "title": "P2206"
    },
    {
        "content": "\u62a2\u4e00\u8840\uff01\uff01\uff01\uff01\n\n\u8fd9\u597d\u50cf\u662fUSACO\u91cc\u7684\u4e00\u9053\u9898\n\n\u7b97\u6cd5\uff1a\u7eaf\u6a21\u62df\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct kk{\n    int x,y;\n}a[5];\nchar F[255],G[255],s[4],T[255];\nint foot,k,j,i,xx,yy,minx,miny,maxx,maxy,b[4][2]={{-1,0},{0,1},{1,0},{0,-1}},n,t;\nint main(){\n    F['F']=0;F['R']=1;F['B']=2;F['L']=3;F['P']=4;//\u5224\u65ad\u524d\u8fdb\u65b9\u5411\n    G['F']=0;G['R']=1;T['L']=0;T['R']=1;//\u5224\u65ad\u662f\u54ea\u53ea\u811a\n    cin>>n;\n    a[1].y=a[2].x=a[3].x=a[3].y=1;\n    maxx=maxy=1;\n    for (i=1;i<=n;i++){\n        scanf(\"%s\",s);\n        foot=G[s[0]]*2+T[s[1]];\n        k=F[s[2]];\n        if (k<4) a[foot].x+=b[(k+t)%4][0],a[foot].y+=b[(k+t)%4][1];//\u5728\u6211\u7684\u65b9\u6cd5\u4e2d\uff0c\u524d\u8fdb\u65b9\u5411\u52a0\u671d\u5411\u6a214\u5c31\u662f\u53bb\u7684\u65b9\u5411\n          else{\n              t=(t+1)%4;//\u8f6c\u5411\n            for (j=0;j<4;j++) xx=a[j].y-a[foot].y+a[foot].x,yy=a[foot].x-a[j].x+a[foot].y,a[j].x=xx,a[j].y=yy;\n        }\n        for (j=0;j<4;j++)\n            for (k=j+1;k<4;k++)\n                if (a[j].x==a[k].x && a[j].y==a[k].y){\n                    cout<<-1;\n                    return 0;\n                }\n        for (j=0;j<4;j++) minx=min(minx,a[j].x),maxx=max(maxx,a[j].x),miny=min(miny,a[j].y),maxy=max(maxy,a[j].y);\n    }\n    cout<<(maxx-minx+1)*(maxy-miny+1);\n}\n```",
        "postTime": 1502784245,
        "uid": 22469,
        "name": "Mingoal",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2206 \u3010\u5976\u725b\u82ad\u857e\u3011"
    },
    {
        "content": "**\u9898\u610f**\n\n\u7ed9\u4f60\u4e00\u7cfb\u5217\u6307\u4ee4\uff0c\u8ba9\u4f60\u6a21\u62df\u5976\u725b\u7684\u884c\u52a8\uff0c\u82e5\u4e0d\u5408\u6cd5\uff08\u8e29\u5230\u81ea\u5df1\uff09\uff0c\u8f93\u51fa-1\u3002\n\n**\u7b97\u6cd5**\n\n\u76f4\u63a5\u6309\u9898\u610f\u6a21\u62df\uff08\u4e0d\u7136\u5462\u3002\u3002\uff09\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\nconst\nFL=1;FR=2;RL=3;RR=4;\n//\u811a\u7684\u4ee3\u53f7\uff0c\u540c\u9898\u610f\nF=1;B=2;R=3;L=4;\n//\u64cd\u4f5c\u7684\u4ee3\u53f7\nNORTH=1;EAST=2;SOUTH=3;WEST=4;\n//\u671d\u5411\u7684\u4ee3\u53f7\uff0c\u76f8\u4fe1\u5730\u7403\u4eba\u90fd\u770b\u5f97\u61c2\nvar\nn,i,facing,minx,miny,maxx,maxy,ans:longint;\n//facing\u8868\u793a\u5f53\u524d\u7684\u671d\u5411\ns:string[3];\nx,y:array[1..4]of longint;\n//4\u4e2a\u811a\u7684\u5750\u6807\nfunction max(a,b:longint):longint;\n  begin if a>b then exit(a);exit(b);end;\nfunction min(a,b:longint):longint;\n  begin if a<b then exit(a);exit(b);end;\nprocedure update;//\u66f4\u65b0\u7b54\u6848\n  var i:longint;\n  begin\n    for i:=1 to 4 do\n      begin\n        minx:=min(minx,x[i]);\n        maxx:=max(maxx,x[i]);\n        miny:=min(miny,y[i]);\n        maxy:=max(maxy,y[i]);\n      end;\n  end;\nprocedure print;//\u8f93\u51fa\u7b54\u6848\n  begin\n    write(ans);\n    halt;\n  end;\nprocedure go(n,k:longint);//\u524d\u8fdb\u64cd\u4f5c\n  var i:longint;\n  begin\n    case k of\n    F:case facing of\n      NORTH:inc(y[n]);\n      EAST:inc(x[n]);\n      SOUTH:dec(y[n]);\n      WEST:dec(x[n]);\n      end;\n    B:case facing of\n      NORTH:dec(y[n]);\n      EAST:dec(x[n]);\n      SOUTH:inc(y[n]);\n      WEST:inc(x[n]);\n      end;\n    R:case facing of\n      NORTH:inc(x[n]);\n      EAST:dec(y[n]);\n      SOUTH:dec(x[n]);\n      WEST:inc(y[n]);\n      end;\n    L:case facing of\n      NORTH:dec(x[n]);\n      EAST:inc(y[n]);\n      SOUTH:inc(x[n]);\n      WEST:dec(y[n]);\n      end;\n    end;\n    for i:=1 to 4 do\n      if(x[i]=x[n])and(y[i]=y[n])and(i<>n)then print;\n      //\u811a\u5728\u540c\u4e00\u4f4d\u7f6e\u4e86\uff0c\u8f93\u51fa-1\n    update;\n  end;\nprocedure turn(n:longint);//\u8f6c\u5411\n  var i,dx,dy:longint;\n  begin\n    for i:=1 to 4 do if i<>n then\n      begin\n        dx:=y[n]-y[i];dy:=x[n]-x[i];\n        x[i]:=x[n]-dx;y[i]:=y[n]+dy;\n      end;\n    inc(facing);if facing>WEST then facing:=NORTH;                  //\u897f\u540e\u9762\u662f\u5317\n    update;\n  end;\nprocedure pd(ch:char;s:string);//\u9009\u62e9\u6b63\u786e\u7684\u64cd\u4f5c\n  var i:longint;a:array[1..4]of string[2]=('FL','FR','RL','RR');\n  begin\n    for i:=1 to 4 do if a[i]=s then break;\n    case ch of\n    'F':go(i,F);\n    'B':go(i,B);\n    'R':go(i,R);\n    'L':go(i,L);//\u4ee5\u4e0a\u4e3a\u76f4\u884c\n    'P':turn(i);//\u65cb\u8f6c\n    end;\n  end;\nbegin\nreadln(n);facing:=NORTH;ans:=-1; \nx[FL]:=1;y[FL]:=2;x[FR]:=2;y[FR]:=2;\nx[RL]:=1;y[RL]:=1;x[RR]:=2;y[RR]:=1;\nminx:=1;miny:=1;maxx:=2;maxy:=2;\n//\u521d\u59cb\u5316\uff0c\u5047\u8bbe\u9762\u671d\u5317\nfor i:=1 to n do\n  begin\n    readln(s);\n    pd(s[3],copy(s,1,2));\n    //\u9009\u62e9\u6b63\u786e\u7684\u64cd\u4f5c\n  end;\nans:=(maxx-minx+1)*(maxy-miny+1);\nprint;\nend.\n```",
        "postTime": 1503217652,
        "uid": 12832,
        "name": "sxyugao",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2206 \u3010\u5976\u725b\u82ad\u857e\u3011"
    },
    {
        "content": "## \u672c\u9898\u662f\u4e00\u9053\u6a21\u62df\u6c34\u9898\n\n\u9996\u5148\uff0c\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff1a\n\n1. \u521d\u59cb\u5316\u3002\n\n2. \u79fb\u52a8\u64cd\u4f5c\u3002\n\n3. \u4e00\u70b9\u7ec6\u8282\u3002\n\n\u6ce8\u610f\uff1a\u672c\u9898\u89e3\u7684\u5750\u6807\u4ee5\u77e9\u9635\u7684\u884c\u5217\u4e3a\u6807\u51c6\u3002\n\n### 1. \u521d\u59cb\u5316\n\n\u7b2c\u4e00\u6b65\uff0c\u521d\u59cb\u5316\u56db\u53ea\u8e44\u5b50\u7684\u4f4d\u7f6e\uff1a\n\nFL \u7684\u5750\u6807\u521d\u59cb\u5316\u4e3a $(0, 0)$\uff0cFR \u7684\u5750\u6807\u521d\u59cb\u5316\u4e3a $(0, 1)$\uff0cRL \u7684\u5750\u6807\u521d\u59cb\u5316\u4e3a $(1, 0)$\uff0cRR \u7684\u5750\u6807\u521d\u59cb\u5316\u4e3a $(1, 1)$\u3002\n\n\u5219\u5f00\u4e00\u4e2a\u6570\u7ec4\uff0c\u5b58\u50a8\u6bcf\u53ea\u8e44\u5b50\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u65b9\u4fbf\u4e00\u70b9\u3002\n\n\u7b2c\u4e8c\u6b65\uff0c\u7ed9\u64cd\u4f5c\u548c\u8e44\u5b50\u7f16\u53f7\uff1a\n\n\u5c06\u56db\u53ea\u8e44\u5b50\u5206\u522b\u6309\u7167\u4e00\u4e8c\u4e09\u56db\u7684\u987a\u5e8f\u7f16\u53f7\uff08\u8e44\u5b50\u7684\u7f16\u53f7\u987a\u5e8f\u81ea\u5df1\u5b9a\uff09\uff0c\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u4e5f\u4f1a\u65b9\u4fbf\u4e00\u70b9\u3002\n\n\u968f\u540e\uff0c**\u53ea\u5c06** F\uff0cB\uff0cR\uff0cL \u64cd\u4f5c\u6309\u7167\u987a\u5e8f\u7f16\u53f7\uff0cP \u64cd\u4f5c\u540e\u9762\u4f1a\u5355\u72ec\u5904\u7406\u3002\n\n\u7b2c\u4e09\u6b65\uff0c\u7ef4\u62a4\u6700\u5c0f\u6700\u5927\u7684\u8e44\u5b50\u4f4d\u7f6e\uff1a\n\n\u7531\u4e8e\u8981\u6c42\u821e\u53f0\u7684\u5927\u5c0f\uff0c\u6240\u4ee5\u5f97\u6bcf\u6b21\u7ef4\u62a4\u6700\u5c0f\u7684\u5750\u6807\u548c\u6700\u5927\u7684\u5750\u6807\uff08\u5efa\u8bae\u4f7f\u7528\u7ed3\u6784\u4f53\uff09\uff0c\u6700\u540e\u624d\u80fd\u6c42\u51fa\u821e\u53f0\u7684\u5927\u5c0f\uff0c\u6240\u4ee5\u53ea\u8981\u8bbe\u4e3a $10^9$ \u548c $- 10^9$ \u5c31\u53ef\u4ee5\u4e86\u3002\n\n### 2. \u79fb\u52a8\u64cd\u4f5c\n\n\u79fb\u52a8\u64cd\u4f5c\u53c8\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff1a\n\n1. \u4e0a\u4e0b\u5de6\u53f3\u3002\n\n2. \u65cb\u8f6c\u3002\n\n\u7b2c\u4e00\u90e8\u5206\uff0c\u4e0a\u4e0b\u5de6\u53f3\uff1a\n\n\u6b64\u65f6\u53ea\u8981\u5229\u7528\u8981\u79fb\u52a8\u7684\u8e44\u5b50\u8fdb\u884c\u64cd\u4f5c\u5373\u53ef\uff0c\u987a\u4fbf\u5224\u65ad\u4e00\u4e0b\u6709\u6ca1\u6709\u8e44\u5b50\u91cd\u590d\u548c\u7ef4\u62a4\u5750\u6807\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u5373\u53ef\u3002\n\n\u7b2c\u4e8c\u90e8\u5206\uff0c\u65cb\u8f6c\uff1a\n\n\u9996\u5148\uff0c\u63a8\u5bfc\u65cb\u8f6c\u524d\u4e0e\u65cb\u8f6c\u540e\u7684\u5750\u6807\u5173\u7cfb\u3002\n\n\u8bf7\u770b\u4ee5\u4e0b\u8fd9\u5e45\u56fe\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g2ljevx4.png)\n\n\u5176\u4e2d\u6211\u4eec\u5047\u8bbe\u73b0\u5728\u88ab\u65cb\u8f6c\u70b9\u7ed5\u6807\u51c6\u70b9**\u987a\u65f6\u9488**\u65cb\u8f6c $90$ \u5ea6\uff0c\u753b\u7684\u4e24\u4e2a\u4e09\u89d2\u5f62\u662f\u8f85\u52a9\u56fe\u5f62\uff0c\u5219\u53ef\u4ee5\u5f97\u51fa\u5404\u6761\u8fb9\uff08\u53ea\u6709\u8f85\u52a9\u8fb9\uff09\u7684\u957f\u5ea6\u548c\u5404\u4e2a\u70b9\u7684\u5750\u6807\uff08\u6839\u636e\u8fb9\u7684\u957f\u5ea6\u5f97\u5230\u5750\u6807\uff09\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/gwbayaah.png)\n\n\u6b64\u65f6\uff0c\u6e05\u6670\u7684\u53d1\u73b0\uff0c\u5750\u6807\u4e3a $(x, y)$ \u7684\u70b9\uff0c\u987a\u65f6\u9488\u65cb\u8f6c $90$ \u5ea6\u540e\u7684\u5750\u6807\u4e3a $(x + y' - y, y + x - x')$\u3002\n\n\u73b0\u5728\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u5957\u516c\u5f0f\u4e86\uff0c\u8fd9\u65f6\u4e0d\u8981\u5224\u8e44\u5b50\u5728\u4e00\u4e2a\u683c\u5b50\u91cc\uff0c\u56e0\u4e3a\u662f\u4e0d\u53ef\u80fd\u4e24\u4e2a\u8e44\u5b50\u5728\u540c\u4e00\u4e2a\u683c\u5b50\u91cc\u7684\uff0c\u8fd9\u4e00\u70b9\u53ef\u4ee5\u81ea\u5df1\u52a8\u624b\u63a8\u5bfc\u3002\n\n### 3. \u4e00\u70b9\u7ec6\u8282\n\n1. \u6211\u4eec\u53ef\u4ee5\u5229\u7528\u5faa\u73af\u8282\u6765\u5efa\u9020\u4e00\u4e2a\u65b9\u5411\u6570\u7ec4\uff0c\u65b9\u4fbf\u4e00\u70b9\u3002\n\n2. \u5efa\u4e00\u4e2a\u53d8\u91cf\uff0c\u6765\u7ef4\u62a4 Bessie \u7684\u671d\u5411\uff0c\u65cb\u8f6c\u65f6\u6539\u53d8\u65b9\u5411\u5373\u53ef\u3002\n\n3. \u5229\u7528\u7ed3\u6784\u4f53\uff0c\u907f\u514d\u4ee3\u7801\u8fc7\u957f\u3002\n\n4. \u5229\u7528\u51fd\u6570\u5d4c\u5957\uff0c\u4ee3\u7801\u6709\u6e05\u6670\u6027\u3002\n\n## \u4ee3\u7801\n\n\u4ee5\u4e0b\u662f\u849f\u84bb\u7684\u4ee3\u7801\uff0c\u8fc7\u957f\u52ff\u55b7\uff0c\u4eb2\u6d4b AC\uff1a\n\n```cpp\n//\u5976\u725b\u82ad\u857e\uff0c\u539f\u5730\u5740\uff1ahttp://www.usaco.org/index.php?page=viewproblem2&cpid=278\n\n#include<bits/stdc++.h>\n\nusing namespace std;\n\nconst int dy[5] = {0, 1, 0, -1};\nconst int dx[5] = {-1, 0, 1, 0};   //\u65b9\u5411\u6570\u7ec4\u8282\u7701\u4ee3\u7801\u91cf\n\nint n, f = 0;    //f \u8868\u793a\u65b9\u5411\uff0c0 \u8868\u793a\u671d\u5317\uff0c2 \u8868\u793a\u671d\u5357\uff0c3 \u8868\u793a\u671d\u897f\uff0c1 \u8868\u793a\u671d\u4e1c\n\nstruct node{\n\tint x;\n\tint y;\n}_1, _2, p[5];    //_1 \u8868\u793a\u6700\u5de6\u4e0a\u89d2\u7684\u8e44\u5b50\uff0c_2 \u8868\u793a\u6700\u53f3\u4e0b\u89d2\u7684\u8e44\u5b50\uff0cp[] \u8868\u793a\u7ef4\u62a4\u56db\u4e2a\u8e44\u5b50\u7684\u4f4d\u7f6e\n\n//\u8868\u793a\u65cb\u8f6c\u4e2d\u7684\u64cd\u4f5c\nvoid P(int id){\n\tf++;\n\tf %= 4;    //\u6539\u53d8\u671d\u5411\n\tfor(int i = 0; i < 4; i++){\n\t\tint t1 = p[id].x + p[i].y - p[id].y;    //\u7528 t1, t2 \u6765\u7ef4\u62a4\u65cb\u8f6c\u540e\u7684\u65b0\u4f4d\u7f6e\n\t\tint t2 = p[id].y + p[id].x - p[i].x;\n\t\tp[i].x = t1;\n\t\tp[i].y = t2;\n\t\t_1.x = min(_1.x, p[i].x);\n\t\t_1.y = min(_1.y, p[i].y);\n\t\t_2.x = max(_2.x, p[i].x);\n\t\t_2.y = max(_2.y, p[i].y);    //\u7ef4\u62a4\u6700\u5c0f\u5de6\u4e0a\u89d2\u548c\u6700\u5927\u53f3\u4e0b\u89d2\n\t}\n}\n\n//\u68c0\u67e5\u79fb\u52a8\u7684\u4f4d\u7f6e\u6709\u6ca1\u6709\u53e6\u5916\u7684\u8e44\u5b50\nbool Check(int id, int x){\n\tp[id].x = p[id].x + dx[(x + f) % 4];\n\tp[id].y = p[id].y + dy[(x + f) % 4];    //%4 \u8868\u793a\u5b58\u5728\u4e00\u4e2a\u5faa\u73af\u8282\n\tfor(int i = 0; i < 4; i++){\n\t\t_1.x = min(_1.x, p[i].x);\n\t\t_1.y = min(_1.y, p[i].y);\n\t\t_2.x = max(_2.x, p[i].x);\n\t\t_2.y = max(_2.y, p[i].y);   //\u65f6\u523b\u7ef4\u62a4\n\t\tif(i != id){\n\t\t\tif(p[id].x == p[i].x && p[id].y == p[i].y){    //\u5982\u679c\u7eca\u5012\u4e86\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\treturn true;\n}\n\n//\u83b7\u53d6\u8e44\u5b50\u7f16\u53f7\u7684\u51fd\u6570\nint R(string s){\n\tif(s == \"FL\"){\n\t\treturn 0;\n\t}\n\tif(s == \"FR\"){\n\t\treturn 1;\n\t}\n\tif(s == \"RL\"){\n\t\treturn 2;\n\t}\n\tif(s == \"RR\"){\n\t\treturn 3;\n\t}\n\t//\u6309\u7167\u7f16\u53f7 return\n}\n\n//\u8f6c\u5316\u5b57\u7b26\u7f16\u53f7\uff0c\u6309\u7167\u4e0a\u4e0b\u5de6\u53f3\u7684\u987a\u5e8f\nint D(char x){\n\tif(x == 'F'){\n\t\treturn 0;\n\t}\n\tif(x == 'B'){\n\t\treturn 2;\n\t}\n\tif(x == 'L'){\n\t\treturn 3;\n\t}\n\tif(x == 'R'){\n\t\treturn 1;\n\t}\n}\n\n//\u5e2e\u52a9\u64cd\u4f5c\u56db\u4e2a\u8e44\u5b50\nvoid help(){\n\tstring s;\n\tcin >> s;\n\tint id = R(s.substr(0, 2));    //id \u8868\u793a\u64cd\u4f5c\u8e44\u5b50\u7684\u7f16\u53f7,R() \u4e3a\u83b7\u53d6\u7f16\u53f7\u7684\u51fd\u6570\n\tchar tmp = s[2];   //x \u8868\u793a\u64cd\u4f5c\u7b26\u53f7\n\t//\u64cd\u4f5c\u533a\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff0c\u5e26\u65cb\u8f6c\u548c\u4e0d\u5e26\u65cb\u8f6c\n\tif(tmp != 'P'){\n\t\tint xy = D(tmp);   //\u5c06\u5b57\u7b26\u8f6c\u5316\u6210\u7f16\u53f7\uff0c\u7531 D() \u5b8c\u6210\n\t\tif(!Check(id, xy)){   //Check() \u68c0\u67e5\u79fb\u52a8\u7684\u4f4d\u7f6e\u6709\u6ca1\u6709\u53e6\u5916\u7684\u8e44\u5b50\n\t\t\tcout << -1;\n\t\t\texit(0);\n\t\t}\n\t}\n\telse{\n\t\tP(id);   //P() \u8868\u793a\u65cb\u8f6c\u4e2d\u7684\u64cd\u4f5c\n\t}\n}\n\nint main(){\n\tfreopen(\"test.in\", \"r\", stdin);\n\tfreopen(\"test.out\", \"w\", stdout);\n\t_1.x = _1.y = 1e9;\n\t_2.x = _2.y = -1e9;\n\t_1.x = min(p[0].x, min(p[1].x, min(p[2].x, p[3].x)));\n\t_1.y = min(p[0].y, min(p[1].y, min(p[2].y, p[3].y)));\n\t_2.x = max(p[0].x, max(p[1].x, max(p[2].x, p[3].x)));\n\t_2.y = max(p[0].y, max(p[1].y, max(p[2].y, p[3].y)));\n\tp[0].x = 0, p[0].y = 0;    //\u5206\u522b\u6309\u7167\u524d\u5de6\u8e44\uff0c\u524d\u53f3\u8e44\uff0c\u540e\u5de6\u8e44\uff0c\u540e\u53f3\u8e44\u7684\u987a\u5e8f\u6392\u5217\n\tp[1].x = 0, p[1].y = 1;\n\tp[2].x = 1, p[2].y = 0;\n\tp[3].x = 1, p[3].y = 1;\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++){\n\t\thelp();   //\u5e2e\u52a9\u64cd\u4f5c\u56db\u4e2a\u8e44\u5b50\n\t}\n\tcout << (_2.x - _1.x + 1) * (_2.y - _1.y + 1);    //\u8f93\u51fa\u77e9\u5f62\u5927\u5c0f\n\treturn 0;\n}\n```\n",
        "postTime": 1634813849,
        "uid": 363006,
        "name": "_Alexande_",
        "ccfLevel": 5,
        "title": "P2206 \u5976\u725b\u82ad\u857e"
    },
    {
        "content": "## [\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/P2206)\n\n\u4e00\u9053\u7ec3\u4e60\u6a21\u62df\u7684\u597d\u9898\n\n\u90a3\u600e\u4e48\u505a\u5462\uff1f\n\n\u6309\u9898\u610f\u6a21\u62df\u5457\n\n\u6211\u7684\u4ee3\u7801\u53ef\u80fd\u6709\u4ebf\u70b9\u5197\u957f\uff0c\n\n\u4f46\u5e94\u8be5\u6bd4\u5176\u4ed6\u7684\u6bd4\u8f83\u597d\u7406\u89e3\uff08\u81ea\u5df1\u8ba4\u4e3a\uff09\n\n\uff08\u628a\u540e\u811a\u4f38\u5230\u524d\u811a\u7684\u524d\u9762\u8ba9\u6211\u7b11\u4e86\u534a\u5929\uff09\n\n$CODE$\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define ri register\nusing namespace std;\nint n;\nint fx=1,addx,addy;//fx\u4e3a1\u4e3a\u5317,2\u4e3a\u4e1c,3\u4e3a\u5357,4\u4e3a\u897f\u3002 \nint flx=0,frx=0,rlx=1,rrx=1;//\u56db\u53ea\u811a\u7684\u6a2a\u5750\u6807\nint fly=0,fry=1,rly=0,rry=1;//\u56db\u53ea\u811a\u7684\u7eb5\u5750\u6807\nint Minx=0,Miny=0,Maxx=1,Maxy=1;//\u5373\u4e3a\u821e\u53f0\u6700\u5927\u7684\u524d\u540e\u5de6\u53f3\u5750\u6807\nstring s;//\u8f93\u5165\u7684\u5b57\u7b26\u4e32\nsigned main(void)\n{\n\tstd::ios::sync_with_stdio(false);\n\tcin>>n;\n\tfor(ri int i(1);i<=n;++i)\n\t{\n\t\tcin>>s;\n\t\tif(s[2]!='P')//\u82e5\u662f\u8d70\u8def\n\t\t{\n\t\t\tif(s[2]=='F')//\u82e5\u662f\u5411\u524d\u8d70\n\t\t\t{\n\t\t\t\tif(fx==1)//\u5206\u522b\u662f\u56db\u4e2a\u65b9\u5411\u7684\u5411\u524d\u8d70\u7684\u8d70\u6cd5\uff0c\u5c31\u4e0d\u4e00\u4e00\u89e3\u91ca\u4e86\n\t\t\t\t{\n\t\t\t\t\taddx=-1;\n\t\t\t\t\taddy=0;\n\t\t\t\t}\n\t\t\t\telse if(fx==2)\n\t\t\t\t{\n\t\t\t\t\taddx=0;\n\t\t\t\t\taddy=1;\n\t\t\t\t}\n\t\t\t\telse if(fx==3)\n\t\t\t\t{\n\t\t\t\t\taddx=1;\n\t\t\t\t\taddy=0;\n\t\t\t\t}\n\t\t\t\telse if(fx==4)\n\t\t\t\t{\n\t\t\t\t\taddx=0;\n\t\t\t\t\taddy=-1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[2]=='B')//\u5411\u540e\n\t\t\t{\n\t\t\t\tif(fx==1)\n\t\t\t\t{\n\t\t\t\t\taddx=1;\n\t\t\t\t\taddy=0;\n\t\t\t\t}\n\t\t\t\telse if(fx==2)\n\t\t\t\t{\n\t\t\t\t\taddx=0;\n\t\t\t\t\taddy=-1;\n\t\t\t\t}\n\t\t\t\telse if(fx==3)\n\t\t\t\t{\n\t\t\t\t\taddx=-1;\n\t\t\t\t\taddy=0;\n\t\t\t\t}\n\t\t\t\telse if(fx==4)\n\t\t\t\t{\n\t\t\t\t\taddx=0;\n\t\t\t\t\taddy=1;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[2]=='R')//\u5411\u53f3\n\t\t\t{\n\t\t\t\tif(fx==1)\n\t\t\t\t{\n\t\t\t\t\taddx=0;\n\t\t\t\t\taddy=1;\n\t\t\t\t}\n\t\t\t\telse if(fx==2)\n\t\t\t\t{\n\t\t\t\t\taddx=1;\n\t\t\t\t\taddy=0;\n\t\t\t\t}\n\t\t\t\telse if(fx==3)\n\t\t\t\t{\n\t\t\t\t\taddx=0;\n\t\t\t\t\taddy=-1;\n\t\t\t\t}\n\t\t\t\telse if(fx==4)\n\t\t\t\t{\n\t\t\t\t\taddx=-1;\n\t\t\t\t\taddy=0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[2]=='L')//\u5411\u5de6\n\t\t\t{\n\t\t\t\tif(fx==1)\n\t\t\t\t{\n\t\t\t\t\taddx=0;\n\t\t\t\t\taddy=-1;\n\t\t\t\t}\n\t\t\t\telse if(fx==2)\n\t\t\t\t{\n\t\t\t\t\taddx=-1;\n\t\t\t\t\taddy=0;\n\t\t\t\t}\n\t\t\t\telse if(fx==3)\n\t\t\t\t{\n\t\t\t\t\taddx=0;\n\t\t\t\t\taddy=1;\n\t\t\t\t}\n\t\t\t\telse if(fx==4)\n\t\t\t\t{\n\t\t\t\t\taddx=1;\n\t\t\t\t\taddy=0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(s[0]=='F')//\u82e5\u662f\u524d\u9762\u7684\u8e44\u5b50\n\t\t\t{\n\t\t\t\tif(s[1]=='L')//\u5de6\u524d\u8e44\n\t\t\t\t{\n\t\t\t\t\tflx+=addx;\n\t\t\t\t\tfly+=addy;\n\t\t\t\t}\n\t\t\t\telse//\u5269\u4e0b\u7684\u5c31\u662f\u53f3\u524d\u8e44\u5b50\u5566\n\t\t\t\t{\n\t\t\t\t\tfrx+=addx;\n\t\t\t\t\tfry+=addy;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[0]=='R')//\u540e\u817f\n\t\t\t{\n\t\t\t\tif(s[1]=='L')//\u540e\u5de6\n\t\t\t\t{\n\t\t\t\t\trlx+=addx;\n\t\t\t\t\trly+=addy;\n\t\t\t\t}\n\t\t\t\telse//\u540e\u53f3\n\t\t\t\t{\n\t\t\t\t\trrx+=addx;\n\t\t\t\t\trry+=addy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse//\u63a5\u4e0b\u6765\u5c31\u662f\u96be\u70b9\u8f6c\u5708\u5708\u4e86\n\t\t{\n\t\t\tint flax=0,flay=0,frax=0,fray=0,rlax=0,rlay=0,rrax=0,rray=0;//\u8fd9\u4e9b\u5c31\u662f\u8bb0\u5f55\u82e5\u4ee5\u4e00\u4e2a\u5730\u65b9\u4e3a\u652f\u70b9\uff0c\u53e6\u5916\u4e09\u6761\u817f\u8ddd\u79bb\u652f\u70b9\u7684\u8ddd\u79bb\n\t\t\tif(s[0]=='F')//\u524d\u9762\u7684\u817f\n\t\t\t{\n\t\t\t\tif(s[1]=='L')//\u63a5\u4e0b\u6765\u6211\u89e3\u91ca\u4e0b\u6211\u5176\u4e2d\u4e00\u6761\u817f\u7684\u8f6c\u5708\u65b9\u6cd5\n\t\t\t\t{\n\t\t\t\t\tfrax=frx-flx,fray=fry-fly;\n\t\t\t\t\trlax=rlx-flx,rlay=rly-fly;\n\t\t\t\t\trrax=rrx-flx,rray=rry-fly;\n\t\t\t\t\tfrax=-1*frax,swap(frax,fray);\n\t\t\t\t\trlax=-1*rlax,swap(rlax,rlay);\n\t\t\t\t\trrax=-1*rrax,swap(rrax,rray);\n\t\t\t\t\tfrx=flx+frax,fry=fly+fray;\n\t\t\t\t\trlx=flx+rlax,rly=fly+rlay;\n\t\t\t\t\trrx=flx+rrax,rry=fly+rray;\n/*\u524d\u9762\u4e09\u884c\u5c31\u662f\u53e6\u5916\u4e09\u6761\u817f\u8ddd\u79bb\u8fd9\u4e2a\u652f\u70b9\u817f\u7684\u8ddd\u79bb,\n \u800c\u4e2d\u95f4\u4e09\u884c\u5176\u5b9e\u4e5f\u662f\u6bd4\u8f83\u597d\u61c2\u7684\uff0c\u53ef\u4ee5\u627e\u4e2a\u6817\u5b50\u8bd5\u8bd5\n \u6bd4\u5982\u5f53\u524d\u652f\u70b9\u5728\uff080\uff0c0\uff09\uff0c\u53f3\u524d\u8e44\u5728\uff081,2\uff09,\u90a3\u4e48\u8ddd\u79bb\u5c31\u662f1,2\n \u65cb\u8f6c\u4e00\u4e0b\uff0c\u90a3\u5c31\u662f\uff082\uff0c-1\uff09\uff0c\u518d\u8f6c\u4e00\u4e0b\uff08-1\uff0c-2\uff09\uff0c\u6700\u540e\u8f6c\u4e00\u4e0b\uff08-2\uff0c1\uff09\n \u53ef\u4ee5\u53d1\u73b0\u5c31\u662f\u6a2a\u5750\u6807*\uff08-1\uff09\uff0c\u7136\u540e\u4ea4\u6362\u524d\u540e\u5750\u6807\u5c31\u884c\u4e86\n*/\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tflax=flx-frx,flay=fly-fry;\n\t\t\t\t\trlax=rlx-frx,rlay=rly-fry;\n\t\t\t\t\trrax=rrx-frx,rray=rry-fry;\n\t\t\t\t\tflax=-1*flax,swap(flax,flay);\n\t\t\t\t\trlax=-1*rlax,swap(rlax,rlay);\n\t\t\t\t\trrax=-1*rrax,swap(rrax,rray);\n\t\t\t\t\tflx=frx+flax,fly=fry+flay;\n\t\t\t\t\trlx=frx+rlax,rly=fry+rlay;\n\t\t\t\t\trrx=frx+rrax,rry=fry+rray;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(s[0]=='R')\n\t\t\t{\n\t\t\t\tif(s[1]=='L')\n\t\t\t\t{\n\t\t\t\t\tflax=flx-rlx,flay=fly-rly;\n\t\t\t\t\tfrax=frx-rlx,fray=fry-rly;\n\t\t\t\t\trrax=rrx-rlx,rray=rry-rly;\n\t\t\t\t\tflax=-1*flax,swap(flax,flay);\n\t\t\t\t\tfrax=-1*frax,swap(frax,fray);\n\t\t\t\t\trrax=-1*rrax,swap(rrax,rray);\n\t\t\t\t\tflx=rlx+flax,fly=rly+flay;\n\t\t\t\t\tfrx=rlx+frax,fry=rly+fray;\n\t\t\t\t\trrx=rlx+rrax,rry=rly+rray;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tflax=flx-rrx,flay=fly-rry;\n\t\t\t\t\tfrax=frx-rrx,fray=fry-rry;\n\t\t\t\t\trlax=rlx-rrx,rlay=rly-rry;\n\t\t\t\t\tflax=-1*flax,swap(flax,flay);\n\t\t\t\t\tfrax=-1*frax,swap(frax,fray);\n\t\t\t\t\trlax=-1*rlax,swap(rlax,rlay);\n\t\t\t\t\tflx=rrx+flax,fly=rry+flay;\n\t\t\t\t\tfrx=rrx+frax,fry=rry+fray;\n\t\t\t\t\trlx=rrx+rlax,rly=rry+rlay;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfx++;\n\t\t\tif(fx==5)//\u82e5\u65b9\u5411\u4e3a5\uff0c\u90a3\u5c31\u53d8\u62101\n\t\t\t{\n\t\t\t\tfx=1;\n\t\t\t}\n\t\t}\n\t\tMinx=min(Minx,min(min(flx,frx),min(rlx,rrx)));\n\t\tMiny=min(Miny,min(min(fly,fry),min(rly,rry)));\n\t\tMaxx=max(Maxx,max(max(flx,frx),max(rlx,rrx)));\n\t\tMaxy=max(Maxy,max(max(fly,fry),max(rly,rry)));\n       \t\t//\u53d6\u6700\u5927\u548c\u6700\u5c0f\u7684\n\t\tif((flx==frx&&fly==fry)||(flx==rlx&&fly==rly)||(flx==rrx&&fly==rry))\n\t\t{\n\t\t\tcout<<\"-1\";\n\t\t\treturn 0;\n\t\t}\n\t\tif((frx==rlx&&fry==rly)||(frx==rrx&&fry==rry)||(rlx==rrx&&rly==rry))\n\t\t{\n\t\t\tcout<<\"-1\";\n\t\t\treturn 0;\n\t\t}//\u5224\u65ad\u662f\u5426\u8e29\u5230\u81ea\u5df1\u8e44\u5b50\n\t}\n\tcout<<(Maxx-Minx+1)*(Maxy-Miny+1);//\u6c42\u603b\u9762\u79ef\n\treturn 0;\n}\n```\n\u5c31\u662f\u8fd9\u6837QvQ\uff0c\u5927\u5bb6\u770b\u61c2\u4e86\u4e48~~~",
        "postTime": 1608374588,
        "uid": 310571,
        "name": "\u5e1d\u5343\u79cb\u4e36\u68a6\u5c18",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2206 \u3010\u5976\u725b\u82ad\u857e\u3011"
    },
    {
        "content": "[\u6211\u7684\u535a\u5ba2](https://blog.csdn.net/zsyzClb/article/details/84338040)\n\n\u8fd9\u9053\u9898\u5e76\u4e0d\u662f\u5f88\u96be\uff0c\u53ea\u662f\u6a21\u62df\u8d77\u6765\u5f88\u6076\u5fc3\uff0c\u6211\u4eec\u8981\u5b66\u4f1a\u5316\u7b80\u6a21\u62df\uff0c\u6bd4\u5982\u8bf4\u5229\u7528\u8f6c\u5316\u7684\u601d\u60f3\n\n\u5176\u5b9e\u64cd\u4f5c\u53ea\u6709\u4e24\u79cd\uff0c\u4e00\u79cd\u662f\u67d0\u4e00\u4e2a\u811a\u671d\u4e00\u4e2a\u65b9\u5411\u8d70\u4e00\u683c\uff0c\u53e6\u4e00\u79cd\u662f\u4ee5\u4e00\u53ea\u811a\u4e3a\u4e2d\u70b9\u987a\u65f6\u9488\u9009\u62e990\u5ea6\n\n\u6211\u4eec\u5148\u60f3\u60f3bessie\u4e00\u5f00\u59cb\u7ad9\u5728\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\u4e0a\uff0c\u5de6\u540e\u811a\u7ad9\u5728\u539f\u70b9\uff0c\u671d\u7740x\u7684\u6b63\u534a\u8f74\u53ca\u4e0a\u65b9\n\n\u4e3a\u4e86\u5316\u7b80\u6211\u8bbe\u5b9a\u4e86\n\nb[]\u5206\u522b\u8868\u793aBessie\u7684\u56db\u4e2a\u811a\nb[0]\u8868\u793a\u524d\u5de6\u811a\nb[1]\u8868\u793a\u524d\u53f3\u811a\nb[2]\u8868\u793a\u540e\u5de6\u811a\nb[3]\u8868\u793a\u540e\u53f3\u811a\n\u00a0\n\npos\u8868\u793abessie\u5f53\u524d\u7684\u65b9\u5411\npos=0\u8868\u793a\u671d\u4e0a\npos=1\u8868\u793a\u671d\u5de6\npos=2\u8868\u793a\u671d\u4e0b\npos=3\u8868\u793a\u671d\u53f3\n'F' 'B' 'L' 'R'\u5206\u522b\u8868\u793a\u64cd\u4f5c0,1,2,3\n'P\u2018\u8868\u793a\u64cd\u4f5c4\n\u4ee5\u4e0b\u662f\u6a21\u62df\u4e24\u79cd\u64cd\u4f5c\u7684\u65b9\u6cd5\n\n\u00a0\n\n\u64cd\u4f5c1:\n\u00a0\u8fd9\u4e2a\u64cd\u4f5c\u5c31\u5229\u7528\u4e86\u5316\u7b80\u7684\u601d\u60f3\n\n\u5982\u679c\u9700\u8981\u8d70\uff0c\u6211\u4eec\u53ea\u9700\u8981\u6539\u53d8\u5f53\u524d\u811a\u7684\u5750\u6807\n\n\u4e0d\u662f\u6709\u641c\u7d22\u77e9\u9635\u7684\u9898\u76ee\u5417\uff0c\u9700\u8981\u5f80\u4e0a\u4e0b\u5de6\u53f3\u56db\u4e2a\u65b9\u5411\u641c\u7d22\n\n\u6211\u4eec\u4e5f\u53ef\u4ee5\u5229\u7528\u8fd9\u79cd\u65b9\u5411\u7684\u601d\u60f3\uff0c\u6765\u5b9a\u4e49\u4e24\u4e2a\u6570\u7ec4\uff0c\u4e00\u4e2a\u5b58x\u5750\u6807\u7684\u6539\u53d8\uff0c\u53e6\u4e00\u4e2a\u5b58y\u5750\u6807\u7684\u6539\u53d8\n\n\u6211\u7528\u7684\u5e38\u91cf\u662foperax[][]\u548coperay[][]\n\n\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u5229\u7528\u4e24\u4e2a\u6570\u7ec4\n\nx+=operax[\u65b9\u5411][\u64cd\u4f5c]\ny+=operay[\u65b9\u5411][\u64cd\u4f5c]\n\u00a0\n\n\u64cd\u4f5c2:\n\u5f88\u663e\u7136\uff0c\u64cd\u4f5c\u4e8c\u662f\u4e00\u4e2a\u96be\u70b9\n\n\u6211\u4eec\u5c31\u5229\u7528\u4e00\u4e2a\u51fd\u6570:\n\nhuan(k,centre)//\u8868\u793a\u5c06\u7b2ck\u53ea\u811a\u4ee5\u7b2ccntre\u4e3a\u4e2d\u5fc3\u65cb\u8f6c90\u5ea6\n\n\u90a3\u600e\u4e48\u8f6c\u5462?\n\n\u9996\u5148\u628a\u56fa\u5b9a\u7684\u90a3\u53ea\u811a\u60f3\u8c61\u6210\u539f\u70b9\uff0c\u522b\u7684\u811a\u90fd\u6709\u5bf9\u5e94\u7684\u5173\u7cfb\n\n\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u628a\u56fa\u5b9a\u7684\u811a\u53d8\u6210\u539f\u70b9\uff0c\u5e76\u4e14\u5047\u8bbe\u8981\u65cb\u8f6c\u7684\u811a\u662f\u5728(1,2)\n\n\u7ed9\u4e2a\u56fe\u7247\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/44252.png)\n\n\u8fd9\u4e2a\u56fe\u597d\u50cf\u6bd4\u8f83\u5927\uff0c\u4e0d\u8fc7\u5f88\u6e05\u695a\u7684\u770b\u51fa\uff0c\u70b9\u662f\u5982\u4f55\u65cb\u8f6c\u7684\n\n\u8bbe\u8981\u65cb\u8f6c\u7684\u70b9\u4e3a(x,y)\uff0c\u65cb\u8f6c\u5b8c\u540e\u53d8\u6210\u70b9(y,-x)\n\n\u8fd9\u5c31\u662f\u65cb\u8f6c\u7684\u65b9\u6cd5\u4e86\n\n\u4e0b\u9762\u5c31\u662f\u5404\u4f4d\u6700\u60f3\u8981\u7684\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<iostream>\n#include<cstdlib>\n#include<queue>\n#include<stack>\n#include<cmath>\n#include<map>\nusing namespace std;\nstruct zb{\n    int x,y;\n}B[4];//\u5206\u522b\u8868\u793aBessie\u7684\u56db\u4e2a\u811a\n//b[0]\u8868\u793a\u524d\u5de6\u811a\n//b[1]\u8868\u793a\u524d\u53f3\u811a\n//b[2]\u8868\u793a\u540e\u5de6\u811a\n//b[3]\u8868\u793a\u540e\u53f3\u811a\nint pos;//\u8868\u793a\u65b9\u5411\n//pos=0\u8868\u793a\u671d\u4e0a\n//pos=1\u8868\u793a\u671d\u5de6\n//pos=2\u8868\u793a\u671d\u4e0b\n//pos=3\u8868\u793a\u671d\u53f3\nconst int operax[4][4]={//opera[pos][order],\u8868\u793a\u811a\u5f80\u54ea\u4e2a\u65b9\u5411\u8d70\u591a\u5c11\u6b65 \n    0,0,-1,1,\n    -1,1,0,0,\n    0,0,1,-1,\n    1,-1,0,0};\nconst int operay[4][4]={\n    1,-1,0,0,\n    0,0,-1,1,\n    -1,1,0,0,\n    0,0,1,-1};\nchar ss[5];\ninline int foot(){//\u6839\u636e\u5b57\u7b26\u4e32\u5224\u65ad\u811a \n    if(ss[0]=='F'){\n        if(ss[1]=='L')return 0;\n        return 1;\n    }\n    else{\n        if(ss[1]=='L')return 2;\n        return 3;\n    }\n}\ninline int order(){//\u5224\u65ad\u547d\u4ee4 \n         if(ss[2]=='F')return 0;\n    else if(ss[2]=='B')return 1;\n    else if(ss[2]=='L')return 2;\n    else if(ss[2]=='R')return 3;\n    return 4;\n}\nzb n1,n2;\ninline void update(){//\u8bb0\u5f55\u5de6\u4e0b\u89d2\u548c\u53f3\u4e0a\u89d2 \n    for(int i=0;i<4;i++)\n        n1.x=min(n1.x,B[i].x),\n        n1.y=min(n1.y,B[i].y),\n        n2.x=max(n2.x,B[i].x),\n        n2.y=max(n2.y,B[i].y);\n}\ninline bool check(int t1){//\u5224\u65ad\u662f\u5426\u6709\u548ct1\u5728\u540c\u4f4d\u7684\u811a \n    for(int i=0;i<4;i++)if(i!=t1)\n        if(B[i].x==B[t1].x&&B[i].y==B[t1].y)\n            return 0;\n    return 1;\n}\ninline void huan(int k,int centre){//\u65cb\u8f6c\u51fd\u6570 \n    int x=B[k].x-B[centre].x;\n    int y=B[k].y-B[centre].y;\n    /*   if(x>=0&&y>=0)swap(x,y),y=-y;\n    else if(x>=0&&y<=0)swap(x,y),y=-y;\n    else if(x<=0&&y<=0)swap(x,y),y=-y;\n    else               swap(x,y),y=-y;*/\n    swap(x,y),y=-y;\n    B[k].x=B[centre].x+x;\n    B[k].y=B[centre].y+y;\n}\nint main(){ \n    B[0]=(zb){0,1};//\u811a\u7684\u4f4d\u7f6e \n    B[1]=(zb){1,1};\n    B[2]=(zb){0,0};\n    B[3]=(zb){1,0};\n    pos=0;\n    n1=(zb){ 999999999, 999999999};//\u521d\u59cb\u5316 \n    n2=(zb){-999999999,-999999999};\n    int n,t1,t2;cin>>n;\n    bool bk=1;\n    while(n--){\n        cin>>ss;\n        t1=foot();t2=order();\n        if(t2!=4){//\u4e24\u79cd\u4e0d\u540c\u7684\u64cd\u4f5c \n            B[t1].x+=operax[pos][t2];\n            B[t1].y+=operay[pos][t2];\n            if(!check(t1)){bk=0;break;}\n        }\n        else{\n            for(int i=0;i<4;i++)if(i!=t1)\n                huan(i,t1);\n            pos--;if(pos==-1)pos=3;\n        }\n        update();\n    }\n    if(bk==0)printf(\"-1\\n\");\n    else printf(\"%d\\n\",(n2.x-n1.x+1)*(n2.y-n1.y+1));//\u8bb0\u5f97+1 \n    return 0;\n}\n```",
        "postTime": 1542950196,
        "uid": 66181,
        "name": "Celebrate",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2206 \u3010\u5976\u725b\u82ad\u857e\u3011"
    },
    {
        "content": "\u968f\u673a\u8df3\u9898\u8df3\u5230\u6a21\u62df\u9898\n\n\u4e0d\u65ad\u6a21\u62df\uff0c\u524d\u8fdb\u540e\u9000\u5411\u5de6\u5411\u53f3\u90fd\u7528dir\u52a0\u5e38\u91cf\u6570\u7ec4\u89e3\u51b3\uff0c\u53f3\u8f6c\u5c31\u5957\u521d\u4e2d\u516c\u5f0f\uff0c\u6bcf\u6b21\u64cd\u4f5c\u540e\u66f4\u65b0\u6700\u5927\u6700\u5c0f\u503c\u5e76\u67e5\u770b\u662f\u5426\u4e0d\u5408\u6cd5\uff0c\u82e5\u4e0d\u5408\u6cd5goto wtf\uff08\u8f93\u51fa-1\u5e76\u7ed3\u675f\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\n\nint n;\nchar s[5];\nconst int dx[]={-1,0,1,0};\nconst int dy[]={0,1,0,-1};\nint x[4],y[4];//FL==0,FR==1,RL==2,RR==3\nint dir;\nint maxx=1,minx,maxy=1,miny;\n\nint main(){\n\tscanf(\"%d\",&n);\n\tint i,j;\n\tx[0]=y[0]=x[1]=y[2]=0;\n\ty[1]=x[2]=x[3]=y[3]=1;\n\tfor(i=1;i<=n;i++){\n\t\tscanf(\"%s\",s);\n\t\tint num=0;\n\t\tif(s[0]=='R')num+=2;\n\t\tif(s[1]=='R')num+=1; \n\t\tif(s[2]=='F'){\n\t\t\tx[num]+=dx[dir];\n\t\t\ty[num]+=dy[dir];\n\t\t}\n\t\tif(s[2]=='B'){\n\t\t\tx[num]-=dx[dir];\n\t\t\ty[num]-=dy[dir];\n\t\t}\n\t\tif(s[2]=='R'){\n\t\t\tint dirr=(dir+1)%4;\n\t\t\tx[num]+=dx[dirr];\n\t\t\ty[num]+=dy[dirr];\n\t\t}\n\t\tif(s[2]=='L'){\n\t\t\tint dirr=(dir+1)%4;\n\t\t\tx[num]-=dx[dirr];\n\t\t\ty[num]-=dy[dirr];\n\t\t}\n\t\tif(s[2]=='P'){\n\t\t\tfor(j=0;j<4;j++)\n\t\t\t\tif(j!=num){\n\t\t\t\t\tint ddx=x[j]-x[num];\n\t\t\t\t\tint ddy=y[j]-y[num];\n\t\t\t\t\tx[j]=x[num]+ddy;\n\t\t\t\t\ty[j]=y[num]-ddx;\n\t\t\t\t}\n\t\t\tdir=(dir+1)%4;\n\t\t}\n\t\tfor(j=0;j<4;j++){\n\t\t\tmaxx=max(maxx,x[j]);\n\t\t\tminx=min(minx,x[j]);\n\t\t\tmaxy=max(maxy,y[j]);\n\t\t\tminy=min(miny,y[j]);\n\t\t}\n\t\tfor(j=0;j<4;j++)\n\t\t\tif(j!=num && x[num]==x[j] && y[num]==y[j])\n\t\t\t\tgoto wtf;\n\t\t//printf(\"case%d: (%d,%d),(%d,%d),(%d,%d),(%d,%d)\\n\",\n\t\t//\t\ti,x[0],y[0],x[1],y[1],x[2],y[2],x[3],y[3]);\n\t}\n\tprintf(\"%d\",(maxx-minx+1)*(maxy-miny+1));\n\treturn 0;\n\twtf:\n\tprintf(\"-1\");return 0;\n}\n```",
        "postTime": 1541075081,
        "uid": 91823,
        "name": "diltraser",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2206 \u3010\u5976\u725b\u82ad\u857e\u3011"
    },
    {
        "content": "[\u539f\u9898\u4f20\u9001\u95e8(P2206)](https://www.luogu.com.cn/problem/P2206)\n\n\n~~\u672c\u849f\u84bb\u7b2c\u4e00\u6b21\u5199\u9898\u89e3\u6709\u70b9\u7d27\u5f20~~\n\n\n\n\u9898\u76ee\u5927\u610f\uff1a\n\u7ed9\u5b9a\u4e00\u4e9b\u6307\u4ee4\uff0c\u8ba1\u7b97\u9700\u8981\u591a\u5927\u7684\u821e\u53f0\u3002\n\n# \u8fd9\u662f\u4e00\u9053\u5927\u6a21\u62df\uff01\uff01\uff01\n\n\u53ea\u8981\u904d\u5386\u6bcf\u6b21\u6307\u4ee4\uff0c\u7136\u540e\u5224\u65ad\u662f\u5426\u6454\u5012\uff0c\u6454\u5012\u8f93\u51fa`-1`\u5426\u5219\u8bb0\u5f55\uff0c\u6700\u540e\u6c42\u51fa\u9762\u79ef\u5c31\u884c\u4e86\u3002\n\n\u5c0f\u4e8c\uff0c\u4e0a\u4ee3\u7801\uff01\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int xx[] = {-1, 0, 1, 0}, yy[] = {0, 1, 0, -1};//\u4e0d\u540c\u65b9\u5411\u7684x,y\u79fb\u52a8\u6570\u91cf\nstruct node {\n  int y, x;\n} a[] = {{114514, 1919810}, {0, 0}, {0, 1}, {1, 0}, {1, 1}};//\u8bb0\u5f55\u56db\u53ea\u811a\u7684\u4f4d\u7f6e\nint fx, miny = INT_MAX, minx = INT_MAX, maxy = INT_MIN, maxx = INT_MIN, n;\nbool flag = 1;\nstring s;\nint help(string s) {\n  int f = 1;//\u8bb0\u5f55\u662f\u90a3\u53ea\u811a\n  if (s[0] == 'F' && s[1] == 'R') {\n    f = 2;\n  } else if (s[0] == 'R') {\n    if (s[1] == 'L') {\n      f = 3;\n    } else {\n      f = 4;\n    }\n  }\n  if (s[2] == 'P') {\n    for (int i = 1; i <= 4; i++) {\n      int ny = a[f].y + a[i].x - a[f].x;\n      int nx = a[f].x + a[f].y - a[i].y;\n      a[i].y = ny, a[i].x = nx;\n    }\n    fx = (fx + 1) % 4;//\u8bb0\u5f55\u65b9\u5411\uff08\u6a214\u53ef\u4fdd\u8bc1\u4e0dRE\uff09\n  } else {\n    int m = 0;\n    if (s[2] == 'R') {\n      m = 1;\n    }\n    if (s[2] == 'B') {\n      m = 2;\n    }\n    if (s[2] == 'L') {\n      m = 3;\n    }\n    m = (m + fx) % 4;//\u8bb0\u5f55\u65b9\u5411\uff08\u6a214\u53ef\u4fdd\u8bc1\u4e0dRE\uff09\n    a[f].y += xx[m];\n    a[f].x += yy[m];//\u8bb0\u5f55\u5750\u6807\n    for (int i = 1; i <= 4; i++) {\n      if (f != i && a[f].y == a[i].y && a[f].x == a[i].x) {//\u5224\u65ad\u662f\u5426\u4f1a\u6454\u5012\n        return 0;//\u8fd4\u56de\u4e0d\u884c\n      }\n    }\n  }\n  for (int i = 1; i <= 4; i++) {\n    miny = min(miny, a[i].y);\n    maxy = max(maxy, a[i].y);\n    minx = min(minx, a[i].x);\n    maxx = max(maxx, a[i].x);//\u53d6\u6700\u5927\u503c\u4e0e\u6700\u5c0f\u503c\n  }\n  return 1;//\u8fd4\u56de\u53ef\u4ee5\n}\nint main() {\n  //freopen(\"ballet.in\", \"r\", stdin);CSP-J\n  //freopen(\"ballet.out\", \"w\", stdout);\u5907\u6218\u7d27\u5f20\n  cin >> n;\n  for (int i = 1; i <= n; i++) {\n    cin >> s;\n    if (!(flag = help(s))) {//\u5224\u65ad\u53ef\u884c\u6027\n      break;\n    }\n  }\n  if (flag) {//\u5224\u65ad\u5e76\u8f93\u51fa\n    cout << (maxy - miny + 1) * (maxx - minx + 1);//\u8ba1\u7b97\u9762\u79ef\n  } else {\n    cout << -1;\n  }\n  return 0;//\u534e\u4e3d\u7684\u7ed3\u675f\n}\n```\n\u7ba1\u7406\u5458\u5927\u5927\u6c42\u8fc7\n\n\u5728\u8fd9\u795d\u5927\u5bb6CSP-J2022++RP\uff01",
        "postTime": 1666669205,
        "uid": 661494,
        "name": "mouth_boy",
        "ccfLevel": 4,
        "title": "\u5976\u725b\u82ad\u857e\u9898\u89e3"
    },
    {
        "content": "**\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\u4e0d\u77e5\u8be5\u600e\u4e48\u5199\u7ba1\u7406\u5927\u5927\u6c42\u901a\u8fc7qwq**\n\n~~\u8fd9\u9053\u9898\u4f3c\u4e4e\u662f\u4e00\u4e2a\u5927\u6a21\u62df~~,\u4ee3\u7801\u610f\u601d\u5199\u5728\u6ce8\u91ca\u91cc\u4e86\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint dx[4]={-1,0,1,0};\nint dy[4]={0,1,0,-1};\nstruct node{//\u7ed3\u6784\u4f53\u5b58\u50a8\u6bcf\u4e2a\u811a\u7684\u4f4d\u7f6e\n\tint x,y;\n}p[4],v[2];\nint n;\nint f(string s){//\u8fd4\u56de\u8981\u79fb\u52a8\u7684\u6559\u7684\u7f16\u53f7\n\tif(s==\"FL\")\n\t\treturn 0;\n\tif(s==\"FR\")\n\t\treturn 1;\n\tif(s==\"RL\")\n\t\treturn 2;\n\treturn 3;\n}\nint d(char c){//\u8fd4\u56de\u5f80\u90a3\u79fb\n\tif(c=='F')\n\t\treturn 0;\n\tif(c=='R')\n\t\treturn 1;\n\tif(c=='B')\n\t\treturn 2;\n\treturn 3;\n}\nbool c(int id){//\u68c0\u67e5\u662f\u5426\u6709\u8e44\u5b50\u5728\u4e00\u8d77\n\tfor(int i=0;i<4;i++)\n\t\tif(i!=id&&p[i].x==p[id].x&&p[i].y==p[id].y)\n\t\t\treturn 0;\n\treturn 1;\n}\nvoid u(){//\u6269\u5927\u8fb9\u754c\n\tfor(int i=0;i<4;i++){\n\t\tv[0].x=min(v[0].x,p[i].x);\n\t\tv[0].y=min(v[0].y,p[i].y);\n\t\tv[1].x=max(v[1].x,p[i].x);\n\t\tv[1].y=max(v[1].y,p[i].y);\n\t}\n\treturn ;\n}\nvoid r(int id){//\u65cb\u8f6c\n\tfor(int i=0;i<4;i++){\n\t\tint t1=p[id].x+p[i].y-p[id].y;\n\t\tint t2=p[id].y+p[id].x-p[i].x;\n\t\tp[i].x=t1;\n\t\tp[i].y=t2;\n\t}\n\treturn ;\n}\n\nint main(){\n\tcin>>n;\n\tp[0].x=0,p[0].y=0;//\u9884\u5904\u7406\u8e44\u5b50\u4f4d\u7f6e\n\tp[1].x=0,p[1].y=1;\n\tp[2].x=1,p[2].y=0;\n\tp[3].x=1,p[3].y=1;\n\tv[0].x=INT_MAX,v[0].y=INT_MAX;//\u9884\u5904\u7406\u8fb9\u754c\n\tv[1].x=INT_MIN,v[1].y=INT_MIN;\n\tint dir=0;\n\tfor(int i=0;i<n;i++){//\u5faa\u73af\u679a\u4e3e\u6bcf\u6761\u6307\u4ee4\n\t\tstring s;\n\t\tcin>>s;\n\t\tint id=f(s.substr(0,2));//\u662f\u54ea\u4e2a\u8e44\u5b50\n\t\tif(s[2]!='P'){\n\t\t\tint dd=(d(s[2])+dir)%4;\n\t\t\tp[id].x+=dx[dd];\n\t\t\tp[id].y+=dy[dd];\n\t\t\tif(!c(id)){//\u5982\u679c\u6709\u8e44\u5b50\u5728\u4e00\u8d77\u8f93\u51fa-1\n\t\t\t\tcout<<-1;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\telse{//\u65cb\u8f6c\n\t\t\tr(id);\n\t\t\tdir=(dir+1)%4;\n\t\t}\n\t\tu();//\u6269\u5927\u8fb9\u754c\n\t}\n\tcout<<(v[1].x-v[0].x+1)*(v[1].y-v[0].y+1);//\u8f93\u51fa\u9762\u79ef\n\treturn 0;//\u597d\u4e60\u60ef\n}\n```",
        "postTime": 1634709958,
        "uid": 391527,
        "name": "\u8fdd\u89c4\u7528\u6237\u540dS42u&!u&",
        "ccfLevel": 0,
        "title": "P2206 \u5976\u725b\u82ad\u857e\u9898\u89e3"
    },
    {
        "content": "\u4e00\u9053\u6a21\u62df\u597d\u9898![](//\u5567.tk/qiang)\n\n### \u9898\u610f\n\n\u6839\u636e\u5404\u4e2a\u6307\u4ee4\u6a21\u62df\u5976\u725b\u52a8\u4f5c\uff0c\u6700\u7ec8\u6c42\u51fa\u5976\u725b\u6a2a\u7eb5\u5750\u6807\u6700\u5927\u503c\uff0c\u5e76\u6c42\u9762\u79ef\u3002\n\n### \u601d\u8def\n\n\u7eaf\u6a21\u62df\u5373\u53ef\u3002\n\n\u7528 $x,y$ \u53bb\u5b58\u56db\u6761\u817f\u7684\u5750\u6807\u504f\u79fb\n\n\u56e0\u4e3a\u5976\u725b\u6709\u671d\u5411\uff0c\u6240\u4ee5\u6211\u4eec\u7684\u65b9\u5411\u504f\u79fb\u6570\u7ec4 $d_x,d_y$ \u5b58\u50a8\u8f6c\u5411\u65f6\uff0c\u5e94\u5f53\u6309\u7167\u987a\u65f6\u9488\u987a\u5e8f\uff0c\u8fd9\u6837\u8f6c\u5411\u65f6\u53ea\u9700\u52a0\u4e00\u5373\u53ef\uff0c\u56e0\u4e3a\u6709\u56db\u4e2a\u65b9\u5411\uff0c\u6240\u4ee5\u5f53\u8d85\u8fc7\u56db\u65f6\u8fdb\u884c $\\%4$ \u5373\u53ef\u89e3\u51b3\u3002\n\n\u8f6c\u5230\u5404\u4e2a\u65b9\u5411\u5176\u5b9e\u5c31\u76f8\u5f53\u4e8e\u8f6c\u4e86\u591a\u5c11\u4e86 $90^{\\circ}$\u3002\n\n### code\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n//aks\ninline int read() {\n    char c=getchar(),f=0;int t=0;\n    for (;c<'0'||c>'9'; c=getchar()) if (!(c^45)) f=1;\n    for (;c>='0'&&c<='9';c=getchar()) t=(t<<1)+(t<<3)+(c^48);\n    return f?-t:t;\n}\ninline void write(int x) {\n    static int t[25]; int tp=0;\n    if (x==0) return (void)(putchar('0')); else if (x<0) putchar('-'), x=-x;\n    while (x) t[tp++]=x%10,x/=10;\n    while (tp--) putchar(t[tp]+48);\n}\nint n, minx, maxx, miny, maxy;//n\u6761\u6307\u4ee4\uff0cx\u6700\u5c0f\u6700\u5927\u503c\uff0cy\u6700\u5c0f\u6700\u5927\u503c \nint x[] = {0, 1, 1, 0}; // 0FL\uff0c 1FR \nint y[] = {1, 1, 0, 0}; // 2RR\uff0c 3RL \nint dx[] = {0, 1, 0, -1}; //0\u4e0a\uff0c 1\u53f3\uff0c 2\u4e0b\uff0c 3\u5de6 \nint dy[] = {1, 0, -1, 0};\nint d; // \u5f53\u524d\u65b9\u5411 \nint main() {\n    n = read();\n    for (int i = 1; i <= n; i++) {\n        char a, b, op;\n        cin >> a >> b >> op;\n        int f;\n        if (a == 'F' && b == 'L') f = 0; // \u524d\u5de6\u817f\n        if (a == 'F' && b == 'R') f = 1; // \u524d\u53f3\u817f\n        if (a == 'R' && b == 'R') f = 2; // \u540e\u53f3\u817f\n        if (a == 'R' && b == 'L') f = 3; // \u540e\u5de6\u817f\n        if (op == 'F') x[f] += dx[d], y[f] += dy[d]; // \u5411\u524d\u8d70\u4e00\u6b65 \n        if (op == 'B') x[f] += dx[(d + 2) % 4], y[f] += dy[(d + 2) % 4]; // \u987a\u65f6\u9488 180\uff08\u5411\u540e\u9000\uff09\n        if (op == 'L') x[f] += dx[(d + 3) % 4], y[f] += dy[(d + 3) % 4]; // \u987a\u65f6\u9488 270\uff08\u5411\u5de6\uff09\n        if (op == 'R') x[f] += dx[(d + 1) % 4], y[f] += dy[(d + 1) % 4]; // \u987a\u65f6\u9488 90\uff08\u5411\u53f3\uff09\n        if (op == 'P') {\n            int x0 = x[f], y0 = y[f];\n            for (int i = 0; i <= 3; i++) { // \u5c06\u7b2cx[i], y[i]\u7ed5x[f], y[f]\u987a\u65f6\u9488\u65cb\u8f6c90\u5ea6 \n                x[i] -= x0, y[i] -= y0;\n                swap(x[i], y[i]);\n                y[i] = -y[i];\n                x[i] += x0, y[i] += y0;\n            }\n            d = (d + 1) % 4;\n        }\n        for (int i = 0; i <= 3; i++) // \u679a\u4e3e\u7b2c i \u6761\u817f \n            for (int j = i + 1; j <= 3; j++) // \u679a\u4e3e\u7b2c j \u6761\u817f \n                if (x[i] == x[j] && y[i] == y[j]) { // \u7eca\u5012 \n                    puts(\"-1\");\n                    return 0;\n                }\n        for (int i = 0; i <= 3; i++) {\n            minx = min(minx, x[i]);\n            miny = min(miny, y[i]);\n            maxx = max(maxx, x[i]);\n            maxy = max(maxy, y[i]);\n        }\n    }\n    cout << (maxx - minx + 1) * (maxy - miny + 1) << endl;\n    return 0;\n}\n\n\n",
        "postTime": 1629246945,
        "uid": 128369,
        "name": "AgrumeStly",
        "ccfLevel": 0,
        "title": "P2206 \u5976\u725b\u82ad\u857e"
    },
    {
        "content": "# \u3010\u9898\u76ee\u601d\u8def\u3011\n\u5c31\u662f\u6a21\u62df\u5976\u725b\u8df3\u821e\u7684\u8fc7\u7a0b\uff0c\u4e3b\u8981\u8981\u6ce8\u610f\u987a\u65f6\u9488\u65cb\u8f6c90\u5ea6\u7684\u5904\u7406\uff0c\u8fd8\u662f\u6bcf\u6761\u6307\u4ee4\u6267\u884c\u8fc7\u7a0b\u4e2d\u6bcf\u53ea\u811a\u7684\u4f4d\u7f6e\uff0c\u8fd8\u6709\u5976\u725b\u7684\u671d\u5411\u3002\u9898\u76ee\u4e0d\u96be\uff0c\u7ec6\u5fc3\u5c31\u597d\u3002\n\n1.\u6bcf\u6b21\u811a\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e\uff0c\u5224\u65ad\u662f\u5426\u9700\u8981\u6269\u5927\u821e\u53f0\u8303\u56f4\n\n2.\u6bcf\u6b21\u5b8c\u6210\u4e00\u6b21\u52a8\u4f5c\u5224\u65ad\u56db\u4e2a\u811a\u7684\u4f4d\u7f6e\u662f\u5426\u6709\u91cd\u590d\uff0c\u6709\u5219\u76f4\u63a5\u8f93\u51fa-1\n\n3.\u9488\u5bf9\u52a8\u4f5c\u4e0d\u540c\u91c7\u53d6\u4e0d\u540c\u7684\u5904\u7406\u65b9\u6cd5\uff0c\u6807\u8bb0\u597d\u65b9\u5411\uff0c\u524d\u8fdb\u540e\u9000\u5de6\u79fb\u53f3\u79fb\u53ef\u4ee5\u786e\u5b9a\uff0c\u65cb\u8f6c\u518d\u5355\u72ec\u5904\u7406\u3002\n\n _\u4e0a\u4ee3\u7801_ \n ```pascal\nvar ch:char;\n    n,i,x,y,z,l,x1,x2,y1,y2,l1,l2,l3,l4,l5,l6:longint;\n    a:array[1..2,1..2,1..2] of longint;\n    p:array[1..5] of longint=(1,3,2,4,5);\n    e:array[1..4,1..2] of longint=((-1,0),(0,1),(1,0),(0,-1));\nprocedure sc;\nvar i,j,k,l:longint;\nbegin\n  for i:=1 to 2 do\n    for j:=1 to 2 do\n      for k:=1 to 2 do\n        for l:=1 to 2 do\n          if not ((i=k) and (j=l)) then\n              if (a[i,j,1]=a[k,l,1]) and (a[i,j,2]=a[k,l,2]) then\n                begin writeln(-1); halt; end;\nend;\nprocedure sk(x,y:longint);\nbegin\n  if x>x1 then x1:=x;\n  if x<x2 then x2:=x;\n  if y>y1 then y1:=y;\n  if y<y2 then y2:=y;\nend;\nprocedure sv(var x1,y1,x2,y2,x3,y3,x4,y4:longint);\nvar x:longint;\nbegin\n  x:=x2; x2:=(y2-y1)+x1; y2:=y1-(x-x1); sk(x2,y2);\n  x:=x3; x3:=(y3-y1)+x1; y3:=y1-(x-x1); sk(x3,y3);\n  x:=x4; x4:=(y4-y1)+x1; y4:=y1-(x-x1); sk(x4,y4);\nend;\nbegin\n  assign(input,'ballet.in');assign(output,'ballet.out');\n  reset(input);rewrite(output);\n  readln(n);\n  a[1,1,1]:=0; a[1,1,2]:=0;\n  a[1,2,1]:=0; a[1,2,2]:=1;\n  a[2,1,1]:=1; a[2,1,2]:=0;\n  a[2,2,1]:=1; a[2,2,2]:=1;\n  x1:=1; x2:=0;\n  y1:=1; y2:=0;\n  for i:=1 to n do\n    begin\n    read(ch); if ch='F' then x:=1 else x:=2;\n    read(ch); if ch='L' then y:=1 else y:=2;\n    readln(ch); z:=5; case ch of 'F':z:=1; 'B':z:=2; 'R':z:=3; 'L':z:=4; end;\n    z:=p[z];\n    if z=5 then\n      begin\n      l:=l mod 4+1;\n      if (x=1) and (y=1) then begin l1:=1; l2:=2; l3:=2; l4:=1; l5:=2; l6:=2; end\n      else if (x=1) and (y=2) then begin l1:=1; l2:=1; l3:=2; l4:=1; l5:=2; l6:=2; end\n      else if (x=2) and (y=1) then begin l1:=1; l2:=1; l3:=1; l4:=2; l5:=2; l6:=2; end\n      else begin l1:=1; l2:=1; l3:=1; l4:=2; l5:=2; l6:=1; end;\n      sv(a[x,y,1],a[x,y,2],a[l1,l2,1],a[l1,l2,2],a[l3,l4,1],a[l3,l4,2],a[l5,l6,1],a[l5,l6,2]);\n      end\n    else\n      begin\n      z:=(z+l-1) mod 4+1;\n      a[x,y,1]:=a[x,y,1]+e[z,1];\n      a[x,y,2]:=a[x,y,2]+e[z,2];\n      sk(a[x,y,1],a[x,y,2]);\n      end;\n    sc;\n    end;\n  writeln((x1-x2+1)*(y1-y2+1));\n  close(input);close(output);\nend.\n```\n\n\u5927\u795e\u52ff\u55b7\uff0c\u8fd9\u662f\u4e0d\u5c0a\u91cd\u4ed6\u4eba\u7684\u884c\u4e3a\uff01\uff01\uff01\uff09 \u5b8c\u7ed3\u6492\u82b1~(\u2267\u25bd\u2266)/~\u5566\u5566\u5566",
        "postTime": 1563808213,
        "uid": 77728,
        "name": "\u8d70\u5f00\u554a\u4f60",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2206 \u3010\u5976\u725b\u82ad\u857e\u3011"
    }
]