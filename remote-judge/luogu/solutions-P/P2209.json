[
    {
        "content": "\u4e0a\u6b21\u7684\u5fd8\u4e86\u7c98\u4ee3\u7801\uff0c\u7ba1\u7406\u5458\u53ef\u4ee5\u8986\u76d6\u6389\u4e0a\u4e00\u7bc7\u5417\n\n\n\u6765\u7bc7C++\n\n\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u7279\u5224\u6389\u4e0d\u80fd\u5230\u8fbe\u7684\u60c5\u51b5\uff0c\u8fd9\u6837\u53ef\u4ee5\u51cf\u5c0f\u4ee3\u7801\u590d\u6742\u5ea6\n\n\n\u4e0d\u80fd\u5230\u8fbe\u7684\u60c5\u51b5\u6709\u4e09\uff1a\n\n\n1\u3001\u7b2c\u4e00\u4e2a\u52a0\u6cb9\u7ad9\u5230\u8d77\u70b9\u7684\u8ddd\u79bb>\u521d\u59cb\u6cb9\u91cf\n\n\n2\u3001\u7ec8\u70b9\u5230\u6700\u540e\u4e00\u4e2a\u52a0\u6cb9\u7ad9\u7684\u8ddd\u79bb>\u6cb9\u7bb1\u5bb9\u91cf\n\n\n3\u3001\u9014\u4e2d\u5b58\u5728\u76f8\u90bb\u52a0\u6cb9\u7ad9\u7684\u8ddd\u79bb>\u6cb9\u7bb1\u5bb9\u91cf\n\n\n\u524d\u63d0\u662f\u4f60\u6392\u597d\u5e8f\u4e86\n\n\n\u4e3a\u4e86\u907f\u514d\u4ee3\u7801\u4e2d\u8fdb\u884c\u5230\u7ec8\u70b9\u7684\u7279\u5224\uff0c\u53ef\u4ee5\u5728\u7ec8\u70b9\u589e\u52a0\u4e00\u4e2a\u4ef7\u683c\u4e3a0\u7684\u52a0\u6cb9\u7ad9\n\n\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9700\u8981\u7ef4\u62a4\u5f53\u524d\u5728\u54ea\u4e2a\u52a0\u6cb9\u7ad9\uff0c\u5f53\u524d\u5269\u4f59\u6cb9\u91cf\uff0c\u63a5\u4e0b\u6765\u53bb\u54ea\u4e2a\u52a0\u6cb9\u7ad9\n\n\n\u7136\u540e\u8d2a\u5fc3\n\n\n\u5047\u8bbe\u5f53\u524d\u5728now\u52a0\u6cb9\u7ad9\n\n\n1\u3001\u5047\u8bbe\u5728\u80fd\u8dd1\u5230\u7684\u8303\u56f4\u5185\uff0c\u7b2c\u4e00\u4e2a\u4ef7\u683c\u6bd4\u4ed6\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9to\uff0c\u5c31\u5728\u5f53\u524d\u52a0\u6cb9\u7ad9\u52a0\u6cb9\uff0c\u52a0\u5230\u6070\u597d\u80fd\u8dd1\u5230to\n\n\n2\u3001\u5728\u80fd\u8dd1\u5230\u7684\u8303\u56f4\u5185\uff0c\u6ca1\u6709\u4ef7\u683c\u6bd4\u4ed6\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9\uff0c\u5c31\u5728now\u52a0\u6ee1\u6cb9\uff0c\u8dd1\u5230\u80fd\u8dd1\u5230\u7684\u8303\u56f4\u5185\uff0c\u4ef7\u683c\u6700\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9\n\n\n\u6ce8\u610f\uff0c\u57281\u4e2d\u4e0d\u662f\u8dd1\u5230\u8303\u56f4\u5185\u6700\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9\uff0c\u800c\u662f\u53ea\u8981\u9047\u5230\u4e00\u4e2a\u6bd4now\u4fbf\u5b9c\uff0c\u5c31\u8dd1\u8fc7\u53bb\n\n\n\u8dd1\u5230\u6700\u4fbf\u5b9c\u7684\u53ea\u80fd\u62ff40\u5206\n\n\n    \n```cpp\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef long long LL;\nint N,G,B,D;\nvoid read(int &x)\n{\n    x=0; char c=getchar();\n    while(!isdigit(c)) c=getchar();\n    while(isdigit(c)) { x=x*10+c-'0'; c=getchar(); }\n}\nstruct node\n{\n    int d,p;\n}e[50005];\nint dis[50005],price[50005];\nint findmin(int s,int lim)\n{\n    int now=s+1,to=50003;\n    while(now<=N)\n    {\n        if(dis[now]-dis[s]>lim) return to;\n        if(price[now]<price[s]) return now;\n        if(price[now]<price[to]) to=now;\n        now++;\n    }\n}\nbool cmp(node a,node b)\n{\n    return a.d<b.d;\n}\nint main()\n{\n    read(N);read(G);read(B);read(D);\n    for(int i=1;i<=N;i++) read(e[i].d),read(e[i].p);\n    sort(e+1,e+N+1,cmp);\n    for(int i=1;i<=N;i++) \n    {\n        dis[i]=e[i].d; price[i]=e[i].p;\n        if(dis[i]-dis[i-1]>G) { printf(\"-1\"); return 0; }\n    }\n    if(dis[1]>B || D-dis[N]>G) { printf(\"-1\"); return 0; }\n    price[50003]=2e9;\n    int now=0,to;\n    to=findmin(now,B);\n    if(now>N) { printf(\"0\"); return 0; }\n    now=to;\n    int nowB=B-dis[to];\n    LL ans=0;\n    if(dis[N]==D) price[N]=0;\n    else\n    {\n        N++; dis[N]=D; price[N]=0;\n    }\n    while(now<N)\n    {\n        to=findmin(now,G);\n        if(price[to]>price[now]) \n        {\n            ans+=1ll*(G-nowB)*price[now];\n            nowB=G-dis[to]+dis[now];\n        }\n        else\n        {\n            ans+=1ll*(dis[to]-dis[now]-nowB)*price[now];\n            nowB=0;\n        }\n        now=to;\n    }\n    printf(\"%lld\",ans);\n}\n```",
        "postTime": 1506857253,
        "uid": 21351,
        "name": "xuxinyu",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2209 \u3010[USACO13OPEN]\u71c3\u6cb9\u7ecf\u6d4e\u6027Fuel Economy\u3011"
    },
    {
        "content": "## \u9898\u610f\n\u6709\u4e00\u6761\u76f4\u7ebf\u516c\u8def\uff0c\u7ed9\u5b9a\u6c7d\u8f66\u7684\u6cb9\u7bb1\u5bb9\u91cf\u3001\u521d\u59cb\u6cb9\u91cf\u548c $N$ \u4e2a\u52a0\u6cb9\u7ad9\u7684\u4f4d\u7f6e\u4e0e\u5355\u4ef7\uff0c\u6c42\u5230\u8fbe\u7ec8\u70b9\u7684\u6700\u5c11\u8d39\u7528\u3002\n\n## \u601d\u8def\n\u7531\u4e8e\u79fb\u52a8\u662f\u8fde\u7eed\u7684\uff0c\u6240\u4ee5\u4e0d\u59a8\u5148\u5c06\u52a0\u6cb9\u7ad9\u6309\u7167\u4f4d\u7f6e\u8fdb\u884c\u6392\u5e8f\uff0c\u8fd9\u6837\u66f4\u52a0\u4fbf\u4e8e\u5904\u7406\u3002\n\n\u4ece\u8d77\u70b9\u5230\u8fbe\u7ec8\u70b9\u53ef\u80fd\u4f1a\u9700\u8981\u591a\u6b21\u52a0\u6cb9\uff0c\u6240\u4ee5\u95ee\u9898\u7684\u5173\u952e\u5c31\u5728\u4e8e\u8981\u6c42\u51fa\u5230\u8fbe\u6bcf\u4e2a\u52a0\u6cb9\u7ad9\u65f6\u9700\u8981\u52a0\u591a\u5c11\u6cb9\u3002\u663e\u7136\uff0c\u5e94\u8be5\u5728\u5c3d\u53ef\u80fd\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9\u52a0\u6cb9\uff0c\u57fa\u4e8e\u8fd9\u4e2a\u60f3\u6cd5\uff0c\u4e0d\u96be\u5f97\u5230\u4e00\u4e2a\u8d2a\u5fc3\u7b56\u7565\uff1a\n\n\u5bf9\u4e8e\u5f53\u524d\u5230\u8fbe\u7684\u52a0\u6cb9\u7ad9\uff0c\u8981\u5224\u65ad\u662f\u5426\u52a0\u6cb9\uff0c\u4e3b\u8981\u53d6\u51b3\u4e8e\u4e4b\u540e\u66f4\u4fbf\u5b9c\u7684\u6700\u8fd1\u52a0\u6cb9\u7ad9 $j$ \u7684\u4f4d\u7f6e\uff1a\n1. \u5982\u679c\u6cb9\u7bb1\u7684\u5bb9\u91cf\u8db3\u591f\u4ece $i$ \u5230 $j$\uff0c\u90a3\u5c31\u53ea\u9700\u8981\u786e\u4fdd\u6cb9\u8db3\u591f\u5230\u8fbe $j$ \u5373\u53ef\uff0c\u56e0\u4e3a $j$ \u4e0d\u4ec5\u66f4\u9760\u540e\uff0c\u4ef7\u683c\u8fd8\u66f4\u4f4e\uff0c\u6ca1\u6709\u5728 $i$ \u52a0\u66f4\u591a\u6cb9\u7684\u5fc5\u8981\u3002\u6240\u4ee5\u6211\u4eec\u52a0\u5230\u6cb9\u8db3\u591f\uff0c\u7136\u540e\u76f4\u63a5\u5230 $j$\u3002\n2. \u5982\u679c\u6cb9\u7bb1\u7684\u5bb9\u91cf\u4e0d\u8db3\u4ee5\u4ece $i$ \u5230 $j$\uff0c\u8bf4\u660e\u8def\u9014\u4e2d\u8fd8\u9700\u8981\u52a0\u6cb9\uff0c\u4e14\u4ef7\u683c\u8fd8\u8981\u66f4\u8d35\uff0c\u6240\u4ee5\u80af\u5b9a\u8981\u5728\u5f53\u524d\u7ad9\u628a\u6cb9\u52a0\u6ee1\uff0c\u79fb\u52a8\u5230 $i + 1$ \u518d\u8bf4\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u6309\u987a\u5e8f\u6765\u8003\u8651\u6bcf\u4e2a\u52a0\u6cb9\u7ad9\uff0c\u5e76\u7528\u6808\u7ef4\u62a4\u4e00\u4e2a\u4ef7\u683c\u9012\u589e\u7684\u5e8f\u5217\uff0c\u6bcf\u6b21\u8981\u6dfb\u52a0\u4e00\u4e2a\u65b0\u52a0\u6cb9\u7ad9\u65f6\uff0c\u5c06\u6808\u5c3e\u4ef7\u683c\u4e0d\u4f4e\u4e8e\u5f53\u524d\u7684\u90fd\u9000\u6808\uff0c\u518d\u5c06\u65b0\u52a0\u6cb9\u7ad9\u52a0\u5165\uff0c\u8fd9\u4e2a\u65b0\u52a0\u6cb9\u7ad9\u5c31\u662f\u6240\u6709\u9000\u6808\u52a0\u6cb9\u7ad9\u7684\u6700\u8fd1\u66f4\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9\u3002\n\n\u7531\u4e8e\u8d77\u70b9\u4e0d\u80fd\u52a0\u6cb9\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5148\u79fb\u52a8\u5230\u7b2c\u4e00\u4e2a\u52a0\u6cb9\u7ad9\uff0c\u7136\u540e\u4ee4\u7ec8\u70b9\u5355\u4ef7\u4e3a $0$\uff0c\u5e76\u8d2a\u5fc3\u6c42\u89e3\u5373\u53ef\u3002\n\n## \u590d\u6742\u5ea6\n### \u65f6\u95f4\n* \u6392\u5e8f $\\mathcal O(N \\log N)$\n* \u8ba1\u7b97\u6bcf\u4e2a\u52a0\u6cb9\u7ad9\u6700\u8fd1\u7684\u66f4\u4fbf\u5b9c\u52a0\u6cb9\u7ad9 $\\mathcal O(N)$\n* \u8d2a\u2f3c\u79fb\u52a8 $\\mathcal O(N)$\n* \u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $\\mathcal O(N \\log N)$\n\n### \u7a7a\u95f4\n* \u8bb0\u5f55\u52a0\u6cb9\u7ad9 $\\mathcal O(N)$\n\n## \u4ee3\u7801\n```cpp\n#include <algorithm>\n#include <icecream>\n\nusing namespace std;\nusing LL = long long;\n\nconst int kMaxN = 5e4 + 2;\n\nstruct E {                                                // \u52a0\u6cb9\u7ad9\n  int x, y, p;                                            // \u4f4d\u7f6e\u3001\u4ef7\u683c\u3001\u6700\u8fd1\u7684\u66f4\u4f18\u52a0\u6cb9\u7ad9\n  bool operator<(const E &_e) const { return x < _e.x; }  // \u6309\u7167\u5750\u6807\u6392\u5e8f\n} e[kMaxN];\nint a[kMaxN], n, g, b, d, m;\n\nLL C() {                     // \u8ba1\u7b97\u7b54\u6848\n  LL r = 0;                  // \u521d\u59cb\u5316\u7b54\u6848\n  b -= e[1].x;               // \u5148\u79fb\u52a8\u5230\u7b2c1\u4e2a\u7ad9\n  for (int i = 1; i < n;) {  // \u4ece\u4f4d\u7f6e1\u5f00\u59cb\u76f4\u5230n\n    if (b < 0) {             // \u6cb9\u7bb1\u5bb9\u91cf\u4e0d\u8db3\n      return -1;             // \u65e0\u89e3\n    }\n    if (e[e[i].p].x - e[i].x <= g) {            // \u5f53\u524d\u6cb9\u7bb1\u5bb9\u91cf\u8db3\u591f\u5230\u8fbe\u66f4\u4f18\u7ad9\n      LL v = max(0, e[e[i].p].x - e[i].x - b);  // \u9700\u8981\u52a0\u7684\u6cb9\n      r += v * e[i].y;                          // \u7d2f\u52a0\u8d39\u7528\n      b += v - (e[e[i].p].x - e[i].x);          // \u6d88\u8017\u6cb9\u91cf\n      i = e[i].p;                               // \u79fb\u52a8\u5230\u66f4\u4f18\u7ad9\n    } else {                                    // \u4e0d\u8db3\u4ee5\u5230\u8fbe\u66f4\u4f18\u7ad9\n      r += 1LL * (g - b) * e[i].y;              // \u52a0\u6ee1\u6cb9\u7684\u8d39\u7528\n      b = g - (e[i + 1].x - e[i].x);            // \u79fb\u52a8\u540e\u5269\u4e0b\u7684\u6cb9\u91cf\n      i++;                                      // \u79fb\u52a8\u5230\u4e0b\u4e2a\u76f8\u90bb\u7ad9\n    }\n  }\n  return b < 0 ? -1 : r;\n}\n\nint main() {\n  cin >> n >> g >> b >> d;\n  for (int i = 1; i <= n; i++) {\n    cin >> e[i].x >> e[i].y;\n  }\n\n  sort(e + 1, e + 1 + n);\n\n  e[++n] = {d};                              // \u52a0\u5165\u7ec8\u70b9\n  for (int i = 1; i <= n; i++) {             // \u8ba1\u7b97\u6bcf\u4e2a\u7ad9\u7684\u6700\u8fd1\u66f4\u4f18\u7ad9\n    for (; m && e[i].y <= e[a[m]].y; m--) {  // \u5f53\u524d\u7ad9\u6bd4\u4e4b\u524d\u7684\u66f4\u4f18\u5219\u5220\u9664\u6808\u5c3e\n      e[a[m]].p = i;                         // \u8bb0\u5f55\n    }\n    a[++m] = i;  // \u52a0\u5165\u5f53\u524d\u7ad9\n  }\n  cout << C();\n  return 0;\n}\n```",
        "postTime": 1657629790,
        "uid": 413140,
        "name": "\u7ea2\u9ed1\u6811",
        "ccfLevel": 5,
        "title": "P2209 \u9898\u89e3"
    },
    {
        "content": "### \u601d\u8def\n\u8d2a\u5fc3\u53cd\u6094\u3002\n\n#### \uff08\u4e00\uff09\u5224\u65ad\u65e0\u89e3\u60c5\u51b5\n\n\u65e0\u89e3\u60c5\u51b5\u6709 $3$ \u79cd\uff1a\n1. $B$ \u5355\u4f4d\u7684\u6cb9\u5230\u4e0d\u4e86\u7b2c\u4e00\u4e2a\u52a0\u6cb9\u7ad9\uff1b\n2. \u5728\u7b2c $i$ \u4e2a\u52a0\u6cb9\u7ad9\u52a0\u6ee1\u6cb9\u5230\u4e0d\u4e86\u7b2c $i+1$ \u4e2a\u52a0\u6cb9\u7ad9 $(1\\le i< N)$\uff1b\n3. \u5728\u7b2c $N$ \u4e2a\u52a0\u6cb9\u7ad9\u52a0\u6ee1\u6cb9\u5230\u4e0d\u4e86\u7ec8\u70b9\u3002\n\n\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u628a\u7ec8\u70b9\u4e5f\u7406\u89e3\u6210\u4e00\u4e2a\u52a0\u6cb9\u7ad9\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u628a $2$\uff0c$3$ \u4e24\u79cd\u60c5\u51b5\u5408\u5e76\u4e86\u3002\n\n#### \uff08\u4e8c\uff09\u600e\u6837\u8d2a\u5fc3\uff0c\u600e\u6837\u53cd\u6094\n\u5bf9\u4e8e\u7b2c $i$ \u4e2a\u52a0\u6cb9\u7ad9\uff0c\u4e3a\u4e86\u5230\u8fbe\u7b2c $i+1$ \u4e2a\u52a0\u6cb9\u7ad9\uff08\u6216\u7ec8\u70b9\uff09\uff0c\u6211\u4eec\u90fd\u8981\u5148\u52a0\u6ee1\u6cb9\uff08**\u8d2a\u5fc3**\uff09\u3002\n\n\u5982\u679c\u53d1\u73b0\u7b2c $i+1$ \u4e2a\u52a0\u6cb9\u7ad9\u7684\u6cb9\u6bd4\u7b2c $i$ \u4e2a\u52a0\u6cb9\u7ad9\u7684\u6cb9\u4fbf\u5b9c\uff0c\u90a3\u4e48\u5c31\u628a\u5728\u7b2c $i$ \u4e2a\u52a0\u6cb9\u7ad9\u4e70\u7684\u591a\u4f59\u7684\u6cb9\uff0c\u5373\u4ece\u7b2c $i$ \u4e2a\u8d70\u5230\u7b2c $i+1$ \u4e2a\u4e0d\u9700\u8981\u7684\u6cb9\uff0c\u5168\u90e8\u9000\u6389\uff08**\u53cd\u6094**\uff09\u3002\n\n\u8fd8\u6709\u4e00\u4e2a\u7591\u70b9\uff1a\u6211\u4eec\u5728\u4e24\u4e2a\u52a0\u6cb9\u7ad9\u4e4b\u95f4\u8d70\u7684\u65f6\u5019\uff0c\u5e94\u8be5\u7528\u90a3\u4e9b\u6cb9\u5462\uff1f\n\u663e\u7136\uff0c\u4fbf\u5b9c\u7684\u6cb9\u4f18\u5148\u7528\uff0c\u56e0\u4e3a\u8d8a\u8d35\u7684\u6cb9\u8d8a\u5bb9\u6613\u9000\u6389\uff0c\u800c\u9000\u6389\u7684\u6cb9\u8d8a\u591a\u6211\u4eec\u7684\u82b1\u8d39\u5c31\u8d8a\u5c0f\uff08**\u8d2a\u5fc3**\uff09\u3002\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u5c31\u9700\u8981\u4e00\u4e2a\u5b58\u6cb9\u7684\u6570\u636e\u7ed3\u6784\uff0c\u9700\u8981\u652f\u6301\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n1. \u53d6\u51fa\u6700\u4fbf\u5b9c\u7684\u6cb9\n2. \u52a0\u4e00\u79cd\u6cb9\n3. \u53d6\u51fa\u6700\u8d35\u7684\u6cb9\n\n\u6211\u4eec\u53d1\u73b0\uff0c**\u5355\u8c03\u961f\u5217**\u53ef\u4ee5\u80dc\u4efb\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\uff1a$O(N)$\uff0c\u7531\u4e8e\u4f7f\u7528\u5355\u8c03\u961f\u5217\uff0c\u6240\u4ee5\u4e25\u683c\u7ebf\u6027\u3002\n\n\u671f\u671b\u5f97\u5206\uff1a$100pts$\u3002\n\n---\n### Tips:\n\u522b\u5fd8\u4e86\u5f00 long long\u3002\n\n\n---\n### \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\n\nconst int MAXN = 5e4 + 5;\nint N, G, B, D;\nstruct node {//\u52a0\u6cb9\u7ad9\u7ed3\u6784\u4f53\n\tint x, y;\n\tnode(int x = 0, int y = 0): x(x), y(y){}\n\tbool operator < (const node& n1) const {\n\t\treturn x < n1.x;\n\t}\n} n[MAXN];\n\nstruct gas {//\u6cb9\u7ed3\u6784\u4f53\n\tint p, m;\n\tgas(int p = 0, int m = 0): p(p), m(m){}\n};\n\ngas q[MAXN];//\u5b58\u6cb9\u7684\u5355\u8c03\u961f\u5217\nint l = 0, r = -1;\n\nll work(int len) {//\u8d70len\u4e2a\u5355\u4f4d\u8ddd\u79bb\n\tll ans = 0;\n\twhile(len > 0) {\n\t\tif(q[l].m > len) {//\u4e0d\u7528\u5149\u6700\u4fbf\u5b9c\u7684\u6cb9\u5c31\u53ef\u4ee5\u8d70\u5b8clen\n\t\t\tans += len * 1ll * q[l].p;\n\t\t\tq[l].m -= len;\n\t\t\tlen = 0;\n\t\t}\n\t\t\n\t\telse {//\u9700\u8981\u7528\u5149\u6700\u4fbf\u5b9c\u7684\u6cb9\n\t\t\tans += q[l].m * 1ll * q[l].p;\n\t\t\tlen -= q[l].m;\n\t\t\t++l;\n\t\t}\n\t}\n\treturn ans;\n}\n\nint main() {\n\tcin >> N >> G >> B >> D;\n\tfor(int i = 1; i <= N; i++) {\n\t\tcin >> n[i].x >> n[i].y;\n\t}\n\tn[++N] = node(D, 0);//\u628a\u7ec8\u70b9\u4e5f\u7406\u89e3\u6210\u52a0\u6cb9\u7ad9\uff0c\u6cb9\u4ef7\u683c\u4e3a0\n\tsort(n + 1, n + 1 + N);\n\tfor(int i = 1; i <= N; i++) {//\u5224\u65ad\u65e0\u89e3\n\t\tif(i == 1 && n[i].x >= B || i > 1 && n[i].x - n[i - 1].x > G) {\n\t\t\tcout << -1 << endl; return 0;\n\t\t}\n\t}\n\t\n\tq[++r] = gas(0, B);\n\tll ans = 0;\n\tint M = B;//M\u662f\u73b0\u5728\u90ae\u7bb1\u91cc\u6cb9\u7684\u603b\u91cf\n\tfor(int i = 1; i <= N; i++) {\n\t\tans += work(n[i].x - n[i - 1].x);//\u4ece\u7b2ci-1\u4e2a\u52a0\u6cb9\u7ad9\u8d70\u5230\u7b2ci\u4e2a\u52a0\u6cb9\u7ad9\n\t\tM -= n[i].x - n[i - 1].x;\n\t\t\n\t\tif(i == N) {\n\t\t\tcout << ans << endl; return 0;\n\t\t}\n\t\t\n\t\twhile(l <= r && q[r].p > n[i].y) {//\u53cd\u6094\uff0c\u9000\u6389\u6bd4\u8f83\u8d35\u7684\u6cb9\n\t\t\tM -= q[r].m;\n\t\t\t--r;\n\t\t}\n\t\t\n\t\tq[++r] = gas(n[i].y, G - M);//\u52a0\u6cb9\n\t\tM = G;//\u52a0\u6ee1\u4e86\n\t}\n\t\n\treturn 0;\n}\n```\n[AC\u8bb0\u5f55](https://www.luogu.com.cn/record/45743815)\n\n---\n$\\large\\text{THE END}$",
        "postTime": 1611975538,
        "uid": 227623,
        "name": "John_yangliwu",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2209 \u3010[USACO13OPEN]Fuel Economy S\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u95ee\u9898\u76f4\u63a5\u8d2a\u5fc3\u6ca1\u6709\u4efb\u4f55\u601d\u8def\uff0c\u6240\u4ee5\u53ef\u4ee5\u60f3\u5230\u9700\u8981\u5f15\u5165\u4e00\u4e2a\u53cd\u6094\u7684\u8fc7\u7a0b\u3002\u5728\u672c\u9898\u4e2d\uff0c\u5f15\u5165\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u662f\uff1a\u52a0\u6cb9\u6682\u4e0d\u9700\u8981\u4ed8\u94b1\uff0c\u8bb0\u5f55\u4e0b\u6765\u52a0\u7684\u6bcf\u4e00\u5355\u4f4d\u6cb9\u7684\u4ef7\u683c\uff0c\u6bcf\u6b21\u70e7\u6389\u4e00\u5355\u4f4d\u6cb9\u7684\u65f6\u5019\u518d\u652f\u4ed8\u5bf9\u5e94\u7684\u6cb9\u94b1\u3002\n\n\u90a3\u4e48\u73b0\u5728\u6709\u4e00\u4e2a\u975e\u5e38\u76f4\u89c2\u7684\u7b56\u7565\uff1a\u7531\u4e8e\u52a0\u6cb9\u4e0d\u7528\u4e0d\u9700\u4ed8\u94b1\uff0c\u6240\u4ee5\u4e0d\u59a8\u76f4\u63a5\u5230\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u90fd\u52a0\u6ee1\uff0c\u7136\u540e\u6bcf\u4e00\u5355\u4f4d\u884c\u7a0b\u90fd\u70e7\u6700\u4fbf\u5b9c\u7684\u4e00\u5355\u4f4d\u6cb9\u3002\u6700\u540e\u6ca1\u6709\u70e7\u7684\u6cb9\u76f8\u5f53\u4e8e\u539f\u6837\u9000\u8fd8\u7ed9\u52a0\u6cb9\u7ad9\u3002\u5199\u4e00\u904d\u53d1\u73b0\u6837\u4f8b 1 \u8f93\u51fa $333$\u3002\n\n\u8fd9\u662f\u56e0\u4e3a\u8fd8\u5b58\u5728\u4e00\u79cd\u6ca1\u6709\u8003\u8651\u5230\u7684\u60c5\u51b5\uff1a\u6709\u53ef\u80fd\u67d0\u4e00\u52a0\u6cb9\u7ad9\u4ef7\u683c\u8f83\u9ad8\uff0c\u800c\u79bb\u5b83\u5f88\u8fd1\u7684\u540e\u9762\u7684\u4e00\u4e2a\u52a0\u6cb9\u7ad9\u4ef7\u683c\u8f83\u4f4e\uff0c\u7136\u540e\u518d\u8dd1\u5f88\u8fdc\u624d\u80fd\u5230\u4e0b\u4e00\u4e2a\u52a0\u6cb9\u7ad9\u3002\u6b64\u65f6\uff0c\u5728\u8fd9\u4e00\u52a0\u6cb9\u7ad9\u52a0\u6ee1\u5b9e\u9645\u4e0a\u6d6a\u8d39\u4e86\u5bb9\u91cf\uff0c\u4e0d\u5982\u53ea\u52a0\u5230\u53ef\u4ee5\u8dd1\u5230\u4e0b\u4e00\u4e2a\u52a0\u6cb9\u7ad9\uff0c\u7136\u540e\u518d\u52a0\u6ee1\u3002\n\n\u8003\u8651\u5230\u539f\u7b97\u6cd5\u672c\u8d28\u4e0a\u53ea\u5728\u6700\u540e\u5230\u7ec8\u70b9\u7684\u65f6\u5019\u8fdb\u884c\u4e86\u53cd\u6094\u7684\u64cd\u4f5c\uff0c\u4e2d\u9014\u90fd\u6ca1\u6709\u628a\u52a0\u8fc7\u7684\u6cb9\u9000\u8fd8\uff1b\u4e0d\u59a8\u5728\u4e2d\u9014\u5f15\u5165\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u5373\u5bf9\u4e8e\u6cb9\u7bb1\u4e2d\u9ad8\u4e8e\u5f53\u524d\u6cb9\u4ef7\u7684\u6cb9\u5168\u90e8\u9000\u6389\uff0c\u4ee5\u8fd9\u4e00\u52a0\u6cb9\u7ad9\u7684\u6cb9\u8fdb\u884c\u66ff\u4ee3\u3002\n\n\u8fd9\u6837\u5f88\u660e\u663e\u662f\u6b63\u786e\u7684\uff0c\u56e0\u4e3a\u4e00\u76f4\u6ca1\u7528\u8fc7\u7684\u6cb9\u4e0d\u52a0\u4e5f\u4e0d\u4f1a\u6709\u4efb\u4f55\u5f71\u54cd\u3002\n\n\u540c\u65f6\u7531\u4e8e\u52a0\u5165\u7684\u4e00\u5b9a\u662f\u6cb9\u7bb1\u4e2d\u7684\u6700\u5927\u503c\uff0c\u5220\u9664\u7684\u4e00\u5b9a\u662f\u6cb9\u7bb1\u4e2d\u6700\u5927\u503c\u6216\u6700\u5c0f\u503c\uff0c\u6240\u4ee5\u5f00\u4e00\u4e2a\u53cc\u7aef\u961f\u5217\u6765\u7ef4\u62a4\uff0c\u7ed3\u5408\u57fa\u6570\u6392\u5e8f\u5c31\u53ef\u4ee5\u505a\u5230\u4e25\u683c $O(n)$ \u4e86\u3002\n\n\u4ee5\u4e0b\u662f\u4ee3\u7801\uff0c\u7b14\u8005\u61d2\u4e86\u5e76\u6ca1\u6709\u5199\u57fa\u6570\u6392\u5e8f\uff0c\u6240\u4ee5\u4ecd\u7136\u662f $O(n\\log n)$ \u7684\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\n#define getchar() (p1==p2&&(p2=(p1=buf)+fread(buf,1,1<<21,stdin),p1==p2)?EOF:*p1++)\nchar buf[(1<<21)+5], *p1 = buf, *p2 = buf;\n\ninline int qread() {\n    char c = getchar();\n    int x = 0, f = 1;\n    while (c < '0' || c > '9') {\n        if (c == '-') f = -1;\n        c = getchar();\n    }\n    while (c >= '0' && c <= '9') {\n        x = x * 10 + c - '0';\n        c = getchar();\n    }\n    return x * f;\n}\n\npair <long long, long long> que[2000010];\nint n, qhd = 1000005, qtl = 1000005, g, b, d;\npair <long long, long long> a[1000005];\nlong long ans = 0;\n\ninline void Read() {\n\tn = qread(); g = qread(); b = qread(); d = qread();\n\tfor (int i = 1;i <= n;i++) {\n\t\ta[i].first = qread(); a[i].second = qread();\n\t}\n}\n\ninline bool Move(int dis) {\n\twhile (qhd != qtl && dis) {\n\t\tif (que[qhd].second <= dis) {\n\t\t\tb -= que[qhd].second;\n\t\t\tdis -= que[qhd].second; ans += que[qhd].first * que[qhd].second;\n\t\t\tqhd++;\n\t\t} else {\n\t\t\tb -= dis;\n\t\t\tque[qhd].second -= dis; ans += dis * que[qhd].first;\n\t\t\tdis = 0;\n\t\t}\n\t}\n\treturn dis == 0;\n}\n\ninline void PopGas(int cost) {\n\twhile (qhd != qtl && que[qtl - 1].first >= cost) {\n\t\tb -= que[qtl - 1].second;\n\t\tqtl--;\n\t}\n\tque[qtl++] = make_pair(cost, g - b); b = g;\n}\n\ninline void Solve() {\n\ta[++n] = make_pair(d, 0);\n\tque[qtl++] = make_pair(0, b);\n\tfor (int i = 1;i <= n;i++) {\n\t\tif (!Move(a[i].first - a[i - 1].first)) {\n\t\t\tputs(\"-1\");\n\t\t\treturn;\n\t\t}\n\t\tPopGas(a[i].second);\n\t}\n\tprintf(\"%lld\", ans);\n}\n\nint main() {\n\tRead();\n\tsort(a + 1, a + n + 1);\n\tSolve();\n\treturn 0;\n}\n```",
        "postTime": 1631019788,
        "uid": 61088,
        "name": "Solystic",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2209 \u3010[USACO13OPEN]Fuel Economy S\u3011"
    },
    {
        "content": "\u5355\u8c03\u961f\u5217\n\n\u76f4\u63a5\u8fdb\u5165\u6b63\u9898\n\n\u8003\u8651\u7206\u641c O(n ^ 2) \u663e\u7136\u4e0d\u53ef\u884c\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u8981\u6362\u6210\u8f83\u4e3a\u9ad8\u7ea7\u7684\u7b97\u6cd5\u55bd\u3002\n\n\u9996\u5148\u8bfb\u5165\uff0c\u7136\u540e\u6cb9\u5206\u5c42\uff0c\u4ee5\u4ef7\u503c\u5206\u5c42\u3002\n\n \u5230\u8fbe\u4e00\u4e2a\u52a0\u6cb9\u7ad9\u65f6(\u4e0d\u662f\u7b2c\u4e00\u4e2a\u52a0\u6cb9\u7ad9)\uff0c\u6211\u4eec\u8ba9\u80cc\u5305\u91cc\u7684\u6cb9\u662f\u6ee1\u7684\uff0c\u90a3\u4e48\u5982\u679c\u624b\u91cc\u7684\u6ee1\u6cb9\u8fd8\u662f\u8fc7\u4e0d\u53bb\uff0c\u90a3\u5c31\u600e\u4e48\u90fd\u8fc7\u4e0d\u53bb\u4e86\u3002\u53c8\u5982\u679c\u624b\u91cc\u6700\u8d35\u7684\u6cb9\u6bd4\u73b0\u52a0\u6cb9\u7ad9\u52a0\u7684\u6cb9\u8fd8\u8981\u8d35\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u8fd9\u4e48\u60f3\uff1a\u5982\u679c\u628a\u5b83\u53cd\u6094\u5356\u4e86\uff0c\u4e0d\u4f1a\u6709\u5f71\u54cd\uff0c\u56e0\u4e3a\u90a3\u90e8\u5206\u662f\u8fc7\u5269\u7684\u3002\u6d88\u8017\u65f6\u9996\u5148\u6d88\u8017\u6700\u4fbf\u5b9c\u7684\u6cb9\u3002\n\n\u5982\u679c\u53d1\u73b0\u8fc7\u4e0d\u53bb\u4e86\uff0c\u90a3\u4e48\u5c31\u8f93\u51fa\u8d1f\u4e00\n\n\u4e0a\u4ee3\u7801\n\n```\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<stack>\nusing namespace std;\nstruct gs{\n    long long dis, val;\n};\nstruct gas{\n    long long gas, val;\n};\ngs s[100005];\n\nint cmp(gs x, gs y){\n    return x.dis < y.dis;\n}\n\nint main(){\n    long long n, g, b, d;\n\tcin >> n >> g >> b >> d;//n\u4e2a\u52a0\u6cb9\u7ad9\uff0cg\u4e2a\u5355\u4f4d\u7684\u6cb9 \uff0c\u5df2\u7ecf\u6709b\u4e2a\u5355\u4f4d\u7684\u6cb9\uff0cd\u7ec8\u70b9\u7684\u8ddd\u79bb \n\tfor(long long i = 1; i <= n; i++){//\u8bfb\u5165 \n        cin >> s[i].dis >> s[i].val;//\u8bfb\u5165 \n\t}\n\tsort(s + 1, s + n + 1, cmp);//\u6392\u5e8f \n\tdeque<gas> q;//\u5355\u8c03\u961f\u5217 \n\tlong long k = 1;//\u5faa\u73af\u53d8\u91cf \n\tlong long gas_val = 0;//\u94b1 \n\tgas st; \n\tst.gas = b;//\u7b2c\u4e00\u6b21\u7684\u514d\u8d39\u6cb9 \n\tst.val = 0;//\u7b2c\u4e00\u6b21\u7684\u514d\u8d39 \n\tq.push_back(st);//\u8bfb\u5165 \n\twhile(k <= n){// \n\t\tlong long z;\n\t\tif(k == 1){\n\t        z = b;//\u7b2c\u4e00\u6b21\u7528\u7ed9\u7684\u6cb9 \n\t    } else {\n\t        z = g;//\u4e4b\u540e\u90fd\u7528\u6ee1\u7684\u6cb9\n\t\t}\n\t    long long l = s[k].dis - s[k - 1].dis;//\u8ddd\u79bb\u4e0a\u6b21\u7684\u8ddd\u79bb\n\t//\tcout << z << \"/\" << l << endl; \n\t    while(!q.empty() && l > 0){//\u5982\u679c l \u5c31\u662f\u8ddd\u79bb\u8fd8\u6ca1\u8dd1\u5b8c\u5c31\u7ee7\u7eed\uff0c\u5982\u679c\u90fd\u6ca1\u6cb9\u4e86\u5c31\u7ed3\u675f\u7b49\u4f1a-1 \n\t        if(l >= q.front().gas){ //\u5c31\u70e7\u6389\u5168\u90e8 \n\t        \tl -= q.front().gas;//\u8ddd\u79bb\u5c11\u4e86\u4e00\u4e9b \n\t        \tz -= q.front().gas;//\u73b0\u5728\u70e7\u6389\u4e86\u4e00\u4e9b \n\t            q.pop_front();\n\t\t    } else {//\u70e7\u6389\u5f53\u524d\u6700\u4fbf\u5b9c\u6cb9\u7684\u4e00\u90e8\u5206 \n\t\t        q.front().gas -= l;//\u90a3\u4e00\u5c42\u6cb9\u51cf\u5c11\u4e86 \n\t\t        z -= l;// \u70e7\u6389\u4e00\u90e8\u5206\n\t\t\t\tl = 0;//\u8ddd\u79bb0 \n\t\t\t}\n\t\t}\n\t\tif(l > 0){//\u5982\u679c\u6cb9\u70e7\u5b8c\u7136\u540e\u5c31\u6b7b\u4e86 \n\t\t    cout << -1;\n\t\t    return 0;\n\t\t}\n\t//\tcout << z << \" \";\n\t\twhile(!q.empty() && q.back().val > s[k].val){//\u6cb9\u6ca1\u6362\u5b8c \n\t\t    gas_val -= q.back().val * q.back().gas;//\u5f00\u652f\u51cf\u5c11 \n\t\t    z -= q.back().gas;//\u8fd9\u65f6\u5019\u7684\u6cb9\u4e5f\u51cf\u5c11 \n\t\t    q.pop_back();//\u6740\u6389\u8fd9\u4e2a\u6cb9 \n\t\t}\n\t//\tcout << z << \" \"; \n\t\tstruct gas cnt;//\u9047\u5230\u8981\u4e70\u7684 \n\t    cnt.gas = g - z;//\u4e70\u591a\u5c11\u5f53\u524d\u7684\u6cb9 \n\t    cnt.val = s[k].val; \n\t\tgas_val += cnt.gas * cnt.val;//\u6700\u540e\u7684\u603b\u5f00\u652f\u52a0\u4e0a \n\t\tq.push_back(cnt);//\u52a0\u5165\u8fd9\u79cd\u6cb9 \n\t//\tcout << gas_val << endl;//\u6d4b\u8bd5 \n\t    k++;//\u4e0b\u4e00\u4e2a\u52a0\u6cb9\u7ad9 \n\t}\n\tlong long l = d - s[n].dis;//\u6700\u540e\u8d70\u591a\u8fdc \n    while(!q.empty() && l > 0){//\u5982\u679c l \u5c31\u662f\u8ddd\u79bb\u8fd8\u6ca1\u8dd1\u5b8c\u5c31\u7ee7\u7eed\uff0c\u5982\u679c\u90fd\u6ca1\u6cb9\u4e86\u5c31\u7ed3\u675f\u7b49\u4f1a-1 \n        if(l >= q.front().gas){ //\u5c31\u70e7\u6389\u5168\u90e8 \n        \tl -= q.front().gas;\n            q.pop_front();\n\t    } else {//\u70e7\u6389\u5f53\u524d\u6700\u4fbf\u5b9c\u6cb9\u7684\u4e00\u90e8\u5206 \n\t        q.front().gas -= l;\n\t\t\tl = 0;//\u8ddd\u79bb0 \n\t        break;\n\t\t}\n\t}\n\tif(l > 0){//\u5982\u679c\u6cb9\u70e7\u5b8c\u7136\u540e\u5c31\u6b7b\u4e86 \n\t    cout << -1;\n\t    return 0;\n\t}\n//\tcout << gas_val << endl;; \n\twhile(!q.empty()){//\u53d8\u73b0 \n\t\tgas_val -= q.front().val * q.front().gas;\n\t\tq.pop_front();\n\t}\n\tcout << gas_val;\n    return 0;\n}\n\n```\n\u6ce8\u610f\u6309\u8ddd\u79bb\u6392\u5e8f\u52a0\u6cb9\u7ad9\uff0c\u4e0d\u7136\u4f1a\u6709\u5947\u5947\u602a\u602a\u7684\u4e8b\u60c5\u53d1\u751f",
        "postTime": 1605358931,
        "uid": 231591,
        "name": "FishingStar",
        "ccfLevel": 5,
        "title": "\u5355\u8c03\u961f\u5217+\u8d2a\u5fc3\u5199\u6cd5"
    },
    {
        "content": "~~\u4e00\u770b\u89c9\u5f97\u8fd9\u9898\u597d\u50cf\u53ea\u6709\u4fe9C++\uff0c\u5176\u4e2d\u4e00\u4e2a\u8fd8\u662f\u4f18\u961f\uff0c\u90a3\u6211\u5c31\u5199\u4e00\u7bc7\u6613\u61c2\u4e00\u70b9\u7684\u9898\u89e3\u5427~qvq\uff01~~\n\n\u601d\u8def\u662f**\u8d2a\u5fc3**\u6ca1\u8dd1\u4e86\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u8981\u8003\u8651\u51e0\u79cd\u60c5\u51b5\uff1a\n\n\u4e3a\u4e86\u82b1\u94b1**\u6700\u5c11**\uff0c\u6240\u4ee5\u5f53\u7136\u662f\u8981\u9009\u62e9**\u5c3d\u91cf\u4fbf\u5b9c**\u7684\u52a0\u6cb9\u7ad9\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/7efgd0vg.png)\n\n**\u4e0a\u9762\u53ea\u662f\u4e2a\u53c2\u8003\u56fe\u3002**\n\n\u5047\u5b9a\u5f53\u524d\u4f4d\u5904\u4e8e$1$\u53f7\u52a0\u6cb9\u7ad9\u3002\n\n\u8ba9\u6211\u4eec\u770b\u51e0\u79cd\u60c5\u51b5\uff1a\n\n$a>b>c$\n\n\u6b64\u65f6\u5982\u679c\u53ef\u4ee5\u8dd1\u5230$2$\u53f7\u52a0\u6cb9\u7ad9\u5c31**\u4e0d\u8981**\u5728$1\u53f7$\u52a0\u6cb9\u7ad9\u52a0\u6cb9\uff0c\u4e3a\u4ec0\u4e48\uff1f\u56e0\u4e3a\u5982\u679c\u4f60\u80fd\u8dd1\u5230$2$\u53f7\u52a0\u6cb9\u7ad9\u4f60\u5c31\u53ef\u4ee5\u52a0\u66f4\u4fbf\u5b9c\u7684\u6cb9\uff0c\u6ca1\u5fc5\u8981\u52a0$1$\u53f7\u52a0\u6cb9\u7ad9\u66f4\u8d35\u7684\u6cb9\u3002\u7531\u6b64\u53ef\u4ee5\u5f97\u5230\u4e00\u6761\u8d2a\u5fc3\u7b56\u7565\uff1a  \n#### \u5982\u679c\u6709\u4e00\u4e2a\u52a0\u6cb9\u7ad9\u6bd4\u5b83\u4e0b\u4e00\u4e2a\u52a0\u6cb9\u7ad9\u7684\u6cb9\u8d35\u4e14\u4f60\u76ee\u524d\u7684\u6cb9\u8db3\u591f\u8dd1\u5230\u4e0b\u4e00\u4e2a\u52a0\u6cb9\u7ad9\uff0c\u5219\u76f4\u63a5\u8dd1\u8fc7\u53bb\uff0c\u4e0d\u5728\u8fd9\u4e2a\u52a0\u6cb9\u7ad9\u52a0\u6cb9\u3002\n\u540c\u7406\uff0c\u770b\u53c2\u8003\u56fe\u3002\u5f53\u4f60\u8dd1\u5230$2$\u53f7\u52a0\u6cb9\u7ad9\u4e4b\u540e\u5982\u679c\u53d1\u73b0\u5269\u4e0b\u7684\u6cb9\u8db3\u4ee5\u8dd1\u5230$3$\u53f7\u52a0\u6cb9\u7ad9\uff0c\u5c31\u8dd1\u8fc7\u53bb\u3002\u5219\u8d2a\u5fc3\u7b56\u7565\u53ef\u4ee5\u7b80\u5316\u6210\u8fd9\u6837\uff1a\n\n### \u5982\u679c\u4f60\u7528\u5149\u4f60\u6240\u6709\u7684\u6cb9\u80fd\u8dd1\u5230\u4e00\u4e2a\u6bd4\u5f53\u524d\u6240\u5904\u7684\u52a0\u6cb9\u7ad9\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9\uff0c\u5c31\u8dd1\u8fc7\u53bb\u3002\n\n\u90a3\u8fd9\u4e2a\u65f6\u5019\u67d0\u4e9b\u540c\u5b66\u5c31\u95ee\u4e86\uff1a\u90a3\u5982\u679c\u6709\u4e24\u4e2a\uff0c\u4e09\u4e2a\uff0c\u751a\u81f3\u66f4\u591a\u7684\u52a0\u6cb9\u7ad9\u6ee1\u8db3\u4e0a\u9762\u4f60\u8bf4\u7684\u8fd9\u4e2a\u6761\u4ef6\u5462\uff1f\u8dd1\u54ea\u4e2a\u5462\uff1f\n\n**\u80af\u5b9a\u53bb\u6700\u4fbf\u5b9c\u7684\u90a3\u4e2a\u9e2d\uff01\u8fd9\u6837\u624d\u80fd\u82b1\u8d39\u6700\u5c11\u3002\u5982\u679c\u6709\u4e24\u4e2a\u53ca\u4ee5\u4e0a\u7684\u52a0\u6cb9\u7ad9\u90fd\u662f\u6700\u4fbf\u5b9c\u7684\uff0c\u90a3\u5c31\u65e0\u6240\u8c13\u8dd1\u5230\u54ea\u4e2a\u91cc\u9762\u53bb\u4e86\u3002\u56e0\u4e3a\u5355\u4ef7\u90fd\u662f\u6700\u4fbf\u5b9c\u7684\u3002**\n\n**Tip:\u6b64\u5904\u4e0d\u662f\u52a0\u6ee1\u6cb9\u8dd1\u8fc7\u53bb\uff0c\u800c\u662f\u4e0d\u52a0\u6cb9\u8dd1\u8fc7\u53bb\u3002**\n\n--------\n--------\n--------\n\n$a<b<c$\n\n\u6709\u4fbf\u5b9c\u7684\uff0c\u81ea\u7136\u5c31\u6709\u8d35\u7684\u561b\u3002\u8d35\u7684\u5c31\u5f88\u597d\u7406\u89e3\u4e86\u3002\n\n**\u60f3\u8c61**~~\u8111\u8865~~**\u4e00\u4e0b\uff1a**\n\n\u5047\u8bbe\u4f60\u662f\u4e2a\u7f8e\u672f\u7279\u957f\u751f\uff08\u753b\u7d20\u63cf\u8d3c\u8017\u94c5\u7b14\uff09\uff0c\u539f\u672c\u94c5\u7b14\u7684\u4ef7\u683c\u90fd\u662f1\u514310\u652f\uff0c\u800c\u4f60\u56e0\u4e3a\u67d0\u4e9b\u6e20\u9053\u5f97\u77e5\u4e86\u94c5\u7b14\u7684\u4ef7\u683c\u4f1a\u5728\u51e0\u5929\u540e\u75af\u72c2\u98d9\u5347\u3002\u90a3\u4e48\uff0c\u4f60\u662f\u4f1a\u9009\u62e9\u4e70\u56de\u5927\u677f\u5927\u677f\u7684\u94c5\u7b14\u5907\u7528\u8fd8\u662f\u7b49\u5230\u7f3a\u94c5\u7b14\u800c\u4e14\u4ef7\u683c\u9ad8\u5f88\u591a\u7684\u65f6\u5019\u518d\u53bb\u4e70\u94c5\u7b14\uff1f\u6211\u76f8\u4fe1\u5982\u679c\u6240\u6709\u4eba\u90fd\u4f1a\u9009\u62e9\u4e70\u56de\u5927\u677f\u5927\u677f\u7684\u94c5\u7b14\u5907\u7528\u3002\u518d\u770b\u56de\u8fd9\u4e2a\u9898\uff0c\u6211\u60f3\u4fe1\u4f60\u4eec\u4e00\u5b9a\u90fd\u80fd\u5f97\u5230\u4e00\u4e2a\u7b56\u7565\uff1a\n\n### \u5982\u679c\u4f60\u52a0\u6ee1\u6cb9\u4e4b\u540e\u90fd\u65e0\u6cd5\u8dd1\u5230\u4e00\u4e2a\u6bd4\u73b0\u5728\u5904\u4e8e\u7684\u52a0\u6cb9\u7ad9\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9\uff0c\u90a3\u5e72\u8106\u76f4\u63a5\u52a0\u6ee1\u6cb9\u8dd1\u5230\u6240\u6709\u80fd\u8dd1\u5230\u7684\u52a0\u6cb9\u7ad9\u4e2d\u6700\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9\u53bb\u770b\u770b\u3002\n\n**Tip:\u5728\u540c\u4e00\u4e2a\u4f4d\u7f6e\u53ef\u80fd\u51fa\u73b0\u4e24\u4e2a\u53ca\u4ee5\u4e0a\u7684\u52a0\u6cb9\u7ad9\uff0c\u8bf7\u6ce8\u610f\uff01**\n\n\u6ce8\u610f\u5224\u65ad\u7ec8\u70b9\uff01\n\nAC code\n\n```cpp\n//\u5982\u679c\u8fd8\u6709\u54ea\u8fb9\u4e0d\u660e\u767d\u7684\u53ef\u4ee5\u9009\u62e9\u628a\u6211\u7684\u6ce8\u91ca\u8f93\u51fa\u590d\u539f\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u770b\u5230\u5404\u4e2a\u53d8\u91cf\u7684\u8fd0\u884c\u72b6\u51b5\u60f9\uff01\uff08\u770b\u6211\u591a\u597dqvq\n#include<iostream>\n#include<algorithm>\n#include<stdio.h>\n#include<cstdio>\n#define dis first\n#define prc second\nusing namespace std;\n\ntypedef long long ll;\nconst int MAXN=1e6+5;\nll n,g,b,d,ans;\npair<long long,long long> a[MAXN];\n\nvoid input(void){\n\tcin>>n>>g>>b>>d;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>a[i].dis>>a[i].prc;\n\t}\n\ta[0]=make_pair(0,10000000LL);\n\ta[n+1]=make_pair(d,0LL);\n}\n\nbool dfs(ll k){\n//puts(\"-----------------------------------------------------------------\");\n\tif(a[k].dis==-1){                       //\u91cd\u590d\n\t\treturn dfs(k+1);\n\t}\n\tconst ll now=a[k].dis;\n//cout<<\"k:\"<<k<<endl;\n//cout<<\"now:\"<<now<<endl;\n//cout<<\"b:\"<<b<<endl;\n//cout<<\"ans:\"<<ans<<endl;\n\tif(k==n+1){\n\t\treturn true;\n\t}\n\tll kk=k;\n\twhile(kk<=n){                        //\u6700\u4f18\u7684\u52a0\u6cb9\u7ad9\n\t\tkk++;\n\t\tif(a[kk].dis-now>g){\n\t\t\tbreak;\n\t\t}\n\t\tif(a[kk].prc<=a[k].prc){                              //\u4e0b\u4e00\u4e2a\u6bd4\u8fd9\u4e00\u4e2a\u4fbf\u5b9c\u7684\u7684\u52a0\u6cb9\u7ad9\n\t\t\tll add=a[kk].dis-now-b;\n\t\t\tif(add<0){\n\t\t\t\tadd=0;\n\t\t\t}\n//cout<<\"\u4e0b\u4e00\u4e2a\u8f83\u4f18\u7684\u52a0\u6cb9\u7ad9\u662f\uff1a\"<<kk<<endl;\n//cout<<\"\u52a0\u7684\u6cb9\u91cf\u662f\uff1a\"<<add<<endl;\n\t\t\tans+=a[k].prc*add;\n\t\t\tb+=add;\n\t\t\tb-=a[kk].dis-now;\n\t\t\treturn dfs(kk);\n\t\t}\n\t}\n//----------------------------------------------------------------------------------------\n//cout<<\"kk:\"<<kk<<endl;\n//cout<<\"\u76ee\u6807\u52a0\u6cb9\u7ad9\u79bb\u8fd9\u91cc\u7684\u8ddd\u79bb\uff1a\"<<a[kk].dis-now<<endl;\n\tlong long MIN=2e18;\n\tlong long MIN_NUMBER;\n\tfor(int i=k+1;i<kk;i++){\n\t\tif(MIN>=a[i].prc){\n\t\t\tMIN=a[i].prc;\n\t\t\tMIN_NUMBER=i;\n\t\t}\n\t}\n//cout<<\"\u4e0b\u4e00\u4e2a\u6700\u4f18\u52a0\u6cb9\u7ad9\u662f\uff1a\"<<MIN_NUMBER<<endl;\n//cout<<\"\u9700\u8981\u52a0\u7684\u6cb9\u91cf\u662f\uff1a\"<<g-b<<endl;\n\tans+=(g-b)*a[k].prc;\n\tb=g;\n\tb-=a[MIN_NUMBER].dis-now;\n\treturn dfs(MIN_NUMBER);\n}\n\nint main(){\n\tinput();\n\tsort(a+1,a+1+n);\n\tfor(int i=0;i<n+1;i++){\n\t\tif(a[i+1].dis-a[i].dis>g){\n\t\t\tputs(\"-1\");\n\t\t\treturn 0;\n\t\t}\n\t}\n\tdfs(0);\n\tcout<<ans<<endl;\n\treturn 0;\n}\n```\n\n### \u5982\u679c\u8fd8\u662f\u6709\u4e0d\u61c2\u7684\u6b22\u8fce\u79c1\u4fe1\u63d0\u95ee\uff0c\u4f1a\u5728\u6700\u8fdf12h\u5185\u7ed9\u60a8\u7b54\u590d~qvq\n\n\n",
        "postTime": 1583762588,
        "uid": 315602,
        "name": "HyyypRtf06",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2209 \u3010[USACO13OPEN]Fuel Economy S\u3011"
    },
    {
        "content": "## P2209\n\n\u4f18\u5148\u961f\u5217~~\u88f8~~\u9898, \u5176\u5b9e\u8d2a\u4e5f\u53ef\u4ee5, \u53ea\u662f\u6709\u70b9\u9ebb\u70e6......\n\n\u6bcf\u4e00\u6b21\u76f4\u63a5\u628a\u6cb9\u52a0\u6ee1, \u4f18\u5148\u7528\u6700\u4fbf\u5b9c\u7684\u6cb9, \u4e4b\u540e\u6bcf\u6b21\u5230\u4e00\u4e2a\u7ad9\u628a\u66f4\u8d35\u7684\u6cb9\u5168\u90e8\u5356\u6389, \u6362\u6210\u8fd9\u4e2a\u7ad9\u7684.\n\n\u6700\u540e\u989d\u5916\u52a0\u4e00\u4e2a\u7ad9\u70b9\u5c31\u53ef\u4ee5\u4e86.\n\n\u63d0\u4e00\u4e0b\u4e00\u4e9b\u5c0f\u5751:\n\n1. \u8981\u5f00`long long`\n2. \u7ec8\u70b9\u4e0d\u662f$n$, \u662f$d$\n3. $b$\u662f\u5f00\u59cb\u65f6\u7684\u6cb9\u91cf\n\n\u653e\u4e00\u4e0b\u4ee3\u7801......\n\n```cpp\n#include<iostream>\n#include<queue>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nnamespace fio {\n\tstreambuf* in = cin.rdbuf();\n\tchar bb[1000000], * s = bb, * t = bb;\n#define gc() (s==t&&(t=(s=bb)+in->sgetn(bb,1000000),s==t)?EOF:*s++)\n\tinline int read() {// \u5feb\u8bfb\u80cc\u677f\u5c31\u597d\u4e86\n\t\tint x = 0;\n\t\tchar ch = gc();\n\t\twhile (ch < 48)ch = gc();\n\t\twhile (ch >= 48)x = x * 10 + ch - 48, ch = gc();\n\t\treturn x;\n\t}\n}using fio::read;\nint n, g, b, d;\ntypedef pair<int, int>mp;\nmp srt[100005];\nmp huaji[100005];\nint l, r;\nlong long price;\nint main() {\n\tn = read(), g = read(), b = read(), d = read();\n\tfor (int i = 1; i <= n; i++) {\n\t\tsrt[i].first = read();\n\t\tsrt[i].second = read();\n\t}\n   srt[n + 1] = mp(d, 0);\n\tsort(srt + 1, srt + n + 2);\n\tl = r = 1, huaji[1] = { b,0 };\n\tint oil = b;\n\tfor (int i = 1; i <= n + 1; i++) {\n\t\tint ldis = srt[i].first - srt[i - 1].first;\n\t\toil -= ldis;\n\t\tif (oil < 0)\n        cout << -1, exit(0);// \u4e0d\u80fd\u5230\u8fbe, \u76f4\u63a5\u6302\u6389\n\t\twhile (ldis) {// \u5c3d\u53ef\u80fd\u4f7f\u7528\u6700\u4fbf\u5b9c\u7684\u6cb9\n\t\t\tint minn = min(ldis, huaji[l].first);\n\t\t\tldis -= minn, huaji[l].first -= minn;\n\t\t\tif (!huaji[l].first)l++;\n\t\t}\n\t\twhile (huaji[r].second > srt[i].second && r >= l) {//\u6700\u8d35\u7684\u6cb9\u5356\u6389\n\t\t\toil -= huaji[r].first;\n\t\t\tprice -= 1ll * huaji[r].first * huaji[r].second;\n\t\t\tr--;\n\t\t}\n\t\thuaji[++r] = mp(g - oil, srt[i].second);\n\t\tprice += 1ll * (g - oil) * srt[i].second;\n\t\toil = g;//\u704c\u6ee1\u6cb9\n\t}\n\tcout << price;//\u6700\u540e\u52a0\u4e86\u4e00\u4e2a\u8282\u70b9\u4f1a\u76f4\u63a5\u5356\u5149\u4e0d\u7528\u7279\u5224\n}\n```\n",
        "postTime": 1563693195,
        "uid": 38485,
        "name": "Erina",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2209 \u3010[USACO13OPEN]\u71c3\u6cb9\u7ecf\u6d4e\u6027Fuel Economy\u3011"
    },
    {
        "content": "\u76f8\u4fe1\u5927\u5bb6\u770b\u5230\u8fd9\u91cc\u7684\u65f6\u5019\u5df2\u7ecf\u719f\u8bfb\u9898\u610f\n\n\u6211\u4eec\u53ef\u4ee5\u5148\u603b\u7ed3\u51fa\u6765\u4e09\u4e2a\u4e0d\u53ef\u80fd\u5230\u8fbe\u7684\u60c5\u51b5:\n\n$1.$\u4ece\u8d77\u70b9\u5230\u7b2c\u4e00\u4e2a\u52a0\u6cb9\u7ad9\u7684\u8ddd\u79bb\u7528\u521d\u59cb\u6cb9\u7bb1\u4e0d\u80fd\u5230\u8fbe\n\n$2.$\u4e2d\u95f4\u7684\u4e24\u4e2a\u52a0\u6cb9\u7ad9\u4e4b\u95f4\u7684\u8ddd\u79bb\u4e4b\u5dee\u5927\u4e8e\u6cb9\u7bb1\u7684\u603b\u5bb9\u91cf\n\n$3.$\u6700\u540e\u4e00\u4e2a\u52a0\u6cb9\u7ad9\u5230\u7ec8\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u4e4b\u5dee\u5927\u4e8e\u6cb9\u7bb1\u7684\u603b\u5bb9\u79ef\n\n\u6613\u77e5\uff0c\u53ea\u8981\u4e0d\u6ee1\u8db3\u4e0a\u9762\u7684\u4e09\u79cd\u60c5\u51b5\uff0c\u5176\u5b83\u60c5\u51b5\u90fd\u53ef\u4ee5\u5230\u8fbe\u7ec8\u70b9\n\n\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u53ea\u8981\u8003\u8651\u5982\u4f55\u4f18\u5316\u6700\u5927\u503c\n\n\u5047\u8bbe\u6211\u4eec\u5f53\u524d\u5df2\u7ecf\u6765\u5230\u4e86\u52a0\u6cb9\u7ad9$i$\uff0c\u5f53\u524d\u7684\u8ddd\u79bb\u4e3a$v$\n\n\u6211\u4eec\u53ef\u4ee5\u5206\u4e24\u79cd\u60c5\u51b5\u8fdb\u884c\u8ba8\u8bba\n\n$1.$\u5728\u63a5\u4e0b\u6765\u7684$i+v$\u7684\u8ddd\u79bb\u91cc\u9762\u5f53\u524d\u8282\u70b9\u7684\u4ef7\u683c\u662f\u6700\u5c11\u7684\u4e00\u4e2a\n\n\u6211\u4eec\u53ef\u4ee5\u5728\u5f53\u524d\u8282\u70b9\u76f4\u63a5\u52a0\u6ee1\uff0c\u7136\u540e\u53ef\u4ee5\u76f4\u63a5\u52a0\u6ee1\u6cb9\u7ee7\u7eed\u679a\u4e3e\n\n$2.$\u5728\u63a5\u4e0b\u6765\u7684$i+v$\u7684\u8ddd\u79bb\u91cc\u9762\u5f53\u524d\u8282\u70b9\u7684\u4ef7\u683c\u4e0d\u662f\u6700\u5c11\u7684\u4e00\u4e2a\n\n\u6211\u4eec\u53ef\u4ee5\u5728\u5f53\u524d\u8282\u70b9\u52a0\u6cb9\u52a0\u5230\u521a\u521a\u597d\u53ef\u4ee5\u5230\u8fbe\u6700\u5c0f\u503c\u7684\u90a3\u4e2a\u70b9\uff0c\u5728\u6700\u5c0f\u503c\u7684\u90a3\u4e2a\u70b9\n\u52a0\u6ee1\u6cb9\u5373\u53ef\n\n\u6700\u540e\u76f4\u63a5\u8f93\u51fa\u7b54\u6848\u5373\u53ef\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\ninline int read()\n{\n\tint x=0;\n\tbool f=0;\n\tchar c=getchar();\n\twhile (!isdigit(c))\n\t\t  f|=(c=='-'),c=getchar();\n\twhile (isdigit(c))\n\t\t  x=(x<<3)+(x<<1)+(c^48),c=getchar();\n\treturn f?-x:x;\n}\nvoid write(int x) {\n    if(x<0) {\n        putchar('-');\n        x=-x;\n    }\n    if(x>9) write(x/10);\n    putchar(x%10+'0');\n}\nstruct node{\n\tint x,y;\n}e[50010];\nint n,g,b,d;\nint dis[50010];\nint pr[50010];\ninline bool cmp(node a,node b){\n\treturn a.x<b.x;\n}\ninline int findmin(int s,int sum){\n\tint now;\n\tint tto;\n\tnow=s+1;\n\ttto=50005;\n\twhile(now<=n)\n\t\t{\n\t\t\tif(dis[now]-dis[s]>sum)\n\t\t\t\treturn tto;\n\t\t\tif(pr[now]<pr[s])\n\t\t\t\treturn now;\n\t\t\tif(pr[now]<pr[tto])\n\t\t\t\ttto=now;\n\t\t\t++now;\n\t\t}\n}\ninline void init(){\n\tsort(e+1,e+n+1,cmp);\n\tfor(register int i=1;i<=n;++i)\n\t\t{\n\t\t\tdis[i]=e[i].x;\n\t\t\tpr[i]=e[i].y;\n\t\t\tif(dis[i]-dis[i-1]>g)\n\t\t\t\t{\n\t\t\t\t\twrite(-1);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t}\n\tif(dis[1]>b)\n\t\t{\n\t\t\twrite(-1);\n\t\t\treturn;\n\t\t}\n\tif(d-dis[n]>g)\n\t\t{\n\t\t\twrite(-1);\n\t\t\treturn;\n\t\t}\n\tpr[50005]=2e9;\n\tint now=0;\n\tint to;\n\tto=findmin(now,b);\n\tif(now>n)\n\t\t{\n\t\t\twrite(0);\n\t\t\treturn;\n\t\t}\n\tnow=to;\n\tint noww;\n\tnoww=b-dis[to];\n\tint ans=0;\n\tif(dis[n]==d)\n\t\tpr[n]=0;\n\telse\n\t\t{\n\t\t\t++n;\n\t\t\tdis[n]=d;\n\t\t\tpr[n]=0;\n\t\t}\n\twhile(now<n)\n\t\t{\n\t\t\tto=findmin(now,g);\n\t\t\tif(pr[to]>pr[now])\n\t\t\t\t{\n\t\t\t\t\tans+=(g-noww)*pr[now];\n\t\t\t\t\tnoww=g-dis[to]+dis[now];\n\t\t\t\t}\n\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tans+=(dis[to]-dis[now]-noww)*pr[now];\n\t\t\t\t\tnoww=0;\n\t\t\t\t}\n\t\t\tnow=to;\n\t\t}\n\twrite(ans);\n\treturn;\n}\nsigned main(){\n\tn=read();\n\tg=read();\n\tb=read();\n\td=read();\n\tfor(register int i=1;i<=n;++i)\n\t\t{\n\t\t\te[i].x=read();\n\t\t\te[i].y=read();\n\t\t}\n\tinit();\n\treturn 0;\n}\n```\n",
        "postTime": 1611666341,
        "uid": 193541,
        "name": "\u7f9a\u7f8aWANG",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2209 \u3010[USACO13OPEN]Fuel Economy S\u3011"
    },
    {
        "content": "\u8d2a\u5fc3\n\u5927\u81f4\u601d\u8def\u697c\u4e0a\u6709\u8bb2\n\n\u4e0d\u591a\u8bf4\u5148\u4e0a\u4ee3\u7801\n\n```pascal\nvar\nn,g,t,d,c,sum,k:int64;\nm,mi,i,j:longint;\na,b:array[1..100000]of int64;\nprocedure kp(l,r:longint);\nvar i,j,t,mid:longint;\nbegin\n  i:=l;\n  j:=r;\n  mid:=a[(l+r) div 2];\n  repeat\n    while a[i]<mid do inc(i);\n    while a[j]>mid do dec(j);\n    if i<=j then\n    begin\n      t:=a[i]; a[i]:=a[j]; a[j]:=t;\n      t:=b[i]; b[i]:=b[j]; b[j]:=t;\n      inc(i);\n      dec(j);\n    end;\n  until i>j;\n  if i<r then kp(i,r);\n  if l<j then kp(l,j);\nend;//\u6309\u8ddd\u79bb\u5feb\u6392\nbegin\nreadln(n,g,t,d);\nfor i:=1 to n do readln(a[i],b[i]);\nkp(1,n);\ni:=1;\na[n+1]:=d;\nm:=100000;\nmi:=m;\na[m]:=maxlongint;\nb[m]:=maxlongint;\nwhile a[i]<=t do\nbegin\n  if b[i]<b[m] then m:=i;\n  inc(i);\nend;//\u5728\u80fd\u5230\u8fbe\u7684\u60c5\u51b5\u4e0b\u627e\u6700\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9\nif m=mi then\nbegin\n  writeln(-1);\n  close(input);\n  close(output);\n  halt;\nend;//\u7b2c\u4e00\u4e2a\u90fd\u4e0d\u80fd\u5230\u8fbe\u7684\u8bdd\u76f4\u63a5\u8f93\u51fa-1\ni:=m;\nk:=t-a[i];\nwhile i<=n do\nbegin\n  m:=mi;\n  j:=i+1;\n  c:=0;\n  while a[j]<a[i]+g do\n  begin\n    if b[j]<b[m] then m:=j;//\u8fd8\u662f\u5728\u80fd\u5230\u8fbe\u7684\u60c5\u51b5\u4e0b\u627e\u6700\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9\n    if b[j]<b[i] then\n    begin\n      sum:=sum+(a[j]-a[i]-k)*b[i];\n      c:=1;\n      k:=0;\n      break;\n    end;//\u5982\u679c\u540e\u9762\u6700\u4fbf\u5b9c\u7684\u52a0\u6cb9\u7ad9\u6bd4\u5f53\u524d\u7684\u4fbf\u5b9c\uff0c\u90a3\u4e48\u53ea\u8981\u52a0\u6ee1\u8db3\u591f\u5230\u8fbe\u90a3\u4e2a\u52a0\u6cb9\u7ad9\u7684\u6cb9\n    inc(j);\n  end;\n  if m=mi then\n  begin\n    writeln(-1);\n    close(input);\n    close(output);\n    halt;\n  end;//\u4e0d\u80fd\u5230\u8fbe\u8f93\u51fa-1\n  if c=0 then\n  begin\n    sum:=sum+(g-k)*b[i];\n    k:=g-(a[m]-a[i]);\n  end;//\u5982\u679c\u80fd\u5230\u8fbe\u7684\u6700\u4fbf\u5b9c\u52a0\u6cb9\u7ad9\u8fd8\u4e0d\u5982\u5f53\u524d\u7684\u4fbf\u5b9c\uff0c\u90a3\u4e48\u5c31\u5728\u5f53\u524d\u52a0\u6cb9\u7ad9\u52a0\u6ee1\u6cb9\n  i:=m;\nend;\nwriteln(sum);\nend.\n```\n\u849f\u84bb\u7b2c\u4e00\u6b21\u53d1\u9898\u89e3\u6709\u9519\u8bef\u6b22\u8fce\u6307\u51faQWQ\n",
        "postTime": 1494070193,
        "uid": 21567,
        "name": "Lokawa",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2209 \u3010[USACO13OPEN]\u71c3\u6cb9\u7ecf\u6d4e\u6027Fuel Economy\u3011"
    },
    {
        "content": "\u672c\u9898\u4e3a\u8d2a\u5fc3\n\n\u5927\u81f4\u601d\u60f3\uff1a\u5f53\u8be5\u70b9\u4ef7\u683c\u8f83\u8d35\uff0c\u4f60\u53ea\u9700\u8981\u52a0\u80fd\u5230\u4e0b\u4e2a\u70b9\u7684\u6cb9\uff0c\u5426\u5219\u4f60\u9700\u8981\u52a0\u80fd\u5230\u4f60\u80fd\u529b\u8303\u56f4\u5185\u6700\u4fbf\u5b9c\u7684\u70b9\u7684\u6cb9\u3002\n\n```cpp\nvar\nn,g,t,d,c,sum,k:int64;\nm,m1,i,j:longint;\na,b:array[1..100000]of int64;\nprocedure kp(l,r:longint);\nvar i,j,t,m1d:longint;\nbegin\ni:=l;\nj:=r;\nm1d:=a[(l+r) div 2];\nrepeat\nwhile a[i]<m1d do inc(i);\nwhile a[j]>m1d do dec(j);\nif i<=j then\nbegin\nt:=a[i]; a[i]:=a[j]; a[j]:=t;\nt:=b[i]; b[i]:=b[j]; b[j]:=t;\ninc(i);\ndec(j);\nend;\nuntil i>j;\nif i<r then kp(i,r);\nif l<j then kp(l,j);\nend;\nbegin\nassign(input,'fuel.in');\nassign(output,'fuel.out');\nreset(input);\nrewrite(output);\nreadln(n,g,t,d);\nfor i:=1 to n do readln(a[i],b[i]);\nkp(1,n);\ni:=1;\na[n+1]:=d;\nm:=100000;\nm1:=m;\na[m]:=maxlongint;\nb[m]:=maxlongint;\nwhile a[i]<=t do\nbegin\nif b[i]<b[m] then m:=i;\ninc(i);\nend;\nif m=m1 then\nbegin\nwriteln(-1);\nclose(input);\nclose(output);\nhalt;\nend;\ni:=m;\nk:=t-a[i];\nwhile i<=n do\nbegin\nm:=m1;\nj:=i+1;\nc:=0;\nwhile a[j]<a[i]+g do\nbegin\nif b[j]<b[m] then m:=j;\nif b[j]<b[i] then\nbegin\nsum:=sum+(a[j]-a[i]-k)*b[i];\nc:=1;\nk:=0;\nbreak;\nend;\ninc(j);\nend;\nif m=m1 then\nbegin\nwriteln(-1);\nclose(input);\nclose(output);\nhalt;\nend;\nif c=0 then\nbegin\nsum:=sum+(g-k)*b[i];\nk:=g-(a[m]-a[i]);\nend;\ni:=m;\nend;\nwriteln(sum);\nclose(input);\nclose(output);\nend.\n```",
        "postTime": 1493455195,
        "uid": 20458,
        "name": "66666a",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2209 \u3010[USACO13OPEN]\u71c3\u6cb9\u7ecf\u6d4e\u6027Fuel Economy\u3011"
    }
]