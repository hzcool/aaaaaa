[
    {
        "content": "\u4e0d\u96be\u53d1\u73b0\u6211\u4eec\u5f88\u96be\u51b3\u5b9a\u4e00\u6761\u8fb9\u8981\u4e0d\u8981\u6362\u5165/\u6362\u51fa\uff0c\u4e5f\u5f88\u96be\u5f97\u77e5\u67d0\u6761\u8fb9\u662f\u5426\u5df2\u7ecf\u88ab\u6362\u5165\u3002\u4e8e\u662f\u6211\u4eec\u76f4\u63a5\u679a\u4e3e\u8fd9\u4e2a\u8981\u4e0d\u8981\u6362\u5165\u7684\u6807\u51c6\uff0c\u5177\u4f53\u6765\u8bf4\u662f\u8fd9\u6837\u7684\uff1a\n\n\u5bf9\u4e8e\u4e00\u6761\u8def\u5f84\uff0c\u5982\u679c\u6211\u4eec\u5e0c\u671b\u5728\u5b83\u4e0a\u9762\u91ca\u653e $d$ \u6b21\u9b54\u6cd5\uff0c\u90a3\u4e48\u4e00\u5b9a\u662f\u628a\u8be5\u8def\u5f84\u4e0a\u6700\u5927\u7684 $d$ \u6761\u8fb9\u548c\u4e0d\u5728\u8be5\u8def\u5f84\u4e0a\u7684\u6700\u5c0f\u7684 $d$ \u6761\u8fb9\u4ea4\u6362\u3002\u5982\u679c\u628a\u6240\u6709\u8fb9\u6309\u6743\u503c\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u770b\u8d77\u6765\u5927\u6982\u4f1a\u662f\u8fd9\u4e2a\u6837\u5b50\uff1a\n\n$$\\color{red}\\text{\u3007}\\color{blue}\\text{\u3007\u3007}\\color{red}\\text{\u3007}\\color{blue}\\text{\u3007}\\color{black}\\text{\u3007\u3007}\\color{red}\\text{\u3007}\\color{black}\\text{\u3007}\\color{lightgreen}\\text{\u3007}\\color{black}\\text{\u3007}\\color{lightgreen}\\text{\u3007\u3007}$$\n\n\uff08\u5176\u4e2d\u7ea2\u8272\u4ee3\u8868\u5728\u8def\u5f84\u4e0a\u800c\u4e14\u6ca1\u88ab\u65bd\u6cd5\uff0c\u84dd\u8272\u4ee3\u8868\u4e0d\u5728\u8def\u5f84\u4e0a\u4f46\u88ab\u6362\u5165\uff0c\u7eff\u8272\u4ee3\u8868\u5728\u8def\u5f84\u4e0a\u4f46\u88ab\u6362\u51fa\uff09\n\n\u6709\u4e00\u4e2a\u6700\u957f\u7684\u524d\u7f00\u4f7f\u5f97\u5176\u4e2d\u7684\u6240\u6709\u8fb9\u90fd\u662f\u7ea2\u8272\u6216\u84dd\u8272\u3002\u79f0\u5b83\u7684\u957f\u5ea6\u4e3a $L$\uff0c\u8fd9\u5c31\u662f\u6211\u4eec\u679a\u4e3e\u7684\u8fd9\u4e2a\u6807\u51c6\u3002\u6240\u6709\u84dd\u8272\u90fd\u5c0f\u4e8e\u7b49\u4e8e $L$\uff1b\u6240\u6709\u7eff\u8272\u90fd\u5927\u4e8e $L$\u3002\n\n``f[i][j][k]`` \u8868\u793a\u4ece $1$ \u8d70\u5230 $i$\uff0c\u8def\u5f84\u4e0a\u4f7f\u7528\u4e86 $j$ \u6761\u5c0f\u4e8e\u7b49\u4e8e $L$ \u7684\u8fb9\uff08\u6362\u5165\u4e0d\u7b97\uff09\uff0c$k$ \u6b21\u9b54\u6cd5\uff0c\u6240\u6709\u5728\u8def\u5f84\u4e0a\u4e14\u5927\u4e8e $L$ \u4e14\u4e0d\u6362\u51fa\u7684\u8fb9\u7684\u6743\u503c\u548c\u7684\u6700\u5c0f\u503c\u3002\u8dd1\u6700\u77ed\u8def\u6765 DP\u3002\n\n\u8dd1 155 \u6b21 2e5 \u7684\u6700\u77ed\u8def\u53ef\u80fd\u6709\u70b9\u56f0\u96be\uff0c\u6240\u4ee5\u5982\u679c\u524d $L$ \u6761\u8fb9\u7684\u957f\u5ea6\u548c\u5df2\u7ecf\u5927\u4e8e\u5f53\u524d\u7b54\u6848\u5c31\u53ef\u4ee5\u9000\u51fa\u4e86\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int maxN=55,maxM=155,maxK=25;\nint N,M,K;\nint u[maxM],v[maxM],c[maxM],id[maxM];\nbool cmp(int a,int b){\n\treturn c[a]<c[b];\n}\n\nint lnk[maxN];\nint pre[maxM<<1],tgt[maxM<<1],val[maxM<<1],cnt;\nvoid add_E(int u,int v,int c){\n\tpre[++cnt]=lnk[u],tgt[cnt]=v,val[cnt]=c,lnk[u]=cnt;\n}\n\nint L;\nstruct node{\n\tint x,y,z,w;\n\tbool operator <(const node b)const{return w>b.w;}\n};\npriority_queue<node> Q;\nint F[maxN][maxM][maxK];\nvoid Push(node u){\n\tif(u.y>L||u.z>K) return;\n\tif(F[u.x][u.y][u.z]<=u.w) return;\n\tF[u.x][u.y][u.z]=u.w;\n\tQ.push(u);\n}\nint ans=0x3f3f3f3f,S;\n\nint main(){\n\tscanf(\"%d%d%d\",&N,&M,&K);\n\tfor(int i=1;i<=M;i++) scanf(\"%d%d%d\",&u[i],&v[i],&c[i]),id[i]=i;\n\tsort(id+1,id+M+1,cmp);\n\tfor(int i=1;i<=M;i++) add_E(u[id[i]],v[id[i]],c[id[i]]),add_E(v[id[i]],u[id[i]],c[id[i]]);\n\tfor(L=0;L<=M;L++){\n\t\tif(L) S+=c[id[L]];\n//\t\tif(S>=ans) break;\n\t\tmemset(F,63,sizeof(F));\n\t\tPush((node){1,0,0,0});\n\t\twhile(!Q.empty()){\n\t\t\tnode u=Q.top();Q.pop();\n\t\t\tif(F[u.x][u.y][u.z]<u.w) continue;\n\t\t\tfor(int e=lnk[u.x];e;e=pre[e]){\n\t\t\t\tif(((e+1)>>1)<=L) Push((node){tgt[e],u.y+1,u.z,u.w});\n\t\t\t\telse{\n\t\t\t\t\tPush((node){tgt[e],u.y,u.z,u.w+val[e]});\n\t\t\t\t\tPush((node){tgt[e],u.y,u.z+1,u.w});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor(int y=0;y<=L;y++)\n\t\tfor(int z=0;z<=K&&y+z<=L;z++)\n\t\t\tans=min(ans,F[N][y][z]+S);\n\t}\n\tprintf(\"%d\\n\",ans);\n}\n```",
        "postTime": 1586781601,
        "uid": 58567,
        "name": "x\u4e49x",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P6029 \u3010[JSOI2010]\u65c5\u884c\u3011"
    }
]