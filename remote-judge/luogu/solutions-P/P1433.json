[
    {
        "content": "#### updated 2020.10.10\uff1a\u66f4\u6b63\u4e86\u6587\u4e2d\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u7684\u9519\u8bef\n\n\n------------\n\n\n\u672c\u9898\u7528\u5230\u7684\u77e5\u8bc6\u70b9\uff1a\n\n## \u72b6\u538bDP\n\n> \u72b6\u538b dp \u662f\u52a8\u6001\u89c4\u5212\u7684\u4e00\u79cd\uff0c\u901a\u8fc7\u5c06\u72b6\u6001\u538b\u7f29\u4e3a\u6574\u6570\u6765\u8fbe\u5230\u4f18\u5316\u8f6c\u79fb\u7684\u76ee\u7684\u3002 - [OI wiki](https://oi-wiki.org//dp/state/)\n\n\n**\u72b6\u6001\u538b\u7f29**\u7684\u601d\u60f3\u662f\u7528\u4e8c\u8fdb\u5236\u6765\u8868\u793a\u72b6\u6001\u3002\u7528\u4e00\u4e2a\u6574\u6570\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\u7684\u6bcf\u4e00\u4e2a\u4e8c\u8fdb\u5236\u4f4d $0$ \u6216 $1$ \u8868\u793a\u4e00\u4e2a\u72b6\u6001\u3002\n\n\n------------\n\n\u672c\u9898\u4f1a\u6d89\u53ca\u5230\u90e8\u5206[\u4f4d\u8fd0\u7b97](https://oi-wiki.org//math/bit/)\u7684\u77e5\u8bc6\n\n\u672c\u9898\u662f\u4e00\u9053\u6bd4\u8f83\u57fa\u7840\u7684\u72b6\u538bDP\u9898\u76ee\u3002\n\n\u72b6\u538bDP\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2 2^n)$\uff0c\u901a\u5e38\u53ea\u80fd\u901a\u8fc7 $N \\leq 21$ \u7684\u6570\u636e\u8303\u56f4\uff0c\u672c\u9898\u6570\u636e\u8303\u56f4\u4e3a $N \\leq 15$ \u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u72b6\u538bDP\u3002\n\n#### \u601d\u8def\n\n\u5750\u6807\u53ef\u80fd\u4e3a\u5b9e\u6570\uff0c\u56e0\u6b64\u8981\u7528double\u7c7b\u578b\u5b58\u50a8\u3002\n\n\u5b9a\u4e49\u4e00\u4e2a\u6570\u7ec4 $F_{i,j}$\uff0c\u8868\u793a\u8001\u9f20\u8d70\u5230\u7b2c $i$ \u4e2a\u5976\u916a\uff0c\u4e14\u8d70\u8fc7\u7684\u4e8c\u8fdb\u5236\u72b6\u6001\u4e3a $j$ \u65f6\uff0c\u6700\u77ed\u7684\u8ddd\u79bb\u3002\n\n\u4e3e\u4f8b\u6765\u8bf4\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e8c\u8fdb\u5236 $10100110$ \u6765\u8868\u793a\u5df2\u7ecf\u8d70\u8fc7\u7b2c $2$\u3001$3$\u3001$6$\u3001$8$ \u4e2a\u5976\u916a\uff0c\u6b64\u65f6 $j$ \u7684\u503c\u4e3a $166$\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7b2c $i$ \u4e2a\u72b6\u6001\u662f\u4ece\u4f4e\u4f4d\u5411\u9ad8\u4f4d\u7684\u7b2ci\u4f4d\u3002\n\n\u5728\u66f4\u65b0 $F$ \u6570\u7ec4\u72b6\u6001\u65f6\u4f1a\u7528\u5230\u4e24\u70b9\u95f4\u7684\u8ddd\u79bb\uff0c\u4f7f\u7528\u4e24\u70b9\u95f4\u8ddd\u79bb\u516c\u5f0f\u8ba1\u7b97\uff1a\n\n$a = \\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}$\n\n\u9996\u5148\u8981\u5c06 $F$ \u6570\u7ec4\u8fdb\u884c\u521d\u59cb\u5316\u4e3a\u6781\u5927\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528```memset(F,127,sizeof(F));```\u6765\u4e3a\u6d6e\u70b9\u6570\u8d4b\u6781\u5927\u503c\n\n\u56e0\u4e3a\u5230\u8fbe\u7b2c $i$ \u5757\u5976\u916a\uff0c\u4e14\u53ea\u7ecf\u8fc7\u8fc7\u7b2c $i$ \u5757\u5976\u916a\u7684\u8ddd\u79bb\u5373\u4e3a\u7b2ci\u5757\u5976\u916a\u4e0e\u5750\u6807\u539f\u70b9\u7684\u8ddd\u79bb\u3002\u56e0\u6b64\u8981\u521d\u59cb\u5316```F[i][(1<<(i-1))]=a[0][i];```\u3002\n\n\u63a5\u4e0b\u6765\u662f\u4e09\u5c42\u5faa\u73af\uff0c\u5206\u522b\u679a\u4e3e\u6240\u6709\u53ef\u80fd\u7684\u4e8c\u8fdb\u5236\u72b6\u6001\u3001\u5f53\u524d\u70b9\u6240\u5728\u7684\u4f4d\u7f6e\u548c\u80fd\u5728\u5f53\u524d\u72b6\u6001\u4e0b\u5230\u8fbe\u5f53\u524d\u70b9\u7684\u4f4d\u7f6e\u3002\n\n\u5728\u7b2c\u4e8c\u5c42\u5faa\u73af\u4e2d\u8981\u5224\u65ad\u4e00\u4e0b $i$ \u5728\u5f53\u524d\u4e8c\u8fdb\u5236\u72b6\u6001\u4e0b\u662f\u5426\u5df2\u8d70\u8fc7\uff0c\u5982\u679c\u6839\u672c\u6ca1\u8d70\u8fc7\u5219\u4e0d\u9700\u8981\u8fdb\u884c\u63a5\u4e0b\u6765\u7684\u8ba1\u7b97\uff0c\u76f4\u63a5continue\u5c31\u53ef\u4ee5\u3002\n\n\u5728\u7b2c\u4e09\u5c42\u8fd0\u7b97\u4e2d\u540c\u6837\u8981\u5224\u65ad\u5f53\u524d\u70b9\u662f\u5426\u5df2\u8d70\u8fc7\uff0c\u4e14\u5f53\u524d\u70b9\u4e0d\u4e0e $i$ \u70b9\u76f8\u540c\u3002\n\n\u63a5\u4e0b\u6765\u5c31\u53ef\u4ee5\u8f6c\u79fb\u72b6\u6001\u4e86\uff1a\n\n\u8bbe\u6b64\u65f6\u4e8c\u8fdb\u5236\u72b6\u6001\u4e3a $k$\uff0c\u7ec8\u70b9\u4e3a $i$\uff0c\u8d77\u70b9\u4e3a $j$\uff0c\u53ef\u5f97\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a$F_{i,k}=\\min(F_{i,k},F_{j,k-{2^{i-1}}} +A_{i,j})$\u3002$F_{j,k-{2^{i-1}}}$ \u4e3a\u5728 $j$ \u70b9\u4e14\u6ca1\u6709\u8d70\u8fc7 $i$ \u70b9\u7684\u6700\u77ed\u8ddd\u79bb\uff0c $A_{i,j}$ \u662f\u4ece $i$ \u5230 $j$ \u7684\u8ddd\u79bb\u3002\n\n\u6700\u540e\uff0c\u627e\u51fa $F_{i,2^N-1}$ \u4e2d\u7684\u6700\u5c0f\u503c\u5c31\u662f\u6700\u7ec8\u7684\u7b54\u6848\u4e86\u3002\n\n#### \u4ee3\u7801\u5982\u4e0b\n```cpp\n#include <cstdio>\n#include <cstring> \n#include <cmath> \n#define min(a,b) (((a)<(b))?(a):(b)) \n//\u6d1b\u8c37 P1433 \u5403\u5976\u916a \u72b6\u538bDP\ndouble a[20][20];//\u9884\u5904\u7406\uff0c\u4ece\u7b2ci\u5757\u5230\u7b2cj\u5757\u7684\u8ddd\u79bb\uff0c\u4f7f\u7528\u4e24\u70b9\u4e4b\u95f4\u8ddd\u79bb\u516c\u5f0f \ndouble x[20],y[20];//\u6bcf\u5757\u5976\u916a\u7684\u6a2a\u3001\u7eb5\u5750\u6807\ndouble F[18][34000];//\u72b6\u538bDP\u6570\u7ec4 \u5728\u7b2ci\u4e2a\u70b9\u4e0a\uff0c\u8d70\u8fc7\u7684\u4e8c\u8fdb\u5236\u72b6\u6001\u7684\u5341\u8fdb\u5236\u8868\u8fbe\u4e3aj\u65f6\uff0c\u6700\u77ed\u7684\u8ddd\u79bb \nint N; \ndouble distance(int v,int w)//\u8ba1\u7b97\u7b2cv\u4e2a\u548c\u7b2cw\u4e2a\u5976\u916a\u4e4b\u95f4\u7684\u8ddd\u79bb \n{\n\treturn sqrt((x[v]-x[w])*(x[v]-x[w])+(y[v]-y[w])*(y[v]-y[w]));//\u4e24\u70b9\u95f4\u8ddd\u79bb\u516c\u5f0f \n}\nint main()\n{\n\tint i,j,k;\n\tdouble ans;\n\tmemset(F,127,sizeof(F));//\u8fd9\u6837\u53ef\u4ee5\u7ed9\u6d6e\u70b9\u6570\u8d4b\u503c\u65e0\u7a77\u5927 \n\tans=F[0][0];\n\tscanf(\"%d\",&N);\n\tfor(i=1;i<=N;i++)\n\t{\n\t\tscanf(\"%lf%lf\",&x[i],&y[i]);//\u6570\u636e\u8bfb\u5165 \n\t}\n\tx[0]=0;y[0]=0;\n\tfor(i=0;i<=N;i++)\n\t{\n\t\tfor(j=i+1;j<=N;j++)\n\t\t{\n\t\t\ta[i][j]=distance(i,j);//\u521d\u59cb\u5316\u8ddd\u79bb\u6570\u7ec4 \n\t\t\ta[j][i]=a[i][j];\n\t\t}\n\t} \n\tfor(i=1;i<=N;i++)//\u521d\u59cb\u5316 \n\t{\n\t\tF[i][(1<<(i-1))]=a[0][i];//\u5728i\u70b9\u4e0a\u4e14\u53ea\u6709\u7ecf\u8fc7i\u70b9\u65f6\u8ddd\u79bb\u662f\u539f\u70b9\u5230i\u70b9\u7684\u8ddd\u79bb \n\t}\n\tfor(k=1;k<(1<<N);k++)//\u679a\u4e3e\u6240\u6709\u4e8c\u8fdb\u5236\u7684\u72b6\u6001 \n\t{\n\t\tfor(i=1;i<=N;i++)\n\t\t{\n\t\t\tif((k&(1<<(i-1)))==0)\n\t\t\t\tcontinue;//i\u7684\u4f4d\u7f6e\u6ca1\u88ab\u8d70\u8fc7\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u518d\u7ee7\u7eed\u8ba1\u7b97\u4e86 \n\t\t\tfor(j=1;j<=N;j++)\n\t\t\t{\n\t\t\t\tif(i==j)\n\t\t\t\t\tcontinue;//\u540c\u4e00\u4e2a\u70b9\u4e0d\u9700\u8981\u518d\u8ba1\u7b97 \n\t\t\t\tif((k&(1<<(j-1)))==0)\n\t\t\t\t\tcontinue;//j\u7684\u4f4d\u7f6e\u6ca1\u8d70\u8fc7  \n\t\t\t\tF[i][k]=min(F[i][k],F[j][k-(1<<(i-1))]+a[i][j]);\n\t\t\t} \n\t\t} \n\t} \n\tfor(i=1;i<=N;i++)\n\t{\n\t\tans=min(ans,F[i][(1<<N)-1]);\n\t}\n\tprintf(\"%.2f\\n\",ans);\n}\n```\n",
        "postTime": 1595167195,
        "uid": 291481,
        "name": "novax",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1433 \u3010\u5403\u5976\u916a\u3011"
    },
    {
        "content": "\u597d\u50cf\u6ca1\u6709\u4eba\u7528\u72b6\u538bDP\u554a\u2026\u2026\u4e2a\u4eba\u66f4\u559c\u6b22\u8fd9\u79cd\u590d\u6742\u5ea6\u6bd4\u8f83\u786e\u5b9a\u7684\u505a\u6cd5\u3002\n\n\u8bbef[i][s]\u8868\u793a\u4ecei\u70b9\u51fa\u53d1\u904d\u5386\u96c6\u5408\u4e3as\u7684\u70b9\u7684\u8def\u7a0b\u6700\u5c0f\u503c\uff08i\u4e5f\u5305\u62ec\u5728s\u91cc\uff09\uff0c\u679a\u4e3es\u91cc\u7684\u5176\u4ed6\u70b9\u8fdb\u884c\u8f6c\u79fb\u3002\n\n\u8fb9\u754c\u4e3af[i][s]=0\uff08s\u4e2d\u53ea\u6709i\uff09\u3002\n\n\u6ce8\u610f\u6700\u540e\u7b54\u6848\u8981\u52a0\u4e0a\u5230\uff080\uff0c0\uff09\u7684\u8ddd\u79bb\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6O(n\\*2^n)\n\n```cpp\n#include<cstdio>\n#include<cmath>\n#include<cstring>\ntypedef double db;\ndb x[20],y[20],f[20][35000];\ntemplate<class T> T min(T a,T b) {return a<b?a:b;}\ndb dis(int a,int b) {return sqrt((x[a]-x[b])*(x[a]-x[b])+(y[a]-y[b])*(y[a]-y[b]));}\nint main()\n{\n    int n;scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++) scanf(\"%lf%lf\",&x[i],&y[i]);\n    memset(f,127,sizeof(f));\n    for(int s=1;s<=(1<<n)-1;s++)\n    for(int i=1;i<=n;i++)\n    {\n        if((s&(1<<(i-1)))==0) continue;\n        if(s==(1<<(i-1))) {f[i][s]=0;continue;}\n        for(int j=1;j<=n;j++)\n        {\n            if((s&(1<<(j-1)))==0||i==j) continue;\n            f[i][s]=min(f[i][s],f[j][s-(1<<(i-1))]+dis(i,j));\n        }\n    }\n    db ans=-1;\n    for(int i=1;i<=n;i++)\n    {\n        db s=f[i][(1<<n)-1]+dis(i,0);\n        if(ans==-1||ans>s) ans=s;\n    }\n    printf(\"%.2lf\\n\",ans);\n    return 0;\n}\n```",
        "postTime": 1511340191,
        "uid": 33426,
        "name": "D10s",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1433 \u3010\u5403\u5976\u916a\u3011"
    },
    {
        "content": "[\u535a\u5ba2\u9605\u8bfb\u6548\u679c\u66f4\u4f73](https://www.luogu.org/blog/29243/chi-nai-lao)\n# [P1433\u5403\u5976\u916a](https://www.luogu.org/problemnew/show/P1433)\u9898\u89e3  \n## \u505a\u6cd5\n1. **\u72b6\u538bdp**(\u672c\u7bc7\u91cd\u70b9\uff09\n2. \u66b4\u641c+\u6700\u4f18\u5316\u526a\u679d\uff08\u5f85\u5b9e\u73b0\uff09\n3. \u7384\u5b66\u7b97\u6cd5\uff08\u89c1\u5176\u4ed6\u9898\u89e3\uff09 \n\n## \u524d\u7f6e\n- \u72b6\u538bdp\uff0c\u5168\u79f0\u72b6\u6001\u538b\u7f29dp\uff0c\u662f\u4e00\u79cd\u5728\u6570\u636e\u8303\u56f4\u4e0d\u5927\uff08n<=20\u5de6\u53f3\uff09\u7684\u60c5\u51b5\u4e0b\uff0c\u4ee3\u66ff\u66b4\u641c\u7684\u5e38\u7528\u65b9\u6cd5\n- \u72b6\u6001\u5e38\u4ee5\u4e8c\u8fdb\u5236\u5f62\u5f0f\u8868\u793a\uff0c\u4ece\u5de6\u5f80\u53f3\u7b2ck\u4f4d\u8868\u793a\u7b2ck\u4e2a\u5143\u7d20\u7684\u9009\u62e9\u60c5\u51b5\uff0c0\u8868\u793a\u672a\u88ab\u9009\u62e9\uff0c1\u8868\u793a\u5df2\u9009  \n> \u4f8b\u5982\u4e8c\u8fdb\u5236\u4e0b110101\uff0c\u8868\u793a\u7b2c1\u30013\u30015\u30016\u4e2a\u5143\u7d20\u5df2\u88ab\u9009\u62e9\n- \u56e0\u4e3a\u6d89\u53ca\u4e8c\u8fdb\u5236\uff0c\u6240\u4ee5\u7b80\u5355\u7684\u4f4d\u8fd0\u7b97\u5fc5\u987b\u638c\u63e1\n> \n1.\u5bf9\u4f4d\u5224\u65ad\uff1a\u4f8b\u5982\u7b2ck\u4f4d\u4e3a0 ((1<<(k-1))&s)==0  \n2.\u679a\u4e3e\u5b50\u96c6  \n```cpp\n\tfor(int S1=S;S1!=0;S1=(S1-1)&S){\n    S2=S^S1;\n}\n```  \n3.and so on\n- \u4e3a\u4e86\u65b9\u4fbf\u8c03\u8bd5\uff0c\u5b66\u4f1a\u5341\u8fdb\u5236\u8f6c\u4e8c\u8fdb\u5236\u4e5f\u5f88\u6709\u5fc5\u8981\n```cpp\nint shizhuaner(int dec){\n\tint result = 0,temp = dec,j = 1;\n\twhile(temp){\n\t\tresult = result + j*(temp%2);\n\t\ttemp = temp/2;\n\t\tj = j*10;\n\t}\n\treturn result;\n}\n```  \n***\n## \u672c\u9898\u7684\u9519\u8bef\u505a\u6cd5\n- \u7531[noip2016\u6124\u6012\u7684\u5c0f\u9e1f](https://www.luogu.org/problemnew/show/P2831)\n\u800c\u6765\uff0c\u90a3\u662f\u6211\u7528\u72b6\u538b\u7684\u7b2c\u4e00\u9053\u9898\uff0c\u5927\u5bb6\u4e5f\u53ef\u4ee5\u5148\u505a\u8be5\u9898\u4ee5\u5165\u95e8\u72b6\u538b\n- \u770b\u4e86\u4e0a\u9762\u90a3\u9053\u9898\uff0c\u81ea\u7136\u800c\u7136\u5730\u60f3\u5230\u7528s\u8868\u793a\u54ea\u4e9b\u70b9\u88ab\u9009\u62e9\uff0c\u800cf[s1]\u53ef\u4ee5\u63a8\u51fa\u52a0\u5165\u4efb\u610f\u4e00\u4e2a\u672a\u5230\u8fbe\u7684\u70b9k\u540e\u7684\u72b6\u6001s2\uff0cf[s1]=f[s2]+len(k,s1\u4e2d\u6240\u6709\u5df2\u5230\u7684\u70b9\u8ddd\u79bb\u6700\u5c0f\u503c\uff09  \n\n```cpp\n      int main()\n      {\n          scanf(\"%d\\n\",&n);\n          for(ri i=1;i<=(1<<n);i++)f[i]=inf+1;\n          for(ri i=1;i<=n;i++){\n              scanf(\"%lf%lf\",&x[i],&y[i]);\n              f[(1<<(i-1))]=jl(0,0,x[i],y[i]);//\u8fb9\u754c  \n          }\n          for(ri i=1;i<n;i++){\n              for(ri j=i+1;j<=n;j++)\n              len[i][j]=len[j][i]=jl(x[i],y[i],x[j],y[j]);\n          }\n          f[0]=0;\n          for(ri s=1;s<(1<<n);s++){\n              if(f[s]>=inf)continue;\n              cnt=0;\n              for(ri k=0;k<n;k++){//\u627e\u5230s\u4e2d\u6240\u6709\u5df2\u7ecf\u5230\u8fbe\u7684\u70b9 \uff0c\u5e76\u5b58\u8d77\u6765 \n                  if(((1<<k)&s)!=0){\n                      que[++cnt]=k+1;\n                  }\n              }\n              for(ri k=0;k<n;k++){\n                  if(((1<<k)&s)==0){//\u627e\u5230s\u4e2d\u6240\u6709\u672a\u5230\u7684\u70b9 \n                      tmp=inf;\n                      for(ri l=1;l<=cnt;l++){\n                          tmp=min(tmp,len[que[l]][k+1]);//\u627e\u4e00\u6761\u7531s\u4e2d\u7684\u70b9\u5230\u65b0\u70b9\u7684\u6700\u77ed\u8def \n                      }\n                      f[(1<<k)|s]=min(f[(1<<k)|s],f[s]+tmp);\n                  }\n              }\n          }\n          printf(\"%.2lf\",f[(1<<n)-1]);\n          return 0;\n      }\n```  \n- \u5f88\u5feb\u6253\u5b8c\u4e86\uff0c\u4e58\u5174\u800c\u6765........\u8d25\u5174\u800c\u5f52\n![](https://cdn.luogu.com.cn/upload/pic/48051.png)  \n- \u4e3a\u4ec0\u4e48\u5462\uff1f\u6211\u7684\u60f3\u6cd5\u8fd9\u4e48\u4f18\u79c0\uff0c\u8fd9\u9898\u53c8\u662f\u666e\u53ca-\u80fd\u96be\u5230\u54ea\u53bb\uff1f\n***\n## \u6b63\u786e\u505a\u6cd5 \n- \u5148\u6765\u770b\u4e00\u5e45\u56fe\n![](https://cdn.luogu.com.cn/upload/pic/48049.png)\n- \u5982\u679c\u53ea\u770b4\u3001 5 \u30016 \u4e09\u4e2a\u70b9\uff0cf[ ]\u4e3a\u51e0\u5462\uff1f\u6211\u7684\u7a0b\u5e8f\u7ed9\u7684\u662f7\uff0c\u6807\u51c6\u7a0b\u5e8f\u662f7.41\uff0c\u96be\u9053\u6211\u4eec\u7684\u505a\u6cd5\u6bd4\u9898\u89e3\u8fd8\u4f18\uff1f\uff1f\uff1f\n\n- \u6211\u4eec\u52a8\u624b\u8bd5\u4e00\u4e0b\uff0c\u5148\u4ece(0,0)\u5230\uff083\uff0c-4\uff09\uff0c\u8ddd\u79bb\u4e3a5\uff0c\u518d\u8d704->5, 4->6,\u5404\u4e3a1,\u4e8e\u662f\u7b54\u6848\u4e3a7\n- \u60f3\u4e00\u4e0b\uff0c\u6211\u4eec\u5230\u4e864\u540e\uff0c\u5148\u4ece4\u8d70\u52305\uff0c\u540e\u4ece4\u8d70\u52306\uff0c\u4e3a\u4ec0\u4e48\u5c0f\u8001\u9f20\u5df2\u7ecf\u5230\u4e865\uff0c\u53c8\u56de\u5230\u4e864\u5462\uff1f\n- \u539f\u6765\u6211\u4eec\u7684\u601d\u8def\u51fa\u95ee\u9898\u4e86\uff0c\u5728\u65b0\u7684\u8ddd\u79bb\u9009\u53d6\u4e2d\u4e0d\u80fd\u627e\u6700\u77ed\u8def\uff0c\u800c\u8981\u627e\u4ece\u5f53\u524d\u70b9\u5230\u65b0\u70b9\u7684\u8ddd\u79bb\u3002  \n- \u73b0\u5728\u7684\u76ee\u6807\u662f\u5b58\u50a8\u5f53\u524d\u70b9\uff0c\u4e8e\u662f\u6211\u4eec\u7528F[ \u5f53\u524d\u70b9i ] [ \u5f53\u524d\u72b6\u6001 ] \u5b8c\u6574\u5730\u8868\u793a\u4e00\u4e2a\u72b6\u6001\uff0c\u8f6c\u79fb\u65b9\u7a0b\u4e5f\u5f88\u597d\u5199\uff0c\u5177\u4f53\u89c1\u4ee3\u7801\u3002~~\u5176\u5b9e\u662f\u6211\u4e0d\u4f1a\u53d1\u516c\u5f0f~~\n\n```cpp\n      #include <bits/stdc++.h>\n      #define ri register int\n      using namespace std;\n\n      int i,j,k,n,que[17],cnt,p;\n      double x[17],y[17];\n      double tmp,ans;\n      double len[17][17],f[17][100000];\n\n      double jl(double x1,double y1,double x2,double y2)\n      {\n          return sqrt((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2));\n      }\n      int dect(int dec){// \u5341\u8fdb\u5236\u8f6c\u4e8c\u8fdb\u5236\uff0c\u4fbf\u4e8e\u8c03\u8bd5 \n          int result = 0,temp = dec,j = 1;\n          while(temp){\n              result = result + j*(temp%2);\n              temp = temp/2;\n              j = j*10;\n          }\n          return result;\n      }\n\n      int main()\n      {\n          memset(f,127,sizeof(f));//double\u65e0\u7a77\u5927\u8d4b\u503c\u65b9\u5f0f \n          scanf(\"%d\\n\",&n);\n          for(ri i=1;i<=n;i++){\n              scanf(\"%lf%lf\",&x[i],&y[i]);//\u6ce8\u610f\u662f\u5b9e\u6570\u8bfb\u5165 \n              f[i][(1<<(i-1))]=jl(0,0,x[i],y[i]);//\u8fb9\u754c\u6761\u4ef6 \n          }\n          for(ri i=1;i<n;i++){\n              for(ri j=i+1;j<=n;j++)\n              len[i][j]=len[j][i]=jl(x[i],y[i],x[j],y[j]);\n          }\n          for(ri s=1;s<(1<<n);s++){\n              cnt=0;\n              for(ri k=0;k<n;k++){//\u6ce8\u610f\u4ece0\u5f00\u59cb\uff0c\u6240\u4ee5\u4e0b\u9762\u7684\u8f6c\u79fb\u65b9\u7a0b\u4e2d\u8981\u52a0\u4e00 \n                  if(((1<<k)&s)==0)que[++cnt]=k;\n              }//\u6c42\u51fa\u6240\u6709\u672a\u5230\u8fbe\u7684\u70b9 \n              for(ri i=1;i<=n;i++){\n                  if(abs(f[i][s]-f[0][0])<0.0000001) continue;//\u6d6e\u70b9\u6570\u76f8\u7b49\u8868\u793a\u6cd5 \n                  for(ri l=1;l<=cnt;l++){\n                      f[que[l]+1][s|1<<(que[l])]=min(f[que[l]+1][s|1<<(que[l])],f[i][s]+len[que[l]+1][i]);\n                  }\n              }\t\n          }\n          ans=f[0][0];//\u8d4b\u4e88\u4e00\u4e2a\u65e0\u7a77\u5927\u521d\u503c \n          for(ri i=1;i<=n;i++)ans=min(ans,f[i][(1<<n)-1]);\n          printf(\"%.2lf\",ans);\n          return 0;\n      }\n```\n***\n## \u5c0f\u7ec6\u8282\n-  ```cpp\nmemset(f,127,sizeof(f));//double\u65e0\u7a77\u5927\u8d4b\u503c\u65b9\u5f0f\n```  \n- \u5341\u8fdb\u5236\u8f6c\u4e8c\u8fdb\u5236\uff0c\u4fbf\u4e8e\u8c03\u8bd5  \n- \u8bfb\u5165\u5750\u6807\u90fd\u662f\u5b9e\u6570\n***\n\n[\u6700\u540e\u5ba3\u4f20\u4e00\u6ce2\u535a\u5ba2](https://www.luogu.org/blog/29243/)~~\uff0c\u867d\u7136\u76ee\u524d\u4ec0\u4e48\u90fd\u6ca1\u6709~~\n",
        "postTime": 1546657578,
        "uid": 29243,
        "name": "\u5feb\u5feb\u505a\u9898",
        "ccfLevel": 0,
        "title": "\u5403\u5976\u916a"
    },
    {
        "content": "upd\uff1a\u4fee\u6539\u4e86\u5173\u4e8eNP-hard\u7684\u4e00\u4e2a\u539f\u5219\u6027\u9519\u8bef\n\n\u8fd9\u91cc\u63d0\u4f9b\u53e6\u5916\u4e00\u79cd\u72b6\u538bdp\uff0c\u540c\u65f6\u6b64\u9898\u4f5c\u4e3aTSP\uff08\u51e0\u4e4e\uff09\u7684\u6a21\u677f\u9898\uff0c\u987a\u4fbf\u8be6\u7ec6\u5730\u89e3\u91ca\u4e00\u4e0b\u65c5\u884c\u5546\u95ee\u9898\uff08TSP\uff09\u3002\n\n## TSP\n\u539f\u9898\uff1a\n> \u6709n\u4e2a\u57ce\u5e02\uff0c\u4ece\u8d77\u70b9 0 \u5f00\u59cb\u6e38\u5386\u6bcf\u4e00\u4e2a\u57ce\u5e02\uff0c\u53ea\u8bbf\u95ee\u6bcf\u4e2a\u57ce\u5e02\u4e00\u6b21\uff0c\u6700\u540e\u56de\u5230\u8d77\u70b9\uff0c\u6240\u9700\u8981\u7684\u6700\u77ed\u8def\u5f84\u662f\u591a\u5c11\uff1f \n\nOI\u754c\u5c1a\u672a\u53d1\u73b0\u672c\u9898\u591a\u9879\u5f0f\u65f6\u95f4\u590d\u6742\u5ea6\u7684\u89e3\u6cd5\u3002\u6211\u4eec\u53ef\u4ee5\u7a77\u4e3e\u5168\u6392\u5217\uff0c\u4ece\u800c\u83b7\u5f97\u4e00\u4e2a$\\Theta((n-1)!)$\u7684\u505a\u6cd5\u3002\n\n\u7136\u800c\u8fd9\u901a\u5e38\u4f1aTLE\uff0c\u6240\u4ee5\u9700\u8981\u4f18\u5316\u3002\u6a21\u62df\u9000\u706b\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u601d\u8def\uff0c\u4f46\u662f\u6b63\u786e\u7387\u6709\u65f6\u4e0d\u80fd\u5f97\u5230\u4fdd\u8bc1\uff0c\u53c2\u89c1\u5176\u4ed6\u9898\u89e3\uff0c\u6b64\u5904\u4e0d\u518d\u8d58\u8ff0\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u5bf9\u96c6\u5408\u6765dp\u3002\u4ee4$f[S][i]$\u8868\u793a\u4ece$i$\u51fa\u53d1\uff0c\u8fd8\u5269\u4e0b\u70b9\u96c6$S$\u672a\u8d70\u3002\u90a3\u4e48\u4e0d\u96be\u53d1\u73b0\u53ef\u4ee5**\u9006\u63a8**\uff1a\n$$\\begin{cases}f[\\emptyset][i]=0,0\\le i\\le n\\\\f[S][i]=f[S+\\{j\\}][j]+dist(i,j),0\\le i,j\\le n\\\\Ans=f[\\emptyset][0]\\end{cases}$$\n\u90a3\u4e48\u70b9\u96c6\u5982\u4f55\u8868\u793a\u5462\uff1f\u6b64\u7c7b\u95ee\u9898\u7531\u4e8e\u662f$NP-hard$\u95ee\u9898\uff08\u5982\u679c\u4e0d\u6e05\u695a\u6b64\u7c7b\u6982\u5ff5\u53ef\u4ee5\u5728luogu\u65e5\u62a5\u4e2d\u5bfb\u627e\uff09\uff0cn\u4e00\u822c\u5f88\u5c0f\uff0c\u6240\u4ee5\u53ef\u4ee5**\u72b6\u6001\u538b\u7f29**\uff0c\u8bbe$S_i$\u8868\u793aS\u7684\u4e8c\u8fdb\u5236\u7b2ci\u4f4d\uff0c$S_i=0\\ or\\ 1$\u8868\u793a\u662f\u5426i\u5728\u96c6\u5408\u5185\u3002\n\n\u90a3\u4e48\u53ea\u9700\u8981\u4e00\u4e9b\u7b80\u5355\u4f4d\u8fd0\u7b97\u5373\u53ef\uff08\u53c2\u89c1\u4ee3\u7801\uff09\uff0c\u540c\u65f6\u8bb0\u5f97floyd\u9884\u5904\u7406dist\u3002\n\n\u4e0d\u96be\u53d1\u73b0\u672c\u9898\u5c31\u662fTSP\u95ee\u9898\uff0c\u56e0\u4e3a\u6700\u77ed\u8def\u5f84\u4e00\u5b9a\u662f\u76f4\u7ebf\u8ddd\u79bb\uff0c\u6240\u4ee5\u65e0\u9700floyd\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define reg register\ndouble dp[1<<16][17],dist[17][17],x[17],y[17];\nint n;\ninline void init(){\n    scanf(\"%d\",&n);\n    for(reg int i=1;i<=n;++i)\n        scanf(\"%lf%lf\",x+i,y+i);\n    x[0]=y[0]=0;\n    for(reg int i=0;i<=n;++i)\n        for(reg int j=0;j<=n;++j)\n            dist[i][j]=sqrt((x[i]-x[j])*(x[i]-x[j])+(y[i]-y[j])*(y[i]-y[j]));\n    memset(dp,127,sizeof dp);\n}\ninline void solve(){\n    for(reg int i=0;i<=n;++i)dp[(1<<n+1)-1][i]=0;\n    for(reg int S=(1<<n+1)-2;~S;--S)\n        for(reg int i=0;i<=n;++i)\n            for(reg int j=0;j<=n;++j)\n            \tif(!(S&1<<j))dp[S][i]=min(dp[S][i],dp[S|1<<j][j]+dist[i][j]);\n    printf(\"%.2lf\",dp[0][0]);\n}\nint main(){\n    init();\n    solve();\n    return 0;\n}\n```",
        "postTime": 1564582441,
        "uid": 75765,
        "name": "Starlight237",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1433 \u3010\u5403\u5976\u916a\u3011"
    },
    {
        "content": "\u5ffd\u7136\u53d1\u73b0\u5176\u5b9e\u53ef\u4ee5\u7528\u72b6\u538bdp\u7684\u601d\u60f3\u6765\u4f18\u5316dfs...\n\n\u89c2\u5bdf\u6570\u636e\uff0c15\u4e2a\u5976\u916a\uff01\u8fd9\u6570\u636e\u5e76\u4e0d\u5927\uff0c\u6839\u636e\u9898\u610f\uff0c\u8001\u9f20\u8d70\u7684\u8def\u5f84\u662f\u65e0\u540e\u6548\u6027\u7684\uff0c\u53ea\u8981\u7ecf\u8fc7\u7684\u70b9\u4e00\u81f4\uff0c\u6240\u5728\u7684\u70b9\u4e5f\u4e00\u81f4\uff0c\u63a5\u4e0b\u6765\u6240\u8981\u8d70\u7684\u8def\u5f84\u5c31\u662f\u7b49\u4ef7\u7684\n\n\u6240\u4ee5\u53ef\u4ee5\u7528\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\u6765\u8bb0\u5f55\u8d70\u8fc7\u7684\u70b9\uff0c\u53e6\u4e00\u4e2a\u6570\u8bb0\u5f55\u8001\u9f20\u6240\u5728\u7684\u70b9\uff0c\u5982\u679c\u4e4b\u540e\u641c\u5230\u7684\u7b54\u6848\u6bd4\u8fd9\u4e2a\u70b9\u8981\u5927\uff0c\u5c31\u4e0d\u7ee7\u7eed\u641c\u5373\u53ef\uff0c\u5927\u81f4\u601d\u60f3\u5c31\u662f\u8fd9\u6837\n\n\u8be6\u89c1\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nint n;\nlong double a[30][2],lt[30][30],zt[(1<<15)+15][18];//\u8bb0\u5f55\u72b6\u6001\uff0c\u7b2c\u4e00\u7ef4\u8bb0\u5f55\u8d70\u8fc7\u7684\u70b9\uff0c\u7b2c\u4e8c\u7ef4\u8bb0\u5f55\u6240\u5728\u7684\u70b9\nlong double cc1,cc2,answ;\nint bj[30],i,j;\n\nvoid dfs(int y,int ww,int x,long double ans){//\u6df1\u641c\n\tif(x==n+1) if(answ==0 || answ>ans) {answ=ans;return;}\n\tfor(int g=1;g<=n;g++)\n\t{\n\t\tif(!bj[g])\n\t\t{\n\t\t\tint xb=ww+(1<<(g-1));//xb\u8868\u793a\u5f53\u524d\u5df2\u8d70\u8fc7\u7684\u70b9\uff0c\u6709\u6807\u8bb0\u6570\u7ec4\u6321\u7740\u4e0d\u7528\u6015\u4e8c\u8fdb\u5236\u6570\u4f1a\u8fdb\u4f4d\n\t\t\tif(zt[xb][g]!=0)\n\t\t\tif(zt[xb][g]<=ans+lt[y][g]) continue;//\u5982\u679c\u751f\u6210\u7684\u8def\u5f84\u957f\u5ea6\u6bd4\u4e4b\u524d\u7684\u8fd8\u8981\u957f\u5c31\u4e0d\u5bf9\u8be5\u70b9\u7ee7\u7eeddfs\n\t\t\tbj[g]=1;//\u6807\u8bb0\n\t\t\tzt[xb][g]=ans+lt[y][g];//\u8bb0\u5f55\u72b6\u6001\n\t\t\tdfs(g,xb,x+1,zt[xb][g]);//\u7ee7\u7eed\u5f80\u4e0b\u641c\n\t\t\tbj[g]=0;//\u56de\u6eaf\n\t\t}\n\t}\n\treturn;\n}\n\nint main(){\n\tcin>>n;\n\ta[0][0]=0;a[0][1]=0;\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%Lf %Lf\",&a[i][0],&a[i][1]);\n\t\tfor(j=0;j<i;j++)//\u5bf9\u4e24\u70b9\u8ddd\u79bb\u521d\u59cb\u5316\n\t\t{\n\t\t\tcc1=a[i][0]-a[j][0];\n\t\t\tcc2=a[i][1]-a[j][1];\n\t\t\tlt[j][i]=sqrt(cc1*cc1+cc2*cc2);//\u8bb0\u5f55\u4e24\u70b9\u8ddd\u79bb\n\t\t\tlt[i][j]=lt[j][i];\n\t\t}\n\t}\n\tdfs(0,0,1,0);\n\tprintf(\"%.2Lf\",answ);\n\treturn 0;\n}\n```\n\n\u6709\u4e2a\u5f88\u5947\u602a\u7684\u4e8b\uff0c\u5c31\u662f\u4f18\u5316\u8fc7\u7684dfs\u8dd1\u7b2c\u516d\u4e2a\u70b9\u6bd4\u4e0d\u4f18\u5316\u7684\u8fd8\u6162\uff0c~~\u771f\u662f\u7384\u5b66~~",
        "postTime": 1555242924,
        "uid": 55357,
        "name": "Thaumaturge",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1433 \u3010\u5403\u5976\u916a\u3011"
    },
    {
        "content": "\u5176\u5b9e\u672c\u9898\u4e0d\u7528\u72b6\u538b\u4e5f\u80fd\u8fc7\u7684\u3002\u3002\u3002\n\n\u672c\u9898\u770b\u4e0a\u53bb\u5c31\u662f\u4e00\u4e2a\u666e\u901a\u7684\u641c\u7d22\uff0c\u4e0d\u8fc7\u9700\u8981\u4e00\u4e9b\uff08~~\u7384\u5b66~~\uff09\u6280\u5de7\n\n\u4f46\u662f\u8fd8\u662f\u8981\u7528\u5230\u72b6\u538b\uff08\u4f1a\u5361\u4e00\u4e2a\u70b9\uff09\n\n\u4e0d\u8fc7\u76f8\u5bf9\u771f\u00b7\u72b6\u538b\u6765\u8bf4\u6bd4\u8f83\u597d\u7406\u89e3\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<stdio.h>\n#include<math.h>\nint n;\ndouble a[20],b[20],dp[65000][20];\nbool v[20];\ndouble ans=1e9;\ndouble dis(int x,int y){\n\tsqrt((a[x]-a[y])*(a[x]-a[y])+(b[x]-b[y])*(b[x]-b[y]));//\u8ddd\u79bb\u516c\u5f0f\n}\nvoid dfs(int t,int now,double s,int b){\n\tif(s>ans) return; //\u526a\u679d\n\tif(t==n){\n\t\tans=ans<s?ans:s;\n\t\treturn;\n\t}\n\tfor(register int i=1;i<=n;i++){\n\t\tif(!v[i]){\n\t\t\tint p=b+(1<<(i-1));//\u72b6\u538b\u5b58\u72b6\u6001\n\t\t\tif(dp[p][i]!=0&&dp[p][i]<=s+dis(now,i)) continue;//\u5224\u65ad\u6761\u4ef6+\u4f18\u5316\n\t\t\tv[i]=1;\n\t\t\tdp[p][i]=s+dis(now,i);\n\t\t\tdfs(t+1,i,dp[p][i],p);\n\t\t\tv[i]=0;//\u56de\u6eaf\n\t\t}\n\t}\n}\nmain(){\n\tscanf(\"%d\",&n);\n\tfor(register int i=1;i<=n;i++)\n\t\tscanf(\"%lf%lf\",&a[i],&b[i]);\n\tdfs(0,0,0,0);\n\tprintf(\"%.2lf\\n\",ans);\n\treturn 0;\n\t\n}\n```\n\n### \u5982\u6709\u4e0d\u61c2\uff0c\u9614\u4ee5\u79c1\u4fe1\u6211\n\n\n------------\n\n\n## \u5982\u679c\u6709\u9519\u8bef\u7684\u5730\u65b9\uff0c\u6b22\u8fce\u6307\u6b63",
        "postTime": 1591099511,
        "uid": 55740,
        "name": "\u4e27\u9ed1\u798f\u9020",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1433 \u3010\u5403\u5976\u916a\u3011"
    },
    {
        "content": "### \u770b\u5230\u90a3\u4e48\u591adalao\u7528\u641c\u7d22\uff0c\u72b6\u538bDP~~\uff08\u8c8c\u4f3c\u8fd8\u6709\u4e00\u4e2a\u722c\u5c71\uff09~~\n### \u672c\u849f\u84bb\u51b3\u5b9a\u5c1d\u8bd5\u4e00\u4e0b\u7384\u5b66\u7b97\u6cd5\u2014\u2014**\u6a21\u62df\u9000\u706b**\n---\n\u8fd9\u9898\u5927\u610f\u5c31\u662f\u6700\u77ed\u8def\u904d\u5386\u5e73\u9762\u4e0an\u4e2a\u70b9\uff0c\u770b\u4e0a\u53bb\u662f\u4e0d\u662f\u597d\u50cfTSP\u554a^v^\n\n\u4e86\u89e3 TSP\u4e5f\u5c31\u662f\u8d27\u90ce\u62c5\u95ee\u9898 [\u770b\u8fd9\u91cc](https://baike.baidu.com/item/TSP%E9%97%AE%E9%A2%98/840008)\n\n\u6240\u4ee5\u8fd9\u4e00\u9898\u4e5f\u53ef\u4ee5\u5957\u7528TSP\u95ee\u9898\u7684\u505a\u6cd5\u4e4b\u4e00\uff0c\u6a21\u62df\u9000\u706b\u3002\n\n\u6a21\u62df\u9000\u706b\u7684\u4e3b\u8981\u6b65\u9aa4\u662f\n\n1. \u5148\u521d\u59cb\u5316\u6e29\u5ea6\uff0c\u5f53\u524d\u89e3\u548c\u5f53\u524d\u7b54\u6848\n\n2. \u5982\u679c\u6e29\u5ea6\u5c0f\u4e8e\u6700\u7ec8\u6e29\u5ea6\uff0c\u8df36\uff1b\u5426\u5219\u8df33\n\n3. \u7531\u5f53\u524d\u89e3\u751f\u6210\u4e00\u4e2a\u4e34\u65f6\u7684\u65b0\u89e3\uff0c\u5e76\u8ba1\u7b97\u65b0\u7684\u7b54\u6848\n\n4. \u5224\u65ad\u662f\u5426\u63a5\u53d7\u8be5\u4e34\u65f6\u89e3\uff0c\u63a5\u53d7\u5219\u66f4\u65b0\u89e3\u548c\u7b54\u6848\uff0c\u4e0d\u63a5\u53d7\u5219\u56de\u9000\u5230\u4e0a\u4e2a\u89e3\n\n5. \u964d\u6e29\uff0c\u8df32\n\n6. \u7ed3\u675f\n\n**\u6a21\u62df\u9000\u706b\u7684\u539f\u7406\u662f\u901a\u8fc7\u4e00\u4e2a\u53d8\u5316\u7684\u6982\u7387\u63a5\u53d7\u4e00\u4e2a\u8f83\u5dee\u7684\u7b54\u6848\u7684\u8d2a\u5fc3**\n\n**\u5bf9\u4e8e\u5dee\u89e3\u7684\u5224\u65ad\u548c \u8fd9\u4e2a\u89e3\u6709\u591a\u5dee \u4ee5\u53ca \u5f53\u524d\u6e29\u5ea6 \u6709\u5173\uff0c\u89e3\u8d8a\u5dee\u6211\u4eec\u8d8a\u4e0d\u60f3\u8981\u5b83\uff0c\u63a5\u53d7\u5b83\u7684\u6982\u7387\u5c31\u5c0f\u4e00\u4e9b\uff1b\u8d2a\u5fc3\u5f80\u5f80\u4f1a\u5728\u5f00\u59cb\u7684\u65f6\u5019\u9677\u5165\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u6211\u4eec\u5c31\u8981\u5728\u5f00\u59cb\u7684\u65f6\u5019\u8df3\u51fa\u5c40\u90e8\u6700\u4f18\uff0c\u4e5f\u5c31\u662f\u901a\u8fc7\u8d70\u5411\u8f83\u5dee\u7684\u89e3\uff0c\u6240\u4ee5\u5f00\u59cb\u7684\u65f6\u5019\u63a5\u53d7\u5dee\u89e3\u7684\u6982\u7387\u8981\u5927\u4e00\u4e9b\uff0c\u5feb\u7ed3\u675f\u7684\u65f6\u5019\u6211\u4eec\u9700\u8981\u7a33\u5b9a\u5728\u5f53\u524d\u7684\u6700\u4f18\u89e3\uff0c\u63a5\u53d7\u5dee\u89e3\u7684\u6982\u7387\u5c31\u5c0f\u4e00\u4e9b\uff0c\u6240\u4ee5\u6211\u4eec\u6a21\u62df\u7269\u7406\u7684\u9000\u706b\u539f\u7406\uff0c\u6e29\u5ea6\u4ece\u9ad8\u9010\u6e10\u964d\u4f4e\uff0c\u5bf9\u4e8e\u63a5\u53d7\u5dee\u89e3\u6982\u7387\u7684\u8ba1\u7b97\u516c\u5f0fe^(delta/T)\u6765\u8bf4\uff0c\u65b0\u89e3\u7b54\u6848\u7684\u5dee\u5f02\u503c\u4e3a\u5206\u5b50delta\uff0c\u662f\u4e2a\u8d1f\u6570\uff08\u5982\u679c\u6b63\u6570\u53d6\u8d1f\u5c31\u884c\uff09\uff0c\u7b54\u6848\u8d8a\u5dee\uff0cdelta\u7edd\u5bf9\u503c\u8d8a\u5927\uff0c\u6307\u6570\u8d8a\u5c0f\uff0c\u6982\u7387\u4e5f\u8d8a\u5c0f\uff1b\u6e29\u5ea6\u8d8a\u4f4e\uff0c\u6307\u6570\u8d8a\u5c0f\uff0c\u6982\u7387\u4e5f\u8d8a\u5c0f\uff0c\u8fd9\u5c31\u7b26\u5408\u4e86\u6211\u4eec\u6c42\u89e3\u7684\u9700\u8981\u3002**\n\n\u66f4\u5177\u4f53\u7684\u6a21\u62df\u9000\u706b\u79fb\u6b65[\u5230\u8fd9\u91cc](https://baike.baidu.com/item/%E6%A8%A1%E6%8B%9F%E9%80%80%E7%81%AB%E7%AE%97%E6%B3%95)\n\n\u6a21\u62df\u9000\u706b\u7684\u5173\u952e\u662f\u662f\u600e\u4e48\u751f\u6210\u4e00\u4e2a\u65b0\u89e3\uff0c\u548c\u600e\u4e48\u8ba1\u7b97\u4e00\u4e2a\u89e3\u5e26\u6765\u7684\u4ef7\u503c\u3002\u4e0b\u9762\u6211\u4eec\u5206\u522b\u8bb2\u4e00\u8bb2\u3002\n\n### \u600e\u4e48\u751f\u6210\u4e00\u4e2a\u65b0\u89e3\n\n\u5bf9\u4e8e\u6b64\u9898\uff0c\u4e00\u4e2a\u5408\u6cd5\u7684\u89e3\u662f\u4e00\u4e2a1~n\u7684\u5168\u6392\u5217\uff0c\u6240\u4ee5\u4e00\u5f00\u59cb\u6211\u4eec\u968f\u673a\u4e00\u4e2a\u6392\u5217\uff0c\u6216\u8005\u76f4\u63a5\u75281~n\u7684\u6392\u5217\uff0c\u751f\u6210\u65b0\u89e3\u5c31\u968f\u673a\u4e24\u4e2a\u4f4d\u7f6e\uff0c\u4ea4\u6362\u5b83\u4eec\u3002\n\n### \u600e\u4e48\u8ba1\u7b97\u4e00\u4e2a\u5408\u6cd5\u89e3\u7684\u7b54\u6848\n\n\u6a21\u62df\u5c31\u884c\uff0c\u4ece(0,0)\u6309\u7167\u6392\u5217\u7684\u987a\u5e8f\u8d70\u4e00\u904d\uff0c\u7d2f\u52a0\u8ddd\u79bb\u3002\n\n\u90a3\u4e48\u89e3\u51b3\u4e86\u8fd9\u4e9b\uff0c\u5c31\u4e0a\u4ee3\u7801\u5427\uff01\uff01\uff08\u4ee3\u7801\u5947\u4e11\u52ff\u55b7\uff09\n\n```cpp\n// luogu-judger-enable-o2(\u80fd\u5f00O2\u4e3a\u5565\u4e0d\u5f00)\n#define main mian //\u9632\u4f5c\u5f0a\n#include<cstdio>\n#include<cstdlib>\n#include<time.h>\n#include<cmath>\n#include<algorithm>\n#define sqr(_) ((_)*(_))\nusing namespace std;\nconst int N=20;\nconst double T0=1e5;//\u521d\u59cb\u6e29\u5ea6\nconst double T_end=1e-4;//\u6700\u7ec8\u6e29\u5ea6\nconst double D=1-3e-3;//\u964d\u6e29\u901f\u5ea6\nconst int L=100;//\u5356\u4e2a\u5173\u5b50\nint n,now[N],st=clock();//\u70b9\u6570\uff0c\u5f53\u524d\u89e3\u548c\u5361\u65f6\ndouble x[N],y[N],ans=1e9;//\u70b9\u7684\u5750\u6807\uff0c\u6700\u7ec8\u7b54\u6848\ndouble dis(int a,int b) {return sqrt(sqr(x[a]-x[b])+sqr(y[a]-y[b]));}\n//\u8ba1\u7b97\u4e24\u70b9\u8ddd\u79bb\u7684\u516c\u5f0f\ndouble calc() {//\u8ba1\u7b97\u4e00\u4e2a\u5408\u6cd5\u89e3\u7684\u7b54\u6848\n    double res=0;\n    for(int i=1;i<=n;++i)res+=dis(now[i-1],now[i]);\n    return res;\n}\ndouble rand_f() {return double(rand())/double(RAND_MAX);}\n//\u751f\u6210\u4e00\u4e2a\u968f\u673a\u5c0f\u6570\nbool RP_up(double delta,double t) {return delta>0||rand_f()<exp(delta/t);}\n//\u5224\u65ad\u662f\u5426\u63a5\u53d7\u4e00\u4e2a\u65b0\u89e3\nvoid SA() {//\u9000\u706b\u4e3b\u8fc7\u7a0b\n    for(int i=1;i<=n;++i)   now[i]=i;//\u521d\u59cb\u89e3\n    double T=T0,sum=calc();//T\u4e3a\u5f53\u524d\u6e29\u5ea6\uff0csum\u4e3a\u5f53\u524d\u7b54\u6848\n    while(T>T_end) {\n        for(int i=0;i<L;++i) {\n        //\u5bf9\u4e8e\u6bcf\u4e2a\u6e29\u5ea6\u6211\u4eec\u591a\u8d70\u51e0\u6b21\u51cf\u5c0f\u8bef\u5dee\uff0c\u8fd9\u4e5f\u662f\u4e2a(\u7384\u5b66)\u6280\u5de7\u5427\n            int u=rand()%n+1,v=rand()%n+1;\n            swap(now[u],now[v]);//\u751f\u6210\u65b0\u89e3\n            double tsum=calc();//\u8ba1\u7b97\u65b0\u89e3\u7b54\u6848\n            if(RP_up(sum-tsum,T)) sum=tsum,ans=min(ans,sum);\n            else    swap(now[u],now[v]);//\u5224\u65ad\u662f\u5426\u63a5\u53d7\u65b0\u89e3\n            //ans\u548csum\u7684\u533a\u522b\uff0csum\u662f\u5f53\u524d\u8d70\u5230\u7684\u70b9\u7684\u7b54\u6848\n            //ans\u662f\u5355\u72ec\u7ef4\u62a4\u7684\u4e00\u4e2a\u76ee\u524d\u4e3a\u6b62\u9047\u5230\u8fc7\u7684\u6700\u4f18\u89e3\n        }T*=D;//\u964d\u6e29\n    }\n}\nint main() {\n    srand(0x7f);srand(rand());//\u7384\u5b66\u968f\u673a\u5927\u6cd5\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;++i)   scanf(\"%lf%lf\",&x[i],&y[i]);\n    while(clock()-st<0.9*CLOCKS_PER_SEC)SA();//\u5361\u65f6(\u771f\u9999)\n    printf(\"%.2lf\",ans);return 0;//\u4ee3\u7801\u4ec0\u4e48\u7684\u90fd\u53bb\u6b7b\u5427\n}\n```\n_**~~\u5173\u4e8e\u6a21\u62df\u9000\u706b\u53ef\u4ee5\u6765\u770b\u770b[\u6211\u7684\u535a\u5ba2](https://www.cnblogs.com/no-true/p/9737193.html)~~**_",
        "postTime": 1538483694,
        "uid": 56556,
        "name": "NULL0x7f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1433 \u3010\u5403\u5976\u916a\u3011"
    },
    {
        "content": "\u6ca1\u6709\u52a8\u6001\u89c4\u5212\u7684\u505a\u6cd5\uff1f\u6211\u5c31\u6765\u4e00\u7bc7dp\u505a\u6cd5\u5427\n\n\u8fd9\u4e2a\u9898\u5218\u6c5d\u4f73\u7684\u7d2b\u4e66\u4e0a\u6709\u8be6\u7ec6\u8bb2\u89e3\uff0c\u5c31\u662f\u7ecf\u5178\u7684\u8d27\u90ce\u62c5\u95ee\u9898\n\n\u8bbedp[i][S]\u4e3a\u5df2\u7ecf\u8d70\u8fc7\u7684\u70b9\u7684\u96c6\u5408\u4e3aS\uff0c\u5f53\u524d\u505c\u7559\u5728\u70b9i\u7684\u6700\u77ed\u8ddd\u79bb\n\n\u96c6\u5408S\u7528\u4e8c\u8fdb\u5236\u6570\u6765\u8868\u793a\uff0c\u9700\u8981\u7528\u5230\u4f4d\u8fd0\u7b97\uff0c\u7b2cx\u4f4d\u8bbe\u7f6e\u4e3a1\u8868\u793a\u7b2cx\u4e2a\u70b9\u5df2\u7ecf\u8d70\u8fc7\n\n\u5b9e\u73b0\u65b9\u6cd5\u662f\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u9012\u63a8\uff0c\u4e0d\u8fc7\u5f88\u9ebb\u70e6\n\n\u590d\u6742\u5ea6\u4e3aO( n^2 \\* 2^n )\n\n\u8f6c\u79fb\u65b9\u7a0b\u8be6\u89c1\u4ee3\u7801\uff0c\u8fd8\u662f\u6bd4\u8f83\u7b80\u5355\u7684\n\n\n\n\n\n\n\n\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <cstdlib>\n#include <queue>\n#include <cmath>\nusing namespace std;\nconst int INF = 1e9;\nint n;\ndouble x[15];\ndouble y[15];\ndouble dp[15][1<<15];\ninline int istrue( int A , int bit )\n{\n    return A&(1<<bit);\n}\ninline int set0( int A , int bit )\n{\n    return A&( ~(1<<bit) );\n}\ninline double dist( double x1 , double y1 , double x2 , double y2 )\n{\n    return sqrt( (x1-x2)*(x1-x2) + (y1-y2)*(y1-y2) );\n}\nvoid dfs( int now , int S )\n{\n    if( dp[now][S] != -1 ) return;\n    dp[now][S] = INF;\n    for( int i = 0 ; i < n ; ++i )\n    {\n        if( i == now ) continue;\n        if( !istrue( S , i ) ) continue;\n        dfs( i , set0( S , now ) );\n        dp[now][S] = min( dp[now][S] , dp[i][ set0( S , now ) ] + dist( x[i] , y[i] , x[now] , y[now] ) );\n    }\n}\nint main()\n{\n    cin >> n;\n    for( int i = 0 ; i < n ; ++i ) cin >> x[i] >> y[i];\n    for( int i = 0 ; i < n ; ++i )\n    {\n        for( int j = 1 ; j < (1<<n) ; ++j )\n        {\n            dp[i][j] = -1;\n        }\n    }\n    for( int i = 0 ; i < n ; ++i ) dp[i][1<<i] = dist(0,0,x[i],y[i]);\n    for( int i = 0 ; i < n ; ++i ) dfs( i , (1<<n)-1 );\n    double mn = INF;\n    for( int i = 0 ; i < n ; ++i ) mn = min( mn , dp[i][(1<<n)-1] );\n    printf( \"%.2lf\" , mn );\n    return 0;\n}\n\n```",
        "postTime": 1477903485,
        "uid": 8212,
        "name": "__stdcall",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P1433 \u3010\u5403\u5976\u916a\u3011"
    },
    {
        "content": "## \u5206\u6790\n\u6bd4\u8f83\u7b80\u5355\u7684\u72b6\u538bDP\n\n\u6211\u4eec\u8bbe$f[i][j]$\u4e3a\u5f53\u524d\u7684\u72b6\u6001\u4e3a$i$\u4e14\u5f53\u524d\u6240\u5728\u7684\u4f4d\u7f6e\u4e3a$j$\u65f6\u8d70\u8fc7\u7684\u6700\u5c0f\u8ddd\u79bb\n\n\u56e0\u4e3a\u8001\u9f20\u7684\u5750\u6807\u4e3a$(0,0)$\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u9884\u5904\u7406\u51fa$f[1<<(i-1)][i] (1 \\leq i \\leq n)$\u7684\u503c\n\n\u540c\u65f6\u5728\u8bfb\u5165\u7684\u65f6\u5019\u987a\u4fbf\u5904\u7406\u5904\u4efb\u610f\u4e24\u4e2a\u5976\u916a\u4e4b\u95f4\u7684\u8ddd\u79bb\n\n\u4e0b\u9762\u662f\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n\n``` cpp\n    for(int i=1;i<(1<<n);i++){\n        for(int j=1;j<=n;j++){\n            if((i&(1<<(j-1)))==0) continue;\n            for(int k=1;k<=n;k++){\n                if(k==j) continue;\n                if((i&(1<<(k-1)))==0) continue;\n                f[i][j]=min(f[i][j],f[i^(1<<(j-1))][k]+jl[k][j]);\n            }\n        }\n    }\n```\n\u601d\u8def\u5c31\u662f\u679a\u4e3e\u5f53\u524d\u72b6\u6001\u5df2\u7ecf\u5230\u8fbe\u7684\u57ce\u5e02\uff0c\u5728\u5df2\u7ecf\u5230\u8fbe\u7684\u57ce\u5e02\u4e2d\u679a\u4e3e\u5f53\u524d\u6240\u5728\u7684\u57ce\u5e02\n\n\u540c\u65f6\u679a\u4e3e\u4e0a\u4e00\u4e2a\u72b6\u6001\u6240\u5728\u7684\u57ce\u5e02\uff0c\u5728\u6240\u6709\u72b6\u6001\u4e2d\u53d6\u4e00\u4e2a\u6700\u5c0f\u503c\u5373\u53ef\n## \u4ee3\u7801\n``` cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef double dd;\nconst int maxn=18;\ndd f[1<<maxn][maxn];\ndd jlx[maxn],jly[maxn];\ndd jl[maxn][maxn];\nint main(){\n    for(int i=1;i<(1<<18);i++){\n        for(int j=0;j<18;j++){\n            f[i][j]=10000000.0;\n        }\n    }\n    int n;\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++){\n        scanf(\"%lf%lf\",&jlx[i],&jly[i]);\n        f[1<<(i-1)][i]=(dd)sqrt(jlx[i]*jlx[i]+jly[i]*jly[i]);\n    }\n    for(int i=1;i<=n;i++){\n        for(int j=1;j<=n;j++){\n            jl[i][j]=(dd)sqrt((jlx[i]-jlx[j])*(jlx[i]-jlx[j])+(jly[i]-jly[j])*(jly[i]-jly[j]));\n        }\n    }\n    for(int i=1;i<(1<<n);i++){\n        for(int j=1;j<=n;j++){\n            if((i&(1<<(j-1)))==0) continue;\n            for(int k=1;k<=n;k++){\n                if(k==j) continue;\n                if((i&(1<<(k-1)))==0) continue;\n                f[i][j]=min(f[i][j],f[i^(1<<(j-1))][k]+jl[k][j]);\n            }\n        }\n    }\n    dd ans=100000000.0;\n    for(int i=1;i<=n;i++){\n        ans=min(ans,f[(1<<n)-1][i]);\n    }\n    printf(\"%.2lf\\n\",ans);\n    return 0;\n}\n```",
        "postTime": 1593246764,
        "uid": 316322,
        "name": "hzoi_liuchang",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1433 \u3010\u5403\u5976\u916a\u3011"
    },
    {
        "content": "\u5403\u5976\u916a\n\n\u5bf9\u4e86\uff0c\u916a\u8bfb\u4f5clao\uff0c\u7b2c\u56db\u58f0\u3002\n\n\u6b63\u597d\u770b\u5230\u300a\u7b97\u6cd5\u7ade\u8d5b\u8fdb\u9636\u6307\u5357\u300b\u5728 0x00 \u8282\u7684\u4e00\u9053\u72b6\u538b\u9898\u76ee\uff0c\u611f\u89c9\u548c\u8fd9\u9898\u5f88\u76f8\u4f3c\uff0c\u5c31\u5c1d\u8bd5\u7528\u8fd9\u79cd\u505a\u6cd5\u6765\u89e3\u51b3\u8fd9\u9053\u9898\u76ee\uff0c\u4f46\u4e3b\u8981\u539f\u56e0\u662f\u539f\u4e66\u7684\u914d\u5957\u9898\u5e93 CH \u70b8\u4e86\uff0c\u6240\u4ee5\u5c31\u53ea\u80fd\u5199\u4e00\u9053\u7c7b\u4f3c\u7684\u9898\u76ee\u4e86\u3002\n\n\u6df1\u6df1\u611f\u53d7\u5230\u72b6\u538b\u7684\u6076\u5fc3\u3002\n\n\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u72b6\u6001 $f[i][j]$ \uff0c\u5176\u4e2d $i$ \u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6570\uff0c\u6bcf\u4e00\u4f4d\u8868\u793a\u8fd9\u4e2a\u70b9\u662f\u5426\u88ab\u7ecf\u8fc7\uff0c $j$ \u8868\u793a\u5f53\u524d\u8d70\u5230\u54ea\u4e00\u4e2a\u70b9\u3002\n\n\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u6dfb\u52a0\u7b2c 0 \u4e2a\u70b9\uff0c\u5750\u6807\u4e3a $(0,0)$ \uff0c\u4e8c\u8fdb\u5236\u6570\u7684\u7b2c 0 \u4f4d\u8868\u793a\u8fd9\u4e2a\u70b9\u662f\u5426\u88ab\u7ecf\u8fc7\u3002\n\n\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff1a\n\n$$f[i][j]=\\min\\{f[i][j],f[i\\operatorname{xor}(1<<j)][k]+weight(j,k)\\}$$\n\n\u8fd9\u91cc\u7528 $\\LaTeX$ \u7684\u4e0b\u6807\u592a\u96be\u770b\u4e86\uff0c\u6240\u4ee5\u5c31\u7528\u4e86 C++ \u5f62\u5f0f\u6765\u5199\u3002\n\n\u8fd9\u91cc\u7684 k \u662f\u6211\u4eec\u679a\u4e3e\u7684\u4e00\u4e2a\u4e4b\u524d\u7ecf\u8fc7\u7684\u70b9\uff0c $weight(j,k)$ \u8868\u793a\u4ece j \u5230 k \u7684\u8ddd\u79bb\uff0c$i\\operatorname{xor}(1<<j)$ \u8868\u793a\u5c06 i \u7684\u7b2c j \u4f4d\u53d6\u53cd (\u5373\u53d6 0)\uff0c\u8868\u793a\u7b2c j \u4e2a\u70b9\u672a\u7ecf\u8fc7\u3002\n\n\u8fd9\u4e2a\u72b6\u6001\u8f6c\u79fb\u7684\u524d\u63d0\u662f i \u7684\u7b2c j \u4f4d\u548c\u7b2c k \u4f4d\u4e3a 1 \uff0c\u5373\u7ecf\u8fc7\u7b2c j \u4e2a\u70b9\u548c\u7b2c k \u4e2a\u70b9\u3002\n\n\u521d\u59cb\u5316 $f[1][0] = 0$ \uff0c\u5373\u7ecf\u8fc7\u7b2c 0 \u4e2a\u70b9\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2*2^n)$ \u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\n#include<queue>\n#include<stack>\n#include<cstring>\n#include<vector>\nusing namespace std;\n\nint n;\n\ndouble ans;\n\ndouble f[1<<16][20],x[20],y[20];\n\nconst double inf=1000000005;\n\ninline int read() {\n\tint ret=0,f=1;char ch=getchar();\n\twhile(ch<'0'||ch>'9') {if(ch=='-') f=-f;ch=getchar();}\n\twhile(ch>='0'&&ch<='9') {ret=(ret<<3)+(ret<<1)+ch-'0';ch=getchar();}\n\treturn ret*f;\n}\n\nint main() {\n\t\n\tn=read();\n\t\n\tfor(int i=1;i<=n;i++) {\n\t\tscanf(\"%lf %lf\",&x[i],&y[i]);\n\t}\n\t\n\tfor(int i=0;i<(1<<16);i++) {\n\t\tfor(int j=0;j<=20;j++) f[i][j]=inf;\n\t}\n\t\n\tf[1][0]=0;x[0]=y[0]=0;\n\t\n\tfor(int i=1;i<1<<(n+1);i++)  {\n\t\tfor(int j=1;j<=n;j++) if((i>>j)&1) {\n\t\t\tfor(int k=0;k<=n;k++) if(((i^(1<<j))>>k)&1) {\n\t\t\t\tdouble w=sqrt((x[j]-x[k])*(x[j]-x[k])+(y[j]-y[k])*(y[j]-y[k]));\n\t\t\t\tf[i][j]=min(f[i][j],f[i^(1<<j)][k]+w);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tans=inf;\n\t\n\tfor(int i=1;i<=n;i++) {\n\t\tans=min(ans,f[(1<<(n+1))-1][i]);\n\t}\n\t\n\tprintf(\"%.2f\",ans);\n\t\n\treturn 0;\n}\n```\n",
        "postTime": 1586233452,
        "uid": 154279,
        "name": "Apolynth",
        "ccfLevel": 0,
        "title": "P1433"
    },
    {
        "content": "\u8003\u8651\u5230$n<=15$,\u53ef\u4ee5\u4f7f\u7528\u6a21\u62df\u9000\u706b\u3002\n\n\u8fd9\u9898\u7684\u6a21\u62df\u9000\u706b\u6709\u51e0\u4e2a\u5730\u65b9\u503c\u5f97\u6ce8\u610f\u4e00\u4e0b\uff1a\n\n- \u4f18\u89e3\u548c\u52a3\u89e3\u4e4b\u95f4\u76f8\u5dee\u4e0d\u5927\uff0c\u6240\u4ee5\u8003\u8651\u5230\u8fd9\u4e00\u70b9\u53ef\u4ee5\u628a\u521d\u59cb\u6e29\u5ea6\u8c03\u7684\u6bd4\u8f83\u5c0f\u3002\n\n```cpp\n\tdouble t=9.0;\n```\n\n- \u76f8\u5e94\u7684\uff0c\u964d\u6e29\u7cfb\u6570$delta$\u5c31\u8981\u53d8\u5f97\u66f4\u63a5\u8fd1\u4e8e1\u3002\n```cpp\n#define delta 0.9999965\n```\n\n- \u5e76\u4e14\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u8bd5\u7740\u5c06\u63a5\u53d7\u89e3\u7684\u6982\u7387\u53d8\u5927\u3002\n\n```cpp\nelse if(rand()>exp((ans-calc())/t)*rm*5000) swap(a[x],a[y]);\n```\n- \u8d2a\u5fc3\u867d\u7136\u4e0d\u662f\u6b63\u89e3\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u7528\u5b83\u6765\u4f5c\u6211\u4eec\u7684\u521d\u59cb\u7b54\u6848\uff0c\u8fd9\u6837\u4f1a\u4f7f\u7a0b\u5e8f\u66f4\u5bb9\u6613\u8dd1\u51fa\u6b63\u89e3\u3002\n\n```cpp\nfor(int i=1;i<=n;i++)\n\t{\n\t\tdouble d=114514191981.0;int now=-1;\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tif(vis[j]) {continue;}\n\t\t\tif(now==-1) now=j,d=dis(x[a[i-1]],x[now],y[a[i-1]],y[now]);\n\t\t\telse if(d>dis(x[a[i-1]],x[j],y[a[i-1]],y[j])) d=dis(x[a[i-1]],x[j],y[a[i-1]],y[j]),now=j;\n\t\t}\n\t\ta[i]=now;\n\t\tvis[a[i]]=true;\n\t}//\u8d2a\u5fc3\u7684\u521d\u59cb\u5316\n```\n\n- \u4e24\u4e2a\u968f\u673a\u6570\u76f8\u4e58\u53ef\u4ee5\u5728$mod$ $n$($n$\u8f83\u5c0f)\u610f\u4e49\u4e0b\u4f7f\u968f\u673a\u6570\u66f4\u52a0\u5747\u5300\u3002\n\n```cpp\nint rnd() {return (((rand())%32767)*(rand()%32767))%32767;}//mod n\u66f4\u52a0\u5747\u5300\u7684\u968f\u673a\u6570\n```\n\n\u6700\u540e\u4e0a\u4ee3\u7801\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define delta 0.9999965 //\u964d\u6e29\u7cfb\u6570\n#define rm RAND_MAX \nusing namespace std;\nint rnd() {return (((rand())%32767)*(rand()%32767))%32767;}//mod n\u66f4\u52a0\u5747\u5300\u7684\u968f\u673a\u6570\nint a[20],n;\ndouble x[20],y[20];\nbool vis[20];\ndouble dis(double x1,double x2,double y1,double y2){return sqrt((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2));}\ndouble calc()\n{\n\tdouble ans=0,nowx=0,nowy=0;\n\tfor(int i=1;i<=n;i++) ans+=dis(nowx,x[a[i]],nowy,y[a[i]]),nowx=x[a[i]],nowy=y[a[i]];\n\treturn ans;\n}\nint main()\n{\n    cin>>n;\n    srand(19981125);\n    srand(rand());\n    memset(vis,false,sizeof(vis));\n    x[0]=0,y[0]=0;\n\tfor(int i=1;i<=n;i++) cin>>x[i]>>y[i];\n    if(n==1) {printf(\"%.2lf\",dis(0,x[1],0,y[1]));return 0;}\n\tdouble t=9.0,ans=114514191981.0;\n\tdouble nowx=0,nowy=0;//\u8fd9\u91cc\u65e0\u610f\u4e49\uff0c\u672c\u6765\u60f3\u653e\u5728\u8d2a\u5fc3\u91cc\u7684\uff0c\u4f46\u662f\u6ca1\u7528\u4e0a\uff0c\u8bf7\u65e0\u89c6\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tdouble d=114514191981.0;int now=-1;\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tif(vis[j]) {continue;}\n\t\t\tif(now==-1) now=j,d=dis(x[a[i-1]],x[now],y[a[i-1]],y[now]);\n\t\t\telse if(d>dis(x[a[i-1]],x[j],y[a[i-1]],y[j])) d=dis(x[a[i-1]],x[j],y[a[i-1]],y[j]),now=j;\n  //          cout<<now<<endl;\n\t\t}\n\t\ta[i]=now;\n\t\tvis[a[i]]=true;\n\t}//\u8d2a\u5fc3\u7684\u521d\u59cb\u5316\n//\tfor(int i=1;i<=n;i++) cout<<a[i]<<\" \";\n//\tcout<<endl<<calc()<<endl;\n\tans=calc();\n\twhile(clock()<CLOCKS_PER_SEC*0.99)\n\t{\n\t\tint x=rnd()%n+1,y=rnd()%n+1;\n\t\twhile(y==x) y=rnd()%n+1;\n\t\tswap(a[x],a[y]);\n\t\tif(ans>calc()) ans=calc();\n\t\telse if(rand()>exp((ans-calc())/t)*rm*5000) swap(a[x],a[y]);\n\t\tt*=delta;\n\t}//\u6a21\u62df\u9000\u706b\u6846\u67b6\n\tprintf(\"%.2lf\\n\",ans);//\u8f93\u51fa\u7b54\u6848\uff0c\u4fdd\u7559\u4e24\u4f4d\u5c0f\u6570\n  //  cout<<t<<endl;\n}\n```",
        "postTime": 1593753247,
        "uid": 126763,
        "name": "Vector_",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1433 \u3010\u5403\u5976\u916a\u3011"
    },
    {
        "content": "# \u597d\u597d\u7684dfs\uff0c\u88ab\u6211\u786c\u751f\u751f\u6253\u6210\u72b6\u538bdp\n## ~~\u5176\u5b9e\u53ea\u662f\u611f\u89c9dfs\u4f1a\u7206~~\n### Let's go->\n**\u7ea6\u5b9a\uff1a\u4e3a\u65b9\u4fbf\u8ba1\u7b97\uff0c\u4f7f\u75280~n-1\u8868\u793a\u5404\u4e2a\u70b9**\n\n\u9996\u5148\u7528d[i][j]\u8868\u793ai\u5976\u916a\u5230j\u5976\u916a\u7684\u8ddd\u79bb\n\n\u8bbef[i][j]\u8868\u793a\u4ee5i\uff08\u4e8c\u8fdb\u5236\u4e32\uff09\u4e3a\u7ed3\u675f\u72b6\u6001\uff080\u8868\u793a\u6ca1\u5403\uff0c1\u8868\u793a\u5403\u4e86\uff09\uff0c\u4ee5j\u53f7\u5976\u916a\u7ed3\u675f\u65f6\u7684\u6700\u77ed\u8ddd\u79bb\u3002\n\n\u4e8e\u662f~~\u5f88\u660e\u663e~~\u7b54\u6848\u5c31\u662f**min{f[(1<<n)-1][i]}**(0<=i<n)\n\n\u73b0\u5728\u6211\u4eec\u6765\u60f3\u65b9\u7a0b\n\n\u4ee5i\u72b6\u6001\u5728j\u53f7\u5976\u916a\u7ed3\u675f\u7684\u6700\u77ed\u8ddd\u79bb\u53ef\u4ee5\u7531**[i-(1<<j)\uff08\u5373\u5728\u5403j\u53f7\u5976\u916a\u4e4b\u524d\uff09\u72b6\u6001\u4e2d\u5404\u4e2a\u7ed3\u675f\u70b9\u7684\u6700\u77ed\u8ddd\u79bb+\u8be5\u70b9\u5230j\u53f7\u70b9\u7684\u8ddd\u79bb]**\u53d6\u6700\u5c0f\u503c\u5f97\u5230\n\n\u4e8e\u662f\u5c31\u6709**f[i][j]=min{f[i-(1<<j)][k]+d[j][k]}**(i&(1<<k)(\u5373k\u53f7\u70b9\u5728i\u7684\u4e8c\u8fdb\u5236\u4e32\u4e2d\u5b58\u5728)&&k!=j)\n\n\u6700\u540e\uff0c\u8003\u8651\u521d\u59cb\u5316\n\n\u9898\u76ee\u8bf4\u4ece\u539f\u70b9\u5f00\u59cb\uff0c\u6240\u4ee5\u53ea\u5403\u4e00\u4e2a\u5976\u916a\u65f6\u6700\u77ed\u8ddd\u79bb\u4e3a\u8be5\u5976\u916a\u5230\u539f\u70b9\u7684\u8ddd\u79bb\n\n\u4e8e\u662f\u5c31\u6709**f[i][j]=sqrt(x[j]^2+y[j]^2)(i==1<<j\uff08\u5373\u4e8c\u8fdb\u5236\u4e32\u4e2d\u53ea\u6709j\uff09)**\n\n\u5f3a\u8feb\u75c7~~\u6bd4\u5982\u8bf4\u6211~~\u53ef\u4ee5\u628a\u2018-\u2019\u6539\u6210\u2018^\u2019~~\u5361\u5e38~~\n\n\u4ee5\u4e0b\u5c31\u662f\u4e11\u964b\u7684\u4ee3\u7801->\n```cpp\n#include<cstdio>\n#include<cmath>\n#define Rd(a) (a=read())\ninline int read(){\n\tregister int x;\n\tregister char c(getchar());\n\tregister bool k;\n\twhile((c<'0'||c>'9')&&c^'-')c=getchar();\n\tif(c^'-')x=c-'0',k=1;\n\telse x=0,k=0;\n\tfor(c=getchar();c>='0'&&c<='9';c=getchar())x=(x<<1)+(x<<3)+c-'0';\n\tif(k)return x;\n\telse return (x^(int)(-1))+1;\n}\n#define Frn0(i,a,b) for(register int i(a);i<b;++i)\n#define Frn1(i,a,b) for(register int i(a);i<=b;++i)\n#define Min(a,b) ((a)<(b)?(a):(b))\nint n,sz;\ndouble d[15][15],f[1<<15][15],x[15],y[15];\ninline double sq(double a){return a*a;}\nsigned main(){\n\tsz=(1<<Rd(n))-1;//sz\u8868\u793a\u7ed3\u675f\u4e8c\u8fdb\u5236\u4e32\n\tFrn0(i,0,n){\n\t\tscanf(\"%lf%lf\",x+i,y+i);\n\t\tFrn0(j,0,i)d[i][j]=d[j][i]=sqrt(sq(x[i]-x[j])+sq(y[i]-y[j]));//\u8ba1\u7b97\u8ddd\u79bb\n\t}\n\tFrn1(i,1,sz)Frn0(j,0,n)if(i&(1<<j)){//\u5f53j\u5728i\u7684\u4e8c\u8fdb\u5236\u4e32\u4e2d\u65f6\u624d\u6709\u610f\u4e49\n\t\tif(i==1<<j)f[i][j]=sqrt(sq(x[j])+sq(y[j]));\n\t\telse{\n\t\t\tf[i][j]=100000;\n\t\t\tFrn0(k,0,n)if(i&(1<<k)&&k!=j)f[i][j]=Min(f[i][j],f[i^(1<<j)][k]+d[j][k]);\n\t\t}\n\t}\n\tFrn0(i,1,n)*f[sz]=Min(*f[sz],f[sz][i]);//\u6700\u540e\u7684\u6253\u64c2\n\tprintf(\"%.2lf\",*f[sz]);\n\treturn 0;\n}\n```",
        "postTime": 1538439580,
        "uid": 66199,
        "name": "Bring",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1433 \u3010\u5403\u5976\u916a\u3011"
    },
    {
        "content": "\u597d\u50cf\u6ca1\u6709pascal\u7684\u72b6\u538bdp\u554a\n\n\u5f88\u660e\u663e\u662f\u72b6\u538bdp\uff0ci\u4e8c\u8fdb\u5236\u8868\u793a\u96c6\u5408\uff0cj\u8868\u793a\u5728\u54ea\u4e2a\u70b9\uff0cf[i,j]\u8868\u793a\u6700\u77ed\u8ddd\u79bb\uff0c\u8f6c\u79fb\u662fO(n)\u7684\uff0c\u603b\u590d\u6742\u5ea6O(2^n\\*n^2),\u6bd4\u641c\u7d22\u5feb\u5f88\u591a\u554a\n\npascal\u4ee3\u7801\uff1a\n\n```cpp\nprogram rrr(input,output);\nconst\n  inf=123456789;\nvar\n  a,b:array[0..17]of double;\n  d:array[0..17,0..17]of double;\n  f:array[0..40000,0..17]of double;\n  n,m,i,j,k,rj,rk:longint;\n  ans:double;\nfunction min(a,b:double):double;\nbegin\n   if a<b then exit(a) else exit(b);\nend;\nbegin\n   //assign(input,'r.in');assign(output,'r.out');reset(input);rewrite(output);\n   readln(n);\n   for i:=1 to n do readln(a[i],b[i]);\n   for i:=1 to n do for j:=1 to n do if i<>j then d[i,j]:=sqrt(sqr(a[i]-a[j])+sqr(b[i]-b[j]));\n   //for i:=1 to n do begin for j:=1 to n do write(d[i,j]:0:2,'    '); writeln; end;\n   m:=1<<n-1;\n   for i:=1 to m do for j:=1 to n do f[i,j]:=inf;\n   for i:=1 to n do f[1<<(i-1),i]:=sqrt(sqr(a[i])+sqr(b[i]));\n   //for i:=1 to m do begin for j:=1 to n do if f[i,j]=inf then write(-1,'  ') else write(f[i,j]:0:2,'  ');writeln; end;writeln;\n   for i:=1 to m-1 do\n       begin\n       for j:=1 to n do\n           begin\n              rj:=1<<(j-1);\n              if i and rj>0 then\n                 for k:=1 to n do\n                     begin\n                        rk:=1<<(k-1);\n                        if i and rk=0 then\n                           f[i or rk,k]:=min(f[i or rk,k],f[i,j]+d[j,k]);\n                     end;\n           end;\n        //for k:=1 to m do begin for j:=1 to n do if f[k,j]=inf then write(-1,'  ') else write(f[k,j]:0:2,'  ');writeln; end;writeln;\n        end;\n   ans:=inf;\n   for i:=1 to n do if f[m,i]<ans then ans:=f[m,i];\n   write(ans:0:2);\n   //close(input);close(output);\nend.\n```",
        "postTime": 1485854569,
        "uid": 28023,
        "name": "McGrady",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1433 \u3010\u5403\u5976\u916a\u3011"
    }
]