[
    {
        "content": "## subtask 2\r\n\u8bfb\u9898\u5206\uff0c\u9884\u5904\u7406\u6bcf\u4e2a\u70b9\u7684\u6700\u5927\u72ec\u7acb\u96c6\u7136\u540e\u5206\u7c7b\u8ba8\u8bba\u4e00\u4e0b\u3002\r\n## subtask 1\uff0c3\uff0c4\r\n\r\n\u9996\u5148\u7279\u6b8a\u5904\u7406 $G_1$ \u3002\r\n\r\n\u7136\u540e\u8003\u8651\u4ece $G_x$ \u5230 $G_{x+1}$ \u53ea\u5173\u5fc3\u4e24\u4e2a\u70b9\u9009\u4e0d\u9009\uff1a$G_x$ \u7684\u6839\u548c\u6700\u53f3\u90a3\u4e2a\u70b9\u9009\u4e0d\u9009\uff0c\u5982\u56fe\uff1a\r\n\r\n![](https://cdn.luogu.com.cn/upload/image_hosting/z2se4ynu.png)\r\n\r\n\u8bbe $f_{i,st}$ \uff0c\u5176\u4e2d $st=(0/1,0/1)$ \u8868\u793a\u8fd9\u4e24\u4e2a\u70b9\u9009\u4e0d\u9009\uff0c$G_i$ \u7684\u7b54\u6848\u3002\r\n\r\n\u7136\u540e\u8003\u8651\u679a\u4e3e $G_{x+1}$ \u4e2d\u6839\u8282\u70b9\uff08\u5305\u62ec\u4e0b\u65b9\u90a3\u4e2a\uff09\uff0c\u6700\u53f3\u8fb9\u8282\u70b9\u7684\u72b6\u6001\u5373\u53ef\u5217\u51fa\u8f6c\u79fb\u5f0f\uff0c\u66b4\u529b dp \u5373\u53ef\u3002\r\n\r\n## subtask 5\r\n\u901a\u8fc7\u4e00\u4e9b\u8d2a\u5fc3\u7684\u8ba8\u8bba\uff0c\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u9012\u63a8\u5f0f\uff0c\u77e9\u9635\u5feb\u901f\u5e42\u5373\u53ef\u3002\r\n\r\n## subtask 6\r\n\r\n\u53d1\u73b0\u7ed3\u679c\u5f88\u5927\uff0c\u65e0\u6cd5\u53d6 $\\max$\u3002\r\n\r\n\u53ef\u4ee5\u8bc1\u660e\uff08\u8bc1\u660e\u89c1\u6700\u4e0b\u65b9\uff09\u5982\u679c\u628a\u6bcf\u5c42 $f$ \u7684\u53d6\u503c\u5206\u6210\u5982\u4e0b\u51e0\u7c7b\uff08\u8bb0\u4e3a\u72b6\u6001 $1$ \u5230 $5$\uff09\uff1a\r\n- $f_{1,1}$ \u4e25\u683c\u6700\u5927\r\n- $f_{0,0}$ \u4e3a\u6700\u5927\u503c\u4e4b\u4e00\r\n- $f_{1,0}$ \u4e25\u683c\u6700\u5927\uff08$f_{1,1}$\u53ef\u4ee5\u7b49\u4e8e $f_{1,0}$\uff09\r\n- $f_{0,1}$ \u4e25\u683c\u6700\u5927\uff08$f_{1,1}$\u53ef\u4ee5\u7b49\u4e8e $f_{0,1}$\uff09\r\n- $f_{1,0} $ \u548c $f_{0,1}$ \u5e76\u5217\u6700\u5927\uff08$f_{1,1}$\u53ef\u4ee5\u7b49\u4e8e $f_{0,1}$\uff09\uff0c\r\n\r\n\u90a3\u4e48\u4ece\u7b2c $i$ \u5c42\u5230\u7b2c $i+1$ \u5c42\uff0c\u53d1\u751f\u5982\u4e0b\u53d8\u5316\uff1a \r\n\r\n- \u7b2c $i$ \u5c42\u82e5\u4e3a\u72b6\u6001 $1$ \uff0c\u4e0b\u4e00\u5c42\u4e3a\u72b6\u6001 $4$\u3002\r\n- \u7b2c $i$ \u5c42\u82e5\u4e3a\u72b6\u6001 $2$ \uff0c\u4e0b\u4e00\u5c42\u4e3a\u72b6\u6001 $3$\u3002\r\n- \u7b2c $i$ \u5c42\u82e5\u4e3a\u72b6\u6001 $3$ \uff0c\u4e0b\u4e00\u5c42\u4e3a\u72b6\u6001 $2$\u3002\r\n- \u7b2c $i$ \u5c42\u82e5\u4e3a\u72b6\u6001 $4$ \uff0c\u4e0b\u4e00\u5c42\u4e3a\u72b6\u6001 $1$\u3002\r\n- \u7b2c $i$ \u5c42\u82e5\u4e3a\u72b6\u6001 $5$ \uff0c\u4e0b\u4e00\u5c42\u4e3a\u72b6\u6001 $5$\u3002\r\n\r\n\u5bb9\u6613\u53d1\u73b0\u6700\u540e\u4e00\u5b9a\u662f $4$ \uff0c$1$ \u95f4\u5faa\u73af\u6216\u8005 $2$ \uff0c$3$ \u95f4\u6216\u8005 $5$ \u4e00\u76f4\u5faa\u73af\uff0c\u800c\u4e94\u79cd\u53d8\u5316\u662f\u5747\u53ef\u4ee5\u5199\u51fa\u4e00\u4e2a\u4e0d\u5e26 $\\max$ \u7684\u9012\u63a8\u5f0f\u7684\u3002\u5373\u53ef\u77e9\u4e58\u3002\r\n\r\n\u8bc1\u660e\uff1a\r\n\r\n\u628a\u6bcf\u4e2a\u72b6\u6001\u7684\u8f6c\u79fb\u5217\u51fa\u6765\uff0c\u679a\u4e3e\u4e0a\u4e00\u5c42\u72b6\u6001\u5373\u53ef\u89e3\u51fa\u8fd9\u5c42\u6bcf\u4e2a\u72b6\u6001\u7684\u6700\u5927\u503c\uff0c\u5982\u4e0b\u56fe\uff1a\r\n\r\n```\r\n1\uff1a-1 0 -2 -1\r\n2\uff1a1 1 2 2\r\n3\uff1a0 0 -1 -1\r\n4\uff1a-1 0 0 1\r\n5\uff1a0 1 1 1\r\n```\r\n\r\n\u9a8c\u8bc1\u7a0b\u5e8f\u5982\u4e0b\uff1a\r\n```cpp\r\n#include<bits/stdc++.h>\r\nusing namespace std;\r\nint st[5][4];\r\nconst int inf=1e9;\r\nvoid init(int now,int a,int b,int c,int d){\r\n\tst[now][0]=a;st[now][1]=b;st[now][2]=c;st[now][3]=d;\r\n}\r\nint S;\r\nint f1(int a){\r\n\tif(a)return max(st[S][0],st[S][1]);\r\n\telse return max(max(st[S][0],st[S][1]),max(st[S][2],st[S][3]));\r\n}\r\nint f2(int a,int b){\r\n\tint ans=-inf;\r\n\tfor(int x=0;x<=1;x++){\r\n\t\tfor(int y=0;y<=1;y++){\r\n\t\t\tif(a&&x)continue;\r\n\t\t\tif(b&&y)continue;\r\n\t\t\tans=max(ans,st[S][x*2+y]);\r\n\t\t}\r\n\t}\r\n\treturn ans;\r\n}\r\nint f3(int a){\r\n\tif(a)return max(st[S][0],st[S][1]);\r\n\telse return max(max(st[S][0],st[S][1]),max(st[S][2],st[S][3]));\r\n} \r\nint f4(int a,int b){\r\n\tint ans=-inf;\r\n\tfor(int x=0;x<=1;x++){\r\n\t\tfor(int y=0;y<=1;y++){\r\n\t\t\tif(a&&x)continue;\r\n\t\t\tif(y!=b)continue;\r\n\t\t\tans=max(ans,st[S][x*2+y]);\r\n\t\t}\r\n\t}\r\n\treturn ans;\r\n}\r\nint res[4];\r\nint main(){\r\n\tinit(0,-1,-1,-1,0); \r\n\tinit(1,0,0,0,0); \r\n\tinit(2,-1,-1,0,0); \r\n\tinit(3,-1,0,-1,0); \r\n\tinit(4,-1,0,0,0);\r\n\tfor(int s=0;s<=4;s++){ \r\n\t\tS=s;\r\n\t\tres[0]=res[1]=res[2]=res[3]=-inf; \r\n\t\tfor(int a=0;a<=1;a++){\r\n\t\t\tfor(int b=0;b<=1;b++){\r\n\t\t\t\tfor(int c=0;c<=1;c++){ \r\n\t\t\t\t\tres[a*2+c]=max(res[a*2+c],f1(a)+f2(a,b)+f3(b)+f4(b,c)+a+b);\t \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} \r\n\t\tcout<<res[0]<<\" \"<<res[1]<<\" \"<<res[2]<<\" \"<<res[3]<<endl; \r\n\t} \r\n\treturn 0;\r\n}\r\n```\r\n\r\n\u540c\u65f6\u6839\u636e\u4e0a\u8868\u4e5f\u5f97\u5230\u4e86\u4e86\u6bcf\u4e2a\u72b6\u6001\u7684\u9012\u63a8\u5f0f\uff08\u8bbe\u4e0a\u4e00\u5c42\u7b54\u6848\u4e3a $x$\uff09\uff1a\r\n \r\n$1$ \u5230 $4$\uff1a$x=4x$\r\n\r\n$2$ \u5230 $3$\uff1a$x=4x+2$\r\n\r\n$3$ \u5230 $2$\uff1a$x=4x$\r\n\r\n$4$ \u5230 $1$\uff1a$x=4x+1$\r\n\r\n$5$ \u5230 $5$\uff1a$x=4x+1$  \r\n\r\n\u6216\u8005\u53ef\u4ee5\u6b23\u8d4f\u4e00\u4e0b[\u7531 bot \u4e66\u5199\u7684\u8bc1\u660e](https://www.luogu.com.cn/paste/cpery0mu)\u3002\r\n\r\n",
        "postTime": 1676723761,
        "uid": 282751,
        "name": "cryozwq",
        "ccfLevel": 7,
        "title": "P9090"
    }
]