[
    {
        "content": "\u7531\u4e8e\u4e0d\u61c2\u5f97\u4e0a\u4f20\u56fe\u5e8a\uff0c\u672c\u9898\u89e3\u6ca1\u6709\u56fe\uff0c\u770b\u56fe\u53ef\u4ee5\u79fb\u6b65[\u8fd9\u7bc7\u9898\u89e3](https://www.cnblogs.com/Lewis-Li/p/bzoj1160.html)\u3002\uff08\u4e0d\u662f\u6211\u5199\u7684\uff09\n\n\u5148\u8003\u8651\u65e0\u5171\u7ebf\u60c5\u51b5\u7684\u7b54\u6848\uff0c\u6ce8\u610f\u5230\u96f6\u4ef6\u4e0a\u7684\u6bcf\u6761\u8fb9\u90fd\u5fc5\u987b\u5207\uff0c\u6b64\u5916\uff0c\u6bcf\u6761\u8fb9\u5ef6\u4f38\u4e0e\u5916\u591a\u8fb9\u5f62\u4ea4\u51fa\u4ea4\u70b9\uff0c\u6bcf\u4e2a\u9876\u70b9\u76f8\u90bb\u4e24\u6761\u8fb9\u5728\u8fd9\u4e2a\u9876\u70b9\u4e0a\u7684\u5ef6\u4f38\u7ebf\u81f3\u5c11\u8981\u9009\u4e00\u6761\uff0c\u8003\u8651\u5982\u679c\u6bcf\u4e2a\u8282\u70b9\u90fd\u662f\u9009\u540c\u4e00\u65b9\u5411\u7684\u5ef6\u4f38\u7ebf\uff0c\u8fd9\u6837\u5b50\u662f\u4e0d\u80fd\u5207\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u679a\u4e3e\u54ea\u4e2a\u9876\u70b9\u653e\u51fa\u4e86\u4e24\u6761\u7528\u6765\u5207\u7684\u7ebf\u6bb5\uff0c\u5269\u4e0b\u9876\u70b9\u53bb\u53d6\u4e24\u4fa7\u7ebf\u6bb5\u6700\u5c0f\u503c\u3002\n\n\u8003\u8651\u5171\u7ebf\uff0c\u5bb9\u6613\u53d1\u73b0\u5982\u679c\u5171\u7ebf\u5219\u53ea\u9700\u8981\u6392\u9664\u96f6\u4ef6\u4e0a\u7684\u8be5\u8fb9\u5373\u53ef\uff0c\u4e24\u4fa7\u76f8\u90bb\u7ebf\u6bb5\u81ea\u52a8\u80fd\u5c06\u8fd9\u8fb9\u7684\u8ddd\u79bb\u53d6\u6210 $0$\uff0c\u7136\u540e\u4e0d\u53bb\u53d6\u90a3\u4e2a\u957f\u7684\u7ebf\u6bb5\uff0c\u679a\u4e3e\u54ea\u4e2a\u9876\u70b9\u653e\u51fa\u4e86\u4e24\u6761\u7528\u6765\u5207\u7684\u7ebf\u6bb5\u5b9a\u80fd\u53d6\u5230\u7b54\u6848\u3002\n\n\u8003\u8651\u5982\u4f55\u5bfb\u627e\u7ebf\u6bb5\u4e24\u4fa7\u4e0e\u5916\u5ef6\u51f8\u5305\u7684\u8ddd\u79bb\uff0c\u4f7f\u7528\u53cc\u6307\u9488\u626b\u63cf\u5373\u53ef\u3002\n\n\u6ce8\u610f\u8981\u70b9\uff1a\u7ebf\u6bb5\u6c42\u4ea4\u7b97\u8ddd\u79bb\uff0ceps \u8981\u8bbe\u4e3a ```1e-3```\uff0c\u56e0\u4e3a\u6570\u636e\u7cbe\u5ea6\u5f88\u5dee\uff0c\u6bd4\u8f83\u9760\u8fd1\u5c31\u7b97\u4f5c\u5171\u7ebf\u4e86\uff0c\u4e0d\u7136\u96f6\u4ef6\u6709\u4e9b\u9876\u70b9\u4f1a\u5728\u5916\u9762 ```1e-7``` \u7684\u4f4d\u7f6e\uff0c\u6216\u8005\u591a\u7b97\u4e0a\u4e86\u4e0d\u5171\u7ebf\u90e8\u5206\u5bfc\u81f4\u7b54\u6848\u8fc7\u5927\u3002\n\n\u662f\u672c\u9898 AC \u4ee3\u7801\u4e2d\u552f\u4e8c\u4e0d\u4f7f\u7528\u7279\u5224\u7684\uff08\u65f6\u95f4\u590d\u6742\u5ea6 $\\Theta(n)$\uff09\uff0c\u4ee3\u7801\u5982\u4e0b\u3002\n\n```\n#include<cstdio>\n#include<cmath>\nconst int N=2007;\ntypedef double ld;\nconst ld eps=5e-3;\nstruct pii{ld x,y;};\nint sgn(ld x){return -eps<=x&&x<=eps?0:(x>0?1:-1);}\npii operator-(pii a,pii b){return {a.x-b.x,a.y-b.y};}\nld operator*(pii a,pii b){return a.x*b.y-a.y*b.x;}\nld gk(pii x){return x.y/x.x;}\nld min(ld a,ld b){return a<b?a:b;}\nld dis(pii x){return sqrt(x.x*x.x+x.y*x.y);}\nint ups(pii x,pii a,pii b){return sgn((x-a)*(x-b));}\npii p[N],q[N];\nld a[N],b[N],f[N];int n,m;\nld deal(pii a,pii b,pii c,pii d)\n{\n\tld k=gk(a-b),K=gk(c-d);\n\tif(std::isinf(k)&&std::isinf(K))return 0;\n\tif(std::isinf(k))\n\t{\n\t\tld p=(b.x-c.x)/(d.x-c.x);\n\t\tpii r={c.x+p*(d.x-c.x),c.y+p*(d.y-c.y)};\n\t\treturn dis(r-b);\n\t}\n\tif(std::isinf(K))\n\t{\n\t\tld p=(c.x-a.x)/(b.x-a.x);\n\t\tpii r={a.x+p*(b.x-a.x),a.y+p*(b.y-a.y)};\n\t\treturn dis(r-b);\n\t}\n\tld B1=a.y-k*a.x,B2=c.y-K*c.x;\n\tif(k==K)return 0;\n\tpii r={(B2-B1)/(k-K),0};r.y=k*r.x+B1;\n\treturn dis(r-b);\n}\nint main()\n{\n\tint s,t;ld ans=1e18,sum=0;\n\tscanf(\"%d\",&n);for(int i=1;i<=n;++i)scanf(\"%lf%lf\",&p[i].x,&p[i].y);\n\tscanf(\"%d\",&m);for(int i=1;i<=m;++i)scanf(\"%lf%lf\",&q[i].x,&q[i].y);\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tint a=ups(p[i],q[1],q[2]),b=ups(p[i%n+1],q[1],q[2]);\n\t\tif(a>0&&b<=0)s=i;if(a<=0&&b>0)t=i;\n\t}\n\tfor(int i=1;i<=m;++i)\n\t{\n\t\twhile(ups(p[s%n+1],q[i],q[i%m+1])>0)s=s%n+1;\n\t\twhile(ups(p[t%n+1],q[i],q[i%m+1])<=0)t=t%n+1;\n\t\ta[i]=deal(q[i%m+1],q[i],p[s],p[s%n+1]);\n\t\tb[i]=deal(q[i],q[i%m+1],p[t],p[t%n+1]);\n\t\tif(ups(p[s%n+1],q[i],q[i%m+1])||ups(p[t],q[i],q[i%m+1])||(s+1)%n+1!=t)sum+=dis(q[i]-q[i%m+1]);\n\t}\n\tfor(int i=1;i<=m;++i)f[i]=f[i-1]+min(b[i],a[i%m+1]);\n\tfor(int i=1;i<=m;++i)\n\t\tans=min(ans,a[i]+b[i]+(i==1?f[m-1]:f[m]+f[i-2])-f[i]);\n\tprintf(\"%.0lf\",ans+sum);\n\treturn 0;\n}\n```",
        "postTime": 1682473171,
        "uid": 151415,
        "name": "Edward1002001",
        "ccfLevel": 7,
        "title": "\u9898\u89e3\uff1aLGOJT4534 [CTSC2004]\u6700\u4f18\u5207\u5272"
    }
]