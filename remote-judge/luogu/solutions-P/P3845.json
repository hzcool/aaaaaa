[
    {
        "content": "# \u672c\u9898\u7b2c\u4e8c\u4e2aAC\uff0c\u7b2c\u4e00\u7bc7\u9898\u89e3\n\u601d\u8def\u554a\uff0c\u5c31\u662f\u8d2a\u5fc3+\u79bb\u6563\u5316\n\n\u4e4d\u770b\u4e00\u4e0b\u4f3c\u4e4e\u662f\u6700\u5927\u5339\u914d\uff0c\u597d\u50cf\u53ef\u4ee5\u7528\u5bfc\u5f39\u62e6\u622a\u7684$70$\u5206\u505a\u6cd5\u53bb\u505a\uff0c\u4f46\u662f\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$O(n^3)$\u4f1a\u8d85\u65f6\uff0c\u5c31\u6253\u4e86\u4e00\u4e2a\u8d2a\u5fc3$O(n^2)$\n\n\u8981\u6c42\u7684\u662f\u6700\u5c11\u7684\u6b21\u6570\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5982\u679c\u628a\u6bcf\u4e2a\u6bd4\u5206\u90fd\u5206\u6210\u8f83\u5927\u7684\u8f83\u5c0f\u7684\u4e24\u90e8\u5206\uff0c\u90a3\u4e48\u8fd9\u6837\u4f1a\u4f7f\u6bd4\u8d5b\u66f4\u5c11\u3002\n\n\u5982\u679c\u8981\u51cf\u5c11\u5173\u952e\u5b57\u7684\u8bdd\uff0c\u90a3\u5c31\u628a\u5927\u7684\u79ef\u5206\u6392\u4e2a\u5e8f\u5427\uff01\u8fd9\u6837\u5c31\u4fdd\u8bc1\u5927\u79ef\u5206\u4e0d\u4f1a\u5e72\u6270\u5c0f\u79ef\u5206\u7684\u6bd4\u8d5b\u6570\u7edf\u8ba1\u4e86\uff08\u5f53\u7136\u4e5f\u53ef\u4ee5\u6392\u5c0f\u79ef\u5206\uff09\n\n\u8fd9\u4e2a\u65f6\u5019\u5c0f\u79ef\u5206\u5c31\u6784\u6210\u4e86\u4e00\u4e2a\u719f\u6089\u7684\u9898\u76ee\uff1a\u5bfc\u5f39\u62e6\u622a\n\n# \u4ee3\u7801\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define zero(a) memset(a,0,sizeof(a))\n#define r(i,a,b) for(int i=a;i<=b;i++)\nusing namespace std;\nint t,n,x,y,f[1001],ans,p;\nstruct node\n{\n\tint a,b;\n}s[1001];//\u7ed3\u6784\u4f53\nbool cmp(node x,node y){return x.b<y.b||x.b==y.b&&x.a<y.a;}//\u6392\u5e8f\nint main()\n{\n\tscanf(\"%d\",&t);//\u8f93\u5165\n\twhile(t--)\n\t{\n\t\tzero(s);zero(f);//\u521d\u59cb\u5316\n\t\tscanf(\"%d\",&n);//\u8f93\u5165\n\t\tr(i,1,n)\n\t\t{\n\t\t\tscanf(\"%d-%d\",&x,&y);//\u8f93\u5165\uff0cscanf\u5c31\u662f\u597d\n\t\t\ts[i].b=max(x,y);//\u53d6\u4e0b\u5927\u79ef\u5206\n\t\t\ts[i].a=min(x,y);//\u53d6\u4e0b\u5c0f\u79ef\u5206\n\t\t}\n\t\tsort(s+1,s+n+1,cmp);//\u6392\u4e2a\u5e8f\n\t\tans=0;f[++ans]=s[1].a;//\u521d\u59cb\u5316\n\t\tr(i,2,n)\n\t\t{\n\t\t\tp=0;\n\t\t\tr(j,1,ans)\n\t\t\t if(s[i].a>=f[j]&&f[p]<=f[j]) p=j;//\u6bd4\u8f83\u4e11\u7684\u8d2a\u5fc3\n\t\t\tif(!p)f[++ans]=s[i].a;else f[p]=s[i].a;//\u628a\u5b83\u653e\u8fdb\u53bb\n\t\t}\n\t\tprintf(\"%d\\n\",ans);//\u7136\u540e\u5c31\u8f93\u51fa\n\t}\n}\n```",
        "postTime": 1524489209,
        "uid": 52915,
        "name": "Ajwallet",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3845 \u3010[TJOI2007]\u7403\u8d5b\u3011"
    },
    {
        "content": "\n### \u9898\u610f\n\n$n$ \u4e2a\u6bd4\u5206\uff0c\u683c\u5f0f\u4e3a $a-b$\uff0c\u6bcf\u573a\u6bd4\u8d5b\u7684\u5f97\u5206\u53ef\u80fd\u4e3a $a-b$\uff0c\u4e5f\u53ef\u80fd\u4e3a $b-a$\uff0c\u6c42\u81f3\u5c11\u6709\u591a\u5c11\u573a\u6bd4\u8d5b\u3002\n\n---\n\n### \u89e3\u6cd5\n\n\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u5148\u628a\u5927\u7684\uff08\u6216\u5c0f\u7684\uff09\u90fd\u653e\u5728\u540c\u4e00\u4fa7\uff0c\u4e4b\u540e\u6392\u4e2a\u5e8f\uff0c\u4fdd\u8bc1\u67d0\u4e00\u65b9\u7684\u5f97\u5206\u5355\u8c03\u3002\n\n\u7531\u4e8e\u540c\u4e00\u573a\u6bd4\u8d5b\u4e2d\uff0c\u4e00\u65b9\u7684\u5f97\u5206\u80af\u5b9a\u662f\u5355\u8c03\u589e\u7684\uff0c\u6240\u4ee5\u6700\u5c11\u7684\u6bd4\u8d5b\u6570\u5176\u5b9e\u5c31\u7b49\u4e8e**\u6c42\u5355\u8c03\u4e0a\u5347\u5b50\u5e8f\u5217\u7684\u4e2a\u6570**\u3002\n\n\u800c\u6839\u636e $\\text{dilworth}$ \u5f15\u7406\uff0c\u6700\u5c0f\u94fe\u5212\u5206\u7b49\u4e8e\u6700\u957f\u53cd\u94fe\uff0c\u53ef\u4ee5\u5f97\u5230\uff1a**\u5355\u8c03\u4e0a\u5347\u5b50\u5e8f\u5217\u4e2a\u6570=\u6700\u957f\u5355\u8c03\u4e0b\u964d\u5b50\u5e8f\u5217\u957f\u5ea6**\u3002\n\n\u6700\u957f\u4e0b\u964d\u5b50\u5e8f\u5217\u53ef\u4ee5 $n^2$\uff0c\u4e5f\u53ef\u4ee5 $n\\log n$ \u6c42\uff0c\u5177\u4f53\u505a\u6cd5\u8fd9\u91cc\u4e0d\u8bb2\u3002\n\n\u8981\u6ce8\u610f\u7684\u662f\u5982\u679c $n\\log n$ \u6c42\u5e76\u4e14\u7528\u7684\u662f ```std::lower_bound``` \u7684\u8bdd\u9700\u8981\u91cd\u8f7d\u4e00\u4e0b\u5c0f\u4e8e\u53f7\u3002\n\n\u76ee\u524d\u662f\u6d1b\u8c37\u6700\u4f18\u89e3\u3002\n\n---\n\n### Code\uff1a\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <utility>\nusing namespace std;\nconst int N = 1e5 + 10;\nint stk[N], top, n, T;\npair<int, int> a[N];\nint main() {\n    scanf(\"%d\", &T);\n    while (T --> 0) {\n        scanf(\"%d\", &n);\n        for (int i = 1; i <= n; i++) {\n            scanf(\"%d-%d\", &a[i].first, &a[i].second);\n            if (a[i].first > a[i].second) swap(a[i].first, a[i].second);\n        }\n        sort(a + 1, a + n + 1);\n        memset(stk, 0, sizeof(stk));\n        top = 0;\n        for (int i = 1; i <= n; i++) {\n            if (!top || a[i].second < stk[top]) \n                stk[++top] = a[i].second;\n            else \n                *lower_bound(stk + 1, stk + top + 1, a[i].second, [](const int &x, const int &y) -> bool {\n                    return x > y;\n                }) = a[i].second;\n        }\n        printf(\"%d\\n\", top);\n    }\n    return 0;\n}\n```\n\n",
        "postTime": 1635132506,
        "uid": 375030,
        "name": "CG__HeavenHealer",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011 P3845 [TJOI2007]\u7403\u8d5b"
    },
    {
        "content": "#### \u524d\u7f6e\u829d\u58eb\n\n$Dilwoth$\u5b9a\u7406$or$\u4f60\u5df2\u7ecf\u505a\u4e86[\u5bfc\u5f39\u62e6\u622a](https://www.luogu.com.cn/problem/P1020)\n\n\u4ec0\u4e48\u662f$Dilworth$\u5b9a\u7406\uff1f\n\n> \u5bf9\u4e8e\u4efb\u610f\u6709\u9650\u504f\u5e8f\u96c6\uff0c\u5176\u6700\u5927\u53cd\u94fe\u4e2d\u5143\u7d20\u7684\u6570\u76ee\u5fc5\u7b49\u4e8e\u6700\u5c0f\u94fe\u5212\u5206\u4e2d\u94fe\u7684\u6570\u76ee.   \n\n\n\u6216\u8bb8\u4f60\u53ef\u4ee5\u901a\u8fc7[\u8fd9\u7bc7\u535a\u5ba2](https://www.cnblogs.com/Rothen/p/13789904.html)\u5b66\u4e60\u4e00\u4e0b\u3002\n\n\u4e8b\u5b9e\u4e0a\uff0c\u5bf9\u4e8e\u672c\u9898\u800c\u8a00\uff0c\u6240\u6709\u7684\u6bd4\u5206\u4fe1\u606f\u5c31\u662f\u504f\u5e8f\u96c6\uff0c\u800c\u6211\u4eec\u8981\u6c42\u7684\u5c31\u662f\u6700\u5c0f\u94fe\u5212\u5206\uff0c\u5373\u4e3a\u6700\u5927\u53cd\u94fe\u957f\u5ea6\uff0c\u66f4\u5177\u4f53\u7684\uff0c\u5c31\u662f**\u6700\u957f\u4e25\u683c\u4e0b\u964d\u5b50\u5e8f\u5217\u7684\u957f\u5ea6**\n\n#### \u601d\u8def\n\n\u9996\u5148\uff0c\u6211\u4eec\u5c06\u6240\u6709\u4fe1\u606f\u6309\u7167$y$\u6216\u8005$x$\u6392\u5e8f\uff0c\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86\u5176\u4e2d\u4e00\u7ef4\u7684\u6709\u5e8f\uff0c\u7136\u540e\u6839\u636e\u53e6\u4e00\u7ef4\u6c42\u4e00\u904d\u6700\u957f\u4e0b\u964d\u5b50\u5e8f\u5217\u5c31\u53ef\u4ee5\u4e86\u3002\n\n#### Tips\n\n\u5176\u5b9e\u672c\u9898\u6700\u4f18\u79c0\u7684\u590d\u6742\u5ea6\u5e94\u4e3a$n\\log n$\uff0c\u4f46\u662f\u672c\u9898\u53ea\u8981\u6c42$n^2$\uff0c\u4e3a\u4e86\u63d0\u5347\u6c34\u5e73~~\u6253\u6700\u4f18\u89e3~~\uff0c\u5efa\u8bae\u7528$n\\log n$\u7b97\u6cd5\u6c42\u6700\u957f\u4e0b\u964d\u5b50\u5e8f\u5217\u3002\u672c\u9898\u89e3\u4e2d\u4e5f\u662f\u7528\u7684\u8fd9\u4e2a\u590d\u6742\u5ea6\u7684\u7b97\u6cd5\u3002\n\n#### \u4ee3\u7801\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n#define LL long long\n\nusing namespace std;\n\nconst int maxn = 2020;\nint n,top;\nLL b[maxn];\nstruct Gam{\n    LL x,y;\n}g[maxn];\n\nbool cmp(Gam a, Gam b){return a.x == b.x ? a.y < b.y : a.x < b.x;}\n\nint main(){\n    int T; scanf(\"%d\", &T);\n    while(T--){\n        top = 0;\n        scanf(\"%d\", &n);\n        for(int i = 1; i <= n; ++ i){\n            scanf(\"%lld-%lld\", &g[i].x, &g[i].y);\n            if(g[i].x > g[i].y) swap(g[i].x, g[i].y);\n        } sort(g + 1, g + 1 + n, cmp);\n        b[++top] = g[1].y;\n        for(int i = 2; i <= n; ++ i){\n            if(g[i].y < b[top]) b[++top] = g[i].y;\n            else{\n                int h = top, l = 1;\n                while(h >= l){\n                    int mid = (h + l) >> 1;\n                    if(b[mid] <= g[i].y) h = mid - 1;\n                    else l = mid + 1;\n                } b[h + 1] = g[i].y; //printf(\"%d\\n\", h + 1);\n            }\n        } printf(\"%d\\n\", top);\n    }\n    return 0;\n}\n```\n\n",
        "postTime": 1604392969,
        "uid": 120351,
        "name": "When",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3845 \u3010[TJOI2007]\u7403\u8d5b\u3011"
    },
    {
        "content": "[\u4e5f\u8bb8\u6709\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/zheyuanxie/p/p3845.html)\n\n## \u7b80\u8981\u9898\u610f\n\n$T$ \u7ec4\u6570\u636e\uff0c\u6bcf\u4e00\u7ec4\u6570\u636e\u7ed9\u51fa $n$ \u4e2a\u6570\u5bf9 $(a,b)$\u3002\u4f60\u9700\u8981\u5c06\u5176\u5206\u4e3a\u51e0\u7ec4\uff0c\u4f7f\u5f97\u7ec4\u5355\u8c03\u4e0d\u964d\u3002\u6c42\u6700\u5c0f\u7ec4\u6570\u3002\n\n## \u601d\u8def\n\n\u6a21\u62df\u8d5b\u8003\u7684\u9898\u3002\n\n\u5148\u6765\u4ecb\u7ecd Dilworth \u5b9a\u7406\uff1a\n\n> \u5bf9\u4e8e\u4efb\u610f\u6709\u9650\u504f\u5e8f\u96c6\uff0c\u5176\u6700\u5927\u53cd\u94fe\u4e2d\u5143\u7d20\u7684\u6570\u76ee\u5fc5\u7b49\u4e8e\u6700\u5c0f\u94fe\u5212\u5206\u4e2d\u94fe\u7684\u6570\u76ee\u3002\n\n\u8fd9\u4e2a\u5b9a\u7406\u4f3c\u4e4e\u53ef\u4ee5\u8fd0\u7528\u5230\u8fd9\u9053\u9898\uff01\n\n\u5982\u679c\u8fd9\u6837\u5b50\uff0c\u672c\u9898\u5c31\u88ab\u8f6c\u6362\u6210\u4e86\u6c42\u6700\u957f\u4e0b\u964d\u5b50\u5e8f\u5217\uff0c\u53ef\u4ee5 $O(n\\log n)$ \u6c42\u3002\n\n\u6700\u540e\u8bb2\u4e00\u4e0b\u5982\u4f55\u6c42\u6700\u957f\u4e0b\u964d\u5b50\u5e8f\u5217\uff0c\u6211\u4eec\u53ef\u4ee5\u94a6\u5b9a $(a,b)$ \u4e2d $a>b$\u3002\u7136\u540e\u6309\u7167 $a,b$ \u53cc\u5173\u952e\u5b57\u6392\u5e8f\u540e \u4e8c\u5206\u4f18\u5316 DP \u6c42\u6700\u957f\u4e0b\u964d\u5b50\u5e8f\u5217\u5373\u53ef\u3002\n\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n#define int long long\nusing namespace std;\n\nbool flag=0;\nconst int N = 100005;\n\nstruct couple{\n\tint a,b;\n\tbool operator<(const couple &x) const {\n\t\tbool ret=a==x.a?b<x.b:a<x.a;\n\t\tif(flag)return !ret;\n\t\telse return ret;\n\t}\n} p[N];\n\nint f[N];\nint n,t,tot;\n\nsigned main(){\n// \tios::sync_with_stdio(false);cin.tie(NULL);cout.tie(NULL);\n// \tfreopen(\"line.in\",\"r\",stdin);freopen(\"line.out\",\"w\",stdout);\n\tcin>>t;\n\twhile(t--){\n\t\tcin>>n;\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tscanf(\"%lld-%lld\",&p[i].a,&p[i].b);\n\t\t\tif(p[i].a>p[i].b)swap(p[i].a,p[i].b);\n\t\t}\n\t\tsort(p+1,p+n+1);\n\t\tf[1]=p[1].b;\n\t\ttot=1;\n\t\tfor(int i=2;i<=n;i++){\n\t\t\tif(f[tot]>p[i].b){\n\t\t\t\tf[++tot]=p[i].b;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tf[lower_bound(f+1,f+tot+1,p[i].b,greater<int>())-f]=p[i].b;\n\t\t\t}\n\t\t}\n\t\tcout<<tot<<'\\n';\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1668577088,
        "uid": 413065,
        "name": "xiezheyuan",
        "ccfLevel": 5,
        "title": "P3845 [TJOI2007]\u7403\u8d5b"
    },
    {
        "content": "\u6211\u4eec\u5047\u8bbe\u6bcf\u4e00\u4e2a\u8bb0\u5f55\u7684\u6bd4\u5206\u4e3a **x** \u548c **y** \u3002\u5728\u8bfb\u5165\u7684\u65f6\u5019\u7a0d\u52a0\u5904\u7406\u4f7f **y>=x** \u3002\u7136\u540e\u6392\u5e8f\u4e00\u4e0b**\u4f7fy\u66f4\u5c0f\u7684\u6392\u5728\u524d\u9762\uff0cy\u76f8\u540c\u65f6\u5c31\u5c06x\u66f4\u5c0f\u7684\u6392\u5728\u524d\u9762**\u3002\n\n\u6b64\u65f6\u5728\u9760\u540e\u7684\u6bd4\u5206\u5728**y**\u8fd9\u4e00\u7ef4\u4e0a\u4e00\u5b9a\u80fd\u8986\u76d6\u524d\u9762\u7684\u6bd4\u5206\uff0c\u4e8e\u662f\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u95ee\u9898\u8f6c\u6362\u6210**\u6c42\u5728x\u8fd9\u4e00\u7ef4\u4e0a\u6700\u5c11\u8981\u7528\u51e0\u4e2a\u4e0d\u4e0b\u964d\u5e8f\u5217\u8986\u76d6\u5168\u90e8\u7684\u6bd4\u5206**\u3002\n\n\u5982\u679c\u4f60\u4e4b\u524d\u505a\u8fc7 [P1020 \u5bfc\u5f39\u62e6\u622a](https://www.luogu.org/problemnew/show/P1020) \u7684\u8bdd\uff0c\u60f3\u5fc5\u4f60\u5df2\u7ecf\u77e5\u9053\u4e86\u67d0\u4e2a\u795e\u5947\u7684\u5b9a\u7406\u3002\u6c42\u6700\u5c11\u8981\u7528\u51e0\u4e2a\u4e0d\u4e0b\u964d\u5e8f\u5217\u8986\u76d6\u4e00\u4e2a\u6570\u5217\u7b49\u4ef7\u4e8e**\u6c42\u8fd9\u4e2a\u6570\u5217\u4e2d\u6700\u957f\u4e25\u683c\u4e0b\u964d\u6570\u5217\u7684\u957f\u5ea6**\u3002\n\n\u4e8e\u662f\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u90a3\u4e2a  **O(nlogn)** \u7684\u8d2a\u5fc3\u7b97\u6cd5\u5566\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\n\ntypedef struct game{int x,y;}game;\n\ngame g[1010];\nint t,n,a[1010];\n\ninline int read(){\n    int num=0; char c=getchar();\n    while(c>'9' || c<'0') c=getchar();\n    while(c>='0' && c<='9') num=(num<<3)+(num<<1)+c-'0',c=getchar();\n    return num;\n}\n\nbool cmp(game a,game b){return (a.y!=b.y)?a.y<b.y:a.x<b.x;}\n\nint main(){\n    t=read();\n    while(t--){\n        n=read();\n        for(int i=1;i<=n;i++){\n            int x=read(),y=read();\n            if(y<x) swap(x,y);\n            g[i].x=x; g[i].y=y;\n        }\n        sort(g+1,g+1+n,cmp);\n        memset(a,0,sizeof(a));\n        int k=1; a[1]=g[1].x;\n        for(int i=2;i<=n;i++){\n            if(g[i].x<a[k]) a[++k]=g[i].x;\n            else{\n                int l=0,r=k+1,mid;\n                while(l+1<r){\n                    mid=(l+r)>>1;\n                    if(a[mid]>g[i].x) l=mid;\n                    else r=mid;\n                }\n                a[r]=g[i].x;\n            }\n        }\n        printf(\"%d\\n\",k);\n    }\n    return 0;\n}\n```",
        "postTime": 1538137636,
        "uid": 100037,
        "name": "kkxhh",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3845 \u3010[TJOI2007]\u7403\u8d5b\u3011"
    }
]