[
    {
        "content": "\u8fd9\u91cc\u4ec5\u4ecb\u7ecd $100\\%$ \u7684\u65b9\u6cd5\u3002\n\n\u8003\u8651\u6211\u4eec\u628a\u4e00\u4e2a\u6709\u5e8f\u7684\u5b9a\u957f\u5ea6\u5e8f\u5217 $a_i$ \u8f6c\u6362\u4e3a\u6bcf\u4e2a\u6570\u51fa\u73b0\u7684\u6b21\u6570 $c_i$\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u53ea\u7528\u8003\u8651\u7b2c\u4e8c\u4e2a\u9650\u5236\u4e86\u3002\n\n\u8003\u8651\u5230 $k$ \u7684\u5947\u5076\u6027\u5bf9\u516c\u5f0f\u6709\u5f71\u54cd\uff0c\u6545\u5206\u5f00\u8ba8\u8bba\u3002\n\n### \u5f53 $\\bm k$ \u4e3a\u5076\u6570\u65f6\uff0c$\\bm {k=2m}$.\n\n\u90a3\u4e48 $c_i,c_{k+1-i}$ \u81f3\u5c11\u6709\u4e00\u4e2a\u4e3a $0$\u3002\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u8fd9\u4e00\u4e9b $c_i,c_{k+1-i}$ \u5206\u4e3a\u4e00\u7ec4\uff0c\u4e00\u5171 $m$ \u7ec4\u3002\n\n\u679a\u4e3e $m$ \u7ec4\u5f53\u4e2d\u6709\u4e0d\u4e3a\u96f6\u7684\u7ec4\u6570 $i$\u3002\u53ef\u4ee5\u53d1\u73b0\u8fd9\u6837\u5b50\u6709 $C_m^i\\times C_{n-1}^{i-1}\\times 2^i$\u3002\u8fd9\u91cc\u7684\u4e09\u9879\u5206\u522b\u8868\u793a\n\n- \u9009\u62e9 $i$ \u7ec4\u7684\u65b9\u6848\u3002\n- \u628a $n$ \u4e2a\u5143\u7d20\u5206\u914d\u5230\u8fd9 $i$ \u7ec4\u7684\u65b9\u6848\u3002\n- \u8fd9 $m$ \u7ec4\u5185\u90e8\u5206\u914d\u7684\u65b9\u6848\u3002\n\n\u6240\u4ee5\u7b54\u6848\u5c31\u662f \n\n$$\\sum_{i=1}^{\\min(n,m)}C_m^i\\times C_{n-1}^{i-1}\\times 2^i$$\n\n### \u5f53 $\\bm k$ \u4e3a\u5947\u6570\u65f6\uff0c$\\bm {k=2m+1}$.\n\n\n\u540c\u5076\u6570\u7684\u60c5\u51b5\uff0c\u552f\u4e00\u4e0d\u540c\u7684\u5c31\u662f\u8981\u7279\u6b8a\u8ba8\u8bba $c_{m+1}$ \u5904\uff0c\u81f3\u591a\u4e3a $1$\u3002\u4ece $c_{m+1}=0/1$ \u7684\u89d2\u5ea6\u51fa\u53d1\u540c\u4e0a\u5904\u7406\u53ef\u5f97\u7b54\u6848\u3002\n\n\n$$\\sum_{i=1}^{\\min(n,m)}C_m^i\\times C_{n-1}^{i-1}\\times 2^i+\\sum_{i=1}^{\\min(n-1,m)}C_m^i\\times C_{n-2}^{i-1}\\times 2^i$$\n\n---\n\nupd (2022.7.10) \u8bb0\u5f97\u7279\u5224 $n/k=1$ \u7684\u60c5\u51b5\u3002",
        "postTime": 1655484782,
        "uid": 248400,
        "name": "Inaba_Meguru",
        "ccfLevel": 7,
        "title": "\u307d\u304b\u307d\u304b\u306e\u661f \u9898\u89e3"
    },
    {
        "content": "- **\u7b2c\u4e00\u4e2a\u6761\u4ef6\uff1a** \u9996\u5148\u662f\u91cd\u8981\u7684\u8f6c\u5316\uff0c\u628a\u6570\u5217\u8f6c\u5316\u6210\u5c0f\u4e8e $k$ \u7684\u6570\u51fa\u73b0\u7684\u6b21\u6570\u3002\u76f8\u5f53\u4e8e\u6876\u7684\u601d\u60f3\u3002\u53c8\u56e0\u4e3a\u76f8\u90bb\u4e24\u9879\u53ef\u4ee5\u76f8\u7b49\uff0c\u4e8e\u662f\u5bf9\u6570\u5728\u6876\u91cc\u9762\u600e\u4e48\u51fa\u73b0\u7684\u8fdb\u884c\u8ba1\u6570\u3002\n\n- **\u7b2c\u4e8c\u4e2a\u6761\u4ef6\uff1a** \u8003\u8651\u6876\u91cc\u9762\u4ec0\u4e48\u65f6\u5019\u4e0d\u6ee1\u8db3\u7b2c\u4e8c\u4e2a\u6761\u4ef6\uff0c\u5bb9\u6613\u53d1\u73b0\u5bf9 $k$ \u5e94\u8be5\u5206\u5947\u5076\u8ba8\u8bba\uff0c\u5076\u6570\u7684\u65f6\u5019\u6876\u91cc\u9762\u6700\u4e2d\u95f4\u4e00\u9879\u7684\u8d21\u732e\u6700\u591a\u4e0d\u8d85\u8fc7 $1$ \uff0c\u7136\u540e\u518d\u5bf9\u8fd9\u4e2a\u5206\u7c7b\u8ba8\u8bba\u3002\n\n- \u5177\u4f53\u5f0f\u5b50\u5728\u7801\u7684\u6ce8\u91ca\u91cc\u3002\n\n- \u672c\u9898\u8fd8\u6709\u4e00\u4e2a\u5173\u952e\u662f\u6ce8\u610f\u628a\u9636\u4e58\u548c\u4e8c\u7684\u5e42\u6b21\u90fd **\u9884\u5904\u7406** \u6389\u3002\n\n- \u7279\u5224\u6389 $n=1$ , $k=1$ \u7684\u60c5\u51b5\u3002\n\n```cpp\n///*****Sellaris*****///\n//#pragma once\n//#pragma GCC optimize(2)\n//#pragma GCC optimize(3)\n#include <bits/stdc++.h>\n//#include <bits/extc++.h>\nusing namespace std;\n#define int long long \n#define endl \"\\n\"\n//using namespace __gnu_pbds;\nconst int maxn=5e6+10;\nconst int mo=1e9+7;\ninline int read(){\n    int ret=0,f=1;char ch=getchar();\n    while(!isdigit(ch)){if(ch=='-')f=-f;ch=getchar();}\n    while(isdigit(ch)){ret=ret*10+ch-'0';ch=getchar();}\n    return ret*f; //x=(x<<1)+(x<<3)+(ch^48);\n}\ninline int mod(int x){return x>=mo? x%mo :x;}\ninline int qpow(int x,int k){\n    int res=1,base=x;\n    while(k){\n        if(k&1) res*=base,res=mod(res);\n        k>>=1; base*=base;base=mod(base);\n    }return res;\n}\nint jc[maxn],jc_inv[maxn];\ninline void preC(){\n    jc[0]=jc_inv[0]=1;//\u7ec4\u5408\u6570\u8981\u8003\u8651 n,m,n-m == 0\n    for(int i=1;i<maxn;i++) jc[i]=mod(jc[i-1]*i);\n    jc_inv[maxn-1]=mod(qpow(jc[maxn-1],mo-2));\n    for(int i=maxn-2;i>=1;i--) jc_inv[i]=mod(jc_inv[i+1]*(i+1));\n}\ninline int C(int m,int n){\n    return mod(mod(jc[n]*jc_inv[n-m])*jc_inv[m]);\n}\nint a[maxn]={0};\nint n,m,k,ans;\nint lg2[maxn];\ninline void solve(){\n\t//string s;\n    n=read();k=read();ans=0;\n    if(n==1){\n    \tcout<<k<<endl;\n    \treturn ;//\u5305\u542b\u4e86k==1 \n\t}\n\tif(k==1){\n\t\tcout<<0<<endl;\n\t\treturn ;//\u4e0d\u5305\u542bn==1 \n\t}\n\tif(k%2==0){\n\t\tm=k/2;//\u4e24\u4e24\u5206\u7ec4\uff0c\u679a\u4e3e m \u7ec4\u5f53\u4e2d **\u6709\u4e0d\u4e3a\u96f6** \u7684\u7ec4\u6570 i\u3002\n\t\tfor(int i=1;i<=min(n,m);i++){\n\t\t\tans+=mod(C(i,m)*C(i-1,n-1))*lg2[i]; //C(i-1,n-1)\u9694\u677f\u6cd5 \n\t\t\tans=mod(ans);//(\u9009i\u7ec4\u7684\u65b9\u6848)*(n\u4e2a\u5143\u7d20\u5206\u914d\u5230i\u7ec4\u7684\u65b9\u6848)*(m\u7ec4\u5185\u90e8\u5206\u914d\u7684\u65b9\u6848)\n\t\t}\n\t\tcout<<ans<<endl; \n\t}else{\n\t\tm=(k-1)/2;\n\t\t//TONG[m+1]==0\n\t\tfor(int i=1;i<=min(n,m);i++){\n\t\t\tans+=mod(C(i,m)*C(i-1,n-1))*lg2[i]; //C(i-1,n-1)\u9694\u677f\u6cd5 \n\t\t\tans=mod(ans);//(\u9009i\u7ec4\u7684\u65b9\u6848)*(n\u4e2a\u5143\u7d20\u5206\u914d\u5230i\u7ec4\u7684\u65b9\u6848)*(m\u7ec4\u5185\u90e8\u5206\u914d\u7684\u65b9\u6848)\n\t\t}\n\t\t//TONG[m+1]==1\n\t\tfor(int i=1;i<=min(n-1,m);i++){\n\t\t\tans+=mod(C(i,m)*C(i-1,n-2))*lg2[i]; //C(i-1,n-1)\u9694\u677f\u6cd5 \n\t\t\tans=mod(ans);//(\u9009i\u7ec4\u7684\u65b9\u6848)*(n\u4e2a\u5143\u7d20\u5206\u914d\u5230i\u7ec4\u7684\u65b9\u6848)*(m\u7ec4\u5185\u90e8\u5206\u914d\u7684\u65b9\u6848)\n\t\t}\n\t\tcout<<ans<<endl; \n\t}\n\treturn;\n}\nsigned main(){\n    //std::ios::sync_with_stdio(false);std::cin.tie(NULL);std::cout.tie(NULL);\n    //freopen(\"in.txt\",\"r\",stdin);\n\t//freopen(\"out.txt\",\"w\",stdout);\n\tint t=read();\n\tpreC();\n\tfor(int i=0;i<maxn;i++) lg2[i]=qpow(2,i);\n\twhile(t--){\n\t\tsolve();\n\t}\n    return 0;\n}\n\n\n\n\n```\n\n",
        "postTime": 1657463495,
        "uid": 567739,
        "name": "Sellaris",
        "ccfLevel": 4,
        "title": "P8432"
    },
    {
        "content": "## \u9898\u89e3\n\n\u63d0\u4f9b\u53e6\u4e00\u79cd\u63a8\u6cd5\u3002\n\n\u5bf9\u4e8e\u5076\u6570 $k$\uff0c\u8bbe $f(n,k)$ \u8868\u793a\u6b64\u65f6\u7684\u7b54\u6848\u3002\u8003\u8651 $k$ \u662f\u5947\u6570\u7684\u60c5\u51b5\uff0c\u6b64\u65f6 $\\frac{k+1}{2}$ \u8fd9\u4e2a\u503c\u81f3\u591a\u5728\u6570\u5217\u4e2d\u51fa\u73b0\u4e00\u6b21\u3002\u6240\u4ee5\uff0c\u5f53 $k$ \u662f\u5947\u6570\u65f6\uff0c\u7b54\u6848\u5c31\u662f $f(n,k-1)+f(n-1,k-1)$\u3002\u4ee5\u4e0b\u53ea\u8003\u8651 $k$ \u662f\u5076\u6570\u7684\u60c5\u51b5\u3002\n\n\u4ee4 $m=\\frac{k}{2}$\u3002\n\n\u5bf9\u4e8e\u4efb\u610f\u7684\u503c $x\\in [1,m]$\uff0c\u5982\u679c $x$ \u5728\u6570\u5217\u4e2d\u51fa\u73b0\uff0c\u90a3\u4e48 $k+1-x$ \u5c31\u4e0d\u80fd\u5728\u6570\u5217\u4e2d\u51fa\u73b0\u3002\n\n\u6240\u4ee5\uff0c\u5047\u5982 $[1,m]$ \u4e2d\u6709 $i$ \u4e2a\u6570\u51fa\u73b0\uff0c\u90a3\u4e48 $[m+1,k]$ \u4e2d\u5c31\u81f3\u591a\u6709 $(m-i)$ \u4e2a\u6570\u51fa\u73b0\u3002\u679a\u4e3e $i,j$ \u5206\u522b\u8868\u793a\u5728 $[1,m],[m+1,k]$ \u4e2d\u51fa\u73b0\u7684\u6570\u7684\u4e2a\u6570\uff0c\u7528\u63d2\u677f\u6cd5\u5f97\u5230\uff1a\n\n$$\nf(n,k)=\\sum_{i=0}^m \\sum_{j=0}^{m-i} \\binom{m}{i}\\binom{m-i}{j}\\binom{n-1}{i+j-1}.\n$$\n\n\u6839\u636e\u8303\u5fb7\u8499\u5fb7\u5377\u79ef\uff0c\u5bf9\u4e8e\u4efb\u610f\u6574\u6570 $s,a,b$ \u548c\u6b63\u6574\u6570 $r$\uff0c\u6709\uff1a\n\n$$\n\\begin{aligned}\n\t&\\sum_{i} \\binom{r}{a+i}\\binom{s}{b+i}\\\\\n\t&=\\sum_{i} \\binom{r}{r-a-i}\\binom{s}{b+i}\\\\\n\t&=\\binom{r+s}{r-a+b}.\n\\end{aligned}\n$$\n\n\u56fa\u5b9a $i$\uff0c\u4ee4 $(r,s,a,b)\\gets (m-i,n-1,0,i-1)$\uff0c\u53ef\u4ee5\u5f97\u5230\uff1a\n\n$$\nf(n,k)=\\sum_{i=0}^m \\binom{m}{i}\\binom{m-i+n-1}{m-1}.\n$$\n\n\u9884\u5904\u7406\u7ec4\u5408\u6570\u5373\u53ef\u3002**\u6ce8\u610f\u7279\u5224 $k=1$ \u7684\u60c5\u51b5\u3002**",
        "postTime": 1657378425,
        "uid": 225625,
        "name": "Alan_Zhao",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P8432\u3010\u300cWHOI-2\u300d\u307d\u304b\u307d\u304b\u306e\u661f\u3011"
    },
    {
        "content": "\u8d5b\u65f6\u628a\u5f0f\u5b50\u63a8\u51fa\u6765\u4e86\uff0c\u5f88\u5f00\u5fc3\uff0c\u4f46\u662f\u5fd8\u4e86\u7ebf\u6027\u6c42\u9006\u5143 TLE \u4e86\u3002\n\n***\n\n\u6839\u636e\u9898\u610f\uff0c\u5bf9\u4e8e\u4efb\u610f $a_i$\uff0c\u6709 $1\\le a_i\\le k$\u3002\n\n\u6211\u4eec\u5efa\u7acb\u4e00\u4e2a\u957f\u5ea6\u4e3a $k$ \u7684\u54c8\u5e0c\u8868 $b$\uff0c$b_i$ \u8868\u793a $i$ \u5728 $a$ \u4e2d\u51fa\u73b0\u7684\u6b21\u6570\u3002\n\n\u8003\u8651\u5206\u7c7b\u8ba8\u8bba\u3002\n\n- ### \u5f53 $k$ \u4e3a\u5076\u6570\u65f6\uff1a\n\n  \u6839\u636e\u9898\u76ee\u4e2d\u7b2c\u4e8c\u4e2a\u6761\u4ef6\uff0c\u53ef\u4ee5\u5f97\u5230\uff1a\n\n  \u56e0\u4e3a $a_i+a_j\\ne k+1$\uff0c\u6240\u4ee5\u5bf9\u4e8e $b$ \u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u4f4d\u7f6e $b_i$\uff0c\u4e0e\u5176\u6cbf\u4e2d\u5fc3\u5bf9\u79f0\u7684\u70b9 $b_{k-i+1}$ \u4e24\u8005\u4e2d\u5fc5\u7136\u6709\u4e00\u4e2a\u4e3a $0$\u3002\u5373\uff1a\n\n  $$b_ib_{k-i+1}=0$$\n\n- ### \u5f53 $k$ \u4e3a\u5947\u6570\u65f6\uff1a\n\n  \u8bbe $k=2s+1$\u3002\n\n  \u6709\u5bf9\u4e8e $1\\le i\\le s$\uff0c\u4ecd\u6ee1\u8db3\n\n  $$b_ib_{k-i+1}=0$$\n\n  \u800c\u5bf9\u4e8e\u4e2d\u95f4\u7684\u5143\u7d20 $b_{s+1}$\uff0c\u4ec5\u6709\u53ef\u80fd\u4e3a $0$ \u6216 $1$\u3002\u56e0\u4e3a\u5f53 $b_{s+1}\\ge 2$ \u65f6\uff0c\u8bf4\u660e\u5b58\u5728\u8d85\u8fc7\u4e24\u4e2a $s+1$ \u5143\u7d20\uff0c\u800c\u4efb\u610f\u4e24\u4e2a $s+1$ \u76f8\u52a0\u7b49\u4e8e $2s+2=k+1$\uff0c\u4e0d\u6ee1\u8db3\u6761\u4ef6\u3002\n\n  \u8fd9\u4e2a\u65f6\u5019\uff0c\u6211\u4eec\u518d\u8fdb\u884c\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n  - #### \u5982\u679c $b_{s+1}=0$\uff1a\n  \n  \t \u95ee\u9898\u8f6c\u6362\u4e3a\uff0c\u5c06 $n$ \u5206\u5230\u524d $s$ \u4e2a\u683c\u5b50\uff0c\u53ef\u4ee5\u4e0d\u5206\u7684\u65b9\u6848\u6570\uff0c\u7136\u540e\u56e0\u4e3a\u5de6\u53f3\u4e24\u8fb9\u53ea\u6709\u4e00\u4e2a\u53ef\u4ee5\u653e\u4e1c\u897f\uff0c\u6240\u4ee5\u4e58\u4e0a $2^i$ \u5c31\u53ef\u4ee5\u4e86\u3002\n    \n    \u4f46\u662f\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u683c\u5b50\u6ca1\u6709\u653e\uff0c\u90a3\u4e48\u5de6\u53f3\u4ea4\u6362\u4ee5\u540e\u5b9e\u9645\u4e0a\u5206\u6cd5\u6ca1\u6709\u6539\u53d8\uff0c\u4e0d\u80fd\u7b97\u4f5c\u4e24\u79cd\u60c5\u51b5\u3002\n    \n    \u6240\u4ee5\uff0c\u6211\u4eec\u679a\u4e3e $1\\sim s$ \u5185\u7684 $i$\uff0c\u8868\u793a\u5c06 $n$ \u5206\u5230\u4efb\u610f $i$ \u4e2a\u683c\u5b50\u7684\u65b9\u6848\u6570\u3002\n    \n    \u603b\u65b9\u6848\u6570\u4e3a\uff1a\n    \n    $$\\sum_{i=1}^{s}C_{s}^{i}\\times 2^i\\times C_{n-1}^{i-1}$$\n    \n  - #### \u5982\u679c $b_{s+1}=1$\uff1a\n  \n  \t \u5bb9\u6613\u5f97\u5230\uff0c\u6211\u4eec\u53ea\u662f\u5728 $b_{s+1}$ \u4f4d\u7f6e\u5360\u7528\u4e86\u4e00\u4e2a\uff0c$n$ \u76f8\u5e94\u51cf\u5c11 $1$ \u5373\u53ef\u3002\u603b\u65b9\u6848\u6570\u4e3a\uff1a\n     \n     $$\\sum_{i=1}^{s}C_{s}^{i}\\times 2^i\\times C_{n-2}^{i-1}$$\n     \n  \u7efc\u4e0a\uff0c\u5f53 $k$ \u4e3a\u5947\u6570\u65f6\uff0c\u65b9\u6848\u6570\u4e3a\n  \n  $$\\sum_{i=1}^{s}C_{s}^{i}\\times 2^i\\times (C_{n-1}^{i-1} + C_{n-2}^{i-1})$$\n  \n\u800c\u5bf9\u4e8e\u5076\u6570\uff0c\u8bbe $k=2s$\uff0c\u56e0\u4e3a\u6ca1\u6709\u4e2d\u95f4\u90e8\u5206\u7684\u989d\u5916\u65b9\u6848\u6570\uff0c\u6240\u4ee5\u603b\u65b9\u6848\u6570\u4e3a\n\n$$\\sum_{i=1}^{s}C_{s}^{i}\\times 2^i\\times C_{n-1}^{i-1}$$\n\n\u90a3\u4e48\uff0c\u5982\u4f55\u4f18\u5316\u65f6\u95f4\u590d\u6742\u5ea6\u5462\uff1f\n\n\u6211\u4eec\u77e5\u9053\uff0c$C_{n}^{m}=\\dfrac{n!}{(n-m)!m!}$\u3002\n\n\u6545\u6211\u4eec\u5148\u9884\u5904\u7406 $x!\\bmod p$\uff0c\u7136\u540e\u5bf9\u4e8e\u4e0a\u5f0f\uff0c\u7ebf\u6027\u6c42\u9006\u5143\u5373\u53ef\u3002\n\n\u8fd9\u6837\uff0c\u603b\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(tn)$\u3002\n\n\u5f0f\u5b50\u7ed9\u7684\u8fd9\u4e48\u6e05\u695a\u4e86\uff0c\u4ee3\u7801\u5c31\u4e0d\u9644\u4e86\u5427\u3002",
        "postTime": 1657414945,
        "uid": 362750,
        "name": "TernaryTree",
        "ccfLevel": 0,
        "title": "P8432 \u300cWHOI-2\u300d\u307d\u304b\u307d\u304b\u306e\u661f"
    }
]