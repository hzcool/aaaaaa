[
    {
        "content": "\u2014\u2014\u8fd9\u4e00\u9053\u9898\u76ee\uff0c\u770b\u522b\u4eba\u90fd\u662f\u7528\u6768\u8f89\u4e09\u89d2\u505a\u7684\uff0c\u53ef\u504f\u504f\u6211\u8fd9\u4e2a\u83dc\u9e1f\u4e0d\u4f1a\u3002\u4e8e\u662f\u5c31\u6253\u4e86\u4e2a\u7c7b\u4f3c\u4e8edp\u7684\u505a\u6cd5\u3002\n\n\u2014\u2014f[i][j]\u8868\u793ax^iy^j\u7684\u7cfb\u6570\uff0c(\u9ed8\u8ba4k=i+j)\uff0c\u53ef\u4ee5\u5f97\u5230\u8f6c\u79fb:f[i][j]=f[i-1][j]\\*a+f[i][j-1]\\*b;\n\n\u2014\u2014\u4e8e\u662f\u5927\u81f4\u7684\u601d\u8def\u5c31\u597d\u5566\uff0c\u7136\u540e\u662f\u7ec6\u8282\uff0c\u5982f[0][0]\u662f1,\u8fd9\u7c7b\u7684\u8981\u6ce8\u610f\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n    #include<iostream>\n    #include<cstdio>\n    #include<algorithm>\n    #include<cmath>\n    #include<cstring>\n    using namespace std;\n    int a,b,k,n,m;\n    long long f[1005][1005];\n    int main()\n    {\n        scanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\n        f[0][0]=1;\n        for (int i=0;i<=n;i++)\n            for (int j=0;j<=m;j++)\n            {\n                if (i==0 && j==0) continue;\n                f[i][j]=0;\n                if (i>0)\n                    f[i][j]=(f[i][j]+f[i-1][j]*a)%10007;\n                if (j>0)\n                    f[i][j]=(f[i][j]+f[i][j-1]*b)%10007;\n            }\n        printf(\"%lld\\n\",f[n][m]);\n        return 0;\n    }\n\u4f18\u7f8e\u7684\u4ee3\u7801\u6e05\u65b0\u8131\u4fd7\u3002\u3002\u3002\u3002\u3002\u3002\n```",
        "postTime": 1493607165,
        "uid": 22908,
        "name": "\u4f5c\u5f0a\u8005_\u68d5",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "### \u8ba1\u7b97\u7cfb\u6570\n#### Solution\n\u3000\u3000\u6839\u636e\u4e8c\u9879\u5f0f\u5b9a\u7406, \n$$(a+b)^n=\\sum_{k=0}^nC_{n}^{k}a^kb^{n-k}$$\n\u90a3\u4e48\n$$(ax+by)^k=\\sum_{p=0}^kC_{k}^p(ax)^p(by)^{k-p}=\\sum_{p=0}^k(C_{k}^pa^pb^{k-p})x^py^{k-p}$$\n\u7b97$a^n,b^m$\u9700\u8981\u7528\u5feb\u901f\u5e42.\n- \u53ef\u4ee5\u6839\u636e\u7ec4\u5408\u5f0f\u7684\u9012\u63a8\u516c\u5f0f\u7b97\u7ec4\u5408\u6570.\u6211\u662f\u8fd9\u4e48\u5199\u7684.\n$$C_n^m=C_{n-1}^m+C_{n-1}^{m-1}$$\n- \u6216\u8005\u662f\u5229\u7528\u7ec4\u5408\u6570\u7684\u5b9a\u4e49\u5f0f,\u4f46\u662f\u56e0\u4e3a\u6709\u53d6\u4f59, \u6240\u4ee5\u8981\u7528\u9006\u5143.\n$$C_n^m=\\frac{n!\\mod 10007}{m!(n-m)!\\mod 10007}=n!\\times [m!(n-m)!]^{-1}\\mod 10007$$\n\u5176\u4e2d$[m!(n-m)!]^{-1}$\u4e3a\u9006\u5143, \u8fd9\u4e2a\u53ef\u4ee5\u76f4\u63a5\u7528\u8d39\u9a6c\u5c0f\u5b9a\u7406, \u6b63\u597d\u524d\u9762\u5199\u4e86\u5feb\u901f\u5e42, \u5c82\u4e0d\u662f\u7f8e\u6ecb\u6ecb.\n\n#### Code\n```cpp\n#include<cstdio>\n#define N 1005\n#define mod 10007\nusing namespace std;\n\n#define int long long\nint c[N][N];\nint a,b,k,n,m;\nint pow(int x,int y){\n    int ans=1,pas=x;\n    while(y){\n        if(y&1)ans*=pas%mod,ans%=mod;\n        pas=(pas*pas)%mod;\n        y>>=1;\n    }\n    return ans%mod;\n}\n\nint dfs(int n,int m){\n    if(!m)return c[n][m]=true;if(m==1)return c[n][m]=n;\n    if(c[n][m])return c[n][m];\n    if(n-m<m)m=n-m;\n    return c[n][m]=(dfs(n-1,m)+dfs(n-1,m-1))%mod;\n}\n\nmain(){\n    //freopen(\"factor.in\",\"r\",stdin);\n    //freopen(\"factor.out\",\"w\",stdout);\n    scanf(\"%lld%lld%lld%lld%lld\",&a,&b,&k,&n,&m);\n    c[1][0]=c[1][1]=1;a%=mod;b%=mod;\n    int ans=1;\n    ans*=(pow(a,n)*pow(b,m))%mod;\n    if(n>m)n=m;\n    ans*=dfs(k,n)%mod;ans%=mod;\n    /*for(int i=1;i<=k;++i){\n        for(int j=0;j<=i;++j)\n            printf(\"%d \",c[i][j]);\n        printf(\"\\n\");\n    }*/\n    printf(\"%lld\",ans);\n    return 0;\n}\n```",
        "postTime": 1522130087,
        "uid": 39067,
        "name": "aiyougege",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "#### \u3010\u9898\u76ee\u63cf\u8ff0\u3011#### \n\n\u7ed9\u5b9a\u4e00\u4e2a\u591a\u9879\u5f0f(by+ax)^k(by+ax) \nk\n \uff0c\u8bf7\u6c42\u51fa\u591a\u9879\u5f0f\u5c55\u5f00\u540ex^n \\times y^mx \nn\n \u00d7y \nm\n \u9879\u7684\u7cfb\u6570\u3002\n\n#### \u3010\u8f93\u5165\u8f93\u51fa\u683c\u5f0f\u3011\n\n##### \u8f93\u5165\u683c\u5f0f\uff1a\n\n\u5171\u4e00\u884c\uff0c\u5305\u542b5\u4e2a\u6574\u6570\uff0c\u5206\u522b\u4e3aa ,b ,k ,n ,m\uff0c\u6bcf\u4e24\u4e2a\u6574\u6570\u4e4b\u95f4\u7528\u4e00\u4e2a\u7a7a\u683c\u9694\u5f00\u3002\n\n##### \u8f93\u51fa\u683c\u5f0f\uff1a\n\n\u51711 \u884c\uff0c\u5305\u542b\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u6240\u6c42\u7684\u7cfb\u6570\uff0c\u8fd9\u4e2a\u7cfb\u6570\u53ef\u80fd\u5f88\u5927\uff0c\u8f93\u51fa\u5bf910007 \u53d6\u6a21\u540e\u7684\u7ed3\u679c\u3002\n\n\u7136\u540e\u662f\u6837\u4f8b\uff1a\n\n|  \u6837\u4f8b\u8f93\u5165|  \u6837\u4f8b\u8f93\u51fa|\n| :----------: | :----------: |\n| 1  1  3  1  2 | 3 |\n\n#### \u3010\u6570\u636e\u8303\u56f4\u3011\n\n\u5bf9\u4e8e30% \u7684\u6570\u636e\uff0c\u6709 0 \u2264k \u2264100\u2264k\u226410 \uff1b\n\n\u5bf9\u4e8e50%\u7684\u6570\u636e\uff0c\u6709 a = 1,b = 1a=1,b=1\uff1b\n\n\u5bf9\u4e8e100%\u7684\u6570\u636e\uff0c\u6709 0\u2264k \u22641,000,0\u2264n, m\u2264k0\u2264k\u22641,000,0\u2264n,m\u2264k,\u4e14n+m=k ,0 \u2264a,b \u22641,000,000n+m=k,0\u2264a,b\u22641,000,000\u3002\n\n\nOK\uff0c\u5bf9\u4e8e\u539f\u9898\u7684\u63cf\u8ff0\u5c31\u5230\u8fd9\u91cc\u3002\n\n\u9996\u5148\u770b50%\u7684\u6570\u636e\uff1aa=b=1;\n\n\u4e00\u770b\u5c31\u662f\u6bd4\u8f83\u6c34\u7684\uff01~~\u6ca1\u9519\uff0c\u5c31\u662f\u5f88\u6c34\uff01~~\n\n\u6211\u4eec\u53ef\u4ee5\u62ff\u8d77\u53ef\u7231\u7684\u8349\u7a3f\u7eb8\uff0c\u5feb\u4e50\u7684\u624b\u7b97\u4e00\u4e0b(x+y)^n\uff0c\u4e5f\u4e0d\u7528\u591a\u4e86\uff0c\u56db\u4e94\u7ec4\u5c31OK\n\n\u4e8e\u662f\uff1a\n\n(x+y)\u00b9=x + y\n\n(x+y)\u00b2=x\u00b2 + 2xy +y\u00b2\n\n(x+y)\u00b3=x\u00b3 + 3x\u00b2y + 3xy\u00b2 + y\u00b3\n\n(x+y)^4=x^4 + 4x^3 y + 6x^2 y^2 + 4x y^3 + y^4\n\n(x+y)^5=x^5 +5 x^4 y + 10 x^3 y^2 + 10 x^2 y^3 + 5 xy^4 + y^5\n\n\u6211\u4eec\u518d\u628a\u7cfb\u6570\u63d0\u51fa\u6765\uff1a\n\n1 1\n\n1 2 1\n\n1 3 3 1\n\n1 4 6 4 1\n\n1 5 10 10 5 1\n\n\u6211\u4eec\u5c31\u4f1a\u60ca\u5947\u7684\u53d1\u73b0\uff1a\n\n\u5440\uff01\u6768\u8f89\u4e09\u89d2\uff01\n\n\u4e8e\u662f\u6211\u4eec\u9a6c\u4e0a\u5feb\u4e50\u7684\u628a\u6768\u8f89\u4e09\u89d2\u6253\u51fa\u6765\uff1a\n```cpp\ninline void INIT()\n{\n\tg[1][1]=1;\n\tfor (R i=2;i<=k+1;i++)\n\t{\n\t\tfor (R j=1;j<=i;j++)\n\t\t{\n\t\t\tg[i][j]=(g[i-1][j-1]%MOD+g[i-1][j]%MOD)%MOD;//\u6ce8\u610f\u522b\u5fd8\u4e86%MOD\uff08MOD=10007\uff09\uff0c\u4e0d%MOD\u7684\u8bdd\u4f1a\u53ea\u5f9720\u5206\n\t\t}\n\t}\n}\n```\n\n\u4e4b\u540e\u6211\u4eec\u8f93\u51fa\u7ed3\u679c\u5c31\u4f1a\u53d1\u73b0\u6211\u4eec\u5b8c\u7f8e\u7684\u5f97\u51fa\u4e86\u6768\u8f89\u4e09\u89d2\uff01\n\n\u90a3\u4e48\u8fd9\u4e2a\u6768\u8f89\u4e09\u89d2\u7b2ck+1\u884c\u5c31\u662f(x+y)^k\u6bcf\u4e00\u9879\u7684\u7cfb\u6570\uff01\n\n\uff08\u8981\u628a\u62d3\u5c55\u5f00\u6765\u7684\u591a\u9879\u5f0f\u6309x\u7684\u6307\u6570\u6392\u5e8f\uff09\n\n\u90a3\u4e3a\u4ec0\u4e48\u8981\u628a\u62d3\u5c55\u5f00\u6765\u7684\u591a\u9879\u5f0f\u6309x\u7684\u6307\u6570\u6392\u5e8f\u5462\uff1f~~\u56e0\u4e3a\u8fd9\u6837\u624d\u80fd\u548c\u6768\u8f89\u4e09\u89d2\u5bf9\u5e94\u8d77\u6765\u554aQWQ~~~~\u800c\u4e14\u8fd8\u597d\u627e\u89c4\u5f8b~~\n\n\u4e4b\u540e\u6211\u4eec\u5c31\u53d1\u73b0\u5bf9\u4e8e\u8f93\u5165\u7684a\u3001b\u3001k\u3001n\u3001m\uff08a=b=1\uff09\uff0c\u7b54\u6848\u5c31\u662f\u6768\u8f89\u4e09\u89d2\u7b2ck+1\u884c\u3001\u7b2ck-n+1\u5217\uff01\n\n\u81f3\u6b64\uff0c\u6211\u4eec\u5c31\u641e\u51fa\u676550\u5206\u4e86\u5462\uff01\n\n50\u5206\u4ee3\u7801\uff1a\n```cpp\n#include <cstdio>\n#include <iostream>\nusing namespace std;\n#include <cmath>\n#include <string>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <map>\n#include <list>\n#include <deque>\n#include <climits>\n#include <algorithm>\n#include <ctime>\n#include <cstdlib>\n#define ll long long\n#define MOD 10007\n#define N 2100\n#define R register ll\n\nll a,b,k,n,m;\nll g[N][N];\n\ninline void INIT()\n{\n\tg[1][1]=1;\n\tfor (R i=2;i<=k+1;i++)\n\t{\n\t\tfor (R j=1;j<=i;j++)\n\t\t{\n\t\t\tg[i][j]=(g[i-1][j-1]%MOD+g[i-1][j]%MOD)%MOD;\n\t\t}\n\t}\n}\n\nint main()\n{\n    //freopen(\"factor.in\",\"r\",stdin);\n    //freopen(\"factor.out\",\"w\",stdout);\n\tscanf(\"%lld%lld%lld%lld%lld\",&a,&b,&k,&n,&m);\n\tINIT();\n\tprintf(\"%lld\",(g[k+1][k-n+1]%MOD));\n\tfclose(stdin);\n\tfclose(stdout);\n\treturn 0;\n}\n```\n\n\u90a3100%\u7684\u6570\u636e\u5462\uff1f\n\n\u6211\u4eec\u53ef\u4ee5\u7ee7\u7eed\u62ff\u8d77\u53ef\u7231\u7684\u8349\u7a3f\u7eb8\uff0c\u5feb\u4e50\u7684\u63a8\u4e00\u4e0b\u7ed3\u8bba\u3002\u3002\u3002\n\n\u4e4b\u540e\u6211\u4eec\u4f1a\u53d1\u73b0\uff08\u5177\u4f53\u516c\u5f0f\u4e0d\u6253\u4e86\uff0c~~\u6211\u592a\u61d2\u4e86~~ \u5f88\u7d2f\u7684\uff09\uff1a\u5bf9\u4e8e100%\u7684\u6570\u636e\uff0c\u6bcf\u4e00\u9879\u7684\u7cfb\u6570\u5c31\u662f50\u5206\u505a\u6cd5\u6240\u5bf9\u5e94\u7684\u6768\u8f89\u4e09\u89d2\u7684\u503c\u518d\u4e58(a^n)\u518d\u4e58(b^m)\uff01\u8fd9\u70b9\u6211\u4eec\u53ef\u4ee5\u7528\u5feb\u901f\u5e42\u6765\u505a\u3002\n\n\u5feb\u901f\u5e42\u4e0d\u4f1a\u7684\u540c\u5b66\u4eec\u5148\u53bb\u505a\u4e00\u4e0b[\u6d1b\u8c37P1226\u3010\u5feb\u901f\u5e42\u6a21\u677f\u3011](https://www.luogu.org/problemnew/show/P1226)\n\n\u4ee3\u7801\u987a\u4fbf\u4e5f\u7c98\u4e00\u4e0b\uff1a\n```cpp\n#include <cstdio>\n#include <iostream>\nusing namespace std;\n#include <cmath>\n#include <string>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <map>\n#include <list>\n#include <deque>\n#include <climits>\n#include <algorithm>\n#include <cstdlib>\n#define ll long long\n#define MOD 1000000007\n#define N 1000100\n\nll x,y,q;\n\nll qpower(ll a,ll b)\n{\n    ll ans=1,base=a;\n    while(b>0)\n\t{\n        if(b&1)\n        {\n            ans*=base;\n            ans%=q;\n        }\n        base*=base;\n        base%=q;\n        b>>=1;\n    }\n    return ans;\n}\n\nint main()\n{\n \tcin>>x>>y>>q;\n \tcout<<x<<\"^\"<<y<<\" mod \"<<q<<\"=\"<<qpower(x,y)%q<<endl;\n \treturn 0;\n}\n```\n\n~~\u4e0d\u8fc7\u4e0d\u7528\u5feb\u901f\u5e42\u4e5f\u53ef\u4ee5\u54e6~~\n\n\u6211\u4eec\u53ef\u4ee5\u7528\u6734\u7d20\u7b97\u6cd5\u6c42\u4e24\u4e2a\u5e42\u503c\uff0c\u56e0\u4e3a\u8981%MOD\uff0c\u6240\u4ee5\u4e0d\u4f1a\u70b8\u6389\n\n\u6734\u7d20\u7b97\u6cd5\u6c42\u5e42\u503c\uff1a\n\n```cpp\ninline ll mypow(ll aa,ll bb)\n{\n\tll lh=aa;\n\tfor (R i=2;i<=bb;i++)\n\t{\n\t\tlh*=aa;\n\t\tlh%=MOD;\n\t}\n\treturn lh;\n}\n```\n\u7136\u540e\u6211\u4eec\u8f93\u51fa((((g[k+1][k-n+1]%MOD)*mypow(a,n))%MOD)*mypow(b,m))%MOD\u5c31\u53ef\u4ee5\u4e86\uff01\uff08\u7565\u6709\u4e9b\u9ebb\u70e6\uff0c\u7b97\u4e86\uff0c\u76f4\u63a5\u770bAC\u4ee3\u7801\u5427\uff09\n\n```cpp\n#include <cstdio>\n#include <iostream>\nusing namespace std;\n#include <cmath>\n#include <string>\n#include <cstring>\n#include <queue>\n#include <stack>\n#include <map>\n#include <list>\n#include <deque>\n#include <climits>\n#include <algorithm>\n#include <ctime>\n#include <cstdlib>\n#define ll long long\n#define MOD 10007\n#define N 2100\n#define R register ll\n\nll a,b,k,n,m;\nll g[N][N];\n\ninline void INIT()\n{\n\tg[1][1]=1;\n\tfor (R i=2;i<=k+1;i++)\n\t{\n\t\tfor (R j=1;j<=i;j++)\n\t\t{\n\t\t\tg[i][j]=(g[i-1][j-1]%MOD+g[i-1][j]%MOD)%MOD;\n\t\t}\n\t}\n}\n\ninline ll mypow(ll aa,ll bb)\n{\n\tll lh=aa;\n\tfor (R i=2;i<=bb;i++)\n\t{\n\t\tlh*=aa;\n\t\tlh%=MOD;\n\t}\n\treturn lh;\n}\n\nint main()\n{\n    //freopen(\"factor.in\",\"r\",stdin);\n    //freopen(\"factor.out\",\"w\",stdout);\n\tscanf(\"%lld%lld%lld%lld%lld\",&a,&b,&k,&n,&m);\n\tINIT();\n\tprintf(\"%lld\",((((g[k+1][k-n+1]%MOD)*mypow(a,n))%MOD)*mypow(b,m))%MOD);\n\tfclose(stdin);\n\tfclose(stdout);\n\treturn 0;\n}\n```\n\n~~\u975e\u5e38\u5b8c\u7f8e\uff01~~\n\n\u4e8e\u662fNOIP\u53f2\u4e0a\u6700\u7b80\u5355\u7684\u6570\u8bba\u9898\u5c31\u8fd9\u4e48A\u6389\u4e86\uff01\n\n\u5927\u5bb6\u518d\u89c1\u5566~~~",
        "postTime": 1541151555,
        "uid": 28192,
        "name": "The_Power_of_Pigeon",
        "ccfLevel": 0,
        "title": "P1313\u8ba1\u7b97\u7cfb\u6570\uff08NOIP2011d2t1\uff09"
    },
    {
        "content": "\u5927\u4f6c\u4eec\u6ca1\u641e\u9519\u5427\uff0c\u8fd9\u9898\u8fd9\u4e48\u96be\uff1f\uff08\u5feb\u901f\u5e42\u4e4b\u7c7b\u7684\u849f\u84bb\u8868\u793a\u5b8c\u5168\u4e0d\u4f1a\uff09\n\n\u770b\u5230\u50cf\u8fd9\u6837\u7684\u591a\u9879\u5f0f\uff0c\u60f3\u5fc5\u90fd\u53ef\u4ee5\u60f3\u5230\u6768\u8f89\u4e09\u89d2\n\n1\n\n1 1\n\n1 2 1\n\n1 3 3 1\n\n1 4 6 4 1\n\n\u2026\u2026\n\n\u4f46\u8fd9\u53ea\u6709~~50\u5206~~\n\n\u56e0\u4e3a\u554a\uff0ca,b\u53ef\u4ee5\u4e0d\u662f1\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u770b\u4e00\u4e0b\u6768\u8f89\u4e09\u89d2\n\n\u4e3e\u4e2a\u4f8b\u5b50\uff1a\u7b2c3\u884c\u5230\u7b2c4\u884c\n\n(x^2+2\u00b7x\u00b7y+y^2)(x+y)\n\n\u770b\u4e00\u4e0bx^2 \u00b7 y \u8fd9\u4e00\u9879\u662f\u600e\u4e48\u6765\u7684\n\n\u662f (x^2 \u00b7 y)+(2xy \u00b7 x)=3\u00b7x^2\u00b7y\n\n\u5c31\u662f\u6768\u8f89\u4e09\u89d2x[4][2]=x[3][1]\u00b71+x[3][2]\u00b71\n\n\u5f53a,b,\u4e0d\u4e3a1\u65f6\u5462\uff0c\u76f8\u52a0\u7684\u4e24\u4e2a\u76f8\u7684\u7cfb\u6570\u4e58\u7684\u4fbf\u4e0d\u662f1,1 \uff0c\u800c\u662fy\u7684\u7cfb\u6570\u4e0ex\u7684\u7cfb\u6570\n\n\u65e2 x[4][2]=x[3][1]\u00b7b+x[3][2]\u00b7a\n\n\u53ef\u5f97\u5230\u9012\u63a8\u516c\u5f0f x[i][j]=x[i-1][j-1]\u00b7b+x[i-1][j]\u00b7a\n\n\u5047\u8bbe\u5f53a=2,b=3\u65f6,\u6768\u8f89\u4e09\u89d2\u4e3a\n\n1\n\n2 3\n\n4 12 9\n\n8 36 54 27\n\n16 96 216 216 81\n\n\u2026\u2026\n\n\u6768\u8f89\u4e09\u89d2\u7684\u884c\u6570\u4fbf\u662f(k+1),\u6700\u540e\u8f93\u51fa\u7684\u662f(m+1)\u3010\u662fy\u7684m\u6b21\u65b9\u76f8\u3011pas:\u8fd9\u91cc\u6570\u7ec4\u4e0d\u80fd\u4ece0\u5f00\u59cb\u54c8\n\n\n----------------------------------\u840c\u840c\u54d2\u7684\u5206\u5272\u7ebf----------------------------------\n\n\n\n    #include<iostream>\n    using namespace std;\n    long long x[1010][1010];\n    int main()\n    {\n\t    long long a,b,k,n,m;\n\t    cin>>a>>b>>k>>n>>m;\n\t    x[1][1]=1;\n\t    for(int i=2;i<=k+1;i++) for(int j=1;j<=i;j++)\n\t    x[i][j]=(x[i-1][j-1]*b+x[i-1][j]*a)%10007;\n\t    cout<<x[k+1][m+1];\n\t    return 0;\n    }\n    \n13\u884c\uff0c\u53ef\u80fd\u6bd4\u8f83\u7384\u5b66,~~\u4e0d\u7b26\u5408day2\u7b2c\u4e00\u9898~~",
        "postTime": 1540050090,
        "uid": 35675,
        "name": "cheny0604",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u6211\u4e5f\u662f~~\u778e\u641e~~\u5341\u5206\u8ba4\u771f\u5730\u505a\u624d\u505a\u51fa\u6765\uff0c\u6240\u4ee5\u4f1a\u4ece\u5934\u8bb2\u4e00\u904d\u6211\u7684\u601d\u8def\u548c\u505a\u9898\u65b9\u6cd5\n\n~~\u5bf9\u849f\u84bb\u4eec\u5929\u7136\u65e0\u516c\u5bb3\u54df~~\n\n\u4e0b\u9762\u8fdb\u5165\u6b63\u9898\n\n\n------------\n\n\t\t\t\t\t\t\t\t\t\u5206\u5272\u7ebf\n\n------------\n\n\n# \u95ee\u9898\u8f6c\u5316\n\n\u76f8\u4fe1\u5927\u5bb6\u63a5\u5230\u8fd9\u9053\u9898\uff0c\u5185\u5fc3\u662f\u8fd9\u6837\u7684(\u849f\u4f6c\u4eec\u8df3\u8fc7)\uff1a\n\n- mmp\u4ec0\u4e48\u9b3c\u9898\uff0c\u600e\u4e48\u505a\uff1f\n\n- \u8fd9\u5230\u5e95tm\u4ec0\u4e48\u9b3c\u4e1c\u897f\uff1f\n\n- \u4ec0\u4e48\u9b3c\uff0c\u4fe1\u606f\u8003\u6570\u5b66\uff1f\uff08chen_zhe:\u597d\u50cf\u4fe1\u606f\u5c31\u662f\u8003\u6570\u5b66\uff09\n\n(\u9003 \u03b5=\u03b5=\u03b5=\u250f(\u309c\u30ed\u309c;)\u251b\n\n\u597d\u5427\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u95ee\u9898\u8f6c\u5316\u6210\u4e0b\u9762\u8fd9\u5e45\u56fe\uff08\u624b\u7ed8\u52ff\u55b7\uff09\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/40104.png)\n\n\u6ca1\u770b\u61c2\uff1f\u6b63\u5e38\uff0c\u7a0d\u5fae\u89e3\u91ca\u4e00\u4e0b\uff1a\n\n\u4e00\u4ef6x a\u5206\n\n\u4e00\u4ef6y b\u5206\n\n\u6709k\u4e2a\u5305\uff0c\u4ece\u6bcf\u4e2a\u91cc\u9762\u6311\u4e00\u4e2ax\u6216\u4e00\u4e2ay\uff0c\u8981\u6c42\uff1a\u8981n\u4e2ax\uff0cm\u4e2ay\uff0c\n\n\u6311\u5b8c\u4e00\u6b21\u540e\u5c06\u6240\u6709\u7684a\u548cb\u76f8\u4e58\uff0c\u5e76\u52a0\u5230\u603b\u5206\u91cc\n\n\u6700\u540e\u6c42\u603b\u5206\u591a\u5c11\n\nemmmm......\u597d\u50cf\u53d8\u7684\u66f4\u590d\u6742\u4e86\n\n\u6ca1\u4e8b\u6ca1\u4e8b\uff0c\u628a\u95ee\u9898\u89c4\u6a21\u7f29\u5c0f\u4e00\u70b9\uff0c\u53d8\u6210\u4e24\u5305\u5c31\u597d\uff0c\u5c31\u50cf\u8fd9\u6837\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/40105.png)\n\n\u6211\u4eec\u53ea\u80fd\u50cf\u4e0b\u9762\u90a3\u6837\u6311\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/40106.png)\n\n\u6700\u540e\u5f97\u52302ab\u662f\u7b54\u6848\n\n\u67d0luogu\u65b0\u624b\uff1a\u89c4\u5f8b\u627e\u51fa\u6765\u4e86\uff0c\u8d76\u7d27\u5199\uff01\uff01\uff01\uff08WA 0\uff09\n\n\u4e3a\u4ec0\u4e48\u4e0d\u5bf9\uff1f\u56e0\u4e3a\u4ed6\u53ea\u662f\u4e00\u4e2a\u70b9\uff0c\u8fd8\u6709\u5176\u4ed6\u6570\u636eXD\n\n\u4e0b\u9762\u6b63\u5e38\u4e00\u70b9\uff0c\u6362\u62103\u4e2a\u5305\u88b1\uff0c\u770b\u770b\u80fd\u4e0d\u80fd\u627e\u89c4\u5f8b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/40207.png)\n\n\u6b64\u5904n=1\uff0cm=2\n\n\u6211\u4eec\u53ef\u4ee5\u600e\u4e48\u6311\u9009\u5462\uff1f\u53ef\u4ee5\u5148\u6311x\uff0c\u540e\u6311y,\u5c31\u662f\u4ecek\u4e2a\u5305\u88b1\u91cc\u6311n\uff081\uff09\u4e2a\u4f5c\u4e3ax\uff0c\n\n\u5269\u4e0b\u7684\u5c31\u90fd\u662fy\u4e86\u3002\n\n\u4f60\u95ee\u6211\u4e3a\u4ec0\u4e48\uff1f\u5f53\u7136\u56e0\u4e3an+m=k\u4e86\uff01\u6570\u636e\u8303\u56f4\u91cc\u9762\u5199\u7740\u5462\uff01\n\n\u67d0luogu\u65b0\u624b\uff1a\u90a3\u600e\u4e48\u6c42\u4ecek\u4e2a\u91cc\u9009n\u4e2a\u5462\uff1f\n\n\u6211\uff1a\u95ee\u5f97\u597d\uff0c\u7b49\u4e00\u4e0b\u6211\u53bb\u60f3\u60f3\uff08\u9003\n\n---\n\n\t\t\t\t\t\t\t\t  2000\u5e74\u4ee5\u540e\n\n---\n\n\u6211\uff1a~~\u67e5~~\u60f3\u51fa\u6765\u4e86\uff01\u4f60\u4eec\u6709\u6ca1\u6709\u542c\u8bf4\u8fc7\u6768\u8f89\u4e09\u89d2\uff0c\u4e13\u95e8\u7528\u6765\u89e3\u51b3\u8fd9\u7c7b\u95ee\u9898\u7684\uff0c\u8fd9\u4e2a\u53eb\u7ec4\u5408\u6570\uff0c\u4ed6\u6709\u4e00\u4e2a\u63a8\u5bfc\u516c\u5f0f\uff1a\n\n$$C^n_k=C^{n-1}_k+C^{n-1}_{k-1}$$\n\n\u67d0luogu\u65b0\u624b\uff1a\u8fd9\u5c31\u53bb\u4ea4\uff01\uff01\uff01\uff08\u60b2\u50ac\u7684WA 30\uff09\n\n\u67d0luogu\u65b0\u624b\uff1a\u4f60TM\u9a97\u6211\uff01\uff01\uff01MDZZ\uff01\uff01\uff01\n\n\u6211\uff1a\u4f60\u6709N(1\u4e2a)\u591a\u4f18\u5316\u6ca1\u52a0\uff0c\u60f3\u7684\u633a\u7f8e\uff01\u4f60\u7684\u7ec4\u5408\u6570\u662f\u4e0d\u662f\u7528\u9012\u5f52\u5199\u7684\uff1f\n\n\u67d0luogu\u65b0\u624b\uff1a\u662f\u5440\u662f\u5440\uff0c\u600e\u4e48\u4e86\uff1f\n\n\u6211\uff08\u6c57\uff09\uff1a\u4f60\u4e0d\u77e5\u9053\u5728\u4f60\u9012\u5f52\u7684\u65f6\u5019\uff0c\u4f1a\u6709\u5f88\u591a\u91cd\u590d\u5417\uff1f\u6bd4\u5982\u8fd9\u6837\uff1a\n\nc(5,3)=c(4,3)+c(4,2)=c(3,3)+c(4,2)+c(4,2)\n\n\u770b\uff0cc(4,2)\u5c31\u91cd\u590d\u4e86\uff01\n\n\u522b\u770b\u5728\u8fd9\u91cc\u597d\u50cf\u5c31\u4e00\u6b21\uff0c\u4f46\u4f60c(4,2)\u4e5f\u662f\u8981\u9012\u5f52\uff0c\n\n\u4e8e\u662f\u5c31\u91cd\u590d\u4e86N\u591a\u6b21\uff0c\u9020\u6210\u65f6\u95f4\u4e0a\u7684\u6d6a\u8d39\u3002\n\n\u6bd4\u5982\u4f60\u7b97100+100\uff0c\u4f60\u96be\u9053\u8981\u7b971+1+1+......+1\u5417\uff1f\n\n\u67d0luogu\u65b0\u624b\uff1a\u55ef\u55ef\uff0c\u660e\u767d\u4e86\uff0c\u6240\u4ee5\u6211\u53ea\u7528\u5f00\u4e2a\u6570\u7ec4\uff0c\u8bb0\u5f55\u8fd9\u4e2a\u4f4d\u7f6e\u7684\u7b54\u6848\uff0c\n\n\u5982\u679c\u6709\uff0c\u5c31\u76f4\u63a5\u7528\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u7701\u51fa\u4e0d\u5c11\u65f6\u95f4\u4e86\uff01\n\n\u6211\uff1a\u4f60\u7684\u609f\u6027\u4e0d\u9519\u561b\uff01\u4f60\u7ed9\u4e00\u4e2a\u4ee3\u7801\u5427\uff01\n\n\u67d0luogu\u840c\u65b0\uff1a\u4ee3\u7801\u5728\u6b64\uff01\u9547\u697c\uff01\n\n```cpp\n#include<cstdio>\nusing namespace std;\nint zuhe[1005][1005]; \nint powf(int a,int b){\n    int ans=1;\n    int i=1;\n    while(i<=b){\n        ans=ans*a%10007;\n        i++;\n    }\n    return ans;\n}\nvoid pre(){\n    for(int i=0;i<=1000;i++){\n        zuhe[i][0]=1;\n        zuhe[i][i]=1;\n    }\n    for(int i=2;i<=1000;i++){\n        for(int j=1;j<=1000;j++){\n            zuhe[i][j]=(zuhe[i-1][j]+zuhe[i-1][j-1])%10007;\n        }\n    }\n}\nint main(){\n    pre();\n    int a,b,k,n,m;\n    scanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\n    a=a%10007;\n    b=b%10007;\n    int ans=powf(a,n)%10007*powf(b,m)%10007*zuhe[k][n]%10007;\n    printf(\"%d\",ans);\n    return 0;\n}\n```\n\n\u65f6\u95f4\u5f88\u5feb\uff019ms\u5c31\u8fc7\u4e86\uff01\uff01\uff01\n\n\u6211\uff1a\u5176\u5b9e\u6709\u66f4\u5feb\u7684\u4f18\u5316\uff0c\u53eb\u505a\u5feb\u901f\u5e42\uff0c\u5c31\u662f\u5feb\u901f\u6c42\u4e00\u4e2a\u6570\u7684N\u6b21\u65b9\uff0c\u8fd9\u6837\u5c31\u65b9\u4fbf\u591a\u4e86\uff0c\u4f46\u56e0\u4e3a\u7bc7\u5e45\u539f\u56e0\uff0c\u8fd9\u91cc\u5c31\u4e0d\u8d58\u8ff0\u4e86\uff0c\u76f4\u63a5\u4e0a\u4ee3\u7801\uff0c\u60f3\u8981\u4e86\u89e3\u7684\u53ef\u4ee5\u8fdb\u5165\u6211\u7684Luogu\u535a\u5ba2\uff1a[\u590f\u51cc\u4e91\u7684\u535a\u5ba2](https://www.luogu.org/blog/longxiaokong-de-blog/)\n\n```cpp\n#include<cstdio>\nusing namespace std;\nint zuhe[1005][1005]; \nint powf(int a,int b){\n    int ans=1,base=a;\n    while(b!=0){\n        if((b&1)!=0)\n    \t\tans=ans*base%10007;\n        base=base*base%10007;\n        b>>=1;\n    }\n    return ans;\n}\nvoid pre(){\n    for(int i=0;i<=1000;i++){\n        zuhe[i][0]=1;\n        zuhe[i][i]=1;\n    }\n    for(int i=2;i<=1000;i++){\n        for(int j=1;j<=1000;j++){\n            zuhe[i][j]=(zuhe[i-1][j]+zuhe[i-1][j-1])%10007;\n        }\n    }\n}\nint main(){\n    pre();\n    int a,b,k,n,m;\n    scanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\n    a=a%10007;\n    b=b%10007;\n    int ans=powf(a,n)%10007*powf(b,m)%10007*zuhe[k][n]%10007;\n    printf(\"%d\",ans);\n    return 0;\n}\n```\n\u5b8c\u7ed3\u6492\u82b1~~~",
        "postTime": 1540650365,
        "uid": 62600,
        "name": "\u9f99\u5578\u7a7a",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u3010\u8c08\u8c08\u611f\u60f3\u3011\u6211\u7684\u6570\u5b66\u9898\uff0c\u7206\u7b80\u5355\uff01\n\n\u3010\u7b97\u6cd5\u5206\u6790\u3011\u4e8c\u9879\u5f0f\u5b9a\u7406\uff0c\u6570\u8bba\uff0c\u9012\u63a8\n\n\u3010\u9700\u8981\u7528\u5230\u3011\u7ec4\u5408\u6570\uff08\u6768\u8f89\u4e09\u89d2\uff09\uff0c\u4e58\u65b9\n\n\u3010\u6e29\u99a8\u63d0\u793a\u30111.\u6a2110007\uff08\u4e00\u90e8\u5206\u4f7f\u7528long long\uff09  2.\u89c1\u3010\u5c24\u5176\u6ce8\u610f\u3011\n\n\u3010\u5c24\u5176\u6ce8\u610f\u3011\u8fd9\u91cc\u5343\u4e07\u5f97\u770b\uff1aa\u548cb\u662f\u53cd\u7684\uff0c\u4e0d\u6539\u7684\u8bdd\u6ca1\u5f97AC\uff01\n\n\u3010\u7b97\u6cd5\u5256\u6790\u3011(\u4e0e\u3010\u7b97\u6cd5\u5206\u6790\u3011\u4e0d\u540c\uff09\n\n\u6839\u636e\u4e8c\u9879\u5f0f\u5b9a\u7406\uff0c\uff08x+y\uff09^k\u4e2dx^m\\*y^\uff08k-m\uff09\u7684\u7cfb\u6570\u4e3aC\uff08k\uff0cm\uff09\n\n\u8ba9\u6211\u4eec\u6539\u88c5\u4e00\u4e0b\uff1a\uff08ax+by\uff09^k\u4e2dx^m\\*y^\uff08k-m\uff09\u7684\u7cfb\u6570\u4e3aC\uff08k\uff0cm\uff09\\*a^m\\*b^\uff08k-m\uff09\n\n\u3010\u7b97\u6cd5\u6d41\u7a0b\u30111.\u8f93\u5165\u53c2\u6570\n\n2.\u4f7f\u7528\u6768\u8f89\u4e09\u89d2\u8ba1\u7b97C\uff08k\uff0cm\uff09\n\n3.\u8ba1\u7b97a^m\u4e0eb^\uff08k-m\uff09\n\n4.\u76f8\u4e58\uff0c\u8f93\u51fa\u7b54\u6848\n\n\u3010\u534e\u4e3d\u6807\u7a0b\u3011\n\n```cpp\n#include<iostream>\nusing namespace std;\nconst int maxn=1000+5;  //\u8fd0\u7528\u65b9\u4fbf\nint times(int p,int q)  //p^q\n{\n    if(q==0)return 1; long long answer=1;\n    for(int i=1;i<=q;i++){ answer*=p; answer%=10007; }\n    return answer;\n};\nint main()\n{\n    int c[maxn][maxn],i,j,a,b,k,m,n; long long ans;  //c[maxn][maxn]\u4e3a\u7ec4\u5408\u6570\u6570\u7ec4\n    cin>>b>>a>>k>>n>>m; c[0][0]=1;  //\u521d\u59cb\u5316\n    for(i=1;i<=k;i++)c[i][0]=c[i][i]=1;  //\u8fb9\u754c\u6761\u4ef6\n    for(i=1;i<=k;i++) for(j=1;j<i;j++)\n    c[i][j]=(c[i-1][j]+c[i-1][j-1])%10007;  //\u8fd0\u7528\u6768\u8f89\u4e09\u89d2\n    ans=c[k][m]*(times(a,m)*times(b,n)%10007)%10007;  //\u76f8\u4e58\n    cout<<ans<<endl;\n    return 0;\n}\n```",
        "postTime": 1495704042,
        "uid": 8682,
        "name": "\u5218\u5fc3\u8fdc",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "****\u5feb\u901f\u5e42+\u4e8c\u9879\u5f0f\u5b9a\u7406****\n\n\n****\u518d\u914d\u5408\u540c\u4f59 \u4e0d\u9700\u8981\u4ec0\u4e48longlong****\n\n\n****(C(k,min(n,m)) ((a^n) %k \\* (b^m) %k) %k) %k; (n+m==k)****\n\n****\u4e0a\u5f0f\u73b0\u573a\u624b\u63a8\u5176\u5b9e\u4e5f\u53ef\u4ee5****\n\n\n```cpp\n#include<iostream>\nusing namespace std;\nconst int mo = 10007;\nconst int maxn = 1007;\n//\u7ed9\u5b9a\u4e00\u4e2a\u591a\u9879\u5f0f(by+ax)^k\uff0c\u8bf7\u6c42\u51fa\u591a\u9879\u5f0f\u5c55\u5f00\u540ex^n*y^m \u9879\u7684\u7cfb\u6570\u3002\nint a,b,k,n,m;\nint C[maxn][maxn];\nint getksm(int a,int b)\n{\n    int base = a,ans = 1;\n    while (b)\n    {\n        if (b & 1) ans = (ans*base) %mo;\n        base = (base*base) %mo;\n        b>>=1;    \n    }\n    return ans;\n}\nint main()\n{\n    cin>>a>>b>>k>>n>>m;\n    a %= mo; b %= mo;\n    a = getksm(a,n);\n    b = getksm(b,m);\n    for (int i = 1; i<=k; i++)\n    {\n        C[i][0] = 1;\n        C[i][i] = 1;\n    }\n    int p = min(n,m);\n    for (int i = 2; i<=k; i++)//\u4ece1\u5f00\u59cb\u5c31\u4f1aWA\n    {\n        for (int j = 1; j<=p; j++)\n        {\n            C[i][j] = (C[i-1][j]+C[i-1][j-1]) %mo;\n        }\n    }\n    int ans = (a*b) % mo;\n    ans = (ans * C[k][p]) % mo;\n    cout<<ans<<endl;\n    return 0;\n}\n```",
        "postTime": 1509091358,
        "uid": 24125,
        "name": "JerryCao",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u4f5c\u4e3a\u4fe1\u606f\u7edf\u7ec3\u7684\u4e00\u9053\u9898\uff0c\u8fd9\u9053\u9898\u521a\u4e00\u51fa\u73b0\u5c31\u96be\u5012\u4e86\u4e00\u6279\u4eba\uff0cinclude me \uff08orz\u3002\u3002\u3002\uff09\n\n\u5982\u679c\u8fd9\u9053\u9898\u7684a\u548cb\u7684\u7cfb\u6570\u4e3a\u4e00\uff0c\u90a3\u4e48\u6216\u8bb8\u4f1a\u597d\u529e\u4e00\u4e9b\uff0c\u4e0d\u96be\u53d1\u73b0\u4e00\u4e9b\u89c4\u5f8b\uff1a\n\na+b=a+b\n\n(a+b)^2=a^2+2ab+b^2\n\n(a+b)^3=a^3+3a^2b+3ab^2+b^3\n\n1 1\n\n1 2 1\n\n1 3 3 1\n\n?!\n\n\u4f3c\u4e4e\u53d1\u73b0\u4e86\u4ec0\u4e48\u79d8\u5bc6\n\n\u5982\u679c\u628a\u4e0a\u9762\u76841\u8865\u5168\uff0c\u8fd9\u4e0d\u5c31\u662f\u6768\u8f89\u4e09\u89d2\u5417\uff1f\n\n\u5176\u5b9e1\u4e5f\u662f\u5b58\u5728\u7684\uff0c\u5c31\u662fa+b\u7684\u96f6\u6b21\u5e42\u3002\n\n\u90a3\u4e48\u5982\u679c\u662f\u7cfb\u6570\u4e0d\u4e3a1\u5462\uff1f\n\n\u5176\u5b9e\u7ec6\u5fc3\u7684\u670b\u53cb\u4f1a\u53d1\u73b0\uff1a\u7cfb\u6570\u4e0e\u672a\u77e5\u6570\u7684\u6b21\u6570\u5e94\u8be5\u662f\u76f8\u540c\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u8981\u7528\u6768\u8f89\u4e09\u89d2\u5f97\u5230\u7684\u503c\u518d\u5206\u522b\u4e58\u4ee5\u4e24\u4e2a\u7cfb\u6570\u7684\u4e0d\u540c\u6b21\u5e42\u7684\u503c\uff0c\u4e0d\u5c31\u5f97\u5230\u6b63\u786e\u7b54\u6848\u4e86\u5417\uff1f\n\n\u90a3\u4e48\u5173\u4e8e\u7cfb\u6570\u7684\u4e58\u65b9\u95ee\u9898\uff0c\u5982\u679c\u4f60\u53ea\u662f\u5355\u4e00\u7684\u679a\u4e3e\u6bcf\u4e00\u4f4d\u76f8\u4e58\uff0c\u90a3\u4e48\u4f60\u5c31low\u7206\u4e86\uff0c\u4e0d\u77e5\u9053\u4f60\u542c\u6ca1\u542c\u8bf4\u8fc7\u5feb\u901f\u5e42\uff1f\u4f46\u5176\u5b9e\u5355\u4e00\u4e58\u6cd5\u4e5f\u6709\u5b83\u7684\u597d\u5904\uff1a\u5c31\u662f\u4e0d\u7528\u62c5\u5fc3\u8d8a\u754c\uff0c\u5982\u679c\u7528\u5feb\u901f\u5e42\u5c31\u5fc5\u987b\u8003\u8651\u5c40\u90e8\u8fc7\u5927\uff0c\u6240\u4ee5\u5fc5\u7136\u8981\u5f00longlong\uff0c\u5c31\u4f1a\u5e9f\u7a7a\u95f4\u3002\u5404\u6709\u5404\u7684\u597d\u5904\uff0c\u4f46\u6211\u504f\u5411\u4e8e\u5feb\u901f\u5e42\uff0c\u6bd5\u7adf\u65f6\u95f4\u5c31\u662f\u91d1\u94b1\u3002\u3002\u3002\uff08\u5f00\u4e2a\u73a9\u7b11\uff09\n\n\u9644\u4e0a\u672c\u9898\u4ee3\u7801\uff08\u798f\u5229\uff1a\u4e24\u79cd\u4ee3\u7801\uff09\n\n\u5feb\u901f\u5e42\u7248\n```cpp\n#include<cstdio>\nusing namespace std;\nlong long f[1005][1005];\nlong long qpow(long long x,long long y)\n{\n    long long ans=1;\n    while(y!=0)\n    {\n        if(y&1)\n        {\n            ans=(ans%10007*x%10007)%10007;\n        }\n        x=(x%10007*x%10007)%10007;\n        y>>=1;\n    }\n    return ans%10007;\n}\nint main()\n{\n    int a,b,k,n,m;\n    scanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m); \n    f[1][1]=1;\n    f[1][2]=1;\n    for(int i=2;i<=k;i++)\n    {\n        for(int j=1;j<=i+1;j++)\n        {\n            f[i][j]=(f[i-1][j]+f[i-1][j-1])%10007;\n        }\n    }\n    long long qqq=f[k][m+1];\n    qqq=(qqq%10007*qpow(a,n)%10007)%10007;\n    qqq=(qqq%10007*qpow(b,m)%10007)%10007;\n    printf(\"%lld\",qqq);\n    return 0;\n}\n```\n\u666e\u901a\u7248\n\n```cpp\n#include<cstdio>\nusing namespace std;\nlong long f[1005][1005];\nlong long qpow(long long x,long long y)\n{\n    long long ans=1;\n    while(y!=0)\n    {\n        if(y&1)\n        {\n            ans=(ans%10007*x%10007)%10007;\n        }\n        x=(x%10007*x%10007)%10007;\n        y>>=1;\n    }\n    return ans%10007;\n}\nint main()\n{\n    int a,b,k,n,m;\n    scanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m); \n    f[1][1]=1;\n    f[1][2]=1;\n    for(int i=2;i<=k;i++)\n    {\n        for(int j=1;j<=i+1;j++)\n        {\n            f[i][j]=(f[i-1][j]+f[i-1][j-1])%10007;\n        }\n    }\n    long long qqq=f[k][m+1];\n    qqq=(qqq%10007*qpow(a,n)%10007)%10007;\n    qqq=(qqq%10007*qpow(b,m)%10007)%10007;\n    printf(\"%lld\",qqq);\n    return 0;\n}\n```",
        "postTime": 1550062017,
        "uid": 133227,
        "name": "\u4e8e\u4e30\u6797",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "##### \u50cf\u8fd9\u79cd\u53c8\u662f\u53ef\u4ee5\u6a21\u62df\u7684\u9898\u76ee\uff0c\u770b\u5230\u5c31\u624b\u63a8\u6a21\u62df\u4e00\u6ce2\n\n###### \u524d\u63d0\u8981\u77e5\u9053\u591a\u9879\u5f0f\u6309 x\u7684\u964d\u5e42\u6392\u5217 y\u7684\u5347\u5e42\u6392\u5217\n\n\u9996\u5148 \u5bf9\u4e8e a,b==1\u7684\u60c5\u51b5\u8fdb\u884c\u63a8\u7406\n\n\u5219\u624b\u63a8\u4e00\u6ce2  (x+y)^(1~k)  \u53ef\u4ee5\u53d1\u73b0\n### \u5206\u89e3~~\u9635\u6cd5~~\u4e3a\n\n(x+y)^0=1\n\n(x+y)\u00b9=x+y\n\n(x+y)\u00b2=x\u00b2+2 x y+y\u00b2\n\n(x+y)\u00b3=x\u00b3+3 x\u00b2y+3 x y\u00b2+y\u00b3\n\n(x+y)^4=x^4+4 x^3 y+6x^2 y^2+4x y^3+y^4\n \n(x+y)^5=x^5+5 x^4 y+10 x^3 y^2+10x^2 y^3+5 x y^4+y^5\n### \u7cfb\u6570~~\u9635\u6cd5~~\u2460 \n1: (x+y)^0-->1\n\n2: (x+y)^1-->1 1\n\n3: (x+y)^2-->1 2 1\n\n4: (x+y)^3-->1 3 3 1\n\n5: (x+y)^4-->1 4 6 4 1\n\n6: (x+y)^5-->1 5 10 10 5 1\n \n## dadada \u6768\u8f89\u4e09\u89d2\n\nlalala \u5bf9\u4e8e\u849f\u84bb\u7684\u6211 \u518d\u63a8\u4e00\u6ce2 (ax+by)^k\n\n\u8bbe a=2,b=3,n=1,m=2\n\n\u8bbe a=3,b=4,n=2,m=1\n\n\u8bbe a=3,b=3,n=2,m=2\n\n.......\n\n\u5927\u5bb6\u6162\u6162\u6765,\u4e0d\u8981\u7740\u6025\uff0c\u5927\u6982\u63a8\u4e2a\u534a\u5c0f\u65f6\u5c31\u80fd\u77e5\u9053\u7ed3\u8bba\u4e86\n\n### \u7cfb\u6570~~\u9635\u6cd5~~\u2461\n\n\u2461=\u2460 * (a^n) * (b^m)\n\n## \u6240\u4ee5\u624b\u63a8\u7ed3\u675f\nf\u6570\u7ec4\u4e3a\u5b58\u50a8\u6768\u8f89\u4e09\u89d2\n\n### ans = f[k+1][m+1]* pow(a,n) * pow(b,m);\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#define MOD 10007\nusing namespace std;\t\nlong long a,b,k,n,m;\nlong long f[1111][1111]; \nvoid yhsj()\n{\n\tf[1][1]=1;\n\tfor(int i=2;i<=k+1;i++)\n\t{\n\t\tfor(int j=1;j<=i;j++)\n\t\t{\n\t\t\tf[i][j]=(f[i-1][j]%MOD+f[i-1][j-1]%MOD)%MOD;\n\t\t}\n\t}\n}//\u6c42\u6768\u8f89\u4e09\u89d2\nlong long powerful(int aa,int bb)\n{\n\tlong long sum=aa;\n\tfor(int i=2;i<=bb;i++)\n\t{\n\t\tsum=sum*aa;\n\t\tsum=sum%MOD;\n\t}\n\treturn sum;\n}//\u56e0\u4e3a\u8981mod\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u6734\u7d20\u6c42\u5e42\nint main()\n{\n\tcin>>a>>b>>k>>n>>m;\n\tyhsj();\n\tprintf(\"%lld\",((f[k+1][m+1]%MOD)*(powerful(a,n)%MOD)*(powerful(b,m)%MOD))%MOD);\n}//m+1\uff1a\u6309y\u7684\u5347\u5e42\u6392\u5217\uff0c\u4e14\u7b2c\u4e00\u4e2a\u4e3a0\u6b21\u5e42 \u6240\u4ee5\u3002\u3002\u3002\n \n```\n## ~~\u5b8c\u7f8e\u5b8c\u7ed3~~\n\u5176\u5b9e\u5de8\u4f6c\u4eec\u90fd\u7528\u4ec0\u4e48\u7ec4\u5408\u6570\uff0c\u901a\u9879\u516c\u5f0f\u7684\uff0c\u6211\u8fd8\u6ca1\u5b66~~~/(\u3112o\u3112)/~~\n",
        "postTime": 1570260546,
        "uid": 49129,
        "name": "OIhzc",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u53ea\u8981\u80af\u52a8\u624b\u8fd8\u662f\u633a\u6c34\u7684\n## \u8fdb\u5165\u6b63\u9898\n\u6211\u4eec\u5148\u679a\u4e3e\u51e0\u4e2a\u627e\u627e\u89c4\u5f8b(\u8fd9\u91cc\u5148\u7701\u7565$x$\uff0c$y$)\uff1a\n\n$k = 0 $\uff1a$1$\n\n$k = 1 $: $a$ $b$\n\n$k = 2 $: $a^{2}$ $2ab$ $b^{2}$\n\n$k = 3 $: $a^{3}$ $3a^{2}b$ $3ab^{2}$ $b^{3}$\n\n$.......$\n\n\u53bb\u6389$a$\u548c$b$\uff0c\u5c31\u80fd\u53d1\u73b0\u4ed6\u5c31\u662f\u4e2a\u6768\u8f89\u4e09\u89d2\uff0c\u90a3\u6211\u4eec\u5c31\u53ef\u4ee5\u5148\u9884\u5904\u7406\u597d\u6768\u8f89\u4e09\u89d2\uff08~~\u4e5f\u53ef\u4ee5\u6253\u8868~~\uff09\n\u6211\u4eec\u7ee7\u7eed\u89c2\u5bdf\uff0c\u6768\u8f89\u4e09\u89d2\u4e0a\u662f\u8981\u4e58\u4e0a$a$\u548c$b$\u7684\uff0c\u73b0\u5728\u6211\u4eec\u5c31\u8981\u627e\u8be5\u600e\u4e48\u4e58\u4e86\uff1b\u89c2\u5bdf\u6b21\u6570\uff0c$a$\u7684\u6b21\u6570\u662f$n$\u7684\u5927\u5c0f\uff0c$b$\u4e5f\u662f$m$\u7684\u5927\u5c0f\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u5148\u628a$a$\uff0c$b$\u4e58\u65b9\u540e\u7684\u6570\u4e58\u5230\u4ed6\u4eec\u5bf9\u5e94\u7684\u6768\u8f89\u4e09\u89d2\u7684\u6570\uff1b\u81f3\u4e8e\u4e58\u65b9\uff0c\u6211\u7528\u7684\u5feb\u901f\u5e42\uff0c\u5176\u5b9e\u7206\u4e58\u5e94\u8be5\u4e5f\u53ef\u4ee5\uff0c\u770b\u559c\u597d\u5427\uff0c\u53ea\u8981\u6bcf\u6b21\u90fd$%$\u53bb\u54ea\u4e2a\u89c4\u5b9a\u7684\u6570\u5c31\u884c\u4e86\uff08\u6ca1\u8bd5\u8fc7\u9e2d\uff09\n\n\u8bf4\u4e86\u8fd9\u4e48\u591a\uff0c\u6211\u4eec\u8fd8\u6ca1\u786e\u5b9a\u4ed6\u4eec\u7684\u4f4d\u7f6e\uff0c\u89c2\u5bdf\uff0c\u7531\u4e8e\u6768\u8f89\u4e09\u89d2\u7684\u7b2c\u4e00\u6392\u5176\u5b9e\u4e0d\u4e3a$1$\uff0c\u6240\u4ee5\u5bf9\u5e94\u7684\u884c\u6570\u4e5f\u5c31\u662f$k+1$\u4e86\uff0c\u5728\u786e\u5b9a\u5217\uff0c\u53ef\u4ee5\u53d1\u73b0\uff0c\u5176\u5b9e\u5c31\u662f$m+1$\uff1b\u73b0\u5728\uff0c\u5c31\u505a\u51fa\u6765\u5566\n\n\n------------\n\u63a5\u4e0b\u6765\u5c31\u662f\u849f\u84bb\u7684\u4ee3\u7801\u5566\uff01\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nlong long a/*x*/ , b/*y*/ , k , m/*y*/ , n/*x*/ , mo = 10007 , ans;\t//\u6807\u8bb0\u597d\u5bf9\u5e94\u7684\u5b57\u6bcd\uff0c\u4ee5\u9632\u5e26\u9519\u503c\u4e86 \nlong long ret = 1; //\u5feb\u901f\u5e42\u7684\u7b54\u6848 \nlong long f[10011][10011]; //\u6768\u8f89\u4e09\u89d2 \nint main(){ \n    f[1][1] = 1; //\u6768\u8f89\u4e09\u89d2\u7684\u7b2c\u4e00\u884c\u4e3a1\uff0c\u540e\u9762\u624d\u597d\u7b97\u561b \n    for(int i = 2; i <= 1005; i++) //\u6570\u636e\u6700\u5927\u4e3a1000\uff0c\u6240\u4ee51000\u591a\u5c31\u591f\u4e86 \n        for(int j = 1; j <= i; j++)\n            f[i][j] = (f[i - 1][j - 1] % mo + f[i - 1][j]  % mo) % mo; //\u6bcf\u4e00\u6b65\u90fd%\uff0c\u4ee5\u9632\u7b54\u6848\u592a\u5927 \n\tcin >> a >> b >> k >> n >> m;\n\tans = f[k + 1][m + 1]; //\u7b54\u6848\u521d\u59cb\u5316\u4e86 \n\twhile(n){ //\u5feb\u901f\u5e42~~~ \n\t\tif(n % 2 == 1) ret = ret * a % mo;\n\t\tn /= 2;\n\t\ta = a * a % mo;\n\t}\n\tans *= ret % mo;\n\tret = 1; //\u4e0a\u4e00\u4e2a\u7528\u5b8c\u5c31\u8981\u521d\u59cb\u5316\u4e86 \n\twhile(m){\n\t\tif(m % 2 == 1) ret = ret * b % mo;\n\t\tm /= 2;\n\t\tb = b * b % mo;\n\t}\n\tans *= ret % mo;\n\tcout << ans % mo;\n\treturn 0;\n} \n```\n\u5c31\u8fd9\u4e48\u591a\u5566\uff0c\u6e9c\u4e86\u6e9c\u4e86",
        "postTime": 1563278429,
        "uid": 117662,
        "name": "\u90a3\u4e00\u6761\u53d8\u963b\u5668",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "~~\u53cd\u6b63\u6570\u8bba\u9898\u5bf9\u6211\u6765\u8bf4\u90fd\u662f\u84dd\u9898~~\n\n\u4e00\u770b\u9898\u611f\u89c9\u662f\u4e8c\u9879\u5f0f\u5b9a\u7406\u3010~~\u7136\u800c\u6211\u6ca1\u8bb0\u4f4fgg\u3011~~\n\n\u4e8c\u9879\u5f0f\u5b9a\u7406\uff1a\n\n$${(a+b)}^n=\\sum_{k=0}^n{C_n^ka^kb^{n-k}}$$ \n\n\u6240\u4ee5\n\n$${(ax+by)}^k=\\sum_{p=0}^k{C_k^p(ax)^p(by)^{k-p}}$$\n\n\u6574\u7406\u5f97\n\n$${(ax+by)}^k=\\sum_{p=0}^k{(C_k^pa^pb^{k-p})x^py^{k-p}}$$\n\n\u3010~~\u53cd\u6b63\u6211\u8fd9\u667a\u5546\u662f\u641e\u4e0d\u5230\u8fd9\u4e00\u6b65\u3002\u3002~~\u3011\n\n\u6240\u4ee5\u7b54\u6848\u662f\n\n$$C_k^na^nb^m$$\n\n\u3010~~\u7ec8\u4e8e\u5230\u6211\u667a\u5546\u8303\u56f4\u5185\u4e86\u3002\u3002\u3002~~\u3011\n\n\u6c42\u7ec4\u5408\u6570 \u518d\u7528\u5feb\u901f\u5e42\u5c31\u641e\u5b9a\u5566\n\n\u6c42\u7ec4\u5408\u6570\u7684\u4e24\u4e2a\u65b9\u6cd5\uff1a \n\n1.\u516c\u5f0f\u6cd5\n\n$$C_n^m=\\frac {n!} {m!(n-m)!}$$\n\n          \u9884\u5904\u7406\u51fa\u9636\u4e58\u548c\u9006\u5143\uff0c\u5e26\u5165\u516c\u5f0f\u5373\u53ef\u3002\n          \n2.\u6768\u8f89\u4e09\u89d2\u9012\u63a8\n       \n$$C_n^m=C_{n-1}^{m-1}+C_{n-1}^m$$\n\n          \u4e5f\u9884\u5904\u7406\u51fa\u6765\u76f4\u63a5\u5e26\u5165\u5373\u53ef\n\n\n\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<string>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\nconst ll p=10007;\nll a,b,k,n,m,ans; \nll c[1005][1005];\nll ksm(ll a,ll b)\n{\n\tll res=1;\n\twhile(b)\n\t{\n\t\tif(b&1)res=(res*a)%p;\n\t\ta=(a*a)%p;\n\t\tb>>=1;\n\t}\n\treturn res;\n}\nvoid build()\n{\n\tc[0][0]=c[1][0]=c[1][1]=1;\n\tfor(ll i=2;i<=k;i++)\n\t  for(ll j=0;j<=i;j++)\n\t  {\n\t  \tif(j==0)c[i][j]=1;\n\t  \telse c[i][j]=(c[i-1][j]+c[i-1][j-1])%p;\n\t  }\n}\nint main()\n{\n\tcin>>a>>b>>k>>n>>m;   \n\tbuild(); \n\tans=(c[k][n]*ksm(a,n))%p*ksm(b,m)%p;\n\tcout<<ans;\n\treturn 0;\n\t\n}\n```\n",
        "postTime": 1540947787,
        "uid": 27059,
        "name": "\u5317\u65b9\u6709\u5c0f\u4ed9\u513f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u6613\u5f97\u672c\u9898\u516c\u5f0f\uff1a\nans = C(k,n) * a^n * b^m\n\n\u82e5\u6211\u4eec\u7ef4\u62a4\u6768\u8f89\u4e09\u89d2\uff0c\u5c31\u6709O(k^2)\u7684\u65f6\u7a7a\u590d\u6742\u5ea6\u3002\n\n\u8fd9\u6837\u592a\u6162\u4e86\u3002\n\n\u6211\u4eec\u8fdb\u4e00\u6b65\u89c2\u5bdf\u53ef\u5f97\uff1a\n\nans = a^n * b^m * k! / (k-n)! / n!\n\n\u5728\u6a2110007\u7684\u610f\u4e49\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba1\u7b97\u9006\u5143\u3002\n\n\u65f6\u7a7a\u590d\u6742\u5ea6\u964d\u5230O(k)\u3002\n\n\u4ee3\u7801\uff1a\n\n```\n#include <bits/stdc++.h>\n#define LL long long\n#define K 1010\n#define MOD 10007\n#define T 100010\nusing namespace std;\n\ninline int read(){\n\tint x = 0,f = 1; char c = getchar();\n\twhile (c < '0' || c > '9') {if (c == '-') f = -1;c = getchar();}\n\twhile (c <='9' && c >='0') {x = x * 10 + c - '0';c = getchar();}\n\treturn x * f;\n}\n\ninline void write(int x){\n\tint k = 0,lx = x;char put[20];\n\tif (lx ==0) putchar('0');\n\tif (lx < 0) putchar('-'),lx = -lx;\n\twhile (lx)  put[++k] = (lx % 10) + '0',lx /= 10;\n\twhile (k)   putchar( put[ k-- ] );\n\tputchar('\\n');\n}\n\nLL a,b,k,n,m,ans;\n//doit1\nLL c[K][K];\n//doit2\nLL fac[T],nfac[T],f[T];\n//f[i] = P/i * f[P%i]; -- \u9006\u5143\u9012\u63a8\n \nLL Pow(LL a,LL b){\n\tLL x = a,ans = 1;\n\twhile (b){\n\t\tif (b & 1) ans = (ans * x) % MOD;\n\t\tx = (x * x) % MOD;\n\t\tb >>= 1;\n\t}\n\treturn ans;\n}\nvoid doit1(){\n\tc[0][0] = 1;\n\tfor (int i = 1; i <= k; ++i){\n\t\tc[i][0] = 1;\n\t\tfor (int j = 1; j <= i; ++j)\n\t\t\tc[i][j] = (c[i-1][j-1] + c[i-1][j]) % MOD;\n\t}\n\t\n\tans = Pow(a,n) * Pow(b,m) % MOD * c[k][n] % MOD;\n\t\n\twrite(ans);\n}\n\ninline void add(LL &x){\n\tx %= MOD;\n\twhile (x < 0) x += MOD;\n\tx %= MOD;\n}\n\nvoid doit2(){\n\tf[1] = 1;fac[1] = 1;nfac[1] = 1;\n\tfor (int i = 2; i <= k; ++i)\n\t\tf[i] = -MOD/i * f[MOD % i],add(f[i]),\n\t\tfac[i] = fac[i-1] * i % MOD,\n\t\tnfac[i] = nfac[i-1] * f[i] % MOD;\n\t\n\tans = Pow(a,n) * Pow(b,m) % MOD * fac[k] % MOD * nfac[n] % MOD * nfac[m] % MOD;\n\twrite(ans);\n}\nint main(){\n\ta = read(),b = read(),k = read(),n = read(),m = read();\n\t//a^m b^n C(k,n) = a^n * b^m * k! / n! / m!\n\t//doit1(); //O(k^2)\n\tdoit2(); //O(k) \u4e24\u4e2a\u7b97\u6cd5\u53ef\u4ee5\u5bf9\u6bd4\u4e0b\u65f6\u95f4\n\treturn 0;\n}\n```",
        "postTime": 1525271850,
        "uid": 52518,
        "name": "s_r_f",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u5b66\u8fc7\u9ad8\u4e2d\u9009\u4fee2-3\u7684\u540c\u5b66\u90fd\u77e5\u9053 \u8fd9\u662f\u53ef\u4ee5\u7528\u4e8c\u9879\u5f0f\u5b9a\u7406\u5c55\u5f00\u7684\n\n![](https://gss0.bdstatic.com/94o3dSag\\_xI4khGkpoWK1HF6hhy/baike/s%3D158/sign=082f215ef9f2b211e02e814bf2806511/e61190ef76c6a7efd60cef0bfffaaf51f3de66f0.jpg)\n\n\u5bf9\u4e8eCnk \u5bf9\u4e8e\u8fd9\u4e2a\u9898k<=1000 \u6211\u4eec\u53ef\u4ee5\u7528\u6768\u8f89\u4e09\u89d2\u9884\u5904\u7406\u4e00\u4e0b \u4f46\u662f\u8fd9\u6837\u6bd4\u8f83\u8d39\u7a7a\u95f4\n\n\u5bf9\u4e8e\u9664\u6cd5\u53d6\u6a21\u95ee\u9898 \u53ef\u4ee5\u8f6c\u5316\u4e3a\u6c42\u9006\u5143 \u8fd9\u5c31\u7275\u626f\u5230\u8d39\u9a6c\u5c0f\u5b9a\u7406\n\nhttp://www.cnblogs.com/ECJTUACM-873284962/p/6847672.html \u6211\u89c9\u5f97\u8fd9\u91cc\u8fd8\u662f\u8bb2\u7684\u6bd4\u8f83\u597d\u7684  \u6709\u4e0d\u61c2\u7684\u540c\u5b66\u53ef\u4ee5\u770b\u4e00\u770b\n\n\u5bf9\u4e8ea^n\\*b^m \u53ea\u9700\u8981\u4e00\u4e2a\u5feb\u901f\u5e42\u5c31\u53ef\u4ee5\u4e86\n\n\u6ce8\u610f\u5168\u90e8\u5f00long long \u4e0d\u7136\u4f1aWA\u51e0\u4e2a\u70b9\n\n\u4e0b\u9762\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<cstdio>\n#define MOD 10007\n#define ll long long\nusing namespace std;\nll a,b,k,n,m;\nll ans,c=1,d=1;\n//int triangle[]\nll fastpow(ll a,ll b)\n{\n    ll ans=1;\n    while(b)\n    {\n        if(b&1)\n        ans=ans*a%MOD;\n        a=a*a%MOD;\n        b>>=1;\n    }\n    return ans%MOD;\n}\nint main()\n{\n    ios::sync_with_stdio(false);\n    cin>>a>>b>>k>>n>>m;\n    for(int i=n+1;i<=k;i++)\n    c=c*i%MOD;\n    for(int i=1;i<=k-n;i++)\n    d=d*i%MOD;\n    d=fastpow(d,MOD-2);\n    c=c*d;\n    ans=c*(fastpow(a,n)%MOD)*(fastpow(b,m)%MOD);\n    cout<<ans%MOD;\n    return 0;\n}\n```",
        "postTime": 1508339459,
        "uid": 20551,
        "name": "\u6613\u71c3\u6613\u7206\u70b8\u4e36",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u8bb0\u5fc6\u5316\u7684\u5fc5\u8981\u6027\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n```cpp\n#include<cstdio>\n#include<cstring>\nusing namespace std;\n#define mod 10007\nint rec[1010][1010];    //\u4f7f\u7528\u9012\u5f52\u7ec4\u5408\u6570\u5fc5\u987b\u914d\u4e2a\u8bb0\u5fc6\u5316 \uff0c\u4e0d\u52a0\u5361\u6210dog\nint a,b,k,n,m;\ninline int in(){\nint x=0;char ch=getchar();\nwhile(ch>'9' || ch<'0')    ch=getchar();\nwhile(ch>='0' && ch<='9') x=x*10+ch-'0',ch=getchar();\nreturn x;\n}\nint C(int n,int r){\nif(n==r || r==0)    return rec[n][r]=1;\nif(rec[n][r])    return rec[n][r];\nreturn rec[n][r]=(C(n-1,r)+C(n-1,r-1))%mod;\n}\nlong long power(long long x,int k){    //10006*10006\u662f\u53ef\u80fd\u7206 int\u7684 \nlong long ans=1;\nwhile(k){\nif(k&1)    ans=ans*x%mod;\nx=x*x%mod;\nk>>=1;\n}\nreturn ans;\n}\nint main(){\na=in();b=in();k=in();n=in();m=in();\nint ans=power(a,n)*power(b,m)%mod*C(k,m)%mod;\nprintf(\"%d\",ans);\nreturn 0;\n}\n```",
        "postTime": 1494730812,
        "uid": 40198,
        "name": "FP\u00b7\u8377\u5170\u732a",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u7b97\u6cd5\uff1a\u771f\u00b7\u6eda\u52a8\u6570\u7ec4\u6a21\u62df\uff01\uff01\uff01\n\n\u9a6c\u4e0aCSP/S\u4e86\uff0c\u8fd9\u662f\u8fdc\u5728\u4eca\u5e74\u6691\u5047\u524d\u7684\u4e00\u5929\u7684\u6821\u5185\u8003\u8bd5\u9898\u4e2d\u7684\u4e00\u9053\u3002\u5f53\u65f6\u505a\u7684\u65f6\u5019\u4e0d\u4f1a\u7ec4\u5408\u6570\uff0c\u4e0d\u4f1a\u4e8c\u9879\u5f0f\u5b9a\u7406\uff0c\u4e0d\u4f1aDP\uff0c\u4e0d\u4f1a\u2026\u2026\u53ea\u77e5\u9053\u5e94\u8be5n*n\u7684\u7a7a\u95f4\u5b58\u4e00\u4e2a\u6768\u8f89\u4e09\u89d2\u5f62\u56fe\uff0c\u7136\u540e\u4f9d\u6b21\u8bfb\u53d6\u3002\n\n**\u7136\u800c\u8003\u573a\u4e0a\u53d1\u73b0\u8fd9\u4e2a\u53ef\u4ee5\u4f18\u5316\uff0c\u5e76\u6eda\u952e\u76d8\u6eda\u51fa\u4e86\u4e0b\u9762\u7684\u90a3\u4e00\u5768\u4e1c\u897f\u5c45\u7136\u5bf9\u4e86\uff1a\u53ea\u97002\u4e2a\u6570\u7ec4\u5c31\u53ef\u4ee5\u5b58\u4e0b\u6574\u4e2a\u9898\u76ee\u6240\u9700\u8981\u7684\u6768\u8f89\u4e09\u89d2\u5f62\uff1a\u6768\u8f89\u4e09\u89d2\u5f62\u7684\u957f\u5ea6\u548ck\u6709\u5173\uff0c\u6bd4\u5982\uff1a**\n\n2\u2014\u20141 2 1\uff0c\u957f\u5ea63\n\n3\u2014\u20141 3 3 1\uff0c\u957f\u5ea64\n\n\u2026\u2026\n\n\u53ef\u89c1k\u4e3a\u5947\u6570\uff0c\u5219\u6768\u8f89\u4e09\u89d2\u5f62\u957f\u5ea6\u4e3a\u5076\u6570\uff0c\u53cd\u4e4b\u4e3a\u5947\u6570\u3002\n\n\u6211\u4eec\u8981\u6c42\u7b2ck\u5c42\u7684\u6768\u8f89\u4e09\u89d2\u5f62\u3002\u5728\u8ba1\u7b97\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0b\u4e00\u5c42\u9700\u8981\u4ece\u4e0a\u4e00\u5c42\u7684\u6768\u8f89\u4e09\u89d2\u5f62\u8f6c\u79fb\u800c\u6765\uff08dp\u601d\u60f3?!\uff09\uff0c\u800c\u4e0a\u4e0b\u4e24\u5c42\u5947\u5076\u4e0d\u540c\uff0c\u5176\u957f\u5ea6\u5fc5\u7136\u4e0d\u540c\uff0c\u4e8e\u662f\u6211\u4eec\u75282\u4e2a\u6570\u7ec4\u4e0d\u505c\u6eda\u52a8\uff0c\u5c31\u80fd\u6b63\u786e\u6c42\u5f97\u8981\u7684\u90a3\u5c42\u6768\u8f89\u4e09\u89d2\u5f62\u3002\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint f1=1,f2=1,a,b,k,n,m,ans,yh[1005]= {0,1},yh2[1005]= {0,1};\nvoid yanghui(int x)\n{\n\tif(x%2==0)//\u5c42\u6570\u4e3a\u5076\u6570\n\t\tfor(int i=2; i<=x+1; i++)//\u4e3a\u4ec0\u4e48i=2\u5f00\u59cb\uff1f\u56e0\u4e3a\u6768\u8f89\u4e09\u89d2\u5f62\u6bcf\u5c42\u7684\u7b2c\u4e00\u4e2a\u6570\u5fc5\u5b9a\u662f1\n\t\t\tyh2[i]=(yh[i-1]+yh[i])%10007;//\u4ece\u4e0a\u4e00\u5c42\u4e0b\u6765\n\telse if(x%2==1)//\u5c42\u6570\u4e3a\u5947\u6570\n\t\tfor(int i=2; i<=x+1; i++)\n\t\t\tyh[i]=(yh2[i-1]+yh2[i])%10007;//\u540c\u4e0a\n\tif(x+1!=k)yanghui(x+1);//\u53ea\u8981\u5c42\u6570\u4e0d\u5230k\uff0c\u6211\u4eec\u5c31\u7ee7\u7eed\u8f6c\u79fb\n}\nint fang()\n{\n\tfor(int i=1; i<=n; i++)\n\t\tf1=(f1*a)%10007;\n\tfor(int i=1; i<=m; i++)\n\t\tf2=(f2*b)%10007;\n\treturn (f1*f2)%10007;\n   //\u6734\u7d20\u4e58\u8fd0\u7b97\u3002\u6709\u5174\u8da3\u4f60\u53ef\u4ee5\u9020\u4e2a\u5feb\u901f\u5e42\u4ec0\u4e48\u7684\n}\nint main()\n{\n\t//freopen(\"factor.in\",\"r\",stdin);\n\t//freopen(\"factor.out\",\"w\",stdout);freopen\u6ce8\u91ca\n\tscanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\n\ta=a%10007,b=b%10007;//\u5343\u4e07\u8981\u8bfb\u5165\u53d6\u6a21\uff01\uff01\u8003\u573a\u5fd8\u8bb0\u53d6\u6a2180\u5206\uff0c\u56de\u5bb6\u53d6\u6a21AC\n\tif(k==0||k==1)//\u7279\u52242\u79cd\u60c5\u51b5\n\t{\n\t\tcout<<0;\n\t\treturn 0;\n\t}\n\tk++;//\u8bf7\u601d\u8003\u4e3a\u4ec0\u4e48\u8981k++ k--\n\tyanghui(1);//\u5236\u9020\u6768\u8f89\u4e09\u89d2\u5f62\n\tk--;\n\tif(k%2==1)ans=(fang()*yh[n+1])%10007;\n\tif(k%2==0)ans=(fang()*yh2[k-n+1])%10007;//\u8ba1\u7b97\u7cfb\u6570\uff0c\u5224\u65adk\u7684\u5947\u5076\n\tprintf(\"%d\",(ans+10007)%10007);\n   //\u65f6\u65f6\u523b\u523b\u53d6\u4f59\u4ee5\u4fdd\u8bc1\u4ee3\u7801\u6b63\u786e\u6027\n   return 0;\n}\n\n```\n**\u6ce8\u610f\uff1a\u8ba1\u7b97\u65f6\u65f6\u65f6\u523b\u523b\u53d6\u4f59\u4ee5\u4fdd\u8bc1\u4ee3\u7801\u6b63\u786e\u6027\uff01\uff01\uff01**\n\n# **\u6ce8\u610f\uff1a\u8bfb\u5165a\u3001b\u8981\u53d6\u4f59\uff01\uff01\uff01**",
        "postTime": 1573557508,
        "uid": 175050,
        "name": "yige_",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u662f\u4e00\u9053\u975e\u5e38\u88f8\u5730\u4e8c\u9879\u5f0f\u5b9a\u7406\n\n\u7ed3\u679c\u5f88\u660e\u663e\u5c31\u662f\n$$C^{min(n,m)}_{k} \\times a^{m} \\times b^{n}$$\n\n\u9996\u5148$a^{m}$\u548c$b^{n}$\u7528\u5feb\u901f\u5e42\u8ba1\u7b97\u4e0d\u591a\u8bf4\n\n\u4f46\u6211\u4eec$C^{min(n,m)}_{k}$\u6bd4\u8f83\u96be\u641e\n\n\u5148\u770b\u7ec4\u5408\u6570\u7684\u516c\u5f0f\n$$C^{m}_{n} = \\frac{n!}{m!(n-m)!} = \\frac{n(n-1)(n-2) \\cdots (n-m+1)}{1\\times2\\times3\\times\\cdots\\times m}$$\n\n\u770b\u5230\u8fd9\u4e2a\u5f0f\u5b50\u5f88\u660e\u663e\u4ee5\u4e3a\u8981\u53d6\u6a21\u6240\u4ee5\u6211\u4eec\u4e0d\u80fd\u76f4\u63a5\u7528\u9664\u6cd5\uff0c\u8981\u53d8\u6210\u4e58\u5206\u6bcd\u7684\u9006\u5143\n\n\u4f46\u662f\u6211\u4e0d\u4f1a\u9006\u5143\u8fd9\u8be5\u600e\u4e48\u529e\u529e\u5462\uff1f\n\n\u9996\u5148\u5728\u9ad8\u4e2d\u6570\u5b66\u91cc\u662f\u6ca1\u6709\u9006\u5143\u7684\uff0c\u6211\u4eec\u4e5f\u4e0d\u9700\u8981\u53d6\u6a21\u3002\u6240\u4ee5\u6211\u4eec\u5728\u8ba1\u7b97\u7ec4\u5408\u6570\u7684\u65f6\u5019\u5c31\u662f\u5148\u53bb\u7ea6\u5206\u3002\u5728\u8fd9\u91cc\u5206\u6bcd\u4e0a\u7684\u4e00\u4e2a\u6570\u6700\u5927\u662f1000\u4e0d\u7528\u53d6\u6a21\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5148\u679a\u4e3e\u5206\u6bcd\u4e0a\u7684\u6bcf\u4e00\u4e2a\u6570\u5b57\uff0c\u518d\u679a\u4e3e\u5206\u5b50\u4e0a\u7684\u4e00\u4e2a\u6570\u5b57\u8fdb\u884c\u7ea6\u5206\uff0c\u7ea6\u8fd9\u4e24\u4e2a\u6570\u7684$GCD$\u3002\u56e0\u4e3a\u662f\u7ec4\u5408\u6570\uff0c\u6240\u4ee5\u6700\u540e\u6211\u4eec\u4e00\u5b9a\u53ef\u4ee5\u7ea6\u5206\u6210\u5206\u6bcd\u662f$1$\u7684\u60c5\u51b5\u8fd9\u4e2a\u662f\u5019\u5728\u6839\u636e\u968f\u65f6\u53d6\u6a21\u539f\u7406\u505a\u4e58\u6cd5\u5c31\u597d\n\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u907f\u514d\u4f7f\u7528\u9006\u5143\n\n**coding**\n\n```cpp\n#include <bits/stdc++.h>\n#define LL long long\nusing namespace std;\n\n\nconst int N = 1e6+5;\nconst LL mod = 10007;\nLL a,b,k,n,m,result = 1,t[N];\n\n\ninline LL gcd(LL a,LL b) {return !b?a:gcd(b,a%b);}\n\ninline LL ksm(LL a,LL b)\n{\n    register LL ans = 1;\n    while(b)\n    {\n        if(b & 1) ans = (ans * a) % mod;\n        a = (a * a) % mod;\n        b >>= 1;\n    }\n    return ans % mod;\n}\n\n\nint main()\n{\n    cin >> b >> a >> k >> n >> m;\n        \n    result = (result * ksm(b,n)) % mod;\n    result = (result * ksm(a,m)) % mod;\n    \n    n = min(n,m);\n    \n    for(register int i = 1,j = k - n + 1;i <= n;i ++,j ++) t[i] = j;\n    \n    for(register int i = 2;i <= n;i ++)\n    {\n        register LL x = i,y;\n        for(register int j = 1;j <= n;j ++)\n        {\n            if(x > t[j]) y = gcd(x,t[j]);\n            else y = gcd(t[j],x);\n            if(y == 1) continue;\n            x /= y; t[j] /= y;\n            if(x == 1) break;\n        }\n    }\n    \n    for(register int i = 1;i <= n;i ++) result = (result * t[i]) % mod;\n    \n    cout << result << endl;\n}\n``",
        "postTime": 1557898660,
        "uid": 85348,
        "name": "PHarr",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u663e\u7136\u662f\u6570\u8bba\u7684\u9898\u76ee\uff0c\u90a3\u96be\u514d\u5c31\u8981\u627e\u627e\u89c4\u5f8b\n\n\u5f88\u5feb\u4f60\u4f1a\u53d1\u73b0\u8fd9\u662f\u4e00\u4e2a\u6768\u8f89\u4e09\u89d2\uff0c\u800c\u8fd9\u5c31\u53ef\u4ee5\u7528\u7ec4\u5408\u6570\u6765\u89e3\u51b3\uff0c\u81f3\u4e8e\u7ec4\u5408\u6570\u4e0d\u662f\u66b4\u529b\uff0c\u90a3\u4f1a\u8d85\u65f6\u7684\n\n\u90a3\u600e\u4e48\u5feb\u901f\u8ba1\u7b97\u5450\uff1f\n\n\u5c31\u53ef\u4ee5\u501f\u52a9\u4e00\u4e2a\u53eb\u5feb\u901f\u5e42\u7684\u4e1c\u897f\uff08\u5176\u5b9e\u4e0d\u7528\u4e5f\u53ef\u4ee5\uff09\uff0c\u5177\u4f53\u8fd0\u7b97\u770b\u7a0b\u5e8f\u53ef\u4ee5\u7ec6\u7ec6\u7406\u89e3\u4e00\u756a\u3002\u3002\u3002\n\n\n\u90a3\u5c31\u4e0a\u4ee3\u7801\u5427\n\n======================================================================================\n\n```cpp\nconst mo=10007;\nvar\n  jc,cj:array[0..1000001] of longint;\n  a,b,k,n,m,i:longint;\nfunction ksm(n,m:longint):int64;//\u5feb\u901f\u5e42\nvar k,t:int64;\nbegin\n  k:=1;t:=n;\n  while m>0 do\n   begin\n     if m mod 2=1 then k:=(k*t) mod mo;\n     t:=(t*t) mod mo;\n     m:=m div 2;\n   end;\n  exit(k);\nend;\nfunction fr(x,y:longint):int64;//\u7b97\u7ec4\u5408\u6570\nvar ans:int64;\nbegin\n  if x<y then exit(0);\n  if (x=0) or (y=0) then exit(1);\n  ans:=(jc[x]*cj[y]) mod mo;\n  exit((ans*cj[x-y]) mod mo);\nend;\nbegin\n  readln(a,b,k,n,m);\n  cj[0]:=1;jc[0]:=1;//\u9884\u5904\u7406\n  for i:=1 to k do jc[i]:=(jc[i-1]*i) mod mo;\n  for i:=1 to k do cj[i]:=ksm(jc[i],mo-2);\n  writeln(((fr(k,m)*ksm(a,n)) mod mo*ksm(b,m)) mod mo);//\u6c42\u89e3\nend.\n```",
        "postTime": 1509967135,
        "uid": 24997,
        "name": "cenbinbin",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "/\\*\u5927\u81f4\u601d\u8def\u697c\u4e0b\u5df2\u7ecf\u8bf4\u5f97\u5f88\u6e05\u695a\u4e86\uff1b\n\n\u5927\u90fd\u662f\u6768\u8f89\u4e09\u89d2+\u5feb\u901f\u5e42\uff1b\n\n\u8fd9\u9053\u9898\u76ee\u7684\u6570\u636e\u6bd4\u8f83\u5c0f\uff1b\n\n\u6240\u4ee5\u6768\u8f89\u4e09\u89d2\u80fd\u591f\u8fc7\uff1b\n\n\u5bf9\u4e8e\u6c42C\uff08n\uff0cm\uff09\uff1b\n\n\u6211\u7528\u7684\u662f\u8d28\u56e0\u6570\u5206\u89e3\uff1b\n\n\u53ef\u4ee5\u8fc7\u6bd4\u8f83\u5927\u7684\u6570\u636e\u5427\uff1b\n\n```cpp\n*/#include<cstring>\n#include<algorithm>\n#include<cstdio>\n#include<iostream>\n#define md 10007\n#define maxn 1001056\nusing namespace std;\nint a,b,n,m,k,sum=1;\nint val[maxn];\nint poww(int a,int b)\n{  int base=a%md,ans=1;\n    while(b)\n    {  if(b&1) ans=(ans*base)%md;\n        base=(base*base)%md;\n        b>>=1;\n    }\n    return ans%md;\n}\nvoid cala(int s,int v)//\u5206\u89e3\u8d28\u56e0\u6570\uff1b\n{\n    int xx=s;\n    for(int i=2;i*i<=xx;i++)\n    if(s%i==0)\n    {  s=s/i;\n        val[i]+=v;\n        while(s%i==0)\n        {val[i]+=v;\n            s=s/i;}\n    }\n        if(s>1) val[s]+=v;\n}\nint main()\n{\n    scanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\n    a=a%md;b=b%md;\n    for(int i=k;i>=k-n+1;i--)  cala(i,1);\n    for(int i=1;i<=n;i++) cala(i,-1);\n    for(int i=2;i<=k;i++) \n    if(val[i]>0) sum=(sum*(poww(i,val[i])%md))%md;\n    sum=(sum%md*poww(a,n)%md*poww(b,m))%md;\n    cout<<sum<<endl;\n    return 0;\n}\n```",
        "postTime": 1509792130,
        "uid": 35364,
        "name": "LYang",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u5728\u505a\u8fd9\u9898\u4e4b\u524d\uff0c\u8bf7\u5148\u5b66\u4e60\u4ee5\u4e0b\u77e5\u8bc6\n\n- [\u4e58\u6cd5\u9006\u5143](http://iwo.im/?q=%E4%B9%98%E6%B3%95%E9%80%86%E5%85%83)\n\n- [\u5feb\u901f\u5e42](http://iwo.im/?q=%E5%BF%AB%E9%80%9F%E5%B9%82)\n\n- [\u5362\u5361\u65af\u5b9a\u7406\uff08\u4f1a\u4e0d\u4f1a\u90fd\u884c\uff09](http://iwo.im/?q=%E5%8D%A2%E5%8D%A1%E6%96%AF%E5%AE%9A%E7%90%86)\n\n\u63a5\u4e0b\u6765\u5f00\u59cb\u505a\u9898\n\n# 1. \u5206\u89e3\u8be5\u591a\u9879\u5f0f\n\n\u6839\u636e\u4e8c\u9879\u5f0f\u5b9a\u7406\uff0c\n\n$(x+y)^2=x^2+2xy+y^2$\n\n$(x+y)^3=x^3+3x^2y+3xy^2+y^3$\n\n$(x+y)^k=\\sum\\limits_{i=0}^k C_k^i x^{k-i}y^i$\n\n$(ab)^k=a^kb^k$\n\n\u7efc\u4e0a\uff0c\u5206\u89e3\u539f\u5f0f\n\n$(ax+by)^k=\\sum\\limits_{i=0}^k C_k^i a^{k-i}b^i x^{k-i}y^i$\n\n\u8be5\u5f0f\u4e2d$x^ny^m$\u7684\u7cfb\u6570\u662f\uff1a$C_k^m a^nb^m$\n\n# 2. \u6c42\u89e3\u8be5\u7cfb\u6570\n\n\u9996\u5148\uff0c\u770b\u6e05\u695a\u6211\u4eec\u8981\u6c42\u7684\u7cfb\u6570\u662f\n\n$C_k^m a^nb^m \\mod 10007$\n\n## 2.1 \u6c42$C_k^m \\mod 10007$\n\u5176\u4e2d\u7684$C_k^m \\mod 10007$\u53ef\u7528\u5362\u5361\u65af\u5b9a\u7406\u6539\u4e3a $C_{k \\mod 10007}^{m \\mod 10007} C_{k \\div 10007}^{m \\div 10007}$\uff0c\u5f53\u7136\u4e0d\u7528\u4e5f\u80fd\u8fc7\uff0c\u8fd9\u91cc\u4ee5\u4e0d\u7528\u4e3a\u4f8b\u3002\n\n\u5982\u679c\u4e0d\u7528\uff0c$C_k^m=\\frac{k!}{(k-m)!m!}=k! \\times inv[(k-m)!] \\times inv[m!]$\uff0c\u5176\u4e2d$inv[x]$\u8868\u793ax\u7684\u4e58\u6cd5\u9006\u5143\uff0c\u8fd9\u6837\u5c31\u4e0d\u7528\u4f5c\u9664\u6cd5\u4e86\n\n\u4f46\u662f\u6211\u4eec\u5f97\u5148\u6c42\u51fa\u6570\u7ec4inv:\n\n```\nconst int MOD=10007;\nint inv[1005];\n\ninv[1]=1;\nfor(i=2;i<=a;i++)\n\tinv[i]=(MOD-MOD/i)*inv[MOD%i]%MOD;\n```\n\n\u4f46\u662f\u5982\u679c\u8981\u6c42\u9636\u4e58\u7684\u9006\u5143\u7684\u8bdd\uff0c\u91cf\u592a\u5927\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u6cd5\u6c42\u9636\u4e58\u9006\u5143\uff0c\u5b58\u5728$jc\\_inv$\u91cc\u9762\n\n```\njc[1]=1;\nfor(i=2;i<=a;i++)\n\tjc[i]=jc[i-1]*i%MOD;\n\njc_inv[1]=1;\nfor(i=2;i<=a;i++)\n\tjc_inv[i]=jc_inv[i-1]*inv[i]%MOD;\n```\n\n\u8fd9\u6837\u6211\u4eec\u8981\u6c42\u7684\u4e1c\u897f\u53d8\u6210\u4e86$jc[k] \\times jc\\_inv[k-m] \\times jc\\_inv[m]$\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a$O(1)$\n\n\u81f3\u6b64\uff0c\u6574\u4e2aC\u51fd\u6570\u5199\u597d\u4e86\n\n```\nlong long c(long long a,long long b){\n\tlong long i,j;\n\tinv[1]=1;\n\tfor(i=2;i<=a;i++)\n\t\tinv[i]=(MOD-MOD/i)*inv[MOD%i]%MOD;\n\t\n\tjc[1]=1;\n\tfor(i=2;i<=a;i++)\n\t\tjc[i]=jc[i-1]*i%MOD;\n\n\tjc_inv[1]=1;\n\tfor(i=2;i<=a;i++)\n\t\tjc_inv[i]=jc_inv[i-1]*inv[i]%MOD;\n\n\treturn jc[a]*jc_inv[a-b]%MOD*jc_inv[b]%MOD;\n}\n```\n\n## 2.2 \u6c42$a^n$ \u548c $b^m \\mod 10007$\n\n\u76f4\u63a5\u7528\u5feb\u901f\u5e42\uff0c\u5feb\u901f\u5e42\u662f\u8fd0\u7528\u5206\u6cbb\u601d\u60f3\u89e3\u51b3$a^b$\u7684\u4e00\u79cd\u65b9\u6cd5\uff0c\u5177\u4f53\u89c1\u4ee3\u7801\n\n```\nlong long quickmi(long long a,long long b){\n\tlong long i,j;\n\tif(b==0)\n\t\treturn 1;\n\tlong long sp=quickmi(a,b/2)%MOD;\n\tif(b%2==0)\n\t\treturn sp*sp%MOD;\n\telse\n\t\treturn sp*sp%MOD*a%MOD;\n}\n```\n\n**\u6ce8\uff1a\u4e3a\u907f\u514d\u6570\u5b57\u8fc7\u5927\uff0c\u80fd\u7528long long\u5c31\u5c3d\u91cf\u7528long long**\n\n# 3. \u6700\u540e\u3002\u3002\u3002\n\n\u672c\u9898\u7ed3\u675f\uff0c\u4e0a\u5b8c\u6574\u4ee3\u7801\n\n```\n#include<iostream>\nusing namespace std;\n\nconst long long MOD=10007;\nlong long a,b,k,n,m;\nlong long ans=1;\n\nlong long quickmi(long long a,long long b){\n\tlong long i,j;\n\tif(b==0)\n\t\treturn 1;\n\tlong long sp=quickmi(a,b/2)%MOD;\n\tif(b%2==0)\n\t\treturn sp*sp%MOD;\n\telse\n\t\treturn sp*sp%MOD*a%MOD;\n}\n\nnamespace C{\n\tlong long inv[1005];\n\tlong long jc[1005];\n\tlong long jc_inv[1005];\n\n\tlong long c(long long a,long long b){\n\t\tlong long i,j;\n\t\tinv[1]=1;\n\t\tfor(i=2;i<=a;i++)\n\t\t\tinv[i]=(MOD-MOD/i)*inv[MOD%i]%MOD;\n\t\t\n\t\tjc[1]=1;\n\t\tfor(i=2;i<=a;i++)\n\t\t\tjc[i]=jc[i-1]*i%MOD;\n\n\t\tjc_inv[1]=1;\n\t\tfor(i=2;i<=a;i++)\n\t\t\tjc_inv[i]=jc_inv[i-1]*inv[i]%MOD;\n\n\t\treturn jc[a]*jc_inv[a-b]%MOD*jc_inv[b]%MOD;\n\t}\n}\n\nint main(){\n\tlong long i,j;\n\tcin>>a>>b>>k>>n>>m;\n\tcout<<C::c(k,m)*quickmi(a,n)%MOD*quickmi(b,m)%MOD<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1561260140,
        "uid": 54769,
        "name": "lgmulti",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u8fd9\u7edd\u5bf9\u662f\u53f2\u4e0aNOIP\u6700\u7b80\u5355\u7684\u6570\u8bba\u9898\n\n\u7136\u9e45\u849f\u84bb\u4ecd\u662f\u9519\u4e865\u6b21\n\n\u76f8\u4fe1\u5927\u5bb6\u90fd\u77e5\u9053\u6240\u6c42\u4e3a\uff1a\n```\n\u6768\u8f89\u4e09\u89d2\u7b2ck+1\u884c\u3001\u7b2ck-n+1\u5217\u7684\u503c*(a^n)*(b^m)\n```\n\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u7ef4\u7a7a\u95f4\u7684\u6768\u8f89\u4e09\u89d2\u548c\u5feb\u901f\u5e42\u7b49\u4f18\u5316\n```cpp\n#include<bits/stdc++.h>\n#define MOD 10007//\u53d6\u6a21\nusing namespace std;\ninline long long fff(long long o,long long p)//inline\u52a0\u901f\u4ee3\u7801\u8c03\u7528\n{\n\tlong long sum(1);//\uff08\uff09\u4e3a\u521d\u59cb\u5316\uff0c\u8981\u6bd4=\u5feb\n\twhile(p)\n\t{\n\t\tif(p&1)//\u4f4d\u8fd0\u7b97\u52a0\u901f\n\t\tsum=(sum*o)%MOD;\n\t\to=(o*o)%MOD;//\u4f4d\u8fd0\u7b97\u52a0\u901f\n\t\tp>>=1;\n\t}\n\treturn sum;\n}//\u5feb\u901f\u5e42\nint main()\n{\n\tlong long x,y,k,n,m,a[MOD],b[MOD];\n\tmemset(a,0,sizeof(a));\n\tmemset(b,0,sizeof(b));//memset\u6bd4\u76f4\u63a5\u5faa\u73af\u5feb\uff08\u53ef\u80fd\u662f\u56e0\u4e3amomset0\u5de8\u4f6c\u592a\u5f3a\u4e86\uff09\n\tscanf(\"%lld%lld%lld%lld%lld\",&x,&y,&k,&n,&m);\n\ta[1]=1;\n\tfor(register long long i(1);i<=k;i+=1)\n\t{\n\t\tfor(register long long j(1);j<=i;j+=1)\n\t\tb[j]=(a[j]+a[j+1])%MOD;\n\t\tfor(register long long j(1);j<=i;j+=1)\n\t\ta[j+1]=b[j];//register\u53ef\u4ee5\u5728\u5b9a\u4e49\u7684\u6570\u5c11\u65f6\u52a0\u901f\u66f4\u6539,\u5efa\u8bae\u5728\u5faa\u73af\u4e2d\u4f7f\u7528\u3002\n\t}//\u4e00\u7ef4\u6768\u8f89\u4e09\u89d2\n\tprintf(\"%lld\",(fff(x,n)*fff(y,m)*a[k-n+1])%MOD);//\u5957\u7ed3\u8bba\n}\n```\n# \u5efa\u8bae\u5168\u90e8\u90fd\u8981\u8981\u5f00long long\u3002\u5426\u5219\u5927\u6837\u4f8b\u8fc7\u4e0d\u53bb\u3002\u2014\u2014**chen_zhe**\u300a\u9898\u89e3 P5016 \u3010\u9f99\u864e\u6597\u3011\u300b",
        "postTime": 1552379263,
        "uid": 111741,
        "name": "\u5854\u7f57\u5170",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u770b\u539f\u9898\u7b2c\u4e00\u53cd\u5e94\u6768\u8f89\u4e09\u89d2\uff0c\u672c\u4eba\u849f\u84bb\uff0c\u7a7a\u95f4\u6362\u65f6\u95f4\u3002\n\n\u5bf9\u4e8e\u4e8c\u9879\u5f0f\u5b9a\u7406\uff0c\u4ee4ax=X\uff0cby=Y\uff0c\uff08\u8fd9\u662f\u6211\u60f3\u5230\u7684\u4e00\u79cd\u5f88\u7b80\u6734\u7684\u63a8\u5bfc\uff09\n\n\u5219\uff08X+Y\uff09^K= C(n,k) \\*(a^n\\*x\\*n+b^n\\*y\\*n)\n\n\u7136\u540e\u5c31\u662f\u7b80\u5355\u5e42\uff08\u6ca1\u7528\u5feb\u901f\u5e42\uff09\n\n\u6700\u540e\u8bb0\u5f97\u7528 long long!!!\n\n\u9644\u6f0f\u6d1e\u767e\u51fa\u6539\u4e86\u597d\u4e45\u7684\u4ee3\u7801\u3002\u3002\u3002\n\n\n\n    \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int p=10007;\nint   yh[1010][1010]={0};\nint a,b,n,m,k;\nint   powp(int aa,int exp)\n{int i;\nlong long t;\nt=1; \nfor (i=1;i<=exp;i++)    \n{\n    t*=aa;\n    t%=p;\n}\nreturn t;    \n}\nint main()\n{int i,j;\nlong long tmp;\nscanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\nfor(i=0;i<=k;i++)\nyh[i][1]=1;\nfor(i=0;i<=k;i++)\nyh[i][i+1]=1;\nfor(i=2;i<=k;i++)\nfor(j=2;j<=i;j++)\n{yh[i][j]=(yh[i-1][j-1]+yh[i-1][j]);\nyh[i][j]%=p;\n}    \ntmp=yh[k][m+1];\ntmp=(tmp*powp(a,n))%p;\ntmp=(tmp*powp(b,m))%p;\ncout<<tmp;    \nreturn 0;    \n}\n```",
        "postTime": 1497777567,
        "uid": 44273,
        "name": "\u786b\u4ee3\u786b\u9178\u94a0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u770b\u7740\u9053\u9898\uff0c\u4ee5\u4e00\u4e2a\u60f3\u6cd5\u5c31\u662f\u5feb\u901f\u5e42+\u9006\u5143\uff1b\n\n\u5982\u679c\u4e0d\u662f\u6570\u636e\u8f83\u5c0f\u66b4\u529b\u505a\u6cd5\u4e00\u5b9a\u4f1aTLE\n\n\u5bf9\u4e8e\u5355\u4e2a\u7ec4\u5408\u6570\uff0c\u76f4\u63a5\u9636\u4e58\u9664\u9006\u5143\u4f1a\u6bd4\u6768\u8f89\u4e09\u89d2\u5feb\u5f88\u591a\n\n\u5feb\u901f\u5e42\u6c42\u9006\u5143\u8fd9\u4e2a\u597d\u4e1c\u897f\uff0c\u5e0c\u671b\u5927\u5bb6\u4e86\u89e3\n\n\u4e0b\u9762\u5e16\u4ee3\u7801\n\n...\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long \n#define mod 10007\nll power(ll a,ll b){//\u5feb\u901f\u5e42\n    if(b==0)return 1;\n    if(b%2==0)return power(a,b>>1)*power(a,b>>1)%mod;\n    else return a*power(a,b>>1)*power(a,b>>1)%mod;\n}\nint main(){\n    int a,b,k,m,n;\n    cin>>a>>b>>k>>n>>m;\n    int c=1,d=1;\n    for(int i=1;i<=n;i++){\n        c=c*i%mod;\n    }\n    for(int i=k-n+1;i<=k;i++){\n        d=d*i%mod;\n    }\n    d=d*power(c,mod-2)%mod;//\u9006\u5143\uff0c10007\u4e3a\u8d28\u6570\uff0c\u8be6\u89c1\u8d39\u9a6c\u5c0f\u5b9a\u7406\n    d=d*power(a,n)*power(b,m)%mod;\n    cout<<d<<endl;\n    return 0;\n}\n...\n```",
        "postTime": 1497078079,
        "uid": 39986,
        "name": "Amphetamine",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u8003\u8651\u5230\u6211\u4eec\u5bf9\u7ec4\u5408\u6570\u53ea\u4f7f\u7528\u4e00\u6b21\uff0c\u6240\u4ee5\u76f4\u63a5\u4f7f\u7528\u7ec4\u5408\u6570\u516c\u5f0f\uff0c\u800c\u4e0d\u662fN\u00b2\u9012\u63a8\n\nn<=m,C(n,m)=(m!)/(n!\\*(m-n)!)\uff0c\u8fd9\u6837\u662fO\uff08N\uff09\u7ea7\u522b\u7684\n\n\u7b80\u5355\u7684\u8bf4\uff0c\u5c31\u662fm\u4e2a\u6570\u540en\u4e2a\u4e58\u8d77\u6765\u9664\u524dn\u4e2a\n\n\u6211\u4eec\u8981\u5728\u6a21\u57df\u4e0b\u4f7f\u7528\u9664\u6cd5\uff0c\u5c31\u8981\u6c42\u524dn\u4e2a\u6570\u4e4b\u79ef\u7684\u9006\u5143\n\n\u8003\u8651\u5230\u6a21\u657010007\u662f\u4e00\u4e2a\u8d28\u6570\uff0c\u76f4\u63a5\u6839\u636e\u8d39\u9a6c\u5c0f\u5b9a\u7406\u5c31\u5f97\u51fap\u5728\u6a21\u57df\u4e0b\u7684\u9006\u5143\u662fp^10005\u3002\n\n\uff08\u5f53\u7136\u5c31\u7b97\u4e0d\u662f\u8d28\u6570\u4e5f\u53ef\u7528\u6b27\u62c9\u5b9a\u7406\u505a\uff0c\u5148\u7ebf\u6027\u7b5b\u51fa\u8d28\u6570\uff0c\u518d\u7ebf\u6027\u7b5b\u51fa\u6b27\u62c9\u51fd\u6570\u518d\u7528\u6b27\u62c9\u5b9a\u7406\u6c42\u9006\u5143\uff0c\u4ecd\u7136\u53ef\u4ee5\u5728O\uff08\u6a21\u6570\uff09\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u4e0b\u4fdd\u8bc1O\uff08\u6a21\u6570\uff09\u7684\u590d\u6742\u5ea6\uff0c\u5f53\u6a21\u6570\u592a\u5927\u5c31\u4e0d\u884c\u4e86\uff09\n\n\u5176\u4ed6\u7684\u697c\u4e0b\u90fd\u8bf4\u6e05\u695a\u4e86\u3002\n\n```cpp\n\n#include<cstdio>\n#include<cstring>\n\nusing namespace std;\nconst int mo=10007;\nint pow(int a,int k){\n    if (!k) return 1;\n    int res=pow(a,k/2);\n    res=(res*res)%mo;\n    return k%2?res*(a%mo)%mo:res;\n}\nint c(int x,int y){\n    int res=1;\n    for (int i=y-x+1;i<=y;i++) (res*=i)%=mo;\n    int res_=1;\n    for (int i=1;i<=x;i++) (res_*=i)%=mo;\n    res_=pow(res_,mo-2);\n    return res*res_%mo;\n}\nint a,b,k,n,m;\nint main(){\n    scanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\n    printf(\"%d\\n\",c(n,k)*pow(a%mo,n)%mo*pow(b%mo,m)%mo);\n}\n\n```",
        "postTime": 1459774349,
        "uid": 10356,
        "name": "\u5929\u72d7\u7684\u624b\u5e16",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u539f\u7406\uff1a(a+b)^2=a^2+2ab+b^2\n\n(a+b)^3=a^3+3a^2+3ab^2+b^3\n\n(a+b)^4=a^4+4a^3b+6a^2b^2+4ab^3+b^4\n\n(a+b)^k=??\uff1f\uff08\u81ea\u5df1\u63a8\uff09\n\n\u8fd9\u770b\u61c2\u4e0a\u9762\u7684\u5c31\u5f88\u7b80\u5355\u4e86\n\n\u7cfb\u6570\u5e94\u8be5\u80fd\u770b\u51fa\u662f\u6768\u8f89\u4e09\u89d2\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```delphi\n\nvar\n  a,b,k,n,m,i,j,ans:longint;\n  yh:array[1..100000] of longint;\nbegin\n  readln(a,b,k,n,m);\n  yh[1]:=1; yh[2]:=1;\n  for i:=1 to k-1 do\n    for j:=i+2 downto 2 do\n      yh[j]:=(yh[j]+yh[j-1]) mod 10007;{\u6211\u5c31\u8fd9\u513f\u4e0d\u660e\u767d\u4e3a\u4ec0\u4e48\u53ef\u4ee5mod10007\uff0c\u8fd9\u6211\u672c\u6765\u53ea\u6253\u7b97\u5b9e\u9a8c\u5b9e\u9a8c\u7684}\n  a:=a mod 10007;\n  b:=b mod 10007;\n  ans:=1;\n  for i:=1 to n do\n    ans:=(ans*a) mod 10007;\n  for i:=1 to m do\n    ans:=(ans*b) mod 10007;\n  ans:=(ans*(yh[k-n+1] mod 10007)) mod 10007;\n  writeln(ans);\nend.\n\n```\n[color=red]so easy![/color]\n",
        "postTime": 1375518491,
        "uid": 8,
        "name": "\u53d1\u6e90\u4e8e",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "- \u8fd9\u9053\u9898\u5176\u4e2d\u4e00\u79cd\u505a\u6cd5\u5c31\u662f\u5229\u7528\u6570\u5b66\u89c4\u5f8b\u6765\u505a\n\u6211\u4eec\u53ef\u4ee5\u7528\u4e8c\u9879\u5f0f\u7cfb\u6570\u548c\u6768\u8f89\u4e09\u89d2\u7684\u5173\u7cfb\u6765\u505a\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4e0d\u7528\u5199\u5f88\u591a\u4ee3\u7801\u53bb\u8ba1\u7b97C(k,n)\u548cC(k,m)\u4e86\u3002\n\u6768\u8f89\u4e09\u89d2\u7684\u8ba1\u7b97\u65b9\u6cd5\u6bd4\u8f83\u7b80\u5355\u660e\u4e86\uff0c\u53cc\u5c42\u5faa\u73af\u5c31\u53ef\u4ee5\u89e3\u51b3\u4e86\n\n\t\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\t\n\t```cpp\n     for(int i=0;i<=k;i++){\n          f[i][i]=1;\n          f[i][0]=1;\n      }\n      for(int i=2;i<=k+1;i++){\n          for(ll j=1;j<i;j++){\n              f[i][j]=(f[i-1][j-1]+f[i-1][j])%10007;\n          }\n      }\n\t```\n\n\n\n\n\n- \u5904\u7406\u5b8c\u6768\u8f89\u4e09\u89d2\u4e4b\u540e\u6211\u4eec\u770b\u8fd9\u4e2a\u5f0f\u5b50(ax+by)^k\uff0c\u90a3\u4e48x^n\u00b7y^m\u7684\u7cfb\u6570\u5c31\u662fa^n\u00b7 b^m\uff0c\u6c42\u5e42\u6b21\u65b9\u7684\u51fd\u6570\u6bd4\u8f83\u7b80\u5355\uff0c\u56e0\u4e3a\u8fd9\u91cc\u8fd0\u7b97\u91cf\u6bd4\u8f83\u5c0f\uff0c\u53ef\u4ee5\u4e0d\u7528\u5feb\u901f\u5e42\uff0c\u76f4\u63a5\u6734\u7d20\u7684\u6c42\u6cd5\u5c31\u53ef\u4ee5\u4e86\uff08\u76f4\u63a5\u5f00long long\u4ee5\u9632\u4e07\u4e00\uff0c\u867d\u7136\u597d\u50cf\u4e0d\u592a\u53ef\u80fd\u6ea2\u51fa\u7684\u6837\u5b50\uff0c\u8fd9\u91cc\u5b8f\u5b9a\u4e49\u4e86ll\u4e3along long\uff09\n\n\n  ```cpp\n  ll pw(ll x,ll y){\n      ll ans=1;\n      for(ll i=1;i<=y;i++){\n          ans=ans*x%10007;\n      }\n      return ans;\n  }\n\n  ```\n\n\n  \n- \u90a3\u4e48\u6700\u540e\u7684\u7b54\u6848\u5c31\u662ff[k][n]\u4e58\u4ee5pw(a,n)\u4e58\u4ee5pw(b,m)\u7136\u540e\u53d6\u4f5910007\u4e86\n\u6700\u540e\u9644\u4e0a\u5b8c\u6574\u4ee3\u7801\uff08\u53ef\u80fd\u6709\u70b9\u4e11\u964b\uff09\n  ```cpp\n  #include<iostream>\n  #include<cstdio>\n  #include<cmath>\n  #include<algorithm>\n  #define ll long long\n  #define INF 0x3fffffff\n  using namespace std;\n  ll f[1005][1005];\n  ll a,b,k,n,m;\n  ll pw(ll x,ll y){\n      ll ans=1;\n      for(ll i=1;i<=y;i++){\n          ans=ans*x%10007;\n      }\n      return ans;\n  }\n  int main(){\n      std::ios::sync_with_stdio(false);\n      cin>>a>>b>>k>>n>>m;\n      for(ll i=0;i<=k;i++){\n          f[i][i]=1;\n          f[i][0]=1;\n      }\n      for(ll i=2;i<=k+1;i++){\n          for(ll j=1;j<i;j++){\n              f[i][j]=(f[i-1][j-1]+f[i-1][j])%10007;\n          }\n      }\n      ll ans=(pw(a,n)*pw(b,m))%10007*f[k][n]%10007;\n      cout<<ans;\n      return 0;\n  }\n\n  ```\n\u849f\u84bb\u7b2c\u4e00\u6b21\u5199\u9898\u89e3\uff0c\u6c42\u7ba1\u7406\u5927\u5927\u901a\u8fc7~~~\n\n",
        "postTime": 1582366835,
        "uid": 234972,
        "name": "TESJackeyLove",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "## \u4e00\uff1a\u4e8c\u6b21\u9879\u5b9a\u7406\n\u5148\u6765\u4ecb\u7ecd\u4e00\u4e0b\u4e8c\u6b21\u9879\u5b9a\u7406\uff0c\u8fd9\u4e5f\u662f\u89e3\u51b3\u6b64\u9898\u7684\u5173\u952e\n![](https://gss0.bdstatic.com/94o3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D524/sign=cf71331f0646f21fcd345e51c2256b31/0dd7912397dda144b58f1156beb7d0a20df4864b.jpg)\n\n![](https://gss2.bdstatic.com/9fo3dSag_xI4khGkpoWK1HF6hhy/baike/s%3D285/sign=d313de09ad44ad342abf808fe5a30c08/95eef01f3a292df5a2ced0f1b0315c6035a873c0.jpg)\n\n## \u4e8c\uff1a\u6768\u8f89\u4e09\u89d2\u5f62\n\u4e86\u89e3\u4e86\u4e8c\u9879\u5f0f\u5b9a\u7406\uff0c\u6211\u4eec\u518d\u6765\u8c08\u4e00\u8c08\u5982\u4f55\u6c42\u7ec4\u5408\u6570\n###### \u6cd5\u4e00\uff1a\n\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u66b4\u529b\u6c42\u89e3\n\n\u4e0d\u8fc7\u4f1a **game over**\n\n###### \u6cd5\u4e8c\n\u6768\u8f89\u4e09\u89d2\u5f62\n\n\u6211\u4eec\u53ef\u4ee5\u7528\u6768\u8f89\u4e09\u89d2\u5f62\u6c42\u89e3\n\n\u4ee3\u7801\u5982\u4e0b\n```cpp\nfor(int i=0;i<=k;i++)\n\t{\n\t\tdp[i][0]=dp[i][i]=1;\n\t}\n\tfor(int i=1;i<=k;i++)\n\t{\n\t\tfor(int j=1;j<i;j++)\n\t\t{\n\t\t\tdp[i][j]=(dp[i-1][j]+dp[i-1][j-1])%mod;//\u9012\u63a8\n\t\t}\n\t}\n```\n## \u4e09\uff1a\u6807\u89e3\n\uff08ax+by\uff09^k\u4e2dx^m*y^\uff08k-m\uff09\u7684\u7cfb\u6570\u4e3aC\uff08k\uff0cm\uff09*a^m*b^\uff08k-m\uff09\n\u4ee3\u7801\u5982\u4e0b\n```cpp\n#include <iostream>\n#include <queue>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\nusing namespace std;\nconst int mod=10007;\nlong long  work(long long a,long long k)//\u5feb\u901f\u5e42 \n{\n    long long b=1;\n    while(k>=1)\n    {\n        if(k%2==1)\n        b=(b*a)%mod;\n        a=(a*a)%mod;\n        k/=2;\n    }\n    return b;\n}\nint a,b,n,m,k;\nlong long sum;\nlong long dp[1005][1005];\nint main(){\n\tcin>>a>>b>>k>>n>>m;\n\tfor(int i=0;i<=k;i++)\n\t{\n\t\tdp[i][0]=dp[i][i]=1;\n\t}\n\tfor(int i=1;i<=k;i++)\n\t{\n\t\tfor(int j=1;j<i;j++)\n\t\t{\n\t\t\tdp[i][j]=(dp[i-1][j]+dp[i-1][j-1])%mod;//\u6768\u8f89\u4e09\u89d2\u5f62 \n\t\t}\n\t}\n\tsum=(((dp[k][m]*work(a,k-m))%mod)*work(b,k-n)%mod)%mod;//\u6c42\u89e3 \n\tcout<<sum<<endl;\n}\n```\n\n# O(\u2229_\u2229)O\u8c22\u8c22",
        "postTime": 1538234652,
        "uid": 12076,
        "name": "Floating__Dream",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "### \u8fd9\u662f\u4e00\u4e2a\u8d70\u9519\u4e86\u7247\u573a\u7684\u9898\u89e3\n##### \u9884\u5907\u77e5\u8bc6 \n1. lucas\u5b9a\u7406\n2. \u4e8c\u9879\u5f0f\u5b9a\u7406\n\n\u9898\u610f: \u8f93\u5165 a,b,n,m,k  \n\u6c42(ax+by)^k \u5c55\u5f00\u5f0f\u4e2d x^n\\*y^m\u7684\u7cfb\u6570\n\n\u9996\u5148n+m\u4e0d\u7b49\u4e8ek\u7b54\u6848\u662f0\n\n\u7b54\u6848\u662fC(m,k) \\* a^n \\* b^m\n\n\u5bf9\u4e8e\u7b2c\u4e00\u9879\u6211\u4eec\u9884\u5904\u7406\\[1,p)\u819cp\u610f\u4e49\u4e0b\u7684\u9006\u5143,\u4f7f\u7528lucas\u5b9a\u7406\u8ba1\u7b97.\n\u5bf9\u4e8e\u540e\u9762\u4e24\u4e2a\u6211\u4eec\u4f7f\u7528\u5feb\u901f\u5e42\u8ba1\u7b97\n\n\n## \u6ce8\u610f\u4e8b\u9879\n1. \u7528lucas\u5b9a\u7406\u6c42\u7ec4\u5408\u6570\u819c\u8d28\u6570\u867d\u7136\u597d\u5199\u4f46\u662f\u6700\u597d\u62cd\u4e00\u4e0b...\u6bd4\u5982\u6211\u8fd9\u4e2a\u5199\u7684\u5c31\u4f1a\u5728m=1\u65f6\u51fa\u9505\u76f4\u63a5\u7279\u76d8\u5373\u53ef.~~\u901a\u8fc7\u672c\u9898\u4f7f\u7528\u6768\u8f89\u4e09\u89d2\u9012\u63a8\u8ba1\u7b97\u7ec4\u5408\u6570\u5373\u53ef,\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u628a\u6570\u636e\u8303\u56f4\u5f3a\u884c\u4e581000~~\n2. \u4e3a\u4e86\u9632\u6b62\u4e2d\u95f4\u8fc7\u7a0b\u6ea2\u51fa\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5feb\u901f\u4e58~~\u7136\u800c\u6211\u6ca1\u6709\u5199~~,\u5f53\u7136\u8fd9\u4e2a\u819c\u6570\u51b3\u5b9a\u4e86\u4e2d\u95f4\u8fc7\u7a0b\u4e0d\u53ef\u80fd\u7206ll,\u6ca1\u5fc5\u8981\u5199.\n\n\u4e0a\u4ee3\u7801\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\nusing namespace std;\n\nint read(){\n    int x=0,f=1;char ch;\n    do{ch=getchar();if(ch=='-')f=-1;}while(ch>'9'||ch<'0');\n    do{x=x*10+ch-'0';ch=getchar();}while(ch>='0'&&ch<='9');\n    return x*f;\n}\ntypedef long long ll;\n\nconst ll p=10007LL;\nconst ll M=100000+10;\n\nll inv[M],fac[M],facinv[M];\n// \u6b63\u5e38\u7684\u5feb\u901f\u5e42,\u7136\u800c\u6ca1\u6709\u5feb\u901f\u4e58(\u5176\u5b9e\u662f\u6ca1\u5fc5\u8981\u7684\u5566)\nll qpow(ll x,ll a){\n\tif(a==0) return 1;\n\tll r=qpow(x,a>>1);\n\tr=r*r%p;\n\tif(a&1) return r*x%p;\n\treturn r;\n}\n// \u6b63\u5e38\u7684lucas\u5b9a\u7406\nll lucas(ll m,ll n){\n\tif(n<p&&m<p)\n\t\treturn fac[n]*facinv[m]%p*facinv[n-m]%p;\n\treturn lucas(m/p,n/p)*lucas(m%p,n%p)%p;\n}\n// \u6211\u7684lucas\u5199\u7684\u6709\u9505...\u9700\u8981\u4e00\u70b9\u7279\u5224\u65ad...\ninline ll L(ll n,ll m){\n\tif(m==1) return 1;\n\treturn lucas(m,n);\n}\nll a,b,k,n,m;\nvoid solve(){\n\tfacinv[0]=facinv[1]=fac[0]=fac[1]=inv[1]=1;\n\tfor(int i=2;i<p;i++){\n    \t// \u9884\u5904\u7406\u9006\u5143,\u9636\u4e58\u819cp,\u9636\u4e58\u7684\u9006\u5143\n\t\tfac[i]=fac[i-1]*i%p;\n\t\tinv[i]=(p-(p/i)*inv[p%i]%p)%p;\n\t\tfacinv[i]=facinv[i-1]*inv[i]%p;\n\t}\n    // \u8ba1\u7b97\u7b54\u6848\n\tll ret=L(k,m)*qpow(a,n)%p*qpow(b,m)%p;\n\tcout<<ret<<endl;\n}\n\nint main(){\n\ta=read();b=read();k=read();n=read();m=read();\n    // \u5224\u65ad\u662f\u5426\u6709\u8fd9\u4e00\u9879\n\tif(n+m!=k) puts(\"0\");\n\telse solve();\n\treturn 0;\n}\n\n```",
        "postTime": 1538053805,
        "uid": 15295,
        "name": "hehelego",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u697c\u4e0b\u65e2\u6709dp\uff0c\u53c8\u6709dfs+\u8bb0\u5fc6\u5316\uff0c~~\u770b\u7684\u6211\u597d\u614c~~\r\n\r\n\u5176\u5b9e\u8fd9\u4e2a\u9898\u5c31\u53ea\u8003\u5bdf\u4e86\u4e00\u4e2a\u6768\u8f89\u4e09\u89d2\u554a\u2026\u2026\r\n\r\n\u81f3\u4e8e\u6a21\u6570\u6211\u4eec\u53ef\u4ee5\u7528\u5feb\u901f\u5e42\r\n\r\ncode\r\n\r\n```cpp\r\n#include<iostream>\r\n#include<cmath>\r\n#include<cstdio>\r\n#include<cstdlib>\r\n#define K 1001\r\n#define mod 10007\r\nusing namespace std;\r\nlong long xi[K+2][K+2],a,b,n,k,m;\r\nlong long kmx(long long a,long long b,long long p)\r\n{\r\n\tlong long ans=1;\r\n\twhile(b)\r\n\t{\r\n\t\tif(b&1)ans=ans*a%p;\r\n\t\ta=a*a%p;\r\n\t\tb>>=1;\r\n\t}\r\n\treturn ans%p;\r\n}//\u8fd9\u91cc\u662f\u5feb\u901f\u5e42\r\nvoid init()\r\n{\r\n\txi[1][1]=xi[1][2]=1;\r\n\tfor(int a=2;a<=k;a++)\r\n\t\tfor(int b=1;b<=a+1;b++)\r\n\t\t\txi[a][b]=(xi[a-1][b]+xi[a-1][b-1])%10007;\r\n}//\u6784\u5efa\u6768\u8f89\u4e09\u89d2\r\nint main()\r\n{\r\n\tcin>>a>>b>>k>>n>>m;\r\n\tinit();\r\n\tif(m==0)\r\n\t\tcout<<(xi[k][1]*kmx(a,n,mod))%mod;\r\n\telse if(n==0)\r\n\t\tcout<<(xi[k][m+1]*kmx(b,m,mod))%mod;\r\n\telse\r\n\t\tcout<<(xi[k][n+1]*kmx(a,n,mod)*kmx(b,m,mod))%mod;\r\n     //\u4e09\u79cd\u60c5\u51b5\u627e\u89c4\u5f8b\u8f93\u51fa\u5373\u53ef\uff0c\u5c31\u662f\u518d\u5904\u7406\u4e00\u4e0b\u7cfb\u6570\r\n\treturn 0;\r\n}\r\n```\r\n\r\n\u6700\u540e\u795d\u5927\u5bb6NOIP 2018 RP++;",
        "postTime": 1534572099,
        "uid": 56739,
        "name": "Soknock",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u7b80\u5355\u7684\u4e8c\u9879\u5f0f\u5b9a\u7406\n\n\u524d\u9762\u7684\u5927\u4f6c\u5df2\u7ecf\u8bb2\u7684\u5f88\u6e05\u695a\u4e86\uff0c\u6211\u53d1\u8fd9\u7bc7\u9898\u89e3\u53ea\u662f\u4e3a\u4e86\u8bc1\u660e\u8be5\u9898\u4e0d\u9700\u8981\u5feb\u901f\u5e42(~~\u6211\u8fd8\u8ba4\u4e3a\u6211\u7684\u4ee3\u7801\u76f8\u5f53\u7cbe\u7b80~~)\n\nCode\uff1a\n```cpp\n#include<cstdio>\n#define ex 10007\n\nint f[1010][1010],k,a,b,n,m,ac,bc;\n\nint main()\n{\n\tf[1][1]=f[1][2]=1;\n\tscanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\n\tb%=ex,a%=ex,ac=a,bc=b;\n\tfor(int i=2;i<=k;i++)\n\t\tfor(int j=1;j<=i+1;j++)\n\t\t\tf[i][j]=f[i-1][j-1]+f[i-1][j],f[i][j]%=ex; \n\tfor(int i=1;i<n;i++) a*=ac,a%=ex;\n\tfor(int i=1;i<m;i++) b*=bc,b%=ex;\n\tprintf(\"%d\",((((a%ex)*(b%ex))%ex)*(f[k][m+1]))%ex);\n}\n```\n\n\u4e3a\u4ec0\u4e48\u4e0d\u9700\u8981\u5feb\u901f\u5e42\uff1f\u7531\u4e8eK<1000\uff0c\u6240\u4ee5N+M<1000\uff0c\u5feb\u901f\u5e42\u662f\u5927\u6750\u5c0f\u7528\n\n\u7b97\u6cd5\u590d\u6742\u5ea6\uff1aO(K^2);",
        "postTime": 1532587389,
        "uid": 63265,
        "name": "chuj",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u5b66\u8fc7\u6570\u5b66\u7684\u4eba\u4e00\u773c\u770b\u4e0a\u53bb\u5c31\u77e5\u9053\u8fd9\u662f\u4e8c\u9879\u5f0f\u5b9a\u7406\u7684\u8fd0\u7528\uff0c\u5373\n\n(x+y)^t=k1*x^t+k2*x^(t-1)*y+k3*x^(t-2)*y^2...+y^t\n\n\nki=n!/(r!*(n-r)!) \uff08n\u662f\u603b\u6b21\u6570\uff0cr\u662f\u8be2\u95ee\u7684\u7b2ci\u9879\u7684x\u7684\u6b21\u6570\uff09\n\n\u4f46\u662f\u5982\u679c\u8fd9\u6837\u5b50\u7b971000\u4f1a\u66b4\uff0c\u56e0\u6b64\u53ea\u80fd\u7b80\u5355\u7684\u7528\u9012\u63a8\u7684\u65b9\u6cd5\u6765\u7b97k\u3002\n\n```\nint cc(int n,int r){\n\tx[1]=1;\n\tfor(int i=2;i<=n+1;i++){\n\t\tfor(int j=i;j>=2;j--){\n\t\t\tx[j]+=x[j-1];\n\t\t\tx[j]%=10007;\n\t\t}\n\t}\n\treturn x[r+1];\n}\n```\n\n\u81f3\u4e8ea^n*b^m\u53ef\u4ee5\u7528\u5feb\u901f\u5e42\u6a21\n\n```\nint mm(int x,int k){\n\tif(k==1) return x;\n\tint tt;\n\ttt=mm(x,k>>1);tt%=10007;\n\ttt*=tt;\n\ttt%=10007;\n\tif(k%2==1){\n\t\ttt*=x;\n\t}\n\ttt%=10007;\n\treturn tt;\n}\n```\n\n\u603b\u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint a,b,k,n,m,t;\nint x[1010];\n\nint cc(int n,int r){\n\tx[1]=1;\n\tfor(int i=2;i<=n+1;i++){\n\t\tfor(int j=i;j>=2;j--){\n\t\t\tx[j]+=x[j-1];\n\t\t\tx[j]%=10007;\n\t\t}\n\t}\n\treturn x[r+1];\n}\n\nint mm(int x,int k){\n\tif(k==1) return x;\n\tint tt;\n\ttt=mm(x,k>>1);tt%=10007;\n\ttt*=tt;\n\ttt%=10007;\n\tif(k%2==1){\n\t\ttt*=x;\n\t}\n\ttt%=10007;\n\treturn tt;\n}\n\nint main(){\n\tfreopen(\"factor.in\",\"r\",stdin);\n\tfreopen(\"factor.out\",\"w\",stdout);\n\tcin>>a>>b>>k>>n>>m;\n\tt=cc(k,max(n,m));\n\ta%=10007;\n\tb%=10007;\n\ta=mm(a,n);\n\tb=mm(b,m);\n\tt*=a;\n\tt%=10007;\n\tt*=b;\n\tt%=10007;\n\tcout<<t;\n\treturn 0;\n}\n```",
        "postTime": 1529300038,
        "uid": 71080,
        "name": "\u8363\u4e00\u9e23",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "##\u672c\u9898\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\n\n###1. \u6768\u8f89\u4e09\u89d2\u8ba1\u7b97\n\n###2. \u5feb\u901f\u5e42\n\n\n##1. \u6768\u8f89\u4e09\u89d2\n\n\u8fd9\u91cc\u4f7f\u7528\u4e86\uff08\u4e00\u7ef4\uff09\u77e9\u9635\u52a0\u6cd5\u7684\u65b9\u6cd5\n\n\u4e00\u5f00\u59cb\u77e9\u9635\u4e3a[1]\n\n\u7136\u540e\u590d\u5236\u4e00\u4efd, \u5e76\u5728\u4e4b\u524d\u6dfb\u52a00, \u6210\u4e3a[0, 1]\n\n\u4e4b\u540e\u5c06\u4e24\u4e2a\u77e9\u9635\u76f8\u52a0\n\n[1]\n+[0, 1]\n\n---\n=[1, 1]\n\n\u540c\u7406\u53ef\u77e5\n\n[1, 1] + [0, 1, 1] = [1, 2, 1]\n\n[1, 2, 1] + [1, 2, 1] = [1, 3, 3, 1]\n\n......\n\n##2. \u5feb\u901f\u5e42, \u4e0d\u591a\u8bf4\u4e86\n\n\n###\u4ee3\u7801\n\n\n```cpp\n    #include<iostream>\n    #include<vector>\n    using namespace std;\n    class matrix{ //\u5355\u884c\u77e9\u9635\u7c7b\n\tprivate:\n            vector<int> data;\n\n\tpublic:\n\t\t\tmatrix push\\_front(int unit){  //\u5728\u77e9\u9635\u5934\u90e8\u6dfb\u52a0\u6570\n                this->data.insert(this->data.begin(), unit);\n                return *this;\n            }\n            matrix push_back(int unit){  //\u5728\u77e9\u9635\u5c3e\u90e8\u6dfb\u52a0\u6570\uff0c\u76f4\u63a5vector\n                this->data.push_back(unit);\n                return *this;\n            }\n            int& operator[] (int index){  //\u77e9\u9635\u6807\u7b7e\u68c0\u7d22\uff08index\uff09\n                return this->data[index];\n            }\n            matrix operator+ (matrix mat){  //\u77e9\u9635\u52a0\u6cd5\n                matrix ans;\n                while(this->data.size() < mat.data.size()){  //\u77e9\u9635\u81ea\u52a8\u6269\u5bb9\n                    this->data.push_back(0);\n                }\n                while(this->data.size() > mat.data.size()){  //\u77e9\u9635\u81ea\u52a8\u6269\u5bb9\n                    mat.data.push_back(0);\n                }\n                for(int i = 0; i<this->data.size(); i++){  //\u77e9\u9635\u5bf9\u4f4d\u76f8\u52a0\uff08\u8bb0\u5f97mod\uff09\n                    ans.push_back((this->data[i] + mat.data[i])%10007);\n                }\n                return ans;\n            }\n            int size(){  //\u53d6\u77e9\u9635\u5927\u5c0f\n                return this->data.size();\n            }\n    };\n    int pwr(int base, int expr){  //\u5feb\u901f\u5e42\n        int ans=1;\n        base %= 10007;  //\u8bb0\u5f97mod\uff0c \u4e0dmod\u5c31WA*2\n        while(expr>0){\n            if(expr%2){\n                ans = ans*base%10007;  //mod\n            }\n            expr /= 2;\n            base = base*base%10007;  //mod\n        }\n        return ans;\n    }\n    matrix x, y;\n    int main(){\n        ios::sync_with_stdio(false);\n        x.push_back(1);  //\u65b0\u5efa[1]\n        int a, b, k, n;\n        cin>>a>>b>>k>>n;\n        for(int i=0; i<k; i++){\n            y = x;\n            y.push_front(0);  //\u590d\u5236\u6210[0, 1]\n            x = x+y;  //\u76f8\u52a0\n        }\n        int ans;\n        ans = x[n];\n        ans = (((ans*pwr(a, n))%10007)*pwr(b, k-n))%10007;  //\u5176\u5b9e\u62ec\u53f7\u90fd\u53ef\u4ee5\u4e0d\u6253\uff0c\u4f46\u662f\u4e00\u5b9a\u8981\u6bcf\u4e58\u4e00\u6b21mod\u4e00\u6b21\uff0c\u4e0d\u7136WA*4\n        cout<<ans<<endl;\n    }\n\n```",
        "postTime": 1507636698,
        "uid": 13436,
        "name": "zysy1216",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u9996\u5148\u6839\u636e\u9ad8\u4e2d\u9009\u4fee2-3\u4e8c\u9879\u5f0f\u5b9a\u7406\uff0c\u6709\u5c55\u5f00\u7cfb\u6570\u4e3a\uff1aCmk\\*a^n\\*b^m \u5b9e\u5728\u4e0d\u884c\u81ea\u5df1\u63a8\u63a8\u4e5f\u884c\n\n\u7136\u540e\u662f\u9884\u5904\u7406\u7ec4\u5408\u6570\uff0c\u7528\u9012\u63a8\u5f0fCmn=Cm-1n+Cm-1n-1  \u4e14\u8d77\u59cb\u4e3aC00=1,Ci0=Cii=1\n\n\u518d\u5c31\u662f\u5feb\u901f\u5e42\uff0c\u5957\u6a21\u7248\u5373\u53ef\n\n\u6ce8\u610f\u5f00long long \uff0c\u6ca1\u5f00\u53ea\u670960\n\n\u603b\u800c\u8a00\u4e4b\u77e5\u9053\u5c55\u5f00\u7cfb\u6570\u5c31\u662f\u9053\u6c34\u9898\n\n\n```cpp\n#include<bits/stdc++.h>\n#define rep(i,j,n) for(int i=j;i<=n;i++)\nusing namespace std;\ntypedef long long ll;\nconst int mod=10007;\nint n,m,k,C[2000][2000];\nll a,b;\nll power(ll a,ll b) {\n    ll ans=1;\n    for( ; b; b>>=1) {\n        if(b&1) ans=ans*a%mod;\n        a=a*a%mod;\n    }\n    return ans;\n}\nint main(){\n    scanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\n    C[0][0]=1;\n    rep(i,1,k) C[i][0]=C[i][i]=1;\n    rep(i,1,k) for(int j=1;j<i;j++) C[i][j]=(C[i-1][j]+C[i-1][j-1])%mod;\n    printf(\"%d\",C[k][m]*power(a,n)*power(b,m)%mod);\n    return 0;\n}\n```",
        "postTime": 1505320369,
        "uid": 27276,
        "name": "\u738b\u5c06\u98de\u626cCliffly",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "20\u5206\u949fac\u7684\u7b7e\u5230\u9898   \u5982\u679c\u6ca1\u6709a b\u4e24\u4e2a\u53d8\u91cf\u5c31\u662f\u88f8\u7684\u4e8c\u9879\u5f0f\u5b9a\u7406  a b\u7684\u5904\u7406\u7a0d\u7a0d\u52a8\u4e00\u4e0b\u7b14  \u5c31\u77e5\u9053\u5c06\u4ed6\u4eec\u5206\u522b\u4f9d\u636en m\u505a\u5e42\u5c31\u597d \u6700\u540e\u518d\u4e58\u4e0af[m][k]\n\n\u8fd9\u91cc\u7528\u6768\u8f89\u4e09\u89d2\u5f62 \u6253\u8868  \u7528\u7a7a\u95f4\u590d\u6742\u5ea6\u6362\u65f6\u95f4\u590d\u6742\u5ea6  \u66b4\u529b\u505a\u5e42  \u8fb9%\u8fb9\u505a \u4e5f\u5f88\u91cd\u8981 \u5426\u5219\u4f1a\u8d85\u6570\u636e\u8303\u56f4 \uff08ps \u81ea\u5df1\u5199\u7684\u57fa\u672c\u5feb\u901f\u5e42\u5c45\u7136\u66f4\u6162 \u53ea\u597d\u63a8\u8350\u66b4\u529b\u5e42\u4e86\uff09\n\n    \n    \n            \n\n    \n    \n    \n```cpp\n#include<iostream>\n#include<cstring>\n#include<cmath>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\n#define N 10007\nint a,b,k,n,m;\nint f[2010][2010];\nint main()\n{\n    cin>>a>>b>>k>>n>>m;\n    memset(f,0,sizeof(f));\n    //m is r\n    //n is n-r\n    //k is in total\n    long long v=1;\n    long long l=1;\n    if(n!=0)\n    {\n        for(int i=1;i<=n;i++)\n        {\n            v*=a;\n            v%=N;\n        }\n    }\n    if(m!=0)\n    {\n        for(int i=1;i<=m;i++)\n        {\n            l*=b;\n            l%=N;\n        }\n    }\n    v*=l;\n    for(int i=1;i<=2000;i++)\n    {\n        f[0][i]=1;\n        f[i][i]=1;\n    }\n    for(int i=1;i<=2000;i++)\n    {\n        for(int j=1;j<=1000;j++)\n        {\n            if(i!=j)\n            {\n            f[i][j]=(f[i-1][j-1]%N+f[i][j-1]%N)%N;\n        }\n        }\n    }\n    cout<<(f[m][k]*v)%N;\n    return 0;\n}\n```",
        "postTime": 1504319696,
        "uid": 35804,
        "name": "KEIONG",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "/\\*\n\u5728\u591a\u9879\u5f0f(by+ax)^k\u4e2d\uff0c\u67d0\u4e00\u9879(x^n)\\*(y^m)\u4e2dm=k-n\u6052\u6210\u7acb\n\n    ans=C(k,n)\\*(a^n)\\*(b^(k-n))\uff0c\u5176\u4e2dC\u8868\u793a\u7ec4\u5408\u6570\n\n\\*/\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\ntypedef long long ll;\nconst ll MOD=1e4+7;\nll a,b,k,n,m;\nll fac[1002]={1,1};\nll fpow(ll x,ll y,ll p) {\n    ll ret=1;\n    while (y) {\n        if (y&1) ret=ret*x%p;\n        y>>=1,x=x*x%p;\n    }\n    return ret;\n}\nint main() {\n    scanf(\"%lld%lld%lld%lld%lld\",&a,&b,&k,&n,&m);\n    for (int i=2;i<=1000;++i) fac[i]=fac[i-1]*(ll)i%MOD;//\u9884\u5904\u7406\u9636\u4e58\n    ll comb=fac[k]*fpow(fac[k-n]*fac[n]%MOD,MOD-2,MOD)%MOD;//\u6c42C(k,n)\uff0c\u5feb\u901f\u5e42\u91cc\u9762\u7684\u90a3\u4e2a\u4e1c\u897f\u7531\u8d39\u9a6c\u5c0f\u5b9a\u7406\u5f97\u5230\n    printf(\"%lld\\n\",comb*fpow(a,n,MOD)%MOD*fpow(b,k-n,MOD)%MOD);\n}\n```",
        "postTime": 1503666153,
        "uid": 38134,
        "name": "KGV7",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u53d7\u542f\u53d1\u4e8e[\u8fd9\u91cc](http://blog.sina.com.cn/s/blog\\_606a23dd010128lo.html)\n\n\u53ef\u4ee5\u7528\u9012\u63a8\u3002\n\n\u8bbef[i][j]\u4e3a\uff08ax+by\uff09^i\u7684x^j\\*y^(n-j)\u9879\u7684\u7cfb\u6570\n\n\u5219\u4e0d\u96be\u53d1\u73b0f[i][j]=(f[i-1][j-1]\\*a+f[i-1][j]\\*b)%10007\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\nusing namespace std;\n\nconst int mo=10007;\n\nint a,b,k,n,m;\nint f[1005][1005];\n\nint main(){\n    int i,j;\n    scanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\n    \n    a%=mo,b%=mo;\n    f[1][0]=b,f[1][1]=a;\n    \n    for(i=1;i<=k;i++){\n        for(j=0;j<=min(i,n);j++){\n            f[i][j]=(f[i][j]+f[i-1][j]*b)%mo;\n            if(j)f[i][j]=(f[i][j]+f[i-1][j-1]*a)%mo;\n        }\n    }\n    \n    printf(\"%d\",f[k][n]);\n    return 0;\n} \n```",
        "postTime": 1492312260,
        "uid": 6973,
        "name": "\u6613\u6781feng",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u53ef\u4ee5\u7528\u9012\u63a8\u6765\u6c42\u89e3\u6b64\u9898\n\n\u8003\u8651\u4e00\u4e2ap\\*x^n\\*y^m (p\u4ee3\u8868\u7cfb\u6570) \u5219\u5b83\u7b49\u4e8el\\*x^(n-1)\\*y^m\\*ax+ o\\*x^n\\*y^(m-1) \u5219\u663e\u800c\u6613\u89c1\uff0cp=a\\*l+b\\*o\n\n\u8fd9\u6837\uff0c\u6211\u4eec\u53ef\u4ee5\u5f00f[i][j],\u4ee3\u8868x^i\\*y^j\u7684\u7cfb\u6570\uff0c\u5219\u6709f[i][j]=a\\*f[i-1][j]+b\\*f[i][j-1] \u5176\u4e2df[1][0]=a (a\\*x^1\\*b\\*y^0=a) f[0][1]=b (\u540c\u7406)\n\n\u8fd9\u91cc\u6211\u4eec\u8ba9m++\uff0cn++\uff0c\u4ecef[1][1]\u5f00\u59cb\u9012\u63a8\uff0c\u4ee5\u9632\u6570\u7ec4\u8d8a\u754c(\u8fd9\u6837f[2][1]=a f[1][2]=b), \u540c\u65f6\u5229\u7528(a+b)%c=(a%c+b%c)%c\u53d6\u6a21\n\n\u4ee5\u4e0b\u662f\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\nint k,a,b,n,m;\nlong long f[1001][1001];            //long long\u9632\u7206\nusing namespace std;\nint main(){\n    cin>>a>>b>>k>>n>>m;\n    n++; m++;              //\u81ea\u52a0\u9632\u8d8a\u754c\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=m;j++){\n            if(i==2&&j==1) f[i][j]=a;                      \n            else if(i==1&&j==2) f[i][j]=b;                                         //\u8fb9\u754c\u60c5\u51b5\n            else f[i][j]=(a*f[i-1][j]%10007+b*f[i][j-1]%10007)%10007;              //\u53d6\u6a21\n        }\n    cout<<f[n][m];\n    return 0; \n}\n```\n\n",
        "postTime": 1475860270,
        "uid": 23420,
        "name": "Rumia",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u4e0d\u7528\u6768\u8f89\u4e09\u89d2\uff01\u6bd4\u6768\u8f89\u4e09\u89d2\u5feb\u5f88\u591a\uff0c\u57fa\u672c\u90fd\u662f2ms\u3002\n\n\u7528\u7ec4\u5408\u6570\u7684\u4e00\u7ef4\u9012\u63a8\u516c\u5f0fC(n,m)=C(n,m-1)\\*(n-m+1)/m\u3002\n\n\u9664\u6cd5\u53d6\u6a21\u7684\u65f6\u5019\u7528\u9006\u5143\uff0c\u6839\u636e\u8d39\u9a6c\u5c0f\u5b9a\u7406\uff0ca\u5728\u6a21p\u610f\u4e49\u4e0b\u7684\u9006\u5143\u662fa^(p-2) \uff08gcd(a,p)=1\uff09\uff0c\u800c\u672c\u9898\u6070\u597d\u6ee1\u8db3\u8fd9\u4e2a\u6761\u4ef6\u3002\n\n```cpp\n#include<cstdio>\n\nconst int p(10007);\n\nint power(int base, int index) {\n    int ans(1);\n    for (; index; index >>= 1, base = base % p * (base % p) % p)\n        if (index & 1)\n            ans = ans % p * (base % p) % p;\n    return ans % p;\n}\n\nint c(int n, int m) {\n    int ans(1);\n    for (int i(1); i <= m; ++i)\n        ans = ans * (n - i + 1) % p * power(i, p - 2) % p;\n    return ans % p;\n}\n\nint main() {\n    int a, b, k, n, m;\n    scanf(\"%d%d%d%d%d\", &a, &b, &k, &n, &m);\n    printf(\"%d\\n\", power(a, n) * power(b, m) % p * c(k, m) % p);\n    return 0;\n}\n```",
        "postTime": 1474888932,
        "uid": 22214,
        "name": "wffms69_8",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u5c31\u662f\u6768\u8f89\u4e09\u89d2\u7684\u8fd0\u7528\u4e86~\n\n\u7531\u4e8e\u6570\u636e\u8981\u6c42\u4e0d\u662f\u592a\u5927\uff0c\u7528\u4e8c\u7ef4\u6570\u7ec4\u5b58\u7684\uff08\u56e0\u4e3a\u8fd9\u6837\u597d\u61c2\uff0c\u6bd4\u8f83\u9002\u5408\u53d1\u9898\u89e3\uff09\n\n\u5f53\u7136\uff0c\u8003\u8651\u5230\u7cfb\u6570\u4e5f\u8981\u5e42\u8fd0\u7b97\uff0c\u6240\u4ee5\u8fd8\u9700\u8981\u5feb\u901f\u5e42\n\n\u8fd9\u91cc\u8d34\u51fa\u6211\u5173\u4e8e \u5feb\u901f\u5e42 \u7684\u535a\u5ba2 \uff1a http://blog.csdn.net/WT\\_cnyali/article/details/52452986\n\n\u6b22\u8fce\u5927\u5bb6\u8bbf\u95ee\n\n```cpp\n#include<bits/stdc++.h> \n#define modd 10007\n#define ll long long\nusing namespace std;\nll yh[1010][1010];//\u6768\u8f89\nll pow(ll a,ll b){//\u5feb\u901f\u5e42 a^b\n    ll rec = 1 ;\n    while(b){\n        if(b&1){//\u7b49\u4ef7\u4e8e b%2==1\n            rec*=a;\n            rec%=modd;\n        }\n        a=a*a;\n        a%=modd;\n        b>>=1;\n    }\n    return rec%modd;\n}\nint main(){\n    ll a,b,k,m,n,i,j;\n    cin>>a>>b>>k>>n>>m;\n    a%=modd;b%=modd;k%=modd;n%=modd;m%=modd;//\u8bb0\u5f97\u5148\u53d6\u6a21\n    yh[1][1]=1;//\u6768\u8f89\u4e09\u89d2\u7b2c\u4e00\u4e2a\n    for(i=2;i<=k+2;i++){//\u9012\u63a8\u8ba1\u7b97\u6768\u8f89\u4e09\u89d2\n        yh[i][1]=yh[i][i]=1;\n        for(j=1;j<=i;j++)\n            yh[i][j]=(yh[i-1][j]%modd+yh[i-1][j-1]%modd)%modd;\n            yh[i][j]%=modd;\n        }\n    ll ans = ( ( ( pow(a,n) * pow(b,m) ) % modd )* (yh[k+1][m+1]%modd) ) % modd ; //\u597d\u597d\u770b\u770b\u5c31\u77e5\u9053\u4e86\uff0c\u7528\u5230\u5feb\u901f\u5e42\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n//\u662f\u4e0d\u662f\u5f88\u7b80\u5355\u5462\n```",
        "postTime": 1474638736,
        "uid": 17941,
        "name": "Vasily",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u5feb\u901f\u5e42+\u6768\u8f89\u4e09\u89d2\u2026\u2026\n\n\u4e00\u5b9a\u8981\u4e00\u8fb9\u7b97\u4e00\u8fb9\u53d6\u6a21\u2026\u2026\n\n```cpp\n\n#include<set>  \n#include<map>  \n#include<list>  \n#include<queue>  \n#include<stack>  \n#include<string>  \n#include<math.h>  \n#include<time.h>  \n#include<vector>  \n#include<bitset>  \n#include<memory>  \n#include<utility>  \n#include<stdio.h>  \n#include<sstream>  \n#include<iostream>  \n#include<stdlib.h>  \n#include<string.h>  \n#include<algorithm> \n#define LL unsigned long long  \nusing namespace std;\nlong long h[1010][1010];\nlong long ksm(long long haha,long long hehe)//\u5feb\u901f\u5e42\u6c42haha\u7684hehe\u6b21\u65b9 \n{//\u5feb\u901f\u5e42\u4e0d\u4f1a\u53ef\u4ee5\u767e\u5ea6\n    long long a=1;\n    long long b=haha;\n    while (hehe!=0)\n    {\n        if (hehe%2==1) a=(a*b)%10007;\n        b=(b*b)%10007;\n        hehe=hehe/2;\n    }\n    return a;\n} \nint main()\n{\n    int s,a,b,k,n,m,i,j;\n    scanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\n    for (i=1;i<=k+1;i++)//\u6768\u8f89\u4e09\u89d2\u521d\u59cb\u5316 \n    {\n        h[i][i]=1;//\u6700\u540e\u4e00\u4e2a\u6570\u8d4b\u503c\u4e3a1 \n        h[i][1]=1;//\u7b2c\u4e00\u4e2a\u6570\u8d4b\u503c\u4e3a1 \n    }\n    for (i=2;i<=k+1;i++)//\u9012\u63a8\u6c42\u6768\u8f89\u4e09\u89d2 \n        for (j=2;j<=i;j++)\n        {\n            h[i][j]=(h[i-1][j]+h[i-1][j-1])%10007;//\u6c42\u6768\u8f89\u4e09\u89d2\n        }\n    s=h[k+1][m+1];\n    s=(s*(ksm(a,n)*ksm(b,m)))%10007;//\u6c42\u51fa\u7ed3\u679c\n    cout<<s;\n    return 0;\n}\n\n```",
        "postTime": 1457761977,
        "uid": 2674,
        "name": "\u300cQQ\u7ea2\u5305\u300d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "**\n\u4e3b\u8981\u662f\u6768\u8f89\u4e09\u89d2 \u548c\u5feb\u901f\u5e42\n\nx\u7684\u6b21\u6570\u53ef\u4ee5\u63a8\u51fa\u5728\u7b2c\u51e0\u4e2a\n\nk\u5c31\u662f\u7b2c\u51e0\u5c42  \u5176\u4f59\u7684\u8fd8\u662f\u6bd4\u8f83\u6c34  \u6bd5\u7adf= =\u662fT1\u561b\n\n\u6768\u8f89\u4e09\u89d2\u53ef\u4ee5\u6eda\u52a8\u6570\u7ec4\u4f18\u5316 \u5feb\u901f\u5e42\u7684\u8bdd= =\u8bb0\u5f97\u5148\u628aa\u548cb%MOD  \u8981\u4e0d\u7136\u5c3180- -\u60b2\u5267\n\n**\n\n```cpp\n\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\nusing namespace std; \nconst int maxn=1000+10;\nconst int MOD=10007;\n\nint tr[2][maxn];\n\nvoid init_tr(int n)\n{\n    for(int i=1,p=1;i<=n+1;p^=1,i++)\n      for(int j=1;j<=i;j++)\n      {\n          if(j==1||j==i) tr[p][j]=1;\n          else tr[p][j]=(tr[p^1][j-1]+tr[p^1][j])%MOD;\n      }\n}\n\nlong long po(int a,int p)\n{\n    long long ret=1;\n    for(;p;p=(p>>1))\n    {\n        if(p & 1)ret*=a,ret%=MOD;\n        a*=a;a%=MOD;\n    }\n    return ret;\n}\n\nint main()\n{\n    int a,b,k,n,m;scanf(\"%d%d%d%d%d\",&a,&b,&k,&n,&m);\n    init_tr(k);\n    int cur=(k%2==0?1:0);\n    printf(\"%lld\",(long long)tr[cur][k-n+1]*po(a%MOD,n)*po(b%MOD,m)%MOD);\n    return 0;\n}\n\n```",
        "postTime": 1450935143,
        "uid": 11280,
        "name": "QWsin",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u6b64\u9898\u662f\u8003\u5bdf\u5bf9\u4e8c\u9879\u5f0f\u5b9a\u7406\u7684\u638c\u63e1\uff0c\u6838\u5fc3\u6709\u4e8c\uff1a\u7ec4\u5408\u6570\u7684\u9012\u63a8\u4e0e\u5feb\u901f\u5e42\u7684\u4f7f\u7528\u3002\n\n```delphi\n\nvar c:array[0..1000,0..1000]of qword;\n    i,j,a,b,k,n,m:longint;\nfunction e(a,b:qword):qword;\nvar k:qword;\nbegin\n  k:=a mod 10007;\n  e:=1;\n  while b>0 do\n  begin\n    if odd(b) then e:=e*k mod 10007;\n    b:=b div 2;\n    k:=k*k mod 10007;\n  end;\nend;\n\nbegin\n  readln(a,b,k,n,m);\n  for i:=1 to k do c[i,0]:=1;\n  c[1,1]:=1;\n  for i:=2 to k do\n  for j:=1 to i do\n  c[i,j]:=(c[i-1,j-1]+c[i-1,j])mod 10007;\n  writeln(e(a,n)mod 10007 * c[k,m]*e(b,m)mod 10007);\nend.\n\n```",
        "postTime": 1439991807,
        "uid": 2248,
        "name": "\u6c47\u6587\u5ba2",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    },
    {
        "content": "\u4e0d\u96be\u63a8\u7b97\u51fa\uff0c\u6240\u6c42\u7684\u7cfb\u6570=\n\n ![](https://cdn.luogu.com.cn/upload/pic/428.png) \n\n\u5bf9\u4e8eC(k,m)\u7684\u89e3\u51b3\u5982\u4e0b\uff1a\n\n\u6839\u636eC(n, m)=C(n-1,m-1)+C(n-1,m)\uff0c\u53ef\u4ee5\u7528\u9012\u63a8\u7684\u65b9\u6cd5\u7b97\u51faC(n,m)\uff08\u5373C(k,m)\uff09\n\n\u5177\u4f53\u9012\u63a8\u7a0b\u5e8f\u5982\u4e0b\uff1a\n\n```delphi\n\nfor i:=1 to k do\n    begin\n    c[i,0]:=1; c[i,i]:=1; \n    for j:=1 to i-1 do\n      c[i,j]:=((c[i-1,j-1] mod 10007)+(c[i-1,j] mod 10007)) mod 10007;\nend; \n\n```",
        "postTime": 1377678621,
        "uid": 15,
        "name": "\u8def\u8fb9\u7684\u6c34\u6c9f",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1313 \u3010\u8ba1\u7b97\u7cfb\u6570\u3011"
    }
]