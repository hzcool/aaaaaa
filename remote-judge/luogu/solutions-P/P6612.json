[
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u535a\u5f08\u8bbaDP \u7684\u4ea4\u4e92\u9898\u3002\n\n# \u66b4\u529b\n\n\u6211\u4eec\u53ef\u4ee5\u8bbe\u72b6\u6001\u4e3a\n\n$f[i][j]$\n\n\u8868\u793a\u5f53 x \u4e3a $i$ \u65f6\uff0cy \u4e3a $j$ \u65f6\u7684\u8d70\u6cd5\uff0c\u5f53\n\n$f[i][j] = 0$\u65f6\u4e3a\u5fc5\u8f93\u3002\n\n\u4e8e\u662f\uff1a\n\n$f[i][j] =$ \n\n- 0 ($i + j >= n $)\n\n- 1 $(f [1][i+j] = 0)$\n\n- 2 $(f[i*2][j] = 0)$\n\n- 3 $(f[i*3][j] = 0)$\n\n\n\n\u4f46\u662f,\u8fd9\u80af\u5b9a$MLE$\u4e86\u3002\n\n# \u4f18\u5316\n\n   \u6ce8\u610f\u5230\uff0c$x$ \u53ef\u4ee5\u8868\u793a\u4e3a $2^i*3^j$ ,\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u8fd9\u6837\u8868\u793a\u72b6\u6001\uff1a\n\n$f[i][j][k]$ :\n\n\u5f53 $y = i,x = 2^j*3^k$ \u65f6 \u7684\u65b9\u6848\u3002\n\n\u9884\u5904\u7406\u4e00\u4e0b$2$\uff0c$3$ \u7684\u5e42\u5c31\u884c\u3002\n\n\u6539\u9020\u4e00\u4e0b\u65b9\u7a0b\u5373\u53ef\u3002\n\n# \u4ee3\u7801\n\n\u849f\u84bb\u7b2c\u4e00\u6b21\u5199\u975eIO\u7684\u4ea4\u4e92\u9898\uff0c\u957f\u89c1\u8bc6\u4e86\u3002\n\n```cpp\nint f[30010][16][11] = {0},k = 0;\nint p2[16],p3[11];\nextern \"C\" {\n\textern int _opt(int n, int x, int y) {\n\t\tif(k == 0){\n\t\t    p2[0] = 1,p3[0] = 1;\n\t\t   for(int i = 1;i <= 15;i++) p2[i] = p2[i-1]*2;\n            for(int i = 1;i <= 10;i++) p3[i] = p3[i-1]*3;\n\t   \t\tfor(int i = n;i >= 0;i--){\n\t    \t\tfor(int j = 15;j >= 0;j--){\n\t    \t\t\tfor(int k = 10;k >= 0;k--){\n\t    \t\t\t\tif(p2[j] * p3[k] + i >= n) f[i][j][k] = 0;\n\t    \t\t\t\telse{\n\t    \t\t\t\t\tif(!f[i][j + 1][k]) f[i][j][k] = 2;\n\t    \t\t\t\t\tif(!f[i][j][k+1]) f[i][j][k] = 3;\n\t    \t\t\t\t\tif(!f[ i+p2[j]*p3[k] ][0][0]) f[i][j][k] = 1;\n\t    \t\t\t\t}\n\t    \t\t\t}\n\t    \t\t}\n\t    \t}\n            k = 1;\n        }\n\t\tint xx2 = 0,xx3 = 0;\n\t\twhile(x%2 == 0 && x > 0){x /= 2;xx2++;}\n\t\twhile(x%3 == 0 && x > 0){x /= 3;xx3++;}\n        return f[y][xx2][xx3];\n\t}\n}\n```\n\n",
        "postTime": 1595750811,
        "uid": 167354,
        "name": "Werner_Yin",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P6612 \u3010[POI2012]LIC-Bidding\u3011"
    },
    {
        "content": "> [P6612 [POI2012]LIC-Bidding](https://www.luogu.com.cn/problem/P6612)\n>\n> [POI \u5408\u96c6](https://www.cnblogs.com/alex-wei/p/POI.html)\u3002\n\n\u6ce8\u610f\u5230 $x$ \u53ea\u6709\u53ef\u80fd\u662f $2^a3^b$ \u7684\u5f62\u5f0f\uff0c\u56e0\u6b64 $x$ \u7684\u6570\u91cf\u7ea7\u4e3a $\\log ^ 2 n$\u3002\n\n\u5c06 $x$ \u79bb\u6563\u5316\uff0c\u76f4\u63a5\u66b4\u529b DP \u6bcf\u4e2a $(x,y)$ \u662f\u5fc5\u80dc\u8fd8\u662f\u5fc5\u8d25\u6001\uff0c\u6ce8\u610f\u8f6c\u79fb\u65f6\u679a\u4e3e\u53d8\u91cf\u7684\u987a\u5e8f\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u7ebf\u6027\u5bf9\u6570\u3002\n\n```cpp\nconst int N = 3e4 + 5;\nint I, cnt, f[N >> 8][N], buc[N], rev[N];\nvoid Init(int n) {\n\tfor(int i = 1; i < n; i++) {\n\t\tint t = i;\n\t\twhile(!(t & 1)) t >>= 1;\n\t\twhile(!(t % 3)) t /= 3;\n\t\tif(t == 1) rev[cnt] = i, buc[i] = cnt++;\n\t}\n\tfor(int y = n - 1; ~y; y--)\n\t\tfor(int p = cnt - 1; ~p; p--) {\n\t\t\tint x = rev[p];\n\t\t\tif(x + y >= n) continue;\n\t\t\tif(1 + x + y >= n || x * 2 + y >= n || x * 3 + y >= n) f[p][y] = 1; // f[i][j] = 1 \u8868\u793a (i, j) \u662f\u5fc5\u80dc\u6001\n\t\t\telse if(!f[buc[1]][x + y] || !f[buc[x << 1]][y] || !f[buc[x * 3]][y]) f[p][y] = 1;\n\t\t}\n\t\t\n}\nextern \"C\" int _opt(int n, int x, int y) {\n\tif(!I) Init(n), I = 1;\n\tif(1 + x + y >= n || !f[buc[1]][x + y]) return 1; // \u627e\u5230\u4e00\u4e2a\u5fc5\u8d25\u6001\u7ed9\u540e\u624b\n\tif(x * 2 + y >= n || !f[buc[x << 1]][y]) return 2;\n\tif(x * 3 + y >= n || !f[buc[x * 3]][y]) return 3;\n}\n```\n\n\u6709\u5565\u4e0d\u61c2\u7684\u53ef\u4ee5\u79c1\u4fe1\u95ee\uff08\u5927\u96fe\uff09\u3002",
        "postTime": 1639925334,
        "uid": 123294,
        "name": "Alex_Wei",
        "ccfLevel": 10,
        "title": "P6612 [POI2012]LIC-Bidding"
    },
    {
        "content": "\u535a\u5f08\u8bba\u52a8\u6001\u89c4\u5212\u9898\u3002\n\n\u5bb9\u6613\u60f3\u5230\u4ee4 $f[i][j]$ \u4e3a $x = i$\uff0c$y = j$ \u65f6\u7684\u6700\u4f18\u65b9\u6848\u3002\n\n\u4f46\u662f $N\\le 3\\times 10^4$\uff0c\u4f1a\u8d85\u65f6\u8d85\u7a7a\u3002\n\n\u4f46\u662f\u6ce8\u610f\u64cd\u4f5c $2$ \u548c\u64cd\u4f5c $3$\uff0c\u5bb9\u6613\u53d1\u73b0\uff0c$x$ \u53ea\u53ef\u80fd\u8f6c\u79fb\u5230 $2\\times x$ \u548c $3\\times x$\u3002\n\n\u90a3\u4e48\u8bb0\u5f55\u4e00\u4e2a\u72b6\u6001 $f[i][j][k]$\uff0c\u4ee3\u8868 $x = 2^i\\times 3^j$\uff0c$y = k$ \u7684\u65f6\u7684\u6700\u4f18\u65b9\u6848\u3002\n\n\u7ecf\u8fc7\u8ba1\u7b97\uff0c$k\\le 3\\times 10^4$\uff0c$i\\le 16$\uff0c$j\\le 10$ \u7684\u72b6\u6001\u5373\u53ef\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(i\\times j\\times k)\\approx 5\\times 10^6$\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u9898\u3002\n\n\u6ce8\u610f\u662f\u4ea4\u4e92\u9898\u3002",
        "postTime": 1649032400,
        "uid": 378467,
        "name": "willem248",
        "ccfLevel": 5,
        "title": "P6612"
    },
    {
        "content": "\u6211\u7b2c\u4e00\u9053\u4ea4\u4e92\u9898\u3002\n\n### \u76f4\u63a5dp\n\n$f_{x,y}$\u8868\u793a\u9762\u5bf9$(x,y)$\u65f6\u662f\u5426\u80fd\u8d62\u3002\n\n$g_{x,y}$\u8868\u793a\u9762\u5bf9$(x,y)$\u65f6\u5982\u679c\u80fd\u8d62\u7684\u8d70\u6cd5\u3002\n\n$f_{x,y}$\n\n- $x+y\\ge n$ := _lose_\n- _else_ := $ !f_{1,x+y} | !f_{2\\times x,y} |!f_{3\\times x,y}$\n\n$g$\u8ddf\u7740$f$\u4e00\u8d77\u8f6c\u79fb\u3002\n\n\u5f00\u4e0d\u4e0b\uff1f\n\n---\n\n$ \\ $\n$ \\ $\n$ \\ $\n$ \\ $\n$ \\ $\n$ \\ $\n\n\n\u76f4\u63a5map\u3002\n\n\u522b\u5fd8\u4e86\u8bb0\u5fc6\u5316\u641c\u7d22\u3002  ~~\u597d\u6ca1\u6709\u6280\u672f\u542b\u91cf~~\n\n---\n\n**$\\color{blue}{code}:$**\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\nmap<int,bool>f[70050];\nmap<int,int>g[70005];//\u8981\u591a\u5f00\u4e9b\uff0c\u8981\u4e0dRE\u3002\nint n;\nbool dp(int x,int y){\n\tif(f[x].count(y))return f[x][y];\n\t//if(y>=n)return f[x][y]=1;\n\tif(x+y>=n)return f[x][y]=0;\n\tif(!dp(1,x+y))return g[x][y]=1,f[x][y]=1;\n\tif(!dp(2*x,y))return g[x][y]=2,f[x][y]=1;\n\tif(!dp(3*x,y))return g[x][y]=3,f[x][y]=1;\n\treturn f[x][y]=0;\n}\nbool uninited=1;\nvoid init(int _n){\n\tn=_n;\n\tdp(1,0);\n//\tif(f[1][0]==0)while(1);\n\tuninited=0;\n}\nextern\"C\" int _opt(int _n,int x,int y){\n\tif(uninited)init(_n);\n\t/*\n\tif(g[x][y]==-1)while(1);\n\tint o=g[x][y];\n\tif((x+y>=n&&o>1)||(o>0&&o<4));\n\telse while(1);\n\t*/\n\treturn g[x][y];\n}\n```",
        "postTime": 1606877052,
        "uid": 157677,
        "name": "maruize",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6612 \u3010[POI2012]LIC-Bidding\u3011"
    }
]