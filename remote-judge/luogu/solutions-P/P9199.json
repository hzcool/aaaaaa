[
    {
        "content": "\u9996\u5148\u7279\u5224 $k=0$ \u7684\u60c5\u51b5\uff0c\u6b64\u65f6\u7684\u7b54\u6848\u4e3a\u975e $0$ \u6570\u7684\u4e2a\u6570\uff0c\u6539\u6cd5\u662f\u5c06\u5b83\u4eec\u5168\u6539\u6210 $0$\u3002\r\n\r\n\u518d\u7279\u5224 $k$ \u8f83\u5927\u7684\u60c5\u51b5\uff0c\u6b64\u65f6\u7684\u7b54\u6848\u4e3a $0$\u3002\r\n\r\n\u5426\u5219\uff0c\u5bf9\u4e8e $k$ \u5927\u5c0f\u9002\u4e2d\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u4ece\u524d\u5f80\u540e\u904d\u5386\u6570\u7ec4\uff0c\u540c\u65f6\u7ef4\u62a4\u5f53\u524d\u533a\u95f4\u7684 $\\operatorname{mex}$ \u503c\u3002\u6839\u636e $\\operatorname{mex}$ \u7684\u5b9a\u4e49\uff0c\u663e\u7136\u5bf9\u4e8e\u5de6\u7aef\u70b9\u76f8\u540c\u7684\u533a\u95f4\uff0c\u53f3\u7aef\u70b9\u4e0d\u65ad\u53f3\u79fb\u7684\u8fc7\u7a0b\u4e2d $\\operatorname{mex}$ \u5355\u8c03\u4e0d\u964d\u3002\u56e0\u6b64\uff0c\u5982\u679c $\\operatorname{mex}$ \u503c\u5728\u67d0\u4e00\u65f6\u523b\u8d85\u8fc7\u4e86 $k$\uff08\u4e00\u5b9a\u662f\u904d\u5386\u5230\u4e00\u4e2a $k$ \u5bfc\u81f4\u7684\uff09\uff0c\u5219\u7ee7\u7eed\u53f3\u79fb\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff0c\u6b64\u65f6\u6e05\u7a7a\u7ef4\u62a4\u7684\u533a\u95f4\u3002\u5982\u679c $\\operatorname{mex}$ \u503c\u5728\u67d0\u4e00\u65f6\u523b\u7b49\u4e8e $k$\uff0c\u5219\u5c06\u6b64\u65f6\u533a\u95f4\u53f3\u7aef\u70b9\u6539\u4e3a $k$\u3002\r\n\r\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(n)$\u3002\r\n\r\n$k=0$ \u6216 $k$ \u8f83\u5927\u7684\u6b63\u786e\u6027\u662f\u663e\u7136\u7684\uff0c\u4e0b\u9762\u8bc1\u660e\u4e0a\u8ff0 $k$ \u9002\u4e2d\u8d2a\u5fc3\u7b97\u6cd5\u7684\u6b63\u786e\u6027\u3002\r\n\r\n\u5f15\u7406\u4e00\uff1a\u5b58\u5728\u4e00\u79cd\u6700\u4f18\u65b9\u6848\uff0c\u4f7f\u5f97\u6240\u6709\u4fee\u6539\u7684\u4f4d\u7f6e\u90fd\u88ab\u6539\u4e3a $k$\u3002\r\n\r\n\u8bc1\u660e\uff1a\u8003\u8651\u4efb\u610f\u4e00\u79cd\u6700\u4f18\u65b9\u6848\uff0c\u5982\u679c\u4e00\u4e2a\u4f4d\u7f6e\u88ab\u4fee\u6539\uff0c\u4f7f\u5f97\u4e0d\u5b58\u5728 $\\operatorname{mex}$ \u4e3a $k$ \u7684\u533a\u95f4\uff0c\u5219\u5c06\u5b83\u6539\u4e3a $k$ \u4e5f\u4e0d\u5b58\u5728\u3002\u539f\u56e0\u662f\u5305\u542b $k$ \u7684\u533a\u95f4\u7684 $\\operatorname{mex}$ \u4e00\u5b9a\u4e0d\u7b49\u4e8e $k$\uff0c\u800c\u4ece\u8fd9\u4e2a\u4f4d\u7f6e\u5c06\u6570\u5217\u5206\u5f00\uff0c\u6839\u636e\u65b9\u6848\u5408\u6cd5\u6027\uff0c\u5269\u4f59\u7684\u90e8\u5206\u7684 $\\operatorname{mex}$ \u4e5f\u4e00\u5b9a\u4e0d\u662f $k$\u3002$\\square$\r\n\r\n\u56e0\u6b64\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8003\u8651\u5c06\u6240\u6709\u4fee\u6539\u7684\u4f4d\u7f6e\u90fd\u6539\u4e3a $k$ \u7684\u60c5\u51b5\u3002\r\n\r\n\u540c\u6837\u7684\u7406\u7531\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u8003\u8651\u539f\u6570\u5217\u4e2d\u5305\u542b $k$ \u7684\u8fde\u7eed\u5b50\u6bb5\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06\u539f\u6570\u5217\u6309\u7167 $a_i=k$ \u7684\u4f4d\u7f6e\u5206\u4e3a\u82e5\u5e72\u6bb5\uff0c\u6bcf\u4e00\u6bb5\u90fd\u4e0d\u5305\u542b $k$\u3002\u53e6\u5916\uff0c\u663e\u800c\u6613\u89c1\u5730\uff0c\u5927\u4e8e $k$ \u7684 $a_i$ \u6ca1\u6709\u610f\u4e49\u3002\u7efc\u4e0a\uff0c\u53ea\u8981\u6211\u4eec\u89e3\u51b3\u4e86\u5b50\u4efb\u52a1\u4e09\uff08\u4fdd\u8bc1 $a_i < k$\uff09\uff0c\u539f\u95ee\u9898\u5f97\u89e3\u3002\r\n\r\n\u5728\u5b50\u4efb\u52a1\u4e09\u4e2d\uff0c\u4e00\u6bb5\u533a\u95f4\u7684 $\\operatorname{mex}$ \u7b49\u4e8e $k$\uff0c\u5f53\u4e14\u4ec5\u5f53\u8fd9\u6bb5\u533a\u95f4\u5305\u542b $0\\sim k-1$ \u7684\u6240\u6709\u6570\u3002\u6211\u4eec\u627e\u5230\u6700\u9760\u5de6\u7684\u8fd9\u6837\u7684\u533a\u95f4\uff0c\u5219\u8fd9\u6bb5\u533a\u95f4\u5185\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\u6570\u88ab\u6539\u4e3a $k$\u3002\u5728\u6539\u4e3a $k$ \u540e\uff0c\u4ece\u88ab\u4fee\u6539\u7684\u4f4d\u7f6e\u5f80\u53f3\u662f\u4e00\u4e2a\u5b50\u95ee\u9898\u3002\r\n\r\n\u5f15\u7406\u4e8c\uff1a\u5b58\u5728\u4e00\u79cd\u6700\u4f18\u65b9\u6848\uff0c\u4f7f\u5f97\u6240\u6709\u88ab\u4fee\u6539\u7684\u4f4d\u7f6e\u90fd\u662f\u4e0a\u8ff0\u533a\u95f4\u7684\u53f3\u7aef\u70b9\u3002\r\n\r\n\u8bc1\u660e\uff1a\u8003\u8651\u4efb\u610f\u4e00\u79cd\u6700\u4f18\u65b9\u6848\uff0c\u5047\u8bbe\u4e00\u6b21\u4fee\u6539\u6ca1\u6709\u6539\u53f3\u7aef\u70b9\uff0c\u5219\u6539\u53f3\u7aef\u70b9\u4e00\u5b9a\u4e0d\u52a3\u3002\u539f\u56e0\u662f\u8fd9\u6837\u53ef\u4ee5\u5c3d\u91cf\u7f29\u51cf\u95ee\u9898\u7684\u89c4\u6a21\uff0c\u7531\u4e8e $\\operatorname{mex}$ \u6709\u5355\u8c03\u6027\uff0c\u8fd9\u4e48\u64cd\u4f5c\u5e76\u4e0d\u4f1a\u4f7f\u5f97\u4e0b\u4e00\u4e2a\u4fee\u6539\u4f4d\u7f6e\u63d0\u524d\uff0c\u53ea\u53ef\u80fd\u4f7f\u5f97\u4e0b\u4e00\u4e2a\u4fee\u6539\u4f4d\u7f6e\u5ef6\u540e\u3002$\\square$\r\n\r\n\u5b50\u4efb\u52a1\u4e09\u7684\u8d2a\u5fc3\u7b97\u6cd5\u6b63\u786e\u6027\u5f97\u8bc1\u3002\u6839\u636e\u4e0a\u8ff0\u63a8\u7406\uff0c\u539f\u95ee\u9898\u7684\u8d2a\u5fc3\u7b97\u6cd5\u6b63\u786e\u6027\u5f97\u8bc1\u3002\r\n\r\n\u4ee3\u7801\uff1a\r\n\r\n```cpp\r\n//By: OIer rui_er\r\n#include <bits/stdc++.h>\r\n#define rep(x,y,z) for(int x=(y);x<=(z);x++)\r\n#define per(x,y,z) for(int x=(y);x>=(z);x--)\r\n#define debug(format...) fprintf(stderr, format)\r\n#define fileIO(s) do{freopen(s\".in\",\"r\",stdin);freopen(s\".out\",\"w\",stdout);}while(false)\r\n#define likely(exp) __builtin_expect(!!(exp), 1)\r\n#define unlikely(exp) __builtin_expect(!!(exp), 0)\r\nusing namespace std;\r\ntypedef long long ll;\r\n\r\nmt19937 rnd(std::chrono::duration_cast<std::chrono::nanoseconds>(std::chrono::system_clock::now().time_since_epoch()).count());\r\nint randint(int L, int R) {\r\n\tuniform_int_distribution<int> dist(L, R);\r\n\treturn dist(rnd);\r\n}\r\n\r\ntemplate<typename T> void chkmin(T& x, T y) {if(x > y) x = y;}\r\ntemplate<typename T> void chkmax(T& x, T y) {if(x < y) x = y;}\r\n\r\nconst int N = 1e6+5;\r\n\r\nint n, k, a[N], b[N], cnt[N], mex, ans;\r\n\r\nint read() {\r\n\tint x = 0, k = 1;\r\n\tchar c = getchar();\r\n\tfor(; !isdigit(c); c = getchar()) if(c == '-') k *= -1;\r\n\tfor(; isdigit(c); c = getchar()) x = (x << 3) + (x << 1) + (c ^ 48);\r\n\treturn x * k;\r\n}\r\n\r\nvoid write(int x, char end = 0) {\r\n\tif(x < 0) putchar('-'), x = -x;\r\n\tif(x < 10) putchar(x ^ 48);\r\n\telse {\r\n\t\twrite(x / 10);\r\n\t\tputchar((x % 10) ^ 48);\r\n\t}\r\n\tif(end) putchar(end);\r\n}\r\n\r\nint main() {\r\n\tn = read(); k = read();\r\n\trep(i, 1, n) a[i] = read();\r\n\tif(!k) {\r\n\t\trep(i, 1, n) if(a[i]) ++ans;\r\n\t\trep(i, 1, n) b[i] = 0;\r\n\t}\r\n\telse if(k > n + 1) {\r\n\t\trep(i, 1, n) b[i] = a[i];\r\n\t}\r\n\telse {\r\n\t\trep(i, 1, n) b[i] = a[i];\r\n\t\tfor(int l = 0, r = 1; r <= n; r++) {\r\n\t\t\tif(a[r] > k) continue;\r\n\t\t\tif(a[r] == k) {\r\n\t\t\t\twhile(++l < r) if(a[l] < k) --cnt[a[l]];\r\n\t\t\t\tmex = 0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t++cnt[a[r]];\r\n\t\t\t\twhile(cnt[mex]) ++mex;\r\n\t\t\t\tif(mex == k) {\r\n\t\t\t\t\t++ans;\r\n\t\t\t\t\twhile(++l < r) if(a[l] < k) --cnt[a[l]];\r\n\t\t\t\t\t--cnt[a[r]];\r\n\t\t\t\t\tb[r] = k;\r\n\t\t\t\t\tmex = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\twrite(ans, '\\n');\r\n\trep(i, 1, n) write(b[i], \" \\n\"[i==n]);\r\n\treturn 0;\r\n}\r\n```",
        "postTime": 1680696163,
        "uid": 122461,
        "name": "rui_er",
        "ccfLevel": 7,
        "title": "GMOI R2 T2 \u732b\u8033\u5c0f \u5b98\u65b9\u9898\u89e3"
    }
]