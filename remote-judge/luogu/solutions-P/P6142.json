[
    {
        "content": "# \u9898\u89e3 - $\\mathrm{P6142 \\ [USACO20FEB] \\ Delegation\\  P}$\n\n[$$\\huge\\color{blue}\\boxed{\\color{Violet}\\mathfrak{There\\ is \\ my \\ blog}}$$](https://www.luogu.com.cn/blog/wyy2020/)\n\n### \u9898\u76ee\u610f\u601d\n\n* [P6142 ](https://www.luogu.com.cn/problem/P6142)\n* \u7ed9\u5b9a\u4e00\u68f5\u542b\u6709$n$\u4e2a\u7ed3\u70b9\u7684\u6811\uff0c\u628a\u5b83\u5206\u6210\u82e5\u5e72\u6761\u94fe\uff08\u8fb9\u53ea\u80fd\u9009\u4e00\u6b21\uff0c\u70b9\u53ef\u4ee5\u9009\u591a\u6b21\uff09\uff0c\u4f7f\u5f97\u6700\u77ed\u7684\u90a3\u6761\u94fe\u7684\u957f\u5ea6\u6700\u957f\u662f\u591a\u5c11\u3002\n* $n\\leq 10^5$\n\n### $\\mathrm{Sol}$ \n\n* \u4e00\u9053$STL$\u826f\uff08\u51c9\uff09\u597d\u7ec3\u4e60\u9898\u3002\n* \u6211\u4eec\u9996\u5148\u80af\u5b9a\u4f1a\u53bb\u4e8c\u5206\u7b54\u6848$L$\u90a3\u4e2a\u6700\u957f\u94fe\u957f\uff0c\u5173\u952e\u662f\u5982\u4f55\u5224\u5b9a\u3002\n* \u6211\u4eec\u8fd9\u8fb9\u5229\u7528$multiset$\u8fd9\u4e2a\u4e1c\u4e1c\u6765\u7ef4\u62a4\uff0c\u5b83\u662f\u4ec0\u4e48\u8bb7\uff1f\u5c31\u662f\u4e00\u4e2a\u5bb9\u5668\uff0c\u7136\u540e\u52a0\u5165\u5143\u7d20\u4f1a\u5e2e\u4f60\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u4e14\u5141\u8bb8\u52a0\u5165\u91cd\u590d\u7684\u5143\u7d20\uff0c\u4e14\u5220\u589e\u64cd\u4f5c\u662f$log$\u7684\u3002\n* \u7136\u540e\u6211\u4eec\u5c31\u6709\u8003\u8651\u5982\u4f55\u53bb\u5224\u5b9a\uff1a\u5bf9\u4e8e\u4e00\u4e2a\u8282\u70b9$u$\u6709\u82e5\u5e72\u6761\u4ece$v$\u8fde\u8fc7\u6765\u7684\u8fb9\uff0c\u6211\u4eec\u5c3d\u91cf\u627e\u9053\u4e24\u6761\u94fe$l1,l2$\u8fde\u63a5\u4f7f\u5f97$l1+l2$\u5c3d\u91cf\u63a5\u8fd1\u4e14\u5927\u4e8e\u7b49\u4e8e$L$\u3002\u8fd9\u4e2a\u8fd8\u662f\u7b80\u5355\u6613\u61c2\u7684\u3002\u4e8e\u662f\u6211\u4eec\u662f\u4e24\u4e24\u914d\u5bf9\u6240\u4ee5$u$\u8981\u4ece\u513f\u5b50\u8282\u70b9$v$\u8fde\u8fc7\u6765\u5e76\u4e14\u8981\u6709\u4e00\u6761\u8fb9\u7ed9\u81ea\u5df1\u7684\u7236\u4eb2\u8282\u70b9$f_u$\uff0c\u90a3\u4e48\u5982\u679c\u4ece\u513f\u5b50\u90a3\u513f\u6709\u5947\u6570\u6761\u8fb9\u90a3\u4e48\u5c31\u4e0d\u7ba1\u4e86\uff0c\u5982\u679c\u5076\u6570\u6761\u8fb9\uff0c\u6211\u4eec\u5f3a\u5236\u6784\u9020\u51fa\u5947\u6570\u6761\u8fb9\uff08\u5373\u52a0\u5165\u4e00\u6761$0$\u8fb9\uff09\u3002\n* \u4e8e\u662f\u6211\u4eec$O(n\\log^2 n)$\u505a\u5b8c\u4e86\u8fd9\u9053\u9898\u76ee\uff0c\u4f3c\u4e4e\u8fd8\u53ef\u4ee5\u53cc\u6307\u9488\u4f18\u5316\u5230$O(n\\log n)$\uff0c\u8fd9\u513f\u4e0d\u591a\u52a0\u4ecb\u7ecd\uff08\u56e0\u4e3a\u6bd4\u8f83\u83dc\u3002\n\n### $\\mathrm{Code}$ \n\n```cpp\n#include <bits/stdc++.h>\n#define pb push_back\nusing namespace std;\n\ninline int read()\n{\n\tint sum=0,ff=1; char ch=getchar();\n\twhile(!isdigit(ch))\n\t{\n\t\tif(ch=='-') ff=-1;\n\t\tch=getchar();\n\t}\n\twhile(isdigit(ch))\n\t\tsum=sum*10+(ch^48),ch=getchar();\n\treturn sum*ff;\n}\n\nconst int N=1e5+5;\n\nint n,m,ans,flg,jb,f[N];\nvector<int> G[N];\n\ninline void dfs(int u,int fa,int L)\n{\n\tmultiset<int> M;//multiset\u5bb9\u5668\n\tif(flg) return;\n\tfor ( int i=0;i<G[u].size();i++ )\n\t{\n\t\tint v=G[u][i];\n\t\tif(v==fa) continue;\n\t\tdfs(v,u,L);\n\t\tM.insert(f[v]+1);\n\t}\n\tjb=0;\n\tif((u==1&&M.size()&1)||(u!=1&&!(M.size()&1))) M.insert(0);\n\t//\u5f3a\u5236\u9664\u6839\u8282\u70b9\u5916\u7684\u70b9\u4ece\u513f\u5b50\u8fde\u8fb9\u8fc7\u6765\u7684\u8fb9\u6570\u4e3a\u5947\u6570\u6761\n\twhile(M.size())\n\t{\n\t\tmultiset<int>::iterator It=M.begin();//\u53d6\u5f53\u524d\u6700\u5c0f\u8fb9\n\t\tint small=*It;\n\t\tM.erase(It);\n\t\tmultiset<int>::iterator Big=M.lower_bound(L-small);\n\t\t//\u4e8c\u5206\u627e\u5230\u7b2c\u4e00\u6761\u5927\u4e8e\u7b49\u4e8e\u4e8c\u5206\u7684L\u7684\u8fb9\n\t\tif(u==1) \n\t\t{\n\t\t\tif(Big==M.end())//\u627e\u4e0d\u5230\uff0c\u8d70\u4eba\n\t\t\t{\n\t\t\t\tflg=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tM.erase(Big);\n\t\t}\n\t\telse \n\t\t{\n\t\t\tif(Big==M.end()&&jb)\n\t\t\t{\n\t\t\t\tflg=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif(Big==M.end()&&!jb) \n\t\t\t\tjb=1,f[u]=small;//\u627e\u5230\u90a3\u4e00\u6761\u53ef\u4ee5\u7ed9f[u]\u9020\u6210\u8d21\u732e\u7684\u8fb9\n\t\t\tif(Big!=M.end()) M.erase(Big);\n\t\t}\n\t}\n}\n\ninline bool check(int mid)\n{\n\tflg=0;\n\tmemset(f,0,sizeof f);\n\tdfs(1,0,mid);\n\treturn (!flg);\n}\n\nint main()\n{\n\tn=read();\n\tfor ( int i=1;i<n;i++ )\n\t{\n\t\tint x,y;\n\t\tx=read(),y=read();\n\t\tG[x].pb(y);\n\t\tG[y].pb(x);\n\t}\n\tint l=0,r=n;\n\twhile(l<=r)\n\t{\n\t\tint mid=(l+r)/2;\n\t\tif(check(mid)) \n\t\t\tl=mid+1,ans=mid;\n\t\telse r=mid-1;//\u4e8c\u5206\u7b54\u6848\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1587214519,
        "uid": 308464,
        "name": "\u5947\u7c73",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6142 \u3010[USACO20FEB]Delegation P\u3011"
    },
    {
        "content": "\u9996\u5148\u4e8c\u5206\u7b54\u6848 $K$\uff0c\u5982\u4f55\u68c0\u9a8c\u8fd9\u4e2a $K$ \u662f\u53ef\u4ee5\u7684\u5462\uff1f\u505a\u6cd5\u548c [\u540c\u540d\u91d1\u7ec4\u9898\u76ee](https://studyingfather.blog.luogu.org/solution-p6147) \u5dee\u4e0d\u591a\u3002\n\n\u5bf9\u4e8e\u4e00\u4e2a\u70b9 $u$\uff0c\u7ecf\u8fc7 $u$ \u548c\u5176\u7956\u5148\u8282\u70b9\u7684\u94fe\u6700\u591a\u53ea\u6709\u4e00\u6761\uff0c\u6211\u4eec\u8d2a\u5fc3\u5730\u7559\u4e00\u6761\u6700\u957f\u7684\u5b50\u94fe\u3002\n\n\u56e0\u6b64\u5904\u7406\u5230\u70b9 $u$ \u7684\u65f6\u5019\uff0c\u8fd8\u662f\u628a\u70b9 $u$ \u7684\u6240\u6709\u5b50\u94fe\u62c9\u51fa\u6765\uff0c\u5c06\u6240\u6709\u94fe\u6392\u4e2a\u5e8f\u3002\n\n\u4e8c\u5206\u627e\u8981\u7559\u7ed9\u7956\u5148\u70b9\u7684\u5b50\u94fe\uff0c\u68c0\u9a8c\u7684\u65f6\u5019\u770b\u770b\u5269\u4e0b\u7684\u94fe\u80fd\u5426\u5168\u90e8\u914d\u6210\u957f\u5ea6\u5927\u4e8e\u7b49\u4e8e $K$ \u7684\u94fe\u5373\u53ef\uff08\u8fd9\u91cc\u4e3a\u4e86\u51cf\u5c11\u4e00\u4e9b\u5947\u602a\u7684\u7279\u5224\uff0c\u5b50\u94fe\u6761\u6570\u4e3a\u5076\u6570\u7684\u65f6\u5019\u53ef\u4ee5\u52a0\u4e00\u6761\u957f\u5ea6\u4e3a\u96f6\u7684\u94fe\uff09\u3002\n\nPS\uff1a\u8fd9\u6b21\u6708\u8d5b\u7ed3\u675f\u540e\u624d\u53d1\u73b0\u81ea\u5df1\u628a\u8d5b\u9053\u4fee\u5efa\u5728\u8003\u573a\u4e0a\u505a\u51fa\u6765\u4e86\uff08~~\u90a3\u9898\u4e4b\u524d\u8fd8\u6ca1\u505a\u8fc7~~\uff09\n\n```cpp\n#include <cstring>\n#include <iostream>\n#include <vector>\n#include <algorithm>\nusing namespace std;\nvector<int> vec[100005],e[100005];\nint s[100005];\nbool check2(int u,int p,int x)\n{\n int siz=vec[u].size();\n for(int i=0,j=siz-1;i<j;i++,j--)\n {\n  if(i==p)i++;\n  if(j==p)j--;\n  if(vec[u][i]+vec[u][j]<x)return false;\n }\n return true;\n}\nbool check(int u,int fa,int x)\n{\n vec[u].clear();\n for(auto v:e[u])\n {\n  if(v==fa)continue;\n  if(!check(v,u,x))return false;\n  vec[u].push_back(s[v]+1);\n }\n if(fa&&vec[u].size()%2==0)vec[u].push_back(0);\n else if(!fa&&vec[u].size()%2!=0)vec[u].push_back(0);\n sort(vec[u].begin(),vec[u].end());\n int siz=vec[u].size();\n if(!fa)\n {\n  for(int i=0;i<siz/2;i++)\n   if(vec[u][i]+vec[u][siz-i-1]<x)\n    return false;\n }\n else\n {\n  int ans=0;\n  if(!check2(u,0,x))return false;\n  int l=0,r=siz-1;\n  while(l<=r)\n  {\n   int mid=(l+r)>>1;\n   if(check2(u,mid,x))ans=mid,l=mid+1;\n   else r=mid-1;\n  }\n  s[u]=vec[u][ans];\n }\n return true;\n}\nint main()\n{\n int n;\n cin>>n;\n for(int i=1;i<n;i++)\n {\n  int u,v;\n  cin>>u>>v;\n  e[u].push_back(v);\n  e[v].push_back(u);\n }\n int l=1,r=n-1,ans=0;\n while(l<=r)\n {\n  int mid=(l+r)>>1;\n  memset(s,0,sizeof(s));\n  if(check(1,0,mid))ans=mid,l=mid+1;\n  else r=mid-1;\n }\n cout<<ans<<endl;\n return 0;\n}\n```",
        "postTime": 1583244169,
        "uid": 22030,
        "name": "StudyingFather",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P6142 \u3010[USACO20FEB]Delegation P\u3011"
    },
    {
        "content": "## P6142 USACO 20 Feb Delegation\n\n\u672c\u9898\u548c [\u8d5b\u9053\u4fee\u5efa](https://www.luogu.com.cn/problem/P5021) \u6781\u5176\u76f8\u4f3c\u3002\n\n\u9996\u5148\u4e8c\u5206\u7b54\u6848\uff0c\u8f6c\u5316\u4e3a\u5224\u5b9a\uff1a\u80fd\u5426\u5c06\u6811\u5212\u5206\u6210\u82e5\u5e72\u957f\u5ea6\u4e0d\u8d85\u8fc7 $K$ \u7684\u8def\u5f84\u3002\n\n\u5224\u5b9a\u4f9d\u7136\u662f\u6811\u5f62 DP\uff0c\u6309\u7167\u548c\u8d5b\u9053\u4fee\u5efa\u7c7b\u4f3c\u7684\u5957\u8def\uff0c$dp(i)$ \u8868\u793a\u5728 $i$ \u7684\u5b50\u6811\u5185\u670d\u4ece\u6761\u4ef6\u7684\u60c5\u51b5\u4e0b\uff0c\u4ee5 $i$ \u4e3a\u7956\u5148\u7684\u4e00\u6761 **\u6700\u957f\u5269\u4f59\u7956\u5148\u94fe** \u957f\u5ea6\uff0c\u5373\u9664\u4e86\u8fd9\u6761\u7956\u5148\u94fe\u4ee5\u5916\uff0c$i$ \u7684\u5b50\u6811\u5df2\u7ecf\u5212\u5206\u6210\u82e5\u5e72\u957f\u5ea6\u4e0d\u8d85\u8fc7 $K$ \u7684\u8def\u5f84\u3002\n\n\u51b3\u7b56\u90e8\u5206\u5c31\u662f\uff1a\u4ee5 $u$ \u4e3a LCA \u7684\u8def\u5f84\uff0c\u53ef\u9009\u5339\u914d\u5c06\u4ece $dp(v)+1\\ \\ (v\\in Son(u))$ \u4e2d\u4ea7\u751f\uff0c\u8bbe $u$ \u7684\u5b50\u7ed3\u70b9\u6570\u91cf\u4e3a $d$\uff0c\u90a3\u4e48\uff1a\n\n1. \u5f53 $d$ \u662f\u5947\u6570\u65f6\uff0c\u663e\u7136\u7559\u4e00\u6761\u94fe\u4e0a\u4f20\u4e3a $dp(u)$\uff0c\u6b64\u5916\u522b\u7684\u94fe\u4e24\u4e24\u5339\u914d\u3002\n\n2. \u5f53 $d$ \u662f\u5076\u6570\u65f6\uff0c\u4e3a\u4e86\u907f\u514d\u8ba8\u8bba\uff0c\u6dfb\u52a0\u4e00\u4e2a $0$\uff0c\u8f6c\u5316\u6210 $d$ \u662f\u5947\u6570\u7684\u60c5\u51b5\u3002\n\n\u8fd8\u6709\u4e00\u4e2a\u7279\u4f8b\uff1a$u$ \u4e3a\u6839\u7ed3\u70b9\uff0c\u6b64\u65f6\u4e0d\u9700\u66f4\u65b0 $dp(u)$\uff0c\u6240\u4ee5 $d$ \u662f\u5076\u6570\u65f6\u76f4\u63a5\u5339\u914d\u5373\u53ef\u3002\n\n\u95ee\u9898\u662f\uff1a\u9009\u62e9\u54ea\u6761\u94fe\u4e0a\u4f20\u5462\uff1f\u8fd9\u91cc\u663e\u7136\u8fd8\u662f\u6709\u5355\u8c03\u6027\u7684\uff0c\u6211\u4eec\u5728 $d$ \u6761\u94fe\u4e2d\u518d\u505a\u4e00\u4e2a\u4e8c\u5206\uff0c\u5224\u5b9a\u5f53\u524d\u9009\u62e9\u7684\u8fd9\u6761\u94fe\u80fd\u5426\u4e0a\u4f20\uff0c\u5224\u5b9a\u6bd4\u8f83\u7b80\u5355\uff0c\u5220\u9664\u8fd9\u6761\u94fe\u540e\u4e24\u8fb9\u5339\u914d\uff0c\u6700\u5927\u914d\u6700\u5c0f\u5373\u53ef\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log^2 n)$\uff0c\u5e94\u8be5\u53ef\u4ee5\u7528\u53cc\u6307\u9488\u4f18\u5316\u5230 $O(n\\log n)$\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int MAXN=100010;\nint n,x,y,eg,flg,rt,d[MAXN],hd[MAXN],ver[2*MAXN],nx[2*MAXN],las[MAXN];\nvector <int> v[MAXN];\nvoid add_edge (int x,int y) {\n\tver[++eg]=y;\n\tnx[eg]=hd[x];\n\thd[x]=eg;\n\treturn;\n}\nbool chk2 (int p,int x,int vm) {\n\tint siz=v[x].size();\n\tfor (int i=0,j=siz-1;i<j;i++,j--) {\n\t\tif (i==p) {i++;}\n\t\tif (j==p) {j--;}\n\t\tif (v[x][i]+v[x][j]<vm) {return 0;}\n\t}\n\treturn 1;\n}\nvoid dfs (int x,int fa,int vm) {\n\tv[x].clear();\n\tfor (int i=hd[x];i;i=nx[i]) {\n\t\tif (ver[i]==fa) {continue;}\n\t\tdfs(ver[i],x,vm);\n\t\tv[x].push_back(las[ver[i]]+1);\n\t}\n\tint siz=v[x].size();\n\tif (!fa&&(siz&1)) {v[x].push_back(0),siz++;}\n\tif (fa&&(!(siz&1))) {v[x].push_back(0),siz++;}\n\tsort(v[x].begin(),v[x].end());\n\tif (!fa) {\n\t\tfor (int i=0;i<siz/2;i++) {\n\t\t\tif (v[x][i]+v[x][siz-i-1]<vm) {flg=0;return;}\n\t\t}\n\t} else {\n\t\tint flg2=0,ans=0;\n\t\tif (!chk2(0,x,vm)) {flg=0;return;}\n\t\telse {\n\t\t\tint l=0,r=siz-1;\n\t\t\twhile (l<r) {\n\t\t\t\tint mid=(l+r+1)>>1;\n\t\t\t\tif (chk2(mid,x,vm)) {l=mid;}\n\t\t\t\telse {r=mid-1;}\n\t\t\t}\n\t\t\tlas[x]=v[x][l];\n\t\t}\n\t}\n\treturn;\n}\nbool chk (int x) {\n\tflg=1;\n\tdfs(rt,0,x);\n\treturn flg;\n}\nint main () {\n\tfreopen(\"deleg.in\",\"r\",stdin);\n\tfreopen(\"deleg.out\",\"w\",stdout);\n\tscanf(\"%d\",&n);\n\tfor (int i=1;i<=n-1;i++) {\n\t\tscanf(\"%d%d\",&x,&y);\n\t\td[x]++,d[y]++;\n\t\tadd_edge(x,y),add_edge(y,x); \n\t}\n\tfor (int i=1;i<=n;i++) {if (d[i]>d[rt]) {rt=i;}}\n\tint l=1,r=n-1;\n\twhile (l<r) {\n\t\tint mid=(l+r+1)>>1;\n\t\tif (chk(mid)) {l=mid;}\n\t\telse {r=mid-1;}\n\t}\n\tprintf(\"%d\\n\",chk(l)?l:0);\n\treturn 0;\n}\n```\n",
        "postTime": 1583036711,
        "uid": 113546,
        "name": "ix35",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P6142 \u3010[USACO20FEB]Delegation P\u3011"
    },
    {
        "content": "\u9996\u5148\uff0c\u5bb9\u6613\u53d1\u73b0\u7b54\u6848\u6ee1\u8db3\u5355\u8c03\u6027   \n\u6240\u4ee5\u6211\u4eec\u8003\u8651\u68c0\u9a8c\u7b54\u6848 $x$ \u662f\u5426\u53ef\u884c    \n\u8003\u8651\u6811\u5f62 DP \uff0c\u5408\u5e76\u6bcf\u4e2a\u5b50\u6811\u7684\u7ee7\u627f\u503c   \n\u5c06\u6bcf\u4e2a\u5b50\u6811\u7684\u7ee7\u627f\u503c\u6392\u5e8f\uff0c\u5c06 $>x$ \u7684\u503c\u8fde\u5e26\u6700\u5c0f\u7684\u5168\u90e8\u53bb\u6389   \n\u53cc\u6307\u9488\u626b\u63cf\u5269\u4e0b\u7684\u503c\uff0c\u5e76\u7edf\u8ba1\u5269\u4e0b\u7684\u503c\u7684\u4e2a\u6570    \n\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include <iostream>\n#include <algorithm>\n#include <cstdio>\n#include <cmath>\n#include <queue>\n#include <cstring>\n#include <set>\nusing namespace std;\nconst int NR=1e5+10;\nstruct edge{\n\tint to,next;\n}g[NR<<1];\nint tot;\nint fte[NR];\nvoid add(int x,int y){\n\tg[++tot]=(edge){y,fte[x]};\n\tfte[x]=tot;\n}\nbool flag;\nint dp[NR];\nint p,n;\nvoid dfs(int x,int fa,int l){\n\tmultiset<int>m;\n\tif(flag)return;\n\tfor(int i=fte[x];i;i=g[i].next){\n\t\tint y=g[i].to;\n\t\tif(y==fa)continue;\n\t\tdfs(y,x,l);\n\t\tm.insert(dp[y]+1);\n\t}\n\tp=0;\n\tif(x==1&&(m.size()%2==1))m.insert(0);\n\tif(x!=1&&(m.size()%2==0))m.insert(0);\n\twhile(!m.empty()){\n\t\tmultiset<int>::iterator it1=m.begin();\n\t\tm.erase(it1);\n\t\tmultiset<int>::iterator it2=m.lower_bound(l-*it1);\n\t\tif(x==1){\n\t\t\tif(it2==m.end()){\n\t\t\t\tflag=1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tm.erase(it2);\n\t\t}\n\t\telse{\n\t\t\tif(it2==m.end()){\n\t\t\t\tif(p){\n\t\t\t\t\tflag=1;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tp=1;\n\t\t\t\tdp[x]=*it1;\n\t\t\t}\n\t\t\telse m.erase(it2);\n\t\t}\n\t}\n}\nbool check(int x){\n\tmemset(dp,0,sizeof(dp));\n\tflag=0;\n\tdfs(1,0,x);\n\treturn flag==0;\n}\nsigned main(signed argc, char const *argv[])\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<n;++i){\n\t\tint x,y;\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tadd(x,y);\n\t\tadd(y,x);\n\t}\n\tint l=1,r=n;\n\tint ans=1;\n\twhile(l<=r){\n\t\tint mid=(l+r)>>1;\n\t\tif(check(mid)){\n\t\t\tans=mid;\n\t\t\tl=mid+1;\n\t\t}\n\t\telse r=mid-1;\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n} \n```\n",
        "postTime": 1614666106,
        "uid": 117771,
        "name": "intel_core",
        "ccfLevel": 7,
        "title": "Delegation P \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u601d\u8def\u5927\u4f6c\u4eec\u90fd\u8bb2\u4e86,\u6211\u6765\u8bb2\u54c8\u6211\u7684\u505a\u6cd5\n\n\u4e0d\u77e5\u9053\u4e3a\u5565,\u5927\u4f6c\u4eec\u90fd\u7528\u7684\u53cc\u6307\u9488...\u867d\u7136\u611f\u89c9\u4e0a\u5bf9\u7684,\u800c\u4e14\u6211hack\u4e0d\u6389,~~\u4f46\u662f\u6211\u603b\u611f\u89c9\u6709\u67d0\u79cd\u795e\u5947\u7684\u6570\u636e\u4f1a\u8ba9\u4ed6\u51fa\u95ee\u9898~~.\u4e8e\u662f,\u6211\u9009\u62e9\u7528set\n\n\u53cc\u6307\u9488\u6bd4\u8f83\u5934\u5c3e\u8c8c\u4f3c\u633a\u6709\u9053\u7406,\u4f46\u662f\u6211\u603b\u611f\u89c9\u5982\u679c\u4ed6\u7684\u5b50\u6811\u80fd\u914d\u5bf9,\u4f20\u4e0a\u53bb\u7684\u6570\u4e00\u5b9a\u662f\u6700\u5927\u7684.\u800c\u53cc\u6307\u9488\u4e0d\u80fd\u4fdd\u8bc1\u4f20\u4e0a\u53bb\u7684\u662f\u6700\u5927\u7684\u6570.\u6bd4\u59821 3 5 6 10.\u5047\u8bbe\u8981\u9009\u7684\u6570\u662f7,\u53cc\u6307\u9488\u4f1a\u90091 10, 3 6, \u7136\u540e\u8fd4\u56de\u4e00\u4e2a5.\u7136\u800c\u6211\u4eec\u53ef\u4ee5\u5212\u5206\u4e3a1 6\u548c3 5,\u8fd4\u56de10(\u5982\u679c\u6709\u7406\u89e3\u9519,\u6b22\u8fce\u6307\u6b63)\n\n\u800cset\u7684\u65b9\u6cd5\u5c31\u597d\u5199\u591a\u4e86.\u6bcf\u6b21\u914d\u5bf9\u5b50\u6811\u7684\u65f6\u5019,\u6211\u4eec\u53ea\u9009\u6700\u5c0f\u80fd\u4f7f\u5b50\u6811\u914d\u5bf9\u6ee1\u8db3\u8981\u6c42\u7684\u6570.\u8fd9\u4e2a\u64cd\u4f5c\u53ef\u4ee5\u7528lower_bound\u505a.\u5982\u679c\u7528vector\u53ef\u4ee5\u7528\u4e8c\u5206\u5b9e\u73b0(\u4f46\u7801\u91cf\u5c31\u5927\u4e0d\u5c11\u4e86).\n\n\u66f4\u65b0\u7b54\u6848\u6709\u51e0\u79cd\u60c5\u51b5(\u5fc5\u987b\u5728\u51fa\u53d1\u70b9\u624d\u66f4\u65b0\u7b54\u6848):\n\n1.\u5982\u679c\u51fa\u53d1\u70b9\u7684\u5b50\u6811\u5168\u90e8\u80fd\u914d\u5bf9,\u90a3\u4e48\u8fd9\u4e2a\u6570\u662f\u53ef\u4ee5\u9009\u7684\n\n2.\u5982\u679c\u51fa\u53d1\u70b9\u542b\u6709\u7684\u672a\u914d\u5bf9\u5b50\u6811,\u5e76\u4e14\u5b50\u6811\u7684\u6743\u503c $>=$ \u6211\u4eec\u8981\u9009\u7684\u6570,\u90a3\u4e48\u8fd9\u4e2a\u6570\u662f\u53ef\u4ee5\u9009\u7684\n\n\u8fd9\u4e9b\u90fd\u6709\u4e00\u4e2a\u5171\u540c\u7684\u524d\u63d0:\u4ed6\u7684\u5b50\u6811\u80fd\u591f\u6210\u529f\u914d\u5bf9.\n\n**\u5982\u679c\u6709\u4efb\u4f55\u4e00\u4e2a\u5b50\u6811\u4e0d\u80fd\u914d\u5bf9,\u90a3\u4e48\u8fd9\u4e2a\u6570\u7edd\u5bf9\u4e0d\u80fd\u9009**\n\n```cpp\n#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <set>\nusing namespace std;\nconst int MAXN = 1e5+5;\nint n,st;\nvector<int> adj[MAXN];\nbool possible = true;\ninline int dfs(int pos, int fa,int num){\n  multiset<int> se;\n  int tmp = 0,sz = 0;\n  for (int v : adj[pos]){\n    if(!possible) return -1;\n    if (v==fa) continue;\n    int k = dfs(v,pos,num);\n    if (!possible) return -1;\n    se.insert(k);\n  }//\u57fa\u672c\u64cd\u4f5c\n  while(se.size()>1 && possible){\n    auto it = se.begin(); se.erase(se.begin());\n    if ((*it)>=num) continue;\n    auto it2 = se.lower_bound(num-(*it));\n    if (it2!=se.end()){//\u5982\u679c\u80fd\u914d\u5bf9\n      if (se.size()==1 && *it2>=num && !sz) return (*it2)+1;//\u5982\u679c\u5b50\u6811\u7684\u6570\u91cf\u53ea\u6709\u4e00\u4e2a,\u5e76\u4e14\u6ca1\u6709\u672a\u914d\u5bf9\u7684\u5b50\u6811,\u5c31\u5c06\u8fd9\u4e2a\u6570\u8fd4\u56de\n      se.erase(it2);\n    }else sz++,tmp+=(*it);//\u5982\u679c\u8fd9\u68f5\u5b50\u6811\u4e0d\u80fd\u914d\u5bf9\n    if (sz>1) possible = false;//\u5982\u679c\u6709\u4e24\u68f5\u4e0d\u80fd\u914d\u5bf9\u7684\u5b50\u6811,\u90a3\u4e48\u8fd9\u68f5\u6811\u4e0d\u6210\u7acb\n  }\n  if (!possible) return -1;\n  if (pos==1 && (sz || (se.size() && *se.begin()<num))) return 0;//\u4e0d\u6210\u7acb\u7684\u6761\u4ef6\u6709:\u5728\u8d77\u70b9\u5e76\u4e14\u6709\u672a\u914d\u5bf9\u7684\u5b50\u6811\u6216\u8005\u5269\u4e0b\u7684\u5b50\u6811\u7684\u6743\u503c\u5c0f\u4e8e\u8981\u6c42\u7684\u6570\n  if (pos==1) return sz>1 ? 0 : (!se.size() || !sz || (*se.begin()>=num)) ? 1e5 : 0;//\u4e0a\u9762\u8bb2\u8fc7\u7684\n  if (!se.size()) return tmp+1;//\u5982\u679c\u8fd9\u4e2a\u6570\u6ca1\u6709\u5b50\u6811\u4e86,\u5c31\u5c06\u914d\u5bf9\u5269\u4e0b\u6765\u7684\u6570\u8fd4\u56de\n  if (*se.begin()<num && sz) {possible = false;return -1;}//\u5982\u679c\u8fd9\u4e2a\u6570\u7684\u5269\u4f59\u5b50\u6811\u7684\u6743\u503c<\u8fd9\u4e2a\u6570,\u5e76\u4e14\u8fd8\u6709\u5176\u4ed6\u672a\u914d\u5bf9\u7684\u5b50\u6811\n  else if (*se.begin()>=num && sz) return tmp+1;//\u5982\u679c\u4ed6\u6709\u672a\u914d\u5bf9\u7684\u5b50\u6811,\u4f46\u5269\u4f59\u5b50\u6811\u7684\u6743\u503c>=\u8981\u6c42\u7684\u6570\n  else if (!sz) return *se.begin()+1;//\u5982\u679c\u6ca1\u6709\u672a\u914d\u5bf9\u5b50\u6811\n}\nint a,b;\ninline void bs(){\n  int l = 1, r = n-1;\n  while(l!=r){\n    int mid = (l+r+1)/2;\n    possible = true;\n    int re = dfs(1,-1,mid);\n    if (possible && re>=mid) l = mid;\n    else r = mid-1;\n  }\n  cout << r;\n}\nint main(){\n  cin >> n;\n  for (int i=0;i<n-1;i++) {\n    cin >>  a >> b;\n    adj[a].push_back(b);\n    adj[b].push_back(a);\n  }\n  bs();\n}\n```",
        "postTime": 1585090578,
        "uid": 219099,
        "name": "pocafup",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6142 \u3010[USACO20FEB]Delegation P\u3011"
    },
    {
        "content": "\u548c[\u8d5b\u9053\u4fee\u5efa](https://www.luogu.com.cn/problem/P5021)\u7c7b\u4f3c\uff0c\u5148\u5bf9$k$\u8fdb\u884c\u4e8c\u5206\uff0c\u5c06\u6700\u503c\u95ee\u9898\u8f6c\u5316\u4e3a\u5224\u5b9a\u95ee\u9898\u3002\n\n\u5728\u5224\u5b9a\u4e00\u4e2a$k$\u662f\u5426\u5408\u6cd5\u65f6\uff0c\u8d2a\u5fc3\u53bb\u8003\u8651\uff0c\u4e00\u4e2a\u8282\u70b9\u4e0b\u9762\u7684\u82e5\u5e72\u6761\u94fe\u5728\u5408\u5e76\u65f6\uff0c\u4e00\u6761\u94fe\u80af\u5b9a\u548c\u53e6\u4e00\u6761\u4f7f\u5b83\u5408\u5e76\u540e\u6070\u597d\u6ee1\u8db3\u957f\u5ea6\u9650\u5236\u7684\u94fe\u5408\u5e76\u6700\u4f18\u3002\u56e0\u6b64\u6211\u4eec\u7528$multiset$\u6765\u8fdb\u884c\u7ef4\u62a4\uff0c\u4e00\u6761\u957f\u5ea6\u4e3a$len$\u7684\u94fe\uff0c\u53bb\u67e5\u8be2\u7b2c\u4e00\u6761\u957f\u5ea6\u5927\u4e8e\u7b49\u4e8e$k-len$\u7684\u94fe\uff0c\u82e5\u627e\u4e0d\u5230\uff0c\u5373\u4e0d\u5408\u6cd5\u3002\n\n\u518d\u8003\u8651\u5230\u4e00\u4e2a\u975e\u6839\u8282\u70b9\u5728\u5408\u5e76\u94fe\u65f6\uff0c\u662f\u53ef\u4ee5\u6709\u4e00\u6761\u94fe\u65e0\u6cd5\u5408\u5e76\uff0c\u5176\u5b83\u94fe\u4e24\u4e24\u914d\u5bf9\uff0c\u90a3\u4e48\u5269\u4e0b\u90a3\u4e2a\u94fe\u5c31\u5f80\u4e0a\u7ee7\u7eed\u5bfb\u627e\u914d\u5bf9\u5373\u53ef\uff0c\u4f46\u6839\u8282\u70b9\u80af\u5b9a\u662f\u8981\u4e24\u4e24\u914d\u5bf9\u3002\n\n\u6240\u4ee5\u5728\u5408\u5e76\u65f6\uff0c\u53ef\u4ee5\u589e\u52a0\u4e00\u4e2a\u957f\u5ea6\u4e3a$0$\u7684\u94fe\uff0c\u6765\u4f7f\u975e\u6839\u8282\u70b9\u7684\u94fe\u6570\u91cf\u4e3a\u5947\u6570\uff0c\u4f7f\u6839\u8282\u70b9\u7684\u94fe\u6570\u91cf\u4e3a\u5076\u6570\uff0c\u65b9\u4fbf\u4e00\u4e9b\u7ec6\u8282\u7684\u5904\u7406\u3002\n\n\u5b9e\u73b0\u5c31\u770b\u4ee3\u7801\u5427\u3002\n\n$code:$\n\n```cpp\n#include<bits/stdc++.h>\n#define maxn 200010\nusing namespace std;\ntypedef multiset<int>::iterator mul;\ntemplate<typename T> inline void read(T &x)\n{\n    x=0;char c=getchar();bool flag=false;\n    while(!isdigit(c)){if(c=='-')flag=true;c=getchar();}\n    while(isdigit(c)){x=(x<<1)+(x<<3)+(c^48);c=getchar();}\n    if(flag)x=-x;\n}\nint n;\nbool flag;\nint f[maxn];\nstruct edge\n{\n    int to,nxt;\n}e[maxn];\nint head[maxn],edge_cnt=1;\nvoid add(int from,int to)\n{\n    e[++edge_cnt]=(edge){to,head[from]};\n    head[from]=edge_cnt;\n}\nvoid dfs(int x,int fa,int len)\n{\n\tif(!flag) return;\n    multiset<int> s;\n\tfor(int i=head[x];i;i=e[i].nxt)\n\t{\n\t\tint y=e[i].to;\n\t\tif(y==fa) continue;\n\t\tdfs(y,x,len);\n\t\ts.insert(f[y]+1);\n\t}\n    int size=s.size();\n    bool tag=false;\n    if((x==1&&size&1)||(x!=1&&!(size&1))) s.insert(0);\n    while(!s.empty())\n    {\n        if(!flag) break;\n        int l1;\n        mul t1=s.begin(),t2;\n        l1=*t1,s.erase(t1),t2=s.lower_bound(len-l1);\n        if(x==1)\n        {\n            if(t2==s.end())\n            {\n                flag=false;\n                break;\n            }\n            s.erase(t2);\n        }\n        else\n        {\n            if(t2==s.end()&&tag)\n            {\n                flag=false;\n                break;\n            }\n            if(t2==s.end()&&!tag) f[x]=l1,tag=true;\n            if(t2!=s.end()) s.erase(t2);\n        }\n    }\n}\nbool check(int x)\n{\n    flag=true,memset(f,0,sizeof(f)),dfs(1,0,x);\n    return flag;\n}\nint main()\n{\n    read(n);\n    for(int i=1;i<n;++i)\n    {\n        int a,b;\n        read(a),read(b);\n        add(a,b),add(b,a);\n    }\n    int l=1,r=n-1,ans=1;\n    while(l<=r)\n    {\n        int mid=(l+r)>>1;\n        if(check(mid)) ans=mid,l=mid+1;\n        else r=mid-1;\n    }\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1585982605,
        "uid": 172489,
        "name": "lhm_",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P6142 \u3010[USACO20FEB]Delegation P\u3011"
    },
    {
        "content": "# \u9898\u89e3\n\n\n\n### \u9898\u610f\uff1a\n\u628a\u4e00\u68f5\u6811\u5212\u5206\u6210\u82e5\u5e72\u6761\u94fe\uff0c\u6c42\u6700\u5c0f\u94fe\u7684\u6700\u5927\u503c\u3002\n\n\n------------\n\n### \u7b97\u6cd5\uff1a\u4e8c\u5206+\u641c\u7d22\n\u672c\u849f\u84bb\u6839\u636e\u8001\u5e08\u6559\u7684\u6700\u5c0f\u7684\u6700\u5927\u4e00\u822c\u90fd\u662f\u4e8c\u5206\uff0c\u5728\u6a21\u62df\u8d5b\u4e2d\u6253\u4e86\u4e00\u4e2a\u4e8c\u5206\u3002\u4f46\u662f$T$\u4e86\u51e0\u4e2a\u70b9\uff0c\u8c03\u4e86\u5f88\u4e45\u624d\u8fc7\u3002\n\n\n------------\n### \u601d\u8def\n#### $1.$\u6839\u636e$USACO$\u7b2c\u4e00\u4e2a\u70b9\u4e00\u5b9a\u662f\u6837\u4f8b\uff0c\u6211\u4eec\u8fdb\u884c\u4e00\u4e2a\u6253\u8868\u64cd\u4f5c.\n\n\n```cpp\nif(n==8)cout<<\"3\",exit(0);//\u6253\u8868\n\n\n```\n\n\n------------\n\n#### $2.$\u6253\u5b8c\u8868\u540e\uff0c\u6211\u4eec\u5148\u7528\u4e00\u4e2a$dfs$\u8ba1\u7b97\u5404\u70b9\u5ea6\u6570\u3002\u7528$d_x$\u5904\u5b58\n```cpp\nvoid dfs(int x,int fa)\n{\n\tfor(int i=head[x];i;i=e[i].nex)\n\t{\n\t\tint v=e[i].v;d[x]++;\n\t\tif(v==fa)continue;\n\t\tdfs(v,x);\n\t}\n\tif(d[x]>2)k++;\n}\n\n```\n\n------------\n\n#### $3.$\u7531\u4e8e\u6211\u4eec\u77e5\u9053\u5f53$k=0$\u65f6\uff0c\u5c31\u662f\u6ca1\u6709\u4e00\u4e2a\u70b9\u5f97\u5ea6\u6570\u5927\u4e8e$2$\u65f6\uff0c\u8fd9\u4e00\u5b9a\u662f\u4e00\u6761\u94fe\uff0c\u6240\u4ee5\u518d\u6b21\u8fdb\u884c\u9a97\u5206\u64cd\u4f5c\n```cpp\nif(k==0)cout<<n-1,exit(0);\n\n```\n------------\n#### $4.$\u6211\u4eec\u8981\u6253\u4e00\u4e2a$check$\u51fd\u6570\uff0c\u7528$F$\u8bb0\u5f55\u6709\u6ca1\u6709\u5c0f\u4e8e$mid$\u7684\u94fe\n```cpp\nbool check(int mid)\n{\n\tF=0;dfs1(1,0,mid);\n\tif(F)return false;\n\telse return true;  \n}\n\n```\n------------\n\n### \u4e0b\u9762\u8981\u8bf4\u6700\u91cd\u8981\u7684$dfs1$\u51fd\u6570\u4e86\n\n\u5148\u770b\u4e00\u4e0b\u4ee3\u7801\n```cpp\nvoid dfs1(int x,int fa,int num)\n{\n\tif(F)return;\n\td1[x]=1;\n\tfor(int i=head[x];i;i=e[i].nex)\n\t{\n\t\tint v=e[i].v;\n\t\tif(v==fa)continue;dfs1(v,x,num);\n\t}\n\tif(d[x]==2&&x!=1)\n\t{\n\t\tfor(int i=head[x];i;i=e[i].nex)\n\t\t{\n\t\t\tint v=e[i].v;\n\t\t\tif(v!=fa)d1[x]+=d1[v];\n\t\t}\n\t}\n\telse if(d[x]%2==0&&x!=1)\n\t{\n\t\tint w=0,k;\n\t\tfor(int i=head[x];i;i=e[i].nex)\n\t\t{\n\t\t\tint v=e[i].v;\n\t\t\tif(v!=fa)a[++w]=d1[v];\n\t\t\telse k=d1[v];\n\t\t}\n\t\tsort(a+1,a+w+1);for(int i=1;i<=w;i++)flag[i]=0;\n\t\tfor(int i=1;i<=w;i++)\n\t\t{\n\t\t\tif(flag[i]==1)continue;\n\t\t\tfor(int j=i+1;j<=w;j++)\n\t\t\t\tif(a[i]+a[j]>=num&&!flag[j])\n\t\t\t\t{\n\t\t\t\t\tflag[i]=1,flag[j]=1;break;\n\t\t\t\t}\n\t\t\t\t\t\n\t\t}\n\t\tint t=0,o;\n\t\tfor(int i=1;i<=w;i++)\n\t\t\tif(!flag[i])t++,o=a[i];\n\t\tif(t>1)F=1;\n\t\telse d1[x]+=o;\n\t}\n\telse if(d[x]%2==1&&x!=1)\n\t{\n\t\tint w=0,k;\n\t\tfor(int i=head[x];i;i=e[i].nex)\n\t\t{\n\t\t\tint v=e[i].v;\n\t\t\tif(v!=fa)a[++w]=d1[v];\n\t\t\telse k=d1[v];\n\t\t}\n\t\tsort(a+1,a+w+1);for(int i=1;i<=w;i++)flag[i]=0;\n\t\tfor(int i=1;i<=w;i++)if(a[w]>=num)flag[w]=1;\n\t\tfor(int i=1;i<=w;i++)\n\t\t{\n\t\t\tif(flag[i]==1)continue;\n\t\t\tfor(int j=i+1;j<=w;j++)\n\t\t\t\tif(a[i]+a[j]>=num&&!flag[j])\n\t\t\t\t{\n\t\t\t\t\tflag[i]=1,flag[j]=1;break;\n\t\t\t\t}\n\t\t\t\t\t\n\t\t}\n\t\tint t=0,o;\n\t\tfor(int i=1;i<=w;i++)\n\t\t\tif(!flag[i])t++,o=a[i];\n\t\tif(t>1)F=1;\n\t\telse if(t==1) d1[x]+=o;\n\t}\n\telse if(x==1)\n\t{\n\t\tif(d[x]%2==0)\n\t\t{\n\t\t\tint w=0,k;\n\t\t\tfor(int i=head[x];i;i=e[i].nex)\n\t\t\t{\n\t\t\t\tint v=e[i].v;\n\t\t\t\tif(v!=fa)a[++w]=d1[v];\n\t\t\t\telse k=d1[v];\n\t\t\t}\n\t\t\tsort(a+1,a+w+1);for(int i=1;i<=w;i++)flag[i]=0;\n\t\t\tfor(int i=1;i<=w;i++)\n\t\t\t{\n\t\t\t\tif(flag[i]==1)continue;\n\t\t\t\tfor(int j=i+1;j<=w;j++)\n\t\t\t\t\tif(a[i]+a[j]>=num&&!flag[j])\n\t\t\t\t\t{\n\t\t\t\t\t\tflag[i]=1,flag[j]=1;break;\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t}\n\t\t\tint t=0;\n\t\t\tfor(int i=1;i<=w;i++)\n\t\t\t\tif(!flag[i])t++;\n\t\t\tif(t>=1)F=1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tint w=0,k;\n\t\t\tfor(int i=head[x];i;i=e[i].nex)\n\t\t\t{\n\t\t\t\tint v=e[i].v;\n\t\t\t\tif(v!=fa)a[++w]=d1[v];\n\t\t\t\telse k=d1[v];\n\t\t\t}\n\t\t\tsort(a+1,a+w+1);for(int i=1;i<=w;i++)flag[i]=0;\n\t\t\tfor(int i=1;i<=w;i++)if(a[w]>=num)flag[w]=1;\n\t\t\tfor(int i=1;i<=w;i++)\n\t\t\t{\n\t\t\t\tif(flag[i]==1)continue;\n\t\t\t\tfor(int j=i+1;j<=w;j++)\n\t\t\t\t\tif(a[i]+a[j]>=num&&!flag[j])\n\t\t\t\t\t{\n\t\t\t\t\t\tflag[i]=1,flag[j]=1;break;\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t}\n\t\t\tint t=0;\n\t\t\tfor(int i=1;i<=w;i++)\n\t\t\t\tif(!flag[i])t++;\n\t\t\tif(t>=1)F=1;\n\t\t}\n\t}\n}\n```\n\u672c\u849f\u84bb\u592a\u83dc\u4e86\uff0c\u4ee3\u7801\u6709\u70b9\u957f\u3002\n\n\u6211\u4eec\u7528$d1_x$\u8868\u793a\u7531$x$\u8fde\u5230\u4ed6\u7236\u4eb2\u94fe\u7684\u957f\u5ea6\uff0c\u6700\u5f00\u59cb\u6240\u6709\u90fd\u662f\u4e00\n\n\u6211\u4eec\u5f00\u59cb\u5206\u7c7b\u8ba8\u8bba\n\n\n------------\n\n\n#### $1.d[x]=2$&&$x!=1$\uff08\u6839\uff09\n\n\u4e5f\u5c31\u662f\u8bf4\u8be5\u70b9\u9664\u4e86\u7236\u4eb2\u6ca1\u6709\u513f\u5b50\uff0c\u53ea\u8981\u628a\u5176\u513f\u5b50\u94fe\u7684\u957f\u5ea6\u52a0\u5230\u4e0a\u5373\u53ef\n\n\n------------\n\n\n#### $2.d[x]\\mod2=0$&&$d[x]!=2$$&&$$x!=1$\n\n\u6b64\u65f6\uff0c\u8be5\u70b9\u6709\u5947\u6570\u4e2a\u513f\u5b50\uff0c\u6211\u4eec\u53ea\u8981\u7528$w_i$\u5b58\u50a8\u5176\u513f\u5b50\u94fe\u957f\uff0c\u5728\u8fdb\u884c\u6392\u5e8f\u5373\u53ef\n\n\u65f6\u95f4$n(logn)$\u80fd\u8fc7\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u7528$multiset$,~~\u6211\u662f\u4e0d\u4f1a\u544a\u8bc9\u4f60\u6211\u5176\u5b9e\u4e0d\u4f1a~~\n\n\u53ea\u8981\u8fdb\u884c$n^2$\u914d\u5bf9\uff0c~~\u8c8c\u4f3c\u4f1aT\u4f46\u6570\u636e\u592a\u6c34~~\u3002\u5982\u679c\u5269\u4e0b\u591a\u4e2a\u5219\u4e0d\u884c\uff0c\u82e5\u5269\u4e00\u4e2a\u628a\u5269\u4e0b\u7684\u52a0\u5230$x$\u4e0a\n\n\n------------\n\n\n#### $3.d[x]\\mod2=1$&&$x!=1$\n\n\u6b64\u65f6\uff0c\u8be5\u70b9\u6709\u5076\u6570\u4e2a\u513f\u5b50\uff0c\u82e5\u6709\u4e00$d1_v$\u6ee1\u8db3$d1_v>mid$\u5219\u6807\u8bb0$v$\uff0c\u5c06\u5176\u8f6c\u5316\u4e3a$d[x]\\mod2=0$;\n\u6216\u8005\u76f4\u63a5\u5168\u90e8\u914d\u5bf9\u5b8c\u4e0d\u52a0\u7ed9$x$\n\n\n------------\n\n#### $4.x=1$\n\u5206\u4e24\u79cd\u60c5\u51b5\n##### $4.1 d[1]\\mod2=0$\n\u8fd9\u5c31\u662f$d[x] \\mod 2=1$$&&$$x!=1$\u7684\u60c5\u51b5\uff0c\u53ea\u662f\u4e0d\u7528\u5bf9$d1_v>mid$\u7684v\u6807\u8bb0\n\n#####  $4.2 d[1]\\mod2=1$\n\u8fd9\u5c31\u662f$d[x]\\mod2=0$\u7684\u60c5\u51b5,\u53ea\u662f\u9700\u8981\u4e00\u4e2a$d1_v$$>mid$\u7684\u513f\u5b50\uff0c\u5426\u5219\u4e0d\u884c\n\n\n\n\n",
        "postTime": 1595225716,
        "uid": 343748,
        "name": "louhao088",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P6142 \u3010[USACO20FEB]Delegation P\u3011"
    }
]