[
    {
        "content": "\u8fd9\u9053\u9898\u5176\u5b9e\u53ef\u4ee5~~\u627e\u89c4\u5f8b~~\u7528\u52a8\u6001\u89c4\u5212\u6765\u505a\u54d2\uff01\n\n\u6211\u4eec\u4ee5\u6837\u4f8b\u4e3a\u57fa\u7840\uff0c\u770b\u770b\u89c4\u5f8b\u5427\uff01\n\n| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 |\n| :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: |\n| 3^0 | 3^1 | 3^0+3^1 | 3^2 | 3^0+3^2 | 3^1+3^2 | 3^0+3^1+3^2 | 3^3 | 3^0+3^3 | 3^1+3^3 | 3^0+3^1+3^3 | 3^2+3^3 | 3^0+3^2+3^3 | 3^1+3^2+3^3 | 3^0+3^1+3^2+3^3 | 3^4 |\n\n\n\n\u76f8\u4fe1\u4e00\u5b9a\u6709\u51b0\u96ea\u806a\u660e\u7684\u5b69\u7eb8\u53d1\u73b0\u4e86\u89c4\u5f8b\uff0c\u6211\u4eec\u518d\u7528\u5df2\u77e5\u7f16\u53f7\uff08<=\u5f53\u524d\u7f16\u53f7\uff09\u586b\u4e00\u4e2a\u8868\uff0c~~\u6211\u76f8\u4fe1~~\u4f60\u4e00\u5b9a\u4f1a\u53d1\u73b0\u5176\u4e2d\u7684\u5965\u5999\u6ef4\uff01\n\n\n| 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 | 16 |\n| :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: | :------------: |\n| 1 | 2 |  1+2  | 4 | 1+4 | 2+4 | 3+4 | 8 | 1+8 | 2+8 | 3+8 | 4+8 | 5+8 | 6+8 | 7+8 | 16 |\n\n\n\u53d1\u73b0\u89c4\u5f8b\u4e86\u5427\uff01\n\n\u5355\u4e2a\u7f16\u53f7\uff08\u65e0+\uff09\u7684\u90fd\u662f2^n\u6b21\u65b9\uff0c\u7136\u540e\u5c31\u53c8\u5f00\u59cb\u4e86\u4e00\u4e2a\u65b0\u8f6e\u56de\u3002\n\n\u6211\u4eec\u8bbe\u5f53\u524d\u7f16\u53f7\u4e3ai\uff082^n<i<2^n+1\uff09,\u5f53\u524d\u7684\u6570\u4e3aa[i]\u3002\n\n\u90a3\u4e48a[i]=a[n]+a[i%n]\n(\u6216a[i]=a[n]+a[i-n] )\n\n\u627e\u5230\u89c4\u5f8b\u5c31\u5f88\u597d\u529e\u4e86\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u5404\u4f4d\u5b69\u7eb8\u4eec\u6700\u7231\u7684---\u4ee3\u7801\u4e0a\u573a\u4e86\uff01\uff01\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\nusing namespace std;\nint k,p;\nlong long a[10000]={0};\nlong long pow(int a,int b)//\u5feb\u901f\u5e42\uff08\u6bd5\u7adf\u662f\u7b97\u5e42\uff09 \n{\n    long long re=1,base=a;\n    while(b)\n    {\n        if(b&1)re=re*base;\n        base=base*base;\n        b>>=1;\n    }\n    return re;\n}\nint log2(int x)//\u9ad8\u4e2d\u5b69\u7eb8\u90fd\u77e5\u9053\u7684\uff08log2x=i\u5c31\u662f 2^i=x\uff09 \n{\n    int i,s=1;\n    for(i=1;i<=x;i++)\n    {\n        s=s*2;\n        if(s==x)break;\n    }\n    return i;\n}\nint main()\n{\n    int n=0,i,c;\n    scanf(\"%d%d\",&k,&p);\n\ta[1]=1;//\u521d\u59cb\u5316 \n    for(i=2;i<=p;i=i*2)//\u9884\u5904\u7406\uff0c\u628a\u6bcf\u4e2a\u5355\u72ec\u7684\u7f16\u53f7\uff082^i)\u7b97\u51fa\u6765 \n    {\n        c=log2(i);\n        a[i]=pow(k,c);\n    }\n    for(i=2;i<=p;i++)\n    {\n        if(a[i]!=0)//\u5982\u679c\u4e0d\u4e3a0\uff0c\u4e00\u5b9a\u5f00\u59cb\u4e86\u4e00\u4e2a\u65b0\u8f6e\u56de \n        {\n            n=i;\n            continue;\n        }\n        a[i]=a[i%n]+a[n];//\u52a8\u6001\u89c4\u5212\u65b9\u7a0b\u5f0f\u642c\u51fa\u6765\n    } \n    printf(\"%lld\",a[p]);\n    return 0; \n}\n```\n\n\u5f53\u7136\uff0c\u770b\u8fd9\u6570\u636e\u89c4\u6a21\u4e00\u5b9a\u662f\u8981\u7528\u9ad8\u7cbe\u5ea6\u7684\u6ef4\uff01\n\n\u6240\u4ee5\u52b3\u70e6\u5404\u4f4d\u6253\u4e2a\u9ad8\u7cbe\u5ea6\u3002\n\n\u7136\u540e\u4fbf\u53ef\u4ee5\u770b\u89c1\u4e00\u7247\u7eff\u8272\uff0c\u518d\u52a0\u4e00\u6735\u5927\u7ea2\u82b1\u3002\n\n\u849f\u84bb\u7b2c\u4e00\u6b21\u5199\u9898\u89e3\u00b7\u00b7\u00b7\n\n\u82e5\u6709\u4e0d\u61c2\u6216\u6709\u95ee\u9898\uff0c\u5c3d\u60c5\u6307\u6b63\uff0c\u849f\u84bb\u613f\u6d17\u8033\u606d\u542c \u5927\u4f6c\u4eec\u7684\u6307\u6b63\u3002",
        "postTime": 1548930833,
        "uid": 99959,
        "name": "\u516b\u91cd\u6a31\u98de",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2558 \u3010[AHOI2002]\u7f51\u7edc\u4f20\u8f93\u3011"
    },
    {
        "content": "## python\u79d2A\uff0c\u53d1\u7bc7\u9898\u89e3\u5e86\u795d\u4e00\u4e0b\n\u5176\u5b9e\u4e0dnan\uff0c\u7b80\u5355\u5927\u529b\u9012\u63a8\u5373\u53ef\uff0c\u4f46\u8981\u5199\u9ad8\u7cbe\u5c31\u5f88\u6c14\uff0c\u4e8e\u662f\u679c\u65adpy\n```python\na,b=map(int,input().split())\nf=[]\nlast=1\nnow=0\nnum=0\nwhile 1:\n    f.append(last)\n    num+=1\n    now=num\n    last*=a\n    for i in range(0,now-1):\n        f.append(f[now-1]+f[i])\n        num+=1\n    if num>=b:\n        print(f[b-1])\n        break\n```\n",
        "postTime": 1535114828,
        "uid": 53241,
        "name": "partychicken",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2558 \u3010[AHOI2002]\u7f51\u7edc\u4f20\u8f93\u3011"
    },
    {
        "content": "\u5206\u6790\u9898\u76ee\u540e\u53ef\u4ee5\u5f97\u77e5\uff0c\u5c06 **p** \u5206\u89e3\u6210\u4e8c\u8fdb\u5236\u540e\u5982\u679c\u7b2c **i** \u4f4d\u662f1\u7b54\u6848\u5c31\u52a0 **k**\u7684 **i-1** \u6b21\u65b9\uff0c\u4e8e\u662f\u76f4\u63a5\u7528\u4e24\u4e2a\u6570\u7ec4\u6a21\u62df\u5c31\u884c\u4e86\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include <cstdio>\nusing namespace std;\n\nint k,p,ans[60]={0},x[60]={0,1};\n\nint main(){\n    scanf(\"%d %d\",&k,&p);\n    while(p){\n        if(p&1){\n            for(int i=1;i<=50;i++) ans[i]+=x[i];\n            for(int i=1;i<=49;i++) ans[i+1]+=ans[i]/10,ans[i]=ans[i]%10;\n        }\n        for(int i=1;i<=50;i++) x[i]*=k;\n        for(int i=1;i<=49;i++) x[i+1]+=x[i]/10,x[i]=x[i]%10;\n        p=p>>1;\n    }\n    for(int i=50,t=0;i>=1;i--) {if(ans[i]) t=1; if(t) printf(\"%d\",ans[i]);}\n    return 0;\n}\n\n```",
        "postTime": 1536849214,
        "uid": 100037,
        "name": "kkxhh",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2558 \u3010[AHOI2002]\u7f51\u7edc\u4f20\u8f93\u3011"
    },
    {
        "content": "\u672c\u6587\u540c\u6b65\u66f4\u65b0\u4e8e[\u535a\u5ba2\u56ed](https://www.cnblogs.com/Gingerhe/p/15924894.html)\n# \u9898\u76ee\u63cf\u8ff0\n\u6c42\u7531\u591a\u4e2a\u4e92\u4e0d\u76f8\u7b49\u7684 $k$ \u7684\u65b9\u5e42\u4e4b\u548c\u6784\u6210\u7684\u7b2c $p$ \u5c0f\u7684\u6570\u3002\n# \u9898\u89e3\n\u56e0\u4e3a\u9898\u76ee\u8981\u6c42\u9009\u62e9\u4e92\u4e0d\u76f8\u7b49\u7684 $k$ \u7684\u65b9\u5e42\u4e4b\u548c\uff0c\u6240\u4ee5\u6bcf\u79cd\u65b9\u5e42\u53ea\u6709\u9009\u6216\u4e0d\u9009\u4e24\u79cd\u60c5\u51b5\u3002\u6211\u4eec\u7528 $a_i$ \u8868\u793a\u662f\u5426\u9009 $k^i$\uff0c\u5219 $\\sum 2^{a_i}=p$\u3002\u56e0\u6b64\u6211\u4eec\u5728\u4e8c\u8fdb\u5236\u4e0b\u679a\u4e3e $p$ \u7684\u6bcf\u4e00\u4f4d\u5373\u53ef\uff0c\u8bb0\u5f97\u7528 `__int128` \u6216 `\u9ad8\u7cbe\u5ea6`\u3002\n## Code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define int __int128\ninline int read()\n{\n    int x=0,f=1;\n    char ch=getchar();\n    while(ch<'0'||ch>'9')\n\t{\n        if(ch=='-')\n            f=-1;\n        ch=getchar();\n    }\n    while(ch>='0'&&ch<='9')\n\t{\n        x=(x<<1)+(x<<3)+(ch^48);\n        ch=getchar();\n    }\n    return x*f;\n}\nvoid write(int x)\n{\n\tif(x<0)\n\t{\n\t\tputchar('-');\n\t\tx=-x;\n\t}\n\tif(x>9)\n\t\twrite(x/10);\n\tputchar(x%10+'0');\n}\nint k,p,res,ans;\nsigned main()\n{\n\tk=read(),p=read();\n\tfor(int i=0;i<=11;i++)\n\t{\n\t\tif(!i) res=1;\n\t\telse res*=k;\n\t\tif(p&(1<<i))\n\t\t\tans+=res;\n\t}\n\twrite(ans);\n\treturn 0;\n}\n```",
        "postTime": 1645533684,
        "uid": 379058,
        "name": "Ginger_he",
        "ccfLevel": 0,
        "title": "\u6d1b\u8c37P2558\u9898\u89e3"
    },
    {
        "content": "## [\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c\u70b9\u8fd9\u91cc](https://www.cnblogs.com/tlx-blog/p/12709407.html)\n\u9898\u76ee\u94fe\u63a5\uff1a[P2558 [AHOI2002]\u7f51\u7edc\u4f20\u8f93](https://www.luogu.com.cn/problem/P2558)   \n$dp$ \u5165\u95e8\u9898\uff0c\u7ed3\u679c\u8c03\u4e86\u4e00\u665a\u4e0a\uff0c\u67af\u4e86\u3002   \n\u5f88\u663e\u7136 $x^{n+1}>\\sum\\limits_{i=0}^n x^n$\uff0c\u90a3\u4e48\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e2a\u6b21\u65b9\u6570\uff0c\u52a0\u4e0a\u4ed6\u524d\u9762\u7684\u4efb\u610f\u6570\u7684\u7ec4\u5408\u4e00\u5b9a\u5c0f\u4e8e\u4e0b\u4e00\u4e2a\u6b21\u65b9\u6570\u3002  \n\u5bb9\u6613\u5f97\u5230\uff1a\n$$f_{i}=f_{2^{\\left\\lfloor\\log_{2}i\\right\\rfloor}}+f_{i-2^{\\left\\lfloor\\log_{2}i\\right\\rfloor}}$$   \n\u53ef\u4ee5\u9012\u63a8\u5b9e\u73b0\u3002   \n\u7136\u800c\u6211\u4eec\u53d1\u73b0\u6700\u540e\u7684\u7ed3\u679c\u5c0f\u4e8e $2^{50}$ \uff0c\u9ad8\u7cbe\u597d\u9ebb\u70e6\u554a\uff01  \n\u9274\u4e8e $50$ \u6bd4\u8f83\u5c0f\uff0c\u6211\u4eec\u5c1d\u8bd5\u538b\u4f4d\u3002  \n\u628a\u4e00\u4e2a\u6570\u5b9a\u4e49\u6210\u7ed3\u6784\u4f53\u5f62\u5f0f\uff1a\n```\nstruct num\n{\n\tll a,b,c,d;\n};\n```   \n\u8003\u8651\u5230  $\\left\\lceil\\dfrac{50}{4}\\right\\rceil=13$ \u5728`long long`\u8303\u56f4\u5b8c\u5168\u53ef\u4ee5\u63a5\u53d7\uff0c\u4e8e\u662f\u628a\u4e00\u4e2a\u6570\u5206\u6210\u56db\u5757\u3002  \n\u7136\u540e\u5b9a\u4e49\u8fd0\u7b97\u5c31\u597d\u4e86\uff1a  \n\u52a0\u6cd5\uff1a\n```\nnum add(num x,num y)\n{\n\tnum z;\n\tz.a=z.b=z.c=0;\n\tz.a=y.a+x.a;\n\tz.b=y.b+x.b;\n\tz.c=y.c+x.c;\n\tz.d=y.d+x.d;\n\treturn arrg(z);\n}\n```  \n\u8fd9\u91cc\u7684`arrg`\u51fd\u6570\u662f\u628a\u4e0d\u7b26\u5408\u4e00\u5757\u5185\u6700\u591a $13$ \u4f4d\u7684\u6570\u6574\u7406\u6210\u7b26\u5408\u6761\u4ef6\u7684\u6570\u3002  \n\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a\n```\n#define MOD 10000000000000\nnum arrg(num x)\n{\n\tnum z=x;\n\tif(z.a>=MOD) z.b+=z.a/MOD,z.a%=MOD;\n\tif(z.b>=MOD) z.c+=z.b/MOD,z.b%=MOD;\n\tif(z.c>=MOD) z.d+=z.c/MOD,z.c%=MOD;\n\treturn z;\n}\n```  \n\u7136\u540e\u8fd8\u6709\u666e\u901a\u6570\u4e58\u5206\u5757\u6570\uff1a\n```\nnum mul(num x,ll k)\n{\n\tnum z;\n\tz.a=z.b=z.c=0;\n\tz.a=x.a*k;\n\tz.b=x.b*k;\n\tz.c=x.c*k;\n\tz.d=x.d*k;\n\treturn arrg(z);\n}\n```\n\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u51cf\u5c11\u4e86\u539f\u8981\u5199\u9ad8\u7cbe\u7684\u7801\u91cf\uff08~~bushi,\u8f93\u51fa\u6253\u7684\u6211\u7126\u5934\u70c2\u989d~~\u3002   \n\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $\\mathcal O(p)$\uff0c\u53ef\u4ee5\u901a\u8fc7\u672c\u9898\u3002   \n\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\uff1a\n```\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#include<iostream>\nusing namespace std;\n\n#define ll long long  \n#define MOD 10000000000000\n\nstruct num\n{\n\tll a,b,c,d;\n\t//\u538b13\u4f4d \n}ans[1030],mi[20];\nint n,p,cnt=0;\n\nnum arrg(num x)\n{\n\tnum z=x;\n\tif(z.a>=MOD) z.b+=z.a/MOD,z.a%=MOD;\n\tif(z.b>=MOD) z.c+=z.b/MOD,z.b%=MOD;\n\tif(z.c>=MOD) z.d+=z.c/MOD,z.c%=MOD;\n\treturn z;\n}\n\nnum add(num x,num y)\n{\n\tnum z;\n\tz.a=z.b=z.c=0;\n\tz.a=y.a+x.a;\n\tz.b=y.b+x.b;\n\tz.c=y.c+x.c;\n\tz.d=y.d+x.d;\n\treturn arrg(z);\n}\n\nnum mul(num x,ll k)\n{\n\tnum z;\n\tz.a=z.b=z.c=0;\n\tz.a=x.a*k;\n\tz.b=x.b*k;\n\tz.c=x.c*k;\n\tz.d=x.d*k;\n\treturn arrg(z);\n}\n\nint logx(int a,int b){return ceil(log(b)/log(a));}\nll _pow(ll a,ll b){ll ans=1;for(int i=1;i<=b;i++) ans*=a;return ans;}\n\n\nint main()\n{\n\tscanf(\"%d%d\",&n,&p);\n\tmi[0].a=1ll,mi[0].b=0,mi[0].c=0,mi[0].d=0;\n\tans[++cnt]=mi[0];\n\tfor(int i=1;i<=logx(2,p)+1;i++) mi[i]=mul(mi[i-1],(ll)n);\n\tif(p==1){printf(\"1\\n\");return 0;}\n\tint k=1;\n\tfor(;;)\n\t{\n\t\tans[++cnt]=mi[k++];\n\t\tif(cnt>=p) break;\n\t\tint now=cnt-1;\n\t\tfor(int j=1;j<=now&&cnt<=p;j++) ans[++cnt]=add(ans[now+1],ans[j]);\n\t\tif(cnt>=p) break;\n\t}\n\tans[p]=arrg(ans[p]);\n\tif(ans[p].d!=0)\n\t{\n\t\tprintf(\"%lld\",ans[p].d);\n\t\tfor(int i=12;i>=0;i--)\n\t\t{\n\t\t\tll g=_pow((ll)10,i);\n\t\t\tprintf(\"%d\",(int)(ans[p].c/g));\n\t\t\tans[p].c%=g;\n\t\t}\n\t\tfor(int i=12;i>=0;i--)\n\t\t{\n\t\t\tll g=_pow((ll)10,i);\n\t\t\tprintf(\"%d\",(int)(ans[p].b/g));\n\t\t\tans[p].b%=g;\n\t\t}\n\t\tfor(int i=12;i>=0;i--)\n\t\t{\n\t\t\tll g=_pow((ll)10,i);\n\t\t\tprintf(\"%d\",(int)(ans[p].a/g));\n\t\t\tans[cnt].a%=g;\n\t\t}\n\t} \n\telse if(ans[p].c!=0)\n\t{\n\t\tprintf(\"%lld\",ans[p].c);\n\t\tfor(int i=12;i>=0;i--)\n\t\t{\n\t\t\tll g=_pow((ll)10,i);\n\t\t\tprintf(\"%d\",(int)(ans[p].b/g));\n\t\t\tans[p].b%=g;\n\t\t}\n\t\tfor(int i=12;i>=0;i--)\n\t\t{\n\t\t\tll g=_pow((ll)10,i);\n\t\t\tprintf(\"%d\",(int)(ans[p].a/g));\n\t\t\tans[p].a%=g;\n\t\t} \n\t}\n\telse if(ans[p].b!=0)\n\t{\n\t\tprintf(\"%lld\",ans[p].b);\n\t\tfor(int i=12;i>=0;i--)\n\t\t{\n\t\t\tll g=_pow((ll)10,i);\n\t\t\tprintf(\"%d\",(int)(ans[p].a/g));\n\t\t\tans[p].a%=g;\n\t\t}\n\t}\n\telse printf(\"%lld\",ans[p].a);\n\tputchar('\\n');\n\treturn 0;\n}\n```  \n\u5f00\u59cb\u6211\u5c1d\u8bd5\u628a\u4e00\u4e2a\u6570\u5206\u6210 $3$ \u5757\uff0c\u7136\u800c\u7206`long long`\u4e86\uff0c\u53ea\u597d\u5206\u6210 $4$ \u5757\u3002",
        "postTime": 1586963654,
        "uid": 184500,
        "name": "hanzhongtlx",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2558"
    },
    {
        "content": "\u5f88\u597d\u5947\u8fd9\u9053\u9898\u4e3a\u4ec0\u4e48\u6ca1\u4eba\u89e3\u7b54\uff08\u8fd9\u4f3c\u4e4e\u662f\u4e00\u9053\u6c34\u9898\uff09\u3002\n\n\u5982\u679c\u4ed4\u7ec6\u770b\u4e00\u4e0b\u9898\uff0c\u4f1a\u53d1\u73b0\u8fd9\u9898\u4f3c\u4e4e\u4e0e\u6808\u548cDP\u6beb\u65e0\u5173\u8054\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u5c06\u6570\u5217\u4e2d\u6240\u6709\u6570\u8f6c\u5316\u4e3ak\u8fdb\u5236\uff0c\u53d1\u73b0\u7b2c\u4e00\u9879\u4e3a1\uff0c\u7b2c\u4e8c\u9879\u4e3a10\uff0c\u7b2c\u4e09\u9879\u4e3a11\uff0c\u56e0\u6b64\u7b2cp\u9879\u6240\u4ee3\u8868\u7684\u662fp\u7684\u4e8c\u8fdb\u5236\u8868\u8fbe\u5f0f\u3002\n\n\u6211\u4eec\u5148\u5c06p\u7684\u4e8c\u8fdb\u5236\u6c42\u51fa\uff0c\u7136\u540e\u7528\u9ad8\u7cbe\u5ea6\uff0c\u7b54\u6848\u5c31\u51fa\u6765\u4e86\u3002\n\n\u4e0b\u9762\u732e\u4e0a\u4e11\u964b\u7684\u4ee3\u7801\uff1a\n\n\n\n    \n```cpp\n#include<iostream>\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<stack>\n#include<queue>\n#include<map>\n#include<list>\n#include<functional>\n#include<vector>\n#include<set>\n#include<cctype>\n#include<ctime>\n#include<cstdlib>\n#include<algorithm>\nusing namespace std;\nint k,p;\nint a[20];\nint c[20][55];\nvoid init()\n{\n    memset(c,0,sizeof(c));\n    c[0][1]=1;\n    int l=1;\n    for (int i=1;i<=11;i++)\n    {\n        for (int j=1;j<=l;j++)\n            c[i][j]=c[i-1][j];\n        for (int j=1;j<=l;j++)\n            c[i][j]*=k;\n        for (int j=1;j<=l;j++)\n        {\n            c[i][j+1]+=c[i][j]/10;\n            c[i][j]%=10;\n        }\n        while (l<=53)\n        {\n            c[i][l+1]+=c[i][l]/10;\n            c[i][l]%=10;\n            l++;\n        }\n        l--;\n    } \n}\nint main()\n{\n    scanf(\"%d%d\",&k,&p);\n    memset(a,0,sizeof(a));\n    int x=0;\n    while (p>0)\n    {\n        a[x]=p%2;\n        p>>=1;\n        x++;\n    }\n    x--;\n    init();\n    int ans[55];\n    memset(ans,0,sizeof(ans));\n    for (int i=0;i<=x;i++)\n        if (a[i])\n            for (int j=1;j<=54;j++)\n            {\n                ans[j]+=c[i][j];\n                ans[j+1]+=ans[j]/10;\n                ans[j]%=10;\n            }\n    int l=54;\n    while (!ans[l])\n          l--;\n    for (int i=l;i>=1;i--)\n        printf(\"%d\",ans[i]);\n}\n```",
        "postTime": 1506528714,
        "uid": 27469,
        "name": "xh2010",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2558 \u3010[AHOI2002]\u7f51\u7edc\u4f20\u8f93\u3011"
    },
    {
        "content": "\u7531\u9898\u610f\uff0c\u53d1\u73b0\u8fd9\u79cd\u8868\u793a\u5c31\u76f8\u5f53\u4e8e\u76f8\u5f53\u4e8e\u5728\u5e42\u4e0a\u4e8c\u8fdb\u5236\u3002\n\n\u4ee5 $k=3,p=7$ \u4e3a\u4f8b\uff0c$(7)_{10}=(111)_{2}$\uff0c\u90a3\u4e48\u7ed3\u679c\u662f $k^2+k^1+k^0=9+3+1=13$\u3002\n\n\u7136\u540e\u6211\u4eec\u901a\u8fc7 `python` \u5b9e\u73b0\u5373\u53ef\u3002\n\n\u590d\u6742\u5ea6 $O(\\log p)$\u3002\n\n```cpp\nk,p=map(int,input().split()) \npre=1\ny=0\nret=0\nwhile p>0:\n\tif p%2==1:\n\t\t ret+=pre \n\tpre*=k\n\tp//=2\n#\tprint(ret)\nprint(ret)\n```",
        "postTime": 1680873314,
        "uid": 575994,
        "name": "Etinorally",
        "ccfLevel": 5,
        "title": "[AHOI2002]\u7f51\u7edc\u4f20\u8f93"
    },
    {
        "content": "\u53ef\u4ee5\u89c2\u5bdf\u5230\u9012\u589e\u5e8f\u5217\u5b9e\u9645\u4e0a\u5c31\u662f\u4e8c\u8fdb\u5236\u4f4d\u7684\u9012\u589e\uff0c\u4ece0,10,11,100....\u3002\u53ea\u4e0d\u8fc7\u8fd9\u4e2a\u4e8c\u8fdb\u5236\u7684\u6bcf\u4e00\u4f4d\u9700\u8981\u4e58\u4ee5k\u7684\u5bf9\u5e94\u6b21\u5e42\u3002\u5f53\u6211\u4eec\u9700\u8981\u6c42\u51fa\u5e8f\u5217\u7684\u7b2cp\u9879\u65f6\uff0c\u5148\u5c06p\u8fdb\u884c\u4e8c\u8fdb\u5236\u8f6c\u6362\u5f97\u5230\u4e8c\u8fdb\u5236\u5f62\u5f0f\uff0c\u518d\u6839\u636e\u4e8c\u8fdb\u5236\u4e2d\u7684\u503c\u4e58\u4ee5k\u7684\u5bf9\u5e94\u4f4d\u6b21\u5e42\u53ef\u89e3\u3002\n\n\u4f8b\u5982k=4,p=9\uff0c\u5148\u6c42\u51fa9\u7684\u4e8c\u8fdb\u52361001\uff0c\u7136\u540e\u8f6c\u6362\u62101\u00d74^3+0\u00d74^2+0\u00d74^1+1\u00d74^0\u3002\u7531\u4e8e\u660e\u786e\u544a\u77e5\u7b54\u684850\u4f4d\uff0c\u6240\u4ee5\u5fc5\u987b\u9ad8\u7cbe\u3002\u4e0b\u9762\u662f\u975e\u9ad8\u7cbe\u7b97\u6cd5\uff0c\u7528\u4e8e\u7406\u89e3\u7b97\u6cd5\u7684\u5904\u7406\u8fc7\u7a0b\u3002\n```cpp\n#include <bits/stdc++.h>\ntypedef long long ll;\nusing namespace std;\nint main()\n{\n    ll i,j,k,p,s=1,ans=0;\n    cin>>k>>p;\n    while(p)\n    {\n        ans+=p%2*s;\n        p/=2;\n        s*=k;\n    }\n    cout<<ans;\n    return 0;\n}\n```\n\u9ad8\u7cbe\u7b97\u6cd5\uff0c\u5c06\u4e0a\u7b97\u6cd5\u4e2d\u7684\u52a0\u6cd5\u548c\u4e58\u6cd5\u64cd\u4f5c\u7528\u51fd\u6570\u5b9e\u73b0\u3002\n```cpp\n#include <bits/stdc++.h>\ntypedef long long ll;\nusing namespace std;\nint s[105],ans[105];\nvoid add(int a[],int b[])\n{\n    for(int i=0; i<=55; i++)\n        a[i]+=b[i];\n    for(int i=0; i<=55; i++)\n        a[i+1]+=a[i]/10,a[i]%=10;\n}\nvoid mul(int a[],int k)\n{\n    for(int i=0; i<=55; i++)\n        a[i]*=k;\n    for(int i=0; i<=55; i++)\n        a[i+1]+=a[i]/10,a[i]%=10;\n}\nint main()\n{\n    ll i,j,k,p,l=100;\n    cin>>k>>p;\n    s[0]=1;\n    while(p)\n    {\n        if(p%2==1)\n            add(ans,s);\n        p/=2;\n        mul(s,k);\n    }\n    while(ans[l]==0)l--;\n    for(i=l; i>=0; i--)\n        cout<<ans[i];\n    return 0;\n}\n\n```\n",
        "postTime": 1601045735,
        "uid": 126929,
        "name": "nenugdi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2558 [AHOI2002]\u7f51\u7edc\u4f20\u8f93"
    },
    {
        "content": "\u89c2\u5bdf\u5f53$k=3$\u65f6\u7684\u6570\u5217\n\n1\uff0c3\uff0c4\uff0c9\uff0c12\uff0c13\n\n\u56e0\u4e3a\u6bcf\u4e00\u9879\u90fd\u662f$k^{n}$\u7d2f\u52a0\n\n\u6240\u4ee5\u4e00\u5b9a\u53ef\u4ee5\u7531\u6570\u5217\u524d\u9762\u7684\u67d0\u4e9b\u9879\u4e58k\u6765\u6784\u9020\u3002\n\n\u6bd4\u5982$9=3*3,12=4*3$\n\n\u4f46\u662f\u62ff\u7b2c2\u98793\u6765\u8bf4\uff0c\u5b83\u4e0d\u4ec5\u53ef\u4ee5\u6784\u9020\u51fa9\uff0c\u8fd8\u53ef\u4ee5\u6784\u90204.\n\n\u4e3a\u4ec0\u4e48\u5462?\u56e0\u4e3a\u7279\u6b8a\u7684$3^{0}=1$\n\n**\u6240\u4ee5\u6211\u4eec\u5f97\u51fa\u7ed3\u8bba**\n\n\u2160.\u5f53\u67d0$a[i]$\u662fk\u7684\u500d\u6570\uff0c\u90a3\u5b83\u53ef\u4ee5\u6784\u9020\u51fa$a[i]*k$\u548c$a[i]+1$\n\n\u2161.\u5f53\u67d0\u9879$a[i]$\u4e0d\u4e3a$k$\u7684\u500d\u6570\uff0c\u8bf4\u660e\u5b83\u662f\u7531\u524d\u9762\u7684\u67d0\u4e00\u9879$+1$\u5f97\u6765\u7684\uff0c\u4e0d\u80fd\u518d\u6b21$+1$\u3002\u6240\u4ee5\u53ea\u80fd\u6784\u9020\u51fa$a[i]*k$\n\n\u90a3\u5c31\u7b80\u5355\u4e86\u3002$p1$\u6307\u9488\u6307\u5411\u5f53\u524d$*k$\u7684\u6784\u9020\u65b9\u5f0f\n\n$p2$\u6307\u9488\u6307\u5411\u4e0a\u6b21$+1$\u7684\u6784\u9020\u65b9\u5f0f\n\n\u90a3\u4e2a\u5c0f\u5c31\u9009\u54ea\u4e2a\uff0c\u5e76\u4e14\u6307\u9488\u5f80\u540e\u632a\u4e00\u4f4d\n\n```cpp\n/*\u4e0d\u52a0\u9ad8\u7cbe\u5ea670\u5206*/\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nll a[1025];\nint main()\n{\n\tll k,p;\n\tcin>>k>>p;\n\ta[1]=1,a[2]=k;\n\tint p1=2,p2=2,cnt=2;\n\twhile(cnt<p)\n\t{\n\t\tll q=a[p2]*k,flag=0;\n\t\twhile(p1<=cnt)//\u5bfb\u627e\u662f\u5426\u6709\u4e0d\u662fk\u500d\u6570\u7684\u9879 \n\t\t{\n\t\t\tif(a[p1]%k==0)\n\t\t\t{\n\t\t\t\tflag=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tp1++;\n\t\t}\n\t\tif(flag)//\u627e\u5230k\u500d\u6570\u7684\u9879,\u90a3\u5c31\u6bd4\u8f83\u9009\u54ea\u4e00\u9879 \n\t\t{\n\t\t\tll w=a[p1]+1;\n\t\t\tif(q<w)\ta[++cnt]=q,p2++;\n\t\t\telse\ta[++cnt]=w,p1++;\n\t\t}\n\t\telse\ta[++cnt]=q,p2++;\n\t}\n\tcout<<a[cnt];\n}\n```\n\n\u9ad8\u7cbe\u5ea6\u7248\u672c\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nstruct bignum{\n\tint num[56],len;\n\tbignum(){memset(num,0,sizeof(num));};\n}a[1029];\nvoid init(bignum &a,string s)\n{\n\tint len=s.length();\n\tfor(int i=0;i<len;i++)\ta.num[i]=s[len-i-1]-'0';\n\ta.len=len;\n}\nbool compare(bignum a,bignum b)\n{\n\tif(a.len!=b.len)\treturn (a.len>b.len?1:0);\n\tfor(int i=a.len-1;i>=0;i--)\n\t{\n\t\tif(a.num[i]==b.num[i])\tcontinue;\n\t\treturn a.num[i]>b.num[i]?1:0;\n\t}\n\treturn 0;\n}\nbignum add(bignum a,bignum b)\n{\n\tbignum c;\n\tint len=max(a.len,b.len);\n\tfor(int i=0;i<=len;i++)\n\t{\n\t\tc.num[i]+=(a.num[i]+b.num[i]);\n\t\tc.num[i+1]+=c.num[i]/10;\n\t\tc.num[i]%=10;\n\t}\n\tif(c.num[len])\tlen++;\n\tc.len=len;\n\treturn c;\n}\nbignum dmull(bignum a,int s)\n{\n\tfor(int i=0;i<a.len;i++)\ta.num[i]*=s;\n\tfor(int i=0;i<a.len;i++)\n\t{\n\t\tif(a.num[i]>=10)\n\t\t{\n\t\t\ta.num[i+1]+=a.num[i]/10;\n\t\t\ta.num[i]%=10;\n\t\t\tif(i==a.len-1)\ta.len++;\n\t\t}\n\t}\n\treturn a;\n}\nstring zhuan(int s)\n{\n\tstring t,ans;\n\twhile(s){\n\t\tt+=(s%10+'0');\n\t\ts/=10;\n\t}\n\tfor(int i=t.length()-1;i>=0;i--)\tans+=t[i];\n\treturn ans;\n}\nbool mo(bignum a,int k)\n{\n\tll ans=0;\n\tfor(int i=a.len-1;i>=0;i--)\n\t{\n\t\tans=ans*10+a.num[i];\n\t\tans%=k;\n\t}\n\tif(!ans)\treturn true;\n\treturn false;\n}\nint main()\n{\n\tll k,p;\n\tcin>>k>>p;\n\tinit(a[1],\"1\");init(a[2],zhuan(k));\n\tint p1=2,p2=2,cnt=2;\n\twhile(cnt<p)\n\t{\n\t\tbignum q=dmull(a[p2],k);\n\t\tbool flag=0;\n\t\twhile(p1<=cnt)\n\t\t{\n\t\t\tif(mo(a[p1],k))\n\t\t\t{\n\t\t\t\tflag=1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tp1++;\n\t\t}\n\t\tif(flag)\n\t\t{\n\t\t\tbignum w=add(a[p1],a[1]);//a[1]\u5c31\u662f1 \n\t\t\tif(!compare(q,w))\ta[++cnt]=q,p2++;\n\t\t\telse\ta[++cnt]=w,p1++;\n\t\t}\n\t\telse\ta[++cnt]=q,p2++;\n\t}\n\tfor(int i=a[cnt].len-1;i>=0;i--) \tcout<<a[cnt].num[i];\n}\n```\n",
        "postTime": 1586571055,
        "uid": 299810,
        "name": "issue_is_fw",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2558 \u3010[AHOI2002]\u7f51\u7edc\u4f20\u8f93\u3011"
    },
    {
        "content": "\u9898\u76ee\uff1a [P2558 \\[AHOI2002\\] \u7f51\u7edc\u4f20\u8f93](https://www.luogu.com.cn/problem/P2558)\n\n------\n\n*update on 2021.12.18\uff1a\u4fee\u6574\u4e86\uff08\u82f1\u6587\u3001\u6570\u5b57\u6216 LaTeX \u516c\u5f0f\uff09\u4e0e\u4e2d\u6587\u4e4b\u95f4\u7684\u7a7a\u683c\u7684\u95ee\u9898\u3002*\n\n------\n\n\u9898\u610f\u5e94\u8be5\u6bd4\u8f83\u6e05\u695a\uff0c\u8fd9\u91cc\u5c31\u4e0d\u518d\u8d58\u8ff0\u3002\n\n## \u601d\u8def\n\n\u6211\u4eec\u6253\u8fd9\u6837\u4e00\u4e2a\u8868\uff1a\n\n| \u5e8f\u53f7 $p$ | \u5404\u6307\u6570 |\n| :----------: | :----------: |\n| $1$ | $0$ |\n| $2$ | $1$ |\n| $3$ | $0,1$ |\n| $4$ | $2$ |\n| $5$ | $0,2$ |\n| $6$ | $1,2$ |\n| $7$ | $0,1,2$ |\n| $8$ | $3$ |\n\n\u53ef\u4ee5\u53d1\u73b0\u4ee5\u4e0b\u51e0\u70b9\uff1a\n\n- \u7b2c $2$ \u7684\u6574\u6570\u6b21\u5e42\u4e2a\u7684\u6307\u6570\u53ea\u6709\u4e00\u4e2a\uff0c\u662f $\\log_2 p$\n- \u5176\u5b83\u7684\u53ef\u4ee5\u901a\u8fc7\u4e8c\u8fdb\u5236\u62c6\u5206\u8f6c\u6362\u6210\u7b2c $2$ \u7684\u6574\u6570\u6b21\u5e42\u4e2a\u7b54\u6848\n\n\u6bd4\u5982\uff1a\n\n- $6 = 2 + 4$\uff0c\u5bf9\u5e94\u7684\u6307\u6570\u662f $1,2$\uff0c\u5206\u522b\u662f $2$ \u548c $4$ \u7684\u3002\n- $7 = 1 + 2 + 4$\uff0c\u5bf9\u5e94\u7684\u6307\u6570\u662f $0,1,2$\uff0c\u5206\u522b\u662f $1$\uff0c$2$ \u548c $4$ \u7684\u3002\n\n\u90a3\u4e48\uff0c\u505a\u6cd5\u5176\u5b9e\u5c31\u51fa\u6765\u4e86\uff1a\n\n\u5148\u5bf9 $p$ \u8fdb\u884c\u4e8c\u8fdb\u5236\u62c6\u5206\uff0c\u518d\u5206\u522b\u8ba1\u7b97\u540e\u76f8\u52a0\u3002\n\n## \u4ee3\u7801\n\n\u4e0b\u9762\u7ed9\u51fa\u7684\u662f\u4e0d\u5e26\u9ad8\u7cbe\u7684\u4ee3\u7801\uff0c\u53ea\u9700\u5c06\u4ee3\u7801\u4e2d\u7684 `bignum` \u6539\u6210\u771f\u6b63\u7684\u9ad8\u7cbe\u5373\u53ef AC \u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef unsigned long long bignum; //\u6b64\u5904\u7528 unsigned long long \u4ee3\u66ff\u9ad8\u7cbe\nint k,p;\nint a[15],tot;\nbignum ans;\ninline int lowbit(int x){return x&(-x);} //lowbit\uff0c\u8d1f\u8d23\u62c6\u5206\nbignum qpow(bignum a,bignum p){ //\u5feb\u901f\u5e42\n\tbignum ans=1;\n\twhile(p){\n\t\tif(p&1)ans*=a;\n\t\tp>>=1;\n\t\ta*=a;\n\t}\n\treturn ans;\n}\nbignum mlog2(bignum x){ //log2\n\tint ans=0;\n\twhile(x){\n\t\tans++;\n\t\tx/=2;\n\t}\n\treturn ans-1;\n}\nint main(){\n\tcin>>k>>p;\n\twhile(p){\n\t\tans+=qpow(k,mlog2(lowbit(p)));//\u6bcf\u6b21\u52a0\u5355\u4e2a\u62c6\u5206\u7684\u7b54\u6848\n\t\tp-=lowbit(p); //\u52a0\u4e0b\u4e00\u4e2a\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n\n```",
        "postTime": 1639194199,
        "uid": 476889,
        "name": "hukk",
        "ccfLevel": 6,
        "title": "P2558 [AHOI2002] \u7f51\u7edc\u4f20\u8f93 \u9898\u89e3"
    }
]