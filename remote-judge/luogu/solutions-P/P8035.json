[
    {
        "content": "# \u9898\u610f\n\u7ed9\u4f60\u4e00\u4e32\u72ee\u5b50\uff0c\u8ba9\u4f60\u5148\u5e26\u503c\uff0c\u518d\u6c42\u503c\u3002\uff08\u7c7b\u4f3c\u4e8e\u8868\u8fbe\u5f0f\u6c42\u503c\uff09\n# \u601d\u8def\n\u4e0e\u8868\u8fbe\u5f0f\u6c42\u503c\u4e00\u6837\uff0c\u76f4\u63a5\u7528\u4e00\u4e2a $\\text{stack}$ \u6765\u5904\u7406\u8fd0\u7b97\u3002\u5177\u4f53\u8bb2\u5c31\u662f\u628a\u8fd0\u7b97\u7b26\u548c\u6570\u5b57\u5b58\u5728 $\\text{stack}$ \u91cc\uff0c\u5982\u679c\u9047\u5230 $\\text{\")\"}$ \u5c31\u628a\u5b83\u548c\u4e0e\u5b83\u5339\u914d\u7684\u524d\u62ec\u53f7\u4e4b\u95f4\u7684\u72ee\u5b50\u66b4\u529b\u7b97\u51fa\u6765\u3002\u5982\u679c\u662f $\\text{\"-\"}$ \u5c31\u628a\u6570\u5b57\u7d2f\u52a0\uff0c\u5982\u679c\u662f $\\text{\"|\"}$ \u5c31\u628a\u6570\u5b57\u7684\u5012\u6570\u7d2f\u52a0\u518d\u7528 $\\text{1}$ \u6765\u9664\u3002\n# \u6ce8\u610f\n- \u5f00 $\\text{double}$\n- \u7cbe\u5ea6\n# \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N = 1e5 + 5;\nint n;\nstack < double > st;\ndouble R[15];\nstring c;\ndouble sum()\n{\n\tdouble h = st.top(); st.pop();\n\tif(st.top() == - 4) while(st.top() != - 1){st.pop(); h += st.top(); st.pop();}\n\telse\n\t{\n\t\th = 1.0 / h;\n\t\twhile(st.top() != -1){st.pop(); h += 1.0 / st.top(); st.pop();}\n\t\th = 1.0 / h;\n\t}\n\tst.pop();\n\treturn h;\n}\nsigned main()\n{\n\tscanf(\"%d\", &n);\n\tfor(int i = 1; i <= n; i++)scanf(\"%lf\", &R[i]);\n\tcin >> c;\n\tfor(int i = 0; i < c.size(); i++)\n\t{\n\t\tif(c[i] == '(')st.push(- 1);\n\t\tif(c[i] == ')')st.push(sum());\n\t\tif(c[i] == '|')st.push(- 3);\n\t\tif(c[i] == '-')st.push(- 4);\n\t\tif(c[i] >= '0' and c[i] <= '9')st.push(R[c[i] - '0']);\n\t}\n\tprintf(\"%.8lf\", st.top());\n\treturn 0;\n}\n```",
        "postTime": 1665912012,
        "uid": 576817,
        "name": "anr_uli",
        "ccfLevel": 3,
        "title": "P8035\u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9053\u9898\u8ddf[P1175 \u8868\u8fbe\u5f0f\u7684\u8f6c\u6362](https://www.luogu.com.cn/problem/P1175)\u6709\u70b9\u7c7b\u4f3c\uff0c\u90fd\u662f\u8ba1\u7b97\u4e00\u4e2a\u5e26\u62ec\u53f7\u7684\u8868\u8fbe\u5f0f ~~\uff08\u5e76\u4e14\u597d\u50cf\u8fd8\u7b80\u5355\u70b9\uff09~~\u3002\n\n**\u6ce8\uff1a\u4e3a\u4e86\u7b80\u4fbf\uff0c\u4e0b\u6587\u5c06 $\\texttt |$ \u4e0e $\\texttt -$ \u7edf\u79f0\u4e3a\u8fd0\u7b97\u7b26\u3002**\n\n\u601d\u8def\u4e5f\u5f88\u7b80\u5355\uff0c\u7528\u6808\u628a\u6570\u3001\u8fd0\u7b97\u7b26\u4e4b\u7c7b\u7684\u5b58\u8d77\u6765\uff08\u4e3a\u4e86\u5904\u7406\u65b9\u4fbf\uff0c\u6700\u597d\u628a\u5b57\u7b26\u4e32\u8f6c\u6362\u6210\u4e00\u4e2a\u6570\u7ec4\u6765\u505a\uff09\uff0c\u7136\u540e\u9047\u5230\u540e\u62ec\u53f7\u5c31\u5f39\u6808\u5f39\u5230\u524d\u62ec\u53f7\uff0c\u628a\u8fd9\u4e00\u6574\u4e2a\u62ec\u53f7\u5185\u7684\u4e00\u5806\u7b97\u51fa\u6765\u5b58\u8fdb\u6808\u91cc\u3002\u7b97\u5230\u6700\u540e\uff0c\u56e0\u4e3a\u5916\u9762\u603b\u662f\u6709\u4e00\u5bf9\u62ec\u53f7\uff0c\u6240\u4ee5\u6700\u540e\u6c38\u8fdc\u53ea\u5269\u4e00\u4e2a\u6570\uff0c\u4e5f\u5c31\u662f\u7b54\u6848\u3002\n\n*\u6ce8\uff1a\u4efb\u4f55\u4e00\u5bf9\u62ec\u53f7\u91cc\u90fd\u4e0d\u4f1a\u540c\u65f6\u51fa\u73b0\u4e24\u79cd\u8fd0\u7b97\u7b26\uff0c\u6240\u4ee5\u6b63\u7740\u7b97\u548c\u5012\u7740\u7b97\u5176\u5b9e\u90fd\u4e00\u6837\u3002*\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ndouble a[10],op[100010];\nstack<double>s;\ndouble solve(){        //\u8ba1\u7b97 \n\tdouble ls=s.top();s.pop();\n\tbool mode=0;\n\tif(s.top()!=-54088){        //\u5224\u65ad\u5e76\u8054\u8fd8\u662f\u4e32\u8054 \n\t\tmode=1;\n\t\tls=1.0/ls;\n\t}\n\twhile(s.top()!=-114514){        //\u5982\u679c\u6ca1\u5230\u524d\u62ec\u53f7\u5c31\u7ee7\u7eed\u7b97 \n\t\ts.pop();\n\t\tif(mode){\n\t\t\tls=ls+1.0/s.top();\n\t\t}\n\t\telse {\n\t\t\tls+=s.top();\n\t\t}\n\t\ts.pop();\n\t}\n\ts.pop();        //\u5f39\u6389\u524d\u62ec\u53f7 \n\tif(mode)ls=1.0/ls;        //\u5e76\u8054\u65f6\u522b\u5fd8\u8bb0\u6700\u540e\u53d6\u5012\u6570 \n\treturn ls;\n}\nint main(){\n\t//#ifndef P_A_I_M_O_N\n\t//\tfreopen(\"otpor.in\",\"r\",stdin);\n\t//\tfreopen(\"otpor.out\",\"w\",stdout);\n\t//#endif\n\tios::sync_with_stdio(false);cin.tie(0);cout.tie(0);\n\tint n;cin>>n;\n\tfor(int i=1;i<=n;i++)cin>>a[i];\n\tstring st;cin>>st;\n\tint l=st.size(),tot=0;\n\tfor(int i=0;i<l;i++){        //\u628a\u5b57\u7b26\u4e32\u8f6c\u5316\u4e3a\u6570\u7ec4 \n\t\tif(st[i]=='(')op[++tot]=-114514;\n\t\telse if(st[i]==')')op[++tot]=-1919810;\n\t\telse if(st[i]=='R'){\n\t\t\top[++tot]=a[st[++i]-'0'];\n\t\t}\n\t\telse if(st[i]=='-')op[++tot]=-54088;\n\t\telse if(st[i]=='|')op[++tot]=-229;\n\t} \n\tfor(int i=1;i<=tot;i++){        //\u7528\u6808\u8ba1\u7b97\u7b54\u6848 \n\t\tif(op[i]==-1919810)s.push(solve());        //\u5982\u679c\u662f\u540e\u62ec\u53f7\u5c31\u8ba1\u7b97 \n\t\telse s.push(op[i]);        //\u5426\u5219\u5148\u5b58\u8fdb\u53bb \n\t}\n\tcout<<fixed<<setprecision(8)<<s.top();        //\u6ce8\u610f\u7cbe\u5ea6 \n\treturn 0;\n}\n```",
        "postTime": 1657362403,
        "uid": 362666,
        "name": "Bug_Automation",
        "ccfLevel": 5,
        "title": "P8035\u9898\u89e3"
    },
    {
        "content": "# P8035 \u9898\u89e3  \n\n\u9898\u76ee\u94fe\u63a5\uff1a[P8035 \\[COCI2015-2016\\#7\\] Otpor](https://www.luogu.com.cn/problem/P8035)  \n\n\u7531\u4e8e\u62ec\u53f7\u5d4c\u5957\uff0c\u6bcf\u4e00\u4e2a\u62ec\u53f7\u5185\u7684\u89c4\u5219\u90fd\u76f8\u540c\uff0c\u53ef\u4ee5\u4f7f\u7528\u9012\u5f52\u3002  \n\n\u51fd\u6570 `calc(i)` \u8ba1\u7b97\u4ece $i$ \u5f00\u59cb\u7684\u4e00\u5bf9\u62ec\u53f7\u4e2d\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u5e76\u5c06\u6307\u9488 $i$ \u4fee\u6539\u4e3a\u53f3\u62ec\u53f7\u4f4d\u7f6e\u3002  \n\n\u6839\u636e\u5e38\u8bc6\u6216\u8005\u9898\u76ee\u4e2d\u7684\u5f0f\u5b50\uff0c\u4e32\u8054\u3001\u5e76\u8054\u90fd\u6ee1\u8db3\u7ed3\u5408\u5f8b\uff0c\u4e3a\u4e86\u8ba1\u7b97\u65b9\u4fbf\uff0c\u53ef\u4ee5\u628a\u591a\u4e2a\u7535\u963b\u4e32\u8054\u3001\u5e76\u8054\u62c6\u5206\u6210\u4e24\u4e2a\u7535\u963b\u4e4b\u95f4\u7684\u8ba1\u7b97\uff0c\u8f6c\u5316\u6210\u7b80\u5355\u7684\u4e8c\u5143\u8fd0\u7b97\u7b26\uff0c\u4ece\u5de6\u5f80\u53f3\u4f9d\u6b21\u8ba1\u7b97\u3002  \n\n\u4f8b\u5982\uff1a `(R1-R2-R3-R4)` \u5f53\u505a `(((R1-R2)-R3)-R4)` \u8ba1\u7b97\u3002  \n\n+ \u4e32\u8054\uff1a$R_{1}-R_{2}=R_{1}+R_{2}$  \n\n+ \u5e76\u8054\uff1a$R_{1}|R_{2}=\\dfrac{R_{1} \\cdot R_{2}}{R_{1}+R_{2}}$  \n\n\u53e6\u5916\uff0c\u56e0\u4e3a $1 \\le N \\le 9$\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u592a\u590d\u6742\u7684\u5b57\u7b26\u4e32\u5904\u7406\uff0c\u8bfb\u53d6\u5230 `R` \u65f6\u7f16\u53f7\u5c31\u662f\u4e0b\u4e00\u4e2a\u5b57\u7b26\u5bf9\u5e94\u7684\u6570\u5b57\u3002\n\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u5199\u51fa\u4ee3\u7801\uff1a  \n\n```cpp\n#include <cstdio>\n#include <cstring>\n#define N 13\n#define L 100077\nint n,buf=0;\ndouble r[N];\nchar expr[L];\ndouble getr(char id){\n\treturn r[id&15];\n}\ndouble calcs(double r1,double r2){\n\treturn r1+r2;\n}\ndouble calcp(double r1,double r2){\n\treturn (r1*r2)/(r1+r2);\n}\ndouble calc(int &x){\n\tif(expr[x]=='R'){\n\t\t++x;\n\t\treturn getr(expr[x]);\n\t}\n\tint i;\n\tchar c;\n\tdouble crt=0;\n\tint flg=666666;\n\tfor(i=x+1;flg;){\n\t\tc=expr[i];\n\t\tswitch(c){\n\t\t\tcase '(':{\n\t\t\t\tcrt=calc(i);\n\t\t\t\t++i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase ')':{\n\t\t\t\tflg=0;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'R':{\n\t\t\t\t++i;\n\t\t\t\tcrt=getr(expr[i]);\n\t\t\t\t++i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase '-':{\n\t\t\t\t++i;\n\t\t\t\tcrt=calcs(crt,calc(i));\n\t\t\t\t++i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase '|':{\n\t\t\t\t++i;\n\t\t\t\tcrt=calcp(crt,calc(i));\n\t\t\t\t++i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tx=i;\n\treturn crt;\n}\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;++i){\n\t\tscanf(\"%lf\",r+i);\n\t}\n\tscanf(\"%s\",expr);\n\tprintf(\"%.5f\\n\",calc(buf));\n\treturn 0;\n}\n```  \n\n[AC \u8bb0\u5f55 (\u76ee\u524d\u6700\u4f18\u89e3)](https://www.luogu.com.cn/record/66710162)  ",
        "postTime": 1642823639,
        "uid": 237530,
        "name": "rzh123",
        "ccfLevel": 7,
        "title": "P8035 \u9898\u89e3"
    }
]