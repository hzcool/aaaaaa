[
    {
        "content": "\u8fd9\u9053\u9898\u53ef\u4ee5\u770b\u505a\u88f8\u7684\u90bb\u63a5\u77e9\u9635\u5b58\u50a8+dfs\u904d\u5386\uff0c\u6ca1\u6709\u4ec0\u4e48\u7279\u6b8a\u7684\u70b9\n\n\u4e2a\u4eba\u4ee5\u4e3a\u7b97\u76f8\u5bf9\u6e05\u6670\u7b80\u6d01\u7684\u4e86\uff0c\u6ca1\u4ec0\u4e48\u591a\u4f59\u8865\u5145\u7684\u4e86\uff0c\u5177\u4f53\u770b\u4ee3\u7801\uff1a\n\n\n    \n            \n            \n    \n    \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint Edge[21][21],n,s,an,t,ans,b[100000];\nint x,y,c;\nint dfs(int k,int su)//\u5206\u522b\u662f\u5f53\u524d\u4f4d\u7f6e\u548c\u5f53\u524d\u53d6\u5230\u7684\u8ddd\u79bb \n{\n    ans=max(ans,su);\n    for(int i=1;i<=t;i++)\n    {\n        if(Edge[k][i]>0&&b[i]==0) //\u662f\u5426\u6709\u6ca1\u8d70\u8fc7\u7684\u8def \n        {\n            b[i]=1;\n            dfs(i,su+Edge[k][i]);\n            b[i]=0;\n        }\n    }\n}\nint main()\n{\n    cin>>t>>n;\n    for(int i=1;i<=n;i++)\n    {\n        cin>>x>>y>>c;\n        Edge[x][y]=c;\n        Edge[y][x]=c; //\u6ce8\u610f\u662f\u65e0\u5411\u56fe\uff0c\u9700\u5b58\u4e24\u8fb9      \n    }\n    for(int i=1;i<=t;i++)\n    {\n        b[i]=1;\n        dfs(i,0);  //dfs\n        an=max(an,ans);\n        memset(b,0,sizeof(b));//\u6e05\u7a7a\u7528\u8fc7\u7684\u6807\u8bb0\u6570\u7ec4 \n    }\n    cout<<an;//\u7ed3\u679c  \n}\n```",
        "postTime": 1507217943,
        "uid": 49699,
        "name": "xfydemx",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "$Update:$\u66f4\u65b0\u4e8e20191130\uff0c\u53bb\u6389\u4e86\u6807\u9898\u884c\uff0c\u5e76\u4e0d\u662f\u91cd\u590d\u9898\u89e3\uff0c\u671b\u901a\u8fc7\n\n\n------------\n\n\u6211\u662f\u840c\u65b0\uff0c\u521a\u521a\u4e0a\u624bdfs\n\n~~\u8bb0\u5f97\u4e0a\u5468\u4e00\u5728\u88ab\u67f3\u5dde\u5c0f\u5b66\u751f\u795e\u4ed9\u540a\u6253\u7684\u65f6\u5019\u5c31\u662f\u9760\u6df1\u641c\u82df\u4e8620\u5206~~\n\n\u8fd9\u9898\u601d\u8def\u5f88\u7b80\u5355\uff0c\u6211\u7684\u505a\u6cd5\u662f\u641c\u7d22+\u56de\u6eaf\n\n\u5f53\u65e0\u6cd5\u8fbe\u5230\u4e0b\u4e00\u5c42\u65f6\uff08\u8d70\u5230\u5c3d\u5934\u6216\u8005\u6240\u6709\u70b9\u90fd\u88ab\u8bbf\u95ee\u8fc7\uff09\n\n\u5c31\u7edf\u8ba1\u6b64\u65f6\u7684\u6700\u957f\u8def\uff0c\u7136\u540e\u66f4\u65b0\u7b54\u6848\n\n\u56de\u6eaf\u65f6\u5c31\u5c06\u957f\u5ea6\u51cf\u53bb\uff0c\u7136\u540e\u641c\u7d22\u4e0b\u4e00\u4e2a\u70b9\n\n### dfs\u4ee3\u7801\uff1a\n\n```cpp\nvoid dfs(int st){//\u6df1\u5ea6\u4f18\u5148\u641c\u7d22 \n\tfor(int i=1;i<=n;i++){\n\t\tif(g[st][i]&&!vis[i]){\n\t\t\tvis[i]=1;\n\t\t\tdist+=g[st][i];\n\t\t\tdfs(i);\n\t\t\tdist-=g[st][i];//\u56de\u6eaf \n\t\t}\n\t}\n\tmax_d=max(max_d,dist);//\u7edf\u8ba1\u6700\u5927\u6df1\u5ea6 \n\tvis[st]=0;\n\treturn;\n}\n```\n### \u5728\u4e3b\u51fd\u6570\u4e2d\u4f9d\u6b21\u4ee5\u6bcf\u4e2a\u70b9\u4e3a\u8d77\u70b9\u8fdb\u884c\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\n```cpp\nfor(int i=1;i<=n;i++){\n    vis[i]=1;\n    dfs(i);\n    memset(vis,0,sizeof(vis));//\u8bb0\u5f97\u6e05\u7a7a\u6807\u8bb0\u6570\u7ec4\n}\n```\n### \u6700\u540e\uff0c\u5b8c\u6574\u4ee3\u7801\u5949\u4e0a\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1010;\nint g[N][N],dist,max_d=-10*N,n,m;\nbool vis[N];\nvoid dfs(int st){//\u6df1\u5ea6\u4f18\u5148\u641c\u7d22 \n\tfor(int i=1;i<=n;i++){\n\t\tif(g[st][i]&&!vis[i]){\n\t\t\tvis[i]=1;\n\t\t\tdist+=g[st][i];\n\t\t\tdfs(i);\n\t\t\tdist-=g[st][i];//\u56de\u6eaf \n\t\t}\n\t}\n\tmax_d=max(max_d,dist);//\u7edf\u8ba1\u6700\u5927\u6df1\u5ea6 \n\tvis[st]=0;\n\treturn;\n}\nint main(){\n\tcin>>n>>m;\n\tfor(int i=1;i<=m;i++){\n\t\tint x,y,z;\n\t\tcin>>x>>y>>z;//\u8bfb\u5165\u8fb9\u548c\u5bf9\u5e94\u7684\u6743\u503c \n\t\tg[x][y]=z;\n\t\tg[y][x]=z;\n\t}\n\tfor(int i=1;i<=n;i++){\n        vis[i]=1;\n        dfs(i);\n        memset(vis,0,sizeof(vis));//\u8bb0\u5f97\u6e05\u7a7a\u6807\u8bb0\u6570\u7ec4\n    }\n    cout<<max_d;\n\treturn 0;\n}\n```\n## \u840c\u65b0\u53d1\u9898\u89e3\u6c42\u8fc7\uff0c\u5982\u679c\u6709\u95ee\u9898\u53ef\u4ee5\u5728\u8bc4\u8bba\u533a\u6307\u51fa",
        "postTime": 1568390623,
        "uid": 137242,
        "name": "Dia\u043esi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.org/problem/P1294)\n\n**\u5206\u6790\u9898\u610f\uff1a**\n\n\u77e5\u9053\u603b\u5171\u6240\u6709\u7684\u666f\u70b9$n$, \u4ee5\u53ca$m$\u6761\u9053\u8def\uff0c\u540c\u65f6\u9898\u76ee\u4e5f\u7ed9\u51fa\u4e86\u9053\u8def\u7684\u8fde\u63a5\u60c5\u51b5\u4ee5\u53ca\u5404\u503c\n\n\u90a3\u4e48\u63a5\u4e0b\u6765\u7684\u4e8b\u60c5\u5c31\u5f88\u597d\u529e\u4e86\n\n\u4f7f\u7528\u90bb\u63a5\u8868\u5b58\u56fe\u4f1a\u4f7f\u6574\u4e2a\u7a0b\u5e8f\u7684\u6548\u7387\u9ad8\u5f88\u591a\u662f$oier$\u5fc5\u5907\u6280\u80fd\u4e4b\u4e00\u54e6\uff0c \u4e0d\u4f1a\u7684\u5c0f\u53ef\u7231\u53ef\u8981\u6ce8\u610f\u4e86\uff0c \u6293\u7d27\u5b66\uff01\u7f51\u4e0a\u6709\u5f88\u591a\u8bb2\u7684\u4e0d\u9519\u7684\u6587\u7ae0\u7684\u3002\n\n```cpp\nvoid add(int x, int y, int z) {\n\te[++cnt].nxt = head[x];\n\te[cnt].to = y;\n\te[cnt].w = z;\n\thead[x] = cnt;\n}\n```\n\n\n$dfs$\u679a\u4e3e\u6bcf\u4e00\u4e2a\u666f\u70b9\u4f5c\u4e3a\u5f00\u59cb\u7684\u70b9\uff0c \u56e0\u4e3a\u9898\u76ee\u4e2d\u660e\u786e\u6307\u51fa\n\n_\u9ad8\u624b\u7684\u7a7f\u68ad\u673a\u53ef\u4ee5\u8ba9\u4ed6\u4eec\u5728\u4efb\u610f\u4e00\u4e2a\u89c2\u666f\u70b9\u51fa\u53d1\uff0c\u4e5f\u5728\u4efb\u610f\u4e00\u4e2a\u89c2\u666f\u70b9\u7ed3\u675f_\n\n```cpp\nfor(int i = 1; i <= n; i++) \n\tvis[i] = 1, dfs(i), vis[i] = 0;\n```\n\u8fd9\u4e2a$vis$\u6570\u7ec4\u662f\u7528\u6765\u6807\u8bb0\u8fd9\u4e2a\u666f\u70b9\u662f\u5426\u5df2\u7ecf\u6e38\u89c8\u8fc7\u7684\n\n_\u5979\u4e5f\u4e0d\u559c\u6b22\u53bb\u540c\u4e00\u4e2a\u89c2\u666f\u70b9\u4e00\u6b21\u4ee5\u4e0a_\n\n\u6240\u4ee5$vis$\u6570\u7ec4\u53ef\u4ee5\u786e\u4fdd\u4e0d\u4f1a\u91cd\u590d\u6d4f\u89c8\u666f\u70b9 \u8fd9\u4e5f\u662f$dfs$\u7684\u4e00\u4e2a\u91cd\u8981\u6761\u4ef6\n\n\n\u63a5\u4e0b\u6765\u5c31\u662f$dfs$\u51fd\u6570\u4e86\n\n```cpp\nvoid dfs(int x) {\n\tfor(int i = head[x]; i; i = e[i].nxt) \n\t\tif(!vis[e[i].to]) {\n\t\t\tvis[e[i].to] = 1;\n\t\t\tans += e[i].w;\n\t\t\tsum = max(sum, ans);\n\t\t\tdfs(e[i].to);\n\t\t\tans -= e[i].w;\n\t\t\tvis[e[i].to] = 0;\n\t\t}\n}\n```\n $dfs$\u51fd\u6570\u4e2d\u7684$x$\u662f\u8868\u793a\u5f53\u524d\u7684\u666f\u70b9\uff0c \u641c\u7d22\u65f6\u641c\u4e0e\u4ed6\u76f8\u8fde\u7684\u666f\u70b9\u5373\u53ef\uff0c \u6ce8\u610f\u56de\u6eaf\u8fc7\u7a0b\n\n\u5f00\u4e00\u4e2a\u53d8\u91cf$sum$\u6765\u8bb0\u5f55\u6700\u5927\u503c\uff0c \u6700\u540e\u76f4\u63a5\u8f93\u51fa\u5373\u53ef\n\nThe Last:\n\n```cpp\n#include <cstdio>\n#include <iostream>\nusing namespace std;\nconst int N =55;\nint head[N << 1], cnt, n, m, ans, sum;\nbool vis[N];\nstruct node{\n\tint nxt, to, w;\n}e[N];\nint read() {\n\tint s = 0, w = 1;\n\tchar ch = getchar();\n\twhile(!isdigit(ch)) {if(ch == '-') w = -1;ch = getchar();}\n\twhile(isdigit(ch)) {s = s * 10 + ch - '0';ch = getchar();}\n\treturn s * w;\n}\nvoid add(int x, int y, int z) {\n\te[++cnt].nxt = head[x];\n\te[cnt].to = y;\n\te[cnt].w = z;\n\thead[x] = cnt;\n}\nvoid dfs(int x) {\n\tfor(int i = head[x]; i; i = e[i].nxt) \n\t\tif(!vis[e[i].to]) {\n\t\t\tvis[e[i].to] = 1;\n\t\t\tans += e[i].w;\n\t\t\tsum = max(sum, ans);\n\t\t\tdfs(e[i].to);\n\t\t\tans -= e[i].w;\n\t\t\tvis[e[i].to] = 0;\n\t\t}\n}\nint main() {\n\tn = read(), m = read();\n\twhile(m--) {\n\t\tint x, y, z;\n\t\tx = read(), y = read(), z = read();\n\t\tadd(x, y, z), add(y, x, z);\n\t}\n\tfor(int i = 1; i <= n; i++) vis[i] = 1, dfs(i), vis[i] = 0;\n\tprintf(\"%d\\n\", sum);\n\treturn 0;\n}\n```\n\u8c22\u8c22\u6536\u770b\uff0c \u795d\u8eab\u4f53\u5065\u5eb7\uff01\n",
        "postTime": 1570357789,
        "uid": 147646,
        "name": "lzpclxf",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "```cpp\n//\u72b6\u538bdp\n#include<bits/stdc++.h>\n#define ref(a, b, c) for(int a = b; a <= c; a++)\n#define clr(a, b) memset(a, b, sizeof(a))\n#define INF 0x3f3f3f\n#define MAX_N 20\nusing namespace std;\nint n, m, mat[MAX_N + 5][MAX_N + 5], f[1 << MAX_N][MAX_N + 5], ans;\nint main()\n{\n    ios :: sync_with_stdio(false);\n    scanf(\"%d%d\", &n, &m);\n    ref(i, 1, m) {int tmp1, tmp2, tmp3; scanf(\"%d%d%d\", &tmp1, &tmp2, &tmp3); mat[tmp1][tmp2] = mat[tmp2][tmp1] = tmp3;}\n    clr(f, -INF); ref(i, 1, n) f[1 << i - 1][i] = 0;\n    ref(i, 1, (1 << n) - 1) ref(j, 1, n) if(i & 1 << j - 1) ref(h, 1, n) if(mat[j][h] && !(i & 1 << h - 1)) \n        f[i | 1 << h - 1][h] = max(f[i | 1 << h - 1][h], f[i][j] + mat[j][h]), ans = max(ans, f[i | 1 << h - 1][h]);\n    printf(\"%d\\n\", ans);\n    return 0;\n}\n```",
        "postTime": 1504313693,
        "uid": 23820,
        "name": "LJZ_C",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u7ed9\u4e2acpp\u7684\n\n\u90bb\u63a5\u8868\u5b9e\u73b0\n\n\u5c31\u662f\u56fe\u7684dfs\uff0c\u5f88\u7b80\u5355\u554a\uff0c\u6211\u7528\u90bb\u63a5\u8868\u5b58\u50a8(\u7136\u800c\u548c\u90bb\u63a5\u77e9\u9635\u5dee\u4e0d\u591a\u561b)\n\n```cpp\n#include <iostream>\n#include <cstring>\nusing namespace std;\nstruct edge\n{\n    int v,w,next;\n}a[101];\nint link[21],n,m;\nbool v[21];\nvoid add(int x,int y,int w)\n{\n    static int p=0;\n    p++;\n    a[p].v=y;\n    a[p].w=w;\n    a[p].next=link[x];\n    link[x]=p;\n}\nint dfs(int x)//\u641c\u7d22\n{\n    if(v[x])return 0;//pd\u662f\u5426\u88ab\u8bbf\u95ee\n    int ans=0;\n    v[x]=true;//\u628a\u81ea\u5df1\u6807\u8bb0\u8bbf\u95ee\n    for(int i=link[x];i!=0;i=a[i].next)//\u90bb\u63a5\u8868\u904d\u5386\n        if(v[a[i].v]==0)//\u5982\u679c\u6ca1\u6709\u88ab\u8bbf\u95ee\n            ans=max(ans,dfs(a[i].v)+a[i].w);//\u8bbf\u95ee\u5457\uff0c\u7136\u540e\u66f4\u65b0\u7b54\u6848\n    v[x]=false;//\u522b\u5fd8\u4e86\u56de\u6eaf\n    return ans;//\u8fd4\u56de\u7b54\u6848\n}\nint main()//\u4e3b\u51fd\u6570\n{\n    int x,y,w,ans=0;\n    cin >> n >> m;\n    for(int i=1;i<=m;i++)\n    {\n        cin >> x >> y >> w;\n        add(x,y,w);//\u65e0\u5411\u56fe\u5b58\u4e24\u6b21\n        add(y,x,w);\n    }\n    for(int i=1;i<=n;i++)\n    {\n        memset(v,0,sizeof(v));//\u8fd9\u53e5\u4e0d\u5199\u597d\u50cf\u4e5f\u6ca1\u4e8b\u513f\n        ans=max(ans,dfs(i));\n    }\n    cout << ans << endl;\n    return 0;\n}\n```",
        "postTime": 1474548425,
        "uid": 13091,
        "name": "ghj1222",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u56e0\u4e3a\u6570\u636e\u6bd4\u8f83\u5c0f\uff0c\u6240\u4ee5\u5c31\u5f88\u597d\u6765**\u6a21\u62df**\u4e86\n\n\u5148\u628a\u8fd9\u4e2a\u6570\u636e\u8f6c\u6362\u6210\u4e00\u4e2a**\u53cc\u5411\u56fe**\uff0c\u518d\u4f9d\u6b21\u53bb\u9009\u62e9\u8d77\u70b9\uff0c\u6765\u9009\u627e\u6700\u5927\u503c\n\n\n------------\n\u5c31\u6bd4\u59824\u6761\u8def\uff081-2,90\uff0c2-4,80\uff0c3-1,20 , 4-1,50\uff09\uff0c\u56db\u4e2a\u666f\u70b9\u8f6c\u5316\u6210\u4e34\u754c\u77e9\u9635\u5c31\u662f \n|  |  1|2  | 3 |  4|\n| -----------: | -----------: | -----------: | -----------: | -----------: |\n| 1 |0  | 90 |20  | 50 |\n| 2 | 90 |0 |  | 80 |\n| 3 |20  |  |  0|  |\n|  4| 50 |  80|  |  0|\n\u6ca1\u6709\u586b\u5199\u7684\u5219\u4e3a\u5230\u8fbe\u4e0d\u4e86\u7684\n\n\n------------\n\n\n\u8bdd\u4e0d\u591a\u6570\uff0c\u770b\u4ee3\u7801\u5427\uff01\uff01\n\n------------\nQAQ\n```c\n#include<bits/stdc++.h>\nusing namespace std;\nint a[21][21],m,sum=0,b[21];\nint n,x,y,z,k;\nvoid dfs(int h,int ans)\n{\nint y=1;//y\u7528\u6765\u6807\u8bb0\u662f\u5426\u8fd8\u6709\u8def\u53ef\u8d70\nfor(int i=1;i<=m;i++)\n\t{\n\tif(a[h][i]!=0&&b[i]==0)\n\t\t{\n\t\tb[i]=1;\n\t\tdfs(i,ans+a[h][i]);//\u7ee7\u7eed\u67e5\u627e\n\t\tb[i]=0;//\u56de\u6eaf\n\t\ty=0;//\u6539\u53d8y\u503c\n\t\t}\n\t}\nif(y==1)sum=ans>sum?ans:sum;//\u4e09\u76ee\u8fd0\u7b97\u7b26\uff0c\u4e0d\u8981\u6211\u89e3\u91ca\u5427\n}\nint main()\n{\ncin>>m>>n;\nfor(int i=1;i<=n;i++)\n\t{\n\tcin>>x>>y>>z;\n\ta[x][y]=z;\n\ta[y][x]=z;//\u8bb0\u4f4f\u662f\u53cc\u5411\u56fe\u54e6\n\t}\nfor(int i=1;i<=m;i++)\n\t{\n\tk=i;\n\tmemset(b,0,sizeof(b));//\u8bb0\u5f97\u6e05\u7a7ab\u6570\u7ec4\n    b[k]=1;//\u5c06\u8d77\u70b9\u6807\u8bb0\u4e3a\u8d70\u8fc7\u4e86\n\tdfs(k,0);\n\t}\n\tcout<<sum;\nreturn 0;\n}\n\n```\n\n\n------------\n\u5c31\u662f\u8fd9\u6837\u5427\uff0c\u8bb0\u4f4f\u8bf7\u52ff\u6284\u88ad\u54e6\n\u652f\u6301\u4e00\u4e0b\u5427\n------------\n~~\u81ea\u6b3a\u6b3a\u4eba\u662f\u6ca1\u6709\u7528\u7684~~",
        "postTime": 1568966423,
        "uid": 206511,
        "name": "\u73af\u6c27\u4e59\u70f7",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "# \u6015\u4ec0\u4e48 \u641c\uff01\n\n#### \u4ee5\u673a\u623f\u5927\u4f6c\u540d\u8a00\u7eaa\u5ff5\u8fd9\u9053\u6a59\u9898\u96be\u5ea6\u7684\u9ec4\u9898\n------------\n[\u539f\u9898](https://www.luogu.org/problem/P1294)\n\n\u6beb\u65e0\u6280\u5de7\u548c\u521b\u65b0\u7684\u56fe\u8bba\u4e2d\u7684**\u6df1\u5ea6\u4f18\u5148\u904d\u5386**\n\n~~\u4f60\u8981\u5199**\u5e7f\u641c**\u4e5f\u6ca1\u4eba\u62e6\u4f60~~\n\n**~~\u5f3a\u70c8\u8981\u6c42\u52a0\u5f3a\u6570\u636e\uff01\uff01\uff01~~**\n\n\u9898\u76ee\u63cf\u8ff0\u7ffb\u8bd1\uff1an\u4e2a\u70b9m\u6761\u8fb9\u8fde\u6210\u7684**\u65e0\u5411\u56fe**\uff0c\u6c42\u4e00\u6761\u6700\u957f\u7684\u8def\u5f84\uff08\u53ef\u4ece**\u4efb\u4e00\u70b9**\u51fa\u53d1\uff09\n\n\n[\u590d\u4e60\u56fe\u8bba](https://www.cnblogs.com/smile233/p/8228073.html)\n\n------------\n\n\n### \u6df1\u5ea6\u4f18\u5148\u904d\u5386\u987a\u5e8f\n\n1. \u8bbf\u95ee\u9876\u70b9now\n1. \u6807\u8bb0\u9876\u70b9now\n1. \u6df1\u5ea6\u4f18\u5148\u904d\u5386\u9876\u70b9now\u7684\u6240\u6709\u672a\u88ab\u8bbf\u95ee\u7684\u90bb\u63a5\u70b9i\n1. \u53bb\u9664\u6807\u8bb0\u9876\u70b9now\n\n------------\n\n\u6b64\u9898\u53ea\u662f\u5728\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u4e2d\u52a0\u4e86\u4e00\u4e2a\u8fb9\u7684\u6743\u503c\uff0c\u4f7f\u4e4b\u53d8\u4e3a\u65e0\u5411\u6709\u6743\u56fe\uff0c\u4f46\u6211\u4eec\u5b9e\u9645\u4e0a\u8fd8\u662f\u5728\u6df1\u5ea6\u4f18\u5148\u904d\u5386\u53bb\u6c42\u6743\u503c\u548c\n\n------------\n\n### \u4ee3\u7801&\u89e3\u91ca\n\n\n```\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint n,m,ans;\nint a[21][21];//\u5efa\u7acb\u90bb\u63a5\u77e9\u9635 \nbool vis[21];//vis[i]\u4ee3\u8868\u7b2ci\u4e2a\u70b9\u6709\u6ca1\u6709\u8d70\u8fc7\n//vis[i]==1\u4e3a\u8d70\u8fc7  vis[i]==0\u4e3a\u6ca1\u6709\u8d70\u8fc7 \ninline int read()//\u5feb\u8bfb \n{\n\tint r=0,w=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-') w=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){r=r*10+ch-'0';ch=getchar();}\n\treturn r*w;\n}\ninline void dfs(int now,int h)//\u641c\u7d22\n//now\u662f\u5f53\u524d\u8d70\u5230\u7684\u70b9\uff0ch\u662f\u8d70\u8fc7\u7684\u8def\u7a0b \n{\n\tif(h>ans) ans=h;//\u5982\u679c\u8d70\u8fc7\u7684\u8def\u7a0b\u5927\u4e8e\u4e4b\u524d\u6240\u6c42\u7b54\u6848\n\t//\u5c31\u66f4\u65b0\u4e00\u904d\u7b54\u6848 \n\tvis[now]=1;//\u6807\u8bb0\u5f53\u524d\u8d70\u5230\u7684\u70b9 \n\tfor(int i=1;i<=n;i++)//\u5728\u90bb\u63a5\u77e9\u9635\u4e2d\u627e\u6ca1\u6709\u8d70\u8fc7\u4e14\u4e4b\u95f4\u6709\u8def\u7684\u70b9 \n\t   if(i!=now&&vis[i]==0&&a[now][i]>0) dfs(i,h+a[i][now]);\n\t   //\u5982\u679ci\u70b9\u6ca1\u6709\u8d70\u8fc7\uff08vis[i]==0\uff09 \n\t   //\u5e76\u4e14\u5f53\u524d\u70b9\u4e0ei\u70b9\u4e4b\u95f4\u6709\u8fb9\u76f8\u8fde\uff08a[now][i]>0\uff09\n\t   //\u4e8e\u662f\u4ece\u8fd9\u4e2a\u70b9\u5f00\u59cb\u641c\u7d22\uff0c\u628ai\u4f20\u5230now\u91cc\u9762\uff0ch\u52a0\u4e0a\u5f53\u524dnow\u70b9\u548ci\u70b9\u7684\u8ddd\u79bb\n\t   //\u8fd9\u91cca[i][now]\u548ca[now][i]\u662f\u76f8\u7b49\u7684\uff0c\u6240\u4ee5\u5199\u4efb\u4f55\u4e00\u4e2a\u90fd\u53ef\u4ee5\n\t   //\u56e0\u4e3a\u662f\u6709\u5411\u56fe \n\tvis[now]=0;//\u56de\u6eaf \n}\nint main()\n{\n\tn=read();m=read();\n\tfor(int i=1;i<=m;i++)//\u8bfb\u5165m\u6761\u8fb9 \n\t   {\n\t   \tint p,q,t;//p,q\u662f\u4e24\u4e2a\u70b9,t\u662f\u8def\u5f84\u957f\u5ea6 \n\t   \tp=read();q=read();t=read(); \n\t   \ta[p][q]=a[q][p]=t;//\u5b58\u5230\u90bb\u63a5\u77e9\u9635\u4e2d \n\t   }\n\tfor(int i=1;i<=n;i++)//\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9 \n\t   \tdfs(i,0);//\u4ece\u8fd9\u4e2a\u70b9\u51fa\u53d1\u5f00\u59cbdfs \n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```\n\n\u7801\u5b57\u4e0d\u6613\u7ba1\u7406\u5458\u7ed9\u8fc7\u5457QAQ",
        "postTime": 1573483282,
        "uid": 223298,
        "name": "do_while_true",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u4e00\u9053dfs\u641c\u7d22\u56fe\u7684\u88f8\u9898\n\n\u53ef\u4ee5\u7528vector\u63d0\u524d\u628a\u56fe\u5b58\u4e0b\u6765\n\n\u5c31\u50cf\u8fd9\u6837\n\n```cpp\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\ts[a].push_back(b);//\u5b58\u8fb9\n\t\ts[b].push_back(a);//\u53cc\u5411\u8fb9\n\t\tw[a].push_back(c);//\u8fb9\u6743 \u5355\u72ec\u5f00\u4e00\u4e2avector\n\t\tw[b].push_back(c);\n\t}\n```\n\n\u7136\u540e \u4ece\u6bcf\u4e00\u4e2a\u70b9\u5f00\u59cb\u641c\n\n\u56e0\u4e3a\n```cpp\n\u5df2\u77e5\u9ad8\u624b\u7684\u7a7f\u68ad\u673a\u53ef\u4ee5\u8ba9\u4ed6\u4eec\u5728\u4efb\u610f\u4e00\u4e2a\u89c2\u666f\u70b9\u51fa\u53d1\uff0c\u4e5f\u5728\u4efb\u610f\u4e00\u4e2a\u89c2\u666f\u70b9\u7ed3\u675f\u3002\n```\n\n\u5c31\u50cf\u8fd9\u6837\n\n```\nfor(int i=1;i<=n;i++)\n\t{\n\t\tflag[i]=true;\t\n\t\tdfs(i,0);\n\t\tflag[i]=false;//\u6ce8\u610f\uff0c\u6572\u9ed1\u677f\uff0c\u4e00\u5b9a\u8981\u63d0\u524d\u6807\u8bb0\uff08\u522b\u5fd8\u4e86\u91cd\u7f6e\uff09\n\t}\n                     \n                     \n```\n\n\u4e4b\u540e\u5c31\u5f00\u59cb\u4e86\u6211\u4eec\u7684dfs\u4e86\n\n```cpp\nvoid dfs(int now,int l)\n{\n\tans=max(ans,l);//\u56e0\u4e3a\u968f\u4fbf\u4e00\u4e2a\u70b9\u90fd\u53ef\u4ee5\u7ed3\u675f \u6240\u4ee5\u6bcf\u4e00\u6b65\u90fd\u53d6\u4e00\u4e2amax\u5c31OK\u4e86\n\tfor(int i=0;i<s[now].size();i++)\n\t{\n\t\tif(!flag[s[now][i]])\n\t\t{\n\t\t\tflag[s[now][i]]=true;\n\t\t\tdfs(s[now][i],l+w[now][i]);//\u8fdb\u5165\u4e0b\u4e00\u6b65\u9012\u5f52\n\t\t\tflag[s[now][i]]=false;//\u56de\u6eaf\n\t\t}\n\t}\n}\n```\n\n\u6700\u540e\uff0c\u732e\u4e0a\u9ad8\u6e05\u65e0\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,m,ans;\nbool flag[1101];\nvector < int > s[1010],w[1010];\nvoid dfs(int now,int l)\n{\n\tans=max(ans,l);\n\tfor(int i=0;i<s[now].size();i++)\n\t{\n\t\tif(!flag[s[now][i]])\n\t\t{\n\t\t\tflag[s[now][i]]=true;\n\t\t\tdfs(s[now][i],l+w[now][i]);\n\t\t\tflag[s[now][i]]=false;\n\t\t}\n\t}\n}\nint main()\n{\n\tcin>>n>>m;\n\t\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\ts[a].push_back(b);\n\t\ts[b].push_back(a);\n\t\tw[a].push_back(c);\n\t\tw[b].push_back(c);\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tflag[i]=true;\t\n\t\tdfs(i,0);\n\t\tflag[i]=false;\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```\n\n\u4ee3\u7801\u53ef\u80fd\u6709\u70b9\u4e11\uff0c\u52ff\u55b7\n",
        "postTime": 1573388003,
        "uid": 122757,
        "name": "PrefixAMS",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u770b\u5230\u4e0b\u9762\u6709\u5927\u4f6c\u7528\u90bb\u63a5\u77e9\u9635\u6765\u5b58\u7684\u56fe\uff0c\u597d\u5427\uff0c\u90a3\u6211\u5c31\u7528\u4e00\u4e0b\u90bb\u63a5\u94fe\u8868\u5b58\u56fe\u3002\u3002\u3002\u3002\n\n\u6bd4\u4ed6\u90a3\u4e2a\u9ad8\u5927\u4e0a\uff08\u624b\u52a8\u6ed1\u7a3d\uff09\n\u8fd9\u91cc\u4ee3\u7801\u5949\u4e0a\uff08\u6296\u4e2a\u673a\u7075\uff09\n```cpp\n#include<bits/stdc++.h>//\u4e07\u80fd\u5934\u6587\u4ef6%%% \nusing namespace std;\nint n,m,ans;\nstruct edge\n{\n\tint to,next,dist;\n} e[100];\nint head[100],tot;\nint vis[100];\ninline void add(int x,int y,int z)\n{\n\te[++tot].next=head[x];\n\te[tot].to=y;\n\te[tot].dist=z;\n\thead[x]=tot;//\u8fd9\u91cchead[x]\u8868\u793a\u4ecex\u51fa\u53d1\u7684\u6700\u540e\u4e00\u6761\u8fb9 \n}//\u4ee5\u4e0a\u4e3a\u90bb\u63a5\u94fe\u8868\u5b58\u56fe \nvoid dfs(int x,int tot)\n{\n\tif(tot>ans)ans=tot;//\u5982\u679c\u641c\u5230\u7684\u8def\u7a0b\u6bd4\u73b0\u6709\u7684\u8def\u7a0b\u66f4\u8fdc\uff0c\u5c31\u66f4\u65b0ans \n\tfor(int i=head[x]; i; i=e[i].next)//\u56fe\u7684\u904d\u5386 \n\t{\n\t\tif(!vis[e[i].to])\n\t\t{\n\t\t\tvis[e[i].to]=1;\n\t\t\tdfs(e[i].to,tot+e[i].dist);\n\t\t\tvis[e[i].to]=0;//\u56de\u6eaf \n\t\t}\n\t}\n}\nint main()\n{\n\tcin>>n>>m;\n\tfor(int i=1; i<=m; i++)\n\t{\n\t\tint a,b,c;\n\t\tcin>>a>>b>>c;\n\t\tadd(a,b,c);\n\t\tadd(b,a,c);//\u5c0f\u4f19\u4f34\u4eec\u8fd9\u91cc\u4e0d\u8981\u5fd8\u8bb0\u5b58\u53cc\u5411\u56fe\u5466 \n\t}\n\tfor(int i=1; i<=n; i++)\n\t{\n\t\tmemset(vis,0,sizeof(vis));\n\t\tvis[i]=1;\n\t\tdfs(i,0);//\u8fd9\u91cc\u5bf9\u5e94\u4e86\u9ad8\u624b\u4ece\u4efb\u4f55\u4e00\u70b9\u51fa\u53d1\u7684\u6761\u4ef6 \n\t}\n\tcout<<ans;//\u8f93\u51faans \n}\n//\u5b8c\u7f8e\u6492\u82b1biubiubiu \n```\n\u7ba1\u7406\u5927\u5927\u6c42\u8fc7\u4e48\u4e48\u54d2\uff0c\u5c0f\u59b9\u8c22\u8c22\u54af~~~~",
        "postTime": 1522505928,
        "uid": 78228,
        "name": "\u6211\u6ca1\u6709\u5c0f\u767d",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u5e94\u8be5\u5341\u5206\u7b80\u5355\uff0c\u9700\u8981\u6ce8\u610f\u7684\u70b9\uff1a\n\n\u8f93\u5165\u7684\u662f\u4e24\u666f\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0c\u5b83\u662f\u4e2a\u65e0\u5411\u56fe\n\n\uff08\u53ef\u4ee5\u7528\u4e8c\u7ef4\u6570\u7ec4\u6765\u8bb0\u5f55\u4ece\u70b9i\u5230j\u7684\u8ddd\u79bb\u66f4\u5bb9\u6613\uff09\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint a,b,x,y,som;\nbool s[21];\t\t\t\t\t\t\t\t\t\t//s[i]\u5224\u65ad\u662f\u5426\u6765\u8fc7i\u70b9 \nint l[21][21];\t\t\t\t\t\t\t\t\t//\u4e8c\u7ef4\u6570\u7ec4\u7684l[i][j]\u4ee3\u8868\u4ecei\u5230j\u7684\u8ddd\u79bb \nvoid dfs(int n,int ans){\t\t\t\t\t\t//\u7528dfs\u505a\u66f4\u5bb9\u6613 \n\ts[n]=1;\t\t\t\t\t\t\t\t\t\t//\u6807\u8bb0\u5df2\u6765\u8fc7 \n\tfor(int i=1;i<=a;i++)\n\tif(l[n][i]&&!s[i])\t\t\t\t\t\t\t//\u5224\u65ad\u662f\u5426\u6765\u8fc7\u6b64\u70b9\u548c\u80fd\u5426\u4ecen\u5230i \n\tdfs(i,ans+l[n][i]);\n\ts[n]=0;\t\t\t\t\t\t\t\t\t\t//\u6807\u8bb0\u672a\u6765\u8fc7 \n\tsom=max(ans,som);\n}\nint main(){\n\tcin>>a>>b;\n\tfor(int i=1;i<=b;i++){\n\t\tcin>>x>>y;\n\t\tcin>>l[x][y];\n\t\tl[y][x]=l[x][y];\t\t\t\t\t\t//\u6ce8\u610f\u662f\u4e2a\u65e0\u5411\u56fe \n\t}\n\tfor(int i=1;i<=a;i++)\t\t\t\t\t\t//for\u5faa\u73af\u627e\u5f00\u59cb\u7684\u666f\u70b9 \n\tdfs(i,0);\n\tcout<<som;\n\treturn 0;\n}\n```\n",
        "postTime": 1561641072,
        "uid": 184549,
        "name": "RedreamMer",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u81ea\u5df1\u72ec\u7acb\u601d\u8003\u505a\u51fa\u6765\u7684\u7b2c\u4e00\u9053dfs\uff0c\u7eaa\u5ff5\u4e00\u4e0b~\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\nusing namespace std;\nint n,m,a[100][100],b[100],x,y,k;\nint mmax=0;\nvoid dfs(int t,int s)\n{\n    int k=0;\n    for(int i=1;i<=n;i++)\n    {\n        if(a[t][i]!=0 && !b[i])//\u6709\u8def\n        {\n            k++;\n        }\n    }\n    if(k==0)\n    {\n        mmax=max(mmax,s);\n        return;\n    }\n    for(int i=1;i<=n;i++)\n    {\n        if(a[t][i]!=0 && !b[i])//\u6709\u8def\n        {\n            b[i]=1;\n            dfs(i,s+a[t][i]);\n            b[i]=0;\n        }\n    }\n}\nint main()\n{\n    cin>>n>>m;\n    for(int i=0;i<m;i++)\n    {\n        cin>>x>>y>>k;//\u65e0\u5411\u56fe\n        a[x][y]=k;\n        a[y][x]=k;\n    }\n    int ans=0;\n    for(int i=1;i<=n;i++)\n    {\n        memset(b,0,sizeof(b));\n        b[i]=1;\n        dfs(i,0);\n        ans=max(mmax,ans);\n    }\n    printf(\"%d\\n\",ans);\n    return 0;\n}\n\n```\n",
        "postTime": 1556281802,
        "uid": 92872,
        "name": "\u68ee\u7cfb",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.org/problemnew/show/P1294)\n\n\u4e0d\u5f97\u4e0d\u8bf4\uff0c\u8fd9\u9053\u9898\u5176\u5b9e\u4e0d\u592a\u96be\uff0c\uff08\u4f46\u5bf9\u6211\u6765\u8bf4\u5f88\u96be\uff09\u6211\u89c9\u5f97\u641c\u7d22\u53ef\u4ee5\u8f7b\u677e\u7684\u8fc7\u6389\u6b64\u9898\uff0c\u4f46\u662f\u6211\u521a\u5f00\u59cb\u770b\u5230\u8fd9\u9053\u9898\u7684\u65f6\u5019\uff0c\u6211\u4ee5\u4e3a\u662f\u6709\u9650\u5236\u7684Floyed\u6c42\u6700\u957f\u8def\uff0c\u4f46\u662f\u6211\u5199\u70b8\u4e86\uff08\u6211\u592a\u5f31\u4e86\uff09\uff0c\u6240\u4ee5\u6211\u60f3\u5230\u4e86\u66b4\u529b\uff0c\u7136\u540e\u60f3\u5230dfs \uff0c\u7136\u540e\u6211\u5c31\u8fc7\u4e86......\n\n\u76f4\u63a5\u4e0a\u4ee3\u7801\uff0c\u6211\u7528\u4e86\u4e24\u79cd\u5efa\u56fe\u65b9\u5f0f\uff1a\u90bb\u63a5\u77e9\u9635\u4e0e\u90bb\u63a5\u8868\uff1a\n\n\n## \u90bb\u63a5\u77e9\u9635\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<cstdlib>\n#include<cctype>\n#include<queue>\nusing namespace std;\ntypedef long long ll;\ntemplate<typename T>inline void read(T &x){\n    x=0;T f=1;char c=getchar();\n    for(;c<'0'||c>'9';c=getchar())if(c=='-')f=-1;\n    for(;c>='0'&&c<='9';c=getchar())x=x*10+c-'0';\n    x*=f;\n}\nconst int maxa = 60;\nint n,m,ans,res,vis[maxa],f[maxa][maxa];\nvoid dfs(int x,int sum){//x\uff1a\u5f53\u524d\u70b9\n//sum:\u5df2\u7ecf\u8d70\u7684\u8def\u7a0b\n\tans=max(ans,sum);//\u66f4\u65b0\u7b54\u6848\n\tfor(int i=1;i<=n;++i){\n\t\tif(f[x][i]>0&&!vis[i]){//\u5982\u679c\u5f53\u524d\u4f4d\u7f6e\u6709\u666f\u70b9\u5e76\u4e14\u6ca1\u88ab\u6807\u8bb0\u8fc7\uff0c\u5219\u53ef\u4ee5\u8d70\n\t\t\tvis[i]=1;//\u6807\u8bb0\u4e3a\u53ef\u8d70\n\t\t\tdfs(i,sum+f[x][i]);//\u7ee7\u7eed\u641c\u4e0b\u51e0\u4e2a\u4f4d\u7f6e\n\t\t\tvis[i]=0;//\u56de\u6eaf\n\t\t}\n\t}\n}\nint main(){\n\tmemset(f,0,sizeof(f));//\u628a\u6240\u6709\u7684\u4f4d\u7f6e\u90fd\u6807\u8bb0\u4e3a\u6ca1\u6709\u666f\u70b9\n\tint u,v,w;\n\tread(n);read(m);\n\tfor(int i=1;i<=m;++i){\n\t\tread(u);read(v);read(w);\n\t\tf[u][v]=w;\n\t\tf[v][u]=w;\n\t}\n\tfor(int i=1;i<=n;++i){\n\t\tmemset(vis,0,sizeof(vis));//\u8fd9\u4e2a\u4e00\u5b9a\u8981\u52a0\u4e0a\uff0c\u4e0d\u7136\u53ef\u80fd\u5c06\u6807\u8bb0\u7684\u70b9\u7684\u6807\u8bb0\u53d6\u6d88\uff0c\u4ece\u800c\u4e0e\u9898\u610f\u4e0d\u7b26\n\t\tvis[i]=1;//\u6807\u8bb0\u4ee5\u8d70\u8fc7\n\t\tdfs(i,0);//\u641c\u7d22\n\t}\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```\n\n\n\n## \u90bb\u63a5\u8868\uff1a\uff08\u601d\u8def\u4e0e\u4e0a\u9762\u7684\u57fa\u672c\u4e00\u81f4\uff09\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#include<iostream>\n#include<cstdlib>\n#include<cctype>\n#include<queue>\nusing namespace std;\ntypedef long long ll;\ntemplate<typename T>inline void read(T &x){\n    x=0;T f=1;char c=getchar();\n    for(;c<'0'||c>'9';c=getchar())if(c=='-')f=-1;\n    for(;c>='0'&&c<='9';c=getchar())x=x*10+c-'0';\n    x*=f;\n}\nconst int maxa = 60;\nint cnt,n,m,vis[maxa],head[maxa],ans,res;\nstruct node{\n\tint u,v,w;\n}e[maxa<<2];\nvoid add(int u,int v,int w){\n\te[++cnt].u=head[u];\n\te[cnt].v=v;\n\te[cnt].w=w;\n\thead[u]=cnt;\n}\nvoid dfs(int x,int tot){//\n\tans=max(ans,tot);\n\tfor(int i=head[x];i;i=e[i].u){//\u904d\u5386\u90bb\u63a5\u8868\n\t\tint v=e[i].v,w=e[i].w;\n\t\tif(!vis[v]){\n\t\t\tvis[v]=1;\n\t\t\tdfs(v,tot+w);\n\t\t\tvis[v]=0;\n\t\t}\n\t}\n}\nint main(){\n\tint u,v,w;\n\tread(n);read(m);\n\tfor(int i=1;i<=m;++i){\n\t\tread(u);read(v);read(w);\n\t\tadd(u,v,w);add(v,u,w);//\u8fde\u8fb9\n\t}\n\tfor(int i=1;i<=n;++i){//\u4e0e\u4e0a\u9762\u7684\u60f3\u6cd5\u4e00\u6837\n\t\tmemset(vis,0,sizeof(vis));\n\t\tvis[i]=1;\n\t\tdfs(i,0);\n\t}\n\tprintf(\"%d\",ans);\n\treturn 0;\t\n}\n\n```\n\n\n\n\u6c42\u8fc7\u3002",
        "postTime": 1541502996,
        "uid": 55050,
        "name": "\u6700\u559c\u6b22saber\u4e86",
        "ccfLevel": 0,
        "title": "P1294 \u9ad8\u624b\u53bb\u6563\u6b65"
    },
    {
        "content": "#\u5927\u96be\uff08shui\uff09\u9898\n\n#\u6b64\u9898\u4e3a\u4ec0\u4e48\u662f\u666e\u53ca/\u63d0\u9ad8-\uff01\uff01\uff01\u8fd9\u96be\u5ea6\u662f\u5996\u602a\u5427\u3002\u3002\u3002\n\n#\u4e0d\u8fc7\u5bf9\u4e8e\u641c\u7d22\u521a\u5165\u95e8\u7684dalao\u4eec\u5012\u662f\u9053\u597d\u9898\n\n\u4ee5\u4e0a\u5c5e\u4e8e\u4e2a\u4eba\u5410\u69fd\uff0c\u8bf7\u65e0\u89c6\n\n#\u534e\u4e3d\u4e3d\u7684\u5206\u5272\u7ebf\n\n**------------------------------------------------------------------------------------------------**\n\n\u7528\u90bb\u63a5\u77e9\u9635\u5b58\u8def\u5f84\uff0c\u66b4\u529b\u8d77\u70b9\uff0c\u7528dfs\u53bb\u628a\u6bcf\u4e00\u6761\u8def\u90fd\u8d70\u4e00\u904d\uff0c\u5982\u679c\u4e0d\u80fd\u8d70\u4e86\uff0c\u5c31\u628a\u5f53\u524d\u603b\u8def\u5f84\u957f\u5ea6\u548cmax\u6253\u4e2a\u64c2\u53f0\u3002\n\nAC\u4ee3\u7801\uff1a\n\n```cpp\nvar\n  f:array[0..21,0..21]of longint;\n  b:array[0..21]of boolean;\n  i,j,k,n,m,x,y,z,max:longint;\nprocedure try(k,sum:longint);\nvar\n  i:longint;\n  begin\n    if sum>max then max:=sum;//\u56e0\u4e3a\u4efb\u4f55\u70b9\u90fd\u53ef\u4ee5\u662f\u7ec8\u70b9\n    for i:=1 to n do \n      if not(b[i]) and (f[k,i]>0) then \n        begin\n          b[i]:=not(b[i]);\n          try(i,sum+f[k,i]);\n          b[i]:=not(b[i]);//\u56de\u6eaf\n        end;\n  end;//dfs\nbegin\n  readln(n,m);\n  for i:=1 to m do \n    begin\n      readln(x,y,z);\n      f[x,y]:=z;\n      f[y,x]:=z;\n    end;//\u7528\u90bb\u63a5\u77e9\u9635\u4fdd\u5b58\u8def\u5f84\n  for i:=1 to n do \n    begin\n      b[i]:=true;\n      try(i,0);\n      b[i]:=false;\n    end;//\u66b4\u529b\u8d77\u70b9\n  write(max);\nend.\n```",
        "postTime": 1504225900,
        "uid": 25355,
        "name": "\u590f\u8272\u796d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "```cpp\ntype arr=array[0..1000]of longint;{\u5178\u578b\u7684\u641c\u7d22\u9898}\nvar n,m,i,j,k,s:longint;\na:array[0..1000]of arr;\nb:array[0..1000] of boolean;\nc:array[0..1000,0..100] of longint;road:arr;\nprocedure ss(i,len:longint);\nvar j,k:longint;             \n           begin\nb[i]:=false;\nfor j:=0 to road[i] do \nif b[c[i,j]]  then begin\n     ss(c[i,j],len+a[i,c[i,j]]);\n           end\n        else if len>s then s:=len;\n       b[i]:=true;\n           end;\nbegin\nfillchar(b,sizeof(b),true);b[0]:=false;\nread(n,m);\nfor i:=1 to m do\nbegin\n    read(j,k);\n    inc(road[j]);\n   inc(road[k]);\n   read(a[j,k]);\n   c[j,road[j]]:=k;\n   c[k,road[k]]:=j;\n   a[k,j]:=a[j,k];\nend;\nfor i:=1 to m do\nss(i,0);\nwrite(s);\nend.\n```",
        "postTime": 1463057186,
        "uid": 15177,
        "name": "\u9898\u76eeSoHard",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u7b97\u6cd5\uff1a\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\n\n\u7528\u90bb\u63a5\u77e9\u9635\u5b58\u50a8\u56fe\uff08\u9898\u4e0a\u5df2\u7ecf\u660e\u786e\u6ca1\u6709\u91cd\u590d\u7684\u8def\u5f84\u548c\u81ea\u73af\uff09\n\n\n```delphi\nvar\n  map:array[1..20,1..20] of integer;\n  a,bool:array[1..20] of integer;\n  max,sum:longint;\n  n,m,x,y,z,i:integer;\nprocedure print;\n  begin\n    if sum>max then max:=sum;\n  end;\nprocedure dfs(m:integer);\n  var\n    i:integer;\n    f:boolean;\n  begin\n    f:=false;\n    for i:=1 to n do\n      if (bool[i]=0) and (map[m,i]<>0) then\n        f:=true;\n    if f then//\u7ec8\u6b62\u6761\u4ef6\u662f\u6240\u6709\u6709\u8def\u7684\u666f\u70b9\u90fd\u8d70\u8fc7\u4e86\n      begin\n        for i:=1 to n do\n          if (bool[i]=0) and (map[m,i]<>0) then\n            begin\n              bool[i]:=1;sum:=sum+map[m,i];\n              dfs(i);\n              bool[i]:=0;sum:=sum-map[m,i];\n            end;\n      end\n    else print;\n  end;\nbegin\n  max:=0;\n  read(n,m);\n  for i:=1 to m do\n    begin\n      read(x,y,z);\n      map[x,y]:=z;\n      map[y,x]:=z;//\u6ce8\u610f\u662f\u65e0\u5411\u56fe\n    end;\n  for i:=1 to n do//\u6bcf\u4e00\u4e2a\u70b9\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u51fa\u53d1\u70b9\n    begin\n      fillchar(bool,sizeof(bool),0);\n      bool[i]:=1;sum:=0;\n      dfs(i);\n    end;\n  write(max);\nend.\n```",
        "postTime": 1439733167,
        "uid": 5938,
        "name": "\u5c0f\u9ed1",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\n\n\n```cpp\nconst\n     v = 100;\nvar\n     visited:array[1..v]of boolean;\n     e:array[1..v,1..v]of integer;\n     n,m,ans,i,j,a,b,c:integer;\n     procedure dfs(x,len:integer);\n     var\n         i:integer;\n     begin\n          visited[x] := true;\n         if len > ans then\n             ans:=len;\n         for i:=1 to n do\n             if (not visited[i]) and(e[x,i] <> -1) then\n                 dfs(I,len+e[x,i]);\n         visited[x] := false;\n     end;\n     begin\n         readln(n,m);\n         for i:=1 to n do\n             for j:=1 to n do\n                 e[i][j] := -1;\n         for i:=1 to m do\n         begin\n             readln(a,b,c);\n             e[a][b]:=c;\n             e[b][a]:=c;\n         end;\n         for i:=1 to n do\n             visited[i]:=false;\n         ans:=0;\n         for i:=1 to n do\n             dfs(i,0);\n         writeln(ans);\n     end.\n\n```",
        "postTime": 1379062201,
        "uid": 408,
        "name": "jxpxcsh",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "# \u9012\u5f52\u7a0b\u5e8f\u7684\u6df1\u5ea6\u641c\u7d22+\u94fe\u5f0f\u524d\u5411\u661f\u4f18\u5316\n\u8fd9\u9053\u9898\u6709\u70b9\u7c7b\u4f3c\u4e8e**\u6700\u957f\u8def\u5f84**\u3002\u56e0\u6b64\u6211\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n1. **\u9012\u5f52\u5b50\u7a0b\u5e8f\u2014\u2014\u6df1\u5ea6\u4f18\u5148\u641c\u7d22**\n2. **\u94fe\u5f0f\u524d\u5411\u661f\u4f18\u5316**\n\n\n------------\n## \u4e00.\u9012\u5f52\u5b50\u7a0b\u5e8f\u2014\u2014\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\n\n\u628a**\u6bcf\u4e00\u4e2a\u70b9**\u4f5c\u4e3a\u8d77\u70b9\u904d\u5386\uff0c\u628a\u4e0e\u4e4b**\u8054\u901a**\u7684\u70b9\u8dd1\u4e00\u904d\u3002\u5982\u679c\u8be5\u70b9\u524d\u9762\u6ca1\u6709\u51fa\u73b0\u8fc7\uff08\u6ce8\u610f\uff1a\u672c\u9053\u9898\u5b58\u5728**\u56de\u73af**\uff0c\u6240\u4ee5\u672c\u672c\u849f\u84bb\u679c\u65ad\u653e\u5f03SPFA\u7b97\u6cd5\uff09\u5c31\u5bf9\u4e4b\u8fdb\u884c\u62d3\u5c55\u3002\n\n```cpp\ninline void f(ll x,ll step,ll dis){//\u8dd1\u9012\u5f52\uff0c\u6211\u89c9\u5f97\u6709\u5fc5\u8981\u8bb0\u5f55\u4e00\u4e0b\u6b65\u6570\n\tregister int i,j;\n\tll p;\n\tp=step;\n\ts[p]=x;//\u611f\u89c9p\u6709\u70b9\u591a\u4f59\uff0c\u6b64\u5904\u4e0d\u8981\u628ap\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf\uff0c\u4e0d\u713630\u5206\u8b66\u544a\n\tfor(i=head[s[p]];i!=0;i=a[i].lf){//\u94fe\u5f0f\u524d\u5411\u661f\u4f18\u5316\uff0c\u8c03\u51fa\u6765\n\t\tll k=a[i].rt;\n\t\tbool b=true;\n\t\tfor(j=1;j<p;j++)\n\t\tif(s[j]==k){\n\t\t\tb=false;\n\t\t\tbreak;\n\t\t}//\u5982\u679c\u4e4b\u524d\u6ca1\u6709\u51fa\u73b0\u8fc7\uff0c\u5c31\u53ef\u4ee5\u5bf9\u4e4b\u8fdb\u884c\u62d3\u5c55\n\t\tif(b==true)f(k,p+1,dis+a[i].len);\n\t}\n\tmaxl=max(maxl,dis);//\u53d6\u6700\u5927\u503c\n}\n```\n\u5176\u5b9e\u5bf9\u4e8e**\u5224\u91cd**\uff0c\u5728\u6b64\u4e5f\u53ef\u4ee5\u7528**bool\u6570\u7ec4**\u8fdb\u884c\u5224\u65ad\uff08\u7c7b\u6bd4SPFA\u7b97\u6cd5\uff09\n\n\n------------\n## \u4e8c.\u94fe\u5f0f\u524d\u5411\u661f\u4f18\u5316\n\u56e0\u4e3a\u67e5\u627e\u6bcf\u4e00\u4e2a\u4e0e\u8282\u70b9\u76f8\u8fde\u7684\u70b9\u8fc7\u4e8e\u8fc2\u8150\uff0c\u4e14\u7528\u90bb\u63a5\u77e9\u9635\u5b58\u50a8\u8c8c\u4f3c\u5360\u5185\u5b58\u5f88\u5927\u3002\u6240\u4ee5\u6b64\u5904\u7528**\u94fe\u5f0f\u524d\u5411\u661f\u5b58\u50a8\u56fe**\u8fdb\u884c\u4f18\u5316\u3002\n\n\u94fe\u5f0f\u524d\u5411\u661f\u7684\u4ee3\u7801\u5728\u6b64\u5c31\u4e0d\u5355\u72ec\u8be6\u89e3\u3002\n\n\n------------\nAC\u4ee3\u7801\uff1a\n```cpp\n#include <iostream>\n#include <cstdio>\nusing namespace std;\ntypedef long long ll;\nstruct node{\n\tll lf,rt,len;\n}a[100001];\nll s[100001];\nll head[100001];\nll n,m,maxl=-1;\ninline void start(ll lf,ll rt,ll len,ll num){//\u94fe\u5f0f\u524d\u5411\u661f\u4ee3\u7801\n\ta[num].rt=rt;\n\ta[num].len=len;\n\ta[num].lf=head[lf];\n\thead[lf]=num;\n\tnum++;\n\ta[num].rt=lf;\n\ta[num].len=len;\n\ta[num].lf=head[rt];\n\thead[rt]=num;\n}\ninline void f(ll x,ll step,ll dis){//\u9012\u5f52\u5b50\u7a0b\u5e8f\u641c\u7d22\n\tregister int i,j;\n\tll p;\n\tp=step;\n\ts[p]=x;\n\tfor(i=head[s[p]];i!=0;i=a[i].lf){\n\t\tll k=a[i].rt;\n\t\tbool b=true;\n\t\tfor(j=1;j<p;j++)\n\t\tif(s[j]==k){\n\t\t\tb=false;\n\t\t\tbreak;\n\t\t}\n\t\tif(b==true)f(k,p+1,dis+a[i].len);\n\t}\n\tmaxl=max(maxl,dis);\n}\nint main(){\n\tregister int i,j;\n\tcin>>n>>m;\n\tfor(i=1;i<=m;i++){\n\t\tll s1,s2,s3;\n\t\tcin>>s1>>s2>>s3;\n\t\tstart(s1,s2,s3,i*2-1);//\u6b64\u5904\u8d77\u70b9\u4e0d\u786e\u5b9a\uff0c\u56e0\u6b64\u5f80\u8fd4\u7684\u8def\u6211\u90fd\u5b58\n\t}\n\tfor(i=1;i<=n;i++)\n\tf(i,1,0);//\u9012\u5f52\n\tcout<<maxl<<endl;\n\treturn 0;\n}\n```\n",
        "postTime": 1573816528,
        "uid": 133986,
        "name": "judgejudge",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u6c34\u9898\uff0c\u6570\u636e\u5f88\u5c0f\uff0c\u76f4\u63a5dfs\u5c31OK\u60f9\n\n\u6211\u8fd9\u91cc\u7528\u7684\u662f\u90bb\u63a5\u8868\u5b58\u56fe\uff0c\u4e0d\u8fc7\u65e2\u7136\u662f\u4e24\u4e24\u4e4b\u95f4\u6709\u8def\u7684\uff0c\u8fd8\u662f\u90bb\u63a5\u77e9\u9635\u5b58\u4f1a\u66f4\u4f18\u3002\n\n\u4f7f\u7528vis\u6570\u7ec4\u8bb0\u5f55\u6bcf\u4e2a\u70b9\u7684\u8bbf\u95ee\u60c5\u51b5\uff0c\u904d\u5386\u6bcf\u4e00\u6761\u51fa\u8fb9\uff0c\u8fd4\u56de\u503c\u662f\u4e0b\u4e00\u4e2a\u8282\u70b9\u5f00\u59cb\u7684\u6700\u957f\u8def\u52a0\u4e0a\u8fd9\u4e00\u6761\u8fb9\u7684\u957f\u5ea6\u3002\u7136\u540e\u56de\u6eaf\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include \"iostream\"\n#include \"cstdio\"\n#include \"cstring\"\nusing namespace std;\n\nint n, m, tot, head[25], ver[105], nxt[105], w[105], ans, vis[25];\n\ninline int get()\n{\n    int res = 0;\n    char c = getchar();\n    while (c < '0' || c > '9')\n        c = getchar();\n    while (c >= '0' && c <= '9')\n    {\n        res = res * 10 + c - '0';\n        c = getchar();\n    }\n    return res;\n}\n\ninline void add(int x, int y, int z)\n{\n    ver[++tot] = y;\n    nxt[tot] = head[x];\n    head[x] = tot;\n    w[tot] = z;\n}\n\nint dfs(int x)\n{\n    int res = 0;\n    for (int i = head[x]; i; i = nxt[i])\n    {\n        int v = ver[i];\n        if (vis[v])\n            continue;\n        vis[v] = true;\n        res = max(res, dfs(v) + w[i]);\n        vis[v] = false;\n    }\n    return res;\n}\n\nint main()\n{\n    n = get(), m = get();\n    int x, y, z;\n    for (int i = 1; i <= m; i++)\n    {\n        x = get(), y = get();\n        z = get();\n        add(x, y, z);\n        add(y, x, z);\n    }\n    for (int i = 1; i <= n; i++)\n    {\n        memset(vis, false, sizeof(vis));\n        vis[i] = true;\n        ans = max(ans, dfs(i));\n    }\n    cout << ans << endl;\n    return 0;\n}\n\n```\n",
        "postTime": 1568986291,
        "uid": 113696,
        "name": "Hanzire76",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u770b\u5230\u65c1\u8fb9\u7684\u4eba\u5728\u6253\u7136\u540e\u5c31\u6765\u519b\u5907\u7ade\u8d5b\u4e86\n\n\u7136\u540e\u53d1\u73b0\u3002\u3002\u3002\u662f\u9053\u6c34\u9898\n\n\u9996\u5148\uff0c\u4e00\u773c\u770b\u8fc7\u53bb\u6570\u636e\u8303\u56f4\uff0c\u53ef\u4ee5\u53d1\u73b0n\u7279\u522b\u5c0f\uff0c\u751a\u81f3\u8fdeFloyd\u90fd\u4e0d\u7528\u5199\uff0c\u53ef\u4ee5\u76f4\u63a5\u641c\n\n\u4f46$O($\u7384\u5b66$)$\u80af\u5b9a\u4e0d\u591f\u4f18\u79c0\uff0c\u8003\u8651\u4f7f\u7528\u72b6\u538bdp\uff08\u5176\u5b9e\u6807\u7b54\u5c31\u5e94\u8be5\u662f\u72b6\u538b\u7684\u8bf4\uff09\uff0c\u7528$f[i][bit(S)]$\u8868\u793a\u5f53\u524d\u505c\u7559\u5728\u7b2c$i$\u4e2a\u70b9\uff0c\u8d70\u8fc7\u7684\u70b9\u4e3a\u96c6\u5408$S$\u7684\u70b9\u7684\u6700\u957f\u8def\u5f84\uff0cbit\u8868\u793a\u96c6\u5408\u4e2d\u7684\u70b9\u72b6\u538b\u8868\u793a\u7684\u5f62\u5f0f\uff08\u6ca1\u5b66\u8fc7\u72b6\u538b\u7684\u53ef\u4ee5\u5148\u5b66\u4e00\u4e0b\uff09\u3002\n\n\u7136\u540e\u8f6c\u79fb\u5c31\u662f\uff1a\n\n$f[i][bit(j)]=max(f[id(k)][bit(j)-(1<<(id(k)-1))]+e),k\u2208j$,$e$\u8868\u793a\u8fb9\u6743,$id(x)$\u8868\u793a\u70b9x\u7684\u6807\u53f7\n\n\u5982\u679c\u4e0d\u597d\u8f6c\u5c31\u6539\u6210\u8fd9\u6837\uff0c\u518d\u7528bfs\u8bb0\u641c\u5f62\u5f0f\u8f6c\u79fb\uff1a\n\n$f[k][bit(j)+(1<<(id(k)-1))]=max(f[k][bit(j)+(1<<(id(k)-1))],f[i][bit(j)]+e),id(k)\u2208C_uj$\uff0c\u56e0\u4e3a\u662f\u4ece0\u5f00\u59cb\u8f6c\u7684\uff0c\u7531bfs\u6027\u8d28\u53ef\u77e5\uff0c\u5728\u8f6c\u79fb\u96c6\u5408$j$\u4e4b\u524d\uff0c\u6240\u6709$size(k)<size(j)$\u7684\u96c6\u5408k\u90fd\u5df2\u88ab\u8f6c\u79fb\u5b8c\u6bd5\u4e86\uff0c\u6240\u4ee5\u4e0d\u4f1a\u6709\u540e\u6548\u6027\n\nU\u8868\u793a\u6240\u6709\u7684\u70b9\n\n\u8fb9\u4e0d\u5b58\u5728\u7684\u76f4\u63a5\u628a$e$\u8d4b\u503c\u6210$inf$\u5c31\u884c\u3002\u590d\u6742\u5ea6\u4e0d\u592a\u4f1a\u7b97\uff0c\u53d6\u5927\u4e00\u70b9\u5927\u6982\u662f$O(2^n * n^2)$\u3002\u56e0\u4e3a\u592a\u8fc7\u57fa\u7840\u4e86\uff0c\u7a0b\u5e8f\u5c31\u4e0d\u7ed9\u4e86\uff08\u5176\u5b9e\u662f\u61d2\u5f97\u6253\uff09\n\n\u770b\u5f97\u61c2\u6b64\u7bc7\u9898\u89e3\u7684\u5927\u6982\u4e5f\u4e0d\u4f1a\u6765\u770b\u4e86\u5427\u3002\u3002",
        "postTime": 1567687910,
        "uid": 55357,
        "name": "Thaumaturge",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u6c34\u4e86\u8fd9\u4e48\u4e45\u7684\u7ea2\u9898\u548c\u6a59\u9898\uff0c\u7ec8\u4e8e\u505a\u4e86\u4e00\u6761\u9ec4\u9898\n\n#### \u6ce8\u610f\uff1a\u4e0d\u53bb\u6ca1\u6709\u8def\u7684\u70b9\uff0c\u4e0d\u53bb\u8d70\u8fc7\u7684\u70b9\uff08\u8d77\u59cb\u70b9\u65f6\u8981\u6807\u8bb0+\u56de\u6eaf\uff0c\u4e2d\u9014\u7ecf\u8fc7\u70b9\u65f6\u4e5f\u8981\u6807\u8bb0\u52a0\u56de\u6eaf\uff09\n\n\u65b9\u6cd5\u4e0d\u7b97\u590d\u6742\uff1a\u8fd8\u53ef\u4ee5\u4f18\u5316\uff08\u7528vector\uff09\n\n\u4e00\u4e2a\u4e09\u7ef4\u8bb0\u5f55\u8bb0\u5f55\u70b9\u81f3\u70b9\u4e4b\u95f4\u8def\u7684\u957f\u5ea6\uff0c\u4e00\u4e2a\u4e00\u7ef4\u8bb0\u5f55\u6709\u6ca1\u6709\u8d70\u8fc7\u540c\u65f6\u8bb0\u5f55\u6709\u6ca1\u6709\u8def\uff0cans\u8bb0\u5f55\u6700\u957f\u8def\uff08\u5373\u7b54\u6848\uff09\n\n```cpp\n#include<iostream>\nusing namespace std;\nint b[57],n,m,u,v,x,ans,a[57][57][3];\n//\u4e3a\u786e\u4fdd\u7a7a\u95f4\u4e0d\u7206\uff0c\u6570\u7ec4\u52a0\u5927\u4e00\u70b9\u70b9\nvoid dfs(int k,int length)\n//\u4e3a\u65b9\u4fbf\u8bb0\u5f55\u5f53\u524d\u8def\u957f\u5ea6\uff0c\u4e0d\u7528\u5168\u5c40\u53d8\u91cf\uff0c\u76f4\u63a5\u7528\u6df1\u641c\u4f20\u9012\n{\n    if(length>ans)ans=length;\n    //\u6240\u4ee5\u8981\u5148\u5224\u65ad\u4e00\u4e0b\u662f\u4e0d\u662f\u8d85\u8fc7\u4e4b\u524d\u6700\u957f\u7684\u8def\u4e86\n    for(int i=1;i<=n;i++)\n        if(b[i]&&a[k][i][1])\n        {\n            b[i]=0;\n            //\u6807\u8bb0\u8d70\u8fc7\n            dfs(i,length+a[k][i][1]);\n            //\u52a0\u4e0a\u4e24\u70b9\u95f4\u8def\u7684\u957f\u5ea6\n            b[i]=1;\n            //\u56de\u6eaf\n        }\n}\nint main()\n{\n    cin>>n>>m;\n    for(int i=1;i<=m;i++)\n    {\n        cin>>u>>v>>x;\n        b[u]++;b[v]++;\n        //\u8bfb\u5165\uff0c\u8bb0\u5f55\u8be5\u70b9\u6709\u8def\n        a[u][v][1]=x;a[v][u][1]=x;\n        //\u7ed9\u4e24\u70b9\u4e4b\u95f4\u7684\u8def\u8d4b\u503c\uff0c\u8bb0\u4f4f\u8fd9\u662f\u53cc\u5411\u56fe\n    }\n    for(int i=1;i<=n;i++)\n        if(b[i])//\u5982\u679c\u8fd9\u4e2a\u70b9\u6709\u8def\n        {\n            b[i]=0;//\u8bb0\u5f97\u6807\u8bb0\u8d70\u8fc7\n            dfs(i,0);\n            b[i]=1;//\u56de\u6eaf\n        }\n    cout<<ans;\n    return 0;\n}\n```\n",
        "postTime": 1555828626,
        "uid": 164840,
        "name": "zhaowangji",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u6c34\u4f53\u4e00\u9053\u3002~~\u7b2c\u4e00\u9053\u4e00\u6b21\u63d0\u4ea4\u5c31AC\u7684\u9ec4\u9898\uff08\u521a\u88ab\u5c0fb\u7684\u65c5\u884c\u8650\u5b8c\uff0c\u53d1\u73b0\u505a\u5b8c\u5c0fb\u7684\u65c5\u884c\u4e4b\u540e\u505a\u5176\u4ed6\u9898\u90fd\u50cf\u662f\u6c34\u9898\u4e86\uff09~~\n\n------------\n\n\u4e0d\u591a\u8bf4\u4e86\uff0c\u697c\u4e0b\u8bb2\u7684\u5f88\u6e05\u695a\uff0cflag\u6570\u7ec4\u5b58\u50a8\u662f\u5426\u6709\u8fb9\uff08\u6ce8\u610f\u662f\u65e0\u5411\u56fe\uff09\uff0c\u7136\u540e\u88f8dfs~~\uff08\u4e00\u76f4\u62c5\u5fc3\u4f1a\u8d85\u65f6\uff0c\u53ef\u6ca1\u6709\u4efb\u4f55\u526a\u679d\u7684dfs\u5c45\u7136\u90fdAC\u4e86\uff09~~\n\n\u76f4\u63a5\u4e0a\u4ee3\u7801\uff1a\n```cpp\n#include <iostream>\nusing namespace std;\nint n,m,u,v,x;\nint a[101][101];\nbool flag[101][101];\nbool vis[101];\nint maxx=0;\nint maxn=0;\nvoid dfs(int now,int sum)\n{\n\tmaxx=max(maxx,sum);\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tif(!vis[i] && flag[now][i])\n\t\t{\n\t\t\tvis[i]=1;\n\t\t\tdfs(i,sum+a[now][i]);\n\t\t\tvis[i]=0;\n\t\t}\n\t}\n}\nint main()\n{\n\tcin>>m>>n;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>u>>v>>x;\n\t\ta[u][v]=x;\n\t\ta[v][u]=x;\n\t\tflag[u][v]=1;//\u4e3a\u4e86\u907f\u514d\u610f\u5916\uff0c\u5355\u72ec\u5efa\u4e00\u4e2aflag\u6570\u7ec4\u5b58\u50a8\u662f\u5426\u6709\u8fb9\n\t\tflag[v][u]=1;\n\t}\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tvis[i]=1;\n\t\tdfs(i,0);\n\t\tvis[i]=0; \n\t\tmaxn=max(maxx,maxn);//\u4e2a\u4eba\u4e60\u60ef\n\t\tmaxx=0;\n    }\n\tcout<<maxn<<endl;\n\treturn 0;//\u517b\u6210\u597d\u4e60\u60ef\n}\n```",
        "postTime": 1541146756,
        "uid": 48722,
        "name": "JosephDai",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u672c\u9898\u662f\u4e00\u9053\u5f88\u597d\u7684\u641c\u7d22\u7ec3\u624b\u9898\n\n\u672c\u849f\u84bb\u7528\u7684\u662f\u6df1\u641c\uff08\u72b6\u6001\u6bd4\u8f83\u597d\u6e05\u7406\uff09\n\n\u9996\u5148 \u679a\u4e3e\u8d77\u70b9\n\n\u7136\u540e dfs \u6bcf\u4e00\u6b21\u90fd\u66f4\u65b0ans \u53bb\u8fc7\u7684\u70b9\u6253\u4e0a\u6807\u8bb0\n\n\u6ce8\u610f\u56de\u6eaf\n\n\u8003\u5230\u672c\u9898\u6570\u636e\u8303\u56f4 \u4f7f\u7528\u90bb\u63a5\u77e9\u9635\n\n# CODE\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<cstdlib>\n#include<string>\n#include<queue>\n#include<map>\n#include<stack>\n#include<list>\n#include<set>\n#include<deque>\n#include<vector>\n#include<ctime>\n#define NiuBi 0\n#define N 500008\n#define ll long long\n#define inf 0x7fffffff\n#define D double\n#define U unsigned\n#define R register\nusing namespace std;\ntemplate<typename T>void read(T &a)\n{\n    T x=0,f=1;char ch=getchar();\n    while(!isdigit(ch))\n    {\n        if(ch=='-')f=0;ch=getchar();\n    }\n    while(isdigit(ch))\n    {\n        x=(x<<1)+(x<<3)+ch-'0';ch=getchar();\n    }\n    a=f?x:-x;\n}\n/*-------------OI\u4f7f\u6211\u5feb\u4e50---------------------*/\nll mapp[101][101];\nll to[101][101];\nll num[101];\nbool vis[1001];\nll ans=-1;\nll x,y,z;\nll n,m;\nvoid dfs(ll a,ll b)\n{\n    ans=max(ans,b);//\u66f4\u65b0\n    for(ll i=1;i<=num[a];i++)\n    {\n        ll v=to[a][i];\n        if(!vis[v])//\u4e00\u4e2a\u70b9\u53ea\u53ef\u4ee5\u8d70\u4e00\u6b21\n        {\n            vis[v]=1;\n            dfs(v,b+mapp[a][v]);\n            vis[v]=0;//\u56de\u6eaf\n        }\n    }\n}\nsigned main()\n{\n    read(n);read(m);\n    for(ll i=1;i<=m;i++)\n    {\n    \tread(x);read(y);read(z);\n    \tmapp[x][y]=mapp[y][x]=z;\n    \tto[x][++num[x]]=y;\n    \tto[y][++num[y]]=x;\n        //\u90bb\u63a5\u77e9\u9635\u5b58\u56fe\n    }\n    for(ll i=1;i<=n;i++)//\u679a\u4e3e\u8d77\u70b9\n    {\n        vis[i]=1;\n        dfs(i,0);\n        vis[i]=0;//\u56de\u6eaf\n    }\n    cout<<ans<<endl;\n    return NiuBi;//\u9632\u6284\u88adtag\n}\n```",
        "postTime": 1535877066,
        "uid": 87931,
        "name": "tcswuzb",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u6c34\u4e00\u53d1py~\n```cpp\ndef dfs(u,s):\n    global ans\n    global p\n    if s>ans:\n        ans=s\n    for k in range(m+m):\n        if x[k]==u:\n            if not(y[k] in p):\n                p+=[y[k]]\n                dfs(y[k],s+w[k])\n                p=p[0:len(p)-1]\ns=input().split()\nn=int(s[0])\nm=int(s[1])\nx=[]\ny=[]\nw=[]\nfor i in range(m+1)[1:m+1]:\n    s=input().split()\n    x+=[int(s[0])]\n    y+=[int(s[1])]\n    w+=[int(s[2])]\n    x+=[int(s[1])]\n    y+=[int(s[0])]\n    w+=[int(s[2])]\nans=0\nfor i in range(n+1)[1:n+1]:\n    p=[i]\n    dfs(i,0)\nprint(ans)\n    \n\n```\n\uff08\u542c\u8bf4\u795e\u5947\u8bed\u8a00\u66f4\u5bb9\u6613\u8fc7\u9898\u89e3~\uff09\n    \n",
        "postTime": 1535812503,
        "uid": 50301,
        "name": "PY_Fighter",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u94fe\u5f0f\u524d\u5411\u661f+\u641c\u7d22\n\n\u8fd8\u7b97\u662f\u6bd4\u8f83\u6c34\u5427\u2026\u2026\n\n\u6ce8\u610f\u662f\u65e0\u5411\u56fe\uff0c\u9700\u8981\u5b58\u4e24\u6b21\n\n\u53ef\u80fd\u5b58\u5728\u7684\u9519\u8bef\uff1aDFS\u540e\u5fd8\u8bb0\u56de\u6eaf\n\n```cpp\n#include <cstdio>\n#include <complex>\ninline int read()\n{//\u8bfb\u4f18 \n\tint n=0,w=1;register char c=getchar();\n\twhile(c<'0'||c>'9'){if(c=='-')w=-1;c=getchar();}\n\twhile(c>='0'&&c<='9')n=n*10+c-'0',c=getchar();\n\treturn n*w;\n}\nconst int N=51;\nstruct Edge{\n\tint v,w,nxt;\n}edge[N<<1];\nint n,m,tot,ans,head[N];\nbool vis[N];\ninline int max(int x,int y)\n{return x>y?x:y;}\ninline void add(int u,int v,int w)\n{\n\tedge[++tot].v=v;\n\tedge[tot].w=w;\n\tedge[tot].nxt=head[u];\n\thead[u]=tot;\n}\nvoid dfs(int x,int sum)\n{\n\tans=max(ans,sum);//\u663e\u7136\u5728\u8fd9\u91cc\u53d6\u4e86max\u4e4b\u540e\u7b54\u6848\u4e0d\u4f1a\u66f4\u5dee \n\tfor(int v,i=head[x];i;i=edge[i].nxt)\n\t{//\u679a\u4e3e\u51fa\u8fb9 \n\t\tv=edge[i].v;\n\t\tif(!vis[v])\n\t\t{\n//\t\t\tprintf(\"%d \",v);\n\t\t\tvis[v]=true;//\u6807\u8bb0\u7f6e\u4e3atrue\uff0c\u8868\u793a\u5df2\u7ecf\u7ecf\u8fc7\u4e86\u8fd9\u4e2a\u70b9 \n\t\t\tdfs(v,sum+edge[i].w);\n\t\t\tvis[v]=false;//\u56de\u6eaf\u7684\u65f6\u5019\u8bb0\u5f97\u6807\u8bb0\u7f6e\u4e3afalse\uff0c\u8868\u793a\u8fd9\u6761\u8def\u5f84\u4e0a\u9762\u8fd8\u6ca1\u6709\u7ecf\u8fc7\u8fd9\u4e2a\u70b9 \n\t\t}\n\t}\n}\nint main()\n{\n//\tfreopen(\"testdata.in\",\"r\",stdin);\n\tn=read(),m=read();\n\tfor(int u,v,w,i=0;i<m;++i)\n\t{\n\t\tu=read(),v=read(),w=read();\n\t\tadd(u,v,w);add(v,u,w);\n\t}\n\tfor(int i=1;i<=n;++i)\n\t{//\u6bcf\u6b21\u6362\u4e0d\u540c\u7684\u8d77\u59cb\u70b9\n//\t\tprintf(\"%d \",i);\n\t\tvis[i]=true;\n\t\tdfs(i,0);\n\t\tvis[i]=false;\n//\t\tprintf(\"\\n\");\n\t}\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1522327561,
        "uid": 39864,
        "name": "\u4e0d\u4e89\u4e0d\u95f9",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "## \u90bb\u63a5\u77e9\u9635\u5b58\u56fe+dfs\u6c34\u9898\n\n    \n```cpp\n#include <iostream>//\u5934\u6587\u4ef6\n#include <cstdio>\n#include <cstring>\n#include <string>\nusing namespace std;\nint n,m;//n\u4e2a\u666f\u70b9\uff0cm\u6761\u8def\nint f,t,dis,cnt,maxn;//from\uff0cto\uff0cdistance\uff0ccount\uff0cmax distance\nint path[21][21],che[21];//\u90bb\u63a5\u77e9\u9635\nvoid dfs(int now,int len){//dfs\n    che[now]=1;//\u8be5\u666f\u70b9\u5df2\u5230\u8fc7\n    for(int i=1;i<=n;i++){//\u904d\u5386\u6bcf\u4e00\u6761\u4e0e\u8be5\u666f\u70b9\u76f8\u901a\u7684\u70b9\uff08\u4e8b\u5b9e\u4e0a\u53ea\u6709\u4e24\u6761\uff09\n        if(!che[i]&&path[now][i]>0){//\u5982\u679c\u672a\u5230\u8fc7\u8be5\u666f\u70b9\u4e14\u4e24\u666f\u70b9\u95f4\u6709\u8def\n            che[i]=1,cnt+=path[now][i];//\u6807\u8bb0\u4e3a\u5230\u8fc7\uff0c\u8bb0\u5f55\u5f53\u524d\u8def\u5f84\u957f\n            maxn=max(maxn,cnt);//\u540c\u65f6\u66f4\u65b0\u6700\u5927\u503c\n            dfs(i,cnt);//\u4ee5\u5f53\u524d\u666f\u70b9\u4e3a\u8d77\u70b9\u7ee7\u7eed\u641c\n            che[i]=0,cnt-=path[now][i];//\u6062\u590d\u72b6\u6001\n        }\n    }\n}\nint main(){\n    memset(path,0,sizeof(path));//\u521d\u59cb\u5316\u5f53\u505a\u4e60\u60ef\n    memset(che,0,sizeof(che));\n    cin>>n>>m;//\u8bfb\u5165\n    for(int i=1;i<=m;i++){//\u65e0\u5411\u56fe\u5b58\u50a8\n        cin>>f>>t>>dis;\n        path[f][t]=dis;\n        path[t][f]=dis;\n    }\n    for(int i=1;i<=n;i++){//\u679a\u4e3e\u6bcf\u4e00\u4e2a\u51fa\u53d1\u70b9\n        cnt=0;//\uff01\uff01\uff01\n        dfs(i,cnt);\n        memset(che,0,sizeof(che));//\uff01\uff01\uff01\uff01\n    }\n    cout<<maxn;//\u8f93\u51fa\u7ed3\u679c\u5c31\u597d\u4e86\n    return 0;//\u6700\u597d\u8fd8\u662f\u52a0\u4e0a\n}\n```",
        "postTime": 1510032421,
        "uid": 44669,
        "name": "fletmer",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u597d\u591apascal\u7684\u9898\u89e3\uff0c\u6211\u5c31\u6765\u8d21\u732e\u4e2aC++\u7684\u3002\n\n\u7528\u90bb\u63a5\u77e9\u9635\u5b58\u50a8\u8fb9\u7684\u4fe1\u606f\uff0c\u7136\u540e\u641c\u7d22\uff0c\u65e0\u9700\u526a\u679d\uff0c\u641c\u7d22\u5e26\u4e09\u4e2a\u53c2\u6570\uff1a\u4f4d\u7f6e\uff0c\u503c\uff0c\u662f\u5426\u662f\u7b2c\u4e00\u4e2a\u641c\u7684\u3002\n\n\u5982\u679c\u662f\u7b2c\u4e00\u4e2a\u641c\u7684\uff0c\u679a\u4e3e\u5b8c\u76f4\u63a5x+1\uff0c\u5426\u5219\u56de\u6eaf\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstdlib>\n#include<iostream>\nusing namespace std;\nint i,j,k,n,m,tot,ans;\nint b[25],f[55][55];\nint read()       //\u8bfb\u5165\u4f18\u5316\u3002\n{\n    char c;int x;while(c=getchar(),c<'0'||c>'9');x=c-'0';\n    while(c=getchar(),c>='0'&&c<='9') x=x*10+c-'0';\n    return x;\n} \nint max(int a,int b){return a>b?a:b;}\nvoid dfs(int x,int num,int re){       //\u4e09\u4e2a\u53c2\u6570\n    if(x==n+1){\n        ans=max(ans,num);\n        return;\n    }\n    for(int i=1;i<=n;i++)\n    if(b[i]==0&&f[x][i]>0)\n       {b[x]=1;dfs(i,num+f[x][i],1);b[x]=0;} \n    if(re==0) dfs(x+1,num,0);\n    else{\n        ans=max(ans,num);\n        return;\n    }\n}\nint main()\n{\n    n=read();m=read();\n    for(int i=1;i<=m;i++){\n        int x=read();int y=read();\n        f[x][y]=f[y][x]=read();\n    }\n    dfs(1,0,0);\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1495285114,
        "uid": 26880,
        "name": "XUCHENGHUI",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1294 \u3010\u9ad8\u624b\u53bb\u6563\u6b65\u3011"
    }
]