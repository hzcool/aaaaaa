[
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](/problem/P9124) | [\u73c2\u80fd\u66f4\u597d\u7684\u98df\u7528\u4f53\u9a8c](/blog/560595/solution-p9124)\n\n### \u9898\u610f\u6982\u8ff0\n- \u5976\u725b\u9700\u8981\u4e3a TA \u7684 $n$ \u4e2a\u670b\u53cb\u5236\u4f5c\u7cd5\u70b9\uff08$a_i$ \u4e2a $A$ \u548c $b_i$ \u4e2a $B$\uff09\u3002\u6bcf\u4e2a\u670b\u53cb\u6700\u591a\u7b49\u5f85 $c_i$ \u4e2a\u5355\u4f4d\u65f6\u95f4\uff0c\u5982\u679c\u6ca1\u6709\u62ff\u5230\u7cd5\u70b9\uff0cTA \u5c31\u4f1a\u4f24\u5fc3\u5730\u79bb\u5f00\u3002\n- \u5236\u4f5c $1$ \u4e2a $A$ \u9700\u8981 $t_c$ \u4e2a\u5355\u4f4d\u65f6\u95f4\uff0c\u5236\u4f5c $1$ \u4e2a $B$ \u9700\u8981 $t_m$ \u4e2a\u5355\u4f4d\u65f6\u95f4\u3002\n- \u5976\u725b\u53ef\u4ee5\u82b1\u8d39 \uffe5$1$ \u53bb\u5347\u7ea7 TA \u7684\u70e4\u7bb1\u3002\u5347\u7ea7\u540e\uff0c\u53ef\u4ee5\u5c11\u82b1 $1$ \u4e2a\u5355\u4f4d\u65f6\u95f4\u6765\u751f\u4ea7 $1$ \u4e2a  $A$ \u6216\u5c11\u82b1 $1$ \u4e2a\u5355\u4f4d\u65f6\u95f4\u6765\u751f\u4ea7 $1$ \u4e2a $B$\u3002\n- \u6c42\u51fa\u5979\u5fc5\u987b\u82b1\u8d39\u7684\u6700\u5c11\u7684 money\uff0c\u4ee5\u4fbf\u5979\u7684\u9762\u5305\u5e97\u80fd\u591f\u6ee1\u8db3\u6240\u6709\u670b\u53cb\u7684\u9700\u6c42\u3002\n\n---\n### \u89e3\u9898\u601d\u8def\n\u6211\u4eec\u53ef\u4ee5\u5148\u5047\u8bbe\u5bf9\u4e8e\u7b2c $i$ \u4e2a\u670b\u53cb\uff08\u8ba2\u5355\uff09\uff0c\u9700\u8981\u5347\u7ea7 $x$ \u6b21 $A$ \u70e4\u7bb1\uff0c $y$ \u6b21 $B$ \u70e4\u7bb1\u3002\n\n\u4e8e\u662f\uff0c\u663e\u800c\u6613\u89c1\u7684\uff1a~~\uff08\u770b\u8d77\u6765\u5f88\u7b80\u6d01\u4f46\u4e00\u70b9\u90fd\u4e0d\u597d\u89e3\uff09~~\n\n$$a_i \\times (t_c-x) + b_i \\times (t_m-y) \\leqslant c_i$$\n\n\u4ee4 $mid=x+y$\uff0c\u4e8e\u662f\uff1a\n$$\na_i \\times t_c-a_i \\times x+b_i \\times t_m - b_i \\times mid+b_i \\times x \\leqslant c_i\n$$\n$$\n\\therefore (b_i-a_i)\\times x \\leqslant c_i-a_i \\times t_c-b_i\\times t_m+b_i\\times mid\n$$\n\u4ee4 $k_i=c_i-a_i \\times t_c-b_i\\times t_m+b_i\\times mid$\uff0c\n\n\n\u6240\u4ee5\uff0c\u5c31\u53ef\u4ee5\u6839\u636e\u4e0a\u8ff0\u4e0d\u7b49\u5f0f\u8fdb\u884c**\u4e8c\u5206\u7b54\u6848**\u4e86\u3002\uff08\u4e8c\u5206\u7684\u5f53\u7136\u662f $x+y$\u3002\uff09\n\n\u63a5\u4e0b\u6765\uff0c\u6d45\u6d45\u8bf4\u4e00\u4e0b\u4e0d\u7b49\u5f0f\u7684\u89e3\u96c6\uff1a\n\n$$\n\\begin{cases}x=\\varnothing, &b_i-a_i=0 \\\\ x\\leqslant \\dfrac{k_i}{b_i-a_i} , &b_i-a_i>0\\\\ x\\geqslant \\dfrac{k_i}{b_i-a_i} , &b_i-a_i<0\\end{cases}\n$$\n\n\u4e0a\u8ff0\u7b2c $2$ \u4e2a\u5f0f\u5b50\u7528\u4e8e\u9501\u5b9a\u89e3\u96c6\u7684**\u4e0a\u9650**\uff0c\u7b2c $3$ \u4e2a\u5f0f\u5b50\u7528\u4e8e\u9501\u5b9a\u89e3\u96c6\u7684**\u4e0b\u9650**\u3002\n\n\u540c\u65f6\uff0c$x$ \u4e0e $y$ \u7684\u503c\u5e94\u8be5\u4e3a\u6574\u6570\u3002\u6240\u4ee5\u4e3a\u4e86\u4fbf\u4e8e\u5927\u5bb6\u7406\u89e3\u7a0b\u5e8f\uff0c\u89e3\u96c6\u5e94\u8be5\u5199\u6210\u4e0b\u9762\u8fd9\u4e2a\u4e9a\u5b50\u3002\n\n$$\n\\begin{cases}x=\\varnothing, &b_i-a_i=0 \\\\\\\\ \nx\\leqslant \\left\\lfloor\\dfrac{k_i}{b_i-a_i}\\right\\rfloor , &b_i-a_i>0\\\\\\\\\nx\\geqslant \\left\\lceil\\dfrac{k_i}{b_i-a_i}\\right\\rceil, &b_i-a_i<0\\end{cases}\n$$\n\n---\n### Code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long T,n,tc,tM,a[110],b[110],c[110];\nbool check(long long x)\n{\n\tlong long maxx=min(tc-1,x);\n\tlong long minn=max(0LL,x-tM+1);\n\tfor(int i=1; i<=n; i++)\n\t{\n\t\tlong long k=c[i]-a[i]*tc-b[i]*tM+b[i]*x;\n\t\tif(b[i]-a[i]==0)\n\t\t{\t\n\t\t\tif(k<0) return false;\n\t\t}\n\t\telse if(b[i]-a[i]>0) maxx=min(maxx,(long long)floor(k*1.0/(b[i]-a[i])));//\u4e8c\u5f0f\n\t\telse minn=max(minn,(long long)ceil(k*1.0/(b[i]-a[i])));//\u4e09\u5f0f\n\t}\n\treturn maxx>=minn;//\u5224\u65ad\u662f\u5426\u6709\u89e3\n}\nint main()\n{\n\tfor(cin>>T;T;T--)\n\t{\n\t\tcin>>n>>tc>>tM;\n\t\tfor(int i=1; i<=n; i++)\n\t\t\tcin>>a[i]>>b[i]>>c[i];\n\t\tlong long l=-1,r=tc+tM-1;\n\t\twhile(l+1<r)//\u7b80\u5355\u7684\u4e8c\u5206\u7b54\u6848\n\t\t{\n\t\t\tlong long mid=l+r>>1;\n\t\t\tif(check(mid)) r=mid;\n\t\t\telse l=mid;\n\t\t}\n\t\tcout<<r<<endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1681711953,
        "uid": 560595,
        "name": "Brown_Sugar",
        "ccfLevel": 0,
        "title": "P9124 [USACO23FEB] Bakery S \u9898\u89e3"
    },
    {
        "content": "[\u53ef\u80fd\u66f4\u597d\u7684\u98df\u7528\u4f53\u9a8c](/blog/523641/P9124) $|$ \n[\u9898\u76ee\u4f20\u9001\u95e8](/problem/P9124) $|$ \n[\u6211\u7684\u5176\u4ed6\u9898\u89e3](/blog/523641/#type=\u9898\u89e3-New)\n\n------------\n\n${\\large\\color{#00CD00}\\text{\u601d\u8def}}$\n\n\u8bbe\u5347\u7ea7\u997c\u5e72 $x$ \u6b21\uff0c\u5347\u7ea7\u677e\u7cd5 $y$ \u6b21\u3002\u8003\u8651\u4f7f\u7528\u4e8c\u5206\u7b54\u6848\u3002\u7136\u800c\uff0c\u5355\u72ec\u7684 $x$ \u6216 $y$ \u90fd\u4e0d\u5177\u6709\u5355\u8c03\u6027\u3002\u4f46\u662f\u9898\u76ee\u6240\u6c42\u7684\u603b\u94b1\u6570\uff0c\u5373 $x+y$ \u662f\u5177\u6709\u5355\u8c03\u6027\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u53ef\u4ee5\u5bf9 $x+y$ \u8fdb\u884c\u4e8c\u5206\u7b54\u6848\u3002\n\n\u63a5\u4e0b\u6765\u8003\u8651\u5982\u4f55\u5224\u65ad\u7b54\u6848\u6b63\u786e\u6027\u3002\u8bbe\u5f53\u524d\u4e8c\u5206\u7684\u7b54\u6848 $mid=x+y$\uff0c\u5219 $y=mid-x$\u3002\u5bf9\u4e8e\u7b2c $i$ \u4e2a\u670b\u53cb\uff0c\u8981\u6ee1\u8db3\u4ed6\u7684\u9700\u6c42\uff0c\u5219\u9700\u8981\u6ee1\u8db3\uff1a\n$$a_i\\times(tc-x)+b_i\\times(tm-y)\\le c_i$$\n\u5c06 $y=mid-x$ \u4ee3\u5165\uff0c\u5f97\uff1a\n$$a_i\\times(tc-x)+b_i\\times[tm-(mid-x)]\\le c_i$$\n\u518d\u5c06\u8fd9\u4e2a\u5f0f\u5b50\u5c55\u5f00\uff0c\u5f97\uff1a\n$$a_i\\times tc-a_i\\times x+b_i\\times tm-b_i\\times mid+b_i\\times x \\le c_i$$\n\u7a0d\u5fae\u53d8\u5f62\u4e00\u4e0b\uff0c\u5f97\uff1a\n$$(b_i-a_i)\\times x \\le c_i-a_i\\times tc-b_i\\times tm+b_i\\times mid$$\n\u4ee4 $t=b_i-a_i$\uff0c$k=c_i-a_i\\times tc-b_i\\times tm+b_i\\times mid$\uff0c\u5f97 $t\\times x\\le k$\u3002\u63a5\u4e0b\u6765\u5bf9\u8fd9\u4e2a\u5f0f\u5b50\u8fdb\u884c\u5206\u7c7b\u8ba8\u8bba\u3002\n\n- \u82e5 $t=0$\uff0c\u5219\u5f53 $k<0$ \u65f6\uff0c$x$ \u65e0\u89e3\u3002\n- \u82e5 $t>0$\uff0c\u5219 $x \\le \\lfloor\\frac{k}{t}\\rfloor$\u3002\u636e\u6b64\u53ef\u6c42\u5f97 $x$ \u7684\u4e0a\u9650 $ma$\u3002\n- \u82e5 $t<0$\uff0c\u5219 $x \\ge \\lceil\\frac{k}{t}\\rceil$\u3002\u636e\u6b64\u53ef\u6c42\u5f97 $x$ \u7684\u4e0b\u9650 $mi$\u3002\n\n\u6700\u540e\uff0c\u82e5 $ma\\ge mi$\uff0c\u5219\u8be5\u7b54\u6848\u53ef\u884c\uff0c\u53cd\u4e4b\u5219\u4e0d\u53ef\u884c\u3002\n\n------------\n\n${\\large\\color{#00CD00}\\text{\u4ee3\u7801}}$\n\n```cpp\n#include<bits/stdc++.h>\n#define LL long long\nusing namespace std;\nLL T,n,tc,tm;\nLL a[105],b[105],c[105];\nbool ok(LL mid)\n{\n    LL ma=min(tc-1,mid),mi=max(0,mid-tm+1);//\u6ce8\u610fma\u548cmi\u7684\u521d\u503c\n    for(int i=1;i<=n;i++)\n    {\n        LL t=b[i]-a[i],k=c[i]-a[i]*tc-b[i]*tm+b[i]*mid;\n        if(t==0&&k<0)return false;\n        if(t>0)ma=min(ma,(LL)floor(k*1.0/t));\n        if(t<0)mi=max(mi,(LL)ceil(k*1.0/t));\n    }\n    return ma>=mi;\n}\nint main()\n{\n    for(cin>>T;T;T--)\n    {\n        cin>>n>>tc>>tm;\n        for(int i=1;i<=n;i++)\n            cin>>a[i]>>b[i]>>c[i];\n        LL l=-1,r=tc+tm;//r\u80fd\u53d6\u52300\uff0c\u6240\u4ee5l\u8981\u4ece-1\u5f00\u59cb\n        while(l+1<r)\n        {\n            LL mid=(l+r)/2;\n            if(ok(mid))r=mid;\n            else l=mid;\n        }\n        cout<<r<<endl;\n    }\n    return 0;\n}\n```",
        "postTime": 1681794498,
        "uid": 523641,
        "name": "sto_yfz_orz",
        "ccfLevel": 5,
        "title": "P9124 [USACO23FEB] Bakery S \u9898\u89e3"
    },
    {
        "content": "\u5982\u679c $t_c$ \u51cf\u5c11\u4e86\uff0c\u4e8c\u5206\u4e00\u4e2a\u6700\u5c0f\u7684 $t_m$ \u7684\u51cf\u5c11\u91cf\u662f\u5bb9\u6613\u7684\uff0c\u6240\u4ee5\u66b4\u529b\u662f\u597d\u505a\u7684\uff1a\u679a\u4e3e $\\Delta t_c$\uff0c\u4e8c\u5206$\\Delta t_m$\uff0c\u7136\u540e\u53d6\u76f8\u52a0\u7684\u6700\u5c0f\u503c\u3002\n\n\u5bb9\u6613\u53d1\u73b0\uff0c\u5982\u679c $\\Delta t_c$ \u548c $\\Delta t_m$ \u53ef\u4ee5\u662f\u5b9e\u6570\u7684\uff0c\u90a3\u4e48\u8fd9\u4e2a\u4e1c\u897f\u5176\u5b9e\u662f\u4e0b\u51f8\u7684\u3002\u8fd9\u542f\u53d1\u6211\u4eec\u7ee7\u7eed~~\u4e71\u641e~~ \u5f80\u4e09\u5206\u7684\u65b9\u5411\u8003\u8651\u3002\u6211\u4eec\u4e09\u5206\u4e00\u6b21 $t_c$\uff0c\u7136\u540e\u4e09\u5206 $t_m$\uff0c\u590d\u6742\u5ea6 $O(n\\log^2 V)$\u3002\n\n```cpp\n\n#include <bits/stdc++.h>\ntypedef long long ll;\ntypedef unsigned long long ull;\nusing namespace std;\nconst int N = 100 + 5;\nint n, Tc, Tm, a[N], b[N];\nll c[N];\ninline bool check(int x, int y) {\n    for (int i = 1; i <= n; i++)\n        if (1ll * (Tc - x) * a[i] + 1ll * (Tm - y) * b[i] > c[i])\n            return false;\n//  cerr << x << ' ' << y << '\\n';\n    return true;\n}\ninline ll calc(int x) {\n    int l = 0, r = Tm - 1, y = INT_MAX;\n//  cerr << x << '\\n';\n    while (l <= r) {\n        int mid = (l + r) >> 1;\n        if (check(x, mid))\n            y = mid, r = mid - 1;\n        else\n            l = mid + 1;\n    }\n    if (y == INT_MAX)\n        return INT_MAX;\n    return 1ll * x + y;\n}\ninline ll Solve() {\n    int l = 0, r = Tc - 1;\n    ll res = INT_MAX;\n    while (l <= r) { // \u4e00\u5f00\u59cb\u6709\u4e00\u4e9b delta tc \u662f\u4e0d\u5408\u6cd5\u7684\uff0c\u5148\u627e\u5230\u4e00\u4e2a\u5408\u6cd5\u7684\n        int mid = (l + r) >> 1;\n        if (calc(mid) == INT_MAX)\n            l = mid + 1;\n        else\n            res = mid, r = mid - 1;\n    }\n    l = res, r = Tc - 1;\n    res = INT_MAX;\n    while (l < r) {\n        int m1 = l + (r - l) / 3, m2 = r - (r - l) / 3;\n        if (calc(m1) > calc(m2))\n            l = m1 + 1;\n        else\n            r = m2 - 1;\n    }\n    return calc(l);\n}\ninline void solve() {\n    cin >> n >> Tc >> Tm;\n    for (int i = 1; i <= n; i++)\n        cin >> a[i] >> b[i] >> c[i];\n    ll ans = Solve();\n    swap(Tc, Tm);\n    for (int i = 1; i <= n; i++)\n        swap(a[i], b[i]);\n    ll Ans = Solve();\n    cout << min(ans, Ans) << '\\n';\n}\nsigned main() {\n    cin.tie(nullptr)->sync_with_stdio(false);\n    int T;\n    cin >> T;\n    while (T--)\n        solve();\n    return 0;\n}\n```",
        "postTime": 1678153145,
        "uid": 434929,
        "name": "Usada_Pekora",
        "ccfLevel": 7,
        "title": "P9124 \u4e09\u5206\u5957\u4e8c\u5206"
    },
    {
        "content": "### \u9898\u76ee\u7b80\u4ecb\n\u6709 $n$ \u4e2a\u4eba\u6765\u4e70\u4e24\u79cd\u4e1c\u897f\uff0c\u8981\u4f7f $ a_i \\times t_c +b_i \\times t_m \\leq c_i $\uff0c\u4f60\u53ef\u7528\u4e00\u5757\u94b1\u51cf\u5c11 $t_c$ \u6216 $t_m$ \u4e00\u4e2a\u5355\u4f4d\u65f6\u95f4\uff0c\u4f46\u4e0d\u80fd\u51cf\u5230\u96f6\u3002\n\n\u6c42\u6700\u5c11\u8981\u82b1\u8d39\u591a\u5c11\u94b1\uff0c\u624d\u80fd\u4f7f\u4e0a\u5f0f\u6210\u7acb\u3002\n\n### \u601d\u8def\n\u5047\u8bbe\u64cd\u4f5c\u540e\uff0c$tc$ \u51cf\u53bb $x$\uff0c$tm$ \u51cf\u53bb $y$\uff0c\u7b54\u6848\u5c31\u662f $x+y$\u3002\n\n\u5f88\u5bb9\u6613\u60f3\u5230\u4e8c\u5206\uff0c\u90a3\u4e48\u4e8c\u5206\u4ec0\u4e48\u5462\uff1f\n\n\u4e8c\u5206 $x$\uff08\u6216 $y$\uff09\u5417\uff1f\u4e0d\u5bf9\uff0c\u4e0d\u5177\u6709\u5355\u8c03\u6027\uff0c\u56e0\u4e3a\u8fd8\u53ef\u4ee5\u8c03\u6574 $y$\u3002\u53ef\u80fd\u628a $x$ \u8c03\u5927\u70b9\uff0c$y$ \u8c03\u5c0f\u70b9\uff0c\u8bf4\u4e0d\u5b9a\u66f4\u4f18\uff1f\n\n\u4f46 $x+y$ \u4e00\u5b9a\u5177\u6709\u5355\u8c03\u6027\uff0c\u663e\u800c\u6613\u89c1\u3002\u4e8e\u662f\u95ee\u9898\u53d8\u4e3a\u4e86\u68c0\u9a8c\u6b63\u786e\u6027\u3002\n\n\u600e\u4e48\u68c0\u9a8c\u554a\uff1f\u8bbe $mid = x+y$\uff0c\u63a8\u4e0b\u4e0d\u7b49\u5f0f\u5457\u3002\n\n$ a \\times (t_c-x)+b \\times [t_m-(mid-x)]\u2264c $\u3002\n\n\u62c6\u62ec\u53f7\u5f97\uff1a\n\n$ a \\times t_c-a \\times x+b \\times t_m-b \\times mid+b \\times x\u2264c $\u3002\n\n\u4e0b\u4e00\u6b65\u600e\u4e48\u641e\uff1f\u4e0d\u59a8\u8bd5\u8bd5\uff1a\u79fb\u9879\u628a $a$ \u548c $b$ \u51d1\u5728\u4e00\u8d77\u3002\n\n$ b \\times x-a \\times x\u2264c-a \\times t_c-b \\times t_m+b \\times mid $\u3002 \n\n\u5373\uff1a\n\n$ (b-a) \\times x\u2264c-a \\times t_c-b \\times t_m+b \\times mid $\u3002\n\n\u4e3a\u4e86\u65b9\u4fbf\uff0c\u8bbe\uff1a\n\n$ k = c-a \\times t_c-b \\times t_m+ b \\times mid $\u3002\n\n\u4e8e\u662f\u5c31\u80fd\u5bf9 $a-b$ \u7684\u53d6\u503c\u5206\u7c7b\u8ba8\u8bba\u5566\u3002\n\n- \u82e5 $a-b>0$\uff1a\u539f\u5f0f\u4e0d\u53d8\uff0c$x \\leq \\frac{k}{a-b}$\uff0c\u5411\u4e0b\u53d6\u503c\uff08 floor \uff09\u3002\n- \u82e5 $a-b=0$\uff1a\u82e5$k<0$\uff0c\u5219\u65e0\u89e3\u3002\n- \u82e5 $a-b<0$\uff1a\u53d8\u53f7\u5373\u53ef\uff0c$x \u2265 \\frac{k}{a-b}$\uff0c\u5411\u4e0a\u53d6\u503c\uff08 ceil \uff09\u3002\n\n\u6700\u7ec8\u4f1a\u5f97\u5230\u4e00\u5927\u5806\u4e0e $x$ \u6709\u5173\u7684\u5927\u5c0f\u5173\u7cfb\u5f0f\uff0c\u5224\u65ad\u662f\u5426\u6709\u89e3\u5373\u53ef\u3002\n\n\u5173\u4e8e\u4e0a\u4e0b\u754c\uff1a\n\n\u8bbe $mi \\leq x \\leq ma$\u3002\n\n- \u5bf9\u4e8e $mi$\uff1a\u53ef\u4ee5\u4e00\u4e2a\u4e0d\u51cf\u3002\u4f46\u5982\u679c\u53e6\u4e00\u4e2a\u6570\u6ca1\u6cd5\u518d\u51cf\u4e86\uff0c\u5219\u5fc5\u987b\u8981\u51cf\u5b83\u4e86\uff0c\u53e6\u4e00\u4e2a\u6570\u53ef\u4ee5\u51cf\u53bb $y-1$ \u6b21\uff0c\u56e0\u6b64\u53d6 $0$ \u548c $mid-t_m+1$ \u7684\u6700\u5927\u503c\u3002\n- \u5bf9\u4e8e $ma$\uff1a\u81f3\u591a\u628a $t_c$ \u51cf\u5230 $1$\uff0c\u4e0d\u8fc7 $mid$ \u5f97\u591f\u5927\uff0c\u56e0\u6b64\u53d6 $ t_c-1$ \u548c $mid$ \u7684\u6700\u5c0f\u503c\u3002\n### \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nlong long t,n,mid,tic,tim,a[105],b[105],c[105],l,r;\nlong long dan()\n{\n\tlong long mi,ma;\n\tma=min(tic-1,mid);\n\tmi=max((long long)(0),mid-tim+1);  \n\tfor(long long i=1; i<=n;i++)\n\t{\n\t\tlong long k=c[i]-a[i]*tic-b[i]*tim+b[i]*mid;\n\t\tif(a[i]==b[i]&&k<0) return 0; \n\t\tif(b[i]-a[i]>0) ma=min(ma,(long long)floor(k*1.0/(b[i]-a[i])));\n\t\tif(b[i]-a[i]<0) mi=max(mi,(long long)ceil(k*1.0/(b[i]-a[i]))); \n\t}\n\treturn mi<=ma;\n}\nint main()\n{\n\tcin>>t;\n\twhile(t--)\n\t{\n    \tscanf(\"%lld%lld%lld\",&n,&tic,&tim);\n    \tfor(long long i=1; i<=n;i++)\n    \t{\n    \t\tscanf(\"%ld%lld%lld\",&a[i],&b[i],&c[i]);\n\t\t}\n\t\tl=-1,r=tic+tim-1;\n\t\twhile(l+1<r)\n\t\t{\n\t\t\tmid=(l+r)/2;\n\t\t\tif(dan()) r=mid;\n\t\t\telse l=mid; \n\t\t}\n\t\tcout<<r<<endl;\n\t}\n    return 0;\n}\n```",
        "postTime": 1681969541,
        "uid": 514283,
        "name": "_Cheems_",
        "ccfLevel": 0,
        "title": "P9124 [USACO23FEB] Bakery S \u9898\u89e3 | \u9762\u5305\u5e97 | \u63a8\u4e00\u63a8\u4e0d\u7b49\u5f0f"
    },
    {
        "content": "2023.4.13 \u4fee\u6539\u4e86\u4e00\u5904\u9519\u8bef\u3002\n\n## \u601d\u8def\n\n\u663e\u7136\u6700\u5c0f\u5347\u7ea7\u6b21\u6570\u4e0e\u5bf9\u6bcf\u4e2a\u70e4\u7bb1\u5347\u7ea7\u4e86\u51e0\u6b21\u65e0\u5173\uff0c\u800c\u6700\u5c0f\u5347\u7ea7\u6b21\u6570\u6ee1\u8db3\u4e8c\u5206\u7684\u6027\u8d28\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u4e8c\u5206\u8fd9\u4e2a\u503c\uff0c\u518d\u6765\u5224\u65ad\u80fd\u5426\u6ee1\u8db3\u6761\u4ef6\uff0c\u5047\u8bbe\u6211\u4eec\u7ed9\u70e4\u997c\u5e72\u7684\u70e4\u7bb1\u5347\u7ea7\u4e86 $t_c-x$ \u6b21\uff0c\u7ed9\u70e4\u677e\u997c\u7684\u70e4\u7bb1\u5347\u7ea7\u4e86 $t_m-y$ \u6b21\u3002\n\n\u5982\u4f55\u5224\u65ad\u5462\uff1f\u5bf9\u4e8e\u6bcf\u4e2a\u8bf7\u6c42\uff0c\u6709 $ax+by\\le c$\uff0c\u6839\u636e\u4e0d\u7b49\u5f0f\u7684\u6027\u8d28\uff0c\u53ef\u5f97 $ax-bx\\le c-bx-by$\uff0c\u5373 $(a-b)x\\le c-b(x+y)$\uff0c\u5176\u4e2d $x+y$ \u5c31\u662f\u6211\u4eec\u8981\u4e8c\u5206\u7684\u503c\u3002\n\n\u5f53 $a-b>0$ \u65f6\uff0c\u6709 $x\\le \\dfrac{c-b(x+y)}{a-b}$\uff0c\u53ef\u4ee5\u7528\u6765\u6c42\u51fa $x$ \u7684\u4e0a\u754c $r$\u3002\u5f53 $a-b=0$ \u65f6\uff0c\u4e0d\u7b49\u5f0f\u5de6\u4fa7\u4e3a $0$\uff0c\u5f53 $c-b(x+y)<0$ \u65f6\uff0c\u5219\u65e0\u89e3\u3002\u5f53 $a-b<0$ \u65f6\uff0c\u6709 $x\\ge \\dfrac{c-b(x+y)}{a-b}$\uff0c\u53ef\u4ee5\u7528\u6765\u6c42\u51fa $x$ \u7684\u4e0b\u754c $l$\u3002\n\n\u63a5\u7740\u5224\u65ad\u662f\u5426\u6709\u89e3\uff0c\u5f53 $r>l$ \u65f6\uff0c\u56e0\u4e3a $l\\le x\\le r$\uff0c\u6240\u4ee5\u65e0\u89e3\u3002\u5f53 $l\\ge m$ \u6216 $r\\le 0$ \u65f6\uff0c\u540c\u6837\u65e0\u89e3\u3002\u5f53 $l> t_c$ \u6216 $r< x+y-t_m$ \u65f6\uff0c\u56e0\u4e3a $x\\le t_c$ \u4e14 $y\\le t_m$\uff0c\u6240\u4ee5\u65e0\u89e3\u3002\n\n## \u4ee3\u7801\n\n```\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int N=200;\nint T,n,a,b,s[N],x[N],y[N],t[N];\nint read(){\n\tint x=0,f=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n\twhile(ch>='0'&&ch<='9'){x=(x<<3)+(x<<1)+ch-'0';ch=getchar();}\n\treturn x*f;\n}\nbool check(int m){\n\t//ax+by<=c\n\t//ax-bx<=c-by-bx\n\t//(a-b)x<=c-b(x+y)\n\tint minn=1000000005,maxx=0;\n\tfor(int i=1;i<=n;i++){\n\t\tint X=t[i]-y[i]*m;\n\t\tif(s[i]>0){\n\t\t\tminn=min(X/s[i],minn);\n\t\t}\n\t\telse if(s[i]==0){\n\t\t\tif(X<0)return 0;\n\t\t}\n\t\telse{\n\t\t\tif(X%s[i]==0){\n\t\t\t\tmaxx=max(X/s[i],maxx);\n\t\t\t}\n\t\t\telse maxx=max(X/s[i]+1,maxx);\n\t\t}\n\t}\n\tif(maxx>minn||maxx>=m||minn==0||maxx>a||minn<m-b)return 0;\n\treturn 1;\n}\nvoid solve(){\n\tint l=2,r=a+b,id;\n\twhile(l<=r){\n\t\tint mid=(l+r)>>1;\n\t\tif(check(mid)){\n\t\t\tl=mid+1;id=mid;\n\t\t}\n\t\telse r=mid-1;\n\t}\n\tprintf(\"%lld\\n\",a+b-id);\n}\nsigned main(){\n\tT=read();\n\twhile(T--){\n\t\tn=read();a=read();b=read();\n\t\tfor(int i=1;i<=n;i++){\n\t\t\tx[i]=read();y[i]=read();t[i]=read();s[i]=x[i]-y[i];\n\t\t}\n\t\tsolve();\n\t}\n}\n```\n",
        "postTime": 1679998530,
        "uid": 356925,
        "name": "\u5feb\u6597\u6e38\u9e7f",
        "ccfLevel": 4,
        "title": "P9124\u9898\u89e3"
    },
    {
        "content": "- [\u539f\u9898\u94fe\u63a5](https://www.luogu.com.cn/problem/P9124)\n### \u601d\u8def\n- \u6700\u5c0f\u7684\u5347\u7ea7\u6b21\u6570\u4e0e $tc'$ \u548c $tm'$ \u4e3a\u591a\u5c11\u6ca1\u6709\u76f4\u63a5\u5173\u7cfb\u3002\u6700\u5c0f\u7684\u5347\u7ea7\u6b21\u6570 $T=(tc+tm)-(tc'+tm')$\u3002\u6240\u4ee5\u7b54\u6848\u53ea\u4e0e $A=tc'+tm'$ \u7684\u5927\u5c0f\u6709\u5173\u3002\n\n- $A$ \u4f55\u65f6\u6210\u7acb\uff1f\u9700\u8981\u5728\u6bcf\u4e00\u4e2a\u5ba2\u4eba\u7684\u8981\u6c42\u4e0b\u6ee1\u8db3\u3002\u7528 $A$ \u548c $tc'$ \u5efa\u7acb\u4e0e\u7b49\u5f85\u65f6\u95f4\u7684\u4e0d\u7b49\u5173\u7cfb\u5373\u53ef\u3002\n\n- \u60f3\u5230\u8fd9\u4e00\u6b65\u540e\u5c31\u6ca1\u6709\u4ec0\u4e48\u96be\u7684\u4e86\uff0c\u663e\u7136 $A$ \u6ee1\u8db3\u4e8c\u5206\u6027\u8d28\uff0c\u8003\u8651\u4e8c\u5206 $A$ \u7684\u5927\u5c0f\uff0c\u7136\u540e\u53bb\u5224\u65ad $tc'$ \u662f\u5426\u53ef\u4ee5\u6210\u7acb\u5373\u53ef\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\n#define int long long\n\nusing namespace std;\n\nconst int N=110;\n\nint T;\nint n,tc,tm;\nstruct Node\n{\n\tint a,b,c;\n}w[N];\nint c[N];\nbool check(int x)\n{\n\tint Max=0,Min=0x3f3f3f3f;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\t\n\t\tint m=w[i].c-x*w[i].b;\n// \t\tcout<<m<<\" \"<<c[i]<<\" \";\n\t\tif(c[i]>0) Min=min((m/c[i]),Min);\n\t\telse if(c[i]==0)\n\t\t{\n\t\t    if(m<0)  return false;\n\t\t}\n\t\telse if(c[i]<0)\n\t\t{\n\t\t    int q=0;\n\t\t    if(m%c[i])  q=1;\n\t\t    Max=max(m/c[i]+q,Max);\n// \t\t\tcout<<Max<<\" \"<<Min<<endl;\n\t\t    \n\t\t}\n\t\n\t}\n\tif(Max>Min||Max>=x||Max>tc||Min<1||Min<x-tm)  return false;\n\t\n\treturn true;\n}\n\nsigned main()\n{\n// \tcout<<-10/-5<<endl;\n\tscanf(\"%lld\",&T);\n\twhile(T--)\n\t{\n\t\tscanf(\"%lld%lld%lld\",&n,&tc,&tm);\n\t\tfor(int i=1;i<=n;i++)\n\t\t{\n\t\t\tint x,y,z;\n\t\t\tscanf(\"%lld%lld%lld\",&x,&y,&z);\n\t\t\tw[i]={x,y,z};\n\t\t\tc[i]=x-y;\n\t\t}\n\t\tint l=2,r=tm+tc;\n\t\twhile(l<=r)\n\t\t{\n\t\t\tint mid=l+r>>1;\n\t\t\tif(check(mid))  l=mid+1;\n\t\t\telse r=mid-1;\n\t\t}\n        int ans=tm+tc-r;\n//        for(int i=r;i>=2;i--)  \n//\t\t    if(check(i))\n//\t\t\t{\n//\t\t\t\tans=i;\n//\t\t\t\tbreak;\n//\t\t\t}\n// \t\tcout<<ans<<endl;\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\t\n\treturn 0;\n}\n```\n\n\n\n",
        "postTime": 1678282660,
        "uid": 295398,
        "name": "1105Lee",
        "ccfLevel": 0,
        "title": "[USACO23FEB] Bakery S"
    },
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n\u5976\u725b\u7684\u7cd5\u70b9\u5e97\u6709 $A$ \u548c $B$ \u4e24\u79cd\u7cd5\u70b9\uff0c\u5979\u6bcf\u6b21\u8981\u8017\u8d39 $t_c$ \u7684\u65f6\u95f4\u5236\u4f5c\u4e00\u4e2a $A$\uff0c\u8017\u8d39 $t_m$ \u7684\u65f6\u95f4\u5236\u4f5c\u4e00\u4e2a $B$\uff0c\u4e14\u4e00\u6b21\u53ea\u80fd\u540c\u65f6\u5236\u4f5c\u4e00\u4e2a\u7cd5\u70b9\u3002\u5976\u725b\u53ef\u4ee5\u82b1\u8d39 $1$ \u5143\u5c06\u5236\u4f5c $A$ \u6216 $B$ \u7684\u65f6\u95f4\u51cf\u5c11 $1$ \u5206\u949f\uff0c\u4e14\u5236\u4f5c\u65f6\u95f4\u5fc5\u987b\u4e3a\u6b63\u6574\u6570\u3002\u73b0\u6709 $n$ \u4e2a\u8ba2\u5355\uff0c\u6bcf\u4e2a\u8ba2\u5355\u5305\u542b $a_i$ \u4e2a\u7cd5\u70b9 $A$ \u548c $b_i$ \u4e2a\u7cd5\u70b9 $B$\uff0c\u4e14**\u4ece\u5f00\u59cb\u5904\u7406\u8be5\u8ba2\u5355\u5f00\u59cb**\uff0c\u987e\u5ba2\u6700\u591a\u7b49\u5f85 $c_i$ \u5206\u949f\u540e\u5c31\u4f1a\u79bb\u5f00\u3002\u5976\u725b\u6309\u987a\u5e8f\u4f9d\u6b21\u5904\u7406\u6bcf\u4e00\u4e2a\u8ba2\u5355\u3002\u4e3a\u4e86\u8ba9\u6bcf\u4e00\u4f4d\u987e\u5ba2\u90fd\u4e0d\u4f1a\u56e0\u4e3a\u7b49\u5f85\u592a\u4e45\u800c\u79bb\u5f00\uff0c\u95ee\u5976\u725b\u81f3\u5c11\u9700\u8981\u82b1\u8d39\u591a\u5c11\u5143\uff1f\n\n## \u89e3\u51b3\u65b9\u6848\n\n\u82e5\u53ea\u6709\u4e00\u79cd\u7cd5\u70b9\uff0c\u5f88\u660e\u663e\u53ef\u4ee5\u76f4\u63a5\u4e8c\u5206\u65f6\u95f4\uff0c\u5e76\u5224\u65ad\u6bcf\u4e00\u4e2a\u8ba2\u5355\u662f\u5426\u80fd\u591f\u6ee1\u8db3\u3002\u73b0\u6709\u4e24\u79cd\u7cd5\u70b9\uff0c\u95ee\u4e24\u79cd\u7cd5\u70b9\u9700\u8981\u51cf\u5c11\u7684\u65f6\u95f4\u4e4b\u548c\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u4e8c\u5206\u51cf\u5c11\u7684\u603b\u65f6\u95f4\uff08\u5373\u82b1\u7684\u94b1\u7684\u603b\u6570\uff09\u3002\u8bbe\u4e8c\u5206\u5230\u8981\u51cf\u5c11\u7684\u603b\u65f6\u95f4\u4e3a $c$\uff0c\u8003\u8651\u5982\u4f55\u5224\u65ad\u662f\u5426\u80fd\u901a\u8fc7\u3002\n\n\u8003\u8651\u8ba2\u5355 $i$\uff0c\u8bbe\u8be5\u8ba2\u5355\u9700\u8981\u51cf\u5c11\u7684\u65f6\u95f4\u81f3\u5c11\u4e3a $m_i$\uff0c\u6709 $m_i=a_i\\times t_c +b_i\\times t_m-c_i$\u3002\u5047\u8bbe\u51cf\u5c11\u5236\u4f5c\u86cb\u7cd5 $A$ \u7684\u65f6\u95f4\u4e3a $x$\uff0c\u51cf\u5c11\u5236\u4f5c\u86cb\u7cd5 $B$ \u7684\u65f6\u95f4\u4e3a $y$\uff0c\u6211\u4eec\u53ef\u4ee5\u5217\u51fa\u4e0b\u9762\u7684\u5f0f\u5b50\u3002\n\n$$\n\\begin{cases}\nx+y=c\\\\\na_i\\times x+b_i\\times y \u2265m\\\\\n\\end{cases}\n$$\n\n\u6700\u7ec8\u5316\u7b80\u5f97\u5230\n\n$$\n\\begin{cases}\n\\displaystyle x\u2265\\frac{m-b_i\\times c}{a_i-b_i}, \\quad a_i-b_i>0\\\\\n\\displaystyle x\u2264\\frac{m-b_i\\times c}{a_i-b_i}, \\quad a_i-b_i<0\\\\\na_i \\times c\u2265m, \\ \\quad \\ \\ \\ \\ \\ \\ \\ a_i=b_i\n\\end{cases}\n$$\n\n\u6bcf\u4e2a\u8ba2\u5355\u90fd\u5bf9\u5e94\u4e00\u4e2a\u4e0d\u7b49\u5f0f\u3002\n\n\u6ce8\u610f\u4e3a\u4e86\u4fdd\u8bc1\u4e24\u79cd\u7cd5\u70b9\u7684\u5236\u4f5c\u65f6\u95f4\u5747\u4e3a\u6b63\u6574\u6570,\u9700\u6ee1\u8db3 $x\\in [0,\\min(t_c-1,c)]$ \u4e14 $y\\in [0,\\min(t_m-1,c)]$\u3002\u5316\u7b80\u5f97\u5230\u4e0b\u9762\u7684\u5f0f\u5b50\u3002\n\n$$\n\\begin{cases}\nx\u2265\\max(0,c-t_m+1) \\\\\nx\u2264\\min(c,t_c-1)\\\\\n\\end{cases}\n$$\n\u6700\u540e\u770b\u662f\u5426\u5b58\u5728\u4e00\u4e2a\u6574\u6570 $x$ \u4f7f\u5f97\u6240\u6709\u4e0d\u7b49\u5f0f\u90fd\u6210\u7acb\u5373\u53ef\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nconst int N=105;\nvoid read(long long &p){\n\tlong long x=0,w=1;\n\tchar ch=0;\n\twhile(!isdigit(ch)){\n\t\tif(ch=='-')w=-1;\n\t\tch=getchar();\n\t}\n\twhile(isdigit(ch)){\n\t\tx=(x<<1)+(x<<3)+ch-'0';\n\t\tch=getchar();\n\t}\n\tp=x*w;\n}\nstruct query{\n\tint a,b,t;\n}q[N]; \nint t,n,tc,tM;\n\nbool check(int c){\n    int minn=0,maxn;\n    minn=max(minn,c-tM+1),maxn=min(c,tc-1);\n\tfor(int i=1;i<=n;i++){\n\t\tif(minn>maxn)return 0;\n\t\tint a=q[i].a,b=q[i].b;\n\t\tint m=tc*a+tM*b-q[i].t;\n\t\tif(m<=0)continue;\n                if(a==b){\n\t\t\tif(a*c<m)return 0;//x y\u53d6\u503c\u968f\u610f \n\t\t}\n\t\tint x=(m-b*c)/(a-b);\n\t\tif(a-b>0){\n\t\t\tif((m-b*c)%(a-b)&&(m-b*c)/1.0/(a-b)>0)x++;//\u82e5\u6709\u5c0f\u6570\uff0c\u5219\u5e94\u5927\u4e8e\u7b49\u4e8e\u6bd4\u771f\u5b9e\u503c\u5927\u7684\u6574\u6570\n\t\t\tif(x>maxn)return 0;\n\t\t\tminn=max(minn,x);\n\t\t}\n\t\telse{\n\t\t\tif((m-b*c)%(a-b)&&(m-b*c)/1.0/(a-b)<0)x--;\n\t\t\tif(x<minn)return 0;\n            maxn=min(x,maxn);\n\t\t} \n\t}\n\treturn 1;\n}\n\nsigned main(){\n\tread(t);\n\twhile(t--){\n\t\tread(n),read(tc),read(tM);\n\t\tfor(int i=1;i<=n;i++)\n\t\t    read(q[i].a),read(q[i].b),read(q[i].t);\n\t\tint le=0,ri=tc+tM-2,ans=tc+tM-2;\n\t\twhile(le<=ri){\n\t\t\tint mid=(le+ri)>>1;\n\t\t\tif(check(mid))ri=mid-1,ans=mid;\n\t\t\telse le=mid+1;\n\t\t}\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1678180836,
        "uid": 359270,
        "name": "\u662f\u9752\u767d\u5440",
        "ccfLevel": 5,
        "title": "P9124 [USACO23FEB] Bakery S \u9898\u89e3"
    },
    {
        "content": "#### \u9898\u610f\u6982\u8ff0\n\n\u6709 $n$ \u4e2a\u4eba\u6765\u4e70\u4e24\u79cd\u4e1c\u897f\uff0c\u4f60\u8981\u4f7f $a_i \\times t_c +b_i \\times t_m \\leq C_i$\uff0c\u4f46\u662f\u4e0d\u4e00\u5b9a\u6210\u7acb\uff0c\u6240\u4ee5\u53ef\u7528\u4e00\u5757\u94b1\u51cf\u5c11 $t_c$ \u6216 $t_m$ \u4e00\u4e2a\u5355\u4f4d\u65f6\u95f4\u3002\n\n\u6c42\u6700\u5c11\u8981\u82b1\u8d39\u591a\u5c11\u94b1\uff0c\u624d\u80fd\u4f7f\u4e0a\u5f0f\u6210\u7acb\u3002\n\n----\n#### \u601d\u8def\n\u4e0d\u59a8\u89e3\u8fd9\u4e2a\u4e0d\u7b49\u5f0f\u3002\u65e2\u7136\u8981\u6c42\u7b54\u6848\uff0c\u5c31\u5c06\u6700\u5c0f\u82b1\u8d39\u8bbe\u4e3a $k$\uff0c\u5c06\u5347\u7ea7 $t_c$ \u7684\u6b21\u6570\u8bbe\u4e3a $x$\u3002\uff08\u6ce8\u610f\uff1a**\u6b64\u5904\u8bbe\u7684 $x$ \u53ea\u662f\u7528\u4e8e\u89e3\u4e0d\u7b49\u5f0f\uff0c\u4e0d\u9700\u8981\u679a\u4e3e\u3002\u5f53 $x$ \u6709\u89e3\u65f6\uff0c$k$ \u7684\u503c\u5408\u6cd5**\u3002\uff09\n\n\u5219\u5347\u7ea7 $t_m$ \u7684\u6b21\u6570\u4e3a $k-x$\u3002\n\n\u4e4b\u524d\u7684\u5f0f\u5b50\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a\n$$a_i \\times (t_c-x) +b_i \\times (t_m-k-x) \\leq C_i$$\n\n\u62c6\u62ec\u53f7\uff0c\u79fb\u9879\u5f97\uff1a\n$$a_i \\times x-b_i \\times x \\leq C_i-a_i \\times t_c-b_i\\times t_m+b_i \\times k$$\n\n\u63d0\u53d6\u516c\u56e0\u5f0f\uff0c\u5f97\uff1a\n$$(b_i-a_i) \\times x \\leq C_i-a_i \\times t_c-b_i\\times t_m+b_i \\times k$$\n\n\u7136\u540e\u8981\u5bf9\u5404\u79cd\u60c5\u51b5\u5206\u7c7b\u8ba8\u8bba\uff0c\u4ee5\u4e0b\u5c06\u53f3\u5f0f\u8868\u793a\u4e3a $r$\uff0c$b_i-a_i$ \u8868\u793a\u4e3a $l$\uff0c\u539f\u5f0f\u53ef\u8868\u793a\u4e3a $l\\times x=r$\uff1a\n\n- \u5f53 $l=0$ \u65f6\uff0c\u5f53 $0 \\leq r$ \u65f6\uff0c$x$ \u6709\u65e0\u6570\u89e3\uff08\u4e0d\u7528\u7ba1\uff09\uff0c\u5f53 $r<0$ \u65f6\uff0c$x$ \u65e0\u89e3\u3002\n\n- \u5f53 $l>0$ \u65f6\uff0c\u79fb\u9879\u5f97\uff1a$x \\leq \\frac{r}{l}$\uff08\u53d6\u4e0a\u754c\uff09\u3002\n\n- \u5f53 $l<0$ \u65f6\uff0c\u79fb\u9879\u5f97\uff0c$x \\geq \\frac{r}{l}$\uff08\u53d6\u4e0b\u754c\uff09\u3002\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u83b7\u5f97\u4e86 $x$ \u7684\u53d6\u503c\u8303\u56f4\u3002\u5f53\u5904\u7406\u5b8c\u6240\u6709\u5ba2\u4eba\uff0c$x$ \u4ecd\u6709\u6b63\u6574\u6570\u89e3\u65f6\uff0c\u8bf4\u660e $k$ \u5408\u6cd5\u3002\n\n\u53ea\u8981\u679a\u4e3e $k$\uff0c\u5c31\u53ef\u4ee5\u53d6\u5230 $k$ \u7684\u6700\u5c0f\u503c\u3002\u4f46\u662f $0 \\leq k \\leq t_c+t_m-2$\uff0c$2 \\leq t_c+t_m \\leq 2 \\times 10^9$\uff0c\u8d85\u65f6\u4e86\u3002\n\n\u4f46\u662f\uff0c$k$ \u662f\u6709\u5355\u8c03\u6027\u7684\uff01\u4e0d\u53ef\u80fd\u82b1\u4e86\u66f4\u591a\u7684\u94b1\uff0c\u4f46\u4e0d\u80fd\u89e3\u51b3\u82b1\u66f4\u5c11\u94b1\u80fd\u89e3\u51b3\u7684\u95ee\u9898\u554a\uff01\u6240\u4ee5\u76f4\u63a5\u4e8c\u5206\u7b54\u6848\u3002\n#### \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\nll T;\nll N,TCN,TMN,maa,mab;\nll a[111],b[111],c[111];\nbool check(ll mid) {\n\tll maax=min(TCN-1,mid),miax=max(0LL,-TMN+mid+1);//\u6700\u5c0f\u4e0a\u754c\uff0c\u6700\u5927\u4e0b\u754c\n\tfor(int i=1;i<=N;i++) {\n\t\tll k=c[i]-a[i]*TCN-b[i]*TMN+b[i]*mid;\n\t\tif(b[i]-a[i]==0&&k<0) return 0;\n        //\u6b64\u5904\u5c06\u4e0a\u754c\u5411\u4e0b\u53d6\uff0c\u5c06\u4e0b\u754c\u5411\u4e0a\u53d6\uff0c\u53ef\u4ee5\u675c\u7edd 1.3<=1.4\n\t\tif(b[i]-a[i]>0) maax=min((ll)floor(k*1.0/(b[i]-a[i])),maax);\n\t\tif(b[i]-a[i]<0) miax=max((ll)ceil(k*1.0/(b[i]-a[i])),miax);\n\t}\n\treturn miax<=maax;\n}\nint main() {\n    cin>>T;\n    while(T--) {\n        cin>>N>>TCN>>TMN;\n        for(int i=1;i<=N;i++) {\n            cin>>a[i]>>b[i]>>c[i];\n        }\n        ll l=-1,r=TCN+TMN-1;//\u53d6\u4e24\u4e2a\u53d6\u4e0d\u5230\u7684\u503c\n        while(l+1<r) {\n            ll mid=l+r>>1;\n            if(check(mid)) {\n                r=mid;\n            }\n            else {\n                l=mid;\n            }\n        }\n        cout<<r<<\"\\n\";\n    }\n    return 0;\n}\n```",
        "postTime": 1681798364,
        "uid": 430999,
        "name": "walk_in_study",
        "ccfLevel": 3,
        "title": "P9124 [USACO23FEB] Bakery S \u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P9124)\n\n\u5176\u4ed6\u5927\u4f6c\u8bf4\u5f97\u5f88\u6e05\u695a\u4e86\uff0c\u5c31\u662f\u4e8c\u5206\u3002\n\n\u521a\u5f00\u59cb\u4e00\u770b\uff0c\u4e00\u4e2a $t_C$\uff0c\u4e00\u4e2a $t_M$\uff0c\u4f3c\u4e4e\u8981\u4e8c\u5206\u5957\u4e8c\u5206\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u628a check \u4e2d\u7684\u5f0f\u5b50\u8f6c\u6362\uff1a\n\n$$a\\times t_C+b\\times t_M\\leq c$$\n\n$$a\\times t_C\\leq c-b\\times t_M$$\n\n$$a\\times t_C-b\\times t_C\\leq c-(b\\times t_M+b\\times t_C)$$\n\n$$(a-b)\\times t_C\\leq c-b\\times (t_M+t_C)$$\n\n\u5176\u4e2d\uff0c$a$\u3001$b$\u3001$c$\u3001$t_C$ \u90fd\u662f\u786e\u5b9a\u7684\uff0c\u800c $t_C+t_M$ \u662f\u65f6\u95f4\u603b\u548c\uff0c\u6211\u4eec\u8981\u4e8c\u5206\u7684\u5c31\u662f\u5b83\u51cf\u53bb\u4e86\u591a\u5c11\uff0c\u5373 $t_C+t_M-mid$\u3002\n\n\u4ece\u8fd9\u5c31\u80fd\u770b\u51fa\u53ea\u8981 $t_C+t_M$ \u4e00\u5b9a\uff0c$t_C$ \u548c $t_M$ \u5206\u522b\u662f\u591a\u5c11\u5176\u5b9e\u6ca1\u610f\u4e49\u3002\n\n\u56e0\u4e3a $mid$ \u548c\u5c0f\u4e8e\u7b49\u4e8e\u53f7\u53f3\u8fb9\u662f\u53cd\u7740\u6765\u7684\uff0c\u6240\u4ee5\u6ee1\u8db3 check \u65f6\uff0c$mid$ \u5c0f\u4e86\u3002\n\n\u4e8e\u662f\u4e00\u4e2a\u770b\u4f3c\u6b63\u786e\u7684\u4ee3\u7801\u5c31\u80fd\u6253\u51fa\u6765\u4e86\uff1a\n\n```cpp\n#include<bits/stdc++.h> \nusing namespace std;\nint n,tc,TM,a[111],b[111],c[111];\nbool check(int misu)\n{\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint p=(a[i]-b[i])*tc;\n\t\tint w=c[i]-b[i]*(TM+tc-misu);\n\t\tif(p<w)return false;\n\t}\n\treturn true;\n}\nint main()\n{\n\tint g;\n\tcin>>g;\n\twhile(g--)\n\t{\n\t\tcin>>n>>tc>>TM;\n\t\tfor(int i=1;i<=n;i++)cin>>a[i]>>b[i]>>c[i];\n\t\tint l=0,r=tc+TM+10,mid;\n\t\twhile(l<=r)\n\t\t{\n\t\t\tmid=(l+r)/2;\n\t\t\tif(check(mid))r=mid-1;   \n\t\t\telse l=mid+1;\n\t\t}\n\t\tcout<<mid<<endl;\n\t}\n\treturn 0;\n}\n```\n\n\u8fd9\u4e2a\u4ee3\u7801\u662f\u6837\u4f8b\u90fd\u8fc7\u4e0d\u4e86\u7684\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u8bf4\u5462\uff0c\u56e0\u4e3a\u8fd9\u662f\u4e00\u4e2a**\u4e0d\u7b49\u5f0f**\uff0c\u800c\u6211\u4eec\u90fd\u77e5\u9053\uff0c\u89e3\u4e00\u4e2a\u4e0d\u7b49\u5f0f\u6709\u5c0f\u4e8e\u3001\u7b49\u4e8e\u3001\u5927\u4e8e\u4e09\u79cd\u60c5\u51b5\u3002\n\n\u6211\u4eec\u77e5\u9053\uff0c$t_C\\geq 1$\uff0c\u6240\u4ee5\u6211\u4eec\u5224\u65ad $a-b$ \u7684\u503c\u3002\n\n\u5f53 $a-b>0$\uff0c\u6839\u636e\u4e0d\u7b49\u5f0f\u7684\u6027\u8d28\uff0c\u80fd\u7b97\u51fa $t_C$ \u7684\u4e0a\u754c\u662f\u591a\u5c11\u3002\n\n\u5f53 $a-b<0$\uff0c\u540c\u6837\u6839\u636e\u4e0d\u7b49\u5f0f\u7684\u6027\u8d28\uff0c\u80fd\u7b97\u51fa $t_C$ \u7684\u4e0b\u754c\u662f\u591a\u5c11\u3002\n\n\u5f53 $a-b=0$\uff0c\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\n\n\u7b2c\u4e00\u79cd\u662f $c-b\\times (t_M+t_C)\\geq 0$\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7b97\u4e0a\u754c\u3001\u4e0b\u754c\u6beb\u65e0\u610f\u4e49\uff0c\u8df3\u8fc7\u3002\n\n\u7b2c\u4e8c\u79cd\u662f $c-b\\times (t_M+t_C)< 0$\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0d\u7528\u8bf4\uff0c\u76f4\u63a5\u4e0d\u6ee1\u8db3\u4e86\uff0c\u8fd4\u56de 0\u3002\n\n\u6709\u4e86\u4e0a\u754c\u548c\u4e0b\u754c\uff0c\u6211\u4eec\u5c31\u80fd\u5224\u65ad $mid$ \u662f\u5426\u5408\u6cd5\u4e86\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h> \nusing namespace std;\nint n,tc,TM,a[111],b[111],c[111];\nbool check(int misu)\n{\n\tint xj=2147483647,sj=0;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint rig=c[i]-b[i]*misu,hal=a[i]-b[i];\n\t\tif(hal>0)xj=min(xj,rig/hal);\n\t\telse if(hal==0&&rig<0)return false;\n\t\telse if(hal<0)\n\t\t{\n\t\t\tif(rig%hal==0)sj=max(sj,rig/hal);\n\t\t\telse sj=max(sj,rig/hal+1);\n\t\t}\n\t}\n\tif(sj>xj||sj>=misu||xj==0)return false;\n\tif(sj>tc||xj<misu-TM)return false;\n\treturn true;\n}\nint main()\n{\n\tint g;\n\tcin>>g;\n\twhile(g--)\n\t{\n\t\tcin>>n>>tc>>TM;\n\t\tfor(int i=1;i<=n;i++)cin>>a[i]>>b[i]>>c[i];\n\t\tint l=2,r=tc+TM,mid,div;\n\t\twhile(l<=r)\n\t\t{\n\t\t\tmid=(l+r)/2;\n\t\t\tif(check(mid))l=mid+1,div=mid;\n\t\t\telse r=mid-1;\n\t\t}\n\t\tcout<<tc+TM-div<<endl;\n\t}\n\treturn 0;\n}\n```\n\n\u67d0\u4e9b\u5927\u4f6c\u53ef\u80fd\u4f1a\u60f3\u5230\u4e8c\u5206\u5957\u4e8c\u5206\u7684\u505a\u6cd5\uff0c\u4f46\u662f\u8fd9\u6837\u4f1a\u559c\u63d0 9 pts\u3002\u8fd9\u662f\u56e0\u4e3a\u4e8c\u5206\u5957\u4e8c\u5206\u7684\u5355\u8c03\u6027\u65e0\u6cd5\u786e\u5b9a\uff0c\u5bf9\u4e8e\u5c0f\u6570\u636e\u4e5f\u8bb8\u80fd\u8fc7\uff0c\u4f46\u5bf9\u4e8e\u6bd2\u7624\u6570\u636e\u5c31\u8fc7\u4e0d\u4e86\u4e86\uff0c\u53ef\u4ee5\u8003\u8651\u4e09\u5206\uff0c\u6a21\u677f\u5728[\u8fd9](https://www.luogu.com.cn/problem/P3382)\u3002",
        "postTime": 1681375522,
        "uid": 451825,
        "name": "JDuru",
        "ccfLevel": 0,
        "title": "P9124 \u9898\u89e3"
    }
]