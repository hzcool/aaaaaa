[
    {
        "content": "\u8981\u6c42\u89e3\u9898\u76ee\u63cf\u8ff0\u4e2d\u7684\u95ee\u9898\uff0c\u6211\u4eec\u9700\u8981\u5148\u6c42\u89e3\u4e24\u4e2a\u5b50\u95ee\u9898\uff1a\n\n## \u5b50\u95ee\u9898 1\n\n\u5f53 $X = 0$ \u65f6\uff0c\u9898\u76ee\u63cf\u8ff0\u7684\u95ee\u9898\u8f6c\u5316\u4e3a\u5982\u4e0b\u5b50\u95ee\u9898\uff1a\u6c42\u7b2c $N$ \u4e2a\u56de\u6587\u6570\u3002\n\n\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u77e5\u9053 $N$ \u7684\u4f4d\u6570\u3002\n\n$k$ \u4f4d\u7684\u56de\u6587\u6570\u7684\u524d\u534a\u90e8\u5206\u6709 $\\lceil \\dfrac{k}{2} \\rceil$ \u4f4d\uff0c\u5c06\u5176\u7ffb\u8f6c\u62fc\u63a5\u53ef\u4ee5\u786e\u5b9a\u540e $\\lfloor \\dfrac{k}{2} \\rfloor$ \u4f4d\u3002\n\n\uff08\u4f8b\u5982\uff0c$5$ \u4f4d\u56de\u6587\u6570\u7684\u524d $3$ \u4f4d\u662f $123$\uff0c\u7ffb\u8f6c\u540e\u4e3a $321$\uff0c\u5219\u8fd9\u4e2a\u56de\u6587\u6570\u4e3a $12321$\u3002\uff09\n\n\u5176\u4e2d\uff0c\u6570\u7684\u7b2c\u4e00\u4f4d\u4e0d\u80fd\u4e3a $0$\uff0c\u5171\u6709 $9$ \u79cd\u53ef\u80fd\uff1b\u6570\u7684\u63a5\u4e0b\u6765 $\\left ( \\lceil \\dfrac{k}{2} \\rceil - 1 \\right )$ \u4f4d\u5404\u6709 $10$ \u79cd\u53ef\u80fd\u3002\n\n\u7531\u4e58\u6cd5\u539f\u7406\u5f97\u5230 $k$ \u4f4d\u7684\u56de\u6587\u6570\u603b\u5171\u6709 $9 \\times 10^{\\lceil \\frac{k}{2} \\rceil - 1}$ \u79cd\u53ef\u80fd\u3002\n\n\u7531\u6b64\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u7b2c $N$ \u4e2a\u56de\u6587\u6570\u7684\u4f4d\u6570\u3002\n\n\u8bbe\u7b2c $N$ \u4e2a\u56de\u6587\u6570\u7684\u4f4d\u6570\u4e3a $k$\uff0c\u4e14\u5c0f\u4e8e $k$ \u4f4d\u7684\u56de\u6587\u6570\u603b\u5171\u6709 $M$ \u4e2a\uff0c\u5219\u7b2c $N$ \u4e2a\u56de\u6587\u6570\u662f $k$ \u4f4d\u56de\u6587\u6570\u4e2d\u7684\u7b2c $(N - M)$ \u4e2a\u3002\n\n\u56e0\u4e3a $k$ \u4f4d\u56de\u6587\u6570\u7684\u6570\u503c\u548c\u5927\u5c0f\u90fd\u7531\u5176\u524d $\\lceil \\dfrac{k}{2} \\rceil$ \u4f4d\u786e\u5b9a\uff0c\u6240\u4ee5\u7b2c $N$ \u4e2a\u56de\u6587\u6570\u7684\u524d $\\lceil \\dfrac{k}{2} \\rceil$ \u4f4d\u662f\u6240\u6709\u53ef\u80fd\u4e2d\u7684\u7b2c $(N - M)$ \u4e2a\u3002\u53c8\u56e0\u4e3a\u524d $\\lceil \\dfrac{k}{2} \\rceil$ \u4f4d\u7684\u53d6\u503c\u8303\u56f4\u662f $10^{\\lceil \\frac{k}{2} \\rceil - 1} \\sim 10^{\\lceil \\frac{k}{2} \\rceil} - 1$\uff0c\u6240\u4ee5\u8fd9 $\\lceil \\dfrac{k}{2} \\rceil$ \u4f4d\u662f $10^{\\lceil \\frac{k}{2} \\rceil - 1} + (N - M - 1)$\u3002\n\n\u5c06\u5176\u7ffb\u8f6c\u62fc\u63a5\u5373\u53ef\u5f97\u5230 $N$ \u7684\u503c\u3002\n\n## \u5b50\u95ee\u9898 2\n\n\u8fd9\u662f\u7b2c\u4e8c\u4e2a\u5b50\u95ee\u9898\uff1a\u6c42\u4e0d\u8d85\u8fc7 $X$ \u7684\u6700\u5927\u56de\u6587\u6570\u662f\u7b2c\u51e0\u4e2a\u3002\n\n\u8bbe $X$ \u7684\u4f4d\u6570\u4e3a $k$\u3002\u53d6 $X$ \u7684\u524d $\\lceil \\dfrac{k}{2} \\rceil$ \u4f4d\u7ffb\u8f6c\u62fc\u63a5\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u56de\u6587\u6570\u3002\n\n\u7edf\u8ba1\u4f4d\u6570\u4e0d\u8d85\u8fc7 $k$ \u7684\u56de\u6587\u6570\u4e2a\u6570\uff0c\u518d\u52a0\u4e0a\u8fd9\u4e2a\u56de\u6587\u6570\u7684\u524d $\\lceil \\dfrac{k}{2} \\rceil$ \u4f4d\u51cf\u53bb $10^{\\lceil \\frac{k}{2} \\rceil - 1}$ \u5373\u4e3a\u8be5\u56de\u6587\u6570\u7684\u7b54\u6848\u3002\n\n\u5982\u679c\u8fd9\u4e2a\u56de\u6587\u6570\u5927\u4e8e $X$\uff0c\u5219\u8fd8\u9700\u5c06\u7b54\u6848\u51cf\u53bb $1$\u3002\n\n## \u95ee\u9898\n\n\u6211\u4eec\u9700\u8981\u591a\u6b21\u7edf\u8ba1\u6bd4 $X$ \u5927\u7684\u7b2c $N$ \u4e2a\u56de\u6587\u6570\u662f\u591a\u5c11\u3002\n\n\u6c42\u51fa\u4e0d\u8d85\u8fc7 $X$ \u7684\u6700\u5927\u56de\u6587\u6570\u662f\u7b2c $Ans$ \u4e2a\uff0c\u6240\u6c42\u5373\u4e3a\u7b2c $(N + Ans)$ \u4e2a\u56de\u6587\u6570\u3002\n\n## \u4ee3\u7801\n\n\u67d0\u9e3d\u5b50\u7531\u4e8e\u61d2\u5f97\u5199\u9ad8\u7cbe\u5ea6\u4f7f\u7528\u4e86 python\u3002\u4f46\u662f\u8fd9\u5f88\u5bb9\u6613\u5bfc\u81f4 TLE\u3002\n\n\u4f7f\u7528 PyPy3 \u5361\u4e86\u51e0\u5341\u6b21\u5e38\u6570\u7ec8\u4e8e\u8fc7\u4e86~\n\n```python\ntmp = [0]\n\nfor i in range(20000):\n    tmp.append(-1)\n\ndef Sum(x):\n    if tmp[x] != -1:\n        return tmp[x]\n    if x % 2 == 0:\n        tmp[x] = (10 ** (x // 2) - 1) // 9 * 2\n    if x % 2 == 1:\n        tmp[x] = Sum(x + 1) - (10 ** (x // 2))\n    return tmp[x]\n\ndef count(x):\n    x, i = (x + 8) // 9, len(str(x)) - 9\n    if i < 1:\n        i = 1\n    while True:\n        if Sum(i) >= x:\n            return i, 9 * Sum(i - 1)\n        i = i + 1\n\ndef solve(x):\n    cnt, sum = count(x)\n    half = (10 ** ((cnt + 1) // 2 - 1)) + (x - sum - 1)\n    if cnt % 2 == 1:\n        return int(str(half // 10) + str(half)[::-1])\n    else:\n        return int(str(half) + str(half)[::-1])\n\ndef rev(x):\n    sz = len(str(x))\n    sum = Sum(sz - 1) * 9\n    sum += int(str(x)[:(sz + 1) // 2]) - (10 ** (sz // 2 + sz % 2 - 1))\n    while solve(sum) <= x:\n        sum = sum + 1\n    return sum - 1\n\nT = int(input())\nfor i in range(T):\n    N, X = int(input()), int(input())\n    print(solve(X + rev(N)))\n```\n",
        "postTime": 1590305061,
        "uid": 42299,
        "name": "zengminghao",
        "ccfLevel": 0,
        "title": "P1643 \u9898\u89e3"
    }
]