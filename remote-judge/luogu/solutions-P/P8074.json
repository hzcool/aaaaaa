[
    {
        "content": "\u524d\u7f6e\u77e5\u8bc6\uff1a\u6700\u5c0f\u751f\u6210\u6811\u3002\n\n---\n\n\u7ed9\u51fa $n$ \u4e2a\u70b9\u7684\u4e09\u7ef4\u5750\u6807\uff0c\u53ef\u8ba1\u7b97\u51fa\u6240\u6709\u70b9\u4e24\u4e24\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002  \n\u8fd9\u9053\u9898\u7684\u96be\u70b9\u5728\u4e8e\u5b58\u8fb9\u3002  \n\u5982\u679c $n$ \u4e2a\u70b9\u4e24\u4e24\u4e4b\u95f4\u7684\u6240\u6709\u8fb9\u90fd\u5b58\u4e0b\u6765\uff0c\u90a3\u4e48\u4e00\u5171\u8981\u5b58 $\\frac{n \\times (n-1)}{2}$ \u6761\u8fb9\u3002  \n\u800c\u6211\u4eec\u53d1\u73b0\u6570\u636e\u8303\u56f4\uff1a $n \\leqslant 10^{5}$  \n\u90a3\u4e48\u8fd9\u6837\u6211\u4eec\u8981\u5b58 $5 \\times 10^{9}$ \u6761\u8fb9\uff0c\u663e\u7136\u4f1a MLE \u3002\n\n---\n\n\u8003\u8651\u4f18\u5316\u5b58\u8fb9\u65b9\u6cd5\u3002  \n\u5fc5\u987b\u5220\u8fb9\u3002  \n\u5220\u8fb9\uff0c\u5c31\u8981\u5220\u6389\u90a3\u4e9b\u5bf9\u4e8e\u7b54\u6848\u6ca1\u6709\u8d21\u732e\u7684\u8fb9\uff0c\u8fd9\u4e9b\u8fb9\u53ef\u6709\u53ef\u65e0\u3002  \n\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\uff1a  \n```\n3\n1 1 1\n1 1 2\n1 1 3\n```  \n\u6211\u4eec\u5b9e\u9645\u4e0a\u5e76\u4e0d\u9700\u8981\u8fde\u4e09\u6761\u8fb9\uff0c\u6211\u4eec\u53ea\u7528\u5728\u7b2c\u4e00\u4e2a\u70b9\u548c\u7b2c\u4e8c\u4e2a\u70b9\u3001\u7b2c\u4e8c\u4e2a\u70b9\u548c\u7b2c\u4e09\u4e2a\u70b9\u4e4b\u95f4\u5404\u8fde\u4e00\u6761\u8fb9\u5c31\u53ef\u4ee5\u4e86\u3002  \n\u5f97\u51fa\u601d\u8def\uff1a\u5206\u522b\u6309\u7167x\u3001y\u3001z\u4ece\u5c0f\u5230\u5927\u6392\u4e09\u6b21\u5e8f\uff0c\u6392\u5b8c\u540e\u518d\u6570\u7ec4\u4e2d\u76f8\u90bb\u4e24\u9879\u4e4b\u95f4\u5efa\u8fb9\u3002  \n\u8fd9\u6837\u6211\u4eec\u6700\u591a\u53ea\u7528\u5efa $3 \\times n$ \u6761\u8fb9\uff0c\u5f53 $n=10^{5}$ \u65f6\uff0c\u8fb9\u6570\u4e5f\u53ea\u4f1a\u8fbe\u5230 $300000$\u3002  \n\n\u663e\u7136\u8fd9\u9053\u9898\u5efa\u7acb\u7684\u662f\u4e00\u4e2a\u7a00\u758f\u56fe\uff0c\u6211\u4eec\u7528 Kruskal \u6c42\u89e3\u6700\u5c0f\u751f\u6210\u6811\u3002  \n\u4ee3\u7801\u5949\u4e0a\uff1a  \n```cpp\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nint n,m;//m\u4e3a\u6700\u540e\u7684\u8fb9\u6570\nconst int Maxn=1e5+5,Maxm=1e6+5;\nstruct Node//\u5b58\u70b9\uff0cnum\u4e3a\u70b9\u7684\u7f16\u53f7\n{\n\tint x,y,z,num;\n}node[Maxn];\nstruct Edge//\u5b58\u8fb9\n{\n\tint u,v,w;\n}graph[Maxm];\n//\u524d\u4e09\u4e2acmp\u662f\u7528\u5728\u5efa\u8fb9\u65f6\u7684\u6392\u5e8f\u7684\uff0c\u6700\u540e\u4e00\u4e2a\u662f\u7528\u5728kruskal\u4e2d\u7684\u6392\u5e8f\u7684\nbool cmpx(Node n1,Node n2) {return n1.x<n2.x;}\nbool cmpy(Node n1,Node n2) {return n1.y<n2.y;}\nbool cmpz(Node n1,Node n2) {return n1.z<n2.z;}\nbool cmpw(Edge e1,Edge e2) {return e1.w<e2.w;}\nint fa[Maxn];//\u5e76\u67e5\u96c6\u4f18\u5316\nint mst;\nint find(int x)\n{\n\tif(fa[x]==x) return x;\n\treturn fa[x]=find(fa[x]);\n}\nvoid merge(int x,int y) {fa[find(x)]=find(y);}\nvoid kruskal()\n{\n\tfor(int i=1;i<=n;i++) fa[i]=i;\n\tint count=0;\n\tsort(graph+1,graph+m+1,cmpw);\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tEdge e=graph[i];\n\t\tint u=e.u,v=e.v,w=e.w;\n\t\tif(find(u)!=find(v)) \n\t\t{\n\t\t\tmerge(u,v);\n\t\t\tmst+=w;\n\t\t\tcount++;\n\t\t\tif(count==n-1) return;\n\t\t}\n\t}\n}\nvoid add(int u,int v,int w)\n{\n\tgraph[++m].u=u;\n\tgraph[m].v=v;\n\tgraph[m].w=w;\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d%d%d\",&node[i].x,&node[i].y,&node[i].z);\n\t\tnode[i].num=i; \n\t}\n\tsort(node+1,node+n+1,cmpx);\n\tfor(int i=1;i<n;i++) add(node[i].num,node[i+1].num,node[i+1].x-node[i].x);\n\tsort(node+1,node+n+1,cmpy);\n\tfor(int i=1;i<n;i++) add(node[i].num,node[i+1].num,node[i+1].y-node[i].y);\n\tsort(node+1,node+n+1,cmpz);\n\tfor(int i=1;i<n;i++) add(node[i].num,node[i+1].num,node[i+1].z-node[i].z);\n\tkruskal();\n\tcout<<mst;\n\treturn 0;\n}\n```",
        "postTime": 1645885826,
        "uid": 229373,
        "name": "Xeqwq",
        "ccfLevel": 5,
        "title": "P8074 [COCI2009-2010#7] SVEMIR \u9898\u89e3"
    },
    {
        "content": "[\u9898\u9762\uff0c\u563f\u563f\uff0c\u9898\u9762](https://www.luogu.com.cn/problem/P8074)\n\n> **Discover the key or change the direction.**\n\n### Solution\n\n\u9898\u76ee\u7684\u610f\u601d\u5c31\u662f\u7ed9\u4f60 $n$ \u4e2a\u70b9\uff0c\u4efb\u610f\u4e24\u4e2a\u70b9\u8fde\u8fb9\u6709\u4e00\u5b9a\u4ee3\u4ef7\uff0c\u6c42\u5b83\u7684\u6700\u5c0f\u751f\u6210\u6811\u3002\n\n\u8fd9\u770b\u4e0a\u53bb\u5f88\u50cf\u4e00\u4e2a\u677f\u5b50\uff0c\u4e00\u770b\u6570\u636e\u8303\u56f4\u8fd8\u662f\u7b97\u4e86\uff0c$\\mathcal O(n^2)$ \u7684 $\\text{prim}$ \u7b97\u6cd5\u6307\u5b9a\u8fc7\u4e0d\u53bb\u3002\n\n\u90a3\u5982\u679c\u628a\u6240\u6709\u8fb9\u5efa\u51fa\u6765\u8dd1 $\\text{Kruskal}$ \u5462\uff1f\u8fb9\u6570\u8db3\u8db3\u6709 $\\frac{(n-1)n}{2}$ \u6761\u4e5f\u8fc7\u4e0d\u53bb\u3002\n\n\u6211\u4eec\u77e5\u9053\u6700\u5c0f\u751f\u6210\u6811\u53ea\u9700\u8981 $n-1$ \u6761\u8fb9\uff0c\u90a3\u8fd9\u91cc\u80af\u5b9a\u6709\u5f88\u591a\u8fb9\u662f\u201c\u5e9f\u8fb9\u201d\u3002\n\n\u8003\u8651\u5982\u4f55\u51cf\u5c11\u5e9f\u8fb9\uff1f\u6211\u4eec\u4ece\u8fb9\u6743\u7684\u6761\u4ef6\u4e0b\u624b\u3002\n\n\u5bf9\u4e8e\u4e24\u4e2a\u70b9 $a,b$\uff0c\u5b83\u4eec\u76f8\u8fde\u7684\u4ee3\u4ef7\u4e3a $ w(a,b) = \\min \\{|a_x-b_x|, |a_y-b_y|, |a_z-b_z|\\}$\u3002\n\n\u53ea\u53d6\u6700\u5c0f\u503c\u554a\u3002\u3002\u3002\n\n\u5e76\u4e14\u8fd8\u53ea\u662f\u4e09\u4e2a\u7ef4\u5ea6\u4e2d\u7684\u4e00\u4e2a\u7ef4\u5ea6\u3002\n\n\u8003\u8651\u4e09\u4e2a\u70b9 $a,b,c$ \u4e14 $a_x < b_x < c_x$ \u4e14\u4efb\u610f\u4e24\u70b9\u7684\u4ee3\u4ef7\u90fd\u662f\u7531 $x$ \u8fd9\u4e00\u7ef4\u4ea7\u751f\u7684\uff0c\u90a3\u663e\u7136\u8fde\u63a5 $(a,b)$ \u548c $(b,c)$ \u66f4\u4f18\uff0c\u4e14 $w(a,b) + w(b,c) = w(a,c)$\u3002\u4e5f\u5c31\u662f\u8bf4\u5982\u679c\u6211\u4eec\u6309\u7167 $x$ \u6392\u4e2a\u5e8f\uff0c\u53ef\u80fd\u76f8\u8fde\u7684\u53ea\u6709\u76f8\u90bb\u7684\u4e24\u4e2a\u70b9\u3002\u90a3\u6211\u4eec\u53ea\u628a\u8fd9\u4e9b\u8fb9\u62ff\u51fa\u6765\u5c31\u597d\u4e86\u561b\u3002\n\n$y,z$ \u7ef4\u5ea6\u540c\u7406\u3002\n\n\u8fd9\u6837\u4e00\u756a\u5904\u7406\u540e\uff0c\u6240\u7528\u8fb9\u6570\u53ea\u6709 $3n$ \u6761\uff0c$\\text{Kruskal}$ \u7b97\u6cd5\u53ef\u4ee5\u901a\u8fc7\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define orz cout<<\"lkp AK IOI!\"<<endl\n\nusing namespace std;\nconst int MAXN = 1e5+5;\nconst int INF = 1e9+7;\nconst int mod = 1e9+7;\n\nstruct edge { int u, v, w; }e[MAXN << 2];\nstruct node { int x, y, z, id; }a[MAXN];\n\nint n, m, sum = 0;\nint fa[MAXN];\n\nint read() {\n    int s = 0, f = 0;\n    char ch = getchar();\n    while(!isdigit(ch)) f |= (ch == '-'), ch = getchar();\n    while(isdigit(ch)) s = (s << 1) + (s << 3) + ch - '0', ch = getchar();\n    return f ? -s : s;\n}\n\nint find(int x) { return fa[x] == x ? x : fa[x] = find(fa[x]); }\nint Dis(int x, int y) { return min(abs(a[x].x - a[y].x), min(abs(a[x].y - a[y].y), abs(a[x].z - a[y].z))); }\nbool cmp1(node x, node y) { return x.x < y.x; }\nbool cmp2(node x, node y) { return x.y < y.y; }\nbool cmp3(node x, node y) { return x.z < y.z; }\nbool cmp4(edge x, edge y) { return x.w < y.w; }\n\nsigned main()\n{\n    n = read();\n    for(int i = 1; i <= n; ++i) a[i].x = read(), a[i].y = read(), a[i].z = read(), a[i].id = i;\n    sort(a + 1, a + n + 1, cmp1);\n    for(int i = 1; i < n; ++i) e[++m] = (edge){a[i].id, a[i + 1].id, Dis(i, i + 1)};\n    sort(a + 1, a + n + 1, cmp2);\n    for(int i = 1; i < n; ++i) e[++m] = (edge){a[i].id, a[i + 1].id, Dis(i, i + 1)};\n    sort(a + 1, a + n + 1, cmp3);\n    for(int i = 1; i < n; ++i) e[++m] = (edge){a[i].id, a[i + 1].id, Dis(i, i + 1)};\n    sort(e + 1, e + m + 1, cmp4);\n    for(int i = 1; i <= n; ++i) fa[i] = i;\n    for(int i = 1, cnt = 0; i <= m; ++i) {\n        int uf = find(e[i].u), vf = find(e[i].v);\n        if(uf != vf) {\n            fa[uf] = vf;\n            sum += e[i].w;\n            if(++cnt == n - 1) break;\n        }\n    }\n    printf(\"%lld\\n\", sum);\n    return 0;\n}\n```\n\n",
        "postTime": 1643330619,
        "uid": 230580,
        "name": "Suzt_ilymtics",
        "ccfLevel": 6,
        "title": "P8074 [COCI2009-2010#7] SVEMIR \u9898\u89e3"
    },
    {
        "content": "## \u9898\u610f\u7b80\u8ff0\n\n\u7ed9\u4f60\u4e00\u4e2a\u56fe\uff0c\u4efb\u610f\u4e24\u70b9\u8fde\u901a\uff0c\u7ecf\u8fc7 $a$ \u5230 $b$  \u7684\u4ee3\u4ef7\u662f $\\min \\{ \\left|x_a-x_b\\right|,\\left|y_a-y_b\\right|,\\left|z_a-z_b\\right|\\}$ \uff0c\u6c42\u8be5\u56fe\u7684\u6700\u5c0f\u751f\u6210\u6811 \uff08 MST \uff09 \u3002\n\n## $60 pts$\n\n>\u4f7f\u7528 Prim \u7b97\u6cd5\u3002\uff08\u4e0d\u77e5\u9053 Prim \uff1f[\u70b9\u8fd9\u91cc](https://blog.csdn.net/qq_34793133/article/details/80633494)\uff09\n\n\n>\u65f6\u95f4\u590d\u6742\u5ea6: $O(n^2)$\n\n>\u65b9\u6cd5:\u84dd\u767d\u70b9\u601d\u60f3\uff0c\u6bcf\u6b21\u5c06\u4e00\u4e2a\u84dd\u70b9\u8f6c\u4e3a\u767d\u70b9\uff0c\u518d\u679a\u4e3e\u4e0e\u4e4b\u76f8\u8fde\u7684\u8fb9\uff08\u8fb9\u957f\u4e3a\u9898\u76ee\u4e2d\u7684\u516c\u5f0f\uff09\uff0c\u627e\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\u4ee3\u7801:\n```\n#include <bits/stdc++.h>\nusing namespace std;\nint n;\nint main()\n{\n    cin>>n;\n    int x[n+10]={0},y[n+10]={0},z[n+10]={0},v[n+10]={0},u[n+10]={0};\n    for(int i=1;i<=n;i++)scanf(\"%d%d%d\",&x[i],&y[i],&z[i]);//\u8bfb\u5165\n\tmemset(v,0x7f,sizeof(v));\n\tv[1]=0;\n\tmemset(u,1,sizeof(u));//\u521d\u59cb\u5316\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint k=0;\n\t\tfor(int j=1;j<=n;j++)\n\t\t  if(u[j]&&v[j]<v[k])k=j;//\u627e\u84dd\u70b9\n\t\tu[k]=0;\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tint e=min(abs(x[k]-x[j]),min(abs(y[k]-y[j]),abs(z[k]-z[j])));\n\t\t\tif(u[j]&&e<v[j])v[j]=e;\n\t\t}//\u66f4\u65b0\n\t}\n\tint ans=0;\n\tfor(int i=1;i<=n;i++)ans+=v[i];//\u6c42\u548c\n\tcout<<ans<<endl;\n}\n```\n\u5438\u6c27\u5b9e\u6d4b\u8d85\u65f6 4 \u4e2a\u70b9\u3002\n\n## $100 pts$\n\n>\u4f7f\u7528 Kruskal \u7b97\u6cd5\u3002\uff08\u4e0d\u77e5\u9053 Kruskal \uff1f[\u70b9\u8fd9\u91cc](https://blog.csdn.net/qq_41754350/article/details/81460643)\uff09\n\n\n>\u65f6\u95f4\u590d\u6742\u5ea6: $O(n \\log n)$\n\n>\u65b9\u6cd5:\u5e76\u67e5\u96c6\uff0c\u6bcf\u6b21\u5c06\u4e24\u4e2a\u96c6\u5408\u627e\u6700\u5c0f\u8fb9\u5408\u5e76\u627e\u6700\u5c0f\u503c\u5373\u53ef\u3002\n\n\n\u4f46\u662f\u6709\u4e00\u4e2a\u95ee\u9898: $N$ \u592a\u5927\u4e86\uff0c\u4e00\u5171\u6709 $N \\times (N-1) \\div2$ \u6761\u8fb9\uff0c\u5982\u679c\u5168\u90e8\u5b58\u4e0b\u6765\uff0c\u65f6\u95f4\u5c31\u4f1a\u98da\u5230 $O(n^3)$ \u3002\u80af\u5b9a\u8981\u4f18\u5316\uff0c\u90a3\u4e48\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\u5220\u8fb9\uff0c\u6211\u4eec\u4e00\u5171\u53ea\u9700\u8981 $N-1$ \u6761\u8fb9\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u4e00\u4e9b\u4e0d\u53ef\u80fd\u7684\u8fb9\u5220\u53bb\u3002\u601d\u8003\u4e00\u4e0b\uff0c\u5047\u5982\u6211\u4eec\u8981\u7528\u4e00\u6761\u4ece $i$ \u5230 $j$ \u7684\u8fb9\uff0c\u4f46\u662f\u5982\u679c\u4ed6\u4eec\u7684\u8fb9\u6743\u6bd4\u4ed6\u4eec\u4e4b\u95f4\u518d\u8fde\u4e00\u4e2a\u70b9\u8fd8\u5927\uff0c\u5c31\u4e0d\u7528\u52a0\u8fd9\u4e2a\u8fb9\u4e86\u3002\u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u7ed3\u8bba\uff1a**\u5728\u672c\u9898\u7684\u6761\u4ef6\u4e0b\uff0c\u4ee3\u4ef7\u76f8\u540c\u7684\u60c5\u51b5\u4e0b\uff0c\u6240\u80fd\u4ea7\u751f\u7684\u8054\u901a\u5feb\u8d8a\u5927\u8d8a\u597d\u3002**\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4ee5\u4e09\u7ef4\u6765\u6392\u5e8f\uff0c\u4e00\u5171\u6392\u4e09\u6b21\uff0c\u6bcf\u6b21\u6392\u5b8c\u90fd\u5c06\u76f8\u90bb\u7684\u4e24\u4e2a\u70b9\u8fde\u4e00\u6761\u8fb9\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u4e86\u4e0d\u7b26\u5408\u9898\u8bbe\u7684\u8fb9\u4f5c\u4e3a\u7b54\u6848\uff0c\u90a3\u4e48\u5b83\u4e00\u5b9a\u53ef\u4ee5\u88ab\u7b26\u5408\u9898\u8bbe\u7684\u8fb9\u66ff\u4ee3\u3002\u6240\u4ee5\u65f6\u95f4\u4e0d\u4f1a\u504f\u5927\u3002\n\n\u4ee3\u7801:\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint n;\nstruct node\n{\n\tlong long x;\n\tint id;\n\tbool operator < (const node &a)const\n\t{\n\t\treturn x<a.x;\n\t}\n} x[100010],y[100010],z[100010];\nstruct edge\n{\n\tlong long w;\n\tint u,v;\n\tbool operator < (const edge &x)const\n\t{\n\t\treturn w<x.w;\n\t}\n} e[MAXN<<2];\nint tot;\nvoid add(int i,int j)//\u5efa\u8fb9\n{\n\te[++tot].w=abs(x[i].x-x[j].x);\n\te[tot].u=x[i].id,e[tot].v=x[j].id;\n\n\te[++tot].w=abs(y[i].x-y[j].x);\n\te[tot].u=y[i].id,e[tot].v=y[j].id;\n\n\te[++tot].w=abs(z[i].x-z[j].x);\n\te[tot].u=z[i].id,e[tot].v=z[j].id;\n}\nint f[100010];\nint find(int x)\n{\n\tif(x==f[x]) return x;\n\telse return f[x]=find(f[x]);\n}\nlong long kruskal()\n{\n\tlong long ans=0;\n\tsort(e+1,e+1+tot);//\u5bf9\u8fb9\u6392\u5e8f\n\tfor(int i=1; i<=n; ++i) f[i]=i;\n\tfor(int i=1; i<=tot; ++i)\n\t{\n\t\tint u=e[i].u,v=e[i].v;\n\t\tlong long w=e[i].w;\n\t\tif(find(u)==find(v)) continue;//\u5224\u65ad\u662f\u5426\u5df2\u5408\u5e76\n\t\tans+=w;\n\t\tf[find(u)]=find(v);//\u5408\u5e76\n\t}\n\treturn ans;\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1; i<=n; ++i)\n\t{\n\t\tscanf(\"%lld %lld %lld\",&x[i].x,&y[i].x,&z[i].x);\n\t\tx[i].id=y[i].id=z[i].id=i;\n\t}//\u8bfb\u5165\n\tsort(x+1,x+1+n);\n\tsort(y+1,y+1+n);\n\tsort(z+1,z+1+n);//\u6392\u5e8f\n\tfor(int i=2; i<=n; ++i)\n\t\tadd(i,i-1);\n\tprintf(\"%lld\",kruskal());\n\treturn 0;\n}\n\n```\n\u5438\u6c27\u5b9e\u6d4b $211$ ms\u3002",
        "postTime": 1643112019,
        "uid": 320616,
        "name": "EndCentury",
        "ccfLevel": 5,
        "title": "P8074"
    },
    {
        "content": "## \u9898\u76ee\u5927\u610f\n\n\u6709 $n$ \u4e2a\u70b9\uff0c\u6bcf\u4e2a\u70b9\u7528\u4e09\u7ef4\u5750\u6807 $(x,y,z)$ \u6765\u8868\u793a\u3002\u73b0\u5728\u8981\u628a\u5b83\u4eec\u7528 $n-1$ \u6761\u8fb9\u8fde\u8d77\u6765\uff0c\u8fde\u63a5 $A,B$ \u9700\u8981\u82b1\u8d39 $\\min\\{|x_a-x_b|,|y_a-y_b|,|z_a-z_b|\\}$\u3002\u6c42\u51fa\u6700\u5c0f\u7684\u603b\u4ef7\u683c\u3002\n\n## \u601d\u8def\n\n\u524d\u7f6e\u77e5\u8bc6\uff1a\u6700\u5c0f\u751f\u6210\u6811\u3002\n\n\u666e\u901a\u7684\u6700\u5c0f\u751f\u6210\u6811\u53ea\u9700\u8981\u6392\u4e00\u6b21\u5e8f\uff0c\u5373\u6bcf\u4e24\u4e2a\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\n\n\u4f46\u662f\u7531\u4e8e\u8fd9\u9053\u9898\u4e2d\u4e24\u4e2a\u70b9\u7684\u8ddd\u79bb\u8ddf\u4e09\u4e2a\u503c\u6709\u5173\uff0c\u5373\u70b9\u7684\u4e09\u7ef4\u5750\u6807\u3002\n\n\u6240\u4ee5\u6211\u4eec\u9700\u8981\u5c06\u6240\u6709\u7684\u70b9\u5206\u522b\u6309\u7167 $x$ \u8f74\u3001$y$ \u8f74\u548c $z$ \u8f74\u6392\u5e8f\u4e09\u6b21\u3002\n\n\u4ee5 $x$ \u8f74\u4e3a\u4f8b\u3002\u5047\u8bbe\u73b0\u5728\u6709\u4e24\u4e2a\u70b9 $A$ \u548c $B$\uff0c$x_a<x_b$\uff0c\u70b9 $A$ \u548c\u70b9 $B$ \u5728 $x$ \u8f74\u4e0a\u76f8\u90bb\u3002\u5982\u679c\u6b64\u65f6\u6765\u4e86\u4e00\u4e2a\u70b9 $C$\uff0c\u4e14\u70b9 $A$ \u6216\u70b9 $B$ \u5230\u70b9 $C$ \u7684\u8ddd\u79bb\u5c0f\u4e8e\u70b9 $A$ \u5230\u70b9 $B$ \u7684\u8ddd\u79bb $dis_{a,b}$\uff0c\u90a3\u4e48\u8bf4\u660e\u70b9 $C$ \u4e00\u5b9a\u662f\u5728 $y$ \u8f74\u6216 $z$ \u8f74\u4e0a\u8ddf\u70b9 $A$ \u6216\u70b9 $B$ \u76f8\u90bb\u3002\n\n\u8fd9\u5c31\u8bc1\u660e\u4e86\u8981\u4f7f\u8ddd\u79bb\u6700\u77ed\uff0c\u90a3\u4e48\u8fde\u63a5\u7684\u4e24\u70b9\u5fc5\u5b9a\u5728 $x$ \u8f74\u6216 $y$ \u8f74\u6216 $z$ \u8f74\u76f8\u90bb\u3002\n\n\u6240\u4ee5\u6211\u4eec\u5728\u5c06\u6240\u6709\u7684\u70b9\u5206\u522b\u6309\u7167 $x$ \u8f74\u3001$y$ \u8f74\u548c $z$ \u8f74\u6392\u5e8f\u4e09\u6b21\u4e4b\u540e\uff0c\u8fd8\u9700\u8981\u6309\u7167 $x$ \u8f74\u3001$y$ \u8f74\u548c $z$ \u8f74\u76f8\u90bb\u4e24\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u8fdb\u884c\u4e00\u6b21\u6392\u5e8f\u3002\n\n\u6b64\u65f6\u82e5\u70b9 $A$ \u548c $B$ \u4e4b\u95f4\u7684 $dis_{a,b}$ \u6700\u5c0f\uff0c\u5c31\u628a\u5b83\u4eec\u7528\u5e76\u67e5\u96c6\u5b58\u5728\u4e00\u4e2a\u96c6\u5408\u4e2d\uff0c\u5373 $fa_a=fa_b$\u3002\n\n\u7136\u540e\u5411\u540e\u7ee7\u7eed\u904d\u5386\u3002\u5982\u679c $fa_x\u2260fa_y$\uff0c\u5c31\u5c06\u7b54\u6848 $ans$ \u52a0\u4e0a $dis_{x,y}$\u3002\n\n\u6700\u540e\u8fd9\u9053\u9898\u5c31\u89e3\u51b3\u4e86\u3002\n\n## code\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct node{\n\tlong long x,y,z;\n\tint id;\n}a[100001];\nstruct ${\n\tint idx,idy;\n\tlong long dis;\n};\nint n,si,p,q;\nint fa[100001];\nlong long ans;\nvector<$> v;\nint fd(int x)\n{\n\tif(fa[x]==x) return x;\n\treturn fa[x]=fd(fa[x]);\n}\nlong long dis(int x,int y)\n{\n\treturn min(abs(a[x].x-a[y].x),min(abs(a[x].y-a[y].y),abs(a[x].z-a[y].z)));\n}\nbool cmp1(node x,node y)\n{\n\treturn x.x<y.x;\n}\nbool cmp2(node x,node y)\n{\n\treturn x.y<y.y;\n}\nbool cmp3(node x,node y)\n{\n\treturn x.z<y.z;\n}\nbool cmp($ x,$ y)\n{\n\treturn x.dis<y.dis;\n}\nint main()\n{\n//\tfreopen(\"P8074.in\",\"r\",stdin);\n//\tfreopen(\"P8074.out\",\"w\",stdout);\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%lld%lld%lld\",&a[i].x,&a[i].y,&a[i].z);\n\t\ta[i].id=fa[i]=i;\n\t}\n\tsort(a+1,a+1+n,cmp1);\n\tfor(int i=2;i<=n;i++) \n\t\tv.push_back(($){a[i-1].id,a[i].id,dis(i-1,i)});\n\tsort(a+1,a+1+n,cmp2);\n\tfor(int i=2;i<=n;i++) \n\t\tv.push_back(($){a[i-1].id,a[i].id,dis(i-1,i)});\n\tsort(a+1,a+1+n,cmp3);\n\tfor(int i=2;i<=n;i++) \n\t\tv.push_back(($){a[i-1].id,a[i].id,dis(i-1,i)});\n\tsi=v.size();\n\tsort(v.begin(),v.end(),cmp);\n\tfor(int i=0;i<si;i++)\n\t{\n\t\tp=fd(v[i].idx),q=fd(v[i].idy);\n\t\tif(p!=q) {ans+=v[i].dis;fa[p]=q;}\n\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1643090772,
        "uid": 399674,
        "name": "Naro_Ahgnay",
        "ccfLevel": 0,
        "title": "P8074 [COCI2009-2010#7] SVEMIR \u9898\u89e3"
    },
    {
        "content": "\u6b63\u597d\u6700\u8fd1\u5728\u505a\u6700\u5c0f\u751f\u6210\u6811\uff0c\u7136\u540e\u6d1b\u8c37\u9996\u9875\u5c31\u7ed9\u6211\u63a8\u8fc7\u6765\u4e86\u3002\n\n\u8bfb\u5b8c\u9898\u76ee\uff0c\u4e4d\u4e00\u770b\u4ee5\u4e3a\u662f\u4e2a\u677f\u5b50\u9898\u3002\u4e0d\u8fc7\uff0c\u89c2\u5bdf\u6570\u636e\uff0c\u53d1\u73b0 $N \\leqslant10^5$ \uff0c\u7528  Prim \u7684\u8bdd\u5c31\u662f $O(N^2)$ \u7684\u590d\u6742\u5ea6\uff0c\u80af\u5b9a\u4f1a\u6302\uff0c\u6240\u4ee5\u8fd9\u9898\u53ea\u80fd\u7528 Kruskal \u3002\u4f46\u5982\u679c\u76f4\u63a5\u4e24\u4e24\u5b58\u8fb9\u7684\u8bdd\uff0c\u8981\u5b58\u5927\u7ea6 $5 \u00d7 10^9$ \u6761\u8fb9\uff0c\u5fc5\u7136\u4f1a MLE \u3002\n\n\u8fd9\u65f6\u5019\uff0c\u8003\u8651\u5230\u6700\u5c0f\u751f\u6210\u6811\u6700\u7ec8\u90fd\u662f\u53ea\u6709 $n-1$ \u6761\u8fb9\uff0c\u90a3\u4e48\u6211\u4eec\u521a\u521a\u5b58\u7684\u90a3\u4e48\u591a\u6761\u8fb9\u4e2d\u663e\u7136\u6709\u5f88\u591a\u662f\u65e0\u7528\u7684\uff0c\u8fd9\u65f6\u5019\u5c31\u8981\u8003\u8651\u600e\u6837\u624d\u80fd\u5220\u53bb\u65e0\u7528\u7684\u8fb9\u4e86\u3002\n\n\u73b0\u5728\uff0c\u5047\u5982\u6709\u4e09\u4e2a\u661f\u7403\uff0c\u7f16\u53f7\u4e3a $1,2,3$ \uff0c\u5b83\u4eec\u4e4b\u95f4\u6ee1\u8db3 $x_1<x_2<x_3$ \uff0c\u53ea\u8003\u8651 $x$ \u5750\u6807\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0c\u90a3\u4e48\u6211\u4eec\u8be5\u600e\u4e48\u8fde\u8fb9\u5462\uff1f\u5f88\u663e\u7136\uff0c\u6211\u4eec\u80af\u5b9a\u662f\u8fde $1-2$ \u548c $2-3$ \u3002\u8fd9\u65f6\u5019\u601d\u8def\u5c31\u6709\u4e86\uff1a\u53ea\u6309\u7167 $x$ \u5750\u6807\u6392\u5e8f\uff0c\u7136\u540e\u4f9d\u6b21\u5c06\u76f8\u90bb\u7684\u4e24\u4e2a\u661f\u7403\u8fde\u8fb9\u5373\u53ef\u3002\u5269\u4e0b\u4e24\u7ef4\u540c\u7406\u3002\u8fd9\u6837\u7684\u8bdd\u6211\u4eec\u5c31\u4e00\u5171\u53ea\u6709 $3N$ \u6761\u8fb9\uff0c\u80af\u5b9a\u662f\u80fd\u8fc7\u7684\u3002\n\n\u6ce8\u610f\u8fd9\u65f6\u5019\u6211\u4eec\u8981\u5f00\u4e24\u4e2a\u7ed3\u6784\u4f53\uff0c\u4e00\u4e2a\u5b58\u661f\u7403\uff0c\u4e00\u4e2a\u5b58\u8fb9\u3002\u800c\u4e14\u5b58\u661f\u7403\u7684\u7ed3\u6784\u4f53\u9664\u4e86\u5b58\u50a8\u5750\u6807\u5916\u8fd8\u8981\u52a0\u4e00\u4e2a\u57df\u6765\u5b58\u7f16\u53f7\u3002\n\n\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\n#define N 100005\n#define fir first\n#define sec second\n#define inl inline\n#define reg register\n#define int long long\n#define VI vector<int>\n#define MII map<int,int>\n#define PII pair<int,int>\n#define PRT_Q priority_queue\nusing namespace std;\nstruct node  //node\u7528\u4e8e\u5b58\u50a8\u661f\u7403\n{\n\tint x,y,z,id;\n}a[N];\nstruct edge  //edge\u7528\u4e8e\u5b58\u50a8\u8fb9\n{\n\tint from,to,val;\n}e[N*3];\nint fa[N],cnt,n,m;\nbool cmp1(const node& a,const node& b){return a.x<b.x;}  //\u6309x\u6392\u5e8f\nbool cmp2(const node& a,const node& b){return a.y<b.y;}  //\u6309y\u6392\u5e8f\nbool cmp3(const node& a,const node& b){return a.z<b.z;}  //\u6309z\u6392\u5e8f\nbool cmp4(const edge& a,const edge& b){return a.val<b.val;}  //\u7ed9\u8fb9\u7528\u7684\u6392\u5e8f\nint get_dis(const node& a,const node& b){return min(abs(b.x-a.x),min(abs(b.y-a.y),abs(b.z-a.z)));}  //\u83b7\u53d6\u8ddd\u79bb\nint find(int x)  //\u51b0\u8336\u9e21\uff0c\u4e0d\u591a\u89e3\u91ca\n{\n\tif(x==fa[x])\n\t\treturn x;\n\telse\n\t\treturn fa[x]=find(fa[x]);\n}\nint Kruskal()\n{\n\tint sum=0;\n\tfor(int i=1;i<=n;i++)  //\u51b0\u8336\u9e21\u521d\u59cb\u5316\n\t\tfa[i]=i;\n\tsort(e+1,e+m+1,cmp4);\n\tfor(int i=1;i<=m&&cnt<n-1;i++)  ///Kruskal\u6a21\u677f\n\t{\n\t\tint u=find(e[i].from),v=find(e[i].to);\n\t\tif(u!=v)\n\t\t{\n\t\t\tsum+=e[i].val;\n\t\t\tcnt++;\n\t\t\tfa[u]=v;\n\t\t}\n\t}\n\treturn sum;\n}\nsigned main()\n{\n \tios::sync_with_stdio(0);\n\tcin.tie(0),cout.tie(0);\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t\tcin>>a[i].x>>a[i].y>>a[i].z,a[i].id=i;\n\tsort(a+1,a+n+1,cmp1);  ////\u6309x\u6392\u5e8f\n\tfor(int i=1;i<n;i++)\n\t\te[++m].from=a[i].id,e[m].to=a[i+1].id,e[m].val=get_dis(a[i],a[i+1]);  //\u76f8\u90bb\u4e24\u4e2a\u8fde\u8fb9\n\tsort(a+1,a+n+1,cmp2);  ////\u6309y\u6392\u5e8f\n\tfor(int i=1;i<n;i++)\n\t\te[++m].from=a[i].id,e[m].to=a[i+1].id,e[m].val=get_dis(a[i],a[i+1]);  //\u76f8\u90bb\u4e24\u4e2a\u8fde\u8fb9\n\tsort(a+1,a+n+1,cmp3);  ////\u6309z\u6392\u5e8f\n\tfor(int i=1;i<n;i++)\n\t\te[++m].from=a[i].id,e[m].to=a[i+1].id,e[m].val=get_dis(a[i],a[i+1]);  //\u76f8\u90bb\u4e24\u4e2a\u8fde\u8fb9\n\tcout<<Kruskal();\n\treturn 114514^1919810;  //\u6076\u81ed\u6536\u573a\n}\n```\n\n\u7b2c\u4e00\u6b21\u6709\u673a\u4f1a\u53d1\u9898\u89e3\uff0c\u6c42\u901a\u8fc7\uff01",
        "postTime": 1653911887,
        "uid": 530180,
        "name": "King_Powers2021",
        "ccfLevel": 4,
        "title": "\u3010P8074 SVEMIR\u3011 \u9898\u89e3"
    },
    {
        "content": "### P8074 [COCI2009-2010#7] SVEMIR\u9898\u89e3\r\n\r\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P8074)\r\n#### 1. \u9898\u76ee\u5927\u610f\r\n\r\n\u5728\u4e00\u4e2a\u4e09\u7ef4\u5750\u6807\u7cfb\u4e2d\uff0c\u7ed9\u4f60 $n$ \u4e2a\u70b9\uff0c\u5efa\u9020\u4e00\u4e2a\u8fde\u63a5 $i$\u3001$j$ \u7684\u8fb9\u7684\u4ee3\u4ef7\u662f $\\min\\{|x_A-x_B|,|y_A-y_B|,|z_A-z_B|\\}$\uff0c\u5728\u4f7f\u5f97\u6574\u4e2a\u56fe\u8fde\u901a\u65f6\u4ee3\u4ef7\u6700\u5c0f\u3002\r\n\r\n#### 2. \u5206\u6790\r\n\r\n\u5982\u679c\u6253\u4e00\u904d Prim\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a $O(n^2)$,$1 \\le N \\le 10^5$\uff0c\u65e0\u6cd5 AC\u3002\r\n\r\n\u6211\u4eec\u8003\u8651 Kruskal\uff1a\u5982\u679c\u6bcf\u4e2a\u70b9\u4e24\u4e24\u5efa\u4e00\u6761\u8fb9\uff0c\u7a7a\u95f4\u4f1a\u70b8\uff0c\u8981\u4f18\u5316\u7a7a\u95f4\u3002\r\n\r\n\u6211\u4eec\u770b\u4e00\u4e0b\u6837\u4f8b #2:\r\n\r\n```\r\n3\r\n-1 -1 -1 //\u4e00\u53f7\r\n5 5 5\t //\u4e8c\u53f7\r\n10 10 10 //\u4e09\u53f7\r\n```\r\n\r\n\u5982\u679c\u4e24\u4e24\u5efa\u8fb9\uff0c\u4f1a\u8ba1\u7b97\u5927\u91cf\u7684\u65e0\u6548\u6570\u636e\uff0c\u5c31\u50cf\u4e00\u53f7\u548c\u4e09\u53f7\u70b9\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8fde\u63a5\u4e00\u53f7\u548c\u4e8c\u53f7\uff0c\u90a3\u4e3a\u4ec0\u4e48\u8981\u8fde\u4e00\u53f7\u548c\u4e09\u53f7\u5462\uff1f\u4e0d\u96be\u5f97\u51fa\uff0c\u5f53 $x_a \\le x_b \\le x_c$ \u65f6\uff0c\u53ea\u9700\u8fde\u63a5 $a$\uff0c$b$ \u548c $b$\uff0c$c$\uff0c\u4e0d\u9700\u8981\u5173\u5fc3 $a$\uff0c$c$\u3002$y$\uff0c$z$ \u4e5f\u662f\u8fd9\u6837\uff0c\u8fd9\u6837\u53ea\u9700\u5efa $3n$ \u6761\u8fb9\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u4eec\u6309 $x$\uff0c$y$\uff0c$z$ \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u518d\u5efa\u4e00\u6761\u8fde\u63a5\u76f8\u90bb\u4e24\u4e2a\u70b9\u7684\u8fb9\uff0c\u6700\u540e\u5728\u8dd1\u4e00\u904d Kruskal\u3002\r\n\r\n#### 3. Code\r\n\r\n```c\r\n#include <bits/stdc++.h>\r\nusing namespace std;\r\nconst int MAXN = 1e5, MAXM = 1e7;\r\n\r\nint n, m, ans, k;\r\nint f[MAXN];\r\nstruct Edge {int u, v, w;}edge[MAXM];\r\nbool operator < (const Edge &a, const Edge &b) {return a.w < b.w;}\r\nstruct Planet\r\n{\r\n\tint x, y, z, id;\r\n\tvoid input (int i) {scanf (\"%d%d%d\", &x, &y, &z);id = i;}\r\n}planet[MAXN];\r\nbool cmpx (Planet a, Planet b) {return a.x < b.x;}\r\nbool cmpy (Planet a, Planet b) {return a.y < b.y;}\r\nbool cmpz (Planet a, Planet b) {return a.z < b.z;}\r\n\r\nvoid init ()\r\n{\r\n\tscanf (\"%d\", &n);\r\n\tfor (int i = 1; i <= n; i++)\tplanet[i].input (i);\r\n\tfor (int i = 1; i <= n; i++)\tf[i] = i;\r\n}\r\n\r\n// \u5e76\u67e5\u96c6 \r\nint find (int x)\r\n{\r\n\tif (x != f[x])\tf[x] = find (f[x]);\r\n\treturn f[x];\r\n}\r\n\r\nvoid add (Planet a, Planet b)\r\n{\r\n\tedge[++m].u = a.id;edge[m].v = b.id;\r\n\tedge[m].w = min (abs (a.x - b.x), min (abs (a.y - b.y), abs (a.z - b.z))); // \u8ba1\u7b97\u4ee3\u4ef7 \r\n}\r\n\r\n// \u6700\u5c0f\u751f\u6210\u6811 \r\nvoid Kruska ()\r\n{\r\n\tsort (edge + 1, edge + m + 1);\r\n\tfor (int i = 1; i <= m; i++)\r\n\t{\r\n\t\tint r1 = find (edge[i].u), r2 = find (edge[i].v);\r\n\t\tif (r1 == r2)\tcontinue;\r\n\t\tf[r2] = r1;\r\n\t\tk++;ans += edge[i].w;\r\n\t\tif (k == n - 1)\treturn;// \u5efa\u597d\u4e86\u6811\u5c31\u9000\u51fa \r\n\t}\r\n}\r\n\r\nint main()\r\n{\r\n\tinit ();\r\n\t// \u6392\u5e8f + \u5efa\u4e00\u6761\u8fde\u63a5\u76f8\u90bb\u4e24\u4e2a\u70b9\u7684\u8fb9\r\n\tsort (planet + 1, planet + n + 1, cmpx);\r\n\tfor (int i = 2; i <= n; i++)\tadd (planet[i - 1], planet[i]);\r\n\tsort (planet + 1, planet + n + 1, cmpy);\r\n\tfor (int i = 2; i <= n; i++)\tadd (planet[i - 1], planet[i]);\r\n\tsort (planet + 1, planet + n + 1, cmpz);\r\n\tfor (int i = 2; i <= n; i++)\tadd (planet[i - 1], planet[i]);\r\n\tKruska ();\r\n\tprintf (\"%d\", ans);\r\n    return 0;\r\n}\r\n```\r\n",
        "postTime": 1661572145,
        "uid": 571546,
        "name": "qiutianqwq",
        "ccfLevel": 0,
        "title": "P8074 [COCI2009-2010#7] SVEMIR\u9898\u89e3"
    },
    {
        "content": "### \u8fd9\u9053\u9898\u5f88\u660e\u663e\u662f\u4e00\u9053\u6700\u5c0f\u751f\u6210\u6811\n\u4f46\u7531\u4e8e\u5b83\u662f\u5728\u4e00\u4e2a\u4e09\u7ef4\u7684\u7a7a\u95f4\u5185\u505a\u6700\u5c0f\u751f\u6210\u6811\uff0c\n\n\u6240\u4ee5\u666e\u901a\u7684 Kruska \u7b97\u6cd5\u80af\u5b9a\u662f\u65e0\u6cd5\u5b9e\u73b0\u7684\u3002\n\n\u8fd9\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u7528 $3$ \u4e2a\u7ed3\u6784\u4f53\u6765\u5b58\u50a8\u76f8\u5bf9\u4e8e xyz \u4e09\u4e2a\u5750\u6807\u7684\u7f16\u53f7\uff0c\n\n\u4ee5\u53ca\u70b9\u6240\u5728\u7684\u4f4d\u7f6e x/y/z\u3002\n\n\u7136\u540e\u6309\u7167\u5750\u6807\u7684\u5927\u5c0f\u4ece\u5c0f\u5230\u5927\u5bf9 $3$ \u4e2a\u7ed3\u6784\u4f53\u6392\u5e8f\uff0c\n\n\u5728\u7528\u4e00\u4e2a\u5e73\u65f6\u505a Kruska \u7684\u7ed3\u6784\u4f53\u6765\u5b58\u50a8 x/y/z \u95f4\u4e24\u4e24\u76f8\u90bb\u70b9\u5bf9\u7684\u8ddd\u79bb\u3002\n\n\u800c\u5de6\u7aef\u70b9 l \u5219\u4e3a\u524d\u4e00\u4e2a\u70b9\u7684\u7f16\u53f7\uff0c\n\n\u800c\u53f3\u7aef\u70b9 r \u5219\u4e3a\u540e\u4e00\u4e2a\u70b9\u7684\u7f16\u53f7\u3002\n\n\u7136\u540e\u5c31\u662f\u6b63\u5e38\u7684\u5199 Kruska \u5566\uff01\n\n### Code\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint f[300001];\nstruct nodex{int id,x;}\na[100001];\nstruct nodey{int id,y;}\nb[100001];\nstruct nodez{int id,z;}\nc[100001];\nstruct nodeall{int v,l,r;}\nd[300001];\nint x2,y2,z2,n,cnt,ans,cnt2;\nbool cmpx(nodex a,nodex b){return a.x<b.x;}\nbool cmpy(nodey a,nodey b){return a.y<b.y;}\nbool cmpz(nodez a,nodez b){return a.z<b.z;}\nbool cmpall(nodeall a,nodeall b){return a.v<b.v;}\nint getf(int x)\n{\n    if(x==f[x])return f[x];\n    return f[x]=getf(f[x]);\n}\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n*3;i++)f[i]=i;\n    for(int i=1;i<=n;i++)\n        scanf(\"%d%d%d\",&x2,&y2,&z2),\n        a[i].id=i,a[i].x=x2,\n        b[i].id=i,b[i].y=y2,\n        c[i].id=i,c[i].z=z2;\n    stable_sort(a+1,a+n+1,cmpx);\n    stable_sort(b+1,b+n+1,cmpy);\n    stable_sort(c+1,c+n+1,cmpz);\n    for(int i=1;i<n;i++)d[++cnt2].v=a[i+1].x-a[i].x,d[cnt2].l=a[i].id,d[cnt2].r=a[i+1].id;\n    for(int i=1;i<n;i++)d[++cnt2].v=b[i+1].y-b[i].y,d[cnt2].l=b[i].id,d[cnt2].r=b[i+1].id;\n    for(int i=1;i<n;i++)d[++cnt2].v=c[i+1].z-c[i].z,d[cnt2].l=c[i].id,d[cnt2].r=c[i+1].id;//\u8fd9\u91cc\u5c31\u662f\u6c42\u76f8\u90bb\u4e24\u70b9\u5bf9\u7684\u8ddd\u79bb\uff0c\u4ee5\u53ca\u5b58\u5165\u5de6\u7aef\u70b9\u548c\u53f3\u7aef\u70b9\n    stable_sort(d+1,d+cnt2+1,cmpall);\n    for(int i=1;i<=cnt2;i++)\n    {\n        int u=getf(d[i].l),v1=getf(d[i].r);\n        if(u!=v1)ans+=d[i].v,cnt++,f[u]=v1;\n        if(cnt==n-1)break;\n    }\n    cout<<ans;\n    return 0;\n}\n```\n\u8fd9\u8fb9 stable_sort \u6211\u8ba4\u4e3a\u4e5f\u8fd8\u8981\u548c\u5927\u5bb6\u8bb2\u8bb2\uff0c\n\n\u5b83\u5176\u5b9e\u548c sort \u662f\u6ca1\u6709\u533a\u522b\u7684\uff0c\n\n\u53ea\u4e0d\u8fc7\u5b83\u6240\u7528\u7684\u6392\u5e8f\u662f\u5f52\u5e76\uff0c\u5e76\u975e sort \u7684\u5feb\u6392\uff0c\n\n\u56e0\u6b64\u662f\u4e00\u79cd\u7a33\u5b9a\u6392\u5e8f\u3002",
        "postTime": 1660523201,
        "uid": 686342,
        "name": "Jim_Franklin",
        "ccfLevel": 0,
        "title": "[COCI2009-2010#7] SVEMIR"
    },
    {
        "content": "\u9898\u76ee\u5f88\u663e\u773c\uff0c\u5c31\u662f\u6700\u5c0f\u751f\u6210\u6811\u3002\n\n\u4e0d\u96be\u53d1\u73b0\uff0c\u6570\u636e\u8303\u56f4 $1 \\le N \\le 10^5$ \uff0c\u5efa\u8fb9\u4e24\u4e24\u5efa\u8fb9\u6c42\u51fa\u6765\u5c31\u4f1a\u53d1\u73b0\u5fc5\u4f1a MLE \uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651\u53e6\u4e00\u79cd\u5efa\u8fb9\u65b9\u5f0f\u3002\n\n\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u7ed3\u6784\u4f53\u53d8\u91cf\u591a\u52a0\u4e00\u4e2a\u53d8\u91cf\uff0c\u8868\u793a\u8fd9\u4e2a\u8fb9\u662f\u7b2c i \u4e2a\u661f\u7403\u7684\u5750\u6807\uff0c\u597d\u65b9\u4fbf\u540e\u9762\u5efa\u8fb9\u3002\n\n\u4f8b\u5982\u8bfb\u5165\u7684 x \u6570\u7ec4\uff1a\u56e0\u4e3a\u6211\u4eec\u628a\u8ddd\u79bb\u4ee5 x \u4e3a\u6807\u51c6\u8f83\u8fdc\u7684\u51e0\u6761\u8fb9\u5efa\u51fa\u6765\u8fd9\u662f\u6ca1\u6709\u610f\u4e49\u7684\uff0c\u56e0\u4e3a\u95ee\u7684\u662f**\u6700\u5c0f\u603b\u4ef7**\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u628a\u4ee5 x \u4e3a\u6807\u51c6\u7684\u8ddd\u79bb\u8f83\u8fd1\u7684\u51e0\u6761\u8fb9\u5efa\u51fa\u6765\uff0c\u6240\u4ee5\u6211\u4eec\u8003\u8651 sort \u6392\u5e8f\uff0c\u6392\u5b8c\u5e8f\u540e\u6211\u4eec\u5c31\u53ea\u8003\u8651**\u76f8\u90bb\u7684 x \u6570\u7ec4\u5143\u7d20** ,\u56e0\u4e3a\u603b\u80fd\u4e24\u4e24\u5efa\u8fb9\uff0c\u800c\u4e14\u76f8\u90bb\u7684\u8fb9\u80fd\u4fdd\u8bc1**\u6700\u5c0f**\u3002\n\n\u7406\u89e3\u4e86 x \u6570\u7ec4\u5efa\u8fb9\uff0c\u540c\u6837 y \u548c z \u6570\u7ec4\u7167\u4f5c\u5c31\u884c\uff0c\u6ce8\u610f**\u4ee5\u4e0d\u540c\u7684\u6807\u51c6\u6392\u5e8f**\u3002\n\n\u7531\u4e8e\u6211\u4eec\u8fd9\u6837\u5efa\u8fb9\uff0c\u8fb9\u6570\u6700\u591a\u4e5f\u4ec5\u4ec5\u662f $3N$ \u800c\u5df2\uff0c\u662f\u7edd\u5bf9\u4e0d\u4f1a MLE \u7684\uff0c\u800c\u4e14\u6700\u5c0f\u751f\u6210\u6811 Kruskal \u65b9\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f\u4fdd\u8bc1\u901a\u8fc7\u7684\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define maxn 700010\nusing namespace std;\ntypedef long long ll;\nll x[maxn],y[maxn],z[maxn],fa[maxn];\nll n,m;\nll ans,cnt;\nstruct edge{\n\tll u,v,w;\n}e[maxn];\nstruct node{\n\tll x,y,z,from;\n}a[maxn];\ninline ll fr(){\n\tll s=0,k=1;\n\tchar ch=getchar();\n\twhile(!isdigit(ch)){\n\t\tif(ch=='-') k=-1;\n\t\tch=getchar();\n\t}\n\twhile(isdigit(ch)){\n\t\ts=(s<<3)+(s<<1)+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn s*k;\n} \ninline bool cmp(edge a,edge b){//\u4ee5\u4e0d\u540c\u7684\u7684\u6807\u51c6\u6392\u5e8f\n\treturn a.w<b.w;\n}\ninline bool cmpp(node a,node b){//\u4ee5x\u6570\u7ec4\u4e3a\u6807\u51c6\u6392\u5e8f\n\treturn a.x<b.x;\n}\ninline bool cmppp(node a,node b){//\u4ee5y\u6570\u7ec4\u4e3a\u6807\u51c6\u6392\u5e8f\n\treturn a.y<b.y;\n}\ninline bool cmpppp(node a,node b){//\u4ee5z\u6570\u7ec4\u4e3a\u6807\u51c6\u6392\u5e8f\n\treturn a.z<b.z;\n}\ninline ll find(ll x){\n\tif(x!=fa[x]){\n\t\treturn fa[x]=find(fa[x]);\n\t}\n\treturn fa[x];\n}\ninline void kruskal(){\n\tsort(e+1,e+m+1,cmp);\n\tfor(ll i=1;i<=n;i++){\n\t\tfa[i]=i;\n\t}\n\tfor(ll i=1;i<=m;i++){\n\t\tll x=find(e[i].u),y=find(e[i].v);\n\t\tif(x==y) continue;\n\t\tfa[x]=y;\n\t\tans+=e[i].w;\n\t\tcnt++;\n\t\tif(cnt==n-1){\n\t\t\tbreak;\n\t\t}\n\t}\n}\nint main(){#include<bits/stdc++.h>\n#define maxn 700010\nusing namespace std;\ntypedef long long ll;\nll x[maxn],y[maxn],z[maxn],fa[maxn];\nll n,m;\nll ans,cnt;\nstruct edge{\n\tll u,v,w;\n}e[maxn];\nstruct node{\n\tll x,y,z,from;\n}a[maxn];\ninline ll fr(){\n\tll s=0,k=1;\n\tchar ch=getchar();\n\twhile(!isdigit(ch)){\n\t\tif(ch=='-') k=-1;\n\t\tch=getchar();\n\t}\n\twhile(isdigit(ch)){\n\t\ts=(s<<3)+(s<<1)+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn s*k;\n} \ninline bool cmp(edge a,edge b){\n\treturn a.w<b.w;\n}\ninline bool cmpp(node a,node b){\n\treturn a.x<b.x;\n}\ninline bool cmppp(node a,node b){\n\treturn a.y<b.y;\n}\ninline bool cmpppp(node a,node b){\n\treturn a.z<b.z;\n}\ninline ll find(ll x){\n\tif(x!=fa[x]){\n\t\treturn fa[x]=find(fa[x]);\n\t}\n\treturn fa[x];\n}\ninline void kruskal(){\n\tsort(e+1,e+m+1,cmp);\n\tfor(ll i=1;i<=n;i++){\n\t\tfa[i]=i;\n\t}\n\tfor(ll i=1;i<=m;i++){\n\t\tll x=find(e[i].u),y=find(e[i].v);\n\t\tif(x==y) continue;\n\t\tfa[x]=y;\n\t\tans+=e[i].w;\n\t\tcnt++;\n\t\tif(cnt==n-1){\n\t\t\tbreak;\n\t\t}\n\t}\n}\nint main(){\n\tn=fr();\n\tfor(ll i=1;i<=n;i++){\n\t\ta[i].x=fr(),a[i].y=fr(),a[i].z=fr();\n\t\ta[i].from=i;\n\t}\n\tsort(a+1,a+n+1,cmpp);\n\tfor(ll i=1;i<=n-1;i++){\n\t\te[++m].u=a[i].from,e[m].v=a[i+1].from,e[m].w=abs(a[i].x-a[i+1].x);//\u6392\u5e8f\u540e\u76f8\u90bbx\u6570\u7ec4\u5143\u7d20\u5efa\u8fb9\n\t}\n\tsort(a+1,a+n+1,cmppp);\n\tfor(ll i=1;i<=n-1;i++){\n\t\te[++m].u=a[i].from,e[m].v=a[i+1].from,e[m].w=abs(a[i].y-a[i+1].y);////\u6392\u5e8f\u540e\u76f8\u90bby\u6570\u7ec4\u5143\u7d20\u5efa\u8fb9\n\t}\n\tsort(a+1,a+n+1,cmpppp);\n\tfor(ll i=1;i<=n-1;i++){\n\t\te[++m].u=a[i].from,e[m].v=a[i+1].from,e[m].w=abs(a[i].z-a[i+1].z);//\u6392\u5e8f\u540e\u76f8\u90bbz\u6570\u7ec4\u5143\u7d20\u5efa\u8fb9\n\t}\n\tkruskal();\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```\n\u5e0c\u671b\u8fd9\u7bc7\u9898\u89e3\u80fd\u5e2e\u52a9\u5230\u4f60\u3002\n\n\u6c42\u8fc7\u5ba1 qwq ",
        "postTime": 1654780495,
        "uid": 554803,
        "name": "After_light",
        "ccfLevel": 0,
        "title": "\u9898\u89e3P8074 [COCI2009-2010#7] SVEMIR"
    },
    {
        "content": "## P8074 [COCI2009-2010#7] SVEMIR \u9898\u89e3\n\n### \u9898\u610f\n\u7ed9\u51fa n \u4e2a\u70b9\u7684\u5750\u6807\uff0c\u95ee\u5c06\u6240\u6709\u70b9\u8fde\u901a\u6240\u9700\u7684\u6700\u5c0f\u82b1\u8d39\u3002\n\n### \u6734\u7d20\u505a\u6cd5\n\n\u9996\u5148\uff0c\u770b\u5230\u8fde\u901a\u548c\u6700\u5c0f\u82b1\u8d39\uff0c\u60f3\u5230\u8fd9\u9898\u8981\u6c42\u56fe\u7684\u6700\u5c0f\u751f\u6210\u6811\uff0c\u7528\u5e76\u67e5\u96c6\u5b9e\u73b0 kruskal \u7b97\u6cd5\uff0c\u4ee5\u6b64\u5f97\u51fa\u8fd9\u4e2a\u56fe\u7684\u6700\u5c0f\u751f\u6210\u6811\u3002\n\nkruskal \u7b97\u6cd5\u6d41\u7a0b\uff1a\n\n1. \u5efa\u7acb\u5e76\u67e5\u96c6\uff0c\u6bcf\u4e2a\u70b9\u81ea\u5df1\u4e3a\u4e00\u4e2a\u96c6\u5408\n\n2. \u8f93\u5165\u8fb9\u5e76\u6309\u7167\u6743\u503c\u7531\u5c0f\u5230\u5927\u6392\u5e8f\n\n3. \u626b\u63cf\u6bcf\u4e00\u6761\u8fb9\uff0c\u5982\u679c\u4e24\u7aef\u70b9\u5728\u540c\u4e00\u96c6\u5408\u5219\u5ffd\u7565\uff0c\u5426\u5219\u5408\u5e76\u4ed6\u4eec\u7684\u96c6\u5408\uff0c\u5c06\u8fd9\u6761\u8fb9\u7684\u6743\u503c\u7d2f\u52a0\u8fdb\u7b54\u6848\n\n\u5f88\u660e\u663e\uff0c\u8fd9\u79cd\u505a\u6cd5\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u65e0\u6cd5\u8fbe\u5230\u9898\u76ee 32 MB \u7684\u8981\u6c42\uff0c\u539f\u56e0\u5728\u4e8e\u6b64\u9898\u7684\u56fe\u4e3a\u5b8c\u5168\u56fe\uff0c\u4efb\u610f\u4e24\u70b9\u4e4b\u95f4\u90fd\u6709\u8fb9\u8fde\u63a5\u3002\n\n### \u4f18\u5316\n\u518d\u4ed4\u7ec6\u770b\u770b\u9898\u76ee\uff0c\u800c\u4ece\u6743\u503c\u7684\u8ba1\u7b97\u516c\u5f0f\u4e2d\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u601d\u8def\uff0c\u5c06\u4e09\u4e2a\u5750\u6807\u5206\u522b\u5b58\u4e8e\u4e0d\u540c\u6570\u7ec4\u5e76\u6392\u5e8f\uff0c\u8ba1\u7b97\u76f8\u90bb\u4e24\u70b9\u8fb9\u6743\u7136\u540e\u5b58\u8fb9\u6392\u5e8f\uff0c\u8fd9\u6837\u4e5f\u80fd\u4fdd\u8bc1\u8fb9\u6700\u5c0f\u4e14\u70b9\u8fde\u901a\uff0c\u4ee3\u7801\u5982\u4e0b\u3002\n```cpp\n#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<cstring>\n#define ll long long\nusing namespace std;\nll len=0;\nstruct planet{\n\tll val,num;\n}x[100001],y[100001],z[100001];\nstruct road{\n\tll l,r,val;\n}roa[1000001];\nll edge(ll a,ll b){//\u5b58\u8fb9\u3002\n\tll tmpx=abs(x[a].val-x[b].val);\n\tll tmpy=abs(y[a].val-y[b].val);\n\tll tmpz=abs(z[a].val-z[b].val);\n\troa[++len]=((road){x[a].num,x[b].num,tmpx});\n\troa[++len]=((road){y[a].num,y[b].num,tmpy});\n\troa[++len]=((road){z[a].num,z[b].num,tmpz});\n}\nll k[100001];\nll find(ll x){\n\tif(x==k[x]) return k[x]=x;\n\telse return k[x]=find(k[x]);\n}\nbool cmp(planet a,planet b){\n\treturn a.val<b.val;\n}\nbool cmp2(road a,road b){\n\treturn a.val<b.val;\n}\nint main(){\n\tll n;\n\tcin>>n;\n\tfor(ll i=1;i<=n;i++){\n\t\tcin>>x[i].val>>y[i].val>>z[i].val;\n\t\tx[i].num=i;y[i].num=i;z[i].num=i;//\u8bb0\u5f55\u7f16\u53f7\uff0c\u5b58\u8fb9\u7528\u3002\n\t\tk[i]=i;\n\t}\n\tsort(x+1,x+n+1,cmp);\n\tsort(y+1,y+n+1,cmp);\n\tsort(z+1,z+n+1,cmp);\n\tll tot=0,ans=0;\n\tfor(ll i=2;i<=n;i++){\n\t\tedge(i-1,i);//\u4e00\u4e2a\u5faa\u73af\u641e\u5b9a\uff0c\u6548\u7387\u9ad8\u8fd8\u7701\u7a7a\u95f4\u3002\n\t}\n\tsort(roa+1,roa+len+1,cmp2);\n\tfor(ll i=1;i<=len;i++){\n\t\tll x=roa[i].l,y=roa[i].r;\n\t\tll tmpx=find(x),tmpy=find(y);\n\t\tif(tmpx!=tmpy){\n\t\t\ttot++;\n\t\t\tk[tmpx]=tmpy;\n\t\t\tans+=roa[i].val;\n\t\t}\n\t\tif(tot==n-1) break;\n\t}//kruskal\n\tcout<<ans;\n}\n```",
        "postTime": 1643196012,
        "uid": 421265,
        "name": "eastcloud",
        "ccfLevel": 4,
        "title": "P8074 [COCI2009-2010#7] SVEMIR \u9898\u89e3"
    }
]