[
    {
        "content": "# T \u300cSCOI2015\u300d\u5c0f\u51f8\u73a9\u5bc6\u5ba4\n## \u9898\u76ee\n[\u70b9\u8fd9\u91cc](https://loj.ac/problem/2009)\n## \u8003\u573a\u601d\u8def\n\u9898\u76ee\u8bfb\u9519\u4e86\uff0c\u5bfc\u81f4\u6211\u66b4\u529b\u90fd\u6253\u4e0d\u51fa\u6765...\n\n\u5176\u5b9e\u9898\u76ee\u8981\u6c42\u7684\u662f\u4e00\u5b9a\u8981\u5c06\u67d0\u4e00\u68f5\u5b50\u6811\u5168\u90e8\u626b\u5b8c\u518d\u53bb\u626b\u5176\u4ed6\u7684\u5b50\u6811\u3002\n\n\u800c\u4e0d\u662f\u5de6\u8fb9\u626b\u4e00\u4e0b\uff0c\u53f3\u8fb9\u626b\u4e00\u4e0b...\n\n## \u6b63\u89e3\n\n\u9996\u5148\uff0c\u8fd9\u91cc\u8865\u5145\u4e00\u4e2a\u6570\u636e\u8303\u56f4 ~~\uff08\u8003\u8bd5\u7684\u65f6\u5019\u4e5f\u6709\uff09~~ \n___\n\u5bf9\u4e8e $10\\%$ \u7684\u6570\u636e\uff0c$1\u2264n\u226410$\uff1b\n\n\u53e6\u6709 $10\\%$ \u7684\u6570\u636e\uff0c $1\u2264n\u226420$ \uff1b\n\n\u53e6\u6709 $10\\%$ \u7684\u6570\u636e\uff0c $1\u2264n\u22642000$ \uff1b\n\n\u53e6\u6709 $20\\%$ \u7684\u6570\u636e\uff0c $1\u2264n\u226420000$ \uff1b\n\n\u5bf9\u4e8e $100\\%$ \u7684\u6570\u636e\uff0c $1\u2264n\u22642\\times 10^5$ \uff0c $1\u2264A_i\u226410^5$ \uff0c $1\u2264B_i\u226410^5$ \u3002\n___\n\u518d\u6b21\u5f15\u7528\u8fd9\u53e5\u8bdd ~~\u867d\u7136\u662f\u6211\u81ea\u5df1\u7f16\u7684~~ \n\n>\u6240\u8c13\u4fe1\u606f\u7ade\u8d5b\uff0c\u5176\u5b9e\u5c31\u662f\u9762\u5411\u6570\u636e\u7f16\u7a0b\n\n\u5176\u5b9e\uff0c\u6839\u636e\u6570\u636e\u8303\u56f4\uff0c\u4e00\u6b65\u4e00\u6b65\u60f3\u51fa\u7b97\u6cd5\u5e76\u4f18\u5316\u5176\u5b9e\u4e5f\u662f\u4e00\u4e2a\u89e3\u9898\u7684\u597d\u65b9\u6cd5\u3002\n___\n### `\u5b50\u65b9\u6848 1 (10pts)`\n\u9996\u5148\uff0c\u770b\u524d $10\\%$ \u7684\u6570\u636e\uff0c\u8fd9\u4e2a\u5730\u65b9\u6211\u4eec\u53ef\u4ee5\u600e\u4e48\u505a\u5462\uff1f\n\n\u8fd9\u6837\u7684\u66b4\u529b\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u7528 $O(n!)$ \u679a\u4e3e\u6211\u4eec\u8bbf\u95ee\u7684\u987a\u5e8f\u3002\n\n\u518d\u5224\u65ad\u8fd9\u4e2a\u987a\u5e8f\u662f\u5426\u5408\u6cd5\uff0c\u6700\u540e\u8ba1\u7b97\u82b1\u8d39\u5373\u53ef\u3002\n___\n### `\u5b50\u65b9\u6848 2 (20pts)`\n\u4f46\u662f\u5f88\u660e\u663e\uff0c\u5bf9\u4e8e $10pts$ \u7684\u7b97\u6cd5\uff0c\u662f\u8fc7\u4e0d\u4e86\u7b2c\u4e8c\u4e2a $10pts$ \u7684\u6570\u636e\u70b9\u7684\u3002\n\n\u600e\u4e48\u8fdb\u884c\u4f18\u5316\uff1f\n\n\u6ce8\u610f\u5230\u5b50\u65b9\u6848 $1$ \u4e2d\u6709\u8fd9\u6837\u7684\u64cd\u4f5c\uff1a\n\n\u968f\u610f\u679a\u4e3e\u987a\u5e8f\uff0c\u518d\u5224\u65ad\u662f\u5426\u5408\u6cd5\u3002\n\n\u8fd9\u6837\u505a\u8ba9\u6211\u4eec\u7528\u5f88\u591a\u65f6\u95f4\u679a\u4e3e\u4e86\u5f88\u591a\u4e0d\u5408\u6cd5\u7684\u8bbf\u95ee\u987a\u5e8f\u3002\n\n\u90a3\u4e48\u6211\u4eec\u662f\u5426\u53ef\u4ee5\u8ba9\u6211\u4eec\u679a\u4e3e\u7684\u5e8f\u5217\u672c\u6765\u5c31\u5408\u6cd5\uff0c\u53ea\u9700\u76f4\u63a5\u53bb\u7b97\u82b1\u8d39\uff1f\n\n\u8fd9\u662f\u80af\u5b9a\u53ef\u4ee5\u7684\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 $O(2^n)$\uff0c\u56e0\u4e3a\u6211\u4eec\u8981\u5206\u5de6\u3001\u53f3\u513f\u5b50\u53bb\u6784\u9020\u8bbf\u95ee\u987a\u5e8f\u3002\n\n\u8fd9\u6837\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5e94\u8be5\u662f $O(n2^n\\cdot nlog^n_2)$\u3002\n___\n### `\u5b50\u65b9\u6848 3 (50pts)`\n\u5bf9\u4e8e\u5b50\u65b9\u6848 $2$ \u7684\u4f18\u5316\u663e\u7136\u662f\u5f88\u597d\u7684\uff0c\u4f46\u662f\u8fd9\u90fd\u57fa\u4e8e `\u66b4\u529b` \u8fd9\u4e00\u601d\u60f3\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u8f6c\u6362\u601d\u8def\u3002\n\n\u8003\u8651\u6211\u4eec\u662f\u600e\u4e48\u70b9\u4eae\u4e00\u4e2a\u5b50\u6811\u7684\u3002\n\n\u5bf9\u4e8e\u4e00\u4e2a\u5b50\u6811\uff0c\u5b83\u7684\u6839\u662f $u$\uff0c\u5de6\u513f\u5b50\u662f $lc$\uff0c\u53f3\u513f\u5b50\u662f $rc$\u3002\n\n\u5047\u82e5\u6211\u4eec\u5148\u8bbf\u95ee\u5de6\u5b50\u6811\uff0c\u5148\u4e0d\u7ba1\u5b83\u662f\u600e\u4e48\u8bbf\u95ee\u7684\u3002\n\n\u90a3\u4e48\uff0c\u6211\u4eec\u5728\u5de6\u5b50\u6811\u91cc\u9762\u7684\u8bbf\u95ee\u987a\u5e8f\u662f\u5426\u5bf9\u540e\u9762\u7684\u72b6\u6001\u6709\u5f71\u54cd\uff1f\n\n\u662f\u6709\u7684\uff0c\u8bc1\u660e\u5982\u4e0b\uff1a ~~\u672c\u4eba\u6570\u5b66\u4e0d\u597d\uff0c\u6ca1\u6709\u4e25\u683c\u6570\u5b66\u4e66\u5199\u987a\u5e8f~~ \n\n\u5047\u8bbe\u6211\u4eec\u5728\u5de6\u5b50\u6811\u91cc\u9762\u7684\u8bbf\u95ee\u987a\u5e8f\u4e2d\u7684\u67d0\u4e00\u79cd\u662f\u4ee5 $x$ \u7ed3\u5c3e\u3002\n\n\u5f88\u663e\u7136\u8fd9\u4e2a $x$ \u6709\u5f88\u591a\u4e2a\u3002\n\n\u800c\u5f53\u6211\u4eec\u4ece\u5de6\u5b50\u6811\u5230\u53f3\u5b50\u6811\u53bb\u7684\u65f6\u5019\uff0c\u5148\u8981\u8bbf\u95ee\u53f3\u5b50\u6811\u7684\u6811\u6839\uff0c\u5373 $rc$\u3002\n\n\u90a3\u4e48\u8fd9\u4e2a\u82b1\u8d39\u663e\u7136\u662f $dis(x,rc)*A[rc]$\u3002\n\n\u800c\u53c8\u56e0\u4e3a\u8fd9\u4e2a $x$ \u6709\u5f88\u591a\u4e2a\uff0c\u90a3\u4e48\u5f88\u663e\u7136\u3002\u4e0d\u540c\u7684 $x$ \u662f\u4f1a\u6709\u4e0d\u540c\u7684\u82b1\u8d39\u3002\n\n\u56e0\u800c\u5de6\u5b50\u6811\u91cc\u9762\u7684\u8bbf\u95ee\u987a\u5e8f\u662f\u5bf9\u540e\u9762\u7684\u72b6\u6001\u6709\u5f71\u54cd\u3002\n\n\u800c\u4e14\u5f88\u663e\u7136\uff0c\u5bf9\u540e\u9762\u72b6\u6001\u6709\u5f71\u54cd\u7684\u53ea\u6709\u6700\u540e\u8bbf\u95ee\u7684\u90a3\u4e2a\u70b9\u5728\u54ea\u91cc\u3002\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5b9a\u4e49\u72b6\u6001 $f[u][x]$ \u4e3a\u8bbf\u95ee\u5b8c\u4ee5 $u$ \u4e3a\u6839\u7684\u5b50\u6811\uff08\u4e0d\u5305\u542b $u$\uff09\u4e14\u7ed3\u5c3e\u5728 $x$ \u65f6\u7684\u6700\u5c0f\u82b1\u8d39\u3002\n\n\u90a3\u4e48\uff0c\u5c31\u53ef\u4ee5\u5206\u7c7b\u8fdb\u884c\u72b6\u8f6c\uff1a\n\n - \u5f53 $x$ \u5728\u5de6\u5b50\u6811\u4e0a\u65f6\uff0c$f[u][y]=min\\{dis(u,lc)\\times A[lc]+f[lc][x]+dis(x,rc)\\times A[rc]+f[rx][y]\\}$\n - \u5f53 $x$ \u5728\u53f3\u5b50\u6811\u4e0a\u65f6\uff0c$f[u][y]=min\\{dis(u,rc)\\times A[rc]+f[rc][x]+dis(x,lc)\\times A[lc]+f[lc][y]\\}$\n\n\u5f88\u663e\u7136\uff0c\u72b6\u8f6c\u4e2d $x\u3001y$ \u90fd\u662f\u9700\u8981\u5faa\u73af\u679a\u4e3e\u7684\uff0c\u56e0\u800c\u8fd9\u4e2a\u72b6\u8f6c\u5927\u6982\u662f $O(n^2)$ \u7684\u590d\u6742\u5ea6\u3002\n\n\u6240\u4ee5\u603b\u590d\u6742\u5ea6\u662f $O(n^3)$\u3002\n\n\u4f46\u5176\u5b9e\u8fd9\u6837\u7684\u8ba1\u7b97\u662f\u4e0d\u51c6\u786e\u7684\uff0c\u51c6\u786e\u590d\u6742\u5ea6\u5e94\u8be5\u662f $\\sum\\frac{n^2}{2^{x+2}}$\u3002\n\n\u8fd9\u4e2a\u590d\u6742\u5ea6\u662f\u901a\u8fc7**\u5206\u5c42\u8ba1\u7b97**\u5f97\u51fa\u3002\n\n\u4e0d\u96be\u770b\u51fa\uff0c\u8fd9\u4e2a\u590d\u6742\u5ea6\u53ef\u5f97\u5230 $50pts$ \u7684\u9ad8\u5206\u3002\n___\n\n### `\u5b50\u65b9\u6cd5 4 (\u6b63\u89e3)`\n\u6211\u4eec\u53d1\u73b0\uff0c\u5bf9\u4e8e\u5b50\u65b9\u6cd5\u4e09\uff0c\u5176\u5b9e\u5df2\u7ecf\u5feb\u8981\u8fc7\u6389\u8fd9\u9053\u9898\u4e86\u3002\n\n\u4f46\u662f\u54ea\u91cc\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u8f83\u9ad8\u5462\uff1f\n\n\u6bcb\u5eb8\u7f6e\u7591\u7684\uff0c\u72b6\u8f6c\u7684 $O(n^2)$ \u5176\u5b9e\u5df2\u7ecf\u975e\u5e38\u9ad8\u4e86\u3002\n\n\u600e\u4e48\u51cf\u4e0b\u6765\uff1f\u80af\u5b9a\u662f\u8981\u9488\u5bf9\u5176\u72b6\u8f6c\u7b80\u5316\u3002\n\n\u89c2\u5bdf\u72b6\u8f6c\uff1a\n - \u5f53 $x$ \u5728\u5de6\u5b50\u6811\u4e0a\u65f6\uff0c$f[u][y]=min\\{dis(u,lc)\\times A[lc]+f[lc][x]+dis(x,rc)\\times A[rc]+f[rx][y]\\}$\n - \u5f53 $x$ \u5728\u53f3\u5b50\u6811\u4e0a\u65f6\uff0c$f[u][y]=min\\{dis(u,rc)\\times A[rc]+f[rc][x]+dis(x,lc)\\times A[lc]+f[lc][y]\\}$\n\n\u6211\u4eec\u5148\u8003\u8651\u5176\u4e2d\u4e00\u4e2a\u72b6\u8f6c\uff0c\u53e6\u4e00\u4e2a\u5176\u5b9e\u662f\u5bf9\u5e94\u7684\u3002\n\n\u62ff\u7b2c\u4e00\u4e2a\u7b97\u5f0f\u6765\u8bf4\n\n$$f[u][y]=min\\{dis(u,lc)\\times A[lc]+f[lc][x]+dis(x,rc)\\times A[rc]+f[rx][y]\\}$$\n\u8003\u8651\u5c06\u5176\u5206\u89e3\uff1a\n\n\u5bf9\u4e8e $dis(x,rc)$ \uff0c\u5176\u5b9e\u4e0d\u96be\u770b\u51fa\n\n$$dis(x,rx)=dis(x,u)+dis(u,rc)$$\n\u800c\u8fd9\u91cc\u9762\uff0c\u53ea\u6709 $dis(x,u)$ \u662f\u6539\u53d8\u7684\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u5c06 $dis(x,u)$ \u4e5f\u5b58\u5165\u72b6\u6001\u4e2d\uff0c\u5c31\u53ef\u4ee5\u540c\u65f6\u8003\u8651\u5b83\u7684\u6700\u5c0f\u503c\u4e86\u3002\n\n\u6240\u4ee5\uff0c\u8bbf\u95ee\u4e00\u8fb9\u7684\u6700\u5c0f\u82b1\u8d39\u5c31\u662f\n\n$$ans2=f[lc][x]+dis(u,rc)\\times A[rc]+[dis(u,x)+dis(u,rc)]\\times A[rc]$$\n\n\u6700\u540e\u7684\u82b1\u8d39\uff0c\u5c31\u662f $ans2+f[lc][x]$ \u4e86\u3002\n\n\u6700\u540e\uff0c\u6839\u636e\u8fd9\u4e2a $x$ \u5230\u5e95\u5728\u5de6\u8fb9\u8fd8\u662f\u5728\u53f3\u8fb9\u8fdb\u884c\u5206\u7c7b\u8f6c\u79fb\u5373\u53ef\u3002\n\n\u4f46\u662f\uff0c\u8fd9\u5c31\u662f\u6700\u540e\u7684\u7b54\u6848\u4e86\u5417\uff1f\n\n**\u80af\u5b9a\u4e0d\u662f\uff0c\u9898\u76ee\u5e76\u672a\u8981\u6c42\u6211\u4eec\u5fc5\u987b\u4ece $1$ \u5f00\u59cb**\u3002\n\n\u6240\u4ee5\uff0c\u5b9a\u4e49\u53e6\u4e00\u4e2a\u72b6\u6001 $t[i][j]$\uff1a\u8bbf\u95ee\u5b8c $i$ \u7684\u5b50\u6811\uff0c\u7ed3\u5c3e\u5728 $j$ \u65f6\u7684\u6700\u5c0f\u82b1\u8d39\u3002\n\n\u90a3\u4e48\u8fd9\u4e2a\u600e\u4e48\u8f6c\u79fb\u5462\uff1f\n\n~~\u8fd9\u91cc\u53ef\u4ee5\u81ea\u884c\u601d\u8003\u4e86~~ \n\n\u5982\u679c\u8fd8\u662f\u60f3\u4e0d\u51fa\u6765\uff0c\u770b\u770b\u4ee3\u7801\u5427\uff0c\u770b\u770b\u4ee3\u7801\u603b\u6709\u597d\u5904\u7684\n\n`std version`\n\n```cpp\n#include<bits/stdc++.h>\n#define mz 1000000007\nusing namespace std;\n\nlong long inf=mz*1LL*mz;\nlong long dep[200005];\nint n,a[200005],b[200005];\nvector <long long> dp[200005],dis[200005],dpp[200005];\n\nvoid dfs(int x)\n{\n    dep[x]=dep[x/2]+b[x];//\u8ba1\u7b97\u4f2a\u6df1\u5ea6, \u65b9\u4fbf\u8ba1\u7b97\u8ddd\u79bb\n    if(x*2<=n)//\u6709\u5de6\u513f\u5b50\n    {\n        dfs(x*2);//\u5148\u8bbf\u95ee\u5de6\u513f\u5b50\n        int t=dp[x*2].size();//\u5f97\u5230\u5de6\u513f\u5b50\u7684\u53f6\u5b50\u5171\u6709\u591a\u5c11\u4e2a\n        if(x*2+1<=n)//\u5982\u679c\u6709\u53f3\u513f\u5b50\n        {\n            dfs(x*2+1);//\u8bbf\u95ee\u53f3\u513f\u5b50\n            long long ans1=inf,ans2=inf,ansp1=inf,ansp2=inf;\n            //\u5206\u522b\u662f f, t\n            for(int i=0;i<dp[x].size();i++)\n            {\n                if(i<t)//\u5982\u679c\u8fd9\u4e2a\u70b9\u662f\u5de6\u5b50\u6811\u4e0a\u7684\u70b9\n                {\n\n                    ans1=min(ans1,dp[x*2][i]+1LL*b[x*2]*a[x*2]+(dis[x][i]+b[x*2+1])*a[x*2+1]);\n                    ansp1=min(ansp1,dpp[x*2][i]+dis[x][i]*a[x]+1LL*b[x*2+1]*a[x*2+1]);\n                }\n                else//\u5f53\u8fd9\u4e2a\u70b9\u662f\u53f3\u5b50\u6811\u4e0a\u7684\u70b9\n                {\n                    ans2=min(ans2,dp[x*2+1][i-t]+1LL*b[x*2+1]*a[x*2+1]+(dis[x][i]+b[x*2])*a[x*2]);\n                    ansp2=min(ansp2,dpp[x*2+1][i-t]+dis[x][i]*a[x]+1LL*b[x*2]*a[x*2]);\n                }\n            }\n            for(int i=0;i<dp[x].size();i++)\n            {\n                if(i<t)//\u5982\u679c\u5b83\u662f\u5de6\u513f\u5b50\n                {\n                    dp[x][i]=ans2+dp[x*2][i];\n                    dpp[x][i]=min(dp[x][i],ansp2+dp[x*2][i]);\n                }\n                else//\u662f\u53f3\u513f\u5b50\n                {\n                    dp[x][i]=ans1+dp[x*2+1][i-t];\n                    dpp[x][i]=min(dp[x][i],ansp1+dp[x*2+1][i-t]);\n                }\n            }\n        }\n        else//\u6ca1\u6709\u53f3\u513f\u5b50\n        {\n            for(int i=x;i>=1;i=i/2)\n            {\n                dp[i].push_back(0);\n                dpp[i].push_back(0);\n                dis[i].push_back(dep[x]-dep[i]);\n            }\n            dp[x][0]=1LL*b[x*2]*a[x*2];\n            dpp[x][0]=inf;\n            dp[x][1]=inf;\n            dpp[x][1]=1LL*b[x*2]*a[x];\n        }\n    }\n    else//\u6ca1\u6709\u540e\u8f88\n    {\n        for(int i=x;i>=1;i=i/2)\n        {\n            dp[i].push_back(0);\n            dpp[i].push_back(0);\n            dis[i].push_back(dep[x]-dep[i]);\n        }\n    }\n}\n\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)\n        scanf(\"%d\",&a[i]);\n    for(int i=2;i<=n;i++)\n        scanf(\"%d\",&b[i]);\n    dfs(1);\n    long long ans=inf;\n    for(int i=0;i<dp[1].size();i++)\n        ans=min(ans,dpp[1][i]);\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n```\n",
        "postTime": 1573713194,
        "uid": 125355,
        "name": "Vladilena",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4253 \u3010[SCOI2015]\u5c0f\u51f8\u73a9\u5bc6\u5ba4\u3011"
    },
    {
        "content": "\u795e\u5947\u7684\u6811\u5f62dp\u7cfb\u5217\n\n\u5148\u770b\u4e00\u4e0b\u9898\u76ee\u7ed9\u51fa\u7684\u6761\u4ef6\uff1a\n\n1\u3001\u5b8c\u5168\u4e8c\u53c9\u6811\n\n2\u3001\u4efb\u610f\u65f6\u523b\u70b9\u4eae\u7684\u706f\u6ce1\u5fc5\u987b\u8fde\u901a\n\n3\u3001\u70b9\u4eae\u4e00\u4e2a\u706f\u6ce1\u540e\u5fc5\u987b\u5148\u70b9\u4eae\u5176\u5b50\u6811\n\n\u90a3\u4e48\u70b9\u4eae\u706f\u6ce1\u7684\u8fc7\u7a0b\u5c31\u7c7b\u4f3c\u8fd9\u6837\uff1a\n\n\u70b9\u4eae\u706f\u6ce1k,\u70b9\u4eae\u5b83\u7684\u4e00\u4e2a\u5b50\u6811\uff0c\u518d\u70b9\u4eae\u5b83\u53e6\u5916\u7684\u5b50\u6811\uff0c\n\n\u7136\u540e\u56de\u5230k\u7684\u7236\u8282\u70b9\uff0c\u70b9\u4eaefa\u4e4b\u540e\u518d\u70b9\u4eaefa\u7684\u5176\u4ed6\u5b50\u6811\u2026\u2026\n\n\u6240\u4ee5\u5bf9\u4e8e\u4e00\u4e2a\u8282\u70b9u\uff0c\u6709\u8fd9\u6837\u4e24\u79cd\u60c5\u51b5:\n\nu\u8fd8\u6ca1\u6709\u88ab\u70b9\u4eae\uff0c\u5219\u4e0b\u4e00\u4e2a\u88ab\u70b9\u4eae\u7684\u4e00\u5b9a\u662f\u5b83\u7684\u513f\u5b50\n\nu\u662f\u53f6\u5b50\u8282\u70b9\uff0c\u5728\u4e0b\u4e00\u4e2a\u88ab\u70b9\u4eae\u7684\u4e00\u5b9a\u662f\u5b83\u7684\u67d0\u4e00\u7ea7\u7956\u5148\uff0c\u6216\u8005\u662f\u5b83\u67d0\u4e00\u7ea7\u7956\u5148\u7684\u513f\u5b50\n\n\u6211\u4eec\u5b9a\u4e49dp\u6570\u7ec4f\u548cg\n\nf[i][j]\u8868\u793a\u70b9\u4eaei\u4e4b\u540e\u56de\u5230i\u7684\u7b2cj\u4e2a\u7956\u5148\u7684\u6700\u5c0f\u82b1\u8d39\n\ng[i][j]\u8868\u793a\u70b9\u4eaei\u4e4b\u540e\u56de\u5230i\u7684\u7b2cj\u4e2a\u7956\u5148\u7684\u53e6\u4e00\u4e2a\u513f\u5b50\u7684\u6700\u5c0f\u82b1\u8d39\n\n\u7136\u540e\u4ece\u4e0b\u5230\u4e0a\uff0c\u7531\u513f\u5b50\u7684\u72b6\u6001\u8f6c\u79fb\u5230\u7236\u4eb2\u7684\u72b6\u6001\n\n\u6ce8\u610f\u8ba8\u8bba\u5f53\u524d\u8282\u70b9\u7684\u513f\u5b50\u4e2a\u6570\u3002\n\n\u6700\u540e\u7edf\u8ba1\u7b54\u6848\u65f6\uff0c\u6839\u636e\u70b9\u4eae\u7684\u8fc7\u7a0b\u7d2f\u52a0\u5373\u53ef\u3002\n\nps:\u7531\u4e8e\u8fd9\u662f\u4e00\u68f5\u5b8c\u5168\u4e8c\u53c9\u6811\uff0c\u6240\u4ee5\u53ef\u4ee5\u4e0d\u7528\u9012\u5f52\u7684\u65b9\u5f0fdfs\n\n\u76f4\u63a5\u9884\u5904\u7406\u51fa\u6bcf\u4e2a\u8282\u70b9\u7684\u513f\u5b50\u548c\u5b83\u5230\u5404\u7ea7\u7956\u5148\u7684\u8ddd\u79bb\uff0c\u7528\u5faa\u73af\u8f6c\u79fb\u5373\u53ef\u3002\n\n\u6b64\u9898\u6570\u636e\u8d3c\u5927\uff0c\u6240\u4ee5\u6700\u7ec8\u7b54\u6848ans\u7684\u521d\u503c\u4e00\u5b9a\u8981\u5f00\u5927\uff01\n\n\u4e11\u964b\u7684\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<cctype>\n#include<algorithm>\n#define reg register\nusing namespace std;\ntypedef long long ll;\nconst int N=2e5+5;\nint n,num,w[N],fa[N],ls[N],rs[N];\nll f[N][20];//f\u8868\u793ai\u662f\u4eae\u7684\uff0c\u56de\u5230i\u7684\u7b2cj\u4e2a\u7956\u5148\u7684\u6700\u5c0f\u82b1\u8d39\nll g[N][20];//g\u8868\u793ai\u662f\u4eae\u7684\uff0c\u56de\u5230i\u7684\u7b2cj\u4e2a\u7956\u5148\u7684\u53e6\u4e00\u4e2a\u513f\u5b50\u7684\u6700\u5c0f\u82b1\u8d39 \nll dis[N][20];//dis\u8868\u793a\u4ecei\u5230i\u7684\u7b2cj\u4e2a\u7956\u5148\u7684\u8ddd\u79bb \nll ans=1e17;\ninline int read()\n{\n\tint x=0,w=1;\n\tchar c=getchar();\n\twhile (!isdigit(c)&&c!='-') c=getchar();\n\tif (c=='-') c=getchar(),w=-1;\n\twhile (isdigit(c))\n\t{\n\t\tx=(x<<1)+(x<<3)+c-'0';\n\t\tc=getchar();\n\t}\n\treturn x*w;\n}\ninline int brother(int k,int x)//k\u7684\u7b2cx\u4e2a\u7956\u5148\u7684\u53e6\u4e00\u4e2a\u513f\u5b50 \n{\n\treturn (k>>(x-1))^1;\n}\ninline ll getans()\n{\n\tfor (reg int k=n;k>=1;k--)\n\t{\n\t\tif (!ls[k])//k\u4e3a\u53f6\u5b50\u8282\u70b9\n\t\t  for (reg int i=1;k>>(i-1);i++)\n\t\t    g[k][i]=(dis[k][i]+dis[brother(k,i)][1])*w[brother(k,i)];\n\t\telse if (!rs[k])//k\u53ea\u6709\u5de6\u513f\u5b50\n\t\t  for (reg int i=1;k>>(i-1);i++)\n\t\t    g[k][i]=dis[ls[k]][1]*w[ls[k]]+g[ls[k]][i+1];\n\t\telse//k\u6709\u4e24\u4e2a\u513f\u5b50\n\t\t  for (reg int i=1;k>>(i-1);i++)\n\t\t    g[k][i]=min(dis[ls[k]][1]*w[ls[k]]+g[ls[k]][1]+g[rs[k]][i+1],dis[rs[k]][1]*w[rs[k]]+g[rs[k]][1]+g[ls[k]][i+1]);\n\t}\n\tfor (reg int k=n;k>=1;k--)\n\t{\n\t\tif(!ls[k])\n\t\t  for (reg int i=1;k>>(i-1);i++)\n\t\t    f[k][i]=dis[k][i]*w[k>>i];\n\t\telse if (!rs[k])\n\t\t  for (reg int i=1;k>>(i-1);i++)\n\t\t    f[k][i]=f[ls[k]][i+1]+dis[ls[k]][1]*w[ls[k]];\n\t\telse\n\t\t  for (reg int i=1;k>>(i-1);i++)\n\t\t    f[k][i]=min(dis[ls[k]][1]*w[ls[k]]+g[ls[k]][1]+f[rs[k]][i+1],dis[rs[k]][1]*w[rs[k]]+g[rs[k]][1]+f[ls[k]][i+1]);\n\t}\n\tfor (reg int k=1;k<=n;k++)\n\t{\n\t\treg ll sum=f[k][1];\n\t\tfor (reg int i=1,fa=k>>1;fa;++i,fa>>=1)\n\t\t{\n\t\t\treg int bro=brother(k,i);\n\t\t\tif (bro>n) sum+=dis[fa][1]*w[fa>>1];\n\t\t\telse sum+=dis[bro][1]*w[bro]+f[bro][2];\n\t\t}\n\t\tans=min(ans,sum);\n\t}\n\treturn ans;\n} \nint main()\n{\n\tn=read();\n\tfor (reg int i=1;i<=n;w[i++]=read());\n\tfor (reg int i=2;i<=n;i++) dis[i][1]=(ll)read();\n\tfor (reg int i=1;i<=(n>>1)+1;i++)//\u5b8c\u5168\u4e8c\u53c9\u6811 \n\t{\n\t\tif ((i<<1)<=n) ls[i]=(i<<1);\n\t\telse break;\n\t\tif ((i<<1|1)<=n) rs[i]=(i<<1|1);\n\t}\n\tfor (reg int i=2;i<=18;i++)\n\t  for (reg int k=n;k>>i;k--)\n\t    dis[k][i]=dis[k][i-1]+dis[k>>(i-1)][1];\n\tprintf(\"%lld\\n\",getans());\n\treturn 0;\n}\n```",
        "postTime": 1522198159,
        "uid": 43471,
        "name": "Captain_Paul",
        "ccfLevel": 0,
        "title": "P4253 [SCOI2015]\u5c0f\u51f8\u73a9\u5bc6\u5ba4"
    },
    {
        "content": "\u9898\u610f:https://www.luogu.org/problem/P4253\n\n\u795e\u4ed9\u6811\u5f62DP\u9898\n\n\u89c2\u5bdf\u904d\u5386\u987a\u5e8f:\n\n1.\u5148\u70b9\u4eae\u8fd9\u4e2a\u70b9\n\n2.\u5728\u513f\u5b50\u4e2d\u9009\u4e00\u4e2a\u70b9\u9012\u5f52,\u70b9\u4eae\u8fd9\u4e2a\u513f\u5b50\u7684\u5b50\u6811(\u6700\u540e\u4e00\u4e2a\u5fc5\u5b9a\u662f\u4e00\u4e2a\u53f6\u5b50)\n\n3.\u8fd4\u56de\u8fd9\u4e2a\u70b9\n\n4.\u9012\u5f52\u53e6\u4e00\u4e2a\u513f\u5b50\n\n5.\u5411\u4e0a\u56de\u6eaf\n\n\u8003\u8651\u5982\u679cn\u6bd4\u8f83\u5c0f\u5c31\u662f\u5e38\u89c1\u7684\u6811\u5f62DP,\u8f6c\u79fb\u679a\u4e3e\u662f\u4ece\u5144\u5f1f\u8282\u70b9\u7684\u54ea\u4e2a\u53f6\u5b50\u8f6c\u79fb\u5373\u53ef\n\n\u65e2\u7136\u65e0\u6cd5\u679a\u4e3e\u53f6\u5b50\u7ed3\u70b9,\u4e0d\u59a8\u5012\u63a8,\u5bf9\u53f6\u5b50\u8282\u70b9\u5904\u7406\u8f6c\u79fb\u5230\u54ea\u91cc\u7684\u82b1\u8d39,\u4e4b\u540e\u5012\u63a8\u56de\u6839\u8282\u70b9,\u5bf9\u4e8e\u7ed3\u70b9x,\u679a\u4e3e\u5148\u9012\u5f52\u5de6\u5b50\u6811\u8fd8\u662f\u53f3\u5b50\u6811,\u5904\u7406\u5b8cx\u7684\u5b50\u6811\u540e,x\u4e0b\u4e00\u6b65\u6709\u4e24\u79cd\u9009\u62e9\uff1a\n\n1.\u56de\u6eaf\u5230x\u7684\u67d0\u4e2a\u7956\u5148\n\n2.\u56de\u6eaf\u5230x\u7684\u67d0\u4e2a\u7956\u5148\u7684\u53e6\u4e00\u4e2a\u513f\u5b50(\u5b50\u6811\u4e2d\u4e0d\u5305\u542bx\u7684\u90a3\u4e00\u4e2a)\n\n$f[i][j][0/1]$\u8868\u793a\u5904\u7406\u5b8c$i$\u7684\u5b50\u6811\u540e,\u4e0b\u4e00\u4e2a\u8f6c\u79fb\u5230$i$\u7684$j$\u7ea7\u7956\u5148(0)/$j$\u7ea7\u7956\u5148\u7684\u53e6\u4e00\u4e2a\u513f\u5b50(1)\n\n\u5b9a\u4e49$dis[i][j]$\u8868\u793a$i$\u5230$i$\u7684$j$\u7ea7\u7956\u5148\u7684\u8ddd\u79bb,$fa(i,j)$\u8868\u793a$i$\u7684$j$\u7ea7\u7956\u5148\u662f\u8c01,$brother(i,j)$\u8868\u793a$i$\u7684$j$\u7ea7\u7956\u5148\u7684\u53e6\u4e00\u4e2a\u513f\u5b50\n\n\u5bf9\u4e8e\u7ed3\u70b9x:\n\nx\u662f\u53f6\u5b50\u7ed3\u70b9\n\n$f[x][i][0]=dis[x][i]*a[fa(x,i)]$\n\n$f[x][i][1]=(dis[x][i]+dis[brother(x,i)][1])*a[brother(x,i)]$\n\n\u5bf9\u4e8e\u53f6\u5b50\u7ed3\u70b9\u76f4\u63a5\u5904\u7406\u5b83\u5230\u4e0b\u4e00\u4e2a\u70b9\u7684\u8ddd\u79bb*\u70b9\u6743\n\nx\u4e0d\u662f\u53f6\u5b50\u7ed3\u70b9:\n\n\u5b9a\u4e49$ls(p)$\u8868\u793a$p$\u7684\u5de6\u513f\u5b50,$rs(p)$\u8868\u793a$p$\u7684\u53f3\u513f\u5b50\n\n<1>x\u6709\u5de6\u513f\u5b50\u65e0\u53f3\u513f\u5b50:\n\n$f[x][i][0]=f[ls(x)][i+1][0]+dis[ls(x)][1]*a[ls(x)]$\n\n$f[x][i][1]=f[ls(x)][i+1][1]+dis[ls(x)][1]*a[ls(x)]$\n\n\u53ea\u6709\u5de6\u513f\u5b50\u81ea\u7136\u53ea\u80fd\u4ece\u5de6\u513f\u5b50\u8f6c\u79fb,\u4ee3\u4ef7\u8981\u52a0\u4e0a\u4ecex\u5230ls(x)\u7684\u4ee3\u4ef7\n\n<2>x\u6709\u5de6\u53f3\u513f\u5b50:\n\n\u5728\u5148\u8d70\u5de6\u513f\u5b50\u8fd8\u662f\u5148\u8d70\u53f3\u513f\u5b50\u4e2d\u53d6min\n\n$f[x][i][0]=min(f[ls(x)][1][1]+f[rs(x)][i+1][0]+dis[ls(x)][1]*a[ls(x)],f[rs(x)][1][1]+f[ls(x)][i+1][0]+dis[rs(x)][1]*a[rs(x)]);$\n\n\n$f[x][i][1]=min(f[ls(x)][1][1]+f[rs(x)][i+1][1]+dis[ls(x)][1]*a[ls(x)],f[rs(x)][1][1]+f[ls(x)][i+1][1]+dis[rs(x)][1]*a[rs(x)]);$\n\n\u6c42\u7b54\u6848\u5c31\u662f\u679a\u4e3e\u8d77\u70b9\u5411\u4e0a\u8df3,\u6709\u5144\u5f1f\u5c31\u628a\u5144\u5f1f\u52a0\u4e0a\n\ncode:\n```\n#include<bits/stdc++.h>\nusing namespace std;\n#define int long long\n#define fa(i,j) ((1<<(j-1)<=i)?(i>>j):-1)\n#define ls(p)(p<<1)\n#define rs(p)(p<<1|1)\n#define brother(i,j)((i>>(j-1))^1)\nconst int maxn=2*1e5+10;\nint n,cnt,ans;\nint a[maxn],ls[maxn],rs[maxn];\nint dis[maxn][20],f[maxn][20][2];\ninline int check(int i,int j){return 1<<(j-1)<=i?i>>j:-1;}\ninline void solve()\n{\n\tfor(int i=n;i;i--)\n\t{\n\t\tfor(int j=1;~fa(i,j);j++)\n\t\t{\n\t\t\tf[i][j][0]=f[i][j][1]=0x3f3f3f3f3f3f3f3f; \n\t\t\tif((i<<1)>n)f[i][j][0]=dis[i][j]*a[fa(i,j)],f[i][j][1]=(dis[i][j]+dis[brother(i,j)][1])*a[brother(i,j)];\n\t\t\telse if((i<<1|1)>n)\n\t\t\t\tf[i][j][0]=f[ls(i)][j+1][0]+dis[ls(i)][1]*a[ls(i)],f[i][j][1]=f[ls(i)][j+1][1]+dis[ls(i)][1]*a[ls(i)];\n\t\t\telse\n\t\t\t{\n\t\t\t\tf[i][j][0]=min(f[i][j][0],f[ls(i)][1][1]+f[rs(i)][j+1][0]+dis[ls(i)][1]*a[ls(i)]);\n\t\t\t\tf[i][j][0]=min(f[i][j][0],f[rs(i)][1][1]+f[ls(i)][j+1][0]+dis[rs(i)][1]*a[rs(i)]);\n\t\t\t\tf[i][j][1]=min(f[i][j][1],f[ls(i)][1][1]+f[rs(i)][j+1][1]+dis[ls(i)][1]*a[ls(i)]);\n\t\t\t\tf[i][j][1]=min(f[i][j][1],f[rs(i)][1][1]+f[ls(i)][j+1][1]+dis[rs(i)][1]*a[rs(i)]);\n\t\t\t} \n\t\t}\n\t}\n\tans=0x3f3f3f3f3f3f3f3f;\n\tfor(int s=1;s<=n;s++)\n\t{\n\t\tint tmp=f[s][1][0];\n\t\tfor(int i=fa(s,1),last=s;~i;i=fa(i,1),last=fa(last,1))\n\t\t{\n\t\t\tif(brother(last,1)<=n)tmp+=dis[brother(last,1)][1]*a[brother(last,1)]+f[brother(last,1)][2][0];\n\t\t\telse tmp+=dis[i][1]*a[fa(i,1)];\n\t\t}\n\t\tans=min(ans,tmp);\n\t}\n\tprintf(\"%lld\",ans);\n}\nsigned main()\n{\n\tscanf(\"%lld\",&n);\n\tfor(int i=1;i<=n;i++)scanf(\"%lld\",&a[i]);\n\tdis[1][1]=0;\n\tfor(int i=2;i<=n;i++)\n\t{\n\t\tscanf(\"%lld\",&dis[i][1]);\n\t\tfor(int j=2;~fa(i,j);j++)dis[i][j]=dis[fa(i,1)][j-1]+dis[i][1];\n\t}\n\tsolve();\n\treturn 0;\n}\n```\n\n",
        "postTime": 1569464734,
        "uid": 145441,
        "name": "nofind",
        "ccfLevel": 6,
        "title": "P4253 [SCOI2015]\u5c0f\u51f8\u73a9\u5bc6\u5ba4(\u6811\u5f62DP)"
    },
    {
        "content": "\u8fd9\u9053\u9898\u5b9e\u5728\u592a\u82df\u4e86\u3002\n\n\u56e0\u4e3a\u4e0d\u77e5\u9053$dist(u,v)$\u7684$u$\u4ece\u5b50\u6811\u7684\u54ea\u4e2a\u4f4d\u7f6e\u6765\uff0c\u4f46\u786e\u5b9a\u4e00\u5b9a\u662f**\u67d0\u4e00\u4e2a\u53f6\u5b50\u8282\u70b9**\u3002\n\n\u8fd8\u8981\u5904\u7406\u662f\u54ea\u4e2a\u5b50\u6811\u5148\u8fdb\u884c\uff0c\u597d\u70e6\u554a\u3002\u3002\u3002\n\n\u90a3\u5c31\u9884\u5904\u7406\u4e00\u4e0b\u53f6\u5b50\u7ed3\u70b9\u5427\uff0c\u6709\u72b6\u6001$f_{i,j,0}$\u8868\u793a\u4ece$i$\u53f7\u53f6\u5b50\u7ed3\u70b9\u8fd4\u56de\u5230\u5b83\u7684\u7b2c$j$\u4e2a\u7956\u5148(\u672a\u70b9\u706f)\u7684\u8d39\u7528\u3002\n\n\u8fd9\u4e2a\u4e0d\u96be\u5904\u7406$f_{i,j,0}=dist(i,p_{i,j})*a_{p_{i,j}}$\n\n\u4ece\u4e00\u4e2a\u5b50\u6811\u4e2d\u51fa\u6765\uff0c\u8fdb\u5230\u53e6\u4e00\u4e2a\u5b50\u6811\u7684\u60c5\u51b5\u628a\u5b83\u7b80\u5316\u6210\u4e24\u4e2a\u53f6\u5b50\u7ed3\u70b9\u4e4b\u95f4\u7684\u8f6c\u79fb\u3002\n\n\u6709$f_{i,j,1}$\u8868\u793a\u4ece$i$\u53f7\u53f6\u5b50\u7ed3\u70b9\u8fd4\u56de\u5230\u5b83\u7684\u7b2c$j$\u4e2a\u7956\u5148(\u672a\u70b9\u706f)\u7684\u53e6\u4e00\u4e2a\u513f\u5b50\u7684\u8d39\u7528\n\n\u8fd9\u4e2a\u4e5f\u4e0d\u96be\uff0c\u6240\u4ee5\u4e0d\u5199\u4e86\u3002\n\n\u597d\u4e86\uff0c\u73b0\u5728\u6709\u4e24\u68f5\u5b50\u6811$ls,rs$\uff0c\u6839\u8282\u70b9$i$\u3002\n\n\u6839\u636e$DP$\u7684\u601d\u60f3\uff0c\u73b0\u5728\u5df2\u7ecf\u5904\u7406\u597d\u4e86$ls,rs$\u7684\u72b6\u6001\u3002\n\n\u5982\u679c\u6839\u8282\u70b9\u8981\u8fd4\u56de\u5230\u7b2c$j$\u4e2a\u7956\u5148\uff0c\u90a3\u4e48\u8fd4\u56de\u7684\u8d77\u70b9\u5c31\u4e00\u5b9a\u6765\u81ea\u4e8e\u5de6\u5b50\u6811\uff0c\u6216\u8005\u53f3\u5b50\u6811\u7684\u67d0\u4e00\u4e2a\u53f6\u5b50\u7ed3\u70b9\u3002\n\n\u6839\u636e\u4e4b\u524d\u7684\u9884\u5904\u7406\uff0c\u5c31\u53ef\u4ee5\u8054\u60f3\u5230\u6839\u8282\u70b9\u7684\u72b6\u6001\u5982\u4f55\u5b9a\u4e49\u4e0e\u8f6c\u79fb\u3002\n\n$f_{i,j,0}$\u8868\u793a\u5df2\u7ecf\u5904\u7406\u597d\u4e86\u4ee5$i$\u4e3a\u6839\u7684\u5b50\u6811\uff0c\u4e14\u8fd4\u56de\u5230\u5b83\u7684\u7b2c$j$\u4e2a\u7956\u5148\u7684\u8d39\u7528\n\n$f_{i,j,1}$\u540c\u7406\uff0c\u5177\u4f53\u65b9\u7a0b\u89c1\u4ee3\u7801\u3002\n\n**\u4f46\u662f**\uff0c\n\n\u8fd9\u9053\u9898\u8fd8\u6709\u4e00\u4e2a\u5751\u70b9\uff0c\u5e76\u6ca1\u786e\u5b9a\u54ea\u4e2a\u662f\u7b2c\u4e00\u4e2a\u70b9\u4eae\u7684\u3002\n\n\u6240\u4ee5\u8fd8\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c\u3002\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\n#include<cmath>\n#define ll long long\n#define gc getchar()\n#define eps 1e-8\nusing namespace std;\nconst int N=2e5+5,mod=20170408;\ntemplate<class o>\ninline void qr(o &x)\n{\n\tx=0;char c=gc;int f=1;\n\twhile(c<'0'||c>'9'){if(c=='-')f=-1;c=gc;}\n\twhile(c>='0'&&c<='9'){x=x*10+(c^48);c=gc;}\n\tx*=f;\n}\ntemplate<class o>\nvoid qw(o x)\n{\n\tif(x<0)putchar('-'),x=-x;\n\tif(x/10)qw(x/10);\n\tputchar(x%10+48);\n}\nll f[N][19][2],d[N][19],b[N],a[N];int Log[N];int n;\nvoid dp()\n{\n\tfor(int i=n;i;i--)\n\t\tfor(int j=1;j<=Log[i];j++)\n\t\t{\n\t\t\tint w=(i>>(j-1))^1;\n\t\t\tif((i<<1)>n)\n\t\t\t{\n\t\t\t\tf[i][j][0]=d[i][j]*a[i>>j];\n\t\t\t\tf[i][j][1]=(d[i][j]+d[w][1])*a[w];\n\t\t\t}\n\t\t\telse if(((i<<1)|1)>n)\n\t\t\t{\n\t\t\t\tint ls=i<<1;\n\t\t\t\tf[i][j][0]=f[ls][j+1][0]+d[ls][1]*a[ls];\n\t\t\t\tf[i][j][1]=f[ls][j+1][1]+d[ls][1]*a[ls];//\u8981\u4e0b\u53bb\u5230ls\uff0c\u4e5f\u8981\u7b97\u4e0a\u3002 \n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tint ls=i<<1,rs=i<<1|1;\n\t\t\t\tf[i][j][0]=min(f[ls][j+1][0]+f[rs][1][1]+d[rs][1]*a[rs],f[rs][j+1][0]+f[ls][1][1]+d[ls][1]*a[ls]);\n\t\t\t\tf[i][j][1]=min(f[ls][j+1][1]+f[rs][1][1]+d[rs][1]*a[rs],f[rs][j+1][1]+f[ls][1][1]+d[ls][1]*a[ls]);\n\t\t\t}\n\t\t}\n\tll ans=0x3f3f3f3f3f3f3f3f;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tll tmp=f[i][1][0];int t=1;\n\t\tfor(int x=i>>1,lst=i;t<=Log[i];lst=x,x=x>>1)\n\t\t{\n\t\t\tint w=lst^1;++t;\n\t\t\tif(w<=n)tmp+=d[w][1]*a[w]+f[w][2][0];//\u5982\u679c\u6709\uff0c\u90a3\u5c31\u7ee7\u627f\u3002 \n\t\t\telse tmp+=d[x][1]*a[x>>1];//\u5982\u679c\u6ca1\u6709\uff0c\u8ba9x\u4e0a\u53bb\uff0c\u56e0\u4e3ax\u662f\u6700\u540e\u70b9\u4eae\u90a3\u4e2a \n\t\t}\n\t\tans=min(tmp,ans);\n\t}\n\tqw(ans);puts(\"\");\n}\nint main()\n{\n\tqr(n);\n\tfor(int i=1;i<=n;i++)Log[i]=Log[i>>1]+1;\n\tfor(int i=1;i<=n;i++)qr(a[i]);\n\tfor(int i=2;i<=n;i++)qr(b[i]);\n\tfor(int i=2;i<=n;i++)\n\t\tfor(int j=1;j<Log[i];j++)\n\t\t\td[i][j]=d[i>>1][j-1]+b[i];\n\tdp();\n\treturn 0;\n}\n```",
        "postTime": 1582693509,
        "uid": 106232,
        "name": "_Sein",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4253 \u3010[SCOI2015]\u5c0f\u51f8\u73a9\u5bc6\u5ba4\u3011"
    },
    {
        "content": "# Update\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u611f\u8c22@tommy0103\u7684\u6307\u6b63\uff0c\u5df2\u66f4\u65b0\u4ee3\u7801\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u6ce8\u610f$n=4$\u7684\u7279\u5224\uff0c\u6709\u5355\u94fe\u7684\u8d70\u6cd5\u5e76\u4e0d\u4ee3\u8868$f$\u548c$g$\u6c42\u51fa\u6765\u7684\u8d70\u6cd5\u4e0d\u662f\u6700\u4f18\u7684\u3002  \n# \u9898\u76ee\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[\u70b9\u8fd9\u91cc](https://www.luogu.org/problem/P4253)\u770b\u9898\u76ee\u3002  \n# \u5206\u6790\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$n\\le20$\u7684\u6570\u636e\uff0c\u5e94\u8be5\u90fd\u4f1a\u5427\uff1a\u76f4\u63a5$2^n$\u679a\u4e3e\u5408\u6cd5\u65b9\u6848\u5373\u53ef\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u4e0b\u9762\u8003\u8651\u6b63\u7d27\u89e3\u6cd5\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u6211\u4eec\u5148\u628a\u95ee\u9898\u7ed9\u7b80\u5316\u4e00\u4e0b\uff0c\u5148\u89c4\u5b9a\uff0c\u6bcf\u6b21\u51fa\u53d1\u7684\u8d77\u70b9\u90fd\u662f$1$\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u8003\u8651\u4ece$u$\u5f00\u59cb\u51fa\u53d1\uff0c\u6211\u4eec\u5fc5\u987b\u5148\u8d70\u5b8c\u5de6\u5b50\u6811/\u53f3\u5b50\u6811\uff1b\u7136\u540e\uff0c\u6211\u4eec\u5fc5\u7136\u4ece\u5de6\u8fb9/\u53f3\u8fb9\u7684\u4e00\u4e2a\u53f6\u8282\u70b9\u5f80\u4e0a\u8d70\uff0c\u8de8\u8fc7$u$\u4e4b\u540e\u8d70\u5230\u53f3\u5b50\u6811/\u5de6\u5b50\u6811\u91cc\u9762\u7ee7\u7eed\u53bb\u5173\u706f\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c\u8fd9\u6837\u53ea\u6709\u6839\u548c\u505c\u4e0b\u6765\u7684\u90a3\u4e2a\u53f6\u8282\u70b9\u4f1a\u5f71\u54cd\u7b54\u6848\uff0c\u6240\u4ee5\u53ef\u4ee5\u8fd9\u6837\u8bbe\u8ba1\u72b6\u6001\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$f(u,i)$\uff1a\u4ece$u$\u8282\u70b9\u51fa\u53d1\uff0c\u5173\u5b8c\u5b50\u6811\u4e2d\u7684\u706f\uff0c\u505c\u5728\u4e86$i$\u53f6\u8282\u70b9\u4e0a\u9762\u7684\u6700\u5c0f\u65f6\u95f4\u3002   \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u8bbe$leaf(u)$\u4e3a$u$\u7ed3\u70b9\u7684\u5b50\u6811\u4e2d\u7684\u53f6\u5b50\u7684\u96c6\u5408\uff0c\u5219\u4e0d\u96be\u53d1\u73b0\u5982\u4e0b\u8f6c\u79fb\uff1a  \n$$f(u,i)=\\begin{cases}\\min_{j\\in leaf(2u+1)}\\{D_{u,2u+1}A_{2u+1}+f(2u+1,j)+D_{j,2u}A_{2u}+f(2u,i)\\}&i\\in leaf(2u)\\\\\\min_{j\\in{leaf(2u)}}\\{D_{u,2u}A_{2u}+f(2u,j)+D_{j,2u+1}A_{2u+1}+f(2u+1,i)\\}&i\\in leaf(2u+1)\\end{cases}$$  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u8bbe$s_u$\u8868\u793a$u$\u5230\u6839\u8282\u70b9\u7684\u8ddd\u79bb\uff0c$c(u,0/1)$\u8868\u793a$u$\u5230\u5de6\u5b50\u6811/\u53f3\u5b50\u6811\u7684\u8fb9\u7684\u957f\u5ea6\u3002\u4ee5\u5148\u5de6\u540e\u53f3\u7684\u987a\u5e8f\u904d\u5386\u5b50\u6811\u4e3a\u4f8b\uff0c\u5219\u8fd8\u53ef\u4ee5\u5f97\u5230\uff1a\u3000  \n$$f(u,i)=\\min_{j\\in leaf(2u)}\\{D_{u,2u}A_{2u}+f(2u,j)+D_{j,2u+1}A_{2u+1}+f(2u+1,i)\\}$$  \n$$\\Rightarrow f(u,i)=\\min_{j\\in leaf(2u)}\\{c(u,0)A_{2u}+f(2u,j)+(s_j-s_u+c(u,1))A_{2u+1}+f(2u+1,i)\\}$$  \n$$\\Rightarrow f(u,i)=\\min_{j\\in leaf(2u)}\\{f(2u,j)+s_jA_{2u+1}\\}+c(u,0)A_{2u}+(c(u,1)-s_u)A_{2u+1}+f(2u+1,i)$$  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u6211\u4eec\u53ef\u4ee5\u5728\u8f6c\u79fb\u4e4b\u524d\u9884\u5904\u7406\u51fa$\\min_{j\\in leaf(2u)}\\{f(2u,j)+s_jA_{2u+1}\\}$\uff0c\u7136\u540e\u8f6c\u79fb\u5c31\u53d8\u6210$O(1)$\u7684\u4e86\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u5148\u53f3\u540e\u5de6\u7684\u60c5\u51b5\u662f\u4e00\u6837\u7684\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u73b0\u5728\u8003\u8651\u539f\u6765\u7684\u9898\u76ee\u2014\u2014\u4e0d\u4e00\u5b9a\u4ece$1$\u51fa\u53d1\uff01  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u518d\u8bbe\u4e00\u4e2a\u72b6\u6001\uff1a  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$g(u,i)$\uff1a\u4ece$u$\u5f00\u59cb\uff0c\u5728$u$\u7684\u5b50\u6811\u5185\u4e0d\u4ee5$u$\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u70b9\u51fa\u53d1\uff0c\u5c06$u$\u7684\u5b50\u6811\u5185\u7684\u706f\u5173\u5b8c\u7684\u6700\u5c0f\u65f6\u95f4\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u6709\u4e86\u4e0a\u9762\u7684\u7ecf\u9a8c\uff0c\u8fd9\u65f6\u7684\u8f6c\u79fb\u4e5f\u5c31\u4e0d\u96be\u4e86\uff1a\u3000\u3000\u3000\n$$g(u,i)=\\begin{cases}\\min_{j\\in leaf(2u+1)}\\{\\min\\{f(2u+1,j),g(2u+1,j)\\}+D_{j,u}A_u+c(u,0)A_{2u}+f(2u,i)\\}&i\\in leaf(2u)\\\\\\min_{j\\in leaf(2u)}\\{\\min\\{f(2u,j),g(2u,j)\\}+D_{j,u}A_u+c(u,1)A_{2u+1}+f(2u+1,i)\\}&i\\in leaf(2u+1)\\end{cases}$$  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u540c\u6837\u53ef\u4ee5\u6309\u7167$f$\u7684\u65b9\u6cd5\u6765\u4f18\u5316\u8f6c\u79fb\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u8fd9\u6837\u662f......$O(n^2)$\uff1f\uff01  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u5176\u5b9e\u5e76\u4e0d\u662f\uff01\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c$f(u)$\u548c$g(u)$\u91cc\u9762\u7684\u72b6\u6001\u53ea\u4f1a\u5bf9\u5e94\u5230\u81ea\u5df1\u7684\u5b50\u6811\u91cc\u9762\u53f6\u5b50\u4e0a\u9762\u53bb\uff0c\u6240\u4ee5\u4ece\u5168\u5c40\u6765\u770b\uff0c\u6bcf\u4e00\u5c42\u4e0a\u9762\u7684\u8282\u70b9\u603b\u5171\u90fd\u53ea\u4f1a\u8986\u76d6\u4e00\u6b21\u6240\u6709\u7684\u53f6\u5b50\uff0c\u800c\u5b8c\u5168\u4e8c\u53c9\u6811\u7684\u9ad8\u5ea6\u4e3a$\\log_2n+1$\uff0c\u6240\u4ee5\u7a7a\u95f4\u548c\u65f6\u95f4\u7684\u5f00\u9500\u7406\u8bba\u662f$O(n\\log_2n)$\u7684\u3002\u7528$vector$\u6765\u5b58$f$\u548c$g$\uff0c\u904d\u5386\u5230\u53f6\u5b50\u7684\u65f6\u5019\u5c31\u7ed9\u5b83\u7684\u7236\u4eb2\u90fd\u63d2\u5165\u4e00\u4e2a\u65b0\u7684\u8282\u70b9\uff0c\u7ed9\u81ea\u5df1\u5360\u4f4d\u5b50\u3002\u8f6c\u79fb\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u5bf9\u5e94\u8d77\u6765\u4e86\u3002\u8fd9\u6837\u7a7a\u95f4\u5c31\u53d8\u6210\u4e86$O(n\\log_2n)$\uff1b\u65f6\u95f4\u7684\u8bdd\uff0c\u7ecf\u8fc7\u4f18\u5316\u7684\u8f6c\u79fb\u662f$O(1)$\u7684\uff0c\u6240\u4ee5\u4e5f\u662f$O(n\\log_2n)$\u3002  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5f53$n=4$\u7684\u65f6\u5019\uff0c\u4f1a\u51fa\u73b0\u957f\u5ea6\u4e3a$2$\u7684\u94fe\uff0c\u9700\u8981\u7279\u5224\uff01\u4e5f\u5c31\u662f\u591a\u8003\u8651\u4e00\u79cd\u60c5\u51b5\u2014\u2014\u4ece\u94fe\u4e00\u7aef\u5f00\u59cb\u8d70\uff0c\u662f\u5426\u53ef\u4ee5\u5f97\u5230\u66f4\u4f18\u7684\u89e3\u3002  \n# \u4ee3\u7801\n```cpp\n#include <cstdio>\n#include <vector>\nusing namespace std;\n\ntypedef long long LL;\n\nconst LL INF = 0x3f3f3f3f3f3f3f3f;\nconst int MAXN = 2e5 + 5, INf = 0x3f3f3f3f;\n\ntemplate<typename _T>\nvoid read( _T &x )\n{\n    x = 0;char s = getchar();int f = 1;\n    while( s < '0' || '9' < s ){ if( s == '-' ) f = -1; s = getchar(); }\n    while( '0' <= s && s <= '9' ){ x = ( x << 3 ) + ( x << 1 ) + ( s - '0' ), s = getchar(); }\n    x *= f;\n}\n\ntemplate<typename _T>\nvoid write( _T x )\n{\n    if( x < 0 ){ x = -x, putchar( '-' ); }\n    if( 9 < x ){ write( x / 10 ); }\n    putchar( x % 10 + '0' );\n}\n\ntemplate<typename _T>\n_T MIN( const _T a, const _T b )\n{\n    return a < b ? a : b;\n}\n\nvector<LL> f[MAXN], g[MAXN], d[MAXN];\n\nLL s[MAXN];\nint w[MAXN][2];\nint A[MAXN], siz[MAXN];\nint lg2, N, cnt;\n\nvoid DFS( const int u )\n{\n    if( u << 1 > N ) \n    {\n        siz[u] = 1;\n        f[u].push_back( 0 ), g[u].push_back( 0 );\n        for( int i = u >> 1 ; i ; i >>= 1 ) f[i].push_back( INF ), g[i].push_back( INF ), d[i].push_back( s[u] ), siz[i] ++;\n        return ; \n    }\n    s[u << 1] = s[u] + w[u][0], DFS( u << 1 );\n    int mid = siz[u << 1];\n    if( ( u << 1 | 1 ) > N )\n    {\n        for( int i = 0 ; i < siz[u] ; i ++ ) \n            f[u][i] = f[u << 1][i] + 1ll * w[u][0] * A[u << 1],\n            g[u][i] = MIN( g[u << 1][i], f[u << 1][i] ) + 1ll * ( d[u][i] - s[u] ) * A[u];\n        return ;\n    }\n    s[u << 1 | 1] = s[u] + w[u][1], DFS( u << 1 | 1 );\n    LL fs1 = INF, fs2 = INF, gs1 = INF, gs2 = INF;\n    for( int i = 0 ; i < siz[u] ; i ++ )\n    {\n        if( i < mid )\n            fs1 = MIN( fs1, f[u << 1][i] + 1ll * d[u][i] * A[u << 1 | 1] ),\n            gs1 = MIN( gs1, MIN( g[u << 1][i], f[u << 1][i] ) + 1ll * ( d[u][i] - s[u] ) * A[u] );\n        else\n            fs2 = MIN( fs2, f[u << 1 | 1][i - mid] + 1ll * d[u][i] * A[u << 1] ),\n            gs2 = MIN( gs2, MIN( g[u << 1 | 1][i - mid], f[u << 1 | 1][i - mid] ) + 1ll * ( d[u][i] - s[u] ) * A[u] );\n    }\n    for( int i = 0 ; i < siz[u] ; i ++ )\n    {\n        if( i < mid )\n            f[u][i] = 1ll * w[u][1] * A[u << 1 | 1] + fs2 + 1ll * ( w[u][0] - s[u] ) * A[u << 1] + f[u << 1][i],\n            g[u][i] = gs2 + 1ll * w[u][0] * A[u << 1] + f[u << 1][i];\n        else\n            f[u][i] = 1ll * w[u][0] * A[u << 1] + fs1 + 1ll * ( w[u][1] - s[u] ) * A[u << 1 | 1] + f[u << 1 | 1][i - mid],\n            g[u][i] = gs1 + 1ll * w[u][1] * A[u << 1 | 1] + f[u << 1 | 1][i - mid];\n    }\n}\n\nint main()\n{\n    read( N );\n    for( int i = 1 ; i <= N ; i ++ ) read( A[i] );\n    for( int i = 2 ; i <= N ; i ++ ) read( w[i >> 1][i & 1] );\n    DFS( 1 );\n    LL res = INF;\n    for( int i = 0 ; i < siz[1] ; i ++ )\n        res = MIN( res, MIN( f[1][i], g[1][i] ) );\n    if( N == 4 ) \n\t\tres = MIN( res, 1ll * w[2][0] * A[2] + 1ll * w[1][0] * A[1] + 1ll * w[1][1] * A[3] ),\n\t\tres = MIN( res, 1ll * w[2][0] * A[4] + 1ll * w[1][0] * A[2] + 1ll * w[1][1] * A[1] );\n        //n=4\u7684\u7279\u5224\n    write( res ), putchar( '\\n' );\n    return 0;\n}\n```",
        "postTime": 1573650380,
        "uid": 123809,
        "name": "crashed",
        "ccfLevel": 0,
        "title": "[SCOI2015]\u5c0f\u51f8\u73a9\u5bc6\u5ba4"
    },
    {
        "content": "[loj](https://loj.ac/problem/2009)\n[Luogu](https://www.luogu.org/problem/P4253)\n[bzoj](https://www.lydsy.com/JudgeOnline/problem.php?id=4446)\n\n## \u9898\u89e3:\n\u672c\u9898\u6709\u8981\u6c42\uff1a\u8981\u8fde\u7eed\uff0c\u8fd8\u8981\u5148\u8d70\u5b8c\u5b50\u6811\uff0c\u8fd8\u6700\u591a\u53ea\u6709$O(log n)$\u5c42\uff08\u5b8c\u5168\u4e8c\u53c9\u6811\uff09\uff0c\u5bb9\u6613\u60f3\u5230\u8fd9\u6837\u7684\u601d\u8def\uff1adp\u9884\u5904\u7406\u51fa\u8d70\u5b8c\u5b50\u6811\u7684\u4ee3\u4ef7\uff0c\u7136\u540e\u66b4\u529b\u679a\u4e3e\u6bcf\u4e2a\u70b9\uff0c\u66b4\u529b\u5411\u4e0a\u8d70\u987a\u4fbf$O(1)$\u5904\u7406\u5b50\u6811\uff0c\u53ef\u662f\u53d1\u73b0\u70b9\u4eae\u6bcf\u4e00\u4e2a\u70b9\u7684\u4ee3\u4ef7\u4e0e\u4e0a\u4e00\u6b21\u70b9\u4eae\u7684\u70b9\u6709\u5173\uff0c\u4e3a\u4e86\u6d88\u9664\u540e\u6548\u6027\uff0c\u9700\u8981\u5728dp\u6570\u7ec4\u91cc\u8bb0\u5f55\u4e0b\u4e00\u4e2a\u8981\u70b9\u4eae\u7684\u70b9\uff0c\u5982\u76f4\u63a5\u8bb0\u5f55\uff0c$O(n^2)$\u65f6\u7a7a\u590d\u6742\u5ea6\u5747\u7206\uff0c\u4f46\u4e0d\u96be\u53d1\u73b0\u4e0b\u4e00\u4e2a\u8981\u70b9\u4eae\u7684\u70b9\u8981\u4e48\u662f\u8be5\u70b9\u7684\u7956\u5148\uff0c\u8981\u4e48\u662f\u8be5\u70b9\u7956\u5148\u7684\u53e6\u4e00\u4e2a\u513f\u5b50\uff0c\u4e00\u4e2a\u70b9\u6700\u591a$O(log n)$\u4e2a\u7956\u5148\uff0c\u4e8e\u662f\u6b64\u9898\u89e3\u51b3\u4e86\uff1b\n\n\u6ce8\uff1a~~\u6b64\u9898\u7ec6\u8282\u8f83\u591a\uff0c\u505a\u597d\u5fc3\u7406\u51c6\u5907~~\n\n## \u4ee3\u7801\uff1a\n```cpp\n#include <iostream>\n#include <stdio.h>\n#include <vector>\nusing namespace std;\ntypedef long long ll;\nconst int N=2e5+50;\nstruct Node{\n\tint t,w;\n};\nint n,ca[N],whi[N][20][2],son[N][2],sont[N],fa[N],Root;\nll ai[N],dis[N],dp[N][20][2],val[N],ans=9223372036854775807ll,ans1;\nvector<Node> gg[N];\n\nvoid addegde(int u,int v,int w){\n\tgg[u].push_back((Node){v,w});\n\tgg[v].push_back((Node){u,w});\n}\n\ninline int _Sonn(int now){\n\tint nex=fa[now];\n\tif(son[nex][0]==now) return son[nex][1];\n\treturn son[nex][0];\n}\n\nvoid dfs_pre(int now){\n\tif(now!=Root){\n\t\twhi[now][ca[now]][0]=now;\n\t\twhi[now][ca[now]][1]=_Sonn(now);\n\t\tfor(int a=1;a<ca[now];a++){\n\t\t\twhi[now][a][0]=whi[fa[now]][a][0];\n\t\t\twhi[now][a][1]=whi[fa[now]][a][1];\n\t\t}\n\t}\n\tint siz=gg[now].size(),tot=-1;\n\tfor(int i=0;i<siz;i++)\n\t{\n\t\tint nex=gg[now][i].t;\n\t\tif(nex==fa[now]) continue;\n\t\tson[now][++tot]=nex;\n\t\tfa[nex]=now;\n\t\tca[nex]=ca[now]+1;\n\t\tdis[nex]=dis[now]+((ll)gg[now][i].w);\n\t}\n\tsont[now]=tot+1;\n\tfor(int i=0;i<sont[now];i++){\n\t\tdfs_pre(son[now][i]);\n\t}\n}\n\ninline ll cal(int now,int a,int fir,int ord){\n\tll kai=(dis[son[now][fir]]-dis[now])*ai[son[now][fir]];\n\tif(sont[now]==1 && a>0) return kai+dp[son[now][fir]][a][ord];\n\tif(sont[now]==1 && a<0) return kai;\n\tif(a<0) return kai+dp[son[now][fir]][ca[son[now][fir]]][1]+val[son[now][!fir]];\n\treturn kai+dp[son[now][fir]][ca[son[now][fir]]][1]+dp[son[now][!fir]][a][ord];\n}\n\nvoid dfs(int now)\n{\n\tif(sont[now]==0){\n\t\tfor(int a=1;a<=ca[now];a++){\n\t\t\tint a0=whi[now][a][0],a1=whi[now][a][1],ap0=whi[now][a-1][0];\n\t\t\tdp[now][a][0]=(dis[now]-dis[a0])*ai[a0];\n\t\t\tif(a!=1) dp[now][a][1]=(dis[a1]+dis[now]-2ll*dis[ap0])*ai[a1];\n\t\t}\n\t\treturn;\n\t}\n\tfor(int i=0;i<sont[now];i++)\n\t\tdfs(son[now][i]);\n\tfor(int a=1;a<=ca[now];a++){\n\t\tif(sont[now]==1){\n\t\t\tdp[now][a][0]=cal(now,a,0,0);\n\t\t\tif(a!=1) dp[now][a][1]=cal(now,a,0,1);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdp[now][a][0]=min(cal(now,a,0,0),cal(now,a,1,0));\n\t\t\tif(a!=1) dp[now][a][1]=min(cal(now,a,0,1),cal(now,a,1,1));\n\t\t}\n\t}\n\tif(sont[now]==1) val[now]=cal(now,-1,0,-1);\n\telse val[now]=min(cal(now,-1,0,-1),cal(now,-1,1,-1));\n\treturn;\n}\n\n```",
        "postTime": 1563979299,
        "uid": 41271,
        "name": "\u59a9\u5a9a\u7684ak\u841d\u8389",
        "ccfLevel": 9,
        "title": "loj2009\uff08\u52a8\u6001\u89c4\u5212\uff09"
    }
]