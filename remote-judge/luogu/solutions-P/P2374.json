[
    {
        "content": "\u4e3a\u4ec0\u4e48\u8981\u7528DP\u5462\uff1f\n\n\u7528DFS\u591a\u597d\u3002\n\n\u6bcf\u6b21\u641c\u4e00\u5806\uff0c\u4e00\u76f4\u641c\u4e0b\u53bb\uff0c\u627e\u6700\u5927\u503c\uff0c\u4e0d\u5c31\u884c\u4e86\u5417\uff1f\uff1f\uff1f\n\nDP\u591a\u96be\u5199\u554a\u3002\n\n#\u8c28\u4ee5\u6b64\u9898\u89e3\u795d\u6211\u4e0b\u5348NOIP RP=\u65e0\u9650\u5927\uff01\n\n\u4e0a\u4ee3\u7801\uff1a\n\n```C\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <string>\n#include <cmath>\n#include <iostream>\nusing namespace std;\nint w[4][101],n,i,j,k;\nlong long ans,now;//\u7528long long,\u9632\u7206\nvoid in(){\n    scanf (\"%d%d%d\",&i,&j,&k),n=i+j+k;//n\u662f\u4e66\u7684\u603b\u6570\uff0ci,j,k\u4e3a123\u5806\n    for (int t=1;t<=i;t++)scanf (\"%d\",&w[1][t]);//\u8bfb\u5165\u4e66\n    for (int t=1;t<=j;t++)scanf (\"%d\",&w[2][t]);\n    for (int t=1;t<=k;t++)scanf (\"%d\",&w[3][t]);\n}\nvoid dfs(int a,int b,int c){//DFS\n    int x;\n    if (a+b+c==0){\n        if (now>ans)ans=now;\n        return;//\u642c\u5b8c\u4e86\uff0c\u66f4\u65b0\u7b54\u6848\n    }\n    x=n-(a+b+c)+1;//\u642c\u8fd9\u672c\u4e66\u9700\u8981\u7684\u4f53\u529b\n    if (a>0){//\u5982\u679c\u6709\u624d\u641c\n        now+=w[1][a]*x;//\u9012\u5f52\u524d\u52a0\n        dfs(a-1,b,c);//\u642c\u4e00\u672c\uff08\u7b2c\u4e00\u5806\uff09\n        now-=w[1][a]*x;//\u6539\u56de\u53bb\n    }//\u4ee5\u4e0b\u539f\u7406\u540c\u4e0a\n    if (b>0){\n        now+=w[2][b]*x;\n        dfs(a,b-1,c);\n        now-=w[2][b]*x;\n    }\n    if (c>0){\n        now+=w[3][c]*x;\n        dfs(a,b,c-1);\n        now-=w[3][c]*x;\n    }\n}\nint main(){\n    in();//\u8bfb\u5165\n    dfs(i,j,k);//DFS\n    printf (\"%lld\",ans);//\u8f93\u51fa\n    return 0;\n}\n```",
        "postTime": 1510362076,
        "uid": 39863,
        "name": "\u5f15\u9886\u5929\u4e0b",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P2374 \u3010\u642c\u8fd0\u5de5\u3011"
    },
    {
        "content": "\u5176\u5b9edp\u601d\u8def\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u8bbef[i][j][k]\u8868\u793a\u4e09\u5806\u4e66\u5206\u522b\u5269\u4e0bi\u3001j\u3001k\u672c\u65f6\uff08\u6ce8\u610f\u662f\u62ff\u5f97\u53ea\u5269\u4e0bi\u3001j\u3001k\u672c\u65f6\uff0c\u4e4b\u524d\u62ff\u8fc7\u7684\u4e0d\u8ba1\uff09\uff0c\u80fd\u591f\u5f97\u5230\u7684\u6700\u5927\u503c\uff0c\u6700\u540e\u8f93\u51faf[a][b][c](a\u3001b\u3001c\u5206\u522b\u4e3a\u4e00\u5f00\u59cb\u8f93\u5165\u7684\u4e09\u5806\u4e66\u7684\u521d\u59cb\u503c)\u3002dp\u65b9\u7a0b\uff1af[i][j][k] = max (f[i-1][j][k]+x[i]\\*s, max (f[i][j-1][k]+y[j]\\*s, f[i][j][k-1]+z[k]\\*s))   (s\u662f\u5f53\u524d\u8981\u4e58\u4e0a\u7684\u4f53\u529b\u503c)\u3002\u5177\u4f53\u4ee3\u7801\u5b9e\u73b0\u5982\u4e0b\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nint a,b,c,x[101],y[101],z[101],f[101][101][101];\nint main()\n{\n    scanf(\"%d%d%d\",&a,&b,&c);\n    int to=a+b+c//;\u5148\u8bb0\u5f55\u603b\u6d88\u8017\u4f53\u529b\u503c\uff1b\n    for(int i=1;i<=a;i++)//\u81ea\u4e0b\u800c\u4e0a\u8f93\u5165\uff1b\n    scanf(\"%d\",&x[i]);\n    for(int j=1;j<=b;j++)\n    scanf(\"%d\",&y[j]);\n    for(int k=1;k<=c;k++)\n    scanf(\"%d\",&z[k]);\n    for(int i=0;i<=a;i++)//\u5f00\u59cb\u52a8\u6001\u89c4\u5212\uff0c\u4ece\u6700\u5e95\u4e0b\u7684\u5f00\u59cb\uff0c\u6b63\u597d\u7b26\u5408\u81ea\u4e0b\u800c\u4e0a\u7684\u8f93\u5165\uff1b\n    for(int j=0;j<=b;j++)//\u6ce8\u610f\u8981\u4ece\u5269\u4e0b0\u672c\u5f00\u59cb\uff0c\u56e0\u4e3a\u6700\u540e\u8981\u62ff\u5b8c\uff1b\n    for(int k=0;k<=c;k++){\n        int s=to-i-j-k+1;//\u6c42\u5f97\u5f53\u524d\u5df2\u6d88\u8017\u7684\u4f53\u529b\u503c\uff0c\u4f5c\u4e3a\u4e58\u6570\uff1b\n        if(i)f[i][j][k]=x[i]*s+f[i-1][j][k];//\u5f53i\u4e0d\u4e3a0\u65f6\uff0c\u5373\u5f53\u524d\u8fd9\u5806\u8fd8\u53ef\u4ee5\u62ff\u4e66\u65f6\u5148\u62ff\uff1b\u2019\n        if(j)f[i][j][k]=max(f[i][j][k],y[j]*s+f[i][j-1][k]);//\u6bd4\u8f83\u53d6\u5f97\u6700\u4f18\u503c\uff1b\n        if(k)f[i][j][k]=max(f[i][j][k],z[k]*s+f[i][j][k-1]);//\u9053\u7406\u540c\u4e0a\uff1b\n    }\n    printf(\"%d\",f[a][b][c]);return 0;//\u8f93\u51fa\u5f53\u4e09\u5806\u4e66\u90fd\u8fd8\u6ca1\u6709\u62ff\u8d70\u65f6\u7684\u6700\u4f18\u503c\uff1b\n}\n```",
        "postTime": 1504185002,
        "uid": 53425,
        "name": "\u7edd_\u5c18",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2374 \u3010\u642c\u8fd0\u5de5\u3011"
    },
    {
        "content": "\u6211\u4eec\u8bbe $maxv[i][j][k]$ \u8868\u793a\u4e09\u5806\u4e66\u5206\u522b\u53d6\u4e86 $i,j,k$ \u672c\u65f6\uff0c\u82b1\u8d39\u7684\u6700\u5927\u4f53\u529b\u503c\u3002\u4e0d\u96be\u53d1\u73b0\uff0c\u5728\u72b6\u6001\u8f6c\u79fb\u65f6\uff0c\u6211\u4eec\u6bcf\u6b21\u53ef\u4ee5\u4ece\u4e09\u5806\u4e66\u7684\u9876\u7aef\u4efb\u53d6\u4e00\u672c\uff0c\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u7c7b\u4f3c\u4e8e\u80cc\u5305\u7684\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u3002\n```cpp\nif(i>0) maxv[i][j][k]=max(maxv[i][j][k],maxv[i-1][j][k]+t*booka[a-i+1]);\nif(j>0) maxv[i][j][k]=max(maxv[i][j][k],maxv[i][j-1][k]+t*bookb[b-j+1]);\nif(k>0) maxv[i][j][k]=max(maxv[i][j][k],maxv[i][j][k-1]+t*bookc[c-k+1]);\n//t=i+j+k \u4f53\u529b\u7cfb\u6570\n```\n\u56e0\u4e3a\u53ea\u6709\u81f3\u5c11\u53d6\u4e86\u4e00\u672c\u4e66\uff0c\u5b83\u7684\u524d\u4e00\u4e2a\u72b6\u6001\u624d\u662f\u6709\u610f\u4e49\u7684\uff0c\u4e0d\u7136\u4f1a\u53d6\u5230\u8d1f\u6570\u4e0b\u6807\uff0c\u6240\u4ee5\u5728 $i,j,k>0$ \u65f6\u624d\u8fdb\u884c\u72b6\u6001\u8f6c\u79fb\u3002\n\n**\u6ce8\u610f\uff1a\u4e66\u7684\u91cd\u91cf\u662f\u7531\u4e0b\u81f3\u4e0a\u8f93\u5165\u7684\uff0c\u6240\u4ee5\u6bcf\u4e00\u6b21\u53d6\u5230\u7684\u4e66\u662f \u603b\u6570-\u5f53\u524d\u672c\u6570+1\u3002**\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nint a,b,c;\nint booka[101],bookb[101],bookc[101];\nlong long maxv[101][101][101];\nint main() {\n\tcin>>a>>b>>c;\n\tfor(int i=1;i<=a;i++) cin>>booka[i];\n\tfor(int i=1;i<=b;i++) cin>>bookb[i];\n\tfor(int i=1;i<=c;i++) cin>>bookc[i];\n\tfor(int i=0;i<=a;i++){\n\t\tfor(int j=0;j<=b;j++){\n\t\t\tfor(int k=0;k<=c;k++){\n\t\t\t\tint t=i+j+k;\n\t\t\t\tif(i>0) maxv[i][j][k]=max(maxv[i][j][k],maxv[i-1][j][k]+t*booka[a-i+1]);\n\t\t\t\tif(j>0) maxv[i][j][k]=max(maxv[i][j][k],maxv[i][j-1][k]+t*bookb[b-j+1]);\n\t\t\t\tif(k>0) maxv[i][j][k]=max(maxv[i][j][k],maxv[i][j][k-1]+t*bookc[c-k+1]);\n\t\t\t}\n\t\t}\n\t}\n\tcout<<maxv[a][b][c]<<endl;\n    return 0;\n}\n```\n\n                \n ",
        "postTime": 1638665001,
        "uid": 232516,
        "name": "harqwq",
        "ccfLevel": 5,
        "title": "P2374 \u9898\u89e3"
    },
    {
        "content": "### \u601d\u8def\uff1a\n\n\u849f\u84bb\u4e0d\u4f1a \u52a8\u6001\u89c4\u5212 \uff0c\u6240\u4ee5\u53ea\u80fd\u7528 \u6df1\u5ea6\u4f18\u5148\u641c\u7d22 \u3002\n\n~~\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u65e0\u601d\u7ef4\u96be\u5ea6\u3002~~\n\n\u53ea\u6709 3 \u5806 \u8981\u641c\uff0c\u90a3\u5c31\u6bcf\u6b21\u641c 1 \u5806 \u5457\uff0c1 \u4e2a\u51fd\u6570\u5185\u641c 3 \u6b21\u5457\u3002\n\n#### \u4f30\u6478\u7740\u60a8\u6ca1\u770b\u61c2,\u770b\u770b\u4e0b\u9762\u3002\n\n $ Q $ : \u600e\u4e48\u641c\u7d22\u5462\uff1f\n \n $ A $ : \u6309\u4e0b\u9762\u505a\u5373\u53ef\uff1a\n\n> \u5148\u8bbe\u73b0\u5728\u642c\u5f97\u662f\u7b2c $ q $ \u672c\u4e66\u3002\n\n> 1. \u6df1\u5ea6\u4f18\u5148\u641c\u7d22 \u662f\u7528\u9012\u5f52\u5b9e\u73b0\u7684\uff0c\u6240\u4ee5\u5f97\u5148\u627e\u5230\u9012\u5f52\u51fa\u53e3\uff08 \u8fd4\u56de \uff09\uff0c\u5373\u6240\u6709\u5806\u7684\u4e2a\u6570\u90fd\u4e3a 0 \u65f6\u5c31\u8fd4\u56de\u3002\n\n> 2. \u56e0\u4e3a\u9898\u76ee\u8bf4\u6bcf\u642c\u4e00\u672c\u4e66 $ txi $ \uff08 \u5373\u4f53\u529b\u7cfb\u6570\uff0c\u4e0b\u6587\u540c \uff09\u90fd\u4f1a\u52a0 1 \uff0c\u6240\n\u4ee5\u5efa\u8bae\u5728\u524d\u9762\u8ba1\u7b97\u4f53\u529b\u7cfb\u6570\uff08 \u540c\u6837\u662f\u642c\u7b2c $q$ \u672c\u4e66\u561b \uff09,\u516c\u5f0f: $ txi $ $ = \n$ $ n $ $ - $ $ ( $ $ i $ $ + $ $ j $ $ + $ $ k $ $ ) $ $ + $  $ 1 $\u3002\n\n> 3. \u60f3\u60f3\u5982\u4f55\u641c\u7d22\u3002\n\n>> 3.1. \u5982\u679c\u5806\u7684\u4e2a\u6570\u4e0d\u4e3a 0 ,\u90a3\u4e48\u5c31\u641c\u3002\n\n>> 3.2. \u5c06 $tx$\uff08 \u5373\u4f53\u529b\u6d88\u8017\uff0c\u4e0b\u6587\u540c \uff09\u7ed9\u66f4\u65b0\uff0c\u52a0\u4e0a\u516c\u5f0f\u5373\u53ef\uff0c\u516c\u5f0f: $ m \n$ [ \u7b2c\u51e0\u5806 ] [ \u73b0\u5728\u5806\u4e2d\u6709\u591a\u5c11\u4e2a\u672c\u4e66 ] $ * $ $ txi $ \n\u3002\n\n>> 3.3. \u8fdb\u884c\u4e0b\u4e00\u5c42\u9012\u5f52\uff0c\u6ce8\u610f\u5c06\u8be5\u5806\u7684\u4e2a\u6570 $ - $ 1 \u3002\n\n>> 3.4. \u56de\u6eaf\uff0c\u5c06 $ tx $ \u6539\u56de\u6765\uff0c\u51cf\u6389\u516c\u5f0f\u5373\u53ef\u3002\n\n> 4. \u5f53\u8fd9\u4e0a\u9762\u7684\u641e\u5b8c\u4e86\uff0c\u5c31\u53ef\u4ee5\u8fd4\u56de\u4e86\u3002\n\n\u4ee5\u4e0a\u5c31\u662f\u5982\u4f55\u5199\u8be5\u9898\u7684 \u6df1\u5ea6\u4f18\u5148\u641c\u7d22 \u7684\u5168\u90e8\u5185\u5bb9\u3002\n\n~~\u6211\u76f8\u4fe1~~ \u60a8\u5df2\u7ecf\u770b\u61c2\u4e86\uff0c\u5373\u53ef\u81ea\u5df1\u6253\u4e86\uff0c\u5982\u6709\u7591\u95ee\u8bf7\u770b\u5b8c\u6574\u4ee3\u7801.\n \n\u5df2\u7ecf\u6709\u601d\u8def\u7684\u540c\u5b66\u53ef\u4ee5\u53c2\u8003\u4e00\u4e0b\u6df1\u5ea6\u4f18\u5148\u641c\u7d22 \u6846\u67b6\uff1a\n\n ```cpp\nvoid dfs(int i,int j,int k) {\n\n\tif(!(i+j+k)) { //\u5982\u679c\u7686\u662f0\u7684\u8bdd\u5c31\u8fd4\u56de\uff0c\u5373\u9012\u5f52\u51fa\u53e3\n     //\u5224\u65ad\u662f\u5426\u8981\u66f4\u65b0\n\t\treturn ;\n\t}\n   \n   int txi=n-(i+j+k)+1; //\u8ba1\u7b97\u4f53\u529b\u7cfb\u6570\n   \n\tif(i>0) { //\u5982\u679c1\u53f7\u5806\u91cc\u6709\u5c31\u641c\n\t\t//\u4ee3\u7801\n\t}\n   \n\tif(j>0) { //\u5982\u679c2\u53f7\u5806\u91cc\u6709\u5c31\u641c\n\t\t//\u4ee3\u7801\n\t}\n    \n\tif(k>0) { //\u5982\u679c3\u53f7\u5806\u91cc\u6709\u5c31\u641c\n\t\t//\u4ee3\u7801\n\t}\n}\n```\n\n### \u5b8c\u6574\u4ee3\u7801 \uff1a\n\n```cpp\n#include<bits/stdc++.h> \nusing namespace std;\nint m[5][105],n,i,j,k,ans,tx; //\u9898\u610f\u8bf4int\u4e0d\u4f1a\u7206\uff0c\u53ef\u653e\u5fc3\u4f7f\u7528\n// \u7528\u4e2a\u4e8c\u7ef4\u6570\u7ec4\u8bb0\u5f55\u8d28\u91cf \nvoid inp() { //\u8f93\u5165\n    int x=1;\n    cin>>i>>j>>k; //\u8f93\u5165\u6bcf\u5806\u7684\u4e2a\u6570\n    n=i+j+k; //\u8bb0\u5f55\u603b\u548c\n    for(int t=1; t<=i; t++) {\n        cin>>m[x][t]; //\u8f93\u5165\u4e66\u7684\u8d28\u91cf\n    }\n    x++; \n    for(int t=1; t<=j; t++) {\n        cin>>m[x][t];\n    }\n    x++;\n    for(int t=1; t<=k; t++) {\n        cin>>m[x][t];\n    }\n    return ;                       \n}\nvoid dfs(int i,int j,int k) { //\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff08 DFS \uff09\n    if(!(i+j+k)) { //\u5982\u679c\u7686\u662f0\u7684\u8bdd\u5c31\u8fd4\u56de\uff0c\u5373\u9012\u5f52\u51fa\u53e3\n        ans=max(ans,tx); //\u66f4\u65b0\u6700\u5927\u503c\n        return; //\u8fd4\u56de\n    }\n    int txi=n-(i+j+k)+1; //\u8ba1\u7b97\u4f53\u529b\u7cfb\u6570\n    if(i>0) { //\u5982\u679c1\u5806\u91cc\u6709\u5c31\u641c\n        tx+=m[1][i]*txi; //\u5c06 tx \u7ed9\u66f4\u65b0\n        dfs(i-1,j,k); //\u641c\u7d22\uff0c\u5c06\u7b2c\u4e00\u5806\u91cc\u7684\u4e00\u672c\u62ff\u6389\n        tx-=m[1][i]*txi; //\u5c06 tx \u6539\u56de\u6765\n    }\n   //\u4ee5\u4e0b\u540c\u7406 \n    if(j>0) {\n        tx+=m[2][j]*txi;\n        dfs(i,j-1,k);\n        tx-=m[2][j]*txi;\n    }\n    if(k>0) {\n        tx+=m[3][k]*txi;\n        dfs(i,j,k-1);\n        tx-=m[3][k]*txi;\n    }\n}\nint main() { \n    inp(); //\u56e0\u4e3a\u8f93\u5165\u592a\u957f\u6240\u4ee5\u5c31\u628a\u5b83\u4ece\u4e3b\u51fd\u6570\u91cc\u88c2\u51fa\u6765\u4e86\n    dfs(i,j,k); //\u5f00\u542fDFS\u4e4b\u65c5\n    cout<<ans; \n    return 0;\n}\n```\n\n#### \u89e3\u7591\u4ee3\u7801\uff08\u5982\u679c\u6ca1\u6709\u7591\u95ee\u5c31\u8df3\u8fc7\uff09\uff1a\n\n\u5982\u679c\u4f60\u662f $ inp $ \u51fd\u6570\u770b\u4e0d\u61c2\uff0c\u8bf7\u770b\u5982\u4e0b\u4ee3\u7801\uff1a\n\n```cpp\nvoid inp() {\n    cin>>i>>j>>k; //\u8f93\u5165\u6bcf\u5806\u7684\u4e2a\u6570\n    n=i+j+k; //\u8bb0\u5f55\u603b\u548c\n    for(int t=1; t<=i; t++) {\n\t\tcin>>m[1][t]; //\u8f93\u5165\u4e66\u7684\u8d28\u91cf\n\t}\n\n\tfor(int t=1; t<=j; t++) {\n\t\tcin>>m[2][t];\n\t}\n\n\tfor(int t=1; t<=k; t++) {\n\t\tcin>>m[3][t];\n\t}\n\treturn ; //\u8fd4\u56de\n}\n```\n\n\u6709\u53c2\u8003 [\u5f15\u9886\u5929\u4e0b](https://www.luogu.com.cn/user/39863) \u5de8\u4f6c [\u9898\u89e3](https://www.luogu.com.cn/blog/yltx/solution-p2374) \u3002\n\n#### \u5b8c\u7ed3\u6492\u82b1\uff01",
        "postTime": 1630301206,
        "uid": 455286,
        "name": "chenzhangpei",
        "ccfLevel": 0,
        "title": "P2374 \u642c\u8fd0\u5de5 \u9898\u89e3"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/Coros-Trusds/p/15465432.html)\n\n\u8fd9\u9053\u9898\u6b63\u89e3\u660e\u660e\u662f $\\rm DP$ \u554a\uff0c\u4e3a\u4ec0\u4e48\u9898\u89e3\u533a\u51e0\u4e4e\u90fd\u662f\u66b4\u529b\u554a\u3002\u3002\u3002\n\n# \u9898\u76ee\u5927\u610f\n\n\u6709\u4e09\u5806\u4e66\uff0c\u5206\u522b\u6709 $n,m,k$ \u672c\u3002\u7ed9\u5b9a $n,m,k$ \u548c\u6bcf\u672c\u4e66\u7684\u91cd\u91cf $a,b,c$\u3002\n\n\u6bcf\u6b21\u53d6\u4e66\u53ea\u80fd\u53d6\u6bcf\u5806\u6700\u4e0a\u9762\u7684\uff0c\u6bcf\u6b21\u53d6\u4e66\u7684\u4ee3\u4ef7\u4e3a $val\\times weight$\u3002\n\n\u5176\u4e2d $val$ \u8868\u793a\u8fd9\u662f\u7b2c $val$ \u6b21\u53d6\u4e66\uff0c$weight$ \u8868\u793a\u8fd9\u672c\u4e66\u7684\u91cd\u91cf\u3002\n\n# \u9898\u76ee\u5206\u6790\n\n\u663e\u7136\u770b\u5230\u6570\u636e\u8303\u56f4 $1\\le n,m,k\\le100$ \uff0c\u4e8e\u662f\u53ef\u4ee5\u63a8\u6d4b\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n\\times m\\times k)$\u3002\n\n\u4ee4 $dp[i][j][v]$ \u8868\u793a\u4e09\u4e2a\u4e66\u5806\u6070\u597d\u53d6\u4e86 $i,j,v$ \u672c\u65f6\u7684\u6700\u5927\u4ef7\u503c\uff0c$tot=n+m+k$\uff0c$val=tot-i-j-v+1$\u3002\n\n$tot$ \u662f\u4e66\u7684\u603b\u91cf\uff0c$val$ \u662f\u5f53\u524d\u7684\u53d6\u4e66\u6b21\u6570\u3002\n\n\u5f53 $i\\neq 0$ \u65f6\uff0c\u6709\uff1a\n\n$$dp[i][j][v]=\\max\\{dp[i][j][v],val\\times a[i]+dp[i-1][j][v]\\}$$\n\n\u5f53 $j\\neq 0$ \u65f6\uff0c\u6709\uff1a\n\n$$dp[i][j][v]=\\max\\{dp[i][j][v],val\\times b[j]+dp[i][j-1][v]\\}$$\n\n\u5f53 $v\\neq 0$ \u65f6\uff0c\u6709\uff1a\n\n$$dp[i][j][v]=\\max\\{dp[i][j][v],val\\times c[v]+dp[i][j][v-1]\\}$$\n\n# \u4ee3\u7801\n\n```cpp\nconst int ma=105;\n\nint a[ma],b[ma],c[ma];\n\nint dp[ma][ma][ma]; \n\nint n,m,k;\n\nint main(void)\n{\n\tn=read(),m=read(),k=read();\n\t\n\tint tot=n+m+k;\n\t\n\tfor(register int i=1;i<=n;i++)\n\t{\n\t\ta[i]=read();\n\t}\n\t\n\tfor(register int i=1;i<=m;i++)\n\t{\n\t\tb[i]=read();\n\t}\n\t\n\tfor(register int i=1;i<=k;i++)\n\t{\n\t\tc[i]=read();\n\t}\n\t\n\tfor(register int i=0;i<=n;i++)\n\t{\n\t\tfor(register int j=0;j<=m;j++)\n\t\t{\n\t\t\tfor(register int v=0;v<=k;v++)\n\t\t\t{\n\t\t\t\tint val=tot-i-j-v+1;\n\t\t\t\t\n\t\t\t\tif(i!=0)\n\t\t\t\t{\n\t\t\t\t\tdp[i][j][v]=max(dp[i][j][v],a[i]*val+dp[i-1][j][v]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(j!=0)\n\t\t\t\t{\n\t\t\t\t\tdp[i][j][v]=max(dp[i][j][v],b[j]*val+dp[i][j-1][v]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(v!=0)\n\t\t\t\t{\n\t\t\t\t\tdp[i][j][v]=max(dp[i][j][v],c[v]*val+dp[i][j][v-1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tprintf(\"%d\\n\",dp[n][m][k]);\n\t\n\treturn 0;\n}\n```",
        "postTime": 1635227776,
        "uid": 430409,
        "name": "Coros_Trusds",
        "ccfLevel": 6,
        "title": "P2374 \u642c\u8fd0\u5de5"
    },
    {
        "content": "###### ~~\u4e00\u773c\u671b\u53bb\u773c\u91cc\u53ea\u6709\u66b4\u641c~~\n\n\n40\u5206\u7684\u5927\u66b4\u529b\n\n```c\n#include<stdio.h>\n#include<algorithm>\nusing namespace std;\nlong long ans;\nint k,w[4][101];\nvoid dfs(int a,int b,int c,long long sum) {\n\tif(a==0 && b==0 && c==0) {\n\t\tif(sum>ans) ans=sum;\n\t\treturn ;\n\t}\n\tif(a) {\n\t\t++k;\n\t\tdfs(a-1,b,c,sum+(k*w[1][a]));\n\t\t--k;\n\t}\n\tif(b) {\n\t\t++k;\n\t\tdfs(a,b-1,c,sum+(k*w[2][b]));\n\t\t--k;\n\t}\n\tif(c) {\n\t\t++k;\n\t\tdfs(a,b,c-1,sum+(k*w[3][c]));\n\t\t--k;\n\t}\n}\n\nint main() {\n\tfor(int i=1; i<=3; ++i) {\n\t\tscanf(\"%d\",&w[i][0]);\n\t}\n\tfor(int i=1; i<=3; ++i)\n\t\tfor(int j=1; j<=w[i][0]; ++j) {\n\t\t\tscanf(\"%d\",&w[i][j]);\n\t\t}\n\n\tdfs(w[1][0],w[2][0],w[3][0],0);\n\tprintf(\"\u7b54\u6848\u662f\uff1a%lld\"/*\u6ce8\u610f\u4e86\u6ce8\u610f\u4e86 /xyx */,ans);\n\treturn 0;\n}\n```\n\n \n\n### \u6b63\u89e3$DP$\u505a\u6cd5\n\n$F[i][j][k]$ \u8868\u793a\u76ee\u524d\u7b2c$1$\u5806\u5269\u4f59$i$\u672c\uff0c\u7b2c$2$\u5806\u5269\u4f59$j$\u672c\uff0c\u7b2c$3$\u5806\u5269\u4f59$k$\u672c\u7684\u6700\u5927\u52b3\u7d2f\u503c\n\n```cpp\nf[i][j][k]=max(max(f[i+1][j][k]+d[i+1]*t,f[i][j+1][k]+e[j+1]*t),f[i][j][k+1]+g[k+1]*t);\n```\n\n```cpp\nt=a+b+c-i-j-k\n```\n \u5176\u4e2d$a,b,c$\u4e3a$3$\u5806\u4e66\u672c\u7684\u6570\u91cf\uff0c$d[i],e[i],g[i]$\u5bf9\u5e94$3$\u5806\u4e66\u4e2d\u7b2c$i$\u672c\u4e66\u7684\u8d28\u91cf\n \n(\uff01\uff01\uff01\u6362\u9a6c\u8702\u4e86\uff01\uff01\uff01\uff09 \n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint k[4],bok[4][101],f[101][101][101];\nint main() {\n\tfor(int i=1; i<=3; ++i)\n\t\tscanf(\"%d\",&k[i]);\n\tfor(int i=1; i<=3; ++i)\n\t\tfor(int j=1; j<=k[i]; ++j)\n\t\t\tscanf(\"%d\",&bok[i][j]);\n\tfor(int i=k[1]; i>=0; --i)\n\t\tfor(int j=k[2]; j>=0; --j)\n\t\t\tfor(int l=k[3]; l>=0; --l) {\n\t\t\t\tint t=k[1]+k[2]+k[3]-(i+j+l);\n\t\t\t\tf[i][j][l]=max(max(f[i+1][j][l]+bok[1][i+1]*t,f[i][j+1][l]+bok[2][j+1]*t),f[i][j][l+1]+bok[3][l+1]*t);\n\t\t\t}\n\tprintf(\"%d\",f[0][0][0]);\n\treturn 0;\n}\n```\n",
        "postTime": 1611410309,
        "uid": 144820,
        "name": "zxw666",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2374 \u3010\u642c\u8fd0\u5de5\u3011"
    },
    {
        "content": "\u6b63\u5982 \u5f15\u9886\u5929\u4e0b \u5de8\u4f6c\u6240\u8bf4\u7684\u90a3\u6837\uff0c\u8fd9\u9053\u9898\u7528 $DFS$ \u6beb\u65e0\u601d\u7ef4\u96be\u5ea6\uff0c\u79d2\u8fc7\u3002\n\n\u6ce8\u610f\uff1a\u672c\u9898\u4e0d\u80fd\u7528\u8d2a\u5fc3\uff0c\u7528\u8d2a\u5fc3\u662f\u9519\u7684\uff01\uff01\uff01\n\n\u641c\u7d22\u5c31\u662f\u6bcf\u6b21\u5c06\u5f53\u524d\u72b6\u6001\u7684\u91cd\u91cf\u52a0\u4e0a\uff0c\u6700\u540e\u53bb\u6700\u5927\u503c\u8f93\u51fa\u5373\u53ef\u3002\n\n\u63a5\u4e0b\u6765\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#include<string>\n#include<cstdlib>\nusing namespace std;\nint x,y,z,a[100001],b[100001],c[100001],alln,now,maxn=-1; \nvoid dfs(int aa,int bb,int cc){\n\tif(aa==0&&bb==0&&cc==0){\n\t\tmaxn=max(now,maxn);\n\t\treturn;\n\t}\n\tint xs=alln-aa-bb-cc+1;\n\tif(aa){\n\t\tnow+=a[aa]*xs;\n\t\tdfs(aa-1,bb,cc);\n\t\tnow-=a[aa]*xs;\n\t}\n\tif(bb){\n\t\tnow+=b[bb]*xs;\n\t\tdfs(aa,bb-1,cc);\n\t\tnow-=b[bb]*xs;\n\t}\n\tif(cc){\n\t\tnow+=c[cc]*xs;\n\t\tdfs(aa,bb,cc-1);\n\t\tnow-=c[cc]*xs;\n\t}\n}\nint main(){\n\tcin>>x>>y>>z;\n\tfor(int i=1;i<=x;i++) cin>>a[i];\n\tfor(int i=1;i<=y;i++) cin>>b[i];\n\tfor(int i=1;i<=z;i++) cin>>c[i];\n\talln=x+y+z;\n\tdfs(x,y,z); \n\tcout<<maxn;\n    return 0;\n}\n```\n\n\u5176\u5b9e\u8fd8\u6709\u4e00\u79cd\u65b9\u6cd5\u2014\u2014 $DP$ \u3002\n\n$DP$ \u5c31\u662f\u7528\u5f53\u524d\u53ef\u53d6\u7684 $3$ \u4e2a\u72b6\u6001\u53d6\u6700\u5927\u503c\uff0c\u52a0\u4e0a\u524d\u9762\u7684\u72b6\u6001\uff0c\u8d4b\u503c\u5230\u5f53\u524d\u72b6\u6001\uff0c\u8868\u793a\u8fd9\u4e2a\u72b6\u6001\u6240\u9700\u8981\u7684\u6700\u5927\u91cd\u91cf\uff0c\u6700\u540e\u8f93\u51fa $d[x][y][z]$\uff0c\u8868\u793a\u6700\u5927\u9700\u8981\u7684\u4f53\u529b\u3002\n\n\u6ce8\u610f\uff1a$for$ \u5faa\u73af\u9700\u8981\u4ece $0$ \u5f00\u59cb\uff01\n\n\u63a5\u4e0b\u6765\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#include<string>\n#include<cstdlib>\nusing namespace std;\nint x,y,z,a[100001],b[100001],c[100001],alln,d[101][101][101];\nint main(){\n\tcin>>x>>y>>z;\n\tfor(int i=1;i<=x;i++) cin>>a[i];\n\tfor(int i=1;i<=y;i++) cin>>b[i];\n\tfor(int i=1;i<=z;i++) cin>>c[i];\n\talln=x+y+z;\n\tfor(int i=0;i<=x;i++)\n\t\tfor(int j=0;j<=y;j++)\n\t\t\tfor(int k=0;k<=z;k++){\n\t\t\t\tint xs=alln-i-j-k+1;\n\t\t\t\td[i][j][k]=max(max(max(a[i]*xs+d[i-1][j][k],b[j]*xs+d[i][j-1][k]),c[k]*xs+d[i][j][k-1]),d[i][j][k]);\n\t\t\t}\n\tcout<<d[x][y][z];\n    return 0;\n}\n```\n\n\u6c42\u8d5e\uff01",
        "postTime": 1594300747,
        "uid": 307603,
        "name": "_cmh",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P2374 \u3010\u642c\u8fd0\u5de5\u3011"
    },
    {
        "content": "### \u4e3a\u4ec0\u4e48\u8981\u7528$^D_P$\u5462\uff1f\u8bb0\u5fc6\u5316\u641c\u7d22\u591a\u9999\u554a\uff01\n\n$dfs(a,b,c)$ \u8868\u793a\u7b2c\u4e00\u5806\u5269 $a$ \u672c\u3001\u7b2c\u4e8c\u5806\u5269 $b$ \u672c\u3001\u7b2c\u4e09\u5806\u5269 $c$ \u672c\u3002\n\n$dfs$ \u4e2d\u679a\u4e3e\u8fd9\u4e00\u6b21\u4ece\u54ea\u4e00\u5806\u91cc\u53d6\uff0c\u9012\u5f52\uff0c\u8bb0\u5fc6\u5316\u3002\u8bf7\u770b\u4ee3\u7801\u4ee5\u66f4\u597d\u5730\u7406\u89e3\u3002\n\n### $code$\n\n```cpp\n#include<stdio.h>\nint a1,b1,c1,a2[100],b2[100],c2[100],ans[100][100][100];\ninline void max(int&x,const int&y){if(x<y)x=y;}\ninline int dfs(const int&a,const int&b,const int&c)\n{\n\tif(!a&&!b&&!c)return 0;//\u53d6\u5b8c\u4e86\n\tif(ans[a][b][c])return ans[a][b][c];//\u7b97\u8fc7\u8fd9\u4e2a\u4e86\uff0c\u8bb0\u5fc6\u5316\n\tregister int n=a1+b1+c1-a-b-c+1;//\u7b2c\u51e0\u672c\u4e66\uff0c\u5373\u4f53\u529b\u7cfb\u6570\n\tif(a)max(ans[a][b][c],dfs(a-1,b,c)+a2[a]*n);//\u4ece\u7b2c\u4e00\u5806\u91cc\u53d6\n\tif(b)max(ans[a][b][c],dfs(a,b-1,c)+b2[b]*n);//\u4ece\u7b2c\u4e8c\u5806\u91cc\u53d6\n\tif(c)max(ans[a][b][c],dfs(a,b,c-1)+c2[c]*n);//\u4ece\u7b2c\u4e09\u5806\u91cc\u53d6\n\treturn ans[a][b][c];//\n}\nmain()\n{\n\tscanf(\"%d%d%d\",&a1,&b1,&c1);//\u8f93\u5165\n\tfor(register int i=1;i<=a1;++i)scanf(\"%d\",a2+i);//\u8f93\u5165\n\tfor(register int i=1;i<=b1;++i)scanf(\"%d\",b2+i);//\u8f93\u5165\n\tfor(register int i=1;i<=c1;++i)scanf(\"%d\",c2+i);//\u8f93\u5165\n\tprintf(\"%d\",dfs(a1,b1,c1));//\u8f93\u51fa\n}/**/\n```\n\nupd 2020.8.10 \u611f\u8c22 [\u5de8\u4f6c](/user/323183) \u7684\u6307\u6b63\uff0c\u7684\u786e\u6709\u9519\u8bef\uff0c\u7279\u4fee\u6539\u3002\u5e76\u8bb2\u5f97\u66f4\u8be6\u7ec6\u4e86\u3002",
        "postTime": 1544760894,
        "uid": 90693,
        "name": "_\u2022\u0301\u3078\u2022\u0301\u256c_",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2374 \u3010\u642c\u8fd0\u5de5\u3011"
    },
    {
        "content": "\u672c\u849f\u84bb\u4e00\u5f00\u59cb\u770b\u5230\u697c\u4e0a\u51e0\u4e2adp,\u4e00\u5f00\u59cb\u5b8c\u5168\u6ca1\u6709\u61c2\uff0c\u540e\u6765\u81ea\u5df1\u7422\u78e8\u4e86\u4e00\u4e0b\u5348\u603b\u7b97\u662f\u61c2\u4e86......\n## \u5148\u653e\u4ee3\u7801\n```c\n#include<bits/stdc++.h>\n#define N 105\nusing namespace std;\nint sum,a,b,c,d[N],e[N],f[N],dp[N][N][N];\nvoid faster(){\n\tios::sync_with_stdio(false);\n\tcin.tie(0);\n\tcout.tie(0);\n}\nvoid read(){ \n\tcin>>a>>b>>c;\n    for(int i=1;i<=a;i++) cin>>d[i];\n    for(int i=1;i<=b;i++) cin>>e[i];\n    for(int i=1;i<=c;i++) cin>>f[i];\n}\nvoid get_ans(){ \n\tsum=a+b+c;\n\tfor(int i=0;i<=a;i++){\n    \tfor(int j=0;j<=b;j++){\n    \t\tfor(int k=0;k<=c;k++){\n\t\t        int s=sum-i-j-k+1;\n\t\t        if(i) dp[i][j][k]=max(dp[i][j][k],d[i]*s+dp[i-1][j][k]);\n\t\t        if(j) dp[i][j][k]=max(dp[i][j][k],e[j]*s+dp[i][j-1][k]);\n\t\t        if(k) dp[i][j][k]=max(dp[i][j][k],f[k]*s+dp[i][j][k-1]);\n\t\t    }\n\t\t}\n\t}\n}\nvoid write(){\n\tcout<<dp[a][b][c]<<endl;\n}\nint main(){\n\tfaster();\n    read();\n    get_ans();\n    write();\n\treturn 0;\n}\n```\n\u6574\u4f53\u601d\u8def\u8fd8\u662f\u4e09\u7ef4dp\uff0c\u8fd9\u7bc7\u9898\u89e3\u4e3b\u8981\u5c31\u662f\u6839\u636e\u6211\u4e4b\u524d\u6ca1\u61c2\u7684\u5730\u65b9\uff0c\u5bf9\u4e4b\u524d\u51e0\u7bc7dp\u9898\u89e3\u8fdb\u884c\u6da6\u8272\u3002\n\n## \u8bb2\u89e3\n\n\u9996\u5148\uff0c\u6211\u4eec\u8981\u77e5\u9053 $\\mathit{dp}_{a,b,c}$ \u8868\u793a\u4ec0\u4e48\uff1a\u5728\u4e09\u5806\u4e66\u4e2d\u5206\u522b\u53d6 $a$\u3001 $b$\u3001 $c$ \u672c\u4e66\u65f6\uff0c\u4f53\u529b\u6d88\u8017\u503c\u7684\u6700\u5927\u60c5\u51b5\u3002\n\n\u90a3\u4e48\u5047\u8bbe\u73b0\u5728\u8fd9\u672c\u4e66\uff08\u5728\u9876\u7aef\uff09\u6211\u4e0d\u9009\uff0c\u5bf9\u5e94\u7684\u6700\u5927\u503c\u4ecd\u7136\u662f $\\mathit{dp}_{a,b,c}$ (\u81ea\u5df1\u73b0\u5728\u7684\u503c\uff09\u3002\n\n\u4f46\u662f\u5982\u679c\u9009\u4e86\uff0c\u90a3\u4e48\u5bf9\u5e94\u7684\u60c5\u51b5\u5c31\u662f\uff1a\u8fd9\u5806\u4e66\u9009\u4e86 $a - 1$ \u672c\u65f6\uff08\u5176\u4ed6\u4e24\u5806\u4e0d\u53d8\uff09\u7684\u60c5\u51b5\uff0c\u518d\u52a0\u4e0a\u6240\u6d88\u8017\u7684\u4f53\u529b\u503c\u3002\u4e4b\u6240\u4ee5\u8981\u51cf\u4e00\uff0c\u662f\u56e0\u4e3a\u8981\u7559\u51fa\u7a7a\u6765\u653e\u8fd9\u672c\u4e66\u3002\n\n\u5047\u8bbe\u6211\u4eec\u521a\u521a\u8ba8\u8bba\u7684\u662f\u7b2c\u4e00\u5806\u4e66\uff0c\u7528\u4ee3\u7801\u8868\u793a\u51fa\u6765\u5982\u4e0b\uff1a\n\n\n\u9009\uff1a $\\mathit{dp}_{a,b,c}$\u3002\n\n\u4e0d\u9009\uff1a $\\mathit{dp}_{a,b,c} + \\mathit{d}_{a} \\times s$\u3002\n\n\u5176\u4e2d\u7684 $d$ \u6570\u7ec4\u8868\u793a\u7684\u662f\u7b2c\u4e00\u5806\u4e66\u7684\u4ef7\u503c\uff0c$s$ \u8868\u793a\u7684\u662f\u73b0\u5728\u7684\u4f53\u529b\u7cfb\u6570\u3002\n\n\u6240\u4ee5\u53ea\u8981 $a$ \u4e0d\u4e3a $0$\uff0c\u5c31\u53ef\u4ee5\u5c06\u8fd9\u4e24\u8005\u53d6\u51fa\u6700\u5927\u7684\u60c5\u51b5\uff1a\n\n```\nif(a) dp[a][b][c]=max(dp[a][b][c],dp[a-1][b][c]+s*d[a]);\n```\n\u7b2c\u4e8c\u5806\u548c\u7b2c\u4e09\u5806\u540c\u7406\uff1a\n\n\n```\nif(a) dp[a][b][c]=max(dp[a][b][c],dp[a-1][b][c]+s*d[a]);\nif(b) dp[a][b][c]=max(dp[a][b][c],dp[a][b-1][c]+s*e[b]);\nif(c) dp[a][b][c]=max(dp[a][b][c],dp[a][b][c-1]+s*f[c]);\n```\n\n## \u603b\u7ed3\n\n\u600e\u4e48\u6709\u70b9\u50cf01\u80cc\u5305\u5462\uff1f\n\n~~\uff08\u5636\uff0c\u8d8a\u770b\u8d8a\u50cf\uff09~~",
        "postTime": 1659536813,
        "uid": 616733,
        "name": "Sands_Of_Time",
        "ccfLevel": 5,
        "title": "P2374  \u5bf9\u6b64\u9898dp\u66f4\u8be6\u7ec6\u7684\u89e3\u91ca"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P2374)\n\n\u6df1\u641c\u597d\u9898\uff0c\u52a8\u6001\u89c4\u5212\u4e5f\u80fd\u505a\u3002\n\n------------\n### \u5206\u6790\n\n\u5f88\u591a\u9898\u89e3\u90fd\u8bf4\u8d2a\u5fc3\u4e0d\u80fd\u505a\uff0c\u4f46\u6ca1\u6709\u8bf4\u4e3a\u4ec0\u4e48\u3002\u90a3\u6211\u4eec\u6765\u5206\u6790\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u7528\u8d2a\u5fc3\u3002\n\n\u8fd9\u9898\u7684\u8d2a\u5fc3\u601d\u8def\u975e\u5e38\u7b80\u5355\uff0c\u5c31\u662f\u6bd4\u8f83\u4e09\u5806\u6570\u7684\u6700\u4e0a\u5c42\u54ea\u4e2a\u5c0f\u5c31\u5148\u53d6\u90a3\u4e2a\uff0c\u8fd9\u6837\u5230\u4e86\u540e\u9762\u7528\u4f53\u529b\u7cfb\u6570\u5927\u7684\u4e58\u4e0a\u5269\u4e0b\u90a3\u4e9b\u91cd\u7684\u4e66\u66f4\u597d\u3002\n\n\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u6211\u4eec\u6765\u7b97\u7b97\u4f53\u529b\u6d88\u8017\u603b\u503c\uff1a\n\n![](https://latex.codecogs.com/svg.image?2*1&plus;3*2&plus;2*3&plus;4*4&plus;5*5&plus;1*6&plus;7*7&plus;8*8&plus;9*9=255&space;)\n     \n\u4e0d\u8fc7\u6837\u4f8b\uff0c\u90a3\u5c31\u5f88\u660e\u663e\u4e0d\u884c\u3002\n\n### \u65b9\u6cd5\n\n\u8d2a\u5fc3\u4e0d\u884c\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u6df1\u641c\u505a\u3002\n\n\u6df1\u641c\u975e\u5e38\u7b80\u5355\uff0c\u53ef\u4ee5\u76f4\u63a5\u5957\u6a21\u677f\u3002\u6211\u4eec\u53ef\u4ee5\u6bcf\u5806\u6bcf\u5806\u641c\u4e0b\u53bb\uff0c\u628a\u6bcf\u79cd\u65b9\u6848\u8fdb\u884c\u6bd4\u8f83\u5c31\u53ef\u4ee5\u4e86\u3002\n```\nvoid dfs(\u9012\u5f52\u5c42\u6570){\n\tif(\u6ca1\u6709\u4e66\u4e86){\n\t\t\u5224\u65ad\u6700\u5927\u503c/\u8bb0\u5f55\n\t\treturn;\n\t}\n\tif(\u7b2c\u4e00\u5806\u4e66\u8fd8\u6709){\n\t\t\u52a0\u4e0a\u6bcf\u6b21\u4f53\u529b\u6d88\u8017\uff1b\n\t\tdfs(i-1,j,k,\u4f53\u529b+1);\n\t\t\u51cf\u53bb\u539f\u5148\u52a0\u4e0a\u8fc7\u7684\u4f53\u529b\u6d88\u8017\uff1b\n\t}\n\tif(\u7b2c\u4e8c\u5806\u4e66\u8fd8\u6709){\n\t\t\u52a0\u4e0a\u6bcf\u6b21\u4f53\u529b\u6d88\u8017\uff1b\n\t\tdfs(i,j-1,k,\u4f53\u529b+1);\n\t\t\u51cf\u53bb\u539f\u5148\u52a0\u4e0a\u8fc7\u7684\u4f53\u529b\u6d88\u8017\uff1b\n\t}\n\tif(\u7b2c\u4e09\u5806\u4e66\u8fd8\u6709){\n\t\t\u52a0\u4e0a\u6bcf\u6b21\u4f53\u529b\u6d88\u8017\uff1b\n\t\tdfs(i,j,k-1,\u4f53\u529b+1);\n\t\t\u51cf\u53bb\u539f\u5148\u52a0\u4e0a\u8fc7\u7684\u4f53\u529b\u6d88\u8017\uff1b\n\t}\n}\n```\n\n\n------------\n### \u5b8c\u7f8e ```AC``` \u4ee3\u7801\uff1a\n\n```\n#include<iostream>\nusing namespace std;\nint a,b,c,tl=1;//tl\u4e3a\u4f53\u529b\u7cfb\u6570\uff0c\u521d\u59cb\u4e3a1 \nint a_[110],b_[110],c_[110];\nint sum,maxn;\nvoid dfs(int a,int b,int c,int tl){\n\tif(a==0&&b==0&&c==0){//\u5982\u679c\u5168\u90e8\u53d6\u5b8c \n\t\tmaxn=max(maxn,sum);//\u6bd4\u8f83\u5927\u5c0f \n\t\treturn;\n\t}\n\tif(a>0){\n\t\tsum+=a_[a]*tl;//\u52a0\u4e0a\u4f53\u529b\u6d88\u8017 \n\t\tdfs(a-1,b,c,tl+1);//a\u51cf\u5c11\u4e00\u672c\u4e66\uff0c\u4f53\u529b\u6570\u503c+1 \n\t\tsum-=a_[a]*tl;//\u51cf\u53bb\u4f53\u529b\u6d88\u8017 \n\t}\n\tif(b>0){\n\t\tsum+=b_[b]*tl;\n\t\tdfs(a,b-1,c,tl+1);\n\t\tsum-=b_[b]*tl;\n\t}\n\tif(c>0){\n\t\tsum+=c_[c]*tl;\n\t\tdfs(a,b,c-1,tl+1);\n\t\tsum-=c_[c]*tl;\n\t}\n}\nint main(){\n\tcin>>a>>b>>c;\n\tfor(int i=1;i<=a;i++)cin>>a_[i];\n\tfor(int i=1;i<=b;i++)cin>>b_[i];\n\tfor(int i=1;i<=c;i++)cin>>c_[i];\n\tdfs(a,b,c,tl);\n\tcout<<maxn;//\u6df1\u641c\u5b8c\u5f97\u51fa\u6700\u5927\u503c\uff0c\u8f93\u51fa\n\treturn 0;\n}\n```\n",
        "postTime": 1654088306,
        "uid": 355424,
        "name": "Lish_Xizse",
        "ccfLevel": 0,
        "title": "P2374\u9898\u89e3"
    },
    {
        "content": "## \u9898\u76ee\u5206\u6790\n\u6709\u4e09\u5806\u7269\u54c1\uff0c\u5206\u522b\u6709 `i,j,k` \u4e2a\u3002\u6bcf\u4e00\u4e2a\u7269\u54c1\u6709\u4e00\u4e2a\u91cd\u91cf `w[i]`\u3002\u53d6\u8d70\u4e00\u4e2a\u7269\u54c1\u65f6\uff0c\u5982\u679c\u8fd9\u4e2a\u662f\u7b2c `tot` \u4e2a\u53d6\u8d70\u7684\u7269\u54c1\uff0c\u90a3\u4e48\u6b64\u65f6\u6d88\u8017\u7684\u4f53\u529b\u5c31\u4f1a\u662f $w*tot$\u3002\n\n\u5f88\u660e\u663e\u8fd9\u662f\u4e00\u9053\u80cc\u5305 DP \u9898\uff0c\u6211\u4eec\u7528 `x,y,z` \u4e09\u4e2a\u6570\u7ec4\u5206\u522b\u5b58\u6bcf\u4e00\u5806\u4e0a\u7684\u4e66\u7684\u91cd\u91cf\uff0c\u4e14\u7528 `dp[i][j][k]` \u8868\u793a\u4e09\u5806\u5404\u6709 `i,j,k` \u4e2a\u65f6\u7684\u6700\u5927\u4f53\u529b\u3002\u6839\u636e\u6570\u636e\u8303\u56f4\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u7528\u4e09\u7ef4 DP \u662f\u4e0d\u4f1a\u7206\u6389\u7684\uff0c\u90a3\u4e48\u73b0\u5728\u91cd\u70b9\u5c31\u662f\u63a8\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u3002\n\n### \u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\n\n\u6ce8\u610f\uff1a\u5fc5\u987b\u8fd9\u4e00\u5806\u7269\u54c1\u4e2d\u9700\u8981\u6709\u7269\u54c1\u624d\u53ef\u4ee5\u53d6\u8d70\uff1a\n\n\u82e5 $a>0$\uff0c\u5373\u7b2c\u4e00\u5806\u4e2d\u8fd8\u6709\u7269\u54c1\uff0c\u90a3\u4e48 \n```\ndp[a][b][c]=max(dp[a][b][c],dp[a-1][b][c]+(a+b+c)*x[i-a+1])\n```\n\u82e5 $b>0$\uff0c\u5373\u7b2c\u4e8c\u5806\u4e2d\u8fd8\u6709\u7269\u54c1\uff0c\u90a3\u4e48\n```\ndp[a][b][c]=max(dp[a][b][c],dp[a][b-1][c]+(a+b+c)*y[j-b+1])\n```\n\u82e5 $c>0$\uff0c\u5373\u7b2c\u4e09\u5806\u4e2d\u8fd8\u6709\u7269\u54c1\uff0c\u90a3\u4e48\n```\ndp[a][b][c]=max(dp[a][b][c],dp[a][b][c-1]+(a+b+c)*z[k-c+1])\n```\n\n**\u6ce8\u610f\uff1a\u8fd9\u91cc\u6709\u4e2a\u5751\uff0c\u5c31\u662f\u7269\u54c1\u7684\u8d28\u91cf\u662f\u4ece\u4e0b\u5230\u4e0a\u8f93\u5165\u7684\uff0c\u6240\u4ee5\u8981\u6ce8\u610f\u4e0b\u6807**\n\n## AC CODE:\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint i,j,k;\nint x[102],y[102],z[102];\nint dp[102][102][102];\nint main(){\n\tcin>>i>>j>>k;\n\tfor(int a=1;a<=i;a++){\n\t\tcin>>x[a];\n\t}\n\tfor(int a=1;a<=j;a++){\n\t\tcin>>y[a];\n\t}\n\tfor(int a=1;a<=k;a++){\n\t\tcin>>z[a];\n\t}\n\tfor(int a=0;a<=i;a++){\n\t\tfor(int b=0;b<=j;b++){\n\t\t\tfor(int c=0;c<=k;c++){\n\t\t\t\tif(a>0){//\u7b2c\u4e00\u5806\u7269\u54c1\u662f\u5426\u8fd8\u6709\n\t\t\t\t\tdp[a][b][c]=max(dp[a][b][c],dp[a-1][b][c]+(a+b+c)*x[i-a+1]);\n\t\t\t\t}\n\t\t\t\tif(b>0){//\u7b2c\u4e8c\u5806\u7269\u54c1\u4e2d\u662f\u5426\u8fd8\u6709  \n\t\t\t\t\tdp[a][b][c]=max(dp[a][b][c],dp[a][b-1][c]+(a+b+c)*y[j-b+1]);\n\t\t\t\t}\n\t\t\t\tif(c>0){//\u7b2c\u4e09\u5806\u7269\u54c1\u4e2d\u662f\u5426\u8fd8\u6709  \n\t\t\t\t\tdp[a][b][c]=max(dp[a][b][c],dp[a][b][c-1]+(a+b+c)*z[k-c+1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout<<dp[i][j][k];\n\treturn 0;\n}\n```\n\n\u8c22\u8c22\u89c2\u770b~",
        "postTime": 1649136986,
        "uid": 702870,
        "name": "Zoupan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3\u2014P2374"
    }
]