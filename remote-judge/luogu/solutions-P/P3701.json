[
    {
        "content": "\u8bf4\u8fd9\u9898NOI+\uff0c\u5176\u5b9e\uff08\u5e94\u8be5\uff09\u4e5f\u6ca1\u6709\u8fd9\u4e48\u96be\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u4eba\u5efa\u4e00\u4e2a\u70b9\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2abyx\u7684\u4eba\uff0c\u4ece\u6e90\u70b9\u5411\u4eba\u8fde\u8fb9\uff0c\u5bb9\u91cf\u4e3a\u6b64\u4eba\u7684\u5bff\u547d\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u624b\u6c14\u541b\u7684\u4eba\uff0c\u4ece\u4eba\u5411\u6c47\u70b9\u8fde\u8fb9\uff0c\u5bb9\u91cf\u4e3a\u6b64\u4eba\u7684\u5bff\u547d\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2abyx\u7684\u4eba\u4e0e\u624b\u6c14\u541b\u7684\u4eba\uff0c\u5982\u679cbyx\u80fd\u591f\u7528\u6b64\u4eba\u8d62\u624b\u6c14\u541b\uff0c\u4ecebyx\u7684\u8fd9\u4e2a\u4eba\u5411\u624b\u6c14\u541b\u7684\u8fd9\u4e2a\u4eba\u8fde\u4e00\u6761\u8fb9\uff0c\u5bb9\u91cf\u4e3a1\u3002\n\n\u53e6\uff1a\u5bf9\u4e8e\u957f\u8005\uff0c\u4ed6\u7684\u751f\u547d\u8981\u52a0\u4e0ap\uff0cp\u4e3a\u672c\u65b9\u819c\u6cd5\u5e08\u7684\u4eba\u6570\uff0c\u4ee3\u8868\u7eed\u547d\u3002\n\n\uff08\u6df1\u53d7\u819c\u86e4\u6587\u5316\u5f71\u54cd\u7684\u6211\u5f00\u59cb\u4ee5\u4e3a\u7eed\u547d\u65f6\u81ea\u5df1\u8981-1s\u2026\u2026\u50bb\u4e4e\u4e4e\u5730\u4ece\u819c\u6cd5\u5e08\u5411\u957f\u8005\u8fde\u4e86\u6761\u5bb9\u91cf\u4e3a1\u7684\u8fb9QAQ\u2026\u2026\uff09\n\n\u6700\u540e\u8dd1\u88f8\u7684\u6700\u5927\u6d41\u5373\u53ef\u3002\n\n\u4ee3\u7801\u5c31\u4e0d\u9700\u8981\u8d34\u4e86\uff0c\u6bd5\u7adf\u5199\u4e2a\u7f51\u7edc\u6d41\u677f\u5b50\u5957\u4e0a\u53bb\u5c31\u6ca1\u4e86\u3002\n",
        "postTime": 1510564677,
        "uid": 30261,
        "name": "Mr_QwQ",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3701 \u3010\u300c\u4f2a\u6a21\u677f\u300d\u4e3b\u5e2d\u6811\u3011"
    },
    {
        "content": "\u6e90\u4e8e\u67d0\u4e9b\u76ee\u7684\uff0c\u5199\u4e86\u8fd9\u7bc7\u9898\u89e3\u3002\n\n\u597d\u4e86\u5148\u8bf4\u4e9b\u5e9f\u8bdd\uff0c\u521a\u5b66OI\uff08\u534a\u5e74\u524d\uff1f\uff1f\uff09\uff0c\u770b\u5230\u8fd9\u9898\u89c9\u5f97\u5341\u5206\u9ad8\u5927\u4e0a\uff0c\u6709\u4e00\u79cd\u9ad8\u5c71\u4ef0\u6b62\u7684\u611f\u89c9\u3002\u3002\u7136\u800c\u521a\u521a\u60f3\u505a\u505a\u6570\u636e\u7ed3\u6784\uff0c\u53c8\u7ffb\u5230\u8fd9\u9053\u9898\uff0c\u4ed4\u7ec6\u63e3\u6469\u4e86\u4e00\u4e0b\u9898\u610f\uff0c\u64e6\u561e\uff0c\u5c31\u662f\u4e00\u4e2a\u4e8c\u4e4e\u4e4e\u7684\u6700\u5927\u6d41\u3002\u3002\n\n\u597d\u4e86\uff0c\u7167\u4f8b\u8fd8\u662f\u8981\u8bf4\u8bf4\u5efa\u56fe\u7684\uff0c\u65b9\u6cd5\u4e0d\u96be\u770b\u51fa\uff0c\u5982\u679c\u8bfb\u5165\u6b63\u5e38\u4e00\u70b9\u7684\u8bdd\uff0c\u5e94\u8be5\u5f88\u5bb9\u6613\u53ef\u4ee5\u53d1\u73b0\uff0c\u5efa\u7acb\u8d85\u7ea7\u6e90\u548c\u8d85\u7ea7\u6c47\u4e4b\u540e\uff0c\u628abyx\u7684\u4eba\u5411\u6e90\u70b9\u8fde\u8fb9\uff08\u5f88\u5957\u8def~\u697c\u4e0b\u8c8c\u4f3c\u4e5f\u8bf4\u4e86~<-\u96fe\n\uff09\u7136\u540e\uff0c\u628a\u5bf9\u9762\u7684\u5411\u6c47\u70b9\u8fde\u8fb9\uff0c\u5bb9\u91cf\u5747\u4e3a\u5bff\u547d\u3002\u7136\u540e\u7167\u7740\u9898\u91cc\u90a3\u5f20\u56fe\u628abyx\u80fd\u6253\u8d62\u5bf9\u9762\u7684\u8fde\u4e00\u6761\u5bb9\u91cf\u4e3a1\u7684\u8fb9\uff0c\u7136\u540e\uff0c\u6ca1\u6709\u7136\u540e\u4e86\uff01\u3002\n\n\u6709\u4e00\u4e9b\u8981\u6ce8\u610f\u7684\u5730\u65b9\u8fd8\u662f\u8981\u63d0\u4e00\u4e0b\u7684\uff1a\n\n\u2460\u8fd9\u4e2a\u9898\u8bfb\u5165\u771fTNN\u6076\u5fc3\uff0c\u600e\u4e48\u5904\u7406\uff1f\u901a\u8fc7\u89c2\u5bdf\u6cd5\uff0c\u6211\u4eec\u770b\u51fa\uff0c\u5982\u679c\u7528\u5b57\u7b26\u4e32\u50a8\u5b58\u6240\u6709\u4eba\u7684\u7c7b\u578b\u7684\u8bdd\uff0c\uff0c\uff0c\u975e\u5e38\u53ef\u884c\uff0c\u800c\u4e14\u2014\u2014\u6240\u6709\u7c7b\u578b\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u5747\u4e0d\u76f8\u540c\uff0c\u90fd\u4e0d\u7528\u4ec0\u4e48\u9ad8\u7ea7\u7684\u5224\u5b9a\u65b9\u6cd5\u3002\u3002\u3002\u800c\u4e14\u6570\u636e\u8303\u56f4\u4e5f\u5f88\u5c0f\uff0c\u76f4\u63a5N^2\u8fde\u8fb9\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u2461\u7eed\u547d\u662f\u4e2a\u4ec0\u4e48\u673a\u5236\uff1f\uff1f\uff1f \u901a\u8fc7\u819c\u6cd5\u3002\u3002\u3002\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u4e00\u4e9b\u795e\u5947\u7684\u4e8b\u60c5\uff0c\u8fd9\u91cc\u7684\u7eed1s\u5e76\u4e0d\u7528\u7ed9\u81ea\u5df1-1s\u3002\n\n\u2462\u6211\u7684\u6837\u4f8b\u8f93\u51fa\u4e864\uff0c\u4f46\u662f\u6211\u81ea\u5df1\u624b\u63a8\u6a21\u62df\u4e86\u4e5f\u662f4\u554a\uff0c\u4f46\u662f\u4e3a\u5565\u662f3\uff1f\uff1f  \u597d\u597d\u8bfb\u9898\uff0c\u6709\u4e00\u4e2a\u4e00\u5171\u6bd4m\u573a\u3002\u3002\u5c31\u6bd4\u4e863\u573a\u4f60\u54ea\u6765\u76844\uff1f\uff1f<-\u96fe\n\n\u653e\u4e0a\u4ee3\u7801\u7ed9\u5927\u5bb6\u53c2\u8003\u4e00\u4e0b\uff0c\u849f\u84bb\u7801\u98ce\u4e0d\u826f\u8bf7\u8c05\u89e3\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#include<queue>\n#define re register\n#define inf 500000000\n#define s1 b1[i].id[0]\n#define s2 b2[j].id[0] \nusing namespace std;\nstruct pe\n{\n\tint hp;\n\tstring id;\n};\npe b1[101],b2[101];\nstruct po\n{\n\tint to,nxt,w;\n}edge[300001];\nint head[20001],cur[200001],num=-1,n,m,t,x,y,s,l,tot,sum,xu1,xu2,dep[20001];\ninline int read()\n{\n\tint x=0,c=1;\n\tchar ch=' ';\n\twhile((ch>'9'||ch<'0')&&ch!='-')ch=getchar();\n\twhile(ch=='-')c*=-1,ch=getchar();\n\twhile(ch>='0'&&ch<='9')x=x*10+ch-'0',ch=getchar();\n\treturn x*c;\n}\ninline void add_edge(int from,int to,int w)\n{\n\tedge[++num].nxt=head[from];\n\tedge[num].to=to;\n\tedge[num].w=w;\n\thead[from]=num;\n}\ninline void add(int from,int to ,int w)\n{\n\tadd_edge(from,to,w);\n\tadd_edge(to,from,0);\n}\ninline bool bfs()\n{\n\tmemset(dep,0,sizeof(dep));\n\tqueue<int> q;\n\twhile(!q.empty())\n\tq.pop();\n\tdep[s]=1;\n\tq.push(s);\n\twhile(!q.empty()){\n\t\tint u=q.front();\n\t\tq.pop();\n\t\tfor(re int i=head[u];i!=-1;i=edge[i].nxt)\n\t\t{\n\t\t\tint v=edge[i].to;\n\t\t\tif(edge[i].w>0&&dep[v]==0)\n\t\t\t{\n\t\t\t\tdep[v]=dep[u]+1;\n\t\t\t\tif(v==t)\n\t\t\t\treturn 1;\n\t\t\t\tq.push(v);\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\ninline int dfs(int u,int dis)\n{\n\tif(u==t)\n\treturn dis;\n\tint diss=0;\n\tfor(re int& i=cur[u];i!=-1;i=edge[i].nxt)\n\t{\n\t\tint v=edge[i].to;\n\t\tif(edge[i].w!=0&&dep[v]==dep[u]+1)\n\t\t{\n\t\t\tint check=dfs(v,min(dis,edge[i].w));\n\t\t\tif(check)\n\t\t\t{\n\t\t\t\tdiss+=check;\n\t\t\t\tdis-=check;\n\t\t\t\tedge[i].w-=check;\n\t\t\t\tedge[i^1].w+=check;\n\t\t\t\tif(dis==0) break;\n\t\t\t}\n\t\t}\n\t}\n\treturn diss;\n}\ninline int dinic()\n{\n\tint ans=0;\n\twhile(bfs())\n\t{\n\t\tfor(re int i=s;i<=t;i++)\n\t\tcur[i]=head[i];\n\t\twhile(int d=dfs(s,inf))\n\t\tans+=d;\n\t}\n\treturn ans;\n}\ninline int pd1(int x)\n{\n\tif(b1[x].id[0]=='J')\n\treturn xu1; else\n\treturn 0;\n}\ninline int pd2(int x)\n{\n\tif(b2[x].id[0]=='J')\n\treturn xu2; else\n\treturn 0;\n}\nint main()\n{\n\tmemset(head,-1,sizeof(head));\n\tn=read();m=read();\n\tfor(re int i=1;i<=n;i++)\n\t\tcin>>b1[i].id;\n\tfor(re int i=1;i<=n;i++)\n\t\tcin>>b2[i].id;\n\tfor(re int i=1;i<=n;i++)\n\t\tcin>>b1[i].hp;\n\tfor(re int i=1;i<=n;i++)\n\t\tcin>>b2[i].hp;\n\tfor(re int i=1;i<=n;i++){\n\t\tif(b1[i].id[0]=='Y')\n\t\t\txu1++;\n\t\tif(b2[i].id[0]=='Y')\n\t\t\txu2++;\n\t}\n\ts=0;t=2*n+1;\n\tfor(re int i=1;i<=n;i++){\n\t\tfor(re int j=1;j<=n;j++){\n\t\t\tif(s1=='J'&&(s2=='H'||s2=='W'))\n\t\t\tadd(i,j+n,1);\n\t\t\tif(s1=='E'&&(s2=='J'||s2=='Y'))\n\t\t\tadd(i,j+n,1);\n\t\t\tif(s1=='Y'&&(s2=='J'||s2=='H'))\n\t\t\tadd(i,j+n,1);\n\t\t\tif(s1=='H'&&(s2=='E'||s2=='W'))\n\t\t\tadd(i,j+n,1);\n\t\t\tif(s1=='W'&&(s2=='Y'||s2=='E'))\n\t\t\tadd(i,j+n,1);\n\t\t}\n\t}\n\tfor(re int i=1;i<=n;i++)\n\t\tadd(s,i,b1[i].hp+pd1(i)),add(i+n,t,b2[i].hp+pd2(i));\n\tcout<<min(dinic(),m);\n}\n```",
        "postTime": 1518354915,
        "uid": 49223,
        "name": "Victorique",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3701 \u3010\u300c\u4f2a\u6a21\u677f\u300d\u4e3b\u5e2d\u6811\u3011"
    },
    {
        "content": "~~\u8fd9\u9898\u611f\u89c9\u5b8c\u5168\u6ca1\u6709\u9ed1\u9898\u7684\u96be\u5ea6\u554a\uff0c\u6bd5\u7adf\u8fde\u6211\u90fd\u4f1a\u505a~~\n\n# \u601d\u8def\uff1a~~\u5f88\u660e\u663e\u7684~~\u6700\u5927\u6d41\n\n[\u5982\u679c\u4e0d\u4f1a\u6700\u5927\u6d41](https://www.luogu.org/blog/ONE-PIECE/wang-lao-liu-di-zong-jie)\n\n\u4e3a\u4ec0\u4e48\u4f1a\u60f3\u5230\u6700\u5927\u6d41\u5462\uff1f\n\n### \u5176\u5b9e\u9898\u76ee\u91cc\u5230\u5904\u90fd\u5728\u6697\u793a\u8981\u7528\u6700\u5927\u6d41\n\n\u6bd4\u5982\u8bf4\uff1a\n\n\u4e24\u4e2a\u4eba\u4e4b\u95f4\u53ea\u80fd\u6bd4\u4e00\u573a\u3002--->\u8fde\u4e00\u6761\u5bb9\u91cf\u4e3a1\u7684\u8fb9\n\n\u6bcf\u6b21\u6bd4\u5b8c\u8d5b\u4ed6\u4eec\u5c31\u4f1a-1s\u3002\u5f53\u4ed6\u4eec\u751f\u547d\u4e3a0s\u65f6\u4ed6\u4eec\u5c31\u4e0d\u80fd\u518d\u6bd4\u8d5b\u4e86\u3002-->\u6bcf\u6761\u589e\u5e7f\u8def\u6d411\uff0c\u5bb9\u91cf\u51cf1\uff0c\u8fb9\u7684\u5bb9\u91cf\u6ee1\u4e86\u5c31\u4e0d\u80fd\u6d41\u4e86\n\n\u6700\u591a\u80fd\u591f\u8d62\u5f97\u591a\u5c11\u573a\u6bd4\u8d5b--->\u6700\u5927\u6d41\u662f\u591a\u5c11\n\n## \u770b\u5427\uff0c\u5230\u5904\u90fd\u5728\u6697\u793a\u7528\u6700\u5927\u6d41\n\n# \u63a5\u4e0b\u6765\u6211\u4eec\u8bb2\u5efa\u56fe\uff1a\n\n## \u5b9a\u4e49\u70b9\uff1a\n\nbyx\u548c\u624b\u6c14\u541b\u6bcf\u4e2a\u4eba\u90fd\u5bf9\u5e94\u4e00\u4e2a\u70b9\n\n\u8fd8\u8981\u4e00\u4e2as\uff08\u6e90\u70b9\uff09\uff0c\u4e00\u4e2at\uff08\u6c47\u70b9\uff09\uff0c\u4e00\u4e2att\uff08\u5047\u88c5\u662f\u6c47\u70b9\uff0c\u540e\u9762\u8981\u52a0tt\u6307\u5411t\u7684\u8fb9\u6765\u9650\u5236\u573a\u6570\uff09\n\n## \u52a0\u8fb9:\n\n1.s\u6d41\u5411byx\u6bcf\u4e2a\u4eba\u7684\u8fb9\uff0c\u5bb9\u91cf\u4e3a\u4eba\u7684\u5bff\u547d\uff08\u5982\u679c\u662fJ\u5c31\u52a0\u4e0aYYY\u7684\u6570\u91cf\uff09\n\n2.\u624b\u6c14\u541b\u6bcf\u4e2a\u4eba\u6d41\u5411tt\u7684\u8fb9\uff0c\u5bb9\u91cf\u4e3a\u4eba\u7684\u5bff\u547d\uff08J\u8981\u52a0YYY\u7684\u6570\u91cf\uff09\n\n3.\u6309\u514b\u5236\u5173\u7cfb\u52a0\u8fb9\uff0cbyx\u7684\u4eba\u6d41\u5411\u624b\u6c14\u541b\u7684\u4eba\uff08\u6ce8\u610f\uff1a\u6bcf\u4e2a\u88ab\u514b\u7684\u4eba\u90fd\u8981\u52a0\uff0c\u4f8b\uff1abyx\u7684\u6bcf\u4e2aJ\u8981\u5bf9\u5e94\u624b\u6c14\u541b\u6bcf\u4e2aHK\u548c\u6bcf\u4e2aW\uff09\uff0c\u5bb9\u91cf\u4e3a1\n\n4.tt\u6d41\u5411t\u7684\u8fb9\uff0c\u5bb9\u91cf\u4e3am\uff08\u6700\u591a\u6bd4m\u573a\uff09\n\n## \u66f4\u76f4\u89c2\u7684\u7406\u89e3\uff1a\n\n\u6837\u4f8b\u5efa\u597d\u56fe\u540e\u662f\u8fd9\u6837\u7684\uff1a\n![](https://cdn.luogu.com.cn/upload/pic/32097.png)\n\n## \u7136\u540e\u8dd1\u6700\u5927\u6d41\u5c31\u5b8c\u4e86\uff0c\u7531\u4e8e\u56fe\u5f88\u7a20\u5bc6\uff0c\u63a8\u8350Dinic\n\n[\u5982\u679c\u4e0d\u4f1aDinci](https://www.luogu.org/blog/ONE-PIECE/wang-lao-liu-jiang-xie-zhi-dinic)\n\n\u4ee3\u7801\u7565\u4e11:\n\n```\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<algorithm>\n#include<queue>\n#include<vector>\nusing namespace std;\nconst int inf=1<<30;\nint a[101][2];//\u5206\u522b\u88c5byx\u548c\u624b\u6c14\u541b\u7684\u4eba\uff0c1\u8868\u793aJ\uff0c2\u8868\u793aHK\uff0c3\u8868\u793aW\uff0c4\u8868\u793aYYY\uff0c5\u8868\u793aE\nint b[101][2];//\u88c5\u5bff\u547d \ninline void REad(int i,int f){\n    char c=getchar();\n    string st=\"\";\n    while(c>'Z'||c<'A')c=getchar();\n    while(c>='A'&&c<='Z')st=st+c,c=getchar();\n    if(st==\"J\")a[i][f]=1;\n    else if(st==\"HK\")a[i][f]=2;\n    else if(st==\"W\")a[i][f]=3;\n    else if(st==\"YYY\")a[i][f]=4;\n    else if(st==\"E\")a[i][f]=5;\n}//f==0\u8868\u793abyx\uff0cf==1\u8868\u793a\u624b\u6c14\u541b \ninline int Read(){\n    int x=0;\n    char c=getchar();\n    while(c>'9'||c<'0')c=getchar();\n    while(c>='0'&&c<='9')x=x*10+c-'0',c=getchar();\n    return x;\n}\nint head[10101],cur[10101],top=1;\nint n,m,s,t,tt;\nstruct Node{\n    int v;\n    int val;\n    int next;\n}node[101010];\ninline void addedge(int u,int v,int val){\n    node[++top].v=v;\n    node[top].val=val;\n    node[top].next=head[u];\n    head[u]=top;\n}\ninline void add(int u,int v,int val){\n    addedge(u,v,val);\n    addedge(v,u,0);\n}\nint dep[10101],inque[10101];\nbool spfa(){\n    for(register int i=1;i<=t;i++){\n        dep[i]=inf;\n        inque[i]=0;\n        cur[i]=head[i];\n    }\n    queue<int>q;\n    q.push(s);\n    dep[s]=0;\n    while(!q.empty()){\n        int u=q.front();\n        q.pop();\n        inque[u]=0;\n        for(int i=head[u];i;i=node[i].next){\n            int d=node[i].v;\n            if(node[i].val&&dep[d]>dep[u]+1){\n                dep[d]=dep[u]+1;\n                if(inque[d]==0){\n                    q.push(d);\n                    inque[d]=1;\n                }\n            }\n        }\n    }\n    return dep[t]!=inf;\n}\nint maxflow,vis;\nint dfs(int u,int flow){\n    if(u==t){\n        vis=1;\n        maxflow+=flow;\n        return flow;\n    }\n    int used=0;\n    for(int i=cur[u];i;i=node[i].next){\n        cur[u]=i;\n        int d=node[i].v;\n        if(dep[d]==dep[u]+1&&node[i].val){\n        int low=dfs(d,min(node[i].val,flow-used));\n        if(low!=0)used+=low,node[i].val-=low,node[i^1].val+=low;\n        }\n        if(used==flow)break;\n    }\n    return used;\n}\nint Dinic(){\n    maxflow=0;\n    while(spfa()){\n        vis=1;\n        while(vis)vis=0,dfs(s,inf);\n    }\n    return maxflow;\n}\nvector<int>J,HK,W,YYY,E;\nvoid k(int i,vector<int> a){\n\tint sz=a.size();\n\tfor(int j=0;j<sz;j++)add(i,n+a[j],1);//\u4e24\u4e2a\u4eba\u4e4b\u95f4\u53ea\u80fd\u6bd4\u4e00\u573a \n}\nvoid ad(int i){\n\tif(a[i][0]==4||a[i][0]==5)k(i,J);\n\tif(a[i][0]==1||a[i][0]==4)k(i,HK);\n\tif(a[i][0]==1||a[i][0]==2)k(i,W);\n\tif(a[i][0]==3||a[i][0]==5)k(i,YYY);\n\tif(a[i][0]==2||a[i][0]==3)k(i,E);\n}//\u6309\u7167\u514b\u5236\u5173\u7cfb\u7ed9i\u70b9\u52a0\u8fb9 \nint main(){\n    n=Read(),m=Read();\n    register int i;\n    int cnt1,cnt2;//\u4e24\u4ebaYYY\u7684\u6570\u91cf \n    cnt1=cnt2=0;\n    s=2*n+1,tt=2*n+2,t=2*n+3;\n    add(tt,t,m);//\u6700\u591a\u6bd4m\u573a \n    for(i=1;i<=n;i++){\n    REad(i,0);\n    if(a[i][0]==4)cnt1++;   \n    }\n    for(i=1;i<=n;i++){\n    REad(i,1);\n    if(a[i][1]==4)cnt2++;\n    if(a[i][1]==1)J.push_back(i);\n    else if(a[i][1]==2)HK.push_back(i);\n    else if(a[i][1]==3)W.push_back(i);\n    else if(a[i][1]==4)YYY.push_back(i);\n    else if(a[i][1]==5)E.push_back(i);\n    }\n    for(i=1;i<=n;i++)b[i][0]=Read();\n    for(i=1;i<=n;i++)b[i][1]=Read();\n    int now;\n    for(i=1;i<=n;i++){\n    now=i;\n    if(a[i][0]==1)add(s,now,b[i][0]+cnt1);//YYY\u53ea\u80fd\u7ed9J\u52a0\u547d \n    else add(s,now,b[i][0]);\n    ad(i);\n    }\n    for(i=1;i<=n;i++){\n    now=i+n;\n    if(a[i][1]==1)add(now,tt,b[i][1]+cnt2);\n    else add(now,tt,b[i][1]);\n    }\n    printf(\"%d\",Dinic());\n    return 0;\n}\n```",
        "postTime": 1536235098,
        "uid": 28088,
        "name": "\u94b1\u9038\u51e1",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3701 \u3010\u300c\u4f2a\u6a21\u677f\u300d\u4e3b\u5e2d\u6811\u3011"
    },
    {
        "content": "## \u524d\u8a00\n\n[\u9898\u76ee\u4f20\u9001\u95e8\uff01](https://www.luogu.com.cn/problem/P3701)\n\n[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c\uff1f](https://www.cnblogs.com/liangbowen/p/17022736.html)\n\n\u6bd4\u8f83\u7b80\u5355\u7684\u6700\u5927\u6d41\u57fa\u7840\u5efa\u56fe\u9898\u3002\n\n\u5982\u679c\u8ba4\u4e3a\u601d\u8def\u90e8\u5206\u8fc7\u4e8e\u590d\u6742\uff0c\u53ef\u4ee5\u76f4\u63a5\u770b\u56fe\u3002![](//\u56fe.tk/3)\n\n## \u601d\u8def\n\n\u4ee5\u4e0b\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u628a byx \u79f0\u4f5c A\uff0c\u628a\u8bd7\u4e43\u9171\u79f0\u4f5c B\u3002\n\n\u9996\u5148\u53d1\u73b0\uff0c\u4eba\u7269\u7684\u552f\u4e00\u9650\u5236\u5c31\u662f\u5bff\u547d\u3002\u6211\u4eec\u76f4\u63a5\u4ee5\u6b64\u6765\u5efa\u7f51\u7edc\u5373\u53ef\u3002\n\n\u6ce8\u610f\u5230\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u9650\u5236\uff1a\n\n> \u5f53 J \u7684\u5bff\u547d\u4e3a $0$ \u65f6\uff0c\u540c\u4e00\u68f5\u6811\u4e0a\u7684 YYY \u53ef\u4ee5\u4e3a\u4ed6\u5ef6\u957f\u4e00\u79d2\u7684\u5bff\u547d\u3002\n\n\u8fd9\u8bf4\u660e\uff0cYYY \u7684\u5bff\u547d**\u53ef\u80fd\u4e0d\u662f\u4ed6\u7684\u521d\u59cb\u5bff\u547d**\u3002\u6211\u4eec\u53ef\u4ee5\u8bb0\u5f55\u4e00\u4e0b\u53cc\u65b9\u5404\u6709\u51e0\u4e2a J\u3002\n\n\u5047\u8bbe A \u6709 $cnt$ \u4e2a J\uff0c\u90a3\u4e48 YYY \u7684\u5bff\u547d\u5c31\u662f $w + cnt$\u3002B \u65b9\u540c\u7406\u3002\n\n\u90a3\u4e48\u6211\u4eec\u73b0\u5728\u5f97\u5230\u4e86\u6240\u6709\u4eba\u771f\u5b9e\u7684\u5bff\u547d\uff0c\u6240\u4ee5\uff1a\n\n+ \u4ece\u6e90\u70b9\u5411\u6bcf\u4e2a A \u7684\u4eba\u8fde\u8fb9\uff0c\u6d41\u91cf\u662f\u4eba\u7269\u7684\u5bff\u547d\u3002\n+ \u4ece\u6bcf\u4e2a B \u7684\u4eba\u5411\u6c47\u70b9\u8fde\u8fb9\uff0c\u6d41\u91cf\u662f\u4eba\u7269\u7684\u5bff\u547d\u3002\n\n---\n\n\u4eba\u7269\u4e0e\u4eba\u7269\u4e4b\u95f4\u6709\u514b\u5236\u5173\u7cfb\uff0c\u6211\u4eec\u4ee5\u6b64\u4e3a\u4f9d\u636e\u5efa\u7acb A \u4e0e B \u4eba\u7269\u4e4b\u95f4\u7684\u7f51\u7edc\u3002\n\n\u8fd9\u4e2a\u5c31\u7b80\u5355\u4e86\uff1a\u5982\u679c $a_i$ \u514b\u5236 $b_j$\uff0c\u5efa\u7acb $i \\to j$ \u7684\u6d41\u91cf\u4e3a $1$ \u7684\u8fb9\u5373\u53ef\uff0c\u6b64\u5904\u7684 $1$ \u7684\u610f\u4e49\u662f\uff0c\u83b7\u80dc\u7684\u6bd4\u8d5b\u6570\u91cf\u3002\n\n\u7136\u540e\u518d\u4e0a\u4e00\u4e2a Dinic \u677f\u5b50\u5373\u53ef\u3002\n\n**\u6ce8\u610f\uff0c\u6700\u540e\u7684\u7b54\u6848\u8981\u4e0e $m$ \u53d6\u4e00\u4e2a $\\min$\uff01**\n\n## \u5efa\u56fe\n\n\u6709\u4e00\u8bf4\u4e00\uff0c\u770b\u4e00\u773c\u8fd9\u4e2a\u56fe\u5c31\u61c2\u4e86\u554a\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/08x5121z.png)\n\n## \u4ee3\u7801\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <queue>\n#include <cstring>\nusing namespace std;\nconst int N = 205;\nstruct Edge {int now, nxt, w;} e[N * 2 + N * N];\nint head[N], _head[N], cur = 1;\nvoid add(int u, int v, int w)\n{\n    e[++cur].now = v, e[cur].nxt = head[u], e[cur].w = w;\n    head[u] = cur;\n}\nvoid ADD(int u, int v, int w) {add(u, v, w), add(v, u, 0);}\nint s, t;\nbool vis[N]; int dis[N];\nbool bfs()\n{\n    queue <int> q;\n    memset(vis, false, sizeof vis);\n    q.push(s), vis[s] = true, dis[s] = 0, _head[s] = head[s];\n    while (!q.empty())\n    {\n        int u = q.front(); q.pop();\n        for (int i = head[u]; i; i = e[i].nxt)\n        {\n            int v = e[i].now;\n            if (vis[v] || !e[i].w) continue;\n            vis[v] = true, dis[v] = dis[u] + 1, _head[v] = head[v];\n            if (v == t) return true;\n            q.push(v);\n        }\n    }\n    return false;\n}\nint dfs(int u, int maxflow)\n{\n    if (u == t) return maxflow;\n    int flow = 0;\n    for (int i = _head[u]; i && flow < maxflow; i = e[i].nxt)\n    {\n        _head[u] = i;\n        int v = e[i].now;\n        if (dis[v] != dis[u] + 1 || !e[i].w) continue;\n        int ww = dfs(v, min(maxflow - flow, e[i].w));\n        if (ww == 0) dis[v] = -114514;\n        e[i].w -= ww, e[i ^ 1].w += ww, flow += ww;\n    }\n    return flow;\n}\nint dinic()\n{\n    int ans = 0, flow;\n    while (bfs())\n        while (flow = dfs(s, 2147483647))\n            ans += flow;\n    return ans;\n}\n\nconst bool dict[5][5] = { //\u514b\u5236\u5173\u7cfb\n    0, 1, 1, 0, 0,\n    0, 0, 1, 1, 0, \n    0, 0, 0, 1, 1, \n    1, 0, 0, 0, 1, \n    1, 1, 0, 0, 0\n};\nint read() //\u4e3a\u4e86\u65b9\u4fbf\u628a\u4eba\u7269\u8f6c\u5316\u4e3a\u6570\u5b57\n{\n    string s;\n    cin >> s;\n    if (s == \"J\") return 0;\n    if (s == \"HK\") return 1;\n    if (s == \"W\") return 2;\n    if (s == \"E\") return 3;\n    if (s == \"YYY\") return 4;\n}\nint a[N], b[N];\n\nint main()\n{\n    ios::sync_with_stdio(false);\n    int n, m, cnta = 0, cntb = 0;\n    cin >> n >> m;\n    s = 0, t = 2 * n + 1;\n    for (int i = 1; i <= n; i++)\n    {\n        a[i] = read();\n        if (a[i] == 4) cnta++; //\u7edf\u8ba1YYY\u7684\u4e2a\u6570\n    }\n    for (int i = 1; i <= n; i++)\n    {\n        b[i] = read();\n        if (b[i] == 4) cntb++; //\u7edf\u8ba1YYY\u7684\u4e2a\u6570\n    }\n    for (int i = 1; i <= n; i++)\n    {\n        int w;\n        cin >> w;\n        if (a[i] == 0) w += cnta; //\u6bcf\u4e00\u4e2aYYY\u90fd\u53ef\u4ee5\u7ed9J\u7eed\u547d\n        ADD(s, i, w);\n    }\n    for (int i = 1; i <= n; i++)\n    {\n        int w;\n        cin >> w;\n        if (b[i] == 0) w += cntb; //\u6bcf\u4e00\u4e2aYYY\u90fd\u53ef\u4ee5\u7ed9J\u7eed\u547d\n        ADD(i + n, t, w);\n    }    \n    for (int i = 1; i <= n; i++)\n        for (int j = 1; j <= n; j++)\n            if (dict[a[i]][b[j]]) //\u6839\u636e\u514b\u5236\u5173\u7cfb\u5efa\u8fb9\n                ADD(i, j + n, 1);\n    cout << min(dinic(), m);\n    return 0;\n}\n```\n\n\u5e0c\u671b\u80fd\u5e2e\u52a9\u5230\u5927\u5bb6\uff01",
        "postTime": 1672737824,
        "uid": 367488,
        "name": "liangbowen",
        "ccfLevel": 0,
        "title": "P3701 \u9898\u89e3"
    },
    {
        "content": "## \u601d\u8def\n\n\u770b\u9898\u53ef\u5f97\u51fa\u8fd9\u9053\u9898\u662f\u6700\u5927\u6d41\uff0c\u4e8e\u662f\u5f00\u59cb\u601d\u8003\u5982\u4f55\u6784\u56fe \u3002\n\n\u5148\u5efa\u7acb\u6e90\u70b9 $S$ \u548c\u6c47\u70b9 $T$\u3002\n\n\u5c06\u6bcf\u4e2abyx\u7684\u4eba\u4e0e\u6e90\u70b9\u8fde\u4e00\u6761\u5bb9\u91cf\u4e3a\u5bff\u547d\u7684\u8fb9\u3002\n\n\u518d\u5c06\u6bcf\u4e2a\u8bd7\u4e43\u9171\u7684\u4eba\u4e0e\u6c47\u70b9\u8fde\u4e00\u6761\u8fb9\uff0c\u5bb9\u91cf\u4e5f\u4e3a\u5bff\u547d\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u9b54\u6cd5\u5e08 $(?)$ \u76f4\u63a5\u7ed9\u5176\u5bf9\u5e94\u7684\u4e3b\u4eba\u589e\u52a0 $1s$ \u7684\u5bff\u547d\u3002\n\n\u5982\u679c $byx$ \u7684\u4e00\u4e2a\u4eba\u53ef\u4ee5\u8d62\u8bd7\u4e43\u9171\u7684\u4e00\u4e2a\u4eba\uff0c\u90a3\u4e48\u8fde\u4e0a\u4e00\u6761\u5bb9\u91cf\u4e3a $1$ \u7684\u8fb9\u3002\n\n\u6700\u597d\u63d0\u524d\u628a\u5404\u4e2a\u4eba\u7684\u76f8\u4e92\u6bd4\u8d5b\u7684\u8f93\u8d62\u60c5\u51b5~~\u6253\u8868~~\u9884\u5904\u7406\u3002\n\n\u63a5\u7740\u5c31\u53ef\u4ee5\u6109\u5feb\u7684\u5957\u677f\u5b50\u4e86\u3002\n\n## Code\n```cpp\n#include<stdio.h>\n#include<string.h>\n#include<queue>\nconst int inf=0x3f3f3f3f,N=1005,M=10005;\nbool g[6][6]={\n{0,0,0,0,0,0},\n{0,0,1,1,0,0},\n{0,0,0,0,1,1},\n{0,0,1,0,0,1},\n{0,1,0,1,0,0},\n{0,1,0,0,1,0}};\nstruct edge{int x,y,c,pre,other;}a[M];int len,last[N],h[N],st,ed,A[N],B[N];\nvoid ins(int x,int y,int c){\n\ta[++len]=edge{x,y,c,last[x],len+1};last[x]=len;\n\ta[++len]=edge{y,x,0,last[y],len-1};last[y]=len;\n}\nint read(){\n\tint x=0;char c=getchar();\n\twhile(c<'0'||c>'9')c=getchar();\n\twhile(c>='0'&&c<='9')x=(x<<1)+(x<<3)+(c^48),c=getchar();\n\treturn x;\n}\nbool bh(){\n\tmemset(h,0,sizeof(h));h[st]=1;\n\tstd::queue<int>q;q.push(st);\n\twhile(!q.empty()){\n\t\tint x=q.front();\n\t\tfor(int k=last[x];k;k=a[k].pre){\n\t\t\tint y=a[k].y;\n\t\t\tif(h[y]==0&&a[k].c>0){\n\t\t\t\th[y]=h[x]+1;\n\t\t\t\tq.push(y);\n\t\t\t}\n\t\t}\n\t\tq.pop();\n\t}\n\treturn h[ed]>0;\n}\ninline int min(int x,int y){return x<y?x:y;}\nint findflow(int x,int f){\n\tif(x==ed)return f;\n\tint sx=0;\n\tfor(int k=last[x];k;k=a[k].pre){\n\t\tint y=a[k].y;\n\t\tif(a[k].c>0&&sx<f&&h[y]==h[x]+1){\n\t\t\tint sy=findflow(y,min(a[k].c,f-sx));\n\t\t\ta[k].c-=sy;a[a[k].other].c+=sy;\n\t\t\tsx+=sy;\n\t\t}\n\t}\n\tif(sx==0)h[x]=0;\n\treturn sx;\n}\nint main(){\n\tint n=read(),m=read(),hpA=0,hpB=0;\n\tchar str[5];st=n<<1|1;ed=st+1;\n\tfor(int i=1;i<=n;++i){\n\t\tscanf(\"%s\",str);\n\t\tif(str[0]=='J')A[i]=1;\n\t\telse if(str[0]=='W')A[i]=2;\n\t\telse if(str[0]=='H')A[i]=3;\n\t\telse if(str[0]=='Y')A[i]=4,++hpA;\n\t\telse A[i]=5;\n\t}\n\tfor(int i=1;i<=n;++i){\n\t\tscanf(\"%s\",str);\n\t\tif(str[0]=='J')B[i]=1;\n\t\telse if(str[0]=='W')B[i]=2;\n\t\telse if(str[0]=='H')B[i]=3;\n\t\telse if(str[0]=='Y')B[i]=4,++hpB;\n\t\telse B[i]=5;\n\t}\n\tfor(int i=1;i<=n;++i)\n\t\tfor(int j=1;j<=n;++j)\n\t\t\tif(g[A[i]][B[j]])\n\t\t\t\tins(i,n+j,1);\n\tfor(int i=1;i<=n;++i){\n\t\tint x=read();\n\t\tif(A[i]==1)x+=hpA;\n\t\tins(st,i,x);\n\t}\n\tfor(int i=1;i<=n;++i){\n\t\tint x=read();\n\t\tif(B[i]==1)x+=hpB;\n\t\tins(n+i,ed,x);\n\t}\n\tint s=0;while(bh())s+=findflow(st,inf);\n\tprintf(\"%d\\n\",min(m,s));\n}\n```",
        "postTime": 1666057534,
        "uid": 573096,
        "name": "splendore",
        "ccfLevel": 5,
        "title": "P3701\u4e3b\u4e3b\u6811\u9898\u89e3"
    },
    {
        "content": "\u53ef\u60dc\u4e0d\u662f\u57280**7\u90a3\u4e00\u5929\u505a\u5230\u8fd9\u9898\n\n\u3010\u6bd5\u7adf\u90a3\u4e2a\u65f6\u5019\u8fd8\u4e0d\u4f1a\u7f51\u7edc\u6d415555\u3011\n\n\u672c\u6765\u770b\u5230\u9898\u76ee\u6ca1\u60f3\u5230\u662f\u7f51\u7edc\u6d41\uff0c\u4f46\u662f\u697c\u4e0adalao\u7684\u9898\u89e3\u8bf4\u201c\u9898\u76ee\u91cc\u5230\u5904\u90fd\u5728\u6697\u793a\u7f51\u7edc\u6d41\u201d\uff0c\u4e8e\u662f\u7ffb\u56de\u53bb\u4e00\u770b\u2026\u2026\n\n`\u7bad\u5934\u6307\u5411\u8f93\u7684\u4eba\u3002\u81f3\u4e8e\u4e3a\u4ec0\u4e48\uff0c\u7559\u7ed9\u540c\u5b66\u4eec\u81ea\u5df1\u601d\u8003\u3002`\n\n\u597d\u561b\uff0c\u8fd9\u5df2\u7ecf\u662f\u660e\u793a\u7f51\u7edc\u6d41\u4e86\u2026\u2026\n\n\u4e8e\u662f\u6765\u5efa\u6a21\u5427~\n\n\u8bbe\u7acb\u8d85\u7ea7\u6e90\u70b9$S$\u4e3a0\uff0c\u4ee3\u8868$byx$\uff0c\u8bbe\u7acb\u8d85\u7ea7\u6c47\u70b9$T$\u4e3a$n*2+1$\uff0c\u4ee3\u8868\u624b\u6c14\u541b\n\n\u9996\u5148\u5206\u522b\u8ba1\u7b97\u4e24\u4eba\u624b\u4e2d\u819c\u6cd5\u5e08\u7684\u4e2a\u6570$sum$\uff0c\u5e76\u7ed9\u4e24\u4eba\u7684\u4e3b\u5e2d\u52a0\u4e0a\u76f8\u5e94\u7684\u751f\u547d\n\n\uff08\u4f46\u662f\u6211\u5bf9\u819c\u86e4\u6587\u5316\u4e86\u89e3\u751a\u5c11\u554a\uff0c\u4e3a\u4ec0\u4e48\u5404\u4f4ddalao\u8bf4\u8981-1s\u554a233\uff09\n\n\u5bf9\u4e8e$byx$\u7684\u6bcf\u4e2a\u4eba\uff0c\u4ece$byx$\u8fde\u5411\u8fd9\u4e2a\u4eba\uff0c\u5bb9\u91cf\u4e3a\u8be5\u4eba\u7684\u751f\u547d\uff0c\u4ee3\u8868\u8fd9\u4e2a\u4eba\u53ea\u80fd\u88ab$byx$\u4f7f\u7528**\u751f\u547d**\u6b21\n\n\u5bf9\u4e8e**\u624b\u6c14\u541b**\u7684\u6bcf\u4e2a\u4eba\uff0c\u4ece\u8fd9\u4e2a\u4eba\u8fde\u5411**\u624b\u6c14\u541b**\uff0c\u5bb9\u91cf\u4e5f\u4e3a\u8be5\u4eba\u7684\u751f\u547d\uff0c\u4ee3\u8868\u8fd9\u4e2a\u4eba\u53ea\u80fd\u88ab**\u624b\u6c14\u541b**\u4f7f\u7528**\u751f\u547d**\u6b21\n\n\u7136\u540e\u679a\u4e3e$byx$\u548c**\u624b\u6c14\u541b**\u7684\u6bcf\u4e2a\u4eba\uff0c\u5982\u679c$byx$\u80fd\u8d62**\u624b\u6c14\u541b**\uff0c\u90a3\u4e48\u5c31\u4ece$byx$\u7684\u4eba\u8fde\u5411**\u624b\u6c14\u541b**\u7684\u4eba\uff0c\u8fb9\u6743\u4e3a$1$\uff0c\u4ee3\u8868$byx$\u7684\u8fd9\u4e2a\u4eba\u80fd\u591f\u5e26\u6765$1$\u7684\u8d21\u732e\uff08\u5c31\u662f\u591a\u6d41$1$\u7684\u6c34\uff0c\u611f\u6027\u7406\u89e3\u4e00\u4e0b\uff09\n\n\u7136\u540e\u8dd1\u4e00\u904d$Dinic$\u5373\u53ef\n\n\u4e0d\u8fc7\u8981\u6ce8\u610f\u7684\u662f\uff0c\u6e38\u620f\u6700\u591a\u8fdb\u884c$m$\u573a\uff0c\u6240\u4ee5\u5f53\u7b54\u6848\u5927\u4e8e$m$\u65f6\uff0c\u8981\u8f93\u51fa$m$\uff0c\u800c\u4e0d\u662f$ans$\n\n\u89c1\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\n#define inf 1010580540\nusing namespace std;\nqueue <int> q;\nint cnt=1,fst[305],nxt[200005],to[200005],w[200005],cur[305];\nint n,m,S,T,dep[305],a[105],b[105],amo,bmo;\nstring as[105],bs[105];\nvoid AddEdge(int u,int v,int c)\n{\n\tto[++cnt]=v;\n\tnxt[cnt]=fst[u];\n\tfst[u]=cnt;\n\tw[cnt]=c;\n}\nbool Bfs()\n{\n\tmemset(dep,0,sizeof(dep));\n\tq.push(S);\n\tdep[S]=1;\n\twhile(!q.empty())\n\t{\n\t\tint u=q.front();\n\t\tq.pop();\n\t\tfor(int i=fst[u];i;i=nxt[i])\n\t\t{\n\t\t\tint v=to[i];\n\t\t\tif(!dep[v] && w[i])\n\t\t\t{\n\t\t\t\tdep[v]=dep[u]+1;\n\t\t\t\tq.push(v);\n\t\t\t}\n\t\t}\n\t}\n\treturn dep[T];\n}\nint Dfs(int u,int flow)\n{\n\tif(u==T || !flow) return flow;\n\tint used=0;\n\tfor(int i=cur[u];i;i=nxt[i])\n\t{\n\t\tcur[u]=i;\n\t\tint v=to[i];\n\t\tif(dep[v]==dep[u]+1 && w[i])\n\t\t{\n\t\t\tint fl=Dfs(v,min(flow,w[i]));\n\t\t\tif(fl)\n\t\t\t{\n\t\t\t\tused+=fl;\n\t\t\t\tflow-=fl;\n\t\t\t\tw[i]-=fl;\n\t\t\t\tw[i^1]+=fl;\n\t\t\t\tif(!flow) break;\n\t\t\t}\n\t\t}\n\t}\n\treturn used;\n}\nint Dinic()//\u5f27\u4f18\u5316Dinic\uff0c\u4e0d\u8c08\n{\n\tint sum=0;\n\twhile(Bfs())\n\t{\n\t\tmemcpy(cur,fst,sizeof(fst));\n\t\tsum+=Dfs(S,inf);\n\t}\n\treturn sum;\n}\nint main()\n{\n\tscanf(\"%d %d\",&n,&m);\n\tS=0;\n\tT=n*2+1;//\u5efa\u7acb\u8d85\u7ea7\u6e90\u70b9\u548c\u6c47\u70b9\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin >> as[i];\n\t\tif(as[i]==\"YYY\") amo++;//\u8ba1\u7b97byx\u7684\u819c\u6cd5\u5e08\u4e2a\u6570\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin >> bs[i];\n\t\tif(bs[i]==\"YYY\") bmo++;//\u8ba1\u7b97\u624b\u6c14\u541b\u7684\u819c\u6cd5\u5e08\u4e2a\u6570\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d\",&a[i]);\n\t\tif(as[i]==\"J\") a[i]+=amo;//\u7ed9byx\u7684\u4e3b\u5e2d\u52a0\u4e0a\u751f\u547d\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d\",&b[i]);\n\t\tif(bs[i]==\"J\") b[i]+=bmo;//\u7ed9\u624b\u6c14\u541b\u7684\u4e3b\u5e2d\u52a0\u4e0a\u751f\u547d\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tAddEdge(S,i,a[i]);\n\t\tAddEdge(i,S,0);//\u4ecebyx\u7684\u4eba\u5411byx\u8fde\u8fb9\uff0c\u4ee3\u8868\u4f7f\u7528\u6b21\u6570\n\t}\n\tfor(int i=n+1;i<=n*2;i++)\n\t{\n\t\tAddEdge(i,T,b[i-n]);\n\t\tAddEdge(T,i,0);//\u4ece\u624b\u6c14\u541b\u7684\u724c\u5411\u624b\u6c14\u541b\u8fde\u8fb9\uff0c\u4ee3\u8868\u4f7f\u7528\u6b21\u6570\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tif(as[i]==\"J\" && (bs[j]==\"W\" || bs[j]==\"HK\"))\n\t\t\t{\n\t\t\t\tAddEdge(i,j+n,1);\n\t\t\t\tAddEdge(j+n,i,0);\n\t\t\t}\n\t\t\telse if(as[i]==\"E\" && (bs[j]==\"J\" || bs[j]==\"YYY\"))\n\t\t\t{\n\t\t\t\tAddEdge(i,j+n,1);\n\t\t\t\tAddEdge(j+n,i,0);\n\t\t\t}\n\t\t\telse if(as[i]==\"YYY\" && (bs[j]==\"J\" || bs[j]==\"HK\"))\n\t\t\t{\n\t\t\t\tAddEdge(i,j+n,1);\n\t\t\t\tAddEdge(j+n,i,0);\n\t\t\t}\n\t\t\telse if(as[i]==\"HK\" && (bs[j]==\"W\" || bs[j]==\"E\"))\n\t\t\t{\n\t\t\t\tAddEdge(i,j+n,1);\n\t\t\t\tAddEdge(j+n,i,0);\n\t\t\t}\n\t\t\telse if(as[i]==\"W\" && (bs[j]==\"YYY\" || bs[j]==\"E\"))\n\t\t\t{\n\t\t\t\tAddEdge(i,j+n,1);\n\t\t\t\tAddEdge(j+n,i,0);\n\t\t\t}//\u5982\u679c\u80fd\u8d62\u5c31\u5206\u522b\u8fde\u8fb9\uff0c\u4ee3\u8868\u5bf9\u7b54\u6848\u8d21\u732e\u4e3a1\n\t\t}\n\t}\n\tint ans=Dinic();//\u8dd1Dinic\u6c42\u89e3\n\tprintf(\"%d\\n\",ans>m?m:ans);//\u5224\u65ad\u662f\u5426\u5927\u4e8em\n\treturn 0;\n}\n```",
        "postTime": 1542850659,
        "uid": 23243,
        "name": "VenusM1nT",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3701 \u3010\u300c\u4f2a\u6a21\u677f\u300d\u4e3b\u5e2d\u6811\u3011"
    },
    {
        "content": "\u7f51\u7edc\u6d41\u7ecf\u5178\u9898\u3002\n\n\u7531\u4e8e\u6bcf\u4e2a YYY \u80fd\u7ed9 J \u63d0\u4f9b $1$ \u70b9\u751f\u547d\uff0c\u6240\u4ee5\u6211\u4eec\u628a J \u7684\u751f\u547d\u589e\u52a0\u5bf9\u5e94\u7684 YYY \u7684\u6570\u91cf\u3002\n\n\u7136\u540e\u6211\u4eec\u5efa\u7acb\u6e90\u70b9\u548c\u6c47\u70b9\uff0c\u6e90\u70b9\u5411\u6bcf\u4e2a byx \u7684\u4eba\u8fde\u8fb9\uff0c\u5bb9\u91cf\u4e3a\u8fd9\u4e2a\u4eba\u7684\u751f\u547d\u3002\u6bcf\u4e2a\u8bd7\u4e43\u9171\u7684\u4eba\u5411\u6c47\u70b9\u8fde\u8fb9\uff0c\u5bb9\u91cf\u4e5f\u4e3a\u8fd9\u4e2a\u4eba\u7684\u751f\u547d\uff0c\u8868\u793a\u8fd9\u4e2a\u4eba\u80fd\u591f\u6bd4\u8d5b\u8fd9\u4e2a\u4eba\u7684\u751f\u547d\u6b21\u3002\n\n\u7136\u540e\u679a\u4e3e\u6bcf\u4e2a byx \u7684\u4eba\u548c\u8bd7\u4e43\u9171\u7684\u4eba\uff0c\u5982\u679c byx \u80fd\u8d62\uff0c\u6211\u4eec\u5c31\u8ba9 byx \u7684\u4eba\u5230\u8bd7\u4e43\u9171\u7684\u4eba\u4e4b\u95f4\u8fde\u4e00\u6761\u8fb9\u6743\u4e3a $1$ \u7684\u8fb9\uff0c\u8868\u793a\u5bf9\u7b54\u6848\u6709 $1$ \u7684\u8d21\u732e\u3002\n\n\u7136\u540e\u8dd1\u4e00\u8fb9 dinic \uff0c\u7136\u540e\u518d\u548c $m$ \u53d6 $\\min$ \u5373\u4e3a\u7b54\u6848\u3002\n\n\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define N 201001\n#define MAX 2001\n#define re register\n#define inf 1e18\nusing namespace std;\ntypedef long long ll;\ntypedef double db;\ninline void read(re ll &ret)\n{\n\tret=0;re char c=getchar();re bool pd=false;\n\twhile(!isdigit(c)){pd|=c=='-';c=getchar();}\n\twhile(isdigit(c)){ret=(ret<<1)+(ret<<3)+(c&15);c=getchar();}\n\tret=pd?-ret:ret;\n\treturn;\n}\nll n,m,sum1,sum2,s,t,a[N],b[N],lx[N];\nchar ss[2][N][10];\nll win[5][5]=\n{\n\t0,1,1,-1,-1,\n\t-1,0,1,-1,1,\n\t-1,-1,0,1,1,\n\t1,1,-1,0,-1,\n\t1,-1,-1,1,0\n};\nstruct node\n{\n\tll from,to,dis,nxt;\n}e[N];\nll head[N],now[N],dep[N],cnt=-1;\ninline void add(re ll u,re ll v,re ll d)\n{\n\te[++cnt].from=u;\n\te[cnt].to=v;\n\te[cnt].dis=d;\n\te[cnt].nxt=head[u];\n\thead[u]=cnt;\n\treturn;\n}\nqueue<ll>q;\ninline bool bfs()\n{\n\tmemset(dep,0,(t+1)*sizeof(ll));\n\tdep[s]=1;\n\tq.push(s);\n\twhile(!q.empty())\n\t{\n\t\tre ll ver=q.front();\n\t\tq.pop();\n\t\tnow[ver]=head[ver];\n\t\tfor(re int i=head[ver];i!=-1;i=e[i].nxt)\n\t\t{\n\t\t\tif(!dep[e[i].to]&&e[i].dis)\n\t\t\t{\n\t\t\t\tdep[e[i].to]=dep[ver]+1;\n\t\t\t\tq.push(e[i].to);\n\t\t\t}\n\t\t}\n\t}\n\treturn dep[t];\n}\ninline ll dfs(re ll ver,re ll lim)\n{\n\tif(ver==t)\n\t\treturn lim;\n\tre ll out=0;\n\tfor(re ll i=now[ver];i!=-1;i=e[i].nxt)\n\t{\n\t\tnow[ver]=i;\n\t\tif(e[i].dis&&dep[e[i].to]==dep[ver]+1&&lim)\n\t\t{\n\t\t\tre ll tmp=dfs(e[i].to,min(lim,e[i].dis));\n\t\t\tlim-=tmp;\n\t\t\tout+=tmp;\n\t\t\te[i].dis-=tmp;\n\t\t\te[i^1].dis+=tmp;\n\t\t}\n\t}\n\tif(!out)\n\t\tdep[ver]=0;\n\treturn out;\n}\ninline ll dinic(re ll s,re ll t)\n{\n\tre ll ret=0;\n\twhile(bfs())\n\t\tret+=dfs(s,inf);\n\treturn ret; \n}\nsigned main()\n{\n\tmemset(head,-1,sizeof(head));\n\tread(n);\n\tread(m);\n\tt=(n<<1)+1;\n\tfor(re int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%s\",ss[0][i]+1);\n\t\tsum1+=(ss[0][i][1]=='Y');\n\t\tswitch(ss[0][i][1])\n\t\t{\n\t\t\tcase 'J':lx[i]=0;break;\n\t\t\tcase 'H':lx[i]=1;break;\n\t\t\tcase 'W':lx[i]=2;break;\n\t\t\tcase 'Y':lx[i]=3;break;\n\t\t\tdefault :lx[i]=4;break;\n\t\t}\n\t}\n\tfor(re int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%s\",ss[1][i]+1);\n\t\tsum2+=(ss[1][i][1]=='Y');\n\t\tswitch(ss[1][i][1])\n\t\t{\n\t\t\tcase 'J':lx[i+n]=0;break;\n\t\t\tcase 'H':lx[i+n]=1;break;\n\t\t\tcase 'W':lx[i+n]=2;break;\n\t\t\tcase 'Y':lx[i+n]=3;break;\n\t\t\tdefault :lx[i+n]=4;break;\n\t\t}\n\t}\n\tfor(re int i=1;i<=n;i++)\n\t{\n\t\tread(a[i]);\n\t\tif(!lx[i])\n\t\t\ta[i]+=sum1;\n\t}\n\tfor(re int i=1;i<=n;i++)\n\t{\n\t\tread(b[i]);\n\t\tif(!lx[i+n])\n\t\t\tb[i]+=sum2;\n\t}\n\tfor(re int i=1;i<=n;i++)\n\t{\n\t\tadd(s,i,a[i]);\n\t\tadd(i,s,0);\n\t\tadd(i+n,t,b[i]);\n\t\tadd(t,i+n,0);\n\t}\n\tfor(re int i=1;i<=n;i++)\n\t{\n\t\tfor(re int j=n+1;j<=(n<<1);j++)\n\t\t{\n\t\t\tif(win[lx[i]][lx[j]]==1)\n\t\t\t{\n\t\t\t\tadd(i,j,1);\n\t\t\t\tadd(j,i,0);\n\t\t\t}\n\t\t}\n\t}\n\tn<<=1;\n\tprintf(\"%lld\\n\",min(dinic(s,t),m));\n\texit(0);\n}\n```\n",
        "postTime": 1611196638,
        "uid": 176990,
        "name": "Celtic",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P3701 \u3010\u300c\u4f2a\u6a21\u677f\u300d\u4e3b\u5e2d\u6811\u3011"
    },
    {
        "content": "\u5efa\u6a21\u7684\u65b9\u6cd5\uff0c\u697c\u4e0a\u8bf4\u5f97\u5f88\u6e05\u695a\u5566\u3002\n\n\u6211\u5c31\u662f\u6765\u4e00\u6ce2\u6307\u9488\u90bb\u63a5\u8868\u7684\u5199\u6cd5\u3002\n\n\u8981\u6ce8\u610f\u4e00\u70b9\uff0c\u6307\u9488\u90bb\u63a5\u8868\u5b58\u56fe\uff0c\u53cd\u5411\u8fb9\u4e0d\u80fd\u901a\u8fc7\u6570\u7ec4\u4e0b\u6807\u6765\u8bbf\u95eeqwq\u3002\n\n\u8981\u5728\u8fb9\u7684\u7ed3\u6784\u4f53\u4e2d\u624b\u52a8\u8bb0\u5f55\u53cd\u5411\u8fb9\u6307\u9488\u3002\n\n\uff08\u4e2a\u4eba\u8ba4\u4e3a\uff0c\u8fd9\u6837\u6bd4\u4ec0\u4e48 `i^1` \u6216\u8005 `((i-1)^1)+1` \u8fd9\u79cd\u86c7\u76ae\u64cd\u4f5c\u65b9\u4fbf\u591a\u4e86qwq\uff01\uff09\n\n\u76ee\u524d\u89c1\u8fc7\u7684\u6307\u9488\u90bb\u63a5\u8868\u9009\u624b\u4e0d\u662f\u5f88\u591a\u5440\u3002\n\n\u601d\u8def\u4e0a\u6ca1\u4ec0\u4e48\uff0c\u5e0c\u671b\u80fd\u7ed9\u6307\u9488\u90bb\u63a5\u8868\u9009\u624b\u63d0\u4f9b\u501f\u9274\u5427qwq\u3002\n\n[\u90a3\u4e2a\u2026\u5e7f\u544a\u4ec0\u4e48\u7684\u2026\u6b22\u8fce\u8bbf\u95ee\u6211\u7684\u535a\u5ba2qwq\u3002](https://www.cnblogs.com/Capella/p/9069178.html)\n```cpp\n#include <algorithm>\n#include <cstdio>\n#include <cstring>\n#include <queue>\nusing std::min;\nusing std::queue;\nconst int MAXN=210,INF=0x3f3f3f3f;\nint n,m,S,T,win[5][5]={\t{0\t,1\t,1\t,-1\t,-1\t},\n\t\t\t\t\t\t{-1\t,0\t,1\t,1\t,-1\t},\n\t\t\t\t\t\t{-1\t,-1\t,0\t,1\t,1\t},\n\t\t\t\t\t\t{1\t,-1\t,-1\t,0\t,1\t},\n\t\t\t\t\t\t{1\t,1\t,-1\t,-1\t,0\t}};\nstruct Edge\n{\n\tint to,w;\n\tEdge *nxt,*back;\n\tEdge(int to=0,int w=0,Edge* nxt=nullptr):to(to),w(w),nxt(nxt),back(nullptr){}\n\t~Edge(void)\n\t{\n\t\tif(nxt!=nullptr)\n\t\t\tdelete nxt;\n\t}\n}*head[MAXN];\nvoid AddEdges(int u,int v,int w)\n{\n\thead[u]=new Edge(v,w,head[u]);\n\thead[v]=new Edge(u,0,head[v]);\n\thead[u]->back=head[v];\n\thead[v]->back=head[u];\n}\nint Number(char *s)\n{\n\tif(s[0]=='J')\n\t\treturn 0;\n\telse if(s[0]=='H')\n\t\treturn 1;\n\telse if(s[0]=='W')\n\t\treturn 2;\n\telse if(s[0]=='E')\n\t\treturn 3;\n\telse if(s[0]=='Y')\n\t\treturn 4;\n}\nvoid InitTree(int *a)\n{\n\tchar s[5];\n\tfor(int i=1;i<=n;++i)\n\t{\n\t\tscanf(\" %s\",s);\n\t\ta[i]=Number(s);\n\t\tif(a[i]==4)\n\t\t\t++a[0];\n\t}\n}\nvoid Init(void)\n{\n\tstatic int a[MAXN],b[MAXN];\n\tT=(n<<1)+1;\n\tInitTree(a);\n\tInitTree(b);\n\tfor(int i=1;i<=n;++i)\n\t\thead[i]=nullptr;\n\tfor(int i=1,x;i<=n;++i)\n\t{\n\t\tscanf(\"%d\",&x);\n\t\tAddEdges(S,i,!a[i] ? x+a[0] : x);\n\t}\n\tfor(int i=1,x;i<=n;++i)\n\t{\n\t\tscanf(\"%d\",&x);\n\t\tAddEdges(i+n,T,!b[i] ? x+b[0] : x);\n\t}\n\tfor(int i=1;i<=n;++i)\n\t\tfor(int j=1;j<=n;++j)\n\t\t\tif(win[a[i]][b[j]]==1)\n\t\t\t\tAddEdges(i,j+n,1);\n}\nvoid Destroy(void)\n{\n\tfor(int i=S;i^T;++i)\n\t\tdelete head[i];\n}\nnamespace Procyon\n{\n\tint dis[MAXN];\n\tEdge *cur[MAXN];\n\tbool BFS(int S,int T)\n\t{\n\t\tqueue<int> q;\n\t\tmemset(dis,0,sizeof dis);\n\t\tq.push(S);\n\t\tdis[S]=1;\n\t\twhile(!q.empty())\n\t\t{\n\t\t\tint u=q.front(),v;\n\t\t\tq.pop();\n\t\t\tfor(Edge *i=head[u];i!=nullptr;i=i->nxt)\n\t\t\t\tif(i->w && !dis[v=i->to])\n\t\t\t\t{\n\t\t\t\t\tq.push(v);\n\t\t\t\t\tdis[v]=dis[u]+1;\n\t\t\t\t}\n\t\t}\n\t\treturn dis[T];\n\t}\n\tint DFS(int u,int k)\n\t{\n\t\tif(u==T || !k)\n\t\t\treturn k;\n\t\tint v,f,sum=0;\n\t\tfor(Edge *&i=cur[u];i!=nullptr;i=i->nxt)\n\t\t\tif(i->w && dis[v=i->to]==dis[u]+1 && (f=DFS(v,min(k,i->w))))\n\t\t\t{\n\t\t\t\tk-=f;\n\t\t\t\tsum+=f;\n\t\t\t\ti->w-=f;\n\t\t\t\ti->back->w+=f;\n\t\t\t}\n\t\tif(!sum)\n\t\t\tdis[u]=1;\n\t\treturn sum;\n\t}\n\tvoid Dinic(int S,int T)\n\t{\n\t\tint ans=0;\n\t\twhile(BFS(S,T))\n\t\t{\n\t\t\tmemcpy(cur,head,sizeof head);\n\t\t\tans+=DFS(S,INF);\n\t\t}\n\t\tprintf(\"%d\\n\",min(m,ans));\n\t}\n}\nint main(int argc,char** argv)\n{\n\tscanf(\"%d %d\",&n,&m);\n\tInit();\n\tProcyon::Dinic(S,T);\n\tDestroy();\n\treturn 0;\n}\n```",
        "postTime": 1526906503,
        "uid": 35851,
        "name": "Capella",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3701 \u3010\u300c\u4f2a\u6a21\u677f\u300d\u4e3b\u5e2d\u6811\u3011"
    },
    {
        "content": "\u9898\u76ee\u4f20\u9001\u95e8\uff1a[P3701 \u4e3b\u4e3b\u6811](https://www.luogu.com.cn/problem/P3701)\u3002\n# \u601d\u8def\n\u8fd9\u9053\u9898\u4e00\u770b\u5c31\u662f\u7528**\u7f51\u7edc\u6700\u5927\u6d41**\u6765\u6c42\u89e3\u3002\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u8003\u8651\u5982\u4f55\u5efa\u56fe\u3002\n\n1. \u5efa\u7acb\u4e00\u4e2a\u8d85\u7ea7\u6e90\u70b9 $S$\uff0c$S$ \u5411 byx \u7684\u6bcf\u4e2a\u4eba\u8fde\u63a5\u6d41\u91cf\u4e3a\u4eba\u7269\u5bff\u547d\u7684\u8fb9\u3002\n2. \u5efa\u7acb\u4e00\u4e2a\u8d85\u7ea7\u6c47\u70b9 $T$\uff0c\u8bd7\u4e43\u9171\u7684\u6bcf\u4e2a\u4eba\u5411 $T$ \u8fde\u63a5\u6d41\u91cf\u4e3a\u4eba\u7269\u5bff\u547d\u7684\u8fb9\u3002\n3. \u6839\u636e\u9898\u76ee\u4e2d\u7684\u5173\u7cfb\uff0c\u5982\u679c byx \u7684\u7b2c $i$ \u4e2a\u4eba\uff0c\u53ef\u4ee5\u6253\u8d25\u8bd7\u4e43\u9171\u7684\u7b2c $j$ \u4e2a\u4eba\uff0c\u90a3\u4e48 $i$ \u548c $j$ \u8fde\u4e00\u6761\uff0c\u6d41\u91cf\u4e3a $1$ \u7684\u8fb9\u3002\n\n\u6ce8\u610f\uff1a\u7531\u4e8e\u9898\u76ee\u4e2d\u8bf4\uff0c\u5f53 J \u7684\u5bff\u547d\u4e3a $0$ \u65f6\uff0c\u540c\u4e00\u68f5\u6811\u4e0a\u7684 YYY \u53ef\u4ee5\u4e3a\u4ed6\u589e\u52a0 $1$ \u79d2\u7684\u5bff\u547d\uff0c\u56e0\u6b64 J \u7684\u5bff\u547d\u662f\u672c\u8eab\u5bff\u547d\u52a0\u4e0a YYY \u4e2a\u6570\u3002\n\n\u6700\u540e\u6211\u4eec\u7684\u7b54\u6848\u5c31\u4e3a $\\min(\\text{\u6700\u5927\u6d41},m)$\uff0c\u56e0\u4e3a\u6700\u591a\u6bd4\u8d5b $m$ \u573a\u3002\n# \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint h[1234567],e[1234567],f[1234567],nx[1234567],cur[1234567],d[1234567],cnt,s,t,n,m;\npair<string,int> bb[1234567],ss[1234567];\n#define a first\n#define b second\nvoid add(int u,int v,int w){\n\te[cnt]=v,f[cnt]=w,nx[cnt]=h[u],h[u]=cnt++;\n\te[cnt]=u,f[cnt]=0,nx[cnt]=h[v],h[v]=cnt++;\n}\nbool bfs(){\n\tfor (int i=0;i<=t;i++) d[i]=-1;\n\td[s]=0;\n\tcur[s]=h[s];\n\tqueue<int>q;\n\tq.push(s);\n\twhile(!q.empty()){\n\t\tint u=q.front();\n\t\tq.pop();\n\t\tfor (int i=h[u];~i;i=nx[i]){\n\t\t\tint v=e[i],w=f[i];\n\t\t\tif (d[v]==-1&&w){\n\t\t\t\td[v]=d[u]+1;\n\t\t\t\tcur[v]=h[v];\n\t\t\t\tif (v==t) return 1;\n\t\t\t\tq.push(v);\n\t\t\t}\n\t\t}\n\t}\n\treturn 0;\n}\nint find(int u,int limit){\n\tif (u==t) return limit;\n\tint flow=0;\n\tfor (int i=cur[u];~i&&flow<limit;i=nx[i]){\n\t\tint v=e[i],w=f[i];\n\t\tcur[u]=i;\n\t\tif (d[v]==d[u]+1&&w){\n\t\t\tint x=find(v,min(w,limit-flow));\n\t\t\tif (!x) d[v]=-1;\n\t\t\tflow+=x;\n\t\t\tf[i]-=x;\n\t\t\tf[i^1]+=x;\n\t\t}\n\t}\n\treturn flow;\n}\nint dinic(){\n\tint r=0,flow;\n\twhile(bfs())\n\t\twhile(flow=find(s,1e9)) r+=flow;\n\treturn r;\n}\nint check(string x,string y,int i,int j){\n\tif (x==\"YYY\"&&y==\"HK\") add(i,j+n,1);\n\tif (x==\"YYY\"&&y==\"J\") add(i,j+n,1);\n\tif (x==\"E\"&&y==\"YYY\") add(i,j+n,1);\n\tif (x==\"E\"&&y==\"J\") add(i,j+n,1);\n\tif (x==\"J\"&&y==\"HK\") add(i,j+n,1);\n\tif (x==\"J\"&&y==\"W\") add(i,j+n,1);\n\tif (x==\"W\"&&y==\"YYY\") add(i,j+n,1);\n\tif (x==\"W\"&&y==\"E\") add(i,j+n,1);\n\tif (x==\"HK\"&&y==\"W\") add(i,j+n,1);\n\tif (x==\"HK\"&&y==\"E\") add(i,j+n,1);\n}\nmain(){\n\tcin>>n>>m;\n\tint cntb=0,cnts=0;\n\tfor (int i=1;i<=n;i++){\n\t\tcin>>bb[i].a;\n\t\tif (bb[i].a==\"YYY\") cntb++;\n\t} \n\tfor (int i=1;i<=n;i++){\n\t\tcin>>ss[i].a;\n\t\tif (ss[i].a==\"YYY\") cnts++;\n\t} \n\tfor (int i=1;i<=n;i++){\n\t\tcin>>bb[i].b;\n\t\tif (bb[i].a==\"J\") bb[i].b+=cntb;\n\t}\n\tfor (int i=1;i<=n;i++){\n\t\tcin>>ss[i].b;\n\t\tif (ss[i].a==\"J\") ss[i].b+=cnts;\n\t}\n\ts=0,t=n+n+1;\n\tfor (int i=0;i<=t;i++) h[i]=-1;\n\tfor (int i=1;i<=n;i++) add(s,i,bb[i].b),add(i+n,t,ss[i].b);\n\tfor (int i=1;i<=n;i++)\n\t\tfor (int j=1;j<=n;j++)\n\t\t\tcheck(bb[i].a,ss[j].a,i,j);\n\tcout <<min(dinic(),m);\n    return 0;\n}\n```",
        "postTime": 1676896509,
        "uid": 658198,
        "name": "gesong",
        "ccfLevel": 4,
        "title": "P3701 \u4e3b\u4e3b\u6811 \u9898\u89e3"
    },
    {
        "content": "## \u9898\u610f\n\n\u5e94\u8be5\u90fd\u770b\u61c2\u4e86\u5427\uff01\n\n## \u601d\u8def\n\n\u9898\u76ee\u4e2d\u5728\u75af\u72c2\u6697\u793a\u672c\u9898\u9700\u8981\u7528\u6700\u5927\u6d41\uff1a\n\n- \u7b2c $i$ \u4e2a\u4eba\u5bff\u547d\u4e3a $Life_i$ \u79d2\uff0c\u6bcf\u6b21\u6bd4\u5b8c\u8d5b\u4ed6\u4eec\u5c31\u4f1a $-1s$\u3002\u5f53\u4ed6\u4eec\u751f\u547d\u4e3a $0s$ \u65f6\u4ed6\u4eec\u5c31\u4e0d\u80fd\u518d\u6bd4\u8d5b\u4e86\u3002\n\n\u663e\u7136\u53ef\u4ee5\u770b\u51fa\uff0c\u8fd9\u5c31\u662f\u6700\u5927\u6d41\uff0c\u4f46\u662f\u662f\u70b9\u6743\uff0c\u6211\u603b\u7ed3\u4e86\u6700\u5927\u6d41\u548c\u6700\u5c0f\u5272\u78b0\u5230\u70b9\u7684\u89e3\u51b3\u65b9\u6cd5\uff1a\n\n- \u6700\u5927\u6d41\uff0c\u5efa\u7acb\u8d85\u7ea7\u6e90\u70b9\u548c\u8d85\u7ea7\u6c47\u70b9\uff0c\u8fdb\u884c\u8fde\u8fb9\u3002\n\n- \u6700\u5c0f\u5272\uff0c\u628a\u4e00\u4e2a\u70b9\u62c6\u5206\u4e3a\u4e24\u4e2a\u70b9\uff0c\u5728\u4e2d\u95f4\u8fde\u4e00\u6761\u8fb9\u6743\u4e3a\u8be5\u70b9\u70b9\u6743\u7684\u8fb9\u3002\n\n\u663e\u7136\u6211\u4eec\u53ef\u4ee5\u91c7\u53d6\u5982\u4e0a\u65b9\u6cd5\uff0c\u7531\u4e8e YYY \u53ef\u4ee5\u7ed9 J \u7eed\u547d\uff0c\u6240\u4ee5\u9700\u8981\u7edf\u8ba1 YYY \u4e2a\u6570\uff0c\u7136\u540e\u52a0\u5230\u8be5 J \u7684\u751f\u547d\u503c\u4e0a\u53bb\u3002\u7136\u540e\u5c31\u662f\u6253\u6597\u5173\u7cfb\uff0c\u5c06\u56fe\u4e2d\u8d62\u7684\u4eba\u60f3\u8f93\u7684\u4eba\u8fde\u4e00\u6761\u8fb9\u6743\u4e3a $1$ \u7684\u8fb9\uff0c\u8fd9\u90fd\u662f\u6700\u5927\u6d41\u7684\u8001\u5957\u8def\u4e86\u3002\n\n\u7531\u4e8e\u6700\u591a\u8fdb\u884c $m$ \u573a\u6bd4\u8d5b\uff0c\u6240\u4ee5\u6700\u5927\u6d41\u9700\u8981\u548c $m$ \u53d6\u4e2a $\\min$\uff0c~~\u6211\u4e0d\u4f1a\u544a\u8bc9\u4f60\u6211\u56e0\u4e3a\u8fd9\u4e2a\u8c03\u4e86\u597d\u4e45\uff0c\u6700\u540e\u53d1\u73b0\u8f93\u5165\u4e00\u4e2a $m$ \u4ec0\u4e48\u7528\u90fd\u6ca1\u6709\uff0c\u60b2\u5267\u4e86~~\u3002\n\n## \u4ee3\u7801\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n\nusing namespace std;\n\nconst int N = 1e5 + 5;\nconst int inf = 1 << 30;\n\nint n, m, s, t;\nstring a[N], b[N];\n\nint cost[2][N];    //\u5206\u522b\u662f\u4e24\u65b9\u7684\u751f\u547d\u503c\n\nint dep[N], st[N];\nbool vis[N];\n\nint head[N], tot = 1;\n\nstruct Node{\n\tint to, w, next;\n}edges[N * 2];\n\nvoid add(int u, int v, int w){\n\ttot++;\n\tedges[tot].to = v;\n\tedges[tot].w = w;\n\tedges[tot].next = head[u];\n\thead[u] = tot;\n}\n\n//dinic \u4e09\u4e2a\u4f18\u5316\u706b\u529b\u5168\u5f00\uff0c\u6211\u5c31\u4e0d\u76f8\u4fe1\u80fd T\n\nbool bfs(){\n\tmemset(dep, -1, sizeof(dep));    //-1 \u6709\u4fdd\u969c\n\tdep[s] = 1;\n\tqueue<int> q;\n\tq.push(s);\n\twhile(!q.empty()){\n\t\tint x = q.front();\n\t\tq.pop();\n\t\tfor(int i = head[x]; i; i = edges[i].next){\n\t\t\tif(dep[edges[i].to] == -1 && edges[i].w){\n\t\t\t\tdep[edges[i].to] = dep[x] + 1;\n\t\t\t\tif(edges[i].to == t){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tq.push(edges[i].to);\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\nint dfs(int x, int flow){\n  if(x == t){\n    vis[t] = true;\n\t\treturn flow;\n\t}\n\tint tmp = 0, sum = 0;\n  for(int i = st[x]; i; i = edges[i].next){\n    st[x] = i;\n    if(edges[i].w && dep[edges[i].to] == dep[x] + 1){\n\t\t\tif(tmp = dfs(edges[i].to, min(flow - sum, edges[i].w))){    //\u4f7f\u7528\u70b8\u8fb9\u4f18\u5316\n\t\t\t\tedges[i].w -= tmp;\n\t\t\t\tedges[i ^ 1].w += tmp;\n\t\t\t\tsum += tmp;\n\t\t\t}\n\t\t\tif(flow == sum){\n\t\t\t\tbreak;\n\t\t\t}\n    }\n  }\n  if(!sum){\n  \tdep[x] = 0;\n\t}\n  return sum;\n}\n\nint dinic(){\n\tint ans = 0, sum;\n\twhile(bfs()){\n\t  memcpy(st, head, sizeof(head));    //\u663e\u7136\u7528\u4e86\u5f53\u524d\u5f27\u4f18\u5316\n\t  vis[t] = true;    //\u8fd9\u91cc\u53ef\u80fd\u662f\u6ca1\u89c1\u8fc7\u7684\u4f18\u5316\uff0c\u5982\u679c\u4e0d\u80fd\u5230\u8fbe t \u5c31\u76f4\u63a5\u9000\u51fa\uff0c\u5feb\u4e86\u4e0d\u5c11\n\t  while(vis[t]){\n\t    vis[t] = false;\n\t\t  while(sum = dfs(s, inf)){\n\t\t\t  ans += sum;\n\t\t  }\n\t  }\n\t}\n\treturn ans;\n}\n\nbool Check(int x, int y){    //\u5224\u65ad\u80dc\u8d1f\u5173\u7cfb\n\tif(a[x] == \"J\"){\n\t\treturn (b[y] == \"HK\" || b[y] == \"W\");\n\t}\n\telse if(a[x] == \"W\"){\n\t\treturn (b[y] == \"YYY\" || b[y] == \"E\");\n\t}\n\telse if(a[x] == \"HK\"){\n\t\treturn (b[y] == \"E\" || b[y] == \"W\");\n\t}\n\telse if(a[x] == \"YYY\"){\n\t\treturn (b[y] == \"HK\" || b[y] == \"J\");\n\t}\n\telse{\n\t\treturn (b[y] == \"J\" || b[y] == \"YYY\");\n\t}\n}\n\nsigned main(){\n\tcin >> n >> m;\n\ts = 0, t = 2 * n + 1;\n\tfor(int i = 1; i <= n; i++){\n\t\tcin >> a[i];\n\t\tif(a[i] == \"YYY\"){\n\t\t\tcost[0][0]++;\n\t\t}\n\t}\n\tfor(int i = 1; i <= n; i++){\n\t\tcin >> b[i];\n\t\tif(b[i] == \"YYY\"){\n\t\t\tcost[1][0]++;\n\t\t}\n\t}\n\tfor(int i = 1; i <= n; i++){\n\t\tcin >> cost[0][i];\n\t\tif(a[i] == \"J\"){\n\t\t\tcost[0][i] += cost[0][0];\n\t\t}\n\t}\n\tfor(int i = 1; i <= n; i++){\n\t\tcin >> cost[1][i];\n\t\tif(b[i] == \"J\"){\n\t\t\tcost[1][i] += cost[1][0];\n\t\t}\n\t}\n\tfor(int i = 1; i <= n; i++){\n\t\tadd(s, i, cost[0][i]);\n\t\tadd(i, s, 0);\n\t\tadd(n + i, t, cost[1][i]);\n\t\tadd(t, n + i, 0);\n\t}\n\tfor(int i = 1; i <= n; i++){\n\t\tfor(int j = 1; j <= n; j++){\n\t\t\tif(Check(i, j)){\n\t\t\t\tadd(i, j + n, 1);\n\t\t\t\tadd(j + n, i, 0);   //\u8001\u751f\u5e38\u8c08\n\t\t\t}\n\t\t}\n\t}\n\tcout << min(dinic(), m);   //\u4e00\u5b9a\u8981\u53d6 min\n\treturn 0;\n}\n```",
        "postTime": 1662195994,
        "uid": 363006,
        "name": "_Alexande_",
        "ccfLevel": 5,
        "title": "P3701 \u4e3b\u4e3b\u6811 \u9898\u89e3"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P3701)\n\n[\u53ef\u80fd\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://chenyu-w.github.io/2022/07/29/P3701%E4%B8%BB%E4%B8%BB%E6%A0%91/)\n\n## \u524d\u8a00\n\n\u7f51\u7edc\u6d41\u5efa\u6a21\u5165\u95e8\u7ecf\u5178\u9898\u3002\n\n### \u524d\u7f6e\u829d\u58eb\n\n\u6700\u5927\u6d41\n\n\n## \u5206\u6790\n\n\u770b\u5230\u4eba\u5206\u4e3a\u4e24\u4e2a\u9635\u8425\uff0c\u4e0d\u96be\u60f3\u5230\u7528\u6700\u5927\u6d41\u6765\u505a\u3002\n\n\u6211\u4eec\u5efa\u7acb\u865a\u62df\u6e90\u6c47 $s$ \u548c $t$\uff0c\u5c06 $s$ \u5411 byx \u7684\u4eba\u8fde\u8fb9\uff0c\u5c06\u8bd7\u4e43\u7684\u4eba\u5411 $t$ \u8fde\u8fb9\uff0c\u8fb9\u7684\u5bb9\u91cf\u4e3a\u8fd9\u4e2a\u4eba\u7269\u521d\u59cb\u7684\u751f\u547d\u503c\uff0c\u6ce8\u610f\u5982\u679c\u8fd9\u4e2a\u4eba\u662f J \u7684\u8bdd\u521d\u59cb\u751f\u547d\u503c\u8981\u52a0\u4e0a\u672c\u961f\u4e2d YYY \u7684\u4eba\u6570\uff0c\u7136\u540e\u6309\u9898\u76ee\u7ed9\u7684\u80dc\u8d1f\u5173\u7cfb\u4e24\u4e24\u8fde\u5bb9\u91cf\u4e3a $1$ \u7684\u8fb9\u3002\u7136\u540e\u8dd1 dinic \u6700\u5927\u6d41\u5373\u53ef\u3002\u6ce8\u610f\u6700\u7ec8\u7b54\u6848\u4e0e $m$ \u53d6 $\\min$\u3002\n\n## \u4ee3\u7801\n\n```c++\n#include <bits/stdc++.h>\n\nusing namespace std;\nconst int N = 1e5 + 10, INF = 1 << 30;\nint h[N], e[N], ne[N], f[N], idx;\nint d[N], cur[N];\nint s, t;\nstring a[N], b[N];\nint l1[N], l2[N];\n\ninline int read()\n{\n\tint x = 0, y = 1; char c = getchar();\n\twhile (c < '0' || c > '9') {\n\t\tif (c == '-') y = -1;\n\t\tc = getchar();\n\t}\n\twhile (c >= '0' && c <= '9') x = x * 10 + c - '0', c = getchar();\n\treturn x * y;\n}\n\ninline void add(int a, int b, int c)\n{\n\te[idx] = b;\n\tf[idx] = c;\n\tne[idx] = h[a];\n\th[a] = idx++;\n}\n\ninline bool check(int i, int j)\n{\n\tif (a[i] == \"J\")\n\t\treturn b[j] == \"HK\" || b[j] == \"W\";\n\tif (a[i] == \"W\")\n\t\treturn b[j] == \"YYY\" || b[j] == \"E\";\n\tif (a[i] == \"HK\")\n\t\treturn b[j] == \"W\" || b[j] == \"E\";\n\tif (a[i] == \"YYY\")\n\t\treturn b[j] == \"J\" || b[j] == \"HK\";\n\tif (a[i] == \"E\")\t\n\t\treturn b[j] == \"YYY\" || b[j] == \"J\";\n}\n\ninline bool bfs()\n{\n\tmemset(d, -1, sizeof d);\n\tqueue<int> q;\n\tq.push(s);\n\td[s] = 0;\n\tcur[s] = h[s];\n\twhile (q.size())\n\t{\n\t\tint u = q.front();\n\t\tq.pop();\n\t\tfor (int i = h[u]; ~i; i = ne[i])\n\t\t{\n\t\t\tint v = e[i];\n\t\t\tif (d[v] == -1 && f[i])\n\t\t\t{\n\t\t\t\td[v] = d[u] + 1;\n\t\t\t\tcur[v] = h[v];\n\t\t\t\tif (v == t) return true;\n\t\t\t\tq.push(v);\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\ninline int find(int u, int lim)\n{\n\tif (u == t) return lim;\n\tint flow = 0;\n\tfor (int i = cur[u]; ~i && flow < lim; i = ne[i])\n\t{\n\t\tcur[u] = i;\n\t\tint v = e[i];\n\t\tif (d[v] == d[u] + 1 && f[i])\n\t\t{\n\t\t\tint t = find(v, min(f[i], lim - flow));\n\t\t\tif (!t) d[v] = -1;\n\t\t\tf[i] -= t, f[i ^ 1] += t, flow += t;\n\t\t}\n\t}\n\treturn flow;\n}\n\ninline int dinic()\n{\n\tint res = 0, flow;\n\twhile (bfs()) while (flow = find(s, INF)) res += flow;\n\treturn res;\n}\n\nint main()\n{\n\tmemset(h, -1, sizeof h);\n\tint n = read(), m = read();\n\ts = 0, t = 2 * n + 1;\n\tfor (int i = 1; i <= n; i++)\n\t\tcin >> a[i];\n\tfor (int i = 1; i <= n; i++)\n\t\tcin >> b[i];\n\tfor (int i = 1; i <= n; i++)\n\t\tl1[i] = read();\n\tfor (int i = 1; i <= n; i++)\n\t\tl2[i] = read();\n\tint p = 0;\n\tfor (int i = 1; i <= n; i++)\n\t\tif (a[i] == \"YYY\") p++;\n\tfor (int i = 1; i <= n; i++)\n\t\tif (a[i] == \"J\") l1[i] += p;\n\tp = 0;\n\tfor (int i = 1; i <= n; i++)\n\t\tif (b[i] == \"YYY\") p++;\n\tfor (int i = 1; i <= n; i++)\n\t\tif (b[i] == \"J\") l2[i] += p;\n\tfor (int i = 1; i <= n; i++)\n\t\tadd(s, i, l1[i]), add(i, s, 0);\n\tfor (int i = 1; i <= n; i++)\n\t\tadd(n + i, t, l2[i]), add(t, n + i, 0);\n\tfor (int i = 1; i <= n; i++)\n\t\tfor (int j = 1; j <= n; j++)\n\t\t{\n\t\t\tif (check(i, j))\n\t\t\t\tadd(i, n + j, 1), add(n + j, i, 0);\n\t\t}\n\tprintf(\"%d\\n\", min(dinic(), m));\n\treturn 0;\n}\n```\n\n",
        "postTime": 1659099639,
        "uid": 587248,
        "name": "wcywcywcywcy",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011P3701"
    },
    {
        "content": "\u7f51\u7edc\u6d41\u7684\u9898\u5c31\u662f\u96be\u5efa\u6a21\u2026\u2026\n\n### \u601d\u8def\n\n\u9996\u5148\u6a21\u62df\u6837\u4f8b\uff08\u4eba\u7269\u5747\u7528\u9996\u5b57\u6bcd\u66ff\u4ee3\uff09\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/863rhtoc.png)\n\n\u6837\u4f8b\u4e2d\uff0cJ \u53ef\u4ee5\u82b1\u8d39 $1$ \u7684\u751f\u547d\u503c\u6218\u80dc H\uff0cW \u53ef\u4ee5\u82b1\u8d39 $1$ \u7684\u751f\u547d\u503c\u6218\u80dc E\uff0cY \u53ef\u4ee5\u7528 $1$ \u7684\u751f\u547d\u503c\u6218\u80dc J\uff0c\u90a3\u4e48\u603b\u5171\u53ef\u4ee5\u83b7\u80dc $3$ \u573a\u3002\n\n\u90a3\u4e48\u53ef\u4ee5\u7528\u4e8c\u5206\u56fe\u5339\u914d\uff1f\n\n\u9898\u76ee\u4e2d\uff0cY \u53ef\u4ee5\u7ed9 J \u56de\u8840\uff0c\u6709\u4e86\u8fd9\u79cd~~\u5947\u602a\u7684~~\u529f\u80fd\u540e\uff0c\u4e8c\u5206\u56fe\u5c31\u4e0d\u80fd\u89e3\u51b3\u95ee\u9898\u4e86\u3002\n\n\u90a3\u4e48\uff0c\u5c31\u7528\u7f51\u7edc\u6d41\uff01\n\n\u5bf9\u4e8e\u8fde\u8fb9\u7684\u65b9\u5f0f\uff0c\u6211\u4eec\u679a\u4e3e byx \u7684\u6240\u6709\u70b9\uff0c\u5f53\u679a\u4e3e\u5230 $i\n$ \u65f6\uff0c\u6211\u4eec\u8003\u8651\u679a\u4e3e\u8bd7\u4e43\u9171\u7684\u6240\u6709\u70b9\uff0c\u679a\u4e3e\u5230\u70b9 $i$ \u53ef\u4ee5\u83b7\u80dc\u7684\u70b9\u65f6\uff0c\u8fde\u4e00\u6761\u5bb9\u91cf\u4e3a $1$ \u7684\u8fb9\u3002\n\n\u5bf9\u4e8e\u751f\u547d\u7684\u9650\u5236\uff0c\u6839\u636e\u9898\u610f\uff0c\u663e\u7136\u5e94\u8be5\u8ba9 Y \u7ed9 J \u52a0\u4e0a\u5c3d\u91cf\u591a\u7684\u8840\u91cf\uff0c\u4ee5\u4fbf\u83b7\u5f97\u66f4\u591a\u7684\u80dc\u5229\u3002\n\n\u5728\u5efa\u7acb\u8d85\u7ea7\u6e90\u70b9\u65f6\uff0c\u4ece\u6e90\u70b9\u5411\u6240\u6709 byx \u7684\u70b9\u8fde\u8fb9\uff0c\u5bb9\u91cf\u4fbf\u662f\u8fd9\u4e2a\u4eba\u6700\u5927\u53ef\u4ee5\u8fbe\u5230\u7684\u8840\u91cf\u3002\u5efa\u7acb\u8d85\u7ea7\u6c47\u70b9\u65f6\uff0c\u4ece\u6240\u6709\u8bd7\u4e43\u9171\u7684\u8fb9\u5411\u6c47\u70b9\u8fde\u8fb9\uff0c\u5bb9\u91cf\u4e5f\u4e3a\u8fd9\u4e2a\u4eba\u7684\u6700\u5927\u8840\u91cf\u3002\n\n\u5982\u679c\u8fd8\u662f\u4e0d\u7406\u89e3\uff0c\u63a8\u8350\u753b\u4e2a\u56fe\uff0c\u6bd5\u7adf\u7f51\u7edc\u6d41\u5efa\u6a21\u4e0d\u662f\u4e00\u773c\u5c31\u80fd\u770b\u51fa\u6765\u7684\u3002\n\nCode\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read(){\n\tint sss=0;\n\tchar chh=getchar();\n\twhile(chh<'0'||chh>'9') chh=getchar();\n\twhile(chh>='0'&&chh<='9'){\n\t\tsss=sss*10+chh-'0';\n\t\tchh=getchar();\n\t}\n\treturn sss;\n}\nint n,m,s,t;\nint depth[1000005];\nint head[1000005],to[1000005],nxt[1000005],val[1000005],tot=1;\nvoid add(int u,int v,int w){\n\tto[++tot]=v;\n\tval[tot]=w;\n\tnxt[tot]=head[u];\n\thead[u]=tot;\n}\nint yyya=0,yyyb=0;\nstruct node{\n\tint HP;\n\tstring name;\n}a[105],b[105];\nint check_a(int now){\t\n\tif(a[now].name[0]=='J') return yyya;\n\treturn 0;\n}\nint check_b(int now){\n\tif(b[now].name[0]=='J') return yyyb;\n\treturn 0;\n}\nbool bfs(){\n\tmemset(depth,0,sizeof depth);\n\tdepth[s]=1;\n\tqueue<int> q;\n\tq.push(s);\n\twhile(!q.empty()){\n\t\tint x=q.front(); q.pop();\n\t\tfor(register int i=head[x];i;i=nxt[i]){\n\t\t\tif(val[i]&&!depth[to[i]]){\n\t\t\t\tdepth[to[i]]=depth[x]+1;\n\t\t\t\tq.push(to[i]);\n\t\t\t}\n\t\t}\n\t}\n\treturn depth[t];\n}\nint dfs(int now,int flow){\n\tif(now==t) return flow;\n\tint now_flow=0;\n\tfor(register int i=head[now];i&&flow;i=nxt[i]){\n\t\tint u=to[i];\n\t\tif(val[i]&&depth[u]==depth[now]+1){\n\t\t\tint tmp=dfs(u,min(flow,val[i]));\n\t\t\tval[i]-=tmp;\n\t\t\tval[i^1]+=tmp;\n\t\t\tnow_flow+=tmp;\n\t\t\tflow-=tmp;\n\t\t}\n\t}\n\tif(now_flow==0) depth[now]=0;\n\treturn now_flow;\n}\nint Dinic(){\n\tint ans=0;\n\twhile(bfs()) ans+=dfs(s,1e9);\n\treturn ans;\n}\nint main(){\n\tmemset(head,-1,sizeof head);\n\tn=read(),m=read();\n\ts=0,t=2*n+1;\n\tfor(register int i=1;i<=n;i++){\n\t\tcin>>a[i].name;\n\t\tif(a[i].name[0]=='Y') yyya++;\n\t}\n\tfor(register int i=1;i<=n;i++){\n\t\tcin>>b[i].name;\n\t\tif(b[i].name[0]=='Y') yyyb++;\n\t}\n\tfor(register int i=1;i<=n;i++) a[i].HP=read();\n\tfor(register int i=1;i<=n;i++) b[i].HP=read();\n\tfor(register int i=1;i<=n;i++){\n\t\tfor(register int j=1;j<=n;j++){\n\t\t\tif(a[i].name[0]=='W'&&(b[j].name[0]=='Y'||b[j].name[0]=='E')){\n\t\t\t\tadd(i,j+n,1); add(j+n,i,0);\n\t\t\t}\n\t\t\telse if(a[i].name[0]=='H'&&(b[j].name[0]=='W'||b[j].name[0]=='E')){\n\t\t\t\tadd(i,j+n,1); add(j+n,i,0);\n\t\t\t}\n\t\t\telse if(a[i].name[0]=='J'&&(b[j].name[0]=='W'||b[j].name[0]=='H')){\n\t\t\t\tadd(i,j+n,1); add(j+n,i,0);\n\t\t\t}\n\t\t\telse if(a[i].name[0]=='Y'&&(b[j].name[0]=='H'||b[j].name[0]=='J')){\n\t\t\t\tadd(i,j+n,1); add(j+n,i,0);\n\t\t\t}\n\t\t\telse if(a[i].name[0]=='E'&&(b[j].name[0]=='Y'||b[j].name[0]=='J')){\n\t\t\t\tadd(i,j+n,1); add(j+n,i,0);\n\t\t\t}\n\t\t}\n\t}\n\tfor(register int i=1;i<=n;i++){\n\t\tadd(s,i,a[i].HP+check_a(i)); add(i,s,0);\n\t\tadd(i+n,t,b[i].HP+check_b(i)); add(t,i+n,0);\n\t}\n\tprintf(\"%d\",min(Dinic(),m));\n\treturn 0;\n}\n```",
        "postTime": 1645521376,
        "uid": 367316,
        "name": "Foreverxxx",
        "ccfLevel": 0,
        "title": "P3701 \u4e3b\u4e3b\u6811 \u9898\u89e3"
    },
    {
        "content": "### 1 \u601d\u8def\n\n\u6211\u4eec\u53ef\u4ee5\u628a `byx` \u7684\u4eba\u548c `\u8bd7\u4e43\u9171` \u7684\u4eba\u5206\u6210\u4e24\u4e2a\u96c6\u5408\u3002\n\n\u5c06\u6e90\u70b9\u5411\u6bcf\u4e2a `byx` \u7684\u4eba\u8fde\u8fb9\uff0c\u5bb9\u91cf\u4e3a\u8fd9\u4e2a\u4eba\u7684\u8840\u91cf\uff0c\u4ee3\u8868\u8fd9\u4eba\u80fd\u625b\u591a\u5c11\u6bd4\u8d5b\u3002\n\n\u5c06\u6bcf\u4e2a `\u8bd7\u4e43\u9171` \u7684\u4eba\u8fde\u8fb9\uff0c\u5bb9\u91cf\u4e3a\u8fd9\u4e2a\u4eba\u7684\u8840\u91cf\uff0c~~\u4ee3\u8868\u8fd9\u4eba\u80fd\u88ab `byx` \u6253\u591a\u5c11\u6b21\u3002~~\n\n\u6ce8\u610f\u52a0\u4e0a\u7eed\u547d\u5e26\u6765\u7684\u8840\u91cf\u3002\n\n\u7136\u540e\uff0c\u5982\u679c\u4e00\u4e2a `byx` \u7684\u4eba\u80fd\u6253 `\u8bd7\u4e43\u9171` \u7684\u4eba\uff0c\u5c31\u8fde\u4e00\u6761\u8fb9\uff0c\u5bb9\u91cf\u4e3a $1$\u3002\u4ee3\u8868\u540c\u6837\u4e24\u4eba\u53ea\u80fd\u6253\u4e00\u6b21\u3002\n\n\u8dd1\u4e00\u904d\u7f51\u7edc\u6700\u5927\u6d41\u5373\u53ef\u3002\n\n\u6ce8\u610f\uff0c\u56e0\u4e3a\u53ea\u6709 $m$ \u573a\u6bd4\u8d5b\u673a\u4f1a\uff0c\u6240\u4ee5\uff0c\u8bbe\u6700\u5927\u6d41\u4e3a $ans$\uff0c\u5219\u8f93\u51fa\u5e94\u4e3a $\\operatorname{min}(ans,m)$\u3002\n\n### 2 \u4ee3\u7801\u4e0e\u8bb0\u5f55\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<queue>\nusing namespace std;\n#define inf 0x3f3f3f3f\nint n;//\u4eba\u6570\nint m;//\u6bd4\u8d5b\u6570\n#define s 0//\u6e90\u70b9\n#define t 201//\u6c47\u70b9\nstruct P{\n\tint k,w;//\u79cd\u7c7b\uff0c\u8840\u91cf\n};\nP p1[102];//byx\u4fe1\u606f\nP p2[102];//\u8bd7\u4e43\u9171\u4fe1\u606f\nint x1=0;//byx\u7eed\u547d\u6570\nint x2=0;//\u8bd7\u4e43\u9171\u7eed\u547d\u6570\nbool to[7][7];//\u662f\u5426\u80fd\u5bf9\u6218\nstruct E{\n\tint u,v,w,a,nx;//\u8d77\u70b9\u3001\u7ec8\u70b9\u3001\u6d41\u91cf\u3001\u53cd\u8fb9\u3001\u4e0b\u4e00\u6761\n}e[12000];//\u8fb9\nint ei=0;//\u4e0b\u6807\nint fir[220];//\u5f00\u59cb\u8def\u5f84\nint de[220];//\u6df1\u5ea6\nint ans=0;//\u7b54\u6848\ninline int askk(char a){\n\tswitch(a){\n\t\tcase 'J':return 1;\n\t\tcase 'H':return 2;\n\t\tcase 'W':return 3;\n\t\tcase 'E':return 4;\n\t\tcase 'Y':return 5;\n\t}\n\treturn 0;\n}\ninline void addedge(int u,int v,int w){\n\t++ei; e[ei].u=u; e[ei].v=v; e[ei].w=w; e[ei].a=ei+1; e[ei].nx=fir[u]; fir[u]=ei;\n\t++ei; e[ei].u=v; e[ei].v=u; e[ei].w=0; e[ei].a=ei-1; e[ei].nx=fir[v]; fir[v]=ei;\n}\ninline int mi(int a,int b){\n\treturn a<b?a:b;\n}\nbool bfs(){\n\tmemset(de,0,sizeof(de));\n\tqueue<int>q;\n\tint u;\n\tde[s]=1;\n\tq.push(s);\n\twhile(!q.empty()){\n\t\tu=q.front();\n\t\tq.pop();\n\t\tfor(int i=fir[u],v;i;i=e[i].nx){\n\t\t\tv=e[i].v;\n\t\t\tif(e[i].w&&!de[v]){\n\t\t\t\tde[v]=de[u]+1;\n\t\t\t\tq.push(v);\n\t\t\t}\n\t\t}\n\t}\n\treturn de[t];\n}\nint dfs(int u,int f){\n\tif(u==t||!f)return f;\n\tint res=0;\n\tfor(int i=fir[u],v,w;i;i=e[i].nx){\n\t\tv=e[i].v;\n\t\tif(e[i].w&&de[u]+1==de[v]){\n\t\t\tw=dfs(v,mi(f,e[i].w));\n\t\t\tif(w){\n\t\t\t\te[i].w-=w;\n\t\t\t\te[e[i].a].w+=w;\n\t\t\t\tf-=w;\n\t\t\t\tres+=w;\n\t\t\t\tif(!f)break;\n\t\t\t}else de[v]=-1;\n\t\t}\n\t}\n\treturn res;\n}\nint main(){\n\t#ifndef ONLINE_JUDGE\n\tfreopen(\"P3701_1.in\",\"r\",stdin);\n\tfreopen(\"P3701_1.out\",\"w\",stdout);\n\t#endif\n\tscanf(\"%d%d\",&n,&m);\n\tmemset(to,0,sizeof(to));\n\tto[1][2]=to[1][3]=true;\n\tto[2][3]=to[2][4]=true;\n\tto[3][4]=to[3][5]=true;\n\tto[4][1]=to[4][5]=true;\n\tto[5][1]=to[5][2]=true;\n\tfor(int i=1;i<=n;++i){\n\t\tchar a[5];\n\t\tscanf(\"%s\",a);\n\t\tp1[i].k=askk(a[0]);\n\t\tif(p1[i].k==5)++x1;\n\t}\n\tfor(int i=1;i<=n;++i){\n\t\tchar a[5];\n\t\tscanf(\"%s\",a);\n\t\tp2[i].k=askk(a[0]);\n\t\tif(p2[i].k==5)++x2;\n\t}\n\tfor(int i=1;i<=n;++i){\n\t\tscanf(\"%d\",&p1[i].w);\n\t}\n\tfor(int i=1;i<=n;++i){\n\t\tscanf(\"%d\",&p2[i].w);\n\t}\n\tmemset(fir,0,sizeof(fir));\n\tfor(int i=1;i<=n;++i){\n\t\taddedge(s,i,p1[i].w+x1*(p1[i].k==1));\n\t\taddedge(i+n,t,p2[i].w+x2*(p2[i].k==1));\n\t}\n\tfor(int i=1;i<=n;++i){\n\t\tfor(int j=1;j<=n;++j){\n\t\t\tif(to[p1[i].k][p2[j].k])addedge(i,j+n,1);\n\t\t}\n\t}\n\twhile(bfs())ans+=dfs(s,inf);\n\tprintf(\"%d\\n\",mi(ans,m));\n\treturn 0;\n}\n```\n\n[\u8bb0\u5f55\u4f20\u9001\u95e8](https://www.luogu.com.cn/record/58125395)\n\nBy **dengziyue**",
        "postTime": 1631799804,
        "uid": 387840,
        "name": "happy_dengziyue",
        "ccfLevel": 6,
        "title": "P3701\u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9053\u9898\uff0c\u5728\u5b66\u4e3b\u5e2d\u6811\u7684\u65f6\u5019\u5c31\u770b\u89c1\u4e86\uff0c\u5c31\u52a0\u5165\u4e86\u6536\u85cf\u8ba1\u5212\n\n\u6700\u8fd1\u7701\u9009\u524d\uff0c\u586b\u5751\uff0c\u5c31\u628a\u8fd9\u9053\u9898\u5207\u4e86\n\n\u4e3b\u8981\u8fd8\u662f\u7f51\u7edc\u6d41\n\n\u9996\u5148\u5bf9\u7f51\u7edc\u5173\u7cfb\u5904\u7406\u4e00\u4e0b\uff0c\u6211\u7528\u4e86\u4e00\u4e0bmap\u4f7f\u5b83\u66f4\u597d\u5904\u7406\u4e00\u4e0b\n\n\u5efa\u56fe\u65b9\u5f0f\uff1a\n\n\u6bcf\u4e2a\u4eba\u4e3a\u4e00\u4e2a\u70b9\n\n\u5bf9byx\u548c\u624b\u6c14\u541b\u6709\u7684\u5f97\u819c\u6cd5\u5e08\u8fdb\u884c\u7edf\u8ba1\n\n\u5411byx\u6bcf\u4e2a\u70b9\u8fde\u8fb9\uff0c\u6d41\u91cf\u4e3a\u751f\u547d\uff0c\u5982\u679c\u5f53\u524d\u8282\u70b9\u4f4d\u4e3b\u5e2d\uff0c\u751f\u547d\u503c\u52a0\u4e0a\u819c\u6cd5\u5e08\u6570\u91cf\n\n\u540c\u65f6\u5bf9\u624b\u6c14\u541b\u7684\u6bcf\u4e2a\u70b9\u4e5f\u8fd9\u6837\u5904\u7406\n\n\u6700\u540e\u5bf9\u6709\u51b2\u7a81\u5173\u7cfb\u7684\u53cc\u65b9\u8fde\u7ebf\uff0c\u6d41\u91cf\u4e3a1\n\n\u8fd9\u6837\u4e56\u4e56\u7684\u8dd1\u4e00\u4e0b\u6700\u5927\u6d41\u5c31\u597d\u4e86\u9e2d\uff0c\u5624\u5624\u5624\n\n\u4e0a\u4ee3\u7801\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1e6+7;\nconst int INF=0x7f7f7f;\n//1:j \u4e3b\u5e2d  2:w\u9ad8\u4eba  3:HK\u6e2f\u8bb0 4:YYY\u819c\u6cd5\u5e08  5:E\u5973\u738b \nbool gx[6][6]={{0,0,0,0,0,0},\n              {0,0,1,1,0,0},\n              {0,0,0,0,1,1},\n\t\t\t  {0,0,1,0,0,1},\n\t\t\t  {0,1,0,1,0,0},\n\t\t\t  {0,1,0,0,1,0}};\nint m,n,k,maxflow,cnt=1,tot,ss,t,ans,inc,mtot;\nint head[N],dep[N];\nmap<string,int> mp;\nstring s[101][2];\nbool vis[N];\nstruct edge\n{\n\tint nx,to,flow;\n} e[N];\nvoid add_edge(int a,int b,int flow)\n{\n\tcnt++;e[cnt].nx=head[a];e[cnt].to=b;e[cnt].flow=flow;head[a]=cnt;\n\tcnt++;e[cnt].nx=head[b];e[cnt].to=a;e[cnt].flow=0;head[b]=cnt;\n}\nbool bfs(int s,int t)\n{\n\tqueue<int> que;que.push(s);\n\tmemset(dep,0,sizeof(dep));dep[s]=1;\n\twhile (!que.empty())\n\t{\n\t\tint x=que.front();que.pop();\n\t\tfor (int i=head[x];i;i=e[i].nx)\n\t\t{\n\t\t\tint y=e[i].to;\n\t\t\tif (dep[y]==0&&e[i].flow)\n\t\t\t{\n\t\t\t\tdep[y]=dep[x]+1;\n\t\t\t\tque.push(y);\n\t\t\t}\n\t\t}\n\t}\n\tif (dep[t]==0) return false;\n\telse return true;\n}\nint dfs(int x,int limit,int t)\n{\n\tif (x==t) return limit;\n\tint used=0;\n\tfor (int i=head[x];i;i=e[i].nx)\n\t{\n\t\tint y=e[i].to;\n\t\tif (dep[y]==dep[x]+1&&e[i].flow)\n\t\t{\n\t\t\tint di=dfs(y,min(limit-used,e[i].flow),t);\n\t\t\tif (di>0)\n\t\t\t{\n\t\t\t\te[i].flow-=di;\n\t\t\t\te[i^1].flow+=di;\n\t\t\t\tused+=di;\n\t\t\t\tif (used==limit) return limit;\n\t\t\t}\n\t\t}\n\t}\n\tif (!used) dep[x]=-2;\n\treturn used;\n}\nvoid dinic(int s,int t)\n{\n\twhile (bfs(s,t)) ans+=dfs(s,INF,t);\n}\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);ss=N-3;t=N-4;\n\tfor (int i=1;i<=n;i++) cin>>s[i][0];\n\tfor (int i=1;i<=n;i++) cin>>s[i][1];\n\tmp[\"J\"]=1;mp[\"W\"]=2;mp[\"HK\"]=3;mp[\"YYY\"]=4;mp[\"E\"]=5;\n\tfor (int i=1;i<=n;i++)\n\t for (int j=1;j<=n;j++)\n\t{\n\t\tint x=mp[s[i][0]],y=mp[s[j][1]];\n\t\tif (gx[x][y])add_edge(i,j+n,1);\n\t}\n\tfor (int i=1;i<=n;i++) if (mp[s[i][0]]==4) tot++;\n\tfor (int j=1;j<=n;j++) if (mp[s[j][1]]==4) mtot++;\n\tfor (int i=1;i<=n;i++)\n\t{\n\t\tint x;scanf(\"%d\",&x);\n\t\tif (mp[s[i][0]]==1) add_edge(ss,i,x+tot);\n\t\telse add_edge(ss,i,x);\n\t}\n\tfor (int i=1;i<=n;i++)\n    {\n    \tint x;scanf(\"%d\",&x);\n    \tif (mp[s[i][1]]==1) add_edge(i+n,t,x+mtot);\n    \telse add_edge(i+n,t,x);\n\t}\n\tdinic(ss,t);\n\tprintf(\"%d\\n\",min(ans,m));\n\treturn 0;\n} \n```\n",
        "postTime": 1554123620,
        "uid": 74900,
        "name": "Hale",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3701 \u3010\u300c\u4f2a\u6a21\u677f\u300d\u4e3b\u5e2d\u6811\u3011"
    },
    {
        "content": "```\n\u8bb2\u4e00\u4e0b\u5927\u4f53\u7684\u601d\u8def\u5427\uff1a\n\u5176\u5b9e\u5c31\u662f\u5efa\u5b8c\u56fe\u518d\u8dd1\u4e00\u904d\u6700\u5927\u6d41\u3002\n\u5efa\u56fe\uff1a\n1\u3001\u5efa\u4e00\u4e2a\u8d85\u7ea7\u539f\u70b9\uff0c\u4e00\u4e2a\u8d85\u7ea7\u6c47\u70b9\u3002\n2\u3001\u8d85\u7ea7\u539f\u70b9\u5411\u6bcf\u4e00\u4e2abyx\u7684\u4eba\u8fde\u4e00\u6761\u5bb9\u91cf\u4e3a\u6b64\u4eba\u5bff\u547d\u7684\u8fb9\uff08\u4e3b\u5e2d\u7684\u5bff\u547d\u8981\u52a0\u9b54\u6cd5\u5e08\u7684\u6570\u91cf\u70b9\uff09\u3002\n3\u3001\u6bcf\u4e00\u4e2a\u624b\u6c14\u541b\u7684\u4eba\u5411\u8d85\u7ea7\u6c47\u70b9\u4e00\u6761\u5bb9\u91cf\u4e3a\u6b64\u4eba\u5bff\u547d\u7684\u8fb9\uff08\u4e3b\u5e2d\u7684\u5bff\u547d\u8981\u52a0\u9b54\u6cd5\u5e08\u7684\u6570\u91cf\u70b9\uff09\u3002\n4\u3001\u4ece\u6bcf\u4e00\u4e2abyx\u7684\u4eba\u5411\u88ab\u4ed6\u514b\u5236\u7684\u624b\u6c14\u541b\u7684\u4eba\u4e00\u6761\u5bb9\u91cf\u4e3a\u65e0\u9650\u7684\u8fb9\u3002\n\u6700\u540e\u4ece\u8d85\u7ea7\u539f\u70b9\u5411\u4e00\u4e2a\u8d85\u7ea7\u6c47\u70b9\u8dd1\u4e00\u904d\u6700\u5927\u6d41\u5c31\u597d\u4e86\uff01\n```\n------------\n\n```c++\n\u8fd8\u662f\u8d34\u4e00\u4e0b\u849f\u84bb\u7684\u4ee3\u7801\u5427\uff1a\n\n\n#include<iostream>\n#include<cstdio>\n#include<vector>\n#include<queue>\n#include<string>\nusing namespace std;\nstruct data{\n\tint a,b,c;\n\tdata(int a,int b,int c){\n\t\tthis->a=a;\n\t\tthis->b=b;\n\t\tthis->c=c;\n\t}\n};\nvector<data> v;\nvector<int> u[1001];\nint n,m,k,x1[101],y1[101],s,t1,t2,f[1001],father[1001][2],CZ_AK_IOI,ans;\nstring str;\nvoid data_ad(int x,int y,int z){\n\tv.push_back(data(x,y,z));\n\tu[x].push_back(s);\n\ts++;\n\tv.push_back(data(y,x,0));\n\tu[y].push_back(s);\n\ts++;\n}\nvoid bfs(){\n\twhile(1){\n\t\tqueue<int> q;\n\t\tfor(int i=0;i<=k;i++){\n\t\t\tf[i]=0;\n\t\t\tfather[i][0]=0;\n\t\t\tfather[i][1]=0;\n\t\t}\n\t\tf[0]=10000000;\n\t\tq.push(0);\n\t\twhile(!q.empty()){\n\t\t\tint c=q.front();\n\t\t\tq.pop();\n\t\t\tfor(int i=0;i<u[c].size();i++){\n\t\t\t\tint d=u[c][i];\n\t\t\t\tdata da=v[d];\n\t\t\t\tif(!f[da.b]&&da.c>0){\n\t\t\t\t\tf[da.b]=min(f[c],da.c);\n\t\t\t\t\tfather[da.b][0]=c;\n\t\t\t\t\tfather[da.b][1]=d;\n\t\t\t\t\tq.push(da.b);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(f[k]==0)break;\n\t\tfor(int i=k;i!=0;i=father[i][0]){\n\t\t\tv[father[i][1]].c-=f[k];\n\t\t\tv[father[i][1]^1].c+=f[k];\n\t\t}\n\t\tans+=f[k];\n\t}\n}\nint main(){\n\tscanf(\"%d %d\",&n,&m);\n\tk=2*n+1;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>str;\n\t\tif(str==\"W\"){\n\t\t\tx1[i]=1;\n\t\t}else if(str==\"HK\"){\n\t\t\tx1[i]=2;\n\t\t}else if(str==\"J\"){\n\t\t\tx1[i]=3;\n\t\t}else if(str==\"YYY\"){\n\t\t\tx1[i]=4;\n\t\t\tt1++;\n\t\t}else if(str==\"E\"){\n\t\t\tx1[i]=5;\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>str;\n\t\tif(str==\"W\"){\n\t\t\ty1[i]=1;\n\t\t}else if(str==\"HK\"){\n\t\t\ty1[i]=2;\n\t\t}else if(str==\"J\"){\n\t\t\ty1[i]=3;\n\t\t}else if(str==\"YYY\"){\n\t\t\ty1[i]=4;\n\t\t\tt2++;\n\t\t}else if(str==\"E\"){\n\t\t\ty1[i]=5;\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%d\",&CZ_AK_IOI);\n\t\tif(x1[i]==3)CZ_AK_IOI+=t1;\n\t\tdata_ad(0,i,CZ_AK_IOI);\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%d\",&CZ_AK_IOI);\n\t\tif(y1[i]==3)CZ_AK_IOI+=t2;\n\t\tdata_ad(i+n,k,CZ_AK_IOI);\n\t}\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=n;j++){\n\t\t\tif(x1[i]==1&&(y1[j]==4||y1[j]==5))data_ad(i,n+j,1);\n\t\t\telse if(x1[i]==2&&(y1[j]==1||y1[j]==5))data_ad(i,n+j,1);\n\t\t\telse if(x1[i]==3&&(y1[j]==1||y1[j]==2))data_ad(i,n+j,1);\n\t\t\telse if(x1[i]==4&&(y1[j]==2||y1[j]==3))data_ad(i,n+j,1);\n\t\t\telse if(x1[i]==5&&(y1[j]==3||y1[j]==4))data_ad(i,n+j,1);\n\t\t}\n\t}\n\tbfs();\n\tprintf(\"%d\",min(ans,m));\n}\n```",
        "postTime": 1543500462,
        "uid": 114149,
        "name": "suyiheng",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3701 \u3010\u300c\u4f2a\u6a21\u677f\u300d\u4e3b\u5e2d\u6811\u3011"
    },
    {
        "content": "### \u4e0d\u8981\u53d7\u819c\u6587\u5316\u5f71\u54cd\uff01\uff01\uff01\n\n\u819c\u6cd5\u5e08\u7ed9\u4e3b\u5e2d\u7eed\u547d\u4e0d\u6263\u8840\uff01\uff01\uff01\n\n\u6211\u4e00\u4e2a\u540c\u5b66\u5c31\u5728\u8fd9\u4e0a\u9762\u5361\u4e86\u597d\u4e45\n\n~~\u5176\u5b9e\u8fd9\u9898\u6ca1\u5230\u9ed1\u9898\u96be\u5ea6~~\uff0c\u56e0\u4e3a\u4e3b\u5e2d\u548c\u819c\u6cd5\u6240\u4ee5\u5237\u4e0a\u53bb\u7684\uff1f\n\n\u4e0d\u626f\u4e86\uff0c\u5f00\u59cb\u89e3\u9898\uff0c\u5efa\u56fe\u540e\u8dd1\u7f51\u7edc\u6d41\uff0c\u5efa\u56fe\u5982\u4e0b\uff1a\n\n1.\u8d85\u7ea7\u6e90\u70b9byx\u7684\u6bcf\u4e2a\u4eba\u8fde\u8fb9\uff0c\u6743\u503c\u4e3a\u751f\u547d\n\n2.\u624b\u6c14\u541b\u7684\u6bcf\u4e2a\u4eba\u5411\u8d85\u7ea7\u6c47\u70b9\u8fde\u8fb9\uff0c\u6743\u503c\u4e3a\u751f\u547d\n\n3.byx\u7684\u6bcf\u4e2a\u4eba\u5411\u80fd\u6218\u80dc\u7684\u4eba\u8fde\u8fb9\uff0c\u6743\u503c\u4e3a1,\u56e0\u4e3a\u6bcf\u4e24\u4e2a\u4eba\u4e4b\u95f4\u53ea\u80fd\u6218\u6597\u4e00\u6b21\n\n\u53e6\u5916\uff0c\u5173\u4e8e\u819c\u6cd5\u5e08\u7ed9\u4e3b\u5e2d\u52a0\u8840\uff0c\u76f4\u63a5\u7b97\u51fa\u819c\u6cd5\u5e08\u7684\u6570\u91cfp,\u7ed9\u6bcf\u4e2a\u4e3b\u5e2d\u52a0\u4e0a\u5c31\u597d\u4e86\uff0c\u4e24\u8fb9\u90fd\u8981\u52a0\u3002\u6709\u4e9b\u540c\u5b66\u53ef\u80fd\u4f1a\u4ee5\u4e3a\u819c\u6cd5\u5e08\u6b7b\u4e86\u5c31\u4e0d\u80fd\u7ed9\u4e3b\u5e2d\u52a0\u8840\u4e86\uff0c\u8fd9\u4e2a\u4e0d\u7528\u7ba1\u7684\uff0c\u653e\u5fc3\u52a0\u3002\n\n\u8fd8\u6709ans\u548cm\u8981\u53d6min\uff0c\u56e0\u4e3a\u53ea\u6253m\u573a\uff0c\u4f46\u662f\u6700\u5927\u6d41\u53ef\u80fd\u5927\u4e8em\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int inf=1e9;\nint n,m,x,y,z,s,t,ans,d[10005];\nstruct node{\n\tint next,to,w;\n}a[500000];\nint cnt=1,head[10005],cur[10005];\nint hp1[10000],hp2[10000];\nchar s1[10000],s2[10000],b1[10000],b2[10000]; \nqueue <int> q;\nvoid add(int x,int y,int dis)\n{\n\ta[++cnt].next=head[x];\n\ta[cnt].to=y;\n\ta[cnt].w=dis;\n\thead[x]=cnt;\n}\nbool bfs(int s,int t)\n{\n\tmemset(d,0x7f,sizeof(d));\n\twhile(!q.empty()) q.pop();\n\tfor(int i=0;i<=t;i++) cur[i]=head[i];\n\td[s]=0;\n\tq.push(s);\n\twhile(!q.empty())\n\t{\n\t\tint u=q.front();q.pop();\n\t\tfor(int i=head[u];i;i=a[i].next)\n\t\t{\n\t\t\tint v=a[i].to;\n\t\t\tif(d[v]>inf&&a[i].w)\n\t\t\t{\n\t\t\t\td[v]=d[u]+1;\n\t\t\t\tq.push(v);\n\t\t\t}\n\t\t}\n\t}\n\tif(d[t]<inf) return true;\n\telse return false;\n}\nint dfs(int now,int t,int limit)\n{\n\tif(!limit||now==t) return limit;\n\tint flow=0,f;\n\tfor(int i=cur[now];i;i=a[i].next)\n\t{\n\t\tcur[now]=i;\n\t\tint v=a[i].to;\n\t\tif(d[v]==d[now]+1&&(f=dfs(v,t,min(limit,a[i].w))))\n\t\t{\n\t\t\tflow+=f;\n\t\t\tlimit-=f;\n\t\t\ta[i].w-=f;\n\t\t\ta[i^1].w+=f;\n\t\t\tif(!limit) break;\n\t\t}\n\t}\n\treturn flow;\n}\nvoid insert(int x,int y,int z)\n{add(x,y,z);add(y,x,0);}\nvoid build()  //\u5efa\u56fe\n{\n    int i,j;\n    s=0;t=2*n+1;\n    for(i=1;i<=n;i++) insert(0,i,hp1[i]); //\u8d85\u7ea7\u6e90\u70b9byx\u7684\u6bcf\u4e2a\u4eba\u8fde\u8fb9\uff0c\u6743\u503c\u4e3a\u751f\u547d\n    for(i=1;i<=n;i++) insert(i+n,t,hp2[i]); //\u624b\u6c14\u541b\u7684\u6bcf\u4e2a\u4eba\u5411\u8d85\u7ea7\u6c47\u70b9\u8fde\u8fb9\uff0c\u6743\u503c\u4e3a\u751f\u547d\n    for(i=1;i<=n;i++)\n    {\n        for(j=1;j<=n;j++)  //byx\u7684\u6bcf\u4e2a\u4eba\u5411\u80fd\u6218\u80dc\u7684\u4eba\u8fde\u8fb9\uff0c\u6743\u503c\u4e3a1\n        {\n            if(b1[i]=='J'&&(b2[j]=='W'||b2[j]=='H')) insert(i,j+n,1);  \n            if(b1[i]=='W'&&(b2[j]=='Y'||b2[j]=='E')) insert(i,j+n,1);\n            if(b1[i]=='H'&&(b2[j]=='W'||b2[j]=='E')) insert(i,j+n,1);\n            if(b1[i]=='E'&&(b2[j]=='Y'||b2[j]=='J')) insert(i,j+n,1);\n            if(b1[i]=='Y'&&(b2[j]=='H'||b2[j]=='J')) insert(i,j+n,1);\n        }\n    }\n}\nvoid scan() //\u8f93\u5165\n{\n     int i,p1=0,p2=0;\n    for(i=1;i<=n;i++)\n    {\n        cin>>s1;        \n        b1[i]=s1[0];    //\u7528b1\u5b58\u9996\u5b57\u6bcd\u5c31\u597d\u4e86\uff0c\u56e0\u4e3a\u4e0d\u540c\u7c7b\u7684\u4eba\u9996\u5b57\u6bcd\u4e0d\u540c\n        if(s1[0]=='Y') p1++;  //\u7edf\u8ba1\u819c\u6cd5\u5e08\u6570\u91cf\uff0c\u4e0b\u540c\n    }\n    for(i=1;i<=n;i++)\n    {\n        cin>>s2;\n        b2[i]=s2[0];\n        if(s2[0]=='Y') p2++;\n    }\n    for(i=1;i<=n;i++)\n    {\n        cin>>hp1[i];   \n        if(b1[i]=='J') hp1[i]+=p1; //\u7ed9\u4e3b\u5e2d\u52a0\u8840\uff0c\u4e0b\u540c\n    }\n    for(i=1;i<=n;i++)\n    {\n        cin>>hp2[i];\n        if(b2[i]=='J') hp2[i]+=p2;\n    }\n}\nint main()\n{\n\tscanf(\"%d %d\",&n,&m);\n\tscan();\n\tbuild();\n\twhile(bfs(s,t)) ans+=dfs(s,t,inf); //\u6a21\u677f\u7f51\u7edc\u6d41\n\tprintf(\"%d\\n\",min(ans,m));         //ans\u548cm\u53d6min\uff0c\u56e0\u4e3a\u53ea\u6253m\u573a\uff0c\u4f46\u662f\u6700\u5927\u6d41\u53ef\u80fd\u5927\u4e8em\n\treturn 0;\n}\n```",
        "postTime": 1531316789,
        "uid": 44438,
        "name": "\u671b\u773c\u6d6e\u4e91",
        "ccfLevel": 0,
        "title": "\u4e3b\u5e2d\u6811\uff01\uff01\uff01"
    }
]