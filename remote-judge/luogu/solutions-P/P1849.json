[
    {
        "content": "[P1849 [USACO12MAR]Tractor S](https://www.luogu.com.cn/problem/P1849)\n\n### \u9898\u5916\u8bdd\n\n\u8fd9\u662f\u8bfe\u4e0a\u7684\u8003\u8bd5\u9898\uff0c\u6559\u7ec3\u7ed9\u4e86\u6211\u4eec\u601d\u8def\u548c\u4ee3\u7801\u8ba9\u6211\u4eec\u81ea\u5df1\u7814\u7a76\uff0c\u90a3\u6211\u5c31\u5f00\u59cb\u7814\u7a76\u5566\uff01\n\n---\n\n### \u65b9\u6cd5\u7b80\u8ff0\n\n01 bfs\uff0c\u4e0e\u6b63\u5e38\u5e7f\u641c\u53ca\u5176\u76f8\u8fd1\u3002\n\n---\n\n### \u524d\u7f6e\u829d\u58eb\n\nqueue\uff0cdeque\n\n---\n\n### \u5177\u4f53\u65b9\u6cd5\n\n\u9996\u5148\u662f\u65b9\u5411\u79fb\u52a8\uff0c\u7528\u4e24\u4e2a\u521d\u59cb\u5316\u6570\u7ec4 $\\text{stx}$ \u548c $\\text{sty}$ \u5373\u53ef\u3002  \n\u7136\u540e\u662f 01 bfs\uff0c\u7528\u5230 deque\uff0c\u4ece\u6700\u5f00\u59cb\u7684\u521d\u59cb\u8fb9\u5411\u540e\u8d70\u3002  \n\u5982\u679c\u53ef\u4ee5 push \u5230\u961f\u9996\uff0c\u5c31\u4e00\u76f4 push \u5230\u961f\u9996\uff0c\u53cd\u4e4b push \u5230\u961f\u5c3e\u3002   \n\n\n---\n\n### Code\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <queue>\nusing namespace std;\n\nconst int MAXM = 1000 + 5;\nconst int stx[4] = {0, 1, 0, -1};\nconst int sty[4] = {1, 0, -1, 0};\n\nstruct Node {\n\tint x, y;\n} s;\n\nint n, step[MAXM][MAXM];\nbool map[MAXM][MAXM];\ndeque<Node> q;\n\nint main () {\n\tscanf(\"%d%d%d\", &n, &s.x, &s.y);\n\tfor (int i = 1, x, y; i <= n; i++) {\n\t\tscanf(\"%d%d\", &x, &y);\n\t\tmap[x][y] = true;\n\t}\n\n\tmemset(step, -1, sizeof(step));\n\tstep[s.x][s.y] = 0;\n\tq.push_back(s);\n\twhile (!q.empty()) {\n\t\tNode cur = q.front();\n\t\tq.pop_front();\n\t\tfor (int k = 0; k < 4; k++) {\n\t\t\tNode nxt;\n\t\t\tnxt.x = cur.x + stx[k], nxt.y = cur.y + sty[k];\n\t\t\tif (nxt.x < 0 || nxt.x >= MAXM) continue;\n\t\t\tif (nxt.y < 0 || nxt.y >= MAXM) continue;\n\t\t\tif (step[nxt.x][nxt.y] != -1) continue;\n\t\t\tif (map[nxt.x][nxt.y]) {\n\t\t\t\tstep[nxt.x][nxt.y] = step[cur.x][cur.y] + 1;\n\t\t\t\tq.push_back(nxt);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstep[nxt.x][nxt.y] = step[cur.x][cur.y];\n\t\t\t\tq.push_front(nxt);\n\t\t\t}\n\t\t}\n\t}\n\n\tprintf(\"%d\\n\", step[0][0]);\n\treturn 0;\n}\n``` \n\np.s. \u8fd9\u662f\u6211\u4eec\u6559\u7ec3\u7ed9\u7684\u7a0b\u5e8f ~~\u6211\u731c\u4ed6\u770b\u5230\u8fd9\u4e2a\u4f1a\u9a82\u6211~~\n\n---\n\n### \u603b\u7ed3\u4e0e\u5ef6\u4f38\n\n\u8fd9\u9898\u5176\u5b9e\u6700\u597d\u7528\u7684\u662f\u6700\u77ed\u8def\u7b97\u6cd5\uff0c\u8fd9\u5c31\u662f\u4e2a\u6700\u77ed\u8def\u7b97\u6cd5\u6a21\u677f\u3002  \n\u90a3 01 bfs \u7528\u4e8e\u4ec0\u4e48\u5730\u65b9\u6bd4\u8f83\u5408\u9002\u5462\uff1f  \n\u7528\u4e8e\u80fd\u8f6c\u5316\u4e3a\u8fb9\u6743 $0 \\text { or }1$ \u7684\u6700\u77ed\u8def\u95ee\u9898\u3002  \n\u6240\u4ee5\uff0c\u5728 tg \u7ec4\u4e2d\u7b97\u4e00\u4e2a\u6bd4\u8f83\u5b9e\u7528\u7684\u6280\u5de7\u3002\n\n\u597d\u7684\uff0c\u5c31\u5230\u8fd9\u91cc\uff01\n\n---\n\n### \u53c2\u8003\u8d44\u6599\n\n- \u6559\u7ec3\u7ed9\u7684\u601d\u8def\u548c\u4ee3\u7801\n- [01 bfs \u5b66\u4e60\u7b14\u8bb0](https://blog.csdn.net/R_O_J/article/details/52772421?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.nonecase)\n- [01 bfs \u5b66\u4e60\u8bb0\u5f55](https://blog.csdn.net/shiveringkonnyaku/article/details/82839223)",
        "postTime": 1590293907,
        "uid": 114914,
        "name": "\u4e00\u53ea\u4e66\u866b\u4ed4",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1849 \u3010[USACO12MAR]Tractor S\u3011"
    },
    {
        "content": "### \u53cc\u7aef\u961f\u5217BFS\n\n\u5c31\u662f\u4e00\u822cBFS\u7684\u53d8\u5f62\uff0c\u8d70\u56db\u4e2a\u65b9\u5411\uff0c\u9047\u5230\u8349\u5806\u7684\u5c31\u538b\u5230\u961f\u5c3e\uff0c\u6ca1\u6709\u9047\u5230\u8349\u5806\u7684\u5c31\u538b\u5230\u961f\u5934\u3002\n\n\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u4fdd\u8bc1\u4e86\u4efb\u610f\u65f6\u523b\u5e7f\u641c\u961f\u5217\u4e2d\u7684\u8282\u70b9\u6240\u5bf9\u5e94\u7684\u7b54\u6848\u4ecd\u5177\u6709\u5355\u8c03\u6027\u3002\n\n\u56e0\u6b64\u6bcf\u4e2a\u70b9\u53ea\u9700\u8981\u8bbf\u95ee\u4e00\u6b21\uff0c\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\u662fO\uff081000^2\uff09\n\n#### \u7ec6\u8282\u65b9\u9762\uff1a\n\n\u7531\u4e8e\u8349\u5806\u7684\u5750\u6807\u8303\u56f4\u5728\uff081\uff0c1000\uff09\uff0c\u4e14\u5728\u8349\u5806\u8303\u56f4\u5916\u90fd\u662f\u53ef\u8d70\u7684\uff0c\u4f46\u5176\u5b9e\u8fd9\u6837\u7684\u8bdd\u8303\u56f4\uff08-\u221e\uff0c-1\uff09\u4e0e0\u90fd\u662f\u7b49\u4ef7\u7684\uff0c1001\u4e0e\uff081002\uff0c\uff0b\u221e\uff09\u4e5f\u662f\uff0c\u6211\u4eec\u5728\u8349\u5806\u8303\u56f4\u5916\u52a0\u4e00\u5708\u5c31\u53ef\u4ee5\u3002\u6240\u4ee50\u548c1001\u4e5f\u662f\u53ef\u8d70\u7684\uff0c\u6570\u7ec4\u5f00\u5927\u70b9\u4e0d\u7136\u8d8a\u754c\n\n\u5177\u4f53\u53cc\u7aef\u961f\u5217\u7684\u4e00\u4e9b\u64cd\u4f5c\u5176\u5b9e\u548c\u666e\u901a\u961f\u5217\u5dee\u4e0d\u591a\uff0c\u591a\u5199\u4e00\u4e2afront\u6216back\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n#include <cstring>\n#include <cctype>\n#include <deque>\nusing namespace std;\n\nnamespace atyou {\n\ninline int read() {\n    register int num=0, f=1;\n    register char c;\n    while (!isdigit(c=getchar())) if (c == '-') f=-1;\n    while (isdigit(c))\n          num=(num<<3)+(num<<1)+(c&15), c=getchar();\n    return num*f;\n}\n\ninline void write(register int x) {\n    if (x < 0) putchar('-'), write(~x+1);\n    else {\n        if (x > 9) write(x/10);\n        putchar(x%10+'0');\n    }\n}\n\nconst int N = 500000 + 5, M = 1000 + 5, dx[]={1, -1, 0, 0}, dy[]={0, 0, -1, 1};\n\nint n, sx, sy, a[M][M], f[M][M], v[M][M]; //a\u8bb0\u5f55\u662f\u5426\u6709\u8349\u5806\uff0c f\u8bb0\u5f55\u7b54\u6848\uff0c v\u8bb0\u5f55\u662f\u5426\u8bbf\u95ee \ndeque<pair<int, int> > q; //\u53cc\u7aef\u961f\u5217 \n\nint main() {\n    memset(f, 0x3f, sizeof(f)); // \u521d\u59cb\u5316 \n    n=read(); sx=read(); sy=read();\n    for (register int i=1; i<=n; i++) {\n        int x=read(), y=read();\n        a[x][y]=1; //\u653e\u8349\u5806 \n    }\n    q.push_back(make_pair(sx, sy)); //\u8d77\u70b9\u538b\u5165 \n    f[sx][sy]=0; v[sx][sy]=1; \n    while (q.size()) {\n        int x=q.front().first, y=q.front().second; q.pop_front();\n        if (x == 0 && y == 0) { //\u5230\u4e86\u5750\u6807\u539f\u70b9 \n            write(f[x][y]);  \n            return 0;\n        }\n        for (register int i=0; i<4; i++) {\n            int x0=x+dx[i], y0=y+dy[i];\n            if (x0 < 0 || x0 > 1001 || y0 < 0 || y0 > 1001) continue; //\u8d85\u51fa\u8303\u56f4 \n            if (v[x0][y0]) continue; \n            v[x0][y0]=1;\n            f[x0][y0]=f[x][y]+a[x0][y0]; //\u66f4\u65b0\u7b54\u6848 \n            //\u6574\u6bb5\u4ee3\u7801\u7684\u91cd\u70b9\u6765\u4e86 \n            if (a[x0][y0]) q.push_back(make_pair(x0, y0)); //\u6709\u8349\u5806\u538b\u5230\u961f\u5c3e \n            else q.push_front(make_pair(x0, y0)); //\u6ca1\u8349\u5806\u538b\u5230\u961f\u9996\uff0c\u4f18\u5148\u66f4\u65b0\u5176\u4ed6\u70b9  \n        }\n    }\n    return 0;\n}\n\n}\n\nint main() {\n    atyou::main();\n    return 0;\n}\n\n```\n",
        "postTime": 1541125341,
        "uid": 26023,
        "name": "_Atyou",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1849 \u3010[USACO12MAR]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "\u89e3\u6cd5\uff1a\u4f18\u5148\u961f\u5217\u5e7f\u641c\u3002\u5efa\u7acb\u4ee5\u79fb\u52a8\u7684\u5e72\u8349\u6570\u4e3a\u7b2c\u4e00\u5173\u952e\u5b57\u7684\u5c0f\u6839\u5806\uff0c\u501f\u52a9\u8d2a\u5fc3\uff0c\u5f53\u53d6\u51fa\u5806\u9876\u7684\u5750\u6807\u4e3a(0,0)\uff0c\u5373\u4e3a\u6700\u4f18\u89e3\u3002\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<queue>\nusing namespace std;\npriority_queue <pair<int,pair<int,int> > > q; //\u4f18\u5148\u961f\u5217\u7684\u7b2c\u4e00\u5173\u952e\u5b57\u662f\u79fb\u52a8\u7684\u5e72\u8349\u6570\uff0c\u7b2c\u4e8c\u5173\u952e\u5b57\u662f(x,y)\u5750\u6807\uff0c\u5b9e\u73b0\u5c0f\u6839\u5806\uff08\u8fd0\u7528\u76f8\u53cd\u6570\uff09\nint n,sx,sy,x,y,step;\nint m[1100][1100],v[1100][1100];\nint dx[4]={-1,0,1,0};\nint dy[4]={0,-1,0,1};\nint bfs()\n{\n\tq.push(make_pair(0,make_pair(-sx,-sy)));\n\tv[sx][sy]=1;\n\twhile(!q.empty())\n\t{\n\t\tx=-q.top().second.first;\n\t\ty=-q.top().second.second;\n\t\tstep=-q.top().first;\n\t\tq.pop();\n\t\tif (x==0 && y==0)\n\t\t\treturn step;\n\t\tfor(int i=0;i<4;i++)\n\t\t{\n\t\t\tif (x+dx[i]>=0 && x+dx[i]<=1050 \n\t\t\t&& y+dy[i]>=0 && y+dy[i]<=1050 \n\t\t\t&& !v[x+dx[i]][y+dy[i]])\n\t\t\t{\n\t\t\t\tif (m[x+dx[i]][y+dy[i]])\n\t\t\t\t\tq.push(make_pair(-step-1,make_pair(-x-dx[i],-y-dy[i])));\n\t\t\t\telse\n\t\t\t\t\tq.push(make_pair(-step,make_pair(-x-dx[i],-y-dy[i])));\n\t\t\t\tv[x+dx[i]][y+dy[i]]=1;\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d%d\",&n,&sx,&sy);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tm[x][y]=1;\n\t}\n\tprintf(\"%d\",bfs());\n\treturn 0;\n}\n```",
        "postTime": 1534233539,
        "uid": 83001,
        "name": "\u6d77\u6ee8WA\u58f0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1849 \u3010[USACO12MAR]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "\u672c\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\uff01\n\n\u601d\u8def\u5f88\u7b80\u5355\uff1a\u4ece\u51fa\u53d1\u70b9\u8fdb\u884c\u5e7f\u641c\uff0c\u5c06\u672c\u6b21\u5e7f\u641c\u63a5\u89e6\u5230\u7684\u6240\u6709\u5e72\u8349\u5806\u642c\u8d70\uff0c\u518d\u8fdb\u884c\u5e7f\u641c\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u7b2ci\u6b21\u5e7f\u641c\u904d\u5386\u5230\u539f\u70b9\u4e3a\u6b62\uff0c\u7b54\u6848\u5373\u4e3ai-1\u3002\u8bc1\u660e\u4e5f\u5f88\u663e\u7136\uff0c\u5728\u6b64\u4e0d\u518d\u8d58\u8ff0\u3002\n\n\u590d\u6742\u5ea6\u7684\u8bdd\u662f\u6700\u574fO(n^3)  \uff08\u5e94\u8be5\u5427\uff09\n\n\n\u732e\u4e0a\u6211\u62d9\u964b\u7684\u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<queue>\n#include<cstring>\n#include<iostream>\nusing namespace std;\nint n,mx,my,bx,by,mp[1010][1010],v[1010][1010],ans;\nint xd[5]={0,0,0,1,-1};\nint yd[5]={0,1,-1,0,0};\nqueue<pair<int,int> > q;\n\nbool bfs(){\n    memset(v,0,sizeof v);\n    q.push(make_pair(bx,by));\n    while(q.size()){\n        int x=q.front().first;\n        int y=q.front().second;\n        q.pop();\n        if(x==0&&y==0)return 1;\n        for(int i=1;i<=4;i++){\n            int dx=x+xd[i];\n            int dy=y+yd[i];\n            if(v[dx][dy]||dx<0||dy<0||dx>mx||dy>my)continue;\n            if(mp[dx][dy]){\n                mp[dx][dy]=0;\n                v[dx][dy]=1;\n                continue;\n            }\n            q.push(make_pair(dx,dy));\n            v[dx][dy]=1;\n        }\n    }\n    return 0;\n}\n\nint main(){\n    scanf(\"%d%d%d\",&n,&bx,&by);\n    mx=bx,my=by;\n    for(int i=1;i<=n;i++){\n        int x,y;\n        scanf(\"%d%d\",&x,&y);\n        mx=max(mx,x);\n        my=max(my,y);\n        mp[x][y]=1;\n    }\n    mx++,my++;\n    while(!bfs())\n        ans++;\n    printf(\"%d\",ans);\n    return 0;\n}\n```",
        "postTime": 1536926964,
        "uid": 60818,
        "name": "Chevalier",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1849 \u3010[USACO12MAR]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "\n\n\u8fd9\u9898\u76ee\u8fd8\u86ee\u7b80\u5355\uff0c\u8bb0\u4f4f\uff0c\u7528spfa\u7684\u65f6\u5019\uff0c\u6570\u7ec4\u4e00\u5b9a\u8981\u5f00\u5927\u4e00\u4e9b\uff0c\u4e0d\u7136\uff0cSPFA\u4f1a\u50bb\u903c\u903c\u7684\u628a\u4f60\u6240\u6709\u7684\u70b9\u90fd\u8d70\u4e00\u904d\uff0c\u7136\u540e\u4f60\u5c31\u83ab\u540d\u6570\u7ec4\u8d8a\u754c\uff0c\n\n\u5224\u65ad\u4e00\u4e0b\u5c31SPFA\u5c31\u597d\u4e86\n\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint z[4]={0,0,1,-1},c[4]={1,-1,0,0};\nint n,x,y,x1,y2,mapp[1010][1010],q1[1001000],q2[1001000],d[1010][1010];\nbool v[1011][1011];\nvoid inti() {\n    cin>>n>>x>>y;\n    for (int i=1; i<=n; i++)\n        cin>>x1>>y2,mapp[x1][y2]=1;\n}\nvoid spfa(int x,int y) {\n    memset(d,127,sizeof(d));\n    v[x][y]=1;\n    d[x][y]=mapp[x][y];\n    q1[0]=x;\n    q2[0]=y;\n    int head=0,tail=1;\n    while (head!=tail) {\n        int nx=q1[head],ny=q2[head];\n        head=(head+1)%100000;\n        for(int i=0; i<4; i++) {\n            int sx=nx+c[i],sy=ny+z[i];\n            if(sx>=0 && sx<=1001 && sy>=0 && sy<=1001 && d[sx][sy]>d[nx][ny]+mapp[sx][sy]){\n                d[sx][sy]=d[nx][ny]+mapp[sx][sy];\n                if (!v[sx][sy]) {\n                    v[sx][sy]=1;\n                    tail=(1+tail)%100000;\n                    q1[tail]=sx;\n                    q2[tail]=sy;\n                }\n            }\n        }        \n        v[nx][ny]=0;\n    }\n}\nvoid work() {\n    spfa(x,y);\n    cout<<d[0][0];\n}\nint main() {\n    inti();\n    work();\n    return 0;\n}\n```",
        "postTime": 1502261837,
        "uid": 21869,
        "name": "maple_tzc",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1849 \u3010[USACO12MAR]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "~~\u840c\u65b0\u521a\u5b66OI~~ \u840c\u65b0\u5f88\u83dc\uff0c\u4e0d\u4f1a\u5f88\u591a\u4e13\u4e1a\u7684\u672f\u8bed\uff0c\u56e0\u6b64\u672c\u9898\u89e3\u770b\u8d77\u6765\u4f1a\u5bf9\u548c\u6211\u4e00\u6837\u7684\u840c\u65b0\u53cb\u597d\u4e00\u70b9\u3002\uff08\u5927\u4f6c\u8bf7\u81ea\u52a8\u7565\u8fc7\uff09\n\n\u9898\u76ee\u5927\u610f\uff1a\u7531 $(x0,y0)$ \u70b9\u81f3\u539f\u70b9 $(0,0)$ \u81f3\u5c11\u9700\u8981\u7ecf\u8fc7\u591a\u5c11\u5e72\u8349\u5806\u3002  \n\u8bf4\u5230 **\u81f3\u5c11** \uff0c\u53c8\u662f **\u5728\u5730\u56fe\u4e2d** \uff0c\u6211\u4eec\u60f3\u5230\u53ef\u4ee5\u7528bfs\u6765\u6c42\u89e3\u3002  \n\u4f46\u662f\u5bf9\u4e8e\u50cf\u6211\u4e00\u6837\u7684\u849f\u84bb\u6765\u8bf4\uff0c\u7528\u5355\u4e2a\u4e00\u822c\u7684bfs\u5f88\u96be\u5b9e\u73b0\uff0c\u4e8e\u662f\u60f3\u4e86\uff08\u597d\u5427\u6211\u627f\u8ba4\u662f\u7ecf\u8fc7\u4e86\u6559\u7ec3\u7684\u70b9\u62e8\uff09\u4e24\u79cd\u65b9\u6cd5\u8fdb\u884c\u6c42\u89e3\uff08\u5747\u4ee5bfs\u4e3a\u601d\u8def\uff09\uff1a\n\n## \u89e3\u6cd5\u4e00\uff1a\u4e00\u4e2abfs\u4e0d\u884c\uff0c\u90a3\u6211\u4eec\u5c31\u6765\u591a\u4e2a\n\u5171\u8fdb\u884c\u591a\u6b21bfs\u641c\u7d22\uff0c\u6bcf\u4e00\u6b21\u641c\u7d22\u90fd\u5c06\u6240\u6709\u80fd\u591f\u5230\u8fbe\u7684\u5730\u70b9\u8fdb\u884c\u6807\u8bb0\uff0c\u76f4\u5230\u6ca1\u6709\u70b9\u53ef\u4ee5\u518d\u8d70\u4e86\uff08\u5373\u5468\u56f4\u5168\u90fd\u88ab\u5e72\u8349\u5806\u56f4\u8d77\u6765\u4e86\uff09\u6ce8\u610f\uff1a\u5e72\u8349\u5806\u4e5f\u9700\u8981\u6807\u8bb0\u3002   \n\u800c\u540e\u7684\u641c\u7d22\u53ef\u4ee5\u76f4\u63a5\u8d70\u8fc7\u8fd9\u4e9b\u6807\u8bb0\u8fc7\u7684\u5e72\u8349\u5806\u3002  \n\u5f53\u539f\u70b9\u4e5f\u88ab\u6807\u8bb0\u6389\u4ee5\u540e\uff0c\u505c\u6b62\u641c\u7d22\u3002  \n\u6700\u540e\u7684\u7b54\u6848\u5c31\u662f \u641c\u7d22\u7684\u603b\u6b21\u6570 ${ -1 }$ \u3002  \n \u53c2\u8003\u4ee3\u7801\uff1a \n```cpp\n#include<bits/stdc++.h>  //\u4e07\u80fd\u5934\u6587\u4ef6\uff08\u5077\u61d2\uff09 \nusing namespace std;\ninline int read()//\u5feb\u8bfb\uff08\u8bfb\u5165\u4f18\u5316\uff09 \n{\n\tint s=0,w=1;\n\tchar ch=getchar();\n\twhile(ch<'0' || ch>'9')\n\t{\n\t\tif(ch=='-')w=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0' && ch<='9')\n\t{\n\t\ts=s*10+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn s*w;\n}\nint n;\nint k;\nint xx,yy;\nint nn,mm;\nint mv[4][2]={{1,0},{-1,0},{0,1},{0,-1}};  //\u79fb\u52a8\u6570\u7ec4 \nint mark[1111][1111];\nint cnt;  //\u641c\u7d22\u6b21\u6570\u7edf\u8ba1\uff08\u5373\u7b54\u6848\uff09 \nstruct node{ \n\tint x,y;\n};\nvoid bfs()\n{\n\tqueue<node>que;//STL\u5927\u6cd5\u597d \n\tnode head;\n\thead.x=xx;\n\thead.y=yy;\n\tmark[xx][yy]=k;\n\tque.push(head);\n\twhile(!que.empty())//\u5f00\u59cbbfs \n\t{\n\t\tint x=que.front().x;\n\t\tint y=que.front().y;\n\t\tque.pop();\n\t\tfor(int i=0;i<4;i++)\n\t\t{\n\t\t\tint tx=x+mv[i][0];\n\t\t\tint ty=y+mv[i][1];\n\t\t\tif(tx>=0 && tx<=nn && ty>=0 && ty<=mm)\n\t\t\t{\n\t\t\t\tif(mark[tx][ty]<=cnt)//\u5982\u679c\u8fd9\u4e2a\u70b9\u4e3a0\uff08\u4e0d\u662f\u5e72\u8349\u5806\uff09\u6216\u8005\u5c0f\u4e8e\u7b49\u4e8ecnt\uff08\u662f\u4ee5\u524d\u641c\u7d22\u8fc7\u7684\u5e72\u8349\u5806\uff09\u90a3\u4e48\u5c06\u5176\u52a0\u5165\u961f\u5217 \n\t\t\t\t{\n\t\t\t\t\tnode t;\n\t\t\t\t\tt.x=tx;\n\t\t\t\t\tt.y=ty;\n\t\t\t\t\tque.push(t);\n\t\t\t\t}\n\t\t\t\tmark[tx][ty]=cnt+1;//\u5c06\u70b9\u6807\u8bb0 \n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tn=read();\n\txx=read();\n\tyy=read();\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint a,b;\n\t\ta=read();\n\t\tb=read();\n\t\tmark[a][b]=INT_MAX;//\u5e72\u8349\u5806\u7684\u521d\u59cb\u6807\u8bb0\u8bbe\u4e3a\u65e0\u7a77\u5927 \n\t\tnn=max(nn,a);\n\t\tmm=max(mm,b);\n\t}\n\tnn++;mm++;//\u5730\u56fe\u7684\u8fb9\u754c\u4e3a\u5e72\u8349\u5806\u5750\u6807\u6700\u5927\u7684\u70b9\u518d+1\uff08\u56e0\u4e3a\u53ef\u4ee5\u8d70\u5230\u5e72\u8349\u5806\u7684\u540e\u4e00\u683c\uff09 \n\tbfs();   //\u7b2c\u4e00\u6b21\u641c\u7d22 \n\twhile(mark[0][0]==0)//\u5982\u679c\u539f\u70b9\u672a\u88ab\u6807\u8bb0\uff0c\u5219\u7ee7\u7eed\u641c\u7d22 \n\t{\n\t\tcnt++;\n\t\tbfs();\n\t}\n\tcout<<cnt;\n\treturn 0;\n}\n```\n\u6b64\u89e3\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u8f83\u9ad8\uff0c\u4f46\u66f4\u6613\u7406\u89e3\n\n\n------------\n## \u89e3\u6cd5\u4e8c\uff1a\u53cc\u7aef\u961f\u5217\u4f18\u5316bfs\n\u50cf\u4e00\u822c\u7684bfs\u4e00\u6837\u641c\u7d22\uff0c\u53ea\u4e0d\u8fc7\u9047\u5230\u6709\u5e72\u8349\u5806\u7684\u5c31\u5f80\u961f\u5217\u540e\u9762\u52a0\uff0c\u5426\u5219\u5c31\u6b63\u5e38\u5730\u52a0\u5230\u961f\u5217\u7684\u524d\u9762\u3002  \n\u539f\u7406\uff1a\u4fdd\u8bc1\u4e86\u5728\u961f\u5217\u524d\u9762\u7684\u70b9\u9700\u8981\u7ecf\u8fc7\u7684\u5e72\u8349\u5806\u59cb\u7ec8\u5c0f\u4e8e\u6216\u7b49\u4e8e\u5728\u961f\u5217\u540e\u9762\u7684\u70b9\uff0c\u56e0\u6b64\u641c\u7d22\u5230\u539f\u70b9\u7684\u65f6\u5019\u4e5f\u53ef\u4ee5\u4fdd\u8bc1\u6b64\u65f6\u7ecf\u8fc7\u7684\u5e72\u8349\u5806\u662f\u6700\u5c11\u7684\u3002  \n\u53c2\u8003\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ninline int read()\n{\n\tint s=0,w=1;\n\tchar ch=getchar();\n\twhile(ch<'0' || ch>'9')\n\t{\n\t\tif(ch=='-')w=-1;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0' && ch<='9')\n\t{\n\t\ts=s*10+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn s*w;\n}\nint n;\nint xx,yy;\nint nn,mm;\nint mv[4][2]={{1,0},{-1,0},{0,1},{0,-1}};\nint mapp[1111][1111];\nint mark[1111][1111];\nint cnt;\nstruct node{\n\tint x,y,step;\n};\nvoid bfs()\n{\n\tdeque<node>que;//\u53cc\u7aef\u961f\u5217\uff0cSTL\u5927\u6cd5\u597d\uff01\uff01 \n\tnode head;\n\thead.x=0;\n\thead.y=0;\n\tmark[0][0]=1;//\u603b\u89c9\u5f97\u4ece\u539f\u70b9\u5f00\u59cb\u641c\u4f1a\u5feb\u4e00\u70b9 \n\thead.step=0;\n\tque.push_back(head);//\u4e0e\u4e00\u822c\u7684\u961f\u5217\u6ca1\u4ec0\u4e48\u533a\u522b\uff0c\u4e3b\u8981\u5c31\u662fpush\u4e0epop\u7684\u65f6\u5019\u9700\u8981\u52a0\u4e0afront\uff08\u4ece\u961f\u5934\uff09\u6216\u8005back\uff08\u4ece\u961f\u5c3e\uff09 \n\twhile(!que.empty())\n\t{\n\t\tint x=que.front().x;\n\t\tint y=que.front().y;\n\t\tint s=que.front().step;\n\t\tque.pop_front();\n\t\tif(x==xx && y==yy)//\u641c\u7d22\u5230\u76ee\u6807\u70b9\uff0c\u6b64\u65f6\u7684\u7b54\u6848\u5fc5\u5b9a\u662f\u6700\u4f18\u7b54\u6848\uff08\u4e0a\u9762\u5df2\u7ecf\u89e3\u91ca\u8fc7\u4e86\uff09 \n\t\t{\n\t\t\tcout<<s;\n\t\t\treturn ;\n\t\t}\n\t\tfor(int i=0;i<4;i++)\n\t\t{\n\t\t\tint tx=x+mv[i][0];\n\t\t\tint ty=y+mv[i][1];\n\t\t\tif(tx>=0 && tx<=nn && ty>=0 && ty<=mm && !mark[tx][ty])\n\t\t\t{\n\t\t\t\tmark[tx][ty]=1;\n\t\t\t\tnode t;\n\t\t\t\tt.x=tx;\n\t\t\t\tt.y=ty;\n\t\t\t\tt.step=s;\n\t\t\t\tif(!mapp[tx][ty])\n\t\t\t\t{\n\t\t\t\t\tque.push_front(t);//\u6ca1\u9047\u5230\u5e72\u8349\u5806\uff0c\u961f\u5934\u52a0\u5165 \n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tt.step=s+1;\n\t\t\t\t\tque.push_back(t);//\u9047\u5230\u4e86\u5e72\u8349\u5806\uff0c\u4ece\u961f\u5c3e\u52a0\u5165 \n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tn=read();\n\txx=read();\n\tyy=read();\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint a,b;\n\t\ta=read();\n\t\tb=read();\n\t\tmapp[a][b]=1;\n\t\tnn=max(nn,a);\n\t\tmm=max(mm,b);\n\t}\n\tnn++;mm++;//\u540c\u4e0a \n\tbfs();//\u53ea\u9700\u8981\u641c\u7d22\u4e00\u6b21 \n\treturn 0;\n}\n```\n\n\uff08\u5c0f\u5efa\u8bae\uff1a\u5584\u7528c++\u7684STL\u5e93\uff0c\u771f\u7684\u975e\u5e38\u65b9\u4fbf\uff09  \n\u6700\u540e\uff0c\u6b22\u8fce\u5927\u5bb6\u5728\u8bc4\u8bba\u533a\u63d0\u51fa\u610f\u89c1\uff01",
        "postTime": 1603952289,
        "uid": 290856,
        "name": "SzTC",
        "ccfLevel": 0,
        "title": "\u9898\u89e3P1849 [USACO12MAR]Tractor S"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u76ee\u5427\uff0c\u770b\u5927\u5bb6\u6709\u7528spfa\u7684\uff0c\u8fd8\u6709\u7528\u4f18\u5148\u961f\u5217\u7684\u3002\n\n\u4f46\u662f\uff0c\u4e2a\u4eba\u611f\u89c9\uff0c\u54b1\u4eec\u6a21\u62df\u4e00\u4e0b\uff0c\u662f\u66f4\u7b80\u5355\u7c97\u66b4\u7684\uff0c\u5b9e\u6d4b\u901f\u5ea6142ms\n\n\u601d\u8def\u5f88\u7b80\u5355\uff0c**\u4ece\u56db\u4e2a\u8fb9\u89d2\u70b9\u5411\u5185\u66f4\u65b0\uff0c\u56db\u79cd\u60c5\u51b5\u7684\u7ed3\u679c\u53d6\u6700\u5c0f**\uff0c\u5c31\u53ef\u4ee5\u4e86\u53ed\n\n\u6211\u662f\u849f\u84bb\uff0c\u5404\u4f4d\u5927\u4f6c\u968f\u4fbf\u770b\u770b\u5c31\u597d\u4e86\n```cpp\n#include<iostream>\n#include<cmath>\n#include<algorithm>\n#include<cstdio>\n#include<cstring>\nusing namespace std;\nint p[1005][1005];//\u56fe \nint n,xx,yy;\nint h,r;\nint f[1005][1005],g[1005][1005],w[1005][1005],z[1005][1005];\nint ans;\n\nint main()\n{\n\tfreopen(\"tractor.in\",\"r\",stdin);\n    freopen(\"tractor.out\",\"w\",stdout);\n\tscanf(\"%d%d%d\",&n,&xx,&yy);\n\tint xi,yi;\n\tfor(register int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d%d\",&xi,&yi);\n\t\tp[xi][yi]=1;//\u88ab\u5360\u636e \n\t\th=max(h,yi); r=max(r,xi);  \n\t}\n\t//\u4ece\u56db\u4e2a\u70b9\u5f00\u59cb\u641c\u7d22\n\tfor(register int i=1;i<=xx;i++)\n\tfor(register int j=1;j<=yy;j++)\n\t{\n\t\tf[i][j]=min(f[i-1][j],f[i][j-1]);\n\t\tif(p[i][j])//\u88ab\u5360\u636e\n\t\t{\n\t\t\tf[i][j]++;\n\t\t} \n\t}\n\tans=f[xx][yy];\n\t//\uff080\uff0c0\uff09\n\tfor(register int i=1;i<=xx;i++)\n\tfor(register int j=h;j>=yy;j--)\n\t{\n\t\tg[i][j]=min(g[i-1][j],g[i][j+1]);\n\t\tif(p[i][j])\n\t\t{\n\t\t\tg[i][j]++; \n\t\t}\n\t}\n\tans=min(ans,g[xx][yy]); \n\t//\u5de6\u4e0a\u89d2 \n\tfor(register int i=r;i>=xx;i--)\n\tfor(register int j=1;j<=yy;j++)\n\t{\n\t\tw[i][j]=min(w[i+1][j],w[i][j-1]);\n\t\tif(p[i][j])\n\t\t{\n\t\t\tw[i][j]++;\n\t\t}\n\t}\n\tans=min(ans,w[xx][yy]);\n\t//\u53f3\u4e0b\u89d2\n\tif(r<1000||h<1000) \n\t{\n\t\tfor(register int i=r;i>=xx;i--)\n\t\tfor(register int j=h;j>=yy;j--)\n\t\t{\n\t\t\tz[i][j]=min(z[i+1][j],z[i][j+1]);\n\t\t\tif(p[i][j])\n\t\t\t{\n\t\t\t\tz[i][j]++;\n\t\t\t} \n\t\t}\n\t\tans=min(ans,z[xx][yy]);\n\t} \n\telse{\n\t\tz[xx][yy]=ans;\n\t\tfor(register int i=xx+1;i<=r;i++) z[i][yy]=w[i][yy];\n\t\tfor(register int j=yy+1;j<=h;j++) z[xx][j]=g[xx][j];\n\t\tfor(register int i=xx+1;i<=r;i++)\n\t\tfor(register int j=yy+1;j<=h;j++)\n\t\t{\n\t\t\tz[i][j]=min(z[i-1][j],z[i][j-1]);\n\t\t\tif(p[i][j]) z[i][j]++;\n\t\t}\n\t\tfor(register int i=r-1;i>=xx;i--)\n\t\tfor(register int j=h-1;j>=yy;j--)\n\t\t{\n\t\t\tint temp=min(z[i+1][j],z[i][j+1]);\n\t\t\tif(p[i][j]) temp++;\n\t\t\tz[i][j]=min(z[i][j],temp);\n\t\t}\n\t\tans=min(ans,z[xx][yy]);\n\t}\n\tcout<<ans<<endl;\n\tfclose(stdin);\n    fclose(stdout);\n\treturn 0; \n} \n```",
        "postTime": 1536389489,
        "uid": 86989,
        "name": "\u4ef0\u9762\u6e05\u98ce",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1849 \u3010[USACO12MAR]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "### \u6211\u8fd9\u9053\u9898\u7684\u505a\u6cd5\u975e\u5e38\u5947\u8469\uff0c\u4ec5\u4f9b\u53c2\u8003\n\n\u4e00\u770b\u5230\u56fe\u8bba\u6807\u7b7e\uff0c\u6211\u5c31\u60f3\u5230\u8981\u628a\u6bcf\u4e2a\u70b9\u5411\u56db\u5468\u8fde\u8fb9\uff0c\u4f46\u53d1\u73b0\u6570\u636e\u4e0d\u5bb9\u8bb8\u3002\u3002\u3002\u4e8e\u662f\u6211\u5c31\u60f3\u5230\u5c06\u4e00\u4e2a\u8fde\u901a\u5757\u770b\u4f5c\u4e00\u4e2a\u70b9\uff0c\u7136\u540e\u8fdb\u884cdijkstra\uff0c\u6c42\u51fa\u6700\u77ed\u8def\u3002\n\n\u505a\u6cd5\uff1a\n\n1. \u5c06\u6570\u636e\u5904\u7406\u6210\u5730\u56fe\uff0c\u6c42\u51fa\u8fde\u901a\u5757\u5e76\u6807\u53f7\uff08\u8fd9\u91cc\u6211\u7528dfs\u7206\u6808\u4e86\u3002\u3002\u3002\u6211\u7528\u4e86bfs\uff09\u3002\n2. \u5bf9\u4e8e\u62d6\u62c9\u673a\u6240\u5728\u7684\u8054\u901a\u5757\u8fdb\u884cbfs\uff0c\u5047\u8bbe\u5f53\u524d\u4e3apos\uff0c\u53e6\u4e00\u4e2a\u4e3apos2\uff0c\u5c31\u8ba9pos\u7684**\u8fde\u901a\u5757\u7f16\u53f7**\u5411pos2\u7684**\u8fde\u901a\u5757\u7f16\u53f7**\u8fde\u8fb9\uff0c\u6743\u503c\u4e3apos2\u5e72\u8349\u5757\u6570\u91cf\uff08\u6b64\u5904\u8981\u5206\u4e24\u79cd\u60c5\u51b5\uff0c\u5177\u4f53\u89c1\u4ee3\u7801\uff09\u3002\n3. \u6c42\u62d6\u62c9\u673a\u5230\uff080\uff0c0\uff09\u7684\u6700\u77ed\u8def\uff0c\u8f93\u51fa\u3002\n\n### \u518d\u6b21\u58f0\u660e\uff1a\u4e0d\u5efa\u8bae\u5927\u5bb6\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u592a\u590d\u6742\u4e86\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 400005, M = 1010;\nint n, tot=0;\nint X, Y, dis[N], a[M+10][M+10], num[M+10][M+10];\npair<int, int> q2[10000005];\nint head=1, tail=0;//queue\u70b8\u4e86\uff0c\u624b\u5199\nbool vis[M+10][M+10], f[N];\nint dx[5] = {0, 1, 0, -1}, dy[5] = {-1, 0, 1, 0};\nvector<pair<int, int> > e[N], p[N];\nqueue<pair<int, int> > q;\npriority_queue<pair<int, int>, vector<pair<int, int> >, greater<pair<int, int> > > pq;\nint dijkstra(){\n\tmemset(f, 0, sizeof(f));\n\tmemset(dis, 0x3f, sizeof(dis));\n\tdis[num[X][Y]] = 0;\n\tpq.push({0, num[X][Y]});\n\twhile (!pq.empty()){\n\t\tint u = pq.top().second;\n\t\tpq.pop();\n\t\tif (f[u]) continue;\n\t\tf[u] = 1;\n\t\tfor (int i = 0; i < e[u].size(); i++){\n\t\t\tint v = e[u][i].first, w = e[u][i].second;\n\t\t\tif (dis[v] > dis[u]+w){\n\t\t\t\tdis[v] = dis[u]+w;\n\t\t\t\tpq.push({dis[v], v});\n\t\t\t}\n\t\t}\n\t}\n\treturn dis[num[0][0]];\n}\nvoid push(pair<int, int> pii){\n\ttail++;\n\ttail %= 10000000;\n\tq2[tail] = pii;\n}\nvoid bfs(int x){\n\tfor (int i = 0; i < p[x].size(); i++) push(p[x][i]), vis[p[x][i].first][p[x][i].second] = 1;\n\twhile (head <= tail){\n\t\tpair<int, int> pos = q2[head];\n//\t\tcout << pos.first << ' ' << pos.second << endl;\n\t\thead++, head %= 10000000;\n\t\tfor (int i = 0; i < 4; i++){\n\t\t\tint xx = pos.first+dx[i], yy = pos.second+dy[i];\n\t\t\tif (xx >= 0 && yy >= 0 && xx <= M && yy <= M && !vis[xx][yy]){\n\t\t\t\tpush({xx, yy});\n\t\t\t\tvis[xx][yy] = 1;\n\t\t\t\tif (num[xx][yy] == 0){//\u5982\u679c\u6709\u5e72\u8349\u5757\uff08\u5728\u524d\u9762bfs\u5904\u7406\u7684\u65f6\u5019\u6807\u53f7\u4e3a1\n\t\t\t\t\tnum[xx][yy] = ++tot;\n\t\t\t\t\te[num[pos.first][pos.second]].push_back({tot, a[xx][yy]});//\u8fde\u8fb9\n\t\t\t\t}else{\n\t\t\t\t\tfor (int j = 0; j < p[num[xx][yy]].size(); j++){\n\t\t\t\t\t\tint _x = p[num[xx][yy]][j].first, _y = p[num[xx][yy]][j].second;\n\t\t\t\t\t\tif (!vis[_x][_y]){\n\t\t\t\t\t\t\tpush({_x, _y});//\u5c06\u8fde\u901a\u5757\u6240\u6709\u7684\u70b9\u52a0\u5165queue\n\t\t\t\t\t\t\tvis[_x][_y] = 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\te[num[pos.first][pos.second]].push_back({num[xx][yy], 0});//\u8fde\u8fb9\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nvoid bfs2(int x, int y){//\u6d2a\u6c34\u64cd\u4f5c\n\twhile (!q.empty()) q.pop();\n\tq.push({x, y});\n\twhile (!q.empty()){\n\t\tpair<int, int> pos = q.front();\n\t\tq.pop();\n\t\tfor (int i = 0; i < 4; i++){\n\t\t\tint xx = pos.first+dx[i], yy = pos.second+dy[i];\n\t\t\tif (xx >= 0 && yy >= 0 && xx <= M && yy <= M && !num[xx][yy] && a[xx][yy] == 0){\n\t\t\t\tnum[xx][yy] = tot;\n\t\t\t\tq.push({xx, yy});\n\t\t\t}\n\t\t}\n\t}\n}\nint main(){\n\tstd::ios::sync_with_stdio(false); cin.tie(0); cout.tie(0);\n//\tfreopen(\"test_file/in.txt\", \"r\", stdin);\n//\tfreopen(\"test_file/out.out\", \"w\", stdout);\n\tmemset(vis, 0, sizeof(vis));\n\tmemset(num, 0, sizeof(num));\n\tmemset(a, 0, sizeof(a));\n\tcin >> n >> X >> Y;\n\tfor (int i = 0; i < n; i++){\n\t\tint x, y;\n\t\tcin >> x >> y;\n\t\ta[x][y]++;\n\t}\n\tfor (int i = 0; i <= M; i++)\n\t\tfor (int j = 0; j <= M; j++) if (!num[i][j] && a[i][j] == 0){\n\t\t\ttot++;\n\t\t\tnum[i][j] = tot;\n\t\t\tbfs2(i, j);\n\t\t}\n\tfor (int i = 0; i <= M; i++)\n\t\tfor (int j = 0; j <= M; j++) if (num[i][j])\n\t\t\tp[num[i][j]].push_back({i, j});\n\tbfs(num[X][Y]);\n\tcout << dijkstra() << endl;\n\treturn 0; \n}\n```\n\n### \u6700\u540e\u6c42\u7ba1\u7406\u5458\u5927\u5927\u901a\u8fc7QWQ\uff01\uff01\uff01",
        "postTime": 1585194251,
        "uid": 171288,
        "name": "Tony2",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1849 \u3010[USACO12MAR]Tractor S\u3011"
    },
    {
        "content": "\u9996\u5148\u8fd9\u9053\u9898\u6211\u4eec\u53ef\u4ee5\u641c\u7d22 ~~\u5e9f\u8bdd~~\n\n\u5927\u90e8\u5206\u8dd1\u7684\u662fspfa\u6216\u8005\u662f\u7c7b\u4f3c\u7684BFS\u3002\u5982\u679c\u5230\u8fd9\u4e2a\u70b9\u7684\u82b1\u8d39\u6bd4\u4e4b\u524d\u66f4\u5c11\uff0c\u5c31\u5165\u961f\u641c\u7d22\u3002\n\n\u53ef\u662f\uff0c\u5982\u679c\u8fd9\u4e48\u6837\u7684\u8bdd\u3002\u4e00\u4e2a\u70b9\u81f3\u5c11\u4f1a\u88ab\u5165\u961f\u4e00\u6b21\u3002\n\n\u90a3\u600e\u4e48\u4f18\u5316\u5462\uff1f\n\n## \u6211\u4eec\u5148\u629b\u5f00\u8fd9\u4e2a\u9898\n\n\u6211\u4eec\u5148\u60f3BFS\u7684\u672c\u8d28\u3002\n\nBFS\u7684\u5927\u4f53\u601d\u8def\u5c31\u662f\u6309\u7167\u72b6\u6001\u8f6c\u79fb\u7684\u6b21\u6570\u8fdb\u884c\u6709\u5c42\u6b21\u7684\u4fbf\u5229\u3002\n\n\u76f4\u5230\u904d\u5386\u5230\u6240\u6709\u72b6\u6001\u6216\u76ee\u6807\u72b6\u6001\u3002\n\n\u8fd9\u5230\u9898\u5462\uff1f  \u72b6\u6001\u5c31\u662f\u79fb\u5f00\u7684\u5e72\u8349\u6570\n\n\u53ef\u662f\u5982\u679c\u8fd9\u4e48\u5b9a\u4e49\u72b6\u6001\u7684\u8bdd\u3002\u867d\u7136\u641c\u5230\u76ee\u6807\u72b6\u6001\u5c31\u662f\u6700\u4f18\u89e3\uff0c\u4f46\u662f\u73b0\u5728\u7684\u96be\u9898\u5c31\u662f\u72b6\u6001\u7684\u8f6c\u79fb\u3002\n\n\u56e0\u4e3a\u6bcf\u4e2a\u72b6\u6001\u7684\u90fd\u4e0d\u662f\u76f8\u8fde\u7684\u3002\n\n\u800c\u6211\u4eec\u4e00\u822c\u5199bfs\u90fd\u662f\u5c06\u56db\u4e2a\u6216\u516b\u4e2a\u65b9\u5411\u7684\u76f8\u90bb\u7684\u70b9\u6269\u5c55\u51fa\u6765\u3002\n\n\u5982\u679c\u8fd9\u4e48\u5199\u7684\u8bdd\uff0c\u5c31\u9ed8\u8ba4\u4e86\u8ddd\u79bb\u5c31\u662f\u72b6\u6001\u3002\n\n\u6211\u4eec\u5c31\u53ef\u4ee5\u5199\u4e00\u4e2adfs\u51fd\u6570\u8f85\u52a9\u72b6\u6001\u8f6c\u79fb\u3002\n\n## \u5bf9\uff0c\u6ca1\u6709\u9519\u3002\u5c31\u662fdfs\n\ndfs\u662f\u5177\u6709\u8fde\u7eed\u6027\u7684\u3002\n\n\u6bd4\u5982\u8bf4dfs\u7248spfa\u5c31\u662f\u6bd4bfs\u7684spfa\u5224\u8d1f\u73af\u5feb\uff0c\u56e0\u4e3a\u5c31\u662f\u5177\u6709\u8fde\u7eed\u6027\u3002\n\n\u6240\u4ee5\uff0cBFS+DFS\u6269\u5c55\u72b6\u6001\u5c31\u53ef\u4ee5\u4e86\u3002\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#include<queue>\nusing namespace std;\nstruct node\n{\n    int x;\n    int y;\n};\nqueue<node> q;\nint map[1010][1010];\nint vis[1010][1010];\nint dx[4]={-1,0,1,0};\nint dy[4]={0,-1,0,1};\nint n,bx,by;\nbool flag;\nnode ha;\nint read()\n{\n    int w=0;\n    char in=getchar();\n    while(in<'0'||in>'9')\n        in=getchar();\n    while(in>='0'&&in<='9')\n    {\n        w=(w<<1)+(w<<3)+in-'0';\n        in=getchar();\n    }\n    return w;\n}\nbool check(int x,int y)\n{\n    if(x<0||y<0||x>1001||y>1001)\n        return false;\n    return true;\n}\nvoid dfs(int x,int y,int step)\n{\n    if(vis[x][y]&&vis[x][y]<step)\n        return ;\n    vis[x][y]=step;\n    for(int i=0;i<=3;i++)\n    {\n        if(flag)\n            return ;\n        if(check(x+dx[i],y+dy[i])&&(vis[x+dx[i]][y+dy[i]]>step+1||!vis[x+dx[i]][y+dy[i]]))\n        {\n            if(x+dx[i]==0&&y+dy[i]==0)//\u7ec8\u70b9 \n            {\n                flag=true;\n                vis[0][0]=step;\n                if(map[0][0])\n                    vis[0][0]+=1;\n                return ;\n            }\n            if(map[x+dx[i]][y+dy[i]])//\u5982\u679c\u9047\u5230\u4e86\u4e00\u4e2a\u6709\u5e72\u8349\u7684\u5757\uff0c\u5c31\u662f\u627e\u5230\u4e86\u4e0b\u4e00\u4e2a\u72b6\u6001. \n            {\n                vis[x+dx[i]][y+dy[i]]=step+1;\n                ha.x=x+dx[i];\n                ha.y=y+dy[i];\n                q.push(ha);\n                continue;\n            }\n            dfs(x+dx[i],y+dy[i],step);\n        }\n    }\n}\nint main()\n{\n    n=read();\n    bx=read();\n    by=read();\n    int a,b;\n    for(int i=1;i<=n;i++)\n    {\n        a=read();b=read();\n        map[a][b]=true;\n    }\n    node pass;\n    /*pass.x=bx;\n    pass.y=by;\n    q.push(pass);\n    vis[bx][by]=1;*/\n    dfs(bx,by,1);\n    while(!flag)\n    {\n        pass=q.front();\n        /*if(pass.x==0&&pass.y==0)\n            break;*/\n        q.pop();\n        dfs(pass.x,pass.y,vis[pass.x][pass.y]);//\u5f88\u7b80\u5355BFS \n    }\n    printf(\"%d\",vis[0][0]-1);\n    return 0;\n}\n/*\n2 1 1\n0 1\n1 0 \n*/\n*/\n```",
        "postTime": 1523688858,
        "uid": 28007,
        "name": "Lance1ot",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1849 \u3010[USACO12MAR]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "\u9898\u610f\uff1a\u5c31\u662f\u4ece\u7ed9\u9876\u70b9\u5230\uff080,0\uff09\u70b9\u6700\u5c11\u7a81\u7834\u51e0\u4e2a\u5708\u3002\n\u601d\u8def\uff1a\u76f4\u63a5\u4f18\u5148\u961f\u5217\u5c31ok\u4e86\uff0c\u8f93\u5165\u4e2d\u7ed9\u7684\u5b9a\u5982\u679c\u5230\u4e86\u5c31\u52a0\u4e00\uff0c\u5176\u4ed6\u70b9\u5c31\u662f\u7236\u8282\u70b9\u7684\u6743\u503c\uff0c\u8fd9\u6837\u4e0d\u65ad\u7684\u8dd1\u5e7f\u641c\u5c31\u597d\u4e86\u3002\n\u6ce8\u610f\uff0c\u8fd9\u91cc\u9762\u5c0f\u4e8e1\u548c\u5927\u4e8e1000\u7684\u4f4d\u7f6e\u4e5f\u662f\u53ef\u4ee5\u8d70\u7684\uff0c\u9898\u76ee\u4e2d\u7ed9\u7684\u5e72\u8349\u5806\u7684\u4f4d\u7f6e\u662f\u5728[1,1000]\u4e4b\u95f4\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5728\u8fd9\u4e2a\u5916\u9762\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u76f4\u63a5\u75280\u6765\u66ff\u4ee3\u8d1f\u65e0\u7a77\u52301,1001\u6765\u66ff\u4ee31000\u5e26\u6b63\u65e0\u7a77\u5c31\u597d\u4e86\u3002\n```c\n#include<bits/stdc++.h>\n#pragma GCC optimize(2)\n#define MAXN 1005\n#define maxnode 1000005\n#define sigma_size 26\n#define md 12345678\n#define INF 0x3f3f3f3f\n#define pii pair<int,int>\nusing namespace std;\n\nbool vis[MAXN][MAXN],pos[MAXN][MAXN];\nstruct node\n{\n    int x,y,pp;\n    node(int x=0,int y=0,int pp=0):x(x),y(y),pp(pp){};\n    bool operator < (const node &rah) const\n    {\n        return pp>rah.pp;\n    }\n};\nint dic_x[4]={0,0,-1,1};\nint dic_y[4]={-1,1,0,0};\nint n,xs,ys;\n\nint solve()\n{\n    priority_queue<node> Q;\n    vis[xs][ys]=true;\n    Q.push({xs,ys,0});\n    while(!Q.empty())\n    {\n        node X=Q.top();\n        Q.pop();\n        if(X.x==0&&X.y==0)\n            return X.pp;\n        for(int i=0;i<4;i++)\n        {\n            int xx=X.x+dic_x[i];\n            int yy=X.y+dic_y[i];\n            if(xx<0||xx>1004||yy<0||yy>1004)\n                continue;\n            if(vis[xx][yy])\n                continue;\n            vis[xx][yy]=true;\n            if(pos[xx][yy])\n            {\n                Q.push({xx,yy,X.pp+1});\n            }\n            else\n            {\n                Q.push({xx,yy,X.pp});\n            }\n        }\n    }\n    return -1;\n}\n\nint main()\n{\n    scanf(\"%d %d %d\",&n,&xs,&ys);\n    int xx,yy;\n    for(int i=1;i<=n;i++)\n    {\n        scanf(\"%d %d\",&xx,&yy);\n        pos[xx][yy]=true;\n    }\n    printf(\"%d\\n\",solve());\n    return 0;\n}\n\n```\n",
        "postTime": 1573470146,
        "uid": 210155,
        "name": "abandentsky",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1849 \u3010[USACO12MAR]\u62d6\u62c9\u673aTractor\u3011"
    },
    {
        "content": "**luogu P1849 [USACO12MAR]\u62d6\u62c9\u673aTractor**      \n\u611f\u8c22Chevalier\u63d0\u4f9b\u7684\u597d\u601d\u8def     \n\u6211\u5728Chevalier\u601d\u8def\u7684\u57fa\u7840\u4e0a\u505a\u4e86\u6539\u8fdb     \n\u5176\u5b9e\u5c31\u662f\u95ee\u81f3\u5c11\u8981\u7a7f\u8fc7\u51e0\u4e2a\u73af     \n\u5982\u56fe\uff1a     \n![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/20190125200954115.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MjM3MA==,size_16,color_FFFFFF,t_70)\n\n\u5e05\u6c14~     \n\u6240\u4ee5......         \n\u5f71\u54cd\u7684\u53ef\u80fd\u6027\u53ea\u6709\u56f4\u7ed5\u8d77\u70b9\u7684\u8349\u5806\u73af\u6570      \n\u6240\u4ee5\u601d\u8def\u51fa\u5566\uff01    \n\u6bcf\u6b21\u4ece\u539f\u70b9BFS\u4e00\u904d\uff0c\u78b0\u5230\u8fb9\u7f18\u5c31\u505c\u4e0b\u3001\u5220\u9664\u3001\u8bb0\u5f55\uff0c\u76f4\u5230\u56de\u5230\u539f\u70b9      \n\u4f46\u662f......     \n\u8fd9\u7b97\u6cd5\u597d\u6162\u554a\uff01     \n\u5b9e\u6d4b1662ms     \n\u8fd8\u4e0d\u5982\u5176\u4ed6\u7684\uff01     \n\u4f46\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u4f18\u5316\u5b83\u3002    \n\u5982\u56fe\uff1a     \n![\u4e0d\u597d\u610f\u601d\uff0c\u653e\u9519\u56fe\u4e86](https://img-blog.csdnimg.cn/20190125201252626.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MjM3MA==,size_16,color_FFFFFF,t_70)\n\u4e0d\u597d\u610f\u601d\uff0c\u653e\u9519\u56fe\u4e86    \n\u5e94\u8be5\u662f\uff1a      \n\n\n![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/20190125201349212.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80Mzg3MjM3MA==,size_16,color_FFFFFF,t_70)\n\u54a6\uff0c\u8fd9\u4e0d\u8fd8\u662f\u521a\u521a\u90a3\u5f20\u56fe\u5417\uff1f   \n\u90a3\u5c31\u76f4\u8bf4\uff1a   \n\u6bcf\u6b21\u4ece\u4e0a\u6b21\u641c\u5230\u7684\u8fb9\u754c\u518d\u641c     \n\u8fd9\u6837\u6bcf\u4e2a\u70b9\u6700\u591a\u641c\u5230\u4e00\u6b21   \n\u65f6\u95f4\u590d\u6742\u5ea6O(X^2)     \n\u975e\u5e38\u4f18\u79c0   \n\u5b9e\u6d4b250ms    \nstd:   \n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define rep(i,a,b) for(int i=a;i<=b;i++)\n#define frep(i,a,b) for(int i=a;i>=b;i--)\n#define MAXN 1005\n#define M 50005\n#define N 1005000\n#define NN 8005000\nint n;\nstruct pos{\n int x,y;\n}st,s[M];\nbool used[MAXN][MAXN]={0};\nbool ue[MAXN][MAXN]={0};\nint ans=0;\nint h=1,t=0;\npos q[NN];\nint sum=0; \npos mark[NN];//\u4e0a\u4e00\u6b21\u641c\u5230\u7684 \nint dx[4]={0,0,1,-1};\nint dy[4]={1,-1,0,0};\nbool bfs(){\n h=1,t=0;\n rep(i,1,sum){\n  q[++t]=mark[i];\n } \n sum=0;\n while(h<=t){\n  pos u=q[h];\n  h++;\n  rep(i,0,3){\n   pos v=u;\n   v.x+=dx[i];\n   v.y+=dy[i];\n   if(v.x<0||v.y<0||v.x>1002||v.y>1002) continue;\n   if(ue[v.x][v.y]) continue;\n   ue[v.x][v.y]=1;\n   if(v.x==0&&v.y==0){\n    printf(\"%d\\n\",ans);\n    exit(0);\n   }\n   if(used[v.x][v.y]){\n    sum++;\n    mark[sum]=v;\n    continue;\n   }\n   t++;\n   q[t]=v;\n  }\n }\n rep(i,1,sum){\n  used[mark[i].x][mark[i].y]=0;\n }\n return 1;\n}\nint main(){\n scanf(\"%d\",&n);\n scanf(\"%d%d\",&st.x,&st.y);\n st.x++;\n st.y++;\n rep(i,1,n){\n  scanf(\"%d%d\",&s[i].x,&s[i].y);\n  s[i].x++;\n  s[i].y++;\n  used[s[i].x][s[i].y]=1;\n }\n sum++;\n mark[sum]=st;\n while(bfs()){//\u53ea\u8981\u8fd8\u6709\u5708 \n  ans++; \n }\n return 0;\n} \n```\n\n",
        "postTime": 1548418795,
        "uid": 61757,
        "name": "Seanq",
        "ccfLevel": 0,
        "title": "P1849 [USACO12MAR]\u62d6\u62c9\u673aTractor"
    },
    {
        "content": "\u5f88\u7b80\u5355\u7684\u5e7f\u641c\uff0c\u53ea\u9700\u5bf9\u5230\uff08x\uff0cy\uff09\u7684\u9700\u8981\u79fb\u5f00\u7684\u5e72\u8349\u6570\u8fdb\u884c\u66f4\u65b0\u5c31\u884c\u4e86\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nint xx,yx,n,m,f[1005][1005],x,y,s[1005][1005],t[50001][2],u[5]={0,1,0,-1,0},ans=9999999;\nvoid bfs()\n{\n    int head=0,tail=1;\n    t[0][0]=x;\n    t[0][1]=y;\n    f[x][y]=0;\n    while(head!=tail)\n    {\n        for(int i=1;i<=4;i++)\n        {\n            int a=t[head][0]+u[i],b=t[head][1]+u[i-1];\n            if(a>=1&&a<=xx&&b>=1&&b<=yx)\n            {\n                if(s[a][b]==1)\n                {\n                    if(f[a][b]>f[t[head][0]][t[head][1]]+1)\n                    {\n                        f[a][b]=f[t[head][0]][t[head][1]]+1;\n                        t[tail][0]=a;\n                        t[tail][1]=b;\n                        tail=(tail+1)%50000;\n                        if(a==1||b==1)\n                        ans=min(ans,f[a][b]);\n                    }\n                }\n                else\n                {\n                    if(f[a][b]>f[t[head][0]][t[head][1]])\n                    {\n                        f[a][b]=f[t[head][0]][t[head][1]];\n                        t[tail][0]=a;\n                        t[tail][1]=b;\n                        tail=(tail+1)%50000;\n                        if(a==1||b==1)\n                        ans=min(ans,f[a][b]);\n                    }\n                }\n            }\n        }\n        head=(head+1)%50000;\n    }\n    return;\n}\nint main()\n{\n    int i,j;\n    cin>>n>>x>>y;\n    for(i=1;i<=n;i++)\n    {\n        int x2,y2;\n        scanf(\"%d%d\",&x2,&y2);\n        s[x2][y2]=1;\n        xx=max(xx,x2);\n        yx=max(yx,y2);\n    }\n    xx++;\n    yx++;\n    memset(f,127/3,sizeof(f));\n    bfs();\n    cout<<ans<<endl;\n    return 0;\n}\n```",
        "postTime": 1484897744,
        "uid": 24805,
        "name": "luaddict",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1849 \u3010[USACO12MAR]\u62d6\u62c9\u673aTractor\u3011"
    }
]