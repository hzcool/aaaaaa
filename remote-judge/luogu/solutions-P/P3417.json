[
    {
        "content": "\u3010POI\u8865\u5168\u8ba1\u5212#1-POI2005 BAN\u3011\n\n\u9898\u610f\u82b1\u4e86\u534a\u4e2a\u5c0f\u65f6\u624d\u7406\u89e3\u3002\u3002\u53ef\u80fd\u662f\u6211\u8bed\u6587\u592a\u5dee\u4e86\n\n\u4e3a\u4e86\u9632\u6b62\u5927\u5bb6\u7406\u89e3\u4e0d\u4e86\uff0c\u6211\u6765\u51e0\u53e5\u8bdd\u63cf\u8ff0\u4e00\u4e0b\n\n\u5b9a\u4e49\u4e00\u4e32\u6570\u5b57\u7684\u4f4d\u7f6e\u5e8f\u5217\u662f\u5c06\u8fde\u7eed\u7684\u76f8\u540c\u6570\u5b57\u53ea\u7559\u4e00\u4e2a\u540e\u7684\u7ed3\u679c\n\n\u4e3e\u4f8b\uff1a2333\u7684\u4f4d\u7f6e\u5e8f\u5217\u4e3a23,552992999\u7684\u4f4d\u7f6e\u5e8f\u5217\u4e3a52929\n\n\u7ed9\u5b9a $ n $ \u4e2a\u4f4d\u7f6e\u5e8f\u5217( $ n \\leq 1000 $,\u5e8f\u5217\u957f\u5ea6 $ \\leq 10000 $ )\uff0c\n\n\u6c42\u5341\u8fdb\u52364\u4f4d\u6570\u7684\u4e2a\u6570\uff0c\u4f7f\u5f97\u8be5\u5bc6\u7801\u7684\u4f4d\u7f6e\u5e8f\u5217\u662f\u6bcf\u4e2a\u7ed9\u5b9a\u4f4d\u7f6e\u5e8f\u5217\u7684\u5b50\u4e32\uff08\u53ef\u4ee5\u4e0d\u8fde\u7eed\uff09\n\n\u7136\u540e\u89e3\u91ca\u4e00\u4e0b\u6837\u4f8b\n\n$ n = 2 $\n\n\u7ed9\u51fa\u7684\u4f4d\u7f6e\u5e8f\u5217\u4e3a123\u548c234\n\n\u627e\u51fa\u516c\u5171\u90e8\u5206\u4e3a23\n\n\u90a3\u4e48\u53ef\u80fd\u76844\u4f4d\u6570\u5c31\u4e3a2222\uff0c2223\uff0c2233\uff0c2333\uff0c3333\uff0c\u51715\u79cd\n\n\n\n--------------\u9898\u89e3\u5206\u5272\u7ebf---------------\n\n\n\u8003\u8651\u6bcf\u4e2a\u56db\u4f4d\u6570\uff0c\u53ea\u9700\u8981\u5224\u65ad\u5b83\u7684\u4f4d\u7f6e\u5e8f\u5217\u662f\u4e0d\u662f\u6240\u6709\u7ed9\u5b9a\u4f4d\u7f6e\u5e8f\u5217\u7684\u5b50\u4e32\n\n\u752810\u4e2a\u961f\u5217\u9884\u5904\u7406\u51fa \u201c\u7ed9\u5b9a\u7684\u4f4d\u7f6e\u5e8f\u5217\u7684\u7b2c $ k $ \u4f4d\uff08\u542b\u7b2c $ k $ \u4f4d\uff09\u540e\u7b2c\u4e00\u6b21\u51fa\u73b0\u6570\u5b57 $ i $ \u7684\u4f4d\u7f6e\uff0c\u82e5\u4e0d\u5b58\u5728\u5219\u4e3a $ -1 $ \u201d \u7684\u4fe1\u606f\uff0c\n\n\u8bb0\u5f55\u5728NEXT[10][1000010]\u6570\u7ec4\u91cc\n\n\u8fd9\u6837\u5c31\u53ef\u4ee5 $ O(1) $ \u67e5\u8be2\u4e00\u4e2a\u4e0d\u8d85\u8fc74\u4f4d\u7684\u4f4d\u7f6e\u5e8f\u5217\u662f\u5426\u662f\u7ed9\u5b9a\u7684\u4f4d\u7f6e\u5e8f\u5217\u7684\u5b50\u4e32\u4e86\n\n\u53ea\u9700\u8981\u5bf9\u4e8e\u6bcf\u4e2a\u8f93\u5165\u4f4d\u7f6e\u5e8f\u5217\u6807\u8bb0\u4e00\u4e0b\u4e0d\u6ee1\u8db3\u6761\u4ef6\u76844\u4f4d\u6570\uff0c\n\n\u6700\u540e\u7edf\u8ba1\u6ca1\u6709\u6807\u8bb0\u76844\u4f4d\u6570\u4e2a\u6570\u5c31\u597d\u4e86\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $ O( \\sum{t} * 10 + 10000 * n ) $\n\n\u5177\u4f53\u5b9e\u73b0\u53ef\u80fd\u9700\u8981\u5361\u5e38\uff0c\u4e0d\u8fc7\u6211\u6ca1\u5361\u5e38\u5c31\u8fc7\u4e86\n\n\nAC\u4ee3\u7801\u89c1\u4e0b\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<queue>\n#include<cstring>\nusing namespace std;\nint NEXT[10][10010];\nqueue<int> num[10];\nchar buf[23333];\nint ok[10000];\nint main()\n{\n    for(int i=0;i<10000;i++)ok[i]=true;\n    int n,tmp;\n    scanf(\"%d\",&n);\n    for(int t=1;t<=n;t++)\n    {\n        scanf(\"%d %s\",&tmp,buf);\n        int len=strlen(buf);\n        for(int i=0;i<len;i++)\n        {\n            num[buf[i]-'0'].push(i);\n        }\n        for(int i=0;i<len;i++)\n        {\n            for(int k=0;k<10;k++)\n            {\n                if(num[k].empty())NEXT[k][i]=-1;\n                else NEXT[k][i]=num[k].front();\n                //cout<<NEXT[k][i]<<' ';\n            }\n            num[buf[i]-'0'].pop();\n            //cout<<endl;\n        }\n        int i,j,k,l;\n        for(int r=0;r<10000;r++)\n        {\n            if(ok[r])\n            {\n                i=r/1000,j=r/100-i*10,k=r/10-i*100-j*10,l=r%10;\n                //cout<<i<<j<<k<<l<<endl;\n                if(NEXT[i][0]==-1||NEXT[j][NEXT[i][0]]==-1||NEXT[k][NEXT[j][NEXT[i][0]]]==-1||NEXT[l][NEXT[k][NEXT[j][NEXT[i][0]]]]==-1)\n                    ok[r]=false;\n            }\n        }\n    }\n    int ans=0;\n    for(int i=0;i<10000;i++)\n        if(ok[i])\n            ++ans;\n    printf(\"%d\\n\",ans);\n    return 0;\n}\n```",
        "postTime": 1504879450,
        "uid": 3346,
        "name": "oscar",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3417 \u3010[POI2005]BANK-Cash Dispenser\u3011"
    },
    {
        "content": "## - P3417 [POI2005]BANK-Cash Dispenser\n\n[P3417 [POI2005]BANK-Cash Dispenser](https://www.luogu.org/problemnew/show/P3417)\n\n\u8fd9\u9898\u9898\u610f\u548c\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217\u5f88\u50cf\uff0c\u4f46\u662f\u505a\u6cd5\u5b8c\u5168\u4e0d\u540c\u3002\u56e0\u4e3apin\u7684\u5bc6\u7801\u8303\u56f4\u4e3a0000\u20149999\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u679a\u4e3e\u5bc6\u7801\uff0c\u4f46\u5982\u679c\u6211\u4eec\u5224\u65ad\u5bc6\u7801\u662f\u5426\u6210\u7acb\u65f6\u7528\u66b4\u529b\u5224\u65ad\uff0c\u80af\u5b9a\u4f1aTLE\u3002\n\n\u56e0\u6b64\u6211\u4eec\u8003\u8651\u4f18\u5316\uff0c\u5efa\u7acb\u6570\u7ec4Next[k][i]\u8868\u793a\u7b2ci\u4e2a\u6570\u540e\u9762\uff08\u5305\u62ec\u81ea\u5df1\u7684\u4f4d\u7f6e\uff09\u7b2c\u4e00\u4e2ak\u7684\u4f4d\u7f6e\uff0c\u8fd9\u6837\u6211\u4eec\u7528\u961f\u5217\u9884\u5904\u7406\uff0c\u5c31\u53ef\u4ee5\u5728\u679a\u4e3e\u65f6\u7528O(1)\u5224\u65ad\u51fa\u5f53\u524d\u5bc6\u7801\u662f\u5426\u7b26\u5408\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<queue>\n#include<cstring>\nusing namespace std;\n\nconst int sum=10000;\n\nqueue <int > num[10];\nchar pin[30000];\nint Next[10][30000];\nint judge[20000];\nvoid check(int k)\n{\n\tint fi,se,th,fo;\n\tfi=k/1000,se=k%1000/100,th=k%100/10,fo=k%10;\n\tif(Next[fi][0]==-1||Next[se][Next[fi][0]]==-1||Next[th][Next[se][Next[fi][0]]]==-1||Next[fo][Next[th][Next[se][Next[fi][0]]]]==-1)\n\t{\n\t\tjudge[k]=false;\n\t}\n}\nint main()\n{\n\tint n;\n\tscanf(\"%d\",&n);\n\tfor(int i=0;i<=10000;i++) judge[i]=1;\n\twhile(n--)\n\t{\n\t\tint len;\n\t\tscanf(\"%d %s\",&len,&pin);\n\t\tfor(int i=0;i<=len-1;i++)\n\t\t{\n\t\t\tnum[pin[i]-'0'].push(i);\n\t\t}\n\t\tfor(int i=0;i<=len-1;i++)\n\t\t{\n\t\t\tfor(int j=0;j<=9;j++)\n\t\t\t{\n\t\t\t\tif(!num[j].empty()) Next[j][i]=num[j].front();\n\t\t\t\telse Next[j][i]=-1;\n\t\t\t}\n\t\t\tnum[pin[i]-'0'].pop();\n\t\t}\n\t\tfor(int i=0;i<10000;i++)\n\t\t{\n\t\t\tif(judge[i])\n\t\t\t{\n\t\t\t\tcheck(i);\n\t\t\t}\n\t\t}\n\t}\n\tlong long ans=0;\n\tfor(int i=0;i<10000;i++)\n\t{\n\t\tif(judge[i])\n\t\t{\n\t\t\tans++;\n\t\t}\n\t}\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```\n\n## - P2425 \u5c0f\u7ea2\u5e3d\u7684\u56de\u6587\u6570\n\n[P2425 \u5c0f\u7ea2\u5e3d\u7684\u56de\u6587\u6570](https://www.luogu.org/problemnew/show/P2425)\n\n\u76f4\u63a5\u66b4\u529b\u679a\u4e3e\uff0c\u4f46\u662f\u540c\u65f6\u8981\u8003\u8651\u4f18\u5316\u3002\n\n\u5f53\u7b54\u6848>sqrt\uff08a\uff09\u65f6\uff0c\u7b54\u6848\u4e00\u5b9a\u662f\u4e8c\u8fdb\u5236\uff0c\u6709\u4e24\u4f4d\u76f8\u540c\u6570\u5b57\u6784\u6210\uff0c\u8bbe\u8fd9\u4e24\u4e2a\u6570\u4e3aj\uff0c\u6240\u4ee5\n\n#### j*x+j=a;\n\n#### j*(x+1)=a;\n\n#### x=a/j\u22121;\n\n\u6240\u4ee5\u6211\u4eec\u5c31\u53ef\u4ee5\u8003\u8651\u679a\u4e3ej\uff0c\u53ea\u8981\u6ee1\u8db3j\u662fa[i]\u7684\u7ea6\u6570\uff0c\u5c31\u53ef\u4ee5\u8f93\u51fax\u3002\n\n\u4ee3\u7801\n\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\nusing namespace std;\n\nbool change(long long x,long long y)//\u5c06x\u8f6c\u6362\u6210y\u8fdb\u5236\u4e0b\u7684\u60c5\u51b5\uff0c\u5224\u65ad\u56de\u6587\u6570 \n{\n\tlong long num[10000];\n\tlong long len=0;\n\twhile(x)\n\t{\n\t\tnum[++len]=x%y;\n\t\tx/=y;\n\t}\n//\tfor(int i=1;i<=len;i++)\n//\t{\n//\t\tcout<<num[i];\t\n//\t}\n\tfor(long long i=1;i<=len/2+1;i++)\n\t{\n\t\tif(num[i]!=num[len+1-i]) return false;\n\t}\n\treturn true;\n}\nint main()\n{\n\tlong long T;\n\tscanf(\"%lld\",&T);\n\twhile(T--)\n\t{\n\t\tlong long a;\n\t\tscanf(\"%lld\",&a);\n\t\tlong long y;\n\t\ty=sqrt(a);\n\t\tint pd=1;\n\t\tif(a==2) \n\t\t{\n\t\t\tprintf(\"%d\\n\",3);\n\t\t\tcontinue;\n\t\t}\n\t\telse if(a<=3)\n\t\t{\n\t\t\tprintf(\"%d\\n\",2);\n\t\t\tcontinue;\n\t\t}\n\t\tfor(long long i=2;i<=sqrt(a)+1;i++)\n        {\n            if(change(a,i))\n            {\n                printf(\"%lld\\n\",i);\n                pd=0;\n                break;\n             } \n        }\n\t\tif(!pd) continue;\n\t\telse \n\t\t{\n\t\t\tfor(long long i=a/y-1;i>=0;--i)//\u56e0\u4e3ax\u8981\u6700\u5c0f\uff0c\u6240\u4ee5\u4ece\u5927\u5230\u5c0f\u679a\u4e3e \n                if(a%i==0)\n                {\n\t\t\t\t\tprintf(\"%lld\\n\",a/i-1);\n\t\t\t\t\tpd=0;break;\n\t\t\t\t}\n\t\t\tif(pd) printf(\"%lld\\n\",(a-1)); \n\t\t}\n\t}\n\t\n\t\n\treturn 0;\n}\n```\n\n",
        "postTime": 1550981507,
        "uid": 108459,
        "name": "lizh",
        "ccfLevel": 0,
        "title": "\u6d1b\u8c37\u51ac\u4ee4\u8425\u2014\u2014\u57fa\u7840\u5957\u8def\u4e32\u8bb2"
    },
    {
        "content": "\u4f5c\u4e3a\u4e00\u9053POI\u7684\u9898\uff0c\u5176\u5b9e\u53ea\u6709pj\u7684\u96be\u5ea6\u3002\u3002\u3002\n\n\u7b80\u8ff0\u9898\u610f\uff1a\n\n\u7ed9\u5b9an\u4e2a\u6570\u5b57\u5e8f\u5217\u3002\n\n\u6bcf\u4e00\u4f4d\u6570\u5b57\u53ef\u4ee5\u5c55\u5f00\u6210\u4efb\u610f\u957f\u5ea6\uff0c\u6c42\u6709\u591a\u5c11\u957f\u5ea6\u4e3a4\u7684\u3001\u8fd9\u4e9b\u6570\u5b57\u4e32\u7684\u516c\u5171\u5b50\u5e8f\u5217\u3002\n\n---\n\n\u663e\u7136\u6709\u4e00\u4e2a\u7ed3\u8bba\uff0c\u5c31\u662f\u540c\u4e00\u4e2a\u6570\u5b57\u9009\u5f97\u8d8a\u9760\u524d\u8d8a\u4f18\u3002\n\n\u90a3\u4e48\u5bf9\u4e8e\u6bcf\u4e00\u4f4d\u6570\u5b57\uff0c\u6211\u4eec\u53ea\u8981\u8bb0\u5f55\u4ece\u5b83\u5f00\u59cb\u5f80\u540e\uff08\u5305\u62ec\u81ea\u8eab\uff09\u7b2c\u4e00\u4e2a$0..9$\u7684\u4f4d\u7f6e\u5373\u53ef\u3002\n\n\u5f00\u4e00\u4e2a`next`\u6570\u7ec4\uff0c\u4ece\u540e\u5f80\u524d\u626b\u4e00\u904d\u3002\n\n\u7136\u540e\u679a\u4e3e\u6240\u6709\u7684\u56db\u4f4d\u6570\uff0c\u5bf9\u6bcf\u4e00\u4e2a\u6570\u5b57\u8fdb\u884c\u5224\u65ad\u3002\n\n\u8017\u65f6\u5927\u6982$10000 n + \\sum t$\uff0c\u7edd\u5bf9\u53ef\u8fc7\u3002\n\n\u4e3a\u4e86\u9632\u6b62\u7206\u7a7a\u95f4\uff0c\u6bcf\u8bfb\u5165\u4e00\u4e2a\u6570\u5b57\u4e32\u5c31\u53ef\u4ee5\u5224\u65ad\u4e00\u6b21\uff0c\u91cd\u7528\u4e4b\u524d\u7684`next`\u6570\u7ec4\u3002\n\n---\n\n\u4ee3\u7801\n\n```cpp\n#include<cstdio>\n\nconst int N=10005;\n\nint n,a[N],next[N][10];\n\nbool invalid[N];\n\nvoid check(int x)\n{\n    int t[4];\n    t[0]=x/1000;\n    t[1]=x/100%10;\n    t[2]=x/10%10;\n    t[3]=x%10;\n    int now=1;\n    for(int i=0;i<4;++i)\n    {\n        if(next[now][t[i]]!=0)now=next[now][t[i]];\n        else\n        {\n            invalid[x]=1;\n            return;\n        }\n    }\n}\n\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=0;i<n;++i)\n    {\n        int len;\n        scanf(\"%d\",&len);\n        for(int j=1;j<=len;++j)\n        {\n            scanf(\"%1d\",a+j);\n        }\n        for(int j=0;j<10;++j)next[len+1][j]=0;\n        for(int j=len;j>0;--j)\n        {\n            for(int k=0;k<10;++k)next[j][k]=next[j+1][k];\n            next[j][a[j]]=j;\n        }\n        for(int i=0;i<10000;++i)\n        {\n            check(i);\n        }\n    }\n    int res=0;\n    for(int i=0;i<10000;++i)res+=!invalid[i];\n    printf(\"%d\",res);\n}\n```\n\n",
        "postTime": 1569486491,
        "uid": 60489,
        "name": "\u5c0f\u83dc\u9e1f",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3417 \u3010[POI2005]BANK-Cash Dispenser\u3011"
    },
    {
        "content": "##### \u770b\u5230\u63d0\u4ea4\u8bb0\u5f55\u4e2d\u5f88\u591a\u4eba\u7684\u4ee3\u7801\u548czyl\u7684\u957f\u5f97\u4e00\u6a21\u4e00\u6837\uff0c~~\u5c4e\u540d\u8b66\u544a\u54e6~~qwq\n***\n\u5728z\u8001\u5e08\u8bfe\u4e0a\u4e00\u5f00\u59cb\u832b\u7136\u534a\u5929\u624d\u5f04\u660e\u767d\u9898\u610f\uff0c\u4e5f\u6ca1\u592a\u770b\u61c2\u5468\u8001\u5e08\u7684\u6807\u7a0b\uff0c\u4e0d\u8fc7\u8fd8\u662f\u5341\u5206\u611f\u8c22POI\u642c\u8fd0\u7ec4\u3002\n\n\u9898\u610foscar\u5de8\u5de8\u5df2\u7ecf\u7b80\u8ff0\u8fc7\u4e86\uff0c\u5728\u6b64\u4e0d\u518d\u8d58\u8ff0\uff0c\u672c\u9898\u89e3\u4e3b\u8981\u63d0\u4f9b\u4e00\u79cd\u4e0d\u592a\u4e00\u6837\u7684\u5199\u6cd5\u4ee5\u53ca\u601d\u8003\u8fc7\u7a0b\u5e76\u4e14\u8bf4\u4e00\u4e0b\u5751\u70b9\u3002\u505a\u6cd5\u76f4\u63a5\u8df3\u8f6c\u5230\u7b2c9\u6bb5\u3002\n***\n\u4e0d\u96be\u60f3\u5230\u6211\u4eec\u8981\u679a\u4e3e0000 - 9999\u7684\u6240\u6709\u5bc6\u7801\u8f93\u5165\u5e8f\u5217\u4f9d\u6b21\u68c0\u9a8c\uff0c\u4e0d\u8fc7\u68c0\u9a8c\u8fc7\u7a0b\u4e2d\u5982\u679c\u5f3a\u884c\u4ee3\u5165t\u4e2a\u52a8\u4f5c\u5e8f\u5217\uff0c\u90a3\u4e48\u68c0\u9a8c\u7684\u590d\u6742\u5ea6\u4fbf\u662f$O(\\sum t)$\u3002\u8fd9\u5fc5\u7136\u662f\u4e0d\u53ef\u53d6\u7684\u3002\n\n\u90a3\u4e48\u4e0d\u59a8\u505a\u4e00\u904dLCS\u518d\u5bf9LCS\u8fdb\u884c\u679a\u4e3e\uff1f\u505a\u4e00\u904d$n = 1e3,\\space  t= 1e4$\u7684LCS\u7684\u590d\u6742\u5ea6\u6015\u662f\u8981\u51c9\u3002\n\n\u6839\u636e\u9898\u76ee\u6027\u8d28\u6211\u4eec\u53ef\u4ee5\u589e\u52a0\u4e00\u4e9b\u601d\u8003\uff0c\u6211\u4eec\u624b\u5934\u6709\u7684\u53ea\u662f\u56db\u4e2a\u6570\u5b57\u7684\u5e8f\u5217\uff0c\n\n\u6211\u4eec\u53ea\u8981\u5728\u6240\u6709\u7684$t$\u4e2a\u5e8f\u5217\u4e2d\u627e\u5230_\u6709\u8fd9\u56db\u4e2a\u6570\u5b57\u7684\u5b50\u5e8f\u5217\u5c31\u884c\u4e86_\u3002\n\n\u56e0\u6b64\u6211\u4eec\u4e0d\u9700\u8981\u8fd9\u4e2a\u6570\u5b57\u7684\u4e0b\u4e00\u4e2a\u662f\u4ec0\u4e48\uff0c\u6211\u4eec\u53ea\u8981\u77e5\u9053\u6211\u4eec\u5bc6\u7801\u6570\u5b57\u7684\u540e\u4e00\u4f4d\u5728\u54ea\u513f\uff0c\u5bfb\u627e\u8fc7\u53bb\u5c31\u662f\u4e86\u3002\n\n\u8003\u8651\u7528\u4e00\u4e2aNXT[i][j][k]\u7684\u6570\u7ec4\u8868\u793a\u5728\u7b2ci\u884c\uff0c\u7b2cj\u5217\uff0c\u4e4b\u540e\uff08\u7531\u4e8e\u6211\u4eec\u53ef\u4ee5\u5728\u4e00\u4e2a\u6570\u5b57\u4e0a\u6309\u5f88\u591a\u6b21\u6240\u4ee5\u5305\u62ec\u5176\u672c\u8eab\uff09\u6700\u8fd1\u7684\u6570\u5b57k\uff08$k\\in[0,9],\\space k\\in N$\uff09\u7684\u4f4d\u7f6e\n\n\u8fd9\u4e2a\u4e1c\u897f\u53ea\u8981\u5012\u8fc7\u6765\u7ef4\u62a4\u5c31\u53ef\u4ee5\u4e86\u3002\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#define Int int\nusing namespace std;\nconst int maxn = 1e3 + 10;\nconst int maxt = 1e4 + 10;\nint n, t, nxt[maxn][maxt][10], cnt;\nchar input[maxt];\nbool check(int xx, int row){\n    int x[5];\n    x[1] = xx/1000;\n    x[2] = (xx/100)%10;\n    x[3] = (xx/10)%10;\n    x[4] = xx%10;\n    int at = 1;\n    for(int i = 1; i <= 4; i++){\n        if(nxt[row][at][x[i]] == 0)\n            return false;\n        at = nxt[row][at][x[i]];\n    }\n    return true;\n}\nbool check(int xx){\n    for(int i = 1; i <= n; i++)\n        if(!check(xx, i))\n            return false;\n    return true;\n}\nint main(){\n    cin >> n;\n    for(int i = 1; i <= n; i++){\n        cin >> t;\n        cin >> input;\n        for(int j = t; j >= 1; j--){\n            for(int k = 0; k < 10; k++){\n                if(k == input[j-1] - '0')\n                    nxt[i][j][k] = j;\n                else\n                    nxt[i][j][k] = nxt[i][j+1][k];\n            }\n        }\n    }\n\n    for(int i = 0; i < 10000; i++)\n        cnt += check(i);\n\n    cout << cnt << endl;\n\n    return 0;\n}\n\n//60\u5206\n```\n\u55ef\uff0c\u63d0\u4ea4\uff0cMLE\u3002\u8fd9\u5982\u679c\u662f\u5728NOIP\u662f\u8981\u7206\u96f6\u7684\uff01\n\n\u6211\u4eec\u8ba1\u7b97\u4e00\u4e0b\u7a7a\u95f4\u590d\u6742\u5ea6\uff0c\u5149nxt\u5c31\u67091e8*4bit\u3002[\u675f\u624b\u65e0\u63aa.jpg]\u256e(\uffe3\u25bd\uffe3\"\")\u256d\n\n\u8111\u5b50\u949d\u4e86\u597d\u4e45\u6123\u662f\u6ca1\u60f3\u51fa\u6765\u600e\u4e48\u4f18\u5316\u7a7a\u95f4\u3002\u8003\u8651\u63d0\u53d6\u516c\u56e0\u5f0f\uff0c\u53d1\u73b0\u5728\u68c0\u9a8c\u548c\u9884\u5904\u7406\u4e2d\u5728\u7b2c\u51e0\u884c\u90fd\u51fa\u73b0\u8fc7\u4e86\uff0c\u90a3\u4e48\u6211\u4eec\u80fd\u4e0d\u80fd\u5728\u6bcf\u4e00\u884c\u5c31\u68c0\u9a8c\u4e00\u4e0b\u5462\uff0c\u8fd9\u6837nxt\u5c31\u53ef\u4ee5\u7701\u4e0bn\u8fd9\u4e00\u7ef4\u3002\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#include <cstring>\n#define Int int\nusing namespace std;\nconst int maxn = 1e3 + 10;\nconst int maxt = 1e4 + 10;\nint n, t, nxt[maxt][10], cnt;\nchar input[maxt];\nbool great[10000];\nbool check(int xx){\n    int x[5];\n    x[1] = xx/1000, x[2] = (xx/100)%10, x[3] = (xx/10)%10, x[4] = xx%10;\n    int at = 1;\n    for(int i = 1; i <= 4; i++){\n        if(nxt[at][x[i]] == 0)\n            return false;\n        at = nxt[at][x[i]];\n    }\n    return true;\n}\nint main(){\n    memset(great, 1, sizeof(great));\n    cin >> n;\n    for(int i = 1; i <= n; i++){\n        memset(nxt, 0, sizeof(nxt));\n        cin >> t;\n        cin >> input;\n        for(int j = t; j >= 1; j--){\n            for(int k = 0; k < 10; k++){\n                if(k == input[j-1] - '0')\n                    nxt[j][k] = j;\n                else\n                    nxt[j][k] = nxt[j+1][k];\n            }\n        }\n        for(int j = 0; j < 10000; j++)\n            great[j] &= check(j);\n    }\n\n    for(int i = 0; i < 10000; i++)\n        cnt += great[i];\n\n    cout << cnt << endl;\n\n    return 0;\n}\n//AC\n```\n# \u5927\u529f\u544a\u6210\uff01",
        "postTime": 1549892128,
        "uid": 100514,
        "name": "\u5c0f\u9ed1AWM",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3417 \u3010[POI2005]BANK-Cash Dispenser\u3011"
    }
]