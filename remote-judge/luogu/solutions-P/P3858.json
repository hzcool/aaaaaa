[
    {
        "content": "\u62ff\u4e0b\u4e00\u8840\uff0c\u8865\u4e2a\u9898\u89e3\u5427\u3002\n\n### \u4e8c\u5206\u56fe \u00d7 \u535a\u5f08\n\n\u8fd9\u9898\u5b9e\u9645\u4e0a\u662f [P4055 [JSOI2009]\u6e38\u620f](https://www.luogu.org/problemnew/show/P4055) \u2190\u8fd9\u8d27\u7684**\u4e09\u7ef4 ~~\u5f31\u5316\u4e0d\u7528\u6c42\u65b9\u6848\u4f46\u662f\u591a\u7ec4\u6570\u636e\u5f88\u6076\u5fc3~~ \u7248**\n\n\u7136\u800c\u5c31\u7b97\u662f\u4e09\u7ef4\uff0c\u7167\u6837\u53ef\u4ee5\u9ed1\u767d\u67d3\u8272\u7136\u540e\u5957\u4e8c\u5206\u56fe\u535a\u5f08\u6a21\u578b\u3002\u56e0\u4e3a\u8d70\u6cd5\u90fd\u662f\u67d0\u79cd\u989c\u8272\u7684\u683c\u5b50\u5230\u5f02\u8272\u7684\u683c\u5b50\uff0c\u6240\u4ee5\u4e8c\u7ef4\u7684\u6240\u6709\u4e8c\u5206\u56fe\u535a\u5f08\u7ed3\u8bba\u5168\u90e8\u53ef\u4ee5\u7167\u642c\u8fc7\u6765\u3002\n\n\u7136\u540e\u5c31\u7167\u7740\u90a3\u4e2a\u9898\u505a\u5c31\u884c\u4e86\u3002\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cstring>\n#include<cmath>\n#include<algorithm>\n#include<cstdlib>\n#include<queue>\n#define ll long long\n#define fst first\n#define snd second\nusing namespace std;\n\nint R,C,H,id[110][110][110],ids; bool ans;\n\nint dx[6]={0,-1,0,1,0,0},dy[6]={-1,0,1,0,0,0},dz[6]={0,0,0,0,1,-1};\n\ntemplate<typename int_t>\nvoid readx(int_t& x)\n{\n\tx=0; int_t k=1; char ch=0;\n\twhile (ch<'0' || ch>'9') { ch=getchar(); if (ch=='-') k=-1; }\n\twhile (ch>='0' && ch<='9') { x=x*10+ch-'0'; ch=getchar(); }\n\tx*=k;\n}\n\n// Bipartite graph matching\nstruct ed\n{\n\tint pre,to;\n}edge[4010];\nint at,ptr[110];\nvector<int> sts;\nint visV[110],mat[110];\n\nvoid Is(int fx,int tx)\n{\n\tat++;\n\tedge[at].pre=ptr[fx];\n\tedge[at].to=tx;\n\tptr[fx]=at;\n\tat++;\n\tedge[at].pre=ptr[tx];\n\tedge[at].to=fx;\n\tptr[tx]=at;\n}\n\nbool Hungary(int now,int src)\n{\n\tfor (int v=ptr[now];v;v=edge[v].pre) if (visV[edge[v].to]!=src)\n\t{\n\t\tvisV[edge[v].to]=src;\n\t\tif (!mat[edge[v].to] || Hungary(mat[edge[v].to],src)) { mat[edge[v].to]=now; return true; }\n\t}\n\treturn false;\n}\n\n// Build Graph\nstruct _Node\n{\n\tint x,y,z;\n\t_Node() {}\n\t_Node(int ix,int iy,int iz) { x=ix; y=iy; z=iz; }\n};\nqueue<_Node>que; _Node cac;\nbool vis[110];\nvoid BFS_Build(_Node str)\n{\n\t// Clear Graph\n\tat=1; memset(ptr,0,sizeof ptr); sts.clear();\n\tmemset(visV,0,sizeof visV); memset(mat,0,sizeof mat);\n\t\n\tque.push(str); vis[id[str.x][str.y][str.z]]=1;\n\twhile (!que.empty())\n\t{\n\t\tcac=que.front(); que.pop(); \n\t\tint nx=cac.x,ny=cac.y,nz=cac.z,nid=id[nx][ny][nz];\n\t\tsts.push_back(nid);\n\t\t\n\t\tfor (int w=0;w<6;w++) \n\t\t{\n\t\t\tint tid=id[nx+dx[w]][ny+dy[w]][nz+dz[w]];\n\t\t\tif (!vis[tid]) // vis[0]=1!!\n\t\t\t{\n\t\t\t\tvis[tid]=1;\n\t\t\t\tque.push(_Node(nx+dx[w],ny+dy[w],nz+dz[w]));\n\t\t\t}\n\t\t\tif (tid && (nx+ny+nz)%2) Is(nid,tid);\n\t\t}\n\t}\n}\n\nvoid Solve()\n{\n\tids=0; ans=0; memset(vis,0,sizeof vis); vis[0]=1;\n\tmemset(id,0,sizeof id);\n\t\n\t// read\n\treadx(H); readx(R); readx(C); char ch=0;\n\tfor (int k=1;k<=H;k++)\n\t\tfor (int i=1;i<=R;i++)\n\t\t\tfor (int j=1;j<=C;j++)\n\t\t\t{\n\t\t\t\tch=0; while (ch!='.' && ch!='X') ch=getchar();\n\t\t\t\tif (ch=='.') id[i][j][k]=++ids;\n\t\t\t}\n\t\t\t\n\tfor (int i=1;i<=R;i++)\n\t\tfor (int j=1;j<=C;j++)\n\t\t\tfor (int k=1;k<=H;k++) if (id[i][j][k] && !vis[id[i][j][k]])\n\t\t\t{\n\t\t\t\t// Make bipartite graph\n\t\t\t\tBFS_Build(_Node(i,j,k)); \n\t\t\t\tfor (unsigned u=0;u<sts.size();u++) \n\t\t\t\t\tif (!Hungary(sts[u],sts[u])) ans|=1;\n\t\t\t}\n\tprintf(ans?\"yes\\n\":\"no\\n\");\n}\n\nint main()\n{\n\tint T; readx(T);\n\twhile (T--)\n\t{\n\t\tSolve();\n\t}\n}\n```",
        "postTime": 1548159970,
        "uid": 21512,
        "name": "GNAQ",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3858 \u3010[TJOI2008]\u8d2a\u5403\u86c7\u3011"
    }
]