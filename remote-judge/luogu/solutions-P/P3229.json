[
    {
        "content": "[\u6d1b\u8c37\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P3229)\n\n\u8fd9\u4e2a\u9898\u7528\u5230\u4e86\u5355\u8c03\u961f\u5217\u7684\u4f18\u5316\uff0c\u4f46\u662f\u7cbe\u9ad3\u7edd\u4e0d\u6b62\u5728\u4e8e\u6b64\u3002+_+\n\n### Solution\n\n##### \u6211\u4eec\u5148\u4e0d\u7ba1\u5b57\u5178\u5e8f\u600e\u4e48\u529e\uff0c\u60f3\u60f3\u600e\u4e48\u6c42\u6700\u5c0f\u7684 $ans$ \n\n\u9996\u5148\uff0c\u56e0\u4e3a\u8981\u7684\u662f\u7edd\u5bf9\u503c\uff0c\u90a3\u4e48\u8003\u8651\u5c06 $0$ \u5316\u4e3a $-1$ \uff0c\u4e5f\u5c31\u662f\u5c06\u6ca1\u6709\u666f\u70b9\u7684\u57ce\u5e02\u770b\u4f5c\u4f1a\u51cf\u5c11\u4e00\u4e2a\u666f\u70b9\u7684\u57ce\u5e02\uff08\u96fe\n\n\u8bbe $b_i$ \u8868\u793a\u57ce\u5e02 $a_i$ \u662f\u5426\u6709\u666f\u70b9\uff0c\u6709\u4e3a $1$ \uff0c\u5426\u5219\u4e3a $-1$\uff0c$sum_{i}$ \u8868\u793a $i+1$ \u5230 $n$ \u7684\u540e\u7f00\u548c\uff0c\u4e5f\u5c31\u662f $sum_{i}=b_{i+1}+b_{i+2}+\\cdots+b_n$ \uff0c\u90a3\u4e48\u53ef\u4ee5\u8bc1\u660e\u7b54\u6848\u6700\u5c0f\u4e0d\u5c0f\u4e8e $\\lceil \\frac {|sum_0|}m\\rceil$ \u3002\n\n\u5982\u679c\u5168\u90e8\u662f $1$ \u6216 $-1$ \uff0c\u663e\u7136\u5e73\u5747\u7684\u5c06 $sum_0$ \u5206\u4e3a $m$ \u4efd\u6700\u597d\uff1b\u5982\u679c\u540c\u65f6\u6709 $1,-1$ \uff0c\u5c06\u76f8\u90bb\u7684\u4e24\u4e2a $1,-1$ \u5408\u5e76\u53ef\u4ee5\u5f97\u5230 $0$ \u5373\u62b5\u6d88\uff0c\u6700\u540e\u8fd8\u662f\u5269\u4e0b $sum_0$ \u4e2a $1$ \u6216 $-1$ \uff0c\u5c31\u548c\u7b2c\u4e00\u79cd\u4e00\u6837\u4e86\u3002\n\n\u4f46\u662f\u8fd8\u662f\u6709\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\u7684\uff0c\u5f53 $sum_0=0$ \u4e14 $sum_i=0$ \u7684 $i$ \u7684\u6570\u91cf\u4e0d\u8db3 $m$ \u4e2a\uff0c\u6b64\u65f6\u7b54\u6848\u5c31\u662f $1$ \uff0c\u56e0\u4e3a\u5206\u4e0d\u4e86\u90a3\u4e48\u591a\u6bb5\u3002\n\n##### \u65e2\u7136 $ans$ \u5df2\u7ecf\u80fd\u591f\u6c42\u51fa\u6765\u4e86\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u56de\u6765\u770b\u770b\u5b57\u5178\u5e8f\n\n\u5c06 $ans=0$ \u548c $ans\\not =0$ \u5206\u5f00\u8003\u8651\u3002\n\n\u5f53 $ans=0$ \u65f6\uff0c\u5373 $sum_0=0$ \u5e76\u4e14 $sum_i=0$ \u7684 $i$ \u7684\u6570\u91cf $\\geq m$ \uff0c\u90a3\u4e48\u5c31\u5728\u8fd9\u4e9b $i$ \u4e2d\u8dd1\u4e00\u904d\u5355\u8c03\u961f\u5217\u5373\u53ef\u3002\n\n\u518d\u5177\u4f53\u5c31\u662f\u7ef4\u62a4\u961f\u5217\u91cc $a_i$ \u4ece\u5c0f\u5230\u5927\uff0c\u6309\u7167\u8f93\u5165\u987a\u5e8f\u5165\u961f \uff0c\u627e\u5230\u5b57\u5178\u5e8f\u6700\u5c0f\u7684 $m-1$ \u4e2a\u3002\uff08\u56e0\u4e3a\u7b2c $m$ \u4e2a\u57ce\u5e02\u5fc5\u5b9a\u662f $a_n$ \uff09\n\n\u5f53 $ans\\not= 0$ \u65f6\uff0c\u6211\u4eec\u5047\u8bbe\u7b2c $i$ \u6bb5\u7ed3\u5c3e\u7684\u662f $lst$ \uff0c\u90a3\u4e48 $i+1$ \u6bb5\u7684\u7ed3\u5c3e\u540e\u4e00\u4e2a\u4f4d\u7f6e\u7684\u540e\u7f00\u548c $s$ \u9700\u8981\u6ee1\u8db3 $|sum_{lst}-s|\\leq ans\\Rightarrow sum_{lst}-ans\\leq s\\leq sum_{lst}+ans$ \u3002\n\n\u90a3\u4e48\u9009\u62e9\u6309 $sum_i$ \u5206\u7c7b\uff0c\u5bf9\u6bcf\u4e00\u79cd $sum_i$ \u5f00\u4e00\u4e2a\u5355\u8c03\u961f\u5217\uff0c\u7ef4\u62a4\u961f\u5217\u91cc $a_i$ \u5355\u8c03\u9012\u589e\uff0c\u9009\u7684\u65f6\u5019\u4ece $sum_{lst}-ans$ \u5230 $sum_{lst}+ans$ \u679a\u4e3e\u9009\u62e9\uff0c\u6ce8\u610f\u6211\u4eec\u8fd8\u9700\u8981\u5224\u65ad $\\lceil \\frac {|s|}{m-i}\\rceil\\leq ans$ \u3002\n\n\u6ce8\u610f\uff1a\u8fd9\u9898\u5361\u7a7a\u95f4\uff0c\u6240\u4ee5\u8981\u624b\u52a8\u5199\u961f\u5217\u3002(\u25cf\u02c7\u2200\u02c7\u25cf)\n\n### Code\n\n```c++\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#define B N\n\nusing namespace std;\nconst int N=500010;\n\ntemplate<typename T>void read(T &x){\n    x=0;bool f=0;\n    char ch=getchar();\n    while(!isdigit(ch)){if(ch=='-') f=1;ch=getchar();}\n    while(isdigit(ch)){x=x*10+(ch^48);ch=getchar();}\n    if(f) x=-x;\n}\n\nstruct node{\n    int v,id;\n};\nint cnt;\nstruct Node{\n    node p;\n    int pre,nxt;\n}tr[N<<1];\nint newcode(node p,int pre,int nxt){tr[++cnt]=(Node){p,pre,nxt}; return cnt;}\n\nstruct queue{\n    int siz,hd,tl;\n    bool empty(){return !siz;}\n\n    void push_front(node p){\n        if(!siz) hd=tl=newcode(p,0,0);\n        else tr[hd].pre=newcode(p,0,hd),hd=tr[hd].pre;\n        ++siz;\n    }\n\n    void push_back(node p){\n        if(!siz) hd=tl=newcode(p,0,0);\n        else tr[tl].nxt=newcode(p,tl,0),tl=tr[tl].nxt;\n        ++siz;\n    }\n\n    void pop_front(){siz--,hd=tr[hd].nxt;}\n    void pop_back(){siz--,tl=tr[tl].pre;}\n\n    node front(){return tr[hd].p;}\n    node back(){return tr[tl].p;}\n}q[N<<1];\n\nint tot,head[N<<1],nxt[N<<1];\nnode to[N<<1];\nvoid add(int u,node p){\n    to[++tot]=p;\n    nxt[tot]=head[u];\n    head[u]=tot;\n}\n\nint n,m,lst,ct[N],sum[N],rest[N];//rest\u8868\u793a\u4f11\u606f\u70b9\u7684\u540e\u7f00\u548c sum\u8868\u793a\u76f8\u52a0\u7684\u540e\u7f00\u548c\nint calc(){\n    int ans=0;\n    for(int i=n;i>=1;i--){\n        if(!sum[i]) ans++,rest[i]=1;\n        rest[i]+=rest[i+1];\n    }\n    if(ans>=m) return 0;\n    else return 1;\n}\n\nvoid push(int u,node p){\n    while(!q[u].empty()&&p.v<q[u].back().v) q[u].pop_back();\n    q[u].push_back(p);\n}\n\nnode calc(int u,int lim){\n    for(int i=head[u];i&&to[i].id<=lim;i=nxt[i]) push(u,to[i]),head[u]=i;\n    while(!q[u].empty()&&q[u].front().id<=lst) q[u].pop_front();\n    return q[u].empty()?(node){N,N}:q[u].front();\n}\n\nnode min(node a,node b){return a.v<b.v?a:b;}\n\nint main(){\n    read(n); read(m);\n    for(int i=1;i<=n;i++) read(ct[i]),read(sum[i-1]),sum[i-1]=(sum[i-1])?1:-1;\n    for(int i=n-1;i>=0;i--) sum[i]+=sum[i+1];\n    for(int i=n;i>=1;i--) add(sum[i]+B,(node){ct[i],i});\n    int S=sum[0],d=(S!=0)?(int)ceil(1.0*abs(S)/(1.0*m)):calc();\n    if(d){\n        for(int i=1;i<m;i++){\n            node ans=(node){N,N};\n            for(int j=S-d+B;j<=S+d+B;j++){\n                if(ceil(abs(1.0*j-B)/(1.0*m-i))<=d) ans=min(ans,calc(j,n-(m-i)));\n            }\n            printf(\"%d \",ans.v);\n            lst=ans.id,S=sum[lst];\n        }\n    }\n    else{\n        for(int j=1,i=head[B];j<m;j++){\n            for(;i&&rest[to[i].id]-1>=m-j;i=nxt[i]) push(B,to[i]);\n            printf(\"%d \",q[B].front().v);\n            q[B].pop_front();\n        }\n    }\n    printf(\"%d\\n\",ct[n]);\n    return 0;\n}\n```\n\n",
        "postTime": 1606013924,
        "uid": 272143,
        "name": "\u662f\u4e2a\u6c49\u5b50",
        "ccfLevel": 4,
        "title": "P3229 [HNOI2013]\u65c5\u884c"
    },
    {
        "content": "> \u628a\u4e00\u4e2a\u957f\u5ea6\u4e3a$n$\u7684\u5e8f\u5217(\u6bcf\u4e2a\u6570\u4e3a$\\pm 1$)\u5206\u6210$m$\u6bb5,\u4f7f\u5f97\u6240\u6709\u6bb5\u7684\u548c\u7684\u7edd\u5bf9\u503c\u7684\u6700\u5927\u503c\u6700\u5c0f,\u6c42\u51fa\u4e00\u79cd\u6bb5\u672b\u5c3e\u5b57\u5178\u5e8f\u6700\u5c0f\u7684\u5212\u5206.\n>\n> $n\\le 5*10^5,m\\le 2*10^5$\n\n[\u9898\u76ee](https://loj.ac/problem/2379)\n\n\u7f51\u4e0a\u5927\u90e8\u5206\u90fd\u662f\u7279\u522b\"\u663e\u7136\"\u7684\u9898\u89e3,\u672c\u9898\u89e3\u5c3d\u91cf\u4e0d\u90a3\u4e48\u663e\u7136,~~\u6c42\u8f7b\u55b7~~\n\n\n\n\u4ee4$t[i]=\\begin{cases}\\ -1&(b[i]=0) \\\\ 1& (b[i]=1)\\end{cases},s[i]=\\sum_{i=1}^n t[i]],S=s[1]$.\n\n\u73b0\u5728\u59d1\u4e14\u4e0d\u7ba1\u5b57\u5178\u5e8f,\u53ea\u6c42\u5982\u4f55\u6c42\u51fa\u4e00\u7ec4\u6700\u5927\u503c\u6700\u5c0f\u7684\u60c5\u51b5.\n\n\u8bbe$d$\u8868\u793a\u5b50\u6bb5\u7edd\u5bf9\u503c\u6700\u5927\u503c.\n\n\u5219\u6709$d=\\begin{cases} [c_0<m]&(S=0)\\\\ \\lceil \\dfrac {|S|} m \\rceil & else\\end{cases}$.\n\n+ \u5bf9\u4e8e$S=0$\u4e14$c_0\\ge m$,\u90a3\u4e48\u6211\u4eec\u53d6$b[i]=0$\u7684$m$\u4e2a\u4f4d\u7f6e\u5373\u53ef.\n\n+ \u5bf9\u4e8e$S=0$\u4e14$c_0<m$,\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0$d\\ge 1$.\n\n  \u73b0\u5728\u8bc1\u660e\u4e00\u4e0b$d=1$\u7684\u6b63\u786e\u6027.\n\n  \u6211\u4eec\u6d88\u53bb\u6240\u6709\u76840\u6bb5,\u5219\u53ef\u4ee5\u5f97\u5230$|S|$\u4e2a1 or -1.\n\n  \u6211\u4eec\u73b0\u5728\u9700\u8981\u80fd\u6784\u9020\u51fa$m$\u7ec4\u5408\u6cd5\u6bb5.\n\n  \u5148\u4e0d\u8003\u8651$m$\u7684\u9650\u5236,\u5982\u679c\u6211\u4eec\u5212\u5206\u51fa$n$\u6bb5\u7684\u8bdd\u4e00\u5b9a\u5408\u6cd5,\u7136\u540e\u8003\u86510 \u6bb5\u4e2d\u53ef\u4ee5\u5220\u9664\u7684\u4f4d\u7f6e.\n\n  \u7531\u4e8e$d=1$,\u7b49\u4ef7\u4e8e\u6211\u4eec\u6bcf\u6b21$s$\u7684\u53d8\u5316\u81f3\u591a\u4e3a1. \u6240\u4ee5,\u6211\u4eec\u628a\u4efb\u610f0\u6bb5\u4e2d\u7684$s$\u6700\u5927\u503c\u5220\u53bb\u4e00\u5b9a\u5408\u6cd5.\n\n  \u6240\u4ee5\u5c31\u987a\u5229\u5f97\u51fa$m$\u6bb5\u5408\u6cd5.\n\n+ \u5176\u4ed6\u60c5\u51b5,\u6211\u4eec\u5747\u5206$|S|$\u4e2a\u6570\u6210$m$\u6bb5\u5373\u53ef.\n\n\u4e8b\u5b9e\u4e0a,\u6211\u4eec\u4ee3\u7801\u628a**\u540e\u4e24\u79cd\u60c5\u51b5**\u5f52\u4e3a\u4e00\u79cd\u8003\u8651.($d=0$\u7684\u65f6\u5019\u505a\u6cd5\u6bd4\u8f83\u660e\u663e\u4e0b\u9762\u5c31\u4e0d\u8003\u8651\u4e86)\n\n\u7531\u4e0a,\u5176\u5b9e\u6211\u4eec\u5f97\u5230\u4e86$[i,n]$\u80fd\u5212\u5206\u6210$t$\u6bb5\u5f53\u4e14\u4ec5\u5f53$n-i+1\\ge t,ceil(\\dfrac{|s_i|}{t})\\le d$.\n\n\n\n\u73b0\u5728\u5f00\u59cb\u8003\u8651\u5b57\u5178\u5e8f\u7684\u7ea6\u675f\n\n\u73b0\u5728\u5047\u8bbe\u6211\u4eec\u5df2\u7ecf\u5904\u7406\u4e86$[1,l),$\u5269\u4f59$t$\u6bb5\u8981\u9009\u62e9,\u90a3\u4e48\u6211\u4eec\u73b0\u5728\u9700\u8981\u8003\u8651$[l,r]$\u662f\u5426\u5408\u6cd5.\n\n\u5219\u8981\u6ee1\u8db3:\n\n$\\begin{cases} |s_l-s_{r+1}|\\le d\\\\ \\dfrac{|s_{r+1}|}{t-1}\\le d\\\\n-r\\ge t-1\\end{cases}$\n\n\u4e0e\u6b64\u540c\u65f6,\u6211\u4eec\u8981\u8fd8\u6709\u6700\u5c0f\u5316\u5f53\u524d\u7684$a_r$.\n\n\n\n\u89c2\u5bdf\u5f0f\u5b50\u53ef\u4ee5\u53d1\u73b0$s_{r+1}$\u662f\u4e00\u4e2a\u975e\u5e38\u91cd\u8981\u7684\u91cf(\u51fa\u73b0\u4e86\u4e24\u6b21)\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u6240\u6709$s_{r+1}$\u76f8\u7b49\u7684\u4f4d\u7f6e\u5212\u5206\u4e3a\u4e00\u4e2a\u96c6\u5408,\u90a3\u4e48\u8fd9\u4e2a\u96c6\u5408\u53d6\u6700\u5c0f\u503c\u5c31\u662f\u7b54\u6848.\n\n\u540c\u65f6,\u524d\u9762\u7684\u4f4d\u7f6e\u88ab\u6dd8\u6c70.\n\n\u4e0a\u9762\u5c31\u662f\u4e00\u4e2a\u5355\u8c03\u961f\u5217\u7684\u6a21\u578b\u4e86.\n\n\n\n\u6240\u4ee5\u6211\u4eec\u53ea\u8981\u7ef4\u62a4$2n$\u4e2a\u5355\u8c03\u961f\u5217\u5373\u53ef.\n\n\u590d\u6742\u5ea6?\n\n\u6211\u4eec\u6bcf\u6b21\u53ea\u9700\u626b\u63cf$O(d)$\u4e2a\u5355\u8c03\u961f\u5217,\u6240\u4ee5\u603b\u590d\u6742\u5ea6:$O(n+dm)=O(n+|S|)$.\n\n\n\n\u53c8\u4e00\u6b21\u88abHNOI\u7684\u9898\u76ee\u5f81\u670d~~\n\n\n\n```cpp\n#include<cstdio>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#define gc getchar()\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\nconst int N=5e5+10,M=1e6+10;\n\ntemplate<class o> void qr(o &x) {\n\tchar c=gc; x=0; int f=1;\n\twhile(!isdigit(c)){if(c=='-') f=-1; c=gc;}\n\twhile(isdigit(c))x=x*10+c-'0',c=gc;\n\tx*=f;\n}\ntemplate<class o> void qw(o x) {\n\tif(x<0) putchar('-'),x=-x;\n\tif(x/10) qw(x/10);\n\tputchar(x%10+'0');\n}\ntemplate<class o> void pr1(o x) {qw(x); putchar(' ');}\ntemplate<class o> void pr2(o x) {qw(x); puts(\"\");}\n\nint n,m,d,a[N],b[N],c[N],tot;\nstruct rec {\n\tint x,id;//\u6570,\u4f4d\u7f6e \n\tbool operator <(rec b) const {return x<b.x;} \n} t[N],ans;\nint cnt[N*2],now;\n\nstruct Q {\n\tint l,r;\n\tQ(int x=1) {l=x; r=x-1;}\n\tvoid push(rec a) {\n\t\twhile(l<=r&&a<t[r]) r--;\n\t\tt[++r]=a;\n\t}\n\tvoid get() {\n\t\twhile(l<=r&&t[l].id<now) l++;\n\t\tif(l<=r&&t[l]<ans) ans=t[l];\n\t}\n} q[N*2];\n\nvoid add(int x) {\tq[b[x+1]+n].push((rec){a[x],x});}\n\nint main() {\n\tqr(n); qr(m);\n\tfor(int i=1;i<=n;i++) qr(a[i]),qr(b[i]),b[i]=(b[i]?1:-1);\n\tfor(int i=n;i;i--) b[i]+=b[i+1],cnt[b[i+1]+n]++,tot+=!b[i];\n\tfor(int i=0,s=0;i<=2*n;i++) q[i]=Q(s),s+=cnt[i];\n\tif(!b[1]) d=(tot<m);\n\telse d=(abs(b[1])-1)/m+1;\n\tif(!d) {\n\t\ttot=0;\n\t\tfor(int i=1;i<=n;i++)\n\t\t\tif(!b[i+1]) c[++tot]=i;\n\t\tnow=1;\n\t\tfor(int i=1,j=1;i<m;i++) {\n\t\t\twhile(tot-j>=m-i) q[0].push((rec){a[c[j]],c[j]}),j++;\n\t\t\tans.x=N; q[0].get(); pr1(ans.x); now=ans.id+1;\n\t\t}\n\t}\n\telse {\n\t\tint r=now=1;\n\t\twhile(n-r>=m-1)add(r++);\n\t\twhile(m>1) {\n\t\t\tans.x=N;\n\t\t\tint x=b[now]+n;\n\t\t\tfor(int j=x-d;j<=x+d;j++) \n\t\t\t\tif(abs(j-n)<=(m-1)*d) q[j].get();\n\t\t\tpr1(ans.x); now=ans.id+1; \n\t\t\tm--;  add(r++);\n\t\t}\n\t}\n\tpr2(a[n]);\n\treturn 0;\n}\n\n\n```\n",
        "postTime": 1591617252,
        "uid": 118826,
        "name": "2018LZY",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P3229 \u3010[HNOI2013]\u65c5\u884c\u3011"
    },
    {
        "content": "# \u4e00\u9053\u6b3a\u8d1f\u6211\u667a\u5546\u7684\u9898\u3002\u3002\u3002\n~~\u672c\u6765\u60f3\u6253\u5355\u8c03\u961f\u5217\u4f18\u5316dp\u7684\uff0c\u7ed3\u679c\u770b\u5230\u7b97\u6cd5\u6807\u7b7e\u5c31\u70b9\u4e86\u6b64\u9898~~\n\n\u9996\u5148\u4f60\u8981\u7406\u89e3\u9898\u610f\uff0c\u849f\u84bb\u7406\u89e3\u4e86\u597d\u4e45\u3002\u5b83\u5c31\u662f\u8bf4\uff0c\u7ed9\u4f60\u4e00\u4e2a\u75311\u548c-1\u7ec4\u6210\u7684\u6570\u5217\uff0c\u8ba9\u4f60\u5206\u6210m\u6bb5\uff0c\u5e76\u8ba9\u8fd9m\u6bb5\u533a\u95f4\u548c\u6700\u5927\u503c\u6700\u5c0f\uff0c\u8fd8\u8981\u6c42\u591a\u79cd\u65b9\u6848\u65f6\u5b57\u5178\u5e8f\u6700\u5c0f\u3002\n\n\u6211\u4e5f\u4e0d\u77e5\u9053\u5927\u4f6c\u600e\u4e48\u505a\u7684\uff0c\u53cd\u6b63\u6211\u4e0d\u4f1a\u9ad8\u65af\u6d88\u5143\u3002\u3002\u3002\n\n\u54e6\uff0c\u5bf9\u4e86\uff0c\u5982\u679c\u8f93\u5165\u7684\u662f0\uff0c\u8868\u793a\u4ed6\u4e0d\u559c\u6b22\u5219\u90a3\u4e00\u4f4d\u4e3a-1\u3002\n\n\u8bbe\u603b\u548c\u4e3aS\u3002\u533a\u95f4\u548c\u6700\u5c0f\u503c\u4e3aans\u3002\u540e\u7f00\u548c\u4e3asum[]\uff0c\u540e\u7f00\u4e2d0\u7684\u4e2a\u6570\u4e3acnt[]\u3002\n\n\u4e3a\u4ec0\u4e48\u662f\u540e\u7f00\uff0c\u5f80\u540e\u770b\u3002\u3002\u3002\n\n\u9996\u5148\u8003\u8651\u7279\u6b8a\u60c5\u51b5\uff1a\n\n- \u5168\u662f1 \u663e\u7136\u7b54\u6848\u4e3aans=ceil(S/m);ceil()\u662f\u5411\u4e0a\u53d6\u6574\u3002\n\n- \u5168\u662f-1 ans=ceil(abs(S)/m)\n\n- \u4e00\u534a\u51681\uff0c\u4e00\u534a\u5168-1 \u6bd4\u598211111-1-1-1\u53ef\u4ee5\u53d8\u621011(111-1-1-1),\u62ec\u53f7\u91cc\u4e3a0\uff0c\u53ef\u4ee5\u4e0e\u4efb\u610f\u533a\u95f4\u642d\u914d\uff0c\u4e8e\u662f\u53d8\u6210\u4e86\u4e0a\u9762\u7684\u60c5\u51b5\u3002\n\n\u6240\u4ee5ans=ceil(abs(S)/m)\uff0c\u7b80\u6613\u8bc1\u660e\uff1a\u4f60\u53ef\u4ee5\u7528\u7b2c\u4e09\u4e2d\u65b9\u6cd5\u72c2\u6d881\u548c-1\u76f4\u5230\u53ea\u6709\u4e00\u79cd\u6570\uff0c\u5269\u4e0b\u6765\u7684\u6570\u7684\u4e2a\u6570\u662fabs(S)\u3002\n\n\u5982\u679cabs(S)=0\u4e14\u80fd\u5206\u7684\u533a\u95f4\u4e0d\u8db3m\u90a3\u5c31\u53e6\u5f53\u522b\u8bba\u3002\u3002\u3002\n\n~~\u7531\u4e8e\u6211\u592a\u83dc\u4e86\uff0c\u8fd8\u6709\u60c5\u51b5\u6ca1\u8003\u8651\u5c31\u591a\u591a\u5305\u542b~~\n\n\u5148\u9884\u5904\u7406sum[]\uff0cans\uff0ccnt[];\n\n- S=0\n  \n   - cnt[1]>=m,\u6b64\u65f6\u627esum[i]=0\u7684\u70b9i\uff0c\u7528\u5355\u8c03\u961f\u5217\u7ef4\u62a4\u627e\u51fa\u5b57\u5178\u5e8f\u6700\u5c0f\u7684\u4e00\u6761\u5373\u53ef\u3002\n   - cnt[1]<m,ans>0,\u548c\u4e0b\u9762\u4e00\u8d77\u5904\u7406\u3002\n   \n- S!=0 sum\u7684\u6bcf\u4e00\u79cd\u53d6\u503c\u5206\u5f00\u8003\u8651\u3002\n\n  \u8bbe\u4e0a\u4e00\u4e2a\u9009\u7684\u4e3alast\uff0c\u5219\u8fd9\u4e00\u4e2ai\u80fd\u9009\u8981\u6ee1\u8db3abs(sum[last+1]-sum[i+1])<=ans,\u90a3\u4e48\u6211\u4eec\u679a\u4e3esum[i+1]\u7684\u53d6\u503c\u65f6\u5c31\u53ef\u4ee5\u76f4\u63a5\u4ecesum[last+1]-ans\u5230sum[last+1]+ans\u3002\n  \u5e76\u4e14abs(sum[i+1]/m'(\u5373\u5269\u4e0b\u8981\u9009\u7684\u6570\u91cf))\u8981\u6ee1\u8db3\u5c0f\u4e8e\u7b49\u4e8eans\uff0ci\u8fd8\u6709\u540e\u9762\u7684\u6570\u4e0d\u80fd\u8d85\u8fc7m'\u4e2a\u3002\n  \u7136\u540e\u8dd1\u5355\u8c03\u961f\u5217\u5c31\u5b8c\u5566\uff0c\u4e0d\u8981\u544a\u8bc9\u6211\u4f60\u5207\u9ed1\u9898\u8fd8\u4e0d\u4f1a\u8fd9\u4e2a\u3002\u3002\u3002\n\n\u5b9e\u73b0\u8d77\u6765\u8fd8\u6709\u4e0d\u5c11\u7ec6\u8282\uff0c\u6bd4\u5982\u8d1f\u6570\u4e0b\u6807\u4e4b\u7c7b\u7684\uff0c\u4ed4\u7ec6\u770b\u4e0b\u5e94\u8be5\u90fd\u80fd\u61c2\n\n\u4ee3\u7801\u5728\u6211\u4e11\u964b\u7684[blog](http://www.cnblogs.com/cx233666/p/8708482.html)\u91cc\u3002\n\n",
        "postTime": 1522735771,
        "uid": 70788,
        "name": "Cgod",
        "ccfLevel": 0,
        "title": "HNOI2013\u65c5\u884c"
    }
]