[
    {
        "content": "\u54c8\u54c8\uff0c\u8fd9\u9898\u597d\u50cf\u6ca1\u6709\u5b8c\u6574\u9898\u89e3\uff0c\u53ea\u6709\u7ba1\u7406\u5458\u7684\u4e00\u4e2a\u90e8\u5206\u4ee3\u7801\uff0c\u90a3\u6211\u5c31\u6765\u53d1\u4e00\u6ce2\u5427\uff0c\u6211\u5427\u7ba1\u7406\u5458\u7684\u6539\u6210\u4e86\u5b8c\u6574\u7684\u4e86\uff0c\u8fd9\u601d\u8def\u786e\u5b9e\u5f88\u597d\uff0c\u5177\u4f53\u5728\u4ee3\u7801\u91cc\u8bf4\u660e\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#define ll long long\nusing namespace std;\nll l,r,w,t=1;//t\u662f\u7d2f\u4e58\u7684\u8bb0\u5f55\u53d8\u91cf\uff0c\u521d\u503c\u8981\u8d4b\u4e3a1\nint main()\n{\n    cin>>l>>r>>w;\n    bool found=0;//found\u8868\u793a\u6709\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u6570\u7684\u4e00\u4e2a\u5e03\u5c14\u53d8\u91cf\n    if (l==1)//\u5982\u679c\u6700\u5de6\u8fb9\u662f1\uff0c\u7279\u5224\u4e00\u4e0b\n    {\n        found=true;//\u8868\u793a\u627e\u5230\n        printf(\"1 \");//\u8f93\u51fa1\n    }\n    if(w>1)//\u5982\u679cw\u7b49\u4e8e1\u7684\u8bdd\u4f1a\u6b7b\u5faa\u73af\uff0c\u4e00\u76f4\u662f1\n    {\n        while(t<l/w||(t==l/w&&(l%w)))//\u8fd9\u4e2a\u8bed\u53e5\u662f\u5148\u628at\u4e58\u5230\u6700\u5de6\u7684\u8fb9\u754c\uff0c\u5176\u5b9e\u6211\u89c9\u5f97\u53ef\u4ee5\u653e\u5230\u4e0b\u9762\u7684\u5faa\u73af\u91cc\uff0c\u52a0\u4e00\u4e2a\u6761\u4ef6\u5224\u65ad\n            t=t*w;\n        while (t<=r/w)//\u5728l\u5230r\u95f4\u627e\u6570\n        {\n            t*=w;\n            found=true;//\u627e\u5230\u6570\n            printf(\"%lld \",t);//\u8f93\u51fa\u627e\u5230\u7684\u6570\n        }\n    }\n    if(!found) cout<<-1;//\u5982\u679c\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u6570\uff0c\u8f93\u51fa-1\n    cout<<endl;//\u6587\u672b\u6362\u884c\u597d\u4e60\u60ef\uff0c2333~\n    return 0;\n}\n```",
        "postTime": 1506566077,
        "uid": 45685,
        "name": "\u6613\u9896\u6770",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2699 \u3010\u3010\u6570\u5b661\u3011\u5c0f\u6d69\u7684\u5e42\u6b21\u8fd0\u7b97\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u7684\u7cbe\u9ad3\u5728\u4e00\u4e2a\u63a5\u8fd1max long long\u7684\u503c\u518d\u4e58\u4e0a\u4e00\u4e2a\u6570\u5c31\u4f1a\u7206long long\n\n\u6240\u4ee5\u5728\u5224\u65ad\u65f6\u8981\u4f7f\u7528\u4e00\u4e9b\u6280\u5de7\n\n\u6bd4\u5982\u5f53\u524d\u7684\u6570\u5b57\u4e3atmp\uff0c\u5728\u5224\u65adtmp\\*w<=r\u65f6\u6539\u4e3atmp<=r/w\n\n\u518d\u8fdb\u884c\u4e00\u4e9b\u7ec6\u8282\u7684\u5904\u7406\u5373\u53ef\n\n```cpp\n//\u90e8\u5206\u4ee3\u7801\n    if (l==1)\n    {\n        found=true;\n        printf(\"1 \");\n    }\n    if (w>1)\n    {\n        while (t<l/w||(t==l/w&&(l%w)))\n            t=t*w;\n        while (t<=r/w)\n        {\n            t*=w;\n            found=true;\n            printf(\"%lld \",t);\n        }\n    }\n\n```",
        "postTime": 1472703197,
        "uid": 9433,
        "name": "FlierKing",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2699 \u3010\u3010\u6570\u5b661\u3011\u5c0f\u6d69\u7684\u5e42\u6b21\u8fd0\u7b97\u3011"
    },
    {
        "content": " \u770b\u5230\u5982\u6b64\u7f8e\u597d~~\u6c34~~\u7684\u6570\u636e\u8303\u56f4\uff0c\u77ac\u95f4\u8d70\u66b4\u529b   \n \u679a\u4e3e\u4e00\u4e0bk\u7684i\u6b21\u65b9\u662f\u4e0d\u662f\u5728[L,R]\u5185\u5c31\u884c\u4e86\n \n \u5177\u4f53\u89e3\u91ca\u770b\u4ee3\u7801\n \n \u4ee3\u7801\u5982\u4e0b\uff1a\n```\n#include<cstdio>\n\n#define ull unsigned long long\n\nconst ull inf=(ull)(1<<31)*(ull)(1<<31)*2;\n\null l,r,k;\n\nint main() {\n\tint t;\n\tscanf(\"%llu%llu%llu\",&l,&r,&k);\n\tull op=1;\n\tint flag=1;\n\tif(k==0) {     //\u6ce8\u610f\u8981\u7279\u5224k=0\u548ck=1\u7684\u60c5\u51b5\n\t\tint flag=1;\n\t\tif(l<=0&&r>=0)\n\t\t\tprintf(\"0 \"),flag=0;\n\t\tif(l<=1&&r>=1)\n\t\t\tprintf(\"1 \"),flag=0;\n\t\tif(flag)\n\t\t\tprintf(\"-1\");\n\t\tputs(\"\");\n\t\treturn 0;\n\t}\n\tif(k==1) {\n\t\tif(l<=1&&r>=1)\n\t\t\tprintf(\"1\\n\");\n\t\telse\n\t\t\tputs(\"-1\");\n\t\treturn 0;\n\t}\n\tfor(int p=0; p<63; p++) {\n\t\tif(op>=l&&op<=r)flag=0,printf(\"%llu \",op);\n\t\tif(inf/k<=op)break; //\u5c0f\u5fc3\u7206long long\n\t\top*=k;\n\t}\n\tif(flag)puts(\"-1\");\n\telse puts(\"\");\n\treturn 0;\n}\n```",
        "postTime": 1538880936,
        "uid": 24685,
        "name": "IzumiSagiri",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2699 \u3010\u3010\u6570\u5b661\u3011\u5c0f\u6d69\u7684\u5e42\u6b21\u8fd0\u7b97\u3011"
    },
    {
        "content": "\u770b\u5230\u9898\u76ee\u8fd9\u4e48\u7b80\u5355\u5c31\u77e5\u9053\u4e00\u5b9a\u6709\u5957\u8defemmm\n\n1. \u5c0f\u5fc3\u7206longlong\u3002\n\n2. \u8bb0\u5f97\u5bf91\u7279\u5224\u3002\n\n\n```cpp\n#include <cstdio>\n#define Lovelive long long\nint main() {\n    Lovelive l, r, w;\n    scanf(\"%lld%lld%lld\", &l, &r, &w);\n    bool flag = true;\n    if(w == 1) return puts((l == 1 && r >= 1) ? \"1\" : \"-1\"), 0; // \u7279\u5224\n    for(Lovelive tmp = 1; tmp <= r && tmp > 0; tmp = ((r / w >= tmp) ? tmp * w : r + 1)) {\n        if(tmp >= l && tmp <= r) {\n            printf(\"%lld \", tmp);\n            flag = false;\n        }\n    }\n    if(flag) puts(\"-1\");\n    return 0;\n}\n```\n\n`tmp = ((r / w >= tmp) ? tmp \\* w : r + 1)`\u7684\u4f5c\u7528\u662f\u907f\u514d\u56e0tmp\\*w\u6ea2\u51fa\u800c\u5bfc\u81f4\u6b7b\u5faa\u73af\u3002\n",
        "postTime": 1515510145,
        "uid": 21421,
        "name": "pantw",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2699 \u3010\u3010\u6570\u5b661\u3011\u5c0f\u6d69\u7684\u5e42\u6b21\u8fd0\u7b97\u3011"
    },
    {
        "content": "\u633a\u597d\u7684\u4e00\u9053\u9898\u3002\u6b64\u9898\u770b\u4e0a\u53bb\u6bd4\u8f83\u7684\u7b80\u5355\uff0c\u5176\u5b9e\u505a\u6cd5\u8fd8\u662f\u975e\u5e38\u5fae\u5999\u7684\u3002\n\n\u9996\u5148\uff0c\u4e00\u5ba1\u9898\uff0c\u4fbf\u53ef\u4ee5\u77e5\u9053\u8fd9\u9053\u9898\u53ca\u662f\u4e00\u9053O\uff08n\uff09\u6a21\u62df\u9898\u3002\u53ea\u9700\u8981\u4e0d\u65ad\u5730\u5faa\u73af\u5224\u65adw^0,w^1,w^2\u2026\u2026\u5728l\u5230r\u4e4b\u95f4\u6709\u591a\u5c11\u4e2a\u6570\uff0c\u4f9d\u6b21\u8f93\u51fa\u5c31\u884c\u4e86\u3002\n\n\u7136\u800c\u6b64\u9898\u4e0d\u662f\u90a3\u4e48\u7b80\u5355\u3002\u9996\u5148\uff0c\u6ce8\u610f\u5230w\u662f\u53ef\u4ee5\u53d61\u7684\u3002\u8fd9\u6837\u5982\u679c\u4e0d\u52a0\u7279\u5224\uff0c\u7a0b\u5e8f\u5c31\u4f1a\u4e00\u76f4\u5faa\u73af\uff0c\u7136\u540e\u5c31TLE\u4e86\u3002\u8003\u8651\u52301\u7684n\u6b21\u65b9\u90fd\u4e3a1\uff0c\u6211\u4eec\u53ef\u4ee5\u52a0\u4e00\u4e2a\u7279\u5224\u3002\u5982\u679cl==1\uff0c\u5219\u76f4\u63a5\u8f93\u51fa1\uff0c\u5426\u5219\u8f93\u51fa-1\uff0c\u7136\u540e\u5c31return 0\u4e86\u3002\u8fd9\u6837\u5c31\u4fdd\u8bc1\u4e86w==1\u65f6\u8f93\u51fa\u7684\u6b63\u786e\u6027\u3002\n\n\u4f46\u662f\uff0c\u6b64\u9898\u8fd8\u6709\u4e00\u4e2a\u5730\u65b9\u9700\u8981\u6ce8\u610f\u3002\u56e0\u4e3a\u5728\u679a\u4e3ew^i\u6b21\u65b9\u65f6\uff0c\u6709\u53ef\u80fd\u4f1a\u7206long long\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u53ef\u4ee5\u505a\u8fd9\u6837\u4e00\u4e2a\u5904\u7406\uff1a\u82e5\u6709\u4e00\u6570x\uff0c\u5219\u53d6x1=xmod10^9\uff0cx2=[x/10^9]\u3002\u8fd9\u6837\uff0c\u4fbf\u6709x1+x2\\*10^9==x\u3002\u56e0\u4e3ar<=10^18\u4e14w<=10^9\uff0c\u6240\u4ee5\u8fd9\u6837w^i\u6700\u591a\u679a\u4e3e\u523010^27\uff0c\u7528\u6b64\u65b9\u6cd5\u4fbf\u4fdd\u8bc1\u4e86\u4e0d\u4f1a\u7206\u6570\u636e\u4e86\u3002\u6bd4\u8f83\u6570\u636e\u7684\u65b9\u6cd5\u4e5f\u9700\u8981\u6539\u5199\u4e00\u4e0b\uff0c\u56e0\u4e3a\u5f88\u597d\u60f3\uff0c\u8fd9\u91cc\u4fbf\u4e0d\u518d\u505a\u592a\u7ec6\u81f4\u7684\u5206\u6790\u4e86\u3002\n\n\u5982\u6709\u4e0d\u89e3\uff0c\u8bf7\u770b\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<cmath>\nusing namespace std;\nconst long long modnum=1e9;\nint main()\n{\n    long long zuo,you,w;\n    scanf(\"%lld%lld%lld\",&zuo,&you,&w);\n    bool tf=false;\n    if(w==1)//\u7279\u5224w==1\u7684\u60c5\u51b5\n    {\n        if(zuo==1)printf(\"1\");\n        else printf(\"-1\");//\u540c\u89e3\u6790\n        return 0;\n    }\n    long long sg1=1,sg2=0;\n    long long zuo1=zuo%modnum,zuo2=zuo/modnum;\n    long long you1=you%modnum,you2=you/modnum;//\u5206\u6210\u4e24\u6bb5\n    for(;sg2<you2||(sg2==you2&&sg1<=you1);sg1*=w,sg2*=w,sg2+=sg1/modnum,sg1%=modnum)//\u5224\u65ad\uff0c\u9ad8\u4f4d\u4f18\u5148\uff1b\u4e58\u4e0b\u4e00\u4e2aw\u65f6\uff0c\u6ce8\u610f\u4e24\u6bb5\u90fd\u8981\u4e58\uff0c\u7136\u540e\u518d\u53d6mod\n        if(sg2>zuo2||(sg2==zuo2&&sg1>=zuo1))//\u6bd4\u8f83\n        {\n            printf(\"%lld \",sg2*modnum+sg1);//\u56e0\u4e3a\u5982\u679c\u6bd4\u8f83\u6210\u529f\uff0c\u5219\u4e00\u5b9a\u4e0d\u4f1a\u7206long long\uff0c\u6240\u4ee5\u76f4\u63a5\u7528long long\u8f93\u51fa\n            tf=true;//\u6709\u8f93\u51fa\n        }\n    if(!tf)printf(\"-1\");//\u5982\u679c\u6ca1\u6709\u6570\u7b26\u5408\uff0c\u5219\u8f93\u51fa-1\n    return 0;\n}\n```",
        "postTime": 1506823757,
        "uid": 32275,
        "name": "KesdiaelKen",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2699 \u3010\u3010\u6570\u5b661\u3011\u5c0f\u6d69\u7684\u5e42\u6b21\u8fd0\u7b97\u3011"
    },
    {
        "content": "\u5148\u8bf4\u8bf4\u9898\u5916\u8bdd\n\n------------\n\n\n\u611f\u89c9\u8fd9\u9898\u771f\u6076\u5fc3\n\n\u4e00\u5f00\u59cb\u770b\u7740\u6570\u636e\u4ee5\u4e3a ``unsigned long long`` \u5c31\u53ef\u4ee5\u6c34\u8fc7\u53bb\n\n\u7ed3\u679c\u6ca1\u6709\u8fd9\u4e48\u7b80\u5355\n\n\\#1 \\#7 ``WA``\u4e86\u4e0d\u77e5\u9053\u591a\u5c11\u6b21\u624d\u77e5\u9053\u539f\u6765``unsigned long long``\u4f1a\u7206\n\n\u7528\u4e86 ``__int128``\u5c31\u8fc7\u53bb\u4e86\n\n\u6574\u6574\u6d6a\u8d39\u4e86\u4e00\u4e2a\u4e0a\u5348\n\n\n\n------------\n\n\u5207\u5165\u6b63\u9898\n\n\u611f\u89c9\u8fd9\u9053\u9898\u5c31\u662f\u4e00\u4e2a **\u5feb\u901f\u5e42** ~~\u6a21\u677f~~\u9898\n\n#### \u7528\u5feb\u901f\u5e42\u4e5f\u80fd\u66f4\u597d\u7406\u89e3\u4e00\u4e9b\n\n#### \u9996\u5148\u9700\u8981\u5b9a\u4f4d\u597d\u4ece\u54ea\u91cc\u5f00\u59cb\u5faa\u73af\u8f93\u51fa\n\n\u7b2c\u4e00\u5c42\u5faa\u73af : \n\n> \u76f4\u5230\u5feb\u901f\u5e42\u7684\u503c > $ l $ \u65f6\u5faa\u73af\u7ed3\u675f\n\n> \u8fd9\u6837\u5b9a\u4f4d\u597d\u4ece\u54ea\u91cc\u5f00\u59cb\u8f93\u51fa\n\n\u7b2c\u4e8c\u5c42\u5faa\u73af :\n\n> \u76f4\u5230\u5feb\u901f\u5e42\u7684\u503c > $ r $ \u65f6\u5faa\u73af\u7ed3\u675f\n\n> \u5b9a\u4f4d\u597d \u5230\u54ea\u91cc\u7ed3\u675f\u8f93\u51fa\n\n> \u7b2c\u4e8c\u5c42\u5faa\u73af\u6bcf\u5faa\u73af\u4e00\u6b21\u5c31\u8f93\u51fa\u4e00\u6b21\n\n> \u5c31\u662f\u6700\u540e\u7684\u7b54\u6848\u4e86\n\n\n\n------------\n\n\n\u8fd8\u6709\u51e0\u4e2a\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\n\n``__int128``\u6ca1\u6cd5\u7528``scanf`` , ``printf`` \u6216``cin`` , ``cout``\u8f93\u51fa\u8f93\u5165\n\n#### \u6240\u4ee5\u9700\u8981\u81ea\u5df1\u5199\u8f93\u51fa\u8f93\u5165\n\n#### \u5f53$w==1$ \u7684\u65f6\u5019\u662f\u9700\u8981\u7279\u5224\u7684,\u5982\u679c $l==1$ \u65f6\u8f93\u51fa $1$ \u5c31\u53ef\u4ee5\u4e86\n\n\u56e0\u4e3a\u4e0d\u7ba1\u662f $1$\u7684\u51e0\u6b21\u65b9\u7ed3\u679c\u90fd\u662f$1$\n\n#### $l$ $!=1$ \u65f6\u5c31\u6ca1\u6709\u89e3\u8f93\u51fa $ -1 $ \n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#define ll __int128//__int128\nusing namespace std;\nll l,r,w,now;\nbool b;\ninline ll read(){//\u624b\u5199__int128\u8bfb\u5165\n    ll x=0;char c;\n    while(!isdigit(c=getchar()));\n    do x=(x<<1)+(x<<3)+(c^'0'); while(isdigit(c=getchar()));\n    return x;\n}\nvoid put(const ll x){//\u624b\u5199__int128\u8f93\u51fa\n    if(x<0)putchar('-');\n    if(x>9)put(x/10);\n    putchar(x%10+'0');\n    return;\n}\ninline ll ksm(ll a,ll b){//\u5feb\u901f\u5e42\u6a21\u677f\n\tll ans=1;\n\twhile(b){\n\t\tif(b&1)ans=ans*a;\n\t\ta=a*a;\n\t\tb>>=1;\n\t}\n\treturn ans;\n}\nint main(){\n\tl=read();r=read();w=read();//\u8bfb\u5165__int128\n    if(w==1){//\u5f53w==1\u65f6,\u7279\u5224\n    \tif(l==1)cout<<1<<'\\n';\n\t\telse cout<<-1<<'\\n';\n\t\treturn 0;\n    }\n\tfor(ll i=0;ksm(w,i)<l;i++)now++;\n    //\u7b2c\u4e00\u5c42\u5faa\u73af,\u5b9a\u4f4d\u4ece\u54ea\u91cc\u5f00\u59cb\n\tfor(ll i=now;;i++){//\u7b2c\u4e8c\u5c42\u5faa\u73af\n\t\tll p=ksm(w,i);\n\t\tif(p>r)break;//\u5982\u679c\u5927\u4e8e r \u5c31\u8df3\u51fa\n\t\tput(p);putchar(' ');//\u8f93\u51fa\n\t\tb=1;\n\t}\n\tif(!b)cout<<-1;\n\treturn 0;\n}\n```",
        "postTime": 1541226257,
        "uid": 78456,
        "name": "Chiaro",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2699 \u3010\u3010\u6570\u5b661\u3011\u5c0f\u6d69\u7684\u5e42\u6b21\u8fd0\u7b97\u3011"
    },
    {
        "content": "hhh\u5feb\u901f\u5e42\u66b4\u529b\u80fd$A$\u554a\uff1b\n\n\u6a21\u62df\u8d5b\u8003\u5230\u8fd9\u9898\uff0c\u4f46\u662f\u662f\u591a\u7ec4\u6570\u636e\uff1b\n\n\u4f9d\u7136\u8981\u6ce8\u610f\u7279\u5224$1$\u7684\u60c5\u51b5\uff1b\n\n\u7531\u4e8e\u662f\u76f4\u63a5\u679a\u4e3e\u6b21\u65b9\uff0c\u6545$i$\u4e00\u5b9a\u5728 $log_wl$~$log_wr$\u8303\u56f4\u5185\uff1b\n\n\u4e0a\u4ee3\u7801:\n\n```cpp\n#include<bits/stdc++.h>\n#define ll unsigned long long\n#define fr(x) freopen(#x\".in\",\"r\",stdin);freopen(#x\".out\",\"w\",stdout);\n#define N 2005\nusing namespace std;\nll T,l,r,k,ans;\nbool bj=0;\nll poww(ll a,ll b) //\u5feb\u901f\u5e42\n{\n    ll ans=1,base=a;\n    while(b)\n    {\n        if((b&1)!=0)ans*=base;\n        base*=base;\n        b>>=1;\n    }\n    return ans;\n}\nint main()\n{\n    scanf(\"%lld%lld%lld\",&l,&r,&k);\n    if(k==1)\n    {\n    \tif(l==1)puts(\"1\");\n    \telse puts(\"-1\");\n    \treturn 0;\n\t}\n\tfor(ll i=(log(l)/log(k));i<=(log(r)/log(k));i++)\n    {\n        ll temp=poww(k,i);\n        if(temp<l||temp>r)continue;\n        printf(\"%lld \",temp);\n        bj=1;\n    }\n    if(bj==0)puts(\"-1\");\n    printf(\"\\n\");\n    bj=0;\n    return 0;\n}\n```\n",
        "postTime": 1540986437,
        "uid": 26404,
        "name": "xsling",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2699 \u3010\u3010\u6570\u5b661\u3011\u5c0f\u6d69\u7684\u5e42\u6b21\u8fd0\u7b97\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u8fd8\u662f\u633a\u8650\u5fc3\u7684QAQ  \n\n\u5c0f\u91d1\u7f8a\u548c\u540c\u673a\u623f\u7684\u5927\u4f6c\u8c03\u4e861h\u624d\u8c03\u51fa\u6765\u8fd9\u73a9\u610f\n\n\u540e\u6765\u624d\u53d1\u73b0$i$\u53ef\u4ee5\u4e3a$0$QAQ\n\n-----\n\n\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u76f4\u63a5\u7ed9\u601d\u8def\n\n\u7531\u4e8e\u6570\u636e\u8303\u56f4\u53ea\u6709$1e18$\u7684\u6837\u5b50\uff0c\u6240\u4ee5\u6700\u591a\u5c31\u5361\u5230long long\u4e0a\u9650$2^{64}-1$  \n\n\u7136\u800c\u56e0\u4e3a\u6ca1\u6709\u6a21\u6570\uff0c\u6240\u4ee5\u5feb\u901f\u5e42\u662f\u6709\u53ef\u80fd\u4f1a\u7206\u5f00\u7684\n\n\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u4e00\u4e0b\u6bcf\u4e00\u6b21\u7d2f\u4e58$w$\uff0c\u6700\u591a\u4f1a\u4e5864\u6b21\n\n\u90a3\u4e48\u4f1a\u7206long long\u5982\u4f55\u5224\u65ad\u4e0b\u4e00\u6b21\u662f\u5426\u80fd\u4e58$w$\u5462\uff1f  \n\n\u5176\u5b9e\u53ef\u4ee5\u8003\u8651\u6574\u4e00\u4e2adouble\u5b58$r\\over w$\u7684\u503c  \n\n\u5982\u679c\u5f53\u524d\u7d2f\u8ba1\u4e58\u51fa\u6765\u7684\u6570\u5b57\u5927\u4e8e\u8fd9\u4e2a\u503c\uff0c\u90a3\u4e48\u4e0b\u4e00\u6b21\u4e58\u5c31\u6709\u53ef\u80fd\u7206\u6389\n\n\u6211\u4eec~~\u60ac\u5d16\u52d2\u9a6c~~break\u6389\u5373\u53ef\n\n\u56e0\u6b64\u8fd9\u4e2a\u9898\u7684\u590d\u6742\u5ea6\u6700\u591a\u5c31\u5230$O(64)$\uff0c\u5f88\u5c0f\u7684\u6837\u5b50\n\n**\u53e6\u5916\u6ce8\u610f\u5224\u65ad$w = 1$\u548c$i = 0$\u7684\u60c5\u51b5**\uff01\n\n-----\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cmath>\n\nusing namespace std;\ntypedef long long lli;\nlli L, R, w, now = 1;\ndouble Li, Ri;\nbool flag = false;\n\nint main()\n{\n\tcin >> L >> R >> w;\n\tif (w == 1)\n\t{\n\t\tif (L == 1)\n\t\t\tputs(\"1\");\n\t\telse\n\t\t\tputs(\"-1\");\n\t\treturn 0;\n\t}\n\tif (1 >= L && 1 <= R)\n\t{\n\t\tprintf(\"1 \");\n\t\tflag = true;\n\t}\n\tfor (int i = 1; i <= 64; i++)\n\t{\n\t\tnow = now * w;\n\t\tdouble temp = R / w;\n\t\tif (now <= R && now >= L)\n\t\t{\n\t\t\tprintf(\"%llu \", now);\n\t\t\tflag = true;\n\t\t}\n\t\tif (now > temp)\n\t\t\tbreak;\n\t}\n\tif (!flag)\n\t\tputs(\"-1\");\n\treturn 0;\n}\n```",
        "postTime": 1570791569,
        "uid": 122927,
        "name": "Jelly_Goat",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 P2699 \u3010\u3010\u6570\u5b661\u3011\u5c0f\u6d69\u7684\u5e42\u6b21\u8fd0\u7b97\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u5927\u591a\u6570dalao\u4eec\u90fd\u662f\u7528\u5e42\u7684\u65b9\u6cd5\u6765\u505a\u7684\u3002\u540c\u65f6\u7528\u5404\u79cd~~\u8be1\u5f02~~\u7cbe\u5999\u7684\u65b9\u5f0f\u907f\u514d\u70b8long long\uff0c\u672c\u849f\u84bb\u53d1\u4e00\u7bc7\u5bf9\u6570\u7684\u9898\u89e3\u3002\n\n\u7528\u5bf9\u6570\u7684\u4e3b\u8981\u597d\u5904\u662f\u4f1a\u628a\u6570\u636e\u5f80\u4e0b\u9664\uff0c\u8ba9\u6570\u636e\u4e0d\u65ad\u53d8\u5c0f\uff0c\u6240\u4ee5\u65e0\u8bba\u5982\u4f55\u5904\u7406\uff0c\u90fd\u4e00\u5b9a\u4e0d\u4f1a\u7206long long\u3002\n\n\u6211\u5bf9\u6570\u65b9\u5f0f\u7684\u601d\u8def\u5982\u4e0b\uff1a\n\n\u9996\u5148\uff0c\u5982\u679c\u5b58\u5728\u4e00\u4e2ai\uff0c\u90a3\u4e48\u5b9a\u6709\uff1a\n\n$log_w$ L\n$\\leq$\ni\n$\\leq$\n$log_w$ R\n\n\n\u56e0\u4e3ai\u4e3a\u6574\u6570\uff0c\u6240\u4ee5\u4e5f\u6709\uff1a\n\n$\\lceil$\n$log_w$ L$\\rceil$\n$\\leq$\ni\n$\\leq$\n$\\lceil$ $log_w$ R $\\rceil$\n\n\n\u7b2c\u4e00\u7248\u4ee3\u7801\uff1a\n\n\uff08\u56e0\u4e3a\u6570\u636e\u8303\u56f4\u5927\uff0c\u6240\u4ee5\u5f00unsigned long long\u7a33\u4e00\u4e9b\uff09\n\n```c\n#define ANSER(val) do{printf(val);return;}while(0)\nint logit(ull p,ull w)\n{\n    int ans=0;\n    while(p/=w) ans++;\n    return ans;\n}\nvoid work()\n{\n    ull l,r,w;\n    ull pw=1;\n    int llog,rlog,i;\n    scanf(\"%llu%llu%llu\",&l,&r,&w);\n    llog=logit(l,w); \n    rlog=logit(r,w);\n    for(i=0;i<llog;i++) pw*=w;\n    for(;i<rlog;i++){pw*=w;printf(\"%llu \",pw);}\n}\n```\n\n\u540e\u6765\u53d1\u73b0\u8fd9\u4e2a\u4ee3\u7801\u6ca1\u5904\u7406\u4e0aw=1\u3001l=1\u3001llog$\\geq$rlog\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u603b\u662fAC\u4e0d\u4e86\uff0c\u52a0\u4e0a\u7279\u5224\u4e4b\u540e\u624dAC\u3002\n~~\u6211\u624d\u4e0d\u4f1a\u544a\u8bc9\u4f60\u6211\u4e3a\u4e86\u53d1\u73b0\u8fd9\u4e2a\u8d21\u732e\u4e86\u4e00\u6574\u9875\u7684\u63d0\u4ea4\u8bb0\u5f55\u5462~~\n\uff08\u7279\u5224\u7684\u539f\u56e0\u5728\u6ce8\u91ca\u91cc\u89e3\u91ca\u4e86\uff09\n\nAC\u4ee3\u7801\u5982\u4e0b\uff1a\n```c\n#include <stdio.h>\n#define ull unsigned long long\n#define ANSER(val) do{printf(val);return;}while(0)\nint logit(ull p,ull w)\n{\n    // \u8ba1\u7b97 ceil(log(w) p)\n    // \u540d\u5b57\u662f\u4e3a\u4e86\u907f\u514d\u548c\u5185\u7f6elog\u51b2\u7a81\n    int ans=0;\n    while(p/=w) ans++;\n    return ans;\n}\nvoid work()\n{\n    ull l,r,w;\n    ull pw=1;\n    int llog,rlog,i;\n    scanf(\"%llu%llu%llu\",&l,&r,&w);\n    \n    //\u7279\u5224w=1\uff08w=1\u65f6log\u5c31\u7b97\u4e0d\u51fa\u503c\u65e0\u9650\u9664\u4e86\uff09\n    if(w==1)\n    {\n        if(l==1)\n            ANSER(\"1\");\n        else\n            ANSER(\"-1\");\n    }\n    \n    if (l == 1&&w>=2) printf(\"1 \"); \n    //\u7279\u5224l=1\uff0c\u5426\u5219log\u4f1a\u5224\u4e0d\u4e0a\n    \n    //\u8ba1\u7b97\u5de6\u53f3\u7aef\u70b9\u7684log\u503c\n    llog=logit(l==1?2:l,w);\n    rlog=logit(r,w);\n    \n    //\u5982\u679c\u5de6\u8fb9\u7684log\u503c\u4e0d\u5c0f\u4e8e\u53f3\u8fb9\u7684log\u503c\uff0c\n    //\u5c31\u53ef\u80fd\u65e0\u89e3\n    if(llog>=rlog)\n    {\n        for(i=0;i<llog;i++) pw*=w;\n        if(pw>=l&&pw<=r) printf(\"%llu\",pw);\n        else ANSER(\"-1\");\n        return;\n    }\n    \n    //\u6b63\u5e38\u5904\u7406\uff1a\u5148\u8ba1\u7b97\u5f00\u5934\uff0c\u518d\u628a\u540e\u9762\u7684\n    //\u6bcf\u4e00\u4e2a\u5206\u522b\u8f93\u51fa\n    for(i=0;i<llog;i++) pw*=w;\n    for(;i<rlog;i++){pw*=w;printf(\"%llu \",pw);}\n}\nint main()\n{\n    work();\n    return 0;\n}\n```\n[AC\u94fe\u63a5](https://www.luogu.com.cn/record/31821395)\n\n\u6b22\u8fce\u6765\u6211\u7684[\u535a\u5ba2](https://www.luogu.com.cn/blog/spinning-xkcdjerry/#)\uff01",
        "postTime": 1584355377,
        "uid": 298051,
        "name": "xkcdjerry",
        "ccfLevel": 7,
        "title": "P2699"
    },
    {
        "content": "\u54b1\u5176\u5b9e\u8fd8\u6709\u4e2a\u72e0\u62db\u3002\n\nlong long\u4f1a\u6ea2\u51fa\uff0c\u54b1\u7528int128\u4e0d\u5c31\u597d\u5566\u3002\n\n\u53ea\u6709C++11\u4ee5\u4e0a\u652f\u6301int128\u7684\u4f7f\u7528\uff0c\u800c\u4e14NOIP\u4e5f\u6682\u4e0d\u652f\u6301C++11\u7279\u6027\uff0c\u6240\u4ee5\u8fd9\u7bc7\u9898\u89e3\u4ec5\u4f9b\u5a31\u4e50\uff0c\u4e0d\u4f5c\u4e3a\u9760\u8c31\u7684\u53c2\u8003\u3002\n\nint128\u4e0d\u652f\u6301\u6d41IO\u548cstdIO\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u81ea\u5df1\u5199\u8f93\u5165\u8f93\u51fa\u51fd\u6570\uff0c\u4e5f\u5c31\u662f\u5feb\u8bfb\u5feb\u8f93\u3002\n\n\u5f53\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8bfb\u5165long long\u7c7b\u578b\uff0c\u518d\u5f3a\u5236\u8f6c\u6362\u5230int128\u7c7b\u578b\u4e0a\uff0c\u8f93\u51fa\u7b54\u6848\u65f6\u5728\u5f3a\u5236\u8f6c\u5316\u6210long long\u7c7b\u578b\uff0c\u56e0\u4e3a\u7b54\u6848\u4e0d\u4f1a\u8d85\u51falong long\uff0c\u6240\u4ee5\u6211\u4eec\u4e5f\u53ef\u4ee5\u4e0d\u5fc5\u5199int128\u7684IO\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n__int128 l,r,w;\n\n__int128 inp(){\n\tregister __int128 x=0;\n\tchar c;\n\twhile(!isdigit(c=getchar()));\n\tdo x=(x<<1)+(x<<3)+(c^'0'); while(isdigit(c=getchar()));\n\treturn x;\n}\n\nbool print(const __int128 &x){\n\treturn x>9?print(x/10),putchar(x%10+'0'):putchar(x+'0');\n}\n\nint main(){\n\tl=inp(),r=inp(),w=inp();\n\tif(w==1){\n\t\tif(l<=1 and r>=1) cout<<1;\n\t\telse cout<<-1;\n\t\treturn 0;\n\t}\n\tbool ans=false;\n\t__int128 val=1;\n\tfor(;val<l;val*=w);\n\tfor(;val>=l and val<=r;val*=w){\n\t\tans|=print(val);\n\t\tputchar(' ');\n\t}\n\tif(!ans) cout<<-1;\n\treturn 0;\n}\n```",
        "postTime": 1540799729,
        "uid": 38283,
        "name": "Dog_Two",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2699 \u3010\u3010\u6570\u5b661\u3011\u5c0f\u6d69\u7684\u5e42\u6b21\u8fd0\u7b97\u3011"
    }
]