[
    {
        "content": "# \u4e3a\u4e86\u8ba9\u5927\u5bb6\u770b\u8d77\u6765\u65b9\u4fbf\uff0c\u4e8e\u662f\u9a8c\u9898\u4eba\u5c31\u628a\u9898\u89e3\u653e\u8fdb\u6765\u4e86\uff0c\u76f8\u5173\u9898\u76ee\u8bf7\u70b9\u51fb[\u8fd9\u91cc](https://blog.csdn.net/kkkksc03/article/details/83239164)\n\n## T2\n\n\u9898\u610f\uff1a\u7ed9\u51fa\u6570\u5217$a_{n+1}=(\\sqrt[k]{a_n-n}+2)^k+n+1$\uff0c\u6c42\u6700\u5c0f$k$\u4f7f\u5f97$a_n \\equiv b(mod$ $m)$\u3002\n\n**Solution 0**\n\n\u6211\u4eec\u53ef\u4ee5\u6709\u4fe1\u4ef0\uff01\u8f93\u51fa0\uff0c\u671f\u671b\u5f97\u520610\uff1b\u8f93\u51faINF\uff0c\u671f\u671b\u5f97\u520620.\n\n**Solution 1**\n\n\u6211\u4eec\u53ef\u4ee5\u66b4\u529b\uff01\u76f4\u63a5\u679a\u4e3e$k$\u9012\u63a8$a_n$\uff0c\u671f\u671b\u5f97\u520630\uff1b\n\n**Solution 2**\n\n\u53d1\u73b0\u901a\u9879\u516c\u5f0f$a_n=2(n-1)+n$\u518d\u679a\u4e3e$k$\uff0c\u671f\u671b\u5f97\u520660\uff1b\n\n\u627e\u51fa\u901a\u9879\u516c\u5f0f\u7684\u65b9\u6cd5\uff1a\n\n1\u3001\u6253\u8868\uff1b\n\n2\u3001\u79fb\u9879\u5f97\uff1a$a_{n+1}-(n+1)=(\\sqrt[k]{a_n-n}+2)^k$\uff1b\n\n\u4e24\u8fb9\u5f00$k$\u6b21\u65b9\uff1a$\\sqrt[k]{a_{n+1}-(n+1)}=\\sqrt[k]{a_n-n}+2$\uff1b\n\n3\u3001\u6211\u4eec\u53d1\u73b0\u4ec0\u4e48\uff1f\uff01\u4ee4$t_n=a_n-n$\uff0c\u5219$\\left\\{t_n\\right\\}$\u662f\u7b49\u5dee\u6570\u5217\uff01\n\n\u7b97\u51fa$t_1=a_1-1=0$\uff0c\u90a3\u4e48$t_n=2(n-1)$\uff0c\u5219$a_n-n=2(n-1)$\uff0c\u5219$a_n=2(n-1)+n$\u3002\n\n\u8fd9\u6837\uff0c\u901a\u9879\u516c\u5f0f\u5c31\u627e\u51fa\u6765\u4e86\u3002\n\n**Solution 3**\n\n\u6269\u5c55BSGS+\u5feb\u901f\u4e58\u5373\u53ef\u3002\n\n```cpp\n#include<cstdio>\n#include<cmath>\n#include<map>\nusing namespace std;\n    long long n,m,b;\n    map<long long,long long>mp;\ninline long long multi(long long x,long long y,long long mod) //\u5feb\u901f\u4e58\n{\n    long long tmp=(x*y-(long long)(((long double)x*y+0.5)/mod)*mod);\n    if (tmp<0) return tmp+mod; else return tmp;\n}\ninline long long gcd(long long a,long long b)\n{\n    while (a%b)\n    {\n        long long k=a%b;\n        a=b;\n        b=k;\n    }\n    return b;\n}\nlong long quickpower(long long a,int b)\n{\n    long long t=1;\n    while (b>0)\n    {\n        if ((b&1)==1) t=multi(t,a,m);\n        if (b>1) a=multi(a,a,m);\n        b=b>>1;\n    }\n    return t;\n}\nint main()\n{\n    mp.clear();\n    scanf(\"%lld%lld%lld\",&n,&m,&b);\n    b=((b-n)%m+m)%m;\n    long long first=((multi(2,n,m)-1)%m+m)%m;\n    long long tmp=1;\n    long long ans=0;\n    while (true)\n    {\n    \tlong long d=gcd(first,m);\n    \tif (d==1) break;\n    \tif (b%d)\n    \t{\n    \t\tprintf(\"INF\");\n    \t\treturn 0;\n    \t}\n    \tb/=d;\n    \tm/=d;\n    \tans++;\n    \ttmp=multi(tmp,first/d,m);\n    \tif (tmp==b)\n    \t{\n    \t\tprintf(\"%lld\",ans);\n    \t\treturn 0;\n    \t}\n    }\n    long long now=b;\n    mp[now]=0;\n    int mm=ceil(sqrt(double(m)));\n    for (int i=1;i<=mm;i++) //\u9884\u5904\u7406\u54c8\u5e0c\u8868\n    {\n        now=multi(now,first,m);\n        mp[now]=i;\n    }\n    now=tmp;\n    long long q=quickpower(first,mm);\n    for (int i=1;i<=mm;i++)\n    {\n        now=multi(now,q,m);\n        if (mp[now])\n        {\n            printf(\"%lld\",(((long long)(i)*(long long)(mm)-mp[now]+ans)%m+m)%m);\n            return 0;\n        }\n    }\n    printf(\"INF\");\n    return 0;\n}\n```\n\n\u7406\u8bba\u4e0a\uff0c\u672c\u9898\u56e0\u4e3a$m$\u4e0d\u662f\u8d28\u6570\u4e0d\u80fd\u7528BSGS\uff0c\u4f46\u662f\u7531\u4e8e\u6570\u636e\u5f88\u6c34\uff0c\u88f8BSGS\u4e5f\u80fd\u62ff80\u3002",
        "postTime": 1542416027,
        "uid": 45475,
        "name": "ShineEternal",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4988 \u3010\u91cd\u6392DL\u3011"
    }
]