[
    {
        "content": "### \u8fd9\u9053\u9898\u5bf9\u4e8e\u6211\u8fd9\u79cd\u521d\u4e2d\u6c34\u5e73\u7684OIer\u6781\u5ea6\u4e0d\u53cb\u597d\n\n[cot\u51fd\u6570](https://baike.baidu.com/item/cot/37020?fr=aladdin)\n\n---\n\n#### \u9898\u610f\u7279\u522b\u660e\u767d\n![P5088](https://cdn.luogu.com.cn/upload/pic/62983.png)\n\n---\n#### \u7b97\u6cd5\n\n\u6570\u5b66\u601d\u7ef4?\n\n\u7ed3\u8bba\u9898\n\n---\n\n#### \u9898\u89e3\n\n\u6211\u4eec\u53ef\u4ee5\u628a\u8fd9\u4e2a\u9898\u89e3\u7ed9\u7b80\u5316\u6216\u8005\u662f\u7b49\u4ef7\u6539\u53d8\u4e00\u4e0b\n\n![P5088_2](https://cdn.luogu.com.cn/upload/pic/62984.png)\n\n\u6211\u4eec\u4e0d\u59a8\u8bbe\u8fd9\u4e2a\u957f\u65b9\u5f62\u7684\u957f(X\u8f74)\u5c31\u4e3a$N$\uff0c\u5bbd(Y\u8f74)\u5c31\u4e3a$M$\n\n\u6839\u636e[cot](https://baike.baidu.com/item/cot/37020?fr=aladdin)\u7684\u5b9a\u4e49\n\n\u9898\u76ee\u4e2d\u7ed9\u5b9a\u7684$cot$\u503c$A:B$(\u4e14\u4e3a\u6700\u7b80\u5206\u6570,\u539f\u56e0\u8be6\u89c1\u4e0b\u6587)\n\n\u6211\u4eec\u4e0d\u59a8\u8bbe\u70b9\u2018\u884c\u8d70\u2019$1$\u4e2a\u5355\u4f4d\u5728X\u8f74\u4e0a\u79fb\u52a8\u4e86$A$\u4e2a\u5355\u4f4d\u5e76\u4e14\u5728Y\u8f74\u4e0a\u79fb\u52a8\u4e86$B$\u4e2a\u5355\u4f4d(\u524d\u63d0$A$,$B$\u4e92\u8d28 \u5426\u5219\u5bf9\u4e8e\u6570\u636e(2 2 6 6)\u4f1a\u6302\u6389)\n\n\u5047\u8bbe\u8be5\u70b9\u884c\u8d70\u4e86\u82e5\u5e72\u6b65\u5230\u8fbe\u4e86\u4e00\u4e2a\u89d2\uff0c\u5219\u4ed6\u5728X\u8f74\u4e0a\u901a\u8fc7\u7684\u8ddd\u79bb\u4e00\u5b9a\u662f$k_1N,k_1\\in N^+$\n\n\u540c\u7406\uff0c\u518dY\u8f74\u4e0a\u901a\u8fc7\u7684\u8ddd\u79bb\u4e3a$k_2M,k_2\\in N^+$\n\n\u8bbe\u8fd9\u4e2a\u70b9\u8d70\u8fc7\u4e86$k_3$\u6b65\u5230\u8fbe\u4e86\u89d2\u4e0a\n\n\u540c\u65f6$k_1,k_2$\u6ee1\u8db3$k_1N=k_3A,k_2M=k_3B,k_3\\in N^+$\n\n\u56e0\u4e3a\u8fd9\u4e2a\u70b9\u4e00\u5b9a\u8d70\u8fc7\u4e86\u6574\u6570\u6b65\n\n\u5bf9\u4e8e\u4e00\u6b21\u53cd\u5c04(\u9664\u975e\u5b83\u5c04\u5165\u89d2\u4e0a)\uff0c\u6211\u4eec\u53ef\u4ee5\u8ba4\u4e3a\u5728X\u8f74\u4e0a\u8ddd\u79bb\u4e3a$N$(\u7b2c\u4e00\u6b21\u5728\u53f3\u8fb9\u53cd\u5c04)\uff0c$2N$(\u7b2c\u4e00\u6b21\u5728\u5de6\u8fb9\u53cd\u5c04)\uff0c$3N$(\u7b2c\u4e8c\u6b21\u518d\u53f3\u8fb9\u53cd\u5c04)...\u65f6\u53d1\u751f\u4e86\u53cd\u5c04\n\n\u5728Y\u8f74\u4e0a\u4ea6\u662f\u540c\u7406\n\n\u6839\u636e$k_1N=k_3A,k_2M=k_3B,k_3\\in N^+$\n\n\u6211\u4eec\u53ef\u4ee5\u63a8\u51fa$k_3$\u6ee1\u8db3 $\\frac{M}{gcd(M,B)}|k_3$\u4e14$\\frac{N}{gcd(N,A)}|k_3$\n\n\u5373$ min_{k_3}=lcm(\\frac{M}{gcd(M,B)},\\frac{N}{gcd(N,A)})$\n\n\u663e\u800c\u6613\u89c1\uff0c\u4e00\u5171\u53cd\u5c04\u4e86$k_1+k_2$\u6b21\uff0c\u518d\u51cf\u53bb\u6700\u540e\u5c04\u5165\u89d2\u4e0a\u56de\u591a\u52a0$2$\u6b21\n\n\u5373$k_1+k_2-2$\u6b21\n\n---\n0711\u66f4\u65b0\n\n\u8fd9\u4e48\u770b\u601d\u8def\u786e\u5b9e\u662f\u6b63\u786e\u7684\uff0c\u6211~~\u6253\u4e86~~\u590d\u5236\u4e00\u4e2a[\u9ad8\u7cbe\u5ea6](https://blog.csdn.net/wlxsq/article/details/49717209)(\u4fb5\u5220)\n\n\u7136\u540e\u6309\u7167\u4e0a\u8ff0\u601d\u8def(\u8be6\u89c1Code B)\n\n90\u5206(long long 60\u5206)\n\n~~\u6211\u60f3\u9a82\u4eba\u4e86~~\n\n---\n\n7.11 2\u66f4\n\n\u6211\u53c8\u56de\u6765\u4e86\n\n\u9700\u8981\u7279\u5224a==0\u6216\u8005b==0\n\n\u76f4\u63a5\u8f93\u51fa0\n\n**\u7ec8\u4e8eAC\u4e86\uff01**\n\n---\n### Code A(\u4f7f\u7528long long)\n```\n#include<bits/stdc++.h>\nusing namespace std;\nlong long gcd(long long a,long long b)\n{\n\treturn (b==0)?a:gcd(b,a%b);\n}\nlong long lcm(long long a,long long b)\n{\n\treturn a/gcd(a,b)*b;\n}\nint main()\n{\n\tlong long n,m,a,b,a1,b1;\n\tcin>>n>>m>>a1>>b1;\n\ta=a1/gcd(a1,b1); b=b1/gcd(a1,b1);\n\tlong long k3=lcm(m/gcd(b,m),n/gcd(a,n));\n\tcout<<k3*a/n+k3*b/m-2<<endl;\n\treturn 0;\n   //\u6709\u6ca1\u6709\u4eba\u6765\u62ef\u6551\u4e0b\u8fd9\u4e2a\u4ee3\u7801\u554a\uff01\n   //\u4ee5\u53ca\u6d1b\u8c37\u7528\u4e0d\u4e86__int128\u5417\n} \n```\n### Code B(\u4f7f\u7528\u9ad8\u7cbe) 4581B\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int L=110; \nstring add(string a,string b)  \n{  \n    string ans;  \n    int na[L]={0},nb[L]={0};  \n    int la=a.size(),lb=b.size();  \n    for(int i=0;i<la;i++) na[la-1-i]=a[i]-'0';  \n    for(int i=0;i<lb;i++) nb[lb-1-i]=b[i]-'0';  \n    int lmax=la>lb?la:lb;  \n    for(int i=0;i<lmax;i++) na[i]+=nb[i],na[i+1]+=na[i]/10,na[i]%=10;  \n    if(na[lmax]) lmax++;  \n    for(int i=lmax-1;i>=0;i--) ans+=na[i]+'0';  \n    return ans;  \n}  \nstring mul(string a,string b)  \n{  \n    string s;  \n    int na[L],nb[L],nc[L],La=a.size(),Lb=b.size();//na\u5b58\u50a8\u88ab\u4e58\u6570\uff0cnb\u5b58\u50a8\u4e58\u6570\uff0cnc\u5b58\u50a8\u79ef  \n    fill(na,na+L,0);fill(nb,nb+L,0);fill(nc,nc+L,0);//\u5c06na,nb,nc\u90fd\u7f6e\u4e3a0  \n    for(int i=La-1;i>=0;i--) na[La-i]=a[i]-'0';//\u5c06\u5b57\u7b26\u4e32\u8868\u793a\u7684\u5927\u6574\u5f62\u6570\u8f6c\u6210i\u6574\u5f62\u6570\u7ec4\u8868\u793a\u7684\u5927\u6574\u5f62\u6570  \n    for(int i=Lb-1;i>=0;i--) nb[Lb-i]=b[i]-'0';  \n    for(int i=1;i<=La;i++)  \n        for(int j=1;j<=Lb;j++)  \n        nc[i+j-1]+=na[i]*nb[j];//a\u7684\u7b2ci\u4f4d\u4e58\u4ee5b\u7684\u7b2cj\u4f4d\u4e3a\u79ef\u7684\u7b2ci+j-1\u4f4d\uff08\u5148\u4e0d\u8003\u8651\u8fdb\u4f4d\uff09  \n    for(int i=1;i<=La+Lb;i++)  \n        nc[i+1]+=nc[i]/10,nc[i]%=10;//\u7edf\u4e00\u5904\u7406\u8fdb\u4f4d  \n    if(nc[La+Lb]) s+=nc[La+Lb]+'0';//\u5224\u65ad\u7b2ci+j\u4f4d\u4e0a\u7684\u6570\u5b57\u662f\u4e0d\u662f0  \n    for(int i=La+Lb-1;i>=1;i--)  \n        s+=nc[i]+'0';//\u5c06\u6574\u5f62\u6570\u7ec4\u8f6c\u6210\u5b57\u7b26\u4e32  \n    return s;  \n}  \nint sub(int *a,int *b,int La,int Lb)  \n{  \n    if(La<Lb) return -1;//\u5982\u679ca\u5c0f\u4e8eb\uff0c\u5219\u8fd4\u56de-1  \n    if(La==Lb)  \n    {  \n        for(int i=La-1;i>=0;i--)  \n            if(a[i]>b[i]) break;  \n            else if(a[i]<b[i]) return -1;//\u5982\u679ca\u5c0f\u4e8eb\uff0c\u5219\u8fd4\u56de-1  \n  \n    }  \n    for(int i=0;i<La;i++)//\u9ad8\u7cbe\u5ea6\u51cf\u6cd5  \n    {  \n        a[i]-=b[i];  \n        if(a[i]<0) a[i]+=10,a[i+1]--;  \n    }  \n    for(int i=La-1;i>=0;i--)  \n        if(a[i]) return i+1;//\u8fd4\u56de\u5dee\u7684\u4f4d\u6570  \n    return 0;//\u8fd4\u56de\u5dee\u7684\u4f4d\u6570  \n  \n} \nstring sub1(string a,string b)//\u53ea\u9650\u5927\u7684\u975e\u8d1f\u6574\u6570\u51cf\u5c0f\u7684\u975e\u8d1f\u6574\u6570  \n{  \n    string ans;  \n    int na[L]={0},nb[L]={0};  \n    int la=a.size(),lb=b.size();  \n    for(int i=0;i<la;i++) na[la-1-i]=a[i]-'0';  \n    for(int i=0;i<lb;i++) nb[lb-1-i]=b[i]-'0';  \n    int lmax=la>lb?la:lb;  \n    for(int i=0;i<lmax;i++)  \n    {  \n        na[i]-=nb[i];  \n        if(na[i]<0) na[i]+=10,na[i+1]--;  \n    }  \n    while(!na[--lmax]&&lmax>0)  ;lmax++;  \n    for(int i=lmax-1;i>=0;i--) ans+=na[i]+'0';  \n    return ans;  \n} \nstring div(string n1,string n2,int nn)//n1,n2\u662f\u5b57\u7b26\u4e32\u8868\u793a\u7684\u88ab\u9664\u6570\uff0c\u9664\u6570,nn\u662f\u9009\u62e9\u8fd4\u56de\u5546\u8fd8\u662f\u4f59\u6570  \n{  \n    string s,v;//s\u5b58\u5546,v\u5b58\u4f59\u6570  \n     int a[L],b[L],r[L],La=n1.size(),Lb=n2.size(),i,tp=La;//a\uff0cb\u662f\u6574\u5f62\u6570\u7ec4\u8868\u793a\u88ab\u9664\u6570\uff0c\u9664\u6570\uff0ctp\u4fdd\u5b58\u88ab\u9664\u6570\u7684\u957f\u5ea6  \n     fill(a,a+L,0);fill(b,b+L,0);fill(r,r+L,0);//\u6570\u7ec4\u5143\u7d20\u90fd\u7f6e\u4e3a0  \n     for(i=La-1;i>=0;i--) a[La-1-i]=n1[i]-'0';  \n     for(i=Lb-1;i>=0;i--) b[Lb-1-i]=n2[i]-'0';  \n     if(La<Lb || (La==Lb && n1<n2)) {  \n            //cout<<0<<endl;  \n     return n1;}//\u5982\u679ca<b,\u5219\u5546\u4e3a0\uff0c\u4f59\u6570\u4e3a\u88ab\u9664\u6570  \n     int t=La-Lb;//\u9664\u88ab\u6570\u548c\u9664\u6570\u7684\u4f4d\u6570\u4e4b\u5dee  \n     for(int i=La-1;i>=0;i--)//\u5c06\u9664\u6570\u6269\u592710^t\u500d  \n        if(i>=t) b[i]=b[i-t];  \n        else b[i]=0;  \n     Lb=La;  \n     for(int j=0;j<=t;j++)  \n     {  \n         int temp;  \n         while((temp=sub(a,b+j,La,Lb-j))>=0)//\u5982\u679c\u88ab\u9664\u6570\u6bd4\u9664\u6570\u5927\u7ee7\u7eed\u51cf  \n         {  \n             La=temp;  \n             r[t-j]++;  \n         }  \n     }  \n     for(i=0;i<L-10;i++) r[i+1]+=r[i]/10,r[i]%=10;//\u7edf\u4e00\u5904\u7406\u8fdb\u4f4d  \n     while(!r[i]) i--;//\u5c06\u6574\u5f62\u6570\u7ec4\u8868\u793a\u7684\u5546\u8f6c\u5316\u6210\u5b57\u7b26\u4e32\u8868\u793a\u7684  \n     while(i>=0) s+=r[i--]+'0';  \n     //cout<<s<<endl;  \n     i=tp;  \n     while(!a[i]) i--;//\u5c06\u6574\u5f62\u6570\u7ec4\u8868\u793a\u7684\u4f59\u6570\u8f6c\u5316\u6210\u5b57\u7b26\u4e32\u8868\u793a\u7684</span>  \n     while(i>=0) v+=a[i--]+'0';  \n     if(v.empty()) v=\"0\";  \n     //cout<<v<<endl;  \n     if(nn==1) return s;  \n     if(nn==2) return v;  \n}  \nbool judge(string s)//\u5224\u65ads\u662f\u5426\u4e3a\u51680\u4e32  \n{  \n    for(int i=0;i<s.size();i++)  \n        if(s[i]!='0') return false;  \n    return true;  \n}  \nstring gcd(string a,string b)//\u6c42\u6700\u5927\u516c\u7ea6\u6570  \n{  \n    string t;  \n    while(!judge(b))//\u5982\u679c\u4f59\u6570\u4e0d\u4e3a0\uff0c\u7ee7\u7eed\u9664  \n    {  \n        t=a;//\u4fdd\u5b58\u88ab\u9664\u6570\u7684\u503c  \n        a=b;//\u7528\u9664\u6570\u66ff\u6362\u88ab\u9664\u6570  \n        b=div(t,b,2);//\u7528\u4f59\u6570\u66ff\u6362\u9664\u6570  \n    }  \n    return a;  \n} \nint main()\n{\n    string n,m,a,b,a1,b1,n1,m1;\n    cin>>n1>>m1>>a1>>b1;\n    if(a1==\"0\"||b1==\"0\")\n    \tcout<<0<<endl;\n    else\n    {\n\t    a=div(a1,gcd(a1,b1),1); b=div(b1,gcd(a1,b1),1);\n\t    n=div(n1,gcd(n1,m1),1); m=div(m1,gcd(n1,m1),1);\n\t    string k3,ans,k=\"2\";\n\t    k3=mul(div(div(m,gcd(b,m),1),gcd(div(m,gcd(b,m),1),div(n,gcd(a,n),1)),1),div(n,gcd(a,n),1));\n\t    string ans1;\n\t    ans1=sub1(add(div(mul(k3,a),n,1),div(mul(k3,b),m,1)),k);\n\t    cout<<ans1<<endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1562761961,
        "uid": 91013,
        "name": "hgoicjl",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5088 \u3010\u77e9\u5f62\u3011"
    },
    {
        "content": "## ~~OI\u9000\u5f79\u60f3\u53bb\u641e\u7269\u7406\u7ade\u8d5b\u7684\u6211\u8fd8\u662f\u592a\u5f31\u4e86~~\n\n\u521d\u4e2d\u7269\u7406\u7684\u5149\u5b66\u7ade\u8d5b\u95ee\u9898\uff0c\u57fa\u4e8e\u53cd\u5c04\u89d2=\u5165\u5c04\u89d2\uff0c\u6211\u4eec\u53ef\u4ee5\u62ff\u5f20\u8349\u7a3f\u7eb8\u624b\u819c\u5c0f\u6837\u4f8b\u6700\u7ec8\u63a8\u51fa\u7b54\u6848\u3002\n\n- ## \u5bf9\u4e8e$N=M$\u7684\u60c5\u51b5\uff1a\n\n### \u4e0d\u59a8\u8bbeN=M=1\uff0c\u5148\u624b\u819c\u4e00\u7ec4$2*3$\u7684\u6570\u636e\uff08\u7eff\u7ebf\u662f\u7ecf\u6298\u5c04\u7684\u7ebf\uff0c\u84dd\u70b9\u4e3a\u53cd\u5c04\u70b9\uff09\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/45868.png)\n\n\u8fd9\u91cc\u7528\u4e86**\u53cd\u5c04\u89d2=\u5165\u5c04\u89d2**\u7684\u539f\u7406\uff0c\u5173\u4e8e\u5c04\u7ebf\u7684\u6298\u5c04\u70b9\u53cd\u590d\u5bf9\u79f0\u5c31\u5f97\u5230\u8fd9\u5f20\u56fe\u3002\n\n\u53ef\u4ee5\u6ce8\u610f\u5230\u7b2c\u4e09\u884c\u6211\u6807\u4e86\u4e24\u4e2a\u84dd\u70b9\uff0c\u8fd9\u662f\u56e0\u4e3a~~\u6211\u6807\u9519\u4e86~~\u8fd9\u4e24\u4e2a\u70b9\u5173\u4e8e\u6cd5\u7ebf\u5bf9\u79f0\uff0c\u56e0\u6b64\u53ef\u4ee5\u7b49\u4ef7\u770b\u5f85\u3002\n\n\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u6ce8\u610f\u5230\u4e00\u4e2a\u6709\u8da3\u7684\u4e8b\u5b9e\uff0c\u6211\u4eec\u8bbe$AB$\u662f\u4ece\u5165\u5c04\u70b9\u4e0d\u8003\u8651\u6298\u5c04\uff0c\u76f4\u63a5\u5f15\u51fa\u7684\u4e14\u8d77\u59cb\u70b9\u4e3a\u7f51\u683c\u70b9\u7684\u6700\u77ed\u7ebf\u6bb5\uff0c\u53ef\u4ee5\u53d1\u73b03\u4e2a\u84dd\u70b9\u5747\u5728$AB$\u4e0a\uff01\n\n#### \u4e8e\u662f\u6211\u4eec\u53ef\u4ee5~~\u5927\u80c6~~\u5f97\u51fa\u7ed3\u8bba\uff1a\u5bf9\u4e8e\u4efb\u610fAB\u4e3a\u5bf9\u89d2\u7ebf\u5f62\u6210\u7684\u6700\u5c0f\u77e9\u5f62\uff0c\u4e0e\u5176\u4ed6\u7f51\u683c\u70b9\u6240\u5f62\u6210\u7684\u4ea4\u70b9\u5373\u4e3a\u53cd\u5c04\u7684\u6b21\u6570\u3002\n\n#### \u82e5\u77e9\u5f62\u5927\u5c0f\u4e3a$a,b$\uff0c\u6bcf\u884c\u4f1a\u6709\u4e00\u4e2a\u4ea4\u70b9\uff0c\u6bcf\u5217\u4e5f\u4f1a\u6709\u4e00\u4e2a\u4ea4\u70b9\uff0c\u51cf\u53bbB\u6240\u5728\u7684\u70b9\u7684\u8d21\u732e\uff0c\u7b54\u6848\u5373\u4e3a$a+b-2$\uff0c10\u5206\u5230\u624b\n\n- ## \u5bf9\u4e8e$A=B$\n\n### \u7b49\u4ef7\u4e8e\u662f$tan \u03b6 =1$\u7684\u60c5\u51b5\uff0c\u4e0d\u59a8\u8bbe$A=B=1$\uff0c\u6211\u4eec\u5148\u624b\u819c\u4e00\u4e2a$3*5$\u7684\u8868\u683c\uff08\u5f88\u4e11\uff09\uff1a![](https://cdn.luogu.com.cn/upload/pic/45859.png)\n\n### ~~\u7ecf\u89c2\u5bdf~~\u6211\u4eec\u53d1\u73b0\uff1a\u7ecf\u4e0a\u4e0b\u8fb9\u754c\u53cd\u5c04\u7684\u70b9\u6570=\u5217\u6570\uff1b\u7ecf\u5de6\u53f3\u8fb9\u754c\u53cd\u5c04\u7684\u70b9\u6570=\u884c\u6570\n### ~~\u548b\u8bc1\u660e\u5462\uff1f\u6211\u597d\u50cf\u4e0d\u592a\u4f1a\u554a\u3002~~\n\n~~\uff08\u4e00\u672c\u6b63\u7ecf\u7684\u80e1\u8bf4\u516b\u9053\uff09~~\u5176\u5b9e\u6211\u4eec\u53ef\u4ee5\u7528\u6620\u5c04\u7684\u601d\u60f3\uff0c\u56e0\u4e3a\u6211\u4eec\u6c42\u7684\u5747\u662f\u957f\u5bbd\u6bd4\u503c\uff0c\u6240\u4ee5\u5177\u4f53\u5927\u5c0f\u662f\u4e0d\u5f71\u54cd\u7b54\u6848\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u611f\u6027\u7684\u5c06\u8fd9\u4e2a\u5927\u77e9\u5f62\u538b\u7f29\u6210\u4e00\u4e2a\u5355\u4f4d1\u7684\u6b63\u65b9\u5f62\uff0c\u5982\u56fe\uff1a![](https://cdn.luogu.com.cn/upload/pic/45870.png)\n\n~~\u4f60\u770b\u8fd9\u4e2a\u5c0f\u6b63\u65b9\u5f62\u548c\u90a3\u4e2a\u5927\u77e9\u5f62\u662f\u4e0d\u662f\u5f88\u50cf\uff01\uff1f~~\n\n#### \u6b64\u65f6\u539f\u672c$tan\u03b6=1$\u7684\u7ebf\u5e94\u662f\u88ab\u6211\u4eec\u538b\u7f29\u6210\u4e86$tan  \u03b6=A/B=3/5$\uff0c\u76f8\u5f53\u4e8e\u6211\u4eec\u5c31\u53ef\u4ee5\u76f4\u63a5\u5f15\u7528\u7b2c\u4e00\u79cd\u60c5\u51b5\u7684\u7ed3\u8bba\u5f97\u51fa\u7b54\u6848\u8fa3\uff01\u7b2c\u4e8c\u4e2a10\u5206\u7684\u7ed3\u8bba\u5c31\u662f$n+m-2$\n\n\n- # \u6b63\u89e3\n\n### ~~\u60f3\u5230\u4e86\u6620\u5c04\u8fd8\u6709\u4ec0\u4e48\u95ee\u9898\u6ca1\u89e3\u51b3\u4e86\u5417\uff1f\uff1f~~\n\u6211\u4eec\u53ea\u8981\u628a\u4efb\u610f\u6570\u636e\u90fd\u66ff\u6362\u6210$N=M$\u7684\u60c5\u51b5\uff0c\u76f4\u63a5\u5957\u7ed3\u8bba\u5c31\u53ef\u4ee5\u5566\uff01\n\n\u5bf9\u4e8e\u6c34\u5e73\u65b9\u5411\u7684$N,a$\u540c\u65f6\u9664\u4ee5N\uff0c\u7ad6\u76f4\u65b9\u5411\u7684$M,b$\u540c\u65f6\u9664\u4ee5M\uff0c\u53ef\u4ee5\u8bc1\u660e\u4e0e\u539f\u6765\u7684\u6570\u636e\u662f\u7b49\u4ef7\u7684\u3002\n\n\u6b64\u65f6\u4fee\u6539\u8fc7\u540e\u7684$N=M=1$\uff0c\u90a3\u4e48\u5bf9\u4e8ea1\u4e0eb1\u5148\u4f7f\u4ed6\u4eec\u4e92\u8d28\uff0c\u518d\u76f4\u63a5\u5957\u7b2c\u4e00\u79cd\u60c5\u51b5\u7684\u7ed3\u8bba\u5c31\u884c\u5566\uff01\n\n\u6700\u540e\u8fd8\u6709\u8bb0\u5f97\u7279\u5224a=0,b=0\u7684\u60c5\u51b5\u3002\u3002\u6b7b\u6d3b\u5361\u572895\u5c31\u662f\u8fd9\u4e2a\u539f\u56e0\u3002\n\n\u6700\u540e\uff0c\u4e0a\u4e11\u964b\u7684\u4ee3\u7801\uff1a\n\n```\n#include <iostream>\n#define ll long long\nusing namespace std;\nll n,m,a,b;\n\nll gcd(ll a,ll b)\n{\n\treturn (!b)?a:gcd(b,a%b); \n}\n\nint main()\n{\n\tcin>>n>>m;\n\tcin>>a>>b;\n\ta*=m; b*=n; //\u4e0ea/n,b/m\u7b49\u4ef7\uff0c\u800c\u4e14\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1a,b\u4e3a\u6574\u6570\n\tll d=gcd(a,b); \n\tif (a==0||b==0) {\n\t\tcout<<0<<endl; return 0;\n\t}\n\ta/=d; b/=d;\n\tcout<<b+a-2<<endl;\n}\n```\n\n\u5927\u51ac\u5929\u5f85\u5728\u7a7a\u8c03\u623f\uff0c\u53ef\u80fd\u8111\u5b50\u4e0d\u662f\u5f88\u597d\u4f7f\uff0c\u5982\u6709\u9519\u8bef\u6307\u51fa_(:\u0437\u300d\u2220)",
        "postTime": 1544367857,
        "uid": 15984,
        "name": "\u5929\u6cfd\u9f9f",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P5088 \u3010\u77e9\u5f62\u3011"
    },
    {
        "content": "## \u5199\u5728\u524d\u9762\n- \u8fd9\u9053\u9898\u7684\u96be\u70b9\u5728\u4e8e\u5206\u6790\u9898\u76ee\uff0c\u7406\u89e3\u672c\u8d28\u4e4b\u540e\u8fd8\u662f\u633a\u7b80\u5355\u7684 (\u4ec5\u4ee3\u8868\u4e2a\u4eba\u89c2\u70b9) \u3002\n\n- \u672c\u9898\u6d89\u53ca\u5230 $\\cot$ (\u4f59\u5207) \uff0c\u4e0d\u77e5\u9053\u7684\u53ef\u4ee5\u770b[\u8fd9\u91cc](https://baike.baidu.com/item/%E4%BD%99%E5%88%87)\u3002\n\n## \u8fdb\u5165\u6b63\u9898\n\n\u8ba1\u7b97\u6fc0\u5149\u53cd\u5c04\u7684\u6b21\u6570\uff0c\u5728\u77e9\u5f62\u5185\u90e8\u8003\u8651\u663e\u7136\u662f\u4e0d\u73b0\u5b9e\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u5316\u6298\u7ebf\u4e3a\u76f4\u7ebf\u3002\n\n\u6bcf\u6b21\u53cd\u5c04\uff0c\u6211\u4eec\u5c06\u53cd\u5c04\u5149\u7ebf\u6cbf\u53cd\u5c04\u9762\u5bf9\u79f0\uff0c\u4f7f\u5176\u53d8\u4e3a\u4e00\u6761\u76f4\u7ebf\u3002\n\n\u4e0d\u59a8\u8bbe\u6709\u65e0\u7a77\u591a\u4e2a $N \\times M$ \u7684\u77e9\u5f62\uff0c\u8ba9\u5bf9\u79f0\u540e\u7684\u53cd\u5c04\u5149\u7ebf\u76f4\u63a5\u7a7f\u8fc7\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a\n\n- \u76f8\u540c\u989c\u8272\u4ee3\u8868\u76f8\u540c\u7684\u5149\u7ebf\uff0c\u6bcf\u4e2a\u767d\u8272\u70b9\u4ee3\u8868\u4e00\u6b21\u53cd\u5c04\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g51ad2kv.png)\n\n\u6211\u4eec\u5047\u8bbe\u6a2a\u5411\u6709 $p$ \u6761\u957f\u5ea6\u4e3a $N$ \u7684\u8fb9\uff0c\u7eb5\u5411\u6709 $q$ \u6761\u957f\u5ea6\u4e3a $M$ \u7684\u8fb9\u3002\u6839\u636e $\\cot$ \u7684\u5b9a\u4e49\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\uff1a\n\n$$ \\cot \\, \\zeta = \\frac{ p \\times N }{ q \\times M} = \\frac{A}{B}$$\n\n\u7531\u4e8e $p$ \u548c $q$ \u5fc5\u7136\u662f\u4e92\u8d28\u7684 (\u82e5\u4e0d\u4e92\u8d28\uff0c\u5c31\u4e0d\u662f\u7b2c\u4e00\u6b21\u6ee1\u8db3\u9898\u610f) \uff0c\u53ef\u77e5\u5149\u7ebf\u6a2a\u5411\u8de8\u5ea6\u4e3a $p$ \uff0c\u7eb5\u5411\u8de8\u5ea6\u4e3a $q$ \uff0c\u518d\u51cf\u53bb\u8d77\u59cb\u70b9\uff0c\n\n\u4fbf\u53ef\u4ee5\u5f97\u51fa\u53cd\u5c04\u6b21\u6570\uff1a$p+q-2$ \u3002\n\n\u663e\u7136\uff0c\u5f53 $p=A \\times M$ \uff0c $q=B \\times N$ \u65f6\uff0c\u4e0a\u8ff0\u7b49\u5f0f\u6210\u7acb\u3002\n\n\u4e3a\u4e86\u8ba9 $p$ \u548c $q$ \u4e92\u8d28\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u540c\u65f6\u9664\u4ee5 $A \\times M$ \u548c $B \\times N$ \u7684\u6700\u5927\u516c\u7ea6\u6570\uff0c\u5373\u53ef\u5f97\u5230\u7b54\u6848\uff1a\n$$\\frac{A \\times M \\, + B \\times N}{\\gcd (A \\times M\\,,B \\times N)}$$\n\n## \u5751\u70b9\n- \u672c\u9898\u5361\u7cbe\u5ea6\uff0c\u6570\u636e\u6700\u5927\u53ef\u4ee5\u8fbe\u5230 $10^{20}$ \uff0c\u6240\u4ee5\u8981\u8fb9\u5199\u8fb9\u5316\u7b80\u3002\n\n- \u8981\u6ce8\u610f\u7279\u5224 $A=0$ \u6216 $B=0$ \u7684\u60c5\u51b5\u3002\n\n## \u4ee3\u7801\n```cpp\n#include <iostream>\n#include <algorithm>\nusing namespace std;\nlong long n,m,a,b;\n\nint main()\n{\n    cin>>n>>m>>a>>b;\n    if(a==0||b==0)//\u7279\u5224\n    {\n        cout<<\"0\";\n        return 0;\n    }\n    long long p=__gcd(a,b);\n    a/=p,b/=p;//\u5316\u7b80\n    long long q=__gcd(n,m);\n    n/=q,m/=q;//\u5316\u7b80\n    a*=m,b*=n;//\u5316\u7b80\n    long long r=__gcd(a,b);\n    cout<<(a/r)+(b/r)-2;\n    return 0;\n}\n```\n",
        "postTime": 1658593858,
        "uid": 732168,
        "name": "hhh_778899",
        "ccfLevel": 0,
        "title": "P5088\u9898\u89e3"
    },
    {
        "content": "## 1. \u9898\u610f\n\n[\u539f\u9898\u9762](https://www.luogu.com.cn/problem/P5088)\n\n\u62bd\u8c61\u4e00\u4e0b\u9898\u610f\uff1a\n\n\u6c42 $k1,k2$\uff0c\u4f7f\u5f97\uff1a\n$$\nk1\\times N:k2\\times M=A:B\n$$\n\uff08\u5148\u4f7f $\\gcd(A,B)=1$\n\n\u7136\u540e\uff0c\u9898\u76ee\u8981\u6c42\u7684\u5c31\u662f $k1+k2-2$ \u7684\u6700\u5c0f\u503c\u3002\n\n\u5bf9\u5e94\u5230\u539f\u9898\u610f\u662f\u4ec0\u4e48\u5462\uff1f\n\n\u6211\u4eec\u5047\u8bbe\u6709\u65e0\u7a77\u591a\u4e2a\u8fd9\u6837\u7684 $N\\times M$ \u7684\u77e9\u5f62\uff0c\u7136\u540e\u6211\u4eec\u4e0d\u53cd\u5c04\uff0c\u76f4\u63a5\u7a7f\u8fc7\uff0c\u76f4\u5230\u78b0\u5230\u4ea4\u754c\u7684\u70b9\u4e3a\u6b62\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/tng8b96b.png)\n\n\u84dd\u7ebf\u662f\u539f\u6765\u7684\u53cd\u5c04\u8def\u5f84\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u7ffb\u6298\uff0c\u4f7f\u5f97\u8def\u5f84\u53d8\u4e3a\u7eff\u7ebf\u3002\n\n\u53d8\u4e3a\u7eff\u7ebf\uff0c\u5176\u5b9e\u5df2\u7ecf\u7b80\u6d01\u4e86\u8bb8\u591a\u3002\n\n\u6211\u4eec\u5047\u8bbe\u6a2a\u5411\u7684\u6709 $k1$ \u4e2a $N$\uff0c\u7eb5\u5411\u7684\u6709 $k2$ \u4e2a $M$\uff0c\u90a3\u4e48\u6700\u540e $\\zeta$ \u7684\u5bf9\u8fb9\u662f $k2\\times M$\uff0c\u90bb\u8fb9\u662f $k1\\times N$\u3002\n\n\u4e8e\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\uff1a\n$$\n\\cot\\zeta=\\dfrac{k1\\times N}{k2\\times M}=\\dfrac{A}{B}\n$$\n\u4e5f\u5c31\u662f\u4e0a\u9762\u7684\u5f0f\u5b50\u4e86\u3002\n\n\u81f3\u4e8e\u53cd\u5c04\u4e86\u591a\u5c11\u6b21\uff0c\u5176\u5b9e\u5c31\u662f\u7a7f\u8fc7\u8fb9\u754c\u4e86\u591a\u5c11\u6b21\u3002\n\n~~\u5927\u773c\u89c2\u5bdf\u6cd5~~\u6613\u5f97 $ans=k1+k2-2$\u3002\n\n\u95ee\u9898\u8f6c\u5316\u4e3a\u600e\u6837\u6c42 $k1,k2$\u3002\n\n\u9996\u5148\uff0c\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u89e3\uff1a$k1=A\\times M,k2=B\\times N$\u3002\n\n\u7136\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u540c\u65f6\u9664\u4ee5\u4e00\u4e2a\u6570 $x$\u3002\n\n\u90a3\u4e48\u9700\u8981\u6ee1\u8db3\uff1a$x|A\\times M,x|B\\times N$\u3002\uff08\u4e0d\u7136\u7684\u8bdd\uff0c$k1,k2$ \u65e0\u6cd5\u6574\u9664 $x$\uff0c\u5c31\u4e0d\u662f\u6574\u6570\u4e86\uff09\u3002\n\n\u7efc\u4e0a\uff0c\u6211\u4eec\u5176\u5b9e\u5c31\u53ef\u4ee5\u603b\u7ed3\u51fa\u8fd9\u9053\u9898\u7684\u7b54\u6848\u4e86\uff1a\n$$\nans=\\dfrac{A\\times M+B\\times N}{\\gcd(A\\times M,B\\times N)}\n$$\n\n## 2. \u4ee3\u7801\n\n\u6570\u636e\u6c34\u4e86\u4e00\u70b9\uff0c\u6ca1\u6709\u5361\u6389 `long long`\u3002\n\n\u552f\u4e00\u6ce8\u610f\u7684\u662f $A=0$ \u6216 $B=0$ \u7684\u60c5\u51b5\u3002\n\n```cpp\nint main()\n{\n\tread(n, m, a, b);\n\tif (a == 0 || b == 0) return puts(\"0\"), 0;\n\tll g = Gcd(a, b);\n\ta /= g, b /= g;\n\tll x = Gcd(a * m, b * n);\n\twrite(a * m / x + b * n / x - 2);\n\treturn 0;\n}\n```",
        "postTime": 1635513038,
        "uid": 342891,
        "name": "mydcwfy",
        "ccfLevel": 9,
        "title": "P5088 \u9898\u89e3"
    },
    {
        "content": "\u63d0\u4f9b\u4e00\u7ec4hack\u6570\u636e\uff1a~~\u53ef\u4ee5hack\u6389\u4e0d\u5c11AC\u4ee3\u7801~~\n```\n\u8f93\u5165\uff1a10000000000 10000000000 10000000000 1\n\u8f93\u51fa\uff1a9999999999\n```\n\n\u4ee5\u5de6\u4e0a\u89d2\u4e3a\u539f\u70b9\u5efa\u7acb\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\uff0c\u4ee5n\u4e3ax\u8f74\uff0cm\u4e3ay\u8f74\u3002\n\n[![JkM9LF.png](https://s1.ax1x.com/2020/04/16/JkM9LF.png)](https://imgchr.com/i/JkM9LF)\n\n\u5047\u8bbe\u5149\u7ebf\u5728x\u8f74\u79fb\u52a8\u7684\u901f\u5ea6\u4e3aa m/s,\u5219\u5176\u5728y\u8f74\u79fb\u52a8\u7684\u901f\u5ea6\u4e3ab m/s\u3002\n\n\u753b\u51fa\u5149\u7ebf\u7684\u6a2a\u7eb5\u5750\u6807\u4e0e\u65f6\u95f4\u7684\u51fd\u6570\u56fe\u50cf\uff1a\n\n[![JkMpsU.png](https://s1.ax1x.com/2020/04/16/JkMpsU.png)](https://imgchr.com/i/JkMpsU)\n\n\u4ece\u56fe\u50cf\u4e2d\u53ef\u4ee5\u770b\u51fa\uff0cx\u65b9\u5411\u4e0a\u6bcf\u9694$t1=n/a$\u79d2\u78b0\u649e\u4e00\u6b21\u5899\u58c1\uff0cy\u65b9\u5411\u4e0a\u6bcf\u9694$t2=m/b$\u79d2\u78b0\u649e\u4e00\u6b21\u5899\u58c1\uff0c\n\n\u5f53\u5149\u7ebf\u5728x\u548cy\u65b9\u5411\u4e0a\u540c\u65f6\u78b0\u649e\u5899\u58c1\u65f6\uff0c\u5149\u7ebf\u5c31\u843d\u5165\u4e86\u5899\u89d2\u3002\n\n\u6b64\u65f6\u7684\u603b\u65f6\u95f4\u4e3a$T=lcm(t1,t2)$\n\n\u6545\u78b0\u649e\u603b\u6b21\u6570\u4e3a$T/t1+T/t2-2$(\u51cf2\u662f\u51cf\u53bb\u6700\u7ec8\u5728\u89d2\u843d\u5904\u7684\u78b0\u649e)\u3002\n\n\u8fd9\u91cc\u6709\u4e00\u4e2a\u7ec6\u8282\uff0c\u4e3a\u4e86\u907f\u514dt1\u548ct2\u4e0d\u662f\u6574\u6570\u800c\u5bfc\u81f4lcm\u51fa\u9519\u7684\u73b0\u8c61\u53d1\u751f\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06$n/a$\u548c$m/b$\u540c\u4e58ab\uff0c\n\n\u5373\uff1a$lcm(abt1,abt2)/abt1=ablcm(t1,t2)/abt1=lcm(t1,t2)/t1$,\n\n\n\u6700\u7ec8\u7ed3\u679c\u4e0d\u53d8\u3002\n\n\u9664\u4e86\u8fd9\u4e9b\uff0c\u8fd8\u8981\u7279\u5224a=0\u6216b=0\u7684\u60c5\u51b5\u3002\n\n\n\u4ee3\u7801\uff1a\n```cpp\n#include <iostream>\n#define ll long long\nusing namespace std;\nll n,m,a,b;\n\nll gcd(ll a,ll b){\n\tif(b==0) return a;\n    return gcd(b,a%b); \n}\n\nint main(){\n    ll k1,k2,k,t;\n\tcin>>n>>m>>a>>b;\n\tif(a==0||b==0) {cout<<0<<endl; return 0;}\n\tt=gcd(a,b),a/=t,b/=t;//\u5316\u7b80\uff0c\u53ef\u4ee5\u907f\u514d\u7206\u7cbe\u5ea6\n\tt=gcd(n,m),n/=t,m/=t;\n\t\n\ta*=m,b*=n; //\u6839\u636egcd(a,b)*lcm(a,b)=a*b\u5316\u7b80\n    t=gcd(a,b);\n\n\tcout<<a/t+b/t-2<<endl;\n    \n    return 0;\n}\n\n```\n\u540e\u8bb0\uff1a\n\n\u57282017\u521d\u8d5b\u4e2d\u66fe\u7ecf\u51fa\u8fc7\u8fd9\u6837\u4e00\u9053\u9898\uff1a\n```cpp\n#include<iostream>\nusing namespace std;\nint main()\n{\n    int n, m;\n    cin >> n >> m;\n    int x = 1;\n    int y = 1;\n    int dx = 1;\n    int dy = 1;\n    int cnt = 0;\n    while (cnt != 2)\n    {\n        cnt = 0;\n        x = x + dx;\n        y = y + dy;\n        if (x == 1 || x == n)\n        {\n            ++cnt;\n            dx = -dx;\n        }\n        if (y == 1 || y == m)\n        {\n            ++cnt;\n            dy = -dy;\n        }\n    }\n    cout << x << \" \" << y << endl;\n    return 0;\n}\n\u8f93\u5165 1\uff1a4 3\n\u8f93\u51fa 1\uff1a_________\uff083 \u5206\uff09\n\n\u8f93\u5165 2\uff1a2017 1014\n\u8f93\u51fa 2\uff1a_________\uff085 \u5206\uff09\n```\n\u5728\u8fd9\u9053\u9898\u4e2d\uff0c\u7ed9\u4e86\u8fb9\u957f\u548ccot\uff0c\u6c42\u843d\u5728\u54ea\u4e2a\u89d2\uff0c\u5982\u679c\u77e5\u9053\u65b9\u6cd5\u7684\u8bdd\u5c31\u4e0d\u7528\u6a21\u62df\u4e86\u3002\uff088\u5206\u5230\u624b~\uff09\n",
        "postTime": 1587035945,
        "uid": 21610,
        "name": "\u96c4\u9e70\u5c55\u7fc5",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P5088 \u3010\u77e9\u5f62\u3011"
    },
    {
        "content": "[link](https://www.luogu.com.cn/problem/P5088)\n\n----\n\n### \u9898\u76ee\u5927\u610f\n\n\u4e00\u4e2a\u77e9\u5f62\u957f\u5bbd\u4e4b\u6bd4\u4e3a $n:m$\uff0c\u8fb9\u662f\u5e73\u9762\u955c\n\n\u4e00\u675f\u6fc0\u5149\u4ece\u5de6\u4e0a\u89d2\u51fa\u53d1\u7684\u8ddf\u957f $n$ \u5939\u89d2\u4e3a $\u03b6^{\\circ}(0\u2264\u03b6\u226490)$\n\n\u53cd\u5c04\u89d2\u7b49\u4e8e\u5165\u5c04\u89d2\uff0c$\\cot \u03b6^{\\circ}=a:b$\n\n\u7ed9\u5b9a $n,m,a,b$\uff0c\u6c42\u51e0\u6b21\u53cd\u5c04\u540e\u5230\u77e9\u5f62\u7684\u89d2\n\n$0\\leq n,m,a,b\\leq 10^{10}$\n\n----\n\n### \u9898\u76ee\u89e3\u6cd5\n\n\u9996\u5148 [cot](https://baike.baidu.com/item/%E4%BD%99%E5%88%87/9601625?fromtitle=cot&fromid=37020&fr=aladdin) \u662f\u76f4\u89d2\u4e09\u89d2\u5f62\u4e00\u4e2a\u9510\u89d2\u548c\u90bb\u8fb9\u4e0e\u5bf9\u8fb9\u7684\u6bd4\u503c\u7684\u51fd\u6570\n\n\u8bbe\u8fd9\u4e2a\u77e9\u5f62\u5c31\u957f\u5bbd\u662f $n,m$\n\n\u6211\u4eec\u5148\u73a9\u4e00\u4e0b kawaii \u7684\u6837\u4f8b\n\n![lkx\u4e16\u754c\u7b2c\u4e00\u53ef\u7231](https://cdn.luogu.com.cn/upload/image_hosting/ro1o9swn.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n\u975e\u5e38\u9519\u4e71\uff0c\u8fd9\u7ed9\u6211\u4eec\u4e00\u79cd\u65e0\u4ece\u4e0b\u624b\u7684\u611f\u89c9\uff08\uff1f\uff1f\n\n\u4e8e\u662f\u4e4e\u6211\u4eec\u8003\u8651\u5bf9\u79f0\u628a\u5149\u8def\u62c9\u76f4\uff0c\u5c31\u5c06\u519b\u996e\u9a6c\u90a3\u4e2a\u8c03\u8c03\n\n![jyx\u4e16\u754c\u7b2c\u4e00\u53ef\u7231](https://cdn.luogu.com.cn/upload/image_hosting/f1o76sf0.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n\u6240\u4ee5\u8bf4\u5c31\u8fd9\u6837\u62fc\u77e9\u5f62\uff0c\u7b54\u6848\u5bf9\u5e94\u5230\u5149\u7ebf\u8ddf\u975e\u8d77\u70b9\u7684\u77e9\u5f62\u9876\u70b9\u7684\u7b2c\u4e00\u4e2a\u4ea4\u70b9\n\n\u8bbe\u5408\u6cd5\u7684\u8fd9\u79cd\u957f\u65b9\u5f62\u77e9\u9635\u957f\u5bbd\u4e3a $P=pn,Q=qm$\n\n\u8fd9\u65f6\u5019\u53cd\u5c04\u6b21\u6570\u5c31\u662f $(p-1)+(q-1)=p+q-2$\n\n\u4e5f\u6709 $\\frac{pn}{qm}=\\frac{a}{b}$\uff0c\u610f\u601d\u5c31\u662f $\\frac{p}{q}=\\frac{am}{bn}$\n\n\u90a3\u4e48\u628a $\\frac{am}{bn}$ \u7ea6\u5230\u6700\u7b80\u5c31\u662f\u5b9e\u9645\u4e0a\u7684 $\\frac{p}{q}$ \u4e86\uff0c\u4e0d\u7136\u76f8\u5f53\u4e8e\u628a\u8fd9\u4e2a\u5927\u6574\u4f53\u53c8\u62fc\u51fa\u4e00\u6b21\n\n\u8fd9\u4e2a\u9898\u8fd9\u6837\u5dee\u4e0d\u591a\u4e86\uff0c\u4f46\u662f\u6709\u7279\u6b8a\u60c5\u51b5\uff0c\u8fd9\u91cc $a=0$ \u6216\u8005 $b=0$ \u7684\u8bdd\u662f\u8981\u7279\u6b8a\u5224\u65ad\u7b54\u6848\u4e3a $0$ \u7684\uff0c\u4e0d\u7136\u4f1a\u559c\u63d0 $90pts$ \u7684\n\n----\n\n### \u4ee3\u7801\u5b9e\u73b0\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long \n\nusing namespace std;\n\nint n, m, a, b;\nint p, q, lsy;\n\nsigned main() {\n\tcin >> n >> m;\n\tcin >> a >> b;\n\tif(a==0||b==0) {\n\t\tcout << 0;\n\t\treturn 0;\n\t}\n\tlsy=__gcd(n,m);\n\tn/=lsy, m/=lsy;\n\tlsy=__gcd(a,b);\n\ta/=lsy, b/=lsy; \n\tp=m*a, q=n*b;\n\tlsy=__gcd(p,q);\n\tcout << p/lsy+q/lsy-2;\n\treturn 0;\n}\n```\n",
        "postTime": 1670563784,
        "uid": 371825,
        "name": "ChElsYqwq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5088 \u77e9\u5f62"
    },
    {
        "content": "\n\n# \u5206\u6790\uff1a\n\u4ea4\u53c9\u76f8\u4e58\uff0c\u7136\u540e\u9664\u4ee5\u6700\u5927\u516c\u56e0\u6570\uff08\u4e3a\u4e86\u51cf\u5c11\u7206\u5e38\u6570\u7684\u53ef\u80fd\u6027std\u505a\u4e86\u4e24\u6b21\uff0c\u6570\u636e\u5f88\u5927\uff09\uff0c\u5f97\u5230\u7684\u4e24\u4e2a\u6570\u76f8\u52a0\u51cf\u4e8c\u5c31\u662f\u7b54\u6848\n\n# \u4ee3\u7801\uff1a\n```\nvar\n  p,q,n,m,a,b,i:int64;\nbegin\n  readln(n,m);\n  readln(a,b);\n  p:=n;\n  q:=m;\n  if p<q then begin i:=p; p:=q; q:=i; end;\n  while (p mod q)<>0 do if p>q then begin p:=p mod q; i:=p; p:=q; q:=i; end;\n  n:=n div q;\n  n:=n*b;\n  m:=m div q;\n  m:=m*a;\n  p:=n;\n  q:=m;\n  if (n=0)or(m=0) then begin writeln(0); halt; end;\n  if p<q then begin i:=p; p:=q; q:=i; end;\n  while (p mod q)<>0 do if p>q then begin p:=p mod q; i:=p; p:=q; q:=i; end;\n  n:=n div q;\n  m:=m div q;\n  writeln(n+m-2);\nend.\n```",
        "postTime": 1544532670,
        "uid": 45475,
        "name": "ShineEternal",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5088 \u3010\u77e9\u5f62\u3011"
    }
]