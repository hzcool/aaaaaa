[
    {
        "content": "\u9996\u5148\uff0c\u5c06\u4e00\u4e2a\u6570\u4e0e\u4e0a\u53e6\u4e00\u4e2a\u6570\uff0c\u8fd9\u4e2a\u6570 1 \u7684\u6570\u91cf\u4e0d\u589e\uff0c\u6240\u4ee5\u5f53\u5de6\u7aef\u70b9\u56fa\u5b9a\u65f6\uff0c\u533a\u95f4\u7684\u4e0e\u548c\u6700\u591a\u53ea\u6709 $\\log$ \u79cd\u53d6\u503c\u3002\n\n\u5bf9\u4e8e\u4e0e\u548c\u76f8\u540c\u4e14\u5de6\u7aef\u70b9\u56fa\u5b9a\u7684\u533a\u95f4\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5728 $O(\\log)$ \u7684\u65f6\u95f4\u5185\u627e\u5230\u5176\u4e2d\u6709\u591a\u5c11\u4e2a\u533a\u95f4\u5f02\u6216\u548c\u7b49\u4e8e\u8fd9\u4e2a\u56fa\u5b9a\u7684\u4e0e\u548c\u5373\u53ef\uff0c\u8bbe\u533a\u95f4\u7aef\u70b9\u4e3a $l,r$\u3002\n\n\u6211\u4eec\u6c42\u51fa\u539f\u6570\u5217\u7684\u5f02\u6216\u524d\u7f00\u548c\uff0c\u8bbe\u4e3a\u6570\u5217 $b$\uff0c\u5219 $\\oplus_{i=l}^ra_i=b_r\\oplus b_{l-1}$\uff0c\u8bbe\u4e0e\u548c\u4e3a $x$ \u6211\u4eec\u6c42\u7684\u5c31\u662f $\\sum\\limits_{i=l}^r[b_i\\oplus b_{l-1}=x]=\\sum\\limits_{i=l}^r[b_i=b_{l-1}\\oplus x]$\uff0c$b_{l-1}\\oplus x$ \u5f53\u533a\u95f4\u56fa\u5b9a\u65f6\u662f\u5b9a\u503c\uff0c\u6240\u4ee5\u95ee\u9898\u88ab\u8f6c\u5316\u4e3a\u7ecf\u5178\u95ee\u9898\uff0c\u6c42\u533a\u95f4\u5185\u7ed9\u5b9a\u6570\u7684\u51fa\u73b0\u6b21\u6570\uff0c\u7531\u4e8e\u8be2\u95ee\u6b21\u6570\u662f $O(n\\log a_i)$ \u6240\u4ee5\u6211\u4eec\u8981\u5728 $O(\\log)$ \u5185\u5b8c\u6210\u67e5\u8be2\uff0c\u4f7f\u7528 vector \u91cc\u4e8c\u5206\u6216\u4e3b\u5e2d\u6811\u5747\u53ef\u3002\n\n\u603b\u590d\u6742\u5ea6 $O(n\\log a_i\\log n)$\n\n\u4ee3\u7801\n--\n```cpp\n#include<cstdio>\n#include<vector>\n#include<algorithm>\nstd::vector<int> v[100010];\nint lg[100010],a[100010][18],b[100010],n,qcnt,c[100010];\nlong long ans;\nint query(int const &l,int const &r){\n\tint k=lg[r-l+1];\n\treturn a[l][k]&a[r-(1<<k)+1][k];\n}\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)scanf(\"%d\",a[i]),c[i]=b[i]=b[i-1]^a[i][0];\n\tstd::sort(c+1,c+n+1);\n\tfor(int i=1;i<=n;i++)b[i]=std::lower_bound(c+1,c+n+1,b[i])-c,v[b[i]].push_back(i);\n\tfor(int i=2;i<=n;i++)lg[i]=lg[i>>1]+1;\n\tfor(int j=1;j<=lg[n];j++)\n\t\tfor(int i=1;i+(1<<(j-1))<=n;i++)\n\t\t\ta[i][j]=a[i][j-1]&a[i+(1<<(j-1))][j-1];\n\tfor(int i=1;i<=n;i++){\n\t\tint l=i,r=i;\n\t\tfor(;l<=n;l=r+1){\n\t\t\tint ll=l,rl=n,mid=0,res=query(i,l);\n\t\t\twhile(ll<=rl){\n\t\t\t\tmid=(ll+rl)>>1;\n\t\t\t\tif(query(i,mid)!=res) rl=mid-1;\n\t\t\t\telse ll=mid+1,r=mid;\n\t\t\t}\n\t\t\tint ord=res^c[b[i-1]];\n\t\t\tint p=std::lower_bound(c+1,c+n+1,ord)-c;\n\t\t\tif(p<=n&&c[p]==ord)\n\t\t\t\tans+=std::upper_bound(v[p].begin(),v[p].end(),r)-std::lower_bound(v[p].begin(),v[p].end(),l);\n\t\t}\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1606270632,
        "uid": 55707,
        "name": "gxy001",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P7003 [NEERC2013]Hack Protection"
    },
    {
        "content": "\u4e00\u4e2a\u4f7f\u7528\u4e3b\u5e2d\u6811\u7684\u5b9e\u73b0\u3002\n\n> (**2021\u96c6\u8bad\u961f\u4f5c\u4e1a P7003 \u3010[NEERC2013]Hack Protection\u3011**)\u7ed9\u5b9a\u4e00\u4e2a\u5e8f\u5217\uff0c\u6c42\u591a\u5c11\u4e2a\u533a\u95f4\u7684\u6309\u4f4d\u5f02\u6216\u503c\u7b49\u4e8e\u6309\u4f4d\u4e0e\u7684\u503c\u3002\n\n**Lemma 0** \u4e00\u4e2a\u5e8f\u5217\u7684\u524d\u7f00\u6309\u4f4d\u4e0e\u6700\u591a\u6709 $O(\\log v)$ \u79cd\uff0c\u4e14\u6bcf\u4e00\u79cd\u503c\u5bf9\u5e94\u7684\u524d\u7f00\u51fa\u73b0\u7684\u4f4d\u7f6e\u90fd\u662f\u4e00\u4e2a\u8fde\u7eed\u6bb5\u3002\u5176\u4e2d $v$ \u4e3a\u503c\u57df\u3002  \n\u8bc1\u660e\uff1a\u8003\u8651\u5230\u53ea\u6709 $\\lceil\\log_2v\\rceil$ \u4f4d\uff0c\u800c\u6bcf\u4e00\u4f4d\u6700\u591a\u6539\u53d8\u4e00\u6b21\uff08\u7531 1 \u6539\u53d8\u4e3a 0 \u4e4b\u540e\u6c38\u8fdc\u662f 0\uff0c\u7531 0 \u4e0d\u53ef\u80fd\u6539\u53d8\u4e3a 1\uff09\uff0c\u56e0\u6b64\u5f97\u8bc1\u3002\u540c\u7406\uff0c\u4e00\u4e2a\u5e8f\u5217\u7684\u524d\u7f00\u6309\u4f4d\u6216\u4e5f\u6ee1\u8db3\u8fd9\u4e2a\u7ed3\u8bba\u3002\n\n\u4e0a\u9762\u7684\u7ed3\u8bba\u7528\u7684\u975e\u5e38\u591a\uff0c\u66fe\u7ecf\u67d0 Ag \u5b66\u957f\u6765\u6211\u6821\u8bb2\u8bfe\u65f6\u5c31\u8bf4\u4e86\u96c5\u793c\u96c6\u8bad\u4e2d\u9047\u5230\u7684\u67d0\u9053\u9898\uff0c\u4e5f\u662f\u8fd9\u4e2a\u5957\u8def\uff0c~~\u7531\u4e8e\u6bd4\u672c\u9898\u66f4\u88f8\u5c31\u4e0d\u591a\u63d0\u53ca\u4e86~~\u3002\n\n\u6211\u4eec\u679a\u4e3e\u533a\u95f4\u7684\u5de6\u7aef\u70b9 $i$\uff0c\u7136\u540e $[i,n]$ \u5c31\u53ef\u4ee5\u5212\u5206\u4e3a $O(\\log v)$ \u4e2a\u524d\u7f00\u6309\u4f4d\u4e0e\u76f8\u540c\u7684\u8fde\u7eed\u6bb5\uff08\u8fd9\u91cc\u524d\u7f00\u6309\u4f4d\u4e0e\u662f\u6307\u4ece $i$ \u5f00\u59cb\u800c\u4e0d\u662f\u4ece $1$ \u5f00\u59cb\u7684\u524d\u7f00\uff09\uff0c\u8fd9\u4e00\u5212\u5206\u53ef\u4ee5**\u591a\u6b21\u4e8c\u5206 + ST \u8868**\u6765\u5b8c\u6210\u3002\u8bbe\u5f53\u524d\u627e\u5230\u7684\u524d\u7f00\u6309\u4f4d\u4e0e\u76f8\u540c\u7684\u8fde\u7eed\u6bb5\u4e3a $[l,r]$\uff0c\u5e76\u8bbe\u8be5\u76f8\u540c\u503c\u4e3a $t$\uff08\u6362\u8a00\u4e4b\uff0c$\\forall j\\in[l,r],st.\\ a_i\\ \\text{and}\\ a_{i+1}\\ \\text{and}\\ ...\\ \\text{and}\\ a_j=t$\uff09\uff0c\u4e3a\u4e86\u4f7f $[i,j](j\\in[l,r])$ \u7684\u6309\u4f4d\u5f02\u6216\u7b49\u4e8e\u6309\u4f4d\u4e0e\uff0c\u4ee4 $s_i$ \u8868\u793a**\u6574\u4e2a\u5e8f\u5217**\u7684\u524d\u7f00\u5f02\u6216\u503c\uff0c\u5e94\u5f53\u6709 $s_j\\oplus s_{i-1}=t$\uff0c\u4e5f\u5c31\u662f $s_j=s_{i-1}\\oplus t(j\\in[l,r])$\u3002\u95ee\u9898\u8f6c\u5316\u4e3a\u7edf\u8ba1\u4e00\u4e2a\u533a\u95f4 $s[l..r]$ \u5185\u5b9a\u503c $s_{i-1}\\oplus t$ \u51fa\u73b0\u7684\u6b21\u6570\u3002\n\n\u76f4\u63a5\u5f00\u4e2a `INT_MAX` \u7684\u5927\u4e3b\u5e2d\u6811\u663e\u7136\u4f1a `MLE`\uff0c\u8003\u8651\u79bb\u6563\u5316\u3002\u9700\u8981\u6ce8\u610f\u5728\u4e3b\u5e2d\u6811\u4e2d\u67e5\u8be2\u65f6\u8981\u5148\u5224\u65ad\u4e00\u4e0b $s_{i-1}\\oplus t$ \u662f\u5426\u5728\u5e8f\u5217\u4e2d\u51fa\u73b0\u4e86\uff0c\u5982\u679c\u6839\u672c\u6ca1\u51fa\u73b0\u8fc7\uff0c\u5e94\u5f53\u76f4\u63a5 `continue` \u6389\uff0c\u800c\u4e0d\u662f\u4f9d\u7136\u6c42\u5176\u6392\u540d\u5e76\u7528\u4e3b\u5e2d\u6811\u67e5\u8be2\uff0c\u5426\u5219\u4f1a\u591a\u7b97\u8bb8\u591a\u7b54\u6848\u3002\n\n```cpp\n#define ll long long\nconst int N = 100010;\nint n, a[N], st[N][20], lg[N], buc[N];\ninline int query(int l, int r) {\n\tint _lg = lg[r - l + 1];\n\treturn st[l][_lg] & st[r - (1 << _lg) + 1][_lg];\n}\nint ptr, root[N];\nstruct Node {\n\tint siz, ls, rs;\n} seg[N << 5];\ninline void pushup(int k) {\n\tseg[k].siz = seg[k << 1].siz + seg[k << 1 | 1].siz;\n}\nvoid add(int lst, int&k, int l, int r, int p) {\n\tk = ++ptr;\n\tseg[k] = seg[lst];\n\tif (l == r) {++seg[k].siz; return ;}\n\tint mid = l + r >> 1;\n\tp <= mid ? add(seg[lst].ls, seg[k].ls, l, mid, p) : add(seg[lst].rs, seg[k].rs, mid + 1, r, p);\n\tpushup(k);\n}\nint qry(int lst, int k, int l, int r, int p) {\n\tif (l == r) return seg[k].siz - seg[lst].siz;\n\tint mid = l + r >> 1;\n\treturn p <= mid ? qry(seg[lst].ls, seg[k].ls, l, mid, p) : qry(seg[lst].rs, seg[k].rs, mid + 1, r, p);\n}\nint main() {\n\tn = rd();\n\tfor (int i = 2; i <= n; ++i) lg[i] = lg[i >> 1] + 1;\n\tll ans = 0;\n\tfor (int i = 1; i <= n; ++i) st[i][0] = rd(), a[i] = a[i - 1] ^ st[i][0], buc[i] = a[i];\n\tfor (int j = 1; j <= lg[n]; ++j)\n\t\tfor (int i = 1; i + (1 << j) - 1 <= n; ++i)\n\t\t\tst[i][j] = st[i][j - 1] & st[i + (1 << j - 1)][j - 1];\n\tsort(buc + 1, buc + n + 1);\n\tint tt = unique(buc + 1, buc + n + 1) - buc - 1;\n\tfor (int i = 1; i <= n; ++i) add(root[i - 1], root[i], 0, n, lower_bound(buc + 1, buc + tt + 1, a[i]) - buc);\n\tfor (int i = 1; i <= n; ++i) {\n\t\tint l = i, r = i;\n\t\tfor (; l <= n; l = r + 1) {\n\t\t\tint _l = l, _r = n, mid, tmp = query(i, l);\n\t\t\twhile (_l <= _r)\n\t\t\t\tmid = _l + _r >> 1, query(i, mid) == tmp ? r = mid, _l = mid + 1 : _r = mid - 1;\n\t\t\tint val = lower_bound(buc + 1, buc + tt + 1, tmp ^ a[i - 1]) - buc;\n\t\t\tif (buc[val] != (tmp ^ a[i - 1])) continue;\n\t\t\tans += qry(root[l - 1], root[r], 0, n, val);\n\t\t}\n\t}\n\tprintf(\"%lld\", ans);\n\treturn 0;\n}\n```",
        "postTime": 1636355225,
        "uid": 75765,
        "name": "Starlight237",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P7003 \u3010[NEERC2013]Hack Protection\u3011"
    },
    {
        "content": "## P7003 [NEERC2013]Hack Protection\n\n### \u9898\u610f\n\n\u7ed9\u5b9a\u4e00\u4e2a\u5e8f\u5217 $a$ \uff0c\u6c42\u6709\u591a\u5c11\u4e2a\u533a\u95f4\u6ee1\u8db3\u533a\u95f4\u5185\u7684\u6570\u7684\u5f02\u6216\u548c\u7b49\u4e8e\u4e0e\u7684\u548c\u7684\u503c\u3002\n\n### \u601d\u8def\n\n\u9996\u5148\u6211\u4eec\u6c42\u4e00\u4e2a\u5f02\u6216\u524d\u7f00\u548c $s$\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u533a\u95f4 $[l,r]$ \uff0c\u5b83\u7684\u8d21\u732e\u4e3a\u533a\u95f4\u5185\u6309\u4f4d\u4e0e\u7684\u548c\u7b49\u4e8e $s_r \\bigoplus s_{l-1}$ \u7684\u6bb5\u7684\u4e2a\u6570\u3002\n\n\u8bbe $x$ \u4e3a\u67d0\u4e2a\u533a\u95f4\u7684\u6309\u4f4d\u4e0e\u7684\u548c\uff0c\u4e0a\u9762\u7684\u4e5f\u5c31\u662f\uff1a\n$$\ns_r \\bigoplus s_{l-1}=x\\ \\Leftrightarrow \\ s_r=x \\bigoplus s_{l-1}\n$$\n\u53d1\u73b0\uff0c\u5982\u679c\u6211\u4eec\u56fa\u5b9a $x$ \u548c $s_{l-1}$ \uff0c\u90a3\u4e48 $s_r$ \u5c31\u662f\u56fa\u5b9a\u7684\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6c42\u533a\u95f4\u5185\u4e0e $s_r$ \u76f8\u7b49\u7684\u6570\u7684\u4e2a\u6570\u6765\u7edf\u8ba1\u7b54\u6848\u3002\n\n\u8003\u8651\u679a\u4e3e $l$ \uff0c\u53d1\u73b0\uff0c\u5bf9\u4e8e\u5f80\u540e\u6309\u4f4d\u4e0e\u7684\u8fc7\u7a0b\uff0c$x$ (\u4e0e\u4e0a\u6587\u5b9a\u4e49\u76f8\u540c)\u6700\u591a\u4f1a\u53d8\u5316 $\\log$ \u6b21\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5c06\u5176\u5206\u4e3a\u8fd9\u4e48\u591a\u6bb5\uff0c\u7136\u540e\u5728 $s$ \u4e2d\u6c42\u4e0e $s_r$ \u76f8\u7b49\u7684\u6570\u7684\u4e2a\u6570\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u6c42\u6bcf\u4e00\u6bb5\u7684\u6309\u4f4d\u4e0e\u7ed3\u679c\uff0c\u53ef\u4ee5\u8bb0\u5f55\u53d8\u6210 0 \u7684\u90a3\u4e00\u4f4d\u662f\u4ec0\u4e48\uff0c\u6216\u8005\u76f4\u63a5 st \u8868\u67e5\u8be2\u90fd\u884c\u3002\n\n\u5bf9\u4e8e\u6700\u540e\u4e00\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e3b\u5e2d\u6811\uff0c\u6216\u8005\u7b80\u5355\u5730\u79bb\u6563\u5316\u52a0 `vector` \u4e0a\u4e8c\u5206\u5373\u53ef\u3002\n\n### \u5b9e\u73b0\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cctype>\n#include<cstring>\n#include<cmath>\n#include<vector>\n#include<utility>\n#define int unsigned \nusing namespace std;\ninline int read(){\n\tint w=0,x=0;char c=getchar();\n\twhile(!isdigit(c))w|=c=='-',c=getchar();\n\twhile(isdigit(c))x=x*10+(c^48),c=getchar();\n\treturn w?-x:x;\n}\nnamespace star\n{\n\tconst int maxn=1e5+10;\n\tint pre[maxn][35],n,a[maxn],b[maxn],s[maxn];\n\tlong long ans;\n\tvector<int> V[maxn];\n\tpair<int,int> q[35];\n\tinline void work(){\n\t\tn=read();\n\t\tfor(int i=1;i<=n;i++) s[i]=read(),a[i]=b[i]=a[i-1]^s[i];\n\t\tsort(b+1,b+1+n);\n\t\tint cnt=unique(b+1,b+1+n)-b-1;\n\t\tfor(int i=1;i<=n;i++) a[i]=lower_bound(b+1,b+1+cnt,a[i])-b;\n\t\tfor(int i=1;i<=n;i++) V[a[i]].push_back(i);\n\t\tfor(int j=0;j<31;j++) pre[n+1][j]=n+1;\n\t\tfor(int i=n;i;i--)\n\t\t\tfor(int j=0;j<31;j++)\n\t\t\t\tpre[i][j]=((s[i]>>j)&1)?pre[i+1][j]:i;\n\t\tfor(int l=1;l<=n;l++){\n\t\t\tint tot=0,x=s[l];\n\t\t\tq[0].first=l;\n\t\t\tfor(int j=0;j<31;j++)\n\t\t\tif((s[l]>>j)&1) q[++tot]=make_pair(pre[l][j],j);\n\t\t\tq[++tot]=make_pair(n+1,0);\n\t\t\tsort(q+1,q+1+tot);\n\t\t\tfor(int i=1;i<=tot;i++){\n\t\t\t\tint y=lower_bound(b+1,b+1+cnt,x^b[a[l-1]])-b;\n\t\t\t\tif(y<=n and b[y]==(x^b[a[l-1]]))\n\t\t\t\tans+=(lower_bound(V[y].begin(),V[y].end(),q[i].first)-lower_bound(V[y].begin(),V[y].end(),q[i-1].first));\n\t\t\t\tx^=(1<<q[i].second);\n\t\t\t}\n\t\t}\n\t\tprintf(\"%lld\\n\",ans);\n\t}\n}\nsigned main(){\n\tstar::work();\n\treturn 0;\n}\n```\n\n",
        "postTime": 1606273501,
        "uid": 280015,
        "name": "Star_Cried",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P7003 \u3010[NEERC2013]Hack Protection\u3011"
    },
    {
        "content": "\u8003\u8651\u5bf9\u4e8e\u5de6\u7aef\u70b9\u56fa\u5b9a\u7684\u60c5\u51b5\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4f4d\uff0c\u5982\u679c\u5df2\u53d8\u4e3a $0$ \u5c31\u4e00\u5b9a\u4e0d\u4f1a\u53d8\u56de $1$\uff0c\u6240\u4ee5\u5411\u53f3\u7684\u4e0e\u548c\u6700\u591a\u6709 $31$ \u79cd\uff08\u53f3\u7aef\u70b9\u53f3\u79fb\u4e0e\u548c\u4e00\u5b9a\u53d8\u4e3a\u539f\u6765\u7684\u5b50\u96c6\uff09\u3002     \n\n\u6211\u4eec\u6309\u4f4d\u8bb0\u4e00\u4e2a `nxt` \u8868\u793a\u8fd9\u4e00\u4f4d\u4e0b\u4e00\u4e2a $0$ \u5728\u54ea\u91cc\u51fa\u73b0\u3002\u6392\u5e8f\u540e\u4ece\u5de6\u5411\u53f3\u626b\u4e00\u904d\u5c31\u53ef\u4ee5\u627e\u5230 $31$ \u79cd\u548c\u7684\u533a\u95f4\uff08\u5373 $[nxt_{i,j},nxt_{i,j+1})$\uff09\uff0c\u7136\u540e\u95ee\u9898\u5c31\u53d8\u4e3a\u5728\u8fd9 $31$ \u4e2a\u533a\u95f4\u5185\u8be2\u95ee\u4e00\u4e2a\u6570\uff08$k\\oplus s_{i-1}$\uff08$k$ \u8868\u793a\u5f53\u524d\u533a\u95f4\u4e0e\u548c\uff1b$s$ \u8868\u793a\u524d\u7f00\u5f02\u6216\u548c\uff09\uff09\u7684\u51fa\u73b0\u6b21\u6570\u3002   \n\n\u6211\u4eec\u7528\u4e00\u4e2a `vector` \u8bb0\u4e00\u4e2a\u6570\u51fa\u73b0\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u5728\u4f4d\u7f6e\u5e8f\u5217\u4e0a\u4e8c\u5206\uff0c\u5c31\u53ef\u8f7b\u677e\u627e\u5230\u533a\u95f4\u4e00\u4e2a\u6570\u7684\u51fa\u73b0\u6b21\u6570\uff08\u5177\u4f53\u770b\u4ee3\u7801\u7406\u89e3\uff09\u3002    \n\n```cpp\nconst int N=100010;\nstd::vector<int>c[N];\nint n,a[N],b[N];std::pair<int,int>nxt[N][35];\nlong long ans;\nint main()\n{\n    int i,j,k,x;\n    scanf(\"%d\",&n);\n    for(i=1;i<=n;i++)\n    scanf(\"%d\",&a[i]),b[i]=b[i-1]^a[i];\n    for(i=n+1;i>=1;i--)\n    for(j=0;j<31;j++)nxt[i][j+1].second=j,(nxt[i][j+1].first=(a[i]>>j)&1?nxt[i+1][j+1].first:i);\n    std::sort(b+1,b+1+n);b[n+1]=-1;\n    for(i=1;i<=n;i++)c[std::lower_bound(b+1,b+1+n,a[i]^=a[i-1])-b].push_back(i);\n    for(i=1;i<=n;i++)\n    {\n        std::sort(nxt[i]+1,nxt[i]+32);nxt[i][0].first=i;nxt[i][32].first=n+1;\n        for(k=2147483647,j=0;j<32;k^=(1<<nxt[i][++j].second))\n        x=std::lower_bound(b+1,b+1+n,k^a[i-1])-b,b[x]==(k^a[i-1])&&(\n        ans+=std::lower_bound(c[x].begin(),c[x].end(),nxt[i][j+1].first)\n        \t-std::lower_bound(c[x].begin(),c[x].end(),nxt[i][j].first));\n    }\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n```",
        "postTime": 1606272944,
        "uid": 35137,
        "name": "a___",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P7003 \u3010[NEERC2013]Hack Protection\u3011"
    }
]