[
    {
        "content": "\u9b54\u9b3c\u6559\u7ec3\u4e3e\u884c\u4e86\u4e00\u6b21\u8fde\u7eed\u4e09\u5929\u7684\u52a8\u89c4\u6d4b\u8bd5\uff0c\u8fd9\u9898\u662fT2(\u4e00\u517131\u9898\uff09\u6211\u518d\u4e5f\u4e0d\u60f3\u6253\u52a8\u89c4\u4e86\uff08\u624b\u52a8\u9ec4\u8c46\u518d\u89c1\uff09\n\n\u8fd9\u9898\u5f88\u660e\u663e\u662f\u80cc\u5305\u7c7b\u52a8\u89c4\uff0c\u6700\u5bb9\u6613\u60f3\u5230\u7684\u601d\u8def\u5f53\u7136\u662f\u50cf\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u4e00\u6837\u505a\u5206\u7ec401\u80cc\u5305\uff0c$f[i]$\u8868\u793a\u82b1\u8d39\u4e3a$i$\u65f6\u5976\u725b\u7684\u6700\u5927\u4ea7\u51fa\u503c\u3002\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e5f\u5f88\u597d\u63a8\u3002\u7136\u800c\uff0c\u4e0d\u7528\u8bd5\u4e5f\u77e5\u9053\n\n$\\huge{TLE!}$\n\n\u7ecf\u8fc7\u89c2\u5bdf\u6211\u4eec\u53ef\u4ee5\u5f88\u8f7b\u6613\u5730\u5f97\u5230\u4e00\u4e2a\u7ed3\u8bba\uff0c\u6bcf\u4e2a\u6e38\u620f\u5e73\u53f0\u4e4b\u95f4\u662f\u4e92\u4e0d\u5f71\u54cd\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u6709\u4e86\u4e00\u4e2a\u5927\u80c6\u7684\u60f3\u6cd5\uff1a\u53ef\u4e0d\u53ef\u4ee5\u628a\u5f53\u524d\u5e73\u53f0\u5355\u72ec\u52a8\u89c4\u51fa\u6765\u540e\u4e0e\u524d\u9762\u5408\u5e76\u5462\uff1f\u6240\u4ee5\u5c31\u6709\u4e86$g$\u6570\u7ec4\uff0c$g[j]$\u8868\u793a\u5728\u5df2\u7ecf\u4e70\u4e86\u5f53\u524d\u5e73\u53f0$i$\u7684\u524d\u63d0\u4e0b\uff0c\u5728$1$~$i$\u5e73\u53f0\u5171\u82b1\u8d39$j$\u5143\u6240\u80fd\u5e26\u6765\u7684\u6700\u5927\u4ea7\u51fa,\u662f\u4e2a\u7b80\u5355\u768401\u80cc\u5305\uff08\u6211\u76f8\u4fe1\u4f60\u4eec\u90fd\u4f1a\u54d2\uff09\u3002\u7136\u540e\u5c06$g$\u548c$f$\u6570\u7ec4\u8fdb\u884c\u5408\u5e76\uff08$f[j]=max(f[j],g[j])$\uff09\u3002\u5177\u4f53\u5b9e\u73b0\u8fc7\u7a0b\u770b\u4ee3\u7801\u3002\n\n```cpp\n#include<bits/stdc++.h>\n using namespace std;\n int i,j,k,n,v,p,gc,gp,pv;\n long long f[1000005],g[1000005];\n inline int read()\n{\n\tint x=0,c; bool f=0;\n\tfor(;(c=getchar())<'0'||c>'9';f|=c=='-');\n\tfor(;c>='0'&&c<='9';c=getchar()) x=(x<<1)+(x<<3)+c-48;\n\treturn f?-x:x;\n}\n int main()\n{\n\tn=read(); v=read();\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tp=read(); gc=read();\n\t\tfor(j=p;j<=v;j++) g[j]=f[j-p];\n\t\tfor(j=1;j<=gc;j++)\n\t\t{\n\t\t\tgp=read(); pv=read();\n\t\t\tfor(k=v-gp;k>=p;k--) g[k+gp]=max(g[k+gp],g[k]+pv);\n\t\t}\n\t\tfor(j=p;j<=v;j++) f[j]=max(g[j],f[j]);\n\t}\n\tprintf(\"%d\",f[v]);\n\treturn 0;\n}\n```",
        "postTime": 1540971398,
        "uid": 60610,
        "name": "Gavin\u00b7Olivia",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2967 \u3010[USACO09DEC]\u89c6\u9891\u6e38\u620f\u7684\u9ebb\u70e6Video Game Troubles\u3011"
    },
    {
        "content": "\u9a6c\u4e0a\u5c31\u89812017NOIP\u590d\u8d5b\u4e86,\u5728\u6b64\u53d1\u590d\u8d5b\u524d\u7684\u6700\u540e\u4e00\u7bc7\u9898\u89e3,\u671b\u7ba1\u7406\u5458\u7ed9\u4e88\u91c7\u7eb3\uff01\n\n\u672c\u9898\u770b\u697c\u4e0b\u5199\u7684\u4ee3\u7801\u6709\u4e9b\u5197\u957f,\u5728\u6b64\u53d1\u4e00\u7bc7\u8f83\u77ed\u9898\u89e3,\u611f\u8c22SLQ\u8001\u5e08\u7684\u542f\u53d1!\n\n\u5728\u8fd9\u91cc\u6211\u4eec\u7528f[i][j]\u8868\u793a\u524di\u7ec4\u603b\u548c\u4e3aj\u7684\u6700\u5c0f\u4ee3\u4ef7,\u6b64\u9898\u8fd8\u9700\u5173\u6ce8i\u4e0ej\u7684\u53d6\u503c\u8303\u56f4,\u4e3a\u4e86\u4f18\u5316\u7a7a\u95f4\u7528\u4e0a\u4e86\u6eda\u52a8\u6570\u7ec4\n\n\u6211\u4eec\u901a\u8fc7\u63a2\u7d22\u53ef\u77e5\u9053f[i][j]\u4e0ef[i-1][j-p]\u548cf[i-1][j]\u6709\u5173\n\n\u8fd8\u53ef\u4f18\u5316\u6210\u4e00\u7ef4\u6570\u7ec4,\u8bf7\u8bfb\u8005\u81ea\u5df1\u5b8c\u6210\n\n\u8be6\u60c5\u770b\u4ee3\u7801\u6ce8\u91ca\u5427\n\n```cpp\n#include <cstdio>\n#include <algorithm>\nusing namespace std;\nint k,n,V,a,b,p,g,f[2][100005];//\u6eda\u52a8\u6570\u7ec4\ninline int Max(int a,int b){\n       return a>b?a:b;\n} \ninline int read(){\n    int ans=0,ok=1;\n    char ch=getchar();\n    while(ch<'0'||ch>'9') {\n        if(ch=='-')ok=-1;\n        ch=getchar();\n    }\n    for(;ch>='0'&&ch<='9';ch=getchar()) ans=ans*10+ch-'0';\n    return ans*ok;\n}\nint main(){\n    freopen(\"vidgame.in\",\"r\",stdin);\n    freopen(\"vidgame.out\",\"w\",stdout);\n    n=read(),V=read();\n    for(register int i=1;i<=n;i++){\n        p=read(),g=read();\n        for(register int j=p;j<=V;j++)\n            f[i&1][j]=f[(i-1)&1][j-p];//p\u4e3a\u5e73\u53f0i\u7684\u4ef7\u503c,\u5047\u8bbe\u6bcf\u4e2a\u6e38\u620f\u5fc5\u987b\u4e70 \n        while(g--){\n            a=read(),b=read();\n            for(register int j=V;j>=a+p;j--)//\u8303\u56f4\u4e3a>=a+p,\u5373\u4e3a\u6e38\u620f\u5e73\u53f0\u7684\u4ef7\u683c\u518d\u52a0\u4e0a\u6bcf\u4e2a\u6e38\u620f\u7684\u4ef7\u683c \n                f[i&1][j]=Max(f[i&1][j],f[i&1][j-a]+b);//\u51cf\u53bb\u4ef7\u683c,\u52a0\u4e0a\u4ea7\u51fa\u503c \n        }\n        for(register int j=0;j<=V;j++)\n            f[i&1][j]=Max(f[i&1][j],f[(i-1)&1][j]);//\u4e0d\u9009 \n    }\n    printf(\"%d\\n\",f[n&1][V]);\n    return 0;\n}\n```\nFINISHED!!",
        "postTime": 1510234793,
        "uid": 24612,
        "name": "PaulFrank",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2967 \u3010[USACO09DEC]\u89c6\u9891\u6e38\u620f\u7684\u9ebb\u70e6Video Game Troubles\u3011"
    },
    {
        "content": "### P2967 [USACO09DEC] Video Game Troubles G\n\n\u770b\u8d77\u6765\u50cf\u4e00\u4e2a\u6811\u5f62dp\uff0c\u53ea\u4e0d\u8fc7\u6811\u7684\u6df1\u5ea6\u53ea\u6709 $2$\uff0c\u662f\u4e00\u4e2a\u57fa\u7840\u768401\u80cc\u5305\u5199\u6cd5\u3002\n\n\u8fd9\u7bc7\u9898\u89e3\u6ca1\u6709\u8f6c\u79fb\u65b9\u7a0b\u3002\n\n\u6211\u4eec\u8bb0\u5f55 $save[i]$ \u6570\u7ec4\u8868\u793a\u9884\u7b97\u4e3a $i$ \u65f6\u4ea7\u51fa\u503c\u7684\u6700\u5927\u503c\uff0c$fork[i]$ \u662f\u8003\u8651\u6bcf\u4e00\u4e2a\u6e38\u620f\u673a\u65f6\u5019\u7684\u4e34\u65f6\u6570\u7ec4\uff0c\u8bb0\u5f55\u5185\u5bb9\u540c $save$\uff0c\u4f46\u5904\u7406\u7684\u65f6\u5019\u9700\u8981\u52a0\u4e0a\u6bcf\u4e00\u4e2a\u6e38\u620f\u673a\u4ef7\u683c\u3002\n\n```cpp\nfor (int j = p; j <= v; j++) fork[j] = save[j - p];\n```\n\n\u4ee3\u7801\u4e2d\u7684\u8fd9\u4e00\u884c\u662f01\u80cc\u5305\u524d\u5c06 $save[i]$ \u6570\u7ec4\u590d\u5236\u5230 $fork[i]$\uff0c\u53ea\u4e0d\u8fc7\u6b64\u65f6\u56e0\u4e3a\u4e70\u4e86\u6e38\u620f\u673a\uff0c\u6240\u4ee5\u8981\u52a0\u4e0a\u6e38\u620f\u673a\u7684\u4ef7\u683c\u3002\n\n```cpp\nfor (int k = v; k >= p + gp; k--)\n\tfork[k] = max(fork[k], fork[k - gp] + pv);//\u5728\u6bcf\u4e00\u4e2a\u6e38\u620f\u673a\u91cc\u9762\u505a01 \n```\n\n\u8fd9\u91cc\u662f\u6700\u7ecf\u5178\u768401\u80cc\u5305\uff0c$fork[i]$ \u9009\u62e9\u4e70\u4e0d\u4e70\u8fd9\u4e00\u4e2a\u6e38\u620f\uff0c\u5904\u7406\u5b8c\u4ee5\u540e\u5907\u4efd\u56de $save[i]$ \u6570\u7ec4\u3002\u4ee3\u7801\u4e2d\u7684\u8f93\u5165\u5408\u5e76\u5230\u4e86\u6811\u4e0a01\u80cc\u5305\u91cc\u9762\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nint n, v, p, g, fork[100010], save[100010];\n\n/*\n\u4e00\u5171N\u4e2a\u6e38\u620f\u4e3b\u673a\uff0c\u6bcf\u4e2a\u4ef7\u683c\u4e3aPi\uff0c\u8be5\u4e3b\u673a\u6709Gi\u4e2a\u72ec\u5360\u6e38\u620f\n\u6bcf\u79cd\u4e3b\u673a\u4e2d\uff0c\u6e38\u620fj\u7684\u4ef7\u683c\u4e3aGPj\uff0c\u6bcf\u5934\u5976\u725b\u73a9\u8be5\u6e38\u620f\u540e\u7684\u4ea7\u91cf\u4e3aPVj \n*/\n\nint main()\n{\n\tscanf(\"%d%d\", &n, &v);\n\tfor (int i = 1; i <= n; i++)\n\t{\n\t\tscanf(\"%d%d\", &p, &g);\n\t\tfor (int j = p; j <= v; j++) fork[j] = save[j - p];//\u5907\u4efd\u51fa\u6765\n\t\tfor (int j = 1; j <= g; j++)\n\t\t{\n\t\t\tint gp, pv; scanf(\"%d%d\", &gp, &pv);\n\t\t\tfor (int k = v; k >= p + gp; k--)\n\t\t\t\tfork[k] = max(fork[k], fork[k - gp] + pv);//\u5728\u6bcf\u4e00\u4e2a\u6e38\u620f\u673a\u91cc\u9762\u505a01 \n\t\t}\n\t\tfor (int j = p; j <= v; j++) save[j] = max(save[j], fork[j]); //\u5907\u4efd\u56de\u53bb \n\t}\n\tprintf(\"%d\\n\", save[v]);\n\treturn 0;\n}\n```\n",
        "postTime": 1667553160,
        "uid": 576077,
        "name": "Feng_Jing",
        "ccfLevel": 3,
        "title": "P2967 Video Game Troubles"
    },
    {
        "content": "## \u601d\u8def\n\u6709\u8d2d\u4e70\u9700\u8981\u7684\u6761\u4ef6\u3001\u6709\u4ef7\u683c\u3001\u6709\u4ef7\u503c\u3001\u6c42\u6700\u5927\u4ef7\u503c\u3002\u4e0d\u96be\u770b\u51fa\uff0c\u8fd9\u662f\u4e00\u9053\u6709\u4f9d\u8d56\u7684\u80cc\u5305\u95ee\u9898\u3002\n\n\u6709\u4f9d\u8d56\u7684\u80cc\u5305\u95ee\u9898\u5c31\u662f\u8981\u5148\u628a\u67d0\u4e00\u4e2a\u7269\u54c1\u53d6\u8d70\uff0c\u624d\u80fd\u53d6\u540e\u9762\u7684\u67d0\u4e9b\u7269\u54c1\u3002\u6240\u4ee5\u9700\u8981\u5bf9 **\u5206\u80cc\u5305**\uff08\u6bcf\u4e2a\u5e73\u53f0\uff09\u91cc\u7684\u6240\u6709\u7269\u54c1\u8fdb\u884c01\u80cc\u5305\uff0c\u518d\u7528 **\u603b\u80cc\u5305** \uff08\u6700\u7ec8\u7ed3\u8bba\uff09\u5bf9 **\u5206\u80cc\u5305** \u8fdb\u884c\u5206\u7ec4\u80cc\u5305\u5f97\u51fa\u6700\u4f18\u89e3\u3002\n\n\u4f46\u662f\u6b64\u65f6\u6709\u4e00\u4e2a\u95ee\u9898\u2014\u2014 **TLE** \u51fa\u73b0\u4e86\u3002\n\n\u6709\u4e00\u4e2a\u7ed3\u8bba\u662f\u663e\u800c\u6613\u89c1\u7684\uff0c\u5c31\u662f **\u603b\u80cc\u5305** \u6bcf\u4e00\u6b21\u7ed3\u8bba\u90fd\u53ef\u4ee5\u5f97\u51fa\u4e00\u4e2a\u6700\u4f18\u7684\u5b50\u7ed3\u6784\u3002\u6240\u4ee5\u5c31\u53ef\u4ee5\u7ee7\u627f\u4e4b\u524d\u7684\u6700\u4f18\u89e3\u8fdb\u884c **\u4e00\u5b9a\u8981\u8d2d\u4e70\u6e38\u620f\u5e73\u53f0** \u7684\u51b3\u7b56\u3002\u65e2\u7136\u53ef\u4ee5\u9009\u62e9\u7528\u6700\u4f18\u89e3\u8fdb\u884c\u80cc\u5305\uff0c\u4f55\u5fc5\u8981\u91cd\u65b0\u5f00\u59cb\u5462\uff1f\n\n\u6700\u540e\u5c06\u7ee7\u627f\u4e4b\u524d\u7684\u51b3\u7b56\u4e0e\u8d2d\u4e70\u65b0\u7684\u6e38\u620f\u5e73\u53f0\u6c42\u6700\u4f18\u89e3\u5c31\u597d\u4e86\u3002\n\n## \u7ec6\u8282\n\n\u52a8\u6001\u89c4\u5212\u662f\u6709\u5f88\u591a\u7ec6\u8282\u9700\u8981\u6ce8\u610f\u7684\uff0c\u4e0d\u662f\u8bf4\u601d\u8def\u5bf9\u4e86\u5c31\u80fd AC  \u3002\n\n### \u7ec6\u82821\n\n\u6bcf\u4e00\u6b21\u7684 **\u8d2d\u4e70\u5e73\u53f0\u51b3\u7b56** \u6240\u9700\u82b1\u8d39\u5bf9\u5e94\u7740\u603b\u80cc\u5305\u7684\u4ec0\u4e48\u82b1\u8d39\uff1f\n\n### \u7ec6\u82822\n\n\u5bf9\u4e8e\u5206\u80cc\u5305\uff0c V~V-P \u7684\u4ef7\u503c\u53ef\u4e0d\u53ef\u80fd\u88ab\u7528\u5230\uff1f\n\n-------------\n\n\u601d\u8003\u5e76\u660e\u767d\u4e86\u4ee5\u4e0a ~~\u505a\u9898\u65f6\u7684\u5927\u5751~~ \u95ee\u9898\uff0c\u624d\u7b97\u771f\u6b63\u660e\u767d\u6b64\u9898\u3002\n\n```cpp\n\n#include<bits/stdc++.h>\nusing namespace std;\nint N,gwi,gvi,p,G,V,gdp[111111],dp[111111];\nint main() {\n\tscanf(\"%d%d\",&N,&V);\n\twhile(N--) {\n\t\tscanf(\"%d%d\",&p,&G);\n\t\tfor(int i=0;i<=V-p;i++) {\n\t\t\tgdp[i]=dp[i];\n\t\t}\n\t\twhile(G--) {\n\t\t\tscanf(\"%d%d\",&gvi,&gwi);\n\t\t\tfor(int j=V-p;j>=gvi;j--) {\n\t\t\t\tgdp[j]=max(gdp[j],gdp[j-gvi]+gwi);\n\t\t\t}\n\t\t}\n\t\tfor(int i=V;i>=p;i--)\n\t\t\tdp[i]=max(dp[i],gdp[i-p]);\n\t}\n\tcout<<dp[V];\n\treturn 0;\n}\n```\n\n",
        "postTime": 1651478826,
        "uid": 430999,
        "name": "walk_in_study",
        "ccfLevel": 3,
        "title": "P2967 [USACO09DEC]Video Game Troubles G"
    },
    {
        "content": "## \u9898\u76ee\u5927\u610f\n$n$ \u79cd\u6e38\u620f\u4e3b\u673a\uff0c\u7b2c $i$ \u79cd\u4e3b\u673a\u7684\u4ef7\u683c\u662f $P_i$\u3002\u8be5\u4e3b\u673a\u6709 $G_i$ \u4e2a\u72ec\u5360\u6e38\u620f\u3002\u5f88\u660e\u663e\uff0c\u5976\u725b\u5fc5\u987b\u5148\u4e70\u8fdb\u4e00\u79cd\u6e38\u620f\u4e3b\u673a\uff0c\u624d\u80fd\u4e70\u8fdb\u5728\u8fd9\u79cd\u4e3b\u673a\u4e0a\u8fd0\u884c\u7684\u6e38\u620f\u3002\u5728\u6bcf\u79cd\u4e3b\u673a\u4e2d\uff0c\u6e38\u620f $j$ \u7684\u4ef7\u683c\u4e3a $\\mathit{GP}_j$\uff0c\u6bcf\u5934\u5976\u725b\u5728\u73a9\u4e86\u8be5\u6e38\u620f\u540e\u7684\u725b\u5976\u4ea7\u91cf\u4e3a $\\mathit{PV}_j$\u3002\u9884\u7b97\u4e3a $V$\u3002\u8bf7\u5e2e\u600e\u4e48\u8d2d\u4e70\uff0c\u4ea7\u51fa\u503c\u7684\u548c\u6700\u5927\u3002\n\n## \u5206\u6790\n### \u7ed9\u5b9a\u7a7a\u95f4\u7684\u6700\u5927\u4ef7\u503c\uff0c\u660e\u663e\u7684\u80cc\u5305\u554a\uff01\n\n$f_{i,j,v}$ \u8868\u793a\u73b0\u5728\u7b2c $i$ \u4e2a\u5e73\u53f0\uff0c\u7b2c $j$ \u4e2a\u6e38\u620f\uff0c\u73b0\u6709\u9884\u7b97\u4e3a $v$ \u7684\u60c5\u51b5\u4e0b\u7684\u6700\u5927\u4ea7\u91cf\u3002\n\n$$f_{i,j,v}=\\max(f_{i,j-1,v},f_{i,j-1,v- \\mathit{GP}_{ij}} + \\mathit{PV}_{ij} )$$\n\n\u5230\u73b0\u5728\u4e3a\u6b62\u8fd9\u4e2a\u65b9\u7a0b\u4e0d\u5b8c\u6574\uff0c\u53ea\u5bf9\u540e\u4e24\u4f4d\u8fdb\u884c\u4e86\u9012\u63a8\uff0c$i$ \u6ca1\u6709\u9012\u63a8\u8fc7\uff0c\u6240\u4ee5\u8fd8\u8981\u52a0\u4e0a\u3002\n\n$f_{i,0,v}$ \u8868\u793a\u786e\u5b9a\u8981\u7528\u7b2c $i$ \u4e2a\u4e3b\u673a\n\n\u5176\u5b9e\u8fd9\u4e2a\u65b9\u7a0b\u91cc\u9762\u6709\u4e00\u4e2a\u9690\u542b\u6761\u4ef6\u5c31\u662f\u6211\u4eec\u4f1a\u7528\u7b2c $i$ \u4e2a\u4e3b\u673a\u3002\u8fd9\u6837\u7684\u8bdd\u6211\u4eec\u8fd8\u9700\u8981\u8003\u8651\u5206\u7ed9\u7b2c $i$ \u4e2a\u4e3b\u673a\u591a\u5c11\u94b1\u3002\u6240\u4ee5\u8981\u518d\u4fee\u6539\u4e00\u4e0b\u3002~~\u597d\u9ebb\u70e6~~\n\n$g_{i,v}$ \u8003\u8651\u524d $i$ \u4e2a\u5e73\u53f0\u6700\u5927\u6536\u76ca\u3002\n\n$$g_{i,v}=\\max_{0\\leqslant k\\leqslant v}h_{i,k}+g_{i-1,v-k}$$\n\n\u5176\u4e2d $h_{i,k}=f_{i,G_i,k-P_i\n}$\n\n\n\n## \u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<algorithm>\nconst int maxv = 100001;\nint save[maxv], fork[maxv];\nint main()\n{\n  int n, v;\n  std::cin >> n >> v;\n  while (n --> 0) {\n  \tint p, g;\n  \tstd::cin >> p >> g; \n  \tfor (int x = 0; x+p <= v; ++x)\t// fork \u5728 [0, p) \u4e4b\u95f4\u662f\u65e0\u6548\u7684\t  \t\n  \t  fork[x+p] = save[x];  \t  \n  \twhile (g --> 0) {\n  \t  int pv, gp;\n  \t  std::cin >> gp >> pv;\n  \t  for (int x = v-gp; x >= p; x--) \n  \t    fork[x+gp] = std::max(fork[x+gp], fork[x] + pv);  \t    \n  \t}\n  \tfor (int x = v; x >= p; x--)\n  \t  save[x] = std::max(save[x], fork[x]); \n  }\n  std::cout << save[v];\n}\n```\n\u671b\u901a\u8fc7\uff01\u8c22\u8c22\u7ba1\u7406\u5458\u5927\u5927\uff01\n\n\n",
        "postTime": 1627876862,
        "uid": 422348,
        "name": "Yang818",
        "ccfLevel": 4,
        "title": "p2967\u9898\u89e3"
    },
    {
        "content": "\u672c\u9898\u52a8\u6001\u89c4\u5212\u5206\u7ec4\u80cc\u5305\u95ee\u9898\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u8bf4\u662f\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u7684\u52a0\u5f3a\u7248\u3002\n\n\u672c\u4eba\u521a\u521a\u770b\u5230\u8fd9\u9053\u9898\u65f6\u679c\u65ad\u628a\u91d1\u660e\u7684\u9884\u7b97\u65b9\u6848\u4fee\u6539\u4e4b\u540e\u5c31\u4ea4\u4e0a\u6765\u4e86\uff0c\u57fa\u672c\u601d\u8def\u5c31\u662f\u5148\u6574\u5408\u6210\u5f88\u591a\u79cd\u7269\u54c1\uff0c\u7136\u540e\u5206\u7ec4\u80cc\u5305\u3002\n\n\u7ed3\u679c\u663e\u7136\u2026\u2026\u8d85\u65f6\uff0c\u9519\u8bef\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<cmath>\n#include<algorithm>\nusing namespace std;\nint n,m;\nint head[101],size;\nstruct student\n{\n    int n,next,m,w;\n}edge[50001];\nint dp[1000001],tdp[1000001];\nint main()\n{\n    int i,j,k,mm,to,mw,ww;\n    cin>>n>>m;\n    for(i=1;i<=n;i++)head[i]=-1;\n    for(i=1;i<=n;i++)\n    {\n        scanf(\"%d%d\",&mm,&to);\n        size++;\n        edge[size].n=i;\n        edge[size].m=mm;\n        edge[size].w=0;\n        edge[size].next=head[i];\n        head[i]=size;\n        size++;\n        edge[size].n=i;\n        edge[size].m=0;\n        edge[size].w=0;\n        edge[size].next=head[i];\n        head[i]=size;\n        for(j=1;j<=to;j++)\n        {\n            scanf(\"%d%d\",&mw,&ww);\n            for(k=head[i];k!=-1;k=edge[k].next)\n            if(edge[k].m!=0)\n            {\n                size++;\n                edge[size].n=i;\n                edge[size].m=mw+edge[k].m;\n                edge[size].w=ww+edge[k].w;\n                edge[size].next=head[i];\n                head[i]=size;\n            }\n        }\n    }\n    for(i=1;i<=n;i++)\n    {\n        for(j=head[i];j!=-1;j=edge[j].next)\n        {\n            int p=edge[j].m,q=edge[j].w;\n            for(k=m;k>=p;k--)\n            {\n                tdp[k]=max(max(tdp[k],dp[k]),q+dp[k-p]);\n            }\n        }\n        for(j=m;j>=1;j--)\n        {\n            dp[j]=max(dp[j],tdp[j]);\n            tdp[j]=0;\n        }\n    }\n    cout<<dp[m];\n    return 0;\n}\n```\n\u663e\u7136\u662f\u9700\u8981\u4f18\u5316\u7684\uff0c\u7528f[i][j]\u8868\u793a\u524di\u7ec4\u7269\u54c1\u603b\u548c\u4e3aj\u7684\u6700\u5927\u503c\uff0cdp\u5c31\u53ef\u4ee5\u4e86\u3002\n\u5f53\u7136\uff0c\u6d1b\u8c37\u5185\u5b58\u9650\u5236128MB\uff0c\u7136\u540e\u5c31\u70b8\u4e86\u7a7a\u95f4\u3002\n\n\u9519\u8bef\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<cmath>\n#include<cstdlib>\nusing namespace std;\nint f[51][1000001],mm[51],s[51],m[51][11],w[51][11],n,v,ans;\nint main()\n{\n    int i,j,k;\n    cin>>n>>v;\n    for(i=1;i<=n;i++)\n    {\n        scanf(\"%d%d\",&mm[i],&s[i]);\n        for(j=1;j<=s[i];j++)\n        {\n            scanf(\"%d%d\",&m[i][j],&w[i][j]);\n        }\n    }\n    for(i=1;i<=n;i++)\n    {\n        for(j=0;j<mm[i];j++)\n        f[i][j]=f[i-1][j];\n        for(j=mm[i];j<=v;j++)\n        f[i][j]=f[i-1][j-mm[i]];\n        for(j=1;j<=s[i];j++)\n        {\n            for(k=v-m[i][j];k>=mm[i];k--)\n            f[i][k+m[i][j]]=max(f[i][k+m[i][j]],f[i][k]+w[i][j]);\n        }\n        for(j=mm[i];j<=v;j++)\n        f[i][j]=max(f[i][j],f[i-1][j]);\n    }\n    cout<<f[n][v];\n    return 0;\n}\n```\n\u7136\u540e\u7531\u4e8e\u6bcf\u4e00\u6b21dp\u4e2df[i][j]\u90fd\u53ea\u548cf[i-1][j]\u6709\u5173\u7cfb\uff0c\u6240\u4ee5\u53ef\u4ee5\u5c06\u7a0b\u5e8f\u7b80\u5316\u6210\u4e24\u4e2a\u4e00\u7ef4\u6570\u7ec4\u3002\nAC\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<cmath>\n#include<cstdlib>\nusing namespace std;\nint f1[1000001],f2[1000001],mm[51],s[51],m[51][11],w[51][11],n,v,ans;\nint main()\n{\n    int i,j,k;\n    cin>>n>>v;\n    for(i=1;i<=n;i++)\n    {\n        scanf(\"%d%d\",&mm[i],&s[i]);\n        for(j=1;j<=s[i];j++)\n        {\n            scanf(\"%d%d\",&m[i][j],&w[i][j]);\n        }\n    }\n    for(i=1;i<=n;i++)\n    {\n        for(j=mm[i];j<=v;j++)\n        f2[j]=f1[j-mm[i]];\n        for(j=1;j<=s[i];j++)\n        {\n            for(k=v-m[i][j];k>=mm[i];k--)\n            f2[k+m[i][j]]=max(f2[k+m[i][j]],f2[k]+w[i][j]);\n        }\n        for(j=mm[i];j<=v;j++)\n        f1[j]=max(f2[j],f1[j]);\n    }\n    cout<<f1[v];\n    return 0;\n}\n\u6709\u53f2\u4ee5\u6765\u672c\u4eba\u6700\u66f2\u6298\u7684\u4e00\u9053\u9898\u76ee\uff0c\u4e8e\u662f\u679c\u65ad\u53d1\u9898\u89e3\u4e86\u3002\n```",
        "postTime": 1486351052,
        "uid": 36357,
        "name": "kakakaka",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2967 \u3010[USACO09DEC]\u89c6\u9891\u6e38\u620f\u7684\u9ebb\u70e6Video Game Troubles\u3011"
    },
    {
        "content": "## \u53d1\u5e03\u4e00\u4e2a\u6eda\u52a8\u6570\u7ec4\u7684\u505a\u6cd5\uff0c\u5de7\u5999\u5730\u8282\u7701\u6389\u8bb8\u591a\u7a7a\u95f4\n\n\n~~\u5c31\u8fd9\u4e5f\u80fd\u662fUSACO\u91d1\u7ec4\uff1f\u8fd9\u9898\u4e5f\u592a\u6ca1\u96be\u5ea6\u554a~~\n\n\u7528$dp_{i}{j}$\u8868\u793a\u5728\u8d39\u7528\u4e3a$i$\u3001\u9009\u5230\u7b2c$j$\u4e2a\u4e3b\u673a\u65f6\u7684\u6700\u5927\u4ef7\u503c\n\n\u4e0d\u96be\u63a8\u51fa\u65b9\u7a0b\u8f6c\u79fb\u5f0f$dp_{i+p}{j}=$ $\\max{(dp_{i-GP_j}{j-1}+PV_j,dp_{i}{j-1})}$\n\n\u8fdb\u4e00\u6b65\u63a8\u5bfc\u53ef\u77e5\uff0c\u5f53\u524d\u7684\u72b6\u6001\u53ea\u548c\u4e0a\u4e00\u6b21\u7684\u72b6\u6001\u6709\u5173\n\n\u5219\u65b9\u7a0b\u8f6c\u79fb\u5f0f\u4e3a\uff1a\n\n$dp_{i+p}{\\text{j mod 2}}=$ $\\max{(dp_{i-GP_j}{\\text{(j+1) mod 2}}+PV_j,dp_{i}{\\text{(j+1) mod 2}})}$\n\n\uff08\u672c\u4eba$\\LaTeX$\u7565\u83dc\uff0c\u4e0d\u8981\u55b7\u554a\uff09\n\n\n\u63a5\u4e0b\u6765\u5c31\u662f\u6109\u5feb\u7684 Coding \u65f6\u95f4\u4e86\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int MAXV = 100000 + 10000 ;\nint dp[MAXV][2] ;\nint n,v;\n\nint main() {\n\tscanf(\"%d%d\",&n,&v);\n\tfor(int t=1;t<=n;++t) {\n\t\tint p,g;\n\t\tscanf(\"%d%d\",&p,&g);\n\t\tfor(int i=p;i<=v;++i) {\n\t\t\tdp[i][t&1]=dp[i-p][t&1^1];\n\t\t}\n\t\tfor(int k=1;k<=g;++k) {\n\t\t\tint gp,pv;\n\t\t\tscanf(\"%d%d\",&gp,&pv);\n\t\t\tfor(int i=v;i>=gp+p;--i) {\n\t\t\t\tdp[i][t&1]=max(dp[i][t&1],dp[i-gp][t&1]+pv);\n\t\t\t}\n\t\t}\n\t\tfor(int i=1;i<=v;++i) {\n\t\t\tdp[i][t&1]=max(dp[i][t&1],dp[i][t&1^1]);\n\t\t}\n\t}\n\tprintf(\"%d\",dp[v][n&1]);\n\treturn 0;\n}\n```\n\nUpdate1:\u4fee\u6539\u4e862\u5904\u9519\u8bef\nUpdate2:\u4fee\u6539\u4e86\u4e00\u4e2a\u5355\u8bcd\u7684\u62fc\u5199\u9519\u8bef\uff0c\u8bf7\u7ba1\u7406\u901a\u8fc7\u4e00\u4e0b\uff08\u539f\u672c\u5df2\u7ecf\u901a\u8fc7\u4e24\u6b21\u4e86\uff09",
        "postTime": 1585404786,
        "uid": 314693,
        "name": "zmxqs",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2967 \u3010[USACO09DEC]Video Game Troubles G\u3011"
    }
]