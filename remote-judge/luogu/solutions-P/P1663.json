[
    {
        "content": "\n\u53ea\u80fd\u8bf4\u8fd9\u662f\u4e00\u9053\u6570\u5b66\u9898\uff0c\u4f3c\u4e4e\u5e76\u6ca1\u6709\u84dd\u9898\u90a3\u4e48\u96be\u3002\n\n\u5f53\u6211\u4eec\u7b2c\u4e00\u773c\u5ea6\u5b8c\u9898\u7684\u65f6\u5019\uff0c\u5f88\u663e\u7136\u6211\u4eec\u8981\u627e\u5230\u6240\u6709\u76f4\u7ebf\u76f8\u4ea4\u7684\u6700\u9ad8\u70b9\u3002\n\n\u5e78\u8fd0\u7684\u662f$n \\le 5000 $,\u6211\u4eec\u8ba1\u7b97\u51fa\u6bcf\u4e00\u6761\u76f4\u7ebf\u7684\u89e3\u6790\u5f0f\u6765\u4ee5\u540e$n^2$\u679a\u4e3e\u5c31\u597d\u4e86\uff0c\u9898\u89e3\u4e2d\u4e5f\u6709\u8fd9\u79cd\u505a\u6cd5\u7684\u89e3\u7b54\uff0c\u5c31\u4e0d\u8be6\u7ec6\u8bf4\u4e86\uff0c\u6211\u4eec\u8003\u8651\u8981\u662f\u6570\u636e\u518d\u5927\u4e00\u70b9\u5462\uff1f\n\u6211\u4eec\u8003\u8651\u4e8c\u5206\u7b54\u6848\uff0c\u6bd5\u7adf$n \\times n$\u548c$n \\times logn$\u90a3\u5b8c\u5168\u5c31\u662f\u4e24\u4e2a\u6982\u5ff5\u554a\u3002\n\n\u6c42\u76f4\u7ebf\u7684\u89e3\u6790\u5f0f\u5e94\u8be5\u521d\u4e2d\u5c31\u5b66\u4e86\u5427\uff0c\u4e3a\u4e86\u907f\u514d\u67d0\u4e9b\u4eba\u6ca1\u5b66\u8fd8\u662f\u7a0d\u5fae\u63d0\u4e00\u4e0b\u5427(\u5927\u4f6c\u53ef\u76f4\u63a5\u8df3\u8fc7)\u3002\n![\u6b64\u5904\u8f93\u5165\u56fe\u7247\u7684\u63cf\u8ff0][1]\n\n\n\u5bf9\u4e8e\u8fd9\u76f4\u7ebf\u6765\u8bf4\uff0c\u9996\u5148\u7b2c\u4e00==\u5b9a\u4e49\u51fd\u6570\u89e3\u6790\u5f0f\u4e3a$y=ax+b$\n\u659c\u7387$a$\uff0c\u4e3a$(y1-y2)/(x1-x2)$,\u6709\u4e86\u659c\u7387\u6211\u4eec\u8981\u6c42b\u7684\u503c\uff0c\u6211\u4eec\u5c06\u659c\u7387\u5e26\u5165\u76f4\u7ebf\u4e0a\u67d0\u4e2a\u70b9\u5e26\u5165$(x_1,y_1)$\uff0c\u90a3\u4e48$$y=ax+b=>y_1=ax_1+b=>b=y_1-ax_1$$\n\u8fd9\u5c31\u6c42\u51fa\u4e86\u4e00\u6761\u76f4\u7ebf\u51fd\u6570\u89e3\u6790\u5f0f\u3002\n\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u53ef\u4ee5\u679a\u4e3e\u7b54\u6848\u4e86\uff0c\u9ad8\u5ea6\u5de6\u8fb9\u7f18\u4e3a$0$,\u53f3\u8fb9\u7f18\u6700\u5927\u4e3a$1000000$.\n\n\u6700\u91cd\u8981\u7684\u5c31\u662f$check()$\u51fd\u6570\u5566\u3002\n\u5bf9\u4e8e\u6bcf\u4e2a\u51fd\u6570\u503c\u5f97\u5224\u65ad\u6211\u4eec\u8981\u786e\u5b9a\u8fd9\u6761\u76f4\u7ebf\u5728\u54ea\u4e2a\u533a\u95f4\u8303\u56f4\u5185\u6ee1\u8db3\u53ef\u4ee5\u88ab\u770b\u89c1(\u51fd\u6570\u503c\u5c0f\u4e8e\u5224\u65ad\u7684\u503c)\u3002\n\u8fd8\u662f\u770b\u56fe\u5427\uff0c\u5047\u8bbe\u73b0\u5728\u5224\u65ad\u7b54\u6848c\u662f\u5426\u5408\u6cd5\u3002\n\u5bf9\u4e8e\u659c\u7387\u5c0f\u4e8e0\u7684\u76f4\u7ebf\u6765\u8bf4\n![\u6b64\u5904\u8f93\u5165\u56fe\u7247\u7684\u63cf\u8ff0][2]\n\n\n  [1]: https://i.loli.net/2018/09/20/5ba36bc70b16b.png\n  [2]: https://i.loli.net/2018/09/20/5ba3858a5ace2.png\n  \n  \u6211\u4eec\u627e\u5230$y=c$\u8fd9\u6761\u76f4\u7ebf\u4e0e\u76f4\u7ebf\u7684\u4ea4\u70b9$x$\uff0c\u90a3\u4e48\u5bf9\u4e8e\u4efb\u610f\u5927\u4e8e$x$\u7684\u70b9\u90fd\u662f\u770b\u4e00\u7531$c$\u7167\u4eae\u7684\uff0c\u90a3\u4e48\u6211\u4eec\u5bf9\u4e8e\u659c\u7387\u5c0f\u4e8e0\u7684\u6bcf\u4e00\u6761\u76f4\u7ebf\u8bb0\u5f55\u4e00\u4e2a\u5408\u6cd5\u7684\u6700\u5927\u5de6\u8fb9\u754c$L$(\u56e0\u4e3a\u8981\u6ee1\u8db3\u6240\u6709\u76f4\u7ebf)\u3002\n  \n  \u540c\u7406\u5bf9\u4e8e\u659c\u7387\u5927\u4e8e0\u7684\u76f4\u7ebf\uff0c\u6c42\u4e00\u4e2a\u6700\u5c0f\u7684\u53f3\u7aef\u70b9$R$\u3002\n  \n  \u5bf9\u4e8e\u659c\u7387\u7b49\u4e8e0\u7684\u76f4\u7ebf\u53ea\u9700\u8981\u5224\u65adb\u662f\u5426\u5c0f\u4e8ec\u5c31\u597d\u4e86\u3002\n  \u5f53$L \\le R$\u662f\u7b54\u6848\u5408\u7406\u3002\n```cpp\n#include <algorithm>\n#include <iostream>\n#include <cstring>\n#include <cstdio>\n#include <queue>\n#include <cmath>\nusing namespace std;\nint n;\ndouble x[5006],y[5006],a[5006],b[5006],ans;\nbool check(double x)\n{\n\tdouble L=-2e9,R=2e9;\n\tfor(int i=2;i<=n;i++)\n\t{\n\t\tif(a[i]<0)L=max(L,(x-b[i])/a[i]);\n\t\telse if(a[i]>0)R=min(R,(x-b[i])/a[i]);\n\t\telse if(x<b[i])return 0;\n\t}\n\treturn L<=R;\n}\nint main()\n{\n\tscanf(\"%d%lf%lf\",&n,&x[1],&y[1]);\n\tfor(int i=2;i<=n;i++)\n\t{\n\t\tscanf(\"%lf%lf\",&x[i],&y[i]);\n\t\ta[i]=(y[i]-y[i-1])/(x[i]-x[i-1]);\n\t\tb[i]=y[i]-a[i]*x[i];\n\t}\n\tdouble l=0,r=1000000;\n\twhile(l<=r)\n\t{\n\t\tdouble mid=(l+r)/2;\n\t\tif(check(mid))r=mid-0.0001,ans=mid;\n\t\telse l=mid+0.0001;\n\t}\n\tprintf(\"%.2lf\",ans);\n}\n```\n\u9119\u4eba\u4e0d\u624d\uff0c\u6709\u9519\u8bef\u8bf7\u6307\u51fa\uff0c\u559c\u6b22\u5c31\u70b9\u4e2a\u8d5e\u5427\u3002",
        "postTime": 1537444528,
        "uid": 61727,
        "name": "Manjusaka\u4e36\u68a6\u5bd2",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1663 \u3010\u5c71\u3011"
    },
    {
        "content": "#### \u697c\u4e0a\u9898\u89e3\u91cc\u6709\u7eaf\u6570\u5b66\u7684\u529e\u6cd5\uff0c\u8fd9\u91cc\u63d0\u4f9b\u4e00\u4e0b\u666e\u904d\u7684\u4e8c\u5206\u7b54\u6848\u7684\u529e\u6cd5\u3002\n### \u5177\u4f53\uff1a\n* \u6c42\u51fa\u76f4\u7ebf\u7684\u659c\u7387\uff0c\u622a\u8ddd\u7b49\u8d44\u6599\u3002\n* \u4e8c\u5206\u679a\u4e3e\u9ad8\u5ea6y\u3002\n* check(mid)\u51fd\u6570\uff1a\u5982\u679c\u5bf9\u4e8e\u4efb\u610f\u4e00\u6761\u76f4\u7ebf\uff0c\u5b58\u5728(x,y)\u5728\u76f4\u7ebf\u7684\u4e0a\u7aef\u6216\u5728\u76f4\u7ebf\u4e0a\u5219true.\n* \u5224\u65ad\u65f6\uff0c\u901a\u8fc7\u76f4\u7ebf\u65b9\u7a0b\u6c42\u51fa\u6ee1\u8db3y\u7684\u70b9(x0,y)\uff0c\n    1. \u5bf9\u4e8ek>0,\u5219x\u7684\u89e3\u96c6\u7684\u53f3\u7aef\u70b9\u53d6x0.\n    2. \u5bf9\u4e8ek<0,\u5219\u5de6\u7aef\u70b9\u53d6x0.\n    3. \u5bf9\u4e8ek==0,\u76f4\u63a5\u770bb\u548cmid\u7684\u5173\u7cfb.\n* \u6700\u540e(l,+inf)...(-inf,r)\u7b49\u7b49\u53d6\u4ea4\u96c6\uff0c\u5373\u5224\u65adreturn l<=r\u5373\u53ef\u3002\n\n\n```c++\n#include <bits/stdc++.h>\nusing namespace std;\nconst int MN=5005;\ntypedef long long ll;\n\nstruct line\n{\n    double k,b;\n    int x1,y1,x2,y2;\n    void solve()\n    {\n        k=((double)(y2-y1))/((double)(x2-x1));\n        b=(double)y2-k*(double)x2;\n    }\n}l[MN];\n/*double cross(line l1,line l2)\n{\n    if (l1.k==l2.k) return 0.00;\n    return (l1.b*l2.k-l2.b*l1.k)/(l2.k-l1.k);\n}*/\nint n;\nbool check(double x)\n{\n    double L=-2e9,R=2e9;\n    for (int i=1;i<n;++i)\n    {\n        if (l[i].k<0) L=max(L,(x-l[i].b)/l[i].k);\n        else if (l[i].k>0) R=min(R,(x-l[i].b)/l[i].k);\n        else if (x<l[i].b) return false;\n    }\n    return L<=R;\n}\nll read(){\n    ll f=1,x=0;char c=getchar();\n    while(c>'9'||c<'0'){if(c=='-')f=-1;c=getchar();}\n    while(c<='9'&&c>='0'){x=x*10+c-'0';c=getchar();}\n    return x*f;\n}\nint main()\n{\n    n=read();\n    int x1,y1,x2,y2;x1=read();y1=read();\n    for (int i=2;i<=n;++i)\n    {\n        x2=read();y2=read();\n        l[i-1].x1=x1,l[i-1].y1=y1,l[i-1].x2=x2,l[i-1].y2=y2;\n        l[i-1].solve();\n        x1=x2,y1=y2;\n    }\n    double L=0.00,R=2e9;\n    while (L+0.001<=R)\n    {\n        double mid=(L+R)/2.00;\n        if (!check(mid)) L=mid; //don't need to plus 1.\n        else R=mid;\n    }\n    printf(\"%.2lf\",R);\n    return 0;\n}\n```",
        "postTime": 1523631359,
        "uid": 31797,
        "name": "iyanhang",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1663 \u3010\u5c71\u3011"
    },
    {
        "content": "\u5982\u679c\u6211\u4eec\u628a\u76f8\u90bb\u7684\u4e24\u4e2a\u70b9\u8fde\u63a5\u8d77\u6765\uff0c\u770b\u4f5c\u4e00\u6761\u6761\u76f4\u7ebf\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u6211\u4eec\u8981\u6c42\u7684\u5c31\u662f\u627e\u5230\u4e00\u4e2a\u70b9\uff0c\u4f7f\u5b83\u5728\u6bcf\u4e00\u6761\u7684\u76f4\u7ebf\u7684\u4e0a\u65b9\u6216\u5728\u76f4\u7ebf\u4e0a\uff0c\u5e76\u4e14\u8981\u6c42y\u5750\u6807\u8d8a\u5c0f\u8d8a\u597d\u3002\n\n\u9996\u5148\u7b2c\u4e00\u6b65\u5f53\u7136\u662f\u8fd9n-1\u6761\u76f4\u7ebf\u7684\u8868\u8fbe\u5f0f\u7ed9\u6c42\u51fa\u6765\uff08\u522b\u8bf4\u4e0d\u4f1a\uff0c\u521d\u4e8c\u5c31\u5b66\u8fc7\u4e86\u597d\u5427\uff1f\uff09\n\n\u7136\u540e\u6211\u4eec\u4f1a\u53d1\u73b0\uff0c\u5bf9\u4e8e\u6211\u4eec\u679a\u4e3e\u7684\u6bcf\u4e00\u4e2a\u9ad8\u5ea6\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u6761\u76f4\u7ebf\u90fd\u6709\u4e00\u4e2a\u6ee1\u8db3\u8981\u6c42\u7684\u533a\u95f4\uff0c\u90a3\u4e48\u6211\u4eec\u600e\u4e48\u5224\u65ad\u8fd9\u4e2a\u9ad8\u5ea6\u662f\u5426\u53ef\u884c\uff1f\u663e\u7136\uff0c\u82e5\u8fd9\u4e9b\u533a\u95f4\u6709\u4ea4\u96c6\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u662f\u6709\u89e3\u4e86\uff0c\u5426\u5219\u5c31\u662f\u4e0d\u884c\u3002\n\n\u679a\u4e3e\u9ad8\u5ea6\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u4e8c\u5206\u6765\u5b9e\u73b0\uff0c\u5269\u4e0b\u5c31\u662f\u89e3\u4e00\u4e0b\u4e0d\u7b49\u5f0f\u95ee\u9898\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n``` cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nconst int maxn=5005;\nstruct ad{ int x,y; } a[maxn];\nstruct line{ double k,b; } b[maxn];   //\u5b58\u76f4\u7ebf\u7684\u8868\u8fbe\u5f0f\nint n; double l,r,mid,L,R,ans;\ninline int read(){\n    int ret=0; char ch=getchar();\n    while (ch<'0'||ch>'9') ch=getchar();\n    while (ch>='0'&&ch<='9') ret=ret*10+ch-'0',ch=getchar();\n    return ret;\n}\ninline bool check(double x){\n    L=-2e9,R=2e9;\n    for (int i=1;i<n;i++){\n        if (b[i].k<0) L=max(L,(x-b[i].b)/b[i].k);    //\u7531\u4e8ek\u53ef\u80fd\u5c0f\u4e8e0\uff0c\u6ce8\u610f\u4e0d\u7b49\u5f0f\u4e24\u8fb9\u540c\u9664\u4ee5\u8d1f\u6570\u8981\u53d8\u53f7\n        if (b[i].k>0) R=min(R,(x-b[i].b)/b[i].k);\n        if (b[i].k==0&&b[i].b>x) return 0;    //k\u7b49\u4e8e0\u7684\u8bdd\u4e00\u9664\u5c31\u66b4\u4e86\uff0c\u6ce8\u610f\u7279\u5224\n    }\n    return L<=R;\n}\nint main(){\n    freopen(\"hill.in\",\"r\",stdin);\n    freopen(\"hill.out\",\"w\",stdout);\n    n=read();\n    for (int i=1;i<=n;i++) a[i].x=read(),a[i].y=read();\n    for (int i=1;i<n;i++){\n        b[i].k=1.0*(a[i].y-a[i+1].y)/(a[i].x-a[i+1].x);      //\u81ea\u5df1\u63a8\u4e00\u4e0b\u7684\u8bdd\uff0c\u5e94\u8be5\u80fd\u61c2\n        b[i].b=1.0*a[i].y-b[i].k*a[i].x;\n    }\n    l=0,r=1000000;\n    while (r-l>=0.001){    //\u4e8c\u5206\u5c0f\u6570\u7684\u529e\u6cd5\n        mid=(l+r)/2.0;\n        if (check(mid)) ans=r=mid; else l=mid;\n    }\n    printf(\"%.2lf\\n\",ans);\n    return 0;\n}\n```\n#PS \u672c\u4eba\u7b2c\u4e00\u6b21\u5199\u9898\u89e3\uff0c\u591a\u591a\u89c1\u8c05\n",
        "postTime": 1493804054,
        "uid": 21181,
        "name": "Justin_N_Wu",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1663 \u3010\u5c71\u3011"
    },
    {
        "content": "\u8fd9\u662f\u6211\u4eba\u751f\u4e2d\u7b2c\u4e00\u9053\u72ec\u7acb\u5199\u51fa\u6765\u7684\u84dd\u9898\uff0c\u4eca\u5929\u7a81\u7136\u60f3\u5199\u4e00\u7bc7\u9898\u89e3\n\n# \u9898\u610f\n\u9009\u51fa\u4e00\u4e2a\u70b9\uff0c\u4f7f\u5f97\u5b83\u4e0e\u8fd9\u5ea7\u201c\u5c71\u201d\u4e0a\u7684\u6bcf\u4e00\u4e2a\u70b9\u7684\u8fde\u7ebf\u90fd\u4e0e\u8fd9\u5ea7\u201c\u5c71\u201d\u6ca1\u6709\u4ea4\u70b9\n# \u89e3\u6cd51\uff1a\u66b4\u529b\n\u89e3\u9898\u7b2c\u4e00\u6b65\uff0c\u8003\u8651\u66b4\u529b\n\n\u66b4\u529b\u600e\u4e48\u5199\u5462\uff1f\u8003\u8651\u679a\u4e3e $y$ \uff0c\u56e0\u4e3a\u9898\u76ee\u8981\u6c42\u8f93\u51fa\u4e0e\u7b54\u6848\u7684\u5dee\u4e0d\u8d85\u8fc7 0.01 \uff0c\u6240\u4ee5\u6211\u4eec\u628a\u7cbe\u5ea6\u8bbe\u4e3a 0.01 \uff0c\u8fd9\u6837\u66b4\u529b\uff1a\n```cpp\ndouble y=0;\nwhile(\u4e0d\u7b26\u5408\u6761\u4ef6)\n\ty+=0.01\n\u8f93\u51fay\n```\n\u90a3\u4e48\u5269\u4e0b\u7684\u95ee\u9898\u5c31\u662f\u600e\u4e48\u5224\u65ad\u662f\u5426\u7b26\u5408\u6761\u4ef6\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u4ece\u4e0b\u9762\u8fd9\u5f20\u56fe\u5165\u624b\uff1a\n![](https://cdn.luogu.com.cn/upload/image_hosting/vq05j93f.png)\n\n\u5f88\u660e\u663e\uff0c$y=4$ \u65f6\uff0c\u84dd\u8272\u90e8\u5206\u7684 $x$ \u662f\u5408\u6cd5\u7684\uff0c\u4e5f\u5c31\u662f\u5bf9\u4e8e\u4e0b\u964d\u7684\u90e8\u5206\uff08 $\\text{\u659c\u7387}<0\\ \\text{\u65f6}$ \uff09\uff0c$x \\ge (f(x)=y\\text{ \u4e2d }x\\text{ \u7684\u89e3})$ \uff0c\u6211\u4eec\u8bbe $f(x)=ax+b$ \uff0c\u89e3 $ax+b=y$ \uff0c\u89e3\u5f97 $x=\\frac{y-b}{a}$ \uff0c\u6240\u4ee5\u5f53 $a<0$ \u65f6\uff0c$x \\ge \\frac{y-b}{a}$\n\n\u7c7b\u4f3c\u7684\uff0c\u6211\u4eec\u770b $a>0$ \u7684\u60c5\u51b5\uff1a\n![](https://cdn.luogu.com.cn/upload/image_hosting/i137h4hf.png)\n\n\u84dd\u8272\u90e8\u5206\u5408\u6cd5\uff0c\u90a3\u4e48 $x \\le \\frac{y-b}{a}$\n\n\u7279\u6b8a\u7684\uff0c\u5bf9\u4e8e $a=0$ \u7684\u60c5\u51b5\uff0c\u5f53 $y<a$ \uff0c$x$ \u65e0\u89e3\uff0c\u5f53 $y\\ge a$ \uff0c$x$ \u53d6\u4efb\u610f\u5b9e\u6570\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u6c42\u51fa\u4efb\u610f\u4e00\u6bb5\u201c\u5c71\u5761\u201d\uff0c\u5728 $y$ \u786e\u5b9a\u7684\u60c5\u51b5\u4e0b $x$ \u7684\u8303\u56f4\uff0c\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e00\u6bb5\u5c71\u5761 $x$ \u7684\u53d6\u503c\u8303\u56f4\uff0c\u6211\u4eec\u5bf9\u4e8e\u8fd9\u4e9b\u8303\u56f4\u53d6\u4ea4\u96c6\uff0c\u5982\u679c\u6700\u540e\u7684\u96c6\u5408\u4e0d\u662f\u7a7a\u96c6\uff0c\u90a3\u4e48\u8bf4\u660e\u8fd9\u4e2a $y$ \u53ef\u884c\uff0c\u9996\u5148\u6211\u4eec\u9700\u8981\u628a\u8fd9\u4e9b\u70b9\u8f6c\u6362\u6210\u89e3\u6790\u5f0f\uff0c\u6211\u4eec\u5047\u8bbe\u6709\u4e24\u4e2a\u70b9 $(x_1,y_1),(x_2,y_2)$ \uff0c\u8fd9\u6761\u7ebf\u6ee1\u8db3 $y=ax+b$ \uff0c\u90a3\u4e48\uff1a\n$$\n\\left\\{\\begin{matrix}\nax_1+b=y_1 & \\\\ \nax_2+b=y_2 & \n\\end{matrix}\\right.\n$$\n\u89e3\u5f97\uff1a\n$$\n\\left\\{\\begin{matrix}\na=\\frac{y_1-y_2}{x_1-x_2} & \\\\\nb=y_1-ax_1 &\n\\end{matrix}\\right.\n$$\n\u732e\u4e0a\u66b4\u529b\u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nconst int NR=5010;\nint n;\nstruct ttt\n{\n\tdouble a, b;\n}a[NR], b[NR];\n//a\u5b58\u8f93\u5165\uff0cb\u5b58ax+b\u4e2d\u7684a\uff0cb\nbool chk(double y)\n{\n\tdouble l=-2e9, r=2e9;\n\tfor(int i=1;i<n;i++)\n\t\tif(b[i].a>0)r=min(r, (y-b[i].b)/b[i].a);//a>0\u7684\u60c5\u51b5\n\t\telse if(b[i].a<0)l=max(l, (y-b[i].b)/b[i].a);//a<0\u7684\u60c5\u51b5\n\t\telse if(y<b[i].b)return false;//a=0\u5e76\u4e14y<b\u7684\u60c5\u51b5\n\treturn l<=r;\n}\nint main()\n{\n\tscanf(\"%d\", &n);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%lf%lf\", &a[i].a, &a[i].b);\n\tfor(int i=1;i<n;i++)\n\t{//\u8f6c\u6362\n\t\tb[i].a=(a[i].b-a[i+1].b)/(a[i].a-a[i+1].a);\n\t\tb[i].b=a[i].b-b[i].a*a[i].a;\n\t}\n\tdouble ans=0;\n\twhile(!chk(ans))ans+=0.01;//\u679a\u4e3e\n\tprintf(\"%.2lf\", ans);\n\treturn 0;\n}\n```\n\u7136\u540e\u4f60\u4f1a\u53d1\u73b0\u4f60\u5f97\u4e86 40 \u5206\n# \u6b63\u89e3\uff1a\u4e8c\u5206\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u679a\u4e3e\u7684\u90e8\u5206\uff0c\u6211\u4eec\u662f\u8981\u627e\u5230\u6700\u9ad8\u7684\u6ee1\u8db3\u6761\u4ef6\u7684 $y$ \uff0c\u800c\u4e14\u8d8a\u9ad8\u8d8a\u6ee1\u8db3\u6761\u4ef6\uff0c\u8003\u8651\u4e8c\u5206\uff1a\n```cpp\ndouble l=0, r=1e6, m, ans;\nwhile(l<=r)\n{\n\tm=(l+r)/2;\n\tif(chk(m))ans=m, r=m-PR;\n\telse l=m+PR;\n}\nprintf(\"%.2lf\", ans);\n```\n\u5176\u4e2d $PR$ \u662f\u7cbe\u5ea6\uff0c\u8fd9\u91cc 0.01 \u5c31\u591f\uff0c\u8fd9\u91cc $r$ \u7684\u503c\u4e5f\u4e0d\u662f\u968f\u4fbf\u5199\u7684\uff0c\u9898\u76ee\u4e2d\u8bf4 $y_i \\le 10^6$ \uff0c\u6240\u4ee5\u7b54\u6848\u4e0d\u53ef\u80fd\u8d85\u8fc7 $1e6$ \uff0c\u732e\u4e0a\u5b8c\u6574\u4ee3\u7801\uff1a\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nconst int NR=5010;\nconst double PR=1e-2;\nint n;\nstruct ttt\n{\n\tdouble a, b;\n}a[NR], b[NR];\nbool chk(double y)\n{\n\tdouble l=-2e9, r=2e9;\n\tfor(int i=1;i<n;i++)\n\t\tif(b[i].a>0)r=min(r, (y-b[i].b)/b[i].a);\n\t\telse if(b[i].a<0)l=max(l, (y-b[i].b)/b[i].a);\n\t\telse if(y<b[i].b)return false;\n\treturn l<=r;\n}\nint main()\n{\n\tscanf(\"%d\", &n);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%lf%lf\", &a[i].a, &a[i].b);\n\tfor(int i=1;i<n;i++)\n\t{\n\t\tb[i].a=(a[i].b-a[i+1].b)/(a[i].a-a[i+1].a);\n\t\tb[i].b=a[i].b-b[i].a*a[i].a;\n\t}\n\tdouble l=0, r=1e6, m, ans;\n\twhile(l<=r)\n\t{\n\t\tm=(l+r)/2;\n\t\tif(chk(m))ans=m, r=m-PR;\n\t\telse l=m+PR;\n\t}\n\tprintf(\"%.2lf\", ans);\n\treturn 0;\n}\n```\n# \u4f18\u5316\n\u867d\u7136\u4e0a\u8ff0\u505a\u6cd5\u5df2\u7ecf\u80fd 100 \u5206\u4e86\uff0c\u4f46\u662f\u5176\u5b9e\u6211\u4eec\u8fd8\u53ef\u4ee5\u518d\u4f18\u5316\uff0c\u6bd4\u5982\u628a $double$ \u6362\u6210\u6574\u578b\uff0c\u8fd9\u6837\u8fd8\u80fd\u518d\u5feb\u4e00\u70b9\uff0c\u4ee3\u7801\u61d2\u5f97\u5199\u4e86\uff0c\u5404\u4f4d\u81ea\u5df1\u5c1d\u8bd5\u5427",
        "postTime": 1620024706,
        "uid": 389050,
        "name": "cszhpdx",
        "ccfLevel": 0,
        "title": "P1663 \u5c71 \u9898\u89e3"
    },
    {
        "content": "\u697c\u4e0b\u90fd\u662f\u4e8c\u5206\uff0c\u6211\u6765\u6c34\u4e00\u53d1\u6570\u5b66\u65b9\u6cd5\n\n\u4e00\u6b21\u51fd\u6570\u521d\u4e8c\u5c31\u5b66\u4e86\u3002\n\n\u9996\u5148\u6c42\u51fa\u76f8\u90bb\u4e24\u4e2a\u70b9\u6784\u6210\u7684\u76f4\u7ebf\u7684\u89e3\u6790\u5f0f\uff0c\n\n\u7136\u540e\u679a\u4e3e\uff0c\u6c42\u51fa\u6bcf\u4e24\u6761\u659c\u7387\u4e00\u6b63\u4e00\u8d1f\u7684\u76f4\u7ebf\u7684\u4ea4\u70b9\n\n\u65f6\u95f4\u590d\u6742\u5ea6O(n\u00b2)(n<=50)\n\n\u5bf9\u4ea4\u70b9\u53d6\u6700\u5927\u503c\u5373\u53ef\n\nAC\u4ee3\u7801\uff1a\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <cmath>\n#include <algorithm>\n#include <queue>\n#include <set>\n#include <map>\n#include <vector>\n#include <list>\n#define Open(s) freopen(s\".in\",\"r\",stdin);freopen(s\".out\",\"w\",stdout);\n#define Close fclose(stdin);fclose(stdout);\n#define rep(i,m,n) for(int i=m;i<=n;i++)\n#define dop(i,m,n) for(int i=m;i>=n;i--)\n#define lowbit(x) (x&(-x))\n#define ll long long\n#define INF 2147483647\nusing namespace std;\ninline int read(){\n    int s=0,w=1;\n    char ch=getchar();\n    while(ch<='0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n    while(ch>='0'&&ch<='9') s=s*10+ch-'0',ch=getchar();\n    return s*w;\n}\nconst int maxn=5050;\ndouble x[maxn],y[maxn],a[maxn],k[maxn],ans;\nint n;\nint main(){\n    scanf(\"%d%lf%lf\",&n,&x[1],&y[1]);\n    rep(i,2,n){\n       scanf(\"%lf%lf\",&x[i],&y[i]);\n       a[i]=(y[i]-y[i-1])/(x[i]-x[i-1]);  //y=ax+k\n       k[i]=y[i]-a[i]*x[i];        //\u6c42\u51fa\u76f4\u7ebf\u89e3\u6790\u5f0f\n    }\n    rep(i,2,n)\n       rep(j,i+1,n)\n          if(((a[j]>0&&a[i]<0)||(a[j]<0&&a[i]>0))){    //\u5982\u679c\u4e24\u6761\u76f4\u7ebf\u659c\u7387\u4e00\u6b63\u4e00\u8d1f\n            double X=(k[i]-k[j])/(a[j]-a[i]);                  //\u6c42\u51fa\u4ea4\u70b9X\u5750\u6807\n            if(ans<X*a[i]+k[i])                                  //ans\u5bf9\u4ea4\u70b9Y\u5750\u6807\u53d6\u6700\u5927\u503c\n              ans=X*a[i]+k[i];\n          }\n          else if(!a[j]&&!a[i]&&k[i]==k[j])        //\u7279\u5224\uff0c\u5e38\u51fd\u6570\n            if(ans<k[i])\n              ans=k[i];\n    printf(\"%.6lf\",ans);    //\u4fdd\u75596\u4f4d\u5c0f\u6570\n    return 0;\n}\n```",
        "postTime": 1506229929,
        "uid": 54636,
        "name": "Riven_Yasuo",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1663 \u3010\u5c71\u3011"
    },
    {
        "content": "#### \u4e8c\u5206+\u601d\u7ef4\u7684\u4e00\u9053\u5999\u9898\u3002\n\n\u9700\u8981\u4e9b\u8bb8\u6570\u5b66\u77e5\u8bc6\u548c\u4e00\u4e2a\u6709\u70b9\u7a7a\u95f4\u610f\u8bc6\u7684\u8111\u5b50\u3002\n\n\n------------\n\n## \u9898\u610f\u7b80\u8ff0:\n\n```\n\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\u4e0aN\u4e2a\u70b9\u76f8\u8fde\u5f62\u6210\u4e00\u6761\u6298\u7ebf\u3002\n\u8981\u6c42\u627e\u5230Y\u503c\u6700\u5c0f\u7684\u4e00\u4e2a\u70b9\u3002\n\u4f7f\u5f97\u5b83\u4f4d\u4e8e\u6bcf\u4e00\u6bb5\u6298\u7ebf\u6240\u5728\u7684\u76f4\u7ebf\u7684\u4e0a\u65b9\u3002\n```\n\n\n------------\n## \u601d\u8def\u5386\u7a0b\uff1a\n\n\n\u8003\u8651\u5e73\u9762\u76f4\u89d2\u5750\u6807\u7cfb\u4e0a\u7684\u6574\u6761\u6298\u7ebf\u5982\u4e0b\u56fe\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/bxawfpfq.png)\n\n\u800c\u628a\u201c\u6bcf\u4e00\u6bb5\u6298\u7ebf\u6240\u5728\u7684\u76f4\u7ebf\u201d\u8865\u8d77\u6765\u5c31\u50cf\u8fd9\u6837\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/b455pes3.png)\n\n\n------------\n\n###  $\\qquad \\mathcal{Task\\ 1.}$ \u4ec0\u4e48\u6837\u7684\u70b9\u624d\u6ee1\u8db3\u9898\u76ee\u8981\u6c42\uff1f\n\n\u6211\u4eec\u8981\u53d6\u7684\u662f\u201d\u6bcf\u4e00\u6bb5\u6298\u7ebf\u6240\u5728\u76f4\u7ebf\u201c\u7684\u4e0a\u65b9\u7684\u70b9\u3002\n\n\u7531\u4e8e\u6bcf\u4e00\u6bb5\u6298\u7ebf\u7684**\u8d77\u70b9**\u4e0e**\u7ec8\u70b9**\u662f\u660e\u786e\u5df2\u77e5\u7684\uff0c\u6240\u4ee5\u4ed6\u7684\u201c**\u4e0a\u534a\u90e8\u5206**\u201d\u5fc5\u7136\u4e5f\u662f\u5df2\u77e5\u7684\u3002\n\n\u800c\u6211\u4eec\u9009\u53d6\u7684\u70b9\uff0c\u5219\u9700\u8981\u4f4d\u4e8e**\u6bcf\u4e00\u6bb5\u6298\u7ebf**\u7684\u201c\u4e0a\u534a\u90e8\u5206\u201d\uff0c\u6240\u4ee5\u4fbf\u662f\u8981\u53d6\u6240\u6709\u201c\u4e0a\u534a\u90e8\u5206\u201d\u7684**\u4ea4**\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/419efei1.png)\n\n\u770b\u56fe\u6211\u4eec\u4fbf\u53ef\u77e5\u9053\uff0c**\u5fc5\u5b9a\u5b58\u5728\u4e14\u53ea\u5b58\u5728\u4e00\u4e2a** $Y$ \u503c\u6700\u5c0f\u7684\u70b9\uff0c\u4f7f\u5b83\u5728\u6bcf\u4e00\u6bb5\u6298\u7ebf\u7684\u201c\u4e0a\u534a\u90e8\u5206\u201d\u3002\n\n\u8fd9\u4e2a\u6700\u5c0f\u7684 $Y$ \u5177\u8c61\u5230\u56fe\u50cf\u4e0a\uff0c\u5c31\u662f\u6240\u6709\u201c**\u5305\u542b\u9634\u5f71\u90e8\u5206\u7684\u6c34\u5e73\u76f4\u7ebf**\u201d\u4e2d\u6700\u4f4e\u7684\u4e00\u6761\u3002 \n\n\n------------\n\n### $\\qquad \\mathcal{Task\\ 2.}$ \u5982\u4f55\u67e5\u4e00\u6761\u6c34\u5e73\u76f4\u7ebf\u662f\u5426\u5305\u542b\u9634\u5f71\u90e8\u5206\uff1f\n\n\u300e**\u9634\u5f71\u90e8\u5206\u5fc5\u7136\u662f\u4e00\u4e2a\u8054\u901a\u7684\u591a\u8fb9\u5f62\u3002**\u300f\n\n\u539f\u56e0\u663e\u7136\uff0c\u5728\u540c\u4e00\u6761\u6c34\u5e73\u76f4\u7ebf\u4e0a\uff0c**\u4e0d\u53ef\u80fd**\u5b58\u5728\u4e00\u4e2a\u70b9\uff0c\u4e00\u5f00\u59cb\u5728\u4e00\u6761\u76f4\u7ebf\u4e0a\u65b9\uff0c\u7a81\u7136\u5c31\u4e0d\u5728\u4e86\uff0c\u7a81\u7136\u53c8\u5230\u4e86\u4ed6\u7684\u4e0a\u65b9\u7684\u60c5\u51b5\uff08\u8fd9\u53ef\u662f**\u4e00\u6b21\u51fd\u6570**\uff09\u3002\n\n\u6240\u4ee5\u5bf9\u4e8e\u4e00\u6761\u6c34\u5e73\u76f4\u7ebf\uff0c\u4ed6\u4e0a\u9762\u7684\u9634\u5f71\u90e8\u5206\u8981\u4e48\u6ca1\u6709\uff0c\u8981\u6709\u5c31\u662f**\u4e00\u4e2a\u56fa\u5b9a\u7684**\u533a\u95f4\u3002\n\n\u65e2\u7136\u9634\u5f71\u90e8\u5206\u5728\u4e00\u6761\u6c34\u5e73\u76f4\u7ebf\u4e0a\uff0c**\u53ea\u5b58\u5728\u4e00\u4e2a\u533a\u95f4**\u3002\u90a3\u8fd9\u4e2a\u9634\u5f71\u533a\u95f4\u6211\u4eec\u4fbf\u53ef\u4ee5\u901a\u8fc7\u6bcf\u4e00\u6bb5\u6298\u7ebf\u7684\u659c\u7387\u4fe1\u606f\uff0c\u6765\u9650\u5b9a\u5728\u4e00\u4e2a**\u660e\u786e**\u7684\u8303\u56f4\u91cc\u3002\n\n### $\\qquad \\mathcal{Task\\ 3.}$ \u600e\u4e48\u9650\u5b9a\u9634\u5f71\u90e8\u5206\u7684\u8303\u56f4\uff1f\n\n\u5177\u4f53\u5730\u8bf4\uff0c\u9650\u5b9a\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n- \u5bf9\u4e8e\u4e00\u4e2a\u56fa\u5b9a\u7684 $Y$ \uff0c\u626b\u4e00\u904d\u6bcf\u4e00\u6bb5\u6298\u7ebf\u6240\u5728\u76f4\u7ebf\uff0c\u8ba8\u8bba\uff1a\n\n \t- \u82e5\u8be5\u76f4\u7ebf\u659c\u7387\u5927\u4e8e 0 \uff0c\u5355\u8c03\u9012\u589e\uff0c\u90a3\u4ed6\u7684\u201c\u4e0a\u534a\u90e8\u5206\u201d\u5fc5\u7136\u5728\u4ed6\u7684**\u5de6\u4e0a\u65b9**\uff08\u8fd9\u91cc\u9700\u8981\u4e00\u70b9\u5750\u6807\u7cfb\u601d\u7ef4\uff09\u3002\u5f53 $Y$ \u503c\u56fa\u5b9a\uff0c\u9634\u5f71\u90e8\u5206\u5fc5\u7136\u5728\u76f4\u7ebf\u7684\u5de6\u4fa7\u3002\n    \n    - \u82e5\u8be5\u76f4\u7ebf\u659c\u7387\u7b49\u4e8e 0\uff0c\u4e00\u6761\u6a2a\u7740\u7684\u76f4\u7ebf\u3002\u90a3\u4e48\uff0c\u5982\u679c\u73b0\u5728\u7684 $Y$ \u503c**\u5c0f\u4e8e**\u76f4\u7ebf\u6240\u5728 $Y$ \u503c\uff0c\u5219**\u5fc5\u7136\u4e0d\u5b58\u5728**\u9634\u5f71\u90e8\u5206\u3002\n    \n    - \u82e5\u659c\u7387\u5c0f\u4e8e\u96f6\uff0c\u5355\u8c03\u9012\u51cf\uff0c\u201c\u4e0a\u534a\u90e8\u5206\u201d\u5728 **\u53f3\u4e0a\u65b9** \u3002\u5f53 $Y$ \u503c\u56fa\u5b9a\uff0c\u9634\u5f71\u90e8\u5206\u5fc5\u7136\u5728\u76f4\u7ebf\u7684\u53f3\u4fa7\u3002\n    \n\u4e0d\u59a8\u753b\u56fe\u7406\u89e3\u3002\u6211\u4eec\u73b0\u5728\u6682\u5b9a\u4e0b $Y= 0.3$\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/66o8z3h6.png)\n\n\u9ec4\u7ebf\u7684 $Y=0.5$ \u6211\u4eec\u73b0\u5728\u7684 $0.3$ \u4f4e\u4e8e\u5176\uff0c\u6545\u5fc5**\u4e0d\u5b58\u5728**\u9634\u5f71\u90e8\u5206\u3002\n\n\u6b64\u65f6\u9700\u8981\u6211\u4eec\u6539\u53d8 $Y$ \u503c\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3iwlxd9y.png)\n\n\u6b64\u65f6\u84dd\u7ebf\u7684\u659c\u7387\u5c0f\u4e8e0\uff0c\u6545\u9634\u5f71\u90e8\u5206\u7684\u533a\u95f4\u88ab\u9650\u5236\u5728 $\\{ x|x\\geq 0.1 \\} $ \u8303\u56f4\u5185\u3002\n\n\u6b64\u65f6\u7c89\u7ebf\u7684\u659c\u7387\u5927\u4e8e0\uff0c\u6545\u9634\u5f71\u90e8\u5206\u7684\u533a\u95f4\u88ab\u9650\u5236\u5728 $\\{ x|0.1\\leq x\\leq 5.6 \\}$ \u8303\u56f4\u5185\u3002\n\n\u8fd9\u65f6\u6211\u4eec\u5c31\u6709\u4e86\u4e00\u4e2a\u660e\u786e\u7684\u533a\u95f4\u4e86\u3002\u800c\u4e00\u6761\u6c34\u5e73\u76f4\u7ebf\u4e0a\uff0c\u9634\u5f71\u533a\u95f4\u5b58\u5728\uff0c\u4e5f\u5c31\u662f\u4ee3\u8868\u5305\u542b\u4e86\u9634\u5f71\u90e8\u5206\uff0c\u5b83\u7684\u6761\u4ef6\u663e\u7136\u662f **\u53f3\u8fb9\u754c\u5927\u4e8e\u5de6\u8fb9\u754c** \u3002\n\n\u90a3\u8fd9\u9053\u9898\u5c31\u53ef\u4ee5\u8f7b\u677e\u89e3\u51b3\u4e86\uff0c\u6211\u4eec\u53ea\u9700\u4e8c\u5206\u627e\u5230**\u6700\u5c0f\u7684\uff0c\u4f7f\u9634\u5f71\u533a\u95f4\u5b58\u5728**\u7684$Y$ \u503c\u5373\u53ef\u3002\n\n\n------------\n\n## \u4ee3\u7801\u5982\u4e0b:\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int MAX = 5007;\nconst double INF = 2e9;\n\nstruct line//\u4ee3\u8868\u4e00\u6761\u76f4\u7ebf\n{\n\tdouble k, b;\n    //\u659c\u7387\u4e0e\u622a\u8ddd\n} l[MAX];\n\nint N;\ndouble x[MAX], y[MAX];\n//\u5b58\u70b9\u7684 x,y \u5750\u6807\ndouble L, R;//\u5de6\u3001\u53f3\u8fb9\u754c\ndouble ans;//\u7b54\u6848\uff08\u6307\u6700\u4f4e\u7684Y\u503c\uff09\n\nbool judge(double Y)//\u83b7\u53d6\u9634\u5f71\u533a\u95f4\n{\n\tL = -INF, R = INF;\n\tfor (int i = 1; i <= N; i++)\n\t{\n\t\tif (l[i].k < 0)//\u622a\u8ddd<0\uff0c\u66f4\u65b0\u5de6\u8fb9\u754c\n\t\t{\n\t\t\tL = max(L, (Y - l[i].b) / l[i].k);\n\t\t}\n\t\tif (l[i].k > 0)//\u622a\u8ddd>0\uff0c\u66f4\u65b0\u53f3\u8fb9\u754c\n\t\t{\n\t\t\tR = min(R, (Y - l[i].b) / l[i].k);\n\t\t}\n\t\tif (l[i].k == 0)\n\t\t{\n\t\t\tif (l[i].b > Y)//\u622a\u8ddd=0\uff0c\u82e5\u4f4e\u4e8e\u8fd9\u6761\u7ebf\uff0c\u5219\u5fc5\u4e0d\u5b58\u5728\u9634\u5f71\u533a\u95f4\n\t\t\t{\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\treturn R - L >= 1e-8;//\u8fd4\u56de\u53f3\u533a\u95f4\u662f\u5426\u5927\u4e8e\u5de6\u533a\u95f4\n}\nint main()\n{\n\tcin >> N;\n\tfor (int i = 1; i <= N; i++)\n\t{\n\t\tcin >> x[i] >> y[i];//\u8f93\u5165\n\t}\n\tN--;\n\tfor (int i = 1; i <= N; i++)//\u7b97\u51fa\u6765\u659c\u7387\u4e0e\u622a\u8ddd\n\t{\n\t\tl[i].k = (1.0) * (y[i] - y[i + 1]) / (x[i] - x[i + 1]);\n\t\tl[i].b = (1.0) * y[i] - x[i] * l[i].k;\n\t}\n\tdouble l = 0, r = INF;\n\twhile (r - l >= 1e-8)//\u4e8c\u5206\u67e5\u627e\u6700\u5c0fY\u503c\n\t{\n\t\tdouble mid = (l + r) / 2.0;\n\t\tif (judge(mid))\n\t\t{\n\t\t\tans = mid;\n\t\t\tr = mid;\n            //\u4e0d\u80fd\u662fmid-1\uff0c\u56e0\u4e3aY\u662f\u5c0f\u6570\uff0c\u4e0d\u6562\u8bf4(mid-1)~mid \u4e4b\u95f4\u6ca1\u6709\u7b54\u6848\n\t\t}\n\t\telse\n\t\t{\n\t\t\tl = mid;\n\t\t}\n\t}\n\tprintf(\"%.2lf\\n\", ans);\n}\n```\n",
        "postTime": 1600172086,
        "uid": 150879,
        "name": "quest_2",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1663 \u3010\u5c71\u3011"
    },
    {
        "content": "\u5206\u4eab\u4e00\u79cd\u65f6\u95f4\u590d\u6742\u5ea6 $O\\left(N\\log N\\right)$\uff08\u4e0d\u662f\u5176\u4ed6\u9898\u89e3\u7684 $O\\left(N\\log ans\\right)$\uff09\u7684\u505a\u6cd5\uff0c\u7406\u8bba\u4e0a\u53ef\u4ee5\u8dd1\u8fc7 $N=5\\times 10^6$ \u751a\u81f3\u66f4\u5927\u7684\u6570\u636e\u3002\r\n\r\n\u9996\u5148\u6211\u4eec\u89c2\u5bdf\u8fd9\u5f20\u56fe\u3002\r\n\r\n![](https://cdn.luogu.com.cn/upload/image_hosting/v7yrcevs.png)\r\n\r\n\u53d1\u73b0\u5bf9\u4e8e\u84dd\u8272\u7ebf\u6bb5\uff0c\u53ea\u6709\u7ea2\u8272\u76f4\u7ebf\u4e0a\u4fa7\u7684\u70b9\u80fd\u770b\u5230\u8fd9\u6761\u7ebf\u6bb5\u3002\r\n\r\n\u800c\u6211\u4eec\u60f3\u8981\u6240\u6709\u7684\u7ebf\u6bb5\u90fd\u88ab\u770b\u5230\uff0c\u4e8e\u662f\u5bf9\u6240\u6709\u7ebf\u6bb5\u6240\u5bf9\u5e94\u7684\u76f4\u7ebf\u4e0a\u4fa7\u6c42 [\u534a\u5e73\u9762\u4ea4](https://www.luogu.com.cn/problem/P4196)\uff0c\u7b54\u6848\u5c31\u662f\u6240\u5f97\u56fe\u5f62\u7684\u6700\u4f4e\u70b9\u3002\r\n\r\n\u5728\u672c\u9898\u4e2d\u6c42\u534a\u5e73\u9762\u4ea4\u65f6\u7ef4\u62a4\u7684\u4e00\u5b9a\u662f\u4e00\u4e2a\u4e0b\u51f8\u58f3\uff0c\u90a3\u4e48\u7b54\u6848\u5fc5\u7136\u662f\u4e0b\u51f8\u58f3\u5176\u4e2d\u4e00\u4e2a\u9876\u70b9\u7684 $y$ \u5750\u6807\u3002\r\n\r\n\u65f6\u95f4\u590d\u6742\u5ea6\u5206\u6790\uff1a\u534a\u5e73\u9762\u4ea4\u6838\u5fc3\u4ee3\u7801 $O\\left(N\\right)$\uff0c\u6392\u5e8f $O\\left(N\\log N\\right)$\uff0c\u603b\u590d\u6742\u5ea6 $O\\left(N\\log N\\right)$\u3002\r\n\r\n\u6ce8\u610f\u4e00\u4e2a\u5c0f\u7ec6\u8282\uff0c\u9898\u76ee\u4e2d\u8bf4\u706f\u5fc5\u987b\u8981\u88c5\u5728\u5c71\u4e0a\uff0c\u4e8e\u662f\u52a0\u4e24\u4e2a\u534a\u5e73\u9762 $x\\ge X_1$ \u548c $x\\le X_N$ \u4f5c\u4e3a\u9650\u5236\u3002\r\n\r\n\u4ee3\u7801\u5982\u4e0b\u3002\r\n\r\n```cpp\r\n#include<bits/stdc++.h>\r\nconst double eps=1e-9;\r\nusing namespace std;\r\nstruct vec{\r\n\tdouble x,y;\r\n\tvec(const double&x_=0,const double&y_=0){x=x_,y=y_;}\r\n\tvec operator+(const vec&b)const{return vec(x+b.x,y+b.y);}\r\n\tvec operator-(const vec&b)const{return vec(x-b.x,y-b.y);}\r\n\tdouble operator*(const vec&b)const{return  x*b.x+y*b.y ;}\r\n\tdouble times    (const vec&b)const{return  x*b.y-y*b.x ;}\r\n\tvoid print()const{cout<<'('<<x<<','<<y<<')'<<endl;}\r\n\tdouble deg()const{return::atan2(x,y);}\r\n};\r\nstruct segment{\r\n\tvec OA,OB;\r\n\tvec AB()const{return OB-OA;}\r\n\tsegment(vec OA_=vec(),vec OB_=vec()){OA=OA_,OB=OB_;}\r\n\tbool is_cw(const vec&b)const{return AB().times(b-OA)<-eps;}\r\n\tvec inter(const segment&b)const{\r\n\t\tdouble a_1,b_1,c_1;\r\n\t\tif(fabs(  AB().x)<eps) a_1=1,b_1=0,c_1=  OA.x;\r\n\t\telse{\r\n\t\t\ta_1=  OA.y       /(  OA.x-  OB.x)+\r\n\t\t\t      OB.y       /(  OB.x-  OA.x);\r\n\t\t\tc_1=  OA.y*  OB.x/(  OA.x-  OB.x)+\r\n\t\t\t      OB.y*  OA.x/(  OB.x-  OA.x);\r\n\t\t\tb_1=-1;\r\n\t\t}\r\n\t\tdouble a_2,b_2,c_2;\r\n\t\tif(fabs(b.AB().x)<eps) a_2=1,b_2=0,c_2=b.OA.x;\r\n\t\telse{\r\n\t\t\ta_2=b.OA.y       /(b.OA.x-b.OB.x)+\r\n\t\t\t    b.OB.y       /(b.OB.x-b.OA.x);\r\n\t\t\tc_2=b.OA.y*b.OB.x/(b.OA.x-b.OB.x)+\r\n\t\t\t    b.OB.y*b.OA.x/(b.OB.x-b.OA.x);\r\n\t\t\tb_2=-1;\r\n\t\t}\r\n\t\tdouble d=vec(a_1,b_1).times(vec(a_2,b_2));\r\n\t\treturn vec(\r\n\t\t\tvec(c_1,b_1).times(vec(c_2,b_2))/d,\r\n\t\t\tvec(a_1,c_1).times(vec(a_2,c_2))/d\r\n\t\t);\r\n\t}\r\n\tbool operator<(const segment&b)const{\r\n\t\treturn AB().deg()<b.AB().deg();\r\n\t}\r\n};\r\nconstexpr int maxn=5005;\r\nint N,M,K;vec A[maxn];double Ans=INFINITY;\r\nsegment P[maxn],Seg[maxn];deque<segment>Q;\r\nvec  back_point(){return(----Q.end())->inter(*--Q.end());}\r\nvec front_point(){return(++Q.begin())->inter(*Q.begin());}\r\nint read(){\r\n\tint f=1,ret=0;char ch=getchar();\r\n\twhile(!isdigit(ch)){if(ch=='-')f=-f; ch=getchar();}\r\n\twhile( isdigit(ch)) ret=(ret<<3)+(ret<<1)+(ch&15),ch=getchar();\r\n\treturn f*ret;\r\n}\r\nint main(){\r\n\tN=read()+2;\r\n\tfor(int i=2;i< N;i++) scanf(\"%lf%lf\",&A[i].x,&A[i].y);\r\n\tA[1].x=A[2].x,A[1].y=A[2].y+1,A[N].x=A[N-1].x,A[N].y=A[N-1].y+1;\r\n\tfor(int i=1;i< N;i++) P[++K]=segment(A[i],A[i+1]);\r\n\tsort(P+1,P+K+1);\r\n\treverse(P+1,P+K+1);\r\n\tfor(int i=1;i<=K;i++){\r\n\t\twhile(Q.size()>1&&P[i].is_cw( back_point())) Q.pop_back ();\r\n\t\twhile(Q.size()>1&&P[i].is_cw(front_point())) Q.pop_front();\r\n\t\twhile(Q.size()&&fabs(P[i].AB().deg()-Q.back().AB().deg())<eps\r\n\t\t      &&P[i].is_cw(Q.back().OA)) Q.pop_back();\r\n\t\tif(Q.empty()||fabs(Q.back().AB().deg()-P[i].AB().deg())>eps)\r\n\t\t\tQ.push_back(P[i]);\r\n\t\tif(Q.size()>1&&Q.front().is_cw(back_point())) Q.pop_back();\r\n\t}\r\n\tif(Q.size()>=2){\r\n\t\tK=0;for(auto&x:Q) Seg[++K]=x;\r\n\t\tfor(int i=1;i< K;i++) if(abs(Seg[i].AB().deg()-Seg[i+1].AB().deg())>eps)\r\n\t\t\tAns=min(Ans,Seg[i].inter(Seg[i+1]).y);\r\n\t}\r\n\tprintf(\"%.2lf\\n\",Ans);\r\n\treturn 0;\r\n}\r\n```",
        "postTime": 1665734079,
        "uid": 173951,
        "name": "rb_tree",
        "ccfLevel": 7,
        "title": "P1663 \u5c71 \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u5173\u4e8e\u76f4\u7ebf\u7684\u6570\u5b66\u9898\uff0c\u8fd8\u662f\u4e0d\u9519\u7684\u3002\n\n~~\u4f46\u662f\u4e2a\u4eba\u611f\u89c9\u8bc4\u7eff\u4f3c\u4e4e\u66f4\u597d\u4e00\u70b9\u4e9b~~\n\n#### \u9898\u89e3\u6b63\u6587\uff1a\n\n\u5c06\u76f8\u90bb\u7684\u4e24\u70b9\u8fde\u4e00\u6761\u76f4\u7ebf\uff0c\u663e\u7136\u706f\u5fc5\u987b\u8981\u5b89\u88c5\u5728\u6240\u6709\u76f4\u7ebf\u7684\u4e0a\u65b9\uff0c\u5426\u5219\u5728\u76f4\u7ebf\u4e0a\u7684\u4e24\u70b9\u603b\u6709\u4e00\u70b9\u4e0d\u80fd\u88ab\u7167\u5230\u3002\n\n\u8003\u8651\u4e8c\u5206\u706f\u7684\u7eb5\u5750\u6807 $y_0$\uff0c\u7136\u540e\u5224\u65ad\u662f\u5426\u5b58\u5728 $x_0$ \u6ee1\u8db3\u706f\u6240\u5728\u7684\u70b9 $(x_0,y_0)$\uff0c\u5728\u6240\u6709\u76f4\u7ebf\u4e0a\u65b9\u3002\n\n\u5982\u4f55\u5224\u65ad\u5462\uff1f\n\n\u663e\u7136\u4e0d\u5b58\u5728\u659c\u7387\u4e0d\u5b58\u5728\u7684\u60c5\u51b5\u3002\n\n\u5bf9\u4e8e\u6240\u6709**\u6c34\u5e73**\u7684\u76f4\u7ebf $y=a$\uff0c$x_0>a$ \u5373\u53ef\u3002 \n\n\u5bf9\u4e8e\u6240\u6709**\u659c\u7387\u5927\u4e8e $0$\u200b **\u7684\u76f4\u7ebf\uff0c$x_0$\u200b \u5fc5\u987b\u8981\u5c0f\u4e8e\u8fd9\u6761\u76f4\u7ebf\u4e0e $y=y_0$\u200b \u7684\u4ea4\u70b9\u7684\u6a2a\u5750\u6807\u3002\n\n\u5982\u4e0b\u56fe\uff0c\u7ea2\u70b9\u4e3a\u5c71\u7684\u6298\u70b9\uff0c\u706f\u7684\u4f4d\u7f6e $(x_0,y_0)$ \u9700\u5728\u56fe\u4e2d\u7eff\u70b9\u5de6\u4fa7\u3002\n\n$x_0$ \u9700\u8981\u6bd4\u6240\u6709\u4ea4\u70b9\u7684\u6a2a\u5750\u6807\u5c0f\uff0c\u5373\u8981\u5c0f\u4e8e\u4ea4\u70b9\u6a2a\u5750\u6807\u7684\u6700\u5c0f\u503c\uff0c\u5c06\u5176\u8bb0\u4e3a $x_{r}$\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pfjydg5s.png?x-oss-process=image/resize,m_lfit,h_250,w_250)\n\n\u540c\u7406\uff0c\u5bf9\u4e8e\u6240\u6709**\u659c\u7387\u5c0f\u4e8e $0$\u200b\u200b **\u7684\u76f4\u7ebf\uff0c$x_0$\u200b \u8981\u5927\u4e8e\u6240\u6709\u8fd9\u4e9b\u76f4\u7ebf\u4e0e $y=y_0$\u200b \u4ea4\u70b9\u6a2a\u5750\u6807\u7684\u6700\u5927\u503c\uff0c\u8bb0\u4e3a $x_l$\u3002\n\n\u53ea\u6709\u5728 $x_l < x_r$\uff0c\u4e14 $y_0$ \u6bd4\u6240\u6709\u6c34\u5e73\u76f4\u7ebf $y=a$ \u4e2d\u7684 $a$ \u5927\u65f6\u5b58\u5728 $x_0$\u200b \u7b26\u5408\u9898\u610f\u3002\n\n\u5176\u5b9e\u8fd9\u91cc\u7684 $x_l<x_r$ \u4ee5\u53ca $y_0>a$ \u80fd\u4e0d\u80fd\u53d6\u7b49\u662f\u4e0d\u5f71\u54cd\u7b54\u6848\u7684\u3002\u200b\n\n\u4e3a\u4e86\u65b9\u4fbf\uff0c\u5728\u8ba1\u7b97\u65f6\u6211\u5c06\u76f4\u7ebf\u89e3\u6790\u5f0f\u5b9a\u4e49\u4e3a $x=ky+b$\uff0c\u8fd9\u6837\u53ef\u4ee5\u65b9\u4fbf\u8ba1\u7b97\u51fa\u4ea4\u70b9\u7684\u6a2a\u5750\u6807\u4e3a\u5f53 $y=y_0$ \u65f6 $x$\u200b\u200b \u7684\u503c\u3002\n\n#### AC\u4ee3\u7801\n\n\u4ee3\u7801\u5e94\u8be5\u5f88\u597d\u7406\u89e3\uff0c\u4e0d\u653e\u6ce8\u91ca\u4e86\u3002\n\n```c++\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAXN=5010;\nconst double MAXANS=1000010;\nint n;\ndouble x[MAXN],y[MAXN];\nbool check(double mid) {\n\tdouble xmin=-0x3f3f3f3f,xmax=0x3f3f3f3f;\n\tfor(int i=2;i<=n;++i) {\n\t\tif(y[i]>y[i-1])\n\t\t\txmax=min(xmax,(x[i]-x[i-1])/(y[i]-y[i-1])*mid-(x[i]-x[i-1])/(y[i]-y[i-1])*y[i]+x[i]);\n\t\tif(y[i]==y[i-1])\n\t\t\tif(y[i]>mid) return false;\n\t\tif(y[i]<y[i-1])\n\t\t\txmin=max(xmin,(x[i]-x[i-1])/(y[i]-y[i-1])*mid-(x[i]-x[i-1])/(y[i]-y[i-1])*y[i]+x[i]);\n\t\tif(xmax<xmin) return false;\n\t}\n\treturn true;\n}\nint main() {\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;++i)\n\t\tscanf(\"%lf%lf\",&x[i],&y[i]);\n\tdouble l=1,r=MAXANS,mid;\n\twhile(r-l>0.001) {\n\t\tmid=(l+r)/2;\n\t\tif(check(mid)) r=mid;\n\t\telse l=mid;\n\t}\n\tprintf(\"%.2lf\",mid);\n\treturn 0;\n}\n```\n\n[AC\u8bb0\u5f55](https://www.luogu.com.cn/record/54735109)\n\n",
        "postTime": 1628002499,
        "uid": 369836,
        "name": "\u9cb6\u9c7c\u7684\u5fe0\u5b9e\u7c89",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1663 \u5c71"
    },
    {
        "content": "### \u672c\u9898\u524d\u7f6e\u77e5\u8bc6 :\n1. \u659c\u7387 ( Slope ) \uff1a\u5f53\u76f4\u7ebf$L$\u7684\u659c\u7387\u5b58\u5728\u65f6\uff0c\u5bf9\u4e8e\u4e00\u6b21\u51fd\u6570 $y$ = $kx$ + $b$ \uff08\u659c\u622a\u5f0f\uff09\uff0c$k$\u5373\u8be5\u51fd\u6570\u56fe\u50cf\u7684\u659c\u7387\u3002  \n2. \u4e8c\u5206\u7b54\u6848\uff08\u8fd9\u5e94\u8be5\u4e0d\u7528\u8bf4\u5427\uff0c\u6765\u505a\u84dd\u9898\u7684\u4eba\u5e94\u8be5\u90fd\u4f1a\uff09\n\n### \u9898\u610f\n```\n\u7ed9\u51fan\u4e2a\u70b9\u76f8\u8fde\u5f62\u6210\u4e00\u6761\u6298\u7ebf\u3002\n\u8981\u6c42\u627e\u5230\u4e00\u4e2a\u70b9\u4f7f\u5f97\u5b83\u4f4d\u4e8e\u6bcf\u4e00\u6bb5\u7ebf\u6bb5\u7684\u4e0a\u65b9\u4e14y\u503c\u6700\u5c0f\u3002\n```\n\u5982\u4f55\u7406\u89e3\u5728\u6bcf\u4e00\u6761\u7ebf\u6bb5\u4e0a\u65b9\u5462\uff1f\n![](https://cdn.luogu.com.cn/upload/image_hosting/e5xgthdr.png)\n\n### \u601d\u8def\n- \u5148\u8f6c\u6362\u95ee\u9898\uff0c\u8003\u8651\u6c422\u6761\u7ebf\u6bb5\u7684\u4e0a\u65b9\uff0c\u5219\u7b26\u5408\u6761\u4ef6\u7684\u70b9\u90fd\u57282\u6761\u76f4\u7ebf\u4e0a\u65b9\uff0c\u4e5f\u5c31\u662f\u5904\u4e8e\u7ebf\u6bb5\u4ea4\u7684\u4e0a\u65b9\uff0c\u6b64\u65f6\u663e\u7136\u7b26\u5408\u6761\u4ef6\u7684\u70b9\u662f\u4e24\u6761\u7ebf\u6bb5\u7684\u4ea4\u70b9\u3002\n- \u95ee\u9898\u6765\u4e86\uff0c\u8981\u89e3\u51b3\u8fd9\u4e2a\u9898\u76ee\uff0c\u9996\u5148\u8981\u6c42\u51fa\u4ec0\u4e48\u70b9\u5728\u76f4\u7ebf\u4e0a\u65b9\u3002\u90a3\u4e48\u600e\u4e48\u786e\u5b9a\u70b9\u662f\u5426\u5728\u76f4\u7ebf\u4e0a\u65b9\u5462\uff1f\n- \u9996\u5148\uff0c\u6211\u4eec\u5148\u6c42\u51fa\u70b9 ($x_n,y_n$) \u548c\u70b9 ($x_{n-1},y_{n-1}$)\u7684\u89e3\u6790\u5f0f\u3002\uff08\u516c\u5f0f\u5982\u4e0b\uff1a\u8bbe l :$y$ = $kx$ + $b$ , \u5219   \n  $$k = \\frac{y_n-y_{n-1}}{x_n - x_{n-1}}$$\n  $$b = y_n - kx_n$$\n- \u800c\u540e\u901a\u8fc7\u4e8c\u5206\u7b54\u6848\u6765\u679a\u4e3e\u6bcf\u4e2a\u76f4\u7ebf $ y = mid $\uff08\u9898\u76ee\u53ea\u8981\u6c42\u6c42\u6700\u5c0f\u7684 $y$ \u503c\uff09 ,\u5224\u65ad\u7b26\u4e0d\u7b26\u5408\u6761\u4ef6:  \n   1.\u659c\u7387 $k=0$ : \u5224\u65ad\u8be5\u76f4\u7ebf\u7684 $b$ \u662f\u5426\u5c0f\u4e8e $mid$ ;  \n   2.\u659c\u7387 $k>0$ \uff1a\u53d6\u8be5\u76f4\u7ebf\u4e0e\u76f4\u7ebf $ y = mid $ \u7684\u4ea4\u70b9\uff0c\u4fdd\u5b58\u6700\u5c0f\u503c\uff08\u7b26\u5408\u6761\u4ef6\u7684\u6700\u5de6\u7aef\uff09 \n   3.\u659c\u7387 $k<0$:   \u53d6\u8be5\u76f4\u7ebf\u4e0e\u76f4\u7ebf $ y = mid $ \u7684\u4ea4\u70b9\uff0c\u4fdd\u5b58\u6700\u5927\u503c\uff08\u7b26\u5408\u6761\u4ef6\u7684\u6700\u53f3\u7aef\uff09\n- \u5224\u65ad\u5728 $ k < 0 $ \u7b26\u5408\u6761\u4ef6\u7684\u6700\u5927\u503c\u662f\u5426\u5c0f\u4e8e\u5728 $k > 0$\u7b26\u5408\u6761\u4ef6\u7684\u6700\u5c0f\u503c,\u4e0d\u662f\u5219\u6807\u5fd7\u7740\u8fd9\u4e2a\u70b9\u4e0d\u6ee1\u8db3\u5728\u6240\u6709\u7ebf\u6bb5\u4e0a\u65b9\uff0c\u6392\u9664\uff0c\u8fd4\u56de false\u3002\n- \u8f93\u51fa\uff0c\u4fdd\u75592\u4f4d\u5c0f\u6570\u3002\n\n### \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int M(5e3+1);\nint n;\ndouble x[M],y[M],slope[M],b[M],ans;\ninline bool check(double x){\n\tdouble L(-2e9),R(2e9);\n\tfor(register int i(2);i<=n;++i)\n\t{\n\t\tif(slope[i]<0) L=max(L,(x-b[i])/slope[i]);\n\t\telse{\n\t\t\tif(slope[i]>0) R=min(R,(x-b[i])/slope[i]);\n\t\t\telse if(x<b[i]) return 0;\n\t\t}\n\t}\n\treturn L<=R;\n}\nsigned main(){\n\tios::sync_with_stdio(false);\n\tcin.tie(0);cout.tie(0);\n\tcin>>n;\n\tfor(register int i(1);i<=n;++i){\n\t\tcin>>x[i]>>y[i];\n\t\tslope[i]=(y[i]-y[i-1])/(x[i]-x[i-1]);\n\t\tb[i]=y[i]-slope[i]*x[i];\n\t}\n\tregister double l(0),r(2e9+1);\n\twhile(l<=r){\n\t\tdouble mid=(l+r)/2;\n\t\tif(check(mid))r=mid-0.0001,ans=mid;\n\t\telse l=mid+0.0001;\n\t}\n\tprintf(\"%.2lf\",ans);\n\treturn 0;\n}\n```\n### \u8865\u5145\u8bf4\u660e\n-  check \u51fd\u6570\u91cc\u4ece2\u5f00\u59cb\u662f\u56e0\u4e3a\u7b2c\u4e00\u4e2a\u70b9\u6ca1\u6709\u5de6\u8fb9\u7684\u7ebf\u6bb5\u3002\n-  2e9 \u662f\u4e4b\u524d WA \u4e86\uff0c\u8c03\u4ee3\u7801\u65f6\u4ee5\u4e3a\u662f\u8303\u56f4\u4e0d\u591f\u5927\u5f00\u7684\u3002",
        "postTime": 1618660017,
        "uid": 192615,
        "name": "_Yoimiya_",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011P1663-\u5c71"
    },
    {
        "content": "\u9898\u610f\u5f88\u597d\u61c2\uff0c\u7531\u4e8e\u6709x[i+1]>x[i]\u7684\u4fdd\u8bc1\uff0c\u53ef\u4ee5\u8f6c\u5316\u4e3a\u627e\u5230\u4e00\u4e2a\u6700\u4f4e\u70b9\u5728\u6240\u6709\u76f4\u7ebf\u4e0a\u65b9\u3002\u7528$f_i(x)$\u8868\u793a\u70b9i\u548c\u70b9i+1\u8054\u7acb\u7684\u76f4\u7ebf\uff0c\u4e0d\u96be\u53d1\u73b0\uff0c\u6240\u6709\u76f4\u7ebf\u7684\u4e0a\u65b9\u4ea4\u96c6$ y>=f_i(x)$\u7684\u8fb9\u754c$max$ { $f_i(x)$ }\u4e3a\u4e00\u4e2a\u4e0b\u51f8\u51fd\u6570\uff0c\u6211\u4eec\u8981\u627e\u7684\u5373\u662f\u51fd\u6570\u6700\u4f4e\u70b9\u3002\u901a\u8fc7\u4e09\u5206\u6cd5\u6c42\u6781\u503c\uff0c\u4fbf\u80fd\u5f97\u5230\u6700\u4f4e\u70b9\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define LL long long\ntemplate<class T>inline void read(T &aa) {\n  int k=0,f=1;char c=getchar();for(;!isdigit(c);c=getchar())if(c=='-')f=-1;\n  for(;isdigit(c);c=getchar()) k=(k<<3)+(k<<1)+(c-'0');aa=k*f;\n}\nconst int maxn = 5010;\nconst double eps = 1e-8;\nstruct P{P(){}double x,y;}A[maxn];\nint n;\ndouble getY(double x0){//\u83b7\u5f97\u6a2a\u5750\u6807\u4e3ax0\u65f6\u653e\u706f\u7684\u6700\u4f4e\u70b9 \n    double res = 0.0;\n    for(int i=1;i<n;++i){\n        res=max(res,A[i].y+(x0-A[i].x)*(A[i].y-A[i+1].y)/(A[i].x-A[i+1].x));//\u8054\u7acb\u70b9i\u4e0e\u70b9i+1\u5f97\u5230\u4e0b\u51f8\u51fd\u6570\u7684\u503c\n    }return res;\n}\nint main(void){\n    read(n);\n    for(int i=1;i!=n+1;++i)scanf(\"%lf%lf\",&A[i].x,&A[i].y);\n    //\u4e09\u5206\u6cd5\u6c42\u6781\u503c\uff08\u4fdd\u8bc1\u6781\u503c\u59cb\u7ec8\u5728l\u4e0er\u4e4b\u95f4\uff0c\u901a\u8fc7\u6bd4\u8f83m1\u548cm2\u7f29\u5c0f\u8303\u56f4\uff09 \n    double l=0.0,r=100000.0;\n    while(abs(l-r)>eps){\n        double m1 = (l+l+r)/3,m2 = (l+r+r)/3;\n        if(getY(m1)<getY(m2))r=m2;else l=m1;\n    }\n    printf(\"%.2lf\",getY(l));\n    return 0;\n}\n```",
        "postTime": 1539820792,
        "uid": 51189,
        "name": "Delva",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1663 \u3010\u5c71\u3011"
    },
    {
        "content": "\u8fd9\u9898\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u770b\u51fa\u6765\u662f\u4e8c\u5206\uff08\u867d\u7136\u6211\u770b\u4e0d\u51fa\u6765\uff09\n\n#\u4e8c\u5206\u679a\u4e3e\u7b54\u6848\uff01\n\n\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u6c42\u51faN-1\u6761\u7ebf\u6bb5\uff0c\u6bcf\u4e00\u6761\u7684\u51fd\u6570\u89e3\u6790\u5f0f\n\n\u53ea\u9700\u8981\u5f53\u524dy\u7684\u70b9\u53ef\u4ee5\u5b58\u5728\u4e8e\u6bcf\u4e00\u6761\u7ebf\u6bb5\u6240\u5728\u76f4\u7ebf\u7684\u5171\u540c\u4e0a\u65b9\u5373\u53ef\uff080~X[n]\u8303\u56f4\u5185\uff09\n\n\u5224\u65ad\u7684\u8fc7\u7a0b\uff1a\n\n\u7136\u540e\u6211\u4eec\u786e\u5b9a\u4e00\u4e2aL\u3001R\uff0c\u8868\u793a\u5f53\u524d\u7684\u9ad8\u5ea6\u53ef\u4ee5\u5b58\u5728\u7684\u8303\u56f4\uff08\u4e00\u6b21\u51fd\u6570\u4e00\u5b9a\u5b58\u5728\u8fde\u7eed\u7684\u8303\u56f4\uff09\n\n\u7136\u540e\u6211\u4eec\u8981\u5bf9y=kx+b\u4e2d\u7684k\u5206\u7c7b\u8ba8\u8bba\uff1a\n\n\u82e5k>0\uff0c\u90a3\u4e48\u7528y=mid\uff08\u9ad8\u5ea6\uff09\u4e0ey=kx+b\u7684\u4ea4\u70b9x\u53bb\u4fee\u6b63R\uff08\u5237\u6700\u5c0f\u503c\uff09\n\n\u82e5k<0\uff0c\u90a3\u4e48\u7528y=mid\uff08\u9ad8\u5ea6\uff09\u4e0ey=kx+b\u7684\u4ea4\u70b9x\u53bb\u4fee\u6b63L\uff08\u5237\u6700\u5927\u503c\uff09\n\n\u82e5k=0\uff0c\u5982\u679cb>=mid\uff0c\u90a3\u4e48\u9a8c\u8bc1\u6210\u7acb\uff0c\u5426\u5219\u76f4\u63a5\u8fd4\u56de\u4e0d\u6210\u7acb\u4fe1\u606f\n\n\u5982\u679c\u4e2d\u9014\u5b58\u5728L>R\u7684\u60c5\u51b5\uff0c\u8bf4\u660e\u4e0d\u5b58\u5728\u8be5mid\u9ad8\u5ea6\uff0c\u8fd4\u56de\u4e0d\u6210\u7acb\u4fe1\u606f\n\n\u82e5\u4ee5\u4e0a\u6761\u4ef6\u5747\u6ee1\u8db3\uff0c\u90a3\u4e48\u5219\u8be5mid\u6210\u7acb\uff0c\u6700\u540e\u53d6mid\u7684\u6700\u5c0f\u503c\n\n\u4e8c\u5206check()\u4ee3\u7801\u6bb5\u5982\u4e0b\u6240\u793a\uff1a\n\n``` cpp\ninline bool check(double YY)\n{\n    double L=0,R=x[n],XX;\n    for (int i=n;i>1;i--)\n    {\n        if (K[i]==0) {if (YY<B[i]) return 0; continue;}\n        XX=(YY-B[i])/K[i];\n        if (K[i]>0) R=min(R,XX); else L=max(L,XX);\n        if (L>R) return 0;\n    }\n    return 1;\n}\n```",
        "postTime": 1493803752,
        "uid": 25188,
        "name": "X_o_r",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1663 \u3010\u5c71\u3011"
    }
]